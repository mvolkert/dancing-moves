var oet=Object.defineProperty,set=Object.defineProperties,aet=Object.getOwnPropertyDescriptors,eL=Object.getOwnPropertySymbols,het=Object.prototype.hasOwnProperty,uet=Object.prototype.propertyIsEnumerable,iL=(_e,st,Ft)=>st in _e?oet(_e,st,{enumerable:!0,configurable:!0,writable:!0,value:Ft}):_e[st]=Ft,Dn=(_e,st)=>{for(var Ft in st||(st={}))het.call(st,Ft)&&iL(_e,Ft,st[Ft]);if(eL)for(var Ft of eL(st))uet.call(st,Ft)&&iL(_e,Ft,st[Ft]);return _e},Zl=(_e,st)=>set(_e,aet(st));(self.webpackChunkdancing_moves=self.webpackChunkdancing_moves||[]).push([[179],{46:(_e,st,Ft)=>{"use strict";const zt=st;zt.bignum=Ft(5314),zt.define=Ft(3147).define,zt.base=Ft(8305),zt.constants=Ft(8563),zt.decoders=Ft(3435),zt.encoders=Ft(9589)},3147:(_e,st,Ft)=>{"use strict";const zt=Ft(9589),Kt=Ft(3435),ft=Ft(3516);function E(K,Y){this.name=K,this.body=Y,this.decoders={},this.encoders={}}st.define=function(Y,ct){return new E(Y,ct)},E.prototype._createNamed=function(Y){const ct=this.name;function et(X){this._initNamed(X,ct)}return ft(et,Y),et.prototype._initNamed=function(U,at){Y.call(this,U,at)},new et(this)},E.prototype._getDecoder=function(Y){return this.decoders.hasOwnProperty(Y=Y||"der")||(this.decoders[Y]=this._createNamed(Kt[Y])),this.decoders[Y]},E.prototype.decode=function(Y,ct,et){return this._getDecoder(ct).decode(Y,et)},E.prototype._getEncoder=function(Y){return this.encoders.hasOwnProperty(Y=Y||"der")||(this.encoders[Y]=this._createNamed(zt[Y])),this.encoders[Y]},E.prototype.encode=function(Y,ct,et){return this._getEncoder(ct).encode(Y,et)}},2995:(_e,st,Ft)=>{"use strict";const zt=Ft(3516),Kt=Ft(5610).b,ft=Ft(7356).Buffer;function dt(K,Y){Kt.call(this,Y),ft.isBuffer(K)?(this.base=K,this.offset=0,this.length=K.length):this.error("Input not Buffer")}function E(K,Y){if(Array.isArray(K))this.length=0,this.value=K.map(function(ct){return E.isEncoderBuffer(ct)||(ct=new E(ct,Y)),this.length+=ct.length,ct},this);else if("number"==typeof K){if(!(0<=K&&K<=255))return Y.error("non-byte EncoderBuffer value");this.value=K,this.length=1}else if("string"==typeof K)this.value=K,this.length=ft.byteLength(K);else{if(!ft.isBuffer(K))return Y.error("Unsupported type: "+typeof K);this.value=K,this.length=K.length}}zt(dt,Kt),st.C=dt,dt.isDecoderBuffer=function(Y){return Y instanceof dt||"object"==typeof Y&&ft.isBuffer(Y.base)&&"DecoderBuffer"===Y.constructor.name&&"number"==typeof Y.offset&&"number"==typeof Y.length&&"function"==typeof Y.save&&"function"==typeof Y.restore&&"function"==typeof Y.isEmpty&&"function"==typeof Y.readUInt8&&"function"==typeof Y.skip&&"function"==typeof Y.raw},dt.prototype.save=function(){return{offset:this.offset,reporter:Kt.prototype.save.call(this)}},dt.prototype.restore=function(Y){const ct=new dt(this.base);return ct.offset=Y.offset,ct.length=this.offset,this.offset=Y.offset,Kt.prototype.restore.call(this,Y.reporter),ct},dt.prototype.isEmpty=function(){return this.offset===this.length},dt.prototype.readUInt8=function(Y){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(Y||"DecoderBuffer overrun")},dt.prototype.skip=function(Y,ct){if(!(this.offset+Y<=this.length))return this.error(ct||"DecoderBuffer overrun");const et=new dt(this.base);return et._reporterState=this._reporterState,et.offset=this.offset,et.length=this.offset+Y,this.offset+=Y,et},dt.prototype.raw=function(Y){return this.base.slice(Y?Y.offset:this.offset,this.length)},st.R=E,E.isEncoderBuffer=function(Y){return Y instanceof E||"object"==typeof Y&&"EncoderBuffer"===Y.constructor.name&&"number"==typeof Y.length&&"function"==typeof Y.join},E.prototype.join=function(Y,ct){return Y||(Y=ft.alloc(this.length)),ct||(ct=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function(et){et.join(Y,ct),ct+=et.length}):("number"==typeof this.value?Y[ct]=this.value:"string"==typeof this.value?Y.write(this.value,ct):ft.isBuffer(this.value)&&this.value.copy(Y,ct),ct+=this.length)),Y}},8305:(_e,st,Ft)=>{"use strict";const zt=st;zt.Reporter=Ft(5610).b,zt.DecoderBuffer=Ft(2995).C,zt.EncoderBuffer=Ft(2995).R,zt.Node=Ft(4878)},4878:(_e,st,Ft)=>{"use strict";const zt=Ft(5610).b,Kt=Ft(2995).R,ft=Ft(2995).C,dt=Ft(4725),E=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],K=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(E);function ct(X,U,at){const V={};this._baseState=V,V.name=at,V.enc=X,V.parent=U||null,V.children=null,V.tag=null,V.args=null,V.reverseArgs=null,V.choice=null,V.optional=!1,V.any=!1,V.obj=!1,V.use=null,V.useDecoder=null,V.key=null,V.default=null,V.explicit=null,V.implicit=null,V.contains=null,V.parent||(V.children=[],this._wrap())}_e.exports=ct;const et=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];ct.prototype.clone=function(){const U=this._baseState,at={};et.forEach(function($){at[$]=U[$]});const V=new this.constructor(at.parent);return V._baseState=at,V},ct.prototype._wrap=function(){const U=this._baseState;K.forEach(function(at){this[at]=function(){const $=new this.constructor(this);return U.children.push($),$[at].apply($,arguments)}},this)},ct.prototype._init=function(U){const at=this._baseState;dt(null===at.parent),U.call(this),at.children=at.children.filter(function(V){return V._baseState.parent===this},this),dt.equal(at.children.length,1,"Root node can have only one child")},ct.prototype._useArgs=function(U){const at=this._baseState,V=U.filter(function($){return $ instanceof this.constructor},this);U=U.filter(function($){return!($ instanceof this.constructor)},this),0!==V.length&&(dt(null===at.children),at.children=V,V.forEach(function($){$._baseState.parent=this},this)),0!==U.length&&(dt(null===at.args),at.args=U,at.reverseArgs=U.map(function($){if("object"!=typeof $||$.constructor!==Object)return $;const H={};return Object.keys($).forEach(function(G){G==(0|G)&&(G|=0),H[$[G]]=G}),H}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(X){ct.prototype[X]=function(){throw new Error(X+" not implemented for encoding: "+this._baseState.enc)}}),E.forEach(function(X){ct.prototype[X]=function(){const at=this._baseState,V=Array.prototype.slice.call(arguments);return dt(null===at.tag),at.tag=X,this._useArgs(V),this}}),ct.prototype.use=function(U){dt(U);const at=this._baseState;return dt(null===at.use),at.use=U,this},ct.prototype.optional=function(){return this._baseState.optional=!0,this},ct.prototype.def=function(U){const at=this._baseState;return dt(null===at.default),at.default=U,at.optional=!0,this},ct.prototype.explicit=function(U){const at=this._baseState;return dt(null===at.explicit&&null===at.implicit),at.explicit=U,this},ct.prototype.implicit=function(U){const at=this._baseState;return dt(null===at.explicit&&null===at.implicit),at.implicit=U,this},ct.prototype.obj=function(){const U=this._baseState,at=Array.prototype.slice.call(arguments);return U.obj=!0,0!==at.length&&this._useArgs(at),this},ct.prototype.key=function(U){const at=this._baseState;return dt(null===at.key),at.key=U,this},ct.prototype.any=function(){return this._baseState.any=!0,this},ct.prototype.choice=function(U){const at=this._baseState;return dt(null===at.choice),at.choice=U,this._useArgs(Object.keys(U).map(function(V){return U[V]})),this},ct.prototype.contains=function(U){const at=this._baseState;return dt(null===at.use),at.contains=U,this},ct.prototype._decode=function(U,at){const V=this._baseState;if(null===V.parent)return U.wrapResult(V.children[0]._decode(U,at));let J,$=V.default,H=!0,G=null;if(null!==V.key&&(G=U.enterKey(V.key)),V.optional){let z=null;if(null!==V.explicit?z=V.explicit:null!==V.implicit?z=V.implicit:null!==V.tag&&(z=V.tag),null!==z||V.any){if(H=this._peekTag(U,z,V.any),U.isError(H))return H}else{const nt=U.save();try{null===V.choice?this._decodeGeneric(V.tag,U,at):this._decodeChoice(U,at),H=!0}catch(Q){H=!1}U.restore(nt)}}if(V.obj&&H&&(J=U.enterObject()),H){if(null!==V.explicit){const nt=this._decodeTag(U,V.explicit);if(U.isError(nt))return nt;U=nt}const z=U.offset;if(null===V.use&&null===V.choice){let nt;V.any&&(nt=U.save());const Q=this._decodeTag(U,null!==V.implicit?V.implicit:V.tag,V.any);if(U.isError(Q))return Q;V.any?$=U.raw(nt):U=Q}if(at&&at.track&&null!==V.tag&&at.track(U.path(),z,U.length,"tagged"),at&&at.track&&null!==V.tag&&at.track(U.path(),U.offset,U.length,"content"),V.any||($=null===V.choice?this._decodeGeneric(V.tag,U,at):this._decodeChoice(U,at)),U.isError($))return $;if(!V.any&&null===V.choice&&null!==V.children&&V.children.forEach(function(Q){Q._decode(U,at)}),V.contains&&("octstr"===V.tag||"bitstr"===V.tag)){const nt=new ft($);$=this._getUse(V.contains,U._reporterState.obj)._decode(nt,at)}}return V.obj&&H&&($=U.leaveObject(J)),null===V.key||null===$&&!0!==H?null!==G&&U.exitKey(G):U.leaveKey(G,V.key,$),$},ct.prototype._decodeGeneric=function(U,at,V){const $=this._baseState;return"seq"===U||"set"===U?null:"seqof"===U||"setof"===U?this._decodeList(at,U,$.args[0],V):/str$/.test(U)?this._decodeStr(at,U,V):"objid"===U&&$.args?this._decodeObjid(at,$.args[0],$.args[1],V):"objid"===U?this._decodeObjid(at,null,null,V):"gentime"===U||"utctime"===U?this._decodeTime(at,U,V):"null_"===U?this._decodeNull(at,V):"bool"===U?this._decodeBool(at,V):"objDesc"===U?this._decodeStr(at,U,V):"int"===U||"enum"===U?this._decodeInt(at,$.args&&$.args[0],V):null!==$.use?this._getUse($.use,at._reporterState.obj)._decode(at,V):at.error("unknown tag: "+U)},ct.prototype._getUse=function(U,at){const V=this._baseState;return V.useDecoder=this._use(U,at),dt(null===V.useDecoder._baseState.parent),V.useDecoder=V.useDecoder._baseState.children[0],V.implicit!==V.useDecoder._baseState.implicit&&(V.useDecoder=V.useDecoder.clone(),V.useDecoder._baseState.implicit=V.implicit),V.useDecoder},ct.prototype._decodeChoice=function(U,at){const V=this._baseState;let $=null,H=!1;return Object.keys(V.choice).some(function(G){const J=U.save(),z=V.choice[G];try{const nt=z._decode(U,at);if(U.isError(nt))return!1;$={type:G,value:nt},H=!0}catch(nt){return U.restore(J),!1}return!0},this),H?$:U.error("Choice not matched")},ct.prototype._createEncoderBuffer=function(U){return new Kt(U,this.reporter)},ct.prototype._encode=function(U,at,V){const $=this._baseState;if(null!==$.default&&$.default===U)return;const H=this._encodeValue(U,at,V);return void 0===H||this._skipDefault(H,at,V)?void 0:H},ct.prototype._encodeValue=function(U,at,V){const $=this._baseState;if(null===$.parent)return $.children[0]._encode(U,at||new zt);let H=null;if(this.reporter=at,$.optional&&void 0===U){if(null===$.default)return;U=$.default}let G=null,J=!1;if($.any)H=this._createEncoderBuffer(U);else if($.choice)H=this._encodeChoice(U,at);else if($.contains)G=this._getUse($.contains,V)._encode(U,at),J=!0;else if($.children)G=$.children.map(function(z){if("null_"===z._baseState.tag)return z._encode(null,at,U);if(null===z._baseState.key)return at.error("Child should have a key");const nt=at.enterKey(z._baseState.key);if("object"!=typeof U)return at.error("Child expected, but input is not object");const Q=z._encode(U[z._baseState.key],at,U);return at.leaveKey(nt),Q},this).filter(function(z){return z}),G=this._createEncoderBuffer(G);else if("seqof"===$.tag||"setof"===$.tag){if(!$.args||1!==$.args.length)return at.error("Too many args for : "+$.tag);if(!Array.isArray(U))return at.error("seqof/setof, but data is not Array");const z=this.clone();z._baseState.implicit=null,G=this._createEncoderBuffer(U.map(function(nt){return this._getUse(this._baseState.args[0],U)._encode(nt,at)},z))}else null!==$.use?H=this._getUse($.use,V)._encode(U,at):(G=this._encodePrimitive($.tag,U),J=!0);if(!$.any&&null===$.choice){const z=null!==$.implicit?$.implicit:$.tag,nt=null===$.implicit?"universal":"context";null===z?null===$.use&&at.error("Tag could be omitted only for .use()"):null===$.use&&(H=this._encodeComposite(z,J,nt,G))}return null!==$.explicit&&(H=this._encodeComposite($.explicit,!1,"context",H)),H},ct.prototype._encodeChoice=function(U,at){const V=this._baseState,$=V.choice[U.type];return $||dt(!1,U.type+" not found in "+JSON.stringify(Object.keys(V.choice))),$._encode(U.value,at)},ct.prototype._encodePrimitive=function(U,at){const V=this._baseState;if(/str$/.test(U))return this._encodeStr(at,U);if("objid"===U&&V.args)return this._encodeObjid(at,V.reverseArgs[0],V.args[1]);if("objid"===U)return this._encodeObjid(at,null,null);if("gentime"===U||"utctime"===U)return this._encodeTime(at,U);if("null_"===U)return this._encodeNull();if("int"===U||"enum"===U)return this._encodeInt(at,V.args&&V.reverseArgs[0]);if("bool"===U)return this._encodeBool(at);if("objDesc"===U)return this._encodeStr(at,U);throw new Error("Unsupported tag: "+U)},ct.prototype._isNumstr=function(U){return/^[0-9 ]*$/.test(U)},ct.prototype._isPrintstr=function(U){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(U)}},5610:(_e,st,Ft)=>{"use strict";const zt=Ft(3516);function Kt(dt){this._reporterState={obj:null,path:[],options:dt||{},errors:[]}}function ft(dt,E){this.path=dt,this.rethrow(E)}st.b=Kt,Kt.prototype.isError=function(E){return E instanceof ft},Kt.prototype.save=function(){const E=this._reporterState;return{obj:E.obj,pathLen:E.path.length}},Kt.prototype.restore=function(E){const K=this._reporterState;K.obj=E.obj,K.path=K.path.slice(0,E.pathLen)},Kt.prototype.enterKey=function(E){return this._reporterState.path.push(E)},Kt.prototype.exitKey=function(E){const K=this._reporterState;K.path=K.path.slice(0,E-1)},Kt.prototype.leaveKey=function(E,K,Y){const ct=this._reporterState;this.exitKey(E),null!==ct.obj&&(ct.obj[K]=Y)},Kt.prototype.path=function(){return this._reporterState.path.join("/")},Kt.prototype.enterObject=function(){const E=this._reporterState,K=E.obj;return E.obj={},K},Kt.prototype.leaveObject=function(E){const K=this._reporterState,Y=K.obj;return K.obj=E,Y},Kt.prototype.error=function(E){let K;const Y=this._reporterState,ct=E instanceof ft;if(K=ct?E:new ft(Y.path.map(function(et){return"["+JSON.stringify(et)+"]"}).join(""),E.message||E,E.stack),!Y.options.partial)throw K;return ct||Y.errors.push(K),K},Kt.prototype.wrapResult=function(E){const K=this._reporterState;return K.options.partial?{result:this.isError(E)?null:E,errors:K.errors}:E},zt(ft,Error),ft.prototype.rethrow=function(E){if(this.message=E+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,ft),!this.stack)try{throw new Error(this.message)}catch(K){this.stack=K.stack}return this}},6596:(_e,st)=>{"use strict";function Ft(zt){const Kt={};return Object.keys(zt).forEach(function(ft){(0|ft)==ft&&(ft|=0),Kt[zt[ft]]=ft}),Kt}st.tagClass={0:"universal",1:"application",2:"context",3:"private"},st.tagClassByName=Ft(st.tagClass),st.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},st.tagByName=Ft(st.tag)},8563:(_e,st,Ft)=>{"use strict";const zt=st;zt._reverse=function(ft){const dt={};return Object.keys(ft).forEach(function(E){(0|E)==E&&(E|=0),dt[ft[E]]=E}),dt},zt.der=Ft(6596)},7115:(_e,st,Ft)=>{"use strict";const zt=Ft(3516),Kt=Ft(5314),ft=Ft(2995).C,dt=Ft(4878),E=Ft(6596);function K(X){this.enc="der",this.name=X.name,this.entity=X,this.tree=new Y,this.tree._init(X.body)}function Y(X){dt.call(this,"der",X)}function ct(X,U){let at=X.readUInt8(U);if(X.isError(at))return at;const V=E.tagClass[at>>6],$=0==(32&at);if(31==(31&at)){let G=at;for(at=0;128==(128&G);){if(G=X.readUInt8(U),X.isError(G))return G;at<<=7,at|=127&G}}else at&=31;return{cls:V,primitive:$,tag:at,tagStr:E.tag[at]}}function et(X,U,at){let V=X.readUInt8(at);if(X.isError(V))return V;if(!U&&128===V)return null;if(0==(128&V))return V;const $=127&V;if($>4)return X.error("length octect is too long");V=0;for(let H=0;H<$;H++){V<<=8;const G=X.readUInt8(at);if(X.isError(G))return G;V|=G}return V}_e.exports=K,K.prototype.decode=function(U,at){return ft.isDecoderBuffer(U)||(U=new ft(U,at)),this.tree._decode(U,at)},zt(Y,dt),Y.prototype._peekTag=function(U,at,V){if(U.isEmpty())return!1;const $=U.save(),H=ct(U,'Failed to peek tag: "'+at+'"');return U.isError(H)?H:(U.restore($),H.tag===at||H.tagStr===at||H.tagStr+"of"===at||V)},Y.prototype._decodeTag=function(U,at,V){const $=ct(U,'Failed to decode tag of "'+at+'"');if(U.isError($))return $;let H=et(U,$.primitive,'Failed to get length of "'+at+'"');if(U.isError(H))return H;if(!V&&$.tag!==at&&$.tagStr!==at&&$.tagStr+"of"!==at)return U.error('Failed to match tag: "'+at+'"');if($.primitive||null!==H)return U.skip(H,'Failed to match body of: "'+at+'"');const G=U.save(),J=this._skipUntilEnd(U,'Failed to skip indefinite length body: "'+this.tag+'"');return U.isError(J)?J:(H=U.offset-G.offset,U.restore(G),U.skip(H,'Failed to match body of: "'+at+'"'))},Y.prototype._skipUntilEnd=function(U,at){for(;;){const V=ct(U,at);if(U.isError(V))return V;const $=et(U,V.primitive,at);if(U.isError($))return $;let H;if(H=V.primitive||null!==$?U.skip($):this._skipUntilEnd(U,at),U.isError(H))return H;if("end"===V.tagStr)break}},Y.prototype._decodeList=function(U,at,V,$){const H=[];for(;!U.isEmpty();){const G=this._peekTag(U,"end");if(U.isError(G))return G;const J=V.decode(U,"der",$);if(U.isError(J)&&G)break;H.push(J)}return H},Y.prototype._decodeStr=function(U,at){if("bitstr"===at){const V=U.readUInt8();return U.isError(V)?V:{unused:V,data:U.raw()}}if("bmpstr"===at){const V=U.raw();if(V.length%2==1)return U.error("Decoding of string type: bmpstr length mismatch");let $="";for(let H=0;H<V.length/2;H++)$+=String.fromCharCode(V.readUInt16BE(2*H));return $}if("numstr"===at){const V=U.raw().toString("ascii");return this._isNumstr(V)?V:U.error("Decoding of string type: numstr unsupported characters")}if("octstr"===at)return U.raw();if("objDesc"===at)return U.raw();if("printstr"===at){const V=U.raw().toString("ascii");return this._isPrintstr(V)?V:U.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(at)?U.raw().toString():U.error("Decoding of string type: "+at+" unsupported")},Y.prototype._decodeObjid=function(U,at,V){let $;const H=[];let G=0,J=0;for(;!U.isEmpty();)J=U.readUInt8(),G<<=7,G|=127&J,0==(128&J)&&(H.push(G),G=0);if(128&J&&H.push(G),$=V?H:[H[0]/40|0,H[0]%40].concat(H.slice(1)),at){let Q=at[$.join(" ")];void 0===Q&&(Q=at[$.join(".")]),void 0!==Q&&($=Q)}return $},Y.prototype._decodeTime=function(U,at){const V=U.raw().toString();let $,H,G,J,z,nt;if("gentime"===at)$=0|V.slice(0,4),H=0|V.slice(4,6),G=0|V.slice(6,8),J=0|V.slice(8,10),z=0|V.slice(10,12),nt=0|V.slice(12,14);else{if("utctime"!==at)return U.error("Decoding "+at+" time is not supported yet");$=0|V.slice(0,2),H=0|V.slice(2,4),G=0|V.slice(4,6),J=0|V.slice(6,8),z=0|V.slice(8,10),nt=0|V.slice(10,12),$=$<70?2e3+$:1900+$}return Date.UTC($,H-1,G,J,z,nt,0)},Y.prototype._decodeNull=function(){return null},Y.prototype._decodeBool=function(U){const at=U.readUInt8();return U.isError(at)?at:0!==at},Y.prototype._decodeInt=function(U,at){const V=U.raw();let $=new Kt(V);return at&&($=at[$.toString(10)]||$),$},Y.prototype._use=function(U,at){return"function"==typeof U&&(U=U(at)),U._getDecoder("der").tree}},3435:(_e,st,Ft)=>{"use strict";const zt=st;zt.der=Ft(7115),zt.pem=Ft(9796)},9796:(_e,st,Ft)=>{"use strict";const zt=Ft(3516),Kt=Ft(7356).Buffer,ft=Ft(7115);function dt(E){ft.call(this,E),this.enc="pem"}zt(dt,ft),_e.exports=dt,dt.prototype.decode=function(K,Y){const ct=K.toString().split(/[\r\n]+/g),et=Y.label.toUpperCase(),X=/^-----(BEGIN|END) ([^-]+)-----$/;let U=-1,at=-1;for(let H=0;H<ct.length;H++){const G=ct[H].match(X);if(null!==G&&G[2]===et){if(-1!==U){if("END"!==G[1])break;at=H;break}if("BEGIN"!==G[1])break;U=H}}if(-1===U||-1===at)throw new Error("PEM section not found for: "+et);const V=ct.slice(U+1,at).join("");V.replace(/[^a-z0-9+/=]+/gi,"");const $=Kt.from(V,"base64");return ft.prototype.decode.call(this,$,Y)}},4857:(_e,st,Ft)=>{"use strict";const zt=Ft(3516),Kt=Ft(7356).Buffer,ft=Ft(4878),dt=Ft(6596);function E(et){this.enc="der",this.name=et.name,this.entity=et,this.tree=new K,this.tree._init(et.body)}function K(et){ft.call(this,"der",et)}function Y(et){return et<10?"0"+et:et}_e.exports=E,E.prototype.encode=function(X,U){return this.tree._encode(X,U).join()},zt(K,ft),K.prototype._encodeComposite=function(X,U,at,V){const $=function(et,X,U,at){let V;if("seqof"===et?et="seq":"setof"===et&&(et="set"),dt.tagByName.hasOwnProperty(et))V=dt.tagByName[et];else{if("number"!=typeof et||(0|et)!==et)return at.error("Unknown tag: "+et);V=et}return V>=31?at.error("Multi-octet tag encoding unsupported"):(X||(V|=32),V|=dt.tagClassByName[U||"universal"]<<6,V)}(X,U,at,this.reporter);if(V.length<128){const J=Kt.alloc(2);return J[0]=$,J[1]=V.length,this._createEncoderBuffer([J,V])}let H=1;for(let J=V.length;J>=256;J>>=8)H++;const G=Kt.alloc(2+H);G[0]=$,G[1]=128|H;for(let J=1+H,z=V.length;z>0;J--,z>>=8)G[J]=255&z;return this._createEncoderBuffer([G,V])},K.prototype._encodeStr=function(X,U){if("bitstr"===U)return this._createEncoderBuffer([0|X.unused,X.data]);if("bmpstr"===U){const at=Kt.alloc(2*X.length);for(let V=0;V<X.length;V++)at.writeUInt16BE(X.charCodeAt(V),2*V);return this._createEncoderBuffer(at)}return"numstr"===U?this._isNumstr(X)?this._createEncoderBuffer(X):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===U?this._isPrintstr(X)?this._createEncoderBuffer(X):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(U)||"objDesc"===U?this._createEncoderBuffer(X):this.reporter.error("Encoding of string type: "+U+" unsupported")},K.prototype._encodeObjid=function(X,U,at){if("string"==typeof X){if(!U)return this.reporter.error("string objid given, but no values map found");if(!U.hasOwnProperty(X))return this.reporter.error("objid not found in values map");X=U[X].split(/[\s.]+/g);for(let G=0;G<X.length;G++)X[G]|=0}else if(Array.isArray(X)){X=X.slice();for(let G=0;G<X.length;G++)X[G]|=0}if(!Array.isArray(X))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(X));if(!at){if(X[1]>=40)return this.reporter.error("Second objid identifier OOB");X.splice(0,2,40*X[0]+X[1])}let V=0;for(let G=0;G<X.length;G++){let J=X[G];for(V++;J>=128;J>>=7)V++}const $=Kt.alloc(V);let H=$.length-1;for(let G=X.length-1;G>=0;G--){let J=X[G];for($[H--]=127&J;(J>>=7)>0;)$[H--]=128|127&J}return this._createEncoderBuffer($)},K.prototype._encodeTime=function(X,U){let at;const V=new Date(X);return"gentime"===U?at=[Y(V.getUTCFullYear()),Y(V.getUTCMonth()+1),Y(V.getUTCDate()),Y(V.getUTCHours()),Y(V.getUTCMinutes()),Y(V.getUTCSeconds()),"Z"].join(""):"utctime"===U?at=[Y(V.getUTCFullYear()%100),Y(V.getUTCMonth()+1),Y(V.getUTCDate()),Y(V.getUTCHours()),Y(V.getUTCMinutes()),Y(V.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+U+" time is not supported yet"),this._encodeStr(at,"octstr")},K.prototype._encodeNull=function(){return this._createEncoderBuffer("")},K.prototype._encodeInt=function(X,U){if("string"==typeof X){if(!U)return this.reporter.error("String int or enum given, but no values map");if(!U.hasOwnProperty(X))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(X));X=U[X]}if("number"!=typeof X&&!Kt.isBuffer(X)){const $=X.toArray();!X.sign&&128&$[0]&&$.unshift(0),X=Kt.from($)}if(Kt.isBuffer(X)){let $=X.length;0===X.length&&$++;const H=Kt.alloc($);return X.copy(H),0===X.length&&(H[0]=0),this._createEncoderBuffer(H)}if(X<128)return this._createEncoderBuffer(X);if(X<256)return this._createEncoderBuffer([0,X]);let at=1;for(let $=X;$>=256;$>>=8)at++;const V=new Array(at);for(let $=V.length-1;$>=0;$--)V[$]=255&X,X>>=8;return 128&V[0]&&V.unshift(0),this._createEncoderBuffer(Kt.from(V))},K.prototype._encodeBool=function(X){return this._createEncoderBuffer(X?255:0)},K.prototype._use=function(X,U){return"function"==typeof X&&(X=X(U)),X._getEncoder("der").tree},K.prototype._skipDefault=function(X,U,at){const V=this._baseState;let $;if(null===V.default)return!1;const H=X.join();if(void 0===V.defaultBuffer&&(V.defaultBuffer=this._encodeValue(V.default,U,at).join()),H.length!==V.defaultBuffer.length)return!1;for($=0;$<H.length;$++)if(H[$]!==V.defaultBuffer[$])return!1;return!0}},9589:(_e,st,Ft)=>{"use strict";const zt=st;zt.der=Ft(4857),zt.pem=Ft(5695)},5695:(_e,st,Ft)=>{"use strict";const zt=Ft(3516),Kt=Ft(4857);function ft(dt){Kt.call(this,dt),this.enc="pem"}zt(ft,Kt),_e.exports=ft,ft.prototype.encode=function(E,K){const ct=Kt.prototype.encode.call(this,E).toString("base64"),et=["-----BEGIN "+K.label+"-----"];for(let X=0;X<ct.length;X+=64)et.push(ct.slice(X,X+64));return et.push("-----END "+K.label+"-----"),et.join("\n")}},5314:function(_e,st,Ft){!function(zt,Kt){"use strict";function ft(R,u){if(!R)throw new Error(u||"Assertion failed")}function dt(R,u){R.super_=u;var m=function(){};m.prototype=u.prototype,R.prototype=new m,R.prototype.constructor=R}function E(R,u,m){if(E.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,null!==R&&(("le"===u||"be"===u)&&(m=u,u=10),this._init(R||0,u||10,m||"be"))}var K;"object"==typeof zt?zt.exports=E:Kt.BN=E,E.BN=E,E.wordSize=26;try{K="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:Ft(950).Buffer}catch(R){}function Y(R,u){var m=R.charCodeAt(u);return m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:m-48&15}function ct(R,u,m){var y=Y(R,m);return m-1>=u&&(y|=Y(R,m-1)<<4),y}function et(R,u,m,y){for(var v=0,M=Math.min(R.length,m),S=u;S<M;S++){var I=R.charCodeAt(S)-48;v*=y,v+=I>=49?I-49+10:I>=17?I-17+10:I}return v}E.isBN=function(u){return u instanceof E||null!==u&&"object"==typeof u&&u.constructor.wordSize===E.wordSize&&Array.isArray(u.words)},E.max=function(u,m){return u.cmp(m)>0?u:m},E.min=function(u,m){return u.cmp(m)<0?u:m},E.prototype._init=function(u,m,y){if("number"==typeof u)return this._initNumber(u,m,y);if("object"==typeof u)return this._initArray(u,m,y);"hex"===m&&(m=16),ft(m===(0|m)&&m>=2&&m<=36);var v=0;"-"===(u=u.toString().replace(/\s+/g,""))[0]&&(v++,this.negative=1),v<u.length&&(16===m?this._parseHex(u,v,y):(this._parseBase(u,m,v),"le"===y&&this._initArray(this.toArray(),m,y)))},E.prototype._initNumber=function(u,m,y){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[67108863&u],this.length=1):u<4503599627370496?(this.words=[67108863&u,u/67108864&67108863],this.length=2):(ft(u<9007199254740992),this.words=[67108863&u,u/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),m,y)},E.prototype._initArray=function(u,m,y){if(ft("number"==typeof u.length),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var M,S,I=0;if("be"===y)for(v=u.length-1,M=0;v>=0;v-=3)this.words[M]|=(S=u[v]|u[v-1]<<8|u[v-2]<<16)<<I&67108863,this.words[M+1]=S>>>26-I&67108863,(I+=24)>=26&&(I-=26,M++);else if("le"===y)for(v=0,M=0;v<u.length;v+=3)this.words[M]|=(S=u[v]|u[v+1]<<8|u[v+2]<<16)<<I&67108863,this.words[M+1]=S>>>26-I&67108863,(I+=24)>=26&&(I-=26,M++);return this.strip()},E.prototype._parseHex=function(u,m,y){this.length=Math.ceil((u.length-m)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var I,M=0,S=0;if("be"===y)for(v=u.length-1;v>=m;v-=2)I=ct(u,m,v)<<M,this.words[S]|=67108863&I,M>=18?(M-=18,this.words[S+=1]|=I>>>26):M+=8;else for(v=(u.length-m)%2==0?m+1:m;v<u.length;v+=2)I=ct(u,m,v)<<M,this.words[S]|=67108863&I,M>=18?(M-=18,this.words[S+=1]|=I>>>26):M+=8;this.strip()},E.prototype._parseBase=function(u,m,y){this.words=[0],this.length=1;for(var v=0,M=1;M<=67108863;M*=m)v++;v--,M=M/m|0;for(var S=u.length-y,I=S%v,C=Math.min(S,S-I)+y,p=0,T=y;T<C;T+=v)p=et(u,T,T+v,m),this.imuln(M),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(0!==I){var it=1;for(p=et(u,T,u.length,m),T=0;T<I;T++)it*=m;this.imuln(it),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this.strip()},E.prototype.copy=function(u){u.words=new Array(this.length);for(var m=0;m<this.length;m++)u.words[m]=this.words[m];u.length=this.length,u.negative=this.negative,u.red=this.red},E.prototype.clone=function(){var u=new E(null);return this.copy(u),u},E.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},E.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},E.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},E.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var X=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],U=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],at=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function $(R,u,m){m.negative=u.negative^R.negative;var y=R.length+u.length|0;m.length=y,y=y-1|0;var v=0|R.words[0],M=0|u.words[0],S=v*M,C=S/67108864|0;m.words[0]=67108863&S;for(var p=1;p<y;p++){for(var T=C>>>26,it=67108863&C,Z=Math.min(p,u.length-1),W=Math.max(0,p-R.length+1);W<=Z;W++)T+=(S=(v=0|R.words[p-W|0])*(M=0|u.words[W])+it)/67108864|0,it=67108863&S;m.words[p]=0|it,C=0|T}return 0!==C?m.words[p]=0|C:m.length--,m.strip()}E.prototype.toString=function(u,m){var y;if(m=0|m||1,16===(u=u||10)||"hex"===u){y="";for(var v=0,M=0,S=0;S<this.length;S++){var I=this.words[S],C=(16777215&(I<<v|M)).toString(16);y=0!=(M=I>>>24-v&16777215)||S!==this.length-1?X[6-C.length]+C+y:C+y,(v+=2)>=26&&(v-=26,S--)}for(0!==M&&(y=M.toString(16)+y);y.length%m!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(u===(0|u)&&u>=2&&u<=36){var p=U[u],T=at[u];y="";var it=this.clone();for(it.negative=0;!it.isZero();){var Z=it.modn(T).toString(u);y=(it=it.idivn(T)).isZero()?Z+y:X[p-Z.length]+Z+y}for(this.isZero()&&(y="0"+y);y.length%m!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}ft(!1,"Base should be between 2 and 36")},E.prototype.toNumber=function(){var u=this.words[0];return 2===this.length?u+=67108864*this.words[1]:3===this.length&&1===this.words[2]?u+=4503599627370496+67108864*this.words[1]:this.length>2&&ft(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-u:u},E.prototype.toJSON=function(){return this.toString(16)},E.prototype.toBuffer=function(u,m){return ft(void 0!==K),this.toArrayLike(K,u,m)},E.prototype.toArray=function(u,m){return this.toArrayLike(Array,u,m)},E.prototype.toArrayLike=function(u,m,y){var v=this.byteLength(),M=y||Math.max(1,v);ft(v<=M,"byte array longer than desired length"),ft(M>0,"Requested array length <= 0"),this.strip();var C,p,S="le"===m,I=new u(M),T=this.clone();if(S){for(p=0;!T.isZero();p++)C=T.andln(255),T.iushrn(8),I[p]=C;for(;p<M;p++)I[p]=0}else{for(p=0;p<M-v;p++)I[p]=0;for(p=0;!T.isZero();p++)C=T.andln(255),T.iushrn(8),I[M-p-1]=C}return I},E.prototype._countBits=Math.clz32?function(u){return 32-Math.clz32(u)}:function(u){var m=u,y=0;return m>=4096&&(y+=13,m>>>=13),m>=64&&(y+=7,m>>>=7),m>=8&&(y+=4,m>>>=4),m>=2&&(y+=2,m>>>=2),y+m},E.prototype._zeroBits=function(u){if(0===u)return 26;var m=u,y=0;return 0==(8191&m)&&(y+=13,m>>>=13),0==(127&m)&&(y+=7,m>>>=7),0==(15&m)&&(y+=4,m>>>=4),0==(3&m)&&(y+=2,m>>>=2),0==(1&m)&&y++,y},E.prototype.bitLength=function(){var m=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+m},E.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,m=0;m<this.length;m++){var y=this._zeroBits(this.words[m]);if(u+=y,26!==y)break}return u},E.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},E.prototype.toTwos=function(u){return 0!==this.negative?this.abs().inotn(u).iaddn(1):this.clone()},E.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},E.prototype.isNeg=function(){return 0!==this.negative},E.prototype.neg=function(){return this.clone().ineg()},E.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},E.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var m=0;m<u.length;m++)this.words[m]=this.words[m]|u.words[m];return this.strip()},E.prototype.ior=function(u){return ft(0==(this.negative|u.negative)),this.iuor(u)},E.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},E.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},E.prototype.iuand=function(u){var m;m=this.length>u.length?u:this;for(var y=0;y<m.length;y++)this.words[y]=this.words[y]&u.words[y];return this.length=m.length,this.strip()},E.prototype.iand=function(u){return ft(0==(this.negative|u.negative)),this.iuand(u)},E.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},E.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},E.prototype.iuxor=function(u){var m,y;this.length>u.length?(m=this,y=u):(m=u,y=this);for(var v=0;v<y.length;v++)this.words[v]=m.words[v]^y.words[v];if(this!==m)for(;v<m.length;v++)this.words[v]=m.words[v];return this.length=m.length,this.strip()},E.prototype.ixor=function(u){return ft(0==(this.negative|u.negative)),this.iuxor(u)},E.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},E.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},E.prototype.inotn=function(u){ft("number"==typeof u&&u>=0);var m=0|Math.ceil(u/26),y=u%26;this._expand(m),y>0&&m--;for(var v=0;v<m;v++)this.words[v]=67108863&~this.words[v];return y>0&&(this.words[v]=~this.words[v]&67108863>>26-y),this.strip()},E.prototype.notn=function(u){return this.clone().inotn(u)},E.prototype.setn=function(u,m){ft("number"==typeof u&&u>=0);var y=u/26|0,v=u%26;return this._expand(y+1),this.words[y]=m?this.words[y]|1<<v:this.words[y]&~(1<<v),this.strip()},E.prototype.iadd=function(u){var m,y,v;if(0!==this.negative&&0===u.negative)return this.negative=0,m=this.isub(u),this.negative^=1,this._normSign();if(0===this.negative&&0!==u.negative)return u.negative=0,m=this.isub(u),u.negative=1,m._normSign();this.length>u.length?(y=this,v=u):(y=u,v=this);for(var M=0,S=0;S<v.length;S++)this.words[S]=67108863&(m=(0|y.words[S])+(0|v.words[S])+M),M=m>>>26;for(;0!==M&&S<y.length;S++)this.words[S]=67108863&(m=(0|y.words[S])+M),M=m>>>26;if(this.length=y.length,0!==M)this.words[this.length]=M,this.length++;else if(y!==this)for(;S<y.length;S++)this.words[S]=y.words[S];return this},E.prototype.add=function(u){var m;return 0!==u.negative&&0===this.negative?(u.negative=0,m=this.sub(u),u.negative^=1,m):0===u.negative&&0!==this.negative?(this.negative=0,m=u.sub(this),this.negative=1,m):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},E.prototype.isub=function(u){if(0!==u.negative){u.negative=0;var m=this.iadd(u);return u.negative=1,m._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var v,M,y=this.cmp(u);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(v=this,M=u):(v=u,M=this);for(var S=0,I=0;I<M.length;I++)S=(m=(0|v.words[I])-(0|M.words[I])+S)>>26,this.words[I]=67108863&m;for(;0!==S&&I<v.length;I++)S=(m=(0|v.words[I])+S)>>26,this.words[I]=67108863&m;if(0===S&&I<v.length&&v!==this)for(;I<v.length;I++)this.words[I]=v.words[I];return this.length=Math.max(this.length,I),v!==this&&(this.negative=1),this.strip()},E.prototype.sub=function(u){return this.clone().isub(u)};var H=function(u,m,y){var C,p,T,v=u.words,M=m.words,S=y.words,I=0,it=0|v[0],Z=8191&it,W=it>>>13,yt=0|v[1],wt=8191&yt,Vt=yt>>>13,Ut=0|v[2],At=8191&Ut,bt=Ut>>>13,qt=0|v[3],Rt=8191&qt,Dt=qt>>>13,Bt=0|v[4],Zt=8191&Bt,Lt=Bt>>>13,Ce=0|v[5],Ht=8191&Ce,me=Ce>>>13,Si=0|v[6],be=8191&Si,de=Si>>>13,je=0|v[7],Yt=8191&je,ee=je>>>13,Le=0|v[8],It=8191&Le,gt=Le>>>13,rt=0|v[9],Qt=8191&rt,ue=rt>>>13,Ze=0|M[0],ve=8191&Ze,Ie=Ze>>>13,on=0|M[1],ni=8191&on,ii=on>>>13,Xi=0|M[2],vi=8191&Xi,_i=Xi>>>13,Ln=0|M[3],Mi=8191&Ln,Ge=Ln>>>13,fn=0|M[4],Ei=8191&fn,Oe=fn>>>13,ai=0|M[5],ke=8191&ai,re=ai>>>13,De=0|M[6],he=8191&De,Se=De>>>13,$e=0|M[7],te=8191&$e,Re=$e>>>13,sn=0|M[8],Qe=8191&sn,di=sn>>>13,Bn=0|M[9],ci=8191&Bn,si=Bn>>>13;y.negative=u.negative^m.negative,y.length=19;var an=(I+(C=Math.imul(Z,ve))|0)+((8191&(p=(p=Math.imul(Z,Ie))+Math.imul(W,ve)|0))<<13)|0;I=((T=Math.imul(W,Ie))+(p>>>13)|0)+(an>>>26)|0,an&=67108863,C=Math.imul(wt,ve),p=(p=Math.imul(wt,Ie))+Math.imul(Vt,ve)|0,T=Math.imul(Vt,Ie);var cn=(I+(C=C+Math.imul(Z,ni)|0)|0)+((8191&(p=(p=p+Math.imul(Z,ii)|0)+Math.imul(W,ni)|0))<<13)|0;I=((T=T+Math.imul(W,ii)|0)+(p>>>13)|0)+(cn>>>26)|0,cn&=67108863,C=Math.imul(At,ve),p=(p=Math.imul(At,Ie))+Math.imul(bt,ve)|0,T=Math.imul(bt,Ie),C=C+Math.imul(wt,ni)|0,p=(p=p+Math.imul(wt,ii)|0)+Math.imul(Vt,ni)|0,T=T+Math.imul(Vt,ii)|0;var Fn=(I+(C=C+Math.imul(Z,vi)|0)|0)+((8191&(p=(p=p+Math.imul(Z,_i)|0)+Math.imul(W,vi)|0))<<13)|0;I=((T=T+Math.imul(W,_i)|0)+(p>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,C=Math.imul(Rt,ve),p=(p=Math.imul(Rt,Ie))+Math.imul(Dt,ve)|0,T=Math.imul(Dt,Ie),C=C+Math.imul(At,ni)|0,p=(p=p+Math.imul(At,ii)|0)+Math.imul(bt,ni)|0,T=T+Math.imul(bt,ii)|0,C=C+Math.imul(wt,vi)|0,p=(p=p+Math.imul(wt,_i)|0)+Math.imul(Vt,vi)|0,T=T+Math.imul(Vt,_i)|0;var Or=(I+(C=C+Math.imul(Z,Mi)|0)|0)+((8191&(p=(p=p+Math.imul(Z,Ge)|0)+Math.imul(W,Mi)|0))<<13)|0;I=((T=T+Math.imul(W,Ge)|0)+(p>>>13)|0)+(Or>>>26)|0,Or&=67108863,C=Math.imul(Zt,ve),p=(p=Math.imul(Zt,Ie))+Math.imul(Lt,ve)|0,T=Math.imul(Lt,Ie),C=C+Math.imul(Rt,ni)|0,p=(p=p+Math.imul(Rt,ii)|0)+Math.imul(Dt,ni)|0,T=T+Math.imul(Dt,ii)|0,C=C+Math.imul(At,vi)|0,p=(p=p+Math.imul(At,_i)|0)+Math.imul(bt,vi)|0,T=T+Math.imul(bt,_i)|0,C=C+Math.imul(wt,Mi)|0,p=(p=p+Math.imul(wt,Ge)|0)+Math.imul(Vt,Mi)|0,T=T+Math.imul(Vt,Ge)|0;var Vn=(I+(C=C+Math.imul(Z,Ei)|0)|0)+((8191&(p=(p=p+Math.imul(Z,Oe)|0)+Math.imul(W,Ei)|0))<<13)|0;I=((T=T+Math.imul(W,Oe)|0)+(p>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,C=Math.imul(Ht,ve),p=(p=Math.imul(Ht,Ie))+Math.imul(me,ve)|0,T=Math.imul(me,Ie),C=C+Math.imul(Zt,ni)|0,p=(p=p+Math.imul(Zt,ii)|0)+Math.imul(Lt,ni)|0,T=T+Math.imul(Lt,ii)|0,C=C+Math.imul(Rt,vi)|0,p=(p=p+Math.imul(Rt,_i)|0)+Math.imul(Dt,vi)|0,T=T+Math.imul(Dt,_i)|0,C=C+Math.imul(At,Mi)|0,p=(p=p+Math.imul(At,Ge)|0)+Math.imul(bt,Mi)|0,T=T+Math.imul(bt,Ge)|0,C=C+Math.imul(wt,Ei)|0,p=(p=p+Math.imul(wt,Oe)|0)+Math.imul(Vt,Ei)|0,T=T+Math.imul(Vt,Oe)|0;var Jn=(I+(C=C+Math.imul(Z,ke)|0)|0)+((8191&(p=(p=p+Math.imul(Z,re)|0)+Math.imul(W,ke)|0))<<13)|0;I=((T=T+Math.imul(W,re)|0)+(p>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,C=Math.imul(be,ve),p=(p=Math.imul(be,Ie))+Math.imul(de,ve)|0,T=Math.imul(de,Ie),C=C+Math.imul(Ht,ni)|0,p=(p=p+Math.imul(Ht,ii)|0)+Math.imul(me,ni)|0,T=T+Math.imul(me,ii)|0,C=C+Math.imul(Zt,vi)|0,p=(p=p+Math.imul(Zt,_i)|0)+Math.imul(Lt,vi)|0,T=T+Math.imul(Lt,_i)|0,C=C+Math.imul(Rt,Mi)|0,p=(p=p+Math.imul(Rt,Ge)|0)+Math.imul(Dt,Mi)|0,T=T+Math.imul(Dt,Ge)|0,C=C+Math.imul(At,Ei)|0,p=(p=p+Math.imul(At,Oe)|0)+Math.imul(bt,Ei)|0,T=T+Math.imul(bt,Oe)|0,C=C+Math.imul(wt,ke)|0,p=(p=p+Math.imul(wt,re)|0)+Math.imul(Vt,ke)|0,T=T+Math.imul(Vt,re)|0;var hn=(I+(C=C+Math.imul(Z,he)|0)|0)+((8191&(p=(p=p+Math.imul(Z,Se)|0)+Math.imul(W,he)|0))<<13)|0;I=((T=T+Math.imul(W,Se)|0)+(p>>>13)|0)+(hn>>>26)|0,hn&=67108863,C=Math.imul(Yt,ve),p=(p=Math.imul(Yt,Ie))+Math.imul(ee,ve)|0,T=Math.imul(ee,Ie),C=C+Math.imul(be,ni)|0,p=(p=p+Math.imul(be,ii)|0)+Math.imul(de,ni)|0,T=T+Math.imul(de,ii)|0,C=C+Math.imul(Ht,vi)|0,p=(p=p+Math.imul(Ht,_i)|0)+Math.imul(me,vi)|0,T=T+Math.imul(me,_i)|0,C=C+Math.imul(Zt,Mi)|0,p=(p=p+Math.imul(Zt,Ge)|0)+Math.imul(Lt,Mi)|0,T=T+Math.imul(Lt,Ge)|0,C=C+Math.imul(Rt,Ei)|0,p=(p=p+Math.imul(Rt,Oe)|0)+Math.imul(Dt,Ei)|0,T=T+Math.imul(Dt,Oe)|0,C=C+Math.imul(At,ke)|0,p=(p=p+Math.imul(At,re)|0)+Math.imul(bt,ke)|0,T=T+Math.imul(bt,re)|0,C=C+Math.imul(wt,he)|0,p=(p=p+Math.imul(wt,Se)|0)+Math.imul(Vt,he)|0,T=T+Math.imul(Vt,Se)|0;var jr=(I+(C=C+Math.imul(Z,te)|0)|0)+((8191&(p=(p=p+Math.imul(Z,Re)|0)+Math.imul(W,te)|0))<<13)|0;I=((T=T+Math.imul(W,Re)|0)+(p>>>13)|0)+(jr>>>26)|0,jr&=67108863,C=Math.imul(It,ve),p=(p=Math.imul(It,Ie))+Math.imul(gt,ve)|0,T=Math.imul(gt,Ie),C=C+Math.imul(Yt,ni)|0,p=(p=p+Math.imul(Yt,ii)|0)+Math.imul(ee,ni)|0,T=T+Math.imul(ee,ii)|0,C=C+Math.imul(be,vi)|0,p=(p=p+Math.imul(be,_i)|0)+Math.imul(de,vi)|0,T=T+Math.imul(de,_i)|0,C=C+Math.imul(Ht,Mi)|0,p=(p=p+Math.imul(Ht,Ge)|0)+Math.imul(me,Mi)|0,T=T+Math.imul(me,Ge)|0,C=C+Math.imul(Zt,Ei)|0,p=(p=p+Math.imul(Zt,Oe)|0)+Math.imul(Lt,Ei)|0,T=T+Math.imul(Lt,Oe)|0,C=C+Math.imul(Rt,ke)|0,p=(p=p+Math.imul(Rt,re)|0)+Math.imul(Dt,ke)|0,T=T+Math.imul(Dt,re)|0,C=C+Math.imul(At,he)|0,p=(p=p+Math.imul(At,Se)|0)+Math.imul(bt,he)|0,T=T+Math.imul(bt,Se)|0,C=C+Math.imul(wt,te)|0,p=(p=p+Math.imul(wt,Re)|0)+Math.imul(Vt,te)|0,T=T+Math.imul(Vt,Re)|0;var wr=(I+(C=C+Math.imul(Z,Qe)|0)|0)+((8191&(p=(p=p+Math.imul(Z,di)|0)+Math.imul(W,Qe)|0))<<13)|0;I=((T=T+Math.imul(W,di)|0)+(p>>>13)|0)+(wr>>>26)|0,wr&=67108863,C=Math.imul(Qt,ve),p=(p=Math.imul(Qt,Ie))+Math.imul(ue,ve)|0,T=Math.imul(ue,Ie),C=C+Math.imul(It,ni)|0,p=(p=p+Math.imul(It,ii)|0)+Math.imul(gt,ni)|0,T=T+Math.imul(gt,ii)|0,C=C+Math.imul(Yt,vi)|0,p=(p=p+Math.imul(Yt,_i)|0)+Math.imul(ee,vi)|0,T=T+Math.imul(ee,_i)|0,C=C+Math.imul(be,Mi)|0,p=(p=p+Math.imul(be,Ge)|0)+Math.imul(de,Mi)|0,T=T+Math.imul(de,Ge)|0,C=C+Math.imul(Ht,Ei)|0,p=(p=p+Math.imul(Ht,Oe)|0)+Math.imul(me,Ei)|0,T=T+Math.imul(me,Oe)|0,C=C+Math.imul(Zt,ke)|0,p=(p=p+Math.imul(Zt,re)|0)+Math.imul(Lt,ke)|0,T=T+Math.imul(Lt,re)|0,C=C+Math.imul(Rt,he)|0,p=(p=p+Math.imul(Rt,Se)|0)+Math.imul(Dt,he)|0,T=T+Math.imul(Dt,Se)|0,C=C+Math.imul(At,te)|0,p=(p=p+Math.imul(At,Re)|0)+Math.imul(bt,te)|0,T=T+Math.imul(bt,Re)|0,C=C+Math.imul(wt,Qe)|0,p=(p=p+Math.imul(wt,di)|0)+Math.imul(Vt,Qe)|0,T=T+Math.imul(Vt,di)|0;var br=(I+(C=C+Math.imul(Z,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Z,si)|0)+Math.imul(W,ci)|0))<<13)|0;I=((T=T+Math.imul(W,si)|0)+(p>>>13)|0)+(br>>>26)|0,br&=67108863,C=Math.imul(Qt,ni),p=(p=Math.imul(Qt,ii))+Math.imul(ue,ni)|0,T=Math.imul(ue,ii),C=C+Math.imul(It,vi)|0,p=(p=p+Math.imul(It,_i)|0)+Math.imul(gt,vi)|0,T=T+Math.imul(gt,_i)|0,C=C+Math.imul(Yt,Mi)|0,p=(p=p+Math.imul(Yt,Ge)|0)+Math.imul(ee,Mi)|0,T=T+Math.imul(ee,Ge)|0,C=C+Math.imul(be,Ei)|0,p=(p=p+Math.imul(be,Oe)|0)+Math.imul(de,Ei)|0,T=T+Math.imul(de,Oe)|0,C=C+Math.imul(Ht,ke)|0,p=(p=p+Math.imul(Ht,re)|0)+Math.imul(me,ke)|0,T=T+Math.imul(me,re)|0,C=C+Math.imul(Zt,he)|0,p=(p=p+Math.imul(Zt,Se)|0)+Math.imul(Lt,he)|0,T=T+Math.imul(Lt,Se)|0,C=C+Math.imul(Rt,te)|0,p=(p=p+Math.imul(Rt,Re)|0)+Math.imul(Dt,te)|0,T=T+Math.imul(Dt,Re)|0,C=C+Math.imul(At,Qe)|0,p=(p=p+Math.imul(At,di)|0)+Math.imul(bt,Qe)|0,T=T+Math.imul(bt,di)|0;var Xn=(I+(C=C+Math.imul(wt,ci)|0)|0)+((8191&(p=(p=p+Math.imul(wt,si)|0)+Math.imul(Vt,ci)|0))<<13)|0;I=((T=T+Math.imul(Vt,si)|0)+(p>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,C=Math.imul(Qt,vi),p=(p=Math.imul(Qt,_i))+Math.imul(ue,vi)|0,T=Math.imul(ue,_i),C=C+Math.imul(It,Mi)|0,p=(p=p+Math.imul(It,Ge)|0)+Math.imul(gt,Mi)|0,T=T+Math.imul(gt,Ge)|0,C=C+Math.imul(Yt,Ei)|0,p=(p=p+Math.imul(Yt,Oe)|0)+Math.imul(ee,Ei)|0,T=T+Math.imul(ee,Oe)|0,C=C+Math.imul(be,ke)|0,p=(p=p+Math.imul(be,re)|0)+Math.imul(de,ke)|0,T=T+Math.imul(de,re)|0,C=C+Math.imul(Ht,he)|0,p=(p=p+Math.imul(Ht,Se)|0)+Math.imul(me,he)|0,T=T+Math.imul(me,Se)|0,C=C+Math.imul(Zt,te)|0,p=(p=p+Math.imul(Zt,Re)|0)+Math.imul(Lt,te)|0,T=T+Math.imul(Lt,Re)|0,C=C+Math.imul(Rt,Qe)|0,p=(p=p+Math.imul(Rt,di)|0)+Math.imul(Dt,Qe)|0,T=T+Math.imul(Dt,di)|0;var Co=(I+(C=C+Math.imul(At,ci)|0)|0)+((8191&(p=(p=p+Math.imul(At,si)|0)+Math.imul(bt,ci)|0))<<13)|0;I=((T=T+Math.imul(bt,si)|0)+(p>>>13)|0)+(Co>>>26)|0,Co&=67108863,C=Math.imul(Qt,Mi),p=(p=Math.imul(Qt,Ge))+Math.imul(ue,Mi)|0,T=Math.imul(ue,Ge),C=C+Math.imul(It,Ei)|0,p=(p=p+Math.imul(It,Oe)|0)+Math.imul(gt,Ei)|0,T=T+Math.imul(gt,Oe)|0,C=C+Math.imul(Yt,ke)|0,p=(p=p+Math.imul(Yt,re)|0)+Math.imul(ee,ke)|0,T=T+Math.imul(ee,re)|0,C=C+Math.imul(be,he)|0,p=(p=p+Math.imul(be,Se)|0)+Math.imul(de,he)|0,T=T+Math.imul(de,Se)|0,C=C+Math.imul(Ht,te)|0,p=(p=p+Math.imul(Ht,Re)|0)+Math.imul(me,te)|0,T=T+Math.imul(me,Re)|0,C=C+Math.imul(Zt,Qe)|0,p=(p=p+Math.imul(Zt,di)|0)+Math.imul(Lt,Qe)|0,T=T+Math.imul(Lt,di)|0;var Ti=(I+(C=C+Math.imul(Rt,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Rt,si)|0)+Math.imul(Dt,ci)|0))<<13)|0;I=((T=T+Math.imul(Dt,si)|0)+(p>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,C=Math.imul(Qt,Ei),p=(p=Math.imul(Qt,Oe))+Math.imul(ue,Ei)|0,T=Math.imul(ue,Oe),C=C+Math.imul(It,ke)|0,p=(p=p+Math.imul(It,re)|0)+Math.imul(gt,ke)|0,T=T+Math.imul(gt,re)|0,C=C+Math.imul(Yt,he)|0,p=(p=p+Math.imul(Yt,Se)|0)+Math.imul(ee,he)|0,T=T+Math.imul(ee,Se)|0,C=C+Math.imul(be,te)|0,p=(p=p+Math.imul(be,Re)|0)+Math.imul(de,te)|0,T=T+Math.imul(de,Re)|0,C=C+Math.imul(Ht,Qe)|0,p=(p=p+Math.imul(Ht,di)|0)+Math.imul(me,Qe)|0,T=T+Math.imul(me,di)|0;var mn=(I+(C=C+Math.imul(Zt,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Zt,si)|0)+Math.imul(Lt,ci)|0))<<13)|0;I=((T=T+Math.imul(Lt,si)|0)+(p>>>13)|0)+(mn>>>26)|0,mn&=67108863,C=Math.imul(Qt,ke),p=(p=Math.imul(Qt,re))+Math.imul(ue,ke)|0,T=Math.imul(ue,re),C=C+Math.imul(It,he)|0,p=(p=p+Math.imul(It,Se)|0)+Math.imul(gt,he)|0,T=T+Math.imul(gt,Se)|0,C=C+Math.imul(Yt,te)|0,p=(p=p+Math.imul(Yt,Re)|0)+Math.imul(ee,te)|0,T=T+Math.imul(ee,Re)|0,C=C+Math.imul(be,Qe)|0,p=(p=p+Math.imul(be,di)|0)+Math.imul(de,Qe)|0,T=T+Math.imul(de,di)|0;var gr=(I+(C=C+Math.imul(Ht,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Ht,si)|0)+Math.imul(me,ci)|0))<<13)|0;I=((T=T+Math.imul(me,si)|0)+(p>>>13)|0)+(gr>>>26)|0,gr&=67108863,C=Math.imul(Qt,he),p=(p=Math.imul(Qt,Se))+Math.imul(ue,he)|0,T=Math.imul(ue,Se),C=C+Math.imul(It,te)|0,p=(p=p+Math.imul(It,Re)|0)+Math.imul(gt,te)|0,T=T+Math.imul(gt,Re)|0,C=C+Math.imul(Yt,Qe)|0,p=(p=p+Math.imul(Yt,di)|0)+Math.imul(ee,Qe)|0,T=T+Math.imul(ee,di)|0;var En=(I+(C=C+Math.imul(be,ci)|0)|0)+((8191&(p=(p=p+Math.imul(be,si)|0)+Math.imul(de,ci)|0))<<13)|0;I=((T=T+Math.imul(de,si)|0)+(p>>>13)|0)+(En>>>26)|0,En&=67108863,C=Math.imul(Qt,te),p=(p=Math.imul(Qt,Re))+Math.imul(ue,te)|0,T=Math.imul(ue,Re),C=C+Math.imul(It,Qe)|0,p=(p=p+Math.imul(It,di)|0)+Math.imul(gt,Qe)|0,T=T+Math.imul(gt,di)|0;var _o=(I+(C=C+Math.imul(Yt,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Yt,si)|0)+Math.imul(ee,ci)|0))<<13)|0;I=((T=T+Math.imul(ee,si)|0)+(p>>>13)|0)+(_o>>>26)|0,_o&=67108863,C=Math.imul(Qt,Qe),p=(p=Math.imul(Qt,di))+Math.imul(ue,Qe)|0,T=Math.imul(ue,di);var No=(I+(C=C+Math.imul(It,ci)|0)|0)+((8191&(p=(p=p+Math.imul(It,si)|0)+Math.imul(gt,ci)|0))<<13)|0;I=((T=T+Math.imul(gt,si)|0)+(p>>>13)|0)+(No>>>26)|0,No&=67108863;var Hi=(I+(C=Math.imul(Qt,ci))|0)+((8191&(p=(p=Math.imul(Qt,si))+Math.imul(ue,ci)|0))<<13)|0;return I=((T=Math.imul(ue,si))+(p>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,S[0]=an,S[1]=cn,S[2]=Fn,S[3]=Or,S[4]=Vn,S[5]=Jn,S[6]=hn,S[7]=jr,S[8]=wr,S[9]=br,S[10]=Xn,S[11]=Co,S[12]=Ti,S[13]=mn,S[14]=gr,S[15]=En,S[16]=_o,S[17]=No,S[18]=Hi,0!==I&&(S[19]=I,y.length++),y};function J(R,u,m){return(new z).mulp(R,u,m)}function z(R,u){this.x=R,this.y=u}Math.imul||(H=$),E.prototype.mulTo=function(u,m){var y,v=this.length+u.length;return y=10===this.length&&10===u.length?H(this,u,m):v<63?$(this,u,m):v<1024?function(R,u,m){m.negative=u.negative^R.negative,m.length=R.length+u.length;for(var y=0,v=0,M=0;M<m.length-1;M++){var S=v;v=0;for(var I=67108863&y,C=Math.min(M,u.length-1),p=Math.max(0,M-R.length+1);p<=C;p++){var W=(0|R.words[M-p])*(0|u.words[p]),yt=67108863&W;I=67108863&(yt=yt+I|0),v+=(S=(S=S+(W/67108864|0)|0)+(yt>>>26)|0)>>>26,S&=67108863}m.words[M]=I,y=S,S=v}return 0!==y?m.words[M]=y:m.length--,m.strip()}(this,u,m):J(this,u,m),y},z.prototype.makeRBT=function(u){for(var m=new Array(u),y=E.prototype._countBits(u)-1,v=0;v<u;v++)m[v]=this.revBin(v,y,u);return m},z.prototype.revBin=function(u,m,y){if(0===u||u===y-1)return u;for(var v=0,M=0;M<m;M++)v|=(1&u)<<m-M-1,u>>=1;return v},z.prototype.permute=function(u,m,y,v,M,S){for(var I=0;I<S;I++)v[I]=m[u[I]],M[I]=y[u[I]]},z.prototype.transform=function(u,m,y,v,M,S){this.permute(S,u,m,y,v,M);for(var I=1;I<M;I<<=1)for(var C=I<<1,p=Math.cos(2*Math.PI/C),T=Math.sin(2*Math.PI/C),it=0;it<M;it+=C)for(var Z=p,W=T,yt=0;yt<I;yt++){var wt=y[it+yt],Vt=v[it+yt],Ut=y[it+yt+I],At=v[it+yt+I],bt=Z*Ut-W*At;At=Z*At+W*Ut,y[it+yt]=wt+(Ut=bt),v[it+yt]=Vt+At,y[it+yt+I]=wt-Ut,v[it+yt+I]=Vt-At,yt!==C&&(bt=p*Z-T*W,W=p*W+T*Z,Z=bt)}},z.prototype.guessLen13b=function(u,m){var y=1|Math.max(m,u),v=1&y,M=0;for(y=y/2|0;y;y>>>=1)M++;return 1<<M+1+v},z.prototype.conjugate=function(u,m,y){if(!(y<=1))for(var v=0;v<y/2;v++){var M=u[v];u[v]=u[y-v-1],u[y-v-1]=M,M=m[v],m[v]=-m[y-v-1],m[y-v-1]=-M}},z.prototype.normalize13b=function(u,m){for(var y=0,v=0;v<m/2;v++){var M=8192*Math.round(u[2*v+1]/m)+Math.round(u[2*v]/m)+y;u[v]=67108863&M,y=M<67108864?0:M/67108864|0}return u},z.prototype.convert13b=function(u,m,y,v){for(var M=0,S=0;S<m;S++)y[2*S]=8191&(M+=0|u[S]),y[2*S+1]=8191&(M>>>=13),M>>>=13;for(S=2*m;S<v;++S)y[S]=0;ft(0===M),ft(0==(-8192&M))},z.prototype.stub=function(u){for(var m=new Array(u),y=0;y<u;y++)m[y]=0;return m},z.prototype.mulp=function(u,m,y){var v=2*this.guessLen13b(u.length,m.length),M=this.makeRBT(v),S=this.stub(v),I=new Array(v),C=new Array(v),p=new Array(v),T=new Array(v),it=new Array(v),Z=new Array(v),W=y.words;W.length=v,this.convert13b(u.words,u.length,I,v),this.convert13b(m.words,m.length,T,v),this.transform(I,S,C,p,v,M),this.transform(T,S,it,Z,v,M);for(var yt=0;yt<v;yt++){var wt=C[yt]*it[yt]-p[yt]*Z[yt];p[yt]=C[yt]*Z[yt]+p[yt]*it[yt],C[yt]=wt}return this.conjugate(C,p,v),this.transform(C,p,W,S,v,M),this.conjugate(W,S,v),this.normalize13b(W,v),y.negative=u.negative^m.negative,y.length=u.length+m.length,y.strip()},E.prototype.mul=function(u){var m=new E(null);return m.words=new Array(this.length+u.length),this.mulTo(u,m)},E.prototype.mulf=function(u){var m=new E(null);return m.words=new Array(this.length+u.length),J(this,u,m)},E.prototype.imul=function(u){return this.clone().mulTo(u,this)},E.prototype.imuln=function(u){ft("number"==typeof u),ft(u<67108864);for(var m=0,y=0;y<this.length;y++){var v=(0|this.words[y])*u,M=(67108863&v)+(67108863&m);m>>=26,m+=v/67108864|0,m+=M>>>26,this.words[y]=67108863&M}return 0!==m&&(this.words[y]=m,this.length++),this},E.prototype.muln=function(u){return this.clone().imuln(u)},E.prototype.sqr=function(){return this.mul(this)},E.prototype.isqr=function(){return this.imul(this.clone())},E.prototype.pow=function(u){var m=function(R){for(var u=new Array(R.bitLength()),m=0;m<u.length;m++){var v=m%26;u[m]=(R.words[m/26|0]&1<<v)>>>v}return u}(u);if(0===m.length)return new E(1);for(var y=this,v=0;v<m.length&&0===m[v];v++,y=y.sqr());if(++v<m.length)for(var M=y.sqr();v<m.length;v++,M=M.sqr())0!==m[v]&&(y=y.mul(M));return y},E.prototype.iushln=function(u){ft("number"==typeof u&&u>=0);var M,m=u%26,y=(u-m)/26,v=67108863>>>26-m<<26-m;if(0!==m){var S=0;for(M=0;M<this.length;M++){var I=this.words[M]&v;this.words[M]=(0|this.words[M])-I<<m|S,S=I>>>26-m}S&&(this.words[M]=S,this.length++)}if(0!==y){for(M=this.length-1;M>=0;M--)this.words[M+y]=this.words[M];for(M=0;M<y;M++)this.words[M]=0;this.length+=y}return this.strip()},E.prototype.ishln=function(u){return ft(0===this.negative),this.iushln(u)},E.prototype.iushrn=function(u,m,y){var v;ft("number"==typeof u&&u>=0),v=m?(m-m%26)/26:0;var M=u%26,S=Math.min((u-M)/26,this.length),I=67108863^67108863>>>M<<M,C=y;if(v-=S,v=Math.max(0,v),C){for(var p=0;p<S;p++)C.words[p]=this.words[p];C.length=S}if(0!==S)if(this.length>S)for(this.length-=S,p=0;p<this.length;p++)this.words[p]=this.words[p+S];else this.words[0]=0,this.length=1;var T=0;for(p=this.length-1;p>=0&&(0!==T||p>=v);p--){var it=0|this.words[p];this.words[p]=T<<26-M|it>>>M,T=it&I}return C&&0!==T&&(C.words[C.length++]=T),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},E.prototype.ishrn=function(u,m,y){return ft(0===this.negative),this.iushrn(u,m,y)},E.prototype.shln=function(u){return this.clone().ishln(u)},E.prototype.ushln=function(u){return this.clone().iushln(u)},E.prototype.shrn=function(u){return this.clone().ishrn(u)},E.prototype.ushrn=function(u){return this.clone().iushrn(u)},E.prototype.testn=function(u){ft("number"==typeof u&&u>=0);var m=u%26,y=(u-m)/26;return!(this.length<=y||!(this.words[y]&1<<m))},E.prototype.imaskn=function(u){ft("number"==typeof u&&u>=0);var m=u%26,y=(u-m)/26;return ft(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==m&&y++,this.length=Math.min(y,this.length),0!==m&&(this.words[this.length-1]&=67108863^67108863>>>m<<m),this.strip())},E.prototype.maskn=function(u){return this.clone().imaskn(u)},E.prototype.iaddn=function(u){return ft("number"==typeof u),ft(u<67108864),u<0?this.isubn(-u):0!==this.negative?1===this.length&&(0|this.words[0])<u?(this.words[0]=u-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},E.prototype._iaddn=function(u){this.words[0]+=u;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},E.prototype.isubn=function(u){if(ft("number"==typeof u),ft(u<67108864),u<0)return this.iaddn(-u);if(0!==this.negative)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this.strip()},E.prototype.addn=function(u){return this.clone().iaddn(u)},E.prototype.subn=function(u){return this.clone().isubn(u)},E.prototype.iabs=function(){return this.negative=0,this},E.prototype.abs=function(){return this.clone().iabs()},E.prototype._ishlnsubmul=function(u,m,y){var M;this._expand(u.length+y);var S,I=0;for(M=0;M<u.length;M++){S=(0|this.words[M+y])+I;var C=(0|u.words[M])*m;I=((S-=67108863&C)>>26)-(C/67108864|0),this.words[M+y]=67108863&S}for(;M<this.length-y;M++)I=(S=(0|this.words[M+y])+I)>>26,this.words[M+y]=67108863&S;if(0===I)return this.strip();for(ft(-1===I),I=0,M=0;M<this.length;M++)I=(S=-(0|this.words[M])+I)>>26,this.words[M]=67108863&S;return this.negative=1,this.strip()},E.prototype._wordDiv=function(u,m){var y,v=this.clone(),M=u,S=0|M.words[M.length-1];0!=(y=26-this._countBits(S))&&(M=M.ushln(y),v.iushln(y),S=0|M.words[M.length-1]);var p,C=v.length-M.length;if("mod"!==m){(p=new E(null)).length=C+1,p.words=new Array(p.length);for(var T=0;T<p.length;T++)p.words[T]=0}var it=v.clone()._ishlnsubmul(M,1,C);0===it.negative&&(v=it,p&&(p.words[C]=1));for(var Z=C-1;Z>=0;Z--){var W=67108864*(0|v.words[M.length+Z])+(0|v.words[M.length+Z-1]);for(W=Math.min(W/S|0,67108863),v._ishlnsubmul(M,W,Z);0!==v.negative;)W--,v.negative=0,v._ishlnsubmul(M,1,Z),v.isZero()||(v.negative^=1);p&&(p.words[Z]=W)}return p&&p.strip(),v.strip(),"div"!==m&&0!==y&&v.iushrn(y),{div:p||null,mod:v}},E.prototype.divmod=function(u,m,y){return ft(!u.isZero()),this.isZero()?{div:new E(0),mod:new E(0)}:0!==this.negative&&0===u.negative?(S=this.neg().divmod(u,m),"mod"!==m&&(v=S.div.neg()),"div"!==m&&(M=S.mod.neg(),y&&0!==M.negative&&M.iadd(u)),{div:v,mod:M}):0===this.negative&&0!==u.negative?(S=this.divmod(u.neg(),m),"mod"!==m&&(v=S.div.neg()),{div:v,mod:S.mod}):0!=(this.negative&u.negative)?(S=this.neg().divmod(u.neg(),m),"div"!==m&&(M=S.mod.neg(),y&&0!==M.negative&&M.isub(u)),{div:S.div,mod:M}):u.length>this.length||this.cmp(u)<0?{div:new E(0),mod:this}:1===u.length?"div"===m?{div:this.divn(u.words[0]),mod:null}:"mod"===m?{div:null,mod:new E(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new E(this.modn(u.words[0]))}:this._wordDiv(u,m);var v,M,S},E.prototype.div=function(u){return this.divmod(u,"div",!1).div},E.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},E.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},E.prototype.divRound=function(u){var m=this.divmod(u);if(m.mod.isZero())return m.div;var y=0!==m.div.negative?m.mod.isub(u):m.mod,v=u.ushrn(1),M=u.andln(1),S=y.cmp(v);return S<0||1===M&&0===S?m.div:0!==m.div.negative?m.div.isubn(1):m.div.iaddn(1)},E.prototype.modn=function(u){ft(u<=67108863);for(var m=(1<<26)%u,y=0,v=this.length-1;v>=0;v--)y=(m*y+(0|this.words[v]))%u;return y},E.prototype.idivn=function(u){ft(u<=67108863);for(var m=0,y=this.length-1;y>=0;y--){var v=(0|this.words[y])+67108864*m;this.words[y]=v/u|0,m=v%u}return this.strip()},E.prototype.divn=function(u){return this.clone().idivn(u)},E.prototype.egcd=function(u){ft(0===u.negative),ft(!u.isZero());var m=this,y=u.clone();m=0!==m.negative?m.umod(u):m.clone();for(var v=new E(1),M=new E(0),S=new E(0),I=new E(1),C=0;m.isEven()&&y.isEven();)m.iushrn(1),y.iushrn(1),++C;for(var p=y.clone(),T=m.clone();!m.isZero();){for(var it=0,Z=1;0==(m.words[0]&Z)&&it<26;++it,Z<<=1);if(it>0)for(m.iushrn(it);it-- >0;)(v.isOdd()||M.isOdd())&&(v.iadd(p),M.isub(T)),v.iushrn(1),M.iushrn(1);for(var W=0,yt=1;0==(y.words[0]&yt)&&W<26;++W,yt<<=1);if(W>0)for(y.iushrn(W);W-- >0;)(S.isOdd()||I.isOdd())&&(S.iadd(p),I.isub(T)),S.iushrn(1),I.iushrn(1);m.cmp(y)>=0?(m.isub(y),v.isub(S),M.isub(I)):(y.isub(m),S.isub(v),I.isub(M))}return{a:S,b:I,gcd:y.iushln(C)}},E.prototype._invmp=function(u){ft(0===u.negative),ft(!u.isZero());var it,m=this,y=u.clone();m=0!==m.negative?m.umod(u):m.clone();for(var v=new E(1),M=new E(0),S=y.clone();m.cmpn(1)>0&&y.cmpn(1)>0;){for(var I=0,C=1;0==(m.words[0]&C)&&I<26;++I,C<<=1);if(I>0)for(m.iushrn(I);I-- >0;)v.isOdd()&&v.iadd(S),v.iushrn(1);for(var p=0,T=1;0==(y.words[0]&T)&&p<26;++p,T<<=1);if(p>0)for(y.iushrn(p);p-- >0;)M.isOdd()&&M.iadd(S),M.iushrn(1);m.cmp(y)>=0?(m.isub(y),v.isub(M)):(y.isub(m),M.isub(v))}return(it=0===m.cmpn(1)?v:M).cmpn(0)<0&&it.iadd(u),it},E.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var m=this.clone(),y=u.clone();m.negative=0,y.negative=0;for(var v=0;m.isEven()&&y.isEven();v++)m.iushrn(1),y.iushrn(1);for(;;){for(;m.isEven();)m.iushrn(1);for(;y.isEven();)y.iushrn(1);var M=m.cmp(y);if(M<0){var S=m;m=y,y=S}else if(0===M||0===y.cmpn(1))break;m.isub(y)}return y.iushln(v)},E.prototype.invm=function(u){return this.egcd(u).a.umod(u)},E.prototype.isEven=function(){return 0==(1&this.words[0])},E.prototype.isOdd=function(){return 1==(1&this.words[0])},E.prototype.andln=function(u){return this.words[0]&u},E.prototype.bincn=function(u){ft("number"==typeof u);var m=u%26,y=(u-m)/26,v=1<<m;if(this.length<=y)return this._expand(y+1),this.words[y]|=v,this;for(var M=v,S=y;0!==M&&S<this.length;S++){var I=0|this.words[S];M=(I+=M)>>>26,this.words[S]=I&=67108863}return 0!==M&&(this.words[S]=M,this.length++),this},E.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},E.prototype.cmpn=function(u){var y,m=u<0;if(0!==this.negative&&!m)return-1;if(0===this.negative&&m)return 1;if(this.strip(),this.length>1)y=1;else{m&&(u=-u),ft(u<=67108863,"Number is too big");var v=0|this.words[0];y=v===u?0:v<u?-1:1}return 0!==this.negative?0|-y:y},E.prototype.cmp=function(u){if(0!==this.negative&&0===u.negative)return-1;if(0===this.negative&&0!==u.negative)return 1;var m=this.ucmp(u);return 0!==this.negative?0|-m:m},E.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var m=0,y=this.length-1;y>=0;y--){var v=0|this.words[y],M=0|u.words[y];if(v!==M){v<M?m=-1:v>M&&(m=1);break}}return m},E.prototype.gtn=function(u){return 1===this.cmpn(u)},E.prototype.gt=function(u){return 1===this.cmp(u)},E.prototype.gten=function(u){return this.cmpn(u)>=0},E.prototype.gte=function(u){return this.cmp(u)>=0},E.prototype.ltn=function(u){return-1===this.cmpn(u)},E.prototype.lt=function(u){return-1===this.cmp(u)},E.prototype.lten=function(u){return this.cmpn(u)<=0},E.prototype.lte=function(u){return this.cmp(u)<=0},E.prototype.eqn=function(u){return 0===this.cmpn(u)},E.prototype.eq=function(u){return 0===this.cmp(u)},E.red=function(u){return new Et(u)},E.prototype.toRed=function(u){return ft(!this.red,"Already a number in reduction context"),ft(0===this.negative,"red works only with positives"),u.convertTo(this)._forceRed(u)},E.prototype.fromRed=function(){return ft(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},E.prototype._forceRed=function(u){return this.red=u,this},E.prototype.forceRed=function(u){return ft(!this.red,"Already a number in reduction context"),this._forceRed(u)},E.prototype.redAdd=function(u){return ft(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},E.prototype.redIAdd=function(u){return ft(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},E.prototype.redSub=function(u){return ft(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},E.prototype.redISub=function(u){return ft(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},E.prototype.redShl=function(u){return ft(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},E.prototype.redMul=function(u){return ft(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},E.prototype.redIMul=function(u){return ft(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},E.prototype.redSqr=function(){return ft(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},E.prototype.redISqr=function(){return ft(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},E.prototype.redSqrt=function(){return ft(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},E.prototype.redInvm=function(){return ft(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},E.prototype.redNeg=function(){return ft(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},E.prototype.redPow=function(u){return ft(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var nt={k256:null,p224:null,p192:null,p25519:null};function Q(R,u){this.name=R,this.p=new E(u,16),this.n=this.p.bitLength(),this.k=new E(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function lt(){Q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _t(){Q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function Ct(){Q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function kt(){Q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Et(R){if("string"==typeof R){var u=E._prime(R);this.m=u.p,this.prime=u}else ft(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}function St(R){Et.call(this,R),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new E(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Q.prototype._tmp=function(){var u=new E(null);return u.words=new Array(Math.ceil(this.n/13)),u},Q.prototype.ireduce=function(u){var y,m=u;do{this.split(m,this.tmp),y=(m=(m=this.imulK(m)).iadd(this.tmp)).bitLength()}while(y>this.n);var v=y<this.n?-1:m.ucmp(this.p);return 0===v?(m.words[0]=0,m.length=1):v>0?m.isub(this.p):void 0!==m.strip?m.strip():m._strip(),m},Q.prototype.split=function(u,m){u.iushrn(this.n,0,m)},Q.prototype.imulK=function(u){return u.imul(this.k)},dt(lt,Q),lt.prototype.split=function(u,m){for(var y=4194303,v=Math.min(u.length,9),M=0;M<v;M++)m.words[M]=u.words[M];if(m.length=v,u.length<=9)return u.words[0]=0,void(u.length=1);var S=u.words[9];for(m.words[m.length++]=S&y,M=10;M<u.length;M++){var I=0|u.words[M];u.words[M-10]=(I&y)<<4|S>>>22,S=I}u.words[M-10]=S>>>=22,u.length-=0===S&&u.length>10?10:9},lt.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var m=0,y=0;y<u.length;y++){var v=0|u.words[y];u.words[y]=67108863&(m+=977*v),m=64*v+(m/67108864|0)}return 0===u.words[u.length-1]&&(u.length--,0===u.words[u.length-1]&&u.length--),u},dt(_t,Q),dt(Ct,Q),dt(kt,Q),kt.prototype.imulK=function(u){for(var m=0,y=0;y<u.length;y++){var v=19*(0|u.words[y])+m,M=67108863&v;v>>>=26,u.words[y]=M,m=v}return 0!==m&&(u.words[u.length++]=m),u},E._prime=function(u){if(nt[u])return nt[u];var m;if("k256"===u)m=new lt;else if("p224"===u)m=new _t;else if("p192"===u)m=new Ct;else{if("p25519"!==u)throw new Error("Unknown prime "+u);m=new kt}return nt[u]=m,m},Et.prototype._verify1=function(u){ft(0===u.negative,"red works only with positives"),ft(u.red,"red works only with red numbers")},Et.prototype._verify2=function(u,m){ft(0==(u.negative|m.negative),"red works only with positives"),ft(u.red&&u.red===m.red,"red works only with red numbers")},Et.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},Et.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},Et.prototype.add=function(u,m){this._verify2(u,m);var y=u.add(m);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},Et.prototype.iadd=function(u,m){this._verify2(u,m);var y=u.iadd(m);return y.cmp(this.m)>=0&&y.isub(this.m),y},Et.prototype.sub=function(u,m){this._verify2(u,m);var y=u.sub(m);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},Et.prototype.isub=function(u,m){this._verify2(u,m);var y=u.isub(m);return y.cmpn(0)<0&&y.iadd(this.m),y},Et.prototype.shl=function(u,m){return this._verify1(u),this.imod(u.ushln(m))},Et.prototype.imul=function(u,m){return this._verify2(u,m),this.imod(u.imul(m))},Et.prototype.mul=function(u,m){return this._verify2(u,m),this.imod(u.mul(m))},Et.prototype.isqr=function(u){return this.imul(u,u.clone())},Et.prototype.sqr=function(u){return this.mul(u,u)},Et.prototype.sqrt=function(u){if(u.isZero())return u.clone();var m=this.m.andln(3);if(ft(m%2==1),3===m){var y=this.m.add(new E(1)).iushrn(2);return this.pow(u,y)}for(var v=this.m.subn(1),M=0;!v.isZero()&&0===v.andln(1);)M++,v.iushrn(1);ft(!v.isZero());var S=new E(1).toRed(this),I=S.redNeg(),C=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new E(2*p*p).toRed(this);0!==this.pow(p,C).cmp(I);)p.redIAdd(I);for(var T=this.pow(p,v),it=this.pow(u,v.addn(1).iushrn(1)),Z=this.pow(u,v),W=M;0!==Z.cmp(S);){for(var yt=Z,wt=0;0!==yt.cmp(S);wt++)yt=yt.redSqr();ft(wt<W);var Vt=this.pow(T,new E(1).iushln(W-wt-1));it=it.redMul(Vt),T=Vt.redSqr(),Z=Z.redMul(T),W=wt}return it},Et.prototype.invm=function(u){var m=u._invmp(this.m);return 0!==m.negative?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},Et.prototype.pow=function(u,m){if(m.isZero())return new E(1).toRed(this);if(0===m.cmpn(1))return u.clone();var v=new Array(16);v[0]=new E(1).toRed(this),v[1]=u;for(var M=2;M<v.length;M++)v[M]=this.mul(v[M-1],u);var S=v[0],I=0,C=0,p=m.bitLength()%26;for(0===p&&(p=26),M=m.length-1;M>=0;M--){for(var T=m.words[M],it=p-1;it>=0;it--){var Z=T>>it&1;S!==v[0]&&(S=this.sqr(S)),0!==Z||0!==I?(I<<=1,I|=Z,(4==++C||0===M&&0===it)&&(S=this.mul(S,v[I]),C=0,I=0)):C=0}p=26}return S},Et.prototype.convertTo=function(u){var m=u.umod(this.m);return m===u?m.clone():m},Et.prototype.convertFrom=function(u){var m=u.clone();return m.red=null,m},E.mont=function(u){return new St(u)},dt(St,Et),St.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},St.prototype.convertFrom=function(u){var m=this.imod(u.mul(this.rinv));return m.red=null,m},St.prototype.imul=function(u,m){if(u.isZero()||m.isZero())return u.words[0]=0,u.length=1,u;var y=u.imul(m),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(v).iushrn(this.shift),S=M;return M.cmp(this.m)>=0?S=M.isub(this.m):M.cmpn(0)<0&&(S=M.iadd(this.m)),S._forceRed(this)},St.prototype.mul=function(u,m){if(u.isZero()||m.isZero())return new E(0)._forceRed(this);var y=u.mul(m),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(v).iushrn(this.shift),S=M;return M.cmp(this.m)>=0?S=M.isub(this.m):M.cmpn(0)<0&&(S=M.iadd(this.m)),S._forceRed(this)},St.prototype.invm=function(u){return this.imod(u._invmp(this.m).mul(this.r2))._forceRed(this)}}(_e=Ft.nmd(_e),this)},6193:(_e,st)=>{"use strict";st.byteLength=function(V){var $=K(V),G=$[1];return 3*($[0]+G)/4-G},st.toByteArray=function(V){var $,lt,H=K(V),G=H[0],J=H[1],z=new Kt(function(V,$,H){return 3*($+H)/4-H}(0,G,J)),nt=0,Q=J>0?G-4:G;for(lt=0;lt<Q;lt+=4)$=zt[V.charCodeAt(lt)]<<18|zt[V.charCodeAt(lt+1)]<<12|zt[V.charCodeAt(lt+2)]<<6|zt[V.charCodeAt(lt+3)],z[nt++]=$>>16&255,z[nt++]=$>>8&255,z[nt++]=255&$;return 2===J&&($=zt[V.charCodeAt(lt)]<<2|zt[V.charCodeAt(lt+1)]>>4,z[nt++]=255&$),1===J&&($=zt[V.charCodeAt(lt)]<<10|zt[V.charCodeAt(lt+1)]<<4|zt[V.charCodeAt(lt+2)]>>2,z[nt++]=$>>8&255,z[nt++]=255&$),z},st.fromByteArray=function(V){for(var $,H=V.length,G=H%3,J=[],z=16383,nt=0,Q=H-G;nt<Q;nt+=z)J.push(U(V,nt,nt+z>Q?Q:nt+z));return 1===G?J.push(Ft[($=V[H-1])>>2]+Ft[$<<4&63]+"=="):2===G&&J.push(Ft[($=(V[H-2]<<8)+V[H-1])>>10]+Ft[$>>4&63]+Ft[$<<2&63]+"="),J.join("")};for(var Ft=[],zt=[],Kt="undefined"!=typeof Uint8Array?Uint8Array:Array,ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dt=0,E=ft.length;dt<E;++dt)Ft[dt]=ft[dt],zt[ft.charCodeAt(dt)]=dt;function K(V){var $=V.length;if($%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var H=V.indexOf("=");return-1===H&&(H=$),[H,H===$?0:4-H%4]}function X(V){return Ft[V>>18&63]+Ft[V>>12&63]+Ft[V>>6&63]+Ft[63&V]}function U(V,$,H){for(var J=[],z=$;z<H;z+=3)J.push(X((V[z]<<16&16711680)+(V[z+1]<<8&65280)+(255&V[z+2])));return J.join("")}zt["-".charCodeAt(0)]=62,zt["_".charCodeAt(0)]=63},2963:function(_e,st,Ft){!function(zt,Kt){"use strict";function ft(y,v){if(!y)throw new Error(v||"Assertion failed")}function dt(y,v){y.super_=v;var M=function(){};M.prototype=v.prototype,y.prototype=new M,y.prototype.constructor=y}function E(y,v,M){if(E.isBN(y))return y;this.negative=0,this.words=null,this.length=0,this.red=null,null!==y&&(("le"===v||"be"===v)&&(M=v,v=10),this._init(y||0,v||10,M||"be"))}var K;"object"==typeof zt?zt.exports=E:Kt.BN=E,E.BN=E,E.wordSize=26;try{K="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:Ft(6601).Buffer}catch(y){}function Y(y,v){var M=y.charCodeAt(v);return M>=48&&M<=57?M-48:M>=65&&M<=70?M-55:M>=97&&M<=102?M-87:void ft(!1,"Invalid character in "+y)}function ct(y,v,M){var S=Y(y,M);return M-1>=v&&(S|=Y(y,M-1)<<4),S}function et(y,v,M,S){for(var I=0,C=0,p=Math.min(y.length,M),T=v;T<p;T++){var it=y.charCodeAt(T)-48;I*=S,C=it>=49?it-49+10:it>=17?it-17+10:it,ft(it>=0&&C<S,"Invalid character"),I+=C}return I}function X(y,v){y.words=v.words,y.length=v.length,y.negative=v.negative,y.red=v.red}if(E.isBN=function(v){return v instanceof E||null!==v&&"object"==typeof v&&v.constructor.wordSize===E.wordSize&&Array.isArray(v.words)},E.max=function(v,M){return v.cmp(M)>0?v:M},E.min=function(v,M){return v.cmp(M)<0?v:M},E.prototype._init=function(v,M,S){if("number"==typeof v)return this._initNumber(v,M,S);if("object"==typeof v)return this._initArray(v,M,S);"hex"===M&&(M=16),ft(M===(0|M)&&M>=2&&M<=36);var I=0;"-"===(v=v.toString().replace(/\s+/g,""))[0]&&(I++,this.negative=1),I<v.length&&(16===M?this._parseHex(v,I,S):(this._parseBase(v,M,I),"le"===S&&this._initArray(this.toArray(),M,S)))},E.prototype._initNumber=function(v,M,S){v<0&&(this.negative=1,v=-v),v<67108864?(this.words=[67108863&v],this.length=1):v<4503599627370496?(this.words=[67108863&v,v/67108864&67108863],this.length=2):(ft(v<9007199254740992),this.words=[67108863&v,v/67108864&67108863,1],this.length=3),"le"===S&&this._initArray(this.toArray(),M,S)},E.prototype._initArray=function(v,M,S){if(ft("number"==typeof v.length),v.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(v.length/3),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var C,p,T=0;if("be"===S)for(I=v.length-1,C=0;I>=0;I-=3)this.words[C]|=(p=v[I]|v[I-1]<<8|v[I-2]<<16)<<T&67108863,this.words[C+1]=p>>>26-T&67108863,(T+=24)>=26&&(T-=26,C++);else if("le"===S)for(I=0,C=0;I<v.length;I+=3)this.words[C]|=(p=v[I]|v[I+1]<<8|v[I+2]<<16)<<T&67108863,this.words[C+1]=p>>>26-T&67108863,(T+=24)>=26&&(T-=26,C++);return this._strip()},E.prototype._parseHex=function(v,M,S){this.length=Math.ceil((v.length-M)/6),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var T,C=0,p=0;if("be"===S)for(I=v.length-1;I>=M;I-=2)T=ct(v,M,I)<<C,this.words[p]|=67108863&T,C>=18?(C-=18,this.words[p+=1]|=T>>>26):C+=8;else for(I=(v.length-M)%2==0?M+1:M;I<v.length;I+=2)T=ct(v,M,I)<<C,this.words[p]|=67108863&T,C>=18?(C-=18,this.words[p+=1]|=T>>>26):C+=8;this._strip()},E.prototype._parseBase=function(v,M,S){this.words=[0],this.length=1;for(var I=0,C=1;C<=67108863;C*=M)I++;I--,C=C/M|0;for(var p=v.length-S,T=p%I,it=Math.min(p,p-T)+S,Z=0,W=S;W<it;W+=I)Z=et(v,W,W+I,M),this.imuln(C),this.words[0]+Z<67108864?this.words[0]+=Z:this._iaddn(Z);if(0!==T){var yt=1;for(Z=et(v,W,v.length,M),W=0;W<T;W++)yt*=M;this.imuln(yt),this.words[0]+Z<67108864?this.words[0]+=Z:this._iaddn(Z)}this._strip()},E.prototype.copy=function(v){v.words=new Array(this.length);for(var M=0;M<this.length;M++)v.words[M]=this.words[M];v.length=this.length,v.negative=this.negative,v.red=this.red},E.prototype._move=function(v){X(v,this)},E.prototype.clone=function(){var v=new E(null);return this.copy(v),v},E.prototype._expand=function(v){for(;this.length<v;)this.words[this.length++]=0;return this},E.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},E.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{E.prototype[Symbol.for("nodejs.util.inspect.custom")]=U}catch(y){E.prototype.inspect=U}else E.prototype.inspect=U;function U(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var at=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],V=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],$=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function J(y,v,M){M.negative=v.negative^y.negative;var S=y.length+v.length|0;M.length=S,S=S-1|0;var I=0|y.words[0],C=0|v.words[0],p=I*C,it=p/67108864|0;M.words[0]=67108863&p;for(var Z=1;Z<S;Z++){for(var W=it>>>26,yt=67108863&it,wt=Math.min(Z,v.length-1),Vt=Math.max(0,Z-y.length+1);Vt<=wt;Vt++)W+=(p=(I=0|y.words[Z-Vt|0])*(C=0|v.words[Vt])+yt)/67108864|0,yt=67108863&p;M.words[Z]=0|yt,it=0|W}return 0!==it?M.words[Z]=0|it:M.length--,M._strip()}E.prototype.toString=function(v,M){var S;if(M=0|M||1,16===(v=v||10)||"hex"===v){S="";for(var I=0,C=0,p=0;p<this.length;p++){var T=this.words[p],it=(16777215&(T<<I|C)).toString(16);S=0!=(C=T>>>24-I&16777215)||p!==this.length-1?at[6-it.length]+it+S:it+S,(I+=2)>=26&&(I-=26,p--)}for(0!==C&&(S=C.toString(16)+S);S.length%M!=0;)S="0"+S;return 0!==this.negative&&(S="-"+S),S}if(v===(0|v)&&v>=2&&v<=36){var Z=V[v],W=$[v];S="";var yt=this.clone();for(yt.negative=0;!yt.isZero();){var wt=yt.modrn(W).toString(v);S=(yt=yt.idivn(W)).isZero()?wt+S:at[Z-wt.length]+wt+S}for(this.isZero()&&(S="0"+S);S.length%M!=0;)S="0"+S;return 0!==this.negative&&(S="-"+S),S}ft(!1,"Base should be between 2 and 36")},E.prototype.toNumber=function(){var v=this.words[0];return 2===this.length?v+=67108864*this.words[1]:3===this.length&&1===this.words[2]?v+=4503599627370496+67108864*this.words[1]:this.length>2&&ft(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-v:v},E.prototype.toJSON=function(){return this.toString(16,2)},K&&(E.prototype.toBuffer=function(v,M){return this.toArrayLike(K,v,M)}),E.prototype.toArray=function(v,M){return this.toArrayLike(Array,v,M)},E.prototype.toArrayLike=function(v,M,S){this._strip();var I=this.byteLength(),C=S||Math.max(1,I);ft(I<=C,"byte array longer than desired length"),ft(C>0,"Requested array length <= 0");var p=function(v,M){return v.allocUnsafe?v.allocUnsafe(M):new v(M)}(v,C);return this["_toArrayLike"+("le"===M?"LE":"BE")](p,I),p},E.prototype._toArrayLikeLE=function(v,M){for(var S=0,I=0,C=0,p=0;C<this.length;C++){var T=this.words[C]<<p|I;v[S++]=255&T,S<v.length&&(v[S++]=T>>8&255),S<v.length&&(v[S++]=T>>16&255),6===p?(S<v.length&&(v[S++]=T>>24&255),I=0,p=0):(I=T>>>24,p+=2)}if(S<v.length)for(v[S++]=I;S<v.length;)v[S++]=0},E.prototype._toArrayLikeBE=function(v,M){for(var S=v.length-1,I=0,C=0,p=0;C<this.length;C++){var T=this.words[C]<<p|I;v[S--]=255&T,S>=0&&(v[S--]=T>>8&255),S>=0&&(v[S--]=T>>16&255),6===p?(S>=0&&(v[S--]=T>>24&255),I=0,p=0):(I=T>>>24,p+=2)}if(S>=0)for(v[S--]=I;S>=0;)v[S--]=0},E.prototype._countBits=Math.clz32?function(v){return 32-Math.clz32(v)}:function(v){var M=v,S=0;return M>=4096&&(S+=13,M>>>=13),M>=64&&(S+=7,M>>>=7),M>=8&&(S+=4,M>>>=4),M>=2&&(S+=2,M>>>=2),S+M},E.prototype._zeroBits=function(v){if(0===v)return 26;var M=v,S=0;return 0==(8191&M)&&(S+=13,M>>>=13),0==(127&M)&&(S+=7,M>>>=7),0==(15&M)&&(S+=4,M>>>=4),0==(3&M)&&(S+=2,M>>>=2),0==(1&M)&&S++,S},E.prototype.bitLength=function(){var M=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+M},E.prototype.zeroBits=function(){if(this.isZero())return 0;for(var v=0,M=0;M<this.length;M++){var S=this._zeroBits(this.words[M]);if(v+=S,26!==S)break}return v},E.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},E.prototype.toTwos=function(v){return 0!==this.negative?this.abs().inotn(v).iaddn(1):this.clone()},E.prototype.fromTwos=function(v){return this.testn(v-1)?this.notn(v).iaddn(1).ineg():this.clone()},E.prototype.isNeg=function(){return 0!==this.negative},E.prototype.neg=function(){return this.clone().ineg()},E.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},E.prototype.iuor=function(v){for(;this.length<v.length;)this.words[this.length++]=0;for(var M=0;M<v.length;M++)this.words[M]=this.words[M]|v.words[M];return this._strip()},E.prototype.ior=function(v){return ft(0==(this.negative|v.negative)),this.iuor(v)},E.prototype.or=function(v){return this.length>v.length?this.clone().ior(v):v.clone().ior(this)},E.prototype.uor=function(v){return this.length>v.length?this.clone().iuor(v):v.clone().iuor(this)},E.prototype.iuand=function(v){var M;M=this.length>v.length?v:this;for(var S=0;S<M.length;S++)this.words[S]=this.words[S]&v.words[S];return this.length=M.length,this._strip()},E.prototype.iand=function(v){return ft(0==(this.negative|v.negative)),this.iuand(v)},E.prototype.and=function(v){return this.length>v.length?this.clone().iand(v):v.clone().iand(this)},E.prototype.uand=function(v){return this.length>v.length?this.clone().iuand(v):v.clone().iuand(this)},E.prototype.iuxor=function(v){var M,S;this.length>v.length?(M=this,S=v):(M=v,S=this);for(var I=0;I<S.length;I++)this.words[I]=M.words[I]^S.words[I];if(this!==M)for(;I<M.length;I++)this.words[I]=M.words[I];return this.length=M.length,this._strip()},E.prototype.ixor=function(v){return ft(0==(this.negative|v.negative)),this.iuxor(v)},E.prototype.xor=function(v){return this.length>v.length?this.clone().ixor(v):v.clone().ixor(this)},E.prototype.uxor=function(v){return this.length>v.length?this.clone().iuxor(v):v.clone().iuxor(this)},E.prototype.inotn=function(v){ft("number"==typeof v&&v>=0);var M=0|Math.ceil(v/26),S=v%26;this._expand(M),S>0&&M--;for(var I=0;I<M;I++)this.words[I]=67108863&~this.words[I];return S>0&&(this.words[I]=~this.words[I]&67108863>>26-S),this._strip()},E.prototype.notn=function(v){return this.clone().inotn(v)},E.prototype.setn=function(v,M){ft("number"==typeof v&&v>=0);var S=v/26|0,I=v%26;return this._expand(S+1),this.words[S]=M?this.words[S]|1<<I:this.words[S]&~(1<<I),this._strip()},E.prototype.iadd=function(v){var M,S,I;if(0!==this.negative&&0===v.negative)return this.negative=0,M=this.isub(v),this.negative^=1,this._normSign();if(0===this.negative&&0!==v.negative)return v.negative=0,M=this.isub(v),v.negative=1,M._normSign();this.length>v.length?(S=this,I=v):(S=v,I=this);for(var C=0,p=0;p<I.length;p++)this.words[p]=67108863&(M=(0|S.words[p])+(0|I.words[p])+C),C=M>>>26;for(;0!==C&&p<S.length;p++)this.words[p]=67108863&(M=(0|S.words[p])+C),C=M>>>26;if(this.length=S.length,0!==C)this.words[this.length]=C,this.length++;else if(S!==this)for(;p<S.length;p++)this.words[p]=S.words[p];return this},E.prototype.add=function(v){var M;return 0!==v.negative&&0===this.negative?(v.negative=0,M=this.sub(v),v.negative^=1,M):0===v.negative&&0!==this.negative?(this.negative=0,M=v.sub(this),this.negative=1,M):this.length>v.length?this.clone().iadd(v):v.clone().iadd(this)},E.prototype.isub=function(v){if(0!==v.negative){v.negative=0;var M=this.iadd(v);return v.negative=1,M._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(v),this.negative=1,this._normSign();var I,C,S=this.cmp(v);if(0===S)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(I=this,C=v):(I=v,C=this);for(var p=0,T=0;T<C.length;T++)p=(M=(0|I.words[T])-(0|C.words[T])+p)>>26,this.words[T]=67108863&M;for(;0!==p&&T<I.length;T++)p=(M=(0|I.words[T])+p)>>26,this.words[T]=67108863&M;if(0===p&&T<I.length&&I!==this)for(;T<I.length;T++)this.words[T]=I.words[T];return this.length=Math.max(this.length,T),I!==this&&(this.negative=1),this._strip()},E.prototype.sub=function(v){return this.clone().isub(v)};var z=function(v,M,S){var it,Z,W,I=v.words,C=M.words,p=S.words,T=0,yt=0|I[0],wt=8191&yt,Vt=yt>>>13,Ut=0|I[1],At=8191&Ut,bt=Ut>>>13,qt=0|I[2],Rt=8191&qt,Dt=qt>>>13,Bt=0|I[3],Zt=8191&Bt,Lt=Bt>>>13,Ce=0|I[4],Ht=8191&Ce,me=Ce>>>13,Si=0|I[5],be=8191&Si,de=Si>>>13,je=0|I[6],Yt=8191&je,ee=je>>>13,Le=0|I[7],It=8191&Le,gt=Le>>>13,rt=0|I[8],Qt=8191&rt,ue=rt>>>13,Ze=0|I[9],ve=8191&Ze,Ie=Ze>>>13,on=0|C[0],ni=8191&on,ii=on>>>13,Xi=0|C[1],vi=8191&Xi,_i=Xi>>>13,Ln=0|C[2],Mi=8191&Ln,Ge=Ln>>>13,fn=0|C[3],Ei=8191&fn,Oe=fn>>>13,ai=0|C[4],ke=8191&ai,re=ai>>>13,De=0|C[5],he=8191&De,Se=De>>>13,$e=0|C[6],te=8191&$e,Re=$e>>>13,sn=0|C[7],Qe=8191&sn,di=sn>>>13,Bn=0|C[8],ci=8191&Bn,si=Bn>>>13,an=0|C[9],cn=8191&an,Fn=an>>>13;S.negative=v.negative^M.negative,S.length=19;var Or=(T+(it=Math.imul(wt,ni))|0)+((8191&(Z=(Z=Math.imul(wt,ii))+Math.imul(Vt,ni)|0))<<13)|0;T=((W=Math.imul(Vt,ii))+(Z>>>13)|0)+(Or>>>26)|0,Or&=67108863,it=Math.imul(At,ni),Z=(Z=Math.imul(At,ii))+Math.imul(bt,ni)|0,W=Math.imul(bt,ii);var Vn=(T+(it=it+Math.imul(wt,vi)|0)|0)+((8191&(Z=(Z=Z+Math.imul(wt,_i)|0)+Math.imul(Vt,vi)|0))<<13)|0;T=((W=W+Math.imul(Vt,_i)|0)+(Z>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,it=Math.imul(Rt,ni),Z=(Z=Math.imul(Rt,ii))+Math.imul(Dt,ni)|0,W=Math.imul(Dt,ii),it=it+Math.imul(At,vi)|0,Z=(Z=Z+Math.imul(At,_i)|0)+Math.imul(bt,vi)|0,W=W+Math.imul(bt,_i)|0;var Jn=(T+(it=it+Math.imul(wt,Mi)|0)|0)+((8191&(Z=(Z=Z+Math.imul(wt,Ge)|0)+Math.imul(Vt,Mi)|0))<<13)|0;T=((W=W+Math.imul(Vt,Ge)|0)+(Z>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,it=Math.imul(Zt,ni),Z=(Z=Math.imul(Zt,ii))+Math.imul(Lt,ni)|0,W=Math.imul(Lt,ii),it=it+Math.imul(Rt,vi)|0,Z=(Z=Z+Math.imul(Rt,_i)|0)+Math.imul(Dt,vi)|0,W=W+Math.imul(Dt,_i)|0,it=it+Math.imul(At,Mi)|0,Z=(Z=Z+Math.imul(At,Ge)|0)+Math.imul(bt,Mi)|0,W=W+Math.imul(bt,Ge)|0;var hn=(T+(it=it+Math.imul(wt,Ei)|0)|0)+((8191&(Z=(Z=Z+Math.imul(wt,Oe)|0)+Math.imul(Vt,Ei)|0))<<13)|0;T=((W=W+Math.imul(Vt,Oe)|0)+(Z>>>13)|0)+(hn>>>26)|0,hn&=67108863,it=Math.imul(Ht,ni),Z=(Z=Math.imul(Ht,ii))+Math.imul(me,ni)|0,W=Math.imul(me,ii),it=it+Math.imul(Zt,vi)|0,Z=(Z=Z+Math.imul(Zt,_i)|0)+Math.imul(Lt,vi)|0,W=W+Math.imul(Lt,_i)|0,it=it+Math.imul(Rt,Mi)|0,Z=(Z=Z+Math.imul(Rt,Ge)|0)+Math.imul(Dt,Mi)|0,W=W+Math.imul(Dt,Ge)|0,it=it+Math.imul(At,Ei)|0,Z=(Z=Z+Math.imul(At,Oe)|0)+Math.imul(bt,Ei)|0,W=W+Math.imul(bt,Oe)|0;var jr=(T+(it=it+Math.imul(wt,ke)|0)|0)+((8191&(Z=(Z=Z+Math.imul(wt,re)|0)+Math.imul(Vt,ke)|0))<<13)|0;T=((W=W+Math.imul(Vt,re)|0)+(Z>>>13)|0)+(jr>>>26)|0,jr&=67108863,it=Math.imul(be,ni),Z=(Z=Math.imul(be,ii))+Math.imul(de,ni)|0,W=Math.imul(de,ii),it=it+Math.imul(Ht,vi)|0,Z=(Z=Z+Math.imul(Ht,_i)|0)+Math.imul(me,vi)|0,W=W+Math.imul(me,_i)|0,it=it+Math.imul(Zt,Mi)|0,Z=(Z=Z+Math.imul(Zt,Ge)|0)+Math.imul(Lt,Mi)|0,W=W+Math.imul(Lt,Ge)|0,it=it+Math.imul(Rt,Ei)|0,Z=(Z=Z+Math.imul(Rt,Oe)|0)+Math.imul(Dt,Ei)|0,W=W+Math.imul(Dt,Oe)|0,it=it+Math.imul(At,ke)|0,Z=(Z=Z+Math.imul(At,re)|0)+Math.imul(bt,ke)|0,W=W+Math.imul(bt,re)|0;var wr=(T+(it=it+Math.imul(wt,he)|0)|0)+((8191&(Z=(Z=Z+Math.imul(wt,Se)|0)+Math.imul(Vt,he)|0))<<13)|0;T=((W=W+Math.imul(Vt,Se)|0)+(Z>>>13)|0)+(wr>>>26)|0,wr&=67108863,it=Math.imul(Yt,ni),Z=(Z=Math.imul(Yt,ii))+Math.imul(ee,ni)|0,W=Math.imul(ee,ii),it=it+Math.imul(be,vi)|0,Z=(Z=Z+Math.imul(be,_i)|0)+Math.imul(de,vi)|0,W=W+Math.imul(de,_i)|0,it=it+Math.imul(Ht,Mi)|0,Z=(Z=Z+Math.imul(Ht,Ge)|0)+Math.imul(me,Mi)|0,W=W+Math.imul(me,Ge)|0,it=it+Math.imul(Zt,Ei)|0,Z=(Z=Z+Math.imul(Zt,Oe)|0)+Math.imul(Lt,Ei)|0,W=W+Math.imul(Lt,Oe)|0,it=it+Math.imul(Rt,ke)|0,Z=(Z=Z+Math.imul(Rt,re)|0)+Math.imul(Dt,ke)|0,W=W+Math.imul(Dt,re)|0,it=it+Math.imul(At,he)|0,Z=(Z=Z+Math.imul(At,Se)|0)+Math.imul(bt,he)|0,W=W+Math.imul(bt,Se)|0;var br=(T+(it=it+Math.imul(wt,te)|0)|0)+((8191&(Z=(Z=Z+Math.imul(wt,Re)|0)+Math.imul(Vt,te)|0))<<13)|0;T=((W=W+Math.imul(Vt,Re)|0)+(Z>>>13)|0)+(br>>>26)|0,br&=67108863,it=Math.imul(It,ni),Z=(Z=Math.imul(It,ii))+Math.imul(gt,ni)|0,W=Math.imul(gt,ii),it=it+Math.imul(Yt,vi)|0,Z=(Z=Z+Math.imul(Yt,_i)|0)+Math.imul(ee,vi)|0,W=W+Math.imul(ee,_i)|0,it=it+Math.imul(be,Mi)|0,Z=(Z=Z+Math.imul(be,Ge)|0)+Math.imul(de,Mi)|0,W=W+Math.imul(de,Ge)|0,it=it+Math.imul(Ht,Ei)|0,Z=(Z=Z+Math.imul(Ht,Oe)|0)+Math.imul(me,Ei)|0,W=W+Math.imul(me,Oe)|0,it=it+Math.imul(Zt,ke)|0,Z=(Z=Z+Math.imul(Zt,re)|0)+Math.imul(Lt,ke)|0,W=W+Math.imul(Lt,re)|0,it=it+Math.imul(Rt,he)|0,Z=(Z=Z+Math.imul(Rt,Se)|0)+Math.imul(Dt,he)|0,W=W+Math.imul(Dt,Se)|0,it=it+Math.imul(At,te)|0,Z=(Z=Z+Math.imul(At,Re)|0)+Math.imul(bt,te)|0,W=W+Math.imul(bt,Re)|0;var Xn=(T+(it=it+Math.imul(wt,Qe)|0)|0)+((8191&(Z=(Z=Z+Math.imul(wt,di)|0)+Math.imul(Vt,Qe)|0))<<13)|0;T=((W=W+Math.imul(Vt,di)|0)+(Z>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,it=Math.imul(Qt,ni),Z=(Z=Math.imul(Qt,ii))+Math.imul(ue,ni)|0,W=Math.imul(ue,ii),it=it+Math.imul(It,vi)|0,Z=(Z=Z+Math.imul(It,_i)|0)+Math.imul(gt,vi)|0,W=W+Math.imul(gt,_i)|0,it=it+Math.imul(Yt,Mi)|0,Z=(Z=Z+Math.imul(Yt,Ge)|0)+Math.imul(ee,Mi)|0,W=W+Math.imul(ee,Ge)|0,it=it+Math.imul(be,Ei)|0,Z=(Z=Z+Math.imul(be,Oe)|0)+Math.imul(de,Ei)|0,W=W+Math.imul(de,Oe)|0,it=it+Math.imul(Ht,ke)|0,Z=(Z=Z+Math.imul(Ht,re)|0)+Math.imul(me,ke)|0,W=W+Math.imul(me,re)|0,it=it+Math.imul(Zt,he)|0,Z=(Z=Z+Math.imul(Zt,Se)|0)+Math.imul(Lt,he)|0,W=W+Math.imul(Lt,Se)|0,it=it+Math.imul(Rt,te)|0,Z=(Z=Z+Math.imul(Rt,Re)|0)+Math.imul(Dt,te)|0,W=W+Math.imul(Dt,Re)|0,it=it+Math.imul(At,Qe)|0,Z=(Z=Z+Math.imul(At,di)|0)+Math.imul(bt,Qe)|0,W=W+Math.imul(bt,di)|0;var Co=(T+(it=it+Math.imul(wt,ci)|0)|0)+((8191&(Z=(Z=Z+Math.imul(wt,si)|0)+Math.imul(Vt,ci)|0))<<13)|0;T=((W=W+Math.imul(Vt,si)|0)+(Z>>>13)|0)+(Co>>>26)|0,Co&=67108863,it=Math.imul(ve,ni),Z=(Z=Math.imul(ve,ii))+Math.imul(Ie,ni)|0,W=Math.imul(Ie,ii),it=it+Math.imul(Qt,vi)|0,Z=(Z=Z+Math.imul(Qt,_i)|0)+Math.imul(ue,vi)|0,W=W+Math.imul(ue,_i)|0,it=it+Math.imul(It,Mi)|0,Z=(Z=Z+Math.imul(It,Ge)|0)+Math.imul(gt,Mi)|0,W=W+Math.imul(gt,Ge)|0,it=it+Math.imul(Yt,Ei)|0,Z=(Z=Z+Math.imul(Yt,Oe)|0)+Math.imul(ee,Ei)|0,W=W+Math.imul(ee,Oe)|0,it=it+Math.imul(be,ke)|0,Z=(Z=Z+Math.imul(be,re)|0)+Math.imul(de,ke)|0,W=W+Math.imul(de,re)|0,it=it+Math.imul(Ht,he)|0,Z=(Z=Z+Math.imul(Ht,Se)|0)+Math.imul(me,he)|0,W=W+Math.imul(me,Se)|0,it=it+Math.imul(Zt,te)|0,Z=(Z=Z+Math.imul(Zt,Re)|0)+Math.imul(Lt,te)|0,W=W+Math.imul(Lt,Re)|0,it=it+Math.imul(Rt,Qe)|0,Z=(Z=Z+Math.imul(Rt,di)|0)+Math.imul(Dt,Qe)|0,W=W+Math.imul(Dt,di)|0,it=it+Math.imul(At,ci)|0,Z=(Z=Z+Math.imul(At,si)|0)+Math.imul(bt,ci)|0,W=W+Math.imul(bt,si)|0;var Ti=(T+(it=it+Math.imul(wt,cn)|0)|0)+((8191&(Z=(Z=Z+Math.imul(wt,Fn)|0)+Math.imul(Vt,cn)|0))<<13)|0;T=((W=W+Math.imul(Vt,Fn)|0)+(Z>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,it=Math.imul(ve,vi),Z=(Z=Math.imul(ve,_i))+Math.imul(Ie,vi)|0,W=Math.imul(Ie,_i),it=it+Math.imul(Qt,Mi)|0,Z=(Z=Z+Math.imul(Qt,Ge)|0)+Math.imul(ue,Mi)|0,W=W+Math.imul(ue,Ge)|0,it=it+Math.imul(It,Ei)|0,Z=(Z=Z+Math.imul(It,Oe)|0)+Math.imul(gt,Ei)|0,W=W+Math.imul(gt,Oe)|0,it=it+Math.imul(Yt,ke)|0,Z=(Z=Z+Math.imul(Yt,re)|0)+Math.imul(ee,ke)|0,W=W+Math.imul(ee,re)|0,it=it+Math.imul(be,he)|0,Z=(Z=Z+Math.imul(be,Se)|0)+Math.imul(de,he)|0,W=W+Math.imul(de,Se)|0,it=it+Math.imul(Ht,te)|0,Z=(Z=Z+Math.imul(Ht,Re)|0)+Math.imul(me,te)|0,W=W+Math.imul(me,Re)|0,it=it+Math.imul(Zt,Qe)|0,Z=(Z=Z+Math.imul(Zt,di)|0)+Math.imul(Lt,Qe)|0,W=W+Math.imul(Lt,di)|0,it=it+Math.imul(Rt,ci)|0,Z=(Z=Z+Math.imul(Rt,si)|0)+Math.imul(Dt,ci)|0,W=W+Math.imul(Dt,si)|0;var mn=(T+(it=it+Math.imul(At,cn)|0)|0)+((8191&(Z=(Z=Z+Math.imul(At,Fn)|0)+Math.imul(bt,cn)|0))<<13)|0;T=((W=W+Math.imul(bt,Fn)|0)+(Z>>>13)|0)+(mn>>>26)|0,mn&=67108863,it=Math.imul(ve,Mi),Z=(Z=Math.imul(ve,Ge))+Math.imul(Ie,Mi)|0,W=Math.imul(Ie,Ge),it=it+Math.imul(Qt,Ei)|0,Z=(Z=Z+Math.imul(Qt,Oe)|0)+Math.imul(ue,Ei)|0,W=W+Math.imul(ue,Oe)|0,it=it+Math.imul(It,ke)|0,Z=(Z=Z+Math.imul(It,re)|0)+Math.imul(gt,ke)|0,W=W+Math.imul(gt,re)|0,it=it+Math.imul(Yt,he)|0,Z=(Z=Z+Math.imul(Yt,Se)|0)+Math.imul(ee,he)|0,W=W+Math.imul(ee,Se)|0,it=it+Math.imul(be,te)|0,Z=(Z=Z+Math.imul(be,Re)|0)+Math.imul(de,te)|0,W=W+Math.imul(de,Re)|0,it=it+Math.imul(Ht,Qe)|0,Z=(Z=Z+Math.imul(Ht,di)|0)+Math.imul(me,Qe)|0,W=W+Math.imul(me,di)|0,it=it+Math.imul(Zt,ci)|0,Z=(Z=Z+Math.imul(Zt,si)|0)+Math.imul(Lt,ci)|0,W=W+Math.imul(Lt,si)|0;var gr=(T+(it=it+Math.imul(Rt,cn)|0)|0)+((8191&(Z=(Z=Z+Math.imul(Rt,Fn)|0)+Math.imul(Dt,cn)|0))<<13)|0;T=((W=W+Math.imul(Dt,Fn)|0)+(Z>>>13)|0)+(gr>>>26)|0,gr&=67108863,it=Math.imul(ve,Ei),Z=(Z=Math.imul(ve,Oe))+Math.imul(Ie,Ei)|0,W=Math.imul(Ie,Oe),it=it+Math.imul(Qt,ke)|0,Z=(Z=Z+Math.imul(Qt,re)|0)+Math.imul(ue,ke)|0,W=W+Math.imul(ue,re)|0,it=it+Math.imul(It,he)|0,Z=(Z=Z+Math.imul(It,Se)|0)+Math.imul(gt,he)|0,W=W+Math.imul(gt,Se)|0,it=it+Math.imul(Yt,te)|0,Z=(Z=Z+Math.imul(Yt,Re)|0)+Math.imul(ee,te)|0,W=W+Math.imul(ee,Re)|0,it=it+Math.imul(be,Qe)|0,Z=(Z=Z+Math.imul(be,di)|0)+Math.imul(de,Qe)|0,W=W+Math.imul(de,di)|0,it=it+Math.imul(Ht,ci)|0,Z=(Z=Z+Math.imul(Ht,si)|0)+Math.imul(me,ci)|0,W=W+Math.imul(me,si)|0;var En=(T+(it=it+Math.imul(Zt,cn)|0)|0)+((8191&(Z=(Z=Z+Math.imul(Zt,Fn)|0)+Math.imul(Lt,cn)|0))<<13)|0;T=((W=W+Math.imul(Lt,Fn)|0)+(Z>>>13)|0)+(En>>>26)|0,En&=67108863,it=Math.imul(ve,ke),Z=(Z=Math.imul(ve,re))+Math.imul(Ie,ke)|0,W=Math.imul(Ie,re),it=it+Math.imul(Qt,he)|0,Z=(Z=Z+Math.imul(Qt,Se)|0)+Math.imul(ue,he)|0,W=W+Math.imul(ue,Se)|0,it=it+Math.imul(It,te)|0,Z=(Z=Z+Math.imul(It,Re)|0)+Math.imul(gt,te)|0,W=W+Math.imul(gt,Re)|0,it=it+Math.imul(Yt,Qe)|0,Z=(Z=Z+Math.imul(Yt,di)|0)+Math.imul(ee,Qe)|0,W=W+Math.imul(ee,di)|0,it=it+Math.imul(be,ci)|0,Z=(Z=Z+Math.imul(be,si)|0)+Math.imul(de,ci)|0,W=W+Math.imul(de,si)|0;var _o=(T+(it=it+Math.imul(Ht,cn)|0)|0)+((8191&(Z=(Z=Z+Math.imul(Ht,Fn)|0)+Math.imul(me,cn)|0))<<13)|0;T=((W=W+Math.imul(me,Fn)|0)+(Z>>>13)|0)+(_o>>>26)|0,_o&=67108863,it=Math.imul(ve,he),Z=(Z=Math.imul(ve,Se))+Math.imul(Ie,he)|0,W=Math.imul(Ie,Se),it=it+Math.imul(Qt,te)|0,Z=(Z=Z+Math.imul(Qt,Re)|0)+Math.imul(ue,te)|0,W=W+Math.imul(ue,Re)|0,it=it+Math.imul(It,Qe)|0,Z=(Z=Z+Math.imul(It,di)|0)+Math.imul(gt,Qe)|0,W=W+Math.imul(gt,di)|0,it=it+Math.imul(Yt,ci)|0,Z=(Z=Z+Math.imul(Yt,si)|0)+Math.imul(ee,ci)|0,W=W+Math.imul(ee,si)|0;var No=(T+(it=it+Math.imul(be,cn)|0)|0)+((8191&(Z=(Z=Z+Math.imul(be,Fn)|0)+Math.imul(de,cn)|0))<<13)|0;T=((W=W+Math.imul(de,Fn)|0)+(Z>>>13)|0)+(No>>>26)|0,No&=67108863,it=Math.imul(ve,te),Z=(Z=Math.imul(ve,Re))+Math.imul(Ie,te)|0,W=Math.imul(Ie,Re),it=it+Math.imul(Qt,Qe)|0,Z=(Z=Z+Math.imul(Qt,di)|0)+Math.imul(ue,Qe)|0,W=W+Math.imul(ue,di)|0,it=it+Math.imul(It,ci)|0,Z=(Z=Z+Math.imul(It,si)|0)+Math.imul(gt,ci)|0,W=W+Math.imul(gt,si)|0;var Hi=(T+(it=it+Math.imul(Yt,cn)|0)|0)+((8191&(Z=(Z=Z+Math.imul(Yt,Fn)|0)+Math.imul(ee,cn)|0))<<13)|0;T=((W=W+Math.imul(ee,Fn)|0)+(Z>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,it=Math.imul(ve,Qe),Z=(Z=Math.imul(ve,di))+Math.imul(Ie,Qe)|0,W=Math.imul(Ie,di),it=it+Math.imul(Qt,ci)|0,Z=(Z=Z+Math.imul(Qt,si)|0)+Math.imul(ue,ci)|0,W=W+Math.imul(ue,si)|0;var Un=(T+(it=it+Math.imul(It,cn)|0)|0)+((8191&(Z=(Z=Z+Math.imul(It,Fn)|0)+Math.imul(gt,cn)|0))<<13)|0;T=((W=W+Math.imul(gt,Fn)|0)+(Z>>>13)|0)+(Un>>>26)|0,Un&=67108863,it=Math.imul(ve,ci),Z=(Z=Math.imul(ve,si))+Math.imul(Ie,ci)|0,W=Math.imul(Ie,si);var Ou=(T+(it=it+Math.imul(Qt,cn)|0)|0)+((8191&(Z=(Z=Z+Math.imul(Qt,Fn)|0)+Math.imul(ue,cn)|0))<<13)|0;T=((W=W+Math.imul(ue,Fn)|0)+(Z>>>13)|0)+(Ou>>>26)|0,Ou&=67108863;var gc=(T+(it=Math.imul(ve,cn))|0)+((8191&(Z=(Z=Math.imul(ve,Fn))+Math.imul(Ie,cn)|0))<<13)|0;return T=((W=Math.imul(Ie,Fn))+(Z>>>13)|0)+(gc>>>26)|0,gc&=67108863,p[0]=Or,p[1]=Vn,p[2]=Jn,p[3]=hn,p[4]=jr,p[5]=wr,p[6]=br,p[7]=Xn,p[8]=Co,p[9]=Ti,p[10]=mn,p[11]=gr,p[12]=En,p[13]=_o,p[14]=No,p[15]=Hi,p[16]=Un,p[17]=Ou,p[18]=gc,0!==T&&(p[19]=T,S.length++),S};function nt(y,v,M){M.negative=v.negative^y.negative,M.length=y.length+v.length;for(var S=0,I=0,C=0;C<M.length-1;C++){var p=I;I=0;for(var T=67108863&S,it=Math.min(C,v.length-1),Z=Math.max(0,C-y.length+1);Z<=it;Z++){var Vt=(0|y.words[C-Z])*(0|v.words[Z]),Ut=67108863&Vt;T=67108863&(Ut=Ut+T|0),I+=(p=(p=p+(Vt/67108864|0)|0)+(Ut>>>26)|0)>>>26,p&=67108863}M.words[C]=T,S=p,p=I}return 0!==S?M.words[C]=S:M.length--,M._strip()}function Q(y,v,M){return nt(y,v,M)}function lt(y,v){this.x=y,this.y=v}Math.imul||(z=J),E.prototype.mulTo=function(v,M){var I=this.length+v.length;return 10===this.length&&10===v.length?z(this,v,M):I<63?J(this,v,M):I<1024?nt(this,v,M):Q(this,v,M)},lt.prototype.makeRBT=function(v){for(var M=new Array(v),S=E.prototype._countBits(v)-1,I=0;I<v;I++)M[I]=this.revBin(I,S,v);return M},lt.prototype.revBin=function(v,M,S){if(0===v||v===S-1)return v;for(var I=0,C=0;C<M;C++)I|=(1&v)<<M-C-1,v>>=1;return I},lt.prototype.permute=function(v,M,S,I,C,p){for(var T=0;T<p;T++)I[T]=M[v[T]],C[T]=S[v[T]]},lt.prototype.transform=function(v,M,S,I,C,p){this.permute(p,v,M,S,I,C);for(var T=1;T<C;T<<=1)for(var it=T<<1,Z=Math.cos(2*Math.PI/it),W=Math.sin(2*Math.PI/it),yt=0;yt<C;yt+=it)for(var wt=Z,Vt=W,Ut=0;Ut<T;Ut++){var At=S[yt+Ut],bt=I[yt+Ut],qt=S[yt+Ut+T],Rt=I[yt+Ut+T],Dt=wt*qt-Vt*Rt;Rt=wt*Rt+Vt*qt,S[yt+Ut]=At+(qt=Dt),I[yt+Ut]=bt+Rt,S[yt+Ut+T]=At-qt,I[yt+Ut+T]=bt-Rt,Ut!==it&&(Dt=Z*wt-W*Vt,Vt=Z*Vt+W*wt,wt=Dt)}},lt.prototype.guessLen13b=function(v,M){var S=1|Math.max(M,v),I=1&S,C=0;for(S=S/2|0;S;S>>>=1)C++;return 1<<C+1+I},lt.prototype.conjugate=function(v,M,S){if(!(S<=1))for(var I=0;I<S/2;I++){var C=v[I];v[I]=v[S-I-1],v[S-I-1]=C,C=M[I],M[I]=-M[S-I-1],M[S-I-1]=-C}},lt.prototype.normalize13b=function(v,M){for(var S=0,I=0;I<M/2;I++){var C=8192*Math.round(v[2*I+1]/M)+Math.round(v[2*I]/M)+S;v[I]=67108863&C,S=C<67108864?0:C/67108864|0}return v},lt.prototype.convert13b=function(v,M,S,I){for(var C=0,p=0;p<M;p++)S[2*p]=8191&(C+=0|v[p]),S[2*p+1]=8191&(C>>>=13),C>>>=13;for(p=2*M;p<I;++p)S[p]=0;ft(0===C),ft(0==(-8192&C))},lt.prototype.stub=function(v){for(var M=new Array(v),S=0;S<v;S++)M[S]=0;return M},lt.prototype.mulp=function(v,M,S){var I=2*this.guessLen13b(v.length,M.length),C=this.makeRBT(I),p=this.stub(I),T=new Array(I),it=new Array(I),Z=new Array(I),W=new Array(I),yt=new Array(I),wt=new Array(I),Vt=S.words;Vt.length=I,this.convert13b(v.words,v.length,T,I),this.convert13b(M.words,M.length,W,I),this.transform(T,p,it,Z,I,C),this.transform(W,p,yt,wt,I,C);for(var Ut=0;Ut<I;Ut++){var At=it[Ut]*yt[Ut]-Z[Ut]*wt[Ut];Z[Ut]=it[Ut]*wt[Ut]+Z[Ut]*yt[Ut],it[Ut]=At}return this.conjugate(it,Z,I),this.transform(it,Z,Vt,p,I,C),this.conjugate(Vt,p,I),this.normalize13b(Vt,I),S.negative=v.negative^M.negative,S.length=v.length+M.length,S._strip()},E.prototype.mul=function(v){var M=new E(null);return M.words=new Array(this.length+v.length),this.mulTo(v,M)},E.prototype.mulf=function(v){var M=new E(null);return M.words=new Array(this.length+v.length),Q(this,v,M)},E.prototype.imul=function(v){return this.clone().mulTo(v,this)},E.prototype.imuln=function(v){var M=v<0;M&&(v=-v),ft("number"==typeof v),ft(v<67108864);for(var S=0,I=0;I<this.length;I++){var C=(0|this.words[I])*v,p=(67108863&C)+(67108863&S);S>>=26,S+=C/67108864|0,S+=p>>>26,this.words[I]=67108863&p}return 0!==S&&(this.words[I]=S,this.length++),M?this.ineg():this},E.prototype.muln=function(v){return this.clone().imuln(v)},E.prototype.sqr=function(){return this.mul(this)},E.prototype.isqr=function(){return this.imul(this.clone())},E.prototype.pow=function(v){var M=function(y){for(var v=new Array(y.bitLength()),M=0;M<v.length;M++)v[M]=y.words[M/26|0]>>>M%26&1;return v}(v);if(0===M.length)return new E(1);for(var S=this,I=0;I<M.length&&0===M[I];I++,S=S.sqr());if(++I<M.length)for(var C=S.sqr();I<M.length;I++,C=C.sqr())0!==M[I]&&(S=S.mul(C));return S},E.prototype.iushln=function(v){ft("number"==typeof v&&v>=0);var C,M=v%26,S=(v-M)/26,I=67108863>>>26-M<<26-M;if(0!==M){var p=0;for(C=0;C<this.length;C++){var T=this.words[C]&I;this.words[C]=(0|this.words[C])-T<<M|p,p=T>>>26-M}p&&(this.words[C]=p,this.length++)}if(0!==S){for(C=this.length-1;C>=0;C--)this.words[C+S]=this.words[C];for(C=0;C<S;C++)this.words[C]=0;this.length+=S}return this._strip()},E.prototype.ishln=function(v){return ft(0===this.negative),this.iushln(v)},E.prototype.iushrn=function(v,M,S){var I;ft("number"==typeof v&&v>=0),I=M?(M-M%26)/26:0;var C=v%26,p=Math.min((v-C)/26,this.length),T=67108863^67108863>>>C<<C,it=S;if(I-=p,I=Math.max(0,I),it){for(var Z=0;Z<p;Z++)it.words[Z]=this.words[Z];it.length=p}if(0!==p)if(this.length>p)for(this.length-=p,Z=0;Z<this.length;Z++)this.words[Z]=this.words[Z+p];else this.words[0]=0,this.length=1;var W=0;for(Z=this.length-1;Z>=0&&(0!==W||Z>=I);Z--){var yt=0|this.words[Z];this.words[Z]=W<<26-C|yt>>>C,W=yt&T}return it&&0!==W&&(it.words[it.length++]=W),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},E.prototype.ishrn=function(v,M,S){return ft(0===this.negative),this.iushrn(v,M,S)},E.prototype.shln=function(v){return this.clone().ishln(v)},E.prototype.ushln=function(v){return this.clone().iushln(v)},E.prototype.shrn=function(v){return this.clone().ishrn(v)},E.prototype.ushrn=function(v){return this.clone().iushrn(v)},E.prototype.testn=function(v){ft("number"==typeof v&&v>=0);var M=v%26,S=(v-M)/26;return!(this.length<=S||!(this.words[S]&1<<M))},E.prototype.imaskn=function(v){ft("number"==typeof v&&v>=0);var M=v%26,S=(v-M)/26;return ft(0===this.negative,"imaskn works only with positive numbers"),this.length<=S?this:(0!==M&&S++,this.length=Math.min(S,this.length),0!==M&&(this.words[this.length-1]&=67108863^67108863>>>M<<M),this._strip())},E.prototype.maskn=function(v){return this.clone().imaskn(v)},E.prototype.iaddn=function(v){return ft("number"==typeof v),ft(v<67108864),v<0?this.isubn(-v):0!==this.negative?1===this.length&&(0|this.words[0])<=v?(this.words[0]=v-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(v),this.negative=1,this):this._iaddn(v)},E.prototype._iaddn=function(v){this.words[0]+=v;for(var M=0;M<this.length&&this.words[M]>=67108864;M++)this.words[M]-=67108864,M===this.length-1?this.words[M+1]=1:this.words[M+1]++;return this.length=Math.max(this.length,M+1),this},E.prototype.isubn=function(v){if(ft("number"==typeof v),ft(v<67108864),v<0)return this.iaddn(-v);if(0!==this.negative)return this.negative=0,this.iaddn(v),this.negative=1,this;if(this.words[0]-=v,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var M=0;M<this.length&&this.words[M]<0;M++)this.words[M]+=67108864,this.words[M+1]-=1;return this._strip()},E.prototype.addn=function(v){return this.clone().iaddn(v)},E.prototype.subn=function(v){return this.clone().isubn(v)},E.prototype.iabs=function(){return this.negative=0,this},E.prototype.abs=function(){return this.clone().iabs()},E.prototype._ishlnsubmul=function(v,M,S){var C;this._expand(v.length+S);var p,T=0;for(C=0;C<v.length;C++){p=(0|this.words[C+S])+T;var it=(0|v.words[C])*M;T=((p-=67108863&it)>>26)-(it/67108864|0),this.words[C+S]=67108863&p}for(;C<this.length-S;C++)T=(p=(0|this.words[C+S])+T)>>26,this.words[C+S]=67108863&p;if(0===T)return this._strip();for(ft(-1===T),T=0,C=0;C<this.length;C++)T=(p=-(0|this.words[C])+T)>>26,this.words[C]=67108863&p;return this.negative=1,this._strip()},E.prototype._wordDiv=function(v,M){var S,I=this.clone(),C=v,p=0|C.words[C.length-1];0!=(S=26-this._countBits(p))&&(C=C.ushln(S),I.iushln(S),p=0|C.words[C.length-1]);var Z,it=I.length-C.length;if("mod"!==M){(Z=new E(null)).length=it+1,Z.words=new Array(Z.length);for(var W=0;W<Z.length;W++)Z.words[W]=0}var yt=I.clone()._ishlnsubmul(C,1,it);0===yt.negative&&(I=yt,Z&&(Z.words[it]=1));for(var wt=it-1;wt>=0;wt--){var Vt=67108864*(0|I.words[C.length+wt])+(0|I.words[C.length+wt-1]);for(Vt=Math.min(Vt/p|0,67108863),I._ishlnsubmul(C,Vt,wt);0!==I.negative;)Vt--,I.negative=0,I._ishlnsubmul(C,1,wt),I.isZero()||(I.negative^=1);Z&&(Z.words[wt]=Vt)}return Z&&Z._strip(),I._strip(),"div"!==M&&0!==S&&I.iushrn(S),{div:Z||null,mod:I}},E.prototype.divmod=function(v,M,S){return ft(!v.isZero()),this.isZero()?{div:new E(0),mod:new E(0)}:0!==this.negative&&0===v.negative?(p=this.neg().divmod(v,M),"mod"!==M&&(I=p.div.neg()),"div"!==M&&(C=p.mod.neg(),S&&0!==C.negative&&C.iadd(v)),{div:I,mod:C}):0===this.negative&&0!==v.negative?(p=this.divmod(v.neg(),M),"mod"!==M&&(I=p.div.neg()),{div:I,mod:p.mod}):0!=(this.negative&v.negative)?(p=this.neg().divmod(v.neg(),M),"div"!==M&&(C=p.mod.neg(),S&&0!==C.negative&&C.isub(v)),{div:p.div,mod:C}):v.length>this.length||this.cmp(v)<0?{div:new E(0),mod:this}:1===v.length?"div"===M?{div:this.divn(v.words[0]),mod:null}:"mod"===M?{div:null,mod:new E(this.modrn(v.words[0]))}:{div:this.divn(v.words[0]),mod:new E(this.modrn(v.words[0]))}:this._wordDiv(v,M);var I,C,p},E.prototype.div=function(v){return this.divmod(v,"div",!1).div},E.prototype.mod=function(v){return this.divmod(v,"mod",!1).mod},E.prototype.umod=function(v){return this.divmod(v,"mod",!0).mod},E.prototype.divRound=function(v){var M=this.divmod(v);if(M.mod.isZero())return M.div;var S=0!==M.div.negative?M.mod.isub(v):M.mod,I=v.ushrn(1),C=v.andln(1),p=S.cmp(I);return p<0||1===C&&0===p?M.div:0!==M.div.negative?M.div.isubn(1):M.div.iaddn(1)},E.prototype.modrn=function(v){var M=v<0;M&&(v=-v),ft(v<=67108863);for(var S=(1<<26)%v,I=0,C=this.length-1;C>=0;C--)I=(S*I+(0|this.words[C]))%v;return M?-I:I},E.prototype.modn=function(v){return this.modrn(v)},E.prototype.idivn=function(v){var M=v<0;M&&(v=-v),ft(v<=67108863);for(var S=0,I=this.length-1;I>=0;I--){var C=(0|this.words[I])+67108864*S;this.words[I]=C/v|0,S=C%v}return this._strip(),M?this.ineg():this},E.prototype.divn=function(v){return this.clone().idivn(v)},E.prototype.egcd=function(v){ft(0===v.negative),ft(!v.isZero());var M=this,S=v.clone();M=0!==M.negative?M.umod(v):M.clone();for(var I=new E(1),C=new E(0),p=new E(0),T=new E(1),it=0;M.isEven()&&S.isEven();)M.iushrn(1),S.iushrn(1),++it;for(var Z=S.clone(),W=M.clone();!M.isZero();){for(var yt=0,wt=1;0==(M.words[0]&wt)&&yt<26;++yt,wt<<=1);if(yt>0)for(M.iushrn(yt);yt-- >0;)(I.isOdd()||C.isOdd())&&(I.iadd(Z),C.isub(W)),I.iushrn(1),C.iushrn(1);for(var Vt=0,Ut=1;0==(S.words[0]&Ut)&&Vt<26;++Vt,Ut<<=1);if(Vt>0)for(S.iushrn(Vt);Vt-- >0;)(p.isOdd()||T.isOdd())&&(p.iadd(Z),T.isub(W)),p.iushrn(1),T.iushrn(1);M.cmp(S)>=0?(M.isub(S),I.isub(p),C.isub(T)):(S.isub(M),p.isub(I),T.isub(C))}return{a:p,b:T,gcd:S.iushln(it)}},E.prototype._invmp=function(v){ft(0===v.negative),ft(!v.isZero());var yt,M=this,S=v.clone();M=0!==M.negative?M.umod(v):M.clone();for(var I=new E(1),C=new E(0),p=S.clone();M.cmpn(1)>0&&S.cmpn(1)>0;){for(var T=0,it=1;0==(M.words[0]&it)&&T<26;++T,it<<=1);if(T>0)for(M.iushrn(T);T-- >0;)I.isOdd()&&I.iadd(p),I.iushrn(1);for(var Z=0,W=1;0==(S.words[0]&W)&&Z<26;++Z,W<<=1);if(Z>0)for(S.iushrn(Z);Z-- >0;)C.isOdd()&&C.iadd(p),C.iushrn(1);M.cmp(S)>=0?(M.isub(S),I.isub(C)):(S.isub(M),C.isub(I))}return(yt=0===M.cmpn(1)?I:C).cmpn(0)<0&&yt.iadd(v),yt},E.prototype.gcd=function(v){if(this.isZero())return v.abs();if(v.isZero())return this.abs();var M=this.clone(),S=v.clone();M.negative=0,S.negative=0;for(var I=0;M.isEven()&&S.isEven();I++)M.iushrn(1),S.iushrn(1);for(;;){for(;M.isEven();)M.iushrn(1);for(;S.isEven();)S.iushrn(1);var C=M.cmp(S);if(C<0){var p=M;M=S,S=p}else if(0===C||0===S.cmpn(1))break;M.isub(S)}return S.iushln(I)},E.prototype.invm=function(v){return this.egcd(v).a.umod(v)},E.prototype.isEven=function(){return 0==(1&this.words[0])},E.prototype.isOdd=function(){return 1==(1&this.words[0])},E.prototype.andln=function(v){return this.words[0]&v},E.prototype.bincn=function(v){ft("number"==typeof v);var M=v%26,S=(v-M)/26,I=1<<M;if(this.length<=S)return this._expand(S+1),this.words[S]|=I,this;for(var C=I,p=S;0!==C&&p<this.length;p++){var T=0|this.words[p];C=(T+=C)>>>26,this.words[p]=T&=67108863}return 0!==C&&(this.words[p]=C,this.length++),this},E.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},E.prototype.cmpn=function(v){var S,M=v<0;if(0!==this.negative&&!M)return-1;if(0===this.negative&&M)return 1;if(this._strip(),this.length>1)S=1;else{M&&(v=-v),ft(v<=67108863,"Number is too big");var I=0|this.words[0];S=I===v?0:I<v?-1:1}return 0!==this.negative?0|-S:S},E.prototype.cmp=function(v){if(0!==this.negative&&0===v.negative)return-1;if(0===this.negative&&0!==v.negative)return 1;var M=this.ucmp(v);return 0!==this.negative?0|-M:M},E.prototype.ucmp=function(v){if(this.length>v.length)return 1;if(this.length<v.length)return-1;for(var M=0,S=this.length-1;S>=0;S--){var I=0|this.words[S],C=0|v.words[S];if(I!==C){I<C?M=-1:I>C&&(M=1);break}}return M},E.prototype.gtn=function(v){return 1===this.cmpn(v)},E.prototype.gt=function(v){return 1===this.cmp(v)},E.prototype.gten=function(v){return this.cmpn(v)>=0},E.prototype.gte=function(v){return this.cmp(v)>=0},E.prototype.ltn=function(v){return-1===this.cmpn(v)},E.prototype.lt=function(v){return-1===this.cmp(v)},E.prototype.lten=function(v){return this.cmpn(v)<=0},E.prototype.lte=function(v){return this.cmp(v)<=0},E.prototype.eqn=function(v){return 0===this.cmpn(v)},E.prototype.eq=function(v){return 0===this.cmp(v)},E.red=function(v){return new u(v)},E.prototype.toRed=function(v){return ft(!this.red,"Already a number in reduction context"),ft(0===this.negative,"red works only with positives"),v.convertTo(this)._forceRed(v)},E.prototype.fromRed=function(){return ft(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},E.prototype._forceRed=function(v){return this.red=v,this},E.prototype.forceRed=function(v){return ft(!this.red,"Already a number in reduction context"),this._forceRed(v)},E.prototype.redAdd=function(v){return ft(this.red,"redAdd works only with red numbers"),this.red.add(this,v)},E.prototype.redIAdd=function(v){return ft(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,v)},E.prototype.redSub=function(v){return ft(this.red,"redSub works only with red numbers"),this.red.sub(this,v)},E.prototype.redISub=function(v){return ft(this.red,"redISub works only with red numbers"),this.red.isub(this,v)},E.prototype.redShl=function(v){return ft(this.red,"redShl works only with red numbers"),this.red.shl(this,v)},E.prototype.redMul=function(v){return ft(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.mul(this,v)},E.prototype.redIMul=function(v){return ft(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.imul(this,v)},E.prototype.redSqr=function(){return ft(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},E.prototype.redISqr=function(){return ft(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},E.prototype.redSqrt=function(){return ft(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},E.prototype.redInvm=function(){return ft(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},E.prototype.redNeg=function(){return ft(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},E.prototype.redPow=function(v){return ft(this.red&&!v.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,v)};var _t={k256:null,p224:null,p192:null,p25519:null};function Ct(y,v){this.name=y,this.p=new E(v,16),this.n=this.p.bitLength(),this.k=new E(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function kt(){Ct.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function Et(){Ct.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function St(){Ct.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function R(){Ct.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function u(y){if("string"==typeof y){var v=E._prime(y);this.m=v.p,this.prime=v}else ft(y.gtn(1),"modulus must be greater than 1"),this.m=y,this.prime=null}function m(y){u.call(this,y),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new E(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Ct.prototype._tmp=function(){var v=new E(null);return v.words=new Array(Math.ceil(this.n/13)),v},Ct.prototype.ireduce=function(v){var S,M=v;do{this.split(M,this.tmp),S=(M=(M=this.imulK(M)).iadd(this.tmp)).bitLength()}while(S>this.n);var I=S<this.n?-1:M.ucmp(this.p);return 0===I?(M.words[0]=0,M.length=1):I>0?M.isub(this.p):void 0!==M.strip?M.strip():M._strip(),M},Ct.prototype.split=function(v,M){v.iushrn(this.n,0,M)},Ct.prototype.imulK=function(v){return v.imul(this.k)},dt(kt,Ct),kt.prototype.split=function(v,M){for(var S=4194303,I=Math.min(v.length,9),C=0;C<I;C++)M.words[C]=v.words[C];if(M.length=I,v.length<=9)return v.words[0]=0,void(v.length=1);var p=v.words[9];for(M.words[M.length++]=p&S,C=10;C<v.length;C++){var T=0|v.words[C];v.words[C-10]=(T&S)<<4|p>>>22,p=T}v.words[C-10]=p>>>=22,v.length-=0===p&&v.length>10?10:9},kt.prototype.imulK=function(v){v.words[v.length]=0,v.words[v.length+1]=0,v.length+=2;for(var M=0,S=0;S<v.length;S++){var I=0|v.words[S];v.words[S]=67108863&(M+=977*I),M=64*I+(M/67108864|0)}return 0===v.words[v.length-1]&&(v.length--,0===v.words[v.length-1]&&v.length--),v},dt(Et,Ct),dt(St,Ct),dt(R,Ct),R.prototype.imulK=function(v){for(var M=0,S=0;S<v.length;S++){var I=19*(0|v.words[S])+M,C=67108863&I;I>>>=26,v.words[S]=C,M=I}return 0!==M&&(v.words[v.length++]=M),v},E._prime=function(v){if(_t[v])return _t[v];var M;if("k256"===v)M=new kt;else if("p224"===v)M=new Et;else if("p192"===v)M=new St;else{if("p25519"!==v)throw new Error("Unknown prime "+v);M=new R}return _t[v]=M,M},u.prototype._verify1=function(v){ft(0===v.negative,"red works only with positives"),ft(v.red,"red works only with red numbers")},u.prototype._verify2=function(v,M){ft(0==(v.negative|M.negative),"red works only with positives"),ft(v.red&&v.red===M.red,"red works only with red numbers")},u.prototype.imod=function(v){return this.prime?this.prime.ireduce(v)._forceRed(this):(X(v,v.umod(this.m)._forceRed(this)),v)},u.prototype.neg=function(v){return v.isZero()?v.clone():this.m.sub(v)._forceRed(this)},u.prototype.add=function(v,M){this._verify2(v,M);var S=v.add(M);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},u.prototype.iadd=function(v,M){this._verify2(v,M);var S=v.iadd(M);return S.cmp(this.m)>=0&&S.isub(this.m),S},u.prototype.sub=function(v,M){this._verify2(v,M);var S=v.sub(M);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},u.prototype.isub=function(v,M){this._verify2(v,M);var S=v.isub(M);return S.cmpn(0)<0&&S.iadd(this.m),S},u.prototype.shl=function(v,M){return this._verify1(v),this.imod(v.ushln(M))},u.prototype.imul=function(v,M){return this._verify2(v,M),this.imod(v.imul(M))},u.prototype.mul=function(v,M){return this._verify2(v,M),this.imod(v.mul(M))},u.prototype.isqr=function(v){return this.imul(v,v.clone())},u.prototype.sqr=function(v){return this.mul(v,v)},u.prototype.sqrt=function(v){if(v.isZero())return v.clone();var M=this.m.andln(3);if(ft(M%2==1),3===M){var S=this.m.add(new E(1)).iushrn(2);return this.pow(v,S)}for(var I=this.m.subn(1),C=0;!I.isZero()&&0===I.andln(1);)C++,I.iushrn(1);ft(!I.isZero());var p=new E(1).toRed(this),T=p.redNeg(),it=this.m.subn(1).iushrn(1),Z=this.m.bitLength();for(Z=new E(2*Z*Z).toRed(this);0!==this.pow(Z,it).cmp(T);)Z.redIAdd(T);for(var W=this.pow(Z,I),yt=this.pow(v,I.addn(1).iushrn(1)),wt=this.pow(v,I),Vt=C;0!==wt.cmp(p);){for(var Ut=wt,At=0;0!==Ut.cmp(p);At++)Ut=Ut.redSqr();ft(At<Vt);var bt=this.pow(W,new E(1).iushln(Vt-At-1));yt=yt.redMul(bt),W=bt.redSqr(),wt=wt.redMul(W),Vt=At}return yt},u.prototype.invm=function(v){var M=v._invmp(this.m);return 0!==M.negative?(M.negative=0,this.imod(M).redNeg()):this.imod(M)},u.prototype.pow=function(v,M){if(M.isZero())return new E(1).toRed(this);if(0===M.cmpn(1))return v.clone();var I=new Array(16);I[0]=new E(1).toRed(this),I[1]=v;for(var C=2;C<I.length;C++)I[C]=this.mul(I[C-1],v);var p=I[0],T=0,it=0,Z=M.bitLength()%26;for(0===Z&&(Z=26),C=M.length-1;C>=0;C--){for(var W=M.words[C],yt=Z-1;yt>=0;yt--){var wt=W>>yt&1;p!==I[0]&&(p=this.sqr(p)),0!==wt||0!==T?(T<<=1,T|=wt,(4==++it||0===C&&0===yt)&&(p=this.mul(p,I[T]),it=0,T=0)):it=0}Z=26}return p},u.prototype.convertTo=function(v){var M=v.umod(this.m);return M===v?M.clone():M},u.prototype.convertFrom=function(v){var M=v.clone();return M.red=null,M},E.mont=function(v){return new m(v)},dt(m,u),m.prototype.convertTo=function(v){return this.imod(v.ushln(this.shift))},m.prototype.convertFrom=function(v){var M=this.imod(v.mul(this.rinv));return M.red=null,M},m.prototype.imul=function(v,M){if(v.isZero()||M.isZero())return v.words[0]=0,v.length=1,v;var S=v.imul(M),I=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=S.isub(I).iushrn(this.shift),p=C;return C.cmp(this.m)>=0?p=C.isub(this.m):C.cmpn(0)<0&&(p=C.iadd(this.m)),p._forceRed(this)},m.prototype.mul=function(v,M){if(v.isZero()||M.isZero())return new E(0)._forceRed(this);var S=v.mul(M),I=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=S.isub(I).iushrn(this.shift),p=C;return C.cmp(this.m)>=0?p=C.isub(this.m):C.cmpn(0)<0&&(p=C.iadd(this.m)),p._forceRed(this)},m.prototype.invm=function(v){return this.imod(v._invmp(this.m).mul(this.r2))._forceRed(this)}}(_e=Ft.nmd(_e),this)},3550:(_e,st,Ft)=>{var zt;function Kt(dt){this.rand=dt}if(_e.exports=function(E){return zt||(zt=new Kt(null)),zt.generate(E)},_e.exports.Rand=Kt,Kt.prototype.generate=function(E){return this._rand(E)},Kt.prototype._rand=function(E){if(this.rand.getBytes)return this.rand.getBytes(E);for(var K=new Uint8Array(E),Y=0;Y<K.length;Y++)K[Y]=this.rand.getByte();return K},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?Kt.prototype._rand=function(E){var K=new Uint8Array(E);return self.crypto.getRandomValues(K),K}:self.msCrypto&&self.msCrypto.getRandomValues?Kt.prototype._rand=function(E){var K=new Uint8Array(E);return self.msCrypto.getRandomValues(K),K}:"object"==typeof window&&(Kt.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var ft=Ft(7702);if("function"!=typeof ft.randomBytes)throw new Error("Not supported");Kt.prototype._rand=function(E){return ft.randomBytes(E)}}catch(dt){}},8541:(_e,st,Ft)=>{var zt=Ft(4615).Buffer;function Kt(ct){zt.isBuffer(ct)||(ct=zt.from(ct));for(var et=ct.length/4|0,X=new Array(et),U=0;U<et;U++)X[U]=ct.readUInt32BE(4*U);return X}function ft(ct){for(;0<ct.length;ct++)ct[0]=0}function dt(ct,et,X,U,at){for(var lt,_t,Ct,kt,V=X[0],$=X[1],H=X[2],G=X[3],J=ct[0]^et[0],z=ct[1]^et[1],nt=ct[2]^et[2],Q=ct[3]^et[3],Et=4,St=1;St<at;St++)lt=V[J>>>24]^$[z>>>16&255]^H[nt>>>8&255]^G[255&Q]^et[Et++],_t=V[z>>>24]^$[nt>>>16&255]^H[Q>>>8&255]^G[255&J]^et[Et++],Ct=V[nt>>>24]^$[Q>>>16&255]^H[J>>>8&255]^G[255&z]^et[Et++],kt=V[Q>>>24]^$[J>>>16&255]^H[z>>>8&255]^G[255&nt]^et[Et++],J=lt,z=_t,nt=Ct,Q=kt;return lt=(U[J>>>24]<<24|U[z>>>16&255]<<16|U[nt>>>8&255]<<8|U[255&Q])^et[Et++],_t=(U[z>>>24]<<24|U[nt>>>16&255]<<16|U[Q>>>8&255]<<8|U[255&J])^et[Et++],Ct=(U[nt>>>24]<<24|U[Q>>>16&255]<<16|U[J>>>8&255]<<8|U[255&z])^et[Et++],kt=(U[Q>>>24]<<24|U[J>>>16&255]<<16|U[z>>>8&255]<<8|U[255&nt])^et[Et++],[lt>>>=0,_t>>>=0,Ct>>>=0,kt>>>=0]}var E=[0,1,2,4,8,16,32,64,128,27,54],K=function(){for(var ct=new Array(256),et=0;et<256;et++)ct[et]=et<128?et<<1:et<<1^283;for(var X=[],U=[],at=[[],[],[],[]],V=[[],[],[],[]],$=0,H=0,G=0;G<256;++G){var J=H^H<<1^H<<2^H<<3^H<<4;X[$]=J=J>>>8^255&J^99,U[J]=$;var z=ct[$],nt=ct[z],Q=ct[nt],lt=257*ct[J]^16843008*J;at[0][$]=lt<<24|lt>>>8,at[1][$]=lt<<16|lt>>>16,at[2][$]=lt<<8|lt>>>24,at[3][$]=lt,V[0][J]=(lt=16843009*Q^65537*nt^257*z^16843008*$)<<24|lt>>>8,V[1][J]=lt<<16|lt>>>16,V[2][J]=lt<<8|lt>>>24,V[3][J]=lt,0===$?$=H=1:($=z^ct[ct[ct[Q^z]]],H^=ct[ct[H]])}return{SBOX:X,INV_SBOX:U,SUB_MIX:at,INV_SUB_MIX:V}}();function Y(ct){this._key=Kt(ct),this._reset()}Y.blockSize=16,Y.keySize=32,Y.prototype.blockSize=Y.blockSize,Y.prototype.keySize=Y.keySize,Y.prototype._reset=function(){for(var ct=this._key,et=ct.length,X=et+6,U=4*(X+1),at=[],V=0;V<et;V++)at[V]=ct[V];for(V=et;V<U;V++){var $=at[V-1];V%et==0?($=K.SBOX[($=$<<8|$>>>24)>>>24]<<24|K.SBOX[$>>>16&255]<<16|K.SBOX[$>>>8&255]<<8|K.SBOX[255&$],$^=E[V/et|0]<<24):et>6&&V%et==4&&($=K.SBOX[$>>>24]<<24|K.SBOX[$>>>16&255]<<16|K.SBOX[$>>>8&255]<<8|K.SBOX[255&$]),at[V]=at[V-et]^$}for(var H=[],G=0;G<U;G++){var J=U-G,z=at[J-(G%4?0:4)];H[G]=G<4||J<=4?z:K.INV_SUB_MIX[0][K.SBOX[z>>>24]]^K.INV_SUB_MIX[1][K.SBOX[z>>>16&255]]^K.INV_SUB_MIX[2][K.SBOX[z>>>8&255]]^K.INV_SUB_MIX[3][K.SBOX[255&z]]}this._nRounds=X,this._keySchedule=at,this._invKeySchedule=H},Y.prototype.encryptBlockRaw=function(ct){return dt(ct=Kt(ct),this._keySchedule,K.SUB_MIX,K.SBOX,this._nRounds)},Y.prototype.encryptBlock=function(ct){var et=this.encryptBlockRaw(ct),X=zt.allocUnsafe(16);return X.writeUInt32BE(et[0],0),X.writeUInt32BE(et[1],4),X.writeUInt32BE(et[2],8),X.writeUInt32BE(et[3],12),X},Y.prototype.decryptBlock=function(ct){var et=(ct=Kt(ct))[1];ct[1]=ct[3],ct[3]=et;var X=dt(ct,this._invKeySchedule,K.INV_SUB_MIX,K.INV_SBOX,this._nRounds),U=zt.allocUnsafe(16);return U.writeUInt32BE(X[0],0),U.writeUInt32BE(X[3],4),U.writeUInt32BE(X[2],8),U.writeUInt32BE(X[1],12),U},Y.prototype.scrub=function(){ft(this._keySchedule),ft(this._invKeySchedule),ft(this._key)},_e.exports.AES=Y},1707:(_e,st,Ft)=>{var zt=Ft(8541),Kt=Ft(4615).Buffer,ft=Ft(8672),dt=Ft(3516),E=Ft(3727),K=Ft(2818),Y=Ft(9636);function X(U,at,V,$){ft.call(this);var H=Kt.alloc(4,0);this._cipher=new zt.AES(at);var G=this._cipher.encryptBlock(H);this._ghash=new E(G),V=function(U,at,V){if(12===at.length)return U._finID=Kt.concat([at,Kt.from([0,0,0,1])]),Kt.concat([at,Kt.from([0,0,0,2])]);var $=new E(V),H=at.length,G=H%16;$.update(at),G&&$.update(Kt.alloc(G=16-G,0)),$.update(Kt.alloc(8,0));var J=8*H,z=Kt.alloc(8);z.writeUIntBE(J,0,8),$.update(z),U._finID=$.state;var nt=Kt.from(U._finID);return Y(nt),nt}(this,V,G),this._prev=Kt.from(V),this._cache=Kt.allocUnsafe(0),this._secCache=Kt.allocUnsafe(0),this._decrypt=$,this._alen=0,this._len=0,this._mode=U,this._authTag=null,this._called=!1}dt(X,ft),X.prototype._update=function(U){if(!this._called&&this._alen){var at=16-this._alen%16;at<16&&(at=Kt.alloc(at,0),this._ghash.update(at))}this._called=!0;var V=this._mode.encrypt(this,U);return this._ghash.update(this._decrypt?U:V),this._len+=U.length,V},X.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var U=K(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(U,at){var V=0;U.length!==at.length&&V++;for(var $=Math.min(U.length,at.length),H=0;H<$;++H)V+=U[H]^at[H];return V}(U,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=U,this._cipher.scrub()},X.prototype.getAuthTag=function(){if(this._decrypt||!Kt.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},X.prototype.setAuthTag=function(at){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=at},X.prototype.setAAD=function(at){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(at),this._alen+=at.length},_e.exports=X},8809:(_e,st,Ft)=>{var zt=Ft(11),Kt=Ft(3441),ft=Ft(4946);st.createCipher=st.Cipher=zt.createCipher,st.createCipheriv=st.Cipheriv=zt.createCipheriv,st.createDecipher=st.Decipher=Kt.createDecipher,st.createDecipheriv=st.Decipheriv=Kt.createDecipheriv,st.listCiphers=st.getCiphers=function(){return Object.keys(ft)}},3441:(_e,st,Ft)=>{var zt=Ft(1707),Kt=Ft(4615).Buffer,ft=Ft(4470),dt=Ft(7217),E=Ft(8672),K=Ft(8541),Y=Ft(4539);function et($,H,G){E.call(this),this._cache=new X,this._last=void 0,this._cipher=new K.AES(H),this._prev=Kt.from(G),this._mode=$,this._autopadding=!0}function X(){this.cache=Kt.allocUnsafe(0)}function at($,H,G){var J=ft[$.toLowerCase()];if(!J)throw new TypeError("invalid suite type");if("string"==typeof G&&(G=Kt.from(G)),"GCM"!==J.mode&&G.length!==J.iv)throw new TypeError("invalid iv length "+G.length);if("string"==typeof H&&(H=Kt.from(H)),H.length!==J.key/8)throw new TypeError("invalid key length "+H.length);return"stream"===J.type?new dt(J.module,H,G,!0):"auth"===J.type?new zt(J.module,H,G,!0):new et(J.module,H,G)}Ft(3516)(et,E),et.prototype._update=function($){this._cache.add($);for(var H,G,J=[];H=this._cache.get(this._autopadding);)G=this._mode.decrypt(this,H),J.push(G);return Kt.concat(J)},et.prototype._final=function(){var $=this._cache.flush();if(this._autopadding)return function($){var H=$[15];if(H<1||H>16)throw new Error("unable to decrypt data");for(var G=-1;++G<H;)if($[G+(16-H)]!==H)throw new Error("unable to decrypt data");if(16!==H)return $.slice(0,16-H)}(this._mode.decrypt(this,$));if($)throw new Error("data not multiple of block length")},et.prototype.setAutoPadding=function($){return this._autopadding=!!$,this},X.prototype.add=function($){this.cache=Kt.concat([this.cache,$])},X.prototype.get=function($){var H;if($){if(this.cache.length>16)return H=this.cache.slice(0,16),this.cache=this.cache.slice(16),H}else if(this.cache.length>=16)return H=this.cache.slice(0,16),this.cache=this.cache.slice(16),H;return null},X.prototype.flush=function(){if(this.cache.length)return this.cache},st.createDecipher=function($,H){var G=ft[$.toLowerCase()];if(!G)throw new TypeError("invalid suite type");var J=Y(H,!1,G.key,G.iv);return at($,J.key,J.iv)},st.createDecipheriv=at},11:(_e,st,Ft)=>{var zt=Ft(4470),Kt=Ft(1707),ft=Ft(4615).Buffer,dt=Ft(7217),E=Ft(8672),K=Ft(8541),Y=Ft(4539);function et($,H,G){E.call(this),this._cache=new U,this._cipher=new K.AES(H),this._prev=ft.from(G),this._mode=$,this._autopadding=!0}Ft(3516)(et,E),et.prototype._update=function($){this._cache.add($);for(var H,G,J=[];H=this._cache.get();)G=this._mode.encrypt(this,H),J.push(G);return ft.concat(J)};var X=ft.alloc(16,16);function U(){this.cache=ft.allocUnsafe(0)}function at($,H,G){var J=zt[$.toLowerCase()];if(!J)throw new TypeError("invalid suite type");if("string"==typeof H&&(H=ft.from(H)),H.length!==J.key/8)throw new TypeError("invalid key length "+H.length);if("string"==typeof G&&(G=ft.from(G)),"GCM"!==J.mode&&G.length!==J.iv)throw new TypeError("invalid iv length "+G.length);return"stream"===J.type?new dt(J.module,H,G):"auth"===J.type?new Kt(J.module,H,G):new et(J.module,H,G)}et.prototype._final=function(){var $=this._cache.flush();if(this._autopadding)return $=this._mode.encrypt(this,$),this._cipher.scrub(),$;if(!$.equals(X))throw this._cipher.scrub(),new Error("data not multiple of block length")},et.prototype.setAutoPadding=function($){return this._autopadding=!!$,this},U.prototype.add=function($){this.cache=ft.concat([this.cache,$])},U.prototype.get=function(){if(this.cache.length>15){var $=this.cache.slice(0,16);return this.cache=this.cache.slice(16),$}return null},U.prototype.flush=function(){for(var $=16-this.cache.length,H=ft.allocUnsafe($),G=-1;++G<$;)H.writeUInt8($,G);return ft.concat([this.cache,H])},st.createCipheriv=at,st.createCipher=function($,H){var G=zt[$.toLowerCase()];if(!G)throw new TypeError("invalid suite type");var J=Y(H,!1,G.key,G.iv);return at($,J.key,J.iv)}},3727:(_e,st,Ft)=>{var zt=Ft(4615).Buffer,Kt=zt.alloc(16,0);function dt(K){var Y=zt.allocUnsafe(16);return Y.writeUInt32BE(K[0]>>>0,0),Y.writeUInt32BE(K[1]>>>0,4),Y.writeUInt32BE(K[2]>>>0,8),Y.writeUInt32BE(K[3]>>>0,12),Y}function E(K){this.h=K,this.state=zt.alloc(16,0),this.cache=zt.allocUnsafe(0)}E.prototype.ghash=function(K){for(var Y=-1;++Y<K.length;)this.state[Y]^=K[Y];this._multiply()},E.prototype._multiply=function(){for(var ct,X,K=function(K){return[K.readUInt32BE(0),K.readUInt32BE(4),K.readUInt32BE(8),K.readUInt32BE(12)]}(this.h),Y=[0,0,0,0],U=-1;++U<128;){for(0!=(this.state[~~(U/8)]&1<<7-U%8)&&(Y[0]^=K[0],Y[1]^=K[1],Y[2]^=K[2],Y[3]^=K[3]),X=0!=(1&K[3]),ct=3;ct>0;ct--)K[ct]=K[ct]>>>1|(1&K[ct-1])<<31;K[0]=K[0]>>>1,X&&(K[0]=K[0]^225<<24)}this.state=dt(Y)},E.prototype.update=function(K){this.cache=zt.concat([this.cache,K]);for(var Y;this.cache.length>=16;)Y=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(Y)},E.prototype.final=function(K,Y){return this.cache.length&&this.ghash(zt.concat([this.cache,Kt],16)),this.ghash(dt([0,K,0,Y])),this.state},_e.exports=E},9636:_e=>{_e.exports=function(Ft){for(var Kt,zt=Ft.length;zt--;){if(255!==(Kt=Ft.readUInt8(zt))){Kt++,Ft.writeUInt8(Kt,zt);break}Ft.writeUInt8(0,zt)}}},2642:(_e,st,Ft)=>{var zt=Ft(2818);st.encrypt=function(Kt,ft){var dt=zt(ft,Kt._prev);return Kt._prev=Kt._cipher.encryptBlock(dt),Kt._prev},st.decrypt=function(Kt,ft){var dt=Kt._prev;Kt._prev=ft;var E=Kt._cipher.decryptBlock(ft);return zt(E,dt)}},7925:(_e,st,Ft)=>{var zt=Ft(4615).Buffer,Kt=Ft(2818);function ft(dt,E,K){var Y=E.length,ct=Kt(E,dt._cache);return dt._cache=dt._cache.slice(Y),dt._prev=zt.concat([dt._prev,K?E:ct]),ct}st.encrypt=function(dt,E,K){for(var ct,Y=zt.allocUnsafe(0);E.length;){if(0===dt._cache.length&&(dt._cache=dt._cipher.encryptBlock(dt._prev),dt._prev=zt.allocUnsafe(0)),!(dt._cache.length<=E.length)){Y=zt.concat([Y,ft(dt,E,K)]);break}Y=zt.concat([Y,ft(dt,E.slice(0,ct=dt._cache.length),K)]),E=E.slice(ct)}return Y}},1866:(_e,st,Ft)=>{var zt=Ft(4615).Buffer;function Kt(dt,E,K){for(var U,at,ct=-1,X=0;++ct<8;)X+=(128&(at=dt._cipher.encryptBlock(dt._prev)[0]^(U=E&1<<7-ct?128:0)))>>ct%8,dt._prev=ft(dt._prev,K?U:at);return X}function ft(dt,E){var K=dt.length,Y=-1,ct=zt.allocUnsafe(dt.length);for(dt=zt.concat([dt,zt.from([E])]);++Y<K;)ct[Y]=dt[Y]<<1|dt[Y+1]>>7;return ct}st.encrypt=function(dt,E,K){for(var Y=E.length,ct=zt.allocUnsafe(Y),et=-1;++et<Y;)ct[et]=Kt(dt,E[et],K);return ct}},2374:(_e,st,Ft)=>{var zt=Ft(4615).Buffer;function Kt(ft,dt,E){var Y=ft._cipher.encryptBlock(ft._prev)[0]^dt;return ft._prev=zt.concat([ft._prev.slice(1),zt.from([E?dt:Y])]),Y}st.encrypt=function(ft,dt,E){for(var K=dt.length,Y=zt.allocUnsafe(K),ct=-1;++ct<K;)Y[ct]=Kt(ft,dt[ct],E);return Y}},3971:(_e,st,Ft)=>{var zt=Ft(2818),Kt=Ft(4615).Buffer,ft=Ft(9636);function dt(K){var Y=K._cipher.encryptBlockRaw(K._prev);return ft(K._prev),Y}st.encrypt=function(K,Y){var ct=Math.ceil(Y.length/16),et=K._cache.length;K._cache=Kt.concat([K._cache,Kt.allocUnsafe(16*ct)]);for(var X=0;X<ct;X++){var U=dt(K),at=et+16*X;K._cache.writeUInt32BE(U[0],at+0),K._cache.writeUInt32BE(U[1],at+4),K._cache.writeUInt32BE(U[2],at+8),K._cache.writeUInt32BE(U[3],at+12)}var V=K._cache.slice(0,Y.length);return K._cache=K._cache.slice(Y.length),zt(Y,V)}},5321:(_e,st)=>{st.encrypt=function(Ft,zt){return Ft._cipher.encryptBlock(zt)},st.decrypt=function(Ft,zt){return Ft._cipher.decryptBlock(zt)}},4470:(_e,st,Ft)=>{var zt={ECB:Ft(5321),CBC:Ft(2642),CFB:Ft(7925),CFB8:Ft(2374),CFB1:Ft(1866),OFB:Ft(7633),CTR:Ft(3971),GCM:Ft(3971)},Kt=Ft(4946);for(var ft in Kt)Kt[ft].module=zt[Kt[ft].mode];_e.exports=Kt},7633:(_e,st,Ft)=>{var zt=Ft(2818);function Kt(ft){return ft._prev=ft._cipher.encryptBlock(ft._prev),ft._prev}st.encrypt=function(ft,dt){for(;ft._cache.length<dt.length;)ft._cache=Buffer.concat([ft._cache,Kt(ft)]);var E=ft._cache.slice(0,dt.length);return ft._cache=ft._cache.slice(dt.length),zt(dt,E)}},7217:(_e,st,Ft)=>{var zt=Ft(8541),Kt=Ft(4615).Buffer,ft=Ft(8672);function E(K,Y,ct,et){ft.call(this),this._cipher=new zt.AES(Y),this._prev=Kt.from(ct),this._cache=Kt.allocUnsafe(0),this._secCache=Kt.allocUnsafe(0),this._decrypt=et,this._mode=K}Ft(3516)(E,ft),E.prototype._update=function(K){return this._mode.encrypt(this,K,this._decrypt)},E.prototype._final=function(){this._cipher.scrub()},_e.exports=E},5828:(_e,st,Ft)=>{var zt=Ft(4848),Kt=Ft(8809),ft=Ft(4470),dt=Ft(1580),E=Ft(4539);function ct(U,at,V){if(U=U.toLowerCase(),ft[U])return Kt.createCipheriv(U,at,V);if(dt[U])return new zt({key:at,iv:V,mode:U});throw new TypeError("invalid suite type")}function et(U,at,V){if(U=U.toLowerCase(),ft[U])return Kt.createDecipheriv(U,at,V);if(dt[U])return new zt({key:at,iv:V,mode:U,decrypt:!0});throw new TypeError("invalid suite type")}st.createCipher=st.Cipher=function(U,at){var V,$;if(U=U.toLowerCase(),ft[U])V=ft[U].key,$=ft[U].iv;else{if(!dt[U])throw new TypeError("invalid suite type");V=8*dt[U].key,$=dt[U].iv}var H=E(at,!1,V,$);return ct(U,H.key,H.iv)},st.createCipheriv=st.Cipheriv=ct,st.createDecipher=st.Decipher=function(U,at){var V,$;if(U=U.toLowerCase(),ft[U])V=ft[U].key,$=ft[U].iv;else{if(!dt[U])throw new TypeError("invalid suite type");V=8*dt[U].key,$=dt[U].iv}var H=E(at,!1,V,$);return et(U,H.key,H.iv)},st.createDecipheriv=st.Decipheriv=et,st.listCiphers=st.getCiphers=function(){return Object.keys(dt).concat(Kt.getCiphers())}},4848:(_e,st,Ft)=>{var zt=Ft(8672),Kt=Ft(1511),ft=Ft(3516),dt=Ft(4615).Buffer,E={"des-ede3-cbc":Kt.CBC.instantiate(Kt.EDE),"des-ede3":Kt.EDE,"des-ede-cbc":Kt.CBC.instantiate(Kt.EDE),"des-ede":Kt.EDE,"des-cbc":Kt.CBC.instantiate(Kt.DES),"des-ecb":Kt.DES};function K(Y){zt.call(this);var X,ct=Y.mode.toLowerCase(),et=E[ct];X=Y.decrypt?"decrypt":"encrypt";var U=Y.key;dt.isBuffer(U)||(U=dt.from(U)),("des-ede"===ct||"des-ede-cbc"===ct)&&(U=dt.concat([U,U.slice(0,8)]));var at=Y.iv;dt.isBuffer(at)||(at=dt.from(at)),this._des=et.create({key:U,iv:at,type:X})}E.des=E["des-cbc"],E.des3=E["des-ede3-cbc"],_e.exports=K,ft(K,zt),K.prototype._update=function(Y){return dt.from(this._des.update(Y))},K.prototype._final=function(){return dt.from(this._des.final())}},1580:(_e,st)=>{st["des-ecb"]={key:8,iv:0},st["des-cbc"]=st.des={key:8,iv:8},st["des-ede3-cbc"]=st.des3={key:24,iv:8},st["des-ede3"]={key:24,iv:0},st["des-ede-cbc"]={key:16,iv:8},st["des-ede"]={key:16,iv:0}},5269:(_e,st,Ft)=>{var zt=Ft(2963),Kt=Ft(8747);function dt(K){var ct,Y=K.modulus.byteLength();do{ct=new zt(Kt(Y))}while(ct.cmp(K.modulus)>=0||!ct.umod(K.prime1)||!ct.umod(K.prime2));return ct}function E(K,Y){var ct=function(K){var Y=dt(K);return{blinder:Y.toRed(zt.mont(K.modulus)).redPow(new zt(K.publicExponent)).fromRed(),unblinder:Y.invm(K.modulus)}}(Y),et=Y.modulus.byteLength(),X=new zt(K).mul(ct.blinder).umod(Y.modulus),U=X.toRed(zt.mont(Y.prime1)),at=X.toRed(zt.mont(Y.prime2)),V=Y.coefficient,$=Y.prime1,H=Y.prime2,G=U.redPow(Y.exponent1).fromRed(),J=at.redPow(Y.exponent2).fromRed(),z=G.isub(J).imul(V).umod($).imul(H);return J.iadd(z).imul(ct.unblinder).umod(Y.modulus).toArrayLike(Buffer,"be",et)}E.getr=dt,_e.exports=E},6850:(_e,st,Ft)=>{_e.exports=Ft(5207)},5822:(_e,st,Ft)=>{var zt=Ft(8190).Buffer,Kt=Ft(4979),ft=Ft(8792),dt=Ft(3516),E=Ft(8279),K=Ft(3709),Y=Ft(5207);function ct(at){ft.Writable.call(this);var V=Y[at];if(!V)throw new Error("Unknown message digest");this._hashType=V.hash,this._hash=Kt(V.hash),this._tag=V.id,this._signType=V.sign}function et(at){ft.Writable.call(this);var V=Y[at];if(!V)throw new Error("Unknown message digest");this._hash=Kt(V.hash),this._tag=V.id,this._signType=V.sign}function X(at){return new ct(at)}function U(at){return new et(at)}Object.keys(Y).forEach(function(at){Y[at].id=zt.from(Y[at].id,"hex"),Y[at.toLowerCase()]=Y[at]}),dt(ct,ft.Writable),ct.prototype._write=function(V,$,H){this._hash.update(V),H()},ct.prototype.update=function(V,$){return"string"==typeof V&&(V=zt.from(V,$)),this._hash.update(V),this},ct.prototype.sign=function(V,$){this.end();var H=this._hash.digest(),G=E(H,V,this._hashType,this._signType,this._tag);return $?G.toString($):G},dt(et,ft.Writable),et.prototype._write=function(V,$,H){this._hash.update(V),H()},et.prototype.update=function(V,$){return"string"==typeof V&&(V=zt.from(V,$)),this._hash.update(V),this},et.prototype.verify=function(V,$,H){"string"==typeof $&&($=zt.from($,H)),this.end();var G=this._hash.digest();return K($,G,V,this._signType,this._tag)},_e.exports={Sign:X,Verify:U,createSign:X,createVerify:U}},8279:(_e,st,Ft)=>{var zt=Ft(8190).Buffer,Kt=Ft(3927),ft=Ft(5269),dt=Ft(3059).ec,E=Ft(2963),K=Ft(347),Y=Ft(1308);function at(J,z,nt,Q){if((J=zt.from(J.toArray())).length<z.byteLength()){var lt=zt.alloc(z.byteLength()-J.length);J=zt.concat([lt,J])}var _t=nt.length,Ct=function(J,z){J=(J=V(J,z)).mod(z);var nt=zt.from(J.toArray());if(nt.length<z.byteLength()){var Q=zt.alloc(z.byteLength()-nt.length);nt=zt.concat([Q,nt])}return nt}(nt,z),kt=zt.alloc(_t);kt.fill(1);var Et=zt.alloc(_t);return Et=Kt(Q,Et).update(kt).update(zt.from([0])).update(J).update(Ct).digest(),kt=Kt(Q,Et).update(kt).digest(),{k:Et=Kt(Q,Et).update(kt).update(zt.from([1])).update(J).update(Ct).digest(),v:kt=Kt(Q,Et).update(kt).digest()}}function V(J,z){var nt=new E(J),Q=(J.length<<3)-z.bitLength();return Q>0&&nt.ishrn(Q),nt}function H(J,z,nt){var Q,lt;do{for(Q=zt.alloc(0);8*Q.length<J.bitLength();)z.v=Kt(nt,z.k).update(z.v).digest(),Q=zt.concat([Q,z.v]);lt=V(Q,J),z.k=Kt(nt,z.k).update(z.v).update(zt.from([0])).digest(),z.v=Kt(nt,z.k).update(z.v).digest()}while(-1!==lt.cmp(J));return lt}function G(J,z,nt,Q){return J.toRed(E.mont(nt)).redPow(z).fromRed().mod(Q)}_e.exports=function(J,z,nt,Q,lt){var _t=K(z);if(_t.curve){if("ecdsa"!==Q&&"ecdsa/rsa"!==Q)throw new Error("wrong private key type");return function(J,z){var nt=Y[z.curve.join(".")];if(!nt)throw new Error("unknown curve "+z.curve.join("."));var _t=new dt(nt).keyFromPrivate(z.privateKey).sign(J);return zt.from(_t.toDER())}(J,_t)}if("dsa"===_t.type){if("dsa"!==Q)throw new Error("wrong private key type");return function(J,z,nt){for(var Et,Q=z.params.priv_key,lt=z.params.p,_t=z.params.q,Ct=z.params.g,kt=new E(0),St=V(J,_t).mod(_t),R=!1,u=at(Q,_t,J,nt);!1===R;)kt=G(Ct,Et=H(_t,u,nt),lt,_t),0===(R=Et.invm(_t).imul(St.add(Q.mul(kt))).mod(_t)).cmpn(0)&&(R=!1,kt=new E(0));return function(J,z){J=J.toArray(),z=z.toArray(),128&J[0]&&(J=[0].concat(J)),128&z[0]&&(z=[0].concat(z));var Q=[48,J.length+z.length+4,2,J.length];return Q=Q.concat(J,[2,z.length],z),zt.from(Q)}(kt,R)}(J,_t,nt)}if("rsa"!==Q&&"ecdsa/rsa"!==Q)throw new Error("wrong private key type");J=zt.concat([lt,J]);for(var Ct=_t.modulus.byteLength(),kt=[0,1];J.length+kt.length+1<Ct;)kt.push(255);kt.push(0);for(var Et=-1;++Et<J.length;)kt.push(J[Et]);return ft(kt,_t)},_e.exports.getKey=at,_e.exports.makeKey=H},3709:(_e,st,Ft)=>{var zt=Ft(8190).Buffer,Kt=Ft(2963),ft=Ft(3059).ec,dt=Ft(347),E=Ft(1308);function et(X,U){if(X.cmpn(0)<=0)throw new Error("invalid sig");if(X.cmp(U)>=U)throw new Error("invalid sig")}_e.exports=function(X,U,at,V,$){var H=dt(at);if("ec"===H.type){if("ecdsa"!==V&&"ecdsa/rsa"!==V)throw new Error("wrong public key type");return function(X,U,at){var V=E[at.data.algorithm.curve.join(".")];if(!V)throw new Error("unknown curve "+at.data.algorithm.curve.join("."));return new ft(V).verify(U,X,at.data.subjectPrivateKey.data)}(X,U,H)}if("dsa"===H.type){if("dsa"!==V)throw new Error("wrong public key type");return function(X,U,at){var V=at.data.p,$=at.data.q,H=at.data.g,G=at.data.pub_key,J=dt.signature.decode(X,"der"),z=J.s,nt=J.r;et(z,$),et(nt,$);var Q=Kt.mont(V),lt=z.invm($);return 0===H.toRed(Q).redPow(new Kt(U).mul(lt).mod($)).fromRed().mul(G.toRed(Q).redPow(nt.mul(lt).mod($)).fromRed()).mod(V).mod($).cmp(nt)}(X,U,H)}if("rsa"!==V&&"ecdsa/rsa"!==V)throw new Error("wrong public key type");U=zt.concat([$,U]);for(var G=H.modulus.byteLength(),J=[1],z=0;U.length+J.length+2<G;)J.push(255),z++;J.push(0);for(var nt=-1;++nt<U.length;)J.push(U[nt]);J=zt.from(J);var Q=Kt.mont(H.modulus);X=(X=new Kt(X).toRed(Q)).redPow(new Kt(H.publicExponent)),X=zt.from(X.fromRed().toArray());var lt=z<8?1:0;for(G=Math.min(X.length,J.length),X.length!==J.length&&(lt=1),nt=-1;++nt<G;)lt|=X[nt]^J[nt];return 0===lt}},8190:(_e,st,Ft)=>{var zt=Ft(3847),Kt=zt.Buffer;function ft(E,K){for(var Y in E)K[Y]=E[Y]}function dt(E,K,Y){return Kt(E,K,Y)}Kt.from&&Kt.alloc&&Kt.allocUnsafe&&Kt.allocUnsafeSlow?_e.exports=zt:(ft(zt,st),st.Buffer=dt),dt.prototype=Object.create(Kt.prototype),ft(Kt,dt),dt.from=function(E,K,Y){if("number"==typeof E)throw new TypeError("Argument must not be a number");return Kt(E,K,Y)},dt.alloc=function(E,K,Y){if("number"!=typeof E)throw new TypeError("Argument must be a number");var ct=Kt(E);return void 0!==K?"string"==typeof Y?ct.fill(K,Y):ct.fill(K):ct.fill(0),ct},dt.allocUnsafe=function(E){if("number"!=typeof E)throw new TypeError("Argument must be a number");return Kt(E)},dt.allocUnsafeSlow=function(E){if("number"!=typeof E)throw new TypeError("Argument must be a number");return zt.SlowBuffer(E)}},2818:_e=>{_e.exports=function(Ft,zt){for(var Kt=Math.min(Ft.length,zt.length),ft=new Buffer(Kt),dt=0;dt<Kt;++dt)ft[dt]=Ft[dt]^zt[dt];return ft}},3847:(_e,st,Ft)=>{"use strict";const zt=Ft(6193),Kt=Ft(1208),ft="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;st.Buffer=Y,st.SlowBuffer=function(It){return+It!=It&&(It=0),Y.alloc(+It)},st.INSPECT_MAX_BYTES=50;const dt=2147483647;function K(It){if(It>dt)throw new RangeError('The value "'+It+'" is invalid for option "size"');const gt=new Uint8Array(It);return Object.setPrototypeOf(gt,Y.prototype),gt}function Y(It,gt,rt){if("number"==typeof It){if("string"==typeof gt)throw new TypeError('The "string" argument must be of type string. Received type number');return U(It)}return ct(It,gt,rt)}function ct(It,gt,rt){if("string"==typeof It)return function(It,gt){if(("string"!=typeof gt||""===gt)&&(gt="utf8"),!Y.isEncoding(gt))throw new TypeError("Unknown encoding: "+gt);const rt=0|nt(It,gt);let Qt=K(rt);const ue=Qt.write(It,gt);return ue!==rt&&(Qt=Qt.slice(0,ue)),Qt}(It,gt);if(ArrayBuffer.isView(It))return function(It){if(de(It,Uint8Array)){const gt=new Uint8Array(It);return H(gt.buffer,gt.byteOffset,gt.byteLength)}return V(It)}(It);if(null==It)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof It);if(de(It,ArrayBuffer)||It&&de(It.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(de(It,SharedArrayBuffer)||It&&de(It.buffer,SharedArrayBuffer)))return H(It,gt,rt);if("number"==typeof It)throw new TypeError('The "value" argument must not be of type number. Received type number');const Qt=It.valueOf&&It.valueOf();if(null!=Qt&&Qt!==It)return Y.from(Qt,gt,rt);const ue=function(It){if(Y.isBuffer(It)){const gt=0|J(It.length),rt=K(gt);return 0===rt.length||It.copy(rt,0,0,gt),rt}return void 0!==It.length?"number"!=typeof It.length||je(It.length)?K(0):V(It):"Buffer"===It.type&&Array.isArray(It.data)?V(It.data):void 0}(It);if(ue)return ue;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof It[Symbol.toPrimitive])return Y.from(It[Symbol.toPrimitive]("string"),gt,rt);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof It)}function et(It){if("number"!=typeof It)throw new TypeError('"size" argument must be of type number');if(It<0)throw new RangeError('The value "'+It+'" is invalid for option "size"')}function U(It){return et(It),K(It<0?0:0|J(It))}function V(It){const gt=It.length<0?0:0|J(It.length),rt=K(gt);for(let Qt=0;Qt<gt;Qt+=1)rt[Qt]=255&It[Qt];return rt}function H(It,gt,rt){if(gt<0||It.byteLength<gt)throw new RangeError('"offset" is outside of buffer bounds');if(It.byteLength<gt+(rt||0))throw new RangeError('"length" is outside of buffer bounds');let Qt;return Qt=void 0===gt&&void 0===rt?new Uint8Array(It):void 0===rt?new Uint8Array(It,gt):new Uint8Array(It,gt,rt),Object.setPrototypeOf(Qt,Y.prototype),Qt}function J(It){if(It>=dt)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+dt.toString(16)+" bytes");return 0|It}function nt(It,gt){if(Y.isBuffer(It))return It.length;if(ArrayBuffer.isView(It)||de(It,ArrayBuffer))return It.byteLength;if("string"!=typeof It)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof It);const rt=It.length,Qt=arguments.length>2&&!0===arguments[2];if(!Qt&&0===rt)return 0;let ue=!1;for(;;)switch(gt){case"ascii":case"latin1":case"binary":return rt;case"utf8":case"utf-8":return Ce(It).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*rt;case"hex":return rt>>>1;case"base64":return Si(It).length;default:if(ue)return Qt?-1:Ce(It).length;gt=(""+gt).toLowerCase(),ue=!0}}function Q(It,gt,rt){let Qt=!1;if((void 0===gt||gt<0)&&(gt=0),gt>this.length||((void 0===rt||rt>this.length)&&(rt=this.length),rt<=0)||(rt>>>=0)<=(gt>>>=0))return"";for(It||(It="utf8");;)switch(It){case"hex":return C(this,gt,rt);case"utf8":case"utf-8":return y(this,gt,rt);case"ascii":return S(this,gt,rt);case"latin1":case"binary":return I(this,gt,rt);case"base64":return m(this,gt,rt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p(this,gt,rt);default:if(Qt)throw new TypeError("Unknown encoding: "+It);It=(It+"").toLowerCase(),Qt=!0}}function lt(It,gt,rt){const Qt=It[gt];It[gt]=It[rt],It[rt]=Qt}function _t(It,gt,rt,Qt,ue){if(0===It.length)return-1;if("string"==typeof rt?(Qt=rt,rt=0):rt>2147483647?rt=2147483647:rt<-2147483648&&(rt=-2147483648),je(rt=+rt)&&(rt=ue?0:It.length-1),rt<0&&(rt=It.length+rt),rt>=It.length){if(ue)return-1;rt=It.length-1}else if(rt<0){if(!ue)return-1;rt=0}if("string"==typeof gt&&(gt=Y.from(gt,Qt)),Y.isBuffer(gt))return 0===gt.length?-1:Ct(It,gt,rt,Qt,ue);if("number"==typeof gt)return gt&=255,"function"==typeof Uint8Array.prototype.indexOf?ue?Uint8Array.prototype.indexOf.call(It,gt,rt):Uint8Array.prototype.lastIndexOf.call(It,gt,rt):Ct(It,[gt],rt,Qt,ue);throw new TypeError("val must be string, number or Buffer")}function Ct(It,gt,rt,Qt,ue){let ni,Ze=1,ve=It.length,Ie=gt.length;if(void 0!==Qt&&("ucs2"===(Qt=String(Qt).toLowerCase())||"ucs-2"===Qt||"utf16le"===Qt||"utf-16le"===Qt)){if(It.length<2||gt.length<2)return-1;Ze=2,ve/=2,Ie/=2,rt/=2}function on(ii,Xi){return 1===Ze?ii[Xi]:ii.readUInt16BE(Xi*Ze)}if(ue){let ii=-1;for(ni=rt;ni<ve;ni++)if(on(It,ni)===on(gt,-1===ii?0:ni-ii)){if(-1===ii&&(ii=ni),ni-ii+1===Ie)return ii*Ze}else-1!==ii&&(ni-=ni-ii),ii=-1}else for(rt+Ie>ve&&(rt=ve-Ie),ni=rt;ni>=0;ni--){let ii=!0;for(let Xi=0;Xi<Ie;Xi++)if(on(It,ni+Xi)!==on(gt,Xi)){ii=!1;break}if(ii)return ni}return-1}function kt(It,gt,rt,Qt){rt=Number(rt)||0;const ue=It.length-rt;Qt?(Qt=Number(Qt))>ue&&(Qt=ue):Qt=ue;const Ze=gt.length;let ve;for(Qt>Ze/2&&(Qt=Ze/2),ve=0;ve<Qt;++ve){const Ie=parseInt(gt.substr(2*ve,2),16);if(je(Ie))return ve;It[rt+ve]=Ie}return ve}function Et(It,gt,rt,Qt){return be(Ce(gt,It.length-rt),It,rt,Qt)}function St(It,gt,rt,Qt){return be(function(It){const gt=[];for(let rt=0;rt<It.length;++rt)gt.push(255&It.charCodeAt(rt));return gt}(gt),It,rt,Qt)}function R(It,gt,rt,Qt){return be(Si(gt),It,rt,Qt)}function u(It,gt,rt,Qt){return be(function(It,gt){let rt,Qt,ue;const Ze=[];for(let ve=0;ve<It.length&&!((gt-=2)<0);++ve)rt=It.charCodeAt(ve),Qt=rt>>8,ue=rt%256,Ze.push(ue),Ze.push(Qt);return Ze}(gt,It.length-rt),It,rt,Qt)}function m(It,gt,rt){return zt.fromByteArray(0===gt&&rt===It.length?It:It.slice(gt,rt))}function y(It,gt,rt){rt=Math.min(It.length,rt);const Qt=[];let ue=gt;for(;ue<rt;){const Ze=It[ue];let ve=null,Ie=Ze>239?4:Ze>223?3:Ze>191?2:1;if(ue+Ie<=rt){let on,ni,ii,Xi;switch(Ie){case 1:Ze<128&&(ve=Ze);break;case 2:on=It[ue+1],128==(192&on)&&(Xi=(31&Ze)<<6|63&on,Xi>127&&(ve=Xi));break;case 3:on=It[ue+1],ni=It[ue+2],128==(192&on)&&128==(192&ni)&&(Xi=(15&Ze)<<12|(63&on)<<6|63&ni,Xi>2047&&(Xi<55296||Xi>57343)&&(ve=Xi));break;case 4:on=It[ue+1],ni=It[ue+2],ii=It[ue+3],128==(192&on)&&128==(192&ni)&&128==(192&ii)&&(Xi=(15&Ze)<<18|(63&on)<<12|(63&ni)<<6|63&ii,Xi>65535&&Xi<1114112&&(ve=Xi))}}null===ve?(ve=65533,Ie=1):ve>65535&&(ve-=65536,Qt.push(ve>>>10&1023|55296),ve=56320|1023&ve),Qt.push(ve),ue+=Ie}return function(It){const gt=It.length;if(gt<=v)return String.fromCharCode.apply(String,It);let rt="",Qt=0;for(;Qt<gt;)rt+=String.fromCharCode.apply(String,It.slice(Qt,Qt+=v));return rt}(Qt)}st.kMaxLength=dt,!(Y.TYPED_ARRAY_SUPPORT=function(){try{const It=new Uint8Array(1),gt={foo:function(){return 42}};return Object.setPrototypeOf(gt,Uint8Array.prototype),Object.setPrototypeOf(It,gt),42===It.foo()}catch(It){return!1}}())&&"undefined"!=typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Y.prototype,"parent",{enumerable:!0,get:function(){if(Y.isBuffer(this))return this.buffer}}),Object.defineProperty(Y.prototype,"offset",{enumerable:!0,get:function(){if(Y.isBuffer(this))return this.byteOffset}}),Y.poolSize=8192,Y.from=function(It,gt,rt){return ct(It,gt,rt)},Object.setPrototypeOf(Y.prototype,Uint8Array.prototype),Object.setPrototypeOf(Y,Uint8Array),Y.alloc=function(It,gt,rt){return function(It,gt,rt){return et(It),It<=0?K(It):void 0!==gt?"string"==typeof rt?K(It).fill(gt,rt):K(It).fill(gt):K(It)}(It,gt,rt)},Y.allocUnsafe=function(It){return U(It)},Y.allocUnsafeSlow=function(It){return U(It)},Y.isBuffer=function(gt){return null!=gt&&!0===gt._isBuffer&&gt!==Y.prototype},Y.compare=function(gt,rt){if(de(gt,Uint8Array)&&(gt=Y.from(gt,gt.offset,gt.byteLength)),de(rt,Uint8Array)&&(rt=Y.from(rt,rt.offset,rt.byteLength)),!Y.isBuffer(gt)||!Y.isBuffer(rt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(gt===rt)return 0;let Qt=gt.length,ue=rt.length;for(let Ze=0,ve=Math.min(Qt,ue);Ze<ve;++Ze)if(gt[Ze]!==rt[Ze]){Qt=gt[Ze],ue=rt[Ze];break}return Qt<ue?-1:ue<Qt?1:0},Y.isEncoding=function(gt){switch(String(gt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Y.concat=function(gt,rt){if(!Array.isArray(gt))throw new TypeError('"list" argument must be an Array of Buffers');if(0===gt.length)return Y.alloc(0);let Qt;if(void 0===rt)for(rt=0,Qt=0;Qt<gt.length;++Qt)rt+=gt[Qt].length;const ue=Y.allocUnsafe(rt);let Ze=0;for(Qt=0;Qt<gt.length;++Qt){let ve=gt[Qt];if(de(ve,Uint8Array))Ze+ve.length>ue.length?(Y.isBuffer(ve)||(ve=Y.from(ve)),ve.copy(ue,Ze)):Uint8Array.prototype.set.call(ue,ve,Ze);else{if(!Y.isBuffer(ve))throw new TypeError('"list" argument must be an Array of Buffers');ve.copy(ue,Ze)}Ze+=ve.length}return ue},Y.byteLength=nt,Y.prototype._isBuffer=!0,Y.prototype.swap16=function(){const gt=this.length;if(gt%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let rt=0;rt<gt;rt+=2)lt(this,rt,rt+1);return this},Y.prototype.swap32=function(){const gt=this.length;if(gt%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let rt=0;rt<gt;rt+=4)lt(this,rt,rt+3),lt(this,rt+1,rt+2);return this},Y.prototype.swap64=function(){const gt=this.length;if(gt%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let rt=0;rt<gt;rt+=8)lt(this,rt,rt+7),lt(this,rt+1,rt+6),lt(this,rt+2,rt+5),lt(this,rt+3,rt+4);return this},Y.prototype.toLocaleString=Y.prototype.toString=function(){const gt=this.length;return 0===gt?"":0===arguments.length?y(this,0,gt):Q.apply(this,arguments)},Y.prototype.equals=function(gt){if(!Y.isBuffer(gt))throw new TypeError("Argument must be a Buffer");return this===gt||0===Y.compare(this,gt)},Y.prototype.inspect=function(){let gt="";const rt=st.INSPECT_MAX_BYTES;return gt=this.toString("hex",0,rt).replace(/(.{2})/g,"$1 ").trim(),this.length>rt&&(gt+=" ... "),"<Buffer "+gt+">"},ft&&(Y.prototype[ft]=Y.prototype.inspect),Y.prototype.compare=function(gt,rt,Qt,ue,Ze){if(de(gt,Uint8Array)&&(gt=Y.from(gt,gt.offset,gt.byteLength)),!Y.isBuffer(gt))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof gt);if(void 0===rt&&(rt=0),void 0===Qt&&(Qt=gt?gt.length:0),void 0===ue&&(ue=0),void 0===Ze&&(Ze=this.length),rt<0||Qt>gt.length||ue<0||Ze>this.length)throw new RangeError("out of range index");if(ue>=Ze&&rt>=Qt)return 0;if(ue>=Ze)return-1;if(rt>=Qt)return 1;if(this===gt)return 0;let ve=(Ze>>>=0)-(ue>>>=0),Ie=(Qt>>>=0)-(rt>>>=0);const on=Math.min(ve,Ie),ni=this.slice(ue,Ze),ii=gt.slice(rt,Qt);for(let Xi=0;Xi<on;++Xi)if(ni[Xi]!==ii[Xi]){ve=ni[Xi],Ie=ii[Xi];break}return ve<Ie?-1:Ie<ve?1:0},Y.prototype.includes=function(gt,rt,Qt){return-1!==this.indexOf(gt,rt,Qt)},Y.prototype.indexOf=function(gt,rt,Qt){return _t(this,gt,rt,Qt,!0)},Y.prototype.lastIndexOf=function(gt,rt,Qt){return _t(this,gt,rt,Qt,!1)},Y.prototype.write=function(gt,rt,Qt,ue){if(void 0===rt)ue="utf8",Qt=this.length,rt=0;else if(void 0===Qt&&"string"==typeof rt)ue=rt,Qt=this.length,rt=0;else{if(!isFinite(rt))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");rt>>>=0,isFinite(Qt)?(Qt>>>=0,void 0===ue&&(ue="utf8")):(ue=Qt,Qt=void 0)}const Ze=this.length-rt;if((void 0===Qt||Qt>Ze)&&(Qt=Ze),gt.length>0&&(Qt<0||rt<0)||rt>this.length)throw new RangeError("Attempt to write outside buffer bounds");ue||(ue="utf8");let ve=!1;for(;;)switch(ue){case"hex":return kt(this,gt,rt,Qt);case"utf8":case"utf-8":return Et(this,gt,rt,Qt);case"ascii":case"latin1":case"binary":return St(this,gt,rt,Qt);case"base64":return R(this,gt,rt,Qt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u(this,gt,rt,Qt);default:if(ve)throw new TypeError("Unknown encoding: "+ue);ue=(""+ue).toLowerCase(),ve=!0}},Y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const v=4096;function S(It,gt,rt){let Qt="";rt=Math.min(It.length,rt);for(let ue=gt;ue<rt;++ue)Qt+=String.fromCharCode(127&It[ue]);return Qt}function I(It,gt,rt){let Qt="";rt=Math.min(It.length,rt);for(let ue=gt;ue<rt;++ue)Qt+=String.fromCharCode(It[ue]);return Qt}function C(It,gt,rt){const Qt=It.length;(!gt||gt<0)&&(gt=0),(!rt||rt<0||rt>Qt)&&(rt=Qt);let ue="";for(let Ze=gt;Ze<rt;++Ze)ue+=Yt[It[Ze]];return ue}function p(It,gt,rt){const Qt=It.slice(gt,rt);let ue="";for(let Ze=0;Ze<Qt.length-1;Ze+=2)ue+=String.fromCharCode(Qt[Ze]+256*Qt[Ze+1]);return ue}function T(It,gt,rt){if(It%1!=0||It<0)throw new RangeError("offset is not uint");if(It+gt>rt)throw new RangeError("Trying to access beyond buffer length")}function it(It,gt,rt,Qt,ue,Ze){if(!Y.isBuffer(It))throw new TypeError('"buffer" argument must be a Buffer instance');if(gt>ue||gt<Ze)throw new RangeError('"value" argument is out of bounds');if(rt+Qt>It.length)throw new RangeError("Index out of range")}function Z(It,gt,rt,Qt,ue){Rt(gt,Qt,ue,It,rt,7);let Ze=Number(gt&BigInt(4294967295));It[rt++]=Ze,Ze>>=8,It[rt++]=Ze,Ze>>=8,It[rt++]=Ze,Ze>>=8,It[rt++]=Ze;let ve=Number(gt>>BigInt(32)&BigInt(4294967295));return It[rt++]=ve,ve>>=8,It[rt++]=ve,ve>>=8,It[rt++]=ve,ve>>=8,It[rt++]=ve,rt}function W(It,gt,rt,Qt,ue){Rt(gt,Qt,ue,It,rt,7);let Ze=Number(gt&BigInt(4294967295));It[rt+7]=Ze,Ze>>=8,It[rt+6]=Ze,Ze>>=8,It[rt+5]=Ze,Ze>>=8,It[rt+4]=Ze;let ve=Number(gt>>BigInt(32)&BigInt(4294967295));return It[rt+3]=ve,ve>>=8,It[rt+2]=ve,ve>>=8,It[rt+1]=ve,ve>>=8,It[rt]=ve,rt+8}function yt(It,gt,rt,Qt,ue,Ze){if(rt+Qt>It.length)throw new RangeError("Index out of range");if(rt<0)throw new RangeError("Index out of range")}function wt(It,gt,rt,Qt,ue){return gt=+gt,rt>>>=0,ue||yt(It,0,rt,4),Kt.write(It,gt,rt,Qt,23,4),rt+4}function Vt(It,gt,rt,Qt,ue){return gt=+gt,rt>>>=0,ue||yt(It,0,rt,8),Kt.write(It,gt,rt,Qt,52,8),rt+8}Y.prototype.slice=function(gt,rt){const Qt=this.length;(gt=~~gt)<0?(gt+=Qt)<0&&(gt=0):gt>Qt&&(gt=Qt),(rt=void 0===rt?Qt:~~rt)<0?(rt+=Qt)<0&&(rt=0):rt>Qt&&(rt=Qt),rt<gt&&(rt=gt);const ue=this.subarray(gt,rt);return Object.setPrototypeOf(ue,Y.prototype),ue},Y.prototype.readUintLE=Y.prototype.readUIntLE=function(gt,rt,Qt){gt>>>=0,rt>>>=0,Qt||T(gt,rt,this.length);let ue=this[gt],Ze=1,ve=0;for(;++ve<rt&&(Ze*=256);)ue+=this[gt+ve]*Ze;return ue},Y.prototype.readUintBE=Y.prototype.readUIntBE=function(gt,rt,Qt){gt>>>=0,rt>>>=0,Qt||T(gt,rt,this.length);let ue=this[gt+--rt],Ze=1;for(;rt>0&&(Ze*=256);)ue+=this[gt+--rt]*Ze;return ue},Y.prototype.readUint8=Y.prototype.readUInt8=function(gt,rt){return gt>>>=0,rt||T(gt,1,this.length),this[gt]},Y.prototype.readUint16LE=Y.prototype.readUInt16LE=function(gt,rt){return gt>>>=0,rt||T(gt,2,this.length),this[gt]|this[gt+1]<<8},Y.prototype.readUint16BE=Y.prototype.readUInt16BE=function(gt,rt){return gt>>>=0,rt||T(gt,2,this.length),this[gt]<<8|this[gt+1]},Y.prototype.readUint32LE=Y.prototype.readUInt32LE=function(gt,rt){return gt>>>=0,rt||T(gt,4,this.length),(this[gt]|this[gt+1]<<8|this[gt+2]<<16)+16777216*this[gt+3]},Y.prototype.readUint32BE=Y.prototype.readUInt32BE=function(gt,rt){return gt>>>=0,rt||T(gt,4,this.length),16777216*this[gt]+(this[gt+1]<<16|this[gt+2]<<8|this[gt+3])},Y.prototype.readBigUInt64LE=ee(function(gt){Dt(gt>>>=0,"offset");const rt=this[gt],Qt=this[gt+7];(void 0===rt||void 0===Qt)&&Bt(gt,this.length-8);const ue=rt+256*this[++gt]+65536*this[++gt]+this[++gt]*2**24,Ze=this[++gt]+256*this[++gt]+65536*this[++gt]+Qt*2**24;return BigInt(ue)+(BigInt(Ze)<<BigInt(32))}),Y.prototype.readBigUInt64BE=ee(function(gt){Dt(gt>>>=0,"offset");const rt=this[gt],Qt=this[gt+7];(void 0===rt||void 0===Qt)&&Bt(gt,this.length-8);const ue=rt*2**24+65536*this[++gt]+256*this[++gt]+this[++gt],Ze=this[++gt]*2**24+65536*this[++gt]+256*this[++gt]+Qt;return(BigInt(ue)<<BigInt(32))+BigInt(Ze)}),Y.prototype.readIntLE=function(gt,rt,Qt){gt>>>=0,rt>>>=0,Qt||T(gt,rt,this.length);let ue=this[gt],Ze=1,ve=0;for(;++ve<rt&&(Ze*=256);)ue+=this[gt+ve]*Ze;return Ze*=128,ue>=Ze&&(ue-=Math.pow(2,8*rt)),ue},Y.prototype.readIntBE=function(gt,rt,Qt){gt>>>=0,rt>>>=0,Qt||T(gt,rt,this.length);let ue=rt,Ze=1,ve=this[gt+--ue];for(;ue>0&&(Ze*=256);)ve+=this[gt+--ue]*Ze;return Ze*=128,ve>=Ze&&(ve-=Math.pow(2,8*rt)),ve},Y.prototype.readInt8=function(gt,rt){return gt>>>=0,rt||T(gt,1,this.length),128&this[gt]?-1*(255-this[gt]+1):this[gt]},Y.prototype.readInt16LE=function(gt,rt){gt>>>=0,rt||T(gt,2,this.length);const Qt=this[gt]|this[gt+1]<<8;return 32768&Qt?4294901760|Qt:Qt},Y.prototype.readInt16BE=function(gt,rt){gt>>>=0,rt||T(gt,2,this.length);const Qt=this[gt+1]|this[gt]<<8;return 32768&Qt?4294901760|Qt:Qt},Y.prototype.readInt32LE=function(gt,rt){return gt>>>=0,rt||T(gt,4,this.length),this[gt]|this[gt+1]<<8|this[gt+2]<<16|this[gt+3]<<24},Y.prototype.readInt32BE=function(gt,rt){return gt>>>=0,rt||T(gt,4,this.length),this[gt]<<24|this[gt+1]<<16|this[gt+2]<<8|this[gt+3]},Y.prototype.readBigInt64LE=ee(function(gt){Dt(gt>>>=0,"offset");const rt=this[gt],Qt=this[gt+7];return(void 0===rt||void 0===Qt)&&Bt(gt,this.length-8),(BigInt(this[gt+4]+256*this[gt+5]+65536*this[gt+6]+(Qt<<24))<<BigInt(32))+BigInt(rt+256*this[++gt]+65536*this[++gt]+this[++gt]*2**24)}),Y.prototype.readBigInt64BE=ee(function(gt){Dt(gt>>>=0,"offset");const rt=this[gt],Qt=this[gt+7];(void 0===rt||void 0===Qt)&&Bt(gt,this.length-8);const ue=(rt<<24)+65536*this[++gt]+256*this[++gt]+this[++gt];return(BigInt(ue)<<BigInt(32))+BigInt(this[++gt]*2**24+65536*this[++gt]+256*this[++gt]+Qt)}),Y.prototype.readFloatLE=function(gt,rt){return gt>>>=0,rt||T(gt,4,this.length),Kt.read(this,gt,!0,23,4)},Y.prototype.readFloatBE=function(gt,rt){return gt>>>=0,rt||T(gt,4,this.length),Kt.read(this,gt,!1,23,4)},Y.prototype.readDoubleLE=function(gt,rt){return gt>>>=0,rt||T(gt,8,this.length),Kt.read(this,gt,!0,52,8)},Y.prototype.readDoubleBE=function(gt,rt){return gt>>>=0,rt||T(gt,8,this.length),Kt.read(this,gt,!1,52,8)},Y.prototype.writeUintLE=Y.prototype.writeUIntLE=function(gt,rt,Qt,ue){gt=+gt,rt>>>=0,Qt>>>=0,ue||it(this,gt,rt,Qt,Math.pow(2,8*Qt)-1,0);let Ze=1,ve=0;for(this[rt]=255&gt;++ve<Qt&&(Ze*=256);)this[rt+ve]=gt/Ze&255;return rt+Qt},Y.prototype.writeUintBE=Y.prototype.writeUIntBE=function(gt,rt,Qt,ue){gt=+gt,rt>>>=0,Qt>>>=0,ue||it(this,gt,rt,Qt,Math.pow(2,8*Qt)-1,0);let Ze=Qt-1,ve=1;for(this[rt+Ze]=255&gt;--Ze>=0&&(ve*=256);)this[rt+Ze]=gt/ve&255;return rt+Qt},Y.prototype.writeUint8=Y.prototype.writeUInt8=function(gt,rt,Qt){return gt=+gt,rt>>>=0,Qt||it(this,gt,rt,1,255,0),this[rt]=255&gt,rt+1},Y.prototype.writeUint16LE=Y.prototype.writeUInt16LE=function(gt,rt,Qt){return gt=+gt,rt>>>=0,Qt||it(this,gt,rt,2,65535,0),this[rt]=255&gt,this[rt+1]=gt>>>8,rt+2},Y.prototype.writeUint16BE=Y.prototype.writeUInt16BE=function(gt,rt,Qt){return gt=+gt,rt>>>=0,Qt||it(this,gt,rt,2,65535,0),this[rt]=gt>>>8,this[rt+1]=255&gt,rt+2},Y.prototype.writeUint32LE=Y.prototype.writeUInt32LE=function(gt,rt,Qt){return gt=+gt,rt>>>=0,Qt||it(this,gt,rt,4,4294967295,0),this[rt+3]=gt>>>24,this[rt+2]=gt>>>16,this[rt+1]=gt>>>8,this[rt]=255&gt,rt+4},Y.prototype.writeUint32BE=Y.prototype.writeUInt32BE=function(gt,rt,Qt){return gt=+gt,rt>>>=0,Qt||it(this,gt,rt,4,4294967295,0),this[rt]=gt>>>24,this[rt+1]=gt>>>16,this[rt+2]=gt>>>8,this[rt+3]=255&gt,rt+4},Y.prototype.writeBigUInt64LE=ee(function(gt,rt=0){return Z(this,gt,rt,BigInt(0),BigInt("0xffffffffffffffff"))}),Y.prototype.writeBigUInt64BE=ee(function(gt,rt=0){return W(this,gt,rt,BigInt(0),BigInt("0xffffffffffffffff"))}),Y.prototype.writeIntLE=function(gt,rt,Qt,ue){if(gt=+gt,rt>>>=0,!ue){const on=Math.pow(2,8*Qt-1);it(this,gt,rt,Qt,on-1,-on)}let Ze=0,ve=1,Ie=0;for(this[rt]=255&gt;++Ze<Qt&&(ve*=256);)gt<0&&0===Ie&&0!==this[rt+Ze-1]&&(Ie=1),this[rt+Ze]=(gt/ve>>0)-Ie&255;return rt+Qt},Y.prototype.writeIntBE=function(gt,rt,Qt,ue){if(gt=+gt,rt>>>=0,!ue){const on=Math.pow(2,8*Qt-1);it(this,gt,rt,Qt,on-1,-on)}let Ze=Qt-1,ve=1,Ie=0;for(this[rt+Ze]=255&gt;--Ze>=0&&(ve*=256);)gt<0&&0===Ie&&0!==this[rt+Ze+1]&&(Ie=1),this[rt+Ze]=(gt/ve>>0)-Ie&255;return rt+Qt},Y.prototype.writeInt8=function(gt,rt,Qt){return gt=+gt,rt>>>=0,Qt||it(this,gt,rt,1,127,-128),gt<0&&(gt=255+gt+1),this[rt]=255&gt,rt+1},Y.prototype.writeInt16LE=function(gt,rt,Qt){return gt=+gt,rt>>>=0,Qt||it(this,gt,rt,2,32767,-32768),this[rt]=255&gt,this[rt+1]=gt>>>8,rt+2},Y.prototype.writeInt16BE=function(gt,rt,Qt){return gt=+gt,rt>>>=0,Qt||it(this,gt,rt,2,32767,-32768),this[rt]=gt>>>8,this[rt+1]=255&gt,rt+2},Y.prototype.writeInt32LE=function(gt,rt,Qt){return gt=+gt,rt>>>=0,Qt||it(this,gt,rt,4,2147483647,-2147483648),this[rt]=255&gt,this[rt+1]=gt>>>8,this[rt+2]=gt>>>16,this[rt+3]=gt>>>24,rt+4},Y.prototype.writeInt32BE=function(gt,rt,Qt){return gt=+gt,rt>>>=0,Qt||it(this,gt,rt,4,2147483647,-2147483648),gt<0&&(gt=4294967295+gt+1),this[rt]=gt>>>24,this[rt+1]=gt>>>16,this[rt+2]=gt>>>8,this[rt+3]=255&gt,rt+4},Y.prototype.writeBigInt64LE=ee(function(gt,rt=0){return Z(this,gt,rt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),Y.prototype.writeBigInt64BE=ee(function(gt,rt=0){return W(this,gt,rt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),Y.prototype.writeFloatLE=function(gt,rt,Qt){return wt(this,gt,rt,!0,Qt)},Y.prototype.writeFloatBE=function(gt,rt,Qt){return wt(this,gt,rt,!1,Qt)},Y.prototype.writeDoubleLE=function(gt,rt,Qt){return Vt(this,gt,rt,!0,Qt)},Y.prototype.writeDoubleBE=function(gt,rt,Qt){return Vt(this,gt,rt,!1,Qt)},Y.prototype.copy=function(gt,rt,Qt,ue){if(!Y.isBuffer(gt))throw new TypeError("argument should be a Buffer");if(Qt||(Qt=0),!ue&&0!==ue&&(ue=this.length),rt>=gt.length&&(rt=gt.length),rt||(rt=0),ue>0&&ue<Qt&&(ue=Qt),ue===Qt||0===gt.length||0===this.length)return 0;if(rt<0)throw new RangeError("targetStart out of bounds");if(Qt<0||Qt>=this.length)throw new RangeError("Index out of range");if(ue<0)throw new RangeError("sourceEnd out of bounds");ue>this.length&&(ue=this.length),gt.length-rt<ue-Qt&&(ue=gt.length-rt+Qt);const Ze=ue-Qt;return this===gt&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(rt,Qt,ue):Uint8Array.prototype.set.call(gt,this.subarray(Qt,ue),rt),Ze},Y.prototype.fill=function(gt,rt,Qt,ue){if("string"==typeof gt){if("string"==typeof rt?(ue=rt,rt=0,Qt=this.length):"string"==typeof Qt&&(ue=Qt,Qt=this.length),void 0!==ue&&"string"!=typeof ue)throw new TypeError("encoding must be a string");if("string"==typeof ue&&!Y.isEncoding(ue))throw new TypeError("Unknown encoding: "+ue);if(1===gt.length){const ve=gt.charCodeAt(0);("utf8"===ue&&ve<128||"latin1"===ue)&&(gt=ve)}}else"number"==typeof gt?gt&=255:"boolean"==typeof gt&&(gt=Number(gt));if(rt<0||this.length<rt||this.length<Qt)throw new RangeError("Out of range index");if(Qt<=rt)return this;let Ze;if(rt>>>=0,Qt=void 0===Qt?this.length:Qt>>>0,gt||(gt=0),"number"==typeof gt)for(Ze=rt;Ze<Qt;++Ze)this[Ze]=gt;else{const ve=Y.isBuffer(gt)?gt:Y.from(gt,ue),Ie=ve.length;if(0===Ie)throw new TypeError('The value "'+gt+'" is invalid for argument "value"');for(Ze=0;Ze<Qt-rt;++Ze)this[Ze+rt]=ve[Ze%Ie]}return this};const Ut={};function At(It,gt,rt){Ut[It]=class extends rt{constructor(){super(),Object.defineProperty(this,"message",{value:gt.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${It}]`,delete this.name}get code(){return It}set code(ue){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ue,writable:!0})}toString(){return`${this.name} [${It}]: ${this.message}`}}}function bt(It){let gt="",rt=It.length;const Qt="-"===It[0]?1:0;for(;rt>=Qt+4;rt-=3)gt=`_${It.slice(rt-3,rt)}${gt}`;return`${It.slice(0,rt)}${gt}`}function Rt(It,gt,rt,Qt,ue,Ze){if(It>rt||It<gt){const ve="bigint"==typeof gt?"n":"";let Ie;throw Ie=Ze>3?0===gt||gt===BigInt(0)?`>= 0${ve} and < 2${ve} ** ${8*(Ze+1)}${ve}`:`>= -(2${ve} ** ${8*(Ze+1)-1}${ve}) and < 2 ** ${8*(Ze+1)-1}${ve}`:`>= ${gt}${ve} and <= ${rt}${ve}`,new Ut.ERR_OUT_OF_RANGE("value",Ie,It)}!function(It,gt,rt){Dt(gt,"offset"),(void 0===It[gt]||void 0===It[gt+rt])&&Bt(gt,It.length-(rt+1))}(Qt,ue,Ze)}function Dt(It,gt){if("number"!=typeof It)throw new Ut.ERR_INVALID_ARG_TYPE(gt,"number",It)}function Bt(It,gt,rt){throw Math.floor(It)!==It?(Dt(It,rt),new Ut.ERR_OUT_OF_RANGE(rt||"offset","an integer",It)):gt<0?new Ut.ERR_BUFFER_OUT_OF_BOUNDS:new Ut.ERR_OUT_OF_RANGE(rt||"offset",`>= ${rt?1:0} and <= ${gt}`,It)}At("ERR_BUFFER_OUT_OF_BOUNDS",function(It){return It?`${It} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),At("ERR_INVALID_ARG_TYPE",function(It,gt){return`The "${It}" argument must be of type number. Received type ${typeof gt}`},TypeError),At("ERR_OUT_OF_RANGE",function(It,gt,rt){let Qt=`The value of "${It}" is out of range.`,ue=rt;return Number.isInteger(rt)&&Math.abs(rt)>2**32?ue=bt(String(rt)):"bigint"==typeof rt&&(ue=String(rt),(rt>BigInt(2)**BigInt(32)||rt<-(BigInt(2)**BigInt(32)))&&(ue=bt(ue)),ue+="n"),Qt+=` It must be ${gt}. Received ${ue}`,Qt},RangeError);const Zt=/[^+/0-9A-Za-z-_]/g;function Ce(It,gt){let rt;gt=gt||1/0;const Qt=It.length;let ue=null;const Ze=[];for(let ve=0;ve<Qt;++ve){if(rt=It.charCodeAt(ve),rt>55295&&rt<57344){if(!ue){if(rt>56319){(gt-=3)>-1&&Ze.push(239,191,189);continue}if(ve+1===Qt){(gt-=3)>-1&&Ze.push(239,191,189);continue}ue=rt;continue}if(rt<56320){(gt-=3)>-1&&Ze.push(239,191,189),ue=rt;continue}rt=65536+(ue-55296<<10|rt-56320)}else ue&&(gt-=3)>-1&&Ze.push(239,191,189);if(ue=null,rt<128){if((gt-=1)<0)break;Ze.push(rt)}else if(rt<2048){if((gt-=2)<0)break;Ze.push(rt>>6|192,63&rt|128)}else if(rt<65536){if((gt-=3)<0)break;Ze.push(rt>>12|224,rt>>6&63|128,63&rt|128)}else{if(!(rt<1114112))throw new Error("Invalid code point");if((gt-=4)<0)break;Ze.push(rt>>18|240,rt>>12&63|128,rt>>6&63|128,63&rt|128)}}return Ze}function Si(It){return zt.toByteArray(function(It){if((It=(It=It.split("=")[0]).trim().replace(Zt,"")).length<2)return"";for(;It.length%4!=0;)It+="=";return It}(It))}function be(It,gt,rt,Qt){let ue;for(ue=0;ue<Qt&&!(ue+rt>=gt.length||ue>=It.length);++ue)gt[ue+rt]=It[ue];return ue}function de(It,gt){return It instanceof gt||null!=It&&null!=It.constructor&&null!=It.constructor.name&&It.constructor.name===gt.name}function je(It){return It!=It}const Yt=function(){const It="0123456789abcdef",gt=new Array(256);for(let rt=0;rt<16;++rt){const Qt=16*rt;for(let ue=0;ue<16;++ue)gt[Qt+ue]=It[rt]+It[ue]}return gt}();function ee(It){return"undefined"==typeof BigInt?Le:It}function Le(){throw new Error("BigInt not supported")}},8672:(_e,st,Ft)=>{var zt=Ft(4615).Buffer,Kt=Ft(5089).Transform,ft=Ft(3033).s;function E(K){Kt.call(this),this.hashMode="string"==typeof K,this.hashMode?this[K]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}Ft(3516)(E,Kt),E.prototype.update=function(K,Y,ct){"string"==typeof K&&(K=zt.from(K,Y));var et=this._update(K);return this.hashMode?this:(ct&&(et=this._toString(et,ct)),et)},E.prototype.setAutoPadding=function(){},E.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},E.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},E.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},E.prototype._transform=function(K,Y,ct){var et;try{this.hashMode?this._update(K):this.push(this._update(K))}catch(X){et=X}finally{ct(et)}},E.prototype._flush=function(K){var Y;try{this.push(this.__final())}catch(ct){Y=ct}K(Y)},E.prototype._finalOrDigest=function(K){var Y=this.__final()||zt.alloc(0);return K&&(Y=this._toString(Y,K,!0)),Y},E.prototype._toString=function(K,Y,ct){if(this._decoder||(this._decoder=new ft(Y),this._encoding=Y),this._encoding!==Y)throw new Error("can't switch encodings");var et=this._decoder.write(K);return ct&&(et+=this._decoder.end()),et},_e.exports=E},4523:(_e,st,Ft)=>{var zt=Ft(3059),Kt=Ft(6867);_e.exports=function(Y){return new dt(Y)};var ft={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function dt(K){this.curveType=ft[K],this.curveType||(this.curveType={name:K}),this.curve=new zt.ec(this.curveType.name),this.keys=void 0}function E(K,Y,ct){Array.isArray(K)||(K=K.toArray());var et=new Buffer(K);if(ct&&et.length<ct){var X=new Buffer(ct-et.length);X.fill(0),et=Buffer.concat([X,et])}return Y?et.toString(Y):et}ft.p224=ft.secp224r1,ft.p256=ft.secp256r1=ft.prime256v1,ft.p192=ft.secp192r1=ft.prime192v1,ft.p384=ft.secp384r1,ft.p521=ft.secp521r1,dt.prototype.generateKeys=function(K,Y){return this.keys=this.curve.genKeyPair(),this.getPublicKey(K,Y)},dt.prototype.computeSecret=function(K,Y,ct){return Y=Y||"utf8",Buffer.isBuffer(K)||(K=new Buffer(K,Y)),E(this.curve.keyFromPublic(K).getPublic().mul(this.keys.getPrivate()).getX(),ct,this.curveType.byteLength)},dt.prototype.getPublicKey=function(K,Y){var ct=this.keys.getPublic("compressed"===Y,!0);return"hybrid"===Y&&(ct[0]=ct[ct.length-1]%2?7:6),E(ct,K)},dt.prototype.getPrivateKey=function(K){return E(this.keys.getPrivate(),K)},dt.prototype.setPublicKey=function(K,Y){return Y=Y||"utf8",Buffer.isBuffer(K)||(K=new Buffer(K,Y)),this.keys._importPublic(K),this},dt.prototype.setPrivateKey=function(K,Y){Y=Y||"utf8",Buffer.isBuffer(K)||(K=new Buffer(K,Y));var ct=new Kt(K);return ct=ct.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(ct),this}},6867:function(_e,st,Ft){!function(zt,Kt){"use strict";function ft(R,u){if(!R)throw new Error(u||"Assertion failed")}function dt(R,u){R.super_=u;var m=function(){};m.prototype=u.prototype,R.prototype=new m,R.prototype.constructor=R}function E(R,u,m){if(E.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,null!==R&&(("le"===u||"be"===u)&&(m=u,u=10),this._init(R||0,u||10,m||"be"))}var K;"object"==typeof zt?zt.exports=E:Kt.BN=E,E.BN=E,E.wordSize=26;try{K="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:Ft(8623).Buffer}catch(R){}function Y(R,u){var m=R.charCodeAt(u);return m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:m-48&15}function ct(R,u,m){var y=Y(R,m);return m-1>=u&&(y|=Y(R,m-1)<<4),y}function et(R,u,m,y){for(var v=0,M=Math.min(R.length,m),S=u;S<M;S++){var I=R.charCodeAt(S)-48;v*=y,v+=I>=49?I-49+10:I>=17?I-17+10:I}return v}E.isBN=function(u){return u instanceof E||null!==u&&"object"==typeof u&&u.constructor.wordSize===E.wordSize&&Array.isArray(u.words)},E.max=function(u,m){return u.cmp(m)>0?u:m},E.min=function(u,m){return u.cmp(m)<0?u:m},E.prototype._init=function(u,m,y){if("number"==typeof u)return this._initNumber(u,m,y);if("object"==typeof u)return this._initArray(u,m,y);"hex"===m&&(m=16),ft(m===(0|m)&&m>=2&&m<=36);var v=0;"-"===(u=u.toString().replace(/\s+/g,""))[0]&&(v++,this.negative=1),v<u.length&&(16===m?this._parseHex(u,v,y):(this._parseBase(u,m,v),"le"===y&&this._initArray(this.toArray(),m,y)))},E.prototype._initNumber=function(u,m,y){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[67108863&u],this.length=1):u<4503599627370496?(this.words=[67108863&u,u/67108864&67108863],this.length=2):(ft(u<9007199254740992),this.words=[67108863&u,u/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),m,y)},E.prototype._initArray=function(u,m,y){if(ft("number"==typeof u.length),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var M,S,I=0;if("be"===y)for(v=u.length-1,M=0;v>=0;v-=3)this.words[M]|=(S=u[v]|u[v-1]<<8|u[v-2]<<16)<<I&67108863,this.words[M+1]=S>>>26-I&67108863,(I+=24)>=26&&(I-=26,M++);else if("le"===y)for(v=0,M=0;v<u.length;v+=3)this.words[M]|=(S=u[v]|u[v+1]<<8|u[v+2]<<16)<<I&67108863,this.words[M+1]=S>>>26-I&67108863,(I+=24)>=26&&(I-=26,M++);return this.strip()},E.prototype._parseHex=function(u,m,y){this.length=Math.ceil((u.length-m)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var I,M=0,S=0;if("be"===y)for(v=u.length-1;v>=m;v-=2)I=ct(u,m,v)<<M,this.words[S]|=67108863&I,M>=18?(M-=18,this.words[S+=1]|=I>>>26):M+=8;else for(v=(u.length-m)%2==0?m+1:m;v<u.length;v+=2)I=ct(u,m,v)<<M,this.words[S]|=67108863&I,M>=18?(M-=18,this.words[S+=1]|=I>>>26):M+=8;this.strip()},E.prototype._parseBase=function(u,m,y){this.words=[0],this.length=1;for(var v=0,M=1;M<=67108863;M*=m)v++;v--,M=M/m|0;for(var S=u.length-y,I=S%v,C=Math.min(S,S-I)+y,p=0,T=y;T<C;T+=v)p=et(u,T,T+v,m),this.imuln(M),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(0!==I){var it=1;for(p=et(u,T,u.length,m),T=0;T<I;T++)it*=m;this.imuln(it),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this.strip()},E.prototype.copy=function(u){u.words=new Array(this.length);for(var m=0;m<this.length;m++)u.words[m]=this.words[m];u.length=this.length,u.negative=this.negative,u.red=this.red},E.prototype.clone=function(){var u=new E(null);return this.copy(u),u},E.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},E.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},E.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},E.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var X=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],U=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],at=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function $(R,u,m){m.negative=u.negative^R.negative;var y=R.length+u.length|0;m.length=y,y=y-1|0;var v=0|R.words[0],M=0|u.words[0],S=v*M,C=S/67108864|0;m.words[0]=67108863&S;for(var p=1;p<y;p++){for(var T=C>>>26,it=67108863&C,Z=Math.min(p,u.length-1),W=Math.max(0,p-R.length+1);W<=Z;W++)T+=(S=(v=0|R.words[p-W|0])*(M=0|u.words[W])+it)/67108864|0,it=67108863&S;m.words[p]=0|it,C=0|T}return 0!==C?m.words[p]=0|C:m.length--,m.strip()}E.prototype.toString=function(u,m){var y;if(m=0|m||1,16===(u=u||10)||"hex"===u){y="";for(var v=0,M=0,S=0;S<this.length;S++){var I=this.words[S],C=(16777215&(I<<v|M)).toString(16);y=0!=(M=I>>>24-v&16777215)||S!==this.length-1?X[6-C.length]+C+y:C+y,(v+=2)>=26&&(v-=26,S--)}for(0!==M&&(y=M.toString(16)+y);y.length%m!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(u===(0|u)&&u>=2&&u<=36){var p=U[u],T=at[u];y="";var it=this.clone();for(it.negative=0;!it.isZero();){var Z=it.modn(T).toString(u);y=(it=it.idivn(T)).isZero()?Z+y:X[p-Z.length]+Z+y}for(this.isZero()&&(y="0"+y);y.length%m!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}ft(!1,"Base should be between 2 and 36")},E.prototype.toNumber=function(){var u=this.words[0];return 2===this.length?u+=67108864*this.words[1]:3===this.length&&1===this.words[2]?u+=4503599627370496+67108864*this.words[1]:this.length>2&&ft(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-u:u},E.prototype.toJSON=function(){return this.toString(16)},E.prototype.toBuffer=function(u,m){return ft(void 0!==K),this.toArrayLike(K,u,m)},E.prototype.toArray=function(u,m){return this.toArrayLike(Array,u,m)},E.prototype.toArrayLike=function(u,m,y){var v=this.byteLength(),M=y||Math.max(1,v);ft(v<=M,"byte array longer than desired length"),ft(M>0,"Requested array length <= 0"),this.strip();var C,p,S="le"===m,I=new u(M),T=this.clone();if(S){for(p=0;!T.isZero();p++)C=T.andln(255),T.iushrn(8),I[p]=C;for(;p<M;p++)I[p]=0}else{for(p=0;p<M-v;p++)I[p]=0;for(p=0;!T.isZero();p++)C=T.andln(255),T.iushrn(8),I[M-p-1]=C}return I},E.prototype._countBits=Math.clz32?function(u){return 32-Math.clz32(u)}:function(u){var m=u,y=0;return m>=4096&&(y+=13,m>>>=13),m>=64&&(y+=7,m>>>=7),m>=8&&(y+=4,m>>>=4),m>=2&&(y+=2,m>>>=2),y+m},E.prototype._zeroBits=function(u){if(0===u)return 26;var m=u,y=0;return 0==(8191&m)&&(y+=13,m>>>=13),0==(127&m)&&(y+=7,m>>>=7),0==(15&m)&&(y+=4,m>>>=4),0==(3&m)&&(y+=2,m>>>=2),0==(1&m)&&y++,y},E.prototype.bitLength=function(){var m=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+m},E.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,m=0;m<this.length;m++){var y=this._zeroBits(this.words[m]);if(u+=y,26!==y)break}return u},E.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},E.prototype.toTwos=function(u){return 0!==this.negative?this.abs().inotn(u).iaddn(1):this.clone()},E.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},E.prototype.isNeg=function(){return 0!==this.negative},E.prototype.neg=function(){return this.clone().ineg()},E.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},E.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var m=0;m<u.length;m++)this.words[m]=this.words[m]|u.words[m];return this.strip()},E.prototype.ior=function(u){return ft(0==(this.negative|u.negative)),this.iuor(u)},E.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},E.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},E.prototype.iuand=function(u){var m;m=this.length>u.length?u:this;for(var y=0;y<m.length;y++)this.words[y]=this.words[y]&u.words[y];return this.length=m.length,this.strip()},E.prototype.iand=function(u){return ft(0==(this.negative|u.negative)),this.iuand(u)},E.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},E.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},E.prototype.iuxor=function(u){var m,y;this.length>u.length?(m=this,y=u):(m=u,y=this);for(var v=0;v<y.length;v++)this.words[v]=m.words[v]^y.words[v];if(this!==m)for(;v<m.length;v++)this.words[v]=m.words[v];return this.length=m.length,this.strip()},E.prototype.ixor=function(u){return ft(0==(this.negative|u.negative)),this.iuxor(u)},E.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},E.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},E.prototype.inotn=function(u){ft("number"==typeof u&&u>=0);var m=0|Math.ceil(u/26),y=u%26;this._expand(m),y>0&&m--;for(var v=0;v<m;v++)this.words[v]=67108863&~this.words[v];return y>0&&(this.words[v]=~this.words[v]&67108863>>26-y),this.strip()},E.prototype.notn=function(u){return this.clone().inotn(u)},E.prototype.setn=function(u,m){ft("number"==typeof u&&u>=0);var y=u/26|0,v=u%26;return this._expand(y+1),this.words[y]=m?this.words[y]|1<<v:this.words[y]&~(1<<v),this.strip()},E.prototype.iadd=function(u){var m,y,v;if(0!==this.negative&&0===u.negative)return this.negative=0,m=this.isub(u),this.negative^=1,this._normSign();if(0===this.negative&&0!==u.negative)return u.negative=0,m=this.isub(u),u.negative=1,m._normSign();this.length>u.length?(y=this,v=u):(y=u,v=this);for(var M=0,S=0;S<v.length;S++)this.words[S]=67108863&(m=(0|y.words[S])+(0|v.words[S])+M),M=m>>>26;for(;0!==M&&S<y.length;S++)this.words[S]=67108863&(m=(0|y.words[S])+M),M=m>>>26;if(this.length=y.length,0!==M)this.words[this.length]=M,this.length++;else if(y!==this)for(;S<y.length;S++)this.words[S]=y.words[S];return this},E.prototype.add=function(u){var m;return 0!==u.negative&&0===this.negative?(u.negative=0,m=this.sub(u),u.negative^=1,m):0===u.negative&&0!==this.negative?(this.negative=0,m=u.sub(this),this.negative=1,m):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},E.prototype.isub=function(u){if(0!==u.negative){u.negative=0;var m=this.iadd(u);return u.negative=1,m._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var v,M,y=this.cmp(u);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(v=this,M=u):(v=u,M=this);for(var S=0,I=0;I<M.length;I++)S=(m=(0|v.words[I])-(0|M.words[I])+S)>>26,this.words[I]=67108863&m;for(;0!==S&&I<v.length;I++)S=(m=(0|v.words[I])+S)>>26,this.words[I]=67108863&m;if(0===S&&I<v.length&&v!==this)for(;I<v.length;I++)this.words[I]=v.words[I];return this.length=Math.max(this.length,I),v!==this&&(this.negative=1),this.strip()},E.prototype.sub=function(u){return this.clone().isub(u)};var H=function(u,m,y){var C,p,T,v=u.words,M=m.words,S=y.words,I=0,it=0|v[0],Z=8191&it,W=it>>>13,yt=0|v[1],wt=8191&yt,Vt=yt>>>13,Ut=0|v[2],At=8191&Ut,bt=Ut>>>13,qt=0|v[3],Rt=8191&qt,Dt=qt>>>13,Bt=0|v[4],Zt=8191&Bt,Lt=Bt>>>13,Ce=0|v[5],Ht=8191&Ce,me=Ce>>>13,Si=0|v[6],be=8191&Si,de=Si>>>13,je=0|v[7],Yt=8191&je,ee=je>>>13,Le=0|v[8],It=8191&Le,gt=Le>>>13,rt=0|v[9],Qt=8191&rt,ue=rt>>>13,Ze=0|M[0],ve=8191&Ze,Ie=Ze>>>13,on=0|M[1],ni=8191&on,ii=on>>>13,Xi=0|M[2],vi=8191&Xi,_i=Xi>>>13,Ln=0|M[3],Mi=8191&Ln,Ge=Ln>>>13,fn=0|M[4],Ei=8191&fn,Oe=fn>>>13,ai=0|M[5],ke=8191&ai,re=ai>>>13,De=0|M[6],he=8191&De,Se=De>>>13,$e=0|M[7],te=8191&$e,Re=$e>>>13,sn=0|M[8],Qe=8191&sn,di=sn>>>13,Bn=0|M[9],ci=8191&Bn,si=Bn>>>13;y.negative=u.negative^m.negative,y.length=19;var an=(I+(C=Math.imul(Z,ve))|0)+((8191&(p=(p=Math.imul(Z,Ie))+Math.imul(W,ve)|0))<<13)|0;I=((T=Math.imul(W,Ie))+(p>>>13)|0)+(an>>>26)|0,an&=67108863,C=Math.imul(wt,ve),p=(p=Math.imul(wt,Ie))+Math.imul(Vt,ve)|0,T=Math.imul(Vt,Ie);var cn=(I+(C=C+Math.imul(Z,ni)|0)|0)+((8191&(p=(p=p+Math.imul(Z,ii)|0)+Math.imul(W,ni)|0))<<13)|0;I=((T=T+Math.imul(W,ii)|0)+(p>>>13)|0)+(cn>>>26)|0,cn&=67108863,C=Math.imul(At,ve),p=(p=Math.imul(At,Ie))+Math.imul(bt,ve)|0,T=Math.imul(bt,Ie),C=C+Math.imul(wt,ni)|0,p=(p=p+Math.imul(wt,ii)|0)+Math.imul(Vt,ni)|0,T=T+Math.imul(Vt,ii)|0;var Fn=(I+(C=C+Math.imul(Z,vi)|0)|0)+((8191&(p=(p=p+Math.imul(Z,_i)|0)+Math.imul(W,vi)|0))<<13)|0;I=((T=T+Math.imul(W,_i)|0)+(p>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,C=Math.imul(Rt,ve),p=(p=Math.imul(Rt,Ie))+Math.imul(Dt,ve)|0,T=Math.imul(Dt,Ie),C=C+Math.imul(At,ni)|0,p=(p=p+Math.imul(At,ii)|0)+Math.imul(bt,ni)|0,T=T+Math.imul(bt,ii)|0,C=C+Math.imul(wt,vi)|0,p=(p=p+Math.imul(wt,_i)|0)+Math.imul(Vt,vi)|0,T=T+Math.imul(Vt,_i)|0;var Or=(I+(C=C+Math.imul(Z,Mi)|0)|0)+((8191&(p=(p=p+Math.imul(Z,Ge)|0)+Math.imul(W,Mi)|0))<<13)|0;I=((T=T+Math.imul(W,Ge)|0)+(p>>>13)|0)+(Or>>>26)|0,Or&=67108863,C=Math.imul(Zt,ve),p=(p=Math.imul(Zt,Ie))+Math.imul(Lt,ve)|0,T=Math.imul(Lt,Ie),C=C+Math.imul(Rt,ni)|0,p=(p=p+Math.imul(Rt,ii)|0)+Math.imul(Dt,ni)|0,T=T+Math.imul(Dt,ii)|0,C=C+Math.imul(At,vi)|0,p=(p=p+Math.imul(At,_i)|0)+Math.imul(bt,vi)|0,T=T+Math.imul(bt,_i)|0,C=C+Math.imul(wt,Mi)|0,p=(p=p+Math.imul(wt,Ge)|0)+Math.imul(Vt,Mi)|0,T=T+Math.imul(Vt,Ge)|0;var Vn=(I+(C=C+Math.imul(Z,Ei)|0)|0)+((8191&(p=(p=p+Math.imul(Z,Oe)|0)+Math.imul(W,Ei)|0))<<13)|0;I=((T=T+Math.imul(W,Oe)|0)+(p>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,C=Math.imul(Ht,ve),p=(p=Math.imul(Ht,Ie))+Math.imul(me,ve)|0,T=Math.imul(me,Ie),C=C+Math.imul(Zt,ni)|0,p=(p=p+Math.imul(Zt,ii)|0)+Math.imul(Lt,ni)|0,T=T+Math.imul(Lt,ii)|0,C=C+Math.imul(Rt,vi)|0,p=(p=p+Math.imul(Rt,_i)|0)+Math.imul(Dt,vi)|0,T=T+Math.imul(Dt,_i)|0,C=C+Math.imul(At,Mi)|0,p=(p=p+Math.imul(At,Ge)|0)+Math.imul(bt,Mi)|0,T=T+Math.imul(bt,Ge)|0,C=C+Math.imul(wt,Ei)|0,p=(p=p+Math.imul(wt,Oe)|0)+Math.imul(Vt,Ei)|0,T=T+Math.imul(Vt,Oe)|0;var Jn=(I+(C=C+Math.imul(Z,ke)|0)|0)+((8191&(p=(p=p+Math.imul(Z,re)|0)+Math.imul(W,ke)|0))<<13)|0;I=((T=T+Math.imul(W,re)|0)+(p>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,C=Math.imul(be,ve),p=(p=Math.imul(be,Ie))+Math.imul(de,ve)|0,T=Math.imul(de,Ie),C=C+Math.imul(Ht,ni)|0,p=(p=p+Math.imul(Ht,ii)|0)+Math.imul(me,ni)|0,T=T+Math.imul(me,ii)|0,C=C+Math.imul(Zt,vi)|0,p=(p=p+Math.imul(Zt,_i)|0)+Math.imul(Lt,vi)|0,T=T+Math.imul(Lt,_i)|0,C=C+Math.imul(Rt,Mi)|0,p=(p=p+Math.imul(Rt,Ge)|0)+Math.imul(Dt,Mi)|0,T=T+Math.imul(Dt,Ge)|0,C=C+Math.imul(At,Ei)|0,p=(p=p+Math.imul(At,Oe)|0)+Math.imul(bt,Ei)|0,T=T+Math.imul(bt,Oe)|0,C=C+Math.imul(wt,ke)|0,p=(p=p+Math.imul(wt,re)|0)+Math.imul(Vt,ke)|0,T=T+Math.imul(Vt,re)|0;var hn=(I+(C=C+Math.imul(Z,he)|0)|0)+((8191&(p=(p=p+Math.imul(Z,Se)|0)+Math.imul(W,he)|0))<<13)|0;I=((T=T+Math.imul(W,Se)|0)+(p>>>13)|0)+(hn>>>26)|0,hn&=67108863,C=Math.imul(Yt,ve),p=(p=Math.imul(Yt,Ie))+Math.imul(ee,ve)|0,T=Math.imul(ee,Ie),C=C+Math.imul(be,ni)|0,p=(p=p+Math.imul(be,ii)|0)+Math.imul(de,ni)|0,T=T+Math.imul(de,ii)|0,C=C+Math.imul(Ht,vi)|0,p=(p=p+Math.imul(Ht,_i)|0)+Math.imul(me,vi)|0,T=T+Math.imul(me,_i)|0,C=C+Math.imul(Zt,Mi)|0,p=(p=p+Math.imul(Zt,Ge)|0)+Math.imul(Lt,Mi)|0,T=T+Math.imul(Lt,Ge)|0,C=C+Math.imul(Rt,Ei)|0,p=(p=p+Math.imul(Rt,Oe)|0)+Math.imul(Dt,Ei)|0,T=T+Math.imul(Dt,Oe)|0,C=C+Math.imul(At,ke)|0,p=(p=p+Math.imul(At,re)|0)+Math.imul(bt,ke)|0,T=T+Math.imul(bt,re)|0,C=C+Math.imul(wt,he)|0,p=(p=p+Math.imul(wt,Se)|0)+Math.imul(Vt,he)|0,T=T+Math.imul(Vt,Se)|0;var jr=(I+(C=C+Math.imul(Z,te)|0)|0)+((8191&(p=(p=p+Math.imul(Z,Re)|0)+Math.imul(W,te)|0))<<13)|0;I=((T=T+Math.imul(W,Re)|0)+(p>>>13)|0)+(jr>>>26)|0,jr&=67108863,C=Math.imul(It,ve),p=(p=Math.imul(It,Ie))+Math.imul(gt,ve)|0,T=Math.imul(gt,Ie),C=C+Math.imul(Yt,ni)|0,p=(p=p+Math.imul(Yt,ii)|0)+Math.imul(ee,ni)|0,T=T+Math.imul(ee,ii)|0,C=C+Math.imul(be,vi)|0,p=(p=p+Math.imul(be,_i)|0)+Math.imul(de,vi)|0,T=T+Math.imul(de,_i)|0,C=C+Math.imul(Ht,Mi)|0,p=(p=p+Math.imul(Ht,Ge)|0)+Math.imul(me,Mi)|0,T=T+Math.imul(me,Ge)|0,C=C+Math.imul(Zt,Ei)|0,p=(p=p+Math.imul(Zt,Oe)|0)+Math.imul(Lt,Ei)|0,T=T+Math.imul(Lt,Oe)|0,C=C+Math.imul(Rt,ke)|0,p=(p=p+Math.imul(Rt,re)|0)+Math.imul(Dt,ke)|0,T=T+Math.imul(Dt,re)|0,C=C+Math.imul(At,he)|0,p=(p=p+Math.imul(At,Se)|0)+Math.imul(bt,he)|0,T=T+Math.imul(bt,Se)|0,C=C+Math.imul(wt,te)|0,p=(p=p+Math.imul(wt,Re)|0)+Math.imul(Vt,te)|0,T=T+Math.imul(Vt,Re)|0;var wr=(I+(C=C+Math.imul(Z,Qe)|0)|0)+((8191&(p=(p=p+Math.imul(Z,di)|0)+Math.imul(W,Qe)|0))<<13)|0;I=((T=T+Math.imul(W,di)|0)+(p>>>13)|0)+(wr>>>26)|0,wr&=67108863,C=Math.imul(Qt,ve),p=(p=Math.imul(Qt,Ie))+Math.imul(ue,ve)|0,T=Math.imul(ue,Ie),C=C+Math.imul(It,ni)|0,p=(p=p+Math.imul(It,ii)|0)+Math.imul(gt,ni)|0,T=T+Math.imul(gt,ii)|0,C=C+Math.imul(Yt,vi)|0,p=(p=p+Math.imul(Yt,_i)|0)+Math.imul(ee,vi)|0,T=T+Math.imul(ee,_i)|0,C=C+Math.imul(be,Mi)|0,p=(p=p+Math.imul(be,Ge)|0)+Math.imul(de,Mi)|0,T=T+Math.imul(de,Ge)|0,C=C+Math.imul(Ht,Ei)|0,p=(p=p+Math.imul(Ht,Oe)|0)+Math.imul(me,Ei)|0,T=T+Math.imul(me,Oe)|0,C=C+Math.imul(Zt,ke)|0,p=(p=p+Math.imul(Zt,re)|0)+Math.imul(Lt,ke)|0,T=T+Math.imul(Lt,re)|0,C=C+Math.imul(Rt,he)|0,p=(p=p+Math.imul(Rt,Se)|0)+Math.imul(Dt,he)|0,T=T+Math.imul(Dt,Se)|0,C=C+Math.imul(At,te)|0,p=(p=p+Math.imul(At,Re)|0)+Math.imul(bt,te)|0,T=T+Math.imul(bt,Re)|0,C=C+Math.imul(wt,Qe)|0,p=(p=p+Math.imul(wt,di)|0)+Math.imul(Vt,Qe)|0,T=T+Math.imul(Vt,di)|0;var br=(I+(C=C+Math.imul(Z,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Z,si)|0)+Math.imul(W,ci)|0))<<13)|0;I=((T=T+Math.imul(W,si)|0)+(p>>>13)|0)+(br>>>26)|0,br&=67108863,C=Math.imul(Qt,ni),p=(p=Math.imul(Qt,ii))+Math.imul(ue,ni)|0,T=Math.imul(ue,ii),C=C+Math.imul(It,vi)|0,p=(p=p+Math.imul(It,_i)|0)+Math.imul(gt,vi)|0,T=T+Math.imul(gt,_i)|0,C=C+Math.imul(Yt,Mi)|0,p=(p=p+Math.imul(Yt,Ge)|0)+Math.imul(ee,Mi)|0,T=T+Math.imul(ee,Ge)|0,C=C+Math.imul(be,Ei)|0,p=(p=p+Math.imul(be,Oe)|0)+Math.imul(de,Ei)|0,T=T+Math.imul(de,Oe)|0,C=C+Math.imul(Ht,ke)|0,p=(p=p+Math.imul(Ht,re)|0)+Math.imul(me,ke)|0,T=T+Math.imul(me,re)|0,C=C+Math.imul(Zt,he)|0,p=(p=p+Math.imul(Zt,Se)|0)+Math.imul(Lt,he)|0,T=T+Math.imul(Lt,Se)|0,C=C+Math.imul(Rt,te)|0,p=(p=p+Math.imul(Rt,Re)|0)+Math.imul(Dt,te)|0,T=T+Math.imul(Dt,Re)|0,C=C+Math.imul(At,Qe)|0,p=(p=p+Math.imul(At,di)|0)+Math.imul(bt,Qe)|0,T=T+Math.imul(bt,di)|0;var Xn=(I+(C=C+Math.imul(wt,ci)|0)|0)+((8191&(p=(p=p+Math.imul(wt,si)|0)+Math.imul(Vt,ci)|0))<<13)|0;I=((T=T+Math.imul(Vt,si)|0)+(p>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,C=Math.imul(Qt,vi),p=(p=Math.imul(Qt,_i))+Math.imul(ue,vi)|0,T=Math.imul(ue,_i),C=C+Math.imul(It,Mi)|0,p=(p=p+Math.imul(It,Ge)|0)+Math.imul(gt,Mi)|0,T=T+Math.imul(gt,Ge)|0,C=C+Math.imul(Yt,Ei)|0,p=(p=p+Math.imul(Yt,Oe)|0)+Math.imul(ee,Ei)|0,T=T+Math.imul(ee,Oe)|0,C=C+Math.imul(be,ke)|0,p=(p=p+Math.imul(be,re)|0)+Math.imul(de,ke)|0,T=T+Math.imul(de,re)|0,C=C+Math.imul(Ht,he)|0,p=(p=p+Math.imul(Ht,Se)|0)+Math.imul(me,he)|0,T=T+Math.imul(me,Se)|0,C=C+Math.imul(Zt,te)|0,p=(p=p+Math.imul(Zt,Re)|0)+Math.imul(Lt,te)|0,T=T+Math.imul(Lt,Re)|0,C=C+Math.imul(Rt,Qe)|0,p=(p=p+Math.imul(Rt,di)|0)+Math.imul(Dt,Qe)|0,T=T+Math.imul(Dt,di)|0;var Co=(I+(C=C+Math.imul(At,ci)|0)|0)+((8191&(p=(p=p+Math.imul(At,si)|0)+Math.imul(bt,ci)|0))<<13)|0;I=((T=T+Math.imul(bt,si)|0)+(p>>>13)|0)+(Co>>>26)|0,Co&=67108863,C=Math.imul(Qt,Mi),p=(p=Math.imul(Qt,Ge))+Math.imul(ue,Mi)|0,T=Math.imul(ue,Ge),C=C+Math.imul(It,Ei)|0,p=(p=p+Math.imul(It,Oe)|0)+Math.imul(gt,Ei)|0,T=T+Math.imul(gt,Oe)|0,C=C+Math.imul(Yt,ke)|0,p=(p=p+Math.imul(Yt,re)|0)+Math.imul(ee,ke)|0,T=T+Math.imul(ee,re)|0,C=C+Math.imul(be,he)|0,p=(p=p+Math.imul(be,Se)|0)+Math.imul(de,he)|0,T=T+Math.imul(de,Se)|0,C=C+Math.imul(Ht,te)|0,p=(p=p+Math.imul(Ht,Re)|0)+Math.imul(me,te)|0,T=T+Math.imul(me,Re)|0,C=C+Math.imul(Zt,Qe)|0,p=(p=p+Math.imul(Zt,di)|0)+Math.imul(Lt,Qe)|0,T=T+Math.imul(Lt,di)|0;var Ti=(I+(C=C+Math.imul(Rt,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Rt,si)|0)+Math.imul(Dt,ci)|0))<<13)|0;I=((T=T+Math.imul(Dt,si)|0)+(p>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,C=Math.imul(Qt,Ei),p=(p=Math.imul(Qt,Oe))+Math.imul(ue,Ei)|0,T=Math.imul(ue,Oe),C=C+Math.imul(It,ke)|0,p=(p=p+Math.imul(It,re)|0)+Math.imul(gt,ke)|0,T=T+Math.imul(gt,re)|0,C=C+Math.imul(Yt,he)|0,p=(p=p+Math.imul(Yt,Se)|0)+Math.imul(ee,he)|0,T=T+Math.imul(ee,Se)|0,C=C+Math.imul(be,te)|0,p=(p=p+Math.imul(be,Re)|0)+Math.imul(de,te)|0,T=T+Math.imul(de,Re)|0,C=C+Math.imul(Ht,Qe)|0,p=(p=p+Math.imul(Ht,di)|0)+Math.imul(me,Qe)|0,T=T+Math.imul(me,di)|0;var mn=(I+(C=C+Math.imul(Zt,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Zt,si)|0)+Math.imul(Lt,ci)|0))<<13)|0;I=((T=T+Math.imul(Lt,si)|0)+(p>>>13)|0)+(mn>>>26)|0,mn&=67108863,C=Math.imul(Qt,ke),p=(p=Math.imul(Qt,re))+Math.imul(ue,ke)|0,T=Math.imul(ue,re),C=C+Math.imul(It,he)|0,p=(p=p+Math.imul(It,Se)|0)+Math.imul(gt,he)|0,T=T+Math.imul(gt,Se)|0,C=C+Math.imul(Yt,te)|0,p=(p=p+Math.imul(Yt,Re)|0)+Math.imul(ee,te)|0,T=T+Math.imul(ee,Re)|0,C=C+Math.imul(be,Qe)|0,p=(p=p+Math.imul(be,di)|0)+Math.imul(de,Qe)|0,T=T+Math.imul(de,di)|0;var gr=(I+(C=C+Math.imul(Ht,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Ht,si)|0)+Math.imul(me,ci)|0))<<13)|0;I=((T=T+Math.imul(me,si)|0)+(p>>>13)|0)+(gr>>>26)|0,gr&=67108863,C=Math.imul(Qt,he),p=(p=Math.imul(Qt,Se))+Math.imul(ue,he)|0,T=Math.imul(ue,Se),C=C+Math.imul(It,te)|0,p=(p=p+Math.imul(It,Re)|0)+Math.imul(gt,te)|0,T=T+Math.imul(gt,Re)|0,C=C+Math.imul(Yt,Qe)|0,p=(p=p+Math.imul(Yt,di)|0)+Math.imul(ee,Qe)|0,T=T+Math.imul(ee,di)|0;var En=(I+(C=C+Math.imul(be,ci)|0)|0)+((8191&(p=(p=p+Math.imul(be,si)|0)+Math.imul(de,ci)|0))<<13)|0;I=((T=T+Math.imul(de,si)|0)+(p>>>13)|0)+(En>>>26)|0,En&=67108863,C=Math.imul(Qt,te),p=(p=Math.imul(Qt,Re))+Math.imul(ue,te)|0,T=Math.imul(ue,Re),C=C+Math.imul(It,Qe)|0,p=(p=p+Math.imul(It,di)|0)+Math.imul(gt,Qe)|0,T=T+Math.imul(gt,di)|0;var _o=(I+(C=C+Math.imul(Yt,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Yt,si)|0)+Math.imul(ee,ci)|0))<<13)|0;I=((T=T+Math.imul(ee,si)|0)+(p>>>13)|0)+(_o>>>26)|0,_o&=67108863,C=Math.imul(Qt,Qe),p=(p=Math.imul(Qt,di))+Math.imul(ue,Qe)|0,T=Math.imul(ue,di);var No=(I+(C=C+Math.imul(It,ci)|0)|0)+((8191&(p=(p=p+Math.imul(It,si)|0)+Math.imul(gt,ci)|0))<<13)|0;I=((T=T+Math.imul(gt,si)|0)+(p>>>13)|0)+(No>>>26)|0,No&=67108863;var Hi=(I+(C=Math.imul(Qt,ci))|0)+((8191&(p=(p=Math.imul(Qt,si))+Math.imul(ue,ci)|0))<<13)|0;return I=((T=Math.imul(ue,si))+(p>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,S[0]=an,S[1]=cn,S[2]=Fn,S[3]=Or,S[4]=Vn,S[5]=Jn,S[6]=hn,S[7]=jr,S[8]=wr,S[9]=br,S[10]=Xn,S[11]=Co,S[12]=Ti,S[13]=mn,S[14]=gr,S[15]=En,S[16]=_o,S[17]=No,S[18]=Hi,0!==I&&(S[19]=I,y.length++),y};function J(R,u,m){return(new z).mulp(R,u,m)}function z(R,u){this.x=R,this.y=u}Math.imul||(H=$),E.prototype.mulTo=function(u,m){var y,v=this.length+u.length;return y=10===this.length&&10===u.length?H(this,u,m):v<63?$(this,u,m):v<1024?function(R,u,m){m.negative=u.negative^R.negative,m.length=R.length+u.length;for(var y=0,v=0,M=0;M<m.length-1;M++){var S=v;v=0;for(var I=67108863&y,C=Math.min(M,u.length-1),p=Math.max(0,M-R.length+1);p<=C;p++){var W=(0|R.words[M-p])*(0|u.words[p]),yt=67108863&W;I=67108863&(yt=yt+I|0),v+=(S=(S=S+(W/67108864|0)|0)+(yt>>>26)|0)>>>26,S&=67108863}m.words[M]=I,y=S,S=v}return 0!==y?m.words[M]=y:m.length--,m.strip()}(this,u,m):J(this,u,m),y},z.prototype.makeRBT=function(u){for(var m=new Array(u),y=E.prototype._countBits(u)-1,v=0;v<u;v++)m[v]=this.revBin(v,y,u);return m},z.prototype.revBin=function(u,m,y){if(0===u||u===y-1)return u;for(var v=0,M=0;M<m;M++)v|=(1&u)<<m-M-1,u>>=1;return v},z.prototype.permute=function(u,m,y,v,M,S){for(var I=0;I<S;I++)v[I]=m[u[I]],M[I]=y[u[I]]},z.prototype.transform=function(u,m,y,v,M,S){this.permute(S,u,m,y,v,M);for(var I=1;I<M;I<<=1)for(var C=I<<1,p=Math.cos(2*Math.PI/C),T=Math.sin(2*Math.PI/C),it=0;it<M;it+=C)for(var Z=p,W=T,yt=0;yt<I;yt++){var wt=y[it+yt],Vt=v[it+yt],Ut=y[it+yt+I],At=v[it+yt+I],bt=Z*Ut-W*At;At=Z*At+W*Ut,y[it+yt]=wt+(Ut=bt),v[it+yt]=Vt+At,y[it+yt+I]=wt-Ut,v[it+yt+I]=Vt-At,yt!==C&&(bt=p*Z-T*W,W=p*W+T*Z,Z=bt)}},z.prototype.guessLen13b=function(u,m){var y=1|Math.max(m,u),v=1&y,M=0;for(y=y/2|0;y;y>>>=1)M++;return 1<<M+1+v},z.prototype.conjugate=function(u,m,y){if(!(y<=1))for(var v=0;v<y/2;v++){var M=u[v];u[v]=u[y-v-1],u[y-v-1]=M,M=m[v],m[v]=-m[y-v-1],m[y-v-1]=-M}},z.prototype.normalize13b=function(u,m){for(var y=0,v=0;v<m/2;v++){var M=8192*Math.round(u[2*v+1]/m)+Math.round(u[2*v]/m)+y;u[v]=67108863&M,y=M<67108864?0:M/67108864|0}return u},z.prototype.convert13b=function(u,m,y,v){for(var M=0,S=0;S<m;S++)y[2*S]=8191&(M+=0|u[S]),y[2*S+1]=8191&(M>>>=13),M>>>=13;for(S=2*m;S<v;++S)y[S]=0;ft(0===M),ft(0==(-8192&M))},z.prototype.stub=function(u){for(var m=new Array(u),y=0;y<u;y++)m[y]=0;return m},z.prototype.mulp=function(u,m,y){var v=2*this.guessLen13b(u.length,m.length),M=this.makeRBT(v),S=this.stub(v),I=new Array(v),C=new Array(v),p=new Array(v),T=new Array(v),it=new Array(v),Z=new Array(v),W=y.words;W.length=v,this.convert13b(u.words,u.length,I,v),this.convert13b(m.words,m.length,T,v),this.transform(I,S,C,p,v,M),this.transform(T,S,it,Z,v,M);for(var yt=0;yt<v;yt++){var wt=C[yt]*it[yt]-p[yt]*Z[yt];p[yt]=C[yt]*Z[yt]+p[yt]*it[yt],C[yt]=wt}return this.conjugate(C,p,v),this.transform(C,p,W,S,v,M),this.conjugate(W,S,v),this.normalize13b(W,v),y.negative=u.negative^m.negative,y.length=u.length+m.length,y.strip()},E.prototype.mul=function(u){var m=new E(null);return m.words=new Array(this.length+u.length),this.mulTo(u,m)},E.prototype.mulf=function(u){var m=new E(null);return m.words=new Array(this.length+u.length),J(this,u,m)},E.prototype.imul=function(u){return this.clone().mulTo(u,this)},E.prototype.imuln=function(u){ft("number"==typeof u),ft(u<67108864);for(var m=0,y=0;y<this.length;y++){var v=(0|this.words[y])*u,M=(67108863&v)+(67108863&m);m>>=26,m+=v/67108864|0,m+=M>>>26,this.words[y]=67108863&M}return 0!==m&&(this.words[y]=m,this.length++),this},E.prototype.muln=function(u){return this.clone().imuln(u)},E.prototype.sqr=function(){return this.mul(this)},E.prototype.isqr=function(){return this.imul(this.clone())},E.prototype.pow=function(u){var m=function(R){for(var u=new Array(R.bitLength()),m=0;m<u.length;m++){var v=m%26;u[m]=(R.words[m/26|0]&1<<v)>>>v}return u}(u);if(0===m.length)return new E(1);for(var y=this,v=0;v<m.length&&0===m[v];v++,y=y.sqr());if(++v<m.length)for(var M=y.sqr();v<m.length;v++,M=M.sqr())0!==m[v]&&(y=y.mul(M));return y},E.prototype.iushln=function(u){ft("number"==typeof u&&u>=0);var M,m=u%26,y=(u-m)/26,v=67108863>>>26-m<<26-m;if(0!==m){var S=0;for(M=0;M<this.length;M++){var I=this.words[M]&v;this.words[M]=(0|this.words[M])-I<<m|S,S=I>>>26-m}S&&(this.words[M]=S,this.length++)}if(0!==y){for(M=this.length-1;M>=0;M--)this.words[M+y]=this.words[M];for(M=0;M<y;M++)this.words[M]=0;this.length+=y}return this.strip()},E.prototype.ishln=function(u){return ft(0===this.negative),this.iushln(u)},E.prototype.iushrn=function(u,m,y){var v;ft("number"==typeof u&&u>=0),v=m?(m-m%26)/26:0;var M=u%26,S=Math.min((u-M)/26,this.length),I=67108863^67108863>>>M<<M,C=y;if(v-=S,v=Math.max(0,v),C){for(var p=0;p<S;p++)C.words[p]=this.words[p];C.length=S}if(0!==S)if(this.length>S)for(this.length-=S,p=0;p<this.length;p++)this.words[p]=this.words[p+S];else this.words[0]=0,this.length=1;var T=0;for(p=this.length-1;p>=0&&(0!==T||p>=v);p--){var it=0|this.words[p];this.words[p]=T<<26-M|it>>>M,T=it&I}return C&&0!==T&&(C.words[C.length++]=T),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},E.prototype.ishrn=function(u,m,y){return ft(0===this.negative),this.iushrn(u,m,y)},E.prototype.shln=function(u){return this.clone().ishln(u)},E.prototype.ushln=function(u){return this.clone().iushln(u)},E.prototype.shrn=function(u){return this.clone().ishrn(u)},E.prototype.ushrn=function(u){return this.clone().iushrn(u)},E.prototype.testn=function(u){ft("number"==typeof u&&u>=0);var m=u%26,y=(u-m)/26;return!(this.length<=y||!(this.words[y]&1<<m))},E.prototype.imaskn=function(u){ft("number"==typeof u&&u>=0);var m=u%26,y=(u-m)/26;return ft(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==m&&y++,this.length=Math.min(y,this.length),0!==m&&(this.words[this.length-1]&=67108863^67108863>>>m<<m),this.strip())},E.prototype.maskn=function(u){return this.clone().imaskn(u)},E.prototype.iaddn=function(u){return ft("number"==typeof u),ft(u<67108864),u<0?this.isubn(-u):0!==this.negative?1===this.length&&(0|this.words[0])<u?(this.words[0]=u-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},E.prototype._iaddn=function(u){this.words[0]+=u;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},E.prototype.isubn=function(u){if(ft("number"==typeof u),ft(u<67108864),u<0)return this.iaddn(-u);if(0!==this.negative)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this.strip()},E.prototype.addn=function(u){return this.clone().iaddn(u)},E.prototype.subn=function(u){return this.clone().isubn(u)},E.prototype.iabs=function(){return this.negative=0,this},E.prototype.abs=function(){return this.clone().iabs()},E.prototype._ishlnsubmul=function(u,m,y){var M;this._expand(u.length+y);var S,I=0;for(M=0;M<u.length;M++){S=(0|this.words[M+y])+I;var C=(0|u.words[M])*m;I=((S-=67108863&C)>>26)-(C/67108864|0),this.words[M+y]=67108863&S}for(;M<this.length-y;M++)I=(S=(0|this.words[M+y])+I)>>26,this.words[M+y]=67108863&S;if(0===I)return this.strip();for(ft(-1===I),I=0,M=0;M<this.length;M++)I=(S=-(0|this.words[M])+I)>>26,this.words[M]=67108863&S;return this.negative=1,this.strip()},E.prototype._wordDiv=function(u,m){var y,v=this.clone(),M=u,S=0|M.words[M.length-1];0!=(y=26-this._countBits(S))&&(M=M.ushln(y),v.iushln(y),S=0|M.words[M.length-1]);var p,C=v.length-M.length;if("mod"!==m){(p=new E(null)).length=C+1,p.words=new Array(p.length);for(var T=0;T<p.length;T++)p.words[T]=0}var it=v.clone()._ishlnsubmul(M,1,C);0===it.negative&&(v=it,p&&(p.words[C]=1));for(var Z=C-1;Z>=0;Z--){var W=67108864*(0|v.words[M.length+Z])+(0|v.words[M.length+Z-1]);for(W=Math.min(W/S|0,67108863),v._ishlnsubmul(M,W,Z);0!==v.negative;)W--,v.negative=0,v._ishlnsubmul(M,1,Z),v.isZero()||(v.negative^=1);p&&(p.words[Z]=W)}return p&&p.strip(),v.strip(),"div"!==m&&0!==y&&v.iushrn(y),{div:p||null,mod:v}},E.prototype.divmod=function(u,m,y){return ft(!u.isZero()),this.isZero()?{div:new E(0),mod:new E(0)}:0!==this.negative&&0===u.negative?(S=this.neg().divmod(u,m),"mod"!==m&&(v=S.div.neg()),"div"!==m&&(M=S.mod.neg(),y&&0!==M.negative&&M.iadd(u)),{div:v,mod:M}):0===this.negative&&0!==u.negative?(S=this.divmod(u.neg(),m),"mod"!==m&&(v=S.div.neg()),{div:v,mod:S.mod}):0!=(this.negative&u.negative)?(S=this.neg().divmod(u.neg(),m),"div"!==m&&(M=S.mod.neg(),y&&0!==M.negative&&M.isub(u)),{div:S.div,mod:M}):u.length>this.length||this.cmp(u)<0?{div:new E(0),mod:this}:1===u.length?"div"===m?{div:this.divn(u.words[0]),mod:null}:"mod"===m?{div:null,mod:new E(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new E(this.modn(u.words[0]))}:this._wordDiv(u,m);var v,M,S},E.prototype.div=function(u){return this.divmod(u,"div",!1).div},E.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},E.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},E.prototype.divRound=function(u){var m=this.divmod(u);if(m.mod.isZero())return m.div;var y=0!==m.div.negative?m.mod.isub(u):m.mod,v=u.ushrn(1),M=u.andln(1),S=y.cmp(v);return S<0||1===M&&0===S?m.div:0!==m.div.negative?m.div.isubn(1):m.div.iaddn(1)},E.prototype.modn=function(u){ft(u<=67108863);for(var m=(1<<26)%u,y=0,v=this.length-1;v>=0;v--)y=(m*y+(0|this.words[v]))%u;return y},E.prototype.idivn=function(u){ft(u<=67108863);for(var m=0,y=this.length-1;y>=0;y--){var v=(0|this.words[y])+67108864*m;this.words[y]=v/u|0,m=v%u}return this.strip()},E.prototype.divn=function(u){return this.clone().idivn(u)},E.prototype.egcd=function(u){ft(0===u.negative),ft(!u.isZero());var m=this,y=u.clone();m=0!==m.negative?m.umod(u):m.clone();for(var v=new E(1),M=new E(0),S=new E(0),I=new E(1),C=0;m.isEven()&&y.isEven();)m.iushrn(1),y.iushrn(1),++C;for(var p=y.clone(),T=m.clone();!m.isZero();){for(var it=0,Z=1;0==(m.words[0]&Z)&&it<26;++it,Z<<=1);if(it>0)for(m.iushrn(it);it-- >0;)(v.isOdd()||M.isOdd())&&(v.iadd(p),M.isub(T)),v.iushrn(1),M.iushrn(1);for(var W=0,yt=1;0==(y.words[0]&yt)&&W<26;++W,yt<<=1);if(W>0)for(y.iushrn(W);W-- >0;)(S.isOdd()||I.isOdd())&&(S.iadd(p),I.isub(T)),S.iushrn(1),I.iushrn(1);m.cmp(y)>=0?(m.isub(y),v.isub(S),M.isub(I)):(y.isub(m),S.isub(v),I.isub(M))}return{a:S,b:I,gcd:y.iushln(C)}},E.prototype._invmp=function(u){ft(0===u.negative),ft(!u.isZero());var it,m=this,y=u.clone();m=0!==m.negative?m.umod(u):m.clone();for(var v=new E(1),M=new E(0),S=y.clone();m.cmpn(1)>0&&y.cmpn(1)>0;){for(var I=0,C=1;0==(m.words[0]&C)&&I<26;++I,C<<=1);if(I>0)for(m.iushrn(I);I-- >0;)v.isOdd()&&v.iadd(S),v.iushrn(1);for(var p=0,T=1;0==(y.words[0]&T)&&p<26;++p,T<<=1);if(p>0)for(y.iushrn(p);p-- >0;)M.isOdd()&&M.iadd(S),M.iushrn(1);m.cmp(y)>=0?(m.isub(y),v.isub(M)):(y.isub(m),M.isub(v))}return(it=0===m.cmpn(1)?v:M).cmpn(0)<0&&it.iadd(u),it},E.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var m=this.clone(),y=u.clone();m.negative=0,y.negative=0;for(var v=0;m.isEven()&&y.isEven();v++)m.iushrn(1),y.iushrn(1);for(;;){for(;m.isEven();)m.iushrn(1);for(;y.isEven();)y.iushrn(1);var M=m.cmp(y);if(M<0){var S=m;m=y,y=S}else if(0===M||0===y.cmpn(1))break;m.isub(y)}return y.iushln(v)},E.prototype.invm=function(u){return this.egcd(u).a.umod(u)},E.prototype.isEven=function(){return 0==(1&this.words[0])},E.prototype.isOdd=function(){return 1==(1&this.words[0])},E.prototype.andln=function(u){return this.words[0]&u},E.prototype.bincn=function(u){ft("number"==typeof u);var m=u%26,y=(u-m)/26,v=1<<m;if(this.length<=y)return this._expand(y+1),this.words[y]|=v,this;for(var M=v,S=y;0!==M&&S<this.length;S++){var I=0|this.words[S];M=(I+=M)>>>26,this.words[S]=I&=67108863}return 0!==M&&(this.words[S]=M,this.length++),this},E.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},E.prototype.cmpn=function(u){var y,m=u<0;if(0!==this.negative&&!m)return-1;if(0===this.negative&&m)return 1;if(this.strip(),this.length>1)y=1;else{m&&(u=-u),ft(u<=67108863,"Number is too big");var v=0|this.words[0];y=v===u?0:v<u?-1:1}return 0!==this.negative?0|-y:y},E.prototype.cmp=function(u){if(0!==this.negative&&0===u.negative)return-1;if(0===this.negative&&0!==u.negative)return 1;var m=this.ucmp(u);return 0!==this.negative?0|-m:m},E.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var m=0,y=this.length-1;y>=0;y--){var v=0|this.words[y],M=0|u.words[y];if(v!==M){v<M?m=-1:v>M&&(m=1);break}}return m},E.prototype.gtn=function(u){return 1===this.cmpn(u)},E.prototype.gt=function(u){return 1===this.cmp(u)},E.prototype.gten=function(u){return this.cmpn(u)>=0},E.prototype.gte=function(u){return this.cmp(u)>=0},E.prototype.ltn=function(u){return-1===this.cmpn(u)},E.prototype.lt=function(u){return-1===this.cmp(u)},E.prototype.lten=function(u){return this.cmpn(u)<=0},E.prototype.lte=function(u){return this.cmp(u)<=0},E.prototype.eqn=function(u){return 0===this.cmpn(u)},E.prototype.eq=function(u){return 0===this.cmp(u)},E.red=function(u){return new Et(u)},E.prototype.toRed=function(u){return ft(!this.red,"Already a number in reduction context"),ft(0===this.negative,"red works only with positives"),u.convertTo(this)._forceRed(u)},E.prototype.fromRed=function(){return ft(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},E.prototype._forceRed=function(u){return this.red=u,this},E.prototype.forceRed=function(u){return ft(!this.red,"Already a number in reduction context"),this._forceRed(u)},E.prototype.redAdd=function(u){return ft(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},E.prototype.redIAdd=function(u){return ft(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},E.prototype.redSub=function(u){return ft(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},E.prototype.redISub=function(u){return ft(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},E.prototype.redShl=function(u){return ft(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},E.prototype.redMul=function(u){return ft(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},E.prototype.redIMul=function(u){return ft(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},E.prototype.redSqr=function(){return ft(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},E.prototype.redISqr=function(){return ft(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},E.prototype.redSqrt=function(){return ft(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},E.prototype.redInvm=function(){return ft(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},E.prototype.redNeg=function(){return ft(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},E.prototype.redPow=function(u){return ft(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var nt={k256:null,p224:null,p192:null,p25519:null};function Q(R,u){this.name=R,this.p=new E(u,16),this.n=this.p.bitLength(),this.k=new E(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function lt(){Q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _t(){Q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function Ct(){Q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function kt(){Q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Et(R){if("string"==typeof R){var u=E._prime(R);this.m=u.p,this.prime=u}else ft(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}function St(R){Et.call(this,R),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new E(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Q.prototype._tmp=function(){var u=new E(null);return u.words=new Array(Math.ceil(this.n/13)),u},Q.prototype.ireduce=function(u){var y,m=u;do{this.split(m,this.tmp),y=(m=(m=this.imulK(m)).iadd(this.tmp)).bitLength()}while(y>this.n);var v=y<this.n?-1:m.ucmp(this.p);return 0===v?(m.words[0]=0,m.length=1):v>0?m.isub(this.p):void 0!==m.strip?m.strip():m._strip(),m},Q.prototype.split=function(u,m){u.iushrn(this.n,0,m)},Q.prototype.imulK=function(u){return u.imul(this.k)},dt(lt,Q),lt.prototype.split=function(u,m){for(var y=4194303,v=Math.min(u.length,9),M=0;M<v;M++)m.words[M]=u.words[M];if(m.length=v,u.length<=9)return u.words[0]=0,void(u.length=1);var S=u.words[9];for(m.words[m.length++]=S&y,M=10;M<u.length;M++){var I=0|u.words[M];u.words[M-10]=(I&y)<<4|S>>>22,S=I}u.words[M-10]=S>>>=22,u.length-=0===S&&u.length>10?10:9},lt.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var m=0,y=0;y<u.length;y++){var v=0|u.words[y];u.words[y]=67108863&(m+=977*v),m=64*v+(m/67108864|0)}return 0===u.words[u.length-1]&&(u.length--,0===u.words[u.length-1]&&u.length--),u},dt(_t,Q),dt(Ct,Q),dt(kt,Q),kt.prototype.imulK=function(u){for(var m=0,y=0;y<u.length;y++){var v=19*(0|u.words[y])+m,M=67108863&v;v>>>=26,u.words[y]=M,m=v}return 0!==m&&(u.words[u.length++]=m),u},E._prime=function(u){if(nt[u])return nt[u];var m;if("k256"===u)m=new lt;else if("p224"===u)m=new _t;else if("p192"===u)m=new Ct;else{if("p25519"!==u)throw new Error("Unknown prime "+u);m=new kt}return nt[u]=m,m},Et.prototype._verify1=function(u){ft(0===u.negative,"red works only with positives"),ft(u.red,"red works only with red numbers")},Et.prototype._verify2=function(u,m){ft(0==(u.negative|m.negative),"red works only with positives"),ft(u.red&&u.red===m.red,"red works only with red numbers")},Et.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},Et.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},Et.prototype.add=function(u,m){this._verify2(u,m);var y=u.add(m);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},Et.prototype.iadd=function(u,m){this._verify2(u,m);var y=u.iadd(m);return y.cmp(this.m)>=0&&y.isub(this.m),y},Et.prototype.sub=function(u,m){this._verify2(u,m);var y=u.sub(m);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},Et.prototype.isub=function(u,m){this._verify2(u,m);var y=u.isub(m);return y.cmpn(0)<0&&y.iadd(this.m),y},Et.prototype.shl=function(u,m){return this._verify1(u),this.imod(u.ushln(m))},Et.prototype.imul=function(u,m){return this._verify2(u,m),this.imod(u.imul(m))},Et.prototype.mul=function(u,m){return this._verify2(u,m),this.imod(u.mul(m))},Et.prototype.isqr=function(u){return this.imul(u,u.clone())},Et.prototype.sqr=function(u){return this.mul(u,u)},Et.prototype.sqrt=function(u){if(u.isZero())return u.clone();var m=this.m.andln(3);if(ft(m%2==1),3===m){var y=this.m.add(new E(1)).iushrn(2);return this.pow(u,y)}for(var v=this.m.subn(1),M=0;!v.isZero()&&0===v.andln(1);)M++,v.iushrn(1);ft(!v.isZero());var S=new E(1).toRed(this),I=S.redNeg(),C=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new E(2*p*p).toRed(this);0!==this.pow(p,C).cmp(I);)p.redIAdd(I);for(var T=this.pow(p,v),it=this.pow(u,v.addn(1).iushrn(1)),Z=this.pow(u,v),W=M;0!==Z.cmp(S);){for(var yt=Z,wt=0;0!==yt.cmp(S);wt++)yt=yt.redSqr();ft(wt<W);var Vt=this.pow(T,new E(1).iushln(W-wt-1));it=it.redMul(Vt),T=Vt.redSqr(),Z=Z.redMul(T),W=wt}return it},Et.prototype.invm=function(u){var m=u._invmp(this.m);return 0!==m.negative?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},Et.prototype.pow=function(u,m){if(m.isZero())return new E(1).toRed(this);if(0===m.cmpn(1))return u.clone();var v=new Array(16);v[0]=new E(1).toRed(this),v[1]=u;for(var M=2;M<v.length;M++)v[M]=this.mul(v[M-1],u);var S=v[0],I=0,C=0,p=m.bitLength()%26;for(0===p&&(p=26),M=m.length-1;M>=0;M--){for(var T=m.words[M],it=p-1;it>=0;it--){var Z=T>>it&1;S!==v[0]&&(S=this.sqr(S)),0!==Z||0!==I?(I<<=1,I|=Z,(4==++C||0===M&&0===it)&&(S=this.mul(S,v[I]),C=0,I=0)):C=0}p=26}return S},Et.prototype.convertTo=function(u){var m=u.umod(this.m);return m===u?m.clone():m},Et.prototype.convertFrom=function(u){var m=u.clone();return m.red=null,m},E.mont=function(u){return new St(u)},dt(St,Et),St.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},St.prototype.convertFrom=function(u){var m=this.imod(u.mul(this.rinv));return m.red=null,m},St.prototype.imul=function(u,m){if(u.isZero()||m.isZero())return u.words[0]=0,u.length=1,u;var y=u.imul(m),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(v).iushrn(this.shift),S=M;return M.cmp(this.m)>=0?S=M.isub(this.m):M.cmpn(0)<0&&(S=M.iadd(this.m)),S._forceRed(this)},St.prototype.mul=function(u,m){if(u.isZero()||m.isZero())return new E(0)._forceRed(this);var y=u.mul(m),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(v).iushrn(this.shift),S=M;return M.cmp(this.m)>=0?S=M.isub(this.m):M.cmpn(0)<0&&(S=M.iadd(this.m)),S._forceRed(this)},St.prototype.invm=function(u){return this.imod(u._invmp(this.m).mul(this.r2))._forceRed(this)}}(_e=Ft.nmd(_e),this)},4979:(_e,st,Ft)=>{"use strict";var zt=Ft(3516),Kt=Ft(2996),ft=Ft(7447),dt=Ft(6010),E=Ft(8672);function K(Y){E.call(this,"digest"),this._hash=Y}zt(K,E),K.prototype._update=function(Y){this._hash.update(Y)},K.prototype._final=function(){return this._hash.digest()},_e.exports=function(ct){return"md5"===(ct=ct.toLowerCase())?new Kt:"rmd160"===ct||"ripemd160"===ct?new ft:new K(dt(ct))}},4936:(_e,st,Ft)=>{var zt=Ft(2996);_e.exports=function(Kt){return(new zt).update(Kt).digest()}},3927:(_e,st,Ft)=>{"use strict";var zt=Ft(3516),Kt=Ft(3107),ft=Ft(8672),dt=Ft(4615).Buffer,E=Ft(4936),K=Ft(7447),Y=Ft(6010),ct=dt.alloc(128);function et(X,U){ft.call(this,"digest"),"string"==typeof U&&(U=dt.from(U));var at="sha512"===X||"sha384"===X?128:64;this._alg=X,this._key=U,U.length>at?U=("rmd160"===X?new K:Y(X)).update(U).digest():U.length<at&&(U=dt.concat([U,ct],at));for(var $=this._ipad=dt.allocUnsafe(at),H=this._opad=dt.allocUnsafe(at),G=0;G<at;G++)$[G]=54^U[G],H[G]=92^U[G];this._hash="rmd160"===X?new K:Y(X),this._hash.update($)}zt(et,ft),et.prototype._update=function(X){this._hash.update(X)},et.prototype._final=function(){var X=this._hash.digest();return("rmd160"===this._alg?new K:Y(this._alg)).update(this._opad).update(X).digest()},_e.exports=function(U,at){return"rmd160"===(U=U.toLowerCase())||"ripemd160"===U?new et("rmd160",at):"md5"===U?new Kt(E,at):new et(U,at)}},3107:(_e,st,Ft)=>{"use strict";var zt=Ft(3516),Kt=Ft(4615).Buffer,ft=Ft(8672),dt=Kt.alloc(128),E=64;function K(Y,ct){ft.call(this,"digest"),"string"==typeof ct&&(ct=Kt.from(ct)),this._alg=Y,this._key=ct,ct.length>E?ct=Y(ct):ct.length<E&&(ct=Kt.concat([ct,dt],E));for(var et=this._ipad=Kt.allocUnsafe(E),X=this._opad=Kt.allocUnsafe(E),U=0;U<E;U++)et[U]=54^ct[U],X[U]=92^ct[U];this._hash=[et]}zt(K,ft),K.prototype._update=function(Y){this._hash.push(Y)},K.prototype._final=function(){var Y=this._alg(Kt.concat(this._hash));return this._alg(Kt.concat([this._opad,Y]))},_e.exports=K},7702:(_e,st,Ft)=>{"use strict";st.randomBytes=st.rng=st.pseudoRandomBytes=st.prng=Ft(8747),st.createHash=st.Hash=Ft(4979),st.createHmac=st.Hmac=Ft(3927);var zt=Ft(6850),Kt=Object.keys(zt),ft=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(Kt);st.getHashes=function(){return ft};var dt=Ft(6556);st.pbkdf2=dt.pbkdf2,st.pbkdf2Sync=dt.pbkdf2Sync;var E=Ft(5828);st.Cipher=E.Cipher,st.createCipher=E.createCipher,st.Cipheriv=E.Cipheriv,st.createCipheriv=E.createCipheriv,st.Decipher=E.Decipher,st.createDecipher=E.createDecipher,st.Decipheriv=E.Decipheriv,st.createDecipheriv=E.createDecipheriv,st.getCiphers=E.getCiphers,st.listCiphers=E.listCiphers;var K=Ft(1198);st.DiffieHellmanGroup=K.DiffieHellmanGroup,st.createDiffieHellmanGroup=K.createDiffieHellmanGroup,st.getDiffieHellman=K.getDiffieHellman,st.createDiffieHellman=K.createDiffieHellman,st.DiffieHellman=K.DiffieHellman;var Y=Ft(5822);st.createSign=Y.createSign,st.Sign=Y.Sign,st.createVerify=Y.createVerify,st.Verify=Y.Verify,st.createECDH=Ft(4523);var ct=Ft(2914);st.publicEncrypt=ct.publicEncrypt,st.privateEncrypt=ct.privateEncrypt,st.publicDecrypt=ct.publicDecrypt,st.privateDecrypt=ct.privateDecrypt;var et=Ft(1766);st.randomFill=et.randomFill,st.randomFillSync=et.randomFillSync,st.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},st.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},6912:(_e,st,Ft)=>{"use strict";function zt(w){return w&&"object"==typeof w&&"default"in w?w.default:w}var Kt=zt(Ft(5122)),ft=zt(Ft(8221));function dt(w){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(w)}function E(w,d){if(!(w instanceof d))throw new TypeError("Cannot call a class as a function")}function K(w,d){for(var b=0;b<d.length;b++){var D=d[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,D.key,D)}}function Y(w,d,b){return d&&K(w.prototype,d),b&&K(w,b),w}function ct(w,d,b){return d in w?Object.defineProperty(w,d,{value:b,enumerable:!0,configurable:!0,writable:!0}):w[d]=b,w}function et(w,d){return function(w){if(Array.isArray(w))return w}(w)||function(w,d){var b=[],D=!0,O=!1,N=void 0;try{for(var tt,L=w[Symbol.iterator]();!(D=(tt=L.next()).done)&&(b.push(tt.value),!d||b.length!==d);D=!0);}catch(ht){O=!0,N=ht}finally{try{!D&&null!=L.return&&L.return()}finally{if(O)throw N}}return b}(w,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var V="undefined"==typeof window?null:window,$=V?V.navigator:null,G=dt(""),J=dt({}),z=dt(function(){}),nt="undefined"==typeof HTMLElement?"undefined":dt(HTMLElement),Q=function(d){return d&&d.instanceString&&_t(d.instanceString)?d.instanceString():null},lt=function(d){return null!=d&&dt(d)==G},_t=function(d){return null!=d&&dt(d)===z},Ct=function(d){return!m(d)&&(Array.isArray?Array.isArray(d):null!=d&&d instanceof Array)},kt=function(d){return null!=d&&dt(d)===J&&!Ct(d)&&d.constructor===Object},St=function(d){return null!=d&&dt(d)===dt(1)&&!isNaN(d)},u=function(d){if("undefined"!==nt)return null!=d&&d instanceof HTMLElement},m=function(d){return y(d)||v(d)},y=function(d){return"collection"===Q(d)&&d._private.single},v=function(d){return"collection"===Q(d)&&!d._private.single},M=function(d){return"core"===Q(d)},S=function(d){return"stylesheet"===Q(d)},C=function(d){return null==d||!(""!==d&&!d.match(/^\s+$/))},it=function(d){return function(d){return null!=d&&dt(d)===J}(d)&&_t(d.then)},W=function(d,b){b||(b=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var N=[],L=0;L<arguments.length;L++)N.push(arguments[L]);return N.join("$")});var D=function O(){var tt,N=this,L=arguments,ht=b.apply(N,L),ot=O.cache;return(tt=ot[ht])||(tt=ot[ht]=d.apply(N,L)),tt};return D.cache={},D},yt=W(function(w){return w.replace(/([A-Z])/g,function(d){return"-"+d.toLowerCase()})}),wt=W(function(w){return w.replace(/(-\w)/g,function(d){return d[1].toUpperCase()})}),Vt=W(function(w,d){return w+d[0].toUpperCase()+d.substring(1)},function(w,d){return w+"$"+d}),Ut=function(d){return C(d)?d:d.charAt(0).toUpperCase()+d.substring(1)},At="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Lt=function(d,b){return d<b?-1:d>b?1:0},Ht=null!=Object.assign?Object.assign.bind(Object):function(w){for(var d=arguments,b=1;b<d.length;b++){var D=d[b];if(null!=D)for(var O=Object.keys(D),N=0;N<O.length;N++){var L=O[N];w[L]=D[L]}}return w},Yt={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},ee=function(d){for(var b=d.map,D=d.keys,O=D.length,N=0;N<O;N++){var L=D[N];if(kt(L))throw Error("Tried to set map with object key");N<D.length-1?(null==b[L]&&(b[L]={}),b=b[L]):b[L]=d.value}},Le=function(d){for(var b=d.map,D=d.keys,O=D.length,N=0;N<O;N++){var L=D[N];if(kt(L))throw Error("Tried to get map with object key");if(null==(b=b[L]))return b}return b},It=V?V.performance:null,gt=It&&It.now?function(){return It.now()}:function(){return Date.now()},rt=function(){if(V){if(V.requestAnimationFrame)return function(w){V.requestAnimationFrame(w)};if(V.mozRequestAnimationFrame)return function(w){V.mozRequestAnimationFrame(w)};if(V.webkitRequestAnimationFrame)return function(w){V.webkitRequestAnimationFrame(w)};if(V.msRequestAnimationFrame)return function(w){V.msRequestAnimationFrame(w)}}return function(w){w&&setTimeout(function(){w(gt())},1e3/60)}}(),Qt=function(d){return rt(d)},ue=gt,Ze=9261,ve=65599,Ie=5381,on=function(d){for(var O,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ze,D=b;!(O=d.next()).done;)D=D*ve+O.value|0;return D},ni=function(d){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ze;return b*ve+d|0},ii=function(d){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ie;return(b<<5)+b+d|0},vi=function(d){return 2097152*d[0]+d[1]},_i=function(d,b){return[ni(d[0],b[0]),ii(d[1],b[1])]},Mi=function(d,b){var D={value:0,done:!1},O=0,N=d.length;return on({next:function(){return O<N?D.value=d.charCodeAt(O++):D.done=!0,D}},b)},Ge=function(){return fn(arguments)},fn=function(d){for(var b,D=0;D<d.length;D++){var O=d[D];b=0===D?Mi(O):Mi(O,b)}return b},Ei=!0,Oe=null!=console.warn,ai=null!=console.trace,ke=Number.MAX_SAFE_INTEGER||9007199254740991,re=function(){return!0},De=function(){return!1},he=function(){return 0},Se=function(){},$e=function(d){throw new Error(d)},te=function(d){if(void 0===d)return Ei;Ei=!!d},Re=function(d){!te()||(Oe?console.warn(d):(console.log(d),ai&&console.trace()))},Qe=function(d){return null==d?d:Ct(d)?d.slice():kt(d)?function(d){return Ht({},d)}(d):d},Bn=function(d,b){for(b=d="";d++<36;b+=51*d&52?(15^d?8^Math.random()*(20^d?16:4):4).toString(16):"-");return b},ci={},si=function(){return ci},an=function(d){var b=Object.keys(d);return function(D){for(var O={},N=0;N<b.length;N++){var L=b[N],tt=null==D?void 0:D[L];O[L]=void 0===tt?d[L]:tt}return O}},cn=function(d,b,D){for(var O=d.length-1;O>=0&&(d[O]!==b||(d.splice(O,1),!D));O--);},Fn=function(d){d.splice(0,d.length)},Vn=function(d,b,D){return D&&(b=Vt(D,b)),d[b]},Jn=function(d,b,D,O){D&&(b=Vt(D,b)),d[b]=O},jr="undefined"!=typeof Map?Map:function(){function w(){E(this,w),this._obj={}}return Y(w,[{key:"set",value:function(b,D){return this._obj[b]=D,this}},{key:"delete",value:function(b){return this._obj[b]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(b){return void 0!==this._obj[b]}},{key:"get",value:function(b){return this._obj[b]}}]),w}(),br=function(){function w(d){if(E(this,w),this._obj=Object.create(null),this.size=0,null!=d){var b;b=null!=d.instanceString&&d.instanceString()===this.instanceString()?d.toArray():d;for(var D=0;D<b.length;D++)this.add(b[D])}}return Y(w,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(b){var D=this._obj;1!==D[b]&&(D[b]=1,this.size++)}},{key:"delete",value:function(b){var D=this._obj;1===D[b]&&(D[b]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(b){return 1===this._obj[b]}},{key:"toArray",value:function(){var b=this;return Object.keys(this._obj).filter(function(D){return b.has(D)})}},{key:"forEach",value:function(b,D){return this.toArray().forEach(b,D)}}]),w}(),Xn="undefined"!==("undefined"==typeof Set?"undefined":dt(Set))?Set:br,Co=function(d,b){var D=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==d&&void 0!==b&&M(d)){var O=b.group;if(null==O&&(O=b.data&&null!=b.data.source&&null!=b.data.target?"edges":"nodes"),"nodes"===O||"edges"===O){this.length=1,this[0]=this;var N=this._private={cy:d,single:!0,data:b.data||{},position:b.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:O,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!b.selected,selectable:void 0===b.selectable||!!b.selectable,locked:!!b.locked,grabbed:!1,grabbable:void 0===b.grabbable||!!b.grabbable,pannable:void 0===b.pannable?"edges"===O:!!b.pannable,active:!1,classes:new Xn,animation:{current:[],queue:[]},rscratch:{},scratch:b.scratch||{},edges:[],children:[],parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==N.position.x&&(N.position.x=0),null==N.position.y&&(N.position.y=0),b.renderedPosition){var L=b.renderedPosition,tt=d.pan(),ht=d.zoom();N.position={x:(L.x-tt.x)/ht,y:(L.y-tt.y)/ht}}var ot=[];Ct(b.classes)?ot=b.classes:lt(b.classes)&&(ot=b.classes.split(/\s+/));for(var mt=0,Mt=ot.length;mt<Mt;mt++){var Ot=ot[mt];!Ot||""===Ot||N.classes.add(Ot)}this.createEmitter();var jt=b.style||b.css;jt&&(Re("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(jt)),(void 0===D||D)&&this.restore()}else $e("An element must be of type `nodes` or `edges`; you specified `"+O+"`")}else $e("An element must have a core reference and parameters set")},Ti=function(d){return d={bfs:d.bfs||!d.dfs,dfs:d.dfs||!d.bfs},function(D,O,N){var L;kt(D)&&!m(D)&&(D=(L=D).roots||L.root,O=L.visit,N=L.directed),N=2!==arguments.length||_t(O)?N:O,O=_t(O)?O:function(){};for(var Nt,tt=this._private.cy,ht=D=lt(D)?this.filter(D):D,ot=[],mt=[],Mt={},Ot={},jt={},Gt=0,Jt=this.byGroup(),oe=Jt.nodes,ae=Jt.edges,le=0;le<ht.length;le++){var xe=ht[le],Ve=xe.id();xe.isNode()&&(ot.unshift(xe),d.bfs&&(jt[Ve]=!0,mt.push(xe)),Ot[Ve]=0)}var He=function(){var Je=d.bfs?ot.shift():ot.pop(),Be=Je.id();if(d.dfs){if(jt[Be])return"continue";jt[Be]=!0,mt.push(Je)}var Fi,wi=Ot[Be],fi=Mt[Be],bi=null!=fi?fi.source():null,pi=null!=fi?fi.target():null,yi=null==fi?void 0:Je.same(bi)?pi[0]:bi[0];if(!0===(Fi=O(Je,fi,yi,Gt++,wi)))return Nt=Je,"break";if(!1===Fi)return"break";for(var Ai=Je.connectedEdges().filter(function(Ui){return(!N||Ui.source().same(Je))&&ae.has(Ui)}),li=0;li<Ai.length;li++){var Wi=Ai[li],Fe=Wi.connectedNodes().filter(function(Ui){return!Ui.same(Je)&&oe.has(Ui)}),Gi=Fe.id();0!==Fe.length&&!jt[Gi]&&(ot.push(Fe=Fe[0]),d.bfs&&(jt[Gi]=!0,mt.push(Fe)),Mt[Gi]=Wi,Ot[Gi]=Ot[Be]+1)}};t:for(;0!==ot.length;){var ge=He();switch(ge){case"continue":continue;case"break":break t}}for(var ze=tt.collection(),Me=0;Me<mt.length;Me++){var Ye=mt[Me],Ue=Mt[Ye.id()];null!=Ue&&ze.push(Ue),ze.push(Ye)}return{path:tt.collection(ze),found:tt.collection(Nt)}}},mn={breadthFirstSearch:Ti({bfs:!0}),depthFirstSearch:Ti({dfs:!0})};mn.bfs=mn.breadthFirstSearch,mn.dfs=mn.depthFirstSearch;var gr=an({root:null,weight:function(d){return 1},directed:!1}),En={dijkstra:function(d){if(!kt(d)){var b=arguments;d={root:b[0],weight:b[1],directed:b[2]}}var D=gr(d),O=D.root,N=D.weight,L=D.directed,tt=this,ht=N,ot=lt(O)?this.filter(O)[0]:O[0],mt={},Mt={},Ot={},jt=this.byGroup(),Gt=jt.nodes,Nt=jt.edges;Nt.unmergeBy(function(wi){return wi.isLoop()});for(var Jt=function(fi){return mt[fi.id()]},oe=function(fi,bi){mt[fi.id()]=bi,ae.updateItem(fi)},ae=new ft(function(wi,fi){return Jt(wi)-Jt(fi)}),le=0;le<Gt.length;le++){var xe=Gt[le];mt[xe.id()]=xe.same(ot)?0:1/0,ae.push(xe)}for(var Ve=function(fi,bi){for(var Fi,pi=(L?fi.edgesTo(bi):fi.edgesWith(bi)).intersect(Nt),yi=1/0,Ai=0;Ai<pi.length;Ai++){var li=pi[Ai],Wi=ht(li);(Wi<yi||!Fi)&&(yi=Wi,Fi=li)}return{edge:Fi,dist:yi}};ae.size()>0;){var He=ae.pop(),ge=Jt(He),ze=He.id();if(Ot[ze]=ge,ge!==1/0)for(var Me=He.neighborhood().intersect(Gt),Ye=0;Ye<Me.length;Ye++){var Ue=Me[Ye],Ne=Ue.id(),Je=Ve(He,Ue),Be=ge+Je.dist;Be<Jt(Ue)&&(oe(Ue,Be),Mt[Ne]={node:He,edge:Je.edge})}}return{distanceTo:function(fi){var bi=lt(fi)?Gt.filter(fi)[0]:fi[0];return Ot[bi.id()]},pathTo:function(fi){var bi=lt(fi)?Gt.filter(fi)[0]:fi[0],pi=[],yi=bi,Fi=yi.id();if(bi.length>0)for(pi.unshift(bi);Mt[Fi];){var Ai=Mt[Fi];pi.unshift(Ai.edge),pi.unshift(Ai.node),Fi=(yi=Ai.node).id()}return tt.spawn(pi)}}}},_o={kruskal:function(d){d=d||function(le){return 1};for(var b=this.byGroup(),D=b.nodes,O=b.edges,N=D.length,L=new Array(N),tt=D,ht=function(xe){for(var Ve=0;Ve<L.length;Ve++)if(L[Ve].has(xe))return Ve},ot=0;ot<N;ot++)L[ot]=this.spawn(D[ot]);for(var mt=O.sort(function(le,xe){return d(le)-d(xe)}),Mt=0;Mt<mt.length;Mt++){var Ot=mt[Mt],jt=Ot.source()[0],Gt=Ot.target()[0],Nt=ht(jt),Jt=ht(Gt),oe=L[Nt],ae=L[Jt];Nt!==Jt&&(tt.merge(Ot),oe.merge(ae),L.splice(Jt,1))}return tt}},No=an({root:null,goal:null,weight:function(d){return 1},heuristic:function(d){return 0},directed:!1}),Hi={aStar:function(d){var b=this.cy(),D=No(d),O=D.root,N=D.goal,L=D.heuristic,tt=D.directed,ht=D.weight;O=b.collection(O)[0],N=b.collection(N)[0];var le,xe,ot=O.id(),mt=N.id(),Mt={},Ot={},jt={},Gt=new ft(function(Fi,Ai){return Ot[Fi.id()]-Ot[Ai.id()]}),Nt=new Xn,Jt={},oe={},ae=function(Ai,li){Gt.push(Ai),Nt.add(li)};ae(O,ot),Mt[ot]=0,Ot[ot]=L(O);for(var ge=0;Gt.size()>0;){if(xe=(le=Gt.pop()).id(),Nt.delete(xe),ge++,xe===mt){for(var ze=[],Me=N,Ye=mt,Ue=oe[Ye];ze.unshift(Me),null!=Ue&&ze.unshift(Ue),null!=(Me=Jt[Ye]);)Ue=oe[Ye=Me.id()];return{found:!0,distance:Mt[xe],path:this.spawn(ze),steps:ge}}jt[xe]=!0;for(var Ne=le._private.edges,Je=0;Je<Ne.length;Je++){var Be=Ne[Je];if(this.hasElementWithId(Be.id())&&(!tt||Be.data("source")===xe)){var wi=Be.source(),fi=Be.target(),bi=wi.id()!==xe?wi:fi,pi=bi.id();if(this.hasElementWithId(pi)&&!jt[pi]){var yi=Mt[xe]+ht(Be);if(!Nt.has(pi)){Mt[pi]=yi,Ot[pi]=yi+L(bi),ae(bi,pi),Jt[pi]=le,oe[pi]=Be;continue}yi<Mt[pi]&&(Mt[pi]=yi,Ot[pi]=yi+L(bi),Jt[pi]=le,oe[pi]=Be)}}}}return{found:!1,distance:void 0,path:void 0,steps:ge}}},Un=an({weight:function(d){return 1},directed:!1}),Ou={floydWarshall:function(d){for(var b=this.cy(),D=Un(d),N=D.directed,L=D.weight,tt=this.byGroup(),ht=tt.nodes,ot=tt.edges,mt=ht.length,Mt=mt*mt,Ot=function(Wi){return ht.indexOf(Wi)},jt=function(Wi){return ht[Wi]},Gt=new Array(Mt),Nt=0;Nt<Mt;Nt++){var Jt=Nt%mt;Gt[Nt]=(Nt-Jt)/mt===Jt?0:1/0}for(var ae=new Array(Mt),le=new Array(Mt),xe=0;xe<ot.length;xe++){var Ve=ot[xe],He=Ve.source()[0],ge=Ve.target()[0];if(He!==ge){var ze=Ot(He),Me=Ot(ge),Ye=ze*mt+Me,Ue=L(Ve);if(Gt[Ye]>Ue&&(Gt[Ye]=Ue,ae[Ye]=Me,le[Ye]=Ve),!N){var Ne=Me*mt+ze;!N&&Gt[Ne]>Ue&&(Gt[Ne]=Ue,ae[Ne]=ze,le[Ne]=Ve)}}}for(var Je=0;Je<mt;Je++)for(var Be=0;Be<mt;Be++)for(var wi=Be*mt+Je,fi=0;fi<mt;fi++){var bi=Be*mt+fi,pi=Je*mt+fi;Gt[wi]+Gt[pi]<Gt[bi]&&(Gt[bi]=Gt[wi]+Gt[pi],ae[bi]=ae[wi])}var Fi=function(Wi){return Ot(function(Wi){return(lt(Wi)?b.filter(Wi):Wi)[0]}(Wi))};return{distance:function(Wi,Fe){var Gi=Fi(Wi),Ui=Fi(Fe);return Gt[Gi*mt+Ui]},path:function(Wi,Fe){var Gi=Fi(Wi),Ui=Fi(Fe),xi=jt(Gi);if(Gi===Ui)return xi.collection();if(null==ae[Gi*mt+Ui])return b.collection();var Ni=b.collection();for(Ni.merge(xi);Gi!==Ui;)Ni.merge(le[Gi*mt+(Gi=ae[Gi*mt+Ui])]),Ni.merge(jt(Gi));return Ni}}}},gc=an({weight:function(d){return 1},directed:!1,root:null}),tl={bellmanFord:function(d){var b=this,D=gc(d),N=D.directed,L=D.root,tt=D.weight,ht=this,ot=this.cy(),mt=this.byGroup(),Mt=mt.edges,Ot=mt.nodes,jt=Ot.length,Gt=new jr,Nt=!1;L=ot.collection(L)[0],Mt.unmergeBy(function(Ui){return Ui.isLoop()});for(var oe=Mt.length,ae=function(xi){var Ni=Gt.get(xi.id());return Ni||(Ni={},Gt.set(xi.id(),Ni)),Ni},le=function(xi){return(lt(xi)?ot.$(xi):xi)[0]},He=0;He<jt;He++){var ge=Ot[He],ze=ae(ge);ze.dist=ge.same(L)?0:1/0,ze.pred=null,ze.edge=null}for(var Me=!1,Ye=function(xi,Ni,$i,nn,bn,Mr){var kr=nn.dist+Mr;kr<bn.dist&&!$i.same(nn.edge)&&(bn.dist=kr,bn.pred=xi,bn.edge=$i,Me=!0)},Ue=1;Ue<jt;Ue++){Me=!1;for(var Ne=0;Ne<oe;Ne++){var Je=Mt[Ne],Be=Je.source(),wi=Je.target(),fi=tt(Je),bi=ae(Be),pi=ae(wi);Ye(Be,0,Je,bi,pi,fi),N||Ye(wi,0,Je,pi,bi,fi)}if(!Me)break}if(Me)for(var yi=0;yi<oe;yi++){var Fi=Mt[yi],Ai=Fi.source(),li=Fi.target(),Wi=tt(Fi),Fe=ae(Ai).dist,Gi=ae(li).dist;if(Fe+Wi<Gi||!N&&Gi+Wi<Fe){Re("Graph contains a negative weight cycle for Bellman-Ford"),Nt=!0;break}}return{distanceTo:function(xi){return ae(le(xi)).dist},pathTo:function(xi){for(var Ni=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L,$i=le(xi),nn=[],bn=$i;;){if(null==bn)return b.spawn();var Mr=ae(bn),kr=Mr.edge,Pn=Mr.pred;if(nn.unshift(bn[0]),bn.same(Ni)&&nn.length>0)break;null!=kr&&nn.unshift(kr),bn=Pn}return ht.spawn(nn)},hasNegativeWeightCycle:Nt,negativeWeightCycles:[]}}},wm=Math.sqrt(2),rd=function(d,b,D){0===D.length&&$e("Karger-Stein must be run on a connected (sub)graph");for(var O=D[d],tt=b[O[1]],ht=b[O[2]],ot=D,mt=ot.length-1;mt>=0;mt--){var Mt=ot[mt],Ot=Mt[1],jt=Mt[2];(b[Ot]===tt&&b[jt]===ht||b[Ot]===ht&&b[jt]===tt)&&ot.splice(mt,1)}for(var Gt=0;Gt<ot.length;Gt++){var Nt=ot[Gt];Nt[1]===ht?(ot[Gt]=Nt.slice(),ot[Gt][1]=tt):Nt[2]===ht&&(ot[Gt]=Nt.slice(),ot[Gt][2]=tt)}for(var Jt=0;Jt<b.length;Jt++)b[Jt]===ht&&(b[Jt]=tt);return ot},_r=function(d,b,D,O){for(;D>O;){var N=Math.floor(Math.random()*b.length);b=rd(N,d,b),D--}return b},ga={kargerStein:function(){var d=this,b=this.byGroup(),D=b.nodes,O=b.edges;O.unmergeBy(function(pi){return pi.isLoop()});var N=D.length,L=O.length,tt=Math.ceil(Math.pow(Math.log(N)/Math.LN2,2)),ht=Math.floor(N/wm);if(!(N<2)){for(var ot=[],mt=0;mt<L;mt++){var Mt=O[mt];ot.push([mt,D.indexOf(Mt.source()),D.indexOf(Mt.target())])}for(var Ot=1/0,jt=[],Gt=new Array(N),Nt=new Array(N),Jt=new Array(N),oe=function(yi,Fi){for(var Ai=0;Ai<N;Ai++)Fi[Ai]=yi[Ai]},ae=0;ae<=tt;ae++){for(var le=0;le<N;le++)Nt[le]=le;var xe=_r(Nt,ot.slice(),N,ht),Ve=xe.slice();oe(Nt,Jt);var He=_r(Nt,xe,ht,2),ge=_r(Jt,Ve,ht,2);He.length<=ge.length&&He.length<Ot?(Ot=He.length,jt=He,oe(Nt,Gt)):ge.length<=He.length&&ge.length<Ot&&(Ot=ge.length,jt=ge,oe(Jt,Gt))}for(var ze=this.spawn(jt.map(function(pi){return O[pi[0]]})),Me=this.spawn(),Ye=this.spawn(),Ue=Gt[0],Ne=0;Ne<Gt.length;Ne++){var Be=D[Ne];Gt[Ne]===Ue?Me.merge(Be):Ye.merge(Be)}var wi=function(yi){var Fi=d.spawn();return yi.forEach(function(Ai){Fi.merge(Ai),Ai.connectedEdges().forEach(function(li){d.contains(li)&&!ze.contains(li)&&Fi.merge(li)})}),Fi},fi=[wi(Me),wi(Ye)];return{cut:ze,components:fi,partition1:Me,partition2:Ye}}$e("At least 2 nodes are required for Karger-Stein algorithm")}},bm=function(d,b,D){return{x:d.x*b+D.x,y:d.y*b+D.y}},qy=function(d,b,D){return{x:(d.x-D.x)/b,y:(d.y-D.y)/b}},Nu=function(d){return{x:d[0],y:d[1]}},_m=function(d,b){return Math.atan2(b,d)-Math.PI/2},uv=Math.log2||function(w){return Math.log(w)/Math.log(2)},zs=function(d){return d>0?1:d<0?-1:0},rp=function(d,b){return Math.sqrt(od(d,b))},od=function(d,b){var D=b.x-d.x,O=b.y-d.y;return D*D+O*O},Ux=function(d){for(var b=d.length,D=0,O=0;O<b;O++)D+=d[O];for(var N=0;N<b;N++)d[N]=d[N]/D;return d},Na=function(d,b,D,O){return(1-O)*(1-O)*d+2*(1-O)*O*b+O*O*D},va=function(d,b,D,O){return{x:Na(d.x,b.x,D.x,O),y:Na(d.y,b.y,D.y,O)}},Nr=function(d,b,D){return Math.max(d,Math.min(D,b))},ss=function(d){if(null==d)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=d.x1&&null!=d.y1){if(null!=d.x2&&null!=d.y2&&d.x2>=d.x1&&d.y2>=d.y1)return{x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2,w:d.x2-d.x1,h:d.y2-d.y1};if(null!=d.w&&null!=d.h&&d.w>=0&&d.h>=0)return{x1:d.x1,y1:d.y1,x2:d.x1+d.w,y2:d.y1+d.h,w:d.w,h:d.h}}},Ji=function(d,b){d.x1=Math.min(d.x1,b.x1),d.x2=Math.max(d.x2,b.x2),d.w=d.x2-d.x1,d.y1=Math.min(d.y1,b.y1),d.y2=Math.max(d.y2,b.y2),d.h=d.y2-d.y1},Yx=function(d,b,D){d.x1=Math.min(d.x1,b),d.x2=Math.max(d.x2,b),d.w=d.x2-d.x1,d.y1=Math.min(d.y1,D),d.y2=Math.max(d.y2,D),d.h=d.y2-d.y1},ir=function(d){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return d.x1-=b,d.x2+=b,d.y1-=b,d.y2+=b,d.w=d.x2-d.x1,d.h=d.y2-d.y1,d},su=function(d){var D,O,N,L,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===b.length)D=O=N=L=b[0];else if(2===b.length)D=N=b[0],L=O=b[1];else if(4===b.length){var tt=et(b,4);D=tt[0],O=tt[1],N=tt[2],L=tt[3]}return d.x1-=L,d.x2+=O,d.y1-=D,d.y2+=N,d.w=d.x2-d.x1,d.h=d.y2-d.y1,d},vn=function(d,b){d.x1=b.x1,d.y1=b.y1,d.x2=b.x2,d.y2=b.y2,d.w=d.x2-d.x1,d.h=d.y2-d.y1},cv=function(d,b){return!(d.x1>b.x2||b.x1>d.x2||d.x2<b.x1||b.x2<d.x1||d.y2<b.y1||b.y2<d.y1||d.y1>b.y2||b.y1>d.y2)},pe=function(d,b,D){return d.x1<=b&&b<=d.x2&&d.y1<=D&&D<=d.y2},xn=function(d,b){return pe(d,b.x,b.y)},g0=function(d,b){return pe(d,b.x1,b.y1)&&pe(d,b.x2,b.y2)},Mm=function(d,b,D,O,N,L,tt){var Mt,ht=sa(N,L),ot=N/2,mt=L/2,jt=O-mt-tt;if((Mt=el(d,b,D,O,D-ot+ht-tt,jt,D+ot-ht+tt,jt,!1)).length>0)return Mt;var Jt=D+ot+tt;if((Mt=el(d,b,D,O,Jt,O-mt+ht-tt,Jt,O+mt-ht+tt,!1)).length>0)return Mt;var Ve=O+mt+tt;if((Mt=el(d,b,D,O,D-ot+ht-tt,Ve,D+ot-ht+tt,Ve,!1)).length>0)return Mt;var Ne,ze=D-ot-tt;if((Mt=el(d,b,D,O,ze,O-mt+ht-tt,ze,O+mt-ht+tt,!1)).length>0)return Mt;var Je=D-ot+ht,Be=O-mt+ht;if((Ne=as(d,b,D,O,Je,Be,ht+tt)).length>0&&Ne[0]<=Je&&Ne[1]<=Be)return[Ne[0],Ne[1]];var wi=D+ot-ht,fi=O-mt+ht;if((Ne=as(d,b,D,O,wi,fi,ht+tt)).length>0&&Ne[0]>=wi&&Ne[1]<=fi)return[Ne[0],Ne[1]];var bi=D+ot-ht,pi=O+mt-ht;if((Ne=as(d,b,D,O,bi,pi,ht+tt)).length>0&&Ne[0]>=bi&&Ne[1]>=pi)return[Ne[0],Ne[1]];var yi=D-ot+ht,Fi=O+mt-ht;return(Ne=as(d,b,D,O,yi,Fi,ht+tt)).length>0&&Ne[0]<=yi&&Ne[1]>=Fi?[Ne[0],Ne[1]]:[]},op=function(d,b,D,O,N,L,tt){var ht=tt,ot=Math.min(D,N),mt=Math.max(D,N),Mt=Math.min(O,L),Ot=Math.max(O,L);return ot-ht<=d&&d<=mt+ht&&Mt-ht<=b&&b<=Ot+ht},$x=function(d,b,D,O,N,L,tt,ht,ot){var mt_x1=Math.min(D,tt,N)-ot,mt_x2=Math.max(D,tt,N)+ot,mt_y1=Math.min(O,ht,L)-ot,mt_y2=Math.max(O,ht,L)+ot;return!(d<mt_x1||d>mt_x2||b<mt_y1||b>mt_y2)},fv=function(d,b,D,O,N,L,tt,ht){var jt=[];!function(d,b,D,O,N){var tt,ht,ot,mt,Mt,Ot,jt,Gt;0===d&&(d=1e-5),ot=-27*(O/=d)+(b/=d)*(9*(D/=d)-b*b*2),tt=(ht=(3*D-b*b)/9)*ht*ht+(ot/=54)*ot,N[1]=0,jt=b/3,tt>0?(Mt=(Mt=ot+Math.sqrt(tt))<0?-Math.pow(-Mt,1/3):Math.pow(Mt,1/3),Ot=(Ot=ot-Math.sqrt(tt))<0?-Math.pow(-Ot,1/3):Math.pow(Ot,1/3),N[0]=-jt+Mt+Ot,N[4]=N[2]=-(jt+=(Mt+Ot)/2),jt=Math.sqrt(3)*(-Ot+Mt)/2,N[3]=jt,N[5]=-jt):(N[5]=N[3]=0,0===tt?(Gt=ot<0?-Math.pow(-ot,1/3):Math.pow(ot,1/3),N[0]=2*Gt-jt,N[4]=N[2]=-(Gt+jt)):(mt=(ht=-ht)*ht*ht,mt=Math.acos(ot/Math.sqrt(mt)),Gt=2*Math.sqrt(ht),N[0]=-jt+Gt*Math.cos(mt/3),N[2]=-jt+Gt*Math.cos((mt+2*Math.PI)/3),N[4]=-jt+Gt*Math.cos((mt+4*Math.PI)/3)))}(1*D*D-4*D*N+2*D*tt+4*N*N-4*N*tt+tt*tt+O*O-4*O*L+2*O*ht+4*L*L-4*L*ht+ht*ht,9*D*N-3*D*D-3*D*tt-6*N*N+3*N*tt+9*O*L-3*O*O-3*O*ht-6*L*L+3*L*ht,3*D*D-6*D*N+D*tt-D*d+2*N*N+2*N*d-tt*d+3*O*O-6*O*L+O*ht-O*b+2*L*L+2*L*b-ht*b,1*D*N-D*D+D*d-N*d+O*L-O*O+O*b-L*b,jt);for(var Nt=[],Jt=0;Jt<6;Jt+=2)Math.abs(jt[Jt+1])<1e-7&&jt[Jt]>=0&&jt[Jt]<=1&&Nt.push(jt[Jt]);Nt.push(1),Nt.push(0);for(var ae,le,xe,oe=-1,Ve=0;Ve<Nt.length;Ve++)ae=Math.pow(1-Nt[Ve],2)*D+2*(1-Nt[Ve])*Nt[Ve]*N+Nt[Ve]*Nt[Ve]*tt,le=Math.pow(1-Nt[Ve],2)*O+2*(1-Nt[Ve])*Nt[Ve]*L+Nt[Ve]*Nt[Ve]*ht,xe=Math.pow(ae-d,2)+Math.pow(le-b,2),oe>=0?xe<oe&&(oe=xe):oe=xe;return oe},mf=function(d,b,D,O,N,L){var tt=[d-D,b-O],ht=[N-D,L-O],ot=ht[0]*ht[0]+ht[1]*ht[1],mt=tt[0]*tt[0]+tt[1]*tt[1],Mt=tt[0]*ht[0]+tt[1]*ht[1],Ot=Mt*Mt/ot;return Mt<0?mt:Ot>ot?(d-N)*(d-N)+(b-L)*(b-L):mt-Ot},El=function(d,b,D){for(var O,N,L,tt,ot=0,mt=0;mt<D.length/2;mt++)if(N=D[2*mt+1],mt+1<D.length/2?(L=D[2*(mt+1)],tt=D[2*(mt+1)+1]):(L=D[2*(mt+1-D.length/2)],tt=D[2*(mt+1-D.length/2)+1]),(O=D[2*mt])!=d||L!=d){if(!(O>=d&&d>=L||O<=d&&d<=L))continue;(d-O)/(L-O)*(tt-N)+N>b&&ot++}return ot%2!=0},vc=function(d,b,D,O,N,L,tt,ht,ot){var Mt,Nt,mt=new Array(D.length);null!=ht[0]?(Mt=Math.atan(ht[1]/ht[0]),ht[0]<0?Mt+=Math.PI/2:Mt=-Mt-Math.PI/2):Mt=ht;for(var Ot=Math.cos(-Mt),jt=Math.sin(-Mt),Gt=0;Gt<mt.length/2;Gt++)mt[2*Gt]=L/2*(D[2*Gt]*Ot-D[2*Gt+1]*jt),mt[2*Gt+1]=tt/2*(D[2*Gt+1]*Ot+D[2*Gt]*jt),mt[2*Gt]+=O,mt[2*Gt+1]+=N;if(ot>0){var Jt=Nh(mt,-ot);Nt=fs(Jt)}else Nt=mt;return El(d,b,Nt)},fs=function(d){for(var tt,ht,ot,mt,b=new Array(d.length/2),Mt=0;Mt<d.length/4;Mt++){Mt<d.length/4-1?(tt=d[4*(Mt+1)],ht=d[4*(Mt+1)+1],ot=d[4*(Mt+1)+2],mt=d[4*(Mt+1)+3]):(tt=d[0],ht=d[1],ot=d[2],mt=d[3]);var Ot=el(d[4*Mt],d[4*Mt+1],d[4*Mt+2],d[4*Mt+3],tt,ht,ot,mt,!0);b[2*Mt]=Ot[0],b[2*Mt+1]=Ot[1]}return b},Nh=function(d,b){for(var O,N,L,tt,D=new Array(2*d.length),ht=0;ht<d.length/2;ht++){ht<d.length/2-1?(L=d[2*(ht+1)],tt=d[2*(ht+1)+1]):(L=d[0],tt=d[1]);var ot=tt-(N=d[2*ht+1]),mt=-(L-(O=d[2*ht])),Mt=Math.sqrt(ot*ot+mt*mt),Ot=ot/Mt,jt=mt/Mt;D[4*ht]=O+Ot*b,D[4*ht+1]=N+jt*b,D[4*ht+2]=L+Ot*b,D[4*ht+3]=tt+jt*b}return D},Is=function(d,b,D,O,N,L,tt){return d-=N,b-=L,(d/=D/2+tt)*d+(b/=O/2+tt)*b<=1},as=function(d,b,D,O,N,L,tt){var ht=[D-d,O-b],ot=[d-N,b-L],mt=ht[0]*ht[0]+ht[1]*ht[1],Mt=2*(ot[0]*ht[0]+ot[1]*ht[1]),jt=Mt*Mt-4*mt*(ot[0]*ot[0]+ot[1]*ot[1]-tt*tt);if(jt<0)return[];var Gt=(-Mt+Math.sqrt(jt))/(2*mt),Nt=(-Mt-Math.sqrt(jt))/(2*mt),Jt=Math.min(Gt,Nt),oe=Math.max(Gt,Nt),ae=[];if(Jt>=0&&Jt<=1&&ae.push(Jt),oe>=0&&oe<=1&&ae.push(oe),0===ae.length)return[];var le=ae[0]*ht[0]+d,xe=ae[0]*ht[1]+b;return ae.length>1?ae[0]==ae[1]?[le,xe]:[le,xe,ae[1]*ht[0]+d,ae[1]*ht[1]+b]:[le,xe]},Gn=function(d,b,D){return b<=d&&d<=D||D<=d&&d<=b?d:d<=b&&b<=D||D<=b&&b<=d?b:D},el=function(d,b,D,O,N,L,tt,ht,ot){var mt=d-N,Mt=D-d,Ot=tt-N,jt=b-L,Gt=O-b,Nt=ht-L,Jt=Ot*jt-Nt*mt,oe=Mt*jt-Gt*mt,ae=Nt*Mt-Ot*Gt;if(0!==ae){var le=Jt/ae,xe=oe/ae;return-.001<=le&&le<=1.001&&-.001<=xe&&xe<=1.001||ot?[d+le*Mt,b+le*Gt]:[]}return 0===Jt||0===oe?Gn(d,D,tt)===tt?[tt,ht]:Gn(d,D,N)===N?[N,L]:Gn(N,tt,D)===D?[D,O]:[]:[]},Fu=function(d,b,D,O,N,L,tt,ht){var mt,jt,ot=[],Mt=new Array(D.length),Ot=!0;if(null==L&&(Ot=!1),Ot){for(var Gt=0;Gt<Mt.length/2;Gt++)Mt[2*Gt]=D[2*Gt]*L+O,Mt[2*Gt+1]=D[2*Gt+1]*tt+N;if(ht>0){var Nt=Nh(Mt,-ht);jt=fs(Nt)}else jt=Mt}else jt=D;for(var ae,le,xe=0;xe<jt.length/2;xe++)xe<jt.length/2-1?(ae=jt[2*(xe+1)],le=jt[2*(xe+1)+1]):(ae=jt[0],le=jt[1]),0!==(mt=el(d,b,O,N,jt[2*xe],jt[2*xe+1],ae,le)).length&&ot.push(mt[0],mt[1]);return ot},yo=function(d,b,D){var O=[d[0]-b[0],d[1]-b[1]],N=Math.sqrt(O[0]*O[0]+O[1]*O[1]),L=(N-D)/N;return L<0&&(L=1e-5),[b[0]+L*O[0],b[1]+L*O[1]]},Xo=function(d,b){var D=Wn(d,b);return La(D)},La=function(d){for(var b,D,O=d.length/2,N=1/0,L=1/0,tt=-1/0,ht=-1/0,ot=0;ot<O;ot++)b=d[2*ot],D=d[2*ot+1],N=Math.min(N,b),tt=Math.max(tt,b),L=Math.min(L,D),ht=Math.max(ht,D);for(var mt=2/(tt-N),Mt=2/(ht-L),Ot=0;Ot<O;Ot++)b=d[2*Ot]=d[2*Ot]*mt,D=d[2*Ot+1]=d[2*Ot+1]*Mt,N=Math.min(N,b),tt=Math.max(tt,b),L=Math.min(L,D),ht=Math.max(ht,D);if(L<-1)for(var jt=0;jt<O;jt++)D=d[2*jt+1]=d[2*jt+1]+(-1-L);return d},Wn=function(d,b){var D=1/d*2*Math.PI,O=d%2==0?Math.PI/2+D/2:Math.PI/2;O+=b;for(var L,N=new Array(2*d),tt=0;tt<d;tt++)L=tt*D+O,N[2*tt]=Math.cos(L),N[2*tt+1]=Math.sin(-L);return N},sa=function(d,b){return Math.min(d/4,b/4,8)},Rs=function(d,b){return Math.min(d/10,b/10,8)},Os=function(d,b){return{heightOffset:Math.min(15,.05*b),widthOffset:Math.min(100,.25*d),ctrlPtOffsetPct:.05}},Ar=an({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(d){return 1}}),zo={pageRank:function(d){for(var b=Ar(d),D=b.dampingFactor,O=b.precision,N=b.iterations,L=b.weight,tt=this._private.cy,ht=this.byGroup(),ot=ht.nodes,mt=ht.edges,Mt=ot.length,jt=mt.length,Gt=new Array(Mt*Mt),Nt=new Array(Mt),Jt=(1-D)/Mt,oe=0;oe<Mt;oe++){for(var ae=0;ae<Mt;ae++)Gt[oe*Mt+ae]=0;Nt[oe]=0}for(var xe=0;xe<jt;xe++){var Ve=mt[xe],He=Ve.data("source"),ge=Ve.data("target");if(He!==ge){var ze=ot.indexOfId(He),Me=ot.indexOfId(ge),Ye=L(Ve);Gt[Me*Mt+ze]+=Ye,Nt[ze]+=Ye}}for(var Ne=1/Mt+Jt,Je=0;Je<Mt;Je++)if(0===Nt[Je])for(var Be=0;Be<Mt;Be++)Gt[Be*Mt+Je]=Ne;else for(var fi=0;fi<Mt;fi++){var bi=fi*Mt+Je;Gt[bi]=Gt[bi]/Nt[Je]+Jt}for(var Fi,pi=new Array(Mt),yi=new Array(Mt),Ai=0;Ai<Mt;Ai++)pi[Ai]=1;for(var li=0;li<N;li++){for(var Wi=0;Wi<Mt;Wi++)yi[Wi]=0;for(var Fe=0;Fe<Mt;Fe++)for(var Gi=0;Gi<Mt;Gi++)yi[Fe]+=Gt[Fe*Mt+Gi]*pi[Gi];Ux(yi),Fi=pi,pi=yi,yi=Fi;for(var xi=0,Ni=0;Ni<Mt;Ni++){var $i=Fi[Ni]-pi[Ni];xi+=$i*$i}if(xi<O)break}return{rank:function(Mr){return Mr=tt.collection(Mr)[0],pi[ot.indexOf(Mr)]}}}},gn=an({root:null,weight:function(d){return 1},directed:!1,alpha:0}),Ho={degreeCentralityNormalized:function(d){d=gn(d);var b=this.cy(),D=this.nodes(),O=D.length;if(d.directed){for(var mt={},Mt={},Ot=0,jt=0,Gt=0;Gt<O;Gt++){var Nt=D[Gt],Jt=Nt.id();d.root=Nt;var oe=this.degreeCentrality(d);Ot<oe.indegree&&(Ot=oe.indegree),jt<oe.outdegree&&(jt=oe.outdegree),mt[Jt]=oe.indegree,Mt[Jt]=oe.outdegree}return{indegree:function(le){return 0==Ot?0:(lt(le)&&(le=b.filter(le)),mt[le.id()]/Ot)},outdegree:function(le){return 0===jt?0:(lt(le)&&(le=b.filter(le)),Mt[le.id()]/jt)}}}for(var N={},L=0,tt=0;tt<O;tt++){var ht=D[tt];d.root=ht;var ot=this.degreeCentrality(d);L<ot.degree&&(L=ot.degree),N[ht.id()]=ot.degree}return{degree:function(le){return 0===L?0:(lt(le)&&(le=b.filter(le)),N[le.id()]/L)}}},degreeCentrality:function(d){d=gn(d);var b=this.cy(),D=this,N=d.root,L=d.weight,tt=d.directed,ht=d.alpha;if(N=b.collection(N)[0],tt){for(var jt=N.connectedEdges(),Gt=jt.filter(function(He){return He.target().same(N)&&D.has(He)}),Nt=jt.filter(function(He){return He.source().same(N)&&D.has(He)}),Jt=Gt.length,oe=Nt.length,ae=0,le=0,xe=0;xe<Gt.length;xe++)ae+=L(Gt[xe]);for(var Ve=0;Ve<Nt.length;Ve++)le+=L(Nt[Ve]);return{indegree:Math.pow(Jt,1-ht)*Math.pow(ae,ht),outdegree:Math.pow(oe,1-ht)*Math.pow(le,ht)}}for(var ot=N.connectedEdges().intersection(D),mt=ot.length,Mt=0,Ot=0;Ot<ot.length;Ot++)Mt+=L(ot[Ot]);return{degree:Math.pow(mt,1-ht)*Math.pow(Mt,ht)}}};Ho.dc=Ho.degreeCentrality,Ho.dcn=Ho.degreeCentralityNormalised=Ho.degreeCentralityNormalized;var oo=an({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),sd={closenessCentralityNormalized:function(d){for(var b=oo(d),D=b.harmonic,O=b.weight,N=b.directed,L=this.cy(),tt={},ht=0,ot=this.nodes(),mt=this.floydWarshall({weight:O,directed:N}),Mt=0;Mt<ot.length;Mt++){for(var Ot=0,jt=ot[Mt],Gt=0;Gt<ot.length;Gt++)if(Mt!==Gt){var Nt=mt.distance(jt,ot[Gt]);Ot+=D?1/Nt:Nt}D||(Ot=1/Ot),ht<Ot&&(ht=Ot),tt[jt.id()]=Ot}return{closeness:function(oe){return 0==ht?0:(oe=lt(oe)?L.filter(oe)[0].id():oe.id(),tt[oe]/ht)}}},closenessCentrality:function(d){var b=oo(d),D=b.root,O=b.weight,N=b.directed,L=b.harmonic;D=this.filter(D)[0];for(var tt=this.dijkstra({root:D,weight:O,directed:N}),ht=0,ot=this.nodes(),mt=0;mt<ot.length;mt++){var Mt=ot[mt];if(!Mt.same(D)){var Ot=tt.distanceTo(Mt);ht+=L?1/Ot:Ot}}return L?ht:1/ht}};sd.cc=sd.closenessCentrality,sd.ccn=sd.closenessCentralityNormalised=sd.closenessCentralityNormalized;var jn=an({weight:null,directed:!1}),pr={betweennessCentrality:function(d){for(var b=jn(d),D=b.directed,O=b.weight,N=null!=O,L=this.cy(),tt=this.nodes(),ht={},ot={},mt=0,Mt={set:function(le,xe){ot[le]=xe,xe>mt&&(mt=xe)},get:function(le){return ot[le]}},Ot=0;Ot<tt.length;Ot++){var jt=tt[Ot],Gt=jt.id();ht[Gt]=D?jt.outgoers().nodes():jt.openNeighborhood().nodes(),Mt.set(Gt,0)}for(var Nt=function(le){for(var xe=tt[le].id(),Ve=[],He={},ge={},ze={},Me=new ft(function(Gi,Ui){return ze[Gi]-ze[Ui]}),Ye=0;Ye<tt.length;Ye++){var Ue=tt[Ye].id();He[Ue]=[],ge[Ue]=0,ze[Ue]=1/0}for(ge[xe]=1,ze[xe]=0,Me.push(xe);!Me.empty();){var Ne=Me.pop();if(Ve.push(Ne),N)for(var Je=0;Je<ht[Ne].length;Je++){var fi,Be=ht[Ne][Je],wi=L.getElementById(Ne);fi=wi.edgesTo(Be).length>0?wi.edgesTo(Be)[0]:Be.edgesTo(wi)[0];var bi=O(fi);Be=Be.id(),ze[Be]>ze[Ne]+bi&&(ze[Be]=ze[Ne]+bi,Me.nodes.indexOf(Be)<0?Me.push(Be):Me.updateItem(Be),ge[Be]=0,He[Be]=[]),ze[Be]==ze[Ne]+bi&&(ge[Be]=ge[Be]+ge[Ne],He[Be].push(Ne))}else for(var pi=0;pi<ht[Ne].length;pi++){var yi=ht[Ne][pi].id();ze[yi]==1/0&&(Me.push(yi),ze[yi]=ze[Ne]+1),ze[yi]==ze[Ne]+1&&(ge[yi]=ge[yi]+ge[Ne],He[yi].push(Ne))}}for(var Fi={},Ai=0;Ai<tt.length;Ai++)Fi[tt[Ai].id()]=0;for(;Ve.length>0;){for(var li=Ve.pop(),Wi=0;Wi<He[li].length;Wi++){var Fe=He[li][Wi];Fi[Fe]=Fi[Fe]+ge[Fe]/ge[li]*(1+Fi[li])}li!=tt[le].id()&&Mt.set(li,Mt.get(li)+Fi[li])}},Jt=0;Jt<tt.length;Jt++)Nt(Jt);var oe={betweenness:function(le){var xe=L.collection(le).id();return Mt.get(xe)},betweennessNormalized:function(le){if(0==mt)return 0;var xe=L.collection(le).id();return Mt.get(xe)/mt}};return oe.betweennessNormalised=oe.betweennessNormalized,oe}};pr.bc=pr.betweennessCentrality;var $r=an({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(w){return 1}]}),dn=function(d,b){for(var D=0,O=0;O<b.length;O++)D+=b[O](d);return D},fl=function(d,b){for(var D,O=0;O<b;O++){D=0;for(var N=0;N<b;N++)D+=d[N*b+O];for(var L=0;L<b;L++)d[L*b+O]=d[L*b+O]/D}},gf=function(d,b,D){for(var O=new Array(D*D),N=0;N<D;N++){for(var L=0;L<D;L++)O[N*D+L]=0;for(var tt=0;tt<D;tt++)for(var ht=0;ht<D;ht++)O[N*D+ht]+=d[N*D+tt]*b[tt*D+ht]}return O},au=function(d,b,D){for(var O=d.slice(0),N=1;N<D;N++)d=gf(d,O,b);return d},Al=function(d,b,D){for(var O=new Array(b*b),N=0;N<b*b;N++)O[N]=Math.pow(d[N],D);return fl(O,b),O},vr=function(d,b,D,O){for(var N=0;N<D;N++)if(Math.round(d[N]*Math.pow(10,O))/Math.pow(10,O)!=Math.round(b[N]*Math.pow(10,O))/Math.pow(10,O))return!1;return!0},so=function(d,b){for(var D=0;D<d.length;D++)if(!b[D]||d[D].id()!==b[D].id())return!1;return!0},Tl=function(d){for(var b=this.nodes(),D=this.edges(),O=this.cy(),N=function(d){return $r(d)}(d),L={},tt=0;tt<b.length;tt++)L[b[tt].id()]=tt;for(var Mt,ht=b.length,ot=ht*ht,mt=new Array(ot),Ot=0;Ot<ot;Ot++)mt[Ot]=0;for(var jt=0;jt<D.length;jt++){var Gt=D[jt],Nt=L[Gt.source().id()],Jt=L[Gt.target().id()],oe=dn(Gt,N.attributes);mt[Nt*ht+Jt]+=oe,mt[Jt*ht+Nt]+=oe}(function(d,b,D){for(var O=0;O<b;O++)d[O*b+O]=D})(mt,ht,N.multFactor),fl(mt,ht);for(var ae=!0,le=0;ae&&le<N.maxIterations;)ae=!1,Mt=au(mt,ht,N.expandFactor),mt=Al(Mt,ht,N.inflateFactor),vr(mt,Mt,ot,4)||(ae=!0),le++;var xe=function(d,b,D,O){for(var N=[],L=0;L<b;L++){for(var tt=[],ht=0;ht<b;ht++)Math.round(1e3*d[L*b+ht])/1e3>0&&tt.push(D[ht]);0!==tt.length&&N.push(O.collection(tt))}return N}(mt,ht,b,O);return xe=function(d){for(var b=0;b<d.length;b++)for(var D=0;D<d.length;D++)b!=D&&so(d[b],d[D])&&d.splice(D,1);return d}(xe),xe},Jl={markovClustering:Tl,mcl:Tl},Fa=function(d){return d},dh=function(d,b){return Math.abs(b-d)},Ns=function(d,b,D){return d+dh(b,D)},ad=function(d,b,D){return d+Math.pow(D-b,2)},sp=function(d){return Math.sqrt(d)},Qr=function(d,b,D){return Math.max(d,dh(b,D))},vf=function(d,b,D,O,N){for(var L=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Fa,tt=O,mt=0;mt<d;mt++)tt=N(tt,b(mt),D(mt));return L(tt)},lu={euclidean:function(d,b,D){return d>=2?vf(d,b,D,0,ad,sp):vf(d,b,D,0,Ns)},squaredEuclidean:function(d,b,D){return vf(d,b,D,0,ad)},manhattan:function(d,b,D){return vf(d,b,D,0,Ns)},max:function(d,b,D){return vf(d,b,D,-1/0,Qr)}};function ap(w,d,b,D,O,N){var L;return L=_t(w)?w:lu[w]||lu.euclidean,0===d&&_t(w)?L(O,N):L(d,b,D,O,N)}lu["squared-euclidean"]=lu.squaredEuclidean,lu.squaredeuclidean=lu.squaredEuclidean;var v0=an({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Pl=function(d){return v0(d)},ld=function(d,b,D,O,N){var tt="kMedoids"!==N?function(Mt){return D[Mt]}:function(Mt){return O[Mt](D)};return ap(d,O.length,tt,function(Ot){return O[Ot](b)},D,b)},yf=function(d,b,D){for(var O=D.length,N=new Array(O),L=new Array(O),tt=new Array(b),ht=null,ot=0;ot<O;ot++)N[ot]=d.min(D[ot]).value,L[ot]=d.max(D[ot]).value;for(var mt=0;mt<b;mt++){ht=[];for(var Mt=0;Mt<O;Mt++)ht[Mt]=Math.random()*(L[Mt]-N[Mt])+N[Mt];tt[mt]=ht}return tt},il=function(d,b,D,O,N){for(var L=1/0,tt=0,ht=0;ht<b.length;ht++){var ot=ld(D,d,b[ht],O,N);ot<L&&(L=ot,tt=ht)}return tt},yr=function(d,b,D){for(var O=[],N=null,L=0;L<b.length;L++)D[(N=b[L]).id()]===d&&O.push(N);return O},y0=function(d,b,D){return Math.abs(b-d)<=D},Ls=function(d,b,D){for(var O=0;O<d.length;O++)for(var N=0;N<d[O].length;N++)if(Math.abs(d[O][N]-b[O][N])>D)return!1;return!0},x0=function(d,b,D){for(var O=0;O<D;O++)if(d===b[O])return!0;return!1},hd=function(d,b){var D=new Array(b);if(d.length<50)for(var O=0;O<b;O++){for(var N=d[Math.floor(Math.random()*d.length)];x0(N,D,O);)N=d[Math.floor(Math.random()*d.length)];D[O]=N}else for(var L=0;L<b;L++)D[L]=d[Math.floor(Math.random()*d.length)];return D},lp=function(d,b,D){for(var O=0,N=0;N<b.length;N++)O+=ld("manhattan",b[N],d,D,"kMedoids");return O},Ba=function(d,b,D,O,N){for(var L,tt,ht=0;ht<b.length;ht++)for(var ot=0;ot<d.length;ot++)O[ht][ot]=Math.pow(D[ht][ot],N.m);for(var mt=0;mt<d.length;mt++)for(var Mt=0;Mt<N.attributes.length;Mt++){L=0,tt=0;for(var Ot=0;Ot<b.length;Ot++)L+=O[Ot][mt]*N.attributes[Mt](b[Ot]),tt+=O[Ot][mt];d[mt][Mt]=L/tt}},Xx=function(d,b,D,O,N){for(var L=0;L<d.length;L++)b[L]=d[L].slice();for(var tt,ht,ot,mt=2/(N.m-1),Mt=0;Mt<D.length;Mt++)for(var Ot=0;Ot<O.length;Ot++){tt=0;for(var jt=0;jt<D.length;jt++)ht=ld(N.distance,O[Ot],D[Mt],N.attributes,"cmeans"),ot=ld(N.distance,O[Ot],D[jt],N.attributes,"cmeans"),tt+=Math.pow(ht/ot,mt);d[Ot][Mt]=1/tt}},ds=function(d){var N,L,tt,ht,ot,b=this.cy(),D=this.nodes(),O=Pl(d);ht=new Array(D.length);for(var mt=0;mt<D.length;mt++)ht[mt]=new Array(O.k);tt=new Array(D.length);for(var Mt=0;Mt<D.length;Mt++)tt[Mt]=new Array(O.k);for(var Ot=0;Ot<D.length;Ot++){for(var jt=0,Gt=0;Gt<O.k;Gt++)tt[Ot][Gt]=Math.random(),jt+=tt[Ot][Gt];for(var Nt=0;Nt<O.k;Nt++)tt[Ot][Nt]=tt[Ot][Nt]/jt}L=new Array(O.k);for(var Jt=0;Jt<O.k;Jt++)L[Jt]=new Array(O.attributes.length);ot=new Array(D.length);for(var oe=0;oe<D.length;oe++)ot[oe]=new Array(O.k);for(var ae=!0,le=0;ae&&le<O.maxIterations;)ae=!1,Ba(L,D,tt,ot,O),Xx(tt,ht,L,D,O),Ls(tt,ht,O.sensitivityThreshold)||(ae=!0),le++;return N=function(d,b,D,O){for(var N=new Array(D.k),L=0;L<N.length;L++)N[L]=[];for(var tt,ht,ot=0;ot<b.length;ot++){tt=-1/0,ht=-1;for(var mt=0;mt<b[0].length;mt++)b[ot][mt]>tt&&(tt=b[ot][mt],ht=mt);N[ht].push(d[ot])}for(var Mt=0;Mt<N.length;Mt++)N[Mt]=O.collection(N[Mt]);return N}(D,tt,O,b),{clusters:N,degreeOfMembership:tt}},dv={kMeans:function(d){var ht,b=this.cy(),D=this.nodes(),O=null,N=Pl(d),L=new Array(N.k),tt={};ht=N.testMode?"number"==typeof N.testCentroids?yf(D,N.k,N.attributes):"object"===dt(N.testCentroids)?N.testCentroids:yf(D,N.k,N.attributes):yf(D,N.k,N.attributes);for(var ot=!0,mt=0;ot&&mt<N.maxIterations;){for(var Mt=0;Mt<D.length;Mt++)tt[(O=D[Mt]).id()]=il(O,ht,N.distance,N.attributes,"kMeans");ot=!1;for(var Ot=0;Ot<N.k;Ot++){var jt=yr(Ot,D,tt);if(0!==jt.length){for(var Gt=N.attributes.length,Nt=ht[Ot],Jt=new Array(Gt),oe=new Array(Gt),ae=0;ae<Gt;ae++){oe[ae]=0;for(var le=0;le<jt.length;le++)oe[ae]+=N.attributes[ae](O=jt[le]);Jt[ae]=oe[ae]/jt.length,y0(Jt[ae],Nt[ae],N.sensitivityThreshold)||(ot=!0)}ht[Ot]=Jt,L[Ot]=b.collection(jt)}}mt++}return L},kMedoids:function(d){var tt,ot,b=this.cy(),D=this.nodes(),O=null,N=Pl(d),L=new Array(N.k),ht={},mt=new Array(N.k);N.testMode?"number"==typeof N.testCentroids||(tt="object"===dt(N.testCentroids)?N.testCentroids:hd(D,N.k)):tt=hd(D,N.k);for(var Mt=!0,Ot=0;Mt&&Ot<N.maxIterations;){for(var jt=0;jt<D.length;jt++)ht[(O=D[jt]).id()]=il(O,tt,N.distance,N.attributes,"kMedoids");Mt=!1;for(var Gt=0;Gt<tt.length;Gt++){var Nt=yr(Gt,D,ht);if(0!==Nt.length){mt[Gt]=lp(tt[Gt],Nt,N.attributes);for(var Jt=0;Jt<Nt.length;Jt++)(ot=lp(Nt[Jt],Nt,N.attributes))<mt[Gt]&&(mt[Gt]=ot,tt[Gt]=Nt[Jt],Mt=!0);L[Gt]=b.collection(Nt)}}Ot++}return L},fuzzyCMeans:ds,fcm:ds},So=an({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),xf={single:"min",complete:"max"},hp=function(d,b,D,O,N){for(var ht,L=0,tt=1/0,ot=N.attributes,mt=function(Me,Ye){return ap(N.distance,ot.length,function(Ue){return ot[Ue](Me)},function(Ue){return ot[Ue](Ye)},Me,Ye)},Mt=0;Mt<d.length;Mt++){var Ot=d[Mt].key,jt=D[Ot][O[Ot]];jt<tt&&(L=Ot,tt=jt)}if("threshold"===N.mode&&tt>=N.threshold||"dendrogram"===N.mode&&1===d.length)return!1;var Jt,Gt=b[L],Nt=b[O[L]];Jt="dendrogram"===N.mode?{left:Gt,right:Nt,key:Gt.key}:{value:Gt.value.concat(Nt.value),key:Gt.key},d[Gt.index]=Jt,d.splice(Nt.index,1),b[Gt.key]=Jt;for(var oe=0;oe<d.length;oe++){var ae=d[oe];Gt.key===ae.key?ht=1/0:"min"===N.linkage?(ht=D[Gt.key][ae.key],D[Gt.key][ae.key]>D[Nt.key][ae.key]&&(ht=D[Nt.key][ae.key])):"max"===N.linkage?(ht=D[Gt.key][ae.key],D[Gt.key][ae.key]<D[Nt.key][ae.key]&&(ht=D[Nt.key][ae.key])):ht="mean"===N.linkage?(D[Gt.key][ae.key]*Gt.size+D[Nt.key][ae.key]*Nt.size)/(Gt.size+Nt.size):"dendrogram"===N.mode?mt(ae.value,Gt.value):mt(ae.value[0],Gt.value[0]),D[Gt.key][ae.key]=D[ae.key][Gt.key]=ht}for(var le=0;le<d.length;le++){var xe=d[le].key;if(O[xe]===Gt.key||O[xe]===Nt.key){for(var Ve=xe,He=0;He<d.length;He++){var ge=d[He].key;D[xe][ge]<D[xe][Ve]&&(Ve=ge)}O[xe]=Ve}d[le].index=le}return Gt.key=Nt.key=Gt.index=Nt.index=null,!0},ud=function w(d,b,D){!d||(d.value?b.push(d.value):(d.left&&w(d.left,b),d.right&&w(d.right,b)))},t1=function w(d,b){if(!d)return"";if(d.left&&d.right){var D=w(d.left,b),O=w(d.right,b),N=b.add({group:"nodes",data:{id:D+","+O}});return b.add({group:"edges",data:{source:D,target:N.id()}}),b.add({group:"edges",data:{source:O,target:N.id()}}),N.id()}return d.value?d.value.id():void 0},aa=function w(d,b,D){if(!d)return[];var O=[],N=[],L=[];return 0===b?(d.left&&ud(d.left,O),d.right&&ud(d.right,N),L=O.concat(N),[D.collection(L)]):1===b?d.value?[D.collection(d.value)]:(d.left&&ud(d.left,O),d.right&&ud(d.right,N),[D.collection(O),D.collection(N)]):d.value?[D.collection(d.value)]:(d.left&&(O=w(d.left,b-1,D)),d.right&&(N=w(d.right,b-1,D)),O.concat(N))},dl=function(d){for(var b=this.cy(),D=this.nodes(),O=function(d){var b=So(d),D=xf[b.linkage];return null!=D&&(b.linkage=D),b}(d),N=O.attributes,L=function(le,xe){return ap(O.distance,N.length,function(Ve){return N[Ve](le)},function(Ve){return N[Ve](xe)},le,xe)},tt=[],ht=[],ot=[],mt=[],Mt=0;Mt<D.length;Mt++){var Ot={value:"dendrogram"===O.mode?D[Mt]:[D[Mt]],key:Mt,index:Mt};tt[Mt]=Ot,mt[Mt]=Ot,ht[Mt]=[],ot[Mt]=0}for(var jt=0;jt<tt.length;jt++)for(var Gt=0;Gt<=jt;Gt++){var Nt;Nt="dendrogram"===O.mode?jt===Gt?1/0:L(tt[jt].value,tt[Gt].value):jt===Gt?1/0:L(tt[jt].value[0],tt[Gt].value[0]),ht[jt][Gt]=Nt,ht[Gt][jt]=Nt,Nt<ht[jt][ot[jt]]&&(ot[jt]=Gt)}for(var Jt=hp(tt,mt,ht,ot,O);Jt;)Jt=hp(tt,mt,ht,ot,O);var oe;return"dendrogram"===O.mode?(oe=aa(tt[0],O.dendrogramDepth,b),O.addDendrogram&&t1(tt[0],b)):(oe=new Array(tt.length),tt.forEach(function(ae,le){ae.key=ae.index=null,oe[le]=b.collection(ae.value)})),oe},Dm={hierarchicalClustering:dl,hca:dl},wf=an({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Vu=function(d,b,D,O){var N=function(tt,ht){return O[ht](tt)};return-ap(d,O.length,function(L){return N(b,L)},function(L){return N(D,L)},b,D)},ph=function(d,b,D){for(var O=[],N=0;N<d;N++){for(var L=-1,tt=-1/0,ht=0;ht<D.length;ht++){var ot=D[ht];b[N*d+ot]>tt&&(L=ot,tt=b[N*d+ot])}L>0&&O.push(L)}for(var mt=0;mt<D.length;mt++)O[D[mt]]=D[mt];return O},Kb=function(d){for(var b=this.cy(),D=this.nodes(),O=function(d){var b=d.damping,D=d.preference;.5<=b&&b<1||$e("Damping must range on [0.5, 1).  Got: ".concat(b));var O=["median","mean","min","max"];return O.some(function(N){return N===D})||St(D)||$e("Preference must be one of [".concat(O.map(function(N){return"'".concat(N,"'")}).join(", "),"] or a number.  Got: ").concat(D)),wf(d)}(d),N={},L=0;L<D.length;L++)N[D[L].id()]=L;var tt,ht,ot,mt,Mt,Ot,Me;ht=(tt=D.length)*tt,ot=new Array(ht);for(var jt=0;jt<ht;jt++)ot[jt]=-1/0;for(var Gt=0;Gt<tt;Gt++)for(var Nt=0;Nt<tt;Nt++)Gt!==Nt&&(ot[Gt*tt+Nt]=Vu(O.distance,D[Gt],D[Nt],O.attributes));mt=function(d,b){var D;return D="median"===b?function(d){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,D=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.length,N=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],L=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(D<d.length&&d.splice(D,d.length-D),b>0&&d.splice(0,b)):d=d.slice(b,D);for(var tt=0,ht=d.length-1;ht>=0;ht--)L?isFinite(d[ht])||(d[ht]=-1/0,tt++):d.splice(ht,1);N&&d.sort(function(Ot,jt){return Ot-jt});var mt=d.length,Mt=Math.floor(mt/2);return mt%2!=0?d[Mt+1+tt]:(d[Mt-1+tt]+d[Mt+tt])/2}(d):"mean"===b?function(d){for(var D=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.length,O=0,N=0,L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;L<D;L++){var tt=d[L];isFinite(tt)&&(O+=tt,N++)}return O/N}(d):"min"===b?function(d){for(var D=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.length,O=1/0,N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;N<D;N++){var L=d[N];isFinite(L)&&(O=Math.min(L,O))}return O}(d):"max"===b?function(d){for(var D=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.length,O=-1/0,N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;N<D;N++){var L=d[N];isFinite(L)&&(O=Math.max(L,O))}return O}(d):b,D}(ot,O.preference);for(var Jt=0;Jt<tt;Jt++)ot[Jt*tt+Jt]=mt;Mt=new Array(ht);for(var oe=0;oe<ht;oe++)Mt[oe]=0;Ot=new Array(ht);for(var ae=0;ae<ht;ae++)Ot[ae]=0;for(var le=new Array(tt),xe=new Array(tt),Ve=new Array(tt),He=0;He<tt;He++)le[He]=0,xe[He]=0,Ve[He]=0;for(var ge=new Array(tt*O.minIterations),ze=0;ze<ge.length;ze++)ge[ze]=0;for(Me=0;Me<O.maxIterations;Me++){for(var Ye=0;Ye<tt;Ye++){for(var Ue=-1/0,Ne=-1/0,Je=-1,Be=0,wi=0;wi<tt;wi++)le[wi]=Mt[Ye*tt+wi],(Be=Ot[Ye*tt+wi]+ot[Ye*tt+wi])>=Ue?(Ne=Ue,Ue=Be,Je=wi):Be>Ne&&(Ne=Be);for(var fi=0;fi<tt;fi++)Mt[Ye*tt+fi]=(1-O.damping)*(ot[Ye*tt+fi]-Ue)+O.damping*le[fi];Mt[Ye*tt+Je]=(1-O.damping)*(ot[Ye*tt+Je]-Ne)+O.damping*le[Je]}for(var bi=0;bi<tt;bi++){for(var pi=0,yi=0;yi<tt;yi++)le[yi]=Ot[yi*tt+bi],xe[yi]=Math.max(0,Mt[yi*tt+bi]),pi+=xe[yi];pi-=xe[bi],xe[bi]=Mt[bi*tt+bi],pi+=xe[bi];for(var Fi=0;Fi<tt;Fi++)Ot[Fi*tt+bi]=(1-O.damping)*Math.min(0,pi-xe[Fi])+O.damping*le[Fi];Ot[bi*tt+bi]=(1-O.damping)*(pi-xe[bi])+O.damping*le[bi]}for(var Ai=0,li=0;li<tt;li++){var Wi=Ot[li*tt+li]+Mt[li*tt+li]>0?1:0;ge[Me%O.minIterations*tt+li]=Wi,Ai+=Wi}if(Ai>0&&(Me>=O.minIterations-1||Me==O.maxIterations-1)){for(var Fe=0,Gi=0;Gi<tt;Gi++){Ve[Gi]=0;for(var Ui=0;Ui<O.minIterations;Ui++)Ve[Gi]+=ge[Ui*tt+Gi];(0===Ve[Gi]||Ve[Gi]===O.minIterations)&&Fe++}if(Fe===tt)break}}for(var xi=function(d,b,D){for(var O=[],N=0;N<d;N++)b[N*d+N]+D[N*d+N]>0&&O.push(N);return O}(tt,Mt,Ot),Ni=function(d,b,D){for(var O=ph(d,b,D),N=0;N<D.length;N++){for(var L=[],tt=0;tt<O.length;tt++)O[tt]===D[N]&&L.push(tt);for(var ht=-1,ot=-1/0,mt=0;mt<L.length;mt++){for(var Mt=0,Ot=0;Ot<L.length;Ot++)Mt+=b[L[Ot]*d+L[mt]];Mt>ot&&(ht=mt,ot=Mt)}D[N]=L[ht]}return ph(d,b,D)}(tt,ot,xi),$i={},nn=0;nn<xi.length;nn++)$i[xi[nn]]=[];for(var bn=0;bn<D.length;bn++){var kr=Ni[N[D[bn].id()]];null!=kr&&$i[kr].push(D[bn])}for(var Pn=new Array(xi.length),yn=0;yn<xi.length;yn++)Pn[yn]=b.collection($i[xi[yn]]);return Pn},Kx={affinityPropagation:Kb,ap:Kb},Zb=an({root:void 0,directed:!1}),qb={hierholzer:function(d){if(!kt(d)){var b=arguments;d={root:b[0],directed:b[1]}}var ht,ot,mt,D=Zb(d),O=D.root,N=D.directed,L=this,tt=!1;O&&(mt=lt(O)?this.filter(O)[0].id():O[0].id());var Mt={},Ot={};L.forEach(N?function(ae){var le=ae.id();if(ae.isNode()){var xe=ae.indegree(!0),Ve=ae.outdegree(!0),He=xe-Ve,ge=Ve-xe;1==He?ht?tt=!0:ht=le:1==ge?ot?tt=!0:ot=le:(ge>1||He>1)&&(tt=!0),Mt[le]=[],ae.outgoers().forEach(function(ze){ze.isEdge()&&Mt[le].push(ze.id())})}else Ot[le]=[void 0,ae.target().id()]}:function(ae){var le=ae.id();ae.isNode()?(ae.degree(!0)%2&&(ht?ot?tt=!0:ot=le:ht=le),Mt[le]=[],ae.connectedEdges().forEach(function(Ve){return Mt[le].push(Ve.id())})):Ot[le]=[ae.source().id(),ae.target().id()]});var jt={found:!1,trail:void 0};if(tt)return jt;if(ot&&ht)if(N){if(mt&&ot!=mt)return jt;mt=ot}else{if(mt&&ot!=mt&&ht!=mt)return jt;mt||(mt=ot)}else mt||(mt=L[0].id());var Gt=function(le){for(var He,ge,ze,xe=le,Ve=[le];Mt[xe].length;)He=Mt[xe].shift(),ge=Ot[He][0],xe!=(ze=Ot[He][1])?(Mt[ze]=Mt[ze].filter(function(Me){return Me!=He}),xe=ze):!N&&xe!=ge&&(Mt[ge]=Mt[ge].filter(function(Me){return Me!=He}),xe=ge),Ve.unshift(He),Ve.unshift(xe);return Ve},Nt=[],Jt=[];for(Jt=Gt(mt);1!=Jt.length;)0==Mt[Jt[0]].length?(Nt.unshift(L.getElementById(Jt.shift())),Nt.unshift(L.getElementById(Jt.shift()))):Jt=Gt(Jt.shift()).concat(Jt);for(var oe in Nt.unshift(L.getElementById(Jt.shift())),Mt)if(Mt[oe].length)return jt;return jt.found=!0,jt.trail=this.spawn(Nt,!0),jt}},e1=function(){var d=this,b={},D=0,O=0,N=[],L=[],tt={},ot=function Mt(Ot,jt,Gt){Ot===Gt&&(O+=1),b[jt]={id:D,low:D++,cutVertex:!1};var Jt,oe,ae,le,Nt=d.getElementById(jt).connectedEdges().intersection(d);0===Nt.size()?N.push(d.spawn(d.getElementById(jt))):Nt.forEach(function(xe){Jt=xe.source().id(),oe=xe.target().id(),(ae=Jt===jt?oe:Jt)!==Gt&&(le=xe.id(),tt[le]||(tt[le]=!0,L.push({x:jt,y:ae,edge:xe})),ae in b?b[jt].low=Math.min(b[jt].low,b[ae].id):(Mt(Ot,ae,jt),b[jt].low=Math.min(b[jt].low,b[ae].low),b[jt].id<=b[ae].low&&(b[jt].cutVertex=!0,function(Ot,jt){for(var Gt=L.length-1,Nt=[],Jt=d.spawn();L[Gt].x!=Ot||L[Gt].y!=jt;)Nt.push(L.pop().edge),Gt--;Nt.push(L.pop().edge),Nt.forEach(function(oe){var ae=oe.connectedNodes().intersection(d);Jt.merge(oe),ae.forEach(function(le){var xe=le.id(),Ve=le.connectedEdges().intersection(d);Jt.merge(le),Jt.merge(b[xe].cutVertex?Ve.filter(function(He){return He.isLoop()}):Ve)})}),N.push(Jt)}(jt,ae))))})};d.forEach(function(Mt){if(Mt.isNode()){var Ot=Mt.id();Ot in b||(O=0,ot(Ot,Ot),b[Ot].cutVertex=O>1)}});var mt=Object.keys(b).filter(function(Mt){return b[Mt].cutVertex}).map(function(Mt){return d.getElementById(Mt)});return{cut:d.spawn(mt),components:N}},cd=function(){var d=this,b={},D=0,O=[],N=[],L=d.spawn(d),tt=function ht(ot){if(N.push(ot),b[ot]={index:D,low:D++,explored:!1},d.getElementById(ot).connectedEdges().intersection(d).forEach(function(Nt){var Jt=Nt.target().id();Jt!==ot&&(Jt in b||ht(Jt),b[Jt].explored||(b[ot].low=Math.min(b[ot].low,b[Jt].low)))}),b[ot].index===b[ot].low){for(var Mt=d.spawn();;){var Ot=N.pop();if(Mt.merge(d.getElementById(Ot)),b[Ot].low=b[ot].index,b[Ot].explored=!0,Ot===ot)break}var jt=Mt.edgesWith(Mt),Gt=Mt.merge(jt);O.push(Gt),L=L.difference(Gt)}};return d.forEach(function(ht){if(ht.isNode()){var ot=ht.id();ot in b||tt(ot)}}),{cut:L,components:O}},Em={};[mn,En,_o,Hi,Ou,tl,ga,zo,Ho,sd,pr,Jl,dv,Dm,Kx,qb,{hopcroftTarjanBiconnected:e1,htbc:e1,htb:e1,hopcroftTarjanBiconnectedComponents:e1},{tarjanStronglyConnected:cd,tsc:cd,tscc:cd,tarjanStronglyConnectedComponents:cd}].forEach(function(w){Ht(Em,w)});var Xr=function w(d){if(!(this instanceof w))return new w(d);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof d&&d.call(this,this.fulfill.bind(this),this.reject.bind(this))};Xr.prototype={fulfill:function(d){return w0(this,1,"fulfillValue",d)},reject:function(d){return w0(this,2,"rejectReason",d)},then:function(d,b){var D=this,O=new Xr;return D.onFulfilled.push(i1(d,O,"fulfill")),D.onRejected.push(i1(b,O,"reject")),gv(D),O.proxy}};var w0=function(d,b,D,O){return 0===d.state&&(d.state=b,d[D]=O,gv(d)),d},gv=function(d){1===d.state?km(d,"onFulfilled",d.fulfillValue):2===d.state&&km(d,"onRejected",d.rejectReason)},km=function(d,b,D){if(0!==d[b].length){var O=d[b];d[b]=[];var N=function(){for(var tt=0;tt<O.length;tt++)O[tt](D)};"function"==typeof setImmediate?setImmediate(N):setTimeout(N,0)}},i1=function(d,b,D){return function(O){if("function"!=typeof d)b[D].call(b,O);else{var N;try{N=d(O)}catch(L){return void b.reject(L)}vv(b,N)}}},vv=function w(d,b){if(d!==b&&d.proxy!==b){var D;if("object"===dt(b)&&null!==b||"function"==typeof b)try{D=b.then}catch(N){return void d.reject(N)}if("function"!=typeof D)d.fulfill(b);else{var O=!1;try{D.call(b,function(N){O||(O=!0,N===b?d.reject(new TypeError("circular thenable chain")):w(d,N))},function(N){O||(O=!0,d.reject(N))})}catch(N){O||d.reject(N)}}}else d.reject(new TypeError("cannot resolve promise with itself"))};Xr.all=function(w){return new Xr(function(d,b){for(var D=new Array(w.length),O=0,N=function(ht,ot){D[ht]=ot,++O===w.length&&d(D)},L=0;L<w.length;L++)!function(tt){var ht=w[tt];null!=ht&&null!=ht.then?ht.then(function(Mt){N(tt,Mt)},function(Mt){b(Mt)}):N(tt,ht)}(L)})},Xr.resolve=function(w){return new Xr(function(d,b){d(w)})},Xr.reject=function(w){return new Xr(function(d,b){b(w)})};var fp="undefined"!=typeof Promise?Promise:Xr,_f=function(d,b,D){var O=M(d),N=!O,L=this._private=Ht({duration:1e3},b,D);if(L.target=d,L.style=L.style||L.css,L.started=!1,L.playing=!1,L.hooked=!1,L.applying=!1,L.progress=0,L.completes=[],L.frames=[],L.complete&&_t(L.complete)&&L.completes.push(L.complete),N){var tt=d.position();L.startPosition=L.startPosition||{x:tt.x,y:tt.y},L.startStyle=L.startStyle||d.cy().style().getAnimationStartStyle(d,L.style)}if(O){var ht=d.pan();L.startPan={x:ht.x,y:ht.y},L.startZoom=d.zoom()}this.length=1,this[0]=this},zu=_f.prototype;Ht(zu,{instanceString:function(){return"animation"},hook:function(){var d=this._private;if(!d.hooked){var D=d.target._private.animation;(d.queue?D.queue:D.current).push(this),m(d.target)&&d.target.cy().addToAnimationPool(d.target),d.hooked=!0}return this},play:function(){var d=this._private;return 1===d.progress&&(d.progress=0),d.playing=!0,d.started=!1,d.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var d=this._private;return d.applying=!0,d.started=!1,d.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var d=this._private;return d.playing=!1,d.started=!1,this},stop:function(){var d=this._private;return d.playing=!1,d.started=!1,d.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(d){var b=this._private;return void 0===d?b.progress*b.duration:this.progress(d/b.duration)},progress:function(d){var b=this._private,D=b.playing;return void 0===d?b.progress:(D&&this.pause(),b.progress=d,b.started=!1,D&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var d=this._private,b=d.playing;b&&this.pause(),d.progress=1-d.progress,d.started=!1;var D=function(ot,mt){var Mt=d[ot];null!=Mt&&(d[ot]=d[mt],d[mt]=Mt)};if(D("zoom","startZoom"),D("pan","startPan"),D("position","startPosition"),d.style)for(var O=0;O<d.style.length;O++){var N=d.style[O],L=N.name,tt=d.startStyle[L];d.startStyle[L]=N,d.style[O]=tt}return b&&this.play(),this},promise:function(d){var D,b=this._private;return D="frame"===d?b.frames:b.completes,new fp(function(O,N){D.push(function(){O()})})}}),zu.complete=zu.completed,zu.run=zu.play,zu.running=zu.playing;var yv={data:function(d){return d=Ht({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(O){},beforeSet:function(O,N){},onSet:function(O){},canSet:function(O){return!0}},d),function(O,N){var L=d,tt=this,ht=void 0!==tt.length,ot=ht?tt:[tt],mt=ht?tt[0]:tt;if(lt(O)){var Mt;if(L.allowGetting&&void 0===N)return mt&&(L.beforeGet(mt),Mt=mt._private[L.field][O]),Mt;if(L.allowSetting&&void 0!==N&&!L.immutableKeys[O]){var jt=ct({},O,N);L.beforeSet(tt,jt);for(var Gt=0,Nt=ot.length;Gt<Nt;Gt++){var Jt=ot[Gt];L.canSet(Jt)&&(Jt._private[L.field][O]=N)}L.updateStyle&&tt.updateStyle(),L.onSet(tt),L.settingTriggersEvent&&tt[L.triggerFnName](L.settingEvent)}}else if(L.allowSetting&&kt(O)){var ae,le,oe=O,xe=Object.keys(oe);L.beforeSet(tt,oe);for(var Ve=0;Ve<xe.length;Ve++)if(le=oe[ae=xe[Ve]],!L.immutableKeys[ae])for(var ge=0;ge<ot.length;ge++){var ze=ot[ge];L.canSet(ze)&&(ze._private[L.field][ae]=le)}L.updateStyle&&tt.updateStyle(),L.onSet(tt),L.settingTriggersEvent&&tt[L.triggerFnName](L.settingEvent)}else if(L.allowBinding&&_t(O))tt.on(L.bindingEvent,O);else if(L.allowGetting&&void 0===O){var Ye;return mt&&(L.beforeGet(mt),Ye=mt._private[L.field]),Ye}return tt}},removeData:function(d){return d=Ht({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},d),function(O){var N=d,L=this,ht=void 0!==L.length?L:[L];if(lt(O)){for(var ot=O.split(/\s+/),mt=ot.length,Mt=0;Mt<mt;Mt++){var Ot=ot[Mt];if(!C(Ot)&&!N.immutableKeys[Ot])for(var Gt=0,Nt=ht.length;Gt<Nt;Gt++)ht[Gt]._private[N.field][Ot]=void 0}N.triggerEvent&&L[N.triggerFnName](N.event)}else if(void 0===O){for(var Jt=0,oe=ht.length;Jt<oe;Jt++)for(var ae=ht[Jt]._private[N.field],le=Object.keys(ae),xe=0;xe<le.length;xe++){var Ve=le[xe];!N.immutableKeys[Ve]&&(ae[Ve]=void 0)}N.triggerEvent&&L[N.triggerFnName](N.event)}return L}}},b0={eventAliasesOn:function(d){var b=d;b.addListener=b.listen=b.bind=b.on,b.unlisten=b.unbind=b.off=b.removeListener,b.trigger=b.emit,b.pon=b.promiseOn=function(D,O){var N=this,L=Array.prototype.slice.call(arguments,0);return new fp(function(tt,ht){var mt=L.concat([function(jt){N.off.apply(N,Mt),tt(jt)}]),Mt=mt.concat([]);N.on.apply(N,mt)})}}},Ao={};[{animated:function(){return function(){var b=this,O=void 0!==b.length?b:[b];if(!(this._private.cy||this).styleEnabled())return!1;var L=O[0];return L?L._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var b=this,O=void 0!==b.length?b:[b];if(!(this._private.cy||this).styleEnabled())return this;for(var L=0;L<O.length;L++)O[L]._private.animation.queue=[];return this}},delay:function(){return function(b,D){return(this._private.cy||this).styleEnabled()?this.animate({delay:b,duration:b,complete:D}):this}},delayAnimation:function(){return function(b,D){return(this._private.cy||this).styleEnabled()?this.animation({delay:b,duration:b,complete:D}):this}},animation:function(){return function(b,D){var O=this,N=void 0!==O.length,L=N?O:[O],tt=this._private.cy||this,ht=!N,ot=!ht;if(!tt.styleEnabled())return this;var mt=tt.style();if(b=Ht({},b,D),0===Object.keys(b).length)return new _f(L[0],b);switch(void 0===b.duration&&(b.duration=400),b.duration){case"slow":b.duration=600;break;case"fast":b.duration=200}if(ot&&(b.style=mt.getPropsList(b.style||b.css),b.css=void 0),ot&&null!=b.renderedPosition){var Ot=b.renderedPosition,jt=tt.pan(),Gt=tt.zoom();b.position=qy(Ot,Gt,jt)}if(ht&&null!=b.panBy){var Nt=b.panBy,Jt=tt.pan();b.pan={x:Jt.x+Nt.x,y:Jt.y+Nt.y}}var oe=b.center||b.centre;if(ht&&null!=oe){var ae=tt.getCenterPan(oe.eles,b.zoom);null!=ae&&(b.pan=ae)}if(ht&&null!=b.fit){var le=b.fit,xe=tt.getFitViewport(le.eles||le.boundingBox,le.padding);null!=xe&&(b.pan=xe.pan,b.zoom=xe.zoom)}if(ht&&kt(b.zoom)){var Ve=tt.getZoomedViewport(b.zoom);null!=Ve?(Ve.zoomed&&(b.zoom=Ve.zoom),Ve.panned&&(b.pan=Ve.pan)):b.zoom=null}return new _f(L[0],b)}},animate:function(){return function(b,D){var O=this,L=void 0!==O.length?O:[O];if(!(this._private.cy||this).styleEnabled())return this;D&&(b=Ht({},b,D));for(var ht=0;ht<L.length;ht++){var ot=L[ht],mt=ot.animated()&&(void 0===b.queue||b.queue);ot.animation(b,mt?{queue:!0}:void 0).play()}return this}},stop:function(){return function(b,D){var O=this,L=void 0!==O.length?O:[O],tt=this._private.cy||this;if(!tt.styleEnabled())return this;for(var ht=0;ht<L.length;ht++){for(var mt=L[ht]._private,Mt=mt.animation.current,Ot=0;Ot<Mt.length;Ot++)D&&(Mt[Ot]._private.duration=0);b&&(mt.animation.queue=[]),D||(mt.animation.current=[])}return tt.notify("draw"),this}}},yv,b0].forEach(function(w){Ht(Ao,w)});var dp={animate:Ao.animate(),animation:Ao.animation(),animated:Ao.animated(),clearQueue:Ao.clearQueue(),delay:Ao.delay(),delayAnimation:Ao.delayAnimation(),stop:Ao.stop()},Hs={classes:function(d){var b=this;if(void 0===d){var D=[];return b[0]._private.classes.forEach(function(Gt){return D.push(Gt)}),D}Ct(d)||(d=(d||"").match(/\S+/g)||[]);for(var O=[],N=new Xn(d),L=0;L<b.length;L++){for(var tt=b[L],ht=tt._private,ot=ht.classes,mt=!1,Mt=0;Mt<d.length;Mt++)if(!ot.has(d[Mt])){mt=!0;break}mt||(mt=ot.size!==d.length),mt&&(ht.classes=N,O.push(tt))}return O.length>0&&this.spawn(O).updateStyle().emit("class"),b},addClass:function(d){return this.toggleClass(d,!0)},hasClass:function(d){var b=this[0];return null!=b&&b._private.classes.has(d)},toggleClass:function(d,b){Ct(d)||(d=d.match(/\S+/g)||[]);for(var D=this,O=void 0===b,N=[],L=0,tt=D.length;L<tt;L++)for(var ht=D[L],ot=ht._private.classes,mt=!1,Mt=0;Mt<d.length;Mt++){var Ot=d[Mt],jt=ot.has(Ot),Gt=!1;b||O&&!jt?(ot.add(Ot),Gt=!0):(!b||O&&jt)&&(ot.delete(Ot),Gt=!0),!mt&&Gt&&(N.push(ht),mt=!0)}return N.length>0&&this.spawn(N).updateStyle().emit("class"),D},removeClass:function(d){return this.toggleClass(d,!1)},flashClass:function(d,b){var D=this;if(null==b)b=250;else if(0===b)return D;return D.addClass(d),setTimeout(function(){D.removeClass(d)},b),D}};Hs.className=Hs.classNames=Hs.classes;var ao={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:At,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};ao.variable="(?:[\\w-]|(?:\\\\"+ao.metaChar+"))+",ao.value=ao.string+"|"+ao.number,ao.className=ao.variable,ao.id=ao.variable,function(){var w,d,b;for(w=ao.comparatorOp.split("|"),b=0;b<w.length;b++)ao.comparatorOp+="|@"+(d=w[b]);for(w=ao.comparatorOp.split("|"),b=0;b<w.length;b++)!((d=w[b]).indexOf("!")>=0)&&"="!==d&&(ao.comparatorOp+="|\\!"+d)}();var xv=[{selector:":selected",matches:function(d){return d.selected()}},{selector:":unselected",matches:function(d){return!d.selected()}},{selector:":selectable",matches:function(d){return d.selectable()}},{selector:":unselectable",matches:function(d){return!d.selectable()}},{selector:":locked",matches:function(d){return d.locked()}},{selector:":unlocked",matches:function(d){return!d.locked()}},{selector:":visible",matches:function(d){return d.visible()}},{selector:":hidden",matches:function(d){return!d.visible()}},{selector:":transparent",matches:function(d){return d.transparent()}},{selector:":grabbed",matches:function(d){return d.grabbed()}},{selector:":free",matches:function(d){return!d.grabbed()}},{selector:":removed",matches:function(d){return d.removed()}},{selector:":inside",matches:function(d){return!d.removed()}},{selector:":grabbable",matches:function(d){return d.grabbable()}},{selector:":ungrabbable",matches:function(d){return!d.grabbable()}},{selector:":animated",matches:function(d){return d.animated()}},{selector:":unanimated",matches:function(d){return!d.animated()}},{selector:":parent",matches:function(d){return d.isParent()}},{selector:":childless",matches:function(d){return d.isChildless()}},{selector:":child",matches:function(d){return d.isChild()}},{selector:":orphan",matches:function(d){return d.isOrphan()}},{selector:":nonorphan",matches:function(d){return d.isChild()}},{selector:":compound",matches:function(d){return d.isNode()?d.isParent():d.source().isParent()||d.target().isParent()}},{selector:":loop",matches:function(d){return d.isLoop()}},{selector:":simple",matches:function(d){return d.isSimple()}},{selector:":active",matches:function(d){return d.active()}},{selector:":inactive",matches:function(d){return!d.active()}},{selector:":backgrounding",matches:function(d){return d.backgrounding()}},{selector:":nonbackgrounding",matches:function(d){return!d.backgrounding()}}].sort(function(w,d){return function(d,b){return-1*Lt(d,b)}(w.selector,d.selector)}),xa=function(){for(var d,w={},b=0;b<xv.length;b++)w[(d=xv[b]).selector]=d.matches;return w}(),Am="("+xv.map(function(w){return w.selector}).join("|")+")",mh=function(d){return d.replace(new RegExp("\\\\("+ao.metaChar+")","g"),function(b,D){return D})},wa=function(d,b,D){d[d.length-1]=D},wv=[{name:"group",query:!0,regex:"("+ao.group+")",populate:function(d,b,D){var N=et(D,1)[0];b.checks.push({type:0,value:"*"===N?N:N+"s"})}},{name:"state",query:!0,regex:Am,populate:function(d,b,D){var O=et(D,1);b.checks.push({type:7,value:O[0]})}},{name:"id",query:!0,regex:"\\#("+ao.id+")",populate:function(d,b,D){var O=et(D,1);b.checks.push({type:8,value:mh(O[0])})}},{name:"className",query:!0,regex:"\\.("+ao.className+")",populate:function(d,b,D){var O=et(D,1);b.checks.push({type:9,value:mh(O[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+ao.variable+")\\s*\\]",populate:function(d,b,D){var O=et(D,1);b.checks.push({type:4,field:mh(O[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+ao.variable+")\\s*("+ao.comparatorOp+")\\s*("+ao.value+")\\s*\\]",populate:function(d,b,D){var O=et(D,3),N=O[0],L=O[1],tt=O[2];tt=null!=new RegExp("^"+ao.string+"$").exec(tt)?tt.substring(1,tt.length-1):parseFloat(tt),b.checks.push({type:3,field:mh(N),operator:L,value:tt})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+ao.boolOp+")\\s*("+ao.variable+")\\s*\\]",populate:function(d,b,D){var O=et(D,2),N=O[0];b.checks.push({type:5,field:mh(O[1]),operator:N})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+ao.meta+")\\s*("+ao.comparatorOp+")\\s*("+ao.number+")\\s*\\]\\]",populate:function(d,b,D){var O=et(D,3),L=O[1],tt=O[2];b.checks.push({type:6,field:mh(O[0]),operator:L,value:parseFloat(tt)})}},{name:"nextQuery",separator:!0,regex:ao.separator,populate:function(d,b){var D=d.currentSubject,O=d.edgeCount,N=d.compoundCount,L=d[d.length-1];return null!=D&&(L.subject=D,d.currentSubject=null),L.edgeCount=O,L.compoundCount=N,d.edgeCount=0,d.compoundCount=0,d[d.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:ao.directedEdge,populate:function(d,b){if(null==d.currentSubject){var D={checks:[]},N={checks:[]};return D.checks.push({type:11,source:b,target:N}),wa(d,0,D),d.edgeCount++,N}var L={checks:[]},ht={checks:[]};return L.checks.push({type:12,source:b,target:ht}),wa(d,0,L),d.edgeCount++,ht}},{name:"undirectedEdge",separator:!0,regex:ao.undirectedEdge,populate:function(d,b){if(null==d.currentSubject){var D={checks:[]},N={checks:[]};return D.checks.push({type:10,nodes:[b,N]}),wa(d,0,D),d.edgeCount++,N}var L={checks:[]},ht={checks:[]};return L.checks.push({type:14,node:b,neighbor:ht}),wa(d,0,L),ht}},{name:"child",separator:!0,regex:ao.child,populate:function(d,b){if(null==d.currentSubject){var D={checks:[]},O={checks:[]};return D.checks.push({type:15,parent:d[d.length-1],child:O}),wa(d,0,D),d.compoundCount++,O}if(d.currentSubject===b){var L={checks:[]},ht={checks:[]},ot={checks:[]},mt={checks:[]},Mt={checks:[]};return L.checks.push({type:19,left:d[d.length-1],right:ht,subject:ot}),ot.checks=b.checks,b.checks=[{type:20}],Mt.checks.push({type:20}),ht.checks.push({type:17,parent:Mt,child:mt}),wa(d,0,L),d.currentSubject=ot,d.compoundCount++,mt}var Ot={checks:[]},jt={checks:[]},Gt=[{type:17,parent:Ot,child:jt}];return Ot.checks=b.checks,b.checks=Gt,d.compoundCount++,jt}},{name:"descendant",separator:!0,regex:ao.descendant,populate:function(d,b){if(null==d.currentSubject){var D={checks:[]},O={checks:[]};return D.checks.push({type:16,ancestor:d[d.length-1],descendant:O}),wa(d,0,D),d.compoundCount++,O}if(d.currentSubject===b){var L={checks:[]},ht={checks:[]},ot={checks:[]},mt={checks:[]},Mt={checks:[]};return L.checks.push({type:19,left:d[d.length-1],right:ht,subject:ot}),ot.checks=b.checks,b.checks=[{type:20}],Mt.checks.push({type:20}),ht.checks.push({type:18,ancestor:Mt,descendant:mt}),wa(d,0,L),d.currentSubject=ot,d.compoundCount++,mt}var Ot={checks:[]},jt={checks:[]},Gt=[{type:18,ancestor:Ot,descendant:jt}];return Ot.checks=b.checks,b.checks=Gt,d.compoundCount++,jt}},{name:"subject",modifier:!0,regex:ao.subject,populate:function(d,b){if(null!=d.currentSubject&&d.currentSubject!==b)return Re("Redefinition of subject in selector `"+d.toString()+"`"),!1;d.currentSubject=b;var O=d[d.length-1].checks[0],N=null==O?null:O.type;11===N?O.type=13:10===N&&(O.type=14,O.node=O.nodes[1],O.neighbor=O.nodes[0],O.nodes=null)}}];wv.forEach(function(w){return w.regexObj=new RegExp("^"+w.regex)});var _0=function(d){for(var b,D,O,N=0;N<wv.length;N++){var L=wv[N],tt=L.name,ht=d.match(L.regexObj);if(null!=ht){D=ht,b=L,O=tt,d=d.substring(ht[0].length);break}}return{expr:b,match:D,name:O,remaining:d}},M0={parse:function(d){var b=this,D=b.inputText=d,O=b[0]={checks:[]};for(b.length=1,D=function(d){var b=d.match(/^\s+/);return b&&(d=d.substring(b[0].length)),d}(D);;){var N=_0(D);if(null==N.expr)return Re("The selector `"+d+"`is invalid"),!1;var L=N.match.slice(1),tt=N.expr.populate(b,O,L);if(!1===tt)return!1;if(null!=tt&&(O=tt),(D=N.remaining).match(/^\s*$/))break}var ht=b[b.length-1];null!=b.currentSubject&&(ht.subject=b.currentSubject),ht.edgeCount=b.edgeCount,ht.compoundCount=b.compoundCount;for(var ot=0;ot<b.length;ot++){var mt=b[ot];if(mt.compoundCount>0&&mt.edgeCount>0)return Re("The selector `"+d+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(mt.edgeCount>1)return Re("The selector `"+d+"` is invalid because it uses multiple edge selectors"),!1;1===mt.edgeCount&&Re("The selector `"+d+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var d=function(mt){return null==mt?"":mt},b=function(mt){return lt(mt)?'"'+mt+'"':d(mt)},D=function(mt){return" "+mt+" "},N=function(mt,Mt){return mt.checks.reduce(function(Ot,jt,Gt){return Ot+(Mt===mt&&0===Gt?"$":"")+function(mt,Mt){var jt=mt.value;switch(mt.type){case 0:var Gt=d(jt);return Gt.substring(0,Gt.length-1);case 3:return"["+mt.field+D(d(mt.operator))+b(jt)+"]";case 5:var ae=mt.field;return"["+d(mt.operator)+ae+"]";case 4:return"["+mt.field+"]";case 6:return"[["+mt.field+D(d(mt.operator))+b(jt)+"]]";case 7:return jt;case 8:return"#"+jt;case 9:return"."+jt;case 17:case 15:return N(mt.parent,Mt)+D(">")+N(mt.child,Mt);case 18:case 16:return N(mt.ancestor,Mt)+" "+N(mt.descendant,Mt);case 19:var He=N(mt.left,Mt),ge=N(mt.subject,Mt),ze=N(mt.right,Mt);return He+(He.length>0?" ":"")+ge+ze;case 20:return""}}(jt,Mt)},"")},L="",tt=0;tt<this.length;tt++){var ht=this[tt];L+=N(ht,ht.subject),this.length>1&&tt<this.length-1&&(L+=", ")}return this.toStringCache=L,L}},n1=function(d,b,D){var O,ht,ot,N=lt(d),L=St(d),tt=lt(D),mt=!1,Mt=!1,Ot=!1;switch(b.indexOf("!")>=0&&(b=b.replace("!",""),Mt=!0),b.indexOf("@")>=0&&(b=b.replace("@",""),mt=!0),(N||tt||mt)&&(ht=N||L?""+d:"",ot=""+D),mt&&(d=ht=ht.toLowerCase(),D=ot=ot.toLowerCase()),b){case"*=":O=ht.indexOf(ot)>=0;break;case"$=":O=ht.indexOf(ot,ht.length-ot.length)>=0;break;case"^=":O=0===ht.indexOf(ot);break;case"=":O=d===D;break;case">":Ot=!0,O=d>D;break;case">=":Ot=!0,O=d>=D;break;case"<":Ot=!0,O=d<D;break;case"<=":Ot=!0,O=d<=D;break;default:O=!1}return Mt&&(null!=d||!Ot)&&(O=!O),O},dd=function(d,b){return d.data(b)},ys=[],xs=function(d,b){return d.checks.every(function(D){return ys[D.type](D,b)})};ys[0]=function(w,d){var b=w.value;return"*"===b||b===d.group()},ys[7]=function(w,d){return function(d,b){return xa[d](b)}(w.value,d)},ys[8]=function(w,d){var b=w.value;return d.id()===b},ys[9]=function(w,d){return d.hasClass(w.value)},ys[6]=function(w,d){var D=w.operator,O=w.value;return n1(function(d,b){return d[b]()}(d,w.field),D,O)},ys[3]=function(w,d){var D=w.operator,O=w.value;return n1(dd(d,w.field),D,O)},ys[5]=function(w,d){var D=w.operator;return function(d,b){switch(b){case"?":return!!d;case"!":return!d;case"^":return void 0===d}}(dd(d,w.field),D)},ys[4]=function(w,d){return function(d){return void 0!==d}(dd(d,w.field))},ys[10]=function(w,d){var b=w.nodes[0],D=w.nodes[1],O=d.source(),N=d.target();return xs(b,O)&&xs(D,N)||xs(D,O)&&xs(b,N)},ys[14]=function(w,d){return xs(w.node,d)&&d.neighborhood().some(function(b){return b.isNode()&&xs(w.neighbor,b)})},ys[11]=function(w,d){return xs(w.source,d.source())&&xs(w.target,d.target())},ys[12]=function(w,d){return xs(w.source,d)&&d.outgoers().some(function(b){return b.isNode()&&xs(w.target,b)})},ys[13]=function(w,d){return xs(w.target,d)&&d.incomers().some(function(b){return b.isNode()&&xs(w.source,b)})},ys[15]=function(w,d){return xs(w.child,d)&&xs(w.parent,d.parent())},ys[17]=function(w,d){return xs(w.parent,d)&&d.children().some(function(b){return xs(w.child,b)})},ys[16]=function(w,d){return xs(w.descendant,d)&&d.ancestors().some(function(b){return xs(w.ancestor,b)})},ys[18]=function(w,d){return xs(w.ancestor,d)&&d.descendants().some(function(b){return xs(w.descendant,b)})},ys[19]=function(w,d){return xs(w.subject,d)&&xs(w.left,d)&&xs(w.right,d)},ys[20]=function(){return!0},ys[1]=function(w,d){return w.value.has(d)},ys[2]=function(w,d){return(0,w.value)(d)};var r1={matches:function(d){for(var D=0;D<this.length;D++)if(xs(this[D],d))return!0;return!1},filter:function(d){var b=this;if(1===b.length&&1===b[0].checks.length&&8===b[0].checks[0].type)return d.getElementById(b[0].checks[0].value).collection();var D=function(N){for(var L=0;L<b.length;L++)if(xs(b[L],N))return!0;return!1};return null==b.text()&&(D=function(){return!0}),d.filter(D)}},Cf=function(d){this.inputText=d,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==d||lt(d)&&d.match(/^\s*$/)||(m(d)?this.addQuery({checks:[{type:1,value:d.collection()}]}):_t(d)?this.addQuery({checks:[{type:2,value:d}]}):lt(d)?this.parse(d)||(this.invalid=!0):$e("A selector must be created from a string; found "))},Va=Cf.prototype;[M0,r1].forEach(function(w){return Ht(Va,w)}),Va.text=function(){return this.inputText},Va.size=function(){return this.length},Va.eq=function(w){return this[w]},Va.sameText=function(w){return!this.invalid&&!w.invalid&&this.text()===w.text()},Va.addQuery=function(w){this[this.length++]=w},Va.selector=Va.toString;var Ki={allAre:function(d){var b=new Cf(d);return this.every(function(D){return b.matches(D)})},is:function(d){var b=new Cf(d);return this.some(function(D){return b.matches(D)})},some:function(d,b){for(var D=0;D<this.length;D++)if(b?d.apply(b,[this[D],D,this]):d(this[D],D,this))return!0;return!1},every:function(d,b){for(var D=0;D<this.length;D++)if(!(b?d.apply(b,[this[D],D,this]):d(this[D],D,this)))return!1;return!0},same:function(d){if(this===d)return!0;d=this.cy().collection(d);var b=this.length;return b===d.length&&(1===b?this[0]===d[0]:this.every(function(O){return d.hasElementWithId(O.id())}))},anySame:function(d){return d=this.cy().collection(d),this.some(function(b){return d.hasElementWithId(b.id())})},allAreNeighbors:function(d){d=this.cy().collection(d);var b=this.neighborhood();return d.every(function(D){return b.hasElementWithId(D.id())})},contains:function(d){d=this.cy().collection(d);var b=this;return d.every(function(D){return b.hasElementWithId(D.id())})}};Ki.allAreNeighbours=Ki.allAreNeighbors,Ki.has=Ki.contains,Ki.equal=Ki.equals=Ki.same;var mp,Ee,Vr=function(d,b){return function(O,N,L,tt){var mt,ht=O;if(null==ht?mt="":m(ht)&&1===ht.length&&(mt=ht.id()),1===this.length&&mt){var Mt=this[0]._private,Ot=Mt.traversalCache=Mt.traversalCache||{},jt=Ot[b]=Ot[b]||[],Gt=Mi(mt);return jt[Gt]||(jt[Gt]=d.call(this,O,N,L,tt))}return d.call(this,O,N,L,tt)}},qo={parent:function(d){var b=[];if(1===this.length){var D=this[0]._private.parent;if(D)return D}for(var O=0;O<this.length;O++){var L=this[O]._private.parent;L&&b.push(L)}return this.spawn(b,!0).filter(d)},parents:function(d){for(var b=[],D=this.parent();D.nonempty();){for(var O=0;O<D.length;O++)b.push(D[O]);D=D.parent()}return this.spawn(b,!0).filter(d)},commonAncestors:function(d){for(var b,D=0;D<this.length;D++){var N=this[D].parents();b=(b=b||N).intersect(N)}return b.filter(d)},orphans:function(d){return this.stdFilter(function(b){return b.isOrphan()}).filter(d)},nonorphans:function(d){return this.stdFilter(function(b){return b.isChild()}).filter(d)},children:Vr(function(w){for(var d=[],b=0;b<this.length;b++)for(var O=this[b]._private.children,N=0;N<O.length;N++)d.push(O[N]);return this.spawn(d,!0).filter(w)},"children"),siblings:function(d){return this.parent().children().not(this).filter(d)},isParent:function(){var d=this[0];if(d)return d.isNode()&&0!==d._private.children.length},isChildless:function(){var d=this[0];if(d)return d.isNode()&&0===d._private.children.length},isChild:function(){var d=this[0];if(d)return d.isNode()&&null!=d._private.parent},isOrphan:function(){var d=this[0];if(d)return d.isNode()&&null==d._private.parent},descendants:function(d){var b=[];return function D(O){for(var N=0;N<O.length;N++){var L=O[N];b.push(L),L.children().nonempty()&&D(L.children())}}(this.children()),this.spawn(b,!0).filter(d)}};function Js(w,d,b,D){for(var O=[],N=new Xn,tt=w.cy().hasCompoundNodes(),ht=0;ht<w.length;ht++){var ot=w[ht];b?O.push(ot):tt&&D(O,N,ot)}for(;O.length>0;){var mt=O.shift();d(mt),N.add(mt.id()),tt&&D(O,N,mt)}return w}function ks(w,d,b){if(b.isParent())for(var D=b._private.children,O=0;O<D.length;O++){var N=D[O];d.has(N.id())||w.push(N)}}function Hu(w,d,b){if(b.isChild()){var D=b._private.parent;d.has(D.id())||w.push(D)}}function Fh(w,d,b){Hu(w,d,b),ks(w,d,b)}qo.forEachDown=function(w){var d=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Js(this,w,d,ks)},qo.forEachUp=function(w){var d=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Js(this,w,d,Hu)},qo.forEachUpAndDown=function(w){var d=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Js(this,w,d,Fh)},qo.ancestors=qo.parents,mp=Ee={data:Ao.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Ao.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Ao.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Ao.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Ao.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Ao.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var d=this[0];if(d)return d._private.data.id}},mp.attr=mp.data,mp.removeAttr=mp.removeData;var Qb=Ee,C0={};function gp(w){return function(d){var b=this;if(void 0===d&&(d=!0),0===b.length);else if(b.isNode()&&!b.removed()){for(var D=0,O=b[0],N=O._private.edges,L=0;L<N.length;L++){var tt=N[L];!d&&tt.isLoop()||(D+=w(O,tt))}return D}}}function Sf(w,d){return function(b){for(var D,O=this.nodes(),N=0;N<O.length;N++){var tt=O[N][w](b);void 0!==tt&&(void 0===D||d(tt,D))&&(D=tt)}return D}}Ht(C0,{degree:gp(function(w,d){return d.source().same(d.target())?2:1}),indegree:gp(function(w,d){return d.target().same(w)?1:0}),outdegree:gp(function(w,d){return d.source().same(w)?1:0})}),Ht(C0,{minDegree:Sf("degree",function(w,d){return w<d}),maxDegree:Sf("degree",function(w,d){return w>d}),minIndegree:Sf("indegree",function(w,d){return w<d}),maxIndegree:Sf("indegree",function(w,d){return w>d}),minOutdegree:Sf("outdegree",function(w,d){return w<d}),maxOutdegree:Sf("outdegree",function(w,d){return w>d})}),Ht(C0,{totalDegree:function(d){for(var b=0,D=this.nodes(),O=0;O<D.length;O++)b+=D[O].degree(d);return b}});var Jo,Bh,Pm=function(d,b,D){for(var O=0;O<d.length;O++){var N=d[O];if(!N.locked()){var L=N._private.position,tt={x:null!=b.x?b.x-L.x:0,y:null!=b.y?b.y-L.y:0};N.isParent()&&!(0===tt.x&&0===tt.y)&&N.children().shift(tt,D),N.dirtyBoundingBoxCache()}}},pd={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(d){d.updateCompoundBounds()},beforeSet:function(d,b){Pm(d,b,!1)},onSet:function(d){d.dirtyCompoundBoundsCache()},canSet:function(d){return!d.locked()}};Jo=Bh={position:Ao.data(pd),silentPosition:Ao.data(Ht({},pd,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(d,b){Pm(d,b,!0)},onSet:function(d){d.dirtyCompoundBoundsCache()}})),positions:function(d,b){if(kt(d))b?this.silentPosition(d):this.position(d);else if(_t(d)){var D=d,O=this.cy();O.startBatch();for(var N=0;N<this.length;N++){var tt,L=this[N];(tt=D(L,N))&&(b?L.silentPosition(tt):L.position(tt))}O.endBatch()}return this},silentPositions:function(d){return this.positions(d,!0)},shift:function(d,b,D){var O;if(kt(d)?(O={x:St(d.x)?d.x:0,y:St(d.y)?d.y:0},D=b):lt(d)&&St(b)&&((O={x:0,y:0})[d]=b),null!=O){var N=this.cy();N.startBatch();for(var L=0;L<this.length;L++){var tt=this[L],ht=tt.position(),ot={x:ht.x+O.x,y:ht.y+O.y};D?tt.silentPosition(ot):tt.position(ot)}N.endBatch()}return this},silentShift:function(d,b){return kt(d)?this.shift(d,!0):lt(d)&&St(b)&&this.shift(d,b,!0),this},renderedPosition:function(d,b){var D=this[0],O=this.cy(),N=O.zoom(),L=O.pan(),tt=kt(d)?d:void 0,ht=void 0!==tt||void 0!==b&&lt(d);if(D&&D.isNode()){if(!ht){var Mt=D.position();return tt=bm(Mt,N,L),void 0===d?tt:tt[d]}for(var ot=0;ot<this.length;ot++){var mt=this[ot];void 0!==b?mt.position(d,(b-L[d])/N):void 0!==tt&&mt.position(qy(tt,N,L))}}else if(!ht)return;return this},relativePosition:function(d,b){var D=this[0],O=this.cy(),N=kt(d)?d:void 0,L=void 0!==N||void 0!==b&&lt(d),tt=O.hasCompoundNodes();if(D&&D.isNode()){if(!L){var Gt=D.position(),Nt=tt?D.parent():null,Jt=Nt&&Nt.length>0;Jt&&(Nt=Nt[0]);var ae=Jt?Nt.position():{x:0,y:0};return N={x:Gt.x-ae.x,y:Gt.y-ae.y},void 0===d?N:N[d]}for(var ht=0;ht<this.length;ht++){var ot=this[ht],mt=tt?ot.parent():null,Mt=mt&&mt.length>0;Mt&&(mt=mt[0]);var jt=Mt?mt.position():{x:0,y:0};void 0!==b?ot.position(d,b+jt[d]):void 0!==N&&ot.position({x:N.x+jt.x,y:N.y+jt.y})}}else if(!L)return;return this}},Jo.modelPosition=Jo.point=Jo.position,Jo.modelPositions=Jo.points=Jo.positions,Jo.renderedPoint=Jo.renderedPosition,Jo.relativePoint=Jo.relativePosition;var S0,wc,xc=Bh;S0=wc={},wc.renderedBoundingBox=function(w){var d=this.boundingBox(w),b=this.cy(),D=b.zoom(),O=b.pan(),N=d.x1*D+O.x,L=d.x2*D+O.x,tt=d.y1*D+O.y,ht=d.y2*D+O.y;return{x1:N,x2:L,y1:tt,y2:ht,w:L-N,h:ht-tt}},wc.dirtyCompoundBoundsCache=function(){var w=arguments.length>0&&void 0!==arguments[0]&&arguments[0],d=this.cy();return d.styleEnabled()&&d.hasCompoundNodes()?(this.forEachUp(function(b){if(b.isParent()){var D=b._private;D.compoundBoundsClean=!1,D.bbCache=null,w||b.emitAndNotify("bounds")}}),this):this},wc.updateCompoundBounds=function(){var w=arguments.length>0&&void 0!==arguments[0]&&arguments[0],d=this.cy();if(!d.styleEnabled()||!d.hasCompoundNodes())return this;if(!w&&d.batching())return this;function b(L){if(L.isParent()){var tt=L._private,ht=L.children(),ot="include"===L.pstyle("compound-sizing-wrt-labels").value,mt={width:{val:L.pstyle("min-width").pfValue,left:L.pstyle("min-width-bias-left"),right:L.pstyle("min-width-bias-right")},height:{val:L.pstyle("min-height").pfValue,top:L.pstyle("min-height-bias-top"),bottom:L.pstyle("min-height-bias-bottom")}},Mt=ht.boundingBox({includeLabels:ot,includeOverlays:!1,useCache:!1}),Ot=tt.position;(0===Mt.w||0===Mt.h)&&((Mt={w:L.pstyle("width").pfValue,h:L.pstyle("height").pfValue}).x1=Ot.x-Mt.w/2,Mt.x2=Ot.x+Mt.w/2,Mt.y1=Ot.y-Mt.h/2,Mt.y2=Ot.y+Mt.h/2);var Nt=mt.width.left.value;"px"===mt.width.left.units&&mt.width.val>0&&(Nt=100*Nt/mt.width.val);var Jt=mt.width.right.value;"px"===mt.width.right.units&&mt.width.val>0&&(Jt=100*Jt/mt.width.val);var oe=mt.height.top.value;"px"===mt.height.top.units&&mt.height.val>0&&(oe=100*oe/mt.height.val);var ae=mt.height.bottom.value;"px"===mt.height.bottom.units&&mt.height.val>0&&(ae=100*ae/mt.height.val);var le=jt(mt.width.val-Mt.w,Nt,Jt),xe=le.biasDiff,Ve=le.biasComplementDiff,He=jt(mt.height.val-Mt.h,oe,ae),ge=He.biasDiff,ze=He.biasComplementDiff;tt.autoPadding=function(Me,Ye,Ue,Ne){if("%"!==Ue.units)return"px"===Ue.units?Ue.pfValue:0;switch(Ne){case"width":return Me>0?Ue.pfValue*Me:0;case"height":return Ye>0?Ue.pfValue*Ye:0;case"average":return Me>0&&Ye>0?Ue.pfValue*(Me+Ye)/2:0;case"min":return Me>0&&Ye>0?Me>Ye?Ue.pfValue*Ye:Ue.pfValue*Me:0;case"max":return Me>0&&Ye>0?Me>Ye?Ue.pfValue*Me:Ue.pfValue*Ye:0;default:return 0}}(Mt.w,Mt.h,L.pstyle("padding"),L.pstyle("padding-relative-to").value),tt.autoWidth=Math.max(Mt.w,mt.width.val),Ot.x=(-xe+Mt.x1+Mt.x2+Ve)/2,tt.autoHeight=Math.max(Mt.h,mt.height.val),Ot.y=(-ge+Mt.y1+Mt.y2+ze)/2}function jt(Me,Ye,Ue){var Ne=0,Je=0,Be=Ye+Ue;return Me>0&&Be>0&&(Ne=Ye/Be*Me,Je=Ue/Be*Me),{biasDiff:Ne,biasComplementDiff:Je}}}for(var D=0;D<this.length;D++){var O=this[D],N=O._private;(!N.compoundBoundsClean||w)&&(b(O),d.batching()||(N.compoundBoundsClean=!0))}return this};var Vh=function(d){return d===1/0||d===-1/0?0:d},Bs=function(d,b,D,O,N){O-b==0||N-D==0||null==b||null==D||null==O||null==N||(d.x1=b<d.x1?b:d.x1,d.x2=O>d.x2?O:d.x2,d.y1=D<d.y1?D:d.y1,d.y2=N>d.y2?N:d.y2,d.w=d.x2-d.x1,d.h=d.y2-d.y1)},gh=function(d,b){return null==b?d:Bs(d,b.x1,b.y1,b.x2,b.y2)},Df=function(d,b,D){return Vn(d,b,D)},vp=function(d,b,D){if(!b.cy().headless()){var ht,ot,O=b._private,N=O.rstyle,L=N.arrowWidth/2;if("none"!==b.pstyle(D+"-arrow-shape").value){"source"===D?(ht=N.srcX,ot=N.srcY):"target"===D?(ht=N.tgtX,ot=N.tgtY):(ht=N.midX,ot=N.midY);var mt=O.arrowBounds=O.arrowBounds||{},Mt=mt[D]=mt[D]||{};Mt.x1=ht-L,Mt.y1=ot-L,Mt.x2=ht+L,Mt.y2=ot+L,Mt.w=Mt.x2-Mt.x1,Mt.h=Mt.y2-Mt.y1,ir(Mt,1),Bs(d,Mt.x1,Mt.y1,Mt.x2,Mt.y2)}}},Im=function(d,b,D){if(!b.cy().headless()){var O,N=b._private,L=N.rstyle;if(b.pstyle((O=D?D+"-":"")+"label").strValue){var Ue,Ne,Je,Be,ht=b.pstyle("text-halign"),ot=b.pstyle("text-valign"),mt=Df(L,"labelWidth",D),Mt=Df(L,"labelHeight",D),Ot=Df(L,"labelX",D),jt=Df(L,"labelY",D),Gt=b.pstyle(O+"text-margin-x").pfValue,Nt=b.pstyle(O+"text-margin-y").pfValue,Jt=b.isEdge(),oe=b.pstyle(O+"text-rotation"),ae=b.pstyle("text-outline-width").pfValue,xe=b.pstyle("text-border-width").pfValue/2,Ve=b.pstyle("text-background-padding").pfValue,ge=Mt,ze=mt,Me=ze/2,Ye=ge/2;if(Jt)Ue=Ot-Me,Ne=Ot+Me,Je=jt-Ye,Be=jt+Ye;else{switch(ht.value){case"left":Ue=Ot-ze,Ne=Ot;break;case"center":Ue=Ot-Me,Ne=Ot+Me;break;case"right":Ue=Ot,Ne=Ot+ze}switch(ot.value){case"top":Je=jt-ge,Be=jt;break;case"center":Je=jt-Ye,Be=jt+Ye;break;case"bottom":Je=jt,Be=jt+ge}}Ue+=Gt-Math.max(ae,xe)-Ve-2,Ne+=Gt+Math.max(ae,xe)+Ve+2,Je+=Nt-Math.max(ae,xe)-Ve-2,Be+=Nt+Math.max(ae,xe)+Ve+2;var wi=D||"main",fi=N.labelBounds,bi=fi[wi]=fi[wi]||{};bi.x1=Ue,bi.y1=Je,bi.x2=Ne,bi.y2=Be,bi.w=Ne-Ue,bi.h=Be-Je;var pi=Jt&&"autorotate"===oe.strValue;if(pi||null!=oe.pfValue&&0!==oe.pfValue){var Fi=pi?Df(N.rstyle,"labelAngle",D):oe.pfValue,Ai=Math.cos(Fi),li=Math.sin(Fi),Wi=(Ue+Ne)/2,Fe=(Je+Be)/2;if(!Jt){switch(ht.value){case"left":Wi=Ne;break;case"right":Wi=Ue}switch(ot.value){case"top":Fe=Be;break;case"bottom":Fe=Je}}var Gi=function(kr,Pn){return{x:(kr-=Wi)*Ai-(Pn-=Fe)*li+Wi,y:kr*li+Pn*Ai+Fe}},Ui=Gi(Ue,Je),xi=Gi(Ue,Be),Ni=Gi(Ne,Je),$i=Gi(Ne,Be);Ue=Math.min(Ui.x,xi.x,Ni.x,$i.x),Ne=Math.max(Ui.x,xi.x,Ni.x,$i.x),Je=Math.min(Ui.y,xi.y,Ni.y,$i.y),Be=Math.max(Ui.y,xi.y,Ni.y,$i.y)}var nn=wi+"Rot",bn=fi[nn]=fi[nn]||{};bn.x1=Ue,bn.y1=Je,bn.x2=Ne,bn.y2=Be,bn.w=Ne-Ue,bn.h=Be-Je,Bs(d,Ue,Je,Ne,Be),Bs(N.labelBounds.all,Ue,Je,Ne,Be)}return d}},o1=function(d){var b=0,D=function(L){return(L?1:0)<<b++},O=0;return O+=D(d.incudeNodes),O+=D(d.includeEdges),O+=D(d.includeLabels),O+=D(d.includeMainLabels),O+=D(d.includeSourceLabels),(O+=D(d.includeTargetLabels))+D(d.includeOverlays)},vh=function(d){if(d.isEdge()){var b=d.source().position(),D=d.target().position(),O=function(L){return Math.round(L)};return function(d,b){var D={value:0,done:!1},O=0,N=d.length;return on({next:function(){return O<N?D.value=d[O++]:D.done=!0,D}},void 0)}([O(b.x),O(b.y),O(D.x),O(D.y)])}return 0},md=function(d,b){var O,D=d._private,N=d.isEdge(),tt=(null==b?bv:o1(b))===bv,ht=vh(d),ot=D.bbCachePosKey===ht,mt=b.useCache&&ot,Mt=function(Nt){return null==Nt._private.bbCache||Nt._private.styleDirty};if(!mt||Mt(d)||N&&Mt(d.source())||Mt(d.target())?(ot||d.recalculateRenderedStyle(mt),O=function(d,b){var mt,Mt,Ot,jt,Gt,Nt,D=d._private.cy,O=D.styleEnabled(),N=D.headless(),L=ss(),tt=d._private,ht=d.isNode(),ot=d.isEdge(),Jt=tt.rstyle,oe=ht&&O?d.pstyle("bounds-expansion").pfValue:[0],ae=function(kr){return"none"!==kr.pstyle("display").value},le=!O||ae(d)&&(!ot||ae(d.source())&&ae(d.target()));if(le){var Ve=0;O&&b.includeOverlays&&0!==d.pstyle("overlay-opacity").value&&(Ve=d.pstyle("overlay-padding").value);var ge=0;if(O&&(ge=d.pstyle("width").pfValue/2),ht&&b.includeNodes){var ze=d.position();Gt=ze.x,Nt=ze.y;var Ye=d.outerWidth()/2,Ne=d.outerHeight()/2;Bs(L,mt=Gt-Ye,Ot=Nt-Ne,Mt=Gt+Ye,jt=Nt+Ne)}else if(ot&&b.includeEdges)if(O&&!N){var Je=d.pstyle("curve-style").strValue;if(mt=Math.min(Jt.srcX,Jt.midX,Jt.tgtX),Mt=Math.max(Jt.srcX,Jt.midX,Jt.tgtX),Ot=Math.min(Jt.srcY,Jt.midY,Jt.tgtY),jt=Math.max(Jt.srcY,Jt.midY,Jt.tgtY),Bs(L,mt-=ge,Ot-=ge,Mt+=ge,jt+=ge),"haystack"===Je){var Be=Jt.haystackPts;if(Be&&2===Be.length){if((mt=Be[0].x)>(Mt=Be[1].x)){var wi=mt;mt=Mt,Mt=wi}if((Ot=Be[0].y)>(jt=Be[1].y)){var fi=Ot;Ot=jt,jt=fi}Bs(L,mt-ge,Ot-ge,Mt+ge,jt+ge)}}else if("bezier"===Je||"unbundled-bezier"===Je||"segments"===Je||"taxi"===Je){var bi;switch(Je){case"bezier":case"unbundled-bezier":bi=Jt.bezierPts;break;case"segments":case"taxi":bi=Jt.linePts}if(null!=bi)for(var pi=0;pi<bi.length;pi++){var yi=bi[pi];Bs(L,mt=yi.x-ge,Ot=yi.y-ge,Mt=yi.x+ge,jt=yi.y+ge)}}}else{var Ai=d.source().position(),Wi=d.target().position();if((mt=Ai.x)>(Mt=Wi.x)){var Fe=mt;mt=Mt,Mt=Fe}if((Ot=Ai.y)>(jt=Wi.y)){var Gi=Ot;Ot=jt,jt=Gi}Bs(L,mt-=ge,Ot-=ge,Mt+=ge,jt+=ge)}if(O&&b.includeEdges&&ot&&(vp(L,d,"mid-source"),vp(L,d,"mid-target"),vp(L,d,"source"),vp(L,d,"target")),O&&"yes"===d.pstyle("ghost").value){var xi=d.pstyle("ghost-offset-x").pfValue,Ni=d.pstyle("ghost-offset-y").pfValue;Bs(L,L.x1+xi,L.y1+Ni,L.x2+xi,L.y2+Ni)}var $i=tt.bodyBounds=tt.bodyBounds||{};vn($i,L),su($i,oe),ir($i,1),O&&Bs(L,(mt=L.x1)-Ve,(Ot=L.y1)-Ve,(Mt=L.x2)+Ve,(jt=L.y2)+Ve);var nn=tt.overlayBounds=tt.overlayBounds||{};vn(nn,L),su(nn,oe),ir(nn,1);var bn=tt.labelBounds=tt.labelBounds||{};null!=bn.all?function(d){d.x1=1/0,d.y1=1/0,d.x2=-1/0,d.y2=-1/0,d.w=0,d.h=0}(bn.all):bn.all=ss(),O&&b.includeLabels&&(b.includeMainLabels&&Im(L,d,null),ot&&(b.includeSourceLabels&&Im(L,d,"source"),b.includeTargetLabels&&Im(L,d,"target")))}return L.x1=Vh(L.x1),L.y1=Vh(L.y1),L.x2=Vh(L.x2),L.y2=Vh(L.y2),L.w=Vh(L.x2-L.x1),L.h=Vh(L.y2-L.y1),L.w>0&&L.h>0&&le&&(su(L,oe),ir(L,1)),L}(d,yp),D.bbCache=O,D.bbCachePosKey=ht):O=D.bbCache,!tt){var jt=d.isNode();O=ss(),(b.includeNodes&&jt||b.includeEdges&&!jt)&&gh(O,b.includeOverlays?D.overlayBounds:D.bodyBounds),b.includeLabels&&(b.includeMainLabels&&(!N||b.includeSourceLabels&&b.includeTargetLabels)?gh(O,D.labelBounds.all):(b.includeMainLabels&&gh(O,D.labelBounds.mainRot),b.includeSourceLabels&&gh(O,D.labelBounds.sourceRot),b.includeTargetLabels&&gh(O,D.labelBounds.targetRot))),O.w=O.x2-O.x1,O.h=O.y2-O.y1}return O},yp={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,useCache:!0},bv=o1(yp),D0=an(yp);wc.boundingBox=function(w){var d;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==w&&void 0!==w.useCache&&!0!==w.useCache){d=ss();var b=D0(w=w||yp),D=this;if(D.cy().styleEnabled())for(var L=0;L<D.length;L++){var tt=D[L],ht=tt._private,ot=vh(tt);tt.recalculateRenderedStyle(b.useCache&&ht.bbCachePosKey===ot&&!ht.styleDirty)}this.updateCompoundBounds(!w.useCache);for(var Ot=0;Ot<D.length;Ot++)gh(d,md(D[Ot],b))}else w=void 0===w?yp:D0(w),d=md(this[0],w);return d.x1=Vh(d.x1),d.y1=Vh(d.y1),d.x2=Vh(d.x2),d.y2=Vh(d.y2),d.w=Vh(d.x2-d.x1),d.h=Vh(d.y2-d.y1),d},wc.dirtyBoundingBoxCache=function(){for(var w=0;w<this.length;w++){var d=this[w]._private;d.bbCache=null,d.bbCachePosKey=null,d.bodyBounds=null,d.overlayBounds=null,d.labelBounds.all=null,d.labelBounds.source=null,d.labelBounds.target=null,d.labelBounds.main=null,d.labelBounds.sourceRot=null,d.labelBounds.targetRot=null,d.labelBounds.mainRot=null,d.arrowBounds.source=null,d.arrowBounds.target=null,d.arrowBounds["mid-source"]=null,d.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},wc.boundingBoxAt=function(w){var d=this.nodes(),b=this.cy(),D=b.hasCompoundNodes(),O=b.collection();if(D&&(O=d.filter(function(ot){return ot.isParent()}),d=d.not(O)),kt(w)){var N=w;w=function(){return N}}b.startBatch(),d.forEach(function(mt,Mt){return mt._private.bbAtOldPos=w(mt,Mt)}).silentPositions(w),D&&(O.dirtyCompoundBoundsCache(),O.dirtyBoundingBoxCache(),O.updateCompoundBounds(!0));var ht=function(d){return{x1:d.x1,x2:d.x2,w:d.w,y1:d.y1,y2:d.y2,h:d.h}}(this.boundingBox({useCache:!1}));return d.silentPositions(function(mt){return mt._private.bbAtOldPos}),D&&(O.dirtyCompoundBoundsCache(),O.dirtyBoundingBoxCache(),O.updateCompoundBounds(!0)),b.endBatch(),ht},S0.boundingbox=S0.bb=S0.boundingBox,S0.renderedBoundingbox=S0.renderedBoundingBox;var Uu,E0,ml=wc;Uu=E0={};var Rl=function(d){d.uppercaseName=Ut(d.name),d.autoName="auto"+d.uppercaseName,d.labelName="label"+d.uppercaseName,d.outerName="outer"+d.uppercaseName,d.uppercaseOuterName=Ut(d.outerName),Uu[d.name]=function(){var D=this[0],O=D._private;if(D){if(O.cy._private.styleEnabled){if(D.isParent())return D.updateCompoundBounds(),O[d.autoName]||0;var tt=D.pstyle(d.name);return"label"===tt.strValue?(D.recalculateRenderedStyle(),O.rstyle[d.labelName]||0):tt.pfValue}return 1}},Uu["outer"+d.uppercaseName]=function(){var D=this[0];if(D)return D._private.cy._private.styleEnabled?D[d.name]()+D.pstyle("border-width").pfValue+2*D.padding():1},Uu["rendered"+d.uppercaseName]=function(){var D=this[0];if(D)return D[d.name]()*this.cy().zoom()},Uu["rendered"+d.uppercaseOuterName]=function(){var D=this[0];if(D)return D[d.outerName]()*this.cy().zoom()}};Rl({name:"width"}),Rl({name:"height"}),E0.padding=function(){var w=this[0],d=w._private;return w.isParent()?(w.updateCompoundBounds(),void 0!==d.autoPadding?d.autoPadding:w.pstyle("padding").pfValue):w.pstyle("padding").pfValue},E0.paddedHeight=function(){var w=this[0];return w.height()+2*w.padding()},E0.paddedWidth=function(){var w=this[0];return w.width()+2*w.padding()};var jh=E0,zh={controlPoints:{get:function(d){return d.renderer().getControlPoints(d)},mult:!0},segmentPoints:{get:function(d){return d.renderer().getSegmentPoints(d)},mult:!0},sourceEndpoint:{get:function(d){return d.renderer().getSourceEndpoint(d)}},targetEndpoint:{get:function(d){return d.renderer().getTargetEndpoint(d)}},midpoint:{get:function(d){return d.renderer().getEdgeMidpoint(d)}}},Mv=Object.keys(zh).reduce(function(w,d){var b=zh[d],D=function(d){return"rendered"+d[0].toUpperCase()+d.substr(1)}(d);return w[d]=function(){return function(d,b){if(d.isEdge())return b(d)}(this,b.get)},w[D]=b.mult?function(){return function(d,b){if(d.isEdge()){var D=d.cy(),O=D.pan(),N=D.zoom();return b(d).map(function(L){return bm(L,N,O)})}}(this,b.get)}:function(){return function(d,b){if(d.isEdge()){var D=d.cy();return bm(b(d),D.zoom(),D.pan())}}(this,b.get)},w},{}),Cv=Ht({},xc,ml,jh,Mv),Sv=function(d,b){this.recycle(d,b)};function la(){return!1}function bc(){return!0}Sv.prototype={instanceString:function(){return"event"},recycle:function(d,b){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=la,null!=d&&d.preventDefault?(this.type=d.type,this.isDefaultPrevented=d.defaultPrevented?bc:la):null!=d&&d.type?b=d:this.type=d,null!=b&&(this.originalEvent=b.originalEvent,this.type=null!=b.type?b.type:this.type,this.cy=b.cy,this.target=b.target,this.position=b.position,this.renderedPosition=b.renderedPosition,this.namespace=b.namespace,this.layout=b.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var D=this.position,O=this.cy.zoom(),N=this.cy.pan();this.renderedPosition={x:D.x*O+N.x,y:D.y*O+N.y}}this.timeStamp=d&&d.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=bc;var d=this.originalEvent;!d||d.preventDefault&&d.preventDefault()},stopPropagation:function(){this.isPropagationStopped=bc;var d=this.originalEvent;!d||d.stopPropagation&&d.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=bc,this.stopPropagation()},isDefaultPrevented:la,isPropagationStopped:la,isImmediatePropagationStopped:la};var Dv=/^([^.]+)(\.(?:[^.]+))?$/,Ef={qualifierCompare:function(d,b){return d===b},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(d){return d},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},vd=Object.keys(Ef),Jx={};function A0(){for(var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jx,d=arguments.length>1?arguments[1]:void 0,b=0;b<vd.length;b++){var D=vd[b];this[D]=w[D]||Ef[D]}this.context=d||this.context,this.listeners=[],this.emitting=0}var yd=A0.prototype,_c=function(d,b,D,O,N,L,tt){_t(O)&&(N=O,O=null),tt&&(L=null==L?tt:Ht({},L,tt));for(var ht=Ct(D)?D:D.split(/\s+/),ot=0;ot<ht.length;ot++){var mt=ht[ot];if(!C(mt)){var Mt=mt.match(Dv);if(Mt&&!1===b(d,mt,Mt[1],Mt[2]?Mt[2]:null,O,N,L))break}}},T0=function(d,b){return d.addEventFields(d.context,b),new Sv(b.type,b)};yd.on=yd.addListener=function(w,d,b,D,O){return _c(this,function(N,L,tt,ht,ot,mt,Mt){_t(mt)&&N.listeners.push({event:L,callback:mt,type:tt,namespace:ht,qualifier:ot,conf:Mt})},w,d,b,D,O),this},yd.one=function(w,d,b,D){return this.on(w,d,b,D,{one:!0})},yd.removeListener=yd.off=function(w,d,b,D){var O=this;0!==this.emitting&&(this.listeners=function(d){return d.slice()}(this.listeners));for(var N=this.listeners,L=function(ot){var mt=N[ot];_c(O,function(Mt,Ot,jt,Gt,Nt,Jt){if((mt.type===jt||"*"===w)&&(!Gt&&".*"!==mt.namespace||mt.namespace===Gt)&&(!Nt||Mt.qualifierCompare(mt.qualifier,Nt))&&(!Jt||mt.callback===Jt))return N.splice(ot,1),!1},w,d,b,D)},tt=N.length-1;tt>=0;tt--)L(tt);return this},yd.removeAllListeners=function(){return this.removeListener("*")},yd.emit=yd.trigger=function(w,d,b){var D=this.listeners,O=D.length;return this.emitting++,Ct(d)||(d=[d]),function(d,b,D){if(function(d){return"event"===Q(d)}(D))b(d,D);else if(kt(D))b(d,T0(d,D));else for(var O=Ct(D)?D:D.split(/\s+/),N=0;N<O.length;N++){var L=O[N];if(!C(L)){var tt=L.match(Dv);tt&&b(d,T0(d,{type:tt[1],namespace:tt[2]?tt[2]:null,target:d.context}))}}}(this,function(N,L){null!=b&&(O=(D=[{event:L.event,type:L.type,namespace:L.namespace,callback:b}]).length);for(var tt=function(mt){var Mt=D[mt];if(Mt.type===L.type&&(!Mt.namespace||Mt.namespace===L.namespace||".*"===Mt.namespace)&&N.eventMatches(N.context,Mt,L)){var Ot=[L];null!=d&&function(d,b){for(var D=0;D<b.length;D++)d.push(b[D])}(Ot,d),N.beforeEmit(N.context,Mt,L),Mt.conf&&Mt.conf.one&&(N.listeners=N.listeners.filter(function(Nt){return Nt!==Mt}));var jt=N.callbackContext(N.context,Mt,L),Gt=Mt.callback.apply(jt,Ot);N.afterEmit(N.context,Mt,L),!1===Gt&&(L.stopPropagation(),L.preventDefault())}},ht=0;ht<O;ht++)tt(ht);N.bubble(N.context)&&!L.isPropagationStopped()&&N.parent(N.context).emit(L,d)},w),this.emitting--,this};var Ev={qualifierCompare:function(d,b){return null==d||null==b?null==d&&null==b:d.sameText(b)},eventMatches:function(d,b,D){var O=b.qualifier;return null==O||d!==D.target&&y(D.target)&&O.matches(D.target)},addEventFields:function(d,b){b.cy=d.cy(),b.target=d},callbackContext:function(d,b,D){return null!=b.qualifier?D.target:d},beforeEmit:function(d,b){b.conf&&b.conf.once&&b.conf.onceCollection.removeListener(b.event,b.qualifier,b.callback)},bubble:function(){return!0},parent:function(d){return d.isChild()?d.parent():d.cy()}},kf=function(d){return lt(d)?new Cf(d):d},Nm={createEmitter:function(){for(var d=0;d<this.length;d++){var b=this[d],D=b._private;D.emitter||(D.emitter=new A0(Ev,b))}return this},emitter:function(){return this._private.emitter},on:function(d,b,D){for(var O=kf(b),N=0;N<this.length;N++)this[N].emitter().on(d,O,D);return this},removeListener:function(d,b,D){for(var O=kf(b),N=0;N<this.length;N++)this[N].emitter().removeListener(d,O,D);return this},removeAllListeners:function(){for(var d=0;d<this.length;d++)this[d].emitter().removeAllListeners();return this},one:function(d,b,D){for(var O=kf(b),N=0;N<this.length;N++)this[N].emitter().one(d,O,D);return this},once:function(d,b,D){for(var O=kf(b),N=0;N<this.length;N++)this[N].emitter().on(d,O,D,{once:!0,onceCollection:this})},emit:function(d,b){for(var D=0;D<this.length;D++)this[D].emitter().emit(d,b);return this},emitAndNotify:function(d,b){if(0!==this.length)return this.cy().notify(d,this),this.emit(d,b),this}};Ao.eventAliasesOn(Nm);var Lm={nodes:function(d){return this.filter(function(b){return b.isNode()}).filter(d)},edges:function(d){return this.filter(function(b){return b.isEdge()}).filter(d)},byGroup:function(){for(var d=this.spawn(),b=this.spawn(),D=0;D<this.length;D++){var O=this[D];O.isNode()?d.push(O):b.push(O)}return{nodes:d,edges:b}},filter:function(d,b){if(void 0===d)return this;if(lt(d)||m(d))return new Cf(d).filter(this);if(_t(d)){for(var D=this.spawn(),O=this,N=0;N<O.length;N++){var L=O[N];(b?d.apply(b,[L,N,O]):d(L,N,O))&&D.push(L)}return D}return this.spawn()},not:function(d){if(d){lt(d)&&(d=this.filter(d));for(var b=this.spawn(),D=0;D<this.length;D++){var O=this[D];d.has(O)||b.push(O)}return b}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(d){if(lt(d))return this.filter(d);for(var D=this.spawn(),L=this.length<d.length,tt=L?this:d,ht=L?d:this,ot=0;ot<tt.length;ot++){var mt=tt[ot];ht.has(mt)&&D.push(mt)}return D},xor:function(d){var b=this._private.cy;lt(d)&&(d=b.$(d));var D=this.spawn(),N=d,L=function(ht,ot){for(var mt=0;mt<ht.length;mt++){var Mt=ht[mt];ot.hasElementWithId(Mt._private.data.id)||D.push(Mt)}};return L(this,N),L(N,this),D},diff:function(d){var b=this._private.cy;lt(d)&&(d=b.$(d));var D=this.spawn(),O=this.spawn(),N=this.spawn(),tt=d,ht=function(mt,Mt,Ot){for(var jt=0;jt<mt.length;jt++){var Gt=mt[jt];Mt.hasElementWithId(Gt._private.data.id)?N.merge(Gt):Ot.push(Gt)}};return ht(this,tt,D),ht(tt,this,O),{left:D,right:O,both:N}},add:function(d){var b=this._private.cy;if(!d)return this;if(lt(d)){var D=d;d=b.mutableElements().filter(D)}for(var O=this.spawnSelf(),N=0;N<d.length;N++){var L=d[N];!this.has(L)&&O.push(L)}return O},merge:function(d){var b=this._private,D=b.cy;if(!d)return this;if(d&&lt(d)){var O=d;d=D.mutableElements().filter(O)}for(var N=b.map,L=0;L<d.length;L++){var tt=d[L],ht=tt._private.data.id;if(!N.has(ht)){var mt=this.length++;this[mt]=tt,N.set(ht,{ele:tt,index:mt})}}return this},unmergeAt:function(d){var D=this[d].id(),N=this._private.map;if(this[d]=void 0,N.delete(D),this.length>1&&d!==this.length-1){var tt=this.length-1,ht=this[tt],ot=ht._private.data.id;this[tt]=void 0,this[d]=ht,N.set(ot,{ele:ht,index:d})}return this.length--,this},unmergeOne:function(d){var N=this._private.map.get((d=d[0])._private.data.id);return N?(this.unmergeAt(N.index),this):this},unmerge:function(d){var b=this._private.cy;if(!d)return this;if(d&&lt(d)){var D=d;d=b.mutableElements().filter(D)}for(var O=0;O<d.length;O++)this.unmergeOne(d[O]);return this},unmergeBy:function(d){for(var b=this.length-1;b>=0;b--)d(this[b])&&this.unmergeAt(b);return this},map:function(d,b){for(var D=[],O=this,N=0;N<O.length;N++){var L=O[N],tt=b?d.apply(b,[L,N,O]):d(L,N,O);D.push(tt)}return D},reduce:function(d,b){for(var D=b,O=this,N=0;N<O.length;N++)D=d(D,O[N],N,O);return D},max:function(d,b){for(var O,D=-1/0,N=this,L=0;L<N.length;L++){var tt=N[L],ht=b?d.apply(b,[tt,L,N]):d(tt,L,N);ht>D&&(D=ht,O=tt)}return{value:D,ele:O}},min:function(d,b){for(var O,D=1/0,N=this,L=0;L<N.length;L++){var tt=N[L],ht=b?d.apply(b,[tt,L,N]):d(tt,L,N);ht<D&&(D=ht,O=tt)}return{value:D,ele:O}}},lo=Lm;lo.u=lo["|"]=lo["+"]=lo.union=lo.or=lo.add,lo["\\"]=lo["!"]=lo["-"]=lo.difference=lo.relativeComplement=lo.subtract=lo.not,lo.n=lo["&"]=lo["."]=lo.and=lo.intersection=lo.intersect,lo["^"]=lo["(+)"]=lo["(-)"]=lo.symmetricDifference=lo.symdiff=lo.xor,lo.fnFilter=lo.filterFn=lo.stdFilter=lo.filter,lo.complement=lo.abscomp=lo.absoluteComplement;var d,Af=function(d,b){var O=d.cy().hasCompoundNodes();function N(mt){var Mt=mt.pstyle("z-compound-depth");return"auto"===Mt.value?O?mt.zDepth():0:"bottom"===Mt.value?-1:"top"===Mt.value?ke:0}var L=N(d)-N(b);if(0!==L)return L;function tt(mt){return"auto"===mt.pstyle("z-index-compare").value&&mt.isNode()?1:0}var ht=tt(d)-tt(b);if(0!==ht)return ht;var ot=d.pstyle("z-index").value-b.pstyle("z-index").value;return 0!==ot?ot:d.poolIndex()-b.poolIndex()},xp={forEach:function(d,b){if(_t(d))for(var D=this.length,O=0;O<D;O++){var N=this[O];if(!1===(b?d.apply(b,[N,O,this]):d(N,O,this)))break}return this},toArray:function(){for(var d=[],b=0;b<this.length;b++)d.push(this[b]);return d},slice:function(d,b){var D=[],O=this.length;null==b&&(b=O),null==d&&(d=0),d<0&&(d=O+d),b<0&&(b=O+b);for(var N=d;N>=0&&N<b&&N<O;N++)D.push(this[N]);return this.spawn(D)},size:function(){return this.length},eq:function(d){return this[d]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(d){if(!_t(d))return this;var b=this.toArray().sort(d);return this.spawn(b)},sortByZIndex:function(){return this.sort(Af)},zDepth:function(){var d=this[0];if(d){var b=d._private;if("nodes"===b.group){var O=b.data.parent?d.parents().size():0;return d.isParent()?O:ke-1}var L=b.target,tt=b.source.zDepth(),ht=L.zDepth();return Math.max(tt,ht,0)}}};xp.each=xp.forEach,d="undefined",("undefined"==typeof Symbol?"undefined":dt(Symbol))!=d&&dt(Symbol.iterator)!=d&&(xp[Symbol.iterator]=function(){var D=this,O={value:void 0,done:!1},N=0,L=this.length;return ct({next:function(){return N<L?O.value=D[N++]:(O.value=void 0,O.done=!0),O}},Symbol.iterator,function(){return this})});var e_=an({nodeDimensionsIncludeLabels:!1}),wp={layoutDimensions:function(d){var b;if(d=e_(d),this.takesUpSpace())if(d.nodeDimensionsIncludeLabels){var D=this.boundingBox();b={w:D.w,h:D.h}}else b={w:this.outerWidth(),h:this.outerHeight()};else b={w:0,h:0};return(0===b.w||0===b.h)&&(b.w=b.h=1),b},layoutPositions:function(d,b,D){var O=this.nodes().filter(function(Ve){return!Ve.isParent()}),N=this.cy(),L=b.eles,tt=function(He){return He.id()},ht=W(D,tt);d.emit({type:"layoutstart",layout:d}),d.animations=[];var mt=b.spacingFactor&&1!==b.spacingFactor,Ot=function(){if(!mt)return null;for(var He=ss(),ge=0;ge<O.length;ge++){var Me=ht(O[ge],ge);Yx(He,Me.x,Me.y)}return He}(),jt=W(function(Ve,He){var ge=ht(Ve,He);return mt&&(ge=function(He,ge,ze){var Me_x=ge.x1+ge.w/2,Me_y=ge.y1+ge.h/2;return{x:Me_x+(ze.x-Me_x)*He,y:Me_y+(ze.y-Me_y)*He}}(Math.abs(b.spacingFactor),Ot,ge)),null!=b.transform&&(ge=b.transform(Ve,ge)),ge},tt);if(b.animate){for(var Gt=0;Gt<O.length;Gt++){var Nt=O[Gt],Jt=jt(Nt,Gt);if(null==b.animateFilter||b.animateFilter(Nt,Gt)){var ae=Nt.animation({position:Jt,duration:b.animationDuration,easing:b.animationEasing});d.animations.push(ae)}else Nt.position(Jt)}if(b.fit){var le=N.animation({fit:{boundingBox:L.boundingBoxAt(jt),padding:b.padding},duration:b.animationDuration,easing:b.animationEasing});d.animations.push(le)}else if(void 0!==b.zoom&&void 0!==b.pan){var xe=N.animation({zoom:b.zoom,pan:b.pan,duration:b.animationDuration,easing:b.animationEasing});d.animations.push(xe)}d.animations.forEach(function(Ve){return Ve.play()}),d.one("layoutready",b.ready),d.emit({type:"layoutready",layout:d}),fp.all(d.animations.map(function(Ve){return Ve.promise()})).then(function(){d.one("layoutstop",b.stop),d.emit({type:"layoutstop",layout:d})})}else O.positions(jt),b.fit&&N.fit(b.eles,b.padding),null!=b.zoom&&N.zoom(b.zoom),b.pan&&N.pan(b.pan),d.one("layoutready",b.ready),d.emit({type:"layoutready",layout:d}),d.one("layoutstop",b.stop),d.emit({type:"layoutstop",layout:d});return this},layout:function(d){return this.cy().makeLayout(Ht({},d,{eles:this}))}};function kv(w,d,b){var N,D=b._private,O=D.styleCache=D.styleCache||[];return null!=(N=O[w])||(N=O[w]=d(b)),N}function P0(w,d){return w=Mi(w),function(D){return kv(w,d,D)}}function Bm(w,d){w=Mi(w);var b=function(O){return d.call(O)};return function(){var O=this[0];if(O)return kv(w,b,O)}}wp.createLayout=wp.makeLayout=wp.layout;var Us={recalculateRenderedStyle:function(d){var b=this.cy(),D=b.renderer(),O=b.styleEnabled();return D&&O&&D.recalculateRenderedStyle(this,d),this},dirtyStyleCache:function(){var D,d=this.cy(),b=function(N){return N._private.styleCache=null};return d.hasCompoundNodes()?((D=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(D.connectedEdges()),D.forEach(b)):this.forEach(function(O){b(O),O.connectedEdges().forEach(b)}),this},updateStyle:function(d){var b=this._private.cy;if(!b.styleEnabled())return this;if(b.batching())return b._private.batchStyleEles.merge(this),this;var N=this;d=!(!d&&void 0!==d),b.hasCompoundNodes()&&(N=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var L=N;return d?L.emitAndNotify("style"):L.emit("style"),N.forEach(function(tt){return tt._private.styleDirty=!0}),this},cleanStyle:function(){var d=this.cy();if(d.styleEnabled())for(var b=0;b<this.length;b++){var D=this[b];D._private.styleDirty&&(D._private.styleDirty=!1,d.style().apply(D))}},parsedStyle:function(d){var b=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],D=this[0],O=D.cy();if(O.styleEnabled()&&D){this.cleanStyle();var N=D._private.style[d];return null!=N?N:b?O.style().getDefaultProperty(d):null}},numericStyle:function(d){var b=this[0];if(b.cy().styleEnabled()&&b){var D=b.pstyle(d);return void 0!==D.pfValue?D.pfValue:D.value}},numericStyleUnits:function(d){var b=this[0];if(b.cy().styleEnabled()&&b)return b.pstyle(d).units},renderedStyle:function(d){var b=this.cy();if(!b.styleEnabled())return this;var D=this[0];return D?b.style().getRenderedStyle(D,d):void 0},style:function(d,b){var D=this.cy();if(!D.styleEnabled())return this;var N=D.style();if(kt(d))N.applyBypass(this,d,!1),this.emitAndNotify("style");else if(lt(d)){if(void 0===b){var tt=this[0];return tt?N.getStylePropertyValue(tt,d):void 0}N.applyBypass(this,d,b,!1),this.emitAndNotify("style")}else if(void 0===d){var ht=this[0];return ht?N.getRawStyle(ht):void 0}return this},removeStyle:function(d){var b=this.cy();if(!b.styleEnabled())return this;var O=b.style(),N=this;if(void 0===d)for(var L=0;L<N.length;L++)O.removeAllBypasses(N[L],!1);else{d=d.split(/\s+/);for(var ht=0;ht<N.length;ht++)O.removeBypasses(N[ht],d,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var d=this.cy();if(!d.styleEnabled())return 1;var b=d.hasCompoundNodes(),D=this[0];if(D){var O=D._private,N=D.pstyle("opacity").value;if(!b)return N;var L=O.data.parent?D.parents():null;if(L)for(var tt=0;tt<L.length;tt++)N*=L[tt].pstyle("opacity").value;return N}},transparent:function(){if(!this.cy().styleEnabled())return!1;var b=this[0],D=b.cy().hasCompoundNodes();return b?D?0===b.effectiveOpacity():0===b.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function bp(w,d){var D=w._private.data.parent?w.parents():null;if(D)for(var O=0;O<D.length;O++)if(!d(D[O]))return!1;return!0}function I0(w){var d=w.ok,b=w.edgeOkViaNode||w.ok,D=w.parentOk||w.ok;return function(){var O=this.cy();if(!O.styleEnabled())return!0;var N=this[0],L=O.hasCompoundNodes();if(N){var tt=N._private;if(!d(N))return!1;if(N.isNode())return!L||bp(N,D);var ht=tt.source,ot=tt.target;return b(ht)&&(!L||bp(ht,b))&&(ht===ot||b(ot)&&(!L||bp(ot,b)))}}}var Mc=P0("eleTakesUpSpace",function(w){return"element"===w.pstyle("display").value&&0!==w.width()&&(!w.isNode()||0!==w.height())});Us.takesUpSpace=Bm("takesUpSpace",I0({ok:Mc}));var Vm=P0("eleInteractive",function(w){return"yes"===w.pstyle("events").value&&"visible"===w.pstyle("visibility").value&&Mc(w)}),R0=P0("parentInteractive",function(w){return"visible"===w.pstyle("visibility").value&&Mc(w)});Us.interactive=Bm("interactive",I0({ok:Vm,parentOk:R0,edgeOkViaNode:Mc})),Us.noninteractive=function(){var w=this[0];if(w)return!w.interactive()};var jm=P0("eleVisible",function(w){return"visible"===w.pstyle("visibility").value&&0!==w.pstyle("opacity").pfValue&&Mc(w)});Us.visible=Bm("visible",I0({ok:jm,edgeOkViaNode:Mc})),Us.hidden=function(){var w=this[0];if(w)return!w.visible()},Us.isBundledBezier=Bm("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),Us.bypass=Us.css=Us.style,Us.renderedCss=Us.renderedStyle,Us.removeBypass=Us.removeCss=Us.removeStyle,Us.pstyle=Us.parsedStyle;var Cc={};function gl(w){return function(){var d=arguments,b=[];if(2===d.length){var D=d[0],O=d[1];this.on(w.event,D,O)}else if(1===d.length&&_t(d[0])){var N=d[0];this.on(w.event,N)}else if(0===d.length||1===d.length&&Ct(d[0])){for(var L=1===d.length?d[0]:null,tt=0;tt<this.length;tt++){var ht=this[tt],ot=!w.ableField||ht._private[w.ableField],mt=ht._private[w.field]!=w.value;if(w.overrideAble){var Mt=w.overrideAble(ht);if(void 0!==Mt&&(ot=Mt,!Mt))return this}ot&&(ht._private[w.field]=w.value,mt&&b.push(ht))}var Ot=this.spawn(b);Ot.updateStyle(),Ot.emit(w.event),L&&Ot.emit(L)}return this}}function Gu(w){Cc[w.field]=function(){var d=this[0];if(d){if(w.overrideField){var b=w.overrideField(d);if(void 0!==b)return b}return d._private[w.field]}},Cc[w.on]=gl({event:w.on,field:w.field,ableField:w.ableField,overrideAble:w.overrideAble,value:!0}),Cc[w.off]=gl({event:w.off,field:w.field,ableField:w.ableField,overrideAble:w.overrideAble,value:!1})}Gu({field:"locked",overrideField:function(d){return!!d.cy().autolock()||void 0},on:"lock",off:"unlock"}),Gu({field:"grabbable",overrideField:function(d){return!d.cy().autoungrabify()&&!d.pannable()&&void 0},on:"grabify",off:"ungrabify"}),Gu({field:"selected",ableField:"selectable",overrideAble:function(d){return!d.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),Gu({field:"selectable",overrideField:function(d){return!d.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Cc.deselect=Cc.unselect,Cc.grabbed=function(){var w=this[0];if(w)return w._private.grabbed},Gu({field:"active",on:"activate",off:"unactivate"}),Gu({field:"pannable",on:"panify",off:"unpanify"}),Cc.inactive=function(){var w=this[0];if(w)return!w._private.active};var ba={},Gs=function(d){return function(D){for(var N=[],L=0;L<this.length;L++){var tt=this[L];if(tt.isNode()){for(var ht=!1,ot=tt.connectedEdges(),mt=0;mt<ot.length;mt++){var Mt=ot[mt],Ot=Mt.source(),jt=Mt.target();if(d.noIncomingEdges&&jt===tt&&Ot!==tt||d.noOutgoingEdges&&Ot===tt&&jt!==tt){ht=!0;break}}ht||N.push(tt)}}return this.spawn(N,!0).filter(D)}},Wu=function(d){return function(b){for(var O=[],N=0;N<this.length;N++){var L=this[N];if(L.isNode())for(var tt=L.connectedEdges(),ht=0;ht<tt.length;ht++){var ot=tt[ht],mt=ot.source(),Mt=ot.target();d.outgoing&&mt===L?(O.push(ot),O.push(Mt)):d.incoming&&Mt===L&&(O.push(ot),O.push(mt))}}return this.spawn(O,!0).filter(b)}},zm=function(d){return function(b){for(var D=this,O=[],N={};;){var L=d.outgoing?D.outgoers():D.incomers();if(0===L.length)break;for(var tt=!1,ht=0;ht<L.length;ht++){var ot=L[ht],mt=ot.id();N[mt]||(N[mt]=!0,O.push(ot),tt=!0)}if(!tt)break;D=L}return this.spawn(O,!0).filter(b)}};function O0(w){return function(b){for(var D=[],O=0;O<this.length;O++){var L=this[O]._private[w.attr];L&&D.push(L)}return this.spawn(D,!0).filter(b)}}function Av(w){return function(b){var D=[],O=this._private.cy,N=w||{};lt(b)&&(b=O.$(b));for(var L=0;L<b.length;L++)for(var tt=b[L]._private.edges,ht=0;ht<tt.length;ht++){var ot=tt[ht],mt=ot._private.data,Mt=this.hasElementWithId(mt.source)&&b.hasElementWithId(mt.target),Ot=b.hasElementWithId(mt.source)&&this.hasElementWithId(mt.target);!Mt&&!Ot||(N.thisIsSrc||N.thisIsTgt)&&(N.thisIsSrc&&!Mt||N.thisIsTgt&&!Ot)||D.push(ot)}return this.spawn(D,!0)}}function xd(w){return w=Ht({},{codirected:!1},w),function(D){for(var O=[],N=this.edges(),L=w,tt=0;tt<N.length;tt++)for(var ot=N[tt]._private,mt=ot.source,Mt=mt._private.data.id,Ot=ot.data.target,jt=mt._private.edges,Gt=0;Gt<jt.length;Gt++){var Nt=jt[Gt],Jt=Nt._private.data,oe=Jt.target,ae=Jt.source,le=oe===Ot&&ae===Mt;(L.codirected&&le||!L.codirected&&(le||Mt===oe&&Ot===ae))&&O.push(Nt)}return this.spawn(O,!0).filter(D)}}ba.clearTraversalCache=function(){for(var w=0;w<this.length;w++)this[w]._private.traversalCache=null},Ht(ba,{roots:Gs({noIncomingEdges:!0}),leaves:Gs({noOutgoingEdges:!0}),outgoers:Vr(Wu({outgoing:!0}),"outgoers"),successors:zm({outgoing:!0}),incomers:Vr(Wu({incoming:!0}),"incomers"),predecessors:zm({incoming:!0})}),Ht(ba,{neighborhood:Vr(function(w){for(var d=[],b=this.nodes(),D=0;D<b.length;D++)for(var O=b[D],N=O.connectedEdges(),L=0;L<N.length;L++){var tt=N[L],ht=tt.source(),ot=tt.target(),mt=O===ht?ot:ht;mt.length>0&&d.push(mt[0]),d.push(tt[0])}return this.spawn(d,!0).filter(w)},"neighborhood"),closedNeighborhood:function(d){return this.neighborhood().add(this).filter(d)},openNeighborhood:function(d){return this.neighborhood(d)}}),ba.neighbourhood=ba.neighborhood,ba.closedNeighbourhood=ba.closedNeighborhood,ba.openNeighbourhood=ba.openNeighborhood,Ht(ba,{source:Vr(function(d){var D,b=this[0];return b&&(D=b._private.source||b.cy().collection()),D&&d?D.filter(d):D},"source"),target:Vr(function(d){var D,b=this[0];return b&&(D=b._private.target||b.cy().collection()),D&&d?D.filter(d):D},"target"),sources:O0({attr:"source"}),targets:O0({attr:"target"})}),Ht(ba,{edgesWith:Vr(Av(),"edgesWith"),edgesTo:Vr(Av({thisIsSrc:!0}),"edgesTo")}),Ht(ba,{connectedEdges:Vr(function(w){for(var d=[],D=0;D<this.length;D++){var O=this[D];if(O.isNode())for(var N=O._private.edges,L=0;L<N.length;L++)d.push(N[L])}return this.spawn(d,!0).filter(w)},"connectedEdges"),connectedNodes:Vr(function(w){for(var d=[],D=0;D<this.length;D++){var O=this[D];!O.isEdge()||(d.push(O.source()[0]),d.push(O.target()[0]))}return this.spawn(d,!0).filter(w)},"connectedNodes"),parallelEdges:Vr(xd(),"parallelEdges"),codirectedEdges:Vr(xd({codirected:!0}),"codirectedEdges")}),Ht(ba,{components:function(d){var b=this,D=b.cy(),O=D.collection(),N=null==d?b.nodes():d.nodes(),L=[];null!=d&&N.empty()&&(N=d.sources());var tt=function(mt,Mt){O.merge(mt),N.unmerge(mt),Mt.merge(mt)};if(N.empty())return b.spawn();var ht=function(){var mt=D.collection();L.push(mt);var Mt=N[0];tt(Mt,mt),b.bfs({directed:!1,roots:Mt,visit:function(jt){return tt(jt,mt)}}),mt.forEach(function(Ot){Ot.connectedEdges().forEach(function(jt){b.has(jt)&&mt.has(jt.source())&&mt.has(jt.target())&&mt.merge(jt)})})};do{ht()}while(N.length>0);return L},component:function(){var d=this[0];return d.cy().mutableElements().components(d)[0]}}),ba.componentsOf=ba.components;var xo=function(d,b){var D=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0!==d){var O=new jr,N=!1;if(b){if(b.length>0&&kt(b[0])&&!y(b[0])){N=!0;for(var L=[],tt=new Xn,ht=0,ot=b.length;ht<ot;ht++){var mt=b[ht];null==mt.data&&(mt.data={});var Mt=mt.data;if(null==Mt.id)Mt.id=Bn();else if(d.hasElementWithId(Mt.id)||tt.has(Mt.id))continue;var Ot=new Co(d,mt,!1);L.push(Ot),tt.add(Mt.id)}b=L}}else b=[];this.length=0;for(var jt=0,Gt=b.length;jt<Gt;jt++){var Nt=b[jt][0];if(null!=Nt){var Jt=Nt._private.data.id;(!D||!O.has(Jt))&&(D&&O.set(Jt,{index:this.length,ele:Nt}),this[this.length]=Nt,this.length++)}}this._private={eles:this,cy:d,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(oe){this.lazyMap=oe},rebuildMap:function(){for(var ae=this.lazyMap=new jr,le=this.eles,xe=0;xe<le.length;xe++){var Ve=le[xe];ae.set(Ve.id(),{index:xe,ele:Ve})}}},D&&(this._private.map=O),N&&this.restore()}else $e("A collection must have a reference to the core")},Qo=Co.prototype=xo.prototype=Object.create(Array.prototype);Qo.instanceString=function(){return"collection"},Qo.spawn=function(w,d){return new xo(this.cy(),w,d)},Qo.spawnSelf=function(){return this.spawn(this)},Qo.cy=function(){return this._private.cy},Qo.renderer=function(){return this._private.cy.renderer()},Qo.element=function(){return this[0]},Qo.collection=function(){return v(this)?this:new xo(this._private.cy,[this])},Qo.unique=function(){return new xo(this._private.cy,this,!0)},Qo.hasElementWithId=function(w){return this._private.map.has(w=""+w)},Qo.getElementById=function(w){var d=this._private.cy,b=this._private.map.get(w=""+w);return b?b.ele:new xo(d)},Qo.$id=Qo.getElementById,Qo.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},Qo.indexOf=function(w){return this._private.map.get(w[0]._private.data.id).index},Qo.indexOfId=function(w){return this._private.map.get(w=""+w).index},Qo.json=function(w){var d=this.element(),b=this.cy();if(null==d&&w)return this;if(null!=d){var D=d._private;if(kt(w)){if(b.startBatch(),w.data){d.data(w.data);var O=D.data;if(d.isEdge()){var N=!1,L={},tt=w.data.source,ht=w.data.target;null!=tt&&tt!=O.source&&(L.source=""+tt,N=!0),null!=ht&&ht!=O.target&&(L.target=""+ht,N=!0),N&&(d=d.move(L))}else{var mt=w.data.parent;"parent"in w.data&&(null!=mt||null!=O.parent)&&mt!=O.parent&&(void 0===mt&&(mt=null),null!=mt&&(mt=""+mt),d=d.move({parent:mt}))}}w.position&&d.position(w.position);var Mt=function(Nt,Jt,oe){var ae=w[Nt];null!=ae&&ae!==D[Nt]&&(ae?d[Jt]():d[oe]())};return Mt("removed","remove","restore"),Mt("selected","select","unselect"),Mt("selectable","selectify","unselectify"),Mt("locked","lock","unlock"),Mt("grabbable","grabify","ungrabify"),Mt("pannable","panify","unpanify"),null!=w.classes&&d.classes(w.classes),b.endBatch(),this}if(void 0===w){var Ot={data:Qe(D.data),position:Qe(D.position),group:D.group,removed:D.removed,selected:D.selected,selectable:D.selectable,locked:D.locked,grabbable:D.grabbable,pannable:D.pannable,classes:""},jt=0;return D.classes.forEach(function(Gt){return Ot.classes+=0==jt++?Gt:" "+Gt}),Ot}}},Qo.jsons=function(){for(var w=[],d=0;d<this.length;d++){var D=this[d].json();w.push(D)}return w},Qo.clone=function(){for(var w=this.cy(),d=[],b=0;b<this.length;b++){var O=this[b].json(),N=new Co(w,O,!1);d.push(N)}return new xo(w,d)},Qo.copy=Qo.clone,Qo.restore=function(){for(var tt,w=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],d=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],b=this,D=b.cy(),O=D._private,N=[],L=[],ht=0,ot=b.length;ht<ot;ht++){var mt=b[ht];d&&!mt.removed()||(mt.isNode()?N.push(mt):L.push(mt))}tt=N.concat(L);var Mt,Ot=function(){tt.splice(Mt,1),Mt--};for(Mt=0;Mt<tt.length;Mt++){var jt=tt[Mt],Gt=jt._private,Nt=Gt.data;if(jt.clearTraversalCache(),d||Gt.removed)if(void 0===Nt.id)Nt.id=Bn();else if(St(Nt.id))Nt.id=""+Nt.id;else{if(C(Nt.id)||!lt(Nt.id)){$e("Can not create element with invalid string ID `"+Nt.id+"`"),Ot();continue}if(D.hasElementWithId(Nt.id)){$e("Can not create second element with ID `"+Nt.id+"`"),Ot();continue}}var Jt=Nt.id;if(jt.isNode()){var oe=Gt.position;null==oe.x&&(oe.x=0),null==oe.y&&(oe.y=0)}if(jt.isEdge()){for(var ae=jt,le=["source","target"],xe=le.length,Ve=!1,He=0;He<xe;He++){var ge=le[He],ze=Nt[ge];St(ze)&&(ze=Nt[ge]=""+Nt[ge]),null==ze||""===ze?($e("Can not create edge `"+Jt+"` with unspecified "+ge),Ve=!0):D.hasElementWithId(ze)||($e("Can not create edge `"+Jt+"` with nonexistant "+ge+" `"+ze+"`"),Ve=!0)}if(Ve){Ot();continue}var Me=D.getElementById(Nt.source),Ye=D.getElementById(Nt.target);Me.same(Ye)?Me._private.edges.push(ae):(Me._private.edges.push(ae),Ye._private.edges.push(ae)),ae._private.source=Me,ae._private.target=Ye}Gt.map=new jr,Gt.map.set(Jt,{ele:jt,index:0}),Gt.removed=!1,d&&D.addToPool(jt)}for(var Ue=0;Ue<N.length;Ue++){var Ne=N[Ue],Je=Ne._private.data;St(Je.parent)&&(Je.parent=""+Je.parent);var Be=Je.parent,wi=null!=Be;if(wi){var fi=D.getElementById(Be);if(fi.empty())Je.parent=void 0;else{for(var bi=!1,pi=fi;!pi.empty();){if(Ne.same(pi)){bi=!0,Je.parent=void 0;break}pi=pi.parent()}bi||(fi[0]._private.children.push(Ne),Ne._private.parent=fi[0],O.hasCompoundNodes=!0)}}}if(tt.length>0){for(var yi=tt.length===b.length?b:new xo(D,tt),Fi=0;Fi<yi.length;Fi++){var Ai=yi[Fi];Ai.isNode()||(Ai.parallelEdges().clearTraversalCache(),Ai.source().clearTraversalCache(),Ai.target().clearTraversalCache())}(O.hasCompoundNodes?D.collection().merge(yi).merge(yi.connectedNodes()).merge(yi.parent()):yi).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(w),w?yi.emitAndNotify("add"):d&&yi.emit("add")}return b},Qo.removed=function(){var w=this[0];return w&&w._private.removed},Qo.inside=function(){var w=this[0];return w&&!w._private.removed},Qo.remove=function(){var w=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],d=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],b=this,D=[],O={},N=b._private.cy;function L(Be){for(var wi=Be._private.edges,fi=0;fi<wi.length;fi++)ht(wi[fi])}function tt(Be){for(var wi=Be._private.children,fi=0;fi<wi.length;fi++)ht(wi[fi])}function ht(Be){var wi=O[Be.id()];d&&Be.removed()||wi||(O[Be.id()]=!0,Be.isNode()?(D.push(Be),L(Be),tt(Be)):D.unshift(Be))}for(var ot=0,mt=b.length;ot<mt;ot++){var Mt=b[ot];ht(Mt)}function Ot(Be,wi){cn(Be._private.edges,wi),Be.clearTraversalCache()}function jt(Be){Be.clearTraversalCache()}var Gt=[];function Nt(Be,wi){wi=wi[0];var fi=(Be=Be[0])._private.children,bi=Be.id();cn(fi,wi),wi._private.parent=null,Gt.ids[bi]||(Gt.ids[bi]=!0,Gt.push(Be))}Gt.ids={},b.dirtyCompoundBoundsCache(),d&&N.removeFromPool(D);for(var Jt=0;Jt<D.length;Jt++){var oe=D[Jt];if(oe.isEdge()){var ae=oe.source()[0],le=oe.target()[0];Ot(ae,oe),Ot(le,oe);for(var xe=oe.parallelEdges(),Ve=0;Ve<xe.length;Ve++){var He=xe[Ve];jt(He),He.isBundledBezier()&&He.dirtyBoundingBoxCache()}}else{var ge=oe.parent();0!==ge.length&&Nt(ge,oe)}d&&(oe._private.removed=!0)}var ze=N._private.elements;N._private.hasCompoundNodes=!1;for(var Me=0;Me<ze.length;Me++){var Ye=ze[Me];if(Ye.isParent()){N._private.hasCompoundNodes=!0;break}}var Ue=new xo(this.cy(),D);Ue.size()>0&&(w?Ue.emitAndNotify("remove"):d&&Ue.emit("remove"));for(var Ne=0;Ne<Gt.length;Ne++){var Je=Gt[Ne];(!d||!Je.removed())&&Je.updateStyle()}return Ue},Qo.move=function(w){var d=this._private.cy,b=this,D=!1,O=!1,N=function(Gt){return null==Gt?Gt:""+Gt};if(void 0!==w.source||void 0!==w.target){var L=N(w.source),tt=N(w.target),ht=null!=L&&d.hasElementWithId(L),ot=null!=tt&&d.hasElementWithId(tt);(ht||ot)&&(d.batch(function(){b.remove(D,O),b.emitAndNotify("moveout");for(var jt=0;jt<b.length;jt++){var Gt=b[jt],Nt=Gt._private.data;Gt.isEdge()&&(ht&&(Nt.source=L),ot&&(Nt.target=tt))}b.restore(D,O)}),b.emitAndNotify("move"))}else if(void 0!==w.parent){var mt=N(w.parent);if(null===mt||d.hasElementWithId(mt)){var Ot=null===mt?void 0:mt;d.batch(function(){var jt=b.remove(D,O);jt.emitAndNotify("moveout");for(var Gt=0;Gt<b.length;Gt++){var Nt=b[Gt],Jt=Nt._private.data;Nt.isNode()&&(Jt.parent=Ot)}jt.restore(D,O)}),b.emitAndNotify("move")}}return this},[Em,dp,Hs,Ki,qo,Qb,C0,Cv,Nm,Lm,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var d=this[0];if(d)return d._private.group}},xp,wp,Us,Cc,ba].forEach(function(w){Ht(Qo,w)});var Hh={add:function(d){var b,D=this;if(m(d)){var O=d;if(O._private.cy===D)b=O.restore();else{for(var N=[],L=0;L<O.length;L++)N.push(O[L].json());b=new xo(D,N)}}else if(Ct(d))b=new xo(D,d);else if(kt(d)&&(Ct(d.nodes)||Ct(d.edges))){for(var ot=d,mt=[],Mt=["nodes","edges"],Ot=0,jt=Mt.length;Ot<jt;Ot++){var Gt=Mt[Ot],Nt=ot[Gt];if(Ct(Nt))for(var Jt=0,oe=Nt.length;Jt<oe;Jt++){var ae=Ht({group:Gt},Nt[Jt]);mt.push(ae)}}b=new xo(D,mt)}else b=new Co(D,d).collection();return b},remove:function(d){return m(d)||lt(d)&&(d=this.$(d)),d.remove()}},wd=function(){function w(D){return-D.tension*D.x-D.friction*D.v}function d(D,O,N){var L={x:D.x+N.dx*O,v:D.v+N.dv*O,tension:D.tension,friction:D.friction};return{dx:L.v,dv:w(L)}}function b(D,O){var N={dx:D.v,dv:w(D)},L=d(D,.5*O,N),tt=d(D,.5*O,L),ht=d(D,O,tt),mt=1/6*(N.dv+2*(L.dv+tt.dv)+ht.dv);return D.x=D.x+1/6*(N.dx+2*(L.dx+tt.dx)+ht.dx)*O,D.v=D.v+mt*O,D}return function D(O,N,L){var Ot,jt,Gt,tt={x:-1,v:0,tension:null,friction:null},ht=[0],ot=0;for(O=parseFloat(O)||500,N=parseFloat(N)||20,L=L||null,tt.tension=O,tt.friction=N,jt=(Ot=null!==L)?(ot=D(O,N))/L*.016:.016;Gt=b(Gt||tt,jt),ht.push(1+Gt.x),ot+=16,Math.abs(Gt.x)>1e-4&&Math.abs(Gt.v)>1e-4;);return Ot?function(Nt){return ht[Nt*(ht.length-1)|0]}:ot}}(),mo=function(d,b,D,O){var N=function(w,d,b,D){var O=4,N=.001,L=1e-7,tt=10,ht=11,ot=1/(ht-1),mt="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var Mt=0;Mt<4;++Mt)if("number"!=typeof arguments[Mt]||isNaN(arguments[Mt])||!isFinite(arguments[Mt]))return!1;w=Math.min(w,1),b=Math.min(b,1),w=Math.max(w,0),b=Math.max(b,0);var Ot=mt?new Float32Array(ht):new Array(ht);function jt(Ye,Ue){return 1-3*Ue+3*Ye}function Gt(Ye,Ue){return 3*Ue-6*Ye}function Nt(Ye){return 3*Ye}function Jt(Ye,Ue,Ne){return((jt(Ue,Ne)*Ye+Gt(Ue,Ne))*Ye+Nt(Ue))*Ye}function oe(Ye,Ue,Ne){return 3*jt(Ue,Ne)*Ye*Ye+2*Gt(Ue,Ne)*Ye+Nt(Ue)}function ae(Ye,Ue){for(var Ne=0;Ne<O;++Ne){var Je=oe(Ue,w,b);if(0===Je)return Ue;Ue-=(Jt(Ue,w,b)-Ye)/Je}return Ue}function le(){for(var Ye=0;Ye<ht;++Ye)Ot[Ye]=Jt(Ye*ot,w,b)}function xe(Ye,Ue,Ne){var Je,Be,wi=0;do{(Je=Jt(Be=Ue+(Ne-Ue)/2,w,b)-Ye)>0?Ne=Be:Ue=Be}while(Math.abs(Je)>L&&++wi<tt);return Be}function Ve(Ye){for(var Ue=0,Ne=1,Je=ht-1;Ne!==Je&&Ot[Ne]<=Ye;++Ne)Ue+=ot;--Ne;var wi=Ue+(Ye-Ot[Ne])/(Ot[Ne+1]-Ot[Ne])*ot,fi=oe(wi,w,b);return fi>=N?ae(Ye,wi):0===fi?wi:xe(Ye,Ue,Ue+ot)}var He=!1;function ge(){He=!0,(w!==d||b!==D)&&le()}var ze=function(Ue){return He||ge(),w===d&&b===D?Ue:0===Ue?0:1===Ue?1:Jt(Ve(Ue),d,D)};ze.getControlPoints=function(){return[{x:w,y:d},{x:b,y:D}]};var Me="generateBezier("+[w,d,b,D]+")";return ze.toString=function(){return Me},ze}(d,b,D,O);return function(L,tt,ht){return L+(tt-L)*N(ht)}},Sc={linear:function(d,b,D){return d+(b-d)*D},ease:mo(.25,.1,.25,1),"ease-in":mo(.42,0,1,1),"ease-out":mo(0,0,.58,1),"ease-in-out":mo(.42,0,.58,1),"ease-in-sine":mo(.47,0,.745,.715),"ease-out-sine":mo(.39,.575,.565,1),"ease-in-out-sine":mo(.445,.05,.55,.95),"ease-in-quad":mo(.55,.085,.68,.53),"ease-out-quad":mo(.25,.46,.45,.94),"ease-in-out-quad":mo(.455,.03,.515,.955),"ease-in-cubic":mo(.55,.055,.675,.19),"ease-out-cubic":mo(.215,.61,.355,1),"ease-in-out-cubic":mo(.645,.045,.355,1),"ease-in-quart":mo(.895,.03,.685,.22),"ease-out-quart":mo(.165,.84,.44,1),"ease-in-out-quart":mo(.77,0,.175,1),"ease-in-quint":mo(.755,.05,.855,.06),"ease-out-quint":mo(.23,1,.32,1),"ease-in-out-quint":mo(.86,0,.07,1),"ease-in-expo":mo(.95,.05,.795,.035),"ease-out-expo":mo(.19,1,.22,1),"ease-in-out-expo":mo(1,0,0,1),"ease-in-circ":mo(.6,.04,.98,.335),"ease-out-circ":mo(.075,.82,.165,1),"ease-in-out-circ":mo(.785,.135,.15,.86),spring:function(d,b,D){if(0===D)return Sc.linear;var O=wd(d,b,D);return function(N,L,tt){return N+(L-N)*O(tt)}},"cubic-bezier":mo};function N0(w,d,b,D,O){if(1===D||d===b)return b;var N=O(d,b,D);return null==w||((w.roundValue||w.color)&&(N=Math.round(N)),void 0!==w.min&&(N=Math.max(N,w.min)),void 0!==w.max&&(N=Math.min(N,w.max))),N}function Dc(w,d){return null!=w.pfValue||null!=w.value?null==w.pfValue||null!=d&&"%"===d.type.units?w.value:w.pfValue:w}function Hm(w,d,b,D,O){var N=null!=O?O.type:null;b<0?b=0:b>1&&(b=1);var L=Dc(w,O),tt=Dc(d,O);if(St(L)&&St(tt))return N0(N,L,tt,b,D);if(Ct(L)&&Ct(tt)){for(var ht=[],ot=0;ot<tt.length;ot++){var mt=L[ot],Mt=tt[ot];if(null!=mt&&null!=Mt){var Ot=N0(N,mt,Mt,b,D);ht.push(Ot)}else ht.push(Mt)}return ht}}function Um(w,d,b,D){var O=!D,N=w._private,L=d._private,tt=L.easing,ht=L.startTime,mt=(D?w:w.cy()).style();if(!L.easingImpl)if(null==tt)L.easingImpl=Sc.linear;else{var Mt,jt,Gt;Mt=lt(tt)?mt.parse("transition-timing-function",tt).value:tt,lt(Mt)?(jt=Mt,Gt=[]):(jt=Mt[1],Gt=Mt.slice(2).map(function(yi){return+yi})),Gt.length>0?("spring"===jt&&Gt.push(L.duration),L.easingImpl=Sc[jt].apply(null,Gt)):L.easingImpl=Sc[jt]}var Jt,Nt=L.easingImpl;if(Jt=0===L.duration?1:(b-ht)/L.duration,L.applying&&(Jt=L.progress),Jt<0?Jt=0:Jt>1&&(Jt=1),null==L.delay){var oe=L.startPosition,ae=L.position;if(ae&&O&&!w.locked()){var le={};L0(oe.x,ae.x)&&(le.x=Hm(oe.x,ae.x,Jt,Nt)),L0(oe.y,ae.y)&&(le.y=Hm(oe.y,ae.y,Jt,Nt)),w.position(le)}var xe=L.startPan,Ve=L.pan,He=N.pan,ge=null!=Ve&&D;ge&&(L0(xe.x,Ve.x)&&(He.x=Hm(xe.x,Ve.x,Jt,Nt)),L0(xe.y,Ve.y)&&(He.y=Hm(xe.y,Ve.y,Jt,Nt)),w.emit("pan"));var ze=L.startZoom,Me=L.zoom,Ye=null!=Me&&D;Ye&&(L0(ze,Me)&&(N.zoom=Nr(N.minZoom,Hm(ze,Me,Jt,Nt),N.maxZoom)),w.emit("zoom")),(ge||Ye)&&w.emit("viewport");var Ue=L.style;if(Ue&&Ue.length>0&&O){for(var Ne=0;Ne<Ue.length;Ne++){var Je=Ue[Ne],Be=Je.name,fi=L.startStyle[Be],pi=Hm(fi,Je,Jt,Nt,mt.properties[fi.name]);mt.overrideBypass(w,Be,pi)}w.emit("style")}}return L.progress=Jt,Jt}function L0(w,d){return!!(null!=w&&null!=d&&(St(w)&&St(d)||w&&d))}function i_(w,d,b,D){var O=d._private;O.started=!0,O.startTime=b-O.progress*O.duration}function ew(w,d){var b=d._private.aniEles,D=[];function O(mt,Mt){var Ot=mt._private,jt=Ot.animation.current,Gt=Ot.animation.queue,Nt=!1;if(0===jt.length){var Jt=Gt.shift();Jt&&jt.push(Jt)}for(var oe=function(He){for(var ge=He.length-1;ge>=0;ge--)(0,He[ge])();He.splice(0,He.length)},ae=jt.length-1;ae>=0;ae--){var le=jt[ae],xe=le._private;xe.stopped?(jt.splice(ae,1),xe.hooked=!1,xe.playing=!1,xe.started=!1,oe(xe.frames)):!xe.playing&&!xe.applying||(xe.playing&&xe.applying&&(xe.applying=!1),xe.started||i_(0,le,w),Um(mt,le,w,Mt),xe.applying&&(xe.applying=!1),oe(xe.frames),null!=xe.step&&xe.step(w),le.completed()&&(jt.splice(ae,1),xe.hooked=!1,xe.playing=!1,xe.started=!1,oe(xe.completes)),Nt=!0)}return!Mt&&0===jt.length&&0===Gt.length&&D.push(mt),Nt}for(var N=!1,L=0;L<b.length;L++){var ht=O(b[L]);N=N||ht}var ot=O(d,!0);(N||ot)&&(b.length>0?d.notify("draw",b):d.notify("draw")),b.unmerge(D),d.emit("step")}var pn={animate:Ao.animate(),animation:Ao.animation(),animated:Ao.animated(),clearQueue:Ao.clearQueue(),delay:Ao.delay(),delayAnimation:Ao.delayAnimation(),stop:Ao.stop(),addToAnimationPool:function(d){!this.styleEnabled()||this._private.aniEles.merge(d)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var d=this;if(d._private.animationsRunning=!0,d.styleEnabled()){var D=d.renderer();D&&D.beforeRender?D.beforeRender(function(N,L){ew(L,d)},D.beforeRenderPriorities.animations):function b(){!d._private.animationsRunning||Qt(function(N){ew(N,d),b()})}()}}},Gm={qualifierCompare:function(d,b){return null==d||null==b?null==d&&null==b:d.sameText(b)},eventMatches:function(d,b,D){var O=b.qualifier;return null==O||d!==D.target&&y(D.target)&&O.matches(D.target)},addEventFields:function(d,b){b.cy=d,b.target=d},callbackContext:function(d,b,D){return null!=b.qualifier?D.target:d}},Wm=function(d){return lt(d)?new Cf(d):d},Tf={createEmitter:function(){var d=this._private;return d.emitter||(d.emitter=new A0(Gm,this)),this},emitter:function(){return this._private.emitter},on:function(d,b,D){return this.emitter().on(d,Wm(b),D),this},removeListener:function(d,b,D){return this.emitter().removeListener(d,Wm(b),D),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(d,b,D){return this.emitter().one(d,Wm(b),D),this},once:function(d,b,D){return this.emitter().one(d,Wm(b),D),this},emit:function(d,b){return this.emitter().emit(d,b),this},emitAndNotify:function(d,b){return this.emit(d),this.notify(d,b),this}};Ao.eventAliasesOn(Tf);var h1={png:function(d){return this._private.renderer.png(d=d||{})},jpg:function(d){var b=this._private.renderer;return(d=d||{}).bg=d.bg||"#fff",b.jpg(d)}};h1.jpeg=h1.jpg;var Tv={layout:function(d){var b=this;if(null!=d)if(null!=d.name){var N,D=d.name,O=b.extension("layout",D);if(null!=O)return N=lt(d.eles)?b.$(d.eles):null!=d.eles?d.eles:b.$(),new O(Ht({},d,{cy:b,eles:N}));$e("No such layout `"+D+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else $e("A `name` must be specified to make a layout");else $e("Layout options must be specified to make a layout")}};Tv.createLayout=Tv.makeLayout=Tv.layout;var F0={notify:function(d,b){var D=this._private;if(this.batching()){D.batchNotifications=D.batchNotifications||{};var O=D.batchNotifications[d]=D.batchNotifications[d]||this.collection();null!=b&&O.merge(b)}else if(D.notificationsEnabled){var N=this.renderer();this.destroyed()||!N||N.notify(d,b)}},notifications:function(d){var b=this._private;return void 0===d?b.notificationsEnabled:(b.notificationsEnabled=!!d,this)},noNotifications:function(d){this.notifications(!1),d(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var d=this._private;return null==d.batchCount&&(d.batchCount=0),0===d.batchCount&&(d.batchStyleEles=this.collection(),d.batchNotifications={}),d.batchCount++,this},endBatch:function(){var d=this._private;if(0===d.batchCount)return this;if(d.batchCount--,0===d.batchCount){d.batchStyleEles.updateStyle();var b=this.renderer();Object.keys(d.batchNotifications).forEach(function(D){var O=d.batchNotifications[D];O.empty()?b.notify(D):b.notify(D,O)})}return this},batch:function(d){return this.startBatch(),d(),this.endBatch(),this},batchData:function(d){var b=this;return this.batch(function(){for(var D=Object.keys(d),O=0;O<D.length;O++){var N=D[O],L=d[N];b.getElementById(N).data(L)}})}},u1=an({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),bd={renderTo:function(d,b,D,O){return this._private.renderer.renderTo(d,b,D,O),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(d){var b=this,D=b.extension("renderer",d.name);if(null!=D){void 0!==d.wheelSensitivity&&Re("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var O=u1(d);O.cy=b,b._private.renderer=new D(O),this.notify("init")}else $e("Can not initialise: No such renderer `".concat(d.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var d=this;d.notify("destroy");var b=d.container();if(b)for(b._cyreg=null;b.childNodes.length>0;)b.removeChild(b.childNodes[0]);d._private.renderer=null,d.mutableElements().forEach(function(D){var O=D._private;O.rscratch={},O.rstyle={},O.animation.current=[],O.animation.queue=[]})},onRender:function(d){return this.on("render",d)},offRender:function(d){return this.off("render",d)}};bd.invalidateDimensions=bd.resize;var Uh={collection:function(d,b){return lt(d)?this.$(d):m(d)?d.collection():Ct(d)?new xo(this,d,b):new xo(this)},nodes:function(d){var b=this.$(function(D){return D.isNode()});return d?b.filter(d):b},edges:function(d){var b=this.$(function(D){return D.isEdge()});return d?b.filter(d):b},$:function(d){var b=this._private.elements;return d?b.filter(d):b.spawnSelf()},mutableElements:function(){return this._private.elements}};Uh.elements=Uh.filter=Uh.$;var Do={apply:function(w){for(var d=this,O=d._private.cy.collection(),N=0;N<w.length;N++){var L=w[N],tt=d.getContextMeta(L);if(!tt.empty){var ht=d.getContextStyle(tt),ot=d.applyContextStyle(tt,ht,L);L._private.appliedInitStyle?d.updateTransitions(L,ot.diffProps):L._private.appliedInitStyle=!0,d.updateStyleHints(L)&&O.push(L)}}return O},getPropertiesDiff:function(w,d){var b=this,D=b._private.propDiffs=b._private.propDiffs||{},O=w+"-"+d,N=D[O];if(N)return N;for(var L=[],tt={},ht=0;ht<b.length;ht++){var ot=b[ht],Mt="t"===d[ht],Ot="t"===w[ht]!==Mt,jt=ot.mappedProperties.length>0;if(Ot||Mt&&jt){var Gt=void 0;Ot&&jt||Ot?Gt=ot.properties:jt&&(Gt=ot.mappedProperties);for(var Nt=0;Nt<Gt.length;Nt++){for(var Jt=Gt[Nt],oe=Jt.name,ae=!1,le=ht+1;le<b.length&&("t"!==d[le]||!(ae=null!=b[le].properties[Jt.name]));le++);!tt[oe]&&!ae&&(tt[oe]=!0,L.push(oe))}}}return D[O]=L,L},getContextMeta:function(w){for(var D,d=this,b="",O=w._private.styleCxtKey||"",N=0;N<d.length;N++){var L=d[N];b+=L.selector&&L.selector.matches(w)?"t":"f"}return D=d.getPropertiesDiff(O,b),w._private.styleCxtKey=b,{key:b,diffPropNames:D,empty:0===D.length}},getContextStyle:function(w){var d=w.key,D=this._private.contextStyles=this._private.contextStyles||{};if(D[d])return D[d];for(var O={_private:{key:d}},N=0;N<this.length;N++){var L=this[N];if("t"===d[N])for(var ht=0;ht<L.properties.length;ht++){var ot=L.properties[ht];O[ot.name]=ot}}return D[d]=O,O},applyContextStyle:function(w,d,b){for(var O=w.diffPropNames,N={},L=this.types,tt=0;tt<O.length;tt++){var ht=O[tt],ot=d[ht],mt=b.pstyle(ht);if(!ot){if(!mt)continue;ot=mt.bypass?{name:ht,deleteBypassed:!0}:{name:ht,delete:!0}}if(mt!==ot){if(ot.mapped===L.fn&&null!=mt&&null!=mt.mapping&&mt.mapping.value===ot.value){var Mt=mt.mapping;if((Mt.fnValue=ot.value(b))===Mt.prevFnValue)continue}var jt=N[ht]={prev:mt};this.applyParsedProperty(b,ot),jt.next=b.pstyle(ht),jt.next&&jt.next.bypass&&(jt.next=jt.next.bypassed)}}return{diffProps:N}},updateStyleHints:function(w){var D,d=w._private,b=this,O=b.propertyGroupKeys,N=function(nn,bn,Mr){return b.getPropertiesHash(nn,bn,Mr)},L=d.styleKey;if(w.removed())return!1;var nn,tt="nodes"===d.group,ht=w._private.style;D=Object.keys(ht);for(var ot=0;ot<O.length;ot++)d.styleKeys[O[ot]]=[Ze,Ie];for(var Mt=function(nn,bn){return d.styleKeys[bn][0]=ni(nn,d.styleKeys[bn][0])},Ot=function(nn,bn){return d.styleKeys[bn][1]=ii(nn,d.styleKeys[bn][1])},jt=function(nn,bn){Mt(nn,bn),Ot(nn,bn)},Gt=function(nn,bn){for(var Mr=0;Mr<nn.length;Mr++){var kr=nn.charCodeAt(Mr);Mt(kr,bn),Ot(kr,bn)}},oe=0;oe<D.length;oe++){var ae=D[oe],le=ht[ae];if(null!=le){var xe=this.properties[ae],Ve=xe.type,He=xe.groupKey,ge=void 0;null!=xe.hashOverride?ge=xe.hashOverride(w,le):null!=le.pfValue&&(ge=le.pfValue);var ze=null==xe.enums?le.value:null,Me=null!=ge,Ne=le.units;!Ve.number||!Me&&null==ze||Ve.multiple?Gt(le.strValue,He):(jt(-128<(nn=Me?ge:ze)&&nn<128&&Math.floor(nn)!==nn?2e9-(1024*nn|0):nn,He),!Me&&null!=Ne&&Gt(Ne,He))}}for(var Be=[Ze,Ie],wi=0;wi<O.length;wi++){var bi=d.styleKeys[O[wi]];Be[0]=ni(bi[0],Be[0]),Be[1]=ii(bi[1],Be[1])}d.styleKey=function(d,b){return 2097152*d+b}(Be[0],Be[1]);var pi=d.styleKeys;d.labelDimsKey=vi(pi.labelDimensions);var yi=N(w,["label"],pi.labelDimensions);if(d.labelKey=vi(yi),d.labelStyleKey=vi(_i(pi.commonLabel,yi)),!tt){var Fi=N(w,["source-label"],pi.labelDimensions);d.sourceLabelKey=vi(Fi),d.sourceLabelStyleKey=vi(_i(pi.commonLabel,Fi));var Ai=N(w,["target-label"],pi.labelDimensions);d.targetLabelKey=vi(Ai),d.targetLabelStyleKey=vi(_i(pi.commonLabel,Ai))}if(tt){var li=d.styleKeys,xi=li.pie,Ni=[li.nodeBody,li.nodeBorder,li.backgroundImage,li.compound,xi].filter(function($i){return null!=$i}).reduce(_i,[Ze,Ie]);d.nodeKey=vi(Ni),d.hasPie=null!=xi&&xi[0]!==Ze&&xi[1]!==Ie}return L!==d.styleKey},clearStyleHints:function(w){var d=w._private;d.styleCxtKey="",d.styleKeys={},d.styleKey=null,d.labelKey=null,d.labelStyleKey=null,d.sourceLabelKey=null,d.sourceLabelStyleKey=null,d.targetLabelKey=null,d.targetLabelStyleKey=null,d.nodeKey=null,d.hasPie=null},applyParsedProperty:function(w,d){var N,b=this,D=d,O=w._private.style,L=b.types,tt=b.properties[D.name].type,ht=D.bypass,ot=O[D.name],mt=ot&&ot.bypass,Mt=w._private,Ot="mapping",jt=function(Wi){return null==Wi?null:null!=Wi.pfValue?Wi.pfValue:Wi.value},Gt=function(){var Wi=jt(ot),Fe=jt(D);b.checkTriggers(w,D.name,Wi,Fe)};if(D&&"pie"===D.name.substr(0,3)&&Re("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===d.name&&w.isEdge()&&("bezier"!==d.value&&w.isLoop()||"haystack"===d.value&&(w.source().isParent()||w.target().isParent()))&&(D=d=this.parse(d.name,"bezier",ht)),D.delete)return O[D.name]=void 0,Gt(),!0;if(D.deleteBypassed)return ot?!!ot.bypass&&(ot.bypassed=void 0,Gt(),!0):(Gt(),!0);if(D.deleteBypass)return ot?!!ot.bypass&&(O[D.name]=ot.bypassed,Gt(),!0):(Gt(),!0);var Nt=function(){Re("Do not assign mappings to elements without corresponding data (i.e. ele `"+w.id()+"` has no mapping for property `"+D.name+"` with data field `"+D.field+"`); try a `["+D.field+"]` selector to limit scope to elements with `"+D.field+"` defined")};switch(D.mapped){case L.mapData:for(var Jt=D.field.split("."),oe=Mt.data,ae=0;ae<Jt.length&&oe;ae++)oe=oe[Jt[ae]];if(null==oe)return Nt(),!1;var xe;if(!St(oe))return Re("Do not use continuous mappers without specifying numeric data (i.e. `"+D.field+": "+oe+"` for `"+w.id()+"` is non-numeric)"),!1;var Ve=D.fieldMax-D.fieldMin;if((xe=0===Ve?0:(oe-D.fieldMin)/Ve)<0?xe=0:xe>1&&(xe=1),tt.color){var He=D.valueMin[0],ze=D.valueMin[1],Me=D.valueMax[1],Ye=D.valueMin[2],Ue=D.valueMax[2],Ne=null==D.valueMin[3]?1:D.valueMin[3],Je=null==D.valueMax[3]?1:D.valueMax[3],Be=[Math.round(He+(D.valueMax[0]-He)*xe),Math.round(ze+(Me-ze)*xe),Math.round(Ye+(Ue-Ye)*xe),Math.round(Ne+(Je-Ne)*xe)];N={bypass:D.bypass,name:D.name,value:Be,strValue:"rgb("+Be[0]+", "+Be[1]+", "+Be[2]+")"}}else{if(!tt.number)return!1;N=this.parse(D.name,D.valueMin+(D.valueMax-D.valueMin)*xe,D.bypass,Ot)}if(!N)return Nt(),!1;N.mapping=D,D=N;break;case L.data:for(var fi=D.field.split("."),bi=Mt.data,pi=0;pi<fi.length&&bi;pi++)bi=bi[fi[pi]];if(null!=bi&&(N=this.parse(D.name,bi,D.bypass,Ot)),!N)return Nt(),!1;N.mapping=D,D=N;break;case L.fn:var Ai=null!=D.fnValue?D.fnValue:(0,D.value)(w);if(D.prevFnValue=Ai,null==Ai)return Re("Custom function mappers may not return null (i.e. `"+D.name+"` for ele `"+w.id()+"` is null)"),!1;if(!(N=this.parse(D.name,Ai,D.bypass,Ot)))return Re("Custom function mappers may not return invalid values for the property type (i.e. `"+D.name+"` for ele `"+w.id()+"` is invalid)"),!1;N.mapping=Qe(D),D=N;break;case void 0:break;default:return!1}return ht?(D.bypassed=mt?ot.bypassed:ot,O[D.name]=D):mt?ot.bypassed=D:O[D.name]=D,Gt(),!0},cleanElements:function(w,d){for(var b=0;b<w.length;b++){var D=w[b];if(this.clearStyleHints(D),D.dirtyCompoundBoundsCache(),D.dirtyBoundingBoxCache(),d)for(var O=D._private.style,N=Object.keys(O),L=0;L<N.length;L++){var tt=N[L],ht=O[tt];null!=ht&&(ht.bypass?ht.bypassed=null:O[tt]=null)}else D._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(w,d){var b=this,D=w._private,O=w.pstyle("transition-property").value,N=w.pstyle("transition-duration").pfValue,L=w.pstyle("transition-delay").pfValue;if(O.length>0&&N>0){for(var tt={},ht=!1,ot=0;ot<O.length;ot++){var mt=O[ot],Mt=w.pstyle(mt),Ot=d[mt];if(Ot){var Gt=Ot.prev,Nt=null!=Ot.next?Ot.next:Mt,Jt=!1,oe=void 0;!Gt||(St(Gt.pfValue)&&St(Nt.pfValue)?oe=Gt.pfValue+1e-6*(Jt=Nt.pfValue-Gt.pfValue):St(Gt.value)&&St(Nt.value)?oe=Gt.value+1e-6*(Jt=Nt.value-Gt.value):Ct(Gt.value)&&Ct(Nt.value)&&(Jt=Gt.value[0]!==Nt.value[0]||Gt.value[1]!==Nt.value[1]||Gt.value[2]!==Nt.value[2],oe=Gt.strValue),Jt&&(tt[mt]=Nt.strValue,this.applyBypass(w,mt,oe),ht=!0))}}if(!ht)return;D.transitioning=!0,new fp(function(le){L>0?w.delayAnimation(L).play().promise().then(le):le()}).then(function(){return w.animation({style:tt,duration:N,easing:w.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){b.removeBypasses(w,O),w.emitAndNotify("style"),D.transitioning=!1})}else D.transitioning&&(this.removeBypasses(w,O),w.emitAndNotify("style"),D.transitioning=!1)},checkTrigger:function(w,d,b,D,O,N){var L=this.properties[d],tt=O(L);null!=tt&&tt(b,D)&&N(L)},checkZOrderTrigger:function(w,d,b,D){var O=this;this.checkTrigger(w,d,b,D,function(N){return N.triggersZOrder},function(){O._private.cy.notify("zorder",w)})},checkBoundsTrigger:function(w,d,b,D){this.checkTrigger(w,d,b,D,function(O){return O.triggersBounds},function(O){w.dirtyCompoundBoundsCache(),w.dirtyBoundingBoxCache(),"curve-style"===d&&("bezier"===b||"bezier"===D)&&O.triggersBoundsOfParallelBeziers&&w.parallelEdges().forEach(function(N){N.isBundledBezier()&&N.dirtyBoundingBoxCache()})})},checkTriggers:function(w,d,b,D){w.dirtyStyleCache(),this.checkZOrderTrigger(w,d,b,D),this.checkBoundsTrigger(w,d,b,D)}},er={applyBypass:function(w,d,b,D){var N=[];if("*"===d||"**"===d){if(void 0!==b)for(var tt=0;tt<this.properties.length;tt++){var mt=this.parse(this.properties[tt].name,b,!0);mt&&N.push(mt)}}else if(lt(d)){var Mt=this.parse(d,b,!0);Mt&&N.push(Mt)}else{if(!kt(d))return!1;var Ot=d;D=b;for(var jt=Object.keys(Ot),Gt=0;Gt<jt.length;Gt++){var Nt=jt[Gt],Jt=Ot[Nt];if(void 0===Jt&&(Jt=Ot[wt(Nt)]),void 0!==Jt){var oe=this.parse(Nt,Jt,!0);oe&&N.push(oe)}}}if(0===N.length)return!1;for(var ae=!1,le=0;le<w.length;le++){for(var xe=w[le],Ve={},He=void 0,ge=0;ge<N.length;ge++){var ze=N[ge];if(D){var Me=xe.pstyle(ze.name);He=Ve[ze.name]={prev:Me}}ae=this.applyParsedProperty(xe,Qe(ze))||ae,D&&(He.next=xe.pstyle(ze.name))}ae&&this.updateStyleHints(xe),D&&this.updateTransitions(xe,Ve,!0)}return ae},overrideBypass:function(w,d,b){d=yt(d);for(var D=0;D<w.length;D++){var O=w[D],N=O._private.style[d],L=this.properties[d].type,tt=L.color,ht=L.mutiple,ot=N?null!=N.pfValue?N.pfValue:N.value:null;N&&N.bypass?(N.value=b,null!=N.pfValue&&(N.pfValue=b),N.strValue=tt?"rgb("+b.join(",")+")":ht?b.join(" "):""+b,this.updateStyleHints(O)):this.applyBypass(O,d,b),this.checkTriggers(O,d,ot,b)}},removeAllBypasses:function(w,d){return this.removeBypasses(w,this.propertyNames,d)},removeBypasses:function(w,d,b){for(var O=0;O<w.length;O++){for(var N=w[O],L={},tt=0;tt<d.length;tt++){var ht=d[tt],ot=this.properties[ht],mt=N.pstyle(ot.name);if(mt&&mt.bypass){var Ot=this.parse(ht,"",!0),jt=L[ot.name]={prev:mt};this.applyParsedProperty(N,Ot),jt.next=N.pstyle(ot.name)}}this.updateStyleHints(N),b&&this.updateTransitions(N,L,!0)}}},Pf={getEmSizeInPixels:function(){var w=this.containerCss("font-size");return null!=w?parseFloat(w):1},containerCss:function(w){var b=this._private.cy.container();if(V&&b&&V.getComputedStyle)return V.getComputedStyle(b).getPropertyValue(w)}},Ws={getRenderedStyle:function(w,d){return d?this.getStylePropertyValue(w,d,!0):this.getRawStyle(w,!0)},getRawStyle:function(w,d){var b=this;if(w=w[0]){for(var D={},O=0;O<b.properties.length;O++){var N=b.properties[O],L=b.getStylePropertyValue(w,N.name,d);null!=L&&(D[N.name]=L,D[wt(N.name)]=L)}return D}},getIndexedStyle:function(w,d,b,D){var O=w.pstyle(d)[b][D];return null!=O?O:w.cy().style().getDefaultProperty(d)[b][0]},getStylePropertyValue:function(w,d,b){if(w=w[0]){var O=this.properties[d];O.alias&&(O=O.pointsTo);var N=O.type,L=w.pstyle(O.name);if(L){var tt=L.value,ht=L.units,ot=L.strValue;if(b&&N.number&&null!=tt&&St(tt)){var mt=w.cy().zoom(),Mt=function(Jt){return Jt*mt},Ot=function(Jt,oe){return Mt(Jt)+oe},jt=Ct(tt);return(jt?ht.every(function(Nt){return null!=Nt}):null!=ht)?jt?tt.map(function(Nt,Jt){return Ot(Nt,ht[Jt])}).join(" "):Ot(tt,ht):jt?tt.map(function(Nt){return lt(Nt)?Nt:""+Mt(Nt)}).join(" "):""+Mt(tt)}if(null!=ot)return ot}return null}},getAnimationStartStyle:function(w,d){for(var b={},D=0;D<d.length;D++){var N=d[D].name,L=w.pstyle(N);void 0!==L&&(L=kt(L)?this.parse(N,L.strValue):this.parse(N,L)),L&&(b[N]=L)}return b},getPropsList:function(w){var b=[],D=w,O=this.properties;if(D)for(var N=Object.keys(D),L=0;L<N.length;L++){var tt=N[L],ht=D[tt],ot=O[tt]||O[yt(tt)],mt=this.parse(ot.name,ht);mt&&b.push(mt)}return b},getNonDefaultPropertiesHash:function(w,d,b){var N,L,tt,ht,ot,D=b.slice();for(ht=0;ht<d.length;ht++)if(null!=(N=w.pstyle(d[ht],!1)))if(null!=N.pfValue)D[0]=ni(tt,D[0]),D[1]=ii(tt,D[1]);else for(L=N.strValue,ot=0;ot<L.length;ot++)tt=L.charCodeAt(ot),D[0]=ni(tt,D[0]),D[1]=ii(tt,D[1]);return D}};Ws.getPropertiesHash=Ws.getNonDefaultPropertiesHash;var Oi={appendFromJson:function(w){for(var d=this,b=0;b<w.length;b++){var D=w[b],O=D.selector,N=D.style||D.css,L=Object.keys(N);d.selector(O);for(var tt=0;tt<L.length;tt++){var ht=L[tt];d.css(ht,N[ht])}}return d},fromJson:function(w){var d=this;return d.resetToDefault(),d.appendFromJson(w),d},json:function(){for(var w=[],d=this.defaultLength;d<this.length;d++){for(var b=this[d],D=b.selector,O=b.properties,N={},L=0;L<O.length;L++){var tt=O[L];N[tt.name]=tt.strValue}w.push({selector:D?D.toString():"core",style:N})}return w}},no={appendFromString:function(w){var O,N,L,b=this,D=""+w;function tt(){D=D.length>O.length?D.substr(O.length):""}function ht(){N=N.length>L.length?N.substr(L.length):""}for(D=D.replace(/[/][*](\s|.)+?[*][/]/g,"");!D.match(/^\s*$/);){var mt=D.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!mt){Re("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+D);break}O=mt[0];var Mt=mt[1];if("core"!==Mt&&new Cf(Mt).invalid)Re("Skipping parsing of block: Invalid selector found in string stylesheet: "+Mt),tt();else{var jt=mt[2],Gt=!1;N=jt;for(var Nt=[];!N.match(/^\s*$/);){var oe=N.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!oe){Re("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+jt),Gt=!0;break}L=oe[0];var ae=oe[1],le=oe[2];this.properties[ae]?b.parse(ae,le)?(Nt.push({name:ae,val:le}),ht()):(Re("Skipping property: Invalid property definition in: "+L),ht()):(Re("Skipping property: Invalid property name in: "+L),ht())}if(Gt){tt();break}b.selector(Mt);for(var He=0;He<Nt.length;He++){var ge=Nt[He];b.css(ge.name,ge.val)}tt()}}return b},fromString:function(w){var d=this;return d.resetToDefault(),d.appendFromString(w),d}},nr={};(function(){var w=At,N=function(Ni){return"^"+Ni+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},L=function(Ni){var $i=w+"|\\w+|rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+Ni+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+w+")\\s*\\,\\s*("+w+")\\s*,\\s*("+$i+")\\s*\\,\\s*("+$i+")\\)$"},tt=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];nr.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:N("data")},layoutData:{mapping:!0,regex:N("layoutData")},scratch:{mapping:!0,regex:N("scratch")},mapData:{mapping:!0,regex:L("mapData")},mapLayoutData:{mapping:!0,regex:L("mapLayoutData")},mapScratch:{mapping:!0,regex:L("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:tt,singleRegexMatchValue:!0},urls:{regexes:tt,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Ni,$i){switch(Ni.length){case 2:return"deg"!==$i[0]&&"rad"!==$i[0]&&"deg"!==$i[1]&&"rad"!==$i[1];case 1:return lt(Ni[0])||"deg"===$i[0]||"rad"===$i[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+w+")\\s*,\\s*("+w+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+w+")\\s*,\\s*("+w+")\\s*,\\s*("+w+")\\s*,\\s*("+w+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Ni){var $i=Ni.length;return 1===$i||2===$i||4===$i}}};var ht={zeroNonZero:function(Ni,$i){return(null==Ni||null==$i)&&Ni!==$i||0==Ni&&0!=$i||0!=Ni&&0==$i},any:function(Ni,$i){return Ni!=$i},emptyNonEmpty:function(Ni,$i){var nn=C(Ni),bn=C($i);return nn&&!bn||!nn&&bn}},ot=nr.types,mt=[{name:"label",type:ot.text,triggersBounds:ht.any,triggersZOrder:ht.emptyNonEmpty},{name:"text-rotation",type:ot.textRotation,triggersBounds:ht.any},{name:"text-margin-x",type:ot.bidirectionalSize,triggersBounds:ht.any},{name:"text-margin-y",type:ot.bidirectionalSize,triggersBounds:ht.any}],Mt=[{name:"source-label",type:ot.text,triggersBounds:ht.any},{name:"source-text-rotation",type:ot.textRotation,triggersBounds:ht.any},{name:"source-text-margin-x",type:ot.bidirectionalSize,triggersBounds:ht.any},{name:"source-text-margin-y",type:ot.bidirectionalSize,triggersBounds:ht.any},{name:"source-text-offset",type:ot.size,triggersBounds:ht.any}],Ot=[{name:"target-label",type:ot.text,triggersBounds:ht.any},{name:"target-text-rotation",type:ot.textRotation,triggersBounds:ht.any},{name:"target-text-margin-x",type:ot.bidirectionalSize,triggersBounds:ht.any},{name:"target-text-margin-y",type:ot.bidirectionalSize,triggersBounds:ht.any},{name:"target-text-offset",type:ot.size,triggersBounds:ht.any}],jt=[{name:"font-family",type:ot.fontFamily,triggersBounds:ht.any},{name:"font-style",type:ot.fontStyle,triggersBounds:ht.any},{name:"font-weight",type:ot.fontWeight,triggersBounds:ht.any},{name:"font-size",type:ot.size,triggersBounds:ht.any},{name:"text-transform",type:ot.textTransform,triggersBounds:ht.any},{name:"text-wrap",type:ot.textWrap,triggersBounds:ht.any},{name:"text-overflow-wrap",type:ot.textOverflowWrap,triggersBounds:ht.any},{name:"text-max-width",type:ot.size,triggersBounds:ht.any},{name:"text-outline-width",type:ot.size,triggersBounds:ht.any},{name:"line-height",type:ot.positiveNumber,triggersBounds:ht.any}],Gt=[{name:"text-valign",type:ot.valign,triggersBounds:ht.any},{name:"text-halign",type:ot.halign,triggersBounds:ht.any},{name:"color",type:ot.color},{name:"text-outline-color",type:ot.color},{name:"text-outline-opacity",type:ot.zeroOneNumber},{name:"text-background-color",type:ot.color},{name:"text-background-opacity",type:ot.zeroOneNumber},{name:"text-background-padding",type:ot.size,triggersBounds:ht.any},{name:"text-border-opacity",type:ot.zeroOneNumber},{name:"text-border-color",type:ot.color},{name:"text-border-width",type:ot.size,triggersBounds:ht.any},{name:"text-border-style",type:ot.borderStyle,triggersBounds:ht.any},{name:"text-background-shape",type:ot.textBackgroundShape,triggersBounds:ht.any},{name:"text-justification",type:ot.justification}],Nt=[{name:"events",type:ot.bool},{name:"text-events",type:ot.bool}],Jt=[{name:"display",type:ot.display,triggersZOrder:ht.any,triggersBounds:ht.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:ot.visibility,triggersZOrder:ht.any},{name:"opacity",type:ot.zeroOneNumber,triggersZOrder:ht.zeroNonZero},{name:"text-opacity",type:ot.zeroOneNumber},{name:"min-zoomed-font-size",type:ot.size},{name:"z-compound-depth",type:ot.zCompoundDepth,triggersZOrder:ht.any},{name:"z-index-compare",type:ot.zIndexCompare,triggersZOrder:ht.any},{name:"z-index",type:ot.nonNegativeInt,triggersZOrder:ht.any}],oe=[{name:"overlay-padding",type:ot.size,triggersBounds:ht.any},{name:"overlay-color",type:ot.color},{name:"overlay-opacity",type:ot.zeroOneNumber,triggersBounds:ht.zeroNonZero},{name:"overlay-shape",type:ot.overlayShape,triggersBounds:ht.any}],ae=[{name:"underlay-padding",type:ot.size,triggersBounds:ht.any},{name:"underlay-color",type:ot.color},{name:"underlay-opacity",type:ot.zeroOneNumber,triggersBounds:ht.zeroNonZero},{name:"underlay-shape",type:ot.overlayShape,triggersBounds:ht.any}],le=[{name:"transition-property",type:ot.propList},{name:"transition-duration",type:ot.time},{name:"transition-delay",type:ot.time},{name:"transition-timing-function",type:ot.easing}],xe=function(Ni,$i){return"label"===$i.value?-Ni.poolIndex():$i.pfValue},Ve=[{name:"height",type:ot.nodeSize,triggersBounds:ht.any,hashOverride:xe},{name:"width",type:ot.nodeSize,triggersBounds:ht.any,hashOverride:xe},{name:"shape",type:ot.nodeShape,triggersBounds:ht.any},{name:"shape-polygon-points",type:ot.polygonPointList,triggersBounds:ht.any},{name:"background-color",type:ot.color},{name:"background-fill",type:ot.fill},{name:"background-opacity",type:ot.zeroOneNumber},{name:"background-blacken",type:ot.nOneOneNumber},{name:"background-gradient-stop-colors",type:ot.colors},{name:"background-gradient-stop-positions",type:ot.percentages},{name:"background-gradient-direction",type:ot.gradientDirection},{name:"padding",type:ot.sizeMaybePercent,triggersBounds:ht.any},{name:"padding-relative-to",type:ot.paddingRelativeTo,triggersBounds:ht.any},{name:"bounds-expansion",type:ot.boundsExpansion,triggersBounds:ht.any}],He=[{name:"border-color",type:ot.color},{name:"border-opacity",type:ot.zeroOneNumber},{name:"border-width",type:ot.size,triggersBounds:ht.any},{name:"border-style",type:ot.borderStyle}],ge=[{name:"background-image",type:ot.urls},{name:"background-image-crossorigin",type:ot.bgCrossOrigin},{name:"background-image-opacity",type:ot.zeroOneNumbers},{name:"background-image-containment",type:ot.bgContainment},{name:"background-image-smoothing",type:ot.bools},{name:"background-position-x",type:ot.bgPos},{name:"background-position-y",type:ot.bgPos},{name:"background-width-relative-to",type:ot.bgRelativeTo},{name:"background-height-relative-to",type:ot.bgRelativeTo},{name:"background-repeat",type:ot.bgRepeat},{name:"background-fit",type:ot.bgFit},{name:"background-clip",type:ot.bgClip},{name:"background-width",type:ot.bgWH},{name:"background-height",type:ot.bgWH},{name:"background-offset-x",type:ot.bgPos},{name:"background-offset-y",type:ot.bgPos}],ze=[{name:"position",type:ot.position,triggersBounds:ht.any},{name:"compound-sizing-wrt-labels",type:ot.compoundIncludeLabels,triggersBounds:ht.any},{name:"min-width",type:ot.size,triggersBounds:ht.any},{name:"min-width-bias-left",type:ot.sizeMaybePercent,triggersBounds:ht.any},{name:"min-width-bias-right",type:ot.sizeMaybePercent,triggersBounds:ht.any},{name:"min-height",type:ot.size,triggersBounds:ht.any},{name:"min-height-bias-top",type:ot.sizeMaybePercent,triggersBounds:ht.any},{name:"min-height-bias-bottom",type:ot.sizeMaybePercent,triggersBounds:ht.any}],Me=[{name:"line-style",type:ot.lineStyle},{name:"line-color",type:ot.color},{name:"line-fill",type:ot.fill},{name:"line-cap",type:ot.lineCap},{name:"line-opacity",type:ot.zeroOneNumber},{name:"line-dash-pattern",type:ot.numbers},{name:"line-dash-offset",type:ot.number},{name:"line-gradient-stop-colors",type:ot.colors},{name:"line-gradient-stop-positions",type:ot.percentages},{name:"curve-style",type:ot.curveStyle,triggersBounds:ht.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:ot.zeroOneNumber,triggersBounds:ht.any},{name:"source-endpoint",type:ot.edgeEndpoint,triggersBounds:ht.any},{name:"target-endpoint",type:ot.edgeEndpoint,triggersBounds:ht.any},{name:"control-point-step-size",type:ot.size,triggersBounds:ht.any},{name:"control-point-distances",type:ot.bidirectionalSizes,triggersBounds:ht.any},{name:"control-point-weights",type:ot.numbers,triggersBounds:ht.any},{name:"segment-distances",type:ot.bidirectionalSizes,triggersBounds:ht.any},{name:"segment-weights",type:ot.numbers,triggersBounds:ht.any},{name:"taxi-turn",type:ot.bidirectionalSizeMaybePercent,triggersBounds:ht.any},{name:"taxi-turn-min-distance",type:ot.size,triggersBounds:ht.any},{name:"taxi-direction",type:ot.axisDirection,triggersBounds:ht.any},{name:"edge-distances",type:ot.edgeDistances,triggersBounds:ht.any},{name:"arrow-scale",type:ot.positiveNumber,triggersBounds:ht.any},{name:"loop-direction",type:ot.angle,triggersBounds:ht.any},{name:"loop-sweep",type:ot.angle,triggersBounds:ht.any},{name:"source-distance-from-node",type:ot.size,triggersBounds:ht.any},{name:"target-distance-from-node",type:ot.size,triggersBounds:ht.any}],Ye=[{name:"ghost",type:ot.bool,triggersBounds:ht.any},{name:"ghost-offset-x",type:ot.bidirectionalSize,triggersBounds:ht.any},{name:"ghost-offset-y",type:ot.bidirectionalSize,triggersBounds:ht.any},{name:"ghost-opacity",type:ot.zeroOneNumber}],Ue=[{name:"selection-box-color",type:ot.color},{name:"selection-box-opacity",type:ot.zeroOneNumber},{name:"selection-box-border-color",type:ot.color},{name:"selection-box-border-width",type:ot.size},{name:"active-bg-color",type:ot.color},{name:"active-bg-opacity",type:ot.zeroOneNumber},{name:"active-bg-size",type:ot.size},{name:"outside-texture-bg-color",type:ot.color},{name:"outside-texture-bg-opacity",type:ot.zeroOneNumber}],Ne=[];nr.pieBackgroundN=16,Ne.push({name:"pie-size",type:ot.sizeMaybePercent});for(var Je=1;Je<=nr.pieBackgroundN;Je++)Ne.push({name:"pie-"+Je+"-background-color",type:ot.color}),Ne.push({name:"pie-"+Je+"-background-size",type:ot.percent}),Ne.push({name:"pie-"+Je+"-background-opacity",type:ot.zeroOneNumber});var Be=[],wi=nr.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:ot.arrowShape,triggersBounds:ht.any},{name:"arrow-color",type:ot.color},{name:"arrow-fill",type:ot.arrowFill}].forEach(function(xi){wi.forEach(function(Ni){Be.push({name:Ni+"-"+xi.name,type:xi.type,triggersBounds:xi.triggersBounds})})},{});var fi=nr.properties=[].concat(Nt,le,Jt,oe,ae,Ye,Gt,jt,mt,Mt,Ot,Ve,He,ge,Ne,ze,Me,Be,Ue),bi=nr.propertyGroups={behavior:Nt,transition:le,visibility:Jt,overlay:oe,underlay:ae,ghost:Ye,commonLabel:Gt,labelDimensions:jt,mainLabel:mt,sourceLabel:Mt,targetLabel:Ot,nodeBody:Ve,nodeBorder:He,backgroundImage:ge,pie:Ne,compound:ze,edgeLine:Me,edgeArrow:Be,core:Ue},pi=nr.propertyGroupNames={};(nr.propertyGroupKeys=Object.keys(bi)).forEach(function(xi){pi[xi]=bi[xi].map(function(Ni){return Ni.name}),bi[xi].forEach(function(Ni){return Ni.groupKey=xi})});var Fi=nr.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];nr.propertyNames=fi.map(function(xi){return xi.name});for(var Ai=0;Ai<fi.length;Ai++){var li=fi[Ai];fi[li.name]=li}for(var Wi=0;Wi<Fi.length;Wi++){var Fe=Fi[Wi],Ui={name:Fe.name,alias:!0,pointsTo:fi[Fe.pointsTo]};fi.push(Ui),fi[Fe.name]=Ui}})(),nr.getDefaultProperty=function(w){return this.getDefaultProperties()[w]},nr.getDefaultProperties=function(){var w=this._private;if(null!=w.defaultProperties)return w.defaultProperties;for(var d=Ht({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(ht,ot){for(var mt=1;mt<=nr.pieBackgroundN;mt++)ht[ot.name.replace("{{i}}",mt)]=ot.value;return ht},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(ht,ot){return nr.arrowPrefixes.forEach(function(mt){ht[mt+"-"+ot.name]=ot.value}),ht},{})),b={},D=0;D<this.properties.length;D++){var O=this.properties[D];if(!O.pointsTo){var N=O.name,tt=this.parse(N,d[N]);b[N]=tt}}return w.defaultProperties=b,w.defaultProperties},nr.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Ys={parse:function(w,d,b,D){var O=this;if(_t(d))return O.parseImplWarn(w,d,b,D);var mt,ht=Ge(w,""+d,b?"t":"f","mapping"===D||!0===D||!1===D||null==D?"dontcare":D),ot=O.propCache=O.propCache||[];return(mt=ot[ht])||(mt=ot[ht]=O.parseImplWarn(w,d,b,D)),(b||"mapping"===D)&&(mt=Qe(mt))&&(mt.value=Qe(mt.value)),mt},parseImplWarn:function(w,d,b,D){var O=this.parseImpl(w,d,b,D);return!O&&null!=d&&Re("The style property `".concat(w,": ").concat(d,"` is invalid")),O&&("width"===O.name||"height"===O.name)&&"label"===d&&Re("The style value of `label` is deprecated for `"+O.name+"`"),O}};Ys.parseImpl=function(w,d,b,D){var O=this;w=yt(w);var N=O.properties[w],L=d,tt=O.types;if(!N||void 0===d)return null;N.alias&&(w=(N=N.pointsTo).name);var ht=lt(d);ht&&(d=d.trim());var mt,Mt,ot=N.type;if(!ot)return null;if(b&&(""===d||null===d))return{name:w,value:d,bypass:!0,deleteBypass:!0};if(_t(d))return{name:w,value:d,strValue:"fn",mapped:tt.fn,bypass:b};if(!(!ht||D||d.length<7||"a"!==d[1])){if(d.length>=7&&"d"===d[0]&&(mt=new RegExp(tt.data.regex).exec(d)))return!b&&{name:w,value:mt,strValue:""+d,mapped:tt.data,field:mt[1],bypass:b};if(d.length>=10&&"m"===d[0]&&(Mt=new RegExp(tt.mapData.regex).exec(d))){if(b||ot.multiple)return!1;var jt=tt.mapData;if(!ot.color&&!ot.number)return!1;var Gt=this.parse(w,Mt[4]);if(!Gt||Gt.mapped)return!1;var Nt=this.parse(w,Mt[5]);if(!Nt||Nt.mapped)return!1;if(Gt.pfValue===Nt.pfValue||Gt.strValue===Nt.strValue)return Re("`"+w+": "+d+"` is not a valid mapper because the output range is zero; converting to `"+w+": "+Gt.strValue+"`"),this.parse(w,Gt.strValue);if(ot.color){var Jt=Gt.value,oe=Nt.value;if(!(Jt[0]!==oe[0]||Jt[1]!==oe[1]||Jt[2]!==oe[2]||Jt[3]!==oe[3]&&(null!=Jt[3]&&1!==Jt[3]||null!=oe[3]&&1!==oe[3])))return!1}return{name:w,value:Mt,strValue:""+d,mapped:jt,field:Mt[1],fieldMin:parseFloat(Mt[2]),fieldMax:parseFloat(Mt[3]),valueMin:Gt.value,valueMax:Nt.value,bypass:b}}}if(ot.multiple&&"multiple"!==D){var le;if(le=ht?d.split(/\s+/):Ct(d)?d:[d],ot.evenMultiple&&le.length%2!=0)return null;for(var xe=[],Ve=[],He=[],ge="",ze=!1,Me=0;Me<le.length;Me++){var Ye=O.parse(w,le[Me],b,"multiple");ze=ze||lt(Ye.value),xe.push(Ye.value),He.push(null!=Ye.pfValue?Ye.pfValue:Ye.value),Ve.push(Ye.units),ge+=(Me>0?" ":"")+Ye.strValue}return ot.validate&&!ot.validate(xe,Ve)?null:ot.singleEnum&&ze?1===xe.length&&lt(xe[0])?{name:w,value:xe[0],strValue:xe[0],bypass:b}:null:{name:w,value:xe,pfValue:He,strValue:ge,bypass:b,units:Ve}}var Ue=function(){for(var $i=0;$i<ot.enums.length;$i++)if(ot.enums[$i]===d)return{name:w,value:d,strValue:""+d,bypass:b};return null};if(ot.number){var Ne,Je="px";if(ot.units&&(Ne=ot.units),ot.implicitUnits&&(Je=ot.implicitUnits),!ot.unitless)if(ht){var Be="px|em"+(ot.allowPercent?"|\\%":"");Ne&&(Be=Ne);var wi=d.match("^("+At+")("+Be+")?$");wi&&(d=wi[1],Ne=wi[2]||Je)}else(!Ne||ot.implicitUnits)&&(Ne=Je);if(d=parseFloat(d),isNaN(d)&&void 0===ot.enums)return null;if(isNaN(d)&&void 0!==ot.enums)return d=L,Ue();if(ot.integer&&!function(d){return St(d)&&Math.floor(d)===d}(d)||void 0!==ot.min&&(d<ot.min||ot.strictMin&&d===ot.min)||void 0!==ot.max&&(d>ot.max||ot.strictMax&&d===ot.max))return null;var fi={name:w,value:d,strValue:""+d+(Ne||""),units:Ne,bypass:b};return fi.pfValue=ot.unitless||"px"!==Ne&&"em"!==Ne?d:"px"!==Ne&&Ne?this.getEmSizeInPixels()*d:d,("ms"===Ne||"s"===Ne)&&(fi.pfValue="ms"===Ne?d:1e3*d),("deg"===Ne||"rad"===Ne)&&(fi.pfValue="rad"===Ne?d:function(d){return Math.PI*d/180}(d)),"%"===Ne&&(fi.pfValue=d/100),fi}if(ot.propList){var bi=[],pi=""+d;if("none"!==pi){for(var yi=pi.split(/\s*,\s*|\s+/),Fi=0;Fi<yi.length;Fi++){var Ai=yi[Fi].trim();O.properties[Ai]?bi.push(Ai):Re("`"+Ai+"` is not a valid property name")}if(0===bi.length)return null}return{name:w,value:bi,strValue:0===bi.length?"none":bi.join(" "),bypass:b}}if(ot.color){var li=function(d){return(Ct(d)?d:null)||function(d){return Yt[d.toLowerCase()]}(d)||function(d){if((4===d.length||7===d.length)&&"#"===d[0]){var D,O,N,L=16;return 4===d.length?(D=parseInt(d[1]+d[1],L),O=parseInt(d[2]+d[2],L),N=parseInt(d[3]+d[3],L)):(D=parseInt(d[1]+d[2],L),O=parseInt(d[3]+d[4],L),N=parseInt(d[5]+d[6],L)),[D,O,N]}}(d)||function(d){var b,D=new RegExp("^rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(d);if(D){b=[];for(var O=[],N=1;N<=3;N++){var L=D[N];if("%"===L[L.length-1]&&(O[N]=!0),L=parseFloat(L),O[N]&&(L=L/100*255),L<0||L>255)return;b.push(Math.floor(L))}if((O[1]||O[2]||O[3])&&!(O[1]&&O[2]&&O[3]))return;var ot=D[4];if(void 0!==ot){if((ot=parseFloat(ot))<0||ot>1)return;b.push(ot)}}return b}(d)||function(d){var b,D,O,N,L,tt,ht,ot;function mt(Gt,Nt,Jt){return Jt<0&&(Jt+=1),Jt>1&&(Jt-=1),Jt<1/6?Gt+6*(Nt-Gt)*Jt:Jt<.5?Nt:Jt<2/3?Gt+(Nt-Gt)*(2/3-Jt)*6:Gt}var Mt=new RegExp("^hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(d);if(Mt){if((D=parseInt(Mt[1]))<0?D=(360- -1*D%360)%360:D>360&&(D%=360),D/=360,(O=parseFloat(Mt[2]))<0||O>100||(O/=100,(N=parseFloat(Mt[3]))<0||N>100)||(N/=100,void 0!==(L=Mt[4])&&((L=parseFloat(L))<0||L>1)))return;if(0===O)tt=ht=ot=Math.round(255*N);else{var Ot=N<.5?N*(1+O):N+O-N*O,jt=2*N-Ot;tt=Math.round(255*mt(jt,Ot,D+1/3)),ht=Math.round(255*mt(jt,Ot,D)),ot=Math.round(255*mt(jt,Ot,D-1/3))}b=[tt,ht,ot,L]}return b}(d)}(d);return li?{name:w,value:li,pfValue:li,strValue:"rgb("+li[0]+","+li[1]+","+li[2]+")",bypass:b}:null}if(ot.regex||ot.regexes){if(ot.enums){var Wi=Ue();if(Wi)return Wi}for(var Fe=ot.regexes?ot.regexes:[ot.regex],Gi=0;Gi<Fe.length;Gi++){var xi=new RegExp(Fe[Gi]).exec(d);if(xi)return{name:w,value:ot.singleRegexMatchValue?xi[1]:xi,strValue:""+d,bypass:b}}return null}return ot.string?{name:w,value:""+d,strValue:""+d,bypass:b}:ot.enums?Ue():null};var ts=function w(d){if(!(this instanceof w))return new w(d);M(d)?(this._private={cy:d,coreStyle:{}},this.length=0,this.resetToDefault()):$e("A style must have a core reference")},ho=ts.prototype;ho.instanceString=function(){return"style"},ho.clear=function(){for(var w=this._private,b=w.cy.elements(),D=0;D<this.length;D++)this[D]=void 0;return this.length=0,w.contextStyles={},w.propDiffs={},this.cleanElements(b,!0),b.forEach(function(O){var N=O[0]._private;N.styleDirty=!0,N.appliedInitStyle=!1}),this},ho.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},ho.core=function(w){return this._private.coreStyle[w]||this.getDefaultProperty(w)},ho.selector=function(w){var d="core"===w?null:new Cf(w),b=this.length++;return this[b]={selector:d,properties:[],mappedProperties:[],index:b},this},ho.css=function(){var w=this,d=arguments;if(1===d.length)for(var b=d[0],D=0;D<w.properties.length;D++){var O=w.properties[D],N=b[O.name];void 0===N&&(N=b[wt(O.name)]),void 0!==N&&this.cssRule(O.name,N)}else 2===d.length&&this.cssRule(d[0],d[1]);return this},ho.style=ho.css,ho.cssRule=function(w,d){var b=this.parse(w,d);if(b){var D=this.length-1;this[D].properties.push(b),this[D].properties[b.name]=b,b.name.match(/pie-(\d+)-background-size/)&&b.value&&(this._private.hasPie=!0),b.mapped&&this[D].mappedProperties.push(b),!this[D].selector&&(this._private.coreStyle[b.name]=b)}return this},ho.append=function(w){return S(w)?w.appendToStyle(this):Ct(w)?this.appendFromJson(w):lt(w)&&this.appendFromString(w),this},ts.fromJson=function(w,d){var b=new ts(w);return b.fromJson(d),b},ts.fromString=function(w,d){return new ts(w).fromString(d)},[Do,er,Pf,Ws,Oi,no,nr,Ys].forEach(function(w){Ht(ho,w)}),ts.types=ho.types,ts.properties=ho.properties,ts.propertyGroups=ho.propertyGroups,ts.propertyGroupNames=ho.propertyGroupNames,ts.propertyGroupKeys=ho.propertyGroupKeys;var Vs={style:function(d){return d&&this.setStyle(d).update(),this._private.style},setStyle:function(d){var b=this._private;return b.style=S(d)?d.generateStyle(this):Ct(d)?ts.fromJson(this,d):lt(d)?ts.fromString(this,d):ts(this),b.style},updateStyle:function(){this.mutableElements().updateStyle()}},Ec={autolock:function(d){return void 0===d?this._private.autolock:(this._private.autolock=!!d,this)},autoungrabify:function(d){return void 0===d?this._private.autoungrabify:(this._private.autoungrabify=!!d,this)},autounselectify:function(d){return void 0===d?this._private.autounselectify:(this._private.autounselectify=!!d,this)},selectionType:function(d){var b=this._private;return null==b.selectionType&&(b.selectionType="single"),void 0===d?b.selectionType:(("additive"===d||"single"===d)&&(b.selectionType=d),this)},panningEnabled:function(d){return void 0===d?this._private.panningEnabled:(this._private.panningEnabled=!!d,this)},userPanningEnabled:function(d){return void 0===d?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!d,this)},zoomingEnabled:function(d){return void 0===d?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!d,this)},userZoomingEnabled:function(d){return void 0===d?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!d,this)},boxSelectionEnabled:function(d){return void 0===d?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!d,this)},pan:function(){var D,O,N,L,tt,d=arguments,b=this._private.pan;switch(d.length){case 0:return b;case 1:if(lt(d[0]))return b[D=d[0]];if(kt(d[0])){if(!this._private.panningEnabled)return this;tt=(N=d[0]).y,St(L=N.x)&&(b.x=L),St(tt)&&(b.y=tt),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;O=d[1],("x"===(D=d[0])||"y"===D)&&St(O)&&(b[D]=O),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(d,b){var N,L,tt,ht,ot,D=arguments,O=this._private.pan;if(!this._private.panningEnabled)return this;switch(D.length){case 1:kt(d)&&(ot=(tt=D[0]).y,St(ht=tt.x)&&(O.x+=ht),St(ot)&&(O.y+=ot),this.emit("pan viewport"));break;case 2:L=b,("x"===(N=d)||"y"===N)&&St(L)&&(O[N]+=L),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(d,b){var D=this.getFitViewport(d,b);if(D){var O=this._private;O.zoom=D.zoom,O.pan=D.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(d,b){var D;if((St(d)&&void 0===b&&(b=d,d=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(lt(d)?d=this.$(d):!function(d){return kt(d)&&St(d.x1)&&St(d.x2)&&St(d.y1)&&St(d.y2)}(d)?m(d)||(d=this.mutableElements()):((D={x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2}).w=D.x2-D.x1,D.h=D.y2-D.y1),!m(d)||!d.empty())){D=D||d.boundingBox();var ht,L=this.width(),tt=this.height();if(b=St(b)?b:0,!isNaN(L)&&!isNaN(tt)&&L>0&&tt>0&&!isNaN(D.w)&&!isNaN(D.h)&&D.w>0&&D.h>0)return{zoom:ht=(ht=(ht=Math.min((L-2*b)/D.w,(tt-2*b)/D.h))>this._private.maxZoom?this._private.maxZoom:ht)<this._private.minZoom?this._private.minZoom:ht,pan:{x:(L-ht*(D.x1+D.x2))/2,y:(tt-ht*(D.y1+D.y2))/2}}}},zoomRange:function(d,b){var D=this._private;if(null==b){var O=d;d=O.min,b=O.max}return St(d)&&St(b)&&d<=b?(D.minZoom=d,D.maxZoom=b):St(d)&&void 0===b&&d<=D.maxZoom?D.minZoom=d:St(b)&&void 0===d&&b>=D.minZoom&&(D.maxZoom=b),this},minZoom:function(d){return void 0===d?this._private.minZoom:this.zoomRange({min:d})},maxZoom:function(d){return void 0===d?this._private.maxZoom:this.zoomRange({max:d})},getZoomedViewport:function(d){var N,L,b=this._private,D=b.pan,O=b.zoom,tt=!1;return b.zoomingEnabled||(tt=!0),St(d)?L=d:kt(d)&&(L=d.level,null!=d.position?N=bm(d.position,O,D):null!=d.renderedPosition&&(N=d.renderedPosition),null!=N&&!b.panningEnabled&&(tt=!0)),L=(L=L>b.maxZoom?b.maxZoom:L)<b.minZoom?b.minZoom:L,!tt&&St(L)&&L!==O&&(null==N||St(N.x)&&St(N.y))?null!=N?{zoomed:!0,panned:!0,zoom:L,pan:{x:-L/O*(N.x-D.x)+N.x,y:-L/O*(N.y-D.y)+N.y}}:{zoomed:!0,panned:!1,zoom:L,pan:D}:null},zoom:function(d){if(void 0===d)return this._private.zoom;var b=this.getZoomedViewport(d),D=this._private;return null!=b&&b.zoomed?(D.zoom=b.zoom,b.panned&&(D.pan.x=b.pan.x,D.pan.y=b.pan.y),this.emit("zoom"+(b.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(d){var b=this._private,D=!0,O=!0,N=[],L=!1,tt=!1;if(!d)return this;if(St(d.zoom)||(D=!1),kt(d.pan)||(O=!1),!D&&!O)return this;if(D){var ht=d.zoom;ht<b.minZoom||ht>b.maxZoom||!b.zoomingEnabled?L=!0:(b.zoom=ht,N.push("zoom"))}if(O&&(!L||!d.cancelOnFailedZoom)&&b.panningEnabled){var ot=d.pan;St(ot.x)&&(b.pan.x=ot.x,tt=!1),St(ot.y)&&(b.pan.y=ot.y,tt=!1),tt||N.push("pan")}return N.length>0&&(N.push("viewport"),this.emit(N.join(" ")),this.notify("viewport")),this},center:function(d){var b=this.getCenterPan(d);return b&&(this._private.pan=b,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(d,b){if(this._private.panningEnabled){if(lt(d)){var D=d;d=this.mutableElements().filter(D)}else m(d)||(d=this.mutableElements());if(0!==d.length){var O=d.boundingBox(),N=this.width(),L=this.height();return{x:(N-(b=void 0===b?this._private.zoom:b)*(O.x1+O.x2))/2,y:(L-b*(O.y1+O.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var D,O,d=this._private,b=d.container;return d.sizeCache=d.sizeCache||(b?(D=V.getComputedStyle(b),{width:b.clientWidth-(O=function(L){return parseFloat(D.getPropertyValue(L))})("padding-left")-O("padding-right"),height:b.clientHeight-O("padding-top")-O("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var d=this._private.pan,b=this._private.zoom,D=this.renderedExtent(),O={x1:(D.x1-d.x)/b,x2:(D.x2-d.x)/b,y1:(D.y1-d.y)/b,y2:(D.y2-d.y)/b};return O.w=O.x2-O.x1,O.h=O.y2-O.y1,O},renderedExtent:function(){var d=this.width(),b=this.height();return{x1:0,y1:0,x2:d,y2:b,w:d,h:b}},multiClickDebounceTime:function(d){return d?(this._private.multiClickDebounceTime=d,this):this._private.multiClickDebounceTime}};Ec.centre=Ec.center,Ec.autolockNodes=Ec.autolock,Ec.autoungrabifyNodes=Ec.autoungrabify;var kc={data:Ao.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Ao.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Ao.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Ao.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};kc.attr=kc.data,kc.removeAttr=kc.removeData;var ha=function(d){var b=this,D=(d=Ht({},d)).container;D&&!u(D)&&u(D[0])&&(D=D[0]);var O=D?D._cyreg:null;(O=O||{})&&O.cy&&(O.cy.destroy(),O={});var N=O.readies=O.readies||[];D&&(D._cyreg=O),O.cy=b;var L=void 0!==V&&void 0!==D&&!d.headless,tt=d;tt.layout=Ht({name:L?"grid":"null"},tt.layout),tt.renderer=Ht({name:L?"canvas":"null"},tt.renderer);var ht=function(Gt,Nt,Jt){return void 0!==Nt?Nt:void 0!==Jt?Jt:Gt},ot=this._private={container:D,ready:!1,options:tt,elements:new xo(this),listeners:[],aniEles:new xo(this),data:tt.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:ht(!0,tt.zoomingEnabled),userZoomingEnabled:ht(!0,tt.userZoomingEnabled),panningEnabled:ht(!0,tt.panningEnabled),userPanningEnabled:ht(!0,tt.userPanningEnabled),boxSelectionEnabled:ht(!0,tt.boxSelectionEnabled),autolock:ht(!1,tt.autolock,tt.autolockNodes),autoungrabify:ht(!1,tt.autoungrabify,tt.autoungrabifyNodes),autounselectify:ht(!1,tt.autounselectify),styleEnabled:void 0===tt.styleEnabled?L:tt.styleEnabled,zoom:St(tt.zoom)?tt.zoom:1,pan:{x:kt(tt.pan)&&St(tt.pan.x)?tt.pan.x:0,y:kt(tt.pan)&&St(tt.pan.y)?tt.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:ht(250,tt.multiClickDebounceTime)};this.createEmitter(),this.selectionType(tt.selectionType),this.zoomRange({min:tt.minZoom,max:tt.maxZoom}),ot.styleEnabled&&b.setStyle([]);var Mt=Ht({},tt,tt.renderer);b.initRenderer(Mt),function(Gt,Nt){if(Gt.some(it))return fp.all(Gt).then(Nt);Nt(Gt)}([tt.style,tt.elements],function(jt){var Gt=jt[0],Nt=jt[1];ot.styleEnabled&&b.style().append(Gt),function(Gt,Nt,Jt){b.notifications(!1);var oe=b.mutableElements();oe.length>0&&oe.remove(),null!=Gt&&(kt(Gt)||Ct(Gt))&&b.add(Gt),b.one("layoutready",function(le){b.notifications(!0),b.emit(le),b.one("load",Nt),b.emitAndNotify("load")}).one("layoutstop",function(){b.one("done",Jt),b.emit("done")});var ae=Ht({},b._private.options.layout);ae.eles=b.elements(),b.layout(ae).run()}(Nt,function(){b.startAnimationLoop(),ot.ready=!0,_t(tt.ready)&&b.on("ready",tt.ready);for(var Jt=0;Jt<N.length;Jt++)b.on("ready",N[Jt]);O&&(O.readies=[]),b.emit("ready")},tt.done)})},$s=ha.prototype;Ht($s,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(d){return this.isReady()?this.emitter().emit("ready",[],d):this.on("ready",d),this},destroy:function(){var d=this;if(!d.destroyed())return d.stopAnimationLoop(),d.destroyRenderer(),this.emit("destroy"),d._private.destroyed=!0,d},hasElementWithId:function(d){return this._private.elements.hasElementWithId(d)},getElementById:function(d){return this._private.elements.getElementById(d)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(d){return this._private.elements.merge(d),this},removeFromPool:function(d){return this._private.elements.unmerge(d),this},container:function(){return this._private.container||null},mount:function(d){if(null!=d){var b=this,D=b._private,O=D.options;return!u(d)&&u(d[0])&&(d=d[0]),b.stopAnimationLoop(),b.destroyRenderer(),D.container=d,D.styleEnabled=!0,b.invalidateSize(),b.initRenderer(Ht({},O,O.renderer,{name:"null"===O.renderer.name?"canvas":O.renderer.name})),b.startAnimationLoop(),b.style(O.style),b.emit("mount"),b}},unmount:function(){var d=this;return d.stopAnimationLoop(),d.destroyRenderer(),d.initRenderer({name:"null"}),d.emit("unmount"),d},options:function(){return Qe(this._private.options)},json:function(d){var b=this,D=b._private,O=b.mutableElements();if(kt(d)){if(b.startBatch(),d.elements){var L={},tt=function(xe,Ve){for(var He=[],ge=[],ze=0;ze<xe.length;ze++){var Me=xe[ze];if(Me.data.id){var Ye=""+Me.data.id,Ue=b.getElementById(Ye);L[Ye]=!0,0!==Ue.length?ge.push({ele:Ue,json:Me}):(Ve&&(Me.group=Ve),He.push(Me))}else Re("cy.json() cannot handle elements without an ID attribute")}b.add(He);for(var Ne=0;Ne<ge.length;Ne++){var Je=ge[Ne];Je.ele.json(Je.json)}};if(Ct(d.elements))tt(d.elements);else for(var ht=["nodes","edges"],ot=0;ot<ht.length;ot++){var mt=ht[ot],Mt=d.elements[mt];Ct(Mt)&&tt(Mt,mt)}var Ot=b.collection();O.filter(function(le){return!L[le.id()]}).forEach(function(le){le.isParent()?Ot.merge(le):le.remove()}),Ot.forEach(function(le){return le.children().move({parent:null})}),Ot.forEach(function(le){return(xe=le,b.getElementById(xe.id())).remove();var xe})}d.style&&b.style(d.style),null!=d.zoom&&d.zoom!==D.zoom&&b.zoom(d.zoom),d.pan&&(d.pan.x!==D.pan.x||d.pan.y!==D.pan.y)&&b.pan(d.pan),d.data&&b.data(d.data);for(var jt=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],Gt=0;Gt<jt.length;Gt++){var Nt=jt[Gt];null!=d[Nt]&&b[Nt](d[Nt])}return b.endBatch(),this}var oe={};d?oe.elements=this.elements().map(function(le){return le.json()}):(oe.elements={},O.forEach(function(le){var xe=le.group();oe.elements[xe]||(oe.elements[xe]=[]),oe.elements[xe].push(le.json())})),this._private.styleEnabled&&(oe.style=b.style().json()),oe.data=Qe(b.data());var ae=D.options;return oe.zoomingEnabled=D.zoomingEnabled,oe.userZoomingEnabled=D.userZoomingEnabled,oe.zoom=D.zoom,oe.minZoom=D.minZoom,oe.maxZoom=D.maxZoom,oe.panningEnabled=D.panningEnabled,oe.userPanningEnabled=D.userPanningEnabled,oe.pan=Qe(D.pan),oe.boxSelectionEnabled=D.boxSelectionEnabled,oe.renderer=Qe(ae.renderer),oe.hideEdgesOnViewport=ae.hideEdgesOnViewport,oe.textureOnViewport=ae.textureOnViewport,oe.wheelSensitivity=ae.wheelSensitivity,oe.motionBlur=ae.motionBlur,oe.multiClickDebounceTime=ae.multiClickDebounceTime,oe}}),$s.$id=$s.getElementById,[Hh,pn,Tf,h1,Tv,F0,bd,Uh,Vs,Ec,kc].forEach(function(w){Ht($s,w)});var Gh={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(d,b){return!0},ready:void 0,stop:void 0,transform:function(d,b){return b}},th=function(d){return d.scratch("breadthfirst")},Iv=function(d,b){return d.scratch("breadthfirst",b)};function Rv(w){this.options=Ht({},Gh,w)}Rv.prototype.run=function(){var ot,w=this.options,d=w,b=w.cy,D=d.eles,O=D.nodes().filter(function(Pn){return!Pn.isParent()}),N=D,L=d.directed,tt=d.maximal||d.maximalAdjustments>0,ht=ss(d.boundingBox?d.boundingBox:{x1:0,y1:0,w:b.width(),h:b.height()});if(m(d.roots))ot=d.roots;else if(Ct(d.roots)){for(var mt=[],Mt=0;Mt<d.roots.length;Mt++){var jt=b.getElementById(d.roots[Mt]);mt.push(jt)}ot=b.collection(mt)}else if(lt(d.roots))ot=b.$(d.roots);else if(L)ot=O.roots();else{var Gt=D.components();ot=b.collection();for(var Nt=function(yn){var xr=Gt[yn],tr=xr.maxDegree(!1),On=xr.filter(function(hr){return hr.degree(!1)===tr});ot=ot.add(On)},Jt=0;Jt<Gt.length;Jt++)Nt(Jt)}var oe=[],ae={},le=function(yn,xr){null==oe[xr]&&(oe[xr]=[]);var tr=oe[xr].length;oe[xr].push(yn),Iv(yn,{index:tr,depth:xr})};N.bfs({roots:ot,directed:d.directed,visit:function(yn,xr,tr,On,hr){var To=yn[0],wo=To.id();le(To,hr),ae[wo]=!0}});for(var Ve=[],He=0;He<O.length;He++){var ge=O[He];ae[ge.id()]||Ve.push(ge)}var ze=function(yn){for(var xr=oe[yn],tr=0;tr<xr.length;tr++){var On=xr[tr];null!=On?Iv(On,{depth:yn,index:tr}):(xr.splice(tr,1),tr--)}},Me=function(){for(var yn=0;yn<oe.length;yn++)ze(yn)},Ye=function(yn,xr){for(var tr=th(yn),On=yn.incomers().filter(function(Pe){return Pe.isNode()&&D.has(Pe)}),hr=-1,To=yn.id(),wo=0;wo<On.length;wo++){var hi=th(On[wo]);hr=Math.max(hr,hi.depth)}return tr.depth<=hr&&(xr[To]?null:(function(yn,xr){var tr=th(yn);oe[tr.depth][tr.index]=null,le(yn,xr)}(yn,hr+1),xr[To]=!0,!0))};if(L&&tt){var Ue=[],Ne={},Je=function(yn){return Ue.push(yn)};for(O.forEach(function(Pn){return Ue.push(Pn)});Ue.length>0;){var wi=Ue.shift(),fi=Ye(wi,Ne);if(fi)wi.outgoers().filter(function(Pn){return Pn.isNode()&&D.has(Pn)}).forEach(Je);else if(null===fi){Re("Detected double maximal shift for node `"+wi.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}Me();var bi=0;if(d.avoidOverlap)for(var pi=0;pi<O.length;pi++){var Fi=O[pi].layoutDimensions(d);bi=Math.max(bi,Fi.w,Fi.h)}for(var Wi={},Fe=function(yn){if(Wi[yn.id()])return Wi[yn.id()];for(var xr=th(yn).depth,tr=yn.neighborhood(),On=0,hr=0,To=0;To<tr.length;To++){var wo=tr[To];if(!wo.isEdge()&&!wo.isParent()&&O.has(wo)){var to=th(wo);if(null!=to){var hi=to.index,Pe=to.depth;null!=hi&&null!=Pe&&Pe<xr&&(On+=hi/oe[Pe].length,hr++)}}}return On/=hr=Math.max(1,hr),0===hr&&(On=0),Wi[yn.id()]=On,On},Gi=function(yn,xr){var hr=Fe(yn)-Fe(xr);return 0===hr?Lt(yn.id(),xr.id()):hr},Ui=0;Ui<oe.length;Ui++)oe[Ui].sort(Gi),ze(Ui);for(var xi=[],Ni=0;Ni<Ve.length;Ni++)xi.push(Ve[Ni]);oe.unshift(xi),Me();for(var $i=0,nn=0;nn<oe.length;nn++)$i=Math.max(oe[nn].length,$i);var bn_x=ht.x1+ht.w/2,bn_y=ht.x1+ht.h/2,Mr=oe.reduce(function(Pn,yn){return Math.max(Pn,yn.length)},0);return D.nodes().layoutPositions(this,d,function(yn){var xr=th(yn),tr=xr.depth,On=xr.index,hr=oe[tr].length,To=Math.max(ht.w/((d.grid?Mr:hr)+1),bi),wo=Math.max(ht.h/(oe.length+1),bi),to=Math.min(ht.w/2/oe.length,ht.h/2/oe.length);if(to=Math.max(to,bi),d.circle){var Pe=to*tr+to-(oe.length>0&&oe[0].length<=3?to/2:0),Ri=2*Math.PI/oe[tr].length*On;return 0===tr&&1===oe[0].length&&(Pe=1),{x:bn_x+Pe*Math.cos(Ri),y:bn_y+Pe*Math.sin(Ri)}}return{x:bn_x+(On+1-(hr+1)/2)*To,y:(tr+1)*wo}}),this};var iw={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(d,b){return!0},ready:void 0,stop:void 0,transform:function(d,b){return b}};function _a(w){this.options=Ht({},iw,w)}_a.prototype.run=function(){var w=this.options,d=w,b=w.cy,D=d.eles,O=void 0!==d.counterclockwise?!d.counterclockwise:d.clockwise,N=D.nodes().not(":parent");d.sort&&(N=N.sort(d.sort));for(var mt,L=ss(d.boundingBox?d.boundingBox:{x1:0,y1:0,w:b.width(),h:b.height()}),tt={x:L.x1+L.w/2,y:L.y1+L.h/2},ot=(void 0===d.sweep?2*Math.PI-2*Math.PI/N.length:d.sweep)/Math.max(1,N.length-1),Mt=0,Ot=0;Ot<N.length;Ot++){var Gt=N[Ot].layoutDimensions(d);Mt=Math.max(Mt,Gt.w,Gt.h)}if(mt=St(d.radius)?d.radius:N.length<=1?0:Math.min(L.h,L.w)/2-Mt,N.length>1&&d.avoidOverlap){Mt*=1.75;var oe=Math.cos(ot)-Math.cos(0),ae=Math.sin(ot)-Math.sin(0),le=Math.sqrt(Mt*Mt/(oe*oe+ae*ae));mt=Math.max(le,mt)}return D.nodes().layoutPositions(this,d,function(He,ge){var ze=d.startAngle+ge*ot*(O?1:-1),Me=mt*Math.cos(ze),Ye=mt*Math.sin(ze);return{x:tt.x+Me,y:tt.y+Ye}}),this};var Ov={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(d){return d.degree()},levelWidth:function(d){return d.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(d,b){return!0},ready:void 0,stop:void 0,transform:function(d,b){return b}};function Nv(w){this.options=Ht({},Ov,w)}Nv.prototype.run=function(){for(var w=this.options,d=w,b=void 0!==d.counterclockwise?!d.counterclockwise:d.clockwise,D=w.cy,O=d.eles,N=O.nodes().not(":parent"),L=ss(d.boundingBox?d.boundingBox:{x1:0,y1:0,w:D.width(),h:D.height()}),tt={x:L.x1+L.w/2,y:L.y1+L.h/2},ht=[],ot=0,mt=0;mt<N.length;mt++){var Ot,Mt=N[mt];Ot=d.concentric(Mt),ht.push({value:Ot,node:Mt}),Mt._private.scratch.concentric=Ot}N.updateStyle();for(var jt=0;jt<N.length;jt++){var Nt=N[jt].layoutDimensions(d);ot=Math.max(ot,Nt.w,Nt.h)}ht.sort(function(Pn,yn){return yn.value-Pn.value});for(var Jt=d.levelWidth(N),oe=[[]],ae=oe[0],le=0;le<ht.length;le++){var xe=ht[le];ae.length>0&&Math.abs(ae[0].value-xe.value)>=Jt&&oe.push(ae=[]),ae.push(xe)}var He=ot+d.minNodeSpacing;if(!d.avoidOverlap){var ge=oe.length>0&&oe[0].length>1,ze=Math.min(L.w,L.h)/2-He;He=Math.min(He,ze/(oe.length+ge?1:0))}for(var Ye=0,Ue=0;Ue<oe.length;Ue++){var Ne=oe[Ue],Je=void 0===d.sweep?2*Math.PI-2*Math.PI/Ne.length:d.sweep,Be=Ne.dTheta=Je/Math.max(1,Ne.length-1);if(Ne.length>1&&d.avoidOverlap){var wi=Math.cos(Be)-Math.cos(0),fi=Math.sin(Be)-Math.sin(0),bi=Math.sqrt(He*He/(wi*wi+fi*fi));Ye=Math.max(bi,Ye)}Ne.r=Ye,Ye+=He}if(d.equidistant){for(var pi=0,yi=0,Fi=0;Fi<oe.length;Fi++)pi=Math.max(pi,oe[Fi].r-yi);yi=0;for(var Wi=0;Wi<oe.length;Wi++){var Fe=oe[Wi];0===Wi&&(yi=Fe.r),Fe.r=yi,yi+=pi}}for(var Gi={},Ui=0;Ui<oe.length;Ui++)for(var xi=oe[Ui],Ni=xi.dTheta,$i=xi.r,nn=0;nn<xi.length;nn++){var bn=xi[nn],Mr=d.startAngle+(b?1:-1)*Ni*nn,kr={x:tt.x+$i*Math.cos(Mr),y:tt.y+$i*Math.sin(Mr)};Gi[bn.node.id()]=kr}return O.nodes().layoutPositions(this,d,function(Pn){var yn=Pn.id();return Gi[yn]}),this};var uu,Ol={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(d,b){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(d){return 2048},nodeOverlap:4,idealEdgeLength:function(d){return 32},edgeElasticity:function(d){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Xu(w){this.options=Ht({},Ol,w),this.options.layout=this}Xu.prototype.run=function(){var w=this.options,d=w.cy,b=this;b.stopped=!1,(!0===w.animate||!1===w.animate)&&b.emit({type:"layoutstart",layout:b}),uu=!0===w.debug;var D=Ac(d,b,w);uu&&(void 0)(D),w.randomize&&B0(D);var O=ue(),N=function(){Pc(D,d,w),!0===w.fit&&d.fit(w.padding)},L=function(Ot){return!(b.stopped||Ot>=w.numIter||(ja(D,w),D.temperature=D.temperature*w.coolingFactor,D.temperature<w.minTemp))},tt=function(){if(!0===w.animate||!1===w.animate)N(),b.one("layoutstop",w.stop),b.emit({type:"layoutstop",layout:b});else{var Ot=w.eles.nodes(),jt=Tc(D,w,Ot);Ot.layoutPositions(b,w,jt)}},ht=0,ot=!0;if(!0===w.animate)!function Mt(){for(var Ot=0;ot&&Ot<w.refresh;)ot=L(ht),ht++,Ot++;ot?(ue()-O>=w.animationThreshold&&N(),Qt(Mt)):(Sd(D,w),tt())}();else{for(;ot;)ot=L(ht),ht++;Sd(D,w),tt()}return this},Xu.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Xu.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Ac=function(d,b,D){for(var O=D.eles.edges(),N=D.eles.nodes(),L={isCompound:d.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:N.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:O.size(),temperature:D.initialTemp,clientWidth:d.width(),clientHeight:d.width(),boundingBox:ss(D.boundingBox?D.boundingBox:{x1:0,y1:0,w:d.width(),h:d.height()})},tt=D.eles.components(),ht={},ot=0;ot<tt.length;ot++)for(var mt=tt[ot],Mt=0;Mt<mt.length;Mt++)ht[mt[Mt].id()]=ot;for(ot=0;ot<L.nodeSize;ot++){var Gt=(jt=N[ot]).layoutDimensions(D);(Nt={}).isLocked=jt.locked(),Nt.id=jt.data("id"),Nt.parentId=jt.data("parent"),Nt.cmptId=ht[jt.id()],Nt.children=[],Nt.positionX=jt.position("x"),Nt.positionY=jt.position("y"),Nt.offsetX=0,Nt.offsetY=0,Nt.height=Gt.w,Nt.width=Gt.h,Nt.maxX=Nt.positionX+Nt.width/2,Nt.minX=Nt.positionX-Nt.width/2,Nt.maxY=Nt.positionY+Nt.height/2,Nt.minY=Nt.positionY-Nt.height/2,Nt.padLeft=parseFloat(jt.style("padding")),Nt.padRight=parseFloat(jt.style("padding")),Nt.padTop=parseFloat(jt.style("padding")),Nt.padBottom=parseFloat(jt.style("padding")),Nt.nodeRepulsion=_t(D.nodeRepulsion)?D.nodeRepulsion(jt):D.nodeRepulsion,L.layoutNodes.push(Nt),L.idToIndex[Nt.id]=ot}var Jt=[],oe=0,ae=-1,le=[];for(ot=0;ot<L.nodeSize;ot++){var jt,xe=(jt=L.layoutNodes[ot]).parentId;null!=xe?L.layoutNodes[L.idToIndex[xe]].children.push(jt.id):(Jt[++ae]=jt.id,le.push(jt.id))}for(L.graphSet.push(le);oe<=ae;){var Ve=Jt[oe++],ge=L.layoutNodes[L.idToIndex[Ve]].children;if(ge.length>0)for(L.graphSet.push(ge),ot=0;ot<ge.length;ot++)Jt[++ae]=ge[ot]}for(ot=0;ot<L.graphSet.length;ot++){var ze=L.graphSet[ot];for(Mt=0;Mt<ze.length;Mt++)L.indexToGraph[L.idToIndex[ze[Mt]]]=ot}for(ot=0;ot<L.edgeSize;ot++){var Ye=O[ot],Ue={};Ue.id=Ye.data("id"),Ue.sourceId=Ye.data("source"),Ue.targetId=Ye.data("target");var Ne=_t(D.idealEdgeLength)?D.idealEdgeLength(Ye):D.idealEdgeLength,Je=_t(D.edgeElasticity)?D.edgeElasticity(Ye):D.edgeElasticity,Be=L.idToIndex[Ue.sourceId],wi=L.idToIndex[Ue.targetId];if(L.indexToGraph[Be]!=L.indexToGraph[wi]){for(var pi=_d(Ue.sourceId,Ue.targetId,L),yi=L.graphSet[pi],Fi=0,Nt=L.layoutNodes[Be];-1===yi.indexOf(Nt.id);)Nt=L.layoutNodes[L.idToIndex[Nt.parentId]],Fi++;for(Nt=L.layoutNodes[wi];-1===yi.indexOf(Nt.id);)Nt=L.layoutNodes[L.idToIndex[Nt.parentId]],Fi++;Ne*=Fi*D.nestingFactor}Ue.idealLength=Ne,Ue.elasticity=Je,L.layoutEdges.push(Ue)}return L},_d=function(d,b,D){var O=If(d,b,0,D);return 2>O.count?0:O.graph},If=function w(d,b,D,O){var N=O.graphSet[D];if(-1<N.indexOf(d)&&-1<N.indexOf(b))return{count:2,graph:D};for(var L=0,tt=0;tt<N.length;tt++){var mt=O.layoutNodes[O.idToIndex[N[tt]]].children;if(0!==mt.length){var Ot=w(d,b,O.indexToGraph[O.idToIndex[mt[0]]],O);if(0!==Ot.count){if(1!==Ot.count)return Ot;if(2==++L)break}}}return{count:L,graph:D}},B0=function(d,b){for(var D=d.clientWidth,O=d.clientHeight,N=0;N<d.nodeSize;N++){var L=d.layoutNodes[N];0===L.children.length&&!L.isLocked&&(L.positionX=Math.random()*D,L.positionY=Math.random()*O)}},Tc=function(d,b,D){var O=d.boundingBox,N={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return b.boundingBox&&(D.forEach(function(L){var tt=d.layoutNodes[d.idToIndex[L.data("id")]];N.x1=Math.min(N.x1,tt.positionX),N.x2=Math.max(N.x2,tt.positionX),N.y1=Math.min(N.y1,tt.positionY),N.y2=Math.max(N.y2,tt.positionY)}),N.w=N.x2-N.x1,N.h=N.y2-N.y1),function(L,tt){var ht=d.layoutNodes[d.idToIndex[L.data("id")]];return b.boundingBox?{x:O.x1+(ht.positionX-N.x1)/N.w*O.w,y:O.y1+(ht.positionY-N.y1)/N.h*O.h}:{x:ht.positionX,y:ht.positionY}}},Pc=function(d,b,D){var O=D.layout,N=D.eles.nodes(),L=Tc(d,D,N);N.positions(L),!0!==d.ready&&(d.ready=!0,O.one("layoutready",D.ready),O.emit({type:"layoutready",layout:this}))},ja=function(d,b,D){nl(d,b),c1(d),$h(d,b),Ic(d),Rf(d)},nl=function(d,b){for(var D=0;D<d.graphSet.length;D++)for(var O=d.graphSet[D],N=O.length,L=0;L<N;L++)for(var tt=d.layoutNodes[d.idToIndex[O[L]]],ht=L+1;ht<N;ht++)Yh(tt,d.layoutNodes[d.idToIndex[O[ht]]],d,b)},Wh=function(d){return-d+2*d*Math.random()},Yh=function(d,b,D,O){if(d.cmptId===b.cmptId||D.isCompound){var tt=b.positionX-d.positionX,ht=b.positionY-d.positionY;0===tt&&0===ht&&(tt=Wh(1),ht=Wh(1));var mt=nw(d,b,tt,ht);if(mt>0)var jt=(Mt=O.nodeOverlap*mt)*tt/(Ot=Math.sqrt(tt*tt+ht*ht)),Gt=Mt*ht/Ot;else{var Mt,Nt=gi(d,tt,ht),Jt=gi(b,-1*tt,-1*ht),oe=Jt.x-Nt.x,ae=Jt.y-Nt.y,le=oe*oe+ae*ae,Ot=Math.sqrt(le);jt=(Mt=(d.nodeRepulsion+b.nodeRepulsion)/le)*oe/Ot,Gt=Mt*ae/Ot}d.isLocked||(d.offsetX-=jt,d.offsetY-=Gt),b.isLocked||(b.offsetX+=jt,b.offsetY+=Gt)}},nw=function(d,b,D,O){if(D>0)var N=d.maxX-b.minX;else N=b.maxX-d.minX;if(O>0)var L=d.maxY-b.minY;else L=b.maxY-d.minY;return N>=0&&L>=0?Math.sqrt(N*N+L*L):0},gi=function(d,b,D){var O=d.positionX,N=d.positionY,L=d.height||1,tt=d.width||1,ht=D/b,ot=L/tt,mt={};return 0===b&&0<D||0===b&&0>D?(mt.x=O,mt.y=N+L/2,mt):0<b&&-1*ot<=ht&&ht<=ot?(mt.x=O+tt/2,mt.y=N+tt*D/2/b,mt):0>b&&-1*ot<=ht&&ht<=ot?(mt.x=O-tt/2,mt.y=N-tt*D/2/b,mt):0<D&&(ht<=-1*ot||ht>=ot)?(mt.x=O+L*b/2/D,mt.y=N+L/2,mt):(0>D&&(ht<=-1*ot||ht>=ot)&&(mt.x=O-L*b/2/D,mt.y=N-L/2),mt)},c1=function(d,b){for(var D=0;D<d.edgeSize;D++){var O=d.layoutEdges[D],L=d.layoutNodes[d.idToIndex[O.sourceId]],ht=d.layoutNodes[d.idToIndex[O.targetId]],ot=ht.positionX-L.positionX,mt=ht.positionY-L.positionY;if(0!==ot||0!==mt){var Mt=gi(L,ot,mt),Ot=gi(ht,-1*ot,-1*mt),jt=Ot.x-Mt.x,Gt=Ot.y-Mt.y,Nt=Math.sqrt(jt*jt+Gt*Gt),Jt=Math.pow(O.idealLength-Nt,2)/O.elasticity;if(0!==Nt)var oe=Jt*jt/Nt,ae=Jt*Gt/Nt;else oe=0,ae=0;L.isLocked||(L.offsetX+=oe,L.offsetY+=ae),ht.isLocked||(ht.offsetX-=oe,ht.offsetY-=ae)}}},$h=function(d,b){if(0!==b.gravity)for(var O=0;O<d.graphSet.length;O++){var N=d.graphSet[O],L=N.length;if(0===O)var tt=d.clientHeight/2,ht=d.clientWidth/2;else{var mt=d.layoutNodes[d.idToIndex[d.layoutNodes[d.idToIndex[N[0]]].parentId]];tt=mt.positionX,ht=mt.positionY}for(var Mt=0;Mt<L;Mt++){var Ot=d.layoutNodes[d.idToIndex[N[Mt]]];if(!Ot.isLocked){var jt=tt-Ot.positionX,Gt=ht-Ot.positionY,Nt=Math.sqrt(jt*jt+Gt*Gt);if(Nt>1){var oe=b.gravity*Gt/Nt;Ot.offsetX+=b.gravity*jt/Nt,Ot.offsetY+=oe}}}}},Ic=function(d,b){var D=[],O=0,N=-1;for(D.push.apply(D,d.graphSet[0]),N+=d.graphSet[0].length;O<=N;){var L=D[O++],ht=d.layoutNodes[d.idToIndex[L]],ot=ht.children;if(0<ot.length&&!ht.isLocked){for(var mt=ht.offsetX,Mt=ht.offsetY,Ot=0;Ot<ot.length;Ot++){var jt=d.layoutNodes[d.idToIndex[ot[Ot]]];jt.offsetX+=mt,jt.offsetY+=Mt,D[++N]=ot[Ot]}ht.offsetX=0,ht.offsetY=0}}},Rf=function(d,b){for(var D=0;D<d.nodeSize;D++)0<(O=d.layoutNodes[D]).children.length&&(O.maxX=void 0,O.minX=void 0,O.maxY=void 0,O.minY=void 0);for(D=0;D<d.nodeSize;D++)if(!(0<(O=d.layoutNodes[D]).children.length||O.isLocked)){var N=Lv(O.offsetX,O.offsetY,d.temperature);O.positionX+=N.x,O.positionY+=N.y,O.offsetX=0,O.offsetY=0,O.minX=O.positionX-O.width,O.maxX=O.positionX+O.width,O.minY=O.positionY-O.height,O.maxY=O.positionY+O.height,Cd(O,d)}for(D=0;D<d.nodeSize;D++){var O;0<(O=d.layoutNodes[D]).children.length&&!O.isLocked&&(O.positionX=(O.maxX+O.minX)/2,O.positionY=(O.maxY+O.minY)/2,O.width=O.maxX-O.minX,O.height=O.maxY-O.minY)}},Lv=function(d,b,D){var O=Math.sqrt(d*d+b*b);if(O>D)var N={x:D*d/O,y:D*b/O};else N={x:d,y:b};return N},Cd=function w(d,b){var D=d.parentId;if(null!=D){var O=b.layoutNodes[b.idToIndex[D]],N=!1;if((null==O.maxX||d.maxX+O.padRight>O.maxX)&&(O.maxX=d.maxX+O.padRight,N=!0),(null==O.minX||d.minX-O.padLeft<O.minX)&&(O.minX=d.minX-O.padLeft,N=!0),(null==O.maxY||d.maxY+O.padBottom>O.maxY)&&(O.maxY=d.maxY+O.padBottom,N=!0),(null==O.minY||d.minY-O.padTop<O.minY)&&(O.minY=d.minY-O.padTop,N=!0),N)return w(O,b)}},Sd=function(d,b){for(var D=d.layoutNodes,O=[],N=0;N<D.length;N++){var L=D[N],tt=L.cmptId;(O[tt]=O[tt]||[]).push(L)}var ot=0;for(N=0;N<O.length;N++)if(mt=O[N]){mt.x1=1/0,mt.x2=-1/0,mt.y1=1/0,mt.y2=-1/0;for(var Mt=0;Mt<mt.length;Mt++){var Ot=mt[Mt];mt.x1=Math.min(mt.x1,Ot.positionX-Ot.width/2),mt.x2=Math.max(mt.x2,Ot.positionX+Ot.width/2),mt.y1=Math.min(mt.y1,Ot.positionY-Ot.height/2),mt.y2=Math.max(mt.y2,Ot.positionY+Ot.height/2)}mt.w=mt.x2-mt.x1,mt.h=mt.y2-mt.y1,ot+=mt.w*mt.h}O.sort(function(ae,le){return le.w*le.h-ae.w*ae.h});var jt=0,Gt=0,Nt=0,Jt=0,oe=Math.sqrt(ot)*d.clientWidth/d.clientHeight;for(N=0;N<O.length;N++){var mt;if(mt=O[N]){for(Mt=0;Mt<mt.length;Mt++)(Ot=mt[Mt]).isLocked||(Ot.positionX+=jt-mt.x1,Ot.positionY+=Gt-mt.y1);jt+=mt.w+b.componentSpacing,Nt+=mt.w+b.componentSpacing,Jt=Math.max(Jt,mt.h),Nt>oe&&(Gt+=Jt+b.componentSpacing,jt=0,Nt=0,Jt=0)}}},Nl={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(d){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(d,b){return!0},ready:void 0,stop:void 0,transform:function(d,b){return b}};function ls(w){this.options=Ht({},Nl,w)}ls.prototype.run=function(){var w=this.options,d=w,b=w.cy,D=d.eles,O=D.nodes().not(":parent");d.sort&&(O=O.sort(d.sort));var N=ss(d.boundingBox?d.boundingBox:{x1:0,y1:0,w:b.width(),h:b.height()});if(0===N.h||0===N.w)D.nodes().layoutPositions(this,d,function(Wi){return{x:N.x1,y:N.y1}});else{var L=O.size(),tt=Math.sqrt(L*N.h/N.w),ht=Math.round(tt),ot=Math.round(N.w/N.h*tt),mt=function(Fe){if(null==Fe)return Math.min(ht,ot);Math.min(ht,ot)==ht?ht=Fe:ot=Fe},Mt=function(Fe){if(null==Fe)return Math.max(ht,ot);Math.max(ht,ot)==ht?ht=Fe:ot=Fe},Ot=d.rows,jt=null!=d.cols?d.cols:d.columns;if(null!=Ot&&null!=jt)ht=Ot,ot=jt;else if(null!=Ot&&null==jt)ht=Ot,ot=Math.ceil(L/ht);else if(null==Ot&&null!=jt)ot=jt,ht=Math.ceil(L/ot);else if(ot*ht>L){var Gt=mt(),Nt=Mt();(Gt-1)*Nt>=L?mt(Gt-1):(Nt-1)*Gt>=L&&Mt(Nt-1)}else for(;ot*ht<L;){var Jt=mt(),oe=Mt();(oe+1)*Jt>=L?Mt(oe+1):mt(Jt+1)}var ae=N.w/ot,le=N.h/ht;if(d.condense&&(ae=0,le=0),d.avoidOverlap)for(var xe=0;xe<O.length;xe++){var Ve=O[xe],He=Ve._private.position;(null==He.x||null==He.y)&&(He.x=0,He.y=0);var ge=Ve.layoutDimensions(d),ze=d.avoidOverlapPadding,Ye=ge.h+ze;ae=Math.max(ae,ge.w+ze),le=Math.max(le,Ye)}for(var Ue={},Ne=function(Fe,Gi){return!!Ue["c-"+Fe+"-"+Gi]},Je=function(Fe,Gi){Ue["c-"+Fe+"-"+Gi]=!0},Be=0,wi=0,fi=function(){++wi>=ot&&(wi=0,Be++)},bi={},pi=0;pi<O.length;pi++){var yi=O[pi],Fi=d.position(yi);if(Fi&&(void 0!==Fi.row||void 0!==Fi.col)){var Ai={row:Fi.row,col:Fi.col};if(void 0===Ai.col)for(Ai.col=0;Ne(Ai.row,Ai.col);)Ai.col++;else if(void 0===Ai.row)for(Ai.row=0;Ne(Ai.row,Ai.col);)Ai.row++;bi[yi.id()]=Ai,Je(Ai.row,Ai.col)}}O.layoutPositions(this,d,function(Fe,Gi){var Ui,xi;if(Fe.locked()||Fe.isParent())return!1;var Ni=bi[Fe.id()];if(Ni)Ui=Ni.col*ae+ae/2+N.x1,xi=Ni.row*le+le/2+N.y1;else{for(;Ne(Be,wi);)fi();Ui=wi*ae+ae/2+N.x1,xi=Be*le+le/2+N.y1,Je(Be,wi),fi()}return{x:Ui,y:xi}})}return this};var Dd={ready:function(){},stop:function(){}};function eh(w){this.options=Ht({},Dd,w)}eh.prototype.run=function(){var w=this.options,d=w.eles,b=this;return b.emit("layoutstart"),d.nodes().positions(function(){return{x:0,y:0}}),b.one("layoutready",w.ready),b.emit("layoutready"),b.one("layoutstop",w.stop),b.emit("layoutstop"),this},eh.prototype.stop=function(){return this};var Rc={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(d,b){return!0},ready:void 0,stop:void 0,transform:function(d,b){return b}};function Xh(w){this.options=Ht({},Rc,w)}Xh.prototype.run=function(){var w=this.options,b=w.eles.nodes(),D=_t(w.positions);return b.layoutPositions(this,w,function(N,L){var tt=function(N){if(null==w.positions)return function(d){return{x:d.x,y:d.y}}(N.position());if(D)return w.positions(N);var L=w.positions[N._private.data.id];return null==L?null:L}(N);return!N.locked()&&null!=tt&&tt}),this};var cu={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(d,b){return!0},ready:void 0,stop:void 0,transform:function(d,b){return b}};function Ma(w){this.options=Ht({},cu,w)}Ma.prototype.run=function(){var w=this.options,d=w.cy,b=w.eles,D=ss(w.boundingBox?w.boundingBox:{x1:0,y1:0,w:d.width(),h:d.height()});return b.nodes().layoutPositions(this,w,function(L,tt){return{x:D.x1+Math.round(Math.random()*D.w),y:D.y1+Math.round(Math.random()*D.h)}}),this};var Of=[{name:"breadthfirst",impl:Rv},{name:"circle",impl:_a},{name:"concentric",impl:Nv},{name:"cose",impl:Xu},{name:"grid",impl:ls},{name:"null",impl:eh},{name:"preset",impl:Xh},{name:"random",impl:Ma}];function rw(w){this.options=w,this.notifications=0}var V0=function(){},In=function(){throw new Error("A headless instance can not render images")};rw.prototype={recalculateRenderedStyle:V0,notify:function(){this.notifications++},init:V0,isHeadless:function(){return!0},png:In,jpg:In};var Ed={arrowShapeWidth:.3,registerArrowShapes:function(){var w=this.arrowShapes={},d=this,b=function(ot,mt,Mt,Ot,jt,Gt,Nt){return jt.x-Mt/2-Nt<=ot&&ot<=jt.x+Mt/2+Nt&&jt.y-Mt/2-Nt<=mt&&mt<=jt.y+Mt/2+Nt},D=function(ot,mt,Mt,Ot,jt){var Gt=ot*Math.cos(Ot)-mt*Math.sin(Ot),Nt=ot*Math.sin(Ot)+mt*Math.cos(Ot);return{x:Gt*Mt+jt.x,y:Nt*Mt+jt.y}},O=function(ot,mt,Mt,Ot){for(var jt=[],Gt=0;Gt<ot.length;Gt+=2)jt.push(D(ot[Gt],ot[Gt+1],mt,Mt,Ot));return jt},N=function(ot){for(var mt=[],Mt=0;Mt<ot.length;Mt++){var Ot=ot[Mt];mt.push(Ot.x,Ot.y)}return mt},L=function(ot){return ot.pstyle("width").pfValue*ot.pstyle("arrow-scale").pfValue*2},tt=function(ot,mt){lt(mt)&&(mt=w[mt]),w[ot]=Ht({name:ot,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(Ot,jt,Gt,Nt,Jt,oe){var ae=N(O(this.points,Gt+2*oe,Nt,Jt));return El(Ot,jt,ae)},roughCollide:b,draw:function(Ot,jt,Gt,Nt){var Jt=O(this.points,jt,Gt,Nt);d.arrowShapeImpl("polygon")(Ot,Jt)},spacing:function(Ot){return 0},gap:L},mt)};tt("none",{collide:De,roughCollide:De,draw:Se,spacing:he,gap:he}),tt("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),tt("arrow","triangle"),tt("triangle-backcurve",{points:w.triangle.points,controlPoint:[0,-.15],roughCollide:b,draw:function(ot,mt,Mt,Ot,jt){var Gt=O(this.points,mt,Mt,Ot),Nt=this.controlPoint,Jt=D(Nt[0],Nt[1],mt,Mt,Ot);d.arrowShapeImpl(this.name)(ot,Gt,Jt)},gap:function(ot){return.8*L(ot)}}),tt("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(ot,mt,Mt,Ot,jt,Gt,Nt){var Jt=N(O(this.points,Mt+2*Nt,Ot,jt)),oe=N(O(this.pointsTee,Mt+2*Nt,Ot,jt));return El(ot,mt,Jt)||El(ot,mt,oe)},draw:function(ot,mt,Mt,Ot,jt){var Gt=O(this.points,mt,Mt,Ot),Nt=O(this.pointsTee,mt,Mt,Ot);d.arrowShapeImpl(this.name)(ot,Gt,Nt)}}),tt("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(ot,mt,Mt,Ot,jt,Gt,Nt){var Jt=jt,oe=Math.pow(Jt.x-ot,2)+Math.pow(Jt.y-mt,2)<=Math.pow((Mt+2*Nt)*this.radius,2),ae=N(O(this.points,Mt+2*Nt,Ot,jt));return El(ot,mt,ae)||oe},draw:function(ot,mt,Mt,Ot,jt){var Gt=O(this.pointsTr,mt,Mt,Ot);d.arrowShapeImpl(this.name)(ot,Gt,Ot.x,Ot.y,this.radius*mt)},spacing:function(ot){return d.getArrowWidth(ot.pstyle("width").pfValue,ot.pstyle("arrow-scale").value)*this.radius}}),tt("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(ot,mt){var Mt=this.baseCrossLinePts.slice(),Ot=mt/ot;return Mt[3]=Mt[3]-Ot,Mt[5]=Mt[5]-Ot,Mt},collide:function(ot,mt,Mt,Ot,jt,Gt,Nt){var Jt=N(O(this.points,Mt+2*Nt,Ot,jt)),oe=N(O(this.crossLinePts(Mt,Gt),Mt+2*Nt,Ot,jt));return El(ot,mt,Jt)||El(ot,mt,oe)},draw:function(ot,mt,Mt,Ot,jt){var Gt=O(this.points,mt,Mt,Ot),Nt=O(this.crossLinePts(mt,jt),mt,Mt,Ot);d.arrowShapeImpl(this.name)(ot,Gt,Nt)}}),tt("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(ot){return.525*L(ot)}}),tt("circle",{radius:.15,collide:function(ot,mt,Mt,Ot,jt,Gt,Nt){var Jt=jt;return Math.pow(Jt.x-ot,2)+Math.pow(Jt.y-mt,2)<=Math.pow((Mt+2*Nt)*this.radius,2)},draw:function(ot,mt,Mt,Ot,jt){d.arrowShapeImpl(this.name)(ot,Ot.x,Ot.y,this.radius*mt)},spacing:function(ot){return d.getArrowWidth(ot.pstyle("width").pfValue,ot.pstyle("arrow-scale").value)*this.radius}}),tt("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(ot){return 1},gap:function(ot){return 1}}),tt("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),tt("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(ot){return ot.pstyle("width").pfValue*ot.pstyle("arrow-scale").value}}),tt("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(ot){return.95*ot.pstyle("width").pfValue*ot.pstyle("arrow-scale").value}})}},kd={projectIntoViewport:function(w,d){var b=this.cy,D=this.findContainerClientCoords(),O=D[0],N=D[1],L=D[4],tt=b.pan(),ht=b.zoom();return[((w-O)/L-tt.x)/ht,((d-N)/L-tt.y)/ht]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var w=this.container,d=w.getBoundingClientRect(),b=V.getComputedStyle(w),D=function(oe){return parseFloat(b.getPropertyValue(oe))},O_left=D("padding-left"),O_right=D("padding-right"),O_top=D("padding-top"),O_bottom=D("padding-bottom"),N_left=D("border-left-width"),N_right=D("border-right-width"),N_top=D("border-top-width"),L=(D("border-bottom-width"),w.clientWidth);return this.containerBB=[d.left+O_left+N_left,d.top+O_top+N_top,L-(O_left+O_right),w.clientHeight-(O_top+O_bottom),d.width/(L+(N_left+N_right))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(w,d,b,D){return this.findNearestElements(w,d,b,D)[0]},findNearestElements:function(w,d,b,D){var Gt,Nt,O=this,N=this,L=N.getCachedZSortedEles(),tt=[],ht=N.cy.zoom(),ot=N.cy.hasCompoundNodes(),mt=(D?24:8)/ht,Mt=(D?8:2)/ht,Ot=(D?8:2)/ht,jt=1/0;function Jt(ge,ze){if(ge.isNode()){if(Nt)return;Nt=ge,tt.push(ge)}if(ge.isEdge()&&(null==ze||ze<jt))if(Gt){if(Gt.pstyle("z-compound-depth").value===ge.pstyle("z-compound-depth").value&&Gt.pstyle("z-compound-depth").value===ge.pstyle("z-compound-depth").value)for(var Me=0;Me<tt.length;Me++)if(tt[Me].isEdge()){tt[Me]=ge,Gt=ge,jt=null!=ze?ze:jt;break}}else tt.push(ge),Gt=ge,jt=null!=ze?ze:jt}function oe(ge){var ze=ge.outerWidth()+2*Mt,Me=ge.outerHeight()+2*Mt,Ye=ze/2,Ue=Me/2,Ne=ge.position();if(Ne.x-Ye<=w&&w<=Ne.x+Ye&&Ne.y-Ue<=d&&d<=Ne.y+Ue&&N.nodeShapes[O.getNodeShape(ge)].checkPoint(w,d,0,ze,Me,Ne.x,Ne.y))return Jt(ge,0),!0}function ae(ge){var bi,ze=ge._private,Me=ze.rscratch,Ye=ge.pstyle("width").pfValue,Ue=ge.pstyle("arrow-scale").value,Ne=Ye/2+mt,Je=Ne*Ne,Be=2*Ne,wi=ze.source,fi=ze.target;if("segments"===Me.edgeType||"straight"===Me.edgeType||"haystack"===Me.edgeType){for(var pi=Me.allpts,yi=0;yi+3<pi.length;yi+=2)if(op(w,d,pi[yi],pi[yi+1],pi[yi+2],pi[yi+3],Be)&&Je>(bi=mf(w,d,pi[yi],pi[yi+1],pi[yi+2],pi[yi+3])))return Jt(ge,bi),!0}else if("bezier"===Me.edgeType||"multibezier"===Me.edgeType||"self"===Me.edgeType||"compound"===Me.edgeType)for(pi=Me.allpts,yi=0;yi+5<Me.allpts.length;yi+=4)if($x(w,d,pi[yi],pi[yi+1],pi[yi+2],pi[yi+3],pi[yi+4],pi[yi+5],Be)&&Je>(bi=fv(w,d,pi[yi],pi[yi+1],pi[yi+2],pi[yi+3],pi[yi+4],pi[yi+5])))return Jt(ge,bi),!0;wi=wi||ze.source,fi=fi||ze.target;var Fi=O.getArrowWidth(Ye,Ue),Ai=[{name:"source",x:Me.arrowStartX,y:Me.arrowStartY,angle:Me.srcArrowAngle},{name:"target",x:Me.arrowEndX,y:Me.arrowEndY,angle:Me.tgtArrowAngle},{name:"mid-source",x:Me.midX,y:Me.midY,angle:Me.midsrcArrowAngle},{name:"mid-target",x:Me.midX,y:Me.midY,angle:Me.midtgtArrowAngle}];for(yi=0;yi<Ai.length;yi++){var li=Ai[yi],Wi=N.arrowShapes[ge.pstyle(li.name+"-arrow-shape").value],Fe=ge.pstyle("width").pfValue;if(Wi.roughCollide(w,d,Fi,li.angle,{x:li.x,y:li.y},Fe,mt)&&Wi.collide(w,d,Fi,li.angle,{x:li.x,y:li.y},Fe,mt))return Jt(ge),!0}ot&&tt.length>0&&(oe(wi),oe(fi))}function le(ge,ze,Me){return Vn(ge,ze,Me)}function xe(ge,ze){var Ue,Me=ge._private,Ye=Ot;Ue=ze?ze+"-":"",ge.boundingBox();var Ne=Me.labelBounds[ze||"main"],Je=ge.pstyle(Ue+"label").value;if("yes"===ge.pstyle("text-events").strValue&&Je){var wi=le(Me.rscratch,"labelX",ze),fi=le(Me.rscratch,"labelY",ze),bi=le(Me.rscratch,"labelAngle",ze),pi=ge.pstyle(Ue+"text-margin-x").pfValue,yi=ge.pstyle(Ue+"text-margin-y").pfValue,Fi=Ne.x1-Ye-pi,Ai=Ne.x2+Ye-pi,li=Ne.y1-Ye-yi,Wi=Ne.y2+Ye-yi;if(bi){var Fe=Math.cos(bi),Gi=Math.sin(bi),Ui=function(kr,Pn){return{x:(kr-=wi)*Fe-(Pn-=fi)*Gi+wi,y:kr*Gi+Pn*Fe+fi}},xi=Ui(Fi,li),Ni=Ui(Fi,Wi),$i=Ui(Ai,li),nn=Ui(Ai,Wi);if(El(w,d,[xi.x+pi,xi.y+yi,$i.x+pi,$i.y+yi,nn.x+pi,nn.y+yi,Ni.x+pi,Ni.y+yi]))return Jt(ge),!0}else if(pe(Ne,w,d))return Jt(ge),!0}}b&&(L=L.interactive);for(var Ve=L.length-1;Ve>=0;Ve--){var He=L[Ve];He.isNode()?oe(He)||xe(He):ae(He)||xe(He)||xe(He,"source")||xe(He,"target")}return tt},getAllInBox:function(w,d,b,D){for(var O=this.getCachedZSortedEles().interactive,N=[],L=Math.min(w,b),tt=Math.max(w,b),ht=Math.min(d,D),ot=Math.max(d,D),mt=ss({x1:w=L,y1:d=ht,x2:b=tt,y2:D=ot}),Mt=0;Mt<O.length;Mt++){var Ot=O[Mt];if(Ot.isNode()){var jt=Ot,Gt=jt.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});cv(mt,Gt)&&!g0(Gt,mt)&&N.push(jt)}else{var Nt=Ot,Jt=Nt._private,oe=Jt.rscratch;if(null!=oe.startX&&null!=oe.startY&&!pe(mt,oe.startX,oe.startY)||null!=oe.endX&&null!=oe.endY&&!pe(mt,oe.endX,oe.endY))continue;if("bezier"===oe.edgeType||"multibezier"===oe.edgeType||"self"===oe.edgeType||"compound"===oe.edgeType||"segments"===oe.edgeType||"haystack"===oe.edgeType){for(var ae=Jt.rstyle.bezierPts||Jt.rstyle.linePts||Jt.rstyle.haystackPts,le=!0,xe=0;xe<ae.length;xe++)if(!xn(mt,ae[xe])){le=!1;break}le&&N.push(Nt)}else("haystack"===oe.edgeType||"straight"===oe.edgeType)&&N.push(Nt)}}return N}},Ym={calculateArrowAngles:function(w){var ht,ot,mt,Mt,Ot,jt,d=w._private.rscratch,b="haystack"===d.edgeType,D="bezier"===d.edgeType,O="multibezier"===d.edgeType,N="segments"===d.edgeType,L="compound"===d.edgeType,tt="self"===d.edgeType;b?(mt=d.haystackPts[0],Mt=d.haystackPts[1],Ot=d.haystackPts[2],jt=d.haystackPts[3]):(mt=d.arrowStartX,Mt=d.arrowStartY,Ot=d.arrowEndX,jt=d.arrowEndY),Gt=d.midX,Nt=d.midY,N?(ht=mt-d.segpts[0],ot=Mt-d.segpts[1]):O||L||tt||D?(ht=mt-Na((Jt=d.allpts)[0],Jt[2],Jt[4],.1),ot=Mt-Na(Jt[1],Jt[3],Jt[5],.1)):(ht=mt-Gt,ot=Mt-Nt),d.srcArrowAngle=_m(ht,ot);var Gt=d.midX,Nt=d.midY;if(b&&(Gt=(mt+Ot)/2,Nt=(Mt+jt)/2),ht=Ot-mt,ot=jt-Mt,N)if((Jt=d.allpts).length/2%2==0)ht=Jt[le=Jt.length/2]-Jt[xe=le-2],ot=Jt[le+1]-Jt[xe+1];else{var le,xe,Ve=2+(le=Jt.length/2-1);ht=Jt[le]-Jt[xe=le-2],ot=Jt[le+1]-Jt[xe+1]}else if(O||L||tt){var ge,ze,Me,Ye,Ne,Ue,Je,Jt=d.allpts;d.ctrlpts.length/2%2==0?(ge=Na(Jt[Ue=Jt.length/2-1],Jt[Ne=Ue+2],Jt[Je=Ne+2],0),ze=Na(Jt[Ue+1],Jt[Ne+1],Jt[Je+1],0),Me=Na(Jt[Ue],Jt[Ne],Jt[Je],1e-4),Ye=Na(Jt[Ue+1],Jt[Ne+1],Jt[Je+1],1e-4)):(ge=Na(Jt[Ue=(Ne=Jt.length/2-1)-2],Jt[Ne],Jt[Je=Ne+2],.4999),ze=Na(Jt[Ue+1],Jt[Ne+1],Jt[Je+1],.4999),Me=Na(Jt[Ue],Jt[Ne],Jt[Je],.5),Ye=Na(Jt[Ue+1],Jt[Ne+1],Jt[Je+1],.5)),ht=Me-ge,ot=Ye-ze}if(d.midtgtArrowAngle=_m(ht,ot),d.midDispX=ht,d.midDispY=ot,ht*=-1,ot*=-1,N&&(Jt=d.allpts).length/2%2!=0&&(ht=-(Jt[Ve=2+(le=Jt.length/2-1)]-Jt[le]),ot=-(Jt[Ve+1]-Jt[le+1])),d.midsrcArrowAngle=_m(ht,ot),N)ht=Ot-d.segpts[d.segpts.length-2],ot=jt-d.segpts[d.segpts.length-1];else if(O||L||tt||D){var Be=(Jt=d.allpts).length;ht=Ot-Na(Jt[Be-6],Jt[Be-4],Jt[Be-2],.9),ot=jt-Na(Jt[Be-5],Jt[Be-3],Jt[Be-1],.9)}else ht=Ot-Gt,ot=jt-Nt;d.tgtArrowAngle=_m(ht,ot)}};Ym.getArrowWidth=Ym.getArrowHeight=function(w,d){var b=this.arrowWidthCache=this.arrowWidthCache||{},D=b[w+", "+d];return D||(D=Math.max(Math.pow(13.37*w,.9),29)*d,b[w+", "+d]=D,D)};var ua={};function _p(w){var d=[];if(null!=w){for(var b=0;b<w.length;b+=2)d.push({x:w[b],y:w[b+1]});return d}}ua.findHaystackPoints=function(w){for(var d=0;d<w.length;d++){var b=w[d],D=b._private,O=D.rscratch;if(!O.haystack){var N=2*Math.random()*Math.PI;O.source={x:Math.cos(N),y:Math.sin(N)},N=2*Math.random()*Math.PI,O.target={x:Math.cos(N),y:Math.sin(N)}}var L=D.source,tt=D.target,ht=L.position(),ot=tt.position(),mt=L.width(),Mt=tt.width(),Ot=L.height(),jt=tt.height(),Nt=b.pstyle("haystack-radius").value/2;O.haystackPts=O.allpts=[O.source.x*mt*Nt+ht.x,O.source.y*Ot*Nt+ht.y,O.target.x*Mt*Nt+ot.x,O.target.y*jt*Nt+ot.y],O.midX=(O.allpts[0]+O.allpts[2])/2,O.midY=(O.allpts[1]+O.allpts[3])/2,O.edgeType="haystack",O.haystack=!0,this.storeEdgeProjections(b),this.calculateArrowAngles(b),this.recalculateEdgeLabelProjections(b),this.calculateLabelAngles(b)}},ua.findSegmentsPoints=function(w,d){var b=w._private.rscratch,D=d.posPts,O=d.intersectionPts,N=d.vectorNormInverse,L=w.pstyle("edge-distances").value,tt=w.pstyle("segment-weights"),ht=w.pstyle("segment-distances"),ot=Math.min(tt.pfValue.length,ht.pfValue.length);b.edgeType="segments",b.segpts=[];for(var mt=0;mt<ot;mt++){var Mt=tt.pfValue[mt],Ot=ht.pfValue[mt],jt=1-Mt,Nt="node-position"===L?D:O,Jt={x:Nt.x1*jt+Nt.x2*Mt,y:Nt.y1*jt+Nt.y2*Mt};b.segpts.push(Jt.x+N.x*Ot,Jt.y+N.y*Ot)}},ua.findLoopPoints=function(w,d,b,D){var O=w._private.rscratch,N=d.dirCounts,L=d.srcPos,tt=w.pstyle("control-point-distances"),ht=tt?tt.pfValue[0]:void 0,ot=w.pstyle("loop-direction").pfValue,mt=w.pstyle("loop-sweep").pfValue,Mt=w.pstyle("control-point-step-size").pfValue;O.edgeType="self";var Ot=b,jt=Mt;D&&(Ot=0,jt=ht);var Gt=ot-Math.PI/2,Nt=Gt-mt/2,Jt=Gt+mt/2,oe=String(ot+"_"+mt);Ot=void 0===N[oe]?N[oe]=0:++N[oe],O.ctrlpts=[L.x+1.4*Math.cos(Nt)*jt*(Ot/3+1),L.y+1.4*Math.sin(Nt)*jt*(Ot/3+1),L.x+1.4*Math.cos(Jt)*jt*(Ot/3+1),L.y+1.4*Math.sin(Jt)*jt*(Ot/3+1)]},ua.findCompoundLoopPoints=function(w,d,b,D){var O=w._private.rscratch;O.edgeType="compound";var N=d.srcPos,L=d.tgtPos,tt=d.srcW,ht=d.srcH,ot=d.tgtW,mt=d.tgtH,Mt=w.pstyle("control-point-step-size").pfValue,Ot=w.pstyle("control-point-distances"),Gt=b,Nt=Mt;D&&(Gt=0,Nt=Ot?Ot.pfValue[0]:void 0);var oe={x:N.x-tt/2,y:N.y-ht/2},ae={x:L.x-ot/2,y:L.y-mt/2},le={x:Math.min(oe.x,ae.x),y:Math.min(oe.y,ae.y)},Ve=Math.max(.5,Math.log(.01*tt)),He=Math.max(.5,Math.log(.01*ot));O.ctrlpts=[le.x,le.y-(1+Math.pow(50,1.12)/100)*Nt*(Gt/3+1)*Ve,le.x-(1+Math.pow(50,1.12)/100)*Nt*(Gt/3+1)*He,le.y]},ua.findStraightEdgePoints=function(w){w._private.rscratch.edgeType="straight"},ua.findBezierPoints=function(w,d,b,D,O){var N=w._private.rscratch,L=d.vectorNormInverse,tt=d.posPts,ht=d.intersectionPts,ot=w.pstyle("edge-distances").value,mt=w.pstyle("control-point-step-size").pfValue,Mt=w.pstyle("control-point-distances"),Ot=w.pstyle("control-point-weights"),jt=Mt&&Ot?Math.min(Mt.value.length,Ot.value.length):1,Gt=Mt?Mt.pfValue[0]:void 0,Nt=Ot.value[0],Jt=D;N.edgeType=Jt?"multibezier":"bezier",N.ctrlpts=[];for(var oe=0;oe<jt;oe++){var le,ae=(.5-d.eles.length/2+b)*mt*(O?-1:1),xe=zs(ae);Jt&&(Gt=Mt?Mt.pfValue[oe]:mt,Nt=Ot.value[oe]);var Ve=void 0!==(le=D?Gt:void 0!==Gt?xe*Gt:void 0)?le:ae,He=1-Nt,ze="node-position"===ot?tt:ht,Me={x:ze.x1*He+ze.x2*Nt,y:ze.y1*He+ze.y2*Nt};N.ctrlpts.push(Me.x+L.x*Ve,Me.y+L.y*Ve)}},ua.findTaxiPoints=function(w,d){var b=w._private.rscratch;b.edgeType="segments";var D="vertical",O="horizontal",N="leftward",L="rightward",tt="downward",mt=d.posPts,Mt=d.srcW,Ot=d.srcH,jt=d.tgtW,Gt=d.tgtH,Jt="node-position"!==w.pstyle("edge-distances").value,oe=w.pstyle("taxi-direction").value,ae=oe,le=w.pstyle("taxi-turn"),xe="%"===le.units,Ve=le.pfValue,He=Ve<0,ge=w.pstyle("taxi-turn-min-distance").pfValue,Me=Jt?(Ot+Gt)/2:0,Ye=mt.x2-mt.x1,Ue=mt.y2-mt.y1,Ne=function(zn,ur){return zn>0?Math.max(zn-ur,0):Math.min(zn+ur,0)},Je=Ne(Ye,Jt?(Mt+jt)/2:0),Be=Ne(Ue,Me),wi=!1;"auto"===ae?oe=Math.abs(Je)>Math.abs(Be)?O:D:"upward"===ae||ae===tt?(oe=D,wi=!0):(ae===N||ae===L)&&(oe=O,wi=!0);var Ai,fi=oe===D,bi=fi?Be:Je,pi=fi?Ue:Ye,yi=zs(pi),Fi=!1;(!wi||!xe&&!He)&&(ae===tt&&pi<0||"upward"===ae&&pi>0||ae===N&&pi>0||ae===L&&pi<0)&&(bi=(yi*=-1)*Math.abs(bi),Fi=!0);var Fe=function(zn){return Math.abs(zn)<ge||Math.abs(zn)>=Math.abs(bi)},Gi=Fe(Ai=xe?(Ve<0?1+Ve:Ve)*bi:(Ve<0?bi:0)+Ve*yi),Ui=Fe(Math.abs(bi)-Math.abs(Ai));if(!Gi&&!Ui||Fi)if(fi){var Pe=mt.y1+Ai+(Jt?Ot/2*yi:0);b.segpts=[mt.x1,Pe,mt.x2,Pe]}else{var zi=mt.x1+Ai+(Jt?Mt/2*yi:0);b.segpts=[zi,mt.y1,zi,mt.y2]}else if(fi){var Ni=Math.abs(pi)<=Ot/2,$i=Math.abs(Ye)<=jt/2;if(Ni){var nn=(mt.x1+mt.x2)/2;b.segpts=[nn,mt.y1,nn,mt.y2]}else if($i){var kr=(mt.y1+mt.y2)/2;b.segpts=[mt.x1,kr,mt.x2,kr]}else b.segpts=[mt.x1,mt.y2]}else{var xr=Math.abs(pi)<=Mt/2,tr=Math.abs(Ue)<=Gt/2;if(xr){var On=(mt.y1+mt.y2)/2;b.segpts=[mt.x1,On,mt.x2,On]}else if(tr){var wo=(mt.x1+mt.x2)/2;b.segpts=[wo,mt.y1,wo,mt.y2]}else b.segpts=[mt.x2,mt.y1]}},ua.tryToCorrectInvalidPoints=function(w,d){var b=w._private.rscratch;if("bezier"===b.edgeType){var D=d.srcPos,O=d.tgtPos,N=d.srcW,L=d.srcH,tt=d.tgtW,ht=d.tgtH,ot=d.srcShape,mt=d.tgtShape,Mt=!St(b.startX)||!St(b.startY),Ot=!St(b.arrowStartX)||!St(b.arrowStartY),jt=!St(b.endX)||!St(b.endY),Gt=!St(b.arrowEndX)||!St(b.arrowEndY),oe=this.getArrowWidth(w.pstyle("width").pfValue,w.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,ae=rp({x:b.ctrlpts[0],y:b.ctrlpts[1]},{x:b.startX,y:b.startY}),le=ae<oe,xe=rp({x:b.ctrlpts[0],y:b.ctrlpts[1]},{x:b.endX,y:b.endY}),Ve=xe<oe,He=!1;if(Mt||Ot||le){He=!0;var ge={x:b.ctrlpts[0]-D.x,y:b.ctrlpts[1]-D.y},ze=Math.sqrt(ge.x*ge.x+ge.y*ge.y),Me={x:ge.x/ze,y:ge.y/ze},Ye=Math.max(N,L),Ue={x:b.ctrlpts[0]+2*Me.x*Ye,y:b.ctrlpts[1]+2*Me.y*Ye},Ne=ot.intersectLine(D.x,D.y,N,L,Ue.x,Ue.y,0);le?(b.ctrlpts[0]=b.ctrlpts[0]+Me.x*(oe-ae),b.ctrlpts[1]=b.ctrlpts[1]+Me.y*(oe-ae)):(b.ctrlpts[0]=Ne[0]+Me.x*oe,b.ctrlpts[1]=Ne[1]+Me.y*oe)}if(jt||Gt||Ve){He=!0;var Je={x:b.ctrlpts[0]-O.x,y:b.ctrlpts[1]-O.y},Be=Math.sqrt(Je.x*Je.x+Je.y*Je.y),wi={x:Je.x/Be,y:Je.y/Be},fi=Math.max(N,L),bi={x:b.ctrlpts[0]+2*wi.x*fi,y:b.ctrlpts[1]+2*wi.y*fi},pi=mt.intersectLine(O.x,O.y,tt,ht,bi.x,bi.y,0);Ve?(b.ctrlpts[0]=b.ctrlpts[0]+wi.x*(oe-xe),b.ctrlpts[1]=b.ctrlpts[1]+wi.y*(oe-xe)):(b.ctrlpts[0]=pi[0]+wi.x*oe,b.ctrlpts[1]=pi[1]+wi.y*oe)}He&&this.findEndpoints(w)}},ua.storeAllpts=function(w){var d=w._private.rscratch;if("multibezier"===d.edgeType||"bezier"===d.edgeType||"self"===d.edgeType||"compound"===d.edgeType){d.allpts=[],d.allpts.push(d.startX,d.startY);for(var b=0;b+1<d.ctrlpts.length;b+=2)d.allpts.push(d.ctrlpts[b],d.ctrlpts[b+1]),b+3<d.ctrlpts.length&&d.allpts.push((d.ctrlpts[b]+d.ctrlpts[b+2])/2,(d.ctrlpts[b+1]+d.ctrlpts[b+3])/2);var D;d.allpts.push(d.endX,d.endY),d.ctrlpts.length/2%2==0?(d.midX=d.allpts[D=d.allpts.length/2-1],d.midY=d.allpts[D+1]):(d.midX=Na(d.allpts[D=d.allpts.length/2-3],d.allpts[D+2],d.allpts[D+4],.5),d.midY=Na(d.allpts[D+1],d.allpts[D+3],d.allpts[D+5],.5))}else if("straight"===d.edgeType)d.allpts=[d.startX,d.startY,d.endX,d.endY],d.midX=(d.startX+d.endX+d.arrowStartX+d.arrowEndX)/4,d.midY=(d.startY+d.endY+d.arrowStartY+d.arrowEndY)/4;else if("segments"===d.edgeType)if(d.allpts=[],d.allpts.push(d.startX,d.startY),d.allpts.push.apply(d.allpts,d.segpts),d.allpts.push(d.endX,d.endY),d.segpts.length%4==0){var N=d.segpts.length/2,L=N-2;d.midX=(d.segpts[L]+d.segpts[N])/2,d.midY=(d.segpts[L+1]+d.segpts[N+1])/2}else{var tt=d.segpts.length/2-1;d.midX=d.segpts[tt],d.midY=d.segpts[tt+1]}},ua.checkForInvalidEdgeWarning=function(w){var d=w[0]._private.rscratch;d.nodesOverlap||St(d.startX)&&St(d.startY)&&St(d.endX)&&St(d.endY)?d.loggedErr=!1:d.loggedErr||(d.loggedErr=!0,Re("Edge `"+w.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},ua.findEdgeControlPoints=function(w){var d=this;if(w&&0!==w.length){for(var b=this,O=b.cy.hasCompoundNodes(),N={map:new jr,get:function(ge){var ze=this.map.get(ge[0]);return null!=ze?ze.get(ge[1]):null},set:function(ge,ze){var Me=this.map.get(ge[0]);null==Me&&(Me=new jr,this.map.set(ge[0],Me)),Me.set(ge[1],ze)}},L=[],tt=[],ht=0;ht<w.length;ht++){var ot=w[ht],mt=ot._private,Mt=ot.pstyle("curve-style").value;if(!ot.removed()&&ot.takesUpSpace()){if("haystack"===Mt){tt.push(ot);continue}var Ot="unbundled-bezier"===Mt||"segments"===Mt||"straight"===Mt||"straight-triangle"===Mt||"taxi"===Mt,jt="unbundled-bezier"===Mt||"bezier"===Mt,Nt=mt.target,ae=[mt.source.poolIndex(),Nt.poolIndex()].sort(),le=N.get(ae);null==le&&(N.set(ae,le={eles:[]}),L.push(ae)),le.eles.push(ot),Ot&&(le.hasUnbundled=!0),jt&&(le.hasBezier=!0)}}for(var xe=function(ge){var Me=N.get(L[ge]),Ye=void 0;if(!Me.hasUnbundled){var Ue=Me.eles[0].parallelEdges().filter(function(hi){return hi.isBundledBezier()});Fn(Me.eles),Ue.forEach(function(hi){return Me.eles.push(hi)}),Me.eles.sort(function(hi,Pe){return hi.poolIndex()-Pe.poolIndex()})}var Ne=Me.eles[0],Je=Ne.source(),Be=Ne.target();if(Je.poolIndex()>Be.poolIndex()){var wi=Je;Je=Be,Be=wi}var fi=Me.srcPos=Je.position(),bi=Me.tgtPos=Be.position(),pi=Me.srcW=Je.outerWidth(),yi=Me.srcH=Je.outerHeight(),Fi=Me.tgtW=Be.outerWidth(),Ai=Me.tgtH=Be.outerHeight(),li=Me.srcShape=b.nodeShapes[d.getNodeShape(Je)],Wi=Me.tgtShape=b.nodeShapes[d.getNodeShape(Be)];Me.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Fe=0;Fe<Me.eles.length;Fe++){var Gi=Me.eles[Fe],Ui=Gi[0]._private.rscratch,xi=Gi.pstyle("curve-style").value,Ni="unbundled-bezier"===xi||"segments"===xi||"taxi"===xi,$i=!Je.same(Gi.source());if(!Me.calculatedIntersection&&Je!==Be&&(Me.hasBezier||Me.hasUnbundled)){Me.calculatedIntersection=!0;var nn=li.intersectLine(fi.x,fi.y,pi,yi,bi.x,bi.y,0),bn=Me.srcIntn=nn,Mr=Wi.intersectLine(bi.x,bi.y,Fi,Ai,fi.x,fi.y,0),kr=Me.tgtIntn=Mr,Pn=Me.intersectionPts={x1:nn[0],x2:Mr[0],y1:nn[1],y2:Mr[1]},yn=Me.posPts={x1:fi.x,x2:bi.x,y1:fi.y,y2:bi.y},xr=Mr[1]-nn[1],tr=Mr[0]-nn[0],On=Math.sqrt(tr*tr+xr*xr),hr=Me.vector={x:tr,y:xr},To=Me.vectorNorm={x:hr.x/On,y:hr.y/On},wo={x:-To.y,y:To.x};Me.nodesOverlap=!St(On)||Wi.checkPoint(nn[0],nn[1],0,Fi,Ai,bi.x,bi.y)||li.checkPoint(Mr[0],Mr[1],0,pi,yi,fi.x,fi.y),Me.vectorNormInverse=wo,Ye={nodesOverlap:Me.nodesOverlap,dirCounts:Me.dirCounts,calculatedIntersection:!0,hasBezier:Me.hasBezier,hasUnbundled:Me.hasUnbundled,eles:Me.eles,srcPos:bi,tgtPos:fi,srcW:Fi,srcH:Ai,tgtW:pi,tgtH:yi,srcIntn:kr,tgtIntn:bn,srcShape:Wi,tgtShape:li,posPts:{x1:yn.x2,y1:yn.y2,x2:yn.x1,y2:yn.y1},intersectionPts:{x1:Pn.x2,y1:Pn.y2,x2:Pn.x1,y2:Pn.y1},vector:{x:-hr.x,y:-hr.y},vectorNorm:{x:-To.x,y:-To.y},vectorNormInverse:{x:-wo.x,y:-wo.y}}}var to=$i?Ye:Me;Ui.nodesOverlap=to.nodesOverlap,Ui.srcIntn=to.srcIntn,Ui.tgtIntn=to.tgtIntn,O&&(Je.isParent()||Je.isChild()||Be.isParent()||Be.isChild())&&(Je.parents().anySame(Be)||Be.parents().anySame(Je)||Je.same(Be)&&Je.isParent())?d.findCompoundLoopPoints(Gi,to,Fe,Ni):Je===Be?d.findLoopPoints(Gi,to,Fe,Ni):"segments"===xi?d.findSegmentsPoints(Gi,to):"taxi"===xi?d.findTaxiPoints(Gi,to):"straight"===xi||!Ni&&Me.eles.length%2==1&&Fe===Math.floor(Me.eles.length/2)?d.findStraightEdgePoints(Gi):d.findBezierPoints(Gi,to,Fe,Ni,$i),d.findEndpoints(Gi),d.tryToCorrectInvalidPoints(Gi,to),d.checkForInvalidEdgeWarning(Gi),d.storeAllpts(Gi),d.storeEdgeProjections(Gi),d.calculateArrowAngles(Gi),d.recalculateEdgeLabelProjections(Gi),d.calculateLabelAngles(Gi)}},Ve=0;Ve<L.length;Ve++)xe(Ve);this.findHaystackPoints(tt)}},ua.getSegmentPoints=function(w){var d=w[0]._private.rscratch;if("segments"===d.edgeType)return this.recalculateRenderedStyle(w),_p(d.segpts)},ua.getControlPoints=function(w){var d=w[0]._private.rscratch,b=d.edgeType;if("bezier"===b||"multibezier"===b||"self"===b||"compound"===b)return this.recalculateRenderedStyle(w),_p(d.ctrlpts)},ua.getEdgeMidpoint=function(w){var d=w[0]._private.rscratch;return this.recalculateRenderedStyle(w),{x:d.midX,y:d.midY}};var xh={manualEndptToPx:function(w,d){var D=w.position(),O=w.outerWidth(),N=w.outerHeight();if(2===d.value.length){var L=[d.pfValue[0],d.pfValue[1]];return"%"===d.units[0]&&(L[0]=L[0]*O),"%"===d.units[1]&&(L[1]=L[1]*N),L[0]+=D.x,L[1]+=D.y,L}var tt=d.pfValue[0];tt=-Math.PI/2+tt;var ht=2*Math.max(O,N),ot=[D.x+Math.cos(tt)*ht,D.y+Math.sin(tt)*ht];return this.nodeShapes[this.getNodeShape(w)].intersectLine(D.x,D.y,O,N,ot[0],ot[1],0)},findEndpoints:function(w){var b,Ye,Ue,Ne,Je,d=this,D=w.source()[0],O=w.target()[0],N=D.position(),L=O.position(),tt=w.pstyle("target-arrow-shape").value,ht=w.pstyle("source-arrow-shape").value,ot=w.pstyle("target-distance-from-node").pfValue,mt=w.pstyle("source-distance-from-node").pfValue,Mt=w.pstyle("curve-style").value,Ot=w._private.rscratch,jt=Ot.edgeType,Nt="self"===jt||"compound"===jt,Jt="bezier"===jt||"multibezier"===jt||Nt,oe="bezier"!==jt,ae="straight"===jt||"segments"===jt,le="segments"===jt,xe=Jt||oe||ae,Ve=Nt||"taxi"===Mt,He=w.pstyle("source-endpoint"),ge=Ve?"outside-to-node":He.value,ze=w.pstyle("target-endpoint"),Me=Ve?"outside-to-node":ze.value;if(Ot.srcManEndpt=He,Ot.tgtManEndpt=ze,Jt){var Be=[Ot.ctrlpts[0],Ot.ctrlpts[1]];Ye=oe?[Ot.ctrlpts[Ot.ctrlpts.length-2],Ot.ctrlpts[Ot.ctrlpts.length-1]]:Be,Ue=Be}else if(ae){var fi=le?Ot.segpts.slice(0,2):[L.x,L.y];Ye=le?Ot.segpts.slice(Ot.segpts.length-2):[N.x,N.y],Ue=fi}if("inside-to-node"===Me)b=[L.x,L.y];else if(ze.units)b=this.manualEndptToPx(O,ze);else if("outside-to-line"===Me)b=Ot.tgtIntn;else if("outside-to-node"===Me||"outside-to-node-or-label"===Me?Ne=Ye:("outside-to-line"===Me||"outside-to-line-or-label"===Me)&&(Ne=[N.x,N.y]),b=d.nodeShapes[this.getNodeShape(O)].intersectLine(L.x,L.y,O.outerWidth(),O.outerHeight(),Ne[0],Ne[1],0),"outside-to-node-or-label"===Me||"outside-to-line-or-label"===Me){var pi=O._private.rscratch,Ai=pi.labelX,li=pi.labelY,Wi=pi.labelWidth/2,Fe=pi.labelHeight/2,Gi=O.pstyle("text-valign").value;"top"===Gi?li-=Fe:"bottom"===Gi&&(li+=Fe);var Ui=O.pstyle("text-halign").value;"left"===Ui?Ai-=Wi:"right"===Ui&&(Ai+=Wi);var xi=Fu(Ne[0],Ne[1],[Ai-Wi,li-Fe,Ai+Wi,li-Fe,Ai+Wi,li+Fe,Ai-Wi,li+Fe],L.x,L.y);if(xi.length>0){var Ni=N,$i=od(Ni,Nu(b)),nn=od(Ni,Nu(xi)),bn=$i;nn<$i&&(b=xi,bn=nn),xi.length>2&&od(Ni,{x:xi[2],y:xi[3]})<bn&&(b=[xi[2],xi[3]])}}var kr=yo(b,Ye,d.arrowShapes[tt].spacing(w)+ot),Pn=yo(b,Ye,d.arrowShapes[tt].gap(w)+ot);if(Ot.endX=Pn[0],Ot.endY=Pn[1],Ot.arrowEndX=kr[0],Ot.arrowEndY=kr[1],"inside-to-node"===ge)b=[N.x,N.y];else if(He.units)b=this.manualEndptToPx(D,He);else if("outside-to-line"===ge)b=Ot.srcIntn;else if("outside-to-node"===ge||"outside-to-node-or-label"===ge?Je=Ue:("outside-to-line"===ge||"outside-to-line-or-label"===ge)&&(Je=[L.x,L.y]),b=d.nodeShapes[this.getNodeShape(D)].intersectLine(N.x,N.y,D.outerWidth(),D.outerHeight(),Je[0],Je[1],0),"outside-to-node-or-label"===ge||"outside-to-line-or-label"===ge){var yn=D._private.rscratch,On=yn.labelX,hr=yn.labelY,To=yn.labelWidth/2,wo=yn.labelHeight/2,to=D.pstyle("text-valign").value;"top"===to?hr-=wo:"bottom"===to&&(hr+=wo);var hi=D.pstyle("text-halign").value;"left"===hi?On-=To:"right"===hi&&(On+=To);var Pe=Fu(Je[0],Je[1],[On-To,hr-wo,On+To,hr-wo,On+To,hr+wo,On-To,hr+wo],N.x,N.y);if(Pe.length>0){var Ri=L,tn=od(Ri,Nu(b)),zi=od(Ri,Nu(Pe)),Li=tn;zi<tn&&(b=[Pe[0],Pe[1]],Li=zi),Pe.length>2&&od(Ri,{x:Pe[2],y:Pe[3]})<Li&&(b=[Pe[2],Pe[3]])}}var en=yo(b,Ue,d.arrowShapes[ht].spacing(w)+mt),zn=yo(b,Ue,d.arrowShapes[ht].gap(w)+mt);Ot.startX=zn[0],Ot.startY=zn[1],Ot.arrowStartX=en[0],Ot.arrowStartY=en[1],xe&&(Ot.badLine=!(St(Ot.startX)&&St(Ot.startY)&&St(Ot.endX)&&St(Ot.endY)))},getSourceEndpoint:function(w){var d=w[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(w),d.edgeType)?{x:d.haystackPts[0],y:d.haystackPts[1]}:{x:d.arrowStartX,y:d.arrowStartY}},getTargetEndpoint:function(w){var d=w[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(w),d.edgeType)?{x:d.haystackPts[2],y:d.haystackPts[3]}:{x:d.arrowEndX,y:d.arrowEndY}}},$m={};function f1(w,d,b){for(var D=function(ot,mt,Mt,Ot){return Na(ot,mt,Mt,Ot)},N=d._private.rstyle.bezierPts,L=0;L<w.bezierProjPcts.length;L++){var tt=w.bezierProjPcts[L];N.push({x:D(b[0],b[2],b[4],tt),y:D(b[1],b[3],b[5],tt)})}}$m.storeEdgeProjections=function(w){var d=w._private,b=d.rscratch,D=b.edgeType;if(d.rstyle.bezierPts=null,d.rstyle.linePts=null,d.rstyle.haystackPts=null,"multibezier"===D||"bezier"===D||"self"===D||"compound"===D){d.rstyle.bezierPts=[];for(var O=0;O+5<b.allpts.length;O+=4)f1(this,w,b.allpts.slice(O,O+6))}else if("segments"===D){var N=d.rstyle.linePts=[];for(O=0;O+1<b.allpts.length;O+=2)N.push({x:b.allpts[O],y:b.allpts[O+1]})}else if("haystack"===D){var L=b.haystackPts;d.rstyle.haystackPts=[{x:L[0],y:L[1]},{x:L[2],y:L[3]}]}d.rstyle.arrowWidth=this.getArrowWidth(w.pstyle("width").pfValue,w.pstyle("arrow-scale").value)*this.arrowShapeWidth},$m.recalculateEdgeProjections=function(w){this.findEdgeControlPoints(w)};var fu={recalculateNodeLabelProjection:function(w){var d=w.pstyle("label").strValue;if(!C(d)){var b,D,O=w._private,N=w.width(),L=w.height(),tt=w.padding(),ht=w.position(),ot=w.pstyle("text-halign").strValue,mt=w.pstyle("text-valign").strValue,Mt=O.rscratch,Ot=O.rstyle;switch(ot){case"left":b=ht.x-N/2-tt;break;case"right":b=ht.x+N/2+tt;break;default:b=ht.x}switch(mt){case"top":D=ht.y-L/2-tt;break;case"bottom":D=ht.y+L/2+tt;break;default:D=ht.y}Mt.labelX=b,Mt.labelY=D,Ot.labelX=b,Ot.labelY=D,this.calculateLabelAngles(w),this.applyLabelDimensions(w)}}},Mp=function(d,b){var D=Math.atan(b/d);return 0===d&&D<0&&(D*=-1),D},Xm=function(d,b){return Mp(b.x-d.x,b.y-d.y)};fu.recalculateEdgeLabelProjections=function(w){var d,b=w._private,D=b.rscratch,O=this,N={mid:w.pstyle("label").strValue,source:w.pstyle("source-label").strValue,target:w.pstyle("target-label").strValue};if(N.mid||N.source||N.target){var L=function(Mt,Ot,jt){Jn(b.rscratch,Mt,Ot,jt),Jn(b.rstyle,Mt,Ot,jt)};L("labelX",null,(d={x:D.midX,y:D.midY}).x),L("labelY",null,d.y);var tt=Mp(D.midDispX,D.midDispY);L("labelAutoAngle",null,tt);var ht=function mt(){if(mt.cache)return mt.cache;for(var Mt=[],Ot=0;Ot+5<D.allpts.length;Ot+=4)Mt.push({p0:{x:D.allpts[Ot],y:D.allpts[Ot+1]},p1:{x:D.allpts[Ot+2],y:D.allpts[Ot+3]},p2:{x:D.allpts[Ot+4],y:D.allpts[Ot+5]},startDist:0,length:0,segments:[]});var Jt=b.rstyle.bezierPts,oe=O.bezierProjPcts.length;function ae(ge,ze,Me,Ye,Ue){var Ne=rp(ze,Me),Je=ge.segments[ge.segments.length-1];ge.segments.push({p0:ze,p1:Me,t0:Ye,t1:Ue,startDist:Je?Je.startDist+Je.length:0,length:Ne}),ge.length+=Ne}for(var le=0;le<Mt.length;le++){var xe=Mt[le],Ve=Mt[le-1];Ve&&(xe.startDist=Ve.startDist+Ve.length),ae(xe,xe.p0,Jt[le*oe],0,O.bezierProjPcts[0]);for(var He=0;He<oe-1;He++)ae(xe,Jt[le*oe+He],Jt[le*oe+He+1],O.bezierProjPcts[He],O.bezierProjPcts[He+1]);ae(xe,Jt[le*oe+oe-1],xe.p2,O.bezierProjPcts[oe-1],1)}return mt.cache=Mt},ot=function(Mt){var Ot,jt="source"===Mt;if(N[Mt]){var Gt=w.pstyle(Mt+"-text-offset").pfValue;switch(D.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var Jt,Nt=ht(),oe=0,ae=0,le=0;le<Nt.length;le++){for(var xe=Nt[jt?le:Nt.length-1-le],Ve=0;Ve<xe.segments.length;Ve++){var He=xe.segments[jt?Ve:xe.segments.length-1-Ve];if(oe=ae,(ae+=He.length)>=Gt||le===Nt.length-1&&Ve===xe.segments.length-1){Jt={cp:xe,segment:He};break}}if(Jt)break}var ze=Jt.cp,Me=Jt.segment,Ye=(Gt-oe)/Me.length,Ue=Me.t1-Me.t0,Ne=jt?Me.t0+Ue*Ye:Me.t1-Ue*Ye;Ne=Nr(0,Ne,1),d=va(ze.p0,ze.p1,ze.p2,Ne),Ot=function(d,b,D,O){var N=Nr(0,O-.001,1),L=Nr(0,O+.001,1),tt=va(d,b,D,N),ht=va(d,b,D,L);return Xm(tt,ht)}(ze.p0,ze.p1,ze.p2,Ne);break;case"straight":case"segments":case"haystack":for(var Be,wi,fi,bi,Je=0,pi=D.allpts.length,yi=0;yi+3<pi&&(jt?(fi={x:D.allpts[yi],y:D.allpts[yi+1]},bi={x:D.allpts[yi+2],y:D.allpts[yi+3]}):(fi={x:D.allpts[pi-2-yi],y:D.allpts[pi-1-yi]},bi={x:D.allpts[pi-4-yi],y:D.allpts[pi-3-yi]}),wi=Je,!((Je+=Be=rp(fi,bi))>=Gt));yi+=2);var Ai=(Gt-wi)/Be;Ai=Nr(0,Ai,1),d=function(d,b,D,O){var N_x=b.x-d.x,N_y=b.y-d.y,L=rp(d,b);return D=null==D?0:D,{x:d.x+N_x/L*(O=null!=O?O:D*L),y:d.y+N_y/L*O}}(fi,bi,Ai),Ot=Xm(fi,bi)}L("labelX",Mt,d.x),L("labelY",Mt,d.y),L("labelAutoAngle",Mt,Ot)}};ot("source"),ot("target"),this.applyLabelDimensions(w)}},fu.applyLabelDimensions=function(w){this.applyPrefixedLabelDimensions(w),w.isEdge()&&(this.applyPrefixedLabelDimensions(w,"source"),this.applyPrefixedLabelDimensions(w,"target"))},fu.applyPrefixedLabelDimensions=function(w,d){var b=w._private,D=this.getLabelText(w,d),O=this.calculateLabelDimensions(w,D),N=w.pstyle("line-height").pfValue,L=w.pstyle("text-wrap").strValue,tt=Vn(b.rscratch,"labelWrapCachedLines",d)||[],ht="wrap"!==L?1:Math.max(tt.length,1),ot=O.height/ht,mt=ot*N,Mt=O.width,Ot=O.height+(ht-1)*(N-1)*ot;Jn(b.rstyle,"labelWidth",d,Mt),Jn(b.rscratch,"labelWidth",d,Mt),Jn(b.rstyle,"labelHeight",d,Ot),Jn(b.rscratch,"labelHeight",d,Ot),Jn(b.rscratch,"labelLineHeight",d,mt)},fu.getLabelText=function(w,d){var b=w._private,O=w.pstyle((d?d+"-":"")+"label").strValue,N=w.pstyle("text-transform").value,L=function(Fi,Ai){return Ai?(Jn(b.rscratch,Fi,d,Ai),Ai):Vn(b.rscratch,Fi,d)};if(!O)return"";"none"==N||("uppercase"==N?O=O.toUpperCase():"lowercase"==N&&(O=O.toLowerCase()));var tt=w.pstyle("text-wrap").value;if("wrap"===tt){var ht=L("labelKey");if(null!=ht&&L("labelWrapKey")===ht)return L("labelWrapCachedText");for(var mt=O.split("\n"),Mt=w.pstyle("text-max-width").pfValue,jt="anywhere"===w.pstyle("text-overflow-wrap").value,Gt=[],Nt=/[\s\u200b]+/,Jt=jt?"":" ",oe=0;oe<mt.length;oe++){var ae=mt[oe],xe=this.calculateLabelDimensions(w,ae).width;if(jt){var Ve=ae.split("").join("\u200b");ae=Ve}if(xe>Mt){for(var He=ae.split(Nt),ge="",ze=0;ze<He.length;ze++){var Me=He[ze];this.calculateLabelDimensions(w,0===ge.length?Me:ge+Jt+Me).width<=Mt?ge+=Me+Jt:(ge&&Gt.push(ge),ge=Me+Jt)}ge.match(/^[\s\u200b]+$/)||Gt.push(ge)}else Gt.push(ae)}L("labelWrapCachedLines",Gt),O=L("labelWrapCachedText",Gt.join("\n")),L("labelWrapKey",ht)}else if("ellipsis"===tt){var Je=w.pstyle("text-max-width").pfValue,Be="",fi=!1;if(this.calculateLabelDimensions(w,O).width<Je)return O;for(var bi=0;bi<O.length&&!(this.calculateLabelDimensions(w,Be+O[bi]+"\u2026").width>Je);bi++)Be+=O[bi],bi===O.length-1&&(fi=!0);return fi||(Be+="\u2026"),Be}return O},fu.getLabelJustification=function(w){var d=w.pstyle("text-justification").strValue,b=w.pstyle("text-halign").strValue;if("auto"!==d)return d;if(!w.isNode())return"center";switch(b){case"left":return"right";case"right":return"left";default:return"center"}},fu.calculateLabelDimensions=function(w,d){var D=Mi(d,w._private.labelDimsKey),O=this.labelDimCache||(this.labelDimCache=[]),N=O[D];if(null!=N)return N;var tt=w.pstyle("font-style").strValue,ht=w.pstyle("font-size").pfValue,ot=w.pstyle("font-family").strValue,mt=w.pstyle("font-weight").strValue,Mt=this.labelCalcCanvas,Ot=this.labelCalcCanvasContext;if(!Mt){Mt=this.labelCalcCanvas=document.createElement("canvas"),Ot=this.labelCalcCanvasContext=Mt.getContext("2d");var jt=Mt.style;jt.position="absolute",jt.left="-9999px",jt.top="-9999px",jt.zIndex="-1",jt.visibility="hidden",jt.pointerEvents="none"}Ot.font="".concat(tt," ").concat(mt," ").concat(ht,"px ").concat(ot);for(var Gt=0,Nt=0,Jt=d.split("\n"),oe=0;oe<Jt.length;oe++){var le=Ot.measureText(Jt[oe]),xe=Math.ceil(le.width),Ve=ht;Gt=Math.max(xe,Gt),Nt+=Ve}return O[D]={width:Gt+=0,height:Nt+=0}},fu.calculateLabelAngle=function(w,d){var D=w._private.rscratch,O=w.isEdge(),L=w.pstyle((d?d+"-":"")+"text-rotation"),tt=L.strValue;return"none"===tt?0:O&&"autorotate"===tt?D.labelAutoAngle:"autorotate"===tt?0:L.pfValue},fu.calculateLabelAngles=function(w){var d=this,b=w.isEdge(),O=w._private.rscratch;O.labelAngle=d.calculateLabelAngle(w),b&&(O.sourceLabelAngle=d.calculateLabelAngle(w,"source"),O.targetLabelAngle=d.calculateLabelAngle(w,"target"))};var Fv={},Vv=!1;Fv.getNodeShape=function(w){var b=w.pstyle("shape").value;if("cutrectangle"===b&&(w.width()<28||w.height()<28))return Vv||(Re("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Vv=!0),"rectangle";if(w.isParent())return"rectangle"===b||"roundrectangle"===b||"round-rectangle"===b||"cutrectangle"===b||"cut-rectangle"===b||"barrel"===b?b:"rectangle";if("polygon"===b){var D=w.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(D).name}return b};var Ad={updateCachedGrabbedEles:function(){var w=this.cachedZSortedEles;if(w){w.drag=[],w.nondrag=[];for(var d=[],b=0;b<w.length;b++){var O=(D=w[b])._private.rscratch;D.grabbed()&&!D.isParent()?d.push(D):O.inDragLayer?w.drag.push(D):w.nondrag.push(D)}for(b=0;b<d.length;b++){var D;w.drag.push(D=d[b])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(w){if(w||!this.cachedZSortedEles){var d=this.cy.mutableElements().toArray();d.sort(Af),d.interactive=d.filter(function(b){return b.interactive()}),this.cachedZSortedEles=d,this.updateCachedGrabbedEles()}else d=this.cachedZSortedEles;return d}},lr={};[kd,Ym,ua,xh,$m,fu,Fv,{registerCalculationListeners:function(){var w=this.cy,d=w.collection(),b=this,D=function(L){var tt=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(d.merge(L),tt)for(var ht=0;ht<L.length;ht++){var ot=L[ht],mt=ot._private,Mt=mt.rstyle;Mt.clean=!1,Mt.cleanConnected=!1}};b.binder(w).on("bounds.* dirty.*",function(L){D(L.target)}).on("style.* background.*",function(L){D(L.target,!1)});var O=function(L){if(L){var tt=b.onUpdateEleCalcsFns;d.cleanStyle();for(var ht=0;ht<d.length;ht++){var ot=d[ht],mt=ot._private.rstyle;ot.isNode()&&!mt.cleanConnected&&(D(ot.connectedEdges()),mt.cleanConnected=!0)}if(tt)for(var Mt=0;Mt<tt.length;Mt++)(0,tt[Mt])(L,d);b.recalculateRenderedStyle(d),d=w.collection()}};b.flushRenderedStyleQueue=function(){O(!0)},b.beforeRender(O,b.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(w){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(w)},recalculateRenderedStyle:function(w,d){var b=function(xe){return xe._private.rstyle.cleanConnected},D=[],O=[];if(!this.destroyed){void 0===d&&(d=!0);for(var N=0;N<w.length;N++){var L=w[N],tt=L._private,ht=tt.rstyle;L.isEdge()&&(!b(L.source())||!b(L.target()))&&(ht.clean=!1),!(d&&ht.clean||L.removed())&&"none"!==L.pstyle("display").value&&("nodes"===tt.group?O.push(L):D.push(L),ht.clean=!0)}for(var ot=0;ot<O.length;ot++){var mt=O[ot],Ot=mt._private.rstyle,jt=mt.position();this.recalculateNodeLabelProjection(mt),Ot.nodeX=jt.x,Ot.nodeY=jt.y,Ot.nodeW=mt.pstyle("width").pfValue,Ot.nodeH=mt.pstyle("height").pfValue}this.recalculateEdgeProjections(D);for(var Gt=0;Gt<D.length;Gt++){var Jt=D[Gt]._private,oe=Jt.rstyle,ae=Jt.rscratch;oe.srcX=ae.arrowStartX,oe.srcY=ae.arrowStartY,oe.tgtX=ae.arrowEndX,oe.tgtY=ae.arrowEndY,oe.midX=ae.midX,oe.midY=ae.midY,oe.labelAngle=ae.labelAngle,oe.sourceLabelAngle=ae.sourceLabelAngle,oe.targetLabelAngle=ae.targetLabelAngle}}}},Ad].forEach(function(w){Ht(lr,w)});var Ca={getCachedImage:function(w,d,b){var O=this.imageCache=this.imageCache||{},N=O[w];if(N)return N.image.complete||N.image.addEventListener("load",b),N.image;var L=(N=O[w]=O[w]||{}).image=new Image;return L.addEventListener("load",b),L.addEventListener("error",function(){L.error=!0}),"data:"===w.substring(0,"data:".length).toLowerCase()||(L.crossOrigin=d),L.src=w,L}},hs={registerBinding:function(w,d,b,D){var O=Array.prototype.slice.apply(arguments,[1]),N=this.binder(w);return N.on.apply(N,O)},binder:function(w){var d=this,b=w===window||w===document||w===document.body||function(d){return"undefined"!=typeof HTMLElement&&d instanceof HTMLElement}(w);if(null==d.supportsPassiveEvents){var D=!1;try{var O=Object.defineProperty({},"passive",{get:function(){return D=!0,!0}});window.addEventListener("test",null,O)}catch(L){}d.supportsPassiveEvents=D}var N=function(tt,ht,ot){var mt=Array.prototype.slice.call(arguments);return b&&d.supportsPassiveEvents&&(mt[2]={capture:null!=ot&&ot,passive:!1,once:!1}),d.bindings.push({target:w,args:mt}),(w.addEventListener||w.on).apply(w,mt),this};return{on:N,addEventListener:N,addListener:N,bind:N}},nodeIsDraggable:function(w){return w&&w.isNode()&&!w.locked()&&w.grabbable()},nodeIsGrabbable:function(w){return this.nodeIsDraggable(w)&&w.interactive()}};hs.load=function(){var w=this,d=function(Pe){return Pe.selected()},b=function(Pe,Ri,tn,zi){null==Pe&&(Pe=w.cy);for(var Li=0;Li<Ri.length;Li++)Pe.emit({originalEvent:tn,type:Ri[Li],position:zi})},D=function(Pe){return Pe.shiftKey||Pe.metaKey||Pe.ctrlKey},O=function(Pe,Ri){var tn=!0;if(w.cy.hasCompoundNodes()&&Pe&&Pe.pannable()){for(var zi=0;Ri&&zi<Ri.length;zi++)if((Pe=Ri[zi]).isNode()&&Pe.isParent()&&!Pe.pannable()){tn=!1;break}}else tn=!0;return tn},tt=function(Pe){Pe[0]._private.rscratch.inDragLayer=!0},ot=function(Pe){Pe[0]._private.rscratch.isGrabTarget=!0},Mt=function(Pe,Ri){var tn=Ri.addToList;tn.has(Pe)||(tn.merge(Pe),function(Pe){Pe[0]._private.grabbed=!0}(Pe))},jt=function(Pe,Ri){Ri=Ri||{};var tn=Pe.cy().hasCompoundNodes();Ri.inDragLayer&&(Pe.forEach(tt),Pe.neighborhood().stdFilter(function(zi){return!tn||zi.isEdge()}).forEach(tt)),Ri.addToList&&Pe.forEach(function(zi){Mt(zi,Ri)}),function(Pe,Ri){if(Pe.cy().hasCompoundNodes()&&(null!=Ri.inDragLayer||null!=Ri.addToList)){var tn=Pe.descendants();Ri.inDragLayer&&(tn.forEach(tt),tn.connectedEdges().forEach(tt)),Ri.addToList&&Ri.addToList.unmerge(tn)}}(Pe,Ri),Jt(Pe,{inDragLayer:Ri.inDragLayer}),w.updateCachedGrabbedEles()},Gt=jt,Nt=function(Pe){!Pe||(w.getCachedZSortedEles().forEach(function(Ri){(function(Pe){Pe[0]._private.grabbed=!1})(Ri),function(Pe){Pe[0]._private.rscratch.inDragLayer=!1}(Ri),function(Pe){Pe[0]._private.rscratch.isGrabTarget=!1}(Ri)}),w.updateCachedGrabbedEles())},Jt=function(Pe,Ri){if((null!=Ri.inDragLayer||null!=Ri.addToList)&&Pe.cy().hasCompoundNodes()){var tn=Pe.ancestors().orphans();if(!tn.same(Pe)){var zi=tn.descendants().spawnSelf().merge(tn).unmerge(Pe).unmerge(Pe.descendants()),Li=zi.connectedEdges();Ri.inDragLayer&&(Li.forEach(tt),zi.forEach(tt)),Ri.addToList&&zi.forEach(function(We){Mt(We,Ri)})}}},oe=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},ae="undefined"!=typeof MutationObserver,le="undefined"!=typeof ResizeObserver;ae?(w.removeObserver=new MutationObserver(function(hi){for(var Pe=0;Pe<hi.length;Pe++){var tn=hi[Pe].removedNodes;if(tn)for(var zi=0;zi<tn.length;zi++)if(tn[zi]===w.container){w.destroy();break}}}),w.container.parentNode&&w.removeObserver.observe(w.container.parentNode,{childList:!0})):w.registerBinding(w.container,"DOMNodeRemoved",function(hi){w.destroy()});var xe=Kt(function(){w.cy.resize()},100);ae&&(w.styleObserver=new MutationObserver(xe),w.styleObserver.observe(w.container,{attributes:!0})),w.registerBinding(window,"resize",xe),le&&(w.resizeObserver=new ResizeObserver(xe),w.resizeObserver.observe(w.container));var He=function(){w.invalidateContainerClientCoordsCache()};(function(Pe,Ri){for(;null!=Pe;)w.registerBinding(hi=Pe,"transitionend",He),w.registerBinding(hi,"animationend",He),w.registerBinding(hi,"scroll",He),Pe=Pe.parentNode;var hi})(w.container),w.registerBinding(w.container,"contextmenu",function(hi){hi.preventDefault()});var Me,Ye,Ue,ze=function(Pe){for(var Ri=w.findContainerClientCoords(),tn=Ri[0],zi=Ri[1],Li=Ri[2],We=Ri[3],en=Pe.touches?Pe.touches:[Pe],zn=!1,ur=0;ur<en.length;ur++){var Uo=en[ur];if(tn<=Uo.clientX&&Uo.clientX<=tn+Li&&zi<=Uo.clientY&&Uo.clientY<=zi+We){zn=!0;break}}if(!zn)return!1;for(var Zr=w.container,Pr=Pe.target.parentNode,qr=!1;Pr;){if(Pr===Zr){qr=!0;break}Pr=Pr.parentNode}return!!qr};w.registerBinding(w.container,"mousedown",function(Pe){if(ze(Pe)){Pe.preventDefault(),oe(),w.hoverData.capture=!0,w.hoverData.which=Pe.which;var Ri=w.cy,tn=[Pe.clientX,Pe.clientY],zi=w.projectIntoViewport(tn[0],tn[1]),Li=w.selection,We=w.findNearestElements(zi[0],zi[1],!0,!1),en=We[0],zn=w.dragData.possibleDragElements;if(w.hoverData.mdownPos=zi,w.hoverData.mdownGPos=tn,3==Pe.which){w.hoverData.cxtStarted=!0;var Uo={originalEvent:Pe,type:"cxttapstart",position:{x:zi[0],y:zi[1]}};en?(en.activate(),en.emit(Uo),w.hoverData.down=en):Ri.emit(Uo),w.hoverData.downTime=(new Date).getTime(),w.hoverData.cxtDragged=!1}else if(1==Pe.which){if(en&&en.activate(),null!=en&&w.nodeIsGrabbable(en)){var Zr=function(As){return{originalEvent:Pe,type:As,position:{x:zi[0],y:zi[1]}}};if(ot(en),en.selected()){zn=w.dragData.possibleDragElements=Ri.collection();var Pr=Ri.$(function(qr){return qr.isNode()&&qr.selected()&&w.nodeIsGrabbable(qr)});jt(Pr,{addToList:zn}),en.emit(Zr("grabon")),Pr.forEach(function(As){As.emit(Zr("grab"))})}else zn=w.dragData.possibleDragElements=Ri.collection(),Gt(en,{addToList:zn}),en.emit(Zr("grabon")).emit(Zr("grab"));w.redrawHint("eles",!0),w.redrawHint("drag",!0)}w.hoverData.down=en,w.hoverData.downs=We,w.hoverData.downTime=(new Date).getTime(),b(en,["mousedown","tapstart","vmousedown"],Pe,{x:zi[0],y:zi[1]}),null==en?(Li[4]=1,w.data.bgActivePosistion={x:zi[0],y:zi[1]},w.redrawHint("select",!0),w.redraw()):en.pannable()&&(Li[4]=1),w.hoverData.tapholdCancelled=!1,clearTimeout(w.hoverData.tapholdTimeout),w.hoverData.tapholdTimeout=setTimeout(function(){if(!w.hoverData.tapholdCancelled){var As=w.hoverData.down;As?As.emit({originalEvent:Pe,type:"taphold",position:{x:zi[0],y:zi[1]}}):Ri.emit({originalEvent:Pe,type:"taphold",position:{x:zi[0],y:zi[1]}})}},w.tapholdDuration)}Li[0]=Li[2]=zi[0],Li[1]=Li[3]=zi[1]}},!1),w.registerBinding(window,"mousemove",function(Pe){var Ua;if(w.hoverData.capture||ze(Pe)){var tn=!1,zi=w.cy,Li=zi.zoom(),We=[Pe.clientX,Pe.clientY],en=w.projectIntoViewport(We[0],We[1]),zn=w.hoverData.mdownPos,ur=w.hoverData.mdownGPos,Uo=w.selection,Zr=null;!w.hoverData.draggingEles&&!w.hoverData.dragging&&!w.hoverData.selecting&&(Zr=w.findNearestElement(en[0],en[1],!0,!1));var Aa,Po=w.hoverData.last,Pr=w.hoverData.down,qr=[en[0]-Uo[2],en[1]-Uo[3]],As=w.dragData.possibleDragElements;if(ur){var _h=We[0]-ur[0],Ha=We[1]-ur[1];w.hoverData.isOverThresholdDrag=Aa=_h*_h+Ha*Ha>=w.desktopTapThreshold2}var Fc=D(Pe);Aa&&(w.hoverData.tapholdCancelled=!0),tn=!0,b(Zr,["mousemove","vmousemove","tapdrag"],Pe,{x:en[0],y:en[1]});var al=function(){w.data.bgActivePosistion=void 0,w.hoverData.selecting||zi.emit({originalEvent:Pe,type:"boxstart",position:{x:en[0],y:en[1]}}),Uo[4]=1,w.hoverData.selecting=!0,w.redrawHint("select",!0),w.redraw()};if(3===w.hoverData.which){if(Aa){var Lf={originalEvent:Pe,type:"cxtdrag",position:{x:en[0],y:en[1]}};Pr?Pr.emit(Lf):zi.emit(Lf),w.hoverData.cxtDragged=!0,(!w.hoverData.cxtOver||Zr!==w.hoverData.cxtOver)&&(w.hoverData.cxtOver&&w.hoverData.cxtOver.emit({originalEvent:Pe,type:"cxtdragout",position:{x:en[0],y:en[1]}}),w.hoverData.cxtOver=Zr,Zr&&Zr.emit({originalEvent:Pe,type:"cxtdragover",position:{x:en[0],y:en[1]}}))}}else if(w.hoverData.dragging){if(tn=!0,zi.panningEnabled()&&zi.userPanningEnabled()){var Bc;if(w.hoverData.justStartedPan){var Vc=w.hoverData.mdownPos;Bc={x:(en[0]-Vc[0])*Li,y:(en[1]-Vc[1])*Li},w.hoverData.justStartedPan=!1}else Bc={x:qr[0]*Li,y:qr[1]*Li};zi.panBy(Bc),zi.emit("dragpan"),w.hoverData.dragged=!0}en=w.projectIntoViewport(Pe.clientX,Pe.clientY)}else if(1!=Uo[4]||null!=Pr&&!Pr.pannable()){if(Pr&&Pr.pannable()&&Pr.active()&&Pr.unactivate(),(!Pr||!Pr.grabbed())&&Zr!=Po&&(Po&&b(Po,["mouseout","tapdragout"],Pe,{x:en[0],y:en[1]}),Zr&&b(Zr,["mouseover","tapdragover"],Pe,{x:en[0],y:en[1]}),w.hoverData.last=Zr),Pr)if(Aa){if(zi.boxSelectionEnabled()&&Fc)Pr&&Pr.grabbed()&&(Nt(As),Pr.emit("freeon"),As.emit("free"),w.dragData.didDrag&&(Pr.emit("dragfreeon"),As.emit("dragfree"))),al();else if(Pr&&Pr.grabbed()&&w.nodeIsDraggable(Pr)){var ea=!w.dragData.didDrag;ea&&w.redrawHint("eles",!0),w.dragData.didDrag=!0;var Fl=zi.collection();w.hoverData.draggingEles||jt(As,{inDragLayer:!0});var Bl={x:0,y:0};if(St(qr[0])&&St(qr[1])&&(Bl.x+=qr[0],Bl.y+=qr[1],ea)){var Rp=w.hoverData.dragDelta;Rp&&St(Rp[0])&&St(Rp[1])&&(Bl.x+=Rp[0],Bl.y+=Rp[1])}for(var jc=0;jc<As.length;jc++){var Ts=As[jc];w.nodeIsDraggable(Ts)&&Ts.grabbed()&&Fl.push(Ts)}w.hoverData.draggingEles=!0,Fl.silentShift(Bl).emit("position drag"),w.redrawHint("drag",!0),w.redraw()}}else 0===(Ua=w.hoverData.dragDelta=w.hoverData.dragDelta||[]).length?(Ua.push(qr[0]),Ua.push(qr[1])):(Ua[0]+=qr[0],Ua[1]+=qr[1]);tn=!0}else Aa&&(w.hoverData.dragging||!zi.boxSelectionEnabled()||!Fc&&zi.panningEnabled()&&zi.userPanningEnabled()?!w.hoverData.selecting&&zi.panningEnabled()&&zi.userPanningEnabled()&&O(Pr,w.hoverData.downs)&&(w.hoverData.dragging=!0,w.hoverData.justStartedPan=!0,Uo[4]=0,w.data.bgActivePosistion=Nu(zn),w.redrawHint("select",!0),w.redraw()):al(),Pr&&Pr.pannable()&&Pr.active()&&Pr.unactivate());if(Uo[2]=en[0],Uo[3]=en[1],tn)return Pe.stopPropagation&&Pe.stopPropagation(),Pe.preventDefault&&Pe.preventDefault(),!1}},!1),w.registerBinding(window,"mouseup",function(Pe){if(w.hoverData.capture){w.hoverData.capture=!1;var tn=w.cy,zi=w.projectIntoViewport(Pe.clientX,Pe.clientY),Li=w.selection,We=w.findNearestElement(zi[0],zi[1],!0,!1),en=w.dragData.possibleDragElements,zn=w.hoverData.down,ur=D(Pe);if(w.data.bgActivePosistion&&(w.redrawHint("select",!0),w.redraw()),w.hoverData.tapholdCancelled=!0,w.data.bgActivePosistion=void 0,zn&&zn.unactivate(),3===w.hoverData.which){var Uo={originalEvent:Pe,type:"cxttapend",position:{x:zi[0],y:zi[1]}};if(zn?zn.emit(Uo):tn.emit(Uo),!w.hoverData.cxtDragged){var Zr={originalEvent:Pe,type:"cxttap",position:{x:zi[0],y:zi[1]}};zn?zn.emit(Zr):tn.emit(Zr)}w.hoverData.cxtDragged=!1,w.hoverData.which=null}else if(1===w.hoverData.which){if(b(We,["mouseup","tapend","vmouseup"],Pe,{x:zi[0],y:zi[1]}),!w.dragData.didDrag&&!w.hoverData.dragged&&!w.hoverData.selecting&&!w.hoverData.isOverThresholdDrag&&(b(zn,["click","tap","vclick"],Pe,{x:zi[0],y:zi[1]}),Ye=!1,Pe.timeStamp-Ue<=tn.multiClickDebounceTime()?(Me&&clearTimeout(Me),Ye=!0,Ue=null,b(zn,["dblclick","dbltap","vdblclick"],Pe,{x:zi[0],y:zi[1]})):(Me=setTimeout(function(){Ye||b(zn,["oneclick","onetap","voneclick"],Pe,{x:zi[0],y:zi[1]})},tn.multiClickDebounceTime()),Ue=Pe.timeStamp)),null==zn&&!w.dragData.didDrag&&!w.hoverData.selecting&&!w.hoverData.dragged&&!D(Pe)&&(tn.$(d).unselect(["tapunselect"]),en.length>0&&w.redrawHint("eles",!0),w.dragData.possibleDragElements=en=tn.collection()),We==zn&&!w.dragData.didDrag&&!w.hoverData.selecting&&null!=We&&We._private.selectable&&(w.hoverData.dragging||("additive"===tn.selectionType()||ur?We.selected()?We.unselect(["tapunselect"]):We.select(["tapselect"]):ur||(tn.$(d).unmerge(We).unselect(["tapunselect"]),We.select(["tapselect"]))),w.redrawHint("eles",!0)),w.hoverData.selecting){var Po=tn.collection(w.getAllInBox(Li[0],Li[1],Li[2],Li[3]));w.redrawHint("select",!0),Po.length>0&&w.redrawHint("eles",!0),tn.emit({type:"boxend",originalEvent:Pe,position:{x:zi[0],y:zi[1]}}),"additive"===tn.selectionType()||ur||tn.$(d).unmerge(Po).unselect(),Po.emit("box").stdFilter(function(Aa){return Aa.selectable()&&!Aa.selected()}).select().emit("boxselect"),w.redraw()}if(w.hoverData.dragging&&(w.hoverData.dragging=!1,w.redrawHint("select",!0),w.redrawHint("eles",!0),w.redraw()),!Li[4]){w.redrawHint("drag",!0),w.redrawHint("eles",!0);var qr=zn&&zn.grabbed();Nt(en),qr&&(zn.emit("freeon"),en.emit("free"),w.dragData.didDrag&&(zn.emit("dragfreeon"),en.emit("dragfree")))}}Li[4]=0,w.hoverData.down=null,w.hoverData.cxtStarted=!1,w.hoverData.draggingEles=!1,w.hoverData.selecting=!1,w.hoverData.isOverThresholdDrag=!1,w.dragData.didDrag=!1,w.hoverData.dragged=!1,w.hoverData.dragDelta=[],w.hoverData.mdownPos=null,w.hoverData.mdownGPos=null}},!1);var Ne=function(Pe){if(!w.scrollingPage){var Ri=w.cy,tn=Ri.zoom(),zi=Ri.pan(),Li=w.projectIntoViewport(Pe.clientX,Pe.clientY),We=[Li[0]*tn+zi.x,Li[1]*tn+zi.y];if(w.hoverData.draggingEles||w.hoverData.dragging||w.hoverData.cxtStarted||0!==w.selection[4])return void Pe.preventDefault();if(Ri.panningEnabled()&&Ri.userPanningEnabled()&&Ri.zoomingEnabled()&&Ri.userZoomingEnabled()){var en;Pe.preventDefault(),w.data.wheelZooming=!0,clearTimeout(w.data.wheelTimeout),w.data.wheelTimeout=setTimeout(function(){w.data.wheelZooming=!1,w.redrawHint("eles",!0),w.redraw()},150),en=null!=Pe.deltaY?Pe.deltaY/-250:null!=Pe.wheelDeltaY?Pe.wheelDeltaY/1e3:Pe.wheelDelta/1e3,en*=w.wheelSensitivity,1===Pe.deltaMode&&(en*=33);var ur=Ri.zoom()*Math.pow(10,en);"gesturechange"===Pe.type&&(ur=w.gestureStartZoom*Pe.scale),Ri.zoom({level:ur,renderedPosition:{x:We[0],y:We[1]}}),Ri.emit("gesturechange"===Pe.type?"pinchzoom":"scrollzoom")}}};w.registerBinding(w.container,"wheel",Ne,!0),w.registerBinding(window,"scroll",function(Pe){w.scrollingPage=!0,clearTimeout(w.scrollingPageTimeout),w.scrollingPageTimeout=setTimeout(function(){w.scrollingPage=!1},250)},!0),w.registerBinding(w.container,"gesturestart",function(Pe){w.gestureStartZoom=w.cy.zoom(),w.hasTouchStarted||Pe.preventDefault()},!0),w.registerBinding(w.container,"gesturechange",function(hi){w.hasTouchStarted||Ne(hi)},!0),w.registerBinding(w.container,"mouseout",function(Pe){var Ri=w.projectIntoViewport(Pe.clientX,Pe.clientY);w.cy.emit({originalEvent:Pe,type:"mouseout",position:{x:Ri[0],y:Ri[1]}})},!1),w.registerBinding(w.container,"mouseover",function(Pe){var Ri=w.projectIntoViewport(Pe.clientX,Pe.clientY);w.cy.emit({originalEvent:Pe,type:"mouseover",position:{x:Ri[0],y:Ri[1]}})},!1);var Je,Be,wi,fi,bi,pi,yi,Fi,Ai,li,Wi,Fe,Gi,Ni,$i,nn,bn,Mr,kr,Pn,Ui=function(Pe,Ri,tn,zi){return Math.sqrt((tn-Pe)*(tn-Pe)+(zi-Ri)*(zi-Ri))},xi=function(Pe,Ri,tn,zi){return(tn-Pe)*(tn-Pe)+(zi-Ri)*(zi-Ri)};if(w.registerBinding(w.container,"touchstart",Ni=function(Pe){if(w.hasTouchStarted=!0,ze(Pe)){oe(),w.touchData.capture=!0,w.data.bgActivePosistion=void 0;var Ri=w.cy,tn=w.touchData.now,zi=w.touchData.earlier;if(Pe.touches[0]){var Li=w.projectIntoViewport(Pe.touches[0].clientX,Pe.touches[0].clientY);tn[0]=Li[0],tn[1]=Li[1]}if(Pe.touches[1]&&(Li=w.projectIntoViewport(Pe.touches[1].clientX,Pe.touches[1].clientY),tn[2]=Li[0],tn[3]=Li[1]),Pe.touches[2]&&(Li=w.projectIntoViewport(Pe.touches[2].clientX,Pe.touches[2].clientY),tn[4]=Li[0],tn[5]=Li[1]),Pe.touches[1]){w.touchData.singleTouchMoved=!0,Nt(w.dragData.touchDragEles);var We=w.findContainerClientCoords();Wi=We[2],Fe=We[3],Be=Pe.touches[0].clientY-(li=We[1]),wi=Pe.touches[1].clientX-(Ai=We[0]),fi=Pe.touches[1].clientY-li,Gi=0<=(Je=Pe.touches[0].clientX-Ai)&&Je<=Wi&&0<=wi&&wi<=Wi&&0<=Be&&Be<=Fe&&0<=fi&&fi<=Fe;var en=Ri.pan(),zn=Ri.zoom();if(bi=Ui(Je,Be,wi,fi),pi=xi(Je,Be,wi,fi),Fi=[((yi=[(Je+wi)/2,(Be+fi)/2])[0]-en.x)/zn,(yi[1]-en.y)/zn],pi<4e4&&!Pe.touches[2]){var Zr=w.findNearestElement(tn[0],tn[1],!0,!0),Po=w.findNearestElement(tn[2],tn[3],!0,!0);return Zr&&Zr.isNode()?(Zr.activate().emit({originalEvent:Pe,type:"cxttapstart",position:{x:tn[0],y:tn[1]}}),w.touchData.start=Zr):Po&&Po.isNode()?(Po.activate().emit({originalEvent:Pe,type:"cxttapstart",position:{x:tn[0],y:tn[1]}}),w.touchData.start=Po):Ri.emit({originalEvent:Pe,type:"cxttapstart",position:{x:tn[0],y:tn[1]}}),w.touchData.start&&(w.touchData.start._private.grabbed=!1),w.touchData.cxt=!0,w.touchData.cxtDragged=!1,w.data.bgActivePosistion=void 0,void w.redraw()}}if(Pe.touches[2])Ri.boxSelectionEnabled()&&Pe.preventDefault();else if(!Pe.touches[1]&&Pe.touches[0]){var Pr=w.findNearestElements(tn[0],tn[1],!0,!0),qr=Pr[0];if(null!=qr&&(qr.activate(),w.touchData.start=qr,w.touchData.starts=Pr,w.nodeIsGrabbable(qr))){var As=w.dragData.touchDragEles=Ri.collection(),Aa=null;w.redrawHint("eles",!0),w.redrawHint("drag",!0),qr.selected()?(Aa=Ri.$(function(ki){return ki.selected()&&w.nodeIsGrabbable(ki)}),jt(Aa,{addToList:As})):Gt(qr,{addToList:As}),ot(qr);var _h=function(Fc){return{originalEvent:Pe,type:Fc,position:{x:tn[0],y:tn[1]}}};qr.emit(_h("grabon")),Aa?Aa.forEach(function(ki){ki.emit(_h("grab"))}):qr.emit(_h("grab"))}b(qr,["touchstart","tapstart","vmousedown"],Pe,{x:tn[0],y:tn[1]}),null==qr&&(w.data.bgActivePosistion={x:Li[0],y:Li[1]},w.redrawHint("select",!0),w.redraw()),w.touchData.singleTouchMoved=!1,w.touchData.singleTouchStartTime=+new Date,clearTimeout(w.touchData.tapholdTimeout),w.touchData.tapholdTimeout=setTimeout(function(){!1===w.touchData.singleTouchMoved&&!w.pinching&&!w.touchData.selecting&&b(w.touchData.start,["taphold"],Pe,{x:tn[0],y:tn[1]})},w.tapholdDuration)}if(Pe.touches.length>=1){for(var xl=w.touchData.startPosition=[],Ha=0;Ha<tn.length;Ha++)xl[Ha]=zi[Ha]=tn[Ha];var Kn=Pe.touches[0];w.touchData.startGPosition=[Kn.clientX,Kn.clientY]}}},!1),w.registerBinding(window,"touchmove",$i=function(Pe){var Ri=w.touchData.capture;if(Ri||ze(Pe)){var tn=w.selection,zi=w.cy,Li=w.touchData.now,We=w.touchData.earlier,en=zi.zoom();if(Pe.touches[0]){var zn=w.projectIntoViewport(Pe.touches[0].clientX,Pe.touches[0].clientY);Li[0]=zn[0],Li[1]=zn[1]}Pe.touches[1]&&(zn=w.projectIntoViewport(Pe.touches[1].clientX,Pe.touches[1].clientY),Li[2]=zn[0],Li[3]=zn[1]),Pe.touches[2]&&(zn=w.projectIntoViewport(Pe.touches[2].clientX,Pe.touches[2].clientY),Li[4]=zn[0],Li[5]=zn[1]);var Uo,ur=w.touchData.startGPosition;if(Ri&&Pe.touches[0]&&ur){for(var Zr=[],Po=0;Po<Li.length;Po++)Zr[Po]=Li[Po]-We[Po];var Pr=Pe.touches[0].clientX-ur[0],As=Pe.touches[0].clientY-ur[1];Uo=Pr*Pr+As*As>=w.touchTapThreshold2}if(Ri&&w.touchData.cxt){Pe.preventDefault();var Fc=xi(xl=Pe.touches[0].clientX-Ai,Ha=Pe.touches[0].clientY-li,Kn=Pe.touches[1].clientX-Ai,ki=Pe.touches[1].clientY-li);if(Fc/pi>=2.25||Fc>=22500){w.touchData.cxt=!1,w.data.bgActivePosistion=void 0,w.redrawHint("select",!0);var fa={originalEvent:Pe,type:"cxttapend",position:{x:Li[0],y:Li[1]}};w.touchData.start?(w.touchData.start.unactivate().emit(fa),w.touchData.start=null):zi.emit(fa)}}if(Ri&&w.touchData.cxt){fa={originalEvent:Pe,type:"cxtdrag",position:{x:Li[0],y:Li[1]}},w.data.bgActivePosistion=void 0,w.redrawHint("select",!0),w.touchData.start?w.touchData.start.emit(fa):zi.emit(fa),w.touchData.start&&(w.touchData.start._private.grabbed=!1),w.touchData.cxtDragged=!0;var ea=w.findNearestElement(Li[0],Li[1],!0,!0);(!w.touchData.cxtOver||ea!==w.touchData.cxtOver)&&(w.touchData.cxtOver&&w.touchData.cxtOver.emit({originalEvent:Pe,type:"cxtdragout",position:{x:Li[0],y:Li[1]}}),w.touchData.cxtOver=ea,ea&&ea.emit({originalEvent:Pe,type:"cxtdragover",position:{x:Li[0],y:Li[1]}}))}else if(Ri&&Pe.touches[2]&&zi.boxSelectionEnabled())Pe.preventDefault(),w.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,w.touchData.selecting||zi.emit({originalEvent:Pe,type:"boxstart",position:{x:Li[0],y:Li[1]}}),w.touchData.selecting=!0,w.touchData.didSelect=!0,tn[4]=1,tn&&0!==tn.length&&void 0!==tn[0]?(tn[2]=(Li[0]+Li[2]+Li[4])/3,tn[3]=(Li[1]+Li[3]+Li[5])/3):(tn[0]=(Li[0]+Li[2]+Li[4])/3,tn[1]=(Li[1]+Li[3]+Li[5])/3,tn[2]=(Li[0]+Li[2]+Li[4])/3+1,tn[3]=(Li[1]+Li[3]+Li[5])/3+1),w.redrawHint("select",!0),w.redraw();else if(Ri&&Pe.touches[1]&&!w.touchData.didSelect&&zi.zoomingEnabled()&&zi.panningEnabled()&&zi.userZoomingEnabled()&&zi.userPanningEnabled()){if(Pe.preventDefault(),w.data.bgActivePosistion=void 0,w.redrawHint("select",!0),Fl=w.dragData.touchDragEles){w.redrawHint("drag",!0);for(var Bl=0;Bl<Fl.length;Bl++){var Rp=Fl[Bl]._private;Rp.grabbed=!1,Rp.rscratch.inDragLayer=!1}}var xl,Ha,Kn,ki,jc=w.touchData.start,Ts=Ui(xl=Pe.touches[0].clientX-Ai,Ha=Pe.touches[0].clientY-li,Kn=Pe.touches[1].clientX-Ai,ki=Pe.touches[1].clientY-li),us=Ts/bi;if(Gi){var Jv=(xl-Je+(Kn-wi))/2,$0=(Ha-Be+(ki-fi))/2,Id=zi.zoom(),Np=Id*us,sg=zi.pan(),X0=Fi[0]*Id+sg.x,Lp=Fi[1]*Id+sg.y,ag={x:-Np/Id*(X0-sg.x-Jv)+X0,y:-Np/Id*(Lp-sg.y-$0)+Lp};jc&&jc.active()&&(Nt(Fl=w.dragData.touchDragEles),w.redrawHint("drag",!0),w.redrawHint("eles",!0),jc.unactivate().emit("freeon"),Fl.emit("free"),w.dragData.didDrag&&(jc.emit("dragfreeon"),Fl.emit("dragfree"))),zi.viewport({zoom:Np,pan:ag,cancelOnFailedZoom:!0}),zi.emit("pinchzoom"),bi=Ts,Je=xl,Be=Ha,wi=Kn,fi=ki,w.pinching=!0}Pe.touches[0]&&(zn=w.projectIntoViewport(Pe.touches[0].clientX,Pe.touches[0].clientY),Li[0]=zn[0],Li[1]=zn[1]),Pe.touches[1]&&(zn=w.projectIntoViewport(Pe.touches[1].clientX,Pe.touches[1].clientY),Li[2]=zn[0],Li[3]=zn[1]),Pe.touches[2]&&(zn=w.projectIntoViewport(Pe.touches[2].clientX,Pe.touches[2].clientY),Li[4]=zn[0],Li[5]=zn[1])}else if(Pe.touches[0]&&!w.touchData.didSelect){var Vl=w.touchData.start,k1=w.touchData.last;if(!w.hoverData.draggingEles&&!w.swipePanning&&(ea=w.findNearestElement(Li[0],Li[1],!0,!0)),Ri&&null!=Vl&&Pe.preventDefault(),Ri&&null!=Vl&&w.nodeIsDraggable(Vl))if(Uo){var Fl=w.dragData.touchDragEles,pw=!w.dragData.didDrag;pw&&jt(Fl,{inDragLayer:!0}),w.dragData.didDrag=!0;var Rd={x:0,y:0};St(Zr[0])&&St(Zr[1])&&(Rd.x+=Zr[0],Rd.y+=Zr[1],pw)&&(w.redrawHint("eles",!0),(Zh=w.touchData.dragDelta)&&St(Zh[0])&&St(Zh[1])&&(Rd.x+=Zh[0],Rd.y+=Zh[1])),w.hoverData.draggingEles=!0,Fl.silentShift(Rd).emit("position drag"),w.redrawHint("drag",!0),w.touchData.startPosition[0]==We[0]&&w.touchData.startPosition[1]==We[1]&&w.redrawHint("eles",!0),w.redraw()}else{var Zh;0===(Zh=w.touchData.dragDelta=w.touchData.dragDelta||[]).length?(Zh.push(Zr[0]),Zh.push(Zr[1])):(Zh[0]+=Zr[0],Zh[1]+=Zr[1])}if(b(Vl||ea,["touchmove","tapdrag","vmousemove"],Pe,{x:Li[0],y:Li[1]}),(!Vl||!Vl.grabbed())&&ea!=k1&&(k1&&k1.emit({originalEvent:Pe,type:"tapdragout",position:{x:Li[0],y:Li[1]}}),ea&&ea.emit({originalEvent:Pe,type:"tapdragover",position:{x:Li[0],y:Li[1]}})),w.touchData.last=ea,Ri)for(Bl=0;Bl<Li.length;Bl++)Li[Bl]&&w.touchData.startPosition[Bl]&&Uo&&(w.touchData.singleTouchMoved=!0);Ri&&(null==Vl||Vl.pannable())&&zi.panningEnabled()&&zi.userPanningEnabled()&&(O(Vl,w.touchData.starts)&&(Pe.preventDefault(),w.data.bgActivePosistion||(w.data.bgActivePosistion=Nu(w.touchData.startPosition)),w.swipePanning?(zi.panBy({x:Zr[0]*en,y:Zr[1]*en}),zi.emit("dragpan")):Uo&&(w.swipePanning=!0,zi.panBy({x:Pr*en,y:As*en}),zi.emit("dragpan"),Vl&&(Vl.unactivate(),w.redrawHint("select",!0),w.touchData.start=null))),zn=w.projectIntoViewport(Pe.touches[0].clientX,Pe.touches[0].clientY),Li[0]=zn[0],Li[1]=zn[1])}for(Po=0;Po<Li.length;Po++)We[Po]=Li[Po];Ri&&Pe.touches.length>0&&!w.hoverData.draggingEles&&!w.swipePanning&&null!=w.data.bgActivePosistion&&(w.data.bgActivePosistion=void 0,w.redrawHint("select",!0),w.redraw())}},!1),w.registerBinding(window,"touchcancel",nn=function(Pe){var Ri=w.touchData.start;w.touchData.capture=!1,Ri&&Ri.unactivate()}),w.registerBinding(window,"touchend",bn=function(Pe){var Ri=w.touchData.start;if(w.touchData.capture){0===Pe.touches.length&&(w.touchData.capture=!1),Pe.preventDefault();var zi=w.selection;w.swipePanning=!1,w.hoverData.draggingEles=!1;var Uo,Li=w.cy,We=Li.zoom(),en=w.touchData.now,zn=w.touchData.earlier;if(Pe.touches[0]){var ur=w.projectIntoViewport(Pe.touches[0].clientX,Pe.touches[0].clientY);en[0]=ur[0],en[1]=ur[1]}if(Pe.touches[1]&&(ur=w.projectIntoViewport(Pe.touches[1].clientX,Pe.touches[1].clientY),en[2]=ur[0],en[3]=ur[1]),Pe.touches[2]&&(ur=w.projectIntoViewport(Pe.touches[2].clientX,Pe.touches[2].clientY),en[4]=ur[0],en[5]=ur[1]),Ri&&Ri.unactivate(),w.touchData.cxt){if(Uo={originalEvent:Pe,type:"cxttapend",position:{x:en[0],y:en[1]}},Ri?Ri.emit(Uo):Li.emit(Uo),!w.touchData.cxtDragged){var Zr={originalEvent:Pe,type:"cxttap",position:{x:en[0],y:en[1]}};Ri?Ri.emit(Zr):Li.emit(Zr)}return w.touchData.start&&(w.touchData.start._private.grabbed=!1),w.touchData.cxt=!1,w.touchData.start=null,void w.redraw()}if(!Pe.touches[2]&&Li.boxSelectionEnabled()&&w.touchData.selecting){w.touchData.selecting=!1;var Po=Li.collection(w.getAllInBox(zi[0],zi[1],zi[2],zi[3]));zi[0]=void 0,zi[1]=void 0,zi[2]=void 0,zi[3]=void 0,zi[4]=0,w.redrawHint("select",!0),Li.emit({type:"boxend",originalEvent:Pe,position:{x:en[0],y:en[1]}}),Po.emit("box").stdFilter(function(Lf){return Lf.selectable()&&!Lf.selected()}).select().emit("boxselect"),Po.nonempty()&&w.redrawHint("eles",!0),w.redraw()}if(null!=Ri&&Ri.unactivate(),Pe.touches[2])w.data.bgActivePosistion=void 0,w.redrawHint("select",!0);else if(!Pe.touches[1]&&!Pe.touches[0]&&!Pe.touches[0]){w.data.bgActivePosistion=void 0,w.redrawHint("select",!0);var qr=w.dragData.touchDragEles;if(null!=Ri){var As=Ri._private.grabbed;Nt(qr),w.redrawHint("drag",!0),w.redrawHint("eles",!0),As&&(Ri.emit("freeon"),qr.emit("free"),w.dragData.didDrag&&(Ri.emit("dragfreeon"),qr.emit("dragfree"))),b(Ri,["touchend","tapend","vmouseup","tapdragout"],Pe,{x:en[0],y:en[1]}),Ri.unactivate(),w.touchData.start=null}else{var Aa=w.findNearestElement(en[0],en[1],!0,!0);b(Aa,["touchend","tapend","vmouseup","tapdragout"],Pe,{x:en[0],y:en[1]})}var _h=w.touchData.startPosition[0]-en[0],Ha=w.touchData.startPosition[1]-en[1],Fc=(_h*_h+Ha*Ha)*We*We;w.touchData.singleTouchMoved||(Ri||Li.$(":selected").unselect(["tapunselect"]),b(Ri,["tap","vclick"],Pe,{x:en[0],y:en[1]}),Mr=!1,Pe.timeStamp-Pn<=Li.multiClickDebounceTime()?(kr&&clearTimeout(kr),Mr=!0,Pn=null,b(Ri,["dbltap","vdblclick"],Pe,{x:en[0],y:en[1]})):(kr=setTimeout(function(){Mr||b(Ri,["onetap","voneclick"],Pe,{x:en[0],y:en[1]})},Li.multiClickDebounceTime()),Pn=Pe.timeStamp)),null!=Ri&&!w.dragData.didDrag&&Ri._private.selectable&&Fc<w.touchTapThreshold2&&!w.pinching&&("single"===Li.selectionType()?(Li.$(d).unmerge(Ri).unselect(["tapunselect"]),Ri.select(["tapselect"])):Ri.selected()?Ri.unselect(["tapunselect"]):Ri.select(["tapselect"]),w.redrawHint("eles",!0)),w.touchData.singleTouchMoved=!0}for(var sl=0;sl<en.length;sl++)zn[sl]=en[sl];w.dragData.didDrag=!1,0===Pe.touches.length&&(w.touchData.dragDelta=[],w.touchData.startPosition=null,w.touchData.startGPosition=null,w.touchData.didSelect=!1),Pe.touches.length<2&&(1===Pe.touches.length&&(w.touchData.startGPosition=[Pe.touches[0].clientX,Pe.touches[0].clientY]),w.pinching=!1,w.redrawHint("eles",!0),w.redraw())}},!1),"undefined"==typeof TouchEvent){var yn=[],xr=function(Pe){return{clientX:Pe.clientX,clientY:Pe.clientY,force:1,identifier:Pe.pointerId,pageX:Pe.pageX,pageY:Pe.pageY,radiusX:Pe.width/2,radiusY:Pe.height/2,screenX:Pe.screenX,screenY:Pe.screenY,target:Pe.target}},hr=function(Pe){for(var Ri=0;Ri<yn.length;Ri++)if(yn[Ri].event.pointerId===Pe.pointerId)return void yn.splice(Ri,1)},wo=function(Pe){Pe.touches=yn.map(function(Ri){return Ri.touch})},to=function(Pe){return"mouse"===Pe.pointerType||4===Pe.pointerType};w.registerBinding(w.container,"pointerdown",function(hi){to(hi)||(hi.preventDefault(),yn.push(function(Pe){return{event:Pe,touch:xr(Pe)}}(hi)),wo(hi),Ni(hi))}),w.registerBinding(w.container,"pointerup",function(hi){to(hi)||(hr(hi),wo(hi),bn(hi))}),w.registerBinding(w.container,"pointercancel",function(hi){to(hi)||(hr(hi),wo(hi),nn())}),w.registerBinding(w.container,"pointermove",function(hi){var Pe,Ri;to(hi)||(hi.preventDefault(),Pe=hi,(Ri=yn.filter(function(tn){return tn.event.pointerId===Pe.pointerId})[0]).event=Pe,Ri.touch=xr(Pe),wo(hi),$i(hi))})}};var ws={generatePolygon:function(w,d){return this.nodeShapes[w]={renderer:this,name:w,points:d,draw:function(D,O,N,L,tt){this.renderer.nodeShapeImpl("polygon",D,O,N,L,tt,this.points)},intersectLine:function(D,O,N,L,tt,ht,ot){return Fu(tt,ht,this.points,D,O,N/2,L/2,ot)},checkPoint:function(D,O,N,L,tt,ht,ot){return vc(D,O,this.points,ht,ot,L,tt,[0,-1],N)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(d,b,D,O,N){this.renderer.nodeShapeImpl(this.name,d,b,D,O,N)},intersectLine:function(d,b,D,O,N,L,tt){return function(d,b,D,O,N,L){var tt=D-d,ht=O-b;tt/=N,ht/=L;var ot=Math.sqrt(tt*tt+ht*ht),mt=ot-1;if(mt<0)return[];var Mt=mt/ot;return[(D-d)*Mt+d,(O-b)*Mt+b]}(N,L,d,b,D/2+tt,O/2+tt)},checkPoint:function(d,b,D,O,N,L,tt){return Is(d,b,O,N,L,tt,D)}}},generateRoundPolygon:function(w,d){for(var b=new Array(2*d.length),D=0;D<d.length/2;D++){var N,O=2*D;N=D<d.length/2-1?2*(D+1):0,b[4*D]=d[O],b[4*D+1]=d[O+1];var L=d[N]-d[O],tt=d[N+1]-d[O+1],ht=Math.sqrt(L*L+tt*tt);b[4*D+2]=L/ht,b[4*D+3]=tt/ht}return this.nodeShapes[w]={renderer:this,name:w,points:b,draw:function(mt,Mt,Ot,jt,Gt){this.renderer.nodeShapeImpl("round-polygon",mt,Mt,Ot,jt,Gt,this.points)},intersectLine:function(mt,Mt,Ot,jt,Gt,Nt,Jt){return function(d,b,D,O,N,L,tt,ht){for(var mt,ot=[],Mt=new Array(D.length),Ot=L/2,jt=tt/2,Gt=Rs(L,tt),Nt=0;Nt<D.length/4;Nt++){var oe,Jt;Jt=0===Nt?D.length-2:4*Nt-2,oe=4*Nt+2;var ae=O+Ot*D[4*Nt],le=N+jt*D[4*Nt+1],Ve=Gt/Math.tan(Math.acos(-D[Jt]*D[oe]-D[Jt+1]*D[oe+1])/2),He=ae-Ve*D[Jt],ge=le-Ve*D[Jt+1],ze=ae+Ve*D[oe],Me=le+Ve*D[oe+1];0===Nt?(Mt[D.length-2]=He,Mt[D.length-1]=ge):(Mt[4*Nt-2]=He,Mt[4*Nt-1]=ge),Mt[4*Nt]=ze,Mt[4*Nt+1]=Me;var Ye=D[Jt+1],Ue=-D[Jt];Ye*D[oe]+Ue*D[oe+1]<0&&(Ye*=-1,Ue*=-1),0!==(mt=as(d,b,O,N,He+Ye*Gt,ge+Ue*Gt,Gt)).length&&ot.push(mt[0],mt[1])}for(var wi=0;wi<Mt.length/4;wi++)0!==(mt=el(d,b,O,N,Mt[4*wi],Mt[4*wi+1],Mt[4*wi+2],Mt[4*wi+3],!1)).length&&ot.push(mt[0],mt[1]);if(ot.length>2){for(var fi=[ot[0],ot[1]],bi=Math.pow(fi[0]-d,2)+Math.pow(fi[1]-b,2),pi=1;pi<ot.length/2;pi++){var yi=Math.pow(ot[2*pi]-d,2)+Math.pow(ot[2*pi+1]-b,2);yi<=bi&&(fi[0]=ot[2*pi],fi[1]=ot[2*pi+1],bi=yi)}return fi}return ot}(Gt,Nt,this.points,mt,Mt,Ot,jt)},checkPoint:function(mt,Mt,Ot,jt,Gt,Nt,Jt){return function(d,b,D,O,N,L,tt){for(var ht=new Array(D.length),ot=L/2,mt=tt/2,Mt=Rs(L,tt),Ot=Mt*Mt,jt=0;jt<D.length/4;jt++){var Nt,Gt;Gt=0===jt?D.length-2:4*jt-2,Nt=4*jt+2;var Jt=O+ot*D[4*jt],oe=N+mt*D[4*jt+1],le=Mt/Math.tan(Math.acos(-D[Gt]*D[Nt]-D[Gt+1]*D[Nt+1])/2),xe=Jt-le*D[Gt],Ve=oe-le*D[Gt+1],He=Jt+le*D[Nt],ge=oe+le*D[Nt+1];ht[4*jt]=xe,ht[4*jt+1]=Ve,ht[4*jt+2]=He,ht[4*jt+3]=ge;var ze=D[Gt+1],Me=-D[Gt];ze*D[Nt]+Me*D[Nt+1]<0&&(ze*=-1,Me*=-1);var Ne=Ve+Me*Mt;if(Math.pow(xe+ze*Mt-d,2)+Math.pow(Ne-b,2)<=Ot)return!0}return El(d,b,ht)}(mt,Mt,this.points,Nt,Jt,jt,Gt)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Xo(4,0),draw:function(d,b,D,O,N){this.renderer.nodeShapeImpl(this.name,d,b,D,O,N)},intersectLine:function(d,b,D,O,N,L,tt){return Mm(N,L,d,b,D,O,tt)},checkPoint:function(d,b,D,O,N,L,tt){var ht=sa(O,N),ot=2*ht;return!!(vc(d,b,this.points,L,tt,O,N-ot,[0,-1],D)||vc(d,b,this.points,L,tt,O-ot,N,[0,-1],D)||Is(d,b,ot,ot,L-O/2+ht,tt-N/2+ht,D)||Is(d,b,ot,ot,L+O/2-ht,tt-N/2+ht,D)||Is(d,b,ot,ot,L+O/2-ht,tt+N/2-ht,D)||Is(d,b,ot,ot,L-O/2+ht,tt+N/2-ht,D))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:Xo(4,0),draw:function(d,b,D,O,N){this.renderer.nodeShapeImpl(this.name,d,b,D,O,N)},generateCutTrianglePts:function(d,b,D,O){var N=this.cornerLength,L=b/2,tt=d/2,ht=D-tt,ot=D+tt,mt=O-L,Mt=O+L;return{topLeft:[ht,mt+N,ht+N,mt,ht+N,mt+N],topRight:[ot-N,mt,ot,mt+N,ot-N,mt+N],bottomRight:[ot,Mt-N,ot-N,Mt,ot-N,Mt-N],bottomLeft:[ht+N,Mt,ht,Mt-N,ht+N,Mt-N]}},intersectLine:function(d,b,D,O,N,L,tt){var ht=this.generateCutTrianglePts(D+2*tt,O+2*tt,d,b),ot=[].concat.apply([],[ht.topLeft.splice(0,4),ht.topRight.splice(0,4),ht.bottomRight.splice(0,4),ht.bottomLeft.splice(0,4)]);return Fu(N,L,ot,d,b)},checkPoint:function(d,b,D,O,N,L,tt){if(vc(d,b,this.points,L,tt,O,N-2*this.cornerLength,[0,-1],D)||vc(d,b,this.points,L,tt,O-2*this.cornerLength,N,[0,-1],D))return!0;var ht=this.generateCutTrianglePts(O,N,L,tt);return El(d,b,ht.topLeft)||El(d,b,ht.topRight)||El(d,b,ht.bottomRight)||El(d,b,ht.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Xo(4,0),draw:function(d,b,D,O,N){this.renderer.nodeShapeImpl(this.name,d,b,D,O,N)},intersectLine:function(d,b,D,O,N,L,tt){var Mt=this.generateBarrelBezierPts(D+2*tt,O+2*tt,d,b),Ot=function(Nt){var Jt=va({x:Nt[0],y:Nt[1]},{x:Nt[2],y:Nt[3]},{x:Nt[4],y:Nt[5]},.15),oe=va({x:Nt[0],y:Nt[1]},{x:Nt[2],y:Nt[3]},{x:Nt[4],y:Nt[5]},.5),ae=va({x:Nt[0],y:Nt[1]},{x:Nt[2],y:Nt[3]},{x:Nt[4],y:Nt[5]},.85);return[Nt[0],Nt[1],Jt.x,Jt.y,oe.x,oe.y,ae.x,ae.y,Nt[4],Nt[5]]},jt=[].concat(Ot(Mt.topLeft),Ot(Mt.topRight),Ot(Mt.bottomRight),Ot(Mt.bottomLeft));return Fu(N,L,jt,d,b)},generateBarrelBezierPts:function(d,b,D,O){var N=b/2,L=d/2,tt=D-L,ht=D+L,ot=O-N,mt=O+N,Mt=Os(d,b),Ot=Mt.heightOffset,jt=Mt.widthOffset,Gt=Mt.ctrlPtOffsetPct*d,Nt={topLeft:[tt,ot+Ot,tt+Gt,ot,tt+jt,ot],topRight:[ht-jt,ot,ht-Gt,ot,ht,ot+Ot],bottomRight:[ht,mt-Ot,ht-Gt,mt,ht-jt,mt],bottomLeft:[tt+jt,mt,tt+Gt,mt,tt,mt-Ot]};return Nt.topLeft.isTop=!0,Nt.topRight.isTop=!0,Nt.bottomLeft.isBottom=!0,Nt.bottomRight.isBottom=!0,Nt},checkPoint:function(d,b,D,O,N,L,tt){var ht=Os(O,N),mt=ht.widthOffset;if(vc(d,b,this.points,L,tt,O,N-2*ht.heightOffset,[0,-1],D)||vc(d,b,this.points,L,tt,O-2*mt,N,[0,-1],D))return!0;for(var Mt=this.generateBarrelBezierPts(O,N,L,tt),Ot=function(ge,ze,Me){var Ye=Me[4],Ue=Me[2],Ne=Me[0],Je=Me[5],Be=Me[1],wi=Math.min(Ye,Ne),fi=Math.max(Ye,Ne),bi=Math.min(Je,Be),pi=Math.max(Je,Be);if(wi<=ge&&ge<=fi&&bi<=ze&&ze<=pi){var yi=function(d,b,D){return[d-2*b+D,2*(b-d),d]}(Ye,Ue,Ne),Fi=function(d,b,D,O){var N=b*b-4*d*(D-=O);if(N<0)return[];var L=Math.sqrt(N),tt=2*d;return[(-b+L)/tt,(-b-L)/tt]}(yi[0],yi[1],yi[2],ge),Ai=Fi.filter(function(li){return 0<=li&&li<=1});if(Ai.length>0)return Ai[0]}return null},jt=Object.keys(Mt),Gt=0;Gt<jt.length;Gt++){var Jt=Mt[jt[Gt]],oe=Ot(d,b,Jt);if(null!=oe){var Ve=Na(Jt[5],Jt[3],Jt[1],oe);if(Jt.isTop&&Ve<=b||Jt.isBottom&&b<=Ve)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Xo(4,0),draw:function(d,b,D,O,N){this.renderer.nodeShapeImpl(this.name,d,b,D,O,N)},intersectLine:function(d,b,D,O,N,L,tt){var ot=b-(O/2+tt),Ot=el(N,L,d,b,d-(D/2+tt),ot,d+(D/2+tt),ot,!1);return Ot.length>0?Ot:Mm(N,L,d,b,D,O,tt)},checkPoint:function(d,b,D,O,N,L,tt){var ht=sa(O,N),ot=2*ht;if(vc(d,b,this.points,L,tt,O,N-ot,[0,-1],D)||vc(d,b,this.points,L,tt,O-ot,N,[0,-1],D))return!0;var mt=O/2+2*D,Mt=N/2+2*D;return!!(El(d,b,[L-mt,tt-Mt,L-mt,tt,L+mt,tt,L+mt,tt-Mt])||Is(d,b,ot,ot,L+O/2-ht,tt+N/2-ht,D)||Is(d,b,ot,ot,L-O/2+ht,tt+N/2-ht,D))}}},registerNodeShapes:function(){var w=this.nodeShapes={},d=this;this.generateEllipse(),this.generatePolygon("triangle",Xo(3,0)),this.generateRoundPolygon("round-triangle",Xo(3,0)),this.generatePolygon("rectangle",Xo(4,0)),w.square=w.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var b=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",b),this.generateRoundPolygon("round-diamond",b),this.generatePolygon("pentagon",Xo(5,0)),this.generateRoundPolygon("round-pentagon",Xo(5,0)),this.generatePolygon("hexagon",Xo(6,0)),this.generateRoundPolygon("round-hexagon",Xo(6,0)),this.generatePolygon("heptagon",Xo(7,0)),this.generateRoundPolygon("round-heptagon",Xo(7,0)),this.generatePolygon("octagon",Xo(8,0)),this.generateRoundPolygon("round-octagon",Xo(8,0));var D=new Array(20),O=Wn(5,0),N=Wn(5,Math.PI/5),L=.5*(3-Math.sqrt(5));L*=1.57;for(var tt=0;tt<N.length/2;tt++)N[2*tt]*=L,N[2*tt+1]*=L;for(tt=0;tt<5;tt++)D[4*tt]=O[2*tt],D[4*tt+1]=O[2*tt+1],D[4*tt+2]=N[2*tt],D[4*tt+3]=N[2*tt+1];D=La(D),this.generatePolygon("star",D),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var ht=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",ht),this.generateRoundPolygon("round-tag",ht),w.makePolygon=function(ot){var Ot,Mt="polygon-"+ot.join("$");return(Ot=this[Mt])?Ot:d.generatePolygon(Mt,ot)}}},Oc={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(w){w=w||si();var d=this;void 0===d.averageRedrawTime&&(d.averageRedrawTime=0),void 0===d.lastRedrawTime&&(d.lastRedrawTime=0),void 0===d.lastDrawTime&&(d.lastDrawTime=0),d.requestedFrame=!0,d.renderOptions=w},beforeRender:function(w,d){if(!this.destroyed){null==d&&$e("Priority is not optional for beforeRender");var b=this.beforeRenderCallbacks;b.push({fn:w,priority:d}),b.sort(function(D,O){return O.priority-D.priority})}}},Ku=function(d,b,D){for(var O=d.beforeRenderCallbacks,N=0;N<O.length;N++)O[N].fn(b,D)};Oc.startRenderLoop=function(){var w=this,d=w.cy;w.renderLoopStarted||(w.renderLoopStarted=!0,Qt(function D(O){if(!w.destroyed){if(!d.batching())if(w.requestedFrame&&!w.skipFrame){Ku(w,!0,O);var N=ue();w.render(w.renderOptions);var L=w.lastDrawTime=ue();void 0===w.averageRedrawTime&&(w.averageRedrawTime=L-N),void 0===w.redrawCount&&(w.redrawCount=0),w.redrawCount++,void 0===w.redrawTotalTime&&(w.redrawTotalTime=0);var tt=L-N;w.redrawTotalTime+=tt,w.lastRedrawTime=tt,w.averageRedrawTime=w.averageRedrawTime/2+tt/2,w.requestedFrame=!1}else Ku(w,!1,O);w.skipFrame=!1,Qt(D)}}))};var Sa=function(d){this.init(d)},qu=Sa.prototype;qu.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],qu.init=function(w){var d=this;d.options=w,d.cy=w.cy;var b=d.container=w.cy.container();if(V){var D=V.document,O=D.head,N="__________cytoscape_stylesheet",L="__________cytoscape_container",tt=null!=D.getElementById(N);if(b.className.indexOf(L)<0&&(b.className=(b.className||"")+" "+L),!tt){var ht=D.createElement("style");ht.id=N,ht.innerHTML="."+L+" { position: relative; }",O.insertBefore(ht,O.children[0])}"static"===V.getComputedStyle(b).getPropertyValue("position")&&Re("A Cytoscape container has style position:static and so can not use UI extensions properly")}d.selection=[void 0,void 0,void 0,void 0,0],d.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],d.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},d.dragData={possibleDragElements:[]},d.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},d.redraws=0,d.showFps=w.showFps,d.debug=w.debug,d.hideEdgesOnViewport=w.hideEdgesOnViewport,d.textureOnViewport=w.textureOnViewport,d.wheelSensitivity=w.wheelSensitivity,d.motionBlurEnabled=w.motionBlur,d.forcedPixelRatio=St(w.pixelRatio)?w.pixelRatio:null,d.motionBlur=w.motionBlur,d.motionBlurOpacity=w.motionBlurOpacity,d.motionBlurTransparency=1-d.motionBlurOpacity,d.motionBlurPxRatio=1,d.mbPxRBlurry=1,d.minMbLowQualFrames=4,d.fullQualityMb=!1,d.clearedForMotionBlur=[],d.desktopTapThreshold=w.desktopTapThreshold,d.desktopTapThreshold2=w.desktopTapThreshold*w.desktopTapThreshold,d.touchTapThreshold=w.touchTapThreshold,d.touchTapThreshold2=w.touchTapThreshold*w.touchTapThreshold,d.tapholdDuration=500,d.bindings=[],d.beforeRenderCallbacks=[],d.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},d.registerNodeShapes(),d.registerArrowShapes(),d.registerCalculationListeners()},qu.notify=function(w,d){var b=this,D=b.cy;if(!this.destroyed){if("init"===w)return void b.load();if("destroy"===w)return void b.destroy();("add"===w||"remove"===w||"move"===w&&D.hasCompoundNodes()||"load"===w||"zorder"===w||"mount"===w)&&b.invalidateCachedZSortedEles(),"viewport"===w&&b.redrawHint("select",!0),("load"===w||"resize"===w||"mount"===w)&&(b.invalidateContainerClientCoordsCache(),b.matchCanvasSize(b.container)),b.redrawHint("eles",!0),b.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},qu.destroy=function(){var w=this;w.destroyed=!0,w.cy.stopAnimationLoop();for(var d=0;d<w.bindings.length;d++){var b=w.bindings[d],O=b.target;(O.off||O.removeEventListener).apply(O,b.args)}if(w.bindings=[],w.beforeRenderCallbacks=[],w.onUpdateEleCalcsFns=[],w.removeObserver&&w.removeObserver.disconnect(),w.styleObserver&&w.styleObserver.disconnect(),w.resizeObserver&&w.resizeObserver.disconnect(),w.labelCalcDiv)try{document.body.removeChild(w.labelCalcDiv)}catch(N){}},qu.isHeadless=function(){return!1},[Ed,lr,Ca,hs,ws,Oc].forEach(function(w){Ht(qu,w)});var Da=1e3/60,mu_setupDequeueing=function(d){return function(){var D=this,O=this.renderer;if(!D.dequeueingSetup){D.dequeueingSetup=!0;var N=Kt(function(){O.redrawHint("eles",!0),O.redrawHint("drag",!0),O.redraw()},d.deqRedrawThreshold);O.beforeRender(function(ot,mt){var Mt=ue(),Ot=O.averageRedrawTime,jt=O.lastRedrawTime,Gt=[],Nt=O.cy.extent(),Jt=O.getPixelRatio();for(ot||O.flushRenderedStyleQueue();;){var oe=ue(),ae=oe-Mt,le=oe-mt;if(jt<Da){if(le>=d.deqFastCost*(Da-(ot?Ot:0)))break}else if(ot){if(ae>=d.deqCost*jt||ae>=d.deqAvgCost*Ot)break}else if(le>=d.deqNoDrawCost*Da)break;var Ve=d.deq(D,Jt,Nt);if(!(Ve.length>0))break;for(var He=0;He<Ve.length;He++)Gt.push(Ve[He])}Gt.length>0&&(d.onDeqd(D,Gt),!ot&&d.shouldRedraw(D,Gt,Jt,Nt)&&N())},(d.priority||Se)(D))}}},es=function(){function w(d){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;E(this,w),this.idsByKey=new jr,this.keyForId=new jr,this.cachesByLvl=new jr,this.lvls=[],this.getKey=d,this.doesEleInvalidateKey=b}return Y(w,[{key:"getIdsFor",value:function(b){null==b&&$e("Can not get id list for null key");var D=this.idsByKey,O=this.idsByKey.get(b);return O||(O=new Xn,D.set(b,O)),O}},{key:"addIdForKey",value:function(b,D){null!=b&&this.getIdsFor(b).add(D)}},{key:"deleteIdForKey",value:function(b,D){null!=b&&this.getIdsFor(b).delete(D)}},{key:"getNumberOfIdsForKey",value:function(b){return null==b?0:this.getIdsFor(b).size}},{key:"updateKeyMappingFor",value:function(b){var D=b.id(),O=this.keyForId.get(D),N=this.getKey(b);this.deleteIdForKey(O,D),this.addIdForKey(N,D),this.keyForId.set(D,N)}},{key:"deleteKeyMappingFor",value:function(b){var D=b.id(),O=this.keyForId.get(D);this.deleteIdForKey(O,D),this.keyForId.delete(D)}},{key:"keyHasChangedFor",value:function(b){var D=b.id();return this.keyForId.get(D)!==this.getKey(b)}},{key:"isInvalid",value:function(b){return this.keyHasChangedFor(b)||this.doesEleInvalidateKey(b)}},{key:"getCachesAt",value:function(b){var D=this.cachesByLvl,O=this.lvls,N=D.get(b);return N||(N=new jr,D.set(b,N),O.push(b)),N}},{key:"getCache",value:function(b,D){return this.getCachesAt(D).get(b)}},{key:"get",value:function(b,D){var O=this.getKey(b),N=this.getCache(O,D);return null!=N&&this.updateKeyMappingFor(b),N}},{key:"getForCachedKey",value:function(b,D){var O=this.keyForId.get(b.id());return this.getCache(O,D)}},{key:"hasCache",value:function(b,D){return this.getCachesAt(D).has(b)}},{key:"has",value:function(b,D){var O=this.getKey(b);return this.hasCache(O,D)}},{key:"setCache",value:function(b,D,O){O.key=b,this.getCachesAt(D).set(b,O)}},{key:"set",value:function(b,D,O){var N=this.getKey(b);this.setCache(N,D,O),this.updateKeyMappingFor(b)}},{key:"deleteCache",value:function(b,D){this.getCachesAt(D).delete(b)}},{key:"delete",value:function(b,D){var O=this.getKey(b);this.deleteCache(O,D)}},{key:"invalidateKey",value:function(b){var D=this;this.lvls.forEach(function(O){return D.deleteCache(b,O)})}},{key:"invalidate",value:function(b){var D=b.id(),O=this.keyForId.get(D);this.deleteKeyMappingFor(b);var N=this.doesEleInvalidateKey(b);return N&&this.invalidateKey(O),N||0===this.getNumberOfIdsForKey(O)}}]),w}(),Nf={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Nc=an({getKey:null,doesEleInvalidateKey:De,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:re,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Ju=function(d,b){var D=this;D.renderer=d,D.onDequeues=[];var O=Nc(b);Ht(D,O),D.lookup=new es(O.getKey,O.doesEleInvalidateKey),D.setupDequeueing()},za=Ju.prototype;za.reasons=Nf,za.getTextureQueue=function(w){var d=this;return d.eleImgCaches=d.eleImgCaches||{},d.eleImgCaches[w]=d.eleImgCaches[w]||[]},za.getRetiredTextureQueue=function(w){var b=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return b[w]=b[w]||[]},za.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new ft(function(b,D){return D.reqs-b.reqs})},za.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},za.getElement=function(w,d,b,D,O){var N=this,L=this.renderer,tt=L.cy.zoom(),ht=this.lookup;if(!d||0===d.w||0===d.h||isNaN(d.w)||isNaN(d.h)||!w.visible()||w.removed()||!N.allowEdgeTxrCaching&&w.isEdge()||!N.allowParentTxrCaching&&w.isParent())return null;if(null==D&&(D=Math.ceil(uv(tt*b))),D<-4)D=-4;else if(tt>=7.99||D>3)return null;var ot=Math.pow(2,D),mt=d.h*ot,Mt=d.w*ot,Ot=L.eleTextBiggerThanMin(w,ot);if(!this.isVisible(w,Ot))return null;var Gt,jt=ht.get(w,D);if(jt&&jt.invalidated&&(jt.invalidated=!1,jt.texture.invalidatedWidth-=jt.width),jt)return jt;if(Gt=mt<=25?25:mt<=50?50:50*Math.ceil(mt/50),mt>1024||Mt>1024)return null;var Nt=N.getTextureQueue(Gt),Jt=Nt[Nt.length-2],oe=function(){return N.recycleTexture(Gt,Mt)||N.addTexture(Gt,Mt)};Jt||(Jt=Nt[Nt.length-1]),Jt||(Jt=oe()),Jt.width-Jt.usedWidth<Mt&&(Jt=oe());for(var He,ae=function(fi){return fi&&fi.scaledLabelShown===Ot},le=O&&O===Nf.dequeue,xe=O&&O===Nf.highQuality,Ve=O&&O===Nf.downscale,ge=D+1;ge<=3;ge++){var ze=ht.get(w,ge);if(ze){He=ze;break}}var Me=He&&He.level===D+1?He:null,Ye=function(){Jt.context.drawImage(Me.texture.canvas,Me.x,0,Me.width,Me.height,Jt.usedWidth,0,Mt,mt)};if(Jt.context.setTransform(1,0,0,1,0,0),Jt.context.clearRect(Jt.usedWidth,0,Mt,Gt),ae(Me))Ye();else if(ae(He)){if(!xe)return N.queueElement(w,He.level-1),He;for(var Ue=He.level;Ue>D;Ue--)Me=N.getElement(w,d,b,Ue,Nf.downscale);Ye()}else{var Ne;if(!le&&!xe&&!Ve)for(var Je=D-1;Je>=-4;Je--){var Be=ht.get(w,Je);if(Be){Ne=Be;break}}if(ae(Ne))return N.queueElement(w,D),Ne;Jt.context.translate(Jt.usedWidth,0),Jt.context.scale(ot,ot),this.drawElement(Jt.context,w,d,Ot,!1),Jt.context.scale(1/ot,1/ot),Jt.context.translate(-Jt.usedWidth,0)}return jt={x:Jt.usedWidth,texture:Jt,level:D,scale:ot,width:Mt,height:mt,scaledLabelShown:Ot},Jt.usedWidth+=Math.ceil(Mt+8),Jt.eleCaches.push(jt),ht.set(w,D,jt),N.checkTextureFullness(Jt),jt},za.invalidateElements=function(w){for(var d=0;d<w.length;d++)this.invalidateElement(w[d])},za.invalidateElement=function(w){var d=this,b=d.lookup,D=[];if(b.isInvalid(w)){for(var N=-4;N<=3;N++){var L=b.getForCachedKey(w,N);L&&D.push(L)}if(b.invalidate(w))for(var ht=0;ht<D.length;ht++){var ot=D[ht],mt=ot.texture;mt.invalidatedWidth+=ot.width,ot.invalidated=!0,d.checkTextureUtility(mt)}d.removeFromQueue(w)}},za.checkTextureUtility=function(w){w.invalidatedWidth>=.2*w.width&&this.retireTexture(w)},za.checkTextureFullness=function(w){var b=this.getTextureQueue(w.height);w.usedWidth/w.width>.8&&w.fullnessChecks>=10?cn(b,w):w.fullnessChecks++},za.retireTexture=function(w){var b=w.height,D=this.getTextureQueue(b),O=this.lookup;cn(D,w),w.retired=!0;for(var N=w.eleCaches,L=0;L<N.length;L++){var tt=N[L];O.deleteCache(tt.key,tt.level)}Fn(N),this.getRetiredTextureQueue(b).push(w)},za.addTexture=function(w,d){var O={};return this.getTextureQueue(w).push(O),O.eleCaches=[],O.height=w,O.width=Math.max(1024,d),O.usedWidth=0,O.invalidatedWidth=0,O.fullnessChecks=0,O.canvas=this.renderer.makeOffscreenCanvas(O.width,O.height),O.context=O.canvas.getContext("2d"),O},za.recycleTexture=function(w,d){for(var D=this.getTextureQueue(w),O=this.getRetiredTextureQueue(w),N=0;N<O.length;N++){var L=O[N];if(L.width>=d)return L.retired=!1,L.usedWidth=0,L.invalidatedWidth=0,L.fullnessChecks=0,Fn(L.eleCaches),L.context.setTransform(1,0,0,1,0,0),L.context.clearRect(0,0,L.width,L.height),cn(O,L),D.push(L),L}},za.queueElement=function(w,d){var D=this.getElementQueue(),O=this.getElementKeyToQueue(),N=this.getKey(w),L=O[N];if(L)L.level=Math.max(L.level,d),L.eles.merge(w),L.reqs++,D.updateItem(L);else{var tt={eles:w.spawn().merge(w),level:d,reqs:1,key:N};D.push(tt),O[N]=tt}},za.dequeue=function(w){for(var d=this,b=d.getElementQueue(),D=d.getElementKeyToQueue(),O=[],N=d.lookup,L=0;L<1&&b.size()>0;L++){var tt=b.pop(),ht=tt.key,ot=tt.eles[0],mt=N.hasCache(ot,tt.level);if(D[ht]=null,!mt){O.push(tt);var Mt=d.getBoundingBox(ot);d.getElement(ot,Mt,w,tt.level,Nf.dequeue)}}return O},za.removeFromQueue=function(w){var b=this.getElementQueue(),D=this.getElementKeyToQueue(),O=this.getKey(w),N=D[O];null!=N&&(1===N.eles.length?(N.reqs=ke,b.updateItem(N),b.pop(),D[O]=null):N.eles.unmerge(w))},za.onDequeue=function(w){this.onDequeues.push(w)},za.offDequeue=function(w){cn(this.onDequeues,w)},za.setupDequeueing=mu_setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(d,b,D){return d.dequeue(b,D)},onDeqd:function(d,b){for(var D=0;D<d.onDequeues.length;D++)(0,d.onDequeues[D])(b)},shouldRedraw:function(d,b,D,O){for(var N=0;N<b.length;N++)for(var L=b[N].eles,tt=0;tt<L.length;tt++){var ht=L[tt].boundingBox();if(cv(ht,O))return!0}return!1},priority:function(d){return d.renderer.beforeRenderPriorities.eleTxrDeq}});var x1=function(d){var b=this,D=b.renderer=d,O=D.cy;b.layersByLevel={},b.firstGet=!0,b.lastInvalidationTime=ue()-500,b.skipping=!1,b.eleTxrDeqs=O.collection(),b.scheduleElementRefinement=Kt(function(){b.refineElementTextures(b.eleTxrDeqs),b.eleTxrDeqs.unmerge(b.eleTxrDeqs)},50),D.beforeRender(function(L,tt){b.skipping=tt-b.lastInvalidationTime<=250},D.beforeRenderPriorities.lyrTxrSkip),b.layersQueue=new ft(function(tt,ht){return ht.reqs-tt.reqs}),b.setupDequeueing()},Dr=x1.prototype,hw=0,w1=Math.pow(2,53)-1;Dr.makeLayer=function(w,d){var b=Math.pow(2,d),D=Math.ceil(w.w*b),O=Math.ceil(w.h*b),N=this.renderer.makeOffscreenCanvas(D,O),L={id:hw=++hw%w1,bb:w,level:d,width:D,height:O,canvas:N,context:N.getContext("2d"),eles:[],elesQueue:[],reqs:0},tt=L.context,ht=-L.bb.x1,ot=-L.bb.y1;return tt.scale(b,b),tt.translate(ht,ot),L},Dr.getLayers=function(w,d,b){var D=this,L=D.renderer.cy.zoom(),tt=D.firstGet;if(D.firstGet=!1,null==b)if((b=Math.ceil(uv(L*d)))<-4)b=-4;else if(L>=3.99||b>2)return null;D.validateLayersElesOrdering(b,w);var Mt,jt,ht=D.layersByLevel,ot=Math.pow(2,b),mt=ht[b]=ht[b]||[];if(D.levelIsComplete(b,w))return mt;!function(){var Ye=function(wi){if(D.validateLayersElesOrdering(wi,w),D.levelIsComplete(wi,w))return jt=ht[wi],!0},Ue=function(wi){if(!jt)for(var fi=b+wi;-4<=fi&&fi<=2&&!Ye(fi);fi+=wi);};Ue(1),Ue(-1);for(var Ne=mt.length-1;Ne>=0;Ne--){var Je=mt[Ne];Je.invalid&&cn(mt,Je)}}();var Jt=function(Ye){var Ue=(Ye=Ye||{}).after;if(function(){if(!Mt){Mt=ss();for(var Ye=0;Ye<w.length;Ye++)Ji(Mt,w[Ye].boundingBox())}}(),Mt.w*ot*(Mt.h*ot)>16e6)return null;var Je=D.makeLayer(Mt,b);if(null!=Ue){var Be=mt.indexOf(Ue)+1;mt.splice(Be,0,Je)}else(void 0===Ye.insert||Ye.insert)&&mt.unshift(Je);return Je};if(D.skipping&&!tt)return null;for(var oe=null,ae=w.length/1,le=!tt,xe=0;xe<w.length;xe++){var Ve=w[xe],He=Ve._private.rscratch,ge=He.imgLayerCaches=He.imgLayerCaches||{},ze=ge[b];if(ze)oe=ze;else{if((!oe||oe.eles.length>=ae||!g0(oe.bb,Ve.boundingBox()))&&!(oe=Jt({insert:!0,after:oe})))return null;jt||le?D.queueLayer(oe,Ve):D.drawEleInLayer(oe,Ve,b,d),oe.eles.push(Ve),ge[b]=oe}}return jt||(le?null:mt)},Dr.getEleLevelForLayerLevel=function(w,d){return w},Dr.drawEleInLayer=function(w,d,b,D){var N=this.renderer,L=w.context,tt=d.boundingBox();0===tt.w||0===tt.h||!d.visible()||(b=this.getEleLevelForLayerLevel(b,D),N.setImgSmoothing(L,!1),N.drawCachedElement(L,d,null,null,b,!0),N.setImgSmoothing(L,!0))},Dr.levelIsComplete=function(w,d){var D=this.layersByLevel[w];if(!D||0===D.length)return!1;for(var O=0,N=0;N<D.length;N++){var L=D[N];if(L.reqs>0||L.invalid)return!1;O+=L.eles.length}return O===d.length},Dr.validateLayersElesOrdering=function(w,d){var b=this.layersByLevel[w];if(b)for(var D=0;D<b.length;D++){for(var O=b[D],N=-1,L=0;L<d.length;L++)if(O.eles[0]===d[L]){N=L;break}if(N<0)this.invalidateLayer(O);else{var tt=N;for(L=0;L<O.eles.length;L++)if(O.eles[L]!==d[tt+L]){this.invalidateLayer(O);break}}}},Dr.updateElementsInLayers=function(w,d){for(var D=y(w[0]),O=0;O<w.length;O++)for(var N=D?null:w[O],L=D?w[O]:w[O].ele,tt=L._private.rscratch,ht=tt.imgLayerCaches=tt.imgLayerCaches||{},ot=-4;ot<=2;ot++){var mt=ht[ot];!mt||N&&this.getEleLevelForLayerLevel(mt.level)!==N.level||d(mt,L,N)}},Dr.haveLayers=function(){for(var d=!1,b=-4;b<=2;b++){var D=this.layersByLevel[b];if(D&&D.length>0){d=!0;break}}return d},Dr.invalidateElements=function(w){var d=this;0!==w.length&&(d.lastInvalidationTime=ue(),0!==w.length&&d.haveLayers()&&d.updateElementsInLayers(w,function(D,O,N){d.invalidateLayer(D)}))},Dr.invalidateLayer=function(w){if(this.lastInvalidationTime=ue(),!w.invalid){var d=w.level,b=w.eles;cn(this.layersByLevel[d],w),w.elesQueue=[],w.invalid=!0,w.replacement&&(w.replacement.invalid=!0);for(var O=0;O<b.length;O++){var N=b[O]._private.rscratch.imgLayerCaches;N&&(N[d]=null)}}},Dr.refineElementTextures=function(w){var d=this;d.updateElementsInLayers(w,function(D,O,N){var L=D.replacement;if(L||((L=D.replacement=d.makeLayer(D.bb,D.level)).replaces=D,L.eles=D.eles),!L.reqs)for(var tt=0;tt<L.eles.length;tt++)d.queueLayer(L,L.eles[tt])})},Dr.enqueueElementRefinement=function(w){this.eleTxrDeqs.merge(w),this.scheduleElementRefinement()},Dr.queueLayer=function(w,d){var D=this.layersQueue,O=w.elesQueue,N=O.hasId=O.hasId||{};if(!w.replacement){if(d){if(N[d.id()])return;O.push(d),N[d.id()]=!0}w.reqs?(w.reqs++,D.updateItem(w)):(w.reqs=1,D.push(w))}},Dr.dequeue=function(w){for(var d=this,b=d.layersQueue,D=[],O=0;O<1&&0!==b.size();){var N=b.peek();if(N.replacement)b.pop();else if(N.replaces&&N!==N.replaces.replacement)b.pop();else if(N.invalid)b.pop();else{var L=N.elesQueue.shift();L&&(d.drawEleInLayer(N,L,N.level,w),O++),0===D.length&&D.push(!0),0===N.elesQueue.length&&(b.pop(),N.reqs=0,N.replaces&&d.applyLayerReplacement(N),d.requestRedraw())}}return D},Dr.applyLayerReplacement=function(w){var b=this.layersByLevel[w.level],D=w.replaces,O=b.indexOf(D);if(!(O<0||D.invalid)){b[O]=w;for(var N=0;N<w.eles.length;N++){var L=w.eles[N]._private,tt=L.imgLayerCaches=L.imgLayerCaches||{};tt&&(tt[w.level]=w)}this.requestRedraw()}},Dr.requestRedraw=Kt(function(){var w=this.renderer;w.redrawHint("eles",!0),w.redrawHint("drag",!0),w.redraw()},100),Dr.setupDequeueing=mu_setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(d,b){return d.dequeue(b)},onDeqd:Se,shouldRedraw:re,priority:function(d){return d.renderer.beforeRenderPriorities.lyrTxrDeq}});var tg,vl={};function uw(w,d){for(var b=0;b<d.length;b++){var D=d[b];w.lineTo(D.x,D.y)}}function wh(w,d,b){for(var D,O=0;O<d.length;O++){var N=d[O];0===O&&(D=N),w.lineTo(N.x,N.y)}w.quadraticCurveTo(b.x,b.y,D.x,D.y)}function Eo(w,d,b){w.beginPath&&w.beginPath();for(var D=d,O=0;O<D.length;O++)w.lineTo((N=D[O]).x,N.y);var L=b,tt=b[0];for(w.moveTo(tt.x,tt.y),O=1;O<L.length;O++){var N;w.lineTo((N=L[O]).x,N.y)}w.closePath&&w.closePath()}function Wv(w,d,b,D,O){w.beginPath&&w.beginPath(),w.arc(b,D,O,0,2*Math.PI,!1);var N=d,L=N[0];w.moveTo(L.x,L.y);for(var tt=0;tt<N.length;tt++){var ht=N[tt];w.lineTo(ht.x,ht.y)}w.closePath&&w.closePath()}function b1(w,d,b,D){w.arc(d,b,D,0,2*Math.PI,!1)}vl.arrowShapeImpl=function(w){return(tg||(tg={polygon:uw,"triangle-backcurve":wh,"triangle-tee":Eo,"circle-triangle":Wv,"triangle-cross":Eo,circle:b1}))[w]};var Kh={drawElement:function(w,d,b,D,O,N){d.isNode()?this.drawNode(w,d,b,D,O,N):this.drawEdge(w,d,b,D,O,N)},drawElementOverlay:function(w,d){d.isNode()?this.drawNodeOverlay(w,d):this.drawEdgeOverlay(w,d)},drawElementUnderlay:function(w,d){d.isNode()?this.drawNodeUnderlay(w,d):this.drawEdgeUnderlay(w,d)},drawCachedElementPortion:function(w,d,b,D,O,N,L,tt){var ht=this,ot=b.getBoundingBox(d);if(0!==ot.w&&0!==ot.h){var mt=b.getElement(d,ot,D,O,N);if(null!=mt){var Mt=tt(ht,d);if(0===Mt)return;var oe,ae,le,xe,Ve,ze,Ot=L(ht,d),jt=ot.x1,Gt=ot.y1,Nt=ot.w,Jt=ot.h;if(0!==Ot){var He=b.getRotationPoint(d);w.translate(le=He.x,xe=He.y),w.rotate(Ot),(Ve=ht.getImgSmoothing(w))||ht.setImgSmoothing(w,!0);var ge=b.getRotationOffset(d);oe=ge.x,ae=ge.y}else oe=jt,ae=Gt;1!==Mt&&(w.globalAlpha=(ze=w.globalAlpha)*Mt),w.drawImage(mt.texture.canvas,mt.x,0,mt.width,mt.height,oe,ae,Nt,Jt),1!==Mt&&(w.globalAlpha=ze),0!==Ot&&(w.rotate(-Ot),w.translate(-le,-xe),Ve||ht.setImgSmoothing(w,!1))}else b.drawElement(w,d)}}},Yv=function(){return 0},Qi=function(d,b){return d.getTextAngle(b,null)},ka=function(d,b){return d.getTextAngle(b,"source")},eg=function(d,b){return d.getTextAngle(b,"target")},ig=function(d,b){return b.effectiveOpacity()},Ep=function(d,b){return b.pstyle("text-opacity").pfValue*b.effectiveOpacity()};Kh.drawCachedElement=function(w,d,b,D,O,N){var L=this,tt=L.data,ht=tt.eleTxrCache,ot=tt.lblTxrCache,mt=tt.slbTxrCache,Mt=tt.tlbTxrCache,Ot=d.boundingBox(),jt=!0===N?ht.reasons.highQuality:null;if(0!==Ot.w&&0!==Ot.h&&d.visible()&&(!D||cv(Ot,D))){var Gt=d.isEdge(),Nt=d.element()._private.rscratch.badLine;L.drawElementUnderlay(w,d),L.drawCachedElementPortion(w,d,ht,b,O,jt,Yv,ig),(!Gt||!Nt)&&L.drawCachedElementPortion(w,d,ot,b,O,jt,Qi,Ep),Gt&&!Nt&&(L.drawCachedElementPortion(w,d,mt,b,O,jt,ka,Ep),L.drawCachedElementPortion(w,d,Mt,b,O,jt,eg,Ep)),L.drawElementOverlay(w,d)}},Kh.drawElements=function(w,d){for(var D=0;D<d.length;D++)this.drawElement(w,d[D])},Kh.drawCachedElements=function(w,d,b,D){for(var N=0;N<d.length;N++)this.drawCachedElement(w,d[N],b,D)},Kh.drawCachedNodes=function(w,d,b,D){for(var N=0;N<d.length;N++){var L=d[N];!L.isNode()||this.drawCachedElement(w,L,b,D)}},Kh.drawLayeredElements=function(w,d,b,D){var N=this.data.lyrTxrCache.getLayers(d,b);if(N)for(var L=0;L<N.length;L++){var tt=N[L],ht=tt.bb;0===ht.w||0===ht.h||w.drawImage(tt.canvas,ht.x1,ht.y1,ht.w,ht.h)}else this.drawCachedElements(w,d,b,D)};var Yo={drawEdge:function(w,d,b){var D=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],O=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],N=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],L=this,tt=d._private.rscratch;if((!N||d.visible())&&!tt.badLine&&null!=tt.allpts&&!isNaN(tt.allpts[0])){var ht;b&&w.translate(-(ht=b).x1,-ht.y1);var ot=N?d.pstyle("opacity").value:1,mt=N?d.pstyle("line-opacity").value:1,Mt=d.pstyle("curve-style").value,Ot=d.pstyle("line-style").value,jt=d.pstyle("width").pfValue,Gt=d.pstyle("line-cap").value,Nt=ot*mt,Jt=ot*mt,oe=function(){var Ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt;"straight-triangle"===Mt?(L.eleStrokeStyle(w,d,Ne),L.drawEdgeTrianglePath(d,w,tt.allpts)):(w.lineWidth=jt,w.lineCap=Gt,L.eleStrokeStyle(w,d,Ne),L.drawEdgePath(d,w,tt.allpts,Ot),w.lineCap="butt")},ae=function(){!O||L.drawEdgeOverlay(w,d)},le=function(){!O||L.drawEdgeUnderlay(w,d)},xe=function(){var Ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt;L.drawArrowheads(w,d,Ne)},Ve=function(){L.drawElementText(w,d,null,D)};w.lineJoin="round";var He="yes"===d.pstyle("ghost").value;if(He){var ge=d.pstyle("ghost-offset-x").pfValue,ze=d.pstyle("ghost-offset-y").pfValue,Me=d.pstyle("ghost-opacity").value,Ye=Nt*Me;w.translate(ge,ze),oe(Ye),xe(Ye),w.translate(-ge,-ze)}le(),oe(),xe(),ae(),Ve(),b&&w.translate(ht.x1,ht.y1)}}},kp=function(d){if(!["overlay","underlay"].includes(d))throw new Error("Invalid state");return function(b,D){if(D.visible()){var O=D.pstyle("".concat(d,"-opacity")).value;if(0!==O){var N=this,L=N.usePaths(),tt=D._private.rscratch,ot=2*D.pstyle("".concat(d,"-padding")).pfValue,mt=D.pstyle("".concat(d,"-color")).value;b.lineWidth=ot,b.lineCap="self"!==tt.edgeType||L?"round":"butt",N.colorStrokeStyle(b,mt[0],mt[1],mt[2],O),N.drawEdgePath(D,b,tt.allpts,"solid")}}}};Yo.drawEdgeOverlay=kp("overlay"),Yo.drawEdgeUnderlay=kp("underlay"),Yo.drawEdgePath=function(w,d,b,D){var L,O=w._private.rscratch,N=d,tt=!1,ht=this.usePaths(),ot=w.pstyle("line-dash-pattern").pfValue,mt=w.pstyle("line-dash-offset").pfValue;if(ht){var Mt=b.join("$");O.pathCacheKey&&O.pathCacheKey===Mt?(L=d=O.pathCache,tt=!0):(L=d=new Path2D,O.pathCacheKey=Mt,O.pathCache=L)}if(N.setLineDash)switch(D){case"dotted":N.setLineDash([1,1]);break;case"dashed":N.setLineDash(ot),N.lineDashOffset=mt;break;case"solid":N.setLineDash([])}if(!tt&&!O.badLine)switch(d.beginPath&&d.beginPath(),d.moveTo(b[0],b[1]),O.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var jt=2;jt+3<b.length;jt+=4)d.quadraticCurveTo(b[jt],b[jt+1],b[jt+2],b[jt+3]);break;case"straight":case"segments":case"haystack":for(var Gt=2;Gt+1<b.length;Gt+=2)d.lineTo(b[Gt],b[Gt+1])}d=N,ht?d.stroke(L):d.stroke(),d.setLineDash&&d.setLineDash([])},Yo.drawEdgeTrianglePath=function(w,d,b){d.fillStyle=d.strokeStyle;for(var D=w.pstyle("width").pfValue,O=0;O+1<b.length;O+=2){var N=[b[O+2]-b[O],b[O+3]-b[O+1]],L=Math.sqrt(N[0]*N[0]+N[1]*N[1]),tt=[N[1]/L,-N[0]/L],ht=[tt[0]*D/2,tt[1]*D/2];d.beginPath(),d.moveTo(b[O]-ht[0],b[O+1]-ht[1]),d.lineTo(b[O]+ht[0],b[O+1]+ht[1]),d.lineTo(b[O+2],b[O+3]),d.closePath(),d.fill()}},Yo.drawArrowheads=function(w,d,b){var D=d._private.rscratch,O="haystack"===D.edgeType;O||this.drawArrowhead(w,d,"source",D.arrowStartX,D.arrowStartY,D.srcArrowAngle,b),this.drawArrowhead(w,d,"mid-target",D.midX,D.midY,D.midtgtArrowAngle,b),this.drawArrowhead(w,d,"mid-source",D.midX,D.midY,D.midsrcArrowAngle,b),O||this.drawArrowhead(w,d,"target",D.arrowEndX,D.arrowEndY,D.tgtArrowAngle,b)},Yo.drawArrowhead=function(w,d,b,D,O,N,L){if(!(isNaN(D)||null==D||isNaN(O)||null==O||isNaN(N)||null==N)){var tt=this,ht=d.pstyle(b+"-arrow-shape").value;if("none"!==ht){var ot="hollow"===d.pstyle(b+"-arrow-fill").value?"both":"filled",mt=d.pstyle(b+"-arrow-fill").value,Mt=d.pstyle("width").pfValue,Ot=d.pstyle("opacity").value;void 0===L&&(L=Ot);var jt=w.globalCompositeOperation;(1!==L||"hollow"===mt)&&(w.globalCompositeOperation="destination-out",tt.colorFillStyle(w,255,255,255,1),tt.colorStrokeStyle(w,255,255,255,1),tt.drawArrowShape(d,w,ot,Mt,ht,D,O,N),w.globalCompositeOperation=jt);var Gt=d.pstyle(b+"-arrow-color").value;tt.colorFillStyle(w,Gt[0],Gt[1],Gt[2],L),tt.colorStrokeStyle(w,Gt[0],Gt[1],Gt[2],L),tt.drawArrowShape(d,w,mt,Mt,ht,D,O,N)}}},Yo.drawArrowShape=function(w,d,b,D,O,N,L,tt){var Mt,ot=this.usePaths()&&"triangle-cross"!==O,mt=!1,Ot=d,jt={x:N,y:L},Gt=w.pstyle("arrow-scale").value,Nt=this.getArrowWidth(D,Gt),Jt=this.arrowShapes[O];if(ot){var oe=this.arrowPathCache=this.arrowPathCache||[],ae=Mi(O),le=oe[ae];null!=le?(Mt=d=le,mt=!0):(Mt=d=new Path2D,oe[ae]=Mt)}mt||(d.beginPath&&d.beginPath(),ot?Jt.draw(d,1,0,{x:0,y:0},1):Jt.draw(d,Nt,tt,jt,D),d.closePath&&d.closePath()),d=Ot,ot&&(d.translate(N,L),d.rotate(tt),d.scale(Nt,Nt)),("filled"===b||"both"===b)&&(ot?d.fill(Mt):d.fill()),("hollow"===b||"both"===b)&&(d.lineWidth=(Jt.matchEdgeWidth?D:1)/(ot?Nt:1),d.lineJoin="miter",ot?d.stroke(Mt):d.stroke()),ot&&(d.scale(1/Nt,1/Nt),d.rotate(-tt),d.translate(-N,-L))};var W0={safeDrawImage:function(w,d,b,D,O,N,L,tt,ht,ot){O<=0||N<=0||ht<=0||ot<=0||w.drawImage(d,b,D,O,N,L,tt,ht,ot)},drawInscribedImage:function(w,d,b,D,O){var N=this,L=b.position(),tt=L.x,ht=L.y,ot=b.cy().style(),mt=ot.getIndexedStyle.bind(ot),Mt=mt(b,"background-fit","value",D),Ot=mt(b,"background-repeat","value",D),jt=b.width(),Gt=b.height(),Nt=2*b.padding(),Jt=jt+("inner"===mt(b,"background-width-relative-to","value",D)?0:Nt),oe=Gt+("inner"===mt(b,"background-height-relative-to","value",D)?0:Nt),ae=b._private.rscratch,xe="node"===mt(b,"background-clip","value",D),Ve=mt(b,"background-image-opacity","value",D)*O,He=mt(b,"background-image-smoothing","value",D),ge=d.width||d.cachedW,ze=d.height||d.cachedH;(null==ge||null==ze)&&(document.body.appendChild(d),ge=d.cachedW=d.width||d.offsetWidth,ze=d.cachedH=d.height||d.offsetHeight,document.body.removeChild(d));var Me=ge,Ye=ze;if("auto"!==mt(b,"background-width","value",D)&&(Me="%"===mt(b,"background-width","units",D)?mt(b,"background-width","pfValue",D)*Jt:mt(b,"background-width","pfValue",D)),"auto"!==mt(b,"background-height","value",D)&&(Ye="%"===mt(b,"background-height","units",D)?mt(b,"background-height","pfValue",D)*oe:mt(b,"background-height","pfValue",D)),0!==Me&&0!==Ye){if("contain"===Mt)Me*=Ue=Math.min(Jt/Me,oe/Ye),Ye*=Ue;else if("cover"===Mt){var Ue;Me*=Ue=Math.max(Jt/Me,oe/Ye),Ye*=Ue}var Ne=tt-Jt/2,Je=mt(b,"background-position-x","units",D),Be=mt(b,"background-position-x","pfValue",D);Ne+="%"===Je?(Jt-Me)*Be:Be;var wi=mt(b,"background-offset-x","units",D),fi=mt(b,"background-offset-x","pfValue",D);Ne+="%"===wi?(Jt-Me)*fi:fi;var bi=ht-oe/2,pi=mt(b,"background-position-y","units",D),yi=mt(b,"background-position-y","pfValue",D);bi+="%"===pi?(oe-Ye)*yi:yi;var Fi=mt(b,"background-offset-y","units",D),Ai=mt(b,"background-offset-y","pfValue",D);bi+="%"===Fi?(oe-Ye)*Ai:Ai,ae.pathCache&&(Ne-=tt,bi-=ht,tt=0,ht=0);var li=w.globalAlpha;w.globalAlpha=Ve;var Wi=N.getImgSmoothing(w),Fe=!1;if("no"===He&&Wi?(N.setImgSmoothing(w,!1),Fe=!0):"yes"===He&&!Wi&&(N.setImgSmoothing(w,!0),Fe=!0),"no-repeat"===Ot)xe&&(w.save(),ae.pathCache?w.clip(ae.pathCache):(N.nodeShapes[N.getNodeShape(b)].draw(w,tt,ht,Jt,oe),w.clip())),N.safeDrawImage(w,d,0,0,ge,ze,Ne,bi,Me,Ye),xe&&w.restore();else{var Gi=w.createPattern(d,Ot);w.fillStyle=Gi,N.nodeShapes[N.getNodeShape(b)].draw(w,tt,ht,Jt,oe),w.translate(Ne,bi),w.fill(),w.translate(-Ne,-bi)}w.globalAlpha=li,Fe&&N.setImgSmoothing(w,Wi)}}},rl={};function _1(w,d,b,D,O){var N=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;w.beginPath(),w.moveTo(d+N,b),w.lineTo(d+D-N,b),w.quadraticCurveTo(d+D,b,d+D,b+N),w.lineTo(d+D,b+O-N),w.quadraticCurveTo(d+D,b+O,d+D-N,b+O),w.lineTo(d+N,b+O),w.quadraticCurveTo(d,b+O,d,b+O-N),w.lineTo(d,b+N),w.quadraticCurveTo(d,b,d+N,b),w.closePath(),w.fill()}rl.eleTextBiggerThanMin=function(w,d){if(!d){var b=w.cy().zoom(),D=this.getPixelRatio(),O=Math.ceil(uv(b*D));d=Math.pow(2,O)}return!(w.pstyle("font-size").pfValue*d<w.pstyle("min-zoomed-font-size").pfValue)},rl.drawElementText=function(w,d,b,D,O){var N=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],L=this;if(null==D){if(N&&!L.eleTextBiggerThanMin(d))return}else if(!1===D)return;if(d.isNode()){var tt=d.pstyle("label");if(!tt||!tt.value)return;var ht=L.getLabelJustification(d);w.textAlign=ht,w.textBaseline="bottom"}else{var ot=d.element()._private.rscratch.badLine,mt=d.pstyle("label"),Mt=d.pstyle("source-label"),Ot=d.pstyle("target-label");if(ot||(!mt||!mt.value)&&(!Mt||!Mt.value)&&(!Ot||!Ot.value))return;w.textAlign="center",w.textBaseline="bottom"}var Gt,jt=!b;b&&w.translate(-(Gt=b).x1,-Gt.y1),null==O?(L.drawText(w,d,null,jt,N),d.isEdge()&&(L.drawText(w,d,"source",jt,N),L.drawText(w,d,"target",jt,N))):L.drawText(w,d,O,jt,N),b&&w.translate(Gt.x1,Gt.y1)},rl.getFontCache=function(w){var d;this.fontCaches=this.fontCaches||[];for(var b=0;b<this.fontCaches.length;b++)if((d=this.fontCaches[b]).context===w)return d;return this.fontCaches.push(d={context:w}),d},rl.setupTextStyle=function(w,d){var b=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],D=d.pstyle("font-style").strValue,O=d.pstyle("font-size").pfValue+"px",N=d.pstyle("font-family").strValue,L=d.pstyle("font-weight").strValue,tt=b?d.effectiveOpacity()*d.pstyle("text-opacity").value:1,ht=d.pstyle("text-outline-opacity").value*tt,ot=d.pstyle("color").value,mt=d.pstyle("text-outline-color").value;w.font=D+" "+L+" "+O+" "+N,w.lineJoin="round",this.colorFillStyle(w,ot[0],ot[1],ot[2],tt),this.colorStrokeStyle(w,mt[0],mt[1],mt[2],ht)},rl.getTextAngle=function(w,d){var O=w._private.rscratch,L=w.pstyle((d?d+"-":"")+"text-rotation"),tt=Vn(O,"labelAngle",d);return"autorotate"===L.strValue?w.isEdge()?tt:0:"none"===L.strValue?0:L.pfValue},rl.drawText=function(w,d,b){var D=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],O=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],N=d._private,L=N.rscratch,tt=O?d.effectiveOpacity():1;if(!O||0!==tt&&0!==d.pstyle("text-opacity").value){"main"===b&&(b=null);var mt,Mt,ht=Vn(L,"labelX",b),ot=Vn(L,"labelY",b),Ot=this.getLabelText(d,b);if(null!=Ot&&""!==Ot&&!isNaN(ht)&&!isNaN(ot)){this.setupTextStyle(w,d,O);var Ve,jt=b?b+"-":"",Gt=Vn(L,"labelWidth",b),Nt=Vn(L,"labelHeight",b),Jt=d.pstyle(jt+"text-margin-x").pfValue,oe=d.pstyle(jt+"text-margin-y").pfValue,ae=d.isEdge(),le=d.pstyle("text-halign").value,xe=d.pstyle("text-valign").value;switch(ae&&(le="center",xe="center"),ht+=Jt,ot+=oe,0!==(Ve=D?this.getTextAngle(d,b):0)&&(w.translate(mt=ht,Mt=ot),w.rotate(Ve),ht=0,ot=0),xe){case"top":break;case"center":ot+=Nt/2;break;case"bottom":ot+=Nt}var He=d.pstyle("text-background-opacity").value,ge=d.pstyle("text-border-opacity").value,ze=d.pstyle("text-border-width").pfValue,Me=d.pstyle("text-background-padding").pfValue;if(He>0||ze>0&&ge>0){var Ye=ht-Me;switch(le){case"left":Ye-=Gt;break;case"center":Ye-=Gt/2}var Ue=ot-Nt-Me,Ne=Gt+2*Me,Je=Nt+2*Me;if(He>0){var Be=w.fillStyle,wi=d.pstyle("text-background-color").value;w.fillStyle="rgba("+wi[0]+","+wi[1]+","+wi[2]+","+He*tt+")";var fi=d.pstyle("text-background-shape").strValue;0===fi.indexOf("round")?_1(w,Ye,Ue,Ne,Je,2):w.fillRect(Ye,Ue,Ne,Je),w.fillStyle=Be}if(ze>0&&ge>0){var bi=w.strokeStyle,pi=w.lineWidth,yi=d.pstyle("text-border-color").value,Fi=d.pstyle("text-border-style").value;if(w.strokeStyle="rgba("+yi[0]+","+yi[1]+","+yi[2]+","+ge*tt+")",w.lineWidth=ze,w.setLineDash)switch(Fi){case"dotted":w.setLineDash([1,1]);break;case"dashed":w.setLineDash([4,2]);break;case"double":w.lineWidth=ze/4,w.setLineDash([]);break;case"solid":w.setLineDash([])}if(w.strokeRect(Ye,Ue,Ne,Je),"double"===Fi){var Ai=ze/2;w.strokeRect(Ye+Ai,Ue+Ai,Ne-2*Ai,Je-2*Ai)}w.setLineDash&&w.setLineDash([]),w.lineWidth=pi,w.strokeStyle=bi}}var li=2*d.pstyle("text-outline-width").pfValue;if(li>0&&(w.lineWidth=li),"wrap"===d.pstyle("text-wrap").value){var Wi=Vn(L,"labelWrapCachedLines",b),Fe=Vn(L,"labelLineHeight",b),Gi=Gt/2,Ui=this.getLabelJustification(d);switch("auto"===Ui||("left"===le?"left"===Ui?ht+=-Gt:"center"===Ui&&(ht+=-Gi):"center"===le?"left"===Ui?ht+=-Gi:"right"===Ui&&(ht+=Gi):"right"===le&&("center"===Ui?ht+=Gi:"right"===Ui&&(ht+=Gt))),xe){case"top":case"center":case"bottom":ot-=(Wi.length-1)*Fe}for(var xi=0;xi<Wi.length;xi++)li>0&&w.strokeText(Wi[xi],ht,ot),w.fillText(Wi[xi],ht,ot),ot+=Fe}else li>0&&w.strokeText(Ot,ht,ot),w.fillText(Ot,ht,ot);0!==Ve&&(w.rotate(-Ve),w.translate(-mt,-Mt))}}};var Qn={drawNode:function(w,d,b){var tt,ht,D=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],O=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],N=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],L=this,ot=d._private,mt=ot.rscratch,Mt=d.position();if(St(Mt.x)&&St(Mt.y)&&(!N||d.visible())){var Gt,oe,Ot=N?d.effectiveOpacity():1,jt=L.usePaths(),Nt=!1,Jt=d.padding();tt=d.width()+2*Jt,ht=d.height()+2*Jt,b&&w.translate(-(oe=b).x1,-oe.y1);for(var ae=d.pstyle("background-image"),le=ae.value,xe=new Array(le.length),Ve=new Array(le.length),He=0,ge=0;ge<le.length;ge++){var ze=le[ge],Me=xe[ge]=null!=ze&&"none"!==ze;if(Me){var Ye=d.cy().style().getIndexedStyle(d,"background-image-crossorigin","value",ge);He++,Ve[ge]=L.getCachedImage(ze,Ye,function(){ot.backgroundTimestamp=Date.now(),d.emitAndNotify("background")})}}var Ue=d.pstyle("background-blacken").value,Ne=d.pstyle("border-width").pfValue,Je=d.pstyle("background-opacity").value*Ot,Be=d.pstyle("border-color").value,wi=d.pstyle("border-style").value,fi=d.pstyle("border-opacity").value*Ot;w.lineJoin="miter";var bi=function(){var On=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je;L.eleFillStyle(w,d,On)},pi=function(){var On=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi;L.colorStrokeStyle(w,Be[0],Be[1],Be[2],On)},yi=d.pstyle("shape").strValue,Fi=d.pstyle("shape-polygon-points").pfValue;if(jt){w.translate(Mt.x,Mt.y);var Ai=L.nodePathCache=L.nodePathCache||[],li=Ge("polygon"===yi?yi+","+Fi.join(","):yi,""+ht,""+tt),Wi=Ai[li];null!=Wi?(Nt=!0,mt.pathCache=Gt=Wi):(Gt=new Path2D,Ai[li]=mt.pathCache=Gt)}var Fe=function(){if(!Nt){var On=Mt;jt&&(On={x:0,y:0}),L.nodeShapes[L.getNodeShape(d)].draw(Gt||w,On.x,On.y,tt,ht)}jt?w.fill(Gt):w.fill()},Gi=function(){for(var On=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,hr=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],To=ot.backgrounding,wo=0,to=0;to<Ve.length;to++){var hi=d.cy().style().getIndexedStyle(d,"background-image-containment","value",to);hr&&"over"===hi||!hr&&"inside"===hi?wo++:xe[to]&&Ve[to].complete&&!Ve[to].error&&(wo++,L.drawInscribedImage(w,Ve[to],d,to,On))}ot.backgrounding=wo!==He,To!==ot.backgrounding&&d.updateStyle(!1)},Ui=function(){var On=arguments.length>0&&void 0!==arguments[0]&&arguments[0],hr=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ot;L.hasPie(d)&&(L.drawPie(w,d,hr),On&&(jt||L.nodeShapes[L.getNodeShape(d)].draw(w,Mt.x,Mt.y,tt,ht)))},xi=function(){var On=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,hr=(Ue>0?Ue:-Ue)*On,To=Ue>0?0:255;0!==Ue&&(L.colorFillStyle(w,To,To,To,hr),jt?w.fill(Gt):w.fill())},Ni=function(){if(Ne>0){if(w.lineWidth=Ne,w.lineCap="butt",w.setLineDash)switch(wi){case"dotted":w.setLineDash([1,1]);break;case"dashed":w.setLineDash([4,2]);break;case"solid":case"double":w.setLineDash([])}if(jt?w.stroke(Gt):w.stroke(),"double"===wi){w.lineWidth=Ne/3;var On=w.globalCompositeOperation;w.globalCompositeOperation="destination-out",jt?w.stroke(Gt):w.stroke(),w.globalCompositeOperation=On}w.setLineDash&&w.setLineDash([])}},$i=function(){O&&L.drawNodeOverlay(w,d,Mt,tt,ht)},nn=function(){O&&L.drawNodeUnderlay(w,d,Mt,tt,ht)},bn=function(){L.drawElementText(w,d,null,D)},Mr="yes"===d.pstyle("ghost").value;if(Mr){var kr=d.pstyle("ghost-offset-x").pfValue,Pn=d.pstyle("ghost-offset-y").pfValue,yn=d.pstyle("ghost-opacity").value,xr=yn*Ot;w.translate(kr,Pn),bi(yn*Je),Fe(),Gi(xr,!0),pi(yn*fi),Ni(),Ui(0!==Ue||0!==Ne),Gi(xr,!1),xi(xr),w.translate(-kr,-Pn)}jt&&w.translate(-Mt.x,-Mt.y),nn(),jt&&w.translate(Mt.x,Mt.y),bi(),Fe(),Gi(Ot,!0),pi(),Ni(),Ui(0!==Ue||0!==Ne),Gi(Ot,!1),xi(),jt&&w.translate(-Mt.x,-Mt.y),bn(),$i(),b&&w.translate(oe.x1,oe.y1)}}},M1=function(d){if(!["overlay","underlay"].includes(d))throw new Error("Invalid state");return function(b,D,O,N,L){if(D.visible()){var ht=D.pstyle("".concat(d,"-padding")).pfValue,ot=D.pstyle("".concat(d,"-opacity")).value,mt=D.pstyle("".concat(d,"-color")).value,Mt=D.pstyle("".concat(d,"-shape")).value;if(ot>0){if(O=O||D.position(),null==N||null==L){var Ot=D.padding();N=D.width()+2*Ot,L=D.height()+2*Ot}this.colorFillStyle(b,mt[0],mt[1],mt[2],ot),this.nodeShapes[Mt].draw(b,O.x,O.y,N+2*ht,L+2*ht),b.fill()}}}};Qn.drawNodeOverlay=M1("overlay"),Qn.drawNodeUnderlay=M1("underlay"),Qn.hasPie=function(w){return(w=w[0])._private.hasPie},Qn.drawPie=function(w,d,b,D){d=d[0],D=D||d.position();var O=d.cy().style(),N=d.pstyle("pie-size"),L=D.x,tt=D.y,ht=d.width(),ot=d.height(),mt=Math.min(ht,ot)/2,Mt=0;this.usePaths()&&(L=0,tt=0),"%"===N.units?mt*=N.pfValue:void 0!==N.pfValue&&(mt=N.pfValue/2);for(var jt=1;jt<=O.pieBackgroundN;jt++){var Gt=d.pstyle("pie-"+jt+"-background-size").value,Nt=d.pstyle("pie-"+jt+"-background-color").value,Jt=d.pstyle("pie-"+jt+"-background-opacity").value*b,oe=Gt/100;oe+Mt>1&&(oe=1-Mt);var ae=1.5*Math.PI+2*Math.PI*Mt,xe=ae+2*Math.PI*oe;0===Gt||Mt>=1||Mt+oe>1||(w.beginPath(),w.moveTo(L,tt),w.arc(L,tt,mt,ae,xe),w.closePath(),this.colorFillStyle(w,Nt[0],Nt[1],Nt[2],Jt),w.fill(),Mt+=oe)}};for(var ol={getPixelRatio:function(){var w=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(w.backingStorePixelRatio||w.webkitBackingStorePixelRatio||w.mozBackingStorePixelRatio||w.msBackingStorePixelRatio||w.oBackingStorePixelRatio||w.backingStorePixelRatio||1)},paintCache:function(w){for(var D,d=this.paintCaches=this.paintCaches||[],b=!0,O=0;O<d.length;O++)if((D=d[O]).context===w){b=!1;break}return b&&d.push(D={context:w}),D},createGradientStyleFor:function(w,d,b,D,O){var N,L=this.usePaths(),tt=b.pstyle(d+"-gradient-stop-colors").value,ht=b.pstyle(d+"-gradient-stop-positions").pfValue;if("radial-gradient"===D)if(b.isEdge()){var ot=b.sourceEndpoint(),mt=b.targetEndpoint(),Mt=b.midpoint(),Ot=rp(ot,Mt),jt=rp(mt,Mt);N=w.createRadialGradient(Mt.x,Mt.y,0,Mt.x,Mt.y,Math.max(Ot,jt))}else{var Gt=L?{x:0,y:0}:b.position(),Nt=b.paddedWidth(),Jt=b.paddedHeight();N=w.createRadialGradient(Gt.x,Gt.y,0,Gt.x,Gt.y,Math.max(Nt,Jt))}else if(b.isEdge()){var oe=b.sourceEndpoint(),ae=b.targetEndpoint();N=w.createLinearGradient(oe.x,oe.y,ae.x,ae.y)}else{var le=L?{x:0,y:0}:b.position(),He=b.paddedWidth()/2,ge=b.paddedHeight()/2;switch(b.pstyle("background-gradient-direction").value){case"to-bottom":N=w.createLinearGradient(le.x,le.y-ge,le.x,le.y+ge);break;case"to-top":N=w.createLinearGradient(le.x,le.y+ge,le.x,le.y-ge);break;case"to-left":N=w.createLinearGradient(le.x+He,le.y,le.x-He,le.y);break;case"to-right":N=w.createLinearGradient(le.x-He,le.y,le.x+He,le.y);break;case"to-bottom-right":case"to-right-bottom":N=w.createLinearGradient(le.x-He,le.y-ge,le.x+He,le.y+ge);break;case"to-top-right":case"to-right-top":N=w.createLinearGradient(le.x-He,le.y+ge,le.x+He,le.y-ge);break;case"to-bottom-left":case"to-left-bottom":N=w.createLinearGradient(le.x+He,le.y-ge,le.x-He,le.y+ge);break;case"to-top-left":case"to-left-top":N=w.createLinearGradient(le.x+He,le.y+ge,le.x-He,le.y-ge)}}if(!N)return null;for(var Me=ht.length===tt.length,Ye=tt.length,Ue=0;Ue<Ye;Ue++)N.addColorStop(Me?ht[Ue]:Ue/(Ye-1),"rgba("+tt[Ue][0]+","+tt[Ue][1]+","+tt[Ue][2]+","+O+")");return N},gradientFillStyle:function(w,d,b,D){var O=this.createGradientStyleFor(w,"background",d,b,D);if(!O)return null;w.fillStyle=O},colorFillStyle:function(w,d,b,D,O){w.fillStyle="rgba("+d+","+b+","+D+","+O+")"},eleFillStyle:function(w,d,b){var D=d.pstyle("background-fill").value;if("linear-gradient"===D||"radial-gradient"===D)this.gradientFillStyle(w,d,D,b);else{var O=d.pstyle("background-color").value;this.colorFillStyle(w,O[0],O[1],O[2],b)}},gradientStrokeStyle:function(w,d,b,D){var O=this.createGradientStyleFor(w,"line",d,b,D);if(!O)return null;w.strokeStyle=O},colorStrokeStyle:function(w,d,b,D,O){w.strokeStyle="rgba("+d+","+b+","+D+","+O+")"},eleStrokeStyle:function(w,d,b){var D=d.pstyle("line-fill").value;if("linear-gradient"===D||"radial-gradient"===D)this.gradientStrokeStyle(w,d,D,b);else{var O=d.pstyle("line-color").value;this.colorStrokeStyle(w,O[0],O[1],O[2],b)}},matchCanvasSize:function(w){var d=this,b=d.data,D=d.findContainerClientCoords(),O=D[2],N=D[3],L=d.getPixelRatio();(w===d.data.bufferCanvases[d.MOTIONBLUR_BUFFER_NODE]||w===d.data.bufferCanvases[d.MOTIONBLUR_BUFFER_DRAG])&&(L=d.motionBlurPxRatio);var mt,ht=O*L,ot=N*L;if(ht!==d.canvasWidth||ot!==d.canvasHeight){d.fontCaches=null;var Mt=b.canvasContainer;Mt.style.width=O+"px",Mt.style.height=N+"px";for(var Ot=0;Ot<d.CANVAS_LAYERS;Ot++)(mt=b.canvases[Ot]).width=ht,mt.height=ot,mt.style.width=O+"px",mt.style.height=N+"px";for(Ot=0;Ot<d.BUFFER_COUNT;Ot++)(mt=b.bufferCanvases[Ot]).width=ht,mt.height=ot,mt.style.width=O+"px",mt.style.height=N+"px";d.textureMult=1,L<=1&&(mt=b.bufferCanvases[d.TEXTURE_BUFFER],d.textureMult=2,mt.width=ht*d.textureMult,mt.height=ot*d.textureMult),d.canvasWidth=ht,d.canvasHeight=ot}},renderTo:function(w,d,b,D){this.render({forcedContext:w,forcedZoom:d,forcedPan:b,drawAllLayers:!0,forcedPxRatio:D})},render:function(w){var d=(w=w||si()).forcedContext,b=w.drawAllLayers,D=w.drawOnlyNodeLayer,O=w.forcedZoom,N=w.forcedPan,L=this,tt=void 0===w.forcedPxRatio?this.getPixelRatio():w.forcedPxRatio,ht=L.cy,ot=L.data,mt=ot.canvasNeedsRedraw,Mt=L.textureOnViewport&&!d&&(L.pinching||L.hoverData.dragging||L.swipePanning||L.data.wheelZooming),Ot=void 0!==w.motionBlur?w.motionBlur:L.motionBlur,jt=L.motionBlurPxRatio,Gt=ht.hasCompoundNodes(),Nt=L.hoverData.draggingEles,oe=Ot=Ot&&!d&&L.motionBlurEnabled&&!(L.hoverData.selecting||L.touchData.selecting);d||(L.prevPxRatio!==tt&&(L.invalidateContainerClientCoordsCache(),L.matchCanvasSize(L.container),L.redrawHint("eles",!0),L.redrawHint("drag",!0)),L.prevPxRatio=tt),!d&&L.motionBlurTimeout&&clearTimeout(L.motionBlurTimeout),Ot&&(null==L.mbFrames&&(L.mbFrames=0),L.mbFrames++,L.mbFrames<3&&(oe=!1),L.mbFrames>L.minMbLowQualFrames&&(L.motionBlurPxRatio=L.mbPxRBlurry)),L.clearingMotionBlur&&(L.motionBlurPxRatio=1),L.textureDrawLastFrame&&!Mt&&(mt[L.NODE]=!0,mt[L.SELECT_BOX]=!0);var ae=ht.style(),le=ht.zoom(),xe=void 0!==O?O:le,Ve=ht.pan(),He={x:Ve.x,y:Ve.y},ge={zoom:le,pan:{x:Ve.x,y:Ve.y}},ze=L.prevViewport;!(void 0===ze||ge.zoom!==ze.zoom||ge.pan.x!==ze.pan.x||ge.pan.y!==ze.pan.y)&&!(Nt&&!Gt)&&(L.motionBlurPxRatio=1),N&&(He=N),xe*=tt,He.x*=tt,He.y*=tt;var Ye=L.getCachedZSortedEles();function Ue(Pn,yn,xr,tr,On){var hr=Pn.globalCompositeOperation;Pn.globalCompositeOperation="destination-out",L.colorFillStyle(Pn,255,255,255,L.motionBlurTransparency),Pn.fillRect(yn,xr,tr,On),Pn.globalCompositeOperation=hr}function Ne(Pn,yn){var xr,tr,On,hr;L.clearingMotionBlur||Pn!==ot.bufferContexts[L.MOTIONBLUR_BUFFER_NODE]&&Pn!==ot.bufferContexts[L.MOTIONBLUR_BUFFER_DRAG]?(xr=He,tr=xe,On=L.canvasWidth,hr=L.canvasHeight):(xr={x:Ve.x*jt,y:Ve.y*jt},tr=le*jt,On=L.canvasWidth*jt,hr=L.canvasHeight*jt),Pn.setTransform(1,0,0,1,0,0),"motionBlur"===yn?Ue(Pn,0,0,On,hr):!d&&(void 0===yn||yn)&&Pn.clearRect(0,0,On,hr),b||(Pn.translate(xr.x,xr.y),Pn.scale(tr,tr)),N&&Pn.translate(N.x,N.y),O&&Pn.scale(O,O)}if(Mt||(L.textureDrawLastFrame=!1),Mt){if(L.textureDrawLastFrame=!0,!L.textureCache){L.textureCache={},L.textureCache.bb=ht.mutableElements().boundingBox(),L.textureCache.texture=L.data.bufferCanvases[L.TEXTURE_BUFFER];var Je=L.data.bufferContexts[L.TEXTURE_BUFFER];Je.setTransform(1,0,0,1,0,0),Je.clearRect(0,0,L.canvasWidth*L.textureMult,L.canvasHeight*L.textureMult),L.render({forcedContext:Je,drawOnlyNodeLayer:!0,forcedPxRatio:tt*L.textureMult}),(ge=L.textureCache.viewport={zoom:ht.zoom(),pan:ht.pan(),width:L.canvasWidth,height:L.canvasHeight}).mpan={x:(0-ge.pan.x)/ge.zoom,y:(0-ge.pan.y)/ge.zoom}}mt[L.DRAG]=!1,mt[L.NODE]=!1;var wi=L.textureCache.texture;ge=L.textureCache.viewport,(Be=ot.contexts[L.NODE]).setTransform(1,0,0,1,0,0),Ot?Ue(Be,0,0,ge.width,ge.height):Be.clearRect(0,0,ge.width,ge.height);var fi=ae.core("outside-texture-bg-color").value,bi=ae.core("outside-texture-bg-opacity").value;L.colorFillStyle(Be,fi[0],fi[1],fi[2],bi),Be.fillRect(0,0,ge.width,ge.height),le=ht.zoom(),Ne(Be,!1),Be.clearRect(ge.mpan.x,ge.mpan.y,ge.width/ge.zoom/tt,ge.height/ge.zoom/tt),Be.drawImage(wi,ge.mpan.x,ge.mpan.y,ge.width/ge.zoom/tt,ge.height/ge.zoom/tt)}else L.textureOnViewport&&!d&&(L.textureCache=null);var pi=ht.extent(),yi=L.pinching||L.hoverData.dragging||L.swipePanning||L.data.wheelZooming||L.hoverData.draggingEles||L.cy.animated(),Fi=L.hideEdgesOnViewport&&yi,Ai=[];if(Ai[L.NODE]=!mt[L.NODE]&&Ot&&!L.clearedForMotionBlur[L.NODE]||L.clearingMotionBlur,Ai[L.NODE]&&(L.clearedForMotionBlur[L.NODE]=!0),Ai[L.DRAG]=!mt[L.DRAG]&&Ot&&!L.clearedForMotionBlur[L.DRAG]||L.clearingMotionBlur,Ai[L.DRAG]&&(L.clearedForMotionBlur[L.DRAG]=!0),mt[L.NODE]||b||D||Ai[L.NODE]){var li=Ot&&!Ai[L.NODE]&&1!==jt;Ne(Be=d||(li?L.data.bufferContexts[L.MOTIONBLUR_BUFFER_NODE]:ot.contexts[L.NODE]),Ot&&!li?"motionBlur":void 0),Fi?L.drawCachedNodes(Be,Ye.nondrag,tt,pi):L.drawLayeredElements(Be,Ye.nondrag,tt,pi),L.debug&&L.drawDebugPoints(Be,Ye.nondrag),!b&&!Ot&&(mt[L.NODE]=!1)}if(!D&&(mt[L.DRAG]||b||Ai[L.DRAG])&&(li=Ot&&!Ai[L.DRAG]&&1!==jt,Ne(Be=d||(li?L.data.bufferContexts[L.MOTIONBLUR_BUFFER_DRAG]:ot.contexts[L.DRAG]),Ot&&!li?"motionBlur":void 0),Fi?L.drawCachedNodes(Be,Ye.drag,tt,pi):L.drawCachedElements(Be,Ye.drag,tt,pi),L.debug&&L.drawDebugPoints(Be,Ye.drag),!b&&!Ot&&(mt[L.DRAG]=!1)),L.showFps||!D&&mt[L.SELECT_BOX]&&!b){var Be;if(Ne(Be=d||ot.contexts[L.SELECT_BOX]),1==L.selection[4]&&(L.hoverData.selecting||L.touchData.selecting)){le=L.cy.zoom();var Fe=ae.core("selection-box-border-width").value/le;Be.lineWidth=Fe,Be.fillStyle="rgba("+ae.core("selection-box-color").value[0]+","+ae.core("selection-box-color").value[1]+","+ae.core("selection-box-color").value[2]+","+ae.core("selection-box-opacity").value+")",Be.fillRect(L.selection[0],L.selection[1],L.selection[2]-L.selection[0],L.selection[3]-L.selection[1]),Fe>0&&(Be.strokeStyle="rgba("+ae.core("selection-box-border-color").value[0]+","+ae.core("selection-box-border-color").value[1]+","+ae.core("selection-box-border-color").value[2]+","+ae.core("selection-box-opacity").value+")",Be.strokeRect(L.selection[0],L.selection[1],L.selection[2]-L.selection[0],L.selection[3]-L.selection[1]))}if(ot.bgActivePosistion&&!L.hoverData.selecting){le=L.cy.zoom();var Gi=ot.bgActivePosistion;Be.fillStyle="rgba("+ae.core("active-bg-color").value[0]+","+ae.core("active-bg-color").value[1]+","+ae.core("active-bg-color").value[2]+","+ae.core("active-bg-opacity").value+")",Be.beginPath(),Be.arc(Gi.x,Gi.y,ae.core("active-bg-size").pfValue/le,0,2*Math.PI),Be.fill()}var Ui=L.lastRedrawTime;if(L.showFps&&Ui){Ui=Math.round(Ui);var xi=Math.round(1e3/Ui);Be.setTransform(1,0,0,1,0,0),Be.fillStyle="rgba(255, 0, 0, 0.75)",Be.strokeStyle="rgba(255, 0, 0, 0.75)",Be.lineWidth=1,Be.fillText("1 frame = "+Ui+" ms = "+xi+" fps",0,20),Be.strokeRect(0,30,250,20),Be.fillRect(0,30,250*Math.min(xi/60,1),20)}b||(mt[L.SELECT_BOX]=!1)}if(Ot&&1!==jt){var bn=ot.contexts[L.DRAG],Mr=L.data.bufferCanvases[L.MOTIONBLUR_BUFFER_DRAG],kr=function(yn,xr,tr){yn.setTransform(1,0,0,1,0,0),tr||!oe?yn.clearRect(0,0,L.canvasWidth,L.canvasHeight):Ue(yn,0,0,L.canvasWidth,L.canvasHeight),yn.drawImage(xr,0,0,L.canvasWidth*jt,L.canvasHeight*jt,0,0,L.canvasWidth,L.canvasHeight)};(mt[L.NODE]||Ai[L.NODE])&&(kr(ot.contexts[L.NODE],L.data.bufferCanvases[L.MOTIONBLUR_BUFFER_NODE],Ai[L.NODE]),mt[L.NODE]=!1),(mt[L.DRAG]||Ai[L.DRAG])&&(kr(bn,Mr,Ai[L.DRAG]),mt[L.DRAG]=!1)}L.prevViewport=ge,L.clearingMotionBlur&&(L.clearingMotionBlur=!1,L.motionBlurCleared=!0,L.motionBlur=!0),Ot&&(L.motionBlurTimeout=setTimeout(function(){L.motionBlurTimeout=null,L.clearedForMotionBlur[L.NODE]=!1,L.clearedForMotionBlur[L.DRAG]=!1,L.motionBlur=!1,L.clearingMotionBlur=!Mt,L.mbFrames=0,mt[L.NODE]=!0,mt[L.DRAG]=!0,L.redraw()},100)),d||ht.emit("render")}},bh={drawPolygonPath:function(w,d,b,D,O,N){var L=D/2,tt=O/2;w.beginPath&&w.beginPath(),w.moveTo(d+L*N[0],b+tt*N[1]);for(var ht=1;ht<N.length/2;ht++)w.lineTo(d+L*N[2*ht],b+tt*N[2*ht+1]);w.closePath()},drawRoundPolygonPath:function(w,d,b,D,O,N){var L=D/2,tt=O/2,ht=Rs(D,O);w.beginPath&&w.beginPath();for(var ot=0;ot<N.length/4;ot++){var Mt,mt;mt=0===ot?N.length-2:4*ot-2,Mt=4*ot+2;var Ot=d+L*N[4*ot],jt=b+tt*N[4*ot+1],Nt=ht/Math.tan(Math.acos(-N[mt]*N[Mt]-N[mt+1]*N[Mt+1])/2),Jt=Ot-Nt*N[mt],oe=jt-Nt*N[mt+1],ae=Ot+Nt*N[Mt],le=jt+Nt*N[Mt+1];0===ot?w.moveTo(Jt,oe):w.lineTo(Jt,oe),w.arcTo(Ot,jt,ae,le,ht)}w.closePath()},drawRoundRectanglePath:function(w,d,b,D,O){var N=D/2,L=O/2,tt=sa(D,O);w.beginPath&&w.beginPath(),w.moveTo(d,b-L),w.arcTo(d+N,b-L,d+N,b,tt),w.arcTo(d+N,b+L,d,b+L,tt),w.arcTo(d-N,b+L,d-N,b,tt),w.arcTo(d-N,b-L,d,b-L,tt),w.lineTo(d,b-L),w.closePath()},drawBottomRoundRectanglePath:function(w,d,b,D,O){var N=D/2,L=O/2,tt=sa(D,O);w.beginPath&&w.beginPath(),w.moveTo(d,b-L),w.lineTo(d+N,b-L),w.lineTo(d+N,b),w.arcTo(d+N,b+L,d,b+L,tt),w.arcTo(d-N,b+L,d-N,b,tt),w.lineTo(d-N,b-L),w.lineTo(d,b-L),w.closePath()},drawCutRectanglePath:function(w,d,b,D,O){var N=D/2,L=O/2;w.beginPath&&w.beginPath(),w.moveTo(d-N+8,b-L),w.lineTo(d+N-8,b-L),w.lineTo(d+N,b-L+8),w.lineTo(d+N,b+L-8),w.lineTo(d+N-8,b+L),w.lineTo(d-N+8,b+L),w.lineTo(d-N,b+L-8),w.lineTo(d-N,b-L+8),w.closePath()},drawBarrelPath:function(w,d,b,D,O){var N=D/2,L=O/2,tt=d-N,ht=d+N,ot=b-L,mt=b+L,Mt=Os(D,O),Ot=Mt.widthOffset,jt=Mt.heightOffset,Gt=Mt.ctrlPtOffsetPct*Ot;w.beginPath&&w.beginPath(),w.moveTo(tt,ot+jt),w.lineTo(tt,mt-jt),w.quadraticCurveTo(tt+Gt,mt,tt+Ot,mt),w.lineTo(ht-Ot,mt),w.quadraticCurveTo(ht-Gt,mt,ht,mt-jt),w.lineTo(ht,ot+jt),w.quadraticCurveTo(ht-Gt,ot,ht-Ot,ot),w.lineTo(tt+Ot,ot),w.quadraticCurveTo(tt+Gt,ot,tt,ot+jt),w.closePath()}},Ll=Math.sin(0),ng=Math.cos(0),$v={},rg={},Ap=Math.PI/40,Lc=0*Math.PI;Lc<2*Math.PI;Lc+=Ap)$v[Lc]=Math.sin(Lc),rg[Lc]=Math.cos(Lc);bh.drawEllipsePath=function(w,d,b,D,O){if(w.beginPath&&w.beginPath(),w.ellipse)w.ellipse(d,b,D/2,O/2,0,0,2*Math.PI);else for(var N,L,tt=D/2,ht=O/2,ot=0*Math.PI;ot<2*Math.PI;ot+=Ap)N=d-tt*$v[ot]*Ll+tt*rg[ot]*ng,L=b+ht*rg[ot]*Ll+ht*$v[ot]*ng,0===ot?w.moveTo(N,L):w.lineTo(N,L);w.closePath()};var Tp={};function Xv(w){var d=w.indexOf(",");return w.substr(d+1)}function Y0(w,d,b){var D=function(){return d.toDataURL(b,w.quality)};switch(w.output){case"blob-promise":return new fp(function(O,N){try{d.toBlob(function(L){null!=L?O(L):N(new Error("`canvas.toBlob()` sent a null value in its callback"))},b,w.quality)}catch(L){N(L)}});case"blob":return function(w,d){for(var b=atob(w),D=new ArrayBuffer(b.length),O=new Uint8Array(D),N=0;N<b.length;N++)O[N]=b.charCodeAt(N);return new Blob([D],{type:d})}(Xv(D()),b);case"base64":return Xv(D());default:return D()}}Tp.createBuffer=function(w,d){var b=document.createElement("canvas");return b.width=w,b.height=d,[b,b.getContext("2d")]},Tp.bufferCanvasImage=function(w){var d=this.cy,D=d.mutableElements().boundingBox(),O=this.findContainerClientCoords(),N=w.full?Math.ceil(D.w):O[2],L=w.full?Math.ceil(D.h):O[3],tt=St(w.maxWidth)||St(w.maxHeight),ht=this.getPixelRatio(),ot=1;if(void 0!==w.scale)N*=w.scale,L*=w.scale,ot=w.scale;else if(tt){var mt=1/0,Mt=1/0;St(w.maxWidth)&&(mt=ot*w.maxWidth/N),St(w.maxHeight)&&(Mt=ot*w.maxHeight/L),N*=ot=Math.min(mt,Mt),L*=ot}tt||(N*=ht,L*=ht,ot*=ht);var Ot=document.createElement("canvas");Ot.width=N,Ot.height=L,Ot.style.width=N+"px",Ot.style.height=L+"px";var jt=Ot.getContext("2d");if(N>0&&L>0){jt.clearRect(0,0,N,L),jt.globalCompositeOperation="source-over";var Gt=this.getCachedZSortedEles();if(w.full)jt.translate(-D.x1*ot,-D.y1*ot),jt.scale(ot,ot),this.drawElements(jt,Gt),jt.scale(1/ot,1/ot),jt.translate(D.x1*ot,D.y1*ot);else{var Nt=d.pan(),Jt={x:Nt.x*ot,y:Nt.y*ot};ot*=d.zoom(),jt.translate(Jt.x,Jt.y),jt.scale(ot,ot),this.drawElements(jt,Gt),jt.scale(1/ot,1/ot),jt.translate(-Jt.x,-Jt.y)}w.bg&&(jt.globalCompositeOperation="destination-over",jt.fillStyle=w.bg,jt.rect(0,0,N,L),jt.fill())}return Ot},Tp.png=function(w){return Y0(w,this.bufferCanvasImage(w),"image/png")},Tp.jpg=function(w){return Y0(w,this.bufferCanvasImage(w),"image/jpeg")};var Kv=cw,Kr=cw.prototype;function cw(w){var d=this;d.data={canvases:new Array(Kr.CANVAS_LAYERS),contexts:new Array(Kr.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Kr.CANVAS_LAYERS),bufferCanvases:new Array(Kr.BUFFER_COUNT),bufferContexts:new Array(Kr.CANVAS_LAYERS)};var b="-webkit-tap-highlight-color",D="rgba(0,0,0,0)";d.data.canvasContainer=document.createElement("div");var O=d.data.canvasContainer.style;d.data.canvasContainer.style[b]=D,O.position="relative",O.zIndex="0",O.overflow="hidden";var N=w.cy.container();N.appendChild(d.data.canvasContainer),N.style[b]=D;var L={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};$&&$.userAgent.match(/msie|trident|edge/i)&&(L["-ms-touch-action"]="none",L["touch-action"]="none");for(var tt=0;tt<Kr.CANVAS_LAYERS;tt++){var ht=d.data.canvases[tt]=document.createElement("canvas");d.data.contexts[tt]=ht.getContext("2d"),Object.keys(L).forEach(function(Ui){ht.style[Ui]=L[Ui]}),ht.style.position="absolute",ht.setAttribute("data-id","layer"+tt),ht.style.zIndex=String(Kr.CANVAS_LAYERS-tt),d.data.canvasContainer.appendChild(ht),d.data.canvasNeedsRedraw[tt]=!1}for(d.data.topCanvas=d.data.canvases[0],d.data.canvases[Kr.NODE].setAttribute("data-id","layer"+Kr.NODE+"-node"),d.data.canvases[Kr.SELECT_BOX].setAttribute("data-id","layer"+Kr.SELECT_BOX+"-selectbox"),d.data.canvases[Kr.DRAG].setAttribute("data-id","layer"+Kr.DRAG+"-drag"),tt=0;tt<Kr.BUFFER_COUNT;tt++)d.data.bufferCanvases[tt]=document.createElement("canvas"),d.data.bufferContexts[tt]=d.data.bufferCanvases[tt].getContext("2d"),d.data.bufferCanvases[tt].style.position="absolute",d.data.bufferCanvases[tt].setAttribute("data-id","buffer"+tt),d.data.bufferCanvases[tt].style.zIndex=String(-tt-1),d.data.bufferCanvases[tt].style.visibility="hidden";d.pathsEnabled=!0;var ot=ss(),Mt=function(xi){return{x:-xi.w/2,y:-xi.h/2}},Ve=function(xi){return xi.boundingBox(),xi[0]._private.bodyBounds},He=function(xi){return xi.boundingBox(),xi[0]._private.labelBounds.main||ot},ge=function(xi){return xi.boundingBox(),xi[0]._private.labelBounds.source||ot},ze=function(xi){return xi.boundingBox(),xi[0]._private.labelBounds.target||ot},Me=function(xi,Ni){return Ni},Ue=function(xi,Ni,$i){var nn=xi?xi+"-":"";return{x:Ni.x+$i.pstyle(nn+"text-margin-x").pfValue,y:Ni.y+$i.pstyle(nn+"text-margin-y").pfValue}},Ne=function(xi,Ni,$i){var nn=xi[0]._private.rscratch;return{x:nn[Ni],y:nn[$i]}},Fi=d.data.eleTxrCache=new Ju(d,{getKey:function(xi){return xi[0]._private.nodeKey},doesEleInvalidateKey:function(xi){var Ni=xi[0]._private;return!(Ni.oldBackgroundTimestamp===Ni.backgroundTimestamp)},drawElement:function(xi,Ni,$i,nn,bn){return d.drawElement(xi,Ni,$i,!1,!1,bn)},getBoundingBox:Ve,getRotationPoint:function(xi){return function(xi){return{x:(xi.x1+xi.x2)/2,y:(xi.y1+xi.y2)/2}}(Ve(xi))},getRotationOffset:function(xi){return Mt(Ve(xi))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),Ai=d.data.lblTxrCache=new Ju(d,{getKey:function(xi){return xi[0]._private.labelStyleKey},drawElement:function(xi,Ni,$i,nn,bn){return d.drawElementText(xi,Ni,$i,nn,"main",bn)},getBoundingBox:He,getRotationPoint:function(xi){return Ue("",Ne(xi,"labelX","labelY"),xi)},getRotationOffset:function(xi){var Ni=He(xi),$i=Mt(He(xi));if(xi.isNode()){switch(xi.pstyle("text-halign").value){case"left":$i.x=-Ni.w;break;case"right":$i.x=0}switch(xi.pstyle("text-valign").value){case"top":$i.y=-Ni.h;break;case"bottom":$i.y=0}}return $i},isVisible:Me}),li=d.data.slbTxrCache=new Ju(d,{getKey:function(xi){return xi[0]._private.sourceLabelStyleKey},drawElement:function(xi,Ni,$i,nn,bn){return d.drawElementText(xi,Ni,$i,nn,"source",bn)},getBoundingBox:ge,getRotationPoint:function(xi){return Ue("source",Ne(xi,"sourceLabelX","sourceLabelY"),xi)},getRotationOffset:function(xi){return Mt(ge(xi))},isVisible:Me}),Wi=d.data.tlbTxrCache=new Ju(d,{getKey:function(xi){return xi[0]._private.targetLabelStyleKey},drawElement:function(xi,Ni,$i,nn,bn){return d.drawElementText(xi,Ni,$i,nn,"target",bn)},getBoundingBox:ze,getRotationPoint:function(xi){return Ue("target",Ne(xi,"targetLabelX","targetLabelY"),xi)},getRotationOffset:function(xi){return Mt(ze(xi))},isVisible:Me}),Fe=d.data.lyrTxrCache=new x1(d);d.onUpdateEleCalcs(function(xi,Ni){Fi.invalidateElements(Ni),Ai.invalidateElements(Ni),li.invalidateElements(Ni),Wi.invalidateElements(Ni),Fe.invalidateElements(Ni);for(var $i=0;$i<Ni.length;$i++){var nn=Ni[$i]._private;nn.oldBackgroundTimestamp=nn.backgroundTimestamp}});var Gi=function(xi){for(var Ni=0;Ni<xi.length;Ni++)Fe.enqueueElementRefinement(xi[Ni].ele)};Fi.onDequeue(Gi),Ai.onDequeue(Gi),li.onDequeue(Gi),Wi.onDequeue(Gi)}Kr.CANVAS_LAYERS=3,Kr.SELECT_BOX=0,Kr.DRAG=1,Kr.NODE=2,Kr.BUFFER_COUNT=3,Kr.TEXTURE_BUFFER=0,Kr.MOTIONBLUR_BUFFER_NODE=1,Kr.MOTIONBLUR_BUFFER_DRAG=2,Kr.redrawHint=function(w,d){var b=this;switch(w){case"eles":b.data.canvasNeedsRedraw[Kr.NODE]=d;break;case"drag":b.data.canvasNeedsRedraw[Kr.DRAG]=d;break;case"select":b.data.canvasNeedsRedraw[Kr.SELECT_BOX]=d}};var o_="undefined"!=typeof Path2D;Kr.path2dEnabled=function(w){if(void 0===w)return this.pathsEnabled;this.pathsEnabled=!!w},Kr.usePaths=function(){return o_&&this.pathsEnabled},Kr.setImgSmoothing=function(w,d){null!=w.imageSmoothingEnabled?w.imageSmoothingEnabled=d:(w.webkitImageSmoothingEnabled=d,w.mozImageSmoothingEnabled=d,w.msImageSmoothingEnabled=d)},Kr.getImgSmoothing=function(w){return null!=w.imageSmoothingEnabled?w.imageSmoothingEnabled:w.webkitImageSmoothingEnabled||w.mozImageSmoothingEnabled||w.msImageSmoothingEnabled},Kr.makeOffscreenCanvas=function(w,d){var b;return"undefined"!==("undefined"==typeof OffscreenCanvas?"undefined":dt(OffscreenCanvas))?b=new OffscreenCanvas(w,d):((b=document.createElement("canvas")).width=w,b.height=d),b},[vl,Kh,Yo,W0,rl,Qn,ol,bh,Tp,{nodeShapeImpl:function(w,d,b,D,O,N,L){switch(w){case"ellipse":return this.drawEllipsePath(d,b,D,O,N);case"polygon":return this.drawPolygonPath(d,b,D,O,N,L);case"round-polygon":return this.drawRoundPolygonPath(d,b,D,O,N,L);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(d,b,D,O,N);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(d,b,D,O,N);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(d,b,D,O,N);case"barrel":return this.drawBarrelPath(d,b,D,O,N)}}}].forEach(function(w){Ht(Kr,w)});var fw=[{type:"layout",extensions:Of},{type:"renderer",extensions:[{name:"null",impl:rw},{name:"base",impl:Sa},{name:"canvas",impl:Kv}]}],og={},Pp={};function yl(w,d,b){var D=b,O=function(ze){Re("Can not register `"+d+"` for `"+w+"` since `"+ze+"` already exists in the prototype and can not be overridden")};if("core"===w){if(ha.prototype[d])return O(d);ha.prototype[d]=b}else if("collection"===w){if(xo.prototype[d])return O(d);xo.prototype[d]=b}else if("layout"===w){for(var N=function(ze){this.options=ze,b.call(this,ze),kt(this._private)||(this._private={}),this._private.cy=ze.cy,this._private.listeners=[],this.createEmitter()},L=N.prototype=Object.create(b.prototype),tt=[],ht=0;ht<tt.length;ht++){var ot=tt[ht];L[ot]=L[ot]||function(){return this}}L.start&&!L.run?L.run=function(){return this.start(),this}:!L.start&&L.run&&(L.start=function(){return this.run(),this});var mt=b.prototype.stop;L.stop=function(){var ge=this.options;if(ge&&ge.animate){var ze=this.animations;if(ze)for(var Me=0;Me<ze.length;Me++)ze[Me].stop()}return mt?mt.call(this):this.emit("layoutstop"),this},L.destroy||(L.destroy=function(){return this}),L.cy=function(){return this._private.cy};var Mt=function(ze){return ze._private.cy},Ot={addEventFields:function(ze,Me){Me.layout=ze,Me.cy=Mt(ze),Me.target=ze},bubble:function(){return!0},parent:function(ze){return Mt(ze)}};Ht(L,{createEmitter:function(){return this._private.emitter=new A0(Ot,this),this},emitter:function(){return this._private.emitter},on:function(ze,Me){return this.emitter().on(ze,Me),this},one:function(ze,Me){return this.emitter().one(ze,Me),this},once:function(ze,Me){return this.emitter().one(ze,Me),this},removeListener:function(ze,Me){return this.emitter().removeListener(ze,Me),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(ze,Me){return this.emitter().emit(ze,Me),this}}),Ao.eventAliasesOn(L),D=N}else if("renderer"===w&&"null"!==d&&"base"!==d){var jt=Zv("renderer","base"),Gt=jt.prototype,Nt=b,Jt=b.prototype,oe=function(){jt.apply(this,arguments),Nt.apply(this,arguments)},ae=oe.prototype;for(var le in Gt){var xe=Gt[le];if(null!=Jt[le])return O(le);ae[le]=xe}for(var He in Jt)ae[He]=Jt[He];Gt.clientFunctions.forEach(function(ge){ae[ge]=ae[ge]||function(){$e("Renderer does not implement `renderer."+ge+"()` on its prototype")}}),D=oe}return ee({map:og,keys:[w,d],value:D})}function Zv(w,d){return Le({map:og,keys:[w,d]})}function ca(w,d,b,D,O){return ee({map:Pp,keys:[w,d,b,D],value:O})}function qv(w,d,b,D){return Le({map:Pp,keys:[w,d,b,D]})}var Ip=function(){return 2===arguments.length?Zv.apply(null,arguments):3===arguments.length?yl.apply(null,arguments):4===arguments.length?qv.apply(null,arguments):5===arguments.length?ca.apply(null,arguments):void $e("Invalid extension access syntax")};ha.prototype.extension=Ip,fw.forEach(function(w){w.extensions.forEach(function(d){yl(w.type,d.name,d.impl)})});var ta=function w(){if(!(this instanceof w))return new w;this.length=0},gu=ta.prototype;gu.instanceString=function(){return"stylesheet"},gu.selector=function(w){return this[this.length++]={selector:w,properties:[]},this},gu.css=function(w,d){var b=this.length-1;if(lt(w))this[b].properties.push({name:w,value:d});else if(kt(w))for(var D=w,O=Object.keys(D),N=0;N<O.length;N++){var L=O[N],tt=D[L];if(null!=tt){var ht=ts.properties[L]||ts.properties[wt(L)];null!=ht&&this[b].properties.push({name:ht.name,value:tt})}}return this},gu.style=gu.css,gu.generateStyle=function(w){var d=new ts(w);return this.appendToStyle(d)},gu.appendToStyle=function(w){for(var d=0;d<this.length;d++){var b=this[d],O=b.properties;w.selector(b.selector);for(var N=0;N<O.length;N++){var L=O[N];w.css(L.name,L.value)}}return w};var Pd=function(d){return void 0===d&&(d={}),kt(d)?new ha(d):lt(d)?Ip.apply(Ip,arguments):void 0};Pd.use=function(w){var d=Array.prototype.slice.call(arguments,1);return d.unshift(Pd),w.apply(null,d),this},Pd.warnings=function(w){return te(w)},Pd.version="3.20.0",Pd.stylesheet=Pd.Stylesheet=ta,_e.exports=Pd},1511:(_e,st,Ft)=>{"use strict";st.utils=Ft(5835),st.Cipher=Ft(88),st.DES=Ft(7630),st.CBC=Ft(9220),st.EDE=Ft(9339)},9220:(_e,st,Ft)=>{"use strict";var zt=Ft(4725),Kt=Ft(3516),ft={};function dt(K){zt.equal(K.length,8,"Invalid IV length"),this.iv=new Array(8);for(var Y=0;Y<this.iv.length;Y++)this.iv[Y]=K[Y]}st.instantiate=function(K){function Y(U){K.call(this,U),this._cbcInit()}Kt(Y,K);for(var ct=Object.keys(ft),et=0;et<ct.length;et++){var X=ct[et];Y.prototype[X]=ft[X]}return Y.create=function(at){return new Y(at)},Y},ft._cbcInit=function(){var Y=new dt(this.options.iv);this._cbcState=Y},ft._update=function(Y,ct,et,X){var at=this.constructor.super_.prototype,V=this._cbcState.iv;if("encrypt"===this.type){for(var $=0;$<this.blockSize;$++)V[$]^=Y[ct+$];for(at._update.call(this,V,0,et,X),$=0;$<this.blockSize;$++)V[$]=et[X+$]}else{for(at._update.call(this,Y,ct,et,X),$=0;$<this.blockSize;$++)et[X+$]^=V[$];for($=0;$<this.blockSize;$++)V[$]=Y[ct+$]}}},88:(_e,st,Ft)=>{"use strict";var zt=Ft(4725);function Kt(ft){this.options=ft,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}_e.exports=Kt,Kt.prototype._init=function(){},Kt.prototype.update=function(dt){return 0===dt.length?[]:"decrypt"===this.type?this._updateDecrypt(dt):this._updateEncrypt(dt)},Kt.prototype._buffer=function(dt,E){for(var K=Math.min(this.buffer.length-this.bufferOff,dt.length-E),Y=0;Y<K;Y++)this.buffer[this.bufferOff+Y]=dt[E+Y];return this.bufferOff+=K,K},Kt.prototype._flushBuffer=function(dt,E){return this._update(this.buffer,0,dt,E),this.bufferOff=0,this.blockSize},Kt.prototype._updateEncrypt=function(dt){var E=0,K=0,ct=new Array(((this.bufferOff+dt.length)/this.blockSize|0)*this.blockSize);0!==this.bufferOff&&(E+=this._buffer(dt,E),this.bufferOff===this.buffer.length&&(K+=this._flushBuffer(ct,K)));for(var et=dt.length-(dt.length-E)%this.blockSize;E<et;E+=this.blockSize)this._update(dt,E,ct,K),K+=this.blockSize;for(;E<dt.length;E++,this.bufferOff++)this.buffer[this.bufferOff]=dt[E];return ct},Kt.prototype._updateDecrypt=function(dt){for(var E=0,K=0,Y=Math.ceil((this.bufferOff+dt.length)/this.blockSize)-1,ct=new Array(Y*this.blockSize);Y>0;Y--)E+=this._buffer(dt,E),K+=this._flushBuffer(ct,K);return E+=this._buffer(dt,E),ct},Kt.prototype.final=function(dt){var E,K;return dt&&(E=this.update(dt)),K="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),E?E.concat(K):K},Kt.prototype._pad=function(dt,E){if(0===E)return!1;for(;E<dt.length;)dt[E++]=0;return!0},Kt.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var dt=new Array(this.blockSize);return this._update(this.buffer,0,dt,0),dt},Kt.prototype._unpad=function(dt){return dt},Kt.prototype._finalDecrypt=function(){zt.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var dt=new Array(this.blockSize);return this._flushBuffer(dt,0),this._unpad(dt)}},7630:(_e,st,Ft)=>{"use strict";var zt=Ft(4725),Kt=Ft(3516),ft=Ft(5835),dt=Ft(88);function E(){this.tmp=new Array(2),this.keys=null}function K(ct){dt.call(this,ct);var et=new E;this._desState=et,this.deriveKeys(et,ct.key)}Kt(K,dt),_e.exports=K,K.create=function(et){return new K(et)};var Y=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];K.prototype.deriveKeys=function(et,X){et.keys=new Array(32),zt.equal(X.length,this.blockSize,"Invalid key length");var U=ft.readUInt32BE(X,0),at=ft.readUInt32BE(X,4);ft.pc1(U,at,et.tmp,0),U=et.tmp[0],at=et.tmp[1];for(var V=0;V<et.keys.length;V+=2){var $=Y[V>>>1];U=ft.r28shl(U,$),at=ft.r28shl(at,$),ft.pc2(U,at,et.keys,V)}},K.prototype._update=function(et,X,U,at){var V=this._desState,$=ft.readUInt32BE(et,X),H=ft.readUInt32BE(et,X+4);ft.ip($,H,V.tmp,0),$=V.tmp[0],H=V.tmp[1],"encrypt"===this.type?this._encrypt(V,$,H,V.tmp,0):this._decrypt(V,$,H,V.tmp,0),H=V.tmp[1],ft.writeUInt32BE(U,$=V.tmp[0],at),ft.writeUInt32BE(U,H,at+4)},K.prototype._pad=function(et,X){for(var U=et.length-X,at=X;at<et.length;at++)et[at]=U;return!0},K.prototype._unpad=function(et){for(var X=et[et.length-1],U=et.length-X;U<et.length;U++)zt.equal(et[U],X);return et.slice(0,et.length-X)},K.prototype._encrypt=function(et,X,U,at,V){for(var $=X,H=U,G=0;G<et.keys.length;G+=2){var J=et.keys[G],z=et.keys[G+1];ft.expand(H,et.tmp,0);var nt=ft.substitute(J^=et.tmp[0],z^=et.tmp[1]),lt=H;H=($^ft.permute(nt))>>>0,$=lt}ft.rip(H,$,at,V)},K.prototype._decrypt=function(et,X,U,at,V){for(var $=U,H=X,G=et.keys.length-2;G>=0;G-=2){var J=et.keys[G],z=et.keys[G+1];ft.expand($,et.tmp,0);var nt=ft.substitute(J^=et.tmp[0],z^=et.tmp[1]),lt=$;$=(H^ft.permute(nt))>>>0,H=lt}ft.rip($,H,at,V)}},9339:(_e,st,Ft)=>{"use strict";var zt=Ft(4725),Kt=Ft(3516),ft=Ft(88),dt=Ft(7630);function E(Y,ct){zt.equal(ct.length,24,"Invalid key length");var et=ct.slice(0,8),X=ct.slice(8,16),U=ct.slice(16,24);this.ciphers="encrypt"===Y?[dt.create({type:"encrypt",key:et}),dt.create({type:"decrypt",key:X}),dt.create({type:"encrypt",key:U})]:[dt.create({type:"decrypt",key:U}),dt.create({type:"encrypt",key:X}),dt.create({type:"decrypt",key:et})]}function K(Y){ft.call(this,Y);var ct=new E(this.type,this.options.key);this._edeState=ct}Kt(K,ft),_e.exports=K,K.create=function(ct){return new K(ct)},K.prototype._update=function(ct,et,X,U){var at=this._edeState;at.ciphers[0]._update(ct,et,X,U),at.ciphers[1]._update(X,U,X,U),at.ciphers[2]._update(X,U,X,U)},K.prototype._pad=dt.prototype._pad,K.prototype._unpad=dt.prototype._unpad},5835:(_e,st)=>{"use strict";st.readUInt32BE=function(dt,E){return(dt[0+E]<<24|dt[1+E]<<16|dt[2+E]<<8|dt[3+E])>>>0},st.writeUInt32BE=function(dt,E,K){dt[0+K]=E>>>24,dt[1+K]=E>>>16&255,dt[2+K]=E>>>8&255,dt[3+K]=255&E},st.ip=function(dt,E,K,Y){for(var ct=0,et=0,X=6;X>=0;X-=2){for(var U=0;U<=24;U+=8)ct<<=1,ct|=E>>>U+X&1;for(U=0;U<=24;U+=8)ct<<=1,ct|=dt>>>U+X&1}for(X=6;X>=0;X-=2){for(U=1;U<=25;U+=8)et<<=1,et|=E>>>U+X&1;for(U=1;U<=25;U+=8)et<<=1,et|=dt>>>U+X&1}K[Y+0]=ct>>>0,K[Y+1]=et>>>0},st.rip=function(dt,E,K,Y){for(var ct=0,et=0,X=0;X<4;X++)for(var U=24;U>=0;U-=8)ct<<=1,ct|=E>>>U+X&1,ct<<=1,ct|=dt>>>U+X&1;for(X=4;X<8;X++)for(U=24;U>=0;U-=8)et<<=1,et|=E>>>U+X&1,et<<=1,et|=dt>>>U+X&1;K[Y+0]=ct>>>0,K[Y+1]=et>>>0},st.pc1=function(dt,E,K,Y){for(var ct=0,et=0,X=7;X>=5;X--){for(var U=0;U<=24;U+=8)ct<<=1,ct|=E>>U+X&1;for(U=0;U<=24;U+=8)ct<<=1,ct|=dt>>U+X&1}for(U=0;U<=24;U+=8)ct<<=1,ct|=E>>U+X&1;for(X=1;X<=3;X++){for(U=0;U<=24;U+=8)et<<=1,et|=E>>U+X&1;for(U=0;U<=24;U+=8)et<<=1,et|=dt>>U+X&1}for(U=0;U<=24;U+=8)et<<=1,et|=dt>>U+X&1;K[Y+0]=ct>>>0,K[Y+1]=et>>>0},st.r28shl=function(dt,E){return dt<<E&268435455|dt>>>28-E};var Ft=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];st.pc2=function(dt,E,K,Y){for(var ct=0,et=0,X=Ft.length>>>1,U=0;U<X;U++)ct<<=1,ct|=dt>>>Ft[U]&1;for(U=X;U<Ft.length;U++)et<<=1,et|=E>>>Ft[U]&1;K[Y+0]=ct>>>0,K[Y+1]=et>>>0},st.expand=function(dt,E,K){var Y=0,ct=0;Y=(1&dt)<<5|dt>>>27;for(var et=23;et>=15;et-=4)Y<<=6,Y|=dt>>>et&63;for(et=11;et>=3;et-=4)ct|=dt>>>et&63,ct<<=6;ct|=(31&dt)<<1|dt>>>31,E[K+0]=Y>>>0,E[K+1]=ct>>>0};var zt=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];st.substitute=function(dt,E){for(var K=0,Y=0;Y<4;Y++)K<<=4,K|=zt[64*Y+(dt>>>18-6*Y&63)];for(Y=0;Y<4;Y++)K<<=4,K|=zt[256+64*Y+(E>>>18-6*Y&63)];return K>>>0};var Kt=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];st.permute=function(dt){for(var E=0,K=0;K<Kt.length;K++)E<<=1,E|=dt>>>Kt[K]&1;return E>>>0},st.padSplit=function(dt,E,K){for(var Y=dt.toString(2);Y.length<E;)Y="0"+Y;for(var ct=[],et=0;et<E;et+=K)ct.push(Y.slice(et,et+K));return ct.join(" ")}},1198:(_e,st,Ft)=>{var zt=Ft(6281),Kt=Ft(9799),ft=Ft(2838),E={binary:!0,hex:!0,base64:!0};st.DiffieHellmanGroup=st.createDiffieHellmanGroup=st.getDiffieHellman=function(Y){var ct=new Buffer(Kt[Y].prime,"hex"),et=new Buffer(Kt[Y].gen,"hex");return new ft(ct,et)},st.createDiffieHellman=st.DiffieHellman=function K(Y,ct,et,X){return Buffer.isBuffer(ct)||void 0===E[ct]?K(Y,"binary",ct,et):(ct=ct||"binary",X=X||"binary",et=et||new Buffer([2]),Buffer.isBuffer(et)||(et=new Buffer(et,X)),"number"==typeof Y?new ft(zt(Y,et),et,!0):(Buffer.isBuffer(Y)||(Y=new Buffer(Y,ct)),new ft(Y,et,!0)))}},2838:(_e,st,Ft)=>{var zt=Ft(9723),ft=new(Ft(2098)),dt=new zt(24),E=new zt(11),K=new zt(10),Y=new zt(3),ct=new zt(7),et=Ft(6281),X=Ft(8747);function U(J,z){return z=z||"utf8",Buffer.isBuffer(J)||(J=new Buffer(J,z)),this._pub=new zt(J),this}function at(J,z){return z=z||"utf8",Buffer.isBuffer(J)||(J=new Buffer(J,z)),this._priv=new zt(J),this}_e.exports=H;var V={};function H(J,z,nt){this.setGenerator(z),this.__prime=new zt(J),this._prime=zt.mont(this.__prime),this._primeLen=J.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,nt?(this.setPublicKey=U,this.setPrivateKey=at):this._primeCode=8}function G(J,z){var nt=new Buffer(J.toArray());return z?nt.toString(z):nt}Object.defineProperty(H.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(J,z){var nt=z.toString("hex"),Q=[nt,J.toString(16)].join("_");if(Q in V)return V[Q];var _t,lt=0;if(J.isEven()||!et.simpleSieve||!et.fermatTest(J)||!ft.test(J))return lt+=1,V[Q]=lt+="02"===nt||"05"===nt?8:4,lt;switch(ft.test(J.shrn(1))||(lt+=2),nt){case"02":J.mod(dt).cmp(E)&&(lt+=8);break;case"05":(_t=J.mod(K)).cmp(Y)&&_t.cmp(ct)&&(lt+=8);break;default:lt+=4}return V[Q]=lt,lt}(this.__prime,this.__gen)),this._primeCode}}),H.prototype.generateKeys=function(){return this._priv||(this._priv=new zt(X(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},H.prototype.computeSecret=function(J){var z=(J=(J=new zt(J)).toRed(this._prime)).redPow(this._priv).fromRed(),nt=new Buffer(z.toArray()),Q=this.getPrime();if(nt.length<Q.length){var lt=new Buffer(Q.length-nt.length);lt.fill(0),nt=Buffer.concat([lt,nt])}return nt},H.prototype.getPublicKey=function(z){return G(this._pub,z)},H.prototype.getPrivateKey=function(z){return G(this._priv,z)},H.prototype.getPrime=function(J){return G(this.__prime,J)},H.prototype.getGenerator=function(J){return G(this._gen,J)},H.prototype.setGenerator=function(J,z){return z=z||"utf8",Buffer.isBuffer(J)||(J=new Buffer(J,z)),this.__gen=J,this._gen=new zt(J),this}},6281:(_e,st,Ft)=>{var zt=Ft(8747);_e.exports=lt,lt.simpleSieve=nt,lt.fermatTest=Q;var Kt=Ft(9723),ft=new Kt(24),E=new(Ft(2098)),K=new Kt(1),Y=new Kt(2),ct=new Kt(5),U=(new Kt(16),new Kt(8),new Kt(10)),at=new Kt(3),$=(new Kt(7),new Kt(11)),H=new Kt(4),J=(new Kt(12),null);function nt(_t){for(var Ct=function(){if(null!==J)return J;var Ct=[];Ct[0]=2;for(var kt=1,Et=3;Et<1048576;Et+=2){for(var St=Math.ceil(Math.sqrt(Et)),R=0;R<kt&&Ct[R]<=St&&Et%Ct[R]!=0;R++);kt!==R&&Ct[R]<=St||(Ct[kt++]=Et)}return J=Ct,Ct}(),kt=0;kt<Ct.length;kt++)if(0===_t.modn(Ct[kt]))return 0===_t.cmpn(Ct[kt]);return!0}function Q(_t){var Ct=Kt.mont(_t);return 0===Y.toRed(Ct).redPow(_t.subn(1)).fromRed().cmpn(1)}function lt(_t,Ct){if(_t<16)return new Kt(2===Ct||5===Ct?[140,123]:[140,39]);Ct=new Kt(Ct);for(var kt,Et;;){for(kt=new Kt(zt(Math.ceil(_t/8)));kt.bitLength()>_t;)kt.ishrn(1);if(kt.isEven()&&kt.iadd(K),kt.testn(1)||kt.iadd(Y),Ct.cmp(Y)){if(!Ct.cmp(ct))for(;kt.mod(U).cmp(at);)kt.iadd(H)}else for(;kt.mod(ft).cmp($);)kt.iadd(H);if(nt(Et=kt.shrn(1))&&nt(kt)&&Q(Et)&&Q(kt)&&E.test(Et)&&E.test(kt))return kt}}},9723:function(_e,st,Ft){!function(zt,Kt){"use strict";function ft(R,u){if(!R)throw new Error(u||"Assertion failed")}function dt(R,u){R.super_=u;var m=function(){};m.prototype=u.prototype,R.prototype=new m,R.prototype.constructor=R}function E(R,u,m){if(E.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,null!==R&&(("le"===u||"be"===u)&&(m=u,u=10),this._init(R||0,u||10,m||"be"))}var K;"object"==typeof zt?zt.exports=E:Kt.BN=E,E.BN=E,E.wordSize=26;try{K="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:Ft(7748).Buffer}catch(R){}function Y(R,u){var m=R.charCodeAt(u);return m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:m-48&15}function ct(R,u,m){var y=Y(R,m);return m-1>=u&&(y|=Y(R,m-1)<<4),y}function et(R,u,m,y){for(var v=0,M=Math.min(R.length,m),S=u;S<M;S++){var I=R.charCodeAt(S)-48;v*=y,v+=I>=49?I-49+10:I>=17?I-17+10:I}return v}E.isBN=function(u){return u instanceof E||null!==u&&"object"==typeof u&&u.constructor.wordSize===E.wordSize&&Array.isArray(u.words)},E.max=function(u,m){return u.cmp(m)>0?u:m},E.min=function(u,m){return u.cmp(m)<0?u:m},E.prototype._init=function(u,m,y){if("number"==typeof u)return this._initNumber(u,m,y);if("object"==typeof u)return this._initArray(u,m,y);"hex"===m&&(m=16),ft(m===(0|m)&&m>=2&&m<=36);var v=0;"-"===(u=u.toString().replace(/\s+/g,""))[0]&&(v++,this.negative=1),v<u.length&&(16===m?this._parseHex(u,v,y):(this._parseBase(u,m,v),"le"===y&&this._initArray(this.toArray(),m,y)))},E.prototype._initNumber=function(u,m,y){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[67108863&u],this.length=1):u<4503599627370496?(this.words=[67108863&u,u/67108864&67108863],this.length=2):(ft(u<9007199254740992),this.words=[67108863&u,u/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),m,y)},E.prototype._initArray=function(u,m,y){if(ft("number"==typeof u.length),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var M,S,I=0;if("be"===y)for(v=u.length-1,M=0;v>=0;v-=3)this.words[M]|=(S=u[v]|u[v-1]<<8|u[v-2]<<16)<<I&67108863,this.words[M+1]=S>>>26-I&67108863,(I+=24)>=26&&(I-=26,M++);else if("le"===y)for(v=0,M=0;v<u.length;v+=3)this.words[M]|=(S=u[v]|u[v+1]<<8|u[v+2]<<16)<<I&67108863,this.words[M+1]=S>>>26-I&67108863,(I+=24)>=26&&(I-=26,M++);return this.strip()},E.prototype._parseHex=function(u,m,y){this.length=Math.ceil((u.length-m)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var I,M=0,S=0;if("be"===y)for(v=u.length-1;v>=m;v-=2)I=ct(u,m,v)<<M,this.words[S]|=67108863&I,M>=18?(M-=18,this.words[S+=1]|=I>>>26):M+=8;else for(v=(u.length-m)%2==0?m+1:m;v<u.length;v+=2)I=ct(u,m,v)<<M,this.words[S]|=67108863&I,M>=18?(M-=18,this.words[S+=1]|=I>>>26):M+=8;this.strip()},E.prototype._parseBase=function(u,m,y){this.words=[0],this.length=1;for(var v=0,M=1;M<=67108863;M*=m)v++;v--,M=M/m|0;for(var S=u.length-y,I=S%v,C=Math.min(S,S-I)+y,p=0,T=y;T<C;T+=v)p=et(u,T,T+v,m),this.imuln(M),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(0!==I){var it=1;for(p=et(u,T,u.length,m),T=0;T<I;T++)it*=m;this.imuln(it),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this.strip()},E.prototype.copy=function(u){u.words=new Array(this.length);for(var m=0;m<this.length;m++)u.words[m]=this.words[m];u.length=this.length,u.negative=this.negative,u.red=this.red},E.prototype.clone=function(){var u=new E(null);return this.copy(u),u},E.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},E.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},E.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},E.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var X=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],U=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],at=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function $(R,u,m){m.negative=u.negative^R.negative;var y=R.length+u.length|0;m.length=y,y=y-1|0;var v=0|R.words[0],M=0|u.words[0],S=v*M,C=S/67108864|0;m.words[0]=67108863&S;for(var p=1;p<y;p++){for(var T=C>>>26,it=67108863&C,Z=Math.min(p,u.length-1),W=Math.max(0,p-R.length+1);W<=Z;W++)T+=(S=(v=0|R.words[p-W|0])*(M=0|u.words[W])+it)/67108864|0,it=67108863&S;m.words[p]=0|it,C=0|T}return 0!==C?m.words[p]=0|C:m.length--,m.strip()}E.prototype.toString=function(u,m){var y;if(m=0|m||1,16===(u=u||10)||"hex"===u){y="";for(var v=0,M=0,S=0;S<this.length;S++){var I=this.words[S],C=(16777215&(I<<v|M)).toString(16);y=0!=(M=I>>>24-v&16777215)||S!==this.length-1?X[6-C.length]+C+y:C+y,(v+=2)>=26&&(v-=26,S--)}for(0!==M&&(y=M.toString(16)+y);y.length%m!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(u===(0|u)&&u>=2&&u<=36){var p=U[u],T=at[u];y="";var it=this.clone();for(it.negative=0;!it.isZero();){var Z=it.modn(T).toString(u);y=(it=it.idivn(T)).isZero()?Z+y:X[p-Z.length]+Z+y}for(this.isZero()&&(y="0"+y);y.length%m!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}ft(!1,"Base should be between 2 and 36")},E.prototype.toNumber=function(){var u=this.words[0];return 2===this.length?u+=67108864*this.words[1]:3===this.length&&1===this.words[2]?u+=4503599627370496+67108864*this.words[1]:this.length>2&&ft(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-u:u},E.prototype.toJSON=function(){return this.toString(16)},E.prototype.toBuffer=function(u,m){return ft(void 0!==K),this.toArrayLike(K,u,m)},E.prototype.toArray=function(u,m){return this.toArrayLike(Array,u,m)},E.prototype.toArrayLike=function(u,m,y){var v=this.byteLength(),M=y||Math.max(1,v);ft(v<=M,"byte array longer than desired length"),ft(M>0,"Requested array length <= 0"),this.strip();var C,p,S="le"===m,I=new u(M),T=this.clone();if(S){for(p=0;!T.isZero();p++)C=T.andln(255),T.iushrn(8),I[p]=C;for(;p<M;p++)I[p]=0}else{for(p=0;p<M-v;p++)I[p]=0;for(p=0;!T.isZero();p++)C=T.andln(255),T.iushrn(8),I[M-p-1]=C}return I},E.prototype._countBits=Math.clz32?function(u){return 32-Math.clz32(u)}:function(u){var m=u,y=0;return m>=4096&&(y+=13,m>>>=13),m>=64&&(y+=7,m>>>=7),m>=8&&(y+=4,m>>>=4),m>=2&&(y+=2,m>>>=2),y+m},E.prototype._zeroBits=function(u){if(0===u)return 26;var m=u,y=0;return 0==(8191&m)&&(y+=13,m>>>=13),0==(127&m)&&(y+=7,m>>>=7),0==(15&m)&&(y+=4,m>>>=4),0==(3&m)&&(y+=2,m>>>=2),0==(1&m)&&y++,y},E.prototype.bitLength=function(){var m=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+m},E.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,m=0;m<this.length;m++){var y=this._zeroBits(this.words[m]);if(u+=y,26!==y)break}return u},E.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},E.prototype.toTwos=function(u){return 0!==this.negative?this.abs().inotn(u).iaddn(1):this.clone()},E.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},E.prototype.isNeg=function(){return 0!==this.negative},E.prototype.neg=function(){return this.clone().ineg()},E.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},E.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var m=0;m<u.length;m++)this.words[m]=this.words[m]|u.words[m];return this.strip()},E.prototype.ior=function(u){return ft(0==(this.negative|u.negative)),this.iuor(u)},E.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},E.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},E.prototype.iuand=function(u){var m;m=this.length>u.length?u:this;for(var y=0;y<m.length;y++)this.words[y]=this.words[y]&u.words[y];return this.length=m.length,this.strip()},E.prototype.iand=function(u){return ft(0==(this.negative|u.negative)),this.iuand(u)},E.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},E.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},E.prototype.iuxor=function(u){var m,y;this.length>u.length?(m=this,y=u):(m=u,y=this);for(var v=0;v<y.length;v++)this.words[v]=m.words[v]^y.words[v];if(this!==m)for(;v<m.length;v++)this.words[v]=m.words[v];return this.length=m.length,this.strip()},E.prototype.ixor=function(u){return ft(0==(this.negative|u.negative)),this.iuxor(u)},E.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},E.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},E.prototype.inotn=function(u){ft("number"==typeof u&&u>=0);var m=0|Math.ceil(u/26),y=u%26;this._expand(m),y>0&&m--;for(var v=0;v<m;v++)this.words[v]=67108863&~this.words[v];return y>0&&(this.words[v]=~this.words[v]&67108863>>26-y),this.strip()},E.prototype.notn=function(u){return this.clone().inotn(u)},E.prototype.setn=function(u,m){ft("number"==typeof u&&u>=0);var y=u/26|0,v=u%26;return this._expand(y+1),this.words[y]=m?this.words[y]|1<<v:this.words[y]&~(1<<v),this.strip()},E.prototype.iadd=function(u){var m,y,v;if(0!==this.negative&&0===u.negative)return this.negative=0,m=this.isub(u),this.negative^=1,this._normSign();if(0===this.negative&&0!==u.negative)return u.negative=0,m=this.isub(u),u.negative=1,m._normSign();this.length>u.length?(y=this,v=u):(y=u,v=this);for(var M=0,S=0;S<v.length;S++)this.words[S]=67108863&(m=(0|y.words[S])+(0|v.words[S])+M),M=m>>>26;for(;0!==M&&S<y.length;S++)this.words[S]=67108863&(m=(0|y.words[S])+M),M=m>>>26;if(this.length=y.length,0!==M)this.words[this.length]=M,this.length++;else if(y!==this)for(;S<y.length;S++)this.words[S]=y.words[S];return this},E.prototype.add=function(u){var m;return 0!==u.negative&&0===this.negative?(u.negative=0,m=this.sub(u),u.negative^=1,m):0===u.negative&&0!==this.negative?(this.negative=0,m=u.sub(this),this.negative=1,m):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},E.prototype.isub=function(u){if(0!==u.negative){u.negative=0;var m=this.iadd(u);return u.negative=1,m._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var v,M,y=this.cmp(u);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(v=this,M=u):(v=u,M=this);for(var S=0,I=0;I<M.length;I++)S=(m=(0|v.words[I])-(0|M.words[I])+S)>>26,this.words[I]=67108863&m;for(;0!==S&&I<v.length;I++)S=(m=(0|v.words[I])+S)>>26,this.words[I]=67108863&m;if(0===S&&I<v.length&&v!==this)for(;I<v.length;I++)this.words[I]=v.words[I];return this.length=Math.max(this.length,I),v!==this&&(this.negative=1),this.strip()},E.prototype.sub=function(u){return this.clone().isub(u)};var H=function(u,m,y){var C,p,T,v=u.words,M=m.words,S=y.words,I=0,it=0|v[0],Z=8191&it,W=it>>>13,yt=0|v[1],wt=8191&yt,Vt=yt>>>13,Ut=0|v[2],At=8191&Ut,bt=Ut>>>13,qt=0|v[3],Rt=8191&qt,Dt=qt>>>13,Bt=0|v[4],Zt=8191&Bt,Lt=Bt>>>13,Ce=0|v[5],Ht=8191&Ce,me=Ce>>>13,Si=0|v[6],be=8191&Si,de=Si>>>13,je=0|v[7],Yt=8191&je,ee=je>>>13,Le=0|v[8],It=8191&Le,gt=Le>>>13,rt=0|v[9],Qt=8191&rt,ue=rt>>>13,Ze=0|M[0],ve=8191&Ze,Ie=Ze>>>13,on=0|M[1],ni=8191&on,ii=on>>>13,Xi=0|M[2],vi=8191&Xi,_i=Xi>>>13,Ln=0|M[3],Mi=8191&Ln,Ge=Ln>>>13,fn=0|M[4],Ei=8191&fn,Oe=fn>>>13,ai=0|M[5],ke=8191&ai,re=ai>>>13,De=0|M[6],he=8191&De,Se=De>>>13,$e=0|M[7],te=8191&$e,Re=$e>>>13,sn=0|M[8],Qe=8191&sn,di=sn>>>13,Bn=0|M[9],ci=8191&Bn,si=Bn>>>13;y.negative=u.negative^m.negative,y.length=19;var an=(I+(C=Math.imul(Z,ve))|0)+((8191&(p=(p=Math.imul(Z,Ie))+Math.imul(W,ve)|0))<<13)|0;I=((T=Math.imul(W,Ie))+(p>>>13)|0)+(an>>>26)|0,an&=67108863,C=Math.imul(wt,ve),p=(p=Math.imul(wt,Ie))+Math.imul(Vt,ve)|0,T=Math.imul(Vt,Ie);var cn=(I+(C=C+Math.imul(Z,ni)|0)|0)+((8191&(p=(p=p+Math.imul(Z,ii)|0)+Math.imul(W,ni)|0))<<13)|0;I=((T=T+Math.imul(W,ii)|0)+(p>>>13)|0)+(cn>>>26)|0,cn&=67108863,C=Math.imul(At,ve),p=(p=Math.imul(At,Ie))+Math.imul(bt,ve)|0,T=Math.imul(bt,Ie),C=C+Math.imul(wt,ni)|0,p=(p=p+Math.imul(wt,ii)|0)+Math.imul(Vt,ni)|0,T=T+Math.imul(Vt,ii)|0;var Fn=(I+(C=C+Math.imul(Z,vi)|0)|0)+((8191&(p=(p=p+Math.imul(Z,_i)|0)+Math.imul(W,vi)|0))<<13)|0;I=((T=T+Math.imul(W,_i)|0)+(p>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,C=Math.imul(Rt,ve),p=(p=Math.imul(Rt,Ie))+Math.imul(Dt,ve)|0,T=Math.imul(Dt,Ie),C=C+Math.imul(At,ni)|0,p=(p=p+Math.imul(At,ii)|0)+Math.imul(bt,ni)|0,T=T+Math.imul(bt,ii)|0,C=C+Math.imul(wt,vi)|0,p=(p=p+Math.imul(wt,_i)|0)+Math.imul(Vt,vi)|0,T=T+Math.imul(Vt,_i)|0;var Or=(I+(C=C+Math.imul(Z,Mi)|0)|0)+((8191&(p=(p=p+Math.imul(Z,Ge)|0)+Math.imul(W,Mi)|0))<<13)|0;I=((T=T+Math.imul(W,Ge)|0)+(p>>>13)|0)+(Or>>>26)|0,Or&=67108863,C=Math.imul(Zt,ve),p=(p=Math.imul(Zt,Ie))+Math.imul(Lt,ve)|0,T=Math.imul(Lt,Ie),C=C+Math.imul(Rt,ni)|0,p=(p=p+Math.imul(Rt,ii)|0)+Math.imul(Dt,ni)|0,T=T+Math.imul(Dt,ii)|0,C=C+Math.imul(At,vi)|0,p=(p=p+Math.imul(At,_i)|0)+Math.imul(bt,vi)|0,T=T+Math.imul(bt,_i)|0,C=C+Math.imul(wt,Mi)|0,p=(p=p+Math.imul(wt,Ge)|0)+Math.imul(Vt,Mi)|0,T=T+Math.imul(Vt,Ge)|0;var Vn=(I+(C=C+Math.imul(Z,Ei)|0)|0)+((8191&(p=(p=p+Math.imul(Z,Oe)|0)+Math.imul(W,Ei)|0))<<13)|0;I=((T=T+Math.imul(W,Oe)|0)+(p>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,C=Math.imul(Ht,ve),p=(p=Math.imul(Ht,Ie))+Math.imul(me,ve)|0,T=Math.imul(me,Ie),C=C+Math.imul(Zt,ni)|0,p=(p=p+Math.imul(Zt,ii)|0)+Math.imul(Lt,ni)|0,T=T+Math.imul(Lt,ii)|0,C=C+Math.imul(Rt,vi)|0,p=(p=p+Math.imul(Rt,_i)|0)+Math.imul(Dt,vi)|0,T=T+Math.imul(Dt,_i)|0,C=C+Math.imul(At,Mi)|0,p=(p=p+Math.imul(At,Ge)|0)+Math.imul(bt,Mi)|0,T=T+Math.imul(bt,Ge)|0,C=C+Math.imul(wt,Ei)|0,p=(p=p+Math.imul(wt,Oe)|0)+Math.imul(Vt,Ei)|0,T=T+Math.imul(Vt,Oe)|0;var Jn=(I+(C=C+Math.imul(Z,ke)|0)|0)+((8191&(p=(p=p+Math.imul(Z,re)|0)+Math.imul(W,ke)|0))<<13)|0;I=((T=T+Math.imul(W,re)|0)+(p>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,C=Math.imul(be,ve),p=(p=Math.imul(be,Ie))+Math.imul(de,ve)|0,T=Math.imul(de,Ie),C=C+Math.imul(Ht,ni)|0,p=(p=p+Math.imul(Ht,ii)|0)+Math.imul(me,ni)|0,T=T+Math.imul(me,ii)|0,C=C+Math.imul(Zt,vi)|0,p=(p=p+Math.imul(Zt,_i)|0)+Math.imul(Lt,vi)|0,T=T+Math.imul(Lt,_i)|0,C=C+Math.imul(Rt,Mi)|0,p=(p=p+Math.imul(Rt,Ge)|0)+Math.imul(Dt,Mi)|0,T=T+Math.imul(Dt,Ge)|0,C=C+Math.imul(At,Ei)|0,p=(p=p+Math.imul(At,Oe)|0)+Math.imul(bt,Ei)|0,T=T+Math.imul(bt,Oe)|0,C=C+Math.imul(wt,ke)|0,p=(p=p+Math.imul(wt,re)|0)+Math.imul(Vt,ke)|0,T=T+Math.imul(Vt,re)|0;var hn=(I+(C=C+Math.imul(Z,he)|0)|0)+((8191&(p=(p=p+Math.imul(Z,Se)|0)+Math.imul(W,he)|0))<<13)|0;I=((T=T+Math.imul(W,Se)|0)+(p>>>13)|0)+(hn>>>26)|0,hn&=67108863,C=Math.imul(Yt,ve),p=(p=Math.imul(Yt,Ie))+Math.imul(ee,ve)|0,T=Math.imul(ee,Ie),C=C+Math.imul(be,ni)|0,p=(p=p+Math.imul(be,ii)|0)+Math.imul(de,ni)|0,T=T+Math.imul(de,ii)|0,C=C+Math.imul(Ht,vi)|0,p=(p=p+Math.imul(Ht,_i)|0)+Math.imul(me,vi)|0,T=T+Math.imul(me,_i)|0,C=C+Math.imul(Zt,Mi)|0,p=(p=p+Math.imul(Zt,Ge)|0)+Math.imul(Lt,Mi)|0,T=T+Math.imul(Lt,Ge)|0,C=C+Math.imul(Rt,Ei)|0,p=(p=p+Math.imul(Rt,Oe)|0)+Math.imul(Dt,Ei)|0,T=T+Math.imul(Dt,Oe)|0,C=C+Math.imul(At,ke)|0,p=(p=p+Math.imul(At,re)|0)+Math.imul(bt,ke)|0,T=T+Math.imul(bt,re)|0,C=C+Math.imul(wt,he)|0,p=(p=p+Math.imul(wt,Se)|0)+Math.imul(Vt,he)|0,T=T+Math.imul(Vt,Se)|0;var jr=(I+(C=C+Math.imul(Z,te)|0)|0)+((8191&(p=(p=p+Math.imul(Z,Re)|0)+Math.imul(W,te)|0))<<13)|0;I=((T=T+Math.imul(W,Re)|0)+(p>>>13)|0)+(jr>>>26)|0,jr&=67108863,C=Math.imul(It,ve),p=(p=Math.imul(It,Ie))+Math.imul(gt,ve)|0,T=Math.imul(gt,Ie),C=C+Math.imul(Yt,ni)|0,p=(p=p+Math.imul(Yt,ii)|0)+Math.imul(ee,ni)|0,T=T+Math.imul(ee,ii)|0,C=C+Math.imul(be,vi)|0,p=(p=p+Math.imul(be,_i)|0)+Math.imul(de,vi)|0,T=T+Math.imul(de,_i)|0,C=C+Math.imul(Ht,Mi)|0,p=(p=p+Math.imul(Ht,Ge)|0)+Math.imul(me,Mi)|0,T=T+Math.imul(me,Ge)|0,C=C+Math.imul(Zt,Ei)|0,p=(p=p+Math.imul(Zt,Oe)|0)+Math.imul(Lt,Ei)|0,T=T+Math.imul(Lt,Oe)|0,C=C+Math.imul(Rt,ke)|0,p=(p=p+Math.imul(Rt,re)|0)+Math.imul(Dt,ke)|0,T=T+Math.imul(Dt,re)|0,C=C+Math.imul(At,he)|0,p=(p=p+Math.imul(At,Se)|0)+Math.imul(bt,he)|0,T=T+Math.imul(bt,Se)|0,C=C+Math.imul(wt,te)|0,p=(p=p+Math.imul(wt,Re)|0)+Math.imul(Vt,te)|0,T=T+Math.imul(Vt,Re)|0;var wr=(I+(C=C+Math.imul(Z,Qe)|0)|0)+((8191&(p=(p=p+Math.imul(Z,di)|0)+Math.imul(W,Qe)|0))<<13)|0;I=((T=T+Math.imul(W,di)|0)+(p>>>13)|0)+(wr>>>26)|0,wr&=67108863,C=Math.imul(Qt,ve),p=(p=Math.imul(Qt,Ie))+Math.imul(ue,ve)|0,T=Math.imul(ue,Ie),C=C+Math.imul(It,ni)|0,p=(p=p+Math.imul(It,ii)|0)+Math.imul(gt,ni)|0,T=T+Math.imul(gt,ii)|0,C=C+Math.imul(Yt,vi)|0,p=(p=p+Math.imul(Yt,_i)|0)+Math.imul(ee,vi)|0,T=T+Math.imul(ee,_i)|0,C=C+Math.imul(be,Mi)|0,p=(p=p+Math.imul(be,Ge)|0)+Math.imul(de,Mi)|0,T=T+Math.imul(de,Ge)|0,C=C+Math.imul(Ht,Ei)|0,p=(p=p+Math.imul(Ht,Oe)|0)+Math.imul(me,Ei)|0,T=T+Math.imul(me,Oe)|0,C=C+Math.imul(Zt,ke)|0,p=(p=p+Math.imul(Zt,re)|0)+Math.imul(Lt,ke)|0,T=T+Math.imul(Lt,re)|0,C=C+Math.imul(Rt,he)|0,p=(p=p+Math.imul(Rt,Se)|0)+Math.imul(Dt,he)|0,T=T+Math.imul(Dt,Se)|0,C=C+Math.imul(At,te)|0,p=(p=p+Math.imul(At,Re)|0)+Math.imul(bt,te)|0,T=T+Math.imul(bt,Re)|0,C=C+Math.imul(wt,Qe)|0,p=(p=p+Math.imul(wt,di)|0)+Math.imul(Vt,Qe)|0,T=T+Math.imul(Vt,di)|0;var br=(I+(C=C+Math.imul(Z,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Z,si)|0)+Math.imul(W,ci)|0))<<13)|0;I=((T=T+Math.imul(W,si)|0)+(p>>>13)|0)+(br>>>26)|0,br&=67108863,C=Math.imul(Qt,ni),p=(p=Math.imul(Qt,ii))+Math.imul(ue,ni)|0,T=Math.imul(ue,ii),C=C+Math.imul(It,vi)|0,p=(p=p+Math.imul(It,_i)|0)+Math.imul(gt,vi)|0,T=T+Math.imul(gt,_i)|0,C=C+Math.imul(Yt,Mi)|0,p=(p=p+Math.imul(Yt,Ge)|0)+Math.imul(ee,Mi)|0,T=T+Math.imul(ee,Ge)|0,C=C+Math.imul(be,Ei)|0,p=(p=p+Math.imul(be,Oe)|0)+Math.imul(de,Ei)|0,T=T+Math.imul(de,Oe)|0,C=C+Math.imul(Ht,ke)|0,p=(p=p+Math.imul(Ht,re)|0)+Math.imul(me,ke)|0,T=T+Math.imul(me,re)|0,C=C+Math.imul(Zt,he)|0,p=(p=p+Math.imul(Zt,Se)|0)+Math.imul(Lt,he)|0,T=T+Math.imul(Lt,Se)|0,C=C+Math.imul(Rt,te)|0,p=(p=p+Math.imul(Rt,Re)|0)+Math.imul(Dt,te)|0,T=T+Math.imul(Dt,Re)|0,C=C+Math.imul(At,Qe)|0,p=(p=p+Math.imul(At,di)|0)+Math.imul(bt,Qe)|0,T=T+Math.imul(bt,di)|0;var Xn=(I+(C=C+Math.imul(wt,ci)|0)|0)+((8191&(p=(p=p+Math.imul(wt,si)|0)+Math.imul(Vt,ci)|0))<<13)|0;I=((T=T+Math.imul(Vt,si)|0)+(p>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,C=Math.imul(Qt,vi),p=(p=Math.imul(Qt,_i))+Math.imul(ue,vi)|0,T=Math.imul(ue,_i),C=C+Math.imul(It,Mi)|0,p=(p=p+Math.imul(It,Ge)|0)+Math.imul(gt,Mi)|0,T=T+Math.imul(gt,Ge)|0,C=C+Math.imul(Yt,Ei)|0,p=(p=p+Math.imul(Yt,Oe)|0)+Math.imul(ee,Ei)|0,T=T+Math.imul(ee,Oe)|0,C=C+Math.imul(be,ke)|0,p=(p=p+Math.imul(be,re)|0)+Math.imul(de,ke)|0,T=T+Math.imul(de,re)|0,C=C+Math.imul(Ht,he)|0,p=(p=p+Math.imul(Ht,Se)|0)+Math.imul(me,he)|0,T=T+Math.imul(me,Se)|0,C=C+Math.imul(Zt,te)|0,p=(p=p+Math.imul(Zt,Re)|0)+Math.imul(Lt,te)|0,T=T+Math.imul(Lt,Re)|0,C=C+Math.imul(Rt,Qe)|0,p=(p=p+Math.imul(Rt,di)|0)+Math.imul(Dt,Qe)|0,T=T+Math.imul(Dt,di)|0;var Co=(I+(C=C+Math.imul(At,ci)|0)|0)+((8191&(p=(p=p+Math.imul(At,si)|0)+Math.imul(bt,ci)|0))<<13)|0;I=((T=T+Math.imul(bt,si)|0)+(p>>>13)|0)+(Co>>>26)|0,Co&=67108863,C=Math.imul(Qt,Mi),p=(p=Math.imul(Qt,Ge))+Math.imul(ue,Mi)|0,T=Math.imul(ue,Ge),C=C+Math.imul(It,Ei)|0,p=(p=p+Math.imul(It,Oe)|0)+Math.imul(gt,Ei)|0,T=T+Math.imul(gt,Oe)|0,C=C+Math.imul(Yt,ke)|0,p=(p=p+Math.imul(Yt,re)|0)+Math.imul(ee,ke)|0,T=T+Math.imul(ee,re)|0,C=C+Math.imul(be,he)|0,p=(p=p+Math.imul(be,Se)|0)+Math.imul(de,he)|0,T=T+Math.imul(de,Se)|0,C=C+Math.imul(Ht,te)|0,p=(p=p+Math.imul(Ht,Re)|0)+Math.imul(me,te)|0,T=T+Math.imul(me,Re)|0,C=C+Math.imul(Zt,Qe)|0,p=(p=p+Math.imul(Zt,di)|0)+Math.imul(Lt,Qe)|0,T=T+Math.imul(Lt,di)|0;var Ti=(I+(C=C+Math.imul(Rt,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Rt,si)|0)+Math.imul(Dt,ci)|0))<<13)|0;I=((T=T+Math.imul(Dt,si)|0)+(p>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,C=Math.imul(Qt,Ei),p=(p=Math.imul(Qt,Oe))+Math.imul(ue,Ei)|0,T=Math.imul(ue,Oe),C=C+Math.imul(It,ke)|0,p=(p=p+Math.imul(It,re)|0)+Math.imul(gt,ke)|0,T=T+Math.imul(gt,re)|0,C=C+Math.imul(Yt,he)|0,p=(p=p+Math.imul(Yt,Se)|0)+Math.imul(ee,he)|0,T=T+Math.imul(ee,Se)|0,C=C+Math.imul(be,te)|0,p=(p=p+Math.imul(be,Re)|0)+Math.imul(de,te)|0,T=T+Math.imul(de,Re)|0,C=C+Math.imul(Ht,Qe)|0,p=(p=p+Math.imul(Ht,di)|0)+Math.imul(me,Qe)|0,T=T+Math.imul(me,di)|0;var mn=(I+(C=C+Math.imul(Zt,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Zt,si)|0)+Math.imul(Lt,ci)|0))<<13)|0;I=((T=T+Math.imul(Lt,si)|0)+(p>>>13)|0)+(mn>>>26)|0,mn&=67108863,C=Math.imul(Qt,ke),p=(p=Math.imul(Qt,re))+Math.imul(ue,ke)|0,T=Math.imul(ue,re),C=C+Math.imul(It,he)|0,p=(p=p+Math.imul(It,Se)|0)+Math.imul(gt,he)|0,T=T+Math.imul(gt,Se)|0,C=C+Math.imul(Yt,te)|0,p=(p=p+Math.imul(Yt,Re)|0)+Math.imul(ee,te)|0,T=T+Math.imul(ee,Re)|0,C=C+Math.imul(be,Qe)|0,p=(p=p+Math.imul(be,di)|0)+Math.imul(de,Qe)|0,T=T+Math.imul(de,di)|0;var gr=(I+(C=C+Math.imul(Ht,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Ht,si)|0)+Math.imul(me,ci)|0))<<13)|0;I=((T=T+Math.imul(me,si)|0)+(p>>>13)|0)+(gr>>>26)|0,gr&=67108863,C=Math.imul(Qt,he),p=(p=Math.imul(Qt,Se))+Math.imul(ue,he)|0,T=Math.imul(ue,Se),C=C+Math.imul(It,te)|0,p=(p=p+Math.imul(It,Re)|0)+Math.imul(gt,te)|0,T=T+Math.imul(gt,Re)|0,C=C+Math.imul(Yt,Qe)|0,p=(p=p+Math.imul(Yt,di)|0)+Math.imul(ee,Qe)|0,T=T+Math.imul(ee,di)|0;var En=(I+(C=C+Math.imul(be,ci)|0)|0)+((8191&(p=(p=p+Math.imul(be,si)|0)+Math.imul(de,ci)|0))<<13)|0;I=((T=T+Math.imul(de,si)|0)+(p>>>13)|0)+(En>>>26)|0,En&=67108863,C=Math.imul(Qt,te),p=(p=Math.imul(Qt,Re))+Math.imul(ue,te)|0,T=Math.imul(ue,Re),C=C+Math.imul(It,Qe)|0,p=(p=p+Math.imul(It,di)|0)+Math.imul(gt,Qe)|0,T=T+Math.imul(gt,di)|0;var _o=(I+(C=C+Math.imul(Yt,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Yt,si)|0)+Math.imul(ee,ci)|0))<<13)|0;I=((T=T+Math.imul(ee,si)|0)+(p>>>13)|0)+(_o>>>26)|0,_o&=67108863,C=Math.imul(Qt,Qe),p=(p=Math.imul(Qt,di))+Math.imul(ue,Qe)|0,T=Math.imul(ue,di);var No=(I+(C=C+Math.imul(It,ci)|0)|0)+((8191&(p=(p=p+Math.imul(It,si)|0)+Math.imul(gt,ci)|0))<<13)|0;I=((T=T+Math.imul(gt,si)|0)+(p>>>13)|0)+(No>>>26)|0,No&=67108863;var Hi=(I+(C=Math.imul(Qt,ci))|0)+((8191&(p=(p=Math.imul(Qt,si))+Math.imul(ue,ci)|0))<<13)|0;return I=((T=Math.imul(ue,si))+(p>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,S[0]=an,S[1]=cn,S[2]=Fn,S[3]=Or,S[4]=Vn,S[5]=Jn,S[6]=hn,S[7]=jr,S[8]=wr,S[9]=br,S[10]=Xn,S[11]=Co,S[12]=Ti,S[13]=mn,S[14]=gr,S[15]=En,S[16]=_o,S[17]=No,S[18]=Hi,0!==I&&(S[19]=I,y.length++),y};function J(R,u,m){return(new z).mulp(R,u,m)}function z(R,u){this.x=R,this.y=u}Math.imul||(H=$),E.prototype.mulTo=function(u,m){var y,v=this.length+u.length;return y=10===this.length&&10===u.length?H(this,u,m):v<63?$(this,u,m):v<1024?function(R,u,m){m.negative=u.negative^R.negative,m.length=R.length+u.length;for(var y=0,v=0,M=0;M<m.length-1;M++){var S=v;v=0;for(var I=67108863&y,C=Math.min(M,u.length-1),p=Math.max(0,M-R.length+1);p<=C;p++){var W=(0|R.words[M-p])*(0|u.words[p]),yt=67108863&W;I=67108863&(yt=yt+I|0),v+=(S=(S=S+(W/67108864|0)|0)+(yt>>>26)|0)>>>26,S&=67108863}m.words[M]=I,y=S,S=v}return 0!==y?m.words[M]=y:m.length--,m.strip()}(this,u,m):J(this,u,m),y},z.prototype.makeRBT=function(u){for(var m=new Array(u),y=E.prototype._countBits(u)-1,v=0;v<u;v++)m[v]=this.revBin(v,y,u);return m},z.prototype.revBin=function(u,m,y){if(0===u||u===y-1)return u;for(var v=0,M=0;M<m;M++)v|=(1&u)<<m-M-1,u>>=1;return v},z.prototype.permute=function(u,m,y,v,M,S){for(var I=0;I<S;I++)v[I]=m[u[I]],M[I]=y[u[I]]},z.prototype.transform=function(u,m,y,v,M,S){this.permute(S,u,m,y,v,M);for(var I=1;I<M;I<<=1)for(var C=I<<1,p=Math.cos(2*Math.PI/C),T=Math.sin(2*Math.PI/C),it=0;it<M;it+=C)for(var Z=p,W=T,yt=0;yt<I;yt++){var wt=y[it+yt],Vt=v[it+yt],Ut=y[it+yt+I],At=v[it+yt+I],bt=Z*Ut-W*At;At=Z*At+W*Ut,y[it+yt]=wt+(Ut=bt),v[it+yt]=Vt+At,y[it+yt+I]=wt-Ut,v[it+yt+I]=Vt-At,yt!==C&&(bt=p*Z-T*W,W=p*W+T*Z,Z=bt)}},z.prototype.guessLen13b=function(u,m){var y=1|Math.max(m,u),v=1&y,M=0;for(y=y/2|0;y;y>>>=1)M++;return 1<<M+1+v},z.prototype.conjugate=function(u,m,y){if(!(y<=1))for(var v=0;v<y/2;v++){var M=u[v];u[v]=u[y-v-1],u[y-v-1]=M,M=m[v],m[v]=-m[y-v-1],m[y-v-1]=-M}},z.prototype.normalize13b=function(u,m){for(var y=0,v=0;v<m/2;v++){var M=8192*Math.round(u[2*v+1]/m)+Math.round(u[2*v]/m)+y;u[v]=67108863&M,y=M<67108864?0:M/67108864|0}return u},z.prototype.convert13b=function(u,m,y,v){for(var M=0,S=0;S<m;S++)y[2*S]=8191&(M+=0|u[S]),y[2*S+1]=8191&(M>>>=13),M>>>=13;for(S=2*m;S<v;++S)y[S]=0;ft(0===M),ft(0==(-8192&M))},z.prototype.stub=function(u){for(var m=new Array(u),y=0;y<u;y++)m[y]=0;return m},z.prototype.mulp=function(u,m,y){var v=2*this.guessLen13b(u.length,m.length),M=this.makeRBT(v),S=this.stub(v),I=new Array(v),C=new Array(v),p=new Array(v),T=new Array(v),it=new Array(v),Z=new Array(v),W=y.words;W.length=v,this.convert13b(u.words,u.length,I,v),this.convert13b(m.words,m.length,T,v),this.transform(I,S,C,p,v,M),this.transform(T,S,it,Z,v,M);for(var yt=0;yt<v;yt++){var wt=C[yt]*it[yt]-p[yt]*Z[yt];p[yt]=C[yt]*Z[yt]+p[yt]*it[yt],C[yt]=wt}return this.conjugate(C,p,v),this.transform(C,p,W,S,v,M),this.conjugate(W,S,v),this.normalize13b(W,v),y.negative=u.negative^m.negative,y.length=u.length+m.length,y.strip()},E.prototype.mul=function(u){var m=new E(null);return m.words=new Array(this.length+u.length),this.mulTo(u,m)},E.prototype.mulf=function(u){var m=new E(null);return m.words=new Array(this.length+u.length),J(this,u,m)},E.prototype.imul=function(u){return this.clone().mulTo(u,this)},E.prototype.imuln=function(u){ft("number"==typeof u),ft(u<67108864);for(var m=0,y=0;y<this.length;y++){var v=(0|this.words[y])*u,M=(67108863&v)+(67108863&m);m>>=26,m+=v/67108864|0,m+=M>>>26,this.words[y]=67108863&M}return 0!==m&&(this.words[y]=m,this.length++),this},E.prototype.muln=function(u){return this.clone().imuln(u)},E.prototype.sqr=function(){return this.mul(this)},E.prototype.isqr=function(){return this.imul(this.clone())},E.prototype.pow=function(u){var m=function(R){for(var u=new Array(R.bitLength()),m=0;m<u.length;m++){var v=m%26;u[m]=(R.words[m/26|0]&1<<v)>>>v}return u}(u);if(0===m.length)return new E(1);for(var y=this,v=0;v<m.length&&0===m[v];v++,y=y.sqr());if(++v<m.length)for(var M=y.sqr();v<m.length;v++,M=M.sqr())0!==m[v]&&(y=y.mul(M));return y},E.prototype.iushln=function(u){ft("number"==typeof u&&u>=0);var M,m=u%26,y=(u-m)/26,v=67108863>>>26-m<<26-m;if(0!==m){var S=0;for(M=0;M<this.length;M++){var I=this.words[M]&v;this.words[M]=(0|this.words[M])-I<<m|S,S=I>>>26-m}S&&(this.words[M]=S,this.length++)}if(0!==y){for(M=this.length-1;M>=0;M--)this.words[M+y]=this.words[M];for(M=0;M<y;M++)this.words[M]=0;this.length+=y}return this.strip()},E.prototype.ishln=function(u){return ft(0===this.negative),this.iushln(u)},E.prototype.iushrn=function(u,m,y){var v;ft("number"==typeof u&&u>=0),v=m?(m-m%26)/26:0;var M=u%26,S=Math.min((u-M)/26,this.length),I=67108863^67108863>>>M<<M,C=y;if(v-=S,v=Math.max(0,v),C){for(var p=0;p<S;p++)C.words[p]=this.words[p];C.length=S}if(0!==S)if(this.length>S)for(this.length-=S,p=0;p<this.length;p++)this.words[p]=this.words[p+S];else this.words[0]=0,this.length=1;var T=0;for(p=this.length-1;p>=0&&(0!==T||p>=v);p--){var it=0|this.words[p];this.words[p]=T<<26-M|it>>>M,T=it&I}return C&&0!==T&&(C.words[C.length++]=T),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},E.prototype.ishrn=function(u,m,y){return ft(0===this.negative),this.iushrn(u,m,y)},E.prototype.shln=function(u){return this.clone().ishln(u)},E.prototype.ushln=function(u){return this.clone().iushln(u)},E.prototype.shrn=function(u){return this.clone().ishrn(u)},E.prototype.ushrn=function(u){return this.clone().iushrn(u)},E.prototype.testn=function(u){ft("number"==typeof u&&u>=0);var m=u%26,y=(u-m)/26;return!(this.length<=y||!(this.words[y]&1<<m))},E.prototype.imaskn=function(u){ft("number"==typeof u&&u>=0);var m=u%26,y=(u-m)/26;return ft(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==m&&y++,this.length=Math.min(y,this.length),0!==m&&(this.words[this.length-1]&=67108863^67108863>>>m<<m),this.strip())},E.prototype.maskn=function(u){return this.clone().imaskn(u)},E.prototype.iaddn=function(u){return ft("number"==typeof u),ft(u<67108864),u<0?this.isubn(-u):0!==this.negative?1===this.length&&(0|this.words[0])<u?(this.words[0]=u-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},E.prototype._iaddn=function(u){this.words[0]+=u;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},E.prototype.isubn=function(u){if(ft("number"==typeof u),ft(u<67108864),u<0)return this.iaddn(-u);if(0!==this.negative)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this.strip()},E.prototype.addn=function(u){return this.clone().iaddn(u)},E.prototype.subn=function(u){return this.clone().isubn(u)},E.prototype.iabs=function(){return this.negative=0,this},E.prototype.abs=function(){return this.clone().iabs()},E.prototype._ishlnsubmul=function(u,m,y){var M;this._expand(u.length+y);var S,I=0;for(M=0;M<u.length;M++){S=(0|this.words[M+y])+I;var C=(0|u.words[M])*m;I=((S-=67108863&C)>>26)-(C/67108864|0),this.words[M+y]=67108863&S}for(;M<this.length-y;M++)I=(S=(0|this.words[M+y])+I)>>26,this.words[M+y]=67108863&S;if(0===I)return this.strip();for(ft(-1===I),I=0,M=0;M<this.length;M++)I=(S=-(0|this.words[M])+I)>>26,this.words[M]=67108863&S;return this.negative=1,this.strip()},E.prototype._wordDiv=function(u,m){var y,v=this.clone(),M=u,S=0|M.words[M.length-1];0!=(y=26-this._countBits(S))&&(M=M.ushln(y),v.iushln(y),S=0|M.words[M.length-1]);var p,C=v.length-M.length;if("mod"!==m){(p=new E(null)).length=C+1,p.words=new Array(p.length);for(var T=0;T<p.length;T++)p.words[T]=0}var it=v.clone()._ishlnsubmul(M,1,C);0===it.negative&&(v=it,p&&(p.words[C]=1));for(var Z=C-1;Z>=0;Z--){var W=67108864*(0|v.words[M.length+Z])+(0|v.words[M.length+Z-1]);for(W=Math.min(W/S|0,67108863),v._ishlnsubmul(M,W,Z);0!==v.negative;)W--,v.negative=0,v._ishlnsubmul(M,1,Z),v.isZero()||(v.negative^=1);p&&(p.words[Z]=W)}return p&&p.strip(),v.strip(),"div"!==m&&0!==y&&v.iushrn(y),{div:p||null,mod:v}},E.prototype.divmod=function(u,m,y){return ft(!u.isZero()),this.isZero()?{div:new E(0),mod:new E(0)}:0!==this.negative&&0===u.negative?(S=this.neg().divmod(u,m),"mod"!==m&&(v=S.div.neg()),"div"!==m&&(M=S.mod.neg(),y&&0!==M.negative&&M.iadd(u)),{div:v,mod:M}):0===this.negative&&0!==u.negative?(S=this.divmod(u.neg(),m),"mod"!==m&&(v=S.div.neg()),{div:v,mod:S.mod}):0!=(this.negative&u.negative)?(S=this.neg().divmod(u.neg(),m),"div"!==m&&(M=S.mod.neg(),y&&0!==M.negative&&M.isub(u)),{div:S.div,mod:M}):u.length>this.length||this.cmp(u)<0?{div:new E(0),mod:this}:1===u.length?"div"===m?{div:this.divn(u.words[0]),mod:null}:"mod"===m?{div:null,mod:new E(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new E(this.modn(u.words[0]))}:this._wordDiv(u,m);var v,M,S},E.prototype.div=function(u){return this.divmod(u,"div",!1).div},E.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},E.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},E.prototype.divRound=function(u){var m=this.divmod(u);if(m.mod.isZero())return m.div;var y=0!==m.div.negative?m.mod.isub(u):m.mod,v=u.ushrn(1),M=u.andln(1),S=y.cmp(v);return S<0||1===M&&0===S?m.div:0!==m.div.negative?m.div.isubn(1):m.div.iaddn(1)},E.prototype.modn=function(u){ft(u<=67108863);for(var m=(1<<26)%u,y=0,v=this.length-1;v>=0;v--)y=(m*y+(0|this.words[v]))%u;return y},E.prototype.idivn=function(u){ft(u<=67108863);for(var m=0,y=this.length-1;y>=0;y--){var v=(0|this.words[y])+67108864*m;this.words[y]=v/u|0,m=v%u}return this.strip()},E.prototype.divn=function(u){return this.clone().idivn(u)},E.prototype.egcd=function(u){ft(0===u.negative),ft(!u.isZero());var m=this,y=u.clone();m=0!==m.negative?m.umod(u):m.clone();for(var v=new E(1),M=new E(0),S=new E(0),I=new E(1),C=0;m.isEven()&&y.isEven();)m.iushrn(1),y.iushrn(1),++C;for(var p=y.clone(),T=m.clone();!m.isZero();){for(var it=0,Z=1;0==(m.words[0]&Z)&&it<26;++it,Z<<=1);if(it>0)for(m.iushrn(it);it-- >0;)(v.isOdd()||M.isOdd())&&(v.iadd(p),M.isub(T)),v.iushrn(1),M.iushrn(1);for(var W=0,yt=1;0==(y.words[0]&yt)&&W<26;++W,yt<<=1);if(W>0)for(y.iushrn(W);W-- >0;)(S.isOdd()||I.isOdd())&&(S.iadd(p),I.isub(T)),S.iushrn(1),I.iushrn(1);m.cmp(y)>=0?(m.isub(y),v.isub(S),M.isub(I)):(y.isub(m),S.isub(v),I.isub(M))}return{a:S,b:I,gcd:y.iushln(C)}},E.prototype._invmp=function(u){ft(0===u.negative),ft(!u.isZero());var it,m=this,y=u.clone();m=0!==m.negative?m.umod(u):m.clone();for(var v=new E(1),M=new E(0),S=y.clone();m.cmpn(1)>0&&y.cmpn(1)>0;){for(var I=0,C=1;0==(m.words[0]&C)&&I<26;++I,C<<=1);if(I>0)for(m.iushrn(I);I-- >0;)v.isOdd()&&v.iadd(S),v.iushrn(1);for(var p=0,T=1;0==(y.words[0]&T)&&p<26;++p,T<<=1);if(p>0)for(y.iushrn(p);p-- >0;)M.isOdd()&&M.iadd(S),M.iushrn(1);m.cmp(y)>=0?(m.isub(y),v.isub(M)):(y.isub(m),M.isub(v))}return(it=0===m.cmpn(1)?v:M).cmpn(0)<0&&it.iadd(u),it},E.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var m=this.clone(),y=u.clone();m.negative=0,y.negative=0;for(var v=0;m.isEven()&&y.isEven();v++)m.iushrn(1),y.iushrn(1);for(;;){for(;m.isEven();)m.iushrn(1);for(;y.isEven();)y.iushrn(1);var M=m.cmp(y);if(M<0){var S=m;m=y,y=S}else if(0===M||0===y.cmpn(1))break;m.isub(y)}return y.iushln(v)},E.prototype.invm=function(u){return this.egcd(u).a.umod(u)},E.prototype.isEven=function(){return 0==(1&this.words[0])},E.prototype.isOdd=function(){return 1==(1&this.words[0])},E.prototype.andln=function(u){return this.words[0]&u},E.prototype.bincn=function(u){ft("number"==typeof u);var m=u%26,y=(u-m)/26,v=1<<m;if(this.length<=y)return this._expand(y+1),this.words[y]|=v,this;for(var M=v,S=y;0!==M&&S<this.length;S++){var I=0|this.words[S];M=(I+=M)>>>26,this.words[S]=I&=67108863}return 0!==M&&(this.words[S]=M,this.length++),this},E.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},E.prototype.cmpn=function(u){var y,m=u<0;if(0!==this.negative&&!m)return-1;if(0===this.negative&&m)return 1;if(this.strip(),this.length>1)y=1;else{m&&(u=-u),ft(u<=67108863,"Number is too big");var v=0|this.words[0];y=v===u?0:v<u?-1:1}return 0!==this.negative?0|-y:y},E.prototype.cmp=function(u){if(0!==this.negative&&0===u.negative)return-1;if(0===this.negative&&0!==u.negative)return 1;var m=this.ucmp(u);return 0!==this.negative?0|-m:m},E.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var m=0,y=this.length-1;y>=0;y--){var v=0|this.words[y],M=0|u.words[y];if(v!==M){v<M?m=-1:v>M&&(m=1);break}}return m},E.prototype.gtn=function(u){return 1===this.cmpn(u)},E.prototype.gt=function(u){return 1===this.cmp(u)},E.prototype.gten=function(u){return this.cmpn(u)>=0},E.prototype.gte=function(u){return this.cmp(u)>=0},E.prototype.ltn=function(u){return-1===this.cmpn(u)},E.prototype.lt=function(u){return-1===this.cmp(u)},E.prototype.lten=function(u){return this.cmpn(u)<=0},E.prototype.lte=function(u){return this.cmp(u)<=0},E.prototype.eqn=function(u){return 0===this.cmpn(u)},E.prototype.eq=function(u){return 0===this.cmp(u)},E.red=function(u){return new Et(u)},E.prototype.toRed=function(u){return ft(!this.red,"Already a number in reduction context"),ft(0===this.negative,"red works only with positives"),u.convertTo(this)._forceRed(u)},E.prototype.fromRed=function(){return ft(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},E.prototype._forceRed=function(u){return this.red=u,this},E.prototype.forceRed=function(u){return ft(!this.red,"Already a number in reduction context"),this._forceRed(u)},E.prototype.redAdd=function(u){return ft(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},E.prototype.redIAdd=function(u){return ft(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},E.prototype.redSub=function(u){return ft(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},E.prototype.redISub=function(u){return ft(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},E.prototype.redShl=function(u){return ft(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},E.prototype.redMul=function(u){return ft(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},E.prototype.redIMul=function(u){return ft(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},E.prototype.redSqr=function(){return ft(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},E.prototype.redISqr=function(){return ft(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},E.prototype.redSqrt=function(){return ft(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},E.prototype.redInvm=function(){return ft(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},E.prototype.redNeg=function(){return ft(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},E.prototype.redPow=function(u){return ft(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var nt={k256:null,p224:null,p192:null,p25519:null};function Q(R,u){this.name=R,this.p=new E(u,16),this.n=this.p.bitLength(),this.k=new E(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function lt(){Q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _t(){Q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function Ct(){Q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function kt(){Q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Et(R){if("string"==typeof R){var u=E._prime(R);this.m=u.p,this.prime=u}else ft(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}function St(R){Et.call(this,R),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new E(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Q.prototype._tmp=function(){var u=new E(null);return u.words=new Array(Math.ceil(this.n/13)),u},Q.prototype.ireduce=function(u){var y,m=u;do{this.split(m,this.tmp),y=(m=(m=this.imulK(m)).iadd(this.tmp)).bitLength()}while(y>this.n);var v=y<this.n?-1:m.ucmp(this.p);return 0===v?(m.words[0]=0,m.length=1):v>0?m.isub(this.p):void 0!==m.strip?m.strip():m._strip(),m},Q.prototype.split=function(u,m){u.iushrn(this.n,0,m)},Q.prototype.imulK=function(u){return u.imul(this.k)},dt(lt,Q),lt.prototype.split=function(u,m){for(var y=4194303,v=Math.min(u.length,9),M=0;M<v;M++)m.words[M]=u.words[M];if(m.length=v,u.length<=9)return u.words[0]=0,void(u.length=1);var S=u.words[9];for(m.words[m.length++]=S&y,M=10;M<u.length;M++){var I=0|u.words[M];u.words[M-10]=(I&y)<<4|S>>>22,S=I}u.words[M-10]=S>>>=22,u.length-=0===S&&u.length>10?10:9},lt.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var m=0,y=0;y<u.length;y++){var v=0|u.words[y];u.words[y]=67108863&(m+=977*v),m=64*v+(m/67108864|0)}return 0===u.words[u.length-1]&&(u.length--,0===u.words[u.length-1]&&u.length--),u},dt(_t,Q),dt(Ct,Q),dt(kt,Q),kt.prototype.imulK=function(u){for(var m=0,y=0;y<u.length;y++){var v=19*(0|u.words[y])+m,M=67108863&v;v>>>=26,u.words[y]=M,m=v}return 0!==m&&(u.words[u.length++]=m),u},E._prime=function(u){if(nt[u])return nt[u];var m;if("k256"===u)m=new lt;else if("p224"===u)m=new _t;else if("p192"===u)m=new Ct;else{if("p25519"!==u)throw new Error("Unknown prime "+u);m=new kt}return nt[u]=m,m},Et.prototype._verify1=function(u){ft(0===u.negative,"red works only with positives"),ft(u.red,"red works only with red numbers")},Et.prototype._verify2=function(u,m){ft(0==(u.negative|m.negative),"red works only with positives"),ft(u.red&&u.red===m.red,"red works only with red numbers")},Et.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},Et.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},Et.prototype.add=function(u,m){this._verify2(u,m);var y=u.add(m);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},Et.prototype.iadd=function(u,m){this._verify2(u,m);var y=u.iadd(m);return y.cmp(this.m)>=0&&y.isub(this.m),y},Et.prototype.sub=function(u,m){this._verify2(u,m);var y=u.sub(m);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},Et.prototype.isub=function(u,m){this._verify2(u,m);var y=u.isub(m);return y.cmpn(0)<0&&y.iadd(this.m),y},Et.prototype.shl=function(u,m){return this._verify1(u),this.imod(u.ushln(m))},Et.prototype.imul=function(u,m){return this._verify2(u,m),this.imod(u.imul(m))},Et.prototype.mul=function(u,m){return this._verify2(u,m),this.imod(u.mul(m))},Et.prototype.isqr=function(u){return this.imul(u,u.clone())},Et.prototype.sqr=function(u){return this.mul(u,u)},Et.prototype.sqrt=function(u){if(u.isZero())return u.clone();var m=this.m.andln(3);if(ft(m%2==1),3===m){var y=this.m.add(new E(1)).iushrn(2);return this.pow(u,y)}for(var v=this.m.subn(1),M=0;!v.isZero()&&0===v.andln(1);)M++,v.iushrn(1);ft(!v.isZero());var S=new E(1).toRed(this),I=S.redNeg(),C=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new E(2*p*p).toRed(this);0!==this.pow(p,C).cmp(I);)p.redIAdd(I);for(var T=this.pow(p,v),it=this.pow(u,v.addn(1).iushrn(1)),Z=this.pow(u,v),W=M;0!==Z.cmp(S);){for(var yt=Z,wt=0;0!==yt.cmp(S);wt++)yt=yt.redSqr();ft(wt<W);var Vt=this.pow(T,new E(1).iushln(W-wt-1));it=it.redMul(Vt),T=Vt.redSqr(),Z=Z.redMul(T),W=wt}return it},Et.prototype.invm=function(u){var m=u._invmp(this.m);return 0!==m.negative?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},Et.prototype.pow=function(u,m){if(m.isZero())return new E(1).toRed(this);if(0===m.cmpn(1))return u.clone();var v=new Array(16);v[0]=new E(1).toRed(this),v[1]=u;for(var M=2;M<v.length;M++)v[M]=this.mul(v[M-1],u);var S=v[0],I=0,C=0,p=m.bitLength()%26;for(0===p&&(p=26),M=m.length-1;M>=0;M--){for(var T=m.words[M],it=p-1;it>=0;it--){var Z=T>>it&1;S!==v[0]&&(S=this.sqr(S)),0!==Z||0!==I?(I<<=1,I|=Z,(4==++C||0===M&&0===it)&&(S=this.mul(S,v[I]),C=0,I=0)):C=0}p=26}return S},Et.prototype.convertTo=function(u){var m=u.umod(this.m);return m===u?m.clone():m},Et.prototype.convertFrom=function(u){var m=u.clone();return m.red=null,m},E.mont=function(u){return new St(u)},dt(St,Et),St.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},St.prototype.convertFrom=function(u){var m=this.imod(u.mul(this.rinv));return m.red=null,m},St.prototype.imul=function(u,m){if(u.isZero()||m.isZero())return u.words[0]=0,u.length=1,u;var y=u.imul(m),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(v).iushrn(this.shift),S=M;return M.cmp(this.m)>=0?S=M.isub(this.m):M.cmpn(0)<0&&(S=M.iadd(this.m)),S._forceRed(this)},St.prototype.mul=function(u,m){if(u.isZero()||m.isZero())return new E(0)._forceRed(this);var y=u.mul(m),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(v).iushrn(this.shift),S=M;return M.cmp(this.m)>=0?S=M.isub(this.m):M.cmpn(0)<0&&(S=M.iadd(this.m)),S._forceRed(this)},St.prototype.invm=function(u){return this.imod(u._invmp(this.m).mul(this.r2))._forceRed(this)}}(_e=Ft.nmd(_e),this)},3059:(_e,st,Ft)=>{"use strict";var zt=st;zt.version=Ft(8597).i8,zt.utils=Ft(5685),zt.rand=Ft(3550),zt.curve=Ft(2333),zt.curves=Ft(2960),zt.ec=Ft(4590),zt.eddsa=Ft(876)},6462:(_e,st,Ft)=>{"use strict";var zt=Ft(9631),Kt=Ft(5685),ft=Kt.getNAF,dt=Kt.getJSF,E=Kt.assert;function K(ct,et){this.type=ct,this.p=new zt(et.p,16),this.red=et.prime?zt.red(et.prime):zt.mont(this.p),this.zero=new zt(0).toRed(this.red),this.one=new zt(1).toRed(this.red),this.two=new zt(2).toRed(this.red),this.n=et.n&&new zt(et.n,16),this.g=et.g&&this.pointFromJSON(et.g,et.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var X=this.n&&this.p.div(this.n);!X||X.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function Y(ct,et){this.curve=ct,this.type=et,this.precomputed=null}_e.exports=K,K.prototype.point=function(){throw new Error("Not implemented")},K.prototype.validate=function(){throw new Error("Not implemented")},K.prototype._fixedNafMul=function(et,X){E(et.precomputed);var U=et._getDoubles(),at=ft(X,1,this._bitLength),V=(1<<U.step+1)-(U.step%2==0?2:1);V/=3;var H,G,$=[];for(H=0;H<at.length;H+=U.step){G=0;for(var J=H+U.step-1;J>=H;J--)G=(G<<1)+at[J];$.push(G)}for(var z=this.jpoint(null,null,null),nt=this.jpoint(null,null,null),Q=V;Q>0;Q--){for(H=0;H<$.length;H++)(G=$[H])===Q?nt=nt.mixedAdd(U.points[H]):G===-Q&&(nt=nt.mixedAdd(U.points[H].neg()));z=z.add(nt)}return z.toP()},K.prototype._wnafMul=function(et,X){for(var U=4,at=et._getNAFPoints(U),V=at.points,$=ft(X,U=at.wnd,this._bitLength),H=this.jpoint(null,null,null),G=$.length-1;G>=0;G--){for(var J=0;G>=0&&0===$[G];G--)J++;if(G>=0&&J++,H=H.dblp(J),G<0)break;var z=$[G];E(0!==z),H="affine"===et.type?H.mixedAdd(z>0?V[z-1>>1]:V[-z-1>>1].neg()):H.add(z>0?V[z-1>>1]:V[-z-1>>1].neg())}return"affine"===et.type?H.toP():H},K.prototype._wnafMulAdd=function(et,X,U,at,V){var z,nt,Q,$=this._wnafT1,H=this._wnafT2,G=this._wnafT3,J=0;for(z=0;z<at;z++){var lt=(Q=X[z])._getNAFPoints(et);$[z]=lt.wnd,H[z]=lt.points}for(z=at-1;z>=1;z-=2){var _t=z-1,Ct=z;if(1===$[_t]&&1===$[Ct]){var kt=[X[_t],null,null,X[Ct]];0===X[_t].y.cmp(X[Ct].y)?(kt[1]=X[_t].add(X[Ct]),kt[2]=X[_t].toJ().mixedAdd(X[Ct].neg())):0===X[_t].y.cmp(X[Ct].y.redNeg())?(kt[1]=X[_t].toJ().mixedAdd(X[Ct]),kt[2]=X[_t].add(X[Ct].neg())):(kt[1]=X[_t].toJ().mixedAdd(X[Ct]),kt[2]=X[_t].toJ().mixedAdd(X[Ct].neg()));var Et=[-3,-1,-5,-7,0,7,5,1,3],St=dt(U[_t],U[Ct]);for(J=Math.max(St[0].length,J),G[_t]=new Array(J),G[Ct]=new Array(J),nt=0;nt<J;nt++)G[_t][nt]=Et[3*(1+(0|St[0][nt]))+(1+(0|St[1][nt]))],G[Ct][nt]=0,H[_t]=kt}else G[_t]=ft(U[_t],$[_t],this._bitLength),G[Ct]=ft(U[Ct],$[Ct],this._bitLength),J=Math.max(G[_t].length,J),J=Math.max(G[Ct].length,J)}var m=this.jpoint(null,null,null),y=this._wnafT4;for(z=J;z>=0;z--){for(var v=0;z>=0;){var M=!0;for(nt=0;nt<at;nt++)y[nt]=0|G[nt][z],0!==y[nt]&&(M=!1);if(!M)break;v++,z--}if(z>=0&&v++,m=m.dblp(v),z<0)break;for(nt=0;nt<at;nt++){var S=y[nt];0!==S&&(S>0?Q=H[nt][S-1>>1]:S<0&&(Q=H[nt][-S-1>>1].neg()),m="affine"===Q.type?m.mixedAdd(Q):m.add(Q))}}for(z=0;z<at;z++)H[z]=null;return V?m:m.toP()},K.BasePoint=Y,Y.prototype.eq=function(){throw new Error("Not implemented")},Y.prototype.validate=function(){return this.curve.validate(this)},K.prototype.decodePoint=function(et,X){et=Kt.toArray(et,X);var U=this.p.byteLength();if((4===et[0]||6===et[0]||7===et[0])&&et.length-1==2*U)return 6===et[0]?E(et[et.length-1]%2==0):7===et[0]&&E(et[et.length-1]%2==1),this.point(et.slice(1,1+U),et.slice(1+U,1+2*U));if((2===et[0]||3===et[0])&&et.length-1===U)return this.pointFromX(et.slice(1,1+U),3===et[0]);throw new Error("Unknown point format")},Y.prototype.encodeCompressed=function(et){return this.encode(et,!0)},Y.prototype._encode=function(et){var X=this.curve.p.byteLength(),U=this.getX().toArray("be",X);return et?[this.getY().isEven()?2:3].concat(U):[4].concat(U,this.getY().toArray("be",X))},Y.prototype.encode=function(et,X){return Kt.encode(this._encode(X),et)},Y.prototype.precompute=function(et){if(this.precomputed)return this;var X={doubles:null,naf:null,beta:null};return X.naf=this._getNAFPoints(8),X.doubles=this._getDoubles(4,et),X.beta=this._getBeta(),this.precomputed=X,this},Y.prototype._hasDoubles=function(et){if(!this.precomputed)return!1;var X=this.precomputed.doubles;return!!X&&X.points.length>=Math.ceil((et.bitLength()+1)/X.step)},Y.prototype._getDoubles=function(et,X){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var U=[this],at=this,V=0;V<X;V+=et){for(var $=0;$<et;$++)at=at.dbl();U.push(at)}return{step:et,points:U}},Y.prototype._getNAFPoints=function(et){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var X=[this],U=(1<<et)-1,at=1===U?null:this.dbl(),V=1;V<U;V++)X[V]=X[V-1].add(at);return{wnd:et,points:X}},Y.prototype._getBeta=function(){return null},Y.prototype.dblp=function(et){for(var X=this,U=0;U<et;U++)X=X.dbl();return X}},5837:(_e,st,Ft)=>{"use strict";var zt=Ft(5685),Kt=Ft(9631),ft=Ft(3516),dt=Ft(6462),E=zt.assert;function K(ct){this.twisted=1!=(0|ct.a),this.mOneA=this.twisted&&-1==(0|ct.a),this.extended=this.mOneA,dt.call(this,"edwards",ct),this.a=new Kt(ct.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Kt(ct.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Kt(ct.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),E(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|ct.c)}function Y(ct,et,X,U,at){dt.BasePoint.call(this,ct,"projective"),null===et&&null===X&&null===U?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Kt(et,16),this.y=new Kt(X,16),this.z=U?new Kt(U,16):this.curve.one,this.t=at&&new Kt(at,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}ft(K,dt),_e.exports=K,K.prototype._mulA=function(et){return this.mOneA?et.redNeg():this.a.redMul(et)},K.prototype._mulC=function(et){return this.oneC?et:this.c.redMul(et)},K.prototype.jpoint=function(et,X,U,at){return this.point(et,X,U,at)},K.prototype.pointFromX=function(et,X){(et=new Kt(et,16)).red||(et=et.toRed(this.red));var U=et.redSqr(),at=this.c2.redSub(this.a.redMul(U)),V=this.one.redSub(this.c2.redMul(this.d).redMul(U)),$=at.redMul(V.redInvm()),H=$.redSqrt();if(0!==H.redSqr().redSub($).cmp(this.zero))throw new Error("invalid point");var G=H.fromRed().isOdd();return(X&&!G||!X&&G)&&(H=H.redNeg()),this.point(et,H)},K.prototype.pointFromY=function(et,X){(et=new Kt(et,16)).red||(et=et.toRed(this.red));var U=et.redSqr(),at=U.redSub(this.c2),V=U.redMul(this.d).redMul(this.c2).redSub(this.a),$=at.redMul(V.redInvm());if(0===$.cmp(this.zero)){if(X)throw new Error("invalid point");return this.point(this.zero,et)}var H=$.redSqrt();if(0!==H.redSqr().redSub($).cmp(this.zero))throw new Error("invalid point");return H.fromRed().isOdd()!==X&&(H=H.redNeg()),this.point(H,et)},K.prototype.validate=function(et){if(et.isInfinity())return!0;et.normalize();var X=et.x.redSqr(),U=et.y.redSqr(),at=X.redMul(this.a).redAdd(U),V=this.c2.redMul(this.one.redAdd(this.d.redMul(X).redMul(U)));return 0===at.cmp(V)},ft(Y,dt.BasePoint),K.prototype.pointFromJSON=function(et){return Y.fromJSON(this,et)},K.prototype.point=function(et,X,U,at){return new Y(this,et,X,U,at)},Y.fromJSON=function(et,X){return new Y(et,X[0],X[1],X[2])},Y.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Y.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},Y.prototype._extDbl=function(){var et=this.x.redSqr(),X=this.y.redSqr(),U=this.z.redSqr();U=U.redIAdd(U);var at=this.curve._mulA(et),V=this.x.redAdd(this.y).redSqr().redISub(et).redISub(X),$=at.redAdd(X),H=$.redSub(U),G=at.redSub(X),J=V.redMul(H),z=$.redMul(G),nt=V.redMul(G),Q=H.redMul($);return this.curve.point(J,z,Q,nt)},Y.prototype._projDbl=function(){var at,V,$,H,G,J,et=this.x.redAdd(this.y).redSqr(),X=this.x.redSqr(),U=this.y.redSqr();if(this.curve.twisted){var z=(H=this.curve._mulA(X)).redAdd(U);this.zOne?(at=et.redSub(X).redSub(U).redMul(z.redSub(this.curve.two)),V=z.redMul(H.redSub(U)),$=z.redSqr().redSub(z).redSub(z)):(G=this.z.redSqr(),J=z.redSub(G).redISub(G),at=et.redSub(X).redISub(U).redMul(J),V=z.redMul(H.redSub(U)),$=z.redMul(J))}else H=X.redAdd(U),G=this.curve._mulC(this.z).redSqr(),J=H.redSub(G).redSub(G),at=this.curve._mulC(et.redISub(H)).redMul(J),V=this.curve._mulC(H).redMul(X.redISub(U)),$=H.redMul(J);return this.curve.point(at,V,$)},Y.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Y.prototype._extAdd=function(et){var X=this.y.redSub(this.x).redMul(et.y.redSub(et.x)),U=this.y.redAdd(this.x).redMul(et.y.redAdd(et.x)),at=this.t.redMul(this.curve.dd).redMul(et.t),V=this.z.redMul(et.z.redAdd(et.z)),$=U.redSub(X),H=V.redSub(at),G=V.redAdd(at),J=U.redAdd(X),z=$.redMul(H),nt=G.redMul(J),Q=$.redMul(J),lt=H.redMul(G);return this.curve.point(z,nt,lt,Q)},Y.prototype._projAdd=function(et){var nt,Q,X=this.z.redMul(et.z),U=X.redSqr(),at=this.x.redMul(et.x),V=this.y.redMul(et.y),$=this.curve.d.redMul(at).redMul(V),H=U.redSub($),G=U.redAdd($),J=this.x.redAdd(this.y).redMul(et.x.redAdd(et.y)).redISub(at).redISub(V),z=X.redMul(H).redMul(J);return this.curve.twisted?(nt=X.redMul(G).redMul(V.redSub(this.curve._mulA(at))),Q=H.redMul(G)):(nt=X.redMul(G).redMul(V.redSub(at)),Q=this.curve._mulC(H).redMul(G)),this.curve.point(z,nt,Q)},Y.prototype.add=function(et){return this.isInfinity()?et:et.isInfinity()?this:this.curve.extended?this._extAdd(et):this._projAdd(et)},Y.prototype.mul=function(et){return this._hasDoubles(et)?this.curve._fixedNafMul(this,et):this.curve._wnafMul(this,et)},Y.prototype.mulAdd=function(et,X,U){return this.curve._wnafMulAdd(1,[this,X],[et,U],2,!1)},Y.prototype.jmulAdd=function(et,X,U){return this.curve._wnafMulAdd(1,[this,X],[et,U],2,!0)},Y.prototype.normalize=function(){if(this.zOne)return this;var et=this.z.redInvm();return this.x=this.x.redMul(et),this.y=this.y.redMul(et),this.t&&(this.t=this.t.redMul(et)),this.z=this.curve.one,this.zOne=!0,this},Y.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Y.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Y.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Y.prototype.eq=function(et){return this===et||0===this.getX().cmp(et.getX())&&0===this.getY().cmp(et.getY())},Y.prototype.eqXToP=function(et){var X=et.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(X))return!0;for(var U=et.clone(),at=this.curve.redN.redMul(this.z);;){if(U.iadd(this.curve.n),U.cmp(this.curve.p)>=0)return!1;if(X.redIAdd(at),0===this.x.cmp(X))return!0}},Y.prototype.toP=Y.prototype.normalize,Y.prototype.mixedAdd=Y.prototype.add},2333:(_e,st,Ft)=>{"use strict";var zt=st;zt.base=Ft(6462),zt.short=Ft(5786),zt.mont=Ft(9107),zt.edwards=Ft(5837)},9107:(_e,st,Ft)=>{"use strict";var zt=Ft(9631),Kt=Ft(3516),ft=Ft(6462),dt=Ft(5685);function E(Y){ft.call(this,"mont",Y),this.a=new zt(Y.a,16).toRed(this.red),this.b=new zt(Y.b,16).toRed(this.red),this.i4=new zt(4).toRed(this.red).redInvm(),this.two=new zt(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function K(Y,ct,et){ft.BasePoint.call(this,Y,"projective"),null===ct&&null===et?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new zt(ct,16),this.z=new zt(et,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Kt(E,ft),_e.exports=E,E.prototype.validate=function(ct){var et=ct.normalize().x,X=et.redSqr(),U=X.redMul(et).redAdd(X.redMul(this.a)).redAdd(et);return 0===U.redSqrt().redSqr().cmp(U)},Kt(K,ft.BasePoint),E.prototype.decodePoint=function(ct,et){return this.point(dt.toArray(ct,et),1)},E.prototype.point=function(ct,et){return new K(this,ct,et)},E.prototype.pointFromJSON=function(ct){return K.fromJSON(this,ct)},K.prototype.precompute=function(){},K.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},K.fromJSON=function(ct,et){return new K(ct,et[0],et[1]||ct.one)},K.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},K.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},K.prototype.dbl=function(){var et=this.x.redAdd(this.z).redSqr(),U=this.x.redSub(this.z).redSqr(),at=et.redSub(U),V=et.redMul(U),$=at.redMul(U.redAdd(this.curve.a24.redMul(at)));return this.curve.point(V,$)},K.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},K.prototype.diffAdd=function(ct,et){var X=this.x.redAdd(this.z),U=this.x.redSub(this.z),at=ct.x.redAdd(ct.z),$=ct.x.redSub(ct.z).redMul(X),H=at.redMul(U),G=et.z.redMul($.redAdd(H).redSqr()),J=et.x.redMul($.redISub(H).redSqr());return this.curve.point(G,J)},K.prototype.mul=function(ct){for(var et=ct.clone(),X=this,U=this.curve.point(null,null),V=[];0!==et.cmpn(0);et.iushrn(1))V.push(et.andln(1));for(var $=V.length-1;$>=0;$--)0===V[$]?(X=X.diffAdd(U,this),U=U.dbl()):(U=X.diffAdd(U,this),X=X.dbl());return U},K.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},K.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},K.prototype.eq=function(ct){return 0===this.getX().cmp(ct.getX())},K.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},K.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},5786:(_e,st,Ft)=>{"use strict";var zt=Ft(5685),Kt=Ft(9631),ft=Ft(3516),dt=Ft(6462),E=zt.assert;function K(et){dt.call(this,"short",et),this.a=new Kt(et.a,16).toRed(this.red),this.b=new Kt(et.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(et),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function Y(et,X,U,at){dt.BasePoint.call(this,et,"affine"),null===X&&null===U?(this.x=null,this.y=null,this.inf=!0):(this.x=new Kt(X,16),this.y=new Kt(U,16),at&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function ct(et,X,U,at){dt.BasePoint.call(this,et,"jacobian"),null===X&&null===U&&null===at?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Kt(0)):(this.x=new Kt(X,16),this.y=new Kt(U,16),this.z=new Kt(at,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}ft(K,dt),_e.exports=K,K.prototype._getEndomorphism=function(X){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var U,at;if(X.beta)U=new Kt(X.beta,16).toRed(this.red);else{var V=this._getEndoRoots(this.p);U=(U=V[0].cmp(V[1])<0?V[0]:V[1]).toRed(this.red)}if(X.lambda)at=new Kt(X.lambda,16);else{var $=this._getEndoRoots(this.n);0===this.g.mul($[0]).x.cmp(this.g.x.redMul(U))?at=$[0]:E(0===this.g.mul(at=$[1]).x.cmp(this.g.x.redMul(U)))}return{beta:U,lambda:at,basis:X.basis?X.basis.map(function(G){return{a:new Kt(G.a,16),b:new Kt(G.b,16)}}):this._getEndoBasis(at)}}},K.prototype._getEndoRoots=function(X){var U=X===this.p?this.red:Kt.mont(X),at=new Kt(2).toRed(U).redInvm(),V=at.redNeg(),$=new Kt(3).toRed(U).redNeg().redSqrt().redMul(at);return[V.redAdd($).fromRed(),V.redSub($).fromRed()]},K.prototype._getEndoBasis=function(X){for(var z,nt,Q,lt,_t,Ct,kt,St,R,U=this.n.ushrn(Math.floor(this.n.bitLength()/2)),at=X,V=this.n.clone(),$=new Kt(1),H=new Kt(0),G=new Kt(0),J=new Kt(1),Et=0;0!==at.cmpn(0);){var u=V.div(at);St=V.sub(u.mul(at)),R=G.sub(u.mul($));var m=J.sub(u.mul(H));if(!Q&&St.cmp(U)<0)z=kt.neg(),nt=$,Q=St.neg(),lt=R;else if(Q&&2==++Et)break;kt=St,V=at,at=St,G=$,$=R,J=H,H=m}_t=St.neg(),Ct=R;var y=Q.sqr().add(lt.sqr());return _t.sqr().add(Ct.sqr()).cmp(y)>=0&&(_t=z,Ct=nt),Q.negative&&(Q=Q.neg(),lt=lt.neg()),_t.negative&&(_t=_t.neg(),Ct=Ct.neg()),[{a:Q,b:lt},{a:_t,b:Ct}]},K.prototype._endoSplit=function(X){var U=this.endo.basis,at=U[0],V=U[1],$=V.b.mul(X).divRound(this.n),H=at.b.neg().mul(X).divRound(this.n),G=$.mul(at.a),J=H.mul(V.a),z=$.mul(at.b),nt=H.mul(V.b);return{k1:X.sub(G).sub(J),k2:z.add(nt).neg()}},K.prototype.pointFromX=function(X,U){(X=new Kt(X,16)).red||(X=X.toRed(this.red));var at=X.redSqr().redMul(X).redIAdd(X.redMul(this.a)).redIAdd(this.b),V=at.redSqrt();if(0!==V.redSqr().redSub(at).cmp(this.zero))throw new Error("invalid point");var $=V.fromRed().isOdd();return(U&&!$||!U&&$)&&(V=V.redNeg()),this.point(X,V)},K.prototype.validate=function(X){if(X.inf)return!0;var U=X.x,at=X.y,V=this.a.redMul(U),$=U.redSqr().redMul(U).redIAdd(V).redIAdd(this.b);return 0===at.redSqr().redISub($).cmpn(0)},K.prototype._endoWnafMulAdd=function(X,U,at){for(var V=this._endoWnafT1,$=this._endoWnafT2,H=0;H<X.length;H++){var G=this._endoSplit(U[H]),J=X[H],z=J._getBeta();G.k1.negative&&(G.k1.ineg(),J=J.neg(!0)),G.k2.negative&&(G.k2.ineg(),z=z.neg(!0)),V[2*H]=J,V[2*H+1]=z,$[2*H]=G.k1,$[2*H+1]=G.k2}for(var nt=this._wnafMulAdd(1,V,$,2*H,at),Q=0;Q<2*H;Q++)V[Q]=null,$[Q]=null;return nt},ft(Y,dt.BasePoint),K.prototype.point=function(X,U,at){return new Y(this,X,U,at)},K.prototype.pointFromJSON=function(X,U){return Y.fromJSON(this,X,U)},Y.prototype._getBeta=function(){if(this.curve.endo){var X=this.precomputed;if(X&&X.beta)return X.beta;var U=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(X){var at=this.curve,V=function($){return at.point($.x.redMul(at.endo.beta),$.y)};X.beta=U,U.precomputed={beta:null,naf:X.naf&&{wnd:X.naf.wnd,points:X.naf.points.map(V)},doubles:X.doubles&&{step:X.doubles.step,points:X.doubles.points.map(V)}}}return U}},Y.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Y.fromJSON=function(X,U,at){"string"==typeof U&&(U=JSON.parse(U));var V=X.point(U[0],U[1],at);if(!U[2])return V;function $(G){return X.point(G[0],G[1],at)}var H=U[2];return V.precomputed={beta:null,doubles:H.doubles&&{step:H.doubles.step,points:[V].concat(H.doubles.points.map($))},naf:H.naf&&{wnd:H.naf.wnd,points:[V].concat(H.naf.points.map($))}},V},Y.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Y.prototype.isInfinity=function(){return this.inf},Y.prototype.add=function(X){if(this.inf)return X;if(X.inf)return this;if(this.eq(X))return this.dbl();if(this.neg().eq(X))return this.curve.point(null,null);if(0===this.x.cmp(X.x))return this.curve.point(null,null);var U=this.y.redSub(X.y);0!==U.cmpn(0)&&(U=U.redMul(this.x.redSub(X.x).redInvm()));var at=U.redSqr().redISub(this.x).redISub(X.x),V=U.redMul(this.x.redSub(at)).redISub(this.y);return this.curve.point(at,V)},Y.prototype.dbl=function(){if(this.inf)return this;var X=this.y.redAdd(this.y);if(0===X.cmpn(0))return this.curve.point(null,null);var U=this.curve.a,at=this.x.redSqr(),V=X.redInvm(),$=at.redAdd(at).redIAdd(at).redIAdd(U).redMul(V),H=$.redSqr().redISub(this.x.redAdd(this.x)),G=$.redMul(this.x.redSub(H)).redISub(this.y);return this.curve.point(H,G)},Y.prototype.getX=function(){return this.x.fromRed()},Y.prototype.getY=function(){return this.y.fromRed()},Y.prototype.mul=function(X){return X=new Kt(X,16),this.isInfinity()?this:this._hasDoubles(X)?this.curve._fixedNafMul(this,X):this.curve.endo?this.curve._endoWnafMulAdd([this],[X]):this.curve._wnafMul(this,X)},Y.prototype.mulAdd=function(X,U,at){var V=[this,U],$=[X,at];return this.curve.endo?this.curve._endoWnafMulAdd(V,$):this.curve._wnafMulAdd(1,V,$,2)},Y.prototype.jmulAdd=function(X,U,at){var V=[this,U],$=[X,at];return this.curve.endo?this.curve._endoWnafMulAdd(V,$,!0):this.curve._wnafMulAdd(1,V,$,2,!0)},Y.prototype.eq=function(X){return this===X||this.inf===X.inf&&(this.inf||0===this.x.cmp(X.x)&&0===this.y.cmp(X.y))},Y.prototype.neg=function(X){if(this.inf)return this;var U=this.curve.point(this.x,this.y.redNeg());if(X&&this.precomputed){var at=this.precomputed,V=function($){return $.neg()};U.precomputed={naf:at.naf&&{wnd:at.naf.wnd,points:at.naf.points.map(V)},doubles:at.doubles&&{step:at.doubles.step,points:at.doubles.points.map(V)}}}return U},Y.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},ft(ct,dt.BasePoint),K.prototype.jpoint=function(X,U,at){return new ct(this,X,U,at)},ct.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var X=this.z.redInvm(),U=X.redSqr(),at=this.x.redMul(U),V=this.y.redMul(U).redMul(X);return this.curve.point(at,V)},ct.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},ct.prototype.add=function(X){if(this.isInfinity())return X;if(X.isInfinity())return this;var U=X.z.redSqr(),at=this.z.redSqr(),V=this.x.redMul(U),$=X.x.redMul(at),H=this.y.redMul(U.redMul(X.z)),G=X.y.redMul(at.redMul(this.z)),J=V.redSub($),z=H.redSub(G);if(0===J.cmpn(0))return 0!==z.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var nt=J.redSqr(),Q=nt.redMul(J),lt=V.redMul(nt),_t=z.redSqr().redIAdd(Q).redISub(lt).redISub(lt),Ct=z.redMul(lt.redISub(_t)).redISub(H.redMul(Q)),kt=this.z.redMul(X.z).redMul(J);return this.curve.jpoint(_t,Ct,kt)},ct.prototype.mixedAdd=function(X){if(this.isInfinity())return X.toJ();if(X.isInfinity())return this;var U=this.z.redSqr(),at=this.x,V=X.x.redMul(U),$=this.y,H=X.y.redMul(U).redMul(this.z),G=at.redSub(V),J=$.redSub(H);if(0===G.cmpn(0))return 0!==J.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var z=G.redSqr(),nt=z.redMul(G),Q=at.redMul(z),lt=J.redSqr().redIAdd(nt).redISub(Q).redISub(Q),_t=J.redMul(Q.redISub(lt)).redISub($.redMul(nt)),Ct=this.z.redMul(G);return this.curve.jpoint(lt,_t,Ct)},ct.prototype.dblp=function(X){if(0===X)return this;if(this.isInfinity())return this;if(!X)return this.dbl();var U;if(this.curve.zeroA||this.curve.threeA){var at=this;for(U=0;U<X;U++)at=at.dbl();return at}var V=this.curve.a,$=this.curve.tinv,H=this.x,G=this.y,J=this.z,z=J.redSqr().redSqr(),nt=G.redAdd(G);for(U=0;U<X;U++){var Q=H.redSqr(),lt=nt.redSqr(),_t=lt.redSqr(),Ct=Q.redAdd(Q).redIAdd(Q).redIAdd(V.redMul(z)),kt=H.redMul(lt),Et=Ct.redSqr().redISub(kt.redAdd(kt)),St=kt.redISub(Et),R=Ct.redMul(St);R=R.redIAdd(R).redISub(_t);var u=nt.redMul(J);U+1<X&&(z=z.redMul(_t)),H=Et,J=u,nt=R}return this.curve.jpoint(H,nt.redMul($),J)},ct.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},ct.prototype._zeroDbl=function(){var X,U,at;if(this.zOne){var V=this.x.redSqr(),$=this.y.redSqr(),H=$.redSqr(),G=this.x.redAdd($).redSqr().redISub(V).redISub(H);G=G.redIAdd(G);var J=V.redAdd(V).redIAdd(V),z=J.redSqr().redISub(G).redISub(G),nt=H.redIAdd(H);nt=(nt=nt.redIAdd(nt)).redIAdd(nt),X=z,U=J.redMul(G.redISub(z)).redISub(nt),at=this.y.redAdd(this.y)}else{var Q=this.x.redSqr(),lt=this.y.redSqr(),_t=lt.redSqr(),Ct=this.x.redAdd(lt).redSqr().redISub(Q).redISub(_t);Ct=Ct.redIAdd(Ct);var kt=Q.redAdd(Q).redIAdd(Q),Et=kt.redSqr(),St=_t.redIAdd(_t);St=(St=St.redIAdd(St)).redIAdd(St),X=Et.redISub(Ct).redISub(Ct),U=kt.redMul(Ct.redISub(X)).redISub(St),at=(at=this.y.redMul(this.z)).redIAdd(at)}return this.curve.jpoint(X,U,at)},ct.prototype._threeDbl=function(){var X,U,at;if(this.zOne){var V=this.x.redSqr(),$=this.y.redSqr(),H=$.redSqr(),G=this.x.redAdd($).redSqr().redISub(V).redISub(H);G=G.redIAdd(G);var J=V.redAdd(V).redIAdd(V).redIAdd(this.curve.a),z=J.redSqr().redISub(G).redISub(G);X=z;var nt=H.redIAdd(H);nt=(nt=nt.redIAdd(nt)).redIAdd(nt),U=J.redMul(G.redISub(z)).redISub(nt),at=this.y.redAdd(this.y)}else{var Q=this.z.redSqr(),lt=this.y.redSqr(),_t=this.x.redMul(lt),Ct=this.x.redSub(Q).redMul(this.x.redAdd(Q));Ct=Ct.redAdd(Ct).redIAdd(Ct);var kt=_t.redIAdd(_t),Et=(kt=kt.redIAdd(kt)).redAdd(kt);X=Ct.redSqr().redISub(Et),at=this.y.redAdd(this.z).redSqr().redISub(lt).redISub(Q);var St=lt.redSqr();St=(St=(St=St.redIAdd(St)).redIAdd(St)).redIAdd(St),U=Ct.redMul(kt.redISub(X)).redISub(St)}return this.curve.jpoint(X,U,at)},ct.prototype._dbl=function(){var X=this.curve.a,U=this.x,at=this.y,V=this.z,$=V.redSqr().redSqr(),H=U.redSqr(),G=at.redSqr(),J=H.redAdd(H).redIAdd(H).redIAdd(X.redMul($)),z=U.redAdd(U),nt=(z=z.redIAdd(z)).redMul(G),Q=J.redSqr().redISub(nt.redAdd(nt)),lt=nt.redISub(Q),_t=G.redSqr();_t=(_t=(_t=_t.redIAdd(_t)).redIAdd(_t)).redIAdd(_t);var Ct=J.redMul(lt).redISub(_t),kt=at.redAdd(at).redMul(V);return this.curve.jpoint(Q,Ct,kt)},ct.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var X=this.x.redSqr(),U=this.y.redSqr(),at=this.z.redSqr(),V=U.redSqr(),$=X.redAdd(X).redIAdd(X),H=$.redSqr(),G=this.x.redAdd(U).redSqr().redISub(X).redISub(V),J=(G=(G=(G=G.redIAdd(G)).redAdd(G).redIAdd(G)).redISub(H)).redSqr(),z=V.redIAdd(V);z=(z=(z=z.redIAdd(z)).redIAdd(z)).redIAdd(z);var nt=$.redIAdd(G).redSqr().redISub(H).redISub(J).redISub(z),Q=U.redMul(nt);Q=(Q=Q.redIAdd(Q)).redIAdd(Q);var lt=this.x.redMul(J).redISub(Q);lt=(lt=lt.redIAdd(lt)).redIAdd(lt);var _t=this.y.redMul(nt.redMul(z.redISub(nt)).redISub(G.redMul(J)));_t=(_t=(_t=_t.redIAdd(_t)).redIAdd(_t)).redIAdd(_t);var Ct=this.z.redAdd(G).redSqr().redISub(at).redISub(J);return this.curve.jpoint(lt,_t,Ct)},ct.prototype.mul=function(X,U){return X=new Kt(X,U),this.curve._wnafMul(this,X)},ct.prototype.eq=function(X){if("affine"===X.type)return this.eq(X.toJ());if(this===X)return!0;var U=this.z.redSqr(),at=X.z.redSqr();if(0!==this.x.redMul(at).redISub(X.x.redMul(U)).cmpn(0))return!1;var V=U.redMul(this.z),$=at.redMul(X.z);return 0===this.y.redMul($).redISub(X.y.redMul(V)).cmpn(0)},ct.prototype.eqXToP=function(X){var U=this.z.redSqr(),at=X.toRed(this.curve.red).redMul(U);if(0===this.x.cmp(at))return!0;for(var V=X.clone(),$=this.curve.redN.redMul(U);;){if(V.iadd(this.curve.n),V.cmp(this.curve.p)>=0)return!1;if(at.redIAdd($),0===this.x.cmp(at))return!0}},ct.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},ct.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},2960:(_e,st,Ft)=>{"use strict";var ct,zt=st,Kt=Ft(4658),ft=Ft(2333),E=Ft(5685).assert;function K(et){this.curve="short"===et.type?new ft.short(et):"edwards"===et.type?new ft.edwards(et):new ft.mont(et),this.g=this.curve.g,this.n=this.curve.n,this.hash=et.hash,E(this.g.validate(),"Invalid curve"),E(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function Y(et,X){Object.defineProperty(zt,et,{configurable:!0,enumerable:!0,get:function(){var U=new K(X);return Object.defineProperty(zt,et,{configurable:!0,enumerable:!0,value:U}),U}})}zt.PresetCurve=K,Y("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Kt.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),Y("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Kt.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),Y("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Kt.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),Y("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Kt.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),Y("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Kt.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),Y("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Kt.sha256,gRed:!1,g:["9"]}),Y("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Kt.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{ct=Ft(1865)}catch(et){ct=void 0}Y("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Kt.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",ct]})},4590:(_e,st,Ft)=>{"use strict";var zt=Ft(9631),Kt=Ft(1883),ft=Ft(5685),dt=Ft(2960),E=Ft(3550),K=ft.assert,Y=Ft(8668),ct=Ft(7285);function et(X){if(!(this instanceof et))return new et(X);"string"==typeof X&&(K(Object.prototype.hasOwnProperty.call(dt,X),"Unknown curve "+X),X=dt[X]),X instanceof dt.PresetCurve&&(X={curve:X}),this.curve=X.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=X.curve.g,this.g.precompute(X.curve.n.bitLength()+1),this.hash=X.hash||X.curve.hash}_e.exports=et,et.prototype.keyPair=function(U){return new Y(this,U)},et.prototype.keyFromPrivate=function(U,at){return Y.fromPrivate(this,U,at)},et.prototype.keyFromPublic=function(U,at){return Y.fromPublic(this,U,at)},et.prototype.genKeyPair=function(U){U||(U={});for(var at=new Kt({hash:this.hash,pers:U.pers,persEnc:U.persEnc||"utf8",entropy:U.entropy||E(this.hash.hmacStrength),entropyEnc:U.entropy&&U.entropyEnc||"utf8",nonce:this.n.toArray()}),V=this.n.byteLength(),$=this.n.sub(new zt(2));;){var H=new zt(at.generate(V));if(!(H.cmp($)>0))return H.iaddn(1),this.keyFromPrivate(H)}},et.prototype._truncateToN=function(U,at){var V=8*U.byteLength()-this.n.bitLength();return V>0&&(U=U.ushrn(V)),!at&&U.cmp(this.n)>=0?U.sub(this.n):U},et.prototype.sign=function(U,at,V,$){"object"==typeof V&&($=V,V=null),$||($={}),at=this.keyFromPrivate(at,V),U=this._truncateToN(new zt(U,16));for(var H=this.n.byteLength(),G=at.getPrivate().toArray("be",H),J=U.toArray("be",H),z=new Kt({hash:this.hash,entropy:G,nonce:J,pers:$.pers,persEnc:$.persEnc||"utf8"}),nt=this.n.sub(new zt(1)),Q=0;;Q++){var lt=$.k?$.k(Q):new zt(z.generate(this.n.byteLength()));if(!((lt=this._truncateToN(lt,!0)).cmpn(1)<=0||lt.cmp(nt)>=0)){var _t=this.g.mul(lt);if(!_t.isInfinity()){var Ct=_t.getX(),kt=Ct.umod(this.n);if(0!==kt.cmpn(0)){var Et=lt.invm(this.n).mul(kt.mul(at.getPrivate()).iadd(U));if(0!==(Et=Et.umod(this.n)).cmpn(0)){var St=(_t.getY().isOdd()?1:0)|(0!==Ct.cmp(kt)?2:0);return $.canonical&&Et.cmp(this.nh)>0&&(Et=this.n.sub(Et),St^=1),new ct({r:kt,s:Et,recoveryParam:St})}}}}}},et.prototype.verify=function(U,at,V,$){U=this._truncateToN(new zt(U,16)),V=this.keyFromPublic(V,$);var H=(at=new ct(at,"hex")).r,G=at.s;if(H.cmpn(1)<0||H.cmp(this.n)>=0||G.cmpn(1)<0||G.cmp(this.n)>=0)return!1;var Q,J=G.invm(this.n),z=J.mul(U).umod(this.n),nt=J.mul(H).umod(this.n);return this.curve._maxwellTrick?!(Q=this.g.jmulAdd(z,V.getPublic(),nt)).isInfinity()&&Q.eqXToP(H):!(Q=this.g.mulAdd(z,V.getPublic(),nt)).isInfinity()&&0===Q.getX().umod(this.n).cmp(H)},et.prototype.recoverPubKey=function(X,U,at,V){K((3&at)===at,"The recovery param is more than two bits"),U=new ct(U,V);var $=this.n,H=new zt(X),G=U.r,J=U.s,z=1&at,nt=at>>1;if(G.cmp(this.curve.p.umod(this.curve.n))>=0&&nt)throw new Error("Unable to find sencond key candinate");G=this.curve.pointFromX(nt?G.add(this.curve.n):G,z);var Q=U.r.invm($),lt=$.sub(H).mul(Q).umod($),_t=J.mul(Q).umod($);return this.g.mulAdd(lt,G,_t)},et.prototype.getKeyRecoveryParam=function(X,U,at,V){if(null!==(U=new ct(U,V)).recoveryParam)return U.recoveryParam;for(var $=0;$<4;$++){var H;try{H=this.recoverPubKey(X,U,$)}catch(G){continue}if(H.eq(at))return $}throw new Error("Unable to find valid recovery factor")}},8668:(_e,st,Ft)=>{"use strict";var zt=Ft(9631),ft=Ft(5685).assert;function dt(E,K){this.ec=E,this.priv=null,this.pub=null,K.priv&&this._importPrivate(K.priv,K.privEnc),K.pub&&this._importPublic(K.pub,K.pubEnc)}_e.exports=dt,dt.fromPublic=function(K,Y,ct){return Y instanceof dt?Y:new dt(K,{pub:Y,pubEnc:ct})},dt.fromPrivate=function(K,Y,ct){return Y instanceof dt?Y:new dt(K,{priv:Y,privEnc:ct})},dt.prototype.validate=function(){var K=this.getPublic();return K.isInfinity()?{result:!1,reason:"Invalid public key"}:K.validate()?K.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},dt.prototype.getPublic=function(K,Y){return"string"==typeof K&&(Y=K,K=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),Y?this.pub.encode(Y,K):this.pub},dt.prototype.getPrivate=function(K){return"hex"===K?this.priv.toString(16,2):this.priv},dt.prototype._importPrivate=function(K,Y){this.priv=new zt(K,Y||16),this.priv=this.priv.umod(this.ec.curve.n)},dt.prototype._importPublic=function(K,Y){if(K.x||K.y)return"mont"===this.ec.curve.type?ft(K.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&ft(K.x&&K.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(K.x,K.y));this.pub=this.ec.curve.decodePoint(K,Y)},dt.prototype.derive=function(K){return K.validate()||ft(K.validate(),"public point not validated"),K.mul(this.priv).getX()},dt.prototype.sign=function(K,Y,ct){return this.ec.sign(K,this,Y,ct)},dt.prototype.verify=function(K,Y){return this.ec.verify(K,Y,this)},dt.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},7285:(_e,st,Ft)=>{"use strict";var zt=Ft(9631),Kt=Ft(5685),ft=Kt.assert;function dt(et,X){if(et instanceof dt)return et;this._importDER(et,X)||(ft(et.r&&et.s,"Signature without r or s"),this.r=new zt(et.r,16),this.s=new zt(et.s,16),this.recoveryParam=void 0===et.recoveryParam?null:et.recoveryParam)}function E(){this.place=0}function K(et,X){var U=et[X.place++];if(!(128&U))return U;var at=15&U;if(0===at||at>4)return!1;for(var V=0,$=0,H=X.place;$<at;$++,H++)V<<=8,V|=et[H],V>>>=0;return!(V<=127)&&(X.place=H,V)}function Y(et){for(var X=0,U=et.length-1;!et[X]&&!(128&et[X+1])&&X<U;)X++;return 0===X?et:et.slice(X)}function ct(et,X){if(X<128)et.push(X);else{var U=1+(Math.log(X)/Math.LN2>>>3);for(et.push(128|U);--U;)et.push(X>>>(U<<3)&255);et.push(X)}}_e.exports=dt,dt.prototype._importDER=function(X,U){X=Kt.toArray(X,U);var at=new E;if(48!==X[at.place++])return!1;var V=K(X,at);if(!1===V||V+at.place!==X.length||2!==X[at.place++])return!1;var $=K(X,at);if(!1===$)return!1;var H=X.slice(at.place,$+at.place);if(at.place+=$,2!==X[at.place++])return!1;var G=K(X,at);if(!1===G||X.length!==G+at.place)return!1;var J=X.slice(at.place,G+at.place);if(0===H[0]){if(!(128&H[1]))return!1;H=H.slice(1)}if(0===J[0]){if(!(128&J[1]))return!1;J=J.slice(1)}return this.r=new zt(H),this.s=new zt(J),this.recoveryParam=null,!0},dt.prototype.toDER=function(X){var U=this.r.toArray(),at=this.s.toArray();for(128&U[0]&&(U=[0].concat(U)),128&at[0]&&(at=[0].concat(at)),U=Y(U),at=Y(at);!(at[0]||128&at[1]);)at=at.slice(1);var V=[2];ct(V,U.length),(V=V.concat(U)).push(2),ct(V,at.length);var $=V.concat(at),H=[48];return ct(H,$.length),H=H.concat($),Kt.encode(H,X)}},876:(_e,st,Ft)=>{"use strict";var zt=Ft(4658),Kt=Ft(2960),ft=Ft(5685),dt=ft.assert,E=ft.parseBytes,K=Ft(9517),Y=Ft(8335);function ct(et){if(dt("ed25519"===et,"only tested with ed25519 so far"),!(this instanceof ct))return new ct(et);this.curve=et=Kt[et].curve,this.g=et.g,this.g.precompute(et.n.bitLength()+1),this.pointClass=et.point().constructor,this.encodingLength=Math.ceil(et.n.bitLength()/8),this.hash=zt.sha512}_e.exports=ct,ct.prototype.sign=function(X,U){X=E(X);var at=this.keyFromSecret(U),V=this.hashInt(at.messagePrefix(),X),$=this.g.mul(V),H=this.encodePoint($),G=this.hashInt(H,at.pubBytes(),X).mul(at.priv()),J=V.add(G).umod(this.curve.n);return this.makeSignature({R:$,S:J,Rencoded:H})},ct.prototype.verify=function(X,U,at){X=E(X),U=this.makeSignature(U);var V=this.keyFromPublic(at),$=this.hashInt(U.Rencoded(),V.pubBytes(),X),H=this.g.mul(U.S());return U.R().add(V.pub().mul($)).eq(H)},ct.prototype.hashInt=function(){for(var X=this.hash(),U=0;U<arguments.length;U++)X.update(arguments[U]);return ft.intFromLE(X.digest()).umod(this.curve.n)},ct.prototype.keyFromPublic=function(X){return K.fromPublic(this,X)},ct.prototype.keyFromSecret=function(X){return K.fromSecret(this,X)},ct.prototype.makeSignature=function(X){return X instanceof Y?X:new Y(this,X)},ct.prototype.encodePoint=function(X){var U=X.getY().toArray("le",this.encodingLength);return U[this.encodingLength-1]|=X.getX().isOdd()?128:0,U},ct.prototype.decodePoint=function(X){var U=(X=ft.parseBytes(X)).length-1,at=X.slice(0,U).concat(-129&X[U]),V=0!=(128&X[U]),$=ft.intFromLE(at);return this.curve.pointFromY($,V)},ct.prototype.encodeInt=function(X){return X.toArray("le",this.encodingLength)},ct.prototype.decodeInt=function(X){return ft.intFromLE(X)},ct.prototype.isPoint=function(X){return X instanceof this.pointClass}},9517:(_e,st,Ft)=>{"use strict";var zt=Ft(5685),Kt=zt.assert,ft=zt.parseBytes,dt=zt.cachedProperty;function E(K,Y){this.eddsa=K,this._secret=ft(Y.secret),K.isPoint(Y.pub)?this._pub=Y.pub:this._pubBytes=ft(Y.pub)}E.fromPublic=function(Y,ct){return ct instanceof E?ct:new E(Y,{pub:ct})},E.fromSecret=function(Y,ct){return ct instanceof E?ct:new E(Y,{secret:ct})},E.prototype.secret=function(){return this._secret},dt(E,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),dt(E,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),dt(E,"privBytes",function(){var Y=this.eddsa,ct=this.hash(),et=Y.encodingLength-1,X=ct.slice(0,Y.encodingLength);return X[0]&=248,X[et]&=127,X[et]|=64,X}),dt(E,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),dt(E,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),dt(E,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),E.prototype.sign=function(Y){return Kt(this._secret,"KeyPair can only verify"),this.eddsa.sign(Y,this)},E.prototype.verify=function(Y,ct){return this.eddsa.verify(Y,ct,this)},E.prototype.getSecret=function(Y){return Kt(this._secret,"KeyPair is public only"),zt.encode(this.secret(),Y)},E.prototype.getPublic=function(Y){return zt.encode(this.pubBytes(),Y)},_e.exports=E},8335:(_e,st,Ft)=>{"use strict";var zt=Ft(9631),Kt=Ft(5685),ft=Kt.assert,dt=Kt.cachedProperty,E=Kt.parseBytes;function K(Y,ct){this.eddsa=Y,"object"!=typeof ct&&(ct=E(ct)),Array.isArray(ct)&&(ct={R:ct.slice(0,Y.encodingLength),S:ct.slice(Y.encodingLength)}),ft(ct.R&&ct.S,"Signature without R or S"),Y.isPoint(ct.R)&&(this._R=ct.R),ct.S instanceof zt&&(this._S=ct.S),this._Rencoded=Array.isArray(ct.R)?ct.R:ct.Rencoded,this._Sencoded=Array.isArray(ct.S)?ct.S:ct.Sencoded}dt(K,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),dt(K,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),dt(K,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),dt(K,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),K.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},K.prototype.toHex=function(){return Kt.encode(this.toBytes(),"hex").toUpperCase()},_e.exports=K},1865:_e=>{_e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},5685:(_e,st,Ft)=>{"use strict";var zt=st,Kt=Ft(9631),ft=Ft(4725),dt=Ft(1171);zt.assert=ft,zt.toArray=dt.toArray,zt.zero2=dt.zero2,zt.toHex=dt.toHex,zt.encode=dt.encode,zt.getNAF=function(X,U,at){var V=new Array(Math.max(X.bitLength(),at)+1);V.fill(0);for(var $=1<<U+1,H=X.clone(),G=0;G<V.length;G++){var J,z=H.andln($-1);H.isOdd()?H.isubn(J=z>($>>1)-1?($>>1)-z:z):J=0,V[G]=J,H.iushrn(1)}return V},zt.getJSF=function(X,U){var at=[[],[]];X=X.clone(),U=U.clone();for(var H,V=0,$=0;X.cmpn(-V)>0||U.cmpn(-$)>0;){var z,nt,G=X.andln(3)+V&3,J=U.andln(3)+$&3;3===G&&(G=-1),3===J&&(J=-1),z=0==(1&G)?0:3!=(H=X.andln(7)+V&7)&&5!==H||2!==J?G:-G,at[0].push(z),nt=0==(1&J)?0:3!=(H=U.andln(7)+$&7)&&5!==H||2!==G?J:-J,at[1].push(nt),2*V===z+1&&(V=1-V),2*$===nt+1&&($=1-$),X.iushrn(1),U.iushrn(1)}return at},zt.cachedProperty=function(X,U,at){var V="_"+U;X.prototype[U]=function(){return void 0!==this[V]?this[V]:this[V]=at.call(this)}},zt.parseBytes=function(X){return"string"==typeof X?zt.toArray(X,"hex"):X},zt.intFromLE=function(X){return new Kt(X,"hex","le")}},9631:function(_e,st,Ft){!function(zt,Kt){"use strict";function ft(R,u){if(!R)throw new Error(u||"Assertion failed")}function dt(R,u){R.super_=u;var m=function(){};m.prototype=u.prototype,R.prototype=new m,R.prototype.constructor=R}function E(R,u,m){if(E.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,null!==R&&(("le"===u||"be"===u)&&(m=u,u=10),this._init(R||0,u||10,m||"be"))}var K;"object"==typeof zt?zt.exports=E:Kt.BN=E,E.BN=E,E.wordSize=26;try{K="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:Ft(5568).Buffer}catch(R){}function Y(R,u){var m=R.charCodeAt(u);return m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:m-48&15}function ct(R,u,m){var y=Y(R,m);return m-1>=u&&(y|=Y(R,m-1)<<4),y}function et(R,u,m,y){for(var v=0,M=Math.min(R.length,m),S=u;S<M;S++){var I=R.charCodeAt(S)-48;v*=y,v+=I>=49?I-49+10:I>=17?I-17+10:I}return v}E.isBN=function(u){return u instanceof E||null!==u&&"object"==typeof u&&u.constructor.wordSize===E.wordSize&&Array.isArray(u.words)},E.max=function(u,m){return u.cmp(m)>0?u:m},E.min=function(u,m){return u.cmp(m)<0?u:m},E.prototype._init=function(u,m,y){if("number"==typeof u)return this._initNumber(u,m,y);if("object"==typeof u)return this._initArray(u,m,y);"hex"===m&&(m=16),ft(m===(0|m)&&m>=2&&m<=36);var v=0;"-"===(u=u.toString().replace(/\s+/g,""))[0]&&(v++,this.negative=1),v<u.length&&(16===m?this._parseHex(u,v,y):(this._parseBase(u,m,v),"le"===y&&this._initArray(this.toArray(),m,y)))},E.prototype._initNumber=function(u,m,y){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[67108863&u],this.length=1):u<4503599627370496?(this.words=[67108863&u,u/67108864&67108863],this.length=2):(ft(u<9007199254740992),this.words=[67108863&u,u/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),m,y)},E.prototype._initArray=function(u,m,y){if(ft("number"==typeof u.length),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var M,S,I=0;if("be"===y)for(v=u.length-1,M=0;v>=0;v-=3)this.words[M]|=(S=u[v]|u[v-1]<<8|u[v-2]<<16)<<I&67108863,this.words[M+1]=S>>>26-I&67108863,(I+=24)>=26&&(I-=26,M++);else if("le"===y)for(v=0,M=0;v<u.length;v+=3)this.words[M]|=(S=u[v]|u[v+1]<<8|u[v+2]<<16)<<I&67108863,this.words[M+1]=S>>>26-I&67108863,(I+=24)>=26&&(I-=26,M++);return this.strip()},E.prototype._parseHex=function(u,m,y){this.length=Math.ceil((u.length-m)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var I,M=0,S=0;if("be"===y)for(v=u.length-1;v>=m;v-=2)I=ct(u,m,v)<<M,this.words[S]|=67108863&I,M>=18?(M-=18,this.words[S+=1]|=I>>>26):M+=8;else for(v=(u.length-m)%2==0?m+1:m;v<u.length;v+=2)I=ct(u,m,v)<<M,this.words[S]|=67108863&I,M>=18?(M-=18,this.words[S+=1]|=I>>>26):M+=8;this.strip()},E.prototype._parseBase=function(u,m,y){this.words=[0],this.length=1;for(var v=0,M=1;M<=67108863;M*=m)v++;v--,M=M/m|0;for(var S=u.length-y,I=S%v,C=Math.min(S,S-I)+y,p=0,T=y;T<C;T+=v)p=et(u,T,T+v,m),this.imuln(M),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(0!==I){var it=1;for(p=et(u,T,u.length,m),T=0;T<I;T++)it*=m;this.imuln(it),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this.strip()},E.prototype.copy=function(u){u.words=new Array(this.length);for(var m=0;m<this.length;m++)u.words[m]=this.words[m];u.length=this.length,u.negative=this.negative,u.red=this.red},E.prototype.clone=function(){var u=new E(null);return this.copy(u),u},E.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},E.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},E.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},E.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var X=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],U=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],at=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function $(R,u,m){m.negative=u.negative^R.negative;var y=R.length+u.length|0;m.length=y,y=y-1|0;var v=0|R.words[0],M=0|u.words[0],S=v*M,C=S/67108864|0;m.words[0]=67108863&S;for(var p=1;p<y;p++){for(var T=C>>>26,it=67108863&C,Z=Math.min(p,u.length-1),W=Math.max(0,p-R.length+1);W<=Z;W++)T+=(S=(v=0|R.words[p-W|0])*(M=0|u.words[W])+it)/67108864|0,it=67108863&S;m.words[p]=0|it,C=0|T}return 0!==C?m.words[p]=0|C:m.length--,m.strip()}E.prototype.toString=function(u,m){var y;if(m=0|m||1,16===(u=u||10)||"hex"===u){y="";for(var v=0,M=0,S=0;S<this.length;S++){var I=this.words[S],C=(16777215&(I<<v|M)).toString(16);y=0!=(M=I>>>24-v&16777215)||S!==this.length-1?X[6-C.length]+C+y:C+y,(v+=2)>=26&&(v-=26,S--)}for(0!==M&&(y=M.toString(16)+y);y.length%m!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(u===(0|u)&&u>=2&&u<=36){var p=U[u],T=at[u];y="";var it=this.clone();for(it.negative=0;!it.isZero();){var Z=it.modn(T).toString(u);y=(it=it.idivn(T)).isZero()?Z+y:X[p-Z.length]+Z+y}for(this.isZero()&&(y="0"+y);y.length%m!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}ft(!1,"Base should be between 2 and 36")},E.prototype.toNumber=function(){var u=this.words[0];return 2===this.length?u+=67108864*this.words[1]:3===this.length&&1===this.words[2]?u+=4503599627370496+67108864*this.words[1]:this.length>2&&ft(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-u:u},E.prototype.toJSON=function(){return this.toString(16)},E.prototype.toBuffer=function(u,m){return ft(void 0!==K),this.toArrayLike(K,u,m)},E.prototype.toArray=function(u,m){return this.toArrayLike(Array,u,m)},E.prototype.toArrayLike=function(u,m,y){var v=this.byteLength(),M=y||Math.max(1,v);ft(v<=M,"byte array longer than desired length"),ft(M>0,"Requested array length <= 0"),this.strip();var C,p,S="le"===m,I=new u(M),T=this.clone();if(S){for(p=0;!T.isZero();p++)C=T.andln(255),T.iushrn(8),I[p]=C;for(;p<M;p++)I[p]=0}else{for(p=0;p<M-v;p++)I[p]=0;for(p=0;!T.isZero();p++)C=T.andln(255),T.iushrn(8),I[M-p-1]=C}return I},E.prototype._countBits=Math.clz32?function(u){return 32-Math.clz32(u)}:function(u){var m=u,y=0;return m>=4096&&(y+=13,m>>>=13),m>=64&&(y+=7,m>>>=7),m>=8&&(y+=4,m>>>=4),m>=2&&(y+=2,m>>>=2),y+m},E.prototype._zeroBits=function(u){if(0===u)return 26;var m=u,y=0;return 0==(8191&m)&&(y+=13,m>>>=13),0==(127&m)&&(y+=7,m>>>=7),0==(15&m)&&(y+=4,m>>>=4),0==(3&m)&&(y+=2,m>>>=2),0==(1&m)&&y++,y},E.prototype.bitLength=function(){var m=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+m},E.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,m=0;m<this.length;m++){var y=this._zeroBits(this.words[m]);if(u+=y,26!==y)break}return u},E.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},E.prototype.toTwos=function(u){return 0!==this.negative?this.abs().inotn(u).iaddn(1):this.clone()},E.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},E.prototype.isNeg=function(){return 0!==this.negative},E.prototype.neg=function(){return this.clone().ineg()},E.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},E.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var m=0;m<u.length;m++)this.words[m]=this.words[m]|u.words[m];return this.strip()},E.prototype.ior=function(u){return ft(0==(this.negative|u.negative)),this.iuor(u)},E.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},E.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},E.prototype.iuand=function(u){var m;m=this.length>u.length?u:this;for(var y=0;y<m.length;y++)this.words[y]=this.words[y]&u.words[y];return this.length=m.length,this.strip()},E.prototype.iand=function(u){return ft(0==(this.negative|u.negative)),this.iuand(u)},E.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},E.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},E.prototype.iuxor=function(u){var m,y;this.length>u.length?(m=this,y=u):(m=u,y=this);for(var v=0;v<y.length;v++)this.words[v]=m.words[v]^y.words[v];if(this!==m)for(;v<m.length;v++)this.words[v]=m.words[v];return this.length=m.length,this.strip()},E.prototype.ixor=function(u){return ft(0==(this.negative|u.negative)),this.iuxor(u)},E.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},E.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},E.prototype.inotn=function(u){ft("number"==typeof u&&u>=0);var m=0|Math.ceil(u/26),y=u%26;this._expand(m),y>0&&m--;for(var v=0;v<m;v++)this.words[v]=67108863&~this.words[v];return y>0&&(this.words[v]=~this.words[v]&67108863>>26-y),this.strip()},E.prototype.notn=function(u){return this.clone().inotn(u)},E.prototype.setn=function(u,m){ft("number"==typeof u&&u>=0);var y=u/26|0,v=u%26;return this._expand(y+1),this.words[y]=m?this.words[y]|1<<v:this.words[y]&~(1<<v),this.strip()},E.prototype.iadd=function(u){var m,y,v;if(0!==this.negative&&0===u.negative)return this.negative=0,m=this.isub(u),this.negative^=1,this._normSign();if(0===this.negative&&0!==u.negative)return u.negative=0,m=this.isub(u),u.negative=1,m._normSign();this.length>u.length?(y=this,v=u):(y=u,v=this);for(var M=0,S=0;S<v.length;S++)this.words[S]=67108863&(m=(0|y.words[S])+(0|v.words[S])+M),M=m>>>26;for(;0!==M&&S<y.length;S++)this.words[S]=67108863&(m=(0|y.words[S])+M),M=m>>>26;if(this.length=y.length,0!==M)this.words[this.length]=M,this.length++;else if(y!==this)for(;S<y.length;S++)this.words[S]=y.words[S];return this},E.prototype.add=function(u){var m;return 0!==u.negative&&0===this.negative?(u.negative=0,m=this.sub(u),u.negative^=1,m):0===u.negative&&0!==this.negative?(this.negative=0,m=u.sub(this),this.negative=1,m):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},E.prototype.isub=function(u){if(0!==u.negative){u.negative=0;var m=this.iadd(u);return u.negative=1,m._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var v,M,y=this.cmp(u);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(v=this,M=u):(v=u,M=this);for(var S=0,I=0;I<M.length;I++)S=(m=(0|v.words[I])-(0|M.words[I])+S)>>26,this.words[I]=67108863&m;for(;0!==S&&I<v.length;I++)S=(m=(0|v.words[I])+S)>>26,this.words[I]=67108863&m;if(0===S&&I<v.length&&v!==this)for(;I<v.length;I++)this.words[I]=v.words[I];return this.length=Math.max(this.length,I),v!==this&&(this.negative=1),this.strip()},E.prototype.sub=function(u){return this.clone().isub(u)};var H=function(u,m,y){var C,p,T,v=u.words,M=m.words,S=y.words,I=0,it=0|v[0],Z=8191&it,W=it>>>13,yt=0|v[1],wt=8191&yt,Vt=yt>>>13,Ut=0|v[2],At=8191&Ut,bt=Ut>>>13,qt=0|v[3],Rt=8191&qt,Dt=qt>>>13,Bt=0|v[4],Zt=8191&Bt,Lt=Bt>>>13,Ce=0|v[5],Ht=8191&Ce,me=Ce>>>13,Si=0|v[6],be=8191&Si,de=Si>>>13,je=0|v[7],Yt=8191&je,ee=je>>>13,Le=0|v[8],It=8191&Le,gt=Le>>>13,rt=0|v[9],Qt=8191&rt,ue=rt>>>13,Ze=0|M[0],ve=8191&Ze,Ie=Ze>>>13,on=0|M[1],ni=8191&on,ii=on>>>13,Xi=0|M[2],vi=8191&Xi,_i=Xi>>>13,Ln=0|M[3],Mi=8191&Ln,Ge=Ln>>>13,fn=0|M[4],Ei=8191&fn,Oe=fn>>>13,ai=0|M[5],ke=8191&ai,re=ai>>>13,De=0|M[6],he=8191&De,Se=De>>>13,$e=0|M[7],te=8191&$e,Re=$e>>>13,sn=0|M[8],Qe=8191&sn,di=sn>>>13,Bn=0|M[9],ci=8191&Bn,si=Bn>>>13;y.negative=u.negative^m.negative,y.length=19;var an=(I+(C=Math.imul(Z,ve))|0)+((8191&(p=(p=Math.imul(Z,Ie))+Math.imul(W,ve)|0))<<13)|0;I=((T=Math.imul(W,Ie))+(p>>>13)|0)+(an>>>26)|0,an&=67108863,C=Math.imul(wt,ve),p=(p=Math.imul(wt,Ie))+Math.imul(Vt,ve)|0,T=Math.imul(Vt,Ie);var cn=(I+(C=C+Math.imul(Z,ni)|0)|0)+((8191&(p=(p=p+Math.imul(Z,ii)|0)+Math.imul(W,ni)|0))<<13)|0;I=((T=T+Math.imul(W,ii)|0)+(p>>>13)|0)+(cn>>>26)|0,cn&=67108863,C=Math.imul(At,ve),p=(p=Math.imul(At,Ie))+Math.imul(bt,ve)|0,T=Math.imul(bt,Ie),C=C+Math.imul(wt,ni)|0,p=(p=p+Math.imul(wt,ii)|0)+Math.imul(Vt,ni)|0,T=T+Math.imul(Vt,ii)|0;var Fn=(I+(C=C+Math.imul(Z,vi)|0)|0)+((8191&(p=(p=p+Math.imul(Z,_i)|0)+Math.imul(W,vi)|0))<<13)|0;I=((T=T+Math.imul(W,_i)|0)+(p>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,C=Math.imul(Rt,ve),p=(p=Math.imul(Rt,Ie))+Math.imul(Dt,ve)|0,T=Math.imul(Dt,Ie),C=C+Math.imul(At,ni)|0,p=(p=p+Math.imul(At,ii)|0)+Math.imul(bt,ni)|0,T=T+Math.imul(bt,ii)|0,C=C+Math.imul(wt,vi)|0,p=(p=p+Math.imul(wt,_i)|0)+Math.imul(Vt,vi)|0,T=T+Math.imul(Vt,_i)|0;var Or=(I+(C=C+Math.imul(Z,Mi)|0)|0)+((8191&(p=(p=p+Math.imul(Z,Ge)|0)+Math.imul(W,Mi)|0))<<13)|0;I=((T=T+Math.imul(W,Ge)|0)+(p>>>13)|0)+(Or>>>26)|0,Or&=67108863,C=Math.imul(Zt,ve),p=(p=Math.imul(Zt,Ie))+Math.imul(Lt,ve)|0,T=Math.imul(Lt,Ie),C=C+Math.imul(Rt,ni)|0,p=(p=p+Math.imul(Rt,ii)|0)+Math.imul(Dt,ni)|0,T=T+Math.imul(Dt,ii)|0,C=C+Math.imul(At,vi)|0,p=(p=p+Math.imul(At,_i)|0)+Math.imul(bt,vi)|0,T=T+Math.imul(bt,_i)|0,C=C+Math.imul(wt,Mi)|0,p=(p=p+Math.imul(wt,Ge)|0)+Math.imul(Vt,Mi)|0,T=T+Math.imul(Vt,Ge)|0;var Vn=(I+(C=C+Math.imul(Z,Ei)|0)|0)+((8191&(p=(p=p+Math.imul(Z,Oe)|0)+Math.imul(W,Ei)|0))<<13)|0;I=((T=T+Math.imul(W,Oe)|0)+(p>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,C=Math.imul(Ht,ve),p=(p=Math.imul(Ht,Ie))+Math.imul(me,ve)|0,T=Math.imul(me,Ie),C=C+Math.imul(Zt,ni)|0,p=(p=p+Math.imul(Zt,ii)|0)+Math.imul(Lt,ni)|0,T=T+Math.imul(Lt,ii)|0,C=C+Math.imul(Rt,vi)|0,p=(p=p+Math.imul(Rt,_i)|0)+Math.imul(Dt,vi)|0,T=T+Math.imul(Dt,_i)|0,C=C+Math.imul(At,Mi)|0,p=(p=p+Math.imul(At,Ge)|0)+Math.imul(bt,Mi)|0,T=T+Math.imul(bt,Ge)|0,C=C+Math.imul(wt,Ei)|0,p=(p=p+Math.imul(wt,Oe)|0)+Math.imul(Vt,Ei)|0,T=T+Math.imul(Vt,Oe)|0;var Jn=(I+(C=C+Math.imul(Z,ke)|0)|0)+((8191&(p=(p=p+Math.imul(Z,re)|0)+Math.imul(W,ke)|0))<<13)|0;I=((T=T+Math.imul(W,re)|0)+(p>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,C=Math.imul(be,ve),p=(p=Math.imul(be,Ie))+Math.imul(de,ve)|0,T=Math.imul(de,Ie),C=C+Math.imul(Ht,ni)|0,p=(p=p+Math.imul(Ht,ii)|0)+Math.imul(me,ni)|0,T=T+Math.imul(me,ii)|0,C=C+Math.imul(Zt,vi)|0,p=(p=p+Math.imul(Zt,_i)|0)+Math.imul(Lt,vi)|0,T=T+Math.imul(Lt,_i)|0,C=C+Math.imul(Rt,Mi)|0,p=(p=p+Math.imul(Rt,Ge)|0)+Math.imul(Dt,Mi)|0,T=T+Math.imul(Dt,Ge)|0,C=C+Math.imul(At,Ei)|0,p=(p=p+Math.imul(At,Oe)|0)+Math.imul(bt,Ei)|0,T=T+Math.imul(bt,Oe)|0,C=C+Math.imul(wt,ke)|0,p=(p=p+Math.imul(wt,re)|0)+Math.imul(Vt,ke)|0,T=T+Math.imul(Vt,re)|0;var hn=(I+(C=C+Math.imul(Z,he)|0)|0)+((8191&(p=(p=p+Math.imul(Z,Se)|0)+Math.imul(W,he)|0))<<13)|0;I=((T=T+Math.imul(W,Se)|0)+(p>>>13)|0)+(hn>>>26)|0,hn&=67108863,C=Math.imul(Yt,ve),p=(p=Math.imul(Yt,Ie))+Math.imul(ee,ve)|0,T=Math.imul(ee,Ie),C=C+Math.imul(be,ni)|0,p=(p=p+Math.imul(be,ii)|0)+Math.imul(de,ni)|0,T=T+Math.imul(de,ii)|0,C=C+Math.imul(Ht,vi)|0,p=(p=p+Math.imul(Ht,_i)|0)+Math.imul(me,vi)|0,T=T+Math.imul(me,_i)|0,C=C+Math.imul(Zt,Mi)|0,p=(p=p+Math.imul(Zt,Ge)|0)+Math.imul(Lt,Mi)|0,T=T+Math.imul(Lt,Ge)|0,C=C+Math.imul(Rt,Ei)|0,p=(p=p+Math.imul(Rt,Oe)|0)+Math.imul(Dt,Ei)|0,T=T+Math.imul(Dt,Oe)|0,C=C+Math.imul(At,ke)|0,p=(p=p+Math.imul(At,re)|0)+Math.imul(bt,ke)|0,T=T+Math.imul(bt,re)|0,C=C+Math.imul(wt,he)|0,p=(p=p+Math.imul(wt,Se)|0)+Math.imul(Vt,he)|0,T=T+Math.imul(Vt,Se)|0;var jr=(I+(C=C+Math.imul(Z,te)|0)|0)+((8191&(p=(p=p+Math.imul(Z,Re)|0)+Math.imul(W,te)|0))<<13)|0;I=((T=T+Math.imul(W,Re)|0)+(p>>>13)|0)+(jr>>>26)|0,jr&=67108863,C=Math.imul(It,ve),p=(p=Math.imul(It,Ie))+Math.imul(gt,ve)|0,T=Math.imul(gt,Ie),C=C+Math.imul(Yt,ni)|0,p=(p=p+Math.imul(Yt,ii)|0)+Math.imul(ee,ni)|0,T=T+Math.imul(ee,ii)|0,C=C+Math.imul(be,vi)|0,p=(p=p+Math.imul(be,_i)|0)+Math.imul(de,vi)|0,T=T+Math.imul(de,_i)|0,C=C+Math.imul(Ht,Mi)|0,p=(p=p+Math.imul(Ht,Ge)|0)+Math.imul(me,Mi)|0,T=T+Math.imul(me,Ge)|0,C=C+Math.imul(Zt,Ei)|0,p=(p=p+Math.imul(Zt,Oe)|0)+Math.imul(Lt,Ei)|0,T=T+Math.imul(Lt,Oe)|0,C=C+Math.imul(Rt,ke)|0,p=(p=p+Math.imul(Rt,re)|0)+Math.imul(Dt,ke)|0,T=T+Math.imul(Dt,re)|0,C=C+Math.imul(At,he)|0,p=(p=p+Math.imul(At,Se)|0)+Math.imul(bt,he)|0,T=T+Math.imul(bt,Se)|0,C=C+Math.imul(wt,te)|0,p=(p=p+Math.imul(wt,Re)|0)+Math.imul(Vt,te)|0,T=T+Math.imul(Vt,Re)|0;var wr=(I+(C=C+Math.imul(Z,Qe)|0)|0)+((8191&(p=(p=p+Math.imul(Z,di)|0)+Math.imul(W,Qe)|0))<<13)|0;I=((T=T+Math.imul(W,di)|0)+(p>>>13)|0)+(wr>>>26)|0,wr&=67108863,C=Math.imul(Qt,ve),p=(p=Math.imul(Qt,Ie))+Math.imul(ue,ve)|0,T=Math.imul(ue,Ie),C=C+Math.imul(It,ni)|0,p=(p=p+Math.imul(It,ii)|0)+Math.imul(gt,ni)|0,T=T+Math.imul(gt,ii)|0,C=C+Math.imul(Yt,vi)|0,p=(p=p+Math.imul(Yt,_i)|0)+Math.imul(ee,vi)|0,T=T+Math.imul(ee,_i)|0,C=C+Math.imul(be,Mi)|0,p=(p=p+Math.imul(be,Ge)|0)+Math.imul(de,Mi)|0,T=T+Math.imul(de,Ge)|0,C=C+Math.imul(Ht,Ei)|0,p=(p=p+Math.imul(Ht,Oe)|0)+Math.imul(me,Ei)|0,T=T+Math.imul(me,Oe)|0,C=C+Math.imul(Zt,ke)|0,p=(p=p+Math.imul(Zt,re)|0)+Math.imul(Lt,ke)|0,T=T+Math.imul(Lt,re)|0,C=C+Math.imul(Rt,he)|0,p=(p=p+Math.imul(Rt,Se)|0)+Math.imul(Dt,he)|0,T=T+Math.imul(Dt,Se)|0,C=C+Math.imul(At,te)|0,p=(p=p+Math.imul(At,Re)|0)+Math.imul(bt,te)|0,T=T+Math.imul(bt,Re)|0,C=C+Math.imul(wt,Qe)|0,p=(p=p+Math.imul(wt,di)|0)+Math.imul(Vt,Qe)|0,T=T+Math.imul(Vt,di)|0;var br=(I+(C=C+Math.imul(Z,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Z,si)|0)+Math.imul(W,ci)|0))<<13)|0;I=((T=T+Math.imul(W,si)|0)+(p>>>13)|0)+(br>>>26)|0,br&=67108863,C=Math.imul(Qt,ni),p=(p=Math.imul(Qt,ii))+Math.imul(ue,ni)|0,T=Math.imul(ue,ii),C=C+Math.imul(It,vi)|0,p=(p=p+Math.imul(It,_i)|0)+Math.imul(gt,vi)|0,T=T+Math.imul(gt,_i)|0,C=C+Math.imul(Yt,Mi)|0,p=(p=p+Math.imul(Yt,Ge)|0)+Math.imul(ee,Mi)|0,T=T+Math.imul(ee,Ge)|0,C=C+Math.imul(be,Ei)|0,p=(p=p+Math.imul(be,Oe)|0)+Math.imul(de,Ei)|0,T=T+Math.imul(de,Oe)|0,C=C+Math.imul(Ht,ke)|0,p=(p=p+Math.imul(Ht,re)|0)+Math.imul(me,ke)|0,T=T+Math.imul(me,re)|0,C=C+Math.imul(Zt,he)|0,p=(p=p+Math.imul(Zt,Se)|0)+Math.imul(Lt,he)|0,T=T+Math.imul(Lt,Se)|0,C=C+Math.imul(Rt,te)|0,p=(p=p+Math.imul(Rt,Re)|0)+Math.imul(Dt,te)|0,T=T+Math.imul(Dt,Re)|0,C=C+Math.imul(At,Qe)|0,p=(p=p+Math.imul(At,di)|0)+Math.imul(bt,Qe)|0,T=T+Math.imul(bt,di)|0;var Xn=(I+(C=C+Math.imul(wt,ci)|0)|0)+((8191&(p=(p=p+Math.imul(wt,si)|0)+Math.imul(Vt,ci)|0))<<13)|0;I=((T=T+Math.imul(Vt,si)|0)+(p>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,C=Math.imul(Qt,vi),p=(p=Math.imul(Qt,_i))+Math.imul(ue,vi)|0,T=Math.imul(ue,_i),C=C+Math.imul(It,Mi)|0,p=(p=p+Math.imul(It,Ge)|0)+Math.imul(gt,Mi)|0,T=T+Math.imul(gt,Ge)|0,C=C+Math.imul(Yt,Ei)|0,p=(p=p+Math.imul(Yt,Oe)|0)+Math.imul(ee,Ei)|0,T=T+Math.imul(ee,Oe)|0,C=C+Math.imul(be,ke)|0,p=(p=p+Math.imul(be,re)|0)+Math.imul(de,ke)|0,T=T+Math.imul(de,re)|0,C=C+Math.imul(Ht,he)|0,p=(p=p+Math.imul(Ht,Se)|0)+Math.imul(me,he)|0,T=T+Math.imul(me,Se)|0,C=C+Math.imul(Zt,te)|0,p=(p=p+Math.imul(Zt,Re)|0)+Math.imul(Lt,te)|0,T=T+Math.imul(Lt,Re)|0,C=C+Math.imul(Rt,Qe)|0,p=(p=p+Math.imul(Rt,di)|0)+Math.imul(Dt,Qe)|0,T=T+Math.imul(Dt,di)|0;var Co=(I+(C=C+Math.imul(At,ci)|0)|0)+((8191&(p=(p=p+Math.imul(At,si)|0)+Math.imul(bt,ci)|0))<<13)|0;I=((T=T+Math.imul(bt,si)|0)+(p>>>13)|0)+(Co>>>26)|0,Co&=67108863,C=Math.imul(Qt,Mi),p=(p=Math.imul(Qt,Ge))+Math.imul(ue,Mi)|0,T=Math.imul(ue,Ge),C=C+Math.imul(It,Ei)|0,p=(p=p+Math.imul(It,Oe)|0)+Math.imul(gt,Ei)|0,T=T+Math.imul(gt,Oe)|0,C=C+Math.imul(Yt,ke)|0,p=(p=p+Math.imul(Yt,re)|0)+Math.imul(ee,ke)|0,T=T+Math.imul(ee,re)|0,C=C+Math.imul(be,he)|0,p=(p=p+Math.imul(be,Se)|0)+Math.imul(de,he)|0,T=T+Math.imul(de,Se)|0,C=C+Math.imul(Ht,te)|0,p=(p=p+Math.imul(Ht,Re)|0)+Math.imul(me,te)|0,T=T+Math.imul(me,Re)|0,C=C+Math.imul(Zt,Qe)|0,p=(p=p+Math.imul(Zt,di)|0)+Math.imul(Lt,Qe)|0,T=T+Math.imul(Lt,di)|0;var Ti=(I+(C=C+Math.imul(Rt,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Rt,si)|0)+Math.imul(Dt,ci)|0))<<13)|0;I=((T=T+Math.imul(Dt,si)|0)+(p>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,C=Math.imul(Qt,Ei),p=(p=Math.imul(Qt,Oe))+Math.imul(ue,Ei)|0,T=Math.imul(ue,Oe),C=C+Math.imul(It,ke)|0,p=(p=p+Math.imul(It,re)|0)+Math.imul(gt,ke)|0,T=T+Math.imul(gt,re)|0,C=C+Math.imul(Yt,he)|0,p=(p=p+Math.imul(Yt,Se)|0)+Math.imul(ee,he)|0,T=T+Math.imul(ee,Se)|0,C=C+Math.imul(be,te)|0,p=(p=p+Math.imul(be,Re)|0)+Math.imul(de,te)|0,T=T+Math.imul(de,Re)|0,C=C+Math.imul(Ht,Qe)|0,p=(p=p+Math.imul(Ht,di)|0)+Math.imul(me,Qe)|0,T=T+Math.imul(me,di)|0;var mn=(I+(C=C+Math.imul(Zt,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Zt,si)|0)+Math.imul(Lt,ci)|0))<<13)|0;I=((T=T+Math.imul(Lt,si)|0)+(p>>>13)|0)+(mn>>>26)|0,mn&=67108863,C=Math.imul(Qt,ke),p=(p=Math.imul(Qt,re))+Math.imul(ue,ke)|0,T=Math.imul(ue,re),C=C+Math.imul(It,he)|0,p=(p=p+Math.imul(It,Se)|0)+Math.imul(gt,he)|0,T=T+Math.imul(gt,Se)|0,C=C+Math.imul(Yt,te)|0,p=(p=p+Math.imul(Yt,Re)|0)+Math.imul(ee,te)|0,T=T+Math.imul(ee,Re)|0,C=C+Math.imul(be,Qe)|0,p=(p=p+Math.imul(be,di)|0)+Math.imul(de,Qe)|0,T=T+Math.imul(de,di)|0;var gr=(I+(C=C+Math.imul(Ht,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Ht,si)|0)+Math.imul(me,ci)|0))<<13)|0;I=((T=T+Math.imul(me,si)|0)+(p>>>13)|0)+(gr>>>26)|0,gr&=67108863,C=Math.imul(Qt,he),p=(p=Math.imul(Qt,Se))+Math.imul(ue,he)|0,T=Math.imul(ue,Se),C=C+Math.imul(It,te)|0,p=(p=p+Math.imul(It,Re)|0)+Math.imul(gt,te)|0,T=T+Math.imul(gt,Re)|0,C=C+Math.imul(Yt,Qe)|0,p=(p=p+Math.imul(Yt,di)|0)+Math.imul(ee,Qe)|0,T=T+Math.imul(ee,di)|0;var En=(I+(C=C+Math.imul(be,ci)|0)|0)+((8191&(p=(p=p+Math.imul(be,si)|0)+Math.imul(de,ci)|0))<<13)|0;I=((T=T+Math.imul(de,si)|0)+(p>>>13)|0)+(En>>>26)|0,En&=67108863,C=Math.imul(Qt,te),p=(p=Math.imul(Qt,Re))+Math.imul(ue,te)|0,T=Math.imul(ue,Re),C=C+Math.imul(It,Qe)|0,p=(p=p+Math.imul(It,di)|0)+Math.imul(gt,Qe)|0,T=T+Math.imul(gt,di)|0;var _o=(I+(C=C+Math.imul(Yt,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Yt,si)|0)+Math.imul(ee,ci)|0))<<13)|0;I=((T=T+Math.imul(ee,si)|0)+(p>>>13)|0)+(_o>>>26)|0,_o&=67108863,C=Math.imul(Qt,Qe),p=(p=Math.imul(Qt,di))+Math.imul(ue,Qe)|0,T=Math.imul(ue,di);var No=(I+(C=C+Math.imul(It,ci)|0)|0)+((8191&(p=(p=p+Math.imul(It,si)|0)+Math.imul(gt,ci)|0))<<13)|0;I=((T=T+Math.imul(gt,si)|0)+(p>>>13)|0)+(No>>>26)|0,No&=67108863;var Hi=(I+(C=Math.imul(Qt,ci))|0)+((8191&(p=(p=Math.imul(Qt,si))+Math.imul(ue,ci)|0))<<13)|0;return I=((T=Math.imul(ue,si))+(p>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,S[0]=an,S[1]=cn,S[2]=Fn,S[3]=Or,S[4]=Vn,S[5]=Jn,S[6]=hn,S[7]=jr,S[8]=wr,S[9]=br,S[10]=Xn,S[11]=Co,S[12]=Ti,S[13]=mn,S[14]=gr,S[15]=En,S[16]=_o,S[17]=No,S[18]=Hi,0!==I&&(S[19]=I,y.length++),y};function J(R,u,m){return(new z).mulp(R,u,m)}function z(R,u){this.x=R,this.y=u}Math.imul||(H=$),E.prototype.mulTo=function(u,m){var y,v=this.length+u.length;return y=10===this.length&&10===u.length?H(this,u,m):v<63?$(this,u,m):v<1024?function(R,u,m){m.negative=u.negative^R.negative,m.length=R.length+u.length;for(var y=0,v=0,M=0;M<m.length-1;M++){var S=v;v=0;for(var I=67108863&y,C=Math.min(M,u.length-1),p=Math.max(0,M-R.length+1);p<=C;p++){var W=(0|R.words[M-p])*(0|u.words[p]),yt=67108863&W;I=67108863&(yt=yt+I|0),v+=(S=(S=S+(W/67108864|0)|0)+(yt>>>26)|0)>>>26,S&=67108863}m.words[M]=I,y=S,S=v}return 0!==y?m.words[M]=y:m.length--,m.strip()}(this,u,m):J(this,u,m),y},z.prototype.makeRBT=function(u){for(var m=new Array(u),y=E.prototype._countBits(u)-1,v=0;v<u;v++)m[v]=this.revBin(v,y,u);return m},z.prototype.revBin=function(u,m,y){if(0===u||u===y-1)return u;for(var v=0,M=0;M<m;M++)v|=(1&u)<<m-M-1,u>>=1;return v},z.prototype.permute=function(u,m,y,v,M,S){for(var I=0;I<S;I++)v[I]=m[u[I]],M[I]=y[u[I]]},z.prototype.transform=function(u,m,y,v,M,S){this.permute(S,u,m,y,v,M);for(var I=1;I<M;I<<=1)for(var C=I<<1,p=Math.cos(2*Math.PI/C),T=Math.sin(2*Math.PI/C),it=0;it<M;it+=C)for(var Z=p,W=T,yt=0;yt<I;yt++){var wt=y[it+yt],Vt=v[it+yt],Ut=y[it+yt+I],At=v[it+yt+I],bt=Z*Ut-W*At;At=Z*At+W*Ut,y[it+yt]=wt+(Ut=bt),v[it+yt]=Vt+At,y[it+yt+I]=wt-Ut,v[it+yt+I]=Vt-At,yt!==C&&(bt=p*Z-T*W,W=p*W+T*Z,Z=bt)}},z.prototype.guessLen13b=function(u,m){var y=1|Math.max(m,u),v=1&y,M=0;for(y=y/2|0;y;y>>>=1)M++;return 1<<M+1+v},z.prototype.conjugate=function(u,m,y){if(!(y<=1))for(var v=0;v<y/2;v++){var M=u[v];u[v]=u[y-v-1],u[y-v-1]=M,M=m[v],m[v]=-m[y-v-1],m[y-v-1]=-M}},z.prototype.normalize13b=function(u,m){for(var y=0,v=0;v<m/2;v++){var M=8192*Math.round(u[2*v+1]/m)+Math.round(u[2*v]/m)+y;u[v]=67108863&M,y=M<67108864?0:M/67108864|0}return u},z.prototype.convert13b=function(u,m,y,v){for(var M=0,S=0;S<m;S++)y[2*S]=8191&(M+=0|u[S]),y[2*S+1]=8191&(M>>>=13),M>>>=13;for(S=2*m;S<v;++S)y[S]=0;ft(0===M),ft(0==(-8192&M))},z.prototype.stub=function(u){for(var m=new Array(u),y=0;y<u;y++)m[y]=0;return m},z.prototype.mulp=function(u,m,y){var v=2*this.guessLen13b(u.length,m.length),M=this.makeRBT(v),S=this.stub(v),I=new Array(v),C=new Array(v),p=new Array(v),T=new Array(v),it=new Array(v),Z=new Array(v),W=y.words;W.length=v,this.convert13b(u.words,u.length,I,v),this.convert13b(m.words,m.length,T,v),this.transform(I,S,C,p,v,M),this.transform(T,S,it,Z,v,M);for(var yt=0;yt<v;yt++){var wt=C[yt]*it[yt]-p[yt]*Z[yt];p[yt]=C[yt]*Z[yt]+p[yt]*it[yt],C[yt]=wt}return this.conjugate(C,p,v),this.transform(C,p,W,S,v,M),this.conjugate(W,S,v),this.normalize13b(W,v),y.negative=u.negative^m.negative,y.length=u.length+m.length,y.strip()},E.prototype.mul=function(u){var m=new E(null);return m.words=new Array(this.length+u.length),this.mulTo(u,m)},E.prototype.mulf=function(u){var m=new E(null);return m.words=new Array(this.length+u.length),J(this,u,m)},E.prototype.imul=function(u){return this.clone().mulTo(u,this)},E.prototype.imuln=function(u){ft("number"==typeof u),ft(u<67108864);for(var m=0,y=0;y<this.length;y++){var v=(0|this.words[y])*u,M=(67108863&v)+(67108863&m);m>>=26,m+=v/67108864|0,m+=M>>>26,this.words[y]=67108863&M}return 0!==m&&(this.words[y]=m,this.length++),this},E.prototype.muln=function(u){return this.clone().imuln(u)},E.prototype.sqr=function(){return this.mul(this)},E.prototype.isqr=function(){return this.imul(this.clone())},E.prototype.pow=function(u){var m=function(R){for(var u=new Array(R.bitLength()),m=0;m<u.length;m++){var v=m%26;u[m]=(R.words[m/26|0]&1<<v)>>>v}return u}(u);if(0===m.length)return new E(1);for(var y=this,v=0;v<m.length&&0===m[v];v++,y=y.sqr());if(++v<m.length)for(var M=y.sqr();v<m.length;v++,M=M.sqr())0!==m[v]&&(y=y.mul(M));return y},E.prototype.iushln=function(u){ft("number"==typeof u&&u>=0);var M,m=u%26,y=(u-m)/26,v=67108863>>>26-m<<26-m;if(0!==m){var S=0;for(M=0;M<this.length;M++){var I=this.words[M]&v;this.words[M]=(0|this.words[M])-I<<m|S,S=I>>>26-m}S&&(this.words[M]=S,this.length++)}if(0!==y){for(M=this.length-1;M>=0;M--)this.words[M+y]=this.words[M];for(M=0;M<y;M++)this.words[M]=0;this.length+=y}return this.strip()},E.prototype.ishln=function(u){return ft(0===this.negative),this.iushln(u)},E.prototype.iushrn=function(u,m,y){var v;ft("number"==typeof u&&u>=0),v=m?(m-m%26)/26:0;var M=u%26,S=Math.min((u-M)/26,this.length),I=67108863^67108863>>>M<<M,C=y;if(v-=S,v=Math.max(0,v),C){for(var p=0;p<S;p++)C.words[p]=this.words[p];C.length=S}if(0!==S)if(this.length>S)for(this.length-=S,p=0;p<this.length;p++)this.words[p]=this.words[p+S];else this.words[0]=0,this.length=1;var T=0;for(p=this.length-1;p>=0&&(0!==T||p>=v);p--){var it=0|this.words[p];this.words[p]=T<<26-M|it>>>M,T=it&I}return C&&0!==T&&(C.words[C.length++]=T),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},E.prototype.ishrn=function(u,m,y){return ft(0===this.negative),this.iushrn(u,m,y)},E.prototype.shln=function(u){return this.clone().ishln(u)},E.prototype.ushln=function(u){return this.clone().iushln(u)},E.prototype.shrn=function(u){return this.clone().ishrn(u)},E.prototype.ushrn=function(u){return this.clone().iushrn(u)},E.prototype.testn=function(u){ft("number"==typeof u&&u>=0);var m=u%26,y=(u-m)/26;return!(this.length<=y||!(this.words[y]&1<<m))},E.prototype.imaskn=function(u){ft("number"==typeof u&&u>=0);var m=u%26,y=(u-m)/26;return ft(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==m&&y++,this.length=Math.min(y,this.length),0!==m&&(this.words[this.length-1]&=67108863^67108863>>>m<<m),this.strip())},E.prototype.maskn=function(u){return this.clone().imaskn(u)},E.prototype.iaddn=function(u){return ft("number"==typeof u),ft(u<67108864),u<0?this.isubn(-u):0!==this.negative?1===this.length&&(0|this.words[0])<u?(this.words[0]=u-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},E.prototype._iaddn=function(u){this.words[0]+=u;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},E.prototype.isubn=function(u){if(ft("number"==typeof u),ft(u<67108864),u<0)return this.iaddn(-u);if(0!==this.negative)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this.strip()},E.prototype.addn=function(u){return this.clone().iaddn(u)},E.prototype.subn=function(u){return this.clone().isubn(u)},E.prototype.iabs=function(){return this.negative=0,this},E.prototype.abs=function(){return this.clone().iabs()},E.prototype._ishlnsubmul=function(u,m,y){var M;this._expand(u.length+y);var S,I=0;for(M=0;M<u.length;M++){S=(0|this.words[M+y])+I;var C=(0|u.words[M])*m;I=((S-=67108863&C)>>26)-(C/67108864|0),this.words[M+y]=67108863&S}for(;M<this.length-y;M++)I=(S=(0|this.words[M+y])+I)>>26,this.words[M+y]=67108863&S;if(0===I)return this.strip();for(ft(-1===I),I=0,M=0;M<this.length;M++)I=(S=-(0|this.words[M])+I)>>26,this.words[M]=67108863&S;return this.negative=1,this.strip()},E.prototype._wordDiv=function(u,m){var y,v=this.clone(),M=u,S=0|M.words[M.length-1];0!=(y=26-this._countBits(S))&&(M=M.ushln(y),v.iushln(y),S=0|M.words[M.length-1]);var p,C=v.length-M.length;if("mod"!==m){(p=new E(null)).length=C+1,p.words=new Array(p.length);for(var T=0;T<p.length;T++)p.words[T]=0}var it=v.clone()._ishlnsubmul(M,1,C);0===it.negative&&(v=it,p&&(p.words[C]=1));for(var Z=C-1;Z>=0;Z--){var W=67108864*(0|v.words[M.length+Z])+(0|v.words[M.length+Z-1]);for(W=Math.min(W/S|0,67108863),v._ishlnsubmul(M,W,Z);0!==v.negative;)W--,v.negative=0,v._ishlnsubmul(M,1,Z),v.isZero()||(v.negative^=1);p&&(p.words[Z]=W)}return p&&p.strip(),v.strip(),"div"!==m&&0!==y&&v.iushrn(y),{div:p||null,mod:v}},E.prototype.divmod=function(u,m,y){return ft(!u.isZero()),this.isZero()?{div:new E(0),mod:new E(0)}:0!==this.negative&&0===u.negative?(S=this.neg().divmod(u,m),"mod"!==m&&(v=S.div.neg()),"div"!==m&&(M=S.mod.neg(),y&&0!==M.negative&&M.iadd(u)),{div:v,mod:M}):0===this.negative&&0!==u.negative?(S=this.divmod(u.neg(),m),"mod"!==m&&(v=S.div.neg()),{div:v,mod:S.mod}):0!=(this.negative&u.negative)?(S=this.neg().divmod(u.neg(),m),"div"!==m&&(M=S.mod.neg(),y&&0!==M.negative&&M.isub(u)),{div:S.div,mod:M}):u.length>this.length||this.cmp(u)<0?{div:new E(0),mod:this}:1===u.length?"div"===m?{div:this.divn(u.words[0]),mod:null}:"mod"===m?{div:null,mod:new E(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new E(this.modn(u.words[0]))}:this._wordDiv(u,m);var v,M,S},E.prototype.div=function(u){return this.divmod(u,"div",!1).div},E.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},E.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},E.prototype.divRound=function(u){var m=this.divmod(u);if(m.mod.isZero())return m.div;var y=0!==m.div.negative?m.mod.isub(u):m.mod,v=u.ushrn(1),M=u.andln(1),S=y.cmp(v);return S<0||1===M&&0===S?m.div:0!==m.div.negative?m.div.isubn(1):m.div.iaddn(1)},E.prototype.modn=function(u){ft(u<=67108863);for(var m=(1<<26)%u,y=0,v=this.length-1;v>=0;v--)y=(m*y+(0|this.words[v]))%u;return y},E.prototype.idivn=function(u){ft(u<=67108863);for(var m=0,y=this.length-1;y>=0;y--){var v=(0|this.words[y])+67108864*m;this.words[y]=v/u|0,m=v%u}return this.strip()},E.prototype.divn=function(u){return this.clone().idivn(u)},E.prototype.egcd=function(u){ft(0===u.negative),ft(!u.isZero());var m=this,y=u.clone();m=0!==m.negative?m.umod(u):m.clone();for(var v=new E(1),M=new E(0),S=new E(0),I=new E(1),C=0;m.isEven()&&y.isEven();)m.iushrn(1),y.iushrn(1),++C;for(var p=y.clone(),T=m.clone();!m.isZero();){for(var it=0,Z=1;0==(m.words[0]&Z)&&it<26;++it,Z<<=1);if(it>0)for(m.iushrn(it);it-- >0;)(v.isOdd()||M.isOdd())&&(v.iadd(p),M.isub(T)),v.iushrn(1),M.iushrn(1);for(var W=0,yt=1;0==(y.words[0]&yt)&&W<26;++W,yt<<=1);if(W>0)for(y.iushrn(W);W-- >0;)(S.isOdd()||I.isOdd())&&(S.iadd(p),I.isub(T)),S.iushrn(1),I.iushrn(1);m.cmp(y)>=0?(m.isub(y),v.isub(S),M.isub(I)):(y.isub(m),S.isub(v),I.isub(M))}return{a:S,b:I,gcd:y.iushln(C)}},E.prototype._invmp=function(u){ft(0===u.negative),ft(!u.isZero());var it,m=this,y=u.clone();m=0!==m.negative?m.umod(u):m.clone();for(var v=new E(1),M=new E(0),S=y.clone();m.cmpn(1)>0&&y.cmpn(1)>0;){for(var I=0,C=1;0==(m.words[0]&C)&&I<26;++I,C<<=1);if(I>0)for(m.iushrn(I);I-- >0;)v.isOdd()&&v.iadd(S),v.iushrn(1);for(var p=0,T=1;0==(y.words[0]&T)&&p<26;++p,T<<=1);if(p>0)for(y.iushrn(p);p-- >0;)M.isOdd()&&M.iadd(S),M.iushrn(1);m.cmp(y)>=0?(m.isub(y),v.isub(M)):(y.isub(m),M.isub(v))}return(it=0===m.cmpn(1)?v:M).cmpn(0)<0&&it.iadd(u),it},E.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var m=this.clone(),y=u.clone();m.negative=0,y.negative=0;for(var v=0;m.isEven()&&y.isEven();v++)m.iushrn(1),y.iushrn(1);for(;;){for(;m.isEven();)m.iushrn(1);for(;y.isEven();)y.iushrn(1);var M=m.cmp(y);if(M<0){var S=m;m=y,y=S}else if(0===M||0===y.cmpn(1))break;m.isub(y)}return y.iushln(v)},E.prototype.invm=function(u){return this.egcd(u).a.umod(u)},E.prototype.isEven=function(){return 0==(1&this.words[0])},E.prototype.isOdd=function(){return 1==(1&this.words[0])},E.prototype.andln=function(u){return this.words[0]&u},E.prototype.bincn=function(u){ft("number"==typeof u);var m=u%26,y=(u-m)/26,v=1<<m;if(this.length<=y)return this._expand(y+1),this.words[y]|=v,this;for(var M=v,S=y;0!==M&&S<this.length;S++){var I=0|this.words[S];M=(I+=M)>>>26,this.words[S]=I&=67108863}return 0!==M&&(this.words[S]=M,this.length++),this},E.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},E.prototype.cmpn=function(u){var y,m=u<0;if(0!==this.negative&&!m)return-1;if(0===this.negative&&m)return 1;if(this.strip(),this.length>1)y=1;else{m&&(u=-u),ft(u<=67108863,"Number is too big");var v=0|this.words[0];y=v===u?0:v<u?-1:1}return 0!==this.negative?0|-y:y},E.prototype.cmp=function(u){if(0!==this.negative&&0===u.negative)return-1;if(0===this.negative&&0!==u.negative)return 1;var m=this.ucmp(u);return 0!==this.negative?0|-m:m},E.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var m=0,y=this.length-1;y>=0;y--){var v=0|this.words[y],M=0|u.words[y];if(v!==M){v<M?m=-1:v>M&&(m=1);break}}return m},E.prototype.gtn=function(u){return 1===this.cmpn(u)},E.prototype.gt=function(u){return 1===this.cmp(u)},E.prototype.gten=function(u){return this.cmpn(u)>=0},E.prototype.gte=function(u){return this.cmp(u)>=0},E.prototype.ltn=function(u){return-1===this.cmpn(u)},E.prototype.lt=function(u){return-1===this.cmp(u)},E.prototype.lten=function(u){return this.cmpn(u)<=0},E.prototype.lte=function(u){return this.cmp(u)<=0},E.prototype.eqn=function(u){return 0===this.cmpn(u)},E.prototype.eq=function(u){return 0===this.cmp(u)},E.red=function(u){return new Et(u)},E.prototype.toRed=function(u){return ft(!this.red,"Already a number in reduction context"),ft(0===this.negative,"red works only with positives"),u.convertTo(this)._forceRed(u)},E.prototype.fromRed=function(){return ft(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},E.prototype._forceRed=function(u){return this.red=u,this},E.prototype.forceRed=function(u){return ft(!this.red,"Already a number in reduction context"),this._forceRed(u)},E.prototype.redAdd=function(u){return ft(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},E.prototype.redIAdd=function(u){return ft(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},E.prototype.redSub=function(u){return ft(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},E.prototype.redISub=function(u){return ft(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},E.prototype.redShl=function(u){return ft(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},E.prototype.redMul=function(u){return ft(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},E.prototype.redIMul=function(u){return ft(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},E.prototype.redSqr=function(){return ft(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},E.prototype.redISqr=function(){return ft(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},E.prototype.redSqrt=function(){return ft(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},E.prototype.redInvm=function(){return ft(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},E.prototype.redNeg=function(){return ft(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},E.prototype.redPow=function(u){return ft(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var nt={k256:null,p224:null,p192:null,p25519:null};function Q(R,u){this.name=R,this.p=new E(u,16),this.n=this.p.bitLength(),this.k=new E(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function lt(){Q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _t(){Q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function Ct(){Q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function kt(){Q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Et(R){if("string"==typeof R){var u=E._prime(R);this.m=u.p,this.prime=u}else ft(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}function St(R){Et.call(this,R),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new E(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Q.prototype._tmp=function(){var u=new E(null);return u.words=new Array(Math.ceil(this.n/13)),u},Q.prototype.ireduce=function(u){var y,m=u;do{this.split(m,this.tmp),y=(m=(m=this.imulK(m)).iadd(this.tmp)).bitLength()}while(y>this.n);var v=y<this.n?-1:m.ucmp(this.p);return 0===v?(m.words[0]=0,m.length=1):v>0?m.isub(this.p):void 0!==m.strip?m.strip():m._strip(),m},Q.prototype.split=function(u,m){u.iushrn(this.n,0,m)},Q.prototype.imulK=function(u){return u.imul(this.k)},dt(lt,Q),lt.prototype.split=function(u,m){for(var y=4194303,v=Math.min(u.length,9),M=0;M<v;M++)m.words[M]=u.words[M];if(m.length=v,u.length<=9)return u.words[0]=0,void(u.length=1);var S=u.words[9];for(m.words[m.length++]=S&y,M=10;M<u.length;M++){var I=0|u.words[M];u.words[M-10]=(I&y)<<4|S>>>22,S=I}u.words[M-10]=S>>>=22,u.length-=0===S&&u.length>10?10:9},lt.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var m=0,y=0;y<u.length;y++){var v=0|u.words[y];u.words[y]=67108863&(m+=977*v),m=64*v+(m/67108864|0)}return 0===u.words[u.length-1]&&(u.length--,0===u.words[u.length-1]&&u.length--),u},dt(_t,Q),dt(Ct,Q),dt(kt,Q),kt.prototype.imulK=function(u){for(var m=0,y=0;y<u.length;y++){var v=19*(0|u.words[y])+m,M=67108863&v;v>>>=26,u.words[y]=M,m=v}return 0!==m&&(u.words[u.length++]=m),u},E._prime=function(u){if(nt[u])return nt[u];var m;if("k256"===u)m=new lt;else if("p224"===u)m=new _t;else if("p192"===u)m=new Ct;else{if("p25519"!==u)throw new Error("Unknown prime "+u);m=new kt}return nt[u]=m,m},Et.prototype._verify1=function(u){ft(0===u.negative,"red works only with positives"),ft(u.red,"red works only with red numbers")},Et.prototype._verify2=function(u,m){ft(0==(u.negative|m.negative),"red works only with positives"),ft(u.red&&u.red===m.red,"red works only with red numbers")},Et.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},Et.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},Et.prototype.add=function(u,m){this._verify2(u,m);var y=u.add(m);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},Et.prototype.iadd=function(u,m){this._verify2(u,m);var y=u.iadd(m);return y.cmp(this.m)>=0&&y.isub(this.m),y},Et.prototype.sub=function(u,m){this._verify2(u,m);var y=u.sub(m);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},Et.prototype.isub=function(u,m){this._verify2(u,m);var y=u.isub(m);return y.cmpn(0)<0&&y.iadd(this.m),y},Et.prototype.shl=function(u,m){return this._verify1(u),this.imod(u.ushln(m))},Et.prototype.imul=function(u,m){return this._verify2(u,m),this.imod(u.imul(m))},Et.prototype.mul=function(u,m){return this._verify2(u,m),this.imod(u.mul(m))},Et.prototype.isqr=function(u){return this.imul(u,u.clone())},Et.prototype.sqr=function(u){return this.mul(u,u)},Et.prototype.sqrt=function(u){if(u.isZero())return u.clone();var m=this.m.andln(3);if(ft(m%2==1),3===m){var y=this.m.add(new E(1)).iushrn(2);return this.pow(u,y)}for(var v=this.m.subn(1),M=0;!v.isZero()&&0===v.andln(1);)M++,v.iushrn(1);ft(!v.isZero());var S=new E(1).toRed(this),I=S.redNeg(),C=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new E(2*p*p).toRed(this);0!==this.pow(p,C).cmp(I);)p.redIAdd(I);for(var T=this.pow(p,v),it=this.pow(u,v.addn(1).iushrn(1)),Z=this.pow(u,v),W=M;0!==Z.cmp(S);){for(var yt=Z,wt=0;0!==yt.cmp(S);wt++)yt=yt.redSqr();ft(wt<W);var Vt=this.pow(T,new E(1).iushln(W-wt-1));it=it.redMul(Vt),T=Vt.redSqr(),Z=Z.redMul(T),W=wt}return it},Et.prototype.invm=function(u){var m=u._invmp(this.m);return 0!==m.negative?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},Et.prototype.pow=function(u,m){if(m.isZero())return new E(1).toRed(this);if(0===m.cmpn(1))return u.clone();var v=new Array(16);v[0]=new E(1).toRed(this),v[1]=u;for(var M=2;M<v.length;M++)v[M]=this.mul(v[M-1],u);var S=v[0],I=0,C=0,p=m.bitLength()%26;for(0===p&&(p=26),M=m.length-1;M>=0;M--){for(var T=m.words[M],it=p-1;it>=0;it--){var Z=T>>it&1;S!==v[0]&&(S=this.sqr(S)),0!==Z||0!==I?(I<<=1,I|=Z,(4==++C||0===M&&0===it)&&(S=this.mul(S,v[I]),C=0,I=0)):C=0}p=26}return S},Et.prototype.convertTo=function(u){var m=u.umod(this.m);return m===u?m.clone():m},Et.prototype.convertFrom=function(u){var m=u.clone();return m.red=null,m},E.mont=function(u){return new St(u)},dt(St,Et),St.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},St.prototype.convertFrom=function(u){var m=this.imod(u.mul(this.rinv));return m.red=null,m},St.prototype.imul=function(u,m){if(u.isZero()||m.isZero())return u.words[0]=0,u.length=1,u;var y=u.imul(m),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(v).iushrn(this.shift),S=M;return M.cmp(this.m)>=0?S=M.isub(this.m):M.cmpn(0)<0&&(S=M.iadd(this.m)),S._forceRed(this)},St.prototype.mul=function(u,m){if(u.isZero()||m.isZero())return new E(0)._forceRed(this);var y=u.mul(m),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(v).iushrn(this.shift),S=M;return M.cmp(this.m)>=0?S=M.isub(this.m):M.cmpn(0)<0&&(S=M.iadd(this.m)),S._forceRed(this)},St.prototype.invm=function(u){return this.imod(u._invmp(this.m).mul(this.r2))._forceRed(this)}}(_e=Ft.nmd(_e),this)},7703:_e=>{"use strict";var zt,st="object"==typeof Reflect?Reflect:null,Ft=st&&"function"==typeof st.apply?st.apply:function(Q,lt,_t){return Function.prototype.apply.call(Q,lt,_t)};zt=st&&"function"==typeof st.ownKeys?st.ownKeys:Object.getOwnPropertySymbols?function(Q){return Object.getOwnPropertyNames(Q).concat(Object.getOwnPropertySymbols(Q))}:function(Q){return Object.getOwnPropertyNames(Q)};var ft=Number.isNaN||function(Q){return Q!=Q};function dt(){dt.init.call(this)}_e.exports=dt,_e.exports.once=function(nt,Q){return new Promise(function(lt,_t){function Ct(Et){nt.removeListener(Q,kt),_t(Et)}function kt(){"function"==typeof nt.removeListener&&nt.removeListener("error",Ct),lt([].slice.call(arguments))}z(nt,Q,kt,{once:!0}),"error"!==Q&&function(nt,Q,lt){"function"==typeof nt.on&&z(nt,"error",Q,{once:!0})}(nt,Ct)})},dt.EventEmitter=dt,dt.prototype._events=void 0,dt.prototype._eventsCount=0,dt.prototype._maxListeners=void 0;var E=10;function K(nt){if("function"!=typeof nt)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof nt)}function Y(nt){return void 0===nt._maxListeners?dt.defaultMaxListeners:nt._maxListeners}function ct(nt,Q,lt,_t){var Ct,kt,Et;if(K(lt),void 0===(kt=nt._events)?(kt=nt._events=Object.create(null),nt._eventsCount=0):(void 0!==kt.newListener&&(nt.emit("newListener",Q,lt.listener?lt.listener:lt),kt=nt._events),Et=kt[Q]),void 0===Et)Et=kt[Q]=lt,++nt._eventsCount;else if("function"==typeof Et?Et=kt[Q]=_t?[lt,Et]:[Et,lt]:_t?Et.unshift(lt):Et.push(lt),(Ct=Y(nt))>0&&Et.length>Ct&&!Et.warned){Et.warned=!0;var St=new Error("Possible EventEmitter memory leak detected. "+Et.length+" "+String(Q)+" listeners added. Use emitter.setMaxListeners() to increase limit");St.name="MaxListenersExceededWarning",St.emitter=nt,St.type=Q,St.count=Et.length,function(nt){console&&console.warn&&console.warn(nt)}(St)}return nt}function et(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function X(nt,Q,lt){var _t={fired:!1,wrapFn:void 0,target:nt,type:Q,listener:lt},Ct=et.bind(_t);return Ct.listener=lt,_t.wrapFn=Ct,Ct}function U(nt,Q,lt){var _t=nt._events;if(void 0===_t)return[];var Ct=_t[Q];return void 0===Ct?[]:"function"==typeof Ct?lt?[Ct.listener||Ct]:[Ct]:lt?function(nt){for(var Q=new Array(nt.length),lt=0;lt<Q.length;++lt)Q[lt]=nt[lt].listener||nt[lt];return Q}(Ct):V(Ct,Ct.length)}function at(nt){var Q=this._events;if(void 0!==Q){var lt=Q[nt];if("function"==typeof lt)return 1;if(void 0!==lt)return lt.length}return 0}function V(nt,Q){for(var lt=new Array(Q),_t=0;_t<Q;++_t)lt[_t]=nt[_t];return lt}function z(nt,Q,lt,_t){if("function"==typeof nt.on)_t.once?nt.once(Q,lt):nt.on(Q,lt);else{if("function"!=typeof nt.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof nt);nt.addEventListener(Q,function Ct(kt){_t.once&&nt.removeEventListener(Q,Ct),lt(kt)})}}Object.defineProperty(dt,"defaultMaxListeners",{enumerable:!0,get:function(){return E},set:function(nt){if("number"!=typeof nt||nt<0||ft(nt))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+nt+".");E=nt}}),dt.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},dt.prototype.setMaxListeners=function(Q){if("number"!=typeof Q||Q<0||ft(Q))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Q+".");return this._maxListeners=Q,this},dt.prototype.getMaxListeners=function(){return Y(this)},dt.prototype.emit=function(Q){for(var lt=[],_t=1;_t<arguments.length;_t++)lt.push(arguments[_t]);var Ct="error"===Q,kt=this._events;if(void 0!==kt)Ct=Ct&&void 0===kt.error;else if(!Ct)return!1;if(Ct){var Et;if(lt.length>0&&(Et=lt[0]),Et instanceof Error)throw Et;var St=new Error("Unhandled error."+(Et?" ("+Et.message+")":""));throw St.context=Et,St}var R=kt[Q];if(void 0===R)return!1;if("function"==typeof R)Ft(R,this,lt);else{var u=R.length,m=V(R,u);for(_t=0;_t<u;++_t)Ft(m[_t],this,lt)}return!0},dt.prototype.on=dt.prototype.addListener=function(Q,lt){return ct(this,Q,lt,!1)},dt.prototype.prependListener=function(Q,lt){return ct(this,Q,lt,!0)},dt.prototype.once=function(Q,lt){return K(lt),this.on(Q,X(this,Q,lt)),this},dt.prototype.prependOnceListener=function(Q,lt){return K(lt),this.prependListener(Q,X(this,Q,lt)),this},dt.prototype.off=dt.prototype.removeListener=function(Q,lt){var _t,Ct,kt,Et,St;if(K(lt),void 0===(Ct=this._events))return this;if(void 0===(_t=Ct[Q]))return this;if(_t===lt||_t.listener===lt)0==--this._eventsCount?this._events=Object.create(null):(delete Ct[Q],Ct.removeListener&&this.emit("removeListener",Q,_t.listener||lt));else if("function"!=typeof _t){for(kt=-1,Et=_t.length-1;Et>=0;Et--)if(_t[Et]===lt||_t[Et].listener===lt){St=_t[Et].listener,kt=Et;break}if(kt<0)return this;0===kt?_t.shift():function(nt,Q){for(;Q+1<nt.length;Q++)nt[Q]=nt[Q+1];nt.pop()}(_t,kt),1===_t.length&&(Ct[Q]=_t[0]),void 0!==Ct.removeListener&&this.emit("removeListener",Q,St||lt)}return this},dt.prototype.removeAllListeners=function(Q){var lt,_t,Ct;if(void 0===(_t=this._events))return this;if(void 0===_t.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==_t[Q]&&(0==--this._eventsCount?this._events=Object.create(null):delete _t[Q]),this;if(0===arguments.length){var Et,kt=Object.keys(_t);for(Ct=0;Ct<kt.length;++Ct)"removeListener"!==(Et=kt[Ct])&&this.removeAllListeners(Et);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(lt=_t[Q]))this.removeListener(Q,lt);else if(void 0!==lt)for(Ct=lt.length-1;Ct>=0;Ct--)this.removeListener(Q,lt[Ct]);return this},dt.prototype.listeners=function(Q){return U(this,Q,!0)},dt.prototype.rawListeners=function(Q){return U(this,Q,!1)},dt.listenerCount=function(nt,Q){return"function"==typeof nt.listenerCount?nt.listenerCount(Q):at.call(nt,Q)},dt.prototype.listenerCount=at,dt.prototype.eventNames=function(){return this._eventsCount>0?zt(this._events):[]}},4539:(_e,st,Ft)=>{var zt=Ft(4615).Buffer,Kt=Ft(2996);_e.exports=function(dt,E,K,Y){if(zt.isBuffer(dt)||(dt=zt.from(dt,"binary")),E&&(zt.isBuffer(E)||(E=zt.from(E,"binary")),8!==E.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var ct=K/8,et=zt.alloc(ct),X=zt.alloc(Y||0),U=zt.alloc(0);ct>0||Y>0;){var at=new Kt;at.update(U),at.update(dt),E&&at.update(E),U=at.digest();var V=0;if(ct>0){var $=et.length-ct;V=Math.min(ct,U.length),U.copy(et,$,0,V),ct-=V}if(V<U.length&&Y>0){var H=X.length-Y,G=Math.min(Y,U.length-V);U.copy(X,H,V,V+G),Y-=G}}return U.fill(0),{key:et,iv:X}}},6961:_e=>{!function(){var st;function Ft(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function zt(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:Ft(t)}}function Kt(t){for(var e,o=[];!(e=t.next()).done;)o.push(e.value);return o}var dt,ft="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e};if("function"==typeof Object.setPrototypeOf)dt=Object.setPrototypeOf;else{var E;t:{var Y={};try{Y.__proto__={a:!0},E=Y.a;break t}catch(t){}E=!1}dt=E?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var ct=dt;function et(t,e){if(t.prototype=ft(e.prototype),t.prototype.constructor=t,ct)ct(t,e);else for(var o in e)if("prototype"!=o)if(Object.defineProperties){var a=Object.getOwnPropertyDescriptor(e,o);a&&Object.defineProperty(t,o,a)}else t[o]=e[o];t.BB=e.prototype}var X="undefined"!=typeof window&&window===self?self:"undefined"!=typeof global&&null!=global?global:self,U="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,o){t!=Array.prototype&&t!=Object.prototype&&(t[e]=o.value)};!function(t){if(t){for(var e=X,o=["Array","prototype","fill"],a=0;a<o.length-1;a++){var h=o[a];h in e||(e[h]={}),e=e[h]}(t=t(a=e[o=o[o.length-1]]))!=a&&null!=t&&U(e,o,{writable:!0,value:t})}}(function(t){return t||function(e,o,a){var h=this.length||0;for(0>o&&(o=Math.max(0,h+o)),(null==a||a>h)&&(a=h),0>(a=Number(a))&&(a=Math.max(0,h+a)),o=Number(o||0);o<a;o++)this[o]=e;return this}});var V="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||"object"==typeof window&&window.window===window&&window||{};function $(){}function H(t,e){var o=-1;return function(){var a=this,h=arguments;-1!==o&&V.clearTimeout(o),o=G(function(){o=-1,t.apply(a,h)},e)}}function G(t,e){return V.setTimeout(t,e)}function J(t){return V.document.createElement(t)}function z(t){throw Error(t)}function nt(t,e){t="The object is frozen, so its properties cannot be set: "+t.toString(),void 0!==e&&(t+="  to value: "+e),z(t)}function Q(t,e,o,a){o=null===o?"*":"string"==typeof o?o:"function"==typeof o&&"string"==typeof o.className?o.className:"",void 0!==a&&(o+="."+a),z(o+" is not in the range "+e+": "+t)}function lt(t){V.console&&V.console.log(t)}function _t(){V.console&&V.console.log("Warning: List/Map/Set constructors no longer take an argument that enforces type.Instead they take an optional collection of Values to add to the collection. See 2.0 changelog for details.")}function Ct(t){return"object"==typeof t&&null!==t}function kt(t){return Array.isArray(t)||V.NodeList&&t instanceof V.NodeList||V.HTMLCollection&&t instanceof V.HTMLCollection}function Et(t){return Array.prototype.slice.call(t)}function St(t,e,o){Array.isArray(t)?e>=t.length?t.push(o):t.splice(e,0,o):z("Cannot insert an object into an HTMLCollection or NodeList: "+o+" at "+e)}function R(t,e){Array.isArray(t)?e>=t.length?t.pop():t.splice(e,1):z("Cannot remove an object from an HTMLCollection or NodeList at "+e)}function u(){var t=yt.pop();return void 0===t?[]:t}function m(t){t.length=0,yt.push(t)}function y(t){if("function"==typeof t){if(t.className)return t.className;if(t.name)return t.name;var e=t.toString();if(""!==(e=e.substring(9,e.indexOf("(")).trim()))return t._className=e}else if(Ct(t)&&t.constructor)return y(t.constructor);return typeof t}function v(t){var e=t;return Ct(t)&&(t.text?e=t.text:t.name?e=t.name:void 0!==t.key?e=t.key:void 0!==t.id?e=t.id:t.constructor===Object&&(t.Text?e=t.Text:t.Name?e=t.Name:void 0!==t.Key?e=t.Key:void 0!==t.Id?e=t.Id:void 0!==t.ID&&(e=t.ID))),void 0===e?"undefined":null===e?"null":e.toString()}function M(t,e){if(t.hasOwnProperty(e))return!0;for(t=Object.getPrototypeOf(t);t&&t!==Function;){if(t.hasOwnProperty(e))return!0;var o=t.nB;if(o&&o[e])return!0;t=Object.getPrototypeOf(t)}return!1}function S(t,e,o){Object.defineProperty($r.prototype,t,{get:e,set:o})}function I(t){for(var e=[],o=0;256>o;o++)e["0123456789abcdef".charAt(o>>4)+"0123456789abcdef".charAt(15&o)]=String.fromCharCode(o);t.length%2&&(t="0"+t),o=[];for(var a=0,h=0;h<t.length;h+=2)o[a++]=e[t.substr(h,2)];for(t=""===(t=o.join(""))?"0":t,e=[],o=0;256>o;o++)e[o]=o;for(o=a=0;256>o;o++)h=e[o],e[o]=e[a=(a+e[o]+119)%256],e[a]=h;a=o=0;for(var c="",g=0;g<t.length;g++)h=e[o=(o+1)%256],e[o]=e[a=(a+e[o])%256],e[a]=h,c+=String.fromCharCode(t.charCodeAt(g)^e[(e[o]+e[a])%256]);return c}void 0===V.requestAnimationFrame&&(V.requestAnimationFrame=void 0===V.setImmediate?function(t){V.setTimeout(t,0)}:V.setImmediate);var C=void 0!==V.navigator&&0<V.navigator.userAgent.indexOf("MSIE 9.0"),p=void 0!==V.navigator&&0<V.navigator.userAgent.indexOf("MSIE 10.0"),T=void 0!==V.navigator&&0<V.navigator.userAgent.indexOf("Trident/7"),it=void 0!==V.navigator&&0<V.navigator.userAgent.indexOf("Edge/"),Z=void 0!==V.navigator&&void 0!==V.navigator.platform&&0<=V.navigator.platform.toUpperCase().indexOf("MAC"),W=void 0!==V.navigator&&void 0!==V.navigator.platform&&null!==V.navigator.platform.match(/(iPhone|iPod|iPad)/i),yt=[];function wt(t,e,o){me(this),this.l=t,this.oa=e,this.u=o}function Vt(t,e){return null==e||""===e?null:t[e]}function Ut(){this.qx=[]}function At(){}Object.freeze([]),$.className="Util",$.Dx="32ab5ff3b26f42dc0ed90f21452913b5",$.adym="gojs.net",$.vfo="28e647fdb662",$.className="Util",wt.prototype.toString=function(){return"EnumValue."+this.oa},X.Object.defineProperties(wt.prototype,{classType:{get:function(){return this.l}},name:{get:function(){return this.oa}},value:{get:function(){return this.u}}}),wt.className="EnumValue",Ut.prototype.toString=function(){return this.qx.join("")},Ut.prototype.add=function(t){""!==t&&this.qx.push(t)},Ut.className="StringBuilder",At.className="PropertyCollection";var Rt,bt={pB:!1,uB:!1,rB:!1,tB:!1,zB:!1,xB:!1,my:!1,qB:null,trace:function(t){V.console&&V.console.log(t)},sB:function(t,e,o,a){t.strokeStyle="red",t.fillStyle="red",t.font="8px sans-serif",t.beginPath(),t.moveTo(-10,0),t.lineTo(10,0),t.moveTo(0,-10),t.lineTo(0,10),t.stroke(),t.setTransform(1,0,0,1,0,0),t.scale(o,o),t.transform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy),t.lineWidth=2,t.beginPath(),t.moveTo(a.left,a.top+20),t.lineTo(a.left,a.top),t.lineTo(a.left+20,a.top),t.moveTo(a.right,a.bottom-20),t.lineTo(a.right,a.bottom),t.lineTo(a.right-20,a.bottom),t.stroke(),t.fillText("DB: "+Math.round(a.x)+", "+Math.round(a.y)+", "+Math.round(a.width)+", "+Math.round(a.height),a.left,a.top-5)},oB:function(t){var o,e={};for(o in t){if(e.x=o,"licenseKey"!==e.x){var a=t[e.x];if(void 0!==a.prototype){e.Jm=Object.getOwnPropertyNames(a.prototype);for(var h={Ak:0};h.Ak<e.Jm.length;(h={Ak:h.Ak}).Ak++){var c=Object.getOwnPropertyDescriptor(a.prototype,e.Jm[h.Ak]);void 0!==c.get&&void 0===c.set&&Object.defineProperty(a.prototype,e.Jm[h.Ak],{set:function(g,_){return function(){throw Error("Property "+g.Jm[_.Ak]+" of "+g.x+" is read-only.")}}(e,h)})}}}e={Jm:e.Jm,x:e.x}}}};function qt(){}function Dt(t){this.key=-1,this.value=t}function Bt(t){this.ub=t,this.ff=null,t.Ha=null,this.ia=t.Ba,this.Ra=-1}function Zt(t){this.ub=t,t.gh=null,this.ia=t.Ba,this.Ra=t.j.length}function Lt(t){me(this),this.v=!1,this.j=[],this.Ba=0,this.gh=this.Ha=null,void 0!==t&&("function"==typeof t||"string"==typeof t?_t():this.addAll(t))}function Ce(t){this.tg=t,t.Ha=null,this.ia=t.Ba,this.ka=null}function Ht(t){me(this),this.v=!1,this.Hb={},this.Fb=0,this.Ha=null,this.Ba=0,this.$e=this.ba=null,void 0!==t&&("function"==typeof t||"string"==typeof t?_t():this.addAll(t))}function me(t){t.__gohashid=de++}function Si(t){var e=t.__gohashid;return void 0===e&&(e=de++,t.__gohashid=e),e}function be(t){return t.__gohashid}qt.prototype.reset=function(){},qt.prototype.next=function(){return!1},qt.prototype.rd=function(){return!1},qt.prototype.first=function(){return null},qt.prototype.any=function(){return!1},qt.prototype.all=function(){return!0},qt.prototype.each=function(){return this},qt.prototype.map=function(){return this},qt.prototype.filter=function(){return this},qt.prototype.Sd=function(){},qt.prototype.toString=function(){return"EmptyIterator"},X.Object.defineProperties(qt.prototype,{iterator:{get:function(){return this}},count:{get:function(){return 0}}}),qt.prototype.first=qt.prototype.first,qt.prototype.hasNext=qt.prototype.rd,qt.prototype.next=qt.prototype.next,qt.prototype.reset=qt.prototype.reset,qt.className="EmptyIterator",Rt=new qt,Dt.prototype.reset=function(){this.key=-1},Dt.prototype.next=function(){return-1===this.key&&(this.key=0,!0)},Dt.prototype.rd=function(){return this.next()},Dt.prototype.first=function(){return this.key=0,this.value},Dt.prototype.any=function(t){return this.key=-1,t(this.value)},Dt.prototype.all=function(t){return this.key=-1,t(this.value)},Dt.prototype.each=function(t){return this.key=-1,t(this.value),this},Dt.prototype.map=function(t){return new Dt(t(this.value))},Dt.prototype.filter=function(t){return t(this.value)?new Dt(this.value):Rt},Dt.prototype.Sd=function(){this.value=null},Dt.prototype.toString=function(){return"SingletonIterator("+this.value+")"},X.Object.defineProperties(Dt.prototype,{iterator:{get:function(){return this}},count:{get:function(){return 1}}}),Dt.prototype.first=Dt.prototype.first,Dt.prototype.hasNext=Dt.prototype.rd,Dt.prototype.next=Dt.prototype.next,Dt.prototype.reset=Dt.prototype.reset,Dt.className="SingletonIterator",Bt.prototype.reset=function(){var t=this.ub;t.Ha=null,this.ia=t.Ba,this.Ra=-1},Bt.prototype.next=function(){var t=this.ub;if(t.Ba!==this.ia&&0>this.key)return!1;var e=(t=t.j).length,o=++this.Ra,a=this.ff;if(null!==a)for(;o<e;){var h=t[o];if(a(h))return this.key=this.Ra=o,this.value=h,!0;o++}else{if(o<e)return this.key=o,this.value=t[o],!0;this.Sd()}return!1},Bt.prototype.rd=function(){return this.next()},Bt.prototype.first=function(){var t=this.ub;this.ia=t.Ba,this.Ra=0;var e=(t=t.j).length,o=this.ff;if(null!==o){for(var a=0;a<e;){var h=t[a];if(o(h))return this.key=this.Ra=a,this.value=h;a++}return null}return 0<e?(t=t[0],this.key=0,this.value=t):null},Bt.prototype.any=function(t){var e=this.ub;e.Ha=null,this.Ra=-1;for(var o=(e=e.j).length,a=this.ff,h=0;h<o;h++){var c=e[h];if((null===a||a(c))&&t(c))return!0}return!1},Bt.prototype.all=function(t){var e=this.ub;e.Ha=null,this.Ra=-1;for(var o=(e=e.j).length,a=this.ff,h=0;h<o;h++){var c=e[h];if((null===a||a(c))&&!t(c))return!1}return!0},Bt.prototype.each=function(t){var e=this.ub;e.Ha=null,this.Ra=-1;for(var o=(e=e.j).length,a=this.ff,h=0;h<o;h++){var c=e[h];(null===a||a(c))&&t(c)}return this},Bt.prototype.map=function(t){var e=this.ub;e.Ha=null,this.Ra=-1;for(var o=[],a=(e=e.j).length,h=this.ff,c=0;c<a;c++){var g=e[c];(null===h||h(g))&&o.push(t(g))}return(t=new Lt).j=o,t.pb(),t.iterator},Bt.prototype.filter=function(t){var e=this.ub;e.Ha=null,this.Ra=-1;for(var o=[],a=(e=e.j).length,h=this.ff,c=0;c<a;c++){var g=e[c];(null===h||h(g))&&t(g)&&o.push(g)}return(t=new Lt).j=o,t.pb(),t.iterator},Bt.prototype.Sd=function(){this.key=-1,this.value=null,this.ia=-1,this.ff=null,this.ub.Ha=this},Bt.prototype.toString=function(){return"ListIterator@"+this.Ra+"/"+this.ub.count},X.Object.defineProperties(Bt.prototype,{iterator:{get:function(){return this}},predicate:{get:function(){return this.ff},set:function(t){this.ff=t}},count:{get:function(){var t=this.ff;if(null!==t){for(var e=0,o=this.ub.j,a=o.length,h=0;h<a;h++)t(o[h])&&e++;return e}return this.ub.j.length}}}),Bt.prototype.first=Bt.prototype.first,Bt.prototype.hasNext=Bt.prototype.rd,Bt.prototype.next=Bt.prototype.next,Bt.prototype.reset=Bt.prototype.reset,Bt.className="ListIterator",Zt.prototype.reset=function(){var t=this.ub;t.gh=null,this.ia=t.Ba,this.Ra=t.j.length},Zt.prototype.next=function(){var t=this.ub;if(t.Ba!==this.ia&&0>this.key)return!1;var e=--this.Ra;return 0<=e?(this.key=e,this.value=t.j[e],!0):(this.Sd(),!1)},Zt.prototype.rd=function(){return this.next()},Zt.prototype.first=function(){var t=this.ub;this.ia=t.Ba;var e=t.j;return this.Ra=t=e.length-1,0<=t?(e=e[t],this.key=t,this.value=e):null},Zt.prototype.any=function(t){var e=this.ub;e.gh=null;var o=(e=e.j).length;for(this.Ra=o,--o;0<=o;o--)if(t(e[o]))return!0;return!1},Zt.prototype.all=function(t){var e=this.ub;e.gh=null;var o=(e=e.j).length;for(this.Ra=o,--o;0<=o;o--)if(!t(e[o]))return!1;return!0},Zt.prototype.each=function(t){var e=this.ub;e.gh=null;var o=(e=e.j).length;for(this.Ra=o,--o;0<=o;o--)t(e[o]);return this},Zt.prototype.map=function(t){var e=this.ub;e.gh=null;var o=[],a=(e=e.j).length;for(this.Ra=a,--a;0<=a;a--)o.push(t(e[a]));return(t=new Lt).j=o,t.pb(),t.iterator},Zt.prototype.filter=function(t){var e=this.ub;e.gh=null;var o=[],a=(e=e.j).length;for(this.Ra=a,--a;0<=a;a--){var h=e[a];t(h)&&o.push(h)}return(t=new Lt).j=o,t.pb(),t.iterator},Zt.prototype.Sd=function(){this.key=-1,this.value=null,this.ia=-1,this.ub.gh=this},Zt.prototype.toString=function(){return"ListIteratorBackwards("+this.Ra+"/"+this.ub.count+")"},X.Object.defineProperties(Zt.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ub.j.length}}}),Zt.prototype.first=Zt.prototype.first,Zt.prototype.hasNext=Zt.prototype.rd,Zt.prototype.next=Zt.prototype.next,Zt.prototype.reset=Zt.prototype.reset,Zt.className="ListIteratorBackwards",(st=Lt.prototype).pb=function(){var t=this.Ba;999999999<++t&&(t=0),this.Ba=t},st.freeze=function(){return this.v=!0,this},st.ea=function(){return this.v=!1,this},st.toString=function(){return"List()#"+be(this)},st.add=function(t){return null===t||(this.v&&nt(this,t),this.j.push(t),this.pb()),this},st.push=function(t){this.add(t)},st.addAll=function(t){if(null===t)return this;this.v&&nt(this);var e=this.j;if(kt(t))for(var o=t.length,a=0;a<o;a++)e.push(t[a]);else for(t=t.iterator;t.next();)e.push(t.value);return this.pb(),this},st.clear=function(){this.v&&nt(this),this.j.length=0,this.pb()},st.contains=function(t){return null!==t&&-1!==this.j.indexOf(t)},st.has=function(t){return this.contains(t)},st.indexOf=function(t){return null===t?-1:this.j.indexOf(t)},st.J=function(t){var e=this.j;return(0>t||t>=e.length)&&Q(t,"0 <= i < length",Lt,"elt:i"),e[t]},st.get=function(t){return this.J(t)},st.Pc=function(t,e){var o=this.j;(0>t||t>=o.length)&&Q(t,"0 <= i < length",Lt,"setElt:i"),this.v&&nt(this,t),o[t]=e},st.set=function(t,e){this.Pc(t,e)},st.first=function(){var t=this.j;return 0===t.length?null:t[0]},st.Xb=function(){var t=this.j,e=t.length;return 0<e?t[e-1]:null},st.pop=function(){this.v&&nt(this);var t=this.j;return 0<t.length?t.pop():null},Lt.prototype.any=function(t){for(var e=this.j,o=e.length,a=0;a<o;a++)if(t(e[a]))return!0;return!1},Lt.prototype.all=function(t){for(var e=this.j,o=e.length,a=0;a<o;a++)if(!t(e[a]))return!1;return!0},Lt.prototype.each=function(t){for(var e=this.j,o=e.length,a=0;a<o;a++)t(e[a]);return this},Lt.prototype.map=function(t){for(var e=new Lt,o=[],a=this.j,h=a.length,c=0;c<h;c++)o.push(t(a[c]));return e.j=o,e.pb(),e},Lt.prototype.filter=function(t){for(var e=new Lt,o=[],a=this.j,h=a.length,c=0;c<h;c++){var g=a[c];t(g)&&o.push(g)}return e.j=o,e.pb(),e},(st=Lt.prototype).wb=function(t,e){0>t&&Q(t,">= 0",Lt,"insertAt:i"),this.v&&nt(this,t);var o=this.j;t>=o.length?o.push(e):o.splice(t,0,e),this.pb()},st.remove=function(t){if(null===t)return!1;this.v&&nt(this,t);var e=this.j;return-1!==(t=e.indexOf(t))&&(t===e.length-1?e.pop():e.splice(t,1),this.pb(),!0)},st.delete=function(t){return this.remove(t)},st.cb=function(t){var e=this.j;(0>t||t>=e.length)&&Q(t,"0 <= i < length",Lt,"removeAt:i"),this.v&&nt(this,t),t===e.length-1?e.pop():e.splice(t,1),this.pb()},st.removeRange=function(t,e){var o=this.j,a=o.length;if(0>t)t=0;else if(t>=a)return this;if(0>e)return this;if(e>=a&&(e=a-1),t>e)return this;this.v&&nt(this);for(var h=t,c=e+1;c<a;)o[h++]=o[c++];return o.length=a-(e-t+1),this.pb(),this},Lt.prototype.copy=function(){var t=new Lt,e=this.j;return 0<e.length&&(t.j=Array.prototype.slice.call(e)),t},(st=Lt.prototype).ma=function(){for(var t=this.j,e=this.count,o=Array(e),a=0;a<e;a++)o[a]=t[a];return o},st.Lw=function(){for(var t=new Ht,e=this.j,o=this.count,a=0;a<o;a++)t.add(e[a]);return t},st.sort=function(t){return this.v&&nt(this),this.j.sort(t),this.pb(),this},st.uj=function(t,e,o){var a=this.j,h=a.length;void 0===e&&(e=0),void 0===o&&(o=h),this.v&&nt(this);var c=o-e;if(1>=c)return this;if((0>e||e>=h-1)&&Q(e,"0 <= from < length",Lt,"sortRange:from"),2===c)return 0<t(o=a[e],h=a[e+1])&&(a[e]=h,a[e+1]=o,this.pb()),this;if(0===e)if(o>=h)a.sort(t);else for((e=a.slice(0,o)).sort(t),t=0;t<o;t++)a[t]=e[t];else if(o>=h)for((o=a.slice(e)).sort(t),t=e;t<h;t++)a[t]=o[t-e];else for((h=a.slice(e,o)).sort(t),t=e;t<o;t++)a[t]=h[t-e];return this.pb(),this},st.reverse=function(){return this.v&&nt(this),this.j.reverse(),this.pb(),this},X.Object.defineProperties(Lt.prototype,{_dataArray:{get:function(){return this.j}},count:{get:function(){return this.j.length}},size:{get:function(){return this.j.length}},length:{get:function(){return this.j.length}},iterator:{get:function(){if(0>=this.j.length)return Rt;var t=this.Ha;return null!==t?(t.reset(),t):new Bt(this)}},iteratorBackwards:{get:function(){if(0>=this.j.length)return Rt;var t=this.gh;return null!==t?(t.reset(),t):new Zt(this)}}}),Lt.prototype.reverse=Lt.prototype.reverse,Lt.prototype.sortRange=Lt.prototype.uj,Lt.prototype.sort=Lt.prototype.sort,Lt.prototype.toSet=Lt.prototype.Lw,Lt.prototype.toArray=Lt.prototype.ma,Lt.prototype.removeRange=Lt.prototype.removeRange,Lt.prototype.removeAt=Lt.prototype.cb,Lt.prototype.delete=Lt.prototype.delete,Lt.prototype.remove=Lt.prototype.remove,Lt.prototype.insertAt=Lt.prototype.wb,Lt.prototype.pop=Lt.prototype.pop,Lt.prototype.last=Lt.prototype.Xb,Lt.prototype.first=Lt.prototype.first,Lt.prototype.set=Lt.prototype.set,Lt.prototype.setElt=Lt.prototype.Pc,Lt.prototype.get=Lt.prototype.get,Lt.prototype.elt=Lt.prototype.J,Lt.prototype.indexOf=Lt.prototype.indexOf,Lt.prototype.has=Lt.prototype.has,Lt.prototype.contains=Lt.prototype.contains,Lt.prototype.clear=Lt.prototype.clear,Lt.prototype.addAll=Lt.prototype.addAll,Lt.prototype.push=Lt.prototype.push,Lt.prototype.add=Lt.prototype.add,Lt.prototype.thaw=Lt.prototype.ea,Lt.prototype.freeze=Lt.prototype.freeze,Lt.className="List",Ce.prototype.reset=function(){var t=this.tg;t.Ha=null,this.ia=t.Ba,this.ka=null},Ce.prototype.next=function(){var t=this.tg;if(t.Ba!==this.ia&&null===this.key)return!1;var e=this.ka;return null!==(e=null===e?t.ba:e.pa)?(this.ka=e,this.value=e.value,this.key=e.key,!0):(this.Sd(),!1)},Ce.prototype.rd=function(){return this.next()},Ce.prototype.first=function(){var t=this.tg;if(this.ia=t.Ba,null!==(t=t.ba)){this.ka=t;var e=t.value;return this.key=t.key,this.value=e}return null},Ce.prototype.any=function(t){var e=this.tg;for(this.ka=e.Ha=null,e=e.ba;null!==e;){if(t(e.value))return!0;e=e.pa}return!1},Ce.prototype.all=function(t){var e=this.tg;for(this.ka=e.Ha=null,e=e.ba;null!==e;){if(!t(e.value))return!1;e=e.pa}return!0},Ce.prototype.each=function(t){var e=this.tg;for(this.ka=e.Ha=null,e=e.ba;null!==e;)t(e.value),e=e.pa;return this},Ce.prototype.map=function(t){var e=this.tg;e.Ha=null;var o=new Lt;for(e=e.ba;null!==e;)o.add(t(e.value)),e=e.pa;return o.iterator},Ce.prototype.filter=function(t){var e=this.tg;e.Ha=null;var o=new Lt;for(e=e.ba;null!==e;){var a=e.value;t(a)&&o.add(a),e=e.pa}return o.iterator},Ce.prototype.Sd=function(){this.value=this.key=null,this.ia=-1,this.tg.Ha=this},Ce.prototype.toString=function(){return null!==this.ka?"SetIterator@"+this.ka.value:"SetIterator"},X.Object.defineProperties(Ce.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.tg.Fb}}}),Ce.prototype.first=Ce.prototype.first,Ce.prototype.hasNext=Ce.prototype.rd,Ce.prototype.next=Ce.prototype.next,Ce.prototype.reset=Ce.prototype.reset,Ce.className="SetIterator",(st=Ht.prototype).pb=function(){var t=this.Ba;999999999<++t&&(t=0),this.Ba=t},st.freeze=function(){return this.v=!0,this},st.ea=function(){return this.v=!1,this},st.toString=function(){return"Set()#"+be(this)},st.add=function(t){if(null===t)return this;this.v&&nt(this,t);var e=t;return Ct(t)&&(e=Si(t)),void 0===this.Hb[e]&&(this.Fb++,t=new Le(t,t),this.Hb[e]=t,null===(e=this.$e)?this.ba=t:(t.Xl=e,e.pa=t),this.$e=t,this.pb()),this},st.addAll=function(t){if(null===t)return this;if(this.v&&nt(this),kt(t))for(var e=t.length,o=0;o<e;o++)this.add(t[o]);else for(t=t.iterator;t.next();)this.add(t.value);return this},st.contains=function(t){if(null===t)return!1;var e=t;return(!Ct(t)||void 0!==(e=be(t)))&&void 0!==this.Hb[e]},st.has=function(t){return this.contains(t)},st.Ez=function(t){if(null===t)return!0;for(t=t.iterator;t.next();)if(!this.contains(t.value))return!1;return!0},st.Fz=function(t){if(null===t)return!0;for(t=t.iterator;t.next();)if(this.contains(t.value))return!0;return!1},st.first=function(){var t=this.ba;return null===t?null:t.value},Ht.prototype.any=function(t){for(var e=this.ba;null!==e;){if(t(e.value))return!0;e=e.pa}return!1},Ht.prototype.all=function(t){for(var e=this.ba;null!==e;){if(!t(e.value))return!1;e=e.pa}return!0},Ht.prototype.each=function(t){for(var e=this.ba;null!==e;)t(e.value),e=e.pa;return this},Ht.prototype.map=function(t){for(var e=new Ht,o=this.ba;null!==o;)e.add(t(o.value)),o=o.pa;return e},Ht.prototype.filter=function(t){for(var e=new Ht,o=this.ba;null!==o;){var a=o.value;t(a)&&e.add(a),o=o.pa}return e},(st=Ht.prototype).remove=function(t){if(null===t)return!1;this.v&&nt(this,t);var e=t;if(Ct(t)&&void 0===(e=be(t))||void 0===(t=this.Hb[e]))return!1;var o=t.pa,a=t.Xl;return null!==o&&(o.Xl=a),null!==a&&(a.pa=o),this.ba===t&&(this.ba=o),this.$e===t&&(this.$e=a),delete this.Hb[e],this.Fb--,this.pb(),!0},st.delete=function(t){return this.remove(t)},st.Zq=function(t){if(null===t)return this;if(this.v&&nt(this),kt(t))for(var e=t.length,o=0;o<e;o++)this.remove(t[o]);else for(t=t.iterator;t.next();)this.remove(t.value);return this},st.YA=function(t){if(null===t||0===this.count)return this;this.v&&nt(this);var e=new Ht;e.addAll(t),t=[];for(var o=this.iterator;o.next();){var a=o.value;e.contains(a)||t.push(a)}return this.Zq(t),this},st.clear=function(){this.v&&nt(this),this.Hb={},this.Fb=0,null!==this.Ha&&this.Ha.reset(),this.$e=this.ba=null,this.pb()},Ht.prototype.copy=function(){var o,t=new Ht,e=this.Hb;for(o in e)t.add(e[o].value);return t},Ht.prototype.ma=function(){var a,t=Array(this.Fb),e=this.Hb,o=0;for(a in e)t[o]=e[a].value,o++;return t},Ht.prototype.Kw=function(){var o,t=new Lt,e=this.Hb;for(o in e)t.add(e[o].value);return t},X.Object.defineProperties(Ht.prototype,{count:{get:function(){return this.Fb}},size:{get:function(){return this.Fb}},iterator:{get:function(){if(0>=this.Fb)return Rt;var t=this.Ha;return null!==t?(t.reset(),t):new Ce(this)}}}),Ht.prototype.toList=Ht.prototype.Kw,Ht.prototype.toArray=Ht.prototype.ma,Ht.prototype.clear=Ht.prototype.clear,Ht.prototype.retainAll=Ht.prototype.YA,Ht.prototype.removeAll=Ht.prototype.Zq,Ht.prototype.delete=Ht.prototype.delete,Ht.prototype.remove=Ht.prototype.remove,Ht.prototype.first=Ht.prototype.first,Ht.prototype.containsAny=Ht.prototype.Fz,Ht.prototype.containsAll=Ht.prototype.Ez,Ht.prototype.has=Ht.prototype.has,Ht.prototype.contains=Ht.prototype.contains,Ht.prototype.addAll=Ht.prototype.addAll,Ht.prototype.add=Ht.prototype.add,Ht.prototype.thaw=Ht.prototype.ea,Ht.prototype.freeze=Ht.prototype.freeze;var de=1;function je(t){this.ga=t,this.ia=t.Ba,this.ka=null}function Yt(t){Ht.call(this),me(this),this.v=!0,this.ga=t}function ee(t){this.ga=t,t.Ze=null,this.ia=t.Ba,this.ka=null}function Le(t,e){this.key=t,this.value=e,this.Xl=this.pa=null}function It(t){this.ga=t,t.Ha=null,this.ia=t.Ba,this.ka=null}function gt(t){me(this),this.v=!1,this.Hb={},this.Fb=0,this.Ze=this.Ha=null,this.Ba=0,this.$e=this.ba=null,void 0!==t&&("function"==typeof t||"string"==typeof t?_t():this.addAll(t))}function rt(t,e){void 0===t?this.y=this.x=0:"number"==typeof t&&"number"==typeof e?(this.x=t,this.y=e):z("Invalid arguments to Point constructor: "+t+", "+e),this.v=!1}function Qt(t){if("string"==typeof t){t=t.split(" ");for(var e=0,o=0;""===t[e];)e++;var a=t[e++];a&&(o=parseFloat(a));for(var h=0;""===t[e];)e++;return(a=t[e++])&&(h=parseFloat(a)),new rt(o,h)}return new rt}function ue(t){return t.x.toString()+" "+t.y.toString()}function Ze(t,e){if(0===t)return 0<e?90:0>e?270:0;if(0===e)return 0<t?0:180;if(isNaN(t)||isNaN(e))return 0;var o=180*Math.atan(Math.abs(e/t))/Math.PI;return 0>t?o=0>e?o+180:180-o:0>e&&(o=360-o),o}function ve(t,e){return e.Jd(t),t}function Ie(t,e,o,a,h,c){var g=h-o,_=c-a,k=g*g+_*_,P=-(o-=t)*g-(a-=e)*_;return 0>=P||P>=k?(g=h-t,_=c-e,Math.min(o*o+a*a,g*g+_*_)):(t=g*a-_*o)*t/k}function on(t,e,o,a){return(t=o-t)*t+(e=a-e)*e}function ni(t,e,o,a){return e=a-e,0==(t=o-t)?0<e?90:0>e?270:0:0===e?0<t?0:180:isNaN(t)||isNaN(e)?0:(a=180*Math.atan(Math.abs(e/t))/Math.PI,0>t?a=0>e?a+180:180-a:0>e&&(a=360-a),a)}Ht.className="Set",Ht.uniqueHash=me,Ht.hashIdUnique=Si,Ht.hashId=be,je.prototype.reset=function(){this.ia=this.ga.Ba,this.ka=null},je.prototype.next=function(){var t=this.ga;if(t.Ba!==this.ia&&null===this.key)return!1;var e=this.ka;return null!==(e=null===e?t.ba:e.pa)?(this.ka=e,this.value=this.key=t=e.key,!0):(this.Sd(),!1)},je.prototype.rd=function(){return this.next()},je.prototype.first=function(){var t=this.ga;return this.ia=t.Ba,null!==(t=t.ba)?(this.ka=t,this.value=this.key=t=t.key):null},je.prototype.any=function(t){var e=this.ga;for(this.ka=null,e=e.ba;null!==e;){if(t(e.key))return!0;e=e.pa}return!1},je.prototype.all=function(t){var e=this.ga;for(this.ka=null,e=e.ba;null!==e;){if(!t(e.key))return!1;e=e.pa}return!0},je.prototype.each=function(t){var e=this.ga;for(this.ka=null,e=e.ba;null!==e;)t(e.key),e=e.pa;return this},je.prototype.map=function(t){var e=this.ga;this.ka=null;var o=new Lt;for(e=e.ba;null!==e;)o.add(t(e.key)),e=e.pa;return o.iterator},je.prototype.filter=function(t){var e=this.ga;this.ka=null;var o=new Lt;for(e=e.ba;null!==e;){var a=e.key;t(a)&&o.add(a),e=e.pa}return o.iterator},je.prototype.Sd=function(){this.value=this.key=null,this.ia=-1},je.prototype.toString=function(){return null!==this.ka?"MapKeySetIterator@"+this.ka.value:"MapKeySetIterator"},X.Object.defineProperties(je.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ga.Fb}}}),je.prototype.first=je.prototype.first,je.prototype.hasNext=je.prototype.rd,je.prototype.next=je.prototype.next,je.prototype.reset=je.prototype.reset,je.className="MapKeySetIterator",et(Yt,Ht),(st=Yt.prototype).freeze=function(){return this},st.ea=function(){return this},st.toString=function(){return"MapKeySet("+this.ga.toString()+")"},st.add=function(){return z("This Set is read-only: "+this.toString()),this},st.contains=function(t){return this.ga.contains(t)},st.has=function(t){return this.contains(t)},st.remove=function(){return z("This Set is read-only: "+this.toString()),!1},st.delete=function(t){return this.remove(t)},st.clear=function(){z("This Set is read-only: "+this.toString())},st.first=function(){var t=this.ga.ba;return null!==t?t.key:null},Yt.prototype.any=function(t){for(var e=this.ga.ba;null!==e;){if(t(e.key))return!0;e=e.pa}return!1},Yt.prototype.all=function(t){for(var e=this.ga.ba;null!==e;){if(!t(e.key))return!1;e=e.pa}return!0},Yt.prototype.each=function(t){for(var e=this.ga.ba;null!==e;)t(e.key),e=e.pa;return this},Yt.prototype.map=function(t){for(var e=new Ht,o=this.ga.ba;null!==o;)e.add(t(o.key)),o=o.pa;return e},Yt.prototype.filter=function(t){for(var e=new Ht,o=this.ga.ba;null!==o;){var a=o.key;t(a)&&e.add(a),o=o.pa}return e},Yt.prototype.copy=function(){return new Yt(this.ga)},Yt.prototype.Lw=function(){var o,t=new Ht,e=this.ga.Hb;for(o in e)t.add(e[o].key);return t},Yt.prototype.ma=function(){var a,t=this.ga.Hb,e=Array(this.ga.Fb),o=0;for(a in t)e[o]=t[a].key,o++;return e},Yt.prototype.Kw=function(){var o,t=new Lt,e=this.ga.Hb;for(o in e)t.add(e[o].key);return t},X.Object.defineProperties(Yt.prototype,{count:{get:function(){return this.ga.Fb}},size:{get:function(){return this.ga.Fb}},iterator:{get:function(){return 0>=this.ga.Fb?Rt:new je(this.ga)}}}),Yt.prototype.toList=Yt.prototype.Kw,Yt.prototype.toArray=Yt.prototype.ma,Yt.prototype.toSet=Yt.prototype.Lw,Yt.prototype.first=Yt.prototype.first,Yt.prototype.clear=Yt.prototype.clear,Yt.prototype.delete=Yt.prototype.delete,Yt.prototype.remove=Yt.prototype.remove,Yt.prototype.has=Yt.prototype.has,Yt.prototype.contains=Yt.prototype.contains,Yt.prototype.add=Yt.prototype.add,Yt.prototype.thaw=Yt.prototype.ea,Yt.prototype.freeze=Yt.prototype.freeze,Yt.className="MapKeySet",ee.prototype.reset=function(){var t=this.ga;t.Ze=null,this.ia=t.Ba,this.ka=null},ee.prototype.next=function(){var t=this.ga;if(t.Ba!==this.ia&&null===this.key)return!1;var e=this.ka;return null!==(e=null===e?t.ba:e.pa)?(this.ka=e,this.value=e.value,this.key=e.key,!0):(this.Sd(),!1)},ee.prototype.rd=function(){return this.next()},ee.prototype.first=function(){var t=this.ga;if(this.ia=t.Ba,null!==(t=t.ba)){this.ka=t;var e=t.value;return this.key=t.key,this.value=e}return null},ee.prototype.any=function(t){var e=this.ga;for(this.ka=e.Ze=null,e=e.ba;null!==e;){if(t(e.value))return!0;e=e.pa}return!1},ee.prototype.all=function(t){var e=this.ga;for(this.ka=e.Ze=null,e=e.ba;null!==e;){if(!t(e.value))return!1;e=e.pa}return!0},ee.prototype.each=function(t){var e=this.ga;for(this.ka=e.Ze=null,e=e.ba;null!==e;)t(e.value),e=e.pa;return this},ee.prototype.map=function(t){var e=this.ga;this.ka=e.Ze=null;var o=new Lt;for(e=e.ba;null!==e;)o.add(t(e.value)),e=e.pa;return o.iterator},ee.prototype.filter=function(t){var e=this.ga;this.ka=e.Ze=null;var o=new Lt;for(e=e.ba;null!==e;){var a=e.value;t(a)&&o.add(a),e=e.pa}return o.iterator},ee.prototype.Sd=function(){this.value=this.key=null,this.ia=-1,this.ga.Ze=this},ee.prototype.toString=function(){return null!==this.ka?"MapValueSetIterator@"+this.ka.value:"MapValueSetIterator"},X.Object.defineProperties(ee.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ga.Fb}}}),ee.prototype.first=ee.prototype.first,ee.prototype.hasNext=ee.prototype.rd,ee.prototype.next=ee.prototype.next,ee.prototype.reset=ee.prototype.reset,ee.className="MapValueSetIterator",Le.prototype.toString=function(){return"{"+this.key+":"+this.value+"}"},Le.className="KeyValuePair",It.prototype.reset=function(){var t=this.ga;t.Ha=null,this.ia=t.Ba,this.ka=null},It.prototype.next=function(){var t=this.ga;if(t.Ba!==this.ia&&null===this.key)return!1;var e=this.ka;return null!==(e=null===e?t.ba:e.pa)?(this.ka=e,this.key=e.key,this.value=e.value,!0):(this.Sd(),!1)},It.prototype.rd=function(){return this.next()},It.prototype.first=function(){var t=this.ga;return this.ia=t.Ba,null!==(t=t.ba)?(this.ka=t,this.key=t.key,this.value=t.value,t):null},It.prototype.any=function(t){var e=this.ga;for(this.ka=e.Ha=null,e=e.ba;null!==e;){if(t(e))return!0;e=e.pa}return!1},It.prototype.all=function(t){var e=this.ga;for(this.ka=e.Ha=null,e=e.ba;null!==e;){if(!t(e))return!1;e=e.pa}return!0},It.prototype.each=function(t){var e=this.ga;for(this.ka=e.Ha=null,e=e.ba;null!==e;)t(e),e=e.pa;return this},It.prototype.map=function(t){var e=this.ga;this.ka=e.Ha=null;var o=new Lt;for(e=e.ba;null!==e;)o.add(t(e)),e=e.pa;return o.iterator},It.prototype.filter=function(t){var e=this.ga;this.ka=e.Ha=null;var o=new Lt;for(e=e.ba;null!==e;)t(e)&&o.add(e),e=e.pa;return o.iterator},It.prototype.Sd=function(){this.value=this.key=null,this.ia=-1,this.ga.Ha=this},It.prototype.toString=function(){return null!==this.ka?"MapIterator@"+this.ka:"MapIterator"},X.Object.defineProperties(It.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ga.Fb}}}),It.prototype.first=It.prototype.first,It.prototype.hasNext=It.prototype.rd,It.prototype.next=It.prototype.next,It.prototype.reset=It.prototype.reset,It.className="MapIterator",(st=gt.prototype).pb=function(){var t=this.Ba;999999999<++t&&(t=0),this.Ba=t},st.freeze=function(){return this.v=!0,this},st.ea=function(){return this.v=!1,this},st.toString=function(){return"Map()#"+be(this)},st.add=function(t,e){this.v&&nt(this,t);var o=t;Ct(t)&&(o=Si(t));var a=this.Hb[o];return void 0===a?(this.Fb++,t=new Le(t,e),this.Hb[o]=t,null===(o=this.$e)?this.ba=t:(t.Xl=o,o.pa=t),this.$e=t,this.pb()):a.value=e,this},st.set=function(t,e){return this.add(t,e)},st.addAll=function(t){if(null===t)return this;if(kt(t))for(var e=t.length,o=0;o<e;o++){var a=t[o];this.add(a.key,a.value)}else if(t instanceof gt)for(t=t.iterator;t.next();)this.add(t.key,t.value);else for(t=t.iterator;t.next();)this.add((e=t.value).key,e.value);return this},st.first=function(){return this.ba},gt.prototype.any=function(t){for(var e=this.ba;null!==e;){if(t(e))return!0;e=e.pa}return!1},gt.prototype.all=function(t){for(var e=this.ba;null!==e;){if(!t(e))return!1;e=e.pa}return!0},gt.prototype.each=function(t){for(var e=this.ba;null!==e;)t(e),e=e.pa;return this},gt.prototype.map=function(t){for(var e=new gt,o=this.ba;null!==o;)e.add(o.key,t(o)),o=o.pa;return e},gt.prototype.filter=function(t){for(var e=new gt,o=this.ba;null!==o;)t(o)&&e.add(o.key,o.value),o=o.pa;return e},(st=gt.prototype).contains=function(t){var e=t;return(!Ct(t)||void 0!==(e=be(t)))&&void 0!==this.Hb[e]},st.has=function(t){return this.contains(t)},st.G=function(t){var e=t;return Ct(t)&&void 0===(e=be(t))||void 0===(t=this.Hb[e])?null:t.value},st.get=function(t){return this.G(t)},st.remove=function(t){if(null===t)return!1;this.v&&nt(this,t);var e=t;if(Ct(t)&&void 0===(e=be(t))||void 0===(t=this.Hb[e]))return!1;var o=t.pa,a=t.Xl;return null!==o&&(o.Xl=a),null!==a&&(a.pa=o),this.ba===t&&(this.ba=o),this.$e===t&&(this.$e=a),delete this.Hb[e],this.Fb--,this.pb(),!0},st.delete=function(t){return this.remove(t)},st.clear=function(){this.v&&nt(this),this.Hb={},this.Fb=0,null!==this.Ha&&this.Ha.reset(),null!==this.Ze&&this.Ze.reset(),this.$e=this.ba=null,this.pb()},gt.prototype.copy=function(){var o,t=new gt,e=this.Hb;for(o in e){var a=e[o];t.add(a.key,a.value)}return t},gt.prototype.ma=function(){var a,t=this.Hb,e=Array(this.Fb),o=0;for(a in t){var h=t[a];e[o]=new Le(h.key,h.value),o++}return e},gt.prototype.Kf=function(){return new Yt(this)},X.Object.defineProperties(gt.prototype,{count:{get:function(){return this.Fb}},size:{get:function(){return this.Fb}},iterator:{get:function(){if(0>=this.count)return Rt;var t=this.Ha;return null!==t?(t.reset(),t):new It(this)}},iteratorKeys:{get:function(){return 0>=this.count?Rt:new je(this)}},iteratorValues:{get:function(){if(0>=this.count)return Rt;var t=this.Ze;return null!==t?(t.reset(),t):new ee(this)}}}),gt.prototype.toKeySet=gt.prototype.Kf,gt.prototype.toArray=gt.prototype.ma,gt.prototype.clear=gt.prototype.clear,gt.prototype.delete=gt.prototype.delete,gt.prototype.remove=gt.prototype.remove,gt.prototype.get=gt.prototype.get,gt.prototype.getValue=gt.prototype.G,gt.prototype.has=gt.prototype.has,gt.prototype.contains=gt.prototype.contains,gt.prototype.first=gt.prototype.first,gt.prototype.addAll=gt.prototype.addAll,gt.prototype.set=gt.prototype.set,gt.prototype.add=gt.prototype.add,gt.prototype.thaw=gt.prototype.ea,gt.prototype.freeze=gt.prototype.freeze,gt.className="Map",rt.prototype.assign=function(t){return this.x=t.x,this.y=t.y,this},rt.prototype.h=function(t,e){return this.x=t,this.y=e,this},rt.prototype.Ig=function(t,e){return this.x=t,this.y=e,this},rt.prototype.set=function(t){return this.x=t.x,this.y=t.y,this},rt.prototype.copy=function(){var t=new rt;return t.x=this.x,t.y=this.y,t},(st=rt.prototype).ca=function(){return this.v=!0,Object.freeze(this),this},st.H=function(){return this.v||Object.isFrozen(this)?this:this.copy().freeze()},st.freeze=function(){return this.v=!0,this},st.ea=function(){return Object.isFrozen(this)&&z("cannot thaw constant: "+this),this.v=!1,this},st.toString=function(){return"Point("+this.x+","+this.y+")"},st.w=function(t){return t instanceof rt&&this.x===t.x&&this.y===t.y},st.fj=function(t,e){return this.x===t&&this.y===e},st.Qa=function(t){return pe.A(this.x,t.x)&&pe.A(this.y,t.y)},st.add=function(t){return this.x+=t.x,this.y+=t.y,this},st.ge=function(t){return this.x-=t.x,this.y-=t.y,this},st.offset=function(t,e){return this.x+=t,this.y+=e,this},rt.prototype.rotate=function(t){if(0===t)return this;var e=this.x,o=this.y;if(0===e&&0===o)return this;if(360<=t?t-=360:0>t&&(t+=360),90===t){t=0;var a=1}else 180===t?(t=-1,a=0):270===t?(t=0,a=-1):(a=t*Math.PI/180,t=Math.cos(a),a=Math.sin(a));return this.x=t*e-a*o,this.y=a*e+t*o,this},(st=rt.prototype).scale=function(t,e){return this.x*=t,this.y*=e,this},st.Ie=function(t){var e=t.x-this.x;return e*e+(t=t.y-this.y)*t},st.qd=function(t,e){return(t-=this.x)*t+(e-=this.y)*e},st.normalize=function(){var t=this.x,e=this.y,o=Math.sqrt(t*t+e*e);return 0<o&&(this.x=t/o,this.y=e/o),this},st.Pa=function(t){return Ze(t.x-this.x,t.y-this.y)},st.direction=function(t,e){return Ze(t-this.x,e-this.y)},st.OA=function(t,e,o,a){return pe.Qh(t,e,o,a,this.x,this.y,this),this},st.PA=function(t,e){return pe.Qh(t.x,t.y,e.x,e.y,this.x,this.y,this),this},st.cB=function(t,e,o,a){return pe.Gq(this.x,this.y,t,e,o,a,this),this},st.dB=function(t,e){return pe.Gq(this.x,this.y,t.x,t.y,e.width,e.height,this),this},st.tj=function(t,e){return this.x=t.x+e.x*t.width+e.offsetX,this.y=t.y+e.y*t.height+e.offsetY,this},st.Uk=function(t,e,o,a,h){return this.x=t+h.x*o+h.offsetX,this.y=e+h.y*a+h.offsetY,this},st.transform=function(t){return t.ta(this),this},st.o=function(){return isFinite(this.x)&&isFinite(this.y)},rt.alloc=function(){var t=Mi.pop();return void 0===t?new rt:t},rt.allocAt=function(t,e){var o=Mi.pop();return void 0===o?new rt(t,e):(o.x=t,o.y=e,o)},rt.free=function(t){Mi.push(t)},rt.prototype.isReal=rt.prototype.o,rt.prototype.setSpot=rt.prototype.Uk,rt.prototype.setRectSpot=rt.prototype.tj,rt.prototype.snapToGridPoint=rt.prototype.dB,rt.prototype.snapToGrid=rt.prototype.cB,rt.prototype.projectOntoLineSegmentPoint=rt.prototype.PA,rt.prototype.projectOntoLineSegment=rt.prototype.OA,rt.intersectingLineSegments=function(t,e,o,a,h,c,g,_){return pe.Cm(t,e,o,a,h,c,g,_)},rt.prototype.direction=rt.prototype.direction,rt.prototype.directionPoint=rt.prototype.Pa,rt.prototype.normalize=rt.prototype.normalize,rt.prototype.distanceSquared=rt.prototype.qd,rt.prototype.distanceSquaredPoint=rt.prototype.Ie,rt.prototype.scale=rt.prototype.scale,rt.prototype.rotate=rt.prototype.rotate,rt.prototype.offset=rt.prototype.offset,rt.prototype.subtract=rt.prototype.ge,rt.prototype.add=rt.prototype.add,rt.prototype.equalsApprox=rt.prototype.Qa,rt.prototype.equalTo=rt.prototype.fj,rt.prototype.equals=rt.prototype.w,rt.prototype.set=rt.prototype.set,rt.prototype.setTo=rt.prototype.Ig;var ii,Xi,vi,_i,Ln,fn,Ei,Oe,ai,ke,re,De,Mi=[];function Ge(t,e){void 0===t?this.height=this.width=0:"number"==typeof t&&(0<=t||isNaN(t))&&"number"==typeof e&&(0<=e||isNaN(e))?(this.width=t,this.height=e):z("Invalid arguments to Size constructor: "+t+", "+e),this.v=!1}function he(t){if("string"==typeof t){t=t.split(" ");for(var e=0,o=0;""===t[e];)e++;var a=t[e++];a&&(o=parseFloat(a));for(var h=0;""===t[e];)e++;return(a=t[e++])&&(h=parseFloat(a)),new Ge(o,h)}return new Ge}function Se(t){return t.width.toString()+" "+t.height.toString()}rt.className="Point",rt.parse=Qt,rt.stringify=ue,rt.distanceLineSegmentSquared=Ie,rt.distanceSquared=on,rt.direction=ni,rt.Origin=ii=new rt(0,0).ca(),rt.InfiniteTopLeft=Xi=new rt(-1/0,-1/0).ca(),rt.InfiniteBottomRight=vi=new rt(1/0,1/0).ca(),rt.SixPoint=_i=new rt(6,6).ca(),rt.NoPoint=Ln=new rt(NaN,NaN).ca(),rt.parse=Qt,rt.stringify=ue,rt.distanceLineSegmentSquared=Ie,rt.distanceSquared=on,rt.direction=ni,Ge.prototype.assign=function(t){return this.width=t.width,this.height=t.height,this},Ge.prototype.h=function(t,e){return this.width=t,this.height=e,this},Ge.prototype.Ig=function(t,e){return this.width=t,this.height=e,this},Ge.prototype.set=function(t){return this.width=t.width,this.height=t.height,this},Ge.prototype.copy=function(){var t=new Ge;return t.width=this.width,t.height=this.height,t},(st=Ge.prototype).ca=function(){return this.v=!0,Object.freeze(this),this},st.H=function(){return this.v||Object.isFrozen(this)?this:this.copy().freeze()},st.freeze=function(){return this.v=!0,this},st.ea=function(){return Object.isFrozen(this)&&z("cannot thaw constant: "+this),this.v=!1,this},st.toString=function(){return"Size("+this.width+","+this.height+")"},st.w=function(t){return t instanceof Ge&&this.width===t.width&&this.height===t.height},st.fj=function(t,e){return this.width===t&&this.height===e},st.Qa=function(t){return pe.A(this.width,t.width)&&pe.A(this.height,t.height)},st.o=function(){return isFinite(this.width)&&isFinite(this.height)},Ge.alloc=function(){var t=$e.pop();return void 0===t?new Ge:t},Ge.free=function(t){$e.push(t)},Ge.prototype.isReal=Ge.prototype.o,Ge.prototype.equalsApprox=Ge.prototype.Qa,Ge.prototype.equalTo=Ge.prototype.fj,Ge.prototype.equals=Ge.prototype.w,Ge.prototype.set=Ge.prototype.set,Ge.prototype.setTo=Ge.prototype.Ig;var $e=[];function te(t,e,o,a){void 0===t?this.height=this.width=this.y=this.x=0:t instanceof rt?(o=t.x,t=t.y,e instanceof rt?(a=e.x,e=e.y,this.x=Math.min(o,a),this.y=Math.min(t,e),this.width=Math.abs(o-a),this.height=Math.abs(t-e)):e instanceof Ge?(this.x=o,this.y=t,this.width=e.width,this.height=e.height):z("Incorrect arguments supplied to Rect constructor")):"number"==typeof t&&"number"==typeof e&&"number"==typeof o&&(0<=o||isNaN(o))&&"number"==typeof a&&(0<=a||isNaN(a))?(this.x=t,this.y=e,this.width=o,this.height=a):z("Invalid arguments to Rect constructor: "+t+", "+e+", "+o+", "+a),this.v=!1}function Re(t,e,o){t.width=e,t.height=o}function sn(t){if("string"==typeof t){t=t.split(" ");for(var e=0,o=0;""===t[e];)e++;var a=t[e++];a&&(o=parseFloat(a));for(var h=0;""===t[e];)e++;(a=t[e++])&&(h=parseFloat(a));for(var c=0;""===t[e];)e++;(a=t[e++])&&(c=parseFloat(a));for(var g=0;""===t[e];)e++;return(a=t[e++])&&(g=parseFloat(a)),new te(o,h,c,g)}return new te}function Qe(t){return t.x.toString()+" "+t.y.toString()+" "+t.width.toString()+" "+t.height.toString()}function di(t,e){return pe.aa(t.x,e.x)&&pe.aa(t.y,e.y)&&pe.aa(t.width,e.width)&&pe.aa(t.height,e.height)}function Bn(t,e,o,a,h){var c=t.width;return o+h<=-c?(t.x+=c/2,t.width=0):(t.x-=h,t.width+=o+h),e+a<=-(o=t.height)?(t.y+=o/2,t.height=0):(t.y-=e,t.height+=e+a),t}function ci(t,e,o,a,h){var c=Math.max(t.x,e),g=Math.max(t.y,o);return e=Math.min(t.x+t.width,e+a),o=Math.min(t.y+t.height,o+h),t.x=c,t.y=g,t.width=Math.max(0,e-c),t.height=Math.max(0,o-g),t}function si(t,e){var o=t.width,a=t.x,h=e.x-10;return!(a>e.width+10+10+h||h>o+a||(o=t.height,(t=t.y)>e.height+10+10+(a=e.y-10)||a>o+t))}function an(t,e,o,a,h){var c=Math.min(t.x,e),g=Math.min(t.y,o);return e=Math.max(t.x+t.width,e+a),o=Math.max(t.y+t.height,o+h),t.x=c,t.y=g,t.width=e-c,t.height=o-g,t}function cn(t,e,o,a,h,c,g,_){return void 0===g&&(g=0),void 0===_&&(_=0),t<=h&&h+g<=t+o&&e<=c&&c+_<=e+a}function Fn(t,e,o,a,h,c,g,_){return!(t>g+h||h>o+t||e>_+c||c>a+e)}Ge.className="Size",Ge.parse=he,Ge.stringify=Se,Ge.ZeroSize=fn=new Ge(0,0).ca(),Ge.OneSize=Ei=new Ge(1,1).ca(),Ge.SixSize=Oe=new Ge(6,6).ca(),Ge.EightSize=ai=new Ge(8,8).ca(),Ge.TenSize=ke=new Ge(10,10).ca(),Ge.InfiniteSize=re=new Ge(1/0,1/0).ca(),Ge.NoSize=De=new Ge(NaN,NaN).ca(),Ge.parse=he,Ge.stringify=Se,(st=te.prototype).assign=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},st.h=function(t,e,o,a){return this.x=t,this.y=e,this.width=o,this.height=a,this},st.Ig=function(t,e,o,a){return this.x=t,this.y=e,this.width=o,this.height=a,this},st.set=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},st.Qc=function(t){return this.x=t.x,this.y=t.y,this},st.bB=function(t){return this.width=t.width,this.height=t.height,this},te.prototype.copy=function(){var t=new te;return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},(st=te.prototype).ca=function(){return this.v=!0,Object.freeze(this),this},st.H=function(){return this.v||Object.isFrozen(this)?this:this.copy().freeze()},st.freeze=function(){return this.v=!0,this},st.ea=function(){return Object.isFrozen(this)&&z("cannot thaw constant: "+this),this.v=!1,this},st.toString=function(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"},st.w=function(t){return t instanceof te&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},st.fj=function(t,e,o,a){return this.x===t&&this.y===e&&this.width===o&&this.height===a},st.Qa=function(t){return pe.A(this.x,t.x)&&pe.A(this.y,t.y)&&pe.A(this.width,t.width)&&pe.A(this.height,t.height)},st.$=function(t){return this.x<=t.x&&this.x+this.width>=t.x&&this.y<=t.y&&this.y+this.height>=t.y},st.Ge=function(t){return this.x<=t.x&&t.x+t.width<=this.x+this.width&&this.y<=t.y&&t.y+t.height<=this.y+this.height},st.contains=function(t,e,o,a){return void 0===o&&(o=0),void 0===a&&(a=0),this.x<=t&&t+o<=this.x+this.width&&this.y<=e&&e+a<=this.y+this.height},st.offset=function(t,e){return this.x+=t,this.y+=e,this},st.Jc=function(t,e){return Bn(this,e,t,e,t)},st.uq=function(t){return Bn(this,t.top,t.right,t.bottom,t.left)},st.Jw=function(t){return Bn(this,-t.top,-t.right,-t.bottom,-t.left)},st.sA=function(t,e,o,a){return Bn(this,t,e,o,a)},st.Dy=function(t){return ci(this,t.x,t.y,t.width,t.height)},st.bw=function(t,e,o,a){return ci(this,t,e,o,a)},st.Mc=function(t){return this.cw(t.x,t.y,t.width,t.height)},st.cw=function(t,e,o,a){var h=this.width,c=this.x;return!(h!==1/0&&o!==1/0&&(h+=c,o+=t,isNaN(o)||isNaN(h)||c>o||t>h)||(o=this.y,(t=this.height)!==1/0&&a!==1/0&&(t+=o,a+=e,isNaN(a)||isNaN(t)||o>a||e>t)))},st.Oe=function(t){return an(this,t.x,t.y,0,0)},st.Rc=function(t){return an(this,t.x,t.y,t.width,t.height)},st.Rw=function(t,e,o,a){return void 0===o&&(o=0),void 0===a&&(a=0),an(this,t,e,o,a)},st.Uk=function(t,e,o){return this.x=t-o.offsetX-o.x*this.width,this.y=e-o.offsetY-o.y*this.height,this},st.o=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},st.yA=function(){return 0===this.width&&0===this.height},te.alloc=function(){var t=Jn.pop();return void 0===t?new te:t},te.allocAt=function(t,e,o,a){var h=Jn.pop();return void 0===h?new te(t,e,o,a):h.h(t,e,o,a)},te.free=function(t){Jn.push(t)},X.Object.defineProperties(te.prototype,{left:{get:function(){return this.x},set:function(t){this.x=t}},top:{get:function(){return this.y},set:function(t){this.y=t}},right:{get:function(){return this.x+this.width},set:function(t){this.x+=t-(this.x+this.width)}},bottom:{get:function(){return this.y+this.height},set:function(t){this.y+=t-(this.y+this.height)}},position:{get:function(){return new rt(this.x,this.y)},set:function(t){this.x=t.x,this.y=t.y}},size:{get:function(){return new Ge(this.width,this.height)},set:function(t){this.width=t.width,this.height=t.height}},center:{get:function(){return new rt(this.x+this.width/2,this.y+this.height/2)},set:function(t){this.x=t.x-this.width/2,this.y=t.y-this.height/2}},centerX:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}}),te.prototype.isEmpty=te.prototype.yA,te.prototype.isReal=te.prototype.o,te.intersectsLineSegment=function(t,e,o,a,h,c,g,_){return pe.Ey(t,e,o,a,h,c,g,_)},te.prototype.setSpot=te.prototype.Uk,te.prototype.union=te.prototype.Rw,te.prototype.unionRect=te.prototype.Rc,te.prototype.unionPoint=te.prototype.Oe,te.prototype.intersects=te.prototype.cw,te.prototype.intersectsRect=te.prototype.Mc,te.prototype.intersect=te.prototype.bw,te.prototype.intersectRect=te.prototype.Dy,te.prototype.grow=te.prototype.sA,te.prototype.subtractMargin=te.prototype.Jw,te.prototype.addMargin=te.prototype.uq,te.prototype.inflate=te.prototype.Jc,te.prototype.offset=te.prototype.offset,te.prototype.contains=te.prototype.contains,te.prototype.containsRect=te.prototype.Ge,te.prototype.containsPoint=te.prototype.$,te.prototype.equalsApprox=te.prototype.Qa,te.prototype.equalTo=te.prototype.fj,te.prototype.equals=te.prototype.w,te.prototype.setSize=te.prototype.bB,te.prototype.setPoint=te.prototype.Qc,te.prototype.set=te.prototype.set,te.prototype.setTo=te.prototype.Ig;var Or,Vn,Jn=[];function hn(t,e,o,a){void 0===t?this.left=this.bottom=this.right=this.top=0:void 0===e?this.left=this.bottom=this.right=this.top=t:void 0===o?(this.top=t,this.right=e,this.bottom=t,this.left=e):void 0!==a?(this.top=t,this.right=e,this.bottom=o,this.left=a):z("Invalid arguments to Margin constructor: "+t+", "+e+", "+o+", "+a),this.v=!1}function jr(t){if("string"==typeof t){t=t.split(" ");for(var e=0,o=NaN;""===t[e];)e++;var a=t[e++];if(a&&(o=parseFloat(a)),isNaN(o))return new hn;for(var h=NaN;""===t[e];)e++;if((a=t[e++])&&(h=parseFloat(a)),isNaN(h))return new hn(o);for(var c=NaN;""===t[e];)e++;if((a=t[e++])&&(c=parseFloat(a)),isNaN(c))return new hn(o,h);for(var g=NaN;""===t[e];)e++;return(a=t[e++])&&(g=parseFloat(a)),isNaN(g)?new hn(o,h):new hn(o,h,c,g)}return new hn}function wr(t){return t.top.toString()+" "+t.right.toString()+" "+t.bottom.toString()+" "+t.left.toString()}te.className="Rect",te.parse=sn,te.stringify=Qe,te.contains=cn,te.intersects=Fn,te.ZeroRect=Or=new te(0,0,0,0).ca(),te.NoRect=Vn=new te(NaN,NaN,NaN,NaN).ca(),te.parse=sn,te.stringify=Qe,te.contains=cn,te.intersects=Fn,hn.prototype.assign=function(t){return this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left,this},hn.prototype.Ig=function(t,e,o,a){return this.top=t,this.right=e,this.bottom=o,this.left=a,this},hn.prototype.set=function(t){return this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left,this},hn.prototype.copy=function(){var t=new hn;return t.top=this.top,t.right=this.right,t.bottom=this.bottom,t.left=this.left,t},(st=hn.prototype).ca=function(){return this.v=!0,Object.freeze(this),this},st.H=function(){return this.v||Object.isFrozen(this)?this:this.copy().freeze()},st.freeze=function(){return this.v=!0,this},st.ea=function(){return Object.isFrozen(this)&&z("cannot thaw constant: "+this),this.v=!1,this},st.toString=function(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"},st.w=function(t){return t instanceof hn&&this.top===t.top&&this.right===t.right&&this.bottom===t.bottom&&this.left===t.left},st.fj=function(t,e,o,a){return this.top===t&&this.right===e&&this.bottom===o&&this.left===a},st.Qa=function(t){return pe.A(this.top,t.top)&&pe.A(this.right,t.right)&&pe.A(this.bottom,t.bottom)&&pe.A(this.left,t.left)},st.o=function(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)},hn.alloc=function(){var t=Co.pop();return void 0===t?new hn:t},hn.free=function(t){Co.push(t)},hn.prototype.isReal=hn.prototype.o,hn.prototype.equalsApprox=hn.prototype.Qa,hn.prototype.equalTo=hn.prototype.fj,hn.prototype.equals=hn.prototype.w,hn.prototype.set=hn.prototype.set,hn.prototype.setTo=hn.prototype.Ig;var br,Xn,mn,gr,En,_o,No,Hi,Un,Ou,gc,tl,wm,rd,_r,ga,Zy,bm,qy,Nu,ql,zx,Jy,Hx,Lu,_m,uv,zs,rp,od,Ux,Na,va,os,Nr,ss,Gx,Wx,Co=[];function Ti(t,e,o,a){void 0===t?this.offsetY=this.offsetX=this.y=this.x=0:(void 0===e&&(e=0),void 0===o&&(o=0),void 0===a&&(a=0),this.x=t,this.y=e,this.offsetX=o,this.offsetY=a),this.v=!1}function Ji(t,e){return t.x=NaN,t.y=NaN,t.offsetX=e,t}function Yx(t){if("string"==typeof t){if("None"===(t=t.trim()))return mn;if("TopLeft"===t)return gr;if("Top"===t||"TopCenter"===t||"MiddleTop"===t)return En;if("TopRight"===t)return _o;if("Left"===t||"LeftCenter"===t||"MiddleLeft"===t)return No;if("Center"===t)return Hi;if("Right"===t||"RightCenter"===t||"MiddleRight"===t)return Un;if("BottomLeft"===t)return Ou;if("Bottom"===t||"BottomCenter"===t||"MiddleBottom"===t)return gc;if("BottomRight"===t)return tl;if("TopSide"===t)return wm;if("LeftSide"===t)return rd;if("RightSide"===t)return _r;if("BottomSide"===t)return ga;if("TopBottomSides"===t)return Zy;if("LeftRightSides"===t)return bm;if("TopLeftSides"===t)return qy;if("TopRightSides"===t)return Nu;if("BottomLeftSides"===t)return ql;if("BottomRightSides"===t)return zx;if("NotTopSide"===t)return Jy;if("NotLeftSide"===t)return Hx;if("NotRightSide"===t)return Lu;if("NotBottomSide"===t)return _m;if("AllSides"===t)return uv;if("Default"===t)return zs;t=t.split(" ");for(var e=0,o=0;""===t[e];)e++;var a=t[e++];void 0!==a&&0<a.length&&(o=parseFloat(a));for(var h=0;""===t[e];)e++;void 0!==(a=t[e++])&&0<a.length&&(h=parseFloat(a));for(var c=0;""===t[e];)e++;void 0!==(a=t[e++])&&0<a.length&&(c=parseFloat(a));for(var g=0;""===t[e];)e++;return void 0!==(a=t[e++])&&0<a.length&&(g=parseFloat(a)),new Ti(o,h,c,g)}return new Ti}function ir(t){return t.kb()?t.x.toString()+" "+t.y.toString()+" "+t.offsetX.toString()+" "+t.offsetY.toString():t.toString()}hn.className="Margin",hn.parse=jr,hn.stringify=wr,hn.ZeroMargin=br=new hn(0,0,0,0).ca(),hn.TwoMargin=Xn=new hn(2,2,2,2).ca(),hn.parse=jr,hn.stringify=wr,Ti.prototype.assign=function(t){return this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this},Ti.prototype.Ig=function(t,e,o,a){return this.x=t,this.y=e,this.offsetX=o,this.offsetY=a,this},Ti.prototype.set=function(t){return this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this},Ti.prototype.copy=function(){var t=new Ti;return t.x=this.x,t.y=this.y,t.offsetX=this.offsetX,t.offsetY=this.offsetY,t},(st=Ti.prototype).ca=function(){return this.v=!0,Object.freeze(this),this},st.H=function(){return this.v||Object.isFrozen(this)?this:this.copy().freeze()},st.freeze=function(){return this.v=!0,this},st.ea=function(){return Object.isFrozen(this)&&z("cannot thaw constant: "+this),this.v=!1,this},st.toString=function(){return this.kb()?0===this.offsetX&&0===this.offsetY?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.w(mn)?"None":this.w(gr)?"TopLeft":this.w(En)?"Top":this.w(_o)?"TopRight":this.w(No)?"Left":this.w(Hi)?"Center":this.w(Un)?"Right":this.w(Ou)?"BottomLeft":this.w(gc)?"Bottom":this.w(tl)?"BottomRight":this.w(wm)?"TopSide":this.w(rd)?"LeftSide":this.w(_r)?"RightSide":this.w(ga)?"BottomSide":this.w(Zy)?"TopBottomSides":this.w(bm)?"LeftRightSides":this.w(qy)?"TopLeftSides":this.w(Nu)?"TopRightSides":this.w(ql)?"BottomLeftSides":this.w(zx)?"BottomRightSides":this.w(Jy)?"NotTopSide":this.w(Hx)?"NotLeftSide":this.w(Lu)?"NotRightSide":this.w(_m)?"NotBottomSide":this.w(uv)?"AllSides":this.w(zs)?"Default":"None"},st.w=function(t){return t instanceof Ti&&(this.x===t.x||isNaN(this.x)&&isNaN(t.x))&&(this.y===t.y||isNaN(this.y)&&isNaN(t.y))&&this.offsetX===t.offsetX&&this.offsetY===t.offsetY},st.mw=function(){return new Ti(.5-(this.x-.5),.5-(this.y-.5),-this.offsetX,-this.offsetY)},st.Ef=function(t){if(!this.Oc())return!1;if(!t.Oc())if(t.w(rp))t=rd;else if(t.w(od))t=_r;else if(t.w(Ux))t=wm;else{if(!t.w(Na))return!1;t=ga}return(this.offsetY&(t=t.offsetY))===t},st.kb=function(){return!isNaN(this.x)&&!isNaN(this.y)},st.nc=function(){return isNaN(this.x)||isNaN(this.y)},st.Oc=function(){return isNaN(this.x)&&isNaN(this.y)&&1===this.offsetX&&0!==this.offsetY},st.Vt=function(){return isNaN(this.x)&&isNaN(this.y)&&0===this.offsetX&&0===this.offsetY},st.Mb=function(){return isNaN(this.x)&&isNaN(this.y)&&-1===this.offsetX&&0===this.offsetY},Ti.alloc=function(){var t=su.pop();return void 0===t?new Ti:t},Ti.free=function(t){su.push(t)},Ti.prototype.isDefault=Ti.prototype.Mb,Ti.prototype.isNone=Ti.prototype.Vt,Ti.prototype.isSide=Ti.prototype.Oc,Ti.prototype.isNoSpot=Ti.prototype.nc,Ti.prototype.isSpot=Ti.prototype.kb,Ti.prototype.includesSide=Ti.prototype.Ef,Ti.prototype.opposite=Ti.prototype.mw,Ti.prototype.equals=Ti.prototype.w,Ti.prototype.set=Ti.prototype.set,Ti.prototype.setTo=Ti.prototype.Ig;var su=[];function vn(){this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0}Ti.className="Spot",Ti.parse=Yx,Ti.stringify=ir,Ti.None=mn=Ji(new Ti(0,0,0,0),0).ca(),Ti.Default=zs=Ji(new Ti(0,0,-1,0),-1).ca(),Ti.TopLeft=gr=new Ti(0,0,0,0).ca(),Ti.TopCenter=En=new Ti(.5,0,0,0).ca(),Ti.TopRight=_o=new Ti(1,0,0,0).ca(),Ti.LeftCenter=No=new Ti(0,.5,0,0).ca(),Ti.Center=Hi=new Ti(.5,.5,0,0).ca(),Ti.RightCenter=Un=new Ti(1,.5,0,0).ca(),Ti.BottomLeft=Ou=new Ti(0,1,0,0).ca(),Ti.BottomCenter=gc=new Ti(.5,1,0,0).ca(),Ti.BottomRight=tl=new Ti(1,1,0,0).ca(),Ti.MiddleTop=va=En,Ti.MiddleLeft=os=No,Ti.MiddleRight=Nr=Un,Ti.MiddleBottom=ss=gc,Ti.Top=Ux=En,Ti.Left=rp=No,Ti.Right=od=Un,Ti.Bottom=Na=gc,Ti.TopSide=wm=Ji(new Ti(0,0,1,1),1).ca(),Ti.LeftSide=rd=Ji(new Ti(0,0,1,2),1).ca(),Ti.RightSide=_r=Ji(new Ti(0,0,1,4),1).ca(),Ti.BottomSide=ga=Ji(new Ti(0,0,1,8),1).ca(),Ti.TopBottomSides=Zy=Ji(new Ti(0,0,1,9),1).ca(),Ti.LeftRightSides=bm=Ji(new Ti(0,0,1,6),1).ca(),Ti.TopLeftSides=qy=Ji(new Ti(0,0,1,3),1).ca(),Ti.TopRightSides=Nu=Ji(new Ti(0,0,1,5),1).ca(),Ti.BottomLeftSides=ql=Ji(new Ti(0,0,1,10),1).ca(),Ti.BottomRightSides=zx=Ji(new Ti(0,0,1,12),1).ca(),Ti.NotTopSide=Jy=Ji(new Ti(0,0,1,14),1).ca(),Ti.NotLeftSide=Hx=Ji(new Ti(0,0,1,13),1).ca(),Ti.NotRightSide=Lu=Ji(new Ti(0,0,1,11),1).ca(),Ti.NotBottomSide=_m=Ji(new Ti(0,0,1,7),1).ca(),Ti.AllSides=uv=Ji(new Ti(0,0,1,15),1).ca(),Gx=new Ti(.156,.156).ca(),Wx=new Ti(.844,.844).ca(),Ti.parse=Yx,Ti.stringify=ir,vn.prototype.set=function(t){return this.m11=t.m11,this.m12=t.m12,this.m21=t.m21,this.m22=t.m22,this.dx=t.dx,this.dy=t.dy,this},vn.prototype.copy=function(){var t=new vn;return t.m11=this.m11,t.m12=this.m12,t.m21=this.m21,t.m22=this.m22,t.dx=this.dx,t.dy=this.dy,t},vn.prototype.toString=function(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"},vn.prototype.w=function(t){return this.m11===t.m11&&this.m12===t.m12&&this.m21===t.m21&&this.m22===t.m22&&this.dx===t.dx&&this.dy===t.dy},vn.prototype.Tt=function(){return 0===this.dx&&0===this.dy&&1===this.m11&&0===this.m12&&0===this.m21&&1===this.m22},vn.prototype.reset=function(){return this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0,this},vn.prototype.multiply=function(t){var e=this.m11*t.m11+this.m21*t.m12,o=this.m12*t.m11+this.m22*t.m12,a=this.m11*t.m21+this.m21*t.m22,h=this.m12*t.m21+this.m22*t.m22;return this.dx=this.m11*t.dx+this.m21*t.dy+this.dx,this.dy=this.m12*t.dx+this.m22*t.dy+this.dy,this.m11=e,this.m12=o,this.m21=a,this.m22=h,this},vn.prototype.jw=function(t){var e=1/(t.m11*t.m22-t.m12*t.m21),o=t.m22*e,a=-t.m12*e,h=-t.m21*e,c=t.m11*e,g=e*(t.m21*t.dy-t.m22*t.dx);return t=e*(t.m12*t.dx-t.m11*t.dy),e=this.m11*o+this.m21*a,o=this.m12*o+this.m22*a,a=this.m11*h+this.m21*c,h=this.m12*h+this.m22*c,this.dx=this.m11*g+this.m21*t+this.dx,this.dy=this.m12*g+this.m22*t+this.dy,this.m11=e,this.m12=o,this.m21=a,this.m22=h,this},vn.prototype.St=function(){var t=1/(this.m11*this.m22-this.m12*this.m21),e=-this.m12*t,o=-this.m21*t,a=this.m11*t,h=t*(this.m21*this.dy-this.m22*this.dx),c=t*(this.m12*this.dx-this.m11*this.dy);return this.m11=this.m22*t,this.m12=e,this.m21=o,this.m22=a,this.dx=h,this.dy=c,this},vn.prototype.rotate=function(t,e,o){if(360<=t?t-=360:0>t&&(t+=360),0===t)return this;if(this.translate(e,o),90===t){t=0;var a=1}else 180===t?(t=-1,a=0):270===t?(t=0,a=-1):(a=t*Math.PI/180,t=Math.cos(a),a=Math.sin(a));var h=this.m12*t+this.m22*a,c=this.m11*-a+this.m21*t,g=this.m12*-a+this.m22*t;return this.m11=this.m11*t+this.m21*a,this.m12=h,this.m21=c,this.m22=g,this.translate(-e,-o),this},(st=vn.prototype).translate=function(t,e){return this.dx+=this.m11*t+this.m21*e,this.dy+=this.m12*t+this.m22*e,this},st.scale=function(t,e){return void 0===e&&(e=t),this.m11*=t,this.m12*=t,this.m21*=e,this.m22*=e,this},st.ta=function(t){var e=t.x,o=t.y;return t.h(e*this.m11+o*this.m21+this.dx,e*this.m12+o*this.m22+this.dy)},st.Jd=function(t){var e=1/(this.m11*this.m22-this.m12*this.m21),o=t.x,a=t.y;return t.h(o*this.m22*e+a*-this.m21*e+e*(this.m21*this.dy-this.m22*this.dx),o*-this.m12*e+a*this.m11*e+e*(this.m12*this.dx-this.m11*this.dy))},st.Zx=function(t){var e=1/(this.m11*this.m22-this.m12*this.m21),o=1.25*t.x,a=1.2*t.y;return t.h(o*this.m22*e+a*-this.m21*e+e*(this.m21*this.dy-this.m22*this.dx),o*-this.m12*e+a*this.m11*e+e*(this.m12*this.dx-this.m11*this.dy))},st.Pw=function(t){var e=t.x,o=t.y,a=e+t.width,h=o+t.height,c=this.m11,g=this.m12,_=this.m21,k=this.m22,P=this.dx,F=this.dy,j=e*c+o*_+P,ut=e*g+o*k+F,xt=a*c+o*_+P,pt=a*g+o*k+F;return o=e*c+h*_+P,e=e*g+h*k+F,c=a*c+h*_+P,a=a*g+h*k+F,h=Math.min(j,xt),j=Math.max(j,xt),xt=Math.min(ut,pt),ut=Math.max(ut,pt),h=Math.min(h,o),j=Math.max(j,o),xt=Math.min(xt,e),ut=Math.max(ut,e),h=Math.min(h,c),j=Math.max(j,c),xt=Math.min(xt,a),ut=Math.max(ut,a),t.h(h,xt,j-h,ut-xt),t},vn.alloc=function(){var t=cv.pop();return void 0===t?new vn:t},vn.free=function(t){cv.push(t)},vn.prototype.transformRect=vn.prototype.Pw,vn.prototype.transformPoint=vn.prototype.ta,vn.prototype.scale=vn.prototype.scale,vn.prototype.translate=vn.prototype.translate,vn.prototype.rotate=vn.prototype.rotate,vn.prototype.invert=vn.prototype.St,vn.prototype.multiplyInverted=vn.prototype.jw,vn.prototype.multiply=vn.prototype.multiply,vn.prototype.reset=vn.prototype.reset,vn.prototype.isIdentity=vn.prototype.Tt,vn.prototype.equals=vn.prototype.w,vn.prototype.set=vn.prototype.set;var cv=[];vn.className="Transform",vn.xF="54a702f3e53909c447824c6706603faf4c";var pe={lB:"7da71ca0ad381e90",Kg:(Math.sqrt(2)-1)/3*4,jx:null,sqrt:function(t){if(0>=t)return 0;var e=pe.jx;if(null===e){e=[];for(var o=0;2e3>=o;o++)e[o]=Math.sqrt(o);pe.jx=e}return 1>t?2e3>=(o=1/t)?1/e[0|o]:Math.sqrt(t):2e3>=t?e[0|t]:Math.sqrt(t)},A:function(t,e){return.5>(t-=e)&&-.5<t},aa:function(t,e){return 5e-8>(t-=e)&&-5e-8<t},Nb:function(t,e,o,a,h,c,g){if(0>=h&&(h=1e-6),t<o)var _=t,k=o;else _=o,k=t;if(e<a)var P=e,F=a;else P=a,F=e;if(t===o)return P<=g&&g<=F&&t-h<=c&&c<=t+h;if(e===a)return _<=c&&c<=k&&e-h<=g&&g<=e+h;if(k+=h,(_-=h)<=c&&c<=k&&(F+=h,(P-=h)<=g&&g<=F))if(k-_>F-P){if(!(t-o>h||o-t>h))return!0;if((c=(a-e)/(o-t)*(c-t)+e)-h<=g&&g<=c+h)return!0}else{if(!(e-a>h||a-e>h))return!0;if((g=(o-t)/(a-e)*(g-e)+t)-h<=c&&c<=g+h)return!0}return!1},yt:function(t,e,o,a,h,c,g,_,k,P,F,j){if(pe.Nb(t,e,g,_,j,o,a)&&pe.Nb(t,e,g,_,j,h,c))return pe.Nb(t,e,g,_,j,P,F);var ut=(t+o)/2,xt=(e+a)/2,pt=(o+h)/2,Pt=(a+c)/2,Xt=((a=(ut+pt)/2)+(pt=(pt+(h=(h+g)/2))/2))/2,$t=((o=(xt+Pt)/2)+(Pt=(Pt+(c=(c+_)/2))/2))/2;return pe.yt(t,e,ut,xt,a,o,Xt,$t,k,P,F,j)||pe.yt(Xt,$t,pt,Pt,h,c,g,_,k,P,F,j)},yz:function(t,e,o,a,h,c,g,_,k){var P=(o+h)/2,F=(a+c)/2;return k.h((((t+o)/2+P)/2+(P+(h+g)/2)/2)/2,(((e+a)/2+F)/2+(F+(c+_)/2)/2)/2),k},xz:function(t,e,o,a,h,c,g,_){var k=(o+h)/2,P=(a+c)/2;return ni(((t+o)/2+k)/2,((e+a)/2+P)/2,(k+(h+g)/2)/2,(P+(c+_)/2)/2)},vm:function(t,e,o,a,h,c,g,_,k,P){if(pe.Nb(t,e,g,_,k,o,a)&&pe.Nb(t,e,g,_,k,h,c))an(P,t,e,0,0),an(P,g,_,0,0);else{var F=(t+o)/2,j=(e+a)/2,ut=(o+h)/2,xt=(a+c)/2,pt=((a=(F+ut)/2)+(ut=(ut+(h=(h+g)/2))/2))/2,Pt=((o=(j+xt)/2)+(xt=(xt+(c=(c+_)/2))/2))/2;pe.vm(t,e,F,j,a,o,pt,Pt,k,P),pe.vm(pt,Pt,ut,xt,h,c,g,_,k,P)}return P},Fe:function(t,e,o,a,h,c,g,_,k,P){if(pe.Nb(t,e,g,_,k,o,a)&&pe.Nb(t,e,g,_,k,h,c))0===P.length&&(P.push(t),P.push(e)),P.push(g),P.push(_);else{var F=(t+o)/2,j=(e+a)/2,ut=(o+h)/2,xt=(a+c)/2,pt=((a=(F+ut)/2)+(ut=(ut+(h=(h+g)/2))/2))/2,Pt=((o=(j+xt)/2)+(xt=(xt+(c=(c+_)/2))/2))/2;pe.Fe(t,e,F,j,a,o,pt,Pt,k,P),pe.Fe(pt,Pt,ut,xt,h,c,g,_,k,P)}return P},qw:function(t,e,o,a,h,c,g,_,k,P){if(pe.Nb(t,e,h,c,P,o,a))return pe.Nb(t,e,h,c,P,_,k);var F=(t+o)/2,j=(e+a)/2,ut=(F+(o=(o+h)/2))/2,xt=(j+(a=(a+c)/2))/2;return pe.qw(t,e,F,j,ut,xt,g,_,k,P)||pe.qw(ut,xt,o,a,h,c,g,_,k,P)},AB:function(t,e,o,a,h,c,g){return g.h(((t+o)/2+(o+h)/2)/2,((e+a)/2+(a+c)/2)/2),g},pw:function(t,e,o,a,h,c,g,_){if(pe.Nb(t,e,h,c,g,o,a))an(_,t,e,0,0),an(_,h,c,0,0);else{var k=(t+o)/2,P=(e+a)/2,F=(k+(o=(o+h)/2))/2,j=(P+(a=(a+c)/2))/2;pe.pw(t,e,k,P,F,j,g,_),pe.pw(F,j,o,a,h,c,g,_)}return _},Vq:function(t,e,o,a,h,c,g,_){if(pe.Nb(t,e,h,c,g,o,a))0===_.length&&(_.push(t),_.push(e)),_.push(h),_.push(c);else{var k=(t+o)/2,P=(e+a)/2,F=(k+(o=(o+h)/2))/2,j=(P+(a=(a+c)/2))/2;pe.Vq(t,e,k,P,F,j,g,_),pe.Vq(F,j,o,a,h,c,g,_)}return _},wq:function(t,e,o,a,h,c,g,_,k,P,F,j,ut,xt){if(pe.Nb(t,e,g,_,ut,o,a)&&pe.Nb(t,e,g,_,ut,h,c))return!(!pe.Cm(t,e,g,_,k,P,F,j)||(ut=(t-g)*(P-j)-(e-_)*(k-F),0===ut)||(xt.h(((t*_-e*g)*(k-F)-(t-g)*(k*j-P*F))/ut,((t*_-e*g)*(P-j)-(e-_)*(k*j-P*F))/ut),0));var pt=(t+o)/2,Pt=(e+a)/2,Xt=(o+h)/2,$t=(a+c)/2,ie=((a=(pt+Xt)/2)+(Xt=(Xt+(h=(h+g)/2))/2))/2,se=((o=(Pt+$t)/2)+($t=($t+(c=(c+_)/2))/2))/2,fe=1/0,we=!1,ti=0,Ci=0;return pe.wq(t,e,pt,Pt,a,o,ie,se,k,P,F,j,ut,xt)&&(t=(xt.x-k)*(xt.x-k)+(xt.y-P)*(xt.y-P))<fe&&(fe=t,we=!0,ti=xt.x,Ci=xt.y),pe.wq(ie,se,Xt,$t,h,c,g,_,k,P,F,j,ut,xt)&&(xt.x-k)*(xt.x-k)+(xt.y-P)*(xt.y-P)<fe&&(we=!0,ti=xt.x,Ci=xt.y),we&&(xt.x=ti,xt.y=Ci),we},xq:function(t,e,o,a,h,c,g,_,k,P,F,j,ut){var xt=0;if(pe.Nb(t,e,g,_,ut,o,a)&&pe.Nb(t,e,g,_,ut,h,c)){if(0==(ut=(t-g)*(P-j)-(e-_)*(k-F)))return xt;var pt=((t*_-e*g)*(k-F)-(t-g)*(k*j-P*F))/ut,Pt=((t*_-e*g)*(P-j)-(e-_)*(k*j-P*F))/ut;if(pt>=F)return xt;if((k>F?k-F:F-k)<(P>j?P-j:j-P)){if(e<_?(t=e,e=_):t=_,Pt<t||Pt>e)return xt}else if(t<g?(e=t,t=g):e=g,pt<e||pt>t)return xt;0<ut?xt++:0>ut&&xt--}else{Pt=(e+a)/2;var Xt=(o+h)/2,$t=(a+c)/2,ie=((a=((pt=(t+o)/2)+Xt)/2)+(Xt=(Xt+(h=(h+g)/2))/2))/2,se=((o=(Pt+$t)/2)+($t=($t+(c=(c+_)/2))/2))/2;xt+=pe.xq(t,e,pt,Pt,a,o,ie,se,k,P,F,j,ut),xt+=pe.xq(ie,se,Xt,$t,h,c,g,_,k,P,F,j,ut)}return xt},Qh:function(t,e,o,a,h,c,g){return pe.aa(t,o)?(e<a?(o=e,e=a):o=a,c<o?(g.h(t,o),!1):c>e?(g.h(t,e),!1):(g.h(t,c),!0)):pe.aa(e,a)?(t<o?(a=t,t=o):a=o,h<a?(g.h(a,e),!1):h>t?(g.h(t,e),!1):(g.h(h,e),!0)):-5e-6>(h=((t-h)*(t-o)+(e-c)*(e-a))/((o-t)*(o-t)+(a-e)*(a-e)))?(g.h(t,e),!1):1.000005<h?(g.h(o,a),!1):(g.h(t+h*(o-t),e+h*(a-e)),!0)},Me:function(t,e,o,a,h,c,g,_,k){return pe.A(t,o)&&pe.A(e,a)?(k.h(t,e),!1):pe.aa(h,g)?pe.aa(t,o)?(pe.Qh(t,e,o,a,h,c,k),!1):pe.Qh(t,e,o,a,h,(a-e)/(o-t)*(h-t)+e,k):(_=(_-c)/(g-h),pe.aa(t,o)?(o=_*(t-h)+c,e<a?(h=e,e=a):h=a,o<h?(k.h(t,h),!1):o>e?(k.h(t,e),!1):(k.h(t,o),!0)):pe.aa(_,g=(a-e)/(o-t))?(pe.Qh(t,e,o,a,h,c,k),!1):(h=(g*t-_*h+c-e)/(g-_),pe.aa(g,0)?(t<o?(a=t,t=o):a=o,h<a?(k.h(a,e),!1):h>t?(k.h(t,e),!1):(k.h(h,e),!0)):pe.Qh(t,e,o,a,h,g*(h-t)+e,k)))},yB:function(t,e,o,a,h){return pe.Me(o.x,o.y,a.x,a.y,t.x,t.y,e.x,e.y,h)},wB:function(t,e,o,a,h,c,g,_,k,P){function F(Xt,$t){var ie=(Xt-t)*(Xt-t)+($t-e)*($t-e);ie<j&&(j=ie,k.h(Xt,$t))}var j=1/0;F(k.x,k.y);var ut=0,xt=0,pt=0,Pt=0;if(h<g?(ut=h,xt=g):(ut=g,xt=h),c<_?(pt=h,Pt=g):(pt=g,Pt=h),ut=(xt-ut)/2+P,P=(Pt-pt)/2+P,h=(h+g)/2,c=(c+_)/2,0===ut||0===P)return k;if(.5>(o>t?o-t:t-o)){if(0>(ut=1-(o-h)*(o-h)/(ut*ut)))return k;a=-P*(ut=Math.sqrt(ut))+c,F(o,P*ut+c),F(o,a)}else{if(0>(ut=(_=2*(o=(a-e)/(o-t))*(e-o*t)/(P*P)-2*o*c/(P*P)-2*h/(ut*ut))*_-4*(a=1/(ut*ut)+o*o/(P*P))*(2*o*t*c/(P*P)-2*e*c/(P*P)+c*c/(P*P)+h*h/(ut*ut)-1+(e-o*t)*(e-o*t)/(P*P))))return k;F(P=(-_+(ut=Math.sqrt(ut)))/(2*a),o*P-o*t+e),F(ut=(-_-ut)/(2*a),o*ut-o*t+e)}return k},Cf:function(t,e,o,a,h,c,g,_,k){var P=1e21,F=t,j=e;if(pe.Me(t,e,t,a,h,c,g,_,k)){var ut=(k.x-h)*(k.x-h)+(k.y-c)*(k.y-c);ut<P&&(P=ut,F=k.x,j=k.y)}return pe.Me(o,e,o,a,h,c,g,_,k)&&(ut=(k.x-h)*(k.x-h)+(k.y-c)*(k.y-c))<P&&(P=ut,F=k.x,j=k.y),pe.Me(t,e,o,e,h,c,g,_,k)&&(e=(k.x-h)*(k.x-h)+(k.y-c)*(k.y-c))<P&&(P=e,F=k.x,j=k.y),pe.Me(t,a,o,a,h,c,g,_,k)&&(t=(k.x-h)*(k.x-h)+(k.y-c)*(k.y-c))<P&&(P=t,F=k.x,j=k.y),k.h(F,j),1e21>P},vB:function(t,e,o,a,h,c,g,_,k){return g=h-g,h=0==(o=t-o)||0===g?0===o?(e=(c-_)/g)*(_=t)+(c-e*h):(c=(e-a)/o)*(_=h)+(e-c*t):(a=(e-a)/o)*(_=(c-(_=(c-_)/g)*h-(t=e-a*t))/(a-_))+t,k.h(_,h),k},Qt:function(t,e,o){return pe.Ey(t.x,t.y,t.width,t.height,e.x,e.y,o.x,o.y)},Ey:function(t,e,o,a,h,c,g,_){var k=t+o,P=e+a;return h===g?(c<_?(g=c,c=_):g=_,t<=h&&h<=k&&g<=P&&c>=e):c===_?(h<g?(_=h,h=g):_=g,e<=c&&c<=P&&_<=k&&h>=t):!!(cn(t,e,o,a,h,c)||cn(t,e,o,a,g,_)||pe.Cm(t,e,k,e,h,c,g,_)||pe.Cm(k,e,k,P,h,c,g,_)||pe.Cm(k,P,t,P,h,c,g,_)||pe.Cm(t,P,t,e,h,c,g,_))},Cm:function(t,e,o,a,h,c,g,_){return 0>=pe.Bt(t,e,o,a,h,c)*pe.Bt(t,e,o,a,g,_)&&0>=pe.Bt(h,c,g,_,t,e)*pe.Bt(h,c,g,_,o,a)},Bt:function(t,e,o,a,h,c){return o-=t,0==(c=(t=h-t)*(a-=e)-(e=c-e)*o)&&0<(c=t*o+e*a)&&0>(c=(t-o)*o+(e-a)*a)&&(c=0),0>c?-1:0<c?1:0},Tq:function(t){return 0>t&&(t+=360),360<=t&&(t-=360),t},hy:function(t,e,o,a,h,c){var g=Math.PI;c||(a*=g/180,h*=g/180);var _=a>h?-1:1;c=[];var k=g/2,P=a;if(1e-5>(a=Math.min(2*g,Math.abs(h-a))))return k=P+_*Math.min(a,k),_=t+o*Math.cos(P),P=e+o*Math.sin(P),t+=o*Math.cos(k),e+=o*Math.sin(k),c.push([_,P,o=(_+t)/2,k=(P+e)/2,o,k,t,e]),c;for(;1e-5<a;)h=P+_*Math.min(a,k),c.push(pe.Hz(o,P,h,t,e)),a-=Math.abs(h-P),P=h;return c},Hz:function(t,e,o,a,h){var c=(o-e)/2,g=t*Math.cos(c),_=t*Math.sin(c),k=-_,P=g*g+k*k,F=P+g*g+k*_;return _=g-(P=4/3*(Math.sqrt(2*P*F)-F)/(g*_-k*g))*k,k=-(g=k+P*g),P=c+e,c=Math.cos(P),P=Math.sin(P),[a+t*Math.cos(e),h+t*Math.sin(e),a+_*c-g*P,h+_*P+g*c,a+_*c-k*P,h+_*P+k*c,a+t*Math.cos(o),h+t*Math.sin(o)]},Gq:function(t,e,o,a,h,c,g){var _=o=Math.floor((t-o)/h)*h+o;return o+h-t<h/2&&(_=o+h),t=a=Math.floor((e-a)/c)*c+a,a+c-e<c/2&&(t=a+c),g.h(_,t),g},uy:function(t,e){var a,o=Math.max(t,e);t=Math.min(t,e);do{e=o%t,o=a=t,t=e}while(0<e);return a},Mz:function(t,e,o,a){var h=0>o,c=0>a;if(t<e)var g=1,_=0;else g=0,_=1;var k=0===g?t:e,P=0===g?o:a;return(0===g?h:c)&&(P=-P),o=0===(g=_)?o:a,(0===g?h:c)&&(o=-o),pe.Nz(k,0===g?t:e,P,o,0,0)},Nz:function(t,e,o,a,h,c){if(0<a)if(0<o){h=t*t,t*=o;var g=e*a,_=-(c=e*e)+g,k=-c+Math.sqrt(t*t+g*g);e=_;for(var P=0;9999999999>P&&(e=.5*(_+k))!==_&&e!==k;++P){var F=t/(e+h),j=g/(e+c);if(0<(F=F*F+j*j-1))_=e;else{if(!(0>F))break;k=e}}o=h*o/(e+h)-o,a=c*a/(e+c)-a,o=Math.sqrt(o*o+a*a)}else o=Math.abs(a-e);else(c=t*o)<(a=t*t-e*e)?(a=c/a,c=e*Math.sqrt(Math.abs(1-a*a)),o=t*a-o,o=Math.sqrt(o*o+c*c)):o=Math.abs(o-t);return o},Qe:new At,dn:new At,Uh:new At,Vh:0};function xn(t){me(this),this.v=!1,void 0===t&&(t=kl),this.qa=t,this.oc=this.hc=this.dd=this.cd=0,this.Jj=new Lt,this.Xr=this.Jj.Ba,this.Fr=(new te).freeze(),this.ra=!0,this.ln=this.al=null,this.mn=NaN,this.pf=gr,this.qf=tl,this.Cl=this.Dl=NaN,this.Sf=no}function g0(t,e){return t.type===Lo&&e.type===kl&&!!(1===e.figures.count&&(e=e.figures.J(0),1===e.segments.count&&pe.A(t.startX,e.startX)&&pe.A(t.startY,e.startY)&&(e=e.segments.J(0),e.type===yo&&pe.A(t.endX,e.endX)&&pe.A(t.endY,e.endY))))}function Mm(t){return t.toString()}function op(t,e){function o(){return Pt>=fe-1||null!==j[Pt+1].match(we)}function a(){return Pt++,j[Pt]}function h(ei){var kn=parseFloat(a()),un=parseFloat(a());Xt===Xt.toLowerCase()&&(kn=se.x+kn,un=se.y+un),ei.h(kn,un)}function c(){return h(se),se}function g(){return h(ie),ie}function _(){var ei=$t.toLowerCase();return"c"!==ei&&"s"!==ei&&"q"!==ei&&"t"!==ei?se:new rt(2*se.x-ie.x,2*se.y-ie.y)}void 0===e&&(e=!1);var k=new RegExp("(["+Is+"])(["+Is+"])","gm"),P=new RegExp("(["+Is+"])([^s])","gm"),F=new RegExp("([^s])(["+Is+"])","gm"),j=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/,/gm," ")).replace(k,"$1 $2")).replace(k,"$1 $2")).replace(P,"$1 $2")).replace(F,"$1 $2")).replace(/([0-9])([+\-])/gm,"$1 $2")).replace(/[\s\r\t\n]+/gm," ")).replace(/^\s+|\s+$/g,"")).split(" ");for(t=0;t<j.length;t++)if(null!==(P=j[t]).match(/(\.[0-9]*)(\.)/gm)){k=u(),F="";for(var ut=!1,xt=0;xt<P.length;xt++){var pt=P[xt];"."!==pt||ut?"."===pt?(k.push(F),F="."):F+=pt:(ut=!0,F+=pt)}for(k.push(F),j.splice(t,1),P=0;P<k.length;P++)j.splice(t+P,0,k[P]);t+=k.length-1,m(k)}var Pt=-1,Xt="",$t="";k=new rt(0,0);var ie=new rt(0,0),se=new rt(0,0),fe=j.length;t=Ot(null),F=P=!1,ut=!0,xt=null;for(var we=new RegExp("["+Is+"]");!(Pt>=fe-1);)if($t=Xt,""!==(Xt=a()))switch(Xt.toUpperCase()){case"X":ut=!0,F=P=!1;break;case"M":for(xt=c(),null===t.ic||!0===ut?(tt(t,xt.x,xt.y,P,!F),ut=!1):t.moveTo(xt.x,xt.y),k.assign(se);!o();)xt=c(),t.lineTo(xt.x,xt.y);break;case"L":for(;!o();)xt=c(),t.lineTo(xt.x,xt.y);break;case"H":for(;!o();)se=new rt((Xt===Xt.toLowerCase()?se.x:0)+parseFloat(a()),se.y),t.lineTo(se.x,se.y);break;case"V":for(;!o();)se=new rt(se.x,(Xt===Xt.toLowerCase()?se.y:0)+parseFloat(a())),t.lineTo(se.x,se.y);break;case"C":for(;!o();){h(xt=new rt),pt=g();var ti=c();ot(t,xt.x,xt.y,pt.x,pt.y,ti.x,ti.y)}break;case"S":for(;!o();)xt=_(),pt=g(),ti=c(),ot(t,xt.x,xt.y,pt.x,pt.y,ti.x,ti.y);break;case"Q":for(;!o();)xt=g(),pt=c(),mt(t,xt.x,xt.y,pt.x,pt.y);break;case"T":for(;!o();)ie=xt=_(),pt=c(),mt(t,xt.x,xt.y,pt.x,pt.y);break;case"B":for(;!o();){xt=parseFloat(a()),pt=parseFloat(a()),ti=parseFloat(a());var Ci=parseFloat(a()),ui=parseFloat(a()),Bi=ui,mi=!1;o()||(Bi=parseFloat(a()),o()||(mi=0!==parseFloat(a()))),Xt===Xt.toLowerCase()&&(ti+=se.x,Ci+=se.y),t.arcTo(xt,pt,ti,Ci,ui,Bi,mi)}break;case"A":for(;!o();)xt=Math.abs(parseFloat(a())),pt=Math.abs(parseFloat(a())),ti=parseFloat(a()),ui=Ci=!1,mi=Bi=0,1===(Bi=a()).length?(Ci=!!parseFloat(Bi),ui=!!parseFloat(a()),Bi=parseFloat(a())):2===Bi.length?(Ci=!!parseFloat(Bi[0]),ui=!!parseFloat(Bi[1]),Bi=parseFloat(a())):(Ci=!!parseFloat(Bi[0]),ui=!!parseFloat(Bi[1]),Bi=parseFloat(Bi.slice(2))),mi=parseFloat(a()),Xt===Xt.toLowerCase()&&(Bi=se.x+Bi,mi=se.y+mi),se.h(Bi,mi),Mt(t,xt,pt,ti,Ci,ui,Bi,mi);break;case"Z":ht(t),se.assign(k);break;case"F":for(xt="",pt=1;j[Pt+pt];)if(null!==j[Pt+pt].match(/[Uu]/))pt++;else{if(null!==j[Pt+pt].match(we)){xt=j[Pt+pt];break}pt++}xt.match(/[Mm]/)?P=!0:0<t.ic.segments.length&&(t.ic.isFilled=!0);break;case"U":for(xt="",pt=1;j[Pt+pt];)if(null!==j[Pt+pt].match(/[Ff]/))pt++;else{if(null!==j[Pt+pt].match(we)){xt=j[Pt+pt];break}pt++}xt.match(/[Mm]/)?F=!0:t.Ym(!1)}if(k=t.Kt,jt=t,e)for(e=k.figures.iterator;e.next();)e.value.isFilled=!0;return k}function $x(t,e){for(var o=t.length,a=rt.alloc(),h=0;h<o;h++){var c=t[h];a.x=c[0],a.y=c[1],e.ta(a),c[0]=a.x,c[1]=a.y,a.x=c[2],a.y=c[3],e.ta(a),c[2]=a.x,c[3]=a.y,a.x=c[4],a.y=c[5],e.ta(a),c[4]=a.x,c[5]=a.y,a.x=c[6],a.y=c[7],e.ta(a),c[6]=a.x,c[7]=a.y}rt.free(a)}function dr(t,e,o){switch(t.type){case Lo:case fs:case Nh:o?e.h(t.cd,t.dd,0,0):an(e,t.cd,t.dd,0,0),an(e,t.hc,t.oc,0,0);break;case kl:var a=t.figures;t=a.j,a=a.length;for(var h=0;h<a;h++){var c=t[h];o&&0===h?e.h(c.startX,c.startY,0,0):an(e,c.startX,c.startY,0,0);for(var g=c.segments.j,_=g.length,k=c.startX,P=c.startY,F=0;F<_;F++){var j=g[F];switch(j.type){case yo:case Gr:an(e,k=j.endX,P=j.endY,0,0);break;case Xo:pe.vm(k,P,j.point1X,j.point1Y,j.point2X,j.point2Y,j.endX,j.endY,.5,e),k=j.endX,P=j.endY;break;case La:pe.pw(k,P,j.point1X,j.point1Y,j.endX,j.endY,.5,e),k=j.endX,P=j.endY;break;case Wn:case sa:var ut=j.type===Wn?el(j,c):Fu(j,c,k,P),xt=ut.length;if(0===xt){an(e,k=j.type===Wn?j.centerX:j.endX,P=j.type===Wn?j.centerY:j.endY,0,0);break}j=null;for(var pt=0;pt<xt;pt++)pe.vm((j=ut[pt])[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],.5,e);null!==j&&(k=j[6],P=j[7]);break;default:z("Unknown Segment type: "+j.type)}}}break;default:z("Unknown Geometry type: "+t.type)}}function Cm(t,e,o,a,h){var c=e.x;e=e.y;for(var k,P,F,j,g=t.bounds.x-20,_=0,ut=t.figures.j,xt=ut.length,pt=0;pt<xt;pt++){var Pt=ut[pt];if(Pt.isFilled){if(a&&Pt.$(c,e,o))return!0;for(var Xt=Pt.segments,$t=k=Pt.startX,ie=P=Pt.startY,se=Xt.j,fe=0;fe<=Xt.length;fe++){var we=void 0;if(fe!==Xt.length){var ti=(we=se[fe]).type;t=we.endX,j=we.endY}else ti=yo,t=$t,j=ie;switch(ti){case Gr:if($t=fv(c,e,g,e,k,P,$t,ie),isNaN($t))return!0;_+=$t,$t=t,ie=j;break;case yo:if(k=fv(c,e,g,e,k,P,t,j),isNaN(k))return!0;_+=k;break;case Xo:_+=F=pe.xq(k,P,we.point1X,we.point1Y,we.point2X,we.point2Y,t,j,g,e,c,e,.5);break;case La:_+=F=pe.xq(k,P,(k+2*we.point1X)/3,(P+2*we.point1Y)/3,(2*we.point1X+t)/3,(2*we.point1Y+j)/3,t,j,g,e,c,e,.5);break;case Wn:case sa:var Ci=(ti=we.type===Wn?el(we,Pt):Fu(we,Pt,k,P)).length;if(0===Ci){if(k=fv(c,e,g,e,k,P,we.type===Wn?we.centerX:we.endX,we.type===Wn?we.centerY:we.endY),isNaN(k))return!0;_+=k;break}we=null;for(var ui=0;ui<Ci;ui++){if(we=ti[ui],0===ui){if(F=fv(c,e,g,e,k,P,we[0],we[1]),isNaN(F))return!0;_+=F}_+=F=pe.xq(we[0],we[1],we[2],we[3],we[4],we[5],we[6],we[7],g,e,c,e,.5)}null!==we&&(t=we[6],j=we[7]);break;default:z("Unknown Segment type: "+we.type)}k=t,P=j}if(0!==_)return!0;_=0}else if(Pt.$(c,e,h?o:o+2))return!0}return 0!==_}function fv(t,e,o,a,h,c,g,_){if(pe.Nb(h,c,g,_,.05,t,e))return NaN;var k=(t-o)*(c-_);if(0===k)return 0;var P=((t*a-e*o)*(h-g)-(t-o)*(h*_-c*g))/k;if(e=(t*a-e*o)*(c-_)/k,P>=t)return 0;if((h>g?h-g:g-h)<(c>_?c-_:_-c)){if(c<_){if(e<c||e>_)return 0}else if(e<_||e>c)return 0}else if(h<g){if(P<h||P>g)return 0}else if(P<g||P>h)return 0;return 0<k?1:-1}function mf(t,e,o,a){for(var h=(t=t.figures.j).length,c=0;c<h;c++)if(t[c].$(e,o,a))return!0;return!1}function El(t){if(null===t.al){var e=t.al=[],o=t.ln=[],a=[],h=[];if(t.type===Lo)a.push(t.startX),a.push(t.startY),a.push(t.endX),a.push(t.endY),e.push(a),h.push(Math.sqrt((t.startX-t.endX)*(t.startX-t.endX)+(t.startY-t.endY)*(t.startY-t.endY))),o.push(h);else if(t.type===fs)a.push(t.startX),a.push(t.startY),a.push(t.endX),a.push(t.startY),a.push(t.endX),a.push(t.endY),a.push(t.startX),a.push(t.endY),a.push(t.startX),a.push(t.startY),e.push(a),h.push(Math.abs(t.startX-t.endX)),h.push(Math.abs(t.startY-t.endY)),h.push(Math.abs(t.startX-t.endX)),h.push(Math.abs(t.startY-t.endY)),o.push(h);else if(t.type===Nh){var c=new as;c.startX=t.endX,c.startY=(t.startY+t.endY)/2;var g=new Gn(Wn);if(g.startAngle=0,g.sweepAngle=360,g.centerX=(t.startX+t.endX)/2,g.centerY=(t.startY+t.endY)/2,g.radiusX=Math.abs(t.startX-t.endX)/2,g.radiusY=Math.abs(t.startY-t.endY)/2,c.add(g),0===(h=(t=el(g,c)).length))a.push(g.centerX),a.push(g.centerY);else{g=c.startX,c=c.startY;for(var _=0;_<h;_++){var k=t[_];pe.Fe(g,c,k[2],k[3],k[4],k[5],k[6],k[7],.5,a),g=k[6],c=k[7]}}e.push(a),o.push(vc(a))}else for(t=t.figures.iterator;t.next();){(a=[]).push((h=t.value).startX),a.push(h.startY),_=g=h.startX,k=c=h.startY;for(var P=h.segments.j,F=P.length,j=0;j<F;j++){var ut=P[j];switch(ut.type){case Gr:4<=a.length&&(e.push(a),o.push(vc(a))),(a=[]).push(ut.endX),a.push(ut.endY),_=g=ut.endX,k=c=ut.endY;break;case yo:a.push(ut.endX),a.push(ut.endY),g=ut.endX,c=ut.endY;break;case Xo:pe.Fe(g,c,ut.point1X,ut.point1Y,ut.point2X,ut.point2Y,ut.endX,ut.endY,.5,a),g=ut.endX,c=ut.endY;break;case La:pe.Vq(g,c,ut.point1X,ut.point1Y,ut.endX,ut.endY,.5,a),g=ut.endX,c=ut.endY;break;case Wn:var xt=el(ut,h),pt=xt.length;if(0===pt){a.push(ut.centerX),a.push(ut.centerY),g=ut.centerX,c=ut.centerY;break}for(var Pt=0;Pt<pt;Pt++){var Xt=xt[Pt];pe.Fe(g,c,Xt[2],Xt[3],Xt[4],Xt[5],Xt[6],Xt[7],.5,a),g=Xt[6],c=Xt[7]}break;case sa:if(xt=Fu(ut,h,g,c),Pt=ut.endX,Xt=ut.endY,0===(pt=xt.length)){a.push(Pt),a.push(Xt),g=Pt,c=Xt;break}for(Pt=0;Pt<pt;Pt++)pe.Fe(g,c,(Xt=xt[Pt])[2],Xt[3],Xt[4],Xt[5],Xt[6],Xt[7],.5,a),g=Xt[6],c=Xt[7];break;default:z("Segment not of valid type: "+ut.type)}ut.isClosed&&(a.push(_),a.push(k))}4<=a.length&&(e.push(a),o.push(vc(a)))}}}function vc(t){for(var e=[],o=0,a=0,h=t.length,c=0;c<h;c+=2){var g=t[c],_=t[c+1];0!==c&&e.push(Math.sqrt(on(o,a,g,_))),o=g,a=_}return e}pe.za=pe.lB,xn.prototype.copy=function(){var t=new xn;t.qa=this.qa,t.cd=this.cd,t.dd=this.dd,t.hc=this.hc,t.oc=this.oc;for(var e=this.Jj.j,o=e.length,a=t.Jj,h=0;h<o;h++){var c=e[h].copy();a.add(c)}return t.Xr=this.Xr,t.Fr.assign(this.Fr),t.ra=this.ra,t.al=this.al,t.ln=this.ln,t.mn=this.mn,t.pf=this.pf.H(),t.qf=this.qf.H(),t.Dl=this.Dl,t.Cl=this.Cl,t.Sf=this.Sf,t},(st=xn.prototype).ca=function(){return this.freeze(),Object.freeze(this),this},st.freeze=function(){this.v=!0;var t=this.figures;t.freeze();for(var e=(t=t.j).length,o=0;o<e;o++)t[o].freeze();return this},st.ea=function(){Object.isFrozen(this)&&z("cannot thaw constant: "+this),this.v=!1;var t=this.figures;t.ea();for(var e=(t=t.j).length,o=0;o<e;o++)t[o].ea();return this},st.Qa=function(t){if(!(t instanceof xn))return!1;if(this.type!==t.type)return this.type===Lo&&t.type===kl?g0(this,t):t.type===Lo&&this.type===kl&&g0(t,this);if(this.type===kl){var e=this.figures.j,o=e.length;if(o!==(t=t.figures.j).length)return!1;for(var a=0;a<o;a++)if(!e[a].Qa(t[a]))return!1;return!0}return pe.A(this.startX,t.startX)&&pe.A(this.startY,t.startY)&&pe.A(this.endX,t.endX)&&pe.A(this.endY,t.endY)},st.jb=function(t){t.classType===xn&&(this.type=t)},st.toString=function(t){switch(void 0===t&&(t=-1),this.type){case Lo:return 0>t?"M"+this.startX.toString()+" "+this.startY.toString()+"L"+this.endX.toString()+" "+this.endY.toString():"M"+this.startX.toFixed(t)+" "+this.startY.toFixed(t)+"L"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);case fs:var e=new te(this.startX,this.startY,0,0);return e.Rw(this.endX,this.endY,0,0),0>t?"M"+e.x.toString()+" "+e.y.toString()+"H"+e.right.toString()+"V"+e.bottom.toString()+"H"+e.left.toString()+"z":"M"+e.x.toFixed(t)+" "+e.y.toFixed(t)+"H"+e.right.toFixed(t)+"V"+e.bottom.toFixed(t)+"H"+e.left.toFixed(t)+"z";case Nh:if((e=new te(this.startX,this.startY,0,0)).Rw(this.endX,this.endY,0,0),0>t)return"M"+(t=e.left.toString()+" "+(e.y+e.height/2).toString())+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+e.right.toString()+" "+(e.y+e.height/2).toString()+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+t;var o=e.left.toFixed(t)+" "+(e.y+e.height/2).toFixed(t);return"M"+o+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+e.right.toFixed(t)+" "+(e.y+e.height/2).toFixed(t)+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+o;case kl:e="";for(var a=(o=this.figures.j).length,h=0;h<a;h++){var c=o[h];0<h&&(e+=" x "),c.isFilled&&(e+="F "),e+=c.toString(t)}return e;default:return this.type.toString()}},st.gw=function(){if(this.ra||this.Xr!==this.figures.Ba)return!0;for(var t=this.figures.j,e=t.length,o=0;o<e;o++)if(t[o].gw())return!0;return!1},xn.prototype.computeBounds=function(){this.ra=!1,this.ln=this.al=null,this.mn=NaN,this.Xr=this.figures.Ba;for(var t=this.figures.j,e=t.length,o=0;o<e;o++){var a=t[o];a.ra=!1;var h=a.segments;a.bt=h.Ba,h=(a=h.j).length;for(var c=0;c<h;c++){var g=a[c];g.ra=!1,g.Qd=null}}(t=this.Fr).ea(),isNaN(this.Dl)||isNaN(this.Cl)?t.h(0,0,0,0):t.h(0,0,this.Dl,this.Cl),dr(this,t,!1),an(t,0,0,0,0),t.freeze()},xn.prototype.ey=function(){var t=new te;return dr(this,t,!0),t},xn.prototype.normalize=function(){this.v&&nt(this);var t=this.ey();return this.offset(-t.x,-t.y),new rt(-t.x,-t.y)},xn.prototype.offset=function(t,e){return this.v&&nt(this),this.transform(1,0,0,1,t,e),this},xn.prototype.scale=function(t,e){return this.v&&nt(this),this.transform(t,0,0,e,0,0),this},xn.prototype.rotate=function(t,e,o){this.v&&nt(this),void 0===e&&(e=0),void 0===o&&(o=0);var a=vn.alloc();return a.reset(),a.rotate(t,e,o),this.transform(a.m11,a.m12,a.m21,a.m22,a.dx,a.dy),vn.free(a),this},(st=xn.prototype).transform=function(t,e,o,a,h,c){switch(this.type){case Lo:case fs:case Nh:var g=this.cd,_=this.dd;this.cd=g*t+_*o+h,this.dd=g*e+_*a+c,this.hc=(g=this.hc)*t+(_=this.oc)*o+h,this.oc=g*e+_*a+c;break;case kl:for(var k=this.figures.j,P=k.length,F=0;F<P;F++){var j=k[F];j.startX=(g=j.startX)*t+(_=j.startY)*o+h,j.startY=g*e+_*a+c;for(var ut=(j=j.segments.j).length,xt=0;xt<ut;xt++){var pt=j[xt];switch(pt.type){case yo:case Gr:pt.endX=(g=pt.endX)*t+(_=pt.endY)*o+h,pt.endY=g*e+_*a+c;break;case Xo:pt.point1X=(g=pt.point1X)*t+(_=pt.point1Y)*o+h,pt.point1Y=g*e+_*a+c,pt.point2X=(g=pt.point2X)*t+(_=pt.point2Y)*o+h,pt.point2Y=g*e+_*a+c,pt.endX=(g=pt.endX)*t+(_=pt.endY)*o+h,pt.endY=g*e+_*a+c;break;case La:pt.point1X=(g=pt.point1X)*t+(_=pt.point1Y)*o+h,pt.point1Y=g*e+_*a+c,pt.endX=(g=pt.endX)*t+(_=pt.endY)*o+h,pt.endY=g*e+_*a+c;break;case Wn:pt.centerX=(g=pt.centerX)*t+(_=pt.centerY)*o+h,pt.centerY=g*e+_*a+c,0!==e&&(0>(g=180*Math.atan2(e,t)/Math.PI)&&(g+=360),pt.startAngle+=g),0>t&&(pt.startAngle=180-pt.startAngle,pt.sweepAngle=-pt.sweepAngle),0>a&&(pt.startAngle=-pt.startAngle,pt.sweepAngle=-pt.sweepAngle),pt.radiusX*=Math.sqrt(t*t+o*o),void 0!==pt.radiusY&&(pt.radiusY*=Math.sqrt(e*e+a*a));break;case sa:if(pt.endX=(g=pt.endX)*t+(_=pt.endY)*o+h,pt.endY=g*e+_*a+c,0===pt.radiusX||0===pt.radiusY)break;0!==e&&(0>(g=180*Math.atan2(e,t)/Math.PI)&&(g+=360),pt.xAxisRotation+=g),0>t&&(pt.xAxisRotation=180-pt.xAxisRotation,pt.isClockwiseArc=!pt.isClockwiseArc),0>a&&(pt.xAxisRotation=-pt.xAxisRotation,pt.isClockwiseArc=!pt.isClockwiseArc),pt.radiusX*=Math.sqrt(t*t+o*o),pt.radiusY*=Math.sqrt(e*e+a*a);break;default:z("Unknown Segment type: "+pt.type)}}}}return this.ra=!0,this},st.$=function(t,e){void 0===e&&(e=0);var o=this.cd,a=this.dd,h=this.hc,c=this.oc;switch(this.type){case Lo:return pe.Nb(o,a,h,c,e,t.x,t.y);case fs:var g=te.allocAt(Math.min(o,h)-e,Math.min(a,c)-e,Math.abs(h-o)+2*e,Math.abs(c-a)+2*e);return t=g.$(t),te.free(g),t;case Nh:g=Math.min(o,h)-e;var _=Math.min(a,c)-e;return o=(Math.abs(h-o)+2*e)/2,e=(Math.abs(c-a)+2*e)/2,!(0>=o||0>=e)&&1>=(g=t.x-(g+o))*g/(o*o)+(_=t.y-(_+e))*_/(e*e);case kl:return Cm(this,t,e,!0,!1);default:return!1}},st.Xv=function(t,e){if(0>t?t=0:1<t&&(t=1),void 0===e&&(e=new rt),this.type===Lo)return e.h(this.startX+t*(this.endX-this.startX),this.startY+t*(this.endY-this.startY)),e;for(var o=this.flattenedSegments,a=this.flattenedLengths,h=o.length,c=this.flattenedTotalLength*t,g=0,_=0;_<h;_++){var k=a[_],P=k.length;for(t=0;t<P;t++){var F=k[t];if(g+F>=c)return a=c-g,e.h((_=(o=o[_])[2*t])+(o[2*t+2]-_)*(a=0===F?0:a/F),(h=o[2*t+1])+(o[2*t+3]-h)*a),e;g+=F}}return e},st.vy=function(t){if(0>t?t=0:1<t&&(t=1),this.type===Lo)return 180*Math.atan2(this.endY-this.startY,this.endX-this.startX)/Math.PI;for(var e=this.flattenedSegments,o=this.flattenedLengths,a=e.length,h=this.flattenedTotalLength*t,c=0,g=0;g<a;g++){var _=o[g],k=_.length;for(t=0;t<k;t++){var P=_[t];if(c+P>=h)return e=(h=e[g])[2*t],o=h[2*t+1],a=h[2*t+2],t=h[2*t+3],1>Math.abs(a-e)&&1>Math.abs(t-o)?0:1>Math.abs(a-e)?0<=t-o?90:270:1>Math.abs(t-o)?0<=a-e?0:180:180*Math.atan2(t-o,a-e)/Math.PI;c+=P}}return NaN},st.Yv=function(t,e){if(0>t?t=0:1<t&&(t=1),void 0===e&&(e=[]),e.length=3,this.type===Lo)return e[0]=this.startX+t*(this.endX-this.startX),e[1]=this.startY+t*(this.endY-this.startY),e[2]=180*Math.atan2(this.endY-this.startY,this.endX-this.startX)/Math.PI,e;for(var o=this.flattenedSegments,a=this.flattenedLengths,h=o.length,c=this.flattenedTotalLength*t,g=0,_=0;_<h;_++){var k=a[_],P=k.length;for(t=0;t<P;t++){var F=k[t];if(g+F>=c)return a=c-g,a=0===F?0:a/F,o=(F=o[_])[2*t],_=F[2*t+1],h=F[2*t+2],t=F[2*t+3],e[0]=o+(h-o)*a,e[1]=_+(t-_)*a,e[2]=1>Math.abs(h-o)&&1>Math.abs(t-_)?0:1>Math.abs(h-o)?0<=t-_?90:270:1>Math.abs(t-_)?0<=h-o?0:180:180*Math.atan2(t-_,h-o)/Math.PI,e;g+=F}}return e},st.wy=function(t){if(this.type===Lo){var e=this.startX,o=this.startY,a=this.endX,h=this.endY;if(e!==a||o!==h){var c=t.x;if(t=t.y,e===a){if(o<h){var g=o;a=h}else g=h,a=o;return t<=g?g===o?0:1:t>=a?a===o?0:1:Math.abs(t-o)/(a-g)}if(o===h)return e<a?g=e:(g=a,a=e),c<=g?g===e?0:1:c>=a?a===e?0:1:Math.abs(c-e)/(a-g);g=(a-e)*(a-e)+(h-o)*(h-o);var _=rt.alloc();return pe.Qh(e,o,a,h,c,t,_),t=_.x,c=_.y,rt.free(_),Math.sqrt(((t-e)*(t-e)+(c-o)*(c-o))/g)}}else{if(this.type!==fs){e=this.flattenedSegments,o=this.flattenedLengths,c=this.flattenedTotalLength,a=rt.alloc(),h=1/0,_=g=0,k=e.length;for(var F=P=0,j=0;j<k;j++)for(var ut=e[j],xt=o[j],pt=ut.length,Pt=0;Pt<pt;Pt+=2){var Xt=ut[Pt],$t=ut[Pt+1];if(0!==Pt){pe.Qh(P,F,Xt,$t,t.x,t.y,a);var ie=(a.x-t.x)*(a.x-t.x)+(a.y-t.y)*(a.y-t.y);ie<h&&(h=ie,g=_,g+=Math.sqrt((a.x-P)*(a.x-P)+(a.y-F)*(a.y-F))),_+=xt[(Pt-2)/2]}P=Xt,F=$t}return rt.free(a),0>(t=g/c)?0:1<t?1:t}_=this.startY;var k=this.endX;if(h=this.endY,(g=this.startX)!==k||_!==h){c=2*(e=k-g)+2*(o=h-_),a=t.x,t=t.y,a=Math.min(Math.max(a,g),k),t=Math.min(Math.max(t,_),h),g=Math.abs(a-g),k=Math.abs(a-k),_=Math.abs(t-_),h=Math.abs(t-h);var P=Math.min(g,k,_,h);if(P===_)return a/c;if(P===k)return(e+t)/c;if(P===h)return(2*e+o-a)/c;if(P===g)return(2*e+2*o-t)/c}}return 0},st.add=function(t){return this.Jj.add(t),this},st.Zm=function(t,e,o,a,h,c,g,_){return this.v&&nt(this),this.pf=new Ti(t,e,h,c).freeze(),this.qf=new Ti(o,a,g,_).freeze(),this},X.Object.defineProperties(xn.prototype,{flattenedSegments:{get:function(){return El(this),this.al}},flattenedLengths:{get:function(){return El(this),this.ln}},flattenedTotalLength:{get:function(){var t=this.mn;if(isNaN(t)){if(this.type===Lo){t=Math.abs(this.endX-this.startX);var e=Math.abs(this.endY-this.startY);t=Math.sqrt(t*t+e*e)}else if(this.type===fs)t=2*Math.abs(this.endX-this.startX)+2*Math.abs(this.endY-this.startY);else for(var o=(e=this.flattenedLengths).length,a=t=0;a<o;a++)for(var h=e[a],c=h.length,g=0;g<c;g++)t+=h[g];this.mn=t}return t}},type:{get:function(){return this.qa},set:function(t){this.qa!==t&&(this.v&&nt(this,t),this.qa=t,this.ra=!0)}},startX:{get:function(){return this.cd},set:function(t){this.cd!==t&&(this.v&&nt(this,t),this.cd=t,this.ra=!0)}},startY:{get:function(){return this.dd},set:function(t){this.dd!==t&&(this.v&&nt(this,t),this.dd=t,this.ra=!0)}},endX:{get:function(){return this.hc},set:function(t){this.hc!==t&&(this.v&&nt(this,t),this.hc=t,this.ra=!0)}},endY:{get:function(){return this.oc},set:function(t){this.oc!==t&&(this.v&&nt(this,t),this.oc=t,this.ra=!0)}},figures:{get:function(){return this.Jj},set:function(t){this.Jj!==t&&(this.v&&nt(this,t),this.Jj=t,this.ra=!0)}},spot1:{get:function(){return this.pf},set:function(t){this.v&&nt(this,t),this.pf=t.H()}},spot2:{get:function(){return this.qf},set:function(t){this.v&&nt(this,t),this.qf=t.H()}},defaultStretch:{get:function(){return this.Sf},set:function(t){this.v&&nt(this,t),this.Sf=t}},bounds:{get:function(){return this.gw()&&this.computeBounds(),this.Fr}}}),xn.prototype.setSpots=xn.prototype.Zm,xn.prototype.add=xn.prototype.add,xn.prototype.getFractionForPoint=xn.prototype.wy,xn.prototype.getPointAndAngleAlongPath=xn.prototype.Yv,xn.prototype.getAngleAlongPath=xn.prototype.vy,xn.prototype.getPointAlongPath=xn.prototype.Xv,xn.prototype.containsPoint=xn.prototype.$,xn.prototype.transform=xn.prototype.transform,xn.prototype.rotate=xn.prototype.rotate,xn.prototype.scale=xn.prototype.scale,xn.prototype.offset=xn.prototype.offset,xn.prototype.normalize=xn.prototype.normalize,xn.prototype.computeBoundsWithoutOrigin=xn.prototype.ey,xn.prototype.equalsApprox=xn.prototype.Qa;var Lo=new wt(xn,"Line",0),fs=new wt(xn,"Rectangle",1),Nh=new wt(xn,"Ellipse",2),kl=new wt(xn,"Path",3),Is="UuBbMmZzLlHhVvCcSsQqTtAaFfXx";function as(t,e,o,a){me(this),this.sx=null,this.v=!1,void 0===o&&(o=!0),this.js=o,void 0===a&&(a=!0),this.os=a,this.cd=void 0!==t?t:0,this.dd=void 0!==e?e:0,this.dm=new Lt,this.bt=this.dm.Ba,this.ra=!0}function Gn(t,e,o,a,h,c,g,_){me(this),this.v=!1,void 0===t&&(t=yo),this.qa=t,this.hc=void 0!==e?e:0,this.oc=void 0!==o?o:0,void 0===a&&(a=0),void 0===h&&(h=0),void 0===c&&(c=0),void 0===g&&(g=0),t===sa?(0>(t=c%360)&&(t+=360),this.Ce=t,this.Qi=0,this.Ri=Math.max(a,0),this.qh=Math.max(h,0),this.Ll="boolean"==typeof g?g:"number"==typeof g&&!!g,this.el=!!_):(this.Ce=a,this.Qi=h,t===Wn&&(c=Math.max(c,0)),this.Ri=c,"number"==typeof g?(t===Wn&&(g=Math.max(g,0)),this.qh=g):this.qh=0,this.el=this.Ll=!1),this.Oj=!1,this.ra=!0,this.Qd=null}function el(t,e){if(null!==t.Qd&&!1===e.ra)return t.Qd;var o=t.radiusX,a=t.radiusY;if(void 0===a&&(a=o),0===o||0===a)return t.Qd=[],t.Qd;e=t.Ce;var h=t.Qi,c=pe.hy(0,0,o<a?o:a,t.startAngle,t.startAngle+t.sweepAngle,!1);if(o!==a){var g=vn.alloc();g.reset(),o<a?g.scale(1,a/o):g.scale(o/a,1),$x(c,g),vn.free(g)}for(o=c.length,a=0;a<o;a++)(g=c[a])[0]+=e,g[1]+=h,g[2]+=e,g[3]+=h,g[4]+=e,g[5]+=h,g[6]+=e,g[7]+=h;return t.Qd=c,t.Qd}function Fu(t,e,o,a){function h(Pt,Xt,$t,ie){return(Pt*ie<Xt*$t?-1:1)*Math.acos((Pt*$t+Xt*ie)/(Math.sqrt(Pt*Pt+Xt*Xt)*Math.sqrt($t*$t+ie*ie)))}if(null!==t.Qd&&!1===e.ra)return t.Qd;if(0===t.radiusX||0===t.radiusY)return t.Qd=[],t.Qd;var c=t.qh;0===(e=t.Ri)&&(e=1e-4),0===c&&(c=1e-4);var g=Math.PI/180*t.Ce,_=t.Ll,k=t.el,P=t.hc,F=t.oc,j=Math.cos(g),ut=Math.sin(g),xt=j*(o-P)/2+ut*(a-F)/2,pt=xt*xt/(e*e)+(g=-ut*(o-P)/2+j*(a-F)/2)*g/(c*c);return 1<pt&&(e*=Math.sqrt(pt),c*=Math.sqrt(pt)),pt=(_===k?-1:1)*Math.sqrt((e*e*c*c-e*e*g*g-c*c*xt*xt)/(e*e*g*g+c*c*xt*xt)),isNaN(pt)&&(pt=0),_=pt*e*g/c,pt=pt*-c*xt/e,isNaN(_)&&(_=0),isNaN(pt)&&(pt=0),o=(o+P)/2+j*_-ut*pt,a=(a+F)/2+ut*_+j*pt,F=h(1,0,(xt-_)/e,(g-pt)/c),g=h(j=(xt-_)/e,P=(g-pt)/c,xt=(-xt-_)/e,_=(-g-pt)/c),-1>=(xt=(j*xt+P*_)/(Math.sqrt(j*j+P*P)*Math.sqrt(xt*xt+_*_)))?g=Math.PI:1<=xt&&(g=0),!k&&0<g&&(g-=2*Math.PI),k&&0>g&&(g+=2*Math.PI),k=e>c?1:e/c,xt=e>c?c/e:1,e=pe.hy(0,0,e>c?e:c,F,F+g,!0),(c=vn.alloc()).reset(),c.translate(o,a),c.rotate(t.Ce,0,0),c.scale(k,xt),$x(e,c),vn.free(c),t.Qd=e,t.Qd}xn.className="Geometry",xn.stringify=Mm,xn.fillPath=function(t){for(var e=(t=t.split(/[Xx]/)).length,o="",a=0;a<e;a++){var h=t[a];o=null!==h.match(/[Ff]/)?0===a?o+h:o+"X"+(" "===h[0]?"":" ")+h:o+(0===a?"":"X ")+"F"+(" "===h[0]?"":" ")+h}return o},xn.parse=op,xn.Line=Lo,xn.Rectangle=fs,xn.Ellipse=Nh,xn.Path=kl,as.prototype.copy=function(){var t=new as;t.js=this.js,t.os=this.os,t.cd=this.cd,t.dd=this.dd;for(var e=this.dm.j,o=e.length,a=t.dm,h=0;h<o;h++){var c=e[h].copy();a.add(c)}return t.bt=this.bt,t.ra=this.ra,t.sx=this.sx,t},(st=as.prototype).Qa=function(t){if(!(t instanceof as&&pe.A(this.startX,t.startX)&&pe.A(this.startY,t.startY)))return!1;var e=this.segments.j,o=e.length;if(o!==(t=t.segments.j).length)return!1;for(var a=0;a<o;a++)if(!e[a].Qa(t[a]))return!1;return!0},st.toString=function(t){void 0===t&&(t=-1);for(var e=0>t?"M"+this.startX.toString()+" "+this.startY.toString():"M"+this.startX.toFixed(t)+" "+this.startY.toFixed(t),o=this.segments.j,a=o.length,h=0;h<a;h++)e+=" "+o[h].toString(t);return e},st.freeze=function(){this.v=!0;var t=this.segments;t.freeze();var e=t.j;t=t.length;for(var o=0;o<t;o++)e[o].freeze();return this},st.ea=function(){this.v=!1;var t=this.segments;t.ea();for(var e=(t=t.j).length,o=0;o<e;o++)t[o].ea();return this},st.gw=function(){if(this.ra)return!0;var t=this.segments;if(this.bt!==t.Ba)return!0;for(var e=(t=t.j).length,o=0;o<e;o++)if(t[o].ra)return!0;return!1},st.add=function(t){return this.dm.add(t),this},st.$=function(t,e,o){for(var a=this.startX,h=this.startY,c=a,g=h,_=this.segments.j,k=_.length,P=0;P<k;P++){var F=_[P];switch(F.type){case Gr:c=F.endX,g=F.endY,a=F.endX,h=F.endY;break;case yo:if(pe.Nb(a,h,F.endX,F.endY,o,t,e))return!0;a=F.endX,h=F.endY;break;case Xo:if(pe.yt(a,h,F.point1X,F.point1Y,F.point2X,F.point2Y,F.endX,F.endY,.5,t,e,o))return!0;a=F.endX,h=F.endY;break;case La:if(pe.qw(a,h,F.point1X,F.point1Y,F.endX,F.endY,.5,t,e,o))return!0;a=F.endX,h=F.endY;break;case Wn:case sa:var j=F.type===Wn?el(F,this):Fu(F,this,a,h),ut=j.length,xt=F.type===Wn?F.centerX:F.endX,pt=F.type===Wn?F.centerY:F.endY;if(0===ut){if(pe.Nb(a,h,xt,pt,o,t,e))return!0;a=xt,h=pt;break}for(xt=null,pt=0;pt<ut;pt++)if(xt=j[pt],0===pt&&pe.Nb(a,h,xt[0],xt[1],o,t,e)||pe.yt(xt[0],xt[1],xt[2],xt[3],xt[4],xt[5],xt[6],xt[7],.5,t,e,o))return!0;null!==xt&&(a=xt[6],h=xt[7]);break;default:z("Unknown Segment type: "+F.type)}if(F.isClosed&&(a!==c||h!==g)&&pe.Nb(a,h,c,g,o,t,e))return!0}return!1},X.Object.defineProperties(as.prototype,{isFilled:{get:function(){return this.js},set:function(t){this.v&&nt(this,t),this.js=t}},isShadowed:{get:function(){return this.os},set:function(t){this.v&&nt(this,t),this.os=t}},startX:{get:function(){return this.cd},set:function(t){this.v&&nt(this,t),this.cd=t,this.ra=!0}},startY:{get:function(){return this.dd},set:function(t){this.v&&nt(this,t),this.dd=t,this.ra=!0}},segments:{get:function(){return this.dm},set:function(t){this.v&&nt(this,t),this.dm=t,this.ra=!0}}}),as.prototype.add=as.prototype.add,as.prototype.equalsApprox=as.prototype.Qa,as.className="PathFigure",Gn.prototype.copy=function(){var t=new Gn;return t.qa=this.qa,t.hc=this.hc,t.oc=this.oc,t.Ce=this.Ce,t.Qi=this.Qi,t.Ri=this.Ri,t.qh=this.qh,t.Ll=this.Ll,t.el=this.el,t.Oj=this.Oj,t.ra=this.ra,t},(st=Gn.prototype).Qa=function(t){if(!(t instanceof Gn)||this.type!==t.type||this.isClosed!==t.isClosed)return!1;switch(this.type){case Gr:case yo:return pe.A(this.endX,t.endX)&&pe.A(this.endY,t.endY);case Xo:return pe.A(this.endX,t.endX)&&pe.A(this.endY,t.endY)&&pe.A(this.point1X,t.point1X)&&pe.A(this.point1Y,t.point1Y)&&pe.A(this.point2X,t.point2X)&&pe.A(this.point2Y,t.point2Y);case La:return pe.A(this.endX,t.endX)&&pe.A(this.endY,t.endY)&&pe.A(this.point1X,t.point1X)&&pe.A(this.point1Y,t.point1Y);case Wn:return pe.A(this.startAngle,t.startAngle)&&pe.A(this.sweepAngle,t.sweepAngle)&&pe.A(this.centerX,t.centerX)&&pe.A(this.centerY,t.centerY)&&pe.A(this.radiusX,t.radiusX)&&pe.A(this.radiusY,t.radiusY);case sa:return this.isClockwiseArc===t.isClockwiseArc&&this.isLargeArc===t.isLargeArc&&pe.A(this.xAxisRotation,t.xAxisRotation)&&pe.A(this.endX,t.endX)&&pe.A(this.endY,t.endY)&&pe.A(this.radiusX,t.radiusX)&&pe.A(this.radiusY,t.radiusY);default:return!1}},st.jb=function(t){t.classType===Gn&&(this.type=t)},st.toString=function(t){switch(void 0===t&&(t=-1),this.type){case Gr:t=0>t?"M"+this.endX.toString()+" "+this.endY.toString():"M"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case yo:t=0>t?"L"+this.endX.toString()+" "+this.endY.toString():"L"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case Xo:t=0>t?"C"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.point2X.toString()+" "+this.point2Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():"C"+this.point1X.toFixed(t)+" "+this.point1Y.toFixed(t)+" "+this.point2X.toFixed(t)+" "+this.point2Y.toFixed(t)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case La:t=0>t?"Q"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():"Q"+this.point1X.toFixed(t)+" "+this.point1Y.toFixed(t)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case Wn:t=0>t?"B"+this.startAngle.toString()+" "+this.sweepAngle.toString()+" "+this.centerX.toString()+" "+this.centerY.toString()+" "+this.radiusX.toString()+" "+this.radiusY.toString():"B"+this.startAngle.toFixed(t)+" "+this.sweepAngle.toFixed(t)+" "+this.centerX.toFixed(t)+" "+this.centerY.toFixed(t)+" "+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t);break;case sa:t=0>t?"A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.xAxisRotation.toString()+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toString()+" "+this.endY.toString():"A"+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t)+" "+this.xAxisRotation.toFixed(t)+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;default:t=this.type.toString()}return t+(this.Oj?"z":"")},st.freeze=function(){return this.v=!0,this},st.ea=function(){return this.v=!1,this},st.close=function(){return this.Oj=!0,this},X.Object.defineProperties(Gn.prototype,{isClosed:{get:function(){return this.Oj},set:function(t){this.Oj!==t&&(this.Oj=t,this.ra=!0)}},type:{get:function(){return this.qa},set:function(t){this.v&&nt(this,t),this.qa=t,this.ra=!0}},endX:{get:function(){return this.hc},set:function(t){this.v&&nt(this,t),this.hc=t,this.ra=!0}},endY:{get:function(){return this.oc},set:function(t){this.v&&nt(this,t),this.oc=t,this.ra=!0}},point1X:{get:function(){return this.Ce},set:function(t){this.v&&nt(this,t),this.Ce=t,this.ra=!0}},point1Y:{get:function(){return this.Qi},set:function(t){this.v&&nt(this,t),this.Qi=t,this.ra=!0}},point2X:{get:function(){return this.Ri},set:function(t){this.v&&nt(this,t),this.Ri=t,this.ra=!0}},point2Y:{get:function(){return this.qh},set:function(t){this.v&&nt(this,t),this.qh=t,this.ra=!0}},centerX:{get:function(){return this.Ce},set:function(t){this.v&&nt(this,t),this.Ce=t,this.ra=!0}},centerY:{get:function(){return this.Qi},set:function(t){this.v&&nt(this,t),this.Qi=t,this.ra=!0}},radiusX:{get:function(){return this.Ri},set:function(t){0>t&&Q(t,">= zero",Gn,"radiusX"),this.v&&nt(this,t),this.Ri=t,this.ra=!0}},radiusY:{get:function(){return this.qh},set:function(t){0>t&&Q(t,">= zero",Gn,"radiusY"),this.v&&nt(this,t),this.qh=t,this.ra=!0}},startAngle:{get:function(){return this.hc},set:function(t){this.hc!==t&&(this.v&&nt(this,t),0>(t%=360)&&(t+=360),this.hc=t,this.ra=!0)}},sweepAngle:{get:function(){return this.oc},set:function(t){this.v&&nt(this,t),360<t&&(t=360),-360>t&&(t=-360),this.oc=t,this.ra=!0}},isClockwiseArc:{get:function(){return this.el},set:function(t){this.v&&nt(this,t),this.el=t,this.ra=!0}},isLargeArc:{get:function(){return this.Ll},set:function(t){this.v&&nt(this,t),this.Ll=t,this.ra=!0}},xAxisRotation:{get:function(){return this.Ce},set:function(t){0>(t%=360)&&(t+=360),this.v&&nt(this,t),this.Ce=t,this.ra=!0}}}),Gn.prototype.equalsApprox=Gn.prototype.Qa;var Gr=new wt(Gn,"Move",0),yo=new wt(Gn,"Line",1),Xo=new wt(Gn,"Bezier",2),La=new wt(Gn,"QuadraticBezier",3),Wn=new wt(Gn,"Arc",4),sa=new wt(Gn,"SvgArc",4);function Rs(){this.B=null,this.yv=new rt(0,0).freeze(),this.Iu=new rt(0,0).freeze(),this.xr=this.zs=0,this.yr=1,this.Di="",this.st=this.Rr=!1,this.Or=this.Ar=0,this.Pg=this.bs=this.ms=!1,this.Wr=null,this.nt=0,this.pd=this.mt=null}function yc(){this.B=null,this.oa="",this.Js=this.kt=null}function Yr(){this.wn=Ar,this.gf=this.ys="",this.hp=this.ip=this.op=this.pp=this.np=this.B=this.cc=null}Gn.className="PathSegment",Gn.Move=Gr,Gn.Line=yo,Gn.Bezier=Xo,Gn.QuadraticBezier=La,Gn.Arc=Wn,Gn.SvgArc=sa,Rs.prototype.copy=function(){var t=new Rs;return this.clone(t)},Rs.prototype.clone=function(t){return t.B=this.B,t.yv.assign(this.viewPoint),t.Iu.assign(this.documentPoint),t.zs=this.zs,t.xr=this.xr,t.yr=this.yr,t.Di=this.Di,t.Rr=this.Rr,t.st=this.st,t.Ar=this.Ar,t.Or=this.Or,t.ms=this.ms,t.bs=this.bs,t.Pg=this.Pg,t.Wr=this.Wr,t.nt=this.nt,t.mt=this.mt,t.pd=this.pd,t},Rs.prototype.toString=function(){var t="^";return 0!==this.modifiers&&(t+="M:"+this.modifiers),0!==this.button&&(t+="B:"+this.button),""!==this.key&&(t+="K:"+this.key),0!==this.clickCount&&(t+="C:"+this.clickCount),0!==this.delta&&(t+="D:"+this.delta),this.handled&&(t+="h"),this.bubbles&&(t+="b"),null!==this.documentPoint&&(t+="@"+this.documentPoint.toString()),t},Rs.prototype.Jq=function(t,e){var o=this.diagram;return null===o||E0(o,this.event,t,e),e},Rs.prototype.mA=function(t,e){var o=this.diagram;return null===o||(E0(o,this.event,t,e),e.assign(o.ou(e))),e},X.Object.defineProperties(Rs.prototype,{diagram:{get:function(){return this.B},set:function(t){this.B=t}},viewPoint:{get:function(){return this.yv},set:function(t){this.yv.assign(t)}},documentPoint:{get:function(){return this.Iu},set:function(t){this.Iu.assign(t)}},modifiers:{get:function(){return this.zs},set:function(t){this.zs=t}},button:{get:function(){return this.xr},set:function(t){if(this.xr=t,null===this.event)switch(t){case 0:this.buttons=1;break;case 1:this.buttons=4;break;case 2:this.buttons=2}}},buttons:{get:function(){return this.yr},set:function(t){this.yr=t}},key:{get:function(){return this.Di},set:function(t){this.Di=t}},down:{get:function(){return this.Rr},set:function(t){this.Rr=t}},up:{get:function(){return this.st},set:function(t){this.st=t}},clickCount:{get:function(){return this.Ar},set:function(t){this.Ar=t}},delta:{get:function(){return this.Or},set:function(t){this.Or=t}},isMultiTouch:{get:function(){return this.ms},set:function(t){this.ms=t}},handled:{get:function(){return this.bs},set:function(t){this.bs=t}},bubbles:{get:function(){return this.Pg},set:function(t){this.Pg=t}},event:{get:function(){return this.Wr},set:function(t){this.Wr=t}},isTouchEvent:{get:function(){var t=V.TouchEvent,e=this.event;return!!(t&&e instanceof t)||(t=V.PointerEvent)&&e instanceof t&&("touch"===e.pointerType||"pen"===e.pointerType)}},timestamp:{get:function(){return this.nt},set:function(t){this.nt=t}},targetDiagram:{get:function(){return this.mt},set:function(t){this.mt=t}},targetObject:{get:function(){return this.pd},set:function(t){this.pd=t}},control:{get:function(){return 0!=(1&this.modifiers)},set:function(t){this.modifiers=t?1|this.modifiers:-2&this.modifiers}},shift:{get:function(){return 0!=(4&this.modifiers)},set:function(t){this.modifiers=t?4|this.modifiers:-5&this.modifiers}},alt:{get:function(){return 0!=(2&this.modifiers)},set:function(t){this.modifiers=t?2|this.modifiers:-3&this.modifiers}},meta:{get:function(){return 0!=(8&this.modifiers)},set:function(t){this.modifiers=t?8|this.modifiers:-9&this.modifiers}},left:{get:function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!=(1&this.buttons):0===this.button},set:function(t){this.buttons=t?1|this.buttons:-2&this.buttons}},right:{get:function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!=(2&this.buttons):2===this.button},set:function(t){this.buttons=t?2|this.buttons:-3&this.buttons}},middle:{get:function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!=(4&this.buttons):1===this.button},set:function(t){this.buttons=t?4|this.buttons:-5&this.buttons}}}),Rs.prototype.getMultiTouchDocumentPoint=Rs.prototype.mA,Rs.prototype.getMultiTouchViewPoint=Rs.prototype.Jq,Rs.className="InputEvent",yc.prototype.copy=function(){var t=new yc;return t.B=this.B,t.oa=this.oa,t.kt=this.kt,t.Js=this.Js,t},yc.prototype.toString=function(){var t="*"+this.name;return null!==this.subject&&(t+=":"+this.subject.toString()),null!==this.parameter&&(t+="("+this.parameter.toString()+")"),t},X.Object.defineProperties(yc.prototype,{diagram:{get:function(){return this.B},set:function(t){this.B=t}},name:{get:function(){return this.oa},set:function(t){this.oa=t}},subject:{get:function(){return this.kt},set:function(t){this.kt=t}},parameter:{get:function(){return this.Js},set:function(t){this.Js=t}}}),yc.className="DiagramEvent",Yr.prototype.clear=function(){this.hp=this.ip=this.op=this.pp=this.np=this.B=this.cc=null},Yr.prototype.copy=function(){var t=new Yr;t.wn=this.wn,t.ys=this.ys,t.gf=this.gf,t.cc=this.cc,t.B=this.B,t.np=this.np;var e=this.pp;return t.pp=Ct(e)&&"function"==typeof e.H?e.H():e,t.op=Ct(e=this.op)&&"function"==typeof e.H?e.H():e,t.ip=Ct(e=this.ip)&&"function"==typeof e.H?e.H():e,t.hp=Ct(e=this.hp)&&"function"==typeof e.H?e.H():e,t},Yr.prototype.jb=function(t){t.classType===Yr&&(this.change=t)},Yr.prototype.toString=function(){var t="";return t=this.change===Os?t+"* ":this.change===Ar?t+(null!==this.model?"!m":"!d"):t+(null!==this.model?"!m":"!d")+this.change,this.propertyName&&"string"==typeof this.propertyName&&(t+=" "+this.propertyName),this.modelChange&&this.modelChange!==this.propertyName&&(t+=" "+this.modelChange),t+=": ",this.change===Os?null!==this.oldValue&&(t+=" "+this.oldValue):(null!==this.object&&(t+=v(this.object)),null!==this.oldValue&&(t+="  old: "+v(this.oldValue)),null!==this.oldParam&&(t+=" "+this.oldParam),null!==this.newValue&&(t+="  new: "+v(this.newValue)),null!==this.newParam&&(t+=" "+this.newParam)),t},Yr.prototype.G=function(t){return t?this.oldValue:this.newValue},Yr.prototype.oA=function(t){return t?this.oldParam:this.newParam},Yr.prototype.canUndo=function(){return null!==this.model||null!==this.diagram},Yr.prototype.undo=function(){this.canUndo()&&(null!==this.model?this.model.changeState(this,!0):null!==this.diagram&&this.diagram.changeState(this,!0))},Yr.prototype.canRedo=function(){return null!==this.model||null!==this.diagram},Yr.prototype.redo=function(){this.canRedo()&&(null!==this.model?this.model.changeState(this,!1):null!==this.diagram&&this.diagram.changeState(this,!1))},X.Object.defineProperties(Yr.prototype,{model:{get:function(){return this.cc},set:function(t){this.cc=t}},diagram:{get:function(){return this.B},set:function(t){this.B=t}},change:{get:function(){return this.wn},set:function(t){this.wn=t}},modelChange:{get:function(){return this.ys},set:function(t){this.ys=t}},propertyName:{get:function(){return this.gf},set:function(t){this.gf=t}},isTransactionFinished:{get:function(){return this.wn===Os&&("CommittedTransaction"===this.gf||"FinishedUndo"===this.gf||"FinishedRedo"===this.gf)}},object:{get:function(){return this.np},set:function(t){this.np=t}},oldValue:{get:function(){return this.pp},set:function(t){this.pp=t}},oldParam:{get:function(){return this.op},set:function(t){this.op=t}},newValue:{get:function(){return this.ip},set:function(t){this.ip=t}},newParam:{get:function(){return this.hp},set:function(t){this.hp=t}}}),Yr.prototype.redo=Yr.prototype.redo,Yr.prototype.canRedo=Yr.prototype.canRedo,Yr.prototype.undo=Yr.prototype.undo,Yr.prototype.canUndo=Yr.prototype.canUndo,Yr.prototype.getParam=Yr.prototype.oA,Yr.prototype.getValue=Yr.prototype.G,Yr.prototype.clear=Yr.prototype.clear;var Os=new wt(Yr,"Transaction",-1),Ar=new wt(Yr,"Property",0),zo=new wt(Yr,"Insert",1),gn=new wt(Yr,"Remove",2);function Ho(){this.u=(new Lt).freeze(),this.oa="",this.l=!1}function oo(){this.gv=new Ht,this.md=!1,this.I=(new Lt).freeze(),this.Xd=-1,this.u=999,this.se=!1,this.Lr=null,this.Yi=0,this.l=!1,this.ye=(new Lt).freeze(),this.Tl=new Lt,this.Qu=!0,this.Wu=this.ks=this.$u=this.Zu=!1}function sd(t,e,o){if(t.isUndoingRedoing)return!1;t.checksTransactionLevel&&1>t.transactionLevel&&lt("Ending transaction without having started a transaction: "+o);var a=1===t.transactionLevel,h=t.currentTransaction;a&&e&&(t.isInternalTransaction||t.Bb("CommittingTransaction",o,h));var c=0;if(0<t.transactionLevel&&(t.Yi--,t.isEnabled)){var g=t.ye.count;0<g&&(""===o&&(o=t.ye.J(0)),t.ye.ea(),t.ye.cb(g-1),t.ye.freeze()),0<(g=t.Tl.count)&&(c=t.Tl.J(g-1),t.Tl.cb(g-1))}if(a){if(e){if(t.ks=!1,null===h&&""!==o&&(h=t.currentTransaction),t.isEnabled&&null!==h){for(h.isComplete||(h.isComplete=!0,h.name=o),(e=t.history).ea(),a=e.count-1;a>t.historyIndex;a--)null!==(c=e.J(a))&&c.clear(),e.cb(a),t.ks=!0;0<=(a=t.maxHistoryLength)&&(0===a?e.clear():e.count>=a&&(null!==(c=e.J(0))&&c.clear(),e.cb(0),t.Xd--)),0===a||0!==e.count&&e.get(e.count-1)===h||(e.add(h),t.Xd++),e.freeze()}t.isInternalTransaction||t.Bb("CommittedTransaction",o,h)}else{t.se=!0;try{t.isEnabled&&null!==h&&(h.isComplete=!0,h.undo())}finally{t.isInternalTransaction||t.Bb("RolledBackTransaction",o,h),t.se=!1}null!==h&&h.clear()}return t.Lr=null,t.isPendingClear&&t.clear(),t.isPendingClear=!1,t.isPendingUnmodified=!1,!0}if(t.isEnabled&&!e&&null!==h){for(t=c,h=(o=h.changes).count-1;h>=t;h--)null!==(e=o.J(h))&&e.undo(),o.ea(),o.cb(h);o.freeze()}return!1}function jn(){me(this),this.B=R0,this.oa="",this.md=!0,this.Sc=!1,this.ix=null,this.lz=new Rs,this.vt=-1}function $r(){jn.call(this),this.name="ToolManager",this.Cc=new Lt,this.Tc=new Lt,this.Od=new Lt,this.T=this.Ka=850,this.u=new Ge(2,2).ca(),this.eb=5e3,this.La=dn,this.I=gf,this.Kr=this.l=null,this.ik=-1}function Qy(t,e){t.standardMouseOver(),t.isBeyondDragSize()&&t.standardWaitAfter(t.isActive?t.holdDelay:t.hoverDelay,e.lastInput)}Yr.className="ChangedEvent",Yr.Transaction=Os,Yr.Property=Ar,Yr.Insert=zo,Yr.Remove=gn,Ho.prototype.toString=function(t){var e="Transaction: "+this.name+" "+this.changes.count.toString()+(this.isComplete?"":", incomplete");if(void 0!==t&&0<t){t=this.changes.count;for(var o=0;o<t;o++){var a=this.changes.J(o);null!==a&&(e+="\n  "+a.toString())}}return e},Ho.prototype.clear=function(){var t=this.changes;t.ea();for(var e=t.count-1;0<=e;e--){var o=t.J(e);null!==o&&o.clear()}t.clear(),t.freeze()},Ho.prototype.canUndo=function(){return this.isComplete},Ho.prototype.undo=function(){if(this.canUndo())for(var t=this.changes.count-1;0<=t;t--){var e=this.changes.J(t);null!==e&&e.undo()}},Ho.prototype.canRedo=function(){return this.isComplete},Ho.prototype.redo=function(){if(this.canRedo())for(var t=this.changes.count,e=0;e<t;e++){var o=this.changes.J(e);null!==o&&o.redo()}},Ho.prototype.nw=function(){if(this.isComplete){var t=this.changes;t.ea();for(var e=new gt,o=0;o<t.count;o++){var a=t.J(o);if(null!==a&&a.change===Ar&&a.object){var h=e.get(a.object);h||(h=new gt,e.set(a.object,h));var c=h.get(a.propertyName);null===c?h.set(a.propertyName,-1):(0<c&&t.Pc(c,null),h.set(a.propertyName,o))}}for(o=e=0;o<t.count;o++)null!==(a=t.J(o))&&(o>e&&t.Pc(e,a),e++);for(;t.length>e;)t.pop();t.freeze()}},X.Object.defineProperties(Ho.prototype,{changes:{get:function(){return this.u}},name:{get:function(){return this.oa},set:function(t){this.oa=t}},isComplete:{get:function(){return this.l},set:function(t){this.l=t}}}),Ho.prototype.optimize=Ho.prototype.nw,Ho.prototype.redo=Ho.prototype.redo,Ho.prototype.canRedo=Ho.prototype.canRedo,Ho.prototype.undo=Ho.prototype.undo,Ho.prototype.canUndo=Ho.prototype.canUndo,Ho.prototype.clear=Ho.prototype.clear,Ho.className="Transaction",oo.prototype.toString=function(t){var e="UndoManager "+this.historyIndex+"<"+this.history.count+"<="+this.maxHistoryLength;e+="[";for(var o=this.nestedTransactionNames.count,a=0;a<o;a++)0<a&&(e+=" "),e+=this.nestedTransactionNames.J(a);if(e+="]",void 0!==t&&0<t)for(o=this.history.count,a=0;a<o;a++)e+="\n "+this.history.J(a).toString(t-1);return e},oo.prototype.clear=function(){var t=this.history;t.ea();for(var e=t.count-1;0<=e;e--){var o=t.J(e);null!==o&&o.clear()}t.clear(),this.Xd=-1,t.freeze(),this.se=!1,this.Lr=null,this.Yi=0,this.ye.ea(),this.ye.clear(),this.ye.freeze(),this.Tl.clear(),this.Wu=this.ks=this.$u=this.Zu=!1},oo.prototype.copyProperties=function(t){this.isEnabled=t.isEnabled,this.maxHistoryLength=t.maxHistoryLength,this.checksTransactionLevel=t.checksTransactionLevel},(st=oo.prototype).Vx=function(t){this.gv.add(t)},st.Py=function(t){this.gv.remove(t)},st.xa=function(t){if(void 0===t&&(t=""),null===t&&(t=""),this.isUndoingRedoing)return!1;!0===this.Qu&&(this.Qu=!1,this.Yi++,this.isInternalTransaction||this.Bb("StartingFirstTransaction",t,this.currentTransaction),0<this.Yi&&this.Yi--),this.isEnabled&&(this.ye.ea(),this.ye.add(t),this.ye.freeze(),this.Tl.add(null===this.currentTransaction?0:this.currentTransaction.changes.count)),this.Yi++;var e=1===this.transactionLevel;return e&&(this.isInternalTransaction||this.Bb("StartedTransaction",t,this.currentTransaction)),e},st.Xa=function(t){return void 0===t&&(t=""),sd(this,!0,t)},st.If=function(){return sd(this,!1,"")},oo.prototype.canUndo=function(){if(!this.isEnabled||0<this.transactionLevel)return!1;var t=this.transactionToUndo;return!(null===t||!t.canUndo())},oo.prototype.undo=function(){if(this.canUndo()){var t=this.transactionToUndo;try{this.se=!0,this.Bb("StartingUndo","Undo",t),this.Xd--,t.undo()}catch(e){lt("undo error: "+e.toString())}finally{this.Bb("FinishedUndo","Undo",t),this.se=!1}}},oo.prototype.canRedo=function(){if(!this.isEnabled||0<this.transactionLevel)return!1;var t=this.transactionToRedo;return!(null===t||!t.canRedo())},oo.prototype.redo=function(){if(this.canRedo()){var t=this.transactionToRedo;try{this.se=!0,this.Bb("StartingRedo","Redo",t),this.Xd++,t.redo()}catch(e){lt("redo error: "+e.toString())}finally{this.Bb("FinishedRedo","Redo",t),this.se=!1}}},oo.prototype.Bb=function(t,e,o){void 0===o&&(o=null);var a=new Yr;for(a.change=Os,a.propertyName=t,a.object=o,a.oldValue=e,t=this.models;t.next();)a.model=e=t.value,e.zt(a)},oo.prototype.aw=function(t){if(this.isEnabled&&!this.isUndoingRedoing&&!this.skipsEvent(t)){var e=this.currentTransaction;null===e&&(this.Lr=e=new Ho);var o=t.copy();(e=e.changes).ea(),e.add(o),e.freeze(),this.checksTransactionLevel&&0>=this.transactionLevel&&!this.Qu&&(null!==(t=t.diagram)&&!1===t.pj||lt("Change not within a transaction: "+o.toString()))}},oo.prototype.skipsEvent=function(t){if(null===t||0>t.change.value)return!0;if(null===(t=t.object))return!1;if(void 0!==t.layer){if(null!==(t=t.layer)&&t.isTemporary)return!0}else if(t.isTemporary)return!0;return!1},X.Object.defineProperties(oo.prototype,{models:{get:function(){return this.gv.iterator}},isEnabled:{get:function(){return this.md},set:function(t){this.md=t}},transactionToUndo:{get:function(){return 0<=this.historyIndex&&this.historyIndex<=this.history.count-1?this.history.J(this.historyIndex):null}},transactionToRedo:{get:function(){return this.historyIndex<this.history.count-1?this.history.J(this.historyIndex+1):null}},isUndoingRedoing:{get:function(){return this.se}},history:{get:function(){return this.I}},maxHistoryLength:{get:function(){return this.u},set:function(t){this.u=t}},historyIndex:{get:function(){return this.Xd}},currentTransaction:{get:function(){return this.Lr}},transactionLevel:{get:function(){return this.Yi}},isInTransaction:{get:function(){return 0<this.Yi}},checksTransactionLevel:{get:function(){return this.l},set:function(t){this.l=t}},nestedTransactionNames:{get:function(){return this.ye}},isPendingClear:{get:function(){return this.Zu},set:function(t){this.Zu=t}},isPendingUnmodified:{get:function(){return this.$u},set:function(t){this.$u=t}},isInternalTransaction:{get:function(){return this.Wu},set:function(t){this.Wu=t}},isJustDiscarded:{get:function(){return this.ks}}}),oo.prototype.handleChanged=oo.prototype.aw,oo.prototype.redo=oo.prototype.redo,oo.prototype.undo=oo.prototype.undo,oo.prototype.canUndo=oo.prototype.canUndo,oo.prototype.rollbackTransaction=oo.prototype.If,oo.prototype.commitTransaction=oo.prototype.Xa,oo.prototype.startTransaction=oo.prototype.xa,oo.prototype.removeModel=oo.prototype.Py,oo.prototype.addModel=oo.prototype.Vx,oo.prototype.clear=oo.prototype.clear,oo.className="UndoManager",jn.prototype.toString=function(){return""!==this.name?this.name+" Tool":y(this.constructor)},jn.prototype.updateAdornments=function(){},jn.prototype.canStart=function(){return this.isEnabled},jn.prototype.doStart=function(){},jn.prototype.doActivate=function(){this.isActive=!0},jn.prototype.doDeactivate=function(){this.isActive=!1},jn.prototype.doStop=function(){},jn.prototype.doCancel=function(){this.transactionResult=null,this.stopTool()},jn.prototype.stopTool=function(){var t=this.diagram;t.currentTool===this&&(t.currentTool=null,t.currentCursor="")},jn.prototype.doMouseDown=function(){!this.isActive&&this.canStart()&&this.doActivate()},jn.prototype.doMouseMove=function(){},jn.prototype.doMouseUp=function(){this.stopTool()},jn.prototype.doMouseWheel=function(){},jn.prototype.canStartMultiTouch=function(){return!0},jn.prototype.standardPinchZoomStart=function(){var t=this.diagram,e=t.lastInput,o=e.Jq(0,rt.allocAt(NaN,NaN)),a=e.Jq(1,rt.allocAt(NaN,NaN));if(o.o()&&a.o()&&(this.doCancel(),t.Bm("hasGestureZoom"))){t.Vl=t.scale;var h=a.x-o.x,c=a.y-o.y;t.sv=Math.sqrt(h*h+c*c),e.bubbles=!1}rt.free(o),rt.free(a)},jn.prototype.standardPinchZoomMove=function(){var t=this.diagram,e=t.lastInput,o=e.Jq(0,rt.allocAt(NaN,NaN)),a=e.Jq(1,rt.allocAt(NaN,NaN));if(o.o()&&a.o()&&(this.doCancel(),t.Bm("hasGestureZoom"))){var h=a.x-o.x,c=a.y-o.y;c=Math.sqrt(h*h+c*c)/t.sv,h=new rt((Math.min(a.x,o.x)+Math.max(a.x,o.x))/2,(Math.min(a.y,o.y)+Math.max(a.y,o.y))/2);var g=t.commandHandler;if((c*=t.Vl)!==t.scale&&g.canResetZoom(c)){var _=t.zoomPoint;t.zoomPoint=h,g.resetZoom(c),t.zoomPoint=_}e.bubbles=!1}rt.free(o),rt.free(a)},jn.prototype.doKeyDown=function(){"Esc"===this.diagram.lastInput.key&&this.doCancel()},jn.prototype.doKeyUp=function(){},jn.prototype.xa=function(t){return void 0===t&&(t=this.name),this.transactionResult=null,this.diagram.xa(t)},jn.prototype.Jg=function(){var t=this.diagram;return null===this.transactionResult?t.If():t.Xa(this.transactionResult)},jn.prototype.standardMouseSelect=function(){var t=this.diagram;if(t.allowSelect){var e=t.lastInput,o=t.zm(e.documentPoint,!1);if(null!==o){if(Z?e.meta:e.control){for(t.R("ChangingSelection",t.selection),e=o;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&(e.isSelected=!e.isSelected),t.R("ChangedSelection",t.selection)}else if(e.shift){if(!o.isSelected){for(t.R("ChangingSelection",t.selection),e=o;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&(e.isSelected=!0),t.R("ChangedSelection",t.selection)}}else if(!o.isSelected){for(e=o;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&t.select(e)}}else!e.left||(Z?e.meta:e.control)||e.shift||t.clearSelection()}},jn.prototype.standardMouseClick=function(t,e){void 0===t&&(t=null),void 0===e&&(e=function(h){return!h.layer.isTemporary});var o=this.diagram,a=o.lastInput;return t=o.Vb(a.documentPoint,t,e),a.targetObject=t,function(t,e,o){if(e.handled=!1,null===t||t.Hg()){var a=0;e.left?a=1===e.clickCount?1:2===e.clickCount?2:1:e.right&&1===e.clickCount&&(a=3);var h="ObjectSingleClicked";if(null!==t){switch(a){case 1:h="ObjectSingleClicked";break;case 2:h="ObjectDoubleClicked";break;case 3:h="ObjectContextClicked"}0!==a&&o.R(h,t)}else{switch(a){case 1:h="BackgroundSingleClicked";break;case 2:h="BackgroundDoubleClicked";break;case 3:h="BackgroundContextClicked"}0!==a&&o.R(h)}if(null!==t)for(;null!==t;){switch(o=null,a){case 1:o=t.click;break;case 2:o=t.doubleClick?t.doubleClick:t.click;break;case 3:o=t.contextClick}if(null!==o&&(o(e,t),e.handled))break;t=t.panel}else{switch(t=null,a){case 1:t=o.click;break;case 2:t=o.doubleClick?o.doubleClick:o.click;break;case 3:t=o.contextClick}null!==t&&t(e)}}}(t,a,o),a.handled},jn.prototype.standardMouseOver=function(){var t=this.diagram,e=t.lastInput;if(!0!==t.animationManager.sc){var o=t.skipsUndoManager;t.skipsUndoManager=!0;var a=t.viewportBounds.$(e.documentPoint)?t.Vb(e.documentPoint,null,null):null;e.targetObject=a;var h=!1;if(a!==t.Ej){var c=t.Ej,g=c;for(t.Ej=a,this.doCurrentObjectChanged(c,a),e.handled=!1;null!==c;){var _=c.mouseLeave;if(null!==_&&(a===c||null!==a&&a.Gg(c)||(_(e,c,a),h=!0,e.handled)))break;c=c.panel}for(c=g,e.handled=!1;null!==a&&(null===(g=a.mouseEnter)||!(c===a||null!==c&&c.Gg(a)||(g(e,a,c),h=!0,e.handled)));)a=a.panel;a=t.Ej}if(null!==a){for(c=a,g="";null!==c&&""===(g=c.cursor);)c=c.panel;for(t.currentCursor=g,e.handled=!1,c=a;null!==c&&(null===(a=c.mouseOver)||(a(e,c),h=!0,!e.handled));)c=c.panel}else t.currentCursor="",null!==(a=t.mouseOver)&&(a(e),h=!0);h&&t.Db(),t.skipsUndoManager=o}},jn.prototype.doCurrentObjectChanged=function(){},jn.prototype.standardMouseWheel=function(){var t=this.diagram,e=t.lastInput,o=e.delta;if(0!==o&&t.documentBounds.o()){var a=t.commandHandler,h=t.toolManager.mouseWheelBehavior;if(null!==a&&(h===ya&&!e.shift||h===dn&&e.control))(0<o?a.canIncreaseZoom():a.canDecreaseZoom())&&(h=t.zoomPoint,t.zoomPoint=e.viewPoint,0<o?a.increaseZoom():a.decreaseZoom(),t.zoomPoint=h),e.bubbles=!1;else if(h===ya&&e.shift||h===dn&&!e.control){a=t.position.copy();var c=0<o?o:-o,g=e.event,_=g.deltaMode;if(h=g.deltaX,g=g.deltaY,(p||T||it)&&(_=1,0<h&&(h=3),0>h&&(h=-3),0<g&&(g=3),0>g&&(g=-3)),void 0===_||void 0===h||void 0===g||0===h&&0===g||e.shift)!e.shift&&t.allowVerticalScroll?t.scroll("pixel",0<o?"up":"down",c=3*c*t.scrollVerticalLineChange):e.shift&&t.allowHorizontalScroll&&t.scroll("pixel",0<o?"left":"right",c=3*c*t.scrollHorizontalLineChange);else{switch(_){default:o="pixel";break;case 1:o="line";break;case 2:o="page"}0!==h&&t.allowHorizontalScroll&&(0<(h*=t.scrollHorizontalLineChange/16)?t.scroll(o,"left",-h):t.scroll(o,"right",h)),0!==g&&t.allowVerticalScroll&&(0<(g*=t.scrollVerticalLineChange/16)?t.scroll(o,"up",-g):t.scroll(o,"down",g))}t.position.w(a)||(e.bubbles=!1)}}},jn.prototype.standardWaitAfter=function(t,e){void 0===e&&(e=this.diagram.lastInput),this.cancelWaitAfter();var o=this,a=e.clone(this.lz);this.vt=G(function(){o.doWaitAfter(a)},t)},jn.prototype.cancelWaitAfter=function(){-1!==this.vt&&V.clearTimeout(this.vt),this.vt=-1},jn.prototype.doWaitAfter=function(){},jn.prototype.findToolHandleAt=function(t,e){return null===(t=this.diagram.Vb(t,function(o){for(;null!==o&&!(o.panel instanceof li);)o=o.panel;return o}))?null:t.part.category===e?t:null},jn.prototype.isBeyondDragSize=function(t,e){var o=this.diagram;void 0===t&&(t=o.firstInput.viewPoint),void 0===e&&(e=o.lastInput.viewPoint);var a=o.toolManager.dragSize,h=a.width;return a=a.height,o.firstInput.isTouchEvent&&(h+=6,a+=6),Math.abs(e.x-t.x)>h||Math.abs(e.y-t.y)>a},X.Object.defineProperties(jn.prototype,{diagram:{get:function(){return this.B},set:function(t){t instanceof Ee&&(this.B=t)}},name:{get:function(){return this.oa},set:function(t){this.oa=t}},isEnabled:{get:function(){return this.md},set:function(t){this.md=t}},isActive:{get:function(){return this.Sc},set:function(t){this.Sc=t}},transactionResult:{get:function(){return this.ix},set:function(t){this.ix=t}}}),jn.prototype.stopTransaction=jn.prototype.Jg,jn.prototype.startTransaction=jn.prototype.xa,jn.className="Tool",et($r,jn),$r.prototype.initializeStandardTools=function(){},$r.prototype.updateAdornments=function(t){var e=this.currentToolTip;if(e instanceof li&&this.Kr===t){var o=e.adornedObject;(null!==t?o.part===t:null===o)?this.showToolTip(e,o):this.hideToolTip()}},$r.prototype.doMouseDown=function(){var t=this.diagram,e=t.lastInput;if(e.isTouchEvent&&this.gestureBehavior===au&&(e.bubbles=!1),e.isMultiTouch){if(this.cancelWaitAfter(),this.gestureBehavior===Al)return void(e.bubbles=!0);if(this.gestureBehavior===au)return;if(t.currentTool.canStartMultiTouch())return void t.currentTool.standardPinchZoomStart()}for(var o=this.mouseDownTools.length,a=0;a<o;a++){var h=this.mouseDownTools.J(a);if(h.diagram=this.diagram,h.canStart())return t.doFocus(),t.currentTool=h,void(t.currentTool===h&&(h.isActive||h.doActivate(),h.doMouseDown()))}1===t.lastInput.button&&(this.mouseWheelBehavior===dn?this.mouseWheelBehavior=ya:this.mouseWheelBehavior===ya&&(this.mouseWheelBehavior=dn)),this.doActivate(),this.standardWaitAfter(this.holdDelay,e)},$r.prototype.doMouseMove=function(){var t=this.diagram,e=t.lastInput;if(e.isMultiTouch){if(this.gestureBehavior===Al)return void(e.bubbles=!0);if(this.gestureBehavior===au)return;if(t.currentTool.canStartMultiTouch())return void t.currentTool.standardPinchZoomMove()}if(this.isActive)for(var o=this.mouseMoveTools.length,a=0;a<o;a++){var h=this.mouseMoveTools.J(a);if(h.diagram=this.diagram,h.canStart())return t.doFocus(),t.currentTool=h,void(t.currentTool===h&&(h.isActive||h.doActivate(),h.doMouseMove()))}Qy(this,t),null===(t=e.event)||"mousemove"!==t.type&&"pointermove"!==t.type&&t.cancelable||(e.bubbles=!0)},$r.prototype.doCurrentObjectChanged=function(t,e){null===(t=this.currentToolTip)||null!==e&&t instanceof li&&(e===t||e.Gg(t))||this.hideToolTip()},$r.prototype.doWaitAfter=function(t){var e=this.diagram;e.ya&&(this.doMouseHover(),this.isActive||this.doToolTip(),t.isTouchEvent&&!e.lastInput.handled&&((t=t.copy()).button=2,t.buttons=2,e.lastInput=t,e.hk=!0,e.doMouseUp()))},$r.prototype.doMouseHover=function(){var t=this.diagram,e=t.lastInput;null===e.targetObject&&(e.targetObject=t.Vb(e.documentPoint,null,null));var o=e.targetObject;if(null!==o)for(e.handled=!1;null!==o&&(null===(t=this.isActive?o.mouseHold:o.mouseHover)||(t(e,o),!e.handled));)o=o.panel;else null!==(o=this.isActive?t.mouseHold:t.mouseHover)&&o(e)},$r.prototype.doToolTip=function(){var t=this.diagram,e=t.lastInput;if(null===e.targetObject&&(e.targetObject=t.Vb(e.documentPoint,null,null)),null!==(e=e.targetObject)){if(!((t=this.currentToolTip)instanceof li)||e!==t&&!e.Gg(t)){for(;null!==e;){if(null!==(t=e.toolTip))return void this.showToolTip(t,e);e=e.panel}this.hideToolTip()}}else null!==(e=t.toolTip)?this.showToolTip(e,null):this.hideToolTip()},$r.prototype.showToolTip=function(t,e){var o=this.diagram;if(t!==this.currentToolTip&&this.hideToolTip(),t instanceof li){t.layerName="Tool",t.selectable=!1,t.scale=1/o.scale,t.category="ToolTip",null!==t.placeholder&&(t.placeholder.scale=o.scale);var a=t.diagram;null!==a&&a!==o&&a.remove(t),o.add(t),null!==e?t.adornedObject=e:t.data=o.model,t.Ta(),this.positionToolTip(t,e)}else t instanceof bf&&t!==this.currentToolTip&&t.show(e,o,this);if(this.currentToolTip=t,-1!==this.ik&&(V.clearTimeout(this.ik),this.ik=-1),0<(t=this.toolTipDuration)&&t!==1/0){var h=this;this.ik=G(function(){h.hideToolTip()},t)}},$r.prototype.positionToolTip=function(t){if(null===t.placeholder){var e=this.diagram,o=e.lastInput.documentPoint.copy(),a=t.measuredBounds,h=e.viewportBounds;e.lastInput.isTouchEvent&&(o.x-=a.width),o.x+a.width>h.right&&(o.x-=a.width+5/e.scale),o.x<h.x&&(o.x=h.x),o.y=o.y+20/e.scale+a.height>h.bottom?o.y-(a.height+5/e.scale):o.y+20/e.scale,o.y<h.y&&(o.y=h.y),t.position=o}},$r.prototype.hideToolTip=function(){-1!==this.ik&&(V.clearTimeout(this.ik),this.ik=-1);var t=this.diagram,e=this.currentToolTip;null!==e&&(e instanceof li?(t.remove(e),null!==this.Kr&&this.Kr.Hf(e.category),e.data=null,e.adornedObject=null):e instanceof bf&&null!==e.hide&&e.hide(t,this),this.currentToolTip=null)},$r.prototype.doMouseUp=function(){this.cancelWaitAfter();var t=this.diagram;if(this.isActive)for(var e=this.mouseUpTools.length,o=0;o<e;o++){var a=this.mouseUpTools.J(o);if(a.diagram=this.diagram,a.canStart())return t.doFocus(),t.currentTool=a,void(t.currentTool===a&&(a.isActive||a.doActivate(),a.doMouseUp()))}t.doFocus(),this.doDeactivate()},$r.prototype.doMouseWheel=function(){this.standardMouseWheel()},$r.prototype.doKeyDown=function(){var t=this.diagram;null!==t.commandHandler&&t.commandHandler.doKeyDown()},$r.prototype.doKeyUp=function(){var t=this.diagram;null!==t.commandHandler&&t.commandHandler.doKeyUp()},$r.prototype.findTool=function(t){for(var e=this.mouseDownTools.length,o=0;o<e;o++){var a=this.mouseDownTools.J(o);if(a.name===t)return a}for(e=this.mouseMoveTools.length,o=0;o<e;o++)if((a=this.mouseMoveTools.J(o)).name===t)return a;for(e=this.mouseUpTools.length,o=0;o<e;o++)if((a=this.mouseUpTools.J(o)).name===t)return a;return null},$r.prototype.replaceTool=function(t,e){null!==e&&(e.diagram=this.diagram);for(var o=this.mouseDownTools.length,a=0;a<o;a++){var h=this.mouseDownTools.J(a);if(h.name===t)return null!==e?this.mouseDownTools.Pc(a,e):this.mouseDownTools.cb(a),h}for(o=this.mouseMoveTools.length,a=0;a<o;a++)if((h=this.mouseMoveTools.J(a)).name===t)return null!==e?this.mouseMoveTools.Pc(a,e):this.mouseMoveTools.cb(a),h;for(o=this.mouseUpTools.length,a=0;a<o;a++)if((h=this.mouseUpTools.J(a)).name===t)return null!==e?this.mouseUpTools.Pc(a,e):this.mouseUpTools.cb(a),h;return null},$r.prototype.Ya=function(t,e,o){null!==e&&(e.name=t,e.diagram=this.diagram),this.findTool(t)?this.replaceTool(t,e):null!==e&&o.add(e)},X.Object.defineProperties($r.prototype,{mouseWheelBehavior:{get:function(){return this.La},set:function(t){this.La=t}},gestureBehavior:{get:function(){return this.I},set:function(t){this.I=t}},currentToolTip:{get:function(){return this.l},set:function(t){this.l=t,this.Kr=null!==t&&t instanceof li?t.adornedPart:null}},mouseDownTools:{get:function(){return this.Cc}},mouseMoveTools:{get:function(){return this.Tc}},mouseUpTools:{get:function(){return this.Od}},hoverDelay:{get:function(){return this.Ka},set:function(t){this.Ka=t}},holdDelay:{get:function(){return this.T},set:function(t){this.T=t}},dragSize:{get:function(){return this.u},set:function(t){this.u=t.H()}},toolTipDuration:{get:function(){return this.eb},set:function(t){this.eb=t}}}),$r.prototype.replaceStandardTool=$r.prototype.Ya;var dn=new wt($r,"WheelScroll",0),ya=new wt($r,"WheelZoom",1),fl=new wt($r,"WheelNone",2),gf=new wt($r,"GestureZoom",3),au=new wt($r,"GestureCancel",4),Al=new wt($r,"GestureNone",5);function vr(){jn.call(this),this.name="Dragging",this.I=this.Tc=!0,this.u=this.eb=this.Ka=this.qg=null,this.Tn=this.Od=!1,this.jm=new rt(NaN,NaN),this.it=new rt,this.Cc=!0,this.pl=100,this.Xg=[],this.lr=(new Ht).freeze(),this.La=new F0,this.Fo=null,this.T="copy",this.Wh="",this.Xh="no-drop"}function Tn(t,e){if(t.dragsLink){var o=t.diagram;o.allowRelink&&(o.model.Ck()&&1===e.count&&e.first()instanceof We?(t.draggedLink=e.first(),t.draggedLink.canRelinkFrom()&&t.draggedLink.canRelinkTo()&&t.draggedLink.nk(),t.qg=o.toolManager.findTool("Relinking"),null===t.qg&&(t.qg=new ds,t.qg.diagram=o)):(t.draggedLink=null,t.qg=null))}}function so(t){var e=t.diagram,o=e.skipsUndoManager;e.skipsUndoManager=!0,sp(t,e.lastInput,null),e.skipsUndoManager=o,t.Xg.length=0}function Es(){var t=yr;Jl(t),Ns(t);var e=t.diagram;t.jm.o()&&(e.position=t.jm),e.Jf()}function Tl(t,e){if(null===t.copiedParts){var o=t.diagram;if((!e||!o.isReadOnly&&!o.isModelReadOnly)&&null!==t.draggedParts){var a=o.undoManager;for(a.isEnabled&&a.isInTransaction?null!==a.currentTransaction&&0<a.currentTransaction.changes.count&&(o.undoManager.If(),o.xa("Drag")):Ns(t),o.skipsUndoManager=!e,o.partManager.addsToTemporaryLayer=!e,t.startPoint=o.firstInput.documentPoint,e=t.copiesEffectiveCollection?t.draggedParts.Kf():o.selection,e=o.tk(e,o,!0),o=new gt,a=t.draggedParts.iterator;a.next();){var h=a.key;if(h.Nc()&&h.canCopy()){var c=e.G(h);null!==c&&(c.location=h.location,c.Ta(),o.add(c,t.Cd(c.location)))}}for(e=e.iterator;e.next();)(a=e.value)instanceof We&&a.canCopy()&&o.add(a,t.Cd());t.copiedParts=o,Tn(t,o.Kf()),null!==t.draggedLink&&ur(o=t.draggedLink,t.startPoint.x-((e=o.routeBounds).x+e.width/2),t.startPoint.y-(e.y+e.height/2))}}}function Jl(t){var e=t.diagram;if(null!==t.copiedParts&&(e.gu(t.copiedParts.Kf(),!1),t.copiedParts=null,null!==t.draggedParts))for(var o=t.draggedParts.iterator;o.next();)o.key instanceof We&&(o.value.point=new rt(0,0));e.skipsUndoManager=!1,e.partManager.addsToTemporaryLayer=!1,t.startPoint=e.firstInput.documentPoint}function Fa(t){if(null!==t.draggedLink){if(t.dragsLink&&null!==t.qg){var e=t.qg;e.diagram.remove(e.temporaryFromNode),e.diagram.remove(e.temporaryToNode)}t.draggedLink=null,t.qg=null}}function dh(t,e,o){var a=t.diagram,h=t.startPoint,c=rt.alloc();c.assign(a.lastInput.documentPoint),t.moveParts(e,c.ge(h),o),rt.free(c),!0===a.Ke("temporaryPixelRatio")&&null===a.yh&&30<a.Yx&&(Jo(a),a.Yq())}function Ns(t){if(null!==t.draggedParts){for(var e=t.diagram,o=t.draggedParts.iterator;o.next();){var a=o.key;a.Nc()&&(a.location=o.value.point)}for(o=t.draggedParts.iterator;o.next();)if((a=o.key)instanceof We&&a.suspendsRouting){var h=o.value.point;t.draggedParts.add(a,t.Cd()),ur(a,-h.x,-h.y)}e.hd()}}function ad(t,e){var o=t.diagram;t.dragsLink&&(null!==t.draggedLink&&(t.draggedLink.fromNode=null,t.draggedLink.toNode=null),lu(t,!1));var a=t.findDragOverObject(e),h=o.lastInput;h.targetObject=a,t.doUpdateCursor(a);var c=o.skipsUndoManager,g=!1;try{if(o.skipsUndoManager=!0,g=sp(t,h,a),!t.isActive&&null===yr)return;var _=null!==a?a.part:null;if(null===_||o.handlesDragDropForTopLevelParts&&_.isTopLevel&&!(_ instanceof hi)){var k=o.mouseDragOver;null!==k&&(k(h),g=!0)}if(!t.isActive&&null===yr||(t.doDragOver(e,a),!t.isActive&&null===yr))return}finally{o.skipsUndoManager=c,g&&o.hd()}t.Fo=a,o.isReadOnly||!o.allowMove&&!o.allowCopy||!o.allowHorizontalScroll&&!o.allowVerticalScroll||o.Et(h.viewPoint)}function sp(t,e,o){var a=!1,h=t.Xg.length,c=0<h?t.Xg[0]:null;if(o===c)return!1;e.handled=!1;for(var g=0;g<h;g++){var _=t.Xg[g],k=_.mouseDragLeave;if(null!==k&&(k(e,_,o),a=!0,e.handled))break}if(t.Xg.length=0,!t.isActive&&null===yr||null===o)return a;for(e.handled=!1,h=o;null!==h;)t.Xg.push(h),h=Qr(h);for(h=t.Xg.length,o=0;o<h&&(null===(_=(g=t.Xg[o]).mouseDragEnter)||(_(e,g,c),a=!0,!e.handled));o++);return a}function Qr(t){var e=t.panel;return null!==e?e:t instanceof Nt&&!(t instanceof hi)&&null!==(t=t.containingGroup)&&t.handlesDragDropForMembers?t:null}function vf(t,e,o){var a=t.qg;if(null===a)return null;var h=t.diagram.Eg(e,a.portGravity,function(P){return a.findValidLinkablePort(P,o)});t=rt.alloc();var c=1/0,g=null;for(h=h.iterator;h.next();){var _=h.value;if(null!==_.part){var k=_.da(Hi,t);(k=e.Ie(k))<c&&(g=_,c=k)}}return rt.free(t),g}function lu(t,e){var o=t.draggedLink;if(null!==o&&!(2>o.pointsCount)){var a=t.diagram;if(!a.isReadOnly){var h=t.qg;if(null!==h){var c=null,g=null;null===o.fromNode&&null!==(c=vf(t,o.i(0),!1))&&(g=c.part);var _=null,k=null;null===o.toNode&&null!==(_=vf(t,o.i(o.pointsCount-1),!0))&&(k=_.part),h.isValidLink(g,c,k,_)?e?(o.defaultFromPoint=o.i(0),o.defaultToPoint=o.i(o.pointsCount-1),o.suspendsRouting=!1,o.fromNode=g,null!==c&&(o.fromPortId=c.portId),o.toNode=k,null!==_&&(o.toPortId=_.portId),o.fromPort!==a.Ky&&a.R("LinkRelinked",o,a.Ky),o.toPort!==a.Ly&&a.R("LinkRelinked",o,a.Ly)):dv(h,g,c,k,_):dv(h,null,null,null,null)}}}}function ap(t,e){var o=t.diagram;t.dragsLink&&lu(t,!0),so(t);var a=t.findDragOverObject(e),h=o.lastInput;if(h.targetObject=a,null!==a){h.handled=!1;for(var c=a;null!==c;){var g=c.mouseDrop;if(null!==g&&(g(h,c),h.handled))break;v0(t,h,c),c=Qr(c)}}else null!==(c=o.mouseDrop)&&c(h);if(t.isActive||null!==yr){for(h=(t.copiedParts||t.draggedParts).iterator;h.next();)(c=h.key)instanceof Fe&&c.linksConnected.each(function(_){_.suspendsRouting=!1});if(t.doDropOnto(e,a),t.isActive||null!==yr){for(t=te.alloc(),e=o.selection.iterator;e.next();)(a=e.value)instanceof Fe&&Pl(o,a,t);te.free(t)}}}function v0(t,e,o){o=o.part,!(t=t.diagram).handlesDragDropForTopLevelParts||!o.isTopLevel||o instanceof hi||null!==(o=t.mouseDrop)&&o(e)}function Pl(t,e,o){var a=!1;if(e.getAvoidableRect(o),t.viewportBounds.Ge(o)&&(a=!0),0!==(t=t.Vv(o,function(h){return h.part},function(h){return h instanceof We},!0,function(h){return h instanceof We},a)).count)for(t=t.iterator;t.next();)!(o=t.value).Kd(e)&&o.isAvoiding&&o.Ua()}function yf(t,e,o,a){if(null===t.copiedParts){var h=t.diagram;if(!h.isReadOnly&&!h.isModelReadOnly){h.skipsUndoManager=!o,h.partManager.addsToTemporaryLayer=!o,t.startPoint=a.documentPoint,o=h.tk(e,h,!0);var c=te.alloc();h=a=1/0;for(var g=-1/0,_=-1/0,k=e.iterator;k.next();){var P=k.value;if(P.isVisible()){var F=P.location;P=F.x,F=F.y,isNaN(P)||isNaN(F)||(P<a&&(a=P),F<h&&(h=F),P>g&&(g=P),F>_&&(_=F))}}for(a===1/0?c.h(0,0,0,0):c.h(a,h,g-a,_-h),a=c.x+c.width/2,h=c.y+c.height/2,te.free(c),c=t.it,g=new gt,_=rt.alloc(),k=e.iterator;k.next();)(P=k.value)instanceof We&&P.canCopy()&&null!==(F=o.G(P))&&(F.points=P.points,ur(F,c.x-a,c.y-h),F.suspendsRouting=!0,g.add(F,t.Cd()));for(e=e.iterator;e.next();)(P=e.value).Nc()&&P.canCopy()&&null!==(k=o.G(P))&&(_.h(c.x-(a-(P=P.location).x),c.y-(h-P.y)),k.location=_,k.Ta(),g.add(k,t.Cd(_)));rt.free(_),t.copiedParts=g,Tn(t,g.Kf()),null!==t.draggedLink&&ur(o=t.draggedLink,t.startPoint.x-((e=o.routeBounds).x+e.width/2),t.startPoint.y-(e.y+e.height/2))}}}$r.className="ToolManager",$r.WheelScroll=dn,$r.WheelZoom=ya,$r.WheelNone=fl,$r.GestureZoom=gf,$r.GestureCancel=au,$r.GestureNone=Al,et(vr,jn),vr.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(t.isReadOnly&&!t.allowDragOut||!t.allowMove&&!t.allowCopy&&!t.allowDragOut||!t.allowSelect)return!1;var e=t.lastInput;return!(!e.left||t.currentTool!==this&&(!this.isBeyondDragSize()||e.isTouchEvent&&e.timestamp-t.firstInput.timestamp<this.pl))&&null!==this.findDraggablePart()},vr.prototype.findDraggablePart=function(){var t=this.diagram;if(null===(t=t.zm(t.firstInput.documentPoint,!1)))return null;for(;null!==t&&!t.canSelect();)t=t.containingGroup;return null!==t&&(t.canMove()||t.canCopy())?t:null},vr.prototype.standardMouseSelect=function(){var t=this.diagram;if(t.allowSelect){var e=t.zm(t.firstInput.documentPoint,!1);if(null!==e){for(;null!==e&&!e.canSelect();)e=e.containingGroup;this.currentPart=e,null===this.currentPart||this.currentPart.isSelected||(t.R("ChangingSelection",t.selection),e=t.lastInput,(Z?e.meta:e.control)||e.shift||t.clearSelection(!0),this.currentPart.isSelected=!0,t.R("ChangedSelection",t.selection))}}},vr.prototype.doActivate=function(){var t=this.diagram;this.Fo=null,null===this.currentPart&&this.standardMouseSelect();var e=this.currentPart;null!==e&&(e.canMove()||e.canCopy())&&(yr=null,this.isActive=!0,this.jm.set(t.position),Tn(this,t.selection),this.Xg.length=0,t.animationManager.Bc(),this.draggedParts=this.computeEffectiveCollection(t.selection,this.dragOptions),t.mu=!0,!0===t.Ke("temporaryPixelRatio")&&30<t.Yx&&Jo(t),Ef(t,this.draggedParts),this.xa("Drag"),this.startPoint=t.firstInput.documentPoint,t.isMouseCaptured=!0,t.allowDragOut&&(this.isDragOutStarted=!0,this.Tn=!1,yr=this,y0=this.diagram,this.doSimulatedDragOut()))},vr.prototype.computeEffectiveCollection=function(t,e){return this.diagram.commandHandler.computeEffectiveCollection(t,e)},vr.prototype.Cd=function(t){return new Tf(void 0===t?ii:this.isGridSnapEnabled?new rt(Math.round(1e3*t.x)/1e3,Math.round(1e3*t.y)/1e3):t.copy())},vr.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;if(t.Jf(),so(this),vd(t,this.draggedParts),this.draggedParts=this.currentPart=this.Fo=null,this.Tn=this.isDragOutStarted=!1,0<il.count){for(var e=il,o=e.length,a=0;a<o;a++){var h=e.J(a);Fa(h),Jl(h),so(h),h.diagram.Jf()}e.clear()}Fa(this),this.jm.h(NaN,NaN),yr=y0=null,Jl(this),t.isMouseCaptured=!1,t.currentCursor="",t.mu=!1,this.Jg(),Bh(t,!0)},vr.prototype.doCancel=function(){Jl(this),Ns(this);var t=this.diagram;this.jm.o()&&(t.position=this.jm),this.stopTool()},vr.prototype.doKeyDown=function(){var t=this.diagram,e=t.lastInput;this.isActive&&("Esc"===e.key?this.doCancel():e.key!==t.previousInput.key&&this.doMouseMove())},vr.prototype.doKeyUp=function(){this.isActive&&this.doMouseMove()},vr.prototype.moveParts=function(t,e,o){void 0===o&&(o=!1);var a=this.diagram;null!==a&&bc(a,t,e,this.dragOptions,o)},vr.prototype.findDragOverObject=function(t){var e=this;return vp(this.diagram,t,null,function(o){return!(o=null===o||!!(null===(o=o.part)||o instanceof li||o.layer.isTemporary||e.draggedParts&&e.draggedParts.contains(o)||e.copiedParts&&e.copiedParts.contains(o)))})},vr.prototype.doUpdateCursor=function(t){var e=this.diagram;this.Fo!==t&&(!this.diagram.currentTool.isActive||this.mayCopy()?e.currentCursor=this.copyCursor:this.mayMove()?e.currentCursor=this.moveCursor:this.mayDragOut()&&(e.currentCursor=this.nodropCursor))},vr.prototype.doDragOver=function(){},vr.prototype.doDropOnto=function(){},vr.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram,e=t.lastInput;this.simulatedMouseMove(e.event,e.documentPoint,e.targetDiagram)||null===this.currentPart||null===this.draggedParts||(this.mayCopy()?(Tl(this,!1),Ef(t,this.copiedParts),dh(this,this.copiedParts,!1),vd(t,this.copiedParts)):this.mayMove()?(Jl(this),dh(this,this.draggedParts,!0)):this.mayDragOut()?(Tl(this,!1),dh(this,this.copiedParts,!1)):Jl(this),ad(this,t.lastInput.documentPoint))}},vr.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram,e=t.lastInput;if(!this.simulatedMouseUp(e.event,e.documentPoint,e.targetDiagram)){e=!1;var o=this.mayCopy();if(o&&null!==this.copiedParts?(Jl(this),Tl(this,!0),Ef(t,this.copiedParts),dh(this,this.copiedParts,!1),vd(t,this.copiedParts),null!==this.copiedParts&&(t.R("ChangingSelection",t.selection),t.clearSelection(!0),this.copiedParts.iteratorKeys.each(function(h){h.isSelected=!0}))):(e=!0,Jl(this),this.mayMove()&&(dh(this,this.draggedParts,!0),ad(this,t.lastInput.documentPoint))),this.Tn=!0,ap(this,t.lastInput.documentPoint),this.isActive){var a=o?this.copiedParts.Kf():this.draggedParts.Kf();this.copiedParts=null,e&&function(t){if(null!==t.draggedParts)for(var e=t.draggedParts.iterator;e.next();){var o=e.key;o instanceof Fe&&(null===(o=o.containingGroup)||null===o.placeholder||t.draggedParts.contains(o)||o.placeholder.s())}}(this),t.Na(),vd(t,this.draggedParts),this.transactionResult=o?"Copy":"Move",t.R(o?"SelectionCopied":"SelectionMoved",a)}this.stopTool(),o&&t.R("ChangedSelection",t.selection)}}},vr.prototype.simulatedMouseMove=function(t,e,o){if(null===yr)return!1;var a=yr.diagram;o instanceof Ee||(o=null);var h=y0;return o!==h&&(null!==h&&h!==a&&(h.Jf(),yr.isDragOutStarted=!1,null!==(h=h.toolManager.findTool("Dragging"))&&h.doSimulatedDragLeave()),y0=o,null!==o&&o!==a&&(Es(),null!==(h=o.toolManager.findTool("Dragging"))&&(il.contains(h)||il.add(h),h.doSimulatedDragEnter()))),!(null===o||o===a||!o.allowDrop||o.isReadOnly||!o.allowInsert||(null!==(a=o.toolManager.findTool("Dragging"))&&(null!==t&&(void 0!==t.targetTouches&&(0<t.targetTouches.length?t=t.targetTouches[0]:0<t.changedTouches.length&&(t=t.changedTouches[0])),e=o.getMouse(t)),o.lastInput.documentPoint=e,o.lastInput.viewPoint=o.gr(e),o.lastInput.down=!1,o.lastInput.up=!1,a.doSimulatedDragOver()),0))},vr.prototype.simulatedMouseUp=function(t,e,o){if(null===yr)return!1;var a=y0,h=yr.diagram;if(null===o)return yr.doCancel(),!0;if(o!==a){var c=a.toolManager.findTool("Dragging");if(null!==a&&a!==h&&null!==c)return a.Jf(),yr.isDragOutStarted=!1,c.doSimulatedDragLeave(),!1;y0=o,null!==(a=o.toolManager.findTool("Dragging"))&&(Es(),il.contains(a)||il.add(a),a.doSimulatedDragEnter())}return o!==this.diagram&&(null!==t?(void 0!==t.targetTouches&&(0<t.targetTouches.length?t=t.targetTouches[0]:0<t.changedTouches.length&&(t=t.changedTouches[0])),e=o.getMouse(t)):null===e&&(e=new rt),o.lastInput.documentPoint=e,o.lastInput.viewPoint=o.gr(e),o.lastInput.down=!1,o.lastInput.up=!0,null!==(t=o.toolManager.findTool("Dragging"))&&t.doSimulatedDrop(),null!==(t=yr)&&(o=t.mayCopy(),t.transactionResult=o?"Copy":"Move",t.stopTool()),!0)},vr.prototype.mayCopy=function(){if(!this.isCopyEnabled)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowCopy||(Z?!t.lastInput.alt:!t.lastInput.control))return!1;for(t=t.selection.iterator;t.next();)if(t.value.canCopy())return!0;return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canCopy())},vr.prototype.mayDragOut=function(){if(!this.isCopyEnabled)return!1;var t=this.diagram;if(!t.allowDragOut||!t.allowCopy||t.allowMove)return!1;for(t=t.selection.iterator;t.next();)if(t.value.canCopy())return!0;return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canCopy())},vr.prototype.mayMove=function(){var t=this.diagram;if(t.isReadOnly||!t.allowMove)return!1;for(t=t.selection.iterator;t.next();)if(t.value.canMove())return!0;return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canMove())},vr.prototype.computeBorder=function(t,e,o){return this.Tn||null===this.draggedParts||this.draggedParts.contains(t)?null:o.assign(e)},vr.prototype.lA=function(){return yr},vr.prototype.mayDragIn=function(){var t=this.diagram;return!(!t.allowDrop||t.isReadOnly||t.isModelReadOnly||!t.allowInsert)&&!(null===yr||yr.diagram.model.dataFormat!==t.model.dataFormat)},vr.prototype.doSimulatedDragEnter=function(){if(this.mayDragIn()){var t=this.diagram;t.animationManager.Bc(),Ko(t),t.animationManager.Bc(),null!==yr&&(yr.diagram.mu=!1),this.doUpdateCursor(t.grid)}},vr.prototype.doSimulatedDragLeave=function(){null!==yr&&yr.doSimulatedDragOut(),this.doCancel()},vr.prototype.doSimulatedDragOver=function(){var t=this.diagram;t.animationManager.tn=!0;var e=yr;if(null!==e&&null!==e.draggedParts){if(!this.mayDragIn())return;yf(this,e.draggedParts.Kf(),!1,t.firstInput),dh(this,this.copiedParts,!1),ad(this,t.lastInput.documentPoint)}t.animationManager.tn=!1},vr.prototype.doSimulatedDrop=function(){var t=this.diagram,e=yr;if(null!==e){var o=e.diagram;if(e.Tn=!0,Jl(this),!this.mayDragIn())return;t.animationManager.tn=!0,t.R("ChangingSelection",t.selection),this.xa("Drop"),yf(this,e.draggedParts.Kf(),!0,t.lastInput),dh(this,this.copiedParts,!1),null!==this.copiedParts&&(t.clearSelection(!0),this.copiedParts.iteratorKeys.each(function(a){a.isSelected=!0})),ap(this,t.lastInput.documentPoint),t.Na(),e=t.selection,null!==this.copiedParts?this.transactionResult="ExternalCopy":e=new Ht,this.copiedParts=null,t.doFocus(),t.R("ExternalObjectsDropped",e,o),this.Jg(),t.R("ChangedSelection",t.selection)}t.animationManager.tn=!1},vr.prototype.doSimulatedDragOut=function(){var t=this.diagram;t.mu=!1,t.currentCursor=this.mayCopy()||this.mayMove()?"":this.nodropCursor,this.Fo=null},vr.prototype.computeMove=function(t,e,o,a){return null!==(o=this.diagram)?o.computeMove(t,e,this.dragOptions,a):new rt},X.Object.defineProperties(vr.prototype,{isCopyEnabled:{get:function(){return this.Tc},set:function(t){this.Tc=t}},copiesEffectiveCollection:{get:function(){return this.I},set:function(t){this.I=t}},dragOptions:{get:function(){return this.La},set:function(t){this.La=t}},isGridSnapEnabled:{get:function(){return this.dragOptions.isGridSnapEnabled},set:function(t){this.dragOptions.isGridSnapEnabled=t}},isComplexRoutingRealtime:{get:function(){return this.Cc},set:function(t){this.Cc=t}},isGridSnapRealtime:{get:function(){return this.dragOptions.isGridSnapRealtime},set:function(t){this.dragOptions.isGridSnapRealtime=t}},gridSnapCellSize:{get:function(){return this.dragOptions.gridSnapCellSize},set:function(t){this.dragOptions.gridSnapCellSize.w(t)||(t=t.H(),this.dragOptions.gridSnapCellSize=t)}},gridSnapCellSpot:{get:function(){return this.dragOptions.gridSnapCellSpot},set:function(t){this.dragOptions.gridSnapCellSpot.w(t)||(t=t.H(),this.dragOptions.gridSnapCellSpot=t)}},gridSnapOrigin:{get:function(){return this.dragOptions.gridSnapOrigin},set:function(t){this.dragOptions.gridSnapOrigin.w(t)||(t=t.H(),this.dragOptions.gridSnapOrigin=t)}},dragsLink:{get:function(){return this.dragOptions.dragsLink},set:function(t){this.dragOptions.dragsLink=t}},dragsTree:{get:function(){return this.dragOptions.dragsTree},set:function(t){this.dragOptions.dragsTree=t}},copyCursor:{get:function(){return this.T},set:function(t){this.T=t}},moveCursor:{get:function(){return this.Wh},set:function(t){this.Wh=t}},nodropCursor:{get:function(){return this.Xh},set:function(t){this.Xh=t}},currentPart:{get:function(){return this.Ka},set:function(t){this.Ka=t}},copiedParts:{get:function(){return this.u},set:function(t){this.u=t}},draggedParts:{get:function(){return this.eb},set:function(t){this.eb=t}},draggingParts:{get:function(){return null!==this.copiedParts?this.copiedParts.Kf():null!==this.draggedParts?this.draggedParts.Kf():this.lr}},draggedLink:{get:function(){return this.diagram.draggedLink},set:function(t){this.diagram.draggedLink=t}},isDragOutStarted:{get:function(){return this.Od},set:function(t){this.Od=t}},startPoint:{get:function(){return this.it},set:function(t){this.it.w(t)||this.it.assign(t)}},delay:{get:function(){return this.pl},set:function(t){this.pl=t}}}),vr.prototype.getDraggingSource=vr.prototype.lA;var il=null,yr=null,y0=null;function Ls(){jn.call(this),this.Xh=100,this.La=!1,this.oi="pointer";var t=new We,e=new Qi;e.isPanelMain=!0,e.stroke="blue",t.add(e),(e=new Qi).toArrow="Standard",e.fill="blue",e.stroke="blue",t.add(e),t.layerName="Tool",this.gx=t,t=new Fe,(e=new Qi).portId="",e.figure="Rectangle",e.fill=null,e.stroke="magenta",e.strokeWidth=2,e.desiredSize=Ei,t.add(e),t.selectable=!1,t.layerName="Tool",this.ex=t,this.l=e,t=new Fe,(e=new Qi).portId="",e.figure="Rectangle",e.fill=null,e.stroke="magenta",e.strokeWidth=2,e.desiredSize=Ei,t.add(e),t.selectable=!1,t.layerName="Tool",this.hx=t,this.u=e,this.Wh=this.Od=this.Cc=this.eb=this.Tc=null,this.Ka=!0,this.cz=new gt,this.lr=this.Ii=this.bx=null}function x0(t,e,o,a){if(e===o)return!0;var h=e.fromNode;return!(null===h||!h.isLinkLabel||(a.add(h),!x0(t,h.labeledLink,o,a)))||!(null===(e=e.toNode)||!e.isLinkLabel||(a.add(e),!x0(t,e.labeledLink,o,a)))}function hd(t,e,o,a,h){if(e===o)return!0;if(null===e||null===o)return!1;for(var c=e.linksConnected;c.next();){var g=c.value;if(g!==a&&(!h||g.isTreeLink)&&g.toNode===e&&(g=g.fromNode)!==e&&hd(t,g,o,a,h))return!0}return!1}function lp(t,e,o,a,h){if(o===a)return!0;if(null===o||null===a||e.contains(o))return!1;e.add(o);for(var c=o.linksConnected;c.next();){var g=c.value;if(g!==h&&g.toNode===o&&(g=g.fromNode)!==o&&lp(t,e,g,a,h))return!0}return!1}function Sm(t,e,o,a,h){if(o===a)return!0;if(null===o||null===a||e.contains(o))return!1;e.add(o);for(var c=o.linksConnected;c.next();){var g=c.value;if(g!==h){var _=g.fromNode;if(g=g.toNode,(_=_===o?g:_)!==o&&Sm(t,e,_,a,h))return!0}}return!1}function vs(){Ls.call(this),this.name="Linking",this.T={},this.I=null,this.K=Ba,this.en=null}vr.className="DraggingTool",il=new Lt,S("draggingTool",function(){return this.findTool("Dragging")},function(t){this.Ya("Dragging",t,this.mouseMoveTools)}),$r.prototype.doCancel=function(){null!==yr&&yr.doCancel(),jn.prototype.doCancel.call(this)},et(Ls,jn),Ls.prototype.doStop=function(){this.diagram.Jf(),this.originalToPort=this.originalToNode=this.originalFromPort=this.originalFromNode=this.originalLink=null,this.validPortsCache.clear(),this.targetPort=null},Ls.prototype.copyPortProperties=function(t,e,o,a,h){if(null!==t&&null!==e&&null!==o&&null!==a){var c=e.Af(),g=Ge.alloc();g.width=e.naturalBounds.width*c,g.height=e.naturalBounds.height*c,a.desiredSize=g,Ge.free(g),h?(a.toSpot=e.toSpot,a.toEndSegmentLength=e.toEndSegmentLength):(a.fromSpot=e.fromSpot,a.fromEndSegmentLength=e.fromEndSegmentLength),o.locationSpot=Hi,c=rt.alloc(),o.location=e.da(Hi,c),rt.free(c),a.angle=e.lj(),null!==this.portTargeted&&this.portTargeted(t,e,o,a,h)}},Ls.prototype.setNoTargetPortProperties=function(t,e,o){null!==e&&(e.desiredSize=Ei,e.fromSpot=mn,e.toSpot=mn),null!==t&&(t.location=this.diagram.lastInput.documentPoint),null!==this.portTargeted&&this.portTargeted(null,null,t,e,o)},Ls.prototype.doMouseDown=function(){this.isActive&&this.doMouseMove()},Ls.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram;if(this.targetPort=this.findTargetPort(this.isForwards),null!==this.targetPort&&this.targetPort.part instanceof Fe){var e=this.targetPort.part;this.isForwards?this.copyPortProperties(e,this.targetPort,this.temporaryToNode,this.temporaryToPort,!0):this.copyPortProperties(e,this.targetPort,this.temporaryFromNode,this.temporaryFromPort,!1)}else this.isForwards?this.setNoTargetPortProperties(this.temporaryToNode,this.temporaryToPort,!0):this.setNoTargetPortProperties(this.temporaryFromNode,this.temporaryFromPort,!1);(t.allowHorizontalScroll||t.allowVerticalScroll)&&t.Et(t.lastInput.viewPoint)}},Ls.prototype.findValidLinkablePort=function(t,e){if(null===t)return null;var o=t.part;if(!(o instanceof Fe))return null;for(;null!==t;){var a=e?t.toLinkable:t.fromLinkable;if(!0===a&&(null!==t.portId||t instanceof Fe)&&(e?this.isValidTo(o,t):this.isValidFrom(o,t)))return t;if(!1===a)break;t=t.panel}return null},Ls.prototype.findTargetPort=function(t){var e=this.diagram,o=e.lastInput.documentPoint,a=this.portGravity;0>=a&&(a=.1);var h=this,c=e.Eg(o,a,function(j){return h.findValidLinkablePort(j,t)},null,!0);for(a=1/0,e=null,c=c.iterator;c.next();){var g=c.value,_=g.part;if(_ instanceof Fe){var k=g.da(Hi,rt.alloc()),P=o.x-k.x,F=o.y-k.y;rt.free(k),(k=P*P+F*F)<a&&(null!==(P=this.validPortsCache.G(g))?P&&(e=g,a=k):t&&this.isValidLink(this.originalFromNode,this.originalFromPort,_,g)||!t&&this.isValidLink(_,g,this.originalToNode,this.originalToPort)?(this.validPortsCache.add(g,!0),e=g,a=k):this.validPortsCache.add(g,!1))}}return null!==e&&(o=e.part)instanceof Fe&&(null===o.layer||o.layer.allowLink)?e:null},Ls.prototype.isValidFrom=function(t,e){if(null===t||null===e)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(null!==t.layer&&!t.layer.allowLink||!0!==e.fromLinkable))return!1;var o=e.fromMaxLinks;if(1/0>o){if(null!==this.originalLink&&t===this.originalFromNode&&e===this.originalFromPort)return!0;if(null===(e=e.portId)&&(e=""),t.Fq(e).count>=o)return!1}return!0},Ls.prototype.isValidTo=function(t,e){if(null===t||null===e)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(null!==t.layer&&!t.layer.allowLink||!0!==e.toLinkable))return!1;var o=e.toMaxLinks;if(1/0>o){if(null!==this.originalLink&&t===this.originalToNode&&e===this.originalToPort)return!0;if(null===(e=e.portId)&&(e=""),t.Hd(e).count>=o)return!1}return!0},Ls.prototype.isInSameNode=function(t,e){return null!==t&&null!==e&&(t===e||(e=e.part,null!==(t=t.part)&&t===e))},Ls.prototype.isLinked=function(t,e){if(null===t||null===e)return!1;var o=t.part;if(!(o instanceof Fe))return!1;null===(t=t.portId)&&(t="");var a=e.part;if(!(a instanceof Fe))return!1;for(null===(e=e.portId)&&(e=""),e=a.Hd(e);e.next();)if((a=e.value).fromNode===o&&a.fromPortId===t)return!0;return!1},Ls.prototype.isValidLink=function(t,e,o,a){if(!this.isValidFrom(t,e)||!this.isValidTo(o,a)||!(null===e||null===a||(e.fromLinkableSelfNode&&a.toLinkableSelfNode||!this.isInSameNode(e,a))&&(e.fromLinkableDuplicates&&a.toLinkableDuplicates||!this.isLinked(e,a)))||null!==this.originalLink&&(null!==t&&this.isLabelDependentOnLink(t,this.originalLink)||null!==o&&this.isLabelDependentOnLink(o,this.originalLink))||null!==t&&null!==o&&(null===t.data&&null!==o.data||null!==t.data&&null===o.data)||!this.isValidCycle(t,o,this.originalLink))return!1;if(null!==t){var h=t.linkValidation;if(null!==h&&!h(t,e,o,a,this.originalLink))return!1}return!(null!==o&&(h=o.linkValidation,null!==h&&!h(t,e,o,a,this.originalLink)))&&(null===(h=this.linkValidation)||h(t,e,o,a,this.originalLink))},Ls.prototype.isLabelDependentOnLink=function(t,e){if(null===t)return!1;var o=t.labeledLink;if(null===o)return!1;if(o===e)return!0;var a=new Ht;return a.add(t),x0(this,o,e,a)},Ls.prototype.isValidCycle=function(t,e,o){if(void 0===o&&(o=null),null===t||null===e)return this.isUnconnectedLinkValid;var a=this.diagram.validCycle;if(a!==O0){if(a===Qo){if(null!==(a=o||this.temporaryLink)&&!a.isTreeLink)return!0;for(a=e.linksConnected;a.next();){var h=a.value;if(h!==o&&h.isTreeLink&&h.toNode===e)return!1}return!hd(this,t,e,o,!0)}if(a===Hh){if(null!==(a=o||this.temporaryLink)&&!a.isTreeLink)return!0;for(a=t.linksConnected;a.next();)if((h=a.value)!==o&&h.isTreeLink&&h.fromNode===t)return!1;return!hd(this,t,e,o,!0)}if(a===Av)return t===e?t=!0:((a=new Ht).add(e),t=lp(this,a,t,e,o)),!t;if(a===xd)return!hd(this,t,e,o,!1);if(a===xo)return t===e?t=!0:((a=new Ht).add(e),t=Sm(this,a,t,e,o)),!t}return!0},X.Object.defineProperties(Ls.prototype,{portGravity:{get:function(){return this.Xh},set:function(t){0<=t&&(this.Xh=t)}},isUnconnectedLinkValid:{get:function(){return this.La},set:function(t){this.La=t}},linkingCursor:{get:function(){return this.oi},set:function(t){this.oi=t}},temporaryLink:{get:function(){return this.gx},set:function(t){this.gx=t}},temporaryFromNode:{get:function(){return this.ex},set:function(t){(this.ex=t)&&(this.l=t.port)}},temporaryFromPort:{get:function(){return this.l},set:function(t){if(null!==this.l){var e=this.l.panel;if(null!==e){var o=e.W.indexOf(this.l);e.cb(o),e.wb(o,t)}}this.l=t}},temporaryToNode:{get:function(){return this.hx},set:function(t){(this.hx=t)&&(this.u=t.port)}},temporaryToPort:{get:function(){return this.u},set:function(t){if(null!==this.u){var e=this.u.panel;if(null!==e){var o=e.W.indexOf(this.u);e.cb(o),e.wb(o,t)}}this.u=t}},originalLink:{get:function(){return this.Tc},set:function(t){this.Tc=t}},originalFromNode:{get:function(){return this.eb},set:function(t){this.eb=t}},originalFromPort:{get:function(){return this.Cc},set:function(t){this.Cc=t}},originalToNode:{get:function(){return this.Od},set:function(t){this.Od=t}},originalToPort:{get:function(){return this.Wh},set:function(t){this.Wh=t}},isForwards:{get:function(){return this.Ka},set:function(t){this.Ka=t}},validPortsCache:{get:function(){return this.cz}},targetPort:{get:function(){return this.bx},set:function(t){this.bx=t}},linkValidation:{get:function(){return this.Ii},set:function(t){this.Ii=t}},portTargeted:{get:function(){return this.lr},set:function(t){this.lr=t}}}),Ls.className="LinkingBaseTool",et(vs,Ls),vs.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowLink||!t.model.Ut()||!t.lastInput.left||t.currentTool!==this&&!this.isBeyondDragSize())&&null!==this.findLinkablePort()},vs.prototype.findLinkablePort=function(){var t=this.diagram,e=this.startObject;if(null===e&&(e=t.Vb(t.firstInput.documentPoint,null,null)),null===e||!((t=e.part)instanceof Fe))return null;var o=this.direction;if(o===Ba||o===Xx){var a=this.findValidLinkablePort(e,!1);if(null!==a||this.startObject===t&&this.findValidLinkablePort(a=t.port,!1))return this.isForwards=!0,a}return o!==Ba&&o!==Bu||!(null!==(e=this.findValidLinkablePort(e,!0))||this.startObject===t&&this.findValidLinkablePort(e=t.port,!0))?null:(this.isForwards=!1,e)},vs.prototype.doActivate=function(){var t=this.diagram,e=this.findLinkablePort();null===e?this.stopTool():(this.xa(this.name),t.isMouseCaptured=!0,t.currentCursor=this.linkingCursor,this.isForwards?(null===this.temporaryToNode||this.temporaryToNode.location.o()||(this.temporaryToNode.location=t.lastInput.documentPoint),this.originalFromPort=e,(e=this.originalFromPort.part)instanceof Fe&&(this.originalFromNode=e),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1)):(null===this.temporaryFromNode||this.temporaryFromNode.location.o()||(this.temporaryFromNode.location=t.lastInput.documentPoint),this.originalToPort=e,(e=this.originalToPort.part)instanceof Fe&&(this.originalToNode=e),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0)),t.add(this.temporaryFromNode),t.add(this.temporaryToNode),null!==this.temporaryLink&&(null!==this.temporaryFromNode&&(this.temporaryLink.fromNode=this.temporaryFromNode),null!==this.temporaryToNode&&(this.temporaryLink.toNode=this.temporaryToNode),this.temporaryLink.isTreeLink=this.isNewTreeLink(),this.temporaryLink.Ua(),t.add(this.temporaryLink)),this.isActive=!0)},vs.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;t.remove(this.temporaryLink),t.remove(this.temporaryFromNode),t.remove(this.temporaryToNode),t.isMouseCaptured=!1,t.currentCursor="",this.Jg()},vs.prototype.doStop=function(){Ls.prototype.doStop.call(this),this.startObject=null},vs.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){var e=this.transactionResult=null,o=null,a=null,h=null,c=null;try{var g=this.targetPort=this.findTargetPort(this.isForwards);if(null!==g){var _=g.part;_ instanceof Fe&&(this.isForwards?(null!==this.originalFromNode&&(e=this.originalFromNode,o=this.originalFromPort),a=_,h=g):(e=_,o=g,null!==this.originalToNode&&(a=this.originalToNode,h=this.originalToPort)))}else this.isForwards?null!==this.originalFromNode&&this.isUnconnectedLinkValid&&(e=this.originalFromNode,o=this.originalFromPort):null!==this.originalToNode&&this.isUnconnectedLinkValid&&(a=this.originalToNode,h=this.originalToPort);null!==e||null!==a?null!==(c=this.insertLink(e,o,a,h))?(null===g&&(this.isForwards?c.defaultToPoint=t.lastInput.documentPoint.copy():c.defaultFromPoint=t.lastInput.documentPoint.copy()),t.allowSelect&&(t.R("ChangingSelection",t.selection),t.clearSelection(!0),c.isSelected=!0),this.transactionResult=this.name,t.R("LinkDrawn",c)):this.doNoLink(e,o,a,h):this.isForwards?this.doNoLink(this.originalFromNode,this.originalFromPort,null,null):this.doNoLink(null,null,this.originalToNode,this.originalToPort)}finally{this.stopTool(),c&&t.allowSelect&&t.R("ChangedSelection",t.selection)}}},vs.prototype.isNewTreeLink=function(){var t=this.archetypeLinkData;if(null===t)return!0;if(t instanceof We)return t.isTreeLink;var e=this.diagram;return null===e||(t=e.partManager.getLinkCategoryForData(t),null===(e=e.partManager.findLinkTemplateForCategory(t))||e.isTreeLink)},vs.prototype.insertLink=function(t,e,o,a){return this.diagram.partManager.insertLink(t,e,o,a)},vs.prototype.doNoLink=function(){},X.Object.defineProperties(vs.prototype,{archetypeLinkData:{get:function(){return this.T},set:function(t){this.T=t}},archetypeLabelNodeData:{get:function(){return this.I},set:function(t){this.I=t}},direction:{get:function(){return this.K},set:function(t){this.K=t}},startObject:{get:function(){return this.en},set:function(t){this.en=t}}});var Ba=new wt(vs,"Either",0),Xx=new wt(vs,"ForwardsOnly",0),Bu=new wt(vs,"BackwardsOnly",0);function ds(){Ls.call(this),this.name="Relinking";var t=new Qi;t.figure="Diamond",t.desiredSize=ai,t.fill="lightblue",t.stroke="dodgerblue",t.cursor=this.linkingCursor,t.segmentIndex=0,this.T=t,(t=new Qi).figure="Diamond",t.desiredSize=ai,t.fill="lightblue",t.stroke="dodgerblue",t.cursor=this.linkingCursor,t.segmentIndex=-1,this.en=t,this.I=null,this.Hx=new te}function dv(t,e,o,a,h){null!==e?(t.copyPortProperties(e,o,t.temporaryFromNode,t.temporaryFromPort,!1),t.diagram.add(t.temporaryFromNode)):t.diagram.remove(t.temporaryFromNode),null!==a?(t.copyPortProperties(a,h,t.temporaryToNode,t.temporaryToPort,!0),t.diagram.add(t.temporaryToNode)):t.diagram.remove(t.temporaryToNode)}function So(){jn.call(this),this.name="LinkReshaping";var t=new Qi;t.figure="Rectangle",t.desiredSize=Oe,t.fill="lightblue",t.stroke="dodgerblue",this.u=t,(t=new Qi).figure="Diamond",t.desiredSize=ai,t.fill="lightblue",t.stroke="dodgerblue",t.cursor="move",this.I=t,this.T=3,this.wu=this.l=null,this.Ix=new rt,this.Is=new Lt}function xf(t,e,o,a,h,c){return c?Math.abs(e.y-o.y)<t.resegmentingDistance&&Math.abs(o.y-a.y)<t.resegmentingDistance&&Math.abs(a.y-h.y)<t.resegmentingDistance:Math.abs(e.x-o.x)<t.resegmentingDistance&&Math.abs(o.x-a.x)<t.resegmentingDistance&&Math.abs(a.x-h.x)<t.resegmentingDistance}vs.className="LinkingTool",vs.Either=Ba,vs.ForwardsOnly=Xx,vs.BackwardsOnly=Bu,et(ds,Ls),ds.prototype.updateAdornments=function(t){if(null!==t&&t instanceof We){var e="RelinkFrom",o=null;if(t.isSelected&&!this.diagram.isReadOnly){var a=t.selectionObject;null!==a&&t.canRelinkFrom()&&t.actualBounds.o()&&t.isVisible()&&a.actualBounds.o()&&a.Gf()&&null===(o=t.wk(e))&&(o=this.makeAdornment(a,!1),t.Gh(e,o))}null===o&&t.Hf(e),e="RelinkTo",o=null,t.isSelected&&!this.diagram.isReadOnly&&null!==(a=t.selectionObject)&&t.canRelinkTo()&&t.actualBounds.o()&&t.isVisible()&&a.actualBounds.o()&&a.Gf()&&(null===(o=t.wk(e))?(o=this.makeAdornment(a,!0),t.Gh(e,o)):o.s()),null===o&&t.Hf(e)}},ds.prototype.makeAdornment=function(t,e){var o=new li;return o.type=qe.Link,null!==(e=e?this.toHandleArchetype:this.fromHandleArchetype)&&o.add(e.copy()),o.adornedObject=t,o},ds.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowRelink||!t.model.Ut()||!t.lastInput.left)return!1;var e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkFrom");return null===e&&(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkTo")),null!==e},ds.prototype.doActivate=function(){var t=this.diagram;if(null===this.originalLink){var e=this.handle;if(null===e&&null===(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkFrom"))&&(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkTo")),null===e)return;var o=e.part;if(!(o instanceof li&&o.adornedPart instanceof We))return;this.handle=e,this.isForwards=null===o||"RelinkTo"===o.category,this.originalLink=o.adornedPart}this.xa(this.name),t.isMouseCaptured=!0,t.currentCursor=this.linkingCursor,this.originalFromPort=this.originalLink.fromPort,this.originalFromNode=this.originalLink.fromNode,this.originalToPort=this.originalLink.toPort,this.originalToNode=this.originalLink.toNode,this.Hx.set(this.originalLink.actualBounds),null!==this.originalLink&&0<this.originalLink.pointsCount&&(null===this.originalLink.fromNode&&(null!==this.temporaryFromPort&&(this.temporaryFromPort.desiredSize=fn),null!==this.temporaryFromNode&&(this.temporaryFromNode.location=this.originalLink.i(0))),null===this.originalLink.toNode&&(null!==this.temporaryToPort&&(this.temporaryToPort.desiredSize=fn),null!==this.temporaryToNode&&(this.temporaryToNode.location=this.originalLink.i(this.originalLink.pointsCount-1)))),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0),t.add(this.temporaryFromNode),t.add(this.temporaryToNode),null!==this.temporaryLink&&(null!==this.temporaryFromNode&&(this.temporaryLink.fromNode=this.temporaryFromNode),null!==this.temporaryToNode&&(this.temporaryLink.toNode=this.temporaryToNode),this.copyLinkProperties(this.originalLink,this.temporaryLink),this.temporaryLink.Ua(),t.add(this.temporaryLink)),this.isActive=!0},ds.prototype.copyLinkProperties=function(t,e){if(null!==t&&null!==e){e.adjusting=t.adjusting,e.corner=t.corner;var o=t.curve;(o===Ff||o===Ua)&&(o=Ts),e.curve=o,e.curviness=t.curviness,e.isTreeLink=t.isTreeLink,e.points=t.points,e.routing=t.routing,e.smoothness=t.smoothness,e.fromSpot=t.fromSpot,e.fromEndSegmentLength=t.fromEndSegmentLength,e.fromShortLength=t.fromShortLength,e.toSpot=t.toSpot,e.toEndSegmentLength=t.toEndSegmentLength,e.toShortLength=t.toShortLength}},ds.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;t.remove(this.temporaryLink),t.remove(this.temporaryFromNode),t.remove(this.temporaryToNode),t.isMouseCaptured=!1,t.currentCursor="",this.Jg()},ds.prototype.doStop=function(){Ls.prototype.doStop.call(this),this.handle=null},ds.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram;this.transactionResult=null;var e=this.originalFromNode,o=this.originalFromPort,a=this.originalToNode,h=this.originalToPort,c=this.originalLink;if(this.targetPort=this.findTargetPort(this.isForwards),null!==this.targetPort){var g=this.targetPort.part;g instanceof Fe&&(this.isForwards?(a=g,h=this.targetPort):(e=g,o=this.targetPort))}else this.isUnconnectedLinkValid?this.isForwards?h=a=null:o=e=null:c=null;null!==c?(this.reconnectLink(c,this.isForwards?a:e,this.isForwards?h:o,this.isForwards),null===this.targetPort&&(this.isForwards?c.defaultToPoint=t.lastInput.documentPoint.copy():c.defaultFromPoint=t.lastInput.documentPoint.copy(),c.Ua()),this.transactionResult=this.name,t.R("LinkRelinked",c,this.isForwards?this.originalToPort:this.originalFromPort)):this.doNoRelink(this.originalLink,this.isForwards),this.originalLink.Oq(this.Hx)}this.stopTool()},ds.prototype.reconnectLink=function(t,e,o,a){return o=null!==o&&null!==o.portId?o.portId:"",a?(t.toNode=e,t.toPortId=o):(t.fromNode=e,t.fromPortId=o),!0},ds.prototype.doNoRelink=function(){},X.Object.defineProperties(ds.prototype,{fromHandleArchetype:{get:function(){return this.T},set:function(t){this.T=t}},toHandleArchetype:{get:function(){return this.en},set:function(t){this.en=t}},handle:{get:function(){return this.I},set:function(t){if(null!==t&&!(t.part instanceof li))throw Error("new handle is not in an Adornment: "+t);this.I=t}}}),ds.className="RelinkingTool",S("linkingTool",function(){return this.findTool("Linking")},function(t){this.Ya("Linking",t,this.mouseMoveTools)}),S("relinkingTool",function(){return this.findTool("Relinking")},function(t){this.Ya("Relinking",t,this.mouseDownTools)}),et(So,jn),So.prototype.Zv=function(t){return t&&t.Os&&0!==t.Os.value?t.Os:Lh},So.prototype.Xm=function(t,e){t.Os=e},So.prototype.updateAdornments=function(t){if(null!==t&&t instanceof We){var e=null;if(t.isSelected&&!this.diagram.isReadOnly){var o=t.path;null!==o&&t.canReshape()&&t.actualBounds.o()&&t.isVisible()&&o.actualBounds.o()&&o.Gf()&&(null===(e=t.wk(this.name))||e.Ex!==t.pointsCount||e.Sx!==t.resegmentable)&&null!==(e=this.makeAdornment(o))&&(e.Ex=t.pointsCount,e.Sx=t.resegmentable,t.Gh(this.name,e))}null===e&&t.Hf(this.name)}},So.prototype.makeAdornment=function(t){var e=t.part,o=e.pointsCount,a=e.isOrthogonal,h=null;if(null!==e.points&&1<o){(h=new li).type=qe.Link,o=e.firstPickIndex;var c=e.lastPickIndex,g=a?1:0;if(e.resegmentable&&e.computeCurve()!==us)for(var _=o+g;_<c-g;_++){var k=this.makeResegmentHandle(t,_);null!==k&&(k.segmentIndex=_,k.segmentFraction=.5,k.fromMaxLinks=999,h.add(k))}for(g=o+1;g<c;g++)if(null!==(_=this.makeHandle(t,g))){if(_.segmentIndex=g,g!==o)if(g===o+1&&a){k=e.i(o);var P=e.i(o+1);pe.A(k.x,P.x)&&pe.A(k.y,P.y)&&(P=e.i(o-1)),pe.A(k.x,P.x)?(this.Xm(_,ud),_.cursor="n-resize"):pe.A(k.y,P.y)&&(this.Xm(_,hp),_.cursor="w-resize")}else g===c-1&&a?(k=e.i(c-1),P=e.i(c),pe.A(k.x,P.x)&&pe.A(k.y,P.y)&&(k=e.i(c+1)),pe.A(k.x,P.x)?(this.Xm(_,ud),_.cursor="n-resize"):pe.A(k.y,P.y)&&(this.Xm(_,hp),_.cursor="w-resize")):g!==c&&(this.Xm(_,t1),_.cursor="move");h.add(_)}h.adornedObject=t}return h},So.prototype.makeHandle=function(){var t=this.handleArchetype;return null===t?null:t.copy()},So.prototype.makeResegmentHandle=function(){var t=this.midHandleArchetype;return null===t?null:t.copy()},So.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||!t.allowReshape||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)},So.prototype.doActivate=function(){var t=this.diagram;if(null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null!==this.handle){var e=this.handle.part.adornedPart;if(e instanceof We){if(this.wu=e,t.isMouseCaptured=!0,this.xa(this.name),e.resegmentable&&999===this.handle.fromMaxLinks){var o=e.points.copy(),a=this.getResegmentingPoint();if(o.wb(this.handle.segmentIndex+1,a),e.isOrthogonal&&o.wb(this.handle.segmentIndex+1,a),e.points=o,e.Lb(),e.updateAdornments(),this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name),null===this.handle)return void this.doDeactivate()}this.Ix=e.i(this.handle.segmentIndex),this.Is=e.points.copy(),this.isActive=!0}}},So.prototype.doDeactivate=function(){this.Jg(),this.wu=this.handle=null,this.isActive=this.diagram.isMouseCaptured=!1},So.prototype.doCancel=function(){var t=this.adornedLink;null!==t&&(t.points=this.Is),this.stopTool()},So.prototype.getResegmentingPoint=function(){return this.handle.da(Hi)},So.prototype.doMouseMove=function(){var t=this.diagram;this.isActive&&(t=this.computeReshape(t.lastInput.documentPoint),this.reshape(t))},So.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){var e=this.computeReshape(t.lastInput.documentPoint);if(this.reshape(e),null!==(e=this.adornedLink)&&e.resegmentable){var o=this.handle.segmentIndex,a=e.i(o-1),h=e.i(o),c=e.i(o+1);if(e.isOrthogonal){if(o>e.firstPickIndex+1&&o<e.lastPickIndex-1){var g=e.i(o-2);if(Math.abs(a.x-h.x)<this.resegmentingDistance&&Math.abs(a.y-h.y)<this.resegmentingDistance&&(xf(this,g,a,h,c,!0)||xf(this,g,a,h,c,!1))){var _=e.points.copy();xf(this,g,a,h,c,!0)?(_.Pc(o-2,new rt(g.x,(c.y+g.y)/2)),_.Pc(o+1,new rt(c.x,(c.y+g.y)/2))):(_.Pc(o-2,new rt((c.x+g.x)/2,g.y)),_.Pc(o+1,new rt((c.x+g.x)/2,c.y))),_.cb(o),_.cb(o-1),e.points=_,e.Lb()}else g=e.i(o+2),Math.abs(h.x-c.x)<this.resegmentingDistance&&Math.abs(h.y-c.y)<this.resegmentingDistance&&(xf(this,a,h,c,g,!0)||xf(this,a,h,c,g,!1))&&(_=e.points.copy(),xf(this,a,h,c,g,!0)?(_.Pc(o-1,new rt(a.x,(a.y+g.y)/2)),_.Pc(o+2,new rt(g.x,(a.y+g.y)/2))):(_.Pc(o-1,new rt((a.x+g.x)/2,a.y)),_.Pc(o+2,new rt((a.x+g.x)/2,g.y))),_.cb(o+1),_.cb(o),e.points=_,e.Lb())}}else g=rt.alloc(),pe.Qh(a.x,a.y,c.x,c.y,h.x,h.y,g)&&g.Ie(h)<this.resegmentingDistance*this.resegmentingDistance&&((a=e.points.copy()).cb(o),e.points=a,e.Lb()),rt.free(g)}t.Na(),this.transactionResult=this.name,t.R("LinkReshaped",this.adornedLink,this.Is)}this.stopTool()},So.prototype.reshape=function(t){var e=this.adornedLink;e.Th();var o=this.handle.segmentIndex,a=this.Zv(this.handle);if(e.isOrthogonal)if(o===e.firstPickIndex+1)o=e.firstPickIndex+1,a===ud?(e.L(o,e.i(o-1).x,t.y),e.L(o+1,e.i(o+2).x,t.y)):a===hp&&(e.L(o,t.x,e.i(o-1).y),e.L(o+1,t.x,e.i(o+2).y));else if(o===e.lastPickIndex-1)o=e.lastPickIndex-1,a===ud?(e.L(o-1,e.i(o-2).x,t.y),e.L(o,e.i(o+1).x,t.y)):a===hp&&(e.L(o-1,t.x,e.i(o-2).y),e.L(o,t.x,e.i(o+1).y));else{var h=e.i(a=o),c=e.i(a-1),g=e.i(a+1);pe.A(c.x,h.x)&&pe.A(h.y,g.y)?(pe.A(c.x,e.i(a-2).x)&&!pe.A(c.y,e.i(a-2).y)?(e.m(a,t.x,c.y),o++,a++):e.L(a-1,t.x,c.y),pe.A(g.y,e.i(a+2).y)&&!pe.A(g.x,e.i(a+2).x)?e.m(a+1,g.x,t.y):e.L(a+1,g.x,t.y)):pe.A(c.y,h.y)&&pe.A(h.x,g.x)?(pe.A(c.y,e.i(a-2).y)&&!pe.A(c.x,e.i(a-2).x)?(e.m(a,c.x,t.y),o++,a++):e.L(a-1,c.x,t.y),pe.A(g.x,e.i(a+2).x)&&!pe.A(g.y,e.i(a+2).y)?e.m(a+1,t.x,g.y):e.L(a+1,t.x,g.y)):pe.A(c.x,h.x)&&pe.A(h.x,g.x)?(pe.A(c.x,e.i(a-2).x)&&!pe.A(c.y,e.i(a-2).y)?(e.m(a,t.x,c.y),o++,a++):e.L(a-1,t.x,c.y),pe.A(g.x,e.i(a+2).x)&&!pe.A(g.y,e.i(a+2).y)?e.m(a+1,t.x,g.y):e.L(a+1,t.x,g.y)):pe.A(c.y,h.y)&&pe.A(h.y,g.y)&&(pe.A(c.y,e.i(a-2).y)&&!pe.A(c.x,e.i(a-2).x)?(e.m(a,c.x,t.y),o++,a++):e.L(a-1,c.x,t.y),pe.A(g.y,e.i(a+2).y)&&!pe.A(g.x,e.i(a+2).x)?e.m(a+1,g.x,t.y):e.L(a+1,g.x,t.y)),e.L(o,t.x,t.y)}else e.L(o,t.x,t.y),h=e.fromPort,null!==(a=e.fromNode)&&null!==(c=a.findVisibleNode())&&c!==a&&(h=(a=c).port),1===o&&e.computeSpot(!0,h).nc()&&(c=h.da(Hi,rt.alloc()),a=e.getLinkPointFromPoint(a,h,c,t,!0,rt.alloc()),e.L(0,a.x,a.y),rt.free(c),rt.free(a)),h=e.toPort,null!==(a=e.toNode)&&null!==(c=a.findVisibleNode())&&c!==a&&(h=(a=c).port),o===e.pointsCount-2&&e.computeSpot(!1,h).nc()&&(o=h.da(Hi,rt.alloc()),t=e.getLinkPointFromPoint(a,h,o,t,!1,rt.alloc()),e.L(e.pointsCount-1,t.x,t.y),rt.free(o),rt.free(t));e.xf()},So.prototype.computeReshape=function(t){var e=this.adornedLink,o=this.handle.segmentIndex;switch(this.Zv(this.handle)){case t1:return t;case ud:return new rt(e.i(o).x,t.y);case hp:return new rt(t.x,e.i(o).y);default:return e.i(o)}},X.Object.defineProperties(So.prototype,{handleArchetype:{get:function(){return this.u},set:function(t){this.u=t}},midHandleArchetype:{get:function(){return this.I},set:function(t){this.I=t}},handle:{get:function(){return this.l},set:function(t){if(null!==t&&!(t.part instanceof li))throw Error("new handle is not in an Adornment: "+t);this.l=t}},adornedLink:{get:function(){return this.wu}},resegmentingDistance:{get:function(){return this.T},set:function(t){this.T=t}},originalPoint:{get:function(){return this.Ix}},originalPoints:{get:function(){return this.Is}}}),So.prototype.setReshapingBehavior=So.prototype.Xm,So.prototype.getReshapingBehavior=So.prototype.Zv;var Lh=new wt(So,"None",0),hp=new wt(So,"Horizontal",1),ud=new wt(So,"Vertical",2),t1=new wt(So,"All",3);function aa(){jn.call(this),this.name="Resizing",this.fg=new Ge(1,1).freeze(),this.eg=new Ge(9999,9999).freeze(),this.Qg=new Ge(NaN,NaN).freeze(),this.I=!1,this.T=!0,this.ie=null;var t=new Qi;t.alignmentFocus=Hi,t.figure="Rectangle",t.desiredSize=Oe,t.fill="lightblue",t.stroke="dodgerblue",t.strokeWidth=1,t.cursor="pointer",this.u=t,this.l=null,this.Hs=new rt,this.Gx=new Ge,this.qp=new rt,this.Nu=new Ge(0,0),this.Mu=new Ge(1/0,1/0),this.Lu=new Ge(1,1)}function dl(){jn.call(this),this.name="Rotating",this.La=45,this.Ka=2,this.qp=new rt,this.ie=null;var t=new Qi;t.figure="Ellipse",t.desiredSize=ai,t.fill="lightblue",t.stroke="dodgerblue",t.strokeWidth=1,t.cursor="pointer",this.u=t,this.l=null,this.Fx=0,this.Ps=new rt(NaN,NaN),this.I=0,this.T=50}function Dm(){jn.call(this),this.name="ClickSelecting"}function wf(){jn.call(this),this.name="Action",this.Xk=null}function up(){jn.call(this),this.name="ClickCreating",this.Aj=null,this.u=!0,this.l=!1,this.xx=new rt(0,0)}function Vu(){jn.call(this),this.name="DragSelecting",this.pl=175,this.u=!1;var t=new Nt;t.layerName="Tool",t.selectable=!1;var e=new Qi;e.name="SHAPE",e.figure="Rectangle",e.fill=null,e.stroke="magenta",t.add(e),this.l=t}function ju(){jn.call(this),this.name="Panning",this.kv=new rt,this.kz=new rt,this.Pg=!1;var t=this;this.Lx=function(){var e=t.diagram;null!==e&&e.removeEventListener(V.document,"scroll",t.Lx,!1),t.stopTool()}}function bf(){this.T=this.I=this.l=this.u=null}function ph(t,e,o){this.text=t,this.by=e,this.visible=o}function pl(){jn.call(this),this.name="ContextMenu",this.u=this.Cu=this.l=null,this.Cx=new rt,this.Du=null,this.Yu=!1;var t=this;this.wv=function(){t.stopTool()}}function Kx(t){return t.preventDefault(),!1}function Zb(t){var e=t.diagram;if(t.isActive){var o=t.currentContextMenu;if(null!==o){if(!(o instanceof bf)){var a=e.Vb(e.lastInput.documentPoint,null,null);null!==a&&a.Gg(o)&&t.standardMouseClick(null,null)}t.stopTool(),t.canStart()&&(e.currentTool=t,t.doMouseUp())}}else t.canStart()&&(qb(t,!0),t.isActive||t.stopTool())}function qb(t,e,o){if(void 0===o&&(o=null),!t.Yu&&(t.Yu=!0,e&&t.standardMouseSelect(),e=t.standardMouseClick(),t.Yu=!1,!e)){if(t.isActive=!0,e=cp,null===o&&(o=t.findObjectWithContextMenu()),null!==o){var a=o.contextMenu;null!==a?(t.currentObject=o instanceof Oi?o:null,t.showContextMenu(a,t.currentObject)):null!==e&&t.showContextMenu(e,t.currentObject)}else null!==e&&t.showContextMenu(e,null);t.currentContextMenu instanceof li&&!t.currentContextMenu.visible&&t.stopTool()}}So.className="LinkReshapingTool",So.None=Lh,So.Horizontal=hp,So.Vertical=ud,So.All=t1,S("linkReshapingTool",function(){return this.findTool("LinkReshaping")},function(t){this.Ya("LinkReshaping",t,this.mouseDownTools)}),et(aa,jn),aa.prototype.updateAdornments=function(t){if(!(null===t||t instanceof We)){if(t.isSelected&&!this.diagram.isReadOnly){var e=t.resizeObject,o=t.wk(this.name);if(null!==e&&t.canResize()&&t.actualBounds.o()&&t.isVisible()&&e.actualBounds.o()&&e.Gf()&&((null===o||o.adornedObject!==e)&&(o=this.makeAdornment(e)),null!==o))return e=e.lj(),Be(t)&&this.updateResizeHandles(o,e),void t.Gh(this.name,o)}t.Hf(this.name)}},aa.prototype.makeAdornment=function(t){var e=t.part.resizeAdornmentTemplate;if(null===e){(e=new li).type=qe.Spot,e.locationSpot=Hi;var o=new Li;o.isPanelMain=!0,e.add(o),e.add(this.makeHandle(t,gr)),e.add(this.makeHandle(t,_o)),e.add(this.makeHandle(t,tl)),e.add(this.makeHandle(t,Ou)),e.add(this.makeHandle(t,va)),e.add(this.makeHandle(t,Nr)),e.add(this.makeHandle(t,ss)),e.add(this.makeHandle(t,os))}else if(Ea(e),null===(e=e.copy()))return null;return e.adornedObject=t,e},aa.prototype.makeHandle=function(t,e){return null===(t=this.handleArchetype)?null:((t=t.copy()).alignment=e,t)},aa.prototype.updateResizeHandles=function(t,e){if(null!==t)if(!t.alignment.Mb()&&("pointer"===t.cursor||0<t.cursor.indexOf("resize")))t:{var o=t.alignment;if(o.nc()&&(o=Hi),0>=o.x)e=0>=o.y?e+225:1<=o.y?e+135:e+180;else if(1<=o.x)0>=o.y?e+=315:1<=o.y&&(e+=45);else if(0>=o.y)e+=270;else{if(!(1<=o.y))break t;e+=90}0>e?e+=360:360<=e&&(e-=360),t.cursor=22.5>e?"e-resize":67.5>e?"se-resize":112.5>e?"s-resize":157.5>e?"sw-resize":202.5>e?"w-resize":247.5>e?"nw-resize":292.5>e?"n-resize":337.5>e?"ne-resize":"e-resize"}else if(t instanceof qe)for(t=t.elements;t.next();)this.updateResizeHandles(t.value,e)},aa.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||!t.allowResize||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)},aa.prototype.doActivate=function(){var t=this.diagram;null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null!==this.handle&&(this.adornedObject=this.handle.part.adornedObject,null!==this.adornedObject&&(t.isMouseCaptured=!0,t.animationManager.Bc(),this.xa(this.name),this.Hs.set(this.adornedObject.da(this.handle.alignment.mw())),this.qp.set(this.adornedObject.part.location),this.Gx.set(this.adornedObject.desiredSize),this.Lu=this.computeCellSize(),this.Nu=this.computeMinSize(),this.Mu=this.computeMaxSize(),this.isActive=!0))},aa.prototype.doDeactivate=function(){var t=this.diagram;this.Jg(),this.ie=this.handle=null,this.isActive=t.isMouseCaptured=!1},aa.prototype.doCancel=function(){null!==this.adornedObject&&(this.adornedObject.desiredSize=this.originalDesiredSize,this.adornedObject.part.location=this.originalLocation),this.stopTool()},aa.prototype.doMouseMove=function(){var t=this.diagram;if(this.isActive){var e=this.Nu,o=this.Mu,a=this.Lu,h=this.adornedObject.Mt(t.lastInput.documentPoint,rt.alloc()),c=this.computeReshape();e=this.computeResize(h,this.handle.alignment,e,o,a,c),this.resize(e),t.hd(),rt.free(h)}},aa.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){var e=this.Nu,o=this.Mu,a=this.Lu,h=this.adornedObject.Mt(t.lastInput.documentPoint,rt.alloc()),c=this.computeReshape();e=this.computeResize(h,this.handle.alignment,e,o,a,c),this.resize(e),rt.free(h),t.Na(),this.transactionResult=this.name,t.R("PartResized",this.adornedObject,this.originalDesiredSize)}this.stopTool()},aa.prototype.resize=function(t){var e=this.diagram,o=this.adornedObject;if(null!==o){if(o.desiredSize=t.size,(t=o.part).Ta(),o=o.da(this.handle.alignment.mw()),t instanceof hi){var a=new Lt;if(a.add(t),!this.dragsMembers&&null===t.placeholder){var h=new F0;h.dragsMembers=!1}e.moveParts(a,this.oppositePoint.copy().ge(o),!0,h)}else t.location=t.location.copy().ge(o).add(this.oppositePoint);e.hd()}},aa.prototype.computeResize=function(t,e,o,a,h,c){e.nc()&&(e=Hi);var g=this.adornedObject.naturalBounds,_=g.x,k=g.y,P=g.x+g.width,F=g.y+g.height,j=1;if(!c){var ut=g.height;0>=(j=g.width)&&(j=1),0>=ut&&(ut=1),j=ut/j}return ut=rt.alloc(),pe.Gq(t.x,t.y,_,k,h.width,h.height,ut),t=g.copy(),0>=e.x?0>=e.y?(t.x=Math.max(ut.x,P-a.width),t.x=Math.min(t.x,P-o.width),t.width=Math.max(P-t.x,o.width),t.y=Math.max(ut.y,F-a.height),t.y=Math.min(t.y,F-o.height),t.height=Math.max(F-t.y,o.height),c||(1<=t.height/t.width?(t.height=Math.max(Math.min(j*t.width,a.height),o.height),t.width=t.height/j):(t.width=Math.max(Math.min(t.height/j,a.width),o.width),t.height=j*t.width),t.x=P-t.width,t.y=F-t.height)):1<=e.y?(t.x=Math.max(ut.x,P-a.width),t.x=Math.min(t.x,P-o.width),t.width=Math.max(P-t.x,o.width),t.height=Math.max(Math.min(ut.y-k,a.height),o.height),c||(1<=t.height/t.width?(t.height=Math.max(Math.min(j*t.width,a.height),o.height),t.width=t.height/j):(t.width=Math.max(Math.min(t.height/j,a.width),o.width),t.height=j*t.width),t.x=P-t.width)):(t.x=Math.max(ut.x,P-a.width),t.x=Math.min(t.x,P-o.width),t.width=P-t.x,c||(t.height=Math.max(Math.min(j*t.width,a.height),o.height),t.width=t.height/j,t.y=k+.5*(F-k-t.height))):1<=e.x?0>=e.y?(t.width=Math.max(Math.min(ut.x-_,a.width),o.width),t.y=Math.max(ut.y,F-a.height),t.y=Math.min(t.y,F-o.height),t.height=Math.max(F-t.y,o.height),c||(1<=t.height/t.width?(t.height=Math.max(Math.min(j*t.width,a.height),o.height),t.width=t.height/j):(t.width=Math.max(Math.min(t.height/j,a.width),o.width),t.height=j*t.width),t.y=F-t.height)):1<=e.y?(t.width=Math.max(Math.min(ut.x-_,a.width),o.width),t.height=Math.max(Math.min(ut.y-k,a.height),o.height),c||(1<=t.height/t.width?(t.height=Math.max(Math.min(j*t.width,a.height),o.height),t.width=t.height/j):(t.width=Math.max(Math.min(t.height/j,a.width),o.width),t.height=j*t.width))):(t.width=Math.max(Math.min(ut.x-_,a.width),o.width),c||(t.height=Math.max(Math.min(j*t.width,a.height),o.height),t.width=t.height/j,t.y=k+.5*(F-k-t.height))):0>=e.y?(t.y=Math.max(ut.y,F-a.height),t.y=Math.min(t.y,F-o.height),t.height=F-t.y,c||(t.width=Math.max(Math.min(t.height/j,a.width),o.width),t.height=j*t.width,t.x=_+.5*(P-_-t.width))):1<=e.y&&(t.height=Math.max(Math.min(ut.y-k,a.height),o.height),c||(t.width=Math.max(Math.min(t.height/j,a.width),o.width),t.height=j*t.width,t.x=_+.5*(P-_-t.width))),rt.free(ut),t},aa.prototype.computeReshape=function(){var t=nr;return this.adornedObject instanceof Qi&&(t=eg(this.adornedObject)),!(t===Ys||this.diagram.lastInput.shift)},aa.prototype.computeMinSize=function(){var t=this.adornedObject.minSize.copy(),e=this.minSize;return!isNaN(e.width)&&e.width>t.width&&(t.width=e.width),!isNaN(e.height)&&e.height>t.height&&(t.height=e.height),t},aa.prototype.computeMaxSize=function(){var t=this.adornedObject.maxSize.copy(),e=this.maxSize;return!isNaN(e.width)&&e.width<t.width&&(t.width=e.width),!isNaN(e.height)&&e.height<t.height&&(t.height=e.height),t},aa.prototype.computeCellSize=function(){var t=new Ge(NaN,NaN),e=this.adornedObject.part;return null!==e&&(e=e.resizeCellSize,!isNaN(e.width)&&0<e.width&&(t.width=e.width),!isNaN(e.height)&&0<e.height&&(t.height=e.height)),e=this.cellSize,isNaN(t.width)&&!isNaN(e.width)&&0<e.width&&(t.width=e.width),isNaN(t.height)&&!isNaN(e.height)&&0<e.height&&(t.height=e.height),e=this.diagram,(isNaN(t.width)||isNaN(t.height))&&e&&null!==(e=e.grid)&&e.visible&&this.isGridSnapEnabled&&(e=e.gridCellSize,isNaN(t.width)&&!isNaN(e.width)&&0<e.width&&(t.width=e.width),isNaN(t.height)&&!isNaN(e.height)&&0<e.height&&(t.height=e.height)),(isNaN(t.width)||0===t.width||t.width===1/0)&&(t.width=1),(isNaN(t.height)||0===t.height||t.height===1/0)&&(t.height=1),t},X.Object.defineProperties(aa.prototype,{handleArchetype:{get:function(){return this.u},set:function(t){this.u=t}},handle:{get:function(){return this.l},set:function(t){if(null!==t&&!(t.part instanceof li))throw Error("new handle is not in an Adornment: "+t);this.l=t}},adornedObject:{get:function(){return this.ie},set:function(t){if(null!==t&&t.part instanceof li)throw Error("new handle must not be in an Adornment: "+t);this.ie=t}},minSize:{get:function(){return this.fg},set:function(t){if(!this.fg.w(t)){var e=t.width;isNaN(e)&&(e=0),t=t.height,isNaN(t)&&(t=0),this.fg.h(e,t)}}},maxSize:{get:function(){return this.eg},set:function(t){if(!this.eg.w(t)){var e=t.width;isNaN(e)&&(e=1/0),t=t.height,isNaN(t)&&(t=1/0),this.eg.h(e,t)}}},cellSize:{get:function(){return this.Qg},set:function(t){this.Qg.w(t)||this.Qg.assign(t)}},isGridSnapEnabled:{get:function(){return this.I},set:function(t){this.I=t}},dragsMembers:{get:function(){return this.T},set:function(t){this.T=t}},oppositePoint:{get:function(){return this.Hs},set:function(t){this.Hs.w(t)||this.Hs.assign(t)}},originalDesiredSize:{get:function(){return this.Gx}},originalLocation:{get:function(){return this.qp}}}),aa.className="ResizingTool",S("resizingTool",function(){return this.findTool("Resizing")},function(t){this.Ya("Resizing",t,this.mouseDownTools)}),et(dl,jn),dl.prototype.updateAdornments=function(t){if(null!==t){if(t.Ph()){var e=t.rotateObject;if(e===t||e===t.path||e.isPanelMain)return}if(t.isSelected&&!this.diagram.isReadOnly&&null!==(e=t.rotateObject)&&t.canRotate()&&t.actualBounds.o()&&t.isVisible()&&e.actualBounds.o()&&e.Gf()){var o=t.wk(this.name);if((null===o||o.adornedObject!==e)&&(o=this.makeAdornment(e)),null!==o)return o.angle=e.lj(),null===o.placeholder&&(o.location=this.computeAdornmentLocation(e)),void t.Gh(this.name,o)}t.Hf(this.name)}},dl.prototype.makeAdornment=function(t){var e=t.part.rotateAdornmentTemplate;if(null===e){(e=new li).type=qe.Position,e.locationSpot=Hi;var o=this.handleArchetype;null!==o&&e.add(o.copy())}else if(Ea(e),null===(e=e.copy()))return null;return e.adornedObject=t,e},dl.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||!t.allowRotate||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)},dl.prototype.doActivate=function(){var t=this.diagram;if(null===this.adornedObject){if(null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null===this.handle)return;this.adornedObject=this.handle.part.adornedObject}null!==this.adornedObject&&(t.isMouseCaptured=!0,t.delaysLayout=!0,this.xa(this.name),this.Fx=this.adornedObject.angle,this.Ps=this.computeRotationPoint(this.adornedObject),this.qp=this.adornedObject.part.location.copy(),this.isActive=!0)},dl.prototype.computeRotationPoint=function(t){var e=t.part,o=e.locationObject;return e.rotationSpot.kb()?t.da(e.rotationSpot):t===e||t===o?o.da(e.locationSpot):t.da(Hi)},dl.prototype.computeAdornmentLocation=function(t){var e=this.rotationPoint;e.o()||(e=this.computeRotationPoint(t)),e=t.Mt(e);var o=this.handleAngle;0>o?o+=360:360<=o&&(o-=360),o=Math.round(45*Math.round(o/45));var a=this.handleDistance;return 0===o?e.x=t.naturalBounds.width+a:45===o?(e.x=t.naturalBounds.width+a,e.y=t.naturalBounds.height+a):90===o?e.y=t.naturalBounds.height+a:135===o?(e.x=-a,e.y=t.naturalBounds.height+a):180===o?e.x=-a:225===o?(e.x=-a,e.y=-a):270===o?e.y=-a:315===o&&(e.x=t.naturalBounds.width+a,e.y=-a),t.da(e)},dl.prototype.doDeactivate=function(){var t=this.diagram;this.Jg(),this.ie=this.handle=null,this.Ps=new rt(NaN,NaN),this.isActive=t.isMouseCaptured=!1},dl.prototype.doCancel=function(){this.diagram.delaysLayout=!1,this.rotate(this.originalAngle),this.stopTool()},dl.prototype.doMouseMove=function(){var t=this.diagram;this.isActive&&(t=this.computeRotate(t.lastInput.documentPoint),this.rotate(t))},dl.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){t.delaysLayout=!1;var e=this.computeRotate(t.lastInput.documentPoint);this.rotate(e),t.Na(),this.transactionResult=this.name,t.R("PartRotated",this.adornedObject,this.originalAngle)}this.stopTool()},dl.prototype.rotate=function(t){var e=this.adornedObject;if(null!==e){e.angle=t,(e=e.part).Ta();var o=e.locationObject,a=e.rotateObject;(o===a||o.Gg(a))&&(o=this.qp.copy(),e.location=o.ge(this.rotationPoint).rotate(t-this.originalAngle).add(this.rotationPoint)),this.diagram.hd()}},dl.prototype.computeRotate=function(t){t=this.rotationPoint.Pa(t)-this.handleAngle;var e=this.adornedObject.panel;null!==e&&(t-=e.lj()),360<=t?t-=360:0>t&&(t+=360),e=Math.min(Math.abs(this.snapAngleMultiple),180);var o=Math.min(Math.abs(this.snapAngleEpsilon),e/2);return!this.diagram.lastInput.shift&&0<e&&0<o&&(t%e<o?t=Math.floor(t/e)*e:t%e>e-o&&(t=(Math.floor(t/e)+1)*e)),360<=t?t-=360:0>t&&(t+=360),t},X.Object.defineProperties(dl.prototype,{handleArchetype:{get:function(){return this.u},set:function(t){this.u=t}},handle:{get:function(){return this.l},set:function(t){if(null!==t&&!(t.part instanceof li))throw Error("new handle is not in an Adornment: "+t);this.l=t}},adornedObject:{get:function(){return this.ie},set:function(t){if(null!==t&&t.part instanceof li)throw Error("new handle must not be in an Adornment: "+t);this.ie=t}},snapAngleMultiple:{get:function(){return this.La},set:function(t){this.La=t}},snapAngleEpsilon:{get:function(){return this.Ka},set:function(t){this.Ka=t}},originalAngle:{get:function(){return this.Fx}},rotationPoint:{get:function(){return this.Ps},set:function(t){this.Ps=t.copy()}},handleAngle:{get:function(){return this.I},set:function(t){this.I=t}},handleDistance:{get:function(){return this.T},set:function(t){this.T=t}}}),dl.className="RotatingTool",S("rotatingTool",function(){return this.findTool("Rotating")},function(t){this.Ya("Rotating",t,this.mouseDownTools)}),et(Dm,jn),Dm.prototype.canStart=function(){return!(!this.isEnabled||this.isBeyondDragSize())},Dm.prototype.doMouseUp=function(){this.isActive&&(this.standardMouseSelect(),!this.standardMouseClick()&&this.diagram.lastInput.isTouchEvent&&this.diagram.toolManager.doToolTip()),this.stopTool()},Dm.className="ClickSelectingTool",et(wf,jn),wf.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram,e=t.lastInput,o=t.Vb(e.documentPoint,function(a){for(;null!==a.panel&&!a.isActionable;)a=a.panel;return a});return!(null===o||!o.isActionable||(this.Xk=o,t.Ej=t.Vb(e.documentPoint,null,null),0))},wf.prototype.doMouseDown=function(){if(this.isActive){var t=this.diagram.lastInput,e=this.Xk;null!==e&&(t.targetObject=e,null!==e.actionDown&&e.actionDown(t,e))}else this.canStart()&&this.doActivate()},wf.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram.lastInput,e=this.Xk;null!==e&&(t.targetObject=e,null!==e.actionMove&&e.actionMove(t,e))}},wf.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram.lastInput,e=this.Xk;if(null===e)return;t.targetObject=e,null!==e.actionUp&&e.actionUp(t,e),this.standardMouseClick(function(o){for(;null!==o.panel&&(!o.isActionable||o!==e);)o=o.panel;return o},function(o){return o===e})}this.stopTool()},wf.prototype.doCancel=function(){var t=this.diagram.lastInput,e=this.Xk;null!==e&&(t.targetObject=e,null!==e.actionCancel&&e.actionCancel(t,e),this.stopTool())},wf.prototype.doStop=function(){this.Xk=null},wf.className="ActionTool",et(up,jn),up.prototype.canStart=function(){if(!this.isEnabled||null===this.archetypeNodeData)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.lastInput.left||this.isBeyondDragSize())return!1;if(this.isDoubleClick){if(1===t.lastInput.clickCount&&(this.xx=t.lastInput.viewPoint.copy()),2!==t.lastInput.clickCount||this.isBeyondDragSize(this.xx))return!1}else if(1!==t.lastInput.clickCount)return!1;return!(t.currentTool!==this&&null!==t.zm(t.lastInput.documentPoint,!0))},up.prototype.doMouseUp=function(){this.isActive&&this.insertPart(this.diagram.lastInput.documentPoint),this.stopTool()},up.prototype.insertPart=function(t){var e=this.diagram,o=this.archetypeNodeData;if(null===o)return null;var a=null;try{if(e.R("ChangingSelection",e.selection),this.xa(this.name),o instanceof Nt)o.Nc()&&(Ea(o),null!==(a=o.copy())&&e.add(a));else if(null!==o){var h=e.model.copyNodeData(o);Ct(h)&&(e.model.uf(h),a=e.zc(h))}if(null!==a){var c=rt.allocAt(t.x,t.y);this.isGridSnapEnabled&&a1(this.diagram,a,t,c),a.location=c,e.allowSelect&&(e.clearSelection(!0),a.isSelected=!0),rt.free(c)}e.Na(),this.transactionResult=this.name,e.R("PartCreated",a)}finally{this.Jg(),e.R("ChangedSelection",e.selection)}return a},X.Object.defineProperties(up.prototype,{archetypeNodeData:{get:function(){return this.Aj},set:function(t){this.Aj=t}},isDoubleClick:{get:function(){return this.u},set:function(t){this.u=t}},isGridSnapEnabled:{get:function(){return this.l},set:function(t){this.l=t}}}),up.className="ClickCreatingTool",et(Vu,jn),Vu.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(!t.allowSelect)return!1;var e=t.lastInput;return!(!e.left||t.currentTool!==this&&(!this.isBeyondDragSize()||e.timestamp-t.firstInput.timestamp<this.delay||null!==t.zm(e.documentPoint,!0)))},Vu.prototype.doActivate=function(){var t=this.diagram;this.isActive=!0,t.isMouseCaptured=!0,t.skipsUndoManager=!0,t.add(this.box),this.doMouseMove()},Vu.prototype.doDeactivate=function(){var t=this.diagram;t.Jf(),t.remove(this.box),t.skipsUndoManager=!1,this.isActive=t.isMouseCaptured=!1},Vu.prototype.doMouseMove=function(){var t=this.diagram;if(this.isActive&&null!==this.box){var e=this.computeBoxBounds(),o=this.box.bb("SHAPE");null===o&&(o=this.box.tb());var a=Ge.alloc().h(e.width,e.height);e=rt.allocAt(e.x,e.y),o.desiredSize=a,this.box.position=e,Ge.free(a),rt.free(e),(t.allowHorizontalScroll||t.allowVerticalScroll)&&t.Et(t.lastInput.viewPoint)}},Vu.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram;t.remove(this.box);try{t.currentCursor="wait",t.R("ChangingSelection",t.selection),this.selectInRect(this.computeBoxBounds()),t.R("ChangedSelection",t.selection)}finally{t.currentCursor=""}}this.stopTool()},Vu.prototype.computeBoxBounds=function(){var t=this.diagram;return new te(t.firstInput.documentPoint,t.lastInput.documentPoint)},Vu.prototype.selectInRect=function(t){var e=this.diagram,o=e.lastInput;if(t=e.ty(t,this.isPartialInclusion),Z?o.meta:o.control)if(o.shift)for(t=t.iterator;t.next();)(e=t.value).isSelected&&(e.isSelected=!1);else for(t=t.iterator;t.next();)(e=t.value).isSelected=!e.isSelected;else if(o.shift)for(t=t.iterator;t.next();)(e=t.value).isSelected||(e.isSelected=!0);else{for(o=new Lt,e=e.selection.iterator;e.next();){var a=e.value;t.contains(a)||o.add(a)}for(e=o.iterator;e.next();)e.value.isSelected=!1;for(t=t.iterator;t.next();)(e=t.value).isSelected||(e.isSelected=!0)}},X.Object.defineProperties(Vu.prototype,{delay:{get:function(){return this.pl},set:function(t){this.pl=t}},isPartialInclusion:{get:function(){return this.u},set:function(t){this.u=t}},box:{get:function(){return this.l},set:function(t){this.l=t}}}),Vu.className="DragSelectingTool",et(ju,jn),ju.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(!t.allowHorizontalScroll&&!t.allowVerticalScroll||!t.lastInput.left||t.currentTool!==this&&!this.isBeyondDragSize())},ju.prototype.doActivate=function(){var t=this.diagram;this.Pg?(t.lastInput.bubbles=!0,t.addEventListener(V.document,"scroll",this.Lx,!1)):(t.currentCursor="move",t.isMouseCaptured=!0,this.kv.assign(t.position)),this.isActive=!0},ju.prototype.doDeactivate=function(){var t=this.diagram;t.currentCursor="",this.isActive=t.isMouseCaptured=!1},ju.prototype.doCancel=function(){var t=this.diagram;t.position=this.kv,t.isMouseCaptured=!1,this.stopTool()},ju.prototype.doMouseMove=function(){this.move()},ju.prototype.doMouseUp=function(){this.move(),this.stopTool()},ju.prototype.move=function(){var t=this.diagram;if(this.isActive&&t)if(this.Pg)t.lastInput.bubbles=!0;else{var e=t.position,o=t.firstInput.documentPoint,a=t.lastInput.documentPoint,h=e.x+o.x-a.x;o=e.y+o.y-a.y,t.allowHorizontalScroll||(h=e.x),t.allowVerticalScroll||(o=e.y),t.position=this.kz.h(h,o)}},X.Object.defineProperties(ju.prototype,{bubbles:{get:function(){return this.Pg},set:function(t){this.Pg=t}},originalPosition:{get:function(){return this.kv}}}),ju.className="PanningTool",S("clickCreatingTool",function(){return this.findTool("ClickCreating")},function(t){this.Ya("ClickCreating",t,this.mouseUpTools)}),S("clickSelectingTool",function(){return this.findTool("ClickSelecting")},function(t){this.Ya("ClickSelecting",t,this.mouseUpTools)}),S("panningTool",function(){return this.findTool("Panning")},function(t){this.Ya("Panning",t,this.mouseMoveTools)}),S("dragSelectingTool",function(){return this.findTool("DragSelecting")},function(t){this.Ya("DragSelecting",t,this.mouseMoveTools)}),S("actionTool",function(){return this.findTool("Action")},function(t){this.Ya("Action",t,this.mouseDownTools)}),X.Object.defineProperties(bf.prototype,{mainElement:{get:function(){return this.I},set:function(t){this.I=t}},show:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},hide:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t)}},valueFunction:{get:function(){return this.T},set:function(t){this.T=t}}}),bf.className="HTMLInfo",ph.className="ContextMenuButtonInfo",et(pl,jn),pl.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(this.isBeyondDragSize()||!t.lastInput.right||1<t.lastInput.clickCount||!(t.lastInput.isTouchEvent&&null!==this.defaultTouchContextMenu||null!==this.findObjectWithContextMenu()))},pl.prototype.doStart=function(){this.Cx.set(this.diagram.firstInput.documentPoint)},pl.prototype.doStop=function(){this.hideContextMenu(),this.currentObject=null},pl.prototype.findObjectWithContextMenu=function(t){void 0===t&&(t=null);var e=this.diagram,a=null;if(t instanceof Ee||(a=t instanceof Oi?t:e.Vb(e.lastInput.documentPoint,null,function(h){return!h.layer.isTemporary})),null!==a){for(t=a;null!==t;){if(null!==t.contextMenu)return t;t=t.panel}if(e.lastInput.isTouchEvent&&this.defaultTouchContextMenu)return a.part}else if(null!==e.contextMenu)return e;return null},pl.prototype.doActivate=function(){},pl.prototype.doMouseDown=function(){if(jn.prototype.doMouseDown.call(this),this.isActive&&this.currentContextMenu instanceof li){var t=this.diagram.toolManager.findTool("Action");null!==t&&t.canStart()&&(t.doActivate(),t.doMouseDown(),t.doDeactivate())}this.diagram.toolManager.mouseDownTools.contains(this)&&Zb(this)},pl.prototype.doMouseUp=function(){if(this.isActive&&this.currentContextMenu instanceof li){var t=this.diagram.toolManager.findTool("Action");null!==t&&t.canStart()&&(t.doActivate(),t.doCancel(),t.doDeactivate())}Zb(this)},pl.prototype.doMouseMove=function(){var t=this.diagram.toolManager.findTool("Action");null!==t&&t.doMouseMove(),this.isActive&&this.diagram.toolManager.doMouseMove()},pl.prototype.showContextMenu=function(t,e){var o=this.diagram;if(t!==this.currentContextMenu&&this.hideContextMenu(),t instanceof li){t.layerName="Tool",t.selectable=!1,t.scale=1/o.scale,t.category=this.name,null!==t.placeholder&&(t.placeholder.scale=o.scale);var a=t.diagram;null!==a&&a!==o&&a.remove(t),o.add(t),null!==e?t.adornedObject=e:t.data=o.model,t.Ta(),this.positionContextMenu(t,e)}else t instanceof bf&&t.show(e,o,this);this.currentContextMenu=t},pl.prototype.positionContextMenu=function(t){if(null===t.placeholder){var e=this.diagram,o=e.lastInput.documentPoint.copy(),a=t.measuredBounds,h=e.viewportBounds;e.lastInput.isTouchEvent&&(o.x-=a.width),o.x+a.width>h.right&&(o.x-=a.width+5/e.scale),o.x<h.x&&(o.x=h.x),o.y+a.height>h.bottom&&(o.y-=a.height+5/e.scale),o.y<h.y&&(o.y=h.y),t.position=o}},pl.prototype.hideContextMenu=function(){var t=this.diagram,e=this.currentContextMenu;null!==e&&(e instanceof li?(t.remove(e),null!==this.Cu&&this.Cu.Hf(e.category),e.data=null,e.adornedObject=null):e instanceof bf&&(null!==e.hide?e.hide(t,this):null!==e.mainElement&&(e.mainElement.style.display="none")),this.currentContextMenu=null,this.standardMouseOver())},pl.prototype.showDefaultContextMenu=function(){var t=this.diagram;null===this.Du&&(this.Du=function(t){var e=new Lt;return e.add(new ph("Copy",function(o){o.commandHandler.copySelection()},function(o){return o.commandHandler.canCopySelection()})),e.add(new ph("Cut",function(o){o.commandHandler.cutSelection()},function(o){return o.commandHandler.canCutSelection()})),e.add(new ph("Delete",function(o){o.commandHandler.deleteSelection()},function(o){return o.commandHandler.canDeleteSelection()})),e.add(new ph("Paste",function(o){o.commandHandler.pasteSelection(t.mouseDownPoint)},function(o){return o.commandHandler.canPasteSelection(t.mouseDownPoint)})),e.add(new ph("Select All",function(o){o.commandHandler.selectAll()},function(o){return o.commandHandler.canSelectAll()})),e.add(new ph("Undo",function(o){o.commandHandler.undo()},function(o){return o.commandHandler.canUndo()})),e.add(new ph("Redo",function(o){o.commandHandler.redo()},function(o){return o.commandHandler.canRedo()})),e.add(new ph("Scroll To Part",function(o){o.commandHandler.scrollToPart()},function(o){return o.commandHandler.canScrollToPart()})),e.add(new ph("Zoom To Fit",function(o){o.commandHandler.zoomToFit()},function(o){return o.commandHandler.canZoomToFit()})),e.add(new ph("Reset Zoom",function(o){o.commandHandler.resetZoom()},function(o){return o.commandHandler.canResetZoom()})),e.add(new ph("Group Selection",function(o){o.commandHandler.groupSelection()},function(o){return o.commandHandler.canGroupSelection()})),e.add(new ph("Ungroup Selection",function(o){o.commandHandler.ungroupSelection()},function(o){return o.commandHandler.canUngroupSelection()})),e.add(new ph("Edit Text",function(o){o.commandHandler.editTextBlock()},function(o){return o.commandHandler.canEditTextBlock()})),e}(this)),Em.innerHTML="",pv.addEventListener("click",this.wv,!1);var e=this,o=J("ul");o.className="goCXul",Em.appendChild(o),o.innerHTML="";for(var a=this.Du.iterator;a.next();){var h=a.value,c=h.visible;if("function"==typeof h.by&&("function"!=typeof c||c(t))){(c=J("li")).className="goCXli";var g=J("a");g.className="goCXa",g.href="#",g.dz=h.by,g.addEventListener("click",function(_){return this.dz(t),e.stopTool(),_.preventDefault(),!1},!1),g.textContent=h.text,c.appendChild(g),o.appendChild(c)}}Em.style.display="block",pv.style.display="block"},pl.prototype.hideDefaultContextMenu=function(){if(null!==this.currentContextMenu&&this.currentContextMenu===cp){Em.style.display="none",pv.style.display="none";var t=this.diagram;null!==t&&t.removeEventListener(pv,"click",this.wv,!1),this.currentContextMenu=null}},X.Object.defineProperties(pl.prototype,{currentContextMenu:{get:function(){return this.l},set:function(t){this.l=t,this.Cu=t instanceof li?t.adornedPart:null}},defaultTouchContextMenu:{get:function(){return!1===cd&&null===cp&&gl&&function(t){var e=new bf;e.show=function(h,c,g){g.showDefaultContextMenu()},e.hide=function(h,c){c.hideDefaultContextMenu()},cp=e,t.wv=function(){t.stopTool()},e=J("div");var o=J("div");e.style.cssText="top: 0px;z-index:10002;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px",o.style.cssText="z-index:10001;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;opacity: 0.8;";var a=J("style");V.document.getElementsByTagName("head")[0].appendChild(a),a.sheet.insertRule(".goCXul { list-style: none; }",0),a.sheet.insertRule(".goCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0),a.sheet.insertRule(".goCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0),null!==(a=t.diagram)&&(a.addEventListener(e,"contextmenu",Kx,!1),a.addEventListener(e,"selectstart",Kx,!1),a.addEventListener(o,"contextmenu",Kx,!1)),e.className="goCXforeground",o.className="goCXbackground",V.document.body&&(V.document.body.appendChild(e),V.document.body.appendChild(o)),Em=e,pv=o,cd=!0}(this),cp},set:function(t){null===t&&(cd=!0),cp=t}},currentObject:{get:function(){return this.u},set:function(t){this.u=t}},mouseDownPoint:{get:function(){return this.Cx}}});var cp=null,cd=!1,pv=null,Em=null;function Lr(){jn.call(this),this.name="TextEditing",this.zh=new Qn,this.La=null,this.Ka=vv,this.Wi=null,this.ia=_f,this.I=1,this.T=!0,this.u=null,this.l=new bf,this.Hu=null,function(t,e){if(gl){var o=J("textarea");t.Hu=o,o.addEventListener("input",function(){if(null!==t.textBlock){var a=t.Jy(this.value);this.style.width=20+a.measuredBounds.width*this.eB+"px",this.rows=a.lineCount}},!1),o.addEventListener("keydown",function(a){if(null!==t.textBlock){var h=a.key;"Enter"===h?(!1===t.textBlock.isMultiline&&a.preventDefault(),t.acceptText(km)):"Tab"===h?(t.acceptText(gv),a.preventDefault()):"Escape"===h&&(t.doCancel(),null!==t.diagram&&t.diagram.doFocus())}},!1),o.addEventListener("focus",function(){if(null!==t.currentTextEditor&&t.state!==_f){var a=t.Hu;t.ia===zu&&(t.ia=Ql),"function"==typeof a.select&&t.selectsTextOnActivate&&(a.select(),a.setSelectionRange(0,9999))}},!1),o.addEventListener("blur",function(){if(null!==t.currentTextEditor&&t.state!==_f){var a=t.Hu;"function"==typeof a.focus&&a.focus(),"function"==typeof a.select&&t.selectsTextOnActivate&&(a.select(),a.setSelectionRange(0,9999))}},!1),e.valueFunction=function(){return o.value},e.mainElement=o,e.show=function(a,h,c){if(a instanceof Qn&&c instanceof Lr)if(c.state===b0)o.style.border="3px solid red",o.focus();else{var g=a.da(Hi),_=h.position,k=h.scale,P=a.Af()*k;P<c.minimumEditorScale&&(P=c.minimumEditorScale);var F=a.naturalBounds.width*P+6,j=a.naturalBounds.height*P+2,ut=(g.x-_.x)*k;g=(g.y-_.y)*k,o.value=a.text,h.div.style.font=a.font,o.style.position="absolute",o.style.zIndex="100",o.style.font="inherit",o.style.fontSize=100*P+"%",o.style.lineHeight="normal",o.style.width=F+"px",o.style.left=(ut-F/2|0)-1+"px",o.style.top=(g-j/2|0)-1+"px",o.style.textAlign=a.textAlign,o.style.margin="0",o.style.padding="1px",o.style.border="0",o.style.outline="none",o.style.whiteSpace="pre-wrap",o.style.overflow="hidden",o.rows=a.lineCount,o.eB=P,o.className="goTXarea",h.div.appendChild(o),o.focus(),c.selectsTextOnActivate&&(o.select(),o.setSelectionRange(0,9999))}},e.hide=function(a){a.div.removeChild(o)}}}(this,this.l)}function mv(t){var e=t.textBlock,o=t.diagram,a=t.currentTextEditor;if(null!==e&&null!==a){var h=e.text,c="";null!==a.valueFunction&&(c=a.valueFunction()),t.isValidText(e,h,c)?(t.xa(t.name),t.ia=Ao,t.transactionResult=t.name,e.text=c,t.doSuccess(h,c),null!==o&&o.R("TextEdited",e,h),t.Jg(),t.stopTool(),null!==o&&o.doFocus()):(t.ia=b0,t.doError(h,c))}}pl.className="ContextMenuTool",S("contextMenuTool",function(){return this.findTool("ContextMenu")},function(t){this.Ya("ContextMenu",t,this.mouseUpTools)}),et(Lr,jn),Lr.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(null===t||t.isReadOnly||dp&&dp!==this&&(dp.acceptText(w0),dp&&dp!==this)||!t.lastInput.left||this.isBeyondDragSize())return!1;var e=t.Vb(t.lastInput.documentPoint);return!!(null!==e&&e instanceof Qn&&e.editable&&e.part.canEdit())&&!(null===(e=e.part)||this.starting===vv&&!e.isSelected||this.starting===fp&&2>t.lastInput.clickCount)},Lr.prototype.doStart=function(){dp=this,null!==this.textBlock&&this.doActivate()},Lr.prototype.doActivate=function(){if(!this.isActive){var t=this.diagram;if(null!==t){var e=this.textBlock;if(null===e&&(e=t.Vb(t.lastInput.documentPoint)),null!==e&&e instanceof Qn&&(this.textBlock=e,null!==e.part)){this.isActive=!0,this.ia=zu;var o=this.defaultTextEditor;null!==e.textEditor&&(o=e.textEditor),this.zh=this.textBlock.copy();var a=new te(this.textBlock.da(gr),this.textBlock.da(tl));t.Aw(a),o.show(e,t,this),this.currentTextEditor=o}}}},Lr.prototype.doCancel=function(){this.stopTool()},Lr.prototype.doMouseUp=function(){this.canStart()&&this.doActivate()},Lr.prototype.doMouseDown=function(){this.isActive&&this.acceptText(w0)},Lr.prototype.acceptText=function(t){switch(t){case w0:this.ia===Ao?this.currentTextEditor instanceof HTMLElement&&this.currentTextEditor.focus():(this.ia===zu||this.ia===b0||this.ia===Ql)&&(this.ia=yv,mv(this));break;case Xr:case km:case gv:(km!==t||!0!==this.textBlock.isMultiline)&&(this.ia===zu||this.ia===b0||this.ia===Ql)&&(this.ia=yv,mv(this))}},Lr.prototype.doError=function(t,e){var o=this.textBlock;null!==o.errorFunction&&o.errorFunction(this,t,e),(t=this.currentTextEditor)&&t.show(o,this.diagram,this)},Lr.prototype.doSuccess=function(t,e){var o=this.textBlock;null!==o.textEdited&&o.textEdited(o,t,e)},Lr.prototype.doDeactivate=function(){var t=this.diagram;null!==t&&(this.ia=_f,this.textBlock=null,null!==this.currentTextEditor&&this.currentTextEditor.hide(t,this),this.isActive=!1)},Lr.prototype.doStop=function(){dp=null},Lr.prototype.isValidText=function(t,e,o){var a=this.textValidation;return!(null!==a&&!a(t,e,o)||null!==(a=t.textValidation)&&!a(t,e,o))},Lr.prototype.Jy=function(t){var e=this.zh;return e.text=t,e.measure(this.textBlock.Ei,1/0),e},X.Object.defineProperties(Lr.prototype,{textBlock:{get:function(){return this.La},set:function(t){this.La=t}},currentTextEditor:{get:function(){return this.u},set:function(t){this.u=t}},defaultTextEditor:{get:function(){return this.l},set:function(t){this.l=t}},starting:{get:function(){return this.Ka},set:function(t){this.Ka=t}},textValidation:{get:function(){return this.Wi},set:function(t){this.Wi=t}},minimumEditorScale:{get:function(){return this.I},set:function(t){this.I=t}},selectsTextOnActivate:{get:function(){return this.T},set:function(t){this.T=t}},state:{get:function(){return this.ia},set:function(t){this.ia!==t&&(this.ia=t)}}}),Lr.prototype.measureTemporaryTextBlock=Lr.prototype.Jy;var Xr=new wt(Lr,"LostFocus",0),w0=new wt(Lr,"MouseDown",1),gv=new wt(Lr,"Tab",2),km=new wt(Lr,"Enter",3),i1=new wt(Lr,"SingleClick",0),vv=new wt(Lr,"SingleClickSelected",1),fp=new wt(Lr,"DoubleClick",2),_f=new wt(Lr,"StateNone",0),zu=new wt(Lr,"StateActive",1),Ql=new wt(Lr,"StateEditing",2),yv=new wt(Lr,"StateValidating",3),b0=new wt(Lr,"StateInvalid",4),Ao=new wt(Lr,"StateValidated",5),dp=null;function Hs(){Tm||(pp(),Tm=!0),this.B=R0,this.zl=this.ef=this.sc=this.ps=this.jc=!1,this.Qx=!0,this.Al=M0,this.tn=!1,this.zi=this.md=!0,this.Yg=600,this.ox=this.Px=!1,this.Re=new Ht,this.Rd=new Fs,this.Rd.Uc=this,this.yj=new Ht,this.tv=new Ht,this.ot=new Ht,this.$l=new Ht}function ao(t,e){Sr(t,e)&&(t.ef=!0)}function Sr(t,e){return!(!t.md||!t.canStart(e))&&(t.Re.add(e),t.defaultAnimation.isAnimating&&t.Bc(),Qs(t.B),t.sc=!0)}function Rn(t){if(t.md&&t.sc){var e=t.Rd,o=t.B,a=t.Re.contains("Model");a&&(t.zl=!0,t.Al===M0?(e.isViewportUnconstrained=!0,e.lc.clear(),e.add(o,"position",o.position.copy().offset(0,-200),o.position),e.add(o,"opacity",0,1)):t.Al===Mf&&e.lc.clear(),t.Qx=!(t.Al!==n1||!o.Ts.w(o.la)),o.R("InitialAnimationStarting",t)),a&&!t.zi||0===e.lc.count?(t.Re.clear(),t.sc=!1,t.ef=!1,e.lc.clear(),dd(e,o),t.zl=!1,o.M()):(t.Re.clear(),o.Ee=!1,a=e.lc.get(o),o.autoScale!==Gs&&null!==a&&(delete a.start.scale,delete a.end.scale),V.requestAnimationFrame(function(){!1===t.sc||e.jc||(o.Ke("temporaryPixelRatio")&&Jo(o),Pm(o),t.sc=!1,t.ef=!1,e.start(),Am(t),o.Na(),Zx(e,0),Ko(o,!0),mh(t),o.R("AnimationStarting",t))}))}}function xv(t,e,o,a){t.isTicking||e instanceof We&&(null!==e.fromNode||null!==e.toNode)||t.Rd.add(e,"position",o,a,!1)}function Am(t){if(!t.ps){var e=t.B;t.Px=e.skipsUndoManager,t.ox=e.skipsModelSourceBindings,e.skipsUndoManager=!0,e.skipsModelSourceBindings=!0,t.ps=!0}}function mh(t){var e=t.B;e.skipsUndoManager=t.Px,e.skipsModelSourceBindings=t.ox,t.ps=!1}function wa(t,e,o){t.ef&&!e.w(o)&&(t.B.pj||(e=o.copy()),Tr(t.Rd,t.B,"position",e,o))}function wv(t,e){for(e=e.findLinksConnected();e.next();){var o=e.value;o.jf=o.points.copy(),t.$l.add(o)}}function _0(t,e,o,a,h){null===t&&(t=[0,0,0,0]),null===e&&(e=[0,0,0,0]);var c=t[0],g=t[1],_=t[2];t=t[3];var k=e[0],P=e[1],F=e[2];return e=e[3],0===_||100===_?(c=k,g=P):(0===F||100===F)&&(k=c,P=g),180<Math.abs(k-c)&&(k>c?c+=360:k+=360),"hsla("+(c=h(o,c,k-c,a)%360)+", "+(g=h(o,g,P-g,a))+"%, "+(_=h(o,_,F-_,a))+"%, "+(o=h(o,t,e-t,a))+")"}function pp(){function t(o,a,h,c,g,_){o.position=new rt(c(g,a.x,h.x-a.x,_),c(g,a.y,h.y-a.y,_))}var e=new gt;e.add("position:diagram",t),e.add("position",t),e.add("position:part",function(o,a,h,c,g,_){g<_?o.er(c(g,a.x,h.x-a.x,_),c(g,a.y,h.y-a.y,_),!1):o.position=new rt(c(g,a.x,h.x-a.x,_),c(g,a.y,h.y-a.y,_))}),e.add("location",function(o,a,h,c,g,_){g<_?o.er(c(g,a.x,h.x-a.x,_),c(g,a.y,h.y-a.y,_),!0):o.location=new rt(c(g,a.x,h.x-a.x,_),c(g,a.y,h.y-a.y,_))}),e.add("position:placeholder",function(o,a,h,c,g,_){g<_?o.er(c(g,a.x,h.x-a.x,_),c(g,a.y,h.y-a.y,_),!1):o.position=new rt(c(g,a.x,h.x-a.x,_),c(g,a.y,h.y-a.y,_))}),e.add("position:nodeCollapse",function(o,a,h,c,g,_){var k=o.actualBounds,P=h.actualBounds;h=P.x+P.width/2-k.width/2,k=P.y+P.height/2-k.height/2,g<_?o.er(c(g,a.x,h-a.x,_),c(g,a.y,k-a.y,_),!1):o.position=new rt(c(g,a.x,h-a.x,_),c(g,a.y,k-a.y,_))}),e.add("desiredSize",function(o,a,h,c,g,_){o.desiredSize=new te(c(g,a.width,h.width-a.width,_),c(g,a.height,h.height-a.height,_))}),e.add("width",function(o,a,h,c,g,_){o.width=c(g,a,h-a,_)}),e.add("height",function(o,a,h,c,g,_){o.height=c(g,a,h-a,_)}),e.add("fill",function(o,a,h,c,g,_){o.fill=_0(a,h,g,_,c)}),e.add("stroke",function(o,a,h,c,g,_){o.stroke=_0(a,h,g,_,c)}),e.add("strokeWidth",function(o,a,h,c,g,_){o.strokeWidth=c(g,a,h-a,_)}),e.add("strokeDashOffset",function(o,a,h,c,g,_){o.strokeDashOffset=c(g,a,h-a,_)}),e.add("background",function(o,a,h,c,g,_){o.background=_0(a,h,g,_,c)}),e.add("areaBackground",function(o,a,h,c,g,_){o.areaBackground=_0(a,h,g,_,c)}),e.add("opacity",function(o,a,h,c,g,_){o.opacity=c(g,a,h-a,_)}),e.add("scale",function(o,a,h,c,g,_){o.scale=c(g,a,h-a,_)}),e.add("angle",function(o,a,h,c,g,_){o.angle=c(g,a,h-a,_)}),Il=e}Lr.className="TextEditingTool",Lr.LostFocus=Xr,Lr.MouseDown=w0,Lr.Tab=gv,Lr.Enter=km,Lr.SingleClick=i1,Lr.SingleClickSelected=vv,Lr.DoubleClick=fp,Lr.StateNone=_f,Lr.StateActive=zu,Lr.StateEditing=Ql,Lr.StateValidating=yv,Lr.StateInvalid=b0,Lr.StateValidated=Ao,S("textEditingTool",function(){return this.findTool("TextEditing")},function(t){this.Ya("TextEditing",t,this.mouseUpTools)}),Hs.prototype.ee=function(t){this.B=t},Hs.prototype.canStart=function(){return!0},(st=Hs.prototype).cu=function(t){return this.Rd.cu(t)},st.ew=function(t){return this.Rd.ew(t)},st.Bc=function(t){var e=this.Rd;if(!0===this.sc&&(this.zl=this.ef=this.sc=!1,this.Re.clear(),0<e.lc.count&&this.B.Db()),this.jc){if(e.xm(!0),e.lc.clear(),dd(e,null),!0===t)for(t=this.yj.ma(),e=0;e<t.length;e++)t[e].xm(!0)}else e.lc.clear(),dd(e,this.B)},st.xm=function(t){t===this.defaultAnimation&&this.defaultAnimation.lc.clear(),this.yj.remove(t),0===this.yj.count&&(this.jc=!1,this.B.Db()),t===this.defaultAnimation&&(this.defaultAnimation.lc.clear(),this.B.R("AnimationFinished",this))},st.lk=function(t,e){this.ef&&(this.Re.contains("Expand Tree")||this.Re.contains("Expand SubGraph"))&&(this.Rd.lk(t,e),wv(this,t))},st.jk=function(t,e){this.ef&&(this.Re.contains("Collapse Tree")||this.Re.contains("Collapse SubGraph"))&&(this.Rd.jk(t,e),Tr(this.Rd,e,"position",e.position,e.position),wv(this,t))},X.Object.defineProperties(Hs.prototype,{animationReasons:{get:function(){return this.Re}},isEnabled:{get:function(){return this.md},set:function(t){(this.md=t)&&this.yj.each(function(e){e.isAnimating||e.runCount!==1/0||e.start()})}},duration:{get:function(){return this.Yg},set:function(t){1>t&&Q(t,">= 1",Hs,"duration"),this.Yg=t}},isAnimating:{get:function(){return this.jc}},isTicking:{get:function(){return this.ps}},isInitial:{get:function(){return this.zi},set:function(t){this.zi=t}},defaultAnimation:{get:function(){return this.Rd}},activeAnimations:{get:function(){return this.yj}},initialAnimationStyle:{get:function(){return this.Al},set:function(t){this.Al=t}}}),Hs.prototype.stopAnimation=Hs.prototype.Bc;var Il=null,Tm=!1,M0=new wt(Hs,"Default",1),n1=new wt(Hs,"AnimateLocations",2),Mf=new wt(Hs,"None",3);function Fs(){this.xv=this.Ox=this.Uc=this.B=null,this.Il=this.jc=this.l=!1,this.Zn=this.Dd=0,this.Ir=this.Ku=qx,this.Hl=this.Fp=!1,this.nv=1,this.mv=0,this.vd=this.Yg=NaN,this.tx=0,this.$n=null,this.u=ii,this.lc=new gt,this.iv=new gt,this.qm=new Ht,this.jv=new Ht,this.px=yh}function dd(t,e){if(t.iv.clear(),t.Hl=!1,t.mv=0,t.vd=NaN,0<t.qm.count&&t.qm.clear(),0<t.jv.count&&t.jv.clear(),null!==e)for(t=e.links;t.next();)t.value.jf=null}function Tr(t,e,o,a,h,c){var g=t.lc;if(e instanceof Ee&&"position"===o&&(o="position:diagram"),("fill"===o||"stroke"===o||"background"===o||"areaBackground"===o)&&(xh(a),$m(),a=[Ca.l,Ca.I,Ca.u,Ca.T],xh(h),$m(),h=[Ca.l,Ca.I,Ca.u,Ca.T]),g.contains(e)){var _=g.G(e),k=_.start,P=_.end;void 0===k[o]&&(k[o]=ys(a)),P[o]=ys(h)}else P={},(k={})[o]=ys(a),P[o]=ys(h),_=k.position,e instanceof Oi&&_ instanceof rt&&!_.o()&&e.diagram.animationManager.Re.contains("Expand SubGraph")&&_.assign(P.position),_=new Cf(k,P,c),g.add(e,_);(g=k[o])instanceof rt&&!g.o()&&g.assign(t.u),c&&0===o.indexOf("position:")&&e instanceof Nt?_.Qv.location=ys(e.location):c&&(_.Qv[o]=ys(a))}function ys(t){return t instanceof rt||t instanceof Ge?t.copy():t}function xs(t,e){if(!t.Il||e){var o=t.Uc;if(!1!==t.jc){var a=+new Date,h=a>t.Zn?t.vd:a-t.Dd;e&&((h=t.tx)<t.vd?(t.Dd=+new Date-h,t.Zn=t.Dd+t.vd):h=t.vd),Am(o),Zx(t,h),Ko(t.B,!0),mh(o),a>t.Zn&&(t.Fp&&!t.Hl?(t.Dd=+new Date,t.Zn=t.Dd+t.vd,t.Hl=!0):t.xm(!1))}}}function Zx(t,e){for(var o=t.vd,a=t.lc.iterator,h=t.Hl;a.next();){var c=a.key;if(!(c instanceof Oi&&null===c.diagram)){var g=a.value,_=h?g.end:g.start;g=h?g.start:g.end;var P,k=Il;for(P in g)"position"===P&&(g["position:placeholder"]||g["position:nodeCollapse"])||null===k.get(P)||k.get(P)(c,_[P],g[P],t.Ir,e,o,t)}}}function qx(t,e,o,a){return 1>(t/=a/2)?o/2*t*t+e:-o/2*(--t*(t-2)-1)+e}function r1(t,e,o,a){return t===a?e+o:o*(1-Math.pow(2,-10*t/a))+e}function Cf(t,e,o){this.start=t,this.end=e,this.Qv={},this.Kv=o,this.sw=!1}function Va(t,e,o){this.pd=null,this.gf=t,this.cq=o||Vr,this.bl=null,void 0!==e&&(this.bl=e,void 0===o&&(this.cq=qo))}Hs.className="AnimationManager",Hs.defineAnimationEffect=function(t,e){Tm||(pp(),Tm=!0),Il.add(t,e)},Hs.Default=M0,Hs.AnimateLocations=n1,Hs.None=Mf,Fs.prototype.suspend=function(){this.Il=!0},Fs.prototype.advanceTo=function(t,e){e&&(this.Il=!1),this.Fp&&t>=this.vd&&(this.Hl=!0,t-=this.vd),this.tx=t,xs(this,!0),Am(this.Uc),Ko(this.B),mh(this.Uc),this.B.redraw()},(st=Fs.prototype).start=function(){if(0!==this.lc.count&&!this.jc){for(var t=this.B,e=this.lc.iterator;e.next();){var o=e.value.end,a=e.key;if(o["position:placeholder"]){var h=a.findVisibleNode();if(h instanceof hi&&null!==h.placeholder){var c=h.placeholder;(h=c.da(gr)).x+=(c=c.padding).left,h.y+=c.top,o["position:placeholder"]=h}}null===t&&(a instanceof Ee?t=a:a instanceof Oi&&(t=a.diagram))}null!==t&&(this.B=t,!1!==(e=this.Uc=t.animationManager).isEnabled&&(this.vd=isNaN(this.Yg)?e.duration:this.Yg,this.Ir=this.Ku,e.zl&&e.Al===M0&&this===e.defaultAnimation&&(this.Ir=r1,this.vd=isNaN(this.Yg)?600===e.duration?900:e.duration:this.Yg),this.px=t.scrollMode,this.isViewportUnconstrained&&(t.Ti=wd),Am(e),this.qm.each(function(g){g.data=null,t.add(g)}),mh(e),this.jc=!0,this.Dd=+new Date,this.Zn=this.Dd+this.vd,function(t,e){function o(){if(0<h.ot.count&&(a.addAll(h.ot),h.ot.clear(),h.jc=!0),!1!==h.jc&&0!==a.count){h.tv.addAll(a);for(var c=h.tv.iterator;c.next();){var g=c.value;if(!1!==g.jc){t:if(0<g.qm.count)var _=!0;else{for(_=g.lc.iterator;_.next();){var k=_.key;if(k instanceof Oi&&null!==k.diagram||k instanceof Ee){_=!0;break t}}_=!1}_?xs(g,!1):g.Il=!0}}h.tv.clear(),Am(h),Ko(h.B),mh(h),V.requestAnimationFrame(o)}}var a=t.yj,h=t;t.jc?t.ot.add(e):(t.jc=!0,a.add(e),V.requestAnimationFrame(function(){o()}))}(e,this)))}},st.sz=function(t,e){t.Nc()&&(this.qm.add(t),this.B=e)},st.add=function(t,e,o,a,h){if("position"!==e||!o.w(a)){if(null===this.B&&(t instanceof Ee?this.B=t:t instanceof Oi&&null!==t.diagram&&(this.B=t.diagram)),t instanceof Nt){if(!t.isAnimated)return;"position"===e&&(e="position:part")}Tr(this,t,e,o,a,h)}},st.cu=function(t){return!!this.jc&&null!==(t=this.lc.G(t))&&t.sw},st.ew=function(t){return!!this.jc&&null!==(t=this.lc.G(t))&&(t.start.position||t.start.location)},st.stop=function(){this.jc&&this.xm(!0)},st.xm=function(t){if(null!==this.xv&&this.xv.Mp.remove(this.Ox),this.jc){var e=this.B,o=this.Uc;this.Il=this.jc=o.zl=!1,Am(o);for(var a=this.lc,h=this.qm.iterator;h.next();)e.remove(h.value);for(h=this.jv.iterator;h.next();)h.value.s();h=this.Fp,a=a.iterator;for(var c=Il;a.next();){var j,g=a.key,_=a.value,k=h?_.end:_.start,P=h?_.start:_.end,F=_.Qv;for(j in P)if(null!==c.get(j)){var ut=j;!_.Kv||"position:nodeCollapse"!==ut&&"position:placeholder"!==ut||(ut="position"),c.get(ut)(g,k[j],void 0!==F[j]?F[j]:_.Kv?k[j]:P[j],this.Ir,this.vd,this.vd,this)}_.Kv&&void 0!==F.location&&g instanceof Nt&&(g.location=F.location),_.sw&&g instanceof Nt&&g.Ob(!1)}if(e.Yt.clear(),Bh(e,!1),e.Na(),e.M(),Ko(e,!0),o.defaultAnimation===this){for(j=o.$l.iterator;j.next();)null!==(h=j.value).jf&&(h.points=h.jf,h.jf=null);o.$l.clear()}this.isViewportUnconstrained&&(e.scrollMode=this.px),mh(o),this.mv++,!t&&this.nv>this.mv?(this.Hl=!1,this.start()):(this.$n&&this.$n(this),dd(this,null),o.xm(this),e.Db())}},st.lk=function(t,e){var o=e.actualBounds,a=null;if(e instanceof hi&&(a=e.placeholder),null!==a?((o=a.da(gr)).x+=(a=a.padding).left,o.y+=a.top,this.add(t,"position",o,t.position,!1)):this.add(t,"position",new rt(o.x+o.width/2,o.y+o.height/2),t.position,!1),this.add(t,"scale",.01,t.scale,!1),t instanceof hi)for(t=t.memberParts;t.next();)(a=t.value)instanceof Fe&&this.lk(a,e)},st.jk=function(t,e){if(t.isVisible()){var o=null;if(e instanceof hi&&(o=e.placeholder),null!==o?this.add(t,"position:placeholder",t.position,o,!0):this.add(t,"position:nodeCollapse",t.position,e,!0),this.add(t,"scale",t.scale,.01,!0),(o=this.lc).contains(t)&&(o.G(t).sw=!0),t instanceof hi)for(t=t.memberParts;t.next();)(o=t.value)instanceof Fe&&this.jk(o,e)}},st.pA=function(t){var e=this.iv.get(t);return null===e&&this.iv.add(t,e={}),e},X.Object.defineProperties(Fs.prototype,{duration:{get:function(){return this.Yg},set:function(t){1>t&&Q(t,">= 1",Fs,"duration"),this.Yg=t}},reversible:{get:function(){return this.Fp},set:function(t){this.Fp=t}},runCount:{get:function(){return this.nv},set:function(t){0<t?this.nv=t:z("Animation.runCount value must be a positive integer.")}},finished:{get:function(){return this.$n},set:function(t){this.$n!==t&&(this.$n=t)}},easing:{get:function(){return this.Ku},set:function(t){this.Ku=t}},isViewportUnconstrained:{get:function(){return this.l},set:function(t){this.l=t}},isAnimating:{get:function(){return this.jc}}}),Fs.prototype.getTemporaryState=Fs.prototype.pA,Fs.prototype.stop=Fs.prototype.stop,Fs.prototype.add=Fs.prototype.add,Fs.prototype.addTemporaryPart=Fs.prototype.sz,Fs.className="Animation",Fs.EaseLinear=function(t,e,o,a){return o*t/a+e},Fs.EaseInOutQuad=qx,Fs.EaseInQuad=function(t,e,o,a){return o*(t/=a)*t+e},Fs.EaseOutQuad=function(t,e,o,a){return-o*(t/=a)*(t-2)+e},Fs.EaseInExpo=function(t,e,o,a){return 0===t?e:o*Math.pow(2,10*(t/a-1))+e},Fs.EaseOutExpo=r1,Cf.className="AnimationState",Va.prototype.copy=function(){var t=new Va(this.gf);t.cq=this.cq;var e=this.bl;if(null!==e){var o={};void 0!==e.duration&&(o.ny=e.duration),void 0!==e.finished&&(o.ny=e.finished),void 0!==e.easing&&(o.ny=e.easing),t.bl=o}return t},X.Object.defineProperties(Va.prototype,{propertyName:{get:function(){return this.gf},set:function(t){this.gf=t}},animationSettings:{get:function(){return this.bl},set:function(t){this.bl=t}},startCondition:{get:function(){return this.cq},set:function(t){this.cq=t}}});var Vr=new wt(Va,"Default",1),qo=new wt(Va,"Immediate",2),Js=new wt(Va,"Bundled",3);function ks(){me(this),this.B=null,this.Fa=new Lt,this.oa="",this.hb=1,this.u=!1,this.l=this.Pi=this.I=this.ii=this.hi=this.gi=this.fi=this.di=this.ei=this.ci=this.ki=this.bi=this.ji=this.ai=this.$h=!0,this.rp=[]}function Hu(t,e){var o=1;return 1!==t.hb&&(e.globalAlpha=(o=e.globalAlpha)*t.hb),o}function Fh(t,e,o){if(e=function(t,e,o){var a=o.zOrder;if(isNaN(a))return e;var h=(t=t.Fa).count;if(1>=h)return e;if(0>e&&(e=t.indexOf(o)),0>e)return-1;for(var c=e-1,g=NaN;0<=c&&(g=t.J(c).zOrder,isNaN(g));)c--;for(var _=e+1,k=NaN;_<h&&(k=t.J(_).zOrder,isNaN(k));)_++;if(!isNaN(g)&&g>a)for(;;){if(-1===c||g<=a){if(++c===e)break;return t.cb(e),t.wb(c,o),c}for(g=NaN;0<=--c&&(g=t.J(c).zOrder,isNaN(g)););}else if(!isNaN(k)&&k<a)for(;;){if(_===h||k>=a){if(--_===e)break;return t.cb(e),t.wb(_,o),_}for(k=NaN;++_<h&&(k=t.J(_).zOrder,isNaN(k)););}return e}(t,e,o),o instanceof hi&&null!==o&&isNaN(o.zOrder)){if(0!==o.memberParts.count){for(var a=-1,h=t.Fa.j,c=h.length,g=0;g<c;g++){var _=h[g];if(_===o&&(e=g,0<=a)||0>a&&_.containingGroup===o&&(a=g,0<=e))break}!(0>a)&&a<e&&((h=t.Fa).cb(e),h.wb(a,o))}null!==(o=o.containingGroup)&&Fh(t,-1,o)}}function Ee(t){if(1<arguments.length&&z("Diagram constructor can only take one optional argument, the DIV HTML element or its id."),i_||(ew(),i_=!0),me(this),R0=this,this.Sb=!0,this.Uc=new Hs,this.Uc.ee(this),this.rb=17,this.Gl=this.pv=!1,this.Ss="default",this.Da=null,gl){var e=this,o=function(){e.removeEventListener(V.document,"DOMContentLoaded",o,!1),e.setRTL()};null!==V.document.body?this.setRTL():e.addEventListener(V.document,"DOMContentLoaded",o,!1)}this.Ma=new Lt,this.ua=this.va=0,this.Zl=this.ya=null,this.Kx=new gt,this.hf=this.Gb=null,this.xw(),this.Nj=null,this.ww(),this.hb=1,this.la=new rt(NaN,NaN).freeze(),this.Ts=new rt(NaN,NaN),this.Qn=this.Aa=1,this.es=new rt(NaN,NaN).freeze(),this.fs=NaN,this.xs=1e-4,this.vs=100,this.sb=new vn,this.xt=new rt(NaN,NaN).freeze(),this.Zr=new te(NaN,NaN,NaN,NaN).freeze(),this.Si=new hn(0,0,0,0).freeze(),this.Ti=yh,this.at=!1,this.Us=this.Ns=null,this.Og=Gs,this.Dj=zs,this.Yf=Gs,this.to=zs,this.gs=this.ds=gr,this.Dc=!0,this.El=!1,this.wd=new Ht,this.Vg=new gt,this.rl=!0,this.qn=250,this.Bj=-1,this.sn=new hn(16,16,16,16).freeze(),this.Hj=this.Ee=!1,this.Kj=!0,this.Wf=new Rs,this.Wf.diagram=this,this.od=new Rs,this.od.diagram=this,this.hh=new Rs,this.hh.diagram=this,this.we=this.Of=null,this.hk=!1,this.Pr=this.Qr=null,this.zj=V.PointerEvent&&(p||T||it)&&V.navigator&&!1!==V.navigator.msPointerEnabled,Fm(this),this.Dh=new Ht,this.qs=!0,this.rt=mo,this.Uu=!1,this.tt=O0,this.La=null,jm.add("Model",Yn),this.Jr=this.Mr=this.pt=null,this.Pn=this.Hr="auto",this.gg=this.As=this.ig=this.jg=this.lg=this.Qf=this.Uf=this.Pf=null,this.cs=!1,this.Rf=this.wg=this.kg=this.hg=null,this.Bs=!1,this.Ls={},this.bk=[null,null],this.Br=null,this.Nr=this.gt=this.rv=this.vg=!1,this.av=!0,this.yi=this.ac=!1,this.cc=null;var a=this;this.Cc=function(h){var c=a.partManager;if(h.model===c.diagram.model&&c.diagram.Z){c.diagram.Z=!1;try{""===h.modelChange&&h.change===Ar&&c.updateDataBindings(h.object,h.propertyName)}finally{c.diagram.Z=!0}}},this.Tc=function(h){a.partManager.doModelChanged(h)},this.zv=!0,this.Xd=-2,this.pg=new gt,this.Wl=new Lt,this.$f=!1,this.ai=this.$h=this.nr=this.md=!0,this.pr=!1,this.vr=this.tr=this.ii=this.hi=this.gi=this.fi=this.di=this.ei=this.ci=this.sr=this.ki=this.bi=this.ji=this.qr=!0,this.Zf=this.Xu=!1,this.ur=this.rr=this.wl=this.vl=!0,this.$s=this.Ws=16,this.Vs=this.Op=!1,this.Pp=this.Ys=null,this.Xs=this.Zs=0,this.ib=new hn(5).freeze(),this.qv=(new Ht).freeze(),this.ws=999999999,this.Su=(new Ht).freeze(),this.xi=this.wi=this.vi=!0,this.Ye=this.pe=!1,this.kc=null,this.Ng=!0,this.qe=!1,this.Ax=new Ht,this.Tu=new Ht,this.Gc=null,this.Vl=1,this.sv=0,this.Ic={scale:1,position:new rt,bounds:new te,Gv:new Ge,kw:new Ge,hw:!1},this.Rx=new te(NaN,NaN,NaN,NaN).freeze(),this.sm=new Ge(NaN,NaN).freeze(),this.Rn=new te(NaN,NaN,NaN,NaN).freeze(),this.rs=!1,this.Lo=this.qo=this.kp=this.Fu=this.Eu=this.Gu=this.bg=this.fh=this.df=this.Tr=null,gp(this),this.Ib=null,this.po=!1,this.Ej=null,this.partManager=new Yn,this.toolManager=new $r,this.toolManager.initializeStandardTools(),this.currentTool=this.defaultTool=this.toolManager,this.Sr=null,this.kl=new F0,this.Gs=this.Fs=null,this.fq=!1,this.commandHandler=C0(),this.model=Tw(),this.vg=!0,pd(this),this.layout=new Hn,this.vg=!1,this.ux=this.Ju=null,this.Tb=1,this.yh=null,this.Xo=1,this.cp=0,this.hv=[0,0,0,0,0],this.ep=0,this.xd=1,this.Sj=0,this.Go=new rt,this.qt=500,this.rn=new rt,this.re=!1,this.Qk=this.Rk=this.Pk=this.Ok=this.Jk=this.Lk=this.Kk=this.Hk=this.Ik=this.Ww=this.Mw=this.Nw=this.Ow=null,this.Yq=function(){},this.preventDefault=null,this.wo=!1,this.ui=new pn,this.gq=!1,void 0!==t&&Wm(this,t),this.ao=null,this.bo=Ln,this.Sb=!1}function Qb(t,e){t.animationManager.Bc(!0),t.qv=(new Ht).freeze(),t.Su=(new Ht).freeze();var o=t.skipsUndoManager;null!==t.model&&(t.skipsUndoManager=!0);var a=null;null!==t.Ib&&null!==(a=t.Ib.part)&&t.remove(a);var h=[],c=t.Ma.length;if(e){for(e=0;e<c;e++)for(var g=t.Ma.j[e].parts;g.next();){var _=g.value;_!==a&&null===_.data&&h.push(_)}for(e=0;e<h.length;e++)t.remove(h[e])}for(e=0;e<c;e++)t.Ma.j[e].clear();return t.partManager.clear(),t.wd.clear(),t.Vg.clear(),t.Dh.clear(),t.Ej=null,t.Wl.clear(),gu(),t.pg.clear(),yt=[],null!==a&&(t.add(a),t.partManager.parts.remove(a)),null!==t.model&&(t.skipsUndoManager=o),h}function C0(){return null}function gp(t){t.df=new gt;var e=new Fe,o=new Qn;o.bind(new Mo("text","",v)),e.add(o),t.Gu=e,t.df.add("",e),e=new Fe,(o=new Qn).stroke="brown",o.bind(new Mo("text","",v)),e.add(o),t.df.add("Comment",e),(e=new Fe).selectable=!1,e.avoidable=!1,(o=new Qi).figure="Ellipse",o.fill="black",o.stroke=null,o.desiredSize=new Ge(3,3).ca(),e.add(o),t.df.add("LinkLabel",e),t.fh=new gt,(e=new hi).selectionObjectName="GROUPPANEL",e.type=qe.Vertical,(o=new Qn).font="bold 12pt sans-serif",o.bind(new Mo("text","",v)),e.add(o),(o=new qe(qe.Auto)).name="GROUPPANEL";var a=new Qi;a.figure="Rectangle",a.fill="rgba(128,128,128,0.2)",a.stroke="black",o.add(a),(a=new Li).padding=new hn(5,5,5,5).ca(),o.add(a),e.add(o),t.Eu=e,t.fh.add("",e),t.bg=new gt,e=new We,(o=new Qi).isPanelMain=!0,e.add(o),(o=new Qi).toArrow="Standard",o.fill="black",o.stroke=null,o.strokeWidth=0,e.add(o),t.Fu=e,t.bg.add("",e),e=new We,(o=new Qi).isPanelMain=!0,o.stroke="brown",e.add(o),t.bg.add("Comment",e),(e=new li).type=qe.Auto,(o=new Qi).fill=null,o.stroke="dodgerblue",o.strokeWidth=3,e.add(o),(o=new Li).margin=new hn(1.5,1.5,1.5,1.5).ca(),e.add(o),t.kp=e,t.qo=e,(e=new li).type=qe.Link,(o=new Qi).isPanelMain=!0,o.fill=null,o.stroke="dodgerblue",o.strokeWidth=3,e.add(o),t.Lo=e}function Jo(t){30<t.cp&&(t.yh=1)}function Bh(t,e){null!==t.yh&&(t.yh=null,e&&t.Yq(),bt&&bt.my||(t.cp=0,t.hv=[0,0,0,0,0],t.ep=0))}function Pm(t){if(null!==t.ya){var e=t.Da;if(0!==e.clientWidth&&0!==e.clientHeight){t.pv||t.setScrollWidth();var o=t.Ye?t.rb:0,a=t.pe?t.rb:0,h=t.Tb;t.Tb=t.computePixelRatio(),t.Tb!==h&&(t.El=!0,t.Db()),(e.clientWidth!==t.va+o||e.clientHeight!==t.ua+a)&&(t.wi=!0,t.Dc=!0,null!==(e=t.layout)&&e.isViewportSized&&t.autoScale===Gs&&(t.Hj=!0,e.C()),t.ac||t.Db())}}}function pd(t){var e=new ks;e.name="Background",t.um(e),(e=new ks).name="",t.um(e),(e=new ks).name="Foreground",t.um(e),(e=new ks).name="Adornment",e.isTemporary=!0,e.isInDocumentBounds=!1,t.um(e),(e=new ks).name="Tool",e.isTemporary=!0,e.isInDocumentBounds=!0,t.um(e),(e=new ks).name="Grid",e.allowSelect=!1,e.pickable=!1,e.isTemporary=!0,e.isInDocumentBounds=!1,t.Ux(e,t.xk("Background"))}function xc(t){t.Ib=new qe(qe.Grid),t.Ib.name="GRID";var e=new Qi;e.figure="LineH",e.stroke="lightgray",e.strokeWidth=.5,e.interval=1,t.Ib.add(e),(e=new Qi).figure="LineH",e.stroke="gray",e.strokeWidth=.5,e.interval=5,t.Ib.add(e),(e=new Qi).figure="LineH",e.stroke="gray",e.strokeWidth=1,e.interval=10,t.Ib.add(e),(e=new Qi).figure="LineV",e.stroke="lightgray",e.strokeWidth=.5,e.interval=1,t.Ib.add(e),(e=new Qi).figure="LineV",e.stroke="gray",e.strokeWidth=.5,e.interval=5,t.Ib.add(e),(e=new Qi).figure="LineV",e.stroke="gray",e.strokeWidth=1,e.interval=10,t.Ib.add(e),(e=new Nt).add(t.Ib),e.layerName="Grid",e.zOrder=0,e.isInDocumentBounds=!1,e.isAnimated=!1,e.pickable=!1,e.locationObjectName="GRID",t.add(e),t.partManager.parts.remove(e),t.Ib.visible=!1}function S0(){this.B.Vs?this.B.Vs=!1:this.B.isEnabled?this.B.iy(this):Cv(this.B)}function wc(t){this.B.isEnabled?(this.B.Zs=t.target.scrollTop,this.B.Xs=t.target.scrollLeft):Cv(this.B)}function Vh(t){if(t.fixedBounds.o()){var e=t.fixedBounds.copy();return e.uq(t.ib),e}for(var o=!0,a=t.Ma.j,h=a.length,c=0;c<h;c++){var g=a[c];if(g.visible&&g.isInDocumentBounds)for(var _=(g=g.Fa.j).length,k=0;k<_;k++){var P=g[k];P.isInDocumentBounds&&P.isVisible()&&(P=P.actualBounds).o()&&(o?(o=!1,e=P.copy()):e.Rc(P))}}return o&&(e=new te(0,0,0,0)),e.uq(t.ib),e}function Bs(t,e){if((e||t.qe)&&!t.Sb&&null!==t.ya&&t.documentBounds.o()){if(e){var o=t.initialPosition;if(o.o())return void(t.position=o);(o=rt.alloc()).tj(t.documentBounds,t.initialDocumentSpot);var a=t.viewportBounds;a=te.allocAt(0,0,a.width,a.height);var h=rt.alloc();h.tj(a,t.initialViewportSpot),h.h(o.x-h.x,o.y-h.y),t.position=h,te.free(a),rt.free(h),rt.free(o)}t.Sb=!0,o=t.Og,e&&t.Yf!==Gs&&(o=t.Yf),a=o!==Gs?gh(t,o):t.scale,o=t.viewportBounds.copy(),h=t.va/a;var c=t.ua/a,g=t.Dj,_=t.to;e&&!g.kb()&&(_.kb()||_.Mb())&&(g=_.Mb()?Hi:_),Df(t,t.documentBounds,h,c,g,e),e=t.scale,t.scale=a,t.Sb=!1,(a=t.viewportBounds).Qa(o)||t.onViewportBoundsChanged(o,a,e,!1),hu(t),jh(t,!0,!1)}}function gh(t,e){var o=t.Qn;if(null===t.ya)return o;t.Ta();var a=t.documentBounds;if(!a.o())return o;var h=a.width,c=t.va+(t.Ye?t.rb:0),g=t.ua+(t.pe?t.rb:0),_=c/h,k=g/(a=a.height);return e===Wu?((e=Math.min(k,_))>o&&(e=o),e<t.minScale&&(e=t.minScale),e>t.maxScale&&(e=t.maxScale),e):e===zm?((e=k>_?(g-t.rb)/a:(c-t.rb)/h)>o&&(e=o),e<t.minScale&&(e=t.minScale),e>t.maxScale&&(e=t.maxScale),e):t.scale}function Df(t,e,o,a,h,c){var g=rt.allocAt(t.la.x,t.la.y),_=g.x,k=g.y;if(null!==t.ao){var P=rt.alloc();_=(P=t.ao.da(gr,P)).x-t.bo.x/t.scale,k=P.y-t.bo.y/t.scale,h=mn,rt.free(P)}(c||t.scrollMode===yh)&&(h.kb()&&(o>e.width&&(_=e.x+(h.x*e.width+h.offsetX)-(h.x*o-h.offsetX)),a>e.height&&(k=e.y+(h.y*e.height+h.offsetY)-(h.y*a-h.offsetY))),c=o-e.width,o<e.width+(h=t.Si).left+h.right?(_=Math.min(_+o/2,e.right+Math.max(c,h.right)-o/2),_=Math.max(_,e.left-Math.max(c,h.left)+o/2),_-=o/2):_>e.left?_=e.left:_<e.right-o&&(_=e.right-o),o=a-e.height,a<e.height+h.top+h.bottom?(k=Math.min(k+a/2,e.bottom+Math.max(o,h.bottom)-a/2),k=Math.max(k,e.top-Math.max(o,h.top)+a/2),k-=a/2):k>e.top?k=e.top:k<e.bottom-a&&(k=e.bottom-a)),g.x=isFinite(_)?_:-t.ib.left,g.y=isFinite(k)?k:-t.ib.top,null!==t.positionComputation&&(e=t.positionComputation(t,g),g.x=e.x,g.y=e.y),t.Uc.sc&&wa(t.Uc,t.la,g),t.la.h(g.x,g.y),rt.free(g)}function vp(t,e,o,a){for(void 0===o&&(o=null),void 0===a&&(a=null),Qs(t),t=t.Ma.iteratorBackwards;t.next();){var h=t.value;if(h.visible&&!h.isTemporary&&null!==(h=h.Vb(e,o,a)))return h}return null}function vh(t,e,o){var a=t.od;return t.od=t.hh,t.hh=a,a.diagram=t,a.event=e,o?Uu(t,e,a):(a.viewPoint=t.od.viewPoint,a.documentPoint=t.od.documentPoint),t=0,e.ctrlKey&&(t+=1),e.altKey&&(t+=2),e.shiftKey&&(t+=4),e.metaKey&&(t+=8),a.modifiers=t,a.button=e.button,void 0===e.buttons||C||(a.buttons=e.buttons),Z&&0===e.button&&e.ctrlKey&&(a.button=2),a.down=!1,a.up=!1,a.clickCount=1,a.delta=0,a.handled=!1,a.bubbles=!1,a.timestamp=e.timeStamp,a.isMultiTouch=!1,a.targetDiagram=md(e),a.targetObject=null,a}function md(t){var e=t.target.B;if(!e){var o=t.path;o||"function"!=typeof t.composedPath||(o=t.composedPath()),o&&o[0]&&(e=o[0].B)}return e||null}function yp(t,e,o,a){var h=D0(t,e,!0,!1,!0,a);return Uu(t,o,h),h.targetDiagram=md(e),h.targetObject=null,a||h.clone(t.Wf),h}function bv(t,e,o,a){if(a=D0(t,e,!1,!1,!1,a),null!==o){var h=V.document.elementFromPoint(o.clientX,o.clientY);null!==h&&null!=h.shadowRoot&&(h=h.shadowRoot.elementFromPoint(o.clientX,o.clientY)),h&&h.B?(e=o,o=h.B):(e=void 0!==e.targetTouches?e.targetTouches[0]:e,o=t),a.targetDiagram=o,Uu(t,e,a)}else null!==t.od?(a.documentPoint=t.od.documentPoint,a.viewPoint=t.od.viewPoint,a.targetDiagram=t.od.targetDiagram):null!==t.Wf&&(a.documentPoint=t.Wf.documentPoint,a.viewPoint=t.Wf.viewPoint,a.targetDiagram=t.Wf.targetDiagram);return a.targetObject=null,a}function D0(t,e,o,a,h,c){var g=t.od;t.od=t.hh,t.hh=g,g.diagram=t,g.clickCount=1;var _=g.delta=0;return e.ctrlKey&&(_+=1),e.altKey&&(_+=2),e.shiftKey&&(_+=4),e.metaKey&&(_+=8),g.modifiers=_,g.button=0,g.buttons=1,g.event=e,g.timestamp=e.timeStamp,t.zj&&e instanceof V.PointerEvent&&"touch"!==e.pointerType&&(g.button=e.button,void 0===e.buttons||C||(g.buttons=e.buttons),Z&&0===e.button&&e.ctrlKey&&(g.button=2)),g.down=o,g.up=a,g.handled=!1,g.bubbles=h,g.isMultiTouch=c,g}function ml(t,e){return!!t.bubbles||(void 0!==e.stopPropagation&&e.stopPropagation(),!1!==e.cancelable&&e.preventDefault(),e.cancelBubble=!0,!1)}function Uu(t,e,o){var a=t.ya,h=t.va,c=t.ua,g=0,_=0;null!==a&&(a=a.getBoundingClientRect(),g=e.clientX-h/a.width*a.left,_=e.clientY-c/a.height*a.top),o.viewPoint.h(g,_),null!==t.sb?(e=rt.allocAt(g,_),t.sb.Jd(e),o.documentPoint.assign(e),rt.free(e)):o.documentPoint.h(g,_)}function E0(t,e,o,a){if(void 0!==e.targetTouches){if(2>e.targetTouches.length)return;e=e.targetTouches[o]}else{if(null===t.bk[0])return;e=t.bk[o]}null!==(o=t.ya)&&(o=o.getBoundingClientRect(),a.h(e.clientX-t.va/o.width*o.left,e.clientY-t.ua/o.height*o.top))}function jh(t,e,o){t.animationManager.defaultAnimation.isAnimating||t.Sb||!t.wi||Cv(t)||(e&&Qs(t),o&&Bs(t,!1))}function Ko(t,e){if(!t.ac&&(t.Ee=!1,null!==t.Da||t.sm.o())){t.ac=!0;var o=t.animationManager,a=t.Wl;if(!o.isAnimating&&0!==a.length){for(var h=a.j,c=h.length,g=0;g<c;g++){var _=h[g];ja(_,!1),_.s()}a.clear()}0<(a=t.Tu).count&&(a.each(function(k){k.Vw()}),a.clear()),h=a=!1,o.defaultAnimation.isAnimating&&(h=!0,a=t.skipsUndoManager,t.skipsUndoManager=!0),o.sc||Pm(t),jh(t,!1,!0),null!==t.Ib&&(t.Ib.visible&&!t.po&&(_c(t),t.po=!0),!t.Ib.visible&&t.po&&(t.po=!1)),Qs(t),c=!1,(!t.qe||t.Ng)&&(t.qe?Af(t,!t.Hj):(t.xa("Initial Layout"),!1===o.isEnabled&&o.Bc(),Af(t,!1)),c=!0),t.Hj=!1,Qs(t),t.gt||function(t){t.ac||Qs(t),t.Ta()}(t),jh(t,!0,!1),g=!1,c?((o=te.alloc()).assign(t.viewportBounds),t.qe||(g=t.qe=!0,t.skipsUndoManager||(t.undoManager.isPendingClear=!0),t.undoManager.isPendingUnmodified=!0,function(t){var e=t.Aa;if(t.Yf!==Gs)t.scale=gh(t,t.Yf);else if(t.Og!==Gs)t.scale=gh(t,t.Og);else{var o=t.initialScale;isFinite(o)&&0<o&&(t.scale=o)}t.Aa!==e&&(hu(t),jh(t,!0,!1)),Bs(t,!0),t.Nd(e=t.Ma.j,e.length,t),t.R("InitialLayoutCompleted"),t.Ts.assign(t.la),_c(t)}(t)),t.R("LayoutCompleted"),o.w(t.viewportBounds)||jh(t,!0,!1),te.free(o)):o.zl&&o.Qx&&(t.Yf!==Gs?t.scale=gh(t,t.Yf):t.Og!==Gs?t.scale=gh(t,t.Og):(o=t.initialScale,isFinite(o)&&0<o&&(t.scale=o)),Bs(t,!0)),Qs(t),c&&g&&t.Xa("Initial Layout"),t.Hv(),e||t.mc(t.Gb),h&&(t.skipsUndoManager=a),t.ac=!1}}function Qs(t){if((t.ac||!t.animationManager.isTicking)&&0!==t.wd.count){for(var e=0;23>e;e++){var o=t.wd.iterator;if(null===o||0===t.wd.count)break;t.wd=new Ht,t.Vw(o,t.wd)}t.nodes.each(function(a){a instanceof hi&&0!=(65536&a.P)&&(a.P=65536^a.P)})}}function k0(t,e){for(var o=u(),a=u(),h=e.memberParts;h.next();){var c=h.value;c.isVisible()&&(c instanceof hi?(Pc(c)||nl(c)||Ue(c))&&k0(t,c):c instanceof We?c.fromNode===e||c.toNode===e?a.push(c):o.push(c):(c.measure(1/0,1/0),c.arrange()))}for(t=o.length,h=0;h<t;h++)(c=o[h]).measure(1/0,1/0),c.arrange();for(m(o),e.measure(1/0,1/0),e.arrange(),t=a.length,e=0;e<t;e++)(o=a[e]).measure(1/0,1/0),o.arrange();m(a)}function _v(t,e,o,a,h,c,g,_,k,P){if(null!==t.Da){null===t.ya&&z("No canvas specified"),void 0===g&&(g=null),void 0===_&&(_=null),void 0===k&&(k=!1),void 0===P&&(P=!1),gd(t),t.Gb.uc(!0),zh(t),t.yi=!0;var F=t.Aa;t.Aa=h;var j=t.Ma.j,ut=j.length;try{var xt=new te(c.x,c.y,a.width/h,a.height/h),pt=xt.copy();pt.uq(o),_c(t,pt),Qs(t),t.Nd(j,ut,t,xt),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,a.width,a.height),null!==_&&""!==_&&(e.fillStyle=_,e.fillRect(0,0,a.width,a.height));var Pt=t.Tb;e.scale(Pt,Pt);var Xt=vn.alloc();Xt.reset(),Xt.translate(o.left,o.top),Xt.scale(h),0===c.x&&0===c.y||Xt.translate(-c.x,-c.y),e.setTransform(Xt.m11,Xt.m12,Xt.m21,Xt.m22,Xt.dx,Xt.dy),vn.free(Xt),s1(t,e),e.globalAlpha=t.hb;var $t=t.xk("Grid");if(g){var ie=new Ht,se=g.iterator;for(se.reset();se.next();){var fe=se.value;fe instanceof Nt&&(P||fe.layer!==$t)&&ie.add(fe)}for(P=0;P<ut;P++){var we=j[P];$t=e;var ti=t;if(we.visible&&0!==we.hb&&(k||!we.isTemporary)){var Ci=we.Fa.j,ui=Ci.length;if(0!==ui){var Bi=Hu(we,$t),mi=we.rp;mi.length=0;var ei=ti.scale,kn=te.alloc();for(o=0;o<ui;o++){var un=Ci[o];ie.contains(un)&&we.dj($t,un,ti,mi,ei,kn,!1)}te.free(kn),$t.globalAlpha=Bi}}}}else for(ie=0;ie<ut;ie++)(ti=j[ie])===$t?P&&ti.mc(e,t,!0):ti.mc(e,t,k);t.yi=!1,t.ui&&Gm(t.ui,t)&&t.Tr()}finally{t.Aa=F,t.Gb.uc(!0),zh(t),t.Nd(j,ut,t),_c(t)}}}function s1(t,e){null!==(t=t.hf)&&(void 0!==t.imageSmoothingEnabled&&e.Sy(!!t.imageSmoothingEnabled),null!=(t=t.defaultFont)&&(e.font=t))}function Om(t,e){var h,o=t instanceof qe,a=t instanceof Ee;for(h in e){""===h&&z("Setting properties requires non-empty property names");var c=t,g=h;if(o||a){var _=h.indexOf(".");if(0<_){var k=h.substring(0,_);o?c=t.bb(k):null==(c=t[k])&&(c=t.toolManager[k]),Ct(c)?g=h.substr(_+1):z("Unable to find object named: "+k+" in "+t.toString()+" when trying to set property: "+h)}}if("_"!==g[0]&&!M(c,g)){if(a&&"ModelChanged"===g){t.Wx(e[g]);continue}if(a&&"Changed"===g){t.Hh(e[g]);continue}if(a&&M(t.toolManager,g))c=t.toolManager;else{if(a&&e_(t,g)){t.kk(g,e[g]);continue}if(t instanceof Ii&&"Changed"===g){t.Hh(e[g]);continue}z('Trying to set undefined property "'+g+'" on object: '+c.toString())}}c[g]=e[h],"_"===g[0]&&c instanceof Oi&&c.Tx(g)}}function hu(t){!1===t.wi&&(t.wi=!0)}function zh(t){!1===t.xi&&(t.xi=!0)}function gd(t){!1!==t.El&&(t.El=!1,Mv(t,t.va,t.ua))}function Mv(t,e,o){var a=t.Tb;t.ya.resize(e*a,o*a,e,o)&&(t.Dc=!0,t.Gb.uc(!0))}function Cv(t){var e=t.ya;if(null===e||t.sm.o())return!0;var o=t.Da,a=t.va,h=t.ua,c=t.viewportBounds.copy();if(!c.o())return!0;var g=!1,_=t.Ye?t.rb:0,k=t.pe?t.rb:0,P=o.clientWidth||a+_,F=o.clientHeight||h+k;if((P!==a+_||F!==h+k)&&(t.Ye=!1,t.pe=!1,k=_=0,t.va=P,t.ua=F,g=t.El=!0),!(g||t.Ye||t.pe||t.vl||t.wl))return!0;t.wi=!1;var j=t.viewportBounds,ut=t.documentBounds,xt=0,pt=0,Pt=0,Xt=0;o=j.width;var $t=j.height,ie=t.Si;t.contentAlignment.kb()?(ut.width>o&&(xt=ie.left,pt=ie.right),ut.height>$t&&(Pt=ie.top,Xt=ie.bottom)):(xt=ie.left,pt=ie.right,Pt=ie.top,Xt=ie.bottom),ie=ut.width+xt+pt;var se=ut.height+Pt+Xt;xt=ut.x-xt;var fe=j.x;pt=ut.right+pt;var we=j.right+_;Pt=ut.y-Pt;var ti=j.y;ut=ut.bottom+Xt,j=j.bottom+k;var Ci="1px",ui="1px";if(P=ie>P/(Xt=t.scale),F=se>F/Xt,t.scrollMode===yh&&(P||F)&&(P&&t.hasHorizontalScrollbar&&t.allowHorizontalScroll&&(P=1,xt+1<fe&&(P=Math.max((fe-xt)*Xt+t.va,P)),pt>we+1&&(P=Math.max((pt-we)*Xt+t.va,P)),o+_+1<ie&&(P=Math.max((ie-o)*Xt+t.va,P)),Ci=P.toString()+"px"),F&&t.hasVerticalScrollbar&&t.allowVerticalScroll&&(P=1,Pt+1<ti&&(P=Math.max((ti-Pt)*Xt+t.ua,P)),ut>j+1&&(P=Math.max((ut-j)*Xt+t.ua,P)),$t+k+1<se&&(P=Math.max((se-$t)*Xt+t.ua,P)),ui=P.toString()+"px")),F="1px"!==ui,(P="1px"!==Ci)&&F||!P&&!F||(F&&(we-=t.rb),P&&(j-=t.rb),ie<o+_||!t.hasHorizontalScrollbar||!t.allowHorizontalScroll||(_=1,xt+1<fe&&(_=Math.max((fe-xt)*Xt+t.va,_)),pt>we+1&&(_=Math.max((pt-we)*Xt+t.va,_)),o+1<ie&&(_=Math.max((ie-o)*Xt+t.va,_)),Ci=_.toString()+"px"),_=t.ua,(P="1px"!==Ci)!==t.pe&&(_=P?t.ua-t.rb:t.ua+t.rb),se<$t+k||!t.hasVerticalScrollbar||!t.allowVerticalScroll||(k=1,Pt+1<ti&&(k=Math.max((ti-Pt)*Xt+_,k)),ut>j+1&&(k=Math.max((ut-j)*Xt+_,k)),$t+1<se&&(k=Math.max((se-$t)*Xt+_,k)),ui=k.toString()+"px"),F="1px"!==ui),t.Op&&P===t.pe&&F===t.Ye)return a===t.va&&h===t.ua||t.hd(),!1;if(P!==t.pe&&(t.ua="1px"===Ci?t.ua+t.rb:Math.max(t.ua-t.rb,1),g=!0),t.pe=P,t.Pp.style.width=Ci,F!==t.Ye&&(t.va="1px"===ui?t.va+t.rb:Math.max(t.va-t.rb,1),g=!0,t.Gl&&(k=rt.alloc(),F?(e.style.left=t.rb+"px",t.position=k.h(t.la.x+t.rb/t.scale,t.la.y)):(e.style.left="0px",t.position=k.h(t.la.x-t.rb/t.scale,t.la.y)),rt.free(k))),t.Ye=F,t.Pp.style.height=ui,t.Vs=!0,g&&(t.El=!0),k=(e=t.Ys).scrollLeft,t.hasHorizontalScrollbar&&t.allowHorizontalScroll&&(o+1<ie?k=(t.position.x-xt)*Xt:xt+1<fe?k=e.scrollWidth-e.clientWidth:pt>we+1&&(k=t.position.x*Xt)),t.Gl)switch(t.Ss){case"negative":k=-(e.scrollWidth-k-e.clientWidth);break;case"reverse":k=e.scrollWidth-k-e.clientWidth}return e.scrollLeft=k,t.hasVerticalScrollbar&&t.allowVerticalScroll&&($t+1<se?e.scrollTop=(t.position.y-Pt)*Xt:Pt+1<ti?e.scrollTop=e.scrollHeight-e.clientHeight:ut>j+1&&(e.scrollTop=t.position.y*Xt)),F=t.ua,e.style.width=(P=t.va)+(t.Ye?t.rb:0)+"px",e.style.height=F+(t.pe?t.rb:0)+"px",a===P&&h===F&&!t.animationManager.sc||(t.onViewportBoundsChanged(c,t.viewportBounds,Xt,g),!1)}function Sv(t,e,o){var a=e.layer;null!==a&&a.diagram===t&&(e.isSelected=!1,e.isHighlighted=!1,e.C(2),o&&e.uk(),0<=(o=a.Lc(-1,e,!1))&&t.Va(gn,"parts",a,e,null,o,null),null!==(t=e.layerChanged)&&t(e,a,null))}function la(t,e,o,a,h,c){if(!e.contains(o)&&(void 0===c&&(c=!1),!a||c||o.canMove()||o.canCopy()))if(void 0===h&&(h=Dv(t)),o instanceof Fe){if(e.add(o,t.Cd(h,o,o.location)),o instanceof hi&&(null!==o.placeholder||h.dragsMembers))for(c=o.memberParts;c.next();)la(t,e,c.value,a,h,h.groupsAlwaysMove);for(c=o.linksConnected;c.next();){var g=c.value;if(!e.contains(g)){var _=g.fromNode,k=g.toNode;null!==_&&e.contains(_)&&null!==k&&e.contains(k)&&la(t,e,g,a,h)}}if(h.dragsTree)for(o=o.Wv();o.next();)la(t,e,o.value,a,h)}else if(o instanceof We)for(e.add(o,t.Cd(h,o)),o=o.labelNodes;o.next();)la(t,e,o.value,a,h);else o instanceof li||e.add(o,t.Cd(h,o,o.location))}function bc(t,e,o,a,h){if(null!==e&&0!==e.count){var c=rt.alloc(),g=rt.alloc();g.assign(o),isNaN(g.x)&&(g.x=0),isNaN(g.y)&&(g.y=0),(o=t.fq)||Ef(t,e);for(var _=u(),k=u(),P=e.iterator,F=rt.alloc();P.next();){var j=P.key,ut=P.value;if(j.Nc()){var xt=Jx(t,j,e);null!==xt?_.push(new Tv(j,ut,xt)):(!h||j.canMove())&&(c.assign(xt=ut.point),t.computeMove(j,c.add(g),a,F),j.location=F,void 0===ut.shifted&&(ut.shifted=new rt),ut.shifted.assign(F.ge(xt)))}else P.key instanceof We&&k.push(P.ka)}for(rt.free(F),h=_.length,P=0;P<h;P++)c.assign((j=_[P]).info.point),void 0===j.$v.shifted&&(j.$v.shifted=new rt),j.node.location=c.add(j.$v.shifted);for(h=rt.alloc(),P=rt.alloc(),j=k.length,ut=0;ut<j;ut++){var pt=k[ut];if((xt=pt.key)instanceof We)if(xt.suspendsRouting){xt.jf=null,F=xt.fromNode;var Pt=xt.toNode;if(null!==t.draggedLink&&a.dragsLink)if(Pt=pt.value.point,null===xt.dragComputation)e.add(xt,t.Cd(a,xt,g)),ur(xt,g.x-Pt.x,g.y-Pt.y);else{pt=rt.allocAt(0,0),(F=xt.i(0))&&F.o()&&pt.assign(F);var Xt=F=rt.alloc().assign(pt).add(g);a.isGridSnapEnabled&&(a.isGridSnapRealtime||t.lastInput.up)&&a1(t,xt,F,Xt=rt.alloc(),a),F.assign(xt.dragComputation(xt,F,Xt)).ge(pt),e.add(xt,t.Cd(a,xt,F)),ur(xt,F.x-Pt.x,F.y-Pt.y),rt.free(pt),rt.free(F),Xt!==F&&rt.free(Xt)}else null!==F&&(h.assign(F.location),null!==(Xt=e.G(F))&&h.ge(Xt.point)),null!==Pt&&(P.assign(Pt.location),null!==(Xt=e.G(Pt))&&P.ge(Xt.point)),null!==F&&null!==Pt?h.Qa(P)?(F=pt.value.point,(Pt=c).assign(h),Pt.ge(F),e.add(xt,t.Cd(a,xt,h)),ur(xt,Pt.x,Pt.y)):(xt.suspendsRouting=!1,xt.Ua()):(pt=pt.value.point,e.add(xt,t.Cd(a,xt,F=null!==F?h:null!==Pt?P:g)),ur(xt,F.x-pt.x,F.y-pt.y))}else(null===xt.fromNode||null===xt.toNode)&&(F=pt.value.point,e.add(xt,t.Cd(a,xt,g)),ur(xt,g.x-F.x,g.y-F.y))}rt.free(c),rt.free(g),rt.free(h),rt.free(P),m(_),m(k),o||(Qs(t),vd(t,e))}}function Dv(t){var e=t.toolManager.findTool("Dragging");return null!==e?e.dragOptions:t.kl}function a1(t,e,o,a,h){if(void 0===h&&(h=Dv(t)),a.assign(o),null!==e){var c=t.grid;t=(e=h.gridSnapCellSize).width,e=e.height;var g=h.gridSnapOrigin,_=g.x;if(g=g.y,h=h.gridSnapCellSpot,null!==c){var k=c.gridCellSize;isNaN(t)&&(t=k.width),isNaN(e)&&(e=k.height),c=c.gridOrigin,isNaN(_)&&(_=c.x),isNaN(g)&&(g=c.y)}(c=rt.allocAt(0,0)).Uk(0,0,t,e,h),pe.Gq(o.x,o.y,_+c.x,g+c.y,t,e,a),rt.free(c)}}function Ef(t,e){if(null!==e)for(t.fq=!0,t=e.iterator;t.next();)(e=t.key)instanceof We&&(e.suspendsRouting=!0)}function vd(t,e){if(null!==e){for(e=e.iterator;e.next();){var o=e.key;o instanceof We&&(o.suspendsRouting=!1,As(o)&&o.Ua())}t.fq=!1}}function Jx(t,e,o){return null===(e=e.containingGroup)||null===(t=Jx(t,e,o))&&null===(t=o.G(e))?null:t}function A0(t,e,o){if(null!==e.diagram&&e.diagram!==t&&z("Cannot share a Layer with another Diagram: "+e+" of "+e.diagram),null===o?null!==e.diagram&&z("Cannot add an existing Layer to this Diagram again: "+e):(o.diagram!==t&&z("Existing Layer must be in this Diagram: "+o+" not in "+o.diagram),e===o&&z("Cannot move a Layer before or after itself: "+e)),e.diagram!==t){e=e.name,o=(t=t.Ma).count;for(var a=0;a<o;a++)t.J(a).name===e&&z("Cannot add Layer with the name '"+e+"'; a Layer with the same name is already present in this Diagram.")}}function yd(t,e,o){var a=t.animationManager;if(t.Sb||t.ac)t.Aa=o,a.ef&&a.Rd.add(a.B,"scale",e,t.Aa);else if(null===t.ya)t.Aa=o;else{t.Sb=!0;var h=t.viewportBounds.copy(),c=t.va,g=t.ua;h.width=t.va/e,h.height=t.ua/e;var _=t.zoomPoint.x,k=t.zoomPoint.y,P=t.contentAlignment;isNaN(_)&&(P.Oc()?P.Ef(rd)?_=0:P.Ef(_r)&&(_=c-1):_=P.kb()?P.x*(c-1):c/2),isNaN(k)&&(P.Oc()?P.Ef(wm)?k=0:P.Ef(ga)&&(k=g-1):k=P.kb()?P.y*(g-1):g/2),null===t.scaleComputation||t.animationManager.defaultAnimation.isAnimating||(o=t.scaleComputation(t,o)),o<t.minScale&&(o=t.minScale),o>t.maxScale&&(o=t.maxScale),c=rt.allocAt(t.la.x+_/e-_/o,t.la.y+k/e-k/o),t.position=c,rt.free(c),t.Aa=o,t.onViewportBoundsChanged(h,t.viewportBounds,e,!1),t.Sb=!1,Bs(t,!1),a.ef&&a.Rd.add(a.B,"scale",e,t.Aa),t.M(),hu(t)}}function _c(t,e){void 0===e&&(e=null);var o=t.Ib;if(null!==o&&o.visible){for(var a=Ge.alloc(),h=1,c=1,g=o.W.j,_=g.length,k=0;k<_;k++){var P=g[k],F=Math.abs(P.interval);2>F||(Nf(P.figure)?c=c*F/pe.uy(c,F):h=h*F/pe.uy(h,F))}if(a.h(c*(g=o.gridCellSize).width,h*g.height),null!==e)h=e.width,c=e.height,t=e.x,g=e.y;else{if((e=te.alloc()).h((t=t.viewportBounds).x,t.y,t.width,t.height),!e.o())return void te.free(e);h=e.width,c=e.height,t=e.x,g=e.y,te.free(e)}o.width=h+2*a.width,o.height=c+2*a.height,e=rt.alloc(),pe.Gq(t,g,0,0,a.width,a.height,e),e.offset(-a.width,-a.height),Ge.free(a),o.part.location=e,rt.free(e)}}function T0(t){var e=t.isModified;t.zv!==e&&(t.zv=e,t.R("Modified"))}function Ev(t,e){for(var o=(e=e.W.j).length,a=0;a<o;a++)kf(t,e[a])}function kf(t,e){if(e instanceof ta){var o=e.element;if(null!==o&&o instanceof HTMLImageElement){o.Wg instanceof Ht&&o.Wg.add(t);var a=e.Zg;if(null!==a&&!0===a.ls&&null!==e.diagram&&e.diagram.Wl.add(e),o.io)if(o=o.getAttribute("src"),null===(a=t.pg.G(o)))(a=[]).push(e),t.pg.add(o,a);else{for(t=0;t<a.length;t++)if(a[t]===e)return;a.push(e)}}}}function Nm(t,e){if(e instanceof ta){var o=e.element;if(null!==o&&o instanceof HTMLImageElement&&(o.Wg instanceof Ht&&o.Wg.remove(t),Pd(o),o.io)){o=o.getAttribute("src");var a=t.pg.G(o);if(null!==a)for(var h=0;h<a.length;h++)if(a[h]===e){a.splice(h,1),0===a.length&&(t.pg.remove(o),gu(o));break}}}}function Lm(t,e){t.vi=!1;var o=t.Rn;o.w(e)||(e=e.H(),t.Rn=e,Bs(t,!1),t.R("DocumentBoundsChanged",null,o.copy()),hu(t))}function lo(t,e){for(var o=t.Dh.iterator;o.next();)tw(t,o.value,e);null!==t.layout&&(e?t.layout.isValidLayout=!1:t.layout.C())}function tw(t,e,o){if(null!==e){for(var a=e.Sl.iterator;a.next();)tw(t,a.value,o);null!==e.layout&&(o?e.layout.isValidLayout=!1:e.layout.C())}}function Af(t,e){if(t.Ng&&!t.Nr){var o=t.Z;t.Z=!0;var a=t.undoManager.transactionLevel,h=t.layout,c=t.animationManager;try{0===a&&(t.undoManager.isInternalTransaction=!0,t.xa("Layout")),1>=a&&!c.defaultAnimation.isAnimating&&!c.sc&&(e||ao(c,"Layout")),t.Ng=!1;for(var g=t.Dh.iterator;g.next();)xp(t,g.value,e,a);h.isValidLayout||(!e||h.isRealtime||null===h.isRealtime||0===a?(h.doLayout(t),Qs(t),h.isValidLayout=!0):t.Ng=!0)}finally{e=t.undoManager.isInternalTransaction,0===a&&(t.Xa("Layout"),t.undoManager.isInternalTransaction=!1),!e||0!==a&&1!==a||Rn(c),t.Z=o}}}function xp(t,e,o,a){if(null!==e){for(var h=e.Sl.iterator;h.next();)xp(t,h.value,o,a);null===(h=e.layout)||h.isValidLayout||(!o||h.isRealtime||0===a?(e.Rh=!e.location.o(),h.doLayout(e),e.C(32),k0(t,e),h.isValidLayout=!0):t.Ng=!0)}}function Fm(t){function e(h){var c=h.toLowerCase(),g=new Lt;o.add(h,g),o.add(c,g),a.add(h,h),a.add(c,h)}var o=new gt,a=new gt;e("InitialAnimationStarting"),e("AnimationStarting"),e("AnimationFinished"),e("BackgroundSingleClicked"),e("BackgroundDoubleClicked"),e("BackgroundContextClicked"),e("ClipboardChanged"),e("ClipboardPasted"),e("DocumentBoundsChanged"),e("ExternalObjectsDropped"),e("GainedFocus"),e("InitialLayoutCompleted"),e("LayoutCompleted"),e("LinkDrawn"),e("LinkRelinked"),e("LinkReshaped"),e("LostFocus"),e("Modified"),e("ObjectSingleClicked"),e("ObjectDoubleClicked"),e("ObjectContextClicked"),e("PartCreated"),e("PartResized"),e("PartRotated"),e("SelectionMoved"),e("SelectionCopied"),e("SelectionDeleting"),e("SelectionDeleted"),e("SelectionGrouped"),e("SelectionUngrouped"),e("ChangingSelection"),e("ChangedSelection"),e("SubGraphCollapsed"),e("SubGraphExpanded"),e("TextEdited"),e("TreeCollapsed"),e("TreeExpanded"),e("ViewportBoundsChanged"),e("InvalidateDraw"),t.Qr=o,t.Pr=a}function e_(t,e){var o=t.Pr.G(e);return null!==o?o:t.Pr.G(e.toLowerCase())}function wp(t,e){var o=t.Qr.G(e);if(null!==o||null!==(o=t.Qr.G(e.toLowerCase())))return o;z("Unknown DiagramEvent name: "+e)}function kv(t){if(t.animationManager.isTicking)return!1;var e=t.currentTool;return e!==t.toolManager.findTool("Dragging")||!t.fq||e.isComplexRoutingRealtime}function P0(t,e,o,a){if(null===t.Gc&&(t.Gc=new Qv),t.Gc.Rt||t.Gc.group!==o||t.Gc.Vy!==a){if(null!==o&&(o=Bm(t,o)),null===o){(e=t.computeOccupiedArea()).Jc(100,100),t.Gc.initialize(e),e=te.alloc();for(var h=t.nodes;h.next();){var c=h.value,g=c.layer;null!==g&&g.visible&&!g.isTemporary&&Us(t,c,a,e)}te.free(e)}else{for(0<o.memberParts.count&&((e=t.computePartsBounds(o.memberParts,!1)).Jc(20,20),t.Gc.initialize(e)),e=te.alloc(),h=o.memberParts;h.next();)(c=h.value)instanceof Fe&&Us(t,c,a,e);te.free(e)}t.Gc.group=o,t.Gc.Vy=a,t.Gc.Rt=!1}else e&&AD(t.Gc);return t.Gc}function Bm(t,e){return e.avoidable&&!e.isLinkLabel?e:null!==e.containingGroup?Bm(t,e.containingGroup):null}function Us(t,e,o,a){if(e!==o&&e.isVisible())if(e.avoidable&&!e.isLinkLabel){var h=(e=e.getAvoidableRect(a)).x,c=e.y;if(A1(t=t.Gc,h,c))for(o=(c-t.Bd)/t.gc|0,a=Math.min((h+e.width-t.Ad)/t.fc|0,t.Zi),e=Math.min((c+e.height-t.Bd)/t.gc|0,t.$i),h=(h-t.Ad)/t.fc|0;h<=a;h++)if((c=t.Rb[h]).fill)c.fill(Od,o,e+1);else for(var g=o;g<=e;g++)c[g]=Od}else if(e instanceof hi)for(e=e.memberParts;e.next();)(h=e.value)instanceof Fe&&Us(t,h,o,a)}function bp(t,e){null!==t.Gc&&!t.Gc.Rt&&(void 0===e&&(e=null),null===e||e.avoidable&&!e.isLinkLabel)&&(t.Gc.Rt=!0)}function I0(t){-1===t.Bj&&(t.Bj=G(function(){if(-1!==t.Bj&&(t.Jf(),null!==t.lastInput.event)){var e=t.computeAutoScrollPosition(t.rn);e.Qa(t.position)||(t.position=e,t.lastInput.documentPoint=t.ou(t.rn),t.doMouseMove(),t.vi=!0,Lm(t,t.documentBounds.copy().Rc(t.computeBounds())),t.Dc=!0,t.hd(),I0(t))}},t.qn))}function Mc(t,e,o){function a(){var F=+new Date;for(c=!0,g.reset();g.next();)if(!g.value[0].Ol){c=!1;break}c||F-P>k?e(o,h,_):V.requestAnimationFrame(a)}for(var h=o.callback,c=!0,g=t.pg.iterator;g.next();)if(!g.value[0].Ol){c=!1;break}if("function"!=typeof h||c)return e(o,h,t);var _=t,k=o.callbackTimeout||300,P=+new Date;return V.requestAnimationFrame(function(){a()}),null}function Vm(t,e,o,a){if(t.animationManager.Bc(),t.hd(),null===t.ya)return null;"object"!=typeof e&&z("properties argument must be an Object.");var h=e.size||null,c=e.scale||null;void 0!==e.scale&&isNaN(e.scale)&&(c="NaN");var g=e.maxSize;void 0===e.maxSize&&(g="SVG"===o?new Ge(1/0,1/0):new Ge(2e3,2e3));var _=e.position||null,k=e.parts||null,P=void 0===e.padding?1:e.padding,F=e.background||null,j=e.omitTemporary;void 0===j&&(j=!0);var ut=e.document||document,xt=e.elementFinished||null,pt=e.showTemporary;void 0===pt&&(pt=!j),void 0===(e=e.showGrid)&&(e=pt),null!==h&&isNaN(h.width)&&isNaN(h.height)&&(h=null),"number"==typeof P?P=new hn(P):P instanceof hn||z("MakeImage padding must be a Margin or a number."),P.left=Math.max(P.left,0),P.right=Math.max(P.right,0),P.top=Math.max(P.top,0),P.bottom=Math.max(P.bottom,0),t.Gb.uc(!0);var Pt=(j=new Ma(null,ut)).context;if(!(h||c||k||_))return j.width=t.va+Math.ceil(P.left+P.right),j.height=t.ua+Math.ceil(P.top+P.bottom),"SVG"===o?null===a?null:(a.resize(j.width,j.height,j.width,j.height),a.ownerDocument=ut,a.Dq=xt,_v(t,a.context,P,new Ge(j.width,j.height),t.Aa,t.la,k,F,pt,e),a.context):(t.rl=!1,_v(t,Pt,P,new Ge(j.width,j.height),t.Aa,t.la,k,F,pt,e),t.rl=!0,j.context);var Xt=t.Qn,$t=t.documentBounds.copy();if($t.Jw(t.ib),pt)for(var ie=t.Ma.j,se=ie.length,fe=0;fe<se;fe++){var we=ie[fe];if(we.visible&&we.isTemporary)for(var ti=(we=we.Fa.j).length,Ci=0;Ci<ti;Ci++){var ui=we[Ci];ui.isInDocumentBounds&&ui.isVisible()&&(ui=ui.actualBounds).o()&&$t.Rc(ui)}}if(ie=new rt($t.x,$t.y),null!==k){for(se=!0,(fe=k.iterator).reset();fe.next();)if((we=fe.value)instanceof Nt&&(null===(ti=we.layer)||ti.visible)&&(null===ti||pt||!ti.isTemporary)&&we.isVisible()&&(we=we.actualBounds).o())if(se){se=!1;var Bi=we.copy()}else Bi.Rc(we);se&&(Bi=new te(0,0,0,0)),$t.width=Bi.width,$t.height=Bi.height,ie.x=Bi.x,ie.y=Bi.y}return null!==_&&_.o()&&(ie=_,c||(c=Xt)),Bi=_=0,null!==P&&(_=P.left+P.right,Bi=P.top+P.bottom),se=fe=0,null!==h&&(fe=h.width,se=h.height,isFinite(fe)&&(fe=Math.max(0,fe-_)),isFinite(se)&&(se=Math.max(0,se-Bi))),null!==h&&null!==c?("NaN"===c&&(c=Xt),h.o()?(h=fe,$t=se):isNaN(se)?(h=fe,$t=$t.height*c):(h=$t.width*c,$t=se)):null!==h?h.o()?(c=Math.min(fe/$t.width,se/$t.height),h=fe,$t=se):isNaN(se)?(h=fe,$t=$t.height*(c=fe/$t.width)):(h=$t.width*(c=se/$t.height),$t=se):null!==c?"NaN"===c&&g.o()?(c=Math.min((g.width-_)/$t.width,(g.height-Bi)/$t.height))>Xt?(c=Xt,h=$t.width,$t=$t.height):(h=g.width,$t=g.height):(h=$t.width*c,$t=$t.height*c):(c=Xt,h=$t.width,$t=$t.height),null!==P?(h+=_,$t+=Bi):P=new hn(0),null!==g&&(Xt=g.width,g=g.height,isNaN(Xt)&&(Xt=2e3),isNaN(g)&&(g=2e3),isFinite(Xt)&&(h=Math.min(h,Xt)),isFinite(g)&&($t=Math.min($t,g))),j.width=Math.ceil(h),j.height=Math.ceil($t),"SVG"===o?null===a?null:(a.resize(j.width,j.height,j.width,j.height),a.ownerDocument=ut,a.Dq=xt,_v(t,a.context,P,new Ge(Math.ceil(h),Math.ceil($t)),c,ie,k,F,pt,e),a.context):(t.rl=!1,_v(t,Pt,P,new Ge(Math.ceil(h),Math.ceil($t)),c,ie,k,F,pt,e),t.rl=!0,j.context)}Va.className="AnimationTrigger",Va.Default=Vr,Va.Immediate=qo,Va.Bundled=Js,(st=ks.prototype).clear=function(){this.Fa.clear(),this.rp.length=0},st.ee=function(t){this.B=t},st.toString=function(t){void 0===t&&(t=0);var e='Layer "'+this.name+'"';if(0>=t)return e;for(var o=0,a=0,h=0,c=0,g=0,_=this.Fa.iterator;_.next();){var k=_.value;k instanceof hi?h++:k instanceof Fe?a++:k instanceof We?c++:k instanceof li?g++:o++}if(_="",0<o&&(_+=o+" Parts "),0<a&&(_+=a+" Nodes "),0<h&&(_+=h+" Groups "),0<c&&(_+=c+" Links "),0<g&&(_+=g+" Adornments "),1<t)for(t=this.Fa.iterator;t.next();)_+="\n    "+(o=t.value).toString(),null!==(a=o.data)&&be(a)&&(_+=" #"+be(a)),o instanceof Fe?_+=" "+v(a):o instanceof We&&(_+=" "+v(o.fromNode)+" "+v(o.toNode));return e+" "+this.Fa.count+": "+_},st.Vb=function(t,e,o){if(void 0===e&&(e=null),void 0===o&&(o=null),!1===this.Pi)return null;var a=!1;null!==this.diagram&&this.diagram.viewportBounds.$(t)&&(a=!0);for(var h=rt.alloc(),c=this.Fa.j,g=c.length;g--;){var _=c[g];if((!0!==a||!1!==Be(_))&&_.isVisible()&&(h.assign(t),ve(h,_.Fd),null!==(_=_.Vb(h,e,o))&&(null!==e&&(_=e(_)),null!==_&&(null===o||o(_)))))return rt.free(h),_}return rt.free(h),null},st.hj=function(t,e,o,a){if(void 0===e&&(e=null),void 0===o&&(o=null),a instanceof Lt||a instanceof Ht||(a=new Ht),!1===this.Pi)return a;var h=!1;null!==this.diagram&&this.diagram.viewportBounds.$(t)&&(h=!0);for(var c=rt.alloc(),g=this.Fa.j,_=g.length;_--;){var k=g[_];if((!0!==h||!1!==Be(k))&&k.isVisible()){c.assign(t),ve(c,k.Fd);var P=k;k.hj(c,e,o,a)&&(null!==e&&(P=e(P)),null===P||null!==o&&!o(P)||a.add(P))}}return rt.free(c),a},st.zf=function(t,e,o,a,h){if(void 0===e&&(e=null),void 0===o&&(o=null),void 0===a&&(a=!1),h instanceof Lt||h instanceof Ht||(h=new Ht),!1===this.Pi)return h;var c=!1;null!==this.diagram&&this.diagram.viewportBounds.Ge(t)&&(c=!0);for(var g=this.Fa.j,_=g.length;_--;){var k=g[_];if((!0!==c||!1!==Be(k))&&k.isVisible()){var P=k;k.zf(t,e,o,a,h)&&(null!==e&&(P=e(P)),null===P||null!==o&&!o(P)||h.add(P))}}return h},st.Vv=function(t,e,o,a,h,c,g){if(!1===this.Pi)return h;for(var _=this.Fa.j,k=_.length;k--;){var P=_[k];if((!0!==g||!1!==Be(P))&&c(P)&&P.isVisible()){var F=P;P.zf(t,e,o,a,h)&&(null!==e&&(F=e(F)),null===F||null!==o&&!o(F)||h.add(F))}}return h},st.Eg=function(t,e,o,a,h,c){if(void 0===o&&(o=null),void 0===a&&(a=null),void 0===h&&(h=!0),!1!==h&&!0!==h&&((h instanceof Lt||h instanceof Ht)&&(c=h),h=!0),c instanceof Lt||c instanceof Ht||(c=new Ht),!1===this.Pi)return c;var g=!1;null!==this.diagram&&this.diagram.viewportBounds.$(t)&&(g=!0);for(var _=rt.alloc(),k=rt.alloc(),P=this.Fa.j,F=P.length;F--;){var j=P[F];if((!0!==g||!1!==Be(j))&&j.isVisible()){_.assign(t),ve(_,j.Fd),k.h(t.x+e,t.y),ve(k,j.Fd);var ut=j;j.Eg(_,k,o,a,h,c)&&(null!==o&&(ut=o(ut)),null===ut||null!==a&&!a(ut)||c.add(ut))}}return rt.free(_),rt.free(k),c},st.Nd=function(t,e){if(this.visible){var o=this.Fa.j,a=o.length;if(0!==a){t=u();for(var h=u(),c=0;c<a;c++){var g=o[c];if(g.zx=c,g instanceof We){if(!1===g.ud)continue}else if(g instanceof li&&null!==g.adornedPart)continue;si(g.actualBounds,e)?(g.Nd(!0),t.push(g)):(g.Nd(!1),null!==g.adornments&&0<g.adornments.count&&h.push(g))}for(e=0;e<t.length;e++)for(Jt(o=t[e]),o=o.adornments;o.next();)(a=o.value).measure(1/0,1/0),a.arrange(),a.Nd(!0);for(e=0;e<h.length;e++)Jt(h[e]);m(t),m(h)}}},st.mc=function(t,e,o){if(this.visible&&0!==this.hb&&(void 0===o&&(o=!0),o||!this.isTemporary)){var a=(o=this.Fa.j).length;if(0!==a){var h=Hu(this,t),c=this.rp;c.length=0;for(var g=e.scale,_=te.alloc(),k=0;k<a;k++)this.dj(t,o[k],e,c,g,_,!0);te.free(_),t.globalAlpha=h}}},st.dj=function(t,e,o,a,h,c,g){if(!g||Be(e)){if(null!==a&&e instanceof We&&(e.isOrthogonal&&a.push(e),!1===e.ud))return;for(g=!1,a=e.containingGroup;null!==a;)g?null!==a.Za&&c.Dy(a.Za):null!==a.Za&&(g=!0,c.assign(a.Za)),a=a.containingGroup;var _=e.actualBounds;if(a=!1,g&&e.isVisible()){if(!c.Mc(_))return;a=!c.Ge(_)}a&&(t.save(),t.beginPath(),t.rect(c.x,c.y,c.width,c.height),t.clip()),_.width*h>o.Xo||_.height*h>o.Xo?e.mc(t,o):(c=e.naturalBounds,0===(h=e.actualBounds).width||0===h.height||isNaN(h.x)||isNaN(h.y)||!e.isVisible()||(o=e.transform,null!==e.areaBackground&&(_a(e,t,e.areaBackground,!0,!0,c,h),t.fillRect(h.x,h.y,h.width,h.height)),null===e.areaBackground&&null===e.background&&(_a(e,t,"rgba(0,0,0,0.3)",!0,!1,c,h),t.fillRect(h.x,h.y,h.width,h.height)),null!==e.background&&(t.transform(o.m11,o.m12,o.m21,o.m22,o.dx,o.dy),_a(e,t,e.background,!0,!1,c,h),t.fillRect(0,0,c.width/2,c.height/2),o.Tt()||t.transform(o.m22*(e=1/(o.m11*o.m22-o.m12*o.m21)),-o.m12*e,-o.m21*e,o.m11*e,e*(o.m21*o.dy-o.m22*o.dx),e*(o.m12*o.dx-o.m11*o.dy))))),a&&(t.restore(),t.uc(!0))}},st.g=function(t,e,o,a,h){var c=this.diagram;null!==c&&c.Va(Ar,t,this,e,o,a,h)},st.oj=function(t,e,o){var a=this.Fa;if(e.Fi=this,t>=a.count)t=a.count;else if(a.J(t)===e)return-1;return a.wb(t,e),e.Mq(o),null!==(a=this.diagram)&&(o?a.M():a.oj(e)),Fh(this,t,e),t},st.Lc=function(t,e,o){if(!o&&e.layer!==this&&null!==e.layer)return e.layer.Lc(t,e,o);var a=this.Fa;if(0>t||t>=a.length){if(0>(t=a.indexOf(e)))return-1}else if(a.J(t)!==e&&0>(t=a.indexOf(e)))return-1;return e.Nq(o),a.cb(t),null!==(a=this.diagram)&&(o?a.M():a.Lc(e)),e.Fi=null,t},X.Object.defineProperties(ks.prototype,{parts:{get:function(){return this.Fa.iterator}},partsBackwards:{get:function(){return this.Fa.iteratorBackwards}},diagram:{get:function(){return this.B}},name:{get:function(){return this.oa},set:function(t){var e=this.oa;if(e!==t){var o=this.diagram;if(null!==o)for(""===e&&z("Cannot rename default Layer to: "+t),o=o.layers;o.next();)o.value.name===t&&z("Layer.name is already present in this diagram: "+t);for(this.oa=t,this.g("name",e,t),t=this.Fa.iterator;t.next();)t.value.layerName=this.oa}}},opacity:{get:function(){return this.hb},set:function(t){var e=this.hb;e!==t&&((0>t||1<t)&&Q(t,"0 <= value <= 1",ks,"opacity"),this.hb=t,this.g("opacity",e,t),null!==(t=this.diagram)&&t.M())}},isTemporary:{get:function(){return this.u},set:function(t){var e=this.u;e!==t&&(this.u=t,this.isInDocumentBounds=!1,this.g("isTemporary",e,t))}},visible:{get:function(){return this.I},set:function(t){var e=this.I;if(e!==t){for(this.I=t,this.g("visible",e,t),e=this.Fa.iterator;e.next();)e.value.Ob(t);null!==(t=this.diagram)&&t.M()}}},pickable:{get:function(){return this.Pi},set:function(t){var e=this.Pi;e!==t&&(this.Pi=t,this.g("pickable",e,t))}},isInDocumentBounds:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t,null!==this.diagram&&this.diagram.Na())}},allowCopy:{get:function(){return this.$h},set:function(t){var e=this.$h;e!==t&&(this.$h=t,this.g("allowCopy",e,t))}},allowDelete:{get:function(){return this.ai},set:function(t){var e=this.ai;e!==t&&(this.ai=t,this.g("allowDelete",e,t))}},allowTextEdit:{get:function(){return this.ji},set:function(t){var e=this.ji;e!==t&&(this.ji=t,this.g("allowTextEdit",e,t))}},allowGroup:{get:function(){return this.bi},set:function(t){var e=this.bi;e!==t&&(this.bi=t,this.g("allowGroup",e,t))}},allowUngroup:{get:function(){return this.ki},set:function(t){var e=this.ki;e!==t&&(this.ki=t,this.g("allowUngroup",e,t))}},allowLink:{get:function(){return this.ci},set:function(t){var e=this.ci;e!==t&&(this.ci=t,this.g("allowLink",e,t))}},allowRelink:{get:function(){return this.ei},set:function(t){var e=this.ei;e!==t&&(this.ei=t,this.g("allowRelink",e,t))}},allowMove:{get:function(){return this.di},set:function(t){var e=this.di;e!==t&&(this.di=t,this.g("allowMove",e,t))}},allowReshape:{get:function(){return this.fi},set:function(t){var e=this.fi;e!==t&&(this.fi=t,this.g("allowReshape",e,t))}},allowResize:{get:function(){return this.gi},set:function(t){var e=this.gi;e!==t&&(this.gi=t,this.g("allowResize",e,t))}},allowRotate:{get:function(){return this.hi},set:function(t){var e=this.hi;e!==t&&(this.hi=t,this.g("allowRotate",e,t))}},allowSelect:{get:function(){return this.ii},set:function(t){var e=this.ii;e!==t&&(this.ii=t,this.g("allowSelect",e,t))}}}),ks.prototype.findObjectsNear=ks.prototype.Eg,ks.prototype.findObjectsIn=ks.prototype.zf,ks.prototype.findObjectsAt=ks.prototype.hj,ks.prototype.findObjectAt=ks.prototype.Vb,ks.className="Layer",Ee.prototype.clear=function(){this.animationManager.Bc(),this.model.clear(),Gu=null,ba="",Qb(this,!1),this.Wl.clear(),gu(),this.pg.clear(),this.Na(),this.Ta(),this.M()},Ee.prototype.reset=function(){this.clear(),this.Sb=!0,this.Uc=new Hs,this.Uc.ee(this),this.rb=17,this.Gl=this.pv=!1,this.Ss="default",this.Ma=new Lt,this.Kx=new gt,this.hf=null,this.xw(),this.Nj=null,this.ww(),this.hb=1,this.la=new rt(NaN,NaN).freeze(),this.Ts=new rt(NaN,NaN),this.Qn=this.Aa=1,this.es=new rt(NaN,NaN).freeze(),this.fs=NaN,this.xs=1e-4,this.vs=100,this.sb=new vn,this.xt=new rt(NaN,NaN).freeze(),this.Zr=new te(NaN,NaN,NaN,NaN).freeze(),this.Si=new hn(0,0,0,0).freeze(),this.Ti=yh,this.at=!1,this.Us=this.Ns=null,this.Og=Gs,this.Dj=zs,this.Yf=Gs,this.to=zs,this.gs=this.ds=gr,this.Dc=!0,this.El=!1,this.wd=new Ht,this.Vg=new gt,this.rl=!0,this.qn=250,this.Bj=-1,this.sn=new hn(16,16,16,16).freeze(),this.Hj=this.Ee=!1,this.Kj=!0,this.Wf=new Rs,this.Wf.diagram=this,this.od=new Rs,this.od.diagram=this,this.hh=new Rs,this.hh.diagram=this,this.we=this.Of=null,this.hk=!1,this.Pr=this.Qr=null,this.zj=V.PointerEvent&&(p||T||it)&&V.navigator&&!1!==V.navigator.msPointerEnabled,Fm(this),this.Dh=new Ht,this.qs=!0,this.rt=mo,this.Uu=!1,this.tt=O0,this.Jr=this.Mr=this.pt=null,this.Pn=this.Hr="auto",this.gg=this.As=this.ig=this.jg=this.lg=this.Qf=this.Uf=this.Pf=null,this.cs=!1,this.Rf=this.wg=this.kg=this.hg=null,this.Bs=!1,this.Ls={},this.bk=[null,null],this.Br=null,this.Nr=this.gt=this.rv=this.vg=!1,this.av=!0,this.yi=this.ac=!1,this.zv=!0,this.Xd=-2,this.pg=new gt,this.Wl=new Lt,this.$f=!1,this.ai=this.$h=this.nr=this.md=!0,this.pr=!1,this.vr=this.tr=this.ii=this.hi=this.gi=this.fi=this.di=this.ei=this.ci=this.sr=this.ki=this.bi=this.ji=this.qr=!0,this.Zf=this.Xu=!1,this.ur=this.rr=this.wl=this.vl=!0,this.$s=this.Ws=16,this.Vs=this.Op=!1,this.Xs=this.Zs=0,this.ib=new hn(5).freeze(),this.qv=(new Ht).freeze(),this.ws=999999999,this.Su=(new Ht).freeze(),this.xi=this.wi=this.vi=!0,this.Ye=this.pe=!1,this.kc=null,this.Ng=!0,this.qe=!1,this.Ax=new Ht,this.Tu=new Ht,this.Gc=null,this.Vl=1,this.sv=0,this.Ic={scale:1,position:new rt,bounds:new te,Gv:new Ge,kw:new Ge,hw:!1},this.Rx=new te(NaN,NaN,NaN,NaN).freeze(),this.sm=new Ge(NaN,NaN).freeze(),this.Rn=new te(NaN,NaN,NaN,NaN).freeze(),this.rs=!1,this.Lo=this.qo=this.kp=this.Fu=this.Eu=this.Gu=this.bg=this.fh=this.df=null,gp(this),this.Ib=null,this.po=!1,this.Ej=null,this.partManager=new Yn,this.toolManager=new $r,this.toolManager.initializeStandardTools(),this.currentTool=this.defaultTool=this.toolManager,this.Sr=null,this.kl=new F0,this.Gs=this.Fs=null,this.fq=!1,this.commandHandler=C0(),this.vg=!0,pd(this),this.layout=new Hn,this.vg=!1,this.model=Tw(),this.model.undoManager=new oo,this.qe=!1,this.Kj=!0,this.Ee=!1,this.Tb=1,this.yh=null,this.Xo=1,this.cp=0,this.hv=[0,0,0,0,0],this.ep=0,this.xd=1,this.Sj=0,this.Go=new rt,this.qt=500,this.rn=new rt,this.gq=this.wo=this.re=!1,this.ao=null,this.bo=Ln,this.Sb=!1,this.M()},Ee.prototype.setRTL=function(t){null===(t=void 0===t?this.div:t)&&(t=V.document.body);var e=J("div");e.dir="rtl",e.style.cssText="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll;",e.textContent="A",t.appendChild(e);var o="reverse";0<e.scrollLeft?o="default":(e.scrollLeft=1,0===e.scrollLeft&&(o="negative")),t.removeChild(e),this.Ss=o},Ee.prototype.setScrollWidth=function(t){null===(t=void 0===t?this.div:t)&&(t=V.document.body);var e=0;if(gl){var o=Cc;e=l1,null===o&&((o=Cc=J("p")).style.width="100%",o.style.height="200px",o.style.boxSizing="content-box",(e=l1=J("div")).style.position="absolute",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.boxSizing="content-box",e.appendChild(o)),e.style.overflow="hidden",t.appendChild(e);var a=o.offsetWidth;e.style.overflow="scroll",a===(o=o.offsetWidth)&&(o=e.clientWidth),t.removeChild(e),0!=(e=a-o)||W||(e=11)}this.rb=e,this.pv=!0},Ee.prototype.jb=function(t){t.classType===Ee&&(this.autoScale=t)},Ee.prototype.toString=function(t){void 0===t&&(t=0);var e="";if(this.div&&this.div.id&&(e=this.div.id),e='Diagram "'+e+'"',0>=t)return e;for(var o=this.Ma.iterator;o.next();)e+="\n  "+o.value.toString(t-1);return e},Ee.prototype.addEventListener=function(t,e,o,a){t.addEventListener(e,o,{capture:a,passive:!1})},Ee.prototype.removeEventListener=function(t,e,o,a){t.removeEventListener(e,o,{capture:a})},Ee.prototype.computePixelRatio=function(){return null!==this.yh?this.yh:V.devicePixelRatio||1},Ee.prototype.doMouseMove=function(){this.currentTool.doMouseMove()},Ee.prototype.doMouseDown=function(){this.currentTool.doMouseDown()},Ee.prototype.doMouseUp=function(){this.currentTool.doMouseUp()},Ee.prototype.doMouseWheel=function(){this.currentTool.doMouseWheel()},Ee.prototype.doKeyDown=function(){this.currentTool.doKeyDown()},Ee.prototype.doKeyUp=function(){this.currentTool.doKeyUp()},Ee.prototype.doFocus=function(){this.focus()},Ee.prototype.focus=function(){if(this.ya)if(this.scrollsPageOnFocus)this.ya.focus();else{var t=V.scrollX||V.pageXOffset,e=V.scrollY||V.pageYOffset;this.ya.focus(),V.scrollTo(t,e)}},Ee.prototype.Bz=function(){this.B.R("GainedFocus")},Ee.prototype.Az=function(){this.B.R("LostFocus")},Ee.prototype.iy=function(t){if(null!==this.ya){this.Op=!0;var e=this.documentBounds,o=this.viewportBounds,a=this.Si,h=e.x-a.left,c=e.y-a.top,g=e.width+a.left+a.right,_=e.height+a.top+a.bottom,k=e.right+a.right;a=e.bottom+a.bottom;var P=o.x;e=o.y;var F=o.width,j=o.height,ut=o.right,xt=o.bottom;o=this.scale;var pt=t.scrollLeft;if(this.Gl)switch(this.Ss){case"negative":pt=pt+t.scrollWidth-t.clientWidth;break;case"reverse":pt=t.scrollWidth-pt-t.clientWidth}var Pt=pt;F<g||j<_?(pt=rt.allocAt(this.position.x,this.position.y),this.allowHorizontalScroll&&this.Xs!==Pt&&(pt.x=Pt/o+h,this.Xs=Pt),this.allowVerticalScroll&&this.Zs!==t.scrollTop&&(pt.y=t.scrollTop/o+c,this.Zs=t.scrollTop),this.position=pt,rt.free(pt),this.wi=this.Op=!1):(pt=rt.alloc(),t.hz&&this.allowHorizontalScroll&&(h<P&&(this.position=pt.h(Pt+h,this.position.y)),k>ut&&(this.position=pt.h(-(this.Ys.scrollWidth-this.va)+Pt-this.va/o+k,this.position.y))),t.iz&&this.allowVerticalScroll&&(c<e&&(this.position=pt.h(this.position.x,t.scrollTop+c)),a>xt&&(this.position=pt.h(this.position.x,-(this.Ys.scrollHeight-this.ua)+t.scrollTop-this.ua/o+a))),rt.free(pt),zh(this),this.wi=this.Op=!1,k=(e=this.documentBounds).right,ut=(o=this.viewportBounds).right,a=e.bottom,xt=o.bottom,h=e.x,P=o.x,c=e.y,e=o.y,F>=g&&h>=P&&k<=ut&&(this.Pp.style.width="1px"),j>=_&&c>=e&&a<=xt&&(this.Pp.style.height="1px"))}},Ee.prototype.computeBounds=function(){return 0<this.wd.count&&Qs(this),Vh(this)},Ee.prototype.computePartsBounds=function(t,e){void 0===e&&(e=!1);var o=null;if(kt(t))for(var a=0;a<t.length;a++){var h=t[a];!e&&h instanceof We||(h.Ta(),null===o?o=h.actualBounds.copy():o.Rc(h.actualBounds))}else for(t=t.iterator;t.next();)a=t.value,!e&&a instanceof We||(a.Ta(),null===o?o=a.actualBounds.copy():o.Rc(a.actualBounds));return null===o?new te(NaN,NaN,0,0):o},Ee.prototype.zoomToFit=function(){var t=this.Ti;this.Ti=yh,this.scale=gh(this,Wu),t!==yh&&(Bs(this,!1),Df(this,this.documentBounds,this.va/this.Aa,this.ua/this.Aa,this.Dj,!1)),this.Ti=t},(st=Ee.prototype).mB=function(t,e){void 0===e&&(e=Wu);var o=t.width,a=t.height;if(!(0===o||0===a||isNaN(o)&&isNaN(a))){var h=1;if(e===Wu||e===zm)if(isNaN(o))h=this.viewportBounds.height*this.scale/a;else if(isNaN(a))h=this.viewportBounds.width*this.scale/o;else{h=this.va;var c=this.ua;h=e===zm?c/a>h/o?(c-(this.pe?this.rb:0))/a:(h-(this.Ye?this.rb:0))/o:Math.min(c/a,h/o)}this.scale=h,this.position=new rt(t.x,t.y)}},st.uz=function(t,e){this.Ta();var o=this.documentBounds,a=this.viewportBounds;this.position=new rt(o.x+(t.x*o.width+t.offsetX)-(e.x*a.width-e.offsetX),o.y+(t.y*o.height+t.offsetY)-(e.y*a.height-e.offsetY))},st.kA=function(t){if(t instanceof Oi){this.ao=t;var e=rt.alloc();this.bo=this.gr(t.da(gr,e)),rt.free(e)}else this.ao=null,this.bo=Ln},st.zm=function(t,e){if(void 0===e&&(e=!0),e){if((t=vp(this,t,function(o){return o.part},function(o){return o.canSelect()}))instanceof Nt)return t}else if((t=vp(this,t,function(o){return o.part}))instanceof Nt)return t;return null},st.Vb=function(t,e,o){void 0===e&&(e=null),void 0===o&&(o=null),Qs(this);for(var a=this.Ma.iteratorBackwards;a.next();){var h=a.value;if(h.visible&&null!==(h=h.Vb(t,e,o)))return h}return null},st.Zz=function(t,e,o){return void 0===e&&(e=!0),function(t,e,o,a,h){for(void 0===o&&(o=null),void 0===a&&(a=null),h instanceof Lt||h instanceof Ht||(h=new Ht),Qs(t),t=t.Ma.iteratorBackwards;t.next();){var c=t.value;c.visible&&!c.isTemporary&&c.hj(e,o,a,h)}return h}(this,t,function(a){return a.part},e?function(a){return a instanceof Nt&&a.canSelect()}:null,o)},st.hj=function(t,e,o,a){void 0===e&&(e=null),void 0===o&&(o=null),a instanceof Lt||a instanceof Ht||(a=new Ht),Qs(this);for(var h=this.Ma.iteratorBackwards;h.next();){var c=h.value;c.visible&&c.hj(t,e,o,a)}return a},st.ty=function(t,e,o,a){return void 0===e&&(e=!1),void 0===o&&(o=!0),function(t,e,o,a,h){var c=null;for(void 0===c&&(c=null),void 0===o&&(o=null),void 0===a&&(a=!1),h instanceof Lt||h instanceof Ht||(h=new Ht),Qs(t),t=t.Ma.iteratorBackwards;t.next();){var g=t.value;g.visible&&!g.isTemporary&&g.zf(e,c,o,a,h)}return h}(this,t,function(h){return h instanceof Nt&&(!o||h.canSelect())},e,a)},st.zf=function(t,e,o,a,h){void 0===e&&(e=null),void 0===o&&(o=null),void 0===a&&(a=!1),h instanceof Lt||h instanceof Ht||(h=new Ht),Qs(this);for(var c=this.Ma.iteratorBackwards;c.next();){var g=c.value;g.visible&&g.zf(t,e,o,a,h)}return h},st.Vv=function(t,e,o,a,h,c){var g=new Ht;Qs(this);for(var _=this.Ma.iteratorBackwards;_.next();){var k=_.value;k.visible&&k.Vv(t,e,o,a,g,h,c)}return g},st.$z=function(t,e,o,a,h){return void 0===o&&(o=!0),void 0===a&&(a=!0),function(t,e,o,a,h,c){var g=null;for(void 0===g&&(g=null),void 0===a&&(a=null),void 0===h&&(h=!0),!1!==h&&!0!==h&&((h instanceof Lt||h instanceof Ht)&&(c=h),h=!0),c instanceof Lt||c instanceof Ht||(c=new Ht),Qs(t),t=t.Ma.iteratorBackwards;t.next();){var _=t.value;_.visible&&!_.isTemporary&&_.Eg(e,o,g,a,h,c)}return c}(this,t,e,function(c){return c instanceof Nt&&(!a||c.canSelect())},o,h)},st.Eg=function(t,e,o,a,h,c){void 0===o&&(o=null),void 0===a&&(a=null),void 0===h&&(h=!0),!1!==h&&!0!==h&&((h instanceof Lt||h instanceof Ht)&&(c=h),h=!0),c instanceof Lt||c instanceof Ht||(c=new Ht),Qs(this);for(var g=this.Ma.iteratorBackwards;g.next();){var _=g.value;_.visible&&_.Eg(t,e,o,a,h,c)}return c},Ee.prototype.acceptEvent=function(t){return vh(this,t,t instanceof MouseEvent)},Ee.prototype.BA=function(t){var e=this.B;if(!this.B.isEnabled)return!1;var o=vh(e,t,!1);switch(o.key=String.fromCharCode(t.which),o.down=!0,t.which){case 8:o.key="Backspace";break;case 33:o.key="PageUp";break;case 34:o.key="PageDown";break;case 35:o.key="End";break;case 36:o.key="Home";break;case 37:o.key="Left";break;case 38:o.key="Up";break;case 39:o.key="Right";break;case 40:o.key="Down";break;case 45:o.key="Insert";break;case 46:o.key="Del";break;case 48:o.key="0";break;case 187:case 61:case 107:o.key="Add";break;case 189:case 173:case 109:o.key="Subtract";break;case 27:o.key="Esc"}return e.doKeyDown(),ml(o,t)},Ee.prototype.CA=function(t){var e=this.B;if(!e.isEnabled)return!1;var o=vh(e,t,!1);switch(o.key=String.fromCharCode(t.which),o.up=!0,t.which){case 8:o.key="Backspace";break;case 33:o.key="PageUp";break;case 34:o.key="PageDown";break;case 35:o.key="End";break;case 36:o.key="Home";break;case 37:o.key="Left";break;case 38:o.key="Up";break;case 39:o.key="Right";break;case 40:o.key="Down";break;case 45:o.key="Insert";break;case 46:o.key="Del"}return e.doKeyUp(),ml(o,t)},Ee.prototype.Oz=function(t){var e=this.B;if(!e.isEnabled)return!1;var o=vh(e,t,!0);return null!==e.mouseEnter&&e.mouseEnter(o),ml(o,t)},Ee.prototype.Pz=function(t){var e=this.B;if(!e.isEnabled)return!1;var o=vh(e,t,!0);return null!==e.mouseLeave&&e.mouseLeave(o),ml(o,t)},Ee.prototype.getMouse=function(t){var e=this.ya;if(null===e)return new rt(0,0);var o=e.getBoundingClientRect();return e=t.clientX-this.va/o.width*o.left,t=t.clientY-this.ua/o.height*o.top,null!==this.sb?ve(new rt(e,t),this.sb):new rt(e,t)},Ee.prototype.Na=function(){this.vi||(this.vi=!0,this.Db(!0))},Ee.prototype.redraw=function(){this.Sb||this.ac||(this.M(),hu(this),zh(this),this.Na(),this.hd())},(st=Ee.prototype).AA=function(){return this.Ee},st.Jz=function(t){void 0===t&&(t=null);var e=this.animationManager,o=e.isEnabled;e.Bc(),e.isEnabled=!1,Ko(this),this.qe=!1,this.Ts=new rt(NaN,NaN),e.isEnabled=o,this.ac=!0;var a=this;null!==t&&G(function(){a.ac=!1,ao(e,"Model"),t(a)},1)},st.Db=function(t){if(void 0===t&&(t=!1),!0!==this.Ee&&!(this.Sb||!1===t&&this.ac)){this.Ee=!0;var e=this;V.requestAnimationFrame(function(){e.Ee&&e.hd()})}},st.hd=function(){(!this.Kj||this.Ee)&&(this.Kj&&(this.Kj=!1),Ko(this))},st.Vw=function(t,e){for(t.reset();t.next();){var o=t.value;!o.Nc()||o instanceof hi||(o.rj()?(o.measure(1/0,1/0),o.arrange()):e.add(o))}for(t.reset();t.next();)(o=t.value)instanceof hi&&o.isVisible()&&k0(this,o);for(t.reset();t.next();)(o=t.value)instanceof We&&o.isVisible()&&(o.rj()?(o.measure(1/0,1/0),o.arrange()):e.add(o));for(t.reset();t.next();)(o=t.value)instanceof li&&o.isVisible()&&(o.rj()?(o.measure(1/0,1/0),o.arrange()):e.add(o))},st.Nd=function(t,e,o,a){if(this.xi||this.animationManager.isAnimating){void 0===a&&(a=o.viewportBounds);for(var h=0;h<e;h++)t[h].Nd(o,a)}},st.mc=function(t,e){if(void 0===e&&(e=null),null!==this.Da){null===this.ya&&z("No canvas specified");var o=this.animationManager;if(!o.sc&&(!o.isAnimating||o.isTicking)){var a=new Date;if(gd(this),"0"!==this.Da.style.opacity){var h=t!==this.Gb,c=this.Ma.j,g=c.length,_=this;if(this.Nd(c,g,_),h)t.uc(!0),zh(this);else if(!this.Dc&&null===e&&!o.isAnimating)return;g=this.la;var k=this.Aa,P=Math.round(g.x*k)/k,F=Math.round(g.y*k)/k;for((o=this.sb).reset(),1!==k&&o.scale(k),0===g.x&&0===g.y||o.translate(-P,-F),k=this.Tb,t.setTransform(1,0,0,1,0,0),t.scale(k,k),t.clearRect(0,0,this.va,this.ua),1!==this.hb&&(t.globalAlpha=this.hb),s1(this,t),P=null!==e?function(j){var ut=e;if(j.visible&&0!==j.hb){var xt=j.Fa.j,pt=xt.length;if(0!==pt){var Pt=Hu(j,t),Xt=j.rp;Xt.length=0;for(var $t=_.scale,ie=te.alloc(),se=0;se<pt;se++){var fe=xt[se];ut.contains(fe)||j.dj(t,fe,_,Xt,$t,ie,!0)}te.free(ie),t.globalAlpha=Pt}}}:function(j){j.mc(t,_)},g=c.length,F=0;F<g;F++)t.setTransform(1,0,0,1,0,0),t.scale(k,k),t.transform(o.m11,o.m12,o.m21,o.m22,o.dx,o.dy),P(c[F]);if(c=!1,this.ui?Gm(this.ui,this)&&(c=this.Tr()):c=!0,c&&(vn.prototype.Jd=vn.prototype.Zx),h?(this.Gb.uc(!0),zh(this)):this.Dc=this.xi=!1,c=+new Date-+a,a=this.hv,(h=bt&&bt.my)||null===this.yh){for(a[this.ep]=c,this.ep=(this.ep+1)%a.length,o=c=0;o<a.length;o++)c+=a[o];this.cp=c/a.length}if(1!==this.hb&&(t.globalAlpha=1),h)for(t.setTransform(1,0,0,1,0,0),h=0;h<a.length;h++)t.fillText(a[h].toString(),20,150+20*h)}}}},st.Ke=function(t){return this.hf[t]},st.Ty=function(t,e){"minDrawingLength"===t&&(this.Xo=e),this.hf[t]=e,this.redraw()},st.xw=function(){this.hf=new At,this.hf.drawShadows=!0,this.hf.textGreeking=!0,this.hf.viewportOptimizations=!(W||p||T),this.hf.temporaryPixelRatio=!0,this.hf.pictureRatioOptimization=!0,this.Xo=this.hf.minDrawingLength=1},st.Bm=function(t){return this.Nj[t]},st.aB=function(t,e){this.Nj[t]=e},st.ww=function(){this.Nj=new At,this.Nj.extraTouchArea=10,this.Nj.extraTouchThreshold=10,this.Nj.hasGestureZoom=!0},st.Fw=function(t){Om(this,t)},st.Hv=function(){if(0===this.undoManager.transactionLevel&&0!==this.Vg.count){for(;0<this.Vg.count;){var t=this.Vg;for(this.Vg=new gt,t=t.iterator;t.next();){var e=t.key;e.Oq(t.value),e.dc()}}this.M()}},st.M=function(t){if(void 0===t&&(t=null),null===t)this.Dc=!0,this.Db();else{var e=this.viewportBounds;null!==t&&t.o()&&e.Mc(t)&&(this.Dc=!0,this.Db())}this.R("InvalidateDraw")},Ee.prototype.invalidateViewport=function(t,e){if(!0!==this.Dc){this.Dc=!0;var o=!0===this.Ke("temporaryPixelRatio");if(!0===this.Ke("viewportOptimizations")&&this.scrollMode!==wd&&this.Si.fj(0,0,0,0)&&e.width===t.width&&e.height===t.height){var a=this.scale,h=Math.max(t.x,e.x),c=Math.max(t.y,e.y);if(a=te.allocAt(h,c,Math.max(0,Math.min(t.x+t.width,e.x+e.width)-h)*a,Math.max(0,Math.min(t.y+t.height,e.y+e.height)-c)*a),!this.gq&&0<a.width&&0<a.height){if(!(this.ac||(this.Ee=!1,null===this.Da||(this.ac=!0,this.Hv(),this.documentBounds.o()||Lm(this,this.computeBounds()),h=this.ya,null===h||h instanceof Nl)))){var g=this.Tb;c=this.va*g;var _=this.ua*g,k=this.scale*g,P=Math.round(Math.round(e.x*k)-Math.round(t.x*k));e=Math.round(Math.round(e.y*k)-Math.round(t.y*k)),t=this.ux,(k=this.Ju).width!==c&&(k.width=c),k.height!==_&&(k.height=_),t.clearRect(0,0,c,_),k=190*g;var F=70*g,j=Math.max(P,0),ut=Math.max(e,0),xt=Math.floor(c-j),pt=Math.floor(_-ut);t.drawImage(h.Ja,j,ut,xt,pt,0,0,xt,pt),Gm(this.ui,this)&&t.clearRect(0,0,k,F),h=u(),t=u(),pt=Math.abs(P),xt=Math.abs(e);var Pt=0===j?0:c-pt;j=rt.allocAt(Pt,0),pt=rt.allocAt(pt+Pt,_),t.push(new te(Math.min(j.x,pt.x),Math.min(j.y,pt.y),Math.abs(j.x-pt.x),Math.abs(j.y-pt.y)));var Xt=this.sb;if(Xt.reset(),Xt.scale(g,g),1!==this.Aa&&Xt.scale(this.Aa),(0!==(g=this.la).x||0!==g.y)&&isFinite(g.x)&&isFinite(g.y)&&Xt.translate(-g.x,-g.y),ve(j,Xt),ve(pt,Xt),h.push(new te(Math.min(j.x,pt.x),Math.min(j.y,pt.y),Math.abs(j.x-pt.x),Math.abs(j.y-pt.y))),j.h(0,Pt=0===ut?0:_-xt),pt.h(c,xt+Pt),t.push(new te(Math.min(j.x,pt.x),Math.min(j.y,pt.y),Math.abs(j.x-pt.x),Math.abs(j.y-pt.y))),ve(j,Xt),ve(pt,Xt),h.push(new te(Math.min(j.x,pt.x),Math.min(j.y,pt.y),Math.abs(j.x-pt.x),Math.abs(j.y-pt.y))),Gm(this.ui,this)&&(j.h(c=0<P?0:-P,_=0<e?0:-e),pt.h(k+c,F+_),t.push(new te(Math.min(j.x,pt.x),Math.min(j.y,pt.y),Math.abs(j.x-pt.x),Math.abs(j.y-pt.y))),ve(j,Xt),ve(pt,Xt),h.push(new te(Math.min(j.x,pt.x),Math.min(j.y,pt.y),Math.abs(j.x-pt.x),Math.abs(j.y-pt.y)))),rt.free(j),rt.free(pt),jh(this,!1,!0),null===this.Da&&z("No div specified"),null===this.ya&&z("No canvas specified"),!this.animationManager.sc&&(c=this.Gb,this.Dc)){for(gd(this),_=this.Tb,c.setTransform(1,0,0,1,0,0),c.clearRect(0,0,this.va*_,this.ua*_),c.drawImage(this.Ju.Ja,0<P?0:Math.round(-P),0<e?0:Math.round(-e)),P=this.la,g=this.Aa,k=Math.round(P.x*g)/g,F=Math.round(P.y*g)/g,(e=this.sb).reset(),1!==g&&e.scale(g),0===P.x&&0===P.y||e.translate(-k,-F),c.save(),c.beginPath(),P=t.length,g=0;g<P;g++)0!==(k=t[g]).width&&0!==k.height&&c.rect(Math.floor(k.x),Math.floor(k.y),Math.ceil(k.width),Math.ceil(k.height));for(c.clip(),c.setTransform(1,0,0,1,0,0),c.scale(_,_),c.transform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy),this.Nd(e=this.Ma.j,P=e.length,this),s1(this,c),c.globalAlpha=this.hb,_=0;_<P;_++)if(k=h,(g=e[_]).visible&&0!==g.hb){F=Hu(g,c),(ut=g.rp).length=0,j=this.scale,xt=te.alloc(),Xt=(pt=g.Fa.j).length,Pt=k.length;for(var $t=0;$t<Xt;$t++){var ie=pt[$t],se=xe(ie,ie.actualBounds);t:{for(var fe=2/j,we=4/j,ti=0;ti<Pt;ti++){var Ci=k[ti];if(0!==Ci.width&&0!==Ci.height&&se.cw(Ci.x-fe,Ci.y-fe,Ci.width+we,Ci.height+we)){se=!0;break t}}se=!1}se&&g.dj(c,ie,this,ut,j,xt,!0)}te.free(xt),c.globalAlpha=F}c.restore(),c.uc(!0),this.ui&&Gm(this.ui,this)&&this.Tr(),this.Dc=this.xi=!1,this.Yq()}m(h),m(t),this.ac=!1}}else this.hd();te.free(a),o&&(Jo(this),this.hd(),Bh(this,!0))}else o?(Jo(this),this.hd(),Bh(this,!0)):this.hd()}},(st=Ee.prototype).add=function(t){var e=t.diagram;if(e!==this&&(null!==e&&z("Cannot add part "+t.toString()+" to "+this.toString()+". It is already a part of "+e.toString()),null===(e=this.xk(t.layerName))&&(e=this.xk("")),null===e&&z('Cannot add a Part when unable find a Layer named "'+t.layerName+'" and there is no default Layer'),t.layer!==e)){var o=e.oj(99999999,t,t.diagram===this);0<=o&&this.Va(zo,"parts",e,null,t,null,o),e.isTemporary||this.Na(),t.C(1),null!==(o=t.layerChanged)&&o(t,null,e)}},st.oj=function(t){this.partManager.oj(t);var e=this;Ju(t,function(o){Ev(e,o)}),(t instanceof li||t instanceof hi&&null!==t.placeholder)&&t.s(),null!==t.data&&Ju(t,function(o){x_(e.partManager,o)}),!0!==nl(t)&&!0!==Ue(t)||this.wd.add(t),Me(t,!0,this),yi(t)?(t.actualBounds.o()&&this.M(xe(t,t.actualBounds)),this.Na()):t.isVisible()&&t.actualBounds.o()&&this.M(xe(t,t.actualBounds)),this.Db()},st.Lc=function(t){t.nk(),this.partManager.Lc(t);var e=this;null!==t.data&&Ju(t,function(o){_w(e.partManager,o,e)}),this.wd.remove(t),yi(t)?(t.actualBounds.o()&&this.M(xe(t,t.actualBounds)),this.Na()):t.isVisible()&&t.actualBounds.o()&&this.M(xe(t,t.actualBounds)),this.Db()},st.remove=function(t){Sv(this,t,!0)},st.gu=function(t,e){if(void 0===e&&(e=!1),kt(t))for(var o=t.length,a=0;a<o;a++){var h=t[a];e&&!h.canDelete()||this.remove(h)}else for((o=new Ht).addAll(t),t=o.iterator;t.next();)o=t.value,e&&!o.canDelete()||this.remove(o)},st.tk=function(t,e,o){return void 0===o&&(o=!1),this.partManager.tk(t,e,o)},Ee.prototype.moveParts=function(t,e,o,a){if(void 0===o&&(o=!1),void 0===a&&(a=Dv(this)),null!==this.toolManager){var h=new gt;if(null!==t)if(kt(t))for(var c=0;c<t.length;c++)la(this,h,t[c],o,a);else for(t=t.iterator;t.next();)la(this,h,t.value,o,a);else{for(t=this.parts;t.next();)la(this,h,t.value,o,a);for(t=this.nodes;t.next();)la(this,h,t.value,o,a);for(t=this.links;t.next();)la(this,h,t.value,o,a)}bc(this,h,e,a,o)}},Ee.prototype.computeMove=function(t,e,o,a){if(void 0===a&&(a=new rt),a.assign(e),null===t)return a;var h=e,c=o.isGridSnapEnabled;c&&(o.isGridSnapRealtime||this.lastInput.up)&&a1(this,t,e,h=rt.alloc(),o),o=null!==t.dragComputation?t.dragComputation(t,e,h):h;var g=t.minLocation,_=g.x;isNaN(_)&&(_=c?Math.round(1e3*t.location.x)/1e3:t.location.x),g=g.y,isNaN(g)&&(g=c?Math.round(1e3*t.location.y)/1e3:t.location.y);var k=t.maxLocation,P=k.x;return isNaN(P)&&(P=c?Math.round(1e3*t.location.x)/1e3:t.location.x),k=k.y,isNaN(k)&&(k=c?Math.round(1e3*t.location.y)/1e3:t.location.y),a.h(Math.max(_,Math.min(o.x,P)),Math.max(g,Math.min(o.y,k))),h!==e&&rt.free(h),a},(st=Ee.prototype).Cd=function(t,e,o){if(void 0===o)return new Tf(ii);var a=t.isGridSnapEnabled;return t.groupsSnapMembers||null===e.containingGroup||(a=!1),new Tf(a?new rt(Math.round(1e3*o.x)/1e3,Math.round(1e3*o.y)/1e3):o.copy())},st.um=function(t){A0(this,t,null),t.ee(this);var e=this.Ma,o=e.count-1;if(!t.isTemporary)for(;0<=o&&e.J(o).isTemporary;)o--;e.wb(o+1,t),null!==this.cc&&this.Va(zo,"layers",this,null,t,null,o+1),this.M(),this.Na()},st.Ux=function(t,e){A0(this,t,e),t.ee(this);var o=this.Ma,a=o.indexOf(t);0<=a&&(o.remove(t),null!==this.cc&&this.Va(gn,"layers",this,t,null,a,null));var c,h=o.count;for(c=0;c<h;c++)if(o.J(c)===e){o.wb(c,t);break}null!==this.cc&&this.Va(zo,"layers",this,null,t,null,c),this.M(),0>a&&this.Na()},st.nz=function(t,e){A0(this,t,e),t.ee(this);var o=this.Ma,a=o.indexOf(t);0<=a&&(o.remove(t),null!==this.cc&&this.Va(gn,"layers",this,t,null,a,null));var c,h=o.count;for(c=0;c<h;c++)if(o.J(c)===e){o.wb(c+1,t);break}null!==this.cc&&this.Va(zo,"layers",this,null,t,null,c+1),this.M(),0>a&&this.Na()},st.TA=function(t){if(t.diagram!==this&&z("Cannot remove a Layer from another Diagram: "+t+" of "+t.diagram),""!==t.name){var e=this.Ma,o=e.indexOf(t);if(e.remove(t)){for(e=t.Fa.copy().iterator;e.next();){var a=e.value,h=a.layerName;a.layerName=h!==t.name?h:""}null!==this.cc&&this.Va(gn,"layers",this,t,null,o,null),this.M(),this.Na()}}},st.xk=function(t){for(var e=this.layers;e.next();){var o=e.value;if(o.name===t)return o}return null},st.Wx=function(t){null===this.we&&(this.we=new Lt),this.we.add(t),this.model.Hh(t)},st.VA=function(t){null!==this.we&&(this.we.remove(t),0===this.we.count&&(this.we=null)),this.model.Tk(t)},st.Hh=function(t){null===this.Of&&(this.Of=new Lt),this.Of.add(t)},st.Tk=function(t){null!==this.Of&&(this.Of.remove(t),0===this.Of.count&&(this.Of=null))},st.zt=function(t){if(this.skipsUndoManager||this.model.skipsUndoManager||this.model.undoManager.aw(t),t.change!==Os&&(this.isModified=!0),null!==this.Of)for(var e=this.Of,o=e.length,a=0;a<o;a++)e.J(a)(t)},st.Va=function(t,e,o,a,h,c,g){void 0===c&&(c=null),void 0===g&&(g=null);var _=new Yr;_.diagram=this,_.change=t,_.propertyName=e,_.object=o,_.oldValue=a,_.oldParam=c,_.newValue=h,_.newParam=g,this.zt(_)},st.g=function(t,e,o,a,h){this.Va(Ar,t,this,e,o,a,h)},Ee.prototype.changeState=function(t,e){if(null!==t&&t.diagram===this){var o=this.skipsModelSourceBindings;try{this.skipsModelSourceBindings=!0;var a=t.change;if(a===Ar){var h=t.object;if(Fr(h,t.propertyName,t.G(e)),h instanceof Oi){var c=h.part;null!==c&&c.Lb()}this.isModified=!0}else if(a===zo){var g=t.object,_=t.newParam,k=t.newValue;if(g instanceof qe)if("number"==typeof _&&k instanceof Oi){e?g.Lc(_):g.wb(_,k);var P=g.part;null!==P&&P.Lb()}else"number"==typeof _&&k instanceof Eo&&(k.isRow?sw(g,_,e?void 0:k):aw(g,_,e?void 0:k));else if(g instanceof ks){var F=!0===t.oldParam;"number"==typeof _&&k instanceof Nt&&(e?(k.isSelected=!1,k.isHighlighted=!1,k.Lb(),g.Lc(F?_:-1,k,F)):g.oj(_,k,F))}else g instanceof Ee?"number"==typeof _&&k instanceof ks&&(e?this.Ma.cb(_):(k.ee(this),this.Ma.wb(_,k))):z("unknown ChangedEvent.Insert object: "+t.toString());this.isModified=!0}else if(a===gn){var j=t.object,ut=t.oldParam,xt=t.oldValue;if(j instanceof qe)"number"==typeof ut&&xt instanceof Oi?e?j.wb(ut,xt):j.Lc(ut):"number"==typeof ut&&xt instanceof Eo&&(xt.isRow?sw(j,ut,e?xt:void 0):aw(j,ut,e?xt:void 0));else if(j instanceof ks){var pt=!0===t.newParam;"number"==typeof ut&&xt instanceof Nt&&(e?0>j.Fa.indexOf(xt)&&j.oj(ut,xt,pt):(xt.isSelected=!1,xt.isHighlighted=!1,xt.Lb(),j.Lc(pt?ut:-1,xt,pt)))}else j instanceof Ee?"number"==typeof ut&&xt instanceof ks&&(e?(xt.ee(this),this.Ma.wb(ut,xt)):this.Ma.cb(ut)):z("unknown ChangedEvent.Remove object: "+t.toString());this.isModified=!0}else a!==Os&&z("unknown ChangedEvent: "+t.toString())}finally{this.skipsModelSourceBindings=o}}},Ee.prototype.xa=function(t){return this.undoManager.xa(t)},Ee.prototype.Xa=function(t){return this.undoManager.Xa(t)},Ee.prototype.If=function(){return this.undoManager.If()},Ee.prototype.commit=function(t,e){void 0===e&&(e="");var o=this.skipsUndoManager;null===e&&(this.skipsUndoManager=!0,e=""),this.undoManager.xa(e);var a=!1;try{t(this),a=!0}finally{a?this.undoManager.Xa(e):this.undoManager.If(),this.skipsUndoManager=o}},Ee.prototype.updateAllTargetBindings=function(t){this.partManager.updateAllTargetBindings(t)},Ee.prototype.ir=function(){this.partManager.ir()},Ee.prototype.onViewportBoundsChanged=function(t,e,o,a){if(!t.w(e)){void 0===a&&(a=!1),a||hu(this),zh(this);var h=this.layout;null===h||!h.isViewportSized||this.autoScale!==Gs||a||t.width===e.width&&t.height===e.height||h.C(),h=this.currentTool,!0===this.Zf&&h instanceof $r&&(this.lastInput.documentPoint=this.ou(this.lastInput.viewPoint),Qy(h,this)),this.Sb||this.invalidateViewport(t,e),_c(this),this.Ic.scale=o,this.Ic.position.x=t.x,this.Ic.position.y=t.y,this.Ic.bounds.assign(t),this.Ic.Gv.width=Math.round(t.width*o),this.Ic.Gv.height=Math.round(t.height*o),this.Ic.kw.width=this.va,this.Ic.kw.height=this.ua,this.Ic.hw=a,this.R("ViewportBoundsChanged",this.Ic,t),this.isVirtualized&&this.links.each(function(c){c.isAvoiding&&c.actualBounds.Mc(e)&&c.Ua()})}},Ee.prototype.clearSelection=function(t){void 0===t&&(t=!1);var e=this.selection;if(0!==e.count){t||this.R("ChangingSelection",e);for(var o=e.ma(),a=o.length,h=0;h<a;h++)o[h].isSelected=!1;e.ea(),e.clear(),e.freeze(),t||this.R("ChangedSelection",e)}},Ee.prototype.select=function(t){null!==t&&t.layer.diagram===this&&(!t.isSelected||1<this.selection.count)&&(this.R("ChangingSelection",this.selection),this.clearSelection(!0),t.isSelected=!0,this.R("ChangedSelection",this.selection))},Ee.prototype.$A=function(t){if(this.R("ChangingSelection",this.selection),this.clearSelection(!0),kt(t))for(var e=t.length,o=0;o<e;o++){var a=t[o];a instanceof Nt||z("Diagram.selectCollection given something that is not a Part: "+a),a.isSelected=!0}else for(t=t.iterator;t.next();)(e=t.value)instanceof Nt||z("Diagram.selectCollection given something that is not a Part: "+e),e.isSelected=!0;this.R("ChangedSelection",this.selection)},Ee.prototype.clearHighlighteds=function(){var t=this.highlighteds;if(0<t.count){for(var e=t.ma(),o=e.length,a=0;a<o;a++)e[a].isHighlighted=!1;t.ea(),t.clear(),t.freeze()}},(st=Ee.prototype).uA=function(t){null!==t&&t.layer.diagram===this&&(!t.isHighlighted||1<this.highlighteds.count)&&(this.clearHighlighteds(),t.isHighlighted=!0)},st.vA=function(t){t=(new Ht).addAll(t);for(var e=this.highlighteds.copy().Zq(t).iterator;e.next();)e.value.isHighlighted=!1;for(t=t.iterator;t.next();)(e=t.value)instanceof Nt||z("Diagram.highlightCollection given something that is not a Part: "+e),e.isHighlighted=!0},st.scroll=function(t,e,o){void 0===o&&(o=1);var a="up"===e||"down"===e,h=0;if("pixel"===t)h=o;else if("line"===t)h=o*(a?this.scrollVerticalLineChange:this.scrollHorizontalLineChange);else if("page"===t)t=a?this.viewportBounds.height:this.viewportBounds.width,0!=(t*=this.scale)&&(h=o*Math.max(t-(a?this.scrollVerticalLineChange:this.scrollHorizontalLineChange),0));else{if("document"===t)return h=this.documentBounds,o=this.viewportBounds,a=rt.alloc(),"up"===e?this.position=a.h(o.x,h.y):"left"===e?this.position=a.h(h.x,o.y):"down"===e?this.position=a.h(o.x,h.bottom-o.height):"right"===e&&(this.position=a.h(h.right-o.width,o.y)),void rt.free(a);z("scrolling unit must be 'pixel', 'line', 'page', or 'document', not: "+t)}h/=this.scale,o=this.position.copy(),"up"===e?o.y=this.position.y-h:"down"===e?o.y=this.position.y+h:"left"===e?o.x=this.position.x-h:"right"===e?o.x=this.position.x+h:z("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+e),this.position=o},st.Aw=function(t){var e=this.viewportBounds;e.Ge(t)||((t=t.center).x-=e.width/2,t.y-=e.height/2,this.position=t)},st.At=function(t){var e=this.viewportBounds;(t=t.center).x-=e.width/2,t.y-=e.height/2,this.position=t},st.gr=function(t){var e=this.sb;e.reset(),1!==this.Aa&&e.scale(this.Aa);var o=this.la;return(0!==o.x||0!==o.y)&&isFinite(o.x)&&isFinite(o.y)&&e.translate(-o.x,-o.y),t.copy().transform(this.sb)},st.iB=function(t){var e=this.sb,o=t.x,a=t.y,h=o+t.width,c=a+t.height,g=e.m11,_=e.m12,k=e.m21,P=e.m22,F=e.dx,j=e.dy,ut=o*g+a*k+F;e=o*_+a*P+j;var xt=h*g+a*k+F;return t=h*_+a*P+j,a=o*g+c*k+F,o=o*_+c*P+j,g=h*g+c*k+F,h=h*_+c*P+j,c=Math.min(ut,xt),ut=Math.max(ut,xt),xt=Math.min(e,t),e=Math.max(e,t),c=Math.min(c,a),ut=Math.max(ut,a),xt=Math.min(xt,o),e=Math.max(e,o),c=Math.min(c,g),ut=Math.max(ut,g),new te(c,xt=Math.min(xt,h),ut-c,(e=Math.max(e,h))-xt)},st.ou=function(t){var e=this.sb;e.reset(),1!==this.Aa&&e.scale(this.Aa);var o=this.la;return(0!==o.x||0!==o.y)&&isFinite(o.x)&&isFinite(o.y)&&e.translate(-o.x,-o.y),ve(t.copy(),this.sb)},Ee.prototype.doModelChanged=function(t){var e=this;if(t.model===this.model){var o=t.change,a=t.propertyName;if(o===Os&&"S"===a[0])if("StartingFirstTransaction"===a){var h=this;(t=this.toolManager).mouseDownTools.each(function(k){k.diagram=h}),t.mouseMoveTools.each(function(k){k.diagram=h}),t.mouseUpTools.each(function(k){k.diagram=h}),this.ac||this.qe||(this.Hj=!0,this.Kj&&(this.Ee=!0))}else"StartingUndo"===a||"StartingRedo"===a?((t=this.animationManager).defaultAnimation.isAnimating&&!this.skipsUndoManager&&t.Bc(),this.R("ChangingSelection",this.selection)):"StartedTransaction"===a&&(t=this.animationManager).defaultAnimation.isAnimating&&!this.skipsUndoManager&&t.Bc();else if(this.Z){this.Z=!1;try{if(""===t.modelChange&&o===Os){("FinishedUndo"===a||"FinishedRedo"===a)&&(this.R("ChangedSelection",this.selection),Qs(this));var c=this.animationManager;"RolledBackTransaction"===a&&c.Bc(),this.Hj=!0,this.hd(),0!==this.undoManager.transactionLevel&&1!==this.undoManager.transactionLevel||Rn(c),"CommittedTransaction"===a&&this.undoManager.isJustDiscarded&&(this.Xd=Math.min(this.Xd,this.undoManager.historyIndex-1)),"CommittedTransaction"!==a&&"RolledBackTransaction"!==a||!this.undoManager.isPendingUnmodified||setTimeout(function(){e.isModified=!1},1);var g=t.isTransactionFinished;if(g&&(T0(this),this.Yt.clear(),function(t){for(t=t.yj.iterator;t.next();)t.value.Il=!1}(this.animationManager)),!this.Bs&&g&&this.lastInput.targetDiagram){this.Bs=!0;var _=this;G(function(){_.currentTool.standardMouseOver(),_.Bs=!1},10)}}}finally{this.Z=!0}}}},Ee.prototype.Md=function(){this.partManager.Md()},Ee.prototype.jk=function(t,e){this.Uc.jk(t,e)},Ee.prototype.lk=function(t,e){this.Uc.lk(t,e)},Ee.prototype.findPartForKey=function(t){return this.partManager.findPartForKey(t)},Ee.prototype.Cb=function(t){return this.partManager.Cb(t)},Ee.prototype.findLinkForKey=function(t){return this.partManager.findLinkForKey(t)},(st=Ee.prototype).zc=function(t){return this.partManager.zc(t)},st.gj=function(t){return this.partManager.gj(t)},st.yc=function(t){return this.partManager.yc(t)},st.It=function(t){for(var e=[],o=0;o<arguments.length;++o)e[o]=arguments[o];return this.partManager.It.apply(this.partManager,e instanceof Array?e:Kt(zt(e)))},st.Ht=function(t){for(var e=[],o=0;o<arguments.length;++o)e[o]=arguments[o];return this.partManager.Ht.apply(this.partManager,e instanceof Array?e:Kt(zt(e)))},st.Ta=function(){this.vi&&Lm(this,this.computeBounds())},st.dA=function(){for(var t=new Ht,e=this.nodes;e.next();){var o=e.value;o.isTopLevel&&t.add(o)}for(e=this.links;e.next();)(o=e.value).isTopLevel&&t.add(o);return t.iterator},st.cA=function(){return this.Dh.iterator},st.EA=function(t){Qs(this),t&&lo(this,!0),this.ac?Af(this,!1):(this.Hj=!0,Ko(this))},st.jA=function(){for(var t=new Lt,e=this.nodes;e.next();){var o=e.value;o.isTopLevel&&null===o.jj()&&t.add(o)}return t.iterator},st.kk=function(t,e){null!==(t=wp(this,t))&&t.add(e)},st.Lm=function(t,e){null!==(t=wp(this,t))&&t.remove(e)},st.R=function(t,e,o){var a=wp(this,t),h=new yc;if(h.diagram=this,null!==(t=e_(this,t))&&(h.name=t),void 0!==e&&(h.subject=e),void 0!==o&&(h.parameter=o),1===(e=a.length))a.J(0)(h);else if(0!==e)for(a=a.ma(),o=0;o<e;o++)(0,a[o])(h)},st.Ek=function(t,e){return void 0===e&&(e=null),P0(this,!1,null,e).Ek(t.x,t.y,t.width,t.height)},Ee.prototype.computeOccupiedArea=function(){return this.isVirtualized?this.viewportBounds.copy():this.vi?Vh(this):this.documentBounds.copy()},Ee.prototype.Et=function(t){this.rn.assign(t),this.computeAutoScrollPosition(this.rn).Qa(this.position)?this.Jf():I0(this)},Ee.prototype.Jf=function(){-1!==this.Bj&&(V.clearTimeout(this.Bj),this.Bj=-1)},Ee.prototype.computeAutoScrollPosition=function(t){var e=this.position,o=this.sn;if(0>=o.top&&0>=o.left&&0>=o.right&&0>=o.bottom)return e;var a=this.viewportBounds,h=this.scale;a=te.allocAt(0,0,a.width*h,a.height*h);var c=rt.allocAt(0,0);if(t.x>=a.x&&t.x<a.x+o.left&&this.allowHorizontalScroll){var g=Math.max(this.scrollHorizontalLineChange,1);c.x-=g|=0,t.x<a.x+o.left/2&&(c.x-=g),t.x<a.x+o.left/4&&(c.x-=4*g)}else t.x<=a.x+a.width&&t.x>a.x+a.width-o.right&&this.allowHorizontalScroll&&(g=Math.max(this.scrollHorizontalLineChange,1),c.x+=g|=0,t.x>a.x+a.width-o.right/2&&(c.x+=g),t.x>a.x+a.width-o.right/4&&(c.x+=4*g));return t.y>=a.y&&t.y<a.y+o.top&&this.allowVerticalScroll?(g=Math.max(this.scrollVerticalLineChange,1),c.y-=g|=0,t.y<a.y+o.top/2&&(c.y-=g),t.y<a.y+o.top/4&&(c.y-=4*g)):t.y<=a.y+a.height&&t.y>a.y+a.height-o.bottom&&this.allowVerticalScroll&&(g=Math.max(this.scrollVerticalLineChange,1),c.y+=g|=0,t.y>a.y+a.height-o.bottom/2&&(c.y+=g),t.y>a.y+a.height-o.bottom/4&&(c.y+=4*g)),c.Qa(ii)||(e=new rt(e.x+c.x/h,e.y+c.y/h)),te.free(a),rt.free(c),e},(st=Ee.prototype).$t=function(){return null},st.iw=function(){return null},st.rz=function(t,e){this.Kx.add(t,e)},st.GA=function(t){return gl?(void 0===t&&(t=new At),t.returnType="Image",this.Hy(t)):null},st.Hy=function(t){return void 0===t&&(t=new At),Mc(this,this.HA,t)},st.HA=function(t,e,o){var a=Vm(o,t,"canvas",null);if(null===a)return null;var h=null;if(null!==(o=a.Y.canvas))switch(h=t.returnType,h=void 0===h?"string":h.toLowerCase(),h){case Um+"data":h=a.getImageData(0,0,o.width,o.height);break;case Um:(a=(t.document||document).createElement("img")).src=o.toDataURL(t.type,t.details),h=a;break;case"blob":return"function"!=typeof e&&z('Error: Diagram.makeImageData called with "returnType: toBlob", but no required "callback" function property defined.'),"function"==typeof o.toBlob?(o.toBlob(e,t.type,t.details),"toBlob"):"function"==typeof o.msToBlob?(e(o.msToBlob()),"msToBlob"):(e(null),null);default:h=o.toDataURL(t.type,t.details)}return"function"==typeof e?(e(h),null):h},X.Object.defineProperties(Ee.prototype,{div:{get:function(){return this.Da},set:function(t){if(this.Da!==t){var e=this.Da;null!==e?(e.B=void 0,e.goDiagram=void 0,e.innerHTML="",null!==this.ya&&(e=this.ya.Ja,this.zj?(this.removeEventListener(e,"pointermove",this.Pk,!1),this.removeEventListener(e,"pointerdown",this.Ok,!1),this.removeEventListener(e,"pointerup",this.Rk,!1),this.removeEventListener(e,"pointerout",this.Qk,!1)):(this.removeEventListener(e,"touchstart",this.Ow,!1),this.removeEventListener(e,"touchmove",this.Nw,!1),this.removeEventListener(e,"touchend",this.Mw,!1)),this.ya.ky()),this.Zl&&(this.Zl.disconnect(),this.Zl=null),null!==(e=this.toolManager)&&(e.mouseDownTools.each(function(o){o.cancelWaitAfter()}),e.mouseMoveTools.each(function(o){o.cancelWaitAfter()}),e.mouseUpTools.each(function(o){o.cancelWaitAfter()})),e.cancelWaitAfter(),this.currentTool.doCancel(),this.Gb=this.ya=null,this.removeEventListener(V,"resize",this.Ww,!1),this.zj||(this.removeEventListener(V,"mousemove",this.Ik,!0),this.removeEventListener(V,"mousedown",this.Hk,!0),this.removeEventListener(V,"mouseup",this.Kk,!0),this.removeEventListener(V,"mouseout",this.Jk,!0)),this.removeEventListener(V,"wheel",this.Lk,!0),R0===this&&(R0=null)):this.qe=!1,this.Da=null,null!==t&&((e=t.B)&&(e.div=null),Wm(this,t),this.redraw())}}},Yx:{get:function(){return this.cp}},pj:{get:function(){return this.qe}},draggedLink:{get:function(){return this.Sr},set:function(t){this.Sr!==t&&(this.Sr=t,null!==t&&(this.Fs=t.fromPort,this.Gs=t.toPort))}},Ky:{get:function(){return this.Fs},set:function(t){this.Fs=t}},Ly:{get:function(){return this.Gs},set:function(t){this.Gs=t}},animationManager:{get:function(){return this.Uc}},undoManager:{get:function(){return this.cc.undoManager}},skipsUndoManager:{get:function(){return this.vg},set:function(t){this.vg=t,this.cc.skipsUndoManager=t}},delaysLayout:{get:function(){return this.Nr},set:function(t){this.Nr=t}},opacity:{get:function(){return this.hb},set:function(t){var e=this.hb;e!==t&&((0>t||1<t)&&Q(t,"0 <= value <= 1",Ee,"opacity"),this.hb=t,this.g("opacity",e,t),this.M())}},validCycle:{get:function(){return this.tt},set:function(t){var e=this.tt;e!==t&&(this.tt=t,this.g("validCycle",e,t))}},layers:{get:function(){return this.Ma.iterator}},isModelReadOnly:{get:function(){var t=this.cc;return null!==t&&t.isReadOnly},set:function(t){var e=this.cc;null!==e&&(e.isReadOnly=t)}},isReadOnly:{get:function(){return this.$f},set:function(t){var e=this.$f;e!==t&&(this.$f=t,this.g("isReadOnly",e,t))}},isEnabled:{get:function(){return this.md},set:function(t){var e=this.md;e!==t&&(this.md=t,this.g("isEnabled",e,t))}},allowClipboard:{get:function(){return this.nr},set:function(t){var e=this.nr;e!==t&&(this.nr=t,this.g("allowClipboard",e,t))}},allowCopy:{get:function(){return this.$h},set:function(t){var e=this.$h;e!==t&&(this.$h=t,this.g("allowCopy",e,t))}},allowDelete:{get:function(){return this.ai},set:function(t){var e=this.ai;e!==t&&(this.ai=t,this.g("allowDelete",e,t))}},allowDragOut:{get:function(){return this.pr},set:function(t){var e=this.pr;e!==t&&(this.pr=t,this.g("allowDragOut",e,t))}},allowDrop:{get:function(){return this.qr},set:function(t){var e=this.qr;e!==t&&(this.qr=t,this.g("allowDrop",e,t))}},allowTextEdit:{get:function(){return this.ji},set:function(t){var e=this.ji;e!==t&&(this.ji=t,this.g("allowTextEdit",e,t))}},allowGroup:{get:function(){return this.bi},set:function(t){var e=this.bi;e!==t&&(this.bi=t,this.g("allowGroup",e,t))}},allowUngroup:{get:function(){return this.ki},set:function(t){var e=this.ki;e!==t&&(this.ki=t,this.g("allowUngroup",e,t))}},allowInsert:{get:function(){return this.sr},set:function(t){var e=this.sr;e!==t&&(this.sr=t,this.g("allowInsert",e,t))}},allowLink:{get:function(){return this.ci},set:function(t){var e=this.ci;e!==t&&(this.ci=t,this.g("allowLink",e,t))}},allowRelink:{get:function(){return this.ei},set:function(t){var e=this.ei;e!==t&&(this.ei=t,this.g("allowRelink",e,t))}},allowMove:{get:function(){return this.di},set:function(t){var e=this.di;e!==t&&(this.di=t,this.g("allowMove",e,t))}},allowReshape:{get:function(){return this.fi},set:function(t){var e=this.fi;e!==t&&(this.fi=t,this.g("allowReshape",e,t))}},allowResize:{get:function(){return this.gi},set:function(t){var e=this.gi;e!==t&&(this.gi=t,this.g("allowResize",e,t))}},allowRotate:{get:function(){return this.hi},set:function(t){var e=this.hi;e!==t&&(this.hi=t,this.g("allowRotate",e,t))}},allowSelect:{get:function(){return this.ii},set:function(t){var e=this.ii;e!==t&&(this.ii=t,this.g("allowSelect",e,t))}},allowUndo:{get:function(){return this.tr},set:function(t){var e=this.tr;e!==t&&(this.tr=t,this.g("allowUndo",e,t))}},allowZoom:{get:function(){return this.vr},set:function(t){var e=this.vr;e!==t&&(this.vr=t,this.g("allowZoom",e,t))}},hasVerticalScrollbar:{get:function(){return this.wl},set:function(t){var e=this.wl;e!==t&&(this.wl=t,hu(this),this.M(),this.g("hasVerticalScrollbar",e,t),Bs(this,!1))}},hasHorizontalScrollbar:{get:function(){return this.vl},set:function(t){var e=this.vl;e!==t&&(this.vl=t,hu(this),this.M(),this.g("hasHorizontalScrollbar",e,t),Bs(this,!1))}},allowHorizontalScroll:{get:function(){return this.rr},set:function(t){var e=this.rr;e!==t&&(this.rr=t,this.g("allowHorizontalScroll",e,t),Bs(this,!1))}},allowVerticalScroll:{get:function(){return this.ur},set:function(t){var e=this.ur;e!==t&&(this.ur=t,this.g("allowVerticalScroll",e,t),Bs(this,!1))}},scrollHorizontalLineChange:{get:function(){return this.Ws},set:function(t){var e=this.Ws;e!==t&&(0>t&&Q(t,">= 0",Ee,"scrollHorizontalLineChange"),this.Ws=t,this.g("scrollHorizontalLineChange",e,t))}},scrollVerticalLineChange:{get:function(){return this.$s},set:function(t){var e=this.$s;e!==t&&(0>t&&Q(t,">= 0",Ee,"scrollVerticalLineChange"),this.$s=t,this.g("scrollVerticalLineChange",e,t))}},lastInput:{get:function(){return this.hh},set:function(t){this.hh=t}},previousInput:{get:function(){return this.od},set:function(t){this.od=t}},firstInput:{get:function(){return this.Wf},set:function(t){this.Wf=t}},currentCursor:{get:function(){return this.Hr},set:function(t){if(""===t&&(t=this.Pn),this.Hr!==t){var e=this.ya,o=this.Da;if(null!==e){this.Hr=t;var a=e.style.cursor;e.style.cursor=t,o.style.cursor=t,e.style.cursor===a&&(e.style.cursor="-webkit-"+t,o.style.cursor="-webkit-"+t,e.style.cursor===a&&(e.style.cursor="-moz-"+t,o.style.cursor="-moz-"+t,e.style.cursor===a&&(e.style.cursor=t,o.style.cursor=t)))}}}},defaultCursor:{get:function(){return this.Pn},set:function(t){""===t&&(t="auto");var e=this.Pn;e!==t&&(this.Pn=t,this.g("defaultCursor",e,t))}},click:{get:function(){return this.Pf},set:function(t){var e=this.Pf;e!==t&&(this.Pf=t,this.g("click",e,t))}},doubleClick:{get:function(){return this.Uf},set:function(t){var e=this.Uf;e!==t&&(this.Uf=t,this.g("doubleClick",e,t))}},contextClick:{get:function(){return this.Qf},set:function(t){var e=this.Qf;e!==t&&(this.Qf=t,this.g("contextClick",e,t))}},mouseOver:{get:function(){return this.lg},set:function(t){var e=this.lg;e!==t&&(this.lg=t,this.g("mouseOver",e,t))}},mouseHover:{get:function(){return this.jg},set:function(t){var e=this.jg;e!==t&&(this.jg=t,this.g("mouseHover",e,t))}},mouseHold:{get:function(){return this.ig},set:function(t){var e=this.ig;e!==t&&(this.ig=t,this.g("mouseHold",e,t))}},mouseDragOver:{get:function(){return this.As},set:function(t){var e=this.As;e!==t&&(this.As=t,this.g("mouseDragOver",e,t))}},mouseDrop:{get:function(){return this.gg},set:function(t){var e=this.gg;e!==t&&(this.gg=t,this.g("mouseDrop",e,t))}},handlesDragDropForTopLevelParts:{get:function(){return this.cs},set:function(t){var e=this.cs;e!==t&&(this.cs=t,this.g("handlesDragDropForTopLevelParts",e,t))}},mouseEnter:{get:function(){return this.hg},set:function(t){var e=this.hg;e!==t&&(this.hg=t,this.g("mouseEnter",e,t))}},mouseLeave:{get:function(){return this.kg},set:function(t){var e=this.kg;e!==t&&(this.kg=t,this.g("mouseLeave",e,t))}},toolTip:{get:function(){return this.wg},set:function(t){var e=this.wg;e!==t&&(this.wg=t,this.g("toolTip",e,t))}},contextMenu:{get:function(){return this.Rf},set:function(t){var e=this.Rf;e!==t&&(this.Rf=t,this.g("contextMenu",e,t))}},commandHandler:{get:function(){return this.Br},set:function(t){this.Br!==t&&(this.Br=t,t.ee(this))}},toolManager:{get:function(){return this.pt},set:function(t){this.pt!==t&&(this.pt=t,t.diagram=this)}},defaultTool:{get:function(){return this.Mr},set:function(t){var e=this.Mr;e!==t&&(this.Mr=t,t.diagram=this,this.currentTool===e&&(this.currentTool=t))}},currentTool:{get:function(){return this.Jr},set:function(t){var e=this.Jr;null!==e&&(e.isActive&&e.doDeactivate(),e.cancelWaitAfter(),e.doStop()),null===t&&(t=this.defaultTool),null!==t&&(this.Jr=t,t.diagram=this,t.doStart())}},selection:{get:function(){return this.qv}},maxSelectionCount:{get:function(){return this.ws},set:function(t){var e=this.ws;if(e!==t)if(0<=t&&!isNaN(t)){if(this.ws=t,this.g("maxSelectionCount",e,t),!this.undoManager.isUndoingRedoing&&0<(t=this.selection.count-t)){this.R("ChangingSelection",this.selection),e=this.selection.ma();for(var o=0;o<t;o++)e[o].isSelected=!1;this.R("ChangedSelection",this.selection)}}else Q(t,">= 0",Ee,"maxSelectionCount")}},nodeSelectionAdornmentTemplate:{get:function(){return this.kp},set:function(t){var e=this.kp;e!==t&&(this.kp=t,this.g("nodeSelectionAdornmentTemplate",e,t))}},groupSelectionAdornmentTemplate:{get:function(){return this.qo},set:function(t){var e=this.qo;e!==t&&(this.qo=t,this.g("groupSelectionAdornmentTemplate",e,t))}},linkSelectionAdornmentTemplate:{get:function(){return this.Lo},set:function(t){var e=this.Lo;e!==t&&(this.Lo=t,this.g("linkSelectionAdornmentTemplate",e,t))}},highlighteds:{get:function(){return this.Su}},isModified:{get:function(){var t=this.undoManager;return t.isEnabled?null!==t.currentTransaction||this.wo&&this.Xd!==t.historyIndex:this.wo},set:function(t){if(this.wo!==t){this.wo=t;var e=this.undoManager;!t&&e.isEnabled&&(this.Xd=e.historyIndex),t||T0(this)}}},model:{get:function(){return this.cc},set:function(t){var e=this.cc;if(e!==t){this.currentTool.doCancel(),null!==e&&e.undoManager!==t.undoManager&&e.undoManager.isInTransaction&&z("Do not replace a Diagram.model while a transaction is in progress."),this.animationManager.Bc(!0);var o=Qb(this,!0);this.qe=!1,this.Kj=!0,this.Xd=-2,this.Ee=!1;var a=this.ac;this.ac=!0,ao(this.animationManager,"Model"),null!==e&&(null!==this.we&&this.we.each(function(c){e.Tk(c)}),e.Tk(this.Tc)),this.cc=t,this.partManager=function(t){return null!==(t=jm.get(t))?new t:new Yn}(this.cc.type);for(var h=0;h<o.length;h++)this.add(o[h]);t.Hh(this.Cc),this.partManager.addAllModeledParts(),t.Tk(this.Cc),t.Hh(this.Tc),null!==this.we&&this.we.each(function(c){t.Hh(c)}),this.ac=a,this.Na(),this.Sb||this.M(),null!==e&&t.undoManager.copyProperties(e.undoManager)}}},Z:{get:function(){return this.av},set:function(t){this.av=t}},Yt:{get:function(){return this.Ax}},skipsModelSourceBindings:{get:function(){return this.rv},set:function(t){this.rv=t}},mu:{get:function(){return this.gt},set:function(t){this.gt=t}},nodeTemplate:{get:function(){return this.df.G("")},set:function(t){var e=this.df.G("");e!==t&&(this.df.add("",t),this.g("nodeTemplate",e,t),this.undoManager.isUndoingRedoing||this.Md())}},nodeTemplateMap:{get:function(){return this.df},set:function(t){var e=this.df;e!==t&&(this.df=t,this.g("nodeTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.Md())}},groupTemplate:{get:function(){return this.fh.G("")},set:function(t){var e=this.fh.G("");e!==t&&(this.fh.add("",t),this.g("groupTemplate",e,t),this.undoManager.isUndoingRedoing||this.Md())}},groupTemplateMap:{get:function(){return this.fh},set:function(t){var e=this.fh;e!==t&&(this.fh=t,this.g("groupTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.Md())}},linkTemplate:{get:function(){return this.bg.G("")},set:function(t){var e=this.bg.G("");e!==t&&(this.bg.add("",t),this.g("linkTemplate",e,t),this.undoManager.isUndoingRedoing||this.Md())}},linkTemplateMap:{get:function(){return this.bg},set:function(t){var e=this.bg;e!==t&&(this.bg=t,this.g("linkTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.Md())}},isMouseCaptured:{get:function(){return this.Xu},set:function(t){var e=this.ya;null!==e&&((e=e.Ja)instanceof SVGElement||(t?(this.lastInput.bubbles=!1,this.zj?(this.removeEventListener(e,"pointermove",this.Pk,!1),this.removeEventListener(e,"pointerdown",this.Ok,!1),this.removeEventListener(e,"pointerup",this.Rk,!1),this.removeEventListener(e,"pointerout",this.Qk,!1),this.addEventListener(V,"pointermove",this.Pk,!0),this.addEventListener(V,"pointerdown",this.Ok,!0),this.addEventListener(V,"pointerup",this.Rk,!0),this.addEventListener(V,"pointerout",this.Qk,!0)):(this.removeEventListener(e,"mousemove",this.Ik,!1),this.removeEventListener(e,"mousedown",this.Hk,!1),this.removeEventListener(e,"mouseup",this.Kk,!1),this.removeEventListener(e,"mouseout",this.Jk,!1),this.addEventListener(V,"mousemove",this.Ik,!0),this.addEventListener(V,"mousedown",this.Hk,!0),this.addEventListener(V,"mouseup",this.Kk,!0),this.addEventListener(V,"mouseout",this.Jk,!0)),this.removeEventListener(e,"wheel",this.Lk,!1),this.addEventListener(V,"wheel",this.Lk,!0),this.addEventListener(V,"selectstart",this.preventDefault,!1)):(this.zj?(this.removeEventListener(V,"pointermove",this.Pk,!0),this.removeEventListener(V,"pointerdown",this.Ok,!0),this.removeEventListener(V,"pointerup",this.Rk,!0),this.removeEventListener(V,"pointerout",this.Qk,!0),this.addEventListener(e,"pointermove",this.Pk,!1),this.addEventListener(e,"pointerdown",this.Ok,!1),this.addEventListener(e,"pointerup",this.Rk,!1),this.addEventListener(e,"pointerout",this.Qk,!1)):(this.removeEventListener(V,"mousemove",this.Ik,!0),this.removeEventListener(V,"mousedown",this.Hk,!0),this.removeEventListener(V,"mouseup",this.Kk,!0),this.removeEventListener(V,"mouseout",this.Jk,!0),this.addEventListener(e,"mousemove",this.Ik,!1),this.addEventListener(e,"mousedown",this.Hk,!1),this.addEventListener(e,"mouseup",this.Kk,!1),this.addEventListener(e,"mouseout",this.Jk,!1)),this.removeEventListener(V,"wheel",this.Lk,!0),this.removeEventListener(V,"selectstart",this.preventDefault,!1),this.addEventListener(e,"wheel",this.Lk,!1)),this.Xu=t))}},position:{get:function(){return this.la},set:function(t){var e=rt.alloc().assign(this.la);if(!e.w(t)){var o=this.viewportBounds.copy();this.la.assign(t),wa(this.animationManager,e,this.la),this.Sb||null===this.ya&&!this.sm.o()||(this.Sb=!0,Df(this,this.Rn,this.va/(t=this.scale),this.ua/t,this.Dj,!1),this.Sb=!1),this.Sb||this.onViewportBoundsChanged(o,this.viewportBounds,this.Aa,!1)}rt.free(e)}},initialPosition:{get:function(){return this.es},set:function(t){this.es.w(t)||(this.es=t.H())}},initialScale:{get:function(){return this.fs},set:function(t){this.fs!==t&&(this.fs=t)}},grid:{get:function(){return null===this.Ib&&xc(this),this.Ib},set:function(t){var e=this.Ib;if(e!==t){null===e&&(xc(this),e=this.Ib),t.type!==qe.Grid&&z("Diagram.grid must be a Panel of type Panel.Grid");var o=e.panel;null!==o&&o.remove(e),this.Ib=t,t.name="GRID",null!==o&&o.add(t),_c(this),this.M(),this.g("grid",e,t)}}},viewportBounds:{get:function(){var t=this.Rx,e=this.la,o=this.Aa;return t.h(e.x,e.y,Math.max(this.va,0)/o,Math.max(this.ua,0)/o),t}},viewSize:{get:function(){return this.sm},set:function(t){var e=this.viewSize;e.w(t)||(this.sm=t=t.H(),this.ua=this.va=0,t.o()?(this.va=t.width,this.ua=t.height):null!==this.Da&&(this.va=this.Da.clientWidth||1,this.ua=this.Da.clientHeight||1),this.Na(),this.g("viewSize",e,t),this.redraw())}},fixedBounds:{get:function(){return this.Zr},set:function(t){var e=this.Zr;e.w(t)||(t.width!==-1/0&&t.height!==1/0&&t.height!==-1/0||z("fixedBounds width/height must not be Infinity"),this.Zr=t=t.H(),this.Na(),this.g("fixedBounds",e,t))}},scrollMargin:{get:function(){return this.Si},set:function(t){"number"==typeof t&&(t=new hn(t));var e=this.Si;e.w(t)||(this.Si=t=t.H(),this.g("scrollMargin",e,t),this.Yq())}},scrollMode:{get:function(){return this.Ti},set:function(t){var e=this.Ti;e!==t&&(this.Ti=t,t===yh&&Bs(this,!1),this.g("scrollMode",e,t),this.M())}},scrollsPageOnFocus:{get:function(){return this.at},set:function(t){var e=this.at;e!==t&&(this.at=t,this.g("scrollsPageOnFocus",e,t))}},positionComputation:{get:function(){return this.Ns},set:function(t){var e=this.Ns;e!==t&&(this.Ns=t,Bs(this,!1),this.g("positionComputation",e,t))}},scaleComputation:{get:function(){return this.Us},set:function(t){var e=this.Us;e!==t&&(this.Us=t,yd(this,this.scale,this.scale),this.g("scaleComputation",e,t))}},documentBounds:{get:function(){return this.Rn}},isVirtualized:{get:function(){return this.rs},set:function(t){var e=this.rs;e!==t&&(this.rs=t,this.g("isVirtualized",e,t))}},scale:{get:function(){return this.Aa},set:function(t){var e=this.Aa;e!==t&&yd(this,e,t)}},defaultScale:{get:function(){return this.Qn},set:function(t){this.Qn=t}},autoScale:{get:function(){return this.Og},set:function(t){var e=this.Og;e!==t&&(this.Og=t,this.g("autoScale",e,t),t!==Gs&&Bs(this,!1))}},initialAutoScale:{get:function(){return this.Yf},set:function(t){var e=this.Yf;e!==t&&(this.Yf=t,this.g("initialAutoScale",e,t))}},initialViewportSpot:{get:function(){return this.gs},set:function(t){var e=this.gs;e!==t&&(t.kb()||z("initialViewportSpot must be a specific Spot: "+t),this.gs=t,this.g("initialViewportSpot",e,t))}},initialDocumentSpot:{get:function(){return this.ds},set:function(t){var e=this.ds;e!==t&&(t.kb()||z("initialViewportSpot must be a specific Spot: "+t),this.ds=t,this.g("initialDocumentSpot",e,t))}},minScale:{get:function(){return this.xs},set:function(t){var e=this.xs;e!==t&&(0<t?(this.xs=t,this.g("minScale",e,t),t>this.scale&&(this.scale=t)):Q(t,"> 0",Ee,"minScale"))}},maxScale:{get:function(){return this.vs},set:function(t){var e=this.vs;e!==t&&(0<t?(this.vs=t,this.g("maxScale",e,t),t<this.scale&&(this.scale=t)):Q(t,"> 0",Ee,"maxScale"))}},zoomPoint:{get:function(){return this.xt},set:function(t){this.xt.w(t)||(this.xt=t=t.H())}},contentAlignment:{get:function(){return this.Dj},set:function(t){var e=this.Dj;e.w(t)||(this.Dj=t=t.H(),this.g("contentAlignment",e,t),Bs(this,!1))}},initialContentAlignment:{get:function(){return this.to},set:function(t){var e=this.to;e.w(t)||(this.to=t=t.H(),this.g("initialContentAlignment",e,t))}},padding:{get:function(){return this.ib},set:function(t){"number"==typeof t&&(t=new hn(t));var e=this.ib;e.w(t)||(this.ib=t=t.H(),this.Na(),this.g("padding",e,t))}},partManager:{get:function(){return this.La},set:function(t){var e=this.La;e!==t&&(null!==t.diagram&&z("Cannot share PartManagers between Diagrams: "+t.toString()),null!==e&&e.ee(null),this.La=t,t.ee(this))}},nodes:{get:function(){return this.partManager.nodes.iterator}},links:{get:function(){return this.partManager.links.iterator}},parts:{get:function(){return this.partManager.parts.iterator}},layout:{get:function(){return this.kc},set:function(t){var e=this.kc;e!==t&&(this.kc=t,t.diagram=this,t.group=null,this.Ng=!0,this.g("layout",e,t),this.Db())}},isTreePathToChildren:{get:function(){return this.qs},set:function(t){var e=this.qs;if(e!==t&&(this.qs=t,this.g("isTreePathToChildren",e,t),!this.undoManager.isUndoingRedoing))for(t=this.nodes;t.next();)Mr(t.value)}},treeCollapsePolicy:{get:function(){return this.rt},set:function(t){var e=this.rt;e!==t&&(t!==mo&&t!==Sc&&t!==N0&&z("Unknown Diagram.treeCollapsePolicy: "+t),this.rt=t,this.g("treeCollapsePolicy",e,t))}},Le:{get:function(){return this.Uu},set:function(t){this.Uu=t}},autoScrollInterval:{get:function(){return this.qn},set:function(t){var e=this.qn;e!==t&&(this.qn=t,this.g("autoScrollInterval",e,t))}},autoScrollRegion:{get:function(){return this.sn},set:function(t){"number"==typeof t&&(t=new hn(t));var e=this.sn;e.w(t)||(this.sn=t=t.H(),this.Na(),this.g("autoScrollRegion",e,t))}}}),X.Object.defineProperties(Ee,{licenseKey:{get:function(){return Dc.Xb()},set:function(t){Dc.add(t)}},version:{get:function(){return Hm}}}),Ee.prototype.makeImageData=Ee.prototype.Hy,Ee.prototype.makeImage=Ee.prototype.GA,Ee.prototype.addRenderer=Ee.prototype.rz,Ee.prototype.makeSVG=Ee.prototype.iw,Ee.prototype.makeSvg=Ee.prototype.$t,Ee.prototype.stopAutoScroll=Ee.prototype.Jf,Ee.prototype.doAutoScroll=Ee.prototype.Et,Ee.prototype.isUnoccupied=Ee.prototype.Ek,Ee.prototype.raiseDiagramEvent=Ee.prototype.R,Ee.prototype.removeDiagramListener=Ee.prototype.Lm,Ee.prototype.addDiagramListener=Ee.prototype.kk,Ee.prototype.findTreeRoots=Ee.prototype.jA,Ee.prototype.layoutDiagram=Ee.prototype.EA,Ee.prototype.findTopLevelGroups=Ee.prototype.cA,Ee.prototype.findTopLevelNodesAndLinks=Ee.prototype.dA,Ee.prototype.ensureBounds=Ee.prototype.Ta,Ee.prototype.findLinksByExample=Ee.prototype.Ht,Ee.prototype.findNodesByExample=Ee.prototype.It,Ee.prototype.findLinkForData=Ee.prototype.yc,Ee.prototype.findNodeForData=Ee.prototype.gj,Ee.prototype.findPartForData=Ee.prototype.zc,Ee.prototype.findLinkForKey=Ee.prototype.findLinkForKey,Ee.prototype.findNodeForKey=Ee.prototype.Cb,Ee.prototype.findPartForKey=Ee.prototype.findPartForKey,Ee.prototype.rebuildParts=Ee.prototype.Md,Ee.prototype.transformViewToDoc=Ee.prototype.ou,Ee.prototype.transformRectDocToView=Ee.prototype.iB,Ee.prototype.transformDocToView=Ee.prototype.gr,Ee.prototype.centerRect=Ee.prototype.At,Ee.prototype.scrollToRect=Ee.prototype.Aw,Ee.prototype.scroll=Ee.prototype.scroll,Ee.prototype.highlightCollection=Ee.prototype.vA,Ee.prototype.highlight=Ee.prototype.uA,Ee.prototype.selectCollection=Ee.prototype.$A,Ee.prototype.select=Ee.prototype.select,Ee.prototype.updateAllRelationshipsFromData=Ee.prototype.ir,Ee.prototype.updateAllTargetBindings=Ee.prototype.updateAllTargetBindings,Ee.prototype.commit=Ee.prototype.commit,Ee.prototype.rollbackTransaction=Ee.prototype.If,Ee.prototype.commitTransaction=Ee.prototype.Xa,Ee.prototype.startTransaction=Ee.prototype.xa,Ee.prototype.raiseChanged=Ee.prototype.g,Ee.prototype.raiseChangedEvent=Ee.prototype.Va,Ee.prototype.removeChangedListener=Ee.prototype.Tk,Ee.prototype.addChangedListener=Ee.prototype.Hh,Ee.prototype.removeModelChangedListener=Ee.prototype.VA,Ee.prototype.addModelChangedListener=Ee.prototype.Wx,Ee.prototype.findLayer=Ee.prototype.xk,Ee.prototype.removeLayer=Ee.prototype.TA,Ee.prototype.addLayerAfter=Ee.prototype.nz,Ee.prototype.addLayerBefore=Ee.prototype.Ux,Ee.prototype.addLayer=Ee.prototype.um,Ee.prototype.moveParts=Ee.prototype.moveParts,Ee.prototype.copyParts=Ee.prototype.tk,Ee.prototype.removeParts=Ee.prototype.gu,Ee.prototype.remove=Ee.prototype.remove,Ee.prototype.add=Ee.prototype.add,Ee.prototype.clearDelayedGeometries=Ee.prototype.Hv,Ee.prototype.setProperties=Ee.prototype.Fw,Ee.prototype.resetInputOptions=Ee.prototype.ww,Ee.prototype.setInputOption=Ee.prototype.aB,Ee.prototype.getInputOption=Ee.prototype.Bm,Ee.prototype.resetRenderingHints=Ee.prototype.xw,Ee.prototype.setRenderingHint=Ee.prototype.Ty,Ee.prototype.getRenderingHint=Ee.prototype.Ke,Ee.prototype.maybeUpdate=Ee.prototype.hd,Ee.prototype.requestUpdate=Ee.prototype.Db,Ee.prototype.delayInitialization=Ee.prototype.Jz,Ee.prototype.isUpdateRequested=Ee.prototype.AA,Ee.prototype.invalidateDocumentBounds=Ee.prototype.Na,Ee.prototype.findObjectsNear=Ee.prototype.Eg,Ee.prototype.findPartsNear=Ee.prototype.$z,Ee.prototype.findObjectsIn=Ee.prototype.zf,Ee.prototype.findPartsIn=Ee.prototype.ty,Ee.prototype.findObjectsAt=Ee.prototype.hj,Ee.prototype.findPartsAt=Ee.prototype.Zz,Ee.prototype.findObjectAt=Ee.prototype.Vb,Ee.prototype.findPartAt=Ee.prototype.zm,Ee.prototype.focusObject=Ee.prototype.kA,Ee.prototype.alignDocument=Ee.prototype.uz,Ee.prototype.zoomToRect=Ee.prototype.mB,Ee.prototype.zoomToFit=Ee.prototype.zoomToFit,Ee.prototype.diagramScroll=Ee.prototype.iy,Ee.prototype.focus=Ee.prototype.focus,Ee.useDOM=function(t){gl=!!t&&void 0!==V.document},Ee.isUsingDOM=function(){return gl};var R0=null,jm=new gt,l1=null,Cc=null,gl=void 0!==V.document,Gu=null,ba="",Gs=new wt(Ee,"None",0),Wu=new wt(Ee,"Uniform",1),zm=new wt(Ee,"UniformToFill",2),O0=new wt(Ee,"CycleAll",10),Av=new wt(Ee,"CycleNotDirected",11),xd=new wt(Ee,"CycleNotDirectedFast",12),xo=new wt(Ee,"CycleNotUndirected",13),Qo=new wt(Ee,"CycleDestinationTree",14),Hh=new wt(Ee,"CycleSourceTree",15),yh=new wt(Ee,"DocumentScroll",1),wd=new wt(Ee,"InfiniteScroll",2),mo=new wt(Ee,"TreeParentCollapsed",21),Sc=new wt(Ee,"AllParentsCollapsed",22),N0=new wt(Ee,"AnyParentsCollapsed",23),Dc=new Lt,Hm="2.1.54",Um="image",L0=null,i_=!1;function ew(){if(gl){var t=V.document.createElement("canvas"),e=t.getContext("2d"),o=I("7ca11abfd022028846");e[o]=I("398c3597c01238");for(var a=["5da73c80a36455d5038e4972187c3cae51fd22",$.Dx+"4ae6247590da4bb21c324ba3a84e385776",vn.xF+"fb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387",pe.za],h=1;5>h;h++)e[I("7ca11abfd7330390")](I(a[h-1]),10,15*h);for(e[o]=I("39f046ebb36e4b"),o=1;5>o;o++)e[I("7ca11abfd7330390")](I(a[o-1]),10,15*o);(4!==a.length||"5"!==a[0][0]||"7"!==a[3][0])&&(vn.prototype.Jd=vn.prototype.Zx),L0=t}}function pn(){this.jz=null,this.l="zz@orderNum",this.Ve="63ad05bbe23a1786468a4c741b6d2"===this._tk?this.l=!0:null}function Gm(t,e){if(e.Gb.setTransform(e.Tb,0,0,e.Tb,0,0),null===t.Ve)t:{e="f";var o=V[I("76a715b2f73f148a")][I("72ba13b5")];if(t.Ve=!0,gl){var a=Ee[I("76a115b6ed251eaf4692")];if(a)for(var h=Dc.iterator;h.next()&&!(6>(a=I(a=h.value).split(I("39e9"))).length);){var c=I(a[1]).split(".");if("7da71ca0"!==a[4])break;var g=I($[I("6cae19")]).split(".");if(c[0]>g[0]||c[0]===g[0]&&c[1]>=g[1]){for(c=o[I("76ad18b4f73e")],g=o[I("73a612b6fb191d")](I("35e7"))+2;g<c;g++)e+=o[g];if(0>(c=e[I("73a612b6fb191d")](I(a[2])))&&I(a[2])!==I("7da71ca0ad381e90")&&(c=e[I("73a612b6fb191d")](I("76a715b2ef3e149757"))),0>c&&(c=e[I("73a612b6fb191d")](I("76a715b2ef3e149757"))),0>c&&(c=o[I("73a612b6fb191d")](I("7baa19a6f76c1988428554"))),t.Ve=!(0<=c&&c<e[I("73a612b6fb191d")](I("35"))||-1===e[I("73a612b6fb191d")](I("35"))),!t.Ve)break;if("#"===(c=I(a[2]))[0]){g=V.document.createElement("div");for(var _=a[0].replace(/[A-Za-z]/g,"");4>_.length;)_+="9";if(_=_.substr(_.length-4),a="",a+=["gsh","gsf"][parseInt(_.substr(0,1),10)%2],a+=["Header","Background","Display","Feedback"][parseInt(_.substr(0,1),10)%4],g[I("79a417a0f0181a8946")]=a,V.document[I("78a712aa")]){if(V.document[I("78a712aa")][I("7bb806b6ed32388c4a875b")](g),_=V.getComputedStyle(g).getPropertyValue(I("78a704b7e62456904c9b12701b6532a8")),V.document[I("78a712aa")][I("68ad1bbcf533388c4a875b")](g),_){if(-1!==_.indexOf(parseInt(c[1]+c[2],16))&&-1!==_.indexOf(parseInt(c[3]+c[4],16))){t.Ve=!1;break}if(C||p||T||it)for(a="."+a,c=0;c<document.styleSheets.length;c++)for(var k in g=document.styleSheets[c].rules||document.styleSheets[c].cssRules)if(a===g[k].selectorText){t.Ve=!1;break t}}}else t.Ve=null,t.Ve=!1}}}else{for(k=o[I("76ad18b4f73e")],h=o[I("73a612b6fb191d")](I("35e7"))+2;h<k;h++)e+=o[h];o=e[I("73a612b6fb191d")](I("7da71ca0ad381e90")),t.Ve=!(0<=o&&o<e[I("73a612b6fb191d")](I("35")))}}}return 0<t.Ve&&t!==t.jz}function Wm(t,e){if(gl){if(null!=e||z("Diagram setup requires an argument DIV."),null!==t.Da&&z("Diagram has already completed setup."),"string"==typeof e?t.Da=V.document.getElementById(e):e instanceof HTMLDivElement?t.Da=e:z("No DIV or DIV id supplied: "+e),null===t.Da&&z("Invalid DIV id; could not get element with id: "+e),void 0!==t.Da.B&&z("Invalid div id; div already has a Diagram associated with it."),!t.Zl&&V.ResizeObserver){var o=H(function(){t.Db()},250);t.Zl=new V.ResizeObserver(function(){o()}),t.Zl.observe(t.Da)}"static"===V.getComputedStyle(t.Da,null).position&&(t.Da.style.position="relative");var a="rgba(2"+(e=5)+"5, 255, 255, 0)";e--,t.Da.style["-webkit-tap-highlight-color"]=a,t.Da.style["-ms-touch-action"]="none",t.Da.innerHTML="",t.Da.B=t,t.Da.goDiagram=t,t.Da.go=V.go;var h=t.gq?new Nl(t):new Ma(t);if(void 0!==h.style&&(h.style.position="absolute",h.style.top="0px",h.style.left="0px","rtl"===V.getComputedStyle(t.Da,null).getPropertyValue("direction")&&(t.Gl=!0),h.style.zIndex="2",h.style.userSelect="none",h.style.MozUserSelect="none"),t.ya=h,t.Gb=h.context,a=t.Gb,t.Tb=t.computePixelRatio(),t.viewSize.o()||(t.va=t.Da.clientWidth||1,t.ua=t.Da.clientHeight||1),Mv(t,t.va,t.ua),t.Da.insertBefore(h.Ja,t.Da.firstChild),(h=new Ma(null)).width=1,h.height=1,t.Ju=h,t.ux=h.context,gl){h=J("div");var c=J("div");h.style.position="absolute",h.style.overflow="auto",h.style.width=t.va+"px",h.style.height=t.ua+"px",h.style.zIndex="1",c.style.position="absolute",c.style.width="1px",c.style.height="1px",t.Da.appendChild(h),h.appendChild(c),h.onscroll=S0,h.addEventListener("mousedown",wc),h.addEventListener("touchstart",wc,{passive:!0}),h.B=t,h.hz=!0,h.iz=!0,t.Ys=h,t.Pp=c}t.Yq=H(function(){t.yh=null,t.M()},300),t.Ww=H(function(){Pm(t)},250),t.preventDefault=function(g){return g.preventDefault(),!1},t.Ik=function(g){if(t.isEnabled){t.Zf=!0;var _=vh(t,g,!0);t.doMouseMove(),t.currentTool.isBeyondDragSize()&&(t.xd=0),ml(_,g)}},t.Hk=function(g){if(t.isEnabled)if(t.Zf=!0,t.re)g.preventDefault();else{var _=vh(t,g,!0);_.down=!0,_.clickCount=g.detail,(p||T)&&(g.timeStamp-t.Sj<t.qt&&!t.currentTool.isBeyondDragSize()?t.xd++:t.xd=1,t.Sj=g.timeStamp,_.clickCount=t.xd),_.clone(t.firstInput),t.doMouseDown(),1===g.button?g.preventDefault():ml(_,g)}},t.Kk=function(g){if(t.isEnabled)if(t.re&&2===g.button)g.preventDefault();else if(t.re&&0===g.button&&(t.re=!1),t.hk)g.preventDefault();else{t.Zf=!0;var _=vh(t,g,!0);_.up=!0,_.clickCount=g.detail,(p||T)&&(_.clickCount=t.xd),_.bubbles=g.bubbles,_.targetDiagram=md(g),t.doMouseUp(),t.Jf(),ml(_,g)}},t.Lk=function(g){if(t.isEnabled){var _=vh(t,g,!0);_.bubbles=!0;var k=0,P=0;_.delta=0,void 0!==g.deltaX?(0!==g.deltaX&&(k=0<g.deltaX?1:-1),0!==g.deltaY&&(P=0<g.deltaY?1:-1),_.delta=Math.abs(g.deltaX)>Math.abs(g.deltaY)?-k:-P):void 0!==g.wheelDeltaX?(0!==g.wheelDeltaX&&(k=0<g.wheelDeltaX?-1:1),0!==g.wheelDeltaY&&(P=0<g.wheelDeltaY?-1:1),_.delta=Math.abs(g.wheelDeltaX)>Math.abs(g.wheelDeltaY)?-k:-P):void 0!==g.wheelDelta&&0!==g.wheelDelta&&(_.delta=0<g.wheelDelta?1:-1),t.doMouseWheel(),ml(_,g)}},t.Jk=function(g){t.isEnabled&&(t.Zf=!1,vh(t,g,!0),(g=t.currentTool).cancelWaitAfter(),g.standardMouseOver())},t.Ow=function(g){if(t.isEnabled){t.hk=!1,t.re=!0;var _=yp(t,g,g.targetTouches[0],1<g.touches.length),k=null;if(0<g.targetTouches.length?k=g.targetTouches[0]:0<g.changedTouches.length&&(k=g.changedTouches[0]),null!==k){var P=k.screenX;k=k.screenY;var F=t.Go;g.timeStamp-t.Sj<t.qt&&!(25<Math.abs(F.x-P)||25<Math.abs(F.y-k))?t.xd++:t.xd=1,_.clickCount=t.xd,t.Sj=g.timeStamp,t.Go.h(P,k)}t.doMouseDown(),ml(_,g)}},t.Nw=function(g){if(t.isEnabled){var _=null;0<g.targetTouches.length?_=g.targetTouches[0]:0<g.changedTouches.length&&(_=g.changedTouches[0]),_=bv(t,g,_,1<g.touches.length),t.doMouseMove(),ml(_,g)}},t.Mw=function(g){if(t.isEnabled)if(t.hk)g.preventDefault();else if(!(1<g.touches.length)){var _=null,k=null;0<g.targetTouches.length?k=g.targetTouches[0]:0<g.changedTouches.length&&(k=g.changedTouches[0]);var P=D0(t,g,!1,!0,!1,!1);null!==k&&(null!==(_=V.document.elementFromPoint(k.clientX,k.clientY))&&void 0!==_.shadowRoot&&null!==_&&null!==_.shadowRoot&&(_=_.shadowRoot.elementFromPoint(k.clientX,k.clientY)),null!==_&&_.B instanceof Ee&&_.B!==t&&Uu(_.B,k,P),Uu(t,k,P),P.clickCount=t.xd),P.targetDiagram=null===_?md(g):_.B?_.B:null,P.targetObject=null,t.doMouseUp(),ml(P,g),t.re=!1}},t.Ok=function(g){if(t.isEnabled){t.Zf=!0;var _=t.Ls;void 0===_[g.pointerId]&&(_[g.pointerId]=g);var k=!1;if(null!==(_=t.bk)[0]&&_[0].pointerId===g.pointerId)_[0]=g;else if(null!==_[1]&&_[1].pointerId===g.pointerId)_[1]=g,k=!0;else if(null===_[0])_[0]=g;else{if(null!==_[1])return void g.preventDefault();_[1]=g,k=!0}("touch"===g.pointerType||"pen"===g.pointerType)&&(t.hk=!1,t.re=!0),_=yp(t,g,g,k),k=t.Go;var P="touch"===g.pointerType||"pen"===g.pointerType?25:10;g.timeStamp-t.Sj<t.qt&&!(Math.abs(k.x-g.screenX)>P||Math.abs(k.y-g.screenY)>P)?t.xd++:t.xd=1,_.clickCount=t.xd,t.Sj=g.timeStamp,t.Go.Ig(g.screenX,g.screenY),t.doMouseDown(),1===g.button?g.preventDefault():ml(_,g)}},t.Pk=function(g){if(t.isEnabled){t.Zf=!0;var _=t.bk;if(null!==_[0]&&_[0].pointerId===g.pointerId)_[0]=g;else{if(null!==_[1]&&_[1].pointerId===g.pointerId)return void(_[1]=g);if(null!==_[0])return;_[0]=g}_[0].pointerId===g.pointerId&&((_=bv(t,g,g,null!==_[1])).targetDiagram=md(g),t.doMouseMove(),ml(_,g))}},t.Rk=function(g){if(t.isEnabled){t.Zf=!0;var _="touch"===g.pointerType||"pen"===g.pointerType,k=t.Ls;if(_&&t.hk)delete k[g.pointerId],g.preventDefault();else if(null!==(k=t.bk)[0]&&k[0].pointerId===g.pointerId){k[0]=null,k=D0(t,g,!1,!0,!0,!1);var P=V.document.elementFromPoint(g.clientX,g.clientY);null!==P&&P.B instanceof Ee&&P.B!==t&&Uu(P.B,g,k),Uu(t,g,k),k.clickCount=t.xd,k.targetDiagram=null===P?md(g):P.B?P.B:null,k.targetObject=null,t.doMouseUp(),ml(k,g),_&&(t.re=!1)}else null!==k[1]&&k[1].pointerId===g.pointerId&&(k[1]=null)}},t.Qk=function(g){if(t.isEnabled){t.Zf=!1;var _=t.Ls;_[g.pointerId]&&delete _[g.pointerId],null!==(_=t.bk)[0]&&_[0].pointerId===g.pointerId&&(_[0]=null),null!==_[1]&&_[1].pointerId===g.pointerId&&(_[1]=null),"touch"!==g.pointerType&&"pen"!==g.pointerType&&((g=t.currentTool).cancelWaitAfter(),g.standardMouseOver())}},t.Tr=a.Y["d"+h1[1]+h1[2]+"wI"+Um.slice(1,5)]["b"+O1.slice(1,e)](a.Y,L0,e,e),a.uc(!0),function(t){var e=t.ya.Ja;e instanceof HTMLCanvasElement&&(t.zj?(t.addEventListener(e,"pointerdown",t.Ok,!1),t.addEventListener(e,"pointermove",t.Pk,!1),t.addEventListener(e,"pointerup",t.Rk,!1),t.addEventListener(e,"pointerout",t.Qk,!1)):(t.addEventListener(e,"touchstart",t.Ow,!1),t.addEventListener(e,"touchmove",t.Nw,!1),t.addEventListener(e,"touchend",t.Mw,!1),t.addEventListener(e,"mousemove",t.Ik,!1),t.addEventListener(e,"mousedown",t.Hk,!1),t.addEventListener(e,"mouseup",t.Kk,!1),t.addEventListener(e,"mouseout",t.Jk,!1)),t.addEventListener(e,"mouseenter",t.Oz,!1),t.addEventListener(e,"mouseleave",t.Pz,!1),t.addEventListener(e,"wheel",t.Lk,!1),t.addEventListener(e,"keydown",t.BA,!1),t.addEventListener(e,"keyup",t.CA,!1),t.addEventListener(e,"blur",t.Az,!1),t.addEventListener(e,"focus",t.Bz,!1),t.addEventListener(e,"selectstart",function(o){return o.preventDefault(),!1},!1),t.addEventListener(e,"contextmenu",function(o){return o.preventDefault(),!1},!1),t.addEventListener(e,"gesturestart",function(o){t.toolManager.gestureBehavior!==Al&&(t.toolManager.gestureBehavior===au?o.preventDefault():t.re&&t.lastInput.handled||(o.preventDefault(),t.Vl=t.scale,t.currentTool.doCancel()))},!1),t.addEventListener(e,"gesturechange",function(o){if(t.toolManager.gestureBehavior!==Al)if(t.toolManager.gestureBehavior===au)o.preventDefault();else if(!t.re||!t.lastInput.handled){o.preventDefault();var a=o.scale;if(null!==t.Vl){var h=t.ya.getBoundingClientRect();if(o=new rt(o.pageX-V.scrollX-t.va/h.width*h.left,o.pageY-V.scrollY-t.ua/h.height*h.top),h=t.commandHandler,(a*=t.Vl)!==t.scale&&h.canResetZoom(a)){var c=t.zoomPoint;t.zoomPoint=o,h.resetZoom(a),t.zoomPoint=c}}}},!1),t.addEventListener(V,"resize",t.Ww,!1))}(t)}}function Tf(t){this.l=void 0===t?new rt:t,this.u=new rt}Ee.className="Diagram",Ee.fromDiv=function(t){var e=t;return"string"==typeof t&&(e=V.document.getElementById(t)),e instanceof HTMLDivElement&&e.B instanceof Ee?e.B:null},Ee.inherit=function(t,e){function o(){}if(Object.getPrototypeOf(t).prototype)throw Error("Used go.Diagram.inherit defining already defined class \n"+t);o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t},Ee.None=Gs,Ee.Uniform=Wu,Ee.UniformToFill=zm,Ee.CycleAll=O0,Ee.CycleNotDirected=Av,Ee.CycleNotDirectedFast=xd,Ee.CycleNotUndirected=xo,Ee.CycleDestinationTree=Qo,Ee.CycleSourceTree=Hh,Ee.DocumentScroll=yh,Ee.InfiniteScroll=wd,Ee.TreeParentCollapsed=mo,Ee.AllParentsCollapsed=Sc,Ee.AnyParentsCollapsed=N0,pn.className="DiagramHelper",X.Object.defineProperties(Tf.prototype,{point:{get:function(){return this.l},set:function(t){this.l=t}},shifted:{get:function(){return this.u},set:function(t){this.u=t}}});var no,nr,Ys,ts,ho,Vs,Pv,Ec,kc,ha,h1="DraggingInfo";function Tv(t,e,o){this.node=t,this.info=e,this.$v=o}function F0(){this.reset()}function u1(t){1<arguments.length&&z("Palette constructor can only take one optional argument, the DIV HTML element or its id."),Ee.call(this,t),bd(this)}function bd(t){t.allowDragOut=!0,t.allowMove=!1,t.isReadOnly=!0,t.contentAlignment=En,t.layout=new ps}function Uh(t){1<arguments.length&&z("Overview constructor can only take one optional argument, the DIV HTML element or its id."),Ee.call(this,t);var e=this;this.animationManager.isEnabled=!1,this.Sb=!0,this.Ka=null,this.wl=this.vl=!1,this.I=this.T=!0,this.eb=0,this.u=!1,this.fm=null,this.Ty("drawShadows",!1);var o=new Nt,a=new Qi;a.stroke="magenta",a.strokeWidth=2,a.fill="transparent",a.name="BOXSHAPE",o.selectable=!0,o.selectionAdorned=!1,o.selectionObjectName="BOXSHAPE",o.locationObjectName="BOXSHAPE",o.resizeObjectName="BOXSHAPE",o.cursor="move",o.add(a),this.l=o,this.allowDelete=this.allowCopy=!1,this.allowSelect=!0,this.autoScrollRegion=new hn(0,0,0,0),this.la.h(0,0),this.toolManager.Ya("Dragging",new $u,this.toolManager.mouseMoveTools),this.click=function(){var h=e.observed;if(null!==h){var c=h.viewportBounds,g=e.lastInput.documentPoint;h.position=new rt(g.x-c.width/2,g.y-c.height/2)}},this.Xh=function(){e.Na(),Yu(e)},this.Wh=function(){null!==e.observed&&(e.Na(),e.M())},this.Sc=function(){1>e.updateDelay?e.M():e.u||(e.u=!0,setTimeout(function(){return e.redraw()},e.updateDelay))},this.Od=function(){null!==e.observed&&Yu(e)},this.autoScale=Wu,this.Sb=!1}function Do(t){var e=t.observed;if(null!==e){var o=t.drawsTemporaryLayers,a=t.drawsGrid&&o,h=e.grid;a&&null!==h&&h.visible&&!isNaN(h.width)&&!isNaN(h.height)&&(_c(e,h=te.alloc().assign(t.viewportBounds).Rc(e.viewportBounds)),te.free(h),Qs(e));var c=t.sb;c.reset(),1!==t.scale&&c.scale(t.scale),0===t.position.x&&0===t.position.y||c.translate(-t.position.x,-t.position.y),(h=t.Gb).scale(t.Tb,t.Tb),h.transform(c.m11,c.m12,c.m21,c.m22,c.dx,c.dy),c=(e=e.Ma.j).length;for(var g=0;g<c;g++){var _=e[g],k=t;if(_.visible&&0!==_.opacity){var P=_.diagram.grid.part;if(!o&&_.isTemporary)a&&P.layer===_&&(_=Hu(_,h),P.mc(h,k),h.globalAlpha=_);else{for(var F=Hu(_,h),j=k.scale,ut=te.alloc(),xt=_.Fa.j,pt=xt.length,Pt=0;Pt<pt;Pt++){var Xt=xt[Pt];(a||Xt!==P)&&_.dj(h,Xt,k,null,j,ut,!1)}te.free(ut),h.globalAlpha=F}}}}}function Yu(t){var e=t.box;if(null!==e){var o=t.observed;if(null!==o){t.Dc=!0,o=o.viewportBounds;var a=e.selectionObject,h=Ge.alloc();h.h(o.width,o.height),a.desiredSize=h,Ge.free(h),t=2/t.scale,a instanceof Qi&&(a.strokeWidth=t),e.location=new rt(o.x-t/2,o.y-t/2),e.isSelected=!0}}}function $u(){vr.call(this),this.l=null}function er(){me(this),this.B=R0,this.eb=this.I=this.u=!0,this.T=this.Ka=this.Sc=this.La=!1,this.Ki=this.l=null,this.Od=1.05,this.bv=NaN,this.yx=null,this.Bv=NaN,this.Av=Or,this.Cc=!0,this.rg=null,this.Tc=200}function Pf(t,e,o){if(e.isVisible())return o;if(e instanceof li)Pf(t,e.adornedPart,o);else if(e instanceof We){var a=e.fromNode;null!==a&&Pf(t,a,o),null!==(e=e.toNode)&&Pf(t,e,o)}else e instanceof Fe&&(null!==(a=e.labeledLink)&&Pf(t,a,o),null!==(a=e.Fg())&&(a.isTreeExpanded||a.wasTreeExpanded||o.push(a),Pf(t,a,o))),null!==(e=e.containingGroup)&&(e.isSubGraphExpanded||e.wasSubGraphExpanded||o.push(e),Pf(t,e,o));return o}function Ws(t){var e=u();for(t=t.iterator;t.next();){var o=t.value;o instanceof We||e.push(o)}t=new Ht,o=e.length;for(var a=0;a<o;a++){for(var h=e[a],c=!0,g=0;g<o;g++)if(h.Kd(e[g])){c=!1;break}c&&t.add(h)}return m(e),t}function Oi(){me(this),this.F=4225027,this.hb=1,this.og=null,this.oa="",this.ec=this.mb=null,this.la=new rt(NaN,NaN).freeze(),this.Xc=De,this.fg=fn,this.eg=re,this.sb=new vn,this.Zh=new vn,this.cg=new vn,this.Aa=this.ql=1,this.Yb=0,this.De=ts,this.jh=br,this.qc=new te(NaN,NaN,NaN,NaN).freeze(),this.xb=new te(NaN,NaN,NaN,NaN).freeze(),this.rc=new te(0,0,NaN,NaN).freeze(),this.O=this.xp=this.yp=null,this.$k=this.yb=zs,this.Jp=0,this.Kp=1,this.Rg=0,this.zn=1,this.aq=null,this.Qp=-1/0,this.am=0,this.bm=ii,this.cm=Ts,this.oi="",this.fb=this.N=null,this.dl=-1,this.em=this.Za=this.ni=this.im=null,this.Os=nr,this.Mp=this.Mg=this.ak=null}function $s(t){null===t.N&&(t.N=new Lv)}function Gh(t,e,o){var a=t.ij();if(null!==a)for(var h=t.fb.iterator;h.next();){var c=h.value,g=null;if(null!==c.sourceName){if(null===(g=__(c,a,t)))continue;c.jr(t,g,o,null)}else if(c.isToModel){var _=e.diagram;null===_||_.skipsModelSourceBindings||c.jr(t,_.model.modelData,o,a)}else{if(null===(_=a.data))continue;var k=e.diagram;null===k||k.skipsModelSourceBindings||c.jr(t,_,o,a)}g===t&&null!==(_=a.Gt(c.wj))&&c.Tw(_,g,o)}}function th(t,e,o,a,h){var c=t.qc,g=t.cg;g.reset(),Nv(t,g,e,o,a,h),t.cg=g,c.h(e,o,a,h),g.Tt()||g.Pw(c)}function Iv(t,e,o,a){return!1!==t.pickable&&(a.multiply(t.transform),o?t.Mc(e,a):t.Jh(e,a))}function Rv(t,e,o,a,h){if(t.xb.h(e,o,a,h),!t.desiredSize.o()){var c=t.qc,g=(o=t.jh).top+o.bottom;switch(o=c.width+(e=o.right+o.left),c=c.height+g,a+=e,h+=g,e=Ol(t,!0),o===a&&c===h&&(e=nr),e){case nr:(o>a||c>h)&&(ja(t,!0),t.measure(o>a?a:o,c>h?h:c,0,0));break;case no:ja(t,!0),t.measure(a,h,0,0);break;case ho:ja(t,!0),t.measure(a,c,0,0);break;case Vs:ja(t,!0),t.measure(o,h,0,0)}}}function iw(t,e,o){var a=t.xb,h=t.rc;null!==t.ec&&(_a(t,e,t.ec,!0,!0,h,a),t.ec instanceof In&&t.ec.type===Sa?(e.beginPath(),e.rect(a.x,a.y,a.width,a.height),e.Je(t.ec)):e.fillRect(a.x,a.y,a.width,a.height)),null!==t.mb&&(_a(t,e,t.mb,!0,!1,h,a),t.mb instanceof In&&t.mb.type===Sa?(e.beginPath(),e.rect(a.x,a.y,a.width,a.height),e.Je(t.mb)):e.fillRect(a.x,a.y,a.width,a.height)),t.ej(e,o)}function _a(t,e,o,a,h,c,g){if(null!==o){var _=1,k=1;if("string"==typeof o)a?e.fillStyle=o:e.strokeStyle=o;else if(o.type===Ku)a?e.fillStyle=o.color:e.strokeStyle=o.color;else{var P=0;if(t instanceof Qi&&(P=t.strokeWidth),_=c.width,k=c.height,h?(_=g.width,k=g.height):a||(_+=P,k+=P),(c=e instanceof Of)&&o.ke&&(o.type===qu||o.gl===_&&o.Au===k))var F=o.ke;else{var j=0,ut=0,xt=0,pt=0,Pt=0,Xt=0;if(Xt=Pt=0,h?(Pt=g.x,Xt=g.y):a||(Pt-=P/2,Xt-=P/2),j=o.start.x*_+o.start.offsetX,ut=o.start.y*k+o.start.offsetY,xt=o.end.x*_+o.end.offsetX,pt=o.end.y*k+o.end.offsetY,j+=Pt,xt+=Pt,ut+=Xt,pt+=Xt,o.type===Zu)F=e.createLinearGradient(j,ut,xt,pt);else if(o.type===Sa)Xt=isNaN(o.endRadius)?Math.max(_,k)/2:o.endRadius,isNaN(o.startRadius)?(Pt=0,Xt=Math.max(_,k)/2):Pt=o.startRadius,F=e.createRadialGradient(j,ut,Pt,xt,pt,Xt);else if(o.type===qu)try{F=e.createPattern(o.pattern,"repeat")}catch(ie){F=null}if(o.type!==qu&&null!==(h=o.colorStops))for(h=h.iterator;h.next();)F.addColorStop(h.key,h.value);if(c&&(o.ke=F,null!==F&&(o.gl=_,o.Au=k),null===F&&o.type===qu&&-1!==o.gl)){o.gl=-1;var $t=t.diagram;null!==$t&&-1===o.gl&&G(function(){$t.redraw()},600)}}a?e.fillStyle=F:e.strokeStyle=F}}}function Ov(t){if(0!=(2048&t.F)){var e=t.sb;if(e.reset(),!t.xb.o()||!t.qc.o())return void B0(t,!1);if(e.translate(t.xb.x-t.qc.x,t.xb.y-t.qc.y),1!==t.scale||0!==t.angle){var o=t.naturalBounds;Nv(t,e,o.x,o.y,o.width,o.height)}B0(t,!1),Tc(t,!0)}0!=(4096&t.F)&&(null===(e=t.panel)?(t.Zh.set(t.sb),t.ql=t.scale,Tc(t,!1)):null!==e.Fd&&((o=t.Zh).reset(),e.he()?o.multiply(e.Zh):null!==e.panel&&o.multiply(e.panel.Zh),o.multiply(t.sb),t.ql=t.scale*e.ql,Tc(t,!1)))}function Nv(t,e,o,a,h,c){if(1!==t.scale&&e.scale(t.scale),0!==t.Yb){var g=Hi;t.Ff()&&t.locationSpot.kb()&&(g=t.locationSpot);var _=rt.alloc();if(t instanceof Nt&&t.locationObject!==t)for(_.Uk((a=(o=t.locationObject).naturalBounds).x,a.y,a.width,a.height,g),o.cg.ta(_),_.offset(-o.measuredBounds.x,-o.measuredBounds.y),g=o.panel;null!==g&&g!==t;)g.cg.ta(_),_.offset(-g.measuredBounds.x,-g.measuredBounds.y),g=g.panel;else _.Uk(o,a,h,c,g);e.rotate(t.Yb,_.x,_.y),rt.free(_)}}function uu(t){if(!nl(t)){var e=t.panel;null!==e?e.s():t.Ff()&&null!==(e=t.diagram)&&(e.wd.add(t),t instanceof Fe&&t.sd(),e.Db()),Wh(t,!0)}}function Ol(t,e){var o=t.stretch,a=t.panel;return null!==a&&a.type===qe.Table?Xu(t,a.getRowDefinition(t.row),a.getColumnDefinition(t.column),e):null!==a&&a.type===qe.Auto&&a.tb()===t?Ac(t,no,e):o===ts?null!==a?a.type===qe.Spot&&a.tb()===t?Ac(t,no,e):Ac(t,(o=a.defaultStretch)===ts?nr:o,e):Ac(t,nr,e):Ac(t,o,e)}function Xu(t,e,o,a){var h=t.stretch;if(h!==ts)return Ac(t,h,a);var c=h=null;switch(e.stretch){case Vs:case no:c=!0}switch(o.stretch){case ho:case no:h=!0}return e=t.panel.defaultStretch,null===h&&(h=e===ho||e===no),null===c&&(c=e===Vs||e===no),Ac(t,!0===h&&!0===c?no:!0===h?ho:!0===c?Vs:nr,a)}function Ac(t,e,o){if(o)return e;if(e===nr||(o=t.desiredSize).o())return nr;if(t=t.angle,!isNaN(o.width))if(90!==t&&270!==t){if(e===ho)return nr;if(e===no)return Vs}else{if(e===Vs)return nr;if(e===no)return ho}if(!isNaN(o.height))if(90!==t&&270!==t){if(e===Vs)return nr;if(e===no)return ho}else{if(e===ho)return nr;if(e===no)return Vs}return e}function _d(t,e){t.F=e?512|t.F:-513&t.F}function If(t){return 0!=(1024&t.F)}function Md(t,e){t.F=e?1024|t.F:-1025&t.F}function B0(t,e){t.F=e?2048|t.F:-2049&t.F}function Tc(t,e){t.F=e?4096|t.F:-4097&t.F}function Pc(t){return 0!=(8192&t.F)}function ja(t,e){t.F=e?8192|t.F:-8193&t.F}function nl(t){return 0!=(16384&t.F)}function Wh(t,e){t.F=e?16384|t.F:-16385&t.F}function Yh(t){var e=t.part;if(e instanceof Fe&&(null!==t.portId||t===e.port)){var o=e.diagram;null===o||o.undoManager.isUndoingRedoing||xi(e,t)}}function nw(t){var e=t.diagram;null===e||e.undoManager.isUndoingRedoing||(t instanceof qe?t instanceof Fe?t.sd():t.an(t,function(o){Yh(o)}):Yh(t))}function gi(t,e){for(var o=1;o<arguments.length;++o);o=arguments;var a=null,h=null;if("function"==typeof t)h=t;else if("string"==typeof t){var c=Rf.G(t);"function"==typeof c?Ct(a=c(o=Et(arguments)))||z('GraphObject.make invoked object builder "'+t+'", but it did not return an Object'):h=V.go[t]}if(null===a&&(null!=h&&h.constructor||z("GraphObject.make requires a class function or GoJS class name or name of an object builder, not: "+t),a=new h),h=1,a instanceof Ee&&1<o.length){c=a;var g=o[1];("string"==typeof g||g instanceof HTMLDivElement)&&(Wm(c,g),h++)}for(;h<o.length;h++)void 0===(c=o[h])?z("Undefined value at argument "+h+" for object being constructed by GraphObject.make: "+a):c1(a,c);return a}function c1(t,e){if("string"==typeof e)if(t instanceof Qn)t.text=e;else if(t instanceof Qi)t.figure=e;else if(t instanceof ta)t.source=e;else if(t instanceof qe)null!==(e=wh.G(e))&&(t.type=e);else if(t instanceof In){var o=Vt(In,e);null!==o?t.type=o:z("Unknown Brush type as an argument to GraphObject.make: "+e)}else t instanceof xn?null!==(e=Vt(xn,e))&&(t.type=e):t instanceof Gn&&null!==(e=Vt(Gn,e))&&(t.type=e);else if(e instanceof Oi)t instanceof qe||z("A GraphObject can only be added to a Panel, not to: "+t),t.add(e);else if(e instanceof Eo){var a;e.isRow&&"function"==typeof t.getRowDefinition?a=t.getRowDefinition(e.index):e.isRow||"function"!=typeof t.getColumnDefinition||(a=t.getColumnDefinition(e.index)),a instanceof Eo?a.gy(e):z("A RowColumnDefinition can only be added to an object that implements getRowDefinition/getColumnDefinition, not to: "+t)}else if(e instanceof wt)"function"==typeof t.jb&&t.jb(e);else if(e instanceof es)t.type=e;else if(e instanceof Mo)t instanceof Oi||t instanceof Eo?t.bind(e):z("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+t);else if(e instanceof Va)t instanceof Oi?t.Qw(e):z("An AnimationTrigger can only be applied to a GraphObject, not to: "+t);else if(e instanceof as)t instanceof xn?t.figures.add(e):z("A PathFigure can only be added to a Geometry, not to: "+t);else if(e instanceof Gn)t instanceof as?t.segments.add(e):z("A PathSegment can only be added to a PathFigure, not to: "+t);else if(e instanceof Hn)t instanceof Ee||t instanceof hi?t.layout=e:z("A Layout can only be assigned to a Diagram or a Group, not to: "+t);else if(Array.isArray(e))for(o=0;o<e.length;o++)c1(t,e[o]);else if("object"==typeof e&&null!==e)if(t instanceof In){for(var h in o=new At,e)a=parseFloat(h),isNaN(a)?o[h]=e[h]:t.addColorStop(a,e[h]);Om(t,o)}else if(t instanceof Eo){for(o in void 0!==e.row?((null==(h=e.row)||h===1/0||isNaN(h)||0>h)&&z("Must specify non-negative integer row for RowColumnDefinition "+e+", not: "+h),t.isRow=!0,t.index=h):void 0!==e.column&&((null==(h=e.column)||h===1/0||isNaN(h)||0>h)&&z("Must specify non-negative integer column for RowColumnDefinition "+e+", not: "+h),t.isRow=!1,t.index=h),h=new At,e)"row"!==o&&"column"!==o&&(h[o]=e[o]);Om(t,h)}else Om(t,e);else z('Unknown initializer "'+e+'" for object being constructed by GraphObject.make: '+t)}function $h(t,e){Rf.add(t,e)}function Ic(t,e,o){void 0===o&&(o=null);var a=t[1];if("function"==typeof o?o(a):"string"==typeof a)return t.splice(1,1),a;if(void 0===e)throw Error("no "+("function"==typeof o?"satisfactory":"string")+" argument for GraphObject builder "+t[0]);return e}Tf.className="DraggingInfo",Tv.className="DraggingNodeInfoPair",F0.prototype.reset=function(){this.isGridSnapEnabled=!1,this.isGridSnapRealtime=!0,this.gridSnapCellSize=new Ge(NaN,NaN).freeze(),this.gridSnapCellSpot=gr,this.gridSnapOrigin=new rt(NaN,NaN).freeze(),this.groupsSnapMembers=this.dragsTree=this.dragsLink=!1,this.dragsMembers=this.groupsAlwaysMove=!0},F0.className="DraggingOptions",et(u1,Ee),u1.prototype.reset=function(){Ee.prototype.reset.call(this),bd(this)},u1.className="Palette",et(Uh,Ee),Uh.prototype.computePixelRatio=function(){return 1},Uh.prototype.redraw=function(){if(this.u&&1<=this.updateDelay){this.u=!1;var t=this.ya,e=this.Gb;if(null!==t&&null!==e){if(gd(this),null===this.fm){var o=new Ma(null);o.width=t.width,o.height=t.height,this.fm=o}try{this.ya=this.fm,this.Gb=this.ya.context,this.Gb.uc(!0),this.Gb.setTransform(1,0,0,1,0,0),this.Gb.clearRect(0,0,this.ya.width,this.ya.height),Do(this)}finally{this.ya=t,this.Gb=e}}}Ee.prototype.redraw.call(this)},Uh.prototype.mc=function(){if(null===this.Da&&z("No div specified"),null===this.ya&&z("No canvas specified"),!(this.ya instanceof Nl)&&(Jt(this.box),this.Dc)){var t=this.observed;if(null!==t&&!t.animationManager.defaultAnimation.isAnimating&&t.pj){gd(this);var e=this.ya;(t=this.Gb).uc(!0),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),1>this.updateDelay?Do(this):null!==this.fm&&(t.drawImage(this.fm.Ja,0,0),(e=this.sb).reset(),1!==this.scale&&e.scale(this.scale),0===this.position.x&&0===this.position.y||e.translate(-this.position.x,-this.position.y),t.scale(this.Tb,this.Tb),t.transform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy));for(var o=(e=this.Ma.j).length,a=0;a<o;a++)e[a].mc(t,this);this.Dc=this.xi=!1}}},Uh.prototype.computeBounds=function(){var t=this.observed;if(null===t)return Or;var e=t.documentBounds.copy();return e.Rc(t.viewportBounds),e},Uh.prototype.invalidateViewport=function(){!0!==this.Dc&&(this.Dc=!0,this.Db())},Uh.prototype.onViewportBoundsChanged=function(t,e,o,a){this.Sb||(zh(this),this.M(),hu(this),this.Na(),Yu(this),this.Ic.scale=o,this.Ic.position.x=t.x,this.Ic.position.y=t.y,this.Ic.bounds.assign(t),this.Ic.hw=a,this.R("ViewportBoundsChanged",this.Ic,t))},X.Object.defineProperties(Uh.prototype,{observed:{get:function(){return this.Ka},set:function(t){var e=this.Ka;if(t instanceof Uh&&z("Overview.observed Diagram may not be an Overview itself: "+t),e!==t){if(null!==e&&(this.remove(this.box),e.Lm("ViewportBoundsChanged",this.Xh),e.Lm("DocumentBoundsChanged",this.Wh),e.Lm("InvalidateDraw",this.Sc),e.Lm("AnimationFinished",this.Od)),this.Ka=t,null!==t&&(t.kk("ViewportBoundsChanged",this.Xh),t.kk("DocumentBoundsChanged",this.Wh),t.kk("InvalidateDraw",this.Sc),t.kk("AnimationFinished",this.Od),this.add(this.box)),this.Na(),null===t){this.fm=null;var o=this.ya,a=this.Gb;o&&a&&(a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,o.width,o.height))}else this.Sc(null),Yu(this),this.M();this.g("observed",e,t)}}},box:{get:function(){return this.l},set:function(t){var e=this.l;e!==t&&(this.l=t,this.remove(e),this.add(this.l),Yu(this),this.g("box",e,t))}},drawsTemporaryLayers:{get:function(){return this.T},set:function(t){this.T!==t&&(this.T=t,this.redraw())}},drawsGrid:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t,this.redraw())}},updateDelay:{get:function(){return this.eb},set:function(t){0>t&&(t=0),this.eb!==t&&(this.eb=t)}}}),Uh.className="Overview",et($u,vr),$u.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(null===t||!t.allowMove||!t.allowSelect)return!1;var e=t.observed;if(null===e)return!1;var o=t.lastInput;return!(!o.left||t.currentTool!==this&&(!this.isBeyondDragSize()||o.isTouchEvent&&o.timestamp-t.firstInput.timestamp<this.delay)||(null===this.findDraggablePart()&&(this.l=new rt((o=e.viewportBounds).width/2,o.height/2),e.position=new rt((t=t.firstInput.documentPoint).x-this.l.x,t.y-this.l.y)),0))},$u.prototype.doActivate=function(){this.l=null,vr.prototype.doActivate.call(this)},$u.prototype.doUpdateCursor=function(){var t=this.diagram,e=t.box;null!==e&&e.cursor&&(t.currentCursor=e.cursor)},$u.prototype.moveParts=function(){var t=this.diagram,e=t.observed;if(null!==e){var o=t.box;if(null!==o){if(null===this.l){var a=t.firstInput.documentPoint;this.l=new rt(a.x-(o=o.location).x,a.y-o.y)}e.position=new rt((t=t.lastInput.documentPoint).x-this.l.x,t.y-this.l.y)}}},$u.className="OverviewDraggingTool",er.prototype.toString=function(){return"CommandHandler"},er.prototype.ee=function(t){this.B=t},er.prototype.doKeyDown=function(){var t=this.diagram,e=t.lastInput,o=Z?e.meta:e.control,a=e.shift,h=e.alt,c=e.key;!o||"C"!==c&&"Insert"!==c?o&&"X"===c||a&&"Del"===c?this.canCutSelection()&&this.cutSelection():o&&"V"===c||a&&"Insert"===c?this.canPasteSelection()&&this.pasteSelection():o&&"Y"===c||h&&a&&"Backspace"===c?this.canRedo()&&this.redo():o&&"Z"===c||h&&"Backspace"===c?this.canUndo()&&this.undo():"Del"===c||"Backspace"===c?this.canDeleteSelection()&&this.deleteSelection():o&&"A"===c?this.canSelectAll()&&this.selectAll():"Esc"===c?this.canStopCommand()&&this.stopCommand():"Up"===c?t.allowVerticalScroll&&t.scroll(o?"pixel":"line","up"):"Down"===c?t.allowVerticalScroll&&t.scroll(o?"pixel":"line","down"):"Left"===c?t.allowHorizontalScroll&&t.scroll(o?"pixel":"line","left"):"Right"===c?t.allowHorizontalScroll&&t.scroll(o?"pixel":"line","right"):"PageUp"===c?a&&t.allowHorizontalScroll?t.scroll("page","left"):t.allowVerticalScroll&&t.scroll("page","up"):"PageDown"===c?a&&t.allowHorizontalScroll?t.scroll("page","right"):t.allowVerticalScroll&&t.scroll("page","down"):"Home"===c?o&&t.allowVerticalScroll?t.scroll("document","up"):!o&&t.allowHorizontalScroll&&t.scroll("document","left"):"End"===c?o&&t.allowVerticalScroll?t.scroll("document","down"):!o&&t.allowHorizontalScroll&&t.scroll("document","right"):" "===c?this.canScrollToPart()&&this.scrollToPart():"Subtract"===c?this.canDecreaseZoom()&&this.decreaseZoom():"Add"===c?this.canIncreaseZoom()&&this.increaseZoom():o&&"0"===c?this.canResetZoom()&&this.resetZoom():a&&"Z"===c?this.canZoomToFit()&&this.zoomToFit():o&&!a&&"G"===c?this.canGroupSelection()&&this.groupSelection():o&&a&&"G"===c?this.canUngroupSelection()&&this.ungroupSelection():"F2"===c||e.event&&"F2"===e.event.key?this.canEditTextBlock()&&this.editTextBlock():"ContextMenu"===c||e.event&&"ContextMenu"===e.event.key?this.canShowContextMenu()&&this.showContextMenu():e.bubbles=!0:this.canCopySelection()&&this.copySelection()},er.prototype.doKeyUp=function(){this.diagram.lastInput.bubbles=!0},er.prototype.stopCommand=function(){var t=this.diagram,e=t.currentTool;e instanceof $r&&t.allowSelect&&t.clearSelection(),null!==e&&e.doCancel()},er.prototype.canStopCommand=function(){return!0},er.prototype.selectAll=function(){var t=this.diagram;t.M();try{t.currentCursor="wait",t.R("ChangingSelection",t.selection);for(var e=t.parts;e.next();)e.value.isSelected=!0;for(var o=t.nodes;o.next();)o.value.isSelected=!0;for(var a=t.links;a.next();)a.value.isSelected=!0}finally{t.R("ChangedSelection",t.selection),t.currentCursor=""}},er.prototype.canSelectAll=function(){return this.diagram.allowSelect},er.prototype.deleteSelection=function(){var t=this.diagram;try{t.currentCursor="wait",t.R("ChangingSelection",t.selection),t.xa("Delete"),t.R("SelectionDeleting",t.selection);for(var e=new Ht,o=t.selection.iterator;o.next();)Fi(e,o.value,!0,this.deletesTree?1/0:0,!!this.deletesConnectedLinks&&null,function(a){return a.canDelete()});t.gu(e,!0),t.R("SelectionDeleted",e)}finally{t.Xa("Delete"),t.R("ChangedSelection",t.selection),t.currentCursor=""}},er.prototype.canDeleteSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowDelete||0===t.selection.count)},er.prototype.copySelection=function(){var t=this.diagram,e=new Ht;for(t=t.selection.iterator;t.next();)Fi(e,t.value,!0,this.copiesTree?1/0:0,this.copiesConnectedLinks,function(o){return o.canCopy()});this.copyToClipboard(e)},er.prototype.canCopySelection=function(){var t=this.diagram;return!(!t.allowCopy||!t.allowClipboard||0===t.selection.count)},er.prototype.cutSelection=function(){this.copySelection(),this.deleteSelection()},er.prototype.canCutSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowCopy||!t.allowDelete||!t.allowClipboard||0===t.selection.count)},er.prototype.copyToClipboard=function(t){var e=this.diagram,o=null;if(null===t)Gu=null,ba="";else{o=e.model;var a=!1,h=!1,c=null;try{o.Em()&&(a=o.sk,o.sk=this.copiesParentKey),o.Ck()&&(h=o.rk,o.rk=this.copiesGroupKey),c=e.tk(t,null,!0)}finally{o.Em()&&(o.sk=a),o.Ck()&&(o.rk=h),(o=new Lt).addAll(c),Gu=o,ba=e.model.dataFormat}}e.R("ClipboardChanged",o)},er.prototype.pasteFromClipboard=function(){var t=new Ht,e=Gu;if(null===e)return t;var o=this.diagram;if(ba!==o.model.dataFormat)return t;var a=o.model,h=!1,c=!1,g=null;try{a.Em()&&(h=a.sk,a.sk=this.copiesParentKey),a.Ck()&&(c=a.rk,a.rk=this.copiesGroupKey),g=o.tk(e,o,!1)}finally{for(a.Em()&&(a.sk=h),a.Ck()&&(a.rk=c),e=g.iterator;e.next();)a=e.key,(o=e.value).location.o()||(a.location.o()?o.location=a.location:!o.position.o()&&a.position.o()&&(o.position=a.position)),t.add(o)}return t},er.prototype.pasteSelection=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.currentCursor="wait",e.R("ChangingSelection",e.selection),e.xa("Paste");var o=this.pasteFromClipboard();0<o.count&&e.clearSelection(!0);for(var a=o.iterator;a.next();)a.value.isSelected=!0;if(null!==t){var h=e.computePartsBounds(e.selection);h.o()&&bc(e,this.computeEffectiveCollection(e.selection,e.kl),new rt(t.x-h.centerX,t.y-h.centerY),e.kl,!1)}e.R("ClipboardPasted",o)}finally{e.Xa("Paste"),e.R("ChangedSelection",e.selection),e.currentCursor=""}},er.prototype.canPasteSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowClipboard||null===Gu||0===Gu.count||ba!==t.model.dataFormat)},er.prototype.undo=function(){this.diagram.undoManager.undo()},er.prototype.canUndo=function(){var t=this.diagram;return!t.isReadOnly&&!t.isModelReadOnly&&t.allowUndo&&t.undoManager.canUndo()},er.prototype.redo=function(){this.diagram.undoManager.redo()},er.prototype.canRedo=function(){var t=this.diagram;return!t.isReadOnly&&!t.isModelReadOnly&&t.allowUndo&&t.undoManager.canRedo()},er.prototype.decreaseZoom=function(t){void 0===t&&(t=1/this.zoomFactor);var e=this.diagram;e.autoScale===Gs&&((t*=e.scale)<e.minScale||t>e.maxScale||(e.scale=t))},er.prototype.canDecreaseZoom=function(t){void 0===t&&(t=1/this.zoomFactor);var e=this.diagram;return e.autoScale===Gs&&!((t*=e.scale)<e.minScale||t>e.maxScale)&&e.allowZoom},er.prototype.increaseZoom=function(t){void 0===t&&(t=this.zoomFactor);var e=this.diagram;e.autoScale===Gs&&((t*=e.scale)<e.minScale||t>e.maxScale||(e.scale=t))},er.prototype.canIncreaseZoom=function(t){void 0===t&&(t=this.zoomFactor);var e=this.diagram;return e.autoScale===Gs&&!((t*=e.scale)<e.minScale||t>e.maxScale)&&e.allowZoom},er.prototype.resetZoom=function(t){void 0===t&&(t=this.defaultScale);var e=this.diagram;t<e.minScale||t>e.maxScale||(e.scale=t)},er.prototype.canResetZoom=function(t){void 0===t&&(t=this.defaultScale);var e=this.diagram;return!(t<e.minScale||t>e.maxScale)&&e.allowZoom},er.prototype.zoomToFit=function(){var t=this.diagram,e=t.animationManager;e.Bc(),t.redraw();var o=t.position,a=t.scale;ao(e,"Zoom To Fit"),this.isZoomToFitRestoreEnabled&&a===this.Bv&&!isNaN(this.bv)&&t.documentBounds.w(this.Av)?(t.scale=this.bv,t.position=this.yx,this.Bv=NaN,this.Av=Or):(this.bv=a,this.yx=o.copy(),t.zoomToFit(),this.Bv=t.scale,this.Av=t.documentBounds.copy()),Rn(e)},er.prototype.canZoomToFit=function(){return this.diagram.allowZoom},er.prototype.scrollToPart=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.Ta(),null===t){try{null!==this.rg&&(this.rg.next()?t=this.rg.value:this.rg=null)}catch(k){this.rg=null}null===t&&(0<e.highlighteds.count?this.rg=e.highlighteds.iterator:0<e.selection.count&&(this.rg=e.selection.iterator),null!==this.rg&&this.rg.next()&&(t=this.rg.value))}if(null!==t){var o=e.animationManager;ao(o,"Scroll To Part");var a=this.scrollToPartPause;if(0<a){var h=Pf(this,t,[t]);if(1===h.length)e.xa(),e.At(t.actualBounds),e.Xa("Scroll To Part");else{var c=function(){e.xa();for(var k=h.pop();0<h.length&&k instanceof Fe&&k.isTreeExpanded&&(!(k instanceof hi)||k.isSubGraphExpanded);)k=h.pop();0<h.length?(k instanceof Nt&&e.Aw(k.actualBounds),k instanceof Fe&&!k.isTreeExpanded&&(k.isTreeExpanded=!0),k instanceof hi&&!k.isSubGraphExpanded&&(k.isSubGraphExpanded=!0)):(k instanceof Nt&&e.At(k.actualBounds),e.Lm("LayoutCompleted",g)),e.Xa("Scroll To Part")},g=function(){G(c,(o.isEnabled?o.duration:0)+a)};e.kk("LayoutCompleted",g),c()}}else{var _=e.position.copy();e.At(t.actualBounds),_.Qa(e.position)&&o.Bc()}}},er.prototype.canScrollToPart=function(t){return void 0===t&&(t=null),(null===t||t instanceof Nt)&&(0!==(t=this.diagram).selection.count||0!==t.highlighteds.count)&&t.allowHorizontalScroll&&t.allowVerticalScroll},er.prototype.collapseTree=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.xa("Collapse Tree"),ao(e.animationManager,"Collapse Tree");var o=new Lt;if(null!==t&&t.isTreeExpanded)t.collapseTree(),o.add(t);else if(null===t)for(var a=e.selection.iterator;a.next();){var h=a.value;h instanceof Fe&&h.isTreeExpanded&&(h.collapseTree(),o.add(h))}e.R("TreeCollapsed",o)}finally{e.Xa("Collapse Tree")}},er.prototype.canCollapseTree=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t){if(!(t instanceof Fe&&t.isTreeExpanded))return!1;if(0<t.Hq().count)return!0}else for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof Fe&&e.isTreeExpanded&&0<e.Hq().count)return!0;return!1},er.prototype.expandTree=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.xa("Expand Tree"),ao(e.animationManager,"Expand Tree");var o=new Lt;if(null===t||t.isTreeExpanded){if(null===t)for(var a=e.selection.iterator;a.next();){var h=a.value;h instanceof Fe&&!h.isTreeExpanded&&(h.expandTree(),o.add(h))}}else t.expandTree(),o.add(t);e.R("TreeExpanded",o)}finally{e.Xa("Expand Tree")}},er.prototype.canExpandTree=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t){if(!(t instanceof Fe)||t.isTreeExpanded)return!1;if(0<t.Hq().count)return!0}else for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof Fe&&!e.isTreeExpanded&&0<e.Hq().count)return!0;return!1},er.prototype.groupSelection=function(){var t=this.diagram,e=t.model;if(e.Dk()){var o=this.archetypeGroupData;if(null!==o){var a=null;try{t.currentCursor="wait",t.R("ChangingSelection",t.selection),t.xa("Group");for(var h=new Lt,c=t.selection.iterator;c.next();){var g=c.value;g.Nc()&&g.canGroup()&&h.add(g)}for(var _=new Lt,k=h.iterator;k.next();){var P=k.value;c=!1;for(var F=h.iterator;F.next();)if(P.Kd(F.value)){c=!0;break}c||_.add(P)}if(0<_.count){var j=_.first().containingGroup;if(null!==j)for(;null!==j;){h=!1;for(var ut=_.iterator;ut.next();)if(!ut.value.Kd(j)){h=!0;break}if(!h)break;j=j.containingGroup}if(o instanceof hi)Ea(o),null!==(a=o.copy())&&t.add(a);else if(e.fw(o)){var xt=e.copyNodeData(o);Ct(xt)&&(e.uf(xt),a=t.gj(xt))}if(null!==a){null!==j&&this.isValidMember(j,a)&&(a.containingGroup=j);for(var pt=_.iterator;pt.next();){var Pt=pt.value;this.isValidMember(a,Pt)&&(Pt.containingGroup=a)}t.clearSelection(!0),a.isSelected=!0}}t.R("SelectionGrouped",a)}finally{t.Xa("Group"),t.R("ChangedSelection",t.selection),t.currentCursor=""}}}},er.prototype.canGroupSelection=function(){var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowGroup||!t.model.Dk()||null===this.archetypeGroupData)return!1;for(t=t.selection.iterator;t.next();){var e=t.value;if(e.Nc()&&e.canGroup())return!0}return!1},er.prototype.isValidMember=function(t,e){if(null===e||t===e||e instanceof We)return!1;if(null!==t){if(t===e||t.Kd(e))return!1;var o=t.memberValidation;if(null!==o&&!o(t,e)||null===t.data&&null!==e.data||null!==t.data&&null===e.data)return!1}return null===(o=this.memberValidation)||o(t,e)},er.prototype.ungroupSelection=function(t){void 0===t&&(t=null);var e=this.diagram,o=e.model;if(o.Dk())try{e.currentCursor="wait",e.R("ChangingSelection",e.selection),e.xa("Ungroup");var a=new Lt;if(null!==t)a.add(t);else for(var h=e.selection.iterator;h.next();){var c=h.value;c instanceof hi&&c.canUngroup()&&a.add(c)}var g=new Lt;if(0<a.count){e.clearSelection(!0);for(var _=a.iterator;_.next();){var k=_.value;k.expandSubGraph();var P=k.containingGroup,F=null!==P&&null!==P.data?o.ja(P.data):void 0;g.addAll(k.memberParts);for(var j=g.iterator;j.next();){var ut=j.value;if(ut.isSelected=!0,!(ut instanceof We)){var xt=ut.data;null!==xt?o.dr(xt,F):ut.containingGroup=P}}e.remove(k)}}e.R("SelectionUngrouped",a,g)}finally{e.Xa("Ungroup"),e.R("ChangedSelection",e.selection),e.currentCursor=""}},er.prototype.canUngroupSelection=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowDelete||!e.allowUngroup||!e.model.Dk())return!1;if(null!==t){if(!(t instanceof hi))return!1;if(t.canUngroup())return!0}else for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof hi&&e.canUngroup())return!0;return!1},er.prototype.addTopLevelParts=function(t,e){var o=!0;for(t=Ws(t).iterator;t.next();){var a=t.value;null!==a.containingGroup&&(!e||this.isValidMember(null,a)?a.containingGroup=null:o=!1)}return o},er.prototype.collapseSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.xa("Collapse SubGraph"),ao(e.animationManager,"Collapse SubGraph");var o=new Lt;if(null!==t&&t.isSubGraphExpanded)t.collapseSubGraph(),o.add(t);else if(null===t)for(var a=e.selection.iterator;a.next();){var h=a.value;h instanceof hi&&h.isSubGraphExpanded&&(h.collapseSubGraph(),o.add(h))}e.R("SubGraphCollapsed",o)}finally{e.Xa("Collapse SubGraph")}},er.prototype.canCollapseSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t)return!!(t instanceof hi&&t.isSubGraphExpanded);for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof hi&&e.isSubGraphExpanded)return!0;return!1},er.prototype.expandSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.xa("Expand SubGraph"),ao(e.animationManager,"Expand SubGraph");var o=new Lt;if(null===t||t.isSubGraphExpanded){if(null===t)for(var a=e.selection.iterator;a.next();){var h=a.value;h instanceof hi&&!h.isSubGraphExpanded&&(h.expandSubGraph(),o.add(h))}}else t.expandSubGraph(),o.add(t);e.R("SubGraphExpanded",o)}finally{e.Xa("Expand SubGraph")}},er.prototype.canExpandSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t)return t instanceof hi&&!t.isSubGraphExpanded;for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof hi&&!e.isSubGraphExpanded)return!0;return!1},er.prototype.editTextBlock=function(t){void 0===t&&(t=null);var e=this.diagram,o=e.toolManager.findTool("TextEditing");if(null!==o){if(null===t){t=null;for(var a=e.selection.iterator;a.next();){var h=a.value;if(h.canEdit()){t=h;break}}if(null===t)return;t=t.ym(function(c){return c instanceof Qn&&c.editable})}null!==t&&(e.currentTool=null,o.textBlock=t,e.currentTool=o)}},er.prototype.canEditTextBlock=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowTextEdit||null===e.toolManager.findTool("TextEditing"))return!1;if(null!==t){if(!(t instanceof Qn))return!1;if(null!==(t=t.part)&&t.canEdit())return!0}else for(e=e.selection.iterator;e.next();)if((t=e.value).canEdit()&&null!==(t=t.ym(function(o){return o instanceof Qn&&o.editable})))return!0;return!1},er.prototype.showContextMenu=function(t){var e=this.diagram,o=e.toolManager.findTool("ContextMenu");if(null!==o&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null!==(t=o.findObjectWithContextMenu(t)))){var a=e.lastInput,h=null;t instanceof Oi?h=t.da(Hi):e.viewportBounds.$(a.documentPoint)||(h=new rt((h=e.viewportBounds).x+h.width/2,h.y+h.height/2)),null!==h&&(a.viewPoint=e.gr(h),a.documentPoint=h,a.left=!1,a.right=!0,a.up=!0),e.currentTool=o,qb(o,!1,t)}},er.prototype.canShowContextMenu=function(t){var e=this.diagram,o=e.toolManager.findTool("ContextMenu");return null!==o&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null!==o.findObjectWithContextMenu(t))},er.prototype.computeEffectiveCollection=function(t,e){var o=this.diagram,a=o.toolManager.findTool("Dragging"),h=o.currentTool===a;if(void 0===e&&(e=h?a.dragOptions:o.kl),a=new gt,null===t)return a;for(var c=t.iterator;c.next();)la(o,a,c.value,h,e);if(null!==o.draggedLink&&e.dragsLink)return a;for(c=t.iterator;c.next();)(t=c.value)instanceof We&&((null===(e=t.fromNode)||a.contains(e))&&(null===(e=t.toNode)||a.contains(e))||a.remove(t));return a},X.Object.defineProperties(er.prototype,{diagram:{get:function(){return this.B}},copiesClipboardData:{get:function(){return this.u},set:function(t){this.u=t}},copiesConnectedLinks:{get:function(){return this.I},set:function(t){this.I=t}},deletesConnectedLinks:{get:function(){return this.eb},set:function(t){this.eb=t}},copiesTree:{get:function(){return this.La},set:function(t){this.La=t}},deletesTree:{get:function(){return this.Sc},set:function(t){this.Sc=t}},copiesParentKey:{get:function(){return this.Ka},set:function(t){this.Ka=t}},copiesGroupKey:{get:function(){return this.T},set:function(t){this.T=t}},archetypeGroupData:{get:function(){return this.l},set:function(t){this.l=t}},memberValidation:{get:function(){return this.Ki},set:function(t){this.Ki=t}},defaultScale:{get:function(){return this.diagram.defaultScale},set:function(t){this.diagram.defaultScale=t}},zoomFactor:{get:function(){return this.Od},set:function(t){1<t||z("zoomFactor must be larger than 1.0, not: "+t),this.Od=t}},isZoomToFitRestoreEnabled:{get:function(){return this.Cc},set:function(t){this.Cc=t}},scrollToPartPause:{get:function(){return this.Tc},set:function(t){this.Tc=t}}}),er.className="CommandHandler",C0=function(){return new er},Oi.prototype.cloneProtected=function(t){t.F=6144|this.F,t.hb=this.hb,t.oa=this.oa,t.mb=this.mb,t.ec=this.ec,t.Mg=this.Mg,t.la.assign(this.la),t.Xc=this.Xc.H(),t.fg=this.fg.H(),t.eg=this.eg.H(),t.cg=this.cg.copy(),t.Aa=this.Aa,t.Yb=this.Yb,t.De=this.De,t.jh=this.jh.H(),t.qc.assign(this.qc),t.xb.assign(this.xb),t.rc.assign(this.rc),t.xp=this.xp,null!==this.O&&(t.O=this.O.copy()),t.yb=this.yb.H(),t.$k=this.$k.H(),t.Jp=this.Jp,t.Kp=this.Kp,t.Rg=this.Rg,t.zn=this.zn,t.aq=this.aq,t.Qp=this.Qp,t.am=this.am,t.bm=this.bm.H(),t.cm=this.cm,t.oi=this.oi,null!==this.N&&(t.N=this.N.copy()),t.fb=this.fb,t.dl=this.dl,null!==this.ni&&(t.ni=Et(this.ni)),null!==this.Za&&(t.Za=this.Za.copy()),t.em=this.em},Oi.prototype.Tx=function(t){var e=this.ni;if(kt(e)){for(var o=0;o<e.length;o++)if(e[o]===t)return}else this.ni=e=[];e.push(t)},Oi.prototype.yf=function(t){t.yp=null,t.ak=null,t.s()},Oi.prototype.clone=function(){var t=new this.constructor;if(this.cloneProtected(t),null!==this.ni)for(var e=0;e<this.ni.length;e++){var o=this.ni[e];t[o]=this[o]}return t},Oi.prototype.copy=function(){return this.clone()},(st=Oi.prototype).jb=function(t){t.classType===We?0===t.name.indexOf("Orient")?this.segmentOrientation=t:z("Unknown Link enum value for GraphObject.segmentOrientation property: "+t):t.classType===Oi&&(this.stretch=t)},st.toString=function(){return y(this.constructor)+"#"+be(this)},st.Kc=function(){if(null===this.O){var t=new hg;t.bh=mn,t.Ch=mn,t.$g=10,t.Ah=10,t.ah=0,t.Bh=0,this.O=t}},st.Va=function(t,e,o,a,h,c,g){var _=this.part;if(null!==_&&(_.Sk(t,e,o,a,h,c,g),o===this&&t===Ar&&If(this)&&Gh(this,_,e),c=this.diagram,null===this.Mg||null===c||!c.pj||c.undoManager.isUndoingRedoing||c.currentTool!==c.toolManager||c.animationManager.tn||null!==(t=this.Mg.get(e))&&c.animationManager.isEnabled&&!c.animationManager.isTicking&&(null===this.Mp&&(this.Mp=new gt),g=0===c.undoManager.transactionLevel,t.startCondition===qo?g=!0:t.startCondition===Js&&(g=!1),g?(function(t,e){null!==(t=t.bl)&&(t.duration&&(e.duration=t.duration),t.finished&&(e.finished=t.finished),t.easing&&(e.easing=t.easing))}(t,c=new Fs),null!==(g=this.Mp.get(t))&&g.stop(),this.Mp.add(t,c),c.xv=this,c.Ox=t,c.add(this,e,a,h),c.start()):(Sr(c.animationManager,"Trigger"),c.animationManager.defaultAnimation.add(this,e,a,h))),this instanceof qe&&o===_&&0!=(16777216&_.F)&&null!==_.data))for(a=(o=this.W.j).length,h=0;h<a;h++)(_=o[h])instanceof qe&&Ju(_,function(k){null!==k.data&&0!=(16777216&k.F)&&k.Ea(e)})},st.Gt=function(t){return this.dl===t?this:null},st.g=function(t,e,o){this.Va(Ar,t,this,e,o)},st.sy=function(t,e,o){if(!1===this.pickable)return!1;var a=this.naturalBounds;return e=t.Ie(e),o?Ie(t.x,t.y,0,0,0,a.height)<=e||Ie(t.x,t.y,0,a.height,a.width,a.height)<=e||Ie(t.x,t.y,a.width,a.height,a.width,0)<=e||Ie(t.x,t.y,a.width,0,0,0)<=e:t.qd(0,0)<=e&&t.qd(0,a.height)<=e&&t.qd(a.width,0)<=e&&t.qd(a.width,a.height)<=e},st.he=function(){return!0},st.$=function(t){var e=rt.alloc();e.assign(t),this.transform.ta(e);var o=this.actualBounds;if(!o.o())return rt.free(e),!1;var a=this.diagram;if(null!==a&&a.re){var h=a.Bm("extraTouchThreshold"),c=a.Bm("extraTouchArea"),g=c/2,_=this.naturalBounds,k=1/(a=this.Af()*a.scale);if(_.width*a<h&&_.height*a<h)return t=cn(o.x-g*k,o.y-g*k,o.width+c*k,o.height+c*k,e.x,e.y),rt.free(e),t}return h=!1,(this instanceof li||this instanceof Qi?cn(o.x-5,o.y-5,o.width+10,o.height+10,e.x,e.y):o.$(e))&&(h=!(this.Za&&!this.Za.$(e))&&(!!(null!==this.ec&&o.$(e)||null!==this.mb&&this.rc.$(t))||this.Kh(t))),rt.free(e),h},st.Kh=function(t){var e=this.naturalBounds;return cn(0,0,e.width,e.height,t.x,t.y)},st.Ge=function(t){if(0===this.angle)return this.actualBounds.Ge(t);var e=this.naturalBounds;e=te.allocAt(0,0,e.width,e.height);var o=this.transform,a=!1,h=rt.allocAt(t.x,t.y);return e.$(o.Jd(h))&&(h.h(t.x,t.bottom),e.$(o.Jd(h))&&(h.h(t.right,t.bottom),e.$(o.Jd(h))&&(h.h(t.right,t.y),e.$(o.Jd(h))&&(a=!0)))),rt.free(h),te.free(e),a},st.Jh=function(t,e){if(void 0===e)return t.Ge(this.actualBounds);var o=this.naturalBounds,a=!1,h=rt.allocAt(0,0);return t.$(e.ta(h))&&(h.h(0,o.height),t.$(e.ta(h))&&(h.h(o.width,o.height),t.$(e.ta(h))&&(h.h(o.width,0),t.$(e.ta(h))&&(a=!0)))),rt.free(h),a},st.Mc=function(t,e){if(void 0===e&&(e=this.transform,0===this.angle))return t.Mc(this.actualBounds);var o=this.naturalBounds,a=rt.allocAt(0,0),h=rt.allocAt(0,o.height),c=rt.allocAt(o.width,o.height),g=rt.allocAt(o.width,0),_=!1;if(t.$(e.ta(a))||t.$(e.ta(h))||t.$(e.ta(c))||t.$(e.ta(g)))_=!0;else{o=te.allocAt(0,0,o.width,o.height);var k=rt.allocAt(t.x,t.y);o.$(e.Jd(k))?_=!0:(k.h(t.x,t.bottom),o.$(e.Jd(k))?_=!0:(k.h(t.right,t.bottom),o.$(e.Jd(k))?_=!0:(k.h(t.right,t.y),o.$(e.Jd(k))&&(_=!0)))),rt.free(k),te.free(o),!_&&(pe.Qt(t,a,h)||pe.Qt(t,h,c)||pe.Qt(t,c,g)||pe.Qt(t,g,a))&&(_=!0)}return rt.free(a),rt.free(h),rt.free(c),rt.free(g),_},st.da=function(t,e){if(void 0===e&&(e=new rt),t instanceof Ti){var o=this.naturalBounds;e.h(t.x*o.width+t.offsetX,t.y*o.height+t.offsetY)}else e.set(t);return this.Fd.ta(e),e},st.mj=function(t){void 0===t&&(t=new te);var e=this.naturalBounds,o=this.Fd,a=rt.allocAt(0,0).transform(o);return t.h(a.x,a.y,0,0),a.h(e.width,0).transform(o),an(t,a.x,a.y,0,0),a.h(e.width,e.height).transform(o),an(t,a.x,a.y,0,0),a.h(0,e.height).transform(o),an(t,a.x,a.y,0,0),rt.free(a),t},st.lj=function(){var t=this.Fd;return 1===t.m11&&0===t.m12?t=0:0>(t=180*Math.atan2(t.m12,t.m11)/Math.PI)&&(t+=360),t},st.Af=function(){if(0==(4096&this.F))return this.ql;var t=this.Aa;return null!==this.panel?t*this.panel.Af():t},st.Mt=function(t,e){return void 0===e&&(e=new rt),e.assign(t),this.Fd.Jd(e),e},st.Nt=function(t,e,o){return this.zk(t.x,t.y,e.x,e.y,o)},st.zk=function(t,e,o,a,h){var c=this.transform,g=1/(c.m11*c.m22-c.m12*c.m21),_=c.m22*g,k=-c.m12*g,P=-c.m21*g,F=c.m11*g,j=g*(c.m21*c.dy-c.m22*c.dx),ut=g*(c.m12*c.dx-c.m11*c.dy);return null!==this.areaBackground?pe.Cf((c=this.actualBounds).left,c.top,c.right,c.bottom,t,e,o,a,h):(g=t*_+e*P+j,t=t*k+e*F+ut,e=o*_+a*P+j,o=o*k+a*F+ut,h.h(0,0),o=pe.Cf(0,0,(a=this.naturalBounds).width,a.height,g,t,e,o,h),h.transform(c),o)},Oi.prototype.measure=function(t,e,o,a){if(!1!==Pc(this)){var h=this.jh,c=h.right+h.left;h=h.top+h.bottom,t=Math.max(t-c,0),e=Math.max(e-h,0),o=Math.max((o||0)-c,0),a=Math.max((a||0)-h,0),h=this.desiredSize;var g=0;this instanceof Qi&&(g=this.strokeWidth),90===(c=this.angle)||270===c?(t=isFinite(h.height)?h.height+g:t,e=isFinite(h.width)?h.width+g:e):(t=isFinite(h.width)?h.width+g:t,e=isFinite(h.height)?h.height+g:e),h=o||0,g=a||0;var _=this instanceof qe;switch(Ol(this,!0)){case nr:g=h=0,_&&(e=t=1/0);break;case no:isFinite(t)&&t>o&&(h=t),isFinite(e)&&e>a&&(g=e);break;case ho:isFinite(t)&&t>o&&(h=t),g=0,_&&(e=1/0);break;case Vs:isFinite(e)&&e>a&&(g=e),h=0,_&&(t=1/0)}var k=this.minSize;h>(_=this.maxSize).width&&k.width<_.width&&(h=_.width),g>_.height&&k.height<_.height&&(g=_.height),o=Math.max(h/this.scale,k.width),a=Math.max(g/this.scale,k.height),_.width<o&&(o=Math.min(k.width,o)),_.height<a&&(a=Math.min(k.height,a)),t=Math.min(_.width,t),e=Math.min(_.height,e),t=Math.max(o,t),e=Math.max(a,e),(90===c||270===c)&&(c=t,t=e,e=c,c=o,o=a,a=c),this.qc.ea(),this.Hm(t,e,o,a),this.qc.freeze(),this.qc.o()||z("Non-real measuredBounds has been set. Object "+this+", measuredBounds: "+this.qc.toString()),ja(this,!1)}},Oi.prototype.Hm=function(){},Oi.prototype.Ff=function(){return!1},Oi.prototype.arrange=function(t,e,o,a,h){this.Fl();var c=te.alloc();c.assign(this.xb),this.xb.ea(),!1===nl(this)?this.xb.h(t,e,o,a):this.Ih(t,e,o,a),this.xb.freeze(),this.Za=void 0===h?null:h,o=!1,void 0!==h?o=!0:(null===(h=this.panel)||h.type!==qe.TableRow&&h.type!==qe.TableColumn||(h=h.panel),null!==h&&(h=h.rc,a=this.measuredBounds,null!==this.areaBackground&&(a=this.xb),o=e+a.height,a=t+a.width,o=!(0<=t+.05&&a<=h.width+.05&&0<=e+.05&&o<=h.height+.05),this instanceof Qn&&(this.us>(t=this.naturalBounds).height||this.vb>t.width))&&(o=!0)),this.F=o?256|this.F:-257&this.F,this.xb.o()||z("Non-real actualBounds has been set. Object "+this+", actualBounds: "+this.xb.toString()),this.Im(c,this.xb),Wh(this,!1),te.free(c)},(st=Oi.prototype).Ih=function(){},st.Im=function(t,e){var o=this.part;null!==o&&null!==o.diagram&&(o.selectionObject!==this&&o.resizeObject!==this&&o.rotateObject!==this||Je(o,!0),this.M(),di(t,e)||(o.Oh(),this.mp(o)))},st.mp=function(t){null!==this.portId&&(Je(t,!0),t instanceof Fe&&xi(t,this))},st.mc=function(t,e){if(this.visible){var o=this instanceof qe&&(this.type===qe.TableRow||this.type===qe.TableColumn),a=this.xb;if(o||0!==a.width&&0!==a.height&&!isNaN(a.x)&&!isNaN(a.y)){var h=this.opacity;if(0!==h){var c=1;if(1!==h&&(t.globalAlpha=(c=t.globalAlpha)*h),!this.ly(t,e))if(o)iw(this,t,e);else{this instanceof We&&this.Gk(!1),o=this.transform;var g=this.panel;0!=(4096&this.F)&&Ov(this);var _=this.part,k=!1,P=0;if(_&&e.Ke("drawShadows")&&(k=_.isShadowed)){var F=_.shadowOffset;P=Math.max(F.y,F.x)*e.scale*e.Tb}if(!(F=e.yi||!this.Ff())){var ie,j=this.naturalBounds,ut=(F=this.Zh).m11,xt=F.m21,pt=F.dx,Pt=F.m12,Xt=F.m22,$t=F.dy,se=ie=0;F=ie*ut+se*xt+pt;var fe=ie*Pt+se*Xt+$t,we=(ie=j.width+P)*ut+(se=0)*xt+pt;ie=ie*Pt+se*Xt+$t,se=Math.min(F,we);var ti=Math.min(fe,ie),Ci=Math.max(F+0,we)-se,ui=Math.max(fe+0,ie)-ti;F=se,fe=ti,we=(ie=j.width+P)*ut+(se=j.height+P)*xt+pt,ie=ie*Pt+se*Xt+$t,se=Math.min(F,we),ti=Math.min(fe,ie),Ci=Math.max(F+Ci,we)-se,ui=Math.max(fe+ui,ie)-ti,F=se,fe=ti,we=(ie=0)*ut+(se=j.height+P)*xt+pt,ie=ie*Pt+se*Xt+$t,se=Math.min(F,we),ti=Math.min(fe,ie),Ci=Math.max(F+Ci,we)-se,ui=Math.max(fe+ui,ie)-ti,fe=ti,ut=(P=e.viewportBounds).y,F=!((F=se)>P.width+(j=P.x)||j>Ci+F||fe>P.height+ut||ut>ui+fe)}if(F){if(F=0!=(256&this.F),t.clipInsteadOfFill&&(F=!1),this instanceof Qn&&(t.font=this.font),F){if(fe=g.he()?g.naturalBounds:g.actualBounds,null!==this.Za?(Ci=(j=this.Za).x,ui=j.y,P=j.width,j=j.height):(Ci=Math.max(a.x,fe.x),ui=Math.max(a.y,fe.y),P=Math.min(a.right,fe.right)-Ci,j=Math.min(a.bottom,fe.bottom)-ui),Ci>a.width+a.x||a.x>fe.width+fe.x)return void(1!==h&&(t.globalAlpha=c));t.save(),t.beginPath(),t.rect(Ci,ui,P,j),t.clip()}if(this.Ff()){if(!_.isVisible())return void(1!==h&&(t.globalAlpha=c));k&&(t.Iw((fe=_.shadowOffset).x*e.scale*e.Tb,fe.y*e.scale*e.Tb,_.shadowBlur),cu(t),t.shadowColor=_.shadowColor)}k&&!0===this.shadowVisible?cu(t):k&&!1===this.shadowVisible&&Xh(t),_=this.naturalBounds,null!==this.ec&&(_a(this,t,this.ec,!0,!0,_,a),this.ec instanceof In&&this.ec.type===Sa?(t.beginPath(),t.rect(a.x,a.y,a.width,a.height),t.Je(this.ec)):t.fillRect(a.x,a.y,a.width,a.height)),t.transform(o.m11,o.m12,o.m21,o.m22,o.dx,o.dy),k&&(null!==g&&0!=(512&g.F)||null!==g&&(g.type===qe.Auto||g.type===qe.Spot)&&g.tb()!==this)&&null===this.shadowVisible&&Xh(t),null!==this.mb&&(Ci=fe=0,ui=(P=this.naturalBounds).width,P=P.height,j=0,this instanceof Qi&&(fe=(P=this.na.bounds).x,Ci=P.y,ui=P.width,P=P.height,j=this.strokeWidth),_a(this,t,this.mb,!0,!1,_,a),this.mb instanceof In&&this.mb.type===Sa?(t.beginPath(),t.rect(fe-j/2,Ci-j/2,ui+j,P+j),t.Je(this.mb)):t.fillRect(fe-j/2,Ci-j/2,ui+j,P+j)),k&&(null!==this.mb||null!==this.ec||null!==g&&0!=(512&g.F)||null!==g&&(g.type===qe.Auto||g.type===qe.Spot)&&g.tb()!==this)?(_d(this,!0),null===this.shadowVisible&&Xh(t)):_d(this,!1),this.ej(t,e),k&&0!=(512&this.F)&&cu(t),this.Ff()&&k&&Xh(t),F?(t.restore(),t.uc(this instanceof qe)):o.Tt()||t.transform(o.m22*(e=1/(o.m11*o.m22-o.m12*o.m21)),-o.m12*e,-o.m21*e,o.m11*e,e*(o.m21*o.dy-o.m22*o.dx),e*(o.m12*o.dx-o.m11*o.dy))}}1!==h&&(t.globalAlpha=c)}}}},st.ly=function(){return!1},st.ej=function(){},st.Gg=function(t){if(t instanceof qe)t:{if(this!==t&&null!==t)for(var e=this.panel;null!==e;){if(e===t){t=!0;break t}e=e.panel}t=!1}else t=!1;return t},st.Gf=function(){if(!this.visible)return!1;var t=this.panel;return null===t||t.Gf()},st.Hg=function(){for(var t=this instanceof qe?this:this.panel;null!==t&&t.isEnabled;)t=t.panel;return null===t},st.s=function(t){if(!Pc(this)){void 0===t&&(t=!1),ja(this,!0),Wh(this,!0);var e=this.panel;null===e||t||e.s()}},st.Bk=function(){Pc(this)||(ja(this,!0),Wh(this,!0))},st.Fl=function(){0==(2048&this.F)&&(B0(this,!0),Tc(this,!0))},st.dw=function(){Tc(this,!0)},st.M=function(){var t=this.part;null!==t&&t.M()},st.sj=function(t){this.og=t},st.lu=function(){},st.Ew=function(t){return this.la.assign(t),uu(this),!0},st.er=function(t,e){(this.la.x!==t||this.la.y!==e)&&(this.la.h(t,e),this.Fl())},st.bind=function(t){t.pd=this;var e=this.ij();null!==e&&y1(e)&&z("Cannot add a Binding to a template that has already been copied: "+t),null===this.fb&&(this.fb=new Lt),this.fb.add(t)},st.ij=function(){for(var t=this instanceof qe?this:this.panel;null!==t;){if(null!==t.li)return t;t=t.panel}return null},st.Fw=function(t){Om(this,t)},st.Qw=function(t){t.pd=this,null===this.Mg&&(this.Mg=new gt),this.Mg.add(t.propertyName,t)},X.Object.defineProperties(Oi.prototype,{shadowVisible:{get:function(){return this.em},set:function(t){var e=this.em;e!==t&&(this.em=t,this.M(),this.g("shadowVisible",e,t))}},enabledChanged:{get:function(){return null!==this.N?this.N.Wn:null},set:function(t){$s(this);var e=this.N.Wn;e!==t&&(this.N.Wn=t,this.g("enabledChanged",e,t))}},segmentOrientation:{get:function(){return this.cm},set:function(t){var e=this.cm;e!==t&&(this.cm=t,this.s(),this.g("segmentOrientation",e,t),t===Ts&&(this.angle=0))}},segmentIndex:{get:function(){return this.Qp},set:function(t){t=Math.round(t);var e=this.Qp;e!==t&&(this.Qp=t,this.s(),this.g("segmentIndex",e,t))}},segmentFraction:{get:function(){return this.am},set:function(t){isNaN(t)||0>t?t=0:1<t&&(t=1);var e=this.am;e!==t&&(this.am=t,this.s(),this.g("segmentFraction",e,t))}},segmentOffset:{get:function(){return this.bm},set:function(t){var e=this.bm;e.w(t)||(this.bm=t=t.H(),this.s(),this.g("segmentOffset",e,t))}},stretch:{get:function(){return this.De},set:function(t){var e=this.De;e!==t&&(this.De=t,this.s(),this.g("stretch",e,t))}},name:{get:function(){return this.oa},set:function(t){var e=this.oa;e!==t&&(this.oa=t,null!==this.part&&(this.part.Xj=null),this.g("name",e,t))}},opacity:{get:function(){return this.hb},set:function(t){var e=this.hb;e!==t&&((0>t||1<t)&&Q(t,"0 <= value <= 1",Oi,"opacity"),this.hb=t,this.g("opacity",e,t),e=this.part,null!==(t=this.diagram)&&null!==e&&t.M(xe(e,e.actualBounds)))}},visible:{get:function(){return 0!=(1&this.F)},set:function(t){var e=0!=(1&this.F);e!==t&&(this.F^=1,this.g("visible",e,t),null!==(e=this.panel)?e.s():this.Ff()&&this.Ob(t),this.M(),nw(this))}},pickable:{get:function(){return 0!=(2&this.F)},set:function(t){var e=0!=(2&this.F);e!==t&&(this.F^=2,this.g("pickable",e,t))}},fromLinkableDuplicates:{get:function(){return 0!=(4&this.F)},set:function(t){var e=0!=(4&this.F);e!==t&&(this.F^=4,this.g("fromLinkableDuplicates",e,t))}},fromLinkableSelfNode:{get:function(){return 0!=(8&this.F)},set:function(t){var e=0!=(8&this.F);e!==t&&(this.F^=8,this.g("fromLinkableSelfNode",e,t))}},toLinkableDuplicates:{get:function(){return 0!=(16&this.F)},set:function(t){var e=0!=(16&this.F);e!==t&&(this.F^=16,this.g("toLinkableDuplicates",e,t))}},toLinkableSelfNode:{get:function(){return 0!=(32&this.F)},set:function(t){var e=0!=(32&this.F);e!==t&&(this.F^=32,this.g("toLinkableSelfNode",e,t))}},isPanelMain:{get:function(){return 0!=(64&this.F)},set:function(t){var e=0!=(64&this.F);e!==t&&(this.F^=64,this.s(),this.g("isPanelMain",e,t))}},isActionable:{get:function(){return 0!=(128&this.F)},set:function(t){var e=0!=(128&this.F);e!==t&&(this.F^=128,this.g("isActionable",e,t))}},areaBackground:{get:function(){return this.ec},set:function(t){var e=this.ec;e!==t&&(null!==t&&du(t,"GraphObject.areaBackground"),t instanceof In&&t.freeze(),this.ec=t,this.M(),this.g("areaBackground",e,t))}},background:{get:function(){return this.mb},set:function(t){var e=this.mb;e!==t&&(null!==t&&du(t,"GraphObject.background"),t instanceof In&&t.freeze(),this.mb=t,this.M(),this.g("background",e,t))}},part:{get:function(){if(this.Ff())return this;if(null!==this.ak)return this.ak;var t;for(t=this.panel;t;){if(t instanceof Nt)return this.ak=t;t=t.panel}return null}},svg:{get:function(){return this.gq},set:function(t){this.gq=t}},panel:{get:function(){return this.og}},layer:{get:function(){var t=this.part;return null!==t?t.layer:null}},diagram:{get:function(){var t=this.part;return null!==t?t.diagram:null}},position:{get:function(){return this.la},set:function(t){var e=t.x,o=t.y,a=this.la,h=a.x,c=a.y;(h===e||isNaN(h)&&isNaN(e))&&(c===o||isNaN(c)&&isNaN(o))?this.lu():(t=t.copy(),this.Ew(t,a)&&this.g("position",a.copy(),t.copy()))}},actualBounds:{get:function(){return this.xb}},scale:{get:function(){return this.Aa},set:function(t){var e=this.Aa;e!==t&&(0>=t&&z("GraphObject.scale for "+this+" must be greater than zero, not: "+t),this.Aa=t,this.s(),this.g("scale",e,t))}},angle:{get:function(){return this.Yb},set:function(t){var e=this.Yb;e!==t&&(0>(t%=360)&&(t+=360),e!==t&&(this.Yb=t,nw(this),this.s(),this.g("angle",e,t)))}},desiredSize:{get:function(){return this.Xc},set:function(t){var e=t.width,o=t.height,a=this.Xc,h=a.width,c=a.height;(h===e||isNaN(h)&&isNaN(e))&&(c===o||isNaN(c)&&isNaN(o))||(this.Xc=t=t.H(),this.s(),this instanceof Qi&&this.dc(),this.g("desiredSize",a,t),If(this)&&null!==(t=this.part)&&(Gh(this,t,"width"),Gh(this,t,"height")))}},width:{get:function(){return this.Xc.width},set:function(t){var e=this.Xc.width;e===t||isNaN(e)&&isNaN(t)||(e=this.Xc,this.Xc=t=new Ge(t,this.Xc.height).freeze(),this.s(),this instanceof Qi&&this.dc(),this.g("desiredSize",e,t),If(this)&&null!==(t=this.part)&&Gh(this,t,"width"))}},height:{get:function(){return this.Xc.height},set:function(t){var e=this.Xc.height;e===t||isNaN(e)&&isNaN(t)||(e=this.Xc,this.Xc=t=new Ge(this.Xc.width,t).freeze(),this.s(),this instanceof Qi&&this.dc(),this.g("desiredSize",e,t),If(this)&&null!==(t=this.part)&&Gh(this,t,"height"))}},minSize:{get:function(){return this.fg},set:function(t){var e=this.fg;e.w(t)||(t=t.copy(),isNaN(t.width)&&(t.width=0),isNaN(t.height)&&(t.height=0),t.freeze(),this.fg=t,this.s(),this.g("minSize",e,t))}},maxSize:{get:function(){return this.eg},set:function(t){var e=this.eg;e.w(t)||(t=t.copy(),isNaN(t.width)&&(t.width=1/0),isNaN(t.height)&&(t.height=1/0),t.freeze(),this.eg=t,this.s(),this.g("maxSize",e,t))}},measuredBounds:{get:function(){return this.qc}},naturalBounds:{get:function(){return this.rc}},margin:{get:function(){return this.jh},set:function(t){"number"==typeof t&&(t=new hn(t));var e=this.jh;e.w(t)||(this.jh=t=t.H(),this.s(),this.g("margin",e,t))}},transform:{get:function(){return 0!=(2048&this.F)&&Ov(this),this.sb}},Fd:{get:function(){return 0!=(4096&this.F)&&Ov(this),this.Zh}},alignment:{get:function(){return this.yb},set:function(t){var e=this.yb;e.w(t)||(t.nc()&&!t.Mb()&&z("GraphObject.alignment for "+this+" must be a real Spot or Spot.Default, not: "+t),this.yb=t=t.H(),uu(this),this.g("alignment",e,t))}},column:{get:function(){return this.Rg},set:function(t){t=Math.round(t);var e=this.Rg;e!==t&&(0>t&&Q(t,">= 0",Oi,"column"),this.Rg=t,this.s(),this.g("column",e,t))}},columnSpan:{get:function(){return this.zn},set:function(t){t=Math.round(t);var e=this.zn;e!==t&&(1>t&&Q(t,">= 1",Oi,"columnSpan"),this.zn=t,this.s(),this.g("columnSpan",e,t))}},row:{get:function(){return this.Jp},set:function(t){t=Math.round(t);var e=this.Jp;e!==t&&(0>t&&Q(t,">= 0",Oi,"row"),this.Jp=t,this.s(),this.g("row",e,t))}},rowSpan:{get:function(){return this.Kp},set:function(t){t=Math.round(t);var e=this.Kp;e!==t&&(1>t&&Q(t,">= 1",Oi,"rowSpan"),this.Kp=t,this.s(),this.g("rowSpan",e,t))}},spanAllocation:{get:function(){return this.aq},set:function(t){var e=this.aq;e!==t&&(this.aq=t,this.s(),this.g("spanAllocation",e,t))}},alignmentFocus:{get:function(){return this.$k},set:function(t){var e=this.$k;e.w(t)||(this.$k=t=t.H(),this.s(),this.g("alignmentFocus",e,t))}},portId:{get:function(){return this.xp},set:function(t){var e=this.xp;if(e!==t){var o=this.part;null===o||o instanceof Fe||(z("Cannot set portID on a Link: "+t),o=null),null!==e&&null!==o&&yn(o,this),this.xp=t,null!==t&&null!==o&&(o.Nh=!0,Pn(o,this)),this.g("portId",e,t)}}},toSpot:{get:function(){return null!==this.O?this.O.Ch:mn},set:function(t){this.Kc();var e=this.O.Ch;e.w(t)||(t=t.H(),this.O.Ch=t,this.g("toSpot",e,t),Yh(this))}},toEndSegmentLength:{get:function(){return null!==this.O?this.O.Ah:10},set:function(t){this.Kc();var e=this.O.Ah;e!==t&&(0>t&&Q(t,">= 0",Oi,"toEndSegmentLength"),this.O.Ah=t,this.g("toEndSegmentLength",e,t),Yh(this))}},toShortLength:{get:function(){return null!==this.O?this.O.Bh:0},set:function(t){this.Kc();var e=this.O.Bh;e!==t&&(this.O.Bh=t,this.g("toShortLength",e,t),Yh(this))}},toLinkable:{get:function(){return null!==this.O?this.O.kq:null},set:function(t){this.Kc();var e=this.O.kq;e!==t&&(this.O.kq=t,this.g("toLinkable",e,t))}},toMaxLinks:{get:function(){return null!==this.O?this.O.lq:1/0},set:function(t){this.Kc();var e=this.O.lq;e!==t&&(0>t&&Q(t,">= 0",Oi,"toMaxLinks"),this.O.lq=t,this.g("toMaxLinks",e,t))}},fromSpot:{get:function(){return null!==this.O?this.O.bh:mn},set:function(t){this.Kc();var e=this.O.bh;e.w(t)||(t=t.H(),this.O.bh=t,this.g("fromSpot",e,t),Yh(this))}},fromEndSegmentLength:{get:function(){return null!==this.O?this.O.$g:10},set:function(t){this.Kc();var e=this.O.$g;e!==t&&(0>t&&Q(t,">= 0",Oi,"fromEndSegmentLength"),this.O.$g=t,this.g("fromEndSegmentLength",e,t),Yh(this))}},fromShortLength:{get:function(){return null!==this.O?this.O.ah:0},set:function(t){this.Kc();var e=this.O.ah;e!==t&&(this.O.ah=t,this.g("fromShortLength",e,t),Yh(this))}},fromLinkable:{get:function(){return null!==this.O?this.O.co:null},set:function(t){this.Kc();var e=this.O.co;e!==t&&(this.O.co=t,this.g("fromLinkable",e,t))}},fromMaxLinks:{get:function(){return null!==this.O?this.O.eo:1/0},set:function(t){this.Kc();var e=this.O.eo;e!==t&&(0>t&&Q(t,">= 0",Oi,"fromMaxLinks"),this.O.eo=t,this.g("fromMaxLinks",e,t))}},cursor:{get:function(){return this.oi},set:function(t){var e=this.oi;e!==t&&(this.oi=t,this.g("cursor",e,t))}},click:{get:function(){return null!==this.N?this.N.Pf:null},set:function(t){$s(this);var e=this.N.Pf;e!==t&&(this.N.Pf=t,this.g("click",e,t))}},doubleClick:{get:function(){return null!==this.N?this.N.Uf:null},set:function(t){$s(this);var e=this.N.Uf;e!==t&&(this.N.Uf=t,this.g("doubleClick",e,t))}},contextClick:{get:function(){return null!==this.N?this.N.Qf:null},set:function(t){$s(this);var e=this.N.Qf;e!==t&&(this.N.Qf=t,this.g("contextClick",e,t))}},mouseEnter:{get:function(){return null!==this.N?this.N.hg:null},set:function(t){$s(this);var e=this.N.hg;e!==t&&(this.N.hg=t,this.g("mouseEnter",e,t))}},mouseLeave:{get:function(){return null!==this.N?this.N.kg:null},set:function(t){$s(this);var e=this.N.kg;e!==t&&(this.N.kg=t,this.g("mouseLeave",e,t))}},mouseOver:{get:function(){return null!==this.N?this.N.lg:null},set:function(t){$s(this);var e=this.N.lg;e!==t&&(this.N.lg=t,this.g("mouseOver",e,t))}},mouseHover:{get:function(){return null!==this.N?this.N.jg:null},set:function(t){$s(this);var e=this.N.jg;e!==t&&(this.N.jg=t,this.g("mouseHover",e,t))}},mouseHold:{get:function(){return null!==this.N?this.N.ig:null},set:function(t){$s(this);var e=this.N.ig;e!==t&&(this.N.ig=t,this.g("mouseHold",e,t))}},mouseDragEnter:{get:function(){return null!==this.N?this.N.$o:null},set:function(t){$s(this);var e=this.N.$o;e!==t&&(this.N.$o=t,this.g("mouseDragEnter",e,t))}},mouseDragLeave:{get:function(){return null!==this.N?this.N.ap:null},set:function(t){$s(this);var e=this.N.ap;e!==t&&(this.N.ap=t,this.g("mouseDragLeave",e,t))}},mouseDrop:{get:function(){return null!==this.N?this.N.gg:null},set:function(t){$s(this);var e=this.N.gg;e!==t&&(this.N.gg=t,this.g("mouseDrop",e,t))}},actionDown:{get:function(){return null!==this.N?this.N.gn:null},set:function(t){$s(this);var e=this.N.gn;e!==t&&(this.N.gn=t,this.g("actionDown",e,t))}},actionMove:{get:function(){return null!==this.N?this.N.hn:null},set:function(t){$s(this);var e=this.N.hn;e!==t&&(this.N.hn=t,this.g("actionMove",e,t))}},actionUp:{get:function(){return null!==this.N?this.N.jn:null},set:function(t){$s(this);var e=this.N.jn;e!==t&&(this.N.jn=t,this.g("actionUp",e,t))}},actionCancel:{get:function(){return null!==this.N?this.N.fn:null},set:function(t){$s(this);var e=this.N.fn;e!==t&&(this.N.fn=t,this.g("actionCancel",e,t))}},toolTip:{get:function(){return null!==this.N?this.N.wg:null},set:function(t){$s(this);var e=this.N.wg;e!==t&&(this.N.wg=t,this.g("toolTip",e,t))}},contextMenu:{get:function(){return null!==this.N?this.N.Rf:null},set:function(t){$s(this);var e=this.N.Rf;e!==t&&(this.N.Rf=t,this.g("contextMenu",e,t))}}}),Oi.prototype.trigger=Oi.prototype.Qw,Oi.prototype.setProperties=Oi.prototype.Fw,Oi.prototype.findTemplateBinder=Oi.prototype.ij,Oi.prototype.bind=Oi.prototype.bind,Oi.prototype.isEnabledObject=Oi.prototype.Hg,Oi.prototype.isVisibleObject=Oi.prototype.Gf,Oi.prototype.isContainedBy=Oi.prototype.Gg,Oi.prototype.getNearestIntersectionPoint=Oi.prototype.Nt,Oi.prototype.getLocalPoint=Oi.prototype.Mt,Oi.prototype.getDocumentScale=Oi.prototype.Af,Oi.prototype.getDocumentAngle=Oi.prototype.lj,Oi.prototype.getDocumentBounds=Oi.prototype.mj,Oi.prototype.getDocumentPoint=Oi.prototype.da,Oi.prototype.intersectsRect=Oi.prototype.Mc,Oi.prototype.containedInRect=Oi.prototype.Jh,Oi.prototype.containsRect=Oi.prototype.Ge,Oi.prototype.containsPoint=Oi.prototype.$,Oi.prototype.raiseChanged=Oi.prototype.g,Oi.prototype.raiseChangedEvent=Oi.prototype.Va,Oi.prototype.addCopyProperty=Oi.prototype.Tx;var Rf=null;function Lv(){this.Wn=this.Rf=this.wg=this.fn=this.jn=this.hn=this.gn=this.gg=this.ap=this.$o=this.ig=this.jg=this.lg=this.kg=this.hg=this.Qf=this.Uf=this.Pf=null}function Cd(){this.Oa=[1,0,0,1,0,0]}function Sd(t){this.type=t,this.r2=this.y2=this.x2=this.r1=this.y1=this.x1=0,this.ay=[],this.pattern=null}function Nl(t,e){this.ownerDocument=t=void 0===e?V.document:e,this.LA="http://www.w3.org/2000/svg",void 0!==t&&(this.Ja=this.Pb("svg",{width:"1px",height:"1px",viewBox:"0 0 1 1"}),this.Ja.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),this.Ja.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink")),this.Dq=null,this.context=new ls(this)}function ls(t){this.nu=t,this.svg=t.Ja,this.stack=[],this.gd=[],this.fillStyle="#000000",this.font="10px sans-serif",this.globalAlpha=1,this.lineCap="butt",this.lineDashOffset=0,this.lineJoin="miter",this.lineWidth=1,this.miterLimit=10,this.shadowBlur=0,this.shadowColor="rgba(0, 0, 0, 0)",this.shadowOffsetY=this.shadowOffsetX=0,this.strokeStyle="#000000",this.textAlign="start",this.clipInsteadOfFill=!1,this.ug=this.ft=this.et=0,this.Wt=null,this.path=[],this.Vu=!1,this.uh=null,this.vh=0,this.He=new Cd,Rc(this,1,0,0,1,0,0);var e=de++,o=this.Pb("clipPath",{id:"mainClip"+e});o.appendChild(this.Pb("rect",{x:0,y:0,width:t.width,height:t.height})),this.Bx=o,this.nu.Ja.appendChild(o),this.gd[0].setAttributeNS(null,"clip-path","url(#mainClip"+e+")"),this.NA={}}function Dd(t,e,o,a,h){1!==t.globalAlpha&&(o.opacity=t.globalAlpha),"fill"===e?(t.fillStyle instanceof Sd?o.fill=eh(t,t.fillStyle):/^rgba\(/.test(t.fillStyle)?(t=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.fillStyle),o.fill="rgb("+t[1]+","+t[2]+","+t[3]+")",o["fill-opacity"]=t[4]):o.fill=t.fillStyle,o.stroke="none"):"stroke"===e&&(o.fill="none",t.strokeStyle instanceof Sd?o.stroke=eh(t,t.strokeStyle):/^rgba\(/.test(t.strokeStyle)?(e=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.strokeStyle),o.stroke="rgb("+e[1]+","+e[2]+","+e[3]+")",o["stroke-opacity"]=e[4]):o.stroke=t.strokeStyle,o["stroke-width"]=t.lineWidth,o["stroke-linecap"]=t.lineCap,o["stroke-linejoin"]=t.lineJoin,o["stroke-miterlimit"]=t.miterLimit),a="matrix("+(a=a.Oa)[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")",void 0!==h&&(a+=h),o.transform=a}function eh(t,e){var o="GRAD"+de++;if("linear"===e.type)var a=t.Pb("linearGradient",{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,id:o,gradientUnits:"userSpaceOnUse"});else{if("radial"!==e.type)throw Error("invalid gradient");a=t.Pb("radialGradient",{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,r1:e.r1,r2:e.r2,id:o})}var h=e.ay;e=h.length;for(var c=[],g=0;g<e;g++){var _=h[g],k=_.color;_={offset:_.offset,"stop-color":k},/^rgba\(/.test(k)&&(k=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(k),_["stop-color"]="rgb("+k[1]+","+k[2]+","+k[3]+")",_["stop-opacity"]=k[4]),c.push(_)}for(c.sort(function(P,F){return P.offset>F.offset?1:-1}),h=0;h<e;h++)a.appendChild(t.Pb("stop",c[h]));return t.svg.appendChild(a),"url(#"+o+")"}function Rc(t,e,o,a,h,c,g){var _=new Cd;_.Oa=[e,o,a,h,c,g],Dd(t,"g",e={},_),_=t.addElement("g",e),t.gd.push(_)}function Xh(t){t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0}function cu(t){t.shadowOffsetX=t.et,t.shadowOffsetY=t.ft,t.shadowBlur=t.ug}function Ma(t,e){this.ownerDocument=e=void 0===e?V.document:e,this.Dq=null,(e=e.createElement("canvas")).tabIndex=0,this.Ja=e,this.Ja.innerHTML="This text is displayed if your browser does not support the Canvas HTML element.",this.context=new Of(e),e.B=t}function Of(t){t.getContext&&t.getContext("2d")||z("Browser does not support HTML Canvas Element"),this.Y=t.getContext("2d"),this.xu=this.zu=this.yu="",this.yn=!1,this.ug=this.ft=this.et=0}Oi.className="GraphObject",Rf=new gt,$h("Button",function(){function t(o,a){return null!==o.diagram.Vb(o.documentPoint,function(h){for(;null!==h.panel&&!h.isActionable;)h=h.panel;return h},function(h){return h===a})}var e=gi(qe,qe.Auto,{isActionable:!0,enabledChanged:function(o,a){if(o instanceof qe){var h=o.bb("ButtonBorder");null!==h&&(h.fill=a?o._buttonFillNormal:o._buttonFillDisabled)}},cursor:"pointer",_buttonFillNormal:"#F5F5F5",_buttonStrokeNormal:"#BDBDBD",_buttonFillOver:"#E0E0E0",_buttonStrokeOver:"#9E9E9E",_buttonFillPressed:"#BDBDBD",_buttonStrokePressed:"#9E9E9E",_buttonFillDisabled:"#E5E5E5"},gi(Qi,{name:"ButtonBorder",figure:"RoundedRectangle",spot1:new Ti(0,0,2.76142374915397,2.761423749153969),spot2:new Ti(1,1,-2.76142374915397,-2.761423749153969),parameter1:2,parameter2:2,fill:"#F5F5F5",stroke:"#BDBDBD"}));return e.mouseEnter=function(o,a){if(a.Hg()&&a instanceof qe&&(o=a.bb("ButtonBorder"))instanceof Qi){var h=a._buttonFillOver;a._buttonFillNormal=o.fill,o.fill=h,h=a._buttonStrokeOver,a._buttonStrokeNormal=o.stroke,o.stroke=h}},e.mouseLeave=function(o,a){a.Hg()&&a instanceof qe&&(o=a.bb("ButtonBorder"))instanceof Qi&&(o.fill=a._buttonFillNormal,o.stroke=a._buttonStrokeNormal)},e.actionDown=function(o,a){if(a.Hg()&&a instanceof qe&&null!==a._buttonFillPressed&&0===o.button){var h=a.bb("ButtonBorder");if(h instanceof Qi){var c=(o=o.diagram).skipsUndoManager;o.skipsUndoManager=!0;var g=a._buttonFillPressed;a._buttonFillOver=h.fill,h.fill=g,g=a._buttonStrokePressed,a._buttonStrokeOver=h.stroke,h.stroke=g,o.skipsUndoManager=c}}},e.actionUp=function(o,a){if(a.Hg()&&a instanceof qe&&null!==a._buttonFillPressed&&0===o.button){var h=a.bb("ButtonBorder");if(h instanceof Qi){var c=o.diagram,g=c.skipsUndoManager;c.skipsUndoManager=!0,t(o,a)?(h.fill=a._buttonFillOver,h.stroke=a._buttonStrokeOver):(h.fill=a._buttonFillNormal,h.stroke=a._buttonStrokeNormal),c.skipsUndoManager=g}}},e.actionCancel=function(o,a){if(a.Hg()&&a instanceof qe&&null!==a._buttonFillPressed){var h=a.bb("ButtonBorder");if(h instanceof Qi){var c=o.diagram,g=c.skipsUndoManager;c.skipsUndoManager=!0,t(o,a)?(h.fill=a._buttonFillOver,h.stroke=a._buttonStrokeOver):(h.fill=a._buttonFillNormal,h.stroke=a._buttonStrokeNormal),c.skipsUndoManager=g}}},e.actionMove=function(o,a){if(a.Hg()&&a instanceof qe&&null!==a._buttonFillPressed){var h=o.diagram;if(0===h.firstInput.button&&(h.currentTool.standardMouseOver(),t(o,a)&&(o=a.bb("ButtonBorder"))instanceof Qi)){var c=h.skipsUndoManager;h.skipsUndoManager=!0;var g=a._buttonFillPressed;o.fill!==g&&(o.fill=g),o.stroke!==(g=a._buttonStrokePressed)&&(o.stroke=g),h.skipsUndoManager=c}}},e}),$h("TreeExpanderButton",function(){var t=gi("Button",{_treeExpandedFigure:"MinusLine",_treeCollapsedFigure:"PlusLine"},gi(Qi,{name:"ButtonIcon",figure:"MinusLine",stroke:"#424242",strokeWidth:2,desiredSize:ai},new Mo("figure","isTreeExpanded",function(e,o){return o=o.panel,e?o._treeExpandedFigure:o._treeCollapsedFigure}).Uq()),{visible:!1},new Mo("visible","isTreeLeaf",function(e){return!e}).Uq());return t.click=function(e,o){if((o=o.part)instanceof li&&(o=o.adornedPart),o instanceof Fe){var a=o.diagram;if(null!==a){if(a=a.commandHandler,o.isTreeExpanded){if(!a.canCollapseTree(o))return}else if(!a.canExpandTree(o))return;e.handled=!0,o.isTreeExpanded?a.collapseTree(o):a.expandTree(o)}}},t}),$h("SubGraphExpanderButton",function(){var t=gi("Button",{_subGraphExpandedFigure:"MinusLine",_subGraphCollapsedFigure:"PlusLine"},gi(Qi,{name:"ButtonIcon",figure:"MinusLine",stroke:"#424242",strokeWidth:2,desiredSize:ai},new Mo("figure","isSubGraphExpanded",function(e,o){return o=o.panel,e?o._subGraphExpandedFigure:o._subGraphCollapsedFigure}).Uq()));return t.click=function(e,o){if((o=o.part)instanceof li&&(o=o.adornedPart),o instanceof hi){var a=o.diagram;if(null!==a){if(a=a.commandHandler,o.isSubGraphExpanded){if(!a.canCollapseSubGraph(o))return}else if(!a.canExpandSubGraph(o))return;e.handled=!0,o.isSubGraphExpanded?a.collapseSubGraph(o):a.expandSubGraph(o)}}},t}),$h("ToolTip",function(){return gi(li,qe.Auto,{isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new rt(0,3),shadowBlur:5},gi(Qi,{name:"Border",figure:"RoundedRectangle",parameter1:1,parameter2:1,fill:"#F5F5F5",stroke:"#F0F0F0",spot1:new Ti(0,0,4,6),spot2:new Ti(1,1,-4,-4)}))}),$h("ContextMenu",function(){return gi(li,qe.Vertical,{background:"#F5F5F5",isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new rt(0,3),shadowBlur:5},new Mo("background","",function(t){return null!==t.adornedPart&&null!==t.placeholder?null:"#F5F5F5"}))}),$h("ContextMenuButton",function(){var t=gi("Button");t.stretch=ho;var e=t.bb("ButtonBorder");return e instanceof Qi&&(e.figure="Rectangle",e.strokeWidth=0,e.spot1=new Ti(0,0,2,3),e.spot2=new Ti(1,1,-2,-2)),t}),$h("PanelExpanderButton",function(t){var e=Ic(t,"COLLAPSIBLE"),o=gi("Button",{_buttonExpandedFigure:"M0 0 M0 6 L4 2 8 6 M8 8",_buttonCollapsedFigure:"M0 0 M0 2 L4 6 8 2 M8 8",_buttonFillNormal:"rgba(0, 0, 0, 0)",_buttonStrokeNormal:null,_buttonFillOver:"rgba(0, 0, 0, .2)",_buttonStrokeOver:null,_buttonFillPressed:"rgba(0, 0, 0, .4)",_buttonStrokePressed:null},gi(Qi,{name:"ButtonIcon",strokeWidth:2},new Mo("geometryString","visible",function(a){return a?o._buttonExpandedFigure:o._buttonCollapsedFigure}).Uq(e)));return(t=o.bb("ButtonBorder"))instanceof Qi&&(t.stroke=null,t.fill="rgba(0, 0, 0, 0)"),o.click=function(a,h){var c=h.diagram;if(null!==c&&!c.isReadOnly){var g=h.ij();null===g&&(g=h.part),null!==g&&null!==(h=g.bb(e))&&(a.handled=!0,c.xa("Collapse/Expand Panel"),h.visible=!h.visible,c.Xa("Collapse/Expand Panel"))}},o}),$h("CheckBoxButton",function(t){var e=Ic(t);return(t=gi("Button",{desiredSize:new Ge(14,14)},gi(Qi,{name:"ButtonIcon",geometryString:"M0 0 M0 8.85 L4.9 13.75 16.2 2.45 M16.2 16.2",strokeWidth:2,stretch:no,geometryStretch:Ys,visible:!1},""!==e?new Mo("visible",e).Iy():[]))).click=function(o,a){if(a instanceof qe){var h=o.diagram;if(!(null===h||h.isReadOnly||""!==e&&h.model.isReadOnly)){o.handled=!0;var c=a.bb("ButtonIcon");h.xa("checkbox"),c.visible=!c.visible,"function"==typeof a._doClick&&a._doClick(o,a),h.Xa("checkbox")}}},t}),$h("CheckBox",function(t){t=gi("CheckBoxButton",t=Ic(t),{name:"Button",isActionable:!1,margin:new hn(0,1,0,0)});var e=gi(qe,"Horizontal",t,{isActionable:!0,cursor:t.cursor,margin:1,_buttonFillNormal:t._buttonFillNormal,_buttonStrokeNormal:t._buttonStrokeNormal,_buttonFillOver:t._buttonFillOver,_buttonStrokeOver:t._buttonStrokeOver,_buttonFillPressed:t._buttonFillPressed,_buttonStrokePressed:t._buttonStrokePressed,_buttonFillDisabled:t._buttonFillDisabled,mouseEnter:t.mouseEnter,mouseLeave:t.mouseLeave,actionDown:t.actionDown,actionUp:t.actionUp,actionCancel:t.actionCancel,actionMove:t.actionMove,click:t.click,_buttonClick:t.click});return t.mouseEnter=null,t.mouseLeave=null,t.actionDown=null,t.actionUp=null,t.actionCancel=null,t.actionMove=null,t.click=null,e}),Oi.None=nr=new wt(Oi,"None",0),Oi.Default=ts=new wt(Oi,"Default",0),Oi.Vertical=Vs=new wt(Oi,"Vertical",4),Oi.Horizontal=ho=new wt(Oi,"Horizontal",5),Oi.Fill=no=new wt(Oi,"Fill",3),Oi.Uniform=Ys=new wt(Oi,"Uniform",1),Oi.UniformToFill=Pv=new wt(Oi,"UniformToFill",2),Oi.FlipVertical=Ec=new wt(Oi,"FlipVertical",1),Oi.FlipHorizontal=kc=new wt(Oi,"FlipHorizontal",2),Oi.FlipBoth=ha=new wt(Oi,"FlipBoth",3),Oi.make=gi,Oi.getBuilders=function(){var e,t=new gt;for(e in Rf)if(e!==e.toLowerCase()){var o=Rf.G(e);"function"==typeof o&&t.add(e,o)}return t.freeze(),t},Oi.defineBuilder=$h,Oi.takeBuilderArgument=Ic,Lv.prototype.copy=function(){var t=new Lv;return t.Pf=this.Pf,t.Uf=this.Uf,t.Qf=this.Qf,t.hg=this.hg,t.kg=this.kg,t.lg=this.lg,t.jg=this.jg,t.ig=this.ig,t.$o=this.$o,t.ap=this.ap,t.gg=this.gg,t.gn=this.gn,t.hn=this.hn,t.jn=this.jn,t.fn=this.fn,t.wg=this.wg,t.Rf=this.Rf,t.Wn=this.Wn,t},Lv.className="GraphObjectEventHandlers",Cd.prototype.copy=function(){var t=new Cd;return t.Oa[0]=this.Oa[0],t.Oa[1]=this.Oa[1],t.Oa[2]=this.Oa[2],t.Oa[3]=this.Oa[3],t.Oa[4]=this.Oa[4],t.Oa[5]=this.Oa[5],t},Cd.prototype.translate=function(t,e){this.Oa[4]+=this.Oa[0]*t+this.Oa[2]*e,this.Oa[5]+=this.Oa[1]*t+this.Oa[3]*e},Cd.prototype.scale=function(t,e){this.Oa[0]*=t,this.Oa[1]*=t,this.Oa[2]*=e,this.Oa[3]*=e},Cd.className="STransform",Sd.prototype.addColorStop=function(t,e){this.ay.push({offset:t,color:e})},Sd.className="SGradient",Nl.prototype.resize=function(t,e,o,a){return(this.width!==t||this.height!==e)&&(this.style.width=o+"px",this.style.height=a+"px",this.Ja.setAttributeNS(null,"width",o+"px"),this.Ja.setAttributeNS(null,"height",a+"px"),this.Ja.setAttributeNS(null,"viewBox","0 0 "+o+" "+a),this.context.Bx.firstElementChild.setAttributeNS(null,"width",o+"px"),this.context.Bx.firstElementChild.setAttributeNS(null,"height",a+"px"),!0)},Nl.prototype.Pb=function(t,e,o){if(t=this.ownerDocument.createElementNS(this.LA,t),Ct(e))for(var a in e)t.setAttributeNS("href"===a?"http://www.w3.org/1999/xlink":"",a,e[a]);return void 0!==o&&(t.textContent=o),t},Nl.prototype.getBoundingClientRect=function(){return this.Ja.getBoundingClientRect()},Nl.prototype.focus=function(){this.Ja.focus()},Nl.prototype.ky=function(){this.ownerDocument=null},X.Object.defineProperties(Nl.prototype,{width:{get:function(){return this.Ja.width.baseVal.value},set:function(t){this.Ja.width=t}},height:{get:function(){return this.Ja.height.baseVal.value},set:function(t){this.Ja.height=t}},style:{get:function(){return this.Ja.style}}}),Nl.className="SVGSurface",(st=ls.prototype).arc=function(t,e,o,a,h,c,g,_){var k=2*Math.PI,P=k-1e-6,F=o*Math.cos(a),j=o*Math.sin(a),ut=t+F,xt=e+j,pt=c?0:1;a=c?a-h:h-a,(1e-6<Math.abs(g-ut)||1e-6<Math.abs(_-xt))&&this.path.push(["L",ut,+xt]),0>a&&(a=a%k+k),a>P?(this.path.push(["A",o,o,0,1,pt,t-F,e-j]),this.path.push(["A",o,o,0,1,pt,ut,xt])):1e-6<a&&this.path.push(["A",o,o,0,+(a>=Math.PI),pt,t+o*Math.cos(h),e+o*Math.sin(h)])},st.beginPath=function(){this.path=[]},st.bezierCurveTo=function(t,e,o,a,h,c){this.path.push(["C",t,e,o,a,h,c])},st.clearRect=function(){},st.clip=function(){this.addPath("clipPath",this.path,this.He)},st.closePath=function(){this.path.push(["z"])},st.createLinearGradient=function(t,e,o,a){var h=new Sd("linear");return h.x1=t,h.y1=e,h.x2=o,h.y2=a,h},st.createPattern=function(t){var e="";t instanceof HTMLCanvasElement&&(e=t.toDataURL()),t instanceof HTMLImageElement&&(e=t.getAttribute("src"));var o=this.NA;if(o[e])return"url(#"+o[e]+")";var a="PATTERN"+de++,h={x:0,y:0,width:t.width,height:t.height,href:e};return(t=this.Pb("pattern",{width:t.width,height:t.height,id:a,patternUnits:"userSpaceOnUse"})).appendChild(this.Pb(Um,h)),this.svg.appendChild(t),o[e]=a,"url(#"+a+")"},st.createRadialGradient=function(t,e,o,a,h,c){var g=new Sd("radial");return g.x1=t,g.y1=e,g.r1=o,g.x2=a,g.y2=h,g.r2=c,g},st.drawImage=function(t,e,o,a,h,c,g,_,k){var P="";t instanceof HTMLCanvasElement&&(P=t.toDataURL()),t instanceof HTMLImageElement&&(P=t.getAttribute("src"));var F=t instanceof HTMLImageElement?t.naturalWidth:t.width,j=t instanceof HTMLImageElement?t.naturalHeight:t.height;void 0===a&&(c=e,g=o,_=a=F,k=h=j),a=a||0,h=h||0,c=c||0,g=g||0,k=k||0,t={x:0,y:0,width:F||a,height:j||h,href:P},pe.aa(a,_=_||0)&&pe.aa(h,k)?-1===P.toLowerCase().indexOf(".svg")&&-1===P.toLowerCase().indexOf("data:image/svg")&&(t.preserveAspectRatio="xMidYMid slice"):t.preserveAspectRatio="none",P="",k/=h,(0!==c||0!==g)&&(P+=" translate("+c+", "+g+")"),(1!=(_/=a)||1!==k)&&(P+=" scale("+_+", "+k+")"),(0!==e||0!==o)&&(P+=" translate("+-e+", "+-o+")"),(0!==e||0!==o||a!==F||h!==j)&&(c="CLIP"+de++,(g=this.Pb("clipPath",{id:c})).appendChild(this.Pb("rect",{x:e,y:o,width:a,height:h})),this.svg.appendChild(g),t["clip-path"]="url(#"+c+")"),Dd(this,Um,t,this.He,P),this.addElement(Um,t)},st.fill=function(){this.addPath("fill",this.path,this.He)},st.Je=function(){this.clipInsteadOfFill?this.clip():this.fill()},st.fillRect=function(t,e,o,a){Dd(this,"fill",t={x:(t=[t,e,o,a])[0],y:t[1],width:t[2],height:t[3]},this.He),this.addElement("rect",t)},st.fillText=function(t,e,o){t=[t,e,o],"left"===(e=this.textAlign)?e="start":"right"===e?e="end":"center"===e&&(e="middle"),Dd(this,"fill",e={x:t[1],y:t[2],style:"font: "+this.font,"text-anchor":e},this.He),this.addElement("text",e,t[0])},st.lineTo=function(t,e){this.path.push(["L",t,e])},st.moveTo=function(t,e){this.path.push(["M",t,e])},st.quadraticCurveTo=function(t,e,o,a){this.path.push(["Q",t,e,o,a])},st.rect=function(t,e,o,a){this.path.push(["M",t,e],["L",t+o,e],["L",t+o,e+a],["L",t,e+a],["z"])},st.restore=function(){this.He=this.stack.pop(),this.path=this.stack.pop();var t=this.stack.pop();this.fillStyle=t.fillStyle,this.font=t.font,this.globalAlpha=t.globalAlpha,this.lineCap=t.lineCap,this.lineDashOffset=t.lineDashOffset,this.lineJoin=t.lineJoin,this.lineWidth=t.lineWidth,this.miterLimit=t.miterLimit,this.shadowBlur=t.shadowBlur,this.shadowColor=t.shadowColor,this.shadowOffsetX=t.shadowOffsetX,this.shadowOffsetY=t.shadowOffsetY,this.strokeStyle=t.strokeStyle,this.textAlign=t.textAlign},st.save=function(){this.stack.push({fillStyle:this.fillStyle,font:this.font,globalAlpha:this.globalAlpha,lineCap:this.lineCap,lineDashOffset:this.lineDashOffset,lineJoin:this.lineJoin,lineWidth:this.lineWidth,miterLimit:this.miterLimit,shadowBlur:this.shadowBlur,shadowColor:this.shadowColor,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,strokeStyle:this.strokeStyle,textAlign:this.textAlign});for(var t=[],e=0;e<this.path.length;e++)t.push(this.path[e]);this.stack.push(t),this.stack.push(this.He.copy())},st.setTransform=function(t,e,o,a,h,c){1===t&&0===e&&0===o&&1===a&&0===h&&0===c||Rc(this,t,e,o,a,h,c)},st.scale=function(t,e){this.He.scale(t,e)},st.translate=function(t,e){this.He.translate(t,e)},st.transform=function(){},st.stroke=function(){this.addPath("stroke",this.path,this.He)},st.vj=function(){this.clipInsteadOfFill||this.stroke()},st.Pb=function(t,e,o){return this.nu.Pb(t,e,o)},st.addElement=function(t,e,o){return t=this.Pb(t,e,o),0<this.gd.length?this.gd[this.gd.length-1].appendChild(t):this.svg.appendChild(t),this.Wt=t},st.addPath=function(t,e,o){for(var a=[],h=0;h<e.length;h++){var c=Et(e[h]),g=[c.shift()];if("A"===g[0])g.push(c.shift()+","+c.shift(),c.shift(),c.shift()+","+c.shift(),c.shift()+","+c.shift());else for(;c.length;)g.push(c.shift()+","+c.shift());a.push(g.join(" "))}e={d:a.join(" ")},"stroke"===t&&this.Vu&&(e["stroke-dasharray"]=this.uh.toString(),e["stroke-dashoffset"]=this.vh),Dd(this,t,e,o),"clipPath"===t?(t="CLIP"+de++,(o=this.Pb("clipPath",{id:t})).appendChild(this.Pb("path",e)),this.svg.appendChild(o),0<this.gd.length&&this.gd[this.gd.length-1].setAttributeNS(null,"clip-path","url(#"+t+")")):this.addElement("path",e)},st.Ym=function(t){if(0!==this.shadowOffsetX||0!==this.shadowOffsetY||0!==this.shadowBlur){var e="SHADOW"+de++,o=this.addElement("filter",{id:e,x:"-100%",y:"-100%",width:"300%",height:"300%"},null),a=t.computePixelRatio();t=this.Pb("feGaussianBlur",{in:"SourceAlpha",result:"blur",stdDeviation:this.shadowBlur/2/a});var h=this.Pb("feFlood",{in:"blur",result:"flood","flood-color":this.shadowColor}),c=this.Pb("feComposite",{in:"flood",in2:"blur",operator:"in",result:"comp"});a=this.Pb("feOffset",{in:"comp",result:"offsetBlur",dx:this.shadowOffsetX/a,dy:this.shadowOffsetY/a});var g=this.Pb("feMerge",{});g.appendChild(this.Pb("feMergeNode",{in:"offsetBlur"})),g.appendChild(this.Pb("feMergeNode",{in:"SourceGraphic"})),o.appendChild(t),o.appendChild(h),o.appendChild(c),o.appendChild(a),o.appendChild(g),0<this.gd.length&&this.gd[this.gd.length-1].setAttributeNS(null,"filter","url(#"+e+")")}},st.Iw=function(t,e,o){this.et=t,this.ft=e,this.ug=o},st.Ft=function(t,e){this.Vu=!0,this.uh=t,this.vh=e},st.Dt=function(){this.Vu=!1},st.uc=function(){},st.Sy=function(){},ls.prototype.rotate=function(){},ls.prototype.getImageData=function(){return null},ls.prototype.measureText=function(){return null},ls.className="SVGContext",Ee.prototype.makeSvg=Ee.prototype.$t=function(t){var e=new Nl(this,V.document);void 0===t&&(t=new At);var o=this;return Mc(this,function(a,h){return a=null!==(a=Vm(o,a,"SVG",e))?a.svg:null,"function"==typeof h?(h(a),null):a},t)},Ee.prototype.makeSVG=Ee.prototype.iw=function(t){return this.$t(t)},Oi.prototype.ly=function(t,e){if(!(t instanceof ls))return!1;if(!this.visible)return!0;var o=null,a=t.Wt;if(this instanceof qe&&(this.type===qe.TableRow||this.type===qe.TableColumn))return iw(this,t,e),!0;var h=this.xb;if(0===h.width||0===h.height||isNaN(h.x)||isNaN(h.y))return!0;var c=this.transform,g=this.panel;0!=(4096&this.F)&&Ov(this);var _=0!=(256&this.F);t.clipInsteadOfFill&&(_=!1);var k=!1;if(this instanceof Qn&&(t.font=this.font),_){if(k=g.he()?g.naturalBounds:g.actualBounds,null!==this.Za){var P=this.Za,F=P.x,j=P.y,ut=P.width;P=P.height}else F=Math.max(h.x,k.x),j=Math.max(h.y,k.y),ut=Math.min(h.right,k.right)-F,P=Math.min(h.bottom,k.bottom)-j;if(F>h.width+h.x||h.x>k.width+k.x||j>h.height+h.y||h.y>k.height+k.y)return!0;k=!0,Rc(t,1,0,0,1,0,0),t.save(),t.beginPath(),t.rect(F,j,ut,P),t.clip()}if(this.Ff()&&!this.isVisible())return!0;if(t.He.Oa=[1,0,0,1,0,0],(this instanceof Qn&&1<this.lineCount||this instanceof Qi&&1<this.geometry.figures.length)&&Rc(t,1,0,0,1,0,0),F=!1,this.Ff()&&this.isShadowed&&e.Ke("drawShadows")&&(t.Iw((j=this.shadowOffset).x*e.scale*e.Tb,j.y*e.scale*e.Tb,this.shadowBlur),cu(t),t.shadowColor=this.shadowColor),j=!1,this.part&&e.Ke("drawShadows")&&(j=this.part.isShadowed),t.clipInsteadOfFill&&(j=!1),!0===this.shadowVisible?(cu(t),!1===F&&j&&(Rc(t,1,0,0,1,0,0),t.Ym(e),F=!0)):!1===this.shadowVisible&&Xh(t),ut=this.naturalBounds,null!==this.areaBackground&&(_a(this,t,this.areaBackground,!0,!0,ut,h),!1===F&&j&&(Rc(t,1,0,0,1,0,0),t.Ym(e),F=!0),this.areaBackground instanceof In&&this.areaBackground.type===Sa?(t.beginPath(),t.rect(h.x,h.y,h.width,h.height),t.Je(this.areaBackground)):t.fillRect(h.x,h.y,h.width,h.height)),this instanceof qe?Rc(t,c.m11,c.m12,c.m21,c.m22,c.dx,c.dy):(t.He.Oa=[c.m11,c.m12,c.m21,c.m22,c.dx,c.dy],!1===F&&j&&(Rc(t,1,0,0,1,0,0),t.Ym(e),F=!0)),null!==this.background){!1===F&&j&&(Rc(t,1,0,0,1,0,0),t.Ym(e),F=!0);var xt=this.naturalBounds;P=c=0;var pt=xt.width;xt=xt.height;var Pt=0;this instanceof Qi&&(c=(xt=this.geometry.bounds).x,P=xt.y,pt=xt.width,xt=xt.height,Pt=this.strokeWidth),_a(this,t,this.background,!0,!1,ut,h),this.background instanceof In&&this.background.type===Sa?(t.beginPath(),t.rect(c-Pt/2,P-Pt/2,pt+Pt,xt+Pt),t.Je(this.background)):t.fillRect(c-Pt/2,P-Pt/2,pt+Pt,xt+Pt)}return j&&(null!==this.background||null!==this.areaBackground||null!==g&&0!=(512&g.F)||null!==g&&(g.type===qe.Auto||g.type===qe.Spot)&&g.tb()!==this)?(_d(this,!0),null===this.shadowVisible&&Xh(t)):_d(this,!1),this.ej(t,e),j&&0!=(512&this.F)&&cu(t),this.Ff()&&j&&Xh(t),_&&(t.restore(),k&&t.gd.pop()),this instanceof qe&&(o=t.gd.pop()),!0===F&&t.gd.pop(),(this instanceof Qn&&1<this.lineCount||this instanceof Qi&&1<this.geometry.figures.length)&&(o=t.gd.pop()),null!==t.nu.Dq&&(null===o&&(a===t.Wt?(Rc(t,1,0,0,1,0,0),o=t.gd.pop()):o=t.Wt),t.nu.Dq(this,o)),this.svg=o,!0},Ma.prototype.resize=function(t,e,o,a){return(this.width!==t||this.height!==e)&&(this.width=t,this.height=e,this.style.width=o+"px",this.style.height=a+"px",!0)},Ma.prototype.toDataURL=function(t,e){return this.Ja.toDataURL(t,e)},Ma.prototype.getBoundingClientRect=function(){return this.Ja.getBoundingClientRect()},Ma.prototype.focus=function(){this.Ja.focus()},Ma.prototype.ky=function(){this.ownerDocument=this.Ja.B=null},X.Object.defineProperties(Ma.prototype,{width:{get:function(){return this.Ja.width},set:function(t){this.Ja.width=t}},height:{get:function(){return this.Ja.height},set:function(t){this.Ja.height=t}},style:{get:function(){return this.Ja.style}}}),Ma.className="CanvasSurface",(st=Of.prototype).Sy=function(t){this.Y.imageSmoothingEnabled=t},st.arc=function(t,e,o,a,h,c){this.Y.arc(t,e,o,a,h,c)},st.beginPath=function(){this.Y.beginPath()},st.bezierCurveTo=function(t,e,o,a,h,c){this.Y.bezierCurveTo(t,e,o,a,h,c)},st.clearRect=function(t,e,o,a){this.Y.clearRect(t,e,o,a)},st.clip=function(){this.Y.clip()},st.closePath=function(){this.Y.closePath()},st.createLinearGradient=function(t,e,o,a){return this.Y.createLinearGradient(t,e,o,a)},st.createPattern=function(t,e){return this.Y.createPattern(t,e)},st.createRadialGradient=function(t,e,o,a,h,c){return this.Y.createRadialGradient(t,e,o,a,h,c)},st.drawImage=function(t,e,o,a,h,c,g,_,k){void 0===a?this.Y.drawImage(t,e,o):this.Y.drawImage(t,e,o,a,h,c,g,_,k)},st.fill=function(){this.Y.fill()},st.fillRect=function(t,e,o,a){this.Y.fillRect(t,e,o,a)},st.fillText=function(t,e,o){this.Y.fillText(t,e,o)},st.getImageData=function(t,e,o,a){return this.Y.getImageData(t,e,o,a)},st.lineTo=function(t,e){this.Y.lineTo(t,e)},st.measureText=function(t){return this.Y.measureText(t)},st.moveTo=function(t,e){this.Y.moveTo(t,e)},st.quadraticCurveTo=function(t,e,o,a){this.Y.quadraticCurveTo(t,e,o,a)},st.rect=function(t,e,o,a){this.Y.rect(t,e,o,a)},st.restore=function(){this.Y.restore()},Of.prototype.rotate=function(t){this.Y.rotate(t)},(st=Of.prototype).save=function(){this.Y.save()},st.setTransform=function(t,e,o,a,h,c){this.Y.setTransform(t,e,o,a,h,c)},st.scale=function(t,e){this.Y.scale(t,e)},st.stroke=function(){this.Y.stroke()},st.transform=function(t,e,o,a,h,c){1===t&&0===e&&0===o&&1===a&&0===h&&0===c||this.Y.transform(t,e,o,a,h,c)},st.translate=function(t,e){this.Y.translate(t,e)},st.Je=function(t){if(t instanceof In&&t.type===Sa){var e=t.gl;(t=t.Au)>e?(this.scale(e/t,1),this.translate((t-e)/2,0)):e>t&&(this.scale(1,t/e),this.translate(0,(e-t)/2)),this.yn?this.clip():this.fill(),t>e?(this.translate(-(t-e)/2,0),this.scale(1/(e/t),1)):e>t&&(this.translate(0,-(e-t)/2),this.scale(1,1/(t/e)))}else this.yn?this.clip():this.fill()},st.vj=function(){this.yn||this.stroke()},st.Iw=function(t,e,o){this.et=t,this.ft=e,this.ug=o},st.Ft=function(t,e){var o=this.Y;void 0!==o.setLineDash&&(o.setLineDash(t),o.lineDashOffset=e)},st.Dt=function(){var t=this.Y;void 0!==t.setLineDash&&(t.setLineDash(rw),t.lineDashOffset=0)},st.uc=function(t){t&&(this.yu=""),this.xu=this.zu=""},X.Object.defineProperties(Of.prototype,{fillStyle:{get:function(){return this.Y.fillStyle},set:function(t){this.xu!==t&&(this.xu=this.Y.fillStyle=t)}},font:{get:function(){return this.Y.font},set:function(t){this.yu!==t&&(this.yu=this.Y.font=t)}},globalAlpha:{get:function(){return this.Y.globalAlpha},set:function(t){this.Y.globalAlpha=t}},lineCap:{get:function(){return this.Y.lineCap},set:function(t){this.Y.lineCap=t}},lineDashOffset:{get:function(){return this.Y.lineDashOffset},set:function(t){this.Y.lineDashOffset=t}},lineJoin:{get:function(){return this.Y.lineJoin},set:function(t){this.Y.lineJoin=t}},lineWidth:{get:function(){return this.Y.lineWidth},set:function(t){this.Y.lineWidth=t}},miterLimit:{get:function(){return this.Y.miterLimit},set:function(t){this.Y.miterLimit=t}},shadowBlur:{get:function(){return this.Y.shadowBlur},set:function(t){this.Y.shadowBlur=t}},shadowColor:{get:function(){return this.Y.shadowColor},set:function(t){this.Y.shadowColor=t}},shadowOffsetX:{get:function(){return this.Y.shadowOffsetX},set:function(t){this.Y.shadowOffsetX=t}},shadowOffsetY:{get:function(){return this.Y.shadowOffsetY},set:function(t){this.Y.shadowOffsetY=t}},strokeStyle:{get:function(){return this.Y.strokeStyle},set:function(t){this.zu!==t&&(this.zu=this.Y.strokeStyle=t)}},textAlign:{get:function(){return this.Y.textAlign},set:function(t){this.Y.textAlign=t}},imageSmoothingEnabled:{get:function(){return this.Y.imageSmoothingEnabled},set:function(t){this.Y.imageSmoothingEnabled=t}},clipInsteadOfFill:{get:function(){return this.yn},set:function(t){this.yn=t}}});var rw=Object.freeze([]);function V0(){this.T=this.u=this.I=this.l=0}function In(t){Oc||(Fv(),Oc=!0),me(this),this.v=!1,void 0===t?(this.qa=Ku,this.fl="black"):"string"==typeof t?(this.qa=Ku,this.fl=t):(this.qa=t,this.fl="black"),(t=this.qa)===Zu?(this.Dd=En,this.sl=gc):this.sl=this.Dd=t===Sa?Hi:mn,this.jt=0,this.Vr=NaN,this.ke=this.Ks=this.je=null,this.Au=this.gl=0}function Ed(t,e,o){return e=void 0===e||"number"!=typeof e?.2:e,o=void 0===o?Da:o,xh(t),_p(e,o)}function kd(t,e,o){return e=void 0===e||"number"!=typeof e?.2:e,o=void 0===o?Da:o,xh(t),_p(-e,o)}function Ym(t,e,o){xh(t),t=lr.l;var a=lr.I,h=lr.u,c=lr.T;return xh(e),void 0===o&&(o=.5),"rgba("+Math.round((lr.l-t)*o+t)+", "+Math.round((lr.I-a)*o+a)+", "+Math.round((lr.u-h)*o+h)+", "+Math.round((lr.T-c)*o+c)+")"}function ua(t){return!!t&&(t instanceof In?t.Fy():(xh(t),128>(299*lr.l+587*lr.I+114*lr.u)/1e3))}function _p(t,e){switch(e){case Da:e=100*f1(lr.l);var o=100*f1(lr.I),a=100*f1(lr.u);return hs.l=.4124564*e+.3575761*o+.1804375*a,hs.I=.2126729*e+.7151522*o+.072175*a,hs.u=.0193339*e+.119192*o+.9503041*a,hs.T=lr.T,e=Mp(hs.l/pu[0]),o=Mp(hs.I/pu[1]),a=Mp(hs.u/pu[2]),ws.l=116*o-16,ws.I=500*(e-o),ws.u=200*(o-a),ws.T=hs.T,ws.l=Math.min(100,Math.max(0,ws.l+100*t)),e=(t=(ws.l+16)/116)-ws.u/200,hs.l=pu[0]*Xm(ws.I/500+t),hs.I=pu[1]*(ws.l>Vv*Bv?Math.pow(t,3):ws.l/Vv),hs.u=pu[2]*Xm(e),hs.T=ws.T,t=-.969266*hs.l+1.8760108*hs.I+.041556*hs.u,e=.0556434*hs.l+-.2040259*hs.I+1.0572252*hs.u,lr.l=255*fu((3.2404542*hs.l+-1.5371385*hs.I+-.4985314*hs.u)/100),lr.I=255*fu(t/100),lr.u=255*fu(e/100),lr.T=hs.T,lr.l=Math.round(lr.l),255<lr.l?lr.l=255:0>lr.l&&(lr.l=0),lr.I=Math.round(lr.I),255<lr.I?lr.I=255:0>lr.I&&(lr.I=0),lr.u=Math.round(lr.u),255<lr.u?lr.u=255:0>lr.u&&(lr.u=0),"rgba("+lr.l+", "+lr.I+", "+lr.u+", "+lr.T+")";case mu:return $m(),Ca.u=Math.min(100,Math.max(0,Ca.u+100*t)),"hsla("+Ca.l+", "+Ca.I+"%, "+Ca.u+"%, "+Ca.T+")";default:return z("Unknown color space: "+e),"rgba(0, 0, 0, 1)"}}function xh(t){Oc||(Fv(),Oc=!0);var e=Ad;if(null!==e){e.clearRect(0,0,1,1),e.fillStyle="#000000";var o=e.fillStyle;e.fillStyle=t,e.fillStyle!==o?(e.fillRect(0,0,1,1),t=e.getImageData(0,0,1,1).data,lr.l=t[0],lr.I=t[1],lr.u=t[2],lr.T=t[3]/255):(e.fillStyle="#FFFFFF",e.fillStyle=t,lr.l=0,lr.I=0,lr.u=0,lr.T=1)}}function $m(){var t=lr.l/255,e=lr.I/255,o=lr.u/255,a=Math.max(t,e,o),h=Math.min(t,e,o),c=a-h;if(h=(a+h)/2,0===c)var g=t=0;else{switch(a){case t:g=(e-o)/c%6;break;case e:g=(o-t)/c+2;break;case o:g=(t-e)/c+4}0>(g*=60)&&(g+=360),t=c/(1-Math.abs(2*h-1))}Ca.l=Math.round(g),Ca.I=Math.round(100*t),Ca.u=Math.round(100*h),Ca.T=lr.T}function f1(t){return.04045>=(t/=255)?t/12.92:Math.pow((t+.055)/1.055,2.4)}function fu(t){return.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055}function Mp(t){return t>Bv?Math.pow(t,1/3):(Vv*t+16)/116}function Xm(t){var e=t*t*t;return e>Bv?e:(116*t-16)/Vv}function du(t,e){"string"!=typeof t&&(t instanceof In||z("Value for "+e+" must be a color string or a Brush, not "+t))}function Fv(){Ad=gl?new Ma(null).context:null}Of.className="CanvasSurfaceContext",V0.className="ColorNumbers",In.prototype.copy=function(){var t=new In;return t.qa=this.qa,t.fl=this.fl,t.Dd=this.Dd.H(),t.sl=this.sl.H(),t.jt=this.jt,t.Vr=this.Vr,null!==this.je&&(t.je=this.je.copy()),t.Ks=this.Ks,t},(st=In.prototype).freeze=function(){return this.v=!0,null!==this.je&&this.je.freeze(),this},st.ea=function(){return Object.isFrozen(this)&&z("cannot thaw constant: "+this),this.v=!1,null!==this.je&&this.je.ea(),this},st.jb=function(t){t.classType===In&&(this.type=t)},st.toString=function(){var t="Brush(";if(this.type===Ku)t+=this.color;else if(t=this.type===Zu?t+"Linear ":this.type===Sa?t+"Radial ":this.type===qu?t+"Pattern ":t+"(unknown) ",t+=this.start+" "+this.end,null!==this.colorStops)for(var e=this.colorStops.iterator;e.next();)t+=" "+e.key+":"+e.value;return t+")"},st.addColorStop=function(t,e){return this.v&&nt(this),("number"!=typeof t||!isFinite(t)||1<t||0>t)&&Q(t,"0 <= loc <= 1",In,"addColorStop:loc"),null===this.je&&(this.je=new gt),this.je.add(t,e),this.qa===Ku&&(this.type=Zu),this.ke=null,this},st.FA=function(t,e){if(this.v&&nt(this),t=void 0===t||"number"!=typeof t?.2:t,e=void 0===e?Da:e,this.type===Ku)xh(this.color),this.color=_p(t,e);else if((this.type===Zu||this.type===Sa)&&null!==this.colorStops)for(var o=this.colorStops.iterator;o.next();)xh(o.value),this.addColorStop(o.key,_p(t,e));return this},st.Iz=function(t,e){if(this.v&&nt(this),t=void 0===t||"number"!=typeof t?.2:t,e=void 0===e?Da:e,this.type===Ku)xh(this.color),this.color=_p(-t,e);else if((this.type===Zu||this.type===Sa)&&null!==this.colorStops)for(var o=this.colorStops.iterator;o.next();)xh(o.value),this.addColorStop(o.key,_p(-t,e));return this},st.Fy=function(){if(this.type===Ku)return ua(this.color);if((this.type===Zu||this.type===Sa)&&null!==this.colorStops){var t=this.colorStops;if(this.type===Sa)return ua(t.first().value);if(null!==t.get(.5))return ua(t.get(.5));if(2===t.count)return ua(Ym((t=t.ma())[0].value,t[1].value));for(var e=t.iterator,o=-1,a=-1,h=1,c=1;e.next();){var g=e.key,_=Math.abs(.5-e.key);h>c&&_<h?(o=g,h=_):c>=h&&_<c&&(a=g,c=_)}return o>a&&(c=o,o=a,a=c,c=h),h=a-o,ua(Ym(t.get(o),t.get(a),1-c/h))}return!1},X.Object.defineProperties(In.prototype,{type:{get:function(){return this.qa},set:function(t){this.v&&nt(this,t),this.qa=t,this.start.nc()&&(t===Zu?this.start=En:t===Sa&&(this.start=Hi)),this.end.nc()&&(t===Zu?this.end=gc:t===Sa&&(this.end=Hi)),this.ke=null}},color:{get:function(){return this.fl},set:function(t){this.v&&nt(this,t),this.fl=t,this.ke=null}},start:{get:function(){return this.Dd},set:function(t){this.v&&nt(this,t),this.Dd=t.H(),this.ke=null}},end:{get:function(){return this.sl},set:function(t){this.v&&nt(this,t),this.sl=t.H(),this.ke=null}},startRadius:{get:function(){return this.jt},set:function(t){this.v&&nt(this,t),0>t&&Q(t,">= zero",In,"startRadius"),this.jt=t,this.ke=null}},endRadius:{get:function(){return this.Vr},set:function(t){this.v&&nt(this,t),0>t&&Q(t,">= zero",In,"endRadius"),this.Vr=t,this.ke=null}},colorStops:{get:function(){return this.je},set:function(t){this.v&&nt(this,t),this.je=t,this.ke=null}},pattern:{get:function(){return this.Ks},set:function(t){this.v&&nt(this,t),this.Ks=t,this.ke=null}}}),In.prototype.isDark=In.prototype.Fy,In.prototype.darkenBy=In.prototype.Iz,In.prototype.lightenBy=In.prototype.FA,In.prototype.addColorStop=In.prototype.addColorStop;var Ku,Zu,Sa,qu,Da,mu,Bv=216/24389,Vv=24389/27,pu=[95.047,100,108.883],Ad=null,lr=new V0,Ca=new V0,hs=new V0,ws=new V0,Oc=!1;function es(){this.oa="Base"}function Km(){this.oa="Base"}function Cp(){this.oa="Base"}function Sp(){this.oa="Base"}function j0(){this.oa="Base"}function jv(){this.oa="Base"}function Zm(){this.oa="Base",this.name="Table"}function zv(){this.oa="Base"}function Hv(){this.oa="Base"}function Uv(){this.oa="Base"}function qm(){this.oa="Base"}function d1(t,e,o,a){if(0>e)return t%e===o;if(t%e!==o)return!1;e=a.length;for(var h=0;h<e;h++)if(t%a[h]===o)return!1;return!0}function Jm(){this.oa="Base"}function z0(t,e,o,a){if(!1!==Pc(a)){var h=a.strokeWidth;0===h&&t instanceof li&&t.type===qe.Link&&t.adornedObject instanceof Qi&&(h=t.adornedObject.strokeWidth),h*=a.Aa,t instanceof We&&null!==t.na?th(a,(t=t.na.bounds).x-h/2,t.y-h/2,t.width+h,t.height+h):t instanceof li&&null!==t.adornedPart.na?th(a,(t=t.adornedPart.na.bounds).x-h/2,t.y-h/2,t.width+h,t.height+h):th(a,-h/2,-h/2,e+h,o+h),ja(a,!1)}}function H0(){this.oa="Base"}function qe(t){Oi.call(this),this.qa=void 0===t?qe.Position:t,null===this.qa&&z("Panel type not specified or PanelLayout not loaded: "+t),this.W=new Lt,this.ib=br,this.qa===qe.Grid&&(this.isAtomic=!0),this.Mn=zs,this.Sf=ts,this.qa===qe.Table&&U0(this),this.pq=Ys,this.no=ke,this.oo=ii,this.ko=0,this.jo=100,this.mo=10,this.lo=0,this.li=this.ob=this.eh=this.dh=this.Mj=null,this.Do=NaN,this.te=this.Ci=null,this.Jl="category",this.Zd=null,this.xg=new te(NaN,NaN,NaN,NaN),this.zh=this.Lp=this.Ui=null,this.Lg=""}function U0(t){t.Fj=br,t.Ug=1,t.si=null,t.ri=null,t.Tg=1,t.Sg=null,t.pi=null,t.qb=[],t.nb=[],t.dk=Yv,t.Cj=Yv,t.Xi=0,t.Gi=0}function p1(t,e,o,a){for(var h=a.length,c=t.actualBounds,g=t.naturalBounds,_=!0,k=0;k<h;k++){var P=a[k];if(void 0!==P)if(_)_=!1;else if(0!==P.actual){if(o){if(P.position>c.height)continue}else if(P.position>c.width)continue;var F=P.separatorStrokeWidth;isNaN(F)&&(F=o?t.Ug:t.Tg);var j=P.separatorStroke;if(null===j&&(j=o?t.si:t.Sg),0!==F&&null!==j){_a(t,e,j,!1,!1,g,c),j=!1;var ut=P.separatorDashArray;null===ut&&(ut=o?t.ri:t.pi),null!==ut&&(j=!0,e.Ft(ut,0)),e.beginPath(),ut=P.position+F,o?ut>c.height&&(F-=ut-c.height):ut>c.width&&(F-=ut-c.width),P=P.position+F/2,e.lineWidth=F,F=t.ib,o?(ut=c.width-F.right,e.moveTo(F.left,P+=F.top),e.lineTo(ut,P)):(ut=c.height-F.bottom,e.moveTo(P+=F.left,F.top),e.lineTo(P,ut)),e.stroke(),j&&e.Dt()}}}}function Qm(t,e,o,a,h){for(var c=a.length,g=t.actualBounds,_=t.naturalBounds,k=0;k<c;k++){var P=a[k];if(void 0!==P&&null!==P.background&&P.coversSeparators!==h&&0!==P.actual){var F=o?g.height:g.width;if(!(P.position>F)){var j=P.wc(),ut=P.separatorStrokeWidth;isNaN(ut)&&(ut=o?t.Ug:t.Tg);var xt=P.separatorStroke;null===xt&&(xt=o?t.si:t.Sg),null===xt&&(ut=0),j-=ut,(ut=P.position+ut)+(j+=P.actual)>F&&(j=F-ut),0>=j||(F=t.ib,_a(t,e,P.background,!0,!1,_,g),o?e.fillRect(F.left,ut+F.top,g.width-(F.left+F.right),j):e.fillRect(ut+F.left,F.top,j,g.height-(F.top+F.bottom)))}}}}function Nf(t){return"LineV"===t||"BarV"===t}function Nc(t){return null!==t.part?t.part.locationObject:null}function Ju(t,e){za(t,t,e)}function za(t,e,o){o(e);for(var a=(e=e.W.j).length,h=0;h<a;h++){var c=e[h];c instanceof qe&&za(t,c,o)}}function m1(t,e){Td(t,t,e)}function Td(t,e,o){if(o(e),e instanceof qe)for(var a=(e=e.W.j).length,h=0;h<a;h++)Td(t,e[h],o)}function Dp(t,e,o){if(o(e))return e;if(e instanceof qe)for(var a=(e=e.W.j).length,h=0;h<a;h++){var c=Dp(t,e[h],o);if(null!==c)return c}return null}function n_(t){for(var e=(t=t.W.j).length,o=0,a=0;a<e;a++){var h=t[a];h instanceof qe?o=Math.max(o,n_(h)):h instanceof Qi&&(o=Math.max(o,h.wh/2*h.gk*h.Af()))}return o}function ow(t,e,o,a){for(var h=t.W.j,c=h.length;c--;){var g=h[c];if(g.visible){var _=g.actualBounds,k=t.naturalBounds;_.x>k.width||_.y>k.height||0>_.x+_.width||0>_.y+_.height||(g instanceof qe&&ow(g,e,o,a),null!==e&&(g=e(g)),null===g||null!==o&&!o(g)||a.add(g))}}}function Gv(t){var e=null;return t instanceof Qi&&((e=t.spot1)===zs&&(e=null),null!==(t=t.geometry)&&null===e&&(e=t.spot1)),null===e&&(e=gr),e}function g1(t){var e=null;return t instanceof Qi&&((e=t.spot2)===zs&&(e=null),null!==(t=t.geometry)&&null===e&&(e=t.spot2)),null===e&&(e=tl),e}function v1(t,e){t.F=e?16777216|t.F:-16777217&t.F}function sw(t,e,o){var a=t.qb;if(a&&!(0>e)){if(a[e]=o instanceof Eo?o:void 0,!o)for(e=a.length-1;0<=e&&void 0===a[e--];)a.length--;t.s()}}function aw(t,e,o){var a=t.nb;if(a&&!(0>e)){if(a[e]=o instanceof Eo?o:void 0,!o)for(e=a.length-1;0<=e&&void 0===a[e--];)a.length--;t.s()}}function y1(t){return null!==(t=t.li)&&t.v}function Ea(t){var e=t.li;if(null===e)null!==t.data&&z("Template cannot have .data be non-null: "+t),t.li=e=new Lt;else if(e.v)return;var o=new Lt;v1(t,!1),t.an(t,function(P,F){var j=F.fb;if(null!==j)for(Md(F,!1),j=j.iterator;j.next();){var ut=j.value;ut.mode===Pw&&Md(F,!0);var xt=ut.sourceName;null!==xt&&("/"===xt&&v1(P,!0),null!==(xt=__(ut,P,F))&&(o.add(xt),null===xt.im&&(xt.im=new Lt),xt.im.add(ut))),e.add(ut)}if(F instanceof qe&&F.type===qe.Table){if(0<F.qb.length)for(j=(P=F.qb).length,ut=0;ut<j;ut++)if(void 0!==(xt=P[ut])&&null!==xt.fb)for(var pt=xt.fb.iterator;pt.next();){var Pt=pt.value;Pt.pd=xt,Pt.hq=2,Pt.om=xt.index,e.add(Pt)}if(0<F.nb.length)for(P=(F=F.nb).length,j=0;j<P;j++)if(void 0!==(ut=F[j])&&null!==ut.fb)for(xt=ut.fb.iterator;xt.next();)(pt=xt.value).pd=ut,pt.hq=1,pt.om=ut.index,e.add(pt)}});for(var a=o.iterator;a.next();){var h=a.value;if(null!==h.im){Md(h,!0);for(var c=h.im.iterator;c.next();){var g=c.value;null===h.fb&&(h.fb=new Lt),h.fb.add(g)}}h.im=null}for(a=e.iterator;a.next();)if(null!==(c=(h=a.value).pd)){h.pd=null;var _=h.targetProperty,k=_.indexOf(".");0<k&&c instanceof qe&&(g=_.substring(0,k),_=_.substr(k+1),null!==(k=c.bb(g))?(c=k,h.targetProperty=_):lt('Warning: unable to find GraphObject named "'+g+'" for Binding: '+h.toString())),c instanceof Eo?(g=be(c.panel),h.wj=void 0===g?-1:g,c.panel.dl=h.wj):c instanceof Oi?(g=be(c),h.wj=void 0===g?-1:g,c.dl=h.wj):z("Unknown type of binding target: "+c)}e.freeze(),t instanceof Nt&&t.Nc()&&t.Ta()}function G0(t){if(t.type===qe.Spot||t.type===qe.Auto)return Math.min(t.W.length,1);if(t.type===qe.Link){for(var e=(t=t.W).length,o=0;o<e;o++){var a=t.J(o);if(!(a instanceof Qi&&a.isPanelMain))break}return o}return t.type===qe.Table&&0<t.W.length&&(t=t.W.J(0)).isPanelMain&&t instanceof qe&&(t.type===qe.TableRow||t.type===qe.TableColumn)?1:0}function x1(t,e,o){if(!(null==e||0>o)){var a=function(t,e){if(null===e)return"";if("function"==typeof(t=t.Jl))t=t(e);else{if("string"!=typeof t||"object"!=typeof e)return"";if(""===t)return"";t=go(e,t)}return void 0===t?"":"string"==typeof t?t:(z("Panel.getCategoryForItemData found a non-string category for "+e+": "+t),"")}(t,e),h=t.itemTemplateMap,c=null;null!==h&&(c=h.G(a)),null===c&&(null!==h&&(c=h.G("")),null===c&&(tg||(tg=!0,lt('No item template Panel found for category "'+a+'" on '+t),lt("  Using default item template."),a=new qe,(h=new Qn).bind(new Mo("text","",v)),a.add(h),uw=a),c=uw)),null!==(a=c)&&(Ea(a),0!=(16777216&(a=a.copy()).F)&&null!==(h=t.ij())&&v1(h,!0),"object"==typeof e&&(null===t.Zd&&(t.Zd=new gt),t.Zd.add(e,a)),h=o+G0(t),t.wb(h,a),a.ob=e,Dr(t,h,o),a.ob=null,a.data=e)}}function Dr(t,e,o){for(t=t.W;e<t.length;){var a=t.J(e);if(a instanceof qe){var h=e,c=o;a.type===qe.TableRow?a.row=h:a.type===qe.TableColumn&&(a.column=h),a.itemIndex=c}e++,o++}}function w1(t,e,o){var a=e.enabledChanged;if(null!==a&&a(e,o),e instanceof qe){a=(e=e.W.j).length;for(var h=0;h<a;h++){var c=e[h];o&&c instanceof qe&&!c.isEnabled||w1(t,c,o)}}}function vl(t,e){e.name=t,wh.add(t,e)}In.className="Brush",In.Solid=Ku=new wt(In,"Solid",0),In.Linear=Zu=new wt(In,"Linear",1),In.Radial=Sa=new wt(In,"Radial",2),In.Pattern=qu=new wt(In,"Pattern",4),In.Lab=Da=new wt(In,"Lab",5),In.HSL=mu=new wt(In,"HSL",6),In.randomColor=function(t,e){void 0===t&&(t=128),void 0===e&&(e=Math.max(t,255));var o=Math.abs(e-t);e=Math.floor(t+Math.random()*o).toString(16);var a=Math.floor(t+Math.random()*o).toString(16);return t=Math.floor(t+Math.random()*o).toString(16),2>e.length&&(e="0"+e),2>a.length&&(a="0"+a),2>t.length&&(t="0"+t),"#"+e+a+t},In.isValidColor=function(t){if("black"===t)return!0;if(""===t)return!1;Oc||(Fv(),Oc=!0);var e=Ad;if(null===e)return!0;e.fillStyle="#000000";var o=e.fillStyle;return e.fillStyle=t,e.fillStyle!==o||(e.fillStyle="#FFFFFF",o=e.fillStyle,e.fillStyle=t,e.fillStyle!==o)},In.lighten=function(t){return Ed(t)},In.lightenBy=Ed,In.darken=function(t){return kd(t)},In.darkenBy=kd,In.mix=Ym,In.isDark=ua,es.prototype.measure=function(){},es.prototype.IA=function(t,e,o,a,h){t.measure(e,o,a,h)},es.prototype.arrange=function(){},es.prototype.wz=function(t,e,o,a,h,c){t.arrange(e,o,a,h,c)},es.prototype.RA=function(t){t.Bk()},es.prototype.mc=function(){},X.Object.defineProperties(es.prototype,{name:{get:function(){return this.oa},set:function(t){this.oa=t}},classType:{get:function(){return qe}}}),es.prototype.remeasureObject=es.prototype.RA,es.prototype.arrangeElement=es.prototype.wz,es.prototype.measureElement=es.prototype.IA,es.className="PanelLayout",et(Km,es),Km.prototype.measure=function(t,e,o,a,h,c,g){var _=a.length;t=Nc(t);for(var k=0;k<_;k++){var P=a[k];if(P.visible||P===t){var F=P.margin,j=F.right+F.left;F=F.top+F.bottom,P.measure(e,o,c,g);var ut=P.measuredBounds;j=Math.max(ut.width+j,0),F=Math.max(ut.height+F,0),ut=P.position.x;var xt=P.position.y;isFinite(ut)||(ut=0),isFinite(xt)||(xt=0),P instanceof Qi&&P.isGeometryPositioned&&(ut-=P=P.strokeWidth/2,xt-=P),an(h,ut,xt,j,F)}}},Km.prototype.arrange=function(t,e,o){var a=e.length,h=t.padding;for(t=o.x-h.left,o=o.y-h.top,h=0;h<a;h++){var c=e[h],g=c.measuredBounds,_=c.margin,k=c.position.x,P=c.position.y;if(k=isNaN(k)?-t:k-t,P=isNaN(P)?-o:P-o,c instanceof Qi&&c.isGeometryPositioned){var F=c.strokeWidth/2;k-=F,P-=F}c.visible&&c.arrange(k+_.left,P+_.top,g.width,g.height)}},et(Cp,es),Cp.prototype.measure=function(t,e,o,a,h,c,g){var _=a.length;e=u(),c=Nc(t);for(var k=0;k<_;k++){var P=a[k];if(P.visible||P===c){var F=Ol(P,!1);if(F!==nr&&F!==ho)e.push(P);else{P.measure(1/0,o,0,g),F=P.margin,P=P.measuredBounds;var j=Math.max(P.height+F.top+F.bottom,0);h.width+=Math.max(P.width+F.right+F.left,0),h.height=Math.max(h.height,j)}}}for(a=e.length,t.desiredSize.height?o=Math.min(t.desiredSize.height,t.maxSize.height):0!==h.height&&(o=Math.min(h.height,t.maxSize.height)),t=0;t<a;t++)((k=e[t]).visible||k===c)&&(_=(F=k.margin).right+F.left,F=F.top+F.bottom,k.measure(1/0,o,0,g),k=k.measuredBounds,F=Math.max(k.height+F,0),h.width+=Math.max(k.width+_,0),h.height=Math.max(h.height,F));m(e)},Cp.prototype.arrange=function(t,e,o){for(var a=e.length,h=t.padding,c=h.top,g=t.isOpposite,_=g?o.width:h.left,k=0;k<a;k++){var P=c,F=e[k];if(F.visible){var j=F.measuredBounds,ut=F.margin,xt=ut.top+ut.bottom,pt=c+h.bottom,Pt=j.height,Xt=Ol(F,!1);(isNaN(F.desiredSize.height)&&Xt===no||Xt===Vs)&&(Pt=Math.max(o.height-xt-pt,0)),xt=Pt+xt+pt,(pt=F.alignment).Mb()&&(pt=t.defaultAlignment),pt.kb()||(pt=Hi),g&&(_-=j.width+ut.left+ut.right),F.arrange(_+pt.offsetX+ut.left,P+pt.offsetY+ut.top+(o.height*pt.y-xt*pt.y),j.width,Pt),g||(_+=j.width+ut.left+ut.right)}}},et(Sp,es),Sp.prototype.measure=function(t,e,o,a,h,c){var g=a.length;o=u();for(var _=Nc(t),k=0;k<g;k++){var P=a[k];if(P.visible||P===_){var F=Ol(P,!1);if(F!==nr&&F!==Vs)o.push(P);else{var j=P.margin;F=j.right+j.left,j=j.top+j.bottom,P.measure(e,1/0,c,0),P=P.measuredBounds,Re(h,Math.max(h.width,Math.max(P.width+F,0)),h.height+Math.max(P.height+j,0))}}}if(0!==(a=o.length)){for(t.desiredSize.width?e=Math.min(t.desiredSize.width,t.maxSize.width):0!==h.width&&(e=Math.min(h.width,t.maxSize.width)),t=0;t<a;t++)((k=o[t]).visible||k===_)&&(g=(P=k.margin).right+P.left,P=P.top+P.bottom,k.measure(e,1/0,c,0),k=k.measuredBounds,P=Math.max(k.height+P,0),h.width=Math.max(h.width,Math.max(k.width+g,0)),h.height+=P);m(o)}},Sp.prototype.arrange=function(t,e,o){for(var a=e.length,h=t.padding,c=h.left,g=t.isOpposite,_=g?o.height:h.top,k=0;k<a;k++){var P=c,F=e[k];if(F.visible){var j=F.measuredBounds,ut=F.margin,xt=ut.left+ut.right,pt=c+h.right,Pt=j.width,Xt=Ol(F,!1);(isNaN(F.desiredSize.width)&&Xt===no||Xt===ho)&&(Pt=Math.max(o.width-xt-pt,0)),xt=Pt+xt+pt,(pt=F.alignment).Mb()&&(pt=t.defaultAlignment),pt.kb()||(pt=Hi),g&&(_-=j.height+ut.bottom+ut.top),F.arrange(P+pt.offsetX+ut.left+(o.width*pt.x-xt*pt.x),_+pt.offsetY+ut.top,Pt,j.height),g||(_+=j.height+ut.bottom+ut.top)}}},et(j0,es),j0.prototype.measure=function(t,e,o,a,h,c,g){var _=a.length,k=t.tb(),P=k.margin,F=P.right+P.left,j=P.top+P.bottom;k.measure(e,o,c,g);var ut=k.measuredBounds;c=ut.width,g=ut.height;for(var xt=Math.max(c+F,0),pt=Math.max(g+j,0),Pt=t.isClipping,Xt=te.allocAt(-P.left,-P.top,xt,pt),$t=!0,ie=Nc(t),se=0;se<_;se++){var fe=a[se];if(fe!==k&&(fe.visible||fe===ie)){switch(xt=(P=fe.margin).right+P.left,pt=P.top+P.bottom,ut=Ol(fe,!1)){case no:e=c,o=g;break;case ho:e=c;break;case Vs:o=g}fe.measure(e,o,0,0),ut=fe.measuredBounds,xt=Math.max(ut.width+xt,0),pt=Math.max(ut.height+pt,0);var we=fe.alignment;we.Mb()&&(we=t.defaultAlignment),we.kb()||(we=Hi);var ti=fe.alignmentFocus;ti.Mb()&&(ti=Hi);var Ci=null;if(fe instanceof qe&&""!==fe.Lg&&(fe.arrange(0,0,ut.width,ut.height),(Ci=fe.bb(fe.Lg))===fe&&(Ci=null)),null!==Ci){for(P=rt.allocAt(ti.x*(P=Ci.naturalBounds).width-ti.offsetX-(ut=Ci.margin).left,ti.y*P.height-ti.offsetY-ut.top);Ci!==fe;)Ci.transform.ta(P),Ci=Ci.panel;fe=we.x*c+we.offsetX-P.x,ut=we.y*g+we.offsetY-P.y,rt.free(P)}else fe=we.x*c+we.offsetX-(ti.x*ut.width+ti.offsetX)-P.left,ut=we.y*g+we.offsetY-(ti.y*ut.height+ti.offsetY)-P.top;$t?($t=!1,h.h(fe,ut,xt,pt)):an(h,fe,ut,xt,pt)}}switch($t?h.assign(Xt):Pt?h.bw(Xt.x,Xt.y,Xt.width,Xt.height):an(h,Xt.x,Xt.y,Xt.width,Xt.height),te.free(Xt),(ut=k.stretch)===ts&&(ut=Ol(k,!1)),ut){case nr:return;case no:if(!isFinite(e)&&!isFinite(o))return;break;case ho:if(!isFinite(e))return;break;case Vs:if(!isFinite(o))return}for(c=(ut=k.measuredBounds).width,g=ut.height,xt=Math.max(c+F,0),pt=Math.max(g+j,0),Xt=te.allocAt(-(P=k.margin).left,-P.top,xt,pt),e=0;e<_;e++)(o=a[e])===k||!o.visible&&o!==ie||(xt=(P=o.margin).right+P.left,pt=P.top+P.bottom,ut=o.measuredBounds,xt=Math.max(ut.width+xt,0),pt=Math.max(ut.height+pt,0),(F=o.alignment).Mb()&&(F=t.defaultAlignment),F.kb()||(F=Hi),(o=o.alignmentFocus).Mb()&&(o=Hi),$t?($t=!1,h.h(F.x*c+F.offsetX-(o.x*ut.width+o.offsetX)-P.left,F.y*g+F.offsetY-(o.y*ut.height+o.offsetY)-P.top,xt,pt)):an(h,F.x*c+F.offsetX-(o.x*ut.width+o.offsetX)-P.left,F.y*g+F.offsetY-(o.y*ut.height+o.offsetY)-P.top,xt,pt));$t?h.assign(Xt):Pt?h.bw(Xt.x,Xt.y,Xt.width,Xt.height):an(h,Xt.x,Xt.y,Xt.width,Xt.height),te.free(Xt)},j0.prototype.arrange=function(t,e,o){var a=e.length,h=t.tb(),c=h.measuredBounds,g=c.width,_=t.padding,k=_.left,P=k-o.x,F=(_=_.top)-o.y;h.arrange(P,F,g,c=c.height);for(var j=0;j<a;j++){var ut=e[j];if(ut!==h){var xt=ut.measuredBounds,pt=xt.width;xt=xt.height,(F=ut.alignment).Mb()&&(F=t.defaultAlignment),F.kb()||(F=Hi);var Pt=ut.alignmentFocus;if(Pt.Mb()&&(Pt=Hi),P=null,ut instanceof qe&&""!==ut.Lg&&(P=ut.bb(ut.Lg))===ut&&(P=null),null!==P){var Xt=P.naturalBounds;for(Pt=rt.allocAt(Pt.x*Xt.width-Pt.offsetX,Pt.y*Xt.height-Pt.offsetY);P!==ut;)P.transform.ta(Pt),P=P.panel;P=F.x*g+F.offsetX-Pt.x,F=F.y*c+F.offsetY-Pt.y,rt.free(Pt)}else P=F.x*g+F.offsetX-(Pt.x*pt+Pt.offsetX),F=F.y*c+F.offsetY-(Pt.y*xt+Pt.offsetY);P-=o.x,F-=o.y,ut.visible&&ut.arrange(k+P,_+F,pt,xt)}}},et(jv,es),jv.prototype.measure=function(t,e,o,a,h,c,g){var _=a.length,k=t.tb(),P=k.margin,F=e,j=o,ut=P.right+P.left,xt=P.top+P.bottom;k.measure(e,o,c,g),P=k.measuredBounds;var pt=0,Pt=null;k instanceof Qi&&(pt=(Pt=k).strokeWidth*Pt.scale);var Xt=Math.max(P.width+ut,0);P=Math.max(P.height+xt,0);var $t=Gv(k),ie=$t.x*Xt+$t.offsetX;$t=$t.y*P+$t.offsetY;var se=g1(k),fe=se.x*Xt+se.offsetX;for(se=se.y*P+se.offsetY,isFinite(e)&&(F=Math.max(Math.abs(ie-fe)-pt,0)),isFinite(o)&&(j=Math.max(Math.abs($t-se)-pt,0)),(pt=Ge.alloc()).h(0,0),t=Nc(t),se=0;se<_;se++)($t=a[se])===k||!$t.visible&&$t!==t||(Xt=(P=$t.margin).right+P.left,ie=P.top+P.bottom,$t.measure(F,j,0,0),P=$t.measuredBounds,Xt=Math.max(P.width+Xt,0),P=Math.max(P.height+ie,0),pt.h(Math.max(Xt,pt.width),Math.max(P,pt.height)));if(1===_)h.width=Xt,h.height=P,Ge.free(pt);else{switch($t=Gv(k),_=a=0,(se=g1(k)).x!==$t.x&&se.y!==$t.y&&(a=pt.width/Math.abs(se.x-$t.x),_=pt.height/Math.abs(se.y-$t.y)),Ge.free(pt),pt=0,null!==Pt&&(pt=Pt.strokeWidth*Pt.scale,eg(Pt)===Ys&&(a=_=Math.max(a,_))),a+=Math.abs($t.offsetX)+Math.abs(se.offsetX)+pt,_+=Math.abs($t.offsetY)+Math.abs(se.offsetY)+pt,(Pt=k.stretch)===ts&&(Pt=Ol(k,!1)),Pt){case nr:g=c=0;break;case no:isFinite(e)&&(a=e),isFinite(o)&&(_=o);break;case ho:isFinite(e)&&(a=e),g=0;break;case Vs:c=0,isFinite(o)&&(_=o)}k.Bk(),k.measure(a,_,c,g),h.width=k.measuredBounds.width+ut,h.height=k.measuredBounds.height+xt}},jv.prototype.arrange=function(t,e){var o=e.length,a=t.tb(),h=a.measuredBounds,c=te.alloc();c.h(0,0,1,1);var g=a.margin,_=g.left,k=t.padding,P=k.left;a.arrange(P+_,(k=k.top)+(g=g.top),h.width,h.height);var F=Gv(a),j=g1(a),ut=F.y*h.height+F.offsetY,xt=j.x*h.width+j.offsetX;for(j=j.y*h.height+j.offsetY,c.x=F.x*h.width+F.offsetX,c.y=ut,an(c,xt,j,0,0),c.x+=_+P,c.y+=g+k,h=0;h<o;h++)(_=e[h])!==a&&(P=_.measuredBounds,g=_.margin,k=Math.max(P.width+g.right+g.left,0),F=Math.max(P.height+g.top+g.bottom,0),(ut=_.alignment).Mb()&&(ut=t.defaultAlignment),ut.kb()||(ut=Hi),k=c.width*ut.x+ut.offsetX-k*ut.x+g.left+c.x,g=c.height*ut.y+ut.offsetY-F*ut.y+g.top+c.y,_.visible&&(cn(c.x,c.y,c.width,c.height,k,g,P.width,P.height)?_.arrange(k,g,P.width,P.height):_.arrange(k,g,P.width,P.height,new te(c.x,c.y,c.width,c.height))));te.free(c)},et(Zm,es),Zm.prototype.measure=function(t,e,o,a,h){for(var c=a.length,g=u(),_=u(),k=0;k<c;k++){var P=a[k],F=P instanceof qe?P:null;if(null===F||F.type!==qe.TableRow&&F.type!==qe.TableColumn||!P.visible)g.push(P);else{_.push(F);for(var j=F.W.j,ut=j.length,xt=0;xt<ut;xt++){var pt=j[xt];F.type===qe.TableRow?pt.row=P.row:F.type===qe.TableColumn&&(pt.column=P.column),g.push(pt)}}}0===(c=g.length)&&(t.getRowDefinition(0),t.getColumnDefinition(0));for(var Pt=[],Xt=0;Xt<c;Xt++){var $t=g[Xt];ja($t,!0),Wh($t,!0),Pt[$t.row]||(Pt[$t.row]=[]),Pt[$t.row][$t.column]||(Pt[$t.row][$t.column]=[]),Pt[$t.row][$t.column].push($t)}m(g);var ie=u(),se=u(),fe=u(),we={count:0},ti={count:0},Ci=e,ui=o,Bi=t.qb;c=Bi.length;for(var mi=0;mi<c;mi++){var ei=Bi[mi];void 0!==ei&&(ei.actual=0)}c=(Bi=t.nb).length;for(var kn=0;kn<c;kn++)void 0!==(ei=Bi[kn])&&(ei.actual=0);for(var un=Pt.length,$n=0,uo=0;uo<un;uo++)Pt[uo]&&($n=Math.max($n,Pt[uo].length));var ns=Math.min(t.topIndex,un-1),Wr=Math.min(t.leftIndex,$n-1),Rr=0;un=Pt.length;for(var oc=Nc(t),$a=0;$a<un;$a++)if(Pt[$a]){$n=Pt[$a].length;var Ia=t.getRowDefinition($a);Ia.actual=0;for(var cs=Ia.bc=0;cs<$n;cs++)if(Pt[$a][cs]){var _u=t.getColumnDefinition(cs);void 0===ie[cs]&&(_u.actual=0,_u.bc=0,ie[cs]=!0);for(var wy=Pt[$a][cs],Dh=wy.length,Er=0;Er<Dh;Er++){var Zo=wy[Er];if(Zo.visible||Zo===oc){var by=1<Zo.rowSpan||1<Zo.columnSpan;by&&($a<ns||cs<Wr||se.push(Zo));var Eg=Zo.margin,Qh=Eg.right+Eg.left,Eh=Eg.top+Eg.bottom,co=Xu(Zo,Ia,_u,!1),_y=Zo.desiredSize,ex=!isNaN(_y.height),kg=!isNaN(_y.width)&&ex;if(by||co===nr||kg||$a<ns||cs<Wr||(void 0!==we[cs]||co!==no&&co!==ho||(we[cs]=-1,we.count++),void 0!==ti[$a]||co!==no&&co!==Vs||(ti[$a]=-1,ti.count++),fe.push(Zo)),Zo.measure(1/0,1/0,0,0),!($a<ns||cs<Wr)){var Mu=Zo.measuredBounds,_l=Math.max(Mu.width+Qh,0),rm=Math.max(Mu.height+Eh,0);if(1===Zo.rowSpan&&(co===nr||co===ho)){var ul=(ei=t.getRowDefinition($a)).wc();(Rr=Math.max(rm-ei.actual,0))+ul>ui&&(Rr=Math.max(ui-ul,0));var Gf=0===ei.ha;ei.bc=ei.bc+Rr,ei.actual=ei.ha+Rr,ui=Math.max(ui-(Rr+(Gf?ul:0)),0)}if(1===Zo.columnSpan&&(co===nr||co===Vs)){var My=(ei=t.getColumnDefinition(cs)).wc();(Rr=Math.max(_l-ei.actual,0))+My>Ci&&(Rr=Math.max(Ci-My,0));var Kw=0===ei.ha;ei.bc=ei.bc+Rr,ei.actual=ei.ha+Rr,Ci=Math.max(Ci-(Rr+(Kw?My:0)),0)}by&&Zo.Bk()}}}}}m(ie);var Yc=0,$c=0;c=t.columnCount;for(var om=0;om<c;om++){var zd=t.nb[om];void 0!==zd&&(Yc+=zd.bc,0!==zd.bc&&(Yc+=zd.wc()))}c=t.rowCount;for(var tu=0;tu<c;tu++){var Xc=t.qb[tu];void 0!==Xc&&($c+=Xc.bc,0!==Xc.bc&&($c+=Xc.wc()))}Ci=Math.max(e-Yc,0);var qi=ui=Math.max(o-$c,0),_s=Ci;c=fe.length;for(var pa=0;pa<c;pa++){var oh=fe[pa],Cy=t.getRowDefinition(oh.row),Kc=t.getColumnDefinition(oh.column),Hd=oh.measuredBounds,Cu=oh.margin,Zw=Cu.top+Cu.bottom;we[oh.column]=0===Kc.bc&&void 0!==we[oh.column]?Math.max(Hd.width+(Cu.right+Cu.left),we[oh.column]):null,ti[oh.row]=0===Cy.bc&&void 0!==ti[oh.row]?Math.max(Hd.height+Zw,ti[oh.row]):null}var Zc,Zp=0,na=0;for(Zc in ti)"count"!==Zc&&(Zp+=ti[Zc]);for(Zc in we)"count"!==Zc&&(na+=we[Zc]);for(var Ms=Ge.alloc(),nx=0;nx<c;nx++){var Xa=fe[nx];if(Xa.visible||Xa===oc){var Hl=t.getRowDefinition(Xa.row),Ml=t.getColumnDefinition(Xa.column),qc=0;isFinite(Ml.width)?qc=Ml.width:(qc=isFinite(Ci)&&null!==we[Xa.column]?0===na?Ml.actual+Ci:we[Xa.column]/na*_s:null!==we[Xa.column]?Ci:Ml.actual||Ci,qc=Math.max(0,qc-Ml.wc()));var Jc=0;switch(isFinite(Hl.height)?Jc=Hl.height:(Jc=isFinite(ui)&&null!==ti[Xa.row]?0===Zp?Hl.actual+ui:ti[Xa.row]/Zp*qi:null!==ti[Xa.row]?ui:Hl.actual||ui,Jc=Math.max(0,Jc-Hl.wc())),Ms.h(Math.max(Ml.minimum,Math.min(qc,Ml.maximum)),Math.max(Hl.minimum,Math.min(Jc,Hl.maximum))),co=Xu(Xa,Hl,Ml,!1)){case ho:Ms.height=Math.max(Ms.height,Hl.actual+ui);break;case Vs:Ms.width=Math.max(Ms.width,Ml.actual+Ci)}var Ag=Xa.margin,sh=Ag.right+Ag.left,Sy=Ag.top+Ag.bottom;Xa.Bk(),Xa.measure(Ms.width,Ms.height,Ml.minimum,Hl.minimum);var Tg=Xa.measuredBounds,Qc=Math.max(Tg.width+sh,0),Dy=Math.max(Tg.height+Sy,0);isFinite(Ci)&&(Qc=Math.min(Qc,Ms.width)),isFinite(ui)&&(Dy=Math.min(Dy,Ms.height));var qp=0;qp=Hl.actual,Hl.actual=Math.max(Hl.actual,Dy),Hl.bc=Math.max(Hl.bc,Dy),Rr=Hl.actual-qp,ui=Math.max(ui-Rr,0),null===ti[Xa.row]&&(qi=Math.max(qi-Rr,0)),qp=Ml.actual,Ml.actual=Math.max(Ml.actual,Qc),Ml.bc=Math.max(Ml.bc,Qc),Rr=Ml.actual-qp,Ci=Math.max(Ci-Rr,0),null===we[Xa.column]&&(_s=Math.max(_s-Rr,0))}}m(fe);var Ud=Ge.alloc(),tf=u(),sc=u();if(0!==(c=se.length))for(var Wf=0;Wf<un;Wf++)if(Pt[Wf]){$n=Pt[Wf].length;var Pg=t.getRowDefinition(Wf);tf[Wf]=Pg.actual;for(var ef=0;ef<$n;ef++)if(Pt[Wf][ef]){var qw=t.getColumnDefinition(ef);sc[ef]=qw.actual}}for(var Ka=0;Ka<c;Ka++){var fo=se[Ka];if(fo.visible||fo===oc){var Za=t.getRowDefinition(fo.row),ac=t.getColumnDefinition(fo.column);switch(Ms.h(Math.max(ac.minimum,Math.min(e,ac.maximum)),Math.max(Za.minimum,Math.min(o,Za.maximum))),co=Xu(fo,Za,ac,!1)){case no:0!==sc[ac.index]&&(Ms.width=Math.min(Ms.width,sc[ac.index])),0!==tf[Za.index]&&(Ms.height=Math.min(Ms.height,tf[Za.index]));break;case ho:0!==sc[ac.index]&&(Ms.width=Math.min(Ms.width,sc[ac.index]));break;case Vs:0!==tf[Za.index]&&(Ms.height=Math.min(Ms.height,tf[Za.index]))}isFinite(ac.width)&&(Ms.width=ac.width),isFinite(Za.height)&&(Ms.height=Za.height),Ud.h(0,0);for(var eu=ac.minimum,Gd=Za.minimum,kh=1;kh<fo.rowSpan&&!(fo.row+kh>=t.rowCount);kh++)ei=t.getRowDefinition(fo.row+kh),Rr=0,Rr=co===no||co===Vs?Math.max(ei.minimum,0===tf[fo.row+kh]?ei.maximum:Math.min(tf[fo.row+kh],ei.maximum)):Math.max(ei.minimum,isNaN(ei.ad)?ei.maximum:Math.min(ei.ad,ei.maximum)),Ud.height+=Rr,Gd+=ei.minimum;for(var Ah=1;Ah<fo.columnSpan&&!(fo.column+Ah>=t.columnCount);Ah++)ei=t.getColumnDefinition(fo.column+Ah),Rr=0,Rr=co===no||co===ho?Math.max(ei.minimum,0===sc[fo.column+Ah]?ei.maximum:Math.min(sc[fo.column+Ah],ei.maximum)):Math.max(ei.minimum,isNaN(ei.ad)?ei.maximum:Math.min(ei.ad,ei.maximum)),Ud.width+=Rr,eu+=ei.minimum;Ms.width+=Ud.width,Ms.height+=Ud.height;var Jp=fo.margin,Yf=Jp.right+Jp.left,Q2=Jp.top+Jp.bottom;fo.measure(Ms.width,Ms.height,eu,Gd);for(var qa=fo.measuredBounds,lc=Math.max(qa.width+Yf,0),hc=Math.max(qa.height+Q2,0),nf=0,Wd=0;Wd<fo.rowSpan&&!(fo.row+Wd>=t.rowCount);Wd++)nf+=(ei=t.getRowDefinition(fo.row+Wd)).total||0;if(nf<hc){var wn=hc-nf,$f=hc-nf;if(null!==fo.spanAllocation)for(var Jw=fo.spanAllocation,Yd=0;Yd<fo.rowSpan&&!(0>=wn)&&!(fo.row+Yd>=t.rowCount);Yd++){var sm=(ei=t.getRowDefinition(fo.row+Yd)).ha||0,j_=Jw(fo,ei,$f);ei.actual=Math.min(ei.maximum,sm+j_),ei.ha!==sm&&(wn-=ei.ha-sm)}for(;0<wn;){var ah=ei.ha||0;if(isNaN(ei.height)&&ei.maximum>ah&&(ei.actual=Math.min(ei.maximum,ah+wn),ei.ha!==ah&&(wn-=ei.ha-ah)),0===ei.index)break;ei=t.getRowDefinition(ei.index-1)}}for(var Xf=0,Ps=0;Ps<fo.columnSpan&&!(fo.column+Ps>=t.columnCount);Ps++)Xf+=(ei=t.getColumnDefinition(fo.column+Ps)).total||0;if(Xf<lc){var Ey=lc-Xf,tC=lc-Xf;if(null!==fo.spanAllocation)for(var jD=fo.spanAllocation,Qw=0;Qw<fo.columnSpan&&!(0>=Ey)&&!(fo.column+Qw>=t.columnCount);Qw++){var tb=(ei=t.getColumnDefinition(fo.column+Qw)).ha||0,eC=jD(fo,ei,tC);ei.actual=Math.min(ei.maximum,tb+eC),ei.ha!==tb&&(Ey-=ei.ha-tb)}for(;0<Ey;){var rx=ei.ha||0;if(isNaN(ei.width)&&ei.maximum>rx&&(ei.actual=Math.min(ei.maximum,rx+Ey),ei.ha!==rx&&(Ey-=ei.ha-rx)),0===ei.index)break;ei=t.getColumnDefinition(ei.index-1)}}}}m(se),Ge.free(Ud),Ge.free(Ms),void 0!==tf&&m(tf),void 0!==sc&&m(sc);var am=0,Ig=0,eb=t.desiredSize,iC=t.maxSize;co=Ol(t,!0);var Qp=$c=Yc=0,ox=0;c=t.columnCount;for(var ib=0;ib<c;ib++)void 0!==t.nb[ib]&&(ei=t.getColumnDefinition(ib),isFinite(ei.width)?(Qp+=ei.width,Qp+=ei.wc()):Wv(ei)===Kh?(Qp+=ei.ha,Qp+=ei.wc()):0!==ei.ha&&(Yc+=ei.ha,Yc+=ei.wc()));am=isFinite(eb.width)?Math.min(eb.width,iC.width):co!==nr&&isFinite(e)?e:Yc,am=Math.max(am,t.minSize.width),am=Math.max(am-Qp,0);for(var zD=0===Yc?1:Math.max(am/Yc,1),Rg=0;Rg<c;Rg++)void 0!==t.nb[Rg]&&(ei=t.getColumnDefinition(Rg),isFinite(ei.width)||Wv(ei)===Kh||(ei.actual=ei.ha*zD),ei.position=h.width,0!==ei.ha&&(h.width+=ei.ha,h.width+=ei.wc()));c=t.rowCount;for(var sx=0;sx<c;sx++)void 0!==t.qb[sx]&&(ei=t.getRowDefinition(sx),isFinite(ei.height)?(ox+=ei.height,ox+=ei.wc()):Wv(ei)===Kh?(ox+=ei.ha,ox+=ei.wc()):0!==ei.ha&&($c+=ei.ha,0!==ei.ha&&($c+=ei.wc())));Ig=isFinite(eb.height)?Math.min(eb.height,iC.height):co!==nr&&isFinite(o)?o:$c,Ig=Math.max(Ig,t.minSize.height),Ig=Math.max(Ig-ox,0);for(var nC=0===$c?1:Math.max(Ig/$c,1),ax=0;ax<c;ax++)void 0!==t.qb[ax]&&(ei=t.getRowDefinition(ax),isFinite(ei.height)||Wv(ei)===Kh||(ei.actual=ei.ha*nC),ei.position=h.height,0!==ei.ha&&(h.height+=ei.ha,0!==ei.ha&&(h.height+=ei.wc())));c=_.length;for(var z_=0;z_<c;z_++){var Ul=_[z_],Og=0,H_=0;Ul.type===qe.TableRow?(Og=h.width,H_=(ei=t.getRowDefinition(Ul.row)).actual):(Og=(ei=t.getColumnDefinition(Ul.column)).actual,H_=h.height),Ul.measuredBounds.h(0,0,Og,H_),ja(Ul,!1),Pt[Ul.row]||(Pt[Ul.row]=[]),Pt[Ul.row][Ul.column]||(Pt[Ul.row][Ul.column]=[]),Pt[Ul.row][Ul.column].push(Ul)}m(_),t.Lp=Pt},Zm.prototype.arrange=function(t,e,o){var a=e.length,h=t.padding,c=h.left;h=h.top;for(var _,k,g=t.Lp,P=g.length,F=0,j=0;j<P;j++)g[j]&&(F=Math.max(F,g[j].length));for(j=Math.min(t.topIndex,P-1);j!==P&&(void 0===t.qb[j]||0===t.qb[j].ha);)j++;for(j=Math.min(j,P-1),j=-t.qb[j].position,_=Math.min(t.leftIndex,F-1);_!==F&&(void 0===t.nb[_]||0===t.nb[_].ha);)_++;_=Math.min(_,F-1);for(var ut=-t.nb[_].position,xt=Ge.alloc(),pt=0;pt<P;pt++)if(g[pt]){F=g[pt].length;var Pt=t.getRowDefinition(pt);k=Pt.position+j+h,0!==Pt.ha&&(k+=Pt.Jv());for(var Xt=0;Xt<F;Xt++)if(g[pt][Xt]){var $t=t.getColumnDefinition(Xt);_=$t.position+ut+c,0!==$t.ha&&(_+=$t.Jv());for(var ie=g[pt][Xt],se=ie.length,fe=0;fe<se;fe++){var we=ie[fe],ti=we.measuredBounds,Ci=we instanceof qe?we:null;if(null===Ci||Ci.type!==qe.TableRow&&Ci.type!==qe.TableColumn){xt.h(0,0);for(var ui=1;ui<we.rowSpan&&!(pt+ui>=t.rowCount);ui++)Ci=t.getRowDefinition(pt+ui),xt.height+=Ci.total;for(ui=1;ui<we.columnSpan&&!(Xt+ui>=t.columnCount);ui++)Ci=t.getColumnDefinition(Xt+ui),xt.width+=Ci.total;var Bi=$t.ha+xt.width,mi=Pt.ha+xt.height;ui=_,Ci=k;var ei=Bi,kn=mi,un=_,$n=k,uo=Bi,ns=mi;_+Bi>o.width&&(uo=Math.max(o.width-_,0)),k+mi>o.height&&(ns=Math.max(o.height-k,0));var Wr=we.alignment;if(Wr.Mb()){(Wr=t.defaultAlignment).kb()||(Wr=Hi);var Rr=Wr.x,oc=Wr.y,$a=Wr.offsetX;Wr=Wr.offsetY;var Ia=$t.alignment,cs=Pt.alignment;Ia.kb()&&(Rr=Ia.x,$a=Ia.offsetX),cs.kb()&&(oc=cs.y,Wr=cs.offsetY)}else Rr=Wr.x,oc=Wr.y,$a=Wr.offsetX,Wr=Wr.offsetY;(isNaN(Rr)||isNaN(oc))&&(oc=Rr=.5,Wr=$a=0),Ia=ti.width,cs=ti.height;var _u=we.margin,wy=_u.left+_u.right,Dh=_u.top+_u.bottom,Er=Xu(we,Pt,$t,!1);!isNaN(we.desiredSize.width)||Er!==no&&Er!==ho||(Ia=Math.max(Bi-wy,0)),!isNaN(we.desiredSize.height)||Er!==no&&Er!==Vs||(cs=Math.max(mi-Dh,0)),Bi=we.maxSize,mi=we.minSize,Ia=Math.min(Bi.width,Ia),cs=Math.min(Bi.height,cs),Ia=Math.max(mi.width,Ia),cs=Math.max(mi.height,cs),ui+=ei*Rr-(Ia+wy)*Rr+$a+_u.left,Ci+=kn*oc-(Bi=cs+Dh)*oc+Wr+_u.top,we.visible&&(cn(un,$n,uo,ns,ui,Ci,ti.width,ti.height)?we.arrange(ui,Ci,Ia,cs):we.arrange(ui,Ci,Ia,cs,new te(un,$n,uo,ns)))}else we.Fl(),we.actualBounds.ea(),ui=te.allocAt((ei=we.actualBounds).x,ei.y,ei.width,ei.height),ei.x=Ci.type===qe.TableRow?c:_,ei.y=Ci.type===qe.TableColumn?h:k,ei.width=ti.width,ei.height=ti.height,we.actualBounds.freeze(),Wh(we,!1),di(ui,ei)||null!==(ti=we.part)&&(ti.Oh(),we.mp(ti)),te.free(ui)}}}for(Ge.free(xt),t=0;t<a;t++)null===(c=(o=e[t])instanceof qe?o:null)||c.type!==qe.TableRow&&c.type!==qe.TableColumn||(c=o.actualBounds,o.naturalBounds.ea(),o.naturalBounds.h(0,0,c.width,c.height),o.naturalBounds.freeze())},et(zv,es),zv.prototype.measure=function(){},zv.prototype.arrange=function(){},et(Hv,es),Hv.prototype.measure=function(){},Hv.prototype.arrange=function(){},et(Uv,es),Uv.prototype.measure=function(t,e,o,a,h,c,g){1<a.length&&z("Viewbox Panel cannot contain more than one GraphObject."),(a=a[0]).Aa=1,a.Bk(),a.measure(1/0,1/0,c,g);var _=a.measuredBounds,k=a.margin,P=k.right+k.left;if(k=k.top+k.bottom,isFinite(e)||isFinite(o)){var F=a.scale,j=_.width;_=_.height;var ut=Math.max(e-P,0),xt=Math.max(o-k,0),pt=1;t.viewboxStretch===Ys?0!==j&&0!==_&&(pt=Math.min(ut/j,xt/_)):0!==j&&0!==_&&(pt=Math.max(ut/j,xt/_)),0===pt&&(pt=1e-4),a.Aa*=pt,F!==a.scale&&(ja(a,!0),a.measure(1/0,1/0,c,g))}_=a.measuredBounds,h.width=isFinite(e)?e:Math.max(_.width+P,0),h.height=isFinite(o)?o:Math.max(_.height+k,0)},Uv.prototype.arrange=function(t,e,o){var a=(e=e[0]).measuredBounds,h=e.margin,c=Math.max(a.width+(h.right+h.left),0);h=Math.max(a.height+(h.top+h.bottom),0);var g=e.alignment;g.Mb()&&(g=t.defaultAlignment),g.kb()||(g=Hi),e.arrange(o.width*g.x-c*g.x+g.offsetX,o.height*g.y-h*g.y+g.offsetY,a.width,a.height)},et(qm,es),qm.prototype.measure=function(){},qm.prototype.arrange=function(){},qm.prototype.mc=function(t,e,o){0>=(o=t.Af()*o.scale)&&(o=1);var a=t.gridCellSize,h=a.width;a=a.height;var c=t.naturalBounds,g=t.actualBounds,_=c.width,k=c.height,P=Math.ceil(_/h),F=Math.ceil(k/a),j=t.gridOrigin,ut=j.x;j=j.y,e.save(),e.beginPath(),e.rect(0,0,_,k),e.clip();for(var xt=[],pt=t.W.j,Pt=pt.length,Xt=0;Xt<Pt;Xt++){var $t=pt[Xt],ie=[];if(xt.push(ie),$t.visible){var se=$t.interval;if(!(0>se)){$t=Nf($t.figure);for(var fe=0;fe<Pt;fe++)if(fe!==Xt){var we=pt[fe];we.visible&&Nf(we.figure)===$t&&(we=we.interval)>se&&ie.push(we)}}}}for(Pt=(pt=t.W.j).length,Xt=0;Xt<Pt;Xt++){var ti=pt[Xt];if(ti.visible&&(ie=ti.interval||1,!(2>h*($t=Math.abs(ie))*o))){if(se=ti.segmentIndex,(!isFinite(se)||isNaN(se))&&(se=0),0>se&&(se=$t-Math.min(-se,$t)),se=Math.round(se%$t),fe=1,1!==($t=ti.opacity)){if(0===$t)continue;e.globalAlpha=(fe=e.globalAlpha)*$t}we=xt[Xt];var Ci=!1,ui=ti.strokeDashArray;if(null!==ui&&(Ci=!0,e.Ft(ui,ti.strokeDashOffset)),"LineV"===ti.figure&&null!==ti.stroke&&0<ti.strokeWidth){for(e.lineWidth=ti.strokeWidth,_a(t,e,ti.stroke,!1,!1,c,g),e.beginPath(),ui=ti=Math.floor((ut-h)/h);ui<=ti+P;ui++){var Bi=ui*h+ut;0<=Bi&&Bi<=_&&d1(ui,ie,se,we)&&(e.moveTo(Bi,0),e.lineTo(Bi,k))}e.stroke()}else if("LineH"===ti.figure&&null!==ti.stroke&&0<ti.strokeWidth){for(e.lineWidth=ti.strokeWidth,_a(t,e,ti.stroke,!1,!1,c,g),e.beginPath(),ui=ti=Math.floor((j-a)/a);ui<=ti+F;ui++)0<=(Bi=ui*a+j)&&Bi<=k&&d1(ui,ie,se,we)&&(e.moveTo(0,Bi),e.lineTo(_,Bi));e.stroke()}else if("BarV"===ti.figure&&null!==ti.fill)for(_a(t,e,ti.fill,!0,!1,c,g),ti=ti.width,isNaN(ti)&&(ti=h),Bi=ui=Math.floor((ut-h)/h);Bi<=ui+P;Bi++){var mi=Bi*h+ut;0<=mi+ti&&mi<=_&&d1(Bi,ie,se,we)&&e.fillRect(mi,0,ti,k)}else if("BarH"===ti.figure&&null!==ti.fill)for(_a(t,e,ti.fill,!0,!1,c,g),ti=ti.height,isNaN(ti)&&(ti=a),Bi=ui=Math.floor((j-a)/a);Bi<=ui+F;Bi++)0<=(mi=Bi*a+j)+ti&&mi<=k&&d1(Bi,ie,se,we)&&e.fillRect(0,mi,_,ti);Ci&&e.Dt(),1!==$t&&(e.globalAlpha=fe)}}e.restore(),e.uc(!1)},et(Jm,es),Jm.prototype.measure=function(t,e,o,a,h){if(o=a.length,t instanceof li||t instanceof We){var c=null,g=null,_=null;if(t instanceof We&&(g=c=t),t instanceof li&&(c=(_=t).adornedPart),c instanceof We){var k=c;if(0===o)Re(t.naturalBounds,0,0),t.measuredBounds.h(0,0,0,0);else{var P=t instanceof li?null:c.path,F=c.routeBounds;(e=t.xg).h(0,0,F.width,F.height);var j=k.points;c=c.pointsCount,null!==_?_.Gk(!1):null!==g&&g.Gk(!1);var ut=F.width,xt=F.height;t.location.h(F.x,F.y),t.l.length=0,null!==P&&(z0(t,ut,xt,P),e.Rc(_=P.measuredBounds),t.l.push(_)),_=vn.alloc();for(var pt=rt.alloc(),Pt=rt.alloc(),Xt=0;Xt<o;Xt++){var $t=a[Xt];if($t!==P)if($t.isPanelMain&&$t instanceof Qi){z0(t,ut,xt,$t);var ie=$t.measuredBounds;e.Rc(ie),t.l.push(ie)}else if(2>c)$t.measure(1/0,1/0,0,0),e.Rc(ie=$t.measuredBounds),t.l.push(ie);else{var se=$t.segmentIndex,fe=$t.segmentFraction,we=$t.alignmentFocus;we.nc()&&(we=Hi);var ti=$t.segmentOrientation,Ci=$t.segmentOffset;if(isNaN(se)){var ui=k.na;ie=u(),ui.Yv(fe,ie);var Bi=rt.allocAt(ie[0],ie[1]);if(Bi.add(k.i(0)),ui.type===Lo||(ui=ui.figures.first()),Bi.offset(-ui.startX,-ui.startY),ui=ie[2],ti!==Ts){var mi=k.computeAngle($t,ti,ui);$t.Yb=mi}mi=Bi.x-F.x;var ei=Bi.y-F.y;rt.free(Bi),m(ie)}else if(se<-c||se>=c)ei=k.midPoint,ui=k.midAngle,ti!==Ts&&(mi=k.computeAngle($t,ti,ui),$t.Yb=mi),mi=ei.x-F.x,ei=ei.y-F.y;else{if(mi=0,0<=se?(ei=j.J(se),ie=se<c-1?j.J(se+1):ei):(ei=j.J(mi=c+se),ie=0<mi?j.J(mi-1):ei),ei.Qa(ie)){0<=se?(ui=0<se?j.J(se-1):ei,mi=se<c-2?j.J(se+2):ie):(ui=mi<c-1?j.J(mi+1):ei,mi=1<mi?j.J(mi-2):ie),Bi=ui.Ie(ei);var kn=ie.Ie(mi);ui=Bi>kn+10?0<=se?ui.Pa(ei):ei.Pa(ui):kn>Bi+10?0<=se?ie.Pa(mi):mi.Pa(ie):0<=se?ui.Pa(mi):mi.Pa(ui)}else ui=0<=se?ei.Pa(ie):ie.Pa(ei);ti!==Ts&&(mi=k.computeAngle($t,ti,ui),$t.Yb=mi),mi=ei.x+(ie.x-ei.x)*fe-F.x,ei=ei.y+(ie.y-ei.y)*fe-F.y}$t.measure(1/0,1/0,0,0),ie=$t.measuredBounds;var un=0;$t instanceof Qi&&(un=$t.strokeWidth),kn=(Bi=$t.naturalBounds).width+un;var $n=Bi.height+un;_.reset(),_.translate(-ie.x,-ie.y),_.scale($t.scale,$t.scale),_.rotate(ti===Ts?$t.angle:ui,kn/2,$n/2),ti!==Id&&ti!==Lp||_.rotate(90,kn/2,$n/2),ti!==Np&&ti!==ag||_.rotate(-90,kn/2,$n/2),ti===Vl&&(45<ui&&135>ui||225<ui&&315>ui)&&_.rotate(-ui,kn/2,$n/2),Bi=new te(0,0,kn,$n),pt.tj(Bi,we),_.ta(pt),we=un/2*$t.scale-pt.x,$t=un/2*$t.scale-pt.y,Pt.assign(Ci),un=isNaN(Ci.x);var uo=isNaN(Ci.y);if(un||uo){kn=kn/2+3,$n=$n/2+3;var ns=45<=ui&&135>=ui,Wr=225<=ui&&315>=ui;ti===Ts&&(ns||Wr)?(Pt.x=uo?kn:Ci.y,Pt.y=un?$n:Ci.x,ns?0<=se||isNaN(se)&&.5>fe||!un||(Pt.y=-$n):Wr&&((0<=se||isNaN(se)&&.5>fe)&&un&&(Pt.y=-$n),uo&&(Pt.x=-kn))):(un&&(Pt.x=0<=se||isNaN(se)&&.5>fe?kn:-kn),uo&&(Pt.y=-$n),Pt.rotate(ui))}else Pt.rotate(ui);mi+=Pt.x,ei+=Pt.y,Bi.set(ie),Bi.h(mi+we,ei+$t,ie.width,ie.height),t.l.push(Bi),e.Rc(Bi)}}if(null!==g)for(a=g.labelNodes;a.next();)a.value.measure(1/0,1/0);t.xg=e,(t=t.location).h(t.x+e.x,t.y+e.y),Re(h,e.width||0,e.height||0),vn.free(_),rt.free(pt),rt.free(Pt)}}}},Jm.prototype.arrange=function(t,e){var o=e.length;if(t instanceof li||t instanceof We){var a=null,h=null,c=null;t instanceof We&&(h=a=t),t instanceof li&&(a=(c=t).adornedPart);var g=t instanceof li?null:a.path;if(0!==t.l.length){var _=t.l,k=0;if(null!==g&&k<t.l.length){var P=_[k];k++,g.arrange(P.x-t.xg.x,P.y-t.xg.y,P.width,P.height)}for(P=0;P<o;P++){var F=e[P];if(F!==g&&k<t.l.length){var j=_[k];k++,F.arrange(j.x-t.xg.x,j.y-t.xg.y,j.width,j.height)}}}if(2<=(o=(e=a.points).count)&&t instanceof We)for(a=t.labelNodes;a.next();){var ut=t;_=(g=a.value).segmentIndex,k=g.segmentFraction;var xt=g.alignmentFocus;if(P=g.segmentOrientation,F=g.segmentOffset,isNaN(_)){j=ut.na;var pt=u();j.Yv(k,pt);var Pt=rt.allocAt(pt[0],pt[1]);Pt.add(ut.i(0)),j.type===Lo||(j=j.figures.first()),Pt.offset(-j.startX,-j.startY),j=pt[2],P!==Ts&&(ut=ut.computeAngle(g,P,j),g.angle=ut),ut=Pt.x;var Xt=Pt.y;rt.free(Pt),m(pt)}else if(_<-o||_>=o)Xt=ut.midPoint,j=ut.midAngle,P!==Ts&&(ut=ut.computeAngle(g,P,j),g.angle=ut),ut=Xt.x,Xt=Xt.y;else{if(Pt=0,0<=_?(pt=e.j[_],Xt=_<o-1?e.j[_+1]:pt):(pt=e.j[Pt=o+_],Xt=0<Pt?e.j[Pt-1]:pt),pt.Qa(Xt)){0<=_?(j=0<_?e.j[_-1]:pt,Pt=_<o-2?e.j[_+2]:Xt):(j=Pt<o-1?e.j[Pt+1]:pt,Pt=1<Pt?e.j[Pt-2]:Xt);var $t=j.Ie(pt),ie=Xt.Ie(Pt);j=$t>ie+10?0<=_?j.Pa(pt):pt.Pa(j):ie>$t+10?0<=_?Xt.Pa(Pt):Pt.Pa(Xt):0<=_?j.Pa(Pt):Pt.Pa(j)}else j=0<=_?pt.Pa(Xt):Xt.Pa(pt);P!==Ts&&(ut=ut.computeAngle(g,P,j),g.angle=ut),ut=pt.x+(Xt.x-pt.x)*k,Xt=pt.y+(Xt.y-pt.y)*k}if(xt.Vt())g.location=new rt(ut,Xt);else{xt.nc()&&(xt=Hi),(pt=vn.alloc()).reset(),pt.scale(g.scale,g.scale),pt.rotate(g.angle,0,0);var se=g.naturalBounds;Pt=te.allocAt(0,0,se.width,se.height),($t=rt.alloc()).tj(Pt,xt),pt.ta($t),xt=-$t.x,ie=-$t.y;var fe=se.width,we=se.height;(se=rt.alloc()).assign(F);var ti=isNaN(F.x),Ci=isNaN(F.y);if(ti||Ci){fe=fe/2+3,we=we/2+3;var ui=45<=j&&135>=j,Bi=225<=j&&315>=j;P===Ts&&(ui||Bi)?(se.x=Ci?fe:F.y,se.y=ti?we:F.x,ui?0<=_||isNaN(_)&&.5>k||!ti||(se.y=-we):Bi&&((0<=_||isNaN(_)&&.5>k)&&ti&&(se.y=-we),Ci&&(se.x=-fe))):(ti&&(se.x=0<=_||isNaN(_)&&.5>k?fe:-fe),Ci&&(se.y=-we),se.rotate(j))}else se.rotate(j);ut+=se.x,Xt+=se.y,pt.Pw(Pt),_=rt.allocAt(ut+(xt+=Pt.x),Xt+(ie+=Pt.y)),g.move(_),rt.free(_),rt.free(se),rt.free($t),te.free(Pt),vn.free(pt)}}null!==c?c.Gk(!1):null!==h&&h.Gk(!1)}},et(H0,es),H0.prototype.measure=function(t,e,o,a,h,c,g){var _=t.tb();t.dh=[];var k=_.margin,P=k.right+k.left,F=k.top+k.bottom;_.measure(e,o,c,g);var j=_.measuredBounds,ut=new te(-k.left,-k.top,Math.max(j.width+P,0),Math.max(j.height+F,0));t.dh.push(ut),h.assign(ut);for(var xt=_.geometry,pt=_.strokeWidth,Pt=xt.flattenedSegments,Xt=xt.flattenedLengths,$t=xt.flattenedTotalLength,ie=Pt.length,se=0,fe=0,we=u(),ti=0;ti<ie;ti++){var Ci=Pt[ti],ui=[];fe=se=0;for(var Bi=Ci.length,mi=0;mi<Bi;mi+=2){var ei=Ci[mi],kn=Ci[mi+1];if(0!==mi){var un=180*Math.atan2(kn-fe,ei-se)/Math.PI;0>un&&(un+=360),ui.push(un)}se=ei,fe=kn}we.push(ui)}if(null===t.eh){for(var $n=[],uo=t.W.j,ns=uo.length,Wr=0;Wr<ns;Wr++){var Rr=uo[Wr],oc=[];if($n.push(oc),Rr.visible){var $a=Rr.interval;if(!(0>$a))for(var Ia=0;Ia<ns;Ia++)if(Ia!==Wr){var cs=uo[Ia];if(cs.visible&&Rr.constructor===cs.constructor){var _u=cs.interval;_u>$a&&oc.push(_u)}}}}t.eh=$n}var wy=t.eh,Dh=t.W.j,Er=Dh.length,Zo=0,by=0,Eg=$t;t.Mj=[];for(var Qh,Eh=0;Eh<Er;Eh++){var co=Dh[Eh];if(Qh=[],co.visible&&co!==_){var _y=Math.abs(co.interval),ex=t.graduatedTickUnit;if(!(2>ex*_y*$t/t.graduatedRange)){var kg=Xt[0][0],Mu=0,_l=0;by=$t*co.graduatedStart-1e-4,Eg=$t*co.graduatedEnd+1e-4;var rm=ex*_y,ul=t.graduatedTickBase;if(ul<t.graduatedMin){var Gf=(t.graduatedMin-ul)/rm;ul+=(Gf=Gf%1==0?Gf:Math.floor(Gf+1))*rm}else ul>t.graduatedMin+rm&&(ul-=Math.floor((ul-t.graduatedMin)/rm)*rm);for(var My=wy[Eh],Kw=ul,Yc=1;ul<t.graduatedMax+5e-8;Yc++){t:{for(var $c=My.length,om=0;om<$c;om++)if(pe.aa((ul-t.graduatedTickBase)%(My[om]*t.graduatedTickUnit),0)){var zd=!1;break t}zd=!0}if(zd&&(null===co.graduatedSkip||!co.graduatedSkip(ul))&&((Zo=(ul-t.graduatedMin)*$t/t.graduatedRange)>$t&&(Zo=$t),by<=Zo&&Zo<=Eg)){for(var tu=we[Mu][_l],Xc=Xt[Mu][_l];Mu<Xt.length;){for(;Zo>kg&&_l<Xt[Mu].length-1;)_l++,tu=we[Mu][_l],kg+=Xc=Xt[Mu][_l];if(Zo<=kg)break;tu=we[++Mu][_l=0],kg+=Xc=Xt[Mu][_l]}var qi=Pt[Mu],_s=qi[2*_l],pa=qi[2*_l+1],oh=(Zo-(kg-Xc))/Xc,Cy=new rt(_s+(qi[2*_l+2]-_s)*oh+pt/2-xt.bounds.x,pa+(qi[2*_l+3]-pa)*oh+pt/2-xt.bounds.y);Cy.scale(_.scale,_.scale);var Kc=tu,Hd=we[Mu];if(1e-4>oh?0<_l?Kc=Hd[_l-1]:pe.aa(qi[0],qi[qi.length-2])&&pe.aa(qi[1],qi[qi.length-1])&&(Kc=Hd[Hd.length-1]):.9999<oh&&(_l+1<Hd.length?Kc=Hd[_l+1]:pe.aa(qi[0],qi[qi.length-2])&&pe.aa(qi[1],qi[qi.length-1])&&(Kc=Hd[0])),tu!==Kc&&(180<Math.abs(tu-Kc)&&(tu<Kc?tu+=360:Kc+=360),tu=(tu+Kc)/2%360),co instanceof Qn){var Cu="";""!==(Cu=null!==co.graduatedFunction?null!=(Cu=co.graduatedFunction(ul))?Cu.toString():"":(+ul.toFixed(2)).toString())&&Qh.push({Km:Cy,angle:tu,text:Cu})}else Qh.push({Km:Cy,angle:tu})}ul=Kw+Yc*rm}}}t.Mj.push(Qh)}m(we);var ix=t.Mj;if(null!==ix)for(var Zw=a.length,Zp=0;Zp<Zw;Zp++){var na=a[Zp],Zc=ix[Zp];if(na.visible&&na!==_&&0!==Zc.length){if(na instanceof Qi){var Ms=t,nx=h,Xa=na.alignmentFocus;Xa.nc()&&(Xa=En);var Hl=na.angle;na.Yb=0,na.measure(1/0,1/0,0,0),na.Yb=Hl;var Ml=na.measuredBounds,qc=Ml.width,Jc=Ml.height,Ag=te.allocAt(0,0,qc,Jc),sh=rt.alloc();sh.tj(Ag,Xa),te.free(Ag);for(var Sy=-sh.x,Tg=-sh.y,Qc=new te,Dy=Zc.length,qp=0;qp<Dy;qp++)for(var Ud=Zc[qp],tf=Ud.Km.x,sc=Ud.Km.y,Wf=Ud.angle,Pg=0;4>Pg;Pg++){switch(Pg){case 0:sh.h(Sy,Tg);break;case 1:sh.h(Sy+qc,Tg);break;case 2:sh.h(Sy,Tg+Jc);break;case 3:sh.h(Sy+qc,Tg+Jc)}sh.rotate(Wf+na.angle),sh.offset(tf,sc),0===qp&&0===Pg?Qc.h(sh.x,sh.y,0,0):Qc.Oe(sh),sh.offset(-tf,-sc),sh.rotate(-Wf-na.angle)}rt.free(sh),null!==Ms.dh&&Ms.dh.push(Qc),an(nx,Qc.x,Qc.y,Qc.width,Qc.height)}else if(na instanceof Qn){var ef=t,qw=h;null===ef.zh&&(ef.zh=new Qn);var Ka=ef.zh;M1(Ka,na);var fo=na.alignmentFocus;fo.nc()&&(fo=En);for(var Za=na.segmentOrientation,ac=na.segmentOffset,eu=new te,Gd=0,kh=0,Ah=0,Jp=0,Yf=0,Q2=Zc.length,qa=0;qa<Q2;qa++){var lc=Zc[qa];Gd=lc.Km.x,kh=lc.Km.y,Ah=lc.angle,Yf=Jp=na.angle,Za!==Ts&&(Jp=We.computeAngle(Za,Yf=Za===$0||Za===X0?Ah+na.angle:Ah)),Ka.Yb=Jp,Ka.text=lc.text||"",Ka.measure(1/0,1/0,0,0);var hc=Ka.measuredBounds,nf=Ka.naturalBounds,Wd=nf.width,wn=nf.height,$f=vn.alloc();$f.reset(),$f.translate(-hc.x,-hc.y),$f.scale(Ka.scale,Ka.scale),$f.rotate(Yf,Wd/2,wn/2),Za!==Id&&Za!==Lp||$f.rotate(90,Wd/2,wn/2),Za!==Np&&Za!==ag||$f.rotate(-90,Wd/2,wn/2),Za===Vl&&(45<Ah&&135>Ah||225<Ah&&315>Ah)&&$f.rotate(-Ah,Wd/2,wn/2);var Jw=te.allocAt(0,0,Wd,wn),Yd=rt.alloc();Yd.tj(Jw,fo),$f.ta(Yd);var sm=-Yd.x,j_=-Yd.y,ah=rt.alloc();ah.assign(ac),isNaN(ah.x)&&(ah.x=Wd/2+3),isNaN(ah.y)&&(ah.y=-(wn/2+3)),ah.rotate(Ah);var Xf=new te(Gd+=ah.x+sm,kh+=ah.y+j_,hc.width,hc.height),Ps=new te(hc.x,hc.y,hc.width,hc.height),Ey=new te(nf.x,nf.y,nf.width,nf.height);lc.DA=Jp,lc.lineCount=Ka.lineCount,lc.lines=[Ka.vb,Ka.Ei,Ka.oe,Ka.Be,Ka.Qb,Ka.lb,Ka.me],lc.actualBounds=Xf,lc.measuredBounds=Ps,lc.naturalBounds=Ey,0===qa?eu.assign(Xf):eu.Rc(Xf),rt.free(ah),rt.free(Yd),te.free(Jw),vn.free($f)}null!==ef.dh&&ef.dh.push(eu),an(qw,eu.x,eu.y,eu.width,eu.height)}ja(na,!1)}}},H0.prototype.arrange=function(t,e,o){if(null!==t.dh){var a=t.tb(),h=t.Mj;if(null!==h){var c=t.dh,g=0,_=c[g];g++,null!==a&&a.arrange(_.x-o.x,_.y-o.y,_.width,_.height);for(var k=e.length,P=0;P<k;P++){var F=e[P];_=h[P],F.visible&&F!==a&&0!==_.length&&(_=c[g],g++,F.arrange(_.x-o.x,_.y-o.y,_.width,_.height))}t.dh=null}}},H0.prototype.mc=function(t,e,o){var a=o.yi;o.yi=!0;var h=t.naturalBounds,c=h.width;h=h.height,e.save(),e.beginPath(),e.rect(-1,-1,c+1,h+1),e.clip(),(c=t.tb()).mc(e,o),0>=(h=t.Af()*o.scale)&&(h=1);for(var g=c.actualBounds,_=t.W.j,k=t.Mj,P=_.length,F=0;F<P;F++){var j=_[F],ut=k[F],xt=ut.length;if(j.visible&&j!==c&&0!==ut.length)if(j instanceof Qi){if(!(2>t.graduatedTickUnit*j.interval*c.geometry.flattenedTotalLength/t.graduatedRange*h)){var pt=j.measuredBounds,Pt=j.strokeWidth*j.scale,Xt=j.alignmentFocus;Xt.nc()&&(Xt=En);for(var $t=0;$t<xt;$t++){var ie=ut[$t].Km,se=ut[$t].angle,fe=Xt,we=j.sb;we.reset(),we.translate(ie.x+g.x,ie.y+g.y),we.rotate(se+j.angle,0,0),we.translate(-pt.width*fe.x+fe.offsetX+Pt/2,-pt.height*fe.y+fe.offsetY+Pt/2),we.scale(j.scale,j.scale),B0(j,!1),j.Zh.set(j.sb),j.ql=j.scale,Tc(j,!1),j.mc(e,o),j.sb.reset()}}}else if(j instanceof Qn)for(null===t.zh&&(t.zh=new Qn),M1(pt=t.zh,j),j=0;j<xt;j++)(Pt=ut[j]).actualBounds&&Pt.measuredBounds&&Pt.naturalBounds&&(pt.Ub=Pt.text||"",pt.Yb=Pt.DA||0,pt.Zc=Pt.lineCount||0,void 0!==(Xt=Pt.lines)&&(pt.vb=Xt[0],pt.Ei=Xt[1],pt.oe=Xt[2],pt.Be=Xt[3],pt.Qb=Xt[4],pt.lb=Xt[5],pt.me=Xt[6]),Pt.naturalBounds&&(pt.rc=Pt.naturalBounds),Pt.actualBounds&&pt.arrange((Xt=Pt.actualBounds).x,Xt.y,Xt.width,Xt.height),pt.arrange((Xt=Pt.actualBounds).x,Xt.y,Xt.width,Xt.height),$t=Pt.measuredBounds,Pt=Pt.naturalBounds,(ie=pt.sb).reset(),ie.translate(Xt.x+g.x,Xt.y+g.y),ie.translate(-$t.x,-$t.y),Nv(pt,ie,Pt.x,Pt.y,Pt.width,Pt.height),B0(pt,!1),pt.Zh.set(pt.sb),pt.ql=pt.scale,Tc(pt,!1),pt.mc(e,o))}o.yi=a,e.restore(),e.uc(!0)},et(qe,Oi),qe.prototype.cloneProtected=function(t){if(Oi.prototype.cloneProtected.call(this,t),t.qa=this.qa,t.ib=this.ib.H(),t.Mn=this.Mn.H(),t.Sf=this.Sf,t.qa===qe.Table){t.Fj=this.Fj.H(),t.Ug=this.Ug,t.si=this.si,t.ri=this.ri,t.Tg=this.Tg,t.Sg=this.Sg,t.pi=this.pi;var e=[];if(0<this.qb.length)for(var o=this.qb,a=o.length,h=0;h<a;h++)if(void 0!==o[h]){var c=o[h].copy();c.sj(t),e[h]=c}if(t.qb=e,e=[],0<this.nb.length)for(a=(o=this.nb).length,h=0;h<a;h++)void 0!==o[h]&&((c=o[h].copy()).sj(t),e[h]=c);t.nb=e,t.dk=this.dk,t.Cj=this.Cj,t.Xi=this.Xi,t.Gi=this.Gi}t.pq=this.pq,t.no=this.no.H(),t.oo=this.oo.H(),t.ko=this.ko,t.jo=this.jo,t.mo=this.mo,t.lo=this.lo,t.Mj=this.Mj,t.eh=this.eh,t.ob=this.ob,t.li=this.li,t.Do=this.Do,t.Ci=this.Ci,t.te=this.te,t.Jl=this.Jl,t.xg.assign(this.xg),t.Lg=this.Lg,null!==this.Lp&&(t.Lp=this.Lp)},qe.prototype.yf=function(t){Oi.prototype.yf.call(this,t),t.W=this.W;for(var e=t.W.j,o=e.length,a=0;a<o;a++)e[a].og=t;t.Ui=null},qe.prototype.copy=function(){var t=Oi.prototype.copy.call(this);if(null!==t){for(var e=this.W.j,o=e.length,a=0;a<o;a++){var h=e[a].copy();h.sj(t),h.ak=null;var c=t.W,g=c.count;if(c.wb(g,h),null!==(c=t.part)){c.Xj=null,null!==h.portId&&c instanceof Fe&&(c.Nh=!0);var _=t.diagram;null!==_&&_.undoManager.isUndoingRedoing||c.Va(zo,"elements",t,null,h,null,g)}}return t}return null},(st=qe.prototype).toString=function(){return"Panel("+this.type.name+")#"+be(this)},st.mp=function(t){Oi.prototype.mp.call(this,t);for(var e=this.W.j,o=e.length,a=0;a<o;a++)e[a].mp(t)},st.ej=function(t,e){if(this.qa===qe.Grid)this.qa.mc(this,t,e);else if(this.qa===qe.Graduated)this.qa.mc(this,t,e);else{this.qa===qe.Table&&(t.lineCap="butt",Qm(this,t,!0,this.qb,!0),Qm(this,t,!1,this.nb,!0),p1(this,t,!0,this.qb),p1(this,t,!1,this.nb),Qm(this,t,!0,this.qb,!1),Qm(this,t,!1,this.nb,!1));var o=this.isClipping&&this.qa===qe.Spot;o&&t.save();for(var a=this.tb(),h=this.W.j,c=h.length,g=0;g<c;g++){var _=h[g];o&&_===a&&(t.clipInsteadOfFill=!0),_.mc(t,e),o&&_===a&&(t.clipInsteadOfFill=!1)}o&&(t.restore(),t.uc(!0))}},st.zk=function(t,e,o,a,h){var c=this.he(),g=this.transform,_=1/(g.m11*g.m22-g.m12*g.m21),k=g.m22*_,P=-g.m12*_,F=-g.m21*_,j=g.m11*_,ut=_*(g.m21*g.dy-g.m22*g.dx),xt=_*(g.m12*g.dx-g.m11*g.dy);if(null!==this.areaBackground)return pe.Cf((g=this.actualBounds).left,g.top,g.right,g.bottom,t,e,o,a,h);if(null!==this.background)return c=t*k+e*F+ut,_=t*P+e*j+xt,t=o*k+a*F+ut,k=o*P+a*j+xt,h.h(0,0),c=pe.Cf(0,0,(o=this.naturalBounds).width,o.height,c,_,t,k,h),h.transform(g),c;c||(k=1,F=P=0,j=1,xt=ut=0),_=t*k+e*F+ut,t=t*P+e*j+xt,h.h(k=o*k+a*F+ut,o=o*P+a*j+xt),a=(k-_)*(k-_)+(o-t)*(o-t),P=!1,xt=(j=this.W.j).length,F=rt.alloc(),ut=null,e=1/0;var pt=null,Pt=this.isClipping&&this.qa===qe.Spot;Pt&&(pt=rt.alloc(),(P=(ut=this.tb()).zk(_,t,k,o,pt))&&(e=(_-pt.x)*(_-pt.x)+(t-pt.y)*(t-pt.y)));for(var Xt=0;Xt<xt;Xt++){var $t=j[Xt];$t.visible&&$t!==ut&&$t.zk(_,t,k,o,F)&&(P=!0,($t=(_-F.x)*(_-F.x)+(t-F.y)*(t-F.y))<a&&(a=$t,h.set(F)))}return Pt&&(e>a&&h.set(pt),rt.free(pt)),rt.free(F),c&&h.transform(g),P},st.s=function(t){if(!Pc(this)){Oi.prototype.s.call(this,t),t=null,(this.qa===qe.Auto||this.qa===qe.Link)&&(t=this.tb());for(var e=this.W.j,o=e.length,a=0;a<o;a++){var h=e[a];if((h===t||h.isPanelMain)&&h.s(!0),!h.desiredSize.o()){var c=Ol(h,!1);(h instanceof Li||h instanceof qe||h instanceof Qn||c!==nr)&&h.s(!0)}}}},st.Bk=function(){if(!Pc(this)){ja(this,!0),Wh(this,!0);for(var t=this.W.j,e=t.length,o=0;o<e;o++)t[o].Bk()}},st.Fl=function(){if(0==(2048&this.F)){B0(this,!0),Tc(this,!0);for(var t=this.W.j,e=t.length,o=0;o<e;o++)t[o].dw()}},st.dw=function(){Tc(this,!0);for(var t=this.W.j,e=t.length,o=0;o<e;o++)t[o].dw()},st.Hm=function(t,e,o,a){var h=this.xg;h.h(0,0,0,0);var c=this.desiredSize,g=this.minSize;void 0===o&&(o=g.width,a=g.height),o=Math.max(o,g.width),a=Math.max(a,g.height);var _=this.maxSize;isNaN(c.width)||(t=Math.min(c.width,_.width)),isNaN(c.height)||(e=Math.min(c.height,_.height)),t=Math.max(o,t),e=Math.max(a,e);var k=this.ib;t=Math.max(t-k.left-k.right,0),e=Math.max(e-k.top-k.bottom,0);var P=this.W.j;0!==P.length&&this.qa.measure(this,t,e,P,h,o,a),t=h.width+k.left+k.right,k=h.height+k.top+k.bottom,isFinite(c.width)&&(t=c.width),isFinite(c.height)&&(k=c.height),t=Math.min(_.width,t),k=Math.min(_.height,k),t=Math.max(g.width,t),k=Math.max(g.height,k),Re(h,t=Math.max(o,t),k=Math.max(a,k)),Re(this.naturalBounds,t,k),th(this,0,0,t,k)},st.tb=function(){if(null===this.Ui){var t=this.W.j,e=t.length;if(0===e)return null;for(var o=0;o<e;o++){var a=t[o];if(!0===a.isPanelMain)return this.Ui=a}this.Ui=t[0]}return this.Ui},st.Ih=function(t,e,o,a){var h=this.W.j;if(this.actualBounds.h(t,e,o,a),0!==h.length){if(!this.desiredSize.o()){t=Ol(this,!0);var c=this.measuredBounds;e=c.width,c=c.height;var g=this.jh,_=g.left+g.right;switch(g=g.top+g.bottom,e===o&&c===a&&(t=nr),t){case nr:(e>o||c>a)&&(this.s(),this.measure(e>o?o:e,c>a?a:c,0,0));break;case no:this.s(!0),this.measure(o+_,a+g,0,0);break;case ho:this.s(!0),this.measure(o+_,c+g,0,0);break;case Vs:this.s(!0),this.measure(e+_,a+g,0,0)}}this.qa.arrange(this,h,this.xg)}},st.Kh=function(t){var e=this.naturalBounds,o=Nc(this);if(cn(0,0,e.width,e.height,t.x,t.y)){for(var a=(e=this.W.j).length,h=rt.allocAt(0,0);a--;){var c=e[a];if((c.visible||c===o)&&(ve(h.set(t),c.transform),c.$(h)))return rt.free(h),!0}return rt.free(h),!(null===this.mb&&null===this.ec)}return!1},st.Gt=function(t){if(this.dl===t)return this;for(var e=this.W.j,o=e.length,a=0;a<o;a++){var h=e[a].Gt(t);if(null!==h)return h}return null},st.an=function(t,e){if(e(this,t),t instanceof qe)for(var o=(t=t.W.j).length,a=0;a<o;a++)this.an(t[a],e)},st.ym=function(t){return Dp(this,this,t)},st.bb=function(t){if(this.name===t)return this;var e=this.W.j,o=e.length;null===this.Ci&&null===this.te||(o=G0(this));for(var a=0;a<o;a++){var h=e[a];if(h instanceof qe){var c=h.bb(t);if(null!==c)return c}if(h.name===t)return h}return null},st.he=function(){return!(this.type===qe.TableRow||this.type===qe.TableColumn)},st.Vb=function(t,e,o){if(!1===this.pickable||(void 0===e&&(e=null),void 0===o&&(o=null),nl(this)))return null;var a=this.naturalBounds,h=1/this.Af(),c=this.he(),g=c?t:ve(rt.allocAt(t.x,t.y),this.transform),_=this.diagram,k=10,P=5;if(null!==_&&(P=(k=_.Bm("extraTouchArea"))/2),cn(-P*h,-P*h,a.width+k*h,a.height+k*h,g.x,g.y)){if(!this.isAtomic){var F=(h=this.W.j).length;if(_=rt.alloc(),P=(k=this.isClipping&&this.qa===qe.Spot)?this.tb():null,k&&(P.he()?ve(_.set(t),P.transform):_.set(t),!P.$(_)))return rt.free(_),c||rt.free(g),null;for(var j=Nc(this);F--;){var ut=h[F];if((ut.visible||ut===j)&&(ut.he()?ve(_.set(t),ut.transform):_.set(t),!k||ut!==P)){var xt=null;if(ut instanceof qe?xt=ut.Vb(_,e,o):!0===ut.pickable&&ut.$(_)&&(xt=ut),null!==xt&&(null!==e&&(xt=e(xt)),null!==xt&&(null===o||o(xt))))return rt.free(_),c||rt.free(g),xt}}rt.free(_)}return null===this.background&&null===this.areaBackground?(c||rt.free(g),null):(t=cn(0,0,a.width,a.height,g.x,g.y)?this:null,c||rt.free(g),t)}return c||rt.free(g),null},st.hj=function(t,e,o,a){if(!1===this.pickable)return!1;void 0===e&&(e=null),void 0===o&&(o=null);var h=this.naturalBounds,c=this.he(),g=c?t:ve(rt.allocAt(t.x,t.y),this.transform);if(h=cn(0,0,h.width,h.height,g.x,g.y),this.type===qe.TableRow||this.type===qe.TableColumn||h){if(!this.isAtomic){for(var _=this.W.j,k=_.length,P=rt.alloc(),F=Nc(this);k--;){var j=_[k];if(j.visible||j===F){j.he()?ve(P.set(t),j.transform):P.set(t);var ut=j;(null!==(j=j instanceof qe?j:null)?j.hj(P,e,o,a):ut.$(P))&&!1!==ut.pickable&&(null!==e&&(ut=e(ut)),null===ut||null!==o&&!o(ut)||a.add(ut))}}rt.free(P)}return c||rt.free(g),h&&(null!==this.background||null!==this.areaBackground)}return c||rt.free(g),!1},st.zf=function(t,e,o,a,h,c){if(!1===this.pickable)return!1;void 0===e&&(e=null),void 0===o&&(o=null);var g=c;if(void 0===c&&(g=vn.alloc()).reset(),g.multiply(this.transform),this.Jh(t,g))return ow(this,e,o,h),void 0===c&&vn.free(g),!0;if(this.Mc(t,g)){if(!this.isAtomic)for(var _=Nc(this),k=this.W.j,P=k.length;P--;){var F=k[P];if(F.visible||F===_){var j=F.actualBounds,ut=this.naturalBounds;j.x>ut.width||j.y>ut.height||0>j.x+j.width||0>j.y+j.height||(j=F,F=F instanceof qe?F:null,(ut=vn.alloc()).set(g),(null!==F?F.zf(t,e,o,a,h,ut):Iv(j,t,a,ut))&&(null!==e&&(j=e(j)),null===j||null!==o&&!o(j)||h.add(j)),vn.free(ut))}}return void 0===c&&vn.free(g),a}return void 0===c&&vn.free(g),!1},st.Eg=function(t,e,o,a,h,c){if(!1===this.pickable)return!1;void 0===o&&(o=null),void 0===a&&(a=null);var g=this.naturalBounds,_=this.he(),k=_?t:ve(rt.allocAt(t.x,t.y),this.transform),P=_?e:ve(rt.allocAt(e.x,e.y),this.transform),F=k.Ie(P),j=0<k.x&&k.x<g.width&&0<k.y&&k.y<g.height||Ie(k.x,k.y,0,0,0,g.height)<=F||Ie(k.x,k.y,0,g.height,g.width,g.height)<=F||Ie(k.x,k.y,g.width,g.height,g.width,0)<=F||Ie(k.x,k.y,g.width,0,0,0)<=F;if(g=k.qd(0,0)<=F&&k.qd(0,g.height)<=F&&k.qd(g.width,0)<=F&&k.qd(g.width,g.height)<=F,_||(rt.free(k),rt.free(P)),j){if(!this.isAtomic){k=rt.alloc(),P=rt.alloc(),F=Nc(this);for(var ut=this.W.j,xt=ut.length;xt--;){var pt=ut[xt];if(pt.visible||pt===F){var Pt=pt.actualBounds,Xt=this.naturalBounds;(!_||!(Pt.x>Xt.width||Pt.y>Xt.height||0>Pt.x+Pt.width||0>Pt.y+Pt.height))&&(pt.he()?(Pt=pt.transform,ve(k.set(t),Pt),ve(P.set(e),Pt)):(k.set(t),P.set(e)),Pt=pt,(null!==(pt=pt instanceof qe?pt:null)?pt.Eg(k,P,o,a,h,c):Pt.sy(k,P,h))&&(null!==o&&(Pt=o(Pt)),null===Pt||null!==a&&!a(Pt)||c.add(Pt)))}}rt.free(k),rt.free(P)}return h?j:g}return!1},st.add=function(t){this.wb(this.W.count,t)},st.J=function(t){return this.W.J(t)},st.wb=function(t,e){e instanceof Nt&&z("Cannot add a Part to a Panel: "+e+"; use a Panel instead"),(this===e||this.Gg(e))&&(this===e&&z("Cannot make a Panel contain itself: "+this.toString()),z("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+e.toString()));var o=e.panel;if(null!==o&&o!==this&&z("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+e.toString()+", already contained by "+o.toString()+", cannot be shared by this Panel: "+this.toString()),this.qa!==qe.Grid||e instanceof Qi||z("Can only add Shapes to a Grid Panel, not: "+e),this.qa!==qe.Graduated||e instanceof Qi||e instanceof Qn||z("Can only add Shapes or TextBlocks to a Graduated Panel, not: "+e),e.sj(this),e.ak=null,null!==this.itemArray){var a=e.data;null!==a&&"object"==typeof a&&(null===this.Zd&&(this.Zd=new gt),this.Zd.add(a,e))}var h=this.W;if(a=-1,o===this){for(var c=-1,g=this.W.j,_=g.length,k=0;k<_;k++)if(g[k]===e){c=k;break}if(-1!==c){if(c===t||c+1>=h.count&&t>=h.count)return;h.cb(c),a=c}else z("element "+e.toString()+" has panel "+o.toString()+" but is not contained by it.")}(0>t||t>h.count)&&(t=h.count),h.wb(t,e),(0===t||e.isPanelMain)&&(this.Ui=null),Pc(this)||this.s(),e.s(!1),(null!==e.portId||e instanceof qe&&!0===e.Nh)&&(this.Nh=!0),this.eh=null,null!==(o=this.part)&&(o.Xj=null,o.kh=NaN,this.Nh&&o instanceof Fe&&(o.Nh=!0),o.Nh&&o instanceof Fe&&(o.tc=null),null!==(h=this.diagram)&&h.undoManager.isUndoingRedoing||(-1!==a&&o.Va(gn,"elements",this,e,null,a,null),o.Va(zo,"elements",this,null,e,null,t),this.Hg()||w1(this,e,!1)))},st.remove=function(t){for(var e=this.W.j,o=e.length,a=-1,h=0;h<o;h++)if(e[h]===t){a=h;break}-1!==a&&this.Lc(a,!0)},st.cb=function(t){0<=t&&this.Lc(t,!0)},st.Lc=function(t,e){var o=this.W,a=o.J(t);if(a.ak=null,a.sj(null),null!==this.Zd){var h=a.data;"object"==typeof h&&this.Zd.remove(h)}o.cb(t),ja(this,!1),this.s(),this.Ui===a&&(this.Ui=null),this.eh=null;var c=this.part;null!==c&&(c.Xj=null,c.kh=NaN,c.Lb(),c instanceof Fe&&(a instanceof qe?a.an(a,function(g,_){yn(c,_,e)}):yn(c,a,e)),null!==(o=this.diagram)&&o.undoManager.isUndoingRedoing||c.Va(gn,"elements",this,a,null,t,null))},qe.prototype.getRowDefinition=function(t){0>t&&Q(t,">= 0",qe,"getRowDefinition:idx"),t=Math.round(t);var e=this.qb;if(void 0===e)return null;if(void 0===e[t]){var o=new Eo;o.sj(this),o.isRow=!0,o.index=t,e[t]=o,this.Va(zo,"rowdefs",this,null,o,null,t)}return e[t]},qe.prototype.XA=function(t){0>t&&Q(t,">= 0",qe,"removeRowDefinition:idx"),t=Math.round(t);var e=this.qb;if(void 0!==e){var o=e[t];if(o){e[t]=void 0;for(var a=e.length-1;0<=a&&void 0===e[a--];)e.length--;this.Va(gn,"rowdefs",this,o,null,t,null),this.s()}}},qe.prototype.getColumnDefinition=function(t){0>t&&Q(t,">= 0",qe,"getColumnDefinition:idx"),t=Math.round(t);var e=this.nb;if(void 0===e)return null;if(void 0===e[t]){var o=new Eo;o.sj(this),o.isRow=!1,o.index=t,e[t]=o,this.Va(zo,"coldefs",this,null,o,null,t)}return e[t]},(st=qe.prototype).SA=function(t){0>t&&Q(t,">= 0",qe,"removeColumnDefinition:idx"),t=Math.round(t);var e=this.nb;if(void 0!==e){var o=e[t];if(o){e[t]=void 0;for(var a=e.length-1;0<=a&&void 0===e[a--];)e.length--;this.Va(gn,"coldefs",this,o,null,t,null),this.s()}}},st.aA=function(t){if(0>t||this.type!==qe.Table)return-1;for(var e=0,o=this.qb,a=o.length,h=this.Xi;h<a;h++){var c=o[h];if(void 0!==c&&t<(e+=c.total))break}return h},st.Tz=function(t){if(0>t||this.type!==qe.Table)return-1;for(var e=0,o=this.nb,a=o.length,h=this.Gi;h<a;h++){var c=o[h];if(void 0!==c&&t<(e+=c.total))break}return h},st.qA=function(t,e){if(void 0===e&&(e=new rt(NaN,NaN)),this.type!==qe.Graduated)return e.h(NaN,NaN),e;t=Math.min(Math.max(t,this.graduatedMin),this.graduatedMax);var o=this.tb();return o.geometry.Xv((t-this.graduatedMin)/this.graduatedRange,e),o.transform.ta(e)},st.rA=function(t){if(this.type!==qe.Graduated)return NaN;var e=this.tb();return e.transform.Jd(t),e.geometry.wy(t)*this.graduatedRange+this.graduatedMin},st.Gz=function(t){void 0===t&&(t=!1);var e=this.copy();return m1(e,function(o){o instanceof qe&&(o.li=null,o.ob=null);var a=o.fb;null!==a&&(o.fb=null,a.each(function(h){o.bind(h.copy())})),null!==(a=o.Mg)&&(o.Mg=null,a.each(function(h){o.Qw(h.value.copy())}))}),t&&Ea(e),e},st.Ea=function(t){var e=this.li;if(null!==e)for(void 0===t&&(t=""),e=e.iterator;e.next();){var o=e.value,a=o.sourceProperty;if((""===t||""===a||a===t)&&(a=o.targetProperty,null!==o.converter||""!==a)){a=this.data;var h=o.sourceName;if(null!==h){if(""===h)a=this;else if("/"===h)a=this;else if("."===h)a=this;else if(".."===h)a=this;else if(null===(a=this.bb(h)))continue}else if(o.isToModel){if(null===(a=this.diagram))continue;a=a.model.modelData}var c=this,g=o.wj;if(-1!==g){if(null===(c=this.Gt(g)))continue}else null!==o.pd&&(c=o.pd);if("/"===h?a=c.part:"."===h?a=c:".."===h&&(a=c.panel),0!==(h=o.hq)){if(!(c instanceof qe))continue;1===h?c=c.getColumnDefinition(o.om):2===h&&(c=c.getRowDefinition(o.om))}void 0!==c&&o.Tw(c,a)}}},st.eu=function(){for(var t=G0(this);this.W.length>t;)this.Lc(this.W.length-1,!1);if(null!==(t=this.itemArray))for(var e=t.length,o=0;o<e;o++)x1(this,t[o],o)},st.qy=function(t){return null==t||null===this.Zd?null:this.Zd.G(t)},X.Object.defineProperties(qe.prototype,{type:{get:function(){return this.qa},set:function(t){var e=this.qa;e!==t&&(this.qa=t,this.qa===qe.Grid?this.isAtomic=!0:this.qa===qe.Table&&U0(this),this.s(),this.g("type",e,t))}},elements:{get:function(){return this.W.iterator}},naturalBounds:{get:function(){return this.rc}},padding:{get:function(){return this.ib},set:function(t){"number"==typeof t?(0>t&&Q(t,">= 0",qe,"padding"),t=new hn(t)):(0>t.left&&Q(t.left,">= 0",qe,"padding:value.left"),0>t.right&&Q(t.right,">= 0",qe,"padding:value.right"),0>t.top&&Q(t.top,">= 0",qe,"padding:value.top"),0>t.bottom&&Q(t.bottom,">= 0",qe,"padding:value.bottom"));var e=this.ib;e.w(t)||(this.ib=t=t.H(),this.s(),this.g("padding",e,t))}},defaultAlignment:{get:function(){return this.Mn},set:function(t){var e=this.Mn;e.w(t)||(this.Mn=t=t.H(),this.s(),this.g("defaultAlignment",e,t))}},defaultStretch:{get:function(){return this.Sf},set:function(t){var e=this.Sf;e!==t&&(this.Sf=t,this.s(),this.g("defaultStretch",e,t))}},defaultSeparatorPadding:{get:function(){return void 0===this.Fj?br:this.Fj},set:function(t){if(void 0!==this.Fj){"number"==typeof t&&(t=new hn(t));var e=this.Fj;e.w(t)||(this.Fj=t=t.H(),this.s(),this.g("defaultSeparatorPadding",e,t))}}},defaultRowSeparatorStroke:{get:function(){return void 0===this.si?null:this.si},set:function(t){var e=this.si;e!==t&&(null===t||"string"==typeof t||t instanceof In)&&(t instanceof In&&t.freeze(),this.si=t,this.M(),this.g("defaultRowSeparatorStroke",e,t))}},defaultRowSeparatorStrokeWidth:{get:function(){return void 0===this.Ug?1:this.Ug},set:function(t){if(void 0!==this.Ug){var e=this.Ug;e!==t&&isFinite(t)&&0<=t&&(this.Ug=t,this.s(),this.g("defaultRowSeparatorStrokeWidth",e,t))}}},defaultRowSeparatorDashArray:{get:function(){return void 0===this.ri?null:this.ri},set:function(t){if(void 0!==this.ri){var e=this.ri;if(e!==t){if(null!==t){for(var o=t.length,a=0,h=0;h<o;h++){var c=t[h];"number"==typeof c&&0<=c&&isFinite(c)||z("defaultRowSeparatorDashArray value "+c+" at index "+h+" must be a positive number or zero."),a+=c}if(0===a){if(null===e)return;t=null}}this.ri=t,this.M(),this.g("defaultRowSeparatorDashArray",e,t)}}}},defaultColumnSeparatorStroke:{get:function(){return void 0===this.Sg?null:this.Sg},set:function(t){if(void 0!==this.Sg){var e=this.Sg;e!==t&&(null===t||"string"==typeof t||t instanceof In)&&(t instanceof In&&t.freeze(),this.Sg=t,this.M(),this.g("defaultColumnSeparatorStroke",e,t))}}},defaultColumnSeparatorStrokeWidth:{get:function(){return void 0===this.Tg?1:this.Tg},set:function(t){if(void 0!==this.Tg){var e=this.Tg;e!==t&&isFinite(t)&&0<=t&&(this.Tg=t,this.s(),this.g("defaultColumnSeparatorStrokeWidth",e,t))}}},defaultColumnSeparatorDashArray:{get:function(){return void 0===this.pi?null:this.pi},set:function(t){if(void 0!==this.pi){var e=this.pi;if(e!==t){if(null!==t){for(var o=t.length,a=0,h=0;h<o;h++){var c=t[h];"number"==typeof c&&0<=c&&isFinite(c)||z("defaultColumnSeparatorDashArray value "+c+" at index "+h+" must be a positive number or zero."),a+=c}if(0===a){if(null===e)return;t=null}}this.pi=t,this.M(),this.g("defaultColumnSeparatorDashArray",e,t)}}}},viewboxStretch:{get:function(){return this.pq},set:function(t){var e=this.pq;e!==t&&(this.pq=t,this.s(),this.g("viewboxStretch",e,t))}},gridCellSize:{get:function(){return this.no},set:function(t){var e=this.no;if(!e.w(t)){t.o()&&0!==t.width&&0!==t.height||z("Invalid Panel.gridCellSize: "+t),this.no=t.H();var o=this.diagram;null!==o&&this===o.grid&&_c(o),this.M(),this.g("gridCellSize",e,t)}}},gridOrigin:{get:function(){return this.oo},set:function(t){var e=this.oo;if(!e.w(t)){t.o()||z("Invalid Panel.gridOrigin: "+t),this.oo=t.H();var o=this.diagram;null!==o&&this===o.grid&&_c(o),this.M(),this.g("gridOrigin",e,t)}}},graduatedMin:{get:function(){return this.ko},set:function(t){var e=this.ko;e!==t&&(this.ko=t,this.s(),this.g("graduatedMin",e,t),If(this)&&null!==(t=this.part)&&Gh(this,t,"graduatedRange"))}},graduatedMax:{get:function(){return this.jo},set:function(t){var e=this.jo;e!==t&&(this.jo=t,this.s(),this.g("graduatedMax",e,t),If(this)&&null!==(t=this.part)&&Gh(this,t,"graduatedRange"))}},graduatedRange:{get:function(){return this.graduatedMax-this.graduatedMin}},graduatedTickUnit:{get:function(){return this.mo},set:function(t){var e=this.mo;e!==t&&0<t&&(this.mo=t,this.s(),this.g("graduatedTickUnit",e,t))}},graduatedTickBase:{get:function(){return this.lo},set:function(t){var e=this.lo;e!==t&&(this.lo=t,this.s(),this.g("graduatedTickBase",e,t))}},Nh:{get:function(){return 0!=(8388608&this.F)},set:function(t){0!=(8388608&this.F)!==t&&(this.F^=8388608)}},rowCount:{get:function(){return void 0===this.qb?0:this.qb.length}},columnCount:{get:function(){return void 0===this.nb?0:this.nb.length}},rowSizing:{get:function(){return void 0===this.dk?Yv:this.dk},set:function(t){if(void 0!==this.dk){var e=this.dk;e!==t&&(this.dk=t,this.s(),this.g("rowSizing",e,t))}}},columnSizing:{get:function(){return void 0===this.Cj?Yv:this.Cj},set:function(t){if(void 0!==this.Cj){var e=this.Cj;e!==t&&(this.Cj=t,this.s(),this.g("columnSizing",e,t))}}},topIndex:{get:function(){return void 0===this.Xi?0:this.Xi},set:function(t){if(void 0!==this.Xi){var e=this.Xi;e!==t&&((!isFinite(t)||0>t)&&z("Panel.topIndex must be greater than zero and a real number, not: "+t),this.Xi=t,this.s(),this.g("topIndex",e,t))}}},leftIndex:{get:function(){return void 0===this.Gi?0:this.Gi},set:function(t){if(void 0!==this.Gi){var e=this.Gi;e!==t&&((!isFinite(t)||0>t)&&z("Panel.leftIndex must be greater than zero and a real number, not: "+t),this.Gi=t,this.s(),this.g("leftIndex",e,t))}}},data:{get:function(){return this.ob},set:function(t){var e=this.ob;if(e!==t){var o=this instanceof Nt&&!(this instanceof li);Ea(this),this.ob=t;var a=this.diagram;null!==a&&(o?(o=a.partManager,this instanceof We?(null!==e&&o.Te.remove(e),null!==t&&o.Te.add(t,this)):this instanceof Nt&&(null!==e&&o.Ue.remove(e),null!==t&&o.Ue.add(t,this))):null!==(o=this.panel)&&null!==o.Zd&&(null!==e&&o.Zd.remove(e),null!==t&&o.Zd.add(t,this))),this.g("data",e,t),null!==a&&a.undoManager.isUndoingRedoing||null!==t&&this.Ea()}}},itemIndex:{get:function(){return this.Do},set:function(t){var e=this.Do;e!==t&&(this.Do=t,this.g("itemIndex",e,t))}},itemArray:{get:function(){return this.Ci},set:function(t){var e=this.Ci;if(e!==t||null!==t&&function(t,e){for(var o=(t=t.W.j).length,a=e.length,h=0,c=null;h<o&&!((c=t[h])instanceof qe&&null!==c.data);)c=t[++h];if(o-h!==a)return!0;if(null===c)return 0<a;for(var g=0;h<o&&g<a;){if(!((c=t[h])instanceof qe)||c.data!==e[g])return!0;h++,g++}return!1}(this,t)){var o=this.diagram;e!==t&&(null!==o&&null!==e&&_w(o.partManager,this,o),this.Ci=t,null!==o&&null!==t&&x_(o.partManager,this)),this.g("itemArray",e,t),null!==o&&o.undoManager.isUndoingRedoing||this.eu()}}},itemTemplate:{get:function(){return null===this.te?null:this.te.G("")},set:function(t){if(null===this.te){if(null===t)return;this.te=new gt}var e=this.te.G("");e!==t&&((t instanceof Nt||t.isPanelMain)&&z("Panel.itemTemplate must not be a Part or be Panel.isPanelMain: "+t),this.te.add("",t),this.g("itemTemplate",e,t),null!==(t=this.diagram)&&t.undoManager.isUndoingRedoing||this.eu())}},itemTemplateMap:{get:function(){return this.te},set:function(t){var e=this.te;if(e!==t){for(var o=t.iterator;o.next(););this.te=t,this.g("itemTemplateMap",e,t),null!==(t=this.diagram)&&t.undoManager.isUndoingRedoing||this.eu()}}},itemCategoryProperty:{get:function(){return this.Jl},set:function(t){var e=this.Jl;e!==t&&(this.Jl=t,this.g("itemCategoryProperty",e,t))}},isAtomic:{get:function(){return 0!=(1048576&this.F)},set:function(t){var e=0!=(1048576&this.F);e!==t&&(this.F^=1048576,this.g("isAtomic",e,t))}},isClipping:{get:function(){return 0!=(2097152&this.F)},set:function(t){var e=0!=(2097152&this.F);e!==t&&(!t||this.type===qe.Spot||this instanceof hi||lt("Warning: Panel.isClipping set on non-Spot Panel: "+this.toString()),this.F^=2097152,this instanceof hi&&(this.Za=null),this.s(),this.g("isClipping",e,t))}},isOpposite:{get:function(){return 0!=(33554432&this.F)},set:function(t){var e=0!=(33554432&this.F);e!==t&&(this.F^=33554432,this.s(),this.g("isOpposite",e,t))}},isEnabled:{get:function(){return 0!=(4194304&this.F)},set:function(t){var e=0!=(4194304&this.F);if(e!==t){var o=null===this.panel||this.panel.Hg();this.F^=4194304,this.g("isEnabled",e,t),null!==(e=this.diagram)&&e.undoManager.isUndoingRedoing||o&&w1(this,this,t)}}},alignmentFocusName:{get:function(){return this.Lg},set:function(t){var e=this.Lg;e!==t&&(this.Lg=t,this.s(),this.g("alignmentFocusName",e,t))}}}),X.Object.defineProperties(qe,{Position:{get:function(){return wh.G("Position")}},Horizontal:{get:function(){return wh.G("Horizontal")}},Vertical:{get:function(){return wh.G("Vertical")}},Spot:{get:function(){return wh.G("Spot")}},Auto:{get:function(){return wh.G("Auto")}},Table:{get:function(){return wh.G("Table")}},Viewbox:{get:function(){return wh.G("Viewbox")}},TableRow:{get:function(){return wh.G("TableRow")}},TableColumn:{get:function(){return wh.G("TableColumn")}},Link:{get:function(){return wh.G("Link")}},Grid:{get:function(){return wh.G("Grid")}},Graduated:{get:function(){return wh.G("Graduated")}}}),qe.prototype.findItemPanelForData=qe.prototype.qy,qe.prototype.rebuildItemElements=qe.prototype.eu,qe.prototype.updateTargetBindings=qe.prototype.Ea,qe.prototype.copyTemplate=qe.prototype.Gz,qe.prototype.graduatedValueForPoint=qe.prototype.rA,qe.prototype.graduatedPointForValue=qe.prototype.qA,qe.prototype.findColumnForLocalX=qe.prototype.Tz,qe.prototype.findRowForLocalY=qe.prototype.aA,qe.prototype.removeColumnDefinition=qe.prototype.SA,qe.prototype.removeRowDefinition=qe.prototype.XA,qe.prototype.removeAt=qe.prototype.cb,qe.prototype.remove=qe.prototype.remove,qe.prototype.insertAt=qe.prototype.wb,qe.prototype.elt=qe.prototype.J,qe.prototype.add=qe.prototype.add,qe.prototype.findObject=qe.prototype.bb,qe.prototype.findInVisualTree=qe.prototype.ym,qe.prototype.walkVisualTreeFrom=qe.prototype.an,qe.prototype.findMainElement=qe.prototype.tb;var tg=!1,uw=null,wh=new gt;function Eo(){me(this),this.og=null,this.ns=!0,this.Ra=0,this.ad=NaN,this.nh=0,this.lh=1/0,this.yb=zs,this.la=this.bc=this.ha=0,this.fb=null,this.Yp=b1,this.De=ts,this.Up=this.sg=null,this.Vp=NaN,this.mb=this.fk=null,this.In=!1}function Wv(t){if(t.sizing===b1){var e=t.og;return t.isRow?e.rowSizing:e.columnSizing}return t.sizing}qe.className="Panel",qe.definePanelLayout=vl,vl("Position",new Km),vl("Vertical",new Sp),vl("Auto",new jv),vl("Link",new Jm),Eo.prototype.copy=function(){var t=new Eo;return t.ns=this.ns,t.Ra=this.Ra,t.ad=this.ad,t.nh=this.nh,t.lh=this.lh,t.yb=this.yb,t.ha=this.ha,t.bc=this.bc,t.la=this.la,t.De=this.De,t.Yp=this.Yp,t.sg=null===this.sg?null:this.sg.H(),t.Up=this.Up,t.Vp=this.Vp,t.fk=null,null!==this.fk&&(t.separatorDashArray=Et(this.separatorDashArray)),t.mb=this.mb,t.In=this.In,t.fb=this.fb,t},(st=Eo.prototype).gy=function(t){t.isRow?this.height=t.height:this.width=t.width,this.minimum=t.minimum,this.maximum=t.maximum,this.alignment=t.alignment,this.stretch=t.stretch,this.sizing=t.sizing,this.sg=null===t.separatorPadding?null:t.separatorPadding.H(),this.separatorStroke=t.separatorStroke,this.separatorStrokeWidth=t.separatorStrokeWidth,this.fk=null,t.separatorDashArray&&(this.fk=Et(t.separatorDashArray)),this.background=t.background,this.coversSeparators=t.coversSeparators,this.fb=t.fb},st.jb=function(t){t.classType===Eo&&(this.sizing=t)},st.toString=function(){return"RowColumnDefinition "+(this.isRow?"(Row ":"(Column ")+this.index+") #"+be(this)},st.sj=function(t){this.og=t},st.Jv=function(){var t=0,e=0,o=this.og,a=this.isRow;if(null!==o&&o.type===qe.Table)for(var h=a?o.qb.length:o.nb.length,c=0;c<h;c++){var g=a?o.qb[c]:o.nb[c];if(void 0!==g){e=g.index;break}}if(this.index!==e&&(null===(e=this.separatorStroke)&&null!==o&&(e=this.isRow?o.defaultRowSeparatorStroke:o.defaultColumnSeparatorStroke),null!==e&&(t=this.separatorStrokeWidth,isNaN(t)&&(t=null!==o?this.isRow?o.defaultRowSeparatorStrokeWidth:o.defaultColumnSeparatorStrokeWidth:0))),null===(e=this.sg)){if(null===o)return t;e=o.defaultSeparatorPadding}return t+(this.isRow?e.top:e.left)},st.wc=function(){var t=0,e=this.og,o=0,a=this.isRow;if(null!==e&&e.type===qe.Table)for(var h=a?e.qb.length:e.nb.length,c=0;c<h;c++){var g=a?e.qb[c]:e.nb[c];if(void 0!==g){o=g.index;break}}if(this.index!==o&&(null===(o=this.separatorStroke)&&null!==e&&(o=a?e.defaultRowSeparatorStroke:e.defaultColumnSeparatorStroke),null!==o&&(t=this.separatorStrokeWidth,isNaN(t)&&(t=null!==e?a?e.defaultRowSeparatorStrokeWidth:e.defaultColumnSeparatorStrokeWidth:0))),null===(a=this.sg)){if(null===e)return t;a=e.defaultSeparatorPadding}return t+(this.isRow?a.top+a.bottom:a.left+a.right)},st.Bb=function(t,e,o){var a=this.og;if(null!==a&&(a.Va(Ar,t,this,e,o,void 0,void 0),null!==this.fb&&null!==(e=a.diagram)&&!e.skipsModelSourceBindings&&null!==(a=a.ij())&&null!==(e=a.data)))for(o=this.fb.iterator;o.next();)o.value.jr(this,e,t,a)},st.bind=function(t){t.pd=this;var e=this.panel;if(null!==e){var o=e.ij();null!==o&&y1(o)&&z("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+t+" on "+e)}null===this.fb&&(this.fb=new Lt),this.fb.add(t)},X.Object.defineProperties(Eo.prototype,{panel:{get:function(){return this.og}},isRow:{get:function(){return this.ns},set:function(t){this.ns=t}},index:{get:function(){return this.Ra},set:function(t){this.Ra=t}},height:{get:function(){return this.ad},set:function(t){var e=this.ad;e!==t&&(0>t&&Q(t,">= 0",Eo,"height"),this.ad=t,this.actual=this.ha,null!==this.panel&&this.panel.s(),this.Bb("height",e,t))}},width:{get:function(){return this.ad},set:function(t){var e=this.ad;e!==t&&(0>t&&Q(t,">= 0",Eo,"width"),this.ad=t,this.actual=this.ha,null!==this.panel&&this.panel.s(),this.Bb("width",e,t))}},minimum:{get:function(){return this.nh},set:function(t){var e=this.nh;e!==t&&((0>t||!isFinite(t))&&Q(t,">= 0",Eo,"minimum"),this.nh=t,this.actual=this.ha,null!==this.panel&&this.panel.s(),this.Bb("minimum",e,t))}},maximum:{get:function(){return this.lh},set:function(t){var e=this.lh;e!==t&&(0>t&&Q(t,">= 0",Eo,"maximum"),this.lh=t,this.actual=this.ha,null!==this.panel&&this.panel.s(),this.Bb("maximum",e,t))}},alignment:{get:function(){return this.yb},set:function(t){var e=this.yb;e.w(t)||(this.yb=t.H(),null!==this.panel&&this.panel.s(),this.Bb("alignment",e,t))}},stretch:{get:function(){return this.De},set:function(t){var e=this.De;e!==t&&(this.De=t,null!==this.panel&&this.panel.s(),this.Bb("stretch",e,t))}},separatorPadding:{get:function(){return this.sg},set:function(t){"number"==typeof t&&(t=new hn(t));var e=this.sg;null!==t&&null!==e&&e.w(t)||(null!==t&&(t=t.H()),this.sg=t,null!==this.panel&&this.panel.s(),this.Bb("separatorPadding",e,t))}},separatorStroke:{get:function(){return this.Up},set:function(t){var e=this.Up;e!==t&&(null!==t&&du(t,"RowColumnDefinition.separatorStroke"),t instanceof In&&t.freeze(),this.Up=t,null!==this.panel&&this.panel.s(),this.Bb("separatorStroke",e,t))}},separatorStrokeWidth:{get:function(){return this.Vp},set:function(t){var e=this.Vp;e!==t&&(this.Vp=t,null!==this.panel&&this.panel.s(),this.Bb("separatorStrokeWidth",e,t))}},separatorDashArray:{get:function(){return this.fk},set:function(t){var e=this.fk;if(e!==t){if(null!==t){for(var o=t.length,a=0,h=0;h<o;h++){var c=t[h];"number"==typeof c&&0<=c&&isFinite(c)||z("separatorDashArray value "+c+" at index "+h+" must be a positive number or zero."),a+=c}if(0===a){if(null===e)return;t=null}}this.fk=t,null!==this.panel&&this.panel.M(),this.Bb("separatorDashArray",e,t)}}},background:{get:function(){return this.mb},set:function(t){var e=this.mb;e!==t&&(null!==t&&du(t,"RowColumnDefinition.background"),t instanceof In&&t.freeze(),this.mb=t,null!==this.panel&&this.panel.M(),this.Bb("background",e,t))}},coversSeparators:{get:function(){return this.In},set:function(t){var e=this.In;e!==t&&(this.In=t,null!==this.panel&&this.panel.M(),this.Bb("coversSeparators",e,t))}},sizing:{get:function(){return this.Yp},set:function(t){var e=this.Yp;e!==t&&(this.Yp=t,null!==this.panel&&this.panel.s(),this.Bb("sizing",e,t))}},actual:{get:function(){return this.ha},set:function(t){this.ha=isNaN(this.ad)?Math.max(Math.min(this.lh,t),this.nh):Math.max(Math.min(this.lh,this.ad),this.nh)}},measured:{get:function(){return this.bc},set:function(t){this.bc=t}},total:{get:function(){return this.ha+this.wc()},set:function(t){this.ha=isNaN(this.ad)?Math.max(Math.min(this.lh,t),this.nh):Math.max(Math.min(this.lh,this.ad),this.nh),this.ha=Math.max(0,this.ha-this.wc())}},position:{get:function(){return this.la},set:function(t){this.la=t}}}),Eo.prototype.bind=Eo.prototype.bind,Eo.prototype.computeEffectiveSpacing=Eo.prototype.wc,Eo.prototype.computeEffectiveSpacingTop=Eo.prototype.Jv;var b1=new wt(Eo,"Default",0),Kh=new wt(Eo,"None",1),Yv=new wt(Eo,"ProportionalExtra",2);function Qi(){Oi.call(this),this.Ed=this.na=null,this.Yn="None",this.ho=ts,this.Hc=this.tl="black",this.wh=1,this.km="butt",this.lm="miter",this.gk=10,this.uh=null,this.vh=0,this.qf=this.pf=zs,this.tp=this.sp=NaN,this.vo=!1,this.wp=null,this.ul=this.rm="None",this.Yd=1,this.Wd=0,this.Ud=1,this.Vd=null}function ka(t,e,o,a){var h=o.length;if(!(4>h)){var c=a.measuredBounds,g=Math.max(1,c.width);c=c.height;for(var P,F,j,ut,xt,pt,_=o[0],k=o[1],Pt=0,Xt=u(),$t=2;$t<h;$t+=2)0==(j=(P=o[$t])-_)&&(j=.001),ut=(_=(F=o[$t+1])-k)/j,xt=Math.atan2(_,j),pt=Math.sqrt(j*j+_*_),Xt.push([j,xt,ut,pt]),Pt+=pt,_=P,k=F;_=o[0],k=o[1],j=a.measuredBounds.width,a instanceof Qi&&(j-=a.strokeWidth),1>j&&(j=1),h=o=j,F=0!=(P=g/2),j=(pt=Xt[$t=0])[0],xt=pt[1],ut=pt[2],pt=pt[3];for(var ie=0;.1<=Pt;){if(0===ie&&(F?(h=o,h-=P,Pt-=P,F=!1):h=o,0===h&&(h=1)),h>Pt)return void m(Xt);h>pt?(ie=h-pt,h=pt):ie=0;var se=Math.sqrt(h*h/(1+ut*ut));if(0>j&&(se=-se),t.translate(_+=se,k+=ut*se),t.rotate(xt),t.translate(-g/2,-c/2),0===ie&&a.ej(t,e),t.translate(g/2,c/2),t.rotate(-xt),t.translate(-_,-k),Pt-=h,pt-=h,0!==ie){if(++$t===Xt.length)return void m(Xt);j=(pt=Xt[$t])[0],xt=pt[1],ut=pt[2],pt=pt[3],h=ie}}m(Xt)}}function eg(t){var e=t.geometryStretch;return null!==t.Ed?e===ts?no:e:e===ts?_1[t.figure].defaultStretch:e}function ig(t,e,o,a,h){return(e=(t=o.x-t)*t+(e=o.y-e)*e)<a?(h.x=o.x,h.y=o.y,e):a}function Ep(t,e,o,a,h,c,g,_,k){var P=!1,F=(h-g)*(e-a)-(c-_)*(t-o);return 0!==F&&(k.x=((h*_-c*g)*(t-o)-(h-g)*(t*a-e*o))/F,k.y=((h*_-c*g)*(e-a)-(c-_)*(t*a-e*o))/F,(t>o?t-o:o-t)<(e>a?e-a:a-e)?(t=e<a?e:a,e=e<a?a:e,(k.y>t||pe.aa(k.y,t))&&(k.y<e||pe.aa(k.y,e))&&(P=!0)):(e=t<o?t:o,t=t<o?o:t,(k.x>e||pe.aa(k.x,e))&&(k.x<t||pe.aa(k.x,t))&&(P=!0)),P)}function Yo(t,e,o,a){if(!t.Nt(e,o,a))return!1;t=e.x,e=e.y;var h=o.x,c=o.y;return o=a.x,a=a.y,t===h?(e<c?(t=e,e=c):t=c,a>=t&&a<=e):(t<h?(a=t,t=h):a=h,o>=a&&o<=t)}function kp(t){var e=t.diagram;null!==e&&e.undoManager.isUndoingRedoing||(t.segmentOrientation=$0,"None"!==t.rm?(t.segmentIndex=-1,t.alignmentFocus=Nr):"None"!==t.ul&&(t.segmentIndex=0,t.alignmentFocus=new Ti(1-Nr.x,Nr.y)))}function W0(t){var e=rl[t];if(void 0===e){var o=t.toLowerCase();if("none"===o)return"None";if(void 0===(e=rl[o])){var h,a=null;for(h in pe.dn)if(h.toLowerCase()===o){a=h;break}if(null!==a)return t=op(pe.dn[a],!1),rl[a]=t,o!==a&&(rl[o]=a),a}}return"string"==typeof e?e:e instanceof xn?t:null}Eo.className="RowColumnDefinition",Eo.Default=b1,Eo.None=Kh,Eo.ProportionalExtra=Yv,et(Qi,Oi),Qi.prototype.cloneProtected=function(t){Oi.prototype.cloneProtected.call(this,t),t.na=this.na,t.Yn=this.Yn,t.ho=this.ho,t.Ed=this.Ed,t.tl=this.tl,t.Hc=this.Hc,t.wh=this.wh,t.km=this.km,t.lm=this.lm,t.gk=this.gk,null!==this.uh&&(t.uh=Et(this.uh)),t.vh=this.vh,t.pf=this.pf.H(),t.qf=this.qf.H(),t.sp=this.sp,t.tp=this.tp,t.vo=this.vo,t.wp=this.wp,t.rm=this.rm,t.ul=this.ul,t.Yd=this.Yd,t.Wd=this.Wd,t.Ud=this.Ud,t.Vd=this.Vd},(st=Qi.prototype).jb=function(t){t===nr||t===Ys||t===Pv||t===ts?this.geometryStretch=t:Oi.prototype.jb.call(this,t)},st.toString=function(){return"Shape("+("None"!==this.figure?this.figure:"None"!==this.toArrow?this.toArrow:this.fromArrow)+")#"+be(this)},st.ej=function(t,e){var o=this.Hc,a=this.tl;if(null!==o||null!==a){var h=this.actualBounds,c=this.naturalBounds;null!==a&&_a(this,t,a,!0,!1,c,h);var g=this.part,_=this.wh;null===o||0!==_||null===g||!this.isPanelMain&&g.tb()!==this||(_=g.type===qe.Link&&g instanceof li&&"Selection"===g.category&&g.adornedObject instanceof Qi&&g.adornedPart.tb()===g.adornedObject?g.adornedObject.strokeWidth:0),0===_&&(o=null),null!==o&&0!==_&&(_a(this,t,o,!1,!1,c,h),t.lineWidth=_,t.lineJoin=this.lm,t.lineCap=this.km,t.miterLimit=this.gk),h=!1,g&&e.Ke("drawShadows")&&(h=g.isShadowed),g=!0,null===o||null!==a&&"transparent"!==a||(g=!1),c=!1,null!==(_=this.strokeDashArray)&&(c=!0,t.Ft(_,this.vh));var k=this.na;if(null!==k){if(k.type===Lo)t.beginPath(),t.moveTo(k.startX,k.startY),t.lineTo(k.endX,k.endY),null!==o&&t.vj();else if(k.type===fs){var P=k.startX;_=k.startY;var F=k.endX,j=k.endY;k=Math.min(P,F);var ut=Math.min(_,j);P=Math.abs(F-P),_=Math.abs(j-_),t.beginPath(),t.rect(k,ut,P,_),null!==a&&t.Je(a),null!==o&&(g&&h&&Xh(t),(0===P||0===_)&&(t.beginPath(),t.rect(k,ut,Math.max(P,.1),Math.max(_,.1))),t.vj(),g&&h&&cu(t))}else if(k.type===Nh)P=k.startX,_=k.startY,F=k.endX,j=k.endY,k=Math.abs(F-P)/2,ut=Math.abs(j-_)/2,P=Math.min(P,F)+k,_=Math.min(_,j)+ut,t.beginPath(),t.moveTo(P,_-ut),t.bezierCurveTo(P+pe.Kg*k,_-ut,P+k,_-pe.Kg*ut,P+k,_),t.bezierCurveTo(P+k,_+pe.Kg*ut,P+pe.Kg*k,_+ut,P,_+ut),t.bezierCurveTo(P-pe.Kg*k,_+ut,P-k,_+pe.Kg*ut,P-k,_),t.bezierCurveTo(P-k,_-pe.Kg*ut,P-pe.Kg*k,_-ut,P,_-ut),t.closePath(),null!==a&&t.Je(a),null!==o&&(g&&h?(Xh(t),t.vj(),cu(t)):t.vj());else if(k.type===kl)for(k=(_=k.figures).length,ut=0;ut<k;ut++){P=_.j[ut],t.beginPath(),t.moveTo(P.startX,P.startY),j=(F=P.segments.j).length;for(var xt=null,pt=0;pt<j;pt++){var Pt=F[pt];switch(Pt.type){case Gr:t.moveTo(Pt.endX,Pt.endY);break;case yo:t.lineTo(Pt.endX,Pt.endY);break;case Xo:t.bezierCurveTo(Pt.point1X,Pt.point1Y,Pt.point2X,Pt.point2Y,Pt.endX,Pt.endY);break;case La:t.quadraticCurveTo(Pt.point1X,Pt.point1Y,Pt.endX,Pt.endY);break;case Wn:if(Pt.radiusX===Pt.radiusY){var Xt=Math.PI/180;t.arc(Pt.point1X,Pt.point1Y,Pt.radiusX,Pt.startAngle*Xt,(Pt.startAngle+Pt.sweepAngle)*Xt,0>Pt.sweepAngle,null!==xt?xt.endX:P.startX,null!==xt?xt.endY:P.startY)}else if(0===(Xt=(xt=el(Pt,P)).length))t.lineTo(Pt.centerX,Pt.centerY);else for(var $t=0;$t<Xt;$t++){var ie=xt[$t];0===$t&&t.lineTo(ie[0],ie[1]),t.bezierCurveTo(ie[2],ie[3],ie[4],ie[5],ie[6],ie[7])}break;case sa:if($t=Xt=0,null!==xt&&xt.type===Wn){if(0===(ie=(xt=el(xt,P)).length)){t.lineTo(Pt.endX,Pt.endY);break}null!==(xt=xt[ie-1]||null)&&(Xt=xt[6],$t=xt[7])}else Xt=null!==xt?xt.endX:P.startX,$t=null!==xt?xt.endY:P.startY;if(0===(Xt=(xt=Fu(Pt,P,Xt,$t)).length)){t.lineTo(Pt.endX,Pt.endY);break}for($t=0;$t<Xt;$t++)t.bezierCurveTo((ie=xt[$t])[2],ie[3],ie[4],ie[5],ie[6],ie[7]);break;default:z("Segment not of valid type: "+Pt.type)}Pt.isClosed&&t.closePath(),xt=Pt}F=P.isFilled,h?P.isShadowed?(!0===F&&"transparent"!==a&&null!==a&&t.Je(a),null!==o&&(F&&g&&Xh(t),t.vj(),F&&g&&cu(t))):(Xh(t),F&&"transparent"!==a&&null!==a&&t.Je(a),null!==o&&t.vj(),cu(t)):(F&&null!==a&&t.Je(a),null!==o&&t.vj())}if(c&&t.Dt(),null!==this.pathPattern){if((o=this.pathPattern).measure(1/0,1/0),o.arrange(0,0,(a=o.measuredBounds).width,a.height),h=this.geometry,t.save(),t.beginPath(),a=u(),h.type===Lo)a.push(h.startX),a.push(h.startY),a.push(h.endX),a.push(h.endY),ka(t,e,a,o);else if(h.type===kl)for(h=h.figures.iterator;h.next();){for(g=h.value,a.length=0,a.push(g.startX),a.push(g.startY),k=c=g.startX,ut=_=g.startY,F=(P=g.segments.j).length,j=0;j<F;j++){switch((pt=P[j]).type){case Gr:ka(t,e,a,o),a.length=0,a.push(pt.endX),a.push(pt.endY),k=c=pt.endX,ut=_=pt.endY;break;case yo:a.push(pt.endX),a.push(pt.endY),c=pt.endX,_=pt.endY;break;case Xo:pe.Fe(c,_,pt.point1X,pt.point1Y,pt.point2X,pt.point2Y,pt.endX,pt.endY,.5,a),c=pt.endX,_=pt.endY;break;case La:pe.Vq(c,_,pt.point1X,pt.point1Y,pt.endX,pt.endY,.5,a),c=pt.endX,_=pt.endY;break;case Wn:if(0===(xt=(Pt=el(pt,g)).length)){a.push(pt.centerX),a.push(pt.centerY),c=pt.centerX,_=pt.centerY;break}for(Xt=0;Xt<xt;Xt++)pe.Fe(c,_,($t=Pt[Xt])[2],$t[3],$t[4],$t[5],$t[6],$t[7],.5,a),c=$t[6],_=$t[7];break;case sa:if(0===(xt=(Pt=Fu(pt,g,c,_)).length)){a.push(pt.endX),a.push(pt.endY),c=pt.endX,_=pt.endY;break}for(Xt=0;Xt<xt;Xt++)pe.Fe(c,_,($t=Pt[Xt])[2],$t[3],$t[4],$t[5],$t[6],$t[7],.5,a),c=$t[6],_=$t[7];break;default:z("Segment not of valid type: "+pt.type)}pt.isClosed&&(a.push(k),a.push(ut),ka(t,e,a,o))}ka(t,e,a,o)}else if(h.type===fs)a.push(h.startX),a.push(h.startY),a.push(h.endX),a.push(h.startY),a.push(h.endX),a.push(h.endY),a.push(h.startX),a.push(h.endY),a.push(h.startX),a.push(h.startY),ka(t,e,a,o);else if(h.type===Nh){if((_=new as).startX=h.endX,_.startY=(h.startY+h.endY)/2,(c=new Gn(Wn)).startAngle=0,c.sweepAngle=360,c.centerX=(h.startX+h.endX)/2,c.centerY=(h.startY+h.endY)/2,c.radiusX=Math.abs(h.startX-h.endX)/2,c.radiusY=Math.abs(h.startY-h.endY)/2,_.add(c),0===(g=(h=el(c,_)).length))a.push(c.centerX),a.push(c.centerY);else for(c=_.startX,_=_.startY,k=0;k<g;k++)pe.Fe(c,_,(ut=h[k])[2],ut[3],ut[4],ut[5],ut[6],ut[7],.5,a),c=ut[6],_=ut[7];ka(t,e,a,o)}m(a),t.restore(),t.uc(!1)}}}},st.da=function(t,e){if(void 0===e&&(e=new rt),t instanceof Ti){t.nc()&&z("getDocumentPoint Spot must be a real, specific Spot, not: "+t.toString());var o=this.naturalBounds,a=this.strokeWidth;e.h(t.x*(o.width+a)-a/2+o.x+t.offsetX,t.y*(o.height+a)-a/2+o.y+t.offsetY)}else e.set(t);return this.Fd.ta(e),e},st.mj=function(t){void 0===t&&(t=new te);var e=this.naturalBounds,o=this.Fd;e=te.allocAt(e.x,e.y,e.width,e.height);var a=this.strokeWidth;return e.Jc(a/2,a/2),a=rt.allocAt(e.x,e.y).transform(o),t.h(a.x,a.y,0,0),a.h(e.right,e.y).transform(o),an(t,a.x,a.y,0,0),a.h(e.right,e.bottom).transform(o),an(t,a.x,a.y,0,0),a.h(e.x,e.bottom).transform(o),an(t,a.x,a.y,0,0),te.free(e),rt.free(a),t},st.Kh=function(t,e){var o=this.geometry;if(null===o||null===this.fill&&null===this.stroke)return!1;var a=o.bounds,h=this.strokeWidth/2;o.type!==Lo||e||(h+=2);var c=te.alloc();if(c.assign(a),c.Jc(h+2,h+2),!c.$(t))return te.free(c),!1;if(a=h+1e-4,o.type===Lo)return!(null===this.stroke||(a=(o.endX-o.startX)*(t.x-o.startX)+(o.endY-o.startY)*(t.y-o.startY),0>(o.startX-o.endX)*(t.x-o.endX)+(o.startY-o.endY)*(t.y-o.endY)||0>a))&&(te.free(c),pe.Nb(o.startX,o.startY,o.endX,o.endY,h,t.x,t.y));if(o.type===fs){e=o.startX;var g=o.startY,_=o.endX;if(o=o.endY,c.x=Math.min(e,_),c.y=Math.min(g,o),c.width=Math.abs(_-e),c.height=Math.abs(o-g),null===this.fill){if(c.Jc(-a,-a),c.$(t))return te.free(c),!1;c.Jc(a,a)}return null!==this.stroke&&c.Jc(h,h),t=c.$(t),te.free(c),t}if(o.type===Nh){g=o.startX,h=o.startY,_=o.endX;var k=o.endY;if(o=Math.min(g,_),e=Math.min(h,k),g=Math.abs(_-g)/2,h=Math.abs(k-h)/2,o=t.x-(o+g),e=t.y-(e+h),null===this.fill){if(h-=a,0>=(g-=a)||0>=h||1>=o*o/(g*g)+e*e/(h*h))return te.free(c),!1;g+=a,h+=a}return null!==this.stroke&&(g+=a,h+=a),te.free(c),!(0>=g||0>=h)&&1>=o*o/(g*g)+e*e/(h*h)}return o.type===kl?(te.free(c),null===this.fill?mf(o,t.x,t.y,h):Cm(o,t,h,1<this.strokeWidth,e)):(z("Unknown Geometry type: "+o.type),!1)},st.Hm=function(t,e,o,a){var h=this.desiredSize,c=this.wh;if(t=Math.max(t,0),e=Math.max(e,0),null!==this.Ed)var g=this.geometry.bounds;else{var _=this.figure,k=_1[_];if(void 0===k){var P=pe.Qe[_];"string"==typeof P&&(P=pe.Qe[P]),"function"==typeof P?(k=P(null,100,100),_1[_]=k):z("Unsupported Figure: "+_)}g=k.bounds}_=g.width,k=g.height,P=g.width;var F=g.height;switch(Ol(this,!0)){case nr:a=o=0;break;case no:P=Math.max(t-c,0),F=Math.max(e-c,0);break;case ho:P=Math.max(t-c,0),a=0;break;case Vs:o=0,F=Math.max(e-c,0)}switch(isFinite(h.width)&&(P=h.width),isFinite(h.height)&&(F=h.height),h=this.maxSize,g=this.minSize,o=Math.max(o-c,g.width),a=Math.max(a-c,g.height),P=Math.min(h.width,P),F=Math.min(h.height,F),P=isFinite(P)?Math.max(o,P):Math.max(_,o),F=isFinite(F)?Math.max(a,F):Math.max(k,a),o=eg(this)){case nr:break;case no:_=P,k=F;break;case Ys:o=Math.min(P/_,F/k),isFinite(o)||(o=1),_*=o,k*=o;break;default:z(o+" is not a valid geometryStretch.")}null!==this.Ed?(0===_&&(_=.001),0===k&&(k=.001),a=_/(h=(o=null!==this.Ed?this.Ed:this.na).bounds).width,h=k/h.height,isFinite(a)||(a=1),isFinite(h)||(h=1),this.na=1===a&&1===h?o:o.copy().scale(a,h)):null!==this.na&&pe.aa(this.na.Dl,t-c)&&pe.aa(this.na.Cl,e-c)||(this.na=Qi.makeGeometry(this,_,k)),g=this.na.bounds,t===1/0||e===1/0?th(this,g.x-c/2,g.y-c/2,0===t&&0===_?0:g.width+c,0===e&&0===k?0:g.height+c):th(this,-c/2,-c/2,P+c,F+c)},st.Ih=function(t,e,o,a){Rv(this,t,e,o,a)},st.Nt=function(t,e,o){return this.zk(t.x,t.y,e.x,e.y,o)},st.zk=function(t,e,o,a,h){var c=this.transform,g=1/(c.m11*c.m22-c.m12*c.m21),_=c.m22*g,k=-c.m12*g,P=-c.m21*g,F=c.m11*g,j=g*(c.m21*c.dy-c.m22*c.dx),ut=g*(c.m12*c.dx-c.m11*c.dy);c=t*_+e*P+j,g=t*k+e*F+ut,_=o*_+a*P+j,k=o*k+a*F+ut,j=this.wh/2,null===(P=this.na)&&(this.measure(1/0,1/0),P=this.na);var xt=P.bounds;if(F=!1,P.type===Lo)if(1.5>=this.strokeWidth)F=pe.Me(P.startX,P.startY,P.endX,P.endY,c,g,_,k,h);else{if(P.startX===P.endX?(a=j,F=0):(e=(P.endY-P.startY)/(P.endX-P.startX),a=(F=j/Math.sqrt(1+e*e))*e),e=u(),t=new rt,pe.Me(P.startX+a,P.startY+F,P.endX+a,P.endY+F,c,g,_,k,t)&&e.push(t),t=new rt,pe.Me(P.startX-a,P.startY-F,P.endX-a,P.endY-F,c,g,_,k,t)&&e.push(t),t=new rt,pe.Me(P.startX+a,P.startY+F,P.startX-a,P.startY-F,c,g,_,k,t)&&e.push(t),t=new rt,pe.Me(P.endX+a,P.endY+F,P.endX-a,P.endY-F,c,g,_,k,t)&&e.push(t),0===(_=e.length))return m(e),!1;for(F=!0,k=1/0,a=0;a<_;a++)(o=((t=e[a]).x-c)*(t.x-c)+(t.y-g)*(t.y-g))<k&&(k=o,h.x=t.x,h.y=t.y);m(e)}else if(P.type===fs)F=pe.Cf(xt.x-j,xt.y-j,xt.x+xt.width+j,xt.y+xt.height+j,c,g,_,k,h);else if(P.type===Nh){t:if(0===(e=te.allocAt(xt.x,xt.y,xt.width,xt.height).Jc(j,j)).width)F=pe.Me(e.x,e.y,e.x,e.y+e.height,c,g,_,k,h);else if(0===e.height)F=pe.Me(e.x,e.y,e.x+e.width,e.y,c,g,_,k,h);else{if(a=e.x+(t=e.width/2),F=e.y+(P=e.height/2),o=9999,c!==_&&(o=(g-k)/(c-_)),9999>Math.abs(o)){if(0>t*t*o*o+P*P-(k=g-F-o*(c-a))*k){h.x=NaN,h.y=NaN,F=!1;break t}_=(-t*t*o*k+t*P*(j=Math.sqrt(t*t*o*o+P*P-k*k)))/(P*P+t*t*o*o)+a,t=(-t*t*o*k-t*P*j)/(P*P+t*t*o*o)+a,P=o*(_-a)+k+F,k=o*(t-a)+k+F,Math.abs((c-_)*(c-_))+Math.abs((g-P)*(g-P))<Math.abs((c-t)*(c-t))+Math.abs((g-k)*(g-k))?(h.x=_,h.y=P):(h.x=t,h.y=k)}else{if(_=P*P,0>(_-=_/(t*t)*(k=c-a)*k)){h.x=NaN,h.y=NaN,F=!1;break t}_=F+(k=Math.sqrt(_)),k=F-k,Math.abs(_-g)<Math.abs(k-g)?(h.x=c,h.y=_):(h.x=c,h.y=k)}F=!0}te.free(e)}else if(P.type===kl){ut=rt.alloc();var pt=_-c,Pt=k-g,Xt=pt*pt+Pt*Pt,$t=c,ie=g;if(0<Xt&&xt.contains($t,ie)&&(ut.x=$t,ut.y=ie,this.$(ut)))for(0!==pt&&.5>Math.abs(pt)?(Pt*=.5/pt,pt=.5):0!==Pt&&.5>Math.abs(Pt)&&(pt*=.5/Pt,Pt=.5),$t-=pt,ie-=Pt;xt.contains($t,ie);)$t-=pt,ie-=Pt;for(h.x=_,h.y=k,Pt=0;Pt<P.figures.count;Pt++)for(var se=P.figures.j[Pt],fe=se.isFilled?$t:c,we=se.isFilled?ie:g,ti=se.segments,Ci=xt=se.startX,ui=pt=se.startY,Bi=0;Bi<ti.count;Bi++){var mi=ti.j[Bi],ei=mi.type,kn=mi.endX,un=mi.endY,$n=!1;switch(ei){case Gr:Ci=kn,ui=un;break;case yo:$n=Ep(xt,pt,kn,un,fe,we,_,k,ut);break;case Xo:$n=pe.wq(xt,pt,mi.point1X,mi.point1Y,mi.point2X,mi.point2Y,kn,un,fe,we,_,k,.6,ut);break;case La:$n=pe.wq(xt,pt,xt+2/3*(mi.point1X-xt),pt+2/3*(mi.point1Y-pt),kn+2/3*(mi.point1X-kn),un+2/3*(mi.point1Y-un),kn,un,fe,we,_,k,.6,ut);break;case Wn:case sa:var uo=(ei=mi.type===Wn?el(mi,se):Fu(mi,se,xt,pt)).length;if(0===uo){$n=Ep(xt,pt,mi.type===Wn?mi.centerX:mi.endX,mi.type===Wn?mi.centerY:mi.endY,fe,we,_,k,ut);break}for(un=null,kn=0;kn<uo;kn++){if(un=ei[kn],0===kn&&Ep(xt,pt,un[0],un[1],fe,we,_,k,ut)){var ns=ig(fe,we,ut,Xt,h);ns<Xt&&(Xt=ns,F=!0)}pe.wq(un[0],un[1],un[2],un[3],un[4],un[5],un[6],un[7],fe,we,_,k,.6,ut)&&(ns=ig(fe,we,ut,Xt,h))<Xt&&(Xt=ns,F=!0)}kn=un[6],un=un[7];break;default:z("Unknown Segment type: "+ei)}xt=kn,pt=un,$n&&($n=ig(fe,we,ut,Xt,h))<Xt&&(Xt=$n,F=!0),mi.isClosed&&Ep(xt,pt,kn=Ci,un=ui,fe,we,_,k,ut)&&(mi=ig(fe,we,ut,Xt,h))<Xt&&(Xt=mi,F=!0)}c=o-t,g=a-e,0!==(_=Math.sqrt(c*c+g*g))&&(c/=_,g/=_),h.x-=c*j,h.y-=g*j,rt.free(ut)}else z("Unknown Geometry type: "+P.type);return!!F&&(this.transform.ta(h),!0)},st.Jh=function(t,e){if(void 0===e)return t.Ge(this.actualBounds);var o=this.na;null===o&&(this.measure(1/0,1/0),o=this.na),o=o.bounds;var a=this.strokeWidth/2,h=!1,c=rt.alloc();return c.h(o.x-a,o.y-a),t.$(e.ta(c))&&(c.h(o.x-a,o.bottom+a),t.$(e.ta(c))&&(c.h(o.right+a,o.bottom+a),t.$(e.ta(c))&&(c.h(o.right+a,o.y-a),t.$(e.ta(c))&&(h=!0)))),rt.free(c),h},st.Mc=function(t,e){if(this.Jh(t,e)||void 0===e&&(e=this.transform,t.Ge(this.actualBounds)))return!0;var o=vn.alloc();o.set(e),o.St();var a=t.left,h=t.right,c=t.top;t=t.bottom;var g=rt.alloc();if(g.h(a,c),o.ta(g),this.Kh(g,!0)||(g.h(h,c),o.ta(g),this.Kh(g,!0))||(g.h(a,t),o.ta(g),this.Kh(g,!0))||(g.h(h,t),o.ta(g),this.Kh(g,!0)))return rt.free(g),!0;var _=rt.alloc(),k=rt.alloc();return o.set(e),o.jw(this.transform),o.St(),_.x=h,_.y=c,_.transform(o),g.x=a,g.y=c,g.transform(o),e=!1,Yo(this,g,_,k)?e=!0:(g.x=h,g.y=t,g.transform(o),Yo(this,g,_,k)?e=!0:(_.x=a,_.y=t,_.transform(o),Yo(this,g,_,k)?e=!0:(g.x=a,g.y=c,g.transform(o),Yo(this,g,_,k)&&(e=!0)))),rt.free(g),vn.free(o),rt.free(_),rt.free(k),e},st.sy=function(t,e,o){function a(Xt,$t){for(var ie=Xt.length,se=0;se<ie;se+=2)if($t.qd(Xt[se],Xt[se+1])>h)return!0;return!1}if(o&&null!==this.fill&&this.Kh(t,!0))return!0;var h=t.Ie(e),c=h;if(1.5<this.strokeWidth&&(h=this.strokeWidth/2+Math.sqrt(h),h*=h),null===(e=this.na)&&(this.measure(1/0,1/0),null===(e=this.na)))return!1;if(!o){var g=e.bounds,_=g.x,k=g.y,P=g.x+g.width;if(g=g.y+g.height,on(t.x,t.y,_,k)<=h&&on(t.x,t.y,P,k)<=h&&on(t.x,t.y,_,g)<=h&&on(t.x,t.y,P,g)<=h)return!0}if(_=e.startX,k=e.startY,P=e.endX,g=e.endY,e.type===Lo){if(o=(_-P)*(t.x-P)+(k-g)*(t.y-g),Ie(t.x,t.y,_,k,P,g)<=(0<=(P-_)*(t.x-_)+(g-k)*(t.y-k)&&0<=o?h:c))return!0}else{if(e.type===fs)return e=!1,o&&(e=Ie(t.x,t.y,_,k,_,g)<=h||Ie(t.x,t.y,_,k,P,k)<=h||Ie(t.x,t.y,P,k,P,g)<=h||Ie(t.x,t.y,_,g,P,g)<=h),e;if(e.type===Nh){e=t.x-(_+P)/2,c=t.y-(k+g)/2;var F=Math.abs(P-_)/2,j=Math.abs(g-k)/2;if(0===F||0===j)return Ie(t.x,t.y,_,k,P,g)<=h;if(!o)return!(on(e,c,-F,0)>=h||on(e,c,0,-j)>=h||on(e,c,0,j)>=h||on(e,c,F,0)>=h);if((t=pe.Mz(F,j,e,c))*t<=h)return!0}else if(e.type===kl){if(c=(P=e.bounds).x,_=P.y,k=P.x+P.width,P=P.y+P.height,t.x>k&&t.x<c&&t.y>P&&t.y<_&&Ie(t.x,t.y,c,_,c,P)>h&&Ie(t.x,t.y,c,_,k,_)>h&&Ie(t.x,t.y,k,P,c,P)>h&&Ie(t.x,t.y,k,P,k,_)>h)return!1;if(c=Math.sqrt(h),!o){for(o=e.figures,e=0;e<o.count;e++){if(t.qd(g=(c=o.j[e]).startX,F=c.startY)>h)return!1;for(k=(_=c.segments.j).length,P=0;P<k;P++)switch(j=_[P],j.type){case Gr:case yo:if(t.qd(g=j.endX,F=j.endY)>h)return!1;break;case Xo:var ut=u();if(pe.Fe(g,F,j.point1X,j.point1Y,j.point2X,j.point2Y,j.endX,j.endY,.8,ut),g=a(ut,t),m(ut),g||t.qd(g=j.endX,F=j.endY)>h)return!1;break;case La:if(ut=u(),pe.Vq(g,F,j.point1X,j.point1Y,j.endX,j.endY,.8,ut),g=a(ut,t),m(ut),g||t.qd(g=j.endX,F=j.endY)>h)return!1;break;case Wn:case sa:var xt=(ut=j.type===Wn?el(j,c):Fu(j,c,g,F)).length;if(0===xt){if(t.qd(g=j.type===Wn?j.centerX:j.endX,F=j.type===Wn?j.centerY:j.endY)>h)return!1;break}j=null;for(var pt=u(),Pt=0;Pt<xt;Pt++)if(j=ut[Pt],pt.length=0,pe.Fe(j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],.8,pt),a(pt,t))return m(pt),!1;m(pt),null!==j&&(g=j[6],F=j[7]);break;default:z("Unknown Segment type: "+j.type)}}return!0}if(null===this.fill?mf(e,t.x,t.y,c):Cm(e,t,c,!0,!1))return!0}}return!1},st.dc=function(){this.na=null},Qi.makeGeometry=function(t,e,o){if("None"!==t.toArrow)var a=rl[t.toArrow];else"None"!==t.fromArrow?a=rl[t.fromArrow]:("string"==typeof(a=pe.Qe[t.figure])&&(a=pe.Qe[a]),void 0===a&&z("Unknown Shape.figure: "+t.figure),(a=a(t,e,o)).Dl=e,a.Cl=o);if(null===a){var h=pe.Qe.Rectangle;"function"==typeof h&&(a=h(t,e,o))}return a},X.Object.defineProperties(Qi.prototype,{geometry:{get:function(){return null!==this.na?this.na:this.Ed},set:function(t){var e=this.na,o=this.Ed;if(e!==t){this.Ed=this.na=null!==t?t.freeze():null;var a=this.part;null!==a&&(a.kh=NaN),this.s(),this.g("geometry",e||o,t),If(this)&&null!==(t=this.part)&&Gh(this,t,"geometryString")}}},geometryString:{get:function(){return null===this.geometry?"":this.geometry.toString()},set:function(t){var e=(t=op(t)).normalize();this.geometry=t,this.position=t=rt.allocAt(-e.x,-e.y),rt.free(t)}},isGeometryPositioned:{get:function(){return this.vo},set:function(t){var e=this.vo;e!==t&&(this.vo=t,this.s(),this.g("isGeometryPositioned",e,t))}},fill:{get:function(){return this.tl},set:function(t){var e=this.tl;e!==t&&(null!==t&&du(t,"Shape.fill"),t instanceof In&&t.freeze(),this.tl=t,this.M(),this.g("fill",e,t))}},stroke:{get:function(){return this.Hc},set:function(t){var e=this.Hc;e!==t&&(null!==t&&du(t,"Shape.stroke"),t instanceof In&&t.freeze(),this.Hc=t,this.M(),this.g("stroke",e,t))}},strokeWidth:{get:function(){return this.wh},set:function(t){var e=this.wh;if(e!==t)if(0<=t){this.wh=t,this.s();var o=this.part;null!==o&&(o.kh=NaN),this.g("strokeWidth",e,t)}else Q(t,"value >= 0",Qi,"strokeWidth:value")}},strokeCap:{get:function(){return this.km},set:function(t){var e=this.km;e!==t&&("string"!=typeof t||"butt"!==t&&"round"!==t&&"square"!==t?Q(t,'"butt", "round", or "square"',Qi,"strokeCap"):(this.km=t,this.M(),this.g("strokeCap",e,t)))}},strokeJoin:{get:function(){return this.lm},set:function(t){var e=this.lm;e!==t&&("string"!=typeof t||"miter"!==t&&"bevel"!==t&&"round"!==t?Q(t,'"miter", "bevel", or "round"',Qi,"strokeJoin"):(this.lm=t,this.M(),this.g("strokeJoin",e,t)))}},strokeMiterLimit:{get:function(){return this.gk},set:function(t){var e=this.gk;if(e!==t&&1<=t){this.gk=t,this.M();var o=this.part;null!==o&&(o.kh=NaN),this.g("strokeMiterLimit",e,t)}}},strokeDashArray:{get:function(){return this.uh},set:function(t){var e=this.uh;if(e!==t){if(null!==t){for(var o=t.length,a=0,h=0;h<o;h++){var c=t[h];0<=c&&isFinite(c)||z("strokeDashArray:value "+c+" at index "+h+" must be a positive number or zero."),a+=c}if(0===a){if(null===e)return;t=null}}this.uh=t,this.M(),this.g("strokeDashArray",e,t)}}},strokeDashOffset:{get:function(){return this.vh},set:function(t){var e=this.vh;e!==t&&0<=t&&(this.vh=t,this.M(),this.g("strokeDashOffset",e,t))}},figure:{get:function(){return this.Yn},set:function(t){var e=this.Yn;if(e!==t){var o=pe.Qe[t];"function"==typeof o?o=t:(o=pe.Qe[t.toLowerCase()])||z("Unknown Shape.figure: "+t),e!==o&&(null!==(t=this.part)&&(t.kh=NaN),this.Yn=o,this.Ed=null,this.dc(),this.s(),this.g("figure",e,o))}}},toArrow:{get:function(){return this.rm},set:function(t){var e=this.rm;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){var o=W0(t);null===o?z("Unknown Shape.toArrow: "+t):e!==o&&(this.rm=o,this.Ed=null,this.dc(),this.s(),kp(this),this.g("toArrow",e,o))}}},fromArrow:{get:function(){return this.ul},set:function(t){var e=this.ul;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){var o=W0(t);null===o?z("Unknown Shape.fromArrow: "+t):e!==o&&(this.ul=o,this.Ed=null,this.dc(),this.s(),kp(this),this.g("fromArrow",e,o))}}},spot1:{get:function(){return this.pf},set:function(t){var e=this.pf;e.w(t)||(this.pf=t=t.H(),this.s(),this.g("spot1",e,t))}},spot2:{get:function(){return this.qf},set:function(t){var e=this.qf;e.w(t)||(this.qf=t=t.H(),this.s(),this.g("spot2",e,t))}},parameter1:{get:function(){return this.sp},set:function(t){var e=this.sp;e!==t&&(this.sp=t,this.dc(),this.s(),this.g("parameter1",e,t))}},parameter2:{get:function(){return this.tp},set:function(t){var e=this.tp;e!==t&&(this.tp=t,this.dc(),this.s(),this.g("parameter2",e,t))}},naturalBounds:{get:function(){var t=this.desiredSize;return t.o()||null===this.na?new te(0,0,t.width,t.height):(this.rc.assign(this.na.bounds),this.rc)}},pathPattern:{get:function(){return this.wp},set:function(t){var e=this.wp;e!==t&&(this.wp=t,this.M(),this.g("pathPattern",e,t))}},geometryStretch:{get:function(){return this.ho},set:function(t){var e=this.ho;e!==t&&(this.ho=t,this.s(),this.g("geometryStretch",e,t))}},interval:{get:function(){return this.Yd},set:function(t){var e=this.Yd;if(e!==(t=Math.round(t))&&0!==t&&isFinite(t)){this.Yd=t;var o=this.diagram;null!==o&&this.panel===o.grid&&_c(o),this.s(),null!==(o=this.panel)&&(o.eh=null),this.g("interval",e,t)}}},graduatedStart:{get:function(){return this.Wd},set:function(t){var e=this.Wd;e!==t&&(0>t?t=0:1<t&&(t=1),this.Wd=t,this.s(),this.g("graduatedStart",e,t))}},graduatedEnd:{get:function(){return this.Ud},set:function(t){var e=this.Ud;e!==t&&(0>t?t=0:1<t&&(t=1),this.Ud=t,this.s(),this.g("graduatedEnd",e,t))}},graduatedSkip:{get:function(){return this.Vd},set:function(t){var e=this.Vd;e!==t&&(this.Vd=t,this.s(),this.g("graduatedSkip",e,t))}}}),Qi.prototype.intersectsRect=Qi.prototype.Mc,Qi.prototype.containedInRect=Qi.prototype.Jh,Qi.prototype.getNearestIntersectionPoint=Qi.prototype.Nt,Qi.prototype.getDocumentBounds=Qi.prototype.mj,Qi.prototype.getDocumentPoint=Qi.prototype.da;var rl=new At,_1=new At;function Qn(){Oi.call(this),qv||(ca=gl?new Ma(null).context:null,qv=!0),this.Jx=this.Ub="",this.Hc="black",this.ne="13px sans-serif",this.Vi="start",this.Td=nr,this.aj=Ux,this.Pj=!0,this.Ai=this.Bi=!1,this.mg=S1,this.zg=Xv,this.us=this.vb=this.Zc=0,this.ev=this.fv=null,this.Vn=!1,this.ld=this.xn=this.iq=this.Wi=this.jq=null,this.nf=this.mf=0,this.ti=Kr,this.ve=1/0,this.Ei=0,this.oe=null,this.Be=0,this.me=this.lb=this.Qb=null,this.Yd=1,this.Wd=0,this.Ud=1,this.Vd=this.Lj=null}function M1(t,e){t.F=6144|e.F,t.hb=e.opacity,t.mb=e.background,t.ec=e.areaBackground,t.Xc=e.desiredSize.H(),t.fg=e.minSize.H(),t.eg=e.maxSize.H(),t.cg=e.cg.copy(),t.Aa=e.scale,t.Yb=e.angle,t.De=e.stretch,t.jh=e.margin.H(),t.yb=e.alignment.H(),t.$k=e.alignmentFocus.H(),t.am=e.segmentFraction,t.bm=e.segmentOffset.H(),t.cm=e.segmentOrientation,null!==e.Za&&(t.Za=e.Za.copy()),t.em=e.shadowVisible,e instanceof Qn&&(t.Ub=e.Ub,t.Hc=e.Hc,t.ne=e.ne,t.Vi=e.Vi,t.Td=e.Td,t.aj=e.aj,t.Pj=e.Pj,t.Bi=e.Bi,t.Ai=e.Ai,t.mg=e.mg,t.zg=e.zg,t.oe=null,t.mf=e.mf,t.nf=e.nf,t.ve=e.ve,t.Ei=e.Ei,t.Yd=e.Yd,t.Wd=e.Wd,t.Ud=e.Ud,t.Lj=e.Lj,t.Vd=e.Vd)}function ol(t,e,o){null===t.me?(t.me=e,t.vb=o):((null===t.lb||null===t.Qb)&&(t.lb=[],t.Qb=[],t.lb.push(t.me),t.Qb.push(t.vb)),t.lb.push(e),t.Qb.push(o))}function C1(t,e,o,a){var h=t.ti===Kr;h&&(e=e.trim());var c=0,g=t.ne,_=t.mf+t.nf;_=Math.max(0,ng(t)+_);var k=t.mg===Kv?$v(g):0;if(t.Zc>=t.ve)null!==a&&a.h(0,_);else if(g=e,t.zg===Tp){t.Be=1;var P=Ll(e);if(0===k||P<=o)t.vb=Math.max(t.vb,P),ol(t,e,t.vb),null!==a&&a.h(P,_);else{for(P=Ll((c=bh(t,g))+(e=bh(t,g=g.substr(c.length))));0<e.length&&P<=o;)P=(c+=e)+(e=bh(t,g=g.substr(e.length))),h&&(P=P.trim()),P=Ll(P);for(h&&(e=e.trim()),c+=e,o=Math.max(1,o-k);Ll(c)>o&&1<c.length;)c=c.substr(0,c.length-1);var F=Ll(c+=yl);t.vb=F,ol(t,c,F),null!==a&&a.h(F,_)}}else{for(k=0,0===g.length&&(k=1,ol(t,g,0));0<g.length;){for(e=bh(t,g),g=g.substr(e.length);Ll(e)>o;){var j=1;for(P=Ll(e.substr(0,j)),F=0;P<=o;)j++,F=P,P=Ll(e.substr(0,j));if(1===j){var ut=P;c=Math.max(c,P)}else ut=F,c=Math.max(c,F);if(1>--j&&(j=1),ol(t,e.substr(0,j),ut),k++,e=e.substr(j),t.Zc+k>t.ve)break}for(P=Ll(e+(F=bh(t,g)));0<F.length&&P<=o;)P=(e+=F)+(F=bh(t,g=g.substr(F.length))),h&&(P=P.trim()),P=Ll(P);if(h&&(e=e.trim()),""!==e&&("\xad"===e[e.length-1]&&(e=e.substring(0,e.length-1)+"\u2010"),0===F.length?(j=P,c=Math.max(c,P)):(j=F=Ll(e),c=Math.max(c,F)),ol(t,e,j),k++,t.Zc+k>t.ve))break}t.Be=Math.min(t.ve,k),t.vb=Math.max(t.vb,c),null!==a&&a.h(t.vb,_*t.Be)}}function bh(t,e){if(t.zg===Y0)return e.substr(0,1);for(var o=e.length,a=0,h=o_;a<o&&!h.test(e.charAt(a));)a++;for(t.ti===cw&&(o=Math.min(o,a+1));a<o&&h.test(e.charAt(a));)a++;return a>=e.length?e:e.substr(0,a)}function Ll(t){return null===ca?8*t.length:ca.measureText(t).width}function ng(t){if(null!==t.oe)return t.oe;var e=t.ne;if(null===ca){var o=16;return t.oe=o}return void 0!==D1[e]&&5e3>fw?o=D1[e]:(o=1.3*ca.measureText("M").width,D1[e]=o,fw++),t.oe=o}function $v(t){if(null===ca)return 6;if(void 0!==og[t]&&5e3>Pp)var e=og[t];else e=ca.measureText(yl).width,og[t]=e,Pp++;return e}function rg(t,e){var o=t.Ub.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),a=t.mf+t.nf;if(a=Math.max(0,ng(t)+a),0===o.length)return t.vb=0,t.Zc=1,a;if(!t.isMultiline){var h=o.indexOf("\n",0);0<=h&&(o=o.substr(0,h))}h=0;for(var g,c=t.Zc=0,_=!1;!_;){if(-1===(g=o.indexOf("\n",c))&&(g=o.length,_=!0),c<=g){if(c=o.substr(c,g-c),t.zg!==Tp){t.Be=0;var k=Ge.alloc();C1(t,c,e,k),h+=k.height,Ge.free(k),t.Zc+=t.Be}else C1(t,c,e,null),h+=a,t.Zc++;t.Zc===t.ve&&(_=!0)}c=g+1}return t.us=h}Qi.className="Shape",Qi.getFigureGenerators=function(){var e,t=new gt;for(e in pe.Qe)e!==e.toLowerCase()&&t.add(e,pe.Qe[e]);return t.freeze(),t},Qi.defineFigureGenerator=function(t,e){var o=t.toLowerCase(),a=pe.Qe;a[t]=e,a[o]=t},Qi.getArrowheadGeometries=function(){var t=new gt;for(a in pe.dn)if(void 0===rl[a]){var e=op(pe.dn[a],!1);rl[a]=e,(e=a.toLowerCase())!==a&&(rl[e]=a)}for(var o in rl)if(o!==o.toLowerCase()){var a=rl[o];a instanceof xn&&t.add(o,a)}return t.freeze(),t},Qi.defineArrowheadGeometry=function(t,e){var o;o="string"==typeof e?op(e,!1):e,"none"!==(e=t.toLowerCase())&&t!==e||z("Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: "+t);var a=rl;a[t]=o,a[e]=t},et(Qn,Oi),Qn.prototype.cloneProtected=function(t){Oi.prototype.cloneProtected.call(this,t),t.Ub=this.Ub,t.Jx=this.Jx,t.Hc=this.Hc,t.ne=this.ne,t.Vi=this.Vi,t.Td=this.Td,t.aj=this.aj,t.Pj=this.Pj,t.Bi=this.Bi,t.Ai=this.Ai,t.mg=this.mg,t.zg=this.zg,t.Zc=this.Zc,t.us=this.us,t.vb=this.vb,t.fv=this.fv,t.ev=this.ev,t.Vn=this.Vn,t.jq=this.jq,t.Wi=this.Wi,t.iq=this.iq,t.xn=this.xn,t.ld=this.ld,t.mf=this.mf,t.nf=this.nf,t.ti=this.ti,t.ve=this.ve,t.oe=this.oe,t.Be=this.Be,t.Qb=this.Qb,t.lb=this.lb,t.me=this.me,t.Ei=this.Ei,t.Yd=this.Yd,t.Wd=this.Wd,t.Ud=this.Ud,t.Lj=this.Lj,t.Vd=this.Vd},(st=Qn.prototype).jb=function(t){t.classType===Qn?this.wrap=t:Oi.prototype.jb.call(this,t)},st.toString=function(){return 22<this.Ub.length?'TextBlock("'+this.Ub.substring(0,20)+'"...)':'TextBlock("'+this.Ub+'")'},st.s=function(){Oi.prototype.s.call(this),this.ev=this.fv=null},st.ej=function(t,e){if(null!==this.Hc&&0!==this.Ub.length&&null!==this.ne){var o=this.naturalBounds,a=this.actualBounds,h=o.width,c=o.height,g=ng(this),_=t.textAlign=this.Vi,k=e.Gl;"start"===_?_=k?"right":"left":"end"===_&&(_=k?"left":"right"),k=this.Bi;var P=this.Ai;_a(this,t,this.Hc,!0,!1,o,a),(k||P)&&_a(this,t,this.Hc,!1,!1,o,a),a=0,o=!1;var F=rt.allocAt(0,0);this.Fd.ta(F);var j=rt.allocAt(0,g);this.Fd.ta(j);var ut=F.Ie(j);switch(rt.free(F),rt.free(j),8>ut*(F=e.scale)*F&&(o=!0),e.Gb!==t&&(o=!1),!1===e.Ke("textGreeking")&&(o=!1),e=this.mf,ut=this.nf,this.flip){case kc:t.translate(h,0),t.scale(-1,1);break;case Ec:t.translate(0,c),t.scale(1,-1);break;case ha:t.translate(h,c),t.scale(-1,-1)}if(c>(j=(e+g+ut)*(F=this.Zc))&&(a=(a=this.aj).y*c-a.y*j+a.offsetY),1===F&&null!==this.me)(ut=this.vb)>h&&(ut=h),this.dj(this.me,t,0,a+e,h,g,ut,o,_,k,P);else if(null!==this.Qb&&null!==this.lb)for(j=0;j<F;j++){var xt=this.Qb[j];xt>h&&(xt=h),this.dj(this.lb[j],t,0,a+=e,h,g,xt,o,_,k,P),a+=g+ut}switch(this.flip){case kc:t.scale(-1,1),t.translate(-h,0);break;case Ec:t.scale(1,-1),t.translate(0,-c);break;case ha:t.scale(-1,-1),t.translate(-h,-c)}}},st.dj=function(t,e,o,a,h,c,g,_,k,P,F){var j=0;_?("left"===k?j=0:"right"===k?j=h-g:"center"===k&&(j=(h-g)/2),e.fillRect(o+j,a+.25*c,g,1)):("left"===k?j=0:"right"===k?j=h:"center"===k&&(j=h/2),h=null!==Ap?Ap(this,c):.75*c,e.fillText(t,o+j,a+h),0==(t=c/20|0)&&(t=1),"right"===k?j-=g:"center"===k&&(j-=g/2),P&&(k=null!==Lc?Lc(this,c):.8*c,e.beginPath(),e.lineWidth=t,e.moveTo(o+j,a+k),e.lineTo(o+j+g,a+k),e.stroke()),F&&(e.beginPath(),e.lineWidth=t,a=a+c-c/2.2|0,t%2!=0&&(a+=.5),e.moveTo(o+j,a),e.lineTo(o+j+g,a),e.stroke()))},st.Hm=function(t,e,o,a){this.Ei=t;var c,h=this.ne;if(null!==ca&&Zv!==h&&(Zv=ca.font=h),this.vb=this.Be=0,this.me=this.lb=this.Qb=this.oe=null,isNaN(this.desiredSize.width)){if(0===(h=this.Ub.replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length)h=0;else if(this.isMultiline){for(var g=c=0,_=!1;!_;){var k=h.indexOf("\n",g);-1===k&&(k=h.length,_=!0),g=h.substr(g,k-g),this.ti===Kr&&(g=g.trim()),c=Math.max(c,Ll(g)),g=k+1}h=c}else 0<=(c=h.indexOf("\n",0))&&(h=h.substr(0,c)),h=Ll(h);h=Math.min(h,t/this.scale),h=Math.max(8,h)}else h=this.desiredSize.width;if(null!==this.panel&&(h=Math.min(h,this.panel.maxSize.width)),c=rg(this,h),_=c=isNaN(this.desiredSize.height)?Math.min(c,e/this.scale):this.desiredSize.height,0!==this.vb&&null!==this.Qb&&null!==this.lb&&this.mg===Kv&&(e=this.ne,e=this.mg===Kv?$v(e):0,k=this.mf+this.nf,k=Math.max(0,ng(this)+k),!((_=Math.min(this.maxLines-1,Math.max(Math.floor(_/k+.01)-1,0)))+1>=this.lb.length))){for(k=this.lb[_],e=Math.max(1,t-e);Ll(k)>e&&1<k.length;)k=k.substr(0,k.length-1);e=Ll(k+=yl),this.lb[_]=k,this.lb=this.lb.slice(0,_+1),this.Qb[_]=e,this.Qb=this.Qb.slice(0,_+1),this.Be=this.lb.length,this.vb=Math.max(this.vb,e),this.Zc=this.Be,1===this.Zc&&(this.me=this.lb[0])}(this.wrap===r_||isNaN(this.desiredSize.width))&&(h=isNaN(t)?this.vb:Math.min(t,this.vb),isNaN(this.desiredSize.width)&&(h=Math.max(8,h))),h=Math.max(o,h),c=Math.max(a,c),Re(this.rc,h,c),th(this,0,0,h,c)},st.Ih=function(t,e,o,a){Rv(this,t,e,o,a)},X.Object.defineProperties(Qn.prototype,{font:{get:function(){return this.ne},set:function(t){var e=this.ne;e!==t&&(this.ne=t,this.oe=null,this.s(),this.g("font",e,t))}},text:{get:function(){return this.Ub},set:function(t){var e=this.Ub;e!==(t=null!=t?t.toString():"")&&(this.Ub=t,this.s(),this.g("text",e,t))}},textAlign:{get:function(){return this.Vi},set:function(t){var e=this.Vi;e===t||"start"!==t&&"end"!==t&&"left"!==t&&"right"!==t&&"center"!==t||(this.Vi=t,this.M(),this.g("textAlign",e,t))}},flip:{get:function(){return this.Td},set:function(t){var e=this.Td;e!==t&&(this.Td=t,this.M(),this.g("flip",e,t))}},verticalAlignment:{get:function(){return this.aj},set:function(t){var e=this.aj;e.w(t)||(this.aj=t=t.H(),uu(this),this.g("verticalAlignment",e,t))}},naturalBounds:{get:function(){if(!this.rc.o()){var t=Ge.alloc();C1(this,this.Ub,999999,t);var e=t.width;Ge.free(t),t=rg(this,e);var o=this.desiredSize;isNaN(o.width)||(e=o.width),isNaN(o.height)||(t=o.height),Re(this.rc,e,t)}return this.rc}},isMultiline:{get:function(){return this.Pj},set:function(t){var e=this.Pj;e!==t&&(this.Pj=t,this.s(),this.g("isMultiline",e,t))}},isUnderline:{get:function(){return this.Bi},set:function(t){var e=this.Bi;e!==t&&(this.Bi=t,this.M(),this.g("isUnderline",e,t))}},isStrikethrough:{get:function(){return this.Ai},set:function(t){var e=this.Ai;e!==t&&(this.Ai=t,this.M(),this.g("isStrikethrough",e,t))}},wrap:{get:function(){return this.zg},set:function(t){var e=this.zg;e!==t&&(this.zg=t,this.s(),this.g("wrap",e,t))}},overflow:{get:function(){return this.mg},set:function(t){var e=this.mg;e!==t&&(this.mg=t,this.s(),this.g("overflow",e,t))}},stroke:{get:function(){return this.Hc},set:function(t){var e=this.Hc;e!==t&&(null!==t&&du(t,"TextBlock.stroke"),t instanceof In&&t.freeze(),this.Hc=t,this.M(),this.g("stroke",e,t))}},lineCount:{get:function(){return this.Zc}},editable:{get:function(){return this.Vn},set:function(t){var e=this.Vn;e!==t&&(this.Vn=t,this.g("editable",e,t))}},textEditor:{get:function(){return this.jq},set:function(t){var e=this.jq;e!==t&&(this.jq=t,this.g("textEditor",e,t))}},errorFunction:{get:function(){return this.ld},set:function(t){var e=this.ld;e!==t&&(this.ld=t,this.g("errorFunction",e,t))}},interval:{get:function(){return this.Yd},set:function(t){var e=this.Yd;if(e!==(t=Math.round(t))&&0!==t&&isFinite(t)){this.Yd=t,this.s();var o=this.panel;null!==o&&(o.eh=null),this.g("interval",e,t)}}},graduatedStart:{get:function(){return this.Wd},set:function(t){var e=this.Wd;e!==t&&(0>t?t=0:1<t&&(t=1),this.Wd=t,this.s(),this.g("graduatedStart",e,t))}},graduatedEnd:{get:function(){return this.Ud},set:function(t){var e=this.Ud;e!==t&&(0>t?t=0:1<t&&(t=1),this.Ud=t,this.s(),this.g("graduatedEnd",e,t))}},graduatedFunction:{get:function(){return this.Lj},set:function(t){var e=this.Lj;e!==t&&(this.Lj=t,this.s(),this.g("graduatedFunction",e,t))}},graduatedSkip:{get:function(){return this.Vd},set:function(t){var e=this.Vd;e!==t&&(this.Vd=t,this.s(),this.g("graduatedSkip",e,t))}},textValidation:{get:function(){return this.Wi},set:function(t){var e=this.Wi;e!==t&&(this.Wi=t,this.g("textValidation",e,t))}},textEdited:{get:function(){return this.iq},set:function(t){var e=this.iq;e!==t&&(this.iq=t,this.g("textEdited",e,t))}},spacingAbove:{get:function(){return this.mf},set:function(t){var e=this.mf;e!==t&&(this.mf=t,this.s(),this.g("spacingAbove",e,t))}},spacingBelow:{get:function(){return this.nf},set:function(t){var e=this.nf;e!==t&&(this.nf=t,this.s(),this.g("spacingBelow",e,t))}},formatting:{get:function(){return this.ti},set:function(t){var e=this.ti;e!==t&&(this.ti=t,this.s(),this.g("formatting",e,t))}},maxLines:{get:function(){return this.ve},set:function(t){var e=this.ve;e!==t&&(0>=(t=Math.floor(t))&&Q(t,"> 0",Qn,"maxLines"),this.ve=t,this.s(),this.g("maxLines",e,t))}},metrics:{get:function(){return{arrSize:null!==this.Qb?this.Qb:[this.vb],arrText:null!==this.lb?this.lb:[this.me],maxLineWidth:this.vb,fontHeight:this.oe}}},choices:{get:function(){return this.xn},set:function(t){var e=this.xn;e!==t&&(this.xn=t,this.g("choices",e,t))}}});var Ap=null,Lc=null,Tp=new wt(Qn,"None",0),r_=new wt(Qn,"WrapFit",1),Xv=new wt(Qn,"WrapDesiredSize",2),Y0=new wt(Qn,"WrapBreakAll",3),S1=new wt(Qn,"OverflowClip",0),Kv=new wt(Qn,"OverflowEllipsis",1),Kr=new wt(Qn,"FormatTrim",0),cw=new wt(Qn,"FormatNone",0),o_=/[ \u200b\u00ad]/,D1=new At,fw=0,og=new At,Pp=0,yl="...",Zv="",ca=null,qv=!1;function Ip(){this.Qb=[],this.lb=[]}function ta(){Oi.call(this),this.Zg=null,this.$p="",this.th=Vn,this.yl=no,this.xh=this.ld=null,this.xl=Hi,this.Td=nr,this.nm=null,this.uo=!1,this.Yr=!0,this.Ol=!1,this.gm=null}function gu(t){void 0===t&&(t=""),""!==t?w[t]&&(delete w[t],d--):(w=new At,d=0)}function dw(t,e){e.fz||(e.dv=function(o){e.ls=!0,e.ro=!1;var a=e.Wg.copy();if(null!=a){for(a=a.iterator;a.next();){var h=a.value,c=e.getAttribute("src"),g=h.pg.G(c);if(null!==g)for(var _=g.length,k=0;k<_;k++)h.Wl.add(c=g[k]),h.Db(),e.io&&(void 0===e.ov&&(e.ov=o),null!==c.xh&&c.xh(c,o))}e.Wg=null}t.desiredSize.o()||(ja(t,!1),t.s())},e.Pu=function(o){e.ro=o;var a=e.Wg.copy();if(null!=a){for(a=a.iterator;a.next();){var h=a.value,c=e.getAttribute("src"),g=h.pg.G(c);if(null!==g){h=g.length,c=u();for(var _=0;_<h;_++)c.push(g[_]);if(e.io)for(_=0;_<h;_++)null!==(g=c[_]).ld&&g.ld(g,o);m(c)}}e.Wg=null}},e.addEventListener("load",e.dv),e.addEventListener("error",e.Pu),e.fz=!0)}function Pd(t){t.removeEventListener("load",t.dv),t.removeEventListener("error",t.Pu),delete t.dv,delete t.Pu}Qn.className="TextBlock",Qn.getEllipsis=function(){return yl},Qn.setEllipsis=function(t){yl=t,og=new At,Pp=0},Qn.getBaseline=function(){return Ap},Qn.setBaseline=function(t){Ap=t},Qn.getUnderline=function(){return Lc},Qn.setUnderline=function(t){Lc=t},Qn.isValidFont=function(t){if(qv||(ca=gl?new Ma(null).context:null,qv=!0),null===ca)return!0;var e=ca.font;if(t===e||"10px sans-serif"===t)return!0;ca.font="10px sans-serif",ca.font=t;var o=ca.font;if("10px sans-serif"!==o)return ca.font=e,!0;ca.font="19px serif";var a=ca.font;return ca.font=t,o=ca.font,ca.font=e,o!==a},Qn.None=Tp,Qn.WrapFit=r_,Qn.WrapDesiredSize=Xv,Qn.WrapBreakAll=Y0,Qn.OverflowClip=S1,Qn.OverflowEllipsis=Kv,Ip.prototype.reset=function(){this.Qb=[],this.lb=[]},Ip.prototype.gy=function(t){this.Qb=Et(t.Qb),this.lb=Et(t.lb)},Ip.className="TextBlockMetrics",et(ta,Oi),ta.prototype.cloneProtected=function(t){Oi.prototype.cloneProtected.call(this,t),t.element=this.Zg,t.$p=this.$p,t.th=this.th.H(),t.yl=this.yl,t.Td=this.Td,t.ld=this.ld,t.xh=this.xh,t.xl=this.xl.H(),t.Yr=this.Yr,t.gm=this.gm},ta.prototype.jb=function(t){t===nr||t===Ys||t===Pv?this.imageStretch=t:Oi.prototype.jb.call(this,t)},ta.prototype.toString=function(){return"Picture("+this.source+")#"+be(this)},ta.prototype.QA=function(){if(""!==this.source){gu(this.source);var t=this.source;this.source="",this.source=t}},ta.prototype.redraw=function(){this.M()},ta.prototype.ej=function(t,e){var o=this.Zg;if(null!==o){var a=o.getAttribute("src");if(!(o instanceof HTMLImageElement&&(null===a||""===a)||o.ro instanceof Event&&t instanceof Of)){a=this.naturalBounds;var h=0,c=0,g=this.uo,_=g?+o.width:o.naturalWidth;if(void 0===_&&o.videoWidth&&(_=o.videoWidth),void 0===(g=g?+o.height:o.naturalHeight)&&o.videoHeight&&(g=o.videoHeight),g=g||a.height,0!==(_=_||a.width)&&0!==g){var k=_,P=g;this.sourceRect.o()&&(h=this.th.x,c=this.th.y,_=this.th.width,g=this.th.height);var F=_,j=g,ut=this.yl,xt=this.xl;switch(ut){case nr:if(this.sourceRect.o())break;F>=a.width&&(h=h+xt.offsetX+(F*xt.x-a.width*xt.x)),j>=a.height&&(c=c+xt.offsetY+(j*xt.y-a.height*xt.y)),_=Math.min(a.width,F),g=Math.min(a.height,j);break;case no:F=a.width,j=a.height;break;case Ys:case Pv:ut===Ys?(F*=ut=Math.min(a.height/j,a.width/F),j*=ut):ut===Pv&&((F*=ut=Math.max(a.height/j,a.width/F))>=a.width&&(h=(h+xt.offsetX+(F*xt.x-a.width*xt.x)/F)*_),(j*=ut)>=a.height&&(c=(c+xt.offsetY+(j*xt.y-a.height*xt.y)/j)*g),_*=1/(F/a.width),g*=1/(j/a.height),F=a.width,j=a.height)}var pt=F*(ut=this.Af()*e.scale)*j*ut,Pt=_*g/pt,Xt=o.__goCache;if(ut=null,o.ls&&void 0!==Xt&&4<pt&&Pt>b*b)for(null===Xt.cj&&(O(Xt,4,k,P,o),O(Xt,16,k,P,o)),P=(k=Xt.cj).length,pt=0;pt<P&&k[pt].ratio*k[pt].ratio<Pt;pt++)ut=k[pt];if(!e.rl){if(null===this.nm)if(null===this.Zg)this.nm=!1;else{(k=new Ma(null).context).drawImage(this.Zg,0,0);try{k.getImageData(0,0,1,1).data[3]&&(this.nm=!1),this.nm=!1}catch(ie){this.nm=!0}}if(this.nm)return}switch(k=0,F<a.width&&(k=xt.offsetX+(a.width*xt.x-F*xt.x)),P=0,j<a.height&&(P=xt.offsetY+(a.height*xt.y-j*xt.y)),this.flip){case kc:t.translate(Math.min(a.width,F),0),t.scale(-1,1);break;case Ec:t.translate(0,Math.min(a.height,j)),t.scale(1,-1);break;case ha:t.translate(Math.min(a.width,F),Math.min(a.height,j)),t.scale(-1,-1)}if(e.Ke("pictureRatioOptimization")&&!e.yi&&void 0!==Xt&&null!==ut&&1!==ut.ratio){t.save(),e=ut.ratio;try{t.drawImage(ut.source,h/e,c/e,Math.min(ut.source.width,_/e),Math.min(ut.source.height,g/e),k,P,Math.min(a.width,F),Math.min(a.height,j))}catch(ie){this.Yr=!1}t.restore()}else try{t.drawImage(o,h,c,_,g,k,P,Math.min(a.width,F),Math.min(a.height,j))}catch(ie){this.Yr=!1}switch(this.flip){case kc:t.scale(-1,1),t.translate(-Math.min(a.width,F),0);break;case Ec:t.scale(1,-1),t.translate(0,-Math.min(a.height,j));break;case ha:t.scale(-1,-1),t.translate(-Math.min(a.width,F),-Math.min(a.height,j))}}}}},ta.prototype.Hm=function(t,e,o,a){var h=this.desiredSize,c=Ol(this,!0),g=this.Zg,_=this.uo;(_||!this.Ol&&g&&g.complete)&&(this.Ol=!0),null===g&&(isFinite(h.width)||(t=0),isFinite(h.height)||(e=0)),isFinite(h.width)||c===no||c===ho?(isFinite(t)||(t=this.sourceRect.o()?this.sourceRect.width:_?+g.width:g.naturalWidth),o=0):null!==g&&!1!==this.Ol&&(t=this.sourceRect.o()?this.sourceRect.width:_?+g.width:g.naturalWidth),isFinite(h.height)||c===no||c===Vs?(isFinite(e)||(e=this.sourceRect.o()?this.sourceRect.height:_?+g.height:g.naturalHeight),a=0):null!==g&&!1!==this.Ol&&(e=this.sourceRect.o()?this.sourceRect.height:_?+g.height:g.naturalHeight),isFinite(h.width)&&(t=h.width),isFinite(h.height)&&(e=h.height),h=this.maxSize,c=this.minSize,o=Math.max(o,c.width),a=Math.max(a,c.height),t=Math.min(h.width,t),e=Math.min(h.height,e),t=Math.max(o,t),e=Math.max(a,e),null===g||g.complete||(isFinite(t)||(t=0),isFinite(e)||(e=0)),Re(this.rc,t,e),th(this,0,0,t,e)},ta.prototype.Ih=function(t,e,o,a){Rv(this,t,e,o,a)},X.Object.defineProperties(ta.prototype,{element:{get:function(){return this.Zg},set:function(t){var e=this.Zg;if(e!==t){this.uo=t instanceof HTMLCanvasElement;var o=t instanceof HTMLImageElement;e instanceof HTMLImageElement&&Pd(e),null===t||o||t instanceof HTMLVideoElement||this.uo||z("Picture.element must be an instance of Image, Canvas, or Video, not: "+t);var a=this.diagram;null!==a&&Nm(a,this),this.Zg=t,null!==t&&o&&void 0===t.Wg&&(t.Wg=new Ht),null!==a&&o&&kf(a,this),null!==t&&(this.uo||!0===t.complete?(t.io&&(t.ro instanceof Event&&null!==this.ld?this.ld(this,t.ro):!0===t.ls&&!t.ro&&null!==this.xh&&t.ov&&this.xh(this,t.ov)),t.ls=!0,this.desiredSize.o()||(ja(this,!1),this.s())):o&&dw(this,t)),this.g("element",e,t),this.M()}}},source:{get:function(){return this.$p},set:function(t){var e=this.$p;if(e!==t){this.$p=t;var o=w;if(gl){var a=null;if(void 0!==o[t])a=o[t];else if(""!==t){30<d&&(gu(),o=w),(a=J("img")).io=!0,dw(this,a);var h=this.gm;null!==h&&(a.crossOrigin=h(this)),a.src=t,o[t]=a,d++}this.element=a,null!==a&&void 0===a.__goCache&&(a.__goCache=new D),this.s(),this.M()}this.g("source",e,t)}}},sourceCrossOrigin:{get:function(){return this.gm},set:function(t){if(this.gm!==t&&(this.gm=t,null!==this.element)){var e=this.element.getAttribute("src");null===t&&"string"==typeof e?this.element.crossOrigin=null:null!==t&&(this.element.crossOrigin=t(this)),this.element.src=e}}},sourceRect:{get:function(){return this.th},set:function(t){var e=this.th;e.w(t)||(this.th=t=t.H(),this.M(),this.g("sourceRect",e,t))}},imageStretch:{get:function(){return this.yl},set:function(t){var e=this.yl;e!==t&&(this.yl=t,this.M(),this.g("imageStretch",e,t))}},flip:{get:function(){return this.Td},set:function(t){var e=this.Td;e!==t&&(this.Td=t,this.M(),this.g("flip",e,t))}},imageAlignment:{get:function(){return this.xl},set:function(t){var e=this.xl;e.w(t)||(this.xl=t=t.H(),this.M(),this.g("imageAlignment",e,t))}},errorFunction:{get:function(){return this.ld},set:function(t){var e=this.ld;e!==t&&(this.ld=t,this.g("errorFunction",e,t))}},successFunction:{get:function(){return this.xh},set:function(t){var e=this.xh;e!==t&&(this.xh=t,this.g("successFunction",e,t))}},naturalBounds:{get:function(){return this.rc}}}),ta.prototype.redraw=ta.prototype.redraw,ta.prototype.reloadSource=ta.prototype.QA;var w=null,d=0,b=4;function D(){this.cj=null}function O(t,e,o,a,h){null===t.cj&&(t.cj=[]);var c=new Ma(null),g=c.context,_=1/e;c.width=o/e,c.height=a/e,0!==c.width&&0!==c.height&&(e=new N(c.Ja,e),o=1,0<t.cj.length&&(h=(o=t.cj[t.cj.length-1]).source,o=o.ratio),g.setTransform(_*o,0,0,_*o,0,0),g.drawImage(h,0,0),t.cj.push(e))}function N(t,e){this.source=t,this.ratio=e}function L(){this.Kt=new xn,this.ic=null}function tt(t,e,o,a,h){t.ic=new as,t.ic.startX=e,t.ic.startY=o,t.ic.isFilled=a,t.Kt.figures.add(t.ic),void 0!==h&&(t.ic.isShadowed=h)}function ht(t){var e=t.ic.segments.length;0<e&&t.ic.segments.J(e-1).close()}function ot(t,e,o,a,h,c,g){var _;void 0===_&&(_=!1);var k=new Gn(Xo);k.point1X=e,k.point1Y=o,k.point2X=a,k.point2Y=h,k.endX=c,k.endY=g,_&&k.close(),t.ic.segments.add(k)}function mt(t,e,o,a,h){var c;void 0===c&&(c=!1);var g=new Gn(La);g.point1X=e,g.point1Y=o,g.endX=a,g.endY=h,c&&g.close(),t.ic.segments.add(g)}function Mt(t,e,o,a,h,c,g,_){var k;void 0===k&&(k=!1),e=new Gn(sa,g,_,e,o,a,h,c),k&&e.close(),t.ic.segments.add(e)}function Ot(t){var e=jt;return null!==e?(jt=null,e.reset(t),e):((e=new L).reset(t),e)}ta.className="Picture",w=new At,ta.clearCache=gu,D.className="PictureCacheArray",N.className="PictureCacheInstance",L.prototype.reset=function(t){null!==t?(t.ea(),this.Kt=t,t.figures.clear()):this.Kt=new xn,this.ic=null},L.prototype.Ym=function(t){this.ic.isShadowed=t},L.prototype.moveTo=function(t,e,o){void 0===o&&(o=!1);var a=new Gn(Gr);a.endX=t,a.endY=e,o&&a.close(),this.ic.segments.add(a)},L.prototype.lineTo=function(t,e,o){void 0===o&&(o=!1);var a=new Gn(yo);a.endX=t,a.endY=e,o&&a.close(),this.ic.segments.add(a)},L.prototype.arcTo=function(t,e,o,a,h,c,g){void 0===c&&(c=0),void 0===g&&(g=!1);var _=new Gn(Wn);_.startAngle=t,_.sweepAngle=e,_.centerX=o,_.centerY=a,_.radiusX=h,_.radiusY=0!==c?c:h,g&&_.close(),this.ic.segments.add(_)};var jt=null;function Gt(t,e){var o=t.toLowerCase(),a=pe.Qe;a[t]=e,a[o]=t}function Nt(t){qe.call(this,t),this.D=2408959,this.ih=this.Nf="",this.Gp=this.Cp=this.Rp=this.Ho=null,this.Tp="",this.Lf=this.so=this.Sp=this.sh=null,this.Ep="",this.Dp=De,this.Ub=this.Hp="",this.Fi=this.An=this.mi=null,this.dg=new rt(NaN,NaN).freeze(),this.Oo="",this.cf=null,this.Po=gr,this.Ip=zs,this.Yo=Xi,this.Qo=vi,this.Sn=null,this.Io=127,this.Xp=_i,this.Wp="gray",this.ug=4,this.zx=-1,this.tq=NaN,this.ez=new te,this.Xj=null,this.kh=NaN}function Jt(t){0!=(16384&t.D)&&(t.updateAdornments(),t.D&=-16385)}function ae(t){if(!1===Ue(t)){Ne(t,!0),t.Fl();var e=t.diagram;null!==e&&(e.wd.add(t),e.Db())}}function le(t){if(t.D|=2097152,!1!==Ue(t)){var e=t.position,o=t.location;o.o()&&e.o()||He(t,e,o),o=t.xb;var a=te.alloc().assign(o);o.ea(),o.x=e.x,o.y=e.y,o.freeze(),t.Im(a,o),te.free(a),Ne(t,!1)}}function xe(t,e){var o=t.ez;isNaN(t.kh)&&(t.kh=n_(t));var a=t.kh,h=2*a;if(!t.isShadowed)return o.h(e.x-1-a,e.y-1-a,e.width+2+h,e.height+2+h),o;a=e.x,h=e.y;var c=e.width;e=e.height;var g=t.shadowBlur;return c+=g,e+=g,a-=g/2,h-=g/2,0<(t=t.shadowOffset).x?c+=t.x:(a+=t.x,c-=t.x),0<t.y?e+=t.y:(h+=t.y,e-=t.y),o.h(a-1,h-1,c+2,e+2),o}function Ve(t,e,o,a){null===e||t instanceof li||(e=e.animationManager).ef&&xv(e,t,a.copy(),o.copy())}function He(t,e,o){var a=rt.alloc(),h=t.locationSpot,c=t.locationObject;h.nc()&&z("determineOffset: Part's locationSpot must be real: "+h.toString());var g=c.naturalBounds,_=c instanceof Qi?c.strokeWidth:0;if(a.Uk(0,0,g.width+_,g.height+_,h),c!==t)for(a.offset(-_/2,-_/2),c.transform.ta(a),h=c.panel;null!==h&&h!==t;)h.transform.ta(a),h=h.panel;t.cg.ta(a),a.offset(-t.qc.x,-t.qc.y),h=t.diagram,c=o.o(),g=e.o(),c&&g?0!=(2097152&t.D)?ge(t,e,o,h,a):ze(t,e,o,h,a):c?ge(t,e,o,h,a):g&&ze(t,e,o,h,a),t.D|=2097152,rt.free(a),t.Fl()}function ge(t,e,o,a,h){var c=e.x,g=e.y;e.h(o.x-h.x,o.y-h.y),null!==a&&((a=(o=a.animationManager).defaultAnimation.isAnimating)||!o.ef||t instanceof li||xv(o,t,new rt(c,g),e),a||e.x===c&&e.y===g||t.g("position",new rt(c,g),e.copy()))}function ze(t,e,o,a,h){var c=o.copy();o.h(e.x+h.x,e.y+h.y),o.w(c)||null===a||t.g("location",c,o.copy())}function Me(t,e,o){Je(t,!1),t instanceof Fe&&bp(o,t),t.layer.isTemporary||e||o.Na(),e=t.xb;var a=o.viewportBounds;a.o()?Be(t)?(si(e,a)||t.Nd(!1),t.updateAdornments()):e.Mc(a)?(t.Nd(!0),t.updateAdornments()):t.Lb():o.xi=!0}function Ye(t,e,o,a){e.constructor===t.constructor||Ai||(Ai=!0,lt('Should not change the class of the Part when changing category from "'+o+'" to "'+a+'"'),lt("  Old class: "+y(t.constructor)+", new class: "+y(e.constructor)+", part: "+t.toString())),t.nk();var h=t.data;o=t.layerName;var c=t.isSelected,g=t.isHighlighted,_=!0,k=!0,P=!1;t instanceof Fe&&(_=t.isTreeLeaf,k=t.isTreeExpanded,P=t.wasTreeExpanded),e.yf(t),e.cloneProtected(t),t.Nf=a,t.s(),t.M(),a=!0,null!==(e=t.diagram)&&(a=e.skipsUndoManager,e.skipsUndoManager=!0),t.ob=h,t.D=c?4096|t.D:-4097&t.D,t.D=g?524288|t.D:-524289&t.D,t instanceof Fe&&(t.P=_?4|t.P:-5&t.P,t.P=k?1|t.P:-2&t.P,t.P=P?2|t.P:-3&t.P),null!==h&&t.Ea(),(h=t.layerName)!==o&&(t.ih=o,t.layerName=h),null!==e&&(e.skipsUndoManager=a),t.Nc()&&t.C(64)}function Ue(t){return 0!=(32768&t.D)}function Ne(t,e){t.D=e?32768|t.D:-32769&t.D}function Je(t,e){t.D=e?65536|t.D:-65537&t.D}function Be(t){return 0!=(131072&t.D)}function wi(t,e){t.D=e?1048576|t.D:-1048577&t.D}function fi(t,e){var o=e.containingGroup;return null!==o?1+fi(t,o):e instanceof Fe&&null!==(e=e.labeledLink)?fi(t,e):0}function bi(t,e){var o=e.containingGroup;return null!==o||e instanceof Fe&&null!==(o=e.labeledLink)?bi(t,o):e}function pi(t,e,o){if(e===o||null===o)return!1;var a=e.containingGroup;return!(null===a||a!==o&&!pi(t,a,o))||e instanceof Fe&&null!==(e=e.labeledLink)&&pi(t,e,o)}function yi(t){return!(!t.isVisible()||null!==(t=t.layer)&&t.isTemporary)}function Fi(t,e,o,a,h,c){if(void 0===c&&(c=null),!(t.contains(e)||null!==c&&!c(e)||e instanceof li))if(t.add(e),e instanceof Fe){if(o&&e instanceof hi)for(var g=e.memberParts;g.next();)Fi(t,g.value,o,a,h,c);if(!1!==h)for(g=e.linksConnected;g.next();){var _=g.value;if(!t.contains(_)){var k=_.fromNode,P=_.toNode;k=null===k||t.contains(k),P=null===P||t.contains(P),(h?k&&P:k||P)&&Fi(t,_,o,a,h,c)}}if(1<a)for(e=e.Wv();e.next();)Fi(t,e.value,o,a-1,h,c)}else if(e instanceof We)for(e=e.labelNodes;e.next();)Fi(t,e.value,o,a,h,c)}L.className="StreamGeometryContext",Gt("Rectangle",function(t,e,o){var a=pe.Uh[t="r"+e+","+o];return void 0!==a||((a=new xn(fs)).endX=e,a.endY=o,50>pe.Vh&&(pe.Uh[t]=a,pe.Vh++)),a}),Gt("Square",function(t,e,o){var a=pe.Uh[t="s"+e+","+o];return void 0!==a||((a=new xn(fs)).endX=e,a.endY=o,a.defaultStretch=Ys,50>pe.Vh&&(pe.Uh[t]=a,pe.Vh++)),a}),Gt("RoundedRectangle",function(t,e,o){var a=t?t.parameter1:NaN;return(isNaN(a)||0>a)&&(a=5),a=Math.min(a,e/3),t=(a=Math.min(a,o/3))*pe.Kg,e=(new xn).add(new as(a,0,!0).add(new Gn(yo,e-a,0)).add(new Gn(Xo,e,a,e-t,0,e,t)).add(new Gn(yo,e,o-a)).add(new Gn(Xo,e-a,o,e,o-t,e-t,o)).add(new Gn(yo,a,o)).add(new Gn(Xo,0,o-a,t,o,0,o-t)).add(new Gn(yo,0,a)).add(new Gn(Xo,a,0,0,t,t,0).close())),1<t&&(e.spot1=new Ti(0,0,t,t),e.spot2=new Ti(1,1,-t,-t)),e}),Gt("Border","RoundedRectangle"),Gt("Ellipse",function(t,e,o){var a=pe.Uh[t="e"+e+","+o];return void 0!==a||((a=new xn(Nh)).endX=e,a.endY=o,a.spot1=Gx,a.spot2=Wx,50>pe.Vh&&(pe.Uh[t]=a,pe.Vh++)),a}),Gt("Circle",function(t,e,o){var a=pe.Uh[t="c"+e+","+o];return void 0!==a||((a=new xn(Nh)).endX=e,a.endY=o,a.spot1=Gx,a.spot2=Wx,a.defaultStretch=Ys,50>pe.Vh&&(pe.Uh[t]=a,pe.Vh++)),a}),Gt("TriangleRight",function(t,e,o){return(new xn).add(new as(0,0).add(new Gn(yo,e,.5*o)).add(new Gn(yo,0,o).close())).Zm(0,.25,.5,.75)}),Gt("TriangleDown",function(t,e,o){return(new xn).add(new as(0,0).add(new Gn(yo,e,0)).add(new Gn(yo,.5*e,o).close())).Zm(.25,0,.75,.5)}),Gt("TriangleLeft",function(t,e,o){return(new xn).add(new as(e,o).add(new Gn(yo,0,.5*o)).add(new Gn(yo,e,0).close())).Zm(.5,.25,1,.75)}),Gt("TriangleUp",function(t,e,o){return(new xn).add(new as(e,o).add(new Gn(yo,0,o)).add(new Gn(yo,.5*e,0).close())).Zm(.25,.5,.75,1)}),Gt("Triangle","TriangleUp"),Gt("Diamond",function(t,e,o){return(new xn).add(new as(.5*e,0).add(new Gn(yo,0,.5*o)).add(new Gn(yo,.5*e,o)).add(new Gn(yo,e,.5*o).close())).Zm(.25,.25,.75,.75)}),Gt("LineH",function(t,e,o){return(t=new xn(Lo)).startX=0,t.startY=o/2,t.endX=e,t.endY=o/2,t}),Gt("LineV",function(t,e,o){return(t=new xn(Lo)).startX=e/2,t.startY=0,t.endX=e/2,t.endY=o,t}),Gt("None","Rectangle"),Gt("BarH","Rectangle"),Gt("BarV","Rectangle"),Gt("MinusLine","LineH"),Gt("PlusLine",function(t,e,o){return(new xn).add(new as(0,o/2,!1).add(new Gn(yo,e,o/2)).add(new Gn(Gr,e/2,0)).add(new Gn(yo,e/2,o)))}),Gt("XLine",function(t,e,o){return(new xn).add(new as(0,o,!1).add(new Gn(yo,e,0)).add(new Gn(Gr,0,0)).add(new Gn(yo,e,o)))}),pe.dn={"":"",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z"},et(Nt,qe),Nt.prototype.cloneProtected=function(t){qe.prototype.cloneProtected.call(this,t),t.D=-4097&this.D|49152,t.Nf=this.Nf,t.ih=this.ih,t.Ho=this.Ho,t.Rp=this.Rp,t.Cp=this.Cp,t.Gp=this.Gp,t.Tp=this.Tp,t.Sp=this.Sp,t.so=this.so,t.Lf=null,t.Ep=this.Ep,t.Dp=this.Dp.H(),t.Hp=this.Hp,t.Ip=this.Ip.H(),t.Ub=this.Ub,t.An=this.An,t.dg.assign(this.dg),t.Oo=this.Oo,t.Po=this.Po.H(),t.Yo=this.Yo.H(),t.Qo=this.Qo.H(),t.Sn=this.Sn,t.Io=this.Io,t.Xp=this.Xp.H(),t.Wp=this.Wp,t.ug=this.ug,t.tq=this.tq},Nt.prototype.yf=function(t){qe.prototype.yf.call(this,t),t.Oh(),t.sh=null,t.cf=null,t.Xj=null},Nt.prototype.toString=function(){var t=y(this.constructor)+"#"+be(this);return null!==this.data&&(t+="("+v(this.data)+")"),t},Nt.prototype.Sk=function(t,e,o,a,h,c,g){var _=this.diagram;null!==_&&(t===zo&&"elements"===e?h instanceof qe?Ju(h,function(k){x_(_.partManager,k),Ev(_,k)}):kf(_,h):t===gn&&"elements"===e&&(h instanceof qe?Ju(h,function(k){_w(_.partManager,k,_)}):Nm(_,h)),_.Va(t,e,o,a,h,c,g))},Nt.prototype.Ea=function(t){if(qe.prototype.Ea.call(this,t),null!==this.data){for(var e=this.W.j,o=e.length,a=0;a<o;a++){var h=e[a];h instanceof qe&&Ju(h,function(c){null!==c.data&&c.Ea()})}for(e=this.adornments;e.next();)e.value.Ea(t)}},Nt.prototype.updateRelationshipsFromData=function(){null!==this.data&&this.diagram.partManager.updateRelationshipsFromData(this)},Nt.prototype.wk=function(t){var e=this.Lf;return null===e?null:e.G(t)},Nt.prototype.Gh=function(t,e){if(null!==e){var o=null,a=this.Lf;if(null!==a&&(o=a.G(t)),o!==e){if(null!==o){var h=o.diagram;null!==h&&h.remove(o)}null===a&&(this.Lf=a=new gt),e.Nf!==t&&(e.category=t),a.add(t,e),null!==(t=this.diagram)&&(t.add(e),null!==(t=e.adornedObject)&&null!==(t=t.ij())&&(e.data=t.data))}}},Nt.prototype.Hf=function(t){var e=this.Lf;if(null!==e){var o=e.G(t);if(null!==o){var a=o.diagram;null!==a&&a.remove(o)}e.remove(t),0===e.count&&(this.Lf=null)}},Nt.prototype.nk=function(){var t=this.Lf;if(null!==t){var e=u();for(t=t.iterator;t.next();)e.push(t.key);t=e.length;for(var o=0;o<t;o++)this.Hf(e[o]);m(e)}},Nt.prototype.updateAdornments=function(){var t=this.diagram;if(null!==t){for(var e=this.adornments;e.next();){var o=e.value;o.s(),o.placeholder&&o.placeholder.s()}t:{if(this.isSelected&&this.selectionAdorned&&null!==(e=this.selectionObject)&&this.actualBounds.o()&&this.isVisible()&&e.Gf()&&e.actualBounds.o()){if(null===(o=this.wk("Selection"))){if(null===(o=this.selectionAdornmentTemplate)&&(o=this.Ph()?t.linkSelectionAdornmentTemplate:this instanceof hi?t.groupSelectionAdornmentTemplate:t.nodeSelectionAdornmentTemplate),!(o instanceof li))break t;Ea(o),null!==(o=o.copy())&&(this.Ph()&&this.selectionObject===this.path&&(o.type=qe.Link),o.adornedObject=e)}if(null!==o){o.type===qe.Link&&o.s(),this.Gh("Selection",o);break t}}this.Hf("Selection")}for(function(t,e){e.toolManager.mouseDownTools.each(function(o){o.isEnabled&&o.updateAdornments(t)}),e.toolManager.updateAdornments(t)}(this,t),e=this.adornments;e.next();)e.value.Ea()}},Nt.prototype.Lb=function(){var t=this.diagram;null!==t&&(zh(t),0==(16384&this.D)&&(this.D|=16384,t.Db()))},Nt.prototype.move=function(t,e){!0===e?this.location=t:this.position=t},Nt.prototype.moveTo=function(t,e,o){t=rt.allocAt(t,e),this.move(t,o),rt.free(t)},Nt.prototype.isVisible=function(){if(!this.visible)return!1;var t=this.layer;if(null!==t){if(!t.visible)return!1;if(null!==(t=t.diagram)&&t.animationManager.cu(this))return!0}return!!(null===(t=this.containingGroup)||t.isSubGraphExpanded&&t.isVisible())},(st=Nt.prototype).Ob=function(t){var e=this.diagram;t?(this.C(4),this.Lb(),null!==e&&e.wd.add(this)):(this.C(8),this.nk()),this.Oh(),null!==e&&(e.Na(),e.M())},st.bb=function(t){if(this.name===t)return this;var e=this.Xj;if(null===e&&(this.Xj=e=new gt),null!==e.G(t))return e.G(t);var o=qe.prototype.bb.call(this,t);return null!==o?(e.set(t,o),o):(e.set(t,null),null)},st.Df=function(t,e,o){void 0===o&&(o=new rt),e=e.nc()?Hi:e;var a=t.naturalBounds;if(o.h(a.width*e.x+e.offsetX,a.height*e.y+e.offsetY),null===t||t===this)return o;for(t.transform.ta(o),t=t.panel;null!==t&&t!==this;)t.transform.ta(o),t=t.panel;return this.cg.ta(o),o.offset(-this.qc.x,-this.qc.y),o},st.mj=function(t){return void 0===t&&(t=new te),t.assign(this.actualBounds)},st.Ta=function(){!0===Pc(this)&&this.measure(1/0,1/0),this.arrange()},Nt.prototype.arrange=function(){if(!1===nl(this))le(this);else{Wh(this,!1);var t=this.xb,e=te.alloc();e.assign(t);var o=Be(this);this.Ih(0,0,this.qc.width,this.qc.height);var a=this.position;He(this,a,this.location),t.ea(),t.x=a.x,t.y=a.y,t.freeze(),this.Im(e,t),e.w(t)?this.Nd(o):!this.Nc()||pe.A(e.width,t.width)&&pe.A(e.height,t.height)||0<=this.zx&&this.C(16),te.free(e),Ne(this,!1)}},(st=Nt.prototype).Im=function(t,e){var o=this.diagram;if(null!==o){var a=!1;if(!1===o.vi&&t.o()){var h=te.alloc();h.assign(o.documentBounds),h.Jw(o.padding),t.x>h.x&&t.y>h.y&&t.right<h.right&&t.bottom<h.bottom&&e.x>h.x&&e.y>h.y&&e.right<h.right&&e.bottom<h.bottom&&(a=!0),te.free(h)}0==(65536&this.D)&&t.w(e)||Me(this,a,o),o.M(),!t.o()&&!e.o()||di(t,e)||(this instanceof Fe&&!o.undoManager.isUndoingRedoing&&this.sd(),this.Oh())}},st.Ew=function(t,e){if(this.Ph()||!t.o())return!1;var o=this.diagram;null!==o&&Ve(this,o,t,e),this.la=t,this.D&=-2097153;var a=this.dg;return!a.o()||null!==o&&!o.animationManager.isTicking&&o.undoManager.isUndoingRedoing||(o=a.copy(),a.h(a.x+(t.x-e.x),a.y+(t.y-e.y)),this.g("location",o,a.copy())),!1===Ue(this)&&!1===nl(this)&&(ae(this),le(this)),!0},st.er=function(t,e,o){var a=this.dg,h=this.la;if(o){if(a.x===t&&a.y===e)return;Ue(this)||nl(this)?h.h(NaN,NaN):h.h(h.x+t-a.x,h.y+e-a.y),a.h(t,e)}else{if(h.x===t&&h.y===e)return;Ue(this)||nl(this)?this.lu():a.h(a.x+t-h.x,a.y+e-h.y),h.h(t,e)}ae(this)},st.lu=function(){this.D&=-2097153,ae(this)},st.rj=function(){return!0},st.Nc=function(){return!0},st.Ph=function(){return!1},st.Ff=function(){return!0},Nt.prototype.canCopy=function(){if(!this.copyable)return!1;var t=this.layer;return null===t||!!t.allowCopy&&(null===(t=t.diagram)||!!t.allowCopy)},Nt.prototype.canDelete=function(){if(!this.deletable)return!1;var t=this.layer;return null===t||!!t.allowDelete&&(null===(t=t.diagram)||!!t.allowDelete)},Nt.prototype.canEdit=function(){if(!this.textEditable)return!1;var t=this.layer;return null===t||!!t.allowTextEdit&&(null===(t=t.diagram)||!!t.allowTextEdit)},Nt.prototype.canGroup=function(){if(!this.groupable)return!1;var t=this.layer;return null===t||!!t.allowGroup&&(null===(t=t.diagram)||!!t.allowGroup)},Nt.prototype.canMove=function(){if(!this.movable)return!1;var t=this.layer;return null===t||!!t.allowMove&&(null===(t=t.diagram)||!!t.allowMove)},Nt.prototype.canReshape=function(){if(!this.reshapable)return!1;var t=this.layer;return null===t||!!t.allowReshape&&(null===(t=t.diagram)||!!t.allowReshape)},Nt.prototype.canResize=function(){if(!this.resizable)return!1;var t=this.layer;return null===t||!!t.allowResize&&(null===(t=t.diagram)||!!t.allowResize)},Nt.prototype.canRotate=function(){if(!this.rotatable)return!1;var t=this.layer;return null===t||!!t.allowRotate&&(null===(t=t.diagram)||!!t.allowRotate)},Nt.prototype.canSelect=function(){if(!this.selectable)return!1;var t=this.layer;return null===t||!!t.allowSelect&&(null===(t=t.diagram)||!!t.allowSelect)},(st=Nt.prototype).Nd=function(t){this.D=t?131072|this.D:-131073&this.D},st.Oh=function(){var t=this.containingGroup;null!==t&&(t.s(),null!==t.placeholder&&t.placeholder.s(),t.sd())},st.M=function(){var t=this.diagram;null!==t&&!nl(this)&&!Ue(this)&&this.isVisible()&&this.xb.o()&&t.M(xe(this,this.xb))},st.s=function(){qe.prototype.s.call(this);var t=this.diagram;null!==t&&(t.wd.add(this),this instanceof Fe&&null!==this.labeledLink&&uu(this.labeledLink),t.Db(!0))},st.Mq=function(t){t||null!==(t=this.mi)&&Pe(t,this)},st.Nq=function(t){t||null!==(t=this.mi)&&Ri(t,this)},st.uk=function(){var t=this.data;if(null!==t){var e=this.diagram;null!==e&&null!==(e=e.model)&&e.Nm(t)}},st.bA=function(){return fi(this,this)},st.eA=function(){return bi(this,this)},st.Kd=function(t){return t instanceof hi&&pi(this,this,t)},st.oy=function(t){if(null===t)return null;if(this===t)return this.containingGroup;for(var e=this;null!==e;){if(e instanceof hi&&wi(e,!0),e instanceof Fe){var o=e.labeledLink;null!==o&&(e=o)}e=e.containingGroup}for(o=null,e=t;null!==e;){if(0!=(1048576&e.D)){o=e;break}e instanceof Fe&&null!==(t=e.labeledLink)&&(e=t),e=e.containingGroup}for(e=this;null!==e;)e instanceof hi&&wi(e,!1),e instanceof Fe&&null!==(t=e.labeledLink)&&(e=t),e=e.containingGroup;return o},Nt.prototype.canLayout=function(){if(!this.isLayoutPositioned||!this.isVisible())return!1;var t=this.layer;return!(null!==t&&t.isTemporary||this instanceof Fe&&this.isLinkLabel)},Nt.prototype.C=function(t){if(void 0===t&&(t=16777215),this.isLayoutPositioned&&0!=(t&this.layoutConditions)){var e=this.layer;e=!(null!==e&&e.isTemporary||this instanceof Fe&&this.isLinkLabel)&&!(null!==(e=this.diagram)&&e.undoManager.isUndoingRedoing)}else e=!1;if(e)if(null!==(e=this.mi)){var o=e.layout;null!==o?o.C():e.C(t)}else null!==(t=this.diagram)&&null!==(t=t.layout)&&t.C()},X.Object.defineProperties(Nt.prototype,{key:{get:function(){var t=this.diagram;if(null!==t)return t.model.ja(this.data)}},adornments:{get:function(){return null===this.Lf?Rt:this.Lf.iteratorValues}},layer:{get:function(){return this.Fi}},diagram:{get:function(){var t=this.Fi;return null!==t?t.diagram:null}},layerName:{get:function(){return this.ih},set:function(t){var e=this.ih;if(e!==t){var o=this.diagram;if((null===o||null!==o.xk(t)&&!o.partManager.addsToTemporaryLayer)&&(this.ih=t,null!==o&&o.Na(),this.g("layerName",e,t),null!==(e=this.layer)&&e.name!==t&&null!==(o=e.diagram)&&null!==(t=o.xk(t))&&t!==e)){var a=e.Lc(-1,this,!0);if(0<=a&&o.Va(gn,"parts",e,this,null,a,!0),a=t.oj(99999999,this,!0),e.visible!==t.visible&&this.Ob(t.visible),0<=a&&o.Va(zo,"parts",t,null,this,!0,a),null!==(a=this.layerChanged)){var h=o.Z;o.Z=!0,a(this,e,t),o.Z=h}}}}},layerChanged:{get:function(){return this.Ho},set:function(t){var e=this.Ho;e!==t&&(this.Ho=t,this.g("layerChanged",e,t))}},zOrder:{get:function(){return this.tq},set:function(t){var e=this.tq;if(e!==t){this.tq=t;var o=this.layer;null!==o&&Fh(o,-1,this),this.g("zOrder",e,t),null!==(t=this.diagram)&&t.M()}}},locationObject:{get:function(){if(null===this.cf){var t=this.locationObjectName;""!==t?(t=this.bb(t),this.cf=null!==t?t:this):this.cf=this instanceof li&&this.type!==qe.Link&&null!==this.placeholder?this.placeholder:this}return this.cf.visible?this.cf:this}},minLocation:{get:function(){return this.Yo},set:function(t){var e=this.Yo;e.w(t)||(this.Yo=t=t.H(),this.g("minLocation",e,t))}},maxLocation:{get:function(){return this.Qo},set:function(t){var e=this.Qo;e.w(t)||(this.Qo=t=t.H(),this.g("maxLocation",e,t))}},locationObjectName:{get:function(){return this.Oo},set:function(t){var e=this.Oo;e!==t&&(this.Oo=t,this.cf=null,this.s(),this.g("locationObjectName",e,t))}},locationSpot:{get:function(){return this.Po},set:function(t){var e=this.Po;e.w(t)||(this.Po=t=t.H(),this.s(),this.g("locationSpot",e,t))}},location:{get:function(){return this.dg},set:function(t){var e=t.x,o=t.y,a=this.dg,h=a.x,c=a.y;(h===e||isNaN(h)&&isNaN(e))&&(c===o||isNaN(c)&&isNaN(o))||(e=t=t.copy(),this.Ph()?e=!1:(this.dg=e,this.D|=2097152,!1===nl(this)&&(ae(this),(o=this.la).o()&&(null===(h=this.diagram)||h.animationManager.isTicking||!h.undoManager.isUndoingRedoing))&&(c=o.copy(),o.h(o.x+(e.x-a.x),o.y+(e.y-a.y)),Ve(this,h,o,c),this.g("position",c,o.copy())),e=!0),e&&this.g("location",a.copy(),t.copy()))}},category:{get:function(){return this.Nf},set:function(t){var e=this.Nf;if(e!==t){var o=this.diagram,a=this.data,h=null;if(null!==o&&null!==a&&!(this instanceof li)){var c=o.model.undoManager;c.isEnabled&&!c.isUndoingRedoing&&(h=this.clone()).W.addAll(this.W)}this.Nf=t,this.g("category",e,t),null===o||null===a||this instanceof li?this instanceof li&&null!==(h=this.adornedPart)&&(null!==(t=h.Lf)&&t.remove(e),h.Gh(this.category,this)):(c=o.model).undoManager.isUndoingRedoing||(this.Ph()?(o.partManager.setLinkCategoryForData(a,t),null!==(o=o.partManager.findLinkTemplateForCategory(t))&&(Ea(o),null!==(o=o.copy())&&Ye(this,o,e,t))):(null!==c&&c.Um(a,t),null!==(o=v_(o.partManager,a,t))&&(Ea(o),null===(o=o.copy())||o instanceof We||(a=this.location.copy(),Ye(this,o,e,t),this.location.o()||(this.location=a)))),null!==h&&((e=this.clone()).W.addAll(this.W),this.g("self",h,e)))}}},self:{get:function(){return this},set:function(t){Ye(this,t,this.category,t.category)}},copyable:{get:function(){return 0!=(1&this.D)},set:function(t){var e=0!=(1&this.D);e!==t&&(this.D^=1,this.g("copyable",e,t))}},deletable:{get:function(){return 0!=(2&this.D)},set:function(t){var e=0!=(2&this.D);e!==t&&(this.D^=2,this.g("deletable",e,t))}},textEditable:{get:function(){return 0!=(4&this.D)},set:function(t){var e=0!=(4&this.D);e!==t&&(this.D^=4,this.g("textEditable",e,t),this.Lb())}},groupable:{get:function(){return 0!=(8&this.D)},set:function(t){var e=0!=(8&this.D);e!==t&&(this.D^=8,this.g("groupable",e,t))}},movable:{get:function(){return 0!=(16&this.D)},set:function(t){var e=0!=(16&this.D);e!==t&&(this.D^=16,this.g("movable",e,t))}},selectionAdorned:{get:function(){return 0!=(32&this.D)},set:function(t){var e=0!=(32&this.D);e!==t&&(this.D^=32,this.g("selectionAdorned",e,t),this.Lb())}},isInDocumentBounds:{get:function(){return 0!=(64&this.D)},set:function(t){var e=0!=(64&this.D);if(e!==t){this.D^=64;var o=this.diagram;null!==o&&o.Na(),this.g("isInDocumentBounds",e,t)}}},isLayoutPositioned:{get:function(){return 0!=(128&this.D)},set:function(t){var e=0!=(128&this.D);e!==t&&(this.D^=128,this.g("isLayoutPositioned",e,t),this.C(t?4:8))}},selectable:{get:function(){return 0!=(256&this.D)},set:function(t){var e=0!=(256&this.D);e!==t&&(this.D^=256,this.g("selectable",e,t),this.Lb())}},reshapable:{get:function(){return 0!=(512&this.D)},set:function(t){var e=0!=(512&this.D);e!==t&&(this.D^=512,this.g("reshapable",e,t),this.Lb())}},resizable:{get:function(){return 0!=(1024&this.D)},set:function(t){var e=0!=(1024&this.D);e!==t&&(this.D^=1024,this.g("resizable",e,t),this.Lb())}},rotatable:{get:function(){return 0!=(2048&this.D)},set:function(t){var e=0!=(2048&this.D);e!==t&&(this.D^=2048,this.g("rotatable",e,t),this.Lb())}},isSelected:{get:function(){return 0!=(4096&this.D)},set:function(t){var e=0!=(4096&this.D);if(e!==t){var o=this.diagram;if(!t||this.canSelect()&&!(null!==o&&o.selection.count>=o.maxSelectionCount)){this.D^=4096;var a=!1;if(null!==o){a=o.skipsUndoManager,o.skipsUndoManager=!0;var h=o.selection;h.ea(),t?h.add(this):h.remove(this),h.freeze()}this.g("isSelected",e,t),this.Lb(),null!==(t=this.selectionChanged)&&t(this),null!==o&&(o.Db(),o.skipsUndoManager=a)}}}},isHighlighted:{get:function(){return 0!=(524288&this.D)},set:function(t){var e=0!=(524288&this.D);if(e!==t){this.D^=524288;var o=this.diagram;null!==o&&((o=o.highlighteds).ea(),t?o.add(this):o.remove(this),o.freeze()),this.g("isHighlighted",e,t),this.M(),null!==(t=this.highlightedChanged)&&t(this)}}},isShadowed:{get:function(){return 0!=(8192&this.D)},set:function(t){var e=0!=(8192&this.D);e!==t&&(this.D^=8192,this.g("isShadowed",e,t),this.M())}},isAnimated:{get:function(){return 0!=(262144&this.D)},set:function(t){var e=0!=(262144&this.D);e!==t&&(this.D^=262144,this.g("isAnimated",e,t))}},highlightedChanged:{get:function(){return this.so},set:function(t){var e=this.so;e!==t&&(this.so=t,this.g("highlightedChanged",e,t))}},selectionObjectName:{get:function(){return this.Tp},set:function(t){var e=this.Tp;e!==t&&(this.Tp=t,this.sh=null,this.g("selectionObjectName",e,t))}},selectionAdornmentTemplate:{get:function(){return this.Rp},set:function(t){var e=this.Rp;e!==t&&(this.Rp=t,this.g("selectionAdornmentTemplate",e,t))}},selectionObject:{get:function(){if(null===this.sh){var t=this.selectionObjectName;null!==t&&""!==t?(t=this.bb(t),this.sh=null!==t?t:this):this.sh=this instanceof We&&null!==(t=this.path)?t:this}return this.sh}},selectionChanged:{get:function(){return this.Sp},set:function(t){var e=this.Sp;e!==t&&(this.Sp=t,this.g("selectionChanged",e,t))}},resizeAdornmentTemplate:{get:function(){return this.Cp},set:function(t){var e=this.Cp;e!==t&&(this.Cp=t,this.g("resizeAdornmentTemplate",e,t))}},resizeObjectName:{get:function(){return this.Ep},set:function(t){var e=this.Ep;e!==t&&(this.Ep=t,this.g("resizeObjectName",e,t))}},resizeObject:{get:function(){var t=this.resizeObjectName;return""!==t&&null!==(t=this.bb(t))?t:this}},resizeCellSize:{get:function(){return this.Dp},set:function(t){var e=this.Dp;e.w(t)||(this.Dp=t=t.H(),this.g("resizeCellSize",e,t))}},rotateAdornmentTemplate:{get:function(){return this.Gp},set:function(t){var e=this.Gp;e!==t&&(this.Gp=t,this.g("rotateAdornmentTemplate",e,t))}},rotateObjectName:{get:function(){return this.Hp},set:function(t){var e=this.Hp;e!==t&&(this.Hp=t,this.g("rotateObjectName",e,t))}},rotateObject:{get:function(){var t=this.rotateObjectName;return""!==t&&null!==(t=this.bb(t))?t:this}},rotationSpot:{get:function(){return this.Ip},set:function(t){var e=this.Ip;e.w(t)||(this.Ip=t=t.H(),this.g("rotationSpot",e,t))}},text:{get:function(){return this.Ub},set:function(t){var e=this.Ub;e!==t&&(this.Ub=t,this.g("text",e,t))}},containingGroup:{get:function(){return this.mi},set:function(t){if(this.Nc()){var e=this.mi;if(e!==t){null===t||this!==t&&!t.Kd(this)||(this===t&&z("Cannot make a Group a member of itself: "+this.toString()),z("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+t.toString())),this.C(2);var o=this.diagram;if(null!==e?Ri(e,this):this instanceof hi&&null!==o&&o.Dh.remove(this),this.mi=t,null!==t?Pe(t,this):this instanceof hi&&null!==o&&o.Dh.add(this),this.C(1),null!==o&&o.Z){var a=this.data,h=o.model;if(null!==a&&h.Dk()){var c=h.ja(null!==t?t.data:null);h.dr(a,c)}}if(null!==(a=this.containingGroupChanged)&&(h=!0,null!==o&&(h=o.Z,o.Z=!0),a(this,e,t),null!==o&&(o.Z=h)),this instanceof hi)for(Fi(o=new Ht,this,!0,0,!0),o=o.iterator;o.next();)if((a=o.value)instanceof Fe)for(a=a.linksConnected;a.next();)en(a.value);if(this instanceof Fe){for(o=this.linksConnected;o.next();)en(o.value);null!==(o=this.labeledLink)&&en(o)}this.g("containingGroup",e,t),null!==t&&null!==(e=t.layer)&&Fh(e,-1,t)}}else z("cannot set the Part.containingGroup of a Link or Adornment")}},containingGroupChanged:{get:function(){return this.An},set:function(t){var e=this.An;e!==t&&(this.An=t,this.g("containingGroupChanged",e,t))}},isTopLevel:{get:function(){return!(null!==this.containingGroup||this instanceof Fe&&null!==this.labeledLink)}},layoutConditions:{get:function(){return this.Io},set:function(t){var e=this.Io;e!==t&&(this.Io=t,this.g("layoutConditions",e,t))}},dragComputation:{get:function(){return this.Sn},set:function(t){var e=this.Sn;e!==t&&(this.Sn=t,this.g("dragComputation",e,t))}},shadowOffset:{get:function(){return this.Xp},set:function(t){var e=this.Xp;e.w(t)||(this.Xp=t=t.H(),this.M(),this.g("shadowOffset",e,t))}},shadowColor:{get:function(){return this.Wp},set:function(t){var e=this.Wp;e!==t&&(this.Wp=t,this.M(),this.g("shadowColor",e,t))}},shadowBlur:{get:function(){return this.ug},set:function(t){var e=this.ug;e!==t&&(this.ug=t,this.M(),this.g("shadowBlur",e,t))}}}),Nt.prototype.invalidateLayout=Nt.prototype.C,Nt.prototype.findCommonContainingGroup=Nt.prototype.oy,Nt.prototype.isMemberOf=Nt.prototype.Kd,Nt.prototype.findTopLevelPart=Nt.prototype.eA,Nt.prototype.findSubGraphLevel=Nt.prototype.bA,Nt.prototype.ensureBounds=Nt.prototype.Ta,Nt.prototype.getDocumentBounds=Nt.prototype.mj,Nt.prototype.getRelativePoint=Nt.prototype.Df,Nt.prototype.findObject=Nt.prototype.bb,Nt.prototype.moveTo=Nt.prototype.moveTo,Nt.prototype.invalidateAdornments=Nt.prototype.Lb,Nt.prototype.clearAdornments=Nt.prototype.nk,Nt.prototype.removeAdornment=Nt.prototype.Hf,Nt.prototype.addAdornment=Nt.prototype.Gh,Nt.prototype.findAdornment=Nt.prototype.wk,Nt.prototype.updateTargetBindings=Nt.prototype.Ea;var Ai=!1;function li(t){Nt.call(this,t),this.D&=-257,this.ih="Adornment",this.ie=null,this.Ex=0,this.Sx=!1,this.l=t instanceof Jm?[]:Wi,this.Sa=null}Nt.className="Part",Nt.LayoutNone=0,Nt.LayoutAdded=1,Nt.LayoutRemoved=2,Nt.LayoutShown=4,Nt.LayoutHidden=8,Nt.LayoutNodeSized=16,Nt.LayoutGroupLayout=32,Nt.LayoutNodeReplaced=64,Nt.LayoutStandard=127,Nt.LayoutAll=16777215,et(li,Nt),li.prototype.toString=function(){var t=this.adornedPart;return"Adornment("+this.category+")"+(null!==t?t.toString():"")},li.prototype.updateRelationshipsFromData=function(){},li.prototype.Gk=function(t){var e=this.adornedObject.part;if(e instanceof We&&this.adornedObject instanceof Qi){var o=e.path;e.Gk(t),t=o.geometry,o=(e=this.W.j).length;for(var a=0;a<o;a++){var h=e[a];h.isPanelMain&&h instanceof Qi&&(h.na=t)}}},li.prototype.rj=function(){var t=this.ie;return null===t||null===(t=t.part)||!nl(t)},li.prototype.Nc=function(){return!1},li.prototype.Sk=function(t,e,o,a,h,c,g){if(t===zo&&"elements"===e){if(h instanceof Li)null===this.Sa&&(this.Sa=h);else if(h instanceof qe){var _=h.ym(function(k){return k instanceof Li});_ instanceof Li&&null===this.Sa&&(this.Sa=_)}}else t===gn&&"elements"===e&&null!==this.Sa&&(a===this.Sa||a instanceof qe&&this.Sa.Gg(a))&&(this.Sa=null);Nt.prototype.Sk.call(this,t,e,o,a,h,c,g)},li.prototype.updateAdornments=function(){},li.prototype.uk=function(){},X.Object.defineProperties(li.prototype,{placeholder:{get:function(){return this.Sa}},adornedObject:{get:function(){return this.ie},set:function(t){var e=this.adornedPart,o=null;null!==t&&(o=t.part),null===e||null!==t&&e===o||e.Hf(this.category),this.ie=t,null!==o&&o.Gh(this.category,this)}},adornedPart:{get:function(){var t=this.ie;return null!==t?t.part:null}},containingGroup:{get:function(){return null}}});var Wi=[];function Fe(t){Nt.call(this,t),this.P=13,this.$a=new Lt,this.nq=this.Kl=this.Ii=this.Ko=this.Jo=null,this.cl=Xn,this.tc=this.Se=null,this.zp=wo,this.Eh=!1}function Gi(t,e){null!==e&&(null===t.Se&&(t.Se=new Ht),t.Se.add(e))}function Ui(t,e,o,a){if(null===e||null===t.Se)return null;for(var h=t.Se.iterator;h.next();){var c=h.value;if(c.au===t&&c.lw===e&&c.My===o&&c.Ny===a||c.au===e&&c.lw===t&&c.My===a&&c.Ny===o)return c}return null}function xi(t,e){for(t=t.linksConnected;t.next();){var o=t.value;(o.fromPort===e||o.toPort===e)&&(Ni(o.fromPort),Ni(o.toPort),o.Ua())}}function Ni(t){if(null!==t){var e=t.yp;null!==e&&e.Dm(),null===(e=(t=t.part).containingGroup)||t.isVisible()||Ni(e.port)}}function $i(t,e,o,a){if(null!==e&&!o.has(e)){o.add(e);var h=!0,c=t.diagram;null!==c&&(h=c.isTreePathToChildren),e.linksConnected.each(function(g){g.isTreeLink?(h?g.fromNode===e:g.toNode===e)&&$i(t,h?g.toNode:g.fromNode,o,a):a.add(g)})}}function nn(t,e,o){Ni(o);var a=t.$a.contains(e);if(a||t.$a.add(e),!a||e.fromNode===e.toNode){var h=t.linkConnected;if(null!==h){var c=!0,g=t.diagram;null!==g&&(c=g.Z,g.Z=!0),h(t,e,o),null!==g&&(g.Z=c)}}!a&&e.isTreeLink&&(o=e.fromNode,e=e.toNode,null!==o&&null!==e&&o!==e&&(a=!0,null!==(t=t.diagram)&&(a=t.isTreePathToChildren),c=a?o:e,(h=a?e:o).Eh||(h.Eh=c),!c.isTreeLeaf||null!==t&&t.undoManager.isUndoingRedoing||(a?o===c&&(c.isTreeLeaf=!1):e===c&&(c.isTreeLeaf=!1))))}function bn(t,e,o){Ni(o);var a=t.$a.remove(e),h=null;if(a||e.toNode===e.fromNode){var c=t.linkDisconnected;if(h=t.diagram,null!==c){var g=!0;null!==h&&(g=h.Z,h.Z=!0),c(t,e,o),null!==h&&(h.Z=g)}}a&&e.isTreeLink&&(o=!0,null!==h&&(o=h.isTreePathToChildren),t=o?e.toNode:e.fromNode,e=o?e.fromNode:e.toNode,null!==t&&(t.Eh=!1),null===e||e.isTreeLeaf||(0===e.$a.count?(e.Eh=null,null!==h&&h.undoManager.isUndoingRedoing||(e.isTreeLeaf=!0)):Mr(e)))}function Mr(t){if(t.Eh=!1,0!==t.$a.count){var e=!0,o=t.diagram;if(null===o||!o.undoManager.isUndoingRedoing){for(null!==o&&(e=o.isTreePathToChildren),o=t.$a.iterator;o.next();){var a=o.value;if(a.isTreeLink)if(e){if(a.fromNode===t)return void(t.isTreeLeaf=!1)}else if(a.toNode===t)return void(t.isTreeLeaf=!1)}t.isTreeLeaf=!0}}}function kr(t){null===t.tc?t.tc=new gt:t.tc.clear(),t.an(t,function(e,o){Pn(e,o)}),0===t.tc.count&&t.tc.add("",t)}function Pn(t,e){var o=e.portId;null!==o&&null!==t.tc&&t.tc.add(o,e)}function yn(t,e,o){var a=e.portId;if(null!==a&&(null!==t.tc&&t.tc.remove(a),null!==(e=t.diagram)&&o)){for(o=null,t=t.findLinksConnected(a);t.next();)a=t.value,null===o&&(o=u()),o.push(a);if(null!==o){for(t=0;t<o.length;t++)e.remove(o[t]);m(o)}}}function xr(t,e){return null===(e=e.Fg())?0:1+xr(t,e)}function tr(t,e,o,a,h,c,g){if(1<a)for(var _=o?t.Fq():t.Hd();_.next();){var k=_.value;k.isTreeLink&&(null===(k=k.Kq(t))||k===t||e.contains(k)||(e.add(k),tr(k,e,o,a-1,h,c,g)))}else On(t,e,o,h,c,g)}function On(t,e,o,a,h,c){for(var g=h===t||t.isTreeExpanded,_=o?t.Fq():t.Hd();_.next();){var k=_.value;if(k.isTreeLink&&null!==(k=k.Kq(t))&&k!==t){var P=e.contains(k);P||e.add(k),g&&(c&&a.jk(k,h),k.Oh(),k.Ob(!1)),k.isTreeExpanded&&(k.wasTreeExpanded=k.isTreeExpanded,P||On(k,e,o,a,h,c))}}t.isTreeExpanded=!1}function hr(t,e,o,a,h,c,g){for(var _=c!==t&&t.isTreeExpanded,k=o?t.Fq():t.Hd();k.next();){var P=k.value;P.isTreeLink&&(_||P.ud||P.Ua(),null!==(P=P.Kq(t))&&P!==t&&!e.contains(P)&&(e.add(P),_||(P.Ob(!0),P.Oh(),g&&h.lk(P,c)),2<a||P.wasTreeExpanded))&&(P.wasTreeExpanded=!1,hr(P,e,o,a-1,h,c,g))}t.isTreeExpanded=!0}li.className="Adornment",et(Fe,Nt),Fe.prototype.cloneProtected=function(t){Nt.prototype.cloneProtected.call(this,t),t.P=this.P,t.P=-17&this.P,t.Jo=this.Jo,t.Ko=this.Ko,t.Ii=this.Ii,t.nq=this.nq,t.cl=this.cl.H(),t.zp=this.zp},(st=Fe.prototype).yf=function(t){Nt.prototype.yf.call(this,t),t.sd(),t.Se=this.Se,t.tc=null},st.xA=function(t,e,o){null==e&&(e=""),null==o&&(o=""),null!==(t=Ui(this,t,e,o))&&t.Dm()},st.Sk=function(t,e,o,a,h,c,g){(t===zo&&"elements"===e||t===gn&&"elements"===e)&&(this.tc=null),Nt.prototype.Sk.call(this,t,e,o,a,h,c,g)},st.sd=function(t){void 0===t&&(t=null);for(var e=this.linksConnected;e.next();){var o=e.value;null!==t&&t.contains(o)||(Ni(o.fromPort),Ni(o.toPort),o.Ua())}},st.rj=function(){return!0},Fe.prototype.getAvoidableRect=function(t){return t.set(this.actualBounds),t.uq(this.cl),t},Fe.prototype.findVisibleNode=function(){for(var t=this;null!==t&&!t.isVisible();)t=t.containingGroup;return t},Fe.prototype.isVisible=function(){if(!Nt.prototype.isVisible.call(this))return!1;var t=!0,e=mo,o=this.diagram;if(null!==o){if(o.animationManager.cu(this))return!0;t=o.isTreePathToChildren,e=o.treeCollapsePolicy}if(e===mo){if(null!==(t=this.Fg())&&!t.isTreeExpanded)return!1}else if(e===Sc){if(0<(t=t?this.Tv():this.Uv()).count&&t.all(function(a){return!a.isTreeExpanded}))return!1}else if(e===N0&&0<(t=t?this.Tv():this.Uv()).count&&t.any(function(a){return!a.isTreeExpanded}))return!1;return null===(t=this.labeledLink)||t.isVisible()},Fe.prototype.Ob=function(t){Nt.prototype.Ob.call(this,t);for(var e=this.linksConnected;e.next();){var o=e.value;if(t&&null!==this.containingGroup){var a=o.Kq(this);null===a||a.Kd(this.containingGroup)||o.Ua()}o.Ob(t)}},Fe.prototype.py=function(){var t=new Ht,e=new Ht;return $i(this,this,t,e),e.iterator},Fe.prototype.findLinksConnected=function(t){if(void 0===t&&(t=null),null===t)return this.$a.iterator;var e=new Bt(this.$a),o=this;return e.predicate=function(a){return a.fromNode===o&&a.fromPortId===t||a.toNode===o&&a.toPortId===t},e},(st=Fe.prototype).Fq=function(t){void 0===t&&(t=null);var e=new Bt(this.$a),o=this;return e.predicate=function(a){return a.fromNode===o&&(null===t||a.fromPortId===t)},e},st.Hd=function(t){void 0===t&&(t=null);var e=new Bt(this.$a),o=this;return e.predicate=function(a){return a.toNode===o&&(null===t||a.toPortId===t)},e},st.Sv=function(t){void 0===t&&(t=null);for(var e=null,o=null,a=this.$a.iterator;a.next();){var h=a.value;h.fromNode===this?(null===t||h.fromPortId===t)&&(h=h.toNode,null!==e?e.add(h):null!==o&&o!==h?((e=new Ht).add(o),e.add(h)):o=h):h.toNode!==this||null!==t&&h.toPortId!==t||(h=h.fromNode,null!==e?e.add(h):null!==o&&o!==h?((e=new Ht).add(o),e.add(h)):o=h)}return null!==e?e.iterator:null!==o?new Dt(o):Rt},st.Uv=function(t){void 0===t&&(t=null);for(var e=null,o=null,a=this.$a.iterator;a.next();){var h=a.value;h.fromNode!==this||null!==t&&h.fromPortId!==t||(h=h.toNode,null!==e?e.add(h):null!==o&&o!==h?((e=new Ht).add(o),e.add(h)):o=h)}return null!==e?e.iterator:null!==o?new Dt(o):Rt},st.Tv=function(t){void 0===t&&(t=null);for(var e=null,o=null,a=this.$a.iterator;a.next();){var h=a.value;h.toNode!==this||null!==t&&h.toPortId!==t||(h=h.fromNode,null!==e?e.add(h):null!==o&&o!==h?((e=new Ht).add(o),e.add(h)):o=h)}return null!==e?e.iterator:null!==o?new Dt(o):Rt},st.Xz=function(t,e,o){void 0===e&&(e=null),void 0===o&&(o=null);var a=new Bt(this.$a),h=this;return a.predicate=function(c){return!((c.fromNode!==h||c.toNode!==t||null!==e&&c.fromPortId!==e||null!==o&&c.toPortId!==o)&&(c.fromNode!==t||c.toNode!==h||null!==o&&c.fromPortId!==o||null!==e&&c.toPortId!==e))},a},st.Yz=function(t,e,o){void 0===e&&(e=null),void 0===o&&(o=null);var a=new Bt(this.$a),h=this;return a.predicate=function(c){return!(c.fromNode!==h||c.toNode!==t||null!==e&&c.fromPortId!==e||null!==o&&c.toPortId!==o)},a},Fe.prototype.updateRelationshipsFromData=function(){var t=this.diagram;null!==t&&t.partManager.updateRelationshipsFromData(this)},(st=Fe.prototype).Mq=function(t){Nt.prototype.Mq.call(this,t),t||(Mr(this),null!==(t=this.Kl)&&zn(t,this))},st.Nq=function(t){Nt.prototype.Nq.call(this,t),t||null!==(t=this.Kl)&&null!==t.nd&&(t.nd.remove(this),t.s())},st.uk=function(){if(0<this.$a.count){var t=this.diagram;if(null!==t)for(var e=null===t.commandHandler||t.commandHandler.deletesConnectedLinks,o=this.$a.copy().iterator;o.next();){var a=o.value;e?t.remove(a):(a.fromNode===this&&(a.fromNode=null),a.toNode===this&&(a.toNode=null))}}this.labeledLink=null,Nt.prototype.uk.call(this)},st.Jt=function(t){if(null===this.tc){if(""===t&&!1===this.Nh)return this;kr(this)}var e=this.tc.G(t);return null!==e||""!==t&&null!==(e=this.tc.G(""))?e:this},st.zA=function(t){if(null===t||t===this)return!1;var e=!0,o=this.diagram;if(null!==o&&(e=o.isTreePathToChildren),o=this,e)for(;o!==t;){e=null;for(var a=o.$a.iterator;a.next();){var h=a.value;if(h.isTreeLink&&(e=h.fromNode)!==o&&e!==this)break}if(e===this||null===e||e===o)return!1;o=e}else for(;o!==t;){for(e=null,a=o.$a.iterator;a.next()&&(!(h=a.value).isTreeLink||(e=h.toNode)===o||e===this););if(e===this||null===e||e===o)return!1;o=e}return!0},st.iA=function(){var t=!0,e=this.diagram;if(null!==e&&(t=e.isTreePathToChildren),e=this,t)for(;;){t=null;for(var o=e.$a.iterator;o.next();){var a=o.value;if(a.isTreeLink&&(t=a.fromNode)!==e&&t!==this)break}if(t===this)return this;if(null===t||t===e)return e;e=t}else for(;;){for(t=null,o=e.$a.iterator;o.next()&&(!(a=o.value).isTreeLink||(t=a.toNode)===e||t===this););if(t===this)return this;if(null===t||t===e)return e;e=t}},st.Uz=function(t){if(null===t)return null;if(this===t)return this;for(var e=this;null!==e;)wi(e,!0),e=e.Fg();var o=null;for(e=t;null!==e;){if(0!=(1048576&e.D)){o=e;break}e=e.Fg()}for(e=this;null!==e;)wi(e,!1),e=e.Fg();return o},st.jj=function(){var t=!0,e=this.diagram;if(null!==e&&(t=e.isTreePathToChildren),e=this.$a.iterator,t){for(;e.next();)if((t=e.value).isTreeLink&&t.fromNode!==this)return t}else for(;e.next();)if((t=e.value).isTreeLink&&t.toNode!==this)return t;return null},st.Fg=function(){var t=this.Eh;if(null===t)return null;if(t instanceof Fe)return t;var e=!0;if(null!==(t=this.diagram)&&(e=t.isTreePathToChildren),t=this.$a.iterator,e){for(;t.next();)if((e=t.value).isTreeLink&&(e=e.fromNode)!==this)return this.Eh=e}else for(;t.next();)if((e=t.value).isTreeLink&&(e=e.toNode)!==this)return this.Eh=e;return this.Eh=null},st.gA=function(){var e=new Ht;return function t(o,a){if(null!==o){a.add(o);var h=o.jj();null!==h&&(a.add(h),t(o.Fg(),a))}}(this,e),e},st.fA=function(){return xr(this,this)},st.Hq=function(){var t=!0,e=this.diagram;null!==e&&(t=e.isTreePathToChildren),e=new Bt(this.$a);var o=this;return e.predicate=t?function(a){return!(!a.isTreeLink||a.fromNode!==o)}:function(a){return!(!a.isTreeLink||a.toNode!==o)},e},st.Wv=function(){var t=!0,e=this.diagram;null!==e&&(t=e.isTreePathToChildren);var o=e=null,a=this.$a.iterator;if(t)for(;a.next();)(t=a.value).isTreeLink&&t.fromNode===this&&(t=t.toNode,null!==e?e.add(t):null!==o&&o!==t?((e=new Lt).add(o),e.add(t)):o=t);else for(;a.next();)(t=a.value).isTreeLink&&t.toNode===this&&(t=t.fromNode,null!==e?e.add(t):null!==o&&o!==t?((e=new Lt).add(o),e.add(t)):o=t);return null!==e?e.iterator:null!==o?new Dt(o):Rt},st.hA=function(t){void 0===t&&(t=1/0);var e=new Ht;return Fi(e,this,!1,t,!0),e},Fe.prototype.collapseTree=function(t){void 0===t&&(t=1),1>t&&(t=1);var e=this.diagram;if(null!==e&&!e.Le){e.Le=!0;var o=new Ht;o.add(this),tr(this,o,e.isTreePathToChildren,t,e,this,e.treeCollapsePolicy===mo),e.Le=!1}},Fe.prototype.expandTree=function(t){void 0===t&&(t=2),2>t&&(t=2);var e=this.diagram;if(null!==e&&!e.Le){e.Le=!0;var o=new Ht;o.add(this),hr(this,o,e.isTreePathToChildren,t,e,this,e.treeCollapsePolicy===mo),e.Le=!1}},X.Object.defineProperties(Fe.prototype,{portSpreading:{get:function(){return this.zp},set:function(t){var e=this.zp;e!==t&&(this.zp=t,this.g("portSpreading",e,t),null!==(t=this.diagram)&&t.undoManager.isUndoingRedoing||this.sd())}},avoidable:{get:function(){return 0!=(8&this.P)},set:function(t){var e=0!=(8&this.P);if(e!==t){this.P^=8;var o=this.diagram;null!==o&&bp(o,this),this.g("avoidable",e,t)}}},avoidableMargin:{get:function(){return this.cl},set:function(t){"number"==typeof t&&(t=new hn(t));var e=this.cl;if(!e.w(t)){this.cl=t=t.H();var o=this.diagram;null!==o&&bp(o,this),this.g("avoidableMargin",e,t)}}},linksConnected:{get:function(){return this.$a.iterator}},linkConnected:{get:function(){return this.Jo},set:function(t){var e=this.Jo;e!==t&&(this.Jo=t,this.g("linkConnected",e,t))}},linkDisconnected:{get:function(){return this.Ko},set:function(t){var e=this.Ko;e!==t&&(this.Ko=t,this.g("linkDisconnected",e,t))}},linkValidation:{get:function(){return this.Ii},set:function(t){var e=this.Ii;e!==t&&(this.Ii=t,this.g("linkValidation",e,t))}},isLinkLabel:{get:function(){return null!==this.Kl}},labeledLink:{get:function(){return this.Kl},set:function(t){var e=this.Kl;if(e!==t){var o=this.diagram,a=this.data;if(null!==e){if(null!==e.nd&&(e.nd.remove(this),e.s()),null!==o&&null!==a&&!o.undoManager.isUndoingRedoing){var h=e.data,c=o.model;if(null!==h&&c.qj()){var g=c.ja(a);void 0!==g&&c.Oy(h,g)}}this.containingGroup=null}this.Kl=t,null!==t&&(zn(t,this),null===o||null===a||o.undoManager.isUndoingRedoing||(o=o.model,null!==(h=t.data)&&o.qj()&&void 0!==(a=o.ja(a))&&o.Dv(h,a)),this.containingGroup=t.containingGroup),uu(this),this.g("labeledLink",e,t)}}},port:{get:function(){return this.Jt("")}},ports:{get:function(){return null===this.tc&&kr(this),this.tc.iteratorValues}},isTreeExpanded:{get:function(){return 0!=(1&this.P)},set:function(t){var e=0!=(1&this.P);if(e!==t){this.P^=1;var o=this.diagram;if(this.g("isTreeExpanded",e,t),null!==(e=this.treeExpandedChanged)){var a=!0;null!==o&&(a=o.Z,o.Z=!0),e(this),null!==o&&(o.Z=a)}null!==o&&o.undoManager.isUndoingRedoing?this.Ob(t):t?this.expandTree():this.collapseTree()}}},wasTreeExpanded:{get:function(){return 0!=(2&this.P)},set:function(t){var e=0!=(2&this.P);e!==t&&(this.P^=2,this.g("wasTreeExpanded",e,t))}},treeExpandedChanged:{get:function(){return this.nq},set:function(t){var e=this.nq;e!==t&&(this.nq=t,this.g("treeExpandedChanged",e,t))}},isTreeLeaf:{get:function(){return 0!=(4&this.P)},set:function(t){var e=0!=(4&this.P);e!==t&&(this.P^=4,this.g("isTreeLeaf",e,t))}}}),Fe.prototype.expandTree=Fe.prototype.expandTree,Fe.prototype.collapseTree=Fe.prototype.collapseTree,Fe.prototype.findTreeParts=Fe.prototype.hA,Fe.prototype.findTreeChildrenNodes=Fe.prototype.Wv,Fe.prototype.findTreeChildrenLinks=Fe.prototype.Hq,Fe.prototype.findTreeLevel=Fe.prototype.fA,Fe.prototype.findTreeParentChain=Fe.prototype.gA,Fe.prototype.findTreeParentNode=Fe.prototype.Fg,Fe.prototype.findTreeParentLink=Fe.prototype.jj,Fe.prototype.findCommonTreeParent=Fe.prototype.Uz,Fe.prototype.findTreeRoot=Fe.prototype.iA,Fe.prototype.isInTreeOf=Fe.prototype.zA,Fe.prototype.findPort=Fe.prototype.Jt,Fe.prototype.findLinksTo=Fe.prototype.Yz,Fe.prototype.findLinksBetween=Fe.prototype.Xz,Fe.prototype.findNodesInto=Fe.prototype.Tv,Fe.prototype.findNodesOutOf=Fe.prototype.Uv,Fe.prototype.findNodesConnected=Fe.prototype.Sv,Fe.prototype.findLinksInto=Fe.prototype.Hd,Fe.prototype.findLinksOutOf=Fe.prototype.Fq,Fe.prototype.findExternalTreeLinksConnected=Fe.prototype.py,Fe.prototype.invalidateConnectedLinks=Fe.prototype.sd,Fe.prototype.invalidateLinkBundle=Fe.prototype.xA;var To=new wt(Fe,"SpreadingNone",10),wo=new wt(Fe,"SpreadingEvenly",11),to=new wt(Fe,"SpreadingPacked",12);function hi(t){Fe.call(this,t),this.P|=4608,this.Vo=new Ht,this.Sl=new Ht,this.Sa=this.eq=this.Ki=this.Wo=this.Uo=this.Za=null,this.kc=new Hn,this.kc.group=this}function Pe(t,e){if(t.Vo.add(e)){e instanceof hi&&t.Sl.add(e);var o=t.memberAdded;if(null!==o){var a=!0,h=t.diagram;null!==h&&(a=h.Z,h.Z=!0),o(t,e),null!==h&&(h.Z=a)}t.isVisible()&&t.isSubGraphExpanded||e.Ob(!1)}e instanceof We&&!t.computesBoundsIncludingLinks||(null===(e=t.Sa)&&(e=t),e.s())}function Ri(t,e){if(t.Vo.remove(e)){e instanceof hi&&t.Sl.remove(e);var o=t.memberRemoved;if(null!==o){var a=!0,h=t.diagram;null!==h&&(a=h.Z,h.Z=!0),o(t,e),null!==h&&(h.Z=a)}t.isVisible()&&t.isSubGraphExpanded||e.Ob(!0)}e instanceof We&&!t.computesBoundsIncludingLinks||(null===(e=t.Sa)&&(e=t),e.s())}function tn(t,e,o,a){for(var h=t.memberParts;h.next();){var c=h.value;if(c.Ob(!1),c instanceof hi&&c.isSubGraphExpanded&&(c.wasSubGraphExpanded=c.isSubGraphExpanded,tn(c,e,o,a)),c instanceof Fe)c.sd(e),o.jk(c,a);else if(c instanceof We)for(c=c.labelNodes;c.next();)c.value.sd(e)}t.isSubGraphExpanded=!1}function zi(t,e,o,a){for(var h=t.memberParts;h.next();){var c=h.value;if(c.Ob(!0),c instanceof hi&&c.wasSubGraphExpanded&&(c.wasSubGraphExpanded=!1,zi(c,e,o,a)),c instanceof Fe)c.sd(e),o.lk(c,a);else if(c instanceof We)for(c=c.labelNodes;c.next();)c.value.sd(e)}t.isSubGraphExpanded=!0}function Li(){Oi.call(this),this.ib=br,this.Np=new te(NaN,NaN,NaN,NaN)}function We(){Nt.call(this,qe.Link),this.Ga=8,this.We=null,this.Xe="",this.rf=this.fo=null,this.sf="",this.mq=null,this.Yk=Ts,this.Hn=0,this.Jn=Ts,this.Kn=NaN,this.ck=Fl,this.Zp=.5,this.nd=null,this.Ab=(new Lt).freeze(),this.jf=this.ph=null,this.Yl=new te,this.na=new xn,this.I=this.u=this.Mf=this.Vf=null,this.l=[],this.vv=new rt,this.$r=this.Nx=this.Mx=null,this.Ru=NaN,this.O=null}function en(t){var a,e=t.fromNode,o=t.toNode;if(a=null!==e?null!==o?e.oy(o):e.containingGroup:null!==o?o.containingGroup:null,(o=t.mi)!==(e=a)){null!==o&&Ri(o,t),t.mi=e,null!==e&&Pe(e,t);var h=t.containingGroupChanged;if(null!==h){var c=!0,g=t.diagram;null!==g&&(c=g.Z,g.Z=!0),h(t,o,e),null!==g&&(g.Z=c)}!t.ud||t.Mx!==o&&t.Nx!==o||t.Ua()}if(t.isLabeledLink)for(t=t.labelNodes;t.next();)t.value.containingGroup=a}function zn(t,e){null===t.nd&&(t.nd=new Ht),t.nd.add(e),t.s()}function ur(t,e,o){if(0!==e||0!==o)if(0===t.pointsCount)t.defaultFromPoint&&t.defaultFromPoint.copy().offset(e,o),t.defaultToPoint&&t.defaultToPoint.copy().offset(e,o);else{for(var a=t.ud,h=new Lt,c=t.Ab.iterator;c.next();){var g=c.value;h.add(new rt(g.x+e,g.y+o).freeze())}h.freeze(),c=t.Ab,t.Ab=h,g=t.diagram,isNaN(e)||isNaN(o)||null!==g&&g.animationManager.sc?t.s():(t.dg.h(t.dg.x+e,t.dg.y+o),t.la.h(t.la.x+e,t.la.y+o),uu(t)),a?Uo(t):(t.defaultFromPoint&&(t.defaultFromPoint=t.i(0)),t.defaultToPoint&&(t.defaultToPoint=t.i(t.pointsCount-1))),null!==g&&g.animationManager.sc&&(e=g.animationManager,t.jf=h,e.$l.add(t)),t.g("points",c,h)}}function Uo(t){0===t.Ab.count?t.ud=!1:(t.ud=!0,t.$r=null,t.Ru=NaN,t.defaultFromPoint=t.i(0),t.defaultToPoint=t.i(t.pointsCount-1),al(t,!1))}function Zr(t,e){return Math.abs(e.x-t.x)>Math.abs(e.y-t.y)?(e.x=e.x>=t.x?t.x+9e9:t.x-9e9,e.y=t.y):(e.y=e.y>=t.y?t.y+9e9:t.y-9e9,e.x=t.x),e}function Po(t,e){var o=e.yp;return null===o&&((o=new lg).port=e,o.node=e.part,e.yp=o),l_(o,t)}function Pr(t){return t===mn||.5===t.x&&.5===t.y}function qr(t){return.5===t.x&&.5===t.y?t:Hi}function As(t){if(null===t.diagram||!t.isAvoiding||!kv(t.diagram))return!1;var e=t.points.j,o=e.length;if(4>o)return!1;t=P0(t.diagram,!0,t.containingGroup,null);for(var a=1;a<o-2;a++){var h=e[a],c=e[a+1];if(!t.Ek(Math.min(h.x,c.x),Math.min(h.y,c.y),Math.abs(h.x-c.x),Math.abs(h.y-c.y)))return!0}return!1}function Aa(t,e,o,a,h,c,g){var _=e.zq,k=e.yq,P=Bf(e,o,a),F=o,j=a;for(0===h?F+=_:90===h?j+=k:180===h?F-=_:j-=k,h!==g&&P>Bp&&Bf(e,F,j)!==P-1&&(Bf(e,o-_,a)===P-1?(h=180,F=o-_,j=a):Bf(e,o+_,a)===P-1?(h=0,F=o+_,j=a):Bf(e,o,a-k)===P-1?(h=270,F=o,j=a-k):Bf(e,o,a+k)===P-1&&(h=90,F=o,j=a+k));P>Bp&&Bf(e,F,j)===P-1;)o=F,a=j,0===h?F+=_:90===h?j+=k:180===h?F-=_:j-=k,--P;c?P>Bp&&(180===h||0===h?o=Math.floor(o/_)*_+_/2:(90===h||270===h)&&(a=Math.floor(a/k)*k+k/2)):(o=Math.floor(o/_)*_+_/2,a=Math.floor(a/k)*k+k/2),P>Bp&&(c=h,g=o,F=a,0===h?(c=90,F+=k):90===h?(c=180,g-=_):180===h?(c=270,F-=k):270===h&&(c=0,g+=_),Bf(e,g,F)===P-1?Aa(t,e,g,F,c,!1,c):(g=o,F=a,0===h?(c=270,F-=k):90===h?(c=0,g+=_):180===h?(c=90,F+=k):270===h&&(c=180,g-=_),Bf(e,g,F)===P-1&&Aa(t,e,g,F,c,!1,c))),t.vf(o,a)}function _h(t,e,o,a){return t=o-t,isNaN(t)||t===1/0||t===-1/0?NaN:(0>t&&(t=-t),e=a-e,isNaN(e)||e===1/0||e===-1/0?NaN:(0>e&&(e=-e),pe.aa(t,0)?e:pe.aa(e,0)?t:Math.sqrt(t*t+e*e)))}function xl(t,e,o,a){var h=t.pointsCount;if(2>h)return e;if(o){var c=t.i(1);if(0===(a=_h(e.x,e.y,o=c.x-a.x,c=c.y-a.y)))return e;h=2===h?.5*a:a,(t=t.computeShortLength(!0))>h&&(t=h),h=t*(c-e.y)/a,e.x+=t*(o-e.x)/a,e.y+=h}else{if(c=t.i(h-2),0===(a=_h(e.x,e.y,o=c.x-a.x,c=c.y-a.y)))return e;h=2===h?.5*a:a,(t=t.computeShortLength(!1))>h&&(t=h),h=t*(e.y-c)/a,e.x-=t*(e.x-o)/a,e.y-=h}return e}function Ha(t,e,o,a){for(var h=t.pointsCount,c=e;pe.aa(e.x,c.x)&&pe.aa(e.y,c.y);){if(o>=h)return h-1;c=t.i(o++)}if(!pe.aa(e.x,c.x)&&!pe.aa(e.y,c.y))return o-1;for(var g=c;pe.aa(e.x,c.x)&&pe.aa(c.x,g.x)&&(!a||(e.y>=c.y?c.y>=g.y:c.y<=g.y))||pe.aa(e.y,c.y)&&pe.aa(c.y,g.y)&&(!a||(e.x>=c.x?c.x>=g.x:c.x<=g.x));){if(o>=h)return h-1;g=t.i(o++)}return o-2}function Kn(t,e,o,a,h,c,g){if(!g&&sl(t)){var _=(g=t.computeJumpLength())/2,k=[],P=0;if(t.isVisible()&&(P=function(t,e,o,a){var h=t.diagram;if(null===h||e.w(o))return 0;for(h=h.layers;h.next();){var c=h.value;if(null!==c&&c.visible)for(var g=(c=c.Fa.j).length,_=0;_<g;_++){var k=c[_];if(k instanceof We){if(k===t)return 0<a.length&&a.sort(function(F,j){return F-j}),a.length;if(k.isVisible()&&sl(k)){var P=k.routeBounds;P.o()&&t.routeBounds.Mc(P)&&!t.usesSamePort(k)&&null!==(P=k.path)&&P.Gf()&&Fc(e,o,a,k)}}}}return 0<a.length&&a.sort(function(F,j){return F-j}),a.length}(t,h,c,k)),0<P)if(pe.A(h.y,c.y))if(h.x<c.x)for(var F=0;F<P;){var j=Math.max(h.x,Math.min(k[F++]-_,c.x-g));e.lineTo(j+o,c.y+a);for(var ut=j+o,xt=Math.min(j+g,c.x);F<P&&(j=k[F])<xt+g;)F++,xt=Math.min(j+_,c.x);j=c.y-g+a,xt+=o;var pt=c.y+a;t.curve===Ua?tt(e,xt,pt,!1):ot(e,ut,j,xt,j,xt,pt)}else for(--P;0<=P;){for(F=Math.min(h.x,Math.max(k[P--]+_,c.x+g)),e.lineTo(F+o,c.y+a),ut=F+o,j=Math.max(F-g,c.x);0<=P&&(F=k[P])>j-g;)P--,j=Math.max(F-_,c.x);F=c.y-g+a,j+=o,xt=c.y+a,t.curve===Ua?tt(e,j,xt,!1):ot(e,ut,F,j,F,j,xt)}else if(pe.A(h.x,c.x))if(h.y<c.y)for(F=0;F<P;){for(j=Math.max(h.y,Math.min(k[F++]-_,c.y-g)),e.lineTo(c.x+o,j+a),ut=j+a,j=Math.min(j+g,c.y);F<P&&(xt=k[F])<j+g;)F++,j=Math.min(xt+_,c.y);xt=c.x-g+o,pt=c.x+o,j+=a,t.curve===Ua?tt(e,pt,j,!1):ot(e,xt,ut,xt,j,pt,j)}else for(--P;0<=P;){for(F=Math.min(h.y,Math.max(k[P--]+_,c.y+g)),e.lineTo(c.x+o,F+a),ut=F+a,F=Math.max(F-g,c.y);0<=P&&(j=k[P])>F-g;)P--,F=Math.max(j-_,c.y);j=c.x-g+o,xt=c.x+o,F+=a,t.curve===Ua?tt(e,xt,F,!1):ot(e,j,ut,j,F,xt,F)}}e.lineTo(c.x+o,c.y+a)}function Fc(t,e,o,a){for(var h=pe.A(t.y,e.y),c=a.pointsCount,g=a.i(0),_=rt.alloc(),k=1;k<c;k++){var P=a.i(k);if(k<c-1){var F=a.i(k+1);if(g.y===P.y&&P.y===F.y){if(P.x>g.x&&F.x>=P.x||P.x<g.x&&F.x<=P.x)continue}else if(g.x===P.x&&P.x===F.x&&(P.y>g.y&&F.y>=P.y||P.y<g.y&&F.y<=P.y))continue}t:{var j=t.y,ut=e.x,xt=e.y,pt=g.x;g=g.y;var Pt=P.x,Xt=P.y;if(pe.A(F=t.x,ut)){if(!pe.A(j,xt)&&pe.A(g,Xt)&&Math.min(j,xt)<g&&Math.max(j,xt)>g&&Math.min(pt,Pt)<F&&Math.max(pt,Pt)>F&&!pe.A(pt,Pt)){_.x=F,_.y=g,F=!0;break t}}else if(pe.A(j,xt)&&pe.A(pt,Pt)&&Math.min(F,ut)<pt&&Math.max(F,ut)>pt&&Math.min(g,Xt)<j&&Math.max(g,Xt)>j&&!pe.A(g,Xt)){_.x=pt,_.y=j,F=!0;break t}_.x=0,_.y=0,F=!1}F&&o.push(h?_.x:_.y),g=P}rt.free(_)}function sl(t){return(t=t.curve)===Ff||t===Ua}function al(t,e){(e||sl(t))&&(null===(e=t.diagram)||e.animationManager.isTicking||e.Vg.contains(t)||0===t.Yl.width&&0===t.Yl.height||e.Vg.add(t,t.Yl.copy()))}function Lf(t,e,o){if(null!==e&&e.$m&&e.ud&&sl(e)){var a=e.routeBounds;a.o()&&(t.routeBounds.Mc(a)||o.Mc(a))&&(t.usesSamePort(e)||e.dc())}}function Bc(t){var e=t.We;if(null!==e){var o=t.rf;if(null!==o&&isNaN(t.curviness)){for(var a=t.Xe,h=t.sf,c=t=null,g=e.$a.j,_=g.length,k=0;k<_;k++){var P=g[k];(P.We===e&&P.Xe===a&&P.rf===o&&P.sf===h||P.We===o&&P.Xe===h&&P.rf===e&&P.sf===a)&&(null===c?c=P:(null===t&&(t=[]).push(c),t.push(P)))}if(null!==t){for(null===(c=Ui(e,o,a,h))&&(Gi(e,c=new Zh(e,a,o,h)),Gi(o,c)),c.links=t,e=0;e<t.length;e++)t[e].Mf=c;c.Dm()}}}}function Vc(t){var e=t.Mf;null!==e&&isNaN(t.curviness)&&(t.Mf=null,0<=(t=e.links.indexOf(t))&&(R(e.links,t),e.Dm()))}Fe.className="Node",Fe.SpreadingNone=To,Fe.SpreadingEvenly=wo,Fe.SpreadingPacked=to,et(hi,Fe),hi.prototype.cloneProtected=function(t){Fe.prototype.cloneProtected.call(this,t),this.P=-32769&this.P,null!==this.Za&&(t.Za=this.Za.copy()),t.Uo=this.Uo,t.Wo=this.Wo,t.Ki=this.Ki,t.eq=this.eq;var e=t.ym(function(o){return o instanceof Li});t.Sa=e instanceof Li?e:null,null!==this.kc?(t.kc=this.kc.copy(),t.kc.group=t):(null!==t.kc&&(t.kc.group=null),t.kc=null)},(st=hi.prototype).yf=function(t){Fe.prototype.yf.call(this,t);var e=t.yk();for(t=t.memberParts;t.next();){var o=t.value;if(o.s(),o.C(8),o.nk(),o instanceof Fe)o.sd(e);else if(o instanceof We)for(o=o.labelNodes;o.next();)o.value.sd(e)}},st.Sk=function(t,e,o,a,h,c,g){if(t===zo&&"elements"===e){if(h instanceof Li)null===this.Sa?this.Sa=h:this.Sa!==h&&z("Cannot insert a second Placeholder into the visual tree of a Group.");else if(h instanceof qe){var _=h.ym(function(k){return k instanceof Li});_ instanceof Li&&(null===this.Sa?this.Sa=_:this.Sa!==_&&z("Cannot insert a second Placeholder into the visual tree of a Group."))}}else t===gn&&"elements"===e&&null!==this.Sa&&(a===this.Sa||a instanceof qe&&this.Sa.Gg(a))&&(this.Sa=null);Fe.prototype.Sk.call(this,t,e,o,a,h,c,g)},st.Im=function(t,e){Fe.prototype.Im.call(this,t,e),this.isClipping&&this.type!==qe.Spot&&((t=this.resizeObject)instanceof qe&&(t=t.tb()),null===this.Za&&(this.Za=new te),t.mj(this.Za),t instanceof Qi&&this.Za.Jc(-t.strokeWidth,-t.strokeWidth))},st.Ih=function(t,e,o,a){this.cf=this.Sa,Fe.prototype.Ih.call(this,t,e,o,a)},st.Ta=function(){var t=this;t.isSubGraphExpanded&&this.memberParts.each(function(e){!t.computesBoundsIncludingLinks&&e instanceof We||e.Ta()}),Fe.prototype.Ta.call(this)},st.rj=function(){if(!Fe.prototype.rj.call(this))return!1;for(var t=this.memberParts;t.next();){var e=t.value;if(e instanceof Fe){if(e.isVisible()&&nl(e))return!1}else if(e instanceof We&&e.isVisible()&&nl(e)&&e.fromNode!==this&&e.toNode!==this)return!1}return!0},st.uk=function(){if(0<this.Vo.count){var t=this.diagram;if(null!==t)for(var e=this.Vo.copy().iterator;e.next();)t.remove(e.value)}Fe.prototype.uk.call(this)},hi.prototype.canAddMembers=function(t){var e=this.diagram;if(null===e)return!1;for(e=e.commandHandler,t=Ws(t).iterator;t.next();)if(!e.isValidMember(this,t.value))return!1;return!0},hi.prototype.addMembers=function(t,e){var o=this.diagram;if(null===o)return!1;o=o.commandHandler;var a=!0;for(t=Ws(t).iterator;t.next();){var h=t.value;!e||o.isValidMember(this,h)?h.containingGroup=this:a=!1}return a},hi.prototype.canUngroup=function(){if(!this.ungroupable)return!1;var t=this.layer;return!(null!==t&&!t.allowUngroup||null!==(t=t.diagram)&&!t.allowUngroup)},(st=hi.prototype).sd=function(t){void 0===t&&(t=null);var e=0!=(65536&this.P);if(Fe.prototype.sd.call(this,t),!e)for(0==(65536&this.P)&&(this.P=65536^this.P),e=this.Rv();e.next();){var o=e.value;if(null===t||!t.contains(o)){var a=o.fromNode;(null!==a&&a!==this&&a.Kd(this)&&!a.isVisible()||null!==(a=o.toNode)&&a!==this&&a.Kd(this)&&!a.isVisible())&&(Ni(o.fromPort),Ni(o.toPort),o.Ua())}}},st.Rv=function(){var t=this.yk();t.add(this);for(var e=new Ht,o=t.iterator;o.next();){var a=o.value;if(a instanceof Fe)for(a=a.linksConnected;a.next();){var h=a.value;t.contains(h)||e.add(h)}}return e.iterator},st.Wz=function(){var t=this.yk();t.add(this);for(var e=new Ht,o=t.iterator;o.next();){var a=o.value;if(a instanceof Fe)for(a=a.linksConnected;a.next();){var h=a.value,c=h.fromNode;null===c||t.contains(c)&&c!==this||e.add(c),null===(h=h.toNode)||t.contains(h)&&h!==this||e.add(h)}}return e.iterator},st.Vz=function(){var e=new Ht;return function t(o,a){null!==o&&(a.add(o),t(o.containingGroup,a))}(this,e),e},st.yk=function(){var t=new Ht;return Fi(t,this,!0,0,!0),t.remove(this),t},st.Ob=function(t){Fe.prototype.Ob.call(this,t);for(var e=this.memberParts;e.next();)e.value.Ob(t)},hi.prototype.collapseSubGraph=function(){var t=this.diagram;null===t||t.Le||(t.Le=!0,tn(this,this.yk(),t,this),t.Le=!1)},hi.prototype.expandSubGraph=function(){var t=this.diagram;null===t||t.Le||(t.Le=!0,zi(this,this.yk(),t,this),t.Le=!1)},hi.prototype.move=function(t,e){void 0===e&&(e=!1);var o=e?this.location:this.position,a=o.x;o=o.y;var h=t.x,c=t.y;if(!(a===h||isNaN(a)&&isNaN(h))||!(o===c||isNaN(o)&&isNaN(c))){for(a=h-(isNaN(a)?0:a),o=c-(isNaN(o)?0:o),c=rt.alloc(),Fe.prototype.move.call(this,t,e),t=new Ht,e=this.yk().iterator;e.next();)(h=e.value)instanceof We&&(h.suspendsRouting&&t.add(h),h.ud||h.fromNode!==this&&h.toNode!==this)&&(h.suspendsRouting=!0);for(e.reset();e.next();)if(!((h=e.value).Ph()||h instanceof Fe&&h.isLinkLabel)){var g=h.position,_=h.location;g.o()?(c.x=g.x+a,c.y=g.y+o,h.position=c):_.o()&&(c.x=_.x+a,c.y=_.y+o,h.location=c)}for(e.reset();e.next();)(h=e.value)instanceof We&&(h.suspendsRouting=t.contains(h),h.ud||h.fromNode!==this&&h.toNode!==this)&&(c.x=(g=h.position).x+a,c.y=g.y+o,c.o()?h.move(c):h.Ua(),As(h)&&h.Ua());rt.free(c)}},X.Object.defineProperties(hi.prototype,{placeholder:{get:function(){return this.Sa}},computesBoundsAfterDrag:{get:function(){return 0!=(2048&this.P)},set:function(t){var e=0!=(2048&this.P);e!==t&&(this.P^=2048,this.g("computesBoundsAfterDrag",e,t))}},computesBoundsIncludingLinks:{get:function(){return 0!=(4096&this.P)},set:function(t){var e=0!=(4096&this.P);e!==t&&(this.P^=4096,this.g("computesBoundsIncludingLinks",e,t))}},computesBoundsIncludingLocation:{get:function(){return 0!=(8192&this.P)},set:function(t){var e=0!=(8192&this.P);e!==t&&(this.P^=8192,this.g("computesBoundsIncludingLocation",e,t))}},handlesDragDropForMembers:{get:function(){return 0!=(16384&this.P)},set:function(t){var e=0!=(16384&this.P);e!==t&&(this.P^=16384,this.g("handlesDragDropForMembers",e,t))}},memberParts:{get:function(){return this.Vo.iterator}},layout:{get:function(){return this.kc},set:function(t){var e=this.kc;if(e!==t){null!==e&&(e.diagram=null,e.group=null),this.kc=t;var o=this.diagram;null!==t&&(t.diagram=o,t.group=this),null!==o&&(o.Ng=!0),this.g("layout",e,t),null!==o&&o.Db()}}},memberAdded:{get:function(){return this.Uo},set:function(t){var e=this.Uo;e!==t&&(this.Uo=t,this.g("memberAdded",e,t))}},memberRemoved:{get:function(){return this.Wo},set:function(t){var e=this.Wo;e!==t&&(this.Wo=t,this.g("memberRemoved",e,t))}},memberValidation:{get:function(){return this.Ki},set:function(t){var e=this.Ki;e!==t&&(this.Ki=t,this.g("memberValidation",e,t))}},ungroupable:{get:function(){return 0!=(256&this.P)},set:function(t){var e=0!=(256&this.P);e!==t&&(this.P^=256,this.g("ungroupable",e,t))}},isSubGraphExpanded:{get:function(){return 0!=(512&this.P)},set:function(t){var e=0!=(512&this.P);if(e!==t){this.P^=512;var o=this.diagram;if(this.g("isSubGraphExpanded",e,t),null!==(e=this.subGraphExpandedChanged)){var a=!0;null!==o&&(a=o.Z,o.Z=!0),e(this),null!==o&&(o.Z=a)}null!==o&&o.undoManager.isUndoingRedoing?(null!==this.Sa&&this.Sa.s(),this.memberParts.each(function(h){h.updateAdornments()})):t?this.expandSubGraph():this.collapseSubGraph()}}},wasSubGraphExpanded:{get:function(){return 0!=(1024&this.P)},set:function(t){var e=0!=(1024&this.P);e!==t&&(this.P^=1024,this.g("wasSubGraphExpanded",e,t))}},subGraphExpandedChanged:{get:function(){return this.eq},set:function(t){var e=this.eq;e!==t&&(this.eq=t,this.g("subGraphExpandedChanged",e,t))}},Rh:{get:function(){return 0!=(32768&this.P)},set:function(t){0!=(32768&this.P)!==t&&(this.P^=32768)}}}),hi.prototype.expandSubGraph=hi.prototype.expandSubGraph,hi.prototype.collapseSubGraph=hi.prototype.collapseSubGraph,hi.prototype.findSubGraphParts=hi.prototype.yk,hi.prototype.findContainingGroupChain=hi.prototype.Vz,hi.prototype.findExternalNodesConnected=hi.prototype.Wz,hi.prototype.findExternalLinksConnected=hi.prototype.Rv,hi.prototype.ensureBounds=hi.prototype.Ta,hi.className="Group",et(Li,Oi),Li.prototype.cloneProtected=function(t){Oi.prototype.cloneProtected.call(this,t),t.ib=this.ib.H(),t.Np=this.Np.copy()},Li.prototype.Kh=function(t){if(null===this.background&&null===this.areaBackground)return!1;var e=this.naturalBounds;return cn(0,0,e.width,e.height,t.x,t.y)},Li.prototype.Hm=function(){var t=this.part;if(null!==t&&(t instanceof hi||t instanceof li)||z("Placeholder is not inside a Group or Adornment."),t instanceof hi){var e=this.computeBorder(this.Np),o=this.minSize,a=this.rc;for(Re(a,(isFinite(o.width)?Math.max(o.width,e.width):e.width)||0,(isFinite(o.height)?Math.max(o.height,e.height):e.height)||0),th(this,0,0,a.width,a.height),a=t.memberParts,o=!1;a.next();)if(a.value.isVisible()){o=!0;break}a=t.diagram,!o||null===a||a.animationManager.ew(t)||isNaN(e.x)||isNaN(e.y)||((o=rt.alloc()).tj(e,t.locationSpot),o.w(t.location)||(t.location=new rt(o.x,o.y)),rt.free(o))}else{e=this.rc,a=(o=this.ib).left+o.right;var h=o.top+o.bottom,c=t.adornedObject;t.angle=c.lj();var g=0;c instanceof Qi&&(g=c.strokeWidth);var _=c.Af(),k=c.naturalBounds,P=(k.width+g)*_;g=(k.height+g)*_,t.type!==qe.Link&&(c=c.da("Selection"===t.category?gr:t.locationSpot,rt.alloc()),t.location=c,rt.free(c)),isNaN(P)||isNaN(g)?(P=(t=t.adornedObject).da(gr,rt.alloc()),(c=te.allocAt(P.x,P.y,0,0)).Oe(t.da(tl,P)),c.Oe(t.da(_o,P)),c.Oe(t.da(Ou,P)),Re(e,c.width+a||0,c.height+h||0),th(this,-o.left,-o.top,e.width,e.height),rt.free(P),te.free(c)):(Re(e,P+a||0,g+h||0),th(this,-o.left,-o.top,e.width,e.height))}},Li.prototype.Ih=function(t,e,o,a){this.actualBounds.h(t,e,o,a)},Li.prototype.computeBorder=function(t){var e=this.part,o=e.diagram;if(null!==o&&e instanceof hi&&!e.layer.isTemporary&&e.computesBoundsAfterDrag&&this.Np.o()){var a=o.toolManager.findTool("Dragging");if(a===o.currentTool&&null!==(o=a.computeBorder(e,this.Np,t)))return o}o=te.alloc(),a=this.computeMemberBounds(o);var h=this.ib;return e instanceof hi&&!e.isSubGraphExpanded?t.h(a.x-h.left,a.y-h.top,0,0):t.h(a.x-h.left,a.y-h.top,Math.max(a.width+h.left+h.right,0),Math.max(a.height+h.top+h.bottom,0)),te.free(o),e instanceof hi&&e.computesBoundsIncludingLocation&&e.location.o()&&t.Oe(e.location),t},Li.prototype.computeMemberBounds=function(t){if(!(this.part instanceof hi))return t.h(0,0,0,0),t;for(var e=this.part,o=1/0,a=1/0,h=-1/0,c=-1/0,g=e.memberParts;g.next();){var _=g.value;if(_.isVisible()){if(_ instanceof We&&(!e.computesBoundsIncludingLinks||Pc(_)||_.fromNode===e||_.toNode===e))continue;(_=_.actualBounds).left<o&&(o=_.left),_.top<a&&(a=_.top),_.right>h&&(h=_.right),_.bottom>c&&(c=_.bottom)}}return isFinite(o)&&isFinite(a)?t.h(o,a,h-o,c-a):t.h((e=e.location).x,e.y,0,0),t},X.Object.defineProperties(Li.prototype,{padding:{get:function(){return this.ib},set:function(t){"number"==typeof t&&(t=new hn(t));var e=this.ib;e.w(t)||(this.ib=t=t.H(),this.g("padding",e,t),this.s())}}}),Li.className="Placeholder",et(We,Nt),We.prototype.cloneProtected=function(t){Nt.prototype.cloneProtected.call(this,t),t.Ga=-113&this.Ga,t.Xe=this.Xe,t.fo=this.fo,t.sf=this.sf,t.mq=this.mq,t.Yk=this.Yk,t.Hn=this.Hn,t.Jn=this.Jn,t.Kn=this.Kn,t.ck=this.ck,t.Zp=this.Zp,null!==this.O&&(t.O=this.O.copy())},(st=We.prototype).yf=function(t){Nt.prototype.yf.call(this,t),this.Xe=t.Xe,this.sf=t.sf,t.ph=null,t.Ua(),t.Mf=this.Mf;var e=t.fromPort;null!==e&&Ni(e),null!==(t=t.toPort)&&Ni(t)},st.jb=function(t){t.classType===We?2==(2&t.value)?this.routing=t:t===us||t===Ua||t===Ff?this.curve=t:t===Op||t===E1||t===Jv?this.adjusting=t:t!==Fl&&t!==Ts&&z("Unknown Link enum value for a Link property: "+t):Nt.prototype.jb.call(this,t)},st.Kc=function(){null===this.O&&(this.O=new hg)},st.rj=function(){var t=this.fromNode;if(null!==t){var e=t.findVisibleNode();if(null!==e&&(t=e),nl(t)||Ue(t))return!1}return!(null!==(t=this.toNode)&&(e=t.findVisibleNode(),null!==e&&(t=e),nl(t)||Ue(t)))},st.Ew=function(){return!1},st.lu=function(){},st.Nc=function(){return!1},We.prototype.computeAngle=function(t,e,o){return We.computeAngle(e,o)},We.computeAngle=function(t,e){switch(t){default:t=0;break;case $0:t=e;break;case Id:t=e+90;break;case Np:t=e-90;break;case sg:t=e+180;break;case X0:90<(t=pe.Tq(e))&&270>t&&(t-=180);break;case Lp:90<(t=pe.Tq(e+90))&&270>t&&(t-=180);break;case ag:90<(t=pe.Tq(e-90))&&270>t&&(t-=180);break;case Vl:if(45<(t=pe.Tq(e))&&135>t||225<t&&315>t)return 0;90<t&&270>t&&(t-=180)}return pe.Tq(t)},(st=We.prototype).Oh=function(){var t=this.containingGroup;null!==t&&this.fromNode!==t&&this.toNode!==t&&t.computesBoundsIncludingLinks&&Nt.prototype.Oh.call(this)},st.Kq=function(t){var e=this.fromNode;return t===e?this.toNode:e},st.nA=function(t){var e=this.fromPort;return t===e?this.toPort:e},st.Mq=function(t){if(Nt.prototype.Mq.call(this,t),sl(this)&&this.Oq(this.actualBounds),!t){var e=null;null!==(t=this.We)&&nn(t,this,e=this.fromPort);var o=this.rf;if(null!==o){var a=this.toPort;o===t&&a===e||nn(o,this,a)}Bc(this)}},st.Nq=function(t){if(Nt.prototype.Nq.call(this,t),sl(this)&&this.Oq(this.actualBounds),!t){var e=null;null!==(t=this.We)&&bn(t,this,e=this.fromPort);var o=this.rf;if(null!==o){var a=this.toPort;o===t&&a===e||bn(o,this,a)}Vc(this)}},st.uk=function(){if(this.ud=!0,null!==this.nd){var t=this.diagram;if(null!==t)for(var e=this.nd.copy().iterator;e.next();)t.remove(e.value)}null!==this.data&&null!==(t=this.diagram)&&t.partManager.removeDataForLink(this)},We.prototype.updateRelationshipsFromData=function(){if(null!==this.data){var t=this.diagram;null!==t&&t.partManager.updateRelationshipsFromData(this)}},We.prototype.move=function(t,e){var o=e?this.location:this.position,a=o.x;isNaN(a)&&(a=0);var h=o.y;for(isNaN(h)&&(h=0),a=t.x-a,h=t.y-h,!0===e?Nt.prototype.move.call(this,t,!1):(t=rt.allocAt(o.x+a,o.y+h),Nt.prototype.move.call(this,t,!1),rt.free(t)),ur(this,a,h),t=this.labelNodes;t.next();)(e=t.value).moveTo((o=e.position).x+a,o.y+h)},We.prototype.canRelinkFrom=function(){if(!this.relinkableFrom)return!1;var t=this.layer;return null===t||!!t.allowRelink&&!(null!==(t=t.diagram)&&!t.allowRelink)},We.prototype.canRelinkTo=function(){if(!this.relinkableTo)return!1;var t=this.layer;return null===t||!!t.allowRelink&&!(null!==(t=t.diagram)&&!t.allowRelink)},We.prototype.computeMidPoint=function(t){var e=this.pointsCount;if(0===e)return t.assign(Ln),t;if(1===e)return t.assign(this.i(0)),t;if(2===e){var o=this.i(0),a=this.i(1);return t.h((o.x+a.x)/2,(o.y+a.y)/2),t}if(this.isOrthogonal&&(15<=this.computeCorner()||this.computeCurve()===us))return this.na.Xv(.5,t),t.add(this.i(0)),o=this.na.figures.first(),t.offset(-o.startX,-o.startY),t;if(this.computeCurve()===us){if(3===e)return this.i(1);if(o=3*((a=(e-1)/3|0)/2|0),a%2==1){a=this.i(o);var h=this.i(o+1),c=this.i(o+2);o=this.i(o+3),pe.yz(a.x,a.y,h.x,h.y,c.x,c.y,o.x,o.y,t)}else t.assign(this.i(o));return t}var g=this.flattenedLengths;for(o=this.flattenedTotalLength,h=c=a=0;a<o/2&&c<e&&!(a+(h=g[c])>o/2);)a+=h,c++;return e=this.i(c),c=this.i(c+1),1>Math.abs(e.x-c.x)?t.h(e.x,e.y>c.y?e.y-(o/2-a):e.y+(o/2-a)):1>Math.abs(e.y-c.y)?t.h(e.x>c.x?e.x-(o/2-a):e.x+(o/2-a),e.y):t.h(e.x+(o=(o/2-a)/h)*(c.x-e.x),e.y+o*(c.y-e.y)),t},We.prototype.computeMidAngle=function(){var t=this.pointsCount;if(2>t)return NaN;if(2===t)return this.i(0).Pa(this.i(1));if(this.isOrthogonal&&(15<=this.computeCorner()||this.computeCurve()===us))return this.na.vy(.5);if(this.computeCurve()===us&&4<=t){var e=(t-1)/3|0,o=3*(e/2|0);if(e%2==1){o=Math.floor(o),t=this.i(o),e=this.i(o+1);var a=this.i(o+2);return o=this.i(o+3),pe.xz(t.x,t.y,e.x,e.y,a.x,a.y,o.x,o.y)}if(0<o&&o+1<t)return this.i(o-1).Pa(this.i(o+1))}e=this.flattenedLengths,a=this.flattenedTotalLength;var c,h=0;for(o=0;h<a/2&&o<t&&!(h+(c=e[o])>a/2);)h+=c,o++;if(e=this.i(o),a=this.i(o+1),1>Math.abs(e.x-a.x)&&1>Math.abs(e.y-a.y)){if(0<o&&o+2<t)return this.i(o-1).Pa(this.i(o+2))}else{if(1>Math.abs(e.x-a.x))return e.y>a.y?270:90;if(1>Math.abs(e.y-a.y))return e.x>a.x?180:0}return e.Pa(a)},(st=We.prototype).i=function(t){return this.Ab.j[t]},st.Qc=function(t,e){this.Ab.Pc(t,e)},st.L=function(t,e,o){this.Ab.Pc(t,new rt(e,o))},st.wA=function(t,e){this.Ab.wb(t,e)},st.m=function(t,e,o){this.Ab.wb(t,new rt(e,o))},st.ce=function(t){this.Ab.add(t)},st.vf=function(t,e){this.Ab.add(new rt(t,e))},st.uw=function(t){this.Ab.cb(t)},st.pk=function(){this.Ab.clear()},st.Th=function(){null===this.ph&&(this.ph=this.Ab,this.Ab=this.Ab.copy())},st.xf=function(){if(null!==this.ph){for(var t=this.ph,e=this.Ab,o=1/0,a=1/0,h=t.j,c=h.length,g=0;g<c;g++){var _=h[g];o=Math.min(_.x,o),a=Math.min(_.y,a)}_=g=1/0;for(var k=e.j,P=k.length,F=0;F<P;F++){var j=k[F];g=Math.min(j.x,g),_=Math.min(j.y,_),j.freeze()}if(e.freeze(),P===c){for(c=0;c<P;c++)if((F=h[c]).x-o!=(j=k[c]).x-g||F.y-a!=j.y-_){this.dc();break}}else this.dc();this.ph=null,null!==(o=this.diagram)&&o.animationManager.sc&&(o=o.animationManager,this.jf=e,o.$l.add(this)),Uo(this),this.g("points",t,e)}},st.yw=function(){null!==this.ph&&(this.Ab=this.ph,this.ph=null)},st.Ua=function(){if(!this.suspendsRouting){var t=this.diagram;if(t){if(t.Yt.contains(this)||t.undoManager.isUndoingRedoing||(t=t.animationManager).isTicking&&!t.isAnimating)return;null!==this.jf&&!t.isTicking&&t.isAnimating&&(this.jf=null)}null!==(t=this.path)&&(this.ud=!1,this.s(),t.s())}},st.xj=function(){if(!this.ud&&!this.Ct){var t=!0;try{this.Ct=!0,this.Th(),t=this.computePoints()}catch(e){this.Ct=!1,this.yw()}finally{this.Ct=!1,t?this.xf():this.yw()}}},We.prototype.computePoints=function(){if(null===this.diagram)return!1;var t=this.fromNode,e=null;if(null===t?(fa||((fa=new Fe).desiredSize=fn,fa.Ta()),this.defaultFromPoint&&(fa.location=this.defaultFromPoint,fa.Ta(),e=t=fa)):e=this.fromPort,null!==e&&!t.isVisible()){var o=t.findVisibleNode();null!==o&&o!==t?(t=o,e=o.port):t=o}if(this.Mx=t,null===t||!t.location.o())return!1;for(;!(null===e||e.actualBounds.o()&&e.Gf());)e=e.panel;if(null===e)return!1;var a=this.toNode,h=null;if(null===a?(ea||((ea=new Fe).desiredSize=fn,ea.Ta()),this.defaultToPoint&&(ea.location=this.defaultToPoint,ea.Ta(),h=a=ea)):h=this.toPort,null===h||a.isVisible()||(null!==(o=a.findVisibleNode())&&o!==a?(a=o,h=o.port):a=o),this.Nx=a,null===a||!a.location.o())return!1;for(;!(null===h||h.actualBounds.o()&&h.Gf());)h=h.panel;if(null===h)return!1;var c=this.pointsCount,g=this.computeSpot(!0,e);o=this.computeSpot(!1,h);var _=Pr(g),k=Pr(o),P=e===h&&null!==e,F=this.isOrthogonal,j=this.curve===us;this.Vf=!(!P||F)&&(j=!0);var ut=this.computeAdjusting()===Ts||P;if(!F&&!P&&_&&k){if(_=!1,!ut&&3<=c&&(ut=this.getLinkPoint(t,e,g,!0,!1,a,h),k=this.getLinkPoint(a,h,o,!1,!1,t,e),_=this.adjustPoints(0,ut,c-1,k))&&(ut=this.getLinkPoint(t,e,g,!0,!1,a,h),k=this.getLinkPoint(a,h,o,!1,!1,t,e),this.adjustPoints(0,ut,c-1,k)),!_)if(this.pk(),j){c=this.getLinkPoint(t,e,g,!0,!1,a,h),_=(ut=this.getLinkPoint(a,h,o,!1,!1,t,e)).x-c.x,k=ut.y-c.y,P=this.computeCurviness(),j=F=0;var xt=c.x+_/3,pt=c.y+k/3,Pt=xt,Xt=pt;pe.A(k,0)?Xt=0<_?Xt-P:Xt+P:(F=-_/k,j=Math.sqrt(P*P/(F*F+1)),0>P&&(j=-j),Xt=F*((Pt=(0>k?-1:1)*j+xt)-xt)+pt);var $t=xt=c.x+2*_/3,ie=pt=c.y+2*k/3;ie=pe.A(k,0)?0<_?ie-P:ie+P:F*(($t=(0>k?-1:1)*j+xt)-xt)+pt,this.pk(),this.ce(c),this.vf(Pt,Xt),this.vf($t,ie),this.ce(ut),this.Qc(0,this.getLinkPoint(t,e,g,!0,!1,a,h)),this.Qc(3,this.getLinkPoint(a,h,o,!1,!1,t,e))}else a=this.getLinkPoint(t,e,g,!0,!1,c=a,ut=h),h=this.getLinkPoint(c,ut,o,!1,!1,t,e),this.hasCurviness()?(ut=h.x-a.x,o=h.y-a.y,g=this.computeCurviness(),c=t=a.x+ut/2,_=e=a.y+o/2,pe.A(o,0)?_=0<ut?_-g:_+g:(ut=-ut/o,c=Math.sqrt(g*g/(ut*ut+1)),0>g&&(c=-c),_=ut*((c=(0>o?-1:1)*c+t)-t)+e),this.ce(a),this.vf(c,_),this.ce(h)):(this.ce(a),this.ce(h),_=te.alloc(),e.mj(_),k=_.$(h),ut.mj(_),P=_.$(a),(k||P)&&(g=e.da(qr(g),new rt),this.Qc(0,this.getLinkPointFromPoint(t,e,g,h,!0,g)),o=ut.da(qr(o),new rt),this.Qc(1,this.getLinkPointFromPoint(c,ut,o,a,!1,o))),te.free(_))}else{j=this.isAvoiding,ut&&(F&&j||P)&&this.pk();var se=P?this.computeCurviness():0;j=this.getLinkPoint(t,e,g,!0,F,a,h),xt=Pt=pt=0,(F||!_||P)&&(Xt=this.computeEndSegmentLength(t,e,g,!0),xt=this.getLinkDirection(t,e,j,g,!0,F,a,h),P&&(_||g.w(o)||!F&&g.x+o.x===1&&g.y+o.y===1)&&(xt-=F?90:30,0>se&&(xt-=180)),0>xt?xt+=360:360<=xt&&(xt-=360),P&&(Xt+=Math.abs(se)*(F?1:2)),0===xt?pt=Xt:90===xt?Pt=Xt:180===xt?pt=-Xt:270===xt?Pt=-Xt:(pt=Xt*Math.cos(xt*Math.PI/180),Pt=Xt*Math.sin(xt*Math.PI/180)),g.nc()&&P&&(Xt=e.da(Hi,rt.alloc()),$t=rt.allocAt(Xt.x+1e3*pt,Xt.y+1e3*Pt),this.getLinkPointFromPoint(t,e,Xt,$t,!0,j),rt.free(Xt),rt.free($t))),Xt=this.getLinkPoint(a,h,o,!1,F,t,e);var fe=ie=$t=0;if(F||!k||P){var we=this.computeEndSegmentLength(a,h,o,!1);fe=this.getLinkDirection(a,h,Xt,o,!1,F,t,e),P&&(k||g.w(o)||!F&&g.x+o.x===1&&g.y+o.y===1)&&(fe+=F?0:30,0>se&&(fe+=180)),0>fe?fe+=360:360<=fe&&(fe-=360),P&&(we+=Math.abs(se)*(F?1:2)),0===fe?$t=we:90===fe?ie=we:180===fe?$t=-we:270===fe?ie=-we:($t=we*Math.cos(fe*Math.PI/180),ie=we*Math.sin(fe*Math.PI/180)),o.nc()&&P&&(o=h.da(Hi,rt.alloc()),g=rt.allocAt(o.x+1e3*$t,o.y+1e3*ie),this.getLinkPointFromPoint(a,h,o,g,!1,Xt),rt.free(o),rt.free(g))}o=j,(F||!_||P)&&(o=new rt(j.x+pt,j.y+Pt)),g=Xt,(F||!k||P)&&(g=new rt(Xt.x+$t,Xt.y+ie)),!ut&&!F&&_&&3<c&&this.adjustPoints(0,j,c-2,g)?this.Qc(c-1,Xt):!ut&&!F&&k&&3<c&&this.adjustPoints(1,o,c-1,Xt)?this.Qc(0,j):!ut&&(F?6<=c:4<c)&&this.adjustPoints(1,o,c-2,g)?(this.Qc(0,j),this.Qc(c-1,Xt)):(this.pk(),this.ce(j),(F||!_||P)&&this.ce(o),F&&this.addOrthoPoints(o,xt,g,fe,t,a),(F||!k||P)&&this.ce(g),this.ce(Xt))}return!0},We.prototype.getLinkPointFromPoint=function(t,e,o,a,h,c){if(void 0===c&&(c=new rt),null===t||null===e)return c.assign(o),c;if(t.isVisible()||null!==(h=t.findVisibleNode())&&h!==t&&(e=h.port),t=null,null===(h=e.panel)||h.he()||(h=h.panel),null===h){h=a.x,a=a.y;var g=o.x;o=o.y}else{var _=-(t=h.Fd).m12*(h=1/(t.m11*t.m22-t.m12*t.m21)),k=-t.m21*h,P=t.m11*h,F=h*(t.m21*t.dy-t.m22*t.dx),j=h*(t.m12*t.dx-t.m11*t.dy);h=a.x*(g=t.m22*h)+a.y*k+F,a=a.x*_+a.y*P+j,g=o.x*g+o.y*k+F,o=o.x*_+o.y*P+j}return e.zk(h,a,g,o,c),null!==t&&c.transform(t),c},We.prototype.getLinkPoint=function(t,e,o,a,h,c,g,_){if(void 0===_&&(_=new rt),o.kb()&&!Pr(o))return e.da(o,_),_;if(o.Oc()){var k=Po(this,e);if(null!==k){if(_.assign(k.Qq),h&&this.routing===jc){var P=Po(this,g);if(null!==P&&k.wm<P.wm){k=rt.alloc(),P=rt.alloc();var F=new te(e.da(gr,k),e.da(tl,P)),j=this.computeSpot(!a,g);t=this.getLinkPoint(c,g,j,!a,h,t,e,P),(o.Ef(rd)||o.Ef(_r))&&t.y>=F.y&&t.y<=F.y+F.height?_.y=t.y:(o.Ef(wm)||o.Ef(ga))&&t.x>=F.x&&t.x<=F.x+F.width&&(_.x=t.x),rt.free(k),rt.free(P)}}return _}}return o=e.da(qr(o),rt.alloc()),this.pointsCount>(h?6:2)?(g=this.i(a?1:this.pointsCount-2),h&&(g=Zr(o,g.copy()))):(k=this.computeSpot(!a,g),c=rt.alloc(),g=g.da(qr(k),c),h&&(g=Zr(o,g)),rt.free(c)),this.getLinkPointFromPoint(t,e,o,g,a,_),rt.free(o),_},We.prototype.getLinkDirection=function(t,e,o,a,h,c,g,_){t:if(a.kb())var k=a.x>a.y?a.x>1-a.y?0:a.x<1-a.y?270:315:a.x<a.y?a.x>1-a.y?90:a.x<1-a.y?180:135:.5>a.x?225:.5<a.x?45:0;else{if(a.Oc()&&null!==(k=Po(this,e)))switch(k.Ac){case 1:k=270;break t;case 2:k=180;break t;default:k=0;break t;case 8:k=90;break t}k=e.da(Hi,rt.alloc()),this.pointsCount>(c?6:2)?(_=this.i(h?1:this.pointsCount-2),_=c?Zr(k,_.copy()):o):(o=rt.alloc(),_=_.da(Hi,o),rt.free(o)),o=Math.abs(_.x-k.x)>Math.abs(_.y-k.y)?_.x>=k.x?0:180:_.y>=k.y?90:270,rt.free(k),k=o}return a.nc()&&g.Kd(t)&&360<=(k+=180)&&(k-=360),Pr(a)||0===(t=e.lj())||(45<=t&&135>t?k+=90:135<=t&&225>t?k+=180:225<=t&&315>t&&(k+=270),360<=k&&(k-=360)),k},We.prototype.computeEndSegmentLength=function(t,e,o,a){return null!==e&&o.Oc()&&null!==(t=Po(this,e))?t.Pv:(t=a?this.fromEndSegmentLength:this.toEndSegmentLength,null!==e&&isNaN(t)&&(t=a?e.fromEndSegmentLength:e.toEndSegmentLength),isNaN(t)&&(t=10),t)},We.prototype.computeSpot=function(t,e){return void 0===e&&(e=null),t?null===(t=e||this.fromPort)?t=Hi:((e=this.fromSpot).Mb()&&(e=t.fromSpot),t=e===zs?mn:e):null===(t=e||this.toPort)?t=Hi:((e=this.toSpot).Mb()&&(e=t.toSpot),t=e===zs?mn:e),t},We.prototype.computeOtherPoint=function(t,e){return this.computeAdjusting()!==Ts&&4<this.pointsCount?this.computeMidPoint(new rt):null!==(t=null!==(t=e.yp)?l_(t,this):null)?t.Qq:e.da(Hi)},We.prototype.computeShortLength=function(t){if(t){if(t=this.fromShortLength,isNaN(t)){var e=this.fromPort;null!==e&&(t=e.fromShortLength)}return isNaN(t)?0:t}return t=this.toShortLength,isNaN(t)&&null!==(e=this.toPort)&&(t=e.toShortLength),isNaN(t)?0:t},We.prototype.zf=function(t,e,o,a,h,c){if(!1===this.pickable)return!1;void 0===e&&(e=null),void 0===o&&(o=null);var g=c;if(void 0===c&&(g=vn.alloc()).reset(),g.multiply(this.transform),this.Jh(t,g))return ow(this,e,o,h),void 0===c&&vn.free(g),!0;if(this.Mc(t,g)){var _=!1;if(!this.isAtomic)for(var k=this.W.j,P=k.length;P--;){var F=k[P];if(F.visible||F===this.locationObject){var j=F.actualBounds,ut=this.naturalBounds;if(!(j.x>ut.width||j.y>ut.height||0>j.x+j.width||0>j.y+j.height)){if((j=vn.alloc()).set(g),F instanceof qe)_=F.zf(t,e,o,a,h,j);else if(this.path===F){if(F instanceof Qi)if(_=t,ut=a,!1===F.pickable)_=!1;else if(j.multiply(F.transform),ut)t:{var xt=_,pt=j;if(F.Jh(xt,pt))_=!0;else{if(void 0===pt&&(pt=F.transform,xt.Ge(F.actualBounds))){_=!0;break t}_=xt.left,ut=xt.right;var Pt=xt.top;xt=xt.bottom;var Xt=rt.alloc(),$t=rt.alloc(),ie=rt.alloc(),se=vn.alloc();se.set(pt),se.jw(F.transform),se.St(),$t.x=ut,$t.y=Pt,$t.transform(se),Xt.x=_,Xt.y=Pt,Xt.transform(se),pt=!1,Yo(F,Xt,$t,ie)?pt=!0:(Xt.x=ut,Xt.y=xt,Xt.transform(se),Yo(F,Xt,$t,ie)?pt=!0:($t.x=_,$t.y=xt,$t.transform(se),Yo(F,Xt,$t,ie)?pt=!0:(Xt.x=_,Xt.y=Pt,Xt.transform(se),Yo(F,Xt,$t,ie)&&(pt=!0)))),vn.free(se),rt.free(Xt),rt.free($t),rt.free(ie),_=pt}}else _=F.Jh(_,j)}else _=Iv(F,t,a,j);_&&(ut=F,null!==e&&(ut=e(F)),ut&&(null===o||o(ut))&&h.add(ut)),vn.free(j)}}}return void 0===c&&vn.free(g),_||null!==this.background||null!==this.areaBackground}return void 0===c&&vn.free(g),!1},We.prototype.computeCurve=function(){if(null===this.Vf){var t=this.fromPort;this.Vf=null!==t&&t===this.toPort&&!this.isOrthogonal}return this.Vf?us:this.curve},We.prototype.computeCorner=function(){if(this.curve===us)return 0;var t=this.corner;return(isNaN(t)||0>t)&&(t=10),t},We.prototype.findMidLabel=function(){for(var t=this.path,e=this.W.j,o=e.length,a=0;a<o;a++){var h=e[a];if(h!==t&&!h.isPanelMain&&(h.segmentIndex===-1/0||isNaN(h.segmentIndex)))return h}for(t=this.labelNodes;t.next();)if((e=t.value).segmentIndex===-1/0||isNaN(e.segmentIndex))return e;return null},We.prototype.computeSpacing=function(){if(!this.isVisible())return 0;var t=pw;t=Math.max(t,this.computeThickness());var e=this.fromPort,o=this.toPort;if(null!==e&&null!==o){var a=this.findMidLabel();if(null!==a){var h=a.naturalBounds,c=a.margin,g=isNaN(h.width)?30:h.width*a.scale+c.left+c.right;h=isNaN(h.height)?14:h.height*a.scale+c.top+c.bottom,(a=a.segmentOrientation)===$0||a===X0||a===sg?t=Math.max(t,h):a===Np||a===ag||a===Id||a===Lp?t=Math.max(t,g):(e=e.da(Hi).Pa(o.da(Hi))/180*Math.PI,t=Math.max(t,Math.abs(Math.sin(e)*g)+Math.abs(Math.cos(e)*h)+1)),this.curve===us&&(t*=1.333)}}return t},We.prototype.arrangeBundledLinks=function(t,e){if(e)for(e=0;e<t.length;e++){var o=t[e];o.computeAdjusting()===Ts&&o.Ua()}},We.prototype.computeCurviness=function(){var t=this.curviness;if(isNaN(t)){t=k1;var e=this.Mf;if(null!==e){for(var o=u(),a=0,h=e.links,c=0;c<h.length;c++){var g=h[c].computeSpacing();o.push(g),a+=g}for(a=-a/2,c=0;c<h.length;c++){if(h[c]===this){t=a+o[c]/2;break}a+=o[c]}e.au===this.fromNode&&(t=-t),m(o)}}return t},We.prototype.computeThickness=function(){if(!this.isVisible())return 0;var t=this.path;return null!==t?Math.max(t.strokeWidth,1):1},We.prototype.hasCurviness=function(){return!isNaN(this.curviness)||null!==this.Mf},We.prototype.adjustPoints=function(t,e,o,a){var h=this.computeAdjusting();if(this.isOrthogonal){if(h===E1)return!1;h===Jv&&(h=Op)}switch(h){case E1:var c=this.i(t),g=this.i(o);if(!c.Qa(e)||!g.Qa(a)){var _=g.x-(h=c.x),k=g.y-(c=c.y),P=Math.sqrt(_*_+k*k);if(!pe.aa(P,0)){if(pe.aa(_,0))var F=0>k?-Math.PI/2:Math.PI/2;else F=Math.atan(k/Math.abs(_)),0>_&&(F=Math.PI-F);var j=e.y;_=a.x-(g=e.x);var ut=a.y-j;for(k=Math.sqrt(_*_+ut*ut),pe.aa(_,0)?ut=0>ut?-Math.PI/2:Math.PI/2:(ut=Math.atan(ut/Math.abs(_)),0>_&&(ut=Math.PI-ut)),P=k/P,F=ut-F,this.Qc(t,e),t+=1;t<o;t++)_=(e=this.i(t)).x-h,k=e.y-c,e=Math.sqrt(_*_+k*k),pe.aa(e,0)||(pe.aa(_,0)?k=0>k?-Math.PI/2:Math.PI/2:(k=Math.atan(k/Math.abs(_)),0>_&&(k=Math.PI-k)),_=k+F,this.L(t,g+(e*=P)*Math.cos(_),j+e*Math.sin(_)));this.Qc(o,a)}}return!0;case Jv:if(c=this.i(t),j=this.i(o),!c.Qa(e)||!j.Qa(a)){P=((g=j.x)-(h=c.x))*(g-h)+((j=j.y)-(c=c.y))*(j-c),F=e.y,ut=a.y;var xt=1;if((k=a.x)-(_=e.x)!=0){var pt=(ut-F)/(k-_);xt=Math.sqrt(1+1/(pt*pt))}else pt=9e9;for(this.Qc(t,e),t+=1;t<o;t++){var Pt=(e=this.i(t)).x,Xt=e.y,$t=.5;0!==P&&($t=((h-Pt)*(h-g)+(c-Xt)*(c-j))/P);var ie=h+$t*(g-h),se=c+$t*(j-c);e=Math.sqrt((Pt-ie)*(Pt-ie)+(Xt-se)*(Xt-se)),Xt<pt*(Pt-ie)+se&&(e=-e),0<pt&&(e=-e),Pt=_+$t*(k-_),$t=F+$t*(ut-F),0!==pt?this.L(t,e=Pt+e/xt,$t-(e-Pt)/pt):this.L(t,Pt,$t+e)}this.Qc(o,a)}return!0;case Op:return this.isOrthogonal&&(h=this.i(t),c=this.i(t+1),g=this.i(t+2),j=_=c.x,P=F=c.y,pe.A(h.y,c.y)?pe.A(c.x,g.x)?F=e.y:pe.A(c.y,g.y)&&(_=e.x):pe.A(h.x,c.x)&&(pe.A(c.y,g.y)?_=e.x:pe.A(c.x,g.x)&&(F=e.y)),this.L(t+1,_,F),h=this.i(o),c=this.i(o-1),g=this.i(o-2),k=_=c.x,ut=F=c.y,pe.A(h.y,c.y)?pe.A(c.x,g.x)?F=a.y:pe.A(c.y,g.y)&&(_=a.x):pe.A(h.x,c.x)&&(pe.A(c.y,g.y)?_=a.x:pe.A(c.x,g.x)&&(F=a.y)),this.L(o-1,_,F),As(this))?(this.L(t+1,j,P),this.L(o-1,k,ut),o=!1):(this.Qc(t,e),this.Qc(o,a),o=!0),o;default:return!1}},We.prototype.addOrthoPoints=function(t,e,o,a,h,c){0>e?e+=360:360<=e&&(e-=360),0>a?a+=360:360<=a&&(a-=360);var g=a;e=315<=e||45>e?0:45<=e&&135>e?90:135<=e&&225>e?180:270,a=315<=a||45>a?0:45<=a&&135>a?90:135<=a&&225>a?180:270;var _=h.actualBounds.copy(),k=c.actualBounds.copy();if(_.o()&&k.o()){if(_.Jc(Rd,Rd),k.Jc(Rd,Rd),_.Oe(t),k.Oe(o),0===e)if(o.x>t.x||270===a&&o.y<t.y&&k.right>t.x||90===a&&o.y>t.y&&k.right>t.x){var P=new rt(o.x,t.y),F=new rt(o.x,(t.y+o.y)/2);180===a?(P.x=this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!1),F.x=P.x,F.y=o.y):270===a&&o.y<t.y||90===a&&o.y>t.y?(P.x=t.x<k.left?this.computeMidOrthoPosition(t.x,t.y,k.left,o.y,!1):t.x<k.right&&(270===a&&t.y<k.top||90===a&&t.y>k.bottom)?this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!1):k.right,F.x=P.x,F.y=o.y):0===a&&t.x<k.left&&t.y>k.top&&t.y<k.bottom&&(P.x=t.x,P.y=t.y<o.y?Math.min(o.y,k.top):Math.max(o.y,k.bottom),F.y=P.y)}else P=new rt(t.x,o.y),F=new rt((t.x+o.x)/2,o.y),(180===a||90===a&&o.y<_.top||270===a&&o.y>_.bottom)&&(180===a&&(k.$(t)||_.$(o))?P.y=this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!0):o.y<t.y&&(180===a||90===a)?P.y=this.computeMidOrthoPosition(t.x,_.top,o.x,Math.max(o.y,k.bottom),!0):o.y>t.y&&(180===a||270===a)&&(P.y=this.computeMidOrthoPosition(t.x,_.bottom,o.x,Math.min(o.y,k.top),!0)),F.x=o.x,F.y=P.y),P.y>_.top&&P.y<_.bottom&&(o.x>=_.left&&o.x<=t.x||t.x<=k.right&&t.x>=o.x?(90===a||270===a)&&(P=new rt(Math.max((t.x+o.x)/2,t.x),t.y),F=new rt(P.x,o.y)):(P.y=270===a||(0===a||180===a)&&o.y<t.y?Math.min(o.y,0===a?_.top:Math.min(_.top,k.top)):Math.max(o.y,0===a?_.bottom:Math.max(_.bottom,k.bottom)),F.x=o.x,F.y=P.y));else 180===e?o.x<t.x||270===a&&o.y<t.y&&k.left<t.x||90===a&&o.y>t.y&&k.left<t.x?(P=new rt(o.x,t.y),F=new rt(o.x,(t.y+o.y)/2),0===a?(P.x=this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!1),F.x=P.x,F.y=o.y):270===a&&o.y<t.y||90===a&&o.y>t.y?(P.x=t.x>k.right?this.computeMidOrthoPosition(t.x,t.y,k.right,o.y,!1):t.x>k.left&&(270===a&&t.y<k.top||90===a&&t.y>k.bottom)?this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!1):k.left,F.x=P.x,F.y=o.y):180===a&&t.x>k.right&&t.y>k.top&&t.y<k.bottom&&(P.x=t.x,P.y=t.y<o.y?Math.min(o.y,k.top):Math.max(o.y,k.bottom),F.y=P.y)):(P=new rt(t.x,o.y),F=new rt((t.x+o.x)/2,o.y),(0===a||90===a&&o.y<_.top||270===a&&o.y>_.bottom)&&(0===a&&(k.$(t)||_.$(o))?P.y=this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!0):o.y<t.y&&(0===a||90===a)?P.y=this.computeMidOrthoPosition(t.x,_.top,o.x,Math.max(o.y,k.bottom),!0):o.y>t.y&&(0===a||270===a)&&(P.y=this.computeMidOrthoPosition(t.x,_.bottom,o.x,Math.min(o.y,k.top),!0)),F.x=o.x,F.y=P.y),P.y>_.top&&P.y<_.bottom&&(o.x<=_.right&&o.x>=t.x||t.x>=k.left&&t.x<=o.x?(90===a||270===a)&&(P=new rt(Math.min((t.x+o.x)/2,t.x),t.y),F=new rt(P.x,o.y)):(P.y=270===a||(0===a||180===a)&&o.y<t.y?Math.min(o.y,180===a?_.top:Math.min(_.top,k.top)):Math.max(o.y,180===a?_.bottom:Math.max(_.bottom,k.bottom)),F.x=o.x,F.y=P.y))):90===e?o.y>t.y||180===a&&o.x<t.x&&k.bottom>t.y||0===a&&o.x>t.x&&k.bottom>t.y?(P=new rt(t.x,o.y),F=new rt((t.x+o.x)/2,o.y),270===a?(P.y=this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!0),F.x=o.x,F.y=P.y):180===a&&o.x<t.x||0===a&&o.x>t.x?(P.y=t.y<k.top?this.computeMidOrthoPosition(t.x,t.y,o.x,k.top,!0):t.y<k.bottom&&(180===a&&t.x<k.left||0===a&&t.x>k.right)?this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!0):k.bottom,F.x=o.x,F.y=P.y):90===a&&t.y<k.top&&t.x>k.left&&t.x<k.right&&(P.x=t.x<o.x?Math.min(o.x,k.left):Math.max(o.x,k.right),P.y=t.y,F.x=P.x)):(P=new rt(o.x,t.y),F=new rt(o.x,(t.y+o.y)/2),(270===a||0===a&&o.x<_.left||180===a&&o.x>_.right)&&(270===a&&(k.$(t)||_.$(o))?P.x=this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!1):o.x<t.x&&(270===a||0===a)?P.x=this.computeMidOrthoPosition(_.left,t.y,Math.max(o.x,k.right),o.y,!1):o.x>t.x&&(270===a||180===a)&&(P.x=this.computeMidOrthoPosition(_.right,t.y,Math.min(o.x,k.left),o.y,!1)),F.x=P.x,F.y=o.y),P.x>_.left&&P.x<_.right&&(o.y>=_.top&&o.y<=t.y||t.y<=k.bottom&&t.y>=o.y?(0===a||180===a)&&(P=new rt(t.x,Math.max((t.y+o.y)/2,t.y)),F=new rt(o.x,P.y)):(P.x=180===a||(90===a||270===a)&&o.x<t.x?Math.min(o.x,90===a?_.left:Math.min(_.left,k.left)):Math.max(o.x,90===a?_.right:Math.max(_.right,k.right)),F.x=P.x,F.y=o.y))):o.y<t.y||180===a&&o.x<t.x&&k.top<t.y||0===a&&o.x>t.x&&k.top<t.y?(P=new rt(t.x,o.y),F=new rt((t.x+o.x)/2,o.y),90===a?(P.y=this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!0),F.x=o.x,F.y=P.y):180===a&&o.x<t.x||0===a&&o.x>=t.x?(P.y=t.y>k.bottom?this.computeMidOrthoPosition(t.x,t.y,o.x,k.bottom,!0):t.y>k.top&&(180===a&&t.x<k.left||0===a&&t.x>k.right)?this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!0):k.top,F.x=o.x,F.y=P.y):270===a&&t.y>k.bottom&&t.x>k.left&&t.x<k.right&&(P.x=t.x<o.x?Math.min(o.x,k.left):Math.max(o.x,k.right),P.y=t.y,F.x=P.x)):(P=new rt(o.x,t.y),F=new rt(o.x,(t.y+o.y)/2),(90===a||0===a&&o.x<_.left||180===a&&o.x>_.right)&&(90===a&&(k.$(t)||_.$(o))?P.x=this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!1):o.x<t.x&&(90===a||0===a)?P.x=this.computeMidOrthoPosition(_.left,t.y,Math.max(o.x,k.right),o.y,!1):o.x>t.x&&(90===a||180===a)&&(P.x=this.computeMidOrthoPosition(_.right,t.y,Math.min(o.x,k.left),o.y,!1)),F.x=P.x,F.y=o.y),P.x>_.left&&P.x<_.right&&(o.y<=_.bottom&&o.y>=t.y||t.y>=k.top&&t.y<=o.y?(0===a||180===a)&&(P=new rt(t.x,Math.min((t.y+o.y)/2,t.y)),F=new rt(o.x,P.y)):(P.x=180===a||(90===a||270===a)&&o.x<t.x?Math.min(o.x,270===a?_.left:Math.min(_.left,k.left)):Math.max(o.x,270===a?_.right:Math.max(_.right,k.right)),F.x=P.x,F.y=o.y)));var j=P,ut=F,xt=o;if(this.isAvoiding){var pt=this.diagram;if(null===pt||h===c||this.layer.isTemporary||!kv(pt)||_.$(xt)&&!c.Kd(h)||k.$(t)&&!h.Kd(c))e=!1;else{var Pt=P0(pt,!0,this.containingGroup,null);if(17!==this.segmentIndex&&Pt.Ek(Math.min(t.x,j.x),Math.min(t.y,j.y),Math.abs(t.x-j.x),Math.abs(t.y-j.y))&&Pt.Ek(Math.min(j.x,ut.x),Math.min(j.y,ut.y),Math.abs(j.x-ut.x),Math.abs(j.y-ut.y))&&Pt.Ek(Math.min(ut.x,xt.x),Math.min(ut.y,xt.y),Math.abs(ut.x-xt.x),Math.abs(ut.y-xt.y)))e=!1;else{h=t,c=xt;var Xt=o=null;if(pt.isVirtualized){(pt=Pt.bounds.copy()).Jc(-Pt.zq,-Pt.yq);var $t=rt.alloc();A1(Pt,t.x,t.y)||(pe.Cf(pt.x,pt.y,pt.x+pt.width,pt.y+pt.height,t.x,t.y,j.x,j.y,$t)?(o=t=$t.copy(),e=$t.Pa(j)):pe.Cf(pt.x,pt.y,pt.x+pt.width,pt.y+pt.height,j.x,j.y,ut.x,ut.y,$t)?(o=t=$t.copy(),e=$t.Pa(ut)):pe.Cf(pt.x,pt.y,pt.x+pt.width,pt.y+pt.height,ut.x,ut.y,xt.x,xt.y,$t)&&(o=t=$t.copy(),e=$t.Pa(xt))),A1(Pt,xt.x,xt.y)||(pe.Cf(pt.x,pt.y,pt.x+pt.width,pt.y+pt.height,xt.x,xt.y,ut.x,ut.y,$t)?(Xt=xt=$t.copy(),a=ut.Pa($t)):pe.Cf(pt.x,pt.y,pt.x+pt.width,pt.y+pt.height,ut.x,ut.y,j.x,j.y,$t)?(Xt=xt=$t.copy(),a=j.Pa($t)):pe.Cf(pt.x,pt.y,pt.x+pt.width,pt.y+pt.height,j.x,j.y,t.x,t.y,$t)&&(Xt=xt=$t.copy(),a=t.Pa($t))),rt.free($t)}(_=_.copy().Rc(k)).Jc(Pt.zq*Pt.Wy,Pt.yq*Pt.Wy),Fp(Pt,t,e,xt,a,_,!0),k=Bf(Pt,xt.x,xt.y),!Pt.abort&&k>=K0&&(AD(Pt),_.Jc(Pt.zq*Pt.Gy,Pt.yq*Pt.Gy),Fp(Pt,t,e,xt,a,_,!1),k=Bf(Pt,xt.x,xt.y)),!Pt.abort&&k<K0&&Bf(Pt,xt.x,xt.y)!==Od?(Aa(this,Pt,xt.x,xt.y,a,!0,g),_=this.i(2),4>this.pointsCount?(0===e||180===e?(_.x=t.x,_.y=xt.y):(_.x=xt.x,_.y=t.y),this.L(2,_.x,_.y),this.m(3,_.x,_.y)):(g=this.i(3),0===e||180===e?pe.A(_.x,g.x)?(_=0===e?Math.max(_.x,t.x):Math.min(_.x,t.x),this.L(2,_,t.y),this.L(3,_,g.y)):pe.A(_.y,g.y)?(Math.abs(t.y-_.y)<=Pt.yq/2&&(this.L(2,_.x,t.y),this.L(3,g.x,t.y)),this.m(2,_.x,t.y)):this.L(2,t.x,_.y):(90===e||270===e)&&(pe.A(_.y,g.y)?(_=90===e?Math.max(_.y,t.y):Math.min(_.y,t.y),this.L(2,t.x,_),this.L(3,g.x,_)):pe.A(_.x,g.x)?(Math.abs(t.x-_.x)<=Pt.zq/2&&(this.L(2,t.x,_.y),this.L(3,t.x,g.y)),this.m(2,t.x,_.y)):this.L(2,_.x,t.y))),null!==o&&(t=this.i(1),g=this.i(2),t.x!==g.x&&t.y!==g.y?0===e||180===e?this.m(2,t.x,g.y):this.m(2,g.x,t.y):0===e||180===e?this.m(2,h.x,o.y):this.m(2,o.x,h.y)),null!==Xt&&(0===a||180===a?this.vf(c.x,Xt.y):this.vf(Xt.x,c.y)),e=!0):e=!1}}}else e=!1;e||(this.ce(P),this.ce(F))}},We.prototype.computeMidOrthoPosition=function(t,e,o,a,h){var c=0;return!this.hasCurviness()||this.computeSpot(!0,this.fromPort).Oc()||this.computeSpot(!1,this.toPort).Oc()||(c=this.computeCurviness()),h?(e+a)/2+c:(t+o)/2+c},We.prototype.Sz=function(t){var e=t.x;t=t.y;for(var o=this.i(0),a=this.i(1),h=Ie(e,t,o.x,o.y,a.x,a.y),c=0,g=1;g<this.pointsCount-1;g++){o=this.i(g+1);var _=Ie(e,t,a.x,a.y,o.x,o.y);a=o,_<h&&(c=g,h=_)}return c},We.prototype.dc=function(){this.$m=!1,this.s()},We.prototype.Gk=function(t){if((t||!1!==this.ud&&(t=this.tb(),!this.$m||null!==t&&null===t.geometry))&&(this.na=this.makeGeometry(),null!==(t=this.path))){t.na=this.na;for(var e=this.W.j,o=e.length,a=0;a<o;a++){var h=e[a];h!==t&&h.isPanelMain&&h instanceof Qi&&(h.na=this.na)}}},We.prototype.makeGeometry=function(){var t=this.na,e=this.pointsCount;if(2>e)return t.type=Lo,this.$m=!0,t;var o=!1,a=this.diagram;null!==a&&sl(this)&&a.Vg.contains(this)&&(0!==this.Yl.width||0!==this.Yl.height)&&(o=!0);var h=this.i(0).copy(),c=h.copy();a=this.Ab.j;var g=this.computeCurve();if(g===us&&3<=e&&!pe.aa(this.smoothness,0))if(3===e){var _=this.i(1);a=Math.min(h.x,_.x);var k=Math.min(h.y,_.y);_=this.i(2),a=Math.min(a,_.x),k=Math.min(k,_.y)}else{if(this.isOrthogonal)for(k=0;k<e;k++)_=a[k],c.x=Math.min(_.x,c.x),c.y=Math.min(_.y,c.y);else for(a=3;a<e;a+=3)a+3>=e&&(a=e-1),k=this.i(a),c.x=Math.min(k.x,c.x),c.y=Math.min(k.y,c.y);a=c.x,k=c.y}else{for(k=0;k<e;k++)_=a[k],c.x=Math.min(_.x,c.x),c.y=Math.min(_.y,c.y);a=c.x,k=c.y}if(k-=this.vv.y,h.x-=a-=this.vv.x,h.y-=k,2!==e||sl(this)){if(t.type=kl,_=Ot(t),0!==this.computeShortLength(!0)&&(h=xl(this,h,!0,c)),tt(_,h.x,h.y,!1),g===us&&3<=e&&!pe.aa(this.smoothness,0))if(3===e)e=(o=this.i(1)).x-a,o=o.y-k,(h=this.i(2).copy()).x-=a,h.y-=k,0!==this.computeShortLength(!1)&&(h=xl(this,h,!1,c)),ot(_,e,o,e,o,h.x,h.y);else if(this.isOrthogonal){c=new rt(a,k),h=this.i(1).copy(),g=new rt(a,k),e=new rt(a,k),o=this.i(0);for(var P,F=this.smoothness/3,j=1;j<this.pointsCount-1;j++){var ut=o,xt=P=this.i(j),pt=this.i(Ha(this,P,j,!1));if(!(pe.aa(ut.x,xt.x)&&pe.aa(xt.x,pt.x)||pe.aa(ut.y,xt.y)&&pe.aa(xt.y,pt.y))){var Pt=F;isNaN(Pt)&&(Pt=this.smoothness/3);var Xt=ut.x,$t=xt.x,ie=pt.x;pt=pt.y;var se=Pt*_h(Xt,ut=ut.y,$t,xt=xt.y);Pt*=_h($t,xt,ie,pt),pe.aa(ut,xt)&&pe.aa($t,ie)&&($t>Xt?pt>xt?(g.x=$t-se,g.y=xt-se,e.x=$t+Pt,e.y=xt+Pt):(g.x=$t-se,g.y=xt+se,e.x=$t+Pt,e.y=xt-Pt):pt>xt?(g.x=$t+se,g.y=xt-se,e.x=$t-Pt,e.y=xt+Pt):(g.x=$t+se,g.y=xt+se,e.x=$t-Pt,e.y=xt-Pt)),pe.aa(Xt,$t)&&pe.aa(xt,pt)&&(xt>ut?(ie>$t?(g.x=$t-se,g.y=xt-se,e.x=$t+Pt):(g.x=$t+se,g.y=xt-se,e.x=$t-Pt),e.y=xt+Pt):(ie>$t?(g.x=$t-se,g.y=xt+se,e.x=$t+Pt):(g.x=$t+se,g.y=xt+se,e.x=$t-Pt),e.y=xt-Pt)),(pe.aa(Xt,$t)&&pe.aa($t,ie)||pe.aa(ut,xt)&&pe.aa(xt,pt))&&(ut=.5*(ut+pt),g.x=Xt=.5*(Xt+ie),g.y=ut,e.x=Xt,e.y=ut),(1===j||2===j&&pe.aa(o.x,this.i(0).x)&&pe.aa(o.y,this.i(0).y))&&(h.x=.5*(o.x+P.x),h.y=.5*(o.y+P.y)),ot(_,h.x-a,h.y-k,g.x-a,g.y-k,P.x-a,P.y-k),c.set(g),h.set(e),o=P}}c=o.x,o=o.y,h=this.i(this.pointsCount-1),0!==this.computeShortLength(!1)&&(h=xl(this,h.copy(),!1,ii)),ot(_,e.x-a,e.y-k,(c=.5*(c+h.x))-a,(o=.5*(o+h.y))-k,h.x-a,h.y-k)}else for(o=3;o<e;o+=3)c=this.i(o-2),o+3>=e&&(o=e-1),h=this.i(o-1),g=this.i(o),o===e-1&&0!==this.computeShortLength(!1)&&(g=xl(this,g.copy(),!1,ii)),ot(_,c.x-a,c.y-k,h.x-a,h.y-k,g.x-a,g.y-k);else{for((c=rt.alloc()).assign(this.i(0)),(h=rt.alloc()).assign(c),g=this.computeCorner(),j=1,P=0;j<e;){if(j=Ha(this,c,j,1<j),F=this.i(j),j>=e-1){if(c.w(F)){if(0===P)for(j=1;j<e;)h.assign(c),Kn(this,_,-a,-k,c,F=this.i(j++),o),c.assign(F)}else 0!==this.computeShortLength(!1)&&(F=xl(this,F.copy(),!1,ii)),Kn(this,_,-a,-k,c,F,o);break}if(P=Ha(this,F,j+1,j<e-3),j=-a,Xt=-k,ut=F,Pt=this.i(P),$t=o,pe.A(c.y,ut.y)&&pe.A(ut.x,Pt.x))if(xt=Math.min(g,Math.abs(ut.x-h.x)/2),xt=ie=Math.min(xt,Math.abs(Pt.y-ut.y)/2),pe.A(xt,0))Kn(this,_,j,Xt,c,ut,$t),c.assign(ut);else{var fe=pt=ut.x,we=se=ut.y;we=Pt.y>ut.y?ut.y+ie:ut.y-ie,Kn(this,_,j,Xt,c,new rt(pt=ut.x>c.x?ut.x-xt:ut.x+xt,se),$t),mt(_,ut.x+j,ut.y+Xt,fe+j,we+Xt),c.h(fe,we)}else pe.A(c.x,ut.x)&&pe.A(ut.y,Pt.y)?(xt=Math.min(g,Math.abs(ut.y-h.y)/2),xt=ie=Math.min(xt,Math.abs(Pt.x-ut.x)/2),pe.A(ie,0)?(Kn(this,_,j,Xt,c,ut,$t),c.assign(ut)):(fe=pt=ut.x,we=se=ut.y,fe=Pt.x>ut.x?ut.x+ie:ut.x-ie,Kn(this,_,j,Xt,c,new rt(pt,se=ut.y>c.y?ut.y-xt:ut.y+xt),$t),mt(_,ut.x+j,ut.y+Xt,fe+j,we+Xt),c.h(fe,we))):(Kn(this,_,j,Xt,c,ut,$t),c.assign(ut));h.assign(F),j=P}rt.free(c)}jt=_}else(_=this.i(1).copy()).x-=a,_.y-=k,0!==this.computeShortLength(!0)&&(h=xl(this,h,!0,c)),0!==this.computeShortLength(!1)&&(_=xl(this,_,!1,c)),t.type=Lo,t.startX=h.x,t.startY=h.y,t.endX=_.x,t.endY=_.y;return this.$m=!0,t},We.prototype.computeJumpLength=function(){return 10},We.prototype.Oq=function(t){var e=this.layer;if(null!==e&&e.visible&&!e.isTemporary){var o=e.diagram;if(null!==o&&!o.animationManager.isTicking){var a=!1;for(o=o.layers;o.next();){var h=o.value;if(h.visible)if(h===e){a=!0;for(var c=!1,g=(h=h.Fa.j).length,_=0;_<g;_++){var k=h[_];k instanceof We&&(k===this?c=!0:c&&Lf(this,k,t))}}else if(a)for(h=(c=h.Fa.j).length,g=0;g<h;g++)(_=c[g])instanceof We&&Lf(this,_,t)}}}},We.prototype.usesSamePort=function(t){var e=this.pointsCount,o=t.pointsCount;if(0<e&&0<o){var a=this.i(0),h=t.i(0);if(a.Qa(h)||(e=this.i(e-1),t=t.i(o-1),e.Qa(t)||a.Qa(t)||e.Qa(h)))return!0}else if(this.fromNode===t.fromNode||this.toNode===t.toNode||this.fromNode===t.toNode||this.toNode===t.fromNode)return!0;return!1},We.prototype.isVisible=function(){if(!Nt.prototype.isVisible.call(this))return!1;var t=this.containingGroup,e=!0,o=this.diagram;if(null!==o&&(e=o.isTreePathToChildren),null!==(o=this.fromNode)){if(this.isTreeLink&&e&&!o.isTreeExpanded)return!1;if(o===t)return!0;for(var a=o;null!==a;){if(a.labeledLink===this)return!0;a=a.containingGroup}if(null===(o=o.findVisibleNode())||o===t)return!1}if(null!==(o=this.toNode)){if(this.isTreeLink&&!e&&!o.isTreeExpanded)return!1;if(o===t)return!0;for(e=o;null!==e;){if(e.labeledLink===this)return!0;e=e.containingGroup}if(null===(e=o.findVisibleNode())||e===t)return!1}return!0},We.prototype.Ob=function(t){if(Nt.prototype.Ob.call(this,t),null!==this.Mf&&this.Mf.Dm(),null!==this.nd)for(var e=this.nd.iterator;e.next();)e.value.Ob(t)},We.prototype.computeAdjusting=function(){return this.isAvoiding&&null!==this.diagram&&this.diagram.animationManager.defaultAnimation.isAnimating?Op:this.Yk},We.prototype.Ph=function(){return!0},X.Object.defineProperties(We.prototype,{fromNode:{get:function(){return this.We},set:function(t){var e=this.We;if(e!==t){var o=this.fromPort;null!==e&&(this.rf!==e&&bn(e,this,o),Vc(this),this.C(2)),this.We=t,null!==t&&this.Ob(t.isVisible()),this.Vf=null,this.Ua();var a=this.diagram;null!==a&&a.Z&&a.partManager.setFromNodeForLink(this,t,e);var h=this.fromPort,c=this.fromPortChanged;if(null!==c){var g=!0;null!==a&&(g=a.Z,a.Z=!0),c(this,o,h),null!==a&&(a.Z=g)}null!==t&&(this.rf!==t&&nn(t,this,h),Bc(this),this.C(1)),this.g("fromNode",e,t),en(this)}}},fromPortId:{get:function(){return this.Xe},set:function(t){var e=this.Xe;if(e!==t){var o=this.fromPort;null!==o&&Ni(o),Vc(this),this.Xe=t;var a=this.fromPort;null!==a&&Ni(a);var h=this.diagram;if(null!==h){var c=this.data,g=h.model;null!==c&&g.qj()&&g.Cw(c,t)}o!==a&&(this.Vf=null,this.Ua(),null!==(c=this.fromPortChanged)&&(g=!0,null!==h&&(g=h.Z,h.Z=!0),c(this,o,a),null!==h&&(h.Z=g))),Bc(this),this.g("fromPortId",e,t)}}},fromPort:{get:function(){var t=this.We;return null===t?null:t.Jt(this.Xe)}},fromPortChanged:{get:function(){return this.fo},set:function(t){var e=this.fo;e!==t&&(this.fo=t,this.g("fromPortChanged",e,t))}},toNode:{get:function(){return this.rf},set:function(t){var e=this.rf;if(e!==t){var o=this.toPort;null!==e&&(this.We!==e&&bn(e,this,o),Vc(this),this.C(2)),this.rf=t,null!==t&&this.Ob(t.isVisible()),this.Vf=null,this.Ua();var a=this.diagram;null!==a&&a.Z&&a.partManager.setToNodeForLink(this,t,e);var h=this.toPort,c=this.toPortChanged;if(null!==c){var g=!0;null!==a&&(g=a.Z,a.Z=!0),c(this,o,h),null!==a&&(a.Z=g)}null!==t&&(this.We!==t&&nn(t,this,h),Bc(this),this.C(1)),this.g("toNode",e,t),en(this)}}},toPortId:{get:function(){return this.sf},set:function(t){var e=this.sf;if(e!==t){var o=this.toPort;null!==o&&Ni(o),Vc(this),this.sf=t;var a=this.toPort;null!==a&&Ni(a);var h=this.diagram;if(null!==h){var c=this.data,g=h.model;null!==c&&g.qj()&&g.Hw(c,t)}o!==a&&(this.Vf=null,this.Ua(),null!==(c=this.toPortChanged)&&(g=!0,null!==h&&(g=h.Z,h.Z=!0),c(this,o,a),null!==h&&(h.Z=g))),Bc(this),this.g("toPortId",e,t)}}},toPort:{get:function(){var t=this.rf;return null===t?null:t.Jt(this.sf)}},toPortChanged:{get:function(){return this.mq},set:function(t){var e=this.mq;e!==t&&(this.mq=t,this.g("toPortChanged",e,t))}},fromSpot:{get:function(){return null!==this.O?this.O.bh:zs},set:function(t){this.Kc();var e=this.O.bh;e.w(t)||(t=t.H(),this.O.bh=t,this.g("fromSpot",e,t),(e.Oc()||t.Oc())&&null!==this.fromNode&&Ni(this.fromPort),this.Ua())}},fromEndSegmentLength:{get:function(){return null!==this.O?this.O.$g:NaN},set:function(t){this.Kc();var e=this.O.$g;e!==t&&(0>t&&Q(t,">= 0",We,"fromEndSegmentLength"),this.O.$g=t,this.g("fromEndSegmentLength",e,t),this.Ua())}},fromShortLength:{get:function(){return null!==this.O?this.O.ah:NaN},set:function(t){this.Kc();var e=this.O.ah;e!==t&&(this.O.ah=t,this.dc(),this.g("fromShortLength",e,t))}},toSpot:{get:function(){return null!==this.O?this.O.Ch:zs},set:function(t){this.Kc();var e=this.O.Ch;e.w(t)||(t=t.H(),this.O.Ch=t,this.g("toSpot",e,t),(e.Oc()||t.Oc())&&null!==this.toNode&&Ni(this.toPort),this.Ua())}},toEndSegmentLength:{get:function(){return null!==this.O?this.O.Ah:NaN},set:function(t){this.Kc();var e=this.O.Ah;e!==t&&(0>t&&Q(t,">= 0",We,"toEndSegmentLength"),this.O.Ah=t,this.g("toEndSegmentLength",e,t),this.Ua())}},toShortLength:{get:function(){return null!==this.O?this.O.Bh:NaN},set:function(t){this.Kc();var e=this.O.Bh;e!==t&&(this.O.Bh=t,this.dc(),this.g("toShortLength",e,t))}},isLabeledLink:{get:function(){return null!==this.nd&&0<this.nd.count}},labelNodes:{get:function(){return null===this.nd?Rt:this.nd.iterator}},relinkableFrom:{get:function(){return 0!=(1&this.Ga)},set:function(t){var e=0!=(1&this.Ga);e!==t&&(this.Ga^=1,this.g("relinkableFrom",e,t),this.Lb())}},relinkableTo:{get:function(){return 0!=(2&this.Ga)},set:function(t){var e=0!=(2&this.Ga);e!==t&&(this.Ga^=2,this.g("relinkableTo",e,t),this.Lb())}},resegmentable:{get:function(){return 0!=(4&this.Ga)},set:function(t){var e=0!=(4&this.Ga);e!==t&&(this.Ga^=4,this.g("resegmentable",e,t),this.Lb())}},isTreeLink:{get:function(){return 0!=(8&this.Ga)},set:function(t){var e=0!=(8&this.Ga);e!==t&&(this.Ga^=8,this.g("isTreeLink",e,t),null!==this.fromNode&&Mr(this.fromNode),null!==this.toNode&&Mr(this.toNode))}},path:{get:function(){var t=this.tb();return t instanceof Qi?t:null}},routeBounds:{get:function(){this.xj();var t=this.Yl,e=1/0,o=1/0,a=this.pointsCount;if(0===a)t.h(NaN,NaN,0,0);else{if(1===a)a=this.i(0),e=Math.min(a.x,e),o=Math.min(a.y,o),t.h(a.x,a.y,0,0);else if(2===a){a=this.i(0);var h=this.i(1);e=Math.min(a.x,h.x),o=Math.min(a.y,h.y),t.h(a.x,a.y,0,0),t.Oe(h)}else if(this.computeCurve()===us&&3<=a&&!this.isOrthogonal)if(h=this.i(0),t.h(e=h.x,o=h.y,0,0),3===a){a=this.i(1),e=Math.min(a.x,e),o=Math.min(a.y,o);var c=this.i(2);e=Math.min(c.x,e),o=Math.min(c.y,o),pe.vm(h.x,h.y,a.x,a.y,a.x,a.y,c.x,c.y,.5,t)}else for(c=3;c<a;c+=3){var g=this.i(c-2);c+3>=a&&(c=a-1);var _=this.i(c-1),k=this.i(c);pe.vm(h.x,h.y,g.x,g.y,_.x,_.y,k.x,k.y,.5,t),e=Math.min(k.x,e),o=Math.min(k.y,o),h=k}else for(h=this.i(0),c=this.i(1),e=Math.min(h.x,c.x),o=Math.min(h.y,c.y),t.h(h.x,h.y,0,0),t.Oe(c),h=2;h<a;h++)c=this.i(h),e=Math.min(c.x,e),o=Math.min(c.y,o),t.Oe(c);this.vv.h(e-t.x,o-t.y)}return t}},midPoint:{get:function(){return this.xj(),this.computeMidPoint(new rt)}},midAngle:{get:function(){return this.xj(),this.computeMidAngle()}},flattenedLengths:{get:function(){if(null===this.$r){this.ud||Uo(this);for(var t=this.$r=[],e=this.pointsCount,o=0;o<e-1;o++){var a=this.i(o),h=this.i(o+1);pe.aa(a.x,h.x)?0>(a=h.y-a.y)&&(a=-a):pe.aa(a.y,h.y)?0>(a=h.x-a.x)&&(a=-a):a=Math.sqrt(a.Ie(h)),t.push(a)}}return this.$r}},flattenedTotalLength:{get:function(){var t=this.Ru;if(isNaN(t)){for(var e=this.flattenedLengths,o=e.length,a=t=0;a<o;a++)t+=e[a];this.Ru=t}return t}},points:{get:function(){return this.Ab},set:function(t){var e=this.Ab;if(e!==t){var o=null;if(Array.isArray(t)){var a=t.length%2==0;if(a)for(var h=0;h<t.length;h++)if("number"!=typeof t[h]||isNaN(t[h])){a=!1;break}if(a)for(o=new Lt,a=0;a<t.length/2;a++)h=new rt(t[2*a],t[2*a+1]).freeze(),o.add(h);else{for(a=!0,h=0;h<t.length;h++){var c=t[h];if(!Ct(c)||"number"!=typeof c.x||isNaN(c.x)||"number"!=typeof c.y||isNaN(c.y)){a=!1;break}}if(a)for(o=new Lt,a=0;a<t.length;a++)o.add(new rt((h=t[a]).x,h.y).freeze())}}else if(t instanceof Lt)for(o=t.copy(),t=o.iterator;t.next();)t.value.freeze();else z("Link.points value is not an instance of List or Array: "+t);o.freeze(),this.Ab=o,this.dc(),Uo(this),null!==(t=this.diagram)&&(t.pj||t.undoManager.isUndoingRedoing||t.Yt.add(this),t.animationManager.sc&&(t=t.animationManager,this.jf=o,t.$l.add(this))),this.g("points",e,o)}}},pointsCount:{get:function(){return this.Ab.count}},ud:{get:function(){return 0!=(16&this.Ga)},set:function(t){0!=(16&this.Ga)!==t&&(this.Ga^=16)}},suspendsRouting:{get:function(){return 0!=(32&this.Ga)},set:function(t){0!=(32&this.Ga)!==t&&(this.Ga^=32)}},Ct:{get:function(){return 0!=(64&this.Ga)},set:function(t){0!=(64&this.Ga)!==t&&(this.Ga^=64)}},defaultFromPoint:{get:function(){return this.u},set:function(t){this.u=t.copy()}},defaultToPoint:{get:function(){return this.I},set:function(t){this.I=t.copy()}},isOrthogonal:{get:function(){return 2==(2&this.ck.value)}},isAvoiding:{get:function(){return 4==(4&this.ck.value)}},$m:{get:function(){return 0!=(128&this.Ga)},set:function(t){0!=(128&this.Ga)!==t&&(this.Ga^=128)}},geometry:{get:function(){return this.$m||(this.xj(),this.na=this.makeGeometry()),this.na}},firstPickIndex:{get:function(){return 2>=this.pointsCount?0:this.isOrthogonal||!Pr(this.computeSpot(!0))?1:0}},lastPickIndex:{get:function(){var t=this.pointsCount;return 0===t?0:2>=t?t-1:this.isOrthogonal||!Pr(this.computeSpot(!1))?t-2:t-1}},adjusting:{get:function(){return this.Yk},set:function(t){var e=this.Yk;e!==t&&(this.Yk=t,this.g("adjusting",e,t))}},corner:{get:function(){return this.Hn},set:function(t){var e=this.Hn;e!==t&&(this.Hn=t,this.dc(),this.g("corner",e,t))}},curve:{get:function(){return this.Jn},set:function(t){var e=this.Jn;e!==t&&(this.Jn=t,this.Ua(),this.dc(),al(this,e===Ua||e===Ff||t===Ua||t===Ff),this.g("curve",e,t))}},curviness:{get:function(){return this.Kn},set:function(t){var e=this.Kn;e!==t&&(this.Kn=t,this.Ua(),this.dc(),this.g("curviness",e,t))}},routing:{get:function(){return this.ck},set:function(t){var e=this.ck;e!==t&&(this.ck=t,this.Vf=null,this.Ua(),al(this,2==(2&e.value)||2==(2&t.value)),this.g("routing",e,t))}},smoothness:{get:function(){return this.Zp},set:function(t){var e=this.Zp;e!==t&&(this.Zp=t,this.dc(),this.g("smoothness",e,t))}},key:{get:function(){var t=this.diagram;if(null!==t&&t.model.qj())return t.model.Wb(this.data)}}}),We.prototype.invalidateOtherJumpOvers=We.prototype.Oq,We.prototype.findClosestSegment=We.prototype.Sz,We.prototype.updateRoute=We.prototype.xj,We.prototype.invalidateRoute=We.prototype.Ua,We.prototype.rollbackRoute=We.prototype.yw,We.prototype.commitRoute=We.prototype.xf,We.prototype.startRoute=We.prototype.Th,We.prototype.clearPoints=We.prototype.pk,We.prototype.removePoint=We.prototype.uw,We.prototype.addPointAt=We.prototype.vf,We.prototype.addPoint=We.prototype.ce,We.prototype.insertPointAt=We.prototype.m,We.prototype.insertPoint=We.prototype.wA,We.prototype.setPointAt=We.prototype.L,We.prototype.setPoint=We.prototype.Qc,We.prototype.getPoint=We.prototype.i,We.prototype.getOtherPort=We.prototype.nA,We.prototype.getOtherNode=We.prototype.Kq;var fa=null,ea=null,Fl=new wt(We,"Normal",1),Bl=new wt(We,"Orthogonal",2),Rp=new wt(We,"AvoidsNodes",6),jc=new wt(We,"AvoidsNodesStraight",7),Ts=new wt(We,"None",0),us=new wt(We,"Bezier",9),Ua=new wt(We,"JumpGap",10),Ff=new wt(We,"JumpOver",11),Op=new wt(We,"End",17),E1=new wt(We,"Scale",18),Jv=new wt(We,"Stretch",19),$0=new wt(We,"OrientAlong",21),Id=new wt(We,"OrientPlus90",22),Np=new wt(We,"OrientMinus90",23),sg=new wt(We,"OrientOpposite",24),X0=new wt(We,"OrientUpright",25),Lp=new wt(We,"OrientPlus90Upright",26),ag=new wt(We,"OrientMinus90Upright",27),Vl=new wt(We,"OrientUpright45",28),k1=16,pw=14,Rd=8;function Zh(t,e,o,a){me(this),this.se=this.hs=!1,this.au=t,this.My=e,this.lw=o,this.Ny=a,this.links=[]}function Qv(){me(this),this.Vy=this.group=null,this.Rt=!0,this.abort=!1,this.Bd=this.Ad=1,this.So=this.Ro=-1,this.gc=this.fc=8,this.Rb=null,this.$i=this.Zi=0,this.Wy=11,this.Gy=124}function A1(t,e,o){return t.Ad<=e&&e<=t.Ro&&t.Bd<=o&&o<=t.So}function Bf(t,e,o){return A1(t,e,o)?(e-=t.Ad,o-=t.Bd,t.Rb[0|(e/=t.fc)][0|(o/=t.gc)]):gw}function AD(t){if(null!==t.Rb)for(var e=0;e<=t.Zi;e++)for(var o=t.Rb[e],a=0;a<=t.$i;a++)o[a]>=Bp&&(o[a]=gw)}function Vf(t,e,o,a,h,c,g,_,k){if(!(e<c||e>g||o<_||o>k)){var P=0|e,F=0|o,j=t.Rb[P][F];if(j>=Bp&&j<K0)for(h?F+=a:P+=a,j+=1;c<=P&&P<=g&&_<=F&&F<=k&&!(j>=t.Rb[P][F]);)t.Rb[P][F]=j,j+=1,h?F+=a:P+=a;if(P=h?F:P,h)if(0<a)for(o+=a;o<P;o+=a)Vf(t,e,o,1,!h,c,g,_,k),Vf(t,e,o,-1,!h,c,g,_,k);else for(o+=a;o>P;o+=a)Vf(t,e,o,1,!h,c,g,_,k),Vf(t,e,o,-1,!h,c,g,_,k);else if(0<a)for(e+=a;e<P;e+=a)Vf(t,e,o,1,!h,c,g,_,k),Vf(t,e,o,-1,!h,c,g,_,k);else for(e+=a;e>P;e+=a)Vf(t,e,o,1,!h,c,g,_,k),Vf(t,e,o,-1,!h,c,g,_,k)}}function s_(t,e,o,a,h,c,g,_,k){var P=Od,F=Bp;for(t.Rb[e|=0][o|=0]=F;P===Od&&e>c&&e<g&&o>_&&o<k;)t.Rb[e][o]=F+=1,h?o+=a:e+=a,P=t.Rb[e][o]}function a_(t,e,o,a,h,c,g,_,k){var P=Od,F=K0;for(t.Rb[e|=0][o|=0]=F;P===Od&&e>c&&e<g&&o>_&&o<k;)t.Rb[e][o]=F,h?o+=a:e+=a,P=t.Rb[e][o]}function Fp(t,e,o,a,h,c,g){if(null!==t.Rb){t.abort=!1;var _=e.x,k=e.y;if(A1(t,_,k)){_-=t.Ad,_/=t.fc,k-=t.Bd,k/=t.gc;var P=a.x,F=a.y;if(A1(t,P,F))if(P-=t.Ad,P/=t.fc,F-=t.Bd,F/=t.gc,1>=Math.abs(_-P)&&1>=Math.abs(k-F))t.abort=!0;else{var j=c.x;a=c.y,e=c.x+c.width;var ut=c.y+c.height;j-=t.Ad,j/=t.fc,a-=t.Bd,a/=t.gc,e-=t.Ad,e/=t.fc,ut-=t.Bd,ut/=t.gc,c=Math.max(0,Math.min(t.Zi,0|j)),e=Math.min(t.Zi,Math.max(0,0|e)),j=Math.max(0,Math.min(t.$i,0|a)),ut=Math.min(t.$i,Math.max(0,0|ut)),P|=0,F|=0;var xt=0===o||90===o?1:-1;if(o=90===o||270===o,(a=t.Rb)[_|=0][k|=0]===Od?(s_(t,_,k,xt,o,c,e,j,ut),s_(t,_,k,1,!o,c,e,j,ut),s_(t,_,k,-1,!o,c,e,j,ut)):s_(t,_,k,xt,o,_,k,_,k),a[P][F]===Od?(a_(t,P,F,0===h||90===h?1:-1,90===h||270===h,c,e,j,ut),a_(t,P,F,1,!(90===h||270===h),c,e,j,ut),a_(t,P,F,-1,!(90===h||270===h),c,e,j,ut)):a_(t,P,F,xt,o,P,F,P,F),o=u(),g&&mw(t,P,F,h,_,k,o))for((o[0]!==P||o[1]!==F)&&(o.unshift(F),o.unshift(P)),(o[o.length-2]!==_||o[o.length-1]!==k)&&(o.push(_),o.push(k)),t=Bp,a[h=o[o.length-2]][g=o[o.length-1]]=t++,c=o.length-4;0<=c;c-=2)for(h=o[c+2],g=o[c+3],e=o[c],P=o[c+1];e>h?h++:e<h?h--:P>g?g++:P<g&&g--,a[h][g]=t++,h!==e||g!==P;);else Vf(t,_,k,1,!1,c,e,j,ut),Vf(t,_,k,-1,!1,c,e,j,ut),Vf(t,_,k,1,!0,c,e,j,ut),Vf(t,_,k,-1,!0,c,e,j,ut);m(o)}}}}function mw(t,e,o,a,h,c,g){for(var _=t.Rb,k=e,P=o;;){if(k===h&&P===c)return!0;var F=k,j=P;if(0===a){if(!(F<h))break;F++}else if(90===a){if(!(j<c))break;j++}else if(180===a){if(!(F>h))break;F--}else{if(!(j>c))break;j--}var ut=_[F][j];if(0===ut||ut===T1)break;k=F,P=j}for(;;){if(F=a,j=k,ut=P,0===a?ut<c?(F=90,ut++):ut>c&&(F=270,ut--):90===a?j<h?(F=0,j++):j>h&&(F=180,j--):180===a?ut<c?(F=90,ut++):ut>c&&(F=270,ut--):j<h?(F=0,j++):j>h&&(F=180,j--),j=_[j][ut],F!==a&&0!==j&&j!==T1){if(g.push(k),g.push(P),mw(t,k,P,F,h,c,g))return!0;g.pop(),g.pop()}if(_[k][P]=T1,0===a){if(k===e)return!1;k--}else if(90===a){if(P===o)return!1;P--}else if(180===a){if(k===e)return!1;k++}else{if(P===o)return!1;P++}}}We.className="Link",We.Normal=Fl,We.Orthogonal=Bl,We.AvoidsNodes=Rp,We.AvoidsNodesStraight=jc,We.None=Ts,We.Bezier=us,We.JumpGap=Ua,We.JumpOver=Ff,We.End=Op,We.Scale=E1,We.Stretch=Jv,We.OrientAlong=$0,We.OrientPlus90=Id,We.OrientMinus90=Np,We.OrientOpposite=sg,We.OrientUpright=X0,We.OrientPlus90Upright=Lp,We.OrientMinus90Upright=ag,We.OrientUpright45=Vl,We.EndSegmentStep=8,We.CurvinessStart=k1,We.SpacingMin=pw,We.OrthoShortCut=Rd,We.AvoidanceCell=8,We.AvoidanceLimit=999,Zh.prototype.Dm=function(){if(!this.hs){var t=this.links;0<t.length&&null!==(t=t[0].diagram)&&(t.Tu.add(this),this.se=t.undoManager.isUndoingRedoing)}this.hs=!0},Zh.prototype.Vw=function(){if(this.hs){this.hs=!1;var t=this.links;if(0<t.length){var e=t[0],o=e.diagram;o=null===o||o.pj&&!this.se,this.se=!1,e.arrangeBundledLinks(t,o),1===t.length&&(e.Mf=null,t.length=0)}0===t.length&&(t=this.au,null!==this&&null!==t.Se&&t.Se.remove(this),t=this.lw,null!==this&&null!==t.Se&&t.Se.remove(this))}},Zh.className="LinkBundle",Qv.prototype.initialize=function(t){if(!(0>=t.width||0>=t.height)){var e=t.y,o=t.x+t.width,a=t.y+t.height;if(this.Ad=Math.floor((t.x-this.fc)/this.fc)*this.fc,this.Bd=Math.floor((e-this.gc)/this.gc)*this.gc,this.Ro=Math.ceil((o+2*this.fc)/this.fc)*this.fc,this.So=Math.ceil((a+2*this.gc)/this.gc)*this.gc,t=1+(0|Math.ceil((this.Ro-this.Ad)/this.fc)),e=1+(0|Math.ceil((this.So-this.Bd)/this.gc)),null===this.Rb||this.Zi<t-1||this.$i<e-1){for(o=[],a=0;a<=t;a++)o[a]=new Uint32Array(e);this.Rb=o,this.Zi=t-1,this.$i=e-1}if(t=gw,null!==this.Rb)for(e=0;e<=this.Zi;e++)if((o=this.Rb[e]).fill)o.fill(t);else for(a=0;a<=this.$i;a++)o[a]=t}},Qv.prototype.Ek=function(t,e,o,a){if(t>this.Ro||t+o<this.Ad||e>this.So||e+a<this.Bd)return!0;t=(t-this.Ad)/this.fc|0,e=(e-this.Bd)/this.gc|0,o=Math.max(0,o)/this.fc+1|0;var h=Math.max(0,a)/this.gc+1|0;if(0>t&&(o+=t,t=0),0>e&&(h+=e,e=0),0>o||0>h)return!0;for(a=0|Math.min(t+o-1,this.Zi),o=0|Math.min(e+h-1,this.$i);t<=a;t++){h=this.Rb[t];for(var c=e;c<=o;c++)if(h[c]===Od)return!1}return!0},X.Object.defineProperties(Qv.prototype,{bounds:{get:function(){return new te(this.Ad,this.Bd,this.Ro-this.Ad,this.So-this.Bd)}},zq:{get:function(){return this.fc},set:function(t){0<t&&t!==this.fc&&(this.fc=t,this.initialize(this.bounds))}},yq:{get:function(){return this.gc},set:function(t){0<t&&t!==this.gc&&(this.gc=t,this.initialize(this.bounds))}}});var Od=0,Bp=1,K0=999999,gw=K0+1,T1=K0+2;function lg(){me(this),this.port=this.node=null,this.de=[],this.Sq=!1}function Z0(t,e,o,a){switch(e=e.offsetY){case 8:return 90;case 2:return 180;case 1:return 270;case 4:return 0}switch(e){case 9:return 180<o?270:90;case 6:return 90<o&&270>=o?180:0}switch(t=180*Math.atan2(t.height,t.width)/Math.PI,e){case 3:return o>t&&o<=180+t?180:270;case 5:return o>180-t&&o<=360-t?270:0;case 12:return o>t&&o<=180+t?90:0;case 10:return o>180-t&&o<=360-t?180:90;case 7:return 90<o&&o<=180+t?180:o>180+t&&o<=360-t?270:0;case 13:return 180<o&&o<=360-t?270:o>t&&180>=o?90:0;case 14:return o>t&&o<=180-t?90:o>180-t&&270>=o?180:0;case 11:return o>180-t&&o<=180+t?180:o>180+t?270:90}return a&&15!==e&&0>(o-=15)&&(o+=360),o>t&&o<180-t?90:o>=180-t&&o<=180+t?180:o>180+t&&o<360-t?270:0}function l_(t,e){var o=t.de;if(0===o.length){t:if(!t.Sq){o=t.Sq,t.Sq=!0;var a=null,h=t.node,c=h instanceof hi?h:null;if(null===c||c.isSubGraphExpanded)var g=h.isTreeExpanded?h.findLinksConnected(t.port.portId):h.py();else{if(!c.actualBounds.o()){t.Sq=o;break t}g=(a=c).Rv()}c=t.de.length=0;var _=t.port.da(gr,rt.alloc()),k=t.port.da(tl,rt.alloc());for((h=te.allocAt(_.x,_.y,0,0)).Oe(k),rt.free(_),rt.free(k),_=rt.allocAt(h.x+h.width/2,h.y+h.height/2),k=t.port.lj(),g=g.iterator;g.next();){var P=g.value;if(P.isVisible()&&P.fromPort!==P.toPort){var F=P.fromPort===t.port||null!==P.fromNode&&P.fromNode.Kd(a),j=P.computeSpot(F,t.port);if(j.Oc()){var ut=F?P.toPort:P.fromPort;if(null!==ut&&null!==(F=ut.part)){var xt=F.findVisibleNode();null!==xt&&xt!==F&&(ut=(F=xt).port),F=P.computeOtherPoint(F,ut),ut=_.Pa(ut.da(Hi)),ut+=(_.Pa(F)-ut)/360,0>(ut-=k)?ut+=360:360<=ut&&(ut-=360),0===(j=Z0(h,j,ut,P.isOrthogonal))?(j=4,180<ut&&(ut-=360)):90===j?(j=8,270<ut&&(ut-=360)):180===j?j=2:(j=1,90>ut&&(ut+=360)),void 0===(xt=t.de[c])?(xt=new h_(P,ut,j),t.de[c]=xt):(xt.link=P,xt.angle=ut,xt.Ac=j),xt.ow.set(F),c++}}}}for(rt.free(_),t.de.sort(lg.prototype.l),k=t.de.length,a=-1,c=_=0;c<k;c++)void 0!==(g=t.de[c])&&(g.Ac!==a&&(a=g.Ac,_=0),g.Lq=_,_++);for(a=-1,_=0,c=k-1;0<=c;c--)void 0!==(k=t.de[c])&&(k.Ac!==a&&(a=k.Ac,_=k.Lq+1),k.wm=_);if(c=t.de,j=t.port,a=t.node.portSpreading,_=rt.alloc(),k=rt.alloc(),g=rt.alloc(),P=rt.alloc(),j.da(gr,_),j.da(_o,k),j.da(tl,g),j.da(Ou,P),xt=ut=F=j=0,a===to)for(var pt=0;pt<c.length;pt++){var Pt=c[pt];if(null!==Pt){var Xt=Pt.link.computeThickness();switch(Pt.Ac){case 8:ut+=Xt;break;case 2:xt+=Xt;break;case 1:j+=Xt;break;default:F+=Xt}}}var $t=pt=0,ie=1,se=Pt=0;for(Xt=0;Xt<c.length;Xt++){var fe=c[Xt];if(null!==fe){if(pt!==fe.Ac){switch(pt=fe.Ac){case 8:var we=g;$t=P;break;case 2:we=P,$t=_;break;case 1:we=_,$t=k;break;default:we=k,$t=g}switch(Pt=$t.x-we.x,se=$t.y-we.y,pt){case 8:ut>Math.abs(Pt)?(ie=Math.abs(Pt)/ut,ut=Math.abs(Pt)):ie=1;break;case 2:xt>Math.abs(se)?(ie=Math.abs(se)/xt,xt=Math.abs(se)):ie=1;break;case 1:j>Math.abs(Pt)?(ie=Math.abs(Pt)/j,j=Math.abs(Pt)):ie=1;break;default:F>Math.abs(se)?(ie=Math.abs(se)/F,F=Math.abs(se)):ie=1}$t=0}var ti=fe.Qq;if(a===to){switch(fe=fe.link.computeThickness(),fe*=ie,ti.set(we),pt){case 8:ti.x=we.x+Pt/2+ut/2-$t-fe/2;break;case 2:ti.y=we.y+se/2+xt/2-$t-fe/2;break;case 1:ti.x=we.x+Pt/2-j/2+$t+fe/2;break;default:ti.y=we.y+se/2-F/2+$t+fe/2}$t+=fe}else{var Ci=.5;a===wo&&(Ci=(fe.Lq+1)/(fe.wm+1)),ti.x=we.x+Pt*Ci,ti.y=we.y+se*Ci}}}for(rt.free(_),rt.free(k),rt.free(g),rt.free(P),we=t.de,c=0;c<we.length;c++)null!==(a=we[c])&&(a.Pv=t.computeEndSegmentLength(a));t.Sq=o,te.free(h)}o=t.de}for(t=0;t<o.length;t++)if(null!==(h=o[t])&&h.link===e)return h;return null}function h_(t,e,o){this.link=t,this.angle=e,this.Ac=o,this.ow=new rt,this.wm=this.Lq=0,this.Qq=new rt,this.Pv=0}function hg(){this.Ch=this.bh=zs,this.Bh=this.ah=this.Ah=this.$g=NaN,this.kq=this.co=null,this.lq=this.eo=1/0}function Hn(){me(this),this.u=this.B=null,this.zi=this.xo=!0,this.Co=!1,this.nn=new rt(0,0).freeze(),this.zo=!0,this.vn=this.yo=null,this.Bo=!1,this.l=null,this.I=0,this.To=this.qq=null,this.wt=!1,this.yg=this.ek=null,this.lt=!1}function Nd(t,e,o,a,h,c,g,_){for(o=o.iterator;o.next();){var k=o.value;a&&!k.isTopLevel||null!==h&&!h(k)||!k.canLayout()||(c&&k instanceof Fe?k.isLinkLabel||(k instanceof hi&&null===k.layout?Nd(t,e,k.memberParts,!1,h,c,g,_):(P1(k),e.add(k))):g&&k instanceof We?e.add(k):!_||!k.Nc()||k instanceof Fe||(P1(k),e.add(k)))}}function P1(t){var e=t.actualBounds;(0===e.width||0===e.height||isNaN(e.width)||isNaN(e.height))&&t.Ta()}function vw(t,e){if(null!==t.workerStateChanged){var o={key:t.group?t.group.key:null};void 0!==e&&(o.time=e),null!==t.ek&&(o.running=ty(t.ek)),null!==t.yg&&(o.waiting=ty(t.yg)),t.workerStateChanged(o,t)}}function ty(t){return{vertexes:t.vertexes.count,edges:t.edges.count}}function Vp(t,e){var o=ug(t);if(!o)throw Error("Unknown Layout class: "+t);if(e)for(var a in e)o[a]=e[a]}function ug(t){var e=null;if("function"==typeof t){if(!(e=iy.get(t))){var o=y(t);(e=iy.get(o))||((e=new f_).Lv=t,e.name=o,e.l=t.name,e.Cy=u_,iy.set(o,e),iy.set(t,e),iy.set(t.name,e))}}else"string"==typeof t&&(e=iy.get(t));return e}function cg(t,e){t.wt=!0;var o=ug(t.constructor),a=ey(t,e,!0);a._GoJS="_GoJS",o.Pe.postMessage(a),o.Fm.set(be(t),t),t.ek=e}function ey(t,e,o){t.onNetworkSerialization(1,o,e,null);var a={};t.serializeLayoutProperties(a,o);var h=[];e.vertexes.each(function(g){var _={};g.serializeVertexProperties(_,o),h.push(_)});var c=[];return e.edges.each(function(g){var _={};g.serializeEdgeProperties(_,o),c.push(_)}),a={id:o?be(t):t.id,layout:y(t.constructor),p:a,jB:h,Qz:c},t.onNetworkSerialization(2,o,e,a),a}function fg(t,e,o){o&&(t.id=e.id);var a=t.diagram,h=t.createNetwork();t.onNetworkSerialization(3,o,h,e);var c=e.jB,g=new gt;c&&c.forEach(function(P){var F=null;null===P.key||null===a||o||(F=a.Cb(P.key)),null!==F?F=h.mk(F):(F=h.createVertex(),h.Bg(F)),o&&null!==P.key&&(F.data={Di:P.key}),g.set(P.id,F)});var _=e.Qz,k=new gt;return _&&_.forEach(function(P){var F=null;null===P.key||null===a||o||(F=a.findLinkForKey(P.key));var j=h.createEdge();h.tm(j),j.link=F,o&&null!==P.key&&(j.data={Di:P.key}),k.set(P.id,j)}),c&&c.forEach(function(P){var F=g.get(P.id);F&&F.Cq(P,g,k,o)}),_&&_.forEach(function(P){var F=k.get(P.id);F&&F.deserializeEdgeProperties(P,g,k,o)}),t.deserializeLayoutProperties(e.p,g,k,o,h),t.onNetworkSerialization(4,o,h,e),h}Qv.className="PositionArray",lg.prototype.toString=function(){for(var t=this.de,e=this.node.toString()+" "+t.length.toString()+":",o=0;o<t.length;o++){var a=t[o];null!==a&&(e+="\n  "+a.toString())}return e},lg.prototype.Dm=function(){this.de.length=0},lg.prototype.l=function(t,e){return t===e?0:null===t?-1:null===e?1:t.Ac<e.Ac?-1:t.Ac>e.Ac?1:t.angle<e.angle?-1:t.angle>e.angle?1:0},lg.prototype.computeEndSegmentLength=function(t){var e=t.link,o=e.computeEndSegmentLength(this.node,this.port,mn,e.fromPort===this.port),a=t.Lq;if(0>a)return o;var h=t.wm;if(1>=h||!e.isOrthogonal)return o;e=t.ow;var c=t.Qq;return(2===t.Ac||8===t.Ac)&&(a=h-1-a),((t=2===t.Ac||4===t.Ac)?e.y<c.y:e.x<c.x)?o+8*a:(t?e.y===c.y:e.x===c.x)?o:o+8*(h-1-a)},lg.className="Knot",h_.prototype.toString=function(){return this.link.toString()+" "+this.angle.toString()+" "+this.Ac.toString()+":"+this.Lq.toString()+"/"+this.wm.toString()+" "+this.Qq.toString()+" "+this.Pv.toString()+" "+this.ow.toString()},h_.className="LinkInfo",hg.prototype.copy=function(){var t=new hg;return t.bh=this.bh.H(),t.Ch=this.Ch.H(),t.$g=this.$g,t.Ah=this.Ah,t.ah=this.ah,t.Bh=this.Bh,t.co=this.co,t.kq=this.kq,t.eo=this.eo,t.lq=this.lq,t},hg.className="LinkSettings",Hn.prototype.cloneProtected=function(t){t.xo=this.xo,t.zi=this.zi,t.Co=this.Co,t.nn.assign(this.nn),t.zo=this.zo,t.yo=this.yo,t.vn=this.vn,t.Bo=!0,t.To=this.To,t.qq=this.qq},Hn.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},Hn.prototype.serializeLayoutProperties=function(t){t.arrangementOrigin={x:this.arrangementOrigin.x,y:this.arrangementOrigin.y},t.isRouting=this.isRouting},Hn.prototype.deserializeLayoutProperties=function(t){null!==t&&(this.arrangementOrigin=new rt(t.arrangementOrigin.x,t.arrangementOrigin.y),this.isRouting=t.isRouting)},Hn.prototype.jb=function(){},Hn.prototype.toString=function(){var t=y(this.constructor);return t+="(",null!==this.group&&(t+=" in "+this.group),null!==this.diagram&&(t+=" for "+this.diagram),t+")"},Hn.prototype.C=function(){if(this.isValidLayout){var t=this.diagram;if(null!==t&&!t.undoManager.isUndoingRedoing){var e=t.animationManager;!e.isTicking&&(e.defaultAnimation.isAnimating&&e.Bc(),this.isOngoing&&t.pj||this.isInitial&&!t.pj)&&(this.isValidLayout=!1,t.Db())}}},Hn.prototype.createNetwork=function(){return new cr(this)},Hn.prototype.makeNetwork=function(t){var e=this.createNetwork();return t instanceof Ee?(e.Ag(t.nodes,!0),e.Ag(t.links,!0)):e.Ag(t instanceof hi?t.memberParts:t.iterator),e},Hn.prototype.updateParts=function(){if(this.isValidLayout=!0,!this.workerLayout()){var t=this.diagram;if(null===t&&null!==this.network)for(var e=this.network.vertexes.iterator;e.next();){var o=e.value.node;if(null!==o&&null!==(t=o.diagram))break}try{null!==t&&t.xa("Layout"),this.commitLayout()}finally{null!==t&&t.Xa("Layout")}}},Hn.prototype.commitLayout=function(){if(null!==this.network){for(var t=this.network.vertexes.iterator;t.next();)t.value.commit();if(this.isRouting)for(t=this.network.edges.iterator;t.next();)t.value.commit()}},Hn.prototype.doLayout=function(t){var e=new Ht;t instanceof Ee?(Nd(this,e,t.nodes,!0,this.Rh,!0,!1,!0),Nd(this,e,t.parts,!0,this.Rh,!0,!1,!0)):t instanceof hi?Nd(this,e,t.memberParts,!1,this.Rh,!0,!1,!0):e.addAll(t.iterator),0<e.count&&(null!==(t=this.diagram)&&t.xa("Layout"),this.doMinimalNoNetworkLayout(e),null!==t&&t.Xa("Layout")),this.isValidLayout=!0},Hn.prototype.doMinimalNoNetworkLayout=function(t){var e=Math.ceil(Math.sqrt(t.count));this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);var o=this.arrangementOrigin.x,a=o,h=this.arrangementOrigin.y,c=0,g=0;for(t=t.iterator;t.next();){var _=t.value;P1(_);var k=_.measuredBounds,P=k.width;k=k.height,_.moveTo(a,h),_ instanceof hi&&(_.Rh=!1),a+=Math.max(P,50)+20,g=Math.max(g,Math.max(k,50)),c>=e-1?(c=0,a=o,h+=g+20,g=0):c++}},Hn.prototype.doMinimalNetworkLayout=function(){var t=Math.ceil(Math.sqrt(this.network.vertexes.count));this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);for(var e=this.arrangementOrigin.x,o=e,a=this.arrangementOrigin.y,h=0,c=0,g=this.network.vertexes.iterator;g.next();){var _=g.value.node;if(!(null===_||_ instanceof We)&&(P1(_),this.Rh(_))){var k=_.measuredBounds,P=k.width;k=k.height,_.moveTo(o,a),_ instanceof hi&&(_.Rh=!1),o+=Math.max(P,50)+20,c=Math.max(c,Math.max(k,50)),h>=t-1?(h=0,o=e,a+=c+20,c=0):h++}}},Hn.prototype.Rh=function(t){return!(t.location.o()&&!(t instanceof hi&&t.Rh))},Hn.prototype.nj=function(t,e){var o=this.boundsComputation;return null!==o?(e||(e=new te),o(t,this,e)):e?(e.set(t.actualBounds),e):t.actualBounds},Hn.prototype.$x=function(t){var e=new Ht;return t instanceof Ee?(Nd(this,e,t.nodes,!0,null,!0,!0,!0),Nd(this,e,t.links,!0,null,!0,!0,!0),Nd(this,e,t.parts,!0,null,!0,!0,!0)):Nd(this,e,t instanceof hi?t.memberParts:t.iterator,!1,null,!0,!0,!0),e},Hn.prototype.initialOrigin=function(t){var e=this.group;if(null!==e){var o=e.position.copy();return(isNaN(o.x)||isNaN(o.y))&&o.set(t),null!==(e=e.placeholder)&&(o=e.da(gr),(isNaN(o.x)||isNaN(o.y))&&o.set(t),o.x+=(t=e.padding).left,o.y+=t.top),o}return t},Hn.prototype.mayUseWorker=function(){return!!this.mayUseWorkerFunction&&this.mayUseWorkerFunction(this)},Hn.prototype.workerLayout=function(){return!1},Hn.prototype.zz=function(){var t=ug(this.constructor);t&&(null!==t.Pe&&t.Pe.terminate(),t.Pe=null,t.Fm.iteratorValues.each(function(e){e.wt=!1,e.ek=null,e.yg=null,e.lt=!1,vw(e)}),t.Fm.clear())},Hn.prototype.Uw=function(){if("undefined"==typeof Worker||!c_||"undefined"==typeof self||void 0!==self.DedicatedWorkerGlobalScope)return!1;if(!this.mayUseWorker())return this.wt&&(this.lt=!0,this.yg=this.ek=null,vw(this)),!1;var t=ug(this.constructor);return null!==t&&(null===t.Pe&&(t.Pe=new Worker(c_),t.Pe.onerror=function(e){e.preventDefault(),lt("Worker Error at: "+e.filename+" "+e.lineno+" "+e.colno+"\n  "+e.message)},t.Pe.l=function(e){lt("Worker serialization error: "+e)},t.Pe.onmessage=function(e){var o=e.data;if("_GoJS"===o._GoJS)if(o.version&&Ee.version&&o.version!==Ee.version)lt("Failure: GoJS v"+Ee.version+"  Worker v"+o.version);else if(e=t.Fm.get(o.id)){if(t.Fm.remove(o.id),e.wt=!1,e.ek=null,e.lt)e.lt=!1,e.yg=null;else{var a=fg(e,o,!1);e.network=a,e.updateParts(),e.network=null,e.isValidLayout=!0}if(vw(e,o.time),null!==(o=e.yg))e.yg=null;else for(a=t.Fm.iteratorValues;a.next();){var h=a.value;if(null!==(o=h.yg)){h.yg=null;break}}null!==o&&cg(e,o)}},t.Pe.postMessage({_GoJS:"_GoJS",url:t.Cy}),Array.isArray(t.scripts)&&t.scripts.forEach(function(e){t.Pe.postMessage({_GoJS:"_GoJS",url:e})}),t.Pe.postMessage({_GoJS:"_GoJS",version:-1})),null!==this.ek?this.yg=this.network:cg(this,this.network),vw(this),this.doMinimalNetworkLayout(),this.network=null,this.isValidLayout=!0)},Hn.prototype.onNetworkSerialization=function(){},X.Object.defineProperties(Hn.prototype,{diagram:{get:function(){return this.B},set:function(t){this.B=t}},group:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t,null!==t&&(this.B=t.diagram))}},isOngoing:{get:function(){return this.xo},set:function(t){this.xo!==t&&(this.xo=t)}},isInitial:{get:function(){return this.zi},set:function(t){this.zi=t,t||(this.Bo=!0)}},isViewportSized:{get:function(){return this.Co},set:function(t){this.Co!==t&&(this.Co=t)&&this.C()}},isRouting:{get:function(){return this.zo},set:function(t){this.zo!==t&&(this.zo=t)}},isRealtime:{get:function(){return this.yo},set:function(t){this.yo!==t&&(this.yo=t)}},isValidLayout:{get:function(){return this.Bo},set:function(t){this.Bo!==t&&(this.Bo=t,t||null!==(t=this.diagram)&&(t.Ng=!0))}},network:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t,null!==t&&(t.layout=this))}},boundsComputation:{get:function(){return this.vn},set:function(t){this.vn!==t&&(this.vn=t,this.C())}},arrangementOrigin:{get:function(){return this.nn},set:function(t){this.nn.w(t)||(this.nn.assign(t),this.C())}},id:{get:function(){return this.I},set:function(t){this.I=t}},mayUseWorkerFunction:{get:function(){return this.To},set:function(t){this.To!==t&&(this.To=t)}},workerStateChanged:{get:function(){return this.qq},set:function(t){this.qq!==t&&(this.qq=t)}}}),Hn.prototype.useWorker=Hn.prototype.Uw,Hn.declareWorkerLayout=Vp,Hn.prototype.cancelWorker=Hn.prototype.zz,Hn.prototype.collectParts=Hn.prototype.$x,Hn.prototype.getLayoutBounds=Hn.prototype.nj,Hn.prototype.invalidateLayout=Hn.prototype.C;var iy=new gt,u_="object"==typeof V.document&&V.document.currentScript?V.document.currentScript.src:"",c_="undefined"!=typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof Blob?URL.createObjectURL(new Blob(["self.onmessage=function(e){if(e.data.url){\nimportScripts(e.data.url);}}"],{type:"text/javascript"})):"";function f_(){this.Lv=null,this.Cy=this.l=this.name="",this.scripts=[],this.Pe=null,this.Fm=new gt}function cr(t){me(this),this.kc=t,this.tf=new Ht,this.le=new Ht,this.bu=new gt,this.Xt=new gt}function d_(t,e){if(null===e)return!1;var o=t.tf.remove(e);return o&&null!==(e=e.node)&&t.bu.remove(e),o}function ny(t,e){if(null!==e){t.le.add(e);var o=e.link;null!==o&&null===t.Eq(o)&&t.Xt.add(o,e),e.network=t}}function p_(t,e){null!==e&&t.le.remove(e)&&null!==(e=e.link)&&t.Xt.remove(e)}function b2(t,e,o){if(null!==o&&o.network!==e){d_(t,o),e.Bg(o);for(var a=o.sourceEdges;a.next();){var h=a.value;h.network!==e&&(p_(t,h),ny(e,h),b2(t,e,h.fromVertex))}for(a=o.destinationEdges;a.next();)(o=a.value).network!==e&&(p_(t,o),ny(e,o),b2(t,e,o.toVertex))}}function Io(t){me(this),this.Tc=t,this.l=new te(0,0,10,10).freeze(),this.u=new rt(5,5).freeze(),this.Mi=this.ob=null,this.td=new Lt,this.Gd=new Lt}function yw(t,e){return e=e.Mi,(t=t.Mi)?e?(t=t.text)<(e=e.text)?-1:t>e?1:0:1:null!==e?-1:0}function Xs(t){me(this),this.Sc=t,this.ed=this.Yc=this.Nl=this.ob=null}function ps(){Hn.call(this),this.isViewportSized=!0,this.rq=this.sq=NaN,this.Qg=new Ge(NaN,NaN).freeze(),this.lf=new Ge(10,10).freeze(),this.yb=ih,this.Eb=ww,this.bd=ry,this.Wc=_2}function _2(t,e){return(t=t.text)<(e=e.text)?-1:t>e?1:0}Hn.className="Layout",Hn.GoJSScriptURL=u_,Hn.declareWorkerLayout=Vp,"undefined"!=typeof self&&void 0!==self.DedicatedWorkerGlobalScope&&"undefined"!=typeof self&&void 0!==self.DedicatedWorkerGlobalScope&&(self.onmessage=function(t){if("_GoJS"===(t=t.data)._GoJS)if(t.url)importScripts(t.url);else if(t.version)self.postMessage({_GoJS:"_GoJS",version:Ee.version},void 0);else{var e=performance.now(),o=null;t.layout&&(o=ug(t.layout));var a=null;if(o&&o.Lv&&(a=new o.Lv),!a)throw Error("no registered Worker Layout: "+t.layout);a.network=fg(a,t,!0),a.workerLayout=function(){var h=ey(a,a.network,!1);return h._GoJS="_GoJS",h.time=performance.now()-e,self.postMessage(h,void 0),!0},a.doLayout(new Lt)}}),cr.prototype.clear=function(){if(this.tf)for(var t=this.tf.iterator;t.next();)t.value.clear();if(this.le)for(t=this.le.iterator;t.next();)t.value.clear();this.tf=new Ht,this.le=new Ht,this.bu=new gt,this.Xt=new gt},cr.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutNetwork"+(null!==this.layout?"("+this.layout.toString()+")":"");if(0>=t)return e;if(e+=" vertexes: "+this.tf.count+" edges: "+this.le.count,1<t){for(var o=this.tf.iterator;o.next();)e+="\n    "+o.value.toString(t-1);for(o=this.le.iterator;o.next();)e+="\n    "+o.value.toString(t-1)}return e},cr.prototype.createVertex=function(){return new Io(this)},cr.prototype.createEdge=function(){return new Xs(this)},cr.prototype.Ag=function(t,e,o){if(null!==t){for(void 0===e&&(e=!1),void 0===o&&(o=null),null===o&&(o=function(g){if(g instanceof Fe)return!g.isLinkLabel;if(g instanceof We){var _=g.fromNode;return null!==_&&!_.isLinkLabel&&!(null===(g=g.toNode)||g.isLinkLabel)}return!1}),t=t.iterator;t.next();){var a=t.value;if(a instanceof Fe&&(!e||a.isTopLevel)&&a.canLayout()&&o(a))if(a instanceof hi&&null===a.layout)this.Ag(a.memberParts,!1);else if(null===this.kj(a)){var h=this.createVertex();h.node=a,this.Bg(h)}}for(t.reset();t.next();)if((a=t.value)instanceof We&&(!e||a.isTopLevel)&&a.canLayout()&&o(a)&&null===this.Eq(a)){var c=a.fromNode;h=a.toNode,null!==c&&null!==h&&c!==h&&(c=this.findGroupVertex(c),h=this.findGroupVertex(h),null!==c&&null!==h&&this.Fk(c,h,a))}}},cr.prototype.findGroupVertex=function(t){if(null===t)return null;var e=t.findVisibleNode();if(null===e)return null;if(null!==(t=this.kj(e)))return t;for(e=e.containingGroup;null!==e;){if(null!==(t=this.kj(e)))return t;e=e.containingGroup}return null},(st=cr.prototype).Bg=function(t){if(null!==t){this.tf.add(t);var e=t.node;null!==e&&this.bu.add(e,t),t.network=this}},st.mk=function(t){if(null===t)return null;var e=this.kj(t);return null===e&&((e=this.createVertex()).node=t,this.Bg(e)),e},st.Ov=function(t){if(null!==t&&d_(this,t)){for(var e=t.td,o=e.count-1;0<=o;o--){var a=e.J(o);this.vk(a)}for(t=(e=t.Gd).count-1;0<=t;t--)o=e.J(t),this.vk(o)}},st.Lz=function(t){null!==t&&null!==(t=this.kj(t))&&this.Ov(t)},st.kj=function(t){return null===t?null:this.bu.G(t)},st.tm=function(t){if(null!==t){ny(this,t);var e=t.toVertex;null!==e&&e.Ev(t),null!==(e=t.fromVertex)&&e.Cv(t)}},st.oz=function(t){if(null===t)return null;var e=t.fromNode,o=t.toNode,a=this.Eq(t);return null===a?((a=this.createEdge()).link=t,null!==e&&(a.fromVertex=this.mk(e)),null!==o&&(a.toVertex=this.mk(o)),this.tm(a)):(a.fromVertex=null!==e?this.mk(e):null,a.toVertex=null!==o?this.mk(o):null),a},st.vk=function(t){if(null!==t){var e=t.toVertex;null!==e&&e.Nv(t),null!==(e=t.fromVertex)&&e.Mv(t),p_(this,t)}},st.Kz=function(t){null!==t&&null!==(t=this.Eq(t))&&this.vk(t)},st.Eq=function(t){return null===t?null:this.Xt.G(t)},st.Fk=function(t,e,o){if(null===t||null===e)return null;if(t.network===this&&e.network===this){var a=this.createEdge();return a.link=o,a.fromVertex=t,a.toVertex=e,this.tm(a),a}return null},st.Rm=function(t){if(null!==t){var e=t.fromVertex,o=t.toVertex;null!==e&&null!==o&&(e.Mv(t),o.Nv(t),t.Rm(),e.Ev(t),o.Cv(t))}},st.Bq=function(){for(var t=u(),e=this.le.iterator;e.next();){var o=e.value;o.fromVertex===o.toVertex&&t.push(o)}for(e=t.length,o=0;o<e;o++)this.vk(t[o]);m(t)},cr.prototype.deleteArtificialVertexes=function(){for(var t=u(),e=this.tf.iterator;e.next();){var o=e.value;null===o.node&&null===o.data&&t.push(o)}for(o=t.length,e=0;e<o;e++)this.Ov(t[e]);for(e=u(),o=this.le.iterator;o.next();){var a=o.value;null===a.link&&null===a.data&&e.push(a)}for(o=e.length,a=0;a<o;a++)this.vk(e[a]);m(t),m(e)},cr.prototype.Xy=function(t){void 0===t&&(t=!0),t&&(this.deleteArtificialVertexes(),function(t){for(var e=u(),o=t.le.iterator;o.next();){var a=o.value;null!==a.fromVertex&&null!==a.toVertex||e.push(a)}for(o=e.length,a=0;a<o;a++)t.vk(e[a]);m(e)}(this),this.Bq()),t=new Lt;for(var e=!0;e;){e=!1;for(var o=this.tf.iterator;o.next();){var a=o.value;if(0<a.td.count||0<a.Gd.count){e=this.layout.createNetwork(),t.add(e),b2(this,e,a),e=!0;break}}}return t.sort(function(h,c){return null===h||null===c||h===c?0:c.vertexes.count-h.vertexes.count}),t},cr.prototype.Rz=function(){for(var t=new Ht,e=this.tf.iterator;e.next();)t.add(e.value.node);for(e=this.le.iterator;e.next();)t.add(e.value.link);return t},X.Object.defineProperties(cr.prototype,{layout:{get:function(){return this.kc},set:function(t){null!==t&&(this.kc=t)}},vertexes:{get:function(){return this.tf}},edges:{get:function(){return this.le}}}),cr.prototype.findAllParts=cr.prototype.Rz,cr.prototype.splitIntoSubNetworks=cr.prototype.Xy,cr.prototype.deleteSelfEdges=cr.prototype.Bq,cr.prototype.reverseEdge=cr.prototype.Rm,cr.prototype.linkVertexes=cr.prototype.Fk,cr.prototype.findEdge=cr.prototype.Eq,cr.prototype.deleteLink=cr.prototype.Kz,cr.prototype.deleteEdge=cr.prototype.vk,cr.prototype.addLink=cr.prototype.oz,cr.prototype.addEdge=cr.prototype.tm,cr.prototype.findVertex=cr.prototype.kj,cr.prototype.deleteNode=cr.prototype.Lz,cr.prototype.deleteVertex=cr.prototype.Ov,cr.prototype.addNode=cr.prototype.mk,cr.prototype.addVertex=cr.prototype.Bg,cr.prototype.addParts=cr.prototype.Ag,cr.className="LayoutNetwork",Io.prototype.serializeVertexProperties=function(t){t.id=be(this),t.key=this.node?this.node.key:this.data?this.data.Di:void 0,void 0===t.key&&(t.key=null),t.x=this.bounds.x,t.y=this.bounds.y,t.kB=this.bounds.width,t.tA=this.bounds.height,t.fx=this.focus.x,t.fy=this.focus.y;var e=[];this.td.each(function(a){e.push(be(a))}),t.Uy=e;var o=[];this.Gd.each(function(a){o.push(be(a))}),t.jy=o},Io.prototype.Cq=function(t,e,o){if(null!==t){this.x=t.x,this.y=t.y,this.width=t.kB,this.height=t.tA,this.focusX=t.fx,this.focusY=t.fy;var a=this;t.Uy&&t.Uy.forEach(function(h){(h=o.get(h))&&a.td.add(h)}),t.jy&&t.jy.forEach(function(h){(h=o.get(h))&&a.Gd.add(h)})}},Io.prototype.clear=function(){this.Mi=this.ob=null,this.td=new Lt,this.Gd=new Lt},Io.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutVertex#"+be(this);if(0<t&&(e+=null!==this.node?"("+this.node.toString()+")":"",1<t)){t="";for(var o=!0,a=this.td.iterator;a.next();){var h=a.value;o?o=!1:t+=",",t+=h.toString(0)}for(h="",o=!0,a=this.Gd.iterator;a.next();)o?o=!1:h+=",",h+=a.value.toString(0);e+=" sources: "+t+" destinations: "+h}return e},Io.prototype.commit=function(){var t=this.ob;if(null!==t){var e=this.bounds,o=t.bounds;Ct(o)?(o.x=e.x,o.y=e.y,o.width=e.width,o.height=e.height):t.bounds=e.copy()}else if(null!==(t=this.node)){if(e=this.bounds,!(t instanceof hi)){o=te.alloc();var a=this.network.layout.nj(t,o),h=t.locationObject.da(Hi);if(a.o()&&h.o())return t.moveTo(e.x+this.focusX-(h.x-a.x),e.y+this.focusY-(h.y-a.y)),void te.free(o);te.free(o)}t.moveTo(e.x,e.y)}},Io.prototype.Ev=function(t){null!==t&&(this.td.contains(t)||this.td.add(t))},Io.prototype.Nv=function(t){null!==t&&this.td.remove(t)},Io.prototype.Cv=function(t){null!==t&&(this.Gd.contains(t)||this.Gd.add(t))},Io.prototype.Mv=function(t){null!==t&&this.Gd.remove(t)},X.Object.defineProperties(Io.prototype,{sourceEdgesArrayAccess:{get:function(){return this.td._dataArray}},destinationEdgesArrayAccess:{get:function(){return this.Gd._dataArray}},data:{get:function(){return this.ob},set:function(t){if(this.ob=t,null!==t&&t.bounds){var e=t.bounds;t=e.x;var o=e.y,a=e.width;this.u.h(a/2,(e=e.height)/2),this.l.h(t,o,a,e)}}},node:{get:function(){return this.Mi},set:function(t){if(this.Mi!==t){this.Mi=t,t.Ta();var e=this.network.layout,o=te.alloc(),a=e.nj(t,o);e=a.x;var h=a.y,c=a.width;if(a=a.height,isNaN(e)&&(e=0),isNaN(h)&&(h=0),this.l.h(e,h,c,a),te.free(o),!(t instanceof hi)&&(t=t.locationObject.da(Hi)).o())return void this.u.h(t.x-e,t.y-h);this.u.h(c/2,a/2)}}},bounds:{get:function(){return this.l},set:function(t){this.l.w(t)||this.l.assign(t)}},focus:{get:function(){return this.u},set:function(t){this.u.w(t)||this.u.assign(t)}},centerX:{get:function(){return this.l.x+this.u.x},set:function(t){var e=this.l;e.x+this.u.x!==t&&(e.ea(),e.x=t-this.u.x,e.freeze())}},centerY:{get:function(){return this.l.y+this.u.y},set:function(t){var e=this.l;e.y+this.u.y!==t&&(e.ea(),e.y=t-this.u.y,e.freeze())}},focusX:{get:function(){return this.u.x},set:function(t){var e=this.u;e.x!==t&&(e.ea(),e.x=t,e.freeze())}},focusY:{get:function(){return this.u.y},set:function(t){var e=this.u;e.y!==t&&(e.ea(),e.y=t,e.freeze())}},x:{get:function(){return this.l.x},set:function(t){var e=this.l;e.x!==t&&(e.ea(),e.x=t,e.freeze())}},y:{get:function(){return this.l.y},set:function(t){var e=this.l;e.y!==t&&(e.ea(),e.y=t,e.freeze())}},width:{get:function(){return this.l.width},set:function(t){var e=this.l;e.width!==t&&(e.ea(),e.width=t,e.freeze())}},height:{get:function(){return this.l.height},set:function(t){var e=this.l;e.height!==t&&(e.ea(),e.height=t,e.freeze())}},network:{get:function(){return this.Tc},set:function(t){this.Tc=t}},sourceVertexes:{get:function(){for(var t=new Ht,e=this.sourceEdges;e.next();)t.add(e.value.fromVertex);return t.iterator}},destinationVertexes:{get:function(){for(var t=new Ht,e=this.destinationEdges;e.next();)t.add(e.value.toVertex);return t.iterator}},vertexes:{get:function(){for(var t=new Ht,e=this.sourceEdges;e.next();)t.add(e.value.fromVertex);for(e=this.destinationEdges;e.next();)t.add(e.value.toVertex);return t.iterator}},sourceEdges:{get:function(){return this.td.iterator}},destinationEdges:{get:function(){return this.Gd.iterator}},edges:{get:function(){for(var t=new Lt,e=this.sourceEdges;e.next();)t.add(e.value);for(e=this.destinationEdges;e.next();)t.add(e.value);return t.iterator}},edgesCount:{get:function(){return this.td.count+this.Gd.count}}}),Io.prototype.deleteDestinationEdge=Io.prototype.Mv,Io.prototype.addDestinationEdge=Io.prototype.Cv,Io.prototype.deleteSourceEdge=Io.prototype.Nv,Io.prototype.addSourceEdge=Io.prototype.Ev,Io.className="LayoutVertex",Io.standardComparer=yw,Io.smartComparer=function(t,e){if(null!==t){if(null!==e){var o=e.Mi;if(null!==(t=t.Mi)){if(null!==o){for(e=t.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),t=o.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),o=0;o<e.length;o++)if(""!==t[o]&&void 0!==t[o]){var a=parseFloat(e[o]),h=parseFloat(t[o]);if(isNaN(a)){if(!isNaN(h))return 1;if(0!==e[o].localeCompare(t[o]))return e[o].localeCompare(t[o])}else{if(isNaN(h))return-1;if(a-h!=0)return a-h}}else if(""!==e[o])return 1;return""!==t[o]&&void 0!==t[o]?-1:0}return 1}return null!==o?-1:0}return 1}return null!==e?-1:0},Xs.prototype.clear=function(){this.ed=this.Yc=this.Nl=this.ob=null},Xs.prototype.serializeEdgeProperties=function(t){t.id=be(this),t.key=this.link?this.link.key:this.data?this.data.Di:void 0,void 0===t.key&&(t.key=null),t.from=this.fromVertex?be(this.fromVertex):null,t.fB=this.toVertex?be(this.toVertex):null},Xs.prototype.deserializeEdgeProperties=function(t,e){if(null!==t){var o=e.get(t.from);o&&(this.fromVertex=o),(t=e.get(t.fB))&&(this.toVertex=t)}},Xs.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutEdge#"+be(this);return 0<t&&(e+=null!==this.Nl?"("+this.Nl.toString()+")":"",1<t&&(e+=" "+(this.Yc?this.Yc.toString():"null")+" --\x3e "+(this.ed?this.ed.toString():"null"))),e},Xs.prototype.Rm=function(){var t=this.Yc;this.Yc=this.ed,this.ed=t},Xs.prototype.commit=function(){},Xs.prototype.zy=function(t){return this.ed===t?this.Yc:this.Yc===t?this.ed:null},X.Object.defineProperties(Xs.prototype,{network:{get:function(){return this.Sc},set:function(t){this.Sc=t}},data:{get:function(){return this.ob},set:function(t){this.ob!==t&&(this.ob=t)}},link:{get:function(){return this.Nl},set:function(t){this.Nl!==t&&(this.Nl=t)}},fromVertex:{get:function(){return this.Yc},set:function(t){this.Yc!==t&&(this.Yc=t)}},toVertex:{get:function(){return this.ed},set:function(t){this.ed!==t&&(this.ed=t)}}}),Xs.prototype.getOtherVertex=Xs.prototype.zy,Xs.className="LayoutEdge",et(ps,Hn),ps.prototype.cloneProtected=function(t){Hn.prototype.cloneProtected.call(this,t),t.sq=this.sq,t.rq=this.rq,t.Qg.assign(this.Qg),t.lf.assign(this.lf),t.yb=this.yb,t.Eb=this.Eb,t.bd=this.bd,t.Wc=this.Wc},ps.prototype.jb=function(t){t.classType===ps?t===ry||t===g_||t===M2||t===m_?this.sorting=t:t===ww||t===vu?this.arrangement=t:t===ih||t===xw?this.alignment=t:z("Unknown enum value: "+t):Hn.prototype.jb.call(this,t)},ps.prototype.doLayout=function(t){this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);var e=this.$x(t);t=this.diagram;for(var o=e.copy().iterator;o.next();){var a=o.value;if(!a.Ph()||null===a.fromNode&&null===a.toNode){if(a.Ta(),a instanceof hi)for(a=a.memberParts;a.next();)e.remove(a.value)}else e.remove(a)}var h=e.ma();if(0!==h.length){switch(this.sorting){case m_:h.reverse();break;case ry:h.sort(this.comparer);break;case g_:h.sort(this.comparer),h.reverse()}var c=this.wrappingColumn;isNaN(c)&&(c=0);var g=this.wrappingWidth;switch(isNaN(g)&&null!==t?(e=t.padding,g=Math.max(t.viewportBounds.width-e.left-e.right,0)):g=Math.max(this.wrappingWidth,0),0>=c&&0>=g&&(c=1),e=this.spacing.width,isFinite(e)||(e=0),o=this.spacing.height,isFinite(o)||(o=0),null!==t&&t.xa("Layout"),a=[],this.alignment){case xw:var _=e,k=o,P=te.alloc(),F=Math.max(this.cellSize.width,1);if(!isFinite(F))for(var j=F=0;j<h.length;j++){var ut=this.nj(h[j],P);F=Math.max(F,ut.width)}if(F=Math.max(F+_,1),j=Math.max(this.cellSize.height,1),!isFinite(j))for(ut=j=0;ut<h.length;ut++){var xt=this.nj(h[ut],P);j=Math.max(j,xt.height)}j=Math.max(j+k,1),ut=this.arrangement;for(var pt=xt=this.arrangementOrigin.x,Pt=this.arrangementOrigin.y,Xt=0,$t=0,ie=0;ie<h.length;ie++){var se=h[ie],fe=this.nj(se,P),we=Math.ceil((fe.width+_)/F)*F,ti=Math.ceil((fe.height+k)/j)*j;if(ut===vu)var Ci=Math.abs(pt-fe.width);else Ci=pt+fe.width;(0<c&&Xt>c-1||0<g&&0<Xt&&Ci-xt>g)&&(a.push(new te(0,Pt,g+_,$t)),Xt=0,pt=xt,Pt+=$t,$t=0),$t=Math.max($t,ti),se.moveTo(pt+(fe=ut===vu?-fe.width:0),Pt),ut===vu?pt-=we:pt+=we,Xt++}a.push(new te(0,Pt,g+_,$t)),te.free(P);break;case ih:for(k=g,F=c,j=e,ut=o,g=te.alloc(),xt=Math.max(this.cellSize.width,1),c=Pt=P=0,_=rt.alloc(),pt=0;pt<h.length;pt++)Xt=this.nj($t=h[pt],g),$t=$t.Df($t.locationObject,$t.locationSpot,_),P=Math.max(P,$t.x),Pt=Math.max(Pt,Xt.width-$t.x),c=Math.max(c,$t.y);(pt=this.arrangement)===vu?P+=j:Pt+=j,xt=isFinite(xt)?Math.max(xt+j,1):Math.max(P+Pt,1);var ui=$t=this.arrangementOrigin.x;for(ie=this.arrangementOrigin.y,Pt=0,k>=P&&(k-=P),P=se=0,we=Math.max(this.cellSize.height,1),fe=c=0,ti=!0,Xt=rt.alloc(),Ci=0;Ci<h.length;Ci++){var Bi=h[Ci],mi=this.nj(Bi,g),ei=Bi.Df(Bi.locationObject,Bi.locationSpot,_);if(0<Pt?pt===vu?(ui=(ui-$t-(mi.width-ei.x))/xt,ui=(ui=pe.aa(Math.round(ui),ui)?Math.round(ui):Math.floor(ui))*xt+$t):(ui=(ui-$t+ei.x)/xt,ui=(ui=pe.aa(Math.round(ui),ui)?Math.round(ui):Math.ceil(ui))*xt+$t):se=pt===vu?ui+ei.x+mi.width:ui-ei.x,pt===vu)var kn=-(ui+ei.x)+se;else kn=ui+mi.width-ei.x-se;if(0<F&&Pt>F-1||0<k&&0<Pt&&kn>k){for(a.push(new te(0,ti?ie-c:ie,k+j,fe+c+ut)),ui=0;ui<Pt&&Ci!==Pt;ui++){var un=(kn=h[Ci-Pt+ui]).Df(kn.locationObject,kn.locationSpot,Xt);kn.moveTo(kn.position.x,kn.position.y+c-un.y)}fe+=ut,ie=ti?ie+fe:ie+(fe+c),Pt=fe=c=0,ui=$t,ti=!1}ui===$t&&(P=pt===vu?Math.max(P,mi.width-ei.x):Math.min(P,-ei.x)),c=Math.max(c,ei.y),fe=Math.max(fe,mi.height-ei.y),isFinite(we)&&(fe=Math.max(fe,Math.max(mi.height,we)-ei.y)),Bi.moveTo(ui-ei.x,ti?ie-ei.y:ie),pt===vu?ui-=ei.x+j:ui+=mi.width-ei.x+j,Pt++}if(a.push(new te(0,ie,k+j,(ti?fe:fe+c)+ut)),h.length!==Pt)for(k=0;k<Pt;k++)j=(F=h[h.length-Pt+k]).Df(F.locationObject,F.locationSpot,_),F.moveTo(F.position.x,F.position.y+c-j.y);if(rt.free(_),rt.free(Xt),pt===vu)for(h=0;h<a.length;h++)(c=a[h]).width+=P,c.x-=P;else for(h=0;h<a.length;h++)(c=a[h]).x>P&&(c.width+=c.x-P,c.x=P);te.free(g)}for(_=c=g=h=0;_<a.length;_++)k=a[_],h=Math.min(h,k.x),g=Math.min(g,k.y),c=Math.max(c,k.x+k.width);this.commitLayers(a,new rt(this.arrangement===vu?h+e/2-(c+h):h-e/2,g-o/2)),null!==t&&t.Xa("Layout"),this.isValidLayout=!0}},ps.prototype.commitLayers=function(){},X.Object.defineProperties(ps.prototype,{wrappingWidth:{get:function(){return this.sq},set:function(t){this.sq!==t&&(0<t||isNaN(t))&&(this.sq=t,this.isViewportSized=isNaN(t),this.C())}},wrappingColumn:{get:function(){return this.rq},set:function(t){this.rq!==t&&(0<t||isNaN(t))&&(this.rq=t,this.C())}},cellSize:{get:function(){return this.Qg},set:function(t){this.Qg.w(t)||(this.Qg.assign(t),this.C())}},spacing:{get:function(){return this.lf},set:function(t){this.lf.w(t)||(this.lf.assign(t),this.C())}},alignment:{get:function(){return this.yb},set:function(t){this.yb===t||t!==ih&&t!==xw||(this.yb=t,this.C())}},arrangement:{get:function(){return this.Eb},set:function(t){this.Eb===t||t!==ww&&t!==vu||(this.Eb=t,this.C())}},sorting:{get:function(){return this.bd},set:function(t){this.bd===t||t!==M2&&t!==m_&&t!==ry&&t!==g_||(this.bd=t,this.C())}},comparer:{get:function(){return this.Wc},set:function(t){this.Wc!==t&&(this.Wc=t,this.C())}}});var xw=new wt(ps,"Position",0),ih=new wt(ps,"Location",1),ww=new wt(ps,"LeftToRight",2),vu=new wt(ps,"RightToLeft",3),M2=new wt(ps,"Forward",4),m_=new wt(ps,"Reverse",5),ry=new wt(ps,"Ascending",6),g_=new wt(ps,"Descending",7);function Yn(){this.lp=new Ht,this.No=new Ht,this.Fa=new Ht,this.Ue=new gt,this.Te=new gt,this.Qj=new gt,this.B=null,this.mr=!1}function bw(t,e,o){if(null!=e&&!t.diagram.undoManager.isUndoingRedoing&&!t.Ue.contains(e)){void 0===o&&(o=!0);t:{if(null!=e&&!t.B.undoManager.isUndoingRedoing&&!t.Ue.contains(e)){var a=t.Iq(e),h=v_(t,e,a);if(null!==h&&(Ea(h),null!==(h=h.copy()))){var c=t.diagram.skipsModelSourceBindings;t.diagram.skipsModelSourceBindings=!0,h.Nf=a,h.ob=e,t.mr&&(h.ih="Tool"),t.diagram.add(h),h.ob=null,h.data=e,t.diagram.skipsModelSourceBindings=c,a=h;break t}}a=null}null!==a&&o&&t.resolveReferencesForData(e)}}function v_(t,e,o){var a=(t=t.B).model;return a.Dk()&&a.fw(e)?null===(e=t.groupTemplateMap.G(o))&&null===(e=t.groupTemplateMap.G(""))&&(S2||(S2=!0,lt('No Group template found for category "'+o+'"'),lt("  Using default group template")),e=t.Eu):null===(e=t.nodeTemplateMap.G(o))&&null===(e=t.nodeTemplateMap.G(""))&&(w_||(w_=!0,lt('No Node template found for category "'+o+'"'),lt("  Using default node template")),e=t.Gu),e}function y_(t,e,o){for(var a in o){var h=e[a],c=o[a];if(kt(c)){if(!kt(h)||h.length<c.length)return!1;for(var g=0;g<h.length;g++){var _=c[g];if(void 0!==_&&!C2(t,h[g],_))return!1}}else if(!C2(t,h,c))return!1}return!0}function C2(t,e,o){if("function"==typeof o){if(!o(e))return!1}else if(o instanceof RegExp){if(!e||!o.test(e.toString()))return!1}else if(Ct(e)&&Ct(o)){if(!y_(t,e,o))return!1}else if(e!==o)return!1;return!0}function x_(t,e){var o=e.Ci;if(kt(o)){var a=t.Qj.G(o);if(null===a)(a=[]).push(e),t.Qj.add(o,a);else{for(t=0;t<a.length;t++)if(a[t]===e)return;a.push(e)}}}function _w(t,e,o){Ju(e,function(g){for(var _=(g=g.W.j).length,k=0;k<_;k++)Nm(o,g[k])});var a=e.Ci;if(kt(a)){var h=t.Qj.G(a);if(null!==h)for(var c=0;c<h.length;c++)if(h[c]===e){h.splice(c,1),0===h.length&&t.Qj.remove(a);break}}}function Mw(t,e,o,a,h){if(null===e||h&&!e.canCopy())return null;if(a.contains(e))return a.G(e);var c=t.copyPartData(e,o);if(!(c instanceof Nt))return null;if(c.isSelected=!1,c.isHighlighted=!1,a.add(e,c),e instanceof Fe){for(var g=e.linksConnected;g.next();){var _=g.value;if(_.fromNode===e){var k=a.G(_);null!==k&&(k.fromNode=c)}_.toNode===e&&null!==(_=a.G(_))&&(_.toNode=c)}if(e instanceof hi&&c instanceof hi)for(e=e.memberParts;e.next();)(g=Mw(t,e.value,o,a,h))instanceof We||null===g||(g.containingGroup=c)}else if(e instanceof We&&c instanceof We)for(null!==(g=e.fromNode)&&null!==(g=a.G(g))&&(c.fromNode=g),null!==(g=e.toNode)&&null!==(g=a.G(g))&&(c.toNode=g),e=e.labelNodes;e.next();)null!==(g=Mw(t,e.value,o,a,h))&&g instanceof Fe&&(g.labeledLink=c);return c}ps.className="GridLayout",ps.standardComparer=_2,ps.smartComparer=function(t,e){if(null!==t){if(null!==e){t=t.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),e=e.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/);for(var o=0;o<t.length;o++)if(""!==e[o]&&void 0!==e[o]){var a=parseFloat(t[o]),h=parseFloat(e[o]);if(isNaN(a)){if(!isNaN(h))return 1;if(0!==t[o].localeCompare(e[o]))return t[o].localeCompare(e[o])}else{if(isNaN(h))return-1;if(a-h!=0)return a-h}}else if(""!==t[o])return 1;return""!==e[o]&&void 0!==e[o]?-1:0}return 1}return null!==e?-1:0},ps.Position=xw,ps.Location=ih,ps.LeftToRight=ww,ps.RightToLeft=vu,ps.Forward=M2,ps.Reverse=m_,ps.Ascending=ry,ps.Descending=g_,(st=Yn.prototype).clear=function(){this.lp.clear(),this.No.clear(),this.Fa.clear(),this.Ue.clear(),this.Te.clear(),this.Qj.clear()},st.ee=function(t){this.B=t},st.oj=function(t){if(t instanceof Fe){if(this.lp.add(t),t instanceof hi){var e=t.containingGroup;null===e?this.B.Dh.add(t):e.Sl.add(t),null!==(e=t.layout)&&(e.diagram=this.B)}}else t instanceof We?this.No.add(t):t instanceof li||this.Fa.add(t);null===(e=t.data)||t instanceof li||(t instanceof We?this.Te.add(e,t):this.Ue.add(e,t))},st.Lc=function(t){if(t.nk(),t instanceof Fe){if(this.lp.remove(t),t instanceof hi){var e=t.containingGroup;null===e?this.B.Dh.remove(t):e.Sl.remove(t),null!==(e=t.layout)&&(e.diagram=null)}}else t instanceof We?this.No.remove(t):t instanceof li||this.Fa.remove(t);null===(e=t.data)||t instanceof li||(t instanceof We?this.Te.remove(e):this.Ue.remove(e))},st.Md=function(){for(var t=this.B.nodeTemplateMap.iterator;t.next();){var e=t.value,o=t.key;(!e.Nc()||e instanceof hi)&&z('Invalid node template in Diagram.nodeTemplateMap: template for "'+o+'" must be a Node or a simple Part, not a Group or Link: '+e)}for(t=this.B.groupTemplateMap.iterator;t.next();)o=t.key,(e=t.value)instanceof hi||z('Invalid group template in Diagram.groupTemplateMap: template for "'+o+'" must be a Group, not a normal Node or Link: '+e);for(t=this.B.linkTemplateMap.iterator;t.next();)o=t.key,(e=t.value)instanceof We||z('Invalid link template in Diagram.linkTemplateMap: template for "'+o+'" must be a Link, not a normal Node or simple Part: '+e);for(t=u(),e=this.B.selection.iterator;e.next();)(o=e.value.data)&&t.push(o);for(e=u(),o=this.B.highlighteds.iterator;o.next();){var a=o.value.data;a&&e.push(a)}for(o=u(),a=this.nodes.iterator;a.next();){var h=a.value;null!==h.data&&(o.push(h.data),o.push(h.location))}for(a=this.links.iterator;a.next();)null!==(h=a.value).data&&(o.push(h.data),o.push(h.location));for(a=this.parts.iterator;a.next();)null!==(h=a.value).data&&(o.push(h.data),o.push(h.location));for(this.removeAllModeledParts(),this.addAllModeledParts(),a=0;a<t.length;a++)null!==(h=this.zc(t[a]))&&(h.isSelected=!0);for(a=0;a<e.length;a++)null!==(h=this.zc(e[a]))&&(h.isHighlighted=!0);for(a=0;a<o.length;a+=2)null!==(h=this.zc(o[a]))&&(h.location=o[a+1]);m(t),m(e),m(o)},Yn.prototype.addAllModeledParts=function(){this.addModeledParts(this.diagram.model.nodeDataArray)},Yn.prototype.addModeledParts=function(t,e){var o=this,a=this.diagram.model;t.forEach(function(h){a.ab(h)&&bw(o,h,!1)}),t.forEach(function(h){a.ab(h)&&o.resolveReferencesForData(h)}),!1!==e&&lo(this.diagram,!1)},Yn.prototype.insertLink=function(){return null},Yn.prototype.resolveReferencesForData=function(){},Yn.prototype.Iq=function(t){return this.B.model.Iq(t)},Yn.prototype.getLinkCategoryForData=function(){return""},Yn.prototype.setLinkCategoryForData=function(){},Yn.prototype.setFromNodeForLink=function(){},Yn.prototype.setToNodeForLink=function(){},Yn.prototype.findLinkTemplateForCategory=function(t){var e=this.B.linkTemplateMap.G(t);return null===e&&null===(e=this.B.linkTemplateMap.G(""))&&(D2||(D2=!0,lt('No Link template found for category "'+t+'"'),lt("  Using default link template")),e=this.B.Fu),e},Yn.prototype.removeAllModeledParts=function(){this.fu(this.diagram.model.nodeDataArray)},Yn.prototype.fu=function(t){var e=this;t.forEach(function(o){e.$q(o)})},Yn.prototype.$q=function(t){null!==(t=this.zc(t))&&(Sv(this.diagram,t,!1),this.unresolveReferencesForPart(t))},Yn.prototype.unresolveReferencesForPart=function(){},Yn.prototype.removeDataForLink=function(){},Yn.prototype.findPartForKey=function(t){return null==t?null:null!==(t=this.B.model.Kb(t))?this.Ue.G(t):null},Yn.prototype.Cb=function(t){return null==t||null===(t=this.B.model.Kb(t))?null:(t=this.Ue.G(t))instanceof Fe?t:null},Yn.prototype.findLinkForKey=function(){return null},(st=Yn.prototype).zc=function(t){if(null===t)return null;var e=this.Ue.G(t);return null!==e?e:e=this.Te.G(t)},st.gj=function(t){return null===t?null:(t=this.Ue.G(t))instanceof Fe?t:null},st.yc=function(t){return null===t?null:this.Te.G(t)},st.It=function(t){for(var e=0;e<arguments.length;++e);e=new Ht;for(var o=this.lp.iterator;o.next();){var a=o.value,h=a.data;if(null!==h)for(var c=0;c<arguments.length;c++){var g=arguments[c];if(Ct(g)&&y_(this,h,g)){e.add(a);break}}}return e.iterator},st.Ht=function(t){for(var e=0;e<arguments.length;++e);e=new Ht;for(var o=this.No.iterator;o.next();){var a=o.value,h=a.data;if(null!==h)for(var c=0;c<arguments.length;c++){var g=arguments[c];if(Ct(g)&&y_(this,h,g)){e.add(a);break}}}return e.iterator},Yn.prototype.doModelChanged=function(t){if(this.B){var e=this.B;if(t.model===e.model){var o=t.change;if(e.doModelChanged(t),e.Z){e.Z=!1;try{var a=t.modelChange;if(""!==a)if(o===Ar){if("nodeCategory"===a){var h=this.zc(t.object),c=t.newValue;null!==h&&"string"==typeof c&&(h.category=c)}else"nodeDataArray"===a&&(this.fu(t.oldValue),this.addModeledParts(t.newValue));e.isModified=!0}else if(o===zo){var g=t.newValue;"nodeDataArray"===a&&Ct(g)&&bw(this,g),e.isModified=!0}else if(o===gn){var _=t.oldValue;"nodeDataArray"===a&&Ct(_)&&this.$q(_),e.isModified=!0}else o===Os&&("SourceChanged"===a?null!==t.object?this.updateDataBindings(t.object,t.propertyName):(this.ir(),this.updateAllTargetBindings()):"ModelDisplaced"===a&&this.Md());else if(o===Ar){var k=t.propertyName,P=t.object;P===e.model?("nodeKeyProperty"===k||"nodeCategoryProperty"===k)&&(e.undoManager.isUndoingRedoing||this.Md()):this.updateDataBindings(P,k),e.isModified=!0}else if(o===zo||o===gn){var F=t.change===zo,j=F?t.newParam:t.oldParam,ut=F?t.newValue:t.oldValue,xt=this.Qj.G(t.object);if(Array.isArray(xt))for(t=0;t<xt.length;t++){var pt=xt[t];if(F)x1(pt,ut,j);else if(!(0>j)){var Pt=j+G0(pt);pt.Lc(Pt,!0),Dr(pt,Pt,j)}}e.isModified=!0}}finally{e.Z=!0}}}}},Yn.prototype.updateAllTargetBindings=function(t){void 0===t&&(t="");for(var e=this.parts.iterator;e.next();)e.value.Ea(t);for(e=this.nodes.iterator;e.next();)e.value.Ea(t);for(e=this.links.iterator;e.next();)e.value.Ea(t)},Yn.prototype.ir=function(){for(var t=this.B.model,e=new Ht,o=t.nodeDataArray,a=0;a<o.length;a++)e.add(o[a]);var h=[];for(this.nodes.each(function(g){null===g.data||e.contains(g.data)||h.push(g.data)}),this.parts.each(function(g){null===g.data||e.contains(g.data)||h.push(g.data)}),h.forEach(function(g){TD(t,g,!1)}),a=0;a<o.length;a++){var c=o[a];null===this.zc(c)&&Aw(t,c,!1)}for(this.refreshDataBoundLinks(),o=this.parts.iterator;o.next();)o.value.updateRelationshipsFromData();for(o=this.nodes.iterator;o.next();)o.value.updateRelationshipsFromData();for(o=this.links.iterator;o.next();)o.value.updateRelationshipsFromData()},Yn.prototype.refreshDataBoundLinks=function(){},Yn.prototype.updateRelationshipsFromData=function(){},Yn.prototype.updateDataBindings=function(t,e){if("string"==typeof e){var o=this.zc(t);if(null!==o)o.Ea(e);else{o=null;for(var a=this.Qj.iterator;a.next();){for(var h=a.value,c=0;c<h.length;c++){var g=h[c].qy(t);null!==g&&(null===o&&(o=u()),o.push(g))}if(null!==o)break}if(null!==o){for(a=0;a<o.length;a++)o[a].Ea(e);m(o)}}t===this.diagram.model.modelData&&this.updateAllTargetBindings(e)}},Yn.prototype.tk=function(t,e,o){void 0===o&&(o=!1);var a=new gt;if(kt(t))for(var h=0;h<t.length;h++)Mw(this,t[h],e,a,o);else for(t=t.iterator;t.next();)Mw(this,t.value,e,a,o);if(null!==e){o=e.model,t=null!==(t=e.toolManager.findTool("Dragging"))?t.dragOptions.dragsLink:e.kl.dragsLink,h=new Ht;for(var c=new gt,g=a.iterator;g.next();){var _=g.value;if(_ instanceof We)t||null!==_.fromNode&&null!==_.toNode||h.add(_);else if(_ instanceof Fe&&null!==_.data&&o.Em()){var k=_,P=(_=g.key).Fg();null!==P&&(null!==(P=a.G(P))?(o.fe(k.data,o.ja(P.data)),k=e.yc(k.data),null!==(_=_.jj())&&null!==k&&c.add(_,k)):o.fe(k.data,void 0))}}if(0<h.count&&e.gu(h,!1),0<c.count)for(o=c.iterator;o.next();)a.add(o.key,o.value)}if(null!==e&&null!==this.B&&null!==(o=(e=e.model).afterCopyFunction)){var F=new gt;a.each(function(j){null!==j.key.data&&F.add(j.key.data,j.value.data)}),o(F,e,this.B.model)}for(e=a.iterator;e.next();)e.value.Ea();return a},Yn.prototype.copyPartData=function(t,e){var o=null,a=t.data;if(null!==a&&null!==e){var h=e.model;t instanceof We||Ct(a=h.copyNodeData(a))&&(h.uf(a),o=e.zc(a))}else Ea(t),null!==(o=t.copy())&&(h=this.B,null!==e?e.add(o):null!==a&&null!==h&&null!==h.commandHandler&&h.commandHandler.copiesClipboardData&&(e=h.model,h=null,o instanceof We||(h=e.copyNodeData(a)),Ct(h)&&(o.data=h)));return o},X.Object.defineProperties(Yn.prototype,{nodes:{get:function(){return this.lp}},links:{get:function(){return this.No}},parts:{get:function(){return this.Fa}},diagram:{get:function(){return this.B}},addsToTemporaryLayer:{get:function(){return this.mr},set:function(t){this.mr=t}}}),Yn.prototype.updateAllRelationshipsFromData=Yn.prototype.ir,Yn.prototype.findLinksByExample=Yn.prototype.Ht,Yn.prototype.findNodesByExample=Yn.prototype.It,Yn.prototype.findLinkForData=Yn.prototype.yc,Yn.prototype.findNodeForData=Yn.prototype.gj,Yn.prototype.findPartForData=Yn.prototype.zc,Yn.prototype.findNodeForKey=Yn.prototype.Cb,Yn.prototype.removeModeledPart=Yn.prototype.$q,Yn.prototype.removeModeledParts=Yn.prototype.fu,Yn.prototype.rebuildParts=Yn.prototype.Md;var w_=!1,S2=!1,D2=!1;function is(t){Yn.apply(this,arguments)}function b_(t,e){e.forEach(function(o){E2(t,o)}),lo(t.diagram,!1)}function E2(t,e){if(null!=e&&!t.diagram.undoManager.isUndoingRedoing&&!t.Te.contains(e)){var o=t.getLinkCategoryForData(e),a=t.findLinkTemplateForCategory(o);if(null!==a){Ea(a);var h=a.copy();if(null!==h){a=t.diagram.skipsModelSourceBindings,t.diagram.skipsModelSourceBindings=!0,h.Nf=o,h.ob=e;var c=Iw(o=t.diagram.model,e,!0);""!==c&&(h.fromPortId=c),void 0!==(c=zl(o,e,!0))&&(c=t.Cb(c))instanceof Fe&&(h.fromNode=c),""!==(c=Iw(o,e,!1))&&(h.toPortId=c),void 0!==(c=zl(o,e,!1))&&(c=t.Cb(c))instanceof Fe&&(h.toNode=c),o=o.Bf(e),Array.isArray(o)&&o.forEach(function(g){null!==(g=t.Cb(g))&&(g.labeledLink=h)}),t.mr&&(h.ih="Tool"),t.diagram.add(h),h.ob=null,h.data=e,t.diagram.skipsModelSourceBindings=a}}}}function jf(t,e){e.forEach(function(o){t.$q(o)})}function wl(){Yn.apply(this,arguments),this.rh=null}function Cw(t,e,o){if(null!==e&&null!==o){var a=t.diagram.toolManager.findTool("Linking"),h=e,c=o;if(t.diagram.isTreePathToChildren){for(e=c.linksConnected;e.next();)if(e.value.toNode===c)return}else for(c=e,e=(h=o).linksConnected;e.next();)if(e.value.fromNode===h)return;if((null===a||!hd(a,h,c,null,!0))&&(a=t.getLinkCategoryForData(o.data),null!==(e=t.findLinkTemplateForCategory(a))&&(Ea(e),null!==(e=e.copy())))){var g=t.diagram.skipsModelSourceBindings;t.diagram.skipsModelSourceBindings=!0,e.Nf=a,e.ob=o.data,e.fromNode=h,e.toNode=c,t.diagram.add(e),e.ob=null,e.data=o.data,t.diagram.skipsModelSourceBindings=g}}}function Ii(t){this.Oi=new Ht,this.Li=new Ht,this.tu=',\n  "insertedNodeKeys": ',this.lx=',\n  "modifiedNodeData": ',this.vu=',\n  "removedNodeKeys": ',this.Yh=null,me(this),this.Ln=this.oa="",this.$f=!1,this.l={},this.Fc=[],this.Wa=new gt,this.Ni="key",this.il=this.Pl=null,this.Cn=this.Dn=!1,this.Fn=!0,this.kn=null,this.Yj="category",this.Tf=new gt,this.cv=new Lt,this.vg=!1,this.u=null,this.undoManager=new oo,void 0!==t&&(this.nodeDataArray=t)}function I1(t,e,o,a,h,c){function g(j,ut){_?(void 0===j.__gohashid&&c.push(j),a.set(j,ut)):(j=de++,a.set(j,ut),h.set(j,e))}if(!Ct(e))return e;c||(c=[]);var _=Object.isExtensible(e);if(a||(a=new gt),_){var k=a.get(e);if(k)return k}else for(h||(h=new gt),k=h.iterator;k.next();){var P=k.key;if(k.value===e&&(P=a.get(P)))return P}if(Array.isArray(e)){g(e,k=[]);for(var F=0;F<e.length;F++)k.push(I1(t,e[F],!1,a,h,c))}else if(e instanceof rt||e instanceof Ge||e instanceof te||e instanceof hn||e instanceof Ti)k=e.copy(),g(e,k);else{if(e instanceof In||e instanceof xn||e instanceof wt)return e;if(e instanceof Lt)k=(new Lt).addAll(I1(t,e.ma(),!1,a,h,c)),g(e,k);else if(e instanceof Ht)k=(new Ht).addAll(I1(t,e.ma(),!1,a,h,c)),g(e,k);else if(e instanceof gt)k=(new gt).addAll(I1(t,e.ma(),!1,a,h,c)),g(e,k);else if(e instanceof Date)k=new Date(e.getTime()),g(e,k);else if(e instanceof RegExp)k=new RegExp(e),g(e,k),k.lastIndex=e.lastIndex;else if("function"==typeof e.copy)k=e.copy(),g(e,k);else for(F in g(e,k={}),e)"__gohashid"!==F&&(k[F]=I1(t,e[F],!1,a,h,c))}return o&&c.forEach(function(j){delete j.__gohashid}),k}function Sw(t){return',\n  "modelData": '+kw(t,t.modelData)}function k2(t,e){Ct(e=e.modelData)&&(t.Om(e),t.modelData=e)}function oy(t,e,o,a){if(e===o)return!0;if(typeof e!=typeof o||"function"==typeof e||"function"==typeof o)return!1;if(Array.isArray(e)&&Array.isArray(o)){if(a.G(e)===o)return!0;if(a.add(e,o),e.length!==o.length)return!1;for(var h=0;h<e.length;h++)if(!oy(t,e[h],o[h],a))return!1;return!0}if(Ct(e)&&Ct(o)){if(a.G(e)===o)return!0;for(var c in a.add(e,o),e){var g=e[c];if(!sy(c,g)){var _=o[c];if(void 0===_||!oy(t,g,_,a))return!1}}for(h in o)if(!(sy(h,c=o[h])||void 0!==(g=e[h])&&oy(t,g,c,a)))return!1;return!0}return!1}function q0(t,e,o){t[o]!==e[o]&&z("Model.computeJsonDifference: Model."+o+' is not the same in both models: "'+t[o]+'" and "'+e[o]+'"')}function Dw(t,e){function o(h,c){if((c=c.part)&&h!==(c=c.data)){var g=a.get(h);null===g?((g=new Ht).add(c),a.add(h,g)):g.add(c)}}var a=t.Yh;null===a&&(a=new gt,e.changes.each(function(h){if(null!==h.diagram){var c=h.change;c===Ar?(h=h.object.panel)&&(c=h.data)&&o(c,h):(c===zo||c===gn)&&(c=(h=h.object).itemArray)&&o(c,h)}}),t.Yh=a)}function A2(t,e){for(var o=new Ht,a=0;a<t.nodeDataArray.length;a++){var h=t.nodeDataArray[a];Ew(t,e,h,h,o)}return o}function Ew(t,e,o,a,h){if(Array.isArray(o))for(var c=0;c<o.length;c++){var g=o[c];if(g===e)return h.add(a),!0;if(Ew(t,e,g,a,h))return!0}else if(Ct(o)&&Object.getPrototypeOf(o)===Object.prototype)for(c in o){if((g=o[c])===e)return h.add(a),!0;if(Ew(t,e,g,a,h))return!0}return!1}function jl(t,e,o){void 0===o&&(o=!1);var a=e.length;if(0>=a)return"[]";var h=new Ut;h.add("["),o&&1<a&&h.add("\n");for(var c=0;c<a;c++){var g=e[c];void 0!==g&&(0<c&&(h.add(","),o&&h.add("\n")),h.add(t.bn(g)))}return o&&1<a&&h.add("\n"),h.add("]"),h.toString()}function sy(t,e){return void 0===e||"__gohashid"===t||"_"===t[0]||"function"==typeof e}function Ta(t){return isNaN(t)?"NaN":t===1/0?"9e9999":t===-1/0?"-9e9999":t}function kw(t,e){var o=e;if(o instanceof rt)e={class:"go.Point",x:Ta(o.x),y:Ta(o.y)};else if(o instanceof Ge)e={class:"go.Size",width:Ta(o.width),height:Ta(o.height)};else if(o instanceof te)e={class:"go.Rect",x:Ta(o.x),y:Ta(o.y),width:Ta(o.width),height:Ta(o.height)};else if(o instanceof hn)e={class:"go.Margin",top:Ta(o.top),right:Ta(o.right),bottom:Ta(o.bottom),left:Ta(o.left)};else if(o instanceof Ti)e=o.kb()?{class:"go.Spot",x:Ta(o.x),y:Ta(o.y),offsetX:Ta(o.offsetX),offsetY:Ta(o.offsetY)}:{class:"go.Spot",enum:o.toString()};else if(o instanceof In){if(e={class:"go.Brush",type:o.type.name},o.type===Ku?e.color=o.color:(o.type===Zu||o.type===Sa)&&(e.start=o.start,e.end=o.end,o.type===Sa&&(0!==o.startRadius&&(e.startRadius=Ta(o.startRadius)),isNaN(o.endRadius)||(e.endRadius=Ta(o.endRadius)))),null!==o.colorStops){var a={};for(o=o.colorStops.iterator;o.next();)a[o.key]=o.value;e.colorStops=a}}else o instanceof xn?(e={class:"go.Geometry",type:o.type.name},0!==o.startX&&(e.startX=Ta(o.startX)),0!==o.startY&&(e.startY=Ta(o.startY)),0!==o.endX&&(e.endX=Ta(o.endX)),0!==o.endY&&(e.endY=Ta(o.endY)),o.spot1.w(gr)||(e.spot1=o.spot1),o.spot2.w(tl)||(e.spot2=o.spot2),o.type===kl&&(e.path=Mm(o))):o instanceof wt&&(e={class:"go.EnumValue",classType:dg(t,o.classType),name:o.name});for(var h in a="{",o=!0,e){var c=go(e,h);if(!sy(h,c))if(o?o=!1:a+=",",a+=JSON.stringify(h)+":","points"===h&&c instanceof Lt){var g="[";for(c=c.iterator;c.next();){var _=c.value;1<g.length&&(g+=","),g+=t.bn(_.x),g+=",",g+=t.bn(_.y)}a+=g+="]"}else a+=t.bn(c)}return a+"}"}function ia(t){return"number"==typeof t?t:"NaN"===t?NaN:"9e9999"===t?1/0:"-9e9999"===t?-1/0:parseFloat(t)}function Go(t,e,o,a,h,c,g,_,k){void 0===_&&(_=null),void 0===k&&(k=null);var P=new Yr;P.model=t,P.change=o,P.modelChange=e,P.propertyName=a,P.object=h,P.oldValue=c,P.oldParam=_,P.newValue=g,P.newParam=k,t.zt(P)}function jp(t){return"number"==typeof t||"string"==typeof t}function Aw(t,e,o){var a=t.ja(e);(void 0===a||t.Wa.G(a)!==e)&&(t.Zt(e),void 0===(a=t.ja(e))?z("Model.makeNodeDataKeyUnique failed on "+e+".  Data not added to Model."):(t.Wa.add(a,e),a=null,o&&St(t.Fc,a=t.Fc.length,e),Go(t,"nodeDataArray",zo,"nodeDataArray",t,null,e,null,a),t.Qm(e),t.Pm(e)))}function TD(t,e,o){var a=t.ja(e);if(void 0!==a&&t.Wa.remove(a),a=null,o){t:if(o=t.Fc,Array.isArray(o))a=o.indexOf(e);else{a=o.length;for(var h=0;h<a;h++)if(o[h]===e){a=h;break t}a=-1}if(0>a)return;R(t.Fc,a)}Go(t,"nodeDataArray",gn,"nodeDataArray",t,e,null,a,null),t.hr(e)}function yu(t,e,o){if(void 0!==e){var a=t.Tf.G(e);null===a&&(a=new Ht,t.Tf.add(e,a)),a.add(o)}}function qh(t,e,o){if(void 0!==e){var a=t.Tf.G(e);a instanceof Ht&&(null==o?t.Tf.remove(e):(a.remove(o),0===a.count&&t.Tf.remove(e)))}}function ay(t,e){return void 0===e?null:(t=t.Tf.G(e))instanceof Ht?t:null}function R1(t,e,o){if(t.copiesArrays&&Array.isArray(e)){var a=[];for(o=0;o<e.length;o++){var h=R1(t,e[o],t.copiesArrayObjects);a.push(h)}return me(a),a}if(o&&Ct(e)){for(a in o=(o=e.constructor)?new o:{},h=t.copiesKey||"string"!=typeof t.nodeKeyProperty?null:t.nodeKeyProperty,e)if("__gohashid"===a)o.__gohashid=void 0;else if(a===h)o[h]=void 0;else{var c=go(e,a),g=dg(t,c);"GraphObject"===g||"Diagram"===g||"Layer"===g||"RowColumnDefinition"===g||"AnimationManager"===g||"Tool"===g||"CommandHandler"===g||"Layout"===g||"InputEvent"===g||"DiagramEvent"===g||c instanceof Ii||c instanceof oo||c instanceof Ho||c instanceof Yr||(c=R1(t,c,!1)),Fr(o,a,c)}return me(o),o}return e instanceof rt||e instanceof Ge||e instanceof te||e instanceof Ti||e instanceof hn?e.copy():e}function Tw(){return new Ii}function dg(t,e){if("function"==typeof e){if(e.className)return e.className;if(e.name)return e.name}else if("object"==typeof e&&null!==e&&e.constructor)return dg(t,e.constructor);return typeof e}function zf(t){return xu[t]?xu[t]:void 0!==V.go&&V.go[t]?V.go[t]:null}function go(t,e){if(!t||!e)return null;try{if("function"==typeof e)var o=e(t);else"function"==typeof t.getAttribute?null===(o=t.getAttribute(e))&&(o=void 0):o=t[e]}catch(a){}return o}function Fr(t,e,o){if(t&&e)try{"function"==typeof e?e(t,o):"function"==typeof t.setAttribute?t.setAttribute(e,o):t[e]=o}catch(a){}}Yn.className="PartManager",et(is,Yn),is.prototype.addAllModeledParts=function(){var t=this.diagram.model;this.addModeledParts(t.nodeDataArray),b_(this,t.linkDataArray)},is.prototype.addModeledParts=function(t){for(Yn.prototype.addModeledParts.call(this,t,!1),t=this.links.iterator;t.next();)en(t.value);lo(this.diagram,!1)},is.prototype.removeAllModeledParts=function(){var t=this.diagram.model;jf(this,t.linkDataArray),this.fu(t.nodeDataArray)},is.prototype.getLinkCategoryForData=function(t){return this.diagram.model.Lt(t)},is.prototype.setLinkCategoryForData=function(t,e){return this.diagram.model.cr(t,e)},is.prototype.setFromNodeForLink=function(t,e){var o=this.diagram.model;o.Bw(t.data,o.ja(null!==e?e.data:null))},is.prototype.setToNodeForLink=function(t,e){var o=this.diagram.model;o.Gw(t.data,o.ja(null!==e?e.data:null))},is.prototype.removeDataForLink=function(t){this.diagram.model.Mm(t.data)},is.prototype.findPartForKey=function(t){var e=Yn.prototype.findPartForKey.call(this,t);return null===e&&null!==(t=this.diagram.model.Dg(t))?this.Te.G(t):e},is.prototype.findLinkForKey=function(t){return null==t?null:null!==(t=this.diagram.model.Dg(t))?this.Te.G(t):null},is.prototype.doModelChanged=function(t){var e=this;if(Yn.prototype.doModelChanged.call(this,t),this.diagram){var o=this.diagram;if(t.model===o.model){var a=t.change;if(o.Z){o.Z=!1;try{var h=t.modelChange;if(""!==h){if(a===Ar){if("linkFromKey"===h){var c=this.yc(t.object);if(null!==c){var g=this.Cb(t.newValue);c.fromNode=g}}else if("linkToKey"===h){var _=this.yc(t.object);if(null!==_){var k=this.Cb(t.newValue);_.toNode=k}}else if("linkFromPortId"===h){var P=this.yc(t.object);if(null!==P){var F=t.newValue;"string"==typeof F&&(P.fromPortId=F)}}else if("linkToPortId"===h){var j=this.yc(t.object);if(null!==j){var ut=t.newValue;"string"==typeof ut&&(j.toPortId=ut)}}else if("nodeGroupKey"===h){var xt=this.zc(t.object);if(null!==xt){var pt=t.newValue;if(void 0!==pt){var Pt=this.Cb(pt);xt.containingGroup=Pt instanceof hi?Pt:null}else xt.containingGroup=null}}else if("linkLabelKeys"===h){var Xt=this.yc(t.object);if(null!==Xt){var $t=t.oldValue,ie=t.newValue;Array.isArray($t)&&$t.forEach(function(ei){0<=ie.indexOf(ei)||null!==(ei=e.Cb(ei))&&(ei.labeledLink=null)}),Array.isArray(ie)&&ie.forEach(function(ei){null!==(ei=e.Cb(ei))&&(ei.labeledLink=Xt)})}}else if("linkCategory"===h){var se=this.yc(t.object),fe=t.newValue;null!==se&&"string"==typeof fe&&(se.category=fe)}else"linkDataArray"===h&&(jf(this,t.oldValue),b_(this,t.newValue));o.isModified=!0}else if(a===zo){var we=t.newValue;if("linkDataArray"===h&&"object"==typeof we&&null!==we)E2(this,we);else if("linkLabelKeys"===h&&jp(we)){var ti=this.yc(t.object),Ci=this.Cb(we);null!==ti&&null!==Ci&&(Ci.labeledLink=ti)}o.isModified=!0}else if(a===gn){var ui=t.oldValue;if("linkDataArray"===h&&"object"==typeof ui&&null!==ui)this.$q(ui);else if("linkLabelKeys"===h&&jp(ui)){var Bi=this.Cb(ui);null!==Bi&&(Bi.labeledLink=null)}o.isModified=!0}}else if(a===Ar){var mi=t.propertyName;t.object!==o.model||"linkFromKeyProperty"!==mi&&"linkToKeyProperty"!==mi&&"linkFromPortIdProperty"!==mi&&"linkToPortIdProperty"!==mi&&"linkLabelKeysProperty"!==mi&&"nodeIsGroupProperty"!==mi&&"nodeGroupKeyProperty"!==mi&&"linkCategoryProperty"!==mi||o.undoManager.isUndoingRedoing||this.Md(),o.isModified=!0}}finally{o.Z=!0}}}}},is.prototype.refreshDataBoundLinks=function(){var t=this,e=this.diagram.model,o=new Ht,a=e.linkDataArray;a.forEach(function(c){o.add(c)});var h=[];this.links.each(function(c){null===c.data||o.contains(c.data)||h.push(c.data)}),h.forEach(function(c){R2(e,c,!1)}),a.forEach(function(c){null===t.yc(c)&&I2(e,c,!1)})},is.prototype.updateRelationshipsFromData=function(t){var e=t.data;if(null!==e){var o=t.diagram;if(null!==o){var a=o.model;if(t instanceof We){var h=zl(a,e,!0);if(h=o.Cb(h),t.fromNode=h,h=zl(a,e,!1),h=o.Cb(h),t.toNode=h,0<(e=a.Bf(e)).length||0<t.labelNodes.count){if(1===e.length&&1===t.labelNodes.count){h=e[0];var c=t.labelNodes.first();if(a.ja(c.data)===h)return}h=(new Ht).addAll(e);var g=new Ht;t.labelNodes.each(function(_){null!==_.data&&void 0!==(_=a.ja(_.data))&&g.add(_)}),(e=g.copy()).Zq(h),(h=h.copy()).Zq(g),(0<e.count||0<h.count)&&(e.each(function(_){null!==(_=o.Cb(_))&&_.labeledLink===t&&(_.labeledLink=null)}),h.each(function(_){null!==(_=o.Cb(_))&&_.labeledLink!==t&&(_.labeledLink=t)}))}}else!(t instanceof li)&&(e=a.Lh(e),null===(e=o.findPartForKey(e))||e instanceof hi)&&(t.containingGroup=e)}}},is.prototype.resolveReferencesForData=function(t){var e=this.diagram.model,o=e.ja(t);if(void 0!==o){var a=ay(e,o),h=this.zc(t);if(null!==a&&null!==h){a=a.iterator;for(var c={};a.next();){var g=a.value;e.ab(g)?h instanceof hi&&e.Lh(g)===o&&null!==(g=this.zc(g))&&(g.containingGroup=h):(c.link=this.yc(g),null!==c.link&&h instanceof Fe&&(zl(e,g,!0)===o&&(c.link.fromNode=h),zl(e,g,!1)===o&&(c.link.toNode=h),g=e.Bf(g),Array.isArray(g)&&g.some(function(_){return function(k){return k===o&&(h.labeledLink=_.link,!0)}}(c)))),c={link:c.link}}qh(e,o)}void 0!==(t=e.Lh(t))&&(t=this.Cb(t))instanceof hi&&(h.containingGroup=t)}},is.prototype.unresolveReferencesForPart=function(t){var e=this.diagram.model;if(t instanceof Fe){var o=e.ja(t.data);if(void 0!==o){for(var a=t.linksConnected;a.next();)yu(e,o,a.value.data);if(t.isLinkLabel&&null!==(a=t.labeledLink)&&yu(e,o,a.data),t instanceof hi)for(t=t.memberParts;t.next();)e.ab(a=t.value.data)&&yu(e,o,a)}}},is.prototype.copyPartData=function(t,e){var o=Yn.prototype.copyPartData.call(this,t,e);if(t instanceof We)if(null!==(t=t.data)&&null!==e){var a=e.model;"object"==typeof(t=a.Aq(t))&&null!==t&&(a.bj(t),o=e.yc(t))}else null!==o&&(e=this.diagram,null!==t&&null!==e&&null!==e.commandHandler&&e.commandHandler.copiesClipboardData&&"object"==typeof(e=e.model.Aq(t))&&null!==e&&(o.data=e));return o},is.prototype.insertLink=function(t,e,o,a){var h=this.diagram,c=h.model,g=h.toolManager.findTool("Linking"),_="";if(null!==t&&(null===e&&(e=t),null===(_=e.portId)&&(_="")),e="",null!==o&&(null===a&&(a=o),null===(e=a.portId)&&(e="")),(a=g.archetypeLinkData)instanceof We){if(Ea(a),null!==(c=a.copy()))return c.fromNode=t,c.fromPortId=_,c.toNode=o,c.toPortId=e,h.add(c),(t=g.archetypeLabelNodeData)instanceof Fe&&(Ea(t),null!==(t=t.copy())&&(t.labeledLink=c,h.add(t))),c}else if(null!==a&&"object"==typeof(a=c.Aq(a))&&null!==a)return null!==t&&pg(c,a,c.ja(t.data),!0),J0(c,a,_,!0),null!==o&&pg(c,a,c.ja(o.data),!1),J0(c,a,e,!1),c.bj(a),null===(t=g.archetypeLabelNodeData)||t instanceof Fe||"object"==typeof(t=c.copyNodeData(t))&&null!==t&&(c.uf(t),void 0!==(t=c.ja(t))&&c.Dv(a,t)),h.yc(a);return null},is.prototype.findLinkForKey=is.prototype.findLinkForKey,is.prototype.findPartForKey=is.prototype.findPartForKey,is.prototype.removeAllModeledParts=is.prototype.removeAllModeledParts,is.prototype.addModeledParts=is.prototype.addModeledParts,is.prototype.addAllModeledParts=is.prototype.addAllModeledParts,is.className="GraphLinksPartManager",et(wl,Yn),wl.prototype.getLinkCategoryForData=function(t){return this.diagram.model.Ot(t)},wl.prototype.setLinkCategoryForData=function(t,e){this.diagram.model.ku(t,e)},wl.prototype.setFromNodeForLink=function(t,e,o){var a=this.diagram.model;if(void 0===o&&(o=null),e=null!==e?e.data:null,this.diagram.isTreePathToChildren)a.fe(t.data,a.ja(e));else{var h=this.rh;this.rh=t,null!==o&&a.fe(o.data,void 0),a.fe(e,a.ja(null!==t.toNode?t.toNode.data:null)),this.rh=h}},wl.prototype.setToNodeForLink=function(t,e,o){var a=this.diagram.model;if(void 0===o&&(o=null),e=null!==e?e.data:null,this.diagram.isTreePathToChildren){var h=this.rh;this.rh=t,null!==o&&a.fe(o.data,void 0),a.fe(e,a.ja(null!==t.fromNode?t.fromNode.data:null)),this.rh=h}else a.fe(t.data,a.ja(e))},wl.prototype.removeDataForLink=function(t){this.diagram.model.fe(t.data,void 0)},wl.prototype.findLinkForKey=function(t){return null==t?null:null!==(t=this.diagram.model.Kb(t))?this.Te.G(t):null},wl.prototype.doModelChanged=function(t){if(Yn.prototype.doModelChanged.call(this,t),this.diagram){var e=this.diagram;if(t.model===e.model){var o=t.change;if(e.Z){e.Z=!1;try{var a=t.modelChange;if(""!==a){if(o===Ar){if("nodeParentKey"===a){var h=t.object,c=this.Cb(t.newValue),g=this.gj(h);if(null!==this.rh)null!==c&&(this.rh.data=h,this.rh.category=this.getLinkCategoryForData(h));else if(null!==g){var _=g.jj();null!==_?null===c?e.remove(_):e.isTreePathToChildren?_.fromNode=c:_.toNode=c:Cw(this,c,g)}}else if("parentLinkCategory"===a){var k=this.gj(t.object),P=t.newValue;if(null!==k&&"string"==typeof P){var F=k.jj();null!==F&&(F.category=P)}}e.isModified=!0}}else o===Ar&&(t.object===e.model&&"nodeParentKeyProperty"===t.propertyName&&(e.undoManager.isUndoingRedoing||this.Md()),e.isModified=!0)}finally{e.Z=!0}}}}},wl.prototype.updateRelationshipsFromData=function(t){var e=t.data;if(null!==e){var o=t.diagram;if(null!==o){var a=o.model;t instanceof Fe&&(e=a.Mh(e),(e=o.Cb(e))!==(a=t.Fg())&&(a=t.jj(),null!==e?null!==a?o.isTreePathToChildren?a.fromNode=e:a.toNode=e:Cw(this,e,t):null!==a&&Sv(o,a,!1)))}}},wl.prototype.updateDataBindings=function(t,e){Yn.prototype.updateDataBindings.call(this,t,e),"string"==typeof e&&null!==this.zc(t)&&null!==(t=this.yc(t))&&t.Ea(e)},wl.prototype.resolveReferencesForData=function(t){var e=this.diagram.model,o=e.ja(t);if(void 0!==o){var a=ay(e,o),h=this.zc(t);if(null!==a&&null!==h){for(a=a.iterator;a.next();){var c=a.value;e.ab(c)&&h instanceof Fe&&e.Mh(c)===o&&Cw(this,h,this.gj(c))}qh(e,o)}void 0!==(t=e.Mh(t))&&h instanceof Fe&&Cw(this,t=this.Cb(t),h)}},wl.prototype.unresolveReferencesForPart=function(t){var e=this.diagram.model;if(t instanceof Fe){var o=e.ja(t.data),a=this.yc(t.data);if(null!==a){a.isSelected=!1,a.isHighlighted=!1;var h=a.layer;if(null!==h){var c=h.Lc(-1,a,!1);0<=c&&this.diagram.Va(gn,"parts",h,a,null,c,null),null!==(c=a.layerChanged)&&c(a,h,null)}}for(a=this.diagram.isTreePathToChildren,t=t.linksConnected;t.next();)h=t.value,e.ab(h=(a?h.toNode:h.fromNode).data)&&yu(e,o,h)}},wl.prototype.insertLink=function(t,e,o){e=this.diagram.model;var a=t,h=o;return this.diagram.isTreePathToChildren||(a=o,h=t),null!==a&&null!==h?(e.fe(h.data,e.ja(a.data)),h.jj()):null},wl.prototype.findLinkForKey=wl.prototype.findLinkForKey,wl.className="TreePartManager",Ii.prototype.cloneProtected=function(t){t.oa=this.oa,t.Ln=this.Ln,t.$f=this.$f,t.Ni=this.Ni,t.Pl=this.Pl,t.il=this.il,t.Dn=this.Dn,t.Cn=this.Cn,t.Fn=this.Fn,t.kn=this.kn,t.Yj=this.Yj},Ii.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},Ii.prototype.clear=function(){this.Fc=[],this.Wa.clear(),this.Tf.clear(),this.undoManager.clear()},Ii.prototype.toString=function(t){if(void 0===t&&(t=0),1<t)return this.fr();var e=(""!==this.name?this.name:"")+" Model";if(0<t){e+="\n node data:";for(var o=(t=this.nodeDataArray).length,a=0;a<o;a++){var h=t[a];e+=" "+this.ja(h)+":"+v(h)}}return e},Ii.prototype.gB=function(t){t.change!==Os&&z("Model.toIncrementalData argument is not a Transaction ChangedEvent:"+t.toString());var e=t.object;return t.isTransactionFinished&&e instanceof Ho?(Dw(this,e),t=this.Yw(e,"FinishedUndo"===t.propertyName),this.Yh=null,t):null},Ii.prototype.Yw=function(t,e){var o=this,a=!1,h=new Ht,c=new Ht,g=new Ht,_=this.Yh;t.changes.each(function(j){j.model===o&&("nodeDataArray"===j.modelChange?j.change===zo?h.add(j.newValue):j.change===gn&&g.add(j.oldValue):o.ab(j.object)?c.add(j.object):j.change!==Ar||o.modelData!==j.object&&"modelData"!==j.propertyName?null!==j.object&&(_&&_.contains(j.object)?_.get(j.object).each(function(ut){o.ab(ut)&&c.add(ut)}):j.object instanceof Ii||o.qj()&&o.xc(j.object)||A2(o,j.object).each(function(ut){c.add(ut)})):a=!0)});var k=this.Li;k.clear(),h.each(function(j){k.add(o.ja(j)),e||c.add(j)});var P=this.Oi;P.clear(),g.each(function(j){P.add(o.ja(j)),e&&c.add(j)}),t=o.cloneDeep(c.ma());var F=null;return a&&(null===F&&(F={}),F.modelData=this.cloneDeep(this.modelData)),0<k.count&&(null===F&&(F={}),e?F.removedNodeKeys=k.ma():F.insertedNodeKeys=k.ma()),0<t.length&&(null===F&&(F={}),F.modifiedNodeData=t),0<P.count&&(null===F&&(F={}),e?F.insertedNodeKeys=P.ma():F.removedNodeKeys=P.ma()),P.clear(),k.clear(),F},Ii.prototype.cloneDeep=function(t){return I1(this,t,!0)},(st=Ii.prototype).Vk=function(){var t="";return""!==this.name&&(t+=',\n  "name": '+this.quote(this.name)),""!==this.dataFormat&&(t+=',\n  "dataFormat": '+this.quote(this.dataFormat)),this.isReadOnly&&(t+=',\n  "isReadOnly": '+this.isReadOnly),"key"!==this.nodeKeyProperty&&"string"==typeof this.nodeKeyProperty&&(t+=',\n  "nodeKeyProperty": '+this.quote(this.nodeKeyProperty)),this.copiesArrays&&(t+=',\n  "copiesArrays": true'),this.copiesArrayObjects&&(t+=',\n  "copiesArrayObjects": true'),this.copiesKey||(t+=',\n  "copiesKey": false'),"category"!==this.nodeCategoryProperty&&"string"==typeof this.nodeCategoryProperty&&(t+=',\n  "nodeCategoryProperty": '+this.quote(this.nodeCategoryProperty)),t},st.Xq=function(t){t.name&&(this.name=t.name),t.dataFormat&&(this.dataFormat=t.dataFormat),t.isReadOnly&&(this.isReadOnly=!0),t.nodeKeyProperty&&(this.nodeKeyProperty=t.nodeKeyProperty),t.copiesArrays&&(this.copiesArrays=!0),t.copiesArrayObjects&&(this.copiesArrayObjects=!0),!1===t.copiesKey&&(this.copiesKey=!1),t.nodeCategoryProperty&&(this.nodeCategoryProperty=t.nodeCategoryProperty)},st.Zw=function(){var o,t=this.modelData,e=!1;for(o in t)if(!sy(o,t[o])){e=!0;break}return t="",e&&(t=Sw(this)),t+',\n  "nodeDataArray": '+jl(this,this.nodeDataArray,!0)},st.rw=function(t){k2(this,t),kt(t=t.nodeDataArray)&&(this.Om(t),this.nodeDataArray=t)},st.kr=function(t){q0(this,t,"nodeKeyProperty");var e=this.Li;e.clear();var o=new Ht,a=this.Oi;a.clear(),a.addAll(this.Wa.iteratorKeys);for(var h=new gt,c=t.nodeDataArray,g=c.length,_=0;_<g;_++){var k=c[_],P=t.ja(k);if(void 0!==P){a.remove(P);var F=this.Kb(P);null===F?(e.add(P),o.add(k)):oy(this,F,k,h)||o.add(k)}else this.Zt(k),P=this.ja(k),e.add(P),o.add(k)}return c="",oy(this,this.modelData,t.modelData,h)||(c+=Sw(this)),0<e.count&&(c+=this.tu+jl(this,e.ma(),!0)),0<o.count&&(c+=this.lx+jl(this,o.ma(),!0)),0<a.count&&(c+=this.vu+jl(this,a.ma(),!0)),a.clear(),e.clear(),c},st.Dz=function(t,e){return void 0===e&&(e=dg(this,this)),'{ "class": '+this.quote(e)+', "incremental": 1'+this.Vk()+this.kr(t)+"}"},st.Xw=function(t,e){var o=this,a=!1,h=new Ht,c=new Ht,g=new Ht,_=this.Yh;t.changes.each(function(F){F.model===o&&("nodeDataArray"===F.modelChange?F.change===zo?h.add(F.newValue):F.change===gn&&g.add(F.oldValue):o.ab(F.object)?c.add(F.object):F.change!==Ar||o.modelData!==F.object&&"modelData"!==F.propertyName?null!==F.object&&(_&&_.contains(F.object)?_.get(F.object).each(function(j){o.ab(j)&&c.add(j)}):F.object instanceof Ii||o.qj()&&o.xc(F.object)||A2(o,F.object).each(function(j){c.add(j)})):a=!0)});var k=this.Li;k.clear(),h.each(function(F){k.add(o.ja(F)),e||c.add(F)});var P=this.Oi;return P.clear(),g.each(function(F){P.add(o.ja(F)),e&&c.add(F)}),t="",a&&(t+=Sw(this)),0<k.count&&(t+=(e?this.vu:this.tu)+jl(this,k.ma(),!0)),0<c.count&&(t+=this.lx+jl(this,c.ma(),!0)),0<P.count&&(t+=(e?this.tu:this.vu)+jl(this,P.ma(),!0)),P.clear(),k.clear(),t},st.Wq=function(t){(void 0!==t.name&&t.name!==this.name||void 0!==t.dataFormat&&t.dataFormat!==this.dataFormat||void 0!==t.isReadOnly&&t.isReadOnly!==this.isReadOnly||void 0!==t.nodeKeyProperty&&t.nodeKeyProperty!==this.nodeKeyProperty||void 0!==t.copiesArrays&&t.copiesArrays!==this.copiesArrays||void 0!==t.copiesArrayObjects&&t.copiesArrayObjects!==this.copiesArrayObjects||void 0!==t.copiesKey&&t.copiesKey!==this.copiesKey||void 0!==t.nodeCategoryProperty&&t.nodeCategoryProperty!==this.nodeCategoryProperty)&&z("applyIncrementalJson cannot change Model properties"),k2(this,t);var e=t.insertedNodeKeys,o=t.modifiedNodeData,a=new gt;if(Array.isArray(o))for(var h=0;h<o.length;h++){var c=o[h],g=this.ja(c);null!=g&&a.set(g,c)}if(Array.isArray(e))for(h=e.length,c=0;c<h;c++){var _=this.Kb(g=e[c]);null===_&&(_=(_=a.get(g))?_:this.copyNodeData({}),this.Vm(_,g),this.uf(_))}if(Array.isArray(o))for(e=o.length,a=0;a<e;a++)if(c=this.ja(h=o[a]),null!==(c=this.Kb(c))){for(var k in h)"__gohashid"===k||k===this.nodeKeyProperty||this.Ck()&&k===this.nodeIsGroupProperty||this.setDataProperty(c,k,h[k]);this.Wm(h,c)}if(t=t.removedNodeKeys,Array.isArray(t))for(o=t.length,k=0;k<o;k++)null!==(e=this.Kb(t[k]))&&this.Nm(e)},st.Yy=function(t,e){t.change!==Os&&z("Model.toIncrementalJson argument is not a Transaction ChangedEvent:"+t.toString());var o=t.object;return t.isTransactionFinished&&o instanceof Ho?(void 0===e&&(e=dg(this,this)),Dw(this,o),t=this.Xw(o,"FinishedUndo"===t.propertyName),this.Yh=null,"2"===e?'{ "incremental": 2'+t+"}":'{ "class": '+this.quote(e)+', "incremental": 1'+this.Vk()+t+"}"):'{ "incremental": 0 }'},st.hB=function(t,e){return this.Yy(t,e)},st.fr=function(t){return void 0===t&&(t=dg(this,this)),'{ "class": '+this.quote(t)+this.Vk()+this.Zw()+"}"},st.toJSON=function(t){return this.fr(t)},st.Xx=function(t){var e=null;if("string"==typeof t)try{e=V.JSON.parse(t)}catch(a){}else"object"==typeof t?e=t:z("Unable to modify a Model from: "+t);var o=e.incremental;"number"!=typeof o&&z("Unable to apply non-incremental changes to Model: "+t),0!==o&&(this.xa("applyIncrementalJson"),this.Wq(e),this.Xa("applyIncrementalJson"))},st.vz=function(t){return this.Xx(t)},Ii.constructGraphLinksModel=function(){return new Ii},(st=Ii.prototype).Om=function(t){if(kt(t))for(var e=t.length,o=0;o<e;o++){var a=t[o];if(Ct(a)){var h=o;a=this.Om(a),Array.isArray(t)?t[h]=a:z("Cannot replace an object in an HTMLCollection or NodeList at "+h)}}else if(Ct(t)){for(e in t)if(Ct(o=t[e])&&(o=this.Om(o),t[e]=o,"points"===e&&Array.isArray(o))){for(h=o.length%2==0,a=0;a<o.length;a++)if("number"!=typeof o[a]){h=!1;break}if(h){for(h=new Lt,a=0;a<o.length/2;a++)h.add(new rt(o[2*a],o[2*a+1]));h.freeze(),t[e]=h}}return function(t){if("object"!=typeof t)return t;var e=t.class||"";if("NaN"===e)return NaN;if("Date"===e)return new Date(t.value);if(0!==e.indexOf("go."))return t;var o=t;if("Point"===(e=e.substr(3)))o=new rt(ia(t.x),ia(t.y));else if("Size"===e)o=new Ge(ia(t.width),ia(t.height));else if("Rect"===e)o=new te(ia(t.x),ia(t.y),ia(t.width),ia(t.height));else if("Margin"===e)o=new hn(ia(t.top),ia(t.right),ia(t.bottom),ia(t.left));else if("Spot"===e)o="string"==typeof t.enum?Yx(t.enum):new Ti(ia(t.x),ia(t.y),ia(t.offsetX),ia(t.offsetY));else if("Brush"===e){if((o=new In).type=Vt(In,t.type),"string"==typeof t.color&&(o.color=t.color),t.start instanceof Ti&&(o.start=t.start),t.end instanceof Ti&&(o.end=t.end),"number"==typeof t.startRadius&&(o.startRadius=ia(t.startRadius)),"number"==typeof t.endRadius&&(o.endRadius=ia(t.endRadius)),Ct(t=t.colorStops))for(var a in t)o.addColorStop(parseFloat(a),t[a])}else"Geometry"===e?(o=null,(o="string"==typeof t.path?op(t.path):new xn).type=Vt(xn,t.type),"number"==typeof t.startX&&(o.startX=ia(t.startX)),"number"==typeof t.startY&&(o.startY=ia(t.startY)),"number"==typeof t.endX&&(o.endX=ia(t.endX)),"number"==typeof t.endY&&(o.endY=ia(t.endY)),t.spot1 instanceof Ti&&(o.spot1=t.spot1),t.spot2 instanceof Ti&&(o.spot2=t.spot2)):"EnumValue"===e&&(0===(a=t.classType).indexOf("go.")&&(a=a.substr(3)),"function"==typeof(a=zf(a))&&(o=Vt(a,t.name)));return o}(t)}return t},st.quote=function(t){for(var e="",o=t.length,a=0;a<o;a++){var h=t[a];if('"'===h||"\\"===h)e+="\\"+h;else if("\b"===h)e+="\\b";else if("\f"===h)e+="\\f";else if("\n"===h)e+="\\n";else if("\r"===h)e+="\\r";else if("\t"===h)e+="\\t";else{var c=t.charCodeAt(a);e=16>c?e+"\\u000"+t.charCodeAt(a).toString(16):32>c?e+"\\u00"+t.charCodeAt(a).toString(16):8232===c?e+"\\u2028":8233===c?e+"\\u2029":e+h}}return'"'+e+'"'},st.bn=function(t){return void 0===t?"undefined":null===t?"null":!0===t?"true":!1===t?"false":"string"==typeof t?this.quote(t):"number"==typeof t?t===1/0?"9e9999":t===-1/0?"-9e9999":isNaN(t)?'{"class":"NaN"}':t.toString():t instanceof Date?'{"class":"Date", "value":"'+t.toJSON()+'"}':t instanceof Number?this.bn(t.valueOf()):kt(t)?jl(this,t):Ct(t)?kw(this,t):"function"==typeof t?"null":t.toString()},st.Hh=function(t){this.cv.add(t)},st.Tk=function(t){this.cv.remove(t)},st.zt=function(t){this.skipsUndoManager||this.undoManager.aw(t);for(var e=this.cv,o=e.length,a=0;a<o;a++)e.J(a)(t)},st.Va=function(t,e,o,a,h,c,g){Go(this,"",t,e,o,a,h,c,g)},st.g=function(t,e,o,a,h){Go(this,"",Ar,t,this,e,o,a,h)},st.du=function(t,e,o,a,h,c){Go(this,"",Ar,e,t,o,a,h,c)},Ii.prototype.changeState=function(t,e){if(null!==t&&t.model===this)if(t.change===Ar){var o=t.object,a=t.propertyName,h=t.G(e);a===this.nodeKeyProperty&&this.ab(o)&&(void 0!==(e=t.G(!e))&&this.Wa.remove(e),void 0!==h&&this.Wa.add(h,o)),Fr(o,a,h)}else t.change===zo?(o=t.newParam,"nodeDataArray"===t.modelChange?Ct(t=t.newValue)&&"number"==typeof o&&(a=this.ja(t),e?(this.Fc[o]===t&&R(this.Fc,o),void 0!==a&&this.Wa.remove(a)):(this.Fc[o]!==t&&St(this.Fc,o,t),void 0!==a&&this.Wa.add(a,t))):""===t.modelChange?((a=t.object)&&!kt(a)&&t.propertyName&&(a=go(t.object,t.propertyName)),kt(a)&&"number"==typeof o&&(t=t.newValue,e?R(a,o):St(a,o,t))):z("unknown ChangedEvent.Insert modelChange: "+t.toString())):t.change===gn?(o=t.oldParam,"nodeDataArray"===t.modelChange?Ct(t=t.oldValue)&&"number"==typeof o&&(a=this.ja(t),e?(this.Fc[o]!==t&&St(this.Fc,o,t),void 0!==a&&this.Wa.add(a,t)):(this.Fc[o]===t&&R(this.Fc,o),void 0!==a&&this.Wa.remove(a))):""===t.modelChange?((a=t.object)&&!kt(a)&&t.propertyName&&(a=go(t.object,t.propertyName)),kt(a)&&"number"==typeof o&&(t=t.oldValue,e?St(a,o,t):R(a,o))):z("unknown ChangedEvent.Remove modelChange: "+t.toString())):t.change!==Os&&z("unknown ChangedEvent: "+t.toString())},Ii.prototype.xa=function(t){return this.undoManager.xa(t)},Ii.prototype.Xa=function(t){return this.undoManager.Xa(t)},Ii.prototype.If=function(){return this.undoManager.If()},Ii.prototype.commit=function(t,e){void 0===e&&(e="");var o=this.skipsUndoManager;null===e&&(this.skipsUndoManager=!0,e=""),this.undoManager.xa(e);var a=!1;try{t(this),a=!0}finally{a?this.undoManager.Xa(e):this.undoManager.If(),this.skipsUndoManager=o}},(st=Ii.prototype).Ea=function(t,e){void 0===e&&(e=""),Go(this,"SourceChanged",Os,e,t,null,null)},st.ja=function(t){if(null!==t){var e=this.Ni;if(""!==e&&void 0!==(e=go(t,e))){if(jp(e))return e;z("Key value for node data "+t+" is not a number or a string: "+e)}}},st.Vm=function(t,e){if(null!==t){var o=this.Ni;if(""!==o)if(this.ab(t)){var a=go(t,o);a!==e&&null===this.Kb(e)&&(Fr(t,o,e),void 0!==a&&this.Wa.remove(a),this.Wa.add(e,t),Go(this,"nodeKey",Ar,o,t,a,e),"string"==typeof o&&this.Ea(t,o),this.ar(a,e))}else Fr(t,o,e)}},st.ab=function(t){var e=this.ja(t);return void 0!==e&&this.Wa.G(e)===t},st.Kb=function(t){return null===t&&z("Model.findNodeDataForKey:key must not be null"),void 0!==t&&jp(t)?this.Wa.G(t):null},st.Zt=function(t){if(null!==t){var e=this.Ni;if(""!==e){var o=this.ja(t);if(void 0===o||this.Wa.contains(o)){var a=this.Pl;if(null!==a&&null!=(o=a(this,t))&&!this.Wa.contains(o))return void Fr(t,e,o);if("string"==typeof o){for(a=2;this.Wa.contains(o+a);)a++;Fr(t,e,o+a)}else if(void 0===o||"number"==typeof o){for(o=-this.Wa.count-1;this.Wa.contains(o);)o--;Fr(t,e,o)}}}}},st.uf=function(t){null!==t&&(Si(t),this.ab(t)||Aw(this,t,!0))},st.qz=function(t){if(kt(t))for(var e=t.length,o=0;o<e;o++)this.uf(t[o]);else for(t=t.iterator;t.next();)this.uf(t.value)},st.Nm=function(t){null!==t&&TD(this,t,!0)},st.WA=function(t){if(kt(t))for(var e=t.length,o=0;o<e;o++)this.Nm(t[o]);else for(t=t.iterator;t.next();)this.Nm(t.value)},st.KA=function(t){if(t!==this.nodeDataArray&&kt(t)){var e=this.Oi;e.clear(),e.addAll(this.Wa.iteratorKeys);var o=this.Li;o.clear();for(var a=t.length,h=0;h<a;h++){var c=t[h],g=this.ja(c);if(void 0!==g){o.add(g);var _=this.Kb(g);_!==c&&(null!==_?(this.vq(_,c),this.Wm(c,_)):(c=this.cloneDeep(c),this.Vm(c,g),this.uf(c)))}else g=this.cloneDeep(c),this.uf(g),o.add(this.ja(g))}for(t=e.iterator;t.next();)o.contains(a=t.value)||(a=this.Kb(a))&&this.Nm(a);e.clear(),o.clear()}},st.ar=function(t,e){void 0!==e&&(t=ay(this,t))instanceof Ht&&this.Tf.add(e,t)},st.Sw=function(){},st.Qm=function(){},st.Pm=function(){},st.hr=function(){},st.Cz=function(t){void 0===t?this.Tf.clear():this.Tf.remove(t)},Ii.prototype.copyNodeData=function(t){if(null===t)return null;var e=this.il;return Ct(t=null!==e?e(t,this):R1(this,t,!0))&&me(t),t},Ii.prototype.setDataProperty=function(t,e,o){if(this.ab(t)){if(e===this.nodeKeyProperty)return void this.Vm(t,o);if(e===this.nodeCategoryProperty)return void this.Um(t,o)}else!P2&&t instanceof Oi&&(P2=!0,lt('Model.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),lt("  Is that really your intent?"));var a=go(t,e);a!==o&&(Fr(t,e,o),this.du(t,e,a,o))},(st=Ii.prototype).set=function(t,e,o){this.setDataProperty(t,e,o)},st.vq=function(t,e){if(e){var a,o=this.ab(t);for(a in e)"__gohashid"===a||o&&a===this.nodeKeyProperty||this.setDataProperty(t,a,e[a])}},st.mz=function(t,e){this.Pt(t,-1,e)},st.Pt=function(t,e,o){0>e&&(e=t.length),St(t,e,o),Go(this,"",zo,"",t,null,o,null,e)},st.tw=function(t,e){void 0===e&&(e=-1),t===this.Fc&&z("Model.removeArrayItem should not be called on the Model.nodeDataArray"),-1===e&&(e=t.length-1);var o=t[e];R(t,e),Go(this,"",gn,"",t,o,null,e,null)},st.Iq=function(t){if(null===t)return"";var e=this.Yj;return""===e||void 0===(e=go(t,e))?"":"string"==typeof e?e:(z("getCategoryForNodeData found a non-string category for "+t+": "+e),"")},st.Um=function(t,e){if(null!==t){var o=this.Yj;if(""!==o)if(this.ab(t)){var a=go(t,o);void 0===a&&(a=""),a!==e&&(Fr(t,o,e),Go(this,"nodeCategory",Ar,o,t,a,e))}else Fr(t,o,e)}},st.Wm=function(t,e){this.Um(e,this.Iq(t))},st.Em=function(){return!1},st.Ck=function(){return!1},st.qj=function(){return!1},st.Ut=function(){return!1},st.Dk=function(){return!1},X.Object.defineProperties(Ii.prototype,{name:{get:function(){return this.oa},set:function(t){var e=this.oa;e!==t&&(this.oa=t,this.g("name",e,t))}},dataFormat:{get:function(){return this.Ln},set:function(t){var e=this.Ln;e!==t&&(this.Ln=t,this.g("dataFormat",e,t))}},isReadOnly:{get:function(){return this.$f},set:function(t){var e=this.$f;e!==t&&(this.$f=t,this.g("isReadOnly",e,t))}},modelData:{get:function(){return this.l},set:function(t){var e=this.l;e!==t&&(this.l=t,this.g("modelData",e,t),this.Ea(t))}},undoManager:{get:function(){return this.u},set:function(t){var e=this.u;e!==t&&(null!==e&&e.Py(this),this.u=t,null!==t&&t.Vx(this))}},skipsUndoManager:{get:function(){return this.vg},set:function(t){this.vg=t}},nodeKeyProperty:{get:function(){return this.Ni},set:function(t){var e=this.Ni;e!==t&&(""===t&&z("Model.nodeKeyProperty may not be the empty string"),0<this.Wa.count&&z("Cannot set Model.nodeKeyProperty when there is existing node data"),this.Ni=t,this.g("nodeKeyProperty",e,t))}},makeUniqueKeyFunction:{get:function(){return this.Pl},set:function(t){var e=this.Pl;e!==t&&(this.Pl=t,this.g("makeUniqueKeyFunction",e,t))}},nodeDataArray:{get:function(){return this.Fc},set:function(t){var e=this.Fc;if(e!==t){this.Wa.clear(),this.Sw();for(var o=t.length,a=0;a<o;a++){var h=t[a];if(!Ct(h))return void z("Model.nodeDataArray must only contain Objects, not: "+h);Si(h)}for(this.Fc=t,a=new Lt,h=0;h<o;h++){var c=t[h],g=this.ja(c);void 0===g||null!==this.Wa.G(g)?a.add(c):this.Wa.add(g,c)}for(a=a.iterator;a.next();)this.Zt(h=a.value),void 0!==(c=this.ja(h))&&this.Wa.add(c,h);for(Go(this,"nodeDataArray",Ar,"nodeDataArray",this,e,t),e=0;e<o;e++)this.Qm(a=t[e]),this.Pm(a);Array.isArray(t)||(this.isReadOnly=!0)}}},copyNodeDataFunction:{get:function(){return this.il},set:function(t){var e=this.il;e!==t&&(this.il=t,this.g("copyNodeDataFunction",e,t))}},copiesArrays:{get:function(){return this.Dn},set:function(t){var e=this.Dn;e!==t&&(this.Dn=t,this.g("copiesArrays",e,t))}},copiesArrayObjects:{get:function(){return this.Cn},set:function(t){var e=this.Cn;e!==t&&(this.Cn=t,this.g("copiesArrayObjects",e,t))}},copiesKey:{get:function(){return this.Fn},set:function(t){var e=this.Fn;e!==t&&(this.Fn=t,this.g("copiesKey",e,t))}},afterCopyFunction:{get:function(){return this.kn},set:function(t){var e=this.kn;e!==t&&(this.kn=t,this.g("afterCopyFunction",e,t))}},nodeCategoryProperty:{get:function(){return this.Yj},set:function(t){var e=this.Yj;e!==t&&(this.Yj=t,this.g("nodeCategoryProperty",e,t))}},type:{get:function(){return"Model"}}}),Ii.prototype.setCategoryForNodeData=Ii.prototype.Um,Ii.prototype.getCategoryForNodeData=Ii.prototype.Iq,Ii.prototype.removeArrayItem=Ii.prototype.tw,Ii.prototype.insertArrayItem=Ii.prototype.Pt,Ii.prototype.addArrayItem=Ii.prototype.mz,Ii.prototype.assignAllDataProperties=Ii.prototype.vq,Ii.prototype.set=Ii.prototype.set,Ii.prototype.clearUnresolvedReferences=Ii.prototype.Cz,Ii.prototype.mergeNodeDataArray=Ii.prototype.KA,Ii.prototype.removeNodeDataCollection=Ii.prototype.WA,Ii.prototype.removeNodeData=Ii.prototype.Nm,Ii.prototype.addNodeDataCollection=Ii.prototype.qz,Ii.prototype.addNodeData=Ii.prototype.uf,Ii.prototype.makeNodeDataKeyUnique=Ii.prototype.Zt,Ii.prototype.findNodeDataForKey=Ii.prototype.Kb,Ii.prototype.containsNodeData=Ii.prototype.ab,Ii.prototype.setKeyForNodeData=Ii.prototype.Vm,Ii.prototype.getKeyForNodeData=Ii.prototype.ja,Ii.prototype.updateTargetBindings=Ii.prototype.Ea,Ii.prototype.commit=Ii.prototype.commit,Ii.prototype.rollbackTransaction=Ii.prototype.If,Ii.prototype.commitTransaction=Ii.prototype.Xa,Ii.prototype.startTransaction=Ii.prototype.xa,Ii.prototype.raiseDataChanged=Ii.prototype.du,Ii.prototype.raiseChanged=Ii.prototype.g,Ii.prototype.raiseChangedEvent=Ii.prototype.Va,Ii.prototype.removeChangedListener=Ii.prototype.Tk,Ii.prototype.addChangedListener=Ii.prototype.Hh,Ii.prototype.writeJsonValue=Ii.prototype.bn,Ii.prototype.replaceJsonObjects=Ii.prototype.Om,Ii.prototype.applyIncrementalJSON=Ii.prototype.vz,Ii.prototype.applyIncrementalJson=Ii.prototype.Xx,Ii.prototype.toJSON=Ii.prototype.toJSON,Ii.prototype.toJson=Ii.prototype.fr,Ii.prototype.toIncrementalJSON=Ii.prototype.hB,Ii.prototype.toIncrementalJson=Ii.prototype.Yy,Ii.prototype.computeJsonDifference=Ii.prototype.Dz,Ii.prototype.toIncrementalData=Ii.prototype.gB,Ii.prototype.clear=Ii.prototype.clear;var P2=!1,xu={};function Mo(t,e,o){me(this),this.v=!1,void 0===t&&(t=""),void 0===e&&(e=t),void 0===o&&(o=null),this.l=-1,this.pd=null,this.pm=t,this.om=this.hq=0,this.ht=null,this.Ao=!1,this.hm=e,this.Bn=o,this.Zo=ly,this.un=null,this.Ou=new Ht}function __(t,e,o){return null===(t=t.sourceName)||""===t?e:"/"===t?o.part:"."===t?o:".."===t?o.panel:e.bb(t)}Ii.className="Model",Ii.fromJSON=Ii.fromJson=function(t,e){void 0===e&&(e=null);var o=null;if("string"==typeof t)try{o=V.JSON.parse(t)}catch(c){}else"object"==typeof t?o=t:z("Unable to construct a Model from: "+t);if(null===e){t=null;var a=o.class;if("string"==typeof a)try{var h=null;0===a.indexOf("go.")?h=zf(a=a.substr(3)):null===(h=zf(a))&&(h=V[a]),"function"==typeof h&&(t=new h)}catch(c){}null===t||t instanceof Ii?e=t:z("Unable to construct a Model of declared class: "+o.class)}return null===e&&(e=Ii.constructGraphLinksModel()),e.Xq(o),e.rw(o),e},Ii.safePropertyValue=go,Ii.safePropertySet=Fr,xu.Brush=In,xu.ChangedEvent=Yr,xu.Geometry=xn,xu.Margin=hn,xu.Panel=qe,xu.Point=rt,xu.Rect=te,xu.Size=Ge,xu.Spot=Ti,xu.Transaction=Ho,xu.UndoManager=oo,Mo.prototype.copy=function(){var t=new Mo;return t.pm=this.pm,t.hq=this.hq,t.om=this.om,t.ht=this.ht,t.Ao=this.Ao,t.hm=this.hm,t.Bn=this.Bn,t.Zo=this.Zo,t.un=this.un,t},(st=Mo.prototype).jb=function(t){t.classType===Mo&&(this.mode=t)},st.toString=function(){return"Binding("+this.targetProperty+":"+this.sourceProperty+(-1!==this.wj?" "+this.wj:"")+" "+this.mode.name+")"},st.freeze=function(){return this.v=!0,this},st.ea=function(){return this.v=!1,this},st.Iy=function(t){return void 0===t&&(t=null),this.mode=Pw,this.backConverter=t,this},st.Uq=function(t){return void 0===t&&(t=""),this.sourceName=t,this.isToModel=!1,this},st.MA=function(){return this.sourceName=null,this.isToModel=!0,this},st.Tw=function(t,e,o){var a=this.hm;if(void 0===o||""===a||a===o){o=this.pm;var h=this.Bn;if(null===h&&""===o)lt("Binding error: target property is the empty string: "+this.toString());else{var c=e;if(""!==a&&(c=go(e,a)),void 0!==c)if(null===h)""!==o&&Fr(t,o,c);else try{""!==o?Fr(t,o,h(c,t)):h(c,t)}catch(_){}}}},st.jr=function(t,e,o,a){if(this.Zo===Pw){var h=this.pm;if(void 0===o||h===o){o=this.hm;var c=this.un,g=t;if(""!==h&&(g=go(t,h)),void 0!==g&&!this.Ou.contains(t))try{this.Ou.add(t);var _=null!==a?a.diagram:null,k=null!==_?_.model:null;if(null===c){if(""!==o)null!==k?k.setDataProperty(e,o,g):Fr(e,o,g);else if(null!==k&&null!==a&&0<=a.itemIndex&&null!==a.panel&&Array.isArray(a.panel.itemArray)){var P=a.itemIndex,F=a.panel.itemArray;k.tw(F,P),k.Pt(F,P,g)}}else try{if(""!==o){var j=c(g,e,k);null!==k?k.setDataProperty(e,o,j):Fr(e,o,j)}else{var ut=c(g,e,k);if(void 0!==ut&&null!==k&&null!==a&&0<=a.itemIndex&&null!==a.panel&&Array.isArray(a.panel.itemArray)){var xt=a.itemIndex,pt=a.panel.itemArray;k.tw(pt,xt),k.Pt(pt,xt,ut)}}}catch(Pt){}}finally{this.Ou.remove(t)}}}},X.Object.defineProperties(Mo.prototype,{wj:{get:function(){return this.l},set:function(t){this.v&&nt(this),this.l=t}},targetProperty:{get:function(){return this.pm},set:function(t){this.v&&nt(this),this.pm=t}},sourceName:{get:function(){return this.ht},set:function(t){this.v&&nt(this),this.ht=t,null!==t&&(this.Ao=!1)}},isToModel:{get:function(){return this.Ao},set:function(t){this.v&&nt(this),this.Ao=t}},sourceProperty:{get:function(){return this.hm},set:function(t){this.v&&nt(this),this.hm=t}},converter:{get:function(){return this.Bn},set:function(t){this.v&&nt(this),this.Bn=t}},backConverter:{get:function(){return this.un},set:function(t){this.v&&nt(this),this.un=t}},mode:{get:function(){return this.Zo},set:function(t){this.v&&nt(this),this.Zo=t}}}),Mo.prototype.updateSource=Mo.prototype.jr,Mo.prototype.updateTarget=Mo.prototype.Tw,Mo.prototype.ofModel=Mo.prototype.MA,Mo.prototype.ofObject=Mo.prototype.Uq,Mo.prototype.makeTwoWay=Mo.prototype.Iy;var O1="Binding",ly=new wt(Mo,"OneWay",1),Pw=new wt(Mo,"TwoWay",2);function _n(t,e){Ii.call(this),this.su=',\n  "insertedLinkKeys": ',this.kx=',\n  "modifiedLinkData": ',this.uu=',\n  "removedLinkKeys": ',this.$c=[],this.ag=new Ht,this.gb=new gt,this.Hi="",this.Aj=this.hl=this.Ql=null,this.af="from",this.bf="to",this.Vj=this.Uj="",this.Tj="category",this.ae="",this.Ul="isGroup",this.ze="group",this.En=!1,void 0!==t&&(this.nodeDataArray=t),void 0!==e&&(this.linkDataArray=e)}function M_(t,e){for(var o=new Ht,a=0;a<t.linkDataArray.length;a++){var h=t.linkDataArray[a];Ew(t,e,h,h,o)}return o}function zl(t,e,o){if(null!==e&&""!==(t=o?t.af:t.bf)&&void 0!==(t=go(e,t))){if(jp(t))return t;z((o?"FromKey":"ToKey")+" value for link data "+e+" is not a number or a string: "+t)}}function pg(t,e,o,a){if(null===o&&(o=void 0),null!==e){var h=a?t.af:t.bf;if(""!==h)if(o=t.Gm(o),t.xc(e)){var c=go(e,h);c!==o&&(qh(t,c,e),Fr(e,h,o),null===t.Kb(o)&&yu(t,o,e),Go(t,a?"linkFromKey":"linkToKey",Ar,h,e,c,o),"string"==typeof h&&t.Ea(e,h))}else Fr(e,h,o)}}function Iw(t,e,o){return null===e||""===(t=o?t.Uj:t.Vj)||void 0===(e=go(e,t))?"":e}function J0(t,e,o,a){if(null!==e){var h=a?t.Uj:t.Vj;if(""!==h)if(t.xc(e)){var c=go(e,h);void 0===c&&(c=""),c!==o&&(Fr(e,h,o),Go(t,a?"linkFromPortId":"linkToPortId",Ar,h,e,c,o),"string"==typeof h&&t.Ea(e,h))}else Fr(e,h,o)}}function I2(t,e,o){if(""!==t.linkKeyProperty){var a=t.Wb(e);if(void 0!==a&&t.gb.G(a)===e)return;if(t.Rq(e),void 0===(a=t.Wb(e)))return void z("GraphLinksModel.makeLinkDataKeyUnique failed on "+e+". Data not added to model.");t.gb.add(a,e)}t.ag.add(e),a=null,o&&t.$c.splice(a=t.$c.length,0,e),Go(t,"linkDataArray",zo,"linkDataArray",t,null,e,null,a),Rw(t,e)}function R2(t,e,o){t.ag.remove(e);var a=t.Wb(e);if(void 0!==a&&t.gb.remove(a),a=null,o){if(0>(a=t.$c.indexOf(e)))return;t.$c.splice(a,1)}if(Go(t,"linkDataArray",gn,"linkDataArray",t,e,null,a,null),qh(t,o=zl(t,e,!0),e),qh(t,o=zl(t,e,!1),e),a=t.Bf(e),Array.isArray(a))for(var h=a.length,c=0;c<h;c++)qh(t,o=a[c],e)}function Rw(t,e){var o=zl(t,e,!0);o=t.Gm(o),null===t.Kb(o)&&yu(t,o,e),o=zl(t,e,!1),o=t.Gm(o),null===t.Kb(o)&&yu(t,o,e);var a=t.Bf(e);if(Array.isArray(a))for(var h=a.length,c=0;c<h;c++)null===t.Kb(o=a[c])&&yu(t,o,e)}function mg(t,e,o){t.cr(o,t.Lt(e)),t.Bw(o,t.xy(e)),t.Gw(o,t.Ay(e)),t.ju(o,t.Bf(e)),t.Cw(o,t.yy(e)),t.Hw(o,t.By(e))}Mo.className="Binding",Mo.parseEnum=function(t,e){return function(o){return null===(o=Vt(t,o))?e:o}},Mo.toString=v,Mo.OneWay=ly,Mo.TwoWay=Pw,et(_n,Ii),_n.constructGraphLinksModel=Ii.constructGraphLinksModel,_n.prototype.cloneProtected=function(t){Ii.prototype.cloneProtected.call(this,t),t.Hi=this.Hi,t.Ql=this.Ql,t.hl=this.hl,t.af=this.af,t.bf=this.bf,t.Uj=this.Uj,t.Vj=this.Vj,t.Tj=this.Tj,t.ae=this.ae,t.Ul=this.Ul,t.ze=this.ze,t.En=this.En},(st=_n.prototype).clear=function(){Ii.prototype.clear.call(this),this.$c=[],this.gb.clear(),this.ag.clear()},st.toString=function(t){if(void 0===t&&(t=0),2<=t)return this.fr();var e=(""!==this.name?this.name:"")+" GraphLinksModel";if(0<t){e+="\n node data:";var a,o=(t=this.nodeDataArray).length;for(a=0;a<o;a++){var h=t[a];e+=" "+this.ja(h)+":"+v(h)}for(e+="\n link data:",o=(t=this.linkDataArray).length,a=0;a<o;a++)e+=" "+zl(this,h=t[a],!0)+"--\x3e"+zl(this,h,!1)}return e},st.Yw=function(t,e){""===this.linkKeyProperty&&z("GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalData() to succeed.");var o=Ii.prototype.Yw.call(this,t,e),a=this,h=new Ht,c=new Ht,g=new Ht,_=this.Yh;t.changes.each(function(F){F.model===a&&("linkDataArray"===F.modelChange?F.change===zo?h.add(F.newValue):F.change===gn&&g.add(F.oldValue):a.xc(F.object)?c.add(F.object):null!==F.object&&(null!==F.object&&_&&_.contains(F.object)?_.get(F.object).each(function(j){a.xc(j)&&c.add(j)}):F.object instanceof Ii||a.ab(F.object)||M_(a,F.object).each(function(j){c.add(j)})))});var k=this.Li;k.clear(),h.each(function(F){k.add(a.Wb(F)),e||c.add(F)});var P=this.Oi;return P.clear(),g.each(function(F){P.add(a.Wb(F)),e&&c.add(F)}),t=a.cloneDeep(c.ma()),0<k.count&&(null===o&&(o={}),e?o.removedLinkKeys=k.ma():o.insertedLinkKeys=k.ma()),0<t.length&&(null===o&&(o={}),o.modifiedLinkData=t),0<P.count&&(null===o&&(o={}),e?o.insertedLinkKeys=P.ma():o.removedLinkKeys=P.ma()),P.clear(),k.clear(),o},st.Vk=function(){var t=Ii.prototype.Vk.call(this),e="";return"category"!==this.linkCategoryProperty&&"string"==typeof this.linkCategoryProperty&&(e+=',\n  "linkCategoryProperty": '+this.quote(this.linkCategoryProperty)),""!==this.linkKeyProperty&&"string"==typeof this.linkKeyProperty&&(e+=',\n  "linkKeyProperty": '+this.quote(this.linkKeyProperty)),"from"!==this.linkFromKeyProperty&&"string"==typeof this.linkFromKeyProperty&&(e+=',\n  "linkFromKeyProperty": '+this.quote(this.linkFromKeyProperty)),"to"!==this.linkToKeyProperty&&"string"==typeof this.linkToKeyProperty&&(e+=',\n  "linkToKeyProperty": '+this.quote(this.linkToKeyProperty)),""!==this.linkFromPortIdProperty&&"string"==typeof this.linkFromPortIdProperty&&(e+=',\n  "linkFromPortIdProperty": '+this.quote(this.linkFromPortIdProperty)),""!==this.linkToPortIdProperty&&"string"==typeof this.linkToPortIdProperty&&(e+=',\n  "linkToPortIdProperty": '+this.quote(this.linkToPortIdProperty)),""!==this.linkLabelKeysProperty&&"string"==typeof this.linkLabelKeysProperty&&(e+=',\n  "linkLabelKeysProperty": '+this.quote(this.linkLabelKeysProperty)),"isGroup"!==this.nodeIsGroupProperty&&"string"==typeof this.nodeIsGroupProperty&&(e+=',\n  "nodeIsGroupProperty": '+this.quote(this.nodeIsGroupProperty)),"group"!==this.nodeGroupKeyProperty&&"string"==typeof this.nodeGroupKeyProperty&&(e+=',\n  "nodeGroupKeyProperty": '+this.quote(this.nodeGroupKeyProperty)),t+e},st.Xq=function(t){Ii.prototype.Xq.call(this,t),t.linkKeyProperty&&(this.linkKeyProperty=t.linkKeyProperty),t.linkFromKeyProperty&&(this.linkFromKeyProperty=t.linkFromKeyProperty),t.linkToKeyProperty&&(this.linkToKeyProperty=t.linkToKeyProperty),t.linkFromPortIdProperty&&(this.linkFromPortIdProperty=t.linkFromPortIdProperty),t.linkToPortIdProperty&&(this.linkToPortIdProperty=t.linkToPortIdProperty),t.linkCategoryProperty&&(this.linkCategoryProperty=t.linkCategoryProperty),t.linkLabelKeysProperty&&(this.linkLabelKeysProperty=t.linkLabelKeysProperty),t.nodeIsGroupProperty&&(this.nodeIsGroupProperty=t.nodeIsGroupProperty),t.nodeGroupKeyProperty&&(this.nodeGroupKeyProperty=t.nodeGroupKeyProperty)},st.Zw=function(){return Ii.prototype.Zw.call(this)+',\n  "linkDataArray": '+jl(this,this.linkDataArray,!0)},st.rw=function(t){Ii.prototype.rw.call(this,t),t=t.linkDataArray,Array.isArray(t)&&(this.Om(t),this.linkDataArray=t)},st.kr=function(t){if(!(t instanceof _n))return z("Model.computeJsonDifference: newmodel must be a GraphLinksModel"),"";""===this.linkKeyProperty&&z("GraphLinksModel.linkKeyProperty must not be an empty string for .computeJsonDifference() to succeed.");var e=Ii.prototype.kr.call(this,t);q0(this,t,"linkKeyProperty"),q0(this,t,"linkFromKeyProperty"),q0(this,t,"linkToKeyProperty"),q0(this,t,"linkLabelKeysProperty"),q0(this,t,"nodeIsGroupProperty"),q0(this,t,"nodeGroupKeyProperty");var o=this.Li;o.clear();var a=new Ht,h=this.Oi;h.clear(),h.addAll(this.gb.iteratorKeys);for(var c=new gt,g=t.linkDataArray,_=g.length,k=0;k<_;k++){var P=g[k],F=t.Wb(P);if(void 0!==F){h.remove(F);var j=this.Dg(F);null===j?(o.add(F),a.add(P)):oy(this,j,P,c)||a.add(P)}else this.Rq(P),F=this.Wb(P),o.add(F),a.add(P)}return t=e,0<o.count&&(t+=this.su+jl(this,o.ma(),!0)),0<a.count&&(t+=this.kx+jl(this,a.ma(),!0)),0<h.count&&(t+=this.uu+jl(this,h.ma(),!0)),h.clear(),o.clear(),t},st.Xw=function(t,e){""===this.linkKeyProperty&&z("GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalJson() to succeed.");var o=Ii.prototype.Xw.call(this,t,e),a=this,h=new Ht,c=new Ht,g=new Ht,_=this.Yh;t.changes.each(function(F){F.model===a&&("linkDataArray"===F.modelChange?F.change===zo?h.add(F.newValue):F.change===gn&&g.add(F.oldValue):a.xc(F.object)?c.add(F.object):null!==F.object&&(null!==F.object&&_&&_.contains(F.object)?_.get(F.object).each(function(j){a.xc(j)&&c.add(j)}):F.object instanceof Ii||a.ab(F.object)||M_(a,F.object).each(function(j){c.add(j)})))});var k=this.Li;k.clear(),h.each(function(F){k.add(a.Wb(F)),e||c.add(F)});var P=this.Oi;return P.clear(),g.each(function(F){P.add(a.Wb(F)),e&&c.add(F)}),t=o,0<k.count&&(t+=(e?this.uu:this.su)+jl(this,k.ma(),!0)),0<c.count&&(t+=this.kx+jl(this,c.ma(),!0)),0<P.count&&(t+=(e?this.su:this.uu)+jl(this,P.ma(),!0)),P.clear(),k.clear(),t},st.Wq=function(t){(void 0!==t.linkCategoryProperty&&t.linkCategoryProperty!==this.linkCategoryProperty||void 0!==t.linkKeyProperty&&t.linkKeyProperty!==this.linkKeyProperty||void 0!==t.linkFromKeyProperty&&t.linkFromKeyProperty!==this.linkFromKeyProperty||void 0!==t.linkToKeyProperty&&t.linkToKeyProperty!==this.linkToKeyProperty||void 0!==t.linkFromPortIdProperty&&t.linkFromPortIdProperty!==this.linkFromPortIdProperty||void 0!==t.linkToPortIdProperty&&t.linkToPortIdProperty!==this.linkToPortIdProperty||void 0!==t.linkLabelKeysProperty&&t.linkLabelKeysProperty!==this.linkLabelKeysProperty||void 0!==t.nodeIsGroupProperty&&t.nodeIsGroupProperty!==this.nodeIsGroupProperty||void 0!==t.nodeGroupKeyProperty&&t.nodeGroupKeyProperty!==this.nodeGroupKeyProperty)&&z("applyIncrementalJson cannot change Model properties"),Ii.prototype.Wq.call(this,t);var e=t.insertedLinkKeys;if(Array.isArray(e))for(var o=e.length,a=0;a<o;a++){var h=e[a],c=this.Dg(h);null===c&&(c=this.Aq({}),this.iu(c,h),this.bj(c))}if(e=t.modifiedLinkData,Array.isArray(e))for(o=e.length,a=0;a<o;a++)if(c=this.Wb(h=e[a]),null!==(c=this.Dg(c))){for(var g in h)"__gohashid"!==g&&g!==this.linkKeyProperty&&this.setDataProperty(c,g,h[g]);mg(this,h,c)}if(t=t.removedLinkKeys,Array.isArray(t))for(g=t.length,e=0;e<g;e++)null!==(o=this.Dg(t[e]))&&this.Mm(o)},_n.prototype.changeState=function(t,e){if(null!==t&&t.model===this){if(t.change===Ar){var o=t.object,a=t.propertyName;if(a===this.linkKeyProperty&&this.xc(o)){var h=t.G(e);return void 0!==(e=t.G(!e))&&this.gb.remove(e),void 0!==h&&this.gb.add(h,o),void Fr(o,a,h)}}else if(t.change===zo){if(o=t.newParam,"linkDataArray"===t.modelChange)return void(Ct(t=t.newValue)&&"number"==typeof o&&(a=this.Wb(t),e?(this.ag.remove(t),this.$c[o]===t&&this.$c.splice(o,1),void 0!==a&&this.gb.remove(a)):(this.ag.add(t),this.$c[o]!==t&&this.$c.splice(o,0,t),void 0!==a&&this.gb.add(a,t))));if("linkLabelKeys"===t.modelChange)return a=this.Bf(t.object),void(Array.isArray(a)&&"number"==typeof o&&(e?(o=a.indexOf(t.newValue),0<=o&&a.splice(o,1)):0>a.indexOf(t.newValue)&&a.splice(o,0,t.newValue)))}else if(t.change===gn){if(o=t.oldParam,"linkDataArray"===t.modelChange)return void(Ct(t=t.oldValue)&&"number"==typeof o&&(a=this.Wb(t),e?(this.ag.add(t),this.$c[o]!==t&&this.$c.splice(o,0,t),void 0!==a&&this.gb.add(a,t)):(this.ag.remove(t),this.$c[o]===t&&this.$c.splice(o,1),void 0!==a&&this.gb.remove(a))));if("linkLabelKeys"===t.modelChange)return a=this.Bf(t.object),void(Array.isArray(a)&&"number"==typeof o&&(e?0>a.indexOf(t.newValue)&&a.splice(o,0,t.newValue):(o=a.indexOf(t.newValue),0<=o&&a.splice(o,1))))}Ii.prototype.changeState.call(this,t,e)}},(st=_n.prototype).Gm=function(t){if(void 0!==t){var e=this.Aj;if(null!==e){var o=this.Kb(t);null===o&&(Fr(o=this.copyNodeData(e),this.nodeKeyProperty,t),this.uf(o))}return t}},st.xy=function(t){return zl(this,t,!0)},st.Bw=function(t,e){pg(this,t,e,!0)},st.Ay=function(t){return zl(this,t,!1)},st.Gw=function(t,e){pg(this,t,e,!1)},st.yy=function(t){return Iw(this,t,!0)},st.Cw=function(t,e){J0(this,t,e,!0)},st.By=function(t){return Iw(this,t,!1)},st.Hw=function(t,e){J0(this,t,e,!1)},st.Bf=function(t){if(null===t)return N1;var e=this.ae;return""===e||void 0===(t=go(t,e))?N1:t},st.ju=function(t,e){if(null!==t){var o=this.ae;if(""!==o)if(this.xc(t)){var a=go(t,o);if(void 0===a&&(a=N1),a!==e){if(Array.isArray(a))for(var h=a.length,c=0;c<h;c++)qh(this,a[c],t);for(Fr(t,o,e),h=e.length,c=0;c<h;c++){var g=e[c];null===this.Kb(g)&&yu(this,g,t)}Go(this,"linkLabelKeys",Ar,o,t,a,e),"string"==typeof o&&this.Ea(t,o)}}else Fr(t,o,e)}},st.Dv=function(t,e){if(null!=e&&null!==t){var o=this.ae;if(""!==o){var a=go(t,o);if(void 0===a)(o=[]).push(e),this.ju(t,o);else if(Array.isArray(a)){var h=a.indexOf(e);0<=h||(h=a.length,a.push(e),this.xc(t)&&(null===this.Kb(e)&&yu(this,e,t),Go(this,"linkLabelKeys",zo,o,t,null,e,null,h)))}else z(o+" property is not an Array; cannot addLabelKeyForLinkData: "+t)}}},st.Oy=function(t,e){if(null!=e&&null!==t){var o=this.ae;if(""!==o){var a=go(t,o);if(Array.isArray(a)){var h=a.indexOf(e);0>h||(a.splice(h,1),this.xc(t)&&(qh(this,e,t),Go(this,"linkLabelKeys",gn,o,t,e,null,h,null)))}else void 0!==a&&z(o+" property is not an Array; cannot removeLabelKeyforLinkData: "+t)}}},st.Wb=function(t){if(null!==t){var e=this.Hi;if(""!==e&&void 0!==(e=go(t,e))){if(jp(e))return e;z("Key value for link data "+t+" is not a number or a string: "+e)}}},st.iu=function(t,e){if(null!==t){var o=this.Hi;if(""!==o)if(this.xc(t)){var a=go(t,o);a!==e&&null===this.Dg(e)&&(Fr(t,o,e),void 0!==a&&this.gb.remove(a),this.gb.add(e,t),Go(this,"linkKey",Ar,o,t,a,e),"string"==typeof o&&this.Ea(t,o))}else Fr(t,o,e)}},st.Dg=function(t){return null===t&&z("GraphLinksModel.findLinkDataForKey:key must not be null"),void 0!==t&&jp(t)?this.gb.G(t):null},st.Rq=function(t){if(null!==t){var e=this.Hi;if(""!==e){var o=this.Wb(t);if(void 0===o||this.gb.contains(o)){var a=this.Ql;if(null!==a&&null!=(o=a(this,t))&&!this.gb.contains(o))return void Fr(t,e,o);if("string"==typeof o){for(a=2;this.gb.contains(o+a);)a++;Fr(t,e,o+a)}else if(void 0===o||"number"==typeof o){for(o=-this.gb.count-1;this.gb.contains(o);)o--;Fr(t,e,o)}}}}},st.xc=function(t){return null!==t&&this.ag.contains(t)},st.bj=function(t){null!==t&&(Si(t),this.xc(t)||I2(this,t,!0))},st.pz=function(t){if(Array.isArray(t))for(var e=t.length,o=0;o<e;o++)this.bj(t[o]);else for(t=t.iterator;t.next();)this.bj(t.value)},st.Mm=function(t){null!==t&&R2(this,t,!0)},st.UA=function(t){if(Array.isArray(t))for(var e=t.length,o=0;o<e;o++)this.Mm(t[o]);else for(t=t.iterator;t.next();)this.Mm(t.value)},st.JA=function(t){if(""===this.linkKeyProperty&&z("GraphLinksModel.linkKeyProperty must not be an empty string for .mergeLinkDataArray() to succeed."),t!==this.linkDataArray&&kt(t)){var e=this.Oi;e.clear(),e.addAll(this.gb.iteratorKeys);var o=this.Li;o.clear();for(var a=t.length,h=0;h<a;h++){var c=t[h],g=this.Wb(c);if(void 0!==g){o.add(g);var _=this.Dg(g);_!==c&&(null!==_?(this.vq(_,c),mg(this,c,_)):(c=this.cloneDeep(c),this.iu(c,g),this.bj(c)))}else g=this.cloneDeep(c),this.bj(g),o.add(this.Wb(g))}for(t=e.iterator;t.next();)o.contains(a=t.value)||(a=this.Dg(a))&&this.Mm(a);e.clear(),o.clear()}},st.Aq=function(t){if(null===t)return null;var e=this.hl;return Ct(t=null!==e?e(t,this):R1(this,t,!0))&&(me(t),""!==this.af&&Fr(t,this.af,void 0),""!==this.bf&&Fr(t,this.bf,void 0),""!==this.ae&&Fr(t,this.ae,[])),t},st.fw=function(t){if(null===t)return!1;var e=this.Ul;return""!==e&&!!go(t,e)},st.Lh=function(t){if(null!==t){var e=this.ze;if(""!==e&&void 0!==(e=go(t,e))){if(jp(e))return e;z("GroupKey value for node data "+t+" is not a number or a string: "+e)}}},st.dr=function(t,e){if(null===e&&(e=void 0),null!==t){var o=this.ze;if(""!==o)if(this.ab(t)){var a=go(t,o);a!==e&&(qh(this,a,t),Fr(t,o,e),null===this.Kb(e)&&yu(this,e,t),Go(this,"nodeGroupKey",Ar,o,t,a,e),"string"==typeof o&&this.Ea(t,o))}else Fr(t,o,e)}},_n.prototype.copyNodeData=function(t){return null===t?null:(t=Ii.prototype.copyNodeData.call(this,t),this.rk||""===this.ze||void 0===go(t,this.ze)||Fr(t,this.ze,void 0),t)},_n.prototype.setDataProperty=function(t,e,o){if(this.ab(t)){if(e===this.nodeKeyProperty)return void this.Vm(t,o);if(e===this.nodeCategoryProperty)return void this.Um(t,o);if(e===this.nodeGroupKeyProperty)return void this.dr(t,o)}else if(this.xc(t)){if(e===this.linkFromKeyProperty)return void pg(this,t,o,!0);if(e===this.linkToKeyProperty)return void pg(this,t,o,!1);if(e===this.linkFromPortIdProperty)return void J0(this,t,o,!0);if(e===this.linkToPortIdProperty)return void J0(this,t,o,!1);if(e===this.linkKeyProperty)return void this.iu(t,o);if(e===this.linkCategoryProperty)return void this.cr(t,o);if(e===this.linkLabelKeysProperty)return void this.ju(t,o)}var a=go(t,e);a!==o&&(Fr(t,e,o),this.du(t,e,a,o))},(st=_n.prototype).vq=function(t,e){if(e){var h,o=this.ab(t),a=this.xc(t);for(h in e)"__gohashid"===h||o&&h===this.nodeKeyProperty||o&&h===this.nodeIsGroupProperty&&go(t,h)===e[h]||a&&h===this.linkKeyProperty||this.setDataProperty(t,h,e[h])}},st.ar=function(t,e){Ii.prototype.ar.call(this,t,e);for(var o=this.Wa.iterator;o.next();)this.vw(o.value,t,e);for(o=this.ag.iterator;o.next();){var a=o.value,h=t,c=e;if(zl(this,a,!0)===h){var g=this.af;Fr(a,g,c),Go(this,"linkFromKey",Ar,g,a,h,c),"string"==typeof g&&this.Ea(a,g)}if(zl(this,a,!1)===h&&(Fr(a,g=this.bf,c),Go(this,"linkToKey",Ar,g,a,h,c),"string"==typeof g&&this.Ea(a,g)),g=this.Bf(a),Array.isArray(g))for(var _=g.length,k=this.ae,P=0;P<_;P++)g[P]===h&&(g[P]=c,Go(this,"linkLabelKeys",zo,k,a,h,c,P,P))}},st.vw=function(t,e,o){if(this.Lh(t)===e){var a=this.ze;Fr(t,a,o),Go(this,"nodeGroupKey",Ar,a,t,e,o),"string"==typeof a&&this.Ea(t,a)}},st.Sw=function(){Ii.prototype.Sw.call(this);for(var t=this.linkDataArray,e=t.length,o=0;o<e;o++)Rw(this,t[o])},st.Qm=function(t){Ii.prototype.Qm.call(this,t);var e=ay(this,t=this.ja(t));if(null!==e){var o=u();for(e=e.iterator;e.next();){var a=e.value;if(this.ab(a)){if(this.Lh(a)===t){var h=this.ze;Go(this,"nodeGroupKey",Ar,h,a,t,t),"string"==typeof h&&this.Ea(a,h),o.push(a)}}else if(zl(this,a,!0)===t&&(Go(this,"linkFromKey",Ar,h=this.af,a,t,t),"string"==typeof h&&this.Ea(a,h),o.push(a)),zl(this,a,!1)===t&&(Go(this,"linkToKey",Ar,h=this.bf,a,t,t),"string"==typeof h&&this.Ea(a,h),o.push(a)),h=this.Bf(a),Array.isArray(h))for(var c=h.length,g=this.ae,_=0;_<c;_++)h[_]===t&&(Go(this,"linkLabelKeys",zo,g,a,t,t,_,_),o.push(a))}for(e=0;e<o.length;e++)qh(this,t,o[e]);m(o)}},st.Pm=function(t){Ii.prototype.Pm.call(this,t);var e=this.Lh(t);null===this.Kb(e)&&yu(this,e,t)},st.hr=function(t){Ii.prototype.hr.call(this,t),qh(this,this.Lh(t),t)},st.Lt=function(t){if(null===t)return"";var e=this.Tj;return""===e||void 0===(e=go(t,e))?"":"string"==typeof e?e:(z("getCategoryForLinkData found a non-string category for "+t+": "+e),"")},_n.prototype.getLinkCategoryForData=function(t){return this.Lt(t)},_n.prototype.cr=function(t,e){if(null!==t){var o=this.Tj;if(""!==o)if(this.xc(t)){var a=go(t,o);void 0===a&&(a=""),a!==e&&(Fr(t,o,e),Go(this,"linkCategory",Ar,o,t,a,e),"string"==typeof o&&this.Ea(t,o))}else Fr(t,o,e)}},_n.prototype.setLinkCategoryForData=function(t,e){this.cr(t,e)},(st=_n.prototype).Wm=function(t,e){Ii.prototype.Wm.call(this,t,e),this.dr(e,this.Lh(t))},st.Ck=function(){return!0},st.qj=function(){return!0},st.Ut=function(){return!0},st.Dk=function(){return!0},X.Object.defineProperties(_n.prototype,{archetypeNodeData:{get:function(){return this.Aj},set:function(t){var e=this.Aj;e!==t&&(this.Aj=t,this.g("archetypeNodeData",e,t))}},linkFromKeyProperty:{get:function(){return this.af},set:function(t){var e=this.af;e!==t&&(this.af=t,this.g("linkFromKeyProperty",e,t))}},linkToKeyProperty:{get:function(){return this.bf},set:function(t){var e=this.bf;e!==t&&(this.bf=t,this.g("linkToKeyProperty",e,t))}},linkFromPortIdProperty:{get:function(){return this.Uj},set:function(t){var e=this.Uj;e!==t&&(this.Uj=t,this.g("linkFromPortIdProperty",e,t))}},linkToPortIdProperty:{get:function(){return this.Vj},set:function(t){var e=this.Vj;e!==t&&(this.Vj=t,this.g("linkToPortIdProperty",e,t))}},linkLabelKeysProperty:{get:function(){return this.ae},set:function(t){var e=this.ae;e!==t&&(this.ae=t,this.g("linkLabelKeysProperty",e,t))}},linkDataArray:{get:function(){return this.$c},set:function(t){var e=this.$c;if(e!==t){this.gb.clear();for(var o=t.length,a=0;a<o;a++){var h=t[a];if(!Ct(h))return void z("GraphLinksModel.linkDataArray must only contain Objects, not: "+h);Si(h)}if(this.$c=t,""!==this.linkKeyProperty){for(a=new Lt,h=0;h<o;h++){var c=t[h],g=this.Wb(c);void 0===g||null!==this.gb.G(g)?a.add(c):this.gb.add(g,c)}for(a=a.iterator;a.next();)this.Rq(h=a.value),void 0!==(c=this.Wb(h))&&this.gb.add(c,h)}for(a=new Ht,h=0;h<o;h++)a.add(t[h]);for(this.ag=a,Go(this,"linkDataArray",Ar,"linkDataArray",this,e,t),e=0;e<o;e++)Rw(this,t[e])}}},linkKeyProperty:{get:function(){return this.Hi},set:function(t){var e=this.Hi;if(e!==t){this.Hi=t,this.gb.clear();for(var o=this.linkDataArray.length,a=0;a<o;a++){var h=this.linkDataArray[a],c=this.Wb(h);void 0===c&&(this.Rq(h),c=this.Wb(h)),void 0!==c&&this.gb.add(c,h)}this.g("linkKeyProperty",e,t)}}},makeUniqueLinkKeyFunction:{get:function(){return this.Ql},set:function(t){var e=this.Ql;e!==t&&(this.Ql=t,this.g("makeUniqueLinkKeyFunction",e,t))}},copyLinkDataFunction:{get:function(){return this.hl},set:function(t){var e=this.hl;e!==t&&(this.hl=t,this.g("copyLinkDataFunction",e,t))}},nodeIsGroupProperty:{get:function(){return this.Ul},set:function(t){var e=this.Ul;e!==t&&(this.Ul=t,this.g("nodeIsGroupProperty",e,t))}},nodeGroupKeyProperty:{get:function(){return this.ze},set:function(t){var e=this.ze;e!==t&&(this.ze=t,this.g("nodeGroupKeyProperty",e,t))}},rk:{get:function(){return this.En},set:function(t){this.En!==t&&(this.En=t)}},linkCategoryProperty:{get:function(){return this.Tj},set:function(t){var e=this.Tj;e!==t&&(this.Tj=t,this.g("linkCategoryProperty",e,t))}},type:{get:function(){return"GraphLinksModel"}}}),_n.prototype.setCategoryForLinkData=_n.prototype.cr,_n.prototype.getCategoryForLinkData=_n.prototype.Lt,_n.prototype.assignAllDataProperties=_n.prototype.vq,_n.prototype.setGroupKeyForNodeData=_n.prototype.dr,_n.prototype.getGroupKeyForNodeData=_n.prototype.Lh,_n.prototype.isGroupForNodeData=_n.prototype.fw,_n.prototype.copyLinkData=_n.prototype.Aq,_n.prototype.mergeLinkDataArray=_n.prototype.JA,_n.prototype.removeLinkDataCollection=_n.prototype.UA,_n.prototype.removeLinkData=_n.prototype.Mm,_n.prototype.addLinkDataCollection=_n.prototype.pz,_n.prototype.addLinkData=_n.prototype.bj,_n.prototype.containsLinkData=_n.prototype.xc,_n.prototype.makeLinkDataKeyUnique=_n.prototype.Rq,_n.prototype.findLinkDataForKey=_n.prototype.Dg,_n.prototype.setKeyForLinkData=_n.prototype.iu,_n.prototype.getKeyForLinkData=_n.prototype.Wb,_n.prototype.removeLabelKeyForLinkData=_n.prototype.Oy,_n.prototype.addLabelKeyForLinkData=_n.prototype.Dv,_n.prototype.setLabelKeysForLinkData=_n.prototype.ju,_n.prototype.getLabelKeysForLinkData=_n.prototype.Bf,_n.prototype.setToPortIdForLinkData=_n.prototype.Hw,_n.prototype.getToPortIdForLinkData=_n.prototype.By,_n.prototype.setFromPortIdForLinkData=_n.prototype.Cw,_n.prototype.getFromPortIdForLinkData=_n.prototype.yy,_n.prototype.setToKeyForLinkData=_n.prototype.Gw,_n.prototype.getToKeyForLinkData=_n.prototype.Ay,_n.prototype.setFromKeyForLinkData=_n.prototype.Bw,_n.prototype.getFromKeyForLinkData=_n.prototype.xy,_n.prototype.clear=_n.prototype.clear;var N1=Object.freeze([]);function Pa(t){Ii.call(this),this.Ae="parent",this.Gn=!1,this.$j="parentLinkCategory",void 0!==t&&(this.nodeDataArray=t)}function eo(){Hn.call(this),this.wx=this.Un=this.$b=0,this.Ur=360,this.vx=nh,this.Ij=0,this.mx=new rt,this.Gr=this.be=0,this.ut=new j1,this.Bu=this.Zj=0,this.gz=600,this.Ap=NaN,this.pn=1,this.bq=0,this.mm=360,this.Eb=nh,this.K=da,this.bd=gg,this.Wc=yw,this.lf=6,this.jp=V1}function Ld(t,e,o,a,h){var c=t.Ur,g=t.$b;t=t.be,a=a*Math.PI/180,o=o*Math.PI/180;for(var _=e.length,k=0;k<_;k++){var P=a+(h===da?k*o/(360<=c?_:_-1):-k*o/_),F=e.J(k),j=g*Math.tan(P)/t;j=Math.sqrt((g*g+t*t*j*j)/(1+j*j)),F.centerX=j*Math.cos(P),F.centerY=j*Math.sin(P),F.actualAngle=180*P/Math.PI}}function L1(t,e,o,a){var h=t.$b,c=t.be,g=t.Ij;o=o*Math.PI/180;for(var _=e.length,k=0;k<_;k++){var P=e.J(k),F=e.J(k===_-1?0:k+1),j=c*Math.sin(o);P.centerX=h*Math.cos(o),P.centerY=j,P.actualAngle=180*o/Math.PI,isNaN(P.diameter)&&Up(P,0),isNaN(F.diameter)&&Up(F,0),P=zc(t,h,c,a===da?o:-o,(P.diameter+F.diameter)/2+g),o+=a===da?P:-P}}function F1(t,e,o,a){var h=t.$b,c=t.be,g=t.Gr;o=o*Math.PI/180;for(var _=e.length,k=0;k<_;k++){var P=e.J(k);P.centerX=h*Math.cos(o),P.centerY=c*Math.sin(o),P.actualAngle=180*o/Math.PI,P=zc(t,h,c,a===da?o:-o,g),o+=a===da?P:-P}}function O2(t,e,o,a,h){var c=t.Ur;if(t.Zj=0,t.ut=new j1,360>o){for(c=a+(h===da?c:-c);0>c;)c+=360;180<(c%=360)&&(c-=360),c*=Math.PI/180,t.Bu=c,PD(t,e,o,a,h)}else N2(t,e,o,a,h);t.ut.commit(e)}function N2(t,e,o,a,h){var c=t.$b,g=t.Ij,_=t.Un,k=c*Math.cos(a*Math.PI/180),P=t.be*Math.sin(a*Math.PI/180),F=e.ma();if(3===F.length)F[0].centerX=c,F[0].centerY=0,F[1].centerX=F[0].centerX-F[0].width/2-F[1].width/2-g,F[1].y=F[0].y,F[2].centerX=(F[0].centerX+F[1].centerX)/2,F[2].y=F[0].y-F[2].height-g;else if(4===F.length)F[0].centerX=c,F[0].centerY=0,F[2].centerX=-F[0].centerX,F[2].centerY=F[0].centerY,F[1].centerX=0,F[1].y=Math.min(F[0].y,F[2].y)-F[1].height-g,F[3].centerX=0,F[3].y=Math.max(F[0].y+F[0].height+g,F[2].y+F[2].height+g);else{c=rt.alloc();for(var j=0;j<F.length&&(F[j].centerX=k,F[j].centerY=P,!(j>=F.length-1));j++)L2(t,k,P,F,j,h,c)||C_(t,k,P,F,j,h,c),k=c.x,P=c.y;if(rt.free(c),t.Zj++,!(23<t.Zj)){k=F[0].centerX,P=F[0].centerY,c=F[F.length-1].centerX,j=F[F.length-1].centerY;var ut=Math.abs(k-c)-((F[0].width+F[F.length-1].width)/2+g),xt=Math.abs(P-j)-((F[0].height+F[F.length-1].height)/2+g);g=0,1>Math.abs(xt)?Math.abs(k-c)<(F[0].width+F[F.length-1].width)/2&&(g=0):g=0<xt?xt:1>Math.abs(ut)?0:ut,k=Math.abs(c)>Math.abs(j)?0<c!=P>j:0<j!=k<c,(k=h===da?k:!k)&&(g=-Math.abs(g),g=Math.min(g,-F[F.length-1].width),g=Math.min(g,-F[F.length-1].height)),t.ut.compare(g,F),1<Math.abs(g)&&(t.$b=8>t.Zj?t.$b-g/(2*Math.PI):5>F.length&&10<g?t.$b/2:t.$b-(0<g?1.7:-2.3),t.be=t.$b*_,N2(t,e,o,a,h))}}}function PD(t,e,o,a,h){for(var c=t.$b,g=t.be,_=t.Un,k=c*Math.cos(a*Math.PI/180),P=g*Math.sin(a*Math.PI/180),F=rt.alloc(),j=e.ma(),ut=0;ut<j.length&&(j[ut].centerX=k,j[ut].centerY=P,!(ut>=j.length-1));ut++)L2(t,k,P,j,ut,h,F)||C_(t,k,P,j,ut,h,F),k=F.x,P=F.y;if(rt.free(F),t.Zj++,!(23<t.Zj)){if(k=Math.atan2(P,k),k=h===da?t.Bu-k:k-t.Bu,c=(k=Math.abs(k)<Math.abs(k-2*Math.PI)?k:k-2*Math.PI)*(c+g)/2,g=t.ut,Math.abs(c)<Math.abs(g.Am))for(g.Am=c,g.Wk=[],g.cn=[],k=0;k<j.length;k++)g.Wk[k]=j[k].bounds.x,g.cn[k]=j[k].bounds.y;1<Math.abs(c)&&(t.$b=8>t.Zj?t.$b-c/(2*Math.PI):t.$b-(0<c?1.7:-2.3),t.be=t.$b*_,PD(t,e,o,a,h))}}function L2(t,e,o,a,h,c,g){var _=t.$b,k=t.be,P=0;t=(a[h].width+a[h+1].width)/2+t.Ij;var F=!1;if(0<=o!=(c===da)){if((c=e+t)>_){if((c=e-t)<-_)return g.x=c,g.y=P,!1;F=!0}}else if((c=e-t)<-_){if((c=e+t)>_)return g.x=c,g.y=P,!1;F=!0}return P=Math.sqrt(1-Math.min(1,c*c/(_*_)))*k,0>o!==F&&(P=-P),Math.abs(o-P)>(a[h].height+a[h+1].height)/2?(g.x=c,g.y=P,!1):(g.x=c,g.y=P,!0)}function C_(t,e,o,a,h,c,g){var _=t.$b,k=t.be,P=0;if(t=(a[h].height+a[h+1].height)/2+t.Ij,a=!1,0<=e!=(c===da)){if((c=o-t)<-k){if((c=o+t)>k)return g.x=P,void(g.y=c);a=!0}}else if((c=o+t)>k){if((c=o-t)<-k)return g.x=P,void(g.y=c);a=!0}P=Math.sqrt(1-Math.min(1,c*c/(k*k)))*_,0>e!==a&&(P=-P),g.x=P,g.y=c}function Ro(t,e,o,a,h){var c=t.gz;if(.001>Math.abs(t.Un-1))return void 0!==a&&void 0!==h?h*e:2*Math.PI*e;t=e>o?Math.sqrt(e*e-o*o)/e:Math.sqrt(o*o-e*e)/o;for(var g=0,_=void 0!==a&&void 0!==h?h/(c+1):Math.PI/(2*(c+1)),k=0,P=0;P<=c;P++){k=void 0!==a&&void 0!==h?a+P*h/c:P*Math.PI/(2*c);var F=Math.sin(k);g+=Math.sqrt(1-t*t*F*F)*_}return void 0!==a&&void 0!==h?(e>o?e:o)*g:4*(e>o?e:o)*g}function hy(t,e,o,a,h){return e/(void 0!==a&&void 0!==h?Ro(t,1,o,a,h):Ro(t,1,o))}function zc(t,e,o,a,h){if(.001>Math.abs(t.Un-1))return h/e;var c=e>o?Math.sqrt(e*e-o*o)/e:Math.sqrt(o*o-e*e)/o,g=0;t=2*Math.PI/(700*t.network.vertexes.count),e>o&&(a+=Math.PI/2);for(var _=0;;_++){var k=Math.sin(a+_*t);if((g+=(e>o?e:o)*Math.sqrt(1-c*c*k*k)*t)>=h)return _*t}}_n.className="GraphLinksModel",xu.GraphLinksModel=_n,Ii.constructGraphLinksModel=Ii.constructGraphLinksModel=function(){return new _n},Ii.initDiagramModel=Tw=function(){return new _n},et(Pa,Ii),Pa.constructGraphLinksModel=Ii.constructGraphLinksModel,Pa.prototype.cloneProtected=function(t){Ii.prototype.cloneProtected.call(this,t),t.Ae=this.Ae,t.Gn=this.Gn,t.$j=this.$j},(st=Pa.prototype).toString=function(t){if(void 0===t&&(t=0),2<=t)return this.fr();var e=(""!==this.name?this.name:"")+" TreeModel";if(0<t){e+="\n node data:";for(var o=(t=this.nodeDataArray).length,a=0;a<o;a++){var h=t[a];e+=" "+this.ja(h)+":"+v(h)}}return e},st.Vk=function(){var t=Ii.prototype.Vk.call(this),e="";return"parent"!==this.nodeParentKeyProperty&&"string"==typeof this.nodeParentKeyProperty&&(e+=',\n  "nodeParentKeyProperty": '+this.quote(this.nodeParentKeyProperty)),t+e},st.Xq=function(t){Ii.prototype.Xq.call(this,t),t.nodeParentKeyProperty&&(this.nodeParentKeyProperty=t.nodeParentKeyProperty)},st.kr=function(t){return q0(this,t,"nodeParentKeyProperty"),Ii.prototype.kr.call(this,t)},st.Wq=function(t){void 0!==t.nodeParentKeyProperty&&t.nodeParentKeyProperty!==this.nodeParentKeyProperty&&z("applyIncrementalJson cannot change Model properties"),Ii.prototype.Wq.call(this,t)},st.Gm=function(t){return t},st.Mh=function(t){if(null!==t){var e=this.Ae;if(""!==e&&void 0!==(e=go(t,e))){if(jp(e))return e;z("ParentKey value for node data "+t+" is not a number or a string: "+e)}}},st.fe=function(t,e){if(null===e&&(e=void 0),null!==t){var o=this.Ae;if(""!==o)if(e=this.Gm(e),this.ab(t)){var a=go(t,o);a!==e&&(qh(this,a,t),Fr(t,o,e),null===this.Kb(e)&&yu(this,e,t),Go(this,"nodeParentKey",Ar,o,t,a,e),"string"==typeof o&&this.Ea(t,o))}else Fr(t,o,e)}},st.Ot=function(t){if(null===t)return"";var e=this.$j;return""===e||void 0===(e=go(t,e))?"":"string"==typeof e?e:(z("getParentLinkCategoryForNodeData found a non-string category for "+t+": "+e),"")},Pa.prototype.getLinkCategoryForData=function(t){return this.Ot(t)},Pa.prototype.ku=function(t,e){if(null!==t){var o=this.$j;if(""!==o)if(this.ab(t)){var a=go(t,o);void 0===a&&(a=""),a!==e&&(Fr(t,o,e),Go(this,"parentLinkCategory",Ar,o,t,a,e),"string"==typeof o&&this.Ea(t,o))}else Fr(t,o,e)}},Pa.prototype.setLinkCategoryForData=function(t,e){this.ku(t,e)},Pa.prototype.copyNodeData=function(t){return null===t?null:(t=Ii.prototype.copyNodeData.call(this,t),this.sk||""===this.Ae||void 0===go(t,this.Ae)||Fr(t,this.Ae,void 0),t)},Pa.prototype.setDataProperty=function(t,e,o){if(this.ab(t)){if(e===this.nodeKeyProperty)return void this.Vm(t,o);if(e===this.nodeCategoryProperty)return void this.Um(t,o);if(e===this.nodeParentKeyProperty)return void this.fe(t,o)}var a=go(t,e);a!==o&&(Fr(t,e,o),this.du(t,e,a,o))},(st=Pa.prototype).ar=function(t,e){Ii.prototype.ar.call(this,t,e);for(var o=this.Wa.iterator;o.next();)this.vw(o.value,t,e)},st.vw=function(t,e,o){if(this.Mh(t)===e){var a=this.Ae;Fr(t,a,o),Go(this,"nodeParentKey",Ar,a,t,e,o),"string"==typeof a&&this.Ea(t,a)}},st.Qm=function(t){Ii.prototype.Qm.call(this,t);var e=ay(this,t=this.ja(t));if(null!==e){var o=u();for(e=e.iterator;e.next();){var a=e.value;if(this.ab(a)&&this.Mh(a)===t){var h=this.Ae;Go(this,"nodeParentKey",Ar,h,a,t,t),"string"==typeof h&&this.Ea(a,h),o.push(a)}}for(e=0;e<o.length;e++)qh(this,t,o[e]);m(o)}},st.Pm=function(t){Ii.prototype.Pm.call(this,t);var e=this.Mh(t);e=this.Gm(e),null===this.Kb(e)&&yu(this,e,t)},st.hr=function(t){Ii.prototype.hr.call(this,t),qh(this,this.Mh(t),t)},st.Wm=function(t,e){Ii.prototype.Wm.call(this,t,e),this.ku(e,this.Ot(t)),this.fe(e,this.Mh(t))},st.Em=function(){return!0},st.Ut=function(){return!0},X.Object.defineProperties(Pa.prototype,{nodeParentKeyProperty:{get:function(){return this.Ae},set:function(t){var e=this.Ae;e!==t&&(this.Ae=t,this.g("nodeParentKeyProperty",e,t))}},sk:{get:function(){return this.Gn},set:function(t){this.Gn!==t&&(this.Gn=t)}},parentLinkCategoryProperty:{get:function(){return this.$j},set:function(t){var e=this.$j;e!==t&&(this.$j=t,this.g("parentLinkCategoryProperty",e,t))}},linkCategoryProperty:{get:function(){return this.parentLinkCategoryProperty},set:function(t){this.parentLinkCategoryProperty=t}},type:{get:function(){return"TreeModel"}}}),Pa.prototype.setParentLinkCategoryForNodeData=Pa.prototype.ku,Pa.prototype.getParentLinkCategoryForNodeData=Pa.prototype.Ot,Pa.prototype.setParentKeyForNodeData=Pa.prototype.fe,Pa.prototype.getParentKeyForNodeData=Pa.prototype.Mh,Pa.className="TreeModel",xu.TreeModel=Pa,et(eo,Hn),eo.prototype.cloneProtected=function(t){Hn.prototype.cloneProtected.call(this,t),t.Ap=this.Ap,t.pn=this.pn,t.bq=this.bq,t.mm=this.mm,t.Eb=this.Eb,t.K=this.K,t.bd=this.bd,t.Wc=this.Wc,t.lf=this.lf,t.jp=this.jp},eo.prototype.jb=function(t){t.classType===eo?t===cy||t===B1||t===Ow||t===Q0||t===gg?this.sorting=t:t===Hp||t===uy||t===da||t===Bd?this.direction=t:t===Fd||t===zp||t===nh||t===Mh?this.arrangement=t:(t===tm||t===V1)&&(this.nodeDiameterFormula=t):Hn.prototype.jb.call(this,t)},eo.prototype.createNetwork=function(){return new fy(this)},eo.prototype.doLayout=function(t){if(null===this.network&&(this.network=this.makeNetwork(t)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),1>=(t=this.network.vertexes).count)1===t.count&&((t=t.first()).centerX=0,t.centerY=0);else{var e=new Lt;e.addAll(t.iterator),t=new Lt;var h,c,o=new Lt,a=this.sort(e),g=this.Gr,_=this.arrangement,k=this.nodeDiameterFormula,P=this.radius;(!isFinite(P)||0>=P)&&(P=NaN);var F=this.aspectRatio;(!isFinite(F)||0>=F)&&(F=1);var j=this.startAngle;isFinite(j)||(j=0);var ut=this.sweepAngle;if((!isFinite(ut)||360<ut||1>ut)&&(ut=360),e=this.spacing,isFinite(e)||(e=NaN),_===Mh&&k===tm?_=nh:_===Mh&&k!==tm&&(_=this.arrangement),(this.direction===Hp||this.direction===uy)&&this.sorting!==gg){for(k=0;!(k>=a.length||(t.add(a.J(k)),k+1>=a.length));k+=2)o.add(a.J(k+1));this.direction===Hp?(this.arrangement===Mh&&t.reverse(),(a=new Lt).addAll(t),a.addAll(o)):(this.arrangement===Mh&&o.reverse(),(a=new Lt).addAll(o),a.addAll(t))}k=a.length;for(var xt=c=h=0;xt<a.length;xt++){var pt=j+ut*c*(this.direction===da?1:-1)/k,Pt=a.J(xt).diameter;isNaN(Pt)&&(Pt=Up(a.J(xt),pt)),360>ut&&(0===xt||xt===a.length-1)&&(Pt/=2),h+=Pt,c++}if(isNaN(P)||_===Mh){if(isNaN(e)&&(e=6),_!==nh&&_!==Mh){for(c=-1/0,g=0;g<k;g++)xt=a.J(g),h=a.J(g===k-1?0:g+1),isNaN(xt.diameter)&&Up(xt,0),isNaN(h.diameter)&&Up(h,0),c=Math.max(c,(xt.diameter+h.diameter)/2);g=c+e,P=_===Fd?(c+e)/(2*Math.PI/k):hy(this,g*(360<=ut?k:k-1),F,j*Math.PI/180,ut*Math.PI/180)}else P=hy(this,h+(360<=ut?k:k-1)*(_!==Mh?e:1.6*e),F,j*Math.PI/180,ut*Math.PI/180);c=P*F}else if(xt=Ro(this,P,c=P*F,j*Math.PI/180,ut*Math.PI/180),isNaN(e))(_===nh||_===Mh)&&(e=(xt-h)/(360<=ut?k:k-1));else if(_===nh||_===Mh)(xt=(xt-h)/(360<=ut?k:k-1))<e?c=(P=hy(this,h+e*(360<=ut?k:k-1),F,j*Math.PI/180,ut*Math.PI/180))*F:e=xt;else{for(g=-1/0,h=0;h<k;h++)pt=a.J(h),Pt=a.J(h===k-1?0:h+1),isNaN(pt.diameter)&&Up(pt,0),isNaN(Pt.diameter)&&Up(Pt,0),g=Math.max(g,(pt.diameter+Pt.diameter)/2);(h=hy(this,(g+=e)*(360<=ut?k:k-1),F,j*Math.PI/180,ut*Math.PI/180))>P?c=(P=h)*F:g=xt/(360<=ut?k:k-1)}if(this.vx=_,this.$b=P,this.Un=F,this.wx=j,this.Ur=ut,this.Ij=e,this.be=c,this.Gr=g,e=a,a=this.vx,_=this.$b,P=this.wx,F=this.Ur,j=this.Ij,ut=this.be,k=this.Gr,this.direction!==Hp&&this.direction!==uy||a!==Mh)if(this.direction===Hp||this.direction===uy){switch(g=0,a){case zp:g=180*zc(this,_,ut,P,k)/Math.PI;break;case nh:k=e=0,null!==(g=t.first())&&(e=Up(g,Math.PI/2)),null!==(g=o.first())&&(k=Up(g,Math.PI/2)),g=180*zc(this,_,ut,P,j+(e+k)/2)/Math.PI;break;case Fd:g=F/e.length}if(this.direction===Hp){switch(a){case zp:F1(this,t,P,Bd);break;case nh:L1(this,t,P,Bd);break;case Fd:Ld(this,t,F/2,P,Bd)}switch(a){case zp:F1(this,o,P+g,da);break;case nh:L1(this,o,P+g,da);break;case Fd:Ld(this,o,F/2,P+g,da)}}else{switch(a){case zp:F1(this,o,P,Bd);break;case nh:L1(this,o,P,Bd);break;case Fd:Ld(this,o,F/2,P,Bd)}switch(a){case zp:F1(this,t,P+g,da);break;case nh:L1(this,t,P+g,da);break;case Fd:Ld(this,t,F/2,P+g,da)}}}else switch(a){case zp:F1(this,e,P,this.direction);break;case nh:L1(this,e,P,this.direction);break;case Fd:Ld(this,e,F,P,this.direction);break;case Mh:O2(this,e,F,P,this.direction)}else O2(this,e,F,P-F/2,da)}this.updateParts(),this.network=null,this.isValidLayout=!0},eo.prototype.commitLayout=function(){this.commitNodes(),this.isRouting&&this.commitLinks()},eo.prototype.commitNodes=function(){var t=null!==this.group&&null!==this.group.placeholder&&this.group.isSubGraphExpanded,e=t?this.group.location.copy():null,o=this.actualCenter;t?o=new rt(0,0):(o.x=this.arrangementOrigin.x+this.$b,o.y=this.arrangementOrigin.y+this.be);for(var a=this.network.vertexes.iterator;a.next();){var h=a.value;h.x+=o.x,h.y+=o.y,h.commit()}t&&(this.group.Ta(),t=this.group.position.copy(),o=this.group.location.copy(),e=e.ge(o.ge(t)),this.group.move(e),this.mx=e.ge(t))},eo.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},eo.prototype.sort=function(t){switch(this.sorting){case Ow:break;case Q0:t.reverse();break;case cy:t.sort(this.comparer);break;case B1:t.sort(this.comparer),t.reverse();break;case gg:return this.nw(function(t){for(var e=[],o=0;o<t.length;o++)e.push(0);o=new Lt;for(var a=0;a<t.length;a++){var h=-1,c=-1;if(0===a)for(var g=0;g<t.length;g++){var _=t.J(g).edgesCount;_>h&&(h=_,c=g)}else for(g=0;g<t.length;g++)(_=e[g])>h&&(h=_,c=g);for(o.add(t.J(c)),e[c]=-1,g=(c=t.J(c)).sourceEdges;g.next();)0>(h=t.indexOf(g.value.fromVertex))||0<=e[h]&&e[h]++;for(c=c.destinationEdges;c.next();)0>(h=t.indexOf(c.value.toVertex))||0<=e[h]&&e[h]++}return o}(t));default:z("Invalid sorting type.")}return t},eo.prototype.nw=function(t){for(var e=[],o=0;o<t.length;o++){var a=t.J(o);e[o]=[];for(var h,c=a.destinationEdges;c.next();)(h=t.indexOf(c.value.toVertex))!==o&&0>e[o].indexOf(h)&&e[o].push(h);for(a=a.sourceEdges;a.next();)(h=t.indexOf(a.value.fromVertex))!==o&&0>e[o].indexOf(h)&&e[o].push(h)}for(c=[],o=0;o<e.length;o++)c[o]=0;o=[];var g=[],_=[];a=[],h=new Lt;for(var k=0,P=0;P<e.length;P++){var F=e[P].length;if(1===F)a.push(P);else if(0===F)h.add(t.J(P));else{if(0===k)o.push(P);else{for(var j=F=1/0,ut=-1,xt=[],pt=0;pt<o.length;pt++)0>e[o[pt]].indexOf(o[pt===o.length-1?0:pt+1])&&xt.push(pt===o.length-1?0:pt+1);if(0===xt.length)for(pt=0;pt<o.length;pt++)xt.push(pt);for(pt=0;pt<xt.length;pt++){for(var Pt=xt[pt],Xt=e[P],$t=0,ie=0;ie<g.length;ie++){var se=c[g[ie]],fe=c[_[ie]];if(se<fe){var we=se;se=fe}else we=fe;if(we<Pt&&Pt<=se)for(fe=0;fe<Xt.length;fe++){var ti=Xt[fe];0>o.indexOf(ti)||we<c[ti]&&c[ti]<se||we===c[ti]||se===c[ti]||$t++}else for(fe=0;fe<Xt.length;fe++)0>o.indexOf(ti=Xt[fe])||we<c[ti]&&c[ti]<se&&we!==c[ti]&&se!==c[ti]&&$t++}for(Xt=$t,ie=$t=0;ie<e[P].length;ie++)0<=(we=o.indexOf(e[P][ie]))&&($t+=(we=Math.abs(Pt-(we>=Pt?we+1:we)))<o.length+1-we?we:o.length+1-we);for(ie=0;ie<g.length;ie++)(we=c[g[ie]])>=Pt&&we++,(se=c[_[ie]])>=Pt&&se++,we>se&&(fe=se,se=we,we=fe),se-we<(o.length+2)/2==(we<Pt&&Pt<=se)&&$t++;(Xt<F||Xt===F&&$t<j)&&(F=Xt,j=$t,ut=Pt)}for(o.splice(ut,0,P),F=0;F<o.length;F++)c[o[F]]=F;for(F=0;F<e[P].length;F++)0<=o.indexOf(j=e[P][F])&&(g.push(P),_.push(j))}k++}}for(g=o.length;;){for(c=!0,_=0;_<a.length;_++)if(0<=(F=o.indexOf(P=e[k=a[_]][0]))){for(ut=j=0;ut<e[P].length;ut++)0>(xt=o.indexOf(e[P][ut]))||xt===F||(j+=xt<F!=(pt=xt>F?xt-F:F-xt)>g-pt?1:-1);o.splice(0>j?F:F+1,0,k),a.splice(_,1),_--}else c=!1;if(c)break;o.push(a[0]),a.splice(0,1)}for(e=0;e<o.length;e++)h.add(t.J(o[e]));return h},X.Object.defineProperties(eo.prototype,{radius:{get:function(){return this.Ap},set:function(t){this.Ap!==t&&(0<t||isNaN(t))&&(this.Ap=t,this.C())}},aspectRatio:{get:function(){return this.pn},set:function(t){this.pn!==t&&0<t&&(this.pn=t,this.C())}},startAngle:{get:function(){return this.bq},set:function(t){this.bq!==t&&(this.bq=t,this.C())}},sweepAngle:{get:function(){return this.mm},set:function(t){this.mm!==t&&(this.mm=0<t&&360>=t?t:360,this.C())}},arrangement:{get:function(){return this.Eb},set:function(t){this.Eb===t||t!==Mh&&t!==nh&&t!==zp&&t!==Fd||(this.Eb=t,this.C())}},direction:{get:function(){return this.K},set:function(t){this.K===t||t!==da&&t!==Bd&&t!==Hp&&t!==uy||(this.K=t,this.C())}},sorting:{get:function(){return this.bd},set:function(t){this.bd===t||t!==Ow&&t!==Q0&&t!==cy&&!B1&&t!==gg||(this.bd=t,this.C())}},comparer:{get:function(){return this.Wc},set:function(t){this.Wc!==t&&(this.Wc=t,this.C())}},spacing:{get:function(){return this.lf},set:function(t){this.lf!==t&&(this.lf=t,this.C())}},nodeDiameterFormula:{get:function(){return this.jp},set:function(t){this.jp===t||t!==V1&&t!==tm||(this.jp=t,this.C())}},actualXRadius:{get:function(){return this.$b}},actualYRadius:{get:function(){return this.be}},actualSpacing:{get:function(){return this.Ij}},actualCenter:{get:function(){return this.mx}}});var nh=new wt(eo,"ConstantSpacing",0),zp=new wt(eo,"ConstantDistance",1),Fd=new wt(eo,"ConstantAngle",2),Mh=new wt(eo,"Packed",3),da=new wt(eo,"Clockwise",4),Bd=new wt(eo,"Counterclockwise",5),Hp=new wt(eo,"BidirectionalLeft",6),uy=new wt(eo,"BidirectionalRight",7),Ow=new wt(eo,"Forwards",8),Q0=new wt(eo,"Reverse",9),cy=new wt(eo,"Ascending",10),B1=new wt(eo,"Descending",11),gg=new wt(eo,"Optimized",12),V1=new wt(eo,"Pythagorean",13),tm=new wt(eo,"Circular",14);function j1(){this.Am=-1/0,this.cn=this.Wk=null}function fy(t){cr.call(this,t)}function z1(t){Io.call(this,t),this.I=this.Gj=NaN}function Up(t,e){var o=t.network;if(null===o)return NaN;if(null===(o=o.layout))return NaN;if(o.arrangement===Mh)if(o.nodeDiameterFormula===tm)t.Gj=Math.max(t.width,t.height);else{if(o=Math.abs(Math.sin(e)),e=Math.abs(Math.cos(e)),0===o)return t.width;if(0===e)return t.height;t.Gj=Math.min(t.height/o,t.width/e)}else t.Gj=o.nodeDiameterFormula===tm?Math.max(t.width,t.height):Math.sqrt(t.width*t.width+t.height*t.height);return t.Gj}function H1(t){Xs.call(this,t)}function bs(){Hn.call(this),this.Fh=null,this.Eo=0,this.Pd=new Ge(100,100).freeze(),this.on=!1,this.kf=!0,this.jd=!1,this.Rl=100,this.Xn=1,this.Xf=1e3,this.bp=10,this.Bp=Math,this.ol=.05,this.nl=50,this.ll=150,this.ml=0,this.On=10,this.Nn=5}function D_(t,e,o){if(function(t,e){if(10<e||3>t.network.vertexes.count)return!1;for(t.Fh=t.network.vertexes.ma(),(t=t.Fh).sort(function(o,a){return null===o||null===a||o===a?0:a.Ld-o.Ld}),e=t.length-1;0<=e&&1>=t[e].Ld;)e--;return 1<t.length-e}(t,e)){var a=t.Xf;t.Xf*=1+1/(e+1);var h=function(t,e){for(var o=t.network,a=new rh(t),h=0;h<t.Fh.length;h++){var c=t.Fh[h];if(!(1<c.Ld))break;a.Bg(c);var g=new OD;g.qu=c.Ld,g.ru=c.width,g.pu=c.height,g.$w=c.focus.x,g.ax=c.focus.y,null===c.Ne&&(c.Ne=new Lt),c.Ne.add(g),c.zw=c.Ne.count-1}for(c=o.edges.iterator;c.next();){var _=c.value;g=_.toVertex,(h=_.fromVertex).network===a&&g.network===a?a.tm(_):h.network===a?(null===(_=h.qk)&&(_=new Lt,h.qk=_),_.add(g),h.Ld--,h.Sh+=g.Sh):g.network===a&&(null===(_=g.qk)&&(_=new Lt,g.qk=_),_.add(h),g.Ld--,g.Sh+=h.Sh)}for(h=a.edges.iterator;h.next();)(c=h.value).length*=Math.max(1,pe.sqrt((c.fromVertex.Sh+c.toVertex.Sh)/(4*e+1)));for(e=a.vertexes.iterator;e.next();){var k=(h=e.value).qk;if(null!==k&&0<k.count&&!(0>=(g=h.Ne.J(h.Ne.count-1).qu-h.Ld))){for(var P=_=0,F=k.count-g;F<k.count;F++){var j=k.J(F),ut=null;for(c=j.edges.iterator;c.next();){var xt=c.value;if(xt.zy(j)===h){ut=xt;break}}null!==ut&&(P+=ut.length,_+=j.width*j.height)}c=h.centerX,k=h.centerY,ut=h.focus,1>(xt=(F=h.width)*(j=h.height))&&(xt=1),_=pe.sqrt((_+xt+P*P*4/(g*g))/xt),h.bounds=new te(c-ut.x-(g=(_-1)*F/2),k-ut.y-(_=(_-1)*j/2),F+2*g,j+2*_),h.focus=new rt(ut.x+g,ut.y+_)}}return t.network=a,o}(t,e),c=Math.max(0,Math.max(Math.min(t.network.vertexes.count,o*(e+1)/11),10));for(t.maxIterations+=c,D_(t,e+1,o),E_(t,c),function(t,e){for(var o=t.network.vertexes.iterator;o.next();){var a=o.value;if(a.network=e,null!==a.Ne){var h=a.Ne.J(a.zw);a.Ld=h.qu;var c=h.$w,g=h.ax;a.bounds=new te(a.centerX-c,a.centerY-g,h.ru,h.pu),a.focus=new rt(c,g),a.zw--}}for(o=t.network.edges.iterator;o.next();)o.value.network=e;t.network=e}(t,h),(e=h.vertexes.ma()).sort(function(g,_){return null===g||null===_||g===_?0:_.Ld-g.Ld}),o=0;o<e.length;o++)p3(t,e[o]);t.Xf=a}}function p3(t,e){var o=e.qk;if(null!==o&&0!==o.count){var a=e.centerX,h=e.centerY,c=e.width,g=e.height;null!==e.Ne&&0<e.Ne.count&&(c=(g=e.Ne.J(0)).ru,g=g.pu),c=pe.sqrt(c*c+g*g)/2;for(var _=!1,k=g=0,P=0,F=e.vertexes.iterator;F.next();){var j=F.value;1>=j.Ld?k++:(_=!0,P++,g+=Math.atan2(e.centerY-j.centerY,e.centerX-j.centerX))}if(0!==k)for(0<P&&(g/=P),P=e=0,e=_?2*Math.PI/(k+1):2*Math.PI/k,k%2==0&&(P=e/2),1<o.count&&o.sort(function(xt,pt){return null===xt||null===pt||xt===pt?0:pt.width*pt.height-xt.width*xt.height}),_=k%2==0?0:1,o=o.iterator;o.next();)if(!(1<(k=o.value).Ld||t.isFixed(k))){for(F=null,j=k.edges.iterator;j.next();){F=j.value;break}var ut=k.height;j=pe.sqrt((j=k.width)*j+ut*ut)/2,F=c+F.length+j,j=g+(e*(_/2>>1)+P)*(_%2==0?1:-1),k.centerX=a+F*Math.cos(j),k.centerY=h+F*Math.sin(j),_++}}}function Nw(t,e,o,a,h,c,g){var _=9e19,k=-1,P=0;t:for(;P<e;P++){var F=t[P],j=F.x-o,ut=F.y-a;if((j=j*j+ut*ut)<_){for(ut=P-1;0<=ut;ut--)if(t[ut].y>F.y&&t[ut].x-F.x<h+g.width)continue t;for(ut=P+1;ut<e;ut++)if(t[ut].x>F.x&&t[ut].y-F.y<c+g.height)continue t;k=P,_=j}}return k}function F2(t,e){var o=t.bounds,a=o.x;t=o.y;var h=o.width;o=o.height;var c=e.bounds,g=c.x;e=c.y;var _=c.width;return c=c.height,a+h<g?t>e+c?pe.sqrt((o=a+h-g)*o+(t=t-e-c)*t):t+o<e?pe.sqrt((a=a+h-g)*a+(t=t+o-e)*t):g-(a+h):a>g+_?t>e+c?pe.sqrt((o=a-g-_)*o+(t=t-e-c)*t):t+o<e?pe.sqrt((a=a-g-_)*a+(t=t+o-e)*t):a-(g+_):t>e+c?t-(e+c):t+o<e?e-(t+o):.1}function E_(t,e){for(t.Fh=null,e=t.Eo+e;t.Eo<e&&(t.Eo++,B2(t)););t.Fh=null}function B2(t){null===t.Fh&&(t.Fh=t.network.vertexes.ma());var e=t.Fh;if(0>=e.length)return!1;var o=e[0];o.forceX=0,o.forceY=0;for(var a=o.centerX,h=a,c=o=o.centerY,g=1;g<e.length;g++){var _=e[g];_.forceX=0,_.forceY=0;var k=_.centerX;_=_.centerY,a=Math.min(a,k),h=Math.max(h,k),o=Math.min(o,_),c=Math.max(c,_)}(h=h-a>c-o)?e.sort(function(Pt,Xt){return null===Pt||null===Xt||Pt===Xt?0:Pt.centerX-Xt.centerX}):e.sort(function(Pt,Xt){return null===Pt||null===Xt||Pt===Xt?0:Pt.centerY-Xt.centerY}),o=t.Xf;var P=a=_=0;for(c=0;c<e.length;c++){var F=(a=(g=e[c]).bounds).y+(_=g.focus).y;a=g.charge*t.electricalFieldX(k=a.x+_.x,F),P=g.charge*t.electricalFieldY(k,F),a+=g.mass*t.gravitationalFieldX(k,F),P+=g.mass*t.gravitationalFieldY(k,F),g.forceX+=a,g.forceY+=P;for(var j=c+1;j<e.length;j++){var ut=e[j];if(ut!==g){var xt=(a=ut.bounds).y+(_=ut.focus).y;if(k-(P=a.x+_.x)>o||P-k>o){if(h)break}else if(F-xt>o||xt-F>o){if(!h)break}else{var pt=F2(g,ut);1>pt?(null===(a=t.randomNumberGenerator)&&(t.randomNumberGenerator=a=new U1),pt=a.random(),_=a.random(),a=k>P?(1+(a=Math.abs(ut.bounds.right-g.bounds.x)))*pt:k<P?-(1+(a=Math.abs(ut.bounds.x-g.bounds.right)))*pt:(1+(a=Math.max(ut.width,g.width)))*pt-a/2,P=F>xt?(1+(P=Math.abs(ut.bounds.bottom-g.bounds.y)))*_:k<P?-(1+(P=Math.abs(ut.bounds.y-g.bounds.bottom)))*_:(1+(P=Math.max(ut.height,g.height)))*_-P/2):(a=(P-k)/pt*(_=-g.charge*ut.charge/(pt*pt)),P=(xt-F)/pt*_),g.forceX+=a,g.forceY+=P,ut.forceX-=a,ut.forceY-=P}}}}for(h=t.network.edges.iterator;h.next();)a=(g=(o=(_=h.value).fromVertex).bounds).x+(k=o.focus).x,g=g.y+k.y,k=(F=(c=_.toVertex).bounds).x+(j=c.focus).x,F=F.y+j.y,1>(j=F2(o,c))?(null===(j=t.randomNumberGenerator)&&(t.randomNumberGenerator=j=new U1),_=j.random(),j=j.random(),a=(a>k?1:-1)*(1+(c.width>o.width?c.width:o.width))*_,P=(g>F?1:-1)*(1+(c.height>o.height?c.height:o.height))*j):(a=(k-a)/j*(_=_.stiffness*(j-_.length)),P=(F-g)/j*_),o.forceX+=a,o.forceY+=P,c.forceX-=a,c.forceY-=P;for(h=a=0;h<e.length;h++)t.isFixed(o=e[h])?t.moveFixedVertex(o):a=Math.max(a,t.moveVertex(o)||0);return a>t.epsilonDistance*t.epsilonDistance}function OD(){this.ax=this.$w=this.pu=this.ru=this.qu=0}function rh(t){cr.call(this,t)}function dy(t){Io.call(this,t),this.La=!1,this.eb=this.I=NaN,this.Sh=this.Ld=this.Ka=this.T=0,this.Ne=this.qk=null,this.zw=0}function py(t){Xs.call(this,t),this.l=this.u=NaN}function U1(){var t=0;void 0===t&&(t=42),this.seed=t,this.Zy=48271,this.az=2147483647,this.Q=44488.07041494893,this.bz=3399,this.$y=1/2147483647,this.random()}function Zn(){Hn.call(this),this.Zb=this.ue=25,this.K=0,this.jl=Wp,this.Ml=Yp,this.Bl=Y1,this.Rj=4,this.Zk=$1,this.ng=15,this.kf=!0,this.Mo=4,this.Ca=this.Ji=this.sa=-1,this.pc=this.mh=0,this.Ia=this.yd=this.zd=this.$d=this.zb=null,this.oh=0,this.fp=this.Wj=null,this.Ec=0,this.gp=null,this.Vc=new rt,this.xe=[],this.xe.length=100}function Lw(t){var e=t.fromVertex.node||t.fromVertex.data;return t=t.toVertex.node||t.toVertex.data,null===e&&null===t?8:null===e||null===t?4:1}function Ga(t){null===t.Wj&&(t.Wj=[]);for(var e=0,o=t.network.vertexes.iterator;o.next();){var a=o.value;t.Wj[e]=a.layer,e++,t.Wj[e]=a.column,e++,t.Wj[e]=a.index,e++}return t.Wj}function Ch(t,e){var o=0;for(t=t.network.vertexes.iterator;t.next();){var a=t.value;a.layer=e[o],o++,a.column=e[o],o++,a.index=e[o],o++}}function k_(t,e,o){var a=wu(t,e),h=t.zb[e];(null===t.fp||t.fp.length<h*h)&&(t.fp=[]);for(var c=t.fp,g=0;g<h;g++){var ut,_=0,k=a[g],P=k.near;if(null!==P&&P.layer===k.layer)if((k=P.index)>g)for(var F=g+1;F<k;F++){var j=a[F];j.near===P&&j.wf===P.wf||_++}else for(F=g-1;F>k;F--)(j=a[F]).near===P&&j.wf===P.wf||_++;if(0<=o)for(k=a[g].sourceEdgesArrayAccess,P=0;P<k.length;P++){var xt=k[P];if(xt.valid&&xt.fromVertex.layer!==e)for(j=xt.fromVertex.index,F=xt.portToPos,xt=xt.portFromPos,ut=P+1;ut<k.length;ut++){var pt=k[ut];if(pt.valid&&pt.fromVertex.layer!==e){var Pt=pt.fromVertex.index,Xt=pt.portToPos;pt=pt.portFromPos,F<Xt&&(j>Pt||j===Pt&&xt>pt)&&_++,Xt<F&&(Pt>j||Pt===j&&pt>xt)&&_++}}}if(0>=o)for(k=a[g].destinationEdgesArrayAccess,P=0;P<k.length;P++)if((xt=k[P]).valid&&xt.toVertex.layer!==e)for(j=xt.toVertex.index,F=xt.portToPos,xt=xt.portFromPos,ut=P+1;ut<k.length;ut++)(pt=k[ut]).valid&&pt.toVertex.layer!==e&&(Pt=pt.toVertex.index,Xt=pt.portToPos,xt<(pt=pt.portFromPos)&&(j>Pt||j===Pt&&F>Xt)&&_++,pt<xt&&(Pt>j||Pt===j&&Xt>F)&&_++);for(c[g*h+g]=_,k=g+1;k<h;k++){var $t=0,ie=0;if(0<=o){_=a[g].sourceEdgesArrayAccess;var se=a[k].sourceEdgesArrayAccess;for(P=0;P<_.length;P++)if((xt=_[P]).valid&&xt.fromVertex.layer!==e)for(j=xt.fromVertex.index,xt=xt.portFromPos,ut=0;ut<se.length;ut++)(pt=se[ut]).valid&&pt.fromVertex.layer!==e&&(Pt=pt.fromVertex.index,pt=pt.portFromPos,(j<Pt||j===Pt&&xt<pt)&&ie++,(Pt<j||Pt===j&&pt<xt)&&$t++)}if(0>=o)for(_=a[g].destinationEdgesArrayAccess,se=a[k].destinationEdgesArrayAccess,P=0;P<_.length;P++)if((xt=_[P]).valid&&xt.toVertex.layer!==e)for(j=xt.toVertex.index,F=xt.portToPos,ut=0;ut<se.length;ut++)(pt=se[ut]).valid&&pt.toVertex.layer!==e&&(Xt=pt.portToPos,(j<(Pt=pt.toVertex.index)||j===Pt&&F<Xt)&&ie++,(Pt<j||Pt===j&&Xt<F)&&$t++);c[g*h+k]=$t,c[k*h+g]=ie}}return bu(t,e,a),c}function rr(t){for(var e=0,o=0;o<=t.sa;o++){for(var a=t,h=o,c=wu(a,h),g=a.zb[h],_=0,k=0;k<g;k++){var P=c[k].destinationEdgesArrayAccess;if(null!==P)for(var F=0;F<P.length;F++){var j=P[F];j.valid&&j.toVertex.layer!==h&&(_+=(Math.abs(j.fromVertex.column+j.portFromColOffset-(j.toVertex.column+j.portToColOffset))+1)*Lw(j))}}bu(a,h,c),e+=_}return e}function A_(t,e,o){for(var a=wu(t,e),h=t.zb[e],c=[],g=0;g<h;g++){var _=a[g],k=null;0>=o&&(k=_.sourceEdgesArrayAccess);var P=null;0<=o&&(P=_.destinationEdgesArrayAccess);var F=0,j=0,ut=_.near;if(null!==ut&&ut.layer===_.layer&&(F+=ut.column-1,j++),null!==k)for(ut=0;ut<k.length;ut++){var xt=(_=k[ut]).fromVertex;_.valid&&!_.rev&&xt.layer!==e&&(F+=xt.column,j++)}if(null!==P)for(k=0;k<P.length;k++)ut=(_=P[k]).toVertex,_.valid&&!_.rev&&ut.layer!==e&&(F+=ut.column,j++);c[g]=0===j?-1:F/j}return bu(t,e,a),c}function Fw(t,e,o){for(var a=wu(t,e),h=t.zb[e],c=[],g=0;g<h;g++){var _=a[g],k=null;0>=o&&(k=_.sourceEdgesArrayAccess);var P=null;0<=o&&(P=_.destinationEdgesArrayAccess);var F=0,j=[],ut=_.near;if(null!==ut&&ut.layer===_.layer&&(j[F]=ut.column-1,F++),_=void 0,null!==k)for(ut=0;ut<k.length;ut++){var xt=(_=k[ut]).fromVertex;_.valid&&!_.rev&&xt.layer!==e&&(j[F]=xt.column+_.portFromColOffset,F++)}if(null!==P)for(k=0;k<P.length;k++)ut=(_=P[k]).toVertex,_.valid&&!_.rev&&ut.layer!==e&&(j[F]=ut.column+_.portToColOffset,F++);0===F?c[g]=-1:(j.sort(function(pt,Pt){return pt-Pt}),P=F>>1,c[g]=0!=(1&F)?j[P]:j[P-1]+j[P]>>1)}return bu(t,e,a),c}function G1(t,e,o,a,h,c){if(e.component===a){if(e.component=o,h)for(var g=e.destinationEdges;g.next();){var _=g.value,k=_.toVertex,P=e.layer-k.layer;P===(_=t.linkMinLength(_))&&G1(t,k,o,a,h,c)}if(c)for(g=e.sourceEdges;g.next();)(P=(k=(_=g.value).fromVertex).layer-e.layer)===(_=t.linkMinLength(_))&&G1(t,k,o,a,h,c)}}function T_(t,e,o,a,h,c){if(e.component===a){if(e.component=o,h)for(var g=e.destinationEdges;g.next();)T_(t,g.value.toVertex,o,a,h,c);if(c)for(e=e.sourceEdges;e.next();)T_(t,e.value.fromVertex,o,a,h,c)}}function ND(t){for(t=t.vertexes.iterator;t.next();){var e=t.value;if(e.valid)return e}return null}function V2(t){for(t=t.vertexes.iterator;t.next();){var e=t.value;if(e.valid){for(var o=!0,a=e.destinationEdges;a.next();)if(a.value.toVertex.valid){o=!1;break}if(o)return e}}return null}function j2(t){for(t=t.vertexes.iterator;t.next();){var e=t.value;if(e.valid){for(var o=!0,a=e.sourceEdges;a.next();)if(a.value.fromVertex.valid){o=!1;break}if(o)return e}}return null}function P_(t,e){e.Cg=t.oh,t.oh++;for(var o=e.destinationEdges;o.next();){var a=o.value,h=a.toVertex;-1===h.Cg&&(a.forest=!0,P_(t,h))}e.finish=t.oh,t.oh++}function W1(t){for(var e=t.network.vertexes.iterator;e.next();){var o=vg(t,e.value);t.sa=Math.max(o,t.sa)}}function vg(t,e){var o=0;if(-1===e.layer){for(var a=e.destinationEdges;a.next();){var h=a.value,c=h.toVertex;h=t.linkMinLength(h),o=Math.max(o,vg(t,c)+h)}e.layer=o}else o=e.layer;return o}function I_(t,e){var o=0;if(-1===e.layer){for(var a=e.sourceEdges;a.next();){var h=a.value,c=h.fromVertex;h=t.linkMinLength(h),o=Math.max(o,I_(t,c)+h)}e.layer=o}else o=e.layer;return o}function my(t,e){if(!e.valid){e.valid=!0;for(var o=e.destinationEdges;o.next();)my(t,o.value.toVertex);for(o=t.network.vertexes.iterator;o.next();)o.value.component=-1;for(var a=e.sourceEdgesArrayAccess,h=a.length,c=0;c<h;c++){var g=a[c],_=g.fromVertex,k=g.toVertex;g=t.linkMinLength(g),_.layer-k.layer>g&&G1(t,_,0,-1,!0,!1)}for(G1(t,e,1,-1,!0,!0);0!==e.component;){for(c=0,a=1/0,_=0,k=null,g=t.network.vertexes.iterator;g.next();){var P=g.value;if(1===P.component){var F=0,j=!1,ut=P.sourceEdgesArrayAccess;h=ut.length;for(var xt=0;xt<h;xt++){var pt=ut[xt],Pt=pt.fromVertex;F+=1,1!==Pt.component&&(c+=1,Pt=Pt.layer-P.layer,pt=t.linkMinLength(pt),a=Math.min(a,Pt-pt))}for(h=(ut=P.destinationEdgesArrayAccess).length,xt=0;xt<h;xt++)--F,1!==(pt=ut[xt].toVertex).component?--c:j=!0;(null===k||F<_)&&!j&&(k=P,_=F)}}if(0<c){for(o.reset();o.next();)1===(h=o.value).component&&(h.layer+=a);e.component=0}else k.component=0}for(o=t.network.vertexes.iterator;o.next();)o.value.component=-1;for(G1(t,e,1,-1,!0,!1);0!==e.component;){for(a=0,h=1/0,c=0,_=null,k=t.network.vertexes.iterator;k.next();)if(1===(g=k.value).component){for(P=0,F=!1,j=(ut=g.sourceEdgesArrayAccess).length,xt=0;xt<j;xt++)P+=1,1!==(pt=ut[xt].fromVertex).component?a+=1:F=!0;for(j=(ut=g.destinationEdgesArrayAccess).length,xt=0;xt<j;xt++)--P,1!==(Pt=(pt=ut[xt]).toVertex).component&&(--a,Pt=g.layer-Pt.layer,pt=t.linkMinLength(pt),h=Math.min(h,Pt-pt));(null===_||P>c)&&!F&&(_=g,c=P)}if(0>a){for(o.reset();o.next();)1===(a=o.value).component&&(a.layer-=h);e.component=0}else _.component=0}}}function z2(t,e,o){return 90===t.K?o&&!e.rev||!o&&e.rev?270:90:180===t.K?o&&!e.rev||!o&&e.rev?0:180:270===t.K?o&&!e.rev||!o&&e.rev?90:270:o&&!e.rev||!o&&e.rev?180:0}function H2(t,e){var o=e.layer;for(e.index=t.zb[o],t.zb[o]++,e=e.destinationEdgesArrayAccess,o=!0;o;){o=!1;for(var a=0;a<e.length-1;a++){var h=e[a],c=e[a+1];h.portFromColOffset>c.portFromColOffset&&(o=!0,e[a]=c,e[a+1]=h)}}for(o=0;o<e.length;o++)(a=e[o]).valid&&-1===(a=a.toVertex).index&&H2(t,a)}function Bw(t,e){var o=e.layer;e.index=t.zb[o],t.zb[o]++,e=e.sourceEdgesArrayAccess;for(var a=!0;a;)for(a=!1,o=0;o<e.length-1;o++){var h=e[o],c=e[o+1];h.portToColOffset>c.portToColOffset&&(a=!0,e[o]=c,e[o+1]=h)}for(o=0;o<e.length;o++)(a=e[o]).valid&&-1===(a=a.fromVertex).index&&Bw(t,a)}function Qu(t,e,o){var a=wu(t,e),h=t.zb[e],c=Fw(t,e,o),g=A_(t,e,o);for(o=0;o<h;o++)-1===g[o]&&(g[o]=a[o].column),-1===c[o]&&(c[o]=a[o].column);for(var k,_=!0;_;)for(_=!1,o=0;o<h-1;o++)(c[o+1]<c[o]||c[o+1]===c[o]&&g[o+1]<g[o])&&(_=!0,k=c[o],c[o]=c[o+1],c[o+1]=k,k=g[o],g[o]=g[o+1],g[o+1]=k,k=a[o],a[o]=a[o+1],a[o+1]=k);for(o=c=0;o<h;o++)(k=a[o]).index=o,c+=t.nodeMinColumnSpace(k,!0),k.column=c,c+=1,c+=t.nodeMinColumnSpace(k,!1);bu(t,e,a)}function ll(t,e,o){var a=wu(t,e),h=t.zb[e];o=k_(t,e,o);var c,g=[];for(c=0;c<h;c++)g[c]=-1;var _=[];for(c=0;c<h;c++)_[c]=-1;for(var k=!1,P=!0;P;)for(P=!1,c=0;c<h-1;c++){var F=o[a[c].index*h+a[c+1].index],j=o[a[c+1].index*h+a[c].index],ut=0,xt=0,pt=a[c].column,Pt=a[c+1].column,Xt=t.nodeMinColumnSpace(a[c],!0),$t=t.nodeMinColumnSpace(a[c],!1),ie=t.nodeMinColumnSpace(a[c+1],!0),se=t.nodeMinColumnSpace(a[c+1],!1);Xt=pt-Xt+ie,$t=Pt-$t+se;var fe=a[c].sourceEdges.iterator;for(fe.reset();fe.next();)if(se=(ie=fe.value).fromVertex,ie.valid&&se.layer===e){for(ie=0;a[ie]!==se;)ie++;ie<c&&(ut+=2*(c-ie),xt+=2*(c+1-ie)),ie===c+1&&(ut+=1),ie>c+1&&(ut+=4*(ie-c),xt+=4*(ie-(c+1)))}for((fe=a[c].destinationEdges.iterator).reset();fe.next();)if(se=(ie=fe.value).toVertex,ie.valid&&se.layer===e){for(ie=0;a[ie]!==se;)ie++;ie===c+1&&(xt+=1)}for((fe=a[c+1].sourceEdges.iterator).reset();fe.next();)if(se=(ie=fe.value).fromVertex,ie.valid&&se.layer===e){for(ie=0;a[ie]!==se;)ie++;ie<c&&(ut+=2*(c+1-ie),xt+=2*(c-ie)),ie===c&&(xt+=1),ie>c+1&&(ut+=4*(ie-(c+1)),xt+=4*(ie-c))}for((fe=a[c+1].destinationEdges.iterator).reset();fe.next();)if(se=(ie=fe.value).toVertex,ie.valid&&se.layer===e){for(ie=0;a[ie]!==se;)ie++;ie===c&&(ut+=1)}ie=se=0;var we=_[a[c].index],ti=g[a[c+1].index],Ci=_[a[c+1].index];-1!==(fe=g[a[c].index])&&(se+=Math.abs(fe-pt),ie+=Math.abs(fe-$t)),-1!==we&&(se+=Math.abs(we-pt),ie+=Math.abs(we-$t)),-1!==ti&&(se+=Math.abs(ti-Pt),ie+=Math.abs(ti-Xt)),-1!==Ci&&(se+=Math.abs(Ci-Pt),ie+=Math.abs(Ci-Xt)),(xt<ut-.5||xt===ut&&j<F-.5||xt===ut&&j===F&&ie<se-.5)&&(P=k=!0,a[c].column=$t,a[c+1].column=Xt,F=a[c],a[c]=a[c+1],a[c+1]=F)}for(c=0;c<h;c++)a[c].index=c;return bu(t,e,a),k}function Wa(t,e,o){for(var a=!1;yg(t,e,o);)a=!0;return a}function yg(t,e,o){var a,h=wu(t,e),c=t.zb[e],g=A_(t,e,-1);if(0<o)for(a=0;a<c;a++)g[a]=-1;var _=A_(t,e,1);if(0>o)for(a=0;a<c;a++)_[a]=-1;for(var k=!1,P=!0;P;)for(P=!1,a=0;a<c;a++){var xt,F=h[a].column,j=t.nodeMinColumnSpace(h[a],!0),ut=t.nodeMinColumnSpace(h[a],!1);xt=0>a-1||F-h[a-1].column-1>j+t.nodeMinColumnSpace(h[a-1],!1)?F-1:F,j=a+1>=c||h[a+1].column-F-1>ut+t.nodeMinColumnSpace(h[a+1],!0)?F+1:F;var pt=ut=0,Pt=0;if(0>=o)for(var Xt=h[a].sourceEdges.iterator;Xt.next();){var $t=Xt.value,ie=$t.fromVertex;if($t.valid&&ie.layer!==e){var se=Lw($t),fe=$t.portFromColOffset;$t=$t.portToColOffset,ie=ie.column,ut+=(Math.abs(F+$t-(ie+fe))+1)*se,pt+=(Math.abs(xt+$t-(ie+fe))+1)*se,Pt+=(Math.abs(j+$t-(ie+fe))+1)*se}}if(0<=o)for(Xt=h[a].destinationEdges.iterator;Xt.next();)ie=($t=Xt.value).toVertex,$t.valid&&ie.layer!==e&&(se=Lw($t),fe=$t.portFromColOffset,$t=$t.portToColOffset,ie=ie.column,ut+=(Math.abs(F+fe-(ie+$t))+1)*se,pt+=(Math.abs(xt+fe-(ie+$t))+1)*se,Pt+=(Math.abs(j+fe-(ie+$t))+1)*se);$t=fe=se=0,ie=_[h[a].index],-1!==(Xt=g[h[a].index])&&(se+=Math.abs(Xt-F),fe+=Math.abs(Xt-xt),$t+=Math.abs(Xt-j)),-1!==ie&&(se+=Math.abs(ie-F),fe+=Math.abs(ie-xt),$t+=Math.abs(ie-j)),pt<ut||pt===ut&&fe<se?(P=k=!0,h[a].column=xt):(Pt<ut||Pt===ut&&$t<se)&&(P=k=!0,h[a].column=j)}return bu(t,e,h),t.normalize(),k}function gy(t,e,o){var a=wu(t,e),h=t.zb[e],c=Fw(t,e,o),g=[];for(o=0;o<h;o++)g[o]=c[o];for(c=!0;c;)for(c=!1,o=0;o<h;o++){var _=a[o].column,k=t.nodeMinColumnSpace(a[o],!0),P=t.nodeMinColumnSpace(a[o],!1),F=0;if(-1===g[o])if(0===o&&o===h-1)F=_;else if(0===o){var j=a[o+1].column;F=j-_===P+t.nodeMinColumnSpace(a[o+1],!0)?_-1:_}else F=o===h-1?_-(j=a[o-1].column)===k+t.nodeMinColumnSpace(a[o-1],!1)?_+1:_:((k=(j=a[o-1].column)+t.nodeMinColumnSpace(a[o-1],!1)+k+1)+(P=(j=a[o+1].column)-t.nodeMinColumnSpace(a[o+1],!0)-P-1))/2|0;else 0===o&&o===h-1?F=g[o]:0===o?(P=(j=a[o+1].column)-t.nodeMinColumnSpace(a[o+1],!0)-P-1,F=Math.min(g[o],P)):o===h-1?(k=(j=a[o-1].column)+t.nodeMinColumnSpace(a[o-1],!1)+k+1,F=Math.max(g[o],k)):(k=(j=a[o-1].column)+t.nodeMinColumnSpace(a[o-1],!1)+k+1,P=(j=a[o+1].column)-t.nodeMinColumnSpace(a[o+1],!0)-P-1,k<g[o]&&g[o]<P?F=g[o]:k>=g[o]?F=k:P<=g[o]&&(F=P));F!==_&&(c=!0,a[o].column=F)}bu(t,e,a),t.normalize()}function Hc(t,e){for(var o=!0,a=t.network.vertexes.iterator;a.next();){var h=a.value,c=t.nodeMinColumnSpace(h,!0),g=t.nodeMinColumnSpace(h,!1);if(h.column-c<=e&&h.column+g>=e){o=!1;break}}if(t=!1,o)for(a.reset();a.next();)(o=a.value).column>e&&(--o.column,t=!0);return t}function Ir(t,e){var a,o=e+1,h=[],c=[];for(a=0;a<=t.sa;a++)h[a]=!1,c[a]=!1;for(var g=t.network.vertexes.iterator;g.next();){var _=(a=g.value).column-t.nodeMinColumnSpace(a,!0),k=a.column+t.nodeMinColumnSpace(a,!1);_<=e&&k>=e&&(h[a.layer]=!0),_<=o&&k>=o&&(c[a.layer]=!0)}for(_=!0,o=!1,a=0;a<=t.sa;a++)_=_&&!(h[a]&&c[a]);if(_)for(g.reset();g.next();)(t=g.value).column>e&&(--t.column,o=!0);return o}function xg(t,e){for(var o=0;o<=t.Ca;o++)for(;Hc(t,o););for(t.normalize(),o=0;o<t.Ca;o++)for(;Ir(t,o););var a;if(t.normalize(),0<e)for(o=0;o<=t.Ca;o++){var h=Ga(t),c=rr(t);for(a=c+1;c<a;){a=c,wg(t,o,1);var g=rr(t);g>c?Ch(t,h):g<c&&(c=g,h=Ga(t))}}if(0>e)for(o=t.Ca;0<=o;o--)for(h=Ga(t),a=(c=rr(t))+1;c<a;)a=c,wg(t,o,-1),(g=rr(t))>c?Ch(t,h):g<c&&(c=g,h=Ga(t));t.normalize()}function wg(t,e,o){t.Ec=0;for(var a=t.network.vertexes.iterator;a.next();)a.value.component=-1;if(0<o)for(a.reset();a.next();){var h=a.value;h.column-t.nodeMinColumnSpace(h,!0)<=e&&(h.component=t.Ec)}if(0>o)for(a.reset();a.next();)(h=a.value).column+t.nodeMinColumnSpace(h,!1)>=e&&(h.component=t.Ec);for(t.Ec++,a.reset();a.next();)-1===(e=a.value).component&&(T_(t,e,t.Ec,-1,!0,!0),t.Ec++);var c;for(e=[],c=0;c<t.Ec*t.Ec;c++)e[c]=!1;for(h=[],c=0;c<(t.sa+1)*(t.Ca+1);c++)h[c]=-1;for(a.reset();a.next();)for(var g=(c=a.value).layer,_=Math.max(0,c.column-t.nodeMinColumnSpace(c,!0)),k=Math.min(t.Ca,c.column+t.nodeMinColumnSpace(c,!1));_<=k;_++)h[g*(t.Ca+1)+_]=c.component;for(c=0;c<=t.sa;c++){if(0<o)for(g=0;g<t.Ca;g++)-1!==h[c*(t.Ca+1)+g]&&-1!==h[c*(t.Ca+1)+g+1]&&h[c*(t.Ca+1)+g]!==h[c*(t.Ca+1)+g+1]&&(e[h[c*(t.Ca+1)+g]*t.Ec+h[c*(t.Ca+1)+g+1]]=!0);if(0>o)for(g=t.Ca;0<g;g--)-1!==h[c*(t.Ca+1)+g]&&-1!==h[c*(t.Ca+1)+g-1]&&h[c*(t.Ca+1)+g]!==h[c*(t.Ca+1)+g-1]&&(e[h[c*(t.Ca+1)+g]*t.Ec+h[c*(t.Ca+1)+g-1]]=!0)}for(h=[],c=0;c<t.Ec;c++)h[c]=!0;for((g=[]).push(0);0!==g.length;)if(k=g[g.length-1],g.pop(),h[k])for(h[k]=!1,c=0;c<t.Ec;c++)e[k*t.Ec+c]&&g.splice(0,0,c);if(0<o)for(a.reset();a.next();)h[(t=a.value).component]&&--t.column;if(0>o)for(a.reset();a.next();)h[(o=a.value).component]&&(o.column+=1)}function Gp(t,e){return 270===t.K?e?va:ss:90===t.K?e?ss:va:180===t.K?e?os:Nr:e?Nr:os}function wu(t,e){var o=t.zb[e];if(o>=t.xe.length){for(var a=[],h=0;h<t.xe.length;h++)a[h]=t.xe[h];t.xe=a}for(null==t.xe[o]?a=[]:(a=t.xe[o],t.xe[o]=null),t=t.gp[e],e=0;e<t.length;e++)a[(o=t[e]).index]=o;return a}function bu(t,e,o){t.xe[t.zb[e]]=o}eo.className="CircularLayout",eo.ConstantSpacing=nh,eo.ConstantDistance=zp,eo.ConstantAngle=Fd,eo.Packed=Mh,eo.Clockwise=da,eo.Counterclockwise=Bd,eo.BidirectionalLeft=Hp,eo.BidirectionalRight=uy,eo.Forwards=Ow,eo.Reverse=Q0,eo.Ascending=cy,eo.Descending=B1,eo.Optimized=gg,eo.Pythagorean=V1,eo.Circular=tm,j1.prototype.compare=function(t,e){if(0<t&&0>this.Am||Math.abs(t)<Math.abs(this.Am)&&!(0>t&&0<this.Am))for(this.Am=t,this.Wk=[],this.cn=[],t=0;t<e.length;t++)this.Wk[t]=e[t].bounds.x,this.cn[t]=e[t].bounds.y},j1.prototype.commit=function(t){if(null!==this.Wk&&null!==this.cn)for(var e=0;e<this.Wk.length;e++){var o=t.J(e);o.x=this.Wk[e],o.y=this.cn[e]}},j1.className="VertexArrangement",et(fy,cr),fy.prototype.createVertex=function(){return new z1(this)},fy.prototype.createEdge=function(){return new H1(this)},fy.className="CircularNetwork",et(z1,Io),X.Object.defineProperties(z1.prototype,{diameter:{get:function(){return this.Gj},set:function(t){this.Gj!==t&&(this.Gj=t)}},actualAngle:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t)}}}),z1.className="CircularVertex",et(H1,Xs),H1.className="CircularEdge",et(bs,Hn),bs.prototype.cloneProtected=function(t){Hn.prototype.cloneProtected.call(this,t),t.Pd.assign(this.Pd),t.on=this.on,t.kf=this.kf,t.jd=this.jd,t.Rl=this.Rl,t.Xn=this.Xn,t.Xf=this.Xf,t.bp=this.bp,t.Bp=this.Bp,t.ol=this.ol,t.nl=this.nl,t.ll=this.ll,t.ml=this.ml,t.On=this.On,t.Nn=this.Nn},bs.prototype.serializeLayoutProperties=function(t,e){Hn.prototype.serializeLayoutProperties.call(this,t,e),t.arrangementSpacing={width:this.arrangementSpacing.width,height:this.arrangementSpacing.height},t.arrangesToOrigin=this.arrangesToOrigin,t.setsPortSpots=this.setsPortSpots,t.comments=this.comments,t.maxIterations=this.maxIterations,t.epsilonDistance=this.epsilonDistance,t.infinityDistance=this.infinityDistance,t.moveLimit=this.moveLimit,t.defaultSpringStiffness=this.defaultSpringStiffness,t.defaultSpringLength=this.defaultSpringLength,t.defaultElectricalCharge=this.defaultElectricalCharge,t.defaultGravitationalMass=this.defaultGravitationalMass,t.defaultCommentSpringLength=this.defaultCommentSpringLength,t.defaultCommentElectricalCharge=this.defaultCommentElectricalCharge},bs.prototype.deserializeLayoutProperties=function(t,e,o,a,h){Hn.prototype.deserializeLayoutProperties.call(this,t,e,o,a,h),this.arrangementSpacing=new Ge(t.arrangementSpacing.width,t.arrangementSpacing.height),this.arrangesToOrigin=t.arrangesToOrigin,this.setsPortSpots=t.setsPortSpots,this.comments=t.comments,this.maxIterations=t.maxIterations,this.epsilonDistance=t.epsilonDistance,this.infinityDistance=t.infinityDistance,this.moveLimit=t.moveLimit,this.defaultSpringStiffness=t.defaultSpringStiffness,this.defaultSpringLength=t.defaultSpringLength,this.defaultElectricalCharge=t.defaultElectricalCharge,this.defaultGravitationalMass=t.defaultGravitationalMass,this.defaultCommentSpringLength=t.defaultCommentSpringLength,this.defaultCommentElectricalCharge=t.defaultCommentElectricalCharge},bs.prototype.createNetwork=function(){return new rh(this)},bs.prototype.doLayout=function(t){if(null===this.network&&(this.network=this.makeNetwork(t)),!this.Uw()){if(t=this.maxIterations,0<this.network.vertexes.count){this.network.Bq();for(var e=this.network.vertexes.iterator;e.next();){var o=e.value;o.charge=this.electricalCharge(o),o.mass=this.gravitationalMass(o)}for(e=this.network.edges.iterator;e.next();)(o=e.value).stiffness=this.springStiffness(o),o.length=this.springLength(o);if(this.Fv(),this.Eo=0,this.needsClusterLayout()){for(var a=(o=(e=this.network).Xy()).iterator;a.next();){this.network=a.value;for(var h=this.network.vertexes.iterator;h.next();){var c=h.value;c.Ld=c.vertexes.count,c.Sh=1,c.qk=null,c.Ne=null}D_(this,0,t)}this.network=e;var g=a=o.iterator;a=this.arrangementSpacing;var _=g.count,k=!0;c=h=0;for(var P=u(),F=0;F<_+e.vertexes.count+2;F++)P[F]=null;_=0,g.reset();for(var j=te.alloc();g.next();)if(this.computeBounds(F=g.value,j),k)k=!1,h=j.x+j.width/2,c=j.y+j.height/2,P[0]=new rt(j.x+j.width+a.width,j.y),P[1]=new rt(j.x,j.y+j.height+a.height),_=2;else{var ut=Nw(P,_,h,c,j.width,j.height,a),xt=P[ut],pt=new rt(xt.x+j.width+a.width,xt.y),Pt=new rt(xt.x,xt.y+j.height+a.height);for(ut+1<_&&P.splice(ut+1,0,null),P[ut]=pt,P[ut+1]=Pt,_++,ut=xt.x-j.x,xt=xt.y-j.y,F=F.vertexes.iterator;F.next();)(pt=F.value).centerX+=ut,pt.centerY+=xt}for(te.free(j),F=e.vertexes.iterator;F.next();)ut=(g=F.value).bounds,2>_?(h=ut.x+ut.width/2,c=ut.y+ut.height/2,P[0]=new rt(ut.x+ut.width+a.width,ut.y),P[1]=new rt(ut.x,ut.y+ut.height+a.height),_=2):(xt=new rt((j=P[k=Nw(P,_,h,c,ut.width,ut.height,a)]).x+ut.width+a.width,j.y),ut=new rt(j.x,j.y+ut.height+a.height),k+1<_&&P.splice(k+1,0,null),P[k]=xt,P[k+1]=ut,_++,g.centerX=j.x+g.width/2,g.centerY=j.y+g.height/2);for(m(P),a=o.iterator;a.next();){for(h=(o=a.value).vertexes.iterator;h.next();)e.Bg(h.value);for(o=o.edges.iterator;o.next();)e.tm(o.value)}}E_(this,t),this.updateParts()}this.Rl=t,this.network=null,this.isValidLayout=!0}},bs.prototype.needsClusterLayout=function(){if(3>this.network.vertexes.count)return!1;for(var t=0,e=0,o=this.network.vertexes.first().bounds,a=this.network.vertexes.iterator;a.next();){if(a.value.bounds.Mc(o)&&2<++t)return!0;if(10<e)break;e++}return!1},bs.prototype.computeBounds=function(t,e){var o=!0;for(t=t.vertexes.iterator;t.next();){var a=t.value;o?(o=!1,e.set(a.bounds)):e.Rc(a.bounds)}return e},bs.prototype.Fv=function(){if(this.comments)for(var t=this.network.vertexes.iterator;t.next();)this.addComments(t.value)},bs.prototype.addComments=function(t){var e=t.node;if(null!==e)for(e=e.Sv();e.next();){var o=e.value;if("Comment"===o.category&&o.isVisible()){var a=this.network.kj(o);null===a&&(a=this.network.mk(o)),a.charge=this.defaultCommentElectricalCharge,o=null;for(var h=a.destinationEdges;h.next();){var c=h.value;if(c.toVertex===t){o=c;break}}if(null===o)for(h=a.sourceEdges;h.next();)if((c=h.value).fromVertex===t){o=c;break}null===o&&(o=this.network.Fk(t,a,null)),o.length=this.defaultCommentSpringLength}}},bs.prototype.moveVertex=function(t){var e=t.forceX,o=t.forceY,a=this.moveLimit;return e<-a?e=-a:e>a&&(e=a),o<-a?o=-a:o>a&&(o=a),t.centerX+=e,t.centerY+=o,e*e+o*o},bs.prototype.moveFixedVertex=function(){},bs.prototype.commitLayout=function(){this.Dw(),this.commitNodes(),this.isRouting&&this.commitLinks()},bs.prototype.Dw=function(){if(this.setsPortSpots)for(var t=this.network.edges.iterator;t.next();){var e=t.value.link;null!==e&&(e.fromSpot=zs,e.toSpot=zs)}},bs.prototype.commitNodes=function(){var t=0,e=0;if(this.arrangesToOrigin){var o=te.alloc();this.computeBounds(this.network,o),t=(e=this.arrangementOrigin).x-o.x,e=e.y-o.y,te.free(o)}o=te.alloc();for(var a=this.network.vertexes.iterator;a.next();){var h=a.value;(0!==t||0!==e)&&(o.assign(h.bounds),o.x+=t,o.y+=e,h.bounds=o),h.commit()}te.free(o)},bs.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},bs.prototype.springStiffness=function(t){return t=t.stiffness,isNaN(t)?this.ol:t},bs.prototype.springLength=function(t){return t=t.length,isNaN(t)?this.nl:t},bs.prototype.electricalCharge=function(t){return t=t.charge,isNaN(t)?this.ll:t},bs.prototype.electricalFieldX=function(){return 0},bs.prototype.electricalFieldY=function(){return 0},bs.prototype.gravitationalMass=function(t){return t=t.mass,isNaN(t)?this.ml:t},bs.prototype.gravitationalFieldX=function(){return 0},bs.prototype.gravitationalFieldY=function(){return 0},bs.prototype.isFixed=function(t){return t.isFixed},X.Object.defineProperties(bs.prototype,{currentIteration:{get:function(){return this.Eo}},arrangementSpacing:{get:function(){return this.Pd},set:function(t){this.Pd.w(t)||(this.Pd.assign(t),this.C())}},arrangesToOrigin:{get:function(){return this.on},set:function(t){this.on!==t&&(this.on=t,this.C())}},setsPortSpots:{get:function(){return this.kf},set:function(t){this.kf!==t&&(this.kf=t,this.C())}},comments:{get:function(){return this.jd},set:function(t){this.jd!==t&&(this.jd=t,this.C())}},maxIterations:{get:function(){return this.Rl},set:function(t){this.Rl!==t&&0<=t&&(this.Rl=t,this.C())}},epsilonDistance:{get:function(){return this.Xn},set:function(t){this.Xn!==t&&0<t&&(this.Xn=t,this.C())}},infinityDistance:{get:function(){return this.Xf},set:function(t){this.Xf!==t&&1<t&&(this.Xf=t,this.C())}},moveLimit:{get:function(){return this.bp},set:function(t){this.bp!==t&&1<t&&(this.bp=t,this.C())}},randomNumberGenerator:{get:function(){return this.Bp},set:function(t){this.Bp!==t&&(null!==t&&"function"!=typeof t.random&&z('ForceDirectedLayout.randomNumberGenerator must have a "random()" function on it: '+t),this.Bp=t)}},defaultSpringStiffness:{get:function(){return this.ol},set:function(t){this.ol!==t&&(this.ol=t,this.C())}},defaultSpringLength:{get:function(){return this.nl},set:function(t){this.nl!==t&&(this.nl=t,this.C())}},defaultElectricalCharge:{get:function(){return this.ll},set:function(t){this.ll!==t&&(this.ll=t,this.C())}},defaultGravitationalMass:{get:function(){return this.ml},set:function(t){this.ml!==t&&(this.ml=t,this.C())}},defaultCommentSpringLength:{get:function(){return this.On},set:function(t){this.On!==t&&(this.On=t,this.C())}},defaultCommentElectricalCharge:{get:function(){return this.Nn},set:function(t){this.Nn!==t&&(this.Nn=t,this.C())}}}),bs.className="ForceDirectedLayout",OD.className="ForceDirectedSubnet",et(rh,cr),rh.prototype.createVertex=function(){return new dy(this)},rh.prototype.createEdge=function(){return new py(this)},rh.className="ForceDirectedNetwork",et(dy,Io),dy.prototype.serializeVertexProperties=function(t,e){Io.prototype.serializeVertexProperties.call(this,t,e),t.isFixed=this.isFixed,t.charge=this.charge,t.mass=this.mass},dy.prototype.Cq=function(t,e,o,a){Io.prototype.Cq.call(this,t,e,o,a),this.isFixed=t.isFixed,this.charge=t.charge,this.mass=t.mass},X.Object.defineProperties(dy.prototype,{isFixed:{get:function(){return this.La},set:function(t){this.La!==t&&(this.La=t)}},charge:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t)}},mass:{get:function(){return this.eb},set:function(t){this.eb!==t&&(this.eb=t)}},forceX:{get:function(){return this.T},set:function(t){this.T!==t&&(this.T=t)}},forceY:{get:function(){return this.Ka},set:function(t){this.Ka!==t&&(this.Ka=t)}}}),dy.className="ForceDirectedVertex",et(py,Xs),py.prototype.serializeEdgeProperties=function(t,e){Xs.prototype.serializeEdgeProperties.call(this,t,e),t.stiffness=this.stiffness,t.length=this.length},py.prototype.deserializeEdgeProperties=function(t,e,o,a){Xs.prototype.deserializeEdgeProperties.call(this,t,e,o,a),this.stiffness=t.stiffness,this.length=t.length},X.Object.defineProperties(py.prototype,{stiffness:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},length:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t)}}}),py.className="ForceDirectedEdge",U1.prototype.random=function(){var t=this.seed%this.Q*this.Zy-this.seed/this.Q*this.bz;return this.seed=0<t?t:t+this.az,this.seed*this.$y},U1.className="RandomNumberGenerator",et(Zn,Hn),Zn.prototype.cloneProtected=function(t){Hn.prototype.cloneProtected.call(this,t),t.ue=this.ue,t.Zb=this.Zb,t.K=this.K,t.jl=this.jl,t.Ml=this.Ml,t.Bl=this.Bl,t.Rj=this.Rj,t.Zk=this.Zk,t.ng=this.ng,t.kf=this.kf,t.Mo=this.Mo},Zn.prototype.serializeLayoutProperties=function(t,e){Hn.prototype.serializeLayoutProperties.call(this,t,e),t.layerSpacing=this.layerSpacing,t.columnSpacing=this.columnSpacing,t.direction=this.direction,t.cycleRemoveOption=this.cycleRemoveOption.name,t.layeringOption=this.layeringOption.name,t.initializeOption=this.initializeOption.name,t.iterations=this.iterations,t.aggressiveOption=this.aggressiveOption.name,t.packOption=this.packOption,t.setsPortSpots=this.setsPortSpots,t.linkSpacing=this.linkSpacing,t.sa=this.sa,t.Ji=this.Ji,t.Ca=this.Ca,t.mh=this.mh,t.pc=this.pc,t.zb=this.zb,t.oh=this.oh,t.Ec=this.Ec,t.Vc={x:this.Vc.x,y:this.Vc.y}},Zn.prototype.deserializeLayoutProperties=function(t,e,o,a,h){Hn.prototype.deserializeLayoutProperties.call(this,t,e,o,a,h),this.layerSpacing=t.layerSpacing,this.columnSpacing=t.columnSpacing,this.direction=t.direction,this.cycleRemoveOption=Vt(Zn,t.cycleRemoveOption),this.layeringOption=Vt(Zn,t.layeringOption),this.initializeOption=Vt(Zn,t.initializeOption),this.iterations=t.iterations,this.aggressiveOption=Vt(Zn,t.aggressiveOption),this.packOption=t.packOption,this.setsPortSpots=t.setsPortSpots,this.linkSpacing=t.linkSpacing,this.sa=t.sa,this.Ji=t.Ji,this.Ca=t.Ca,this.mh=t.mh,this.pc=t.pc,this.zb=t.zb,this.oh=t.oh,this.Ec=t.Ec,this.Vc=new rt(this.Vc.x,this.Vc.y),h&&!a&&h.edges.each(function(c){if(!c.link&&c.fromVertex&&c.toVertex&&(null===c.fromVertex.node||null===c.toVertex.node)){for(var g=c.fromVertex;null!==g&&null===g.node&&0<g.td.count;){var _=g.td.J(0);if(_.link){c.link=_.link;break}g=_.fromVertex}if(!c.link){for(_=c.toVertex;null!==_&&null===_.node&&0<_.Gd.count;){var k=_.Gd.J(0);if(k.link){c.link=k.link;break}_=k.toVertex}if(!c.link)for(_=_.td.iterator;_.next();)if((k=_.value).link&&k.fromVertex===g){c.link=k.link;break}}}})},Zn.prototype.jb=function(t){t.classType===Zn?0===t.name.indexOf("Aggressive")?this.aggressiveOption=t:0===t.name.indexOf("Cycle")?this.cycleRemoveOption=t:0===t.name.indexOf("Init")?this.initializeOption=t:0===t.name.indexOf("Layer")?this.layeringOption=t:z("Unknown enum value: "+t):Hn.prototype.jb.call(this,t)},Zn.prototype.createNetwork=function(){return new Mn(this)},Zn.prototype.doLayout=function(t){for(null===this.network&&(this.network=this.makeNetwork(t)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),this.Ji=-1,this.pc=this.mh=0,this.gp=this.fp=this.Wj=null,t=0;t<this.xe.length;t++)this.xe[t]=null;if(0<this.network.vertexes.count){if(this.network.Bq(),this.Uw())return;for(this.cycleRemoveOption!==Vd&&this.removeCycles(),t=this.network.vertexes.iterator;t.next();)t.value.layer=-1;for(this.sa=-1,this.assignLayers(),t.reset();t.next();)this.sa=Math.max(this.sa,t.value.layer);this.cycleRemoveOption===Vd&&this.removeCycles();for(var e=[],o=(t=this.network).edges.iterator;o.next();){var a=o.value;a.valid=!1,e.push(a)}for(o=0;o<e.length;o++){var h=(a=e[o]).fromVertex,c=a.toVertex;if(!(a.valid||(null===h.node&&null===h.data||null===c.node&&null===c.data)&&h.layer===c.layer)){var g=0,_=0,k=0,P=0;if(null!==a.link){if(null===(_=a.link))continue;var F=h.node;if(g=c.node,null===F||null===g)continue;var j=_.fromNode;k=_.toNode;var ut=_.fromPort;if(_=_.toPort,a.rev){P=j;var xt=ut;j=k,ut=_,k=P,_=xt}var pt=h.focus;P=c.focus;var Pt=a.rev?c.bounds:h.bounds;xt=rt.alloc(),F!==j?Pt.o()&&j.isVisible()?j.actualBounds.o()?(j.Df(ut,Hi,xt),xt.x+=j.actualBounds.x-Pt.x,xt.y+=j.actualBounds.y-Pt.y):(j.Df(ut,Hi,xt),xt.o()||xt.assign(pt)):xt.assign(pt):Pt.o()?(j.Df(ut,Hi,xt),xt.o()||xt.assign(pt)):xt.assign(pt),j=a.rev?h.bounds:c.bounds,F=rt.alloc(),g!==k?j.o()&&k.isVisible()?k.actualBounds.o()?(k.Df(_,Hi,F),F.x+=k.actualBounds.x-j.x,F.y+=k.actualBounds.y-j.y):(k.Df(_,Hi,F),F.o()||F.assign(P)):F.assign(P):j.o()?(k.Df(_,Hi,F),F.o()||F.assign(P)):F.assign(P),90===this.K||270===this.K?(g=Math.round((xt.x-pt.x)/this.Zb),k=xt.x,_=Math.round((F.x-P.x)/this.Zb),P=F.x):(g=Math.round((xt.y-pt.y)/this.Zb),k=xt.y,_=Math.round((F.y-P.y)/this.Zb),P=F.y),rt.free(xt),rt.free(F),a.portFromColOffset=g,a.portFromPos=k,a.portToColOffset=_,a.portToPos=P}else a.portFromColOffset=0,a.portFromPos=0,a.portToColOffset=0,a.portToPos=0;if(xt=h.layer,F=c.layer,j=0,null!==(Pt=a.link)){var Xt=Pt.fromPort,$t=Pt.toPort;if(null!==Xt&&null!==$t){var ie=Pt.fromNode;if(ut=Pt.toNode,null!==ie&&null!==ut){var se=Gp(this,!0),fe=Gp(this,!1),we=this.setsPortSpots?se:Pt.computeSpot(!0,Xt);pt=this.setsPortSpots?fe:Pt.computeSpot(!1,$t);var ti=Pt.isOrthogonal;we.Oc()&&we.Ef(fe)&&pt.Oc()&&pt.Ef(se)?j=0:(se=Pt.getLinkPoint(ie,Xt,we,!0,ti,ut,$t,rt.alloc()),fe=Pt.getLinkDirection(ie,Xt,se,we,!0,ti,ut,$t),rt.free(se),we.Vt()||fe!==z2(this,a,!0)?this.setsPortSpots&&null!==ie&&1===ie.ports.count&&a.rev&&(j+=1):j+=1,we=Pt.getLinkPoint(ut,$t,pt,!1,ti,ie,Xt,rt.alloc()),Pt=Pt.getLinkDirection(ut,$t,we,pt,!1,ti,ie,Xt),rt.free(we),pt.Vt()||Pt!==z2(this,a,!1)?this.setsPortSpots&&null!==ut&&1===ut.ports.count&&a.rev&&(j+=2):j+=2)}}}if(j=1===(ut=j)||3===ut,(ut=2===ut||3===ut)&&((pt=t.createVertex()).node=null,pt.wf=1,pt.layer=xt,pt.near=h,t.Bg(pt),(h=t.Fk(h,pt,a.link)).valid=!1,h.rev=a.rev,h.portFromColOffset=g,h.portToColOffset=0,h.portFromPos=k,h.portToPos=0,h=pt),Pt=1,j&&Pt--,xt-F>Pt&&0<xt){for(a.valid=!1,(pt=t.createVertex()).node=null,pt.wf=2,pt.layer=xt-1,t.Bg(pt),(h=t.Fk(h,pt,a.link)).valid=!0,h.rev=a.rev,h.portFromColOffset=ut?0:g,h.portToColOffset=0,h.portFromPos=ut?0:k,h.portToPos=0,h=pt,xt--;xt-F>Pt&&0<xt;)(pt=t.createVertex()).node=null,pt.wf=3,pt.layer=xt-1,t.Bg(pt),(h=t.Fk(h,pt,a.link)).valid=!0,h.rev=a.rev,h.portFromColOffset=0,h.portToColOffset=0,h.portFromPos=0,h.portToPos=0,h=pt,xt--;(h=t.Fk(pt,c,a.link)).valid=!j,j&&(pt.near=c),h.rev=a.rev,h.portFromColOffset=0,h.portToColOffset=_,h.portFromPos=0,h.portToPos=P}else a.valid=!0}}for(t=this.zb=[],e=0;e<=this.sa;e++)t[e]=0;for(e=this.network.vertexes.iterator;e.next();)e.value.index=-1;for(this.initializeIndices(),this.Ji=-1,o=this.pc=this.mh=0;o<=this.sa;o++)t[o]>t[this.pc]&&(this.Ji=t[o]-1,this.pc=o),t[o]<t[this.mh]&&(this.mh=o);for(this.gp=[],o=0;o<t.length;o++)this.gp[o]=[];for(e.reset();e.next();)this.gp[(t=e.value).layer][t.index]=t;for(this.Ca=-1,t=0;t<=this.sa;t++){for(e=wu(this,t),o=0,a=this.zb[t],c=0;c<a;c++)o+=this.nodeMinColumnSpace(h=e[c],!0),h.column=o,o+=1,o+=this.nodeMinColumnSpace(h,!1);this.Ca=Math.max(this.Ca,o-1),bu(this,t,e)}this.reduceCrossings(),this.straightenAndPack(),this.updateParts()}this.network=null,this.isValidLayout=!0},Zn.prototype.linkMinLength=function(){return 1},Zn.prototype.nodeMinLayerSpace=function(t,e){return null===t.node&&null===t.data?0:90===this.K||270===this.K?e?t.focus.y+10:t.bounds.height-t.focus.y+10:e?t.focus.x+10:t.bounds.width-t.focus.x+10},Zn.prototype.nodeMinColumnSpace=function(t,e){if(null===t.node&&null===t.data)return 0;var o=e?t.Nk:t.Mk;return null!==o?o:90===(o=this.K)||270===o?e?t.Nk=t.focus.x/this.Zb+1|0:t.Mk=(t.bounds.width-t.focus.x)/this.Zb+1|0:e?t.Nk=t.focus.y/this.Zb+1|0:t.Mk=(t.bounds.height-t.focus.y)/this.Zb+1|0},Zn.prototype.countCrossings=function(){for(var t=0,e=0;e<=this.sa;e++)for(var o=k_(this,e,1),a=this.zb[e],h=0;h<a;h++)for(var c=h;c<a;c++)t+=o[h*a+c];return t},Zn.prototype.normalize=function(){var t=1/0;this.Ca=-1;for(var e=this.network.vertexes.iterator;e.next();){var o=e.value;t=Math.min(t,o.column-this.nodeMinColumnSpace(o,!0)),this.Ca=Math.max(this.Ca,o.column+this.nodeMinColumnSpace(o,!1))}for(e.reset();e.next();)e.value.column-=t;this.Ca-=t},Zn.prototype.removeCycles=function(){for(var t=this.network.edges.iterator;t.next();)t.value.rev=!1;switch(this.jl){default:var e=0,o=(t=this.network).vertexes.count-1,a=[];a.length=o+1;for(var h=t.vertexes.iterator;h.next();)h.value.valid=!0;for(;null!==ND(t);){for(h=V2(t);null!==h;)a[o]=h,o--,h.valid=!1,h=V2(t);for(h=j2(t);null!==h;)a[e]=h,e++,h.valid=!1,h=j2(t);h=null;for(var c=0,g=this.network.vertexes.iterator;g.next();){var _=g.value;if(_.valid){for(var k=0,P=_.destinationEdges;P.next();)P.value.toVertex.valid&&k++;P=0;for(var F=_.sourceEdges;F.next();)F.value.fromVertex.valid&&P++;(null===h||c<k-P)&&(h=_,c=k-P)}}null!==h&&(a[e]=h,e++,h.valid=!1)}for(e=0;e<t.vertexes.count;e++)a[e].index=e;for(a=t.edges.iterator;a.next();)(e=a.value).fromVertex.index>e.toVertex.index&&(t.Rm(e),e.rev=!0);break;case Wp:for(a=this.network.vertexes.iterator;a.next();)(t=a.value).Cg=-1,t.finish=-1;for(t=this.network.edges.iterator;t.next();)t.value.forest=!1;for(this.oh=0,a.reset();a.next();)0===(e=a.value).sourceEdges.count&&P_(this,e);for(a.reset();a.next();)-1===(e=a.value).Cg&&P_(this,e);for(t.reset();t.next();)(a=t.value).forest||(o=(e=a.fromVertex).finish,c=(h=a.toVertex).finish,h.Cg<e.Cg&&o<c&&(this.network.Rm(a),a.rev=!0));break;case Vd:for(e=(t=this.network).vertexes.iterator,a=1/0;e.next();)a=Math.min(a,e.value.layer);if(1/0>a){if(0>a)for(e.reset();e.next();)e.value.layer-=a;for(a=[],e.reset();e.next();)void 0===(h=a[(o=e.value).layer])?a[o.layer]=[o]:h.push(o);for(o=e=0;o<a.length;o++)if((h=a[o])&&0!==h.length){if(0<o)for(c=0;c<h.length;c++)h[c].layer-=e}else e++;for(a=t.edges.iterator;a.next();)(e=a.value).fromVertex.layer<e.toVertex.layer&&(t.Rm(e),e.rev=!0)}}},Zn.prototype.assignLayers=function(){switch(this.Ml){case Vw:W1(this);break;case jw:for(var t,e=this.network.vertexes.iterator;e.next();)t=I_(this,e.value),this.sa=Math.max(t,this.sa);for(e.reset();e.next();)(t=e.value).layer=this.sa-t.layer;break;default:for(W1(this),e=this.network.vertexes.iterator;e.next();)e.value.valid=!1;for(e.reset();e.next();)0===(t=e.value).sourceEdges.count&&my(this,t);for(t=1/0,e.reset();e.next();)t=Math.min(t,e.value.layer);for(this.sa=-1,e.reset();e.next();){var o=e.value;o.layer-=t,this.sa=Math.max(this.sa,o.layer)}}},Zn.prototype.initializeIndices=function(){switch(this.Bl){default:for(var t=this.network.vertexes.iterator;t.next();){var e=t.value,o=e.layer;e.index=this.zb[o],this.zb[o]++}break;case Y1:for(t=this.network.vertexes.iterator,e=this.sa;0<=e;e--)for(t.reset();t.next();)(o=t.value).layer===e&&-1===o.index&&H2(this,o);break;case zw:for(t=this.network.vertexes.iterator,e=0;e<=this.sa;e++)for(t.reset();t.next();)(o=t.value).layer===e&&-1===o.index&&Bw(this,o)}},Zn.prototype.reduceCrossings=function(){var o,a,c,g,_,t=this.countCrossings(),e=Ga(this);for(o=0;o<this.Rj;o++){for(a=0;a<=this.sa;a++)Qu(this,a,1),ll(this,a,1);var h=this.countCrossings();for(h<t&&(t=h,e=Ga(this)),a=this.sa;0<=a;a--)Qu(this,a,-1),ll(this,a,-1);(h=this.countCrossings())<t&&(t=h,e=Ga(this))}for(Ch(this,e),o=0;o<this.Rj;o++){for(a=0;a<=this.sa;a++)Qu(this,a,0),ll(this,a,0);for((h=this.countCrossings())<t&&(t=h,e=Ga(this)),a=this.sa;0<=a;a--)Qu(this,a,0),ll(this,a,0);(h=this.countCrossings())<t&&(t=h,e=Ga(this))}switch(Ch(this,e),this.Zk){case Uw:break;case Gw:for(_=t+1;(a=this.countCrossings())<_;)for(_=a,o=this.sa;0<=o;o--)for(g=0;g<=o;g++){for(c=!0;c;)for(c=!1,a=o;a>=g;a--)c=ll(this,a,-1)||c;for((h=this.countCrossings())>=t?Ch(this,e):(t=h,e=Ga(this)),c=!0;c;)for(c=!1,a=o;a>=g;a--)c=ll(this,a,1)||c;for((h=this.countCrossings())>=t?Ch(this,e):(t=h,e=Ga(this)),c=!0;c;)for(c=!1,a=g;a<=o;a++)c=ll(this,a,1)||c;for(h>=t?Ch(this,e):(t=h,e=Ga(this)),c=!0;c;)for(c=!1,a=g;a<=o;a++)c=ll(this,a,-1)||c;for(h>=t?Ch(this,e):(t=h,e=Ga(this)),c=!0;c;)for(c=!1,a=o;a>=g;a--)c=ll(this,a,0)||c;for(h>=t?Ch(this,e):(t=h,e=Ga(this)),c=!0;c;)for(c=!1,a=g;a<=o;a++)c=ll(this,a,0)||c;h>=t?Ch(this,e):(t=h,e=Ga(this))}break;default:for(o=this.sa,g=0,_=t+1;(a=this.countCrossings())<_;){for(_=a,c=!0;c;)for(c=!1,a=o;a>=g;a--)c=ll(this,a,-1)||c;for((h=this.countCrossings())>=t?Ch(this,e):(t=h,e=Ga(this)),c=!0;c;)for(c=!1,a=o;a>=g;a--)c=ll(this,a,1)||c;for((h=this.countCrossings())>=t?Ch(this,e):(t=h,e=Ga(this)),c=!0;c;)for(c=!1,a=g;a<=o;a++)c=ll(this,a,1)||c;for(h>=t?Ch(this,e):(t=h,e=Ga(this)),c=!0;c;)for(c=!1,a=g;a<=o;a++)c=ll(this,a,-1)||c;for(h>=t?Ch(this,e):(t=h,e=Ga(this)),c=!0;c;)for(c=!1,a=o;a>=g;a--)c=ll(this,a,0)||c;for(h>=t?Ch(this,e):(t=h,e=Ga(this)),c=!0;c;)for(c=!1,a=g;a<=o;a++)c=ll(this,a,0)||c;h>=t?Ch(this,e):(t=h,e=Ga(this))}}Ch(this,e)},Zn.prototype.straightenAndPack=function(){var t=0!=(1&this.ng),e=0!=(this.ng&U2);if(1e3<this.network.edges.count&&e&&(t=!1),t){var o=[];for(e=0;e<=this.sa;e++)o[e]=0;for(var a,h=this.network.vertexes.iterator;h.next();){var c=h.value;e=c.layer,a=c.column,c=this.nodeMinColumnSpace(c,!1),o[e]=Math.max(o[e],a+c)}for(h.reset();h.next();)(c=h.value).column=(8*(this.Ca-o[e=c.layer])>>1)+8*(a=c.column);this.Ca*=8}if(0!=(2&this.ng))for(o=!0;o;){for(o=!1,e=this.pc+1;e<=this.sa;e++)o=Wa(this,e,1)||o;for(e=this.pc-1;0<=e;e--)o=Wa(this,e,-1)||o;o=Wa(this,this.pc,0)||o}if(0!=(4&this.ng)){for(e=this.pc+1;e<=this.sa;e++)gy(this,e,1);for(e=this.pc-1;0<=e;e--)gy(this,e,-1);gy(this,this.pc,0)}if(t&&(xg(this,-1),xg(this,1)),0!=(2&this.ng))for(o=!0;o;){for(o=!1,o=Wa(this,this.pc,0)||o,e=this.pc+1;e<=this.sa;e++)o=Wa(this,e,0)||o;for(e=this.pc-1;0<=e;e--)o=Wa(this,e,0)||o}},Zn.prototype.commitLayout=function(){if(this.setsPortSpots)for(var t=Gp(this,!0),e=Gp(this,!1),o=this.network.edges.iterator;o.next();){var a=o.value.link;null!==a&&(a.fromSpot=t,a.toSpot=e)}this.commitNodes(),this.Iv(),this.isRouting&&this.commitLinks()},Zn.prototype.commitNodes=function(){this.$d=[],this.zd=[],this.yd=[],this.Ia=[];for(var t=0;t<=this.sa;t++)this.$d[t]=0,this.zd[t]=0,this.yd[t]=0,this.Ia[t]=0;for(t=this.network.vertexes.iterator;t.next();){var e=t.value,o=e.layer;this.$d[o]=Math.max(this.$d[o],this.nodeMinLayerSpace(e,!0)),this.zd[o]=Math.max(this.zd[o],this.nodeMinLayerSpace(e,!1))}e=0,o=this.ue;for(var a=0;a<=this.sa;a++){var h=o;0>=this.$d[a]+this.zd[a]&&(h=0),0<a&&(e+=h/2),90===this.K||0===this.K?(this.yd[a]=e+=this.zd[a],e+=this.$d[a]):(this.yd[a]=e+=this.$d[a],e+=this.zd[a]),a<this.sa&&(e+=h/2),this.Ia[a]=e}for(o=e,e=this.arrangementOrigin,a=0;a<=this.sa;a++)270===this.K?this.yd[a]=e.y+this.yd[a]:90===this.K?(this.yd[a]=e.y+o-this.yd[a],this.Ia[a]=o-this.Ia[a]):180===this.K?this.yd[a]=e.x+this.yd[a]:(this.yd[a]=e.x+o-this.yd[a],this.Ia[a]=o-this.Ia[a]);for(t.reset(),o=a=1/0;t.next();){var c=(h=t.value).layer,g=0|h.column;if(270===this.K||90===this.K){var _=e.x+this.Zb*g;c=this.yd[c]}else _=this.yd[c],c=e.y+this.Zb*g;h.centerX=_,h.centerY=c,a=Math.min(h.x,a),o=Math.min(h.y,o)}for(this.Vc=new rt(a=e.x-a,e=e.y-o),t.reset();t.next();)(o=t.value).x+=a,o.y+=e,o.commit()},Zn.prototype.Iv=function(){for(var t=0,e=this.ue,o=0;o<=this.sa;o++)t+=this.$d[o],t+=this.zd[o];t+=this.sa*e,e=[],o=this.Zb*this.Ca;for(var a=this.maxLayer;0<=a;a--)e.push(270===this.K?0===a?new te(0,0,o,Math.abs(this.Ia[0])):new te(0,this.Ia[a-1],o,Math.abs(this.Ia[a-1]-this.Ia[a])):90===this.K?0===a?new te(0,this.Ia[0],o,Math.abs(this.Ia[0]-t)):new te(0,this.Ia[a],o,Math.abs(this.Ia[a-1]-this.Ia[a])):180===this.K?0===a?new te(0,0,Math.abs(this.Ia[0]),o):new te(this.Ia[a-1],0,Math.abs(this.Ia[a-1]-this.Ia[a]),o):0===a?new te(this.Ia[0],0,Math.abs(this.Ia[0]-t),o):new te(this.Ia[a],0,Math.abs(this.Ia[a-1]-this.Ia[a]),o));this.commitLayers(e,this.Vc)},Zn.prototype.commitLayers=function(){},Zn.prototype.commitLinks=function(){for(var e,t=this.network.edges.iterator;t.next();)null!==(e=t.value.link)&&(e.Th(),e.pk(),e.xf());for(t.reset();t.next();)null!==(e=t.value.link)&&e.xj();for(t.reset();t.next();){var o=t.value;if(null!==(e=o.link)){e.Th();var a=e,h=a.fromNode,c=a.toNode,g=a.fromPort,_=a.toPort;if(null!==h){var k=h.findVisibleNode();null!==k&&k!==h&&(h=k,g=k.port)}null!==c&&null!==(k=c.findVisibleNode())&&k!==c&&(c=k,_=k.port);var P=e.computeSpot(!0,g);k=e.computeSpot(!1,_);var F=o.fromVertex,j=o.toVertex;if(o.valid){if(e.curve===us&&4===e.pointsCount)if(F.column===j.column)o=e.getLinkPoint(h,g,P,!0,!1,c,_),g=e.getLinkPoint(c,_,k,!1,!1,h,g),o.o()||o.set(h.actualBounds.center),g.o()||g.set(c.actualBounds.center),e.pk(),e.vf(o.x,o.y),e.vf((2*o.x+g.x)/3,(2*o.y+g.y)/3),e.vf((o.x+2*g.x)/3,(o.y+2*g.y)/3),e.vf(g.x,g.y);else{var ut=!1,xt=!1;if(null!==g&&P===mn&&(ut=!0),null!==_&&k===mn&&(xt=!0),ut||xt){var pt=e.i(0).x;o=e.i(0).y,F=e.i(3).x,a=e.i(3).y,ut&&(90===this.K||270===this.K?(ut=pt,j=(o+a)/2):(ut=(pt+F)/2,j=o),e.L(1,ut,j),(P=e.getLinkPoint(h,g,P,!0,!1,c,_)).o()||P.set(h.actualBounds.center),e.L(0,P.x,P.y)),xt&&(90===this.K||270===this.K?(P=F,o=(o+a)/2):(P=(pt+F)/2,o=a),e.L(2,P,o),(h=e.getLinkPoint(c,_,k,!1,!1,h,g)).o()||h.set(c.actualBounds.center),e.L(3,h.x,h.y))}}e.xf()}else if(F.layer===j.layer)e.xf();else{if(ut=xt=!1,pt=e.firstPickIndex+1,e.isOrthogonal){ut=!0;var Pt=e.pointsCount;4<Pt&&e.points.removeRange(2,Pt-3)}else if(e.curve===us)xt=!0,4<(Pt=e.pointsCount)&&e.points.removeRange(2,Pt-3),4===Pt&&(pt=2);else{var Xt=P===mn,$t=k===mn;2<(Pt=e.pointsCount)&&Xt&&$t?e.points.removeRange(1,Pt-2):3<Pt&&Xt&&!$t?e.points.removeRange(1,Pt-3):3<Pt&&!Xt&&$t?e.points.removeRange(2,Pt-2):4<Pt&&!Xt&&!$t&&e.points.removeRange(2,Pt-3)}if(o.rev){for(;null!==j&&F!==j;){var ie=Pt=null;for(Xt=j.sourceEdges.iterator;Xt.next()&&(($t=Xt.value).link!==o.link||(ie=$t.toVertex,null!==(Pt=$t.fromVertex).node)););if(null===Pt)break;if(Pt!==F){Xt=e.i(pt-1).x,$t=e.i(pt-1).y;var se=Pt.centerX,fe=Pt.centerY;if(ut)180===this.K||0===this.K?pt===e.firstPickIndex+1?(e.m(pt++,Xt,$t),e.m(pt++,Xt,fe)):(null!==ie?ie.centerY:$t)!==fe&&(e.m(pt++,ie=this.Ia[Pt.layer-1]+this.Vc.x,$t),e.m(pt++,ie,fe)):pt===e.firstPickIndex+1?(e.m(pt++,Xt,$t),e.m(pt++,se,$t)):(null!==ie?ie.centerX:Xt)!==se&&(e.m(pt++,Xt,ie=this.Ia[Pt.layer-1]+this.Vc.y),e.m(pt++,se,ie));else if(pt===e.firstPickIndex+1){ie=Math.max(10,this.$d[j.layer]);var we=Math.max(10,this.zd[j.layer]);if(xt)180===this.K?se<=j.bounds.x?(e.m(pt++,(j=j.bounds.x)-ie,fe),e.m(pt++,j,fe),e.m(pt++,j+we,fe)):(e.m(pt++,se-ie,fe),e.m(pt++,se,fe),e.m(pt++,se+we,fe)):90===this.K?fe>=j.bounds.bottom?(e.m(pt++,se,(j=j.bounds.y+j.bounds.height)+we),e.m(pt++,se,j),e.m(pt++,se,j-ie)):(e.m(pt++,se,fe+we),e.m(pt++,se,fe),e.m(pt++,se,fe-ie)):270===this.K?fe<=j.bounds.y?(e.m(pt++,se,(j=j.bounds.y)-ie),e.m(pt++,se,j),e.m(pt++,se,j+we)):(e.m(pt++,se,fe-ie),e.m(pt++,se,fe),e.m(pt++,se,fe+we)):0===this.K&&(se>=j.bounds.right?(e.m(pt++,(j=j.bounds.x+j.bounds.width)+we,fe),e.m(pt++,j,fe),e.m(pt++,j-ie,fe)):(e.m(pt++,se+we,fe),e.m(pt++,se,fe),e.m(pt++,se-ie,fe)));else{e.m(pt++,Xt,$t);var ti=0;180===this.K||0===this.K?((180===this.K?se>=j.bounds.right:se<=j.bounds.x)&&(ti=(0===this.K?-ie:we)/2),e.m(pt++,Xt+ti,fe)):((270===this.K?fe>=j.bounds.bottom:fe<=j.bounds.y)&&(ti=(90===this.K?-ie:we)/2),e.m(pt++,se,$t+ti)),e.m(pt++,se,fe)}}else ie=Math.max(10,this.$d[Pt.layer]),we=Math.max(10,this.zd[Pt.layer]),180===this.K?(xt&&e.m(pt++,se-ie,fe),e.m(pt++,se,fe),xt&&e.m(pt++,se+we,fe)):90===this.K?(xt&&e.m(pt++,se,fe+we),e.m(pt++,se,fe),xt&&e.m(pt++,se,fe-ie)):270===this.K?(xt&&e.m(pt++,se,fe-ie),e.m(pt++,se,fe),xt&&e.m(pt++,se,fe+we)):(xt&&e.m(pt++,se+we,fe),e.m(pt++,se,fe),xt&&e.m(pt++,se-ie,fe))}j=Pt}(null===_||P!==mn||ut)&&(Xt=e.i(pt-1).x,$t=e.i(pt-1).y,se=e.i(pt).x,fe=e.i(pt).y,ut?(j=this.zd[F.layer],180===this.K||0===this.K?((ut=$t)>=F.bounds.y&&ut<=F.bounds.bottom&&(180===this.K?se>=F.bounds.x:se<=F.bounds.right)&&(ut=ut<F.bounds.y+F.bounds.height/2?F.bounds.y-this.Zb/2:F.bounds.bottom+this.Zb/2,e.m(pt++,j=F.centerX+(180===this.K?-j:j),$t),e.m(pt++,j,ut)),e.m(pt++,se,ut)):((ut=Xt)>=F.bounds.x&&ut<=F.bounds.right&&(270===this.K?fe>=F.bounds.y:fe<=F.bounds.bottom)&&(ut=ut<F.bounds.x+F.bounds.width/2?F.bounds.x-this.Zb/2:F.bounds.right+this.Zb/2,e.m(pt++,Xt,j=F.centerY+(270===this.K?-j:j)),e.m(pt++,ut,j)),e.m(pt++,ut,fe)),e.m(pt++,se,fe)):xt?(ie=Math.max(10,this.$d[F.layer]),we=Math.max(10,this.zd[F.layer]),180===this.K&&se>=F.bounds.x?(e.L(pt-2,j=F.bounds.x+F.bounds.width,$t),e.L(pt-1,j+we,$t)):90===this.K&&fe<=F.bounds.bottom?(e.L(pt-2,Xt,j=F.bounds.y),e.L(pt-1,Xt,j-ie)):270===this.K&&fe>=F.bounds.y?(e.L(pt-2,Xt,j=F.bounds.y+F.bounds.height),e.L(pt-1,Xt,j+we)):0===this.K&&se<=F.bounds.right&&(e.L(pt-2,j=F.bounds.x,$t),e.L(pt-1,j-ie,$t))):(ie=Math.max(10,this.$d[F.layer]),we=Math.max(10,this.zd[F.layer]),ut=0,180===this.K||0===this.K?((180===this.K?se<=F.bounds.x:se>=F.bounds.right)&&(ut=(0===this.K?we:-ie)/2),e.m(pt++,se+ut,$t)):((270===this.K?fe<=F.bounds.y:fe>=F.bounds.bottom)&&(ut=(90===this.K?we:-ie)/2),e.m(pt++,Xt,fe+ut)),e.m(pt++,se,fe)))}else{for(;null!==F&&F!==j;){for(ie=Pt=null,F=F.destinationEdges.iterator;F.next()&&((Xt=F.value).link!==o.link||(null!==(ie=Xt.fromVertex).node&&(ie=null),null!==(Pt=Xt.toVertex).node)););if(null===Pt)break;Pt!==j&&(Xt=e.i(pt-1).x,$t=e.i(pt-1).y,se=Pt.centerX,fe=Pt.centerY,ut?180===this.K||0===this.K?(null!==ie?ie.centerY:$t)!==fe&&(ie=this.Ia[Pt.layer]+this.Vc.x,pt===e.firstPickIndex+1&&(ie=0===this.K?Math.max(ie,Xt):Math.min(ie,Xt)),e.m(pt++,ie,$t),e.m(pt++,ie,fe)):(null!==ie?ie.centerX:Xt)!==se&&(ie=this.Ia[Pt.layer]+this.Vc.y,pt===e.firstPickIndex+1&&(ie=90===this.K?Math.max(ie,$t):Math.min(ie,$t)),e.m(pt++,Xt,ie),e.m(pt++,se,ie)):(ie=Math.max(10,this.$d[Pt.layer]),we=Math.max(10,this.zd[Pt.layer]),180===this.K?(e.m(pt++,se+we,fe),xt&&e.m(pt++,se,fe),e.m(pt++,se-ie,fe)):90===this.K?(e.m(pt++,se,fe-ie),xt&&e.m(pt++,se,fe),e.m(pt++,se,fe+we)):270===this.K?(e.m(pt++,se,fe+we),xt&&e.m(pt++,se,fe),e.m(pt++,se,fe-ie)):(e.m(pt++,se-ie,fe),xt&&e.m(pt++,se,fe),e.m(pt++,se+we,fe)))),F=Pt}ut&&(Xt=e.i(pt-1).x,$t=e.i(pt-1).y,se=e.i(pt).x,fe=e.i(pt).y,180===this.K||0===this.K?$t!==fe&&(ie=0===this.K?Math.min(Math.max((se+Xt)/2,this.Ia[j.layer]+this.Vc.x),se):Math.max(Math.min((se+Xt)/2,this.Ia[j.layer]+this.Vc.x),se),e.m(pt++,ie,$t),e.m(pt++,ie,fe)):Xt!==se&&(ie=90===this.K?Math.min(Math.max((fe+$t)/2,this.Ia[j.layer]+this.Vc.y),fe):Math.max(Math.min((fe+$t)/2,this.Ia[j.layer]+this.Vc.y),fe),e.m(pt++,Xt,ie),e.m(pt++,se,ie)))}null!==a&&xt&&(null!==g&&(P===mn&&(P=e.i(0),a=e.i(2),P.w(a)||e.L(1,(P.x+a.x)/2,(P.y+a.y)/2)),(P=e.getLinkPoint(h,g,mn,!0,!1,c,_)).o()||P.set(h.actualBounds.center),e.L(0,P.x,P.y)),null!==_&&(k===mn&&(k=e.i(e.pointsCount-1),P=e.i(e.pointsCount-3),k.w(P)||e.L(e.pointsCount-2,(k.x+P.x)/2,(k.y+P.y)/2)),(h=e.getLinkPoint(c,_,mn,!1,!1,h,g)).o()||h.set(c.actualBounds.center),e.L(e.pointsCount-1,h.x,h.y))),e.xf(),o.commit()}}}this.avoidOrthogonalOverlaps()},Zn.prototype.avoidOrthogonalOverlaps=function(){if(!(0>=this.linkSpacing)){for(var t=new Lt,e=this.network.edges.iterator;e.next();){var o=e.value.link;null!==o&&o.isOrthogonal&&!t.contains(o)&&t.add(o)}if(0<t.count)if(90===this.K||270===this.K){for(e=0,o=[],t=t.iterator;t.next();){var a=t.value;if(null!==a&&a.isOrthogonal)for(var h=2;h<a.pointsCount-3;h++){var c=a.i(h),g=a.i(h+1);if(this.A(c.y,g.y)&&!this.A(c.x,g.x)){var _=new $p;_.layer=Math.floor(c.y/2);var k=a.i(0),P=a.i(a.pointsCount-1);if(_.first=k.x*k.x+k.y,_.Xb=P.x*P.x+P.y,_.fd=Math.min(c.x,g.x),_.vc=Math.max(c.x,g.x),_.index=h,_.link=a,h+2<a.pointsCount){k=a.i(h-1),P=a.i(h+2);var F=0;k.y<c.y?F=P.y<c.y?3:c.x<g.x?2:1:k.y>c.y&&(F=P.y>c.y?0:g.x<c.x?2:1),_.l=F}o.push(_)}}}if(1<o.length)for(o.sort(this.Ry),t=0;t<o.length;){for(c=o[t].layer,a=t+1;a<o.length&&o[a].layer===c;)a++;if(1<a-t)for(c=t;c<a;){for(g=o[c].vc,h=t+1;h<a&&o[h].fd<g;)g=Math.max(g,o[h].vc),h++;if(1<(g=h-c)){for(this.uj(o,this.hu,c,c+g),F=1,_=o[c].Xb,k=c;k<h;k++)(P=o[k]).Xb!==_&&(F++,_=P.Xb);this.uj(o,this.Qy,c,c+g);var j=1;for(_=o[c].first,k=c;k<h;k++)(P=o[k]).first!==_&&(j++,_=P.first);for(k=!0,P=j,F<j?(k=!1,P=F,_=o[c].Xb,this.uj(o,this.hu,c,c+g)):_=o[c].first,F=0,j=c;j<h;j++){var ut=o[j];(k?ut.first:ut.Xb)!==_&&(F++,_=k?ut.first:ut.Xb);var xt=ut.link;c=xt.i(ut.index),g=xt.i(ut.index+1);var pt=this.linkSpacing*(F-(P-1)/2);e++,xt.Th(),xt.L(ut.index,c.x,c.y+pt),xt.L(ut.index+1,g.x,g.y+pt),xt.xf()}}c=h}t=a}}else{for(e=0,o=[],t=t.iterator;t.next();)if(null!==(a=t.value)&&a.isOrthogonal)for(h=2;h<a.pointsCount-3;h++)c=a.i(h),g=a.i(h+1),this.A(c.x,g.x)&&!this.A(c.y,g.y)&&((_=new $p).layer=Math.floor(c.x/2),k=a.i(0),P=a.i(a.pointsCount-1),_.first=k.x+k.y*k.y,_.Xb=P.x+P.y*P.y,_.fd=Math.min(c.y,g.y),_.vc=Math.max(c.y,g.y),_.index=h,_.link=a,h+2<a.pointsCount&&(k=a.i(h-1),P=a.i(h+2),F=0,k.x<c.x?F=P.x<c.x?3:c.y<g.y?2:1:k.x>c.x&&(F=P.x>c.x?0:g.y<c.y?2:1),_.l=F),o.push(_));if(1<o.length)for(o.sort(this.Ry),t=0;t<o.length;){for(c=o[t].layer,a=t+1;a<o.length&&o[a].layer===c;)a++;if(1<a-t)for(c=t;c<a;){for(g=o[c].vc,h=t+1;h<a&&o[h].fd<g;)g=Math.max(g,o[h].vc),h++;if(1<(g=h-c)){for(this.uj(o,this.hu,c,c+g),F=1,_=o[c].Xb,k=c;k<h;k++)(P=o[k]).Xb!==_&&(F++,_=P.Xb);for(this.uj(o,this.Qy,c,c+g),j=1,_=o[c].first,k=c;k<h;k++)(P=o[k]).first!==_&&(j++,_=P.first);for(k=!0,P=j,F<j?(k=!1,P=F,_=o[c].Xb,this.uj(o,this.hu,c,c+g)):_=o[c].first,F=0,j=c;j<h;j++)ut=o[j],(k?ut.first:ut.Xb)!==_&&(F++,_=k?ut.first:ut.Xb),c=(xt=ut.link).i(ut.index),g=xt.i(ut.index+1),pt=this.linkSpacing*(F-(P-1)/2),e++,xt.Th(),xt.L(ut.index,c.x+pt,c.y),xt.L(ut.index+1,g.x+pt,g.y),xt.xf()}c=h}t=a}}}},(st=Zn.prototype).Ry=function(t,e){return t instanceof $p&&e instanceof $p&&t!==e?t.layer<e.layer?-1:t.layer>e.layer?1:t.fd<e.fd?-1:t.fd>e.fd?1:t.vc<e.vc?-1:t.vc>e.vc?1:0:0},st.Qy=function(t,e){return t instanceof $p&&e instanceof $p&&t!==e?t.first<e.first?-1:t.first>e.first||t.l<e.l?1:t.l>e.l||t.fd<e.fd?-1:t.fd>e.fd?1:t.vc<e.vc?-1:t.vc>e.vc?1:0:0},st.hu=function(t,e){return t instanceof $p&&e instanceof $p&&t!==e?t.Xb<e.Xb?-1:t.Xb>e.Xb||t.l<e.l?1:t.l>e.l||t.fd<e.fd?-1:t.fd>e.fd?1:t.vc<e.vc?-1:t.vc>e.vc?1:0:0},st.A=function(t,e){return-1<(t-=e)&&1>t},st.uj=function(t,e,o,a){var h=t.length,c=a-o;if(!(1>=c))if((0>o||o>=h-1)&&z("not in range 0 <= from < length: "+o),2===c)0<e(a=t[o],h=t[o+1])&&(t[o]=h,t[o+1]=a);else if(0===o)if(a>=h)t.sort(e);else for((o=t.slice(0,a)).sort(e),e=0;e<a;e++)t[e]=o[e];else if(a>=h)for((a=t.slice(o)).sort(e),e=o;e<h;e++)t[e]=a[e-o];else for((h=t.slice(o,a)).sort(e),e=o;e<a;e++)t[e]=h[e-o]},X.Object.defineProperties(Zn.prototype,{layerSpacing:{get:function(){return this.ue},set:function(t){this.ue!==t&&0<=t&&(this.ue=t,this.C())}},columnSpacing:{get:function(){return this.Zb},set:function(t){this.Zb!==t&&0<t&&(this.Zb=t,this.C())}},direction:{get:function(){return this.K},set:function(t){this.K!==t&&(0===t||90===t||180===t||270===t?(this.K=t,this.C()):z("LayeredDigraphLayout.direction must be 0, 90, 180, or 270"))}},cycleRemoveOption:{get:function(){return this.jl},set:function(t){this.jl===t||t!==em&&t!==Wp&&t!==Vd||(this.jl=t,this.C())}},layeringOption:{get:function(){return this.Ml},set:function(t){this.Ml===t||t!==Yp&&t!==Vw&&t!==jw||(this.Ml=t,this.C())}},initializeOption:{get:function(){return this.Bl},set:function(t){this.Bl===t||t!==Y1&&t!==zw&&t!==Hw||(this.Bl=t,this.C())}},iterations:{get:function(){return this.Rj},set:function(t){this.Rj!==t&&0<=t&&(this.Rj=t,this.C())}},aggressiveOption:{get:function(){return this.Zk},set:function(t){this.Zk===t||t!==Uw&&t!==$1&&t!==Gw||(this.Zk=t,this.C())}},packOption:{get:function(){return this.ng},set:function(t){this.ng!==t&&0<=t&&8>t&&(this.ng=t,this.C())}},setsPortSpots:{get:function(){return this.kf},set:function(t){this.kf!==t&&(this.kf=t,this.C())}},linkSpacing:{get:function(){return this.Mo},set:function(t){this.Mo!==t&&0<=t&&(this.Mo=t,this.C())}},maxLayer:{get:function(){return this.sa}},maxIndex:{get:function(){return this.Ji}},maxColumn:{get:function(){return this.Ca}},minIndexLayer:{get:function(){return this.mh}},maxIndexLayer:{get:function(){return this.pc}}});var Wp=new wt(Zn,"CycleDepthFirst",0),em=new wt(Zn,"CycleGreedy",1),Vd=new wt(Zn,"CycleFromLayers",2),Yp=new wt(Zn,"LayerOptimalLinkLength",0),Vw=new wt(Zn,"LayerLongestPathSink",1),jw=new wt(Zn,"LayerLongestPathSource",2),Y1=new wt(Zn,"InitDepthFirstOut",0),zw=new wt(Zn,"InitDepthFirstIn",1),Hw=new wt(Zn,"InitNaive",2),Uw=new wt(Zn,"AggressiveNone",0),$1=new wt(Zn,"AggressiveLess",1),Gw=new wt(Zn,"AggressiveMore",2),U2=8;function $p(){this.index=this.vc=this.fd=this.Xb=this.first=this.layer=0,this.link=null,this.l=0}function Mn(t){cr.call(this,t)}function bg(t){Io.call(this,t),this.Ra=this.Rg=this.Fi=-1,this.I=NaN,this.T=null,this.valid=!1,this.finish=this.Cg=NaN,this.wf=0,this.Mk=this.Nk=null}function tc(t){Xs.call(this,t),this.l=this.La=this.eb=!1,this.Ka=this.I=NaN,this.T=this.u=0}function Cn(){Hn.call(this),this.Jb=new Ht,this.vp=Xw,this.kd=ic,this.oq=im,this.ts=J2,this.nx=[],this.jd=!0,this.Eb=Xe,this.Pd=new Ge(10,10).freeze();var t=new Wc(this);this.U=new Sh(t),this.V=new Sh(t),this.uv=[]}function LD(t){var e=new Ht;for(t=t.iterator;t.next();){var o=t.value;o.initialized||e.add(o)}return e}function G2(t,e){var o=999999,a=null;for(e=e.iterator;e.next();){var h=e.value;switch(t.kd){case ic:h.sourceEdges.count<o&&(o=h.sourceEdges.count,a=h);break;case Cg:h.destinationEdges.count<o&&(o=h.destinationEdges.count,a=h);break;default:z("Unhandled path value "+t.kd.toString())}}return a}function Ww(t,e){if(null!==e){switch(t.kd){case ic:if(0<e.destinationEdges.count){for(var o=new Lt,a=e.destinationVertexes;a.next();){var h=a.value;W2(t,e,h)&&o.add(h)}0<o.count&&(e.children=o.ma())}break;case Cg:if(0<e.sourceEdges.count){for(o=new Lt,a=e.sourceVertexes;a.next();)W2(t,e,h=a.value)&&o.add(h);0<o.count&&(e.children=o.ma())}break;default:z("Unhandled path value"+t.kd.toString())}for(a=(o=e.children).length,h=0;h<a;h++){var c=o[h];c.initialized=!0,c.level=e.level+1,c.parent=e,t.Jb.remove(c)}for(e=0;e<a;e++)Ww(t,o[e])}}function W2(t,e,o){if(o.initialized){if(null===e)var a=!1;else{for(a=e.parent;null!==a&&a!==o;)a=a.parent;a=a===o}if(a||o.level>e.level)return!1;t.removeChild(o.parent,o)}return!0}function R_(t,e){if(null!==e){t.initializeTreeVertexValues(e),e.alignment===Hf&&t.sortTreeVertexChildren(e);for(var o=0,a=e.childrenCount,h=0,c=e.children,g=c.length,_=0;_<g;_++){var k=c[_];R_(t,k),o+=k.descendantCount+1,a=Math.max(a,k.maxChildrenCount),h=Math.max(h,k.maxGenerationCount)}e.descendantCount=o,e.maxChildrenCount=a,e.maxGenerationCount=0<a?h+1:0}}function Y2(t,e){if(null!==e){t.assignTreeVertexValues(e);for(var o=(e=e.children).length,a=0;a<o;a++)Y2(t,e[a])}}function $2(t,e){if(null!==e){e.alignment!==Hf&&t.sortTreeVertexChildren(e);for(var o=(e=e.children).length,a=0;a<o;a++)$2(t,e[a])}}function jd(t){return t===Uc||t===Hf||t===Gc||t===Uf}function Yw(t){return t===Uc||t===Hf}function X2(t){var e=t.parent;if(null!==e){var o=e.alignment;if(jd(o)){if(Yw(o)){for(e=e.children,o=0;o<e.length&&t!==e[o];)o++;return o%2==0}if(o===Gc)return!0}}return!1}function K2(t,e){if(0===e.childrenCount){var o=!1,a=0;null!==e.parent&&(a=e.parent.angle,o=jd(o=e.parent.alignment));var h=X2(e);e.S.h(0,0),e.wa.h(e.width,e.height),null===e.parent||null===e.comments||(180!==a&&270!==a||o)&&!h?e.fa.h(0,0):180===a&&!o||(90===a||270===a)&&h?e.fa.h(e.width-2*e.focus.x,0):e.fa.h(0,e.height-2*e.focus.y)}else{o=90===(a=Jh(e))||270===a;for(var c=0,g=(h=e.children).length,_=0;_<g;_++){var k=h[_];c=Math.max(c,o?k.wa.width:k.wa.height)}var P=e.alignment,F=P===nc,j=P===rc;_=jd(P);var ut=Math.max(0,e.breadthLimit);k=Mg(e);var xt=e.nodeSpacing,pt=ec(e),Pt=F||j?0:pt/2,Xt=e.rowSpacing,$t=0;(F||j||e.Sm||e.Tm&&1===e.maxGenerationCount)&&($t=Math.max(0,e.rowIndent)),F=e.width;var ie=e.height,se=0,fe=0,we=0,ti=0,Ci=0,ui=0,Bi=0,mi=0,ei=0;if(_&&!Yw(P)&&135<a&&h.reverse(),Yw(P))if(1<g)for(var kn=0;kn<g;kn++){var un=h[kn],$n=un.wa;kn%2==0&&kn!==g-1&&(ei=Math.max(ei,(o?$n.width:$n.height)+Xp(un)-xt))}else 1===g&&(ei=o?h[0].wa.width:h[0].wa.height);if(_)switch(P){case Uc:case Hf:ei=(fe=135>a?BD(e,h,ei,se,fe):Z2(e,h,ei,se,fe)).x,se=fe.width,fe=fe.height;break;case Gc:for(t=0;t<g;t++)Pt=(ut=h[t]).wa,we=0===Bi?0:Xt,o?(ut.S.h(c-Pt.width,Ci+we),se=Math.max(se,Pt.width),fe=Math.max(fe,Ci+we+Pt.height),Ci+=we+Pt.height):(ut.S.h(ti+we,c-Pt.height),se=Math.max(se,ti+we+Pt.width),fe=Math.max(fe,Pt.height),ti+=we+Pt.width),Bi++;break;case Uf:for(c=0;c<g;c++)ut=(t=h[c]).wa,Pt=0===Bi?0:Xt,o?(t.S.h(xt/2+e.focus.x,Ci+Pt),se=Math.max(se,ut.width),fe=Math.max(fe,Ci+Pt+ut.height),Ci+=Pt+ut.height):(t.S.h(ti+Pt,xt/2+e.focus.y),se=Math.max(se,ti+Pt+ut.width),fe=Math.max(fe,ut.height),ti+=Pt+ut.width),Bi++}else for(kn=0;kn<g;kn++){if($n=(un=h[kn]).wa,o){0<ut&&0<Bi&&ti+xt+$n.width>ut&&(ti<c&&_g(e,P,c-ti,0,mi,kn-1),ui++,Bi=0,mi=kn,we=fe,ti=0,Ci=135<a?-fe-Xt:fe+Xt);var uo=0===Bi?Pt:xt;$w(t,un,0,Ci),un.S.h(ti+uo,Ci),se=Math.max(se,ti+uo+$n.width),fe=Math.max(fe,we+(0===ui?0:Xt)+$n.height),ti+=uo+$n.width}else 0<ut&&0<Bi&&Ci+xt+$n.height>ut&&(Ci<c&&_g(e,P,0,c-Ci,mi,kn-1),ui++,Bi=0,mi=kn,we=se,Ci=0,ti=135<a?-se-Xt:se+Xt),uo=0===Bi?Pt:xt,$w(t,un,ti,0),un.S.h(ti,Ci+uo),fe=Math.max(fe,Ci+uo+$n.height),se=Math.max(se,we+(0===ui?0:Xt)+$n.width),Ci+=uo+$n.height;Bi++}switch(0<ui&&(o?(fe+=Math.max(0,k),ti<se&&_g(e,P,se-ti,0,mi,g-1),0<$t&&(j||yy(e,$t,0,0,g-1),se+=$t)):(se+=Math.max(0,k),Ci<fe&&_g(e,P,0,fe-Ci,mi,g-1),0<$t&&(j||yy(e,0,$t,0,g-1),fe+=$t))),$t=j=0,P){case Sg:o?j+=se/2-e.focus.x-pt/2:$t+=fe/2-e.focus.y-pt/2;break;case Dg:0<ui?o?j+=se/2-e.focus.x-pt/2:$t+=fe/2-e.focus.y-pt/2:o?j+=(P=h[0].S.x+h[0].fa.x)+(h[g-1].S.x+h[g-1].fa.x+2*h[g-1].focus.x-P)/2-e.focus.x-pt/2:$t+=(P=h[0].S.y+h[0].fa.y)+(h[g-1].S.y+h[g-1].fa.y+2*h[g-1].focus.y-P)/2-e.focus.y-pt/2;break;case nc:o?(j-=pt,se+=pt):($t-=pt,fe+=pt);break;case rc:o?(j+=se-e.width+pt,se+=pt):($t+=fe-e.height+pt,fe+=pt);break;case Uc:case Hf:o?j+=1<g?ei+xt/2-e.focus.x:h[0].focus.x-e.focus.x+h[0].fa.x:$t+=1<g?ei+xt/2-e.focus.y:h[0].focus.y-e.focus.y+h[0].fa.y;break;case Gc:o?j+=se+xt/2-e.focus.x:$t+=fe+xt/2-e.focus.y;break;case Uf:break;default:z("Unhandled alignment value "+P.toString())}for(pt=0;pt<g;pt++)P=h[pt],o?P.S.h(P.S.x+P.fa.x-j,P.S.y+(135<a?(_?-fe:-P.wa.height)+P.fa.y-k:ie+k+P.fa.y)):P.S.h(P.S.x+(135<a?(_?-se:-P.wa.width)+P.fa.x-k:F+k+P.fa.x),P.S.y+P.fa.y-$t);o?(se=X1(e,se,j),0>j&&(j=0),135<a&&($t+=fe+k),fe=Math.max(Math.max(fe,ie),fe+ie+k)):(135<a&&(j+=se+k),se=Math.max(Math.max(se,F),se+F+k),fe=O_(e,fe,$t),0>$t&&($t=0)),e.fa.h(j,$t),e.wa.h(se,fe)}}function BD(t,e,o,a,h){var c=e.length;if(0===c)return new te(o,0,a,h);if(1===c)return new te(o,0,a=(t=e[0]).wa.width,h=t.wa.height);for(var g=t.nodeSpacing,_=t.rowSpacing,k=90===Jh(t),P=0,F=0,j=0,ut=0;ut<c;ut++)if(!(ut%2!=0||1<c&&ut===c-1)){var xt=e[ut],pt=xt.wa,Pt=0===P?0:_;if(k){var Xt=Xp(xt)-g;xt.S.h(o-(pt.width+Xt),j+Pt),a=Math.max(a,pt.width+Xt),h=Math.max(h,j+Pt+pt.height),j+=Pt+pt.height}else Xt=Xp(xt)-g,xt.S.h(F+Pt,o-(pt.height+Xt)),h=Math.max(h,pt.height+Xt),a=Math.max(a,F+Pt+pt.width),F+=Pt+pt.width;P++}for(P=0,xt=F,ut=j,k?(F=o+g,j=0):(F=0,j=o+g),pt=0;pt<c;pt++)if(pt%2!=0){Xt=(Pt=e[pt]).wa;var $t=0===P?0:_;if(k){var ie=Xp(Pt)-g;Pt.S.h(F+ie,j+$t),a=Math.max(a,F+Xt.width+ie),h=Math.max(h,j+$t+Xt.height),j+=$t+Xt.height}else ie=Xp(Pt)-g,Pt.S.h(F+$t,j+ie),a=Math.max(a,F+$t+Xt.width),h=Math.max(h,j+Xt.height+ie),F+=$t+Xt.width;P++}return 1<c&&c%2==1&&(c=(e=e[c-1]).wa,_=null===e.parent?0:e.parent.rowSpacing,k?(e.S.h(o+g/2-e.focus.x-e.fa.x,h+_),k=o+g/2-e.focus.x-e.fa.x,a=Math.max(a,k+c.width),0>k&&(a-=k),h=Math.max(h,Math.max(ut,j)+_+c.height),0>e.S.x&&(o=vy(t,e.S.x,!1,o,g))):(e.S.h(a+_,o+g/2-e.focus.y-e.fa.y),a=Math.max(a,Math.max(xt,F)+_+c.width),j=o+g/2-e.focus.y-e.fa.y,h=Math.max(h,j+c.height),0>j&&(h-=j),0>e.S.y&&(o=vy(t,e.S.y,!0,o,g)))),new te(o,0,a,h)}function Z2(t,e,o,a,h){var c=e.length;if(0===c)return new te(o,0,a,h);if(1===c)return new te(o,0,a=(e=e[0]).wa.width,h=e.wa.height);for(var g=t.nodeSpacing,_=t.rowSpacing,k=270===Jh(t),P=0,F=0,j=0,ut=0;ut<c;ut++)if(!(ut%2!=0||1<c&&ut===c-1)){var xt=e[ut],pt=xt.wa,Pt=0===P?0:_;if(k){var Xt=Xp(xt)-g;xt.S.h(o-(pt.width+Xt),j-=Pt+pt.height),a=Math.max(a,pt.width+Xt),h=Math.max(h,Math.abs(j))}else Xt=Xp(xt)-g,xt.S.h(F-=Pt+pt.width,o-(pt.height+Xt)),h=Math.max(h,pt.height+Xt),a=Math.max(a,Math.abs(F));P++}for(P=0,xt=F,ut=j,k?(F=o+g,j=0):(F=0,j=o+g),pt=0;pt<c;pt++)if(pt%2!=0){Xt=(Pt=e[pt]).wa;var $t=0===P?0:_;if(k){var ie=Xp(Pt)-g;Pt.S.h(F+ie,j-=$t+Xt.height),a=Math.max(a,F+Xt.width+ie),h=Math.max(h,Math.abs(j))}else ie=Xp(Pt)-g,Pt.S.h(F-=$t+Xt.width,j+ie),h=Math.max(h,j+Xt.height+ie),a=Math.max(a,Math.abs(F));P++}for(1<c&&c%2==1&&(P=(_=e[c-1]).wa,pt=null===_.parent?0:_.parent.rowSpacing,k?(_.S.h(o+g/2-_.focus.x-_.fa.x,-h-P.height-pt),F=o+g/2-_.focus.x-_.fa.x,a=Math.max(a,F+P.width),0>F&&(a-=F),h=Math.max(h,Math.abs(Math.min(ut,j))+pt+P.height),0>_.S.x&&(o=vy(t,_.S.x,!1,o,g))):(_.S.h(-a-P.width-pt,o+g/2-_.focus.y-_.fa.y),a=Math.max(a,Math.abs(Math.min(xt,F))+pt+P.width),j=o+g/2-_.focus.y-_.fa.y,h=Math.max(h,j+P.height),0>j&&(h-=j),0>_.S.y&&(o=vy(t,_.S.y,!0,o,g)))),t=0;t<c;t++)g=e[t],k?g.S.h(g.S.x,g.S.y+h):g.S.h(g.S.x+a,g.S.y);return new te(o,0,a,h)}function Xp(t){return null===t.parent?0:t.parent.nodeSpacing}function vy(t,e,o,a,h){for(var c=(t=t.children).length,g=0;g<c;g++)o?t[g].S.h(t[g].S.x,t[g].S.y-e):t[g].S.h(t[g].S.x-e,t[g].S.y);return e=t[c-1],Math.max(a,o?e.fa.y+e.focus.y-h/2:e.fa.x+e.focus.x-h/2)}function X1(t,e,o){switch(t.alignment){case Dg:case Sg:return o+t.width>e&&(e=o+t.width),0>o&&(e-=o),e;case nc:return t.width>e?t.width:e;case rc:return 2*t.focus.x>e?t.width:e+t.width-2*t.focus.x;case Uc:case Hf:return Math.max(t.width,Math.max(e,o+t.width)-Math.min(0,o));case Gc:return t.width-t.focus.x+t.nodeSpacing/2+e;case Uf:return Math.max(t.width,t.focus.x+t.nodeSpacing/2+e);default:return e}}function O_(t,e,o){switch(t.alignment){case Dg:case Sg:return o+t.height>e&&(e=o+t.height),0>o&&(e-=o),e;case nc:return t.height>e?t.height:e;case rc:return 2*t.focus.y>e?t.height:e+t.height-2*t.focus.y;case Uc:case Hf:return Math.max(t.height,Math.max(e,o+t.height)-Math.min(0,o));case Gc:return t.height-t.focus.y+t.nodeSpacing/2+e;case Uf:return Math.max(t.height,t.focus.y+t.nodeSpacing/2+e);default:return e}}function q2(t,e,o){switch(t){case Sg:case Dg:e/=2,o/=2;break;case nc:o=e=0;break;case rc:break;default:z("Unhandled alignment value "+t.toString())}return new rt(e,o)}function _g(t,e,o,a,h,c){yy(t,(e=q2(e,o,a)).x,e.y,h,c)}function yy(t,e,o,a,h){if(0!==e||0!==o)for(t=t.children;a<=h;a++){var c=t[a].S;c.x+=e,c.y+=o}}function $w(t,e,o,a){var h=e.parent;switch(t.kd){case ic:for(t=e.sourceEdges;t.next();)(e=t.value).fromVertex===h&&e.relativePoint.h(o,a);break;case Cg:for(t=e.destinationEdges;t.next();)(e=t.value).toVertex===h&&e.relativePoint.h(o,a);break;default:z("Unhandled path value "+t.kd.toString())}}function K1(t,e,o){for(var a=0;a<t.length;a++){var h=t[a];h.x+=e,h.y+=o}}function VD(t,e,o,a,h,c,g,_){var k=Jh(e),P=90===k||270===k,F=e.nodeSpacing;e=a;var j=h;a=c;var ut=g,xt=o.Pq,pt=o.br;g=o.wa;var Pt=P?Math.max(ut,g.height):Math.max(a,g.width);if((null===xt||k!==Jh(o))&&(xt=hl(t,2),pt=hl(t,2),P?(xt[0].h(0,0),xt[1].h(0,g.height),pt[0].h(g.width,0),pt[1].h(pt[0].x,xt[1].y)):(xt[0].h(0,0),xt[1].h(g.width,0),pt[0].h(0,g.height),pt[1].h(xt[1].x,pt[0].y))),P){if(ut=9999999,!(null===j||2>j.length||null===xt||2>xt.length))for(h=o=0;o<j.length&&h<xt.length;){var Xt=xt[h];k=Xt.x,P=Xt.y,k+=a;var $t=c=j[o];o+1<j.length&&($t=j[o+1]);var ie=Xt;Xt=ie.x,ie=ie.y,h+1<xt.length&&(Xt=(ie=xt[h+1]).x,ie=ie.y,Xt+=a);var se=ut;c.y===P?se=k-c.x:c.y>P&&c.y<ie?se=k+(c.y-P)/(ie-P)*(Xt-k)-c.x:P>c.y&&P<$t.y&&(se=k-(c.x+(P-c.y)/($t.y-c.y)*($t.x-c.x))),se<ut&&(ut=se),$t.y<=c.y?o++:ie<=P?h++:($t.y<=ie&&o++,ie<=$t.y&&h++)}if(ut=a-ut,o=xt,h=ut+=F,null===e||2>e.length||null===o||2>o.length)a=null;else{for(F=hl(t,e.length+o.length),a=c=k=0;c<o.length&&o[c].y<e[0].y;)P=o[c++],F[a++].h(P.x+h,P.y);for(;k<e.length;)P=e[k++],F[a++].h(P.x,P.y);for(k=e[e.length-1].y;c<o.length&&o[c].y<=k;)c++;for(;c<o.length&&o[c].y>k;)P=o[c++],F[a++].h(P.x+h,P.y);for(o=hl(t,a),k=0;k<a;k++)o[k].assign(F[k]);bl(t,F),a=o}if(c=pt,k=ut,null===j||2>j.length||null===c||2>c.length)h=null;else{for(F=hl(t,j.length+c.length),h=P=o=0;o<j.length&&j[o].y<c[0].y;)$t=j[o++],F[h++].h($t.x,$t.y);for(;P<c.length;)$t=c[P++],F[h++].h($t.x+k,$t.y);for(c=c[c.length-1].y;o<j.length&&j[o].y<=c;)o++;for(;o<j.length&&j[o].y>c;)k=j[o++],F[h++].h(k.x,k.y);for(c=hl(t,h),o=0;o<h;o++)c[o].assign(F[o]);bl(t,F),h=c}return c=Math.max(0,ut)+g.width,g=Pt,bl(t,e),bl(t,xt),bl(t,j),bl(t,pt),_[0]=a,_[1]=h,new te(ut,0,c,g)}if(a=9999999,!(null===j||2>j.length||null===xt||2>xt.length))for(h=o=0;o<j.length&&h<xt.length;)k=(Xt=xt[h]).x,P=Xt.y,P+=ut,$t=c=j[o],o+1<j.length&&($t=j[o+1]),Xt=(ie=Xt).x,ie=ie.y,h+1<xt.length&&(Xt=(ie=xt[h+1]).x,ie=ie.y,ie+=ut),se=a,c.x===k?se=P-c.y:c.x>k&&c.x<Xt?se=P+(c.x-k)/(Xt-k)*(ie-P)-c.y:k>c.x&&k<$t.x&&(se=P-(c.y+(k-c.x)/($t.x-c.x)*($t.y-c.y))),se<a&&(a=se),$t.x<=c.x?o++:Xt<=k?h++:($t.x<=Xt&&o++,Xt<=$t.x&&h++);if(ut-=a,o=xt,h=ut+=F,null===e||2>e.length||null===o||2>o.length)a=null;else{for(F=hl(t,e.length+o.length),a=c=k=0;c<o.length&&o[c].x<e[0].x;)P=o[c++],F[a++].h(P.x,P.y+h);for(;k<e.length;)P=e[k++],F[a++].h(P.x,P.y);for(k=e[e.length-1].x;c<o.length&&o[c].x<=k;)c++;for(;c<o.length&&o[c].x>k;)P=o[c++],F[a++].h(P.x,P.y+h);for(o=hl(t,a),k=0;k<a;k++)o[k].assign(F[k]);bl(t,F),a=o}if(c=pt,k=ut,null===j||2>j.length||null===c||2>c.length)h=null;else{for(F=hl(t,j.length+c.length),h=P=o=0;o<j.length&&j[o].x<c[0].x;)$t=j[o++],F[h++].h($t.x,$t.y);for(;P<c.length;)$t=c[P++],F[h++].h($t.x,$t.y+k);for(c=c[c.length-1].x;o<j.length&&j[o].x<=c;)o++;for(;o<j.length&&j[o].x>c;)k=j[o++],F[h++].h(k.x,k.y);for(c=hl(t,h),o=0;o<h;o++)c[o].assign(F[o]);bl(t,F),h=c}return c=Pt,g=Math.max(0,ut)+g.height,bl(t,e),bl(t,xt),bl(t,j),bl(t,pt),_[0]=a,_[1]=h,new te(ut,0,c,g)}function hl(t,e){if(void 0!==(t=t.uv[e])&&void 0!==(t=t.pop()))return t;t=[];for(var o=0;o<e;o++)t[o]=new rt;return t}function bl(t,e){var o=e.length,a=t.uv[o];void 0===a&&(t.uv[o]=a=[]),a.push(e)}function N_(t,e,o,a){if(null!==e){e.x=o,e.y=a;for(var h=(e=e.children).length,c=0;c<h;c++){var g=e[c];N_(t,g,o+g.S.x,a+g.S.y)}}}function L_(t,e){if(null!==e){t.setPortSpots(e);for(var o=(e=e.children).length,a=0;a<o;a++)L_(t,e[a])}}function Jh(t){return 45>=(t=t.angle)?0:135>=t?90:225>=t?180:315>=t?270:0}function Mg(t){var e=Jh(t);e=90===e||270===e;var o=t.layerSpacing;if(0<t.layerSpacingParentOverlap){var a=Math.min(1,t.layerSpacingParentOverlap);o-=e?t.height*a:t.width*a}return o<(e?-t.height:-t.width)&&(o=e?-t.height:-t.width),o}function ec(t){var e=Jh(t),o=t.nodeIndent;if(0<t.nodeIndentPastParent){var a=Math.min(1,t.nodeIndentPastParent);o+=90===e||270===e?t.width*a:t.height*a}return Math.max(0,o)}Zn.className="LayeredDigraphLayout",Zn.CycleDepthFirst=Wp,Zn.CycleGreedy=em,Zn.CycleFromLayers=Vd,Zn.LayerOptimalLinkLength=Yp,Zn.LayerLongestPathSink=Vw,Zn.LayerLongestPathSource=jw,Zn.InitDepthFirstOut=Y1,Zn.InitDepthFirstIn=zw,Zn.InitNaive=Hw,Zn.AggressiveNone=Uw,Zn.AggressiveLess=$1,Zn.AggressiveMore=Gw,Zn.PackNone=0,Zn.PackExpand=1,Zn.PackStraighten=2,Zn.PackMedian=4,Zn.PackAll=15,$p.className="SegInfo",et(Mn,cr),Mn.prototype.createVertex=function(){return new bg(this)},Mn.prototype.createEdge=function(){return new tc(this)},Mn.className="LayeredDigraphNetwork",et(bg,Io),bg.prototype.serializeVertexProperties=function(t,e){Io.prototype.serializeVertexProperties.call(this,t,e),t.layer=this.layer,t.column=this.column,t.index=this.index,t.component=this.component,t.near=this.near?be(this.near):null,t.valid=this.valid,t.Cg=this.Cg,t.finish=this.finish,t.wf=this.wf,t.Nk=this.Nk,t.Mk=this.Mk},bg.prototype.Cq=function(t,e,o,a){Io.prototype.Cq.call(this,t,e,o,a),this.layer=t.layer,this.column=t.column,this.index=t.index,this.component=t.component,(e=e.get(t.near))&&(this.near=e),this.valid=t.valid,this.Cg=t.Cg,this.finish=t.finish,this.wf=t.wf,this.Nk=t.Nk,this.Mk=t.Mk},X.Object.defineProperties(bg.prototype,{layer:{get:function(){return this.Fi},set:function(t){this.Fi!==t&&(this.Fi=t)}},column:{get:function(){return this.Rg},set:function(t){this.Rg!==t&&(this.Rg=t)}},index:{get:function(){return this.Ra},set:function(t){this.Ra!==t&&(this.Ra=t)}},component:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t)}},near:{get:function(){return this.T},set:function(t){this.T!==t&&(this.T=t)}}}),bg.className="LayeredDigraphVertex",et(tc,Xs),tc.prototype.serializeEdgeProperties=function(t,e){Xs.prototype.serializeEdgeProperties.call(this,t,e),t.valid=this.valid,t.rev=this.rev,t.forest=this.forest,t.portFromPos=this.portFromPos,t.portToPos=this.portToPos,t.portFromColOffset=this.portFromColOffset,t.portToColOffset=this.portToColOffset},tc.prototype.deserializeEdgeProperties=function(t,e,o,a){Xs.prototype.deserializeEdgeProperties.call(this,t,e,o,a),this.valid=t.valid,this.rev=t.rev,this.forest=t.forest,this.portFromPos=t.portFromPos,this.portToPos=t.portToPos,this.portFromColOffset=t.portFromColOffset,this.portToColOffset=t.portToColOffset},X.Object.defineProperties(tc.prototype,{fromVertex:{get:function(){return this.Yc},set:function(t){this.Yc!==t&&(this.Yc=t)}},toVertex:{get:function(){return this.ed},set:function(t){this.ed!==t&&(this.ed=t)}},valid:{get:function(){return this.eb},set:function(t){this.eb!==t&&(this.eb=t)}},rev:{get:function(){return this.La},set:function(t){this.La!==t&&(this.La=t)}},forest:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t)}},portFromPos:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t)}},portToPos:{get:function(){return this.Ka},set:function(t){this.Ka!==t&&(this.Ka=t)}},portFromColOffset:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},portToColOffset:{get:function(){return this.T},set:function(t){this.T!==t&&(this.T=t)}}}),tc.className="LayeredDigraphEdge",et(Cn,Hn),Cn.prototype.cloneProtected=function(t){Hn.prototype.cloneProtected.call(this,t),t.vp=this.vp,t.oq=this.oq,t.ts=this.ts,t.jd=this.jd,t.Eb=this.Eb,t.Pd.assign(this.Pd),t.U.copyInheritedPropertiesFrom(this.U),t.V.copyInheritedPropertiesFrom(this.V)},Cn.prototype.jb=function(t){t.classType===Cn?0===t.name.indexOf("Alignment")?this.alignment=t:0===t.name.indexOf("Arrangement")?this.arrangement=t:0===t.name.indexOf("Compaction")?this.compaction=t:0===t.name.indexOf("Path")?this.path=t:0===t.name.indexOf("Sorting")?this.sorting=t:0===t.name.indexOf("Style")?this.treeStyle=t:z("Unknown enum value: "+t):Hn.prototype.jb.call(this,t)},Cn.prototype.createNetwork=function(){return new Wc(this)},Cn.prototype.makeNetwork=function(t){function e(a){if(a instanceof Fe)return!a.isLinkLabel&&"Comment"!==a.category;if(a instanceof We){var h=a.fromNode;return null!==h&&!h.isLinkLabel&&"Comment"!==h.category&&!(null===(a=a.toNode)||a.isLinkLabel||"Comment"===a.category)}return!1}var o=this.createNetwork();return t instanceof Ee?(o.Ag(t.nodes,!0,e),o.Ag(t.links,!0,e)):o.Ag(t instanceof hi?t.memberParts:t.iterator,!1,e),o},Cn.prototype.doLayout=function(t){null===this.network&&(this.network=this.makeNetwork(t)),this.arrangement!==An&&(this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin));var e=this.diagram;if(null===e&&t instanceof Ee&&(e=t),this.kd=this.path===Xw&&null!==e?e.isTreePathToChildren?ic:Cg:this.path===Xw?ic:this.path,0<this.network.vertexes.count){for(this.network.Bq(),t=this.network.vertexes.iterator;t.next();)(e=t.value).initialized=!1,e.level=0,e.parent=null,e.children=[];if(0<this.Jb.count){for(t=new Ht,e=this.Jb.iterator;e.next();){var o=e.value;o instanceof Fe?null!==(o=this.network.kj(o))&&t.add(o):o instanceof Sh&&t.add(o)}this.Jb=t}for(0===this.Jb.count&&this.findRoots(),t=this.Jb.copy().iterator;t.next();)(e=t.value).initialized||(e.initialized=!0,Ww(this,e));for(e=this.network.vertexes,t=null;0<(t=LD(e)).count;)null!==(e=G2(this,t))&&this.Jb.add(e),e.initialized=!0,Ww(this,e),e=t;for(t=this.Jb.iterator;t.next();)(e=t.value)instanceof Sh&&R_(this,e);for(t=this.Jb.iterator;t.next();)(e=t.value)instanceof Sh&&Y2(this,e);for(t=this.Jb.iterator;t.next();)(e=t.value)instanceof Sh&&$2(this,e);if(this.Fv(),this.layerStyle===Kp){for(t=[],e=this.network.vertexes.iterator;e.next();){var a=(o=e.value).parent;null===a&&(a=o),a=0===a.angle||180===a.angle;var h=t[o.level];void 0===h&&(h=0),t[o.level]=Math.max(h,a?o.width:o.height)}for(e=0;e<t.length;e++)void 0===t[e]&&(t[e]=0);for(this.nx=t,e=this.network.vertexes.iterator;e.next();)null===(a=(o=e.value).parent)&&(a=o),0===a.angle||180===a.angle?(180===a.angle&&(o.focusX+=t[o.level]-o.width),o.width=t[o.level]):(270===a.angle&&(o.focusY+=t[o.level]-o.height),o.height=t[o.level])}else if(this.layerStyle===V_)for(t=this.network.vertexes.iterator;t.next();){for(o=0===(e=t.value).angle||180===e.angle,a=-1,h=0;h<e.children.length;h++){var c=e.children[h];a=Math.max(a,o?c.width:c.height)}if(0<=a)for(h=0;h<e.children.length;h++)c=e.children[h],o?(180===e.angle&&(c.focusX+=a-c.width),c.width=a):(270===e.angle&&(c.focusY+=a-c.height),c.height=a)}for(t=this.Jb.iterator;t.next();)(e=t.value)instanceof Sh&&this.layoutTree(e);this.arrangeTrees(),this.updateParts()}this.network=null,this.Jb=new Ht,this.isValidLayout=!0},Cn.prototype.findRoots=function(){for(var t=this.network.vertexes,e=t.iterator;e.next();){var o=e.value;switch(this.kd){case ic:0===o.sourceEdges.count&&this.Jb.add(o);break;case Cg:0===o.destinationEdges.count&&this.Jb.add(o);break;default:z("Unhandled path value "+this.kd.toString())}}0===this.Jb.count&&null!==(t=G2(this,t))&&this.Jb.add(t)},Cn.prototype.removeChild=function(t,e){if(null!==t&&null!==e){for(var o=t.children,a=0,h=0;h<o.length;h++)o[h]===e&&a++;if(0<a){a=Array(o.length-a);for(var c=h=0;c<o.length;c++)o[c]!==e&&(a[h++]=o[c]);t.children=a}}},Cn.prototype.initializeTreeVertexValues=function(t){if(t.copyInheritedPropertiesFrom(function(t,e){switch(t.oq){default:return null!==e.parent?e.parent:t.U;case B_:return null===e.parent?t.U:null===e.parent.parent?t.V:e.parent;case Q1:return null!==e.parent?null!==e.parent.parent?e.parent.parent:t.V:t.U;case Pi:var o=!0;if(0===e.childrenCount)o=!1;else for(var a=e.children,h=a.length,c=0;c<h;c++)if(0<a[c].childrenCount){o=!1;break}return o&&null!==e.parent?t.V:null!==e.parent?e.parent:t.U}}(this,t)),null!==t.parent&&t.parent.alignment===Hf){for(var e=t.angle,o=t.parent.children,a=0;a<o.length&&t!==o[a];)a++;a%2==0?a!==o.length-1&&(e=90===e?180:180===e?270:270===e?180:270):e=90===e?0:180===e?90:270===e?0:90,t.angle=e}t.initialized=!0},Cn.prototype.assignTreeVertexValues=function(){},Cn.prototype.sortTreeVertexChildren=function(t){switch(t.sorting){case xy:break;case Z1:t.children.reverse();break;case q1:t.children.sort(t.comparer);break;case J1:t.children.sort(t.comparer),t.children.reverse();break;default:z("Unhandled sorting value "+t.sorting.toString())}},Cn.prototype.Fv=function(){if(this.comments)for(var t=this.network.vertexes.iterator;t.next();)this.addComments(t.value)},Cn.prototype.addComments=function(t){var e=t.angle,o=t.parent,a=0,h=!1;null!==o&&(a=o.angle,h=jd(h=o.alignment)),e=90===e||270===e,a=90===a||270===a,o=0===t.childrenCount;var c=0,g=0,_=0,k=t.commentSpacing;if(null!==t.node)for(var P=t.node.Sv();P.next();){var F=P.value;"Comment"===F.category&&F.canLayout()&&(null===t.comments&&(t.comments=[]),t.comments.push(F),F.Ta(),F=F.measuredBounds,e&&!o||!h&&!a&&o||h&&a&&o?(c=Math.max(c,F.width),g+=F.height+Math.abs(_)):(c+=F.width+Math.abs(_),g=Math.max(g,F.height)),_=k)}null!==t.comments&&(e&&!o||!h&&!a&&o||h&&a&&o?(c+=Math.abs(t.commentMargin),g=Math.max(0,g-t.height)):(g+=Math.abs(t.commentMargin),c=Math.max(0,c-t.width)),h=te.allocAt(0,0,t.bounds.width+c,t.bounds.height+g),t.bounds=h,te.free(h))},Cn.prototype.layoutComments=function(t){if(null!==t.comments){var e=t.node.measuredBounds,o=t.parent,a=t.angle,h=0,c=!1;null!==o&&(h=o.angle,c=jd(c=o.alignment)),a=90===a||270===a,o=90===h||270===h;for(var g=0===t.childrenCount,_=X2(t),k=0,P=t.comments,F=P.length,j=rt.alloc(),ut=0;ut<F;ut++){var xt=P[ut],pt=xt.measuredBounds;if(a&&!g||!c&&!o&&g||c&&o&&g){if(135<h&&!c||o&&_)if(0<=t.commentMargin)for(j.h(t.bounds.x-t.commentMargin-pt.width,t.bounds.y+k),xt.move(j),xt=xt.Hd();xt.next();){var Pt=xt.value;Pt.fromSpot=os,Pt.toSpot=Nr}else for(j.h(t.bounds.x+2*t.focus.x-t.commentMargin,t.bounds.y+k),xt.move(j),xt=xt.Hd();xt.next();)(Pt=xt.value).fromSpot=Nr,Pt.toSpot=os;else if(0<=t.commentMargin)for(j.h(t.bounds.x+2*t.focus.x+t.commentMargin,t.bounds.y+k),xt.move(j),xt=xt.Hd();xt.next();)(Pt=xt.value).fromSpot=Nr,Pt.toSpot=os;else for(j.h(t.bounds.x+t.commentMargin-pt.width,t.bounds.y+k),xt.move(j),xt=xt.Hd();xt.next();)(Pt=xt.value).fromSpot=os,Pt.toSpot=Nr;k=0<=t.commentSpacing?k+(pt.height+t.commentSpacing):k+(t.commentSpacing-pt.height)}else{if(135<h&&!c||!o&&_)if(0<=t.commentMargin)for(j.h(t.bounds.x+k,t.bounds.y-t.commentMargin-pt.height),xt.move(j),xt=xt.Hd();xt.next();)(Pt=xt.value).fromSpot=va,Pt.toSpot=ss;else for(j.h(t.bounds.x+k,t.bounds.y+2*t.focus.y-t.commentMargin),xt.move(j),xt=xt.Hd();xt.next();)(Pt=xt.value).fromSpot=ss,Pt.toSpot=va;else if(0<=t.commentMargin)for(j.h(t.bounds.x+k,t.bounds.y+2*t.focus.y+t.commentMargin),xt.move(j),xt=xt.Hd();xt.next();)(Pt=xt.value).fromSpot=ss,Pt.toSpot=va;else for(j.h(t.bounds.x+k,t.bounds.y+t.commentMargin-pt.height),xt.move(j),xt=xt.Hd();xt.next();)(Pt=xt.value).fromSpot=va,Pt.toSpot=ss;k=0<=t.commentSpacing?k+(pt.width+t.commentSpacing):k+(t.commentSpacing-pt.width)}}if(rt.free(j),e=k-t.commentSpacing-(a?e.height:e.width),this.kd===ic)for(t=t.destinationEdges;t.next();)null===(h=t.value.link)||h.isAvoiding||(h.fromEndSegmentLength=0<e?e:NaN);else for(t=t.sourceEdges;t.next();)null===(h=t.value.link)||h.isAvoiding||(h.toEndSegmentLength=0<e?e:NaN)}},Cn.prototype.layoutTree=function(t){if(null!==t){for(var e=t.children,o=e.length,a=0;a<o;a++)this.layoutTree(e[a]);switch(t.compaction){case F_:K2(this,t);break;case ye:if(t.alignment===Hf)K2(this,t);else if(0===t.childrenCount)o=!1,e=0,null!==(a=t.parent)&&(e=a.angle,o=jd(o=a.alignment)),a=X2(t),t.S.h(0,0),t.wa.h(t.width,t.height),null===t.parent||null===t.comments||(180!==e&&270!==e||o)&&!a?t.fa.h(0,0):180===e&&!o||(90===e||270===e)&&a?t.fa.h(t.width-2*t.focus.x,0):t.fa.h(0,t.height-2*t.focus.y),t.Pq=null,t.br=null;else{var h=Jh(t);e=90===h||270===h;var c=0,g=t.children,_=g.length;for(o=0;o<_;o++)a=g[o],c=Math.max(c,e?a.wa.width:a.wa.height);var k=t.alignment,P=k===rc,F=jd(k),j=Math.max(0,t.breadthLimit);o=Mg(t);var ut=t.nodeSpacing,xt=ec(t),pt=t.rowSpacing,Pt=0;(k===nc||P||t.Sm||t.Tm&&1===t.maxGenerationCount)&&(Pt=Math.max(0,t.rowIndent)),a=t.width;var Xt=t.height,$t=0,ie=0,se=0,fe=null,we=null,ti=0,Ci=0,ui=0,Bi=0,mi=0,ei=0,kn=0,un=0;if(F&&!Yw(k)&&135<h&&g.reverse(),Yw(k))if(1<_)for(var $n=0;$n<_;$n++)$n%2==0&&$n!==_-1&&(un=Math.max(un,e?g[$n].wa.width:g[$n].wa.height));else 1===_&&(un=e?g[0].wa.width:g[0].wa.height);if(F){switch(k){case Uc:un=(ie=135>h?BD(t,g,un,$t,ie):Z2(t,g,un,$t,ie)).x,$t=ie.width,ie=ie.height;break;case Gc:for(fe=0;fe<_;fe++)j=(we=g[fe]).wa,se=0===ei?0:pt,e?(we.S.h(c-j.width,Bi+se),$t=Math.max($t,j.width),ie=Math.max(ie,Bi+se+j.height),Bi+=se+j.height):(we.S.h(ui+se,c-j.height),$t=Math.max($t,ui+se+j.width),ie=Math.max(ie,j.height),ui+=se+j.width),ei++;break;case Uf:for(fe=0;fe<_;fe++)c=(we=g[fe]).wa,j=0===ei?0:pt,e?(we.S.h(ut/2+t.focus.x,Bi+j),$t=Math.max($t,c.width),ie=Math.max(ie,Bi+j+c.height),Bi+=j+c.height):(we.S.h(ui+j,ut/2+t.focus.y),$t=Math.max($t,ui+j+c.width),ie=Math.max(ie,c.height),ui+=j+c.width),ei++}fe=hl(this,2),we=hl(this,2),e?(fe[0].h(0,0),fe[1].h(0,ie),we[0].h($t,0)):(fe[0].h(0,0),fe[1].h($t,0),we[0].h(0,ie)),we[1].h($t,ie)}else for($n=0;$n<_;$n++){var uo=g[$n],ns=uo.wa;if(e){0<j&&0<ei&&ui+ut+ns.width>j&&(ui<c&&_g(t,k,c-ui,0,kn,$n-1),mi++,ei=0,kn=$n,se=ie,ui=0,Bi=135<h?-ie-pt:ie+pt),$w(this,uo,0,Bi);var Wr=0;if(0===ei)we=uo.br,ti=ns.width,Ci=ns.height,(null===(fe=uo.Pq)||null===we||h!==Jh(uo))&&(fe=hl(this,2),we=hl(this,2),fe[0].h(0,0),fe[1].h(0,Ci),we[0].h(ti,0),we[1].h(ti,Ci));else{var Rr=u();Wr=(Ci=VD(this,t,uo,fe,we,ti,Ci,Rr)).x,fe=Rr[0],we=Rr[1],ti=Ci.width,Ci=Ci.height,m(Rr),ui<ns.width&&0>Wr&&(yy(t,-Wr,0,kn,$n-1),K1(fe,-Wr,0),K1(we,-Wr,0),Wr=0)}uo.S.h(Wr,Bi),$t=Math.max($t,ti),ie=Math.max(ie,se+(0===mi?0:pt)+ns.height),ui=ti}else 0<j&&0<ei&&Bi+ut+ns.height>j&&(Bi<c&&_g(t,k,0,c-Bi,kn,$n-1),mi++,ei=0,kn=$n,se=$t,Bi=0,ui=135<h?-$t-pt:$t+pt),$w(this,uo,ui,0),Wr=0,0===ei?(we=uo.br,ti=ns.width,Ci=ns.height,(null===(fe=uo.Pq)||null===we||h!==Jh(uo))&&(fe=hl(this,2),we=hl(this,2),fe[0].h(0,0),fe[1].h(ti,0),we[0].h(0,Ci),we[1].h(ti,Ci))):(Wr=(Ci=VD(this,t,uo,fe,we,ti,Ci,Rr=u())).x,fe=Rr[0],we=Rr[1],ti=Ci.width,Ci=Ci.height,m(Rr),Bi<ns.height&&0>Wr&&(yy(t,0,-Wr,kn,$n-1),K1(fe,0,-Wr),K1(we,0,-Wr),Wr=0)),uo.S.h(ui,Wr),ie=Math.max(ie,Ci),$t=Math.max($t,se+(0===mi?0:pt)+ns.width),Bi=Ci;ei++}switch(0<mi&&(e?(ie+=Math.max(0,o),ui<$t&&_g(t,k,$t-ui,0,kn,_-1),0<Pt&&(P||yy(t,Pt,0,0,_-1),$t+=Pt)):($t+=Math.max(0,o),Bi<ie&&_g(t,k,0,ie-Bi,kn,_-1),0<Pt&&(P||yy(t,0,Pt,0,_-1),ie+=Pt))),Pt=P=0,k){case Sg:e?P+=$t/2-t.focus.x-xt/2:Pt+=ie/2-t.focus.y-xt/2;break;case Dg:0<mi?e?P+=$t/2-t.focus.x-xt/2:Pt+=ie/2-t.focus.y-xt/2:e?P+=(un=g[0].S.x+g[0].fa.x)+(g[_-1].S.x+g[_-1].fa.x+2*g[_-1].focus.x-un)/2-t.focus.x-xt/2:Pt+=(un=g[0].S.y+g[0].fa.y)+(g[_-1].S.y+g[_-1].fa.y+2*g[_-1].focus.y-un)/2-t.focus.y-xt/2;break;case nc:e?(P-=xt,$t+=xt):(Pt-=xt,ie+=xt);break;case rc:e?(P+=$t-t.width+xt,$t+=xt):(Pt+=ie-t.height+xt,ie+=xt);break;case Uc:e?P+=1<_?un+ut/2-t.focus.x:g[0].focus.x-t.focus.x+g[0].fa.x:Pt+=1<_?un+ut/2-t.focus.y:g[0].focus.y-t.focus.y+g[0].fa.y;break;case Gc:e?P+=$t+ut/2-t.focus.x:Pt+=ie+ut/2-t.focus.y;break;case Uf:break;default:z("Unhandled alignment value "+k.toString())}for(xt=0;xt<_;xt++)un=g[xt],e?un.S.h(un.S.x+un.fa.x-P,un.S.y+(135<h?(F?-ie:-un.wa.height)+un.fa.y-o:Xt+o+un.fa.y)):un.S.h(un.S.x+(135<h?(F?-$t:-un.wa.width)+un.fa.x-o:a+o+un.fa.x),un.S.y+un.fa.y-Pt);if(_=g=0,F?e?($t=X1(t,$t,P),0>P&&(P=0),135<h&&(Pt+=ie+o),ie+=Xt+o,k===Uf&&(g+=ut/2+t.focus.x),_+=Xt+o):(135<h&&(P+=$t+o),$t+=a+o,ie=O_(t,ie,Pt),0>Pt&&(Pt=0),k===Uf&&(_+=ut/2+t.focus.y),g+=a+o):e?(null===t.comments?a>$t&&(g=($t=q2(k,a-$t,0)).x,_=$t.y,$t=a,P=0):$t=X1(t,$t,P),0>P&&(g-=P,P=0),135<h&&(Pt+=ie+o),ie=Math.max(Math.max(ie,Xt),ie+Xt+o),_+=Xt+o):(135<h&&(P+=$t+o),$t=Math.max(Math.max($t,a),$t+a+o),null===t.comments?Xt>ie&&(g=(ie=q2(k,0,Xt-ie)).x,_=ie.y,ie=Xt,Pt=0):ie=O_(t,ie,Pt),0>Pt&&(_-=Pt,Pt=0),g+=a+o),0<mi)h=hl(this,4),mi=hl(this,4),e?(h[2].h(0,Xt+o),h[3].h(h[2].x,ie),mi[2].h($t,h[2].y),mi[3].h(mi[2].x,h[3].y)):(h[2].h(a+o,0),h[3].h($t,h[2].y),mi[2].h(h[2].x,ie),mi[3].h(h[3].x,mi[2].y));else{for(h=hl(this,fe.length+2),mi=hl(this,we.length+2),k=0;k<fe.length;k++)h[k+2].h((F=fe[k]).x+g,F.y+_);for(k=0;k<we.length;k++)mi[k+2].h((F=we[k]).x+g,F.y+_)}e?(h[0].h(P,0),h[1].h(h[0].x,Xt),h[2].y<h[1].y&&(h[2].x>h[0].x?h[2].assign(h[1]):h[1].assign(h[2])),h[3].y<h[2].y&&(h[3].x>h[0].x?h[3].assign(h[2]):h[2].assign(h[3])),mi[0].h(P+a,0),mi[1].h(mi[0].x,Xt),mi[2].y<mi[1].y&&(mi[2].x<mi[0].x?mi[2].assign(mi[1]):mi[1].assign(mi[2])),mi[3].y<mi[2].y&&(mi[3].x<mi[0].x?mi[3].assign(mi[2]):mi[2].assign(mi[3])),h[2].y-=o/2,mi[2].y-=o/2):(h[0].h(0,Pt),h[1].h(a,h[0].y),h[2].x<h[1].x&&(h[2].y>h[0].y?h[2].assign(h[1]):h[1].assign(h[2])),h[3].x<h[2].x&&(h[3].y>h[0].y?h[3].assign(h[2]):h[2].assign(h[3])),mi[0].h(0,Pt+Xt),mi[1].h(a,mi[0].y),mi[2].x<mi[1].x&&(mi[2].y<mi[0].y?mi[2].assign(mi[1]):mi[1].assign(mi[2])),mi[3].x<mi[2].x&&(mi[3].y<mi[0].y?mi[3].assign(mi[2]):mi[2].assign(mi[3])),h[2].x-=o/2,mi[2].x-=o/2),bl(this,fe),bl(this,we),t.Pq=h,t.br=mi,t.fa.h(P,Pt),t.wa.h($t,ie)}break;default:z("Unhandled compaction value "+t.compaction.toString())}}},Cn.prototype.arrangeTrees=function(){if(this.Eb===An)for(var t=this.Jb.iterator;t.next();){var e=t.value;if(e instanceof Sh){var o=e.node;if(null!==o){var a=o.position;o=a.x,a=a.y,isFinite(o)||(o=0),isFinite(a)||(a=0),N_(this,e,o,a)}}}else{for(t=[],e=this.Jb.iterator;e.next();)(o=e.value)instanceof Sh&&t.push(o);switch(this.sorting){case xy:break;case Z1:t.reverse();break;case q1:t.sort(this.comparer);break;case J1:t.sort(this.comparer),t.reverse();break;default:z("Unhandled sorting value "+this.sorting.toString())}for(e=(o=this.arrangementOrigin).x,o=o.y,a=0;a<t.length;a++){var h=t[a];switch(N_(this,h,e+h.fa.x,o+h.fa.y),this.Eb){case Xe:o+=h.wa.height+this.Pd.height;break;case Ke:e+=h.wa.width+this.Pd.width;break;default:z("Unhandled arrangement value "+this.Eb.toString())}}}},Cn.prototype.commitLayout=function(){this.Dw(),this.commitNodes(),this.Iv(),this.isRouting&&this.commitLinks()},Cn.prototype.commitNodes=function(){for(var t=this.network.vertexes.iterator;t.next();)t.value.commit();for(t.reset();t.next();)this.layoutComments(t.value)},Cn.prototype.Iv=function(){if(this.layerStyle===Kp){for(var t=this.nx,e=[],o=null,a=this.network.vertexes.iterator;a.next();){var h=a.value;null===o?o=h.bounds.copy():o.Rc(h.bounds);var c=e[h.level];c=void 0===c?Mg(h):Math.max(c,Mg(h)),e[h.level]=c}for(a=0;a<e.length;a++)void 0===e[a]&&(e[a]=0);if(90===this.angle||270===this.angle?(o.Jc(this.nodeSpacing/2,this.layerSpacing),a=new rt(-this.nodeSpacing/2,-this.layerSpacing/2)):(o.Jc(this.layerSpacing,this.nodeSpacing/2),a=new rt(-this.layerSpacing/2,-this.nodeSpacing/2)),h=[],o=90===this.angle||270===this.angle?o.width:o.height,c=0,180===this.angle||270===this.angle)for(var g=0;g<t.length;g++)c+=t[g]+e[g];for(g=0;g<t.length;g++){var _=t[g]+e[g];270===this.angle?h.push(new te(0,c-=_,o,_)):90===this.angle?(h.push(new te(0,c,o,_)),c+=_):180===this.angle?h.push(new te(c-=_,0,_,o)):(h.push(new te(c,0,_,o)),c+=_)}this.commitLayers(h,a)}},Cn.prototype.commitLayers=function(){},Cn.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},Cn.prototype.Dw=function(){for(var t=this.Jb.iterator;t.next();){var e=t.value;e instanceof Sh&&L_(this,e)}},Cn.prototype.setPortSpots=function(t){var e=t.alignment;if(jd(e)){var o=this.kd===ic,a=Jh(t);switch(a){case 0:var h=Nr;break;case 90:h=ss;break;case 180:h=os;break;default:h=va}var c=t.children,g=c.length;switch(e){case Uc:case Hf:for(e=0;e<g;e++){var _=c[e];if(null!==(_=(o?_.sourceEdges:_.destinationEdges).first())&&null!==(_=_.link)){var k=90===a||270===a?os:va;if(1===g||e===g-1&&g%2==1)switch(a){case 0:k=os;break;case 90:k=va;break;case 180:k=Nr;break;default:k=ss}else e%2==0&&(k=90===a||270===a?Nr:ss);o?(t.setsPortSpot&&(_.fromSpot=h),t.setsChildPortSpot&&(_.toSpot=k)):(t.setsPortSpot&&(_.fromSpot=k),t.setsChildPortSpot&&(_.toSpot=h))}}break;case Gc:for(a=90===a||270===a?Nr:ss,c=o?t.destinationEdges:t.sourceEdges;c.next();)null!==(g=c.value.link)&&(o?(t.setsPortSpot&&(g.fromSpot=h),t.setsChildPortSpot&&(g.toSpot=a)):(t.setsPortSpot&&(g.fromSpot=a),t.setsChildPortSpot&&(g.toSpot=h)));break;case Uf:for(a=90===a||270===a?os:va,c=o?t.destinationEdges:t.sourceEdges;c.next();)null!==(g=c.value.link)&&(o?(t.setsPortSpot&&(g.fromSpot=h),t.setsChildPortSpot&&(g.toSpot=a)):(t.setsPortSpot&&(g.fromSpot=a),t.setsChildPortSpot&&(g.toSpot=h)))}}else if(o=Jh(t),this.kd===ic){for(h=t.destinationEdges;h.next();)if(null!==(a=h.value.link)){if(t.setsPortSpot)if(t.portSpot.Mb())switch(o){case 0:a.fromSpot=Nr;break;case 90:a.fromSpot=ss;break;case 180:a.fromSpot=os;break;default:a.fromSpot=va}else a.fromSpot=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Mb())switch(o){case 0:a.toSpot=os;break;case 90:a.toSpot=va;break;case 180:a.toSpot=Nr;break;default:a.toSpot=ss}else a.toSpot=t.childPortSpot}}else for(h=t.sourceEdges;h.next();)if(null!==(a=h.value.link)){if(t.setsPortSpot)if(t.portSpot.Mb())switch(o){case 0:a.toSpot=Nr;break;case 90:a.toSpot=ss;break;case 180:a.toSpot=os;break;default:a.toSpot=va}else a.toSpot=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Mb())switch(o){case 0:a.fromSpot=os;break;case 90:a.fromSpot=va;break;case 180:a.fromSpot=Nr;break;default:a.fromSpot=ss}else a.fromSpot=t.childPortSpot}},X.Object.defineProperties(Cn.prototype,{roots:{get:function(){return this.Jb},set:function(t){this.Jb!==t&&(this.Jb=t,this.C())}},path:{get:function(){return this.vp},set:function(t){this.vp!==t&&(this.vp=t,this.C())}},treeStyle:{get:function(){return this.oq},set:function(t){this.Eb===t||t!==im&&t!==Q1&&t!==Pi&&t!==B_||(this.oq=t,this.C())}},layerStyle:{get:function(){return this.ts},set:function(t){this.Eb===t||t!==J2&&t!==V_&&t!==Kp||(this.ts=t,this.C())}},comments:{get:function(){return this.jd},set:function(t){this.jd!==t&&(this.jd=t,this.C())}},arrangement:{get:function(){return this.Eb},set:function(t){this.Eb===t||t!==Xe&&t!==Ke&&t!==An||(this.Eb=t,this.C())}},arrangementSpacing:{get:function(){return this.Pd},set:function(t){this.Pd.w(t)||(this.Pd.assign(t),this.C())}},rootDefaults:{get:function(){return this.U},set:function(t){this.U!==t&&(this.U=t,this.C())}},alternateDefaults:{get:function(){return this.V},set:function(t){this.V!==t&&(this.V=t,this.C())}},sorting:{get:function(){return this.U.sorting},set:function(t){this.U.sorting===t||t!==xy&&t!==Z1&&t!==q1&&!J1||(this.U.sorting=t,this.C())}},comparer:{get:function(){return this.U.comparer},set:function(t){this.U.comparer!==t&&(this.U.comparer=t,this.C())}},angle:{get:function(){return this.U.angle},set:function(t){this.U.angle!==t&&(0===t||90===t||180===t||270===t?(this.U.angle=t,this.C()):z("TreeLayout.angle must be 0, 90, 180, or 270"))}},alignment:{get:function(){return this.U.alignment},set:function(t){this.U.alignment!==t&&(this.U.alignment=t,this.C())}},nodeIndent:{get:function(){return this.U.nodeIndent},set:function(t){this.U.nodeIndent!==t&&0<=t&&(this.U.nodeIndent=t,this.C())}},nodeIndentPastParent:{get:function(){return this.U.nodeIndentPastParent},set:function(t){this.U.nodeIndentPastParent!==t&&0<=t&&1>=t&&(this.U.nodeIndentPastParent=t,this.C())}},nodeSpacing:{get:function(){return this.U.nodeSpacing},set:function(t){this.U.nodeSpacing!==t&&(this.U.nodeSpacing=t,this.C())}},layerSpacing:{get:function(){return this.U.layerSpacing},set:function(t){this.U.layerSpacing!==t&&(this.U.layerSpacing=t,this.C())}},layerSpacingParentOverlap:{get:function(){return this.U.layerSpacingParentOverlap},set:function(t){this.U.layerSpacingParentOverlap!==t&&0<=t&&1>=t&&(this.U.layerSpacingParentOverlap=t,this.C())}},compaction:{get:function(){return this.U.compaction},set:function(t){this.U.compaction===t||t!==F_&&t!==ye||(this.U.compaction=t,this.C())}},breadthLimit:{get:function(){return this.U.breadthLimit},set:function(t){this.U.breadthLimit!==t&&0<=t&&(this.U.breadthLimit=t,this.C())}},rowSpacing:{get:function(){return this.U.rowSpacing},set:function(t){this.U.rowSpacing!==t&&(this.U.rowSpacing=t,this.C())}},rowIndent:{get:function(){return this.U.rowIndent},set:function(t){this.U.rowIndent!==t&&0<=t&&(this.U.rowIndent=t,this.C())}},commentSpacing:{get:function(){return this.U.commentSpacing},set:function(t){this.U.commentSpacing!==t&&(this.U.commentSpacing=t,this.C())}},commentMargin:{get:function(){return this.U.commentMargin},set:function(t){this.U.commentMargin!==t&&(this.U.commentMargin=t,this.C())}},setsPortSpot:{get:function(){return this.U.setsPortSpot},set:function(t){this.U.setsPortSpot!==t&&(this.U.setsPortSpot=t,this.C())}},portSpot:{get:function(){return this.U.portSpot},set:function(t){this.U.portSpot.w(t)||(this.U.portSpot=t,this.C())}},setsChildPortSpot:{get:function(){return this.U.setsChildPortSpot},set:function(t){this.U.setsChildPortSpot!==t&&(this.U.setsChildPortSpot=t,this.C())}},childPortSpot:{get:function(){return this.U.childPortSpot},set:function(t){this.U.childPortSpot.w(t)||(this.U.childPortSpot=t,this.C())}},alternateSorting:{get:function(){return this.V.sorting},set:function(t){this.V.sorting===t||t!==xy&&t!==Z1&&t!==q1&&!J1||(this.V.sorting=t,this.C())}},alternateComparer:{get:function(){return this.V.comparer},set:function(t){this.V.comparer!==t&&(this.V.comparer=t,this.C())}},alternateAngle:{get:function(){return this.V.angle},set:function(t){this.V.angle===t||0!==t&&90!==t&&180!==t&&270!==t||(this.V.angle=t,this.C())}},alternateAlignment:{get:function(){return this.V.alignment},set:function(t){this.V.alignment!==t&&(this.V.alignment=t,this.C())}},alternateNodeIndent:{get:function(){return this.V.nodeIndent},set:function(t){this.V.nodeIndent!==t&&0<=t&&(this.V.nodeIndent=t,this.C())}},alternateNodeIndentPastParent:{get:function(){return this.V.nodeIndentPastParent},set:function(t){this.V.nodeIndentPastParent!==t&&0<=t&&1>=t&&(this.V.nodeIndentPastParent=t,this.C())}},alternateNodeSpacing:{get:function(){return this.V.nodeSpacing},set:function(t){this.V.nodeSpacing!==t&&(this.V.nodeSpacing=t,this.C())}},alternateLayerSpacing:{get:function(){return this.V.layerSpacing},set:function(t){this.V.layerSpacing!==t&&(this.V.layerSpacing=t,this.C())}},alternateLayerSpacingParentOverlap:{get:function(){return this.V.layerSpacingParentOverlap},set:function(t){this.V.layerSpacingParentOverlap!==t&&0<=t&&1>=t&&(this.V.layerSpacingParentOverlap=t,this.C())}},alternateCompaction:{get:function(){return this.V.compaction},set:function(t){this.V.compaction===t||t!==F_&&t!==ye||(this.V.compaction=t,this.C())}},alternateBreadthLimit:{get:function(){return this.V.breadthLimit},set:function(t){this.V.breadthLimit!==t&&0<=t&&(this.V.breadthLimit=t,this.C())}},alternateRowSpacing:{get:function(){return this.V.rowSpacing},set:function(t){this.V.rowSpacing!==t&&(this.V.rowSpacing=t,this.C())}},alternateRowIndent:{get:function(){return this.V.rowIndent},set:function(t){this.V.rowIndent!==t&&0<=t&&(this.V.rowIndent=t,this.C())}},alternateCommentSpacing:{get:function(){return this.V.commentSpacing},set:function(t){this.V.commentSpacing!==t&&(this.V.commentSpacing=t,this.C())}},alternateCommentMargin:{get:function(){return this.V.commentMargin},set:function(t){this.V.commentMargin!==t&&(this.V.commentMargin=t,this.C())}},alternateSetsPortSpot:{get:function(){return this.V.setsPortSpot},set:function(t){this.V.setsPortSpot!==t&&(this.V.setsPortSpot=t,this.C())}},alternatePortSpot:{get:function(){return this.V.portSpot},set:function(t){this.V.portSpot.w(t)||(this.V.portSpot=t,this.C())}},alternateSetsChildPortSpot:{get:function(){return this.V.setsChildPortSpot},set:function(t){this.V.setsChildPortSpot!==t&&(this.V.setsChildPortSpot=t,this.C())}},alternateChildPortSpot:{get:function(){return this.V.childPortSpot},set:function(t){this.V.childPortSpot.w(t)||(this.V.childPortSpot=t,this.C())}}});var Xw=new wt(Cn,"PathDefault",-1),ic=new wt(Cn,"PathDestination",0),Cg=new wt(Cn,"PathSource",1),xy=new wt(Cn,"SortingForwards",10),Z1=new wt(Cn,"SortingReverse",11),q1=new wt(Cn,"SortingAscending",12),J1=new wt(Cn,"SortingDescending",13),Sg=new wt(Cn,"AlignmentCenterSubtrees",20),Dg=new wt(Cn,"AlignmentCenterChildren",21),nc=new wt(Cn,"AlignmentStart",22),rc=new wt(Cn,"AlignmentEnd",23),Uc=new wt(Cn,"AlignmentBus",24),Hf=new wt(Cn,"AlignmentBusBranching",25),Gc=new wt(Cn,"AlignmentTopLeftBus",26),Uf=new wt(Cn,"AlignmentBottomRightBus",27),F_=new wt(Cn,"CompactionNone",30),ye=new wt(Cn,"CompactionBlock",31),im=new wt(Cn,"StyleLayered",40),Pi=new wt(Cn,"StyleLastParents",41),Q1=new wt(Cn,"StyleAlternating",42),B_=new wt(Cn,"StyleRootOnly",43),Xe=new wt(Cn,"ArrangementVertical",50),Ke=new wt(Cn,"ArrangementHorizontal",51),An=new wt(Cn,"ArrangementFixedRoots",52),J2=new wt(Cn,"LayerIndividual",60),V_=new wt(Cn,"LayerSiblings",61),Kp=new wt(Cn,"LayerUniform",62);function Wc(t){cr.call(this,t)}function Sh(t){Io.call(this,t),this.Ka=!1,this.Cc=null,this.I=[],this.Sc=this.eb=this.T=this.La=0,this.jd=null,this.S=new rt(0,0),this.wa=new Ge(0,0),this.fa=new rt(0,0),this.Tm=this.Sm=this.ZA=!1,this.br=this.Pq=null,this.bd=xy,this.Wc=yw,this.Yb=0,this.yb=Dg,this.Ds=this.Cs=0,this.Es=20,this.ue=50,this.ss=0,this.Er=ye,this.wr=0,this.Rs=25,this.Dr=this.Qs=10,this.Cr=20,this.dt=!0,this.Ms=zs,this.ct=!0,this.zr=zs}function Ya(t){Xs.call(this,t),this.lv=new rt(0,0)}Cn.className="TreeLayout",Cn.PathDefault=Xw,Cn.PathDestination=ic,Cn.PathSource=Cg,Cn.SortingForwards=xy,Cn.SortingReverse=Z1,Cn.SortingAscending=q1,Cn.SortingDescending=J1,Cn.AlignmentCenterSubtrees=Sg,Cn.AlignmentCenterChildren=Dg,Cn.AlignmentStart=nc,Cn.AlignmentEnd=rc,Cn.AlignmentBus=Uc,Cn.AlignmentBusBranching=Hf,Cn.AlignmentTopLeftBus=Gc,Cn.AlignmentBottomRightBus=Uf,Cn.CompactionNone=F_,Cn.CompactionBlock=ye,Cn.StyleLayered=im,Cn.StyleLastParents=Pi,Cn.StyleAlternating=Q1,Cn.StyleRootOnly=B_,Cn.ArrangementVertical=Xe,Cn.ArrangementHorizontal=Ke,Cn.ArrangementFixedRoots=An,Cn.LayerIndividual=J2,Cn.LayerSiblings=V_,Cn.LayerUniform=Kp,et(Wc,cr),Wc.prototype.createVertex=function(){return new Sh(this)},Wc.prototype.createEdge=function(){return new Ya(this)},Wc.className="TreeNetwork",et(Sh,Io),Sh.prototype.copyInheritedPropertiesFrom=function(t){null!==t&&(this.bd=t.sorting,this.Wc=t.comparer,this.Yb=t.angle,this.yb=t.alignment,this.Cs=t.nodeIndent,this.Ds=t.nodeIndentPastParent,this.Es=t.nodeSpacing,this.ue=t.layerSpacing,this.ss=t.layerSpacingParentOverlap,this.Er=t.compaction,this.wr=t.breadthLimit,this.Rs=t.rowSpacing,this.Qs=t.rowIndent,this.Dr=t.commentSpacing,this.Cr=t.commentMargin,this.dt=t.setsPortSpot,this.Ms=t.portSpot,this.ct=t.setsChildPortSpot,this.zr=t.childPortSpot)},X.Object.defineProperties(Sh.prototype,{initialized:{get:function(){return this.Ka},set:function(t){this.Ka!==t&&(this.Ka=t)}},parent:{get:function(){return this.Cc},set:function(t){this.Cc!==t&&(this.Cc=t)}},children:{get:function(){return this.I},set:function(t){if(this.I!==t){if(null!==t)for(var e=t.length,o=0;o<e;o++);this.I=t}}},level:{get:function(){return this.La},set:function(t){this.La!==t&&(this.La=t)}},descendantCount:{get:function(){return this.T},set:function(t){this.T!==t&&(this.T=t)}},maxChildrenCount:{get:function(){return this.eb},set:function(t){this.eb!==t&&(this.eb=t)}},maxGenerationCount:{get:function(){return this.Sc},set:function(t){this.Sc!==t&&(this.Sc=t)}},comments:{get:function(){return this.jd},set:function(t){if(this.jd!==t){if(null!==t)for(var e=t.length,o=0;o<e;o++);this.jd=t}}},sorting:{get:function(){return this.bd},set:function(t){this.bd!==t&&(this.bd=t)}},comparer:{get:function(){return this.Wc},set:function(t){this.Wc!==t&&(this.Wc=t)}},angle:{get:function(){return this.Yb},set:function(t){this.Yb!==t&&(this.Yb=t)}},alignment:{get:function(){return this.yb},set:function(t){this.yb!==t&&(this.yb=t)}},nodeIndent:{get:function(){return this.Cs},set:function(t){this.Cs!==t&&(this.Cs=t)}},nodeIndentPastParent:{get:function(){return this.Ds},set:function(t){this.Ds!==t&&(this.Ds=t)}},nodeSpacing:{get:function(){return this.Es},set:function(t){this.Es!==t&&(this.Es=t)}},layerSpacing:{get:function(){return this.ue},set:function(t){this.ue!==t&&(this.ue=t)}},layerSpacingParentOverlap:{get:function(){return this.ss},set:function(t){this.ss!==t&&(this.ss=t)}},compaction:{get:function(){return this.Er},set:function(t){this.Er!==t&&(this.Er=t)}},breadthLimit:{get:function(){return this.wr},set:function(t){this.wr!==t&&(this.wr=t)}},rowSpacing:{get:function(){return this.Rs},set:function(t){this.Rs!==t&&(this.Rs=t)}},rowIndent:{get:function(){return this.Qs},set:function(t){this.Qs!==t&&(this.Qs=t)}},commentSpacing:{get:function(){return this.Dr},set:function(t){this.Dr!==t&&(this.Dr=t)}},commentMargin:{get:function(){return this.Cr},set:function(t){this.Cr!==t&&(this.Cr=t)}},setsPortSpot:{get:function(){return this.dt},set:function(t){this.dt!==t&&(this.dt=t)}},portSpot:{get:function(){return this.Ms},set:function(t){this.Ms.w(t)||(this.Ms=t)}},setsChildPortSpot:{get:function(){return this.ct},set:function(t){this.ct!==t&&(this.ct=t)}},childPortSpot:{get:function(){return this.zr},set:function(t){this.zr.w(t)||(this.zr=t)}},childrenCount:{get:function(){return this.children.length}},relativePosition:{get:function(){return this.S},set:function(t){this.S.set(t)}},subtreeSize:{get:function(){return this.wa},set:function(t){this.wa.set(t)}},subtreeOffset:{get:function(){return this.fa},set:function(t){this.fa.set(t)}}}),Sh.className="TreeVertex",et(Ya,Xs),Ya.prototype.commit=function(){var t=this.link;if(null!==t&&!t.isAvoiding){var e=this.network.layout,o=null,a=null;switch(e.kd){case ic:o=this.fromVertex,a=this.toVertex;break;case Cg:o=this.toVertex,a=this.fromVertex;break;default:z("Unhandled path value "+e.kd.toString())}if(null!==o&&null!==a)if(0!==(e=this.lv).x||0!==e.y||o.ZA){a=o.bounds;var h=Jh(o),c=Mg(o),g=o.rowSpacing;t.xj();var P,_=t.curve===us,k=t.isOrthogonal;if(t.Th(),k||_){for(P=2;4<t.pointsCount;)t.uw(2);var F=t.i(1),j=t.i(2)}else{for(P=1;3<t.pointsCount;)t.uw(1);F=t.i(0),j=t.i(t.pointsCount-1)}var ut=t.i(t.pointsCount-1);0===h?(o.alignment===rc?(h=a.bottom+e.y,0===e.y&&F.y>ut.y+o.rowIndent&&(h=Math.min(h,Math.max(F.y,h-ec(o))))):o.alignment===nc?(h=a.top+e.y,0===e.y&&F.y<ut.y-o.rowIndent&&(h=Math.max(h,Math.min(F.y,h+ec(o))))):h=o.Sm||o.Tm&&1===o.maxGenerationCount?a.top-o.fa.y+e.y:a.y+a.height/2+e.y,_?(t.m(P,F.x,h),P++,t.m(P,a.right+c,h),P++,t.m(P,a.right+c+(e.x-g)/3,h),P++,t.m(P,a.right+c+2*(e.x-g)/3,h),P++,t.m(P,a.right+c+(e.x-g),h),P++,t.m(P,j.x,h)):(k&&(t.m(P,a.right+c/2,F.y),P++),t.m(P,a.right+c/2,h),P++,t.m(P,a.right+c+e.x-(k?g/2:g),h),P++,k&&t.m(P,t.i(P-1).x,j.y))):90===h?(o.alignment===rc?(h=a.right+e.x,0===e.x&&F.x>ut.x+o.rowIndent&&(h=Math.min(h,Math.max(F.x,h-ec(o))))):o.alignment===nc?(h=a.left+e.x,0===e.x&&F.x<ut.x-o.rowIndent&&(h=Math.max(h,Math.min(F.x,h+ec(o))))):h=o.Sm||o.Tm&&1===o.maxGenerationCount?a.left-o.fa.x+e.x:a.x+a.width/2+e.x,_?(t.m(P,h,F.y),P++,t.m(P,h,a.bottom+c),P++,t.m(P,h,a.bottom+c+(e.y-g)/3),P++,t.m(P,h,a.bottom+c+2*(e.y-g)/3),P++,t.m(P,h,a.bottom+c+(e.y-g)),P++,t.m(P,h,j.y)):(k&&(t.m(P,F.x,a.bottom+c/2),P++),t.m(P,h,a.bottom+c/2),P++,t.m(P,h,a.bottom+c+e.y-(k?g/2:g)),P++,k&&t.m(P,j.x,t.i(P-1).y))):180===h?(o.alignment===rc?(h=a.bottom+e.y,0===e.y&&F.y>ut.y+o.rowIndent&&(h=Math.min(h,Math.max(F.y,h-ec(o))))):o.alignment===nc?(h=a.top+e.y,0===e.y&&F.y<ut.y-o.rowIndent&&(h=Math.max(h,Math.min(F.y,h+ec(o))))):h=o.Sm||o.Tm&&1===o.maxGenerationCount?a.top-o.fa.y+e.y:a.y+a.height/2+e.y,_?(t.m(P,F.x,h),P++,t.m(P,a.left-c,h),P++,t.m(P,a.left-c+(e.x+g)/3,h),P++,t.m(P,a.left-c+2*(e.x+g)/3,h),P++,t.m(P,a.left-c+(e.x+g),h),P++,t.m(P,j.x,h)):(k&&(t.m(P,a.left-c/2,F.y),P++),t.m(P,a.left-c/2,h),P++,t.m(P,a.left-c+e.x+(k?g/2:g),h),P++,k&&t.m(P,t.i(P-1).x,j.y))):270===h?(o.alignment===rc?(h=a.right+e.x,0===e.x&&F.x>ut.x+o.rowIndent&&(h=Math.min(h,Math.max(F.x,h-ec(o))))):o.alignment===nc?(h=a.left+e.x,0===e.x&&F.x<ut.x-o.rowIndent&&(h=Math.max(h,Math.min(F.x,h+ec(o))))):h=o.Sm||o.Tm&&1===o.maxGenerationCount?a.left-o.fa.x+e.x:a.x+a.width/2+e.x,_?(t.m(P,h,F.y),P++,t.m(P,h,a.top-c),P++,t.m(P,h,a.top-c+(e.y+g)/3),P++,t.m(P,h,a.top-c+2*(e.y+g)/3),P++,t.m(P,h,a.top-c+(e.y+g)),P++,t.m(P,h,j.y)):(k&&(t.m(P,F.x,a.top-c/2),P++),t.m(P,h,a.top-c/2),P++,t.m(P,h,a.top-c+e.y+(k?g/2:g)),P++,k&&t.m(P,j.x,t.i(P-1).y))):z("Invalid angle "+h),t.xf()}else t=this.link,(c=Jh(o))!==Jh(a)&&(g=Mg(o),_=o.bounds,o=a.bounds,0===c&&o.left-_.right<g+1||90===c&&o.top-_.bottom<g+1||180===c&&_.left-o.right<g+1||270===c&&_.top-o.bottom<g+1||(t.xj(),o=t.curve===us,e=t.isOrthogonal,a=jd(this.fromVertex.alignment),t.Th(),0===c?(c=_.right+g/2,o?4===t.pointsCount&&(o=t.i(3).y,t.L(1,c-20,t.i(1).y),t.m(2,c-20,o),t.m(3,c,o),t.m(4,c+20,o),t.L(5,t.i(5).x,o)):e?a?t.L(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.L(2,c,t.i(2).y),t.L(3,c,t.i(3).y)):4===t.pointsCount?t.m(2,c,t.i(2).y):3===t.pointsCount?t.L(1,c,t.i(2).y):2===t.pointsCount&&t.m(1,c,t.i(1).y)):90===c?(c=_.bottom+g/2,o?4===t.pointsCount&&(o=t.i(3).x,t.L(1,t.i(1).x,c-20),t.m(2,o,c-20),t.m(3,o,c),t.m(4,o,c+20),t.L(5,o,t.i(5).y)):e?a?t.L(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.L(2,t.i(2).x,c),t.L(3,t.i(3).x,c)):4===t.pointsCount?t.m(2,t.i(2).x,c):3===t.pointsCount?t.L(1,t.i(2).x,c):2===t.pointsCount&&t.m(1,t.i(1).x,c)):180===c?(c=_.left-g/2,o?4===t.pointsCount&&(o=t.i(3).y,t.L(1,c+20,t.i(1).y),t.m(2,c+20,o),t.m(3,c,o),t.m(4,c-20,o),t.L(5,t.i(5).x,o)):e?a?t.L(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.L(2,c,t.i(2).y),t.L(3,c,t.i(3).y)):4===t.pointsCount?t.m(2,c,t.i(2).y):3===t.pointsCount?t.L(1,c,t.i(2).y):2===t.pointsCount&&t.m(1,c,t.i(1).y)):270===c&&(c=_.top-g/2,o?4===t.pointsCount&&(o=t.i(3).x,t.L(1,t.i(1).x,c+20),t.m(2,o,c+20),t.m(3,o,c),t.m(4,o,c-20),t.L(5,o,t.i(5).y)):e?a?t.L(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.L(2,t.i(2).x,c),t.L(3,t.i(3).x,c)):4===t.pointsCount?t.m(2,t.i(2).x,c):3===t.pointsCount?t.L(1,t.i(2).x,c):2===t.pointsCount&&t.m(1,t.i(1).x,c)),t.xf()))}},X.Object.defineProperties(Ya.prototype,{fromVertex:{get:function(){return this.Yc},set:function(t){this.Yc!==t&&(this.Yc=t)}},toVertex:{get:function(){return this.ed},set:function(t){this.ed!==t&&(this.ed=t)}},relativePoint:{get:function(){return this.lv},set:function(t){this.lv.set(t)}}}),Ya.className="TreeEdge",$r.prototype.initializeStandardTools=function(){this.Ya("Action",new wf,this.mouseDownTools),this.Ya("Relinking",new ds,this.mouseDownTools),this.Ya("LinkReshaping",new So,this.mouseDownTools),this.Ya("Rotating",new dl,this.mouseDownTools),this.Ya("Resizing",new aa,this.mouseDownTools),this.Ya("Linking",new vs,this.mouseMoveTools),this.Ya("Dragging",new vr,this.mouseMoveTools),this.Ya("DragSelecting",new Vu,this.mouseMoveTools),this.Ya("Panning",new ju,this.mouseMoveTools),this.Ya("ContextMenu",new pl,this.mouseUpTools),this.Ya("TextEditing",new Lr,this.mouseUpTools),this.Ya("ClickCreating",new up,this.mouseUpTools),this.Ya("ClickSelecting",new Dm,this.mouseUpTools)},vl("Horizontal",new Cp),vl("Spot",new j0),vl("Table",new Zm),vl("Viewbox",new Uv),vl("TableRow",new zv),vl("TableColumn",new Hv),vl("Graduated",new H0),vl("Grid",new qm),jm.add("GraphLinksModel",is),jm.add("TreeModel",wl),Vp(bs,null),Vp(Zn,null);var nm=V.go,tx={get licenseKey(){return Ee.licenseKey},set licenseKey(t){Ee.licenseKey=t},get version(){return Ee.version},Group:hi,EnumValue:wt,List:Lt,Set:Ht,Map:gt,Point:rt,Size:Ge,Rect:te,Margin:hn,Spot:Ti,Geometry:xn,PathFigure:as,PathSegment:Gn,InputEvent:Rs,DiagramEvent:yc,ChangedEvent:Yr,Model:Ii,GraphLinksModel:_n,TreeModel:Pa,Binding:Mo,Transaction:Ho,UndoManager:oo,CommandHandler:er,Tool:jn,DraggingTool:vr,DraggingInfo:Tf,DraggingOptions:F0,LinkingBaseTool:Ls,LinkingTool:vs,RelinkingTool:ds,LinkReshapingTool:So,ResizingTool:aa,RotatingTool:dl,ClickSelectingTool:Dm,ActionTool:wf,ClickCreatingTool:up,HTMLInfo:bf,ContextMenuTool:pl,DragSelectingTool:Vu,PanningTool:ju,TextEditingTool:Lr,ToolManager:$r,Animation:Fs,AnimationManager:Hs,AnimationTrigger:Va,Layer:ks,Diagram:Ee,Palette:u1,Overview:Uh,Brush:In,GraphObject:Oi,Panel:qe,RowColumnDefinition:Eo,Shape:Qi,TextBlock:Qn,TextBlockMetrics:Ip,Picture:ta,Part:Nt,Adornment:li,Node:Fe,Link:We,Placeholder:Li,Layout:Hn,LayoutNetwork:cr,LayoutVertex:Io,LayoutEdge:Xs,GridLayout:ps,PanelLayout:es,CircularLayout:eo,CircularNetwork:fy,CircularVertex:z1,CircularEdge:H1,ForceDirectedLayout:bs,ForceDirectedNetwork:rh,ForceDirectedVertex:dy,ForceDirectedEdge:py,LayeredDigraphLayout:Zn,LayeredDigraphNetwork:Mn,LayeredDigraphVertex:bg,LayeredDigraphEdge:tc,TreeLayout:Cn,TreeNetwork:Wc,TreeVertex:Sh,TreeEdge:Ya};"object"==typeof nm&&nm.version&&z("WARNING: a `go` object on the root object is already defined.  "+("Debug"in nm?"debug ":"")+"version: "+nm.version+", replaced with version: "+tx.version),Ee.prototype.go=tx,V.go=tx,(void 0===V||void 0===V.module||"object"!=typeof V.module.exports)&&V.define&&"function"==typeof V.define&&V.define.amd&&V.define(tx),"object"==typeof _e.exports&&(_e.exports="undefined"!=typeof global?global.go:self.go)}()},740:(_e,st,Ft)=>{"use strict";var zt=Ft(9126).Buffer,Kt=Ft(8792).Transform;function E(K){Kt.call(this),this._block=zt.allocUnsafe(K),this._blockSize=K,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}Ft(3516)(E,Kt),E.prototype._transform=function(K,Y,ct){var et=null;try{this.update(K,Y)}catch(X){et=X}ct(et)},E.prototype._flush=function(K){var Y=null;try{this.push(this.digest())}catch(ct){Y=ct}K(Y)},E.prototype.update=function(K,Y){if(function(K,Y){if(!zt.isBuffer(K)&&"string"!=typeof K)throw new TypeError("Data must be a string or a buffer")}(K),this._finalized)throw new Error("Digest already called");zt.isBuffer(K)||(K=zt.from(K,Y));for(var ct=this._block,et=0;this._blockOffset+K.length-et>=this._blockSize;){for(var X=this._blockOffset;X<this._blockSize;)ct[X++]=K[et++];this._update(),this._blockOffset=0}for(;et<K.length;)ct[this._blockOffset++]=K[et++];for(var U=0,at=8*K.length;at>0;++U)this._length[U]+=at,(at=this._length[U]/4294967296|0)>0&&(this._length[U]-=4294967296*at);return this},E.prototype._update=function(){throw new Error("_update is not implemented")},E.prototype.digest=function(K){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var Y=this._digest();void 0!==K&&(Y=Y.toString(K)),this._block.fill(0),this._blockOffset=0;for(var ct=0;ct<4;++ct)this._length[ct]=0;return Y},E.prototype._digest=function(){throw new Error("_digest is not implemented")},_e.exports=E},9126:(_e,st,Ft)=>{var zt=Ft(3847),Kt=zt.Buffer;function ft(E,K){for(var Y in E)K[Y]=E[Y]}function dt(E,K,Y){return Kt(E,K,Y)}Kt.from&&Kt.alloc&&Kt.allocUnsafe&&Kt.allocUnsafeSlow?_e.exports=zt:(ft(zt,st),st.Buffer=dt),dt.prototype=Object.create(Kt.prototype),ft(Kt,dt),dt.from=function(E,K,Y){if("number"==typeof E)throw new TypeError("Argument must not be a number");return Kt(E,K,Y)},dt.alloc=function(E,K,Y){if("number"!=typeof E)throw new TypeError("Argument must be a number");var ct=Kt(E);return void 0!==K?"string"==typeof Y?ct.fill(K,Y):ct.fill(K):ct.fill(0),ct},dt.allocUnsafe=function(E){if("number"!=typeof E)throw new TypeError("Argument must be a number");return Kt(E)},dt.allocUnsafeSlow=function(E){if("number"!=typeof E)throw new TypeError("Argument must be a number");return zt.SlowBuffer(E)}},4658:(_e,st,Ft)=>{var zt=st;zt.utils=Ft(6459),zt.common=Ft(3527),zt.sha=Ft(3777),zt.ripemd=Ft(3093),zt.hmac=Ft(4348),zt.sha1=zt.sha.sha1,zt.sha256=zt.sha.sha256,zt.sha224=zt.sha.sha224,zt.sha384=zt.sha.sha384,zt.sha512=zt.sha.sha512,zt.ripemd160=zt.ripemd.ripemd160},3527:(_e,st,Ft)=>{"use strict";var zt=Ft(6459),Kt=Ft(4725);function ft(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}st.BlockHash=ft,ft.prototype.update=function(E,K){if(E=zt.toArray(E,K),this.pending=this.pending?this.pending.concat(E):E,this.pendingTotal+=E.length,this.pending.length>=this._delta8){var Y=(E=this.pending).length%this._delta8;this.pending=E.slice(E.length-Y,E.length),0===this.pending.length&&(this.pending=null),E=zt.join32(E,0,E.length-Y,this.endian);for(var ct=0;ct<E.length;ct+=this._delta32)this._update(E,ct,ct+this._delta32)}return this},ft.prototype.digest=function(E){return this.update(this._pad()),Kt(null===this.pending),this._digest(E)},ft.prototype._pad=function(){var E=this.pendingTotal,K=this._delta8,Y=K-(E+this.padLength)%K,ct=new Array(Y+this.padLength);ct[0]=128;for(var et=1;et<Y;et++)ct[et]=0;if(E<<=3,"big"===this.endian){for(var X=8;X<this.padLength;X++)ct[et++]=0;ct[et++]=0,ct[et++]=0,ct[et++]=0,ct[et++]=0,ct[et++]=E>>>24&255,ct[et++]=E>>>16&255,ct[et++]=E>>>8&255,ct[et++]=255&E}else for(ct[et++]=255&E,ct[et++]=E>>>8&255,ct[et++]=E>>>16&255,ct[et++]=E>>>24&255,ct[et++]=0,ct[et++]=0,ct[et++]=0,ct[et++]=0,X=8;X<this.padLength;X++)ct[et++]=0;return ct}},4348:(_e,st,Ft)=>{"use strict";var zt=Ft(6459),Kt=Ft(4725);function ft(dt,E,K){if(!(this instanceof ft))return new ft(dt,E,K);this.Hash=dt,this.blockSize=dt.blockSize/8,this.outSize=dt.outSize/8,this.inner=null,this.outer=null,this._init(zt.toArray(E,K))}_e.exports=ft,ft.prototype._init=function(E){E.length>this.blockSize&&(E=(new this.Hash).update(E).digest()),Kt(E.length<=this.blockSize);for(var K=E.length;K<this.blockSize;K++)E.push(0);for(K=0;K<E.length;K++)E[K]^=54;for(this.inner=(new this.Hash).update(E),K=0;K<E.length;K++)E[K]^=106;this.outer=(new this.Hash).update(E)},ft.prototype.update=function(E,K){return this.inner.update(E,K),this},ft.prototype.digest=function(E){return this.outer.update(this.inner.digest()),this.outer.digest(E)}},3093:(_e,st,Ft)=>{"use strict";var zt=Ft(6459),Kt=Ft(3527),ft=zt.rotl32,dt=zt.sum32,E=zt.sum32_3,K=zt.sum32_4,Y=Kt.BlockHash;function ct(){if(!(this instanceof ct))return new ct;Y.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function et(G,J,z,nt){return G<=15?J^z^nt:G<=31?J&z|~J&nt:G<=47?(J|~z)^nt:G<=63?J&nt|z&~nt:J^(z|~nt)}function U(G){return G<=15?1352829926:G<=31?1548603684:G<=47?1836072691:G<=63?2053994217:0}zt.inherits(ct,Y),st.ripemd160=ct,ct.blockSize=512,ct.outSize=160,ct.hmacStrength=192,ct.padLength=64,ct.prototype._update=function(J,z){for(var nt=this.h[0],Q=this.h[1],lt=this.h[2],_t=this.h[3],Ct=this.h[4],kt=nt,Et=Q,St=lt,R=_t,u=Ct,m=0;m<80;m++){var y=dt(ft(K(nt,et(m,Q,lt,_t),J[at[m]+z],(G=m)<=15?0:G<=31?1518500249:G<=47?1859775393:G<=63?2400959708:2840853838),$[m]),Ct);nt=Ct,Ct=_t,_t=ft(lt,10),lt=Q,Q=y,y=dt(ft(K(kt,et(79-m,Et,St,R),J[V[m]+z],U(m)),H[m]),u),kt=u,u=R,R=ft(St,10),St=Et,Et=y}var G;y=E(this.h[1],lt,R),this.h[1]=E(this.h[2],_t,u),this.h[2]=E(this.h[3],Ct,kt),this.h[3]=E(this.h[4],nt,Et),this.h[4]=E(this.h[0],Q,St),this.h[0]=y},ct.prototype._digest=function(J){return"hex"===J?zt.toHex32(this.h,"little"):zt.split32(this.h,"little")};var at=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],V=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],$=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],H=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},3777:(_e,st,Ft)=>{"use strict";st.sha1=Ft(8730),st.sha224=Ft(255),st.sha256=Ft(8572),st.sha384=Ft(5313),st.sha512=Ft(1391)},8730:(_e,st,Ft)=>{"use strict";var zt=Ft(6459),Kt=Ft(3527),ft=Ft(7082),dt=zt.rotl32,E=zt.sum32,K=zt.sum32_5,Y=ft.ft_1,ct=Kt.BlockHash,et=[1518500249,1859775393,2400959708,3395469782];function X(){if(!(this instanceof X))return new X;ct.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}zt.inherits(X,ct),_e.exports=X,X.blockSize=512,X.outSize=160,X.hmacStrength=80,X.padLength=64,X.prototype._update=function(at,V){for(var $=this.W,H=0;H<16;H++)$[H]=at[V+H];for(;H<$.length;H++)$[H]=dt($[H-3]^$[H-8]^$[H-14]^$[H-16],1);var G=this.h[0],J=this.h[1],z=this.h[2],nt=this.h[3],Q=this.h[4];for(H=0;H<$.length;H++){var lt=~~(H/20),_t=K(dt(G,5),Y(lt,J,z,nt),Q,$[H],et[lt]);Q=nt,nt=z,z=dt(J,30),J=G,G=_t}this.h[0]=E(this.h[0],G),this.h[1]=E(this.h[1],J),this.h[2]=E(this.h[2],z),this.h[3]=E(this.h[3],nt),this.h[4]=E(this.h[4],Q)},X.prototype._digest=function(at){return"hex"===at?zt.toHex32(this.h,"big"):zt.split32(this.h,"big")}},255:(_e,st,Ft)=>{"use strict";var zt=Ft(6459),Kt=Ft(8572);function ft(){if(!(this instanceof ft))return new ft;Kt.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}zt.inherits(ft,Kt),_e.exports=ft,ft.blockSize=512,ft.outSize=224,ft.hmacStrength=192,ft.padLength=64,ft.prototype._digest=function(E){return"hex"===E?zt.toHex32(this.h.slice(0,7),"big"):zt.split32(this.h.slice(0,7),"big")}},8572:(_e,st,Ft)=>{"use strict";var zt=Ft(6459),Kt=Ft(3527),ft=Ft(7082),dt=Ft(4725),E=zt.sum32,K=zt.sum32_4,Y=zt.sum32_5,ct=ft.ch32,et=ft.maj32,X=ft.s0_256,U=ft.s1_256,at=ft.g0_256,V=ft.g1_256,$=Kt.BlockHash,H=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function G(){if(!(this instanceof G))return new G;$.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=H,this.W=new Array(64)}zt.inherits(G,$),_e.exports=G,G.blockSize=512,G.outSize=256,G.hmacStrength=192,G.padLength=64,G.prototype._update=function(z,nt){for(var Q=this.W,lt=0;lt<16;lt++)Q[lt]=z[nt+lt];for(;lt<Q.length;lt++)Q[lt]=K(V(Q[lt-2]),Q[lt-7],at(Q[lt-15]),Q[lt-16]);var _t=this.h[0],Ct=this.h[1],kt=this.h[2],Et=this.h[3],St=this.h[4],R=this.h[5],u=this.h[6],m=this.h[7];for(dt(this.k.length===Q.length),lt=0;lt<Q.length;lt++){var y=Y(m,U(St),ct(St,R,u),this.k[lt],Q[lt]),v=E(X(_t),et(_t,Ct,kt));m=u,u=R,R=St,St=E(Et,y),Et=kt,kt=Ct,Ct=_t,_t=E(y,v)}this.h[0]=E(this.h[0],_t),this.h[1]=E(this.h[1],Ct),this.h[2]=E(this.h[2],kt),this.h[3]=E(this.h[3],Et),this.h[4]=E(this.h[4],St),this.h[5]=E(this.h[5],R),this.h[6]=E(this.h[6],u),this.h[7]=E(this.h[7],m)},G.prototype._digest=function(z){return"hex"===z?zt.toHex32(this.h,"big"):zt.split32(this.h,"big")}},5313:(_e,st,Ft)=>{"use strict";var zt=Ft(6459),Kt=Ft(1391);function ft(){if(!(this instanceof ft))return new ft;Kt.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}zt.inherits(ft,Kt),_e.exports=ft,ft.blockSize=1024,ft.outSize=384,ft.hmacStrength=192,ft.padLength=128,ft.prototype._digest=function(E){return"hex"===E?zt.toHex32(this.h.slice(0,12),"big"):zt.split32(this.h.slice(0,12),"big")}},1391:(_e,st,Ft)=>{"use strict";var zt=Ft(6459),Kt=Ft(3527),ft=Ft(4725),dt=zt.rotr64_hi,E=zt.rotr64_lo,K=zt.shr64_hi,Y=zt.shr64_lo,ct=zt.sum64,et=zt.sum64_hi,X=zt.sum64_lo,U=zt.sum64_4_hi,at=zt.sum64_4_lo,V=zt.sum64_5_hi,$=zt.sum64_5_lo,H=Kt.BlockHash,G=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function J(){if(!(this instanceof J))return new J;H.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=G,this.W=new Array(160)}function z(y,v,M,S,I){var C=y&M^~y&I;return C<0&&(C+=4294967296),C}function nt(y,v,M,S,I,C){var p=v&S^~v&C;return p<0&&(p+=4294967296),p}function Q(y,v,M,S,I){var C=y&M^y&I^M&I;return C<0&&(C+=4294967296),C}function lt(y,v,M,S,I,C){var p=v&S^v&C^S&C;return p<0&&(p+=4294967296),p}function _t(y,v){var C=dt(y,v,28)^dt(v,y,2)^dt(v,y,7);return C<0&&(C+=4294967296),C}function Ct(y,v){var C=E(y,v,28)^E(v,y,2)^E(v,y,7);return C<0&&(C+=4294967296),C}function kt(y,v){var C=dt(y,v,14)^dt(y,v,18)^dt(v,y,9);return C<0&&(C+=4294967296),C}function Et(y,v){var C=E(y,v,14)^E(y,v,18)^E(v,y,9);return C<0&&(C+=4294967296),C}function St(y,v){var C=dt(y,v,1)^dt(y,v,8)^K(y,v,7);return C<0&&(C+=4294967296),C}function R(y,v){var C=E(y,v,1)^E(y,v,8)^Y(y,v,7);return C<0&&(C+=4294967296),C}function u(y,v){var C=dt(y,v,19)^dt(v,y,29)^K(y,v,6);return C<0&&(C+=4294967296),C}function m(y,v){var C=E(y,v,19)^E(v,y,29)^Y(y,v,6);return C<0&&(C+=4294967296),C}zt.inherits(J,H),_e.exports=J,J.blockSize=1024,J.outSize=512,J.hmacStrength=192,J.padLength=128,J.prototype._prepareBlock=function(v,M){for(var S=this.W,I=0;I<32;I++)S[I]=v[M+I];for(;I<S.length;I+=2){var C=u(S[I-4],S[I-3]),p=m(S[I-4],S[I-3]),T=S[I-14],it=S[I-13],Z=St(S[I-30],S[I-29]),W=R(S[I-30],S[I-29]),yt=S[I-32],wt=S[I-31];S[I]=U(C,p,T,it,Z,W,yt,wt),S[I+1]=at(C,p,T,it,Z,W,yt,wt)}},J.prototype._update=function(v,M){this._prepareBlock(v,M);var S=this.W,I=this.h[0],C=this.h[1],p=this.h[2],T=this.h[3],it=this.h[4],Z=this.h[5],W=this.h[6],yt=this.h[7],wt=this.h[8],Vt=this.h[9],Ut=this.h[10],At=this.h[11],bt=this.h[12],qt=this.h[13],Rt=this.h[14],Dt=this.h[15];ft(this.k.length===S.length);for(var Bt=0;Bt<S.length;Bt+=2){var Zt=Rt,Lt=Dt,Ce=kt(wt,Vt),Ht=Et(wt,Vt),me=z(wt,0,Ut,0,bt),Si=nt(0,Vt,0,At,0,qt),be=this.k[Bt],de=this.k[Bt+1],je=S[Bt],Yt=S[Bt+1],ee=V(Zt,Lt,Ce,Ht,me,Si,be,de,je,Yt),Le=$(Zt,Lt,Ce,Ht,me,Si,be,de,je,Yt);Zt=_t(I,C),Lt=Ct(I,C),Ce=Q(I,0,p,0,it),Ht=lt(0,C,0,T,0,Z);var It=et(Zt,Lt,Ce,Ht),gt=X(Zt,Lt,Ce,Ht);Rt=bt,Dt=qt,bt=Ut,qt=At,Ut=wt,At=Vt,wt=et(W,yt,ee,Le),Vt=X(yt,yt,ee,Le),W=it,yt=Z,it=p,Z=T,p=I,T=C,I=et(ee,Le,It,gt),C=X(ee,Le,It,gt)}ct(this.h,0,I,C),ct(this.h,2,p,T),ct(this.h,4,it,Z),ct(this.h,6,W,yt),ct(this.h,8,wt,Vt),ct(this.h,10,Ut,At),ct(this.h,12,bt,qt),ct(this.h,14,Rt,Dt)},J.prototype._digest=function(v){return"hex"===v?zt.toHex32(this.h,"big"):zt.split32(this.h,"big")}},7082:(_e,st,Ft)=>{"use strict";var Kt=Ft(6459).rotr32;function dt(U,at,V){return U&at^~U&V}function E(U,at,V){return U&at^U&V^at&V}function K(U,at,V){return U^at^V}st.ft_1=function(U,at,V,$){return 0===U?dt(at,V,$):1===U||3===U?K(at,V,$):2===U?E(at,V,$):void 0},st.ch32=dt,st.maj32=E,st.p32=K,st.s0_256=function(U){return Kt(U,2)^Kt(U,13)^Kt(U,22)},st.s1_256=function(U){return Kt(U,6)^Kt(U,11)^Kt(U,25)},st.g0_256=function(U){return Kt(U,7)^Kt(U,18)^U>>>3},st.g1_256=function(U){return Kt(U,17)^Kt(U,19)^U>>>10}},6459:(_e,st,Ft)=>{"use strict";var zt=Ft(4725),Kt=Ft(3516);function ft(m,y){return!(55296!=(64512&m.charCodeAt(y))||y<0||y+1>=m.length)&&56320==(64512&m.charCodeAt(y+1))}function K(m){return(m>>>24|m>>>8&65280|m<<8&16711680|(255&m)<<24)>>>0}function ct(m){return 1===m.length?"0"+m:m}function et(m){return 7===m.length?"0"+m:6===m.length?"00"+m:5===m.length?"000"+m:4===m.length?"0000"+m:3===m.length?"00000"+m:2===m.length?"000000"+m:1===m.length?"0000000"+m:m}st.inherits=Kt,st.toArray=function(m,y){if(Array.isArray(m))return m.slice();if(!m)return[];var v=[];if("string"==typeof m)if(y){if("hex"===y)for((m=m.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(m="0"+m),S=0;S<m.length;S+=2)v.push(parseInt(m[S]+m[S+1],16))}else for(var M=0,S=0;S<m.length;S++){var I=m.charCodeAt(S);I<128?v[M++]=I:I<2048?(v[M++]=I>>6|192,v[M++]=63&I|128):ft(m,S)?(I=65536+((1023&I)<<10)+(1023&m.charCodeAt(++S)),v[M++]=I>>18|240,v[M++]=I>>12&63|128,v[M++]=I>>6&63|128,v[M++]=63&I|128):(v[M++]=I>>12|224,v[M++]=I>>6&63|128,v[M++]=63&I|128)}else for(S=0;S<m.length;S++)v[S]=0|m[S];return v},st.toHex=function(m){for(var y="",v=0;v<m.length;v++)y+=ct(m[v].toString(16));return y},st.htonl=K,st.toHex32=function(m,y){for(var v="",M=0;M<m.length;M++){var S=m[M];"little"===y&&(S=K(S)),v+=et(S.toString(16))}return v},st.zero2=ct,st.zero8=et,st.join32=function(m,y,v,M){var S=v-y;zt(S%4==0);for(var I=new Array(S/4),C=0,p=y;C<I.length;C++,p+=4)I[C]=("big"===M?m[p]<<24|m[p+1]<<16|m[p+2]<<8|m[p+3]:m[p+3]<<24|m[p+2]<<16|m[p+1]<<8|m[p])>>>0;return I},st.split32=function(m,y){for(var v=new Array(4*m.length),M=0,S=0;M<m.length;M++,S+=4){var I=m[M];"big"===y?(v[S]=I>>>24,v[S+1]=I>>>16&255,v[S+2]=I>>>8&255,v[S+3]=255&I):(v[S+3]=I>>>24,v[S+2]=I>>>16&255,v[S+1]=I>>>8&255,v[S]=255&I)}return v},st.rotr32=function(m,y){return m>>>y|m<<32-y},st.rotl32=function(m,y){return m<<y|m>>>32-y},st.sum32=function(m,y){return m+y>>>0},st.sum32_3=function(m,y,v){return m+y+v>>>0},st.sum32_4=function(m,y,v,M){return m+y+v+M>>>0},st.sum32_5=function(m,y,v,M,S){return m+y+v+M+S>>>0},st.sum64=function(m,y,v,M){var C=M+m[y+1]>>>0;m[y]=(C<M?1:0)+v+m[y]>>>0,m[y+1]=C},st.sum64_hi=function(m,y,v,M){return(y+M>>>0<y?1:0)+m+v>>>0},st.sum64_lo=function(m,y,v,M){return y+M>>>0},st.sum64_4_hi=function(m,y,v,M,S,I,C,p){var T=0,it=y;return T+=(it=it+M>>>0)<y?1:0,T+=(it=it+I>>>0)<I?1:0,m+v+S+C+(T+=(it=it+p>>>0)<p?1:0)>>>0},st.sum64_4_lo=function(m,y,v,M,S,I,C,p){return y+M+I+p>>>0},st.sum64_5_hi=function(m,y,v,M,S,I,C,p,T,it){var Z=0,W=y;return Z+=(W=W+M>>>0)<y?1:0,Z+=(W=W+I>>>0)<I?1:0,Z+=(W=W+p>>>0)<p?1:0,m+v+S+C+T+(Z+=(W=W+it>>>0)<it?1:0)>>>0},st.sum64_5_lo=function(m,y,v,M,S,I,C,p,T,it){return y+M+I+p+it>>>0},st.rotr64_hi=function(m,y,v){return(y<<32-v|m>>>v)>>>0},st.rotr64_lo=function(m,y,v){return(m<<32-v|y>>>v)>>>0},st.shr64_hi=function(m,y,v){return m>>>v},st.shr64_lo=function(m,y,v){return(m<<32-v|y>>>v)>>>0}},8221:(_e,st,Ft)=>{_e.exports=Ft(2283)},2283:function(_e,st){var Ft,zt,Kt;(function(){var ft,dt,E,K,Y,ct,et,X,U,at,V,$,H,G,J;E=Math.floor,at=Math.min,dt=function(z,nt){return z<nt?-1:z>nt?1:0},U=function(z,nt,Q,lt,_t){var Ct;if(null==Q&&(Q=0),null==_t&&(_t=dt),Q<0)throw new Error("lo must be non-negative");for(null==lt&&(lt=z.length);Q<lt;)_t(nt,z[Ct=E((Q+lt)/2)])<0?lt=Ct:Q=Ct+1;return[].splice.apply(z,[Q,Q-Q].concat(nt)),nt},ct=function(z,nt,Q){return null==Q&&(Q=dt),z.push(nt),G(z,0,z.length-1,Q)},Y=function(z,nt){var Q,lt;return null==nt&&(nt=dt),Q=z.pop(),z.length?(lt=z[0],z[0]=Q,J(z,0,nt)):lt=Q,lt},X=function(z,nt,Q){var lt;return null==Q&&(Q=dt),lt=z[0],z[0]=nt,J(z,0,Q),lt},et=function(z,nt,Q){var lt;return null==Q&&(Q=dt),z.length&&Q(z[0],nt)<0&&(nt=(lt=[z[0],nt])[0],z[0]=lt[1],J(z,0,Q)),nt},K=function(z,nt){var lt,Ct,Et,St,R;for(null==nt&&(nt=dt),St=[],lt=0,Ct=(Et=function(){R=[];for(var u=0,m=E(z.length/2);0<=m?u<m:u>m;0<=m?u++:u--)R.push(u);return R}.apply(this).reverse()).length;lt<Ct;lt++)St.push(J(z,Et[lt],nt));return St},H=function(z,nt,Q){var lt;if(null==Q&&(Q=dt),-1!==(lt=z.indexOf(nt)))return G(z,0,lt,Q),J(z,lt,Q)},V=function(z,nt,Q){var _t,Ct,kt,Et;if(null==Q&&(Q=dt),!(_t=z.slice(0,nt)).length)return _t;for(K(_t,Q),Ct=0,kt=(Et=z.slice(nt)).length;Ct<kt;Ct++)et(_t,Et[Ct],Q);return _t.sort(Q).reverse()},$=function(z,nt,Q){var lt,Ct,kt,Et,St,R,u,m,y;if(null==Q&&(Q=dt),10*nt<=z.length){if(!(kt=z.slice(0,nt).sort(Q)).length)return kt;for(Ct=kt[kt.length-1],Et=0,R=(u=z.slice(nt)).length;Et<R;Et++)Q(lt=u[Et],Ct)<0&&(U(kt,lt,0,null,Q),kt.pop(),Ct=kt[kt.length-1]);return kt}for(K(z,Q),y=[],St=0,m=at(nt,z.length);0<=m?St<m:St>m;0<=m?++St:--St)y.push(Y(z,Q));return y},G=function(z,nt,Q,lt){var _t,Ct,kt;for(null==lt&&(lt=dt),_t=z[Q];Q>nt&&lt(_t,Ct=z[kt=Q-1>>1])<0;)z[Q]=Ct,Q=kt;return z[Q]=_t},J=function(z,nt,Q){var lt,_t,Ct,kt,Et;for(null==Q&&(Q=dt),_t=z.length,Et=nt,Ct=z[nt],lt=2*nt+1;lt<_t;)(kt=lt+1)<_t&&!(Q(z[lt],z[kt])<0)&&(lt=kt),z[nt]=z[lt],lt=2*(nt=lt)+1;return z[nt]=Ct,G(z,Et,nt,Q)},ft=function(){function z(nt){this.cmp=null!=nt?nt:dt,this.nodes=[]}return z.push=ct,z.pop=Y,z.replace=X,z.pushpop=et,z.heapify=K,z.updateItem=H,z.nlargest=V,z.nsmallest=$,z.prototype.push=function(nt){return ct(this.nodes,nt,this.cmp)},z.prototype.pop=function(){return Y(this.nodes,this.cmp)},z.prototype.peek=function(){return this.nodes[0]},z.prototype.contains=function(nt){return-1!==this.nodes.indexOf(nt)},z.prototype.replace=function(nt){return X(this.nodes,nt,this.cmp)},z.prototype.pushpop=function(nt){return et(this.nodes,nt,this.cmp)},z.prototype.heapify=function(){return K(this.nodes,this.cmp)},z.prototype.updateItem=function(nt){return H(this.nodes,nt,this.cmp)},z.prototype.clear=function(){return this.nodes=[]},z.prototype.empty=function(){return 0===this.nodes.length},z.prototype.size=function(){return this.nodes.length},z.prototype.clone=function(){var nt;return(nt=new z).nodes=this.nodes.slice(0),nt},z.prototype.toArray=function(){return this.nodes.slice(0)},z.prototype.insert=z.prototype.push,z.prototype.top=z.prototype.peek,z.prototype.front=z.prototype.peek,z.prototype.has=z.prototype.contains,z.prototype.copy=z.prototype.clone,z}(),zt=[],void 0===(Kt="function"==typeof(Ft=function(){return ft})?Ft.apply(st,zt):Ft)||(_e.exports=Kt)}).call(this)},4317:function(_e,st,Ft){"use strict";var zt,Kt,ft;Kt="undefined"!=typeof window?window:this,ft=function(Kt){function ft(E,K,Y,ct){E.hasOwnProperty(K)||(E[K]=ct.apply(null,Y))}var dt={};return ft(dt,"Core/Globals.js",[],function(){var K,Y,E=void 0!==Kt?Kt:"undefined"!=typeof window?window:{};return(Y=K||(K={})).SVG_NS="http://www.w3.org/2000/svg",Y.product="Highcharts",Y.version="9.3.1",Y.win=E,Y.doc=Y.win.document,Y.svg=Y.doc&&Y.doc.createElementNS&&!!Y.doc.createElementNS(Y.SVG_NS,"svg").createSVGRect,Y.userAgent=Y.win.navigator&&Y.win.navigator.userAgent||"",Y.isChrome=-1!==Y.userAgent.indexOf("Chrome"),Y.isFirefox=-1!==Y.userAgent.indexOf("Firefox"),Y.isMS=/(edge|msie|trident)/i.test(Y.userAgent)&&!Y.win.opera,Y.isSafari=!Y.isChrome&&-1!==Y.userAgent.indexOf("Safari"),Y.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(Y.userAgent),Y.isWebKit=-1!==Y.userAgent.indexOf("AppleWebKit"),Y.deg2rad=2*Math.PI/360,Y.hasBidiBug=Y.isFirefox&&4>parseInt(Y.userAgent.split("Firefox/")[1],10),Y.hasTouch=!!Y.win.TouchEvent,Y.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],Y.noop=function(){},Y.supportsPassiveEvents=function(){var ct=!1;if(!Y.isMS){var et=Object.defineProperty({},"passive",{get:function(){ct=!0}});Y.win.addEventListener&&Y.win.removeEventListener&&(Y.win.addEventListener("testPassive",Y.noop,et),Y.win.removeEventListener("testPassive",Y.noop,et))}return ct}(),Y.charts=[],Y.dateFormats={},Y.seriesTypes={},Y.symbolSizes={},Y.chartCount=0,K}),ft(dt,"Core/Utilities.js",[dt["Core/Globals.js"]],function(E){function K(S,I,C,p){var T=I?"Highcharts error":"Highcharts warning";32===S&&(S=T+": Deprecated member");var it=$(S),Z=it?T+" #"+S+": www.highcharts.com/errors/"+S+"/":S.toString();if(void 0!==p){var W="";it&&(Z+="?"),Ct(p,function(yt,wt){W+="\n - "+wt+": "+yt,it&&(Z+=encodeURI(wt)+"="+encodeURI(yt))}),Z+=W}Et(E,"displayError",{chart:C,code:S,message:Z,params:p},function(){if(I)throw Error(Z);u.console&&-1===K.messages.indexOf(Z)&&console.warn(Z)}),K.messages.push(Z)}function ct(S,I){return parseInt(S,I||10)}function et(S){return"string"==typeof S}function X(S){return"[object Array]"===(S=Object.prototype.toString.call(S))||"[object Array Iterator]"===S}function U(S,I){return!(!S||"object"!=typeof S||I&&X(S))}function at(S){return U(S)&&"number"==typeof S.nodeType}function V(S){var I=S&&S.constructor;return!(!U(S,!0)||at(S)||!I||!I.name||"Object"===I.name)}function $(S){return"number"==typeof S&&!isNaN(S)&&1/0>S&&-1/0<S}function H(S){return null!=S}function G(S,I,C){var p;return et(I)?H(C)?S.setAttribute(I,C):S&&S.getAttribute&&((p=S.getAttribute(I))||"class"!==I||(p=S.getAttribute(I+"Name"))):Ct(I,function(T,it){H(T)?S.setAttribute(it,T):S.removeAttribute(it)}),p}function J(S,I){var C;for(C in S||(S={}),I)S[C]=I[C];return S}function z(){for(var S=arguments,I=S.length,C=0;C<I;C++){var p=S[C];if(null!=p)return p}}function nt(S,I){E.isMS&&!E.svg&&I&&void 0!==I.opacity&&(I.filter="alpha(opacity="+100*I.opacity+")"),J(S.style,I)}function Q(S,I,C,p,T){return S=R.createElement(S),I&&J(S,I),T&&nt(S,{padding:"0",border:"none",margin:"0"}),C&&nt(S,C),p&&p.appendChild(S),S}function lt(S,I){return 1e14<S?S:parseFloat(S.toPrecision(I||14))}function Ct(S,I,C){for(var p in S)Object.hasOwnProperty.call(S,p)&&I.call(C||S[p],S[p],p,S)}function kt(S,I,C){function p(W,yt){var wt=S.removeEventListener||E.removeEventListenerPolyfill;wt&&wt.call(S,W,yt,!1)}function T(W){var yt;if(S.nodeName){if(I){var wt={};wt[I]=!0}else wt=W;Ct(wt,function(Vt,Ut){if(W[Ut])for(yt=W[Ut].length;yt--;)p(Ut,W[Ut][yt].fn)})}}var it="function"==typeof S&&S.prototype||S;if(Object.hasOwnProperty.call(it,"hcEvents")){var Z=it.hcEvents;I?(it=Z[I]||[],C?(Z[I]=it.filter(function(W){return C!==W.fn}),p(I,C)):(T(Z),Z[I]=[])):(T(Z),delete it.hcEvents)}}function Et(S,I,C,p){if(C=C||{},R.createEvent&&(S.dispatchEvent||S.fireEvent&&S!==E)){var T=R.createEvent("Events");T.initEvent(I,!0,!0),C=J(T,C),S.dispatchEvent?S.dispatchEvent(C):S.fireEvent(I,C)}else if(S.hcEvents){C.target||J(C,{preventDefault:function(){C.defaultPrevented=!0},target:S,type:I}),T=[];for(var it=S,Z=!1;it.hcEvents;)Object.hasOwnProperty.call(it,"hcEvents")&&it.hcEvents[I]&&(T.length&&(Z=!0),T.unshift.apply(T,it.hcEvents[I])),it=Object.getPrototypeOf(it);Z&&T.sort(function(W,yt){return W.order-yt.order}),T.forEach(function(W){!1===W.fn.call(S,C)&&C.preventDefault()})}p&&!C.defaultPrevented&&p.call(S,C)}var m,St=E.charts,R=E.doc,u=E.win;(K||(K={})).messages=[],Math.easeInOutSine=function(S){return-.5*(Math.cos(Math.PI*S)-1)};var y=Array.prototype.find?function(S,I){return S.find(I)}:function(S,I){var C,p=S.length;for(C=0;C<p;C++)if(I(S[C],C))return S[C]};Ct({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(S,I){E[I]=function(C){var p;return K(32,!1,void 0,((p={})["Highcharts."+I]="use Array."+S,p)),Array.prototype[S].apply(C,[].slice.call(arguments,1))}});var v,S,I,M=(S=Math.random().toString(36).substring(2,9)+"-",I=0,function(){return"highcharts-"+(v?"":S)+I++});return u.jQuery&&(u.jQuery.fn.highcharts=function(){var S=[].slice.call(arguments);if(this[0])return S[0]?(new(E[et(S[0])?S.shift():"Chart"])(this[0],S[0],S[1]),this):St[G(this[0],"data-highcharts-chart")]}),y={addEvent:function(S,I,C,p){void 0===p&&(p={});var T="function"==typeof S&&S.prototype||S;Object.hasOwnProperty.call(T,"hcEvents")||(T.hcEvents={}),T=T.hcEvents,E.Point&&S instanceof E.Point&&S.series&&S.series.chart&&(S.series.chart.runTrackerClick=!0);var it=S.addEventListener||E.addEventListenerPolyfill;return it&&it.call(S,I,C,!!E.supportsPassiveEvents&&{passive:void 0===p.passive?-1!==I.indexOf("touch"):p.passive,capture:!1}),T[I]||(T[I]=[]),T[I].push({fn:C,order:"number"==typeof p.order?p.order:1/0}),T[I].sort(function(Z,W){return Z.order-W.order}),function(){kt(S,I,C)}},arrayMax:function(S){for(var I=S.length,C=S[0];I--;)S[I]>C&&(C=S[I]);return C},arrayMin:function(S){for(var I=S.length,C=S[0];I--;)S[I]<C&&(C=S[I]);return C},attr:G,clamp:function(S,I,C){return S>I?S<C?S:C:I},cleanRecursively:function Y(S,I){var C={};return Ct(S,function(p,T){U(S[T],!0)&&!S.nodeType&&I[T]?(p=Y(S[T],I[T]),Object.keys(p).length&&(C[T]=p)):(U(S[T])||S[T]!==I[T])&&(C[T]=S[T])}),C},clearTimeout:function(S){H(S)&&clearTimeout(S)},correctFloat:lt,createElement:Q,css:nt,defined:H,destroyObjectProperties:function(S,I){Ct(S,function(C,p){C&&C!==I&&C.destroy&&C.destroy(),delete S[p]})},discardElement:function(S){m||(m=Q("div")),S&&m.appendChild(S),m.innerHTML=""},erase:function(S,I){for(var C=S.length;C--;)if(S[C]===I){S.splice(C,1);break}},error:K,extend:J,extendClass:function(S,I){var C=function(){};return J(C.prototype=new S,I),C},find:y,fireEvent:Et,getMagnitude:function(S){return Math.pow(10,Math.floor(Math.log(S)/Math.LN10))},getNestedProperty:function(S,I){for(S=S.split(".");S.length&&H(I);){var C=S.shift();if(void 0===C||"__proto__"===C||!H(I=I[C])||"function"==typeof I||"number"==typeof I.nodeType||I===u)return}return I},getStyle:function _t(S,I,C){var p=E.getStyle||_t;if("width"===I)return I=Math.min(S.offsetWidth,S.scrollWidth),(C=S.getBoundingClientRect&&S.getBoundingClientRect().width)<I&&C>=I-1&&(I=Math.floor(C)),Math.max(0,I-(p(S,"padding-left",!0)||0)-(p(S,"padding-right",!0)||0));if("height"===I)return Math.max(0,Math.min(S.offsetHeight,S.scrollHeight)-(p(S,"padding-top",!0)||0)-(p(S,"padding-bottom",!0)||0));if(u.getComputedStyle||K(27,!0),S=u.getComputedStyle(S,void 0)){var T=S.getPropertyValue(I);z(C,"opacity"!==I)&&(T=ct(T))}return T},inArray:function(S,I,C){return K(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),I.indexOf(S,C)},isArray:X,isClass:V,isDOMElement:at,isFunction:function(S){return"function"==typeof S},isNumber:$,isObject:U,isString:et,keys:function(S){return K(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(S)},merge:function(){var S,I=arguments,C={},p=function(it,Z){return"object"!=typeof it&&(it={}),Ct(Z,function(W,yt){"__proto__"!==yt&&"constructor"!==yt&&(it[yt]=!U(W,!0)||V(W)||at(W)?Z[yt]:p(it[yt]||{},W))}),it};!0===I[0]&&(C=I[1],I=Array.prototype.slice.call(I,2));var T=I.length;for(S=0;S<T;S++)C=p(C,I[S]);return C},normalizeTickInterval:function(S,I,C,p,T){var it=S,Z=S/(C=z(C,1));for(I||(I=T?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===p&&(1===C?I=I.filter(function(W){return W%1==0}):.1>=C&&(I=[1/C]))),p=0;p<I.length&&(it=I[p],!(T&&it*C>=S||!T&&Z<=(I[p]+(I[p+1]||I[p]))/2));p++);return lt(it*C,-Math.round(Math.log(.001)/Math.LN10))},objectEach:Ct,offset:function(S){var I=R.documentElement;return{top:(S=S.parentElement||S.parentNode?S.getBoundingClientRect():{top:0,left:0,width:0,height:0}).top+(u.pageYOffset||I.scrollTop)-(I.clientTop||0),left:S.left+(u.pageXOffset||I.scrollLeft)-(I.clientLeft||0),width:S.width,height:S.height}},pad:function(S,I,C){return Array((I||2)+1-String(S).replace("-","").length).join(C||"0")+S},pick:z,pInt:ct,relativeLength:function(S,I,C){return/%$/.test(S)?I*parseFloat(S)/100+(C||0):parseFloat(S)},removeEvent:kt,splat:function(S){return X(S)?S:[S]},stableSort:function(S,I){var p,T,C=S.length;for(T=0;T<C;T++)S[T].safeI=T;for(S.sort(function(it,Z){return 0===(p=I(it,Z))?it.safeI-Z.safeI:p}),T=0;T<C;T++)delete S[T].safeI},syncTimeout:function(S,I,C){return 0<I?setTimeout(S,I,C):(S.call(0,C),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:M,useSerialIds:function(S){return v=z(S,v)},wrap:function(S,I,C){var p=S[I];S[I]=function(){var T=Array.prototype.slice.call(arguments),it=arguments,Z=this;return Z.proceed=function(){p.apply(Z,arguments.length?arguments:it)},T.unshift(p),T=C.apply(this,T),Z.proceed=null,T}}},y}),ft(dt,"Core/Chart/ChartDefaults.js",[],function(){return{panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},zoomBySingleTouch:!1,width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),ft(dt,"Core/Color/Color.js",[dt["Core/Globals.js"],dt["Core/Utilities.js"]],function(E,K){var Y=K.isNumber,ct=K.merge,et=K.pInt;return function(){function X(U){this.rgba=[NaN,NaN,NaN,NaN],this.input=U;var at=E.Color;return at&&at!==X?new at(U):this instanceof X?void this.init(U):new X(U)}return X.parse=function(U){return U?new X(U):X.None},X.prototype.init=function(U){var at;if("object"==typeof U&&void 0!==U.stops)this.stops=U.stops.map(function(G){return new X(G[1])});else if("string"==typeof U){if(this.input=U=X.names[U.toLowerCase()]||U,"#"===U.charAt(0)){var V=U.length,$=parseInt(U.substr(1),16);7===V?at=[(16711680&$)>>16,(65280&$)>>8,255&$,1]:4===V&&(at=[(3840&$)>>4|(3840&$)>>8,(240&$)>>4|240&$,(15&$)<<4|15&$,1])}if(!at)for($=X.parsers.length;$--&&!at;){var H=X.parsers[$];(V=H.regex.exec(U))&&(at=H.parse(V))}}at&&(this.rgba=at)},X.prototype.get=function(U){var at=this.input,V=this.rgba;if("object"==typeof at&&void 0!==this.stops){var $=ct(at);return $.stops=[].slice.call($.stops),this.stops.forEach(function(H,G){$.stops[G]=[$.stops[G][0],H.get(U)]}),$}return V&&Y(V[0])?"rgb"===U||!U&&1===V[3]?"rgb("+V[0]+","+V[1]+","+V[2]+")":"a"===U?""+V[3]:"rgba("+V.join(",")+")":at},X.prototype.brighten=function(U){var at=this.rgba;if(this.stops)this.stops.forEach(function($){$.brighten(U)});else if(Y(U)&&0!==U)for(var V=0;3>V;V++)at[V]+=et(255*U),0>at[V]&&(at[V]=0),255<at[V]&&(at[V]=255);return this},X.prototype.setOpacity=function(U){return this.rgba[3]=U,this},X.prototype.tweenTo=function(U,at){var V=this.rgba,$=U.rgba;return Y(V[0])&&Y($[0])?((U=1!==$[3]||1!==V[3])?"rgba(":"rgb(")+Math.round($[0]+(V[0]-$[0])*(1-at))+","+Math.round($[1]+(V[1]-$[1])*(1-at))+","+Math.round($[2]+(V[2]-$[2])*(1-at))+(U?","+($[3]+(V[3]-$[3])*(1-at)):"")+")":U.input||"none"},X.names={white:"#ffffff",black:"#000000"},X.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(U){return[et(U[1]),et(U[2]),et(U[3]),parseFloat(U[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(U){return[et(U[1]),et(U[2]),et(U[3]),1]}}],X.None=new X(""),X}()}),ft(dt,"Core/Color/Palettes.js",[],function(){return{colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")}}),ft(dt,"Core/Time.js",[dt["Core/Globals.js"],dt["Core/Utilities.js"]],function(E,K){var Y=E.win,ct=K.defined,et=K.error,X=K.extend,U=K.isObject,at=K.merge,V=K.objectEach,$=K.pad,H=K.pick,G=K.splat,J=K.timeUnits,z=E.isSafari&&Y.Intl&&Y.Intl.DateTimeFormat.prototype.formatRange,nt=E.isSafari&&Y.Intl&&!Y.Intl.DateTimeFormat.prototype.formatRange;return K=function(){function Q(lt){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=Y.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(lt)}return Q.prototype.get=function(lt,_t){if(this.variableTimezone||this.timezoneOffset){var Ct=_t.getTime(),kt=Ct-this.getTimezoneOffset(_t);return _t.setTime(kt),lt=_t["getUTC"+lt](),_t.setTime(Ct),lt}return this.useUTC?_t["getUTC"+lt]():_t["get"+lt]()},Q.prototype.set=function(lt,_t,Ct){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===lt||"Seconds"===lt||"Minutes"===lt&&this.getTimezoneOffset(_t)%36e5==0)return _t["setUTC"+lt](Ct);var kt=this.getTimezoneOffset(_t);return kt=_t.getTime()-kt,_t.setTime(kt),_t["setUTC"+lt](Ct),lt=this.getTimezoneOffset(_t),kt=_t.getTime()+lt,_t.setTime(kt)}return this.useUTC||z&&"FullYear"===lt?_t["setUTC"+lt](Ct):_t["set"+lt](Ct)},Q.prototype.update=function(lt){var _t=H(lt&&lt.useUTC,!0);this.options=lt=at(!0,this.options||{},lt),this.Date=lt.Date||Y.Date||Date,this.timezoneOffset=(this.useUTC=_t)&&lt.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=_t&&!(!lt.getTimezoneOffset&&!lt.timezone)},Q.prototype.makeTime=function(lt,_t,Ct,kt,Et,St){if(this.useUTC){var R=this.Date.UTC.apply(0,arguments),u=this.getTimezoneOffset(R),m=this.getTimezoneOffset(R+=u);u!==m?R+=m-u:u-36e5!==this.getTimezoneOffset(R-36e5)||nt||(R-=36e5)}else R=new this.Date(lt,_t,H(Ct,1),H(kt,0),H(Et,0),H(St,0)).getTime();return R},Q.prototype.timezoneOffsetFunction=function(){var lt=this,_t=this.options,Ct=_t.moment||Y.moment;if(!this.useUTC)return function(kt){return 6e4*new Date(kt.toString()).getTimezoneOffset()};if(_t.timezone){if(Ct)return function(kt){return 6e4*-Ct.tz(kt,_t.timezone).utcOffset()};et(25)}return this.useUTC&&_t.getTimezoneOffset?function(kt){return 6e4*_t.getTimezoneOffset(kt.valueOf())}:function(){return 6e4*(lt.timezoneOffset||0)}},Q.prototype.dateFormat=function(lt,_t,Ct){if(!ct(_t)||isNaN(_t))return E.defaultOptions.lang&&E.defaultOptions.lang.invalidDate||"";lt=H(lt,"%Y-%m-%d %H:%M:%S");var kt=this,Et=new this.Date(_t),St=this.get("Hours",Et),R=this.get("Day",Et),u=this.get("Date",Et),m=this.get("Month",Et),y=this.get("FullYear",Et),v=E.defaultOptions.lang,M=v&&v.weekdays,S=v&&v.shortWeekdays;return Et=X({a:S?S[R]:M[R].substr(0,3),A:M[R],d:$(u),e:$(u,2," "),w:R,b:v.shortMonths[m],B:v.months[m],m:$(m+1),o:m+1,y:y.toString().substr(2,2),Y:y,H:$(St),k:St,I:$(St%12||12),l:St%12||12,M:$(this.get("Minutes",Et)),p:12>St?"AM":"PM",P:12>St?"am":"pm",S:$(Et.getSeconds()),L:$(Math.floor(_t%1e3),3)},E.dateFormats),V(Et,function(I,C){for(;-1!==lt.indexOf("%"+C);)lt=lt.replace("%"+C,"function"==typeof I?I.call(kt,_t):I)}),Ct?lt.substr(0,1).toUpperCase()+lt.substr(1):lt},Q.prototype.resolveDTLFormat=function(lt){return U(lt,!0)?lt:{main:(lt=G(lt))[0],from:lt[1],to:lt[2]}},Q.prototype.getTimeTicks=function(lt,_t,Ct,kt){var v,Et=this,St=[],R={},u=new Et.Date(_t),m=lt.unitRange,y=lt.count||1;if(kt=H(kt,1),ct(_t)){if(Et.set("Milliseconds",u,m>=J.second?0:y*Math.floor(Et.get("Milliseconds",u)/y)),m>=J.second&&Et.set("Seconds",u,m>=J.minute?0:y*Math.floor(Et.get("Seconds",u)/y)),m>=J.minute&&Et.set("Minutes",u,m>=J.hour?0:y*Math.floor(Et.get("Minutes",u)/y)),m>=J.hour&&Et.set("Hours",u,m>=J.day?0:y*Math.floor(Et.get("Hours",u)/y)),m>=J.day&&Et.set("Date",u,m>=J.month?1:Math.max(1,y*Math.floor(Et.get("Date",u)/y))),m>=J.month){Et.set("Month",u,m>=J.year?0:y*Math.floor(Et.get("Month",u)/y));var M=Et.get("FullYear",u)}m>=J.year&&Et.set("FullYear",u,M-M%y),m===J.week&&(M=Et.get("Day",u),Et.set("Date",u,Et.get("Date",u)-M+kt+(M<kt?-7:0))),M=Et.get("FullYear",u),kt=Et.get("Month",u);var S=Et.get("Date",u),I=Et.get("Hours",u);for(_t=u.getTime(),!Et.variableTimezone&&Et.useUTC||!ct(Ct)||(v=Ct-_t>4*J.month||Et.getTimezoneOffset(_t)!==Et.getTimezoneOffset(Ct)),_t=u.getTime(),u=1;_t<Ct;)St.push(_t),_t=m===J.year?Et.makeTime(M+u*y,0):m===J.month?Et.makeTime(M,kt+u*y):!v||m!==J.day&&m!==J.week?v&&m===J.hour&&1<y?Et.makeTime(M,kt,S,I+u*y):_t+m*y:Et.makeTime(M,kt,S+u*y*(m===J.day?1:7)),u++;St.push(_t),m<=J.hour&&1e4>St.length&&St.forEach(function(C){C%18e5==0&&"000000000"===Et.dateFormat("%H%M%S%L",C)&&(R[C]="day")})}return St.info=X(lt,{higherRanks:R,totalRange:m*y}),St},Q.prototype.getDateFormat=function(lt,_t,Ct,kt){var Et=this.dateFormat("%m-%d %H:%M:%S.%L",_t),St={millisecond:15,second:12,minute:9,hour:6,day:3},R="millisecond";for(u in J){if(lt===J.week&&+this.dateFormat("%w",_t)===Ct&&"00:00:00.000"===Et.substr(6)){var u="week";break}if(J[u]>lt){u=R;break}if(St[u]&&Et.substr(St[u])!=="01-01 00:00:00.000".substr(St[u]))break;"week"!==u&&(R=u)}if(u)var m=this.resolveDTLFormat(kt[u]).main;return m},Q}(),K}),ft(dt,"Core/DefaultOptions.js",[dt["Core/Chart/ChartDefaults.js"],dt["Core/Color/Color.js"],dt["Core/Globals.js"],dt["Core/Color/Palettes.js"],dt["Core/Time.js"],dt["Core/Utilities.js"]],function(E,K,Y,ct,et,X){K=K.parse;var U=X.merge,at={colors:ct.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:E,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Y.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:Y.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:K("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"12px",whiteSpace:"nowrap"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};at.chart.styledMode=!1;var V=new et(U(at.global,at.time));return{defaultOptions:at,defaultTime:V,getOptions:function(){return at},setOptions:function($){return U(!0,at,$),($.time||$.global)&&(Y.time?Y.time.update(U(at.global,at.time,$.global,$.time)):Y.time=V),at}}}),ft(dt,"Core/Animation/Fx.js",[dt["Core/Color/Color.js"],dt["Core/Globals.js"],dt["Core/Utilities.js"]],function(E,K,Y){var ct=E.parse,et=K.win,X=Y.isNumber,U=Y.objectEach;return function(){function at(V,$,H){this.pos=NaN,this.options=$,this.elem=V,this.prop=H}return at.prototype.dSetter=function(){var V=this.paths,$=V&&V[0];V=V&&V[1];var H=this.now||0,G=[];if(1!==H&&$&&V)if($.length===V.length&&1>H)for(var J=0;J<V.length;J++){for(var z=$[J],nt=V[J],Q=[],lt=0;lt<nt.length;lt++){var _t=z[lt],Ct=nt[lt];Q[lt]=X(_t)&&X(Ct)&&("A"!==nt[0]||4!==lt&&5!==lt)?_t+H*(Ct-_t):Ct}G.push(Q)}else G=V;else G=this.toD||[];this.elem.attr("d",G,void 0,!0)},at.prototype.update=function(){var V=this.elem,$=this.prop,H=this.now,G=this.options.step;this[$+"Setter"]?this[$+"Setter"]():V.attr?V.element&&V.attr($,H,null,!0):V.style[$]=H+this.unit,G&&G.call(V,H,this)},at.prototype.run=function(V,$,H){var G=this,J=G.options,z=function(lt){return!z.stopped&&G.step(lt)},nt=et.requestAnimationFrame||function(lt){setTimeout(lt,13)},Q=function(){for(var lt=0;lt<at.timers.length;lt++)at.timers[lt]()||at.timers.splice(lt--,1);at.timers.length&&nt(Q)};V!==$||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=V,this.end=$,this.unit=H,this.now=this.start,this.pos=0,z.elem=this.elem,z.prop=this.prop,z()&&1===at.timers.push(z)&&nt(Q)):(delete J.curAnim[this.prop],J.complete&&0===Object.keys(J.curAnim).length&&J.complete.call(this.elem))},at.prototype.step=function(V){var $=+new Date,H=this.options,G=this.elem,J=H.complete,z=H.duration,nt=H.curAnim;if(G.attr&&!G.element)V=!1;else if(V||$>=z+this.startTime){this.now=this.end,this.pos=1,this.update();var Q=nt[this.prop]=!0;U(nt,function(lt){!0!==lt&&(Q=!1)}),Q&&J&&J.call(G),V=!1}else this.pos=H.easing(($-this.startTime)/z),this.now=this.start+(this.end-this.start)*this.pos,this.update(),V=!0;return V},at.prototype.initPath=function(V,$,H){function G(Et,St){for(;Et.length<kt;){var R=Et[0],u=St[kt-Et.length];u&&"M"===R[0]&&(Et[0]="C"===u[0]?["C",R[1],R[2],R[1],R[2],R[1],R[2]]:["L",R[1],R[2]]),Et.unshift(R),Q&&(R=Et.pop(),Et.push(Et[Et.length-1],R))}}function J(Et,St){for(;Et.length<kt;)if("C"===(St=Et[Math.floor(Et.length/lt)-1].slice())[0]&&(St[1]=St[5],St[2]=St[6]),Q){var R=Et[Math.floor(Et.length/lt)].slice();Et.splice(Et.length/2,0,St,R)}else Et.push(St)}var z=V.startX,nt=V.endX;H=H.slice();var Q=V.isArea,lt=Q?2:1;if(!($=$&&$.slice()))return[H,H];if(z&&nt&&nt.length){for(V=0;V<z.length;V++){if(z[V]===nt[0]){var _t=V;break}if(z[0]===nt[nt.length-z.length+V]){_t=V;var Ct=!0;break}if(z[z.length-1]===nt[nt.length-z.length+V]){_t=z.length-V;break}}void 0===_t&&($=[])}if($.length&&X(_t)){var kt=H.length+_t*lt;Ct?(G($,H),J(H,$)):(G(H,$),J($,H))}return[$,H]},at.prototype.fillSetter=function(){at.prototype.strokeSetter.apply(this,arguments)},at.prototype.strokeSetter=function(){this.elem.attr(this.prop,ct(this.start).tweenTo(ct(this.end),this.pos),null,!0)},at.timers=[],at}()}),ft(dt,"Core/Animation/AnimationUtilities.js",[dt["Core/Animation/Fx.js"],dt["Core/Utilities.js"]],function(E,K){function Y(J){return V(J)?$({duration:500,defer:0},J):{duration:J?500:0,defer:0}}function ct(J,z){for(var nt=E.timers.length;nt--;)E.timers[nt].elem!==J||z&&z!==E.timers[nt].prop||(E.timers[nt].stopped=!0)}var et=K.defined,X=K.getStyle,U=K.isArray,at=K.isNumber,V=K.isObject,$=K.merge,H=K.objectEach,G=K.pick;return{animate:function(J,z,nt){var Q,_t,Ct,lt="";if(!V(nt)){var kt=arguments;nt={duration:kt[2],easing:kt[3],complete:kt[4]}}at(nt.duration)||(nt.duration=400),nt.easing="function"==typeof nt.easing?nt.easing:Math[nt.easing]||Math.easeInOutSine,nt.curAnim=$(z),H(z,function(Et,St){ct(J,St),Ct=new E(J,nt,St),_t=void 0,"d"===St&&U(z.d)?(Ct.paths=Ct.initPath(J,J.pathArray,z.d),Ct.toD=z.d,Q=0,_t=1):J.attr?Q=J.attr(St):(Q=parseFloat(X(J,St))||0,"opacity"!==St&&(lt="px")),_t||(_t=Et),"string"==typeof _t&&_t.match("px")&&(_t=_t.replace(/px/g,"")),Ct.run(Q,_t,lt)})},animObject:Y,getDeferredAnimation:function(J,z,nt){var Q=Y(z),lt=0,_t=0;return(nt?[nt]:J.series).forEach(function(Ct){Ct=Y(Ct.options.animation),lt=z&&et(z.defer)?Q.defer:Math.max(lt,Ct.duration+Ct.defer),_t=Math.min(Q.duration,Ct.duration)}),J.renderer.forExport&&(lt=0),{defer:Math.max(0,lt-_t),duration:Math.min(lt,_t)}},setAnimation:function(J,z){z.renderer.globalAnimation=G(J,z.options.chart.animation,!0)},stop:ct}}),ft(dt,"Core/Renderer/HTML/AST.js",[dt["Core/Globals.js"],dt["Core/Utilities.js"]],function(E,K){var Y=E.SVG_NS,ct=K.attr,et=K.createElement,X=K.discardElement,U=K.error,at=K.isString,V=K.objectEach,$=K.splat;try{var H=!!(new DOMParser).parseFromString("","text/html")}catch(G){H=!1}return function(){function G(J){this.nodes="string"==typeof J?this.parseMarkup(J):J}return G.filterUserAttributes=function(J){return V(J,function(z,nt){var Q=!0;-1===G.allowedAttributes.indexOf(nt)&&(Q=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(nt)&&(Q=at(z)&&G.allowedReferences.some(function(lt){return 0===z.indexOf(lt)})),Q||(U("Highcharts warning: Invalid attribute '"+nt+"' in config"),delete J[nt])}),J},G.setElementHTML=function(J,z){J.innerHTML="",z&&new G(z).addToDOM(J)},G.prototype.addToDOM=function(J){return function z(nt,Q){var lt;return $(nt).forEach(function(_t){var Ct=_t.tagName,kt=_t.textContent?E.doc.createTextNode(_t.textContent):void 0;if(Ct)if("#text"===Ct)var Et=kt;else if(-1!==G.allowedTags.indexOf(Ct)){Ct=E.doc.createElementNS("svg"===Ct?Y:Q.namespaceURI||Y,Ct);var St=_t.attributes||{};V(_t,function(R,u){"tagName"!==u&&"attributes"!==u&&"children"!==u&&"textContent"!==u&&(St[u]=R)}),ct(Ct,G.filterUserAttributes(St)),kt&&Ct.appendChild(kt),z(_t.children||[],Ct),Et=Ct}else U("Highcharts warning: Invalid tagName '"+Ct+"' in config");Et&&Q.appendChild(Et),lt=Et}),lt}(this.nodes,J)},G.prototype.parseMarkup=function(J){var z=[];if(J=J.trim(),H)J=(new DOMParser).parseFromString(J,"text/html");else{var nt=et("div");nt.innerHTML=J,J={body:nt}}var Q=function(lt,_t){var Ct=lt.nodeName.toLowerCase(),kt={tagName:Ct};if("#text"===Ct&&(kt.textContent=lt.textContent||""),Ct=lt.attributes){var Et={};[].forEach.call(Ct,function(R){Et[R.name]=R.value}),kt.attributes=Et}if(lt.childNodes.length){var St=[];[].forEach.call(lt.childNodes,function(R){Q(R,St)}),St.length&&(kt.children=St)}_t.push(kt)};return[].forEach.call(J.body.childNodes,function(lt){return Q(lt,z)}),nt&&X(nt),z},G.allowedAttributes="aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align textAnchor textLength title type valign width x x1 x2 y y1 y2 zIndex".split(" "),G.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),G.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text thead tbody tspan td th tr u ul #text".split(" "),G}()}),ft(dt,"Core/FormatUtilities.js",[dt["Core/DefaultOptions.js"],dt["Core/Utilities.js"]],function(E,K){function Y($,H,G,J){H=+H;var z=ct.lang,nt=(($=+$||0).toString().split(".")[1]||"").split("e")[0].length,Q=$.toString().split("e"),lt=H;if(-1===H)H=Math.min(nt,20);else if(U(H)){if(H&&Q[1]&&0>Q[1]){var _t=H+ +Q[1];0<=_t?(Q[0]=(+Q[0]).toExponential(_t).split("e")[0],H=_t):(Q[0]=Q[0].split(".")[0]||0,$=20>H?(Q[0]*Math.pow(10,Q[1])).toFixed(H):0,Q[1]=0)}}else H=2;_t=(Math.abs(Q[1]?Q[0]:$)+Math.pow(10,-Math.max(H,nt)-1)).toFixed(H);var Ct=3<(nt=String(V(_t))).length?nt.length%3:0;return G=at(G,z.decimalPoint),J=at(J,z.thousandsSep),$=(0>$?"-":"")+(Ct?nt.substr(0,Ct)+J:""),$=0>+Q[1]&&!lt?"0":$+nt.substr(Ct).replace(/(\d{3})(?=\d)/g,"$1"+J),H&&($+=G+_t.slice(-H)),Q[1]&&0!=+$&&($+="e"+Q[1]),$}var ct=E.defaultOptions,et=E.defaultTime,X=K.getNestedProperty,U=K.isNumber,at=K.pick,V=K.pInt;return{dateFormat:function($,H,G){return et.dateFormat($,H,G)},format:function($,H,G){var J="{",z=!1,nt=/f$/,Q=/\.([0-9])/,lt=ct.lang,_t=G&&G.time||et;G=G&&G.numberFormatter||Y;for(var Ct=[];$;){var kt=$.indexOf(J);if(-1===kt)break;var Et=$.slice(0,kt);if(z){if(Et=Et.split(":"),J=X(Et.shift()||"",H),Et.length&&"number"==typeof J)if(Et=Et.join(":"),nt.test(Et)){var St=parseInt((Et.match(Q)||["","-1"])[1],10);null!==J&&(J=G(J,St,lt.decimalPoint,-1<Et.indexOf(",")?lt.thousandsSep:""))}else J=_t.dateFormat(Et,J);Ct.push(J)}else Ct.push(Et);$=$.slice(kt+1),J=(z=!z)?"}":"{"}return Ct.push($),Ct.join("")},numberFormat:Y}}),ft(dt,"Core/Renderer/RendererUtilities.js",[dt["Core/Utilities.js"]],function(E){var et,K=E.clamp,Y=E.pick,ct=E.stableSort;return(et||(et={})).distribute=function U(at,V,$){var nt,H=at,G=H.reducedLen||V,J=function(Ct,kt){return(kt.rank||0)-(Ct.rank||0)},z=function(Ct,kt){return Ct.target-kt.target},Q=!0,lt=[],_t=0;for(nt=at.length;nt--;)_t+=at[nt].size;if(_t>G){for(ct(at,J),_t=nt=0;_t<=G;)_t+=at[nt].size,nt++;lt=at.splice(nt-1,at.length)}for(ct(at,z),at=at.map(function(Ct){return{size:Ct.size,targets:[Ct.target],align:Y(Ct.align,.5)}});Q;){for(nt=at.length;nt--;)G=at[nt],J=(Math.min.apply(0,G.targets)+Math.max.apply(0,G.targets))/2,G.pos=K(J-G.size*G.align,0,V-G.size);for(nt=at.length,Q=!1;nt--;)0<nt&&at[nt-1].pos+at[nt-1].size>at[nt].pos&&(at[nt-1].size+=at[nt].size,at[nt-1].targets=at[nt-1].targets.concat(at[nt].targets),at[nt-1].align=.5,at[nt-1].pos+at[nt-1].size>V&&(at[nt-1].pos=V-at[nt-1].size),at.splice(nt,1),Q=!0)}return H.push.apply(H,lt),nt=0,at.some(function(Ct){var kt=0;return(Ct.targets||[]).some(function(){return H[nt].pos=Ct.pos+kt,void 0!==$&&Math.abs(H[nt].pos-H[nt].target)>$?(H.slice(0,nt+1).forEach(function(Et){return delete Et.pos}),H.reducedLen=(H.reducedLen||V)-.1*V,H.reducedLen>.1*V&&U(H,V,$),!0):(kt+=H[nt].size,nt++,!1)})}),ct(H,z),H},et}),ft(dt,"Core/Renderer/SVG/SVGElement.js",[dt["Core/Animation/AnimationUtilities.js"],dt["Core/Renderer/HTML/AST.js"],dt["Core/Color/Color.js"],dt["Core/Globals.js"],dt["Core/Utilities.js"]],function(E,K,Y,ct,et){var X=E.animate,U=E.animObject,at=E.stop,V=ct.deg2rad,$=ct.doc,H=ct.noop,G=ct.svg,J=ct.SVG_NS,z=ct.win,nt=et.addEvent,Q=et.attr,lt=et.createElement,_t=et.css,Ct=et.defined,kt=et.erase,Et=et.extend,St=et.fireEvent,R=et.isArray,u=et.isFunction,m=et.isNumber,y=et.isString,v=et.merge,M=et.objectEach,S=et.pick,I=et.pInt,C=et.syncTimeout,p=et.uniqueKey;return E=function(){function T(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=J,this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" ")}return T.prototype._defaultGetter=function(it){return it=S(this[it+"Value"],this[it],this.element?this.element.getAttribute(it):null,0),/^[\-0-9\.]+$/.test(it)&&(it=parseFloat(it)),it},T.prototype._defaultSetter=function(it,Z,W){W.setAttribute(Z,it)},T.prototype.add=function(it){var Z=this.renderer,W=this.element;if(it&&(this.parentGroup=it),this.parentInverted=it&&it.inverted,void 0!==this.textStr&&"text"===this.element.nodeName&&Z.buildText(this),this.added=!0,!it||it.handleZ||this.zIndex)var yt=this.zIndexSetter();return yt||(it?it.element:Z.box).appendChild(W),this.onAdd&&this.onAdd(),this},T.prototype.addClass=function(it,Z){var W=Z?"":this.attr("class")||"";return(it=(it||"").split(/ /g).reduce(function(yt,wt){return-1===W.indexOf(wt)&&yt.push(wt),yt},W?[W]:[]).join(" "))!==W&&this.attr("class",it),this},T.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},T.prototype.align=function(it,Z,W){var Ut,At,bt,yt={},wt=this.renderer,Vt=wt.alignedObjects;it?(this.alignOptions=it,this.alignByTranslate=Z,(!W||y(W))&&(this.alignTo=Ut=W||"renderer",kt(Vt,this),Vt.push(this),W=void 0)):(it=this.alignOptions,Z=this.alignByTranslate,Ut=this.alignTo),W=S(W,wt[Ut],"scrollablePlotBox"===Ut?wt.plotBox:void 0,wt);var qt=it.verticalAlign;return wt=(W.x||0)+(it.x||0),Vt=(W.y||0)+(it.y||0),"right"===(Ut=it.align)?At=1:"center"===Ut&&(At=2),At&&(wt+=(W.width-(it.width||0))/At),yt[Z?"translateX":"x"]=Math.round(wt),"bottom"===qt?bt=1:"middle"===qt&&(bt=2),bt&&(Vt+=(W.height-(it.height||0))/bt),yt[Z?"translateY":"y"]=Math.round(Vt),this[this.placed?"animate":"attr"](yt),this.placed=!0,this.alignAttr=yt,this},T.prototype.alignSetter=function(it){var Z={left:"start",center:"middle",right:"end"};Z[it]&&(this.alignValue=it,this.element.setAttribute("text-anchor",Z[it]))},T.prototype.animate=function(it,Z,W){var yt=this,wt=U(S(Z,this.renderer.globalAnimation,!0));return Z=wt.defer,S($.hidden,$.msHidden,$.webkitHidden,!1)&&(wt.duration=0),0!==wt.duration?(W&&(wt.complete=W),C(function(){yt.element&&X(yt,it,wt)},Z)):(this.attr(it,void 0,W),M(it,function(Vt,Ut){wt.step&&wt.step.call(this,Vt,{prop:Ut,pos:1,elem:this})},this)),this},T.prototype.applyTextOutline=function(it){var Z=this.element;-1!==it.indexOf("contrast")&&(it=it.replace(/contrast/g,this.renderer.getContrast(Z.style.fill)));var W=it.split(" ");if(it=W[W.length-1],(W=W[0])&&"none"!==W&&ct.svg){this.fakeTS=!0,this.ySetter=this.xSetter,W=W.replace(/(^[\d\.]+)(.*?)$/g,function(Vt,Ut,At){return 2*Number(Ut)+At}),this.removeTextOutline();var yt=$.createElementNS(J,"tspan");Q(yt,{class:"highcharts-text-outline",fill:it,stroke:it,"stroke-width":W,"stroke-linejoin":"round"}),[].forEach.call(Z.childNodes,function(Vt){var Ut=Vt.cloneNode(!0);Ut.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(function(At){return Ut.removeAttribute(At)}),yt.appendChild(Ut)});var wt=$.createElementNS(J,"tspan");wt.textContent="\u200b",["x","y"].forEach(function(Vt){var Ut=Z.getAttribute(Vt);Ut&&wt.setAttribute(Vt,Ut)}),yt.appendChild(wt),Z.insertBefore(yt,Z.firstChild)}},T.prototype.attr=function(it,Z,W,yt){var Ut,bt,qt,wt=this.element,Vt=this.symbolCustomAttribs,At=this;if("string"==typeof it&&void 0!==Z){var Rt=it;(it={})[Rt]=Z}return"string"==typeof it?At=(this[it+"Getter"]||this._defaultGetter).call(this,it,wt):(M(it,function(Dt,Bt){bt=!1,yt||at(this,Bt),this.symbolName&&-1!==Vt.indexOf(Bt)&&(Ut||(this.symbolAttr(it),Ut=!0),bt=!0),!this.rotation||"x"!==Bt&&"y"!==Bt||(this.doTransform=!0),bt||((qt=this[Bt+"Setter"]||this._defaultSetter).call(this,Dt,Bt,wt),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(Bt)&&this.updateShadows(Bt,Dt,qt))},this),this.afterSetters()),W&&W.call(this),At},T.prototype.clip=function(it){return this.attr("clip-path",it?"url("+this.renderer.url+"#"+it.id+")":"none")},T.prototype.crisp=function(it,Z){Z=Z||it.strokeWidth||0;var W=Math.round(Z)%2/2;return it.x=Math.floor(it.x||this.x||0)+W,it.y=Math.floor(it.y||this.y||0)+W,it.width=Math.floor((it.width||this.width||0)-2*W),it.height=Math.floor((it.height||this.height||0)-2*W),Ct(it.strokeWidth)&&(it.strokeWidth=Z),it},T.prototype.complexColor=function(it,Z,W){var wt,Vt,Ut,At,bt,qt,Rt,Dt,Bt,Zt,Ce,yt=this.renderer,Lt=[];St(this.renderer,"complexColor",{args:arguments},function(){if(it.radialGradient?Vt="radialGradient":it.linearGradient&&(Vt="linearGradient"),Vt){if(bt=yt.gradients,qt=it.stops,Bt=W.radialReference,R(Ut=it[Vt])&&(it[Vt]=Ut={x1:Ut[0],y1:Ut[1],x2:Ut[2],y2:Ut[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===Vt&&Bt&&!Ct(Ut.gradientUnits)&&(Ut=v(Ut,yt.getRadialAttr(Bt,At=Ut),{gradientUnits:"userSpaceOnUse"})),M(Ut,function(me,Si){"id"!==Si&&Lt.push(Si,me)}),M(qt,function(me){Lt.push(me)}),Lt=Lt.join(","),bt[Lt])Zt=bt[Lt].attr("id");else{Ut.id=Zt=p();var Ht=bt[Lt]=yt.createElement(Vt).attr(Ut).add(yt.defs);Ht.radAttr=At,Ht.stops=[],qt.forEach(function(me){0===me[1].indexOf("rgba")?(wt=Y.parse(me[1]),Rt=wt.get("rgb"),Dt=wt.get("a")):(Rt=me[1],Dt=1),me=yt.createElement("stop").attr({offset:me[0],"stop-color":Rt,"stop-opacity":Dt}).add(Ht),Ht.stops.push(me)})}W.setAttribute(Z,Ce="url("+yt.url+"#"+Zt+")"),W.gradient=Lt,it.toString=function(){return Ce}}})},T.prototype.css=function(it){var Z=this.styles,W={},yt=this.element,wt=["textOutline","textOverflow","width"],Vt="",Ut=!Z;if(it&&it.color&&(it.fill=it.color),Z&&M(it,function(qt,Rt){Z&&Z[Rt]!==qt&&(W[Rt]=qt,Ut=!0)}),Ut){if(Z&&(it=Et(Z,W)),it)if(null===it.width||"auto"===it.width)delete this.textWidth;else if("text"===yt.nodeName.toLowerCase()&&it.width)var At=this.textWidth=I(it.width);if(this.styles=it,At&&!G&&this.renderer.forExport&&delete it.width,yt.namespaceURI===this.SVG_NS){var bt=function(qt,Rt){return"-"+Rt.toLowerCase()};M(it,function(qt,Rt){-1===wt.indexOf(Rt)&&(Vt+=Rt.replace(/([A-Z])/g,bt)+":"+qt+";")}),Vt&&Q(yt,"style",Vt)}else _t(yt,it);this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),it&&it.textOutline&&this.applyTextOutline(it.textOutline))}return this},T.prototype.dashstyleSetter=function(it){var Z=this["stroke-width"];if("inherit"===Z&&(Z=1),it=it&&it.toLowerCase()){var W=it.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(it=W.length;it--;)W[it]=""+I(W[it])*S(Z,NaN);it=W.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",it)}},T.prototype.destroy=function(){var it=this,Z=it.element||{},W=it.renderer,yt=Z.ownerSVGElement,wt=W.isSVG&&"SPAN"===Z.nodeName&&it.parentGroup||void 0;if(Z.onclick=Z.onmouseout=Z.onmouseover=Z.onmousemove=Z.point=null,at(it),it.clipPath&&yt){var Vt=it.clipPath;[].forEach.call(yt.querySelectorAll("[clip-path],[CLIP-PATH]"),function(Ut){-1<Ut.getAttribute("clip-path").indexOf(Vt.element.id)&&Ut.removeAttribute("clip-path")}),it.clipPath=Vt.destroy()}if(it.stops){for(yt=0;yt<it.stops.length;yt++)it.stops[yt].destroy();it.stops.length=0,it.stops=void 0}for(it.safeRemoveChild(Z),W.styledMode||it.destroyShadows();wt&&wt.div&&0===wt.div.childNodes.length;)Z=wt.parentGroup,it.safeRemoveChild(wt.div),delete wt.div,wt=Z;it.alignTo&&kt(W.alignedObjects,it),M(it,function(Ut,At){it[At]&&it[At].parentGroup===it&&it[At].destroy&&it[At].destroy(),delete it[At]})},T.prototype.destroyShadows=function(){(this.shadows||[]).forEach(function(it){this.safeRemoveChild(it)},this),this.shadows=void 0},T.prototype.destroyTextPath=function(it,Z){var W=it.getElementsByTagName("text")[0];if(W){if(W.removeAttribute("dx"),W.removeAttribute("dy"),Z.element.setAttribute("id",""),this.textPathWrapper&&W.getElementsByTagName("textPath").length){for(it=this.textPathWrapper.element.childNodes;it.length;)W.appendChild(it[0]);W.removeChild(this.textPathWrapper.element)}}else(it.getAttribute("dx")||it.getAttribute("dy"))&&(it.removeAttribute("dx"),it.removeAttribute("dy"));this.textPathWrapper&&(this.textPathWrapper=this.textPathWrapper.destroy())},T.prototype.dSetter=function(it,Z,W){R(it)&&("string"==typeof it[0]&&(it=this.renderer.pathToSegments(it)),this.pathArray=it,it=it.reduce(function(yt,wt,Vt){return wt&&wt.join?(Vt?yt+" ":"")+wt.join(" "):(wt||"").toString()},"")),/(NaN| {2}|^$)/.test(it)&&(it="M 0 0"),this[Z]!==it&&(W.setAttribute(Z,it),this[Z]=it)},T.prototype.fadeOut=function(it){var Z=this;Z.animate({opacity:0},{duration:S(it,150),complete:function(){Z.attr({y:-9999}).hide()}})},T.prototype.fillSetter=function(it,Z,W){"string"==typeof it?W.setAttribute(Z,it):it&&this.complexColor(it,Z,W)},T.prototype.getBBox=function(it,Z){var W=this.renderer,yt=this.element,wt=this.styles,Vt=this.textStr,Ut=W.cache,At=W.cacheKeys,bt=yt.namespaceURI===this.SVG_NS;Z=S(Z,this.rotation,0);var Rt,qt=W.styledMode?yt&&T.prototype.getStyle.call(yt,"font-size"):wt&&wt.fontSize;if(Ct(Vt)){var Dt=Vt.toString();-1===Dt.indexOf("<")&&(Dt=Dt.replace(/[0-9]/g,"0")),Dt+=["",Z,qt,this.textWidth,wt&&wt.textOverflow,wt&&wt.fontWeight].join()}if(Dt&&!it&&(Rt=Ut[Dt]),!Rt){if(bt||W.forExport){try{var Bt=this.fakeTS&&function(Zt){var Lt=yt.querySelector(".highcharts-text-outline");Lt&&_t(Lt,{display:Zt})};u(Bt)&&Bt("none"),Rt=yt.getBBox?Et({},yt.getBBox()):{width:yt.offsetWidth,height:yt.offsetHeight},u(Bt)&&Bt("")}catch(Zt){}(!Rt||0>Rt.width)&&(Rt={width:0,height:0})}else Rt=this.htmlGetBBox();if(W.isSVG&&(it=Rt.width,W=Rt.height,bt&&(Rt.height=W={"11px,17":14,"13px,20":16}[wt&&wt.fontSize+","+Math.round(W)]||W),Z&&(wt=Z*V,Rt.width=Math.abs(W*Math.sin(wt))+Math.abs(it*Math.cos(wt)),Rt.height=Math.abs(W*Math.cos(wt))+Math.abs(it*Math.sin(wt)))),Dt&&(""===Vt||0<Rt.height)){for(;250<At.length;)delete Ut[At.shift()];Ut[Dt]||At.push(Dt),Ut[Dt]=Rt}}return Rt},T.prototype.getStyle=function(it){return z.getComputedStyle(this.element||this,"").getPropertyValue(it)},T.prototype.hasClass=function(it){return-1!==(""+this.attr("class")).split(" ").indexOf(it)},T.prototype.hide=function(it){return this.attr(it?{y:-9999}:{visibility:"hidden"}),this},T.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}},T.prototype.init=function(it,Z){this.element="span"===Z?lt(Z):$.createElementNS(this.SVG_NS,Z),this.renderer=it,St(this,"afterInit")},T.prototype.invert=function(it){return this.inverted=it,this.updateTransform(),this},T.prototype.on=function(it,Z){var W=this.onEvents;return W[it]&&W[it](),W[it]=nt(this.element,it,Z),this},T.prototype.opacitySetter=function(it,Z,W){this.opacity=it=Number(Number(it).toFixed(3)),W.setAttribute(Z,it)},T.prototype.removeClass=function(it){return this.attr("class",(""+this.attr("class")).replace(y(it)?new RegExp("(^| )"+it+"( |$)"):it," ").replace(/ +/g," ").trim())},T.prototype.removeTextOutline=function(){var it=this.element.querySelector("tspan.highcharts-text-outline");it&&this.safeRemoveChild(it)},T.prototype.safeRemoveChild=function(it){var Z=it.parentNode;Z&&Z.removeChild(it)},T.prototype.setRadialReference=function(it){var Z=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=it,Z&&Z.radAttr&&Z.animate(this.renderer.getRadialAttr(it,Z.radAttr)),this},T.prototype.setTextPath=function(it,Z){var W=this.element,yt=this.text?this.text.element:W,wt={textAnchor:"text-anchor"},Vt=!1,Ut=this.textPathWrapper,At=!Ut;Z=v(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},Z);var bt=K.filterUserAttributes(Z.attributes);if(it&&Z&&Z.enabled){Ut&&null===Ut.element.parentNode?(At=!0,Ut=Ut.destroy()):Ut&&this.removeTextOutline.call(Ut.parentGroup),this.options&&this.options.padding&&(bt.dx=-this.options.padding),Ut||(this.textPathWrapper=Ut=this.renderer.createElement("textPath"),Vt=!0);var qt=Ut.element;if((Z=it.element.getAttribute("id"))||it.element.setAttribute("id",Z=p()),At)for(yt.setAttribute("y",0),m(bt.dx)&&yt.setAttribute("x",-bt.dx),it=[].slice.call(yt.childNodes),At=0;At<it.length;At++){var Rt=it[At];Rt.nodeType!==z.Node.TEXT_NODE&&"tspan"!==Rt.nodeName||qt.appendChild(Rt)}Vt&&Ut&&Ut.add({element:yt}),qt.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+Z),Ct(bt.dy)&&(qt.parentNode.setAttribute("dy",bt.dy),delete bt.dy),Ct(bt.dx)&&(qt.parentNode.setAttribute("dx",bt.dx),delete bt.dx),M(bt,function(Dt,Bt){qt.setAttribute(wt[Bt]||Bt,Dt)}),W.removeAttribute("transform"),this.removeTextOutline.call(Ut),this.text&&!this.renderer.styledMode&&this.attr({fill:"none","stroke-width":0}),this.applyTextOutline=this.updateTransform=H}else Ut&&(delete this.updateTransform,delete this.applyTextOutline,this.destroyTextPath(W,it),this.updateTransform(),this.options&&this.options.rotation&&this.applyTextOutline(this.options.style.textOutline));return this},T.prototype.shadow=function(it,Z,W){var bt,yt=[],wt=this.element,Vt=this.oldShadowOptions,Ut={color:"#000000",offsetX:this.parentInverted?-1:1,offsetY:this.parentInverted?-1:1,opacity:.15,width:3},At=!1;if(!0===it?bt=Ut:"object"==typeof it&&(bt=Et(Ut,it)),bt&&(bt&&Vt&&M(bt,function(Zt,Lt){Zt!==Vt[Lt]&&(At=!0)}),At&&this.destroyShadows(),this.oldShadowOptions=bt),bt){if(!this.shadows){var qt=bt.opacity/bt.width,Rt=this.parentInverted?"translate("+bt.offsetY+", "+bt.offsetX+")":"translate("+bt.offsetX+", "+bt.offsetY+")";for(Ut=1;Ut<=bt.width;Ut++){var Dt=wt.cloneNode(!1),Bt=2*bt.width+1-2*Ut;Q(Dt,{stroke:it.color||"#000000","stroke-opacity":qt*Ut,"stroke-width":Bt,transform:Rt,fill:"none"}),Dt.setAttribute("class",(Dt.getAttribute("class")||"")+" highcharts-shadow"),W&&(Q(Dt,"height",Math.max(Q(Dt,"height")-Bt,0)),Dt.cutHeight=Bt),Z?Z.element.appendChild(Dt):wt.parentNode&&wt.parentNode.insertBefore(Dt,wt),yt.push(Dt)}this.shadows=yt}}else this.destroyShadows();return this},T.prototype.show=function(it){return this.attr({visibility:it?"inherit":"visible"})},T.prototype.strokeSetter=function(it,Z,W){this[Z]=it,this.stroke&&this["stroke-width"]?(T.prototype.fillSetter.call(this,this.stroke,"stroke",W),W.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===Z&&0===it&&this.hasStroke?(W.removeAttribute("stroke"),this.hasStroke=!1):this.renderer.styledMode&&this["stroke-width"]&&(W.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0)},T.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var it=this.getStyle("stroke-width"),Z=0;if(it.indexOf("px")===it.length-2)Z=I(it);else if(""!==it){var W=$.createElementNS(J,"rect");Q(W,{width:it,"stroke-width":0}),this.element.parentNode.appendChild(W),Z=W.getBBox().width,W.parentNode.removeChild(W)}return Z},T.prototype.symbolAttr=function(it){var Z=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach(function(W){Z[W]=S(it[W],Z[W])}),Z.attr({d:Z.renderer.symbols[Z.symbolName](Z.x,Z.y,Z.width,Z.height,Z)})},T.prototype.textSetter=function(it){it!==this.textStr&&(delete this.textPxLength,this.textStr=it,this.added&&this.renderer.buildText(this))},T.prototype.titleSetter=function(it){var Z=this.element,W=Z.getElementsByTagName("title")[0]||$.createElementNS(this.SVG_NS,"title");Z.insertBefore?Z.insertBefore(W,Z.firstChild):Z.appendChild(W),W.textContent=String(S(it,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")},T.prototype.toFront=function(){var it=this.element;return it.parentNode.appendChild(it),this},T.prototype.translate=function(it,Z){return this.attr({translateX:it,translateY:Z})},T.prototype.updateShadows=function(it,Z,W){var yt=this.shadows;if(yt)for(var wt=yt.length;wt--;)W.call(yt[wt],"height"===it?Math.max(Z-(yt[wt].cutHeight||0),0):"d"===it?this.d:Z,it,yt[wt])},T.prototype.updateTransform=function(){var it=this.scaleX,Z=this.scaleY,W=this.inverted,yt=this.rotation,wt=this.matrix,Vt=this.element,Ut=this.translateX||0,At=this.translateY||0;W&&(Ut+=this.width,At+=this.height),Ut=["translate("+Ut+","+At+")"],Ct(wt)&&Ut.push("matrix("+wt.join(",")+")"),W?Ut.push("rotate(90) scale(-1,1)"):yt&&Ut.push("rotate("+yt+" "+S(this.rotationOriginX,Vt.getAttribute("x"),0)+" "+S(this.rotationOriginY,Vt.getAttribute("y")||0)+")"),(Ct(it)||Ct(Z))&&Ut.push("scale("+S(it,1)+" "+S(Z,1)+")"),Ut.length&&Vt.setAttribute("transform",Ut.join(" "))},T.prototype.visibilitySetter=function(it,Z,W){"inherit"===it?W.removeAttribute(Z):this[Z]!==it&&W.setAttribute(Z,it),this[Z]=it},T.prototype.xGetter=function(it){return"circle"===this.element.nodeName&&("x"===it?it="cx":"y"===it&&(it="cy")),this._defaultGetter(it)},T.prototype.zIndexSetter=function(it,Z){var W=this.renderer,yt=this.parentGroup,wt=(yt||W).element||W.box,Vt=this.element;W=wt===W.box;var bt,Ut=!1,At=this.added;if(Ct(it)?(Vt.setAttribute("data-z-index",it),this[Z]===(it=+it)&&(At=!1)):Ct(this[Z])&&Vt.removeAttribute("data-z-index"),this[Z]=it,At){for((it=this.zIndex)&&yt&&(yt.handleZ=!0),bt=(Z=wt.childNodes).length-1;0<=bt&&!Ut;bt--){At=(yt=Z[bt]).getAttribute("data-z-index");var qt=!Ct(At);yt!==Vt&&(0>it&&qt&&!W&&!bt?(wt.insertBefore(Vt,Z[bt]),Ut=!0):(I(At)<=it||qt&&(!Ct(it)||0<=it))&&(wt.insertBefore(Vt,Z[bt+1]||null),Ut=!0))}Ut||(wt.insertBefore(Vt,Z[W?3:0]||null),Ut=!0)}return Ut},T}(),E.prototype["stroke-widthSetter"]=E.prototype.strokeSetter,E.prototype.yGetter=E.prototype.xGetter,E.prototype.matrixSetter=E.prototype.rotationOriginXSetter=E.prototype.rotationOriginYSetter=E.prototype.rotationSetter=E.prototype.scaleXSetter=E.prototype.scaleYSetter=E.prototype.translateXSetter=E.prototype.translateYSetter=E.prototype.verticalAlignSetter=function(T,it){this[it]=T,this.doTransform=!0},E}),ft(dt,"Core/Renderer/RendererRegistry.js",[dt["Core/Globals.js"]],function(E){var K,Y,ct;return(Y=K||(K={})).rendererTypes={},Y.getRendererType=function(et){return void 0===et&&(et=ct),Y.rendererTypes[et]||Y.rendererTypes[ct]},Y.registerRendererType=function(et,X,U){Y.rendererTypes[et]=X,(!ct||U)&&(ct=et,E.Renderer=X)},K}),ft(dt,"Core/Renderer/SVG/SVGLabel.js",[dt["Core/Renderer/SVG/SVGElement.js"],dt["Core/Utilities.js"]],function(E,K){var $,Y=this&&this.__extends||($=function(H,G){return($=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,z){J.__proto__=z}||function(J,z){for(var nt in z)z.hasOwnProperty(nt)&&(J[nt]=z[nt])})(H,G)},function(H,G){function J(){this.constructor=H}$(H,G),H.prototype=null===G?Object.create(G):(J.prototype=G.prototype,new J)}),ct=K.defined,et=K.extend,X=K.isNumber,U=K.merge,at=K.pick,V=K.removeEvent;return function($){function H(G,J,z,nt,Q,lt,_t,Ct,kt,Et){var R,St=$.call(this)||this;return St.paddingLeftSetter=St.paddingSetter,St.paddingRightSetter=St.paddingSetter,St.init(G,"g"),St.textStr=J,St.x=z,St.y=nt,St.anchorX=lt,St.anchorY=_t,St.baseline=kt,St.className=Et,St.addClass("button"===Et?"highcharts-no-tooltip":"highcharts-label"),Et&&St.addClass("highcharts-"+Et),St.text=G.text(void 0,0,0,Ct).attr({zIndex:1}),"string"==typeof Q&&((R=/^url\((.*?)\)$/.test(Q))||St.renderer.symbols[Q])&&(St.symbolKey=Q),St.bBox=H.emptyBBox,St.padding=3,St.baselineOffset=0,St.needsBox=G.styledMode||R,St.deferredAttr={},St.alignFactor=0,St}return Y(H,$),H.prototype.alignSetter=function(G){(G={left:0,center:.5,right:1}[G])!==this.alignFactor&&(this.alignFactor=G,this.bBox&&X(this.xSetting)&&this.attr({x:this.xSetting}))},H.prototype.anchorXSetter=function(G,J){this.anchorX=G,this.boxAttr(J,Math.round(G)-this.getCrispAdjust()-this.xSetting)},H.prototype.anchorYSetter=function(G,J){this.anchorY=G,this.boxAttr(J,G-this.ySetting)},H.prototype.boxAttr=function(G,J){this.box?this.box.attr(G,J):this.deferredAttr[G]=J},H.prototype.css=function(G){if(G){var J={};G=U(G),H.textProps.forEach(function(nt){void 0!==G[nt]&&(J[nt]=G[nt],delete G[nt])}),this.text.css(J);var z="width"in J;"fontSize"in J||"fontWeight"in J?this.updateTextPadding():z&&this.updateBoxSize()}return E.prototype.css.call(this,G)},H.prototype.destroy=function(){V(this.element,"mouseenter"),V(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),E.prototype.destroy.call(this)},H.prototype.fillSetter=function(G,J){G&&(this.needsBox=!0),this.fill=G,this.boxAttr(J,G)},H.prototype.getBBox=function(){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();var G=this.padding,J=at(this.paddingLeft,G);return{width:this.width,height:this.height,x:this.bBox.x-J,y:this.bBox.y-G}},H.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2},H.prototype.heightSetter=function(G){this.heightSetting=G},H.prototype.onAdd=function(){var G=this.textStr;this.text.add(this),this.attr({text:ct(G)?G:"",x:this.x,y:this.y}),this.box&&ct(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})},H.prototype.paddingSetter=function(G,J){X(G)?G!==this[J]&&(this[J]=G,this.updateTextPadding()):this[J]=void 0},H.prototype.rSetter=function(G,J){this.boxAttr(J,G)},H.prototype.shadow=function(G){return G&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(G)),this},H.prototype.strokeSetter=function(G,J){this.stroke=G,this.boxAttr(J,G)},H.prototype["stroke-widthSetter"]=function(G,J){G&&(this.needsBox=!0),this["stroke-width"]=G,this.boxAttr(J,G)},H.prototype["text-alignSetter"]=function(G){this.textAlign=G},H.prototype.textSetter=function(G){void 0!==G&&this.text.attr({text:G}),this.updateTextPadding()},H.prototype.updateBoxSize=function(){var G=this.text.element.style,J={},z=this.padding,nt=this.bBox=X(this.widthSetting)&&X(this.heightSetting)&&!this.textAlign||!ct(this.text.textStr)?H.emptyBBox:this.text.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||nt.height||0)+2*z,G=this.renderer.fontMetrics(G&&G.fontSize,this.text),this.baselineOffset=z+Math.min((this.text.firstLineMetrics||G).b,nt.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-G.h)/2),this.needsBox&&(this.box||((z=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect()).addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),z.add(this)),z=this.getCrispAdjust(),J.x=z,J.y=(this.baseline?-this.baselineOffset:0)+z,J.width=Math.round(this.width),J.height=Math.round(this.height),this.box.attr(et(J,this.deferredAttr)),this.deferredAttr={})},H.prototype.updateTextPadding=function(){var G=this.text;this.updateBoxSize();var J=this.baseline?0:this.baselineOffset,z=at(this.paddingLeft,this.padding);ct(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(z+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(z!==G.x||J!==G.y)&&(G.attr("x",z),G.hasBoxWidthChanged&&(this.bBox=G.getBBox(!0)),void 0!==J&&G.attr("y",J)),G.x=z,G.y=J},H.prototype.widthSetter=function(G){this.widthSetting=X(G)?G:void 0},H.prototype.getPaddedWidth=function(){var G=this.padding,J=at(this.paddingLeft,G);return G=at(this.paddingRight,G),(this.widthSetting||this.bBox.width||0)+J+G},H.prototype.xSetter=function(G){this.x=G,this.alignFactor&&(G-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(G),this.attr("translateX",this.xSetting)},H.prototype.ySetter=function(G){this.ySetting=this.y=Math.round(G),this.attr("translateY",this.ySetting)},H.emptyBBox={width:0,height:0,x:0,y:0},H.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" "),H}(E)}),ft(dt,"Core/Renderer/SVG/Symbols.js",[dt["Core/Utilities.js"]],function(E){function K(at,V,$,H,G){var J=[];if(G){var z=G.start||0,nt=U(G.r,$);$=U(G.r,H||$);var Q=(G.end||0)-.001;H=G.innerR;var lt=U(G.open,.001>Math.abs((G.end||0)-z-2*Math.PI)),_t=Math.cos(z),Ct=Math.sin(z),kt=Math.cos(Q),Et=Math.sin(Q);z=U(G.longArc,.001>Q-z-Math.PI?0:1),J.push(["M",at+nt*_t,V+$*Ct],["A",nt,$,0,z,U(G.clockwise,1),at+nt*kt,V+$*Et]),et(H)&&J.push(lt?["M",at+H*kt,V+H*Et]:["L",at+H*kt,V+H*Et],["A",H,H,0,z,et(G.clockwise)?1-G.clockwise:0,at+H*_t,V+H*Ct]),lt||J.push(["Z"])}return J}function Y(at,V,$,H,G){return G&&G.r?ct(at,V,$,H,G):[["M",at,V],["L",at+$,V],["L",at+$,V+H],["L",at,V+H],["Z"]]}function ct(at,V,$,H,G){return[["M",at+(G=G&&G.r||0),V],["L",at+$-G,V],["C",at+$,V,at+$,V,at+$,V+G],["L",at+$,V+H-G],["C",at+$,V+H,at+$,V+H,at+$-G,V+H],["L",at+G,V+H],["C",at,V+H,at,V+H,at,V+H-G],["L",at,V+G],["C",at,V,at,V,at+G,V]]}var et=E.defined,X=E.isNumber,U=E.pick;return{arc:K,callout:function(at,V,$,H,G){var J=Math.min(G&&G.r||0,$,H),z=J+6,nt=G&&G.anchorX;G=G&&G.anchorY||0;var Q=ct(at,V,$,H,{r:J});return X(nt)&&(at+nt>=$?G>V+z&&G<V+H-z?Q.splice(3,1,["L",at+$,G-6],["L",at+$+6,G],["L",at+$,G+6],["L",at+$,V+H-J]):Q.splice(3,1,["L",at+$,H/2],["L",nt,G],["L",at+$,H/2],["L",at+$,V+H-J]):0>=at+nt?G>V+z&&G<V+H-z?Q.splice(7,1,["L",at,G+6],["L",at-6,G],["L",at,G-6],["L",at,V+J]):Q.splice(7,1,["L",at,H/2],["L",nt,G],["L",at,H/2],["L",at,V+J]):G&&G>H&&nt>at+z&&nt<at+$-z?Q.splice(5,1,["L",nt+6,V+H],["L",nt,V+H+6],["L",nt-6,V+H],["L",at+J,V+H]):G&&0>G&&nt>at+z&&nt<at+$-z&&Q.splice(1,1,["L",nt-6,V],["L",nt,V-6],["L",nt+6,V],["L",$-J,V])),Q},circle:function(at,V,$,H){return K(at+$/2,V+H/2,$/2,H/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(at,V,$,H){return[["M",at+$/2,V],["L",at+$,V+H/2],["L",at+$/2,V+H],["L",at,V+H/2],["Z"]]},rect:Y,roundedRect:ct,square:Y,triangle:function(at,V,$,H){return[["M",at+$/2,V],["L",at+$,V+H],["L",at,V+H],["Z"]]},"triangle-down":function(at,V,$,H){return[["M",at,V],["L",at+$,V],["L",at+$/2,V+H],["Z"]]}}}),ft(dt,"Core/Renderer/SVG/TextBuilder.js",[dt["Core/Renderer/HTML/AST.js"],dt["Core/Globals.js"],dt["Core/Utilities.js"]],function(E,K,Y){var ct=K.doc,et=K.SVG_NS,X=K.win,U=Y.attr,at=Y.isString,V=Y.objectEach,$=Y.pick;return function(){function H(G){var J=G.styles;this.renderer=G.renderer,this.svgElement=G,this.width=G.textWidth,this.textLineHeight=J&&J.lineHeight,this.textOutline=J&&J.textOutline,this.ellipsis=!(!J||"ellipsis"!==J.textOverflow),this.noWrap=!(!J||"nowrap"!==J.whiteSpace),this.fontSize=J&&J.fontSize}return H.prototype.buildSVG=function(){var G=this.svgElement,J=G.element,z=G.renderer,nt=$(G.textStr,"").toString(),Q=-1!==nt.indexOf("<"),lt=J.childNodes;z=this.width&&!G.added&&z.box;var Ct=[nt,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,this.fontSize,this.width].join();if(Ct!==G.textCache){for(G.textCache=Ct,delete G.actualWidth,Ct=lt.length;Ct--;)J.removeChild(lt[Ct]);Q||this.ellipsis||this.width||-1!==nt.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(nt))?""!==nt&&(z&&z.appendChild(J),nt=new E(nt),this.modifyTree(nt.nodes),nt.addToDOM(G.element),this.modifyDOM(),this.ellipsis&&-1!==(J.textContent||"").indexOf("\u2026")&&G.attr("title",this.unescapeEntities(G.textStr||"",["&lt;","&gt;"])),z&&z.removeChild(J)):J.appendChild(ct.createTextNode(this.unescapeEntities(nt))),at(this.textOutline)&&G.applyTextOutline&&G.applyTextOutline(this.textOutline)}},H.prototype.modifyDOM=function(){var nt,G=this,J=this.svgElement,z=U(J.element,"x");for(J.firstLineMetrics=void 0;(nt=J.element.firstChild)&&/^[\s\u200B]*$/.test(nt.textContent||" ");)J.element.removeChild(nt);[].forEach.call(J.element.querySelectorAll("tspan.highcharts-br"),function(Ct,kt){Ct.nextSibling&&Ct.previousSibling&&(0===kt&&1===Ct.previousSibling.nodeType&&(J.firstLineMetrics=J.renderer.fontMetrics(void 0,Ct.previousSibling)),U(Ct,{dy:G.getLineHeight(Ct.nextSibling),x:z}))});var Q=this.width||0;if(Q){var _t=function(Ct){[].slice.call(Ct.childNodes).forEach(function(kt){kt.nodeType===X.Node.TEXT_NODE?function(Ct,kt){var Et=Ct.textContent||"",St=Et.replace(/([^\^])-/g,"$1- ").split(" "),R=!G.noWrap&&(1<St.length||1<J.element.childNodes.length),u=G.getLineHeight(kt),m=0,y=J.actualWidth;if(G.ellipsis)Et&&G.truncate(Ct,Et,void 0,0,Math.max(0,Q-parseInt(G.fontSize||12,10)),function(v,M){return v.substring(0,M)+"\u2026"});else if(R){for(Et=[],R=[];kt.firstChild&&kt.firstChild!==Ct;)R.push(kt.firstChild),kt.removeChild(kt.firstChild);for(;St.length;)St.length&&!G.noWrap&&0<m&&(Et.push(Ct.textContent||""),Ct.textContent=St.join(" ").replace(/- /g,"-")),G.truncate(Ct,void 0,St,0===m&&y||0,Q,function(v,M){return St.slice(0,M).join(" ").replace(/- /g,"-")}),y=J.actualWidth,m++;R.forEach(function(v){kt.insertBefore(v,Ct)}),Et.forEach(function(v){kt.insertBefore(ct.createTextNode(v),Ct),(v=ct.createElementNS(et,"tspan")).textContent="\u200b",U(v,{dy:u,x:z}),kt.insertBefore(v,Ct)})}}(kt,Ct):(-1!==kt.className.baseVal.indexOf("highcharts-br")&&(J.actualWidth=0),_t(kt))})};_t(J.element)}},H.prototype.getLineHeight=function(G){var J;return G=G.nodeType===X.Node.TEXT_NODE?G.parentElement:G,this.renderer.styledMode||(J=G&&/(px|em)$/.test(G.style.fontSize)?G.style.fontSize:this.fontSize||this.renderer.style.fontSize||12),this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(J,G||this.svgElement.element).h},H.prototype.modifyTree=function(G){var J=this,z=function(nt,Q){var lt=nt.tagName,_t=J.renderer.styledMode,Ct=nt.attributes||{};"b"===lt||"strong"===lt?_t?Ct.class="highcharts-strong":Ct.style="font-weight:bold;"+(Ct.style||""):("i"===lt||"em"===lt)&&(_t?Ct.class="highcharts-emphasized":Ct.style="font-style:italic;"+(Ct.style||"")),at(Ct.style)&&(Ct.style=Ct.style.replace(/(;| |^)color([ :])/,"$1fill$2")),"br"===lt&&(Ct.class="highcharts-br",nt.textContent="\u200b",(Q=G[Q+1])&&Q.textContent&&(Q.textContent=Q.textContent.replace(/^ +/gm,""))),"#text"!==lt&&"a"!==lt&&(nt.tagName="tspan"),nt.attributes=Ct,nt.children&&nt.children.filter(function(kt){return"#text"!==kt.tagName}).forEach(z)};G.forEach(z)},H.prototype.truncate=function(G,J,z,nt,Q,lt){var m,_t=this.svgElement,Ct=_t.renderer,kt=_t.rotation,Et=[],St=z?1:0,R=(J||z||"").length,u=R,y=function(M,S){S=S||M;var I=G.parentNode;if(I&&void 0===Et[S])if(I.getSubStringLength)try{Et[S]=nt+I.getSubStringLength(0,z?S+1:S)}catch(C){}else Ct.getSpanWidth&&(G.textContent=lt(J||z,M),Et[S]=nt+Ct.getSpanWidth(_t,G));return Et[S]};_t.rotation=0;var v=y(G.textContent.length);if(nt+v>Q){for(;St<=R;)u=Math.ceil((St+R)/2),z&&(m=lt(z,u)),v=y(u,m&&m.length-1),St===R?St=R+1:v>Q?R=u-1:St=u;0===R?G.textContent="":J&&R===J.length-1||(G.textContent=m||lt(J||z,u))}z&&z.splice(0,u),_t.actualWidth=v,_t.rotation=kt},H.prototype.unescapeEntities=function(G,J){return V(this.renderer.escapes,function(z,nt){J&&-1!==J.indexOf(z)||(G=G.toString().replace(new RegExp(z,"g"),nt))}),G},H}()}),ft(dt,"Core/Renderer/SVG/SVGRenderer.js",[dt["Core/Renderer/HTML/AST.js"],dt["Core/Color/Color.js"],dt["Core/Globals.js"],dt["Core/Renderer/RendererRegistry.js"],dt["Core/Renderer/SVG/SVGElement.js"],dt["Core/Renderer/SVG/SVGLabel.js"],dt["Core/Renderer/SVG/Symbols.js"],dt["Core/Renderer/SVG/TextBuilder.js"],dt["Core/Utilities.js"]],function(E,K,Y,ct,et,X,U,at,V){var Z,$=Y.charts,H=Y.deg2rad,G=Y.doc,J=Y.isFirefox,z=Y.isMS,nt=Y.isWebKit,Q=Y.noop,lt=Y.SVG_NS,_t=Y.symbolSizes,Ct=Y.win,kt=V.addEvent,Et=V.attr,St=V.createElement,R=V.css,u=V.defined,m=V.destroyObjectProperties,y=V.extend,v=V.isArray,M=V.isNumber,S=V.isObject,I=V.isString,C=V.merge,p=V.pick,T=V.pInt,it=V.uniqueKey;return Y=function(){function W(yt,wt,Vt,Ut,At,bt,qt){this.width=this.url=this.style=this.isSVG=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(yt,wt,Vt,Ut,At,bt,qt)}return W.prototype.init=function(yt,wt,Vt,Ut,At,bt,qt){var Bt,Rt=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),Dt=Rt.element;qt||Rt.css(this.getStyle(Ut)),yt.appendChild(Dt),Et(yt,"dir","ltr"),-1===yt.innerHTML.indexOf("xmlns")&&Et(Dt,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=Dt,this.boxWrapper=Rt,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(G.createTextNode("Created with Highcharts 9.3.1")),this.defs=this.createElement("defs").add(),this.allowHTML=bt,this.forExport=At,this.styledMode=qt,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(wt,Vt,!1),J&&yt.getBoundingClientRect&&((wt=function(){R(yt,{left:0,top:0}),Bt=yt.getBoundingClientRect(),R(yt,{left:Math.ceil(Bt.left)-Bt.left+"px",top:Math.ceil(Bt.top)-Bt.top+"px"})})(),this.unSubPixelFix=kt(Ct,"resize",wt))},W.prototype.definition=function(yt){return new E([yt]).addToDOM(this.defs.element)},W.prototype.getReferenceURL=function(){if((J||nt)&&G.getElementsByTagName("base").length){if(!u(Z)){var yt=it();yt=new E([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:yt},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#"+yt+")",fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(G.body),R(yt,{position:"fixed",top:0,left:0,zIndex:9e5});var wt=G.elementFromPoint(6,6);Z="hitme"===(wt&&wt.id),G.body.removeChild(yt)}if(Z)return Ct.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""},W.prototype.getStyle=function(yt){return this.style=y({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},yt)},W.prototype.setStyle=function(yt){this.boxWrapper.css(this.getStyle(yt))},W.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width},W.prototype.destroy=function(){var yt=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),m(this.gradients||{}),this.gradients=null,yt&&(this.defs=yt.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},W.prototype.createElement=function(yt){var wt=new this.Element;return wt.init(this,yt),wt},W.prototype.getRadialAttr=function(yt,wt){return{cx:yt[0]-yt[2]/2+(wt.cx||0)*yt[2],cy:yt[1]-yt[2]/2+(wt.cy||0)*yt[2],r:(wt.r||0)*yt[2]}},W.prototype.buildText=function(yt){new at(yt).buildSVG()},W.prototype.getContrast=function(yt){return(yt=K.parse(yt).rgba)[0]*=1,yt[1]*=1.2,yt[2]*=.5,459<yt[0]+yt[1]+yt[2]?"#000000":"#FFFFFF"},W.prototype.button=function(yt,wt,Vt,Ut,At,bt,qt,Rt,Dt,Bt){var Zt=this.label(yt,wt,Vt,Dt,void 0,void 0,Bt,void 0,"button"),Lt=this.styledMode,Ce=0,Ht=At?C(At):{};if(yt=Ht&&Ht.style||{},Ht=E.filterUserAttributes(Ht),Zt.attr(C({padding:8,r:2},Ht)),!Lt){var me=(Ht=C({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},{style:yt},Ht)).style;delete Ht.style;var Si=(bt=C(Ht,{fill:"#e6e6e6"},E.filterUserAttributes(bt||{}))).style;delete bt.style;var be=(qt=C(Ht,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},E.filterUserAttributes(qt||{}))).style;delete qt.style;var de=(Rt=C(Ht,{style:{color:"#cccccc"}},E.filterUserAttributes(Rt||{}))).style;delete Rt.style}return kt(Zt.element,z?"mouseover":"mouseenter",function(){3!==Ce&&Zt.setState(1)}),kt(Zt.element,z?"mouseout":"mouseleave",function(){3!==Ce&&Zt.setState(Ce)}),Zt.setState=function(je){1!==je&&(Zt.state=Ce=je),Zt.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][je||0]),Lt||Zt.attr([Ht,bt,qt,Rt][je||0]).css([me,Si,be,de][je||0])},Lt||Zt.attr(Ht).css(y({cursor:"default"},me)),Zt.on("touchstart",function(je){return je.stopPropagation()}).on("click",function(je){3!==Ce&&Ut.call(Zt,je)})},W.prototype.crispLine=function(yt,wt,Vt){void 0===Vt&&(Vt="round");var Ut=yt[0],At=yt[1];return u(Ut[1])&&Ut[1]===At[1]&&(Ut[1]=At[1]=Math[Vt](Ut[1])-wt%2/2),u(Ut[2])&&Ut[2]===At[2]&&(Ut[2]=At[2]=Math[Vt](Ut[2])+wt%2/2),yt},W.prototype.path=function(yt){var wt=this.styledMode?{}:{fill:"none"};return v(yt)?wt.d=yt:S(yt)&&y(wt,yt),this.createElement("path").attr(wt)},W.prototype.circle=function(yt,wt,Vt){return yt=S(yt)?yt:void 0===yt?{}:{x:yt,y:wt,r:Vt},(wt=this.createElement("circle")).xSetter=wt.ySetter=function(Ut,At,bt){bt.setAttribute("c"+At,Ut)},wt.attr(yt)},W.prototype.arc=function(yt,wt,Vt,Ut,At,bt){return S(yt)?(wt=(Ut=yt).y,Vt=Ut.r,yt=Ut.x):Ut={innerR:Ut,start:At,end:bt},(yt=this.symbol("arc",yt,wt,Vt,Vt,Ut)).r=Vt,yt},W.prototype.rect=function(yt,wt,Vt,Ut,At,bt){At=S(yt)?yt.r:At;var qt=this.createElement("rect");return yt=S(yt)?yt:void 0===yt?{}:{x:yt,y:wt,width:Math.max(Vt,0),height:Math.max(Ut,0)},this.styledMode||(void 0!==bt&&(yt["stroke-width"]=bt,yt=qt.crisp(yt)),yt.fill="none"),At&&(yt.r=At),qt.rSetter=function(Rt,Dt,Bt){qt.r=Rt,Et(Bt,{rx:Rt,ry:Rt})},qt.rGetter=function(){return qt.r||0},qt.attr(yt)},W.prototype.setSize=function(yt,wt,Vt){this.width=yt,this.height=wt,this.boxWrapper.animate({width:yt,height:wt},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:p(Vt,!0)?void 0:0}),this.alignElements()},W.prototype.g=function(yt){var wt=this.createElement("g");return yt?wt.attr({class:"highcharts-"+yt}):wt},W.prototype.image=function(yt,wt,Vt,Ut,At,bt){var qt={preserveAspectRatio:"none"},Rt=function(Bt,Zt){Bt.setAttributeNS?Bt.setAttributeNS("http://www.w3.org/1999/xlink","href",Zt):Bt.setAttribute("hc-svg-href",Zt)};M(wt)&&(qt.x=wt),M(Vt)&&(qt.y=Vt),M(Ut)&&(qt.width=Ut),M(At)&&(qt.height=At);var Dt=this.createElement("image").attr(qt);return wt=function(Bt){Rt(Dt.element,yt),bt.call(Dt,Bt)},bt?(Rt(Dt.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),Vt=new Ct.Image,kt(Vt,"load",wt),Vt.src=yt,Vt.complete&&wt({})):Rt(Dt.element,yt),Dt},W.prototype.symbol=function(yt,wt,Vt,Ut,At,bt){var Lt,qt=this,Rt=/^url\((.*?)\)$/,Dt=Rt.test(yt),Bt=!Dt&&(this.symbols[yt]?yt:"circle"),Zt=Bt&&this.symbols[Bt];if(Zt){"number"==typeof wt&&(Lt=Zt.call(this.symbols,Math.round(wt||0),Math.round(Vt||0),Ut||0,At||0,bt));var Ce=this.path(Lt);qt.styledMode||Ce.attr("fill","none"),y(Ce,{symbolName:Bt||void 0,x:wt,y:Vt,width:Ut,height:At}),bt&&y(Ce,bt)}else if(Dt){var Ht=yt.match(Rt)[1],me=Ce=this.image(Ht);me.imgwidth=p(_t[Ht]&&_t[Ht].width,bt&&bt.width),me.imgheight=p(_t[Ht]&&_t[Ht].height,bt&&bt.height);var Si=function(be){return be.attr({width:be.width,height:be.height})};["width","height"].forEach(function(be){me[be+"Setter"]=function(de,je){var Yt=this["img"+je];this[je]=de,u(Yt)&&(bt&&"within"===bt.backgroundSize&&this.width&&this.height&&(Yt=Math.round(Yt*Math.min(this.width/this.imgwidth,this.height/this.imgheight))),this.element&&this.element.setAttribute(je,Yt),this.alignByTranslate||(de=((this[je]||0)-Yt)/2,this.attr("width"===je?{translateX:de}:{translateY:de})))}}),u(wt)&&me.attr({x:wt,y:Vt}),me.isImg=!0,u(me.imgwidth)&&u(me.imgheight)?Si(me):(me.attr({width:0,height:0}),St("img",{onload:function(){var be=$[qt.chartIndex];0===this.width&&(R(this,{position:"absolute",top:"-999em"}),G.body.appendChild(this)),_t[Ht]={width:this.width,height:this.height},me.imgwidth=this.width,me.imgheight=this.height,me.element&&Si(me),this.parentNode&&this.parentNode.removeChild(this),qt.imgCount--,!qt.imgCount&&be&&!be.hasLoaded&&be.onload()},src:Ht}),this.imgCount++)}return Ce},W.prototype.clipRect=function(yt,wt,Vt,Ut){var At=it()+"-",bt=this.createElement("clipPath").attr({id:At}).add(this.defs);return(yt=this.rect(yt,wt,Vt,Ut,0).add(bt)).id=At,yt.clipPath=bt,yt.count=0,yt},W.prototype.text=function(yt,wt,Vt,Ut){var At={};return!Ut||!this.allowHTML&&this.forExport?(At.x=Math.round(wt||0),Vt&&(At.y=Math.round(Vt)),u(yt)&&(At.text=yt),yt=this.createElement("text").attr(At),(!Ut||this.forExport&&!this.allowHTML)&&(yt.xSetter=function(bt,qt,Rt){for(var Lt,Dt=Rt.getElementsByTagName("tspan"),Bt=Rt.getAttribute(qt),Zt=0;Zt<Dt.length;Zt++)(Lt=Dt[Zt]).getAttribute(qt)===Bt&&Lt.setAttribute(qt,bt);Rt.setAttribute(qt,bt)}),yt):this.html(yt,wt,Vt)},W.prototype.fontMetrics=function(yt,wt){return yt=!this.styledMode&&/px/.test(yt)||!Ct.getComputedStyle?yt||wt&&wt.style&&wt.style.fontSize||this.style&&this.style.fontSize:wt&&et.prototype.getStyle.call(wt,"font-size"),{h:wt=24>(yt=/px/.test(yt)?T(yt):12)?yt+3:Math.round(1.2*yt),b:Math.round(.8*wt),f:yt}},W.prototype.rotCorr=function(yt,wt,Vt){var Ut=yt;return wt&&Vt&&(Ut=Math.max(Ut*Math.cos(wt*H),4)),{x:-yt/3*Math.sin(wt*H),y:Ut}},W.prototype.pathToSegments=function(yt){for(var wt=[],Vt=[],Ut={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},At=0;At<yt.length;At++)I(Vt[0])&&M(yt[At])&&Vt.length===Ut[Vt[0].toUpperCase()]&&yt.splice(At,0,Vt[0].replace("M","L").replace("m","l")),"string"==typeof yt[At]&&(Vt.length&&wt.push(Vt.slice(0)),Vt.length=0),Vt.push(yt[At]);return wt.push(Vt.slice(0)),wt},W.prototype.label=function(yt,wt,Vt,Ut,At,bt,qt,Rt,Dt){return new X(this,yt,wt,Vt,Ut,At,bt,qt,Rt,Dt)},W.prototype.alignElements=function(){this.alignedObjects.forEach(function(yt){return yt.align()})},W}(),y(Y.prototype,{Element:et,SVG_NS:lt,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:U,draw:Q}),ct.registerRendererType("svg",Y,!0),Y}),ft(dt,"Core/Renderer/HTML/HTMLElement.js",[dt["Core/Globals.js"],dt["Core/Renderer/SVG/SVGElement.js"],dt["Core/Utilities.js"]],function(E,K,Y){var z,ct=this&&this.__extends||(z=function(nt,Q){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(lt,_t){lt.__proto__=_t}||function(lt,_t){for(var Ct in _t)_t.hasOwnProperty(Ct)&&(lt[Ct]=_t[Ct])})(nt,Q)},function(nt,Q){function lt(){this.constructor=nt}z(nt,Q),nt.prototype=null===Q?Object.create(Q):(lt.prototype=Q.prototype,new lt)}),et=E.isFirefox,X=E.isMS,U=E.isWebKit,at=E.win,V=Y.css,$=Y.defined,H=Y.extend,G=Y.pick,J=Y.pInt;return function(z){function nt(){return null!==z&&z.apply(this,arguments)||this}return ct(nt,z),nt.compose=function(Q){if(-1===nt.composedClasses.indexOf(Q)){nt.composedClasses.push(Q);var lt=nt.prototype,_t=Q.prototype;_t.getSpanCorrection=lt.getSpanCorrection,_t.htmlCss=lt.htmlCss,_t.htmlGetBBox=lt.htmlGetBBox,_t.htmlUpdateTransform=lt.htmlUpdateTransform,_t.setSpanRotation=lt.setSpanRotation}return Q},nt.prototype.getSpanCorrection=function(Q,lt,_t){this.xCorr=-Q*_t,this.yCorr=-lt},nt.prototype.htmlCss=function(Q){var lt="SPAN"===this.element.tagName&&Q&&"width"in Q,_t=G(lt&&Q.width,void 0);if(lt){delete Q.width,this.textWidth=_t;var Ct=!0}return Q&&"ellipsis"===Q.textOverflow&&(Q.whiteSpace="nowrap",Q.overflow="hidden"),this.styles=H(this.styles,Q),V(this.element,Q),Ct&&this.htmlUpdateTransform(),this},nt.prototype.htmlGetBBox=function(){var Q=this.element;return{x:Q.offsetLeft,y:Q.offsetTop,width:Q.offsetWidth,height:Q.offsetHeight}},nt.prototype.htmlUpdateTransform=function(){if(this.added){var Q=this.renderer,lt=this.element,_t=this.translateX||0,Ct=this.translateY||0,kt=this.x||0,Et=this.y||0,St=this.textAlign||"left",R={left:0,center:.5,right:1}[St],u=this.styles;if(u=u&&u.whiteSpace,V(lt,{marginLeft:_t,marginTop:Ct}),!Q.styledMode&&this.shadows&&this.shadows.forEach(function(I){V(I,{marginLeft:_t+1,marginTop:Ct+1})}),this.inverted&&[].forEach.call(lt.childNodes,function(I){Q.invertChild(I,lt)}),"SPAN"===lt.tagName){var m=this.rotation,y=this.textWidth&&J(this.textWidth),v=[m,St,lt.innerHTML,this.textWidth,this.textAlign].join(),M=void 0;if(M=!1,y!==this.oldTextWidth){if(this.textPxLength)var S=this.textPxLength;else V(lt,{width:"",whiteSpace:u||"nowrap"}),S=lt.offsetWidth;(y>this.oldTextWidth||S>y)&&(/[ \-]/.test(lt.textContent||lt.innerText)||"ellipsis"===lt.style.textOverflow)&&(V(lt,{width:S>y||m?y+"px":"auto",display:"block",whiteSpace:u||"normal"}),this.oldTextWidth=y,M=!0)}this.hasBoxWidthChanged=M,v!==this.cTT&&(M=Q.fontMetrics(lt.style.fontSize,lt).b,!$(m)||m===(this.oldRotation||0)&&St===this.oldAlign||this.setSpanRotation(m,R,M),this.getSpanCorrection(!$(m)&&this.textPxLength||lt.offsetWidth,M,R,m,St)),V(lt,{left:kt+(this.xCorr||0)+"px",top:Et+(this.yCorr||0)+"px"}),this.cTT=v,this.oldRotation=m,this.oldAlign=St}}else this.alignOnAdd=!0},nt.prototype.setSpanRotation=function(Q,lt,_t){var Ct={},kt=X&&!/Edge/.test(at.navigator.userAgent)?"-ms-transform":U?"-webkit-transform":et?"MozTransform":at.opera?"-o-transform":void 0;kt&&(Ct[kt]=Ct.transform="rotate("+Q+"deg)",Ct[kt+(et?"Origin":"-origin")]=Ct.transformOrigin=100*lt+"% "+_t+"px",V(this.element,Ct))},nt.composedClasses=[],nt}(K)}),ft(dt,"Core/Renderer/HTML/HTMLRenderer.js",[dt["Core/Renderer/HTML/AST.js"],dt["Core/Renderer/SVG/SVGElement.js"],dt["Core/Renderer/SVG/SVGRenderer.js"],dt["Core/Utilities.js"]],function(E,K,Y,ct){var $,et=this&&this.__extends||($=function(H,G){return($=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,z){J.__proto__=z}||function(J,z){for(var nt in z)z.hasOwnProperty(nt)&&(J[nt]=z[nt])})(H,G)},function(H,G){function J(){this.constructor=H}$(H,G),H.prototype=null===G?Object.create(G):(J.prototype=G.prototype,new J)}),X=ct.attr,U=ct.createElement,at=ct.extend,V=ct.pick;return function($){function H(){return null!==$&&$.apply(this,arguments)||this}return et(H,$),H.compose=function(G){return-1===H.composedClasses.indexOf(G)&&(H.composedClasses.push(G),G.prototype.html=H.prototype.html),G},H.prototype.html=function(G,J,z){var nt=this.createElement("span"),Q=nt.element,lt=nt.renderer,_t=lt.isSVG,Ct=function(kt,Et){["opacity","visibility"].forEach(function(St){kt[St+"Setter"]=function(R,u,m){var y=kt.div?kt.div.style:Et;K.prototype[St+"Setter"].call(this,R,u,m),y&&(y[u]=R)}}),kt.addedSetters=!0};return nt.textSetter=function(kt){kt!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,E.setElementHTML(this.element,V(kt,"")),this.textStr=kt,nt.doTransform=!0)},_t&&Ct(nt,nt.element.style),nt.xSetter=nt.ySetter=nt.alignSetter=nt.rotationSetter=function(kt,Et){"align"===Et?nt.alignValue=nt.textAlign=kt:nt[Et]=kt,nt.doTransform=!0},nt.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},nt.attr({text:G,x:Math.round(J),y:Math.round(z)}).css({position:"absolute"}),lt.styledMode||nt.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),Q.style.whiteSpace="nowrap",nt.css=nt.htmlCss,_t&&(nt.add=function(kt){var Et=lt.box.parentNode,St=[];if(this.parentGroup=kt){var R=kt.div;if(!R){for(;kt;)St.push(kt),kt=kt.parentGroup;St.reverse().forEach(function(u){function m(S,I){u[I]=S,"translateX"===I?M.left=S+"px":M.top=S+"px",u.doTransform=!0}var S,y=X(u.element,"class"),v=u.styles||{},M=(R=u.div=u.div||U("div",y?{className:y}:void 0,{position:"absolute",left:(u.translateX||0)+"px",top:(u.translateY||0)+"px",display:u.display,opacity:u.opacity,cursor:v.cursor,pointerEvents:v.pointerEvents,visibility:u.visibility},R||Et)).style;at(u,{classSetter:(S=R,function(I){this.element.setAttribute("class",I),S.className=I}),on:function(){return St[0].div&&nt.on.apply({element:St[0].div,onEvents:u.onEvents},arguments),u},translateXSetter:m,translateYSetter:m}),u.addedSetters||Ct(u)})}}else R=Et;return R.appendChild(Q),nt.added=!0,nt.alignOnAdd&&nt.htmlUpdateTransform(),nt}),nt},H.composedClasses=[],H}(Y)}),ft(dt,"Core/Axis/AxisDefaults.js",[],function(){var E=(()=>{return(K=E||(E={})).defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:void 0,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,x:0,zIndex:7,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#ccd6eb"},K.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){return(0,this.axis.chart.numberFormatter)(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},K.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}},K.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}},K.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},K.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},E;var K})();return E}),ft(dt,"Core/Foundation.js",[dt["Core/Utilities.js"]],function(E){var X,K=E.addEvent,Y=E.isFunction,ct=E.objectEach,et=E.removeEvent;return(X||(X={})).registerEventOptions=function(at,V){at.eventOptions=at.eventOptions||{},ct(V.events,function($,H){at.eventOptions[H]!==$&&(at.eventOptions[H]&&(et(at,H,at.eventOptions[H]),delete at.eventOptions[H]),Y($)&&(at.eventOptions[H]=$,K(at,H,$)))})},X}),ft(dt,"Core/Axis/Tick.js",[dt["Core/FormatUtilities.js"],dt["Core/Globals.js"],dt["Core/Utilities.js"]],function(E,K,Y){var ct=K.deg2rad,et=Y.clamp,X=Y.correctFloat,U=Y.defined,at=Y.destroyObjectProperties,V=Y.extend,$=Y.fireEvent,H=Y.isNumber,G=Y.merge,J=Y.objectEach,z=Y.pick;return function(){function nt(Q,lt,_t,Ct,kt){this.isNewLabel=this.isNew=!0,this.axis=Q,this.pos=lt,this.type=_t||"",this.parameters=kt||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,$(this,"init"),_t||Ct||this.addLabel()}return nt.prototype.addLabel=function(){var Q=this,lt=Q.axis,_t=lt.options,Ct=lt.chart,kt=lt.categories,Et=lt.logarithmic,St=lt.names,R=Q.pos,u=z(Q.options&&Q.options.labels,_t.labels),m=lt.tickPositions,y=R===m[0],v=R===m[m.length-1],M=(!u.step||1===u.step)&&1===lt.tickInterval;m=m.info;var I,S=Q.label;if(kt=this.parameters.category||(kt?z(kt[R],St[R],R):R),Et&&H(kt)&&(kt=X(Et.lin2log(kt))),lt.dateTime)if(m)var C=Ct.time.resolveDTLFormat(_t.dateTimeLabelFormats[!_t.grid&&m.higherRanks[R]||m.unitName]),p=C.main;else H(kt)&&(p=lt.dateTime.getXDateFormat(kt,_t.dateTimeLabelFormats||{}));Q.isFirst=y,Q.isLast=v;var T={axis:lt,chart:Ct,dateTimeLabelFormat:p,isFirst:y,isLast:v,pos:R,tick:Q,tickPositionInfo:m,value:kt};$(this,"labelFormat",T);var it=function(W){return u.formatter?u.formatter.call(W,W):u.format?(W.text=lt.defaultLabelFormatter.call(W),E.format(u.format,W,Ct)):lt.defaultLabelFormatter.call(W,W)};_t=it.call(T,T);var Z=C&&C.list;Q.shortenLabel=Z?function(){for(I=0;I<Z.length;I++)if(V(T,{dateTimeLabelFormat:Z[I]}),S.attr({text:it.call(T,T)}),S.getBBox().width<lt.getSlotWidth(Q)-2*u.padding)return;S.attr({text:""})}:void 0,M&&lt._addedPlotLB&&Q.moveLabel(_t,u),U(S)||Q.movedLabel?S&&S.textStr!==_t&&!M&&(!S.textWidth||u.style.width||S.styles.width||S.css({width:null}),S.attr({text:_t}),S.textPxLength=S.getBBox().width):(Q.label=S=Q.createLabel({x:0,y:0},_t,u),Q.rotation=0)},nt.prototype.createLabel=function(Q,lt,_t){var Ct=this.axis,kt=Ct.chart;return(Q=U(lt)&&_t.enabled?kt.renderer.text(lt,Q.x,Q.y,_t.useHTML).add(Ct.labelGroup):null)&&(kt.styledMode||Q.css(G(_t.style)),Q.textPxLength=Q.getBBox().width),Q},nt.prototype.destroy=function(){at(this,this.axis)},nt.prototype.getPosition=function(Q,lt,_t,Ct){var kt=this.axis,Et=kt.chart,St=Ct&&Et.oldChartHeight||Et.chartHeight;return(Q={x:Q?X(kt.translate(lt+_t,null,null,Ct)+kt.transB):kt.left+kt.offset+(kt.opposite?(Ct&&Et.oldChartWidth||Et.chartWidth)-kt.right-kt.left:0),y:Q?St-kt.bottom+kt.offset-(kt.opposite?kt.height:0):X(St-kt.translate(lt+_t,null,null,Ct)-kt.transB)}).y=et(Q.y,-1e5,1e5),$(this,"afterGetPosition",{pos:Q}),Q},nt.prototype.getLabelPosition=function(Q,lt,_t,Ct,kt,Et,St,R){var u=this.axis,m=u.transA,y=u.isLinked&&u.linkedParent?u.linkedParent.reversed:u.reversed,v=u.staggerLines,M=u.tickRotCorr||{x:0,y:0},S=Ct||u.reserveSpaceDefault?0:-u.labelOffset*("center"===u.labelAlign?.5:1),I={},C=kt.y;return U(C)||(C=0===u.side?_t.rotation?-8:-_t.getBBox().height:2===u.side?M.y+8:Math.cos(_t.rotation*ct)*(M.y-_t.getBBox(!1,0).height/2)),lt=lt+C-(Et&&!Ct?Et*m*(y?1:-1):0),v&&(_t=St/(R||1)%v,u.opposite&&(_t=v-_t-1),lt+=u.labelOffset/v*_t),I.x=Q=Q+kt.x+S+M.x-(Et&&Ct?Et*m*(y?-1:1):0),I.y=Math.round(lt),$(this,"afterGetLabelPosition",{pos:I,tickmarkOffset:Et,index:St}),I},nt.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},nt.prototype.getMarkPath=function(Q,lt,_t,Ct,kt,Et){return Et.crispLine([["M",Q,lt],["L",Q+(kt?0:-_t),lt+(kt?_t:0)]],Ct)},nt.prototype.handleOverflow=function(Q){var lt=this.axis,_t=lt.options.labels,Ct=Q.x,kt=lt.chart.chartWidth,Et=lt.chart.spacing,St=z(lt.labelLeft,Math.min(lt.pos,Et[3]));Et=z(lt.labelRight,Math.max(lt.isRadial?0:lt.pos+lt.len,kt-Et[1]));var C,R=this.label,u=this.rotation,m={left:0,center:.5,right:1}[lt.labelAlign||R.attr("align")],y=R.getBBox().width,v=lt.getSlotWidth(this),M={},S=v,I=1;u||"justify"!==_t.overflow?0>u&&Ct-m*y<St?C=Math.round(Ct/Math.cos(u*ct)-St):0<u&&Ct+m*y>Et&&(C=Math.round((kt-Ct)/Math.cos(u*ct))):(kt=Ct+(1-m)*y,Ct-m*y<St?S=Q.x+S*(1-m)-St:kt>Et&&(S=Et-Q.x+S*m,I=-1),(S=Math.min(v,S))<v&&"center"===lt.labelAlign&&(Q.x+=I*(v-S-m*(v-Math.min(y,S)))),(y>S||lt.autoRotation&&(R.styles||{}).width)&&(C=S)),C&&(this.shortenLabel?this.shortenLabel():(M.width=Math.floor(C)+"px",(_t.style||{}).textOverflow||(M.textOverflow="ellipsis"),R.css(M)))},nt.prototype.moveLabel=function(Q,lt){var _t=this,Ct=_t.label,kt=_t.axis,Et=kt.reversed,St=!1;if(Ct&&Ct.textStr===Q?(_t.movedLabel=Ct,St=!0,delete _t.label):J(kt.ticks,function(u){St||u.isNew||u===_t||!u.label||u.label.textStr!==Q||(_t.movedLabel=u.label,St=!0,u.labelPos=_t.movedLabel.xy,delete u.label)}),!St&&(_t.labelPos||Ct)){var R=_t.labelPos||Ct.xy;_t.movedLabel=_t.createLabel({x:Ct=kt.horiz?Et?0:kt.width+kt.left:R.x,y:kt=kt.horiz?R.y:Et?kt.width+kt.left:0},Q,lt),_t.movedLabel&&_t.movedLabel.attr({opacity:0})}},nt.prototype.render=function(Q,lt,_t){var Ct=this.axis,kt=Ct.horiz,Et=this.pos,St=z(this.tickmarkOffset,Ct.tickmarkOffset);St=(Et=this.getPosition(kt,Et,St,lt)).x,Ct=kt&&St===Ct.pos+Ct.len||!kt&&Et.y===Ct.pos?-1:1,kt=z(_t,this.label&&this.label.newOpacity,1),_t=z(_t,1),this.isActive=!0,this.renderGridLine(lt,_t,Ct),this.renderMark(Et,_t,Ct),this.renderLabel(Et,lt,kt,Q),this.isNew=!1,$(this,"afterRender")},nt.prototype.renderGridLine=function(Q,lt,_t){var Ct=this.axis,kt=Ct.options,Et={},St=this.pos,R=this.type,u=z(this.tickmarkOffset,Ct.tickmarkOffset),m=Ct.chart.renderer,y=this.gridLine,v=kt.gridLineWidth,M=kt.gridLineColor,S=kt.gridLineDashStyle;"minor"===this.type&&(v=kt.minorGridLineWidth,M=kt.minorGridLineColor,S=kt.minorGridLineDashStyle),y||(Ct.chart.styledMode||(Et.stroke=M,Et["stroke-width"]=v||0,Et.dashstyle=S),R||(Et.zIndex=1),Q&&(lt=0),this.gridLine=y=m.path().attr(Et).addClass("highcharts-"+(R?R+"-":"")+"grid-line").add(Ct.gridGroup)),y&&(_t=Ct.getPlotLinePath({value:St+u,lineWidth:y.strokeWidth()*_t,force:"pass",old:Q}))&&y[Q||this.isNew?"attr":"animate"]({d:_t,opacity:lt})},nt.prototype.renderMark=function(Q,lt,_t){var Ct=this.axis,kt=Ct.options,Et=Ct.chart.renderer,St=this.type,R=Ct.tickSize(St?St+"Tick":"tick"),u=Q.x;Q=Q.y;var m=z(kt["minor"!==St?"tickWidth":"minorTickWidth"],!St&&Ct.isXAxis?1:0);kt=kt["minor"!==St?"tickColor":"minorTickColor"];var y=this.mark,v=!y;R&&(Ct.opposite&&(R[0]=-R[0]),y||(this.mark=y=Et.path().addClass("highcharts-"+(St?St+"-":"")+"tick").add(Ct.axisGroup),Ct.chart.styledMode||y.attr({stroke:kt,"stroke-width":m})),y[v?"attr":"animate"]({d:this.getMarkPath(u,Q,R[0],y.strokeWidth()*_t,Ct.horiz,Et),opacity:lt}))},nt.prototype.renderLabel=function(Q,lt,_t,Ct){var kt=this.axis,Et=kt.horiz,St=kt.options,R=this.label,u=St.labels,m=u.step;kt=z(this.tickmarkOffset,kt.tickmarkOffset);var y=Q.x;Q=Q.y;var v=!0;R&&H(y)&&(R.xy=Q=this.getLabelPosition(y,Q,R,Et,u,kt,Ct,m),this.isFirst&&!this.isLast&&!St.showFirstLabel||this.isLast&&!this.isFirst&&!St.showLastLabel?v=!1:!Et||u.step||u.rotation||lt||0===_t||this.handleOverflow(Q),m&&Ct%m&&(v=!1),v&&H(Q.y)?(Q.opacity=_t,R[this.isNewLabel?"attr":"animate"](Q),this.isNewLabel=!1):(R.attr("y",-9999),this.isNewLabel=!0))},nt.prototype.replaceMovedLabel=function(){var Q=this.label,lt=this.axis,_t=lt.reversed;Q&&!this.isNew&&(Q.animate({x:lt.horiz?_t?lt.left:lt.width+lt.left:Q.xy.x,y:_t=lt.horiz?Q.xy.y:_t?lt.width+lt.top:lt.top,opacity:0},void 0,Q.destroy),delete this.label),lt.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel},nt}()}),ft(dt,"Core/Axis/Axis.js",[dt["Core/Animation/AnimationUtilities.js"],dt["Core/Axis/AxisDefaults.js"],dt["Core/Color/Color.js"],dt["Core/DefaultOptions.js"],dt["Core/Foundation.js"],dt["Core/Globals.js"],dt["Core/Axis/Tick.js"],dt["Core/Utilities.js"]],function(E,K,Y,ct,et,X,U,at){var V=E.animObject,$=ct.defaultOptions,H=et.registerEventOptions,G=X.deg2rad,J=at.arrayMax,z=at.arrayMin,nt=at.clamp,Q=at.correctFloat,lt=at.defined,_t=at.destroyObjectProperties,Ct=at.erase,kt=at.error,Et=at.extend,St=at.fireEvent,R=at.getMagnitude,u=at.isArray,m=at.isNumber,y=at.isString,v=at.merge,M=at.normalizeTickInterval,S=at.objectEach,I=at.pick,C=at.relativeLength,p=at.removeEvent,T=at.splat,it=at.syncTimeout;return function(){function Z(W,yt){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.categories=this.bottom=this.alternateBands=void 0,this.init(W,yt)}return Z.prototype.init=function(W,yt){var wt=yt.isX;this.chart=W,this.horiz=W.inverted&&!this.isZAxis?!wt:wt,this.isXAxis=wt,this.coll=this.coll||(wt?"xAxis":"yAxis"),St(this,"init",{userOptions:yt}),this.opposite=I(yt.opposite,this.opposite),this.side=I(yt.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(yt);var Vt=this.options,Ut=Vt.labels,At=Vt.type;this.userOptions=yt,this.minPixelPadding=0,this.reversed=I(Vt.reversed,this.reversed),this.visible=Vt.visible,this.zoomEnabled=Vt.zoomEnabled,this.hasNames="category"===At||!0===Vt.categories,this.categories=Vt.categories||this.hasNames,this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=lt(Vt.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=Vt.minRange||Vt.maxZoom,this.range=Vt.range,this.offset=Vt.offset||0,this.min=this.max=null,yt=I(Vt.crosshair,T(W.options.tooltip.crosshairs)[wt?0:1]),this.crosshair=!0===yt?{}:yt,-1===W.axes.indexOf(this)&&(wt?W.axes.splice(W.xAxis.length,0,this):W.axes.push(this),W[this.coll].push(this)),this.series=this.series||[],W.inverted&&!this.isZAxis&&wt&&void 0===this.reversed&&(this.reversed=!0),this.labelRotation=m(Ut.rotation)?Ut.rotation:void 0,H(this,Vt),St(this,"afterInit")},Z.prototype.setOptions=function(W){this.options=v(K.defaultXAxisOptions,"yAxis"===this.coll&&K.defaultYAxisOptions,[K.defaultTopAxisOptions,K.defaultRightAxisOptions,K.defaultBottomAxisOptions,K.defaultLeftAxisOptions][this.side],v($[this.coll],W)),St(this,"afterSetOptions",{userOptions:W})},Z.prototype.defaultLabelFormatter=function(W){var yt=this.axis;W=this.chart.numberFormatter;var wt=m(this.value)?this.value:NaN,Vt=yt.chart.time,Ut=this.dateTimeLabelFormat,At=$.lang,bt=At.numericSymbols;At=At.numericSymbolMagnitude||1e3;var qt=yt.logarithmic?Math.abs(wt):yt.tickInterval,Rt=bt&&bt.length;if(yt.categories)var Dt=""+this.value;else if(Ut)Dt=Vt.dateFormat(Ut,wt);else if(Rt&&1e3<=qt)for(;Rt--&&void 0===Dt;)qt>=(yt=Math.pow(At,Rt+1))&&10*wt%yt==0&&null!==bt[Rt]&&0!==wt&&(Dt=W(wt/yt,-1)+bt[Rt]);return void 0===Dt&&(Dt=1e4<=Math.abs(wt)?W(wt,-1):W(wt,-1,void 0,"")),Dt},Z.prototype.getSeriesExtremes=function(){var wt,W=this,yt=W.chart;St(this,"getSeriesExtremes",null,function(){W.hasVisibleSeries=!1,W.dataMin=W.dataMax=W.threshold=null,W.softThreshold=!W.isXAxis,W.stacking&&W.stacking.buildStacks(),W.series.forEach(function(Vt){if(Vt.visible||!yt.options.chart.ignoreHiddenSeries){var Ut=Vt.options,At=Ut.threshold;if(W.hasVisibleSeries=!0,W.positiveValuesOnly&&0>=At&&(At=null),W.isXAxis){if((Ut=Vt.xData).length){Ut=W.logarithmic?Ut.filter(W.validatePositiveValue):Ut;var bt=(wt=Vt.getXExtremes(Ut)).min,qt=wt.max;m(bt)||bt instanceof Date||(Ut=Ut.filter(m),bt=(wt=Vt.getXExtremes(Ut)).min,qt=wt.max),Ut.length&&(W.dataMin=Math.min(I(W.dataMin,bt),bt),W.dataMax=Math.max(I(W.dataMax,qt),qt))}}else Vt=Vt.applyExtremes(),m(Vt.dataMin)&&(bt=Vt.dataMin,W.dataMin=Math.min(I(W.dataMin,bt),bt)),m(Vt.dataMax)&&(qt=Vt.dataMax,W.dataMax=Math.max(I(W.dataMax,qt),qt)),lt(At)&&(W.threshold=At),(!Ut.softThreshold||W.positiveValuesOnly)&&(W.softThreshold=!1)}})}),St(this,"afterGetSeriesExtremes")},Z.prototype.translate=function(W,yt,wt,Vt,Ut,At){var bt=this.linkedParent||this,qt=Vt&&bt.old?bt.old.min:bt.min,Rt=bt.minPixelPadding;Ut=(bt.isOrdinal||bt.brokenAxis&&bt.brokenAxis.hasBreaks||bt.logarithmic&&Ut)&&bt.lin2val;var Dt=1,Bt=0;return(Vt=Vt&&bt.old?bt.old.transA:bt.transA)||(Vt=bt.transA),wt&&(Dt*=-1,Bt=bt.len),bt.reversed&&(Bt-=(Dt*=-1)*(bt.sector||bt.len)),yt?(W=(W*Dt+Bt-Rt)/Vt+qt,Ut&&(W=bt.lin2val(W))):(Ut&&(W=bt.val2lin(W)),W=m(qt)?Dt*(W-qt)*Vt+Bt+Dt*Rt+(m(At)?Vt*At:0):void 0),W},Z.prototype.toPixels=function(W,yt){return this.translate(W,!1,!this.horiz,null,!0)+(yt?0:this.pos)},Z.prototype.toValue=function(W,yt){return this.translate(W-(yt?0:this.pos),!0,!this.horiz,null,!0)},Z.prototype.getPlotLinePath=function(W){function yt(je,Yt,ee){return("pass"!==Ce&&je<Yt||je>ee)&&(Ce?je=nt(je,Yt,ee):de=!0),je}var Ht,me,Si,be,de,wt=this,Vt=wt.chart,Ut=wt.left,At=wt.top,bt=W.old,qt=W.value,Rt=W.lineWidth,Dt=bt&&Vt.oldChartHeight||Vt.chartHeight,Bt=bt&&Vt.oldChartWidth||Vt.chartWidth,Zt=wt.transB,Lt=W.translatedValue,Ce=W.force;return St(this,"getPlotLinePath",W={value:qt,lineWidth:Rt,old:bt,force:Ce,acrossPanes:W.acrossPanes,translatedValue:Lt},function(je){Lt=I(Lt,wt.translate(qt,null,null,bt)),Lt=nt(Lt,-1e5,1e5),Ht=Si=Math.round(Lt+Zt),me=be=Math.round(Dt-Lt-Zt),m(Lt)?wt.horiz?(me=At,be=Dt-wt.bottom,Ht=Si=yt(Ht,Ut,Ut+wt.width)):(Ht=Ut,Si=Bt-wt.right,me=be=yt(me,At,At+wt.height)):(de=!0,Ce=!1),je.path=de&&!Ce?null:Vt.renderer.crispLine([["M",Ht,me],["L",Si,be]],Rt||1)}),W.path},Z.prototype.getLinearTickPositions=function(W,yt,wt){var Vt=Q(Math.floor(yt/W)*W);wt=Q(Math.ceil(wt/W)*W);var At,Ut=[];if(Q(Vt+W)===Vt&&(At=20),this.single)return[yt];for(yt=Vt;yt<=wt&&(Ut.push(yt),(yt=Q(yt+W,At))!==bt);)var bt=yt;return Ut},Z.prototype.getMinorTickInterval=function(){var W=this.options;return!0===W.minorTicks?I(W.minorTickInterval,"auto"):!1===W.minorTicks?null:W.minorTickInterval},Z.prototype.getMinorTickPositions=function(){var W=this.options,yt=this.tickPositions,wt=this.minorTickInterval,Vt=this.pointRangePadding||0,Ut=this.min-Vt,At=(Vt=this.max+Vt)-Ut,bt=[];if(At&&At/wt<this.len/3){var qt=this.logarithmic;if(qt)this.paddedTicks.forEach(function(Rt,Dt,Bt){Dt&&bt.push.apply(bt,qt.getLogTickPositions(wt,Bt[Dt-1],Bt[Dt],!0))});else if(this.dateTime&&"auto"===this.getMinorTickInterval())bt=bt.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(wt),Ut,Vt,W.startOfWeek));else for(W=Ut+(yt[0]-Ut)%wt;W<=Vt&&W!==bt[0];W+=wt)bt.push(W)}return 0!==bt.length&&this.trimTicks(bt),bt},Z.prototype.adjustForMinRange=function(){var At,bt,qt,Rt,W=this.options,yt=this.logarithmic,wt=this.min,Vt=this.max,Ut=0;if(this.isXAxis&&void 0===this.minRange&&!yt&&(lt(W.min)||lt(W.max)||lt(W.floor)||lt(W.ceiling)?this.minRange=null:(this.series.forEach(function(Lt){if(qt=Lt.xData,Rt=Lt.xIncrement?1:qt.length-1,1<qt.length)for(At=Rt;0<At;At--)bt=qt[At]-qt[At-1],(!Ut||bt<Ut)&&(Ut=bt)}),this.minRange=Math.min(5*Ut,this.dataMax-this.dataMin))),Vt-wt<this.minRange){var Dt=this.dataMax-this.dataMin>=this.minRange,Bt=this.minRange,Zt=(Bt-Vt+wt)/2;Zt=[wt-Zt,I(W.min,wt-Zt)],Dt&&(Zt[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),Vt=[(wt=J(Zt))+Bt,I(W.max,wt+Bt)],Dt&&(Vt[2]=yt?yt.log2lin(this.dataMax):this.dataMax),(Vt=z(Vt))-wt<Bt&&(Zt[0]=Vt-Bt,Zt[1]=I(W.min,Vt-Bt),wt=J(Zt))}this.min=wt,this.max=Vt},Z.prototype.getClosest=function(){var W;return this.categories?W=1:this.series.forEach(function(yt){var wt=yt.closestPointRange,Vt=yt.visible||!yt.chart.options.chart.ignoreHiddenSeries;!yt.noSharedTooltip&&lt(wt)&&Vt&&(W=lt(W)?Math.min(W,wt):wt)}),W},Z.prototype.nameToX=function(W){var yt=u(this.categories),wt=yt?this.categories:this.names,Vt=W.options.x;if(W.series.requireSorting=!1,lt(Vt)||(Vt=this.options.uniqueNames?yt?wt.indexOf(W.name):I(wt.keys[W.name],-1):W.series.autoIncrement()),-1===Vt){if(!yt)var Ut=wt.length}else Ut=Vt;return void 0!==Ut&&(this.names[Ut]=W.name,this.names.keys[W.name]=Ut),Ut},Z.prototype.updateNames=function(){var W=this,yt=this.names;0<yt.length&&(Object.keys(yt.keys).forEach(function(wt){delete yt.keys[wt]}),yt.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(wt){wt.xIncrement=null,(!wt.points||wt.isDirtyData)&&(W.max=Math.max(W.max,wt.xData.length-1),wt.processData(),wt.generatePoints()),wt.data.forEach(function(Vt,Ut){if(Vt&&Vt.options&&void 0!==Vt.name){var At=W.nameToX(Vt);void 0!==At&&At!==Vt.x&&(Vt.x=At,wt.xData[Ut]=At)}})}))},Z.prototype.setAxisTranslation=function(){var Rt,W=this,yt=W.max-W.min,wt=W.linkedParent,Vt=!!W.categories,Ut=W.isXAxis,At=W.axisPointRange||0,bt=0,qt=0;if(Ut||Vt||At){var Dt=W.getClosest();wt?(bt=wt.minPointOffset,qt=wt.pointRangePadding):W.series.forEach(function(Bt){var Zt=Vt?1:Ut?I(Bt.options.pointRange,Dt,0):W.axisPointRange||0,Lt=Bt.options.pointPlacement;At=Math.max(At,Zt),(!W.single||Vt)&&(Bt=Bt.is("xrange")?!Ut:Ut,bt=Math.max(bt,Bt&&y(Lt)?0:Zt/2),qt=Math.max(qt,Bt&&"on"===Lt?0:Zt))}),W.minPointOffset=bt*=wt=W.ordinal&&W.ordinal.slope&&Dt?W.ordinal.slope/Dt:1,W.pointRangePadding=qt*=wt,W.pointRange=Math.min(At,W.single&&Vt?1:yt),Ut&&(W.closestPointRange=Dt)}W.translationSlope=W.transA=Rt=W.staticScale||W.len/(yt+qt||1),W.transB=W.horiz?W.left:W.bottom,W.minPixelPadding=Rt*bt,St(this,"afterSetAxisTranslation")},Z.prototype.minFromRange=function(){return this.max-this.range},Z.prototype.setTickInterval=function(W){var yt=this.chart,wt=this.logarithmic,Vt=this.options,Ut=this.isXAxis,At=this.isLinked,bt=Vt.tickPixelInterval,qt=this.categories,Rt=this.softThreshold,Dt=Vt.maxPadding,Bt=Vt.minPadding,Zt=m(Vt.tickInterval)&&0<=Vt.tickInterval?Vt.tickInterval:void 0,Lt=m(this.threshold)?this.threshold:null;this.dateTime||qt||At||this.getTickAmount();var Ce=I(this.userMin,Vt.min),Ht=I(this.userMax,Vt.max);if(At){this.linkedParent=yt[this.coll][Vt.linkedTo];var me=this.linkedParent.getExtremes();this.min=I(me.min,me.dataMin),this.max=I(me.max,me.dataMax),Vt.type!==this.linkedParent.options.type&&kt(11,1,yt)}else{if(Rt&&lt(Lt))if(this.dataMin>=Lt)me=Lt,Bt=0;else if(this.dataMax<=Lt){var Si=Lt;Dt=0}this.min=I(Ce,me,this.dataMin),this.max=I(Ht,Si,this.dataMax)}if(wt&&(this.positiveValuesOnly&&!W&&0>=Math.min(this.min,I(this.dataMin,this.min))&&kt(10,1,yt),this.min=Q(wt.log2lin(this.min),16),this.max=Q(wt.log2lin(this.max),16)),this.range&&lt(this.max)&&(this.userMin=this.min=Ce=Math.max(this.dataMin,this.minFromRange()),this.userMax=Ht=this.max,this.range=null),St(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(qt||this.axisPointRange||this.stacking&&this.stacking.usePercentage||At)&&lt(this.min)&&lt(this.max)&&(yt=this.max-this.min)&&(!lt(Ce)&&Bt&&(this.min-=yt*Bt),!lt(Ht)&&Dt&&(this.max+=yt*Dt)),m(this.userMin)||(m(Vt.softMin)&&Vt.softMin<this.min&&(this.min=Ce=Vt.softMin),m(Vt.floor)&&(this.min=Math.max(this.min,Vt.floor))),m(this.userMax)||(m(Vt.softMax)&&Vt.softMax>this.max&&(this.max=Ht=Vt.softMax),m(Vt.ceiling)&&(this.max=Math.min(this.max,Vt.ceiling))),Rt&&lt(this.dataMin)&&(Lt=Lt||0,!lt(Ce)&&this.min<Lt&&this.dataMin>=Lt?this.min=this.options.minRange?Math.min(Lt,this.max-this.minRange):Lt:!lt(Ht)&&this.max>Lt&&this.dataMax<=Lt&&(this.max=this.options.minRange?Math.max(Lt,this.min+this.minRange):Lt)),m(this.min)&&m(this.max)&&!this.chart.polar&&this.min>this.max&&(lt(this.options.min)?this.max=this.min:lt(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||void 0===this.min||void 0===this.max?1:At&&this.linkedParent&&!Zt&&bt===this.linkedParent.options.tickPixelInterval?Zt=this.linkedParent.tickInterval:I(Zt,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,qt?1:(this.max-this.min)*bt/Math.max(this.len,bt)),Ut&&!W){var be=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(de){de.forceCrop=de.forceCropping&&de.forceCropping(),de.processData(be)}),St(this,"postProcessData",{hasExtemesChanged:be})}this.setAxisTranslation(),St(this,"initialAxisTranslation"),this.pointRange&&!Zt&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),W=I(Vt.minTickInterval,this.dateTime&&!this.series.some(function(de){return de.noSharedTooltip})?this.closestPointRange:0),!Zt&&this.tickInterval<W&&(this.tickInterval=W),this.dateTime||this.logarithmic||Zt||(this.tickInterval=M(this.tickInterval,void 0,R(this.tickInterval),I(Vt.allowDecimals,.5>this.tickInterval||void 0!==this.tickAmount),!!this.tickAmount)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()},Z.prototype.setTickPositions=function(){var W=this.options,yt=W.tickPositions,wt=this.getMinorTickInterval(),Vt=this.hasVerticalPanning(),Ut="colorAxis"===this.coll,At=(Ut||!Vt)&&W.startOnTick;Vt=(Ut||!Vt)&&W.endOnTick,Ut=W.tickPositioner,this.tickmarkOffset=this.categories&&"between"===W.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===wt&&this.tickInterval?this.tickInterval/5:wt,this.single=this.min===this.max&&lt(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==W.allowDecimals),this.tickPositions=wt=yt&&yt.slice(),!wt&&(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))?wt=this.dateTime?this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,W.units),this.min,this.max,W.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0):this.logarithmic?this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max):(wt=[this.min,this.max],kt(19,!1,this.chart)),wt.length>this.len&&(wt=[wt[0],wt.pop()])[0]===wt[1]&&(wt.length=1),this.tickPositions=wt,Ut&&(Ut=Ut.apply(this,[this.min,this.max])))&&(this.tickPositions=wt=Ut),this.paddedTicks=wt.slice(0),this.trimTicks(wt,At,Vt),this.isLinked||(this.single&&2>wt.length&&!this.categories&&!this.series.some(function(bt){return bt.is("heatmap")&&"between"===bt.options.pointPlacement})&&(this.min-=.5,this.max+=.5),yt||Ut||this.adjustTickAmount()),St(this,"afterSetTickPositions")},Z.prototype.trimTicks=function(W,yt,wt){var Vt=W[0],Ut=W[W.length-1],At=!this.isOrdinal&&this.minPointOffset||0;if(St(this,"trimTicks"),!this.isLinked){if(yt&&Vt!==-1/0)this.min=Vt;else for(;this.min-At>W[0];)W.shift();if(wt)this.max=Ut;else for(;this.max+At<W[W.length-1];)W.pop();0===W.length&&lt(Vt)&&!this.options.tickPositions&&W.push((Ut+Vt)/2)}},Z.prototype.alignToOthers=function(){var wt,W={},yt=this.options;return!1!==this.chart.options.chart.alignTicks&&yt.alignTicks&&!1!==yt.startOnTick&&!1!==yt.endOnTick&&!this.logarithmic&&this.chart[this.coll].forEach(function(Vt){var Ut=Vt.options;Ut=[Vt.horiz?Ut.left:Ut.top,Ut.width,Ut.height,Ut.pane].join(),Vt.series.length&&(W[Ut]?wt=!0:W[Ut]=1)}),wt},Z.prototype.getTickAmount=function(){var W=this.options,yt=W.tickPixelInterval,wt=W.tickAmount;!lt(W.tickInterval)&&!wt&&this.len<yt&&!this.isRadial&&!this.logarithmic&&W.startOnTick&&W.endOnTick&&(wt=2),!wt&&this.alignToOthers()&&(wt=Math.ceil(this.len/yt)+1),4>wt&&(this.finalTickAmt=wt,wt=5),this.tickAmount=wt},Z.prototype.adjustTickAmount=function(){var W=this.options,yt=this.tickInterval,wt=this.tickPositions,Vt=this.tickAmount,Ut=this.finalTickAmt,At=wt&&wt.length,bt=I(this.threshold,this.softThreshold?0:null);if(this.hasData()&&m(this.min)&&m(this.max)){if(At<Vt){for(;wt.length<Vt;)wt.length%2||this.min===bt?wt.push(Q(wt[wt.length-1]+yt)):wt.unshift(Q(wt[0]-yt));this.transA*=(At-1)/(Vt-1),this.min=W.startOnTick?wt[0]:Math.min(this.min,wt[0]),this.max=W.endOnTick?wt[wt.length-1]:Math.max(this.max,wt[wt.length-1])}else At>Vt&&(this.tickInterval*=2,this.setTickPositions());if(lt(Ut)){for(yt=W=wt.length;yt--;)(3===Ut&&yt%2==1||2>=Ut&&0<yt&&yt<W-1)&&wt.splice(yt,1);this.finalTickAmt=void 0}}},Z.prototype.setScale=function(){var W=!1,yt=!1;this.series.forEach(function(Vt){W=W||Vt.isDirtyData||Vt.isDirty,yt=yt||Vt.xAxis&&Vt.xAxis.isDirty||!1}),this.setAxisSize();var wt=this.len!==(this.old&&this.old.len);wt||W||yt||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&this.stacking.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=wt||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),W&&this.panningState&&(this.panningState.isDirty=!0),St(this,"afterSetScale")},Z.prototype.setExtremes=function(W,yt,wt,Vt,Ut){var At=this,bt=At.chart;wt=I(wt,!0),At.series.forEach(function(qt){delete qt.kdTree}),Ut=Et(Ut,{min:W,max:yt}),St(At,"setExtremes",Ut,function(){At.userMin=W,At.userMax=yt,At.eventArgs=Ut,wt&&bt.redraw(Vt)})},Z.prototype.zoom=function(W,yt){var wt=this,Vt=this.dataMin,Ut=this.dataMax,At=this.options,bt=Math.min(Vt,I(At.min,Vt)),qt=Math.max(Ut,I(At.max,Ut));return St(this,"zoom",W={newMin:W,newMax:yt},function(Rt){var Dt=Rt.newMin,Bt=Rt.newMax;(Dt!==wt.min||Bt!==wt.max)&&(wt.allowZoomOutside||(lt(Vt)&&(Dt<bt&&(Dt=bt),Dt>qt&&(Dt=qt)),lt(Ut)&&(Bt<bt&&(Bt=bt),Bt>qt&&(Bt=qt))),wt.displayBtn=void 0!==Dt||void 0!==Bt,wt.setExtremes(Dt,Bt,!1,void 0,{trigger:"zoom"})),Rt.zoomed=!0}),W.zoomed},Z.prototype.setAxisSize=function(){var W=this.chart,yt=this.options,wt=yt.offsets||[0,0,0,0],Vt=this.horiz,Ut=this.width=Math.round(C(I(yt.width,W.plotWidth-wt[3]+wt[1]),W.plotWidth)),At=this.height=Math.round(C(I(yt.height,W.plotHeight-wt[0]+wt[2]),W.plotHeight)),bt=this.top=Math.round(C(I(yt.top,W.plotTop+wt[0]),W.plotHeight,W.plotTop));yt=this.left=Math.round(C(I(yt.left,W.plotLeft+wt[3]),W.plotWidth,W.plotLeft)),this.bottom=W.chartHeight-At-bt,this.right=W.chartWidth-Ut-yt,this.len=Math.max(Vt?Ut:At,0),this.pos=Vt?yt:bt},Z.prototype.getExtremes=function(){var W=this.logarithmic;return{min:W?Q(W.lin2log(this.min)):this.min,max:W?Q(W.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},Z.prototype.getThreshold=function(W){var yt=this.logarithmic,wt=yt?yt.lin2log(this.min):this.min;return yt=yt?yt.lin2log(this.max):this.max,null===W||W===-1/0?W=wt:W===1/0?W=yt:wt>W?W=wt:yt<W&&(W=yt),this.translate(W,0,1,0,1)},Z.prototype.autoLabelAlign=function(W){var yt=(I(W,0)-90*this.side+720)%360;return St(this,"autoLabelAlign",W={align:"center"},function(wt){15<yt&&165>yt?wt.align="right":195<yt&&345>yt&&(wt.align="left")}),W.align},Z.prototype.tickSize=function(W){var yt=this.options,wt=I(yt["tick"===W?"tickWidth":"minorTickWidth"],"tick"===W&&this.isXAxis&&!this.categories?1:0),Vt=yt["tick"===W?"tickLength":"minorTickLength"];if(wt&&Vt){"inside"===yt[W+"Position"]&&(Vt=-Vt);var Ut=[Vt,wt]}return St(this,"afterTickSize",W={tickSize:Ut}),W.tickSize},Z.prototype.labelMetrics=function(){var W=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[W]&&this.ticks[W].label)},Z.prototype.unsquish=function(){var Dt,Bt,W=this.options.labels,yt=this.horiz,wt=this.tickInterval,Vt=this.len/(((this.categories?1:0)+this.max-this.min)/wt),Ut=W.rotation,At=this.labelMetrics(),bt=Math.max(this.max-this.min,0),qt=function(Ce){var Ht=Ce/(Vt||1);return(Ht=1<Ht?Math.ceil(Ht):1)*wt>bt&&Ce!==1/0&&Vt!==1/0&&bt&&(Ht=Math.ceil(bt/wt)),Q(Ht*wt)},Rt=wt,Zt=Number.MAX_VALUE;if(yt){if(!W.staggerLines&&!W.step)if(m(Ut))var Lt=[Ut];else Vt<W.autoRotationLimit&&(Lt=W.autoRotation);Lt&&Lt.forEach(function(Ce){if(Ce===Ut||Ce&&-90<=Ce&&90>=Ce){var Ht=(Bt=qt(Math.abs(At.h/Math.sin(G*Ce))))+Math.abs(Ce/360);Ht<Zt&&(Zt=Ht,Dt=Ce,Rt=Bt)}})}else W.step||(Rt=qt(At.h));return this.autoRotation=Lt,this.labelRotation=I(Dt,m(Ut)?Ut:0),Rt},Z.prototype.getSlotWidth=function(W){var yt=this.chart,wt=this.horiz,Vt=this.options.labels,Ut=Math.max(this.tickPositions.length-(this.categories?0:1),1),At=yt.margin[3];if(W&&m(W.slotWidth))return W.slotWidth;if(wt&&2>Vt.step)return Vt.rotation?0:(this.staggerLines||1)*this.len/Ut;if(!wt){if(void 0!==(W=Vt.style.width))return parseInt(String(W),10);if(At)return At-yt.spacing[3]}return.33*yt.chartWidth},Z.prototype.renderUnsquish=function(){var W=this.chart,yt=W.renderer,wt=this.tickPositions,Vt=this.ticks,Ut=this.options.labels,At=Ut.style,bt=this.horiz,qt=this.getSlotWidth(),Rt=Math.max(1,Math.round(qt-2*Ut.padding)),Dt={},Bt=this.labelMetrics(),Zt=At.textOverflow,Lt=0;if(y(Ut.rotation)||(Dt.rotation=Ut.rotation||0),wt.forEach(function(Si){(Si=Vt[Si]).movedLabel&&Si.replaceMovedLabel(),Si&&Si.label&&Si.label.textPxLength>Lt&&(Lt=Si.label.textPxLength)}),this.maxLabelLength=Lt,this.autoRotation)Lt>Rt&&Lt>Bt.h?Dt.rotation=this.labelRotation:this.labelRotation=0;else if(qt){var Ce=Rt;if(!Zt){var Ht="clip";for(Rt=wt.length;!bt&&Rt--;){var me=wt[Rt];(me=Vt[me].label)&&(me.styles&&"ellipsis"===me.styles.textOverflow?me.css({textOverflow:"clip"}):me.textPxLength>qt&&me.css({width:qt+"px"}),me.getBBox().height>this.len/wt.length-(Bt.h-Bt.f)&&(me.specificTextOverflow="ellipsis"))}}}Dt.rotation&&(Ce=Lt>.5*W.chartHeight?.33*W.chartHeight:Lt,Zt||(Ht="ellipsis")),(this.labelAlign=Ut.align||this.autoLabelAlign(this.labelRotation))&&(Dt.align=this.labelAlign),wt.forEach(function(Si){var be=(Si=Vt[Si])&&Si.label,de=At.width,je={};be&&(be.attr(Dt),Si.shortenLabel?Si.shortenLabel():Ce&&!de&&"nowrap"!==At.whiteSpace&&(Ce<be.textPxLength||"SPAN"===be.element.tagName)?(je.width=Ce+"px",Zt||(je.textOverflow=be.specificTextOverflow||Ht),be.css(je)):be.styles&&be.styles.width&&!je.width&&!de&&be.css({width:null}),delete be.specificTextOverflow,Si.rotation=Dt.rotation)},this),this.tickRotCorr=yt.rotCorr(Bt.b,this.labelRotation||0,0!==this.side)},Z.prototype.hasData=function(){return this.series.some(function(W){return W.hasData()})||this.options.showEmpty&&lt(this.min)&&lt(this.max)},Z.prototype.addTitle=function(W){var bt,Vt=this.opposite,Ut=this.options.title,At=this.chart.styledMode;this.axisTitle||((bt=Ut.textAlign)||(bt=(this.horiz?{low:"left",middle:"center",high:"right"}:{low:Vt?"right":"left",middle:"center",high:Vt?"left":"right"})[Ut.align]),this.axisTitle=this.chart.renderer.text(Ut.text||"",0,0,Ut.useHTML).attr({zIndex:7,rotation:Ut.rotation,align:bt}).addClass("highcharts-axis-title"),At||this.axisTitle.css(v(Ut.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),At||Ut.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[W?"show":"hide"](W)},Z.prototype.generateTick=function(W){var yt=this.ticks;yt[W]?yt[W].addLabel():yt[W]=new U(this,W)},Z.prototype.getOffset=function(){var W=this,yt=this,wt=yt.chart,Vt=yt.horiz,Ut=yt.options,At=yt.side,bt=yt.ticks,qt=yt.tickPositions,Rt=yt.coll,Dt=yt.axisParent,Bt=wt.renderer,Zt=wt.inverted&&!yt.isZAxis?[1,0,3,2][At]:At,Lt=yt.hasData(),Ce=Ut.title,Ht=Ut.labels,me=wt.axisOffset;wt=wt.clipOffset;var de,Si=[-1,1,1,-1][At],be=Ut.className,je=0,Yt=0,ee=0;if(yt.showAxis=de=Lt||Ut.showEmpty,yt.staggerLines=yt.horiz&&Ht.staggerLines||void 0,!yt.axisGroup){var Le=function(gt,rt,Qt){return Bt.g(gt).attr({zIndex:Qt}).addClass("highcharts-"+Rt.toLowerCase()+rt+" "+(W.isRadial?"highcharts-radial-axis"+rt+" ":"")+(be||"")).add(Dt)};yt.gridGroup=Le("grid","-grid",Ut.gridZIndex),yt.axisGroup=Le("axis","",Ut.zIndex),yt.labelGroup=Le("axis-labels","-labels",Ht.zIndex)}if(Lt||yt.isLinked?(qt.forEach(function(gt){yt.generateTick(gt)}),yt.renderUnsquish(),yt.reserveSpaceDefault=0===At||2===At||{1:"left",3:"right"}[At]===yt.labelAlign,I(Ht.reserveSpace,"center"===yt.labelAlign||null,yt.reserveSpaceDefault)&&qt.forEach(function(gt){ee=Math.max(bt[gt].getLabelSize(),ee)}),yt.staggerLines&&(ee*=yt.staggerLines),yt.labelOffset=ee*(yt.opposite?-1:1)):S(bt,function(gt,rt){gt.destroy(),delete bt[rt]}),Ce&&Ce.text&&!1!==Ce.enabled&&(yt.addTitle(de),de&&!1!==Ce.reserveSpace)){yt.titleOffset=je=yt.axisTitle.getBBox()[Vt?"height":"width"];var It=Ce.offset;Yt=lt(It)?0:I(Ce.margin,Vt?5:10)}yt.renderLine(),yt.offset=Si*I(Ut.offset,me[At]?me[At]+(Ut.margin||0):0),yt.tickRotCorr=yt.tickRotCorr||{x:0,y:0},Ce=0===At?-yt.labelMetrics().h:2===At?yt.tickRotCorr.y:0,Lt=Math.abs(ee)+Yt,ee&&(Lt=Lt-Ce+Si*(Vt?I(Ht.y,yt.tickRotCorr.y+8*Si):Ht.x)),yt.axisTitleMargin=I(It,Lt),yt.getMaxLabelDimensions&&(yt.maxLabelDimensions=yt.getMaxLabelDimensions(bt,qt)),"colorAxis"!==Rt&&(Vt=this.tickSize("tick"),me[At]=Math.max(me[At],(yt.axisTitleMargin||0)+je+Si*yt.offset,Lt,qt&&qt.length&&Vt?Vt[0]+Si*yt.offset:0),Ut=!yt.axisLine||Ut.offset?0:2*Math.floor(yt.axisLine.strokeWidth()/2),wt[Zt]=Math.max(wt[Zt],Ut)),St(this,"afterGetOffset")},Z.prototype.getLinePath=function(W){var yt=this.chart,wt=this.opposite,Vt=this.offset,Ut=this.horiz,At=this.left+(wt?this.width:0)+Vt;return Vt=yt.chartHeight-this.bottom-(wt?this.height:0)+Vt,wt&&(W*=-1),yt.renderer.crispLine([["M",Ut?this.left:At,Ut?Vt:this.top],["L",Ut?yt.chartWidth-this.right:At,Ut?Vt:yt.chartHeight-this.bottom]],W)},Z.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},Z.prototype.getTitlePosition=function(){var W=this.horiz,yt=this.left,wt=this.top,Vt=this.len,Ut=this.options.title,At=W?yt:wt,bt=this.opposite,qt=this.offset,Rt=Ut.x,Dt=Ut.y,Bt=this.axisTitle,Zt=this.chart.renderer.fontMetrics(Ut.style.fontSize,Bt);return Bt=Math.max(Bt.getBBox(null,0).height-Zt.h-1,0),Vt={low:At+(W?0:Vt),middle:At+Vt/2,high:At+(W?Vt:0)}[Ut.align],yt=(W?wt+this.height:yt)+(W?1:-1)*(bt?-1:1)*this.axisTitleMargin+[-Bt,Bt,Zt.f,-Bt][this.side],St(this,"afterGetTitlePosition",{titlePosition:W={x:W?Vt+Rt:yt+(bt?this.width:0)+qt+Rt,y:W?yt+Dt-(bt?this.height:0)+qt:Vt+Dt}}),W},Z.prototype.renderMinorTick=function(W,yt){var wt=this.minorTicks;wt[W]||(wt[W]=new U(this,W,"minor")),yt&&wt[W].isNew&&wt[W].render(null,!0),wt[W].render(null,!1,1)},Z.prototype.renderTick=function(W,yt,wt){var Vt=this.ticks;(!this.isLinked||W>=this.min&&W<=this.max||this.grid&&this.grid.isColumn)&&(Vt[W]||(Vt[W]=new U(this,W)),wt&&Vt[W].isNew&&Vt[W].render(yt,!0,-1),Vt[W].render(yt))},Z.prototype.render=function(){var Si,be,W=this,yt=W.chart,wt=W.logarithmic,Vt=W.options,Ut=W.isLinked,At=W.tickPositions,bt=W.axisTitle,qt=W.ticks,Rt=W.minorTicks,Dt=W.alternateBands,Bt=Vt.stackLabels,Zt=Vt.alternateGridColor,Lt=W.tickmarkOffset,Ce=W.axisLine,Ht=W.showAxis,me=V(yt.renderer.globalAnimation);if(W.labelEdge.length=0,W.overlap=!1,[qt,Rt,Dt].forEach(function(je){S(je,function(Yt){Yt.isActive=!1})}),W.hasData()||Ut){var de=W.chart.hasRendered&&W.old&&m(W.old.min);W.minorTickInterval&&!W.categories&&W.getMinorTickPositions().forEach(function(je){W.renderMinorTick(je,de)}),At.length&&(At.forEach(function(je,Yt){W.renderTick(je,Yt,de)}),Lt&&(0===W.min||W.single)&&(qt[-1]||(qt[-1]=new U(W,-1,null,!0)),qt[-1].render(-1))),Zt&&At.forEach(function(je,Yt){be=void 0!==At[Yt+1]?At[Yt+1]+Lt:W.max-Lt,Yt%2==0&&je<W.max&&be<=W.max+(yt.polar?-Lt:Lt)&&(Dt[je]||(Dt[je]=new X.PlotLineOrBand(W)),Si=je+Lt,Dt[je].options={from:wt?wt.lin2log(Si):Si,to:wt?wt.lin2log(be):be,color:Zt,className:"highcharts-alternate-grid"},Dt[je].render(),Dt[je].isActive=!0)}),W._addedPlotLB||(W._addedPlotLB=!0,(Vt.plotLines||[]).concat(Vt.plotBands||[]).forEach(function(je){W.addPlotBandOrLine(je)}))}[qt,Rt,Dt].forEach(function(je){var Yt=[],ee=me.duration;S(je,function(Le,It){Le.isActive||(Le.render(It,!1,0),Le.isActive=!1,Yt.push(It))}),it(function(){for(var Le=Yt.length;Le--;)je[Yt[Le]]&&!je[Yt[Le]].isActive&&(je[Yt[Le]].destroy(),delete je[Yt[Le]])},je!==Dt&&yt.hasRendered&&ee?ee:0)}),Ce&&(Ce[Ce.isPlaced?"animate":"attr"]({d:this.getLinePath(Ce.strokeWidth())}),Ce.isPlaced=!0,Ce[Ht?"show":"hide"](Ht)),bt&&Ht&&(Vt=W.getTitlePosition(),m(Vt.y)?(bt[bt.isNew?"attr":"animate"](Vt),bt.isNew=!1):(bt.attr("y",-9999),bt.isNew=!0)),Bt&&Bt.enabled&&W.stacking&&W.stacking.renderStackTotals(),W.old={len:W.len,max:W.max,min:W.min,transA:W.transA,userMax:W.userMax,userMin:W.userMin},W.isDirty=!1,St(this,"afterRender")},Z.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(W){W.render()})),this.series.forEach(function(W){W.isDirty=!0})},Z.prototype.getKeepProps=function(){return this.keepProps||Z.keepProps},Z.prototype.destroy=function(W){var yt=this,wt=yt.plotLinesAndBands,Vt=this.eventOptions;if(St(this,"destroy",{keepEvents:W}),W||p(yt),[yt.ticks,yt.minorTicks,yt.alternateBands].forEach(function(At){_t(At)}),wt)for(W=wt.length;W--;)wt[W].destroy();for(var Ut in"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(At){yt[At]&&(yt[At]=yt[At].destroy())}),yt.plotLinesAndBandsGroups)yt.plotLinesAndBandsGroups[Ut]=yt.plotLinesAndBandsGroups[Ut].destroy();S(yt,function(At,bt){-1===yt.getKeepProps().indexOf(bt)&&delete yt[bt]}),this.eventOptions=Vt},Z.prototype.drawCrosshair=function(W,yt){var At,wt=this.crosshair,Vt=I(wt&&wt.snap,!0),Ut=this.chart,bt=this.cross;if(St(this,"drawCrosshair",{e:W,point:yt}),W||(W=this.cross&&this.cross.e),wt&&!1!==(lt(yt)||!Vt)){if(Vt?lt(yt)&&(At=I("colorAxis"!==this.coll?yt.crosshairPos:null,this.isXAxis?yt.plotX:this.len-yt.plotY)):At=W&&(this.horiz?W.chartX-this.pos:this.len-W.chartY+this.pos),lt(At)){var qt={value:yt&&(this.isXAxis?yt.x:I(yt.stackY,yt.y)),translatedValue:At};Ut.polar&&Et(qt,{isCrosshair:!0,chartX:W&&W.chartX,chartY:W&&W.chartY,point:yt}),qt=this.getPlotLinePath(qt)||null}if(!lt(qt))return void this.hideCrosshair();Vt=this.categories&&!this.isRadial,bt||(this.cross=bt=Ut.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(Vt?"category ":"thin ")+(wt.className||"")).attr({zIndex:I(wt.zIndex,2)}).add(),Ut.styledMode||(bt.attr({stroke:wt.color||(Vt?Y.parse("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":I(wt.width,1)}).css({"pointer-events":"none"}),wt.dashStyle&&bt.attr({dashstyle:wt.dashStyle}))),bt.show().attr({d:qt}),Vt&&!wt.width&&bt.attr({"stroke-width":this.transA}),this.cross.e=W}else this.hideCrosshair();St(this,"afterDrawCrosshair",{e:W,point:yt})},Z.prototype.hideCrosshair=function(){this.cross&&this.cross.hide(),St(this,"afterHideCrosshair")},Z.prototype.hasVerticalPanning=function(){var W=this.chart.options.chart.panning;return!!(W&&W.enabled&&/y/.test(W.type))},Z.prototype.validatePositiveValue=function(W){return m(W)&&0<W},Z.prototype.update=function(W,yt){var wt=this.chart;W=v(this.userOptions,W),this.destroy(!0),this.init(wt,W),wt.isDirtyBox=!0,I(yt,!0)&&wt.redraw()},Z.prototype.remove=function(W){for(var yt=this.chart,wt=this.coll,Vt=this.series,Ut=Vt.length;Ut--;)Vt[Ut]&&Vt[Ut].remove(!1);Ct(yt.axes,this),Ct(yt[wt],this),yt[wt].forEach(function(At,bt){At.options.index=At.userOptions.index=bt}),this.destroy(),yt.isDirtyBox=!0,I(W,!0)&&yt.redraw()},Z.prototype.setTitle=function(W,yt){this.update({title:W},yt)},Z.prototype.setCategories=function(W,yt){this.update({categories:W},yt)},Z.defaultOptions=K.defaultXAxisOptions,Z.keepProps="extKey hcEvents names series userMax userMin".split(" "),Z}()}),ft(dt,"Core/Axis/DateTimeAxis.js",[dt["Core/Utilities.js"]],function(E){var X,K=E.addEvent,Y=E.getMagnitude,ct=E.normalizeTickInterval,et=E.timeUnits;return function(U){function at(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function V(G){"datetime"!==G.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new H(this))}var $=[];U.compose=function(G){return-1===$.indexOf(G)&&($.push(G),G.keepProps.push("dateTime"),G.prototype.getTimeTicks=at,K(G,"init",V)),G};var H=function(){function G(J){this.axis=J}return G.prototype.normalizeTimeTickInterval=function(J,z){var _t,nt=z||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],Q=et[(z=nt[nt.length-1])[0]],lt=z[1];for(_t=0;_t<nt.length&&(Q=et[(z=nt[_t])[0]],lt=z[1],!(nt[_t+1]&&J<=(Q*lt[lt.length-1]+et[nt[_t+1][0]])/2));_t++);return Q===et.year&&J<5*Q&&(lt=[1,2,5]),{unitRange:Q,count:J=ct(J/Q,lt,"year"===z[0]?Math.max(Y(J/Q),1):1),unitName:z[0]}},G.prototype.getXDateFormat=function(J,z){var nt=this.axis;return nt.closestPointRange?nt.chart.time.getDateFormat(nt.closestPointRange,J,nt.options.startOfWeek,z)||z.year:z.day},G}();U.Additions=H}(X||(X={})),X}),ft(dt,"Core/Axis/LogarithmicAxis.js",[dt["Core/Utilities.js"]],function(E){var X,K=E.addEvent,Y=E.getMagnitude,ct=E.normalizeTickInterval,et=E.pick;return function(U){function at(G){var J=this.logarithmic;"logarithmic"!==G.userOptions.type?this.logarithmic=void 0:J||(this.logarithmic=new H(this))}function V(){var G=this.logarithmic;G&&(this.lin2val=function(J){return G.lin2log(J)},this.val2lin=function(J){return G.log2lin(J)})}var $=[];U.compose=function(G){return-1===$.indexOf(G)&&($.push(G),G.keepProps.push("logarithmic"),K(G,"init",at),K(G,"afterInit",V)),G};var H=function(){function G(J){this.axis=J}return G.prototype.getLogTickPositions=function(J,z,nt,Q){var lt=this.axis,_t=lt.len,Ct=lt.options,kt=[];if(Q||(this.minorAutoInterval=void 0),.5<=J)J=Math.round(J),kt=lt.getLinearTickPositions(J,z,nt);else if(.08<=J){var St,Et=Math.floor(z),R=Ct=void 0;for(_t=.3<J?[1,2,4]:.15<J?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];Et<nt+1&&!R;Et++){var u=_t.length;for(St=0;St<u&&!R;St++){var m=this.log2lin(this.lin2log(Et)*_t[St]);m>z&&(!Q||Ct<=nt)&&void 0!==Ct&&kt.push(Ct),Ct>nt&&(R=!0),Ct=m}}}else z=this.lin2log(z),nt=this.lin2log(nt),J=Q?lt.getMinorTickInterval():Ct.tickInterval,J=et("auto"===J?null:J,this.minorAutoInterval,Ct.tickPixelInterval/(Q?5:1)*(nt-z)/((Q?_t/lt.tickPositions.length:_t)||1)),J=ct(J,void 0,Y(J)),kt=lt.getLinearTickPositions(J,z,nt).map(this.log2lin),Q||(this.minorAutoInterval=J/5);return Q||(lt.tickInterval=J),kt},G.prototype.lin2log=function(J){return Math.pow(10,J)},G.prototype.log2lin=function(J){return Math.log(J)/Math.LN10},G}();U.Additions=H}(X||(X={})),X}),ft(dt,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[dt["Core/Utilities.js"]],function(E){var et,K=E.erase,Y=E.extend,ct=E.isNumber;return function(X){var at,U=[];X.compose=function($,H){return at||(at=$),-1===U.indexOf(H)&&(U.push(H),Y(H.prototype,V.prototype)),H};var V=function(){function $(){}return $.prototype.getPlotBandPath=function(H,G,J){void 0===J&&(J=this.options);var z=this.getPlotLinePath({value:G,force:!0,acrossPanes:J.acrossPanes}),nt=[],Q=this.horiz;if(G=!ct(this.min)||!ct(this.max)||H<this.min&&G<this.min||H>this.max&&G>this.max,H=this.getPlotLinePath({value:H,force:!0,acrossPanes:J.acrossPanes}),J=1,H&&z){if(G){var lt=H.toString()===z.toString();J=0}for(G=0;G<H.length;G+=2){var _t=H[G],Ct=H[G+1],kt=z[G],Et=z[G+1];"M"!==_t[0]&&"L"!==_t[0]||"M"!==Ct[0]&&"L"!==Ct[0]||"M"!==kt[0]&&"L"!==kt[0]||"M"!==Et[0]&&"L"!==Et[0]||(Q&&kt[1]===_t[1]?(kt[1]+=J,Et[1]+=J):Q||kt[2]!==_t[2]||(kt[2]+=J,Et[2]+=J),nt.push(["M",_t[1],_t[2]],["L",Ct[1],Ct[2]],["L",Et[1],Et[2]],["L",kt[1],kt[2]],["Z"])),nt.isFlat=lt}}return nt},$.prototype.addPlotBand=function(H){return this.addPlotBandOrLine(H,"plotBands")},$.prototype.addPlotLine=function(H){return this.addPlotBandOrLine(H,"plotLines")},$.prototype.addPlotBandOrLine=function(H,G){var J=this,z=this.userOptions,nt=new at(this,H);if(this.visible&&(nt=nt.render()),nt){if(this._addedPlotLB||(this._addedPlotLB=!0,(z.plotLines||[]).concat(z.plotBands||[]).forEach(function(lt){J.addPlotBandOrLine(lt)})),G){var Q=z[G]||[];Q.push(H),z[G]=Q}this.plotLinesAndBands.push(nt)}return nt},$.prototype.removePlotBandOrLine=function(H){var G=this.plotLinesAndBands,J=this.options,z=this.userOptions;if(G){for(var nt=G.length;nt--;)G[nt].id===H&&G[nt].destroy();[J.plotLines||[],z.plotLines||[],J.plotBands||[],z.plotBands||[]].forEach(function(Q){for(nt=Q.length;nt--;)(Q[nt]||{}).id===H&&K(Q,Q[nt])})}},$.prototype.removePlotBand=function(H){this.removePlotBandOrLine(H)},$.prototype.removePlotLine=function(H){this.removePlotBandOrLine(H)},$}()}(et||(et={})),et}),ft(dt,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[dt["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],dt["Core/Utilities.js"]],function(E,K){var Y=K.arrayMax,ct=K.arrayMin,et=K.defined,X=K.destroyObjectProperties,U=K.erase,at=K.fireEvent,V=K.merge,$=K.objectEach,H=K.pick;return function(){function G(J,z){this.axis=J,z&&(this.options=z,this.id=z.id)}return G.compose=function(J){return E.compose(G,J)},G.prototype.render=function(){at(this,"render");var J=this,z=J.axis,nt=z.horiz,Q=z.logarithmic,lt=J.options,_t=lt.color,Ct=H(lt.zIndex,0),kt=lt.events,Et={},St=z.chart.renderer,R=lt.label,u=J.label,m=lt.to,y=lt.from,v=lt.value,M=J.svgElem,S=[],I=et(y)&&et(m);S=et(v);var C=!M,p={class:"highcharts-plot-"+(I?"band ":"line ")+(lt.className||"")},T=I?"bands":"lines";if(Q&&(y=Q.log2lin(y),m=Q.log2lin(m),v=Q.log2lin(v)),z.chart.styledMode||(S?(p.stroke=_t||"#999999",p["stroke-width"]=H(lt.width,1),lt.dashStyle&&(p.dashstyle=lt.dashStyle)):I&&(p.fill=_t||"#e6ebf5",lt.borderWidth&&(p.stroke=lt.borderColor,p["stroke-width"]=lt.borderWidth))),Et.zIndex=Ct,(Q=z.plotLinesAndBandsGroups[T+="-"+Ct])||(z.plotLinesAndBandsGroups[T]=Q=St.g("plot-"+T).attr(Et).add()),C&&(J.svgElem=M=St.path().attr(p).add(Q)),S)S=z.getPlotLinePath({value:v,lineWidth:M.strokeWidth(),acrossPanes:lt.acrossPanes});else{if(!I)return;S=z.getPlotBandPath(y,m,lt)}return!J.eventsAdded&&kt&&($(kt,function(it,Z){M.on(Z,function(W){kt[Z].apply(J,[W])})}),J.eventsAdded=!0),(C||!M.d)&&S&&S.length?M.attr({d:S}):M&&(S?(M.show(!0),M.animate({d:S})):M.d&&(M.hide(),u&&(J.label=u=u.destroy()))),R&&(et(R.text)||et(R.formatter))&&S&&S.length&&0<z.width&&0<z.height&&!S.isFlat?(R=V({align:nt&&I&&"center",x:nt?!I&&4:10,verticalAlign:!nt&&I&&"middle",y:nt?I?16:10:I?6:-4,rotation:nt&&!I&&90},R),this.renderLabel(R,S,I,Ct)):u&&u.hide(),J},G.prototype.renderLabel=function(J,z,nt,Q){var lt=this.axis,_t=lt.chart.renderer,Ct=this.label;Ct||(this.label=Ct=_t.text(this.getLabelText(J),0,0,J.useHTML).attr({align:J.textAlign||J.align,rotation:J.rotation,class:"highcharts-plot-"+(nt?"band":"line")+"-label "+(J.className||""),zIndex:Q}).add(),lt.chart.styledMode||Ct.css(V({textOverflow:"ellipsis"},J.style))),Q=z.xBounds||[z[0][1],z[1][1],nt?z[2][1]:z[0][1]],z=z.yBounds||[z[0][2],z[1][2],nt?z[2][2]:z[0][2]],nt=ct(Q),_t=ct(z),Ct.align(J,!1,{x:nt,y:_t,width:Y(Q)-nt,height:Y(z)-_t}),Ct.alignValue&&"left"!==Ct.alignValue||Ct.css({width:(90===Ct.rotation?lt.height-(Ct.alignAttr.y-lt.top):lt.width-(Ct.alignAttr.x-lt.left))+"px"}),Ct.show(!0)},G.prototype.getLabelText=function(J){return et(J.formatter)?J.formatter.call(this):J.text},G.prototype.destroy=function(){U(this.axis.plotLinesAndBands,this),delete this.axis,X(this)},G}()}),ft(dt,"Core/Tooltip.js",[dt["Core/FormatUtilities.js"],dt["Core/Globals.js"],dt["Core/Renderer/RendererUtilities.js"],dt["Core/Renderer/RendererRegistry.js"],dt["Core/Utilities.js"]],function(E,K,Y,ct,et){var X=E.format,U=K.doc,at=Y.distribute,V=et.addEvent,$=et.clamp,H=et.css,G=et.defined,J=et.discardElement,z=et.extend,nt=et.fireEvent,Q=et.isArray,lt=et.isNumber,_t=et.isString,Ct=et.merge,kt=et.pick,Et=et.splat,St=et.syncTimeout;return function(){function R(u,m){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=u,this.init(u,m)}return R.prototype.applyFilter=function(){var u=this.chart;u.renderer.definition({tagName:"filter",attributes:{id:"drop-shadow-"+u.index,opacity:.5},children:[{tagName:"feGaussianBlur",attributes:{in:"SourceAlpha",stdDeviation:1}},{tagName:"feOffset",attributes:{dx:1,dy:1}},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"linear",slope:.3}}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",attributes:{in:"SourceGraphic"}}]}]})},R.prototype.bodyFormatter=function(u){return u.map(function(m){var y=m.series.tooltipOptions;return(y[(m.point.formatPrefix||"point")+"Formatter"]||m.point.tooltipFormatter).call(m.point,y[(m.point.formatPrefix||"point")+"Format"]||"")})},R.prototype.cleanSplit=function(u){this.chart.series.forEach(function(m){var y=m&&m.tt;y&&(!y.isActive||u?m.tt=y.destroy():y.isActive=!1)})},R.prototype.defaultFormatter=function(u){var m=this.points||Et(this),y=[u.tooltipFooterHeaderFormatter(m[0])];return(y=y.concat(u.bodyFormatter(m))).push(u.tooltipFooterHeaderFormatter(m[0],!0)),y},R.prototype.destroy=function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),J(this.container)),et.clearTimeout(this.hideTimer),et.clearTimeout(this.tooltipTimeout)},R.prototype.getAnchor=function(u,m){var C,p,y=this.chart,v=y.pointer,M=y.inverted,S=y.plotTop,I=y.plotLeft,T=0,it=0;return u=Et(u),this.followPointer&&m?(void 0===m.chartX&&(m=v.normalize(m)),v=[m.chartX-I,m.chartY-S]):u[0].tooltipPos?v=u[0].tooltipPos:(u.forEach(function(Z){C=Z.series.yAxis,T+=Z.plotX||0,it+=Z.plotLow?(Z.plotLow+(Z.plotHigh||0))/2:Z.plotY||0,(p=Z.series.xAxis)&&C&&(M?(T+=S+y.plotHeight-p.len-p.pos,it+=I+y.plotWidth-C.len-C.pos):(T+=p.pos-I,it+=C.pos-S))}),T/=u.length,it/=u.length,v=[M?y.plotWidth-it:T,M?y.plotHeight-T:it],this.shared&&1<u.length&&m&&(M?v[0]=m.chartX-I:v[1]=m.chartY-S)),v.map(Math.round)},R.prototype.getLabel=function(){var p,u=this,m=this.chart.styledMode,y=this.options,v=this.split&&this.allowShared,M="tooltip"+(G(y.className)?" "+y.className:""),S=y.style.pointerEvents||(!this.followPointer&&y.stickOnContact?"auto":"none"),I=function(){u.inContact=!0},C=function(Vt){var Ut=u.chart.hoverSeries;u.inContact=u.shouldStickOnContact()&&u.chart.pointer.inClass(Vt.relatedTarget,"highcharts-tooltip"),!u.inContact&&Ut&&Ut.onMouseOut&&Ut.onMouseOut()},T=this.chart.renderer;if(u.label){var it=!u.label.hasClass("highcharts-label");(v&&!it||!v&&it)&&u.destroy()}if(!this.label){if(this.outside){it=this.chart.options.chart.style;var Z=ct.getRendererType();this.container=p=K.doc.createElement("div"),p.className="highcharts-tooltip-container",H(p,{position:"absolute",top:"1px",pointerEvents:S,zIndex:Math.max(this.options.style.zIndex||0,(it&&it.zIndex||0)+3)}),V(p,"mouseenter",I),V(p,"mouseleave",C),K.doc.body.appendChild(p),this.renderer=T=new Z(p,0,0,it,void 0,void 0,T.styledMode)}if(v?this.label=T.g(M):(this.label=T.label("",0,0,y.shape,void 0,void 0,y.useHTML,void 0,M).attr({padding:y.padding,r:y.borderRadius}),m||this.label.attr({fill:y.backgroundColor,"stroke-width":y.borderWidth}).css(y.style).css({pointerEvents:S}).shadow(y.shadow)),m&&y.shadow&&(this.applyFilter(),this.label.attr({filter:"url(#drop-shadow-"+this.chart.index+")"})),u.outside&&!u.split){var W=this.label,yt=W.xSetter,wt=W.ySetter;W.xSetter=function(Vt){yt.call(W,u.distance),p.style.left=Vt+"px"},W.ySetter=function(Vt){wt.call(W,u.distance),p.style.top=Vt+"px"}}this.label.on("mouseenter",I).on("mouseleave",C).attr({zIndex:8}).add()}return this.label},R.prototype.getPosition=function(u,m,y){var wt,v=this.chart,M=this.distance,S={},I=v.inverted&&y.h||0,C=this.outside,p=C?U.documentElement.clientWidth-2*M:v.chartWidth,T=C?Math.max(U.body.scrollHeight,U.documentElement.scrollHeight,U.body.offsetHeight,U.documentElement.offsetHeight,U.documentElement.clientHeight):v.chartHeight,it=v.pointer.getChartPosition(),Z=function(Rt){var Dt="x"===Rt;return[Rt,Dt?p:T,Dt?u:m].concat(C?[Dt?u*it.scaleX:m*it.scaleY,Dt?it.left-M+(y.plotX+v.plotLeft)*it.scaleX:it.top-M+(y.plotY+v.plotTop)*it.scaleY,0,Dt?p:T]:[Dt?u:m,Dt?y.plotX+v.plotLeft:y.plotY+v.plotTop,Dt?v.plotLeft:v.plotTop,Dt?v.plotLeft+v.plotWidth:v.plotTop+v.plotHeight])},W=Z("y"),yt=Z("x");Z=!!y.negative,!v.polar&&v.hoverSeries&&v.hoverSeries.yAxis&&v.hoverSeries.yAxis.reversed&&(Z=!Z);var Vt=!this.followPointer&&kt(y.ttBelow,!v.inverted===Z),Ut=function(Rt,Dt,Bt,Zt,Lt,Ce,Ht){var me=C?"y"===Rt?M*it.scaleY:M*it.scaleX:M,Si=(Bt-Zt)/2,be=Zt<Lt-M,de=Lt+M+Zt<Dt,je=Lt-me-Bt+Si;if(Lt=Lt+me-Si,Vt&&de)S[Rt]=Lt;else if(!Vt&&be)S[Rt]=je;else if(be)S[Rt]=Math.min(Ht-Zt,0>je-I?je:je-I);else{if(!de)return!1;S[Rt]=Math.max(Ce,Lt+I+Bt>Dt?Lt:Lt+I)}},At=function(Rt,Dt,Bt,Zt,Lt){var Ce;return Lt<M||Lt>Dt-M?Ce=!1:S[Rt]=Lt<Bt/2?1:Lt>Dt-Zt/2?Dt-Zt-2:Lt-Bt/2,Ce},bt=function(Rt){var Dt=W;W=yt,yt=Dt,wt=Rt},qt=function(){!1!==Ut.apply(0,W)?!1!==At.apply(0,yt)||wt||(bt(!0),qt()):wt?S.x=S.y=0:(bt(!0),qt())};return(v.inverted||1<this.len)&&bt(),qt(),S},R.prototype.hide=function(u){var m=this;et.clearTimeout(this.hideTimer),u=kt(u,this.options.hideDelay),this.isHidden||(this.hideTimer=St(function(){m.getLabel().fadeOut(u&&void 0),m.isHidden=!0},u))},R.prototype.init=function(u,m){this.chart=u,this.options=m,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=m.split&&!u.inverted&&!u.polar,this.shared=m.shared||this.split,this.outside=kt(m.outside,!(!u.scrollablePixelsX&&!u.scrollablePixelsY))},R.prototype.shouldStickOnContact=function(){return!(this.followPointer||!this.options.stickOnContact)},R.prototype.isStickyOnContact=function(){return!(!this.shouldStickOnContact()||!this.inContact)},R.prototype.move=function(u,m,y,v){var M=this,S=M.now,I=!1!==M.options.animation&&!M.isHidden&&(1<Math.abs(u-S.x)||1<Math.abs(m-S.y)),C=M.followPointer||1<M.len;z(S,{x:I?(2*S.x+u)/3:u,y:I?(S.y+m)/2:m,anchorX:C?void 0:I?(2*S.anchorX+y)/3:y,anchorY:C?void 0:I?(S.anchorY+v)/2:v}),M.getLabel().attr(S),M.drawTracker(),I&&(et.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){M&&M.move(u,m,y,v)},32))},R.prototype.refresh=function(u,m){var y=this.chart,v=this.options,M=Et(u),S=M[0],I=[],C=v.formatter||this.defaultFormatter,p=this.shared,T=y.styledMode,it={};if(v.enabled){et.clearTimeout(this.hideTimer),this.allowShared=!(!Q(u)&&u.series&&u.series.noSharedTooltip),this.followPointer=!this.split&&S.series.tooltipOptions.followPointer;var Z=(u=this.getAnchor(u,m))[0],W=u[1];if(p&&this.allowShared?(y.pointer.applyInactiveState(M),M.forEach(function(Vt){Vt.setState("hover"),I.push(Vt.getLabelConfig())}),(it={x:S.category,y:S.y}).points=I):it=S.getLabelConfig(),this.len=I.length,C=C.call(it,this),this.distance=kt((p=S.series).tooltipOptions.distance,16),!1===C)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(C,M);else{var yt=Z,wt=W;if(m&&y.pointer.isDirectTouch&&(yt=m.chartX-y.plotLeft,wt=m.chartY-y.plotTop),!y.polar&&!1!==p.options.clip&&!M.some(function(Vt){return Vt.series.shouldShowTooltip(yt,wt)}))return void this.hide();m=this.getLabel(),v.style.width&&!T||m.css({width:this.chart.spacingBox.width+"px"}),m.attr({text:C&&C.join?C.join(""):C}),m.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+kt(S.colorIndex,p.colorIndex)),T||m.attr({stroke:v.borderColor||S.color||p.color||"#666666"}),this.updatePosition({plotX:Z,plotY:W,negative:S.negative,ttBelow:S.ttBelow,h:u[2]||0})}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}nt(this,"refresh")}},R.prototype.renderSplit=function(u,m){function y(de,je,Yt,ee,Le){return void 0===Le&&(Le=!0),Yt?(je=Zt?0:me,de=$(de-ee/2,Rt.left,Rt.right-ee-(v.outside?Lt:0))):(je-=Ce,de=$(de=Le?de-ee-At:de+At,Le?de:Rt.left,Rt.right)),{x:de,y:je}}var v=this,M=v.chart,S=v.chart,I=S.chartWidth,C=S.chartHeight,p=S.plotHeight,T=S.plotLeft,it=S.plotTop,Z=S.pointer,W=S.scrollablePixelsY;W=void 0===W?0:W;var wt=S.scrollingContainer,Vt=(wt=void 0===wt?{scrollLeft:0,scrollTop:0}:wt).scrollLeft;wt=wt.scrollTop;var Ut=S.styledMode,At=v.distance,bt=v.options,qt=v.options.positioner,Rt=v.outside&&"number"!=typeof S.scrollablePixelsX?U.documentElement.getBoundingClientRect():{left:Vt,right:Vt+I,top:wt,bottom:wt+C},Dt=v.getLabel(),Bt=this.renderer||M.renderer,Zt=!(!M.xAxis[0]||!M.xAxis[0].opposite),Lt=(M=Z.getChartPosition()).left;M=M.top;var Ce=it+wt,Ht=0,me=p-W;_t(u)&&(u=[!1,u]),u=u.slice(0,m.length+1).reduce(function(de,je,Yt){if(!1!==je&&""!==je){var ee=(Yt=m[Yt-1]||{isHeader:!0,plotX:m[0].plotX,plotY:p,series:{}}).isHeader,Le=ee?v:Yt.series;je=je.toString();var It=Le.tt,gt=Yt.isHeader,rt=Yt.series,Qt="highcharts-color-"+kt(Yt.colorIndex,rt.colorIndex,"none");if(It||(It={padding:bt.padding,r:bt.borderRadius},Ut||(It.fill=bt.backgroundColor,It["stroke-width"]=bt.borderWidth),It=Bt.label("",0,0,bt[gt?"headerShape":"shape"],void 0,void 0,bt.useHTML).addClass((gt?"highcharts-tooltip-header ":"")+"highcharts-tooltip-box "+Qt).attr(It).add(Dt)),It.isActive=!0,It.attr({text:je}),Ut||It.css(bt.style).shadow(bt.shadow).attr({stroke:bt.borderColor||Yt.color||rt.color||"#333333"}),je=(gt=(Le=Le.tt=It).getBBox()).width+Le.strokeWidth(),ee&&(me+=Ht=gt.height,Zt&&(Ce-=Ht)),rt=void 0===(rt=Yt.plotX)?0:rt,Qt=void 0===(Qt=Yt.plotY)?0:Qt,It=Yt.series,Yt.isHeader){rt=T+rt;var ue=it+p/2}else{var Ze=It.xAxis,ve=It.yAxis;rt=Ze.pos+$(rt,-At,Ze.len+At),It.shouldShowTooltip(0,ve.pos-it+Qt,{ignoreX:!0})&&(ue=ve.pos+Qt)}rt=$(rt,Rt.left-At,Rt.right+At),"number"==typeof ue?(gt=gt.height+1,Qt=qt?qt.call(v,je,gt,Yt):y(rt,ue,ee,je),de.push({align:qt?0:void 0,anchorX:rt,anchorY:ue,boxWidth:je,point:Yt,rank:kt(Qt.rank,ee?1:0),size:gt,target:Qt.y,tt:Le,x:Qt.x})):Le.isActive=!1}return de},[]),!qt&&u.some(function(de){var je=(v.outside?Lt:0)+de.anchorX;return je<Rt.left&&je+de.boxWidth<Rt.right||je<Lt-Rt.left+de.boxWidth&&Rt.right-je>je})&&(u=u.map(function(de){var je=y(de.anchorX,de.anchorY,de.point.isHeader,de.boxWidth,!1);return z(de,{target:je.y,x:je.x})})),v.cleanSplit(),at(u,me);var Si=Lt,be=Lt;u.forEach(function(de){var je=de.x,Yt=de.boxWidth;(de=de.isHeader)||(v.outside&&Lt+je<Si&&(Si=Lt+je),!de&&v.outside&&Si+Yt>be&&(be=Lt+je))}),u.forEach(function(de){var je=de.x,Yt=de.anchorX,ee=de.pos,Le=de.point.isHeader;if(ee={visibility:void 0===ee?"hidden":"inherit",x:je,y:ee+Ce,anchorX:Yt,anchorY:de.anchorY},v.outside&&je<Yt){var It=Lt-Si;0<It&&(Le||(ee.x=je+It,ee.anchorX=Yt+It),Le&&(ee.x=(be-Si)/2,ee.anchorX=Yt+It))}de.tt.attr(ee)}),u=v.container,W=v.renderer,v.outside&&u&&W&&(S=Dt.getBBox(),W.setSize(S.width+S.x,S.height+S.y,!1),u.style.left=Si+"px",u.style.top=M+"px")},R.prototype.drawTracker=function(){if(this.followPointer||!this.options.stickOnContact)this.tracker&&this.tracker.destroy();else{var u=this.chart,m=this.label,y=this.shared?u.hoverPoints:u.hoverPoint;if(m&&y){var v={x:0,y:0,width:0,height:0};y=this.getAnchor(y);var M=m.getBBox();y[0]+=u.plotLeft-m.translateX,y[1]+=u.plotTop-m.translateY,v.x=Math.min(0,y[0]),v.y=Math.min(0,y[1]),v.width=0>y[0]?Math.max(Math.abs(y[0]),M.width-y[0]):Math.max(Math.abs(y[0]),M.width),v.height=0>y[1]?Math.max(Math.abs(y[1]),M.height-Math.abs(y[1])):Math.max(Math.abs(y[1]),M.height),this.tracker?this.tracker.attr(v):(this.tracker=m.renderer.rect(v).addClass("highcharts-tracker").add(m),u.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}},R.prototype.styledModeFormat=function(u){return u.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')},R.prototype.tooltipFooterHeaderFormatter=function(u,m){var y=u.series,v=y.tooltipOptions,M=y.xAxis,S=M&&M.dateTime,I=v.xDateFormat,C=v[m?"footerFormat":"headerFormat"];return nt(this,"headerFormatter",M={isFooter:m,labelConfig:u},function(p){S&&!I&&lt(u.key)&&(I=S.getXDateFormat(u.key,v.dateTimeLabelFormats)),S&&I&&(u.point&&u.point.tooltipDateKeys||["key"]).forEach(function(T){C=C.replace("{point."+T+"}","{point."+T+":"+I+"}")}),y.chart.styledMode&&(C=this.styledModeFormat(C)),p.text=X(C,{point:u,series:y},this.chart)}),M.text},R.prototype.update=function(u){this.destroy(),Ct(!0,this.chart.options.tooltip.userOptions,u),this.init(this.chart,Ct(!0,this.options,u))},R.prototype.updatePosition=function(u){var m=this.chart,y=this.options,v=m.pointer,M=this.getLabel();v=v.getChartPosition();var S=(y.positioner||this.getPosition).call(this,M.width,M.height,u),I=u.plotX+m.plotLeft;u=u.plotY+m.plotTop,this.outside&&(this.renderer.setSize(M.width+(y=y.borderWidth+2*this.distance),M.height+y,!1),(1!==v.scaleX||1!==v.scaleY)&&(H(this.container,{transform:"scale("+v.scaleX+", "+v.scaleY+")"}),I*=v.scaleX,u*=v.scaleY),I+=v.left-S.x,u+=v.top-S.y),this.move(Math.round(S.x),Math.round(S.y||0),I,u)},R}()}),ft(dt,"Core/Series/Point.js",[dt["Core/Renderer/HTML/AST.js"],dt["Core/Animation/AnimationUtilities.js"],dt["Core/DefaultOptions.js"],dt["Core/FormatUtilities.js"],dt["Core/Utilities.js"]],function(E,K,Y,ct,et){var X=K.animObject,U=Y.defaultOptions,at=ct.format,V=et.addEvent,$=et.defined,H=et.erase,G=et.extend,J=et.fireEvent,z=et.getNestedProperty,nt=et.isArray,Q=et.isFunction,lt=et.isNumber,_t=et.isObject,Ct=et.merge,kt=et.objectEach,Et=et.pick,St=et.syncTimeout,R=et.removeEvent,u=et.uniqueKey;return function(){function m(){this.colorIndex=this.category=void 0,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.series=void 0,this.visible=!0,this.x=void 0}return m.prototype.animateBeforeDestroy=function(){var y=this,v={x:y.startXPos,opacity:0},M=y.getGraphicalProps();M.singular.forEach(function(S){y[S]=y[S].animate("dataLabel"===S?{x:y[S].startXPos,y:y[S].startYPos,opacity:0}:v)}),M.plural.forEach(function(S){y[S].forEach(function(I){I.element&&I.animate(G({x:y.startXPos},I.startYPos?{x:I.startXPos,y:I.startYPos}:{}))})})},m.prototype.applyOptions=function(y,v){var M=this.series,S=M.options.pointValKey||M.pointValKey;return y=m.prototype.optionsToObject.call(this,y),G(this,y),this.options=this.options?G(this.options,y):y,y.group&&delete this.group,y.dataLabels&&delete this.dataLabels,S&&(this.y=m.prototype.getNestedProperty.call(this,S)),this.formatPrefix=(this.isNull=Et(this.isValid&&!this.isValid(),null===this.x||!lt(this.y)))?"null":"point",this.selected&&(this.state="select"),"name"in this&&void 0===v&&M.xAxis&&M.xAxis.hasNames&&(this.x=M.xAxis.nameToX(this)),void 0===this.x&&M?this.x=void 0===v?M.autoIncrement():v:lt(y.x)&&M.options.relativeXValue&&(this.x=M.autoIncrement(y.x)),this},m.prototype.destroy=function(){function y(){for(p in(v.graphic||v.dataLabel||v.dataLabels)&&(R(v),v.destroyElements()),v)v[p]=null}var v=this,M=v.series,S=M.chart;M=M.options.dataSorting;var p,I=S.hoverPoints,C=X(v.series.chart.renderer.globalAnimation);v.legendItem&&S.legend.destroyItem(v),I&&(v.setState(),H(I,v),I.length||(S.hoverPoints=null)),v===S.hoverPoint&&v.onMouseOut(),M&&M.enabled?(this.animateBeforeDestroy(),St(y,C.duration)):y(),S.pointCount--},m.prototype.destroyElements=function(y){var v=this;(y=v.getGraphicalProps(y)).singular.forEach(function(M){v[M]=v[M].destroy()}),y.plural.forEach(function(M){v[M].forEach(function(S){S.element&&S.destroy()}),delete v[M]})},m.prototype.firePointEvent=function(y,v,M){var S=this,I=this.series.options;(I.point.events[y]||S.options&&S.options.events&&S.options.events[y])&&S.importEvents(),"click"===y&&I.allowPointSelect&&(M=function(C){S.select&&S.select(null,C.ctrlKey||C.metaKey||C.shiftKey)}),J(S,y,v,M)},m.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},m.prototype.getGraphicalProps=function(y){var I,v=this,M=[],S={singular:[],plural:[]};for((y=y||{graphic:1,dataLabel:1}).graphic&&M.push("graphic","upperGraphic","shadowGroup"),y.dataLabel&&M.push("dataLabel","dataLabelUpper","connector"),I=M.length;I--;){var C=M[I];v[C]&&S.singular.push(C)}return["dataLabel","connector"].forEach(function(p){var T=p+"s";y[p]&&v[T]&&S.plural.push(T)}),S},m.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},m.prototype.getNestedProperty=function(y){if(y)return 0===y.indexOf("custom.")?z(y,this.options):this[y]},m.prototype.getZone=function(){var y=this.series,v=y.zones;y=y.zoneAxis||"y";var M,S=0;for(M=v[S];this[y]>=M.value;)M=v[++S];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=M&&M.color&&!this.options.color?M.color:this.nonZonedColor,M},m.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType},m.prototype.init=function(y,v,M){return this.series=y,this.applyOptions(v,M),this.id=$(this.id)?this.id:u(),this.resolveColor(),y.chart.pointCount++,J(this,"afterInit"),this},m.prototype.optionsToObject=function(y){var v=this.series,M=v.options.keys,S=M||v.pointArrayMap||["y"],I=S.length,C={},p=0,T=0;if(lt(y)||null===y)C[S[0]]=y;else if(nt(y))for(!M&&y.length>I&&("string"==(v=typeof y[0])?C.name=y[0]:"number"===v&&(C.x=y[0]),p++);T<I;)M&&void 0===y[p]||(0<S[T].indexOf(".")?m.prototype.setNestedProperty(C,y[p],S[T]):C[S[T]]=y[p]),p++,T++;else"object"==typeof y&&(C=y,y.dataLabels&&(v._hasPointLabels=!0),y.marker&&(v._hasPointMarkers=!0));return C},m.prototype.resolveColor=function(){var y=this.series,v=y.chart.styledMode,M=y.chart.options.chart.colorCount;if(delete this.nonZonedColor,y.options.colorByPoint){if(!v){var S=(M=y.options.colors||y.chart.options.colors)[y.colorCounter];M=M.length}v=y.colorCounter,y.colorCounter++,y.colorCounter===M&&(y.colorCounter=0)}else v||(S=y.color),v=y.colorIndex;this.colorIndex=Et(this.options.colorIndex,v),this.color=Et(this.options.color,S)},m.prototype.setNestedProperty=function(y,v,M){return M.split(".").reduce(function(S,I,C,p){return S[I]=p.length-1===C?v:_t(S[I],!0)?S[I]:{},S[I]},y),y},m.prototype.tooltipFormatter=function(y){var v=this.series,M=v.tooltipOptions,S=Et(M.valueDecimals,""),I=M.valuePrefix||"",C=M.valueSuffix||"";return v.chart.styledMode&&(y=v.chart.tooltip.styledModeFormat(y)),(v.pointArrayMap||["y"]).forEach(function(p){p="{point."+p,(I||C)&&(y=y.replace(RegExp(p+"}","g"),I+p+"}"+C)),y=y.replace(RegExp(p+"}","g"),p+":,."+S+"f}")}),at(y,{point:this,series:this.series},v.chart)},m.prototype.update=function(y,v,M,S){function I(){C.applyOptions(y);var yt=T&&C.hasDummyGraphic;yt=null===C.y?!yt:yt,T&&yt&&(C.graphic=T.destroy(),delete C.hasDummyGraphic),_t(y,!0)&&(T&&T.element&&y&&y.marker&&void 0!==y.marker.symbol&&(C.graphic=T.destroy()),y&&y.dataLabels&&C.dataLabel&&(C.dataLabel=C.dataLabel.destroy()),C.connector&&(C.connector=C.connector.destroy())),p.updateParallelArrays(C,W=C.index),Z.data[W]=_t(Z.data[W],!0)||_t(y,!0)?C.options:Et(y,Z.data[W]),p.isDirty=p.isDirtyData=!0,!p.fixedBox&&p.hasCartesianSeries&&(it.isDirtyBox=!0),"point"===Z.legendType&&(it.isDirtyLegend=!0),v&&it.redraw(M)}var W,C=this,p=C.series,T=C.graphic,it=p.chart,Z=p.options;v=Et(v,!0),!1===S?I():C.firePointEvent("update",{options:y},I)},m.prototype.remove=function(y,v){this.series.removePoint(this.series.data.indexOf(this),y,v)},m.prototype.select=function(y,v){var M=this,S=M.series,I=S.chart;this.selectedStaging=y=Et(y,!M.selected),M.firePointEvent(y?"select":"unselect",{accumulate:v},function(){M.selected=M.options.selected=y,S.options.data[S.data.indexOf(M)]=M.options,M.setState(y&&"select"),v||I.getSelectedPoints().forEach(function(C){var p=C.series;C.selected&&C!==M&&(C.selected=C.options.selected=!1,p.options.data[p.data.indexOf(C)]=C.options,C.setState(I.hoverPoints&&p.options.inactiveOtherPoints?"inactive":""),C.firePointEvent("unselect"))})}),delete this.selectedStaging},m.prototype.onMouseOver=function(y){var v=this.series.chart,M=v.pointer;y=y?M.normalize(y):M.getChartCoordinatesFromPoint(this,v.inverted),M.runPointActions(y,this)},m.prototype.onMouseOut=function(){var y=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(y.hoverPoints||[]).forEach(function(v){v.setState()}),y.hoverPoints=y.hoverPoint=null},m.prototype.importEvents=function(){if(!this.hasImportedEvents){var y=this,v=Ct(y.series.options.point,y.options).events;y.events=v,kt(v,function(M,S){Q(M)&&V(y,S,M)}),this.hasImportedEvents=!0}},m.prototype.setState=function(y,v){var Vt,M=this.series,S=this.state,I=M.options.states[y||"normal"]||{},C=U.plotOptions[M.type].marker&&M.options.marker,T=C&&C.states&&C.states[y||"normal"]||{},Z=this.marker||{},W=M.chart,yt=C&&M.markerAttribs,wt=M.halo,Ut=M.stateMarkerGraphic;if(!((y=y||"")===this.state&&!v||this.selected&&"select"!==y||!1===I.enabled||y&&(!1===T.enabled||C&&!1===C.enabled&&!1===T.enabled)||y&&Z.states&&Z.states[y]&&!1===Z.states[y].enabled)){if(this.state=y,yt&&(Vt=M.markerAttribs(this,y)),this.graphic&&!this.hasDummyGraphic){if(S&&this.graphic.removeClass("highcharts-point-"+S),y&&this.graphic.addClass("highcharts-point-"+y),!W.styledMode){var At=M.pointAttribs(this,y),bt=Et(W.options.chart.animation,I.animation);M.options.inactiveOtherPoints&&lt(At.opacity)&&((this.dataLabels||[]).forEach(function(qt){qt&&qt.animate({opacity:At.opacity},bt)}),this.connector&&this.connector.animate({opacity:At.opacity},bt)),this.graphic.animate(At,bt)}Vt&&this.graphic.animate(Vt,Et(W.options.chart.animation,T.animation,C.animation)),Ut&&Ut.hide()}else y&&T&&(S=Z.symbol||M.symbol,Ut&&Ut.currentSymbol!==S&&(Ut=Ut.destroy()),Vt&&(Ut?Ut[v?"animate":"attr"]({x:Vt.x,y:Vt.y}):S&&(M.stateMarkerGraphic=Ut=W.renderer.symbol(S,Vt.x,Vt.y,Vt.width,Vt.height).add(M.markerGroup),Ut.currentSymbol=S)),!W.styledMode&&Ut&&"inactive"!==this.state&&Ut.attr(M.pointAttribs(this,y))),Ut&&(Ut[y&&this.isInside?"show":"hide"](),Ut.element.point=this,Ut.addClass(this.getClassName(),!0));Vt=(Ut=this.graphic||Ut)&&Ut.visibility||"inherit",(I=I.halo)&&I.size&&Ut&&"hidden"!==Vt&&!this.isCluster?(wt||(M.halo=wt=W.renderer.path().add(Ut.parentGroup)),wt.show()[v?"animate":"attr"]({d:this.haloPath(I.size)}),wt.attr({class:"highcharts-halo highcharts-color-"+Et(this.colorIndex,M.colorIndex)+(this.className?" "+this.className:""),visibility:Vt,zIndex:-1}),wt.point=this,W.styledMode||wt.attr(G({fill:this.color||M.color,"fill-opacity":I.opacity},E.filterUserAttributes(I.attributes||{})))):wt&&wt.point&&wt.point.haloPath&&wt.animate({d:wt.point.haloPath(0)},null,wt.hide),J(this,"afterSetState",{state:y})}},m.prototype.haloPath=function(y){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-y,this.plotY-y,2*y,2*y)},m}()}),ft(dt,"Core/Pointer.js",[dt["Core/Color/Color.js"],dt["Core/Globals.js"],dt["Core/Tooltip.js"],dt["Core/Utilities.js"]],function(E,K,Y,ct){var et=E.parse,X=K.charts,U=K.noop,at=ct.addEvent,V=ct.attr,$=ct.css,H=ct.defined,G=ct.extend,J=ct.find,z=ct.fireEvent,nt=ct.isNumber,Q=ct.isObject,lt=ct.objectEach,_t=ct.offset,Ct=ct.pick,kt=ct.splat;return function(){function Et(St,R){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=St,this.hasDragged=!1,this.options=R,this.init(St,R)}return Et.prototype.applyInactiveState=function(St){var u,R=[];(St||[]).forEach(function(m){R.push(u=m.series),u.linkedParent&&R.push(u.linkedParent),u.linkedSeries&&(R=R.concat(u.linkedSeries)),u.navigatorSeries&&R.push(u.navigatorSeries)}),this.chart.series.forEach(function(m){-1===R.indexOf(m)?m.setState("inactive",!0):m.options.inactiveOtherPoints&&m.setAllPointsToState("inactive")})},Et.prototype.destroy=function(){var St=this;this.eventsToUnbind.forEach(function(R){return R()}),this.eventsToUnbind=[],K.chartCount||(Et.unbindDocumentMouseUp&&(Et.unbindDocumentMouseUp=Et.unbindDocumentMouseUp()),Et.unbindDocumentTouchEnd&&(Et.unbindDocumentTouchEnd=Et.unbindDocumentTouchEnd())),clearInterval(St.tooltipTimeout),lt(St,function(R,u){St[u]=void 0})},Et.prototype.drag=function(St){var R=this.chart,u=R.options.chart,m=this.zoomHor,y=this.zoomVert,v=R.plotLeft,M=R.plotTop,S=R.plotWidth,I=R.plotHeight,C=this.mouseDownX||0,p=this.mouseDownY||0,T=Q(u.panning)?u.panning&&u.panning.enabled:u.panning,it=u.panKey&&St[u.panKey+"Key"],Z=St.chartX,W=St.chartY,yt=this.selectionMarker;if((!yt||!yt.touch)&&(Z<v?Z=v:Z>v+S&&(Z=v+S),W<M?W=M:W>M+I&&(W=M+I),this.hasDragged=Math.sqrt(Math.pow(C-Z,2)+Math.pow(p-W,2)),10<this.hasDragged)){var wt=R.isInsidePlot(C-v,p-M,{visiblePlotOnly:!0});!R.hasCartesianSeries&&!R.mapView||!this.zoomX&&!this.zoomY||!wt||it||yt||(this.selectionMarker=yt=R.renderer.rect(v,M,m?1:S,y?1:I,0).attr({class:"highcharts-selection-marker",zIndex:7}).add(),R.styledMode||yt.attr({fill:u.selectionMarkerFill||et("#335cad").setOpacity(.25).get()})),yt&&m&&(m=Z-C,yt.attr({width:Math.abs(m),x:(0<m?0:m)+C})),yt&&y&&(m=W-p,yt.attr({height:Math.abs(m),y:(0<m?0:m)+p})),wt&&!yt&&T&&R.pan(St,u.panning)}},Et.prototype.dragStart=function(St){var R=this.chart;R.mouseIsDown=St.type,R.cancelClick=!1,R.mouseDownX=this.mouseDownX=St.chartX,R.mouseDownY=this.mouseDownY=St.chartY},Et.prototype.drop=function(St){var R=this,u=this.chart,m=this.hasPinched;if(this.selectionMarker){var y=this.selectionMarker,v=y.attr?y.attr("x"):y.x,M=y.attr?y.attr("y"):y.y,S=y.attr?y.attr("width"):y.width,I=y.attr?y.attr("height"):y.height,C={originalEvent:St,xAxis:[],yAxis:[],x:v,y:M,width:S,height:I},p=!!u.mapView;(this.hasDragged||m)&&(u.axes.forEach(function(T){if(T.zoomEnabled&&H(T.min)&&(m||R[{xAxis:"zoomX",yAxis:"zoomY"}[T.coll]])&&nt(v)&&nt(M)){var it=T.horiz,Z="touchend"===St.type?T.minPixelPadding:0,W=T.toValue((it?v:M)+Z);it=T.toValue((it?v+S:M+I)-Z),C[T.coll].push({axis:T,min:Math.min(W,it),max:Math.max(W,it)}),p=!0}}),p&&z(u,"selection",C,function(T){u.zoom(G(T,m?{animation:!1}:null))})),nt(u.index)&&(this.selectionMarker=this.selectionMarker.destroy()),m&&this.scaleGroups()}u&&nt(u.index)&&($(u.container,{cursor:u._cursor}),u.cancelClick=10<this.hasDragged,u.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},Et.prototype.findNearestKDPoint=function(St,R,u){var v,m=this.chart,y=m.hoverPoint;return m=m.tooltip,y&&m&&m.isStickyOnContact()?y:(St.forEach(function(M){var S=!(M.noSharedTooltip&&R)&&0>M.options.findNearestPointBy.indexOf("y");if(M=M.searchPoint(u,S),(S=Q(M,!0)&&M.series)&&!(S=!Q(v,!0))){var I=v.dist-M.dist,C=(M.series.group&&M.series.group.zIndex)-(v.series.group&&v.series.group.zIndex);S=0<(0!=(S=v.distX-M.distX)&&R?S:0!==I?I:0!==C?C:v.series.index>M.series.index?-1:1)}S&&(v=M)}),v)},Et.prototype.getChartCoordinatesFromPoint=function(St,R){var u=St.series,m=u.xAxis;u=u.yAxis;var y=St.shapeArgs;if(m&&u){var v=Ct(St.clientX,St.plotX),M=St.plotY||0;return St.isNode&&y&&nt(y.x)&&nt(y.y)&&(v=y.x,M=y.y),R?{chartX:u.len+u.pos-M,chartY:m.len+m.pos-v}:{chartX:v+m.pos,chartY:M+u.pos}}if(y&&y.x&&y.y)return{chartX:y.x,chartY:y.y}},Et.prototype.getChartPosition=function(){if(this.chartPosition)return this.chartPosition;var St=this.chart.container,R=_t(St);this.chartPosition={left:R.left,top:R.top,scaleX:1,scaleY:1};var u=St.offsetWidth;return St=St.offsetHeight,2<u&&2<St&&(this.chartPosition.scaleX=R.width/u,this.chartPosition.scaleY=R.height/St),this.chartPosition},Et.prototype.getCoordinates=function(St){var R={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(u){R[u.isXAxis?"xAxis":"yAxis"].push({axis:u,value:u.toValue(St[u.horiz?"chartX":"chartY"])})}),R},Et.prototype.getHoverData=function(St,R,u,m,y,v){var M=[];m=!(!m||!St);var S={chartX:v?v.chartX:void 0,chartY:v?v.chartY:void 0,shared:y};z(this,"beforeGetHoverData",S);var I=R&&!R.stickyTracking?[R]:u.filter(function(p){return S.filter?S.filter(p):p.visible&&!(!y&&p.directTouch)&&Ct(p.options.enableMouseTracking,!0)&&p.stickyTracking}),C=m||!v?St:this.findNearestKDPoint(I,y,v);return R=C&&C.series,C&&(y&&!R.noSharedTooltip?(I=u.filter(function(p){return S.filter?S.filter(p):p.visible&&!(!y&&p.directTouch)&&Ct(p.options.enableMouseTracking,!0)&&!p.noSharedTooltip})).forEach(function(p){var T=J(p.points,function(it){return it.x===C.x&&!it.isNull});Q(T)&&(p.chart.isBoosting&&(T=p.getPoint(T)),M.push(T))}):M.push(C)),z(this,"afterGetHoverData",S={hoverPoint:C}),{hoverPoint:S.hoverPoint,hoverSeries:R,hoverPoints:M}},Et.prototype.getPointFromEvent=function(St){St=St.target;for(var R;St&&!R;)R=St.point,St=St.parentNode;return R},Et.prototype.onTrackerMouseOut=function(St){St=St.relatedTarget||St.toElement;var R=this.chart.hoverSeries;this.isDirectTouch=!1,!R||!St||R.stickyTracking||this.inClass(St,"highcharts-tooltip")||this.inClass(St,"highcharts-series-"+R.index)&&this.inClass(St,"highcharts-tracker")||R.onMouseOut()},Et.prototype.inClass=function(St,R){for(var u;St;){if(u=V(St,"class")){if(-1!==u.indexOf(R))return!0;if(-1!==u.indexOf("highcharts-container"))return!1}St=St.parentNode}},Et.prototype.init=function(St,R){this.options=R,this.chart=St,this.runChartClick=!(!R.chart.events||!R.chart.events.click),this.pinchDown=[],this.lastValidTouch={},Y&&(St.tooltip=new Y(St,R.tooltip),this.followTouchMove=Ct(R.tooltip.followTouchMove,!0)),this.setDOMEvents()},Et.prototype.normalize=function(St,R){var u=St.touches,m=u?u.length?u.item(0):Ct(u.changedTouches,St.changedTouches)[0]:St;return R||(R=this.getChartPosition()),u=m.pageX-R.left,m=m.pageY-R.top,u/=R.scaleX,m/=R.scaleY,G(St,{chartX:Math.round(u),chartY:Math.round(m)})},Et.prototype.onContainerClick=function(St){var R=this.chart,u=R.hoverPoint;St=this.normalize(St);var m=R.plotLeft,y=R.plotTop;R.cancelClick||(u&&this.inClass(St.target,"highcharts-tracker")?(z(u.series,"click",G(St,{point:u})),R.hoverPoint&&u.firePointEvent("click",St)):(G(St,this.getCoordinates(St)),R.isInsidePlot(St.chartX-m,St.chartY-y,{visiblePlotOnly:!0})&&z(R,"click",St)))},Et.prototype.onContainerMouseDown=function(St){var R=1==(1&(St.buttons||St.button));St=this.normalize(St),K.isFirefox&&0!==St.button&&this.onContainerMouseMove(St),(void 0===St.button||R)&&(this.zoomOption(St),R&&St.preventDefault&&St.preventDefault(),this.dragStart(St))},Et.prototype.onContainerMouseLeave=function(St){var R=X[Ct(Et.hoverChartIndex,-1)],u=this.chart.tooltip;u&&u.shouldStickOnContact()&&this.inClass(St.relatedTarget,"highcharts-tooltip-container")||(St=this.normalize(St),R&&(St.relatedTarget||St.toElement)&&(R.pointer.reset(),R.pointer.chartPosition=void 0),u&&!u.isHidden&&this.reset())},Et.prototype.onContainerMouseEnter=function(St){delete this.chartPosition},Et.prototype.onContainerMouseMove=function(St){var R=this.chart;St=this.normalize(St),this.setHoverChartIndex(),St.preventDefault||(St.returnValue=!1),("mousedown"===R.mouseIsDown||this.touchSelect(St))&&this.drag(St),R.openMenu||!this.inClass(St.target,"highcharts-tracker")&&!R.isInsidePlot(St.chartX-R.plotLeft,St.chartY-R.plotTop,{visiblePlotOnly:!0})||(this.inClass(St.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(St))},Et.prototype.onDocumentTouchEnd=function(St){var R=X[Ct(Et.hoverChartIndex,-1)];R&&R.pointer.drop(St)},Et.prototype.onContainerTouchMove=function(St){this.touchSelect(St)?this.onContainerMouseMove(St):this.touch(St)},Et.prototype.onContainerTouchStart=function(St){this.touchSelect(St)?this.onContainerMouseDown(St):(this.zoomOption(St),this.touch(St,!0))},Et.prototype.onDocumentMouseMove=function(St){var R=this.chart,u=this.chartPosition;St=this.normalize(St,u);var m=R.tooltip;!u||m&&m.isStickyOnContact()||R.isInsidePlot(St.chartX-R.plotLeft,St.chartY-R.plotTop,{visiblePlotOnly:!0})||this.inClass(St.target,"highcharts-tracker")||this.reset()},Et.prototype.onDocumentMouseUp=function(St){var R=X[Ct(Et.hoverChartIndex,-1)];R&&R.pointer.drop(St)},Et.prototype.pinch=function(St){var R=this,u=R.chart,m=R.pinchDown,y=St.touches||[],v=y.length,M=R.lastValidTouch,S=R.hasZoom,I={},C=1===v&&(R.inClass(St.target,"highcharts-tracker")&&u.runTrackerClick||R.runChartClick),p={},T=R.selectionMarker;1<v?R.initiated=!0:1===v&&this.followTouchMove&&(R.initiated=!1),S&&R.initiated&&!C&&!1!==St.cancelable&&St.preventDefault(),[].map.call(y,function(it){return R.normalize(it)}),"touchstart"===St.type?([].forEach.call(y,function(it,Z){m[Z]={chartX:it.chartX,chartY:it.chartY}}),M.x=[m[0].chartX,m[1]&&m[1].chartX],M.y=[m[0].chartY,m[1]&&m[1].chartY],u.axes.forEach(function(it){if(it.zoomEnabled){var Z=u.bounds[it.horiz?"h":"v"],W=it.minPixelPadding,yt=it.toPixels(Math.min(Ct(it.options.min,it.dataMin),it.dataMin)),wt=it.toPixels(Math.max(Ct(it.options.max,it.dataMax),it.dataMax)),Vt=Math.max(yt,wt);Z.min=Math.min(it.pos,Math.min(yt,wt)-W),Z.max=Math.max(it.pos+it.len,Vt+W)}}),R.res=!0):R.followTouchMove&&1===v?this.runPointActions(R.normalize(St)):m.length&&(z(u,"touchpan",{originalEvent:St},function(){T||(R.selectionMarker=T=G({destroy:U,touch:!0},u.plotBox)),R.pinchTranslate(m,y,I,T,p,M),R.hasPinched=S,R.scaleGroups(I,p)}),R.res&&(R.res=!1,this.reset(!1,0)))},Et.prototype.pinchTranslate=function(St,R,u,m,y,v){this.zoomHor&&this.pinchTranslateDirection(!0,St,R,u,m,y,v),this.zoomVert&&this.pinchTranslateDirection(!1,St,R,u,m,y,v)},Et.prototype.pinchTranslateDirection=function(St,R,u,m,y,v,M,S){var I=this.chart,C=St?"x":"y",p=St?"X":"Y",T="chart"+p,it=St?"width":"height",Z=I["plot"+(St?"Left":"Top")],W=I.inverted,yt=I.bounds[St?"h":"v"],wt=1===R.length,Vt=R[0][T],Ut=!wt&&R[1][T];R=function(){"number"==typeof Dt&&20<Math.abs(Vt-Ut)&&(qt=S||Math.abs(Rt-Dt)/Math.abs(Vt-Ut)),bt=(Z-Rt)/qt+Vt,At=I["plot"+(St?"Width":"Height")]/qt};var At,bt,qt=S||1,Rt=u[0][T],Dt=!wt&&u[1][T];if(R(),(u=bt)<yt.min){u=yt.min;var Bt=!0}else u+At>yt.max&&(u=yt.max-At,Bt=!0);Bt?(Rt-=.8*(Rt-M[C][0]),"number"==typeof Dt&&(Dt-=.8*(Dt-M[C][1])),R()):M[C]=[Rt,Dt],W||(v[C]=bt-Z,v[it]=At),v=W?1/qt:qt,y[it]=At,y[C]=u,m[W?St?"scaleY":"scaleX":"scale"+p]=qt,m["translate"+p]=v*Z+(Rt-v*Vt)},Et.prototype.reset=function(St,R){var u=this.chart,m=u.hoverSeries,y=u.hoverPoint,v=u.hoverPoints,M=u.tooltip,S=M&&M.shared?v:y;St&&S&&kt(S).forEach(function(I){I.series.isCartesian&&void 0===I.plotX&&(St=!1)}),St?M&&S&&kt(S).length&&(M.refresh(S),M.shared&&v?v.forEach(function(I){I.setState(I.state,!0),I.series.isCartesian&&(I.series.xAxis.crosshair&&I.series.xAxis.drawCrosshair(null,I),I.series.yAxis.crosshair&&I.series.yAxis.drawCrosshair(null,I))}):y&&(y.setState(y.state,!0),u.axes.forEach(function(I){I.crosshair&&y.series[I.coll]===I&&I.drawCrosshair(null,y)}))):(y&&y.onMouseOut(),v&&v.forEach(function(I){I.setState()}),m&&m.onMouseOut(),M&&M.hide(R),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),u.axes.forEach(function(I){I.hideCrosshair()}),this.hoverX=u.hoverPoints=u.hoverPoint=null)},Et.prototype.runPointActions=function(St,R){var u=this.chart,m=u.tooltip&&u.tooltip.options.enabled?u.tooltip:void 0,y=!!m&&m.shared,v=R||u.hoverPoint,M=v&&v.series||u.hoverSeries;v=(R=this.getHoverData(v,M,u.series,(!St||"touchmove"!==St.type)&&(!!R||M&&M.directTouch&&this.isDirectTouch),y,St)).hoverPoint;var S=R.hoverPoints;if(R=(M=R.hoverSeries)&&M.tooltipOptions.followPointer&&!M.tooltipOptions.split,y=y&&M&&!M.noSharedTooltip,v&&(v!==u.hoverPoint||m&&m.isHidden)){if((u.hoverPoints||[]).forEach(function(I){-1===S.indexOf(I)&&I.setState()}),u.hoverSeries!==M&&M.onMouseOver(),this.applyInactiveState(S),(S||[]).forEach(function(I){I.setState("hover")}),u.hoverPoint&&u.hoverPoint.firePointEvent("mouseOut"),!v.series)return;u.hoverPoints=S,u.hoverPoint=v,v.firePointEvent("mouseOver"),m&&m.refresh(y?S:v,St)}else R&&m&&!m.isHidden&&(v=m.getAnchor([{}],St),u.isInsidePlot(v[0],v[1],{visiblePlotOnly:!0})&&m.updatePosition({plotX:v[0],plotY:v[1]}));this.unDocMouseMove||(this.unDocMouseMove=at(u.container.ownerDocument,"mousemove",function(I){var C=X[Et.hoverChartIndex];C&&C.pointer.onDocumentMouseMove(I)}),this.eventsToUnbind.push(this.unDocMouseMove)),u.axes.forEach(function(I){var p,C=Ct((I.crosshair||{}).snap,!0);C&&((p=u.hoverPoint)&&p.series[I.coll]===I||(p=J(S,function(T){return T.series[I.coll]===I}))),p||!C?I.drawCrosshair(St,p):I.hideCrosshair()})},Et.prototype.scaleGroups=function(St,R){var u=this.chart;u.series.forEach(function(m){var y=St||m.getPlotBox();m.group&&(m.xAxis&&m.xAxis.zoomEnabled||u.mapView)&&(m.group.attr(y),m.markerGroup&&(m.markerGroup.attr(y),m.markerGroup.clip(R?u.clipRect:null)),m.dataLabelsGroup&&m.dataLabelsGroup.attr(y))}),u.clipRect.attr(R||u.clipBox)},Et.prototype.setDOMEvents=function(){var St=this,R=this.chart.container,u=R.ownerDocument;R.onmousedown=this.onContainerMouseDown.bind(this),R.onmousemove=this.onContainerMouseMove.bind(this),R.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(at(R,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(at(R,"mouseleave",this.onContainerMouseLeave.bind(this))),Et.unbindDocumentMouseUp||(Et.unbindDocumentMouseUp=at(u,"mouseup",this.onDocumentMouseUp.bind(this)));for(var m=this.chart.renderTo.parentElement;m&&"BODY"!==m.tagName;)this.eventsToUnbind.push(at(m,"scroll",function(){delete St.chartPosition})),m=m.parentElement;K.hasTouch&&(this.eventsToUnbind.push(at(R,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(at(R,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),Et.unbindDocumentTouchEnd||(Et.unbindDocumentTouchEnd=at(u,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))},Et.prototype.setHoverChartIndex=function(){var St=this.chart,R=K.charts[Ct(Et.hoverChartIndex,-1)];R&&R!==St&&R.pointer.onContainerMouseLeave({relatedTarget:!0}),R&&R.mouseIsDown||(Et.hoverChartIndex=St.index)},Et.prototype.touch=function(St,R){var u=this.chart;if(this.setHoverChartIndex(),1===St.touches.length)if(St=this.normalize(St),u.isInsidePlot(St.chartX-u.plotLeft,St.chartY-u.plotTop,{visiblePlotOnly:!0})&&!u.openMenu){if(R&&this.runPointActions(St),"touchmove"===St.type)var y=!!(R=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(R[0].chartX-St.chartX,2)+Math.pow(R[0].chartY-St.chartY,2));Ct(y,!0)&&this.pinch(St)}else R&&this.reset();else 2===St.touches.length&&this.pinch(St)},Et.prototype.touchSelect=function(St){return!(!this.chart.options.chart.zoomBySingleTouch||!St.touches||1!==St.touches.length)},Et.prototype.zoomOption=function(St){var R=this.chart,u=R.options.chart;R=R.inverted;var m=u.zoomType||"";/touch/.test(St.type)&&(m=Ct(u.pinchType,m)),this.zoomX=St=/x/.test(m),this.zoomY=u=/y/.test(m),this.zoomHor=St&&!R||u&&R,this.zoomVert=u&&!R||St&&R,this.hasZoom=St||u},Et}()}),ft(dt,"Core/MSPointer.js",[dt["Core/Globals.js"],dt["Core/Pointer.js"],dt["Core/Utilities.js"]],function(E,K,Y){function ct(){var lt=[];return lt.item=function(_t){return this[_t]},J(nt,function(_t){lt.push({pageX:_t.pageX,pageY:_t.pageY,target:_t.target})}),lt}function et(lt,_t,Ct,kt){var Et=U[K.hoverChartIndex||NaN];"touch"!==lt.pointerType&&lt.pointerType!==lt.MSPOINTER_TYPE_TOUCH||!Et||(Et=Et.pointer,kt(lt),Et[_t]({type:Ct,target:lt.currentTarget,preventDefault:V,touches:ct()}))}var lt,X=this&&this.__extends||(lt=function(_t,Ct){return(lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(kt,Et){kt.__proto__=Et}||function(kt,Et){for(var St in Et)Et.hasOwnProperty(St)&&(kt[St]=Et[St])})(_t,Ct)},function(_t,Ct){function kt(){this.constructor=_t}lt(_t,Ct),_t.prototype=null===Ct?Object.create(Ct):(kt.prototype=Ct.prototype,new kt)}),U=E.charts,at=E.doc,V=E.noop,$=E.win,H=Y.addEvent,G=Y.css,J=Y.objectEach,z=Y.removeEvent,nt={},Q=!!$.PointerEvent;return function(lt){function _t(){return null!==lt&&lt.apply(this,arguments)||this}return X(_t,lt),_t.isRequired=function(){return!(E.hasTouch||!$.PointerEvent&&!$.MSPointerEvent)},_t.prototype.batchMSEvents=function(Ct){Ct(this.chart.container,Q?"pointerdown":"MSPointerDown",this.onContainerPointerDown),Ct(this.chart.container,Q?"pointermove":"MSPointerMove",this.onContainerPointerMove),Ct(at,Q?"pointerup":"MSPointerUp",this.onDocumentPointerUp)},_t.prototype.destroy=function(){this.batchMSEvents(z),lt.prototype.destroy.call(this)},_t.prototype.init=function(Ct,kt){lt.prototype.init.call(this,Ct,kt),this.hasZoom&&G(Ct.container,{"-ms-touch-action":"none","touch-action":"none"})},_t.prototype.onContainerPointerDown=function(Ct){et(Ct,"onContainerTouchStart","touchstart",function(kt){nt[kt.pointerId]={pageX:kt.pageX,pageY:kt.pageY,target:kt.currentTarget}})},_t.prototype.onContainerPointerMove=function(Ct){et(Ct,"onContainerTouchMove","touchmove",function(kt){nt[kt.pointerId]={pageX:kt.pageX,pageY:kt.pageY},nt[kt.pointerId].target||(nt[kt.pointerId].target=kt.currentTarget)})},_t.prototype.onDocumentPointerUp=function(Ct){et(Ct,"onDocumentTouchEnd","touchend",function(kt){delete nt[kt.pointerId]})},_t.prototype.setDOMEvents=function(){lt.prototype.setDOMEvents.call(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(H)},_t}(K)}),ft(dt,"Core/Legend/Legend.js",[dt["Core/Animation/AnimationUtilities.js"],dt["Core/FormatUtilities.js"],dt["Core/Globals.js"],dt["Core/Series/Point.js"],dt["Core/Renderer/RendererUtilities.js"],dt["Core/Utilities.js"]],function(E,K,Y,ct,et,X){var U=E.animObject,at=E.setAnimation,V=K.format;E=Y.isFirefox;var $=Y.marginNames;Y=Y.win;var H=et.distribute,G=X.addEvent,J=X.createElement,z=X.css,nt=X.defined,Q=X.discardElement,lt=X.find,_t=X.fireEvent,Ct=X.isNumber,kt=X.merge,Et=X.pick,St=X.relativeLength,R=X.stableSort,u=X.syncTimeout;return et=X.wrap,X=function(){function m(y,v){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options={},this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=y,this.init(y,v)}return m.prototype.init=function(y,v){this.chart=y,this.setOptions(v),v.enabled&&(this.render(),G(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=G(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},m.prototype.setOptions=function(y){var v=Et(y.padding,8);this.options=y,this.chart.styledMode||(this.itemStyle=y.itemStyle,this.itemHiddenStyle=kt(this.itemStyle,y.itemHiddenStyle)),this.itemMarginTop=y.itemMarginTop||0,this.itemMarginBottom=y.itemMarginBottom||0,this.padding=v,this.initialItemY=v-5,this.symbolWidth=Et(y.symbolWidth,16),this.pages=[],this.proximate="proximate"===y.layout&&!this.chart.inverted,this.baseline=void 0},m.prototype.update=function(y,v){var M=this.chart;this.setOptions(kt(!0,this.options,y)),this.destroy(),M.isDirtyLegend=M.isDirtyBox=!0,Et(v,!0)&&M.redraw(),_t(this,"afterUpdate")},m.prototype.colorizeItem=function(y,v){if(y.legendGroup[v?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var M=this.options,S=y.legendItem,I=y.legendLine,C=y.legendSymbol,p=this.itemHiddenStyle.color;M=v?M.itemStyle.color:p;var T=v&&y.color||p,it=y.options&&y.options.marker,Z={fill:T};S&&S.css({fill:M,color:M}),I&&I.attr({stroke:T}),C&&(it&&C.isMarker&&(Z=y.pointAttribs(),v||(Z.stroke=Z.fill=p)),C.attr(Z))}_t(this,"afterColorizeItem",{item:y,visible:v})},m.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},m.prototype.positionItem=function(y){var v=this,M=this.options,S=M.symbolPadding,I=!M.rtl,C=y._legendItemPos;M=C[0],C=C[1];var p=y.checkbox,T=y.legendGroup;T&&T.element&&(S={translateX:I?M:this.legendWidth-M-2*S-4,translateY:C},I=function(){_t(v,"afterPositionItem",{item:y})},nt(T.translateY)?T.animate(S,void 0,I):(T.attr(S),I())),p&&(p.x=M,p.y=C)},m.prototype.destroyItem=function(y){var v=y.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach(function(M){y[M]&&(y[M]=y[M].destroy())}),v&&Q(y.checkbox)},m.prototype.destroy=function(){function y(v){this[v]&&(this[v]=this[v].destroy())}this.getAllItems().forEach(function(v){["legendItem","legendGroup"].forEach(y,v)}),"clipRect up down pager nav box title group".split(" ").forEach(y,this),this.display=null},m.prototype.positionCheckboxes=function(){var y=this.group&&this.group.alignAttr,v=this.clipHeight||this.legendHeight,M=this.titleHeight;if(y){var S=y.translateY;this.allItems.forEach(function(I){var C=I.checkbox;if(C){var p=S+M+C.y+(this.scrollOffset||0)+3;z(C,{left:y.translateX+I.checkboxOffset+C.x-20+"px",top:p+"px",display:this.proximate||p>S-6&&p<S+v-6?"":"none"})}},this)}},m.prototype.renderTitle=function(){var y=this.options,v=this.padding,M=y.title,S=0;M.text&&(this.title||(this.title=this.chart.renderer.label(M.text,v-3,v-4,null,null,null,y.useHTML,null,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(M.style),this.title.add(this.group)),M.width||this.title.css({width:this.maxLegendWidth+"px"}),S=(y=this.title.getBBox()).height,this.offsetWidth=y.width,this.contentGroup.attr({translateY:S})),this.titleHeight=S},m.prototype.setText=function(y){var v=this.options;y.legendItem.attr({text:v.labelFormat?V(v.labelFormat,y,this.chart):v.labelFormatter.call(y)})},m.prototype.renderItem=function(y){var v=this.chart,M=v.renderer,S=this.options,I=this.symbolWidth,C=S.symbolPadding||0,p=this.itemStyle,T=this.itemHiddenStyle,it="horizontal"===S.layout?Et(S.itemDistance,20):0,Z=!S.rtl,W=!y.series,yt=!W&&y.series.drawLegendSymbol?y.series:y,wt=yt.options,Vt=this.createCheckboxForItem&&wt&&wt.showCheckbox,Ut=S.useHTML,At=y.options.className,bt=y.legendItem;wt=I+C+it+(Vt?20:0),bt||(y.legendGroup=M.g("legend-item").addClass("highcharts-"+yt.type+"-series highcharts-color-"+y.colorIndex+(At?" "+At:"")+(W?" highcharts-series-"+y.index:"")).attr({zIndex:1}).add(this.scrollGroup),y.legendItem=bt=M.text("",Z?I+C:-C,this.baseline||0,Ut),v.styledMode||bt.css(kt(y.visible?p:T)),bt.attr({align:Z?"left":"right",zIndex:2}).add(y.legendGroup),this.baseline||(this.fontMetrics=M.fontMetrics(v.styledMode?12:p.fontSize,bt),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,bt.attr("y",this.baseline),this.symbolHeight=S.symbolHeight||this.fontMetrics.f,S.squareSymbol&&(this.symbolWidth=Et(S.symbolWidth,Math.max(this.symbolHeight,16)),wt=this.symbolWidth+C+it+(Vt?20:0),Z&&bt.attr("x",this.symbolWidth+C))),yt.drawLegendSymbol(this,y),this.setItemEvents&&this.setItemEvents(y,bt,Ut)),Vt&&!y.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(y),this.colorizeItem(y,y.visible),!v.styledMode&&p.width||bt.css({width:(S.itemWidth||this.widthOption||v.spacingBox.width)-wt+"px"}),this.setText(y),v=bt.getBBox(),y.itemWidth=y.checkboxOffset=S.itemWidth||y.legendItemWidth||v.width+wt,this.maxItemWidth=Math.max(this.maxItemWidth,y.itemWidth),this.totalItemWidth+=y.itemWidth,this.itemHeight=y.itemHeight=Math.round(y.legendItemHeight||v.height||this.symbolHeight)},m.prototype.layoutItem=function(y){var v=this.options,M=this.padding,S="horizontal"===v.layout,I=y.itemHeight,C=this.itemMarginBottom,p=this.itemMarginTop,T=S?Et(v.itemDistance,20):0,it=this.maxLegendWidth;v=v.alignColumns&&this.totalItemWidth>it?this.maxItemWidth:y.itemWidth,S&&this.itemX-M+v>it&&(this.itemX=M,this.lastLineHeight&&(this.itemY+=p+this.lastLineHeight+C),this.lastLineHeight=0),this.lastItemY=p+this.itemY+C,this.lastLineHeight=Math.max(I,this.lastLineHeight),y._legendItemPos=[this.itemX,this.itemY],S?this.itemX+=v:(this.itemY+=p+I+C,this.lastLineHeight=I),this.offsetWidth=this.widthOption||Math.max((S?this.itemX-M-(y.checkbox?0:T):v)+M,this.offsetWidth)},m.prototype.getAllItems=function(){var y=[];return this.chart.series.forEach(function(v){var M=v&&v.options;v&&Et(M.showInLegend,!nt(M.linkedTo)&&void 0,!0)&&(y=y.concat(v.legendItems||("point"===M.legendType?v.data:v)))}),_t(this,"afterGetAllItems",{allItems:y}),y},m.prototype.getAlignment=function(){var y=this.options;return this.proximate?y.align.charAt(0)+"tv":y.floating?"":y.align.charAt(0)+y.verticalAlign.charAt(0)+y.layout.charAt(0)},m.prototype.adjustMargins=function(y,v){var M=this.chart,S=this.options,I=this.getAlignment();I&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(C,p){C.test(I)&&!nt(y[p])&&(M[$[p]]=Math.max(M[$[p]],M.legend[(p+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][p]*S[p%2?"x":"y"]+Et(S.margin,12)+v[p]+(M.titleOffset[p]||0)))})},m.prototype.proximatePositions=function(){var y=this.chart,v=[],M="left"===this.options.align;this.allItems.forEach(function(S){var I,C=M;if(S.yAxis){S.xAxis.options.reversed&&(C=!C),S.points&&(I=lt(C?S.points:S.points.slice(0).reverse(),function(T){return Ct(T.plotY)})),C=this.itemMarginTop+S.legendItem.getBBox().height+this.itemMarginBottom;var p=S.yAxis.top-y.plotTop;S.visible?(I=I?I.plotY:S.yAxis.height,I+=p-.3*C):I=p+S.yAxis.height,v.push({target:I,size:C,item:S})}},this),H(v,y.plotHeight).forEach(function(S){S.item._legendItemPos&&(S.item._legendItemPos[1]=y.plotTop-y.spacing[0]+S.pos)})},m.prototype.render=function(){var y=this.chart,v=y.renderer,M=this.options,S=this.padding,I=this.getAllItems(),C=this.group,p=this.box;this.itemX=S,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=St(M.width,y.spacingBox.width-S);var T=y.spacingBox.width-2*S-M.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(T/=2),this.maxLegendWidth=this.widthOption||T,C||(this.group=C=v.g("legend").addClass(M.className||"").attr({zIndex:7}).add(),this.contentGroup=v.g().attr({zIndex:1}).add(C),this.scrollGroup=v.g().add(this.contentGroup)),this.renderTitle(),R(I,function(Z,W){return(Z.options&&Z.options.legendIndex||0)-(W.options&&W.options.legendIndex||0)}),M.reversed&&I.reverse(),this.allItems=I,this.display=T=!!I.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,I.forEach(this.renderItem,this),I.forEach(this.layoutItem,this),I=(this.widthOption||this.offsetWidth)+S;var it=this.lastItemY+this.lastLineHeight+this.titleHeight;it=this.handleOverflow(it),it+=S,p||(this.box=p=v.rect().addClass("highcharts-legend-box").attr({r:M.borderRadius}).add(C),p.isNew=!0),y.styledMode||p.attr({stroke:M.borderColor,"stroke-width":M.borderWidth||0,fill:M.backgroundColor||"none"}).shadow(M.shadow),0<I&&0<it&&(p[p.isNew?"attr":"animate"](p.crisp.call({},{x:0,y:0,width:I,height:it},p.strokeWidth())),p.isNew=!1),p[T?"show":"hide"](),y.styledMode&&"none"===C.getStyle("display")&&(I=it=0),this.legendWidth=I,this.legendHeight=it,T&&this.align(),this.proximate||this.positionItems(),_t(this,"afterRender")},m.prototype.align=function(y){void 0===y&&(y=this.chart.spacingBox);var v=this.chart,M=this.options,S=y.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<v.titleOffset[0]?S+=v.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<v.titleOffset[2]&&(S-=v.titleOffset[2]),S!==y.y&&(y=kt(y,{y:S})),this.group.align(kt(M,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":M.verticalAlign}),!0,y)},m.prototype.handleOverflow=function(y){var bt,qt,v=this,M=this.chart,S=M.renderer,I=this.options,C=I.y,p="top"===I.verticalAlign,T=this.padding,it=I.maxHeight,Z=I.navigation,W=Et(Z.animation,!0),yt=Z.arrowSize||12,wt=this.pages,Vt=this.allItems,Ut=function(Bt){"number"==typeof Bt?Dt.attr({height:Bt}):Dt&&(v.clipRect=Dt.destroy(),v.contentGroup.clip()),v.contentGroup.div&&(v.contentGroup.div.style.clip=Bt?"rect("+T+"px,9999px,"+(T+Bt)+"px,0)":"auto")},At=function(Bt){return v[Bt]=S.circle(0,0,1.3*yt).translate(yt/2,yt/2).add(Rt),M.styledMode||v[Bt].attr("fill","rgba(0,0,0,0.0001)"),v[Bt]};C=M.spacingBox.height+(p?-C:C)-T;var Rt=this.nav,Dt=this.clipRect;return"horizontal"!==I.layout||"middle"===I.verticalAlign||I.floating||(C/=2),it&&(C=Math.min(C,it)),wt.length=0,y&&0<C&&y>C&&!1!==Z.enabled?(this.clipHeight=bt=Math.max(C-20-this.titleHeight-T,0),this.currentPage=Et(this.currentPage,1),this.fullHeight=y,Vt.forEach(function(Bt,Zt){var Lt=Bt._legendItemPos[1],Ce=Math.round(Bt.legendItem.getBBox().height),Ht=wt.length;(!Ht||Lt-wt[Ht-1]>bt&&(qt||Lt)!==wt[Ht-1])&&(wt.push(qt||Lt),Ht++),Bt.pageIx=Ht-1,qt&&(Vt[Zt-1].pageIx=Ht-1),Zt===Vt.length-1&&Lt+Ce-wt[Ht-1]>bt&&Ce<=bt&&(wt.push(Lt),Bt.pageIx=Ht),Lt!==qt&&(qt=Lt)}),Dt||(Dt=v.clipRect=S.clipRect(0,T,9999,0),v.contentGroup.clip(Dt)),Ut(bt),Rt||(this.nav=Rt=S.g().attr({zIndex:1}).add(this.group),this.up=S.symbol("triangle",0,0,yt,yt).add(Rt),At("upTracker").on("click",function(){v.scroll(-1,W)}),this.pager=S.text("",15,10).addClass("highcharts-legend-navigation"),M.styledMode||this.pager.css(Z.style),this.pager.add(Rt),this.down=S.symbol("triangle-down",0,0,yt,yt).add(Rt),At("downTracker").on("click",function(){v.scroll(1,W)})),v.scroll(0),y=C):Rt&&(Ut(),this.nav=Rt.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),y},m.prototype.scroll=function(y,v){var M=this,S=this.chart,I=this.pages,C=I.length,p=this.clipHeight,T=this.options.navigation,it=this.pager,Z=this.padding,W=this.currentPage+y;W>C&&(W=C),0<W&&(void 0!==v&&at(v,S),this.nav.attr({translateX:Z,translateY:p+this.padding+7+this.titleHeight,visibility:"visible"}),[this.up,this.upTracker].forEach(function(yt){yt.attr({class:1===W?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),it.attr({text:W+"/"+C}),[this.down,this.downTracker].forEach(function(yt){yt.attr({x:18+this.pager.getBBox().width,class:W===C?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),S.styledMode||(this.up.attr({fill:1===W?T.inactiveColor:T.activeColor}),this.upTracker.css({cursor:1===W?"default":"pointer"}),this.down.attr({fill:W===C?T.inactiveColor:T.activeColor}),this.downTracker.css({cursor:W===C?"default":"pointer"})),this.scrollOffset=-I[W-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=W,this.positionCheckboxes(),y=U(Et(v,S.renderer.globalAnimation,!0)),u(function(){_t(M,"afterScroll",{currentPage:W})},y.duration))},m.prototype.setItemEvents=function(y,v,M){var S=this,I=S.chart.renderer.boxWrapper,C=y instanceof ct,p="highcharts-legend-"+(C?"point":"series")+"-active",T=S.chart.styledMode,it=function(Z){S.allItems.forEach(function(W){y!==W&&[W].concat(W.linkedSeries||[]).forEach(function(yt){yt.setState(Z,!C)})})};(M?[v,y.legendSymbol]:[y.legendGroup]).forEach(function(Z){Z&&Z.on("mouseover",function(){y.visible&&it("inactive"),y.setState("hover"),y.visible&&I.addClass(p),T||v.css(S.options.itemHoverStyle)}).on("mouseout",function(){S.chart.styledMode||v.css(kt(y.visible?S.itemStyle:S.itemHiddenStyle)),it(""),I.removeClass(p),y.setState()}).on("click",function(W){var yt=function(){y.setVisible&&y.setVisible(),it(y.visible?"inactive":"")};I.removeClass(p),W={browserEvent:W},y.firePointEvent?y.firePointEvent("legendItemClick",W,yt):_t(y,"legendItemClick",W,yt)})})},m.prototype.createCheckboxForItem=function(y){y.checkbox=J("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:y.selected,defaultChecked:y.selected},this.options.itemCheckboxStyle,this.chart.container),G(y.checkbox,"click",function(v){_t(y.series||y,"checkboxClick",{checked:v.target.checked,item:y},function(){y.select()})})},m}(),(/Trident\/7\.0/.test(Y.navigator&&Y.navigator.userAgent)||E)&&et(X.prototype,"positionItem",function(m,y){var v=this,M=function(){y._legendItemPos&&m.call(v,y)};M(),v.bubbleLegend||setTimeout(M)}),X}),ft(dt,"Core/Series/SeriesRegistry.js",[dt["Core/Globals.js"],dt["Core/DefaultOptions.js"],dt["Core/Series/Point.js"],dt["Core/Utilities.js"]],function(E,K,Y,ct){var V,et=K.defaultOptions,X=ct.error,U=ct.extendClass,at=ct.merge;return function($){function H(G,J){var z=et.plotOptions||{},nt=J.defaultOptions;J.prototype.pointClass||(J.prototype.pointClass=Y),J.prototype.type=G,nt&&(z[G]=nt),$.seriesTypes[G]=J}$.seriesTypes=E.seriesTypes,$.getSeries=function(G,J){void 0===J&&(J={});var z=G.options.chart,nt=$.seriesTypes[z=J.type||z.type||z.defaultSeriesType||""];return $||X(17,!0,G,{missingModuleFor:z}),"function"==typeof(z=new nt).init&&z.init(G,J),z},$.registerSeriesType=H,$.seriesType=function(G,J,z,nt,Q){var lt=et.plotOptions||{};return lt[G]=at(lt[J=J||""],z),H(G,U($.seriesTypes[J]||function(){},nt)),$.seriesTypes[G].prototype.type=G,Q&&($.seriesTypes[G].prototype.pointClass=U(Y,Q)),$.seriesTypes[G]}}(V||(V={})),V}),ft(dt,"Core/Chart/Chart.js",[dt["Core/Animation/AnimationUtilities.js"],dt["Core/Axis/Axis.js"],dt["Core/FormatUtilities.js"],dt["Core/Foundation.js"],dt["Core/Globals.js"],dt["Core/Legend/Legend.js"],dt["Core/MSPointer.js"],dt["Core/DefaultOptions.js"],dt["Core/Pointer.js"],dt["Core/Renderer/RendererRegistry.js"],dt["Core/Series/SeriesRegistry.js"],dt["Core/Renderer/SVG/SVGRenderer.js"],dt["Core/Time.js"],dt["Core/Utilities.js"],dt["Core/Renderer/HTML/AST.js"]],function(E,K,Y,ct,et,X,U,at,V,$,H,G,J,z,nt){var Q=E.animate,lt=E.animObject,_t=E.setAnimation,Ct=Y.numberFormat,kt=ct.registerEventOptions,Et=et.charts,St=et.doc,R=et.marginNames,u=et.svg,m=et.win,y=at.defaultOptions,v=at.defaultTime,M=H.seriesTypes,S=z.addEvent,I=z.attr,C=z.cleanRecursively,p=z.createElement,T=z.css,it=z.defined,Z=z.discardElement,W=z.erase,yt=z.error,wt=z.extend,Vt=z.find,Ut=z.fireEvent,At=z.getStyle,bt=z.isArray,qt=z.isNumber,Rt=z.isObject,Dt=z.isString,Bt=z.merge,Zt=z.objectEach,Lt=z.pick,Ce=z.pInt,Ht=z.relativeLength,me=z.removeEvent,Si=z.splat,be=z.syncTimeout,de=z.uniqueKey;return E=function(){function je(Yt,ee,Le){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.legend=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(Yt,ee,Le)}return je.chart=function(Yt,ee,Le){return new je(Yt,ee,Le)},je.prototype.getArgs=function(Yt,ee,Le){Dt(Yt)||Yt.nodeName?(this.renderTo=Yt,this.init(ee,Le)):this.init(Yt,ee)},je.prototype.init=function(Yt,ee){var Le=Yt.plotOptions||{};Ut(this,"init",{args:arguments},function(){var It=Bt(y,Yt),gt=It.chart;Zt(It.plotOptions,function(rt,Qt){Rt(rt)&&(rt.tooltip=Le[Qt]&&Bt(Le[Qt].tooltip)||void 0)}),It.tooltip.userOptions=Yt.chart&&Yt.chart.forExport&&Yt.tooltip.userOptions||Yt.tooltip,this.userOptions=Yt,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=ee,this.isResizing=0,this.options=It,this.axes=[],this.series=[],this.time=Yt.time&&Object.keys(Yt.time).length?new J(Yt.time):et.time,this.numberFormatter=gt.numberFormatter||Ct,this.styledMode=gt.styledMode,this.hasCartesianSeries=gt.showAxes,this.index=Et.length,Et.push(this),et.chartCount++,kt(this,gt),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,Ut(this,"afterInit"),this.firstRender()})},je.prototype.initSeries=function(Yt){var ee=this.options.chart,Le=M[ee=Yt.type||ee.type||ee.defaultSeriesType];return Le||yt(17,!0,this,{missingModuleFor:ee}),"function"==typeof(ee=new Le).init&&ee.init(this,Yt),ee},je.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach(function(Yt){Yt.points||Yt.data||!Yt.enabledDataSorting||Yt.setData(Yt.options.data,!1)})},je.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort(function(Yt,ee){return Yt.linkedSeries.length||ee.linkedSeries.length?ee.linkedSeries.length-Yt.linkedSeries.length:0})},je.prototype.orderSeries=function(Yt){var ee=this.series;Yt=Yt||0;for(var Le=ee.length;Yt<Le;++Yt)ee[Yt]&&(ee[Yt].index=Yt,ee[Yt].name=ee[Yt].getName())},je.prototype.isInsidePlot=function(Yt,ee,Le){void 0===Le&&(Le={});var It=this.inverted,gt=this.plotBox,rt=this.plotLeft,Qt=this.plotTop,ue=this.scrollablePlotBox,Ze=0,ve=0;Le.visiblePlotOnly&&this.scrollingContainer&&(Ze=(ve=this.scrollingContainer).scrollLeft,ve=ve.scrollTop);var Ie=Le.series;if(gt=Le.visiblePlotOnly&&ue||gt,Yt={x:ue=Le.inverted?ee:Yt,y:ee=Le.inverted?Yt:ee,isInsidePlot:!0},!Le.ignoreX){var on=Ie&&(It?Ie.yAxis:Ie.xAxis)||{pos:rt,len:1/0};(ue=Le.paneCoordinates?on.pos+ue:rt+ue)>=Math.max(Ze+rt,on.pos)&&ue<=Math.min(Ze+rt+gt.width,on.pos+on.len)||(Yt.isInsidePlot=!1)}return!Le.ignoreY&&Yt.isInsidePlot&&(It=Ie&&(It?Ie.xAxis:Ie.yAxis)||{pos:Qt,len:1/0},(Le=Le.paneCoordinates?It.pos+ee:Qt+ee)>=Math.max(ve+Qt,It.pos)&&Le<=Math.min(ve+Qt+gt.height,It.pos+It.len)||(Yt.isInsidePlot=!1)),Ut(this,"afterIsInsidePlot",Yt),Yt.isInsidePlot},je.prototype.redraw=function(Yt){Ut(this,"beforeRedraw");var ee=this.hasCartesianSeries?this.axes:this.colorAxis||[],Le=this.series,It=this.pointer,gt=this.legend,rt=this.userOptions.legend,Qt=this.renderer,ue=Qt.isHidden(),Ze=[],ve=this.isDirtyBox,Ie=this.isDirtyLegend;for(this.setResponsive&&this.setResponsive(!1),_t(!!this.hasRendered&&Yt,this),ue&&this.temporaryDisplay(),this.layOutTitles(),Yt=Le.length;Yt--;){var on=Le[Yt];if(on.options.stacking||on.options.centerInCategory){var ni=!0;if(on.isDirty){var ii=!0;break}}}if(ii)for(Yt=Le.length;Yt--;)(on=Le[Yt]).options.stacking&&(on.isDirty=!0);Le.forEach(function(Xi){Xi.isDirty&&("point"===Xi.options.legendType?("function"==typeof Xi.updateTotals&&Xi.updateTotals(),Ie=!0):rt&&(rt.labelFormatter||rt.labelFormat)&&(Ie=!0)),Xi.isDirtyData&&Ut(Xi,"updatedData")}),Ie&&gt&&gt.options.enabled&&(gt.render(),this.isDirtyLegend=!1),ni&&this.getStacks(),ee.forEach(function(Xi){Xi.updateNames(),Xi.setScale()}),this.getMargins(),ee.forEach(function(Xi){Xi.isDirty&&(ve=!0)}),ee.forEach(function(Xi){var vi=Xi.min+","+Xi.max;Xi.extKey!==vi&&(Xi.extKey=vi,Ze.push(function(){Ut(Xi,"afterSetExtremes",wt(Xi.eventArgs,Xi.getExtremes())),delete Xi.eventArgs})),(ve||ni)&&Xi.redraw()}),ve&&this.drawChartBox(),Ut(this,"predraw"),Le.forEach(function(Xi){(ve||Xi.isDirty)&&Xi.visible&&Xi.redraw(),Xi.isDirtyData=!1}),It&&It.reset(!0),Qt.draw(),Ut(this,"redraw"),Ut(this,"render"),ue&&this.temporaryDisplay(!0),Ze.forEach(function(Xi){Xi.call()})},je.prototype.get=function(Yt){function ee(rt){return rt.id===Yt||rt.options&&rt.options.id===Yt}for(var Le=this.series,It=Vt(this.axes,ee)||Vt(this.series,ee),gt=0;!It&&gt<Le.length;gt++)It=Vt(Le[gt].points||[],ee);return It},je.prototype.getAxes=function(){var Yt=this,ee=this.options,Le=ee.xAxis=Si(ee.xAxis||{});ee=ee.yAxis=Si(ee.yAxis||{}),Ut(this,"getAxes"),Le.forEach(function(It,gt){It.index=gt,It.isX=!0}),ee.forEach(function(It,gt){It.index=gt}),Le.concat(ee).forEach(function(It){new K(Yt,It)}),Ut(this,"afterGetAxes")},je.prototype.getSelectedPoints=function(){return this.series.reduce(function(Yt,ee){return ee.getPointsCollection().forEach(function(Le){Lt(Le.selectedStaging,Le.selected)&&Yt.push(Le)}),Yt},[])},je.prototype.getSelectedSeries=function(){return this.series.filter(function(Yt){return Yt.selected})},je.prototype.setTitle=function(Yt,ee,Le){this.applyDescription("title",Yt),this.applyDescription("subtitle",ee),this.applyDescription("caption",void 0),this.layOutTitles(Le)},je.prototype.applyDescription=function(Yt,ee){var Le=this,It="title"===Yt?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};It=this.options[Yt]=Bt(!this.styledMode&&{style:It},this.options[Yt],ee);var gt=this[Yt];gt&&ee&&(this[Yt]=gt=gt.destroy()),It&&!gt&&((gt=this.renderer.text(It.text,0,0,It.useHTML).attr({align:It.align,class:"highcharts-"+Yt,zIndex:It.zIndex||4}).add()).update=function(rt){Le[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[Yt]](rt)},this.styledMode||gt.css(It.style),this[Yt]=gt)},je.prototype.layOutTitles=function(Yt){var ee=[0,0,0],Le=this.renderer,It=this.spacingBox;["title","subtitle","caption"].forEach(function(rt){var ve,Qt=this[rt],ue=this.options[rt],Ze=ue.verticalAlign||"top";if(rt="title"===rt?"top"===Ze?-3:0:"top"===Ze?ee[0]+2:0,Qt){this.styledMode||(ve=ue.style&&ue.style.fontSize),ve=Le.fontMetrics(ve,Qt).b,Qt.css({width:(ue.width||It.width+(ue.widthAdjust||0))+"px"});var Ie=Math.round(Qt.getBBox(ue.useHTML).height);Qt.align(wt({y:"bottom"===Ze?ve:rt+ve,height:Ie},ue),!1,"spacingBox"),ue.floating||("top"===Ze?ee[0]=Math.ceil(ee[0]+Ie):"bottom"===Ze&&(ee[2]=Math.ceil(ee[2]+Ie)))}},this),ee[0]&&"top"===(this.options.title.verticalAlign||"top")&&(ee[0]+=this.options.title.margin),ee[2]&&"bottom"===this.options.caption.verticalAlign&&(ee[2]+=this.options.caption.margin);var gt=!this.titleOffset||this.titleOffset.join(",")!==ee.join(",");this.titleOffset=ee,Ut(this,"afterLayOutTitles"),!this.isDirtyBox&&gt&&(this.isDirtyBox=this.isDirtyLegend=gt,this.hasRendered&&Lt(Yt,!0)&&this.isDirtyBox&&this.redraw())},je.prototype.getChartSize=function(){var Yt=this.options.chart,ee=Yt.width;Yt=Yt.height;var Le=this.renderTo;it(ee)||(this.containerWidth=At(Le,"width")),it(Yt)||(this.containerHeight=At(Le,"height")),this.chartWidth=Math.max(0,ee||this.containerWidth||600),this.chartHeight=Math.max(0,Ht(Yt,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},je.prototype.temporaryDisplay=function(Yt){var ee=this.renderTo;if(Yt)for(;ee&&ee.style;)ee.hcOrigStyle&&(T(ee,ee.hcOrigStyle),delete ee.hcOrigStyle),ee.hcOrigDetached&&(St.body.removeChild(ee),ee.hcOrigDetached=!1),ee=ee.parentNode;else for(;ee&&ee.style&&(St.body.contains(ee)||ee.parentNode||(ee.hcOrigDetached=!0,St.body.appendChild(ee)),("none"===At(ee,"display",!1)||ee.hcOricDetached)&&(ee.hcOrigStyle={display:ee.style.display,height:ee.style.height,overflow:ee.style.overflow},Yt={display:"block",overflow:"hidden"},ee!==this.renderTo&&(Yt.height=0),T(ee,Yt),ee.offsetWidth||ee.style.setProperty("display","block","important")),(ee=ee.parentNode)!==St.body););},je.prototype.setClassName=function(Yt){this.container.className="highcharts-container "+(Yt||"")},je.prototype.getContainer=function(){var It,Yt=this.options,ee=Yt.chart,Le=de(),gt=this.renderTo;gt||(this.renderTo=gt=ee.renderTo),Dt(gt)&&(this.renderTo=gt=St.getElementById(gt)),gt||yt(13,!0,this);var rt=Ce(I(gt,"data-highcharts-chart"));qt(rt)&&Et[rt]&&Et[rt].hasRendered&&Et[rt].destroy(),I(gt,"data-highcharts-chart",this.index),gt.innerHTML="",ee.skipClone||gt.offsetWidth||this.temporaryDisplay(),this.getChartSize(),rt=this.chartWidth;var Qt=this.chartHeight;if(T(gt,{overflow:"hidden"}),this.styledMode||(It=wt({position:"relative",overflow:"hidden",width:rt+"px",height:Qt+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},ee.style||{})),this.container=Le=p("div",{id:Le},It,gt),this._cursor=Le.style.cursor,this.renderer=new(ee.renderer||!u?$.getRendererType(ee.renderer):G)(Le,rt,Qt,void 0,ee.forExport,Yt.exporting&&Yt.exporting.allowHTML,this.styledMode),_t(void 0,this),this.setClassName(ee.className),this.styledMode)for(var ue in Yt.defs)this.renderer.definition(Yt.defs[ue]);else this.renderer.setStyle(ee.style);this.renderer.chartIndex=this.index,Ut(this,"afterGetContainer")},je.prototype.getMargins=function(Yt){var ee=this.spacing,Le=this.margin,It=this.titleOffset;this.resetMargins(),It[0]&&!it(Le[0])&&(this.plotTop=Math.max(this.plotTop,It[0]+ee[0])),It[2]&&!it(Le[2])&&(this.marginBottom=Math.max(this.marginBottom,It[2]+ee[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(Le,ee),Ut(this,"getMargins"),Yt||this.getAxisMargins()},je.prototype.getAxisMargins=function(){var Yt=this,ee=Yt.axisOffset=[0,0,0,0],Le=Yt.colorAxis,It=Yt.margin,gt=function(rt){rt.forEach(function(Qt){Qt.visible&&Qt.getOffset()})};Yt.hasCartesianSeries?gt(Yt.axes):Le&&Le.length&&gt(Le),R.forEach(function(rt,Qt){it(It[Qt])||(Yt[rt]+=ee[Qt])}),Yt.setChartSize()},je.prototype.reflow=function(Yt){var ee=this,Le=ee.options.chart,It=ee.renderTo,gt=it(Le.width)&&it(Le.height),rt=Le.width||At(It,"width");Le=Le.height||At(It,"height"),It=Yt?Yt.target:m,delete ee.pointer.chartPosition,!gt&&!ee.isPrinting&&rt&&Le&&(It===m||It===St)&&((rt!==ee.containerWidth||Le!==ee.containerHeight)&&(z.clearTimeout(ee.reflowTimeout),ee.reflowTimeout=be(function(){ee.container&&ee.setSize(void 0,void 0,!1)},Yt?100:0)),ee.containerWidth=rt,ee.containerHeight=Le)},je.prototype.setReflow=function(Yt){var ee=this;!1===Yt||this.unbindReflow?!1===Yt&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=S(m,"resize",function(Le){ee.options&&ee.reflow(Le)}),S(this,"destroy",this.unbindReflow))},je.prototype.setSize=function(Yt,ee,Le){var It=this,gt=It.renderer;It.isResizing+=1,_t(Le,It),Le=gt.globalAnimation,It.oldChartHeight=It.chartHeight,It.oldChartWidth=It.chartWidth,void 0!==Yt&&(It.options.chart.width=Yt),void 0!==ee&&(It.options.chart.height=ee),It.getChartSize(),It.styledMode||(Le?Q:T)(It.container,{width:It.chartWidth+"px",height:It.chartHeight+"px"},Le),It.setChartSize(!0),gt.setSize(It.chartWidth,It.chartHeight,Le),It.axes.forEach(function(rt){rt.isDirty=!0,rt.setScale()}),It.isDirtyLegend=!0,It.isDirtyBox=!0,It.layOutTitles(),It.getMargins(),It.redraw(Le),It.oldChartHeight=null,Ut(It,"resize"),be(function(){It&&Ut(It,"endResize",null,function(){--It.isResizing})},lt(Le).duration)},je.prototype.setChartSize=function(Yt){var Ze,ve,Ie,on,ee=this.inverted,Le=this.renderer,It=this.chartWidth,gt=this.chartHeight,rt=this.options.chart,Qt=this.spacing,ue=this.clipOffset;this.plotLeft=Ze=Math.round(this.plotLeft),this.plotTop=ve=Math.round(this.plotTop),this.plotWidth=Ie=Math.max(0,Math.round(It-Ze-this.marginRight)),this.plotHeight=on=Math.max(0,Math.round(gt-ve-this.marginBottom)),this.plotSizeX=ee?on:Ie,this.plotSizeY=ee?Ie:on,this.plotBorderWidth=rt.plotBorderWidth||0,this.spacingBox=Le.spacingBox={x:Qt[3],y:Qt[0],width:It-Qt[3]-Qt[1],height:gt-Qt[0]-Qt[2]},this.plotBox=Le.plotBox={x:Ze,y:ve,width:Ie,height:on},ee=2*Math.floor(this.plotBorderWidth/2),It=Math.ceil(Math.max(ee,ue[3])/2),gt=Math.ceil(Math.max(ee,ue[0])/2),this.clipBox={x:It,y:gt,width:Math.floor(this.plotSizeX-Math.max(ee,ue[1])/2-It),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(ee,ue[2])/2-gt))},Yt||(this.axes.forEach(function(ni){ni.setAxisSize(),ni.setAxisTranslation()}),Le.alignElements()),Ut(this,"afterSetChartSize",{skipAxes:Yt})},je.prototype.resetMargins=function(){Ut(this,"resetMargins");var Yt=this,ee=Yt.options.chart;["margin","spacing"].forEach(function(Le){var It=ee[Le],gt=Rt(It)?It:[It,It,It,It];["Top","Right","Bottom","Left"].forEach(function(rt,Qt){Yt[Le][Qt]=Lt(ee[Le+rt],gt[Qt])})}),R.forEach(function(Le,It){Yt[Le]=Lt(Yt.margin[It],Yt.spacing[It])}),Yt.axisOffset=[0,0,0,0],Yt.clipOffset=[0,0,0,0]},je.prototype.drawChartBox=function(){var Ge,Yt=this.options.chart,ee=this.renderer,Le=this.chartWidth,It=this.chartHeight,gt=this.styledMode,rt=this.plotBGImage,Qt=Yt.backgroundColor,ue=Yt.plotBackgroundColor,Ze=Yt.plotBackgroundImage,ve=this.plotLeft,Ie=this.plotTop,on=this.plotWidth,ni=this.plotHeight,ii=this.plotBox,Xi=this.clipRect,vi=this.clipBox,_i=this.chartBackground,Ln=this.plotBackground,Mi=this.plotBorder,fn="animate";if(_i||(this.chartBackground=_i=ee.rect().addClass("highcharts-background").add(),fn="attr"),gt)var Ei=Ge=_i.strokeWidth();else Ge=(Ei=Yt.borderWidth||0)+(Yt.shadow?8:0),Qt={fill:Qt||"none"},(Ei||_i["stroke-width"])&&(Qt.stroke=Yt.borderColor,Qt["stroke-width"]=Ei),_i.attr(Qt).shadow(Yt.shadow);_i[fn]({x:Ge/2,y:Ge/2,width:Le-Ge-Ei%2,height:It-Ge-Ei%2,r:Yt.borderRadius}),fn="animate",Ln||(fn="attr",this.plotBackground=Ln=ee.rect().addClass("highcharts-plot-background").add()),Ln[fn](ii),gt||(Ln.attr({fill:ue||"none"}).shadow(Yt.plotShadow),Ze&&(rt?(Ze!==rt.attr("href")&&rt.attr("href",Ze),rt.animate(ii)):this.plotBGImage=ee.image(Ze,ve,Ie,on,ni).add())),Xi?Xi.animate({width:vi.width,height:vi.height}):this.clipRect=ee.clipRect(vi),fn="animate",Mi||(fn="attr",this.plotBorder=Mi=ee.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),gt||Mi.attr({stroke:Yt.plotBorderColor,"stroke-width":Yt.plotBorderWidth||0,fill:"none"}),Mi[fn](Mi.crisp({x:ve,y:Ie,width:on,height:ni},-Mi.strokeWidth())),this.isDirtyBox=!1,Ut(this,"afterDrawChartBox")},je.prototype.propFromSeries=function(){var It,gt,rt,Yt=this,ee=Yt.options.chart,Le=Yt.options.series;["inverted","angular","polar"].forEach(function(Qt){for(gt=M[ee.type||ee.defaultSeriesType],rt=ee[Qt]||gt&&gt.prototype[Qt],It=Le&&Le.length;!rt&&It--;)(gt=M[Le[It].type])&&gt.prototype[Qt]&&(rt=!0);Yt[Qt]=rt})},je.prototype.linkSeries=function(){var Yt=this,ee=Yt.series;ee.forEach(function(Le){Le.linkedSeries.length=0}),ee.forEach(function(Le){var It=Le.options.linkedTo;Dt(It)&&(It=":previous"===It?Yt.series[Le.index-1]:Yt.get(It))&&It.linkedParent!==Le&&(It.linkedSeries.push(Le),Le.linkedParent=It,It.enabledDataSorting&&Le.setDataSortingOptions(),Le.visible=Lt(Le.options.visible,It.options.visible,Le.visible))}),Ut(this,"afterLinkSeries")},je.prototype.renderSeries=function(){this.series.forEach(function(Yt){Yt.translate(),Yt.render()})},je.prototype.renderLabels=function(){var Yt=this,ee=Yt.options.labels;ee.items&&ee.items.forEach(function(Le){var It=wt(ee.style,Le.style),gt=Ce(It.left)+Yt.plotLeft,rt=Ce(It.top)+Yt.plotTop+12;delete It.left,delete It.top,Yt.renderer.text(Le.html,gt,rt).attr({zIndex:2}).css(It).add()})},je.prototype.render=function(){var Yt=this.axes,ee=this.colorAxis,Le=this.renderer,It=this.options,gt=function(ve){ve.forEach(function(Ie){Ie.visible&&Ie.render()})},rt=0;this.setTitle(),this.legend=new X(this,It.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),It=this.plotWidth,Yt.some(function(ve){if(ve.horiz&&ve.visible&&ve.options.labels.enabled&&ve.series.length)return rt=21,!0});var Qt=this.plotHeight=Math.max(this.plotHeight-rt,0);Yt.forEach(function(ve){ve.setScale()}),this.getAxisMargins();var ue=1.1<It/this.plotWidth,Ze=1.05<Qt/this.plotHeight;(ue||Ze)&&(Yt.forEach(function(ve){(ve.horiz&&ue||!ve.horiz&&Ze)&&ve.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?gt(Yt):ee&&ee.length&&gt(ee),this.seriesGroup||(this.seriesGroup=Le.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},je.prototype.addCredits=function(Yt){var ee=this,Le=Bt(!0,this.options.credits,Yt);Le.enabled&&!this.credits&&(this.credits=this.renderer.text(Le.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){Le.href&&(m.location.href=Le.href)}).attr({align:Le.position.align,zIndex:8}),ee.styledMode||this.credits.css(Le.style),this.credits.add().align(Le.position),this.credits.update=function(It){ee.credits=ee.credits.destroy(),ee.addCredits(It)})},je.prototype.destroy=function(){var rt,Yt=this,ee=Yt.axes,Le=Yt.series,It=Yt.container,gt=It&&It.parentNode;for(Ut(Yt,"destroy"),Yt.renderer.forExport?W(Et,Yt):Et[Yt.index]=void 0,et.chartCount--,Yt.renderTo.removeAttribute("data-highcharts-chart"),me(Yt),rt=ee.length;rt--;)ee[rt]=ee[rt].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),rt=Le.length;rt--;)Le[rt]=Le[rt].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(Qt){var ue=Yt[Qt];ue&&ue.destroy&&(Yt[Qt]=ue.destroy())}),It&&(It.innerHTML="",me(It),gt&&Z(It)),Zt(Yt,function(Qt,ue){delete Yt[ue]})},je.prototype.firstRender=function(){var Yt=this,ee=Yt.options;(!Yt.isReadyToRender||Yt.isReadyToRender())&&(Yt.getContainer(),Yt.resetMargins(),Yt.setChartSize(),Yt.propFromSeries(),Yt.getAxes(),(bt(ee.series)?ee.series:[]).forEach(function(Le){Yt.initSeries(Le)}),Yt.linkSeries(),Yt.setSeriesData(),Ut(Yt,"beforeRender"),V&&(Yt.pointer=U.isRequired()?new U(Yt,ee):new V(Yt,ee)),Yt.render(),Yt.pointer.getChartPosition(),!Yt.renderer.imgCount&&!Yt.hasLoaded&&Yt.onload(),Yt.temporaryDisplay(!0))},je.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach(function(Yt){Yt&&void 0!==this.index&&Yt.apply(this,[this])},this),Ut(this,"load"),Ut(this,"render"),it(this.index)&&this.setReflow(this.options.chart.reflow),this.hasLoaded=!0},je.prototype.addSeries=function(Yt,ee,Le){var gt,It=this;return Yt&&(ee=Lt(ee,!0),Ut(It,"addSeries",{options:Yt},function(){gt=It.initSeries(Yt),It.isDirtyLegend=!0,It.linkSeries(),gt.enabledDataSorting&&gt.setData(Yt.data,!1),Ut(It,"afterAddSeries",{series:gt}),ee&&It.redraw(Le)})),gt},je.prototype.addAxis=function(Yt,ee,Le,It){return this.createAxis(ee?"xAxis":"yAxis",{axis:Yt,redraw:Le,animation:It})},je.prototype.addColorAxis=function(Yt,ee,Le){return this.createAxis("colorAxis",{axis:Yt,redraw:ee,animation:Le})},je.prototype.createAxis=function(Yt,ee){return Yt=new K(this,Bt(ee.axis,{index:this[Yt].length,isX:"xAxis"===Yt})),Lt(ee.redraw,!0)&&this.redraw(ee.animation),Yt},je.prototype.showLoading=function(Yt){var ee=this,Le=ee.options,It=Le.loading,gt=function(){rt&&T(rt,{left:ee.plotLeft+"px",top:ee.plotTop+"px",width:ee.plotWidth+"px",height:ee.plotHeight+"px"})},rt=ee.loadingDiv,Qt=ee.loadingSpan;rt||(ee.loadingDiv=rt=p("div",{className:"highcharts-loading highcharts-loading-hidden"},null,ee.container)),Qt||(ee.loadingSpan=Qt=p("span",{className:"highcharts-loading-inner"},null,rt),S(ee,"redraw",gt)),rt.className="highcharts-loading",nt.setElementHTML(Qt,Lt(Yt,Le.lang.loading,"")),ee.styledMode||(T(rt,wt(It.style,{zIndex:10})),T(Qt,It.labelStyle),ee.loadingShown||(T(rt,{opacity:0,display:""}),Q(rt,{opacity:It.style.opacity||.5},{duration:It.showDuration||0}))),ee.loadingShown=!0,gt()},je.prototype.hideLoading=function(){var Yt=this.options,ee=this.loadingDiv;ee&&(ee.className="highcharts-loading highcharts-loading-hidden",this.styledMode||Q(ee,{opacity:0},{duration:Yt.loading.hideDuration||100,complete:function(){T(ee,{display:"none"})}})),this.loadingShown=!1},je.prototype.update=function(Yt,ee,Le,It){var Ze,ve,gt=this,rt={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},Qt=Yt.isResponsiveOptions,ue=[];Ut(gt,"update",{options:Yt}),Qt||gt.setResponsive(!1,!0),Yt=C(Yt,gt.options),gt.userOptions=Bt(gt.userOptions,Yt);var Ie=Yt.chart;if(Ie){if(Bt(!0,gt.options.chart,Ie),"className"in Ie&&gt.setClassName(Ie.className),"reflow"in Ie&&gt.setReflow(Ie.reflow),"inverted"in Ie||"polar"in Ie||"type"in Ie){gt.propFromSeries();var on=!0}"alignTicks"in Ie&&(on=!0),"events"in Ie&&kt(this,Ie),Zt(Ie,function(ni,ii){-1!==gt.propsRequireUpdateSeries.indexOf("chart."+ii)&&(Ze=!0),-1!==gt.propsRequireDirtyBox.indexOf(ii)&&(gt.isDirtyBox=!0),-1!==gt.propsRequireReflow.indexOf(ii)&&(Qt?gt.isDirtyBox=!0:ve=!0)}),!gt.styledMode&&Ie.style&&gt.renderer.setStyle(gt.options.chart.style||{})}!gt.styledMode&&Yt.colors&&(this.options.colors=Yt.colors),Yt.time&&(this.time===v&&(this.time=new J(Yt.time)),Bt(!0,gt.options.time,Yt.time)),Zt(Yt,function(ni,ii){gt[ii]&&"function"==typeof gt[ii].update?gt[ii].update(ni,!1):"function"==typeof gt[rt[ii]]?gt[rt[ii]](ni):"colors"!==ii&&-1===gt.collectionsWithUpdate.indexOf(ii)&&Bt(!0,gt.options[ii],Yt[ii]),"chart"!==ii&&-1!==gt.propsRequireUpdateSeries.indexOf(ii)&&(Ze=!0)}),this.collectionsWithUpdate.forEach(function(ni){if(Yt[ni]){var ii=[];gt[ni].forEach(function(Xi,vi){Xi.options.isInternal||ii.push(Lt(Xi.options.index,vi))}),Si(Yt[ni]).forEach(function(Xi,vi){var Ln,_i=it(Xi.id);_i&&(Ln=gt.get(Xi.id)),!Ln&&gt[ni]&&(Ln=gt[ni][ii?ii[vi]:vi])&&_i&&it(Ln.options.id)&&(Ln=void 0),Ln&&Ln.coll===ni&&(Ln.update(Xi,!1),Le&&(Ln.touched=!0)),!Ln&&Le&&gt.collectionsWithInit[ni]&&(gt.collectionsWithInit[ni][0].apply(gt,[Xi].concat(gt.collectionsWithInit[ni][1]||[]).concat([!1])).touched=!0)}),Le&&gt[ni].forEach(function(Xi){Xi.touched||Xi.options.isInternal?delete Xi.touched:ue.push(Xi)})}}),ue.forEach(function(ni){ni.chart&&ni.remove&&ni.remove(!1)}),on&&gt.axes.forEach(function(ni){ni.update({},!1)}),Ze&&gt.getSeriesOrderByLinks().forEach(function(ni){ni.chart&&ni.update({},!1)},this),on=Ie&&Ie.width,Ie=Ie&&(Dt(Ie.height)?Ht(Ie.height,on||gt.chartWidth):Ie.height),ve||qt(on)&&on!==gt.chartWidth||qt(Ie)&&Ie!==gt.chartHeight?gt.setSize(on,Ie,It):Lt(ee,!0)&&gt.redraw(It),Ut(gt,"afterUpdate",{options:Yt,redraw:ee,animation:It})},je.prototype.setSubtitle=function(Yt,ee){this.applyDescription("subtitle",Yt),this.layOutTitles(ee)},je.prototype.setCaption=function(Yt,ee){this.applyDescription("caption",Yt),this.layOutTitles(ee)},je.prototype.showResetZoom=function(){function Yt(){ee.zoomOut()}var ee=this,Le=y.lang,It=ee.options.chart.resetZoomButton,gt=It.theme,rt=gt.states,Qt="chart"===It.relativeTo||"spacingBox"===It.relativeTo?null:"scrollablePlotBox";Ut(this,"beforeShowResetZoom",null,function(){ee.resetZoomButton=ee.renderer.button(Le.resetZoom,null,null,Yt,gt,rt&&rt.hover).attr({align:It.position.align,title:Le.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(It.position,!1,Qt)}),Ut(this,"afterShowResetZoom")},je.prototype.zoomOut=function(){Ut(this,"selection",{resetSelection:!0},this.zoom)},je.prototype.zoom=function(Yt){var rt,ee=this,Le=ee.pointer,It=ee.inverted?Le.mouseDownX:Le.mouseDownY,gt=!1;!Yt||Yt.resetSelection?(ee.axes.forEach(function(ue){rt=ue.zoom()}),Le.initiated=!1):Yt.xAxis.concat(Yt.yAxis).forEach(function(ue){var Ze=ue.axis,ve=ee.inverted?Ze.left:Ze.top,on=Ze.isXAxis,ni=!1;(!on&&It>=ve&&It<=(ee.inverted?ve+Ze.width:ve+Ze.height)||on||!it(It))&&(ni=!0),Le[on?"zoomX":"zoomY"]&&ni&&(rt=Ze.zoom(ue.min,ue.max),Ze.displayBtn&&(gt=!0))});var Qt=ee.resetZoomButton;gt&&!Qt?ee.showResetZoom():!gt&&Rt(Qt)&&(ee.resetZoomButton=Qt.destroy()),rt&&ee.redraw(Lt(ee.options.chart.animation,Yt&&Yt.animation,100>ee.pointCount))},je.prototype.pan=function(Yt,ee){var Le=this,It=Le.hoverPoints;ee="object"==typeof ee?ee:{enabled:ee,type:"x"};var gt=Le.options.chart,rt=Le.options.mapNavigation&&Le.options.mapNavigation.enabled;gt&&gt.panning&&(gt.panning=ee);var ue,Qt=ee.type;Ut(this,"pan",{originalEvent:Yt},function(){It&&It.forEach(function(Ie){Ie.setState()});var Ze=Le.xAxis;"xy"===Qt?Ze=Ze.concat(Le.yAxis):"y"===Qt&&(Ze=Le.yAxis);var ve={};Ze.forEach(function(Ie){if(Ie.options.panningEnabled&&!Ie.options.isInternal){var on=Ie.horiz,ni=Yt[on?"chartX":"chartY"],ii=Le[on=on?"mouseDownX":"mouseDownY"],Xi=Ie.minPointOffset||0,vi=Ie.reversed&&!Le.inverted||!Ie.reversed&&Le.inverted?-1:1,_i=Ie.getExtremes(),Ln=Ie.toValue(ii-ni,!0)+Xi*vi,Mi=Ie.toValue(ii+Ie.len-ni,!0)-(Xi*vi||Ie.isXAxis&&Ie.pointRangePadding||0),Ge=Mi<Ln;vi=Ie.hasVerticalPanning(),ii=Ge?Mi:Ln,Ln=Ge?Ln:Mi;var fn=Ie.panningState;!vi||Ie.isXAxis||fn&&!fn.isDirty||Ie.series.forEach(function(Ei){var Oe=Ei.getProcessedData(!0);Oe=Ei.getExtremes(Oe.yData,!0),fn||(fn={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),qt(Oe.dataMin)&&qt(Oe.dataMax)&&(fn.startMin=Math.min(Lt(Ei.options.threshold,1/0),Oe.dataMin,fn.startMin),fn.startMax=Math.max(Lt(Ei.options.threshold,-1/0),Oe.dataMax,fn.startMax))}),vi=Math.min(Lt(fn&&fn.startMin,_i.dataMin),Xi?_i.min:Ie.toValue(Ie.toPixels(_i.min)-Ie.minPixelPadding)),Mi=Math.max(Lt(fn&&fn.startMax,_i.dataMax),Xi?_i.max:Ie.toValue(Ie.toPixels(_i.max)+Ie.minPixelPadding)),Ie.panningState=fn,Ie.isOrdinal||(0<(Xi=vi-ii)&&(Ln+=Xi,ii=vi),0<(Xi=Ln-Mi)&&(Ln=Mi,ii-=Xi),Ie.series.length&&ii!==_i.min&&Ln!==_i.max&&ii>=vi&&Ln<=Mi&&(Ie.setExtremes(ii,Ln,!1,!1,{trigger:"pan"}),Le.resetZoomButton||rt||ii===vi||Ln===Mi||!Qt.match("y")||(Le.showResetZoom(),Ie.displayBtn=!1),ue=!0),ve[on]=ni)}}),Zt(ve,function(Ie,on){Le[on]=Ie}),ue&&Le.redraw(!1),T(Le.container,{cursor:"move"})})},je}(),wt(E.prototype,{callbacks:[],collectionsWithInit:{xAxis:[E.prototype.addAxis,[!0]],yAxis:[E.prototype.addAxis,[!1]],series:[E.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),E}),ft(dt,"Core/Legend/LegendSymbol.js",[dt["Core/Utilities.js"]],function(E){var ct,et,K=E.merge,Y=E.pick;return(et=ct||(ct={})).drawLineMarker=function(X){var U=this.options,at=X.symbolWidth,V=X.symbolHeight,$=V/2,H=this.chart.renderer,G=this.legendGroup;X=X.baseline-Math.round(.3*X.fontMetrics.b);var J={},z=U.marker;this.chart.styledMode||(J={"stroke-width":U.lineWidth||0},U.dashStyle&&(J.dashstyle=U.dashStyle)),this.legendLine=H.path([["M",0,X],["L",at,X]]).addClass("highcharts-graph").attr(J).add(G),z&&!1!==z.enabled&&at&&(U=Math.min(Y(z.radius,$),$),0===this.symbol.indexOf("url")&&(z=K(z,{width:V,height:V}),U=0),this.legendSymbol=at=H.symbol(this.symbol,at/2-U,X-U,2*U,2*U,z).addClass("highcharts-point").add(G),at.isMarker=!0)},et.drawRectangle=function(X,U){var at=X.symbolHeight,V=X.options.squareSymbol;U.legendSymbol=this.chart.renderer.rect(V?(X.symbolWidth-at)/2:0,X.baseline-at+1,V?at:X.symbolWidth,at,Y(X.options.symbolRadius,at/2)).addClass("highcharts-point").attr({zIndex:3}).add(U.legendGroup)},ct}),ft(dt,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",defer:!0,formatter:function(){return"number"!=typeof this.y?"":(0,this.series.chart.numberFormatter)(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),ft(dt,"Core/Series/Series.js",[dt["Core/Animation/AnimationUtilities.js"],dt["Core/DefaultOptions.js"],dt["Core/Foundation.js"],dt["Core/Globals.js"],dt["Core/Legend/LegendSymbol.js"],dt["Core/Series/Point.js"],dt["Core/Series/SeriesDefaults.js"],dt["Core/Series/SeriesRegistry.js"],dt["Core/Renderer/SVG/SVGElement.js"],dt["Core/Utilities.js"]],function(E,K,Y,ct,et,X,U,at,V,$){var H=E.animObject,G=E.setAnimation,J=K.defaultOptions,z=Y.registerEventOptions,nt=ct.hasTouch,Q=ct.svg,lt=ct.win,_t=at.seriesTypes,Ct=$.addEvent,kt=$.arrayMax,Et=$.arrayMin,St=$.clamp,R=$.cleanRecursively,u=$.correctFloat,m=$.defined,y=$.erase,v=$.error,M=$.extend,S=$.find,I=$.fireEvent,C=$.getNestedProperty,p=$.isArray,T=$.isNumber,it=$.isString,Z=$.merge,W=$.objectEach,yt=$.pick,wt=$.removeEvent,Vt=$.splat,Ut=$.syncTimeout;return E=function(){function At(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}return At.prototype.init=function(bt,qt){I(this,"init",{options:qt});var Rt=this,Dt=bt.series;this.eventsToUnbind=[],Rt.chart=bt,Rt.options=Rt.setOptions(qt),qt=Rt.options,Rt.linkedSeries=[],Rt.bindAxes(),M(Rt,{name:qt.name,state:"",visible:!1!==qt.visible,selected:!0===qt.selected}),z(this,qt);var Zt,Bt=qt.events;(Bt&&Bt.click||qt.point&&qt.point.events&&qt.point.events.click||qt.allowPointSelect)&&(bt.runTrackerClick=!0),Rt.getColor(),Rt.getSymbol(),Rt.parallelArrays.forEach(function(Lt){Rt[Lt+"Data"]||(Rt[Lt+"Data"]=[])}),Rt.isCartesian&&(bt.hasCartesianSeries=!0),Dt.length&&(Zt=Dt[Dt.length-1]),Rt._i=yt(Zt&&Zt._i,-1)+1,Rt.opacity=Rt.options.opacity,bt.orderSeries(this.insert(Dt)),qt.dataSorting&&qt.dataSorting.enabled?Rt.setDataSortingOptions():Rt.points||Rt.data||Rt.setData(qt.data,!1),I(this,"afterInit")},At.prototype.is=function(bt){return _t[bt]&&this instanceof _t[bt]},At.prototype.insert=function(bt){var Rt,qt=this.options.index;if(T(qt)){for(Rt=bt.length;Rt--;)if(qt>=yt(bt[Rt].options.index,bt[Rt]._i)){bt.splice(Rt+1,0,this);break}-1===Rt&&bt.unshift(this),Rt+=1}else bt.push(this);return yt(Rt,bt.length-1)},At.prototype.bindAxes=function(){var Dt,bt=this,qt=bt.options,Rt=bt.chart;I(this,"bindAxes",null,function(){(bt.axisTypes||[]).forEach(function(Bt){var Zt=0;Rt[Bt].forEach(function(Lt){Dt=Lt.options,(qt[Bt]===Zt&&!Dt.isInternal||void 0!==qt[Bt]&&qt[Bt]===Dt.id||void 0===qt[Bt]&&0===Dt.index)&&(bt.insert(Lt.series),bt[Bt]=Lt,Lt.isDirty=!0),Dt.isInternal||Zt++}),bt[Bt]||bt.optionalAxis===Bt||v(18,!0,Rt)})}),I(this,"afterBindAxes")},At.prototype.updateParallelArrays=function(bt,qt){var Rt=bt.series,Dt=arguments,Bt=T(qt)?function(Zt){var Lt="y"===Zt&&Rt.toYData?Rt.toYData(bt):bt[Zt];Rt[Zt+"Data"][qt]=Lt}:function(Zt){Array.prototype[qt].apply(Rt[Zt+"Data"],Array.prototype.slice.call(Dt,2))};Rt.parallelArrays.forEach(Bt)},At.prototype.hasData=function(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.yData&&0<this.yData.length},At.prototype.autoIncrement=function(bt){var Lt,qt=this.options,Rt=qt.pointIntervalUnit,Dt=qt.relativeXValue,Bt=this.chart.time,Zt=this.xIncrement;return Zt=yt(Zt,qt.pointStart,0),this.pointInterval=Lt=yt(this.pointInterval,qt.pointInterval,1),Dt&&T(bt)&&(Lt*=bt),Rt&&(qt=new Bt.Date(Zt),"day"===Rt?Bt.set("Date",qt,Bt.get("Date",qt)+Lt):"month"===Rt?Bt.set("Month",qt,Bt.get("Month",qt)+Lt):"year"===Rt&&Bt.set("FullYear",qt,Bt.get("FullYear",qt)+Lt),Lt=qt.getTime()-Zt),Dt&&T(bt)?Zt+Lt:(this.xIncrement=Zt+Lt,Zt)},At.prototype.setDataSortingOptions=function(){var bt=this.options;M(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),m(bt.pointRange)||(bt.pointRange=1)},At.prototype.setOptions=function(bt){var qt=this.chart,Rt=qt.options,Dt=Rt.plotOptions,Bt=qt.userOptions||{};bt=Z(bt),qt=qt.styledMode;var Zt={plotOptions:Dt,userOptions:bt};I(this,"setOptions",Zt);var Lt=Zt.plotOptions[this.type],Ce=Bt.plotOptions||{};return this.userOptions=Zt.userOptions,Bt=Z(Lt,Dt.series,Bt.plotOptions&&Bt.plotOptions[this.type],bt),this.tooltipOptions=Z(J.tooltip,J.plotOptions.series&&J.plotOptions.series.tooltip,J.plotOptions[this.type].tooltip,Rt.tooltip.userOptions,Dt.series&&Dt.series.tooltip,Dt[this.type].tooltip,bt.tooltip),this.stickyTracking=yt(bt.stickyTracking,Ce[this.type]&&Ce[this.type].stickyTracking,Ce.series&&Ce.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||Bt.stickyTracking),null===Lt.marker&&delete Bt.marker,this.zoneAxis=Bt.zoneAxis,Dt=this.zones=(Bt.zones||[]).slice(),!Bt.negativeColor&&!Bt.negativeFillColor||Bt.zones||(Rt={value:Bt[this.zoneAxis+"Threshold"]||Bt.threshold||0,className:"highcharts-negative"},qt||(Rt.color=Bt.negativeColor,Rt.fillColor=Bt.negativeFillColor),Dt.push(Rt)),Dt.length&&m(Dt[Dt.length-1].value)&&Dt.push(qt?{}:{color:this.color,fillColor:this.fillColor}),I(this,"afterSetOptions",{options:Bt}),Bt},At.prototype.getName=function(){return yt(this.options.name,"Series "+(this.index+1))},At.prototype.getCyclic=function(bt,qt,Rt){var Dt=this.chart,Bt=this.userOptions,Zt=bt+"Index",Lt=bt+"Counter",Ce=Rt?Rt.length:yt(Dt.options.chart[bt+"Count"],Dt[bt+"Count"]);if(!qt){var Ht=yt(Bt[Zt],Bt["_"+Zt]);m(Ht)||(Dt.series.length||(Dt[Lt]=0),Bt["_"+Zt]=Ht=Dt[Lt]%Ce,Dt[Lt]+=1),Rt&&(qt=Rt[Ht])}void 0!==Ht&&(this[Zt]=Ht),this[bt]=qt},At.prototype.getColor=function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||J.plotOptions[this.type].color,this.chart.options.colors)},At.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]},At.prototype.getSymbol=function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},At.prototype.findPointIndex=function(bt,qt){var Lt,Ce,Rt=bt.id,Dt=bt.x,Bt=this.points,Zt=this.options.dataSorting;if(Rt)(Zt=this.chart.get(Rt))instanceof X&&(Lt=Zt);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(Lt=function(me){return!me.touched&&me.index===bt.index},Zt&&Zt.matchByName?Lt=function(me){return!me.touched&&me.name===bt.name}:this.options.relativeXValue&&(Lt=function(me){return!me.touched&&me.options.x===bt.x}),!(Lt=S(Bt,Lt))))return;if(Lt){var Ht=Lt&&Lt.index;void 0!==Ht&&(Ce=!0)}return void 0===Ht&&T(Dt)&&(Ht=this.xData.indexOf(Dt,qt)),-1!==Ht&&void 0!==Ht&&this.cropped&&(Ht=Ht>=this.cropStart?Ht-this.cropStart:Ht),!Ce&&T(Ht)&&Bt[Ht]&&Bt[Ht].touched&&(Ht=void 0),Ht},At.prototype.updateData=function(bt,qt){var Ht,me,Si,Rt=this.options,Dt=Rt.dataSorting,Bt=this.points,Zt=[],Lt=this.requireSorting,Ce=bt.length===Bt.length,be=!0;if(this.xIncrement=null,bt.forEach(function(de,je){var Yt=m(de)&&this.pointClass.prototype.optionsToObject.call({series:this},de)||{};Yt.id||T(Yt.x)?(-1===(Yt=this.findPointIndex(Yt,Si))||void 0===Yt?Zt.push(de):Bt[Yt]&&de!==Rt.data[Yt]?(Bt[Yt].update(de,!1,null,!1),Bt[Yt].touched=!0,Lt&&(Si=Yt+1)):Bt[Yt]&&(Bt[Yt].touched=!0),(!Ce||je!==Yt||Dt&&Dt.enabled||this.hasDerivedData)&&(Ht=!0)):Zt.push(de)},this),Ht)for(bt=Bt.length;bt--;)(me=Bt[bt])&&!me.touched&&me.remove&&me.remove(!1,qt);else!Ce||Dt&&Dt.enabled?be=!1:(bt.forEach(function(de,je){de!==Bt[je].y&&Bt[je].update&&Bt[je].update(de,!1,null,!1)}),Zt.length=0);return Bt.forEach(function(de){de&&(de.touched=!1)}),!!be&&(Zt.forEach(function(de){this.addPoint(de,!1,null,null,!1)},this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=kt(this.xData),this.autoIncrement()),!0)},At.prototype.setData=function(bt,qt,Rt,Dt){var Bt=this,Zt=Bt.points,Lt=Zt&&Zt.length||0,Ce=Bt.options,Ht=Bt.chart,me=Ce.dataSorting,Si=Bt.xAxis,be=Ce.turboThreshold,de=this.xData,je=this.yData,Yt=Bt.pointArrayMap;Yt=Yt&&Yt.length;var Le,ee=Ce.keys,It=0,gt=1,rt=null,Qt=(bt=bt||[]).length;if(qt=yt(qt,!0),me&&me.enabled&&(bt=this.sortData(bt)),!1!==Dt&&Qt&&Lt&&!Bt.cropped&&!Bt.hasGroupedData&&Bt.visible&&!Bt.isSeriesBoosting&&(Le=this.updateData(bt,Rt)),!Le){if(Bt.xIncrement=null,Bt.colorCounter=0,this.parallelArrays.forEach(function(ue){Bt[ue+"Data"].length=0}),be&&Qt>be)if(rt=Bt.getFirstValidPoint(bt),T(rt))for(Rt=0;Rt<Qt;Rt++)de[Rt]=this.autoIncrement(),je[Rt]=bt[Rt];else if(p(rt))if(Yt)if(rt.length===Yt)for(Rt=0;Rt<Qt;Rt++)de[Rt]=this.autoIncrement(),je[Rt]=bt[Rt];else for(Rt=0;Rt<Qt;Rt++)de[Rt]=(Dt=bt[Rt])[0],je[Rt]=Dt.slice(1,Yt+1);else if(ee&&(It=0<=(It=ee.indexOf("x"))?It:0,gt=0<=(gt=ee.indexOf("y"))?gt:1),1===rt.length&&(gt=0),It===gt)for(Rt=0;Rt<Qt;Rt++)de[Rt]=this.autoIncrement(),je[Rt]=bt[Rt][gt];else for(Rt=0;Rt<Qt;Rt++)de[Rt]=(Dt=bt[Rt])[It],je[Rt]=Dt[gt];else v(12,!1,Ht);else for(Rt=0;Rt<Qt;Rt++)void 0!==bt[Rt]&&(Bt.pointClass.prototype.applyOptions.apply(Dt={series:Bt},[bt[Rt]]),Bt.updateParallelArrays(Dt,Rt));for(je&&it(je[0])&&v(14,!0,Ht),Bt.data=[],Bt.options.data=Bt.userOptions.data=bt,Rt=Lt;Rt--;)Zt[Rt]&&Zt[Rt].destroy&&Zt[Rt].destroy();Si&&(Si.minRange=Si.userMinRange),Bt.isDirty=Ht.isDirtyBox=!0,Bt.isDirtyData=!!Zt,Rt=!1}"point"===Ce.legendType&&(this.processData(),this.generatePoints()),qt&&Ht.redraw(Rt)},At.prototype.sortData=function(bt){var qt=this,Rt=qt.options.dataSorting.sortKey||"y",Dt=function(Bt,Zt){return m(Zt)&&Bt.pointClass.prototype.optionsToObject.call({series:Bt},Zt)||{}};return bt.forEach(function(Bt,Zt){bt[Zt]=Dt(qt,Bt),bt[Zt].index=Zt},this),bt.concat().sort(function(Bt,Zt){return Bt=C(Rt,Bt),(Zt=C(Rt,Zt))<Bt?-1:Zt>Bt?1:0}).forEach(function(Bt,Zt){Bt.x=Zt},this),qt.linkedSeries&&qt.linkedSeries.forEach(function(Bt){var Zt=Bt.options,Lt=Zt.data;Zt.dataSorting&&Zt.dataSorting.enabled||!Lt||(Lt.forEach(function(Ce,Ht){Lt[Ht]=Dt(Bt,Ce),bt[Ht]&&(Lt[Ht].x=bt[Ht].x,Lt[Ht].index=Ht)}),Bt.setData(Lt,!1))}),bt},At.prototype.getProcessedData=function(bt){var qt=this.xAxis,Rt=this.options,Dt=Rt.cropThreshold,Bt=bt||this.getExtremesFromAll||Rt.getExtremesFromAll,Zt=this.isCartesian;bt=qt&&qt.val2lin,Rt=!(!qt||!qt.logarithmic);var Lt=0,Ce=this.xData,Ht=this.yData,me=this.requireSorting,Si=!1,be=Ce.length;if(qt){var de=(Si=qt.getExtremes()).min,je=Si.max;Si=qt.categories&&!qt.names.length}if(Zt&&this.sorted&&!Bt&&(!Dt||be>Dt||this.forceCrop))if(Ce[be-1]<de||Ce[0]>je)Ce=[],Ht=[];else if(this.yData&&(Ce[0]<de||Ce[be-1]>je)){var Yt=this.cropData(this.xData,this.yData,de,je);Ce=Yt.xData,Ht=Yt.yData,Lt=Yt.start,Yt=!0}for(Dt=Ce.length||1;--Dt;)if(0<(qt=Rt?bt(Ce[Dt])-bt(Ce[Dt-1]):Ce[Dt]-Ce[Dt-1])&&(void 0===ee||qt<ee))var ee=qt;else 0>qt&&me&&!Si&&(v(15,!1,this.chart),me=!1);return{xData:Ce,yData:Ht,cropped:Yt,cropStart:Lt,closestPointRange:ee}},At.prototype.processData=function(bt){if(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!bt)return!1;bt=this.getProcessedData(),this.cropped=bt.cropped,this.cropStart=bt.cropStart,this.processedXData=bt.xData,this.processedYData=bt.yData,this.closestPointRange=this.basePointRange=bt.closestPointRange,I(this,"afterProcessData")},At.prototype.cropData=function(bt,qt,Rt,Dt,Bt){var Lt,Zt=bt.length,Ce=0,Ht=Zt;for(Bt=yt(Bt,this.cropShoulder),Lt=0;Lt<Zt;Lt++)if(bt[Lt]>=Rt){Ce=Math.max(0,Lt-Bt);break}for(Rt=Lt;Rt<Zt;Rt++)if(bt[Rt]>Dt){Ht=Rt+Bt;break}return{xData:bt.slice(Ce,Ht),yData:qt.slice(Ce,Ht),start:Ce,end:Ht}},At.prototype.generatePoints=function(){var bt=this.options,qt=bt.data,Rt=this.processedXData,Dt=this.processedYData,Bt=this.pointClass,Zt=Rt.length,Lt=this.cropStart||0,Ce=this.hasGroupedData,Ht=bt.keys,me=[];bt=bt.dataGrouping&&bt.dataGrouping.groupAll?Lt:0;var Si,be,de=this.data;if(!de&&!Ce){var je=[];je.length=qt.length,de=this.data=je}for(Ht&&Ce&&(this.options.keys=!1),be=0;be<Zt;be++){if(je=Lt+be,Ce){var Yt=(new Bt).init(this,[Rt[be]].concat(Vt(Dt[be])));Yt.dataGroup=this.groupMap[bt+be],Yt.dataGroup.options&&(Yt.options=Yt.dataGroup.options,M(Yt,Yt.dataGroup.options),delete Yt.dataLabels)}else(Yt=de[je])||void 0===qt[je]||(de[je]=Yt=(new Bt).init(this,qt[je],Rt[be]));Yt&&(Yt.index=Ce?bt+be:je,me[be]=Yt)}if(this.options.keys=Ht,de&&(Zt!==(Si=de.length)||Ce))for(be=0;be<Si;be++)be!==Lt||Ce||(be+=Zt),de[be]&&(de[be].destroyElements(),de[be].plotX=void 0);this.data=de,this.points=me,I(this,"afterGeneratePoints")},At.prototype.getXExtremes=function(bt){return{min:Et(bt),max:kt(bt)}},At.prototype.getExtremes=function(bt,qt){var Rt=this.xAxis,Dt=this.yAxis,Bt=this.processedXData||this.xData,Zt=[],Lt=this.requireSorting?this.cropShoulder:0;Dt=!!Dt&&Dt.positiveValuesOnly;var Ce,Ht=0,me=0,Si=0,be=(bt=bt||this.stackedYData||this.processedYData||[]).length;if(Rt){var de=Rt.getExtremes();Ht=de.min,me=de.max}for(Ce=0;Ce<be;Ce++){var je=Bt[Ce],Yt=(T(de=bt[Ce])||p(de))&&(de.length||0<de||!Dt);if(je=qt||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!Rt||(Bt[Ce+Lt]||je)>=Ht&&(Bt[Ce-Lt]||je)<=me,Yt&&je)if(Yt=de.length)for(;Yt--;)T(de[Yt])&&(Zt[Si++]=de[Yt]);else Zt[Si++]=de}return bt={activeYData:Zt,dataMin:Et(Zt),dataMax:kt(Zt)},I(this,"afterGetExtremes",{dataExtremes:bt}),bt},At.prototype.applyExtremes=function(){var bt=this.getExtremes();return this.dataMin=bt.dataMin,this.dataMax=bt.dataMax,bt},At.prototype.getFirstValidPoint=function(bt){for(var qt=bt.length,Rt=0,Dt=null;null===Dt&&Rt<qt;)Dt=bt[Rt],Rt++;return Dt},At.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints();var je,Yt,bt=this.options,qt=bt.stacking,Rt=this.xAxis,Dt=Rt.categories,Bt=this.enabledDataSorting,Zt=this.yAxis,Lt=this.points,Ce=Lt.length,Ht=this.pointPlacementToXValue(),me=!!Ht,Si=bt.threshold,be=bt.startFromThreshold?Si:0,de=this.zoneAxis||"y",ee=Number.MAX_VALUE;for(je=0;je<Ce;je++){var Le=Lt[je],It=Le.x,gt=void 0,rt=void 0,Qt=Le.y,ue=Le.low,Ze=qt&&Zt.stacking&&Zt.stacking.stacks[(this.negStacks&&Qt<(be?0:Si)?"-":"")+this.stackKey];if((Zt.positiveValuesOnly&&!Zt.validatePositiveValue(Qt)||Rt.positiveValuesOnly&&!Rt.validatePositiveValue(It))&&(Le.isNull=!0),Le.plotX=Yt=u(St(Rt.translate(It,0,0,0,1,Ht,"flags"===this.type),-1e5,1e5)),qt&&this.visible&&Ze&&Ze[It]){var ve=this.getStackIndicator(ve,It,this.index);Le.isNull||(rt=(gt=Ze[It]).points[ve.key])}if(p(rt)&&(Qt=rt[1],(ue=rt[0])===be&&ve.key===Ze[It].base&&(ue=yt(T(Si)&&Si,Zt.min)),Zt.positiveValuesOnly&&0>=ue&&(ue=null),Le.total=Le.stackTotal=gt.total,Le.percentage=gt.total&&Le.y/gt.total*100,Le.stackY=Qt,this.irregularWidths||gt.setOffset(this.pointXOffset||0,this.barW||0)),Le.yBottom=m(ue)?St(Zt.translate(ue,0,1,0,1),-1e5,1e5):null,this.dataModify&&(Qt=this.dataModify.modifyValue(Qt,je)),Le.plotY=void 0,T(Qt)&&void 0!==(gt=Zt.translate(Qt,!1,!0,!1,!0))&&(Le.plotY=St(gt,-1e5,1e5)),Le.isInside=this.isPointInside(Le),Le.clientX=me?u(Rt.translate(It,0,0,0,1,Ht)):Yt,Le.negative=Le[de]<(bt[de+"Threshold"]||Si||0),Le.category=Dt&&void 0!==Dt[Le.x]?Dt[Le.x]:Le.x,!Le.isNull&&!1!==Le.visible){void 0!==Ie&&(ee=Math.min(ee,Math.abs(Yt-Ie)));var Ie=Yt}Le.zone=this.zones.length?Le.getZone():void 0,!Le.graphic&&this.group&&Bt&&(Le.isNew=!0)}this.closestPointRangePx=ee,I(this,"afterTranslate")},At.prototype.getValidPoints=function(bt,qt,Rt){var Dt=this.chart;return(bt||this.points||[]).filter(function(Bt){return!(qt&&!Dt.isInsidePlot(Bt.plotX,Bt.plotY,{inverted:Dt.inverted}))&&!1!==Bt.visible&&(Rt||!Bt.isNull)})},At.prototype.getClipBox=function(){var bt=this.chart,qt=this.xAxis,Rt=this.yAxis,Dt=Z(bt.clipBox);return qt&&qt.len!==bt.plotSizeX&&(Dt.width=qt.len),Rt&&Rt.len!==bt.plotSizeY&&(Dt.height=Rt.len),Dt},At.prototype.getSharedClipKey=function(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)},At.prototype.setClip=function(){var bt=this.chart,qt=this.group,Rt=this.markerGroup,Dt=bt.sharedClips;bt=bt.renderer;var Bt=this.getClipBox(),Zt=this.getSharedClipKey(),Lt=Dt[Zt];Lt?Lt.animate(Bt):Dt[Zt]=Lt=bt.clipRect(Bt),qt&&qt.clip(!1===this.options.clip?void 0:Lt),Rt&&Rt.clip()},At.prototype.animate=function(bt){var qt=this.chart,Rt=this.group,Dt=this.markerGroup,Bt=qt.inverted,Zt=H(this.options.animation),Lt=[this.getSharedClipKey(),Zt.duration,Zt.easing,Zt.defer].join(),Ce=qt.sharedClips[Lt],Ht=qt.sharedClips[Lt+"m"];if(bt&&Rt)Zt=this.getClipBox(),Ce?Ce.attr("height",Zt.height):(Zt.width=0,Bt&&(Zt.x=qt.plotHeight),Ce=qt.renderer.clipRect(Zt),qt.sharedClips[Lt]=Ce,Ht=qt.renderer.clipRect({x:Bt?(qt.plotSizeX||0)+99:-99,y:Bt?-qt.plotLeft:-qt.plotTop,width:99,height:Bt?qt.chartWidth:qt.chartHeight}),qt.sharedClips[Lt+"m"]=Ht),Rt.clip(Ce),Dt&&Dt.clip(Ht);else if(Ce&&!Ce.hasClass("highcharts-animating")){qt=this.getClipBox();var me=Zt.step;Dt&&Dt.element.childNodes.length&&(Zt.step=function(Si,be){me&&me.apply(be,arguments),Ht&&Ht.element&&Ht.attr(be.prop,"width"===be.prop?Si+99:Si)}),Ce.addClass("highcharts-animating").animate(qt,Zt)}},At.prototype.afterAnimate=function(){var bt=this;this.setClip(),W(this.chart.sharedClips,function(qt,Rt,Dt){qt&&!bt.chart.container.querySelector('[clip-path="url(#'+qt.id+')"]')&&(qt.destroy(),delete Dt[Rt])}),this.finishedAnimating=!0,I(this,"afterAnimate")},At.prototype.drawPoints=function(){var Lt,Ce,bt=this.points,qt=this.chart,Rt=this.options.marker,Dt=this[this.specialGroup]||this.markerGroup,Bt=this.xAxis,Zt=yt(Rt.enabled,!(Bt&&!Bt.isRadial)||null,this.closestPointRangePx>=Rt.enabledThreshold*Rt.radius);if(!1!==Rt.enabled||this._hasPointMarkers)for(Lt=0;Lt<bt.length;Lt++){var Ht=bt[Lt],me=(Ce=Ht.graphic)?"animate":"attr",Si=Ht.marker||{},be=!!Ht.marker;if((Zt&&void 0===Si.enabled||Si.enabled)&&!Ht.isNull&&!1!==Ht.visible){var de=yt(Si.symbol,this.symbol,"rect"),je=this.markerAttribs(Ht,Ht.selected&&"select");this.enabledDataSorting&&(Ht.startXPos=Bt.reversed?-(je.width||0):Bt.width);var Yt=!1!==Ht.isInside;Ce?Ce[Yt?"show":"hide"](Yt).animate(je):Yt&&(0<(je.width||0)||Ht.hasImage)&&(Ht.graphic=Ce=qt.renderer.symbol(de,je.x,je.y,je.width,je.height,be?Si:Rt).add(Dt),this.enabledDataSorting&&qt.hasRendered&&(Ce.attr({x:Ht.startXPos}),me="animate")),Ce&&"animate"===me&&Ce[Yt?"show":"hide"](Yt).animate(je),Ce&&!qt.styledMode&&Ce[me](this.pointAttribs(Ht,Ht.selected&&"select")),Ce&&Ce.addClass(Ht.getClassName(),!0)}else Ce&&(Ht.graphic=Ce.destroy())}},At.prototype.markerAttribs=function(bt,qt){var Rt=this.options,Dt=Rt.marker,Bt=bt.marker||{},Zt=Bt.symbol||Dt.symbol,Lt=yt(Bt.radius,Dt.radius);return qt&&(Dt=Dt.states[qt],Lt=yt((qt=Bt.states&&Bt.states[qt])&&qt.radius,Dt&&Dt.radius,Lt+(Dt&&Dt.radiusPlus||0))),bt.hasImage=Zt&&0===Zt.indexOf("url"),bt.hasImage&&(Lt=0),bt={x:Rt.crisp?Math.floor(bt.plotX-Lt):bt.plotX-Lt,y:bt.plotY-Lt},Lt&&(bt.width=bt.height=2*Lt),bt},At.prototype.pointAttribs=function(bt,qt){var Rt=this.options.marker,Dt=bt&&bt.options,Bt=Dt&&Dt.marker||{},Zt=Dt&&Dt.color,Lt=bt&&bt.color,Ce=bt&&bt.zone&&bt.zone.color,Ht=this.color;return bt=yt(Bt.lineWidth,Rt.lineWidth),Dt=1,Ht=Zt||Ce||Lt||Ht,Zt=Bt.fillColor||Rt.fillColor||Ht,Lt=Bt.lineColor||Rt.lineColor||Ht,Rt=Rt.states[qt=qt||"normal"]||{},bt=yt((qt=Bt.states&&Bt.states[qt]||{}).lineWidth,Rt.lineWidth,bt+yt(qt.lineWidthPlus,Rt.lineWidthPlus,0)),{stroke:Lt=qt.lineColor||Rt.lineColor||Lt,"stroke-width":bt,fill:Zt=qt.fillColor||Rt.fillColor||Zt,opacity:Dt=yt(qt.opacity,Rt.opacity,Dt)}},At.prototype.destroy=function(bt){var Lt,Ce,Ht,qt=this,Rt=qt.chart,Dt=/AppleWebKit\/533/.test(lt.navigator.userAgent),Bt=qt.data||[];for(I(qt,"destroy"),this.removeEvents(bt),(qt.axisTypes||[]).forEach(function(me){(Ht=qt[me])&&Ht.series&&(y(Ht.series,qt),Ht.isDirty=Ht.forceRedraw=!0)}),qt.legendItem&&qt.chart.legend.destroyItem(qt),Lt=Bt.length;Lt--;)(Ce=Bt[Lt])&&Ce.destroy&&Ce.destroy();qt.clips&&qt.clips.forEach(function(me){return me.destroy()}),$.clearTimeout(qt.animationTimeout),W(qt,function(me,Si){me instanceof V&&!me.survive&&me[Dt&&"group"===Si?"hide":"destroy"]()}),Rt.hoverSeries===qt&&(Rt.hoverSeries=void 0),y(Rt.series,qt),Rt.orderSeries(),W(qt,function(me,Si){bt&&"hcEvents"===Si||delete qt[Si]})},At.prototype.applyZones=function(){var Si,be,de,je,Yt,ee,Le,It,bt=this,qt=this.chart,Rt=qt.renderer,Dt=this.zones,Bt=this.clips||[],Zt=this.graph,Lt=this.area,Ce=Math.max(qt.chartWidth,qt.chartHeight),Ht=this[(this.zoneAxis||"y")+"Axis"],me=qt.inverted,gt=!1;if(Dt.length&&(Zt||Lt)&&Ht&&void 0!==Ht.min){var rt=Ht.reversed,Qt=Ht.horiz;Zt&&!this.showLine&&Zt.hide(),Lt&&Lt.hide();var ue=Ht.getExtremes();Dt.forEach(function(Ze,ve){Si=rt?Qt?qt.plotWidth:0:Qt?0:Ht.toPixels(ue.min)||0,Si=St(yt(be,Si),0,Ce),be=St(Math.round(Ht.toPixels(yt(Ze.value,ue.max),!0)||0),0,Ce),gt&&(Si=be=Ht.toPixels(ue.max)),je=Math.abs(Si-be),Yt=Math.min(Si,be),ee=Math.max(Si,be),Ht.isXAxis?(de={x:me?ee:Yt,y:0,width:je,height:Ce},Qt||(de.x=qt.plotHeight-de.x)):(de={x:0,y:me?ee:Yt,width:Ce,height:je},Qt&&(de.y=qt.plotWidth-de.y)),me&&Rt.isVML&&(de=Ht.isXAxis?{x:0,y:rt?Yt:ee,height:de.width,width:qt.chartWidth}:{x:de.y-qt.plotLeft-qt.spacingBox.x,y:0,width:de.height,height:qt.chartHeight}),Bt[ve]?Bt[ve].animate(de):Bt[ve]=Rt.clipRect(de),Le=bt["zone-area-"+ve],It=bt["zone-graph-"+ve],Zt&&It&&It.clip(Bt[ve]),Lt&&Le&&Le.clip(Bt[ve]),gt=Ze.value>ue.max,bt.resetZones&&0===be&&(be=void 0)}),this.clips=Bt}else bt.visible&&(Zt&&Zt.show(!0),Lt&&Lt.show(!0))},At.prototype.invertGroups=function(bt){function qt(){["group","markerGroup"].forEach(function(Bt){Rt[Bt]&&(Dt.renderer.isVML&&Rt[Bt].attr({width:Rt.yAxis.len,height:Rt.xAxis.len}),Rt[Bt].width=Rt.yAxis.len,Rt[Bt].height=Rt.xAxis.len,Rt[Bt].invert(!Rt.isRadialSeries&&bt))})}var Rt=this,Dt=Rt.chart;Rt.xAxis&&(Rt.eventsToUnbind.push(Ct(Dt,"resize",qt)),qt(),Rt.invertGroups=qt)},At.prototype.plotGroup=function(bt,qt,Rt,Dt,Bt){var Zt=this[bt],Lt=!Zt;return Rt={visibility:Rt,zIndex:Dt||.1},void 0===this.opacity||this.chart.styledMode||"inactive"===this.state||(Rt.opacity=this.opacity),Lt&&(this[bt]=Zt=this.chart.renderer.g().add(Bt)),Zt.addClass("highcharts-"+qt+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(m(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(Zt.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),Zt.attr(Rt)[Lt?"attr":"animate"](this.getPlotBox()),Zt},At.prototype.getPlotBox=function(){var bt=this.chart,qt=this.xAxis,Rt=this.yAxis;return bt.inverted&&(qt=Rt,Rt=this.xAxis),{translateX:qt?qt.left:bt.plotLeft,translateY:Rt?Rt.top:bt.plotTop,scaleX:1,scaleY:1}},At.prototype.removeEvents=function(bt){bt||wt(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(qt){qt()}),this.eventsToUnbind.length=0)},At.prototype.render=function(){var bt=this,qt=bt.chart,Rt=bt.options,Dt=H(Rt.animation),Bt=bt.visible?"inherit":"hidden",Zt=Rt.zIndex,Lt=bt.hasRendered,Ce=qt.seriesGroup,Ht=qt.inverted;qt=!bt.finishedAnimating&&qt.renderer.isSVG?Dt.duration:0,I(this,"render");var me=bt.plotGroup("group","series",Bt,Zt,Ce);bt.markerGroup=bt.plotGroup("markerGroup","markers",Bt,Zt,Ce),!1!==Rt.clip&&bt.setClip(),bt.animate&&qt&&bt.animate(!0),me.inverted=!!yt(bt.invertible,bt.isCartesian)&&Ht,bt.drawGraph&&(bt.drawGraph(),bt.applyZones()),bt.visible&&bt.drawPoints(),bt.drawDataLabels&&bt.drawDataLabels(),bt.redrawPoints&&bt.redrawPoints(),bt.drawTracker&&!1!==bt.options.enableMouseTracking&&bt.drawTracker(),bt.invertGroups(Ht),bt.animate&&qt&&bt.animate(),Lt||(qt&&Dt.defer&&(qt+=Dt.defer),bt.animationTimeout=Ut(function(){bt.afterAnimate()},qt||0)),bt.isDirty=!1,bt.hasRendered=!0,I(bt,"afterRender")},At.prototype.redraw=function(){var bt=this.chart,qt=this.isDirty||this.isDirtyData,Rt=this.group,Dt=this.xAxis,Bt=this.yAxis;Rt&&(bt.inverted&&Rt.attr({width:bt.plotWidth,height:bt.plotHeight}),Rt.animate({translateX:yt(Dt&&Dt.left,bt.plotLeft),translateY:yt(Bt&&Bt.top,bt.plotTop)})),this.translate(),this.render(),qt&&delete this.kdTree},At.prototype.searchPoint=function(bt,qt){var Rt=this.xAxis,Dt=this.yAxis,Bt=this.chart.inverted;return this.searchKDTree({clientX:Bt?Rt.len-bt.chartY+Rt.pos:bt.chartX-Rt.pos,plotY:Bt?Dt.len-bt.chartX+Dt.pos:bt.chartY-Dt.pos},qt,bt)},At.prototype.buildKDTree=function(bt){function qt(Bt,Zt,Lt){var Ce=Bt&&Bt.length;if(Ce){var Ht=Rt.kdAxisArray[Zt%Lt];return Bt.sort(function(me,Si){return me[Ht]-Si[Ht]}),{point:Bt[Ce=Math.floor(Ce/2)],left:qt(Bt.slice(0,Ce),Zt+1,Lt),right:qt(Bt.slice(Ce+1),Zt+1,Lt)}}}this.buildingKdTree=!0;var Rt=this,Dt=-1<Rt.options.findNearestPointBy.indexOf("y")?2:1;delete Rt.kdTree,Ut(function(){Rt.kdTree=qt(Rt.getValidPoints(null,!Rt.directTouch),Dt,Dt),Rt.buildingKdTree=!1},Rt.options.kdNow||bt&&"touchstart"===bt.type?0:1)},At.prototype.searchKDTree=function(bt,qt,Rt){var Bt=this,Zt=this.kdAxisArray[0],Lt=this.kdAxisArray[1],Ce=qt?"distX":"dist";if(qt=-1<Bt.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(Rt),this.kdTree)return function Dt(Ht,me,Si,be){var de=me.point,je=Bt.kdAxisArray[Si%be],Yt=de,ee=m(Ht[Zt])&&m(de[Zt])?Math.pow(Ht[Zt]-de[Zt],2):null,Le=m(Ht[Lt])&&m(de[Lt])?Math.pow(Ht[Lt]-de[Lt],2):null;return de.dist=m(Le=(ee||0)+(Le||0))?Math.sqrt(Le):Number.MAX_VALUE,de.distX=m(ee)?Math.sqrt(ee):Number.MAX_VALUE,ee=0>(je=Ht[je]-de[je])?"right":"left",me[Le=0>je?"left":"right"]&&(Yt=(Le=Dt(Ht,me[Le],Si+1,be))[Ce]<Yt[Ce]?Le:de),me[ee]&&Math.sqrt(je*je)<Yt[Ce]&&(Yt=(Ht=Dt(Ht,me[ee],Si+1,be))[Ce]<Yt[Ce]?Ht:Yt),Yt}(bt,this.kdTree,qt,qt)},At.prototype.pointPlacementToXValue=function(){var bt=this.options,qt=bt.pointRange,Rt=this.xAxis;return"between"===(bt=bt.pointPlacement)&&(bt=Rt.reversed?-.5:.5),T(bt)?bt*(qt||Rt.pointRange):0},At.prototype.isPointInside=function(bt){var qt=this.chart,Rt=this.xAxis,Dt=this.yAxis;return void 0!==bt.plotY&&void 0!==bt.plotX&&0<=bt.plotY&&bt.plotY<=(Dt?Dt.len:qt.plotHeight)&&0<=bt.plotX&&bt.plotX<=(Rt?Rt.len:qt.plotWidth)},At.prototype.drawTracker=function(){var bt=this,qt=bt.options,Rt=qt.trackByArea,Dt=[].concat(Rt?bt.areaPath:bt.graphPath),Bt=bt.chart,Zt=Bt.pointer,Lt=Bt.renderer,Ce=Bt.options.tooltip.snap,Ht=bt.tracker,me=function(be){Bt.hoverSeries!==bt&&bt.onMouseOver()},Si="rgba(192,192,192,"+(Q?1e-4:.002)+")";Ht?Ht.attr({d:Dt}):bt.graph&&(bt.tracker=Lt.path(Dt).attr({visibility:bt.visible?"visible":"hidden",zIndex:2}).addClass(Rt?"highcharts-tracker-area":"highcharts-tracker-line").add(bt.group),Bt.styledMode||bt.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:Si,fill:Rt?Si:"none","stroke-width":bt.graph.strokeWidth()+(Rt?0:2*Ce)}),[bt.tracker,bt.markerGroup,bt.dataLabelsGroup].forEach(function(be){be&&(be.addClass("highcharts-tracker").on("mouseover",me).on("mouseout",function(de){Zt.onTrackerMouseOut(de)}),qt.cursor&&!Bt.styledMode&&be.css({cursor:qt.cursor}),nt)&&be.on("touchstart",me)})),I(this,"afterDrawTracker")},At.prototype.addPoint=function(bt,qt,Rt,Dt,Bt){var Zt=this.options,Lt=this.data,Ce=this.chart,Ht=this.xAxis;Ht=Ht&&Ht.hasNames&&Ht.names;var be,me=Zt.data,Si=this.xData;qt=yt(qt,!0);var de={series:this};this.pointClass.prototype.applyOptions.apply(de,[bt]);var je=de.x,Yt=Si.length;if(this.requireSorting&&je<Si[Yt-1])for(be=!0;Yt&&Si[Yt-1]>je;)Yt--;this.updateParallelArrays(de,"splice",Yt,0,0),this.updateParallelArrays(de,Yt),Ht&&de.name&&(Ht[je]=de.name),me.splice(Yt,0,bt),be&&(this.data.splice(Yt,0,null),this.processData()),"point"===Zt.legendType&&this.generatePoints(),Rt&&(Lt[0]&&Lt[0].remove?Lt[0].remove(!1):(Lt.shift(),this.updateParallelArrays(de,"shift"),me.shift())),!1!==Bt&&I(this,"addPoint",{point:de}),this.isDirtyData=this.isDirty=!0,qt&&Ce.redraw(Dt)},At.prototype.removePoint=function(bt,qt,Rt){var Dt=this,Bt=Dt.data,Zt=Bt[bt],Lt=Dt.points,Ce=Dt.chart,Ht=function(){Lt&&Lt.length===Bt.length&&Lt.splice(bt,1),Bt.splice(bt,1),Dt.options.data.splice(bt,1),Dt.updateParallelArrays(Zt||{series:Dt},"splice",bt,1),Zt&&Zt.destroy(),Dt.isDirty=!0,Dt.isDirtyData=!0,qt&&Ce.redraw()};G(Rt,Ce),qt=yt(qt,!0),Zt?Zt.firePointEvent("remove",null,Ht):Ht()},At.prototype.remove=function(bt,qt,Rt,Dt){function Bt(){Zt.destroy(Dt),Lt.isDirtyLegend=Lt.isDirtyBox=!0,Lt.linkSeries(),yt(bt,!0)&&Lt.redraw(qt)}var Zt=this,Lt=Zt.chart;!1!==Rt?I(Zt,"remove",null,Bt):Bt()},At.prototype.update=function(bt,qt){bt=R(bt,this.userOptions),I(this,"update",{options:bt});var Si,Rt=this,Dt=Rt.chart,Bt=Rt.userOptions,Zt=Rt.initialType||Rt.type,Lt=Dt.options.plotOptions,Ce=_t[Zt].prototype,Ht=Rt.finishedAnimating&&{animation:!1},me={},be=["eventOptions","navigatorSeries","baseSeries"],de=bt.type||Bt.type||Dt.options.chart.type,je=!(this.hasDerivedData||de&&de!==this.type||void 0!==bt.pointStart||void 0!==bt.pointInterval||void 0!==bt.relativeXValue||Rt.hasOptionChanged("dataGrouping")||Rt.hasOptionChanged("pointStart")||Rt.hasOptionChanged("pointInterval")||Rt.hasOptionChanged("pointIntervalUnit")||Rt.hasOptionChanged("keys"));if(de=de||Zt,je&&(be.push("data","isDirtyData","points","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","mapMap","mapData","minY","maxY","minX","maxX"),!1!==bt.visible&&be.push("area","graph"),Rt.parallelArrays.forEach(function(ee){be.push(ee+"Data")}),bt.data&&(bt.dataSorting&&M(Rt.options.dataSorting,bt.dataSorting),this.setData(bt.data,!1))),bt=Z(Bt,Ht,{index:void 0===Bt.index?Rt.index:Bt.index,pointStart:yt(Lt&&Lt.series&&Lt.series.pointStart,Bt.pointStart,Rt.xData[0])},!je&&{data:Rt.options.data},bt),je&&bt.data&&(bt.data=Rt.options.data),(be=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(be)).forEach(function(ee){be[ee]=Rt[ee],delete Rt[ee]}),Lt=!1,_t[de]){if(Lt=de!==Rt.type,Rt.remove(!1,!1,!1,!0),Lt)if(Object.setPrototypeOf)Object.setPrototypeOf(Rt,_t[de].prototype);else{for(Si in Ht=Object.hasOwnProperty.call(Rt,"hcEvents")&&Rt.hcEvents,Ce)Rt[Si]=void 0;M(Rt,_t[de].prototype),Ht?Rt.hcEvents=Ht:delete Rt.hcEvents}}else v(17,!0,Dt,{missingModuleFor:de});if(be.forEach(function(ee){Rt[ee]=be[ee]}),Rt.init(Dt,bt),je&&this.points){var Yt=Rt.options;!1===Yt.visible?(me.graphic=1,me.dataLabel=1):Rt._hasPointLabels||(Ce=Yt.dataLabels,!(bt=Yt.marker)||!1!==bt.enabled&&(Bt.marker&&Bt.marker.symbol)===bt.symbol||(me.graphic=1),Ce&&!1===Ce.enabled&&(me.dataLabel=1)),this.points.forEach(function(ee){ee&&ee.series&&(ee.resolveColor(),Object.keys(me).length&&ee.destroyElements(me),!1===Yt.showInLegend&&ee.legendItem&&Dt.legend.destroyItem(ee))},this)}Rt.initialType=Zt,Dt.linkSeries(),Lt&&Rt.linkedSeries.length&&(Rt.isDirtyData=!0),I(this,"afterUpdate"),yt(qt,!0)&&Dt.redraw(!!je&&void 0)},At.prototype.setName=function(bt){this.name=this.options.name=this.userOptions.name=bt,this.chart.isDirtyLegend=!0},At.prototype.hasOptionChanged=function(bt){var qt=this.options[bt],Rt=this.chart.options.plotOptions,Dt=this.userOptions[bt];return Dt?qt!==Dt:qt!==yt(Rt&&Rt[this.type]&&Rt[this.type][bt],Rt&&Rt.series&&Rt.series[bt],qt)},At.prototype.onMouseOver=function(){var bt=this.chart,qt=bt.hoverSeries;bt.pointer.setHoverChartIndex(),qt&&qt!==this&&qt.onMouseOut(),this.options.events.mouseOver&&I(this,"mouseOver"),this.setState("hover"),bt.hoverSeries=this},At.prototype.onMouseOut=function(){var bt=this.options,qt=this.chart,Rt=qt.tooltip,Dt=qt.hoverPoint;qt.hoverSeries=null,Dt&&Dt.onMouseOut(),this&&bt.events.mouseOut&&I(this,"mouseOut"),!Rt||this.stickyTracking||Rt.shared&&!this.noSharedTooltip||Rt.hide(),qt.series.forEach(function(Bt){Bt.setState("",!0)})},At.prototype.setState=function(bt,qt){var Rt=this,Dt=Rt.options,Bt=Rt.graph,Zt=Dt.inactiveOtherPoints,Lt=Dt.states,Ce=yt(Lt[bt||"normal"]&&Lt[bt||"normal"].animation,Rt.chart.options.chart.animation),Ht=Dt.lineWidth,me=0,Si=Dt.opacity;if(Rt.state!==(bt=bt||"")&&([Rt.group,Rt.markerGroup,Rt.dataLabelsGroup].forEach(function(be){be&&(Rt.state&&be.removeClass("highcharts-series-"+Rt.state),bt&&be.addClass("highcharts-series-"+bt))}),Rt.state=bt,!Rt.chart.styledMode)){if(Lt[bt]&&!1===Lt[bt].enabled)return;if(bt&&(Ht=Lt[bt].lineWidth||Ht+(Lt[bt].lineWidthPlus||0),Si=yt(Lt[bt].opacity,Si)),Bt&&!Bt.dashstyle)for(Bt.animate(Dt={"stroke-width":Ht},Ce);Rt["zone-graph-"+me];)Rt["zone-graph-"+me].animate(Dt,Ce),me+=1;Zt||[Rt.group,Rt.markerGroup,Rt.dataLabelsGroup,Rt.labelBySeries].forEach(function(be){be&&be.animate({opacity:Si},Ce)})}qt&&Zt&&Rt.points&&Rt.setAllPointsToState(bt||void 0)},At.prototype.setAllPointsToState=function(bt){this.points.forEach(function(qt){qt.setState&&qt.setState(bt)})},At.prototype.setVisible=function(bt,qt){var Rt=this,Dt=Rt.chart,Bt=Rt.legendItem,Zt=Dt.options.chart.ignoreHiddenSeries,Ce=(Rt.visible=bt=Rt.options.visible=Rt.userOptions.visible=void 0===bt?!Rt.visible:bt)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(Ht){Rt[Ht]&&Rt[Ht][Ce]()}),(Dt.hoverSeries===Rt||(Dt.hoverPoint&&Dt.hoverPoint.series)===Rt)&&Rt.onMouseOut(),Bt&&Dt.legend.colorizeItem(Rt,bt),Rt.isDirty=!0,Rt.options.stacking&&Dt.series.forEach(function(Ht){Ht.options.stacking&&Ht.visible&&(Ht.isDirty=!0)}),Rt.linkedSeries.forEach(function(Ht){Ht.setVisible(bt,!1)}),Zt&&(Dt.isDirtyBox=!0),I(Rt,Ce),!1!==qt&&Dt.redraw()},At.prototype.show=function(){this.setVisible(!0)},At.prototype.hide=function(){this.setVisible(!1)},At.prototype.select=function(bt){this.selected=bt=this.options.selected=void 0===bt?!this.selected:bt,this.checkbox&&(this.checkbox.checked=bt),I(this,bt?"select":"unselect")},At.prototype.shouldShowTooltip=function(bt,qt,Rt){return void 0===Rt&&(Rt={}),Rt.series=this,Rt.visiblePlotOnly=!0,this.chart.isInsidePlot(bt,qt,Rt)},At.defaultOptions=U,At}(),M(E.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:et.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:X,requireSorting:!0,sorted:!0}),at.series=E,E}),ft(dt,"Extensions/ScrollablePlotArea.js",[dt["Core/Animation/AnimationUtilities.js"],dt["Core/Axis/Axis.js"],dt["Core/Chart/Chart.js"],dt["Core/Series/Series.js"],dt["Core/Renderer/RendererRegistry.js"],dt["Core/Utilities.js"]],function(E,K,Y,ct,et,X){var U=E.stop,at=X.addEvent,V=X.createElement,$=X.merge,H=X.pick;at(Y,"afterSetChartSize",function(G){var J=this.options.chart.scrollablePlotArea,z=J&&J.minWidth;if(J=J&&J.minHeight,!this.renderer.forExport){if(z){if(this.scrollablePixelsX=z=Math.max(0,z-this.chartWidth)){this.scrollablePlotBox=this.renderer.scrollablePlotBox=$(this.plotBox),this.plotBox.width=this.plotWidth+=z,this.inverted?this.clipBox.height+=z:this.clipBox.width+=z;var nt={1:{name:"right",value:z}}}}else J&&(this.scrollablePixelsY=z=Math.max(0,J-this.chartHeight))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=$(this.plotBox),this.plotBox.height=this.plotHeight+=z,this.inverted?this.clipBox.width+=z:this.clipBox.height+=z,nt={2:{name:"bottom",value:z}});nt&&!G.skipAxes&&this.axes.forEach(function(Q){nt[Q.side]?Q.getPlotLinePath=function(){var lt=nt[Q.side].name,_t=this[lt];this[lt]=_t-nt[Q.side].value;var Ct=K.prototype.getPlotLinePath.apply(this,arguments);return this[lt]=_t,Ct}:(Q.setAxisSize(),Q.setAxisTranslation())})}}),at(Y,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),Y.prototype.setUpScrolling=function(){var G=this,J={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(J.overflowX="auto"),this.scrollablePixelsY&&(J.overflowY="auto"),this.scrollingParent=V("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=V("div",{className:"highcharts-scrolling"},J,this.scrollingParent),at(this.scrollingContainer,"scroll",function(){G.pointer&&delete G.pointer.chartPosition}),this.innerContainer=V("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},Y.prototype.moveFixedElements=function(){var nt,G=this.container,J=this.fixedRenderer,z=".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?nt=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?nt=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(nt=".highcharts-yaxis"),nt&&z.push(nt+":not(.highcharts-radial-axis)",nt+"-labels:not(.highcharts-radial-axis-labels)"),z.forEach(function(Q){[].forEach.call(G.querySelectorAll(Q),function(lt){(lt.namespaceURI===J.SVG_NS?J.box:J.box.parentNode).appendChild(lt),lt.style.pointerEvents="auto"})})},Y.prototype.applyFixed=function(){var G=!this.fixedDiv,J=this.options.chart,z=J.scrollablePlotArea,nt=et.getRendererType();G?(this.fixedDiv=V("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(J.style&&J.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=J=new nt(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=J.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":H(z.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),at(this,"afterShowResetZoom",this.moveFixedElements),at(this,"afterDrilldown",this.moveFixedElements),at(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||G)&&(this.scrollableDirty=!1,this.moveFixedElements()),J=this.chartWidth+(this.scrollablePixelsX||0),nt=this.chartHeight+(this.scrollablePixelsY||0),U(this.container),this.container.style.width=J+"px",this.container.style.height=nt+"px",this.renderer.boxWrapper.attr({width:J,height:nt,viewBox:[0,0,J,nt].join(" ")}),this.chartBackground.attr({width:J,height:nt}),this.scrollingContainer.style.height=this.chartHeight+"px",G&&(z.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*z.scrollPositionX),z.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*z.scrollPositionY)),G=this.plotTop-(nt=this.axisOffset)[0]-1,z=this.plotLeft-nt[3]-1,J=this.plotTop+this.plotHeight+nt[2]+1,nt=this.plotLeft+this.plotWidth+nt[1]+1;var Q=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),lt=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);G=this.scrollablePixelsX?[["M",0,G],["L",this.plotLeft-1,G],["L",this.plotLeft-1,J],["L",0,J],["Z"],["M",Q,G],["L",this.chartWidth,G],["L",this.chartWidth,J],["L",Q,J],["Z"]]:this.scrollablePixelsY?[["M",z,0],["L",z,this.plotTop-1],["L",nt,this.plotTop-1],["L",nt,0],["Z"],["M",z,lt],["L",z,this.chartHeight],["L",nt,this.chartHeight],["L",nt,lt],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:G})},at(K,"afterInit",function(){this.chart.scrollableDirty=!0}),at(ct,"show",function(){this.chart.scrollableDirty=!0})}),ft(dt,"Core/Axis/StackingAxis.js",[dt["Core/Animation/AnimationUtilities.js"],dt["Core/Axis/Axis.js"],dt["Core/Utilities.js"]],function(E,K,Y){var $,ct=E.getDeferredAnimation,et=Y.addEvent,X=Y.destroyObjectProperties,U=Y.fireEvent,at=Y.isNumber,V=Y.objectEach;return function(H){function G(){var Q=this.stacking;if(Q){var lt=Q.stacks;V(lt,function(_t,Ct){X(_t),lt[Ct]=null}),Q&&Q.stackTotalGroup&&Q.stackTotalGroup.destroy()}}function J(){this.stacking||(this.stacking=new nt(this))}var z=[];H.compose=function(Q){return-1===z.indexOf(Q)&&(z.push(Q),et(Q,"init",J),et(Q,"destroy",G)),Q};var nt=function(){function Q(lt){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=lt}return Q.prototype.buildStacks=function(){var Et,lt=this.axis,_t=lt.series,Ct=lt.options.reversedStacks,kt=_t.length;if(!lt.isXAxis){for(this.usePercentage=!1,Et=kt;Et--;){var St=_t[Ct?Et:kt-Et-1];St.setStackedPoints(),St.setGroupedPoints()}for(Et=0;Et<kt;Et++)_t[Et].modifyStacks();U(lt,"afterBuildStacks")}},Q.prototype.cleanStacks=function(){if(!this.axis.isXAxis){if(this.oldStacks)var lt=this.stacks=this.oldStacks;V(lt,function(_t){V(_t,function(Ct){Ct.cumulative=Ct.total})})}},Q.prototype.resetStacks=function(){var lt=this;lt.axis.isXAxis||V(lt.stacks,function(Ct){V(Ct,function(kt,Et){at(kt.touched)&&kt.touched<lt.stacksTouched?(kt.destroy(),delete Ct[Et]):(kt.total=null,kt.cumulative=null)})})},Q.prototype.renderStackTotals=function(){var lt=this.axis,_t=lt.chart,Ct=_t.renderer,kt=this.stacks;lt=ct(_t,lt.options.stackLabels&&lt.options.stackLabels.animation||!1);var Et=this.stackTotalGroup=this.stackTotalGroup||Ct.g("stack-labels").attr({visibility:"visible",zIndex:6,opacity:0}).add();Et.translate(_t.plotLeft,_t.plotTop),V(kt,function(St){V(St,function(R){R.render(Et)})}),Et.animate({opacity:1},lt)},Q}();H.Additions=nt}($||($={})),$}),ft(dt,"Extensions/Stacking.js",[dt["Core/Axis/Axis.js"],dt["Core/Chart/Chart.js"],dt["Core/FormatUtilities.js"],dt["Core/Globals.js"],dt["Core/Series/Series.js"],dt["Core/Axis/StackingAxis.js"],dt["Core/Utilities.js"]],function(E,K,Y,ct,et,X,U){var at=Y.format,V=U.correctFloat,$=U.defined,H=U.destroyObjectProperties,G=U.isArray,J=U.isNumber,z=U.objectEach,nt=U.pick,Q=function(){function lt(_t,Ct,kt,Et,St){var R=_t.chart.inverted;this.axis=_t,this.isNegative=kt,this.options=Ct=Ct||{},this.x=Et,this.total=null,this.points={},this.hasValidPoints=!1,this.stack=St,this.rightCliff=this.leftCliff=0,this.alignOptions={align:Ct.align||(R?kt?"left":"right":"center"),verticalAlign:Ct.verticalAlign||(R?"middle":kt?"bottom":"top"),y:Ct.y,x:Ct.x},this.textAlign=Ct.textAlign||(R?kt?"right":"left":"center")}return lt.prototype.destroy=function(){H(this,this.axis)},lt.prototype.render=function(_t){var Ct=this.axis.chart,kt=this.options,Et=kt.format;Et=Et?at(Et,this,Ct):kt.formatter.call(this),this.label?this.label.attr({text:Et,visibility:"hidden"}):(this.label=Ct.renderer.label(Et,null,null,kt.shape,null,null,kt.useHTML,!1,"stack-labels"),Et={r:kt.borderRadius||0,text:Et,rotation:kt.rotation,padding:nt(kt.padding,5),visibility:"hidden"},Ct.styledMode||(Et.fill=kt.backgroundColor,Et.stroke=kt.borderColor,Et["stroke-width"]=kt.borderWidth,this.label.css(kt.style)),this.label.attr(Et),this.label.added||this.label.add(_t)),this.label.labelrank=Ct.plotSizeY},lt.prototype.setOffset=function(_t,Ct,kt,Et,St){var R=this.axis,u=R.chart;Et=R.translate(R.stacking.usePercentage?100:Et||this.total,0,0,0,1),kt=R.translate(kt||0),kt=$(Et)&&Math.abs(Et-kt),_t=nt(St,u.xAxis[0].translate(this.x))+_t,R=$(Et)&&this.getStackBox(u,this,_t,Et,Ct,kt,R),Ct=this.label,kt=this.isNegative,_t="justify"===nt(this.options.overflow,"justify");var m=this.textAlign;Ct&&R&&(St=Ct.getBBox(),Et=Ct.padding,m="left"===m?u.inverted?-Et:Et:"right"===m?St.width:u.inverted&&"center"===m?St.width/2:u.inverted?kt?St.width+Et:-Et:St.width/2,kt=u.inverted?St.height/2:kt?-Et:St.height,this.alignOptions.x=nt(this.options.x,0),this.alignOptions.y=nt(this.options.y,0),R.x-=m,R.y-=kt,Ct.align(this.alignOptions,null,R),u.isInsidePlot(Ct.alignAttr.x+m-this.alignOptions.x,Ct.alignAttr.y+kt-this.alignOptions.y)?Ct.show():(Ct.alignAttr.y=-9999,_t=!1),_t&&et.prototype.justifyDataLabel.call(this.axis,Ct,this.alignOptions,Ct.alignAttr,St,R),Ct.attr({x:Ct.alignAttr.x,y:Ct.alignAttr.y}),nt(!_t&&this.options.crop,!0)&&((u=J(Ct.x)&&J(Ct.y)&&u.isInsidePlot(Ct.x-Et+Ct.width,Ct.y)&&u.isInsidePlot(Ct.x+Et,Ct.y))||Ct.hide()))},lt.prototype.getStackBox=function(_t,Ct,kt,Et,St,R,u){var m=Ct.axis.reversed,y=_t.inverted,v=u.height+u.pos-(y?_t.plotLeft:_t.plotTop);return Ct=Ct.isNegative&&!m||!Ct.isNegative&&m,{x:y?Ct?Et-u.right:Et-R+u.pos-_t.plotLeft:kt+_t.xAxis[0].transB-_t.plotLeft,y:y?u.height-kt-St:Ct?v-Et-R:v-Et,width:y?R:St,height:y?St:R}},lt}();return K.prototype.getStacks=function(){var lt=this,_t=lt.inverted;lt.yAxis.forEach(function(Ct){Ct.stacking&&Ct.stacking.stacks&&Ct.hasVisibleSeries&&(Ct.stacking.oldStacks=Ct.stacking.stacks)}),lt.series.forEach(function(Ct){var kt=Ct.xAxis&&Ct.xAxis.options||{};!Ct.options.stacking||!0!==Ct.visible&&!1!==lt.options.chart.ignoreHiddenSeries||(Ct.stackKey=[Ct.type,nt(Ct.options.stack,""),_t?kt.top:kt.left,_t?kt.height:kt.width].join())})},X.compose(E),et.prototype.setGroupedPoints=function(){var lt=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?et.prototype.setStackedPoints.call(this,"group"):lt&&z(lt.stacks,function(_t,Ct){"group"===Ct.slice(-5)&&(z(_t,function(kt){return kt.destroy()}),delete lt.stacks[Ct])})},et.prototype.setStackedPoints=function(lt){var _t=lt||this.options.stacking;if(_t&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var Ct=this.processedXData,kt=this.processedYData,Et=[],St=kt.length,R=this.options,u=R.threshold,m=nt(R.startFromThreshold&&u,0);R=R.stack;var C,p,y="-"+(lt=lt?this.type+","+_t:this.stackKey),v=this.negStacks,M=this.yAxis,S=M.stacking.stacks,I=M.stacking.oldStacks;for(M.stacking.stacksTouched+=1,p=0;p<St;p++){var T=Ct[p],it=kt[p],Z=this.getStackIndicator(Z,T,this.index),W=Z.key,yt=(C=v&&it<(m?0:u))?y:lt;S[yt]||(S[yt]={}),S[yt][T]||(I[yt]&&I[yt][T]?(S[yt][T]=I[yt][T],S[yt][T].total=null):S[yt][T]=new Q(M,M.options.stackLabels,C,T,R)),yt=S[yt][T],null!==it?(yt.points[W]=yt.points[this.index]=[nt(yt.cumulative,m)],$(yt.cumulative)||(yt.base=W),yt.touched=M.stacking.stacksTouched,0<Z.index&&!1===this.singleStacks&&(yt.points[W][0]=yt.points[this.index+","+T+",0"][0])):yt.points[W]=yt.points[this.index]=null,"percent"===_t?(C=C?lt:y,yt.total=v&&S[C]&&S[C][T]?(C=S[C][T]).total=Math.max(C.total,yt.total)+Math.abs(it)||0:V(yt.total+(Math.abs(it)||0))):"group"===_t?(G(it)&&(it=it[0]),null!==it&&(yt.total=(yt.total||0)+1)):yt.total=V(yt.total+(it||0)),yt.cumulative="group"===_t?(yt.total||1)-1:nt(yt.cumulative,m)+(it||0),null!==it&&(yt.points[W].push(yt.cumulative),Et[p]=yt.cumulative,yt.hasValidPoints=!0)}"percent"===_t&&(M.stacking.usePercentage=!0),"group"!==_t&&(this.stackedYData=Et),M.stacking.oldStacks={}}},et.prototype.modifyStacks=function(){var Et,lt=this,_t=lt.stackKey,Ct=lt.yAxis.stacking.stacks,kt=lt.processedXData,St=lt.options.stacking;lt[St+"Stacker"]&&[_t,"-"+_t].forEach(function(R){for(var m,y,u=kt.length;u--;)Et=lt.getStackIndicator(Et,m=kt[u],lt.index,R),(y=(m=Ct[R]&&Ct[R][m])&&m.points[Et.key])&&lt[St+"Stacker"](y,m,u)})},et.prototype.percentStacker=function(lt,_t,Ct){lt[0]=V(lt[0]*(_t=_t.total?100/_t.total:0)),lt[1]=V(lt[1]*_t),this.stackedYData[Ct]=lt[1]},et.prototype.getStackIndicator=function(lt,_t,Ct,kt){return!$(lt)||lt.x!==_t||kt&&lt.key!==kt?lt={x:_t,index:0,key:kt}:lt.index++,lt.key=[Ct,_t,lt.index].join(),lt},ct.StackItem=Q,ct.StackItem}),ft(dt,"Series/Line/LineSeries.js",[dt["Core/Series/Series.js"],dt["Core/Series/SeriesRegistry.js"],dt["Core/Utilities.js"]],function(E,K,Y){var U,ct=this&&this.__extends||(U=function(at,V){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,H){$.__proto__=H}||function($,H){for(var G in H)H.hasOwnProperty(G)&&($[G]=H[G])})(at,V)},function(at,V){function $(){this.constructor=at}U(at,V),at.prototype=null===V?Object.create(V):($.prototype=V.prototype,new $)}),et=Y.defined,X=Y.merge;return Y=function(U){function at(){var V=null!==U&&U.apply(this,arguments)||this;return V.data=void 0,V.options=void 0,V.points=void 0,V}return ct(at,U),at.prototype.drawGraph=function(){var V=this,$=this.options,H=(this.gappedPath||this.getGraphPath).call(this),G=this.chart.styledMode,J=[["graph","highcharts-graph"]];G||J[0].push($.lineColor||this.color||"#cccccc",$.dashStyle),(J=V.getZonesGraphs(J)).forEach(function(z,nt){var Q=z[0],lt=V[Q],_t=lt?"animate":"attr";lt?(lt.endX=V.preventGraphAnimation?null:H.xMap,lt.animate({d:H})):H.length&&(V[Q]=lt=V.chart.renderer.path(H).addClass(z[1]).attr({zIndex:1}).add(V.group)),lt&&!G&&(Q={stroke:z[2],"stroke-width":$.lineWidth,fill:V.fillGraph&&V.color||"none"},z[3]?Q.dashstyle=z[3]:"square"!==$.linecap&&(Q["stroke-linecap"]=Q["stroke-linejoin"]="round"),lt[_t](Q).shadow(2>nt&&$.shadow)),lt&&(lt.startX=H.xMap,lt.isArea=H.isArea)})},at.prototype.getGraphPath=function(V,$,H){var Q,G=this,J=G.options,z=[],nt=[],lt=J.step,_t=(V=V||G.points).reversed;return _t&&V.reverse(),(lt={right:1,center:2}[lt]||lt&&3)&&_t&&(lt=4-lt),(V=this.getValidPoints(V,!1,!(J.connectNulls&&!$&&!H))).forEach(function(Ct,kt){var Et=Ct.plotX,St=Ct.plotY,R=V[kt-1];(Ct.leftCliff||R&&R.rightCliff)&&!H&&(Q=!0),Ct.isNull&&!et($)&&0<kt?Q=!J.connectNulls:Ct.isNull&&!$?Q=!0:(0===kt||Q?kt=[["M",Ct.plotX,Ct.plotY]]:G.getPointSpline?kt=[G.getPointSpline(V,Ct,kt)]:lt?(kt=1===lt?[["L",R.plotX,St]]:2===lt?[["L",(R.plotX+Et)/2,R.plotY],["L",(R.plotX+Et)/2,St]]:[["L",Et,R.plotY]]).push(["L",Et,St]):kt=[["L",Et,St]],nt.push(Ct.x),lt&&(nt.push(Ct.x),2===lt&&nt.push(Ct.x)),z.push.apply(z,kt),Q=!1)}),z.xMap=nt,G.graphPath=z},at.prototype.getZonesGraphs=function(V){return this.zones.forEach(function($,H){H=["zone-graph-"+H,"highcharts-graph highcharts-zone-graph-"+H+" "+($.className||"")],this.chart.styledMode||H.push($.color||this.color,$.dashStyle||this.options.dashStyle),V.push(H)},this),V},at.defaultOptions=X(E.defaultOptions,{}),at}(E),K.registerSeriesType("line",Y),Y}),ft(dt,"Series/Area/AreaSeries.js",[dt["Core/Color/Color.js"],dt["Core/Legend/LegendSymbol.js"],dt["Core/Series/SeriesRegistry.js"],dt["Core/Utilities.js"]],function(E,K,Y,ct){var H,et=this&&this.__extends||(H=function(G,J){return(H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,nt){z.__proto__=nt}||function(z,nt){for(var Q in nt)nt.hasOwnProperty(Q)&&(z[Q]=nt[Q])})(G,J)},function(G,J){function z(){this.constructor=G}H(G,J),G.prototype=null===J?Object.create(J):(z.prototype=J.prototype,new z)}),X=E.parse,U=Y.seriesTypes.line;E=ct.extend;var at=ct.merge,V=ct.objectEach,$=ct.pick;return ct=function(H){function G(){var J=null!==H&&H.apply(this,arguments)||this;return J.data=void 0,J.options=void 0,J.points=void 0,J}return et(G,H),G.prototype.drawGraph=function(){this.areaPath=[],H.prototype.drawGraph.apply(this);var J=this,z=this.areaPath,nt=this.options,Q=[["area","highcharts-area",this.color,nt.fillColor]];this.zones.forEach(function(lt,_t){Q.push(["zone-area-"+_t,"highcharts-area highcharts-zone-area-"+_t+" "+lt.className,lt.color||J.color,lt.fillColor||nt.fillColor])}),Q.forEach(function(lt){var _t=lt[0],Ct=J[_t],kt=Ct?"animate":"attr",Et={};Ct?(Ct.endX=J.preventGraphAnimation?null:z.xMap,Ct.animate({d:z})):(Et.zIndex=0,(Ct=J[_t]=J.chart.renderer.path(z).addClass(lt[1]).add(J.group)).isArea=!0),J.chart.styledMode||(Et.fill=$(lt[3],X(lt[2]).setOpacity($(nt.fillOpacity,.75)).get())),Ct[kt](Et),Ct.startX=z.xMap,Ct.shiftUnit=nt.step?2:1})},G.prototype.getGraphPath=function(J){var _t,z=U.prototype.getGraphPath,nt=this.options,Q=nt.stacking,lt=this.yAxis,Ct=[],kt=[],Et=this.index,St=lt.stacking.stacks[this.stackKey],R=nt.threshold,u=Math.round(lt.getThreshold(nt.threshold));nt=$(nt.connectNulls,"percent"===Q);var m=function(S,I,C){var p=J[S];S=Q&&St[p.x].points[Et];var T=p[C+"Null"]||0;if(C=p[C+"Cliff"]||0,p=!0,C||T){var it=(T?S[0]:S[1])+C,Z=S[0]+C;p=!!T}else!Q&&J[I]&&J[I].isNull&&(it=Z=R);void 0!==it&&(kt.push({plotX:v,plotY:null===it?u:lt.getThreshold(it),isNull:p,isCliff:!0}),Ct.push({plotX:v,plotY:null===Z?u:lt.getThreshold(Z),doCurve:!1}))};for(J=J||this.points,Q&&(J=this.getStackPoints(J)),_t=0;_t<J.length;_t++){Q||(J[_t].leftCliff=J[_t].rightCliff=J[_t].leftNull=J[_t].rightNull=void 0);var y=J[_t].isNull,v=$(J[_t].rectPlotX,J[_t].plotX),M=Q?$(J[_t].yBottom,u):u;(!y||nt)&&(nt||m(_t,_t-1,"left"),y&&!Q&&nt||(kt.push(J[_t]),Ct.push({x:_t,plotX:v,plotY:M})),nt||m(_t,_t+1,"right"))}return _t=z.call(this,kt,!0,!0),Ct.reversed=!0,(M=(y=z.call(this,Ct,!0,!0))[0])&&"M"===M[0]&&(y[0]=["L",M[1],M[2]]),(y=_t.concat(y)).length&&y.push(["Z"]),z=z.call(this,kt,!1,nt),y.xMap=_t.xMap,this.areaPath=y,z},G.prototype.getStackPoints=function(J){var z=this,nt=[],Q=[],lt=this.xAxis,_t=this.yAxis,Ct=_t.stacking.stacks[this.stackKey],kt={},Et=_t.series,St=Et.length,R=_t.options.reversedStacks?1:-1,u=Et.indexOf(z);if(J=J||this.points,this.options.stacking){for(var m=0;m<J.length;m++)J[m].leftNull=J[m].rightNull=void 0,kt[J[m].x]=J[m];V(Ct,function(v,M){null!==v.total&&Q.push(M)}),Q.sort(function(v,M){return v-M});var y=Et.map(function(v){return v.visible});Q.forEach(function(v,M){var I,C,S=0;if(kt[v]&&!kt[v].isNull)nt.push(kt[v]),[-1,1].forEach(function(T){var it=1===T?"rightNull":"leftNull",Z=0,W=Ct[Q[M+T]];if(W)for(var yt=u;0<=yt&&yt<St;){var wt=Et[yt].index;(I=W.points[wt])||(wt===z.index?kt[v][it]=!0:y[yt]&&(C=Ct[v].points[wt])&&(Z-=C[1]-C[0])),yt+=R}kt[v][1===T?"rightCliff":"leftCliff"]=Z});else{for(var p=u;0<=p&&p<St;){if(I=Ct[v].points[Et[p].index]){S=I[1];break}p+=R}S=$(S,0),S=_t.translate(S,0,1,0,1),nt.push({isNull:!0,plotX:lt.translate(v,0,0,0,1),x:v,plotY:S,yBottom:S})}})}return nt},G.defaultOptions=at(U.defaultOptions,{threshold:0}),G}(U),E(ct.prototype,{singleStacks:!1,drawLegendSymbol:K.drawRectangle}),Y.registerSeriesType("area",ct),ct}),ft(dt,"Series/Spline/SplineSeries.js",[dt["Core/Series/SeriesRegistry.js"],dt["Core/Utilities.js"]],function(E,K){var U,Y=this&&this.__extends||(U=function(at,V){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,H){$.__proto__=H}||function($,H){for(var G in H)H.hasOwnProperty(G)&&($[G]=H[G])})(at,V)},function(at,V){function $(){this.constructor=at}U(at,V),at.prototype=null===V?Object.create(V):($.prototype=V.prototype,new $)}),ct=E.seriesTypes.line,et=K.merge,X=K.pick;return K=function(U){function at(){var V=null!==U&&U.apply(this,arguments)||this;return V.data=void 0,V.options=void 0,V.points=void 0,V}return Y(at,U),at.prototype.getPointSpline=function(V,$,H){var G=$.plotX||0,J=$.plotY||0,z=V[H-1];if(H=V[H+1],z&&!z.isNull&&!1!==z.doCurve&&!$.isCliff&&H&&!H.isNull&&!1!==H.doCurve&&!$.isCliff){var nt=H.plotX||0,Q=0,lt=(1.5*G+(z.plotX||0))/2.5,_t=(1.5*J+(V=z.plotY||0))/2.5,Ct=(1.5*J+(H=H.plotY||0))/2.5;(nt=(1.5*G+nt)/2.5)!==lt&&(Q=(Ct-_t)*(nt-G)/(nt-lt)+J-Ct),Ct+=Q,(_t+=Q)>V&&_t>J?Ct=2*J-(_t=Math.max(V,J)):_t<V&&_t<J&&(Ct=2*J-(_t=Math.min(V,J))),Ct>H&&Ct>J?_t=2*J-(Ct=Math.max(H,J)):Ct<H&&Ct<J&&(_t=2*J-(Ct=Math.min(H,J))),$.rightContX=nt,$.rightContY=Ct}return $=["C",X(z.rightContX,z.plotX,0),X(z.rightContY,z.plotY,0),X(lt,G,0),X(_t,J,0),G,J],z.rightContX=z.rightContY=void 0,$},at.defaultOptions=et(ct.defaultOptions),at}(ct),E.registerSeriesType("spline",K),K}),ft(dt,"Series/AreaSpline/AreaSplineSeries.js",[dt["Series/Area/AreaSeries.js"],dt["Series/Spline/SplineSeries.js"],dt["Core/Legend/LegendSymbol.js"],dt["Core/Series/SeriesRegistry.js"],dt["Core/Utilities.js"]],function(E,K,Y,ct,et){var $,X=this&&this.__extends||($=function(H,G){return($=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,z){J.__proto__=z}||function(J,z){for(var nt in z)z.hasOwnProperty(nt)&&(J[nt]=z[nt])})(H,G)},function(H,G){function J(){this.constructor=H}$(H,G),H.prototype=null===G?Object.create(G):(J.prototype=G.prototype,new J)}),U=E.prototype,at=et.extend,V=et.merge;return et=function($){function H(){var G=null!==$&&$.apply(this,arguments)||this;return G.data=void 0,G.points=void 0,G.options=void 0,G}return X(H,$),H.defaultOptions=V(K.defaultOptions,E.defaultOptions),H}(K),at(et.prototype,{getGraphPath:U.getGraphPath,getStackPoints:U.getStackPoints,drawGraph:U.drawGraph,drawLegendSymbol:Y.drawRectangle}),ct.registerSeriesType("areaspline",et),et}),ft(dt,"Series/Column/ColumnSeries.js",[dt["Core/Animation/AnimationUtilities.js"],dt["Core/Color/Color.js"],dt["Core/Globals.js"],dt["Core/Legend/LegendSymbol.js"],dt["Core/Series/Series.js"],dt["Core/Series/SeriesRegistry.js"],dt["Core/Utilities.js"]],function(E,K,Y,ct,et,X,U){var St,at=this&&this.__extends||(St=function(R,u){return(St=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var v in y)y.hasOwnProperty(v)&&(m[v]=y[v])})(R,u)},function(R,u){function m(){this.constructor=R}St(R,u),R.prototype=null===u?Object.create(u):(m.prototype=u.prototype,new m)}),V=E.animObject,$=K.parse,H=Y.hasTouch;E=Y.noop;var G=U.clamp,J=U.css,z=U.defined,nt=U.extend,Q=U.fireEvent,lt=U.isArray,_t=U.isNumber,Ct=U.merge,kt=U.pick,Et=U.objectEach;return U=function(St){function R(){var u=null!==St&&St.apply(this,arguments)||this;return u.borderWidth=void 0,u.data=void 0,u.group=void 0,u.options=void 0,u.points=void 0,u}return at(R,St),R.prototype.animate=function(u){var m=this,y=this.yAxis,v=m.options,M=this.chart.inverted,S={},I=M?"translateX":"translateY";if(u)S.scaleY=.001,u=G(y.toPixels(v.threshold),y.pos,y.pos+y.len),M?S.translateX=u-y.len:S.translateY=u,m.clipBox&&m.setClip(),m.group.attr(S);else{var C=Number(m.group.attr(I));m.group.animate({scaleY:1},nt(V(m.options.animation),{step:function(p,T){m.group&&(S[I]=C+T.pos*(y.pos-C),m.group.attr(S))}}))}},R.prototype.init=function(u,m){St.prototype.init.apply(this,arguments);var y=this;(u=y.chart).hasRendered&&u.series.forEach(function(v){v.type===y.type&&(v.isDirty=!0)})},R.prototype.getColumnMetrics=function(){var u=this,m=u.options,y=u.xAxis,v=u.yAxis,M=y.options.reversedStacks;M=y.reversed&&!M||!y.reversed&&M;var I,S={},C=0;!1===m.grouping?C=1:u.chart.series.forEach(function(Z){var W=Z.yAxis,yt=Z.options;if(Z.type===u.type&&(Z.visible||!u.chart.options.chart.ignoreHiddenSeries)&&v.len===W.len&&v.pos===W.pos){if(yt.stacking&&"group"!==yt.stacking){void 0===S[I=Z.stackKey]&&(S[I]=C++);var wt=S[I]}else!1!==yt.grouping&&(wt=C++);Z.columnIndex=wt}});var p=Math.min(Math.abs(y.transA)*(y.ordinal&&y.ordinal.slope||m.pointRange||y.closestPointRange||y.tickInterval||1),y.len),T=p*m.groupPadding,it=(p-2*T)/(C||1);return m=Math.min(m.maxPointWidth||y.len,kt(m.pointWidth,it*(1-2*m.pointPadding))),u.columnMetrics={width:m,offset:(it-m)/2+(T+((u.columnIndex||0)+(M?1:0))*it-p/2)*(M?-1:1),paddedWidth:it,columnCount:C},u.columnMetrics},R.prototype.crispCol=function(u,m,y,v){var M=this.chart,S=this.borderWidth,I=-(S%2?.5:0);return S=S%2?.5:1,M.inverted&&M.renderer.isVML&&(S+=1),this.options.crisp&&(y=Math.round(u+y)+I,y-=u=Math.round(u)+I),v=Math.round(m+v)+S,I=.5>=Math.abs(m)&&.5<v,v-=m=Math.round(m)+S,I&&v&&(--m,v+=1),{x:u,y:m,width:y,height:v}},R.prototype.adjustForMissingColumns=function(u,m,y,v){var M=this,S=this.options.stacking;if(!y.isNull&&1<v.columnCount){var I=0,C=0;Et(this.yAxis.stacking&&this.yAxis.stacking.stacks,function(p){if("number"==typeof y.x&&(p=p[y.x.toString()])){var T=p.points[M.index],it=p.total;S?(T&&(I=C),p.hasValidPoints&&C++):lt(T)&&(I=T[1],C=it||0)}}),u=(y.plotX||0)+((C-1)*v.paddedWidth+m)/2-m-I*v.paddedWidth}return u},R.prototype.translate=function(){var u=this,m=u.chart,y=u.options,v=u.dense=2>u.closestPointRange*u.xAxis.transA;v=u.borderWidth=kt(y.borderWidth,v?0:1);var M=u.xAxis,S=u.yAxis,I=y.threshold,C=u.translatedThreshold=S.getThreshold(I),p=kt(y.minPointLength,5),T=u.getColumnMetrics(),it=T.width,Z=u.pointXOffset=T.offset,W=u.dataMin,yt=u.dataMax,wt=u.barW=Math.max(it,1+2*v);m.inverted&&(C-=.5),y.pointPadding&&(wt=Math.ceil(wt)),et.prototype.translate.apply(u),u.points.forEach(function(Vt){var Ut=kt(Vt.yBottom,C),At=999+Math.abs(Ut),bt=Vt.plotX||0;At=G(Vt.plotY,-At,S.len+At);var qt=Math.min(At,Ut),Rt=Math.max(At,Ut)-qt,Dt=it,Bt=bt+Z,Zt=wt;p&&Math.abs(Rt)<p&&(Rt=p,bt=!S.reversed&&!Vt.negative||S.reversed&&Vt.negative,_t(I)&&_t(yt)&&Vt.y===I&&yt<=I&&(S.min||0)<I&&(W!==yt||(S.max||0)<=I)&&(bt=!bt),qt=Math.abs(qt-C)>p?Ut-p:C-(bt?p:0)),z(Vt.options.pointWidth)&&(Dt=Zt=Math.ceil(Vt.options.pointWidth),Bt-=Math.round((Dt-it)/2)),y.centerInCategory&&(Bt=u.adjustForMissingColumns(Bt,Dt,Vt,T)),Vt.barX=Bt,Vt.pointWidth=Dt,Vt.tooltipPos=m.inverted?[G(S.len+S.pos-m.plotLeft-At,S.pos-m.plotLeft,S.len+S.pos-m.plotLeft),M.len+M.pos-m.plotTop-Bt-Zt/2,Rt]:[M.left-m.plotLeft+Bt+Zt/2,G(At+S.pos-m.plotTop,S.pos-m.plotTop,S.len+S.pos-m.plotTop),Rt],Vt.shapeType=u.pointClass.prototype.shapeType||"rect",Vt.shapeArgs=u.crispCol.apply(u,Vt.isNull?[Bt,C,Zt,0]:[Bt,qt,Zt,Rt])})},R.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},R.prototype.pointAttribs=function(u,m){var y=this.options,v=this.pointAttrToOptions||{},M=v.stroke||"borderColor",S=v["stroke-width"]||"borderWidth",I=u&&u.color||this.color,C=u&&u[M]||y[M]||I;v=u&&u.options.dashStyle||y.dashStyle;var p=u&&u[S]||y[S]||this[S]||0,T=kt(u&&u.opacity,y.opacity,1);if(u&&this.zones.length){var it=u.getZone();I=u.options.color||it&&(it.color||u.nonZonedColor)||this.color,it&&(C=it.borderColor||C,v=it.dashStyle||v,p=it.borderWidth||p)}return m&&u&&(m=(u=Ct(y.states[m],u.options.states&&u.options.states[m]||{})).brightness,I=u.color||void 0!==m&&$(I).brighten(u.brightness).get()||I,C=u[M]||C,p=u[S]||p,v=u.dashStyle||v,T=kt(u.opacity,T)),M={fill:I,stroke:C,"stroke-width":p,opacity:T},v&&(M.dashstyle=v),M},R.prototype.drawPoints=function(){var S,u=this,m=this.chart,y=u.options,v=m.renderer,M=y.animationLimit||250;u.points.forEach(function(I){var C=I.graphic,p=!!C,T=C&&m.pointCount<M?"animate":"attr";_t(I.plotY)&&null!==I.y?(S=I.shapeArgs,C&&I.hasNewShapeType()&&(C=C.destroy()),u.enabledDataSorting&&(I.startXPos=u.xAxis.reversed?-(S&&S.width||0):u.xAxis.width),C||(I.graphic=C=v[I.shapeType](S).add(I.group||u.group))&&u.enabledDataSorting&&m.hasRendered&&m.pointCount<M&&(C.attr({x:I.startXPos}),p=!0,T="animate"),C&&p&&C[T](Ct(S)),y.borderRadius&&C[T]({r:y.borderRadius}),m.styledMode||C[T](u.pointAttribs(I,I.selected&&"select")).shadow(!1!==I.allowShadow&&y.shadow,null,y.stacking&&!y.borderRadius),C&&(C.addClass(I.getClassName(),!0),C.attr({visibility:I.visible?"inherit":"hidden"}))):C&&(I.graphic=C.destroy())})},R.prototype.drawTracker=function(){var M,u=this,m=u.chart,y=m.pointer,v=function(S){var I=y.getPointFromEvent(S);void 0!==I&&(y.isDirectTouch=!0,I.onMouseOver(S))};u.points.forEach(function(S){M=lt(S.dataLabels)?S.dataLabels:S.dataLabel?[S.dataLabel]:[],S.graphic&&(S.graphic.element.point=S),M.forEach(function(I){I.div?I.div.point=S:I.element.point=S})}),u._hasTracking||(u.trackerGroups.forEach(function(S){u[S]&&(u[S].addClass("highcharts-tracker").on("mouseover",v).on("mouseout",function(I){y.onTrackerMouseOut(I)}),H&&u[S].on("touchstart",v),!m.styledMode&&u.options.cursor&&u[S].css(J).css({cursor:u.options.cursor}))}),u._hasTracking=!0),Q(this,"afterDrawTracker")},R.prototype.remove=function(){var u=this,m=u.chart;m.hasRendered&&m.series.forEach(function(y){y.type===u.type&&(y.isDirty=!0)}),et.prototype.remove.apply(u,arguments)},R.defaultOptions=Ct(et.defaultOptions,{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),R}(et),nt(U.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:ct.drawRectangle,getSymbol:E,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),X.registerSeriesType("column",U),U}),ft(dt,"Core/Series/DataLabel.js",[dt["Core/Animation/AnimationUtilities.js"],dt["Core/FormatUtilities.js"],dt["Core/Utilities.js"]],function(E,K,Y){var z,ct=E.getDeferredAnimation,et=K.format,X=Y.defined,U=Y.extend,at=Y.fireEvent,V=Y.isArray,$=Y.merge,H=Y.objectEach,G=Y.pick,J=Y.splat;return function(nt){function Q(R,u,m,y,v){var M=this,S=this.chart,I=this.isCartesian&&S.inverted,C=this.enabledDataSorting,p=G(R.dlBox&&R.dlBox.centerX,R.plotX,-9999),T=G(R.plotY,-9999),it=u.getBBox(),Z=m.rotation,W=m.align,yt=S.isInsidePlot(p,Math.round(T),{inverted:I,paneCoordinates:!0,series:M}),wt=function(bt){C&&M.xAxis&&!Vt&&M.setDataLabelStartPos(R,u,v,yt,bt)},Vt="justify"===G(m.overflow,C?"none":"justify"),Ut=this.visible&&!1!==R.visible&&(R.series.forceDL||C&&!Vt||yt||G(m.inside,!!this.options.stacking)&&y&&S.isInsidePlot(p,I?y.x+1:y.y+y.height-1,{inverted:I,paneCoordinates:!0,series:M}));if(Ut){var At=S.renderer.fontMetrics(S.styledMode?void 0:m.style.fontSize,u).b;y=U({x:I?this.yAxis.len-T:p,y:Math.round(I?this.xAxis.len-p:T),width:0,height:0},y),U(m,{width:it.width,height:it.height}),Z?(Vt=!1,p=S.renderer.rotCorr(At,Z),wt(p={x:y.x+(m.x||0)+y.width/2+p.x,y:y.y+(m.y||0)+{top:0,middle:.5,bottom:1}[m.verticalAlign]*y.height}),u[v?"attr":"animate"](p).attr({align:W}),wt=180<(wt=(Z+720)%360)&&360>wt,"left"===W?p.y-=wt?it.height:0:"center"===W?(p.x-=it.width/2,p.y-=it.height/2):"right"===W&&(p.x-=it.width,p.y-=wt?0:it.height),u.placed=!0,u.alignAttr=p):(wt(y),u.align(m,void 0,y),p=u.alignAttr),Vt&&0<=y.height?this.justifyDataLabel(u,m,p,it,y,v):G(m.crop,!0)&&(Ut=S.isInsidePlot(p.x,p.y,{paneCoordinates:!0,series:M})&&S.isInsidePlot(p.x+it.width,p.y+it.height,{paneCoordinates:!0,series:M})),m.shape&&!Z&&u[v?"attr":"animate"]({anchorX:I?S.plotWidth-R.plotY:R.plotX,anchorY:I?S.plotHeight-R.plotX:R.plotY})}v&&C&&(u.placed=!1),Ut||C&&!Vt||(u.hide(!0),u.placed=!1)}function _t(){var R=this,u=R.chart,m=R.options,y=R.points,v=R.hasRendered||0,M=u.renderer,S=m.dataLabels,C=S.animation;if(C=S.defer?ct(u,C,R):{defer:0,duration:0},S=kt(kt(u.options.plotOptions&&u.options.plotOptions.series&&u.options.plotOptions.series.dataLabels,u.options.plotOptions&&u.options.plotOptions[R.type]&&u.options.plotOptions[R.type].dataLabels),S),at(this,"drawDataLabels"),V(S)||S.enabled||R._hasPointLabels){var p=R.plotGroup("dataLabelsGroup","data-labels",v?"inherit":"hidden",S.zIndex||6);p.attr({opacity:+v}),!v&&(v=R.dataLabelsGroup)&&(R.visible&&p.show(!0),v[m.animation?"animate":"attr"]({opacity:1},C)),y.forEach(function(T){J(kt(S,T.dlOptions||T.options&&T.options.dataLabels)).forEach(function(it,Z){var W=it.enabled&&(!T.isNull||T.dataLabelOnNull)&&function(R,u){var m=u.filter;return!m||(u=m.operator,R=R[m.property],m=m.value,">"===u&&R>m||"<"===u&&R<m||">="===u&&R>=m||"<="===u&&R<=m||"=="===u&&R==m||"==="===u&&R===m)}(T,it),yt=T.connectors?T.connectors[Z]:T.connector,wt=T.dataLabels?T.dataLabels[Z]:T.dataLabel,Vt=G(it.distance,T.labelDistance),Ut=!wt;if(W){var At=T.getLabelConfig(),bt=G(it[T.formatPrefix+"Format"],it.format);At=X(bt)?et(bt,At,u):(it[T.formatPrefix+"Formatter"]||it.formatter).call(At,it),bt=it.style;var qt=it.rotation;u.styledMode||(bt.color=G(it.color,bt.color,R.color,"#000000"),"contrast"===bt.color?(T.contrastColor=M.getContrast(T.color||R.color),bt.color=!X(Vt)&&it.inside||0>Vt||m.stacking?T.contrastColor:"#000000"):delete T.contrastColor,m.cursor&&(bt.cursor=m.cursor));var Rt={r:it.borderRadius||0,rotation:qt,padding:it.padding,zIndex:1};u.styledMode||(Rt.fill=it.backgroundColor,Rt.stroke=it.borderColor,Rt["stroke-width"]=it.borderWidth),H(Rt,function(Dt,Bt){void 0===Dt&&delete Rt[Bt]})}!wt||W&&X(At)?W&&X(At)&&(wt?Rt.text=At:(T.dataLabels=T.dataLabels||[],wt=T.dataLabels[Z]=qt?M.text(At,0,-9999,it.useHTML).addClass("highcharts-data-label"):M.label(At,0,-9999,it.shape,null,null,it.useHTML,null,"data-label"),Z||(T.dataLabel=wt),wt.addClass(" highcharts-data-label-color-"+T.colorIndex+" "+(it.className||"")+(it.useHTML?" highcharts-tracker":""))),wt.options=it,wt.attr(Rt),u.styledMode||wt.css(bt).shadow(it.shadow),wt.added||wt.add(p),it.textPath&&!it.useHTML&&(wt.setTextPath(T.getDataLabelPath&&T.getDataLabelPath(wt)||T.graphic,it.textPath),T.dataLabelPath&&!it.textPath.enabled&&(T.dataLabelPath=T.dataLabelPath.destroy())),R.alignDataLabel(T,wt,it,null,Ut)):(T.dataLabel=T.dataLabel&&T.dataLabel.destroy(),T.dataLabels&&(1===T.dataLabels.length?delete T.dataLabels:delete T.dataLabels[Z]),Z||delete T.dataLabel,yt&&(T.connector=T.connector.destroy(),T.connectors&&(1===T.connectors.length?delete T.connectors:delete T.connectors[Z])))})})}at(this,"afterDrawDataLabels")}function Ct(R,u,m,y,v,M){var S=this.chart,I=u.align,C=u.verticalAlign,p=R.box?0:R.padding||0,T=u.x;T=void 0===T?0:T;var it=u.y;it=void 0===it?0:it;var Z=(m.x||0)+p;if(0>Z){"right"===I&&0<=T?(u.align="left",u.inside=!0):T-=Z;var W=!0}return(Z=(m.x||0)+y.width-p)>S.plotWidth&&("left"===I&&0>=T?(u.align="right",u.inside=!0):T+=S.plotWidth-Z,W=!0),0>(Z=m.y+p)&&("bottom"===C&&0<=it?(u.verticalAlign="top",u.inside=!0):it-=Z,W=!0),(Z=(m.y||0)+y.height-p)>S.plotHeight&&("top"===C&&0>=it?(u.verticalAlign="bottom",u.inside=!0):it+=S.plotHeight-Z,W=!0),W&&(u.x=T,u.y=it,R.placed=!M,R.align(u,void 0,v)),W}function kt(R,u){var y,m=[];if(V(R)&&!V(u))m=R.map(function(v){return $(v,u)});else if(V(u)&&!V(R))m=u.map(function(v){return $(R,v)});else if(V(R)||V(u))for(y=Math.max(R.length,u.length);y--;)m[y]=$(R[y],u[y]);else m=$(R,u);return m}function Et(R,u,m,y,v){var M=this.chart,S=M.inverted,I=this.xAxis,C=I.reversed,p=S?u.height/2:u.width/2;R=(R=R.pointWidth)?R/2:0,u.startXPos=S?v.x:C?-p-R:I.width-p+R,u.startYPos=S?C?this.yAxis.height-p+R:-p-R:v.y,y?"hidden"===u.visibility&&(u.show(),u.attr({opacity:0}).animate({opacity:1})):u.attr({opacity:1}).animate({opacity:0},void 0,u.hide),M.hasRendered&&(m&&u.attr({x:u.startXPos,y:u.startYPos}),u.placed=!0)}var St=[];nt.compose=function(R){if(-1===St.indexOf(R)){var u=R.prototype;St.push(R),u.alignDataLabel=Q,u.drawDataLabels=_t,u.justifyDataLabel=Ct,u.setDataLabelStartPos=Et}}}(z||(z={})),z}),ft(dt,"Series/Column/ColumnDataLabel.js",[dt["Core/Series/DataLabel.js"],dt["Core/Series/SeriesRegistry.js"],dt["Core/Utilities.js"]],function(E,K,Y){var U,ct=K.series,et=Y.merge,X=Y.pick;return function(at){function V(H,G,J,z,nt){var Q=this.chart.inverted,lt=H.series,_t=(lt.xAxis?lt.xAxis.len:this.chart.plotSizeX)||0,Ct=H.dlBox||H.shapeArgs,kt=X(H.below,H.plotY>X(this.translatedThreshold,lt=(lt.yAxis?lt.yAxis.len:this.chart.plotSizeY)||0)),Et=X(J.inside,!!this.options.stacking);Ct&&(0>(z=et(Ct)).y&&(z.height+=z.y,z.y=0),0<(Ct=z.y+z.height-lt)&&Ct<z.height&&(z.height-=Ct),Q&&(z={x:lt-z.y-z.height,y:_t-z.x-z.width,width:z.height,height:z.width}),Et||(Q?(z.x+=kt?0:z.width,z.width=0):(z.y+=kt?z.height:0,z.height=0))),J.align=X(J.align,!Q||Et?"center":kt?"right":"left"),J.verticalAlign=X(J.verticalAlign,Q||Et?"middle":kt?"top":"bottom"),ct.prototype.alignDataLabel.call(this,H,G,J,z,nt),J.inside&&H.contrastColor&&G.css({color:H.contrastColor})}var $=[];at.compose=function(H){E.compose(ct),-1===$.indexOf(H)&&($.push(H),H.prototype.alignDataLabel=V)}}(U||(U={})),U}),ft(dt,"Series/Bar/BarSeries.js",[dt["Series/Column/ColumnSeries.js"],dt["Core/Series/SeriesRegistry.js"],dt["Core/Utilities.js"]],function(E,K,Y){var U,ct=this&&this.__extends||(U=function(at,V){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,H){$.__proto__=H}||function($,H){for(var G in H)H.hasOwnProperty(G)&&($[G]=H[G])})(at,V)},function(at,V){function $(){this.constructor=at}U(at,V),at.prototype=null===V?Object.create(V):($.prototype=V.prototype,new $)}),et=Y.extend,X=Y.merge;return Y=function(U){function at(){var V=null!==U&&U.apply(this,arguments)||this;return V.data=void 0,V.options=void 0,V.points=void 0,V}return ct(at,U),at.defaultOptions=X(E.defaultOptions,{}),at}(E),et(Y.prototype,{inverted:!0}),K.registerSeriesType("bar",Y),Y}),ft(dt,"Series/Scatter/ScatterSeries.js",[dt["Series/Column/ColumnSeries.js"],dt["Series/Line/LineSeries.js"],dt["Core/Series/SeriesRegistry.js"],dt["Core/Utilities.js"]],function(E,K,Y,ct){var V,et=this&&this.__extends||(V=function($,H){return(V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,J){G.__proto__=J}||function(G,J){for(var z in J)J.hasOwnProperty(z)&&(G[z]=J[z])})($,H)},function($,H){function G(){this.constructor=$}V($,H),$.prototype=null===H?Object.create(H):(G.prototype=H.prototype,new G)}),X=ct.addEvent,U=ct.extend,at=ct.merge;return ct=function(V){function $(){var H=null!==V&&V.apply(this,arguments)||this;return H.data=void 0,H.options=void 0,H.points=void 0,H}return et($,V),$.prototype.applyJitter=function(){var H=this,G=this.options.jitter,J=this.points.length;G&&this.points.forEach(function(z,nt){["x","y"].forEach(function(Q,lt){var _t="plot"+Q.toUpperCase();if(G[Q]&&!z.isNull){var Ct=H[Q+"Axis"],kt=G[Q]*Ct.transA;if(Ct&&!Ct.isLog){var Et=Math.max(0,z[_t]-kt);Ct=Math.min(Ct.len,z[_t]+kt),lt=1e4*Math.sin(nt+lt*J),z[_t]=Et+(Ct-Et)*(lt-Math.floor(lt)),"x"===Q&&(z.clientX=z.plotX)}}})})},$.prototype.drawGraph=function(){this.options.lineWidth?V.prototype.drawGraph.call(this):this.graph&&(this.graph=this.graph.destroy())},$.defaultOptions=at(K.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),$}(K),U(ct.prototype,{drawTracker:E.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),X(ct,"afterTranslate",function(){this.applyJitter()}),Y.registerSeriesType("scatter",ct),ct}),ft(dt,"Series/CenteredUtilities.js",[dt["Core/Globals.js"],dt["Core/Series/Series.js"],dt["Core/Utilities.js"]],function(E,K,Y){var at,V,ct=E.deg2rad,et=Y.isNumber,X=Y.pick,U=Y.relativeLength;return(V=at||(at={})).getCenter=function(){var $=this.options,H=this.chart,G=2*($.slicedOffset||0),J=H.plotWidth-2*G,z=H.plotHeight-2*G,nt=$.center,Q=Math.min(J,z),lt=$.size,_t=$.innerSize||0;for("string"==typeof lt&&(lt=parseFloat(lt)),"string"==typeof _t&&(_t=parseFloat(_t)),$=[X(nt[0],"50%"),X(nt[1],"50%"),X(lt&&0>lt?void 0:$.size,"100%"),X(_t&&0>_t?void 0:$.innerSize||0,"0%")],!H.angular||this instanceof K||($[3]=0),nt=0;4>nt;++nt)lt=$[nt],H=2>nt||2===nt&&/%$/.test(lt),$[nt]=U(lt,[J,z,Q,$[2]][nt])+(H?G:0);return $[3]>$[2]&&($[3]=$[2]),$},V.getStartAndEndRadians=function($,H){return $=et($)?$:0,H=et(H)&&H>$&&360>H-$?H:$+360,{start:ct*($+-90),end:ct*(H+-90)}},at}),ft(dt,"Series/Pie/PiePoint.js",[dt["Core/Animation/AnimationUtilities.js"],dt["Core/Series/Point.js"],dt["Core/Utilities.js"]],function(E,K,Y){var H,ct=this&&this.__extends||(H=function(G,J){return(H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,nt){z.__proto__=nt}||function(z,nt){for(var Q in nt)nt.hasOwnProperty(Q)&&(z[Q]=nt[Q])})(G,J)},function(G,J){function z(){this.constructor=G}H(G,J),G.prototype=null===J?Object.create(J):(z.prototype=J.prototype,new z)}),et=E.setAnimation,X=Y.addEvent,U=Y.defined;E=Y.extend;var at=Y.isNumber,V=Y.pick,$=Y.relativeLength;return K=function(H){function G(){var J=null!==H&&H.apply(this,arguments)||this;return J.labelDistance=void 0,J.options=void 0,J.series=void 0,J}return ct(G,H),G.prototype.getConnectorPath=function(){var J=this.labelPosition,z=this.series.options.dataLabels,nt=this.connectorShapes,Q=z.connectorShape;return nt[Q]&&(Q=nt[Q]),Q.call(this,{x:J.final.x,y:J.final.y,alignment:J.alignment},J.connectorPosition,z)},G.prototype.getTranslate=function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},G.prototype.haloPath=function(J){var z=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(z.x,z.y,z.r+J,z.r+J,{innerR:z.r-1,start:z.start,end:z.end})},G.prototype.init=function(){var J=this;H.prototype.init.apply(this,arguments),this.name=V(this.name,"Slice");var z=function(nt){J.slice("select"===nt.type)};return X(this,"select",z),X(this,"unselect",z),this},G.prototype.isValid=function(){return at(this.y)&&0<=this.y},G.prototype.setVisible=function(J,z){var nt=this,Q=this.series,lt=Q.chart,_t=Q.options.ignoreHiddenPoint;z=V(z,_t),J!==this.visible&&(this.visible=this.options.visible=J=void 0===J?!this.visible:J,Q.options.data[Q.data.indexOf(this)]=this.options,["graphic","dataLabel","connector","shadowGroup"].forEach(function(Ct){nt[Ct]&&nt[Ct][J?"show":"hide"](J)}),this.legendItem&&lt.legend.colorizeItem(this,J),J||"hover"!==this.state||this.setState(""),_t&&(Q.isDirty=!0),z&&lt.redraw())},G.prototype.slice=function(J,z,nt){var Q=this.series;et(nt,Q.chart),V(z,!0),this.sliced=this.options.sliced=U(J)?J:!this.sliced,Q.options.data[Q.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},G}(K),E(K.prototype,{connectorShapes:{fixedOffset:function(H,G,J){var z=G.breakAt;return G=G.touchingSliceAt,[["M",H.x,H.y],J.softConnector?["C",H.x+("left"===H.alignment?-5:5),H.y,2*z.x-G.x,2*z.y-G.y,z.x,z.y]:["L",z.x,z.y],["L",G.x,G.y]]},straight:function(H,G){return[["M",H.x,H.y],["L",(G=G.touchingSliceAt).x,G.y]]},crookedLine:function(H,G,J){G=G.touchingSliceAt;var z=this.series,nt=z.center[0],Q=z.chart.plotWidth,lt=z.chart.plotLeft;z=H.alignment;var _t=this.shapeArgs.r;return J=$(J.crookDistance,1),J=["L",Q="left"===z?nt+_t+(Q+lt-nt-_t)*(1-J):lt+(nt-_t)*J,H.y],nt=!0,("left"===z?Q>H.x||Q<G.x:Q<H.x||Q>G.x)&&(nt=!1),H=[["M",H.x,H.y]],nt&&H.push(J),H.push(["L",G.x,G.y]),H}}}),K}),ft(dt,"Series/Pie/PieSeries.js",[dt["Series/CenteredUtilities.js"],dt["Series/Column/ColumnSeries.js"],dt["Core/Globals.js"],dt["Core/Legend/LegendSymbol.js"],dt["Series/Pie/PiePoint.js"],dt["Core/Series/Series.js"],dt["Core/Series/SeriesRegistry.js"],dt["Core/Renderer/SVG/Symbols.js"],dt["Core/Utilities.js"]],function(E,K,Y,ct,et,X,U,at,V){var _t,$=this&&this.__extends||(_t=function(Ct,kt){return(_t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Et,St){Et.__proto__=St}||function(Et,St){for(var R in St)St.hasOwnProperty(R)&&(Et[R]=St[R])})(Ct,kt)},function(Ct,kt){function Et(){this.constructor=Ct}_t(Ct,kt),Ct.prototype=null===kt?Object.create(kt):(Et.prototype=kt.prototype,new Et)}),H=E.getStartAndEndRadians;Y=Y.noop;var G=V.clamp,J=V.extend,z=V.fireEvent,nt=V.merge,Q=V.pick,lt=V.relativeLength;return V=function(_t){function Ct(){var kt=null!==_t&&_t.apply(this,arguments)||this;return kt.center=void 0,kt.data=void 0,kt.maxLabelDistance=void 0,kt.options=void 0,kt.points=void 0,kt}return $(Ct,_t),Ct.prototype.animate=function(kt){var Et=this,R=Et.startAngleRad;kt||Et.points.forEach(function(u){var m=u.graphic,y=u.shapeArgs;m&&y&&(m.attr({r:Q(u.startR,Et.center&&Et.center[3]/2),start:R,end:R}),m.animate({r:y.r,start:y.start,end:y.end},Et.options.animation))})},Ct.prototype.drawEmpty=function(){var kt=this.startAngleRad,Et=this.endAngleRad,St=this.options;if(0===this.total&&this.center){var R=this.center[0],u=this.center[1];this.graph||(this.graph=this.chart.renderer.arc(R,u,this.center[1]/2,0,kt,Et).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:at.arc(R,u,this.center[2]/2,0,{start:kt,end:Et,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":St.borderWidth,fill:St.fillColor||"none",stroke:St.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())},Ct.prototype.drawPoints=function(){var kt=this.chart.renderer;this.points.forEach(function(Et){Et.graphic&&Et.hasNewShapeType()&&(Et.graphic=Et.graphic.destroy()),Et.graphic||(Et.graphic=kt[Et.shapeType](Et.shapeArgs).add(Et.series.group),Et.delayedRendering=!0)})},Ct.prototype.generatePoints=function(){_t.prototype.generatePoints.call(this),this.updateTotals()},Ct.prototype.getX=function(kt,Et,St){var R=this.center,u=this.radii?this.radii[St.index]||0:R[2]/2;return kt=Math.asin(G((kt-R[1])/(u+St.labelDistance),-1,1)),R[0]+(Et?-1:1)*Math.cos(kt)*(u+St.labelDistance)+(0<St.labelDistance?(Et?-1:1)*this.options.dataLabels.padding:0)},Ct.prototype.hasData=function(){return!!this.processedXData.length},Ct.prototype.redrawPoints=function(){var u,m,y,v,kt=this,Et=kt.chart,St=Et.renderer,R=kt.options.shadow;this.drawEmpty(),!R||kt.shadowGroup||Et.styledMode||(kt.shadowGroup=St.g("shadow").attr({zIndex:-1}).add(kt.group)),kt.points.forEach(function(M){var S={};if(m=M.graphic,!M.isNull&&m){var I=void 0;v=M.shapeArgs,u=M.getTranslate(),Et.styledMode||(I=M.shadowGroup,R&&!I&&(I=M.shadowGroup=St.g("shadow").add(kt.shadowGroup)),I&&I.attr(u),y=kt.pointAttribs(M,M.selected&&"select")),M.delayedRendering?(m.setRadialReference(kt.center).attr(v).attr(u),Et.styledMode||m.attr(y).attr({"stroke-linejoin":"round"}).shadow(R,I),M.delayedRendering=!1):(m.setRadialReference(kt.center),Et.styledMode||nt(!0,S,y),nt(!0,S,v,u),m.animate(S)),m.attr({visibility:M.visible?"inherit":"hidden"}),m.addClass(M.getClassName(),!0)}else m&&(M.graphic=m.destroy())})},Ct.prototype.sortByAngle=function(kt,Et){kt.sort(function(St,R){return void 0!==St.angle&&(R.angle-St.angle)*Et})},Ct.prototype.translate=function(kt){this.generatePoints();var Et=this.options,St=Et.slicedOffset,R=St+(Et.borderWidth||0),u=H(Et.startAngle,Et.endAngle),m=this.startAngleRad=u.start;u=(this.endAngleRad=u.end)-m;var y=this.points,v=Et.dataLabels.distance;Et=Et.ignoreHiddenPoint;var S,M=y.length,I=0;for(kt||(this.center=kt=this.getCenter()),S=0;S<M;S++){var C=y[S],p=m+I*u;!C.isValid()||Et&&!C.visible||(I+=C.percentage/100);var T=m+I*u,it={x:kt[0],y:kt[1],r:kt[2]/2,innerR:kt[3]/2,start:Math.round(1e3*p)/1e3,end:Math.round(1e3*T)/1e3};C.shapeType="arc",C.shapeArgs=it,C.labelDistance=Q(C.options.dataLabels&&C.options.dataLabels.distance,v),C.labelDistance=lt(C.labelDistance,it.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,C.labelDistance),(T=(T+p)/2)>1.5*Math.PI?T-=2*Math.PI:T<-Math.PI/2&&(T+=2*Math.PI),C.slicedTranslation={translateX:Math.round(Math.cos(T)*St),translateY:Math.round(Math.sin(T)*St)},it=Math.cos(T)*kt[2]/2;var Z=Math.sin(T)*kt[2]/2;C.tooltipPos=[kt[0]+.7*it,kt[1]+.7*Z],C.half=T<-Math.PI/2||T>Math.PI/2?1:0,C.angle=T,p=Math.min(R,C.labelDistance/5),C.labelPosition={natural:{x:kt[0]+it+Math.cos(T)*C.labelDistance,y:kt[1]+Z+Math.sin(T)*C.labelDistance},final:{},alignment:0>C.labelDistance?"center":C.half?"right":"left",connectorPosition:{breakAt:{x:kt[0]+it+Math.cos(T)*p,y:kt[1]+Z+Math.sin(T)*p},touchingSliceAt:{x:kt[0]+it,y:kt[1]+Z}}}}z(this,"afterTranslate")},Ct.prototype.updateTotals=function(){var R,kt=this.points,Et=kt.length,St=this.options.ignoreHiddenPoint,u=0;for(R=0;R<Et;R++){var m=kt[R];!m.isValid()||St&&!m.visible||(u+=m.y)}for(this.total=u,R=0;R<Et;R++)(m=kt[R]).percentage=0<u&&(m.visible||!St)?m.y/u*100:0,m.total=u},Ct.defaultOptions=nt(X.defaultOptions,{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),Ct}(X),J(V.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:ct.drawRectangle,drawTracker:K.prototype.drawTracker,getCenter:E.getCenter,getSymbol:Y,isCartesian:!1,noSharedTooltip:!0,pointAttribs:K.prototype.pointAttribs,pointClass:et,requireSorting:!1,searchPoint:Y,trackerGroups:["group","dataLabelsGroup"]}),U.registerSeriesType("pie",V),V}),ft(dt,"Series/Pie/PieDataLabel.js",[dt["Core/Series/DataLabel.js"],dt["Core/Globals.js"],dt["Core/Renderer/RendererUtilities.js"],dt["Core/Series/SeriesRegistry.js"],dt["Core/Utilities.js"]],function(E,K,Y,ct,et){var nt,X=K.noop,U=Y.distribute,at=ct.series,V=et.arrayMax,$=et.clamp,H=et.defined,G=et.merge,J=et.pick,z=et.relativeLength;return function(Q){function lt(){var yt,wt,Vt,Ut,At,bt,qt,Rt,Dt,Bt,Zt,Lt,St=this,R=St.data,u=St.chart,m=St.options.dataLabels||{},y=m.connectorPadding,v=u.plotWidth,M=u.plotHeight,S=u.plotLeft,I=Math.round(u.chartWidth/3),C=St.center,p=C[2]/2,T=C[1],it=[[],[]],Z=[0,0,0,0],W=St.dataLabelPositioners;St.visible&&(m.enabled||St._hasPointLabels)&&(R.forEach(function(Ce){Ce.dataLabel&&Ce.visible&&Ce.dataLabel.shortened&&(Ce.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),Ce.dataLabel.shortened=!1)}),at.prototype.drawDataLabels.apply(St),R.forEach(function(Ce){Ce.dataLabel&&(Ce.visible?(it[Ce.half].push(Ce),Ce.dataLabel._pos=null,!H(m.style.width)&&!H(Ce.options.dataLabels&&Ce.options.dataLabels.style&&Ce.options.dataLabels.style.width)&&Ce.dataLabel.getBBox().width>I&&(Ce.dataLabel.css({width:Math.round(.7*I)+"px"}),Ce.dataLabel.shortened=!0)):(Ce.dataLabel=Ce.dataLabel.destroy(),Ce.dataLabels&&1===Ce.dataLabels.length&&delete Ce.dataLabels))}),it.forEach(function(Ce,Ht){var be,me=Ce.length,Si=[];if(me){if(St.sortByAngle(Ce,Ht-.5),0<St.maxLabelDistance){var de=Math.max(0,T-p-St.maxLabelDistance),je=Math.min(T+p+St.maxLabelDistance,u.plotHeight);Ce.forEach(function(Yt){0<Yt.labelDistance&&Yt.dataLabel&&(Yt.top=Math.max(0,T-p-Yt.labelDistance),Yt.bottom=Math.min(T+p+Yt.labelDistance,u.plotHeight),be=Yt.dataLabel.getBBox().height||21,Yt.distributeBox={target:Yt.labelPosition.natural.y-Yt.top+be/2,size:be,rank:Yt.y},Si.push(Yt.distributeBox))}),U(Si,de=je+be-de,de/5)}for(Zt=0;Zt<me;Zt++){if(Ut=(yt=Ce[Zt]).dataLabel,Bt=!1===yt.visible?"hidden":"inherit",Dt=de=(bt=yt.labelPosition).natural.y,Si&&H(yt.distributeBox)&&(void 0===yt.distributeBox.pos?Bt="hidden":(qt=yt.distributeBox.size,Dt=W.radialDistributionY(yt))),delete yt.positionIndex,m.justify)Rt=W.justify(yt,p,C);else switch(m.alignTo){case"connectors":Rt=W.alignToConnectors(Ce,Ht,v,S);break;case"plotEdges":Rt=W.alignToPlotEdges(Ut,Ht,v,S);break;default:Rt=W.radialDistributionX(St,yt,Dt,de)}Ut._attr={visibility:Bt,align:bt.alignment},Ut._pos={x:Rt+J((Lt=yt.options.dataLabels||{}).x,m.x)+({left:y,right:-y}[bt.alignment]||0),y:Dt+J(Lt.y,m.y)-10},bt.final.x=Rt,bt.final.y=Dt,J(m.crop,!0)&&(At=Ut.getBBox().width,de=null,Rt-At<y&&1===Ht?(de=Math.round(At-Rt+y),Z[3]=Math.max(de,Z[3])):Rt+At>v-y&&0===Ht&&(de=Math.round(Rt+At-v+y),Z[1]=Math.max(de,Z[1])),0>Dt-qt/2?Z[0]=Math.max(Math.round(qt/2-Dt),Z[0]):Dt+qt/2>M&&(Z[2]=Math.max(Math.round(Dt+qt/2-M),Z[2])),Ut.sideOverflow=de)}}}),0===V(Z)||this.verifyDataLabelOverflow(Z))&&(this.placeDataLabels(),this.points.forEach(function(Ce){var Ht;Lt=G(m,Ce.options.dataLabels),(wt=J(Lt.connectorWidth,1))&&(Vt=Ce.connector,(Ut=Ce.dataLabel)&&Ut._pos&&Ce.visible&&0<Ce.labelDistance?(Bt=Ut._attr.visibility,(Ht=!Vt)&&(Ce.connector=Vt=u.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+Ce.colorIndex+(Ce.className?" "+Ce.className:"")).add(St.dataLabelsGroup),u.styledMode||Vt.attr({"stroke-width":wt,stroke:Lt.connectorColor||Ce.color||"#666666"})),Vt[Ht?"attr":"animate"]({d:Ce.getConnectorPath()}),Vt.attr("visibility",Bt)):Vt&&(Ce.connector=Vt.destroy()))}))}function _t(){this.points.forEach(function(St){var u,R=St.dataLabel;R&&St.visible&&((u=R._pos)?(R.sideOverflow&&(R._attr.width=Math.max(R.getBBox().width-R.sideOverflow,0),R.css({width:R._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),R.shortened=!0),R.attr(R._attr),R[R.moved?"animate":"attr"](u),R.moved=!0):R&&R.attr({y:-9999})),delete St.distributeBox},this)}function Ct(St){var R=this.center,u=this.options,m=u.center,y=u.minSize||80,v=null!==u.size;if(!v){if(null!==m[0])var M=Math.max(R[2]-Math.max(St[1],St[3]),y);else M=Math.max(R[2]-St[1]-St[3],y),R[0]+=(St[3]-St[1])/2;null!==m[1]?M=$(M,y,R[2]-Math.max(St[0],St[2])):(M=$(M,y,R[2]-St[0]-St[2]),R[1]+=(St[0]-St[2])/2),M<R[2]?(R[2]=M,R[3]=Math.min(z(u.innerSize||0,M),M),this.translate(R),this.drawDataLabels&&this.drawDataLabels()):v=!0}return v}var kt=[],Et={radialDistributionY:function(St){return St.top+St.distributeBox.pos},radialDistributionX:function(St,R,u,m){return St.getX(u<R.top+2||u>R.bottom-2?m:u,R.half,R)},justify:function(St,R,u){return u[0]+(St.half?-1:1)*(R+St.labelDistance)},alignToPlotEdges:function(St,R,u,m){return St=St.getBBox().width,R?St+m:u-St-m},alignToConnectors:function(St,R,u,m){var v,y=0;return St.forEach(function(M){(v=M.dataLabel.getBBox().width)>y&&(y=v)}),R?y+m:u-y-m}};Q.compose=function(St){E.compose(at),-1===kt.indexOf(St)&&(kt.push(St),(St=St.prototype).dataLabelPositioners=Et,St.alignDataLabel=X,St.drawDataLabels=lt,St.placeDataLabels=_t,St.verifyDataLabelOverflow=Ct)}}(nt||(nt={})),nt}),ft(dt,"Extensions/OverlappingDataLabels.js",[dt["Core/Chart/Chart.js"],dt["Core/Utilities.js"]],function(E,K){function Y($,H){var G=!1;if($){var J=$.newOpacity;$.oldOpacity!==J&&($.alignAttr&&$.placed?($[J?"removeClass":"addClass"]("highcharts-data-label-hidden"),G=!0,$.alignAttr.opacity=J,$[$.isOld?"animate":"attr"]($.alignAttr,null,function(){H.styledMode||$.css({pointerEvents:J?"auto":"none"})}),et(H,"afterHideOverlappingLabel")):$.attr({opacity:J})),$.isOld=!0}return G}var et=K.fireEvent,X=K.isArray,U=K.isNumber,at=K.objectEach,V=K.pick;(0,K.addEvent)(E,"render",function(){var $=this,H=[];(this.labelCollectors||[]).forEach(function(G){H=H.concat(G())}),(this.yAxis||[]).forEach(function(G){G.stacking&&G.options.stackLabels&&!G.options.stackLabels.allowOverlap&&at(G.stacking.stacks,function(J){at(J,function(z){z.label&&"hidden"!==z.label.visibility&&H.push(z.label)})})}),(this.series||[]).forEach(function(G){var J=G.options.dataLabels;G.visible&&(!1!==J.enabled||G._hasPointLabels)&&((J=function(z){return z.forEach(function(nt){nt.visible&&(X(nt.dataLabels)?nt.dataLabels:nt.dataLabel?[nt.dataLabel]:[]).forEach(function(Q){var lt=Q.options;Q.labelrank=V(lt.labelrank,nt.labelrank,nt.shapeArgs&&nt.shapeArgs.height),lt.allowOverlap?(Q.oldOpacity=Q.opacity,Q.newOpacity=1,Y(Q,$)):H.push(Q)})})})(G.nodes||[]),J(G.points))}),this.hideOverlappingLabels(H)}),E.prototype.hideOverlappingLabels=function($){var z,nt,Q,H=this,G=$.length,J=H.renderer,lt=!1,_t=function(Et){var St,m,R=Et.box?0:Et.padding||0,u=St=0;if(Et&&(!Et.alignAttr||Et.placed)){var y=Et.alignAttr||{x:Et.attr("x"),y:Et.attr("y")},v=Et.parentGroup;return Et.width||(St=Et.getBBox(),Et.width=St.width,Et.height=St.height,St=J.fontMetrics(null,Et.element).h),(m={left:"0",center:"0.5",right:"1"}[Et.alignValue])?u=+m*(Et.width-2*R):U(Et.x)&&Math.round(Et.x)!==Et.translateX&&(u=Et.x-Et.translateX),{x:y.x+(v.translateX||0)+R-(u||0),y:y.y+(v.translateY||0)+R-St,width:Et.width-2*R,height:Et.height-2*R}}};for(nt=0;nt<G;nt++)(z=$[nt])&&(z.oldOpacity=z.opacity,z.newOpacity=1,z.absoluteBox=_t(z));for($.sort(function(Et,St){return(St.labelrank||0)-(Et.labelrank||0)}),nt=0;nt<G;nt++){var Ct=(_t=$[nt])&&_t.absoluteBox;for(z=nt+1;z<G;++z){var kt=(Q=$[z])&&Q.absoluteBox;!Ct||!kt||_t===Q||0===_t.newOpacity||0===Q.newOpacity||kt.x>=Ct.x+Ct.width||kt.x+kt.width<=Ct.x||kt.y>=Ct.y+Ct.height||kt.y+kt.height<=Ct.y||((_t.labelrank<Q.labelrank?_t:Q).newOpacity=0)}}$.forEach(function(Et){Y(Et,H)&&(lt=!0)}),lt&&et(H,"afterHideAllOverlappingLabels")}}),ft(dt,"Core/Responsive.js",[dt["Core/Utilities.js"]],function(E){var H,K=E.extend,Y=E.find,ct=E.isArray,et=E.isObject,X=E.merge,U=E.objectEach,at=E.pick,V=E.splat,$=E.uniqueKey;return function(G){var J=[];G.compose=function(nt){return-1===J.indexOf(nt)&&(J.push(nt),K(nt.prototype,z.prototype)),nt};var z=function(){function nt(){}return nt.prototype.currentOptions=function(Q){var _t=this,Ct={};return function lt(kt,Et,St,R){var u;U(kt,function(m,y){if(!R&&-1<_t.collectionsWithUpdate.indexOf(y)&&Et[y])for(m=V(m),St[y]=[],u=0;u<Math.max(m.length,Et[y].length);u++)Et[y][u]&&(void 0===m[u]?St[y][u]=Et[y][u]:(St[y][u]={},lt(m[u],Et[y][u],St[y][u],R+1)));else et(m)?(St[y]=ct(m)?[]:{},lt(m,Et[y]||{},St[y],R+1)):St[y]=void 0===Et[y]?null:Et[y]})}(Q,this.options,Ct,0),Ct},nt.prototype.matchResponsiveRule=function(Q,lt){var _t=Q.condition;(_t.callback||function(){return this.chartWidth<=at(_t.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=at(_t.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=at(_t.minWidth,0)&&this.chartHeight>=at(_t.minHeight,0)}).call(this)&&lt.push(Q._id)},nt.prototype.setResponsive=function(Q,lt){var _t=this,Ct=this.options.responsive,kt=this.currentResponsive,Et=[];!lt&&Ct&&Ct.rules&&Ct.rules.forEach(function(St){void 0===St._id&&(St._id=$()),_t.matchResponsiveRule(St,Et)},this),(lt=X.apply(void 0,Et.map(function(St){return Y((Ct||{}).rules||[],function(R){return R._id===St})}).map(function(St){return St&&St.chartOptions}))).isResponsiveOptions=!0,(Et=Et.toString()||void 0)!==(kt&&kt.ruleIds)&&(kt&&this.update(kt.undoOptions,Q,!0),Et?((kt=this.currentOptions(lt)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:Et,mergedOptions:lt,undoOptions:kt},this.update(lt,Q,!0)):this.currentResponsive=void 0)},nt}()}(H||(H={})),H}),ft(dt,"masters/highcharts.src.js",[dt["Core/Globals.js"],dt["Core/Utilities.js"],dt["Core/DefaultOptions.js"],dt["Core/Animation/Fx.js"],dt["Core/Animation/AnimationUtilities.js"],dt["Core/Renderer/HTML/AST.js"],dt["Core/FormatUtilities.js"],dt["Core/Renderer/RendererUtilities.js"],dt["Core/Renderer/SVG/SVGElement.js"],dt["Core/Renderer/SVG/SVGRenderer.js"],dt["Core/Renderer/HTML/HTMLElement.js"],dt["Core/Renderer/HTML/HTMLRenderer.js"],dt["Core/Axis/Axis.js"],dt["Core/Axis/DateTimeAxis.js"],dt["Core/Axis/LogarithmicAxis.js"],dt["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],dt["Core/Axis/Tick.js"],dt["Core/Tooltip.js"],dt["Core/Series/Point.js"],dt["Core/Pointer.js"],dt["Core/MSPointer.js"],dt["Core/Legend/Legend.js"],dt["Core/Chart/Chart.js"],dt["Core/Series/Series.js"],dt["Core/Series/SeriesRegistry.js"],dt["Series/Column/ColumnSeries.js"],dt["Series/Column/ColumnDataLabel.js"],dt["Series/Pie/PieSeries.js"],dt["Series/Pie/PieDataLabel.js"],dt["Core/Series/DataLabel.js"],dt["Core/Responsive.js"],dt["Core/Color/Color.js"],dt["Core/Time.js"]],function(E,K,Y,ct,et,X,U,at,V,$,H,G,J,z,nt,Q,lt,_t,Ct,kt,Et,St,R,u,m,y,v,M,S,I,C,p,T){return E.animate=et.animate,E.animObject=et.animObject,E.getDeferredAnimation=et.getDeferredAnimation,E.setAnimation=et.setAnimation,E.stop=et.stop,E.timers=ct.timers,E.AST=X,E.Axis=J,E.Chart=R,E.chart=R.chart,E.Fx=ct,E.Legend=St,E.PlotLineOrBand=Q,E.Point=Ct,E.Pointer=Et.isRequired()?Et:kt,E.Series=u,E.SVGElement=V,E.SVGRenderer=$,E.Tick=lt,E.Time=T,E.Tooltip=_t,E.Color=p,E.color=p.parse,G.compose($),H.compose(V),E.defaultOptions=Y.defaultOptions,E.getOptions=Y.getOptions,E.time=Y.defaultTime,E.setOptions=Y.setOptions,E.dateFormat=U.dateFormat,E.format=U.format,E.numberFormat=U.numberFormat,E.addEvent=K.addEvent,E.arrayMax=K.arrayMax,E.arrayMin=K.arrayMin,E.attr=K.attr,E.clearTimeout=K.clearTimeout,E.correctFloat=K.correctFloat,E.createElement=K.createElement,E.css=K.css,E.defined=K.defined,E.destroyObjectProperties=K.destroyObjectProperties,E.discardElement=K.discardElement,E.distribute=at.distribute,E.erase=K.erase,E.error=K.error,E.extend=K.extend,E.extendClass=K.extendClass,E.find=K.find,E.fireEvent=K.fireEvent,E.getMagnitude=K.getMagnitude,E.getStyle=K.getStyle,E.inArray=K.inArray,E.isArray=K.isArray,E.isClass=K.isClass,E.isDOMElement=K.isDOMElement,E.isFunction=K.isFunction,E.isNumber=K.isNumber,E.isObject=K.isObject,E.isString=K.isString,E.keys=K.keys,E.merge=K.merge,E.normalizeTickInterval=K.normalizeTickInterval,E.objectEach=K.objectEach,E.offset=K.offset,E.pad=K.pad,E.pick=K.pick,E.pInt=K.pInt,E.relativeLength=K.relativeLength,E.removeEvent=K.removeEvent,E.seriesType=m.seriesType,E.splat=K.splat,E.stableSort=K.stableSort,E.syncTimeout=K.syncTimeout,E.timeUnits=K.timeUnits,E.uniqueKey=K.uniqueKey,E.useSerialIds=K.useSerialIds,E.wrap=K.wrap,v.compose(y),I.compose(u),z.compose(J),nt.compose(J),S.compose(M),Q.compose(J),C.compose(R),E}),dt["masters/highcharts.src.js"]._modules=dt,dt["masters/highcharts.src.js"]},_e.exports?(ft.default=ft,_e.exports=Kt.document?ft(Kt):ft):void 0!==(zt=function(){return ft(Kt)}.call(st,Ft,st,_e))&&(_e.exports=zt)},742:(_e,st,Ft)=>{"use strict";var zt,Kt,ft;ft=function(ft){function dt(E,K,Y,ct){E.hasOwnProperty(K)||(E[K]=ct.apply(null,Y))}dt(ft=ft?ft._modules:{},"Series/NodesComposition.js",[ft["Core/Series/Point.js"],ft["Core/Series/Series.js"],ft["Core/Utilities.js"]],function(E,K,Y){var at,ct=Y.defined,et=Y.extend,X=Y.find,U=Y.pick;return function(V){function $(){return this.data=[].concat(this.points||[],this.nodes),K.prototype.destroy.apply(this,arguments)}function H(){this.nodes&&(this.nodes.forEach(function(z){z.destroy()}),this.nodes.length=0),K.prototype.setData.apply(this,arguments)}function G(z){var nt=arguments,Q=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];"select"!==z&&Q.forEach(function(lt){lt&&lt.series&&(E.prototype.setState.apply(lt,nt),lt.isNode||(lt.fromNode.graphic&&E.prototype.setState.apply(lt.fromNode,nt),lt.toNode&&lt.toNode.graphic&&E.prototype.setState.apply(lt.toNode,nt)))}),E.prototype.setState.apply(this,nt)}var J=[];V.compose=function(z,nt){return-1===J.indexOf(z)&&(J.push(z),(z=z.prototype).setNodeState=G,z.setState=G),-1===J.indexOf(nt)&&(J.push(nt),(z=nt.prototype).destroy=$,z.setData=H),nt},V.createNode=function(z){var nt=this.pointClass,Q=function(_t,Ct){return X(_t,function(kt){return kt.id===Ct})},lt=Q(this.nodes,z);return lt||(Q=this.options.nodes&&Q(this.options.nodes,z),(lt=(new nt).init(this,et({className:"highcharts-node",isNode:!0,id:z,y:1},Q))).linksTo=[],lt.linksFrom=[],lt.formatPrefix="node",lt.name=lt.name||lt.options.id||"",lt.mass=U(lt.options.mass,lt.options.marker&&lt.options.marker.radius,this.options.marker&&this.options.marker.radius,4),lt.getSum=function(){var _t=0,Ct=0;return lt.linksTo.forEach(function(kt){_t+=kt.weight}),lt.linksFrom.forEach(function(kt){Ct+=kt.weight}),Math.max(_t,Ct)},lt.offset=function(_t,Ct){for(var kt=0,Et=0;Et<lt[Ct].length;Et++){if(lt[Ct][Et]===_t)return kt;kt+=lt[Ct][Et].weight}},lt.hasShape=function(){var _t=0;return lt.linksTo.forEach(function(Ct){Ct.outgoing&&_t++}),!lt.linksTo.length||_t!==lt.linksTo.length},this.nodes.push(lt)),lt},V.destroy=$,V.generatePoints=function(){var z=this.chart,nt={};K.prototype.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(function(Q){Q.linksFrom.length=0,Q.linksTo.length=0,Q.level=Q.options.level}),this.points.forEach(function(Q){ct(Q.from)&&(nt[Q.from]||(nt[Q.from]=this.createNode(Q.from)),nt[Q.from].linksFrom.push(Q),Q.fromNode=nt[Q.from],z.styledMode?Q.colorIndex=U(Q.options.colorIndex,nt[Q.from].colorIndex):Q.color=Q.options.color||nt[Q.from].color),ct(Q.to)&&(nt[Q.to]||(nt[Q.to]=this.createNode(Q.to)),nt[Q.to].linksTo.push(Q),Q.toNode=nt[Q.to]),Q.name=Q.name||Q.id},this),this.nodeLookup=nt},V.setNodeState=G}(at||(at={})),at}),dt(ft,"Series/Networkgraph/Integrations.js",[ft["Core/Globals.js"]],function(E){E.networkgraphIntegrations={verlet:{attractiveForceFunction:function(K,Y){return(Y-K)/K},repulsiveForceFunction:function(K,Y){return(Y-K)/K*(Y>K?1:0)},barycenter:function(){var K=this.options.gravitationalConstant,Y=this.barycenter.xFactor,ct=this.barycenter.yFactor;Y=(Y-(this.box.left+this.box.width)/2)*K,ct=(ct-(this.box.top+this.box.height)/2)*K,this.nodes.forEach(function(et){et.fixedPosition||(et.plotX-=Y/et.mass/et.degree,et.plotY-=ct/et.mass/et.degree)})},repulsive:function(K,Y,ct){Y=Y*this.diffTemperature/K.mass/K.degree,K.fixedPosition||(K.plotX+=ct.x*Y,K.plotY+=ct.y*Y)},attractive:function(K,Y,ct){var et=K.getMass(),X=-ct.x*Y*this.diffTemperature;Y=-ct.y*Y*this.diffTemperature,K.fromNode.fixedPosition||(K.fromNode.plotX-=X*et.fromNode/K.fromNode.degree,K.fromNode.plotY-=Y*et.fromNode/K.fromNode.degree),K.toNode.fixedPosition||(K.toNode.plotX+=X*et.toNode/K.toNode.degree,K.toNode.plotY+=Y*et.toNode/K.toNode.degree)},integrate:function(K,Y){var ct=-K.options.friction,et=K.options.maxSpeed,X=(Y.plotX+Y.dispX-Y.prevX)*ct;ct*=Y.plotY+Y.dispY-Y.prevY;var U=Math.abs,at=U(X)/(X||1);U=U(ct)/(ct||1),X=at*Math.min(et,Math.abs(X)),ct=U*Math.min(et,Math.abs(ct)),Y.prevX=Y.plotX+Y.dispX,Y.prevY=Y.plotY+Y.dispY,Y.plotX+=X,Y.plotY+=ct,Y.temperature=K.vectorLength({x:X,y:ct})},getK:function(K){return Math.pow(K.box.width*K.box.height/K.nodes.length,.5)}},euler:{attractiveForceFunction:function(K,Y){return K*K/Y},repulsiveForceFunction:function(K,Y){return Y*Y/K},barycenter:function(){var K=this.options.gravitationalConstant,Y=this.barycenter.xFactor,ct=this.barycenter.yFactor;this.nodes.forEach(function(et){if(!et.fixedPosition){var X=et.getDegree();et.dispX+=(Y-et.plotX)*K*(X*=1+X/2)/et.degree,et.dispY+=(ct-et.plotY)*K*X/et.degree}})},repulsive:function(K,Y,ct,et){K.dispX+=ct.x/et*Y/K.degree,K.dispY+=ct.y/et*Y/K.degree},attractive:function(K,Y,ct,et){var X=K.getMass(),U=ct.x/et*Y;Y*=ct.y/et,K.fromNode.fixedPosition||(K.fromNode.dispX-=U*X.fromNode/K.fromNode.degree,K.fromNode.dispY-=Y*X.fromNode/K.fromNode.degree),K.toNode.fixedPosition||(K.toNode.dispX+=U*X.toNode/K.toNode.degree,K.toNode.dispY+=Y*X.toNode/K.toNode.degree)},integrate:function(K,Y){Y.dispX+=Y.dispX*K.options.friction,Y.dispY+=Y.dispY*K.options.friction;var ct=Y.temperature=K.vectorLength({x:Y.dispX,y:Y.dispY});0!==ct&&(Y.plotX+=Y.dispX/ct*Math.min(Math.abs(Y.dispX),K.temperature),Y.plotY+=Y.dispY/ct*Math.min(Math.abs(Y.dispY),K.temperature))},getK:function(K){return Math.pow(K.box.width*K.box.height/K.nodes.length,.3)}}}}),dt(ft,"Series/Networkgraph/QuadTree.js",[ft["Core/Globals.js"],ft["Core/Utilities.js"]],function(E,K){K=K.extend;var Y=E.QuadTreeNode=function(ct){this.box=ct,this.boxSize=Math.min(ct.width,ct.height),this.nodes=[],this.body=this.isInternal=!1,this.isEmpty=!0};K(Y.prototype,{insert:function(ct,et){this.isInternal?this.nodes[this.getBoxPosition(ct)].insert(ct,et-1):(this.isEmpty=!1,this.body?et?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,et-1),this.body=!0),this.nodes[this.getBoxPosition(ct)].insert(ct,et-1)):((et=new Y({top:ct.plotX,left:ct.plotY,width:.1,height:.1})).body=ct,et.isInternal=!1,this.nodes.push(et)):(this.isInternal=!1,this.body=ct))},updateMassAndCenter:function(){var ct=0,et=0,X=0;this.isInternal?(this.nodes.forEach(function(U){U.isEmpty||(ct+=U.mass,et+=U.plotX*U.mass,X+=U.plotY*U.mass)}),et/=ct,X/=ct):this.body&&(ct=this.body.mass,et=this.body.plotX,X=this.body.plotY),this.mass=ct,this.plotX=et,this.plotY=X},divideBox:function(){var ct=this.box.width/2,et=this.box.height/2;this.nodes[0]=new Y({left:this.box.left,top:this.box.top,width:ct,height:et}),this.nodes[1]=new Y({left:this.box.left+ct,top:this.box.top,width:ct,height:et}),this.nodes[2]=new Y({left:this.box.left+ct,top:this.box.top+et,width:ct,height:et}),this.nodes[3]=new Y({left:this.box.left,top:this.box.top+et,width:ct,height:et})},getBoxPosition:function(ct){var et=ct.plotY<this.box.top+this.box.height/2;return ct.plotX<this.box.left+this.box.width/2?et?0:3:et?1:2}}),K((E=E.QuadTree=function(ct,et,X,U){this.box={left:ct,top:et,width:X,height:U},this.maxDepth=25,this.root=new Y(this.box,"0"),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}).prototype,{insertNodes:function(ct){ct.forEach(function(et){this.root.insert(et,this.maxDepth)},this)},visitNodeRecursive:function(ct,et,X){var U;ct||(ct=this.root),ct===this.root&&et&&(U=et(ct)),!1!==U&&(ct.nodes.forEach(function(at){if(at.isInternal){if(et&&(U=et(at)),!1===U)return;this.visitNodeRecursive(at,et,X)}else at.body&&et&&et(at.body);X&&X(at)},this),ct===this.root&&X&&X(ct))},calculateMassAndCenter:function(){this.visitNodeRecursive(null,null,function(ct){ct.updateMassAndCenter()})}})}),dt(ft,"Series/Networkgraph/Layouts.js",[ft["Core/Chart/Chart.js"],ft["Core/Animation/AnimationUtilities.js"],ft["Core/Globals.js"],ft["Core/Utilities.js"]],function(E,K,Y,ct){var et=K.setAnimation;K=ct.addEvent;var X=ct.clamp,U=ct.defined,at=ct.extend,V=ct.isFunction,$=ct.pick;Y.layouts={"reingold-fruchterman":function(){}},at(Y.layouts["reingold-fruchterman"].prototype,{init:function(H){this.options=H,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=Y.networkgraphIntegrations[H.integration],this.enableSimulation=H.enableSimulation,this.attractiveForce=$(H.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=$(H.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=H.approximation},updateSimulation:function(H){this.enableSimulation=$(H,this.options.enableSimulation)},start:function(){var H=this.series,G=this.options;this.currentStep=0,this.forces=H[0]&&H[0].forces||[],this.chart=H[0]&&H[0].chart,this.initialRendering&&(this.initPositions(),H.forEach(function(J){J.finishedAnimating=!0,J.render()})),this.setK(),this.resetSimulation(G),this.enableSimulation&&this.step()},step:function(){var H=this,G=this.series;H.currentStep++,"barnes-hut"===H.approximation&&(H.createQuadTree(),H.quadTree.calculateMassAndCenter()),H.forces.forEach(function(J){H[J+"Forces"](H.temperature)}),H.applyLimits(H.temperature),H.temperature=H.coolDown(H.startTemperature,H.diffTemperature,H.currentStep),H.prevSystemTemperature=H.systemTemperature,H.systemTemperature=H.getSystemTemperature(),H.enableSimulation&&(G.forEach(function(J){J.chart&&J.render()}),H.maxIterations--&&isFinite(H.temperature)&&!H.isStable()?(H.simulation&&Y.win.cancelAnimationFrame(H.simulation),H.simulation=Y.win.requestAnimationFrame(function(){H.step()})):H.simulation=!1)},stop:function(){this.simulation&&Y.win.cancelAnimationFrame(this.simulation)},setArea:function(H,G,J,z){this.box={left:H,top:G,width:J,height:z}},setK:function(){this.k=this.options.linkLength||this.integration.getK(this)},addElementsToCollection:function(H,G){H.forEach(function(J){-1===G.indexOf(J)&&G.push(J)})},removeElementFromCollection:function(H,G){-1!==(H=G.indexOf(H))&&G.splice(H,1)},clear:function(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()},resetSimulation:function(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()},restartSimulation:function(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))},setMaxIterations:function(H){this.maxIterations=$(H,this.options.maxIterations)},setTemperature:function(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)},setDiffTemperature:function(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)},setInitialRendering:function(H){this.initialRendering=H},createQuadTree:function(){this.quadTree=new Y.QuadTree(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)},initPositions:function(){var H=this.options.initialPositions;V(H)?(H.call(this),this.nodes.forEach(function(G){U(G.prevX)||(G.prevX=G.plotX),U(G.prevY)||(G.prevY=G.plotY),G.dispX=0,G.dispY=0})):"circle"===H?this.setCircularPositions():this.setRandomPositions()},setCircularPositions:function(){function H(Ct){Ct.linksFrom.forEach(function(kt){lt[kt.toNode.id]||(lt[kt.toNode.id]=!0,Q.push(kt.toNode),H(kt.toNode))})}var G=this.box,J=this.nodes,z=2*Math.PI/(J.length+1),nt=J.filter(function(Ct){return 0===Ct.linksTo.length}),Q=[],lt={},_t=this.options.initialPositionRadius;nt.forEach(function(Ct){Q.push(Ct),H(Ct)}),Q.length?J.forEach(function(Ct){-1===Q.indexOf(Ct)&&Q.push(Ct)}):Q=J,Q.forEach(function(Ct,kt){Ct.plotX=Ct.prevX=$(Ct.plotX,G.width/2+_t*Math.cos(kt*z)),Ct.plotY=Ct.prevY=$(Ct.plotY,G.height/2+_t*Math.sin(kt*z)),Ct.dispX=0,Ct.dispY=0})},setRandomPositions:function(){function H(nt){return(nt=nt*nt/Math.PI)-Math.floor(nt)}var G=this.box,J=this.nodes,z=J.length+1;J.forEach(function(nt,Q){nt.plotX=nt.prevX=$(nt.plotX,G.width*H(Q)),nt.plotY=nt.prevY=$(nt.plotY,G.height*H(z+Q)),nt.dispX=0,nt.dispY=0})},force:function(H){this.integration[H].apply(this,Array.prototype.slice.call(arguments,1))},barycenterForces:function(){this.getBarycenter(),this.force("barycenter")},getBarycenter:function(){var H=0,G=0,J=0;return this.nodes.forEach(function(z){G+=z.plotX*z.mass,J+=z.plotY*z.mass,H+=z.mass}),this.barycenter={x:G,y:J,xFactor:G/H,yFactor:J/H}},barnesHutApproximation:function(H,G){var J=this.getDistXY(H,G),z=this.vectorLength(J);if(H!==G&&0!==z)if(G.isInternal)if(G.boxSize/z<this.options.theta&&0!==z){var nt=this.repulsiveForce(z,this.k);this.force("repulsive",H,nt*G.mass,J,z);var Q=!1}else Q=!0;else nt=this.repulsiveForce(z,this.k),this.force("repulsive",H,nt*G.mass,J,z);return Q},repulsiveForces:function(){var H=this;H.nodes.forEach("barnes-hut"===H.approximation?function(G){H.quadTree.visitNodeRecursive(null,function(J){return H.barnesHutApproximation(G,J)})}:function(G){H.nodes.forEach(function(J){if(G!==J&&!G.fixedPosition){var z=H.getDistXY(G,J),nt=H.vectorLength(z);if(0!==nt){var Q=H.repulsiveForce(nt,H.k);H.force("repulsive",G,Q*J.mass,z,nt)}}})})},attractiveForces:function(){var G,J,z,H=this;H.links.forEach(function(nt){nt.fromNode&&nt.toNode&&(G=H.getDistXY(nt.fromNode,nt.toNode),0!==(J=H.vectorLength(G))&&(z=H.attractiveForce(J,H.k),H.force("attractive",nt,z,G,J)))})},applyLimits:function(){var H=this;H.nodes.forEach(function(G){G.fixedPosition||(H.integration.integrate(H,G),H.applyLimitBox(G,H.box),G.dispX=0,G.dispY=0)})},applyLimitBox:function(H,G){var J=H.radius;H.plotX=X(H.plotX,G.left+J,G.width-J),H.plotY=X(H.plotY,G.top+J,G.height-J)},coolDown:function(H,G,J){return H-G*J},isStable:function(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature},getSystemTemperature:function(){return this.nodes.reduce(function(H,G){return H+G.temperature},0)},vectorLength:function(H){return Math.sqrt(H.x*H.x+H.y*H.y)},getDistR:function(H,G){return H=this.getDistXY(H,G),this.vectorLength(H)},getDistXY:function(H,G){var J=H.plotX-G.plotX;return{x:J,y:H=H.plotY-G.plotY,absX:Math.abs(J),absY:Math.abs(H)}}}),K(E,"predraw",function(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(function(H){H.stop()})}),K(E,"render",function(){function H(z){z.maxIterations--&&isFinite(z.temperature)&&!z.isStable()&&!z.enableSimulation&&(z.beforeStep&&z.beforeStep(),z.step(),J=!1,G=!0)}var G=!1;if(this.graphLayoutsLookup){for(et(!1,this),this.graphLayoutsLookup.forEach(function(z){z.start()});!J;){var J=!0;this.graphLayoutsLookup.forEach(H)}G&&this.series.forEach(function(z){z&&z.layout&&z.render()})}}),K(E,"beforePrint",function(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(function(H){H.updateSimulation(!1)}),this.redraw())}),K(E,"afterPrint",function(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(function(H){H.updateSimulation()}),this.redraw()})}),dt(ft,"Series/Networkgraph/DraggableNodes.js",[ft["Core/Chart/Chart.js"],ft["Core/Globals.js"],ft["Core/Utilities.js"]],function(E,K,Y){var ct=Y.addEvent;K.dragNodesMixin={onMouseDown:function(et,X){X=this.chart.pointer.normalize(X),et.fixedPosition={chartX:X.chartX,chartY:X.chartY,plotX:et.plotX,plotY:et.plotY},et.inDragMode=!0},onMouseMove:function(et,X){if(et.fixedPosition&&et.inDragMode){var U=this.chart,at=U.pointer.normalize(X);X=et.fixedPosition.chartX-at.chartX,at=et.fixedPosition.chartY-at.chartY;var V=void 0,$=void 0,H=U.graphLayoutsLookup;(5<Math.abs(X)||5<Math.abs(at))&&U.isInsidePlot(V=et.fixedPosition.plotX-X,$=et.fixedPosition.plotY-at)&&(et.plotX=V,et.plotY=$,et.hasDragged=!0,this.redrawHalo(et),H.forEach(function(G){G.restartSimulation()}))}},onMouseUp:function(et,X){et.fixedPosition&&(et.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),et.inDragMode=et.hasDragged=!1,this.options.fixedDraggable||delete et.fixedPosition)},redrawHalo:function(et){et&&this.halo&&this.halo.attr({d:et.haloPath(this.options.states.hover.halo.size)})}},ct(E,"load",function(){var X,U,at,et=this;et.container&&(X=ct(et.container,"mousedown",function(V){var $=et.hoverPoint;$&&$.series&&$.series.hasDraggableNodes&&$.series.options.draggable&&($.series.onMouseDown($,V),U=ct(et.container,"mousemove",function(H){return $&&$.series&&$.series.onMouseMove($,H)}),at=ct(et.container.ownerDocument,"mouseup",function(H){return U(),at(),$&&$.series&&$.series.onMouseUp($,H)}))})),ct(et,"destroy",function(){X()})})}),dt(ft,"Series/Networkgraph/Networkgraph.js",[ft["Core/Globals.js"],ft["Series/NodesComposition.js"],ft["Core/Series/Point.js"],ft["Core/Series/Series.js"],ft["Core/Series/SeriesRegistry.js"],ft["Core/Utilities.js"]],function(E,K,Y,ct,et,X){var Q,U=this&&this.__extends||(Q=function(lt,_t){return(Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ct,kt){Ct.__proto__=kt}||function(Ct,kt){for(var Et in kt)kt.hasOwnProperty(Et)&&(Ct[Et]=kt[Et])})(lt,_t)},function(lt,_t){function Ct(){this.constructor=lt}Q(lt,_t),lt.prototype=null===_t?Object.create(_t):(Ct.prototype=_t.prototype,new Ct)}),at=et.seriesTypes,V=X.addEvent,$=X.css,H=X.defined,G=X.extend,J=X.merge,z=X.pick,nt=E.dragNodesMixin;return X=function(Q){function lt(){var _t=null!==Q&&Q.apply(this,arguments)||this;return _t.data=void 0,_t.nodes=void 0,_t.options=void 0,_t.points=void 0,_t}return U(lt,Q),lt.defaultOptions=J(ct.defaultOptions,{stickyTracking:!1,inactiveOtherPoints:!0,marker:{enabled:!0,states:{inactive:{opacity:.3,animation:{duration:50}}}},states:{inactive:{linkOpacity:.3,animation:{duration:50}}},dataLabels:{formatter:function(){return this.key},linkFormatter:function(){return this.point.fromNode.name+"<br>"+this.point.toNode.name},linkTextPath:{enabled:!0},textPath:{enabled:!1},style:{transition:"opacity 2000ms"}},link:{color:"rgba(100, 100, 100, 0.5)",width:1},draggable:!0,layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:1,enableSimulation:!1,theta:.5,maxSpeed:10,approximation:"none",type:"reingold-fruchterman",integration:"euler",maxIterations:1e3,gravitationalConstant:.0625,friction:-.981},showInLegend:!1}),lt}(ct),G(X.prototype,{forces:["barycenter","repulsive","attractive"],hasDraggableNodes:!0,drawGraph:void 0,isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,pointArrayMap:["from","to"],trackerGroups:["group","markerGroup","dataLabelsGroup"],drawTracker:at.column.prototype.drawTracker,animate:void 0,buildKDTree:E.noop,createNode:K.createNode,destroy:function(){this.layout&&this.layout.removeElementFromCollection(this,this.layout.series),K.destroy.call(this)},init:function(){var Q=this;return ct.prototype.init.apply(this,arguments),V(this,"updatedData",function(){Q.layout&&Q.layout.stop()}),V(this,"afterUpdate",function(){Q.nodes.forEach(function(lt){lt&&lt.series&&lt.resolveColor()})}),this},generatePoints:function(){var Q;for(K.generatePoints.apply(this,arguments),this.options.nodes&&this.options.nodes.forEach(function(_t){this.nodeLookup[_t.id]||(this.nodeLookup[_t.id]=this.createNode(_t.id))},this),Q=this.nodes.length-1;0<=Q;Q--){var lt=this.nodes[Q];lt.degree=lt.getDegree(),lt.radius=z(lt.marker&&lt.marker.radius,this.options.marker&&this.options.marker.radius,0),this.nodeLookup[lt.id]||lt.remove()}this.data.forEach(function(_t){_t.formatPrefix="link"}),this.indexateNodes()},getPointsCollection:function(){return this.nodes||[]},indexateNodes:function(){this.nodes.forEach(function(Q,lt){Q.index=lt})},markerAttribs:function(Q,lt){return lt=ct.prototype.markerAttribs.call(this,Q,lt),H(Q.plotY)||(lt.y=0),lt.x=(Q.plotX||0)-(lt.width||0)/2,lt},translate:function(){this.processedXData||this.processData(),this.generatePoints(),this.deferLayout(),this.nodes.forEach(function(Q){Q.isInside=!0,Q.linksFrom.forEach(function(lt){lt.shapeType="path",lt.y=1})})},deferLayout:function(){var Q=this.options.layoutAlgorithm,lt=this.chart.graphLayoutsStorage,_t=this.chart.graphLayoutsLookup,Ct=this.chart.options.chart;if(this.visible){lt||(this.chart.graphLayoutsStorage=lt={},this.chart.graphLayoutsLookup=_t=[]);var kt=lt[Q.type];kt||(Q.enableSimulation=H(Ct.forExport)?!Ct.forExport:Q.enableSimulation,lt[Q.type]=kt=new E.layouts[Q.type],kt.init(Q),_t.splice(kt.index,0,kt)),this.layout=kt,kt.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),kt.addElementsToCollection([this],kt.series),kt.addElementsToCollection(this.nodes,kt.nodes),kt.addElementsToCollection(this.points,kt.links)}},render:function(){var Q=this.points,lt=this.chart.hoverPoint,_t=[];this.points=this.nodes,at.line.prototype.render.call(this),this.points=Q,Q.forEach(function(Ct){Ct.fromNode&&Ct.toNode&&(Ct.renderLink(),Ct.redrawLink())}),lt&&lt.series===this&&this.redrawHalo(lt),this.chart.hasRendered&&!this.options.dataLabels.allowOverlap&&(this.nodes.concat(this.points).forEach(function(Ct){Ct.dataLabel&&_t.push(Ct.dataLabel)}),this.chart.hideOverlappingLabels(_t))},drawDataLabels:function(){var Q=this.options.dataLabels.textPath;ct.prototype.drawDataLabels.apply(this,arguments),this.points=this.data,this.options.dataLabels.textPath=this.options.dataLabels.linkTextPath,ct.prototype.drawDataLabels.apply(this,arguments),this.points=this.nodes,this.options.dataLabels.textPath=Q},pointAttribs:function(Q,lt){var _t=lt||Q&&Q.state||"normal";return lt=ct.prototype.pointAttribs.call(this,Q,_t),_t=this.options.states[_t],Q&&!Q.isNode&&(lt=Q.getLinkAttributes(),_t&&(lt={stroke:_t.linkColor||lt.stroke,dashstyle:_t.linkDashStyle||lt.dashstyle,opacity:z(_t.linkOpacity,lt.opacity),"stroke-width":_t.linkColor||lt["stroke-width"]})),lt},redrawHalo:nt.redrawHalo,onMouseDown:nt.onMouseDown,onMouseMove:nt.onMouseMove,onMouseUp:nt.onMouseUp,setState:function(Q,lt){lt?(this.points=this.nodes.concat(this.data),ct.prototype.setState.apply(this,arguments),this.points=this.data):ct.prototype.setState.apply(this,arguments),this.layout.simulation||Q||this.render()}}),nt=function(Q){function lt(){var _t=null!==Q&&Q.apply(this,arguments)||this;return _t.degree=void 0,_t.linksFrom=void 0,_t.linksTo=void 0,_t.options=void 0,_t.radius=void 0,_t.series=void 0,_t.toNode=void 0,_t}return U(lt,Q),lt}(ct.prototype.pointClass),G(nt.prototype,{setState:K.setNodeState,init:function(){return Y.prototype.init.apply(this,arguments),this.series.options.draggable&&!this.series.chart.styledMode&&(V(this,"mouseOver",function(){$(this.series.chart.container,{cursor:"move"})}),V(this,"mouseOut",function(){$(this.series.chart.container,{cursor:"default"})})),this},getDegree:function(){var Q=this.isNode?this.linksFrom.length+this.linksTo.length:0;return 0===Q?1:Q},getLinkAttributes:function(){var Q=this.series.options.link,lt=this.options;return{"stroke-width":z(lt.width,Q.width),stroke:lt.color||Q.color,dashstyle:lt.dashStyle||Q.dashStyle,opacity:z(lt.opacity,Q.opacity,1)}},renderLink:function(){if(!this.graphic&&(this.graphic=this.series.chart.renderer.path(this.getLinkPath()).addClass(this.getClassName(),!0).add(this.series.group),!this.series.chart.styledMode)){var Q=this.series.pointAttribs(this);this.graphic.attr(Q),(this.dataLabels||[]).forEach(function(lt){lt&&lt.attr({opacity:Q.opacity})})}},redrawLink:function(){var Q=this.getLinkPath();if(this.graphic){if(this.shapeArgs={d:Q},!this.series.chart.styledMode){var lt=this.series.pointAttribs(this);this.graphic.attr(lt),(this.dataLabels||[]).forEach(function(Ct){Ct&&Ct.attr({opacity:lt.opacity})})}this.graphic.animate(this.shapeArgs);var _t=Q[0];Q=Q[1],"M"===_t[0]&&"L"===Q[0]&&(this.plotX=(_t[1]+Q[1])/2,this.plotY=(_t[2]+Q[2])/2)}},getMass:function(){var Q=this.fromNode.mass,lt=this.toNode.mass,_t=Q+lt;return{fromNode:1-Q/_t,toNode:1-lt/_t}},getLinkPath:function(){var Q=this.fromNode,lt=this.toNode;return Q.plotX>lt.plotX&&(Q=this.toNode,lt=this.fromNode),[["M",Q.plotX||0,Q.plotY||0],["L",lt.plotX||0,lt.plotY||0]]},isValid:function(){return!this.isNode||H(this.id)},remove:function(Q,lt){var kt,_t=this.series,Ct=_t.options.nodes||[],Et=Ct.length;if(this.isNode){for(_t.points=[],[].concat(this.linksFrom).concat(this.linksTo).forEach(function(St){-1<(kt=St.fromNode.linksFrom.indexOf(St))&&St.fromNode.linksFrom.splice(kt,1),-1<(kt=St.toNode.linksTo.indexOf(St))&&St.toNode.linksTo.splice(kt,1),ct.prototype.removePoint.call(_t,_t.data.indexOf(St),!1,!1)}),_t.points=_t.data.slice(),_t.nodes.splice(_t.nodes.indexOf(this),1);Et--;)if(Ct[Et].id===this.options.id){_t.options.nodes.splice(Et,1);break}this&&this.destroy(),_t.isDirty=!0,_t.isDirtyData=!0,Q&&_t.chart.redraw(Q)}else _t.removePoint(_t.data.indexOf(this),Q,lt)},destroy:function(){return this.isNode&&this.linksFrom.concat(this.linksTo).forEach(function(Q){Q.destroyElements&&Q.destroyElements()}),this.series.layout.removeElementFromCollection(this,this.series.layout[this.isNode?"nodes":"links"]),Y.prototype.destroy.apply(this,arguments)}}),X.prototype.pointClass=nt,et.registerSeriesType("networkgraph",X),X}),dt(ft,"masters/modules/networkgraph.src.js",[],function(){})},_e.exports?(ft.default=ft,_e.exports=ft):(zt=[Ft(4317)],void 0!==(Kt=function(dt){return ft(dt),ft.Highcharts=dt,ft}.apply(st,zt))&&(_e.exports=Kt))},1883:(_e,st,Ft)=>{"use strict";var zt=Ft(4658),Kt=Ft(1171),ft=Ft(4725);function dt(E){if(!(this instanceof dt))return new dt(E);this.hash=E.hash,this.predResist=!!E.predResist,this.outLen=this.hash.outSize,this.minEntropy=E.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var K=Kt.toArray(E.entropy,E.entropyEnc||"hex"),Y=Kt.toArray(E.nonce,E.nonceEnc||"hex"),ct=Kt.toArray(E.pers,E.persEnc||"hex");ft(K.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(K,Y,ct)}_e.exports=dt,dt.prototype._init=function(K,Y,ct){var et=K.concat(Y).concat(ct);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var X=0;X<this.V.length;X++)this.K[X]=0,this.V[X]=1;this._update(et),this._reseed=1,this.reseedInterval=281474976710656},dt.prototype._hmac=function(){return new zt.hmac(this.hash,this.K)},dt.prototype._update=function(K){var Y=this._hmac().update(this.V).update([0]);K&&(Y=Y.update(K)),this.K=Y.digest(),this.V=this._hmac().update(this.V).digest(),K&&(this.K=this._hmac().update(this.V).update([1]).update(K).digest(),this.V=this._hmac().update(this.V).digest())},dt.prototype.reseed=function(K,Y,ct,et){"string"!=typeof Y&&(et=ct,ct=Y,Y=null),K=Kt.toArray(K,Y),ct=Kt.toArray(ct,et),ft(K.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(K.concat(ct||[])),this._reseed=1},dt.prototype.generate=function(K,Y,ct,et){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof Y&&(et=ct,ct=Y,Y=null),ct&&(ct=Kt.toArray(ct,et||"hex"),this._update(ct));for(var X=[];X.length<K;)this.V=this._hmac().update(this.V).digest(),X=X.concat(this.V);var U=X.slice(0,K);return this._update(ct),this._reseed++,Kt.encode(U,Y)}},1208:(_e,st)=>{st.read=function(Ft,zt,Kt,ft,dt){var E,K,Y=8*dt-ft-1,ct=(1<<Y)-1,et=ct>>1,X=-7,U=Kt?dt-1:0,at=Kt?-1:1,V=Ft[zt+U];for(U+=at,E=V&(1<<-X)-1,V>>=-X,X+=Y;X>0;E=256*E+Ft[zt+U],U+=at,X-=8);for(K=E&(1<<-X)-1,E>>=-X,X+=ft;X>0;K=256*K+Ft[zt+U],U+=at,X-=8);if(0===E)E=1-et;else{if(E===ct)return K?NaN:1/0*(V?-1:1);K+=Math.pow(2,ft),E-=et}return(V?-1:1)*K*Math.pow(2,E-ft)},st.write=function(Ft,zt,Kt,ft,dt,E){var K,Y,ct,et=8*E-dt-1,X=(1<<et)-1,U=X>>1,at=23===dt?Math.pow(2,-24)-Math.pow(2,-77):0,V=ft?0:E-1,$=ft?1:-1,H=zt<0||0===zt&&1/zt<0?1:0;for(zt=Math.abs(zt),isNaN(zt)||zt===1/0?(Y=isNaN(zt)?1:0,K=X):(K=Math.floor(Math.log(zt)/Math.LN2),zt*(ct=Math.pow(2,-K))<1&&(K--,ct*=2),(zt+=K+U>=1?at/ct:at*Math.pow(2,1-U))*ct>=2&&(K++,ct/=2),K+U>=X?(Y=0,K=X):K+U>=1?(Y=(zt*ct-1)*Math.pow(2,dt),K+=U):(Y=zt*Math.pow(2,U-1)*Math.pow(2,dt),K=0));dt>=8;Ft[Kt+V]=255&Y,V+=$,Y/=256,dt-=8);for(K=K<<dt|Y,et+=dt;et>0;Ft[Kt+V]=255&K,V+=$,K/=256,et-=8);Ft[Kt+V-$]|=128*H}},3516:_e=>{_e.exports="function"==typeof Object.create?function(Ft,zt){zt&&(Ft.super_=zt,Ft.prototype=Object.create(zt.prototype,{constructor:{value:Ft,enumerable:!1,writable:!0,configurable:!0}}))}:function(Ft,zt){if(zt){Ft.super_=zt;var Kt=function(){};Kt.prototype=zt.prototype,Ft.prototype=new Kt,Ft.prototype.constructor=Ft}}},3783:(_e,st,Ft)=>{_e.exports=Ft(967)},967:(_e,st,Ft)=>{var zt=Ft(7702),Kt={HS256:"sha256",HS384:"sha384",HS512:"sha512",RS256:"RSA-SHA256"},ft={HS256:"hmac",HS384:"hmac",HS512:"hmac",RS256:"sign"},dt=_e.exports;function Y(at,V,$,H){var G;if("hmac"===H)G=zt.createHmac($,V).update(at).digest("base64");else{if("sign"!=H)throw new Error("Algorithm type not recognized");G=zt.createSign($).update(at).sign(V,"base64")}return U(G)}function ct(at){return Buffer.from(et(at),"base64").toString()}function et(at){return(at+=new Array(5-at.length%4).join("=")).replace(/\-/g,"+").replace(/_/g,"/")}function X(at){return U(Buffer.from(at).toString("base64"))}function U(at){return at.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}dt.version="0.5.6",dt.decode=function(V,$,H,G){if(!V)throw new Error("No token supplied");var J=V.split(".");if(3!==J.length)throw new Error("Not enough or too many segments");var z=J[0],nt=J[1],Q=J[2],lt=JSON.parse(ct(z)),_t=JSON.parse(ct(nt));if(!H){!G&&/BEGIN( RSA)? PUBLIC KEY/.test($.toString())&&(G="RS256");var Ct=Kt[G||lt.alg],kt=ft[G||lt.alg];if(!Ct||!kt)throw new Error("Algorithm not supported");if(!function(at,V,$,H,G){if("hmac"===H)return G===Y(at,V,$,H);if("sign"==H)return zt.createVerify($).update(at).verify(V,et(G),"base64");throw new Error("Algorithm type not recognized")}([z,nt].join("."),$,Ct,kt,Q))throw new Error("Signature verification failed");if(_t.nbf&&Date.now()<1e3*_t.nbf)throw new Error("Token not yet active");if(_t.exp&&Date.now()>1e3*_t.exp)throw new Error("Token expired")}return _t},dt.encode=function(V,$,H,G){if(!$)throw new Error("Require key");H||(H="HS256");var J=Kt[H],z=ft[H];if(!J||!z)throw new Error("Algorithm not supported");var nt={typ:"JWT",alg:H};G&&G.header&&function(at,V){for(var $ in V)V.hasOwnProperty($)&&(at[$]=V[$])}(nt,G.header);var Q=[];return Q.push(X(JSON.stringify(nt))),Q.push(X(JSON.stringify(V))),Q.push(Y(Q.join("."),$,J,z)),Q.join(".")}},5122:_e=>{var Kt=/^\s+|\s+$/g,ft=/^[-+]0x[0-9a-f]+$/i,dt=/^0b[01]+$/i,E=/^0o[0-7]+$/i,K=parseInt,Y="object"==typeof global&&global&&global.Object===Object&&global,ct="object"==typeof self&&self&&self.Object===Object&&self,et=Y||ct||Function("return this")(),U=Object.prototype.toString,at=Math.max,V=Math.min,$=function(){return et.Date.now()};function G(Q){var lt=typeof Q;return!!Q&&("object"==lt||"function"==lt)}function nt(Q){if("number"==typeof Q)return Q;if(function(Q){return"symbol"==typeof Q||function(Q){return!!Q&&"object"==typeof Q}(Q)&&"[object Symbol]"==U.call(Q)}(Q))return NaN;if(G(Q)){var lt="function"==typeof Q.valueOf?Q.valueOf():Q;Q=G(lt)?lt+"":lt}if("string"!=typeof Q)return 0===Q?Q:+Q;Q=Q.replace(Kt,"");var _t=dt.test(Q);return _t||E.test(Q)?K(Q.slice(2),_t?2:8):ft.test(Q)?NaN:+Q}_e.exports=function(Q,lt,_t){var Ct,kt,Et,St,R,u,m=0,y=!1,v=!1,M=!0;if("function"!=typeof Q)throw new TypeError("Expected a function");function S(wt){var Vt=Ct,Ut=kt;return Ct=kt=void 0,m=wt,St=Q.apply(Ut,Vt)}function I(wt){return m=wt,R=setTimeout(T,lt),y?S(wt):St}function p(wt){var Vt=wt-u;return void 0===u||Vt>=lt||Vt<0||v&&wt-m>=Et}function T(){var wt=$();if(p(wt))return it(wt);R=setTimeout(T,function(wt){var At=lt-(wt-u);return v?V(At,Et-(wt-m)):At}(wt))}function it(wt){return R=void 0,M&&Ct?S(wt):(Ct=kt=void 0,St)}function yt(){var wt=$(),Vt=p(wt);if(Ct=arguments,kt=this,u=wt,Vt){if(void 0===R)return I(u);if(v)return R=setTimeout(T,lt),S(u)}return void 0===R&&(R=setTimeout(T,lt)),St}return lt=nt(lt)||0,G(_t)&&(y=!!_t.leading,Et=(v="maxWait"in _t)?at(nt(_t.maxWait)||0,lt):Et,M="trailing"in _t?!!_t.trailing:M),yt.cancel=function(){void 0!==R&&clearTimeout(R),m=0,Ct=u=kt=R=void 0},yt.flush=function(){return void 0===R?St:it($())},yt}},7674:function(_e){_e.exports=function(){"use strict";function st(Oe,ai){for(var ke=0;ke<ai.length;ke++){var re=ai[ke];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(Oe,re.key,re)}}function Kt(Oe,ai){(null==ai||ai>Oe.length)&&(ai=Oe.length);for(var ke=0,re=new Array(ai);ke<ai;ke++)re[ke]=Oe[ke];return re}function ft(Oe,ai){var ke="undefined"!=typeof Symbol&&Oe[Symbol.iterator]||Oe["@@iterator"];if(ke)return(ke=ke.call(Oe)).next.bind(ke);if(Array.isArray(Oe)||(ke=function(Oe,ai){if(Oe){if("string"==typeof Oe)return Kt(Oe,ai);var ke=Object.prototype.toString.call(Oe).slice(8,-1);if("Object"===ke&&Oe.constructor&&(ke=Oe.constructor.name),"Map"===ke||"Set"===ke)return Array.from(Oe);if("Arguments"===ke||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ke))return Kt(Oe,ai)}}(Oe))||ai&&Oe&&"number"==typeof Oe.length){ke&&(Oe=ke);var re=0;return function(){return re>=Oe.length?{done:!0}:{done:!1,value:Oe[re++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var dt={exports:{}};function E(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}dt.exports={defaults:{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:E,changeDefaults:function(Oe){dt.exports.defaults=Oe}};var Y=/[&<>"']/,ct=/[&<>"']/g,et=/[<>"']|&(?!#?\w+;)/,X=/[<>"']|&(?!#?\w+;)/g,U={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},at=function(ai){return U[ai]};var $=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function H(Oe){return Oe.replace($,function(ai,ke){return"colon"===(ke=ke.toLowerCase())?":":"#"===ke.charAt(0)?"x"===ke.charAt(1)?String.fromCharCode(parseInt(ke.substring(2),16)):String.fromCharCode(+ke.substring(1)):""})}var G=/(^|[^\[])\^/g;var z=/[^\w:]/g,nt=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;var lt={},_t=/^[^:]+:\/*[^/]*$/,Ct=/^([^:]+:)[\s\S]*$/,kt=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Et(Oe,ai){lt[" "+Oe]||(lt[" "+Oe]=_t.test(Oe)?Oe+"/":m(Oe,"/",!0));var ke=-1===(Oe=lt[" "+Oe]).indexOf(":");return"//"===ai.substring(0,2)?ke?ai:Oe.replace(Ct,"$1")+ai:"/"===ai.charAt(0)?ke?ai:Oe.replace(kt,"$1")+ai:Oe+ai}function m(Oe,ai,ke){var re=Oe.length;if(0===re)return"";for(var De=0;De<re;){var he=Oe.charAt(re-De-1);if(he!==ai||ke){if(he===ai||!ke)break;De++}else De++}return Oe.substr(0,re-De)}var S_escape=function(Oe,ai){if(ai){if(Y.test(Oe))return Oe.replace(ct,at)}else if(et.test(Oe))return Oe.replace(X,at);return Oe},S_unescape=H,S_edit=function(Oe,ai){Oe=Oe.source||Oe,ai=ai||"";var ke={replace:function(De,he){return he=(he=he.source||he).replace(G,"$1"),Oe=Oe.replace(De,he),ke},getRegex:function(){return new RegExp(Oe,ai)}};return ke},S_cleanUrl=function(Oe,ai,ke){if(Oe){var re;try{re=decodeURIComponent(H(ke)).replace(z,"").toLowerCase()}catch(De){return null}if(0===re.indexOf("javascript:")||0===re.indexOf("vbscript:")||0===re.indexOf("data:"))return null}ai&&!nt.test(ke)&&(ke=Et(ai,ke));try{ke=encodeURI(ke).replace(/%25/g,"%")}catch(De){return null}return ke},S_noopTest={exec:function(){}},S_merge=function(Oe){for(var ke,re,ai=1;ai<arguments.length;ai++)for(re in ke=arguments[ai])Object.prototype.hasOwnProperty.call(ke,re)&&(Oe[re]=ke[re]);return Oe},S_checkSanitizeDeprecation=function(Oe){Oe&&Oe.sanitize&&!Oe.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},S_repeatString=function(Oe,ai){if(ai<1)return"";for(var ke="";ai>1;)1&ai&&(ke+=Oe),ai>>=1,Oe+=Oe;return ke+Oe},I=dt.exports.defaults,C=m,p=function(Oe,ai){var re=Oe.replace(/\|/g,function(he,Se,$e){for(var te=!1,Re=Se;--Re>=0&&"\\"===$e[Re];)te=!te;return te?"|":" |"}).split(/ \|/),De=0;if(re.length>ai)re.splice(ai);else for(;re.length<ai;)re.push("");for(;De<re.length;De++)re[De]=re[De].trim().replace(/\\\|/g,"|");return re},T=S_escape,it=function(Oe,ai){if(-1===Oe.indexOf(ai[1]))return-1;for(var ke=Oe.length,re=0,De=0;De<ke;De++)if("\\"===Oe[De])De++;else if(Oe[De]===ai[0])re++;else if(Oe[De]===ai[1]&&--re<0)return De;return-1};function Z(Oe,ai,ke){var re=ai.href,De=ai.title?T(ai.title):null,he=Oe[1].replace(/\\([\[\]])/g,"$1");return"!"!==Oe[0].charAt(0)?{type:"link",raw:ke,href:re,title:De,text:he}:{type:"image",raw:ke,href:re,title:De,text:T(he)}}var yt=function(){function Oe(ke){this.options=ke||I}var ai=Oe.prototype;return ai.space=function(re){var De=this.rules.block.newline.exec(re);if(De)return De[0].length>1?{type:"space",raw:De[0]}:{raw:"\n"}},ai.code=function(re){var De=this.rules.block.code.exec(re);if(De){var he=De[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:De[0],codeBlockStyle:"indented",text:this.options.pedantic?he:C(he,"\n")}}},ai.fences=function(re){var De=this.rules.block.fences.exec(re);if(De){var he=De[0],Se=function(Oe,ai){var ke=Oe.match(/^(\s+)(?:```)/);if(null===ke)return ai;var re=ke[1];return ai.split("\n").map(function(De){var he=De.match(/^\s+/);return null===he?De:he[0].length>=re.length?De.slice(re.length):De}).join("\n")}(he,De[3]||"");return{type:"code",raw:he,lang:De[2]?De[2].trim():De[2],text:Se}}},ai.heading=function(re){var De=this.rules.block.heading.exec(re);if(De){var he=De[2].trim();if(/#$/.test(he)){var Se=C(he,"#");(this.options.pedantic||!Se||/ $/.test(Se))&&(he=Se.trim())}return{type:"heading",raw:De[0],depth:De[1].length,text:he}}},ai.nptable=function(re){var De=this.rules.block.nptable.exec(re);if(De){var he={type:"table",header:p(De[1].replace(/^ *| *\| *$/g,"")),align:De[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:De[3]?De[3].replace(/\n$/,"").split("\n"):[],raw:De[0]};if(he.header.length===he.align.length){var $e,Se=he.align.length;for($e=0;$e<Se;$e++)he.align[$e]=/^ *-+: *$/.test(he.align[$e])?"right":/^ *:-+: *$/.test(he.align[$e])?"center":/^ *:-+ *$/.test(he.align[$e])?"left":null;for(Se=he.cells.length,$e=0;$e<Se;$e++)he.cells[$e]=p(he.cells[$e],he.header.length);return he}}},ai.hr=function(re){var De=this.rules.block.hr.exec(re);if(De)return{type:"hr",raw:De[0]}},ai.blockquote=function(re){var De=this.rules.block.blockquote.exec(re);if(De){var he=De[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:De[0],text:he}}},ai.list=function(re){var De=this.rules.block.list.exec(re);if(De){var Qe,di,Bn,ci,si,an,cn,Fn,Or,he=De[0],Se=De[2],$e=Se.length>1,te={type:"list",raw:he,ordered:$e,start:$e?+Se.slice(0,-1):"",loose:!1,items:[]},Re=De[0].match(this.rules.block.item),sn=!1,Vn=Re.length;Bn=this.rules.block.listItemStart.exec(Re[0]);for(var Jn=0;Jn<Vn;Jn++){if(he=Qe=Re[Jn],this.options.pedantic||(Or=Qe.match(new RegExp("\\n\\s*\\n {0,"+(Bn[0].length-1)+"}\\S")))&&(si=Qe.length-Or.index+Re.slice(Jn+1).join("\n").length,te.raw=te.raw.substring(0,te.raw.length-si),he=Qe=Qe.substring(0,Or.index),Vn=Jn+1),Jn!==Vn-1){if(ci=this.rules.block.listItemStart.exec(Re[Jn+1]),this.options.pedantic?ci[1].length>Bn[1].length:ci[1].length>=Bn[0].length||ci[1].length>3){Re.splice(Jn,2,Re[Jn]+(!this.options.pedantic&&ci[1].length<Bn[0].length&&!Re[Jn].match(/\n$/)?"":"\n")+Re[Jn+1]),Jn--,Vn--;continue}(!this.options.pedantic||this.options.smartLists?ci[2][ci[2].length-1]!==Se[Se.length-1]:$e===(1===ci[2].length))&&(si=Re.slice(Jn+1).join("\n").length,te.raw=te.raw.substring(0,te.raw.length-si),Jn=Vn-1),Bn=ci}di=Qe.length,~(Qe=Qe.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(di-=Qe.length,Qe=Qe.replace(this.options.pedantic?/^ {1,4}/gm:new RegExp("^ {1,"+di+"}","gm"),"")),Qe=C(Qe,"\n"),Jn!==Vn-1&&(he+="\n"),an=sn||/\n\n(?!\s*$)/.test(he),Jn!==Vn-1&&(sn="\n\n"===he.slice(-2),an||(an=sn)),an&&(te.loose=!0),this.options.gfm&&(Fn=void 0,(cn=/^\[[ xX]\] /.test(Qe))&&(Fn=" "!==Qe[1],Qe=Qe.replace(/^\[[ xX]\] +/,""))),te.items.push({type:"list_item",raw:he,task:cn,checked:Fn,loose:an,text:Qe})}return te}},ai.html=function(re){var De=this.rules.block.html.exec(re);if(De)return{type:this.options.sanitize?"paragraph":"html",raw:De[0],pre:!this.options.sanitizer&&("pre"===De[1]||"script"===De[1]||"style"===De[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(De[0]):T(De[0]):De[0]}},ai.def=function(re){var De=this.rules.block.def.exec(re);if(De)return De[3]&&(De[3]=De[3].substring(1,De[3].length-1)),{type:"def",tag:De[1].toLowerCase().replace(/\s+/g," "),raw:De[0],href:De[2],title:De[3]}},ai.table=function(re){var De=this.rules.block.table.exec(re);if(De){var he={type:"table",header:p(De[1].replace(/^ *| *\| *$/g,"")),align:De[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:De[3]?De[3].replace(/\n$/,"").split("\n"):[]};if(he.header.length===he.align.length){he.raw=De[0];var $e,Se=he.align.length;for($e=0;$e<Se;$e++)he.align[$e]=/^ *-+: *$/.test(he.align[$e])?"right":/^ *:-+: *$/.test(he.align[$e])?"center":/^ *:-+ *$/.test(he.align[$e])?"left":null;for(Se=he.cells.length,$e=0;$e<Se;$e++)he.cells[$e]=p(he.cells[$e].replace(/^ *\| *| *\| *$/g,""),he.header.length);return he}}},ai.lheading=function(re){var De=this.rules.block.lheading.exec(re);if(De)return{type:"heading",raw:De[0],depth:"="===De[2].charAt(0)?1:2,text:De[1]}},ai.paragraph=function(re){var De=this.rules.block.paragraph.exec(re);if(De)return{type:"paragraph",raw:De[0],text:"\n"===De[1].charAt(De[1].length-1)?De[1].slice(0,-1):De[1]}},ai.text=function(re){var De=this.rules.block.text.exec(re);if(De)return{type:"text",raw:De[0],text:De[0]}},ai.escape=function(re){var De=this.rules.inline.escape.exec(re);if(De)return{type:"escape",raw:De[0],text:T(De[1])}},ai.tag=function(re,De,he){var Se=this.rules.inline.tag.exec(re);if(Se)return!De&&/^<a /i.test(Se[0])?De=!0:De&&/^<\/a>/i.test(Se[0])&&(De=!1),!he&&/^<(pre|code|kbd|script)(\s|>)/i.test(Se[0])?he=!0:he&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Se[0])&&(he=!1),{type:this.options.sanitize?"text":"html",raw:Se[0],inLink:De,inRawBlock:he,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Se[0]):T(Se[0]):Se[0]}},ai.link=function(re){var De=this.rules.inline.link.exec(re);if(De){var he=De[2].trim();if(!this.options.pedantic&&/^</.test(he)){if(!/>$/.test(he))return;var Se=C(he.slice(0,-1),"\\");if((he.length-Se.length)%2==0)return}else{var $e=it(De[2],"()");if($e>-1){var Re=(0===De[0].indexOf("!")?5:4)+De[1].length+$e;De[2]=De[2].substring(0,$e),De[0]=De[0].substring(0,Re).trim(),De[3]=""}}var sn=De[2],Qe="";if(this.options.pedantic){var di=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(sn);di&&(sn=di[1],Qe=di[3])}else Qe=De[3]?De[3].slice(1,-1):"";return sn=sn.trim(),/^</.test(sn)&&(sn=this.options.pedantic&&!/>$/.test(he)?sn.slice(1):sn.slice(1,-1)),Z(De,{href:sn&&sn.replace(this.rules.inline._escapes,"$1"),title:Qe&&Qe.replace(this.rules.inline._escapes,"$1")},De[0])}},ai.reflink=function(re,De){var he;if((he=this.rules.inline.reflink.exec(re))||(he=this.rules.inline.nolink.exec(re))){var Se=(he[2]||he[1]).replace(/\s+/g," ");if(!(Se=De[Se.toLowerCase()])||!Se.href){var $e=he[0].charAt(0);return{type:"text",raw:$e,text:$e}}return Z(he,Se,he[0])}},ai.emStrong=function(re,De,he){void 0===he&&(he="");var Se=this.rules.inline.emStrong.lDelim.exec(re);if(Se&&(!Se[3]||!he.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var $e=Se[1]||Se[2]||"";if(!$e||$e&&(""===he||this.rules.inline.punctuation.exec(he))){var Re,sn,te=Se[0].length-1,Qe=te,di=0,Bn="*"===Se[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Bn.lastIndex=0,De=De.slice(-1*re.length+te);null!=(Se=Bn.exec(De));)if(Re=Se[1]||Se[2]||Se[3]||Se[4]||Se[5]||Se[6]){if(sn=Re.length,Se[3]||Se[4]){Qe+=sn;continue}if((Se[5]||Se[6])&&te%3&&!((te+sn)%3)){di+=sn;continue}if(!((Qe-=sn)>0))return sn=Math.min(sn,sn+Qe+di),Math.min(te,sn)%2?{type:"em",raw:re.slice(0,te+Se.index+sn+1),text:re.slice(1,te+Se.index+sn)}:{type:"strong",raw:re.slice(0,te+Se.index+sn+1),text:re.slice(2,te+Se.index+sn-1)}}}}},ai.codespan=function(re){var De=this.rules.inline.code.exec(re);if(De){var he=De[2].replace(/\n/g," "),Se=/[^ ]/.test(he),$e=/^ /.test(he)&&/ $/.test(he);return Se&&$e&&(he=he.substring(1,he.length-1)),he=T(he,!0),{type:"codespan",raw:De[0],text:he}}},ai.br=function(re){var De=this.rules.inline.br.exec(re);if(De)return{type:"br",raw:De[0]}},ai.del=function(re){var De=this.rules.inline.del.exec(re);if(De)return{type:"del",raw:De[0],text:De[2]}},ai.autolink=function(re,De){var Se,$e,he=this.rules.inline.autolink.exec(re);if(he)return $e="@"===he[2]?"mailto:"+(Se=T(this.options.mangle?De(he[1]):he[1])):Se=T(he[1]),{type:"link",raw:he[0],text:Se,href:$e,tokens:[{type:"text",raw:Se,text:Se}]}},ai.url=function(re,De){var he;if(he=this.rules.inline.url.exec(re)){var Se,$e;if("@"===he[2])$e="mailto:"+(Se=T(this.options.mangle?De(he[0]):he[0]));else{var te;do{te=he[0],he[0]=this.rules.inline._backpedal.exec(he[0])[0]}while(te!==he[0]);Se=T(he[0]),$e="www."===he[1]?"http://"+Se:Se}return{type:"link",raw:he[0],text:Se,href:$e,tokens:[{type:"text",raw:Se,text:Se}]}}},ai.inlineText=function(re,De,he){var $e,Se=this.rules.inline.text.exec(re);if(Se)return $e=De?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Se[0]):T(Se[0]):Se[0]:T(this.options.smartypants?he(Se[0]):Se[0]),{type:"text",raw:Se[0],text:$e}},Oe}(),wt=S_noopTest,Vt=S_edit,Ut=S_merge,At={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:wt,table:wt,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};At.def=Vt(At.def).replace("label",At._label).replace("title",At._title).getRegex(),At.bullet=/(?:[*+-]|\d{1,9}[.)])/,At.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,At.item=Vt(At.item,"gm").replace(/bull/g,At.bullet).getRegex(),At.listItemStart=Vt(/^( *)(bull) */).replace("bull",At.bullet).getRegex(),At.list=Vt(At.list).replace(/bull/g,At.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+At.def.source+")").getRegex(),At._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",At._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,At.html=Vt(At.html,"i").replace("comment",At._comment).replace("tag",At._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),At.paragraph=Vt(At._paragraph).replace("hr",At.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",At._tag).getRegex(),At.blockquote=Vt(At.blockquote).replace("paragraph",At.paragraph).getRegex(),At.normal=Ut({},At),At.gfm=Ut({},At.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),At.gfm.nptable=Vt(At.gfm.nptable).replace("hr",At.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",At._tag).getRegex(),At.gfm.table=Vt(At.gfm.table).replace("hr",At.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",At._tag).getRegex(),At.pedantic=Ut({},At.normal,{html:Vt("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",At._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:wt,paragraph:Vt(At.normal._paragraph).replace("hr",At.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",At.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var bt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:wt,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:wt,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};bt.punctuation=Vt(bt.punctuation).replace(/punctuation/g,bt._punctuation).getRegex(),bt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,bt.escapedEmSt=/\\\*|\\_/g,bt._comment=Vt(At._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),bt.emStrong.lDelim=Vt(bt.emStrong.lDelim).replace(/punct/g,bt._punctuation).getRegex(),bt.emStrong.rDelimAst=Vt(bt.emStrong.rDelimAst,"g").replace(/punct/g,bt._punctuation).getRegex(),bt.emStrong.rDelimUnd=Vt(bt.emStrong.rDelimUnd,"g").replace(/punct/g,bt._punctuation).getRegex(),bt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,bt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,bt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,bt.autolink=Vt(bt.autolink).replace("scheme",bt._scheme).replace("email",bt._email).getRegex(),bt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,bt.tag=Vt(bt.tag).replace("comment",bt._comment).replace("attribute",bt._attribute).getRegex(),bt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,bt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,bt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,bt.link=Vt(bt.link).replace("label",bt._label).replace("href",bt._href).replace("title",bt._title).getRegex(),bt.reflink=Vt(bt.reflink).replace("label",bt._label).getRegex(),bt.reflinkSearch=Vt(bt.reflinkSearch,"g").replace("reflink",bt.reflink).replace("nolink",bt.nolink).getRegex(),bt.normal=Ut({},bt),bt.pedantic=Ut({},bt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Vt(/^!?\[(label)\]\((.*?)\)/).replace("label",bt._label).getRegex(),reflink:Vt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",bt._label).getRegex()}),bt.gfm=Ut({},bt.normal,{escape:Vt(bt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),bt.gfm.url=Vt(bt.gfm.url,"i").replace("email",bt.gfm._extended_email).getRegex(),bt.breaks=Ut({},bt.gfm,{br:Vt(bt.br).replace("{2,}","*").getRegex(),text:Vt(bt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var qt={block:At,inline:bt},Rt=yt,Dt=dt.exports.defaults,Bt=qt.block,Zt=qt.inline,Lt=S_repeatString;function Ce(Oe){return Oe.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function Ht(Oe){var ke,re,ai="",De=Oe.length;for(ke=0;ke<De;ke++)re=Oe.charCodeAt(ke),Math.random()>.5&&(re="x"+re.toString(16)),ai+="&#"+re+";";return ai}var me=function(){function Oe(ke){this.tokens=[],this.tokens.links=Object.create(null),this.options=ke||Dt,this.options.tokenizer=this.options.tokenizer||new Rt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var re={block:Bt.normal,inline:Zt.normal};this.options.pedantic?(re.block=Bt.pedantic,re.inline=Zt.pedantic):this.options.gfm&&(re.block=Bt.gfm,re.inline=this.options.breaks?Zt.breaks:Zt.gfm),this.tokenizer.rules=re}Oe.lex=function(re,De){return new Oe(De).lex(re)},Oe.lexInline=function(re,De){return new Oe(De).inlineTokens(re)};var ai=Oe.prototype;return ai.lex=function(re){return re=re.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(re,this.tokens,!0),this.inline(this.tokens),this.tokens},ai.blockTokens=function(re,De,he){var $e,te,Re,sn,Qe,di,Se=this;for(void 0===De&&(De=[]),void 0===he&&(he=!0),this.options.pedantic&&(re=re.replace(/^ +$/gm,""));re;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(ci){return!!($e=ci.call(Se,re,De))&&(re=re.substring($e.raw.length),De.push($e),!0)}))){if($e=this.tokenizer.space(re)){re=re.substring($e.raw.length),$e.type&&De.push($e);continue}if($e=this.tokenizer.code(re)){re=re.substring($e.raw.length),(sn=De[De.length-1])&&"paragraph"===sn.type?(sn.raw+="\n"+$e.raw,sn.text+="\n"+$e.text):De.push($e);continue}if($e=this.tokenizer.fences(re)){re=re.substring($e.raw.length),De.push($e);continue}if($e=this.tokenizer.heading(re)){re=re.substring($e.raw.length),De.push($e);continue}if($e=this.tokenizer.nptable(re)){re=re.substring($e.raw.length),De.push($e);continue}if($e=this.tokenizer.hr(re)){re=re.substring($e.raw.length),De.push($e);continue}if($e=this.tokenizer.blockquote(re)){re=re.substring($e.raw.length),$e.tokens=this.blockTokens($e.text,[],he),De.push($e);continue}if($e=this.tokenizer.list(re)){for(re=re.substring($e.raw.length),Re=$e.items.length,te=0;te<Re;te++)$e.items[te].tokens=this.blockTokens($e.items[te].text,[],!1);De.push($e);continue}if($e=this.tokenizer.html(re)){re=re.substring($e.raw.length),De.push($e);continue}if(he&&($e=this.tokenizer.def(re))){re=re.substring($e.raw.length),this.tokens.links[$e.tag]||(this.tokens.links[$e.tag]={href:$e.href,title:$e.title});continue}if($e=this.tokenizer.table(re)){re=re.substring($e.raw.length),De.push($e);continue}if($e=this.tokenizer.lheading(re)){re=re.substring($e.raw.length),De.push($e);continue}if(Qe=re,this.options.extensions&&this.options.extensions.startBlock&&function(){var ci=1/0,si=re.slice(1),an=void 0;Se.options.extensions.startBlock.forEach(function(cn){"number"==typeof(an=cn.call(this,si))&&an>=0&&(ci=Math.min(ci,an))}),ci<1/0&&ci>=0&&(Qe=re.substring(0,ci+1))}(),he&&($e=this.tokenizer.paragraph(Qe))){sn=De[De.length-1],di&&"paragraph"===sn.type?(sn.raw+="\n"+$e.raw,sn.text+="\n"+$e.text):De.push($e),di=Qe.length!==re.length,re=re.substring($e.raw.length);continue}if($e=this.tokenizer.text(re)){re=re.substring($e.raw.length),(sn=De[De.length-1])&&"text"===sn.type?(sn.raw+="\n"+$e.raw,sn.text+="\n"+$e.text):De.push($e);continue}if(re){var Bn="Infinite loop on byte: "+re.charCodeAt(0);if(this.options.silent){console.error(Bn);break}throw new Error(Bn)}}return De},ai.inline=function(re){var De,he,Se,$e,te,Re,sn=re.length;for(De=0;De<sn;De++)switch(Re=re[De],Re.type){case"paragraph":case"text":case"heading":Re.tokens=[],this.inlineTokens(Re.text,Re.tokens);break;case"table":for(Re.tokens={header:[],cells:[]},$e=Re.header.length,he=0;he<$e;he++)Re.tokens.header[he]=[],this.inlineTokens(Re.header[he],Re.tokens.header[he]);for($e=Re.cells.length,he=0;he<$e;he++)for(te=Re.cells[he],Re.tokens.cells[he]=[],Se=0;Se<te.length;Se++)Re.tokens.cells[he][Se]=[],this.inlineTokens(te[Se],Re.tokens.cells[he][Se]);break;case"blockquote":this.inline(Re.tokens);break;case"list":for($e=Re.items.length,he=0;he<$e;he++)this.inline(Re.items[he].tokens)}return re},ai.inlineTokens=function(re,De,he,Se){var $e=this;void 0===De&&(De=[]),void 0===he&&(he=!1),void 0===Se&&(Se=!1);var te,Re,sn,di,Bn,ci,Qe=re;if(this.tokens.links){var si=Object.keys(this.tokens.links);if(si.length>0)for(;null!=(di=this.tokenizer.rules.inline.reflinkSearch.exec(Qe));)si.includes(di[0].slice(di[0].lastIndexOf("[")+1,-1))&&(Qe=Qe.slice(0,di.index)+"["+Lt("a",di[0].length-2)+"]"+Qe.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(di=this.tokenizer.rules.inline.blockSkip.exec(Qe));)Qe=Qe.slice(0,di.index)+"["+Lt("a",di[0].length-2)+"]"+Qe.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(di=this.tokenizer.rules.inline.escapedEmSt.exec(Qe));)Qe=Qe.slice(0,di.index)+"++"+Qe.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;re;)if(Bn||(ci=""),Bn=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(cn){return!!(te=cn.call($e,re,De))&&(re=re.substring(te.raw.length),De.push(te),!0)}))){if(te=this.tokenizer.escape(re)){re=re.substring(te.raw.length),De.push(te);continue}if(te=this.tokenizer.tag(re,he,Se)){re=re.substring(te.raw.length),he=te.inLink,Se=te.inRawBlock,(Re=De[De.length-1])&&"text"===te.type&&"text"===Re.type?(Re.raw+=te.raw,Re.text+=te.text):De.push(te);continue}if(te=this.tokenizer.link(re)){re=re.substring(te.raw.length),"link"===te.type&&(te.tokens=this.inlineTokens(te.text,[],!0,Se)),De.push(te);continue}if(te=this.tokenizer.reflink(re,this.tokens.links)){re=re.substring(te.raw.length),Re=De[De.length-1],"link"===te.type?(te.tokens=this.inlineTokens(te.text,[],!0,Se),De.push(te)):Re&&"text"===te.type&&"text"===Re.type?(Re.raw+=te.raw,Re.text+=te.text):De.push(te);continue}if(te=this.tokenizer.emStrong(re,Qe,ci)){re=re.substring(te.raw.length),te.tokens=this.inlineTokens(te.text,[],he,Se),De.push(te);continue}if(te=this.tokenizer.codespan(re)){re=re.substring(te.raw.length),De.push(te);continue}if(te=this.tokenizer.br(re)){re=re.substring(te.raw.length),De.push(te);continue}if(te=this.tokenizer.del(re)){re=re.substring(te.raw.length),te.tokens=this.inlineTokens(te.text,[],he,Se),De.push(te);continue}if(te=this.tokenizer.autolink(re,Ht)){re=re.substring(te.raw.length),De.push(te);continue}if(!he&&(te=this.tokenizer.url(re,Ht))){re=re.substring(te.raw.length),De.push(te);continue}if(sn=re,this.options.extensions&&this.options.extensions.startInline&&function(){var cn=1/0,Fn=re.slice(1),Or=void 0;$e.options.extensions.startInline.forEach(function(Vn){"number"==typeof(Or=Vn.call(this,Fn))&&Or>=0&&(cn=Math.min(cn,Or))}),cn<1/0&&cn>=0&&(sn=re.substring(0,cn+1))}(),te=this.tokenizer.inlineText(sn,Se,Ce)){re=re.substring(te.raw.length),"_"!==te.raw.slice(-1)&&(ci=te.raw.slice(-1)),Bn=!0,(Re=De[De.length-1])&&"text"===Re.type?(Re.raw+=te.raw,Re.text+=te.text):De.push(te);continue}if(re){var an="Infinite loop on byte: "+re.charCodeAt(0);if(this.options.silent){console.error(an);break}throw new Error(an)}}return De},function(Oe,ai,ke){ai&&st(Oe.prototype,ai),ke&&st(Oe,ke)}(Oe,null,[{key:"rules",get:function(){return{block:Bt,inline:Zt}}}]),Oe}(),Si=dt.exports.defaults,be=S_cleanUrl,de=S_escape,je=function(){function Oe(ke){this.options=ke||Si}var ai=Oe.prototype;return ai.code=function(re,De,he){var Se=(De||"").match(/\S*/)[0];if(this.options.highlight){var $e=this.options.highlight(re,Se);null!=$e&&$e!==re&&(he=!0,re=$e)}return re=re.replace(/\n$/,"")+"\n",Se?'<pre><code class="'+this.options.langPrefix+de(Se,!0)+'">'+(he?re:de(re,!0))+"</code></pre>\n":"<pre><code>"+(he?re:de(re,!0))+"</code></pre>\n"},ai.blockquote=function(re){return"<blockquote>\n"+re+"</blockquote>\n"},ai.html=function(re){return re},ai.heading=function(re,De,he,Se){return this.options.headerIds?"<h"+De+' id="'+this.options.headerPrefix+Se.slug(he)+'">'+re+"</h"+De+">\n":"<h"+De+">"+re+"</h"+De+">\n"},ai.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},ai.list=function(re,De,he){var Se=De?"ol":"ul";return"<"+Se+(De&&1!==he?' start="'+he+'"':"")+">\n"+re+"</"+Se+">\n"},ai.listitem=function(re){return"<li>"+re+"</li>\n"},ai.checkbox=function(re){return"<input "+(re?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ai.paragraph=function(re){return"<p>"+re+"</p>\n"},ai.table=function(re,De){return De&&(De="<tbody>"+De+"</tbody>"),"<table>\n<thead>\n"+re+"</thead>\n"+De+"</table>\n"},ai.tablerow=function(re){return"<tr>\n"+re+"</tr>\n"},ai.tablecell=function(re,De){var he=De.header?"th":"td";return(De.align?"<"+he+' align="'+De.align+'">':"<"+he+">")+re+"</"+he+">\n"},ai.strong=function(re){return"<strong>"+re+"</strong>"},ai.em=function(re){return"<em>"+re+"</em>"},ai.codespan=function(re){return"<code>"+re+"</code>"},ai.br=function(){return this.options.xhtml?"<br/>":"<br>"},ai.del=function(re){return"<del>"+re+"</del>"},ai.link=function(re,De,he){if(null===(re=be(this.options.sanitize,this.options.baseUrl,re)))return he;var Se='<a href="'+de(re)+'"';return De&&(Se+=' title="'+De+'"'),Se+">"+he+"</a>"},ai.image=function(re,De,he){if(null===(re=be(this.options.sanitize,this.options.baseUrl,re)))return he;var Se='<img src="'+re+'" alt="'+he+'"';return De&&(Se+=' title="'+De+'"'),Se+(this.options.xhtml?"/>":">")},ai.text=function(re){return re},Oe}(),Yt=function(){function Oe(){}var ai=Oe.prototype;return ai.strong=function(re){return re},ai.em=function(re){return re},ai.codespan=function(re){return re},ai.del=function(re){return re},ai.html=function(re){return re},ai.text=function(re){return re},ai.link=function(re,De,he){return""+he},ai.image=function(re,De,he){return""+he},ai.br=function(){return""},Oe}(),ee=function(){function Oe(){this.seen={}}var ai=Oe.prototype;return ai.serialize=function(re){return re.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ai.getNextSafeSlug=function(re,De){var he=re,Se=0;if(this.seen.hasOwnProperty(he)){Se=this.seen[re];do{he=re+"-"+ ++Se}while(this.seen.hasOwnProperty(he))}return De||(this.seen[re]=Se,this.seen[he]=0),he},ai.slug=function(re,De){void 0===De&&(De={});var he=this.serialize(re);return this.getNextSafeSlug(he,De.dryrun)},Oe}(),Le=je,It=Yt,gt=ee,rt=dt.exports.defaults,Qt=S_unescape,Ze=me,ve=function(){function Oe(ke){this.options=ke||rt,this.options.renderer=this.options.renderer||new Le,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new It,this.slugger=new gt}Oe.parse=function(re,De){return new Oe(De).parse(re)},Oe.parseInline=function(re,De){return new Oe(De).parseInline(re)};var ai=Oe.prototype;return ai.parse=function(re,De){void 0===De&&(De=!0);var Se,$e,te,Re,sn,Qe,di,Bn,ci,si,an,cn,Fn,Or,Vn,Jn,hn,jr,wr,he="",br=re.length;for(Se=0;Se<br;Se++)if(si=re[Se],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[si.type]&&(!1!==(wr=this.options.extensions.renderers[si.type].call(this,si))||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(si.type)))he+=wr||"";else switch(si.type){case"space":continue;case"hr":he+=this.renderer.hr();continue;case"heading":he+=this.renderer.heading(this.parseInline(si.tokens),si.depth,Qt(this.parseInline(si.tokens,this.textRenderer)),this.slugger);continue;case"code":he+=this.renderer.code(si.text,si.lang,si.escaped);continue;case"table":for(Bn="",di="",Re=si.header.length,$e=0;$e<Re;$e++)di+=this.renderer.tablecell(this.parseInline(si.tokens.header[$e]),{header:!0,align:si.align[$e]});for(Bn+=this.renderer.tablerow(di),ci="",Re=si.cells.length,$e=0;$e<Re;$e++){for(di="",sn=(Qe=si.tokens.cells[$e]).length,te=0;te<sn;te++)di+=this.renderer.tablecell(this.parseInline(Qe[te]),{header:!1,align:si.align[te]});ci+=this.renderer.tablerow(di)}he+=this.renderer.table(Bn,ci);continue;case"blockquote":ci=this.parse(si.tokens),he+=this.renderer.blockquote(ci);continue;case"list":for(an=si.ordered,cn=si.start,Fn=si.loose,Re=si.items.length,ci="",$e=0;$e<Re;$e++)Jn=(Vn=si.items[$e]).checked,hn=Vn.task,Or="",Vn.task&&(jr=this.renderer.checkbox(Jn),Fn?Vn.tokens.length>0&&"text"===Vn.tokens[0].type?(Vn.tokens[0].text=jr+" "+Vn.tokens[0].text,Vn.tokens[0].tokens&&Vn.tokens[0].tokens.length>0&&"text"===Vn.tokens[0].tokens[0].type&&(Vn.tokens[0].tokens[0].text=jr+" "+Vn.tokens[0].tokens[0].text)):Vn.tokens.unshift({type:"text",text:jr}):Or+=jr),Or+=this.parse(Vn.tokens,Fn),ci+=this.renderer.listitem(Or,hn,Jn);he+=this.renderer.list(ci,an,cn);continue;case"html":he+=this.renderer.html(si.text);continue;case"paragraph":he+=this.renderer.paragraph(this.parseInline(si.tokens));continue;case"text":for(ci=si.tokens?this.parseInline(si.tokens):si.text;Se+1<br&&"text"===re[Se+1].type;)ci+="\n"+((si=re[++Se]).tokens?this.parseInline(si.tokens):si.text);he+=De?this.renderer.paragraph(ci):ci;continue;default:var Xn='Token with "'+si.type+'" type was not found.';if(this.options.silent)return void console.error(Xn);throw new Error(Xn)}return he},ai.parseInline=function(re,De){De=De||this.renderer;var Se,$e,te,he="",Re=re.length;for(Se=0;Se<Re;Se++)if($e=re[Se],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[$e.type]&&(!1!==(te=this.options.extensions.renderers[$e.type].call(this,$e))||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes($e.type)))he+=te||"";else switch($e.type){case"escape":case"text":he+=De.text($e.text);break;case"html":he+=De.html($e.text);break;case"link":he+=De.link($e.href,$e.title,this.parseInline($e.tokens,De));break;case"image":he+=De.image($e.href,$e.title,$e.text);break;case"strong":he+=De.strong(this.parseInline($e.tokens,De));break;case"em":he+=De.em(this.parseInline($e.tokens,De));break;case"codespan":he+=De.codespan($e.text);break;case"br":he+=De.br();break;case"del":he+=De.del(this.parseInline($e.tokens,De));break;default:var sn='Token with "'+$e.type+'" type was not found.';if(this.options.silent)return void console.error(sn);throw new Error(sn)}return he},Oe}(),Ie=yt,on=je,ni=Yt,ii=ee,Xi=S_merge,vi=S_checkSanitizeDeprecation,_i=S_escape,Ln=dt.exports.getDefaults,Mi=dt.exports.changeDefaults,Ge=dt.exports.defaults;function fn(Oe,ai,ke){if(null==Oe)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof Oe)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Oe)+", string expected");if("function"==typeof ai&&(ke=ai,ai=null),ai=Xi({},fn.defaults,ai||{}),vi(ai),ke){var De,re=ai.highlight;try{De=Ze.lex(Oe,ai)}catch(te){return ke(te)}var he=function(Re){var sn;if(!Re)try{ai.walkTokens&&fn.walkTokens(De,ai.walkTokens),sn=ve.parse(De,ai)}catch(Qe){Re=Qe}return ai.highlight=re,Re?ke(Re):ke(null,sn)};if(!re||re.length<3||(delete ai.highlight,!De.length))return he();var Se=0;return fn.walkTokens(De,function(te){"code"===te.type&&(Se++,setTimeout(function(){re(te.text,te.lang,function(Re,sn){if(Re)return he(Re);null!=sn&&sn!==te.text&&(te.text=sn,te.escaped=!0),0==--Se&&he()})},0))}),void(0===Se&&he())}try{var $e=Ze.lex(Oe,ai);return ai.walkTokens&&fn.walkTokens($e,ai.walkTokens),ve.parse($e,ai)}catch(te){if(te.message+="\nPlease report this to https://github.com/markedjs/marked.",ai.silent)return"<p>An error occurred:</p><pre>"+_i(te.message+"",!0)+"</pre>";throw te}}return fn.options=fn.setOptions=function(Oe){return Xi(fn.defaults,Oe),Mi(fn.defaults),fn},fn.getDefaults=Ln,fn.defaults=Ge,fn.use=function(){for(var Oe=this,ai=arguments.length,ke=new Array(ai),re=0;re<ai;re++)ke[re]=arguments[re];var Se,De=Xi.apply(void 0,[{}].concat(ke)),he=fn.defaults.extensions||{renderers:{},childTokens:{}};ke.forEach(function($e){if($e.extensions&&(Se=!0,$e.extensions.forEach(function(Re){if(!Re.name)throw new Error("extension name required");if(Re.renderer){var sn=he.renderers?he.renderers[Re.name]:null;he.renderers[Re.name]=sn?function(){for(var Qe=arguments.length,di=new Array(Qe),Bn=0;Bn<Qe;Bn++)di[Bn]=arguments[Bn];var ci=Re.renderer.apply(this,di);return!1===ci&&(ci=sn.apply(this,di)),ci}:Re.renderer}if(Re.tokenizer){if(!Re.level||"block"!==Re.level&&"inline"!==Re.level)throw new Error("extension level must be 'block' or 'inline'");he[Re.level]?he[Re.level].unshift(Re.tokenizer):he[Re.level]=[Re.tokenizer],Re.start&&("block"===Re.level?he.startBlock?he.startBlock.push(Re.start):he.startBlock=[Re.start]:"inline"===Re.level&&(he.startInline?he.startInline.push(Re.start):he.startInline=[Re.start]))}Re.childTokens&&(he.childTokens[Re.name]=Re.childTokens)})),$e.renderer&&function(){var Re=fn.defaults.renderer||new on,sn=function(Bn){var ci=Re[Bn];Re[Bn]=function(){for(var si=arguments.length,an=new Array(si),cn=0;cn<si;cn++)an[cn]=arguments[cn];var Fn=$e.renderer[Bn].apply(Re,an);return!1===Fn&&(Fn=ci.apply(Re,an)),Fn}};for(var Qe in $e.renderer)sn(Qe);De.renderer=Re}(),$e.tokenizer&&function(){var Re=fn.defaults.tokenizer||new Ie,sn=function(Bn){var ci=Re[Bn];Re[Bn]=function(){for(var si=arguments.length,an=new Array(si),cn=0;cn<si;cn++)an[cn]=arguments[cn];var Fn=$e.tokenizer[Bn].apply(Re,an);return!1===Fn&&(Fn=ci.apply(Re,an)),Fn}};for(var Qe in $e.tokenizer)sn(Qe);De.tokenizer=Re}(),$e.walkTokens){var te=fn.defaults.walkTokens;De.walkTokens=function(Re){$e.walkTokens.call(Oe,Re),te&&te(Re)}}Se&&(De.extensions=he),fn.setOptions(De)})},fn.walkTokens=function(Oe,ai){for(var De,ke=function(){var Se=De.value;switch(ai(Se),Se.type){case"table":for(var te,$e=ft(Se.tokens.header);!(te=$e()).done;)fn.walkTokens(te.value,ai);for(var Qe,sn=ft(Se.tokens.cells);!(Qe=sn()).done;)for(var ci,Bn=ft(Qe.value);!(ci=Bn()).done;)fn.walkTokens(ci.value,ai);break;case"list":fn.walkTokens(Se.items,ai);break;default:fn.defaults.extensions&&fn.defaults.extensions.childTokens&&fn.defaults.extensions.childTokens[Se.type]?fn.defaults.extensions.childTokens[Se.type].forEach(function(an){fn.walkTokens(Se[an],ai)}):Se.tokens&&fn.walkTokens(Se.tokens,ai)}},re=ft(Oe);!(De=re()).done;)ke()},fn.parseInline=function(Oe,ai){if(null==Oe)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof Oe)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Oe)+", string expected");ai=Xi({},fn.defaults,ai||{}),vi(ai);try{var ke=Ze.lexInline(Oe,ai);return ai.walkTokens&&fn.walkTokens(ke,ai.walkTokens),ve.parseInline(ke,ai)}catch(re){if(re.message+="\nPlease report this to https://github.com/markedjs/marked.",ai.silent)return"<p>An error occurred:</p><pre>"+_i(re.message+"",!0)+"</pre>";throw re}},fn.Parser=ve,fn.parser=ve.parse,fn.Renderer=on,fn.TextRenderer=ni,fn.Lexer=Ze,fn.lexer=Ze.lex,fn.Tokenizer=Ie,fn.Slugger=ii,fn.parse=fn,fn}()},2996:(_e,st,Ft)=>{"use strict";var zt=Ft(3516),Kt=Ft(740),ft=Ft(4615).Buffer,dt=new Array(16);function E(){Kt.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function K(U,at){return U<<at|U>>>32-at}function Y(U,at,V,$,H,G,J){return K(U+(at&V|~at&$)+H+G|0,J)+at|0}function ct(U,at,V,$,H,G,J){return K(U+(at&$|V&~$)+H+G|0,J)+at|0}function et(U,at,V,$,H,G,J){return K(U+(at^V^$)+H+G|0,J)+at|0}function X(U,at,V,$,H,G,J){return K(U+(V^(at|~$))+H+G|0,J)+at|0}zt(E,Kt),E.prototype._update=function(){for(var U=dt,at=0;at<16;++at)U[at]=this._block.readInt32LE(4*at);var V=this._a,$=this._b,H=this._c,G=this._d;V=Y(V,$,H,G,U[0],3614090360,7),G=Y(G,V,$,H,U[1],3905402710,12),H=Y(H,G,V,$,U[2],606105819,17),$=Y($,H,G,V,U[3],3250441966,22),V=Y(V,$,H,G,U[4],4118548399,7),G=Y(G,V,$,H,U[5],1200080426,12),H=Y(H,G,V,$,U[6],2821735955,17),$=Y($,H,G,V,U[7],4249261313,22),V=Y(V,$,H,G,U[8],1770035416,7),G=Y(G,V,$,H,U[9],2336552879,12),H=Y(H,G,V,$,U[10],4294925233,17),$=Y($,H,G,V,U[11],2304563134,22),V=Y(V,$,H,G,U[12],1804603682,7),G=Y(G,V,$,H,U[13],4254626195,12),H=Y(H,G,V,$,U[14],2792965006,17),V=ct(V,$=Y($,H,G,V,U[15],1236535329,22),H,G,U[1],4129170786,5),G=ct(G,V,$,H,U[6],3225465664,9),H=ct(H,G,V,$,U[11],643717713,14),$=ct($,H,G,V,U[0],3921069994,20),V=ct(V,$,H,G,U[5],3593408605,5),G=ct(G,V,$,H,U[10],38016083,9),H=ct(H,G,V,$,U[15],3634488961,14),$=ct($,H,G,V,U[4],3889429448,20),V=ct(V,$,H,G,U[9],568446438,5),G=ct(G,V,$,H,U[14],3275163606,9),H=ct(H,G,V,$,U[3],4107603335,14),$=ct($,H,G,V,U[8],1163531501,20),V=ct(V,$,H,G,U[13],2850285829,5),G=ct(G,V,$,H,U[2],4243563512,9),H=ct(H,G,V,$,U[7],1735328473,14),V=et(V,$=ct($,H,G,V,U[12],2368359562,20),H,G,U[5],4294588738,4),G=et(G,V,$,H,U[8],2272392833,11),H=et(H,G,V,$,U[11],1839030562,16),$=et($,H,G,V,U[14],4259657740,23),V=et(V,$,H,G,U[1],2763975236,4),G=et(G,V,$,H,U[4],1272893353,11),H=et(H,G,V,$,U[7],4139469664,16),$=et($,H,G,V,U[10],3200236656,23),V=et(V,$,H,G,U[13],681279174,4),G=et(G,V,$,H,U[0],3936430074,11),H=et(H,G,V,$,U[3],3572445317,16),$=et($,H,G,V,U[6],76029189,23),V=et(V,$,H,G,U[9],3654602809,4),G=et(G,V,$,H,U[12],3873151461,11),H=et(H,G,V,$,U[15],530742520,16),V=X(V,$=et($,H,G,V,U[2],3299628645,23),H,G,U[0],4096336452,6),G=X(G,V,$,H,U[7],1126891415,10),H=X(H,G,V,$,U[14],2878612391,15),$=X($,H,G,V,U[5],4237533241,21),V=X(V,$,H,G,U[12],1700485571,6),G=X(G,V,$,H,U[3],2399980690,10),H=X(H,G,V,$,U[10],4293915773,15),$=X($,H,G,V,U[1],2240044497,21),V=X(V,$,H,G,U[8],1873313359,6),G=X(G,V,$,H,U[15],4264355552,10),H=X(H,G,V,$,U[6],2734768916,15),$=X($,H,G,V,U[13],1309151649,21),V=X(V,$,H,G,U[4],4149444226,6),G=X(G,V,$,H,U[11],3174756917,10),H=X(H,G,V,$,U[2],718787259,15),$=X($,H,G,V,U[9],3951481745,21),this._a=this._a+V|0,this._b=this._b+$|0,this._c=this._c+H|0,this._d=this._d+G|0},E.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var U=ft.allocUnsafe(16);return U.writeInt32LE(this._a,0),U.writeInt32LE(this._b,4),U.writeInt32LE(this._c,8),U.writeInt32LE(this._d,12),U},_e.exports=E},2098:(_e,st,Ft)=>{var zt=Ft(2239),Kt=Ft(3550);function ft(dt){this.rand=dt||new Kt.Rand}_e.exports=ft,ft.create=function(E){return new ft(E)},ft.prototype._randbelow=function(E){var K=E.bitLength(),Y=Math.ceil(K/8);do{var ct=new zt(this.rand.generate(Y))}while(ct.cmp(E)>=0);return ct},ft.prototype._randrange=function(E,K){var Y=K.sub(E);return E.add(this._randbelow(Y))},ft.prototype.test=function(E,K,Y){var ct=E.bitLength(),et=zt.mont(E),X=new zt(1).toRed(et);K||(K=Math.max(1,ct/48|0));for(var U=E.subn(1),at=0;!U.testn(at);at++);for(var V=E.shrn(at),$=U.toRed(et);K>0;K--){var G=this._randrange(new zt(2),U);Y&&Y(G);var J=G.toRed(et).redPow(V);if(0!==J.cmp(X)&&0!==J.cmp($)){for(var z=1;z<at;z++){if(0===(J=J.redSqr()).cmp(X))return!1;if(0===J.cmp($))break}if(z===at)return!1}}return!0},ft.prototype.getDivisor=function(E,K){var Y=E.bitLength(),ct=zt.mont(E),et=new zt(1).toRed(ct);K||(K=Math.max(1,Y/48|0));for(var X=E.subn(1),U=0;!X.testn(U);U++);for(var at=E.shrn(U),V=X.toRed(ct);K>0;K--){var $=this._randrange(new zt(2),X),H=E.gcd($);if(0!==H.cmpn(1))return H;var G=$.toRed(ct).redPow(at);if(0!==G.cmp(et)&&0!==G.cmp(V)){for(var J=1;J<U;J++){if(0===(G=G.redSqr()).cmp(et))return G.fromRed().subn(1).gcd(E);if(0===G.cmp(V))break}if(J===U)return(G=G.redSqr()).fromRed().subn(1).gcd(E)}}return!1}},2239:function(_e,st,Ft){!function(zt,Kt){"use strict";function ft(R,u){if(!R)throw new Error(u||"Assertion failed")}function dt(R,u){R.super_=u;var m=function(){};m.prototype=u.prototype,R.prototype=new m,R.prototype.constructor=R}function E(R,u,m){if(E.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,null!==R&&(("le"===u||"be"===u)&&(m=u,u=10),this._init(R||0,u||10,m||"be"))}var K;"object"==typeof zt?zt.exports=E:Kt.BN=E,E.BN=E,E.wordSize=26;try{K="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:Ft(6619).Buffer}catch(R){}function Y(R,u){var m=R.charCodeAt(u);return m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:m-48&15}function ct(R,u,m){var y=Y(R,m);return m-1>=u&&(y|=Y(R,m-1)<<4),y}function et(R,u,m,y){for(var v=0,M=Math.min(R.length,m),S=u;S<M;S++){var I=R.charCodeAt(S)-48;v*=y,v+=I>=49?I-49+10:I>=17?I-17+10:I}return v}E.isBN=function(u){return u instanceof E||null!==u&&"object"==typeof u&&u.constructor.wordSize===E.wordSize&&Array.isArray(u.words)},E.max=function(u,m){return u.cmp(m)>0?u:m},E.min=function(u,m){return u.cmp(m)<0?u:m},E.prototype._init=function(u,m,y){if("number"==typeof u)return this._initNumber(u,m,y);if("object"==typeof u)return this._initArray(u,m,y);"hex"===m&&(m=16),ft(m===(0|m)&&m>=2&&m<=36);var v=0;"-"===(u=u.toString().replace(/\s+/g,""))[0]&&(v++,this.negative=1),v<u.length&&(16===m?this._parseHex(u,v,y):(this._parseBase(u,m,v),"le"===y&&this._initArray(this.toArray(),m,y)))},E.prototype._initNumber=function(u,m,y){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[67108863&u],this.length=1):u<4503599627370496?(this.words=[67108863&u,u/67108864&67108863],this.length=2):(ft(u<9007199254740992),this.words=[67108863&u,u/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),m,y)},E.prototype._initArray=function(u,m,y){if(ft("number"==typeof u.length),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var M,S,I=0;if("be"===y)for(v=u.length-1,M=0;v>=0;v-=3)this.words[M]|=(S=u[v]|u[v-1]<<8|u[v-2]<<16)<<I&67108863,this.words[M+1]=S>>>26-I&67108863,(I+=24)>=26&&(I-=26,M++);else if("le"===y)for(v=0,M=0;v<u.length;v+=3)this.words[M]|=(S=u[v]|u[v+1]<<8|u[v+2]<<16)<<I&67108863,this.words[M+1]=S>>>26-I&67108863,(I+=24)>=26&&(I-=26,M++);return this.strip()},E.prototype._parseHex=function(u,m,y){this.length=Math.ceil((u.length-m)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var I,M=0,S=0;if("be"===y)for(v=u.length-1;v>=m;v-=2)I=ct(u,m,v)<<M,this.words[S]|=67108863&I,M>=18?(M-=18,this.words[S+=1]|=I>>>26):M+=8;else for(v=(u.length-m)%2==0?m+1:m;v<u.length;v+=2)I=ct(u,m,v)<<M,this.words[S]|=67108863&I,M>=18?(M-=18,this.words[S+=1]|=I>>>26):M+=8;this.strip()},E.prototype._parseBase=function(u,m,y){this.words=[0],this.length=1;for(var v=0,M=1;M<=67108863;M*=m)v++;v--,M=M/m|0;for(var S=u.length-y,I=S%v,C=Math.min(S,S-I)+y,p=0,T=y;T<C;T+=v)p=et(u,T,T+v,m),this.imuln(M),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(0!==I){var it=1;for(p=et(u,T,u.length,m),T=0;T<I;T++)it*=m;this.imuln(it),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this.strip()},E.prototype.copy=function(u){u.words=new Array(this.length);for(var m=0;m<this.length;m++)u.words[m]=this.words[m];u.length=this.length,u.negative=this.negative,u.red=this.red},E.prototype.clone=function(){var u=new E(null);return this.copy(u),u},E.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},E.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},E.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},E.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var X=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],U=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],at=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function $(R,u,m){m.negative=u.negative^R.negative;var y=R.length+u.length|0;m.length=y,y=y-1|0;var v=0|R.words[0],M=0|u.words[0],S=v*M,C=S/67108864|0;m.words[0]=67108863&S;for(var p=1;p<y;p++){for(var T=C>>>26,it=67108863&C,Z=Math.min(p,u.length-1),W=Math.max(0,p-R.length+1);W<=Z;W++)T+=(S=(v=0|R.words[p-W|0])*(M=0|u.words[W])+it)/67108864|0,it=67108863&S;m.words[p]=0|it,C=0|T}return 0!==C?m.words[p]=0|C:m.length--,m.strip()}E.prototype.toString=function(u,m){var y;if(m=0|m||1,16===(u=u||10)||"hex"===u){y="";for(var v=0,M=0,S=0;S<this.length;S++){var I=this.words[S],C=(16777215&(I<<v|M)).toString(16);y=0!=(M=I>>>24-v&16777215)||S!==this.length-1?X[6-C.length]+C+y:C+y,(v+=2)>=26&&(v-=26,S--)}for(0!==M&&(y=M.toString(16)+y);y.length%m!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(u===(0|u)&&u>=2&&u<=36){var p=U[u],T=at[u];y="";var it=this.clone();for(it.negative=0;!it.isZero();){var Z=it.modn(T).toString(u);y=(it=it.idivn(T)).isZero()?Z+y:X[p-Z.length]+Z+y}for(this.isZero()&&(y="0"+y);y.length%m!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}ft(!1,"Base should be between 2 and 36")},E.prototype.toNumber=function(){var u=this.words[0];return 2===this.length?u+=67108864*this.words[1]:3===this.length&&1===this.words[2]?u+=4503599627370496+67108864*this.words[1]:this.length>2&&ft(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-u:u},E.prototype.toJSON=function(){return this.toString(16)},E.prototype.toBuffer=function(u,m){return ft(void 0!==K),this.toArrayLike(K,u,m)},E.prototype.toArray=function(u,m){return this.toArrayLike(Array,u,m)},E.prototype.toArrayLike=function(u,m,y){var v=this.byteLength(),M=y||Math.max(1,v);ft(v<=M,"byte array longer than desired length"),ft(M>0,"Requested array length <= 0"),this.strip();var C,p,S="le"===m,I=new u(M),T=this.clone();if(S){for(p=0;!T.isZero();p++)C=T.andln(255),T.iushrn(8),I[p]=C;for(;p<M;p++)I[p]=0}else{for(p=0;p<M-v;p++)I[p]=0;for(p=0;!T.isZero();p++)C=T.andln(255),T.iushrn(8),I[M-p-1]=C}return I},E.prototype._countBits=Math.clz32?function(u){return 32-Math.clz32(u)}:function(u){var m=u,y=0;return m>=4096&&(y+=13,m>>>=13),m>=64&&(y+=7,m>>>=7),m>=8&&(y+=4,m>>>=4),m>=2&&(y+=2,m>>>=2),y+m},E.prototype._zeroBits=function(u){if(0===u)return 26;var m=u,y=0;return 0==(8191&m)&&(y+=13,m>>>=13),0==(127&m)&&(y+=7,m>>>=7),0==(15&m)&&(y+=4,m>>>=4),0==(3&m)&&(y+=2,m>>>=2),0==(1&m)&&y++,y},E.prototype.bitLength=function(){var m=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+m},E.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,m=0;m<this.length;m++){var y=this._zeroBits(this.words[m]);if(u+=y,26!==y)break}return u},E.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},E.prototype.toTwos=function(u){return 0!==this.negative?this.abs().inotn(u).iaddn(1):this.clone()},E.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},E.prototype.isNeg=function(){return 0!==this.negative},E.prototype.neg=function(){return this.clone().ineg()},E.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},E.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var m=0;m<u.length;m++)this.words[m]=this.words[m]|u.words[m];return this.strip()},E.prototype.ior=function(u){return ft(0==(this.negative|u.negative)),this.iuor(u)},E.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},E.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},E.prototype.iuand=function(u){var m;m=this.length>u.length?u:this;for(var y=0;y<m.length;y++)this.words[y]=this.words[y]&u.words[y];return this.length=m.length,this.strip()},E.prototype.iand=function(u){return ft(0==(this.negative|u.negative)),this.iuand(u)},E.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},E.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},E.prototype.iuxor=function(u){var m,y;this.length>u.length?(m=this,y=u):(m=u,y=this);for(var v=0;v<y.length;v++)this.words[v]=m.words[v]^y.words[v];if(this!==m)for(;v<m.length;v++)this.words[v]=m.words[v];return this.length=m.length,this.strip()},E.prototype.ixor=function(u){return ft(0==(this.negative|u.negative)),this.iuxor(u)},E.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},E.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},E.prototype.inotn=function(u){ft("number"==typeof u&&u>=0);var m=0|Math.ceil(u/26),y=u%26;this._expand(m),y>0&&m--;for(var v=0;v<m;v++)this.words[v]=67108863&~this.words[v];return y>0&&(this.words[v]=~this.words[v]&67108863>>26-y),this.strip()},E.prototype.notn=function(u){return this.clone().inotn(u)},E.prototype.setn=function(u,m){ft("number"==typeof u&&u>=0);var y=u/26|0,v=u%26;return this._expand(y+1),this.words[y]=m?this.words[y]|1<<v:this.words[y]&~(1<<v),this.strip()},E.prototype.iadd=function(u){var m,y,v;if(0!==this.negative&&0===u.negative)return this.negative=0,m=this.isub(u),this.negative^=1,this._normSign();if(0===this.negative&&0!==u.negative)return u.negative=0,m=this.isub(u),u.negative=1,m._normSign();this.length>u.length?(y=this,v=u):(y=u,v=this);for(var M=0,S=0;S<v.length;S++)this.words[S]=67108863&(m=(0|y.words[S])+(0|v.words[S])+M),M=m>>>26;for(;0!==M&&S<y.length;S++)this.words[S]=67108863&(m=(0|y.words[S])+M),M=m>>>26;if(this.length=y.length,0!==M)this.words[this.length]=M,this.length++;else if(y!==this)for(;S<y.length;S++)this.words[S]=y.words[S];return this},E.prototype.add=function(u){var m;return 0!==u.negative&&0===this.negative?(u.negative=0,m=this.sub(u),u.negative^=1,m):0===u.negative&&0!==this.negative?(this.negative=0,m=u.sub(this),this.negative=1,m):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},E.prototype.isub=function(u){if(0!==u.negative){u.negative=0;var m=this.iadd(u);return u.negative=1,m._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var v,M,y=this.cmp(u);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(v=this,M=u):(v=u,M=this);for(var S=0,I=0;I<M.length;I++)S=(m=(0|v.words[I])-(0|M.words[I])+S)>>26,this.words[I]=67108863&m;for(;0!==S&&I<v.length;I++)S=(m=(0|v.words[I])+S)>>26,this.words[I]=67108863&m;if(0===S&&I<v.length&&v!==this)for(;I<v.length;I++)this.words[I]=v.words[I];return this.length=Math.max(this.length,I),v!==this&&(this.negative=1),this.strip()},E.prototype.sub=function(u){return this.clone().isub(u)};var H=function(u,m,y){var C,p,T,v=u.words,M=m.words,S=y.words,I=0,it=0|v[0],Z=8191&it,W=it>>>13,yt=0|v[1],wt=8191&yt,Vt=yt>>>13,Ut=0|v[2],At=8191&Ut,bt=Ut>>>13,qt=0|v[3],Rt=8191&qt,Dt=qt>>>13,Bt=0|v[4],Zt=8191&Bt,Lt=Bt>>>13,Ce=0|v[5],Ht=8191&Ce,me=Ce>>>13,Si=0|v[6],be=8191&Si,de=Si>>>13,je=0|v[7],Yt=8191&je,ee=je>>>13,Le=0|v[8],It=8191&Le,gt=Le>>>13,rt=0|v[9],Qt=8191&rt,ue=rt>>>13,Ze=0|M[0],ve=8191&Ze,Ie=Ze>>>13,on=0|M[1],ni=8191&on,ii=on>>>13,Xi=0|M[2],vi=8191&Xi,_i=Xi>>>13,Ln=0|M[3],Mi=8191&Ln,Ge=Ln>>>13,fn=0|M[4],Ei=8191&fn,Oe=fn>>>13,ai=0|M[5],ke=8191&ai,re=ai>>>13,De=0|M[6],he=8191&De,Se=De>>>13,$e=0|M[7],te=8191&$e,Re=$e>>>13,sn=0|M[8],Qe=8191&sn,di=sn>>>13,Bn=0|M[9],ci=8191&Bn,si=Bn>>>13;y.negative=u.negative^m.negative,y.length=19;var an=(I+(C=Math.imul(Z,ve))|0)+((8191&(p=(p=Math.imul(Z,Ie))+Math.imul(W,ve)|0))<<13)|0;I=((T=Math.imul(W,Ie))+(p>>>13)|0)+(an>>>26)|0,an&=67108863,C=Math.imul(wt,ve),p=(p=Math.imul(wt,Ie))+Math.imul(Vt,ve)|0,T=Math.imul(Vt,Ie);var cn=(I+(C=C+Math.imul(Z,ni)|0)|0)+((8191&(p=(p=p+Math.imul(Z,ii)|0)+Math.imul(W,ni)|0))<<13)|0;I=((T=T+Math.imul(W,ii)|0)+(p>>>13)|0)+(cn>>>26)|0,cn&=67108863,C=Math.imul(At,ve),p=(p=Math.imul(At,Ie))+Math.imul(bt,ve)|0,T=Math.imul(bt,Ie),C=C+Math.imul(wt,ni)|0,p=(p=p+Math.imul(wt,ii)|0)+Math.imul(Vt,ni)|0,T=T+Math.imul(Vt,ii)|0;var Fn=(I+(C=C+Math.imul(Z,vi)|0)|0)+((8191&(p=(p=p+Math.imul(Z,_i)|0)+Math.imul(W,vi)|0))<<13)|0;I=((T=T+Math.imul(W,_i)|0)+(p>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,C=Math.imul(Rt,ve),p=(p=Math.imul(Rt,Ie))+Math.imul(Dt,ve)|0,T=Math.imul(Dt,Ie),C=C+Math.imul(At,ni)|0,p=(p=p+Math.imul(At,ii)|0)+Math.imul(bt,ni)|0,T=T+Math.imul(bt,ii)|0,C=C+Math.imul(wt,vi)|0,p=(p=p+Math.imul(wt,_i)|0)+Math.imul(Vt,vi)|0,T=T+Math.imul(Vt,_i)|0;var Or=(I+(C=C+Math.imul(Z,Mi)|0)|0)+((8191&(p=(p=p+Math.imul(Z,Ge)|0)+Math.imul(W,Mi)|0))<<13)|0;I=((T=T+Math.imul(W,Ge)|0)+(p>>>13)|0)+(Or>>>26)|0,Or&=67108863,C=Math.imul(Zt,ve),p=(p=Math.imul(Zt,Ie))+Math.imul(Lt,ve)|0,T=Math.imul(Lt,Ie),C=C+Math.imul(Rt,ni)|0,p=(p=p+Math.imul(Rt,ii)|0)+Math.imul(Dt,ni)|0,T=T+Math.imul(Dt,ii)|0,C=C+Math.imul(At,vi)|0,p=(p=p+Math.imul(At,_i)|0)+Math.imul(bt,vi)|0,T=T+Math.imul(bt,_i)|0,C=C+Math.imul(wt,Mi)|0,p=(p=p+Math.imul(wt,Ge)|0)+Math.imul(Vt,Mi)|0,T=T+Math.imul(Vt,Ge)|0;var Vn=(I+(C=C+Math.imul(Z,Ei)|0)|0)+((8191&(p=(p=p+Math.imul(Z,Oe)|0)+Math.imul(W,Ei)|0))<<13)|0;I=((T=T+Math.imul(W,Oe)|0)+(p>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,C=Math.imul(Ht,ve),p=(p=Math.imul(Ht,Ie))+Math.imul(me,ve)|0,T=Math.imul(me,Ie),C=C+Math.imul(Zt,ni)|0,p=(p=p+Math.imul(Zt,ii)|0)+Math.imul(Lt,ni)|0,T=T+Math.imul(Lt,ii)|0,C=C+Math.imul(Rt,vi)|0,p=(p=p+Math.imul(Rt,_i)|0)+Math.imul(Dt,vi)|0,T=T+Math.imul(Dt,_i)|0,C=C+Math.imul(At,Mi)|0,p=(p=p+Math.imul(At,Ge)|0)+Math.imul(bt,Mi)|0,T=T+Math.imul(bt,Ge)|0,C=C+Math.imul(wt,Ei)|0,p=(p=p+Math.imul(wt,Oe)|0)+Math.imul(Vt,Ei)|0,T=T+Math.imul(Vt,Oe)|0;var Jn=(I+(C=C+Math.imul(Z,ke)|0)|0)+((8191&(p=(p=p+Math.imul(Z,re)|0)+Math.imul(W,ke)|0))<<13)|0;I=((T=T+Math.imul(W,re)|0)+(p>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,C=Math.imul(be,ve),p=(p=Math.imul(be,Ie))+Math.imul(de,ve)|0,T=Math.imul(de,Ie),C=C+Math.imul(Ht,ni)|0,p=(p=p+Math.imul(Ht,ii)|0)+Math.imul(me,ni)|0,T=T+Math.imul(me,ii)|0,C=C+Math.imul(Zt,vi)|0,p=(p=p+Math.imul(Zt,_i)|0)+Math.imul(Lt,vi)|0,T=T+Math.imul(Lt,_i)|0,C=C+Math.imul(Rt,Mi)|0,p=(p=p+Math.imul(Rt,Ge)|0)+Math.imul(Dt,Mi)|0,T=T+Math.imul(Dt,Ge)|0,C=C+Math.imul(At,Ei)|0,p=(p=p+Math.imul(At,Oe)|0)+Math.imul(bt,Ei)|0,T=T+Math.imul(bt,Oe)|0,C=C+Math.imul(wt,ke)|0,p=(p=p+Math.imul(wt,re)|0)+Math.imul(Vt,ke)|0,T=T+Math.imul(Vt,re)|0;var hn=(I+(C=C+Math.imul(Z,he)|0)|0)+((8191&(p=(p=p+Math.imul(Z,Se)|0)+Math.imul(W,he)|0))<<13)|0;I=((T=T+Math.imul(W,Se)|0)+(p>>>13)|0)+(hn>>>26)|0,hn&=67108863,C=Math.imul(Yt,ve),p=(p=Math.imul(Yt,Ie))+Math.imul(ee,ve)|0,T=Math.imul(ee,Ie),C=C+Math.imul(be,ni)|0,p=(p=p+Math.imul(be,ii)|0)+Math.imul(de,ni)|0,T=T+Math.imul(de,ii)|0,C=C+Math.imul(Ht,vi)|0,p=(p=p+Math.imul(Ht,_i)|0)+Math.imul(me,vi)|0,T=T+Math.imul(me,_i)|0,C=C+Math.imul(Zt,Mi)|0,p=(p=p+Math.imul(Zt,Ge)|0)+Math.imul(Lt,Mi)|0,T=T+Math.imul(Lt,Ge)|0,C=C+Math.imul(Rt,Ei)|0,p=(p=p+Math.imul(Rt,Oe)|0)+Math.imul(Dt,Ei)|0,T=T+Math.imul(Dt,Oe)|0,C=C+Math.imul(At,ke)|0,p=(p=p+Math.imul(At,re)|0)+Math.imul(bt,ke)|0,T=T+Math.imul(bt,re)|0,C=C+Math.imul(wt,he)|0,p=(p=p+Math.imul(wt,Se)|0)+Math.imul(Vt,he)|0,T=T+Math.imul(Vt,Se)|0;var jr=(I+(C=C+Math.imul(Z,te)|0)|0)+((8191&(p=(p=p+Math.imul(Z,Re)|0)+Math.imul(W,te)|0))<<13)|0;I=((T=T+Math.imul(W,Re)|0)+(p>>>13)|0)+(jr>>>26)|0,jr&=67108863,C=Math.imul(It,ve),p=(p=Math.imul(It,Ie))+Math.imul(gt,ve)|0,T=Math.imul(gt,Ie),C=C+Math.imul(Yt,ni)|0,p=(p=p+Math.imul(Yt,ii)|0)+Math.imul(ee,ni)|0,T=T+Math.imul(ee,ii)|0,C=C+Math.imul(be,vi)|0,p=(p=p+Math.imul(be,_i)|0)+Math.imul(de,vi)|0,T=T+Math.imul(de,_i)|0,C=C+Math.imul(Ht,Mi)|0,p=(p=p+Math.imul(Ht,Ge)|0)+Math.imul(me,Mi)|0,T=T+Math.imul(me,Ge)|0,C=C+Math.imul(Zt,Ei)|0,p=(p=p+Math.imul(Zt,Oe)|0)+Math.imul(Lt,Ei)|0,T=T+Math.imul(Lt,Oe)|0,C=C+Math.imul(Rt,ke)|0,p=(p=p+Math.imul(Rt,re)|0)+Math.imul(Dt,ke)|0,T=T+Math.imul(Dt,re)|0,C=C+Math.imul(At,he)|0,p=(p=p+Math.imul(At,Se)|0)+Math.imul(bt,he)|0,T=T+Math.imul(bt,Se)|0,C=C+Math.imul(wt,te)|0,p=(p=p+Math.imul(wt,Re)|0)+Math.imul(Vt,te)|0,T=T+Math.imul(Vt,Re)|0;var wr=(I+(C=C+Math.imul(Z,Qe)|0)|0)+((8191&(p=(p=p+Math.imul(Z,di)|0)+Math.imul(W,Qe)|0))<<13)|0;I=((T=T+Math.imul(W,di)|0)+(p>>>13)|0)+(wr>>>26)|0,wr&=67108863,C=Math.imul(Qt,ve),p=(p=Math.imul(Qt,Ie))+Math.imul(ue,ve)|0,T=Math.imul(ue,Ie),C=C+Math.imul(It,ni)|0,p=(p=p+Math.imul(It,ii)|0)+Math.imul(gt,ni)|0,T=T+Math.imul(gt,ii)|0,C=C+Math.imul(Yt,vi)|0,p=(p=p+Math.imul(Yt,_i)|0)+Math.imul(ee,vi)|0,T=T+Math.imul(ee,_i)|0,C=C+Math.imul(be,Mi)|0,p=(p=p+Math.imul(be,Ge)|0)+Math.imul(de,Mi)|0,T=T+Math.imul(de,Ge)|0,C=C+Math.imul(Ht,Ei)|0,p=(p=p+Math.imul(Ht,Oe)|0)+Math.imul(me,Ei)|0,T=T+Math.imul(me,Oe)|0,C=C+Math.imul(Zt,ke)|0,p=(p=p+Math.imul(Zt,re)|0)+Math.imul(Lt,ke)|0,T=T+Math.imul(Lt,re)|0,C=C+Math.imul(Rt,he)|0,p=(p=p+Math.imul(Rt,Se)|0)+Math.imul(Dt,he)|0,T=T+Math.imul(Dt,Se)|0,C=C+Math.imul(At,te)|0,p=(p=p+Math.imul(At,Re)|0)+Math.imul(bt,te)|0,T=T+Math.imul(bt,Re)|0,C=C+Math.imul(wt,Qe)|0,p=(p=p+Math.imul(wt,di)|0)+Math.imul(Vt,Qe)|0,T=T+Math.imul(Vt,di)|0;var br=(I+(C=C+Math.imul(Z,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Z,si)|0)+Math.imul(W,ci)|0))<<13)|0;I=((T=T+Math.imul(W,si)|0)+(p>>>13)|0)+(br>>>26)|0,br&=67108863,C=Math.imul(Qt,ni),p=(p=Math.imul(Qt,ii))+Math.imul(ue,ni)|0,T=Math.imul(ue,ii),C=C+Math.imul(It,vi)|0,p=(p=p+Math.imul(It,_i)|0)+Math.imul(gt,vi)|0,T=T+Math.imul(gt,_i)|0,C=C+Math.imul(Yt,Mi)|0,p=(p=p+Math.imul(Yt,Ge)|0)+Math.imul(ee,Mi)|0,T=T+Math.imul(ee,Ge)|0,C=C+Math.imul(be,Ei)|0,p=(p=p+Math.imul(be,Oe)|0)+Math.imul(de,Ei)|0,T=T+Math.imul(de,Oe)|0,C=C+Math.imul(Ht,ke)|0,p=(p=p+Math.imul(Ht,re)|0)+Math.imul(me,ke)|0,T=T+Math.imul(me,re)|0,C=C+Math.imul(Zt,he)|0,p=(p=p+Math.imul(Zt,Se)|0)+Math.imul(Lt,he)|0,T=T+Math.imul(Lt,Se)|0,C=C+Math.imul(Rt,te)|0,p=(p=p+Math.imul(Rt,Re)|0)+Math.imul(Dt,te)|0,T=T+Math.imul(Dt,Re)|0,C=C+Math.imul(At,Qe)|0,p=(p=p+Math.imul(At,di)|0)+Math.imul(bt,Qe)|0,T=T+Math.imul(bt,di)|0;var Xn=(I+(C=C+Math.imul(wt,ci)|0)|0)+((8191&(p=(p=p+Math.imul(wt,si)|0)+Math.imul(Vt,ci)|0))<<13)|0;I=((T=T+Math.imul(Vt,si)|0)+(p>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,C=Math.imul(Qt,vi),p=(p=Math.imul(Qt,_i))+Math.imul(ue,vi)|0,T=Math.imul(ue,_i),C=C+Math.imul(It,Mi)|0,p=(p=p+Math.imul(It,Ge)|0)+Math.imul(gt,Mi)|0,T=T+Math.imul(gt,Ge)|0,C=C+Math.imul(Yt,Ei)|0,p=(p=p+Math.imul(Yt,Oe)|0)+Math.imul(ee,Ei)|0,T=T+Math.imul(ee,Oe)|0,C=C+Math.imul(be,ke)|0,p=(p=p+Math.imul(be,re)|0)+Math.imul(de,ke)|0,T=T+Math.imul(de,re)|0,C=C+Math.imul(Ht,he)|0,p=(p=p+Math.imul(Ht,Se)|0)+Math.imul(me,he)|0,T=T+Math.imul(me,Se)|0,C=C+Math.imul(Zt,te)|0,p=(p=p+Math.imul(Zt,Re)|0)+Math.imul(Lt,te)|0,T=T+Math.imul(Lt,Re)|0,C=C+Math.imul(Rt,Qe)|0,p=(p=p+Math.imul(Rt,di)|0)+Math.imul(Dt,Qe)|0,T=T+Math.imul(Dt,di)|0;var Co=(I+(C=C+Math.imul(At,ci)|0)|0)+((8191&(p=(p=p+Math.imul(At,si)|0)+Math.imul(bt,ci)|0))<<13)|0;I=((T=T+Math.imul(bt,si)|0)+(p>>>13)|0)+(Co>>>26)|0,Co&=67108863,C=Math.imul(Qt,Mi),p=(p=Math.imul(Qt,Ge))+Math.imul(ue,Mi)|0,T=Math.imul(ue,Ge),C=C+Math.imul(It,Ei)|0,p=(p=p+Math.imul(It,Oe)|0)+Math.imul(gt,Ei)|0,T=T+Math.imul(gt,Oe)|0,C=C+Math.imul(Yt,ke)|0,p=(p=p+Math.imul(Yt,re)|0)+Math.imul(ee,ke)|0,T=T+Math.imul(ee,re)|0,C=C+Math.imul(be,he)|0,p=(p=p+Math.imul(be,Se)|0)+Math.imul(de,he)|0,T=T+Math.imul(de,Se)|0,C=C+Math.imul(Ht,te)|0,p=(p=p+Math.imul(Ht,Re)|0)+Math.imul(me,te)|0,T=T+Math.imul(me,Re)|0,C=C+Math.imul(Zt,Qe)|0,p=(p=p+Math.imul(Zt,di)|0)+Math.imul(Lt,Qe)|0,T=T+Math.imul(Lt,di)|0;var Ti=(I+(C=C+Math.imul(Rt,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Rt,si)|0)+Math.imul(Dt,ci)|0))<<13)|0;I=((T=T+Math.imul(Dt,si)|0)+(p>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,C=Math.imul(Qt,Ei),p=(p=Math.imul(Qt,Oe))+Math.imul(ue,Ei)|0,T=Math.imul(ue,Oe),C=C+Math.imul(It,ke)|0,p=(p=p+Math.imul(It,re)|0)+Math.imul(gt,ke)|0,T=T+Math.imul(gt,re)|0,C=C+Math.imul(Yt,he)|0,p=(p=p+Math.imul(Yt,Se)|0)+Math.imul(ee,he)|0,T=T+Math.imul(ee,Se)|0,C=C+Math.imul(be,te)|0,p=(p=p+Math.imul(be,Re)|0)+Math.imul(de,te)|0,T=T+Math.imul(de,Re)|0,C=C+Math.imul(Ht,Qe)|0,p=(p=p+Math.imul(Ht,di)|0)+Math.imul(me,Qe)|0,T=T+Math.imul(me,di)|0;var mn=(I+(C=C+Math.imul(Zt,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Zt,si)|0)+Math.imul(Lt,ci)|0))<<13)|0;I=((T=T+Math.imul(Lt,si)|0)+(p>>>13)|0)+(mn>>>26)|0,mn&=67108863,C=Math.imul(Qt,ke),p=(p=Math.imul(Qt,re))+Math.imul(ue,ke)|0,T=Math.imul(ue,re),C=C+Math.imul(It,he)|0,p=(p=p+Math.imul(It,Se)|0)+Math.imul(gt,he)|0,T=T+Math.imul(gt,Se)|0,C=C+Math.imul(Yt,te)|0,p=(p=p+Math.imul(Yt,Re)|0)+Math.imul(ee,te)|0,T=T+Math.imul(ee,Re)|0,C=C+Math.imul(be,Qe)|0,p=(p=p+Math.imul(be,di)|0)+Math.imul(de,Qe)|0,T=T+Math.imul(de,di)|0;var gr=(I+(C=C+Math.imul(Ht,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Ht,si)|0)+Math.imul(me,ci)|0))<<13)|0;I=((T=T+Math.imul(me,si)|0)+(p>>>13)|0)+(gr>>>26)|0,gr&=67108863,C=Math.imul(Qt,he),p=(p=Math.imul(Qt,Se))+Math.imul(ue,he)|0,T=Math.imul(ue,Se),C=C+Math.imul(It,te)|0,p=(p=p+Math.imul(It,Re)|0)+Math.imul(gt,te)|0,T=T+Math.imul(gt,Re)|0,C=C+Math.imul(Yt,Qe)|0,p=(p=p+Math.imul(Yt,di)|0)+Math.imul(ee,Qe)|0,T=T+Math.imul(ee,di)|0;var En=(I+(C=C+Math.imul(be,ci)|0)|0)+((8191&(p=(p=p+Math.imul(be,si)|0)+Math.imul(de,ci)|0))<<13)|0;I=((T=T+Math.imul(de,si)|0)+(p>>>13)|0)+(En>>>26)|0,En&=67108863,C=Math.imul(Qt,te),p=(p=Math.imul(Qt,Re))+Math.imul(ue,te)|0,T=Math.imul(ue,Re),C=C+Math.imul(It,Qe)|0,p=(p=p+Math.imul(It,di)|0)+Math.imul(gt,Qe)|0,T=T+Math.imul(gt,di)|0;var _o=(I+(C=C+Math.imul(Yt,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Yt,si)|0)+Math.imul(ee,ci)|0))<<13)|0;I=((T=T+Math.imul(ee,si)|0)+(p>>>13)|0)+(_o>>>26)|0,_o&=67108863,C=Math.imul(Qt,Qe),p=(p=Math.imul(Qt,di))+Math.imul(ue,Qe)|0,T=Math.imul(ue,di);var No=(I+(C=C+Math.imul(It,ci)|0)|0)+((8191&(p=(p=p+Math.imul(It,si)|0)+Math.imul(gt,ci)|0))<<13)|0;I=((T=T+Math.imul(gt,si)|0)+(p>>>13)|0)+(No>>>26)|0,No&=67108863;var Hi=(I+(C=Math.imul(Qt,ci))|0)+((8191&(p=(p=Math.imul(Qt,si))+Math.imul(ue,ci)|0))<<13)|0;return I=((T=Math.imul(ue,si))+(p>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,S[0]=an,S[1]=cn,S[2]=Fn,S[3]=Or,S[4]=Vn,S[5]=Jn,S[6]=hn,S[7]=jr,S[8]=wr,S[9]=br,S[10]=Xn,S[11]=Co,S[12]=Ti,S[13]=mn,S[14]=gr,S[15]=En,S[16]=_o,S[17]=No,S[18]=Hi,0!==I&&(S[19]=I,y.length++),y};function J(R,u,m){return(new z).mulp(R,u,m)}function z(R,u){this.x=R,this.y=u}Math.imul||(H=$),E.prototype.mulTo=function(u,m){var y,v=this.length+u.length;return y=10===this.length&&10===u.length?H(this,u,m):v<63?$(this,u,m):v<1024?function(R,u,m){m.negative=u.negative^R.negative,m.length=R.length+u.length;for(var y=0,v=0,M=0;M<m.length-1;M++){var S=v;v=0;for(var I=67108863&y,C=Math.min(M,u.length-1),p=Math.max(0,M-R.length+1);p<=C;p++){var W=(0|R.words[M-p])*(0|u.words[p]),yt=67108863&W;I=67108863&(yt=yt+I|0),v+=(S=(S=S+(W/67108864|0)|0)+(yt>>>26)|0)>>>26,S&=67108863}m.words[M]=I,y=S,S=v}return 0!==y?m.words[M]=y:m.length--,m.strip()}(this,u,m):J(this,u,m),y},z.prototype.makeRBT=function(u){for(var m=new Array(u),y=E.prototype._countBits(u)-1,v=0;v<u;v++)m[v]=this.revBin(v,y,u);return m},z.prototype.revBin=function(u,m,y){if(0===u||u===y-1)return u;for(var v=0,M=0;M<m;M++)v|=(1&u)<<m-M-1,u>>=1;return v},z.prototype.permute=function(u,m,y,v,M,S){for(var I=0;I<S;I++)v[I]=m[u[I]],M[I]=y[u[I]]},z.prototype.transform=function(u,m,y,v,M,S){this.permute(S,u,m,y,v,M);for(var I=1;I<M;I<<=1)for(var C=I<<1,p=Math.cos(2*Math.PI/C),T=Math.sin(2*Math.PI/C),it=0;it<M;it+=C)for(var Z=p,W=T,yt=0;yt<I;yt++){var wt=y[it+yt],Vt=v[it+yt],Ut=y[it+yt+I],At=v[it+yt+I],bt=Z*Ut-W*At;At=Z*At+W*Ut,y[it+yt]=wt+(Ut=bt),v[it+yt]=Vt+At,y[it+yt+I]=wt-Ut,v[it+yt+I]=Vt-At,yt!==C&&(bt=p*Z-T*W,W=p*W+T*Z,Z=bt)}},z.prototype.guessLen13b=function(u,m){var y=1|Math.max(m,u),v=1&y,M=0;for(y=y/2|0;y;y>>>=1)M++;return 1<<M+1+v},z.prototype.conjugate=function(u,m,y){if(!(y<=1))for(var v=0;v<y/2;v++){var M=u[v];u[v]=u[y-v-1],u[y-v-1]=M,M=m[v],m[v]=-m[y-v-1],m[y-v-1]=-M}},z.prototype.normalize13b=function(u,m){for(var y=0,v=0;v<m/2;v++){var M=8192*Math.round(u[2*v+1]/m)+Math.round(u[2*v]/m)+y;u[v]=67108863&M,y=M<67108864?0:M/67108864|0}return u},z.prototype.convert13b=function(u,m,y,v){for(var M=0,S=0;S<m;S++)y[2*S]=8191&(M+=0|u[S]),y[2*S+1]=8191&(M>>>=13),M>>>=13;for(S=2*m;S<v;++S)y[S]=0;ft(0===M),ft(0==(-8192&M))},z.prototype.stub=function(u){for(var m=new Array(u),y=0;y<u;y++)m[y]=0;return m},z.prototype.mulp=function(u,m,y){var v=2*this.guessLen13b(u.length,m.length),M=this.makeRBT(v),S=this.stub(v),I=new Array(v),C=new Array(v),p=new Array(v),T=new Array(v),it=new Array(v),Z=new Array(v),W=y.words;W.length=v,this.convert13b(u.words,u.length,I,v),this.convert13b(m.words,m.length,T,v),this.transform(I,S,C,p,v,M),this.transform(T,S,it,Z,v,M);for(var yt=0;yt<v;yt++){var wt=C[yt]*it[yt]-p[yt]*Z[yt];p[yt]=C[yt]*Z[yt]+p[yt]*it[yt],C[yt]=wt}return this.conjugate(C,p,v),this.transform(C,p,W,S,v,M),this.conjugate(W,S,v),this.normalize13b(W,v),y.negative=u.negative^m.negative,y.length=u.length+m.length,y.strip()},E.prototype.mul=function(u){var m=new E(null);return m.words=new Array(this.length+u.length),this.mulTo(u,m)},E.prototype.mulf=function(u){var m=new E(null);return m.words=new Array(this.length+u.length),J(this,u,m)},E.prototype.imul=function(u){return this.clone().mulTo(u,this)},E.prototype.imuln=function(u){ft("number"==typeof u),ft(u<67108864);for(var m=0,y=0;y<this.length;y++){var v=(0|this.words[y])*u,M=(67108863&v)+(67108863&m);m>>=26,m+=v/67108864|0,m+=M>>>26,this.words[y]=67108863&M}return 0!==m&&(this.words[y]=m,this.length++),this},E.prototype.muln=function(u){return this.clone().imuln(u)},E.prototype.sqr=function(){return this.mul(this)},E.prototype.isqr=function(){return this.imul(this.clone())},E.prototype.pow=function(u){var m=function(R){for(var u=new Array(R.bitLength()),m=0;m<u.length;m++){var v=m%26;u[m]=(R.words[m/26|0]&1<<v)>>>v}return u}(u);if(0===m.length)return new E(1);for(var y=this,v=0;v<m.length&&0===m[v];v++,y=y.sqr());if(++v<m.length)for(var M=y.sqr();v<m.length;v++,M=M.sqr())0!==m[v]&&(y=y.mul(M));return y},E.prototype.iushln=function(u){ft("number"==typeof u&&u>=0);var M,m=u%26,y=(u-m)/26,v=67108863>>>26-m<<26-m;if(0!==m){var S=0;for(M=0;M<this.length;M++){var I=this.words[M]&v;this.words[M]=(0|this.words[M])-I<<m|S,S=I>>>26-m}S&&(this.words[M]=S,this.length++)}if(0!==y){for(M=this.length-1;M>=0;M--)this.words[M+y]=this.words[M];for(M=0;M<y;M++)this.words[M]=0;this.length+=y}return this.strip()},E.prototype.ishln=function(u){return ft(0===this.negative),this.iushln(u)},E.prototype.iushrn=function(u,m,y){var v;ft("number"==typeof u&&u>=0),v=m?(m-m%26)/26:0;var M=u%26,S=Math.min((u-M)/26,this.length),I=67108863^67108863>>>M<<M,C=y;if(v-=S,v=Math.max(0,v),C){for(var p=0;p<S;p++)C.words[p]=this.words[p];C.length=S}if(0!==S)if(this.length>S)for(this.length-=S,p=0;p<this.length;p++)this.words[p]=this.words[p+S];else this.words[0]=0,this.length=1;var T=0;for(p=this.length-1;p>=0&&(0!==T||p>=v);p--){var it=0|this.words[p];this.words[p]=T<<26-M|it>>>M,T=it&I}return C&&0!==T&&(C.words[C.length++]=T),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},E.prototype.ishrn=function(u,m,y){return ft(0===this.negative),this.iushrn(u,m,y)},E.prototype.shln=function(u){return this.clone().ishln(u)},E.prototype.ushln=function(u){return this.clone().iushln(u)},E.prototype.shrn=function(u){return this.clone().ishrn(u)},E.prototype.ushrn=function(u){return this.clone().iushrn(u)},E.prototype.testn=function(u){ft("number"==typeof u&&u>=0);var m=u%26,y=(u-m)/26;return!(this.length<=y||!(this.words[y]&1<<m))},E.prototype.imaskn=function(u){ft("number"==typeof u&&u>=0);var m=u%26,y=(u-m)/26;return ft(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==m&&y++,this.length=Math.min(y,this.length),0!==m&&(this.words[this.length-1]&=67108863^67108863>>>m<<m),this.strip())},E.prototype.maskn=function(u){return this.clone().imaskn(u)},E.prototype.iaddn=function(u){return ft("number"==typeof u),ft(u<67108864),u<0?this.isubn(-u):0!==this.negative?1===this.length&&(0|this.words[0])<u?(this.words[0]=u-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},E.prototype._iaddn=function(u){this.words[0]+=u;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},E.prototype.isubn=function(u){if(ft("number"==typeof u),ft(u<67108864),u<0)return this.iaddn(-u);if(0!==this.negative)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this.strip()},E.prototype.addn=function(u){return this.clone().iaddn(u)},E.prototype.subn=function(u){return this.clone().isubn(u)},E.prototype.iabs=function(){return this.negative=0,this},E.prototype.abs=function(){return this.clone().iabs()},E.prototype._ishlnsubmul=function(u,m,y){var M;this._expand(u.length+y);var S,I=0;for(M=0;M<u.length;M++){S=(0|this.words[M+y])+I;var C=(0|u.words[M])*m;I=((S-=67108863&C)>>26)-(C/67108864|0),this.words[M+y]=67108863&S}for(;M<this.length-y;M++)I=(S=(0|this.words[M+y])+I)>>26,this.words[M+y]=67108863&S;if(0===I)return this.strip();for(ft(-1===I),I=0,M=0;M<this.length;M++)I=(S=-(0|this.words[M])+I)>>26,this.words[M]=67108863&S;return this.negative=1,this.strip()},E.prototype._wordDiv=function(u,m){var y,v=this.clone(),M=u,S=0|M.words[M.length-1];0!=(y=26-this._countBits(S))&&(M=M.ushln(y),v.iushln(y),S=0|M.words[M.length-1]);var p,C=v.length-M.length;if("mod"!==m){(p=new E(null)).length=C+1,p.words=new Array(p.length);for(var T=0;T<p.length;T++)p.words[T]=0}var it=v.clone()._ishlnsubmul(M,1,C);0===it.negative&&(v=it,p&&(p.words[C]=1));for(var Z=C-1;Z>=0;Z--){var W=67108864*(0|v.words[M.length+Z])+(0|v.words[M.length+Z-1]);for(W=Math.min(W/S|0,67108863),v._ishlnsubmul(M,W,Z);0!==v.negative;)W--,v.negative=0,v._ishlnsubmul(M,1,Z),v.isZero()||(v.negative^=1);p&&(p.words[Z]=W)}return p&&p.strip(),v.strip(),"div"!==m&&0!==y&&v.iushrn(y),{div:p||null,mod:v}},E.prototype.divmod=function(u,m,y){return ft(!u.isZero()),this.isZero()?{div:new E(0),mod:new E(0)}:0!==this.negative&&0===u.negative?(S=this.neg().divmod(u,m),"mod"!==m&&(v=S.div.neg()),"div"!==m&&(M=S.mod.neg(),y&&0!==M.negative&&M.iadd(u)),{div:v,mod:M}):0===this.negative&&0!==u.negative?(S=this.divmod(u.neg(),m),"mod"!==m&&(v=S.div.neg()),{div:v,mod:S.mod}):0!=(this.negative&u.negative)?(S=this.neg().divmod(u.neg(),m),"div"!==m&&(M=S.mod.neg(),y&&0!==M.negative&&M.isub(u)),{div:S.div,mod:M}):u.length>this.length||this.cmp(u)<0?{div:new E(0),mod:this}:1===u.length?"div"===m?{div:this.divn(u.words[0]),mod:null}:"mod"===m?{div:null,mod:new E(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new E(this.modn(u.words[0]))}:this._wordDiv(u,m);var v,M,S},E.prototype.div=function(u){return this.divmod(u,"div",!1).div},E.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},E.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},E.prototype.divRound=function(u){var m=this.divmod(u);if(m.mod.isZero())return m.div;var y=0!==m.div.negative?m.mod.isub(u):m.mod,v=u.ushrn(1),M=u.andln(1),S=y.cmp(v);return S<0||1===M&&0===S?m.div:0!==m.div.negative?m.div.isubn(1):m.div.iaddn(1)},E.prototype.modn=function(u){ft(u<=67108863);for(var m=(1<<26)%u,y=0,v=this.length-1;v>=0;v--)y=(m*y+(0|this.words[v]))%u;return y},E.prototype.idivn=function(u){ft(u<=67108863);for(var m=0,y=this.length-1;y>=0;y--){var v=(0|this.words[y])+67108864*m;this.words[y]=v/u|0,m=v%u}return this.strip()},E.prototype.divn=function(u){return this.clone().idivn(u)},E.prototype.egcd=function(u){ft(0===u.negative),ft(!u.isZero());var m=this,y=u.clone();m=0!==m.negative?m.umod(u):m.clone();for(var v=new E(1),M=new E(0),S=new E(0),I=new E(1),C=0;m.isEven()&&y.isEven();)m.iushrn(1),y.iushrn(1),++C;for(var p=y.clone(),T=m.clone();!m.isZero();){for(var it=0,Z=1;0==(m.words[0]&Z)&&it<26;++it,Z<<=1);if(it>0)for(m.iushrn(it);it-- >0;)(v.isOdd()||M.isOdd())&&(v.iadd(p),M.isub(T)),v.iushrn(1),M.iushrn(1);for(var W=0,yt=1;0==(y.words[0]&yt)&&W<26;++W,yt<<=1);if(W>0)for(y.iushrn(W);W-- >0;)(S.isOdd()||I.isOdd())&&(S.iadd(p),I.isub(T)),S.iushrn(1),I.iushrn(1);m.cmp(y)>=0?(m.isub(y),v.isub(S),M.isub(I)):(y.isub(m),S.isub(v),I.isub(M))}return{a:S,b:I,gcd:y.iushln(C)}},E.prototype._invmp=function(u){ft(0===u.negative),ft(!u.isZero());var it,m=this,y=u.clone();m=0!==m.negative?m.umod(u):m.clone();for(var v=new E(1),M=new E(0),S=y.clone();m.cmpn(1)>0&&y.cmpn(1)>0;){for(var I=0,C=1;0==(m.words[0]&C)&&I<26;++I,C<<=1);if(I>0)for(m.iushrn(I);I-- >0;)v.isOdd()&&v.iadd(S),v.iushrn(1);for(var p=0,T=1;0==(y.words[0]&T)&&p<26;++p,T<<=1);if(p>0)for(y.iushrn(p);p-- >0;)M.isOdd()&&M.iadd(S),M.iushrn(1);m.cmp(y)>=0?(m.isub(y),v.isub(M)):(y.isub(m),M.isub(v))}return(it=0===m.cmpn(1)?v:M).cmpn(0)<0&&it.iadd(u),it},E.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var m=this.clone(),y=u.clone();m.negative=0,y.negative=0;for(var v=0;m.isEven()&&y.isEven();v++)m.iushrn(1),y.iushrn(1);for(;;){for(;m.isEven();)m.iushrn(1);for(;y.isEven();)y.iushrn(1);var M=m.cmp(y);if(M<0){var S=m;m=y,y=S}else if(0===M||0===y.cmpn(1))break;m.isub(y)}return y.iushln(v)},E.prototype.invm=function(u){return this.egcd(u).a.umod(u)},E.prototype.isEven=function(){return 0==(1&this.words[0])},E.prototype.isOdd=function(){return 1==(1&this.words[0])},E.prototype.andln=function(u){return this.words[0]&u},E.prototype.bincn=function(u){ft("number"==typeof u);var m=u%26,y=(u-m)/26,v=1<<m;if(this.length<=y)return this._expand(y+1),this.words[y]|=v,this;for(var M=v,S=y;0!==M&&S<this.length;S++){var I=0|this.words[S];M=(I+=M)>>>26,this.words[S]=I&=67108863}return 0!==M&&(this.words[S]=M,this.length++),this},E.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},E.prototype.cmpn=function(u){var y,m=u<0;if(0!==this.negative&&!m)return-1;if(0===this.negative&&m)return 1;if(this.strip(),this.length>1)y=1;else{m&&(u=-u),ft(u<=67108863,"Number is too big");var v=0|this.words[0];y=v===u?0:v<u?-1:1}return 0!==this.negative?0|-y:y},E.prototype.cmp=function(u){if(0!==this.negative&&0===u.negative)return-1;if(0===this.negative&&0!==u.negative)return 1;var m=this.ucmp(u);return 0!==this.negative?0|-m:m},E.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var m=0,y=this.length-1;y>=0;y--){var v=0|this.words[y],M=0|u.words[y];if(v!==M){v<M?m=-1:v>M&&(m=1);break}}return m},E.prototype.gtn=function(u){return 1===this.cmpn(u)},E.prototype.gt=function(u){return 1===this.cmp(u)},E.prototype.gten=function(u){return this.cmpn(u)>=0},E.prototype.gte=function(u){return this.cmp(u)>=0},E.prototype.ltn=function(u){return-1===this.cmpn(u)},E.prototype.lt=function(u){return-1===this.cmp(u)},E.prototype.lten=function(u){return this.cmpn(u)<=0},E.prototype.lte=function(u){return this.cmp(u)<=0},E.prototype.eqn=function(u){return 0===this.cmpn(u)},E.prototype.eq=function(u){return 0===this.cmp(u)},E.red=function(u){return new Et(u)},E.prototype.toRed=function(u){return ft(!this.red,"Already a number in reduction context"),ft(0===this.negative,"red works only with positives"),u.convertTo(this)._forceRed(u)},E.prototype.fromRed=function(){return ft(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},E.prototype._forceRed=function(u){return this.red=u,this},E.prototype.forceRed=function(u){return ft(!this.red,"Already a number in reduction context"),this._forceRed(u)},E.prototype.redAdd=function(u){return ft(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},E.prototype.redIAdd=function(u){return ft(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},E.prototype.redSub=function(u){return ft(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},E.prototype.redISub=function(u){return ft(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},E.prototype.redShl=function(u){return ft(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},E.prototype.redMul=function(u){return ft(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},E.prototype.redIMul=function(u){return ft(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},E.prototype.redSqr=function(){return ft(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},E.prototype.redISqr=function(){return ft(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},E.prototype.redSqrt=function(){return ft(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},E.prototype.redInvm=function(){return ft(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},E.prototype.redNeg=function(){return ft(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},E.prototype.redPow=function(u){return ft(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var nt={k256:null,p224:null,p192:null,p25519:null};function Q(R,u){this.name=R,this.p=new E(u,16),this.n=this.p.bitLength(),this.k=new E(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function lt(){Q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _t(){Q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function Ct(){Q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function kt(){Q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Et(R){if("string"==typeof R){var u=E._prime(R);this.m=u.p,this.prime=u}else ft(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}function St(R){Et.call(this,R),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new E(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Q.prototype._tmp=function(){var u=new E(null);return u.words=new Array(Math.ceil(this.n/13)),u},Q.prototype.ireduce=function(u){var y,m=u;do{this.split(m,this.tmp),y=(m=(m=this.imulK(m)).iadd(this.tmp)).bitLength()}while(y>this.n);var v=y<this.n?-1:m.ucmp(this.p);return 0===v?(m.words[0]=0,m.length=1):v>0?m.isub(this.p):void 0!==m.strip?m.strip():m._strip(),m},Q.prototype.split=function(u,m){u.iushrn(this.n,0,m)},Q.prototype.imulK=function(u){return u.imul(this.k)},dt(lt,Q),lt.prototype.split=function(u,m){for(var y=4194303,v=Math.min(u.length,9),M=0;M<v;M++)m.words[M]=u.words[M];if(m.length=v,u.length<=9)return u.words[0]=0,void(u.length=1);var S=u.words[9];for(m.words[m.length++]=S&y,M=10;M<u.length;M++){var I=0|u.words[M];u.words[M-10]=(I&y)<<4|S>>>22,S=I}u.words[M-10]=S>>>=22,u.length-=0===S&&u.length>10?10:9},lt.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var m=0,y=0;y<u.length;y++){var v=0|u.words[y];u.words[y]=67108863&(m+=977*v),m=64*v+(m/67108864|0)}return 0===u.words[u.length-1]&&(u.length--,0===u.words[u.length-1]&&u.length--),u},dt(_t,Q),dt(Ct,Q),dt(kt,Q),kt.prototype.imulK=function(u){for(var m=0,y=0;y<u.length;y++){var v=19*(0|u.words[y])+m,M=67108863&v;v>>>=26,u.words[y]=M,m=v}return 0!==m&&(u.words[u.length++]=m),u},E._prime=function(u){if(nt[u])return nt[u];var m;if("k256"===u)m=new lt;else if("p224"===u)m=new _t;else if("p192"===u)m=new Ct;else{if("p25519"!==u)throw new Error("Unknown prime "+u);m=new kt}return nt[u]=m,m},Et.prototype._verify1=function(u){ft(0===u.negative,"red works only with positives"),ft(u.red,"red works only with red numbers")},Et.prototype._verify2=function(u,m){ft(0==(u.negative|m.negative),"red works only with positives"),ft(u.red&&u.red===m.red,"red works only with red numbers")},Et.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},Et.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},Et.prototype.add=function(u,m){this._verify2(u,m);var y=u.add(m);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},Et.prototype.iadd=function(u,m){this._verify2(u,m);var y=u.iadd(m);return y.cmp(this.m)>=0&&y.isub(this.m),y},Et.prototype.sub=function(u,m){this._verify2(u,m);var y=u.sub(m);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},Et.prototype.isub=function(u,m){this._verify2(u,m);var y=u.isub(m);return y.cmpn(0)<0&&y.iadd(this.m),y},Et.prototype.shl=function(u,m){return this._verify1(u),this.imod(u.ushln(m))},Et.prototype.imul=function(u,m){return this._verify2(u,m),this.imod(u.imul(m))},Et.prototype.mul=function(u,m){return this._verify2(u,m),this.imod(u.mul(m))},Et.prototype.isqr=function(u){return this.imul(u,u.clone())},Et.prototype.sqr=function(u){return this.mul(u,u)},Et.prototype.sqrt=function(u){if(u.isZero())return u.clone();var m=this.m.andln(3);if(ft(m%2==1),3===m){var y=this.m.add(new E(1)).iushrn(2);return this.pow(u,y)}for(var v=this.m.subn(1),M=0;!v.isZero()&&0===v.andln(1);)M++,v.iushrn(1);ft(!v.isZero());var S=new E(1).toRed(this),I=S.redNeg(),C=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new E(2*p*p).toRed(this);0!==this.pow(p,C).cmp(I);)p.redIAdd(I);for(var T=this.pow(p,v),it=this.pow(u,v.addn(1).iushrn(1)),Z=this.pow(u,v),W=M;0!==Z.cmp(S);){for(var yt=Z,wt=0;0!==yt.cmp(S);wt++)yt=yt.redSqr();ft(wt<W);var Vt=this.pow(T,new E(1).iushln(W-wt-1));it=it.redMul(Vt),T=Vt.redSqr(),Z=Z.redMul(T),W=wt}return it},Et.prototype.invm=function(u){var m=u._invmp(this.m);return 0!==m.negative?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},Et.prototype.pow=function(u,m){if(m.isZero())return new E(1).toRed(this);if(0===m.cmpn(1))return u.clone();var v=new Array(16);v[0]=new E(1).toRed(this),v[1]=u;for(var M=2;M<v.length;M++)v[M]=this.mul(v[M-1],u);var S=v[0],I=0,C=0,p=m.bitLength()%26;for(0===p&&(p=26),M=m.length-1;M>=0;M--){for(var T=m.words[M],it=p-1;it>=0;it--){var Z=T>>it&1;S!==v[0]&&(S=this.sqr(S)),0!==Z||0!==I?(I<<=1,I|=Z,(4==++C||0===M&&0===it)&&(S=this.mul(S,v[I]),C=0,I=0)):C=0}p=26}return S},Et.prototype.convertTo=function(u){var m=u.umod(this.m);return m===u?m.clone():m},Et.prototype.convertFrom=function(u){var m=u.clone();return m.red=null,m},E.mont=function(u){return new St(u)},dt(St,Et),St.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},St.prototype.convertFrom=function(u){var m=this.imod(u.mul(this.rinv));return m.red=null,m},St.prototype.imul=function(u,m){if(u.isZero()||m.isZero())return u.words[0]=0,u.length=1,u;var y=u.imul(m),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(v).iushrn(this.shift),S=M;return M.cmp(this.m)>=0?S=M.isub(this.m):M.cmpn(0)<0&&(S=M.iadd(this.m)),S._forceRed(this)},St.prototype.mul=function(u,m){if(u.isZero()||m.isZero())return new E(0)._forceRed(this);var y=u.mul(m),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(v).iushrn(this.shift),S=M;return M.cmp(this.m)>=0?S=M.isub(this.m):M.cmpn(0)<0&&(S=M.iadd(this.m)),S._forceRed(this)},St.prototype.invm=function(u){return this.imod(u._invmp(this.m).mul(this.r2))._forceRed(this)}}(_e=Ft.nmd(_e),this)},4725:_e=>{function st(Ft,zt){if(!Ft)throw new Error(zt||"Assertion failed")}_e.exports=st,st.equal=function(zt,Kt,ft){if(zt!=Kt)throw new Error(ft||"Assertion failed: "+zt+" != "+Kt)}},1171:(_e,st)=>{"use strict";var Ft=st;function Kt(dt){return 1===dt.length?"0"+dt:dt}function ft(dt){for(var E="",K=0;K<dt.length;K++)E+=Kt(dt[K].toString(16));return E}Ft.toArray=function(dt,E){if(Array.isArray(dt))return dt.slice();if(!dt)return[];var K=[];if("string"!=typeof dt){for(var Y=0;Y<dt.length;Y++)K[Y]=0|dt[Y];return K}if("hex"===E)for((dt=dt.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(dt="0"+dt),Y=0;Y<dt.length;Y+=2)K.push(parseInt(dt[Y]+dt[Y+1],16));else for(Y=0;Y<dt.length;Y++){var ct=dt.charCodeAt(Y),et=ct>>8,X=255&ct;et?K.push(et,X):K.push(X)}return K},Ft.zero2=Kt,Ft.toHex=ft,Ft.encode=function(E,K){return"hex"===K?ft(E):E}},9817:(_e,st,Ft)=>{"use strict";var zt=Ft(46);st.certificate=Ft(191);var Kt=zt.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});st.RSAPrivateKey=Kt;var ft=zt.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});st.RSAPublicKey=ft;var dt=zt.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(E),this.key("subjectPublicKey").bitstr())});st.PublicKey=dt;var E=zt.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),K=zt.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(E),this.key("subjectPrivateKey").octstr())});st.PrivateKey=K;var Y=zt.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});st.EncryptedPrivateKey=Y;var ct=zt.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});st.DSAPrivateKey=ct,st.DSAparam=zt.define("DSAparam",function(){this.int()});var et=zt.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(X),this.key("publicKey").optional().explicit(1).bitstr())});st.ECPrivateKey=et;var X=zt.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});st.signature=zt.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},191:(_e,st,Ft)=>{"use strict";var zt=Ft(46),Kt=zt.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),ft=zt.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),dt=zt.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),E=zt.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(dt),this.key("subjectPublicKey").bitstr())}),K=zt.define("RelativeDistinguishedName",function(){this.setof(ft)}),Y=zt.define("RDNSequence",function(){this.seqof(K)}),ct=zt.define("Name",function(){this.choice({rdnSequence:this.use(Y)})}),et=zt.define("Validity",function(){this.seq().obj(this.key("notBefore").use(Kt),this.key("notAfter").use(Kt))}),X=zt.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),U=zt.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(dt),this.key("issuer").use(ct),this.key("validity").use(et),this.key("subject").use(ct),this.key("subjectPublicKeyInfo").use(E),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(X).optional())}),at=zt.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(U),this.key("signatureAlgorithm").use(dt),this.key("signatureValue").bitstr())});_e.exports=at},5380:(_e,st,Ft)=>{var zt=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,Kt=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,ft=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,dt=Ft(4539),E=Ft(8809),K=Ft(4615).Buffer;_e.exports=function(Y,ct){var U,et=Y.toString(),X=et.match(zt);if(X){var V="aes"+X[1],$=K.from(X[2],"hex"),H=K.from(X[3].replace(/[\r\n]/g,""),"base64"),G=dt(ct,$.slice(0,8),parseInt(X[1],10)).key,J=[],z=E.createDecipheriv(V,G,$);J.push(z.update(H)),J.push(z.final()),U=K.concat(J)}else{var at=et.match(ft);U=K.from(at[2].replace(/[\r\n]/g,""),"base64")}return{tag:et.match(Kt)[1],data:U}}},347:(_e,st,Ft)=>{var zt=Ft(9817),Kt=Ft(2562),ft=Ft(5380),dt=Ft(8809),E=Ft(6556),K=Ft(4615).Buffer;function Y(et){var X;"object"==typeof et&&!K.isBuffer(et)&&(X=et.passphrase,et=et.key),"string"==typeof et&&(et=K.from(et));var $,H,U=ft(et,X),at=U.tag,V=U.data;switch(at){case"CERTIFICATE":H=zt.certificate.decode(V,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(H||(H=zt.PublicKey.decode(V,"der")),$=H.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return zt.RSAPublicKey.decode(H.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return H.subjectPrivateKey=H.subjectPublicKey,{type:"ec",data:H};case"1.2.840.10040.4.1":return H.algorithm.params.pub_key=zt.DSAparam.decode(H.subjectPublicKey.data,"der"),{type:"dsa",data:H.algorithm.params};default:throw new Error("unknown key id "+$)}case"ENCRYPTED PRIVATE KEY":V=function(et,X){var U=et.algorithm.decrypt.kde.kdeparams.salt,at=parseInt(et.algorithm.decrypt.kde.kdeparams.iters.toString(),10),V=Kt[et.algorithm.decrypt.cipher.algo.join(".")],$=et.algorithm.decrypt.cipher.iv,H=et.subjectPrivateKey,G=parseInt(V.split("-")[1],10)/8,J=E.pbkdf2Sync(X,U,at,G,"sha1"),z=dt.createDecipheriv(V,J,$),nt=[];return nt.push(z.update(H)),nt.push(z.final()),K.concat(nt)}(V=zt.EncryptedPrivateKey.decode(V,"der"),X);case"PRIVATE KEY":switch($=(H=zt.PrivateKey.decode(V,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return zt.RSAPrivateKey.decode(H.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:H.algorithm.curve,privateKey:zt.ECPrivateKey.decode(H.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return H.algorithm.params.priv_key=zt.DSAparam.decode(H.subjectPrivateKey,"der"),{type:"dsa",params:H.algorithm.params};default:throw new Error("unknown key id "+$)}case"RSA PUBLIC KEY":return zt.RSAPublicKey.decode(V,"der");case"RSA PRIVATE KEY":return zt.RSAPrivateKey.decode(V,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:zt.DSAPrivateKey.decode(V,"der")};case"EC PRIVATE KEY":return{curve:(V=zt.ECPrivateKey.decode(V,"der")).parameters.value,privateKey:V.privateKey};default:throw new Error("unknown key type "+at)}}_e.exports=Y,Y.signature=zt.signature},6556:(_e,st,Ft)=>{st.pbkdf2=Ft(3373),st.pbkdf2Sync=Ft(9791)},3373:(_e,st,Ft)=>{var K,U,zt=Ft(4615).Buffer,Kt=Ft(3605),ft=Ft(8184),dt=Ft(9791),E=Ft(474),Y=global.crypto&&global.crypto.subtle,ct={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},et=[];function at(){return U||(U=global.process&&global.process.nextTick?global.process.nextTick:global.queueMicrotask?global.queueMicrotask:global.setImmediate?global.setImmediate:global.setTimeout)}function V(H,G,J,z,nt){return Y.importKey("raw",H,{name:"PBKDF2"},!1,["deriveBits"]).then(function(Q){return Y.deriveBits({name:"PBKDF2",salt:G,iterations:J,hash:{name:nt}},Q,z<<3)}).then(function(Q){return zt.from(Q)})}_e.exports=function(H,G,J,z,nt,Q){"function"==typeof nt&&(Q=nt,nt=void 0);var lt=ct[(nt=nt||"sha1").toLowerCase()];if(lt&&"function"==typeof global.Promise){if(Kt(J,z),H=E(H,ft,"Password"),G=E(G,ft,"Salt"),"function"!=typeof Q)throw new Error("No callback provided to pbkdf2");!function(H,G){H.then(function(J){at()(function(){G(null,J)})},function(J){at()(function(){G(J)})})}(function(H){if(global.process&&!global.process.browser||!Y||!Y.importKey||!Y.deriveBits)return Promise.resolve(!1);if(void 0!==et[H])return et[H];var G=V(K=K||zt.alloc(8),K,10,128,H).then(function(){return!0}).catch(function(){return!1});return et[H]=G,G}(lt).then(function(_t){return _t?V(H,G,J,z,lt):dt(H,G,J,z,nt)}),Q)}else at()(function(){var _t;try{_t=dt(H,G,J,z,nt)}catch(Ct){return Q(Ct)}Q(null,_t)})}},8184:_e=>{var st;st=global.process&&global.process.browser?"utf-8":global.process&&global.process.version?parseInt(process.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",_e.exports=st},3605:_e=>{var st=Math.pow(2,30)-1;_e.exports=function(Ft,zt){if("number"!=typeof Ft)throw new TypeError("Iterations not a number");if(Ft<0)throw new TypeError("Bad iterations");if("number"!=typeof zt)throw new TypeError("Key length not a number");if(zt<0||zt>st||zt!=zt)throw new TypeError("Bad key length")}},9791:(_e,st,Ft)=>{var zt=Ft(4936),Kt=Ft(7447),ft=Ft(6010),dt=Ft(4615).Buffer,E=Ft(3605),K=Ft(8184),Y=Ft(474),ct=dt.alloc(128),et={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function X(V,$,H){var G=function(V){return"rmd160"===V||"ripemd160"===V?function(G){return(new Kt).update(G).digest()}:"md5"===V?zt:function(G){return ft(V).update(G).digest()}}(V),J="sha512"===V||"sha384"===V?128:64;$.length>J?$=G($):$.length<J&&($=dt.concat([$,ct],J));for(var z=dt.allocUnsafe(J+et[V]),nt=dt.allocUnsafe(J+et[V]),Q=0;Q<J;Q++)z[Q]=54^$[Q],nt[Q]=92^$[Q];var lt=dt.allocUnsafe(J+H+4);z.copy(lt,0,0,J),this.ipad1=lt,this.ipad2=z,this.opad=nt,this.alg=V,this.blocksize=J,this.hash=G,this.size=et[V]}X.prototype.run=function(V,$){return V.copy($,this.blocksize),this.hash($).copy(this.opad,this.blocksize),this.hash(this.opad)},_e.exports=function(V,$,H,G,J){E(H,G);var z=new X(J=J||"sha1",V=Y(V,K,"Password"),($=Y($,K,"Salt")).length),nt=dt.allocUnsafe(G),Q=dt.allocUnsafe($.length+4);$.copy(Q,0,0,$.length);for(var lt=0,_t=et[J],Ct=Math.ceil(G/_t),kt=1;kt<=Ct;kt++){Q.writeUInt32BE(kt,$.length);for(var Et=z.run(Q,z.ipad1),St=Et,R=1;R<H;R++){St=z.run(St,z.ipad2);for(var u=0;u<_t;u++)Et[u]^=St[u]}Et.copy(nt,lt),lt+=_t}return nt}},474:(_e,st,Ft)=>{var zt=Ft(4615).Buffer;_e.exports=function(Kt,ft,dt){if(zt.isBuffer(Kt))return Kt;if("string"==typeof Kt)return zt.from(Kt,ft);if(ArrayBuffer.isView(Kt))return zt.from(Kt.buffer);throw new TypeError(dt+" must be a string, a Buffer, a typed array or a DataView")}},2914:(_e,st,Ft)=>{st.publicEncrypt=Ft(793),st.privateDecrypt=Ft(3009),st.privateEncrypt=function(Kt,ft){return st.publicEncrypt(Kt,ft,!0)},st.publicDecrypt=function(Kt,ft){return st.privateDecrypt(Kt,ft,!0)}},9129:(_e,st,Ft)=>{var zt=Ft(4979),Kt=Ft(4615).Buffer;function ft(dt){var E=Kt.allocUnsafe(4);return E.writeUInt32BE(dt,0),E}_e.exports=function(dt,E){for(var ct,K=Kt.alloc(0),Y=0;K.length<E;)ct=ft(Y++),K=Kt.concat([K,zt("sha1").update(dt).update(ct).digest()]);return K.slice(0,E)}},8847:function(_e,st,Ft){!function(zt,Kt){"use strict";function ft(R,u){if(!R)throw new Error(u||"Assertion failed")}function dt(R,u){R.super_=u;var m=function(){};m.prototype=u.prototype,R.prototype=new m,R.prototype.constructor=R}function E(R,u,m){if(E.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,null!==R&&(("le"===u||"be"===u)&&(m=u,u=10),this._init(R||0,u||10,m||"be"))}var K;"object"==typeof zt?zt.exports=E:Kt.BN=E,E.BN=E,E.wordSize=26;try{K="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:Ft(7108).Buffer}catch(R){}function Y(R,u){var m=R.charCodeAt(u);return m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:m-48&15}function ct(R,u,m){var y=Y(R,m);return m-1>=u&&(y|=Y(R,m-1)<<4),y}function et(R,u,m,y){for(var v=0,M=Math.min(R.length,m),S=u;S<M;S++){var I=R.charCodeAt(S)-48;v*=y,v+=I>=49?I-49+10:I>=17?I-17+10:I}return v}E.isBN=function(u){return u instanceof E||null!==u&&"object"==typeof u&&u.constructor.wordSize===E.wordSize&&Array.isArray(u.words)},E.max=function(u,m){return u.cmp(m)>0?u:m},E.min=function(u,m){return u.cmp(m)<0?u:m},E.prototype._init=function(u,m,y){if("number"==typeof u)return this._initNumber(u,m,y);if("object"==typeof u)return this._initArray(u,m,y);"hex"===m&&(m=16),ft(m===(0|m)&&m>=2&&m<=36);var v=0;"-"===(u=u.toString().replace(/\s+/g,""))[0]&&(v++,this.negative=1),v<u.length&&(16===m?this._parseHex(u,v,y):(this._parseBase(u,m,v),"le"===y&&this._initArray(this.toArray(),m,y)))},E.prototype._initNumber=function(u,m,y){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[67108863&u],this.length=1):u<4503599627370496?(this.words=[67108863&u,u/67108864&67108863],this.length=2):(ft(u<9007199254740992),this.words=[67108863&u,u/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),m,y)},E.prototype._initArray=function(u,m,y){if(ft("number"==typeof u.length),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var M,S,I=0;if("be"===y)for(v=u.length-1,M=0;v>=0;v-=3)this.words[M]|=(S=u[v]|u[v-1]<<8|u[v-2]<<16)<<I&67108863,this.words[M+1]=S>>>26-I&67108863,(I+=24)>=26&&(I-=26,M++);else if("le"===y)for(v=0,M=0;v<u.length;v+=3)this.words[M]|=(S=u[v]|u[v+1]<<8|u[v+2]<<16)<<I&67108863,this.words[M+1]=S>>>26-I&67108863,(I+=24)>=26&&(I-=26,M++);return this.strip()},E.prototype._parseHex=function(u,m,y){this.length=Math.ceil((u.length-m)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var I,M=0,S=0;if("be"===y)for(v=u.length-1;v>=m;v-=2)I=ct(u,m,v)<<M,this.words[S]|=67108863&I,M>=18?(M-=18,this.words[S+=1]|=I>>>26):M+=8;else for(v=(u.length-m)%2==0?m+1:m;v<u.length;v+=2)I=ct(u,m,v)<<M,this.words[S]|=67108863&I,M>=18?(M-=18,this.words[S+=1]|=I>>>26):M+=8;this.strip()},E.prototype._parseBase=function(u,m,y){this.words=[0],this.length=1;for(var v=0,M=1;M<=67108863;M*=m)v++;v--,M=M/m|0;for(var S=u.length-y,I=S%v,C=Math.min(S,S-I)+y,p=0,T=y;T<C;T+=v)p=et(u,T,T+v,m),this.imuln(M),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(0!==I){var it=1;for(p=et(u,T,u.length,m),T=0;T<I;T++)it*=m;this.imuln(it),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this.strip()},E.prototype.copy=function(u){u.words=new Array(this.length);for(var m=0;m<this.length;m++)u.words[m]=this.words[m];u.length=this.length,u.negative=this.negative,u.red=this.red},E.prototype.clone=function(){var u=new E(null);return this.copy(u),u},E.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},E.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},E.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},E.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var X=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],U=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],at=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function $(R,u,m){m.negative=u.negative^R.negative;var y=R.length+u.length|0;m.length=y,y=y-1|0;var v=0|R.words[0],M=0|u.words[0],S=v*M,C=S/67108864|0;m.words[0]=67108863&S;for(var p=1;p<y;p++){for(var T=C>>>26,it=67108863&C,Z=Math.min(p,u.length-1),W=Math.max(0,p-R.length+1);W<=Z;W++)T+=(S=(v=0|R.words[p-W|0])*(M=0|u.words[W])+it)/67108864|0,it=67108863&S;m.words[p]=0|it,C=0|T}return 0!==C?m.words[p]=0|C:m.length--,m.strip()}E.prototype.toString=function(u,m){var y;if(m=0|m||1,16===(u=u||10)||"hex"===u){y="";for(var v=0,M=0,S=0;S<this.length;S++){var I=this.words[S],C=(16777215&(I<<v|M)).toString(16);y=0!=(M=I>>>24-v&16777215)||S!==this.length-1?X[6-C.length]+C+y:C+y,(v+=2)>=26&&(v-=26,S--)}for(0!==M&&(y=M.toString(16)+y);y.length%m!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(u===(0|u)&&u>=2&&u<=36){var p=U[u],T=at[u];y="";var it=this.clone();for(it.negative=0;!it.isZero();){var Z=it.modn(T).toString(u);y=(it=it.idivn(T)).isZero()?Z+y:X[p-Z.length]+Z+y}for(this.isZero()&&(y="0"+y);y.length%m!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}ft(!1,"Base should be between 2 and 36")},E.prototype.toNumber=function(){var u=this.words[0];return 2===this.length?u+=67108864*this.words[1]:3===this.length&&1===this.words[2]?u+=4503599627370496+67108864*this.words[1]:this.length>2&&ft(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-u:u},E.prototype.toJSON=function(){return this.toString(16)},E.prototype.toBuffer=function(u,m){return ft(void 0!==K),this.toArrayLike(K,u,m)},E.prototype.toArray=function(u,m){return this.toArrayLike(Array,u,m)},E.prototype.toArrayLike=function(u,m,y){var v=this.byteLength(),M=y||Math.max(1,v);ft(v<=M,"byte array longer than desired length"),ft(M>0,"Requested array length <= 0"),this.strip();var C,p,S="le"===m,I=new u(M),T=this.clone();if(S){for(p=0;!T.isZero();p++)C=T.andln(255),T.iushrn(8),I[p]=C;for(;p<M;p++)I[p]=0}else{for(p=0;p<M-v;p++)I[p]=0;for(p=0;!T.isZero();p++)C=T.andln(255),T.iushrn(8),I[M-p-1]=C}return I},E.prototype._countBits=Math.clz32?function(u){return 32-Math.clz32(u)}:function(u){var m=u,y=0;return m>=4096&&(y+=13,m>>>=13),m>=64&&(y+=7,m>>>=7),m>=8&&(y+=4,m>>>=4),m>=2&&(y+=2,m>>>=2),y+m},E.prototype._zeroBits=function(u){if(0===u)return 26;var m=u,y=0;return 0==(8191&m)&&(y+=13,m>>>=13),0==(127&m)&&(y+=7,m>>>=7),0==(15&m)&&(y+=4,m>>>=4),0==(3&m)&&(y+=2,m>>>=2),0==(1&m)&&y++,y},E.prototype.bitLength=function(){var m=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+m},E.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,m=0;m<this.length;m++){var y=this._zeroBits(this.words[m]);if(u+=y,26!==y)break}return u},E.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},E.prototype.toTwos=function(u){return 0!==this.negative?this.abs().inotn(u).iaddn(1):this.clone()},E.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},E.prototype.isNeg=function(){return 0!==this.negative},E.prototype.neg=function(){return this.clone().ineg()},E.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},E.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var m=0;m<u.length;m++)this.words[m]=this.words[m]|u.words[m];return this.strip()},E.prototype.ior=function(u){return ft(0==(this.negative|u.negative)),this.iuor(u)},E.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},E.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},E.prototype.iuand=function(u){var m;m=this.length>u.length?u:this;for(var y=0;y<m.length;y++)this.words[y]=this.words[y]&u.words[y];return this.length=m.length,this.strip()},E.prototype.iand=function(u){return ft(0==(this.negative|u.negative)),this.iuand(u)},E.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},E.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},E.prototype.iuxor=function(u){var m,y;this.length>u.length?(m=this,y=u):(m=u,y=this);for(var v=0;v<y.length;v++)this.words[v]=m.words[v]^y.words[v];if(this!==m)for(;v<m.length;v++)this.words[v]=m.words[v];return this.length=m.length,this.strip()},E.prototype.ixor=function(u){return ft(0==(this.negative|u.negative)),this.iuxor(u)},E.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},E.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},E.prototype.inotn=function(u){ft("number"==typeof u&&u>=0);var m=0|Math.ceil(u/26),y=u%26;this._expand(m),y>0&&m--;for(var v=0;v<m;v++)this.words[v]=67108863&~this.words[v];return y>0&&(this.words[v]=~this.words[v]&67108863>>26-y),this.strip()},E.prototype.notn=function(u){return this.clone().inotn(u)},E.prototype.setn=function(u,m){ft("number"==typeof u&&u>=0);var y=u/26|0,v=u%26;return this._expand(y+1),this.words[y]=m?this.words[y]|1<<v:this.words[y]&~(1<<v),this.strip()},E.prototype.iadd=function(u){var m,y,v;if(0!==this.negative&&0===u.negative)return this.negative=0,m=this.isub(u),this.negative^=1,this._normSign();if(0===this.negative&&0!==u.negative)return u.negative=0,m=this.isub(u),u.negative=1,m._normSign();this.length>u.length?(y=this,v=u):(y=u,v=this);for(var M=0,S=0;S<v.length;S++)this.words[S]=67108863&(m=(0|y.words[S])+(0|v.words[S])+M),M=m>>>26;for(;0!==M&&S<y.length;S++)this.words[S]=67108863&(m=(0|y.words[S])+M),M=m>>>26;if(this.length=y.length,0!==M)this.words[this.length]=M,this.length++;else if(y!==this)for(;S<y.length;S++)this.words[S]=y.words[S];return this},E.prototype.add=function(u){var m;return 0!==u.negative&&0===this.negative?(u.negative=0,m=this.sub(u),u.negative^=1,m):0===u.negative&&0!==this.negative?(this.negative=0,m=u.sub(this),this.negative=1,m):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},E.prototype.isub=function(u){if(0!==u.negative){u.negative=0;var m=this.iadd(u);return u.negative=1,m._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var v,M,y=this.cmp(u);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(v=this,M=u):(v=u,M=this);for(var S=0,I=0;I<M.length;I++)S=(m=(0|v.words[I])-(0|M.words[I])+S)>>26,this.words[I]=67108863&m;for(;0!==S&&I<v.length;I++)S=(m=(0|v.words[I])+S)>>26,this.words[I]=67108863&m;if(0===S&&I<v.length&&v!==this)for(;I<v.length;I++)this.words[I]=v.words[I];return this.length=Math.max(this.length,I),v!==this&&(this.negative=1),this.strip()},E.prototype.sub=function(u){return this.clone().isub(u)};var H=function(u,m,y){var C,p,T,v=u.words,M=m.words,S=y.words,I=0,it=0|v[0],Z=8191&it,W=it>>>13,yt=0|v[1],wt=8191&yt,Vt=yt>>>13,Ut=0|v[2],At=8191&Ut,bt=Ut>>>13,qt=0|v[3],Rt=8191&qt,Dt=qt>>>13,Bt=0|v[4],Zt=8191&Bt,Lt=Bt>>>13,Ce=0|v[5],Ht=8191&Ce,me=Ce>>>13,Si=0|v[6],be=8191&Si,de=Si>>>13,je=0|v[7],Yt=8191&je,ee=je>>>13,Le=0|v[8],It=8191&Le,gt=Le>>>13,rt=0|v[9],Qt=8191&rt,ue=rt>>>13,Ze=0|M[0],ve=8191&Ze,Ie=Ze>>>13,on=0|M[1],ni=8191&on,ii=on>>>13,Xi=0|M[2],vi=8191&Xi,_i=Xi>>>13,Ln=0|M[3],Mi=8191&Ln,Ge=Ln>>>13,fn=0|M[4],Ei=8191&fn,Oe=fn>>>13,ai=0|M[5],ke=8191&ai,re=ai>>>13,De=0|M[6],he=8191&De,Se=De>>>13,$e=0|M[7],te=8191&$e,Re=$e>>>13,sn=0|M[8],Qe=8191&sn,di=sn>>>13,Bn=0|M[9],ci=8191&Bn,si=Bn>>>13;y.negative=u.negative^m.negative,y.length=19;var an=(I+(C=Math.imul(Z,ve))|0)+((8191&(p=(p=Math.imul(Z,Ie))+Math.imul(W,ve)|0))<<13)|0;I=((T=Math.imul(W,Ie))+(p>>>13)|0)+(an>>>26)|0,an&=67108863,C=Math.imul(wt,ve),p=(p=Math.imul(wt,Ie))+Math.imul(Vt,ve)|0,T=Math.imul(Vt,Ie);var cn=(I+(C=C+Math.imul(Z,ni)|0)|0)+((8191&(p=(p=p+Math.imul(Z,ii)|0)+Math.imul(W,ni)|0))<<13)|0;I=((T=T+Math.imul(W,ii)|0)+(p>>>13)|0)+(cn>>>26)|0,cn&=67108863,C=Math.imul(At,ve),p=(p=Math.imul(At,Ie))+Math.imul(bt,ve)|0,T=Math.imul(bt,Ie),C=C+Math.imul(wt,ni)|0,p=(p=p+Math.imul(wt,ii)|0)+Math.imul(Vt,ni)|0,T=T+Math.imul(Vt,ii)|0;var Fn=(I+(C=C+Math.imul(Z,vi)|0)|0)+((8191&(p=(p=p+Math.imul(Z,_i)|0)+Math.imul(W,vi)|0))<<13)|0;I=((T=T+Math.imul(W,_i)|0)+(p>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,C=Math.imul(Rt,ve),p=(p=Math.imul(Rt,Ie))+Math.imul(Dt,ve)|0,T=Math.imul(Dt,Ie),C=C+Math.imul(At,ni)|0,p=(p=p+Math.imul(At,ii)|0)+Math.imul(bt,ni)|0,T=T+Math.imul(bt,ii)|0,C=C+Math.imul(wt,vi)|0,p=(p=p+Math.imul(wt,_i)|0)+Math.imul(Vt,vi)|0,T=T+Math.imul(Vt,_i)|0;var Or=(I+(C=C+Math.imul(Z,Mi)|0)|0)+((8191&(p=(p=p+Math.imul(Z,Ge)|0)+Math.imul(W,Mi)|0))<<13)|0;I=((T=T+Math.imul(W,Ge)|0)+(p>>>13)|0)+(Or>>>26)|0,Or&=67108863,C=Math.imul(Zt,ve),p=(p=Math.imul(Zt,Ie))+Math.imul(Lt,ve)|0,T=Math.imul(Lt,Ie),C=C+Math.imul(Rt,ni)|0,p=(p=p+Math.imul(Rt,ii)|0)+Math.imul(Dt,ni)|0,T=T+Math.imul(Dt,ii)|0,C=C+Math.imul(At,vi)|0,p=(p=p+Math.imul(At,_i)|0)+Math.imul(bt,vi)|0,T=T+Math.imul(bt,_i)|0,C=C+Math.imul(wt,Mi)|0,p=(p=p+Math.imul(wt,Ge)|0)+Math.imul(Vt,Mi)|0,T=T+Math.imul(Vt,Ge)|0;var Vn=(I+(C=C+Math.imul(Z,Ei)|0)|0)+((8191&(p=(p=p+Math.imul(Z,Oe)|0)+Math.imul(W,Ei)|0))<<13)|0;I=((T=T+Math.imul(W,Oe)|0)+(p>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,C=Math.imul(Ht,ve),p=(p=Math.imul(Ht,Ie))+Math.imul(me,ve)|0,T=Math.imul(me,Ie),C=C+Math.imul(Zt,ni)|0,p=(p=p+Math.imul(Zt,ii)|0)+Math.imul(Lt,ni)|0,T=T+Math.imul(Lt,ii)|0,C=C+Math.imul(Rt,vi)|0,p=(p=p+Math.imul(Rt,_i)|0)+Math.imul(Dt,vi)|0,T=T+Math.imul(Dt,_i)|0,C=C+Math.imul(At,Mi)|0,p=(p=p+Math.imul(At,Ge)|0)+Math.imul(bt,Mi)|0,T=T+Math.imul(bt,Ge)|0,C=C+Math.imul(wt,Ei)|0,p=(p=p+Math.imul(wt,Oe)|0)+Math.imul(Vt,Ei)|0,T=T+Math.imul(Vt,Oe)|0;var Jn=(I+(C=C+Math.imul(Z,ke)|0)|0)+((8191&(p=(p=p+Math.imul(Z,re)|0)+Math.imul(W,ke)|0))<<13)|0;I=((T=T+Math.imul(W,re)|0)+(p>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,C=Math.imul(be,ve),p=(p=Math.imul(be,Ie))+Math.imul(de,ve)|0,T=Math.imul(de,Ie),C=C+Math.imul(Ht,ni)|0,p=(p=p+Math.imul(Ht,ii)|0)+Math.imul(me,ni)|0,T=T+Math.imul(me,ii)|0,C=C+Math.imul(Zt,vi)|0,p=(p=p+Math.imul(Zt,_i)|0)+Math.imul(Lt,vi)|0,T=T+Math.imul(Lt,_i)|0,C=C+Math.imul(Rt,Mi)|0,p=(p=p+Math.imul(Rt,Ge)|0)+Math.imul(Dt,Mi)|0,T=T+Math.imul(Dt,Ge)|0,C=C+Math.imul(At,Ei)|0,p=(p=p+Math.imul(At,Oe)|0)+Math.imul(bt,Ei)|0,T=T+Math.imul(bt,Oe)|0,C=C+Math.imul(wt,ke)|0,p=(p=p+Math.imul(wt,re)|0)+Math.imul(Vt,ke)|0,T=T+Math.imul(Vt,re)|0;var hn=(I+(C=C+Math.imul(Z,he)|0)|0)+((8191&(p=(p=p+Math.imul(Z,Se)|0)+Math.imul(W,he)|0))<<13)|0;I=((T=T+Math.imul(W,Se)|0)+(p>>>13)|0)+(hn>>>26)|0,hn&=67108863,C=Math.imul(Yt,ve),p=(p=Math.imul(Yt,Ie))+Math.imul(ee,ve)|0,T=Math.imul(ee,Ie),C=C+Math.imul(be,ni)|0,p=(p=p+Math.imul(be,ii)|0)+Math.imul(de,ni)|0,T=T+Math.imul(de,ii)|0,C=C+Math.imul(Ht,vi)|0,p=(p=p+Math.imul(Ht,_i)|0)+Math.imul(me,vi)|0,T=T+Math.imul(me,_i)|0,C=C+Math.imul(Zt,Mi)|0,p=(p=p+Math.imul(Zt,Ge)|0)+Math.imul(Lt,Mi)|0,T=T+Math.imul(Lt,Ge)|0,C=C+Math.imul(Rt,Ei)|0,p=(p=p+Math.imul(Rt,Oe)|0)+Math.imul(Dt,Ei)|0,T=T+Math.imul(Dt,Oe)|0,C=C+Math.imul(At,ke)|0,p=(p=p+Math.imul(At,re)|0)+Math.imul(bt,ke)|0,T=T+Math.imul(bt,re)|0,C=C+Math.imul(wt,he)|0,p=(p=p+Math.imul(wt,Se)|0)+Math.imul(Vt,he)|0,T=T+Math.imul(Vt,Se)|0;var jr=(I+(C=C+Math.imul(Z,te)|0)|0)+((8191&(p=(p=p+Math.imul(Z,Re)|0)+Math.imul(W,te)|0))<<13)|0;I=((T=T+Math.imul(W,Re)|0)+(p>>>13)|0)+(jr>>>26)|0,jr&=67108863,C=Math.imul(It,ve),p=(p=Math.imul(It,Ie))+Math.imul(gt,ve)|0,T=Math.imul(gt,Ie),C=C+Math.imul(Yt,ni)|0,p=(p=p+Math.imul(Yt,ii)|0)+Math.imul(ee,ni)|0,T=T+Math.imul(ee,ii)|0,C=C+Math.imul(be,vi)|0,p=(p=p+Math.imul(be,_i)|0)+Math.imul(de,vi)|0,T=T+Math.imul(de,_i)|0,C=C+Math.imul(Ht,Mi)|0,p=(p=p+Math.imul(Ht,Ge)|0)+Math.imul(me,Mi)|0,T=T+Math.imul(me,Ge)|0,C=C+Math.imul(Zt,Ei)|0,p=(p=p+Math.imul(Zt,Oe)|0)+Math.imul(Lt,Ei)|0,T=T+Math.imul(Lt,Oe)|0,C=C+Math.imul(Rt,ke)|0,p=(p=p+Math.imul(Rt,re)|0)+Math.imul(Dt,ke)|0,T=T+Math.imul(Dt,re)|0,C=C+Math.imul(At,he)|0,p=(p=p+Math.imul(At,Se)|0)+Math.imul(bt,he)|0,T=T+Math.imul(bt,Se)|0,C=C+Math.imul(wt,te)|0,p=(p=p+Math.imul(wt,Re)|0)+Math.imul(Vt,te)|0,T=T+Math.imul(Vt,Re)|0;var wr=(I+(C=C+Math.imul(Z,Qe)|0)|0)+((8191&(p=(p=p+Math.imul(Z,di)|0)+Math.imul(W,Qe)|0))<<13)|0;I=((T=T+Math.imul(W,di)|0)+(p>>>13)|0)+(wr>>>26)|0,wr&=67108863,C=Math.imul(Qt,ve),p=(p=Math.imul(Qt,Ie))+Math.imul(ue,ve)|0,T=Math.imul(ue,Ie),C=C+Math.imul(It,ni)|0,p=(p=p+Math.imul(It,ii)|0)+Math.imul(gt,ni)|0,T=T+Math.imul(gt,ii)|0,C=C+Math.imul(Yt,vi)|0,p=(p=p+Math.imul(Yt,_i)|0)+Math.imul(ee,vi)|0,T=T+Math.imul(ee,_i)|0,C=C+Math.imul(be,Mi)|0,p=(p=p+Math.imul(be,Ge)|0)+Math.imul(de,Mi)|0,T=T+Math.imul(de,Ge)|0,C=C+Math.imul(Ht,Ei)|0,p=(p=p+Math.imul(Ht,Oe)|0)+Math.imul(me,Ei)|0,T=T+Math.imul(me,Oe)|0,C=C+Math.imul(Zt,ke)|0,p=(p=p+Math.imul(Zt,re)|0)+Math.imul(Lt,ke)|0,T=T+Math.imul(Lt,re)|0,C=C+Math.imul(Rt,he)|0,p=(p=p+Math.imul(Rt,Se)|0)+Math.imul(Dt,he)|0,T=T+Math.imul(Dt,Se)|0,C=C+Math.imul(At,te)|0,p=(p=p+Math.imul(At,Re)|0)+Math.imul(bt,te)|0,T=T+Math.imul(bt,Re)|0,C=C+Math.imul(wt,Qe)|0,p=(p=p+Math.imul(wt,di)|0)+Math.imul(Vt,Qe)|0,T=T+Math.imul(Vt,di)|0;var br=(I+(C=C+Math.imul(Z,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Z,si)|0)+Math.imul(W,ci)|0))<<13)|0;I=((T=T+Math.imul(W,si)|0)+(p>>>13)|0)+(br>>>26)|0,br&=67108863,C=Math.imul(Qt,ni),p=(p=Math.imul(Qt,ii))+Math.imul(ue,ni)|0,T=Math.imul(ue,ii),C=C+Math.imul(It,vi)|0,p=(p=p+Math.imul(It,_i)|0)+Math.imul(gt,vi)|0,T=T+Math.imul(gt,_i)|0,C=C+Math.imul(Yt,Mi)|0,p=(p=p+Math.imul(Yt,Ge)|0)+Math.imul(ee,Mi)|0,T=T+Math.imul(ee,Ge)|0,C=C+Math.imul(be,Ei)|0,p=(p=p+Math.imul(be,Oe)|0)+Math.imul(de,Ei)|0,T=T+Math.imul(de,Oe)|0,C=C+Math.imul(Ht,ke)|0,p=(p=p+Math.imul(Ht,re)|0)+Math.imul(me,ke)|0,T=T+Math.imul(me,re)|0,C=C+Math.imul(Zt,he)|0,p=(p=p+Math.imul(Zt,Se)|0)+Math.imul(Lt,he)|0,T=T+Math.imul(Lt,Se)|0,C=C+Math.imul(Rt,te)|0,p=(p=p+Math.imul(Rt,Re)|0)+Math.imul(Dt,te)|0,T=T+Math.imul(Dt,Re)|0,C=C+Math.imul(At,Qe)|0,p=(p=p+Math.imul(At,di)|0)+Math.imul(bt,Qe)|0,T=T+Math.imul(bt,di)|0;var Xn=(I+(C=C+Math.imul(wt,ci)|0)|0)+((8191&(p=(p=p+Math.imul(wt,si)|0)+Math.imul(Vt,ci)|0))<<13)|0;I=((T=T+Math.imul(Vt,si)|0)+(p>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,C=Math.imul(Qt,vi),p=(p=Math.imul(Qt,_i))+Math.imul(ue,vi)|0,T=Math.imul(ue,_i),C=C+Math.imul(It,Mi)|0,p=(p=p+Math.imul(It,Ge)|0)+Math.imul(gt,Mi)|0,T=T+Math.imul(gt,Ge)|0,C=C+Math.imul(Yt,Ei)|0,p=(p=p+Math.imul(Yt,Oe)|0)+Math.imul(ee,Ei)|0,T=T+Math.imul(ee,Oe)|0,C=C+Math.imul(be,ke)|0,p=(p=p+Math.imul(be,re)|0)+Math.imul(de,ke)|0,T=T+Math.imul(de,re)|0,C=C+Math.imul(Ht,he)|0,p=(p=p+Math.imul(Ht,Se)|0)+Math.imul(me,he)|0,T=T+Math.imul(me,Se)|0,C=C+Math.imul(Zt,te)|0,p=(p=p+Math.imul(Zt,Re)|0)+Math.imul(Lt,te)|0,T=T+Math.imul(Lt,Re)|0,C=C+Math.imul(Rt,Qe)|0,p=(p=p+Math.imul(Rt,di)|0)+Math.imul(Dt,Qe)|0,T=T+Math.imul(Dt,di)|0;var Co=(I+(C=C+Math.imul(At,ci)|0)|0)+((8191&(p=(p=p+Math.imul(At,si)|0)+Math.imul(bt,ci)|0))<<13)|0;I=((T=T+Math.imul(bt,si)|0)+(p>>>13)|0)+(Co>>>26)|0,Co&=67108863,C=Math.imul(Qt,Mi),p=(p=Math.imul(Qt,Ge))+Math.imul(ue,Mi)|0,T=Math.imul(ue,Ge),C=C+Math.imul(It,Ei)|0,p=(p=p+Math.imul(It,Oe)|0)+Math.imul(gt,Ei)|0,T=T+Math.imul(gt,Oe)|0,C=C+Math.imul(Yt,ke)|0,p=(p=p+Math.imul(Yt,re)|0)+Math.imul(ee,ke)|0,T=T+Math.imul(ee,re)|0,C=C+Math.imul(be,he)|0,p=(p=p+Math.imul(be,Se)|0)+Math.imul(de,he)|0,T=T+Math.imul(de,Se)|0,C=C+Math.imul(Ht,te)|0,p=(p=p+Math.imul(Ht,Re)|0)+Math.imul(me,te)|0,T=T+Math.imul(me,Re)|0,C=C+Math.imul(Zt,Qe)|0,p=(p=p+Math.imul(Zt,di)|0)+Math.imul(Lt,Qe)|0,T=T+Math.imul(Lt,di)|0;var Ti=(I+(C=C+Math.imul(Rt,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Rt,si)|0)+Math.imul(Dt,ci)|0))<<13)|0;I=((T=T+Math.imul(Dt,si)|0)+(p>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,C=Math.imul(Qt,Ei),p=(p=Math.imul(Qt,Oe))+Math.imul(ue,Ei)|0,T=Math.imul(ue,Oe),C=C+Math.imul(It,ke)|0,p=(p=p+Math.imul(It,re)|0)+Math.imul(gt,ke)|0,T=T+Math.imul(gt,re)|0,C=C+Math.imul(Yt,he)|0,p=(p=p+Math.imul(Yt,Se)|0)+Math.imul(ee,he)|0,T=T+Math.imul(ee,Se)|0,C=C+Math.imul(be,te)|0,p=(p=p+Math.imul(be,Re)|0)+Math.imul(de,te)|0,T=T+Math.imul(de,Re)|0,C=C+Math.imul(Ht,Qe)|0,p=(p=p+Math.imul(Ht,di)|0)+Math.imul(me,Qe)|0,T=T+Math.imul(me,di)|0;var mn=(I+(C=C+Math.imul(Zt,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Zt,si)|0)+Math.imul(Lt,ci)|0))<<13)|0;I=((T=T+Math.imul(Lt,si)|0)+(p>>>13)|0)+(mn>>>26)|0,mn&=67108863,C=Math.imul(Qt,ke),p=(p=Math.imul(Qt,re))+Math.imul(ue,ke)|0,T=Math.imul(ue,re),C=C+Math.imul(It,he)|0,p=(p=p+Math.imul(It,Se)|0)+Math.imul(gt,he)|0,T=T+Math.imul(gt,Se)|0,C=C+Math.imul(Yt,te)|0,p=(p=p+Math.imul(Yt,Re)|0)+Math.imul(ee,te)|0,T=T+Math.imul(ee,Re)|0,C=C+Math.imul(be,Qe)|0,p=(p=p+Math.imul(be,di)|0)+Math.imul(de,Qe)|0,T=T+Math.imul(de,di)|0;var gr=(I+(C=C+Math.imul(Ht,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Ht,si)|0)+Math.imul(me,ci)|0))<<13)|0;I=((T=T+Math.imul(me,si)|0)+(p>>>13)|0)+(gr>>>26)|0,gr&=67108863,C=Math.imul(Qt,he),p=(p=Math.imul(Qt,Se))+Math.imul(ue,he)|0,T=Math.imul(ue,Se),C=C+Math.imul(It,te)|0,p=(p=p+Math.imul(It,Re)|0)+Math.imul(gt,te)|0,T=T+Math.imul(gt,Re)|0,C=C+Math.imul(Yt,Qe)|0,p=(p=p+Math.imul(Yt,di)|0)+Math.imul(ee,Qe)|0,T=T+Math.imul(ee,di)|0;var En=(I+(C=C+Math.imul(be,ci)|0)|0)+((8191&(p=(p=p+Math.imul(be,si)|0)+Math.imul(de,ci)|0))<<13)|0;I=((T=T+Math.imul(de,si)|0)+(p>>>13)|0)+(En>>>26)|0,En&=67108863,C=Math.imul(Qt,te),p=(p=Math.imul(Qt,Re))+Math.imul(ue,te)|0,T=Math.imul(ue,Re),C=C+Math.imul(It,Qe)|0,p=(p=p+Math.imul(It,di)|0)+Math.imul(gt,Qe)|0,T=T+Math.imul(gt,di)|0;var _o=(I+(C=C+Math.imul(Yt,ci)|0)|0)+((8191&(p=(p=p+Math.imul(Yt,si)|0)+Math.imul(ee,ci)|0))<<13)|0;I=((T=T+Math.imul(ee,si)|0)+(p>>>13)|0)+(_o>>>26)|0,_o&=67108863,C=Math.imul(Qt,Qe),p=(p=Math.imul(Qt,di))+Math.imul(ue,Qe)|0,T=Math.imul(ue,di);var No=(I+(C=C+Math.imul(It,ci)|0)|0)+((8191&(p=(p=p+Math.imul(It,si)|0)+Math.imul(gt,ci)|0))<<13)|0;I=((T=T+Math.imul(gt,si)|0)+(p>>>13)|0)+(No>>>26)|0,No&=67108863;var Hi=(I+(C=Math.imul(Qt,ci))|0)+((8191&(p=(p=Math.imul(Qt,si))+Math.imul(ue,ci)|0))<<13)|0;return I=((T=Math.imul(ue,si))+(p>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,S[0]=an,S[1]=cn,S[2]=Fn,S[3]=Or,S[4]=Vn,S[5]=Jn,S[6]=hn,S[7]=jr,S[8]=wr,S[9]=br,S[10]=Xn,S[11]=Co,S[12]=Ti,S[13]=mn,S[14]=gr,S[15]=En,S[16]=_o,S[17]=No,S[18]=Hi,0!==I&&(S[19]=I,y.length++),y};function J(R,u,m){return(new z).mulp(R,u,m)}function z(R,u){this.x=R,this.y=u}Math.imul||(H=$),E.prototype.mulTo=function(u,m){var y,v=this.length+u.length;return y=10===this.length&&10===u.length?H(this,u,m):v<63?$(this,u,m):v<1024?function(R,u,m){m.negative=u.negative^R.negative,m.length=R.length+u.length;for(var y=0,v=0,M=0;M<m.length-1;M++){var S=v;v=0;for(var I=67108863&y,C=Math.min(M,u.length-1),p=Math.max(0,M-R.length+1);p<=C;p++){var W=(0|R.words[M-p])*(0|u.words[p]),yt=67108863&W;I=67108863&(yt=yt+I|0),v+=(S=(S=S+(W/67108864|0)|0)+(yt>>>26)|0)>>>26,S&=67108863}m.words[M]=I,y=S,S=v}return 0!==y?m.words[M]=y:m.length--,m.strip()}(this,u,m):J(this,u,m),y},z.prototype.makeRBT=function(u){for(var m=new Array(u),y=E.prototype._countBits(u)-1,v=0;v<u;v++)m[v]=this.revBin(v,y,u);return m},z.prototype.revBin=function(u,m,y){if(0===u||u===y-1)return u;for(var v=0,M=0;M<m;M++)v|=(1&u)<<m-M-1,u>>=1;return v},z.prototype.permute=function(u,m,y,v,M,S){for(var I=0;I<S;I++)v[I]=m[u[I]],M[I]=y[u[I]]},z.prototype.transform=function(u,m,y,v,M,S){this.permute(S,u,m,y,v,M);for(var I=1;I<M;I<<=1)for(var C=I<<1,p=Math.cos(2*Math.PI/C),T=Math.sin(2*Math.PI/C),it=0;it<M;it+=C)for(var Z=p,W=T,yt=0;yt<I;yt++){var wt=y[it+yt],Vt=v[it+yt],Ut=y[it+yt+I],At=v[it+yt+I],bt=Z*Ut-W*At;At=Z*At+W*Ut,y[it+yt]=wt+(Ut=bt),v[it+yt]=Vt+At,y[it+yt+I]=wt-Ut,v[it+yt+I]=Vt-At,yt!==C&&(bt=p*Z-T*W,W=p*W+T*Z,Z=bt)}},z.prototype.guessLen13b=function(u,m){var y=1|Math.max(m,u),v=1&y,M=0;for(y=y/2|0;y;y>>>=1)M++;return 1<<M+1+v},z.prototype.conjugate=function(u,m,y){if(!(y<=1))for(var v=0;v<y/2;v++){var M=u[v];u[v]=u[y-v-1],u[y-v-1]=M,M=m[v],m[v]=-m[y-v-1],m[y-v-1]=-M}},z.prototype.normalize13b=function(u,m){for(var y=0,v=0;v<m/2;v++){var M=8192*Math.round(u[2*v+1]/m)+Math.round(u[2*v]/m)+y;u[v]=67108863&M,y=M<67108864?0:M/67108864|0}return u},z.prototype.convert13b=function(u,m,y,v){for(var M=0,S=0;S<m;S++)y[2*S]=8191&(M+=0|u[S]),y[2*S+1]=8191&(M>>>=13),M>>>=13;for(S=2*m;S<v;++S)y[S]=0;ft(0===M),ft(0==(-8192&M))},z.prototype.stub=function(u){for(var m=new Array(u),y=0;y<u;y++)m[y]=0;return m},z.prototype.mulp=function(u,m,y){var v=2*this.guessLen13b(u.length,m.length),M=this.makeRBT(v),S=this.stub(v),I=new Array(v),C=new Array(v),p=new Array(v),T=new Array(v),it=new Array(v),Z=new Array(v),W=y.words;W.length=v,this.convert13b(u.words,u.length,I,v),this.convert13b(m.words,m.length,T,v),this.transform(I,S,C,p,v,M),this.transform(T,S,it,Z,v,M);for(var yt=0;yt<v;yt++){var wt=C[yt]*it[yt]-p[yt]*Z[yt];p[yt]=C[yt]*Z[yt]+p[yt]*it[yt],C[yt]=wt}return this.conjugate(C,p,v),this.transform(C,p,W,S,v,M),this.conjugate(W,S,v),this.normalize13b(W,v),y.negative=u.negative^m.negative,y.length=u.length+m.length,y.strip()},E.prototype.mul=function(u){var m=new E(null);return m.words=new Array(this.length+u.length),this.mulTo(u,m)},E.prototype.mulf=function(u){var m=new E(null);return m.words=new Array(this.length+u.length),J(this,u,m)},E.prototype.imul=function(u){return this.clone().mulTo(u,this)},E.prototype.imuln=function(u){ft("number"==typeof u),ft(u<67108864);for(var m=0,y=0;y<this.length;y++){var v=(0|this.words[y])*u,M=(67108863&v)+(67108863&m);m>>=26,m+=v/67108864|0,m+=M>>>26,this.words[y]=67108863&M}return 0!==m&&(this.words[y]=m,this.length++),this},E.prototype.muln=function(u){return this.clone().imuln(u)},E.prototype.sqr=function(){return this.mul(this)},E.prototype.isqr=function(){return this.imul(this.clone())},E.prototype.pow=function(u){var m=function(R){for(var u=new Array(R.bitLength()),m=0;m<u.length;m++){var v=m%26;u[m]=(R.words[m/26|0]&1<<v)>>>v}return u}(u);if(0===m.length)return new E(1);for(var y=this,v=0;v<m.length&&0===m[v];v++,y=y.sqr());if(++v<m.length)for(var M=y.sqr();v<m.length;v++,M=M.sqr())0!==m[v]&&(y=y.mul(M));return y},E.prototype.iushln=function(u){ft("number"==typeof u&&u>=0);var M,m=u%26,y=(u-m)/26,v=67108863>>>26-m<<26-m;if(0!==m){var S=0;for(M=0;M<this.length;M++){var I=this.words[M]&v;this.words[M]=(0|this.words[M])-I<<m|S,S=I>>>26-m}S&&(this.words[M]=S,this.length++)}if(0!==y){for(M=this.length-1;M>=0;M--)this.words[M+y]=this.words[M];for(M=0;M<y;M++)this.words[M]=0;this.length+=y}return this.strip()},E.prototype.ishln=function(u){return ft(0===this.negative),this.iushln(u)},E.prototype.iushrn=function(u,m,y){var v;ft("number"==typeof u&&u>=0),v=m?(m-m%26)/26:0;var M=u%26,S=Math.min((u-M)/26,this.length),I=67108863^67108863>>>M<<M,C=y;if(v-=S,v=Math.max(0,v),C){for(var p=0;p<S;p++)C.words[p]=this.words[p];C.length=S}if(0!==S)if(this.length>S)for(this.length-=S,p=0;p<this.length;p++)this.words[p]=this.words[p+S];else this.words[0]=0,this.length=1;var T=0;for(p=this.length-1;p>=0&&(0!==T||p>=v);p--){var it=0|this.words[p];this.words[p]=T<<26-M|it>>>M,T=it&I}return C&&0!==T&&(C.words[C.length++]=T),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},E.prototype.ishrn=function(u,m,y){return ft(0===this.negative),this.iushrn(u,m,y)},E.prototype.shln=function(u){return this.clone().ishln(u)},E.prototype.ushln=function(u){return this.clone().iushln(u)},E.prototype.shrn=function(u){return this.clone().ishrn(u)},E.prototype.ushrn=function(u){return this.clone().iushrn(u)},E.prototype.testn=function(u){ft("number"==typeof u&&u>=0);var m=u%26,y=(u-m)/26;return!(this.length<=y||!(this.words[y]&1<<m))},E.prototype.imaskn=function(u){ft("number"==typeof u&&u>=0);var m=u%26,y=(u-m)/26;return ft(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==m&&y++,this.length=Math.min(y,this.length),0!==m&&(this.words[this.length-1]&=67108863^67108863>>>m<<m),this.strip())},E.prototype.maskn=function(u){return this.clone().imaskn(u)},E.prototype.iaddn=function(u){return ft("number"==typeof u),ft(u<67108864),u<0?this.isubn(-u):0!==this.negative?1===this.length&&(0|this.words[0])<u?(this.words[0]=u-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},E.prototype._iaddn=function(u){this.words[0]+=u;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},E.prototype.isubn=function(u){if(ft("number"==typeof u),ft(u<67108864),u<0)return this.iaddn(-u);if(0!==this.negative)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this.strip()},E.prototype.addn=function(u){return this.clone().iaddn(u)},E.prototype.subn=function(u){return this.clone().isubn(u)},E.prototype.iabs=function(){return this.negative=0,this},E.prototype.abs=function(){return this.clone().iabs()},E.prototype._ishlnsubmul=function(u,m,y){var M;this._expand(u.length+y);var S,I=0;for(M=0;M<u.length;M++){S=(0|this.words[M+y])+I;var C=(0|u.words[M])*m;I=((S-=67108863&C)>>26)-(C/67108864|0),this.words[M+y]=67108863&S}for(;M<this.length-y;M++)I=(S=(0|this.words[M+y])+I)>>26,this.words[M+y]=67108863&S;if(0===I)return this.strip();for(ft(-1===I),I=0,M=0;M<this.length;M++)I=(S=-(0|this.words[M])+I)>>26,this.words[M]=67108863&S;return this.negative=1,this.strip()},E.prototype._wordDiv=function(u,m){var y,v=this.clone(),M=u,S=0|M.words[M.length-1];0!=(y=26-this._countBits(S))&&(M=M.ushln(y),v.iushln(y),S=0|M.words[M.length-1]);var p,C=v.length-M.length;if("mod"!==m){(p=new E(null)).length=C+1,p.words=new Array(p.length);for(var T=0;T<p.length;T++)p.words[T]=0}var it=v.clone()._ishlnsubmul(M,1,C);0===it.negative&&(v=it,p&&(p.words[C]=1));for(var Z=C-1;Z>=0;Z--){var W=67108864*(0|v.words[M.length+Z])+(0|v.words[M.length+Z-1]);for(W=Math.min(W/S|0,67108863),v._ishlnsubmul(M,W,Z);0!==v.negative;)W--,v.negative=0,v._ishlnsubmul(M,1,Z),v.isZero()||(v.negative^=1);p&&(p.words[Z]=W)}return p&&p.strip(),v.strip(),"div"!==m&&0!==y&&v.iushrn(y),{div:p||null,mod:v}},E.prototype.divmod=function(u,m,y){return ft(!u.isZero()),this.isZero()?{div:new E(0),mod:new E(0)}:0!==this.negative&&0===u.negative?(S=this.neg().divmod(u,m),"mod"!==m&&(v=S.div.neg()),"div"!==m&&(M=S.mod.neg(),y&&0!==M.negative&&M.iadd(u)),{div:v,mod:M}):0===this.negative&&0!==u.negative?(S=this.divmod(u.neg(),m),"mod"!==m&&(v=S.div.neg()),{div:v,mod:S.mod}):0!=(this.negative&u.negative)?(S=this.neg().divmod(u.neg(),m),"div"!==m&&(M=S.mod.neg(),y&&0!==M.negative&&M.isub(u)),{div:S.div,mod:M}):u.length>this.length||this.cmp(u)<0?{div:new E(0),mod:this}:1===u.length?"div"===m?{div:this.divn(u.words[0]),mod:null}:"mod"===m?{div:null,mod:new E(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new E(this.modn(u.words[0]))}:this._wordDiv(u,m);var v,M,S},E.prototype.div=function(u){return this.divmod(u,"div",!1).div},E.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},E.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},E.prototype.divRound=function(u){var m=this.divmod(u);if(m.mod.isZero())return m.div;var y=0!==m.div.negative?m.mod.isub(u):m.mod,v=u.ushrn(1),M=u.andln(1),S=y.cmp(v);return S<0||1===M&&0===S?m.div:0!==m.div.negative?m.div.isubn(1):m.div.iaddn(1)},E.prototype.modn=function(u){ft(u<=67108863);for(var m=(1<<26)%u,y=0,v=this.length-1;v>=0;v--)y=(m*y+(0|this.words[v]))%u;return y},E.prototype.idivn=function(u){ft(u<=67108863);for(var m=0,y=this.length-1;y>=0;y--){var v=(0|this.words[y])+67108864*m;this.words[y]=v/u|0,m=v%u}return this.strip()},E.prototype.divn=function(u){return this.clone().idivn(u)},E.prototype.egcd=function(u){ft(0===u.negative),ft(!u.isZero());var m=this,y=u.clone();m=0!==m.negative?m.umod(u):m.clone();for(var v=new E(1),M=new E(0),S=new E(0),I=new E(1),C=0;m.isEven()&&y.isEven();)m.iushrn(1),y.iushrn(1),++C;for(var p=y.clone(),T=m.clone();!m.isZero();){for(var it=0,Z=1;0==(m.words[0]&Z)&&it<26;++it,Z<<=1);if(it>0)for(m.iushrn(it);it-- >0;)(v.isOdd()||M.isOdd())&&(v.iadd(p),M.isub(T)),v.iushrn(1),M.iushrn(1);for(var W=0,yt=1;0==(y.words[0]&yt)&&W<26;++W,yt<<=1);if(W>0)for(y.iushrn(W);W-- >0;)(S.isOdd()||I.isOdd())&&(S.iadd(p),I.isub(T)),S.iushrn(1),I.iushrn(1);m.cmp(y)>=0?(m.isub(y),v.isub(S),M.isub(I)):(y.isub(m),S.isub(v),I.isub(M))}return{a:S,b:I,gcd:y.iushln(C)}},E.prototype._invmp=function(u){ft(0===u.negative),ft(!u.isZero());var it,m=this,y=u.clone();m=0!==m.negative?m.umod(u):m.clone();for(var v=new E(1),M=new E(0),S=y.clone();m.cmpn(1)>0&&y.cmpn(1)>0;){for(var I=0,C=1;0==(m.words[0]&C)&&I<26;++I,C<<=1);if(I>0)for(m.iushrn(I);I-- >0;)v.isOdd()&&v.iadd(S),v.iushrn(1);for(var p=0,T=1;0==(y.words[0]&T)&&p<26;++p,T<<=1);if(p>0)for(y.iushrn(p);p-- >0;)M.isOdd()&&M.iadd(S),M.iushrn(1);m.cmp(y)>=0?(m.isub(y),v.isub(M)):(y.isub(m),M.isub(v))}return(it=0===m.cmpn(1)?v:M).cmpn(0)<0&&it.iadd(u),it},E.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var m=this.clone(),y=u.clone();m.negative=0,y.negative=0;for(var v=0;m.isEven()&&y.isEven();v++)m.iushrn(1),y.iushrn(1);for(;;){for(;m.isEven();)m.iushrn(1);for(;y.isEven();)y.iushrn(1);var M=m.cmp(y);if(M<0){var S=m;m=y,y=S}else if(0===M||0===y.cmpn(1))break;m.isub(y)}return y.iushln(v)},E.prototype.invm=function(u){return this.egcd(u).a.umod(u)},E.prototype.isEven=function(){return 0==(1&this.words[0])},E.prototype.isOdd=function(){return 1==(1&this.words[0])},E.prototype.andln=function(u){return this.words[0]&u},E.prototype.bincn=function(u){ft("number"==typeof u);var m=u%26,y=(u-m)/26,v=1<<m;if(this.length<=y)return this._expand(y+1),this.words[y]|=v,this;for(var M=v,S=y;0!==M&&S<this.length;S++){var I=0|this.words[S];M=(I+=M)>>>26,this.words[S]=I&=67108863}return 0!==M&&(this.words[S]=M,this.length++),this},E.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},E.prototype.cmpn=function(u){var y,m=u<0;if(0!==this.negative&&!m)return-1;if(0===this.negative&&m)return 1;if(this.strip(),this.length>1)y=1;else{m&&(u=-u),ft(u<=67108863,"Number is too big");var v=0|this.words[0];y=v===u?0:v<u?-1:1}return 0!==this.negative?0|-y:y},E.prototype.cmp=function(u){if(0!==this.negative&&0===u.negative)return-1;if(0===this.negative&&0!==u.negative)return 1;var m=this.ucmp(u);return 0!==this.negative?0|-m:m},E.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var m=0,y=this.length-1;y>=0;y--){var v=0|this.words[y],M=0|u.words[y];if(v!==M){v<M?m=-1:v>M&&(m=1);break}}return m},E.prototype.gtn=function(u){return 1===this.cmpn(u)},E.prototype.gt=function(u){return 1===this.cmp(u)},E.prototype.gten=function(u){return this.cmpn(u)>=0},E.prototype.gte=function(u){return this.cmp(u)>=0},E.prototype.ltn=function(u){return-1===this.cmpn(u)},E.prototype.lt=function(u){return-1===this.cmp(u)},E.prototype.lten=function(u){return this.cmpn(u)<=0},E.prototype.lte=function(u){return this.cmp(u)<=0},E.prototype.eqn=function(u){return 0===this.cmpn(u)},E.prototype.eq=function(u){return 0===this.cmp(u)},E.red=function(u){return new Et(u)},E.prototype.toRed=function(u){return ft(!this.red,"Already a number in reduction context"),ft(0===this.negative,"red works only with positives"),u.convertTo(this)._forceRed(u)},E.prototype.fromRed=function(){return ft(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},E.prototype._forceRed=function(u){return this.red=u,this},E.prototype.forceRed=function(u){return ft(!this.red,"Already a number in reduction context"),this._forceRed(u)},E.prototype.redAdd=function(u){return ft(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},E.prototype.redIAdd=function(u){return ft(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},E.prototype.redSub=function(u){return ft(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},E.prototype.redISub=function(u){return ft(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},E.prototype.redShl=function(u){return ft(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},E.prototype.redMul=function(u){return ft(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},E.prototype.redIMul=function(u){return ft(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},E.prototype.redSqr=function(){return ft(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},E.prototype.redISqr=function(){return ft(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},E.prototype.redSqrt=function(){return ft(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},E.prototype.redInvm=function(){return ft(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},E.prototype.redNeg=function(){return ft(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},E.prototype.redPow=function(u){return ft(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var nt={k256:null,p224:null,p192:null,p25519:null};function Q(R,u){this.name=R,this.p=new E(u,16),this.n=this.p.bitLength(),this.k=new E(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function lt(){Q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _t(){Q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function Ct(){Q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function kt(){Q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Et(R){if("string"==typeof R){var u=E._prime(R);this.m=u.p,this.prime=u}else ft(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}function St(R){Et.call(this,R),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new E(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Q.prototype._tmp=function(){var u=new E(null);return u.words=new Array(Math.ceil(this.n/13)),u},Q.prototype.ireduce=function(u){var y,m=u;do{this.split(m,this.tmp),y=(m=(m=this.imulK(m)).iadd(this.tmp)).bitLength()}while(y>this.n);var v=y<this.n?-1:m.ucmp(this.p);return 0===v?(m.words[0]=0,m.length=1):v>0?m.isub(this.p):void 0!==m.strip?m.strip():m._strip(),m},Q.prototype.split=function(u,m){u.iushrn(this.n,0,m)},Q.prototype.imulK=function(u){return u.imul(this.k)},dt(lt,Q),lt.prototype.split=function(u,m){for(var y=4194303,v=Math.min(u.length,9),M=0;M<v;M++)m.words[M]=u.words[M];if(m.length=v,u.length<=9)return u.words[0]=0,void(u.length=1);var S=u.words[9];for(m.words[m.length++]=S&y,M=10;M<u.length;M++){var I=0|u.words[M];u.words[M-10]=(I&y)<<4|S>>>22,S=I}u.words[M-10]=S>>>=22,u.length-=0===S&&u.length>10?10:9},lt.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var m=0,y=0;y<u.length;y++){var v=0|u.words[y];u.words[y]=67108863&(m+=977*v),m=64*v+(m/67108864|0)}return 0===u.words[u.length-1]&&(u.length--,0===u.words[u.length-1]&&u.length--),u},dt(_t,Q),dt(Ct,Q),dt(kt,Q),kt.prototype.imulK=function(u){for(var m=0,y=0;y<u.length;y++){var v=19*(0|u.words[y])+m,M=67108863&v;v>>>=26,u.words[y]=M,m=v}return 0!==m&&(u.words[u.length++]=m),u},E._prime=function(u){if(nt[u])return nt[u];var m;if("k256"===u)m=new lt;else if("p224"===u)m=new _t;else if("p192"===u)m=new Ct;else{if("p25519"!==u)throw new Error("Unknown prime "+u);m=new kt}return nt[u]=m,m},Et.prototype._verify1=function(u){ft(0===u.negative,"red works only with positives"),ft(u.red,"red works only with red numbers")},Et.prototype._verify2=function(u,m){ft(0==(u.negative|m.negative),"red works only with positives"),ft(u.red&&u.red===m.red,"red works only with red numbers")},Et.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},Et.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},Et.prototype.add=function(u,m){this._verify2(u,m);var y=u.add(m);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},Et.prototype.iadd=function(u,m){this._verify2(u,m);var y=u.iadd(m);return y.cmp(this.m)>=0&&y.isub(this.m),y},Et.prototype.sub=function(u,m){this._verify2(u,m);var y=u.sub(m);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},Et.prototype.isub=function(u,m){this._verify2(u,m);var y=u.isub(m);return y.cmpn(0)<0&&y.iadd(this.m),y},Et.prototype.shl=function(u,m){return this._verify1(u),this.imod(u.ushln(m))},Et.prototype.imul=function(u,m){return this._verify2(u,m),this.imod(u.imul(m))},Et.prototype.mul=function(u,m){return this._verify2(u,m),this.imod(u.mul(m))},Et.prototype.isqr=function(u){return this.imul(u,u.clone())},Et.prototype.sqr=function(u){return this.mul(u,u)},Et.prototype.sqrt=function(u){if(u.isZero())return u.clone();var m=this.m.andln(3);if(ft(m%2==1),3===m){var y=this.m.add(new E(1)).iushrn(2);return this.pow(u,y)}for(var v=this.m.subn(1),M=0;!v.isZero()&&0===v.andln(1);)M++,v.iushrn(1);ft(!v.isZero());var S=new E(1).toRed(this),I=S.redNeg(),C=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new E(2*p*p).toRed(this);0!==this.pow(p,C).cmp(I);)p.redIAdd(I);for(var T=this.pow(p,v),it=this.pow(u,v.addn(1).iushrn(1)),Z=this.pow(u,v),W=M;0!==Z.cmp(S);){for(var yt=Z,wt=0;0!==yt.cmp(S);wt++)yt=yt.redSqr();ft(wt<W);var Vt=this.pow(T,new E(1).iushln(W-wt-1));it=it.redMul(Vt),T=Vt.redSqr(),Z=Z.redMul(T),W=wt}return it},Et.prototype.invm=function(u){var m=u._invmp(this.m);return 0!==m.negative?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},Et.prototype.pow=function(u,m){if(m.isZero())return new E(1).toRed(this);if(0===m.cmpn(1))return u.clone();var v=new Array(16);v[0]=new E(1).toRed(this),v[1]=u;for(var M=2;M<v.length;M++)v[M]=this.mul(v[M-1],u);var S=v[0],I=0,C=0,p=m.bitLength()%26;for(0===p&&(p=26),M=m.length-1;M>=0;M--){for(var T=m.words[M],it=p-1;it>=0;it--){var Z=T>>it&1;S!==v[0]&&(S=this.sqr(S)),0!==Z||0!==I?(I<<=1,I|=Z,(4==++C||0===M&&0===it)&&(S=this.mul(S,v[I]),C=0,I=0)):C=0}p=26}return S},Et.prototype.convertTo=function(u){var m=u.umod(this.m);return m===u?m.clone():m},Et.prototype.convertFrom=function(u){var m=u.clone();return m.red=null,m},E.mont=function(u){return new St(u)},dt(St,Et),St.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},St.prototype.convertFrom=function(u){var m=this.imod(u.mul(this.rinv));return m.red=null,m},St.prototype.imul=function(u,m){if(u.isZero()||m.isZero())return u.words[0]=0,u.length=1,u;var y=u.imul(m),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(v).iushrn(this.shift),S=M;return M.cmp(this.m)>=0?S=M.isub(this.m):M.cmpn(0)<0&&(S=M.iadd(this.m)),S._forceRed(this)},St.prototype.mul=function(u,m){if(u.isZero()||m.isZero())return new E(0)._forceRed(this);var y=u.mul(m),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(v).iushrn(this.shift),S=M;return M.cmp(this.m)>=0?S=M.isub(this.m):M.cmpn(0)<0&&(S=M.iadd(this.m)),S._forceRed(this)},St.prototype.invm=function(u){return this.imod(u._invmp(this.m).mul(this.r2))._forceRed(this)}}(_e=Ft.nmd(_e),this)},3009:(_e,st,Ft)=>{var zt=Ft(347),Kt=Ft(9129),ft=Ft(4137),dt=Ft(8847),E=Ft(5269),K=Ft(4979),Y=Ft(2900),ct=Ft(4615).Buffer;_e.exports=function(V,$,H){var G;G=V.padding?V.padding:H?1:4;var nt,J=zt(V),z=J.modulus.byteLength();if($.length>z||new dt($).cmp(J.modulus)>=0)throw new Error("decryption error");nt=H?Y(new dt($),J):E($,J);var Q=ct.alloc(z-nt.length);if(nt=ct.concat([Q,nt],z),4===G)return function(at,V){var $=at.modulus.byteLength(),H=K("sha1").update(ct.alloc(0)).digest(),G=H.length;if(0!==V[0])throw new Error("decryption error");var J=V.slice(1,G+1),z=V.slice(G+1),nt=ft(J,Kt(z,G)),Q=ft(z,Kt(nt,$-G-1));if(function(at,V){at=ct.from(at),V=ct.from(V);var $=0,H=at.length;at.length!==V.length&&($++,H=Math.min(at.length,V.length));for(var G=-1;++G<H;)$+=at[G]^V[G];return $}(H,Q.slice(0,G)))throw new Error("decryption error");for(var lt=G;0===Q[lt];)lt++;if(1!==Q[lt++])throw new Error("decryption error");return Q.slice(lt)}(J,nt);if(1===G)return function(at,V,$){for(var H=V.slice(0,2),G=2,J=0;0!==V[G++];)if(G>=V.length){J++;break}var z=V.slice(2,G-1);if(("0002"!==H.toString("hex")&&!$||"0001"!==H.toString("hex")&&$)&&J++,z.length<8&&J++,J)throw new Error("decryption error");return V.slice(G)}(0,nt,H);if(3===G)return nt;throw new Error("unknown padding")}},793:(_e,st,Ft)=>{var zt=Ft(347),Kt=Ft(8747),ft=Ft(4979),dt=Ft(9129),E=Ft(4137),K=Ft(8847),Y=Ft(2900),ct=Ft(5269),et=Ft(4615).Buffer;_e.exports=function($,H,G){var J;J=$.padding?$.padding:G?1:4;var nt,z=zt($);if(4===J)nt=function(V,$){var H=V.modulus.byteLength(),G=$.length,J=ft("sha1").update(et.alloc(0)).digest(),z=J.length,nt=2*z;if(G>H-nt-2)throw new Error("message too long");var Q=et.alloc(H-G-nt-2),lt=H-z-1,_t=Kt(z),Ct=E(et.concat([J,Q,et.alloc(1,1),$],lt),dt(_t,lt)),kt=E(_t,dt(Ct,z));return new K(et.concat([et.alloc(1),kt,Ct],H))}(z,H);else if(1===J)nt=function(V,$,H){var z,G=$.length,J=V.modulus.byteLength();if(G>J-11)throw new Error("message too long");return z=H?et.alloc(J-G-3,255):function(V){for(var z,$=et.allocUnsafe(V),H=0,G=Kt(2*V),J=0;H<V;)J===G.length&&(G=Kt(2*V),J=0),(z=G[J++])&&($[H++]=z);return $}(J-G-3),new K(et.concat([et.from([0,H?1:2]),z,et.alloc(1),$],J))}(z,H,G);else{if(3!==J)throw new Error("unknown padding");if((nt=new K(H)).cmp(z.modulus)>=0)throw new Error("data too long for modulus")}return G?ct(nt,z):Y(nt,z)}},2900:(_e,st,Ft)=>{var zt=Ft(8847),Kt=Ft(4615).Buffer;_e.exports=function(dt,E){return Kt.from(dt.toRed(zt.mont(E.modulus)).redPow(new zt(E.publicExponent)).fromRed().toArray())}},4137:_e=>{_e.exports=function(Ft,zt){for(var Kt=Ft.length,ft=-1;++ft<Kt;)Ft[ft]^=zt[ft];return Ft}},8747:(_e,st,Ft)=>{"use strict";var dt=Ft(4615).Buffer,E=global.crypto||global.msCrypto;_e.exports=E&&E.getRandomValues?function(Y,ct){if(Y>4294967295)throw new RangeError("requested too many random bytes");var et=dt.allocUnsafe(Y);if(Y>0)if(Y>65536)for(var X=0;X<Y;X+=65536)E.getRandomValues(et.slice(X,X+65536));else E.getRandomValues(et);return"function"==typeof ct?process.nextTick(function(){ct(null,et)}):et}:function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},1766:(_e,st,Ft)=>{"use strict";function zt(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var Kt=Ft(4615),ft=Ft(8747),dt=Kt.Buffer,E=Kt.kMaxLength,K=global.crypto||global.msCrypto,Y=Math.pow(2,32)-1;function ct(V,$){if("number"!=typeof V||V!=V)throw new TypeError("offset must be a number");if(V>Y||V<0)throw new TypeError("offset must be a uint32");if(V>E||V>$)throw new RangeError("offset out of range")}function et(V,$,H){if("number"!=typeof V||V!=V)throw new TypeError("size must be a number");if(V>Y||V<0)throw new TypeError("size must be a uint32");if(V+$>H||V>E)throw new RangeError("buffer too small")}function U(V,$,H,G){if(process.browser){var z=new Uint8Array(V.buffer,$,H);return K.getRandomValues(z),G?void process.nextTick(function(){G(null,V)}):V}if(!G)return ft(H).copy(V,$),V;ft(H,function(Q,lt){if(Q)return G(Q);lt.copy(V,$),G(null,V)})}K&&K.getRandomValues||!process.browser?(st.randomFill=function(V,$,H,G){if(!(dt.isBuffer(V)||V instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof $)G=$,$=0,H=V.length;else if("function"==typeof H)G=H,H=V.length-$;else if("function"!=typeof G)throw new TypeError('"cb" argument must be a function');return ct($,V.length),et(H,$,V.length),U(V,$,H,G)},st.randomFillSync=function(V,$,H){if(void 0===$&&($=0),!(dt.isBuffer(V)||V instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return ct($,V.length),void 0===H&&(H=V.length-$),et(H,$,V.length),U(V,$,H)}):(st.randomFill=zt,st.randomFillSync=zt)},4621:_e=>{"use strict";var Ft={};function zt(K,Y,ct){ct||(ct=Error);var X=function(U){function at(V,$,H){return U.call(this,function(U,at,V){return"string"==typeof Y?Y:Y(U,at,V)}(V,$,H))||this}return function(K,Y){K.prototype=Object.create(Y.prototype),K.prototype.constructor=K,K.__proto__=Y}(at,U),at}(ct);X.prototype.name=ct.name,X.prototype.code=K,Ft[K]=X}function Kt(K,Y){if(Array.isArray(K)){var ct=K.length;return K=K.map(function(et){return String(et)}),ct>2?"one of ".concat(Y," ").concat(K.slice(0,ct-1).join(", "),", or ")+K[ct-1]:2===ct?"one of ".concat(Y," ").concat(K[0]," or ").concat(K[1]):"of ".concat(Y," ").concat(K[0])}return"of ".concat(Y," ").concat(String(K))}zt("ERR_INVALID_OPT_VALUE",function(K,Y){return'The value "'+Y+'" is invalid for option "'+K+'"'},TypeError),zt("ERR_INVALID_ARG_TYPE",function(K,Y,ct){var et,X;if("string"==typeof Y&&function(K,Y,ct){return K.substr(0,Y.length)===Y}(Y,"not ")?(et="must not be",Y=Y.replace(/^not /,"")):et="must be",function(K,Y,ct){return(void 0===ct||ct>K.length)&&(ct=K.length),K.substring(ct-Y.length,ct)===Y}(K," argument"))X="The ".concat(K," ").concat(et," ").concat(Kt(Y,"type"));else{var U=function(K,Y,ct){return"number"!=typeof ct&&(ct=0),!(ct+".".length>K.length)&&-1!==K.indexOf(".",ct)}(K)?"property":"argument";X='The "'.concat(K,'" ').concat(U," ").concat(et," ").concat(Kt(Y,"type"))}return X+". Received type ".concat(typeof ct)},TypeError),zt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),zt("ERR_METHOD_NOT_IMPLEMENTED",function(K){return"The "+K+" method is not implemented"}),zt("ERR_STREAM_PREMATURE_CLOSE","Premature close"),zt("ERR_STREAM_DESTROYED",function(K){return"Cannot call "+K+" after a stream was destroyed"}),zt("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),zt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),zt("ERR_STREAM_WRITE_AFTER_END","write after end"),zt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),zt("ERR_UNKNOWN_ENCODING",function(K){return"Unknown encoding: "+K},TypeError),zt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),_e.exports.q=Ft},9617:(_e,st,Ft)=>{"use strict";var zt=Object.keys||function(X){var U=[];for(var at in X)U.push(at);return U};_e.exports=Y;var Kt=Ft(7619),ft=Ft(8956);Ft(3516)(Y,Kt);for(var dt=zt(ft.prototype),E=0;E<dt.length;E++){var K=dt[E];Y.prototype[K]||(Y.prototype[K]=ft.prototype[K])}function Y(X){if(!(this instanceof Y))return new Y(X);Kt.call(this,X),ft.call(this,X),this.allowHalfOpen=!0,X&&(!1===X.readable&&(this.readable=!1),!1===X.writable&&(this.writable=!1),!1===X.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",ct)))}function ct(){this._writableState.ended||process.nextTick(et,this)}function et(X){X.end()}Object.defineProperty(Y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Y.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(U){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=U,this._writableState.destroyed=U)}})},1833:(_e,st,Ft)=>{"use strict";_e.exports=Kt;var zt=Ft(8329);function Kt(ft){if(!(this instanceof Kt))return new Kt(ft);zt.call(this,ft)}Ft(3516)(Kt,zt),Kt.prototype._transform=function(ft,dt,E){E(null,ft)}},7619:(_e,st,Ft)=>{"use strict";var zt;_e.exports=R,R.ReadableState=St,Ft(7703);var X,ft=function(Bt,Zt){return Bt.listeners(Zt).length},dt=Ft(3183),E=Ft(3847).Buffer,K=global.Uint8Array||function(){},et=Ft(4616);X=et&&et.debuglog?et.debuglog("stream"):function(){};var Q,lt,_t,U=Ft(7081),at=Ft(9405),$=Ft(7411).getHighWaterMark,H=Ft(4621).q,G=H.ERR_INVALID_ARG_TYPE,J=H.ERR_STREAM_PUSH_AFTER_EOF,z=H.ERR_METHOD_NOT_IMPLEMENTED,nt=H.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;Ft(3516)(R,dt);var Ct=at.errorOrDestroy,kt=["error","close","destroy","pause","resume"];function St(Dt,Bt,Zt){zt=zt||Ft(9617),"boolean"!=typeof Zt&&(Zt=Bt instanceof zt),this.objectMode=!!(Dt=Dt||{}).objectMode,Zt&&(this.objectMode=this.objectMode||!!Dt.readableObjectMode),this.highWaterMark=$(this,Dt,"readableHighWaterMark",Zt),this.buffer=new U,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==Dt.emitClose,this.autoDestroy=!!Dt.autoDestroy,this.destroyed=!1,this.defaultEncoding=Dt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Dt.encoding&&(Q||(Q=Ft(3033).s),this.decoder=new Q(Dt.encoding),this.encoding=Dt.encoding)}function R(Dt){if(zt=zt||Ft(9617),!(this instanceof R))return new R(Dt);this._readableState=new St(Dt,this,this instanceof zt),this.readable=!0,Dt&&("function"==typeof Dt.read&&(this._read=Dt.read),"function"==typeof Dt.destroy&&(this._destroy=Dt.destroy)),dt.call(this)}function u(Dt,Bt,Zt,Lt,Ce){X("readableAddChunk",Bt);var me,Ht=Dt._readableState;if(null===Bt)Ht.reading=!1,function(Dt,Bt){if(X("onEofChunk"),!Bt.ended){if(Bt.decoder){var Zt=Bt.decoder.end();Zt&&Zt.length&&(Bt.buffer.push(Zt),Bt.length+=Bt.objectMode?1:Zt.length)}Bt.ended=!0,Bt.sync?C(Dt):(Bt.needReadable=!1,Bt.emittedReadable||(Bt.emittedReadable=!0,p(Dt)))}}(Dt,Ht);else if(Ce||(me=function(Dt,Bt){var Zt;return!function(Dt){return E.isBuffer(Dt)||Dt instanceof K}(Bt)&&"string"!=typeof Bt&&void 0!==Bt&&!Dt.objectMode&&(Zt=new G("chunk",["string","Buffer","Uint8Array"],Bt)),Zt}(Ht,Bt)),me)Ct(Dt,me);else if(Ht.objectMode||Bt&&Bt.length>0)if("string"!=typeof Bt&&!Ht.objectMode&&Object.getPrototypeOf(Bt)!==E.prototype&&(Bt=function(Dt){return E.from(Dt)}(Bt)),Lt)Ht.endEmitted?Ct(Dt,new nt):m(Dt,Ht,Bt,!0);else if(Ht.ended)Ct(Dt,new J);else{if(Ht.destroyed)return!1;Ht.reading=!1,Ht.decoder&&!Zt?(Bt=Ht.decoder.write(Bt),Ht.objectMode||0!==Bt.length?m(Dt,Ht,Bt,!1):T(Dt,Ht)):m(Dt,Ht,Bt,!1)}else Lt||(Ht.reading=!1,T(Dt,Ht));return!Ht.ended&&(Ht.length<Ht.highWaterMark||0===Ht.length)}function m(Dt,Bt,Zt,Lt){Bt.flowing&&0===Bt.length&&!Bt.sync?(Bt.awaitDrain=0,Dt.emit("data",Zt)):(Bt.length+=Bt.objectMode?1:Zt.length,Lt?Bt.buffer.unshift(Zt):Bt.buffer.push(Zt),Bt.needReadable&&C(Dt)),T(Dt,Bt)}Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(Bt){!this._readableState||(this._readableState.destroyed=Bt)}}),R.prototype.destroy=at.destroy,R.prototype._undestroy=at.undestroy,R.prototype._destroy=function(Dt,Bt){Bt(Dt)},R.prototype.push=function(Dt,Bt){var Lt,Zt=this._readableState;return Zt.objectMode?Lt=!0:"string"==typeof Dt&&((Bt=Bt||Zt.defaultEncoding)!==Zt.encoding&&(Dt=E.from(Dt,Bt),Bt=""),Lt=!0),u(this,Dt,Bt,!1,Lt)},R.prototype.unshift=function(Dt){return u(this,Dt,null,!0,!1)},R.prototype.isPaused=function(){return!1===this._readableState.flowing},R.prototype.setEncoding=function(Dt){Q||(Q=Ft(3033).s);var Bt=new Q(Dt);this._readableState.decoder=Bt,this._readableState.encoding=this._readableState.decoder.encoding;for(var Zt=this._readableState.buffer.head,Lt="";null!==Zt;)Lt+=Bt.write(Zt.data),Zt=Zt.next;return this._readableState.buffer.clear(),""!==Lt&&this._readableState.buffer.push(Lt),this._readableState.length=Lt.length,this};var v=1073741824;function S(Dt,Bt){return Dt<=0||0===Bt.length&&Bt.ended?0:Bt.objectMode?1:Dt!=Dt?Bt.flowing&&Bt.length?Bt.buffer.head.data.length:Bt.length:(Dt>Bt.highWaterMark&&(Bt.highWaterMark=function(Dt){return Dt>=v?Dt=v:(Dt--,Dt|=Dt>>>1,Dt|=Dt>>>2,Dt|=Dt>>>4,Dt|=Dt>>>8,Dt|=Dt>>>16,Dt++),Dt}(Dt)),Dt<=Bt.length?Dt:Bt.ended?Bt.length:(Bt.needReadable=!0,0))}function C(Dt){var Bt=Dt._readableState;X("emitReadable",Bt.needReadable,Bt.emittedReadable),Bt.needReadable=!1,Bt.emittedReadable||(X("emitReadable",Bt.flowing),Bt.emittedReadable=!0,process.nextTick(p,Dt))}function p(Dt){var Bt=Dt._readableState;X("emitReadable_",Bt.destroyed,Bt.length,Bt.ended),!Bt.destroyed&&(Bt.length||Bt.ended)&&(Dt.emit("readable"),Bt.emittedReadable=!1),Bt.needReadable=!Bt.flowing&&!Bt.ended&&Bt.length<=Bt.highWaterMark,Ut(Dt)}function T(Dt,Bt){Bt.readingMore||(Bt.readingMore=!0,process.nextTick(it,Dt,Bt))}function it(Dt,Bt){for(;!Bt.reading&&!Bt.ended&&(Bt.length<Bt.highWaterMark||Bt.flowing&&0===Bt.length);){var Zt=Bt.length;if(X("maybeReadMore read 0"),Dt.read(0),Zt===Bt.length)break}Bt.readingMore=!1}function W(Dt){var Bt=Dt._readableState;Bt.readableListening=Dt.listenerCount("readable")>0,Bt.resumeScheduled&&!Bt.paused?Bt.flowing=!0:Dt.listenerCount("data")>0&&Dt.resume()}function yt(Dt){X("readable nexttick read 0"),Dt.read(0)}function Vt(Dt,Bt){X("resume",Bt.reading),Bt.reading||Dt.read(0),Bt.resumeScheduled=!1,Dt.emit("resume"),Ut(Dt),Bt.flowing&&!Bt.reading&&Dt.read(0)}function Ut(Dt){var Bt=Dt._readableState;for(X("flow",Bt.flowing);Bt.flowing&&null!==Dt.read(););}function At(Dt,Bt){return 0===Bt.length?null:(Bt.objectMode?Zt=Bt.buffer.shift():!Dt||Dt>=Bt.length?(Zt=Bt.decoder?Bt.buffer.join(""):1===Bt.buffer.length?Bt.buffer.first():Bt.buffer.concat(Bt.length),Bt.buffer.clear()):Zt=Bt.buffer.consume(Dt,Bt.decoder),Zt);var Zt}function bt(Dt){var Bt=Dt._readableState;X("endReadable",Bt.endEmitted),Bt.endEmitted||(Bt.ended=!0,process.nextTick(qt,Bt,Dt))}function qt(Dt,Bt){if(X("endReadableNT",Dt.endEmitted,Dt.length),!Dt.endEmitted&&0===Dt.length&&(Dt.endEmitted=!0,Bt.readable=!1,Bt.emit("end"),Dt.autoDestroy)){var Zt=Bt._writableState;(!Zt||Zt.autoDestroy&&Zt.finished)&&Bt.destroy()}}function Rt(Dt,Bt){for(var Zt=0,Lt=Dt.length;Zt<Lt;Zt++)if(Dt[Zt]===Bt)return Zt;return-1}R.prototype.read=function(Dt){X("read",Dt),Dt=parseInt(Dt,10);var Bt=this._readableState,Zt=Dt;if(0!==Dt&&(Bt.emittedReadable=!1),0===Dt&&Bt.needReadable&&((0!==Bt.highWaterMark?Bt.length>=Bt.highWaterMark:Bt.length>0)||Bt.ended))return X("read: emitReadable",Bt.length,Bt.ended),0===Bt.length&&Bt.ended?bt(this):C(this),null;if(0===(Dt=S(Dt,Bt))&&Bt.ended)return 0===Bt.length&&bt(this),null;var Ce,Lt=Bt.needReadable;return X("need readable",Lt),(0===Bt.length||Bt.length-Dt<Bt.highWaterMark)&&X("length less than watermark",Lt=!0),Bt.ended||Bt.reading?X("reading or ended",Lt=!1):Lt&&(X("do read"),Bt.reading=!0,Bt.sync=!0,0===Bt.length&&(Bt.needReadable=!0),this._read(Bt.highWaterMark),Bt.sync=!1,Bt.reading||(Dt=S(Zt,Bt))),null===(Ce=Dt>0?At(Dt,Bt):null)?(Bt.needReadable=Bt.length<=Bt.highWaterMark,Dt=0):(Bt.length-=Dt,Bt.awaitDrain=0),0===Bt.length&&(Bt.ended||(Bt.needReadable=!0),Zt!==Dt&&Bt.ended&&bt(this)),null!==Ce&&this.emit("data",Ce),Ce},R.prototype._read=function(Dt){Ct(this,new z("_read()"))},R.prototype.pipe=function(Dt,Bt){var Zt=this,Lt=this._readableState;switch(Lt.pipesCount){case 0:Lt.pipes=Dt;break;case 1:Lt.pipes=[Lt.pipes,Dt];break;default:Lt.pipes.push(Dt)}Lt.pipesCount+=1,X("pipe count=%d opts=%j",Lt.pipesCount,Bt);var Ht=Bt&&!1===Bt.end||Dt===process.stdout||Dt===process.stderr?gt:Si;function Si(){X("onend"),Dt.end()}Lt.endEmitted?process.nextTick(Ht):Zt.once("end",Ht),Dt.on("unpipe",function me(rt,Qt){X("onunpipe"),rt===Zt&&Qt&&!1===Qt.hasUnpiped&&(Qt.hasUnpiped=!0,X("cleanup"),Dt.removeListener("close",Le),Dt.removeListener("finish",It),Dt.removeListener("drain",be),Dt.removeListener("error",ee),Dt.removeListener("unpipe",me),Zt.removeListener("end",Si),Zt.removeListener("end",gt),Zt.removeListener("data",Yt),de=!0,Lt.awaitDrain&&(!Dt._writableState||Dt._writableState.needDrain)&&be())});var be=function(Dt){return function(){var Zt=Dt._readableState;X("pipeOnDrain",Zt.awaitDrain),Zt.awaitDrain&&Zt.awaitDrain--,0===Zt.awaitDrain&&ft(Dt,"data")&&(Zt.flowing=!0,Ut(Dt))}}(Zt);Dt.on("drain",be);var de=!1;function Yt(rt){X("ondata");var Qt=Dt.write(rt);X("dest.write",Qt),!1===Qt&&((1===Lt.pipesCount&&Lt.pipes===Dt||Lt.pipesCount>1&&-1!==Rt(Lt.pipes,Dt))&&!de&&(X("false write response, pause",Lt.awaitDrain),Lt.awaitDrain++),Zt.pause())}function ee(rt){X("onerror",rt),gt(),Dt.removeListener("error",ee),0===ft(Dt,"error")&&Ct(Dt,rt)}function Le(){Dt.removeListener("finish",It),gt()}function It(){X("onfinish"),Dt.removeListener("close",Le),gt()}function gt(){X("unpipe"),Zt.unpipe(Dt)}return Zt.on("data",Yt),function(Dt,Bt,Zt){if("function"==typeof Dt.prependListener)return Dt.prependListener(Bt,Zt);Dt._events&&Dt._events[Bt]?Array.isArray(Dt._events[Bt])?Dt._events[Bt].unshift(Zt):Dt._events[Bt]=[Zt,Dt._events[Bt]]:Dt.on(Bt,Zt)}(Dt,"error",ee),Dt.once("close",Le),Dt.once("finish",It),Dt.emit("pipe",Zt),Lt.flowing||(X("pipe resume"),Zt.resume()),Dt},R.prototype.unpipe=function(Dt){var Bt=this._readableState,Zt={hasUnpiped:!1};if(0===Bt.pipesCount)return this;if(1===Bt.pipesCount)return Dt&&Dt!==Bt.pipes||(Dt||(Dt=Bt.pipes),Bt.pipes=null,Bt.pipesCount=0,Bt.flowing=!1,Dt&&Dt.emit("unpipe",this,Zt)),this;if(!Dt){var Lt=Bt.pipes,Ce=Bt.pipesCount;Bt.pipes=null,Bt.pipesCount=0,Bt.flowing=!1;for(var Ht=0;Ht<Ce;Ht++)Lt[Ht].emit("unpipe",this,{hasUnpiped:!1});return this}var me=Rt(Bt.pipes,Dt);return-1===me||(Bt.pipes.splice(me,1),Bt.pipesCount-=1,1===Bt.pipesCount&&(Bt.pipes=Bt.pipes[0]),Dt.emit("unpipe",this,Zt)),this},R.prototype.addListener=R.prototype.on=function(Dt,Bt){var Zt=dt.prototype.on.call(this,Dt,Bt),Lt=this._readableState;return"data"===Dt?(Lt.readableListening=this.listenerCount("readable")>0,!1!==Lt.flowing&&this.resume()):"readable"===Dt&&!Lt.endEmitted&&!Lt.readableListening&&(Lt.readableListening=Lt.needReadable=!0,Lt.flowing=!1,Lt.emittedReadable=!1,X("on readable",Lt.length,Lt.reading),Lt.length?C(this):Lt.reading||process.nextTick(yt,this)),Zt},R.prototype.removeListener=function(Dt,Bt){var Zt=dt.prototype.removeListener.call(this,Dt,Bt);return"readable"===Dt&&process.nextTick(W,this),Zt},R.prototype.removeAllListeners=function(Dt){var Bt=dt.prototype.removeAllListeners.apply(this,arguments);return("readable"===Dt||void 0===Dt)&&process.nextTick(W,this),Bt},R.prototype.resume=function(){var Dt=this._readableState;return Dt.flowing||(X("resume"),Dt.flowing=!Dt.readableListening,function(Dt,Bt){Bt.resumeScheduled||(Bt.resumeScheduled=!0,process.nextTick(Vt,Dt,Bt))}(this,Dt)),Dt.paused=!1,this},R.prototype.pause=function(){return X("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(X("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},R.prototype.wrap=function(Dt){var Bt=this,Zt=this._readableState,Lt=!1;for(var Ce in Dt.on("end",function(){if(X("wrapped end"),Zt.decoder&&!Zt.ended){var me=Zt.decoder.end();me&&me.length&&Bt.push(me)}Bt.push(null)}),Dt.on("data",function(me){X("wrapped data"),Zt.decoder&&(me=Zt.decoder.write(me)),Zt.objectMode&&null==me||!(Zt.objectMode||me&&me.length)||Bt.push(me)||(Lt=!0,Dt.pause())}),Dt)void 0===this[Ce]&&"function"==typeof Dt[Ce]&&(this[Ce]=function(Si){return function(){return Dt[Si].apply(Dt,arguments)}}(Ce));for(var Ht=0;Ht<kt.length;Ht++)Dt.on(kt[Ht],this.emit.bind(this,kt[Ht]));return this._read=function(me){X("wrapped _read",me),Lt&&(Lt=!1,Dt.resume())},this},"function"==typeof Symbol&&(R.prototype[Symbol.asyncIterator]=function(){return void 0===lt&&(lt=Ft(6924)),lt(this)}),Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(R.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(R.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Bt){this._readableState&&(this._readableState.flowing=Bt)}}),R._fromList=At,Object.defineProperty(R.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(R.from=function(Dt,Bt){return void 0===_t&&(_t=Ft(9742)),_t(R,Dt,Bt)})},8329:(_e,st,Ft)=>{"use strict";_e.exports=ct;var zt=Ft(4621).q,Kt=zt.ERR_METHOD_NOT_IMPLEMENTED,ft=zt.ERR_MULTIPLE_CALLBACK,dt=zt.ERR_TRANSFORM_ALREADY_TRANSFORMING,E=zt.ERR_TRANSFORM_WITH_LENGTH_0,K=Ft(9617);function Y(U,at){var V=this._transformState;V.transforming=!1;var $=V.writecb;if(null===$)return this.emit("error",new ft);V.writechunk=null,V.writecb=null,null!=at&&this.push(at),$(U);var H=this._readableState;H.reading=!1,(H.needReadable||H.length<H.highWaterMark)&&this._read(H.highWaterMark)}function ct(U){if(!(this instanceof ct))return new ct(U);K.call(this,U),this._transformState={afterTransform:Y.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,U&&("function"==typeof U.transform&&(this._transform=U.transform),"function"==typeof U.flush&&(this._flush=U.flush)),this.on("prefinish",et)}function et(){var U=this;"function"!=typeof this._flush||this._readableState.destroyed?X(this,null,null):this._flush(function(at,V){X(U,at,V)})}function X(U,at,V){if(at)return U.emit("error",at);if(null!=V&&U.push(V),U._writableState.length)throw new E;if(U._transformState.transforming)throw new dt;return U.push(null)}Ft(3516)(ct,K),ct.prototype.push=function(U,at){return this._transformState.needTransform=!1,K.prototype.push.call(this,U,at)},ct.prototype._transform=function(U,at,V){V(new Kt("_transform()"))},ct.prototype._write=function(U,at,V){var $=this._transformState;if($.writecb=V,$.writechunk=U,$.writeencoding=at,!$.transforming){var H=this._readableState;($.needTransform||H.needReadable||H.length<H.highWaterMark)&&this._read(H.highWaterMark)}},ct.prototype._read=function(U){var at=this._transformState;null===at.writechunk||at.transforming?at.needTransform=!0:(at.transforming=!0,this._transform(at.writechunk,at.writeencoding,at.afterTransform))},ct.prototype._destroy=function(U,at){K.prototype._destroy.call(this,U,function(V){at(V)})}},8956:(_e,st,Ft)=>{"use strict";function Kt(Ut){var At=this;this.next=null,this.entry=null,this.finish=function(){!function(Ut,At,bt){var qt=Ut.entry;for(Ut.entry=null;qt;){var Rt=qt.callback;At.pendingcb--,Rt(undefined),qt=qt.next}At.corkedRequestsFree.next=Ut}(At,Ut)}}var ft;_e.exports=St,St.WritableState=kt;var Et,dt={deprecate:Ft(5832)},E=Ft(3183),K=Ft(3847).Buffer,Y=global.Uint8Array||function(){},X=Ft(9405),at=Ft(7411).getHighWaterMark,V=Ft(4621).q,$=V.ERR_INVALID_ARG_TYPE,H=V.ERR_METHOD_NOT_IMPLEMENTED,G=V.ERR_MULTIPLE_CALLBACK,J=V.ERR_STREAM_CANNOT_PIPE,z=V.ERR_STREAM_DESTROYED,nt=V.ERR_STREAM_NULL_VALUES,Q=V.ERR_STREAM_WRITE_AFTER_END,lt=V.ERR_UNKNOWN_ENCODING,_t=X.errorOrDestroy;function Ct(){}function kt(Ut,At,bt){ft=ft||Ft(9617),"boolean"!=typeof bt&&(bt=At instanceof ft),this.objectMode=!!(Ut=Ut||{}).objectMode,bt&&(this.objectMode=this.objectMode||!!Ut.writableObjectMode),this.highWaterMark=at(this,Ut,"writableHighWaterMark",bt),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===Ut.decodeStrings),this.defaultEncoding=Ut.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Rt){!function(Ut,At){var bt=Ut._writableState,qt=bt.sync,Rt=bt.writecb;if("function"!=typeof Rt)throw new G;if(function(Ut){Ut.writing=!1,Ut.writecb=null,Ut.length-=Ut.writelen,Ut.writelen=0}(bt),At)!function(Ut,At,bt,qt,Rt){--At.pendingcb,bt?(process.nextTick(Rt,qt),process.nextTick(yt,Ut,At),Ut._writableState.errorEmitted=!0,_t(Ut,qt)):(Rt(qt),Ut._writableState.errorEmitted=!0,_t(Ut,qt),yt(Ut,At))}(Ut,bt,qt,At,Rt);else{var Dt=it(bt)||Ut.destroyed;!Dt&&!bt.corked&&!bt.bufferProcessing&&bt.bufferedRequest&&T(Ut,bt),qt?process.nextTick(C,Ut,bt,Dt,Rt):C(Ut,bt,Dt,Rt)}}(At,Rt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==Ut.emitClose,this.autoDestroy=!!Ut.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Kt(this)}function St(Ut){var At=this instanceof(ft=ft||Ft(9617));if(!At&&!Et.call(St,this))return new St(Ut);this._writableState=new kt(Ut,this,At),this.writable=!0,Ut&&("function"==typeof Ut.write&&(this._write=Ut.write),"function"==typeof Ut.writev&&(this._writev=Ut.writev),"function"==typeof Ut.destroy&&(this._destroy=Ut.destroy),"function"==typeof Ut.final&&(this._final=Ut.final)),E.call(this)}function v(Ut,At,bt,qt,Rt,Dt,Bt){At.writelen=qt,At.writecb=Bt,At.writing=!0,At.sync=!0,At.destroyed?At.onwrite(new z("write")):bt?Ut._writev(Rt,At.onwrite):Ut._write(Rt,Dt,At.onwrite),At.sync=!1}function C(Ut,At,bt,qt){bt||function(Ut,At){0===At.length&&At.needDrain&&(At.needDrain=!1,Ut.emit("drain"))}(Ut,At),At.pendingcb--,qt(),yt(Ut,At)}function T(Ut,At){At.bufferProcessing=!0;var bt=At.bufferedRequest;if(Ut._writev&&bt&&bt.next){var Rt=new Array(At.bufferedRequestCount),Dt=At.corkedRequestsFree;Dt.entry=bt;for(var Bt=0,Zt=!0;bt;)Rt[Bt]=bt,bt.isBuf||(Zt=!1),bt=bt.next,Bt+=1;Rt.allBuffers=Zt,v(Ut,At,!0,At.length,Rt,"",Dt.finish),At.pendingcb++,At.lastBufferedRequest=null,Dt.next?(At.corkedRequestsFree=Dt.next,Dt.next=null):At.corkedRequestsFree=new Kt(At),At.bufferedRequestCount=0}else{for(;bt;){var Lt=bt.chunk;if(v(Ut,At,!1,At.objectMode?1:Lt.length,Lt,bt.encoding,bt.callback),bt=bt.next,At.bufferedRequestCount--,At.writing)break}null===bt&&(At.lastBufferedRequest=null)}At.bufferedRequest=bt,At.bufferProcessing=!1}function it(Ut){return Ut.ending&&0===Ut.length&&null===Ut.bufferedRequest&&!Ut.finished&&!Ut.writing}function Z(Ut,At){Ut._final(function(bt){At.pendingcb--,bt&&_t(Ut,bt),At.prefinished=!0,Ut.emit("prefinish"),yt(Ut,At)})}function yt(Ut,At){var bt=it(At);if(bt&&(function(Ut,At){!At.prefinished&&!At.finalCalled&&("function"!=typeof Ut._final||At.destroyed?(At.prefinished=!0,Ut.emit("prefinish")):(At.pendingcb++,At.finalCalled=!0,process.nextTick(Z,Ut,At)))}(Ut,At),0===At.pendingcb&&(At.finished=!0,Ut.emit("finish"),At.autoDestroy))){var qt=Ut._readableState;(!qt||qt.autoDestroy&&qt.endEmitted)&&Ut.destroy()}return bt}Ft(3516)(St,E),kt.prototype.getBuffer=function(){for(var At=this.bufferedRequest,bt=[];At;)bt.push(At),At=At.next;return bt},function(){try{Object.defineProperty(kt.prototype,"buffer",{get:dt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(Ut){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(Et=Function.prototype[Symbol.hasInstance],Object.defineProperty(St,Symbol.hasInstance,{value:function(At){return!!Et.call(this,At)||this===St&&At&&At._writableState instanceof kt}})):Et=function(At){return At instanceof this},St.prototype.pipe=function(){_t(this,new J)},St.prototype.write=function(Ut,At,bt){var qt=this._writableState,Rt=!1,Dt=!qt.objectMode&&function(Ut){return K.isBuffer(Ut)||Ut instanceof Y}(Ut);return Dt&&!K.isBuffer(Ut)&&(Ut=function(Ut){return K.from(Ut)}(Ut)),"function"==typeof At&&(bt=At,At=null),Dt?At="buffer":At||(At=qt.defaultEncoding),"function"!=typeof bt&&(bt=Ct),qt.ending?function(Ut,At){var bt=new Q;_t(Ut,bt),process.nextTick(At,bt)}(this,bt):(Dt||function(Ut,At,bt,qt){var Rt;return null===bt?Rt=new nt:"string"!=typeof bt&&!At.objectMode&&(Rt=new $("chunk",["string","Buffer"],bt)),!Rt||(_t(Ut,Rt),process.nextTick(qt,Rt),!1)}(this,qt,Ut,bt))&&(qt.pendingcb++,Rt=function(Ut,At,bt,qt,Rt,Dt){if(!bt){var Bt=function(Ut,At,bt){return!Ut.objectMode&&!1!==Ut.decodeStrings&&"string"==typeof At&&(At=K.from(At,bt)),At}(At,qt,Rt);qt!==Bt&&(bt=!0,Rt="buffer",qt=Bt)}var Zt=At.objectMode?1:qt.length;At.length+=Zt;var Lt=At.length<At.highWaterMark;if(Lt||(At.needDrain=!0),At.writing||At.corked){var Ce=At.lastBufferedRequest;At.lastBufferedRequest={chunk:qt,encoding:Rt,isBuf:bt,callback:Dt,next:null},Ce?Ce.next=At.lastBufferedRequest:At.bufferedRequest=At.lastBufferedRequest,At.bufferedRequestCount+=1}else v(Ut,At,!1,Zt,qt,Rt,Dt);return Lt}(this,qt,Dt,Ut,At,bt)),Rt},St.prototype.cork=function(){this._writableState.corked++},St.prototype.uncork=function(){var Ut=this._writableState;Ut.corked&&(Ut.corked--,!Ut.writing&&!Ut.corked&&!Ut.bufferProcessing&&Ut.bufferedRequest&&T(this,Ut))},St.prototype.setDefaultEncoding=function(At){if("string"==typeof At&&(At=At.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((At+"").toLowerCase())>-1))throw new lt(At);return this._writableState.defaultEncoding=At,this},Object.defineProperty(St.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(St.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),St.prototype._write=function(Ut,At,bt){bt(new H("_write()"))},St.prototype._writev=null,St.prototype.end=function(Ut,At,bt){var qt=this._writableState;return"function"==typeof Ut?(bt=Ut,Ut=null,At=null):"function"==typeof At&&(bt=At,At=null),null!=Ut&&this.write(Ut,At),qt.corked&&(qt.corked=1,this.uncork()),qt.ending||function(Ut,At,bt){At.ending=!0,yt(Ut,At),bt&&(At.finished?process.nextTick(bt):Ut.once("finish",bt)),At.ended=!0,Ut.writable=!1}(this,qt,bt),this},Object.defineProperty(St.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(St.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(At){!this._writableState||(this._writableState.destroyed=At)}}),St.prototype.destroy=X.destroy,St.prototype._undestroy=X.undestroy,St.prototype._destroy=function(Ut,At){At(Ut)}},6924:(_e,st,Ft)=>{"use strict";var zt;function Kt(z,nt,Q){return nt in z?Object.defineProperty(z,nt,{value:Q,enumerable:!0,configurable:!0,writable:!0}):z[nt]=Q,z}var ft=Ft(616),dt=Symbol("lastResolve"),E=Symbol("lastReject"),K=Symbol("error"),Y=Symbol("ended"),ct=Symbol("lastPromise"),et=Symbol("handlePromise"),X=Symbol("stream");function U(z,nt){return{value:z,done:nt}}function at(z){var nt=z[dt];if(null!==nt){var Q=z[X].read();null!==Q&&(z[ct]=null,z[dt]=null,z[E]=null,nt(U(Q,!1)))}}function V(z){process.nextTick(at,z)}var H=Object.getPrototypeOf(function(){}),G=Object.setPrototypeOf((Kt(zt={get stream(){return this[X]},next:function(){var nt=this,Q=this[K];if(null!==Q)return Promise.reject(Q);if(this[Y])return Promise.resolve(U(void 0,!0));if(this[X].destroyed)return new Promise(function(kt,Et){process.nextTick(function(){nt[K]?Et(nt[K]):kt(U(void 0,!0))})});var _t,lt=this[ct];if(lt)_t=new Promise(function(z,nt){return function(Q,lt){z.then(function(){nt[Y]?Q(U(void 0,!0)):nt[et](Q,lt)},lt)}}(lt,this));else{var Ct=this[X].read();if(null!==Ct)return Promise.resolve(U(Ct,!1));_t=new Promise(this[et])}return this[ct]=_t,_t}},Symbol.asyncIterator,function(){return this}),Kt(zt,"return",function(){var nt=this;return new Promise(function(Q,lt){nt[X].destroy(null,function(_t){_t?lt(_t):Q(U(void 0,!0))})})}),zt),H);_e.exports=function(nt){var Q,lt=Object.create(G,(Kt(Q={},X,{value:nt,writable:!0}),Kt(Q,dt,{value:null,writable:!0}),Kt(Q,E,{value:null,writable:!0}),Kt(Q,K,{value:null,writable:!0}),Kt(Q,Y,{value:nt._readableState.endEmitted,writable:!0}),Kt(Q,et,{value:function(Ct,kt){var Et=lt[X].read();Et?(lt[ct]=null,lt[dt]=null,lt[E]=null,Ct(U(Et,!1))):(lt[dt]=Ct,lt[E]=kt)},writable:!0}),Q));return lt[ct]=null,ft(nt,function(_t){if(_t&&"ERR_STREAM_PREMATURE_CLOSE"!==_t.code){var Ct=lt[E];return null!==Ct&&(lt[ct]=null,lt[dt]=null,lt[E]=null,Ct(_t)),void(lt[K]=_t)}var kt=lt[dt];null!==kt&&(lt[ct]=null,lt[dt]=null,lt[E]=null,kt(U(void 0,!0))),lt[Y]=!0}),nt.on("readable",V.bind(null,lt)),lt}},7081:(_e,st,Ft)=>{"use strict";function zt(V,$){var H=Object.keys(V);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(V);$&&(G=G.filter(function(J){return Object.getOwnPropertyDescriptor(V,J).enumerable})),H.push.apply(H,G)}return H}function ft(V,$,H){return $ in V?Object.defineProperty(V,$,{value:H,enumerable:!0,configurable:!0,writable:!0}):V[$]=H,V}function E(V,$){for(var H=0;H<$.length;H++){var G=$[H];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(V,G.key,G)}}var ct=Ft(3847).Buffer,X=Ft(2361).inspect,U=X&&X.custom||"inspect";function at(V,$,H){ct.prototype.copy.call(V,$,H)}_e.exports=function(){function V(){(function(V,$){if(!(V instanceof $))throw new TypeError("Cannot call a class as a function")})(this,V),this.head=null,this.tail=null,this.length=0}return function(V,$,H){$&&E(V.prototype,$)}(V,[{key:"push",value:function(H){var G={data:H,next:null};this.length>0?this.tail.next=G:this.head=G,this.tail=G,++this.length}},{key:"unshift",value:function(H){var G={data:H,next:this.head};0===this.length&&(this.tail=G),this.head=G,++this.length}},{key:"shift",value:function(){if(0!==this.length){var H=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,H}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(H){if(0===this.length)return"";for(var G=this.head,J=""+G.data;G=G.next;)J+=H+G.data;return J}},{key:"concat",value:function(H){if(0===this.length)return ct.alloc(0);for(var G=ct.allocUnsafe(H>>>0),J=this.head,z=0;J;)at(J.data,G,z),z+=J.data.length,J=J.next;return G}},{key:"consume",value:function(H,G){var J;return H<this.head.data.length?(J=this.head.data.slice(0,H),this.head.data=this.head.data.slice(H)):J=H===this.head.data.length?this.shift():G?this._getString(H):this._getBuffer(H),J}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(H){var G=this.head,J=1,z=G.data;for(H-=z.length;G=G.next;){var nt=G.data,Q=H>nt.length?nt.length:H;if(z+=Q===nt.length?nt:nt.slice(0,H),0==(H-=Q)){Q===nt.length?(++J,this.head=G.next?G.next:this.tail=null):(this.head=G,G.data=nt.slice(Q));break}++J}return this.length-=J,z}},{key:"_getBuffer",value:function(H){var G=ct.allocUnsafe(H),J=this.head,z=1;for(J.data.copy(G),H-=J.data.length;J=J.next;){var nt=J.data,Q=H>nt.length?nt.length:H;if(nt.copy(G,G.length-H,0,Q),0==(H-=Q)){Q===nt.length?(++z,this.head=J.next?J.next:this.tail=null):(this.head=J,J.data=nt.slice(Q));break}++z}return this.length-=z,G}},{key:U,value:function(H,G){return X(this,function(V){for(var $=1;$<arguments.length;$++){var H=null!=arguments[$]?arguments[$]:{};$%2?zt(Object(H),!0).forEach(function(G){ft(V,G,H[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(H)):zt(Object(H)).forEach(function(G){Object.defineProperty(V,G,Object.getOwnPropertyDescriptor(H,G))})}return V}({},G,{depth:0,customInspect:!1}))}}]),V}()},9405:_e=>{"use strict";function Ft(E,K){ft(E,K),zt(E)}function zt(E){E._writableState&&!E._writableState.emitClose||E._readableState&&!E._readableState.emitClose||E.emit("close")}function ft(E,K){E.emit("error",K)}_e.exports={destroy:function(E,K){var Y=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(K?K(E):E&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(ft,this,E)):process.nextTick(ft,this,E)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(E||null,function(X){!K&&X?Y._writableState?Y._writableState.errorEmitted?process.nextTick(zt,Y):(Y._writableState.errorEmitted=!0,process.nextTick(Ft,Y,X)):process.nextTick(Ft,Y,X):K?(process.nextTick(zt,Y),K(X)):process.nextTick(zt,Y)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(E,K){var Y=E._readableState,ct=E._writableState;Y&&Y.autoDestroy||ct&&ct.autoDestroy?E.destroy(K):E.emit("error",K)}}},616:(_e,st,Ft)=>{"use strict";var zt=Ft(4621).q.ERR_STREAM_PREMATURE_CLOSE;function ft(){}_e.exports=function E(K,Y,ct){if("function"==typeof Y)return E(K,null,Y);Y||(Y={}),ct=function(K){var Y=!1;return function(){if(!Y){Y=!0;for(var ct=arguments.length,et=new Array(ct),X=0;X<ct;X++)et[X]=arguments[X];K.apply(this,et)}}}(ct||ft);var et=Y.readable||!1!==Y.readable&&K.readable,X=Y.writable||!1!==Y.writable&&K.writable,U=function(){K.writable||V()},at=K._writableState&&K._writableState.finished,V=function(){X=!1,at=!0,et||ct.call(K)},$=K._readableState&&K._readableState.endEmitted,H=function(){et=!1,$=!0,X||ct.call(K)},G=function(Q){ct.call(K,Q)},J=function(){var Q;return et&&!$?((!K._readableState||!K._readableState.ended)&&(Q=new zt),ct.call(K,Q)):X&&!at?((!K._writableState||!K._writableState.ended)&&(Q=new zt),ct.call(K,Q)):void 0},z=function(){K.req.on("finish",V)};return function(K){return K.setHeader&&"function"==typeof K.abort}(K)?(K.on("complete",V),K.on("abort",J),K.req?z():K.on("request",z)):X&&!K._writableState&&(K.on("end",U),K.on("close",U)),K.on("end",H),K.on("finish",V),!1!==Y.error&&K.on("error",G),K.on("close",J),function(){K.removeListener("complete",V),K.removeListener("abort",J),K.removeListener("request",z),K.req&&K.req.removeListener("finish",V),K.removeListener("end",U),K.removeListener("close",U),K.removeListener("finish",V),K.removeListener("end",H),K.removeListener("error",G),K.removeListener("close",J)}}},9742:_e=>{_e.exports=function(){throw new Error("Readable.from is not available in the browser")}},2580:(_e,st,Ft)=>{"use strict";var zt,ft=Ft(4621).q,dt=ft.ERR_MISSING_ARGS,E=ft.ERR_STREAM_DESTROYED;function K(V){if(V)throw V}function ct(V,$,H,G){G=function(V){var $=!1;return function(){$||($=!0,V.apply(void 0,arguments))}}(G);var J=!1;V.on("close",function(){J=!0}),void 0===zt&&(zt=Ft(616)),zt(V,{readable:$,writable:H},function(nt){if(nt)return G(nt);J=!0,G()});var z=!1;return function(nt){if(!J&&!z){if(z=!0,function(V){return V.setHeader&&"function"==typeof V.abort}(V))return V.abort();if("function"==typeof V.destroy)return V.destroy();G(nt||new E("pipe"))}}}function et(V){V()}function X(V,$){return V.pipe($)}function U(V){return V.length&&"function"==typeof V[V.length-1]?V.pop():K}_e.exports=function(){for(var V=arguments.length,$=new Array(V),H=0;H<V;H++)$[H]=arguments[H];var G=U($);if(Array.isArray($[0])&&($=$[0]),$.length<2)throw new dt("streams");var J,z=$.map(function(nt,Q){var lt=Q<$.length-1;return ct(nt,lt,Q>0,function(Ct){J||(J=Ct),Ct&&z.forEach(et),!lt&&(z.forEach(et),G(J))})});return $.reduce(X)}},7411:(_e,st,Ft)=>{"use strict";var zt=Ft(4621).q.ERR_INVALID_OPT_VALUE;_e.exports={getHighWaterMark:function(dt,E,K,Y){var ct=function(dt,E,K){return null!=dt.highWaterMark?dt.highWaterMark:E?dt[K]:null}(E,Y,K);if(null!=ct){if(!isFinite(ct)||Math.floor(ct)!==ct||ct<0)throw new zt(Y?K:"highWaterMark",ct);return Math.floor(ct)}return dt.objectMode?16:16384}}},3183:(_e,st,Ft)=>{_e.exports=Ft(7703).EventEmitter},8792:(_e,st,Ft)=>{(st=_e.exports=Ft(7619)).Stream=st,st.Readable=st,st.Writable=Ft(8956),st.Duplex=Ft(9617),st.Transform=Ft(8329),st.PassThrough=Ft(1833),st.finished=Ft(616),st.pipeline=Ft(2580)},7447:(_e,st,Ft)=>{"use strict";var zt=Ft(3847).Buffer,Kt=Ft(3516),ft=Ft(740),dt=new Array(16),E=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],K=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ct=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],et=[0,1518500249,1859775393,2400959708,2840853838],X=[1352829926,1548603684,1836072691,2053994217,0];function U(){ft.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function at(z,nt){return z<<nt|z>>>32-nt}function V(z,nt,Q,lt,_t,Ct,kt,Et){return at(z+(nt^Q^lt)+Ct+kt|0,Et)+_t|0}function $(z,nt,Q,lt,_t,Ct,kt,Et){return at(z+(nt&Q|~nt&lt)+Ct+kt|0,Et)+_t|0}function H(z,nt,Q,lt,_t,Ct,kt,Et){return at(z+((nt|~Q)^lt)+Ct+kt|0,Et)+_t|0}function G(z,nt,Q,lt,_t,Ct,kt,Et){return at(z+(nt&lt|Q&~lt)+Ct+kt|0,Et)+_t|0}function J(z,nt,Q,lt,_t,Ct,kt,Et){return at(z+(nt^(Q|~lt))+Ct+kt|0,Et)+_t|0}Kt(U,ft),U.prototype._update=function(){for(var z=dt,nt=0;nt<16;++nt)z[nt]=this._block.readInt32LE(4*nt);for(var Q=0|this._a,lt=0|this._b,_t=0|this._c,Ct=0|this._d,kt=0|this._e,Et=0|this._a,St=0|this._b,R=0|this._c,u=0|this._d,m=0|this._e,y=0;y<80;y+=1){var v,M;y<16?(v=V(Q,lt,_t,Ct,kt,z[E[y]],et[0],Y[y]),M=J(Et,St,R,u,m,z[K[y]],X[0],ct[y])):y<32?(v=$(Q,lt,_t,Ct,kt,z[E[y]],et[1],Y[y]),M=G(Et,St,R,u,m,z[K[y]],X[1],ct[y])):y<48?(v=H(Q,lt,_t,Ct,kt,z[E[y]],et[2],Y[y]),M=H(Et,St,R,u,m,z[K[y]],X[2],ct[y])):y<64?(v=G(Q,lt,_t,Ct,kt,z[E[y]],et[3],Y[y]),M=$(Et,St,R,u,m,z[K[y]],X[3],ct[y])):(v=J(Q,lt,_t,Ct,kt,z[E[y]],et[4],Y[y]),M=V(Et,St,R,u,m,z[K[y]],X[4],ct[y])),Q=kt,kt=Ct,Ct=at(_t,10),_t=lt,lt=v,Et=m,m=u,u=at(R,10),R=St,St=M}var S=this._b+_t+u|0;this._b=this._c+Ct+m|0,this._c=this._d+kt+Et|0,this._d=this._e+Q+St|0,this._e=this._a+lt+R|0,this._a=S},U.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var z=zt.alloc?zt.alloc(20):new zt(20);return z.writeInt32LE(this._a,0),z.writeInt32LE(this._b,4),z.writeInt32LE(this._c,8),z.writeInt32LE(this._d,12),z.writeInt32LE(this._e,16),z},_e.exports=U},4615:(_e,st,Ft)=>{var zt=Ft(3847),Kt=zt.Buffer;function ft(E,K){for(var Y in E)K[Y]=E[Y]}function dt(E,K,Y){return Kt(E,K,Y)}Kt.from&&Kt.alloc&&Kt.allocUnsafe&&Kt.allocUnsafeSlow?_e.exports=zt:(ft(zt,st),st.Buffer=dt),ft(Kt,dt),dt.from=function(E,K,Y){if("number"==typeof E)throw new TypeError("Argument must not be a number");return Kt(E,K,Y)},dt.alloc=function(E,K,Y){if("number"!=typeof E)throw new TypeError("Argument must be a number");var ct=Kt(E);return void 0!==K?"string"==typeof Y?ct.fill(K,Y):ct.fill(K):ct.fill(0),ct},dt.allocUnsafe=function(E){if("number"!=typeof E)throw new TypeError("Argument must be a number");return Kt(E)},dt.allocUnsafeSlow=function(E){if("number"!=typeof E)throw new TypeError("Argument must be a number");return zt.SlowBuffer(E)}},7356:(_e,st,Ft)=>{"use strict";var dt,zt=Ft(3847),Kt=zt.Buffer,ft={};for(dt in zt)!zt.hasOwnProperty(dt)||"SlowBuffer"===dt||"Buffer"===dt||(ft[dt]=zt[dt]);var E=ft.Buffer={};for(dt in Kt)!Kt.hasOwnProperty(dt)||"allocUnsafe"===dt||"allocUnsafeSlow"===dt||(E[dt]=Kt[dt]);if(ft.Buffer.prototype=Kt.prototype,(!E.from||E.from===Uint8Array.from)&&(E.from=function(K,Y,ct){if("number"==typeof K)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof K);if(K&&void 0===K.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);return Kt(K,Y,ct)}),E.alloc||(E.alloc=function(K,Y,ct){if("number"!=typeof K)throw new TypeError('The "size" argument must be of type number. Received type '+typeof K);if(K<0||K>=2*(1<<30))throw new RangeError('The value "'+K+'" is invalid for option "size"');var et=Kt(K);return Y&&0!==Y.length?"string"==typeof ct?et.fill(Y,ct):et.fill(Y):et.fill(0),et}),!ft.kStringMaxLength)try{ft.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(K){}ft.constants||(ft.constants={MAX_LENGTH:ft.kMaxLength},ft.kStringMaxLength&&(ft.constants.MAX_STRING_LENGTH=ft.kStringMaxLength)),_e.exports=ft},1587:(_e,st,Ft)=>{var zt=Ft(4615).Buffer;function Kt(ft,dt){this._block=zt.alloc(ft),this._finalSize=dt,this._blockSize=ft,this._len=0}Kt.prototype.update=function(ft,dt){"string"==typeof ft&&(ft=zt.from(ft,dt=dt||"utf8"));for(var E=this._block,K=this._blockSize,Y=ft.length,ct=this._len,et=0;et<Y;){for(var X=ct%K,U=Math.min(Y-et,K-X),at=0;at<U;at++)E[X+at]=ft[et+at];et+=U,(ct+=U)%K==0&&this._update(E)}return this._len+=Y,this},Kt.prototype.digest=function(ft){var dt=this._len%this._blockSize;this._block[dt]=128,this._block.fill(0,dt+1),dt>=this._finalSize&&(this._update(this._block),this._block.fill(0));var E=8*this._len;if(E<=4294967295)this._block.writeUInt32BE(E,this._blockSize-4);else{var K=(4294967295&E)>>>0;this._block.writeUInt32BE((E-K)/4294967296,this._blockSize-8),this._block.writeUInt32BE(K,this._blockSize-4)}this._update(this._block);var ct=this._hash();return ft?ct.toString(ft):ct},Kt.prototype._update=function(){throw new Error("_update must be implemented by subclass")},_e.exports=Kt},6010:(_e,st,Ft)=>{var zt=_e.exports=function(ft){ft=ft.toLowerCase();var dt=zt[ft];if(!dt)throw new Error(ft+" is not supported (we accept pull requests)");return new dt};zt.sha=Ft(8924),zt.sha1=Ft(1278),zt.sha224=Ft(4607),zt.sha256=Ft(8107),zt.sha384=Ft(3640),zt.sha512=Ft(5455)},8924:(_e,st,Ft)=>{var zt=Ft(3516),Kt=Ft(1587),ft=Ft(4615).Buffer,dt=[1518500249,1859775393,-1894007588,-899497514],E=new Array(80);function K(){this.init(),this._w=E,Kt.call(this,64,56)}function Y(X){return X<<5|X>>>27}function ct(X){return X<<30|X>>>2}function et(X,U,at,V){return 0===X?U&at|~U&V:2===X?U&at|U&V|at&V:U^at^V}zt(K,Kt),K.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},K.prototype._update=function(X){for(var U=this._w,at=0|this._a,V=0|this._b,$=0|this._c,H=0|this._d,G=0|this._e,J=0;J<16;++J)U[J]=X.readInt32BE(4*J);for(;J<80;++J)U[J]=U[J-3]^U[J-8]^U[J-14]^U[J-16];for(var z=0;z<80;++z){var nt=~~(z/20),Q=Y(at)+et(nt,V,$,H)+G+U[z]+dt[nt]|0;G=H,H=$,$=ct(V),V=at,at=Q}this._a=at+this._a|0,this._b=V+this._b|0,this._c=$+this._c|0,this._d=H+this._d|0,this._e=G+this._e|0},K.prototype._hash=function(){var X=ft.allocUnsafe(20);return X.writeInt32BE(0|this._a,0),X.writeInt32BE(0|this._b,4),X.writeInt32BE(0|this._c,8),X.writeInt32BE(0|this._d,12),X.writeInt32BE(0|this._e,16),X},_e.exports=K},1278:(_e,st,Ft)=>{var zt=Ft(3516),Kt=Ft(1587),ft=Ft(4615).Buffer,dt=[1518500249,1859775393,-1894007588,-899497514],E=new Array(80);function K(){this.init(),this._w=E,Kt.call(this,64,56)}function Y(U){return U<<1|U>>>31}function ct(U){return U<<5|U>>>27}function et(U){return U<<30|U>>>2}function X(U,at,V,$){return 0===U?at&V|~at&$:2===U?at&V|at&$|V&$:at^V^$}zt(K,Kt),K.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},K.prototype._update=function(U){for(var at=this._w,V=0|this._a,$=0|this._b,H=0|this._c,G=0|this._d,J=0|this._e,z=0;z<16;++z)at[z]=U.readInt32BE(4*z);for(;z<80;++z)at[z]=Y(at[z-3]^at[z-8]^at[z-14]^at[z-16]);for(var nt=0;nt<80;++nt){var Q=~~(nt/20),lt=ct(V)+X(Q,$,H,G)+J+at[nt]+dt[Q]|0;J=G,G=H,H=et($),$=V,V=lt}this._a=V+this._a|0,this._b=$+this._b|0,this._c=H+this._c|0,this._d=G+this._d|0,this._e=J+this._e|0},K.prototype._hash=function(){var U=ft.allocUnsafe(20);return U.writeInt32BE(0|this._a,0),U.writeInt32BE(0|this._b,4),U.writeInt32BE(0|this._c,8),U.writeInt32BE(0|this._d,12),U.writeInt32BE(0|this._e,16),U},_e.exports=K},4607:(_e,st,Ft)=>{var zt=Ft(3516),Kt=Ft(8107),ft=Ft(1587),dt=Ft(4615).Buffer,E=new Array(64);function K(){this.init(),this._w=E,ft.call(this,64,56)}zt(K,Kt),K.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},K.prototype._hash=function(){var Y=dt.allocUnsafe(28);return Y.writeInt32BE(this._a,0),Y.writeInt32BE(this._b,4),Y.writeInt32BE(this._c,8),Y.writeInt32BE(this._d,12),Y.writeInt32BE(this._e,16),Y.writeInt32BE(this._f,20),Y.writeInt32BE(this._g,24),Y},_e.exports=K},8107:(_e,st,Ft)=>{var zt=Ft(3516),Kt=Ft(1587),ft=Ft(4615).Buffer,dt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],E=new Array(64);function K(){this.init(),this._w=E,Kt.call(this,64,56)}function Y(V,$,H){return H^V&($^H)}function ct(V,$,H){return V&$|H&(V|$)}function et(V){return(V>>>2|V<<30)^(V>>>13|V<<19)^(V>>>22|V<<10)}function X(V){return(V>>>6|V<<26)^(V>>>11|V<<21)^(V>>>25|V<<7)}function U(V){return(V>>>7|V<<25)^(V>>>18|V<<14)^V>>>3}function at(V){return(V>>>17|V<<15)^(V>>>19|V<<13)^V>>>10}zt(K,Kt),K.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},K.prototype._update=function(V){for(var $=this._w,H=0|this._a,G=0|this._b,J=0|this._c,z=0|this._d,nt=0|this._e,Q=0|this._f,lt=0|this._g,_t=0|this._h,Ct=0;Ct<16;++Ct)$[Ct]=V.readInt32BE(4*Ct);for(;Ct<64;++Ct)$[Ct]=at($[Ct-2])+$[Ct-7]+U($[Ct-15])+$[Ct-16]|0;for(var kt=0;kt<64;++kt){var Et=_t+X(nt)+Y(nt,Q,lt)+dt[kt]+$[kt]|0,St=et(H)+ct(H,G,J)|0;_t=lt,lt=Q,Q=nt,nt=z+Et|0,z=J,J=G,G=H,H=Et+St|0}this._a=H+this._a|0,this._b=G+this._b|0,this._c=J+this._c|0,this._d=z+this._d|0,this._e=nt+this._e|0,this._f=Q+this._f|0,this._g=lt+this._g|0,this._h=_t+this._h|0},K.prototype._hash=function(){var V=ft.allocUnsafe(32);return V.writeInt32BE(this._a,0),V.writeInt32BE(this._b,4),V.writeInt32BE(this._c,8),V.writeInt32BE(this._d,12),V.writeInt32BE(this._e,16),V.writeInt32BE(this._f,20),V.writeInt32BE(this._g,24),V.writeInt32BE(this._h,28),V},_e.exports=K},3640:(_e,st,Ft)=>{var zt=Ft(3516),Kt=Ft(5455),ft=Ft(1587),dt=Ft(4615).Buffer,E=new Array(160);function K(){this.init(),this._w=E,ft.call(this,128,112)}zt(K,Kt),K.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},K.prototype._hash=function(){var Y=dt.allocUnsafe(48);function ct(et,X,U){Y.writeInt32BE(et,U),Y.writeInt32BE(X,U+4)}return ct(this._ah,this._al,0),ct(this._bh,this._bl,8),ct(this._ch,this._cl,16),ct(this._dh,this._dl,24),ct(this._eh,this._el,32),ct(this._fh,this._fl,40),Y},_e.exports=K},5455:(_e,st,Ft)=>{var zt=Ft(3516),Kt=Ft(1587),ft=Ft(4615).Buffer,dt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],E=new Array(160);function K(){this.init(),this._w=E,Kt.call(this,128,112)}function Y(G,J,z){return z^G&(J^z)}function ct(G,J,z){return G&J|z&(G|J)}function et(G,J){return(G>>>28|J<<4)^(J>>>2|G<<30)^(J>>>7|G<<25)}function X(G,J){return(G>>>14|J<<18)^(G>>>18|J<<14)^(J>>>9|G<<23)}function U(G,J){return(G>>>1|J<<31)^(G>>>8|J<<24)^G>>>7}function at(G,J){return(G>>>1|J<<31)^(G>>>8|J<<24)^(G>>>7|J<<25)}function V(G,J){return(G>>>19|J<<13)^(J>>>29|G<<3)^G>>>6}function $(G,J){return(G>>>19|J<<13)^(J>>>29|G<<3)^(G>>>6|J<<26)}function H(G,J){return G>>>0<J>>>0?1:0}zt(K,Kt),K.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},K.prototype._update=function(G){for(var J=this._w,z=0|this._ah,nt=0|this._bh,Q=0|this._ch,lt=0|this._dh,_t=0|this._eh,Ct=0|this._fh,kt=0|this._gh,Et=0|this._hh,St=0|this._al,R=0|this._bl,u=0|this._cl,m=0|this._dl,y=0|this._el,v=0|this._fl,M=0|this._gl,S=0|this._hl,I=0;I<32;I+=2)J[I]=G.readInt32BE(4*I),J[I+1]=G.readInt32BE(4*I+4);for(;I<160;I+=2){var C=J[I-30],p=J[I-30+1],T=U(C,p),it=at(p,C),Z=V(C=J[I-4],p=J[I-4+1]),W=$(p,C),Vt=J[I-32],Ut=J[I-32+1],At=it+J[I-14+1]|0,bt=T+J[I-14]+H(At,it)|0;bt=(bt=bt+Z+H(At=At+W|0,W)|0)+Vt+H(At=At+Ut|0,Ut)|0,J[I]=bt,J[I+1]=At}for(var qt=0;qt<160;qt+=2){bt=J[qt],At=J[qt+1];var Rt=ct(z,nt,Q),Dt=ct(St,R,u),Bt=et(z,St),Zt=et(St,z),Lt=X(_t,y),Ce=X(y,_t),Ht=dt[qt],me=dt[qt+1],Si=Y(_t,Ct,kt),be=Y(y,v,M),de=S+Ce|0,je=Et+Lt+H(de,S)|0;je=(je=(je=je+Si+H(de=de+be|0,be)|0)+Ht+H(de=de+me|0,me)|0)+bt+H(de=de+At|0,At)|0;var Yt=Zt+Dt|0,ee=Bt+Rt+H(Yt,Zt)|0;Et=kt,S=M,kt=Ct,M=v,Ct=_t,v=y,_t=lt+je+H(y=m+de|0,m)|0,lt=Q,m=u,Q=nt,u=R,nt=z,R=St,z=je+ee+H(St=de+Yt|0,de)|0}this._al=this._al+St|0,this._bl=this._bl+R|0,this._cl=this._cl+u|0,this._dl=this._dl+m|0,this._el=this._el+y|0,this._fl=this._fl+v|0,this._gl=this._gl+M|0,this._hl=this._hl+S|0,this._ah=this._ah+z+H(this._al,St)|0,this._bh=this._bh+nt+H(this._bl,R)|0,this._ch=this._ch+Q+H(this._cl,u)|0,this._dh=this._dh+lt+H(this._dl,m)|0,this._eh=this._eh+_t+H(this._el,y)|0,this._fh=this._fh+Ct+H(this._fl,v)|0,this._gh=this._gh+kt+H(this._gl,M)|0,this._hh=this._hh+Et+H(this._hl,S)|0},K.prototype._hash=function(){var G=ft.allocUnsafe(64);function J(z,nt,Q){G.writeInt32BE(z,Q),G.writeInt32BE(nt,Q+4)}return J(this._ah,this._al,0),J(this._bh,this._bl,8),J(this._ch,this._cl,16),J(this._dh,this._dl,24),J(this._eh,this._el,32),J(this._fh,this._fl,40),J(this._gh,this._gl,48),J(this._hh,this._hl,56),G},_e.exports=K},5089:(_e,st,Ft)=>{_e.exports=ft;var zt=Ft(7703).EventEmitter;function ft(){zt.call(this)}Ft(3516)(ft,zt),ft.Readable=Ft(7619),ft.Writable=Ft(8956),ft.Duplex=Ft(9617),ft.Transform=Ft(8329),ft.PassThrough=Ft(1833),ft.finished=Ft(616),ft.pipeline=Ft(2580),ft.Stream=ft,ft.prototype.pipe=function(dt,E){var K=this;function Y($){dt.writable&&!1===dt.write($)&&K.pause&&K.pause()}function ct(){K.readable&&K.resume&&K.resume()}K.on("data",Y),dt.on("drain",ct),!dt._isStdio&&(!E||!1!==E.end)&&(K.on("end",X),K.on("close",U));var et=!1;function X(){et||(et=!0,dt.end())}function U(){et||(et=!0,"function"==typeof dt.destroy&&dt.destroy())}function at($){if(V(),0===zt.listenerCount(this,"error"))throw $}function V(){K.removeListener("data",Y),dt.removeListener("drain",ct),K.removeListener("end",X),K.removeListener("close",U),K.removeListener("error",at),dt.removeListener("error",at),K.removeListener("end",V),K.removeListener("close",V),dt.removeListener("close",V)}return K.on("error",at),dt.on("error",at),K.on("end",V),K.on("close",V),dt.on("close",V),dt.emit("pipe",K),dt}},3033:(_e,st,Ft)=>{"use strict";var zt=Ft(1381).Buffer,Kt=zt.isEncoding||function(z){switch((z=""+z)&&z.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function E(z){var nt;switch(this.encoding=function(z){var nt=function(z){if(!z)return"utf8";for(var nt;;)switch(z){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return z;default:if(nt)return;z=(""+z).toLowerCase(),nt=!0}}(z);if("string"!=typeof nt&&(zt.isEncoding===Kt||!Kt(z)))throw new Error("Unknown encoding: "+z);return nt||z}(z),this.encoding){case"utf16le":this.text=at,this.end=V,nt=4;break;case"utf8":this.fillLast=et,nt=4;break;case"base64":this.text=$,this.end=H,nt=3;break;default:return this.write=G,void(this.end=J)}this.lastNeed=0,this.lastTotal=0,this.lastChar=zt.allocUnsafe(nt)}function K(z){return z<=127?0:z>>5==6?2:z>>4==14?3:z>>3==30?4:z>>6==2?-1:-2}function et(z){var nt=this.lastTotal-this.lastNeed,Q=function(z,nt,Q){if(128!=(192&nt[0]))return z.lastNeed=0,"\ufffd";if(z.lastNeed>1&&nt.length>1){if(128!=(192&nt[1]))return z.lastNeed=1,"\ufffd";if(z.lastNeed>2&&nt.length>2&&128!=(192&nt[2]))return z.lastNeed=2,"\ufffd"}}(this,z);return void 0!==Q?Q:this.lastNeed<=z.length?(z.copy(this.lastChar,nt,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(z.copy(this.lastChar,nt,0,z.length),void(this.lastNeed-=z.length))}function at(z,nt){if((z.length-nt)%2==0){var Q=z.toString("utf16le",nt);if(Q){var lt=Q.charCodeAt(Q.length-1);if(lt>=55296&&lt<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=z[z.length-2],this.lastChar[1]=z[z.length-1],Q.slice(0,-1)}return Q}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=z[z.length-1],z.toString("utf16le",nt,z.length-1)}function V(z){var nt=z&&z.length?this.write(z):"";return this.lastNeed?nt+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):nt}function $(z,nt){var Q=(z.length-nt)%3;return 0===Q?z.toString("base64",nt):(this.lastNeed=3-Q,this.lastTotal=3,1===Q?this.lastChar[0]=z[z.length-1]:(this.lastChar[0]=z[z.length-2],this.lastChar[1]=z[z.length-1]),z.toString("base64",nt,z.length-Q))}function H(z){var nt=z&&z.length?this.write(z):"";return this.lastNeed?nt+this.lastChar.toString("base64",0,3-this.lastNeed):nt}function G(z){return z.toString(this.encoding)}function J(z){return z&&z.length?this.write(z):""}st.s=E,E.prototype.write=function(z){if(0===z.length)return"";var nt,Q;if(this.lastNeed){if(void 0===(nt=this.fillLast(z)))return"";Q=this.lastNeed,this.lastNeed=0}else Q=0;return Q<z.length?nt?nt+this.text(z,Q):this.text(z,Q):nt||""},E.prototype.end=function(z){var nt=z&&z.length?this.write(z):"";return this.lastNeed?nt+"\ufffd":nt},E.prototype.text=function(z,nt){var Q=function(z,nt,Q){var lt=nt.length-1;if(lt<Q)return 0;var _t=K(nt[lt]);return _t>=0?(_t>0&&(z.lastNeed=_t-1),_t):--lt<Q||-2===_t?0:(_t=K(nt[lt]))>=0?(_t>0&&(z.lastNeed=_t-2),_t):--lt<Q||-2===_t?0:(_t=K(nt[lt]))>=0?(_t>0&&(2===_t?_t=0:z.lastNeed=_t-3),_t):0}(this,z,nt);if(!this.lastNeed)return z.toString("utf8",nt);this.lastTotal=Q;var lt=z.length-(Q-this.lastNeed);return z.copy(this.lastChar,0,lt),z.toString("utf8",nt,lt)},E.prototype.fillLast=function(z){if(this.lastNeed<=z.length)return z.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);z.copy(this.lastChar,this.lastTotal-this.lastNeed,0,z.length),this.lastNeed-=z.length}},1381:(_e,st,Ft)=>{var zt=Ft(3847),Kt=zt.Buffer;function ft(E,K){for(var Y in E)K[Y]=E[Y]}function dt(E,K,Y){return Kt(E,K,Y)}Kt.from&&Kt.alloc&&Kt.allocUnsafe&&Kt.allocUnsafeSlow?_e.exports=zt:(ft(zt,st),st.Buffer=dt),dt.prototype=Object.create(Kt.prototype),ft(Kt,dt),dt.from=function(E,K,Y){if("number"==typeof E)throw new TypeError("Argument must not be a number");return Kt(E,K,Y)},dt.alloc=function(E,K,Y){if("number"!=typeof E)throw new TypeError("Argument must be a number");var ct=Kt(E);return void 0!==K?"string"==typeof Y?ct.fill(K,Y):ct.fill(K):ct.fill(0),ct},dt.allocUnsafe=function(E){if("number"!=typeof E)throw new TypeError("Argument must be a number");return Kt(E)},dt.allocUnsafeSlow=function(E){if("number"!=typeof E)throw new TypeError("Argument must be a number");return zt.SlowBuffer(E)}},5832:_e=>{function Ft(zt){try{if(!global.localStorage)return!1}catch(ft){return!1}var Kt=global.localStorage[zt];return null!=Kt&&"true"===String(Kt).toLowerCase()}_e.exports=function(zt,Kt){if(Ft("noDeprecation"))return zt;var ft=!1;return function(){if(!ft){if(Ft("throwDeprecation"))throw new Error(Kt);Ft("traceDeprecation")?console.trace(Kt):console.warn(Kt),ft=!0}return zt.apply(this,arguments)}}},1452:(_e,st,Ft)=>{"use strict";function zt(r){return"function"==typeof r}function Kt(r){const i=r(s=>{Error.call(s),s.stack=(new Error).stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}const ft=Kt(r=>function(i){r(this),this.message=i?`${i.length} errors occurred during unsubscription:\n${i.map((s,l)=>`${l+1}) ${s.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=i});function dt(r,n){if(r){const i=r.indexOf(n);0<=i&&r.splice(i,1)}}class E{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(const f of i)f.remove(this);else i.remove(this);const{initialTeardown:s}=this;if(zt(s))try{s()}catch(f){n=f instanceof ft?f.errors:[f]}const{_teardowns:l}=this;if(l){this._teardowns=null;for(const f of l)try{ct(f)}catch(x){n=null!=n?n:[],x instanceof ft?n=[...n,...x.errors]:n.push(x)}}if(n)throw new ft(n)}}add(n){var i;if(n&&n!==this)if(this.closed)ct(n);else{if(n instanceof E){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._teardowns=null!==(i=this._teardowns)&&void 0!==i?i:[]).push(n)}}_hasParent(n){const{_parentage:i}=this;return i===n||Array.isArray(i)&&i.includes(n)}_addParent(n){const{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(n),i):i?[i,n]:n}_removeParent(n){const{_parentage:i}=this;i===n?this._parentage=null:Array.isArray(i)&&dt(i,n)}remove(n){const{_teardowns:i}=this;i&&dt(i,n),n instanceof E&&n._removeParent(this)}}E.EMPTY=(()=>{const r=new E;return r.closed=!0,r})();const K=E.EMPTY;function Y(r){return r instanceof E||r&&"closed"in r&&zt(r.remove)&&zt(r.add)&&zt(r.unsubscribe)}function ct(r){zt(r)?r():r.unsubscribe()}const et={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},X={setTimeout(...r){const{delegate:n}=X;return((null==n?void 0:n.setTimeout)||setTimeout)(...r)},clearTimeout(r){const{delegate:n}=X;return((null==n?void 0:n.clearTimeout)||clearTimeout)(r)},delegate:void 0};function U(r){X.setTimeout(()=>{const{onUnhandledError:n}=et;if(!n)throw r;n(r)})}function at(){}const V=G("C",void 0,void 0);function G(r,n,i){return{kind:r,value:n,error:i}}let J=null;function z(r){if(et.useDeprecatedSynchronousErrorHandling){const n=!J;if(n&&(J={errorThrown:!1,error:null}),r(),n){const{errorThrown:i,error:s}=J;if(J=null,i)throw s}}else r()}class Q extends E{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Y(n)&&n.add(this)):this.destination=Et}static create(n,i,s){return new lt(n,i,s)}next(n){this.isStopped?kt(G("N",n,void 0),this):this._next(n)}error(n){this.isStopped?kt(G("E",void 0,n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?kt(V,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class lt extends Q{constructor(n,i,s){let l;if(super(),zt(n))l=n;else if(n){let f;({next:l,error:i,complete:s}=n),this&&et.useDeprecatedNextContext?(f=Object.create(n),f.unsubscribe=()=>this.unsubscribe()):f=n,l=null==l?void 0:l.bind(f),i=null==i?void 0:i.bind(f),s=null==s?void 0:s.bind(f)}this.destination={next:l?_t(l):at,error:_t(null!=i?i:Ct),complete:s?_t(s):at}}}function _t(r,n){return(...i)=>{try{r(...i)}catch(s){et.useDeprecatedSynchronousErrorHandling?function(r){et.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=r)}(s):U(s)}}}function Ct(r){throw r}function kt(r,n){const{onStoppedNotification:i}=et;i&&X.setTimeout(()=>i(r,n))}const Et={closed:!0,next:at,error:Ct,complete:at},St="function"==typeof Symbol&&Symbol.observable||"@@observable";function R(r){return r}let y=(()=>{class r{constructor(i){i&&(this._subscribe=i)}lift(i){const s=new r;return s.source=this,s.operator=i,s}subscribe(i,s,l){const f=function(r){return r&&r instanceof Q||function(r){return r&&zt(r.next)&&zt(r.error)&&zt(r.complete)}(r)&&Y(r)}(i)?i:new lt(i,s,l);return z(()=>{const{operator:x,source:A}=this;f.add(x?x.call(f,A):A?this._subscribe(f):this._trySubscribe(f))}),f}_trySubscribe(i){try{return this._subscribe(i)}catch(s){i.error(s)}}forEach(i,s){return new(s=v(s))((l,f)=>{let x;x=this.subscribe(A=>{try{i(A)}catch(B){f(B),null==x||x.unsubscribe()}},f,l)})}_subscribe(i){var s;return null===(s=this.source)||void 0===s?void 0:s.subscribe(i)}[St](){return this}pipe(...i){return function(r){return 0===r.length?R:1===r.length?r[0]:function(i){return r.reduce((s,l)=>l(s),i)}}(i)(this)}toPromise(i){return new(i=v(i))((s,l)=>{let f;this.subscribe(x=>f=x,x=>l(x),()=>s(f))})}}return r.create=n=>new r(n),r})();function v(r){var n;return null!==(n=null!=r?r:et.Promise)&&void 0!==n?n:Promise}const I=Kt(r=>function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let C=(()=>{class r extends y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){const s=new p(this,this);return s.operator=i,s}_throwIfClosed(){if(this.closed)throw new I}next(i){z(()=>{if(this._throwIfClosed(),!this.isStopped){const s=this.observers.slice();for(const l of s)l.next(i)}})}error(i){z(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;const{observers:s}=this;for(;s.length;)s.shift().error(i)}})}complete(){z(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var i;return(null===(i=this.observers)||void 0===i?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){const{hasError:s,isStopped:l,observers:f}=this;return s||l?K:(f.push(i),new E(()=>dt(f,i)))}_checkFinalizedStatuses(i){const{hasError:s,thrownError:l,isStopped:f}=this;s?i.error(l):f&&i.complete()}asObservable(){const i=new y;return i.source=this,i}}return r.create=(n,i)=>new p(n,i),r})();class p extends C{constructor(n,i){super(),this.destination=n,this.source=i}next(n){var i,s;null===(s=null===(i=this.destination)||void 0===i?void 0:i.next)||void 0===s||s.call(i,n)}error(n){var i,s;null===(s=null===(i=this.destination)||void 0===i?void 0:i.error)||void 0===s||s.call(i,n)}complete(){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===i||i.call(n)}_subscribe(n){var i,s;return null!==(s=null===(i=this.source)||void 0===i?void 0:i.subscribe(n))&&void 0!==s?s:K}}function T(r){return zt(null==r?void 0:r.lift)}function it(r){return n=>{if(T(n))return n.lift(function(i){try{return r(i,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}class Z extends Q{constructor(n,i,s,l,f){super(n),this.onFinalize=f,this._next=i?function(x){try{i(x)}catch(A){n.error(A)}}:super._next,this._error=l?function(x){try{l(x)}catch(A){n.error(A)}finally{this.unsubscribe()}}:super._error,this._complete=s?function(){try{s()}catch(x){n.error(x)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;const{closed:i}=this;super.unsubscribe(),!i&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}function W(r,n){return it((i,s)=>{let l=0;i.subscribe(new Z(s,f=>{s.next(r.call(n,f,l++))}))})}function be(r){return this instanceof be?(this.v=r,this):new be(r)}function de(r,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,s=i.apply(r,n||[]),f=[];return l={},x("next"),x("throw"),x("return"),l[Symbol.asyncIterator]=function(){return this},l;function x(Wt){s[Wt]&&(l[Wt]=function(ne){return new Promise(function(ce,Ae){f.push([Wt,ne,ce,Ae])>1||A(Wt,ne)})})}function A(Wt,ne){try{!function(Wt){Wt.value instanceof be?Promise.resolve(Wt.value.v).then(q,vt):Tt(f[0][2],Wt)}(s[Wt](ne))}catch(ce){Tt(f[0][3],ce)}}function q(Wt){A("next",Wt)}function vt(Wt){A("throw",Wt)}function Tt(Wt,ne){Wt(ne),f.shift(),f.length&&A(f[0][0],f[0][1])}}function Yt(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=r[Symbol.asyncIterator];return n?n.call(r):(r=function(r){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&r[n],s=0;if(i)return i.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(f){i[f]=r[f]&&function(x){return new Promise(function(A,B){!function(f,x,A,B){Promise.resolve(B).then(function(q){f({value:q,done:A})},x)}(A,B,(x=r[f](x)).done,x.value)})}}}const ue=r=>r&&"number"==typeof r.length&&"function"!=typeof r;function Ze(r){return zt(null==r?void 0:r.then)}function ve(r){return zt(r[St])}function Ie(r){return Symbol.asyncIterator&&zt(null==r?void 0:r[Symbol.asyncIterator])}function on(r){return new TypeError(`You provided ${null!==r&&"object"==typeof r?"an invalid object":`'${r}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ii="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Xi(r){return zt(null==r?void 0:r[ii])}function vi(r){return de(this,arguments,function*(){const i=r.getReader();try{for(;;){const{value:s,done:l}=yield be(i.read());if(l)return yield be(void 0);yield yield be(s)}}finally{i.releaseLock()}})}function _i(r){return zt(null==r?void 0:r.getReader)}function Ln(r){if(r instanceof y)return r;if(null!=r){if(ve(r))return function(r){return new y(n=>{const i=r[St]();if(zt(i.subscribe))return i.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(r);if(ue(r))return function(r){return new y(n=>{for(let i=0;i<r.length&&!n.closed;i++)n.next(r[i]);n.complete()})}(r);if(Ze(r))return function(r){return new y(n=>{r.then(i=>{n.closed||(n.next(i),n.complete())},i=>n.error(i)).then(null,U)})}(r);if(Ie(r))return Oe(r);if(Xi(r))return function(r){return new y(n=>{for(const i of r)if(n.next(i),n.closed)return;n.complete()})}(r);if(_i(r))return function(r){return Oe(vi(r))}(r)}throw on(r)}function Oe(r){return new y(n=>{(function(r,n){var i,s,l,f;return function(r,n,i,s){return new(i||(i=Promise))(function(f,x){function A(vt){try{q(s.next(vt))}catch(Tt){x(Tt)}}function B(vt){try{q(s.throw(vt))}catch(Tt){x(Tt)}}function q(vt){vt.done?f(vt.value):function(f){return f instanceof i?f:new i(function(x){x(f)})}(vt.value).then(A,B)}q((s=s.apply(r,n||[])).next())})}(this,void 0,void 0,function*(){try{for(i=Yt(r);!(s=yield i.next()).done;)if(n.next(s.value),n.closed)return}catch(x){l={error:x}}finally{try{s&&!s.done&&(f=i.return)&&(yield f.call(i))}finally{if(l)throw l.error}}n.complete()})})(r,n).catch(i=>n.error(i))})}function re(r,n,i,s=0,l=!1){const f=n.schedule(function(){i(),l?r.add(this.schedule(null,s)):this.unsubscribe()},s);if(r.add(f),!l)return f}function he(r,n,i=1/0){return zt(n)?he((s,l)=>W((f,x)=>n(s,f,l,x))(Ln(r(s,l))),i):("number"==typeof n&&(i=n),it((s,l)=>function(r,n,i,s,l,f,x,A){const B=[];let q=0,vt=0,Tt=!1;const Wt=()=>{Tt&&!B.length&&!q&&n.complete()},ne=Ae=>q<s?ce(Ae):B.push(Ae),ce=Ae=>{q++;let Te=!1;Ln(i(Ae,vt++)).subscribe(new Z(n,ri=>{n.next(ri)},()=>{Te=!0},void 0,()=>{if(Te)try{for(q--;B.length&&q<s;){const ri=B.shift();ce(ri)}Wt()}catch(ri){n.error(ri)}}))};return r.subscribe(new Z(n,ne,()=>{Tt=!0,Wt()})),()=>{}}(s,l,r,i)))}function Se(r=1/0){return he(R,r)}const $e=new y(r=>r.complete());function sn(r){return r&&zt(r.schedule)}function Qe(r){return r[r.length-1]}function di(r){return zt(Qe(r))?r.pop():void 0}function Bn(r){return sn(Qe(r))?r.pop():void 0}function si(r,n=0){return it((i,s)=>{i.subscribe(new Z(s,l=>re(s,r,()=>s.next(l),n),()=>re(s,r,()=>s.complete(),n),l=>re(s,r,()=>s.error(l),n)))})}function an(r,n=0){return it((i,s)=>{s.add(r.schedule(()=>i.subscribe(s),n))})}function Jn(r,n){if(!r)throw new Error("Iterable cannot be null");return new y(i=>{re(i,n,()=>{const s=r[Symbol.asyncIterator]();re(i,n,()=>{s.next().then(l=>{l.done?i.complete():i.next(l.value)})},0,!0)})})}function wr(r,n){return n?function(r,n){if(null!=r){if(ve(r))return function(r,n){return Ln(r).pipe(an(n),si(n))}(r,n);if(ue(r))return function(r,n){return new y(i=>{let s=0;return n.schedule(function(){s===r.length?i.complete():(i.next(r[s++]),i.closed||this.schedule())})})}(r,n);if(Ze(r))return function(r,n){return Ln(r).pipe(an(n),si(n))}(r,n);if(Ie(r))return Jn(r,n);if(Xi(r))return function(r,n){return new y(i=>{let s;return re(i,n,()=>{s=r[ii](),re(i,n,()=>{let l,f;try{({value:l,done:f}=s.next())}catch(x){return void i.error(x)}f?i.complete():i.next(l)},0,!0)}),()=>zt(null==s?void 0:s.return)&&s.return()})}(r,n);if(_i(r))return function(r,n){return Jn(vi(r),n)}(r,n)}throw on(r)}(r,n):Ln(r)}function br(...r){const n=Bn(r),i=function(r,n){return"number"==typeof Qe(r)?r.pop():1/0}(r),s=r;return s.length?1===s.length?Ln(s[0]):Se(i)(wr(s,n)):$e}function Xn(r){return r<=0?()=>$e:it((n,i)=>{let s=0;n.subscribe(new Z(i,l=>{++s<=r&&(i.next(l),r<=s&&i.complete())}))})}function Co(r={}){const{connector:n=(()=>new C),resetOnError:i=!0,resetOnComplete:s=!0,resetOnRefCountZero:l=!0}=r;return f=>{let x=null,A=null,B=null,q=0,vt=!1,Tt=!1;const Wt=()=>{null==A||A.unsubscribe(),A=null},ne=()=>{Wt(),x=B=null,vt=Tt=!1},ce=()=>{const Ae=x;ne(),null==Ae||Ae.unsubscribe()};return it((Ae,Te)=>{q++,!Tt&&!vt&&Wt();const ri=B=null!=B?B:n();Te.add(()=>{q--,0===q&&!Tt&&!vt&&(A=Ti(ce,l))}),ri.subscribe(Te),x||(x=new lt({next:oi=>ri.next(oi),error:oi=>{Tt=!0,Wt(),A=Ti(ne,i,oi),ri.error(oi)},complete:()=>{vt=!0,Wt(),A=Ti(ne,s),ri.complete()}}),wr(Ae).subscribe(x))})(f)}}function Ti(r,n,...i){return!0===n?(r(),null):!1===n?null:n(...i).pipe(Xn(1)).subscribe(()=>r())}function mn(r){for(let n in r)if(r[n]===mn)return n;throw Error("Could not find renamed property on target object.")}function gr(r,n){for(const i in n)n.hasOwnProperty(i)&&!r.hasOwnProperty(i)&&(r[i]=n[i])}function En(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(En).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const n=r.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function _o(r,n){return null==r||""===r?null===n?"":n:null==n||""===n?r:r+" "+n}const No=mn({__forward_ref__:mn});function Hi(r){return r.__forward_ref__=Hi,r.toString=function(){return En(this())},r}function Un(r){return Ou(r)?r():r}function Ou(r){return"function"==typeof r&&r.hasOwnProperty(No)&&r.__forward_ref__===Hi}class tl extends Error{constructor(n,i){super(function(r,n){return`${r?`NG0${r}: `:""}${n}`}(n,i)),this.code=n}}function _r(r){return"string"==typeof r?r:null==r?"":String(r)}function ga(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():_r(r)}function Nu(r,n){const i=n?` in ${n}`:"";throw new tl("201",`No provider for ${ga(r)} found${i}`)}function os(r,n){null==r&&function(r,n,i,s){throw new Error(`ASSERTION ERROR: ${r}`+(null==s?"":` [Expected=> ${i} ${s} ${n} <=Actual]`))}(n,r,null,"!=")}function Ji(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function ir(r){return{providers:r.providers||[],imports:r.imports||[]}}function su(r){return vn(r,g0)||vn(r,op)}function vn(r,n){return r.hasOwnProperty(n)?r[n]:null}function xn(r){return r&&(r.hasOwnProperty(Mm)||r.hasOwnProperty($x))?r[Mm]:null}const g0=mn({\u0275prov:mn}),Mm=mn({\u0275inj:mn}),op=mn({ngInjectableDef:mn}),$x=mn({ngInjectorDef:mn});var dr=(()=>((dr=dr||{})[dr.Default=0]="Default",dr[dr.Host=1]="Host",dr[dr.Self=2]="Self",dr[dr.SkipSelf=4]="SkipSelf",dr[dr.Optional=8]="Optional",dr))();let Cm;function mf(r){const n=Cm;return Cm=r,n}function El(r,n,i){const s=su(r);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:i&dr.Optional?null:void 0!==n?n:void Nu(En(r),"Injector")}function Lo(r){return{toString:r}.toString()}var fs=(()=>((fs=fs||{})[fs.OnPush=0]="OnPush",fs[fs.Default=1]="Default",fs))(),Is=(()=>{return(r=Is||(Is={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",Is;var r})();const as="undefined"!=typeof globalThis&&globalThis,Gn="undefined"!=typeof window&&window,el="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Gr=as||"undefined"!=typeof global&&global||Gn||el,La={},Wn=[],sa=mn({\u0275cmp:mn}),Rs=mn({\u0275dir:mn}),yc=mn({\u0275pipe:mn}),Yr=mn({\u0275mod:mn}),Os=mn({\u0275fac:mn}),Ar=mn({__NG_ELEMENT_ID__:mn});let zo=0;function gn(r){return Lo(()=>{const i={},s={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===fs.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||Wn,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||Is.Emulated,id:"c",styles:r.styles||Wn,_:null,setInput:null,schemas:r.schemas||null,tView:null},l=r.directives,f=r.features,x=r.pipes;return s.id+=zo++,s.inputs=Qy(r.inputs,i),s.outputs=Qy(r.outputs),f&&f.forEach(A=>A(s)),s.directiveDefs=l?()=>("function"==typeof l?l():l).map(oo):null,s.pipeDefs=x?()=>("function"==typeof x?x():x).map(sd):null,s})}function oo(r){return fl(r)||function(r){return r[Rs]||null}(r)}function sd(r){return function(r){return r[yc]||null}(r)}const jn={};function pr(r){return Lo(()=>{const n={type:r.type,bootstrap:r.bootstrap||Wn,declarations:r.declarations||Wn,imports:r.imports||Wn,exports:r.exports||Wn,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(jn[r.id]=r.type),n})}function Qy(r,n){if(null==r)return La;const i={};for(const s in r)if(r.hasOwnProperty(s)){let l=r[s],f=l;Array.isArray(l)&&(f=l[1],l=l[0]),i[l]=s,n&&(n[l]=f)}return i}const dn=gn;function ya(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function fl(r){return r[sa]||null}function Al(r,n){const i=r[Yr]||null;if(!i&&!0===n)throw new Error(`Type ${En(r)} does not have '\u0275mod' property.`);return i}function Bu(r){return Array.isArray(r)&&"object"==typeof r[1]}function ds(r){return Array.isArray(r)&&!0===r[1]}function dv(r){return 0!=(8&r.flags)}function So(r){return 2==(2&r.flags)}function xf(r){return 1==(1&r.flags)}function Lh(r){return null!==r.template}function hp(r){return 0!=(512&r[2])}function fd(r,n){return r.hasOwnProperty(Os)?r[Os]:null}class mv{constructor(n,i,s){this.previousValue=n,this.currentValue=i,this.firstChange=s}isFirstChange(){return this.firstChange}}function Xr(){return w0}function w0(r){return r.type.prototype.ngOnChanges&&(r.setInput=km),gv}function gv(){const r=vv(this),n=null==r?void 0:r.current;if(n){const i=r.previous;if(i===La)r.previous=n;else for(let s in n)i[s]=n[s];r.current=null,this.ngOnChanges(n)}}function km(r,n,i,s){const l=vv(r)||function(r,n){return r[i1]=n}(r,{previous:La,current:null}),f=l.current||(l.current={}),x=l.previous,A=this.declaredInputs[i],B=x[A];f[A]=new mv(B&&B.currentValue,n,x===La),r[s]=n}Xr.ngInherit=!0;const i1="__ngSimpleChanges__";function vv(r){return r[i1]||null}const yv="http://www.w3.org/2000/svg";let Ao;function Sr(r){return!!r.listen}const Rn={createRenderer:(r,n)=>void 0!==Ao?Ao:"undefined"!=typeof document?document:void 0};function xa(r){for(;Array.isArray(r);)r=r[0];return r}function mh(r,n){return xa(n[r])}function wa(r,n){return xa(n[r.index])}function _0(r,n){return r.data[n]}function pp(r,n){return r[n]}function Il(r,n){const i=n[r];return Bu(i)?i:i[0]}function Tm(r){return 4==(4&r[2])}function M0(r){return 128==(128&r[2])}function Mf(r,n){return null==n?null:r[n]}function Fs(r){r[18]=0}function dd(r,n){r[5]+=n;let i=r,s=r[3];for(;null!==s&&(1===n&&1===i[5]||-1===n&&0===i[5]);)s[5]+=n,i=s,s=s[3]}const Tr={lFrame:yp(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function r1(){return Tr.bindingsEnabled}function Ki(){return Tr.lFrame.lView}function Vr(){return Tr.lFrame.tView}function qo(r){return Tr.lFrame.contextLView=r,r[8]}function Js(){let r=ks();for(;null!==r&&64===r.type;)r=r.parent;return r}function ks(){return Tr.lFrame.currentTNode}function Fh(r,n){const i=Tr.lFrame;i.currentTNode=r,i.isParent=n}function mp(){return Tr.lFrame.isParent}function Ee(){Tr.lFrame.isParent=!1}function gp(){return Tr.isInCheckNoChangesMode}function Sf(r){Tr.isInCheckNoChangesMode=r}function Jo(){const r=Tr.lFrame;let n=r.bindingRootIndex;return-1===n&&(n=r.bindingRootIndex=r.tView.bindingStartIndex),n}function pd(){return Tr.lFrame.bindingIndex++}function xc(r){const n=Tr.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+r,i}function Vh(r,n){const i=Tr.lFrame;i.bindingIndex=i.bindingRootIndex=r,gh(n)}function gh(r){Tr.lFrame.currentDirectiveIndex=r}function Df(r){const n=Tr.lFrame.currentDirectiveIndex;return-1===n?null:r[n]}function vp(){return Tr.lFrame.currentQueryIndex}function Im(r){Tr.lFrame.currentQueryIndex=r}function t_(r){const n=r[1];return 2===n.type?n.declTNode:1===n.type?r[6]:null}function o1(r,n,i){if(i&dr.SkipSelf){let l=n,f=r;for(;!(l=l.parent,null!==l||i&dr.Host||(l=t_(f),null===l||(f=f[15],10&l.type))););if(null===l)return!1;n=l,r=f}const s=Tr.lFrame=md();return s.currentTNode=n,s.lView=r,!0}function vh(r){const n=md(),i=r[1];Tr.lFrame=n,n.currentTNode=i.firstChild,n.lView=r,n.tView=i,n.contextLView=r,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function md(){const r=Tr.lFrame,n=null===r?null:r.child;return null===n?yp(r):n}function yp(r){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=n),n}function bv(){const r=Tr.lFrame;return Tr.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const D0=bv;function ml(){const r=bv();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Rl(){return Tr.lFrame.selectedIndex}function jh(r){Tr.lFrame.selectedIndex=r}function Ko(){const r=Tr.lFrame;return _0(r.tView,r.selectedIndex)}function Rm(){Tr.lFrame.currentNamespace=yv}function k0(){Tr.lFrame.currentNamespace=null}function hu(r,n){for(let i=n.directiveStart,s=n.directiveEnd;i<s;i++){const f=r.data[i].type.prototype,{ngAfterContentInit:x,ngAfterContentChecked:A,ngAfterViewInit:B,ngAfterViewChecked:q,ngOnDestroy:vt}=f;x&&(r.contentHooks||(r.contentHooks=[])).push(-i,x),A&&((r.contentHooks||(r.contentHooks=[])).push(i,A),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(i,A)),B&&(r.viewHooks||(r.viewHooks=[])).push(-i,B),q&&((r.viewHooks||(r.viewHooks=[])).push(i,q),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(i,q)),null!=vt&&(r.destroyHooks||(r.destroyHooks=[])).push(i,vt)}}function zh(r,n,i){Cv(r,n,3,i)}function gd(r,n,i,s){(3&r[2])===i&&Cv(r,n,i,s)}function Mv(r,n){let i=r[2];(3&i)===n&&(i&=2047,i+=1,r[2]=i)}function Cv(r,n,i,s){const f=null!=s?s:-1,x=n.length-1;let A=0;for(let B=void 0!==s?65535&r[18]:0;B<x;B++)if("number"==typeof n[B+1]){if(A=n[B],null!=s&&A>=s)break}else n[B]<0&&(r[18]+=65536),(A<f||-1==f)&&(Sv(r,i,n,B),r[18]=(4294901760&r[18])+B+2),B++}function Sv(r,n,i,s){const l=i[s]<0,f=i[s+1],A=r[l?-i[s]:i[s]];if(l){if(r[2]>>11<r[18]>>16&&(3&r[2])===n){r[2]+=2048;try{f.call(A)}finally{}}}else try{f.call(A)}finally{}}class bc{constructor(n,i,s){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=s}}function T0(r,n,i){const s=Sr(r);let l=0;for(;l<i.length;){const f=i[l];if("number"==typeof f){if(0!==f)break;l++;const x=i[l++],A=i[l++],B=i[l++];s?r.setAttribute(n,A,B,x):n.setAttributeNS(x,A,B)}else{const x=f,A=i[++l];Ev(x)?s&&r.setProperty(n,x,A):s?r.setAttribute(n,x,A):n.setAttribute(x,A),l++}}return l}function Qx(r){return 3===r||4===r||6===r}function Ev(r){return 64===r.charCodeAt(0)}function kf(r,n){if(null!==n&&0!==n.length)if(null===r||0===r.length)r=n.slice();else{let i=-1;for(let s=0;s<n.length;s++){const l=n[s];"number"==typeof l?i=l:0===i||Nm(r,i,l,null,-1===i||2===i?n[++s]:null)}}return r}function Nm(r,n,i,s,l){let f=0,x=r.length;if(-1===n)x=-1;else for(;f<r.length;){const A=r[f++];if("number"==typeof A){if(A===n){x=-1;break}if(A>n){x=f-1;break}}}for(;f<r.length;){const A=r[f];if("number"==typeof A)break;if(A===i){if(null===s)return void(null!==l&&(r[f+1]=l));if(s===r[f+1])return void(r[f+2]=l)}f++,null!==s&&f++,null!==l&&f++}-1!==x&&(r.splice(x,0,n),f=x+1),r.splice(f++,0,i),null!==s&&r.splice(f++,0,s),null!==l&&r.splice(f++,0,l)}function Lm(r){return-1!==r}function lo(r){return 32767&r}function Af(r,n){let i=function(r){return r>>16}(r),s=n;for(;i>0;)s=s[15],i--;return s}let xp=!0;function Fm(r){const n=xp;return xp=r,n}let P0=0;function Us(r,n){const i=I0(r,n);if(-1!==i)return i;const s=n[1];s.firstCreatePass&&(r.injectorIndex=n.length,bp(s.data,r),bp(n,null),bp(s.blueprint,null));const l=Mc(r,n),f=r.injectorIndex;if(Lm(l)){const x=lo(l),A=Af(l,n),B=A[1].data;for(let q=0;q<8;q++)n[f+q]=A[x+q]|B[x+q]}return n[f+8]=l,f}function bp(r,n){r.push(0,0,0,0,0,0,0,0,n)}function I0(r,n){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===n[r.injectorIndex+8]?-1:r.injectorIndex}function Mc(r,n){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let i=0,s=null,l=n;for(;null!==l;){const f=l[1],x=f.type;if(s=2===x?f.declTNode:1===x?l[6]:null,null===s)return-1;if(i++,l=l[15],-1!==s.injectorIndex)return s.injectorIndex|i<<16}return-1}function Vm(r,n,i){!function(r,n,i){let s;"string"==typeof i?s=i.charCodeAt(0)||0:i.hasOwnProperty(Ar)&&(s=i[Ar]),null==s&&(s=i[Ar]=P0++);const l=255&s;n.data[r+(l>>5)]|=1<<l}(r,n,i)}function jm(r,n,i){if(i&dr.Optional)return r;Nu(n,"NodeInjector")}function l1(r,n,i,s){if(i&dr.Optional&&void 0===s&&(s=null),0==(i&(dr.Self|dr.Host))){const l=r[9],f=mf(void 0);try{return l?l.get(n,s,i&dr.Optional):El(n,s,i&dr.Optional)}finally{mf(f)}}return jm(s,n,i)}function Cc(r,n,i,s=dr.Default,l){if(null!==r){const f=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const n=r.hasOwnProperty(Ar)?r[Ar]:void 0;return"number"==typeof n?n>=0?255&n:Gu:n}(i);if("function"==typeof f){if(!o1(n,r,s))return s&dr.Host?jm(l,i,s):l1(n,i,s,l);try{const x=f(s);if(null!=x||s&dr.Optional)return x;Nu(i)}finally{D0()}}else if("number"==typeof f){let x=null,A=I0(r,n),B=-1,q=s&dr.Host?n[16][6]:null;for((-1===A||s&dr.SkipSelf)&&(B=-1===A?Mc(r,n):n[A+8],-1!==B&&Av(s,!1)?(x=n[1],A=lo(B),n=Af(B,n)):A=-1);-1!==A;){const vt=n[1];if(O0(f,A,vt.data)){const Tt=ba(A,n,i,x,s,q);if(Tt!==gl)return Tt}B=n[A+8],-1!==B&&Av(s,n[1].data[A+8]===q)&&O0(f,A,n)?(x=vt,A=lo(B),n=Af(B,n)):A=-1}}}return l1(n,i,s,l)}const gl={};function Gu(){return new xd(Js(),Ki())}function ba(r,n,i,s,l,f){const x=n[1],A=x.data[r+8],vt=Gs(A,x,i,null==s?So(A)&&xp:s!=x&&0!=(3&A.type),l&dr.Host&&f===A);return null!==vt?Wu(n,x,vt,A):gl}function Gs(r,n,i,s,l){const f=r.providerIndexes,x=n.data,A=1048575&f,B=r.directiveStart,vt=f>>20,Wt=l?A+vt:r.directiveEnd;for(let ne=s?A:A+vt;ne<Wt;ne++){const ce=x[ne];if(ne<B&&i===ce||ne>=B&&ce.type===i)return ne}if(l){const ne=x[B];if(ne&&Lh(ne)&&ne.type===i)return B}return null}function Wu(r,n,i,s){let l=r[i];const f=n.data;if(function(r){return r instanceof bc}(l)){const x=l;x.resolving&&function(r,n){throw new tl("200",`Circular dependency in DI detected for ${r}`)}(ga(f[i]));const A=Fm(x.canSeeViewProviders);x.resolving=!0;const B=x.injectImpl?mf(x.injectImpl):null;o1(r,s,dr.Default);try{l=r[i]=x.factory(void 0,f,r,s),n.firstCreatePass&&i>=s.directiveStart&&function(r,n,i){const{ngOnChanges:s,ngOnInit:l,ngDoCheck:f}=n.type.prototype;if(s){const x=w0(n);(i.preOrderHooks||(i.preOrderHooks=[])).push(r,x),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(r,x)}l&&(i.preOrderHooks||(i.preOrderHooks=[])).push(0-r,l),f&&((i.preOrderHooks||(i.preOrderHooks=[])).push(r,f),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(r,f))}(i,f[i],n)}finally{null!==B&&mf(B),Fm(A),x.resolving=!1,D0()}}return l}function O0(r,n,i){return!!(i[n+(r>>5)]&1<<r)}function Av(r,n){return!(r&dr.Self||r&dr.Host&&n)}class xd{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,s){return Cc(this._tNode,this._lView,n,s,i)}}function xo(r){return Lo(()=>{const n=r.prototype.constructor,i=n[Os]||Qo(n),s=Object.prototype;let l=Object.getPrototypeOf(r.prototype).constructor;for(;l&&l!==s;){const f=l[Os]||Qo(l);if(f&&f!==i)return f;l=Object.getPrototypeOf(l)}return f=>new f})}function Qo(r){return Ou(r)?()=>{const n=Qo(Un(r));return n&&n()}:fd(r)}function Hh(r){return function(r,n){if("class"===n)return r.classes;if("style"===n)return r.styles;const i=r.attrs;if(i){const s=i.length;let l=0;for(;l<s;){const f=i[l];if(Qx(f))break;if(0===f)l+=2;else if("number"==typeof f)for(l++;l<s&&"string"==typeof i[l];)l++;else{if(f===n)return i[l+1];l+=2}}}return null}(Js(),r)}const wd="__parameters__";function Dc(r,n,i){return Lo(()=>{const s=function(r){return function(...i){if(r){const s=r(...i);for(const l in s)this[l]=s[l]}}}(n);function l(...f){if(this instanceof l)return s.apply(this,f),this;const x=new l(...f);return A.annotation=x,A;function A(B,q,vt){const Tt=B.hasOwnProperty(wd)?B[wd]:Object.defineProperty(B,wd,{value:[]})[wd];for(;Tt.length<=vt;)Tt.push(null);return(Tt[vt]=Tt[vt]||[]).push(x),B}}return i&&(l.prototype=Object.create(i.prototype)),l.prototype.ngMetadataName=r,l.annotationCls=l,l})}class pn{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Ji({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Gm=new pn("AnalyzeForEntryComponents");function Ws(r,n){void 0===n&&(n=r);for(let i=0;i<r.length;i++){let s=r[i];Array.isArray(s)?(n===r&&(n=r.slice(0,i)),Ws(s,n)):n!==r&&n.push(s)}return n}function Oi(r,n){r.forEach(i=>Array.isArray(i)?Oi(i,n):n(i))}function no(r,n,i){n>=r.length?r.push(i):r.splice(n,0,i)}function nr(r,n){return n>=r.length-1?r.pop():r.splice(n,1)[0]}function Ys(r,n){const i=[];for(let s=0;s<r;s++)i.push(n);return i}function ha(r,n,i){let s=Gh(r,n);return s>=0?r[1|s]=i:(s=~s,function(r,n,i,s){let l=r.length;if(l==n)r.push(i,s);else if(1===l)r.push(s,r[0]),r[0]=i;else{for(l--,r.push(r[l-1],r[l]);l>n;)r[l]=r[l-2],l--;r[n]=i,r[n+1]=s}}(r,s,n,i)),s}function $s(r,n){const i=Gh(r,n);if(i>=0)return r[1|i]}function Gh(r,n){return function(r,n,i){let s=0,l=r.length>>i;for(;l!==s;){const f=s+(l-s>>1),x=r[f<<i];if(n===x)return f<<i;x>n?l=f:s=f+1}return~(l<<i)}(r,n,1)}const _d={},If="__NG_DI_FLAG__",Md="ngTempTokenPath",Tc=/\n/gm,ja="__source",nl=mn({provide:String,useValue:mn});let Wh;function Yh(r){const n=Wh;return Wh=r,n}function nw(r,n=dr.Default){if(void 0===Wh)throw new Error("inject() must be called from an injection context");return null===Wh?El(r,void 0,n):Wh.get(r,n&dr.Optional?null:void 0,n)}function gi(r,n=dr.Default){return(Cm||nw)(Un(r),n)}const $h=gi;function Ic(r){const n=[];for(let i=0;i<r.length;i++){const s=Un(r[i]);if(Array.isArray(s)){if(0===s.length)throw new Error("Arguments array must have arguments.");let l,f=dr.Default;for(let x=0;x<s.length;x++){const A=s[x],B=Lv(A);"number"==typeof B?-1===B?l=A.token:f|=B:l=A}n.push(gi(l,f))}else n.push(gi(s))}return n}function Rf(r,n){return r[If]=n,r.prototype[If]=n,r}function Lv(r){return r[If]}function Cd(r,n,i,s){const l=r[Md];throw n[ja]&&l.unshift(n[ja]),r.message=function(r,n,i,s=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let l=En(n);if(Array.isArray(n))l=n.map(En).join(" -> ");else if("object"==typeof n){let f=[];for(let x in n)if(n.hasOwnProperty(x)){let A=n[x];f.push(x+":"+("string"==typeof A?JSON.stringify(A):En(A)))}l=`{${f.join(", ")}}`}return`${i}${s?"("+s+")":""}[${l}]: ${r.replace(Tc,"\n  ")}`}("\n"+r.message,l,i,s),r.ngTokenPath=l,r[Md]=null,r}const Nl=Rf(Dc("Inject",r=>({token:r})),-1),ls=Rf(Dc("Optional"),8),eh=Rf(Dc("SkipSelf"),4);let Mp,pu;function du(r){var n;return(null==(n=function(){if(void 0===Mp&&(Mp=null,Gr.trustedTypes))try{Mp=Gr.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Mp}())?void 0:n.createHTML(r))||r}function hs(r){var n;return(null==(n=function(){if(void 0===pu&&(pu=null,Gr.trustedTypes))try{pu=Gr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return pu}())?void 0:n.createScriptURL(r))||r}class ws{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Oc extends ws{getTypeName(){return"HTML"}}class Ku extends ws{getTypeName(){return"Style"}}class Zu extends ws{getTypeName(){return"Script"}}class Sa extends ws{getTypeName(){return"URL"}}class qu extends ws{getTypeName(){return"ResourceURL"}}function Da(r){return r instanceof ws?r.changingThisBreaksApplicationSecurity:r}function mu(r,n){const i=es(r);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see https://g.co/ng/security#xss)`)}return i===n}function es(r){return r instanceof ws&&r.getTypeName()||null}class zv{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(du(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch(i){return null}}}class Hv{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const i=this.inertDocument.createElement("html");this.inertDocument.appendChild(i);const s=this.inertDocument.createElement("body");i.appendChild(s)}}getInertBodyElement(n){const i=this.inertDocument.createElement("template");if("content"in i)return i.innerHTML=du(n),i;const s=this.inertDocument.createElement("body");return s.innerHTML=du(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(s),s}stripCustomNsAttrs(n){const i=n.attributes;for(let l=i.length-1;0<l;l--){const x=i.item(l).name;("xmlns:ns1"===x||0===x.indexOf("ns1:"))&&n.removeAttribute(x)}let s=n.firstChild;for(;s;)s.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(s),s=s.nextSibling}}const qm=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Jm=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function z0(r){return(r=String(r)).match(qm)||r.match(Jm)?r:"unsafe:"+r}function qe(r){const n={};for(const i of r.split(","))n[i]=!0;return n}function U0(...r){const n={};for(const i of r)for(const s in i)i.hasOwnProperty(s)&&(n[s]=!0);return n}const p1=qe("area,br,col,hr,img,wbr"),Qm=qe("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Nf=qe("rp,rt"),m1=U0(p1,U0(Qm,qe("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),U0(Nf,qe("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),U0(Nf,Qm)),Td=qe("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Dp=qe("srcset"),Gv=U0(Td,Dp,qe("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qe("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),g1=qe("script,style,template");class v1{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,s=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?s=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,s&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let l=this.checkClobberedElement(i,i.nextSibling);if(l){i=l;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!m1.hasOwnProperty(i))return this.sanitizedSomething=!0,!g1.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const s=n.attributes;for(let l=0;l<s.length;l++){const f=s.item(l),x=f.name,A=x.toLowerCase();if(!Gv.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let B=f.value;Td[A]&&(B=z0(B)),Dp[A]&&(r=B,B=(r=String(r)).split(",").map(n=>z0(n.trim())).join(", ")),this.buf.push(" ",x,'="',y1(B),'"')}var r;return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();m1.hasOwnProperty(i)&&!p1.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(y1(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const sw=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,aw=/([^\#-~ |!])/g;function y1(r){return r.replace(/&/g,"&amp;").replace(sw,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(aw,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ea;function lw(r,n){let i=null;try{Ea=Ea||function(r){const n=new Hv(r);return function(){try{return!!(new window.DOMParser).parseFromString(du(""),"text/html")}catch(r){return!1}}()?new zv(n):n}(r);let s=n?String(n):"";i=Ea.getInertBodyElement(s);let l=5,f=s;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,s=f,f=i.innerHTML,i=Ea.getInertBodyElement(s)}while(s!==f);return du((new v1).sanitizeChildren(G0(i)||i))}finally{if(i){const s=G0(i)||i;for(;s.firstChild;)s.removeChild(s.firstChild)}}}function G0(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Dr=(()=>((Dr=Dr||{})[Dr.NONE=0]="NONE",Dr[Dr.HTML=1]="HTML",Dr[Dr.STYLE=2]="STYLE",Dr[Dr.SCRIPT=3]="SCRIPT",Dr[Dr.URL=4]="URL",Dr[Dr.RESOURCE_URL=5]="RESOURCE_URL",Dr))();function vl(r){const n=Qi();return n?n.sanitize(Dr.URL,r)||"":mu(r,"URL")?Da(r):z0(_r(r))}function tg(r){const n=Qi();if(n)return hs(n.sanitize(Dr.RESOURCE_URL,r)||"");if(mu(r,"ResourceURL"))return hs(Da(r));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function Qi(){const r=Ki();return r&&r[12]}const Ep="__ngContext__";function Yo(r,n){r[Ep]=n}function W0(r){const n=function(r){return r[Ep]||null}(r);return n?Array.isArray(n)?n:n.lView:null}function Y0(r){return r.ngOriginalError}function Kv(r,...n){r.error(...n)}class Kr{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n),s=this._findContext(n),l=(r=n)&&r.ngErrorLogger||Kv;var r;l(this._console,"ERROR",n),i&&l(this._console,"ORIGINAL ERROR",i),s&&l(this._console,"ERROR CONTEXT",s)}_findContext(n){return n?n.ngDebugContext||this._findContext(Y0(n)):null}_findOriginalError(n){let i=n&&Y0(n);for(;i&&Y0(i);)i=Y0(i);return i||null}}const ta=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Gr))();function d(r){return r instanceof Function?r():r}var L=(()=>((L=L||{})[L.Important=1]="Important",L[L.DashCase=2]="DashCase",L))();function ht(r,n){return undefined(r,n)}function Mt(r){const n=r[3];return ds(n)?n[3]:n}function Gt(r){return Jt(r[13])}function Nt(r){return Jt(r[4])}function Jt(r){for(;null!==r&&!ds(r);)r=r[4];return r}function ae(r,n,i,s,l){if(null!=s){let f,x=!1;ds(s)?f=s:Bu(s)&&(x=!0,s=s[0]);const A=xa(s);0===r&&null!==i?null==l?li(n,i,A):Ai(n,i,A,l||null,!0):1===r&&null!==i?Ai(n,i,A,l||null,!0):2===r?function(r,n,i){const s=Gi(r,n);s&&function(r,n,i,s){Sr(r)?r.removeChild(n,i,s):n.removeChild(i)}(r,s,n,i)}(n,A,x):3===r&&n.destroyNode(A),null!=f&&function(r,n,i,s,l){const f=i[7];f!==xa(i)&&ae(n,r,s,f,l);for(let A=10;A<i.length;A++){const B=i[A];On(B[1],B,r,n,s,f)}}(n,r,f,i,l)}}function He(r,n,i){return Sr(r)?r.createElement(n,i):null===i?r.createElement(n):r.createElementNS(i,n)}function Je(r,n){const i=r[9],s=i.indexOf(n),l=n[3];1024&n[2]&&(n[2]&=-1025,dd(l,-1)),i.splice(s,1)}function Be(r,n){if(r.length<=10)return;const i=10+n,s=r[i];if(s){const l=s[17];null!==l&&l!==r&&Je(l,s),n>0&&(r[i-1][4]=s[4]);const f=nr(r,10+n);!function(r,n){On(r,n,n[11],2,null,null),n[0]=null,n[6]=null}(s[1],s);const x=f[19];null!==x&&x.detachView(f[1]),s[3]=null,s[4]=null,s[2]&=-129}return s}function wi(r,n){if(!(256&n[2])){const i=n[11];Sr(i)&&i.destroyNode&&On(r,n,i,3,null,null),function(r){let n=r[13];if(!n)return fi(r[1],r);for(;n;){let i=null;if(Bu(n))i=n[13];else{const s=n[10];s&&(i=s)}if(!i){for(;n&&!n[4]&&n!==r;)Bu(n)&&fi(n[1],n),n=n[3];null===n&&(n=r),Bu(n)&&fi(n[1],n),i=n&&n[4]}n=i}}(n)}}function fi(r,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(r,n){let i;if(null!=r&&null!=(i=r.destroyHooks))for(let s=0;s<i.length;s+=2){const l=n[i[s]];if(!(l instanceof bc)){const f=i[s+1];if(Array.isArray(f))for(let x=0;x<f.length;x+=2){const A=l[f[x]],B=f[x+1];try{B.call(A)}finally{}}else try{f.call(l)}finally{}}}}(r,n),function(r,n){const i=r.cleanup,s=n[7];let l=-1;if(null!==i)for(let f=0;f<i.length-1;f+=2)if("string"==typeof i[f]){const x=i[f+1],A="function"==typeof x?x(n):xa(n[x]),B=s[l=i[f+2]],q=i[f+3];"boolean"==typeof q?A.removeEventListener(i[f],B,q):q>=0?s[l=q]():s[l=-q].unsubscribe(),f+=2}else{const x=s[l=i[f+1]];i[f].call(x)}if(null!==s){for(let f=l+1;f<s.length;f++)s[f]();n[7]=null}}(r,n),1===n[1].type&&Sr(n[11])&&n[11].destroy();const i=n[17];if(null!==i&&ds(n[3])){i!==n[3]&&Je(i,n);const s=n[19];null!==s&&s.detachView(r)}}}function yi(r,n,i){return function(r,n,i){let s=n;for(;null!==s&&40&s.type;)s=(n=s).parent;if(null===s)return i[0];if(2&s.flags){const l=r.data[s.directiveStart].encapsulation;if(l===Is.None||l===Is.Emulated)return null}return wa(s,i)}(r,n.parent,i)}function Ai(r,n,i,s,l){Sr(r)?r.insertBefore(n,i,s,l):n.insertBefore(i,s,l)}function li(r,n,i){Sr(r)?r.appendChild(n,i):n.appendChild(i)}function Wi(r,n,i,s,l){null!==s?Ai(r,n,i,s,l):li(r,n,i)}function Gi(r,n){return Sr(r)?r.parentNode(n):n.parentNode}function xi(r,n,i){return $i(r,n,i)}let $i=function(r,n,i){return 40&r.type?wa(r,i):null};function Mr(r,n,i,s){const l=yi(r,s,n),f=n[11],A=xi(s.parent||n[6],s,n);if(null!=l)if(Array.isArray(i))for(let B=0;B<i.length;B++)Wi(f,l,i[B],A,!1);else Wi(f,l,i,A,!1)}function kr(r,n){if(null!==n){const i=n.type;if(3&i)return wa(n,r);if(4&i)return yn(-1,r[n.index]);if(8&i){const s=n.child;if(null!==s)return kr(r,s);{const l=r[n.index];return ds(l)?yn(-1,l):xa(l)}}if(32&i)return ht(n,r)()||xa(r[n.index]);{const s=Pn(r,n);return null!==s?Array.isArray(s)?s[0]:kr(Mt(r[16]),s):kr(r,n.next)}}return null}function Pn(r,n){return null!==n?r[16][6].projection[n.projection]:null}function yn(r,n){const i=10+r+1;if(i<n.length){const s=n[i],l=s[1].firstChild;if(null!==l)return kr(s,l)}return n[7]}function tr(r,n,i,s,l,f,x){for(;null!=i;){const A=s[i.index],B=i.type;if(x&&0===n&&(A&&Yo(xa(A),s),i.flags|=4),64!=(64&i.flags))if(8&B)tr(r,n,i.child,s,l,f,!1),ae(n,r,l,A,f);else if(32&B){const q=ht(i,s);let vt;for(;vt=q();)ae(n,r,l,vt,f);ae(n,r,l,A,f)}else 16&B?To(r,n,s,i,l,f):ae(n,r,l,A,f);i=x?i.projectionNext:i.next}}function On(r,n,i,s,l,f){tr(i,s,r.firstChild,n,l,f,!1)}function To(r,n,i,s,l,f){const x=i[16],B=x[6].projection[s.projection];if(Array.isArray(B))for(let q=0;q<B.length;q++)ae(n,r,l,B[q],f);else tr(r,n,B,x[3],l,f,!0)}function hi(r,n,i){Sr(r)?r.setAttribute(n,"style",i):n.style.cssText=i}function Pe(r,n,i){Sr(r)?""===i?r.removeAttribute(n,"class"):r.setAttribute(n,"class",i):n.className=i}function Ri(r,n,i){let s=r.length;for(;;){const l=r.indexOf(n,i);if(-1===l)return l;if(0===l||r.charCodeAt(l-1)<=32){const f=n.length;if(l+f===s||r.charCodeAt(l+f)<=32)return l}i=l+1}}const zi="ng-template";function Li(r,n,i){let s=0;for(;s<r.length;){let l=r[s++];if(i&&"class"===l){if(l=r[s],-1!==Ri(l.toLowerCase(),n,0))return!0}else if(1===l){for(;s<r.length&&"string"==typeof(l=r[s++]);)if(l.toLowerCase()===n)return!0;return!1}}return!1}function We(r){return 4===r.type&&r.value!==zi}function en(r,n,i){return n===(4!==r.type||i?r.value:zi)}function zn(r,n,i){let s=4;const l=r.attrs||[],f=function(r){for(let n=0;n<r.length;n++)if(Qx(r[n]))return n;return r.length}(l);let x=!1;for(let A=0;A<n.length;A++){const B=n[A];if("number"!=typeof B){if(!x)if(4&s){if(s=2|1&s,""!==B&&!en(r,B,i)||""===B&&1===n.length){if(ur(s))return!1;x=!0}}else{const q=8&s?B:n[++A];if(8&s&&null!==r.attrs){if(!Li(r.attrs,q,i)){if(ur(s))return!1;x=!0}continue}const Tt=Uo(8&s?"class":B,l,We(r),i);if(-1===Tt){if(ur(s))return!1;x=!0;continue}if(""!==q){let Wt;Wt=Tt>f?"":l[Tt+1].toLowerCase();const ne=8&s?Wt:null;if(ne&&-1!==Ri(ne,q,0)||2&s&&q!==Wt){if(ur(s))return!1;x=!0}}}}else{if(!x&&!ur(s)&&!ur(B))return!1;if(x&&ur(B))continue;x=!1,s=B|1&s}}return ur(s)||x}function ur(r){return 0==(1&r)}function Uo(r,n,i,s){if(null===n)return-1;let l=0;if(s||!i){let f=!1;for(;l<n.length;){const x=n[l];if(x===r)return l;if(3===x||6===x)f=!0;else{if(1===x||2===x){let A=n[++l];for(;"string"==typeof A;)A=n[++l];continue}if(4===x)break;if(0===x){l+=4;continue}}l+=f?1:2}return-1}return function(r,n){let i=r.indexOf(4);if(i>-1)for(i++;i<r.length;){const s=r[i];if("number"==typeof s)return-1;if(s===n)return i;i++}return-1}(n,r)}function Zr(r,n,i=!1){for(let s=0;s<n.length;s++)if(zn(r,n[s],i))return!0;return!1}function As(r,n){t:for(let i=0;i<n.length;i++){const s=n[i];if(r.length===s.length){for(let l=0;l<r.length;l++)if(r[l]!==s[l])continue t;return!0}}return!1}function Aa(r,n){return r?":not("+n.trim()+")":n}function _h(r){let n=r[0],i=1,s=2,l="",f=!1;for(;i<r.length;){let x=r[i];if("string"==typeof x)if(2&s){const A=r[++i];l+="["+x+(A.length>0?'="'+A+'"':"")+"]"}else 8&s?l+="."+x:4&s&&(l+=" "+x);else""!==l&&!ur(x)&&(n+=Aa(f,l),l=""),s=x,f=f||!ur(s);i++}return""!==l&&(n+=Aa(f,l)),n}const Kn={};function ki(r){Fc(Vr(),Ki(),Rl()+r,gp())}function Fc(r,n,i,s){if(!s)if(3==(3&n[2])){const f=r.preOrderCheckHooks;null!==f&&zh(n,f,i)}else{const f=r.preOrderHooks;null!==f&&gd(n,f,0,i)}jh(i)}function sl(r,n){return r<<17|n<<2}function al(r){return r>>17&32767}function Vc(r){return 2|r}function fa(r){return(131068&r)>>2}function ea(r,n){return-131069&r|n<<2}function Bl(r){return 1|r}function Nd(r,n){const i=r.contentQueries;if(null!==i)for(let s=0;s<i.length;s+=2){const l=i[s],f=i[s+1];if(-1!==f){const x=r.data[f];Im(l),x.contentQueries(2,n[f],f)}}}function ty(r,n,i,s,l,f,x,A,B,q){const vt=n.blueprint.slice();return vt[0]=l,vt[2]=140|s,Fs(vt),vt[3]=vt[15]=r,vt[8]=i,vt[10]=x||r&&r[10],vt[11]=A||r&&r[11],vt[12]=B||r&&r[12]||null,vt[9]=q||r&&r[9]||null,vt[6]=f,vt[16]=2==n.type?r[16]:vt,vt}function Vp(r,n,i,s,l){let f=r.data[n];if(null===f)f=function(r,n,i,s,l){const f=ks(),x=mp(),B=r.data[n]=function(r,n,i,s,l,f){return{type:i,index:s,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,x?f:f&&f.parent,i,n,s,l);return null===r.firstChild&&(r.firstChild=B),null!==f&&(x?null==f.child&&null!==B.parent&&(f.child=B):null===f.next&&(f.next=B)),B}(r,n,i,s,l),Tr.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=i,f.value=s,f.attrs=l;const x=function(){const r=Tr.lFrame,n=r.currentTNode;return r.isParent?n:n.parent}();f.injectorIndex=null===x?-1:x.injectorIndex}return Fh(f,!0),f}function cg(r,n,i,s){if(0===i)return-1;const l=n.length;for(let f=0;f<i;f++)n.push(s),r.blueprint.push(s),r.data.push(null);return l}function ey(r,n,i){vh(n);try{const s=r.viewQuery;null!==s&&Aw(1,s,i);const l=r.template;null!==l&&u_(r,n,l,1,i),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Nd(r,n),r.staticViewQueries&&Aw(2,r.viewQuery,i);const f=r.components;null!==f&&function(r,n){for(let i=0;i<n.length;i++)A2(r,n[i])}(n,f)}catch(s){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),s}finally{n[2]&=-5,ml()}}function fg(r,n,i,s){const l=n[2];if(256==(256&l))return;vh(n);const f=gp();try{Fs(n),function(r){Tr.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==i&&u_(r,n,i,2,s);const x=3==(3&l);if(!f)if(x){const q=r.preOrderCheckHooks;null!==q&&zh(n,q,null)}else{const q=r.preOrderHooks;null!==q&&gd(n,q,0,null),Mv(n,0)}if(function(r){for(let n=Gt(r);null!==n;n=Nt(n)){if(!n[2])continue;const i=n[9];for(let s=0;s<i.length;s++){const l=i[s],f=l[3];0==(1024&l[2])&&dd(f,1),l[2]|=1024}}}(n),function(r){for(let n=Gt(r);null!==n;n=Nt(n))for(let i=10;i<n.length;i++){const s=n[i],l=s[1];M0(s)&&fg(l,s,l.template,s[8])}}(n),null!==r.contentQueries&&Nd(r,n),!f)if(x){const q=r.contentCheckHooks;null!==q&&zh(n,q)}else{const q=r.contentHooks;null!==q&&gd(n,q,1),Mv(n,1)}!function(r,n){const i=r.hostBindingOpCodes;if(null!==i)try{for(let s=0;s<i.length;s++){const l=i[s];if(l<0)jh(~l);else{const f=l,x=i[++s],A=i[++s];Vh(x,f),A(2,n[f])}}}finally{jh(-1)}}(r,n);const A=r.components;null!==A&&function(r,n){for(let i=0;i<n.length;i++)q0(r,n[i])}(n,A);const B=r.viewQuery;if(null!==B&&Aw(2,B,s),!f)if(x){const q=r.viewCheckHooks;null!==q&&zh(n,q)}else{const q=r.viewHooks;null!==q&&gd(n,q,2),Mv(n,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),f||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,dd(n[3],-1))}finally{ml()}}function iy(r,n,i,s){const l=n[10],f=!gp(),x=Tm(n);try{f&&!x&&l.begin&&l.begin(),x&&ey(r,n,s),fg(r,n,i,s)}finally{f&&!x&&l.end&&l.end()}}function u_(r,n,i,s,l){const f=Rl(),x=2&s;try{jh(-1),x&&n.length>20&&Fc(r,n,20,gp()),i(s,l)}finally{jh(f)}}function c_(r,n,i){if(dv(n)){const l=n.directiveEnd;for(let f=n.directiveStart;f<l;f++){const x=r.data[f];x.contentQueries&&x.contentQueries(1,i[f],f)}}}function f_(r,n,i){!r1()||(function(r,n,i,s){const l=i.directiveStart,f=i.directiveEnd;r.firstCreatePass||Us(i,n),Yo(s,n);const x=i.initialInputs;for(let A=l;A<f;A++){const B=r.data[A],q=Lh(B);q&&E2(n,i,B);const vt=Wu(n,r,A,i);Yo(vt,n),null!==x&&Cw(0,A-l,vt,B,0,x),q&&(Il(i.index,n)[8]=vt)}}(r,n,i,wa(i,n)),128==(128&i.flags)&&function(r,n,i){const s=i.directiveStart,l=i.directiveEnd,x=i.index,A=Tr.lFrame.currentDirectiveIndex;try{jh(x);for(let B=s;B<l;B++){const q=r.data[B],vt=n[B];gh(B),(null!==q.hostBindings||0!==q.hostVars||null!==q.hostAttrs)&&_w(q,vt)}}finally{jh(-1),gh(A)}}(r,n,i))}function cr(r,n,i=wa){const s=n.localNames;if(null!==s){let l=n.index+1;for(let f=0;f<s.length;f+=2){const x=s[f+1],A=-1===x?i(n,r):r[x];r[l++]=A}}}function d_(r){const n=r.tView;return null===n||n.incompleteFirstPass?r.tView=ny(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):n}function ny(r,n,i,s,l,f,x,A,B,q){const vt=20+s,Tt=vt+l,Wt=function(r,n){const i=[];for(let s=0;s<n;s++)i.push(s<r?null:Kn);return i}(vt,Tt),ne="function"==typeof q?q():q;return Wt[1]={type:r,blueprint:Wt,template:i,queries:null,viewQuery:A,declTNode:n,data:Wt.slice().fill(null,vt),bindingStartIndex:vt,expandoStartIndex:Tt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof x?x():x,firstChild:null,schemas:B,consts:ne,incompleteFirstPass:!1}}function yw(r,n,i,s){const l=qh(n);null===i?l.push(s):(l.push(i),r.firstCreatePass&&ay(r).push(s,l.length-1))}function ps(r,n,i){for(let s in r)if(r.hasOwnProperty(s)){const l=r[s];(i=null===i?{}:i).hasOwnProperty(s)?i[s].push(n,l):i[s]=[n,l]}return i}function ih(r,n,i,s,l,f,x,A){const B=wa(n,i);let vt,q=n.inputs;!A&&null!=q&&(vt=q[s])?(dg(r,i,vt,s,l),So(n)&&function(r,n){const i=Il(n,r);16&i[2]||(i[2]|=64)}(i,n.index)):3&n.type&&(s=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(s),l=null!=x?x(l,n.value||"",s):l,Sr(f)?f.setProperty(B,s,l):Ev(s)||(B.setProperty?B.setProperty(s,l):B[s]=l))}function bw(r,n,i,s){let l=!1;if(r1()){const f=function(r,n,i){const s=r.directiveRegistry;let l=null;if(s)for(let f=0;f<s.length;f++){const x=s[f];Zr(i,x.selectors,!1)&&(l||(l=[]),Vm(Us(i,n),r,x.type),Lh(x)?(w_(r,i),l.unshift(x)):l.push(x))}return l}(r,n,i),x=null===s?null:{"":-1};if(null!==f){l=!0,is(i,r.data.length,f.length);for(let vt=0;vt<f.length;vt++){const Tt=f[vt];Tt.providersResolver&&Tt.providersResolver(Tt)}let A=!1,B=!1,q=cg(r,n,f.length,null);for(let vt=0;vt<f.length;vt++){const Tt=f[vt];i.mergedAttrs=kf(i.mergedAttrs,Tt.hostAttrs),b_(r,i,n,q,Tt),D2(q,Tt,x),null!==Tt.contentQueries&&(i.flags|=8),(null!==Tt.hostBindings||null!==Tt.hostAttrs||0!==Tt.hostVars)&&(i.flags|=128);const Wt=Tt.type.prototype;!A&&(Wt.ngOnChanges||Wt.ngOnInit||Wt.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(i.index),A=!0),!B&&(Wt.ngOnChanges||Wt.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(i.index),B=!0),q++}!function(r,n){const s=n.directiveEnd,l=r.data,f=n.attrs,x=[];let A=null,B=null;for(let q=n.directiveStart;q<s;q++){const vt=l[q],Tt=vt.inputs,Wt=null===f||We(n)?null:Ii(Tt,f);x.push(Wt),A=ps(Tt,q,A),B=ps(vt.outputs,q,B)}null!==A&&(A.hasOwnProperty("class")&&(n.flags|=16),A.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=x,n.inputs=A,n.outputs=B}(r,i)}x&&function(r,n,i){if(n){const s=r.localNames=[];for(let l=0;l<n.length;l+=2){const f=i[n[l+1]];if(null==f)throw new tl("301",`Export of name '${n[l+1]}' not found!`);s.push(n[l],f)}}}(i,s,x)}return i.mergedAttrs=kf(i.mergedAttrs,i.attrs),l}function v_(r,n,i,s,l,f){const x=f.hostBindings;if(x){let A=r.hostBindingOpCodes;null===A&&(A=r.hostBindingOpCodes=[]);const B=~n.index;(function(r){let n=r.length;for(;n>0;){const i=r[--n];if("number"==typeof i&&i<0)return i}return 0})(A)!=B&&A.push(B),A.push(s,l,x)}}function _w(r,n){null!==r.hostBindings&&r.hostBindings(1,n)}function w_(r,n){n.flags|=2,(r.components||(r.components=[])).push(n.index)}function D2(r,n,i){if(i){if(n.exportAs)for(let s=0;s<n.exportAs.length;s++)i[n.exportAs[s]]=r;Lh(n)&&(i[""]=r)}}function is(r,n,i){r.flags|=1,r.directiveStart=n,r.directiveEnd=n+i,r.providerIndexes=n}function b_(r,n,i,s,l){r.data[s]=l;const f=l.factory||(l.factory=fd(l.type)),x=new bc(f,Lh(l),null);r.blueprint[s]=x,i[s]=x,v_(r,n,0,s,cg(r,i,l.hostVars,Kn),l)}function E2(r,n,i){const s=wa(n,r),l=d_(i),f=r[10],x=jl(r,ty(r,l,null,i.onPush?64:16,s,n,f,f.createRenderer(s,i),null,null));r[n.index]=x}function jf(r,n,i,s,l,f){const x=wa(r,n);!function(r,n,i,s,l,f,x){if(null==f)Sr(r)?r.removeAttribute(n,l,i):n.removeAttribute(l);else{const A=null==x?_r(f):x(f,s||"",l);Sr(r)?r.setAttribute(n,l,A,i):i?n.setAttributeNS(i,l,A):n.setAttribute(l,A)}}(n[11],x,f,r.value,i,s,l)}function Cw(r,n,i,s,l,f){const x=f[n];if(null!==x){const A=s.setInput;for(let B=0;B<x.length;){const q=x[B++],vt=x[B++],Tt=x[B++];null!==A?s.setInput(i,Tt,q,vt):i[vt]=Tt}}}function Ii(r,n){let i=null,s=0;for(;s<n.length;){const l=n[s];if(0!==l)if(5!==l){if("number"==typeof l)break;r.hasOwnProperty(l)&&(null===i&&(i=[]),i.push(l,r[l],n[s+1])),s+=2}else s+=2;else s+=4}return i}function Sw(r,n,i,s){return new Array(r,!0,!1,n,null,0,s,i,null,null)}function q0(r,n){const i=Il(n,r);if(M0(i)){const s=i[1];80&i[2]?fg(s,i,s.template,i[8]):i[5]>0&&Dw(i)}}function Dw(r){for(let s=Gt(r);null!==s;s=Nt(s))for(let l=10;l<s.length;l++){const f=s[l];if(1024&f[2]){const x=f[1];fg(x,f,x.template,f[8])}else f[5]>0&&Dw(f)}const i=r[1].components;if(null!==i)for(let s=0;s<i.length;s++){const l=Il(i[s],r);M0(l)&&l[5]>0&&Dw(l)}}function A2(r,n){const i=Il(n,r),s=i[1];(function(r,n){for(let i=n.length;i<r.blueprint.length;i++)n.push(r.blueprint[i])})(s,i),ey(s,i,i[8])}function jl(r,n){return r[13]?r[14][4]=n:r[13]=n,r[14]=n,n}function sy(r){for(;r;){r[2]|=64;const n=Mt(r);if(hp(r)&&!n)return r;r=n}return null}function ia(r,n,i){const s=n[10];s.begin&&s.begin();try{fg(r,n,r.template,i)}catch(l){throw Tw(n,l),l}finally{s.end&&s.end()}}function T2(r){!function(r){for(let n=0;n<r.components.length;n++){const i=r.components[n],s=W0(i),l=s[1];iy(l,s,l.template,i)}}(r[8])}function Aw(r,n,i){Im(0),n(r,i)}const yu=(()=>Promise.resolve(null))();function qh(r){return r[7]||(r[7]=[])}function ay(r){return r.cleanup||(r.cleanup=[])}function R1(r,n,i){return(null===r||Lh(r))&&(i=function(r){for(;Array.isArray(r);){if("object"==typeof r[1])return r;r=r[0]}return null}(i[n.index])),i[11]}function Tw(r,n){const i=r[9],s=i?i.get(Kr,null):null;s&&s.handleError(n)}function dg(r,n,i,s,l){for(let f=0;f<i.length;){const x=i[f++],A=i[f++],B=n[x],q=r.data[x];null!==q.setInput?q.setInput(B,l,s,A):B[A]=l}}function zf(r,n,i){const s=mh(n,r);!function(r,n,i){Sr(r)?r.setValue(n,i):n.textContent=i}(r[11],s,i)}function go(r,n,i){let s=i?r.styles:null,l=i?r.classes:null,f=0;if(null!==n)for(let x=0;x<n.length;x++){const A=n[x];"number"==typeof A?f=A:1==f?l=_o(l,A):2==f&&(s=_o(s,A+": "+n[++x]+";"))}i?r.styles=s:r.stylesWithoutHost=s,i?r.classes=l:r.classesWithoutHost=l}const Mo=new pn("INJECTOR",-1);class __{get(n,i=_d){if(i===_d){const s=new Error(`NullInjectorError: No provider for ${En(n)}!`);throw s.name="NullInjectorError",s}return i}}const O1=new pn("Set Injector scope."),ly={},Pw={};let _n;function M_(){return void 0===_n&&(_n=new __),_n}function pg(r,n=null,i=null,s){return new Iw(r,i,n||M_(),s)}class Iw{constructor(n,i,s,l=null){this.parent=s,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];i&&Oi(i,A=>this.processProvider(A,n,i)),Oi([n],A=>this.processInjectorType(A,[],f)),this.records.set(Mo,mg(void 0,this));const x=this.records.get(O1);this.scope=null!=x?x.value:null,this.source=l||("object"==typeof n?null:En(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,i=_d,s=dr.Default){this.assertNotDestroyed();const l=Yh(this),f=mf(void 0);try{if(!(s&dr.SkipSelf)){let A=this.records.get(n);if(void 0===A){const B=("function"==typeof(r=n)||"object"==typeof r&&r instanceof pn)&&su(n);A=B&&this.injectableDefInScope(B)?mg(J0(n),ly):null,this.records.set(n,A)}if(null!=A)return this.hydrate(n,A)}return(s&dr.Self?M_():this.parent).get(n,i=s&dr.Optional&&i===_d?null:i)}catch(x){if("NullInjectorError"===x.name){if((x[Md]=x[Md]||[]).unshift(En(n)),l)throw x;return Cd(x,n,"R3InjectorError",this.source)}throw x}finally{mf(f),Yh(l)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((s,l)=>n.push(En(l))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,i,s){if(!(n=Un(n)))return!1;let l=xn(n);const f=null==l&&n.ngModule||void 0,x=void 0===f?n:f,A=-1!==s.indexOf(x);if(void 0!==f&&(l=xn(f)),null==l)return!1;if(null!=l.imports&&!A){let vt;s.push(x);try{Oi(l.imports,Tt=>{this.processInjectorType(Tt,i,s)&&(void 0===vt&&(vt=[]),vt.push(Tt))})}finally{}if(void 0!==vt)for(let Tt=0;Tt<vt.length;Tt++){const{ngModule:Wt,providers:ne}=vt[Tt];Oi(ne,ce=>this.processProvider(ce,Wt,ne||Wn))}}this.injectorDefTypes.add(x);const B=fd(x)||(()=>new x);this.records.set(x,mg(B,ly));const q=l.providers;if(null!=q&&!A){const vt=n;Oi(q,Tt=>this.processProvider(Tt,vt,q))}return void 0!==f&&void 0!==n.providers}processProvider(n,i,s){let l=Ld(n=Un(n))?n:Un(n&&n.provide);const f=(r=n,N1(r)?mg(void 0,r.useValue):mg(Rw(r),ly));var r;if(Ld(n)||!0!==n.multi)this.records.get(l);else{let x=this.records.get(l);x||(x=mg(void 0,ly,!0),x.factory=()=>Ic(x.multi),this.records.set(l,x)),l=n,x.multi.push(n)}this.records.set(l,f)}hydrate(n,i){return i.value===ly&&(i.value=Pw,i.value=i.factory()),"object"==typeof i.value&&i.value&&null!==(r=i.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(i.value),i.value;var r}injectableDefInScope(n){if(!n.providedIn)return!1;const i=Un(n.providedIn);return"string"==typeof i?"any"===i||i===this.scope:this.injectorDefTypes.has(i)}}function J0(r){const n=su(r),i=null!==n?n.factory:fd(r);if(null!==i)return i;if(r instanceof pn)throw new Error(`Token ${En(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const n=r.length;if(n>0){const s=Ys(n,"?");throw new Error(`Can't resolve all parameters for ${En(r)}: (${s.join(", ")}).`)}const i=function(r){const n=r&&(r[g0]||r[op]);if(n){const i=function(r){if(r.hasOwnProperty("name"))return r.name;const n=(""+r).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${i}" class.`),n}return null}(r);return null!==i?()=>i.factory(r):()=>new r}(r);throw new Error("unreachable")}function Rw(r,n,i){let s;if(Ld(r)){const l=Un(r);return fd(l)||J0(l)}if(N1(r))s=()=>Un(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))s=()=>r.useFactory(...Ic(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))s=()=>gi(Un(r.useExisting));else{const l=Un(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return fd(l)||J0(l);s=()=>new l(...Ic(r.deps))}return s}function mg(r,n,i=!1){return{factory:r,value:n,multi:i?[]:void 0}}function N1(r){return null!==r&&"object"==typeof r&&nl in r}function Ld(r){return"function"==typeof r}const C_=function(r,n,i){return function(r,n=null,i=null,s){const l=pg(r,n,i,s);return l._resolveInjectorDefTypes(),l}({name:i},n,r,i)};let Ro=(()=>{class r{static create(i,s){return Array.isArray(i)?C_(i,s,""):C_(i.providers,i.parent,i.name||"")}}return r.THROW_IF_NOT_FOUND=_d,r.NULL=new __,r.\u0275prov=Ji({token:r,providedIn:"any",factory:()=>gi(Mo)}),r.__NG_ELEMENT_ID__=-1,r})();function Ga(r,n){hu(W0(r)[1],Js())}function rr(r){let n=function(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),i=!0;const s=[r];for(;n;){let l;if(Lh(r))l=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");l=n.\u0275dir}if(l){if(i){s.push(l);const x=r;x.inputs=Fw(r.inputs),x.declaredInputs=Fw(r.declaredInputs),x.outputs=Fw(r.outputs);const A=l.hostBindings;A&&ND(r,A);const B=l.viewQuery,q=l.contentQueries;if(B&&G1(r,B),q&&T_(r,q),gr(r.inputs,l.inputs),gr(r.declaredInputs,l.declaredInputs),gr(r.outputs,l.outputs),Lh(l)&&l.data.animation){const vt=r.data;vt.animation=(vt.animation||[]).concat(l.data.animation)}}const f=l.features;if(f)for(let x=0;x<f.length;x++){const A=f[x];A&&A.ngInherit&&A(r),A===rr&&(i=!1)}}n=Object.getPrototypeOf(n)}!function(r){let n=0,i=null;for(let s=r.length-1;s>=0;s--){const l=r[s];l.hostVars=n+=l.hostVars,l.hostAttrs=kf(l.hostAttrs,i=kf(i,l.hostAttrs))}}(s)}function Fw(r){return r===La?{}:r===Wn?[]:r}function G1(r,n){const i=r.viewQuery;r.viewQuery=i?(s,l)=>{n(s,l),i(s,l)}:n}function T_(r,n){const i=r.contentQueries;r.contentQueries=i?(s,l,f)=>{n(s,l,f),i(s,l,f)}:n}function ND(r,n){const i=r.hostBindings;r.hostBindings=i?(s,l)=>{n(s,l),i(s,l)}:n}let W1=null;function vg(){if(!W1){const r=Gr.Symbol;if(r&&r.iterator)W1=r.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let i=0;i<n.length;++i){const s=n[i];"entries"!==s&&"size"!==s&&Map.prototype[s]===Map.prototype.entries&&(W1=s)}}}return W1}function my(r){return!!Bw(r)&&(Array.isArray(r)||!(r instanceof Map)&&vg()in r)}function Bw(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Qu(r,n,i){return r[n]=i}function Wa(r,n,i){return!Object.is(r[n],i)&&(r[n]=i,!0)}function yg(r,n,i,s){const l=Wa(r,n,i);return Wa(r,n+1,s)||l}function Ir(r,n,i,s){const l=Ki();return Wa(l,pd(),n)&&(Vr(),jf(Ko(),l,r,n,i,s)),Ir}function wg(r,n,i,s){return Wa(r,pd(),i)?n+_r(i)+s:Kn}function Gp(r,n,i,s,l,f){const A=yg(r,Tr.lFrame.bindingIndex,i,l);return xc(2),A?n+_r(i)+s+_r(l)+f:Kn}function Mn(r,n,i,s,l,f,x,A){const B=Ki(),q=Vr(),vt=r+20,Tt=q.firstCreatePass?function(r,n,i,s,l,f,x,A,B){const q=n.consts,vt=Vp(n,r,4,x||null,Mf(q,A));bw(n,i,vt,Mf(q,B)),hu(n,vt);const Tt=vt.tViews=ny(2,vt,s,l,f,n.directiveRegistry,n.pipeRegistry,null,n.schemas,q);return null!==n.queries&&(n.queries.template(n,vt),Tt.queries=n.queries.embeddedTView(vt)),vt}(vt,q,B,n,i,s,l,f,x):q.data[vt];Fh(Tt,!1);const Wt=B[11].createComment("");Mr(q,B,Wt,Tt),Yo(Wt,B),jl(B,B[vt]=Sw(Wt,B,Wt,Tt)),xf(Tt)&&f_(q,B,Tt),null!=x&&cr(B,Tt,A)}function tc(r){return pp(Tr.lFrame.contextLView,20+r)}function ye(r,n=dr.Default){const i=Ki();return null===i?gi(r,n):Cc(Js(),i,Un(r),n)}function im(){throw new Error("invalid")}function Pi(r,n,i){const s=Ki();return Wa(s,pd(),n)&&ih(Vr(),Ko(),s,r,n,s[11],i,!1),Pi}function Q1(r,n,i,s,l){const x=l?"class":"style";dg(r,i,n.inputs[x],x,s)}function Xe(r,n,i,s){const l=Ki(),f=Vr(),x=20+r,A=l[11],B=l[x]=He(A,n,Tr.lFrame.currentNamespace),q=f.firstCreatePass?function(r,n,i,s,l,f,x){const A=n.consts,q=Vp(n,r,2,l,Mf(A,f));return bw(n,i,q,Mf(A,x)),null!==q.attrs&&go(q,q.attrs,!1),null!==q.mergedAttrs&&go(q,q.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,q),q}(x,f,l,0,n,i,s):f.data[x];Fh(q,!0);const vt=q.mergedAttrs;null!==vt&&T0(A,B,vt);const Tt=q.classes;null!==Tt&&Pe(A,B,Tt);const Wt=q.styles;null!==Wt&&hi(A,B,Wt),64!=(64&q.flags)&&Mr(f,l,B,q),0===Tr.lFrame.elementDepthCount&&Yo(B,l),Tr.lFrame.elementDepthCount++,xf(q)&&(f_(f,l,q),c_(f,q,l)),null!==s&&cr(l,q)}function Ke(){let r=Js();mp()?Ee():(r=r.parent,Fh(r,!1));const n=r;Tr.lFrame.elementDepthCount--;const i=Vr();i.firstCreatePass&&(hu(i,r),dv(r)&&i.queries.elementEnd(r)),null!=n.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(n)&&Q1(i,n,Ki(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(n)&&Q1(i,n,Ki(),n.stylesWithoutHost,!1)}function An(r,n,i,s){Xe(r,n,i,s),Ke()}function Kp(r,n,i){const s=Ki(),l=Vr(),f=r+20,x=l.firstCreatePass?function(r,n,i,s,l){const f=n.consts,x=Mf(f,s),A=Vp(n,r,8,"ng-container",x);return null!==x&&go(A,x,!0),bw(n,i,A,Mf(f,l)),null!==n.queries&&n.queries.elementStart(n,A),A}(f,l,s,n,i):l.data[f];Fh(x,!0);const A=s[f]=s[11].createComment("");Mr(l,s,A,x),Yo(A,s),xf(x)&&(f_(l,s,x),c_(l,x,s)),null!=i&&cr(s,x)}function Wc(){let r=Js();const n=Vr();mp()?Ee():(r=r.parent,Fh(r,!1)),n.firstCreatePass&&(hu(n,r),dv(r)&&n.queries.elementEnd(r))}function Ya(){return Ki()}function nm(r){return!!r&&"function"==typeof r.then}function tx(r){return!!r&&"function"==typeof r.subscribe}const t=tx;function e(r,n,i,s){const l=Ki(),f=Vr(),x=Js();return h(f,l,l[11],x,r,n,!!i,s),e}function o(r,n){const i=Js(),s=Ki(),l=Vr();return h(l,s,R1(Df(l.data),i,s),i,r,n,!1),o}function h(r,n,i,s,l,f,x,A){const B=xf(s),vt=r.firstCreatePass&&ay(r),Tt=n[8],Wt=qh(n);let ne=!0;if(3&s.type||A){const Te=wa(s,n),ri=A?A(Te):Te,oi=Wt.length,ji=A?Zi=>A(xa(Zi[s.index])):s.index;if(Sr(i)){let Zi=null;if(!A&&B&&(Zi=function(r,n,i,s){const l=r.cleanup;if(null!=l)for(let f=0;f<l.length-1;f+=2){const x=l[f];if(x===i&&l[f+1]===s){const A=n[7],B=l[f+2];return A.length>B?A[B]:null}"string"==typeof x&&(f+=2)}return null}(r,n,l,s.index)),null!==Zi)(Zi.__ngLastListenerFn__||Zi).__ngNextListenerFn__=f,Zi.__ngLastListenerFn__=f,ne=!1;else{f=g(s,n,Tt,f,!1);const Di=i.listen(ri,l,f);Wt.push(f,Di),vt&&vt.push(l,ji,oi,oi+1)}}else f=g(s,n,Tt,f,!0),ri.addEventListener(l,f,x),Wt.push(f),vt&&vt.push(l,ji,oi,x)}else f=g(s,n,Tt,f,!1);const ce=s.outputs;let Ae;if(ne&&null!==ce&&(Ae=ce[l])){const Te=Ae.length;if(Te)for(let ri=0;ri<Te;ri+=2){const Vi=n[Ae[ri]][Ae[ri+1]].subscribe(f),Yi=Wt.length;Wt.push(f,Vi),vt&&vt.push(l,s.index,Yi,-(Yi+1))}}}function c(r,n,i,s){try{return!1!==i(s)}catch(l){return Tw(r,l),!1}}function g(r,n,i,s,l){return function f(x){if(x===Function)return s;const A=2&r.flags?Il(r.index,n):n;0==(32&n[2])&&sy(A);let B=c(n,0,s,x),q=f.__ngNextListenerFn__;for(;q;)B=c(n,0,q,x)&&B,q=q.__ngNextListenerFn__;return l&&!1===B&&(x.preventDefault(),x.returnValue=!1),B}}function _(r=1){return function(r){return(Tr.lFrame.contextLView=function(r,n){for(;r>0;)n=n[15],r--;return n}(r,Tr.lFrame.contextLView))[8]}(r)}function k(r,n){let i=null;const s=function(r){const n=r.attrs;if(null!=n){const i=n.indexOf(5);if(0==(1&i))return n[i+1]}return null}(r);for(let l=0;l<n.length;l++){const f=n[l];if("*"!==f){if(null===s?Zr(r,f,!0):As(s,f))return l}else i=l}return i}function P(r){const n=Ki()[16][6];if(!n.projection){const s=n.projection=Ys(r?r.length:1,null),l=s.slice();let f=n.child;for(;null!==f;){const x=r?k(f,r):0;null!==x&&(l[x]?l[x].projectionNext=f:s[x]=f,l[x]=f),f=f.next}}}function F(r,n=0,i){const s=Ki(),l=Vr(),f=Vp(l,20+r,16,null,i||null);null===f.projection&&(f.projection=n),Ee(),64!=(64&f.flags)&&function(r,n,i){To(n[11],0,n,i,yi(r,i,n),xi(i.parent||n[6],i,n))}(l,s,f)}function ui(r,n,i,s,l){const f=r[i+1],x=null===n;let A=s?al(f):fa(f),B=!1;for(;0!==A&&(!1===B||x);){const vt=r[A+1];Bi(r[A],n)&&(B=!0,r[A+1]=s?Bl(vt):Vc(vt)),A=s?al(vt):fa(vt)}B&&(r[i+1]=s?Vc(f):Bl(f))}function Bi(r,n){return null===r||null==n||(Array.isArray(r)?r[1]:r)===n||!(!Array.isArray(r)||"string"!=typeof n)&&Gh(r,n)>=0}const mi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ei(r){return r.substring(mi.key,mi.keyEnd)}function $n(r,n){const i=mi.textEnd;return i===n?-1:(n=mi.keyEnd=function(r,n,i){for(;n<i&&r.charCodeAt(n)>32;)n++;return n}(r,mi.key=n,i),Rr(r,n,i))}function Rr(r,n,i){for(;n<i&&r.charCodeAt(n)<=32;)n++;return n}function Dh(r,n,i){return Eh(r,n,i,!1),Dh}function Er(r,n){return Eh(r,n,null,!0),Er}function Qh(r,n){for(let i=function(r){return function(r){mi.key=0,mi.keyEnd=0,mi.value=0,mi.valueEnd=0,mi.textEnd=r.length}(r),$n(r,Rr(r,0,mi.textEnd))}(n);i>=0;i=$n(n,i))ha(r,ei(n),!0)}function Eh(r,n,i,s){const l=Ki(),f=Vr(),x=xc(2);f.firstUpdatePass&&ex(f,r,x,s),n!==Kn&&Wa(l,x,n)&&$c(f,f.data[Rl()],l,l[11],r,l[x+1]=function(r,n){return null==r||("string"==typeof n?r+=n:"object"==typeof r&&(r=En(Da(r)))),r}(n,i),s,x)}function _y(r,n){return n>=r.expandoStartIndex}function ex(r,n,i,s){const l=r.data;if(null===l[i+1]){const f=l[Rl()],x=_y(r,i);Xc(f,s)&&null===n&&!x&&(n=!1),n=function(r,n,i,s){const l=Df(r);let f=s?n.residualClasses:n.residualStyles;if(null===l)0===(s?n.classBindings:n.styleBindings)&&(i=Gf(i=ul(null,r,n,i,s),n.attrs,s),f=null);else{const x=n.directiveStylingLast;if(-1===x||r[x]!==l)if(i=ul(l,r,n,i,s),null===f){let B=function(r,n,i){const s=i?n.classBindings:n.styleBindings;if(0!==fa(s))return r[al(s)]}(r,n,s);void 0!==B&&Array.isArray(B)&&(B=ul(null,r,n,B[1],s),B=Gf(B,n.attrs,s),function(r,n,i,s){r[al(i?n.classBindings:n.styleBindings)]=s}(r,n,s,B))}else f=function(r,n,i){let s;const l=n.directiveEnd;for(let f=1+n.directiveStylingLast;f<l;f++)s=Gf(s,r[f].hostAttrs,i);return Gf(s,n.attrs,i)}(r,n,s)}return void 0!==f&&(s?n.residualClasses=f:n.residualStyles=f),i}(l,f,n,s),function(r,n,i,s,l,f){let x=f?n.classBindings:n.styleBindings,A=al(x),B=fa(x);r[s]=i;let vt,q=!1;if(Array.isArray(i)){const Tt=i;vt=Tt[1],(null===vt||Gh(Tt,vt)>0)&&(q=!0)}else vt=i;if(l)if(0!==B){const Wt=al(r[A+1]);r[s+1]=sl(Wt,A),0!==Wt&&(r[Wt+1]=ea(r[Wt+1],s)),r[A+1]=function(r,n){return 131071&r|n<<17}(r[A+1],s)}else r[s+1]=sl(A,0),0!==A&&(r[A+1]=ea(r[A+1],s)),A=s;else r[s+1]=sl(B,0),0===A?A=s:r[B+1]=ea(r[B+1],s),B=s;q&&(r[s+1]=Vc(r[s+1])),ui(r,vt,s,!0),ui(r,vt,s,!1),function(r,n,i,s,l){const f=l?r.residualClasses:r.residualStyles;null!=f&&"string"==typeof n&&Gh(f,n)>=0&&(i[s+1]=Bl(i[s+1]))}(n,vt,r,s,f),x=sl(A,B),f?n.classBindings=x:n.styleBindings=x}(l,f,n,i,x,s)}}function ul(r,n,i,s,l){let f=null;const x=i.directiveEnd;let A=i.directiveStylingLast;for(-1===A?A=i.directiveStart:A++;A<x&&(f=n[A],s=Gf(s,f.hostAttrs,l),f!==r);)A++;return null!==r&&(i.directiveStylingLast=A),s}function Gf(r,n,i){const s=i?1:2;let l=-1;if(null!==n)for(let f=0;f<n.length;f++){const x=n[f];"number"==typeof x?l=x:l===s&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),ha(r,x,!!i||n[++f]))}return void 0===r?null:r}function $c(r,n,i,s,l,f,x,A){if(!(3&n.type))return;const B=r.data,q=B[A+1];zd(function(r){return 1==(1&r)}(q)?om(B,n,i,l,fa(q),x):void 0)||(zd(f)||function(r){return 2==(2&r)}(q)&&(f=om(B,null,i,l,A,x)),function(r,n,i,s,l){const f=Sr(r);if(n)l?f?r.addClass(i,s):i.classList.add(s):f?r.removeClass(i,s):i.classList.remove(s);else{let x=-1===s.indexOf("-")?void 0:L.DashCase;if(null==l)f?r.removeStyle(i,s,x):i.style.removeProperty(s);else{const A="string"==typeof l&&l.endsWith("!important");A&&(l=l.slice(0,-10),x|=L.Important),f?r.setStyle(i,s,l,x):i.style.setProperty(s,l,A?"important":"")}}}(s,x,mh(Rl(),i),l,f))}function om(r,n,i,s,l,f){const x=null===n;let A;for(;l>0;){const B=r[l],q=Array.isArray(B),vt=q?B[1]:B,Tt=null===vt;let Wt=i[l+1];Wt===Kn&&(Wt=Tt?Wn:void 0);let ne=Tt?$s(Wt,s):vt===s?Wt:void 0;if(q&&!zd(ne)&&(ne=$s(B,s)),zd(ne)&&(A=ne,x))return A;const ce=r[l+1];l=x?al(ce):fa(ce)}if(null!==n){let B=f?n.residualClasses:n.residualStyles;null!=B&&(A=$s(B,s))}return A}function zd(r){return void 0!==r}function Xc(r,n){return 0!=(r.flags&(n?16:32))}function qi(r,n=""){const i=Ki(),s=Vr(),l=r+20,f=s.firstCreatePass?Vp(s,l,1,n,null):s.data[l],x=i[l]=function(r,n){return Sr(r)?r.createText(n):r.createTextNode(n)}(i[11],n);Mr(s,i,x,f),Fh(f,!1)}function _s(r){return pa("",r,""),_s}function pa(r,n,i){const s=Ki(),l=wg(s,r,n,i);return l!==Kn&&zf(s,Rl(),l),pa}function oh(r,n,i,s,l){const f=Ki(),x=Gp(f,r,n,i,s,l);return x!==Kn&&zf(f,Rl(),x),oh}function na(r,n,i){!function(r,n,i,s){const l=Vr(),f=xc(2);l.firstUpdatePass&&ex(l,null,f,s);const x=Ki();if(i!==Kn&&Wa(x,f,i)){const A=l.data[Rl()];if(Xc(A,s)&&!_y(l,f)){let B=s?A.classesWithoutHost:A.stylesWithoutHost;null!==B&&(i=_o(B,i||"")),Q1(l,A,x,i,s)}else!function(r,n,i,s,l,f,x,A){l===Kn&&(l=Wn);let B=0,q=0,vt=0<l.length?l[0]:null,Tt=0<f.length?f[0]:null;for(;null!==vt||null!==Tt;){const Wt=B<l.length?l[B+1]:void 0,ne=q<f.length?f[q+1]:void 0;let Ae,ce=null;vt===Tt?(B+=2,q+=2,Wt!==ne&&(ce=Tt,Ae=ne)):null===Tt||null!==vt&&vt<Tt?(B+=2,ce=vt):(q+=2,ce=Tt,Ae=ne),null!==ce&&$c(r,n,i,s,ce,Ae,x,A),vt=B<l.length?l[B]:null,Tt=q<f.length?f[q]:null}}(l,A,x,x[11],x[f+1],x[f+1]=function(r,n,i){if(null==i||""===i)return Wn;const s=[],l=Da(i);if(Array.isArray(l))for(let f=0;f<l.length;f++)r(s,l[f],!0);else if("object"==typeof l)for(const f in l)l.hasOwnProperty(f)&&r(s,f,l[f]);else"string"==typeof l&&n(s,l);return s}(r,n,i),s,f)}}(ha,Qh,wg(Ki(),r,n,i),!0)}function eu(r,n,i){const s=Ki();return Wa(s,pd(),n)&&ih(Vr(),Ko(),s,r,n,s[11],i,!0),eu}function Gd(r,n,i){const s=Ki();if(Wa(s,pd(),n)){const f=Vr(),x=Ko();ih(f,x,s,r,n,R1(Df(f.data),x,s),i,!0)}return Gd}const kh=void 0;var Jp=["en",[["a","p"],["AM","PM"],kh],[["AM","PM"],kh,kh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],kh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],kh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",kh,"{1} 'at' {0}",kh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const i=Math.floor(Math.abs(r)),s=r.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===s?1:5}];let Yf={};function qa(r){const n=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let i=nf(n);if(i)return i;const s=n.split("-")[0];if(i=nf(s),i)return i;if("en"===s)return Jp;throw new Error(`Missing locale data for the locale "${r}".`)}function nf(r){return r in Yf||(Yf[r]=Gr.ng&&Gr.ng.common&&Gr.ng.common.locales&&Gr.ng.common.locales[r]),Yf[r]}var wn=(()=>((wn=wn||{})[wn.LocaleId=0]="LocaleId",wn[wn.DayPeriodsFormat=1]="DayPeriodsFormat",wn[wn.DayPeriodsStandalone=2]="DayPeriodsStandalone",wn[wn.DaysFormat=3]="DaysFormat",wn[wn.DaysStandalone=4]="DaysStandalone",wn[wn.MonthsFormat=5]="MonthsFormat",wn[wn.MonthsStandalone=6]="MonthsStandalone",wn[wn.Eras=7]="Eras",wn[wn.FirstDayOfWeek=8]="FirstDayOfWeek",wn[wn.WeekendRange=9]="WeekendRange",wn[wn.DateFormat=10]="DateFormat",wn[wn.TimeFormat=11]="TimeFormat",wn[wn.DateTimeFormat=12]="DateTimeFormat",wn[wn.NumberSymbols=13]="NumberSymbols",wn[wn.NumberFormats=14]="NumberFormats",wn[wn.CurrencyCode=15]="CurrencyCode",wn[wn.CurrencySymbol=16]="CurrencySymbol",wn[wn.CurrencyName=17]="CurrencyName",wn[wn.Currencies=18]="Currencies",wn[wn.Directionality=19]="Directionality",wn[wn.PluralCase=20]="PluralCase",wn[wn.ExtraData=21]="ExtraData",wn))();const sm="en-US";let tC=sm;function GD(r,n,i,s,l){if(r=Un(r),Array.isArray(r))for(let f=0;f<r.length;f++)GD(r[f],n,i,s,l);else{const f=Vr(),x=Ki();let A=Ld(r)?r:Un(r.provide),B=Rw(r);const q=Js(),vt=1048575&q.providerIndexes,Tt=q.directiveStart,Wt=q.providerIndexes>>20;if(Ld(r)||!r.multi){const ne=new bc(B,l,ye),ce=YD(A,n,l?vt:vt+Wt,Tt);-1===ce?(Vm(Us(q,x),f,A),WD(f,r,n.length),n.push(A),q.directiveStart++,q.directiveEnd++,l&&(q.providerIndexes+=1048576),i.push(ne),x.push(ne)):(i[ce]=ne,x[ce]=ne)}else{const ne=YD(A,n,vt+Wt,Tt),ce=YD(A,n,vt,vt+Wt),Ae=ne>=0&&i[ne],Te=ce>=0&&i[ce];if(l&&!Te||!l&&!Ae){Vm(Us(q,x),f,A);const ri=function(r,n,i,s,l){const f=new bc(r,i,ye);return f.multi=[],f.index=n,f.componentProviders=0,P3(f,l,s&&!i),f}(l?jL:VL,i.length,l,s,B);!l&&Te&&(i[ce].providerFactory=ri),WD(f,r,n.length,0),n.push(A),q.directiveStart++,q.directiveEnd++,l&&(q.providerIndexes+=1048576),i.push(ri),x.push(ri)}else WD(f,r,ne>-1?ne:ce,P3(i[l?ce:ne],B,!l&&s));!l&&s&&Te&&i[ce].componentProviders++}}}function WD(r,n,i,s){const l=Ld(n);if(l||function(r){return!!r.useClass}(n)){const x=(n.useClass||n).prototype.ngOnDestroy;if(x){const A=r.destroyHooks||(r.destroyHooks=[]);if(!l&&n.multi){const B=A.indexOf(i);-1===B?A.push(i,[s,x]):A[B+1].push(s,x)}else A.push(i,x)}}}function P3(r,n,i){return i&&r.componentProviders++,r.multi.push(n)-1}function YD(r,n,i,s){for(let l=i;l<s;l++)if(n[l]===r)return l;return-1}function VL(r,n,i,s){return $D(this.multi,[])}function jL(r,n,i,s){const l=this.multi;let f;if(this.providerFactory){const x=this.providerFactory.componentProviders,A=Wu(i,i[1],this.providerFactory.index,s);f=A.slice(0,x),$D(l,f);for(let B=x;B<A.length;B++)f.push(A[B])}else f=[],$D(l,f);return f}function $D(r,n){for(let i=0;i<r.length;i++)n.push((0,r[i])());return n}function po(r,n=[]){return i=>{i.providersResolver=(s,l)=>function(r,n,i){const s=Vr();if(s.firstCreatePass){const l=Lh(r);GD(i,s.data,s.blueprint,l,!0),GD(n,s.data,s.blueprint,l,!1)}}(s,l?l(r):r,n)}}class I3{}const O3="ngComponent";class UL{resolveComponentFactory(n){throw function(r){const n=Error(`No component factory found for ${En(r)}. Did you add it to @NgModule.entryComponents?`);return n[O3]=r,n}(n)}}let Ng=(()=>{class r{}return r.NULL=new UL,r})();function oC(...r){}function rb(r,n){return new mr(wa(r,n))}const YL=function(){return rb(Js(),Ki())};let mr=(()=>{class r{constructor(i){this.nativeElement=i}}return r.__NG_ELEMENT_ID__=YL,r})();function N3(r){return r instanceof mr?r.nativeElement:r}class lx{}let Lg=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>XL(),r})();const XL=function(){const r=Ki(),i=Il(Js().index,r);return function(r){return r[11]}(Bu(i)?i:r)};let KD=(()=>{class r{}return r.\u0275prov=Ji({token:r,providedIn:"root",factory:()=>null}),r})();class ky{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const L3=new ky("13.0.0"),ob={};function sC(r,n,i,s,l=!1){for(;null!==i;){const f=n[i.index];if(null!==f&&s.push(xa(f)),ds(f))for(let A=10;A<f.length;A++){const B=f[A],q=B[1].firstChild;null!==q&&sC(B[1],B,q,s)}const x=i.type;if(8&x)sC(r,n,i.child,s);else if(32&x){const A=ht(i,n);let B;for(;B=A();)s.push(B)}else if(16&x){const A=Pn(n,i);if(Array.isArray(A))s.push(...A);else{const B=Mt(n[16]);sC(B[1],B,A,s,!0)}}i=l?i.projectionNext:i.next}return s}class G_{constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,i=n[1];return sC(i,n,i.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(ds(n)){const i=n[8],s=i?i.indexOf(this):-1;s>-1&&(Be(n,s),nr(i,s))}this._attachedToViewContainer=!1}wi(this._lView[1],this._lView)}onDestroy(n){yw(this._lView[1],this._lView,null,n)}markForCheck(){sy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ia(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,n,i){Sf(!0);try{ia(r,n,i)}finally{Sf(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,On(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class qL extends G_{constructor(n){super(n),this._view=n}detectChanges(){T2(this._view)}checkNoChanges(){!function(r){Sf(!0);try{T2(r)}finally{Sf(!1)}}(this._view)}get context(){return null}}class F3 extends Ng{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=fl(n);return new ZD(i,this.ngModule)}}function B3(r){const n=[];for(let i in r)r.hasOwnProperty(i)&&n.push({propName:r[i],templateName:i});return n}const QL=new pn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ta});class ZD extends I3{constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=n.selectors.map(_h).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}get inputs(){return B3(this.componentDef.inputs)}get outputs(){return B3(this.componentDef.outputs)}create(n,i,s,l){const f=(l=l||this.ngModule)?function(r,n){return{get:(i,s,l)=>{const f=r.get(i,ob,l);return f!==ob||s===ob?f:n.get(i,s,l)}}}(n,l.injector):n,x=f.get(lx,Rn),A=f.get(KD,null),B=x.createRenderer(null,this.componentDef),q=this.componentDef.selectors[0][0]||"div",vt=s?function(r,n,i){if(Sr(r))return r.selectRootElement(n,i===Is.ShadowDom);let s="string"==typeof n?r.querySelector(n):n;return s.textContent="",s}(B,s,this.componentDef.encapsulation):He(x.createRenderer(null,this.componentDef),q,function(r){const n=r.toLowerCase();return"svg"===n?yv:"math"===n?"http://www.w3.org/1998/MathML/":null}(q)),Tt=this.componentDef.onPush?576:528,Wt=function(r,n){return{components:[],scheduler:r||ta,clean:yu,playerHandler:n||null,flags:0}}(),ne=ny(0,null,null,1,0,null,null,null,null,null),ce=ty(null,ne,Wt,Tt,null,null,x,B,A,f);let Ae,Te;vh(ce);try{const ri=function(r,n,i,s,l,f){const x=i[1];i[20]=r;const B=Vp(x,20,2,"#host",null),q=B.mergedAttrs=n.hostAttrs;null!==q&&(go(B,q,!0),null!==r&&(T0(l,r,q),null!==B.classes&&Pe(l,r,B.classes),null!==B.styles&&hi(l,r,B.styles)));const vt=s.createRenderer(r,n),Tt=ty(i,d_(n),null,n.onPush?64:16,i[20],B,s,vt,f||null,null);return x.firstCreatePass&&(Vm(Us(B,i),x,n.type),w_(x,B),is(B,i.length,1)),jl(i,Tt),i[20]=Tt}(vt,this.componentDef,ce,x,B);if(vt)if(s)T0(B,vt,["ng-version",L3.full]);else{const{attrs:oi,classes:ji}=function(r){const n=[],i=[];let s=1,l=2;for(;s<r.length;){let f=r[s];if("string"==typeof f)2===l?""!==f&&n.push(f,r[++s]):8===l&&i.push(f);else{if(!ur(l))break;l=f}s++}return{attrs:n,classes:i}}(this.componentDef.selectors[0]);oi&&T0(B,vt,oi),ji&&ji.length>0&&Pe(B,vt,ji.join(" "))}if(Te=_0(ne,20),void 0!==i){const oi=Te.projection=[];for(let ji=0;ji<this.ngContentSelectors.length;ji++){const Zi=i[ji];oi.push(null!=Zi?Array.from(Zi):null)}}Ae=function(r,n,i,s,l){const f=i[1],x=function(r,n,i){const s=Js();r.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),b_(r,s,n,cg(r,n,1,null),i));const l=Wu(n,r,s.directiveStart,s);Yo(l,n);const f=wa(s,n);return f&&Yo(f,n),l}(f,i,n);if(s.components.push(x),r[8]=x,l&&l.forEach(B=>B(x,n)),n.contentQueries){const B=Js();n.contentQueries(1,x,B.directiveStart)}const A=Js();return!f.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(jh(A.index),v_(i[1],A,0,A.directiveStart,A.directiveEnd,n),_w(n,x)),x}(ri,this.componentDef,ce,Wt,[Ga]),ey(ne,ce,null)}finally{ml()}return new iF(this.componentType,Ae,rb(Te,ce),ce,Te)}}class iF extends class{}{constructor(n,i,s,l,f){super(),this.location=s,this._rootLView=l,this._tNode=f,this.instance=i,this.hostView=this.changeDetectorRef=new qL(l),this.componentType=n}get injector(){return new xd(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class lm{}class V3{}const sb=new Map;class z3 extends lm{constructor(n,i){super(),this._parent=i,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new F3(this);const s=Al(n);this._bootstrapComponents=d(s.bootstrap),this._r3Injector=pg(n,i,[{provide:lm,useValue:this},{provide:Ng,useValue:this.componentFactoryResolver}],En(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,i=Ro.THROW_IF_NOT_FOUND,s=dr.Default){return n===Ro||n===lm||n===Mo?this:this._r3Injector.get(n,i,s)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class JD extends V3{constructor(n){super(),this.moduleType=n,null!==Al(n)&&function(r){const n=new Set;!function i(s){const l=Al(s,!0),f=l.id;null!==f&&(function(r,n,i){if(n&&n!==i)throw new Error(`Duplicate module registered for ${r} - ${En(n)} vs ${En(n.name)}`)}(f,sb.get(f),s),sb.set(f,s));const x=d(l.imports);for(const A of x)n.has(A)||(n.add(A),i(A))}(r)}(n)}create(n){return new z3(this.moduleType,n)}}function W_(r,n){const i=r[n];return i===Kn?void 0:i}function U3(r,n,i,s,l,f){const x=n+i;return Wa(r,x,l)?Qu(r,x+1,f?s.call(f,l):s(l)):W_(r,x+1)}function hx(r,n){const i=Vr();let s;const l=r+20;i.firstCreatePass?(s=function(r,n){if(n)for(let i=n.length-1;i>=0;i--){const s=n[i];if(r===s.name)return s}throw new tl("302",`The pipe '${r}' could not be found!`)}(n,i.pipeRegistry),i.data[l]=s,s.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(l,s.onDestroy)):s=i.data[l];const f=s.factory||(s.factory=fd(s.type)),x=mf(ye);try{const A=Fm(!1),B=f();return Fm(A),function(r,n,i,s){i>=r.data.length&&(r.data[i]=null,r.blueprint[i]=null),n[i]=s}(i,Ki(),l,B),B}finally{mf(x)}}function ab(r,n,i){const s=r+20,l=Ki(),f=pp(l,s);return Y_(l,s)?U3(l,Jo(),n,f.transform,i,f):f.transform(i)}function X3(r,n,i,s){const l=r+20,f=Ki(),x=pp(f,l);return Y_(f,l)?function(r,n,i,s,l,f,x){const A=n+i;return yg(r,A,l,f)?Qu(r,A+2,x?s.call(x,l,f):s(l,f)):W_(r,A+2)}(f,Jo(),n,x.transform,i,s,x):x.transform(i,s)}function Y_(r,n){return r[1].data[n].pure}function QD(r){return n=>{setTimeout(r,void 0,n)}}const Sn=class extends C{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,s){var B,q,vt;let l=n,f=i||(()=>null),x=s;if(n&&"object"==typeof n){const Tt=n;l=null==(B=Tt.next)?void 0:B.bind(Tt),f=null==(q=Tt.error)?void 0:q.bind(Tt),x=null==(vt=Tt.complete)?void 0:vt.bind(Tt)}this.__isAsync&&(f=QD(f),l&&(l=QD(l)),x&&(x=QD(x)));const A=super.subscribe({next:l,error:f,complete:x});return n instanceof E&&n.add(A),A}};function xF(){return this._results[vg()]()}class ux{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=vg(),s=ux.prototype;s[i]||(s[i]=xF)}get changes(){return this._changes||(this._changes=new Sn)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const s=this;s.dirty=!1;const l=Ws(n);(this._changesDetected=!function(r,n,i){if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++){let l=r[s],f=n[s];if(i&&(l=i(l),f=i(f)),f!==l)return!1}return!0}(s._results,l,i))&&(s._results=l,s.length=l.length,s.last=l[this.length-1],s.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;const bF=function(){return aC(Js(),Ki())};let Kf=(()=>{class r{}return r.__NG_ELEMENT_ID__=bF,r})();const _F=Kf,MF=class extends _F{constructor(n,i,s){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=s}createEmbeddedView(n){const i=this._declarationTContainer.tViews,s=ty(this._declarationLView,i,n,16,null,i.declTNode,null,null,null,null);s[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(s[19]=f.createEmbeddedView(i)),ey(i,s,n),new G_(s)}};function aC(r,n){return 4&r.type?new MF(n,r,rb(r,n)):null}const DF=function(){return q3(Js(),Ki())};let Su=(()=>{class r{}return r.__NG_ELEMENT_ID__=DF,r})();const kF=Su,K3=class extends kF{constructor(n,i,s){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=s}get element(){return rb(this._hostTNode,this._hostLView)}get injector(){return new xd(this._hostTNode,this._hostLView)}get parentInjector(){const n=Mc(this._hostTNode,this._hostLView);if(Lm(n)){const i=Af(n,this._hostLView),s=lo(n);return new xd(i[1].data[s+8],i)}return new xd(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=Z3(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,i,s){const l=n.createEmbeddedView(i||{});return this.insert(l,s),l}createComponent(n,i,s,l,f){const x=n&&!("function"==typeof n);let A;if(x)A=i;else{const Tt=i||{};A=Tt.index,s=Tt.injector,l=Tt.projectableNodes,f=Tt.ngModuleRef}const B=x?n:new ZD(fl(n)),q=s||this.parentInjector;if(!f&&null==B.ngModule&&q){const Tt=q.get(lm,null);Tt&&(f=Tt)}const vt=B.create(q,l,void 0,f);return this.insert(vt.hostView,A),vt}insert(n,i){const s=n._lView,l=s[1];if(ds(s[3])){const vt=this.indexOf(n);if(-1!==vt)this.detach(vt);else{const Tt=s[3],Wt=new K3(Tt,Tt[6],Tt[3]);Wt.detach(Wt.indexOf(n))}}const f=this._adjustIndex(i),x=this._lContainer;!function(r,n,i,s){const l=10+s,f=i.length;s>0&&(i[l-1][4]=n),s<f-10?(n[4]=i[l],no(i,10+s,n)):(i.push(n),n[4]=null),n[3]=i;const x=n[17];null!==x&&i!==x&&function(r,n){const i=r[9];n[16]!==n[3][3][16]&&(r[2]=!0),null===i?r[9]=[n]:i.push(n)}(x,n);const A=n[19];null!==A&&A.insertView(r),n[2]|=128}(l,s,x,f);const A=yn(f,x),B=s[11],q=Gi(B,x[7]);return null!==q&&function(r,n,i,s,l,f){s[0]=l,s[6]=n,On(r,s,i,1,l,f)}(l,x[6],B,s,q,A),n.attachToViewContainerRef(),no(tE(x),f,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=Z3(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),s=Be(this._lContainer,i);s&&(nr(tE(this._lContainer),i),wi(s[1],s))}detach(n){const i=this._adjustIndex(n,-1),s=Be(this._lContainer,i);return s&&null!=nr(tE(this._lContainer),i)?new G_(s):null}_adjustIndex(n,i=0){return null==n?this.length+i:n}};function Z3(r){return r[8]}function tE(r){return r[8]||(r[8]=[])}function q3(r,n){let i;const s=n[r.index];if(ds(s))i=s;else{let l;if(8&r.type)l=xa(s);else{const f=n[11];l=f.createComment("");const x=wa(r,n);Ai(f,Gi(f,x),l,function(r,n){return Sr(r)?r.nextSibling(n):n.nextSibling}(f,x),!1)}n[r.index]=i=Sw(s,n,l,r),jl(n,i)}return new K3(i,r,n)}class eE{constructor(n){this.queryList=n,this.matches=null}clone(){return new eE(this.queryList)}setDirty(){this.queryList.setDirty()}}class iE{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const s=null!==n.contentQueries?n.contentQueries[0]:i.length,l=[];for(let f=0;f<s;f++){const x=i.getByIndex(f);l.push(this.queries[x.indexInDeclarationView].clone())}return new iE(l)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==iP(n,i).matches&&this.queries[i].setDirty()}}class J3{constructor(n,i,s=null){this.predicate=n,this.flags=i,this.read=s}}class nE{constructor(n=[]){this.queries=n}elementStart(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let s=0;s<this.length;s++){const l=null!==i?i.length:0,f=this.getByIndex(s).embeddedTView(n,l);f&&(f.indexInDeclarationView=s,null!==i?i.push(f):i=[f])}return null!==i?new nE(i):null}template(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class rE{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new rE(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let s=n.parent;for(;null!==s&&8&s.type&&s.index!==i;)s=s.parent;return i===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const s=this.metadata.predicate;if(Array.isArray(s))for(let l=0;l<s.length;l++){const f=s[l];this.matchTNodeWithReadOption(n,i,PF(i,f)),this.matchTNodeWithReadOption(n,i,Gs(i,n,f,!1,!1))}else s===Kf?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Gs(i,n,s,!1,!1))}matchTNodeWithReadOption(n,i,s){if(null!==s){const l=this.metadata.read;if(null!==l)if(l===mr||l===Su||l===Kf&&4&i.type)this.addMatch(i.index,-2);else{const f=Gs(i,n,l,!1,!1);null!==f&&this.addMatch(i.index,f)}else this.addMatch(i.index,s)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function PF(r,n){const i=r.localNames;if(null!==i)for(let s=0;s<i.length;s+=2)if(i[s]===n)return i[s+1];return null}function RF(r,n,i,s){return-1===i?function(r,n){return 11&r.type?rb(r,n):4&r.type?aC(r,n):null}(n,r):-2===i?function(r,n,i){return i===mr?rb(n,r):i===Kf?aC(n,r):i===Su?q3(n,r):void 0}(r,n,s):Wu(r,r[1],i,n)}function Q3(r,n,i,s){const l=n[19].queries[s];if(null===l.matches){const f=r.data,x=i.matches,A=[];for(let B=0;B<x.length;B+=2){const q=x[B];A.push(q<0?null:RF(n,f[q],x[B+1],i.metadata.read))}l.matches=A}return l.matches}function oE(r,n,i,s){const l=r.queries.getByIndex(i),f=l.matches;if(null!==f){const x=Q3(r,n,l,i);for(let A=0;A<f.length;A+=2){const B=f[A];if(B>0)s.push(x[A/2]);else{const q=f[A+1],vt=n[-B];for(let Tt=10;Tt<vt.length;Tt++){const Wt=vt[Tt];Wt[17]===Wt[3]&&oE(Wt[1],Wt,q,s)}if(null!==vt[9]){const Tt=vt[9];for(let Wt=0;Wt<Tt.length;Wt++){const ne=Tt[Wt];oE(ne[1],ne,q,s)}}}}}return s}function or(r){const n=Ki(),i=Vr(),s=vp();Im(s+1);const l=iP(i,s);if(r.dirty&&Tm(n)===(2==(2&l.metadata.flags))){if(null===l.matches)r.reset([]);else{const f=l.crossesNgTemplate?oE(i,n,s,[]):Q3(i,n,l,s);r.reset(f,N3),r.notifyOnChanges()}return!0}return!1}function Cs(r,n,i){const s=Vr();s.firstCreatePass&&(eP(s,new J3(r,n,i),-1),2==(2&n)&&(s.staticViewQueries=!0)),tP(s,Ki(),n)}function ms(r,n,i,s){const l=Vr();if(l.firstCreatePass){const f=Js();eP(l,new J3(n,i,s),f.index),function(r,n){const i=r.contentQueries||(r.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(r.queries.length-1,n)}(l,r),2==(2&i)&&(l.staticContentQueries=!0)}tP(l,Ki(),i)}function sr(){return r=Ki(),n=vp(),r[19].queries[n].queryList;var r,n}function tP(r,n,i){const s=new ux(4==(4&i));yw(r,n,s,s.destroy),null===n[19]&&(n[19]=new iE),n[19].queries.push(new eE(s))}function eP(r,n,i){null===r.queries&&(r.queries=new nE),r.queries.track(new rE(n,i))}function iP(r,n){return r.queries.getByIndex(n)}const X_=new pn("Application Initializer");let hb=(()=>{class r{constructor(i){this.appInits=i,this.resolve=oC,this.reject=oC,this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,l)=>{this.resolve=s,this.reject=l})}runInitializers(){if(this.initialized)return;const i=[],s=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const f=this.appInits[l]();if(nm(f))i.push(f);else if(t(f)){const x=new Promise((A,B)=>{f.subscribe({complete:A,error:B})});i.push(x)}}Promise.all(i).then(()=>{s()}).catch(l=>{this.reject(l)}),0===i.length&&s(),this.initialized=!0}}return r.\u0275fac=function(i){return new(i||r)(gi(X_,8))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})();const K_=new pn("AppId"),uB={provide:K_,useFactory:function(){return`${cE()}${cE()}${cE()}`},deps:[]};function cE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wP=new pn("Platform Initializer"),cx=new pn("Platform ID"),bP=new pn("appBootstrapListener");let uC=(()=>{class r{log(i){console.log(i)}warn(i){console.warn(i)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})();const Fg=new pn("LocaleId"),_P=new pn("DefaultCurrencyCode");class fB{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}const fE=function(r){return new JD(r)},dB=fE,pB=function(r){return Promise.resolve(fE(r))},CP=function(r){const n=fE(r),s=d(Al(r).declarations).reduce((l,f)=>{const x=fl(f);return x&&l.push(new ZD(x)),l},[]);return new fB(n,s)},mB=CP,gB=function(r){return Promise.resolve(CP(r))};let cC=(()=>{class r{constructor(){this.compileModuleSync=dB,this.compileModuleAsync=pB,this.compileModuleAndAllComponentsSync=mB,this.compileModuleAndAllComponentsAsync=gB}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})();const xB=(()=>Promise.resolve(0))();function dE(r){"undefined"==typeof Zone?xB.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Cr{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Sn(!1),this.onMicrotaskEmpty=new Sn(!1),this.onStable=new Sn(!1),this.onError=new Sn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!s&&i,l.shouldCoalesceRunChangeDetection=s,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){let r=Gr.requestAnimationFrame,n=Gr.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&n){const i=r[Zone.__symbol__("OriginalDelegate")];i&&(r=i);const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(r){const n=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Gr,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,mE(r),r.isCheckStableRunning=!0,pE(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),mE(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,s,l,f,x,A)=>{try{return SP(r),i.invokeTask(l,f,x,A)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||r.shouldCoalesceRunChangeDetection)&&n(),DP(r)}},onInvoke:(i,s,l,f,x,A,B)=>{try{return SP(r),i.invoke(l,f,x,A,B)}finally{r.shouldCoalesceRunChangeDetection&&n(),DP(r)}},onHasTask:(i,s,l,f)=>{i.hasTask(l,f),s===l&&("microTask"==f.change?(r._hasPendingMicrotasks=f.microTask,mE(r),pE(r)):"macroTask"==f.change&&(r.hasPendingMacrotasks=f.macroTask))},onHandleError:(i,s,l,f)=>(i.handleError(l,f),r.runOutsideAngular(()=>r.onError.emit(f)),!1)})}(l)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Cr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Cr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,i,s){return this._inner.run(n,i,s)}runTask(n,i,s,l){const f=this._inner,x=f.scheduleEventTask("NgZoneEvent: "+l,n,bB,oC,oC);try{return f.runTask(x,i,s)}finally{f.cancelTask(x)}}runGuarded(n,i,s){return this._inner.runGuarded(n,i,s)}runOutsideAngular(n){return this._outer.run(n)}}const bB={};function pE(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function mE(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function SP(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function DP(r){r._nesting--,pE(r)}class CB{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Sn,this.onMicrotaskEmpty=new Sn,this.onStable=new Sn,this.onError=new Sn}run(n,i,s){return n.apply(i,s)}runGuarded(n,i,s){return n.apply(i,s)}runOutsideAngular(n){return n()}runTask(n,i,s,l){return n.apply(i,s)}}let gE=(()=>{class r{constructor(i){this._ngZone=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Cr.assertNotInAngularZone(),dE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())dE(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(i)||(clearTimeout(s.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,s,l){let f=-1;s&&s>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(x=>x.timeoutId!==f),i(this._didWork,this.getPendingTasks())},s)),this._callbacks.push({doneCb:i,timeoutId:f,updateCb:l})}whenStable(i,s,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,s,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(i,s,l){return[]}}return r.\u0275fac=function(i){return new(i||r)(gi(Cr))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})(),EP=(()=>{class r{constructor(){this._applications=new Map,vE.addToWindow(this)}registerApplication(i,s){this._applications.set(i,s)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,s=!0){return vE.findTestabilityInTree(this,i,s)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})();class SB{addToWindow(n){}findTestabilityInTree(n,i,s){return null}}let vE=new SB,kP=!0,AP=!1;function yE(){return AP=!0,kP}let t0;const TP=new pn("AllowMultipleToken");class xE{constructor(n,i){this.name=n,this.token=i}}function PP(r,n,i=[]){const s=`Platform: ${n}`,l=new pn(s);return(f=[])=>{let x=IP();if(!x||x.injector.get(TP,!1))if(r)r(i.concat(f).concat({provide:l,useValue:!0}));else{const A=i.concat(f).concat({provide:l,useValue:!0},{provide:O1,useValue:"platform"});!function(r){if(t0&&!t0.destroyed&&!t0.injector.get(TP,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");t0=r.get(RP);const n=r.get(wP,null);n&&n.forEach(i=>i())}(Ro.create({providers:A,name:s}))}return function(r){const n=IP();if(!n)throw new Error("No platform exists!");if(!n.injector.get(r,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return n}(l)}}function IP(){return t0&&!t0.destroyed?t0:null}let RP=(()=>{class r{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,s){const A=function(r,n){let i;return i="noop"===r?new CB:("zone.js"===r?void 0:r)||new Cr({enableLongStackTrace:yE(),shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),i}(s?s.ngZone:void 0,{ngZoneEventCoalescing:s&&s.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:s&&s.ngZoneRunCoalescing||!1}),B=[{provide:Cr,useValue:A}];return A.run(()=>{const q=Ro.create({providers:B,parent:this.injector,name:i.moduleType.name}),vt=i.create(q),Tt=vt.injector.get(Kr,null);if(!Tt)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return A.runOutsideAngular(()=>{const Wt=A.onError.subscribe({next:ne=>{Tt.handleError(ne)}});vt.onDestroy(()=>{wE(this._modules,vt),Wt.unsubscribe()})}),function(r,n,i){try{const s=i();return nm(s)?s.catch(l=>{throw n.runOutsideAngular(()=>r.handleError(l)),l}):s}catch(s){throw n.runOutsideAngular(()=>r.handleError(s)),s}}(Tt,A,()=>{const Wt=vt.injector.get(hb);return Wt.runInitializers(),Wt.donePromise.then(()=>(function(r){os(r,"Expected localeId to be defined"),"string"==typeof r&&(tC=r.toLowerCase().replace(/_/g,"-"))}(vt.injector.get(Fg,sm)||sm),this._moduleDoBootstrap(vt),vt))})})}bootstrapModule(i,s=[]){const l=OP({},s);return function(r,n,i){const s=new JD(i);return Promise.resolve(s)}(0,0,i).then(f=>this.bootstrapModuleFactory(f,l))}_moduleDoBootstrap(i){const s=i.injector.get(fx);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(l=>s.bootstrap(l));else{if(!i.instance.ngDoBootstrap)throw new Error(`The module ${En(i.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);i.instance.ngDoBootstrap(s)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(i){return new(i||r)(gi(Ro))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})();function OP(r,n){return Array.isArray(n)?n.reduce(OP,r):Dn(Dn({},r),n)}let fx=(()=>{class r{constructor(i,s,l,f,x){this._zone=i,this._injector=s,this._exceptionHandler=l,this._componentFactoryResolver=f,this._initStatus=x,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const A=new y(q=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{q.next(this._stable),q.complete()})}),B=new y(q=>{let vt;this._zone.runOutsideAngular(()=>{vt=this._zone.onStable.subscribe(()=>{Cr.assertNotInAngularZone(),dE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,q.next(!0))})})});const Tt=this._zone.onUnstable.subscribe(()=>{Cr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{q.next(!1)}))});return()=>{vt.unsubscribe(),Tt.unsubscribe()}});this.isStable=br(A,B.pipe(Co()))}bootstrap(i,s){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let l;l=i instanceof I3?i:this._componentFactoryResolver.resolveComponentFactory(i),this.componentTypes.push(l.componentType);const f=function(r){return r.isBoundToModule}(l)?void 0:this._injector.get(lm),A=l.create(Ro.NULL,[],s||l.selector,f),B=A.location.nativeElement,q=A.injector.get(gE,null),vt=q&&A.injector.get(EP);return q&&vt&&vt.registerApplication(B,q),A.onDestroy(()=>{this.detachView(A.hostView),wE(this.components,A),vt&&vt.unregisterApplication(B)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(i))}finally{this._runningTick=!1}}attachView(i){const s=i;this._views.push(s),s.attachToAppRef(this)}detachView(i){const s=i;wE(this._views,s),s.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i),this._injector.get(bP,[]).concat(this._bootstrapListeners).forEach(l=>l(i))}ngOnDestroy(){this._views.slice().forEach(i=>i.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(i){return new(i||r)(gi(Cr),gi(Ro),gi(Kr),gi(Ng),gi(hb))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})();function wE(r,n){const i=r.indexOf(n);i>-1&&r.splice(i,1)}const jB=function(r){return function(r,n,i){if(So(r)&&!i){const s=Il(r.index,n);return new G_(s,s)}return 47&r.type?new G_(n[16],n):null}(Js(),Ki(),16==(16&r))};let ra=(()=>{class r{}return r.__NG_ELEMENT_ID__=jB,r})();class zP{constructor(){}supports(n){return my(n)}create(n){return new QB(n)}}const JB=(r,n)=>n;class QB{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||JB}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,s=this._removalsHead,l=0,f=null;for(;i||s;){const x=!s||i&&i.currentIndex<UP(s,l,f)?i:s,A=UP(x,l,f),B=x.currentIndex;if(x===s)l--,s=s._nextRemoved;else if(i=i._next,null==x.previousIndex)l++;else{f||(f=[]);const q=A-l,vt=B-l;if(q!=vt){for(let Wt=0;Wt<q;Wt++){const ne=Wt<f.length?f[Wt]:f[Wt]=0,ce=ne+Wt;vt<=ce&&ce<q&&(f[Wt]=ne+1)}f[x.previousIndex]=vt-q}}A!==B&&n(x,A,B)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!my(n))throw new Error(`Error trying to diff '${En(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let l,f,x,i=this._itHead,s=!1;if(Array.isArray(n)){this.length=n.length;for(let A=0;A<this.length;A++)f=n[A],x=this._trackByFn(A,f),null!==i&&Object.is(i.trackById,x)?(s&&(i=this._verifyReinsertion(i,f,x,A)),Object.is(i.item,f)||this._addIdentityChange(i,f)):(i=this._mismatch(i,f,x,A),s=!0),i=i._next}else l=0,function(r,n){if(Array.isArray(r))for(let i=0;i<r.length;i++)n(r[i]);else{const i=r[vg()]();let s;for(;!(s=i.next()).done;)n(s.value)}}(n,A=>{x=this._trackByFn(l,A),null!==i&&Object.is(i.trackById,x)?(s&&(i=this._verifyReinsertion(i,A,x,l)),Object.is(i.item,A)||this._addIdentityChange(i,A)):(i=this._mismatch(i,A,x,l),s=!0),i=i._next,l++}),this.length=l;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,s,l){let f;return null===n?f=this._itTail:(f=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,f,l)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(s,l))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,f,l)):n=this._addAfter(new t9(i,s),f,l),n}_verifyReinsertion(n,i,s,l){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==f?n=this._reinsertAfter(f,n._prev,l):n.currentIndex!=l&&(n.currentIndex=l,this._addToMoves(n,l)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const l=n._prevRemoved,f=n._nextRemoved;return null===l?this._removalsHead=f:l._nextRemoved=f,null===f?this._removalsTail=l:f._prevRemoved=l,this._insertAfter(n,i,s),this._addToMoves(n,s),n}_moveAfter(n,i,s){return this._unlink(n),this._insertAfter(n,i,s),this._addToMoves(n,s),n}_addAfter(n,i,s){return this._insertAfter(n,i,s),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,s){const l=null===i?this._itHead:i._next;return n._next=l,n._prev=i,null===l?this._itTail=n:l._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new HP),this._linkedRecords.put(n),n.currentIndex=s,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,s=n._next;return null===i?this._itHead=s:i._next=s,null===s?this._itTail=i:s._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new HP),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class t9{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class e9{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===i||i<=s.currentIndex)&&Object.is(s.trackById,n))return s;return null}remove(n){const i=n._prevDup,s=n._nextDup;return null===i?this._head=s:i._nextDup=s,null===s?this._tail=i:s._prevDup=i,null===this._head}}class HP{constructor(){this.map=new Map}put(n){const i=n.trackById;let s=this.map.get(i);s||(s=new e9,this.map.set(i,s)),s.add(n)}get(n,i){const l=this.map.get(n);return l?l.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function UP(r,n,i){const s=r.previousIndex;if(null===s)return s;let l=0;return i&&s<i.length&&(l=i[s]),s+n+l}class GP{constructor(){}supports(n){return n instanceof Map||Bw(n)}create(){return new i9}}class i9{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||Bw(n)))throw new Error(`Error trying to diff '${En(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(s,l)=>{if(i&&i.key===l)this._maybeAddToChanges(i,s),this._appendAfter=i,i=i._next;else{const f=this._getOrCreateRecordForKey(l,s);i=this._insertBeforeOrAppend(i,f)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let s=i;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const s=n._prev;return i._next=n,i._prev=s,n._prev=i,s&&(s._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const l=this._records.get(n);this._maybeAddToChanges(l,i);const f=l._prev,x=l._next;return f&&(f._next=x),x&&(x._prev=f),l._next=null,l._prev=null,l}const s=new n9(n);return this._records.set(n,s),s.currentValue=i,this._addToAdditions(s),s}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(s=>i(n[s],s))}}class n9{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function WP(){return new Z_([new zP])}let Z_=(()=>{class r{constructor(i){this.factories=i}static create(i,s){if(null!=s){const l=s.factories.slice();i=i.concat(l)}return new r(i)}static extend(i){return{provide:r,useFactory:s=>r.create(i,s||WP()),deps:[[r,new eh,new ls]]}}find(i){const s=this.factories.find(l=>l.supports(i));if(null!=s)return s;throw new Error(`Cannot find a differ supporting object '${i}' of type '${function(r){return r.name||typeof r}(i)}'`)}}return r.\u0275prov=Ji({token:r,providedIn:"root",factory:WP}),r})();function YP(){return new ub([new GP])}let ub=(()=>{class r{constructor(i){this.factories=i}static create(i,s){if(s){const l=s.factories.slice();i=i.concat(l)}return new r(i)}static extend(i){return{provide:r,useFactory:s=>r.create(i,s||YP()),deps:[[r,new eh,new ls]]}}find(i){const s=this.factories.find(l=>l.supports(i));if(s)return s;throw new Error(`Cannot find a differ supporting object '${i}'`)}}return r.\u0275prov=Ji({token:r,providedIn:"root",factory:YP}),r})();const o9=[new GP],a9=new Z_([new zP]),l9=new ub(o9),h9=PP(null,"core",[{provide:cx,useValue:"unknown"},{provide:RP,deps:[Ro]},{provide:EP,deps:[]},{provide:uC,deps:[]}]),p9=[{provide:fx,useClass:fx,deps:[Cr,Ro,Kr,Ng,hb]},{provide:QL,deps:[Cr],useFactory:function(r){let n=[];return r.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(i){n.push(i)}}},{provide:hb,useClass:hb,deps:[[new ls,X_]]},{provide:cC,useClass:cC,deps:[]},uB,{provide:Z_,useFactory:function(){return a9},deps:[]},{provide:ub,useFactory:function(){return l9},deps:[]},{provide:Fg,useFactory:function(r){return r||"undefined"!=typeof $localize&&$localize.locale||sm},deps:[[new Nl(Fg),new ls,new eh]]},{provide:_P,useValue:"USD"}];let g9=(()=>{class r{constructor(i){}}return r.\u0275fac=function(i){return new(i||r)(gi(fx))},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({providers:p9}),r})(),SC=null;function hm(){return SC}const zr=new pn("DocumentToken");let vx=(()=>{class r{historyGo(i){throw new Error("Not implemented")}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ji({token:r,factory:function(){return gi(P4)},providedIn:"platform"}),r})();const uV=new pn("Location Initialized");let P4=(()=>{class r extends vx{constructor(i){super(),this._doc=i,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hm().getBaseHref(this._doc)}onPopState(i){const s=hm().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",i,!1),()=>s.removeEventListener("popstate",i)}onHashChange(i){const s=hm().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",i,!1),()=>s.removeEventListener("hashchange",i)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(i){this.location.pathname=i}pushState(i,s,l){I4()?this._history.pushState(i,s,l):this.location.hash=l}replaceState(i,s,l){I4()?this._history.replaceState(i,s,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return r.\u0275fac=function(i){return new(i||r)(gi(zr))},r.\u0275prov=Ji({token:r,factory:function(){return new P4(gi(zr))},providedIn:"platform"}),r})();function I4(){return!!window.history.pushState}function XE(r,n){if(0==r.length)return n;if(0==n.length)return r;let i=0;return r.endsWith("/")&&i++,n.startsWith("/")&&i++,2==i?r+n.substring(1):1==i?r+n:r+"/"+n}function R4(r){const n=r.match(/#|\?|$/),i=n&&n.index||r.length;return r.slice(0,i-("/"===r[i-1]?1:0))+r.slice(i)}function Vg(r){return r&&"?"!==r[0]?"?"+r:r}let gb=(()=>{class r{historyGo(i){throw new Error("Not implemented")}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ji({token:r,factory:function(){return function(r){const n=gi(zr).location;return new O4(gi(vx),n&&n.origin||"")}()},providedIn:"root"}),r})();const KE=new pn("appBaseHref");let O4=(()=>{class r extends gb{constructor(i,s){if(super(),this._platformLocation=i,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return XE(this._baseHref,i)}path(i=!1){const s=this._platformLocation.pathname+Vg(this._platformLocation.search),l=this._platformLocation.hash;return l&&i?`${s}${l}`:s}pushState(i,s,l,f){const x=this.prepareExternalUrl(l+Vg(f));this._platformLocation.pushState(i,s,x)}replaceState(i,s,l,f){const x=this.prepareExternalUrl(l+Vg(f));this._platformLocation.replaceState(i,s,x)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var s,l;null==(l=(s=this._platformLocation).historyGo)||l.call(s,i)}}return r.\u0275fac=function(i){return new(i||r)(gi(vx),gi(KE,8))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})(),dV=(()=>{class r extends gb{constructor(i,s){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(i){const s=XE(this._baseHref,i);return s.length>0?"#"+s:s}pushState(i,s,l,f){let x=this.prepareExternalUrl(l+Vg(f));0==x.length&&(x=this._platformLocation.pathname),this._platformLocation.pushState(i,s,x)}replaceState(i,s,l,f){let x=this.prepareExternalUrl(l+Vg(f));0==x.length&&(x=this._platformLocation.pathname),this._platformLocation.replaceState(i,s,x)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var s,l;null==(l=(s=this._platformLocation).historyGo)||l.call(s,i)}}return r.\u0275fac=function(i){return new(i||r)(gi(vx),gi(KE,8))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})(),DC=(()=>{class r{constructor(i,s){this._subject=new Sn,this._urlChangeListeners=[],this._platformStrategy=i;const l=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=R4(N4(l)),this._platformStrategy.onPopState(f=>{this._subject.emit({url:this.path(!0),pop:!0,state:f.state,type:f.type})})}path(i=!1){return this.normalize(this._platformStrategy.path(i))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(i,s=""){return this.path()==this.normalize(i+Vg(s))}normalize(i){return r.stripTrailingSlash(function(r,n){return r&&n.startsWith(r)?n.substring(r.length):n}(this._baseHref,N4(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._platformStrategy.prepareExternalUrl(i)}go(i,s="",l=null){this._platformStrategy.pushState(l,"",i,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Vg(s)),l)}replaceState(i,s="",l=null){this._platformStrategy.replaceState(l,"",i,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Vg(s)),l)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(i=0){var s,l;null==(l=(s=this._platformStrategy).historyGo)||l.call(s,i)}onUrlChange(i){this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(i="",s){this._urlChangeListeners.forEach(l=>l(i,s))}subscribe(i,s,l){return this._subject.subscribe({next:i,error:s,complete:l})}}return r.normalizeQueryParams=Vg,r.joinWithSlash=XE,r.stripTrailingSlash=R4,r.\u0275fac=function(i){return new(i||r)(gi(gb),gi(vx))},r.\u0275prov=Ji({token:r,factory:function(){return new DC(gi(gb),gi(vx))},providedIn:"root"}),r})();function N4(r){return r.replace(/\/index.html$/,"")}var Gl=(()=>((Gl=Gl||{})[Gl.Zero=0]="Zero",Gl[Gl.One=1]="One",Gl[Gl.Two=2]="Two",Gl[Gl.Few=3]="Few",Gl[Gl.Many=4]="Many",Gl[Gl.Other=5]="Other",Gl))(),Cl=(()=>((Cl=Cl||{})[Cl.Format=0]="Format",Cl[Cl.Standalone=1]="Standalone",Cl))(),Fo=(()=>((Fo=Fo||{})[Fo.Narrow=0]="Narrow",Fo[Fo.Abbreviated=1]="Abbreviated",Fo[Fo.Wide=2]="Wide",Fo[Fo.Short=3]="Short",Fo))(),Qa=(()=>((Qa=Qa||{})[Qa.Short=0]="Short",Qa[Qa.Medium=1]="Medium",Qa[Qa.Long=2]="Long",Qa[Qa.Full=3]="Full",Qa))(),Br=(()=>((Br=Br||{})[Br.Decimal=0]="Decimal",Br[Br.Group=1]="Group",Br[Br.List=2]="List",Br[Br.PercentSign=3]="PercentSign",Br[Br.PlusSign=4]="PlusSign",Br[Br.MinusSign=5]="MinusSign",Br[Br.Exponential=6]="Exponential",Br[Br.SuperscriptingExponent=7]="SuperscriptingExponent",Br[Br.PerMille=8]="PerMille",Br[Br.Infinity=9]="Infinity",Br[Br.NaN=10]="NaN",Br[Br.TimeSeparator=11]="TimeSeparator",Br[Br.CurrencyDecimal=12]="CurrencyDecimal",Br[Br.CurrencyGroup=13]="CurrencyGroup",Br))();function EC(r,n){return Zd(qa(r)[wn.DateFormat],n)}function kC(r,n){return Zd(qa(r)[wn.TimeFormat],n)}function AC(r,n){return Zd(qa(r)[wn.DateTimeFormat],n)}function Kd(r,n){const i=qa(r),s=i[wn.NumberSymbols][n];if(void 0===s){if(n===Br.CurrencyDecimal)return i[wn.NumberSymbols][Br.Decimal];if(n===Br.CurrencyGroup)return i[wn.NumberSymbols][Br.Group]}return s}const _V=function(r){return qa(r)[wn.PluralCase]};function F4(r){if(!r[wn.ExtraData])throw new Error(`Missing extra locale data for the locale "${r[wn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Zd(r,n){for(let i=n;i>-1;i--)if(void 0!==r[i])return r[i];throw new Error("Locale data API: locale data undefined")}function qE(r){const[n,i]=r.split(":");return{hours:+n,minutes:+i}}const kV=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,lM={},AV=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var lh=(()=>((lh=lh||{})[lh.Short=0]="Short",lh[lh.ShortGMT=1]="ShortGMT",lh[lh.Long=2]="Long",lh[lh.Extended=3]="Extended",lh))(),Hr=(()=>((Hr=Hr||{})[Hr.FullYear=0]="FullYear",Hr[Hr.Month=1]="Month",Hr[Hr.Date=2]="Date",Hr[Hr.Hours=3]="Hours",Hr[Hr.Minutes=4]="Minutes",Hr[Hr.Seconds=5]="Seconds",Hr[Hr.FractionalSeconds=6]="FractionalSeconds",Hr[Hr.Day=7]="Day",Hr))(),bo=(()=>((bo=bo||{})[bo.DayPeriods=0]="DayPeriods",bo[bo.Days=1]="Days",bo[bo.Months=2]="Months",bo[bo.Eras=3]="Eras",bo))();function TV(r,n,i,s){let l=function(r){if(j4(r))return r;if("number"==typeof r&&!isNaN(r))return new Date(r);if("string"==typeof r){if(r=r.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(r)){const[l,f=1,x=1]=r.split("-").map(A=>+A);return TC(l,f-1,x)}const i=parseFloat(r);if(!isNaN(r-i))return new Date(i);let s;if(s=r.match(kV))return function(r){const n=new Date(0);let i=0,s=0;const l=r[8]?n.setUTCFullYear:n.setFullYear,f=r[8]?n.setUTCHours:n.setHours;r[9]&&(i=Number(r[9]+r[10]),s=Number(r[9]+r[11])),l.call(n,Number(r[1]),Number(r[2])-1,Number(r[3]));const x=Number(r[4]||0)-i,A=Number(r[5]||0)-s,B=Number(r[6]||0),q=Math.floor(1e3*parseFloat("0."+(r[7]||0)));return f.call(n,x,A,B,q),n}(s)}const n=new Date(r);if(!j4(n))throw new Error(`Unable to convert "${r}" into a date`);return n}(r);n=jg(i,n)||n;let A,x=[];for(;n;){if(A=AV.exec(n),!A){x.push(n);break}{x=x.concat(A.slice(1));const vt=x.pop();if(!vt)break;n=vt}}let B=l.getTimezoneOffset();s&&(B=V4(s,B),l=function(r,n,i){const l=r.getTimezoneOffset();return function(r,n){return(r=new Date(r.getTime())).setMinutes(r.getMinutes()+n),r}(r,-1*(V4(n,l)-l))}(l,s));let q="";return x.forEach(vt=>{const Tt=function(r){if(QE[r])return QE[r];let n;switch(r){case"G":case"GG":case"GGG":n=oa(bo.Eras,Fo.Abbreviated);break;case"GGGG":n=oa(bo.Eras,Fo.Wide);break;case"GGGGG":n=oa(bo.Eras,Fo.Narrow);break;case"y":n=Wl(Hr.FullYear,1,0,!1,!0);break;case"yy":n=Wl(Hr.FullYear,2,0,!0,!0);break;case"yyy":n=Wl(Hr.FullYear,3,0,!1,!0);break;case"yyyy":n=Wl(Hr.FullYear,4,0,!1,!0);break;case"Y":n=OC(1);break;case"YY":n=OC(2,!0);break;case"YYY":n=OC(3);break;case"YYYY":n=OC(4);break;case"M":case"L":n=Wl(Hr.Month,1,1);break;case"MM":case"LL":n=Wl(Hr.Month,2,1);break;case"MMM":n=oa(bo.Months,Fo.Abbreviated);break;case"MMMM":n=oa(bo.Months,Fo.Wide);break;case"MMMMM":n=oa(bo.Months,Fo.Narrow);break;case"LLL":n=oa(bo.Months,Fo.Abbreviated,Cl.Standalone);break;case"LLLL":n=oa(bo.Months,Fo.Wide,Cl.Standalone);break;case"LLLLL":n=oa(bo.Months,Fo.Narrow,Cl.Standalone);break;case"w":n=JE(1);break;case"ww":n=JE(2);break;case"W":n=JE(1,!0);break;case"d":n=Wl(Hr.Date,1);break;case"dd":n=Wl(Hr.Date,2);break;case"c":case"cc":n=Wl(Hr.Day,1);break;case"ccc":n=oa(bo.Days,Fo.Abbreviated,Cl.Standalone);break;case"cccc":n=oa(bo.Days,Fo.Wide,Cl.Standalone);break;case"ccccc":n=oa(bo.Days,Fo.Narrow,Cl.Standalone);break;case"cccccc":n=oa(bo.Days,Fo.Short,Cl.Standalone);break;case"E":case"EE":case"EEE":n=oa(bo.Days,Fo.Abbreviated);break;case"EEEE":n=oa(bo.Days,Fo.Wide);break;case"EEEEE":n=oa(bo.Days,Fo.Narrow);break;case"EEEEEE":n=oa(bo.Days,Fo.Short);break;case"a":case"aa":case"aaa":n=oa(bo.DayPeriods,Fo.Abbreviated);break;case"aaaa":n=oa(bo.DayPeriods,Fo.Wide);break;case"aaaaa":n=oa(bo.DayPeriods,Fo.Narrow);break;case"b":case"bb":case"bbb":n=oa(bo.DayPeriods,Fo.Abbreviated,Cl.Standalone,!0);break;case"bbbb":n=oa(bo.DayPeriods,Fo.Wide,Cl.Standalone,!0);break;case"bbbbb":n=oa(bo.DayPeriods,Fo.Narrow,Cl.Standalone,!0);break;case"B":case"BB":case"BBB":n=oa(bo.DayPeriods,Fo.Abbreviated,Cl.Format,!0);break;case"BBBB":n=oa(bo.DayPeriods,Fo.Wide,Cl.Format,!0);break;case"BBBBB":n=oa(bo.DayPeriods,Fo.Narrow,Cl.Format,!0);break;case"h":n=Wl(Hr.Hours,1,-12);break;case"hh":n=Wl(Hr.Hours,2,-12);break;case"H":n=Wl(Hr.Hours,1);break;case"HH":n=Wl(Hr.Hours,2);break;case"m":n=Wl(Hr.Minutes,1);break;case"mm":n=Wl(Hr.Minutes,2);break;case"s":n=Wl(Hr.Seconds,1);break;case"ss":n=Wl(Hr.Seconds,2);break;case"S":n=Wl(Hr.FractionalSeconds,1);break;case"SS":n=Wl(Hr.FractionalSeconds,2);break;case"SSS":n=Wl(Hr.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=IC(lh.Short);break;case"ZZZZZ":n=IC(lh.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=IC(lh.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=IC(lh.Long);break;default:return null}return QE[r]=n,n}(vt);q+=Tt?Tt(l,i,B):"''"===vt?"'":vt.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),q}function TC(r,n,i){const s=new Date(0);return s.setFullYear(r,n,i),s.setHours(0,0,0),s}function jg(r,n){const i=function(r){return qa(r)[wn.LocaleId]}(r);if(lM[i]=lM[i]||{},lM[i][n])return lM[i][n];let s="";switch(n){case"shortDate":s=EC(r,Qa.Short);break;case"mediumDate":s=EC(r,Qa.Medium);break;case"longDate":s=EC(r,Qa.Long);break;case"fullDate":s=EC(r,Qa.Full);break;case"shortTime":s=kC(r,Qa.Short);break;case"mediumTime":s=kC(r,Qa.Medium);break;case"longTime":s=kC(r,Qa.Long);break;case"fullTime":s=kC(r,Qa.Full);break;case"short":const l=jg(r,"shortTime"),f=jg(r,"shortDate");s=PC(AC(r,Qa.Short),[l,f]);break;case"medium":const x=jg(r,"mediumTime"),A=jg(r,"mediumDate");s=PC(AC(r,Qa.Medium),[x,A]);break;case"long":const B=jg(r,"longTime"),q=jg(r,"longDate");s=PC(AC(r,Qa.Long),[B,q]);break;case"full":const vt=jg(r,"fullTime"),Tt=jg(r,"fullDate");s=PC(AC(r,Qa.Full),[vt,Tt])}return s&&(lM[i][n]=s),s}function PC(r,n){return n&&(r=r.replace(/\{([^}]+)}/g,function(i,s){return null!=n&&s in n?n[s]:i})),r}function s0(r,n,i="-",s,l){let f="";(r<0||l&&r<=0)&&(l?r=1-r:(r=-r,f=i));let x=String(r);for(;x.length<n;)x="0"+x;return s&&(x=x.substr(x.length-n)),f+x}function Wl(r,n,i=0,s=!1,l=!1){return function(f,x){let A=function(r,n){switch(r){case Hr.FullYear:return n.getFullYear();case Hr.Month:return n.getMonth();case Hr.Date:return n.getDate();case Hr.Hours:return n.getHours();case Hr.Minutes:return n.getMinutes();case Hr.Seconds:return n.getSeconds();case Hr.FractionalSeconds:return n.getMilliseconds();case Hr.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${r}".`)}}(r,f);if((i>0||A>-i)&&(A+=i),r===Hr.Hours)0===A&&-12===i&&(A=12);else if(r===Hr.FractionalSeconds)return function(r,n){return s0(r,3).substr(0,n)}(A,n);const B=Kd(x,Br.MinusSign);return s0(A,n,B,s,l)}}function oa(r,n,i=Cl.Format,s=!1){return function(l,f){return function(r,n,i,s,l,f){switch(i){case bo.Months:return function(r,n,i){const s=qa(r),f=Zd([s[wn.MonthsFormat],s[wn.MonthsStandalone]],n);return Zd(f,i)}(n,l,s)[r.getMonth()];case bo.Days:return function(r,n,i){const s=qa(r),f=Zd([s[wn.DaysFormat],s[wn.DaysStandalone]],n);return Zd(f,i)}(n,l,s)[r.getDay()];case bo.DayPeriods:const x=r.getHours(),A=r.getMinutes();if(f){const q=function(r){const n=qa(r);return F4(n),(n[wn.ExtraData][2]||[]).map(s=>"string"==typeof s?qE(s):[qE(s[0]),qE(s[1])])}(n),vt=function(r,n,i){const s=qa(r);F4(s);const f=Zd([s[wn.ExtraData][0],s[wn.ExtraData][1]],n)||[];return Zd(f,i)||[]}(n,l,s),Tt=q.findIndex(Wt=>{if(Array.isArray(Wt)){const[ne,ce]=Wt,Ae=x>=ne.hours&&A>=ne.minutes,Te=x<ce.hours||x===ce.hours&&A<ce.minutes;if(ne.hours<ce.hours){if(Ae&&Te)return!0}else if(Ae||Te)return!0}else if(Wt.hours===x&&Wt.minutes===A)return!0;return!1});if(-1!==Tt)return vt[Tt]}return function(r,n,i){const s=qa(r),f=Zd([s[wn.DayPeriodsFormat],s[wn.DayPeriodsStandalone]],n);return Zd(f,i)}(n,l,s)[x<12?0:1];case bo.Eras:return function(r,n){return Zd(qa(r)[wn.Eras],n)}(n,s)[r.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${i}`)}}(l,f,r,n,i,s)}}function IC(r){return function(n,i,s){const l=-1*s,f=Kd(i,Br.MinusSign),x=l>0?Math.floor(l/60):Math.ceil(l/60);switch(r){case lh.Short:return(l>=0?"+":"")+s0(x,2,f)+s0(Math.abs(l%60),2,f);case lh.ShortGMT:return"GMT"+(l>=0?"+":"")+s0(x,1,f);case lh.Long:return"GMT"+(l>=0?"+":"")+s0(x,2,f)+":"+s0(Math.abs(l%60),2,f);case lh.Extended:return 0===s?"Z":(l>=0?"+":"")+s0(x,2,f)+":"+s0(Math.abs(l%60),2,f);default:throw new Error(`Unknown zone width "${r}"`)}}}function B4(r){return TC(r.getFullYear(),r.getMonth(),r.getDate()+(4-r.getDay()))}function JE(r,n=!1){return function(i,s){let l;if(n){const f=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,x=i.getDate();l=1+Math.floor((x+f)/7)}else{const f=B4(i),x=function(r){const n=TC(r,0,1).getDay();return TC(r,0,1+(n<=4?4:11)-n)}(f.getFullYear()),A=f.getTime()-x.getTime();l=1+Math.round(A/6048e5)}return s0(l,r,Kd(s,Br.MinusSign))}}function OC(r,n=!1){return function(i,s){return s0(B4(i).getFullYear(),r,Kd(s,Br.MinusSign),n)}}const QE={};function V4(r,n){r=r.replace(/:/g,"");const i=Date.parse("Jan 01, 1970 00:00:00 "+r)/6e4;return isNaN(i)?n:i}function j4(r){return r instanceof Date&&!isNaN(r.valueOf())}class LC{}let qV=(()=>{class r extends LC{constructor(i){super(),this.locale=i}getPluralCategory(i,s){switch(_V(s||this.locale)(i)){case Gl.Zero:return"zero";case Gl.One:return"one";case Gl.Two:return"two";case Gl.Few:return"few";case Gl.Many:return"many";default:return"other"}}}return r.\u0275fac=function(i){return new(i||r)(gi(Fg))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})();function G4(r,n){n=encodeURIComponent(n);for(const i of r.split(";")){const s=i.indexOf("="),[l,f]=-1==s?[i,""]:[i.slice(0,s),i.slice(s+1)];if(l.trim()===n)return decodeURIComponent(f)}return null}let uM=(()=>{class r{constructor(i,s,l,f){this._iterableDiffers=i,this._keyValueDiffers=s,this._ngEl=l,this._renderer=f,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(i){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof i?i.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(i){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof i?i.split(/\s+/):i,this._rawClass&&(my(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const i=this._iterableDiffer.diff(this._rawClass);i&&this._applyIterableChanges(i)}else if(this._keyValueDiffer){const i=this._keyValueDiffer.diff(this._rawClass);i&&this._applyKeyValueChanges(i)}}_applyKeyValueChanges(i){i.forEachAddedItem(s=>this._toggleClass(s.key,s.currentValue)),i.forEachChangedItem(s=>this._toggleClass(s.key,s.currentValue)),i.forEachRemovedItem(s=>{s.previousValue&&this._toggleClass(s.key,!1)})}_applyIterableChanges(i){i.forEachAddedItem(s=>{if("string"!=typeof s.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${En(s.item)}`);this._toggleClass(s.item,!0)}),i.forEachRemovedItem(s=>this._toggleClass(s.item,!1))}_applyClasses(i){i&&(Array.isArray(i)||i instanceof Set?i.forEach(s=>this._toggleClass(s,!0)):Object.keys(i).forEach(s=>this._toggleClass(s,!!i[s])))}_removeClasses(i){i&&(Array.isArray(i)||i instanceof Set?i.forEach(s=>this._toggleClass(s,!1)):Object.keys(i).forEach(s=>this._toggleClass(s,!1)))}_toggleClass(i,s){(i=i.trim())&&i.split(/\s+/g).forEach(l=>{s?this._renderer.addClass(this._ngEl.nativeElement,l):this._renderer.removeClass(this._ngEl.nativeElement,l)})}}return r.\u0275fac=function(i){return new(i||r)(ye(Z_),ye(ub),ye(mr),ye(Lg))},r.\u0275dir=dn({type:r,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),r})();class QV{constructor(n,i,s,l){this.$implicit=n,this.ngForOf=i,this.index=s,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zg=(()=>{class r{constructor(i,s,l){this._viewContainer=i,this._template=s,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;if(!this._differ&&i)try{this._differ=this._differs.find(i).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${i}' of type '${function(r){return r.name||typeof r}(i)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const s=[];i.forEachOperation((l,f,x)=>{if(null==l.previousIndex){const A=this._viewContainer.createEmbeddedView(this._template,new QV(null,this._ngForOf,-1,-1),null===x?void 0:x),B=new W4(l,A);s.push(B)}else if(null==x)this._viewContainer.remove(null===f?void 0:f);else if(null!==f){const A=this._viewContainer.get(f);this._viewContainer.move(A,x);const B=new W4(l,A);s.push(B)}});for(let l=0;l<s.length;l++)this._perViewChange(s[l].view,s[l].record);for(let l=0,f=this._viewContainer.length;l<f;l++){const x=this._viewContainer.get(l);x.context.index=l,x.context.count=f,x.context.ngForOf=this._ngForOf}i.forEachIdentityChange(l=>{this._viewContainer.get(l.currentIndex).context.$implicit=l.item})}_perViewChange(i,s){i.context.$implicit=s.item}static ngTemplateContextGuard(i,s){return!0}}return r.\u0275fac=function(i){return new(i||r)(ye(Su),ye(Kf),ye(Z_))},r.\u0275dir=dn({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),r})();class W4{constructor(n,i){this.record=n,this.view=i}}let ku=(()=>{class r{constructor(i,s){this._viewContainer=i,this._context=new ej,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Y4("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Y4("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,s){return!0}}return r.\u0275fac=function(i){return new(i||r)(ye(Su),ye(Kf))},r.\u0275dir=dn({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),r})();class ej{constructor(){this.$implicit=null,this.ngIf=null}}function Y4(r,n){if(n&&!n.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${En(n)}'.`)}class rk{constructor(n,i){this._viewContainerRef=n,this._templateRef=i,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let vb=(()=>{class r{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(i){this._ngSwitch=i,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(i){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(i)}_matchCase(i){const s=i==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||s,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),s}_updateDefaultCases(i){if(this._defaultViews&&i!==this._defaultUsed){this._defaultUsed=i;for(let s=0;s<this._defaultViews.length;s++)this._defaultViews[s].enforceState(i)}}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=dn({type:r,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),r})(),FC=(()=>{class r{constructor(i,s,l){this.ngSwitch=l,l._addCase(),this._view=new rk(i,s)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return r.\u0275fac=function(i){return new(i||r)(ye(Su),ye(Kf),ye(vb,9))},r.\u0275dir=dn({type:r,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),r})(),$4=(()=>{class r{constructor(i,s,l){l._addDefault(new rk(i,s))}}return r.\u0275fac=function(i){return new(i||r)(ye(Su),ye(Kf),ye(vb,9))},r.\u0275dir=dn({type:r,selectors:[["","ngSwitchDefault",""]]}),r})(),K4=(()=>{class r{constructor(i,s,l){this._ngEl=i,this._differs=s,this._renderer=l,this._ngStyle=null,this._differ=null}set ngStyle(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}ngDoCheck(){if(this._differ){const i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}_setStyle(i,s){const[l,f]=i.split(".");null!=(s=null!=s&&f?`${s}${f}`:s)?this._renderer.setStyle(this._ngEl.nativeElement,l,s):this._renderer.removeStyle(this._ngEl.nativeElement,l)}_applyChanges(i){i.forEachRemovedItem(s=>this._setStyle(s.key,null)),i.forEachAddedItem(s=>this._setStyle(s.key,s.currentValue)),i.forEachChangedItem(s=>this._setStyle(s.key,s.currentValue))}}return r.\u0275fac=function(i){return new(i||r)(ye(mr),ye(ub),ye(Lg))},r.\u0275dir=dn({type:r,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),r})();function a0(r,n){return Error(`InvalidPipeArgument: '${n}' for pipe '${En(r)}'`)}class rj{createSubscription(n,i){return n.subscribe({next:i,error:s=>{throw s}})}dispose(n){n.unsubscribe()}onDestroy(n){n.unsubscribe()}}class oj{createSubscription(n,i){return n.then(i,s=>{throw s})}dispose(n){}onDestroy(n){}}const sj=new oj,aj=new rj;let ok=(()=>{class r{constructor(i){this._ref=i,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(i){return this._obj?i!==this._obj?(this._dispose(),this.transform(i)):this._latestValue:(i&&this._subscribe(i),this._latestValue)}_subscribe(i){this._obj=i,this._strategy=this._selectStrategy(i),this._subscription=this._strategy.createSubscription(i,s=>this._updateLatestValue(i,s))}_selectStrategy(i){if(nm(i))return sj;if(tx(i))return aj;throw a0(r,i)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(i,s){i===this._obj&&(this._latestValue=s,this._ref.markForCheck())}}return r.\u0275fac=function(i){return new(i||r)(ye(ra,16))},r.\u0275pipe=ya({name:"async",type:r,pure:!1}),r})();const fj=new pn("DATE_PIPE_DEFAULT_TIMEZONE");let Z4=(()=>{class r{constructor(i,s){this.locale=i,this.defaultTimezone=s}transform(i,s="mediumDate",l,f){var x;if(null==i||""===i||i!=i)return null;try{return TV(i,s,f||this.locale,null!=(x=null!=l?l:this.defaultTimezone)?x:void 0)}catch(A){throw a0(r,A.message)}}}return r.\u0275fac=function(i){return new(i||r)(ye(Fg,16),ye(fj,24))},r.\u0275pipe=ya({name:"date",type:r,pure:!0}),r})(),l0=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({providers:[{provide:LC,useClass:qV}]}),r})();const J4="browser";function yb(r){return r===J4}let Dj=(()=>{class r{}return r.\u0275prov=Ji({token:r,providedIn:"root",factory:()=>new Ej(gi(zr),window)}),r})();class Ej{constructor(n,i){this.document=n,this.window=i,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const i=function(r,n){const i=r.getElementById(n)||r.getElementsByName(n)[0];if(i)return i;if("function"==typeof r.createTreeWalker&&r.body&&(r.body.createShadowRoot||r.body.attachShadow)){const s=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let l=s.currentNode;for(;l;){const f=l.shadowRoot;if(f){const x=f.getElementById(n)||f.querySelector(`[name="${n}"]`);if(x)return x}l=s.nextNode()}}return null}(this.document,n);i&&(this.scrollToElement(i),this.attemptFocus(i))}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const i=this.window.history;i&&i.scrollRestoration&&(i.scrollRestoration=n)}}scrollToElement(n){const i=n.getBoundingClientRect(),s=i.left+this.window.pageXOffset,l=i.top+this.window.pageYOffset,f=this.offset();this.window.scrollTo(s-f[0],l-f[1])}attemptFocus(n){return n.focus(),this.document.activeElement===n}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=Q4(this.window.history)||Q4(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function Q4(r){return Object.getOwnPropertyDescriptor(r,"scrollRestoration")}class tI{}class lk extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var r;r=new lk,SC||(SC=r)}onAndCancel(n,i,s){return n.addEventListener(i,s,!1),()=>{n.removeEventListener(i,s,!1)}}dispatchEvent(n,i){n.dispatchEvent(i)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,i){return(i=i||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,i){return"window"===i?window:"document"===i?n:"body"===i?n.body:null}getBaseHref(n){const i=(cM=cM||document.querySelector("base"),cM?cM.getAttribute("href"):null);return null==i?null:function(r){BC=BC||document.createElement("a"),BC.setAttribute("href",r);const n=BC.pathname;return"/"===n.charAt(0)?n:`/${n}`}(i)}resetBaseElement(){cM=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return G4(document.cookie,n)}}let BC,cM=null;const eI=new pn("TRANSITION_ID"),Rj=[{provide:X_,useFactory:function(r,n,i){return()=>{i.get(hb).donePromise.then(()=>{const s=hm(),l=n.querySelectorAll(`style[ng-transition="${r}"]`);for(let f=0;f<l.length;f++)s.remove(l[f])})}},deps:[eI,zr,Ro],multi:!0}];class hk{static init(){var r;r=new hk,vE=r}addToWindow(n){Gr.getAngularTestability=(s,l=!0)=>{const f=n.findTestabilityInTree(s,l);if(null==f)throw new Error("Could not find testability for element.");return f},Gr.getAllAngularTestabilities=()=>n.getAllTestabilities(),Gr.getAllAngularRootElements=()=>n.getAllRootElements(),Gr.frameworkStabilizers||(Gr.frameworkStabilizers=[]),Gr.frameworkStabilizers.push(s=>{const l=Gr.getAllAngularTestabilities();let f=l.length,x=!1;const A=function(B){x=x||B,f--,0==f&&s(x)};l.forEach(function(B){B.whenStable(A)})})}findTestabilityInTree(n,i,s){if(null==i)return null;const l=n.getTestability(i);return null!=l?l:s?hm().isShadowRoot(i)?this.findTestabilityInTree(n,i.host,!0):this.findTestabilityInTree(n,i.parentElement,!0):null}}let Oj=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})();const fM=new pn("EventManagerPlugins");let jC=(()=>{class r{constructor(i,s){this._zone=s,this._eventNameToPlugin=new Map,i.forEach(l=>l.manager=this),this._plugins=i.slice().reverse()}addEventListener(i,s,l){return this._findPluginFor(s).addEventListener(i,s,l)}addGlobalEventListener(i,s,l){return this._findPluginFor(s).addGlobalEventListener(i,s,l)}getZone(){return this._zone}_findPluginFor(i){const s=this._eventNameToPlugin.get(i);if(s)return s;const l=this._plugins;for(let f=0;f<l.length;f++){const x=l[f];if(x.supports(i))return this._eventNameToPlugin.set(i,x),x}throw new Error(`No event manager plugin found for event ${i}`)}}return r.\u0275fac=function(i){return new(i||r)(gi(fM),gi(Cr))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})();class uk{constructor(n){this._doc=n}addGlobalEventListener(n,i,s){const l=hm().getGlobalEventTarget(this._doc,n);if(!l)throw new Error(`Unsupported event target ${l} for event ${i}`);return this.addEventListener(l,i,s)}}let nI=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(i){const s=new Set;i.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),s.add(l))}),this.onStylesAdded(s)}onStylesAdded(i){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})(),dM=(()=>{class r extends nI{constructor(i){super(),this._doc=i,this._hostNodes=new Map,this._hostNodes.set(i.head,[])}_addStylesToHost(i,s,l){i.forEach(f=>{const x=this._doc.createElement("style");x.textContent=f,l.push(s.appendChild(x))})}addHost(i){const s=[];this._addStylesToHost(this._stylesSet,i,s),this._hostNodes.set(i,s)}removeHost(i){const s=this._hostNodes.get(i);s&&s.forEach(rI),this._hostNodes.delete(i)}onStylesAdded(i){this._hostNodes.forEach((s,l)=>{this._addStylesToHost(i,l,s)})}ngOnDestroy(){this._hostNodes.forEach(i=>i.forEach(rI))}}return r.\u0275fac=function(i){return new(i||r)(gi(zr))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})();function rI(r){hm().remove(r)}const ck={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},fk=/%COMP%/g;function zC(r,n,i){for(let s=0;s<n.length;s++){let l=n[s];Array.isArray(l)?zC(r,l,i):(l=l.replace(fk,r),i.push(l))}return i}function aI(r){return n=>{if("__ngUnwrap__"===n)return r;!1===r(n)&&(n.preventDefault(),n.returnValue=!1)}}let HC=(()=>{class r{constructor(i,s,l){this.eventManager=i,this.sharedStylesHost=s,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new dk(i)}createRenderer(i,s){if(!i||!s)return this.defaultRenderer;switch(s.encapsulation){case Is.Emulated:{let l=this.rendererByCompId.get(s.id);return l||(l=new Kj(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,l)),l.applyToHost(i),l}case 1:case Is.ShadowDom:return new Zj(this.eventManager,this.sharedStylesHost,i,s);default:if(!this.rendererByCompId.has(s.id)){const l=zC(s.id,s.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(i){return new(i||r)(gi(jC),gi(dM),gi(K_))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})();class dk{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,i){return i?document.createElementNS(ck[i]||i,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,i){n.appendChild(i)}insertBefore(n,i,s){n&&n.insertBefore(i,s)}removeChild(n,i){n&&n.removeChild(i)}selectRootElement(n,i){let s="string"==typeof n?document.querySelector(n):n;if(!s)throw new Error(`The selector "${n}" did not match any elements`);return i||(s.textContent=""),s}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,i,s,l){if(l){i=l+":"+i;const f=ck[l];f?n.setAttributeNS(f,i,s):n.setAttribute(i,s)}else n.setAttribute(i,s)}removeAttribute(n,i,s){if(s){const l=ck[s];l?n.removeAttributeNS(l,i):n.removeAttribute(`${s}:${i}`)}else n.removeAttribute(i)}addClass(n,i){n.classList.add(i)}removeClass(n,i){n.classList.remove(i)}setStyle(n,i,s,l){l&(L.DashCase|L.Important)?n.style.setProperty(i,s,l&L.Important?"important":""):n.style[i]=s}removeStyle(n,i,s){s&L.DashCase?n.style.removeProperty(i):n.style[i]=""}setProperty(n,i,s){n[i]=s}setValue(n,i){n.nodeValue=i}listen(n,i,s){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,i,aI(s)):this.eventManager.addEventListener(n,i,aI(s))}}class Kj extends dk{constructor(n,i,s,l){super(n),this.component=s;const f=zC(l+"-"+s.id,s.styles,[]);i.addStyles(f),this.contentAttr="_ngcontent-%COMP%".replace(fk,l+"-"+s.id),this.hostAttr="_nghost-%COMP%".replace(fk,l+"-"+s.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,i){const s=super.createElement(n,i);return super.setAttribute(s,this.contentAttr,""),s}}class Zj extends dk{constructor(n,i,s,l){super(n),this.sharedStylesHost=i,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=zC(l.id,l.styles,[]);for(let x=0;x<f.length;x++){const A=document.createElement("style");A.textContent=f[x],this.shadowRoot.appendChild(A)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,i){return super.appendChild(this.nodeOrShadowRoot(n),i)}insertBefore(n,i,s){return super.insertBefore(this.nodeOrShadowRoot(n),i,s)}removeChild(n,i){return super.removeChild(this.nodeOrShadowRoot(n),i)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let qj=(()=>{class r extends uk{constructor(i){super(i)}supports(i){return!0}addEventListener(i,s,l){return i.addEventListener(s,l,!1),()=>this.removeEventListener(i,s,l)}removeEventListener(i,s,l){return i.removeEventListener(s,l)}}return r.\u0275fac=function(i){return new(i||r)(gi(zr))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})();const uI=["alt","control","meta","shift"],rz={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cI={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},oz={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let sz=(()=>{class r extends uk{constructor(i){super(i)}supports(i){return null!=r.parseEventName(i)}addEventListener(i,s,l){const f=r.parseEventName(s),x=r.eventCallback(f.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hm().onAndCancel(i,f.domEventName,x))}static parseEventName(i){const s=i.toLowerCase().split("."),l=s.shift();if(0===s.length||"keydown"!==l&&"keyup"!==l)return null;const f=r._normalizeKey(s.pop());let x="";if(uI.forEach(B=>{const q=s.indexOf(B);q>-1&&(s.splice(q,1),x+=B+".")}),x+=f,0!=s.length||0===f.length)return null;const A={};return A.domEventName=l,A.fullKey=x,A}static getEventFullKey(i){let s="",l=function(r){let n=r.key;if(null==n){if(n=r.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===r.location&&cI.hasOwnProperty(n)&&(n=cI[n]))}return rz[n]||n}(i);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),uI.forEach(f=>{f!=l&&oz[f](i)&&(s+=f+".")}),s+=l,s}static eventCallback(i,s,l){return f=>{r.getEventFullKey(f)===i&&l.runGuarded(()=>s(f))}}static _normalizeKey(i){return"esc"===i?"escape":i}}return r.\u0275fac=function(i){return new(i||r)(gi(zr))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})(),Py=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ji({token:r,factory:function(i){let s=null;return s=i?new(i||r):gi(mk),s},providedIn:"root"}),r})(),mk=(()=>{class r extends Py{constructor(i){super(),this._doc=i}sanitize(i,s){if(null==s)return null;switch(i){case Dr.NONE:return s;case Dr.HTML:return mu(s,"HTML")?Da(s):lw(this._doc,String(s)).toString();case Dr.STYLE:return mu(s,"Style")?Da(s):s;case Dr.SCRIPT:if(mu(s,"Script"))return Da(s);throw new Error("unsafe value used in a script context");case Dr.URL:return es(s),mu(s,"URL")?Da(s):z0(String(s));case Dr.RESOURCE_URL:if(mu(s,"ResourceURL"))return Da(s);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${i} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(i){return function(r){return new Oc(r)}(i)}bypassSecurityTrustStyle(i){return function(r){return new Ku(r)}(i)}bypassSecurityTrustScript(i){return function(r){return new Zu(r)}(i)}bypassSecurityTrustUrl(i){return function(r){return new Sa(r)}(i)}bypassSecurityTrustResourceUrl(i){return function(r){return new qu(r)}(i)}}return r.\u0275fac=function(i){return new(i||r)(gi(zr))},r.\u0275prov=Ji({token:r,factory:function(i){let s=null;return s=i?new i:function(r){return new mk(r.get(zr))}(gi(Ro)),s},providedIn:"root"}),r})();const pz=PP(h9,"browser",[{provide:cx,useValue:J4},{provide:wP,useValue:function(){lk.makeCurrent(),hk.init()},multi:!0},{provide:zr,useFactory:function(){return r=document,Ao=r,document;var r},deps:[]}]),mz=[[],{provide:O1,useValue:"root"},{provide:Kr,useFactory:function(){return new Kr},deps:[]},{provide:fM,useClass:qj,multi:!0,deps:[zr,Cr,cx]},{provide:fM,useClass:sz,multi:!0,deps:[zr]},[],{provide:HC,useClass:HC,deps:[jC,dM,K_]},{provide:lx,useExisting:HC},{provide:nI,useExisting:dM},{provide:dM,useClass:dM,deps:[zr]},{provide:gE,useClass:gE,deps:[Cr]},{provide:jC,useClass:jC,deps:[fM,Cr]},{provide:tI,useClass:Oj,deps:[]},[]];let fI=(()=>{class r{constructor(i){if(i)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(i){return{ngModule:r,providers:[{provide:K_,useValue:i.appId},{provide:eI,useExisting:K_},Rj]}}}return r.\u0275fac=function(i){return new(i||r)(gi(r,12))},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({providers:mz,imports:[l0,g9]}),r})();function Jr(r){return null!=r&&"false"!=`${r}`}function Ry(r,n=0){return function(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}(r)?Number(r):n}function UC(r){return Array.isArray(r)?r:[r]}function Yl(r){return null==r?"":"string"==typeof r?r:`${r}px`}function Hg(r){return r instanceof mr?r.nativeElement:r}function pI(r,n=/\s+/){const i=[];if(null!=r){const s=Array.isArray(r)?r:`${r}`.split(n);for(const l of s){const f=`${l}`.trim();f&&i.push(f)}}return i}"undefined"!=typeof window&&window;const{isArray:Cz}=Array,{getPrototypeOf:Sz,prototype:Dz,keys:Ez}=Object;function mI(r){if(1===r.length){const n=r[0];if(Cz(n))return{args:n,keys:null};if(function(r){return r&&"object"==typeof r&&Sz(r)===Dz}(n)){const i=Ez(n);return{args:i.map(s=>n[s]),keys:i}}}return{args:r,keys:null}}const{isArray:Az}=Array;function vk(r){return W(n=>function(r,n){return Az(n)?r(...n):r(n)}(r,n))}function gI(r,n){return r.reduce((i,s,l)=>(i[s]=n[l],i),{})}function vI(...r){const n=Bn(r),i=di(r),{args:s,keys:l}=mI(r);if(0===s.length)return wr([],n);const f=new y(function(r,n,i=R){return s=>{yI(n,()=>{const{length:l}=r,f=new Array(l);let x=l,A=l;for(let B=0;B<l;B++)yI(n,()=>{const q=wr(r[B],n);let vt=!1;q.subscribe(new Z(s,Tt=>{f[B]=Tt,vt||(vt=!0,A--),A||s.next(i(f.slice()))},()=>{--x||s.complete()}))},s)},s)}}(s,n,l?x=>gI(l,x):R));return i?f.pipe(vk(i)):f}function yI(r,n,i){r?re(i,r,n):n()}function pM(...r){return Se(1)(wr(r,Bn(r)))}function Ks(r,n){return it((i,s)=>{let l=0;i.subscribe(new Z(s,f=>r.call(n,f,l++)&&s.next(f)))})}function xI(r){return Ks((n,i)=>r<=i)}class Rz extends E{constructor(n,i){super()}schedule(n,i=0){return this}}const GC={setInterval(...r){const{delegate:n}=GC;return((null==n?void 0:n.setInterval)||setInterval)(...r)},clearInterval(r){const{delegate:n}=GC;return((null==n?void 0:n.clearInterval)||clearInterval)(r)},delegate:void 0};class yk extends Rz{constructor(n,i){super(n,i),this.scheduler=n,this.work=i,this.pending=!1}schedule(n,i=0){if(this.closed)return this;this.state=n;const s=this.id,l=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(l,s,i)),this.pending=!0,this.delay=i,this.id=this.id||this.requestAsyncId(l,this.id,i),this}requestAsyncId(n,i,s=0){return GC.setInterval(n.flush.bind(n,this),s)}recycleAsyncId(n,i,s=0){if(null!=s&&this.delay===s&&!1===this.pending)return i;GC.clearInterval(i)}execute(n,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(n,i);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,i){let l,s=!1;try{this.work(n)}catch(f){s=!0,l=f||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),l}unsubscribe(){if(!this.closed){const{id:n,scheduler:i}=this,{actions:s}=i;this.work=this.state=this.scheduler=null,this.pending=!1,dt(s,this),null!=n&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,super.unsubscribe()}}}const xk={now:()=>(xk.delegate||Date).now(),delegate:void 0};class mM{constructor(n,i=mM.now){this.schedulerActionCtor=n,this.now=i}schedule(n,i=0,s){return new this.schedulerActionCtor(this,n).schedule(s,i)}}mM.now=xk.now;class wk extends mM{constructor(n,i=mM.now){super(n,i),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:i}=this;if(this._active)return void i.push(n);let s;this._active=!0;do{if(s=n.execute(n.state,n.delay))break}while(n=i.shift());if(this._active=!1,s){for(;n=i.shift();)n.unsubscribe();throw s}}}const bk=new wk(yk),wI=bk;function WC(r,n=bk){return it((i,s)=>{let l=null,f=null,x=null;const A=()=>{if(l){l.unsubscribe(),l=null;const q=f;f=null,s.next(q)}};function B(){const q=x+r,vt=n.now();if(vt<q)return l=this.schedule(void 0,q-vt),void s.add(l);A()}i.subscribe(new Z(s,q=>{f=q,x=n.now(),l||(l=n.schedule(B,r),s.add(l))},()=>{A(),s.complete()},void 0,()=>{f=l=null}))})}function fc(...r){const n=Bn(r);return it((i,s)=>{(n?pM(r,i,n):pM(r,i)).subscribe(s)})}function gs(r){return it((n,i)=>{Ln(r).subscribe(new Z(i,()=>i.complete(),at)),!i.closed&&n.subscribe(i)})}let _k;try{_k="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(r){_k=!1}let wb,$l=(()=>{class r{constructor(i){this._platformId=i,this.isBrowser=this._platformId?yb(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!_k)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return r.\u0275fac=function(i){return new(i||r)(gi(cx))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),xb=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({}),r})();const bI=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function _I(){if(wb)return wb;if("object"!=typeof document||!document)return wb=new Set(bI),wb;let r=document.createElement("input");return wb=new Set(bI.filter(n=>(r.setAttribute("type",n),r.type===n))),wb}let gM,$C,yx,Mk,h0;function YC(r){return function(){if(null==gM&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>gM=!0}))}finally{gM=gM||!1}return gM}()?r:!!r.capture}function MI(){if(null==yx){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return yx=!1,yx;if("scrollBehavior"in document.documentElement.style)yx=!0;else{const r=Element.prototype.scrollTo;yx=!!r&&!/\{\s*\[native code\]\s*\}/.test(r.toString())}}return yx}function vM(){if("object"!=typeof document||!document)return 0;if(null==$C){const r=document.createElement("div"),n=r.style;r.dir="rtl",n.width="1px",n.overflow="auto",n.visibility="hidden",n.pointerEvents="none",n.position="absolute";const i=document.createElement("div"),s=i.style;s.width="2px",s.height="1px",r.appendChild(i),document.body.appendChild(r),$C=0,0===r.scrollLeft&&(r.scrollLeft=1,$C=0===r.scrollLeft?1:2),r.remove()}return $C}function CI(){let r="undefined"!=typeof document&&document?document.activeElement:null;for(;r&&r.shadowRoot;){const n=r.shadowRoot.activeElement;if(n===r)break;r=n}return r}function Oy(r){return r.composedPath?r.composedPath()[0]:r.target}function Ck(){return void 0!==h0.__karma__&&!!h0.__karma__||void 0!==h0.jasmine&&!!h0.jasmine||void 0!==h0.jest&&!!h0.jest||void 0!==h0.Mocha&&!!h0.Mocha}h0="undefined"!=typeof global?global:"undefined"!=typeof window?window:{};let Fz=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({}),r})();const SI=new Set;let bb,Bz=(()=>{class r{constructor(i){this._platform=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):jz}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&function(r){if(!SI.has(r))try{bb||(bb=document.createElement("style"),bb.setAttribute("type","text/css"),document.head.appendChild(bb)),bb.sheet&&(bb.sheet.insertRule(`@media ${r} {body{ }}`,0),SI.add(r))}catch(n){console.error(n)}}(i),this._matchMedia(i)}}return r.\u0275fac=function(i){return new(i||r)(gi($l))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function jz(r){return{matches:"all"===r||""===r,media:r,addListener:()=>{},removeListener:()=>{}}}let DI=(()=>{class r{constructor(i,s){this._mediaMatcher=i,this._zone=s,this._queries=new Map,this._destroySubject=new C}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return EI(UC(i)).some(l=>this._registerQuery(l).mql.matches)}observe(i){let f=vI(EI(UC(i)).map(x=>this._registerQuery(x).observable));return f=pM(f.pipe(Xn(1)),f.pipe(xI(1),WC(0))),f.pipe(W(x=>{const A={matches:!1,breakpoints:{}};return x.forEach(({matches:B,query:q})=>{A.matches=A.matches||B,A.breakpoints[q]=B}),A}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);const s=this._mediaMatcher.matchMedia(i),f={observable:new y(x=>{const A=B=>this._zone.run(()=>x.next(B));return s.addListener(A),()=>{s.removeListener(A)}}).pipe(fc(s),W(({matches:x})=>({query:i,matches:x})),gs(this._destroySubject)),mql:s};return this._queries.set(i,f),f}}return r.\u0275fac=function(i){return new(i||r)(gi(Bz),gi(Cr))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function EI(r){return r.map(n=>n.split(",")).reduce((n,i)=>n.concat(i)).map(n=>n.trim())}function Sk(...r){const n=di(r),{args:i,keys:s}=mI(r),l=new y(f=>{const{length:x}=i;if(!x)return void f.complete();const A=new Array(x);let B=x,q=x;for(let vt=0;vt<x;vt++){let Tt=!1;Ln(i[vt]).subscribe(new Z(f,Wt=>{Tt||(Tt=!0,q--),A[vt]=Wt},()=>B--,void 0,()=>{(!B||!Tt)&&(q||f.next(s?gI(s,A):A),f.complete())}))}});return n?l.pipe(vk(n)):l}let AI=(()=>{class r{constructor(i,s){this._renderer=i,this._elementRef=s,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(i,s){this._renderer.setProperty(this._elementRef.nativeElement,i,s)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}}return r.\u0275fac=function(i){return new(i||r)(ye(Lg),ye(mr))},r.\u0275dir=dn({type:r}),r})(),xx=(()=>{class r extends AI{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=xo(r)))(s||r)}}(),r.\u0275dir=dn({type:r,features:[rr]}),r})();const sf=new pn("NgValueAccessor"),Hz={provide:sf,useExisting:Hi(()=>_b),multi:!0},Gz=new pn("CompositionEventMode");let _b=(()=>{class r extends AI{constructor(i,s,l){super(i,s),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const r=hm()?hm().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(i){this.setProperty("value",null==i?"":i)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}}return r.\u0275fac=function(i){return new(i||r)(ye(Lg),ye(mr),ye(Gz,8))},r.\u0275dir=dn({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){1&i&&e("input",function(f){return s._handleInput(f.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(f){return s._compositionEnd(f.target.value)})},features:[po([Hz]),rr]}),r})();function Ny(r){return null==r||0===r.length}function PI(r){return null!=r&&"number"==typeof r.length}const Ih=new pn("NgValidators"),Ly=new pn("NgAsyncValidators"),Wz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Mb{static min(n){return r=n,n=>{if(Ny(n.value)||Ny(r))return null;const i=parseFloat(n.value);return!isNaN(i)&&i<r?{min:{min:r,actual:n.value}}:null};var r}static max(n){return r=n,n=>{if(Ny(n.value)||Ny(r))return null;const i=parseFloat(n.value);return!isNaN(i)&&i>r?{max:{max:r,actual:n.value}}:null};var r}static required(n){return Ny(n.value)?{required:!0}:null}static requiredTrue(n){return!0===n.value?null:{required:!0}}static email(n){return Ny((r=n).value)||Wz.test(r.value)?null:{email:!0};var r}static minLength(n){return r=n,n=>Ny(n.value)||!PI(n.value)?null:n.value.length<r?{minlength:{requiredLength:r,actualLength:n.value.length}}:null;var r}static maxLength(n){return r=n,n=>PI(n.value)&&n.value.length>r?{maxlength:{requiredLength:r,actualLength:n.value.length}}:null;var r}static pattern(n){return function(r){if(!r)return Ug;let n,i;return"string"==typeof r?(i="","^"!==r.charAt(0)&&(i+="^"),i+=r,"$"!==r.charAt(r.length-1)&&(i+="$"),n=new RegExp(i)):(i=r.toString(),n=r),s=>{if(Ny(s.value))return null;const l=s.value;return n.test(l)?null:{pattern:{requiredPattern:i,actualValue:l}}}}(n)}static nullValidator(n){return null}static compose(n){return WI(n)}static composeAsync(n){return YI(n)}}function Ug(r){return null}function jI(r){return null!=r}function zI(r){const n=nm(r)?wr(r):r;return t(n),n}function HI(r){let n={};return r.forEach(i=>{n=null!=i?Dn(Dn({},n),i):n}),0===Object.keys(n).length?null:n}function UI(r,n){return n.map(i=>i(r))}function GI(r){return r.map(n=>function(r){return!r.validate}(n)?n:i=>n.validate(i))}function WI(r){if(!r)return null;const n=r.filter(jI);return 0==n.length?null:function(i){return HI(UI(i,n))}}function Dk(r){return null!=r?WI(GI(r)):null}function YI(r){if(!r)return null;const n=r.filter(jI);return 0==n.length?null:function(i){return Sk(UI(i,n).map(zI)).pipe(W(HI))}}function Ek(r){return null!=r?YI(GI(r)):null}function $I(r,n){return null===r?[n]:Array.isArray(r)?[...r,n]:[r,n]}function XI(r){return r._rawValidators}function KI(r){return r._rawAsyncValidators}function kk(r){return r?Array.isArray(r)?r:[r]:[]}function XC(r,n){return Array.isArray(r)?r.includes(n):r===n}function ZI(r,n){const i=kk(n);return kk(r).forEach(l=>{XC(i,l)||i.push(l)}),i}function qI(r,n){return kk(n).filter(i=>!XC(r,i))}class JI{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Dk(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Ek(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,i){return!!this.control&&this.control.hasError(n,i)}getError(n,i){return this.control?this.control.getError(n,i):null}}class dc extends JI{get formDirective(){return null}get path(){return null}}class um extends JI{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class QI{constructor(n){this._cd=n}is(n){var i,s,l;return"submitted"===n?!!(null==(i=this._cd)?void 0:i.submitted):!!(null==(l=null==(s=this._cd)?void 0:s.control)?void 0:l[n])}}let yM=(()=>{class r extends QI{constructor(i){super(i)}}return r.\u0275fac=function(i){return new(i||r)(ye(um,2))},r.\u0275dir=dn({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){2&i&&Er("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[rr]}),r})(),xM=(()=>{class r extends QI{constructor(i){super(i)}}return r.\u0275fac=function(i){return new(i||r)(ye(dc,10))},r.\u0275dir=dn({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){2&i&&Er("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[rr]}),r})();function ZC(r,n){return[...n.path,r]}function wM(r,n){Pk(r,n),n.valueAccessor.writeValue(r.value),function(r,n){n.valueAccessor.registerOnChange(i=>{r._pendingValue=i,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&t6(r,n)})}(r,n),function(r,n){const i=(s,l)=>{n.valueAccessor.writeValue(s),l&&n.viewToModelUpdate(s)};r.registerOnChange(i),n._registerOnDestroy(()=>{r._unregisterOnChange(i)})}(r,n),function(r,n){n.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&t6(r,n),"submit"!==r.updateOn&&r.markAsTouched()})}(r,n),function(r,n){if(n.valueAccessor.setDisabledState){const i=s=>{n.valueAccessor.setDisabledState(s)};r.registerOnDisabledChange(i),n._registerOnDestroy(()=>{r._unregisterOnDisabledChange(i)})}}(r,n)}function qC(r,n,i=!0){const s=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(s),n.valueAccessor.registerOnTouched(s)),QC(r,n),r&&(n._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function JC(r,n){r.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(n)})}function Pk(r,n){const i=XI(r);null!==n.validator?r.setValidators($I(i,n.validator)):"function"==typeof i&&r.setValidators([i]);const s=KI(r);null!==n.asyncValidator?r.setAsyncValidators($I(s,n.asyncValidator)):"function"==typeof s&&r.setAsyncValidators([s]);const l=()=>r.updateValueAndValidity();JC(n._rawValidators,l),JC(n._rawAsyncValidators,l)}function QC(r,n){let i=!1;if(null!==r){if(null!==n.validator){const l=XI(r);if(Array.isArray(l)&&l.length>0){const f=l.filter(x=>x!==n.validator);f.length!==l.length&&(i=!0,r.setValidators(f))}}if(null!==n.asyncValidator){const l=KI(r);if(Array.isArray(l)&&l.length>0){const f=l.filter(x=>x!==n.asyncValidator);f.length!==l.length&&(i=!0,r.setAsyncValidators(f))}}}const s=()=>{};return JC(n._rawValidators,s),JC(n._rawAsyncValidators,s),i}function t6(r,n){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function e6(r,n){Pk(r,n)}function i6(r,n){r._syncPendingControls(),n.forEach(i=>{const s=i.control;"submit"===s.updateOn&&s._pendingChange&&(i.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function tS(r,n){const i=r.indexOf(n);i>-1&&r.splice(i,1)}const bM="VALID",eS="INVALID",Cb="PENDING",_M="DISABLED";function Ok(r){return(Lk(r)?r.validators:r)||null}function n6(r){return Array.isArray(r)?Dk(r):r||null}function Nk(r,n){return(Lk(n)?n.asyncValidators:r)||null}function r6(r){return Array.isArray(r)?Ek(r):r||null}function Lk(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}class Fk{constructor(n,i){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=i,this._composedValidatorFn=n6(this._rawValidators),this._composedAsyncValidatorFn=r6(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===bM}get invalid(){return this.status===eS}get pending(){return this.status==Cb}get disabled(){return this.status===_M}get enabled(){return this.status!==_M}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=n6(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=r6(n)}addValidators(n){this.setValidators(ZI(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(ZI(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(qI(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(qI(n,this._rawAsyncValidators))}hasValidator(n){return XC(this._rawValidators,n)}hasAsyncValidator(n){return XC(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Cb,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const i=this._parentMarkedDirty(n.onlySelf);this.status=_M,this.errors=null,this._forEachChild(s=>{s.disable(Zl(Dn({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Zl(Dn({},n),{skipPristineCheck:i})),this._onDisabledChange.forEach(s=>s(!0))}enable(n={}){const i=this._parentMarkedDirty(n.onlySelf);this.status=bM,this._forEachChild(s=>{s.enable(Zl(Dn({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Zl(Dn({},n),{skipPristineCheck:i})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bM||this.status===Cb)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_M:bM}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Cb,this._hasOwnPendingAsyncValidator=!0;const i=zI(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,i={}){this.errors=n,this._updateControlsErrors(!1!==i.emitEvent)}get(n){return function(r,n,i){if(null==n||(Array.isArray(n)||(n=n.split(".")),Array.isArray(n)&&0===n.length))return null;let s=r;return n.forEach(l=>{s=s instanceof Fy?s.controls.hasOwnProperty(l)?s.controls[l]:null:s instanceof o6&&s.at(l)||null}),s}(this,n)}getError(n,i){const s=i?this.get(i):this;return s&&s.errors?s.errors[n]:null}hasError(n,i){return!!this.getError(n,i)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Sn,this.statusChanges=new Sn}_calculateStatus(){return this._allControlsDisabled()?_M:this.errors?eS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Cb)?Cb:this._anyControlsHaveStatus(eS)?eS:bM}_anyControlsHaveStatus(n){return this._anyControls(i=>i.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Lk(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class rs extends Fk{constructor(n=null,i,s){super(Ok(i),Nk(s,i)),this._onChange=[],this._applyFormState(n),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(n,i={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(n,i={}){this.setValue(n,i)}reset(n=null,i={}){this._applyFormState(n),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){tS(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){tS(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class Fy extends Fk{constructor(n,i,s){super(Ok(i),Nk(s,i)),this.controls=n,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,i){return this.controls[n]?this.controls[n]:(this.controls[n]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(n,i,s={}){this.registerControl(n,i),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(n,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(n,i,s={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],i&&this.registerControl(n,i),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,i={}){this._checkAllValuesPresent(n),Object.keys(n).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(n[s],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(n,i={}){null!=n&&(Object.keys(n).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(n[s],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(n={},i={}){this._forEachChild((s,l)=>{s.reset(n[l],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(n,i,s)=>(n[s]=i instanceof rs?i.value:i.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(i,s)=>!!s._syncPendingControls()||i);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error(`Cannot find form control with name: ${n}.`)}_forEachChild(n){Object.keys(this.controls).forEach(i=>{const s=this.controls[i];s&&n(s,i)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const i of Object.keys(this.controls)){const s=this.controls[i];if(this.contains(i)&&n(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,i,s)=>((i.enabled||this.disabled)&&(n[s]=i.value),n))}_reduceChildren(n,i){let s=n;return this._forEachChild((l,f)=>{s=i(s,l,f)}),s}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(n){this._forEachChild((i,s)=>{if(void 0===n[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class o6 extends Fk{constructor(n,i,s){super(Ok(i),Nk(s,i)),this.controls=n,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,i={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(n,i,s={}){this.controls.splice(n,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(n,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(n,i,s={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),i&&(this.controls.splice(n,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,i={}){this._checkAllValuesPresent(n),n.forEach((s,l)=>{this._throwIfControlMissing(l),this.at(l).setValue(s,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(n,i={}){null!=n&&(n.forEach((s,l)=>{this.at(l)&&this.at(l).patchValue(s,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(n=[],i={}){this._forEachChild((s,l)=>{s.reset(n[l],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(n=>n instanceof rs?n.value:n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((i,s)=>!!s._syncPendingControls()||i,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error(`Cannot find form control at index ${n}`)}_forEachChild(n){this.controls.forEach((i,s)=>{n(i,s)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(i=>i.enabled&&n(i))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_checkAllValuesPresent(n){this._forEachChild((i,s)=>{if(void 0===n[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}const rH={provide:dc,useExisting:Hi(()=>CM)},MM=(()=>Promise.resolve(null))();let CM=(()=>{class r extends dc{constructor(i,s){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Sn,this.form=new Fy({},Dk(i),Ek(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){MM.then(()=>{const s=this._findContainer(i.path);i.control=s.registerControl(i.name,i.control),wM(i.control,i),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){MM.then(()=>{const s=this._findContainer(i.path);s&&s.removeControl(i.name),tS(this._directives,i)})}addFormGroup(i){MM.then(()=>{const s=this._findContainer(i.path),l=new Fy({});e6(l,i),s.registerControl(i.name,l),l.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){MM.then(()=>{const s=this._findContainer(i.path);s&&s.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,s){MM.then(()=>{this.form.get(i.path).setValue(s)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,i6(this.form,this._directives),this.ngSubmit.emit(i),!1}onReset(){this.resetForm()}resetForm(i){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}}return r.\u0275fac=function(i){return new(i||r)(ye(Ih,10),ye(Ly,10))},r.\u0275dir=dn({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){1&i&&e("submit",function(f){return s.onSubmit(f)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[po([rH]),rr]}),r})(),s6=(()=>{class r extends dc{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ZC(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=xo(r)))(s||r)}}(),r.\u0275dir=dn({type:r,features:[rr]}),r})(),SM=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=dn({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),r})();const aH={provide:sf,useExisting:Hi(()=>Bk),multi:!0};let Bk=(()=>{class r extends xx{writeValue(i){this.setProperty("value",null==i?"":i)}registerOnChange(i){this.onChange=s=>{i(""==s?null:parseFloat(s))}}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=xo(r)))(s||r)}}(),r.\u0275dir=dn({type:r,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){1&i&&e("input",function(f){return s.onChange(f.target.value)})("blur",function(){return s.onTouched()})},features:[po([aH]),rr]}),r})(),u6=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({}),r})();const Vk=new pn("NgModelWithFormControlWarning"),fH={provide:dc,useExisting:Hi(()=>Gg)};let Gg=(()=>{class r extends dc{constructor(i,s){super(),this.validators=i,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Sn,this._setValidators(i),this._setAsyncValidators(s)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(QC(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){const s=this.form.get(i.path);return wM(s,i),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),s}getControl(i){return this.form.get(i.path)}removeControl(i){qC(i.control||null,i,!1),tS(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,s){this.form.get(i.path).setValue(s)}onSubmit(i){return this.submitted=!0,i6(this.form,this.directives),this.ngSubmit.emit(i),!1}onReset(){this.resetForm()}resetForm(i){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{const s=i.control,l=this.form.get(i.path);s!==l&&(qC(s||null,i),l instanceof rs&&(wM(l,i),i.control=l))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){const s=this.form.get(i.path);e6(s,i),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){const s=this.form.get(i.path);s&&function(r,n){return QC(r,n)}(s,i)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Pk(this.form,this),this._oldForm&&QC(this._oldForm,this)}_checkFormPresent(){}}return r.\u0275fac=function(i){return new(i||r)(ye(Ih,10),ye(Ly,10))},r.\u0275dir=dn({type:r,selectors:[["","formGroup",""]],hostBindings:function(i,s){1&i&&e("submit",function(f){return s.onSubmit(f)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[po([fH]),rr,Xr]}),r})();const dH={provide:dc,useExisting:Hi(()=>iS)};let iS=(()=>{class r extends s6{constructor(i,s,l){super(),this._parent=i,this._setValidators(s),this._setAsyncValidators(l)}_checkParentType(){p6(this._parent)}}return r.\u0275fac=function(i){return new(i||r)(ye(dc,13),ye(Ih,10),ye(Ly,10))},r.\u0275dir=dn({type:r,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[po([dH]),rr]}),r})();const pH={provide:dc,useExisting:Hi(()=>nS)};let nS=(()=>{class r extends dc{constructor(i,s,l){super(),this._parent=i,this._setValidators(s),this._setAsyncValidators(l)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ZC(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){p6(this._parent)}}return r.\u0275fac=function(i){return new(i||r)(ye(dc,13),ye(Ih,10),ye(Ly,10))},r.\u0275dir=dn({type:r,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[po([pH]),rr]}),r})();function p6(r){return!(r instanceof iS||r instanceof Gg||r instanceof nS)}const mH={provide:um,useExisting:Hi(()=>Sb)};let Sb=(()=>{class r extends um{constructor(i,s,l,f,x){super(),this._ngModelWarningConfig=x,this._added=!1,this.update=new Sn,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(s),this._setAsyncValidators(l),this.valueAccessor=function(r,n){if(!n)return null;let i,s,l;return Array.isArray(n),n.forEach(f=>{f.constructor===_b?i=f:function(r){return Object.getPrototypeOf(r.constructor)===xx}(f)?s=f:l=f}),l||s||i||null}(0,f)}set isDisabled(i){}ngOnChanges(i){this._added||this._setUpControl(),function(r,n){if(!r.hasOwnProperty("model"))return!1;const i=r.model;return!!i.isFirstChange()||!Object.is(n,i.currentValue)}(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return ZC(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return r._ngModelWarningSentOnce=!1,r.\u0275fac=function(i){return new(i||r)(ye(dc,13),ye(Ih,10),ye(Ly,10),ye(sf,10),ye(Vk,8))},r.\u0275dir=dn({type:r,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[po([mH]),rr,Xr]}),r})(),TH=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({imports:[[u6]]}),r})(),PH=(()=>{class r{static withConfig(i){return{ngModule:r,providers:[{provide:Vk,useValue:i.warnOnNgModelWithFormControl}]}}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({imports:[TH]}),r})();class iu extends C{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const i=super._subscribe(n);return!i.closed&&n.next(this._value),i}getValue(){const{hasError:n,thrownError:i,_value:s}=this;if(n)throw i;return this._throwIfClosed(),s}next(n){super.next(this._value=n)}}function fr(...r){return wr(r,Bn(r))}function pc(r,...n){return n.length?n.some(i=>r[i]):r.altKey||r.shiftKey||r.ctrlKey||r.metaKey}function Sl(r,n,i){const s=zt(r)||n||i?{next:r,error:n,complete:i}:r;return s?it((l,f)=>{var x;null===(x=s.subscribe)||void 0===x||x.call(s);let A=!0;l.subscribe(new Z(f,B=>{var q;null===(q=s.next)||void 0===q||q.call(s,B),f.next(B)},()=>{var B;A=!1,null===(B=s.complete)||void 0===B||B.call(s),f.complete()},B=>{var q;A=!1,null===(q=s.error)||void 0===q||q.call(s,B),f.error(B)},()=>{var B,q;A&&(null===(B=s.unsubscribe)||void 0===B||B.call(s)),null===(q=s.finalize)||void 0===q||q.call(s)}))}):R}function sS(r,n=R){return r=null!=r?r:jH,it((i,s)=>{let l,f=!0;i.subscribe(new Z(s,x=>{const A=n(x);(f||!r(l,A))&&(f=!1,l=A,s.next(x))}))})}function jH(r,n){return r===n}let E6=(()=>{class r{create(i){return"undefined"==typeof MutationObserver?null:new MutationObserver(i)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),k6=(()=>{class r{constructor(i){this._mutationObserverFactory=i,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((i,s)=>this._cleanupObserver(s))}observe(i){const s=Hg(i);return new y(l=>{const x=this._observeElement(s).subscribe(l);return()=>{x.unsubscribe(),this._unobserveElement(s)}})}_observeElement(i){if(this._observedElements.has(i))this._observedElements.get(i).count++;else{const s=new C,l=this._mutationObserverFactory.create(f=>s.next(f));l&&l.observe(i,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(i,{observer:l,stream:s,count:1})}return this._observedElements.get(i).stream}_unobserveElement(i){this._observedElements.has(i)&&(this._observedElements.get(i).count--,this._observedElements.get(i).count||this._cleanupObserver(i))}_cleanupObserver(i){if(this._observedElements.has(i)){const{observer:s,stream:l}=this._observedElements.get(i);s&&s.disconnect(),l.complete(),this._observedElements.delete(i)}}}return r.\u0275fac=function(i){return new(i||r)(gi(E6))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),A6=(()=>{class r{constructor(i,s,l){this._contentObserver=i,this._elementRef=s,this._ngZone=l,this.event=new Sn,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(i){this._disabled=Jr(i),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(i){this._debounce=Ry(i),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const i=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?i.pipe(WC(this.debounce)):i).subscribe(this.event)})}_unsubscribe(){var i;null==(i=this._currentSubscription)||i.unsubscribe()}}return r.\u0275fac=function(i){return new(i||r)(ye(k6),ye(mr),ye(Cr))},r.\u0275dir=dn({type:r,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),r})(),$k=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({providers:[E6]}),r})();class R6 extends class{constructor(n){this._items=n,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new C,this._typeaheadSubscription=E.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=i=>i.disabled,this._pressedLetters=[],this.tabOut=new C,this.change=new C,n instanceof ux&&n.changes.subscribe(i=>{if(this._activeItem){const l=i.toArray().indexOf(this._activeItem);l>-1&&l!==this._activeItemIndex&&(this._activeItemIndex=l)}})}skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Sl(i=>this._pressedLetters.push(i)),WC(n),Ks(()=>this._pressedLetters.length>0),W(()=>this._pressedLetters.join(""))).subscribe(i=>{const s=this._getItemsArray();for(let l=1;l<s.length+1;l++){const f=(this._activeItemIndex+l)%s.length,x=s[f];if(!this._skipPredicateFn(x)&&0===x.getLabel().toUpperCase().trim().indexOf(i)){this.setActiveItem(f);break}}this._pressedLetters=[]}),this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}setActiveItem(n){const i=this._activeItem;this.updateActiveItem(n),this._activeItem!==i&&this.change.next(this._activeItemIndex)}onKeydown(n){const i=n.keyCode,l=["altKey","ctrlKey","metaKey","shiftKey"].every(f=>!n[f]||this._allowedModifierKeys.indexOf(f)>-1);switch(i){case 9:return void this.tabOut.next();case 40:if(this._vertical&&l){this.setNextItemActive();break}return;case 38:if(this._vertical&&l){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&l){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&l){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&l){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&l){this.setLastItemActive();break}return;default:return void((l||pc(n,"shiftKey"))&&(n.key&&1===n.key.length?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(i>=65&&i<=90||i>=48&&i<=57)&&this._letterKeyStream.next(String.fromCharCode(i))))}this._pressedLetters=[],n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){const i=this._getItemsArray(),s="number"==typeof n?n:i.indexOf(n),l=i[s];this._activeItem=null==l?null:l,this._activeItemIndex=s}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){const i=this._getItemsArray();for(let s=1;s<=i.length;s++){const l=(this._activeItemIndex+n*s+i.length)%i.length;if(!this._skipPredicateFn(i[l]))return void this.setActiveItem(l)}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,i){const s=this._getItemsArray();if(s[n]){for(;this._skipPredicateFn(s[n]);)if(!s[n+=i])return;this.setActiveItem(n)}}_getItemsArray(){return this._items instanceof ux?this._items.toArray():this._items}}{setActiveItem(n){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(n),this.activeItem&&this.activeItem.setActiveStyles()}}let O6=(()=>{class r{constructor(i){this._platform=i}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return function(r){return!!(r.offsetWidth||r.offsetHeight||"function"==typeof r.getClientRects&&r.getClientRects().length)}(i)&&"visible"===getComputedStyle(i).visibility}isTabbable(i){if(!this._platform.isBrowser)return!1;const s=function(r){try{return r.frameElement}catch(n){return null}}(function(r){return r.ownerDocument&&r.ownerDocument.defaultView||window}(i));if(s&&(-1===L6(s)||!this.isVisible(s)))return!1;let l=i.nodeName.toLowerCase(),f=L6(i);return i.hasAttribute("contenteditable")?-1!==f:!("iframe"===l||"object"===l||this._platform.WEBKIT&&this._platform.IOS&&!function(r){let n=r.nodeName.toLowerCase(),i="input"===n&&r.type;return"text"===i||"password"===i||"select"===n||"textarea"===n}(i))&&("audio"===l?!!i.hasAttribute("controls")&&-1!==f:"video"===l?-1!==f&&(null!==f||this._platform.FIREFOX||i.hasAttribute("controls")):i.tabIndex>=0)}isFocusable(i,s){return function(r){return!function(r){return function(r){return"input"==r.nodeName.toLowerCase()}(r)&&"hidden"==r.type}(r)&&(function(r){let n=r.nodeName.toLowerCase();return"input"===n||"select"===n||"button"===n||"textarea"===n}(r)||function(r){return function(r){return"a"==r.nodeName.toLowerCase()}(r)&&r.hasAttribute("href")}(r)||r.hasAttribute("contenteditable")||N6(r))}(i)&&!this.isDisabled(i)&&((null==s?void 0:s.ignoreVisibility)||this.isVisible(i))}}return r.\u0275fac=function(i){return new(i||r)(gi($l))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function N6(r){if(!r.hasAttribute("tabindex")||void 0===r.tabIndex)return!1;let n=r.getAttribute("tabindex");return!(!n||isNaN(parseInt(n,10)))}function L6(r){if(!N6(r))return null;const n=parseInt(r.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}class tU{constructor(n,i,s,l,f=!1){this._element=n,this._checker=i,this._ngZone=s,this._document=l,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,f||this.attachAnchors()}get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}destroy(){const n=this._startAnchor,i=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.remove()),i&&(i.removeEventListener("focus",this.endAnchorListener),i.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){let i=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);for(let s=0;s<i.length;s++)i[s].hasAttribute(`cdk-focus-${n}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${n}', use 'cdkFocusRegion${n}' instead. The deprecated attribute will be removed in 8.0.0.`,i[s]):i[s].hasAttribute(`cdk-focus-region-${n}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${n}', use 'cdkFocusRegion${n}' instead. The deprecated attribute will be removed in 8.0.0.`,i[s]);return"start"==n?i.length?i[0]:this._getFirstTabbableElement(this._element):i.length?i[i.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){const i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(i.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",i),!this._checker.isFocusable(i)){const s=this._getFirstTabbableElement(i);return null==s||s.focus(n),!!s}return i.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){const i=this._getRegionBoundary("start");return i&&i.focus(n),!!i}focusLastTabbableElement(n){const i=this._getRegionBoundary("end");return i&&i.focus(n),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const i=n.children;for(let s=0;s<i.length;s++){const l=i[s].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(i[s]):null;if(l)return l}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const i=n.children;for(let s=i.length-1;s>=0;s--){const l=i[s].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(i[s]):null;if(l)return l}return null}_createAnchor(){const n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,i){n?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._ngZone.isStable?n():this._ngZone.onStable.pipe(Xn(1)).subscribe(n)}}let F6=(()=>{class r{constructor(i,s,l){this._checker=i,this._ngZone=s,this._document=l}create(i,s=!1){return new tU(i,this._checker,this._ngZone,this._document,s)}}return r.\u0275fac=function(i){return new(i||r)(gi(O6),gi(Cr),gi(zr))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),eU=(()=>{class r{constructor(i,s,l){this._elementRef=i,this._focusTrapFactory=s,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(i){this.focusTrap.enabled=Jr(i)}get autoCapture(){return this._autoCapture}set autoCapture(i){this._autoCapture=Jr(i)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(i){const s=i.autoCapture;s&&!s.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=CI(),this.focusTrap.focusInitialElementWhenReady()}}return r.\u0275fac=function(i){return new(i||r)(ye(mr),ye(F6),ye(zr))},r.\u0275dir=dn({type:r,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[Xr]}),r})();function B6(r){return 0===r.offsetX&&0===r.offsetY}function V6(r){const n=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const iU=new pn("cdk-input-modality-detector-options"),nU={ignoreKeys:[18,17,224,91,16]},Eb=YC({passive:!0,capture:!0});let rU=(()=>{class r{constructor(i,s,l,f){this._platform=i,this._mostRecentTarget=null,this._modality=new iu(null),this._lastTouchMs=0,this._onKeydown=x=>{var A,B;(null==(B=null==(A=this._options)?void 0:A.ignoreKeys)?void 0:B.some(q=>q===x.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Oy(x))},this._onMousedown=x=>{Date.now()-this._lastTouchMs<650||(this._modality.next(B6(x)?"keyboard":"mouse"),this._mostRecentTarget=Oy(x))},this._onTouchstart=x=>{V6(x)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Oy(x))},this._options=Dn(Dn({},nU),f),this.modalityDetected=this._modality.pipe(xI(1)),this.modalityChanged=this.modalityDetected.pipe(sS()),i.isBrowser&&s.runOutsideAngular(()=>{l.addEventListener("keydown",this._onKeydown,Eb),l.addEventListener("mousedown",this._onMousedown,Eb),l.addEventListener("touchstart",this._onTouchstart,Eb)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Eb),document.removeEventListener("mousedown",this._onMousedown,Eb),document.removeEventListener("touchstart",this._onTouchstart,Eb))}}return r.\u0275fac=function(i){return new(i||r)(gi($l),gi(Cr),gi(zr),gi(iU,8))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const oU=new pn("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),aU=new pn("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Xk=(()=>{class r{constructor(i,s,l,f){this._ngZone=s,this._defaultOptions=f,this._document=l,this._liveElement=i||this._createLiveElement()}announce(i,...s){const l=this._defaultOptions;let f,x;return 1===s.length&&"number"==typeof s[0]?x=s[0]:[f,x]=s,this.clear(),clearTimeout(this._previousTimeout),f||(f=l&&l.politeness?l.politeness:"polite"),null==x&&l&&(x=l.duration),this._liveElement.setAttribute("aria-live",f),this._ngZone.runOutsideAngular(()=>new Promise(A=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=i,A(),"number"==typeof x&&(this._previousTimeout=setTimeout(()=>this.clear(),x))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var i;clearTimeout(this._previousTimeout),null==(i=this._liveElement)||i.remove(),this._liveElement=null}_createLiveElement(){const i="cdk-live-announcer-element",s=this._document.getElementsByClassName(i),l=this._document.createElement("div");for(let f=0;f<s.length;f++)s[f].remove();return l.classList.add(i),l.classList.add("cdk-visually-hidden"),l.setAttribute("aria-atomic","true"),l.setAttribute("aria-live","polite"),this._document.body.appendChild(l),l}}return r.\u0275fac=function(i){return new(i||r)(gi(oU,8),gi(Cr),gi(zr),gi(aU,8))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),lU=(()=>{class r{constructor(i,s,l,f){this._elementRef=i,this._liveAnnouncer=s,this._contentObserver=l,this._ngZone=f,this._politeness="polite"}get politeness(){return this._politeness}set politeness(i){this._politeness="off"===i||"assertive"===i?i:"polite","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const s=this._elementRef.nativeElement.textContent;s!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(s,this._politeness),this._previousAnnouncedText=s)})))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return r.\u0275fac=function(i){return new(i||r)(ye(mr),ye(Xk),ye(k6),ye(Cr))},r.\u0275dir=dn({type:r,selectors:[["","cdkAriaLive",""]],inputs:{politeness:["cdkAriaLive","politeness"]},exportAs:["cdkAriaLive"]}),r})();const hU=new pn("cdk-focus-monitor-default-options"),aS=YC({passive:!0,capture:!0});let wx=(()=>{class r{constructor(i,s,l,f,x){this._ngZone=i,this._platform=s,this._inputModalityDetector=l,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new C,this._rootNodeFocusAndBlurListener=A=>{const B=Oy(A),q="focus"===A.type?this._onFocus:this._onBlur;for(let vt=B;vt;vt=vt.parentElement)q.call(this,A,vt)},this._document=f,this._detectionMode=(null==x?void 0:x.detectionMode)||0}monitor(i,s=!1){const l=Hg(i);if(!this._platform.isBrowser||1!==l.nodeType)return fr(null);const f=function(r){if(function(){if(null==Mk){const r="undefined"!=typeof document?document.head:null;Mk=!(!r||!r.createShadowRoot&&!r.attachShadow)}return Mk}()){const n=r.getRootNode?r.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}(l)||this._getDocument(),x=this._elementInfo.get(l);if(x)return s&&(x.checkChildren=!0),x.subject;const A={checkChildren:s,subject:new C,rootNode:f};return this._elementInfo.set(l,A),this._registerGlobalListeners(A),A.subject}stopMonitoring(i){const s=Hg(i),l=this._elementInfo.get(s);l&&(l.subject.complete(),this._setClasses(s),this._elementInfo.delete(s),this._removeGlobalListeners(l))}focusVia(i,s,l){const f=Hg(i);f===this._getDocument().activeElement?this._getClosestElementsInfo(f).forEach(([A,B])=>this._originChanged(A,s,B)):(this._setOrigin(s),"function"==typeof f.focus&&f.focus(l))}ngOnDestroy(){this._elementInfo.forEach((i,s)=>this.stopMonitoring(s))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(i){return 1===this._detectionMode||!!(null==i?void 0:i.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(i,s){i.classList.toggle("cdk-focused",!!s),i.classList.toggle("cdk-touch-focused","touch"===s),i.classList.toggle("cdk-keyboard-focused","keyboard"===s),i.classList.toggle("cdk-mouse-focused","mouse"===s),i.classList.toggle("cdk-program-focused","program"===s)}_setOrigin(i,s=!1){this._ngZone.runOutsideAngular(()=>{this._origin=i,this._originFromTouchInteraction="touch"===i&&s,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(i,s){const l=this._elementInfo.get(s),f=Oy(i);!l||!l.checkChildren&&s!==f||this._originChanged(s,this._getFocusOrigin(f),l)}_onBlur(i,s){const l=this._elementInfo.get(s);!l||l.checkChildren&&i.relatedTarget instanceof Node&&s.contains(i.relatedTarget)||(this._setClasses(s),this._emitOrigin(l.subject,null))}_emitOrigin(i,s){this._ngZone.run(()=>i.next(s))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;const s=i.rootNode,l=this._rootNodeFocusListenerCount.get(s)||0;l||this._ngZone.runOutsideAngular(()=>{s.addEventListener("focus",this._rootNodeFocusAndBlurListener,aS),s.addEventListener("blur",this._rootNodeFocusAndBlurListener,aS)}),this._rootNodeFocusListenerCount.set(s,l+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(gs(this._stopInputModalityDetector)).subscribe(f=>{this._setOrigin(f,!0)}))}_removeGlobalListeners(i){const s=i.rootNode;if(this._rootNodeFocusListenerCount.has(s)){const l=this._rootNodeFocusListenerCount.get(s);l>1?this._rootNodeFocusListenerCount.set(s,l-1):(s.removeEventListener("focus",this._rootNodeFocusAndBlurListener,aS),s.removeEventListener("blur",this._rootNodeFocusAndBlurListener,aS),this._rootNodeFocusListenerCount.delete(s))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,s,l){this._setClasses(i,s),this._emitOrigin(l.subject,s),this._lastFocusOrigin=s}_getClosestElementsInfo(i){const s=[];return this._elementInfo.forEach((l,f)=>{(f===i||l.checkChildren&&f.contains(i))&&s.push([f,l])}),s}}return r.\u0275fac=function(i){return new(i||r)(gi(Cr),gi($l),gi(rU),gi(zr,8),gi(hU,8))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),uU=(()=>{class r{constructor(i,s){this._elementRef=i,this._focusMonitor=s,this.cdkFocusChange=new Sn}ngAfterViewInit(){const i=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(i,1===i.nodeType&&i.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(s=>this.cdkFocusChange.emit(s))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return r.\u0275fac=function(i){return new(i||r)(ye(mr),ye(wx))},r.\u0275dir=dn({type:r,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),r})();const z6="cdk-high-contrast-black-on-white",H6="cdk-high-contrast-white-on-black",Kk="cdk-high-contrast-active";let U6=(()=>{class r{constructor(i,s){this._platform=i,this._document=s}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);const s=this._document.defaultView||window,l=s&&s.getComputedStyle?s.getComputedStyle(i):null,f=(l&&l.backgroundColor||"").replace(/ /g,"");switch(i.remove(),f){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const i=this._document.body.classList;i.remove(Kk),i.remove(z6),i.remove(H6),this._hasCheckedHighContrastMode=!0;const s=this.getHighContrastMode();1===s?(i.add(Kk),i.add(z6)):2===s&&(i.add(Kk),i.add(H6))}}}return r.\u0275fac=function(i){return new(i||r)(gi($l),gi(zr))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),cU=(()=>{class r{constructor(i){i._applyBodyHighContrastModeCssClasses()}}return r.\u0275fac=function(i){return new(i||r)(gi(U6))},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({imports:[[xb,$k]]}),r})();const fU=new pn("cdk-dir-doc",{providedIn:"root",factory:function(){return $h(zr)}});let c0=(()=>{class r{constructor(i){if(this.value="ltr",this.change=new Sn,i){const l=i.documentElement?i.documentElement.dir:null,f=(i.body?i.body.dir:null)||l;this.value="ltr"===f||"rtl"===f?f:"ltr"}}ngOnDestroy(){this.change.complete()}}return r.\u0275fac=function(i){return new(i||r)(gi(fU,8))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),kM=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({}),r})();const G6=new ky("13.0.0");class W6{}const Yg="*";function $g(r,n){return{type:7,name:r,definitions:n,options:{}}}function Zf(r,n=null){return{type:4,styles:n,timings:r}}function Y6(r,n=null){return{type:2,steps:r,options:n}}function Ra(r){return{type:6,styles:r,offset:null}}function af(r,n,i){return{type:0,name:r,styles:n,options:i}}function $6(r){return{type:5,steps:r}}function lf(r,n,i=null){return{type:1,expr:r,animation:n,options:i}}function mU(r=null){return{type:9,options:r}}function gU(r,n,i=null){return{type:11,selector:r,animation:n,options:i}}function X6(r){Promise.resolve(null).then(r)}class kb{constructor(n=0,i=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+i}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){X6(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const i="start"==n?this._onStartFns:this._onDoneFns;i.forEach(s=>s()),i.length=0}}class K6{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let i=0,s=0,l=0;const f=this.players.length;0==f?X6(()=>this._onFinish()):this.players.forEach(x=>{x.onDone(()=>{++i==f&&this._onFinish()}),x.onDestroy(()=>{++s==f&&this._onDestroy()}),x.onStart(()=>{++l==f&&this._onStart()})}),this.totalTime=this.players.reduce((x,A)=>Math.max(x,A.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const i=n*this.totalTime;this.players.forEach(s=>{const l=s.totalTime?Math.min(1,i/s.totalTime):1;s.setPosition(l)})}getPosition(){const n=this.players.reduce((i,s)=>null===i||s.totalTime>i.totalTime?s:i,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const i="start"==n?this._onStartFns:this._onDoneFns;i.forEach(s=>s()),i.length=0}}function Z6(){return"undefined"!=typeof window&&void 0!==window.document}function qk(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function By(r){switch(r.length){case 0:return new kb;case 1:return r[0];default:return new K6(r)}}function q6(r,n,i,s,l={},f={}){const x=[],A=[];let B=-1,q=null;if(s.forEach(vt=>{const Tt=vt.offset,Wt=Tt==B,ne=Wt&&q||{};Object.keys(vt).forEach(ce=>{let Ae=ce,Te=vt[ce];if("offset"!==ce)switch(Ae=n.normalizePropertyName(Ae,x),Te){case"!":Te=l[ce];break;case Yg:Te=f[ce];break;default:Te=n.normalizeStyleValue(ce,Ae,Te,x)}ne[Ae]=Te}),Wt||A.push(ne),q=ne,B=Tt}),x.length){const vt="\n - ";throw new Error(`Unable to animate due to the following errors:${vt}${x.join(vt)}`)}return A}function Jk(r,n,i,s){switch(n){case"start":r.onStart(()=>s(i&&Qk(i,"start",r)));break;case"done":r.onDone(()=>s(i&&Qk(i,"done",r)));break;case"destroy":r.onDestroy(()=>s(i&&Qk(i,"destroy",r)))}}function Qk(r,n,i){const s=i.totalTime,f=tA(r.element,r.triggerName,r.fromState,r.toState,n||r.phaseName,null==s?r.totalTime:s,!!i.disabled),x=r._data;return null!=x&&(f._data=x),f}function tA(r,n,i,s,l="",f=0,x){return{element:r,triggerName:n,fromState:i,toState:s,phaseName:l,totalTime:f,disabled:!!x}}function qf(r,n,i){let s;return r instanceof Map?(s=r.get(n),s||r.set(n,s=i)):(s=r[n],s||(s=r[n]=i)),s}function J6(r){const n=r.indexOf(":");return[r.substring(1,n),r.substr(n+1)]}let eA=(r,n)=>!1,iA=(r,n)=>!1,Q6=(r,n,i)=>[];const tR=qk();(tR||"undefined"!=typeof Element)&&(eA=Z6()?(r,n)=>{for(;n&&n!==document.documentElement;){if(n===r)return!0;n=n.parentNode||n.host}return!1}:(r,n)=>r.contains(n),iA=(()=>{if(tR||Element.prototype.matches)return(r,n)=>r.matches(n);{const r=Element.prototype,n=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector;return n?(i,s)=>n.apply(i,[s]):iA}})(),Q6=(r,n,i)=>{let s=[];if(i){const l=r.querySelectorAll(n);for(let f=0;f<l.length;f++)s.push(l[f])}else{const l=r.querySelector(n);l&&s.push(l)}return s});let bx=null,eR=!1;function nA(r){bx||(bx=("undefined"!=typeof document?document.body:null)||{},eR=!!bx.style&&"WebkitAppearance"in bx.style);let n=!0;return bx.style&&!function(r){return"ebkit"==r.substring(1,6)}(r)&&(n=r in bx.style,!n&&eR&&(n="Webkit"+r.charAt(0).toUpperCase()+r.substr(1)in bx.style)),n}const rA=iA,oA=eA,sA=Q6;function iR(r){const n={};return Object.keys(r).forEach(i=>{const s=i.replace(/([a-z])([A-Z])/g,"$1-$2");n[s]=r[i]}),n}let nR=(()=>{class r{validateStyleProperty(i){return nA(i)}matchesElement(i,s){return rA(i,s)}containsElement(i,s){return oA(i,s)}query(i,s,l){return sA(i,s,l)}computeStyle(i,s,l){return l||""}animate(i,s,l,f,x,A=[],B){return new kb(l,f)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})(),aA=(()=>{class r{}return r.NOOP=new nR,r})();const lA="ng-enter",lS="ng-leave",hS="ng-trigger",uS=".ng-trigger",oR="ng-animating",hA=".ng-animating";function _x(r){if("number"==typeof r)return r;const n=r.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:uA(parseFloat(n[1]),n[2])}function uA(r,n){return"s"===n?1e3*r:r}function cS(r,n,i){return r.hasOwnProperty("duration")?r:function(r,n,i){let l,f=0,x="";if("string"==typeof r){const A=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===A)return n.push(`The provided timing value "${r}" is invalid.`),{duration:0,delay:0,easing:""};l=uA(parseFloat(A[1]),A[2]);const B=A[3];null!=B&&(f=uA(parseFloat(B),A[4]));const q=A[5];q&&(x=q)}else l=r;if(!i){let A=!1,B=n.length;l<0&&(n.push("Duration values below 0 are not allowed for this animation step."),A=!0),f<0&&(n.push("Delay values below 0 are not allowed for this animation step."),A=!0),A&&n.splice(B,0,`The provided timing value "${r}" is invalid.`)}return{duration:l,delay:f,easing:x}}(r,n,i)}function Ab(r,n={}){return Object.keys(r).forEach(i=>{n[i]=r[i]}),n}function Vy(r,n,i={}){if(n)for(let s in r)i[s]=r[s];else Ab(r,i);return i}function aR(r,n,i){return i?n+":"+i+";":""}function lR(r){let n="";for(let i=0;i<r.style.length;i++){const s=r.style.item(i);n+=aR(0,s,r.style.getPropertyValue(s))}for(const i in r.style)r.style.hasOwnProperty(i)&&!i.startsWith("_")&&(n+=aR(0,CU(i),r.style[i]));r.setAttribute("style",n)}function fm(r,n,i){r.style&&(Object.keys(n).forEach(s=>{const l=fA(s);i&&!i.hasOwnProperty(s)&&(i[s]=r.style[l]),r.style[l]=n[s]}),qk()&&lR(r))}function Mx(r,n){r.style&&(Object.keys(n).forEach(i=>{const s=fA(i);r.style[s]=""}),qk()&&lR(r))}function AM(r){return Array.isArray(r)?1==r.length?r[0]:Y6(r):r}const cA=new RegExp("{{\\s*(.+?)\\s*}}","g");function hR(r){let n=[];if("string"==typeof r){let i;for(;i=cA.exec(r);)n.push(i[1]);cA.lastIndex=0}return n}function fS(r,n,i){const s=r.toString(),l=s.replace(cA,(f,x)=>{let A=n[x];return n.hasOwnProperty(x)||(i.push(`Please provide a value for the animation param ${x}`),A=""),A.toString()});return l==s?r:l}function dS(r){const n=[];let i=r.next();for(;!i.done;)n.push(i.value),i=r.next();return n}const MU=/-+([a-z0-9])/g;function fA(r){return r.replace(MU,(...n)=>n[1].toUpperCase())}function CU(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function uR(r,n){return 0===r||0===n}function cR(r,n,i){const s=Object.keys(i);if(s.length&&n.length){let f=n[0],x=[];if(s.forEach(A=>{f.hasOwnProperty(A)||x.push(A),f[A]=i[A]}),x.length)for(var l=1;l<n.length;l++){let A=n[l];x.forEach(function(B){A[B]=dA(r,B)})}}return n}function Jf(r,n,i){switch(n.type){case 7:return r.visitTrigger(n,i);case 0:return r.visitState(n,i);case 1:return r.visitTransition(n,i);case 2:return r.visitSequence(n,i);case 3:return r.visitGroup(n,i);case 4:return r.visitAnimate(n,i);case 5:return r.visitKeyframes(n,i);case 6:return r.visitStyle(n,i);case 8:return r.visitReference(n,i);case 9:return r.visitAnimateChild(n,i);case 10:return r.visitAnimateRef(n,i);case 11:return r.visitQuery(n,i);case 12:return r.visitStagger(n,i);default:throw new Error(`Unable to resolve animation metadata node #${n.type}`)}}function dA(r,n){return window.getComputedStyle(r)[n]}function SU(r,n){const i=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(s=>function(r,n,i){if(":"==r[0]){const B=function(r,n){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,s)=>parseFloat(s)>parseFloat(i);case":decrement":return(i,s)=>parseFloat(s)<parseFloat(i);default:return n.push(`The transition alias value "${r}" is not supported`),"* => *"}}(r,i);if("function"==typeof B)return void n.push(B);r=B}const s=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return i.push(`The provided transition expression "${r}" is not supported`),n;const l=s[1],f=s[2],x=s[3];n.push(fR(l,x));"<"==f[0]&&!("*"==l&&"*"==x)&&n.push(fR(x,l))}(s,i,n)):i.push(r),i}const mS=new Set(["true","1"]),gS=new Set(["false","0"]);function fR(r,n){const i=mS.has(r)||gS.has(r),s=mS.has(n)||gS.has(n);return(l,f)=>{let x="*"==r||r==l,A="*"==n||n==f;return!x&&i&&"boolean"==typeof l&&(x=l?mS.has(r):gS.has(r)),!A&&s&&"boolean"==typeof f&&(A=f?mS.has(n):gS.has(n)),x&&A}}const kU=new RegExp("s*:selfs*,?","g");function pA(r,n,i){return new AU(r).build(n,i)}class AU{constructor(n){this._driver=n}build(n,i){const s=new IU(i);return this._resetContextStyleTimingState(s),Jf(this,AM(n),s)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles={},n.collectedStyles[""]={},n.currentTime=0}visitTrigger(n,i){let s=i.queryCount=0,l=i.depCount=0;const f=[],x=[];return"@"==n.name.charAt(0)&&i.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),n.definitions.forEach(A=>{if(this._resetContextStyleTimingState(i),0==A.type){const B=A,q=B.name;q.toString().split(/\s*,\s*/).forEach(vt=>{B.name=vt,f.push(this.visitState(B,i))}),B.name=q}else if(1==A.type){const B=this.visitTransition(A,i);s+=B.queryCount,l+=B.depCount,x.push(B)}else i.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:n.name,states:f,transitions:x,queryCount:s,depCount:l,options:null}}visitState(n,i){const s=this.visitStyle(n.styles,i),l=n.options&&n.options.params||null;if(s.containsDynamicStyles){const f=new Set,x=l||{};if(s.styles.forEach(A=>{if(vS(A)){const B=A;Object.keys(B).forEach(q=>{hR(B[q]).forEach(vt=>{x.hasOwnProperty(vt)||f.add(vt)})})}}),f.size){const A=dS(f.values());i.errors.push(`state("${n.name}", ...) must define default values for all the following style substitutions: ${A.join(", ")}`)}}return{type:0,name:n.name,style:s,options:l?{params:l}:null}}visitTransition(n,i){i.queryCount=0,i.depCount=0;const s=Jf(this,AM(n.animation),i);return{type:1,matchers:SU(n.expr,i.errors),animation:s,queryCount:i.queryCount,depCount:i.depCount,options:Cx(n.options)}}visitSequence(n,i){return{type:2,steps:n.steps.map(s=>Jf(this,s,i)),options:Cx(n.options)}}visitGroup(n,i){const s=i.currentTime;let l=0;const f=n.steps.map(x=>{i.currentTime=s;const A=Jf(this,x,i);return l=Math.max(l,i.currentTime),A});return i.currentTime=l,{type:3,steps:f,options:Cx(n.options)}}visitAnimate(n,i){const s=function(r,n){let i=null;if(r.hasOwnProperty("duration"))i=r;else if("number"==typeof r)return mA(cS(r,n).duration,0,"");const s=r;if(s.split(/\s+/).some(f=>"{"==f.charAt(0)&&"{"==f.charAt(1))){const f=mA(0,0,"");return f.dynamic=!0,f.strValue=s,f}return i=i||cS(s,n),mA(i.duration,i.delay,i.easing)}(n.timings,i.errors);i.currentAnimateTimings=s;let l,f=n.styles?n.styles:Ra({});if(5==f.type)l=this.visitKeyframes(f,i);else{let x=n.styles,A=!1;if(!x){A=!0;const q={};s.easing&&(q.easing=s.easing),x=Ra(q)}i.currentTime+=s.duration+s.delay;const B=this.visitStyle(x,i);B.isEmptyStep=A,l=B}return i.currentAnimateTimings=null,{type:4,timings:s,style:l,options:null}}visitStyle(n,i){const s=this._makeStyleAst(n,i);return this._validateStyleAst(s,i),s}_makeStyleAst(n,i){const s=[];Array.isArray(n.styles)?n.styles.forEach(x=>{"string"==typeof x?x==Yg?s.push(x):i.errors.push(`The provided style string value ${x} is not allowed.`):s.push(x)}):s.push(n.styles);let l=!1,f=null;return s.forEach(x=>{if(vS(x)){const A=x,B=A.easing;if(B&&(f=B,delete A.easing),!l)for(let q in A)if(A[q].toString().indexOf("{{")>=0){l=!0;break}}}),{type:6,styles:s,easing:f,offset:n.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(n,i){const s=i.currentAnimateTimings;let l=i.currentTime,f=i.currentTime;s&&f>0&&(f-=s.duration+s.delay),n.styles.forEach(x=>{"string"!=typeof x&&Object.keys(x).forEach(A=>{if(!this._driver.validateStyleProperty(A))return void i.errors.push(`The provided animation property "${A}" is not a supported CSS property for animations`);const B=i.collectedStyles[i.currentQuerySelector],q=B[A];let vt=!0;q&&(f!=l&&f>=q.startTime&&l<=q.endTime&&(i.errors.push(`The CSS property "${A}" that exists between the times of "${q.startTime}ms" and "${q.endTime}ms" is also being animated in a parallel animation between the times of "${f}ms" and "${l}ms"`),vt=!1),f=q.startTime),vt&&(B[A]={startTime:f,endTime:l}),i.options&&function(r,n,i){const s=n.params||{},l=hR(r);l.length&&l.forEach(f=>{s.hasOwnProperty(f)||i.push(`Unable to resolve the local animation param ${f} in the given list of values`)})}(x[A],i.options,i.errors)})})}visitKeyframes(n,i){const s={type:5,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push("keyframes() must be placed inside of a call to animate()"),s;let f=0;const x=[];let A=!1,B=!1,q=0;const vt=n.steps.map(ri=>{const oi=this._makeStyleAst(ri,i);let ji=null!=oi.offset?oi.offset:function(r){if("string"==typeof r)return null;let n=null;if(Array.isArray(r))r.forEach(i=>{if(vS(i)&&i.hasOwnProperty("offset")){const s=i;n=parseFloat(s.offset),delete s.offset}});else if(vS(r)&&r.hasOwnProperty("offset")){const i=r;n=parseFloat(i.offset),delete i.offset}return n}(oi.styles),Zi=0;return null!=ji&&(f++,Zi=oi.offset=ji),B=B||Zi<0||Zi>1,A=A||Zi<q,q=Zi,x.push(Zi),oi});B&&i.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),A&&i.errors.push("Please ensure that all keyframe offsets are in order");const Tt=n.steps.length;let Wt=0;f>0&&f<Tt?i.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==f&&(Wt=1/(Tt-1));const ne=Tt-1,ce=i.currentTime,Ae=i.currentAnimateTimings,Te=Ae.duration;return vt.forEach((ri,oi)=>{const ji=Wt>0?oi==ne?1:Wt*oi:x[oi],Zi=ji*Te;i.currentTime=ce+Ae.delay+Zi,Ae.duration=Zi,this._validateStyleAst(ri,i),ri.offset=ji,s.styles.push(ri)}),s}visitReference(n,i){return{type:8,animation:Jf(this,AM(n.animation),i),options:Cx(n.options)}}visitAnimateChild(n,i){return i.depCount++,{type:9,options:Cx(n.options)}}visitAnimateRef(n,i){return{type:10,animation:this.visitReference(n.animation,i),options:Cx(n.options)}}visitQuery(n,i){const s=i.currentQuerySelector,l=n.options||{};i.queryCount++,i.currentQuery=n;const[f,x]=function(r){const n=!!r.split(/\s*,\s*/).find(i=>":self"==i);return n&&(r=r.replace(kU,"")),r=r.replace(/@\*/g,uS).replace(/@\w+/g,i=>uS+"-"+i.substr(1)).replace(/:animating/g,hA),[r,n]}(n.selector);i.currentQuerySelector=s.length?s+" "+f:f,qf(i.collectedStyles,i.currentQuerySelector,{});const A=Jf(this,AM(n.animation),i);return i.currentQuery=null,i.currentQuerySelector=s,{type:11,selector:f,limit:l.limit||0,optional:!!l.optional,includeSelf:x,animation:A,originalSelector:n.selector,options:Cx(n.options)}}visitStagger(n,i){i.currentQuery||i.errors.push("stagger() can only be used inside of query()");const s="full"===n.timings?{duration:0,delay:0,easing:"full"}:cS(n.timings,i.errors,!0);return{type:12,animation:Jf(this,AM(n.animation),i),timings:s,options:null}}}class IU{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function vS(r){return!Array.isArray(r)&&"object"==typeof r}function Cx(r){return r?(r=Ab(r)).params&&(r.params=function(r){return r?Ab(r):null}(r.params)):r={},r}function mA(r,n,i){return{duration:r,delay:n,easing:i}}function gA(r,n,i,s,l,f,x=null,A=!1){return{type:1,element:r,keyframes:n,preStyleProps:i,postStyleProps:s,duration:l,delay:f,totalTime:l+f,easing:x,subTimeline:A}}class yS{constructor(){this._map=new Map}consume(n){let i=this._map.get(n);return i?this._map.delete(n):i=[],i}append(n,i){let s=this._map.get(n);s||this._map.set(n,s=[]),s.push(...i)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const FU=new RegExp(":enter","g"),VU=new RegExp(":leave","g");function vA(r,n,i,s,l,f={},x={},A,B,q=[]){return(new jU).buildKeyframes(r,n,i,s,l,f,x,A,B,q)}class jU{buildKeyframes(n,i,s,l,f,x,A,B,q,vt=[]){q=q||new yS;const Tt=new yA(n,i,q,l,f,vt,[]);Tt.options=B,Tt.currentTimeline.setStyles([x],null,Tt.errors,B),Jf(this,s,Tt);const Wt=Tt.timelines.filter(ne=>ne.containsAnimation());if(Wt.length&&Object.keys(A).length){const ne=Wt[Wt.length-1];ne.allowOnlyTimelineStyles()||ne.setStyles([A],null,Tt.errors,B)}return Wt.length?Wt.map(ne=>ne.buildKeyframes()):[gA(i,[],[],[],0,0,"",!1)]}visitTrigger(n,i){}visitState(n,i){}visitTransition(n,i){}visitAnimateChild(n,i){const s=i.subInstructions.consume(i.element);if(s){const l=i.createSubContext(n.options),f=i.currentTimeline.currentTime,x=this._visitSubInstructions(s,l,l.options);f!=x&&i.transformIntoNewTimeline(x)}i.previousNode=n}visitAnimateRef(n,i){const s=i.createSubContext(n.options);s.transformIntoNewTimeline(),this.visitReference(n.animation,s),i.transformIntoNewTimeline(s.currentTimeline.currentTime),i.previousNode=n}_visitSubInstructions(n,i,s){let f=i.currentTimeline.currentTime;const x=null!=s.duration?_x(s.duration):null,A=null!=s.delay?_x(s.delay):null;return 0!==x&&n.forEach(B=>{const q=i.appendInstructionToTimeline(B,x,A);f=Math.max(f,q.duration+q.delay)}),f}visitReference(n,i){i.updateOptions(n.options,!0),Jf(this,n.animation,i),i.previousNode=n}visitSequence(n,i){const s=i.subContextCount;let l=i;const f=n.options;if(f&&(f.params||f.delay)&&(l=i.createSubContext(f),l.transformIntoNewTimeline(),null!=f.delay)){6==l.previousNode.type&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=xS);const x=_x(f.delay);l.delayNextStep(x)}n.steps.length&&(n.steps.forEach(x=>Jf(this,x,l)),l.currentTimeline.applyStylesToKeyframe(),l.subContextCount>s&&l.transformIntoNewTimeline()),i.previousNode=n}visitGroup(n,i){const s=[];let l=i.currentTimeline.currentTime;const f=n.options&&n.options.delay?_x(n.options.delay):0;n.steps.forEach(x=>{const A=i.createSubContext(n.options);f&&A.delayNextStep(f),Jf(this,x,A),l=Math.max(l,A.currentTimeline.currentTime),s.push(A.currentTimeline)}),s.forEach(x=>i.currentTimeline.mergeTimelineCollectedStyles(x)),i.transformIntoNewTimeline(l),i.previousNode=n}_visitTiming(n,i){if(n.dynamic){const s=n.strValue;return cS(i.params?fS(s,i.params,i.errors):s,i.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,i){const s=i.currentAnimateTimings=this._visitTiming(n.timings,i),l=i.currentTimeline;s.delay&&(i.incrementTime(s.delay),l.snapshotCurrentStyles());const f=n.style;5==f.type?this.visitKeyframes(f,i):(i.incrementTime(s.duration),this.visitStyle(f,i),l.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=n}visitStyle(n,i){const s=i.currentTimeline,l=i.currentAnimateTimings;!l&&s.getCurrentStyleProperties().length&&s.forwardFrame();const f=l&&l.easing||n.easing;n.isEmptyStep?s.applyEmptyStep(f):s.setStyles(n.styles,f,i.errors,i.options),i.previousNode=n}visitKeyframes(n,i){const s=i.currentAnimateTimings,l=i.currentTimeline.duration,f=s.duration,A=i.createSubContext().currentTimeline;A.easing=s.easing,n.styles.forEach(B=>{A.forwardTime((B.offset||0)*f),A.setStyles(B.styles,B.easing,i.errors,i.options),A.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(A),i.transformIntoNewTimeline(l+f),i.previousNode=n}visitQuery(n,i){const s=i.currentTimeline.currentTime,l=n.options||{},f=l.delay?_x(l.delay):0;f&&(6===i.previousNode.type||0==s&&i.currentTimeline.getCurrentStyleProperties().length)&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=xS);let x=s;const A=i.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!l.optional,i.errors);i.currentQueryTotal=A.length;let B=null;A.forEach((q,vt)=>{i.currentQueryIndex=vt;const Tt=i.createSubContext(n.options,q);f&&Tt.delayNextStep(f),q===i.element&&(B=Tt.currentTimeline),Jf(this,n.animation,Tt),Tt.currentTimeline.applyStylesToKeyframe(),x=Math.max(x,Tt.currentTimeline.currentTime)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(x),B&&(i.currentTimeline.mergeTimelineCollectedStyles(B),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=n}visitStagger(n,i){const s=i.parentContext,l=i.currentTimeline,f=n.timings,x=Math.abs(f.duration),A=x*(i.currentQueryTotal-1);let B=x*i.currentQueryIndex;switch(f.duration<0?"reverse":f.easing){case"reverse":B=A-B;break;case"full":B=s.currentStaggerTime}const vt=i.currentTimeline;B&&vt.delayNextStep(B);const Tt=vt.currentTime;Jf(this,n.animation,i),i.previousNode=n,s.currentStaggerTime=l.currentTime-Tt+(l.startTime-s.currentTimeline.startTime)}}const xS={};class yA{constructor(n,i,s,l,f,x,A,B){this._driver=n,this.element=i,this.subInstructions=s,this._enterClassName=l,this._leaveClassName=f,this.errors=x,this.timelines=A,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=B||new wS(this._driver,i,0),A.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,i){if(!n)return;const s=n;let l=this.options;null!=s.duration&&(l.duration=_x(s.duration)),null!=s.delay&&(l.delay=_x(s.delay));const f=s.params;if(f){let x=l.params;x||(x=this.options.params={}),Object.keys(f).forEach(A=>{(!i||!x.hasOwnProperty(A))&&(x[A]=fS(f[A],x,this.errors))})}}_copyOptions(){const n={};if(this.options){const i=this.options.params;if(i){const s=n.params={};Object.keys(i).forEach(l=>{s[l]=i[l]})}}return n}createSubContext(n=null,i,s){const l=i||this.element,f=new yA(this._driver,l,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(l,s||0));return f.previousNode=this.previousNode,f.currentAnimateTimings=this.currentAnimateTimings,f.options=this._copyOptions(),f.updateOptions(n),f.currentQueryIndex=this.currentQueryIndex,f.currentQueryTotal=this.currentQueryTotal,f.parentContext=this,this.subContextCount++,f}transformIntoNewTimeline(n){return this.previousNode=xS,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,i,s){const l={duration:null!=i?i:n.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+n.delay,easing:""},f=new zU(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,l,n.stretchStartingKeyframe);return this.timelines.push(f),l}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,i,s,l,f,x){let A=[];if(l&&A.push(this.element),n.length>0){n=(n=n.replace(FU,"."+this._enterClassName)).replace(VU,"."+this._leaveClassName);let q=this._driver.query(this.element,n,1!=s);0!==s&&(q=s<0?q.slice(q.length+s,q.length):q.slice(0,s)),A.push(...q)}return!f&&0==A.length&&x.push(`\`query("${i}")\` returned zero elements. (Use \`query("${i}", { optional: true })\` if you wish to allow this.)`),A}}class wS{constructor(n,i,s,l){this._driver=n,this.element=i,this.startTime=s,this._elementTimelineStylesLookup=l,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const i=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||i?(this.forwardTime(this.currentTime+n),i&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,i){return this.applyStylesToKeyframe(),new wS(this._driver,n,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,i){this._localTimelineStyles[n]=i,this._globalTimelineStyles[n]=i,this._styleSummary[n]={time:this.currentTime,value:i}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&(this._previousKeyframe.easing=n),Object.keys(this._globalTimelineStyles).forEach(i=>{this._backFill[i]=this._globalTimelineStyles[i]||Yg,this._currentKeyframe[i]=Yg}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,i,s,l){i&&(this._previousKeyframe.easing=i);const f=l&&l.params||{},x=function(r,n){const i={};let s;return r.forEach(l=>{"*"===l?(s=s||Object.keys(n),s.forEach(f=>{i[f]=Yg})):Vy(l,!1,i)}),i}(n,this._globalTimelineStyles);Object.keys(x).forEach(A=>{const B=fS(x[A],f,s);this._pendingStyles[A]=B,this._localTimelineStyles.hasOwnProperty(A)||(this._backFill[A]=this._globalTimelineStyles.hasOwnProperty(A)?this._globalTimelineStyles[A]:Yg),this._updateStyle(A,B)})}applyStylesToKeyframe(){const n=this._pendingStyles,i=Object.keys(n);0!=i.length&&(this._pendingStyles={},i.forEach(s=>{this._currentKeyframe[s]=n[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(n=>{const i=this._localTimelineStyles[n];this._pendingStyles[n]=i,this._updateStyle(n,i)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let i in this._currentKeyframe)n.push(i);return n}mergeTimelineCollectedStyles(n){Object.keys(n._styleSummary).forEach(i=>{const s=this._styleSummary[i],l=n._styleSummary[i];(!s||l.time>s.time)&&this._updateStyle(i,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,i=new Set,s=1===this._keyframes.size&&0===this.duration;let l=[];this._keyframes.forEach((A,B)=>{const q=Vy(A,!0);Object.keys(q).forEach(vt=>{const Tt=q[vt];"!"==Tt?n.add(vt):Tt==Yg&&i.add(vt)}),s||(q.offset=B/this.duration),l.push(q)});const f=n.size?dS(n.values()):[],x=i.size?dS(i.values()):[];if(s){const A=l[0],B=Ab(A);A.offset=0,B.offset=1,l=[A,B]}return gA(this.element,l,f,x,this.duration,this.startTime,this.easing,!1)}}class zU extends wS{constructor(n,i,s,l,f,x,A=!1){super(n,i,x.delay),this.keyframes=s,this.preStyleProps=l,this.postStyleProps=f,this._stretchStartingKeyframe=A,this.timings={duration:x.duration,delay:x.delay,easing:x.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:i,duration:s,easing:l}=this.timings;if(this._stretchStartingKeyframe&&i){const f=[],x=s+i,A=i/x,B=Vy(n[0],!1);B.offset=0,f.push(B);const q=Vy(n[0],!1);q.offset=mR(A),f.push(q);const vt=n.length-1;for(let Tt=1;Tt<=vt;Tt++){let Wt=Vy(n[Tt],!1);Wt.offset=mR((i+Wt.offset*s)/x),f.push(Wt)}s=x,i=0,l="",n=f}return gA(this.element,n,this.preStyleProps,this.postStyleProps,s,i,l,!0)}}function mR(r,n=3){const i=Math.pow(10,n-1);return Math.round(r*i)/i}class xA{}class UU extends xA{normalizePropertyName(n,i){return fA(n)}normalizeStyleValue(n,i,s,l){let f="";const x=s.toString().trim();if(GU[i]&&0!==s&&"0"!==s)if("number"==typeof s)f="px";else{const A=s.match(/^[+-]?[\d\.]+([a-z]*)$/);A&&0==A[1].length&&l.push(`Please provide a CSS unit value for ${n}:${s}`)}return x+f}}const GU=(()=>function(r){const n={};return r.forEach(i=>n[i]=!0),n}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function gR(r,n,i,s,l,f,x,A,B,q,vt,Tt,Wt){return{type:0,element:r,triggerName:n,isRemovalTransition:l,fromState:i,fromStyles:f,toState:s,toStyles:x,timelines:A,queriedElements:B,preStyleProps:q,postStyleProps:vt,totalTime:Tt,errors:Wt}}const wA={};class vR{constructor(n,i,s){this._triggerName=n,this.ast=i,this._stateStyles=s}match(n,i,s,l){return function(r,n,i,s,l){return r.some(f=>f(n,i,s,l))}(this.ast.matchers,n,i,s,l)}buildStyles(n,i,s){const l=this._stateStyles["*"],f=this._stateStyles[n],x=l?l.buildStyles(i,s):{};return f?f.buildStyles(i,s):x}build(n,i,s,l,f,x,A,B,q,vt){const Tt=[],Wt=this.ast.options&&this.ast.options.params||wA,ce=this.buildStyles(s,A&&A.params||wA,Tt),Ae=B&&B.params||wA,Te=this.buildStyles(l,Ae,Tt),ri=new Set,oi=new Map,ji=new Map,Zi="void"===l,Di={params:Dn(Dn({},Wt),Ae)},Vi=vt?[]:vA(n,i,this.ast.animation,f,x,ce,Te,Di,q,Tt);let Yi=0;if(Vi.forEach(Zs=>{Yi=Math.max(Zs.duration+Zs.delay,Yi)}),Tt.length)return gR(i,this._triggerName,s,l,Zi,ce,Te,[],[],oi,ji,Yi,Tt);Vi.forEach(Zs=>{const cl=Zs.element,fh=qf(oi,cl,{});Zs.preStyleProps.forEach(ma=>fh[ma]=!0);const Dl=qf(ji,cl,{});Zs.postStyleProps.forEach(ma=>Dl[ma]=!0),cl!==i&&ri.add(cl)});const rn=dS(ri.values());return gR(i,this._triggerName,s,l,Zi,ce,Te,Vi,rn,oi,ji,Yi)}}class $U{constructor(n,i,s){this.styles=n,this.defaultParams=i,this.normalizer=s}buildStyles(n,i){const s={},l=Ab(this.defaultParams);return Object.keys(n).forEach(f=>{const x=n[f];null!=x&&(l[f]=x)}),this.styles.styles.forEach(f=>{if("string"!=typeof f){const x=f;Object.keys(x).forEach(A=>{let B=x[A];B.length>1&&(B=fS(B,l,i));const q=this.normalizer.normalizePropertyName(A,i);B=this.normalizer.normalizeStyleValue(A,q,B,i),s[q]=B})}}),s}}class KU{constructor(n,i,s){this.name=n,this.ast=i,this._normalizer=s,this.transitionFactories=[],this.states={},i.states.forEach(l=>{this.states[l.name]=new $U(l.style,l.options&&l.options.params||{},s)}),yR(this.states,"true","1"),yR(this.states,"false","0"),i.transitions.forEach(l=>{this.transitionFactories.push(new vR(n,l,this.states))}),this.fallbackTransition=function(r,n,i){return new vR(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(x,A)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,i,s,l){return this.transitionFactories.find(x=>x.match(n,i,s,l))||null}matchStyles(n,i,s){return this.fallbackTransition.buildStyles(n,i,s)}}function yR(r,n,i){r.hasOwnProperty(n)?r.hasOwnProperty(i)||(r[i]=r[n]):r.hasOwnProperty(i)&&(r[n]=r[i])}const qU=new yS;class JU{constructor(n,i,s){this.bodyNode=n,this._driver=i,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(n,i){const s=[],l=pA(this._driver,i,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[n]=l}_buildPlayer(n,i,s){const l=n.element,f=q6(0,this._normalizer,0,n.keyframes,i,s);return this._driver.animate(l,f,n.duration,n.delay,n.easing,[],!0)}create(n,i,s={}){const l=[],f=this._animations[n];let x;const A=new Map;if(f?(x=vA(this._driver,i,f,lA,lS,{},{},s,qU,l),x.forEach(vt=>{const Tt=qf(A,vt.element,{});vt.postStyleProps.forEach(Wt=>Tt[Wt]=null)})):(l.push("The requested animation doesn't exist or has already been destroyed"),x=[]),l.length)throw new Error(`Unable to create the animation due to the following errors: ${l.join("\n")}`);A.forEach((vt,Tt)=>{Object.keys(vt).forEach(Wt=>{vt[Wt]=this._driver.computeStyle(Tt,Wt,Yg)})});const q=By(x.map(vt=>{const Tt=A.get(vt.element);return this._buildPlayer(vt,{},Tt)}));return this._playersById[n]=q,q.onDestroy(()=>this.destroy(n)),this.players.push(q),q}destroy(n){const i=this._getPlayer(n);i.destroy(),delete this._playersById[n];const s=this.players.indexOf(i);s>=0&&this.players.splice(s,1)}_getPlayer(n){const i=this._playersById[n];if(!i)throw new Error(`Unable to find the timeline player referenced by ${n}`);return i}listen(n,i,s,l){const f=tA(i,"","","");return Jk(this._getPlayer(n),s,f,l),()=>{}}command(n,i,s,l){if("register"==s)return void this.register(n,l[0]);if("create"==s)return void this.create(n,i,l[0]||{});const f=this._getPlayer(n);switch(s){case"play":f.play();break;case"pause":f.pause();break;case"reset":f.reset();break;case"restart":f.restart();break;case"finish":f.finish();break;case"init":f.init();break;case"setPosition":f.setPosition(parseFloat(l[0]));break;case"destroy":this.destroy(n)}}}const xR="ng-animate-queued",wR="ng-animate-disabled",bR=".ng-animate-disabled",iG=[],_R={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nG={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Jd="__ng_removed";class bA{constructor(n,i=""){this.namespaceId=i;const s=n&&n.hasOwnProperty("value");if(this.value=null!=(r=s?n.value:n)?r:null,s){const f=Ab(n);delete f.value,this.options=f}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(n){const i=n.params;if(i){const s=this.options.params;Object.keys(i).forEach(l=>{null==s[l]&&(s[l]=i[l])})}}}const TM="void",_A=new bA(TM);class rG{constructor(n,i,s){this.id=n,this.hostElement=i,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Qd(i,this._hostClassName)}listen(n,i,s,l){if(!this._triggers.hasOwnProperty(i))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${i}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${i}" because the provided event is undefined!`);if("start"!=(r=s)&&"done"!=r)throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${i}" is not supported!`);var r;const f=qf(this._elementListeners,n,[]),x={name:i,phase:s,callback:l};f.push(x);const A=qf(this._engine.statesByElement,n,{});return A.hasOwnProperty(i)||(Qd(n,hS),Qd(n,hS+"-"+i),A[i]=_A),()=>{this._engine.afterFlush(()=>{const B=f.indexOf(x);B>=0&&f.splice(B,1),this._triggers[i]||delete A[i]})}}register(n,i){return!this._triggers[n]&&(this._triggers[n]=i,!0)}_getTrigger(n){const i=this._triggers[n];if(!i)throw new Error(`The provided animation trigger "${n}" has not been registered!`);return i}trigger(n,i,s,l=!0){const f=this._getTrigger(i),x=new MA(this.id,i,n);let A=this._engine.statesByElement.get(n);A||(Qd(n,hS),Qd(n,hS+"-"+i),this._engine.statesByElement.set(n,A={}));let B=A[i];const q=new bA(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&B&&q.absorbOptions(B.options),A[i]=q,B||(B=_A),q.value!==TM&&B.value===q.value){if(!function(r,n){const i=Object.keys(r),s=Object.keys(n);if(i.length!=s.length)return!1;for(let l=0;l<i.length;l++){const f=i[l];if(!n.hasOwnProperty(f)||r[f]!==n[f])return!1}return!0}(B.params,q.params)){const Ae=[],Te=f.matchStyles(B.value,B.params,Ae),ri=f.matchStyles(q.value,q.params,Ae);Ae.length?this._engine.reportError(Ae):this._engine.afterFlush(()=>{Mx(n,Te),fm(n,ri)})}return}const Wt=qf(this._engine.playersByElement,n,[]);Wt.forEach(Ae=>{Ae.namespaceId==this.id&&Ae.triggerName==i&&Ae.queued&&Ae.destroy()});let ne=f.matchTransition(B.value,q.value,n,q.params),ce=!1;if(!ne){if(!l)return;ne=f.fallbackTransition,ce=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:i,transition:ne,fromState:B,toState:q,player:x,isFallbackTransition:ce}),ce||(Qd(n,xR),x.onStart(()=>{Tb(n,xR)})),x.onDone(()=>{let Ae=this.players.indexOf(x);Ae>=0&&this.players.splice(Ae,1);const Te=this._engine.playersByElement.get(n);if(Te){let ri=Te.indexOf(x);ri>=0&&Te.splice(ri,1)}}),this.players.push(x),Wt.push(x),x}deregister(n){delete this._triggers[n],this._engine.statesByElement.forEach((i,s)=>{delete i[n]}),this._elementListeners.forEach((i,s)=>{this._elementListeners.set(s,i.filter(l=>l.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const i=this._engine.playersByElement.get(n);i&&(i.forEach(s=>s.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,i){const s=this._engine.driver.query(n,uS,!0);s.forEach(l=>{if(l[Jd])return;const f=this._engine.fetchNamespacesByElement(l);f.size?f.forEach(x=>x.triggerLeaveAnimation(l,i,!1,!0)):this.clearElementCache(l)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(l=>this.clearElementCache(l)))}triggerLeaveAnimation(n,i,s,l){const f=this._engine.statesByElement.get(n);if(f){const x=[];if(Object.keys(f).forEach(A=>{if(this._triggers[A]){const B=this.trigger(n,A,TM,l);B&&x.push(B)}}),x.length)return this._engine.markElementAsRemoved(this.id,n,!0,i),s&&By(x).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const i=this._elementListeners.get(n),s=this._engine.statesByElement.get(n);if(i&&s){const l=new Set;i.forEach(f=>{const x=f.name;if(l.has(x))return;l.add(x);const B=this._triggers[x].fallbackTransition,q=s[x]||_A,vt=new bA(TM),Tt=new MA(this.id,x,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:x,transition:B,fromState:q,toState:vt,player:Tt,isFallbackTransition:!0})})}}removeNode(n,i){const s=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,i),this.triggerLeaveAnimation(n,i,!0))return;let l=!1;if(s.totalAnimations){const f=s.players.length?s.playersByQueriedElement.get(n):[];if(f&&f.length)l=!0;else{let x=n;for(;x=x.parentNode;)if(s.statesByElement.get(x)){l=!0;break}}}if(this.prepareLeaveAnimationListeners(n),l)s.markElementAsRemoved(this.id,n,!1,i);else{const f=n[Jd];(!f||f===_R)&&(s.afterFlush(()=>this.clearElementCache(n)),s.destroyInnerAnimations(n),s._onRemovalComplete(n,i))}}insertNode(n,i){Qd(n,this._hostClassName)}drainQueuedTransitions(n){const i=[];return this._queue.forEach(s=>{const l=s.player;if(l.destroyed)return;const f=s.element,x=this._elementListeners.get(f);x&&x.forEach(A=>{if(A.name==s.triggerName){const B=tA(f,s.triggerName,s.fromState.value,s.toState.value);B._data=n,Jk(s.player,A.phase,B,A.callback)}}),l.markedForDestroy?this._engine.afterFlush(()=>{l.destroy()}):i.push(s)}),this._queue=[],i.sort((s,l)=>{const f=s.transition.ast.depCount,x=l.transition.ast.depCount;return 0==f||0==x?f-x:this._engine.driver.containsElement(s.element,l.element)?1:-1})}destroy(n){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let i=!1;return this._elementListeners.has(n)&&(i=!0),i=!!this._queue.find(s=>s.element===n)||i,i}}class oG{constructor(n,i,s){this.bodyNode=n,this.driver=i,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(l,f)=>{}}_onRemovalComplete(n,i){this.onRemovalComplete(n,i)}get queuedPlayers(){const n=[];return this._namespaceList.forEach(i=>{i.players.forEach(s=>{s.queued&&n.push(s)})}),n}createNamespace(n,i){const s=new rG(n,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(s,i):(this.newHostElements.set(i,s),this.collectEnterElement(i)),this._namespaceLookup[n]=s}_balanceNamespaceList(n,i){const s=this._namespaceList.length-1;if(s>=0){let l=!1;for(let f=s;f>=0;f--)if(this.driver.containsElement(this._namespaceList[f].hostElement,i)){this._namespaceList.splice(f+1,0,n),l=!0;break}l||this._namespaceList.splice(0,0,n)}else this._namespaceList.push(n);return this.namespacesByHostElement.set(i,n),n}register(n,i){let s=this._namespaceLookup[n];return s||(s=this.createNamespace(n,i)),s}registerTrigger(n,i,s){let l=this._namespaceLookup[n];l&&l.register(i,s)&&this.totalAnimations++}destroy(n,i){if(!n)return;const s=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[n];const l=this._namespaceList.indexOf(s);l>=0&&this._namespaceList.splice(l,1)}),this.afterFlushAnimationsDone(()=>s.destroy(i))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const i=new Set,s=this.statesByElement.get(n);if(s){const l=Object.keys(s);for(let f=0;f<l.length;f++){const x=s[l[f]].namespaceId;if(x){const A=this._fetchNamespace(x);A&&i.add(A)}}}return i}trigger(n,i,s,l){if(bS(i)){const f=this._fetchNamespace(n);if(f)return f.trigger(i,s,l),!0}return!1}insertNode(n,i,s,l){if(!bS(i))return;const f=i[Jd];if(f&&f.setForRemoval){f.setForRemoval=!1,f.setForMove=!0;const x=this.collectedLeaveElements.indexOf(i);x>=0&&this.collectedLeaveElements.splice(x,1)}if(n){const x=this._fetchNamespace(n);x&&x.insertNode(i,s)}l&&this.collectEnterElement(i)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,i){i?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Qd(n,wR)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Tb(n,wR))}removeNode(n,i,s,l){if(bS(i)){const f=n?this._fetchNamespace(n):null;if(f?f.removeNode(i,l):this.markElementAsRemoved(n,i,!1,l),s){const x=this.namespacesByHostElement.get(i);x&&x.id!==n&&x.removeNode(i,l)}}else this._onRemovalComplete(i,l)}markElementAsRemoved(n,i,s,l){this.collectedLeaveElements.push(i),i[Jd]={namespaceId:n,setForRemoval:l,hasAnimation:s,removedBeforeQueried:!1}}listen(n,i,s,l,f){return bS(i)?this._fetchNamespace(n).listen(i,s,l,f):()=>{}}_buildInstruction(n,i,s,l,f){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,s,l,n.fromState.options,n.toState.options,i,f)}destroyInnerAnimations(n){let i=this.driver.query(n,uS,!0);i.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(i=this.driver.query(n,hA,!0),i.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(n){const i=this.playersByElement.get(n);i&&i.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(n){const i=this.playersByQueriedElement.get(n);i&&i.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return By(this.players).onDone(()=>n());n()})}processLeaveNode(n){const i=n[Jd];if(i&&i.setForRemoval){if(n[Jd]=_R,i.namespaceId){this.destroyInnerAnimations(n);const s=this._fetchNamespace(i.namespaceId);s&&s.clearElementCache(n)}this._onRemovalComplete(n,i.setForRemoval)}this.driver.matchesElement(n,bR)&&this.markElementAsDisabled(n,!1),this.driver.query(n,bR,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(n=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,l)=>this._balanceNamespaceList(s,l)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)Qd(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{i=this._flushAnimations(s,n)}finally{for(let l=0;l<s.length;l++)s[l]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],i.length?By(i).onDone(()=>{s.forEach(l=>l())}):s.forEach(l=>l())}}reportError(n){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${n.join("\n")}`)}_flushAnimations(n,i){const s=new yS,l=[],f=new Map,x=[],A=new Map,B=new Map,q=new Map,vt=new Set;this.disabledNodes.forEach(Nn=>{vt.add(Nn);const ar=this.driver.query(Nn,".ng-animate-queued",!0);for(let Ur=0;Ur<ar.length;Ur++)vt.add(ar[Ur])});const Tt=this.bodyNode,Wt=Array.from(this.statesByElement.keys()),ne=SR(Wt,this.collectedEnterElements),ce=new Map;let Ae=0;ne.forEach((Nn,ar)=>{const Ur=lA+Ae++;ce.set(ar,Ur),Nn.forEach(ko=>Qd(ko,Ur))});const Te=[],ri=new Set,oi=new Set;for(let Nn=0;Nn<this.collectedLeaveElements.length;Nn++){const ar=this.collectedLeaveElements[Nn],Ur=ar[Jd];Ur&&Ur.setForRemoval&&(Te.push(ar),ri.add(ar),Ur.hasAnimation?this.driver.query(ar,".ng-star-inserted",!0).forEach(ko=>ri.add(ko)):oi.add(ar))}const ji=new Map,Zi=SR(Wt,Array.from(ri));Zi.forEach((Nn,ar)=>{const Ur=lS+Ae++;ji.set(ar,Ur),Nn.forEach(ko=>Qd(ko,Ur))}),n.push(()=>{ne.forEach((Nn,ar)=>{const Ur=ce.get(ar);Nn.forEach(ko=>Tb(ko,Ur))}),Zi.forEach((Nn,ar)=>{const Ur=ji.get(ar);Nn.forEach(ko=>Tb(ko,Ur))}),Te.forEach(Nn=>{this.processLeaveNode(Nn)})});const Di=[],Vi=[];for(let Nn=this._namespaceList.length-1;Nn>=0;Nn--)this._namespaceList[Nn].drainQueuedTransitions(i).forEach(Ur=>{const ko=Ur.player,Ds=Ur.element;if(Di.push(ko),this.collectedEnterElements.length){const pf=Ds[Jd];if(pf&&pf.setForMove)return void ko.destroy()}const Oa=!Tt||!this.driver.containsElement(Tt,Ds),Rh=ji.get(Ds),df=ce.get(Ds),qs=this._buildInstruction(Ur,s,df,Rh,Oa);if(qs.errors&&qs.errors.length)Vi.push(qs);else{if(Oa)return ko.onStart(()=>Mx(Ds,qs.fromStyles)),ko.onDestroy(()=>fm(Ds,qs.toStyles)),void l.push(ko);if(Ur.isFallbackTransition)return ko.onStart(()=>Mx(Ds,qs.fromStyles)),ko.onDestroy(()=>fm(Ds,qs.toStyles)),void l.push(ko);qs.timelines.forEach(pf=>pf.stretchStartingKeyframe=!0),s.append(Ds,qs.timelines),x.push({instruction:qs,player:ko,element:Ds}),qs.queriedElements.forEach(pf=>qf(A,pf,[]).push(ko)),qs.preStyleProps.forEach((pf,m0)=>{const Ru=Object.keys(pf);if(Ru.length){let Oh=B.get(m0);Oh||B.set(m0,Oh=new Set),Ru.forEach(np=>Oh.add(np))}}),qs.postStyleProps.forEach((pf,m0)=>{const Ru=Object.keys(pf);let Oh=q.get(m0);Oh||q.set(m0,Oh=new Set),Ru.forEach(np=>Oh.add(np))})}});if(Vi.length){const Nn=[];Vi.forEach(ar=>{Nn.push(`@${ar.triggerName} has failed due to:\n`),ar.errors.forEach(Ur=>Nn.push(`- ${Ur}\n`))}),Di.forEach(ar=>ar.destroy()),this.reportError(Nn)}const Yi=new Map,rn=new Map;x.forEach(Nn=>{const ar=Nn.element;s.has(ar)&&(rn.set(ar,ar),this._beforeAnimationBuild(Nn.player.namespaceId,Nn.instruction,Yi))}),l.forEach(Nn=>{const ar=Nn.element;this._getPreviousPlayers(ar,!1,Nn.namespaceId,Nn.triggerName,null).forEach(ko=>{qf(Yi,ar,[]).push(ko),ko.destroy()})});const Zs=Te.filter(Nn=>ER(Nn,B,q)),cl=new Map;CR(cl,this.driver,oi,q,Yg).forEach(Nn=>{ER(Nn,B,q)&&Zs.push(Nn)});const Dl=new Map;ne.forEach((Nn,ar)=>{CR(Dl,this.driver,new Set(Nn),B,"!")}),Zs.forEach(Nn=>{const ar=cl.get(Nn),Ur=Dl.get(Nn);cl.set(Nn,Dn(Dn({},ar),Ur))});const ma=[],ip=[],nd={};x.forEach(Nn=>{const{element:ar,player:Ur,instruction:ko}=Nn;if(s.has(ar)){if(vt.has(ar))return Ur.onDestroy(()=>fm(ar,ko.toStyles)),Ur.disabled=!0,Ur.overrideTotalTime(ko.totalTime),void l.push(Ur);let Ds=nd;if(rn.size>1){let Rh=ar;const df=[];for(;Rh=Rh.parentNode;){const qs=rn.get(Rh);if(qs){Ds=qs;break}df.push(Rh)}df.forEach(qs=>rn.set(qs,Ds))}const Oa=this._buildAnimation(Ur.namespaceId,ko,Yi,f,Dl,cl);if(Ur.setRealPlayer(Oa),Ds===nd)ma.push(Ur);else{const Rh=this.playersByElement.get(Ds);Rh&&Rh.length&&(Ur.parentPlayer=By(Rh)),l.push(Ur)}}else Mx(ar,ko.fromStyles),Ur.onDestroy(()=>fm(ar,ko.toStyles)),ip.push(Ur),vt.has(ar)&&l.push(Ur)}),ip.forEach(Nn=>{const ar=f.get(Nn.element);if(ar&&ar.length){const Ur=By(ar);Nn.setRealPlayer(Ur)}}),l.forEach(Nn=>{Nn.parentPlayer?Nn.syncPlayerEvents(Nn.parentPlayer):Nn.destroy()});for(let Nn=0;Nn<Te.length;Nn++){const ar=Te[Nn],Ur=ar[Jd];if(Tb(ar,lS),Ur&&Ur.hasAnimation)continue;let ko=[];if(A.size){let Oa=A.get(ar);Oa&&Oa.length&&ko.push(...Oa);let Rh=this.driver.query(ar,hA,!0);for(let df=0;df<Rh.length;df++){let qs=A.get(Rh[df]);qs&&qs.length&&ko.push(...qs)}}const Ds=ko.filter(Oa=>!Oa.destroyed);Ds.length?hG(this,ar,Ds):this.processLeaveNode(ar)}return Te.length=0,ma.forEach(Nn=>{this.players.push(Nn),Nn.onDone(()=>{Nn.destroy();const ar=this.players.indexOf(Nn);this.players.splice(ar,1)}),Nn.play()}),ma}elementContainsData(n,i){let s=!1;const l=i[Jd];return l&&l.setForRemoval&&(s=!0),this.playersByElement.has(i)&&(s=!0),this.playersByQueriedElement.has(i)&&(s=!0),this.statesByElement.has(i)&&(s=!0),this._fetchNamespace(n).elementContainsData(i)||s}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,i,s,l,f){let x=[];if(i){const A=this.playersByQueriedElement.get(n);A&&(x=A)}else{const A=this.playersByElement.get(n);if(A){const B=!f||f==TM;A.forEach(q=>{q.queued||!B&&q.triggerName!=l||x.push(q)})}}return(s||l)&&(x=x.filter(A=>!(s&&s!=A.namespaceId||l&&l!=A.triggerName))),x}_beforeAnimationBuild(n,i,s){const f=i.element,x=i.isRemovalTransition?void 0:n,A=i.isRemovalTransition?void 0:i.triggerName;for(const B of i.timelines){const q=B.element,vt=q!==f,Tt=qf(s,q,[]);this._getPreviousPlayers(q,vt,x,A,i.toState).forEach(ne=>{const ce=ne.getRealPlayer();ce.beforeDestroy&&ce.beforeDestroy(),ne.destroy(),Tt.push(ne)})}Mx(f,i.fromStyles)}_buildAnimation(n,i,s,l,f,x){const A=i.triggerName,B=i.element,q=[],vt=new Set,Tt=new Set,Wt=i.timelines.map(ce=>{const Ae=ce.element;vt.add(Ae);const Te=Ae[Jd];if(Te&&Te.removedBeforeQueried)return new kb(ce.duration,ce.delay);const ri=Ae!==B,oi=function(r){const n=[];return DR(r,n),n}((s.get(Ae)||iG).map(Yi=>Yi.getRealPlayer())).filter(Yi=>!!Yi.element&&Yi.element===Ae),ji=f.get(Ae),Zi=x.get(Ae),Di=q6(0,this._normalizer,0,ce.keyframes,ji,Zi),Vi=this._buildPlayer(ce,Di,oi);if(ce.subTimeline&&l&&Tt.add(Ae),ri){const Yi=new MA(n,A,Ae);Yi.setRealPlayer(Vi),q.push(Yi)}return Vi});q.forEach(ce=>{qf(this.playersByQueriedElement,ce.element,[]).push(ce),ce.onDone(()=>function(r,n,i){let s;if(r instanceof Map){if(s=r.get(n),s){if(s.length){const l=s.indexOf(i);s.splice(l,1)}0==s.length&&r.delete(n)}}else if(s=r[n],s){if(s.length){const l=s.indexOf(i);s.splice(l,1)}0==s.length&&delete r[n]}return s}(this.playersByQueriedElement,ce.element,ce))}),vt.forEach(ce=>Qd(ce,oR));const ne=By(Wt);return ne.onDestroy(()=>{vt.forEach(ce=>Tb(ce,oR)),fm(B,i.toStyles)}),Tt.forEach(ce=>{qf(l,ce,[]).push(ne)}),ne}_buildPlayer(n,i,s){return i.length>0?this.driver.animate(n.element,i,n.duration,n.delay,n.easing,s):new kb(n.duration,n.delay)}}class MA{constructor(n,i,s){this.namespaceId=n,this.triggerName=i,this.element=s,this._player=new kb,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,Object.keys(this._queuedCallbacks).forEach(i=>{this._queuedCallbacks[i].forEach(s=>Jk(n,i,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const i=this._player;i.triggerCallback&&n.onStart(()=>i.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,i){qf(this._queuedCallbacks,n,[]).push(i)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const i=this._player;i.triggerCallback&&i.triggerCallback(n)}}function bS(r){return r&&1===r.nodeType}function MR(r,n){const i=r.style.display;return r.style.display=null!=n?n:"none",i}function CR(r,n,i,s,l){const f=[];i.forEach(B=>f.push(MR(B)));const x=[];s.forEach((B,q)=>{const vt={};B.forEach(Tt=>{const Wt=vt[Tt]=n.computeStyle(q,Tt,l);(!Wt||0==Wt.length)&&(q[Jd]=nG,x.push(q))}),r.set(q,vt)});let A=0;return i.forEach(B=>MR(B,f[A++])),x}function SR(r,n){const i=new Map;if(r.forEach(A=>i.set(A,[])),0==n.length)return i;const l=new Set(n),f=new Map;function x(A){if(!A)return 1;let B=f.get(A);if(B)return B;const q=A.parentNode;return B=i.has(q)?q:l.has(q)?1:x(q),f.set(A,B),B}return n.forEach(A=>{const B=x(A);1!==B&&i.get(B).push(A)}),i}const _S="$$classes";function Qd(r,n){if(r.classList)r.classList.add(n);else{let i=r[_S];i||(i=r[_S]={}),i[n]=!0}}function Tb(r,n){if(r.classList)r.classList.remove(n);else{let i=r[_S];i&&delete i[n]}}function hG(r,n,i){By(i).onDone(()=>r.processLeaveNode(n))}function DR(r,n){for(let i=0;i<r.length;i++){const s=r[i];s instanceof K6?DR(s.players,n):n.push(s)}}function ER(r,n,i){const s=i.get(r);if(!s)return!1;let l=n.get(r);return l?s.forEach(f=>l.add(f)):n.set(r,s),i.delete(r),!0}class MS{constructor(n,i,s){this.bodyNode=n,this._driver=i,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(l,f)=>{},this._transitionEngine=new oG(n,i,s),this._timelineEngine=new JU(n,i,s),this._transitionEngine.onRemovalComplete=(l,f)=>this.onRemovalComplete(l,f)}registerTrigger(n,i,s,l,f){const x=n+"-"+l;let A=this._triggerCache[x];if(!A){const B=[],q=pA(this._driver,f,B);if(B.length)throw new Error(`The animation trigger "${l}" has failed to build due to the following errors:\n - ${B.join("\n - ")}`);A=function(r,n,i){return new KU(r,n,i)}(l,q,this._normalizer),this._triggerCache[x]=A}this._transitionEngine.registerTrigger(i,l,A)}register(n,i){this._transitionEngine.register(n,i)}destroy(n,i){this._transitionEngine.destroy(n,i)}onInsert(n,i,s,l){this._transitionEngine.insertNode(n,i,s,l)}onRemove(n,i,s,l){this._transitionEngine.removeNode(n,i,l||!1,s)}disableAnimations(n,i){this._transitionEngine.markElementAsDisabled(n,i)}process(n,i,s,l){if("@"==s.charAt(0)){const[f,x]=J6(s);this._timelineEngine.command(f,i,x,l)}else this._transitionEngine.trigger(n,i,s,l)}listen(n,i,s,l,f){if("@"==s.charAt(0)){const[x,A]=J6(s);return this._timelineEngine.listen(x,i,A,f)}return this._transitionEngine.listen(n,i,s,l,f)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function kR(r,n){let i=null,s=null;return Array.isArray(n)&&n.length?(i=CA(n[0]),n.length>1&&(s=CA(n[n.length-1]))):n&&(i=CA(n)),i||s?new fG(r,i,s):null}let fG=(()=>{class r{constructor(i,s,l){this._element=i,this._startStyles=s,this._endStyles=l,this._state=0;let f=r.initialStylesByElement.get(i);f||r.initialStylesByElement.set(i,f={}),this._initialStyles=f}start(){this._state<1&&(this._startStyles&&fm(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(fm(this._element,this._initialStyles),this._endStyles&&(fm(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(Mx(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Mx(this._element,this._endStyles),this._endStyles=null),fm(this._element,this._initialStyles),this._state=3)}}return r.initialStylesByElement=new WeakMap,r})();function CA(r){let n=null;const i=Object.keys(r);for(let s=0;s<i.length;s++){const l=i[s];dG(l)&&(n=n||{},n[l]=r[l])}return n}function dG(r){return"display"===r||"position"===r}const AR="animation",TR="animationend";class gG{constructor(n,i,s,l,f,x,A){this._element=n,this._name=i,this._duration=s,this._delay=l,this._easing=f,this._fillMode=x,this._onDoneFn=A,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=B=>this._handleCallback(B)}apply(){(function(r,n){const i=DA(r,"").trim();let s=0;i.length&&(function(r,n){let i=0;for(let s=0;s<r.length;s++)","===r.charAt(s)&&i++;return i}(i)+1,n=`${i}, ${n}`),CS(r,"",n)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),RR(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){PR(this._element,this._name,"paused")}resume(){PR(this._element,this._name,"running")}setPosition(n){const i=IR(this._element,this._name);this._position=n*this._duration,CS(this._element,"Delay",`-${this._position}ms`,i)}getPosition(){return this._position}_handleCallback(n){const i=n._ngTestManualTimestamp||Date.now(),s=1e3*parseFloat(n.elapsedTime.toFixed(3));n.animationName==this._name&&Math.max(i-this._startTime,0)>=this._delay&&s>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),RR(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(r,n){const s=DA(r,"").split(","),l=SA(s,n);l>=0&&(s.splice(l,1),CS(r,"",s.join(",")))}(this._element,this._name))}}function PR(r,n,i){CS(r,"PlayState",i,IR(r,n))}function IR(r,n){const i=DA(r,"");return i.indexOf(",")>0?SA(i.split(","),n):SA([i],n)}function SA(r,n){for(let i=0;i<r.length;i++)if(r[i].indexOf(n)>=0)return i;return-1}function RR(r,n,i){i?r.removeEventListener(TR,n):r.addEventListener(TR,n)}function CS(r,n,i,s){const l=AR+n;if(null!=s){const f=r.style[l];if(f.length){const x=f.split(",");x[s]=i,i=x.join(",")}}r.style[l]=i}function DA(r,n){return r.style[AR+n]||""}class OR{constructor(n,i,s,l,f,x,A,B){this.element=n,this.keyframes=i,this.animationName=s,this._duration=l,this._delay=f,this._finalStyles=A,this._specialStyles=B,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=x||"linear",this.totalTime=l+f,this._buildStyler()}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(n=>n()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(n){this._styler.setPosition(n)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new gG(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(n){const i="start"==n?this._onStartFns:this._onDoneFns;i.forEach(s=>s()),i.length=0}beforeDestroy(){this.init();const n={};if(this.hasStarted()){const i=this._state>=3;Object.keys(this._finalStyles).forEach(s=>{"offset"!=s&&(n[s]=i?this._finalStyles[s]:dA(this.element,s))})}this.currentSnapshot=n}}class _G extends kb{constructor(n,i){super(),this.element=n,this._startingStyles={},this.__initialized=!1,this._styles=iR(i)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(n=>{this._startingStyles[n]=this.element.style[n]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(n=>this.element.style.setProperty(n,this._styles[n])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(n=>{const i=this._startingStyles[n];i?this.element.style.setProperty(n,i):this.element.style.removeProperty(n)}),this._startingStyles=null,super.destroy())}}class LR{constructor(){this._count=0}validateStyleProperty(n){return nA(n)}matchesElement(n,i){return rA(n,i)}containsElement(n,i){return oA(n,i)}query(n,i,s){return sA(n,i,s)}computeStyle(n,i,s){return window.getComputedStyle(n)[i]}buildKeyframeElement(n,i,s){s=s.map(A=>iR(A));let l=`@keyframes ${i} {\n`,f="";s.forEach(A=>{f=" ";const B=parseFloat(A.offset);l+=`${f}${100*B}% {\n`,f+=" ",Object.keys(A).forEach(q=>{const vt=A[q];switch(q){case"offset":return;case"easing":return void(vt&&(l+=`${f}animation-timing-function: ${vt};\n`));default:return void(l+=`${f}${q}: ${vt};\n`)}}),l+=`${f}}\n`}),l+="}\n";const x=document.createElement("style");return x.textContent=l,x}animate(n,i,s,l,f,x=[],A){const B=x.filter(Te=>Te instanceof OR),q={};uR(s,l)&&B.forEach(Te=>{let ri=Te.currentSnapshot;Object.keys(ri).forEach(oi=>q[oi]=ri[oi])});const vt=function(r){let n={};return r&&(Array.isArray(r)?r:[r]).forEach(s=>{Object.keys(s).forEach(l=>{"offset"==l||"easing"==l||(n[l]=s[l])})}),n}(i=cR(n,i,q));if(0==s)return new _G(n,vt);const Tt="gen_css_kf_"+this._count++,Wt=this.buildKeyframeElement(n,Tt,i);(function(r){var i;const n=null==(i=r.getRootNode)?void 0:i.call(r);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(n).appendChild(Wt);const ce=kR(n,i),Ae=new OR(n,i,Tt,s,l,f,vt,ce);return Ae.onDestroy(()=>{var r;(r=Wt).parentNode.removeChild(r)}),Ae}}class BR{constructor(n,i,s,l){this.element=n,this.keyframes=i,this.options=s,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(n,i,s){return n.animate(i,s)}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(i=>{"offset"!=i&&(n[i]=this._finished?this._finalKeyframe[i]:dA(this.element,i))}),this.currentSnapshot=n}triggerCallback(n){const i="start"==n?this._onStartFns:this._onDoneFns;i.forEach(s=>s()),i.length=0}}class EG{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(VR().toString()),this._cssKeyframesDriver=new LR}validateStyleProperty(n){return nA(n)}matchesElement(n,i){return rA(n,i)}containsElement(n,i){return oA(n,i)}query(n,i,s){return sA(n,i,s)}computeStyle(n,i,s){return window.getComputedStyle(n)[i]}overrideWebAnimationsSupport(n){this._isNativeImpl=n}animate(n,i,s,l,f,x=[],A){if(!A&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(n,i,s,l,f,x);const vt={duration:s,delay:l,fill:0==l?"both":"forwards"};f&&(vt.easing=f);const Tt={},Wt=x.filter(ce=>ce instanceof BR);uR(s,l)&&Wt.forEach(ce=>{let Ae=ce.currentSnapshot;Object.keys(Ae).forEach(Te=>Tt[Te]=Ae[Te])});const ne=kR(n,i=cR(n,i=i.map(ce=>Vy(ce,!1)),Tt));return new BR(n,i,vt,ne)}}function VR(){return Z6()&&Element.prototype.animate||{}}let AG=(()=>{class r extends W6{constructor(i,s){super(),this._nextAnimationId=0,this._renderer=i.createRenderer(s.body,{id:"0",encapsulation:Is.None,styles:[],data:{animation:[]}})}build(i){const s=this._nextAnimationId.toString();this._nextAnimationId++;const l=Array.isArray(i)?Y6(i):i;return jR(this._renderer,null,s,"register",[l]),new TG(s,this._renderer)}}return r.\u0275fac=function(i){return new(i||r)(gi(lx),gi(zr))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})();class TG extends class{}{constructor(n,i){super(),this._id=n,this._renderer=i}create(n,i){return new PG(this._id,n,i||{},this._renderer)}}class PG{constructor(n,i,s,l){this.id=n,this.element=i,this._renderer=l,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(n,i){return this._renderer.listen(this.element,`@@${this.id}:${n}`,i)}_command(n,...i){return jR(this._renderer,this.element,this.id,n,i)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){var n,i;return null!=(i=null==(n=this._renderer.engine.players[+this.id])?void 0:n.getPosition())?i:0}}function jR(r,n,i,s,l){return r.setProperty(n,`@@${i}:${s}`,l)}const zR="@.disabled";let IG=(()=>{class r{constructor(i,s,l){this.delegate=i,this.engine=s,this._zone=l,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(f,x)=>{x&&x.parentNode(f)&&x.removeChild(f.parentNode,f)}}createRenderer(i,s){const f=this.delegate.createRenderer(i,s);if(!(i&&s&&s.data&&s.data.animation)){let vt=this._rendererCache.get(f);return vt||(vt=new HR("",f,this.engine),this._rendererCache.set(f,vt)),vt}const x=s.id,A=s.id+"-"+this._currentId;this._currentId++,this.engine.register(A,i);const B=vt=>{Array.isArray(vt)?vt.forEach(B):this.engine.registerTrigger(x,A,i,vt.name,vt)};return s.data.animation.forEach(B),new RG(this,A,f,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(i,s,l){i>=0&&i<this._microtaskId?this._zone.run(()=>s(l)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(f=>{const[x,A]=f;x(A)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,l]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return r.\u0275fac=function(i){return new(i||r)(gi(lx),gi(MS),gi(Cr))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})();class HR{constructor(n,i,s){this.namespaceId=n,this.delegate=i,this.engine=s,this.destroyNode=this.delegate.destroyNode?l=>i.destroyNode(l):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(n,i){return this.delegate.createElement(n,i)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,i){this.delegate.appendChild(n,i),this.engine.onInsert(this.namespaceId,i,n,!1)}insertBefore(n,i,s,l=!0){this.delegate.insertBefore(n,i,s),this.engine.onInsert(this.namespaceId,i,n,l)}removeChild(n,i,s){this.engine.onRemove(this.namespaceId,i,this.delegate,s)}selectRootElement(n,i){return this.delegate.selectRootElement(n,i)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,i,s,l){this.delegate.setAttribute(n,i,s,l)}removeAttribute(n,i,s){this.delegate.removeAttribute(n,i,s)}addClass(n,i){this.delegate.addClass(n,i)}removeClass(n,i){this.delegate.removeClass(n,i)}setStyle(n,i,s,l){this.delegate.setStyle(n,i,s,l)}removeStyle(n,i,s){this.delegate.removeStyle(n,i,s)}setProperty(n,i,s){"@"==i.charAt(0)&&i==zR?this.disableAnimations(n,!!s):this.delegate.setProperty(n,i,s)}setValue(n,i){this.delegate.setValue(n,i)}listen(n,i,s){return this.delegate.listen(n,i,s)}disableAnimations(n,i){this.engine.disableAnimations(n,i)}}class RG extends HR{constructor(n,i,s,l){super(i,s,l),this.factory=n,this.namespaceId=i}setProperty(n,i,s){"@"==i.charAt(0)?"."==i.charAt(1)&&i==zR?this.disableAnimations(n,s=void 0===s||!!s):this.engine.process(this.namespaceId,n,i.substr(1),s):this.delegate.setProperty(n,i,s)}listen(n,i,s){if("@"==i.charAt(0)){const l=function(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(n);let f=i.substr(1),x="";return"@"!=f.charAt(0)&&([f,x]=function(r){const n=r.indexOf(".");return[r.substring(0,n),r.substr(n+1)]}(f)),this.engine.listen(this.namespaceId,l,f,x,A=>{this.factory.scheduleListenerCallback(A._data||-1,s,A)})}return this.delegate.listen(n,i,s)}}let LG=(()=>{class r extends MS{constructor(i,s,l){super(i.body,s,l)}ngOnDestroy(){this.flush()}}return r.\u0275fac=function(i){return new(i||r)(gi(zr),gi(aA),gi(xA))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})();const Qf=new pn("AnimationModuleType"),UR=[{provide:W6,useClass:AG},{provide:xA,useFactory:function(){return new UU}},{provide:MS,useClass:LG},{provide:lx,useFactory:function(r,n,i){return new IG(r,n,i)},deps:[HC,MS,Cr]}],GR=[{provide:aA,useFactory:function(){return"function"==typeof VR()?new EG:new LR}},{provide:Qf,useValue:"BrowserAnimations"},...UR],jG=[{provide:aA,useClass:nR},{provide:Qf,useValue:"NoopAnimations"},...UR];let zG=(()=>{class r{static withConfig(i){return{ngModule:r,providers:i.disableAnimations?jG:GR}}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({providers:GR,imports:[fI]}),r})();const HG=["*",[["mat-option"],["ng-container"]]],UG=["*","mat-option, ng-container"];function GG(r,n){if(1&r&&An(0,"mat-pseudo-checkbox",4),2&r){const i=_();Pi("state",i.selected?"checked":"unchecked")("disabled",i.disabled)}}function WG(r,n){if(1&r&&(Xe(0,"span",5),qi(1),Ke()),2&r){const i=_();ki(1),pa("(",i.group.label,")")}}const YG=["*"],WR=new ky("13.0.0"),XG=new pn("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let $o=(()=>{class r{constructor(i,s,l){this._hasDoneGlobalChecks=!1,this._document=l,i._applyBodyHighContrastModeCssClasses(),this._sanityChecks=s,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return!(!yE()||Ck())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[i])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const i=this._document.createElement("div");i.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(i);const s=getComputedStyle(i);s&&"none"!==s.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),i.remove()}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&WR.full!==G6.full&&console.warn("The Angular Material version ("+WR.full+") does not match the Angular CDK version ("+G6.full+").\nPlease ensure the versions of these two packages exactly match.")}}return r.\u0275fac=function(i){return new(i||r)(gi(U6),gi(XG,8),gi(zr))},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({imports:[[kM],kM]}),r})();function PM(r){return class extends r{constructor(...n){super(...n),this._disabled=!1}get disabled(){return this._disabled}set disabled(n){this._disabled=Jr(n)}}}function Sx(r,n){return class extends r{constructor(...i){super(...i),this.defaultColor=n,this.color=n}get color(){return this._color}set color(i){const s=i||this.defaultColor;s!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),s&&this._elementRef.nativeElement.classList.add(`mat-${s}`),this._color=s)}}}function jy(r){return class extends r{constructor(...n){super(...n),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=Jr(n)}}}function EA(r,n=0){return class extends r{constructor(...i){super(...i),this._tabIndex=n,this.defaultTabIndex=n}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(i){this._tabIndex=null!=i?Ry(i):this.defaultTabIndex}}}function YR(r){return class extends r{constructor(...n){super(...n),this.stateChanges=new C,this.errorState=!1}updateErrorState(){const n=this.errorState,f=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);f!==n&&(this.errorState=f,this.stateChanges.next())}}}const $R=new pn("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return $h(Fg)}});class nu{constructor(){this._localeChanges=new C,this.localeChanges=this._localeChanges}getValidDateOrNull(n){return this.isDateInstance(n)&&this.isValid(n)?n:null}deserialize(n){return null==n||this.isDateInstance(n)&&this.isValid(n)?n:this.invalid()}setLocale(n){this.locale=n,this._localeChanges.next()}compareDate(n,i){return this.getYear(n)-this.getYear(i)||this.getMonth(n)-this.getMonth(i)||this.getDate(n)-this.getDate(i)}sameDate(n,i){if(n&&i){let s=this.isValid(n),l=this.isValid(i);return s&&l?!this.compareDate(n,i):s==l}return n==i}clampDate(n,i,s){return i&&this.compareDate(n,i)<0?i:s&&this.compareDate(n,s)>0?s:n}}const Dx=new pn("mat-date-formats"),ZG=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function kA(r,n){const i=Array(r);for(let s=0;s<r;s++)i[s]=n(s);return i}let qG=(()=>{class r extends nu{constructor(i,s){super(),this.useUtcForDisplay=!1,super.setLocale(i)}getYear(i){return i.getFullYear()}getMonth(i){return i.getMonth()}getDate(i){return i.getDate()}getDayOfWeek(i){return i.getDay()}getMonthNames(i){const s=new Intl.DateTimeFormat(this.locale,{month:i,timeZone:"utc"});return kA(12,l=>this._format(s,new Date(2017,l,1)))}getDateNames(){const i=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return kA(31,s=>this._format(i,new Date(2017,0,s+1)))}getDayOfWeekNames(i){const s=new Intl.DateTimeFormat(this.locale,{weekday:i,timeZone:"utc"});return kA(7,l=>this._format(s,new Date(2017,0,l+1)))}getYearName(i){const s=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(s,i)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(i){return this.getDate(this._createDateWithOverflow(this.getYear(i),this.getMonth(i)+1,0))}clone(i){return new Date(i.getTime())}createDate(i,s,l){let f=this._createDateWithOverflow(i,s,l);return f.getMonth(),f}today(){return new Date}parse(i){return"number"==typeof i?new Date(i):i?new Date(Date.parse(i)):null}format(i,s){if(!this.isValid(i))throw Error("NativeDateAdapter: Cannot format invalid date.");const l=new Intl.DateTimeFormat(this.locale,Zl(Dn({},s),{timeZone:"utc"}));return this._format(l,i)}addCalendarYears(i,s){return this.addCalendarMonths(i,12*s)}addCalendarMonths(i,s){let l=this._createDateWithOverflow(this.getYear(i),this.getMonth(i)+s,this.getDate(i));return this.getMonth(l)!=((this.getMonth(i)+s)%12+12)%12&&(l=this._createDateWithOverflow(this.getYear(l),this.getMonth(l),0)),l}addCalendarDays(i,s){return this._createDateWithOverflow(this.getYear(i),this.getMonth(i),this.getDate(i)+s)}toIso8601(i){return[i.getUTCFullYear(),this._2digit(i.getUTCMonth()+1),this._2digit(i.getUTCDate())].join("-")}deserialize(i){if("string"==typeof i){if(!i)return null;if(ZG.test(i)){let s=new Date(i);if(this.isValid(s))return s}}return super.deserialize(i)}isDateInstance(i){return i instanceof Date}isValid(i){return!isNaN(i.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(i,s,l){const f=new Date;return f.setFullYear(i,s,l),f.setHours(0,0,0,0),f}_2digit(i){return("00"+i).slice(-2)}_format(i,s){const l=new Date;return l.setUTCFullYear(s.getFullYear(),s.getMonth(),s.getDate()),l.setUTCHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()),i.format(l)}}return r.\u0275fac=function(i){return new(i||r)(gi($R,8),gi($l))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})();const JG={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let QG=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({providers:[{provide:nu,useClass:qG}],imports:[[xb]]}),r})(),tW=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({providers:[{provide:Dx,useValue:JG}],imports:[[QG]]}),r})(),AA=(()=>{class r{isErrorState(i,s){return!!(i&&i.invalid&&(i.touched||s&&s.submitted))}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),XR=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=dn({type:r,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),r})();function IM(r,n,i){r.nativeElement.classList.toggle(n,i)}let ZR=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({imports:[[$o],$o]}),r})();class eW{constructor(n,i,s){this._renderer=n,this.element=i,this.config=s,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const qR={enterDuration:225,exitDuration:150},TA=YC({passive:!0}),JR=["mousedown","touchstart"],QR=["mouseup","mouseleave","touchend","touchcancel"];class nW{constructor(n,i,s,l){this._target=n,this._ngZone=i,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,l.isBrowser&&(this._containerElement=Hg(s))}fadeInRipple(n,i,s={}){const l=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),f=Dn(Dn({},qR),s.animation);s.centered&&(n=l.left+l.width/2,i=l.top+l.height/2);const x=s.radius||function(r,n,i){const s=Math.max(Math.abs(r-i.left),Math.abs(r-i.right)),l=Math.max(Math.abs(n-i.top),Math.abs(n-i.bottom));return Math.sqrt(s*s+l*l)}(n,i,l),A=n-l.left,B=i-l.top,q=f.enterDuration,vt=document.createElement("div");vt.classList.add("mat-ripple-element"),vt.style.left=A-x+"px",vt.style.top=B-x+"px",vt.style.height=2*x+"px",vt.style.width=2*x+"px",null!=s.color&&(vt.style.backgroundColor=s.color),vt.style.transitionDuration=`${q}ms`,this._containerElement.appendChild(vt),window.getComputedStyle(vt).getPropertyValue("opacity"),vt.style.transform="scale(1)";const Tt=new eW(this,vt,s);return Tt.state=0,this._activeRipples.add(Tt),s.persistent||(this._mostRecentTransientRipple=Tt),this._runTimeoutOutsideZone(()=>{const Wt=Tt===this._mostRecentTransientRipple;Tt.state=1,!s.persistent&&(!Wt||!this._isPointerDown)&&Tt.fadeOut()},q),Tt}fadeOutRipple(n){const i=this._activeRipples.delete(n);if(n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!i)return;const s=n.element,l=Dn(Dn({},qR),n.config.animation);s.style.transitionDuration=`${l.exitDuration}ms`,s.style.opacity="0",n.state=2,this._runTimeoutOutsideZone(()=>{n.state=3,s.remove()},l.exitDuration)}fadeOutAll(){this._activeRipples.forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const i=Hg(n);!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,this._registerEvents(JR))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(QR),this._pointerUpEventsRegistered=!0)}_onMousedown(n){const i=B6(n),s=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!i&&!s&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!V6(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const i=n.changedTouches;for(let s=0;s<i.length;s++)this.fadeInRipple(i[s].clientX,i[s].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_runTimeoutOutsideZone(n,i=0){this._ngZone.runOutsideAngular(()=>setTimeout(n,i))}_registerEvents(n){this._ngZone.runOutsideAngular(()=>{n.forEach(i=>{this._triggerElement.addEventListener(i,this,TA)})})}_removeTriggerEvents(){this._triggerElement&&(JR.forEach(n=>{this._triggerElement.removeEventListener(n,this,TA)}),this._pointerUpEventsRegistered&&QR.forEach(n=>{this._triggerElement.removeEventListener(n,this,TA)}))}}const sW=new pn("mat-ripple-global-options");let zy=(()=>{class r{constructor(i,s,l,f,x){this._elementRef=i,this._animationMode=x,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=f||{},this._rippleRenderer=new nW(this,s,i,l)}get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Dn(Dn(Dn({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,s=0,l){return"number"==typeof i?this._rippleRenderer.fadeInRipple(i,s,Dn(Dn({},this.rippleConfig),l)):this._rippleRenderer.fadeInRipple(0,0,Dn(Dn({},this.rippleConfig),i))}}return r.\u0275fac=function(i){return new(i||r)(ye(mr),ye(Cr),ye($l),ye(sW,8),ye(Qf,8))},r.\u0275dir=dn({type:r,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,s){2&i&&Er("mat-ripple-unbounded",s.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),r})(),DS=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({imports:[[$o,xb],$o]}),r})(),t8=(()=>{class r{constructor(i){this._animationMode=i,this.state="unchecked",this.disabled=!1}}return r.\u0275fac=function(i){return new(i||r)(ye(Qf,8))},r.\u0275cmp=gn({type:r,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(i,s){2&i&&Er("mat-pseudo-checkbox-indeterminate","indeterminate"===s.state)("mat-pseudo-checkbox-checked","checked"===s.state)("mat-pseudo-checkbox-disabled",s.disabled)("_mat-animation-noopable","NoopAnimations"===s._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(i,s){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),r})(),PA=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({imports:[[$o]]}),r})();const ES=new pn("MAT_OPTION_PARENT_COMPONENT"),aW=PM(class{});let lW=0,hW=(()=>{class r extends aW{constructor(i){var s;super(),this._labelId="mat-optgroup-label-"+lW++,this._inert=null!=(s=null==i?void 0:i.inertGroups)&&s}}return r.\u0275fac=function(i){return new(i||r)(ye(ES,8))},r.\u0275dir=dn({type:r,inputs:{label:"label"},features:[rr]}),r})();const kS=new pn("MatOptgroup");let e8=(()=>{class r extends hW{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=xo(r)))(s||r)}}(),r.\u0275cmp=gn({type:r,selectors:[["mat-optgroup"]],hostAttrs:[1,"mat-optgroup"],hostVars:5,hostBindings:function(i,s){2&i&&(Ir("role",s._inert?null:"group")("aria-disabled",s._inert?null:s.disabled.toString())("aria-labelledby",s._inert?null:s._labelId),Er("mat-optgroup-disabled",s.disabled))},inputs:{disabled:"disabled"},exportAs:["matOptgroup"],features:[po([{provide:kS,useExisting:r}]),rr],ngContentSelectors:UG,decls:4,vars:2,consts:[["aria-hidden","true",1,"mat-optgroup-label",3,"id"]],template:function(i,s){1&i&&(P(HG),Xe(0,"span",0),qi(1),F(2),Ke(),F(3,1)),2&i&&(Pi("id",s._labelId),ki(1),pa("",s.label," "))},styles:[".mat-optgroup-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup-label[disabled]{cursor:default}[dir=rtl] .mat-optgroup-label{text-align:right}.mat-optgroup-label .mat-icon{margin-right:16px;vertical-align:middle}.mat-optgroup-label .mat-icon svg{vertical-align:top}[dir=rtl] .mat-optgroup-label .mat-icon{margin-left:16px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),r})(),uW=0;class i8{constructor(n,i=!1){this.source=n,this.isUserInput=i}}let cW=(()=>{class r{constructor(i,s,l,f){this._element=i,this._changeDetectorRef=s,this._parent=l,this.group=f,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+uW++,this.onSelectionChange=new Sn,this._stateChanges=new C}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(i){this._disabled=Jr(i)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(i,s){const l=this._getHostElement();"function"==typeof l.focus&&l.focus(s)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(i){(13===i.keyCode||32===i.keyCode)&&!pc(i)&&(this._selectViaInteraction(),i.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const i=this.viewValue;i!==this._mostRecentViewValue&&(this._mostRecentViewValue=i,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(i=!1){this.onSelectionChange.emit(new i8(this,i))}}return r.\u0275fac=function(i){im()},r.\u0275dir=dn({type:r,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),r})(),RM=(()=>{class r extends cW{constructor(i,s,l,f){super(i,s,l,f)}}return r.\u0275fac=function(i){return new(i||r)(ye(mr),ye(ra),ye(ES,8),ye(kS,8))},r.\u0275cmp=gn({type:r,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(i,s){1&i&&e("click",function(){return s._selectViaInteraction()})("keydown",function(f){return s._handleKeydown(f)}),2&i&&(eu("id",s.id),Ir("tabindex",s._getTabIndex())("aria-selected",s._getAriaSelected())("aria-disabled",s.disabled.toString()),Er("mat-selected",s.selected)("mat-option-multiple",s.multiple)("mat-active",s.active)("mat-option-disabled",s.disabled))},exportAs:["matOption"],features:[rr],ngContentSelectors:YG,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(i,s){1&i&&(P(),Mn(0,GG,1,2,"mat-pseudo-checkbox",0),Xe(1,"span",1),F(2),Ke(),Mn(3,WG,2,1,"span",2),An(4,"div",3)),2&i&&(Pi("ngIf",s.multiple),ki(3),Pi("ngIf",s.group&&s.group._inert),ki(1),Pi("matRippleTrigger",s._getHostElement())("matRippleDisabled",s.disabled||s.disableRipple))},directives:[ku,zy,t8],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),r})();function IA(r,n,i){if(i.length){let s=n.toArray(),l=i.toArray(),f=0;for(let x=0;x<r+1;x++)s[x].group&&s[x].group===l[f]&&f++;return f}return 0}function n8(r,n,i,s){return r<i?r:r+n>i+s?Math.max(0,r-s+n):i}let AS=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({imports:[[DS,l0,$o,PA]]}),r})();const r8=["mat-button",""],o8=["*"],pW=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],mW=Sx(PM(jy(class{constructor(r){this._elementRef=r}})));let Xg=(()=>{class r extends mW{constructor(i,s,l){super(i),this._focusMonitor=s,this._animationMode=l,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const f of pW)this._hasHostAttributes(f)&&this._getHostElement().classList.add(f);i.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(i,s){i?this._focusMonitor.focusVia(this._getHostElement(),i,s):this._getHostElement().focus(s)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...i){return i.some(s=>this._getHostElement().hasAttribute(s))}}return r.\u0275fac=function(i){return new(i||r)(ye(mr),ye(wx),ye(Qf,8))},r.\u0275cmp=gn({type:r,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(i,s){if(1&i&&Cs(zy,5),2&i){let l;or(l=sr())&&(s.ripple=l.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(i,s){2&i&&(Ir("disabled",s.disabled||null),Er("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-button-disabled",s.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[rr],attrs:r8,ngContentSelectors:o8,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(i,s){1&i&&(P(),Xe(0,"span",0),F(1),Ke(),An(2,"span",1),An(3,"span",2)),2&i&&(ki(2),Er("mat-button-ripple-round",s.isRoundButton||s.isIconButton),Pi("matRippleDisabled",s._isRippleDisabled())("matRippleCentered",s.isIconButton)("matRippleTrigger",s._getHostElement()))},directives:[zy],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),r})(),gW=(()=>{class r extends Xg{constructor(i,s,l){super(s,i,l)}_haltDisabledEvents(i){this.disabled&&(i.preventDefault(),i.stopImmediatePropagation())}}return r.\u0275fac=function(i){return new(i||r)(ye(wx),ye(mr),ye(Qf,8))},r.\u0275cmp=gn({type:r,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(i,s){1&i&&e("click",function(f){return s._haltDisabledEvents(f)}),2&i&&(Ir("tabindex",s.disabled?-1:s.tabIndex||0)("disabled",s.disabled||null)("aria-disabled",s.disabled.toString()),Er("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-button-disabled",s.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[rr],attrs:r8,ngContentSelectors:o8,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(i,s){1&i&&(P(),Xe(0,"span",0),F(1),Ke(),An(2,"span",1),An(3,"span",2)),2&i&&(ki(2),Er("mat-button-ripple-round",s.isRoundButton||s.isIconButton),Pi("matRippleDisabled",s._isRippleDisabled())("matRippleCentered",s.isIconButton)("matRippleTrigger",s._getHostElement()))},directives:[zy],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),r})(),RA=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({imports:[[DS,$o],$o]}),r})();const vW=["*",[["mat-card-footer"]]],yW=["*","mat-card-footer"];let s8=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=dn({type:r,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),r})(),a8=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=dn({type:r,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),r})(),l8=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=dn({type:r,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),r})(),xW=(()=>{class r{constructor(){this.align="start"}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=dn({type:r,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(i,s){2&i&&Er("mat-card-actions-align-end","end"===s.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),r})(),h8=(()=>{class r{constructor(i){this._animationMode=i}}return r.\u0275fac=function(i){return new(i||r)(ye(Qf,8))},r.\u0275cmp=gn({type:r,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(i,s){2&i&&Er("_mat-animation-noopable","NoopAnimations"===s._animationMode)},exportAs:["matCard"],ngContentSelectors:yW,decls:2,vars:0,template:function(i,s){1&i&&(P(vW),F(0),F(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),r})(),wW=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({imports:[[$o],$o]}),r})();const bW=["input"],_W=function(r){return{enterDuration:r}},MW=["*"],CW=new pn("mat-checkbox-default-options",{providedIn:"root",factory:u8});function u8(){return{color:"accent",clickAction:"check-indeterminate"}}let SW=0;const c8=u8(),DW={provide:sf,useExisting:Hi(()=>f8),multi:!0};class EW{}const kW=EA(Sx(jy(PM(class{constructor(r){this._elementRef=r}}))));let f8=(()=>{class r extends kW{constructor(i,s,l,f,x,A,B){super(i),this._changeDetectorRef=s,this._focusMonitor=l,this._ngZone=f,this._animationMode=A,this._options=B,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++SW,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new Sn,this.indeterminateChange=new Sn,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||c8,this.color=this.defaultColor=this._options.color||c8.color,this.tabIndex=parseInt(x)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(i){this._required=Jr(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(i=>{i||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(i){i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(i){const s=Jr(i);s!==this.disabled&&(this._disabled=s,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(i){const s=i!=this._indeterminate;this._indeterminate=Jr(i),s&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(i){this.checked=!!i}registerOnChange(i){this._controlValueAccessorChangeFn=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(i){let s=this._currentCheckState,l=this._elementRef.nativeElement;if(s!==i&&(this._currentAnimationClass.length>0&&l.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(s,i),this._currentCheckState=i,this._currentAnimationClass.length>0)){l.classList.add(this._currentAnimationClass);const f=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{l.classList.remove(f)},1e3)})}}_emitChangeEvent(){const i=new EW;i.source=this,i.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(i),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked}_onInputClick(i){var l;const s=null==(l=this._options)?void 0:l.clickAction;i.stopPropagation(),this.disabled||"noop"===s?!this.disabled&&"noop"===s&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==s&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(i,s){i?this._focusMonitor.focusVia(this._inputElement,i,s):this._inputElement.nativeElement.focus(s)}_onInteractionEvent(i){i.stopPropagation()}_getAnimationClassForCheckStateTransition(i,s){if("NoopAnimations"===this._animationMode)return"";let l="";switch(i){case 0:if(1===s)l="unchecked-checked";else{if(3!=s)return"";l="unchecked-indeterminate"}break;case 2:l=1===s?"unchecked-checked":"unchecked-indeterminate";break;case 1:l=2===s?"checked-unchecked":"checked-indeterminate";break;case 3:l=1===s?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${l}`}_syncIndeterminate(i){const s=this._inputElement;s&&(s.nativeElement.indeterminate=i)}}return r.\u0275fac=function(i){return new(i||r)(ye(mr),ye(ra),ye(wx),ye(Cr),Hh("tabindex"),ye(Qf,8),ye(CW,8))},r.\u0275cmp=gn({type:r,selectors:[["mat-checkbox"]],viewQuery:function(i,s){if(1&i&&(Cs(bW,5),Cs(zy,5)),2&i){let l;or(l=sr())&&(s._inputElement=l.first),or(l=sr())&&(s.ripple=l.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(i,s){2&i&&(eu("id",s.id),Ir("tabindex",null),Er("mat-checkbox-indeterminate",s.indeterminate)("mat-checkbox-checked",s.checked)("mat-checkbox-disabled",s.disabled)("mat-checkbox-label-before","before"==s.labelPosition)("_mat-animation-noopable","NoopAnimations"===s._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[po([DW]),rr],ngContentSelectors:MW,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(i,s){if(1&i&&(P(),Xe(0,"label",0,1),Xe(2,"span",2),Xe(3,"input",3,4),e("change",function(f){return s._onInteractionEvent(f)})("click",function(f){return s._onInputClick(f)}),Ke(),Xe(5,"span",5),An(6,"span",6),Ke(),An(7,"span",7),Xe(8,"span",8),Rm(),Xe(9,"svg",9),An(10,"path",10),Ke(),k0(),An(11,"span",11),Ke(),Ke(),Xe(12,"span",12,13),e("cdkObserveContent",function(){return s._onLabelTextChange()}),Xe(14,"span",14),qi(15,"\xa0"),Ke(),F(16),Ke(),Ke()),2&i){const l=tc(1),f=tc(13);Ir("for",s.inputId),ki(2),Er("mat-checkbox-inner-container-no-side-margin",!f.textContent||!f.textContent.trim()),ki(1),Pi("id",s.inputId)("required",s.required)("checked",s.checked)("disabled",s.disabled)("tabIndex",s.tabIndex),Ir("value",s.value)("name",s.name)("aria-label",s.ariaLabel||null)("aria-labelledby",s.ariaLabelledby)("aria-checked",s._getAriaChecked())("aria-describedby",s.ariaDescribedby),ki(2),Pi("matRippleTrigger",l)("matRippleDisabled",s._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",function(r,n,i,s){return U3(Ki(),Jo(),r,n,i,s)}(19,_W,"NoopAnimations"===s._animationMode?0:150))}},directives:[zy,A6],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),r})(),d8=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({}),r})(),PW=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({imports:[[DS,$o,$k,d8],$o,d8]}),r})();const IW=["addListener","removeListener"],RW=["addEventListener","removeEventListener"],OW=["on","off"];function f0(r,n,i,s){if(zt(i)&&(s=i,i=void 0),s)return f0(r,n,i).pipe(vk(s));const[l,f]=function(r){return zt(r.addEventListener)&&zt(r.removeEventListener)}(r)?RW.map(x=>A=>r[x](n,A,i)):function(r){return zt(r.addListener)&&zt(r.removeListener)}(r)?IW.map(p8(r,n)):function(r){return zt(r.on)&&zt(r.off)}(r)?OW.map(p8(r,n)):[];if(!l&&ue(r))return he(x=>f0(x,n,i))(Ln(r));if(!l)throw new TypeError("Invalid event target");return new y(x=>{const A=(...B)=>x.next(1<B.length?B:B[0]);return l(A),()=>f(A)})}function p8(r,n){return i=>s=>r[i](n,s)}const OM={schedule(r){let n=requestAnimationFrame,i=cancelAnimationFrame;const{delegate:s}=OM;s&&(n=s.requestAnimationFrame,i=s.cancelAnimationFrame);const l=n(f=>{i=void 0,r(f)});return new E(()=>null==i?void 0:i(l))},requestAnimationFrame(...r){const{delegate:n}=OM;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame)(...r)},cancelAnimationFrame(...r){const{delegate:n}=OM;return((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame)(...r)},delegate:void 0};new class extends wk{flush(n){this._active=!0,this._scheduled=void 0;const{actions:i}=this;let s,l=-1;n=n||i.shift();const f=i.length;do{if(s=n.execute(n.state,n.delay))break}while(++l<f&&(n=i.shift()));if(this._active=!1,s){for(;++l<f&&(n=i.shift());)n.unsubscribe();throw s}}}(class extends yk{constructor(n,i){super(n,i),this.scheduler=n,this.work=i}requestAsyncId(n,i,s=0){return null!==s&&s>0?super.requestAsyncId(n,i,s):(n.actions.push(this),n._scheduled||(n._scheduled=OM.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,i,s=0){if(null!=s&&s>0||null==s&&this.delay>0)return super.recycleAsyncId(n,i,s);0===n.actions.length&&(OM.cancelAnimationFrame(i),n._scheduled=void 0)}});let OA,zW=1;const TS={};function m8(r){return r in TS&&(delete TS[r],!0)}const HW={setImmediate(r){const n=zW++;return TS[n]=!0,OA||(OA=Promise.resolve()),OA.then(()=>m8(n)&&r()),n},clearImmediate(r){m8(r)}},{setImmediate:UW,clearImmediate:GW}=HW,PS={setImmediate(...r){const{delegate:n}=PS;return((null==n?void 0:n.setImmediate)||UW)(...r)},clearImmediate(r){const{delegate:n}=PS;return((null==n?void 0:n.clearImmediate)||GW)(r)},delegate:void 0};new class extends wk{flush(n){this._active=!0,this._scheduled=void 0;const{actions:i}=this;let s,l=-1;n=n||i.shift();const f=i.length;do{if(s=n.execute(n.state,n.delay))break}while(++l<f&&(n=i.shift()));if(this._active=!1,s){for(;++l<f&&(n=i.shift());)n.unsubscribe();throw s}}}(class extends yk{constructor(n,i){super(n,i),this.scheduler=n,this.work=i}requestAsyncId(n,i,s=0){return null!==s&&s>0?super.requestAsyncId(n,i,s):(n.actions.push(this),n._scheduled||(n._scheduled=PS.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,i,s=0){if(null!=s&&s>0||null==s&&this.delay>0)return super.recycleAsyncId(n,i,s);0===n.actions.length&&(PS.clearImmediate(i),n._scheduled=void 0)}});function g8(r=0,n,i=wI){let s=-1;return null!=n&&(sn(n)?i=n:s=n),new y(l=>{let f=function(r){return r instanceof Date&&!isNaN(r)}(r)?+r-i.now():r;f<0&&(f=0);let x=0;return i.schedule(function(){l.closed||(l.next(x++),0<=s?this.schedule(void 0,s):l.complete())},f)})}function NA(r,n=wI){return function(r){return it((n,i)=>{let s=!1,l=null,f=null,x=!1;const A=()=>{if(null==f||f.unsubscribe(),f=null,s){s=!1;const q=l;l=null,i.next(q)}x&&i.complete()},B=()=>{f=null,x&&i.complete()};n.subscribe(new Z(i,q=>{s=!0,l=q,f||Ln(r()).subscribe(f=new Z(i,A,B))},()=>{x=!0,(!s||!f||f.closed)&&i.complete()}))})}(()=>g8(r,n))}let IS=(()=>{class r{constructor(i,s,l){this._ngZone=i,this._platform=s,this._scrolled=new C,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=l}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){const s=this.scrollContainers.get(i);s&&(s.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=20){return this._platform.isBrowser?new y(s=>{this._globalSubscription||this._addGlobalListener();const l=i>0?this._scrolled.pipe(NA(i)).subscribe(s):this._scrolled.subscribe(s);return this._scrolledCount++,()=>{l.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):fr()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,s)=>this.deregister(s)),this._scrolled.complete()}ancestorScrolled(i,s){const l=this.getAncestorScrollContainers(i);return this.scrolled(s).pipe(Ks(f=>!f||l.indexOf(f)>-1))}getAncestorScrollContainers(i){const s=[];return this.scrollContainers.forEach((l,f)=>{this._scrollableContainsElement(f,i)&&s.push(f)}),s}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,s){let l=Hg(s),f=i.getElementRef().nativeElement;do{if(l==f)return!0}while(l=l.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>f0(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return r.\u0275fac=function(i){return new(i||r)(gi(Cr),gi($l),gi(zr,8))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),RS=(()=>{class r{constructor(i,s,l,f){this.elementRef=i,this.scrollDispatcher=s,this.ngZone=l,this.dir=f,this._destroyed=new C,this._elementScrolled=new y(x=>this.ngZone.runOutsideAngular(()=>f0(this.elementRef.nativeElement,"scroll").pipe(gs(this._destroyed)).subscribe(x)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(i){const s=this.elementRef.nativeElement,l=this.dir&&"rtl"==this.dir.value;null==i.left&&(i.left=l?i.end:i.start),null==i.right&&(i.right=l?i.start:i.end),null!=i.bottom&&(i.top=s.scrollHeight-s.clientHeight-i.bottom),l&&0!=vM()?(null!=i.left&&(i.right=s.scrollWidth-s.clientWidth-i.left),2==vM()?i.left=i.right:1==vM()&&(i.left=i.right?-i.right:i.right)):null!=i.right&&(i.left=s.scrollWidth-s.clientWidth-i.right),this._applyScrollToOptions(i)}_applyScrollToOptions(i){const s=this.elementRef.nativeElement;MI()?s.scrollTo(i):(null!=i.top&&(s.scrollTop=i.top),null!=i.left&&(s.scrollLeft=i.left))}measureScrollOffset(i){const s="left",l="right",f=this.elementRef.nativeElement;if("top"==i)return f.scrollTop;if("bottom"==i)return f.scrollHeight-f.clientHeight-f.scrollTop;const x=this.dir&&"rtl"==this.dir.value;return"start"==i?i=x?l:s:"end"==i&&(i=x?s:l),x&&2==vM()?i==s?f.scrollWidth-f.clientWidth-f.scrollLeft:f.scrollLeft:x&&1==vM()?i==s?f.scrollLeft+f.scrollWidth-f.clientWidth:-f.scrollLeft:i==s?f.scrollLeft:f.scrollWidth-f.clientWidth-f.scrollLeft}}return r.\u0275fac=function(i){return new(i||r)(ye(mr),ye(IS),ye(Cr),ye(c0,8))},r.\u0275dir=dn({type:r,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),r})(),NM=(()=>{class r{constructor(i,s,l){this._platform=i,this._change=new C,this._changeListener=f=>{this._change.next(f)},this._document=l,s.runOutsideAngular(()=>{if(i.isBrowser){const f=this._getWindow();f.addEventListener("resize",this._changeListener),f.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){const i=this.getViewportScrollPosition(),{width:s,height:l}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+l,right:i.left+s,height:l,width:s}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const i=this._document,s=this._getWindow(),l=i.documentElement,f=l.getBoundingClientRect();return{top:-f.top||i.body.scrollTop||s.scrollY||l.scrollTop||0,left:-f.left||i.body.scrollLeft||s.scrollX||l.scrollLeft||0}}change(i=20){return i>0?this._change.pipe(NA(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}}return r.\u0275fac=function(i){return new(i||r)(gi($l),gi(Cr),gi(zr,8))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ex=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({}),r})(),v8=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({imports:[[kM,xb,Ex],kM,Ex]}),r})();function QW(r,n){return function(i,s){n(i,s,r)}}function tY(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)}class FA{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class LM extends FA{constructor(n,i,s,l){super(),this.component=n,this.viewContainerRef=i,this.injector=s,this.componentFactoryResolver=l}}class FM extends FA{constructor(n,i,s){super(),this.templateRef=n,this.viewContainerRef=i,this.context=s}get origin(){return this.templateRef.elementRef}attach(n,i=this.context){return this.context=i,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class nY extends FA{constructor(n){super(),this.element=n instanceof mr?n.nativeElement:n}}class BA{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof LM?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof FM?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof nY?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class rY extends BA{constructor(n,i,s,l,f){super(),this.outletElement=n,this._componentFactoryResolver=i,this._appRef=s,this._defaultInjector=l,this.attachDomPortal=x=>{const A=x.element,B=this._document.createComment("dom-portal");A.parentNode.insertBefore(B,A),this.outletElement.appendChild(A),this._attachedPortal=x,super.setDisposeFn(()=>{B.parentNode&&B.parentNode.replaceChild(A,B)})},this._document=f}attachComponentPortal(n){const s=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let l;return n.viewContainerRef?(l=n.viewContainerRef.createComponent(s,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector),this.setDisposeFn(()=>l.destroy())):(l=s.create(n.injector||this._defaultInjector),this._appRef.attachView(l.hostView),this.setDisposeFn(()=>{this._appRef.detachView(l.hostView),l.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(l)),this._attachedPortal=n,l}attachTemplatePortal(n){let i=n.viewContainerRef,s=i.createEmbeddedView(n.templateRef,n.context);return s.rootNodes.forEach(l=>this.outletElement.appendChild(l)),s.detectChanges(),this.setDisposeFn(()=>{let l=i.indexOf(s);-1!==l&&i.remove(l)}),this._attachedPortal=n,s}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let BM=(()=>{class r extends BA{constructor(i,s,l){super(),this._componentFactoryResolver=i,this._viewContainerRef=s,this._isInitialized=!1,this.attached=new Sn,this.attachDomPortal=f=>{const x=f.element,A=this._document.createComment("dom-portal");f.setAttachedHost(this),x.parentNode.insertBefore(A,x),this._getRootNode().appendChild(x),this._attachedPortal=f,super.setDisposeFn(()=>{A.parentNode&&A.parentNode.replaceChild(x,A)})},this._document=l}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(i){i.setAttachedHost(this);const s=null!=i.viewContainerRef?i.viewContainerRef:this._viewContainerRef,f=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component),x=s.createComponent(f,s.length,i.injector||s.injector);return s!==this._viewContainerRef&&this._getRootNode().appendChild(x.hostView.rootNodes[0]),super.setDisposeFn(()=>x.destroy()),this._attachedPortal=i,this._attachedRef=x,this.attached.emit(x),x}attachTemplatePortal(i){i.setAttachedHost(this);const s=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=s,this.attached.emit(s),s}_getRootNode(){const i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}}return r.\u0275fac=function(i){return new(i||r)(ye(Ng),ye(Su),ye(zr))},r.\u0275dir=dn({type:r,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[rr]}),r})(),NS=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({}),r})();const b8=MI();class sY{constructor(n,i){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=Yl(-this._previousScrollPosition.left),n.style.top=Yl(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,s=n.style,l=this._document.body.style,f=s.scrollBehavior||"",x=l.scrollBehavior||"";this._isEnabled=!1,s.left=this._previousHTMLStyles.left,s.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),b8&&(s.scrollBehavior=l.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),b8&&(s.scrollBehavior=f,l.scrollBehavior=x)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const i=this._document.body,s=this._viewportRuler.getViewportSize();return i.scrollHeight>s.height||i.scrollWidth>s.width}}class aY{constructor(n,i,s,l){this._scrollDispatcher=n,this._ngZone=i,this._viewportRuler=s,this._config=l,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class _8{enable(){}disable(){}attach(){}}function VA(r,n){return n.some(i=>r.bottom<i.top||r.top>i.bottom||r.right<i.left||r.left>i.right)}function M8(r,n){return n.some(i=>r.top<i.top||r.bottom>i.bottom||r.left<i.left||r.right>i.right)}class lY{constructor(n,i,s,l){this._scrollDispatcher=n,this._viewportRuler=i,this._ngZone=s,this._config=l,this._scrollSubscription=null}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:s,height:l}=this._viewportRuler.getViewportSize();VA(i,[{width:s,height:l,bottom:l,right:s,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let hY=(()=>{class r{constructor(i,s,l,f){this._scrollDispatcher=i,this._viewportRuler=s,this._ngZone=l,this.noop=()=>new _8,this.close=x=>new aY(this._scrollDispatcher,this._ngZone,this._viewportRuler,x),this.block=()=>new sY(this._viewportRuler,this._document),this.reposition=x=>new lY(this._scrollDispatcher,this._viewportRuler,this._ngZone,x),this._document=f}}return r.\u0275fac=function(i){return new(i||r)(gi(IS),gi(NM),gi(Cr),gi(zr))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class VM{constructor(n){if(this.scrollStrategy=new _8,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){const i=Object.keys(n);for(const s of i)void 0!==n[s]&&(this[s]=n[s])}}}class uY{constructor(n,i,s,l,f){this.offsetX=s,this.offsetY=l,this.panelClass=f,this.originX=n.originX,this.originY=n.originY,this.overlayX=i.overlayX,this.overlayY=i.overlayY}}class cY{}let fY=(()=>{let r=class{constructor(i,s){this.connectionPair=i,this.scrollableViewProperties=s}};return r=function(r,n,i,s){var x,l=arguments.length,f=l<3?n:null===s?s=Object.getOwnPropertyDescriptor(n,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(r,n,i,s);else for(var A=r.length-1;A>=0;A--)(x=r[A])&&(f=(l<3?x(f):l>3?x(n,i,f):x(n,i))||f);return l>3&&f&&Object.defineProperty(n,i,f),f}([QW(1,ls()),tY("design:paramtypes",[uY,cY])],r),r})(),C8=(()=>{class r{constructor(i){this._attachedOverlays=[],this._document=i}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){const s=this._attachedOverlays.indexOf(i);s>-1&&this._attachedOverlays.splice(s,1),0===this._attachedOverlays.length&&this.detach()}}return r.\u0275fac=function(i){return new(i||r)(gi(zr))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),dY=(()=>{class r extends C8{constructor(i){super(i),this._keydownListener=s=>{const l=this._attachedOverlays;for(let f=l.length-1;f>-1;f--)if(l[f]._keydownEvents.observers.length>0){l[f]._keydownEvents.next(s);break}}}add(i){super.add(i),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return r.\u0275fac=function(i){return new(i||r)(gi(zr))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),pY=(()=>{class r extends C8{constructor(i,s){super(i),this._platform=s,this._cursorStyleIsSet=!1,this._pointerDownListener=l=>{this._pointerDownEventTarget=Oy(l)},this._clickListener=l=>{const f=Oy(l),x="click"===l.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:f;this._pointerDownEventTarget=null;const A=this._attachedOverlays.slice();for(let B=A.length-1;B>-1;B--){const q=A[B];if(!(q._outsidePointerEvents.observers.length<1)&&q.hasAttached()){if(q.overlayElement.contains(f)||q.overlayElement.contains(x))break;q._outsidePointerEvents.next(l)}}}}add(i){if(super.add(i),!this._isAttached){const s=this._document.body;s.addEventListener("pointerdown",this._pointerDownListener,!0),s.addEventListener("click",this._clickListener,!0),s.addEventListener("auxclick",this._clickListener,!0),s.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=s.style.cursor,s.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const i=this._document.body;i.removeEventListener("pointerdown",this._pointerDownListener,!0),i.removeEventListener("click",this._clickListener,!0),i.removeEventListener("auxclick",this._clickListener,!0),i.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(i.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return r.\u0275fac=function(i){return new(i||r)(gi(zr),gi($l))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),S8=(()=>{class r{constructor(i,s){this._platform=s,this._document=i}ngOnDestroy(){var i;null==(i=this._containerElement)||i.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const i="cdk-overlay-container";if(this._platform.isBrowser||Ck()){const l=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let f=0;f<l.length;f++)l[f].remove()}const s=this._document.createElement("div");s.classList.add(i),Ck()?s.setAttribute("platform","test"):this._platform.isBrowser||s.setAttribute("platform","server"),this._document.body.appendChild(s),this._containerElement=s}}return r.\u0275fac=function(i){return new(i||r)(gi(zr),gi($l))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class mY{constructor(n,i,s,l,f,x,A,B,q){this._portalOutlet=n,this._host=i,this._pane=s,this._config=l,this._ngZone=f,this._keyboardDispatcher=x,this._document=A,this._location=B,this._outsideClickDispatcher=q,this._backdropElement=null,this._backdropClick=new C,this._attachments=new C,this._detachments=new C,this._locationChanges=E.EMPTY,this._backdropClickHandler=vt=>this._backdropClick.next(vt),this._keydownEvents=new C,this._outsidePointerEvents=new C,l.scrollStrategy&&(this._scrollStrategy=l.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=l.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){let i=this._portalOutlet.attach(n);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Xn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){var i;const n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null==(i=this._host)||i.remove(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config=Dn(Dn({},this._config),n),this._updateElementSize()}setDirection(n){this._config=Zl(Dn({},this._config),{direction:n}),this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=Yl(this._config.width),n.height=Yl(this._config.height),n.minWidth=Yl(this._config.minWidth),n.minHeight=Yl(this._config.minHeight),n.maxWidth=Yl(this._config.maxWidth),n.maxHeight=Yl(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const n=this._backdropElement;if(!n)return;let i;const s=()=>{n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",s),this._disposeBackdrop(n)),this._config.backdropClass&&this._toggleClasses(n,this._config.backdropClass,!1),clearTimeout(i)};n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",s)}),n.style.pointerEvents="none",i=this._ngZone.runOutsideAngular(()=>setTimeout(s,500))}_toggleClasses(n,i,s){const l=UC(i||[]).filter(f=>!!f);l.length&&(s?n.classList.add(...l):n.classList.remove(...l))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const n=this._ngZone.onStable.pipe(gs(br(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.remove(),this._backdropElement===n&&(this._backdropElement=null))}}const D8="cdk-overlay-connected-position-bounding-box",gY=/([A-Za-z%]+)$/;class E8{constructor(n,i,s,l,f){this._viewportRuler=i,this._document=s,this._platform=l,this._overlayContainer=f,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new C,this._resizeSubscription=E.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}get positions(){return this._preferredPositions}attach(n){this._validatePositions(),n.hostElement.classList.add(D8),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const n=this._originRect,i=this._overlayRect,s=this._viewportRect,l=[];let f;for(let x of this._preferredPositions){let A=this._getOriginPoint(n,x),B=this._getOverlayPoint(A,i,x),q=this._getOverlayFit(B,i,s,x);if(q.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(x,A);this._canFitWithFlexibleDimensions(q,B,s)?l.push({position:x,origin:A,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(A,x)}):(!f||f.overlayFit.visibleArea<q.visibleArea)&&(f={overlayFit:q,overlayPoint:B,originPoint:A,position:x,overlayRect:i})}if(l.length){let x=null,A=-1;for(const B of l){const q=B.boundingBoxRect.width*B.boundingBoxRect.height*(B.position.weight||1);q>A&&(A=q,x=B)}return this._isPushed=!1,void this._applyPosition(x.position,x.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(f.position,f.originPoint);this._applyPosition(f.position,f.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&kx(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(D8),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const n=this._lastPosition||this._preferredPositions[0],i=this._getOriginPoint(this._originRect,n);this._applyPosition(n,i)}}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,i){let s,l;if("center"==i.originX)s=n.left+n.width/2;else{const f=this._isRtl()?n.right:n.left,x=this._isRtl()?n.left:n.right;s="start"==i.originX?f:x}return l="center"==i.originY?n.top+n.height/2:"top"==i.originY?n.top:n.bottom,{x:s,y:l}}_getOverlayPoint(n,i,s){let l,f;return l="center"==s.overlayX?-i.width/2:"start"===s.overlayX?this._isRtl()?-i.width:0:this._isRtl()?0:-i.width,f="center"==s.overlayY?-i.height/2:"top"==s.overlayY?0:-i.height,{x:n.x+l,y:n.y+f}}_getOverlayFit(n,i,s,l){const f=A8(i);let{x,y:A}=n,B=this._getOffset(l,"x"),q=this._getOffset(l,"y");B&&(x+=B),q&&(A+=q);let Wt=0-A,ne=A+f.height-s.height,ce=this._subtractOverflows(f.width,0-x,x+f.width-s.width),Ae=this._subtractOverflows(f.height,Wt,ne),Te=ce*Ae;return{visibleArea:Te,isCompletelyWithinViewport:f.width*f.height===Te,fitsInViewportVertically:Ae===f.height,fitsInViewportHorizontally:ce==f.width}}_canFitWithFlexibleDimensions(n,i,s){if(this._hasFlexibleDimensions){const l=s.bottom-i.y,f=s.right-i.x,x=k8(this._overlayRef.getConfig().minHeight),A=k8(this._overlayRef.getConfig().minWidth),q=n.fitsInViewportHorizontally||null!=A&&A<=f;return(n.fitsInViewportVertically||null!=x&&x<=l)&&q}return!1}_pushOverlayOnScreen(n,i,s){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const l=A8(i),f=this._viewportRect,x=Math.max(n.x+l.width-f.width,0),A=Math.max(n.y+l.height-f.height,0),B=Math.max(f.top-s.top-n.y,0),q=Math.max(f.left-s.left-n.x,0);let vt=0,Tt=0;return vt=l.width<=f.width?q||-x:n.x<this._viewportMargin?f.left-s.left-n.x:0,Tt=l.height<=f.height?B||-A:n.y<this._viewportMargin?f.top-s.top-n.y:0,this._previousPushAmount={x:vt,y:Tt},{x:n.x+vt,y:n.y+Tt}}_applyPosition(n,i){if(this._setTransformOrigin(n),this._setOverlayElementStyles(i,n),this._setBoundingBoxStyles(i,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._lastPosition=n,this._positionChanges.observers.length){const s=this._getScrollVisibility(),l=new fY(n,s);this._positionChanges.next(l)}this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const i=this._boundingBox.querySelectorAll(this._transformOriginSelector);let s,l=n.overlayY;s="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let f=0;f<i.length;f++)i[f].style.transformOrigin=`${s} ${l}`}_calculateBoundingBoxRect(n,i){const s=this._viewportRect,l=this._isRtl();let f,x,A,vt,Tt,Wt;if("top"===i.overlayY)x=n.y,f=s.height-x+this._viewportMargin;else if("bottom"===i.overlayY)A=s.height-n.y+2*this._viewportMargin,f=s.height-A+this._viewportMargin;else{const ne=Math.min(s.bottom-n.y+s.top,n.y),ce=this._lastBoundingBoxSize.height;f=2*ne,x=n.y-ne,f>ce&&!this._isInitialRender&&!this._growAfterOpen&&(x=n.y-ce/2)}if("end"===i.overlayX&&!l||"start"===i.overlayX&&l)Wt=s.width-n.x+this._viewportMargin,vt=n.x-this._viewportMargin;else if("start"===i.overlayX&&!l||"end"===i.overlayX&&l)Tt=n.x,vt=s.right-n.x;else{const ne=Math.min(s.right-n.x+s.left,n.x),ce=this._lastBoundingBoxSize.width;vt=2*ne,Tt=n.x-ne,vt>ce&&!this._isInitialRender&&!this._growAfterOpen&&(Tt=n.x-ce/2)}return{top:x,left:Tt,bottom:A,right:Wt,width:vt,height:f}}_setBoundingBoxStyles(n,i){const s=this._calculateBoundingBoxRect(n,i);!this._isInitialRender&&!this._growAfterOpen&&(s.height=Math.min(s.height,this._lastBoundingBoxSize.height),s.width=Math.min(s.width,this._lastBoundingBoxSize.width));const l={};if(this._hasExactPosition())l.top=l.left="0",l.bottom=l.right=l.maxHeight=l.maxWidth="",l.width=l.height="100%";else{const f=this._overlayRef.getConfig().maxHeight,x=this._overlayRef.getConfig().maxWidth;l.height=Yl(s.height),l.top=Yl(s.top),l.bottom=Yl(s.bottom),l.width=Yl(s.width),l.left=Yl(s.left),l.right=Yl(s.right),l.alignItems="center"===i.overlayX?"center":"end"===i.overlayX?"flex-end":"flex-start",l.justifyContent="center"===i.overlayY?"center":"bottom"===i.overlayY?"flex-end":"flex-start",f&&(l.maxHeight=Yl(f)),x&&(l.maxWidth=Yl(x))}this._lastBoundingBoxSize=s,kx(this._boundingBox.style,l)}_resetBoundingBoxStyles(){kx(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){kx(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,i){const s={},l=this._hasExactPosition(),f=this._hasFlexibleDimensions,x=this._overlayRef.getConfig();if(l){const vt=this._viewportRuler.getViewportScrollPosition();kx(s,this._getExactOverlayY(i,n,vt)),kx(s,this._getExactOverlayX(i,n,vt))}else s.position="static";let A="",B=this._getOffset(i,"x"),q=this._getOffset(i,"y");B&&(A+=`translateX(${B}px) `),q&&(A+=`translateY(${q}px)`),s.transform=A.trim(),x.maxHeight&&(l?s.maxHeight=Yl(x.maxHeight):f&&(s.maxHeight="")),x.maxWidth&&(l?s.maxWidth=Yl(x.maxWidth):f&&(s.maxWidth="")),kx(this._pane.style,s)}_getExactOverlayY(n,i,s){let l={top:"",bottom:""},f=this._getOverlayPoint(i,this._overlayRect,n);this._isPushed&&(f=this._pushOverlayOnScreen(f,this._overlayRect,s));let x=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return f.y-=x,"bottom"===n.overlayY?l.bottom=this._document.documentElement.clientHeight-(f.y+this._overlayRect.height)+"px":l.top=Yl(f.y),l}_getExactOverlayX(n,i,s){let x,l={left:"",right:""},f=this._getOverlayPoint(i,this._overlayRect,n);return this._isPushed&&(f=this._pushOverlayOnScreen(f,this._overlayRect,s)),x=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===x?l.right=this._document.documentElement.clientWidth-(f.x+this._overlayRect.width)+"px":l.left=Yl(f.x),l}_getScrollVisibility(){const n=this._getOriginRect(),i=this._pane.getBoundingClientRect(),s=this._scrollables.map(l=>l.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:M8(n,s),isOriginOutsideView:VA(n,s),isOverlayClipped:M8(i,s),isOverlayOutsideView:VA(i,s)}}_subtractOverflows(n,...i){return i.reduce((s,l)=>s-Math.max(l,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,s=this._viewportRuler.getViewportScrollPosition();return{top:s.top+this._viewportMargin,left:s.left+this._viewportMargin,right:s.left+n-this._viewportMargin,bottom:s.top+i-this._viewportMargin,width:n-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,i){return"x"===i?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&UC(n).forEach(i=>{""!==i&&-1===this._appliedPanelClasses.indexOf(i)&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof mr)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const i=n.width||0,s=n.height||0;return{top:n.y,bottom:n.y+s,left:n.x,right:n.x+i,height:s,width:i}}}function kx(r,n){for(let i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);return r}function k8(r){if("number"!=typeof r&&null!=r){const[n,i]=r.split(gY);return i&&"px"!==i?null:parseFloat(n)}return r||null}function A8(r){return{top:Math.floor(r.top),right:Math.floor(r.right),bottom:Math.floor(r.bottom),left:Math.floor(r.left),width:Math.floor(r.width),height:Math.floor(r.height)}}const T8="cdk-global-overlay-wrapper";class vY{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(n){const i=n.getConfig();this._overlayRef=n,this._width&&!i.width&&n.updateSize({width:this._width}),this._height&&!i.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(T8),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._rightOffset="",this._leftOffset=n,this._justifyContent="flex-start",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._leftOffset="",this._rightOffset=n,this._justifyContent="flex-end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._justifyContent="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,s=this._overlayRef.getConfig(),{width:l,height:f,maxWidth:x,maxHeight:A}=s,B=!("100%"!==l&&"100vw"!==l||x&&"100%"!==x&&"100vw"!==x),q=!("100%"!==f&&"100vh"!==f||A&&"100%"!==A&&"100vh"!==A);n.position=this._cssPosition,n.marginLeft=B?"0":this._leftOffset,n.marginTop=q?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=this._rightOffset,B?i.justifyContent="flex-start":"center"===this._justifyContent?i.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?i.justifyContent="flex-end":"flex-end"===this._justifyContent&&(i.justifyContent="flex-start"):i.justifyContent=this._justifyContent,i.alignItems=q?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,s=i.style;i.classList.remove(T8),s.justifyContent=s.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let yY=(()=>{class r{constructor(i,s,l,f){this._viewportRuler=i,this._document=s,this._platform=l,this._overlayContainer=f}global(){return new vY}flexibleConnectedTo(i){return new E8(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return r.\u0275fac=function(i){return new(i||r)(gi(NM),gi(zr),gi($l),gi(S8))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),xY=0,Kg=(()=>{class r{constructor(i,s,l,f,x,A,B,q,vt,Tt,Wt){this.scrollStrategies=i,this._overlayContainer=s,this._componentFactoryResolver=l,this._positionBuilder=f,this._keyboardDispatcher=x,this._injector=A,this._ngZone=B,this._document=q,this._directionality=vt,this._location=Tt,this._outsideClickDispatcher=Wt}create(i){const s=this._createHostElement(),l=this._createPaneElement(s),f=this._createPortalOutlet(l),x=new VM(i);return x.direction=x.direction||this._directionality.value,new mY(f,s,l,x,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(i){const s=this._document.createElement("div");return s.id="cdk-overlay-"+xY++,s.classList.add("cdk-overlay-pane"),i.appendChild(s),s}_createHostElement(){const i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(fx)),new rY(i,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return r.\u0275fac=function(i){return new(i||r)(gi(hY),gi(S8),gi(Ng),gi(yY),gi(dY),gi(Ro),gi(Cr),gi(zr),gi(c0),gi(DC),gi(pY))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})();const wY=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],P8=new pn("cdk-connected-overlay-scroll-strategy");let I8=(()=>{class r{constructor(i){this.elementRef=i}}return r.\u0275fac=function(i){return new(i||r)(ye(mr))},r.\u0275dir=dn({type:r,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),r})(),R8=(()=>{class r{constructor(i,s,l,f,x){this._overlay=i,this._dir=x,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=E.EMPTY,this._attachSubscription=E.EMPTY,this._detachSubscription=E.EMPTY,this._positionSubscription=E.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new Sn,this.positionChange=new Sn,this.attach=new Sn,this.detach=new Sn,this.overlayKeydown=new Sn,this.overlayOutsideClick=new Sn,this._templatePortal=new FM(s,l),this._scrollStrategyFactory=f,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(i){this._offsetX=i,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(i){this._offsetY=i,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(i){this._hasBackdrop=Jr(i)}get lockPosition(){return this._lockPosition}set lockPosition(i){this._lockPosition=Jr(i)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(i){this._flexibleDimensions=Jr(i)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(i){this._growAfterOpen=Jr(i)}get push(){return this._push}set push(i){this._push=Jr(i)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(i){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),i.origin&&this.open&&this._position.apply()),i.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=wY);const i=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=i.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=i.detachments().subscribe(()=>this.detach.emit()),i.keydownEvents().subscribe(s=>{this.overlayKeydown.next(s),27===s.keyCode&&!this.disableClose&&!pc(s)&&(s.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(s=>{this.overlayOutsideClick.next(s)})}_buildConfig(){const i=this._position=this.positionStrategy||this._createPositionStrategy(),s=new VM({direction:this._dir,positionStrategy:i,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(s.width=this.width),(this.height||0===this.height)&&(s.height=this.height),(this.minWidth||0===this.minWidth)&&(s.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(s.minHeight=this.minHeight),this.backdropClass&&(s.backdropClass=this.backdropClass),this.panelClass&&(s.panelClass=this.panelClass),s}_updatePositionStrategy(i){const s=this.positions.map(l=>({originX:l.originX,originY:l.originY,overlayX:l.overlayX,overlayY:l.overlayY,offsetX:l.offsetX||this.offsetX,offsetY:l.offsetY||this.offsetY,panelClass:l.panelClass||void 0}));return i.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(s).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const i=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(i),i}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof I8?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(i=>{this.backdropClick.emit(i)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(r,n=!1){return it((i,s)=>{let l=0;i.subscribe(new Z(s,f=>{const x=r(f,l++);(x||n)&&s.next(f),!x&&s.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(i=>{this.positionChange.emit(i),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return r.\u0275fac=function(i){return new(i||r)(ye(Kg),ye(Kf),ye(Su),ye(P8),ye(c0,8))},r.\u0275dir=dn({type:r,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Xr]}),r})();const _Y={provide:P8,deps:[Kg],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let LS=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({providers:[Kg,_Y],imports:[[kM,NS,v8],v8]}),r})();const MY=["connectionContainer"],CY=["inputContainer"],SY=["label"];function DY(r,n){1&r&&(Kp(0),Xe(1,"div",14),An(2,"div",15),An(3,"div",16),An(4,"div",17),Ke(),Xe(5,"div",18),An(6,"div",15),An(7,"div",16),An(8,"div",17),Ke(),Wc())}function EY(r,n){1&r&&(Xe(0,"div",19),F(1,1),Ke())}function kY(r,n){if(1&r&&(Kp(0),F(1,2),Xe(2,"span"),qi(3),Ke(),Wc()),2&r){const i=_(2);ki(3),_s(i._control.placeholder)}}function AY(r,n){1&r&&F(0,3,["*ngSwitchCase","true"])}function TY(r,n){1&r&&(Xe(0,"span",23),qi(1," *"),Ke())}function PY(r,n){if(1&r){const i=Ya();Xe(0,"label",20,21),e("cdkObserveContent",function(){return qo(i),_().updateOutlineGap()}),Mn(2,kY,4,1,"ng-container",12),Mn(3,AY,1,0,"ng-content",12),Mn(4,TY,2,0,"span",22),Ke()}if(2&r){const i=_();Er("mat-empty",i._control.empty&&!i._shouldAlwaysFloat())("mat-form-field-empty",i._control.empty&&!i._shouldAlwaysFloat())("mat-accent","accent"==i.color)("mat-warn","warn"==i.color),Pi("cdkObserveContentDisabled","outline"!=i.appearance)("id",i._labelId)("ngSwitch",i._hasLabel()),Ir("for",i._control.id)("aria-owns",i._control.id),ki(2),Pi("ngSwitchCase",!1),ki(1),Pi("ngSwitchCase",!0),ki(1),Pi("ngIf",!i.hideRequiredMarker&&i._control.required&&!i._control.disabled)}}function IY(r,n){1&r&&(Xe(0,"div",24),F(1,4),Ke())}function RY(r,n){if(1&r&&(Xe(0,"div",25),An(1,"span",26),Ke()),2&r){const i=_();ki(1),Er("mat-accent","accent"==i.color)("mat-warn","warn"==i.color)}}function OY(r,n){1&r&&(Xe(0,"div"),F(1,5),Ke()),2&r&&Pi("@transitionMessages",_()._subscriptAnimationState)}function NY(r,n){if(1&r&&(Xe(0,"div",30),qi(1),Ke()),2&r){const i=_(2);Pi("id",i._hintLabelId),ki(1),_s(i.hintLabel)}}function LY(r,n){if(1&r&&(Xe(0,"div",27),Mn(1,NY,2,2,"div",28),F(2,6),An(3,"div",29),F(4,7),Ke()),2&r){const i=_();Pi("@transitionMessages",i._subscriptAnimationState),ki(1),Pi("ngIf",i.hintLabel)}}const FY=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],BY=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let VY=0;const O8=new pn("MatError");let jY=(()=>{class r{constructor(i,s){this.id="mat-error-"+VY++,i||s.nativeElement.setAttribute("aria-live","polite")}}return r.\u0275fac=function(i){return new(i||r)(Hh("aria-live"),ye(mr))},r.\u0275dir=dn({type:r,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(i,s){2&i&&Ir("id",s.id)},inputs:{id:"id"},features:[po([{provide:O8,useExisting:r}])]}),r})();const zY={transitionMessages:$g("transitionMessages",[af("enter",Ra({opacity:1,transform:"translateY(0%)"})),lf("void => enter",[Ra({opacity:0,transform:"translateY(-5px)"}),Zf("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let FS=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=dn({type:r}),r})();const HY=new pn("MatHint");let Pb=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=dn({type:r,selectors:[["mat-label"]]}),r})(),UY=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=dn({type:r,selectors:[["mat-placeholder"]]}),r})();const GY=new pn("MatPrefix"),N8=new pn("MatSuffix");let WY=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=dn({type:r,selectors:[["","matSuffix",""]],features:[po([{provide:N8,useExisting:r}])]}),r})(),L8=0;const $Y=Sx(class{constructor(r){this._elementRef=r}},"primary"),XY=new pn("MAT_FORM_FIELD_DEFAULT_OPTIONS"),jM=new pn("MatFormField");let BS=(()=>{class r extends $Y{constructor(i,s,l,f,x,A,B){super(i),this._changeDetectorRef=s,this._dir=l,this._defaults=f,this._platform=x,this._ngZone=A,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new C,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+L8++,this._labelId="mat-form-field-label-"+L8++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==B,this.appearance=f&&f.appearance?f.appearance:"legacy",this._hideRequiredMarker=!(!f||null==f.hideRequiredMarker)&&f.hideRequiredMarker}get appearance(){return this._appearance}set appearance(i){const s=this._appearance;this._appearance=i||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&s!==i&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(i){this._hideRequiredMarker=Jr(i)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(i){this._hintLabel=i,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(i){i!==this._floatLabel&&(this._floatLabel=i||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(i){this._explicitFormFieldControl=i}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const i=this._control;i.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${i.controlType}`),i.stateChanges.pipe(fc(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),i.ngControl&&i.ngControl.valueChanges&&i.ngControl.valueChanges.pipe(gs(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(gs(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),br(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(fc(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(fc(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(gs(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(i){const s=this._control?this._control.ngControl:null;return s&&s[i]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,f0(this._label.nativeElement,"transitionend").pipe(Xn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let i=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&i.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const s=this._hintChildren?this._hintChildren.find(f=>"start"===f.align):null,l=this._hintChildren?this._hintChildren.find(f=>"end"===f.align):null;s?i.push(s.id):this._hintLabel&&i.push(this._hintLabelId),l&&i.push(l.id)}else this._errorChildren&&i.push(...this._errorChildren.map(s=>s.id));this._control.setDescribedByIds(i)}}_validateControlChild(){}updateOutlineGap(){const i=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&i&&i.children.length&&i.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let s=0,l=0;const f=this._connectionContainerRef.nativeElement,x=f.querySelectorAll(".mat-form-field-outline-start"),A=f.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const B=f.getBoundingClientRect();if(0===B.width&&0===B.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const q=this._getStartEnd(B),vt=i.children,Tt=this._getStartEnd(vt[0].getBoundingClientRect());let Wt=0;for(let ne=0;ne<vt.length;ne++)Wt+=vt[ne].offsetWidth;s=Math.abs(Tt-q)-5,l=Wt>0?.75*Wt+10:0}for(let B=0;B<x.length;B++)x[B].style.width=`${s}px`;for(let B=0;B<A.length;B++)A[B].style.width=`${l}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(i){return this._dir&&"rtl"===this._dir.value?i.right:i.left}_isAttachedToDOM(){const i=this._elementRef.nativeElement;if(i.getRootNode){const s=i.getRootNode();return s&&s!==i}return document.documentElement.contains(i)}}return r.\u0275fac=function(i){return new(i||r)(ye(mr),ye(ra),ye(c0,8),ye(XY,8),ye($l),ye(Cr),ye(Qf,8))},r.\u0275cmp=gn({type:r,selectors:[["mat-form-field"]],contentQueries:function(i,s,l){if(1&i&&(ms(l,FS,5),ms(l,FS,7),ms(l,Pb,5),ms(l,Pb,7),ms(l,UY,5),ms(l,O8,5),ms(l,HY,5),ms(l,GY,5),ms(l,N8,5)),2&i){let f;or(f=sr())&&(s._controlNonStatic=f.first),or(f=sr())&&(s._controlStatic=f.first),or(f=sr())&&(s._labelChildNonStatic=f.first),or(f=sr())&&(s._labelChildStatic=f.first),or(f=sr())&&(s._placeholderChild=f.first),or(f=sr())&&(s._errorChildren=f),or(f=sr())&&(s._hintChildren=f),or(f=sr())&&(s._prefixChildren=f),or(f=sr())&&(s._suffixChildren=f)}},viewQuery:function(i,s){if(1&i&&(Cs(MY,7),Cs(CY,5),Cs(SY,5)),2&i){let l;or(l=sr())&&(s._connectionContainerRef=l.first),or(l=sr())&&(s._inputContainerRef=l.first),or(l=sr())&&(s._label=l.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(i,s){2&i&&Er("mat-form-field-appearance-standard","standard"==s.appearance)("mat-form-field-appearance-fill","fill"==s.appearance)("mat-form-field-appearance-outline","outline"==s.appearance)("mat-form-field-appearance-legacy","legacy"==s.appearance)("mat-form-field-invalid",s._control.errorState)("mat-form-field-can-float",s._canLabelFloat())("mat-form-field-should-float",s._shouldLabelFloat())("mat-form-field-has-label",s._hasFloatingLabel())("mat-form-field-hide-placeholder",s._hideControlPlaceholder())("mat-form-field-disabled",s._control.disabled)("mat-form-field-autofilled",s._control.autofilled)("mat-focused",s._control.focused)("ng-untouched",s._shouldForward("untouched"))("ng-touched",s._shouldForward("touched"))("ng-pristine",s._shouldForward("pristine"))("ng-dirty",s._shouldForward("dirty"))("ng-valid",s._shouldForward("valid"))("ng-invalid",s._shouldForward("invalid"))("ng-pending",s._shouldForward("pending"))("_mat-animation-noopable",!s._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[po([{provide:jM,useExisting:r}]),rr],ngContentSelectors:BY,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(i,s){1&i&&(P(FY),Xe(0,"div",0),Xe(1,"div",1,2),e("click",function(f){return s._control.onContainerClick&&s._control.onContainerClick(f)}),Mn(3,DY,9,0,"ng-container",3),Mn(4,EY,2,0,"div",4),Xe(5,"div",5,6),F(7),Xe(8,"span",7),Mn(9,PY,5,16,"label",8),Ke(),Ke(),Mn(10,IY,2,0,"div",9),Ke(),Mn(11,RY,2,4,"div",10),Xe(12,"div",11),Mn(13,OY,2,1,"div",12),Mn(14,LY,5,2,"div",13),Ke(),Ke()),2&i&&(ki(3),Pi("ngIf","outline"==s.appearance),ki(1),Pi("ngIf",s._prefixChildren.length),ki(5),Pi("ngIf",s._hasFloatingLabel()),ki(1),Pi("ngIf",s._suffixChildren.length),ki(1),Pi("ngIf","outline"!=s.appearance),ki(1),Pi("ngSwitch",s._getDisplayedMessages()),ki(1),Pi("ngSwitchCase","error"),ki(1),Pi("ngSwitchCase","hint"))},directives:[ku,vb,FC,A6],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[zY.transitionMessages]},changeDetection:0}),r})(),VS=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({imports:[[l0,$o,$k],$o]}),r})();const B8=YC({passive:!0});let KY=(()=>{class r{constructor(i,s){this._platform=i,this._ngZone=s,this._monitoredElements=new Map}monitor(i){if(!this._platform.isBrowser)return $e;const s=Hg(i),l=this._monitoredElements.get(s);if(l)return l.subject;const f=new C,x="cdk-text-field-autofilled",A=B=>{"cdk-text-field-autofill-start"!==B.animationName||s.classList.contains(x)?"cdk-text-field-autofill-end"===B.animationName&&s.classList.contains(x)&&(s.classList.remove(x),this._ngZone.run(()=>f.next({target:B.target,isAutofilled:!1}))):(s.classList.add(x),this._ngZone.run(()=>f.next({target:B.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{s.addEventListener("animationstart",A,B8),s.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(s,{subject:f,unlisten:()=>{s.removeEventListener("animationstart",A,B8)}}),f}stopMonitoring(i){const s=Hg(i),l=this._monitoredElements.get(s);l&&(l.unlisten(),l.subject.complete(),s.classList.remove("cdk-text-field-autofill-monitored"),s.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(s))}ngOnDestroy(){this._monitoredElements.forEach((i,s)=>this.stopMonitoring(s))}}return r.\u0275fac=function(i){return new(i||r)(gi($l),gi(Cr))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),ZY=(()=>{class r{constructor(i,s,l,f){this._elementRef=i,this._platform=s,this._ngZone=l,this._destroyed=new C,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=x=>{this._hasFocus="focus"===x.type},this._document=f,this._textareaElement=this._elementRef.nativeElement}get minRows(){return this._minRows}set minRows(i){this._minRows=Ry(i),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(i){this._maxRows=Ry(i),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(i){i=Jr(i),this._enabled!==i&&((this._enabled=i)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(i){this._cachedPlaceholderHeight=void 0,this._textareaElement.placeholder=i,this._cacheTextareaPlaceholderHeight()}_setMinHeight(){const i=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;i&&(this._textareaElement.style.minHeight=i)}_setMaxHeight(){const i=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;i&&(this._textareaElement.style.maxHeight=i)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{f0(this._getWindow(),"resize").pipe(NA(16),gs(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let i=this._textareaElement.cloneNode(!1);i.rows=1,i.style.position="absolute",i.style.visibility="hidden",i.style.border="none",i.style.padding="0",i.style.height="",i.style.minHeight="",i.style.maxHeight="",i.style.overflow="hidden",this._textareaElement.parentNode.appendChild(i),this._cachedLineHeight=i.clientHeight,i.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){const i=this._textareaElement,s=i.style.marginBottom||"",l=this._platform.FIREFOX,f=l&&this._hasFocus,x=l?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";f&&(i.style.marginBottom=`${i.clientHeight}px`),i.classList.add(x);const A=i.scrollHeight-4;return i.classList.remove(x),f&&(i.style.marginBottom=s),A}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||null!=this._cachedPlaceholderHeight)return;if(!this.placeholder)return void(this._cachedPlaceholderHeight=0);const i=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=i}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(i=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;const s=this._elementRef.nativeElement,l=s.value;if(!i&&this._minRows===this._previousMinRows&&l===this._previousValue)return;const f=this._measureScrollHeight(),x=Math.max(f,this._cachedPlaceholderHeight||0);s.style.height=`${x}px`,this._ngZone.runOutsideAngular(()=>{"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(()=>this._scrollToCaretPosition(s)):setTimeout(()=>this._scrollToCaretPosition(s))}),this._previousValue=l,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(i){const{selectionStart:s,selectionEnd:l}=i;!this._destroyed.isStopped&&this._hasFocus&&i.setSelectionRange(s,l)}}return r.\u0275fac=function(i){return new(i||r)(ye(mr),ye($l),ye(Cr),ye(zr,8))},r.\u0275dir=dn({type:r,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(i,s){1&i&&e("input",function(){return s._noopInputHandler()})},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]}),r})(),V8=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({imports:[[xb]]}),r})();const j8=new pn("MAT_INPUT_VALUE_ACCESSOR"),qY=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let JY=0;const QY=YR(class{constructor(r,n,i,s){this._defaultErrorStateMatcher=r,this._parentForm=n,this._parentFormGroup=i,this.ngControl=s}});let jA=(()=>{class r extends QY{constructor(i,s,l,f,x,A,B,q,vt,Tt){super(A,f,x,l),this._elementRef=i,this._platform=s,this._autofillMonitor=q,this._formField=Tt,this._uid="mat-input-"+JY++,this.focused=!1,this.stateChanges=new C,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(ce=>_I().has(ce));const Wt=this._elementRef.nativeElement,ne=Wt.nodeName.toLowerCase();this._inputValueAccessor=B||Wt,this._previousNativeValue=this.value,this.id=this.id,s.IOS&&vt.runOutsideAngular(()=>{i.nativeElement.addEventListener("keyup",ce=>{const Ae=ce.target;!Ae.value&&0===Ae.selectionStart&&0===Ae.selectionEnd&&(Ae.setSelectionRange(1,1),Ae.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===ne,this._isTextarea="textarea"===ne,this._isInFormField=!!Tt,this._isNativeSelect&&(this.controlType=Wt.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(i){this._disabled=Jr(i),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(i){this._id=i||this._uid}get required(){var i,s,l,f;return null!=(f=null!=(l=this._required)?l:null==(s=null==(i=this.ngControl)?void 0:i.control)?void 0:s.hasValidator(Mb.required))&&f}set required(i){this._required=Jr(i)}get type(){return this._type}set type(i){this._type=i||"text",this._validateType(),!this._isTextarea&&_I().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(i){i!==this.value&&(this._inputValueAccessor.value=i,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(i){this._readonly=Jr(i)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(i=>{this.autofilled=i.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(i){this._elementRef.nativeElement.focus(i)}_focusChanged(i){i!==this.focused&&(this.focused=i,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var s,l;const i=(null==(l=null==(s=this._formField)?void 0:s._hideControlPlaceholder)?void 0:l.call(s))?null:this.placeholder;if(i!==this._previousPlaceholder){const f=this._elementRef.nativeElement;this._previousPlaceholder=i,i?f.setAttribute("placeholder",i):f.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const i=this._elementRef.nativeElement.value;this._previousNativeValue!==i&&(this._previousNativeValue=i,this.stateChanges.next())}_validateType(){qY.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let i=this._elementRef.nativeElement.validity;return i&&i.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const i=this._elementRef.nativeElement,s=i.options[0];return this.focused||i.multiple||!this.empty||!!(i.selectedIndex>-1&&s&&s.label)}return this.focused||!this.empty}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const i=this._elementRef.nativeElement;return this._isNativeSelect&&(i.multiple||i.size>1)}}return r.\u0275fac=function(i){return new(i||r)(ye(mr),ye($l),ye(um,10),ye(CM,8),ye(Gg,8),ye(AA),ye(j8,10),ye(KY),ye(Cr),ye(jM,8))},r.\u0275dir=dn({type:r,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(i,s){1&i&&e("focus",function(){return s._focusChanged(!0)})("blur",function(){return s._focusChanged(!1)})("input",function(){return s._onInput()}),2&i&&(eu("disabled",s.disabled)("required",s.required),Ir("id",s.id)("data-placeholder",s.placeholder)("readonly",s.readonly&&!s._isNativeSelect||null)("aria-invalid",s.empty&&s.required?null:s.errorState)("aria-required",s.required),Er("mat-input-server",s._isServer)("mat-native-select-inline",s._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[po([{provide:FS,useExisting:r}]),rr,Xr]}),r})(),t$=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({providers:[AA],imports:[[V8,VS,$o],V8,VS]}),r})();const e$=["mat-calendar-body",""];function i$(r,n){if(1&r&&(Xe(0,"tr",2),Xe(1,"td",3),qi(2),Ke(),Ke()),2&r){const i=_();ki(1),Dh("padding-top",i._cellPadding)("padding-bottom",i._cellPadding),Ir("colspan",i.numCols),ki(1),pa(" ",i.label," ")}}function n$(r,n){if(1&r&&(Xe(0,"td",3),qi(1),Ke()),2&r){const i=_(2);Dh("padding-top",i._cellPadding)("padding-bottom",i._cellPadding),Ir("colspan",i._firstRowOffset),ki(1),pa(" ",i._firstRowOffset>=i.labelMinRequiredCells?i.label:""," ")}}function r$(r,n){if(1&r){const i=Ya();Xe(0,"td",7),e("click",function(l){const x=qo(i).$implicit;return _(2)._cellClicked(x,l)}),Xe(1,"div",8),qi(2),Ke(),An(3,"div",9),Ke()}if(2&r){const i=n.$implicit,s=n.index,l=_().index,f=_();Dh("width",f._cellWidth)("padding-top",f._cellPadding)("padding-bottom",f._cellPadding),Er("mat-calendar-body-disabled",!i.enabled)("mat-calendar-body-active",f._isActiveCell(l,s))("mat-calendar-body-range-start",f._isRangeStart(i.compareValue))("mat-calendar-body-range-end",f._isRangeEnd(i.compareValue))("mat-calendar-body-in-range",f._isInRange(i.compareValue))("mat-calendar-body-comparison-bridge-start",f._isComparisonBridgeStart(i.compareValue,l,s))("mat-calendar-body-comparison-bridge-end",f._isComparisonBridgeEnd(i.compareValue,l,s))("mat-calendar-body-comparison-start",f._isComparisonStart(i.compareValue))("mat-calendar-body-comparison-end",f._isComparisonEnd(i.compareValue))("mat-calendar-body-in-comparison-range",f._isInComparisonRange(i.compareValue))("mat-calendar-body-preview-start",f._isPreviewStart(i.compareValue))("mat-calendar-body-preview-end",f._isPreviewEnd(i.compareValue))("mat-calendar-body-in-preview",f._isInPreview(i.compareValue)),Pi("ngClass",i.cssClasses)("tabindex",f._isActiveCell(l,s)?0:-1),Ir("data-mat-row",l)("data-mat-col",s)("aria-label",i.ariaLabel)("aria-disabled",!i.enabled||null)("aria-selected",f._isSelected(i.compareValue)),ki(1),Er("mat-calendar-body-selected",f._isSelected(i.compareValue))("mat-calendar-body-comparison-identical",f._isComparisonIdentical(i.compareValue))("mat-calendar-body-today",f.todayValue===i.compareValue),ki(1),pa(" ",i.displayValue," ")}}function o$(r,n){if(1&r&&(Xe(0,"tr",4),Mn(1,n$,2,6,"td",5),Mn(2,r$,4,46,"td",6),Ke()),2&r){const i=n.$implicit,s=n.index,l=_();ki(1),Pi("ngIf",0===s&&l._firstRowOffset),ki(1),Pi("ngForOf",i)}}function s$(r,n){if(1&r&&(Xe(0,"th",5),Xe(1,"abbr",6),qi(2),Ke(),Ke()),2&r){const i=n.$implicit;Ir("aria-label",i.long),ki(1),Ir("title",i.long),ki(1),_s(i.narrow)}}const a$=["*"];function l$(r,n){}function h$(r,n){if(1&r){const i=Ya();Xe(0,"mat-month-view",5),e("activeDateChange",function(l){return qo(i),_().activeDate=l})("_userSelection",function(l){return qo(i),_()._dateSelected(l)}),Ke()}if(2&r){const i=_();Pi("activeDate",i.activeDate)("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)}}function u$(r,n){if(1&r){const i=Ya();Xe(0,"mat-year-view",6),e("activeDateChange",function(l){return qo(i),_().activeDate=l})("monthSelected",function(l){return qo(i),_()._monthSelectedInYearView(l)})("selectedChange",function(l){return qo(i),_()._goToDateInView(l,"month")}),Ke()}if(2&r){const i=_();Pi("activeDate",i.activeDate)("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)}}function c$(r,n){if(1&r){const i=Ya();Xe(0,"mat-multi-year-view",7),e("activeDateChange",function(l){return qo(i),_().activeDate=l})("yearSelected",function(l){return qo(i),_()._yearSelectedInMultiYearView(l)})("selectedChange",function(l){return qo(i),_()._goToDateInView(l,"year")}),Ke()}if(2&r){const i=_();Pi("activeDate",i.activeDate)("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)}}function f$(r,n){}const d$=["button"];function p$(r,n){1&r&&(Rm(),Xe(0,"svg",3),An(1,"path",4),Ke())}const m$=[[["","matDatepickerToggleIcon",""]]],g$=["[matDatepickerToggleIcon]"];let zM=(()=>{class r{constructor(){this.changes=new C,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(i,s){return`${i} \u2013 ${s}`}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class zA{constructor(n,i,s,l,f={},x=n,A){this.value=n,this.displayValue=i,this.ariaLabel=s,this.enabled=l,this.cssClasses=f,this.compareValue=x,this.rawValue=A}}let Ib=(()=>{class r{constructor(i,s){this._elementRef=i,this._ngZone=s,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new Sn,this.previewChange=new Sn,this._enterHandler=l=>{if(this._skipNextFocus&&"focus"===l.type)this._skipNextFocus=!1;else if(l.target&&this.isRange){const f=this._getCellFromElement(l.target);f&&this._ngZone.run(()=>this.previewChange.emit({value:f.enabled?f:null,event:l}))}},this._leaveHandler=l=>{null!==this.previewEnd&&this.isRange&&l.target&&HA(l.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:l}))},s.runOutsideAngular(()=>{const l=i.nativeElement;l.addEventListener("mouseenter",this._enterHandler,!0),l.addEventListener("focus",this._enterHandler,!0),l.addEventListener("mouseleave",this._leaveHandler,!0),l.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(i,s){i.enabled&&this.selectedValueChange.emit({value:i.value,event:s})}_isSelected(i){return this.startValue===i||this.endValue===i}ngOnChanges(i){const s=i.numCols,{rows:l,numCols:f}=this;(i.rows||s)&&(this._firstRowOffset=l&&l.length&&l[0].length?f-l[0].length:0),(i.cellAspectRatio||s||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/f+"%"),(s||!this._cellWidth)&&(this._cellWidth=100/f+"%")}ngOnDestroy(){const i=this._elementRef.nativeElement;i.removeEventListener("mouseenter",this._enterHandler,!0),i.removeEventListener("focus",this._enterHandler,!0),i.removeEventListener("mouseleave",this._leaveHandler,!0),i.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(i,s){let l=i*this.numCols+s;return i&&(l-=this._firstRowOffset),l==this.activeCell}_focusActiveCell(i=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Xn(1)).subscribe(()=>{const s=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");s&&(i||(this._skipNextFocus=!0),s.focus())})})}_isRangeStart(i){return UA(i,this.startValue,this.endValue)}_isRangeEnd(i){return GA(i,this.startValue,this.endValue)}_isInRange(i){return WA(i,this.startValue,this.endValue,this.isRange)}_isComparisonStart(i){return UA(i,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(i,s,l){if(!this._isComparisonStart(i)||this._isRangeStart(i)||!this._isInRange(i))return!1;let f=this.rows[s][l-1];if(!f){const x=this.rows[s-1];f=x&&x[x.length-1]}return f&&!this._isRangeEnd(f.compareValue)}_isComparisonBridgeEnd(i,s,l){if(!this._isComparisonEnd(i)||this._isRangeEnd(i)||!this._isInRange(i))return!1;let f=this.rows[s][l+1];if(!f){const x=this.rows[s+1];f=x&&x[0]}return f&&!this._isRangeStart(f.compareValue)}_isComparisonEnd(i){return GA(i,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(i){return WA(i,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(i){return this.comparisonStart===this.comparisonEnd&&i===this.comparisonStart}_isPreviewStart(i){return UA(i,this.previewStart,this.previewEnd)}_isPreviewEnd(i){return GA(i,this.previewStart,this.previewEnd)}_isInPreview(i){return WA(i,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(i){let s;if(HA(i)?s=i:HA(i.parentNode)&&(s=i.parentNode),s){const l=s.getAttribute("data-mat-row"),f=s.getAttribute("data-mat-col");if(l&&f)return this.rows[parseInt(l)][parseInt(f)]}return null}}return r.\u0275fac=function(i){return new(i||r)(ye(mr),ye(Cr))},r.\u0275cmp=gn({type:r,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[Xr],attrs:e$,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell",3,"ngClass","tabindex","mat-calendar-body-disabled","mat-calendar-body-active","mat-calendar-body-range-start","mat-calendar-body-range-end","mat-calendar-body-in-range","mat-calendar-body-comparison-bridge-start","mat-calendar-body-comparison-bridge-end","mat-calendar-body-comparison-start","mat-calendar-body-comparison-end","mat-calendar-body-in-comparison-range","mat-calendar-body-preview-start","mat-calendar-body-preview-end","mat-calendar-body-in-preview","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],[1,"mat-calendar-body-cell-preview"]],template:function(i,s){1&i&&(Mn(0,i$,3,6,"tr",0),Mn(1,o$,3,2,"tr",1)),2&i&&(Pi("ngIf",s._firstRowOffset<s.labelMinRequiredCells),ki(1),Pi("ngForOf",s.rows))},directives:[ku,zg,uM],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:none;cursor:pointer}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}@media(hover: none){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){background-color:transparent}}\n'],encapsulation:2,changeDetection:0}),r})();function HA(r){return"TD"===r.nodeName}function UA(r,n,i){return null!==i&&n!==i&&r<i&&r===n}function GA(r,n,i){return null!==n&&n!==i&&r>=n&&r===i}function WA(r,n,i,s){return s&&null!==n&&null!==i&&n!==i&&r>=n&&r<=i}class hf{constructor(n,i){this.start=n,this.end=i}}let Hy=(()=>{class r{constructor(i,s){this.selection=i,this._adapter=s,this._selectionChanged=new C,this.selectionChanged=this._selectionChanged,this.selection=i}updateSelection(i,s){const l=this.selection;this.selection=i,this._selectionChanged.next({selection:i,source:s,oldValue:l})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(i){return this._adapter.isDateInstance(i)&&this._adapter.isValid(i)}}return r.\u0275fac=function(i){im()},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})(),v$=(()=>{class r extends Hy{constructor(i){super(null,i)}add(i){super.updateSelection(i,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const i=new r(this._adapter);return i.updateSelection(this.selection,this),i}}return r.\u0275fac=function(i){return new(i||r)(gi(nu))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})();const z8={provide:Hy,deps:[[new ls,new eh,Hy],nu],useFactory:function(r,n){return r||new v$(n)}},jS=new pn("MAT_DATE_RANGE_SELECTION_STRATEGY");let H8=(()=>{class r{constructor(i,s,l,f,x){this._changeDetectorRef=i,this._dateFormats=s,this._dateAdapter=l,this._dir=f,this._rangeStrategy=x,this._rerenderSubscription=E.EMPTY,this.selectedChange=new Sn,this._userSelection=new Sn,this.activeDateChange=new Sn,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(i){const s=this._activeDate,l=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(l,this.minDate,this.maxDate),this._hasSameMonthAndYear(s,this._activeDate)||this._init()}get selected(){return this._selected}set selected(i){this._selected=i instanceof hf?i:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(fc(null)).subscribe(()=>this._init())}ngOnChanges(i){const s=i.comparisonStart||i.comparisonEnd;s&&!s.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(i){const s=i.value,l=this._dateAdapter.getYear(this.activeDate),f=this._dateAdapter.getMonth(this.activeDate),x=this._dateAdapter.createDate(l,f,s);let A,B;this._selected instanceof hf?(A=this._getDateInCurrentMonth(this._selected.start),B=this._getDateInCurrentMonth(this._selected.end)):A=B=this._getDateInCurrentMonth(this._selected),(A!==s||B!==s)&&this.selectedChange.emit(x),this._userSelection.emit({value:x,event:i.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_handleCalendarBodyKeydown(i){const s=this._activeDate,l=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,l?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,l?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=i.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=i.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&i.preventDefault());case 27:return void(null!=this._previewEnd&&!pc(i)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:i}),i.preventDefault(),i.stopPropagation()));default:return}this._dateAdapter.compareDate(s,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),i.preventDefault()}_handleCalendarBodyKeyup(i){(32===i.keyCode||13===i.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(i)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(i){this._matCalendarBody._focusActiveCell(i)}_previewChanged({event:i,value:s}){if(this._rangeStrategy){const f=this._rangeStrategy.createPreview(s?s.rawValue:null,this.selected,i);this._previewStart=this._getCellCompareValue(f.start),this._previewEnd=this._getCellCompareValue(f.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const i=this._dateAdapter.getFirstDayOfWeek(),s=this._dateAdapter.getDayOfWeekNames("narrow");let f=this._dateAdapter.getDayOfWeekNames("long").map((x,A)=>({long:x,narrow:s[A]}));this._weekdays=f.slice(i).concat(f.slice(0,i))}_createWeekCells(){const i=this._dateAdapter.getNumDaysInMonth(this.activeDate),s=this._dateAdapter.getDateNames();this._weeks=[[]];for(let l=0,f=this._firstWeekOffset;l<i;l++,f++){7==f&&(this._weeks.push([]),f=0);const x=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),l+1),A=this._shouldEnableDate(x),B=this._dateAdapter.format(x,this._dateFormats.display.dateA11yLabel),q=this.dateClass?this.dateClass(x,"month"):void 0;this._weeks[this._weeks.length-1].push(new zA(l+1,s[l],B,A,q,this._getCellCompareValue(x),x))}}_shouldEnableDate(i){return!!i&&(!this.minDate||this._dateAdapter.compareDate(i,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(i,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(i))}_getDateInCurrentMonth(i){return i&&this._hasSameMonthAndYear(i,this.activeDate)?this._dateAdapter.getDate(i):null}_hasSameMonthAndYear(i,s){return!(!i||!s||this._dateAdapter.getMonth(i)!=this._dateAdapter.getMonth(s)||this._dateAdapter.getYear(i)!=this._dateAdapter.getYear(s))}_getCellCompareValue(i){if(i){const s=this._dateAdapter.getYear(i),l=this._dateAdapter.getMonth(i),f=this._dateAdapter.getDate(i);return new Date(s,l,f).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(i){i instanceof hf?(this._rangeStart=this._getCellCompareValue(i.start),this._rangeEnd=this._getCellCompareValue(i.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(i),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(i){return!this.dateFilter||this.dateFilter(i)}}return r.\u0275fac=function(i){return new(i||r)(ye(ra),ye(Dx,8),ye(nu,8),ye(c0,8),ye(jS,8))},r.\u0275cmp=gn({type:r,selectors:[["mat-month-view"]],viewQuery:function(i,s){if(1&i&&Cs(Ib,5),2&i){let l;or(l=sr())&&(s._matCalendarBody=l.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[Xr],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keyup","keydown"],["scope","col"],[1,"mat-calendar-abbr"]],template:function(i,s){1&i&&(Xe(0,"table",0),Xe(1,"thead",1),Xe(2,"tr"),Mn(3,s$,3,3,"th",2),Ke(),Xe(4,"tr"),An(5,"th",3),Ke(),Ke(),Xe(6,"tbody",4),e("selectedValueChange",function(f){return s._dateSelected(f)})("previewChange",function(f){return s._previewChanged(f)})("keyup",function(f){return s._handleCalendarBodyKeyup(f)})("keydown",function(f){return s._handleCalendarBodyKeydown(f)}),Ke(),Ke()),2&i&&(ki(3),Pi("ngForOf",s._weekdays),ki(3),Pi("label",s._monthLabel)("rows",s._weeks)("todayValue",s._todayDate)("startValue",s._rangeStart)("endValue",s._rangeEnd)("comparisonStart",s._comparisonRangeStart)("comparisonEnd",s._comparisonRangeEnd)("previewStart",s._previewStart)("previewEnd",s._previewEnd)("isRange",s._isRange)("labelMinRequiredCells",3)("activeCell",s._dateAdapter.getDate(s.activeDate)-1))},directives:[zg,Ib],encapsulation:2,changeDetection:0}),r})(),U8=(()=>{class r{constructor(i,s,l){this._changeDetectorRef=i,this._dateAdapter=s,this._dir=l,this._rerenderSubscription=E.EMPTY,this.selectedChange=new Sn,this.yearSelected=new Sn,this.activeDateChange=new Sn,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(i){let s=this._activeDate;const l=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(l,this.minDate,this.maxDate),G8(this._dateAdapter,s,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(i){this._selected=i instanceof hf?i:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setSelectedYear(i)}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(fc(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const s=this._dateAdapter.getYear(this._activeDate)-HM(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let l=0,f=[];l<24;l++)f.push(s+l),4==f.length&&(this._years.push(f.map(x=>this._createCellForYear(x))),f=[]);this._changeDetectorRef.markForCheck()}_yearSelected(i){const s=i.value;this.yearSelected.emit(this._dateAdapter.createDate(s,0,1));let l=this._dateAdapter.getMonth(this.activeDate),f=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(s,l,1));this.selectedChange.emit(this._dateAdapter.createDate(s,l,Math.min(this._dateAdapter.getDate(this.activeDate),f)))}_handleCalendarBodyKeydown(i){const s=this._activeDate,l=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,l?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,l?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-HM(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-HM(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(s,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),i.preventDefault()}_handleCalendarBodyKeyup(i){(32===i.keyCode||13===i.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_getActiveCell(){return HM(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(i){const s=this._dateAdapter.createDate(i,0,1),l=this._dateAdapter.getYearName(s),f=this.dateClass?this.dateClass(s,"multi-year"):void 0;return new zA(i,l,l,this._shouldEnableYear(i),f)}_shouldEnableYear(i){if(null==i||this.maxDate&&i>this._dateAdapter.getYear(this.maxDate)||this.minDate&&i<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let l=this._dateAdapter.createDate(i,0,1);this._dateAdapter.getYear(l)==i;l=this._dateAdapter.addCalendarDays(l,1))if(this.dateFilter(l))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(i){if(this._selectedYear=null,i instanceof hf){const s=i.start||i.end;s&&(this._selectedYear=this._dateAdapter.getYear(s))}else i&&(this._selectedYear=this._dateAdapter.getYear(i))}}return r.\u0275fac=function(i){return new(i||r)(ye(ra),ye(nu,8),ye(c0,8))},r.\u0275cmp=gn({type:r,selectors:[["mat-multi-year-view"]],viewQuery:function(i,s){if(1&i&&Cs(Ib,5),2&i){let l;or(l=sr())&&(s._matCalendarBody=l.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(i,s){1&i&&(Xe(0,"table",0),Xe(1,"thead",1),Xe(2,"tr"),An(3,"th",2),Ke(),Ke(),Xe(4,"tbody",3),e("selectedValueChange",function(f){return s._yearSelected(f)})("keyup",function(f){return s._handleCalendarBodyKeyup(f)})("keydown",function(f){return s._handleCalendarBodyKeydown(f)}),Ke(),Ke()),2&i&&(ki(4),Pi("rows",s._years)("todayValue",s._todayYear)("startValue",s._selectedYear)("endValue",s._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",s._getActiveCell()))},directives:[Ib],encapsulation:2,changeDetection:0}),r})();function G8(r,n,i,s,l){const f=r.getYear(n),x=r.getYear(i),A=W8(r,s,l);return Math.floor((f-A)/24)===Math.floor((x-A)/24)}function HM(r,n,i,s){return function(r,n){return(r%24+24)%24}(r.getYear(n)-W8(r,i,s))}function W8(r,n,i){let s=0;return i?s=r.getYear(i)-24+1:n&&(s=r.getYear(n)),s}let Y8=(()=>{class r{constructor(i,s,l,f){this._changeDetectorRef=i,this._dateFormats=s,this._dateAdapter=l,this._dir=f,this._rerenderSubscription=E.EMPTY,this.selectedChange=new Sn,this.monthSelected=new Sn,this.activeDateChange=new Sn,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(i){let s=this._activeDate;const l=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(l,this.minDate,this.maxDate),this._dateAdapter.getYear(s)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(i){this._selected=i instanceof hf?i:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setSelectedMonth(i)}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(fc(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(i){const s=i.value,l=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),s,1);this.monthSelected.emit(l);const f=this._dateAdapter.getNumDaysInMonth(l);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),s,Math.min(this._dateAdapter.getDate(this.activeDate),f)))}_handleCalendarBodyKeydown(i){const s=this._activeDate,l=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,l?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,l?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(s,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),i.preventDefault()}_handleCalendarBodyKeyup(i){(32===i.keyCode||13===i.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let i=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(s=>s.map(l=>this._createCellForMonth(l,i[l]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(i){return i&&this._dateAdapter.getYear(i)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(i):null}_createCellForMonth(i,s){const l=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1),f=this._dateAdapter.format(l,this._dateFormats.display.monthYearA11yLabel),x=this.dateClass?this.dateClass(l,"year"):void 0;return new zA(i,s.toLocaleUpperCase(),f,this._shouldEnableMonth(i),x)}_shouldEnableMonth(i){const s=this._dateAdapter.getYear(this.activeDate);if(null==i||this._isYearAndMonthAfterMaxDate(s,i)||this._isYearAndMonthBeforeMinDate(s,i))return!1;if(!this.dateFilter)return!0;for(let f=this._dateAdapter.createDate(s,i,1);this._dateAdapter.getMonth(f)==i;f=this._dateAdapter.addCalendarDays(f,1))if(this.dateFilter(f))return!0;return!1}_isYearAndMonthAfterMaxDate(i,s){if(this.maxDate){const l=this._dateAdapter.getYear(this.maxDate),f=this._dateAdapter.getMonth(this.maxDate);return i>l||i===l&&s>f}return!1}_isYearAndMonthBeforeMinDate(i,s){if(this.minDate){const l=this._dateAdapter.getYear(this.minDate),f=this._dateAdapter.getMonth(this.minDate);return i<l||i===l&&s<f}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(i){this._selectedMonth=i instanceof hf?this._getMonthInCurrentYear(i.start)||this._getMonthInCurrentYear(i.end):this._getMonthInCurrentYear(i)}}return r.\u0275fac=function(i){return new(i||r)(ye(ra),ye(Dx,8),ye(nu,8),ye(c0,8))},r.\u0275cmp=gn({type:r,selectors:[["mat-year-view"]],viewQuery:function(i,s){if(1&i&&Cs(Ib,5),2&i){let l;or(l=sr())&&(s._matCalendarBody=l.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(i,s){1&i&&(Xe(0,"table",0),Xe(1,"thead",1),Xe(2,"tr"),An(3,"th",2),Ke(),Ke(),Xe(4,"tbody",3),e("selectedValueChange",function(f){return s._monthSelected(f)})("keyup",function(f){return s._handleCalendarBodyKeyup(f)})("keydown",function(f){return s._handleCalendarBodyKeydown(f)}),Ke(),Ke()),2&i&&(ki(4),Pi("label",s._yearLabel)("rows",s._months)("todayValue",s._todayMonth)("startValue",s._selectedMonth)("endValue",s._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",s._dateAdapter.getMonth(s.activeDate)))},directives:[Ib],encapsulation:2,changeDetection:0}),r})(),C$=0,S$=(()=>{class r{constructor(i,s,l,f,x){this._intl=i,this.calendar=s,this._dateAdapter=l,this._dateFormats=f,this._buttonDescriptionId="mat-calendar-button-"+C$++,this.calendar.stateChanges.subscribe(()=>x.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const s=this._dateAdapter.getYear(this.calendar.activeDate)-HM(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),l=s+24-1,f=this._dateAdapter.getYearName(this._dateAdapter.createDate(s,0,1)),x=this._dateAdapter.getYearName(this._dateAdapter.createDate(l,0,1));return this._intl.formatYearRange(f,x)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(i,s){return"month"==this.calendar.currentView?this._dateAdapter.getYear(i)==this._dateAdapter.getYear(s)&&this._dateAdapter.getMonth(i)==this._dateAdapter.getMonth(s):"year"==this.calendar.currentView?this._dateAdapter.getYear(i)==this._dateAdapter.getYear(s):G8(this._dateAdapter,i,s,this.calendar.minDate,this.calendar.maxDate)}}return r.\u0275fac=function(i){return new(i||r)(ye(zM),ye(Hi(()=>XA)),ye(nu,8),ye(Dx,8),ye(ra))},r.\u0275cmp=gn({type:r,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:a$,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","cdkAriaLive","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(i,s){1&i&&(P(),Xe(0,"div",0),Xe(1,"div",1),Xe(2,"button",2),e("click",function(){return s.currentPeriodClicked()}),Xe(3,"span"),qi(4),Ke(),Rm(),Xe(5,"svg",3),An(6,"polygon",4),Ke(),Ke(),k0(),An(7,"div",5),F(8),Xe(9,"button",6),e("click",function(){return s.previousClicked()}),Ke(),Xe(10,"button",7),e("click",function(){return s.nextClicked()}),Ke(),Ke(),Ke()),2&i&&(ki(2),Ir("aria-label",s.periodButtonLabel)("aria-describedby",s._buttonDescriptionId),ki(1),Ir("id",s._buttonDescriptionId),ki(1),_s(s.periodButtonText),ki(1),Er("mat-calendar-invert","month"!==s.calendar.currentView),ki(4),Pi("disabled",!s.previousEnabled()),Ir("aria-label",s.prevButtonLabel),ki(1),Pi("disabled",!s.nextEnabled()),Ir("aria-label",s.nextButtonLabel))},directives:[Xg,lU],encapsulation:2,changeDetection:0}),r})(),XA=(()=>{class r{constructor(i,s,l,f){this._dateAdapter=s,this._dateFormats=l,this._changeDetectorRef=f,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new Sn,this.yearSelected=new Sn,this.monthSelected=new Sn,this.viewChanged=new Sn(!0),this._userSelection=new Sn,this.stateChanges=new C,this._intlChanges=i.changes.subscribe(()=>{f.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(i){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get selected(){return this._selected}set selected(i){this._selected=i instanceof hf?i:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get activeDate(){return this._clampedActiveDate}set activeDate(i){this._clampedActiveDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(i){const s=this._currentView!==i?i:null;this._currentView=i,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),s&&this.viewChanged.emit(s)}ngAfterContentInit(){this._calendarHeaderPortal=new LM(this.headerComponent||S$),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(i){const s=i.minDate||i.maxDate||i.dateFilter;if(s&&!s.firstChange){const l=this._getCurrentViewComponent();l&&(this._changeDetectorRef.detectChanges(),l._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(i){const s=i.value;(this.selected instanceof hf||s&&!this._dateAdapter.sameDate(s,this.selected))&&this.selectedChange.emit(s),this._userSelection.emit(i)}_yearSelectedInMultiYearView(i){this.yearSelected.emit(i)}_monthSelectedInYearView(i){this.monthSelected.emit(i)}_goToDateInView(i,s){this.activeDate=i,this.currentView=s}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return r.\u0275fac=function(i){return new(i||r)(ye(zM),ye(nu,8),ye(Dx,8),ye(ra))},r.\u0275cmp=gn({type:r,selectors:[["mat-calendar"]],viewQuery:function(i,s){if(1&i&&(Cs(H8,5),Cs(Y8,5),Cs(U8,5)),2&i){let l;or(l=sr())&&(s.monthView=l.first),or(l=sr())&&(s.yearView=l.first),or(l=sr())&&(s.multiYearView=l.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[po([z8]),Xr],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(i,s){1&i&&(Mn(0,l$,0,0,"ng-template",0),Xe(1,"div",1),Mn(2,h$,1,8,"mat-month-view",2),Mn(3,u$,1,6,"mat-year-view",3),Mn(4,c$,1,6,"mat-multi-year-view",4),Ke()),2&i&&(Pi("cdkPortalOutlet",s._calendarHeaderPortal),ki(1),Pi("ngSwitch",s.currentView),ki(1),Pi("ngSwitchCase","month"),ki(1),Pi("ngSwitchCase","year"),ki(1),Pi("ngSwitchCase","multi-year"))},directives:[BM,uU,vb,FC,H8,Y8,U8],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-abbr{text-decoration:none}\n'],encapsulation:2,changeDetection:0}),r})();const $8={transformPanel:$g("transformPanel",[lf("void => enter-dropdown",Zf("120ms cubic-bezier(0, 0, 0.2, 1)",$6([Ra({opacity:0,transform:"scale(1, 0.8)"}),Ra({opacity:1,transform:"scale(1, 1)"})]))),lf("void => enter-dialog",Zf("150ms cubic-bezier(0, 0, 0.2, 1)",$6([Ra({opacity:0,transform:"scale(0.7)"}),Ra({transform:"none",opacity:1})]))),lf("* => void",Zf("100ms linear",Ra({opacity:0})))]),fadeInCalendar:$g("fadeInCalendar",[af("void",Ra({opacity:0})),af("enter",Ra({opacity:1})),lf("void => *",Zf("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let D$=0;const X8=new pn("mat-datepicker-scroll-strategy"),k$={provide:X8,deps:[Kg],useFactory:function(r){return()=>r.scrollStrategies.reposition()}},A$=Sx(class{constructor(r){this._elementRef=r}});let T$=(()=>{class r extends A${constructor(i,s,l,f,x,A){super(i),this._changeDetectorRef=s,this._globalModel=l,this._dateAdapter=f,this._rangeSelectionStrategy=x,this._subscriptions=new E,this._animationDone=new C,this._actionsPortal=null,this._closeButtonText=A.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(i){const s=this._model.selection,l=i.value,f=s instanceof hf;if(f&&this._rangeSelectionStrategy){const x=this._rangeSelectionStrategy.selectionFinished(l,s,i.event);this._model.updateSelection(x,this)}else l&&(f||!this._dateAdapter.sameDate(l,s))&&this._model.add(l);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return r.\u0275fac=function(i){return new(i||r)(ye(mr),ye(ra),ye(Hy),ye(nu),ye(jS,8),ye(zM))},r.\u0275cmp=gn({type:r,selectors:[["mat-datepicker-content"]],viewQuery:function(i,s){if(1&i&&Cs(XA,5),2&i){let l;or(l=sr())&&(s._calendar=l.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(i,s){1&i&&o("@transformPanel.done",function(){return s._animationDone.next()}),2&i&&(Gd("@transformPanel",s._animationState),Er("mat-datepicker-content-touch",s.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[rr],decls:5,vars:20,consts:[["cdkTrapFocus","",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(i,s){1&i&&(Xe(0,"div",0),Xe(1,"mat-calendar",1),e("yearSelected",function(f){return s.datepicker._selectYear(f)})("monthSelected",function(f){return s.datepicker._selectMonth(f)})("viewChanged",function(f){return s.datepicker._viewChanged(f)})("_userSelection",function(f){return s._handleUserSelection(f)}),Ke(),Mn(2,f$,0,0,"ng-template",2),Xe(3,"button",3),e("focus",function(){return s._closeButtonFocused=!0})("blur",function(){return s._closeButtonFocused=!1})("click",function(){return s.datepicker.close()}),qi(4),Ke(),Ke()),2&i&&(Er("mat-datepicker-content-container-with-actions",s._actionsPortal),ki(1),Pi("id",s.datepicker.id)("ngClass",s.datepicker.panelClass)("startAt",s.datepicker.startAt)("startView",s.datepicker.startView)("minDate",s.datepicker._getMinDate())("maxDate",s.datepicker._getMaxDate())("dateFilter",s.datepicker._getDateFilter())("headerComponent",s.datepicker.calendarHeaderComponent)("selected",s._getSelected())("dateClass",s.datepicker.dateClass)("comparisonStart",s.comparisonStart)("comparisonEnd",s.comparisonEnd)("@fadeInCalendar","enter"),ki(1),Pi("cdkPortalOutlet",s._actionsPortal),ki(1),Er("cdk-visually-hidden",!s._closeButtonFocused),Pi("color",s.color||"primary"),ki(1),_s(s._closeButtonText))},directives:[eU,XA,uM,BM,Xg],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[$8.transformPanel,$8.fadeInCalendar]},changeDetection:0}),r})(),K8=(()=>{class r{constructor(i,s,l,f,x,A,B){this._overlay=i,this._ngZone=s,this._viewContainerRef=l,this._dateAdapter=x,this._dir=A,this._model=B,this._inputStateChanges=E.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new Sn,this.monthSelected=new Sn,this.viewChanged=new Sn(!0),this.openedStream=new Sn,this.closedStream=new Sn,this._opened=!1,this.id="mat-datepicker-"+D$++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new C,this._scrollStrategy=f}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(i){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(i){this._color=i}get touchUi(){return this._touchUi}set touchUi(i){this._touchUi=Jr(i)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(i){const s=Jr(i);s!==this._disabled&&(this._disabled=s,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(i){this._restoreFocus=Jr(i)}get panelClass(){return this._panelClass}set panelClass(i){this._panelClass=pI(i)}get opened(){return this._opened}set opened(i){Jr(i)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(i){const s=i.xPosition||i.yPosition;if(s&&!s.firstChange&&this._overlayRef){const l=this._overlayRef.getConfig().positionStrategy;l instanceof E8&&(this._setConnectedPositions(l),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(i){this._model.add(i)}_selectYear(i){this.yearSelected.emit(i)}_selectMonth(i){this.monthSelected.emit(i)}_viewChanged(i){this.viewChanged.emit(i)}registerInput(i){return this._inputStateChanges.unsubscribe(),this.datepickerInput=i,this._inputStateChanges=i.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(i){this._actionsPortal=i}removeActions(i){i===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=CI(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const s=this._componentRef.instance;s._startExitAnimation(),s._animationDone.pipe(Xn(1)).subscribe(()=>this._destroyOverlay())}const i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(i)):i()}_applyPendingSelection(){var i,s;null==(s=null==(i=this._componentRef)?void 0:i.instance)||s._applyPendingSelection()}_forwardContentValues(i){i.datepicker=this,i.color=this.color,i._actionsPortal=this._actionsPortal}_openOverlay(){this._destroyOverlay();const i=this.touchUi,s=this.datepickerInput.getOverlayLabelId(),l=new LM(T$,this._viewContainerRef),f=this._overlayRef=this._overlay.create(new VM({positionStrategy:i?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[i?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:i?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(i?"dialog":"popup")})),x=f.overlayElement;x.setAttribute("role","dialog"),s&&x.setAttribute("aria-labelledby",s),i&&x.setAttribute("aria-modal","true"),this._getCloseStream(f).subscribe(A=>{A&&A.preventDefault(),this.close()}),this._componentRef=f.attach(l),this._forwardContentValues(this._componentRef.instance),i||this._ngZone.onStable.pipe(Xn(1)).subscribe(()=>f.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const i=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(i)}_setConnectedPositions(i){const s="end"===this.xPosition?"end":"start",l="start"===s?"end":"start",f="above"===this.yPosition?"bottom":"top",x="top"===f?"bottom":"top";return i.withPositions([{originX:s,originY:x,overlayX:s,overlayY:f},{originX:s,originY:f,overlayX:s,overlayY:x},{originX:l,originY:x,overlayX:l,overlayY:f},{originX:l,originY:f,overlayX:l,overlayY:x}])}_getCloseStream(i){return br(i.backdropClick(),i.detachments(),i.keydownEvents().pipe(Ks(s=>27===s.keyCode&&!pc(s)||this.datepickerInput&&pc(s,"altKey")&&38===s.keyCode)))}}return r.\u0275fac=function(i){return new(i||r)(ye(Kg),ye(Cr),ye(Su),ye(X8),ye(nu,8),ye(c0,8),ye(Hy))},r.\u0275dir=dn({type:r,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[Xr]}),r})(),P$=(()=>{class r extends K8{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=xo(r)))(s||r)}}(),r.\u0275cmp=gn({type:r,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[po([z8,{provide:K8,useExisting:r}]),rr],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0}),r})();class zS{constructor(n,i){this.target=n,this.targetElement=i,this.value=this.target.value}}let I$=(()=>{class r{constructor(i,s,l){this._elementRef=i,this._dateAdapter=s,this._dateFormats=l,this.dateChange=new Sn,this.dateInput=new Sn,this.stateChanges=new C,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=E.EMPTY,this._localeSubscription=E.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=f=>{const x=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(f.value));return!x||this._matchesFilter(x)?null:{matDatepickerFilter:!0}},this._minValidator=f=>{const x=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(f.value)),A=this._getMinDate();return!A||!x||this._dateAdapter.compareDate(A,x)<=0?null:{matDatepickerMin:{min:A,actual:x}}},this._maxValidator=f=>{const x=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(f.value)),A=this._getMaxDate();return!A||!x||this._dateAdapter.compareDate(A,x)>=0?null:{matDatepickerMax:{max:A,actual:x}}},this._lastValueValid=!1,this._localeSubscription=s.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(i){this._assignValueProgrammatically(i)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(i){const s=Jr(i),l=this._elementRef.nativeElement;this._disabled!==s&&(this._disabled=s,this.stateChanges.next(void 0)),s&&this._isInitialized&&l.blur&&l.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(i){this._model=i,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(s=>{if(this._shouldHandleChangeEvent(s)){const l=this._getValueFromModel(s.selection);this._lastValueValid=this._isValidValue(l),this._cvaOnChange(l),this._onTouched(),this._formatValue(l),this.dateInput.emit(new zS(this,this._elementRef.nativeElement)),this.dateChange.emit(new zS(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(i){(function(r,n){const i=Object.keys(r);for(let s of i){const{previousValue:l,currentValue:f}=r[s];if(!n.isDateInstance(l)||!n.isDateInstance(f))return!0;if(!n.sameDate(l,f))return!0}return!1})(i,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(i){this._validatorOnChange=i}validate(i){return this._validator?this._validator(i):null}writeValue(i){this._assignValueProgrammatically(i)}registerOnChange(i){this._cvaOnChange=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i}_onKeydown(i){i.altKey&&40===i.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),i.preventDefault())}_onInput(i){const s=this._lastValueValid;let l=this._dateAdapter.parse(i,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(l),l=this._dateAdapter.getValidDateOrNull(l),this._dateAdapter.sameDate(l,this.value)?(i&&!this.value&&this._cvaOnChange(l),s!==this._lastValueValid&&this._validatorOnChange()):(this._assignValue(l),this._cvaOnChange(l),this.dateInput.emit(new zS(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new zS(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(i){this._elementRef.nativeElement.value=i?this._dateAdapter.format(i,this._dateFormats.display.dateInput):""}_assignValue(i){this._model?(this._assignValueToModel(i),this._pendingValue=null):this._pendingValue=i}_isValidValue(i){return!i||this._dateAdapter.isValid(i)}_parentDisabled(){return!1}_assignValueProgrammatically(i){i=this._dateAdapter.deserialize(i),this._lastValueValid=this._isValidValue(i),i=this._dateAdapter.getValidDateOrNull(i),this._assignValue(i),this._formatValue(i)}_matchesFilter(i){const s=this._getDateFilter();return!s||s(i)}}return r.\u0275fac=function(i){return new(i||r)(ye(mr),ye(nu,8),ye(Dx,8))},r.\u0275dir=dn({type:r,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[Xr]}),r})();const O$={provide:sf,useExisting:Hi(()=>KA),multi:!0},N$={provide:Ih,useExisting:Hi(()=>KA),multi:!0};let KA=(()=>{class r extends I${constructor(i,s,l,f){super(i,s,l),this._formField=f,this._closedSubscription=E.EMPTY,this._validator=Mb.compose(super._getValidators())}set matDatepicker(i){i&&(this._datepicker=i,this._closedSubscription=i.closedStream.subscribe(()=>this._onTouched()),this._registerModel(i.registerInput(this)))}get min(){return this._min}set min(i){const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i));this._dateAdapter.sameDate(s,this._min)||(this._min=s,this._validatorOnChange())}get max(){return this._max}set max(i){const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i));this._dateAdapter.sameDate(s,this._max)||(this._max=s,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(i){const s=this._matchesFilter(this.value);this._dateFilter=i,this._matchesFilter(this.value)!==s&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(i){return i}_assignValueToModel(i){this._model&&this._model.updateSelection(i,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(i){return i.source!==this}}return r.\u0275fac=function(i){return new(i||r)(ye(mr),ye(nu,8),ye(Dx,8),ye(jM,8))},r.\u0275dir=dn({type:r,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(i,s){1&i&&e("input",function(f){return s._onInput(f.target.value)})("change",function(){return s._onChange()})("blur",function(){return s._onBlur()})("keydown",function(f){return s._onKeydown(f)}),2&i&&(eu("disabled",s.disabled),Ir("aria-haspopup",s._datepicker?"dialog":null)("aria-owns",(null==s._datepicker?null:s._datepicker.opened)&&s._datepicker.id||null)("min",s.min?s._dateAdapter.toIso8601(s.min):null)("max",s.max?s._dateAdapter.toIso8601(s.max):null)("data-mat-calendar",s._datepicker?s._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[po([O$,N$,{provide:j8,useExisting:r}]),rr]}),r})(),L$=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=dn({type:r,selectors:[["","matDatepickerToggleIcon",""]]}),r})(),F$=(()=>{class r{constructor(i,s,l){this._intl=i,this._changeDetectorRef=s,this._stateChanges=E.EMPTY;const f=Number(l);this.tabIndex=f||0===f?f:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(i){this._disabled=Jr(i)}ngOnChanges(i){i.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(i){this.datepicker&&!this.disabled&&(this.datepicker.open(),i.stopPropagation())}_watchStateChanges(){const i=this.datepicker?this.datepicker.stateChanges:fr(),s=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:fr(),l=this.datepicker?br(this.datepicker.openedStream,this.datepicker.closedStream):fr();this._stateChanges.unsubscribe(),this._stateChanges=br(this._intl.changes,i,s,l).subscribe(()=>this._changeDetectorRef.markForCheck())}}return r.\u0275fac=function(i){return new(i||r)(ye(zM),ye(ra),Hh("tabindex"))},r.\u0275cmp=gn({type:r,selectors:[["mat-datepicker-toggle"]],contentQueries:function(i,s,l){if(1&i&&ms(l,L$,5),2&i){let f;or(f=sr())&&(s._customIcon=f.first)}},viewQuery:function(i,s){if(1&i&&Cs(d$,5),2&i){let l;or(l=sr())&&(s._button=l.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(i,s){1&i&&e("click",function(f){return s._open(f)}),2&i&&(Ir("tabindex",null)("data-mat-calendar",s.datepicker?s.datepicker.id:null),Er("mat-datepicker-toggle-active",s.datepicker&&s.datepicker.opened)("mat-accent",s.datepicker&&"accent"===s.datepicker.color)("mat-warn",s.datepicker&&"warn"===s.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[Xr],ngContentSelectors:g$,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(i,s){1&i&&(P(m$),Xe(0,"button",0,1),Mn(2,p$,2,0,"svg",2),F(3),Ke()),2&i&&(Pi("disabled",s.disabled)("disableRipple",s.disableRipple),Ir("aria-haspopup",s.datepicker?"dialog":null)("aria-label",s.ariaLabel||s._intl.openCalendarLabel)("tabindex",s.disabled?-1:s.tabIndex),ki(2),Pi("ngIf",!s._customIcon))},directives:[Xg,ku],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),r})(),B$=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({providers:[zM,k$],imports:[[l0,RA,LS,cU,NS,$o],Ex]}),r})();function Zg(r){return it((n,i)=>{let f,s=null,l=!1;s=n.subscribe(new Z(i,void 0,void 0,x=>{f=Ln(r(x,Zg(r)(n))),s?(s.unsubscribe(),s=null,f.subscribe(i)):l=!0})),l&&(s.unsubscribe(),s=null,f.subscribe(i))})}function Z8(r){return it((n,i)=>{try{n.subscribe(i)}finally{i.add(r)}})}function Rb(r,n){return zt(n)?he(r,n,1):he(r,1)}class q8{}class J8{}class qg{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(i=>{const s=i.indexOf(":");if(s>0){const l=i.slice(0,s),f=l.toLowerCase(),x=i.slice(s+1).trim();this.maybeSetNormalizedName(l,f),this.headers.has(f)?this.headers.get(f).push(x):this.headers.set(f,[x])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(i=>{let s=n[i];const l=i.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(l,s),this.maybeSetNormalizedName(i,l))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const i=this.headers.get(n.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,i){return this.clone({name:n,value:i,op:"a"})}set(n,i){return this.clone({name:n,value:i,op:"s"})}delete(n,i){return this.clone({name:n,value:i,op:"d"})}maybeSetNormalizedName(n,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,n)}init(){this.lazyInit&&(this.lazyInit instanceof qg?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(i=>{this.headers.set(i,n.headers.get(i)),this.normalizedNames.set(i,n.normalizedNames.get(i))})}clone(n){const i=new qg;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof qg?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([n]),i}applyUpdate(n){const i=n.name.toLowerCase();switch(n.op){case"a":case"s":let s=n.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(n.name,i);const l=("a"===n.op?this.headers.get(i):void 0)||[];l.push(...s),this.headers.set(i,l);break;case"d":const f=n.value;if(f){let x=this.headers.get(i);if(!x)return;x=x.filter(A=>-1===f.indexOf(A)),0===x.length?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,x)}else this.headers.delete(i),this.normalizedNames.delete(i)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>n(this.normalizedNames.get(i),this.headers.get(i)))}}class j${encodeKey(n){return Q8(n)}encodeValue(n){return Q8(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const H$=/%(\d[a-f0-9])/gi,U$={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Q8(r){return encodeURIComponent(r).replace(H$,(n,i)=>{var s;return null!=(s=U$[i])?s:n})}function tO(r){return`${r}`}class Uy{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new j$,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(r,n){const i=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(l=>{const f=l.indexOf("="),[x,A]=-1==f?[n.decodeKey(l),""]:[n.decodeKey(l.slice(0,f)),n.decodeValue(l.slice(f+1))],B=i.get(x)||[];B.push(A),i.set(x,B)}),i}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(i=>{const s=n.fromObject[i];this.map.set(i,Array.isArray(s)?s:[s])})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const i=this.map.get(n);return i?i[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,i){return this.clone({param:n,value:i,op:"a"})}appendAll(n){const i=[];return Object.keys(n).forEach(s=>{const l=n[s];Array.isArray(l)?l.forEach(f=>{i.push({param:s,value:f,op:"a"})}):i.push({param:s,value:l,op:"a"})}),this.clone(i)}set(n,i){return this.clone({param:n,value:i,op:"s"})}delete(n,i){return this.clone({param:n,value:i,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const i=this.encoder.encodeKey(n);return this.map.get(n).map(s=>i+"="+this.encoder.encodeValue(s)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const i=new Uy({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(n),i}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const i=("a"===n.op?this.map.get(n.param):void 0)||[];i.push(tO(n.value)),this.map.set(n.param,i);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let s=this.map.get(n.param)||[];const l=s.indexOf(tO(n.value));-1!==l&&s.splice(l,1),s.length>0?this.map.set(n.param,s):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class G${constructor(){this.map=new Map}set(n,i){return this.map.set(n,i),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}keys(){return this.map.keys()}}function eO(r){return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer}function iO(r){return"undefined"!=typeof Blob&&r instanceof Blob}function nO(r){return"undefined"!=typeof FormData&&r instanceof FormData}class UM{constructor(n,i,s,l){let f;if(this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||l?(this.body=void 0!==s?s:null,f=l):f=s,f&&(this.reportProgress=!!f.reportProgress,this.withCredentials=!!f.withCredentials,f.responseType&&(this.responseType=f.responseType),f.headers&&(this.headers=f.headers),f.context&&(this.context=f.context),f.params&&(this.params=f.params)),this.headers||(this.headers=new qg),this.context||(this.context=new G$),this.params){const x=this.params.toString();if(0===x.length)this.urlWithParams=i;else{const A=i.indexOf("?");this.urlWithParams=i+(-1===A?"?":A<i.length-1?"&":"")+x}}else this.params=new Uy,this.urlWithParams=i}serializeBody(){return null===this.body?null:eO(this.body)||iO(this.body)||nO(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Uy?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||nO(this.body)?null:iO(this.body)?this.body.type||null:eO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Uy?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var Tt;const i=n.method||this.method,s=n.url||this.url,l=n.responseType||this.responseType,f=void 0!==n.body?n.body:this.body,x=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,A=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let B=n.headers||this.headers,q=n.params||this.params;const vt=null!=(Tt=n.context)?Tt:this.context;return void 0!==n.setHeaders&&(B=Object.keys(n.setHeaders).reduce((Wt,ne)=>Wt.set(ne,n.setHeaders[ne]),B)),n.setParams&&(q=Object.keys(n.setParams).reduce((Wt,ne)=>Wt.set(ne,n.setParams[ne]),q)),new UM(i,s,f,{params:q,headers:B,context:vt,reportProgress:A,responseType:l,withCredentials:x})}}var Xl=(()=>((Xl=Xl||{})[Xl.Sent=0]="Sent",Xl[Xl.UploadProgress=1]="UploadProgress",Xl[Xl.ResponseHeader=2]="ResponseHeader",Xl[Xl.DownloadProgress=3]="DownloadProgress",Xl[Xl.Response=4]="Response",Xl[Xl.User=5]="User",Xl))();class ZA{constructor(n,i=200,s="OK"){this.headers=n.headers||new qg,this.status=void 0!==n.status?n.status:i,this.statusText=n.statusText||s,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class qA extends ZA{constructor(n={}){super(n),this.type=Xl.ResponseHeader}clone(n={}){return new qA({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class HS extends ZA{constructor(n={}){super(n),this.type=Xl.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new HS({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class rO extends ZA{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function JA(r,n){return{body:n,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let Ob=(()=>{class r{constructor(i){this.handler=i}request(i,s,l={}){let f;if(i instanceof UM)f=i;else{let B,q;B=l.headers instanceof qg?l.headers:new qg(l.headers),l.params&&(q=l.params instanceof Uy?l.params:new Uy({fromObject:l.params})),f=new UM(i,s,void 0!==l.body?l.body:null,{headers:B,context:l.context,params:q,reportProgress:l.reportProgress,responseType:l.responseType||"json",withCredentials:l.withCredentials})}const x=fr(f).pipe(Rb(B=>this.handler.handle(B)));if(i instanceof UM||"events"===l.observe)return x;const A=x.pipe(Ks(B=>B instanceof HS));switch(l.observe||"body"){case"body":switch(f.responseType){case"arraybuffer":return A.pipe(W(B=>{if(null!==B.body&&!(B.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return B.body}));case"blob":return A.pipe(W(B=>{if(null!==B.body&&!(B.body instanceof Blob))throw new Error("Response is not a Blob.");return B.body}));case"text":return A.pipe(W(B=>{if(null!==B.body&&"string"!=typeof B.body)throw new Error("Response is not a string.");return B.body}));default:return A.pipe(W(B=>B.body))}case"response":return A;default:throw new Error(`Unreachable: unhandled observe type ${l.observe}}`)}}delete(i,s={}){return this.request("DELETE",i,s)}get(i,s={}){return this.request("GET",i,s)}head(i,s={}){return this.request("HEAD",i,s)}jsonp(i,s){return this.request("JSONP",i,{params:(new Uy).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,s={}){return this.request("OPTIONS",i,s)}patch(i,s,l={}){return this.request("PATCH",i,JA(l,s))}post(i,s,l={}){return this.request("POST",i,JA(l,s))}put(i,s,l={}){return this.request("PUT",i,JA(l,s))}}return r.\u0275fac=function(i){return new(i||r)(gi(q8))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})();class oO{constructor(n,i){this.next=n,this.interceptor=i}handle(n){return this.interceptor.intercept(n,this.next)}}const sO=new pn("HTTP_INTERCEPTORS");let $$=(()=>{class r{intercept(i,s){return s.handle(i)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})();const X$=/^\)\]\}',?\n/;let aO=(()=>{class r{constructor(i){this.xhrFactory=i}handle(i){if("JSONP"===i.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new y(s=>{const l=this.xhrFactory.build();if(l.open(i.method,i.urlWithParams),i.withCredentials&&(l.withCredentials=!0),i.headers.forEach((ne,ce)=>l.setRequestHeader(ne,ce.join(","))),i.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){const ne=i.detectContentTypeHeader();null!==ne&&l.setRequestHeader("Content-Type",ne)}if(i.responseType){const ne=i.responseType.toLowerCase();l.responseType="json"!==ne?ne:"text"}const f=i.serializeBody();let x=null;const A=()=>{if(null!==x)return x;const ne=1223===l.status?204:l.status,ce=l.statusText||"OK",Ae=new qg(l.getAllResponseHeaders()),Te=function(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(l)||i.url;return x=new qA({headers:Ae,status:ne,statusText:ce,url:Te}),x},B=()=>{let{headers:ne,status:ce,statusText:Ae,url:Te}=A(),ri=null;204!==ce&&(ri=void 0===l.response?l.responseText:l.response),0===ce&&(ce=ri?200:0);let oi=ce>=200&&ce<300;if("json"===i.responseType&&"string"==typeof ri){const ji=ri;ri=ri.replace(X$,"");try{ri=""!==ri?JSON.parse(ri):null}catch(Zi){ri=ji,oi&&(oi=!1,ri={error:Zi,text:ri})}}oi?(s.next(new HS({body:ri,headers:ne,status:ce,statusText:Ae,url:Te||void 0})),s.complete()):s.error(new rO({error:ri,headers:ne,status:ce,statusText:Ae,url:Te||void 0}))},q=ne=>{const{url:ce}=A(),Ae=new rO({error:ne,status:l.status||0,statusText:l.statusText||"Unknown Error",url:ce||void 0});s.error(Ae)};let vt=!1;const Tt=ne=>{vt||(s.next(A()),vt=!0);let ce={type:Xl.DownloadProgress,loaded:ne.loaded};ne.lengthComputable&&(ce.total=ne.total),"text"===i.responseType&&!!l.responseText&&(ce.partialText=l.responseText),s.next(ce)},Wt=ne=>{let ce={type:Xl.UploadProgress,loaded:ne.loaded};ne.lengthComputable&&(ce.total=ne.total),s.next(ce)};return l.addEventListener("load",B),l.addEventListener("error",q),l.addEventListener("timeout",q),l.addEventListener("abort",q),i.reportProgress&&(l.addEventListener("progress",Tt),null!==f&&l.upload&&l.upload.addEventListener("progress",Wt)),l.send(f),s.next({type:Xl.Sent}),()=>{l.removeEventListener("error",q),l.removeEventListener("abort",q),l.removeEventListener("load",B),l.removeEventListener("timeout",q),i.reportProgress&&(l.removeEventListener("progress",Tt),null!==f&&l.upload&&l.upload.removeEventListener("progress",Wt)),l.readyState!==l.DONE&&l.abort()}})}}return r.\u0275fac=function(i){return new(i||r)(gi(tI))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})();const QA=new pn("XSRF_COOKIE_NAME"),tT=new pn("XSRF_HEADER_NAME");class lO{}let Z$=(()=>{class r{constructor(i,s,l){this.doc=i,this.platform=s,this.cookieName=l,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=G4(i,this.cookieName),this.lastCookieString=i),this.lastToken}}return r.\u0275fac=function(i){return new(i||r)(gi(zr),gi(cx),gi(QA))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})(),eT=(()=>{class r{constructor(i,s){this.tokenService=i,this.headerName=s}intercept(i,s){const l=i.url.toLowerCase();if("GET"===i.method||"HEAD"===i.method||l.startsWith("http://")||l.startsWith("https://"))return s.handle(i);const f=this.tokenService.getToken();return null!==f&&!i.headers.has(this.headerName)&&(i=i.clone({headers:i.headers.set(this.headerName,f)})),s.handle(i)}}return r.\u0275fac=function(i){return new(i||r)(gi(lO),gi(tT))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})(),q$=(()=>{class r{constructor(i,s){this.backend=i,this.injector=s,this.chain=null}handle(i){if(null===this.chain){const s=this.injector.get(sO,[]);this.chain=s.reduceRight((l,f)=>new oO(l,f),this.backend)}return this.chain.handle(i)}}return r.\u0275fac=function(i){return new(i||r)(gi(J8),gi(Ro))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})(),J$=(()=>{class r{static disable(){return{ngModule:r,providers:[{provide:eT,useClass:$$}]}}static withOptions(i={}){return{ngModule:r,providers:[i.cookieName?{provide:QA,useValue:i.cookieName}:[],i.headerName?{provide:tT,useValue:i.headerName}:[]]}}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({providers:[eT,{provide:sO,useExisting:eT,multi:!0},{provide:lO,useClass:Z$},{provide:QA,useValue:"XSRF-TOKEN"},{provide:tT,useValue:"X-XSRF-TOKEN"}]}),r})(),Q$=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({providers:[Ob,{provide:q8,useClass:q$},aO,{provide:J8,useExisting:aO}],imports:[[J$.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),r})();const tX=["*"];let US;function GM(r){var n;return(null==(n=function(){if(void 0===US&&(US=null,"undefined"!=typeof window)){const r=window;void 0!==r.trustedTypes&&(US=r.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return US}())?void 0:n.createHTML(r))||r}function hO(r){return Error(`Unable to find icon with the name "${r}"`)}function uO(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function cO(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}class Ax{constructor(n,i,s){this.url=n,this.svgText=i,this.options=s}}let GS=(()=>{class r{constructor(i,s,l,f){this._httpClient=i,this._sanitizer=s,this._errorHandler=f,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=l}addSvgIcon(i,s,l){return this.addSvgIconInNamespace("",i,s,l)}addSvgIconLiteral(i,s,l){return this.addSvgIconLiteralInNamespace("",i,s,l)}addSvgIconInNamespace(i,s,l,f){return this._addSvgIconConfig(i,s,new Ax(l,null,f))}addSvgIconResolver(i){return this._resolvers.push(i),this}addSvgIconLiteralInNamespace(i,s,l,f){const x=this._sanitizer.sanitize(Dr.HTML,l);if(!x)throw cO(l);const A=GM(x);return this._addSvgIconConfig(i,s,new Ax("",A,f))}addSvgIconSet(i,s){return this.addSvgIconSetInNamespace("",i,s)}addSvgIconSetLiteral(i,s){return this.addSvgIconSetLiteralInNamespace("",i,s)}addSvgIconSetInNamespace(i,s,l){return this._addSvgIconSetConfig(i,new Ax(s,null,l))}addSvgIconSetLiteralInNamespace(i,s,l){const f=this._sanitizer.sanitize(Dr.HTML,s);if(!f)throw cO(s);const x=GM(f);return this._addSvgIconSetConfig(i,new Ax("",x,l))}registerFontClassAlias(i,s=i){return this._fontCssClassesByAlias.set(i,s),this}classNameForFontAlias(i){return this._fontCssClassesByAlias.get(i)||i}setDefaultFontSetClass(i){return this._defaultFontSetClass=i,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(i){const s=this._sanitizer.sanitize(Dr.RESOURCE_URL,i);if(!s)throw uO(i);const l=this._cachedIconsByUrl.get(s);return l?fr(WS(l)):this._loadSvgIconFromConfig(new Ax(i,null)).pipe(Sl(f=>this._cachedIconsByUrl.set(s,f)),W(f=>WS(f)))}getNamedSvgIcon(i,s=""){const l=fO(s,i);let f=this._svgIconConfigs.get(l);if(f)return this._getSvgFromConfig(f);if(f=this._getIconConfigFromResolvers(s,i),f)return this._svgIconConfigs.set(l,f),this._getSvgFromConfig(f);const x=this._iconSetConfigs.get(s);return x?this._getSvgFromIconSetConfigs(i,x):function(r,n){const i=zt(r)?r:()=>r,s=l=>l.error(i());return new y(s)}(hO(l))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(i){return i.svgText?fr(WS(this._svgElementFromConfig(i))):this._loadSvgIconFromConfig(i).pipe(W(s=>WS(s)))}_getSvgFromIconSetConfigs(i,s){const l=this._extractIconWithNameFromAnySet(i,s);return l?fr(l):Sk(s.filter(x=>!x.svgText).map(x=>this._loadSvgIconSetFromConfig(x).pipe(Zg(A=>{const q=`Loading icon set URL: ${this._sanitizer.sanitize(Dr.RESOURCE_URL,x.url)} failed: ${A.message}`;return this._errorHandler.handleError(new Error(q)),fr(null)})))).pipe(W(()=>{const x=this._extractIconWithNameFromAnySet(i,s);if(!x)throw hO(i);return x}))}_extractIconWithNameFromAnySet(i,s){for(let l=s.length-1;l>=0;l--){const f=s[l];if(f.svgText&&f.svgText.toString().indexOf(i)>-1){const x=this._svgElementFromConfig(f),A=this._extractSvgIconFromSet(x,i,f.options);if(A)return A}}return null}_loadSvgIconFromConfig(i){return this._fetchIcon(i).pipe(Sl(s=>i.svgText=s),W(()=>this._svgElementFromConfig(i)))}_loadSvgIconSetFromConfig(i){return i.svgText?fr(null):this._fetchIcon(i).pipe(Sl(s=>i.svgText=s))}_extractSvgIconFromSet(i,s,l){const f=i.querySelector(`[id="${s}"]`);if(!f)return null;const x=f.cloneNode(!0);if(x.removeAttribute("id"),"svg"===x.nodeName.toLowerCase())return this._setSvgAttributes(x,l);if("symbol"===x.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(x),l);const A=this._svgElementFromString(GM("<svg></svg>"));return A.appendChild(x),this._setSvgAttributes(A,l)}_svgElementFromString(i){const s=this._document.createElement("DIV");s.innerHTML=i;const l=s.querySelector("svg");if(!l)throw Error("<svg> tag not found");return l}_toSvgElement(i){const s=this._svgElementFromString(GM("<svg></svg>")),l=i.attributes;for(let f=0;f<l.length;f++){const{name:x,value:A}=l[f];"id"!==x&&s.setAttribute(x,A)}for(let f=0;f<i.childNodes.length;f++)i.childNodes[f].nodeType===this._document.ELEMENT_NODE&&s.appendChild(i.childNodes[f].cloneNode(!0));return s}_setSvgAttributes(i,s){return i.setAttribute("fit",""),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.setAttribute("preserveAspectRatio","xMidYMid meet"),i.setAttribute("focusable","false"),s&&s.viewBox&&i.setAttribute("viewBox",s.viewBox),i}_fetchIcon(i){var q;const{url:s,options:l}=i,f=null!=(q=null==l?void 0:l.withCredentials)&&q;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==s)throw Error(`Cannot fetch icon from URL "${s}".`);const x=this._sanitizer.sanitize(Dr.RESOURCE_URL,s);if(!x)throw uO(s);const A=this._inProgressUrlFetches.get(x);if(A)return A;const B=this._httpClient.get(x,{responseType:"text",withCredentials:f}).pipe(W(vt=>GM(vt)),Z8(()=>this._inProgressUrlFetches.delete(x)),Co());return this._inProgressUrlFetches.set(x,B),B}_addSvgIconConfig(i,s,l){return this._svgIconConfigs.set(fO(i,s),l),this}_addSvgIconSetConfig(i,s){const l=this._iconSetConfigs.get(i);return l?l.push(s):this._iconSetConfigs.set(i,[s]),this}_svgElementFromConfig(i){if(!i.svgElement){const s=this._svgElementFromString(i.svgText);this._setSvgAttributes(s,i.options),i.svgElement=s}return i.svgElement}_getIconConfigFromResolvers(i,s){for(let l=0;l<this._resolvers.length;l++){const f=this._resolvers[l](s,i);if(f)return rX(f)?new Ax(f.url,null,f.options):new Ax(f,null)}}}return r.\u0275fac=function(i){return new(i||r)(gi(Ob,8),gi(Py),gi(zr,8),gi(Kr))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function WS(r){return r.cloneNode(!0)}function fO(r,n){return r+":"+n}function rX(r){return!(!r.url||!r.options)}const oX=Sx(class{constructor(r){this._elementRef=r}}),sX=new pn("mat-icon-location",{providedIn:"root",factory:function(){const r=$h(zr),n=r?r.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),dO=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],lX=dO.map(r=>`[${r}]`).join(", "),hX=/^url\(['"]?#(.*?)['"]?\)$/;let pO=(()=>{class r extends oX{constructor(i,s,l,f,x){super(i),this._iconRegistry=s,this._location=f,this._errorHandler=x,this._inline=!1,this._currentIconFetch=E.EMPTY,l||i.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(i){this._inline=Jr(i)}get svgIcon(){return this._svgIcon}set svgIcon(i){i!==this._svgIcon&&(i?this._updateSvgIcon(i):this._svgIcon&&this._clearSvgElement(),this._svgIcon=i)}get fontSet(){return this._fontSet}set fontSet(i){const s=this._cleanupFontValue(i);s!==this._fontSet&&(this._fontSet=s,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(i){const s=this._cleanupFontValue(i);s!==this._fontIcon&&(this._fontIcon=s,this._updateFontIconClasses())}_splitIconName(i){if(!i)return["",""];const s=i.split(":");switch(s.length){case 1:return["",s[0]];case 2:return s;default:throw Error(`Invalid icon name: "${i}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const i=this._elementsWithExternalReferences;if(i&&i.size){const s=this._location.getPathname();s!==this._previousPath&&(this._previousPath=s,this._prependPathToReferences(s))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(i){this._clearSvgElement();const s=i.querySelectorAll("style");for(let f=0;f<s.length;f++)s[f].textContent+=" ";const l=this._location.getPathname();this._previousPath=l,this._cacheChildrenWithExternalReferences(i),this._prependPathToReferences(l),this._elementRef.nativeElement.appendChild(i)}_clearSvgElement(){const i=this._elementRef.nativeElement;let s=i.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();s--;){const l=i.childNodes[s];(1!==l.nodeType||"svg"===l.nodeName.toLowerCase())&&l.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const i=this._elementRef.nativeElement,s=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();s!=this._previousFontSetClass&&(this._previousFontSetClass&&i.classList.remove(this._previousFontSetClass),s&&i.classList.add(s),this._previousFontSetClass=s),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&i.classList.remove(this._previousFontIconClass),this.fontIcon&&i.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(i){return"string"==typeof i?i.trim().split(" ")[0]:i}_prependPathToReferences(i){const s=this._elementsWithExternalReferences;s&&s.forEach((l,f)=>{l.forEach(x=>{f.setAttribute(x.name,`url('${i}#${x.value}')`)})})}_cacheChildrenWithExternalReferences(i){const s=i.querySelectorAll(lX),l=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let f=0;f<s.length;f++)dO.forEach(x=>{const A=s[f],B=A.getAttribute(x),q=B?B.match(hX):null;if(q){let vt=l.get(A);vt||(vt=[],l.set(A,vt)),vt.push({name:x,value:q[1]})}})}_updateSvgIcon(i){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),i){const[s,l]=this._splitIconName(i);s&&(this._svgNamespace=s),l&&(this._svgName=l),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(l,s).pipe(Xn(1)).subscribe(f=>this._setSvgElement(f),f=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${s}:${l}! ${f.message}`))})}}}return r.\u0275fac=function(i){return new(i||r)(ye(mr),ye(GS),Hh("aria-hidden"),ye(sX),ye(Kr))},r.\u0275cmp=gn({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(i,s){2&i&&(Ir("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet),Er("mat-icon-inline",s.inline)("mat-icon-no-color","primary"!==s.color&&"accent"!==s.color&&"warn"!==s.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[rr],ngContentSelectors:tX,decls:1,vars:0,template:function(i,s){1&i&&(P(),F(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),r})(),uX=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({imports:[[$o],$o]}),r})();class iT{constructor(n=!1,i,s=!0){this._multiple=n,this._emitChanges=s,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new C,i&&i.length&&(n?i.forEach(l=>this._markSelected(l)):this._markSelected(i[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...n){this._verifyValueAssignment(n),n.forEach(i=>this._markSelected(i)),this._emitChangeEvent()}deselect(...n){this._verifyValueAssignment(n),n.forEach(i=>this._unmarkSelected(i)),this._emitChangeEvent()}toggle(n){this.isSelected(n)?this.deselect(n):this.select(n)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(n){return this._selection.has(n)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){this.isSelected(n)||(this._multiple||this._unmarkAll(),this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){}}let mO=(()=>{class r{constructor(){this._listeners=[]}notify(i,s){for(let l of this._listeners)l(i,s)}listen(i){return this._listeners.push(i),()=>{this._listeners=this._listeners.filter(s=>i!==s)}}ngOnDestroy(){this._listeners=[]}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),nT=(()=>{class r{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(i){this._vertical=Jr(i)}get inset(){return this._inset}set inset(i){this._inset=Jr(i)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=gn({type:r,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,s){2&i&&(Ir("aria-orientation",s.vertical?"vertical":"horizontal"),Er("mat-divider-vertical",s.vertical)("mat-divider-horizontal",!s.vertical)("mat-divider-inset",s.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(i,s){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),r})(),cX=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({imports:[[$o],$o]}),r})();const gO=["*"],dX=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],pX=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],xX=PM(jy(class{})),wX=jy(class{}),bX=new pn("MatList"),vO=new pn("MatNavList");let _X=(()=>{class r extends xX{constructor(){super(...arguments),this._stateChanges=new C}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=xo(r)))(s||r)}}(),r.\u0275cmp=gn({type:r,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[po([{provide:vO,useExisting:r}]),rr,Xr],ngContentSelectors:gO,decls:1,vars:0,template:function(i,s){1&i&&(P(),F(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),r})(),yO=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=dn({type:r,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),r})(),xO=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=dn({type:r,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),r})(),MX=(()=>{class r extends wX{constructor(i,s,l,f){super(),this._element=i,this._isInteractiveList=!1,this._destroyed=new C,this._disabled=!1,this._isInteractiveList=!!(l||f&&"action-list"===f._getListType()),this._list=l||f;const x=this._getHostElement();"button"===x.nodeName.toLowerCase()&&!x.hasAttribute("type")&&x.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(gs(this._destroyed)).subscribe(()=>{s.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(i){this._disabled=Jr(i)}ngAfterContentInit(){!function(r,n,i="mat"){r.changes.pipe(fc(r)).subscribe(({length:s})=>{IM(n,`${i}-2-line`,!1),IM(n,`${i}-3-line`,!1),IM(n,`${i}-multi-line`,!1),2===s||3===s?IM(n,`${i}-${s}-line`,!0):s>3&&IM(n,`${i}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return r.\u0275fac=function(i){return new(i||r)(ye(mr),ye(ra),ye(vO,8),ye(bX,8))},r.\u0275cmp=gn({type:r,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,s,l){if(1&i&&(ms(l,yO,5),ms(l,xO,5),ms(l,XR,5)),2&i){let f;or(f=sr())&&(s._avatar=f.first),or(f=sr())&&(s._icon=f.first),or(f=sr())&&(s._lines=f)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(i,s){2&i&&Er("mat-list-item-disabled",s.disabled)("mat-list-item-avatar",s._avatar||s._icon)("mat-list-item-with-avatar",s._avatar||s._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[rr],ngContentSelectors:pX,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(i,s){1&i&&(P(dX),Xe(0,"div",0),An(1,"div",1),F(2),Xe(3,"div",2),F(4,1),Ke(),F(5,2),Ke()),2&i&&(ki(1),Pi("matRippleTrigger",s._getHostElement())("matRippleDisabled",s._isRippleDisabled()))},directives:[zy],encapsulation:2,changeDetection:0}),r})(),AX=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({imports:[[ZR,DS,$o,PA,l0],ZR,$o,PA,cX]}),r})();function YS(r){return new y(n=>{Ln(r()).subscribe(n)})}function ru(r,n){return it((i,s)=>{let l=null,f=0,x=!1;const A=()=>x&&!l&&s.complete();i.subscribe(new Z(s,B=>{null==l||l.unsubscribe();let q=0;const vt=f++;Ln(r(B,vt)).subscribe(l=new Z(s,Tt=>s.next(n?n(B,Tt,vt,q++):Tt),()=>{l=null,A()}))},()=>{x=!0,A()}))})}const TX=["trigger"],PX=["panel"];function IX(r,n){if(1&r&&(Xe(0,"span",8),qi(1),Ke()),2&r){const i=_();ki(1),_s(i.placeholder)}}function RX(r,n){if(1&r&&(Xe(0,"span",12),qi(1),Ke()),2&r){const i=_(2);ki(1),_s(i.triggerValue)}}function OX(r,n){1&r&&F(0,0,["*ngSwitchCase","true"])}function NX(r,n){1&r&&(Xe(0,"span",9),Mn(1,RX,2,1,"span",10),Mn(2,OX,1,0,"ng-content",11),Ke()),2&r&&(Pi("ngSwitch",!!_().customTrigger),ki(2),Pi("ngSwitchCase",!0))}function LX(r,n){if(1&r){const i=Ya();Xe(0,"div",13),Xe(1,"div",14,15),e("@transformPanel.done",function(l){return qo(i),_()._panelDoneAnimatingStream.next(l.toState)})("keydown",function(l){return qo(i),_()._handleKeydown(l)}),F(3,1),Ke(),Ke()}if(2&r){const i=_();Pi("@transformPanelWrap",void 0),ki(1),na("mat-select-panel ",i._getPanelTheme(),""),Dh("transform-origin",i._transformOrigin)("font-size",i._triggerFontSize,"px"),Pi("ngClass",i.panelClass)("@transformPanel",i.multiple?"showing-multiple":"showing"),Ir("id",i.id+"-panel")("aria-multiselectable",i.multiple)("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby())}}const FX=[[["mat-select-trigger"]],"*"],BX=["mat-select-trigger","*"],bO={transformPanelWrap:$g("transformPanelWrap",[lf("* => void",gU("@transformPanel",[mU()],{optional:!0}))]),transformPanel:$g("transformPanel",[af("void",Ra({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),af("showing",Ra({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),af("showing-multiple",Ra({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),lf("void => *",Zf("120ms cubic-bezier(0, 0, 0.2, 1)")),lf("* => void",Zf("100ms 25ms linear",Ra({opacity:0})))])};let _O=0;const CO=new pn("mat-select-scroll-strategy"),HX=new pn("MAT_SELECT_CONFIG"),UX={provide:CO,deps:[Kg],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};class GX{constructor(n,i){this.source=n,this.value=i}}const WX=jy(EA(PM(YR(class{constructor(r,n,i,s,l){this._elementRef=r,this._defaultErrorStateMatcher=n,this._parentForm=i,this._parentFormGroup=s,this.ngControl=l}})))),YX=new pn("MatSelectTrigger");let $X=(()=>{class r extends WX{constructor(i,s,l,f,x,A,B,q,vt,Tt,Wt,ne,ce,Ae){var Te,ri,oi;super(x,f,B,q,Tt),this._viewportRuler=i,this._changeDetectorRef=s,this._ngZone=l,this._dir=A,this._parentFormField=vt,this._liveAnnouncer=ce,this._defaultOptions=Ae,this._panelOpen=!1,this._compareWith=(ji,Zi)=>ji===Zi,this._uid="mat-select-"+_O++,this._triggerAriaLabelledBy=null,this._destroy=new C,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+_O++,this._panelDoneAnimatingStream=new C,this._overlayPanelClass=(null==(Te=this._defaultOptions)?void 0:Te.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!=(oi=null==(ri=this._defaultOptions)?void 0:ri.disableOptionCentering)&&oi,this.ariaLabel="",this.optionSelectionChanges=YS(()=>{const ji=this.options;return ji?ji.changes.pipe(fc(ji),ru(()=>br(...ji.map(Zi=>Zi.onSelectionChange)))):this._ngZone.onStable.pipe(Xn(1),ru(()=>this.optionSelectionChanges))}),this.openedChange=new Sn,this._openedStream=this.openedChange.pipe(Ks(ji=>ji),W(()=>{})),this._closedStream=this.openedChange.pipe(Ks(ji=>!ji),W(()=>{})),this.selectionChange=new Sn,this.valueChange=new Sn,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==Ae?void 0:Ae.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=Ae.typeaheadDebounceInterval),this._scrollStrategyFactory=ne,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(Wt)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(i){this._placeholder=i,this.stateChanges.next()}get required(){var i,s,l,f;return null!=(f=null!=(l=this._required)?l:null==(s=null==(i=this.ngControl)?void 0:i.control)?void 0:s.hasValidator(Mb.required))&&f}set required(i){this._required=Jr(i),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(i){this._multiple=Jr(i)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(i){this._disableOptionCentering=Jr(i)}get compareWith(){return this._compareWith}set compareWith(i){this._compareWith=i,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(i){(i!==this._value||this._multiple&&Array.isArray(i))&&(this.options&&this._setSelectionByValue(i),this._value=i)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(i){this._typeaheadDebounceInterval=Ry(i)}get id(){return this._id}set id(i){this._id=i||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new iT(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(sS(),gs(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(gs(this._destroy)).subscribe(i=>{i.added.forEach(s=>s.select()),i.removed.forEach(s=>s.deselect())}),this.options.changes.pipe(fc(null),gs(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const i=this._getTriggerAriaLabelledby();if(i!==this._triggerAriaLabelledBy){const s=this._elementRef.nativeElement;this._triggerAriaLabelledBy=i,i?s.setAttribute("aria-labelledby",i):s.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(i){i.disabled&&this.stateChanges.next(),i.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(i){this.value=i}registerOnChange(i){this._onChange=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var i,s;return this.multiple?(null==(i=this._selectionModel)?void 0:i.selected)||[]:null==(s=this._selectionModel)?void 0:s.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const i=this._selectionModel.selected.map(s=>s.viewValue);return this._isRtl()&&i.reverse(),i.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(i){this.disabled||(this.panelOpen?this._handleOpenKeydown(i):this._handleClosedKeydown(i))}_handleClosedKeydown(i){const s=i.keyCode,l=40===s||38===s||37===s||39===s,f=13===s||32===s,x=this._keyManager;if(!x.isTyping()&&f&&!pc(i)||(this.multiple||i.altKey)&&l)i.preventDefault(),this.open();else if(!this.multiple){const A=this.selected;x.onKeydown(i);const B=this.selected;B&&A!==B&&this._liveAnnouncer.announce(B.viewValue,1e4)}}_handleOpenKeydown(i){const s=this._keyManager,l=i.keyCode,f=40===l||38===l,x=s.isTyping();if(f&&i.altKey)i.preventDefault(),this.close();else if(x||13!==l&&32!==l||!s.activeItem||pc(i))if(!x&&this._multiple&&65===l&&i.ctrlKey){i.preventDefault();const A=this.options.some(B=>!B.disabled&&!B.selected);this.options.forEach(B=>{B.disabled||(A?B.select():B.deselect())})}else{const A=s.activeItemIndex;s.onKeydown(i),this._multiple&&f&&i.shiftKey&&s.activeItem&&s.activeItemIndex!==A&&s.activeItem._selectViaInteraction()}else i.preventDefault(),s.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Xn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(i){if(this._selectionModel.selected.forEach(s=>s.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&i)Array.isArray(i),i.forEach(s=>this._selectValue(s)),this._sortValues();else{const s=this._selectValue(i);s?this._keyManager.updateActiveItem(s):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(i){const s=this.options.find(l=>{if(this._selectionModel.isSelected(l))return!1;try{return null!=l.value&&this._compareWith(l.value,i)}catch(f){return!1}});return s&&this._selectionModel.select(s),s}_initKeyManager(){this._keyManager=new R6(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(gs(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(gs(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const i=br(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(gs(i)).subscribe(s=>{this._onSelect(s.source,s.isUserInput),s.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),br(...this.options.map(s=>s._stateChanges)).pipe(gs(i)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(i,s){const l=this._selectionModel.isSelected(i);null!=i.value||this._multiple?(l!==i.selected&&(i.selected?this._selectionModel.select(i):this._selectionModel.deselect(i)),s&&this._keyManager.setActiveItem(i),this.multiple&&(this._sortValues(),s&&this.focus())):(i.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(i.value)),l!==this._selectionModel.isSelected(i)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const i=this.options.toArray();this._selectionModel.sort((s,l)=>this.sortComparator?this.sortComparator(s,l,i):i.indexOf(s)-i.indexOf(l)),this.stateChanges.next()}}_propagateChanges(i){let s=null;s=this.multiple?this.selected.map(l=>l.value):this.selected?this.selected.value:i,this._value=s,this.valueChange.emit(s),this._onChange(s),this.selectionChange.emit(this._getChangeEvent(s)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var i;return!this._panelOpen&&!this.disabled&&(null==(i=this.options)?void 0:i.length)>0}focus(i){this._elementRef.nativeElement.focus(i)}_getPanelAriaLabelledby(){var l;if(this.ariaLabel)return null;const i=null==(l=this._parentFormField)?void 0:l.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var l;if(this.ariaLabel)return null;const i=null==(l=this._parentFormField)?void 0:l.getLabelId();let s=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(s+=" "+this.ariaLabelledby),s}_panelDoneAnimating(i){this.openedChange.emit(i)}setDescribedByIds(i){this._ariaDescribedby=i.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return r.\u0275fac=function(i){return new(i||r)(ye(NM),ye(ra),ye(Cr),ye(AA),ye(mr),ye(c0,8),ye(CM,8),ye(Gg,8),ye(jM,8),ye(um,10),Hh("tabindex"),ye(CO),ye(Xk),ye(HX,8))},r.\u0275dir=dn({type:r,viewQuery:function(i,s){if(1&i&&(Cs(TX,5),Cs(PX,5),Cs(R8,5)),2&i){let l;or(l=sr())&&(s.trigger=l.first),or(l=sr())&&(s.panel=l.first),or(l=sr())&&(s._overlayDir=l.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[rr,Xr]}),r})(),rT=(()=>{class r extends $X{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(i,s,l){const f=this._getItemHeight();return Math.min(Math.max(0,f*i-s+f/2),l)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(gs(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Xn(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(i){const s=IA(i,this.options,this.optionGroups),l=this._getItemHeight();this.panel.nativeElement.scrollTop=0===i&&1===s?0:n8((i+s)*l,l,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(i){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(i)}_getChangeEvent(i){return new GX(this,i)}_calculateOverlayOffsetX(){const i=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),s=this._viewportRuler.getViewportSize(),l=this._isRtl(),f=this.multiple?56:32;let x;if(this.multiple)x=40;else if(this.disableOptionCentering)x=16;else{let q=this._selectionModel.selected[0]||this.options.first;x=q&&q.group?32:16}l||(x*=-1);const A=0-(i.left+x-(l?f:0)),B=i.right+x-s.width+(l?0:f);A>0?x+=A+8:B>0&&(x-=B+8),this._overlayDir.offsetX=Math.round(x),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(i,s,l){const f=this._getItemHeight(),x=(f-this._triggerRect.height)/2,A=Math.floor(256/f);let B;return this.disableOptionCentering?0:(B=0===this._scrollTop?i*f:this._scrollTop===l?(i-(this._getItemCount()-A))*f+(f-(this._getItemCount()*f-256)%f):s-f/2,Math.round(-1*B-x))}_checkOverlayWithinViewport(i){const s=this._getItemHeight(),l=this._viewportRuler.getViewportSize(),f=this._triggerRect.top-8,x=l.height-this._triggerRect.bottom-8,A=Math.abs(this._offsetY),q=Math.min(this._getItemCount()*s,256)-A-this._triggerRect.height;q>x?this._adjustPanelUp(q,x):A>f?this._adjustPanelDown(A,f,i):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(i,s){const l=Math.round(i-s);this._scrollTop-=l,this._offsetY-=l,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(i,s,l){const f=Math.round(i-s);if(this._scrollTop+=f,this._offsetY+=f,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=l)return this._scrollTop=l,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const i=this._getItemHeight(),s=this._getItemCount(),l=Math.min(s*i,256),x=s*i-l;let A;A=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),A+=IA(A,this.options,this.optionGroups);const B=l/2;this._scrollTop=this._calculateOverlayScroll(A,B,x),this._offsetY=this._calculateOverlayOffsetY(A,B,x),this._checkOverlayWithinViewport(x)}_getOriginBasedOnOption(){const i=this._getItemHeight(),s=(i-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-s+i/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=xo(r)))(s||r)}}(),r.\u0275cmp=gn({type:r,selectors:[["mat-select"]],contentQueries:function(i,s,l){if(1&i&&(ms(l,YX,5),ms(l,RM,5),ms(l,kS,5)),2&i){let f;or(f=sr())&&(s.customTrigger=f.first),or(f=sr())&&(s.options=f),or(f=sr())&&(s.optionGroups=f)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(i,s){1&i&&e("keydown",function(f){return s._handleKeydown(f)})("focus",function(){return s._onFocus()})("blur",function(){return s._onBlur()}),2&i&&(Ir("id",s.id)("tabindex",s.tabIndex)("aria-controls",s.panelOpen?s.id+"-panel":null)("aria-expanded",s.panelOpen)("aria-label",s.ariaLabel||null)("aria-required",s.required.toString())("aria-disabled",s.disabled.toString())("aria-invalid",s.errorState)("aria-describedby",s._ariaDescribedby||null)("aria-activedescendant",s._getAriaActiveDescendant()),Er("mat-select-disabled",s.disabled)("mat-select-invalid",s.errorState)("mat-select-required",s.required)("mat-select-empty",s.empty)("mat-select-multiple",s.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[po([{provide:FS,useExisting:r},{provide:ES,useExisting:r}]),rr],ngContentSelectors:BX,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(i,s){if(1&i&&(P(FX),Xe(0,"div",0,1),e("click",function(){return s.toggle()}),Xe(3,"div",2),Mn(4,IX,2,1,"span",3),Mn(5,NX,3,2,"span",4),Ke(),Xe(6,"div",5),An(7,"div",6),Ke(),Ke(),Mn(8,LX,4,14,"ng-template",7),e("backdropClick",function(){return s.close()})("attach",function(){return s._onAttached()})("detach",function(){return s.close()})),2&i){const l=tc(1);Ir("aria-owns",s.panelOpen?s.id+"-panel":null),ki(3),Pi("ngSwitch",s.empty),Ir("id",s._valueId),ki(1),Pi("ngSwitchCase",!0),ki(1),Pi("ngSwitchCase",!1),ki(3),Pi("cdkConnectedOverlayPanelClass",s._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",s._scrollStrategy)("cdkConnectedOverlayOrigin",l)("cdkConnectedOverlayOpen",s.panelOpen)("cdkConnectedOverlayPositions",s._positions)("cdkConnectedOverlayMinWidth",null==s._triggerRect?null:s._triggerRect.width)("cdkConnectedOverlayOffsetY",s._offsetY)}},directives:[I8,vb,FC,R8,$4,uM],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[bO.transformPanelWrap,bO.transformPanel]},changeDetection:0}),r})(),XX=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({providers:[UX],imports:[[l0,LS,AS,$o],Ex,VS,AS,$o]}),r})();function oT(r){return W(()=>r)}const XS=["*"];function KX(r,n){if(1&r){const i=Ya();Xe(0,"div",2),e("click",function(){return qo(i),_()._onBackdropClicked()}),Ke()}2&r&&Er("mat-drawer-shown",_()._isShowingBackdrop())}function ZX(r,n){1&r&&(Xe(0,"mat-drawer-content"),F(1,2),Ke())}const qX=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],JX=["mat-drawer","mat-drawer-content","*"];function QX(r,n){if(1&r){const i=Ya();Xe(0,"div",2),e("click",function(){return qo(i),_()._onBackdropClicked()}),Ke()}2&r&&Er("mat-drawer-shown",_()._isShowingBackdrop())}function tK(r,n){1&r&&(Xe(0,"mat-sidenav-content",3),F(1,2),Ke())}const eK=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],iK=["mat-sidenav","mat-sidenav-content","*"],SO={transformDrawer:$g("transform",[af("open, open-instant",Ra({transform:"none",visibility:"visible"})),af("void",Ra({"box-shadow":"none",visibility:"hidden"})),lf("void => open-instant",Zf("0ms")),lf("void <=> open, open-instant => void",Zf("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},rK=new pn("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),sT=new pn("MAT_DRAWER_CONTAINER");let KS=(()=>{class r extends RS{constructor(i,s,l,f,x){super(l,f,x),this._changeDetectorRef=i,this._container=s}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return r.\u0275fac=function(i){return new(i||r)(ye(ra),ye(Hi(()=>EO)),ye(mr),ye(IS),ye(Cr))},r.\u0275cmp=gn({type:r,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,s){2&i&&Dh("margin-left",s._container._contentMargins.left,"px")("margin-right",s._container._contentMargins.right,"px")},features:[rr],ngContentSelectors:XS,decls:1,vars:0,template:function(i,s){1&i&&(P(),F(0))},encapsulation:2,changeDetection:0}),r})(),DO=(()=>{class r{constructor(i,s,l,f,x,A,B,q){this._elementRef=i,this._focusTrapFactory=s,this._focusMonitor=l,this._platform=f,this._ngZone=x,this._interactivityChecker=A,this._doc=B,this._container=q,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new C,this._animationEnd=new C,this._animationState="void",this.openedChange=new Sn(!0),this._openedStream=this.openedChange.pipe(Ks(vt=>vt),W(()=>{})),this.openedStart=this._animationStarted.pipe(Ks(vt=>vt.fromState!==vt.toState&&0===vt.toState.indexOf("open")),oT(void 0)),this._closedStream=this.openedChange.pipe(Ks(vt=>!vt),W(()=>{})),this.closedStart=this._animationStarted.pipe(Ks(vt=>vt.fromState!==vt.toState&&"void"===vt.toState),oT(void 0)),this._destroyed=new C,this.onPositionChanged=new Sn,this._modeChanged=new C,this.openedChange.subscribe(vt=>{vt?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{f0(this._elementRef.nativeElement,"keydown").pipe(Ks(vt=>27===vt.keyCode&&!this.disableClose&&!pc(vt)),gs(this._destroyed)).subscribe(vt=>this._ngZone.run(()=>{this.close(),vt.stopPropagation(),vt.preventDefault()}))}),this._animationEnd.pipe(sS((vt,Tt)=>vt.fromState===Tt.fromState&&vt.toState===Tt.toState)).subscribe(vt=>{const{fromState:Tt,toState:Wt}=vt;(0===Wt.indexOf("open")&&"void"===Tt||"void"===Wt&&0===Tt.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(i){(i="end"===i?"end":"start")!=this._position&&(this._position=i,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(i){this._mode=i,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(i){this._disableClose=Jr(i)}get autoFocus(){const i=this._autoFocus;return null==i?"side"===this.mode?"dialog":"first-tabbable":i}set autoFocus(i){("true"===i||"false"===i)&&(i=Jr(i)),this._autoFocus=i}get opened(){return this._opened}set opened(i){this.toggle(Jr(i))}_forceFocus(i,s){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{i.addEventListener("blur",()=>i.removeAttribute("tabindex")),i.addEventListener("mousedown",()=>i.removeAttribute("tabindex"))})),i.focus(s)}_focusByCssSelector(i,s){let l=this._elementRef.nativeElement.querySelector(i);l&&this._forceFocus(l,s)}_takeFocus(){if(!this._focusTrap)return;const i=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(s=>{!s&&"function"==typeof this._elementRef.nativeElement.focus&&i.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(i){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,i):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){var s;const i=null==(s=this._doc)?void 0:s.activeElement;return!!i&&this._elementRef.nativeElement.contains(i)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(i){return this.toggle(!0,i)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(i=!this.opened,s){i&&s&&(this._openedVia=s);const l=this._setOpen(i,!i&&this._isFocusWithinDrawer(),this._openedVia||"program");return i||(this._openedVia=null),l}_setOpen(i,s,l){return this._opened=i,i?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",s&&this._restoreFocus(l)),this._updateFocusTrapState(),new Promise(f=>{this.openedChange.pipe(Xn(1)).subscribe(x=>f(x?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(i){this._animationStarted.next(i)}_animationDoneListener(i){this._animationEnd.next(i)}}return r.\u0275fac=function(i){return new(i||r)(ye(mr),ye(F6),ye(wx),ye($l),ye(Cr),ye(O6),ye(zr,8),ye(sT,8))},r.\u0275cmp=gn({type:r,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(i,s){1&i&&o("@transform.start",function(f){return s._animationStartListener(f)})("@transform.done",function(f){return s._animationDoneListener(f)}),2&i&&(Ir("align",null),Gd("@transform",s._animationState),Er("mat-drawer-end","end"===s.position)("mat-drawer-over","over"===s.mode)("mat-drawer-push","push"===s.mode)("mat-drawer-side","side"===s.mode)("mat-drawer-opened",s.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:XS,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,s){1&i&&(P(),Xe(0,"div",0),F(1),Ke())},directives:[RS],encapsulation:2,data:{animation:[SO.transformDrawer]},changeDetection:0}),r})(),EO=(()=>{class r{constructor(i,s,l,f,x,A=!1,B){this._dir=i,this._element=s,this._ngZone=l,this._changeDetectorRef=f,this._animationMode=B,this._drawers=new ux,this.backdropClick=new Sn,this._destroyed=new C,this._doCheckSubject=new C,this._contentMargins={left:null,right:null},this._contentMarginChanges=new C,i&&i.change.pipe(gs(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),x.change().pipe(gs(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=A}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(i){this._autosize=Jr(i)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(i){this._backdropOverride=null==i?null:Jr(i)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(fc(this._allDrawers),gs(this._destroyed)).subscribe(i=>{this._drawers.reset(i.filter(s=>!s._container||s._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(fc(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(i=>{this._watchDrawerToggle(i),this._watchDrawerPosition(i),this._watchDrawerMode(i)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(WC(10),gs(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(i=>i.open())}close(){this._drawers.forEach(i=>i.close())}updateContentMargins(){let i=0,s=0;if(this._left&&this._left.opened)if("side"==this._left.mode)i+=this._left._getWidth();else if("push"==this._left.mode){const l=this._left._getWidth();i+=l,s-=l}if(this._right&&this._right.opened)if("side"==this._right.mode)s+=this._right._getWidth();else if("push"==this._right.mode){const l=this._right._getWidth();s+=l,i-=l}i=i||null,s=s||null,(i!==this._contentMargins.left||s!==this._contentMargins.right)&&(this._contentMargins={left:i,right:s},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(i){i._animationStarted.pipe(Ks(s=>s.fromState!==s.toState),gs(this._drawers.changes)).subscribe(s=>{"open-instant"!==s.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==i.mode&&i.openedChange.pipe(gs(this._drawers.changes)).subscribe(()=>this._setContainerClass(i.opened))}_watchDrawerPosition(i){!i||i.onPositionChanged.pipe(gs(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Xn(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(i){i&&i._modeChanged.pipe(gs(br(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(i){const s=this._element.nativeElement.classList,l="mat-drawer-container-has-open";i?s.add(l):s.remove(l)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(i=>{"end"==i.position?this._end=i:this._start=i}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(i=>i&&!i.disableClose&&this._canHaveBackdrop(i)).forEach(i=>i._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(i){return"side"!==i.mode||!!this._backdropOverride}_isDrawerOpen(i){return null!=i&&i.opened}}return r.\u0275fac=function(i){return new(i||r)(ye(c0,8),ye(mr),ye(Cr),ye(ra),ye(NM),ye(rK),ye(Qf,8))},r.\u0275cmp=gn({type:r,selectors:[["mat-drawer-container"]],contentQueries:function(i,s,l){if(1&i&&(ms(l,KS,5),ms(l,DO,5)),2&i){let f;or(f=sr())&&(s._content=f.first),or(f=sr())&&(s._allDrawers=f)}},viewQuery:function(i,s){if(1&i&&Cs(KS,5),2&i){let l;or(l=sr())&&(s._userContent=l.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,s){2&i&&Er("mat-drawer-container-explicit-backdrop",s._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[po([{provide:sT,useExisting:r}])],ngContentSelectors:JX,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,s){1&i&&(P(qX),Mn(0,KX,1,2,"div",0),F(1),F(2,1),Mn(3,ZX,2,0,"mat-drawer-content",1)),2&i&&(Pi("ngIf",s.hasBackdrop),ki(3),Pi("ngIf",!s._content))},directives:[ku,KS],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),r})(),aT=(()=>{class r extends KS{constructor(i,s,l,f,x){super(i,s,l,f,x)}}return r.\u0275fac=function(i){return new(i||r)(ye(ra),ye(Hi(()=>AO)),ye(mr),ye(IS),ye(Cr))},r.\u0275cmp=gn({type:r,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(i,s){2&i&&Dh("margin-left",s._container._contentMargins.left,"px")("margin-right",s._container._contentMargins.right,"px")},features:[rr],ngContentSelectors:XS,decls:1,vars:0,template:function(i,s){1&i&&(P(),F(0))},encapsulation:2,changeDetection:0}),r})(),kO=(()=>{class r extends DO{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(i){this._fixedInViewport=Jr(i)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(i){this._fixedTopGap=Ry(i)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(i){this._fixedBottomGap=Ry(i)}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=xo(r)))(s||r)}}(),r.\u0275cmp=gn({type:r,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(i,s){2&i&&(Ir("align",null),Dh("top",s.fixedInViewport?s.fixedTopGap:null,"px")("bottom",s.fixedInViewport?s.fixedBottomGap:null,"px"),Er("mat-drawer-end","end"===s.position)("mat-drawer-over","over"===s.mode)("mat-drawer-push","push"===s.mode)("mat-drawer-side","side"===s.mode)("mat-drawer-opened",s.opened)("mat-sidenav-fixed",s.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[rr],ngContentSelectors:XS,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,s){1&i&&(P(),Xe(0,"div",0),F(1),Ke())},directives:[RS],encapsulation:2,data:{animation:[SO.transformDrawer]},changeDetection:0}),r})(),AO=(()=>{class r extends EO{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=xo(r)))(s||r)}}(),r.\u0275cmp=gn({type:r,selectors:[["mat-sidenav-container"]],contentQueries:function(i,s,l){if(1&i&&(ms(l,aT,5),ms(l,kO,5)),2&i){let f;or(f=sr())&&(s._content=f.first),or(f=sr())&&(s._allDrawers=f)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(i,s){2&i&&Er("mat-drawer-container-explicit-backdrop",s._backdropOverride)},exportAs:["matSidenavContainer"],features:[po([{provide:sT,useExisting:r}]),rr],ngContentSelectors:iK,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(i,s){1&i&&(P(eK),Mn(0,QX,1,2,"div",0),F(1),F(2,1),Mn(3,tK,2,0,"mat-sidenav-content",1)),2&i&&(Pi("ngIf",s.hasBackdrop),ki(3),Pi("ngIf",!s._content))},directives:[ku,aT,RS],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),r})(),sK=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({imports:[[l0,$o,xb,Ex],Ex,$o]}),r})();const aK=["*",[["mat-toolbar-row"]]],lK=["*","mat-toolbar-row"],hK=Sx(class{constructor(r){this._elementRef=r}});let uK=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=dn({type:r,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),r})(),cK=(()=>{class r extends hK{constructor(i,s,l){super(i),this._platform=s,this._document=l}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return r.\u0275fac=function(i){return new(i||r)(ye(mr),ye($l),ye(zr))},r.\u0275cmp=gn({type:r,selectors:[["mat-toolbar"]],contentQueries:function(i,s,l){if(1&i&&ms(l,uK,5),2&i){let f;or(f=sr())&&(s._toolbarRows=f)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,s){2&i&&Er("mat-toolbar-multiple-rows",s._toolbarRows.length>0)("mat-toolbar-single-row",0===s._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[rr],ngContentSelectors:lK,decls:2,vars:0,template:function(i,s){1&i&&(P(aK),F(0),F(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),r})(),fK=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({imports:[[$o],$o]}),r})(),dK=(()=>{class r{constructor(i,s){this.document=i,this.platformId=s,this.documentIsAccessible=yb(this.platformId)}static getCookieRegExp(i){const s=i.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+s+"|;\\s*"+s+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(i){try{return decodeURIComponent(i)}catch(s){return i}}check(i){return!!this.documentIsAccessible&&(i=encodeURIComponent(i),r.getCookieRegExp(i).test(this.document.cookie))}get(i){if(this.documentIsAccessible&&this.check(i)){i=encodeURIComponent(i);const l=r.getCookieRegExp(i).exec(this.document.cookie);return l[1]?r.safeDecodeURIComponent(l[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const i={},s=this.document;return s.cookie&&""!==s.cookie&&s.cookie.split(";").forEach(l=>{const[f,x]=l.split("=");i[r.safeDecodeURIComponent(f.replace(/^ /,""))]=r.safeDecodeURIComponent(x)}),i}set(i,s,l,f,x,A,B){if(!this.documentIsAccessible)return;if("number"==typeof l||l instanceof Date||f||x||A||B)return void this.set(i,s,{expires:l,path:f,domain:x,secure:A,sameSite:B||"Lax"});let q=encodeURIComponent(i)+"="+encodeURIComponent(s)+";";const vt=l||{};vt.expires&&(q+="number"==typeof vt.expires?"expires="+new Date((new Date).getTime()+1e3*vt.expires*60*60*24).toUTCString()+";":"expires="+vt.expires.toUTCString()+";"),vt.path&&(q+="path="+vt.path+";"),vt.domain&&(q+="domain="+vt.domain+";"),!1===vt.secure&&"None"===vt.sameSite&&(vt.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${i} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),vt.secure&&(q+="secure;"),vt.sameSite||(vt.sameSite="Lax"),q+="sameSite="+vt.sameSite+";",this.document.cookie=q}delete(i,s,l,f,x="Lax"){if(!this.documentIsAccessible)return;const A=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(i,"",{expires:A,path:s,domain:l,secure:f,sameSite:x})}deleteAll(i,s,l,f="Lax"){if(!this.documentIsAccessible)return;const x=this.getAll();for(const A in x)x.hasOwnProperty(A)&&this.delete(A,i,s,l,f)}}return r.\u0275fac=function(i){return new(i||r)(gi(zr),gi(cx))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const YM=Kt(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});function TO(){return it((r,n)=>{let i=null;r._refCount++;const s=new Z(n,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount)return void(i=null);const l=r._connection,f=i;i=null,l&&(!f||l===f)&&l.unsubscribe(),n.unsubscribe()});r.subscribe(s),s.closed||(i=r.connect())})}class pK extends y{constructor(n,i){super(),this.source=n,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,T(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,null==n||n.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new E;const i=this.getSubject();n.add(this.source.subscribe(new Z(i,void 0,()=>{this._teardown(),i.complete()},s=>{this._teardown(),i.error(s)},()=>this._teardown()))),n.closed&&(this._connection=null,n=E.EMPTY)}return n}refCount(){return TO()(this)}}function mK(r,n,i,s,l){return(f,x)=>{let A=i,B=n,q=0;f.subscribe(new Z(x,vt=>{const Tt=q++;B=A?r(B,vt,Tt):(A=!0,vt),s&&x.next(B)},l&&(()=>{A&&x.next(B),x.complete()})))}}function PO(r,n){return it(mK(r,n,arguments.length>=2,!0))}function lT(r){return r<=0?()=>$e:it((n,i)=>{let s=[];n.subscribe(new Z(i,l=>{s.push(l),r<s.length&&s.shift()},()=>{for(const l of s)i.next(l);i.complete()},void 0,()=>{s=null}))})}function IO(r=gK){return it((n,i)=>{let s=!1;n.subscribe(new Z(i,l=>{s=!0,i.next(l)},()=>s?i.complete():i.error(r())))})}function gK(){return new YM}function hT(r){return it((n,i)=>{let s=!1;n.subscribe(new Z(i,l=>{s=!0,i.next(l)},()=>{s||i.next(r),i.complete()}))})}function Tx(r,n){const i=arguments.length>=2;return s=>s.pipe(r?Ks((l,f)=>r(l,f,s)):R,Xn(1),i?hT(n):IO(()=>new YM))}class Jg{constructor(n,i){this.id=n,this.url=i}}class uT extends Jg{constructor(n,i,s="imperative",l=null){super(n,i),this.navigationTrigger=s,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $M extends Jg{constructor(n,i,s){super(n,i),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class RO extends Jg{constructor(n,i,s){super(n,i),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yK extends Jg{constructor(n,i,s){super(n,i),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xK extends Jg{constructor(n,i,s,l){super(n,i),this.urlAfterRedirects=s,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wK extends Jg{constructor(n,i,s,l){super(n,i),this.urlAfterRedirects=s,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bK extends Jg{constructor(n,i,s,l,f){super(n,i),this.urlAfterRedirects=s,this.state=l,this.shouldActivate=f}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _K extends Jg{constructor(n,i,s,l){super(n,i),this.urlAfterRedirects=s,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MK extends Jg{constructor(n,i,s,l){super(n,i),this.urlAfterRedirects=s,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class OO{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class NO{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class CK{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SK{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DK{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EK{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LO{constructor(n,i,s){this.routerEvent=n,this.position=i,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Oo="primary";class kK{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const i=this.params[n];return Array.isArray(i)?i[0]:i}return null}getAll(n){if(this.has(n)){const i=this.params[n];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function Lb(r){return new kK(r)}const FO="ngNavigationCancelingError";function cT(r){const n=Error("NavigationCancelingError: "+r);return n[FO]=!0,n}function TK(r,n,i){const s=i.path.split("/");if(s.length>r.length||"full"===i.pathMatch&&(n.hasChildren()||s.length<r.length))return null;const l={};for(let f=0;f<s.length;f++){const x=s[f],A=r[f];if(x.startsWith(":"))l[x.substring(1)]=A;else if(x!==A.path)return null}return{consumed:r.slice(0,s.length),posParams:l}}function dm(r,n){const i=r?Object.keys(r):void 0,s=n?Object.keys(n):void 0;if(!i||!s||i.length!=s.length)return!1;let l;for(let f=0;f<i.length;f++)if(l=i[f],!BO(r[l],n[l]))return!1;return!0}function BO(r,n){if(Array.isArray(r)&&Array.isArray(n)){if(r.length!==n.length)return!1;const i=[...r].sort(),s=[...n].sort();return i.every((l,f)=>s[f]===l)}return r===n}function VO(r){return Array.prototype.concat.apply([],r)}function jO(r){return r.length>0?r[r.length-1]:null}function ou(r,n){for(const i in r)r.hasOwnProperty(i)&&n(r[i],i)}function pm(r){return t(r)?r:nm(r)?wr(Promise.resolve(r)):fr(r)}const RK={exact:function UO(r,n,i){if(!Ix(r.segments,n.segments)||!ZS(r.segments,n.segments,i)||r.numberOfChildren!==n.numberOfChildren)return!1;for(const s in n.children)if(!r.children[s]||!UO(r.children[s],n.children[s],i))return!1;return!0},subset:GO},zO={exact:function(r,n){return dm(r,n)},subset:function(r,n){return Object.keys(n).length<=Object.keys(r).length&&Object.keys(n).every(i=>BO(r[i],n[i]))},ignored:()=>!0};function HO(r,n,i){return RK[i.paths](r.root,n.root,i.matrixParams)&&zO[i.queryParams](r.queryParams,n.queryParams)&&!("exact"===i.fragment&&r.fragment!==n.fragment)}function GO(r,n,i){return WO(r,n,n.segments,i)}function WO(r,n,i,s){if(r.segments.length>i.length){const l=r.segments.slice(0,i.length);return!(!Ix(l,i)||n.hasChildren()||!ZS(l,i,s))}if(r.segments.length===i.length){if(!Ix(r.segments,i)||!ZS(r.segments,i,s))return!1;for(const l in n.children)if(!r.children[l]||!GO(r.children[l],n.children[l],s))return!1;return!0}{const l=i.slice(0,r.segments.length),f=i.slice(r.segments.length);return!!(Ix(r.segments,l)&&ZS(r.segments,l,s)&&r.children[Oo])&&WO(r.children[Oo],n,f,s)}}function ZS(r,n,i){return n.every((s,l)=>zO[i](r[l].parameters,s.parameters))}class Px{constructor(n,i,s){this.root=n,this.queryParams=i,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lb(this.queryParams)),this._queryParamMap}toString(){return BK.serialize(this)}}class Wo{constructor(n,i){this.segments=n,this.children=i,this.parent=null,ou(i,(s,l)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qS(this)}}class XM{constructor(n,i){this.path=n,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=Lb(this.parameters)),this._parameterMap}toString(){return ZO(this)}}function Ix(r,n){return r.length===n.length&&r.every((i,s)=>i.path===n[s].path)}class YO{}class $O{parse(n){const i=new $K(n);return new Px(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(n){const i=`/${KM(n.root,!0)}`,s=function(r){const n=Object.keys(r).map(i=>{const s=r[i];return Array.isArray(s)?s.map(l=>`${JS(i)}=${JS(l)}`).join("&"):`${JS(i)}=${JS(s)}`}).filter(i=>!!i);return n.length?`?${n.join("&")}`:""}(n.queryParams);var r;return`${i}${s}${"string"==typeof n.fragment?`#${r=n.fragment,encodeURI(r)}`:""}`}}const BK=new $O;function qS(r){return r.segments.map(n=>ZO(n)).join("/")}function KM(r,n){if(!r.hasChildren())return qS(r);if(n){const i=r.children[Oo]?KM(r.children[Oo],!1):"",s=[];return ou(r.children,(l,f)=>{f!==Oo&&s.push(`${f}:${KM(l,!1)}`)}),s.length>0?`${i}(${s.join("//")})`:i}{const i=function(r,n){let i=[];return ou(r.children,(s,l)=>{l===Oo&&(i=i.concat(n(s,l)))}),ou(r.children,(s,l)=>{l!==Oo&&(i=i.concat(n(s,l)))}),i}(r,(s,l)=>l===Oo?[KM(r.children[Oo],!1)]:[`${l}:${KM(s,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[Oo]?`${qS(r)}/${i[0]}`:`${qS(r)}/(${i.join("//")})`}}function XO(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function JS(r){return XO(r).replace(/%3B/gi,";")}function fT(r){return XO(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function QS(r){return decodeURIComponent(r)}function KO(r){return QS(r.replace(/\+/g,"%20"))}function ZO(r){return`${fT(r.path)}${function(r){return Object.keys(r).map(n=>`;${fT(n)}=${fT(r[n])}`).join("")}(r.parameters)}`}const HK=/^[^\/()?;=#]+/;function tD(r){const n=r.match(HK);return n?n[0]:""}const UK=/^[^=?&#]+/,WK=/^[^&#]+/;class $K{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wo([],{}):new Wo([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(n.length>0||Object.keys(i).length>0)&&(s[Oo]=new Wo(n,i)),s}parseSegment(){const n=tD(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new XM(QS(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const i=tD(this.remaining);if(!i)return;this.capture(i);let s="";if(this.consumeOptional("=")){const l=tD(this.remaining);l&&(s=l,this.capture(s))}n[QS(i)]=QS(s)}parseQueryParam(n){const i=function(r){const n=r.match(UK);return n?n[0]:""}(this.remaining);if(!i)return;this.capture(i);let s="";if(this.consumeOptional("=")){const x=function(r){const n=r.match(WK);return n?n[0]:""}(this.remaining);x&&(s=x,this.capture(s))}const l=KO(i),f=KO(s);if(n.hasOwnProperty(l)){let x=n[l];Array.isArray(x)||(x=[x],n[l]=x),x.push(f)}else n[l]=f}parseParens(n){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=tD(this.remaining),l=this.remaining[s.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let f;s.indexOf(":")>-1?(f=s.substr(0,s.indexOf(":")),this.capture(f),this.capture(":")):n&&(f=Oo);const x=this.parseChildren();i[f]=1===Object.keys(x).length?x[Oo]:new Wo([],x),this.consumeOptional("//")}return i}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class qO{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const i=this.pathFromRoot(n);return i.length>1?i[i.length-2]:null}children(n){const i=dT(n,this._root);return i?i.children.map(s=>s.value):[]}firstChild(n){const i=dT(n,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(n){const i=pT(n,this._root);return i.length<2?[]:i[i.length-2].children.map(l=>l.value).filter(l=>l!==n)}pathFromRoot(n){return pT(n,this._root).map(i=>i.value)}}function dT(r,n){if(r===n.value)return n;for(const i of n.children){const s=dT(r,i);if(s)return s}return null}function pT(r,n){if(r===n.value)return[n];for(const i of n.children){const s=pT(r,i);if(s.length)return s.unshift(n),s}return[]}class Qg{constructor(n,i){this.value=n,this.children=i}toString(){return`TreeNode(${this.value})`}}function Fb(r){const n={};return r&&r.children.forEach(i=>n[i.value.outlet]=i),n}class JO extends qO{constructor(n,i){super(n),this.snapshot=i,mT(this,n)}toString(){return this.snapshot.toString()}}function QO(r,n){const i=function(r,n){const x=new eD([],{},{},"",{},Oo,n,null,r.root,-1,{});return new e5("",new Qg(x,[]))}(r,n),s=new iu([new XM("",{})]),l=new iu({}),f=new iu({}),x=new iu({}),A=new iu(""),B=new tv(s,l,x,A,f,Oo,n,i.root);return B.snapshot=i.root,new JO(new Qg(B,[]),i)}class tv{constructor(n,i,s,l,f,x,A,B){this.url=n,this.params=i,this.queryParams=s,this.fragment=l,this.data=f,this.outlet=x,this.component=A,this._futureSnapshot=B}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(W(n=>Lb(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(W(n=>Lb(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function t5(r,n="emptyOnly"){const i=r.pathFromRoot;let s=0;if("always"!==n)for(s=i.length-1;s>=1;){const l=i[s],f=i[s-1];if(l.routeConfig&&""===l.routeConfig.path)s--;else{if(f.component)break;s--}}return function(r){return r.reduce((n,i)=>({params:Dn(Dn({},n.params),i.params),data:Dn(Dn({},n.data),i.data),resolve:Dn(Dn({},n.resolve),i._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(s))}class eD{constructor(n,i,s,l,f,x,A,B,q,vt,Tt){this.url=n,this.params=i,this.queryParams=s,this.fragment=l,this.data=f,this.outlet=x,this.component=A,this.routeConfig=B,this._urlSegment=q,this._lastPathIndex=vt,this._resolve=Tt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lb(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lb(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class e5 extends qO{constructor(n,i){super(i),this.url=n,mT(this,i)}toString(){return i5(this._root)}}function mT(r,n){n.value._routerState=r,n.children.forEach(i=>mT(r,i))}function i5(r){const n=r.children.length>0?` { ${r.children.map(i5).join(", ")} } `:"";return`${r.value}${n}`}function gT(r){if(r.snapshot){const n=r.snapshot,i=r._futureSnapshot;r.snapshot=i,dm(n.queryParams,i.queryParams)||r.queryParams.next(i.queryParams),n.fragment!==i.fragment&&r.fragment.next(i.fragment),dm(n.params,i.params)||r.params.next(i.params),function(r,n){if(r.length!==n.length)return!1;for(let i=0;i<r.length;++i)if(!dm(r[i],n[i]))return!1;return!0}(n.url,i.url)||r.url.next(i.url),dm(n.data,i.data)||r.data.next(i.data)}else r.snapshot=r._futureSnapshot,r.data.next(r._futureSnapshot.data)}function vT(r,n){const i=dm(r.params,n.params)&&function(r,n){return Ix(r,n)&&r.every((i,s)=>dm(i.parameters,n[s].parameters))}(r.url,n.url);return i&&!(!r.parent!=!n.parent)&&(!r.parent||vT(r.parent,n.parent))}function ZM(r,n,i){if(i&&r.shouldReuseRoute(n.value,i.value.snapshot)){const s=i.value;s._futureSnapshot=n.value;const l=function(r,n,i){return n.children.map(s=>{for(const l of i.children)if(r.shouldReuseRoute(s.value,l.value.snapshot))return ZM(r,s,l);return ZM(r,s)})}(r,n,i);return new Qg(s,l)}{if(r.shouldAttach(n.value)){const f=r.retrieve(n.value);if(null!==f){const x=f.route;return x.value._futureSnapshot=n.value,x.children=n.children.map(A=>ZM(r,A)),x}}const s=function(r){return new tv(new iu(r.url),new iu(r.params),new iu(r.queryParams),new iu(r.fragment),new iu(r.data),r.outlet,r.component,r)}(n.value),l=n.children.map(f=>ZM(r,f));return new Qg(s,l)}}function iD(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function qM(r){return"object"==typeof r&&null!=r&&r.outlets}function yT(r,n,i,s,l){let f={};return s&&ou(s,(x,A)=>{f[A]=Array.isArray(x)?x.map(B=>`${B}`):`${x}`}),new Px(i.root===r?n:n5(i.root,r,n),f,l)}function n5(r,n,i){const s={};return ou(r.children,(l,f)=>{s[f]=l===n?i:n5(l,n,i)}),new Wo(r.segments,s)}class r5{constructor(n,i,s){if(this.isAbsolute=n,this.numberOfDoubleDots=i,this.commands=s,n&&s.length>0&&iD(s[0]))throw new Error("Root segment cannot have matrix parameters");const l=s.find(qM);if(l&&l!==jO(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xT{constructor(n,i,s){this.segmentGroup=n,this.processChildren=i,this.index=s}}function o5(r,n,i){if(r||(r=new Wo([],{})),0===r.segments.length&&r.hasChildren())return nD(r,n,i);const s=function(r,n,i){let s=0,l=n;const f={match:!1,pathIndex:0,commandIndex:0};for(;l<r.segments.length;){if(s>=i.length)return f;const x=r.segments[l],A=i[s];if(qM(A))break;const B=`${A}`,q=s<i.length-1?i[s+1]:null;if(l>0&&void 0===B)break;if(B&&q&&"object"==typeof q&&void 0===q.outlets){if(!a5(B,q,x))return f;s+=2}else{if(!a5(B,{},x))return f;s++}l++}return{match:!0,pathIndex:l,commandIndex:s}}(r,n,i),l=i.slice(s.commandIndex);if(s.match&&s.pathIndex<r.segments.length){const f=new Wo(r.segments.slice(0,s.pathIndex),{});return f.children[Oo]=new Wo(r.segments.slice(s.pathIndex),r.children),nD(f,0,l)}return s.match&&0===l.length?new Wo(r.segments,{}):s.match&&!r.hasChildren()?wT(r,n,i):s.match?nD(r,0,l):wT(r,n,i)}function nD(r,n,i){if(0===i.length)return new Wo(r.segments,{});{const s=function(r){return qM(r[0])?r[0].outlets:{[Oo]:r}}(i),l={};return ou(s,(f,x)=>{"string"==typeof f&&(f=[f]),null!==f&&(l[x]=o5(r.children[x],n,f))}),ou(r.children,(f,x)=>{void 0===s[x]&&(l[x]=f)}),new Wo(r.segments,l)}}function wT(r,n,i){const s=r.segments.slice(0,n);let l=0;for(;l<i.length;){const f=i[l];if(qM(f)){const B=oZ(f.outlets);return new Wo(s,B)}if(0===l&&iD(i[0])){s.push(new XM(r.segments[n].path,s5(i[0]))),l++;continue}const x=qM(f)?f.outlets[Oo]:`${f}`,A=l<i.length-1?i[l+1]:null;x&&A&&iD(A)?(s.push(new XM(x,s5(A))),l+=2):(s.push(new XM(x,{})),l++)}return new Wo(s,{})}function oZ(r){const n={};return ou(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(n[s]=wT(new Wo([],{}),0,i))}),n}function s5(r){const n={};return ou(r,(i,s)=>n[s]=`${i}`),n}function a5(r,n,i){return r==i.path&&dm(n,i.parameters)}class aZ{constructor(n,i,s,l){this.routeReuseStrategy=n,this.futureState=i,this.currState=s,this.forwardEvent=l}activate(n){const i=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,s,n),gT(this.futureState.root),this.activateChildRoutes(i,s,n)}deactivateChildRoutes(n,i,s){const l=Fb(i);n.children.forEach(f=>{const x=f.value.outlet;this.deactivateRoutes(f,l[x],s),delete l[x]}),ou(l,(f,x)=>{this.deactivateRouteAndItsChildren(f,s)})}deactivateRoutes(n,i,s){const l=n.value,f=i?i.value:null;if(l===f)if(l.component){const x=s.getContext(l.outlet);x&&this.deactivateChildRoutes(n,i,x.children)}else this.deactivateChildRoutes(n,i,s);else f&&this.deactivateRouteAndItsChildren(i,s)}deactivateRouteAndItsChildren(n,i){this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,i):this.deactivateRouteAndOutlet(n,i)}detachAndStoreRouteSubtree(n,i){const s=i.getContext(n.value.outlet),l=s&&n.value.component?s.children:i,f=Fb(n);for(const x of Object.keys(f))this.deactivateRouteAndItsChildren(f[x],l);if(s&&s.outlet){const x=s.outlet.detach(),A=s.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:x,route:n,contexts:A})}}deactivateRouteAndOutlet(n,i){const s=i.getContext(n.value.outlet),l=s&&n.value.component?s.children:i,f=Fb(n);for(const x of Object.keys(f))this.deactivateRouteAndItsChildren(f[x],l);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(n,i,s){const l=Fb(i);n.children.forEach(f=>{this.activateRoutes(f,l[f.value.outlet],s),this.forwardEvent(new EK(f.value.snapshot))}),n.children.length&&this.forwardEvent(new SK(n.value.snapshot))}activateRoutes(n,i,s){const l=n.value,f=i?i.value:null;if(gT(l),l===f)if(l.component){const x=s.getOrCreateContext(l.outlet);this.activateChildRoutes(n,i,x.children)}else this.activateChildRoutes(n,i,s);else if(l.component){const x=s.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const A=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),x.children.onOutletReAttached(A.contexts),x.attachRef=A.componentRef,x.route=A.route.value,x.outlet&&x.outlet.attach(A.componentRef,A.route.value),gT(A.route.value),this.activateChildRoutes(n,null,x.children)}else{const A=function(r){for(let n=r.parent;n;n=n.parent){const i=n.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig;if(i&&i.component)return null}return null}(l.snapshot),B=A?A.module.componentFactoryResolver:null;x.attachRef=null,x.route=l,x.resolver=B,x.outlet&&x.outlet.activateWith(l,B),this.activateChildRoutes(n,null,x.children)}}else this.activateChildRoutes(n,null,s)}}class bT{constructor(n,i){this.routes=n,this.module=i}}function Gy(r){return"function"==typeof r}function Rx(r){return r instanceof Px}const JM=Symbol("INITIAL_VALUE");function QM(){return ru(r=>vI(r.map(n=>n.pipe(Xn(1),fc(JM)))).pipe(PO((n,i)=>{let s=!1;return i.reduce((l,f,x)=>l!==JM?l:(f===JM&&(s=!0),s||!1!==f&&x!==i.length-1&&!Rx(f)?l:f),n)},JM),Ks(n=>n!==JM),W(n=>Rx(n)?n:!0===n),Xn(1)))}class pZ{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new t2,this.attachRef=null}}class t2{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){const s=this.getOrCreateContext(n);s.outlet=i,this.contexts.set(n,s)}onChildOutletDestroyed(n){const i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new pZ,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}}let _T=(()=>{class r{constructor(i,s,l,f,x){this.parentContexts=i,this.location=s,this.resolver=l,this.changeDetector=x,this.activated=null,this._activatedRoute=null,this.activateEvents=new Sn,this.deactivateEvents=new Sn,this.attachEvents=new Sn,this.detachEvents=new Sn,this.name=f||Oo,i.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const i=this.parentContexts.getContext(this.name);i&&i.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,s){this.activated=i,this._activatedRoute=s,this.location.insert(i.hostView),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=i;const x=(s=s||this.resolver).resolveComponentFactory(i._futureSnapshot.routeConfig.component),A=this.parentContexts.getOrCreateContext(this.name).children,B=new mZ(i,A,this.location.injector);this.activated=this.location.createComponent(x,this.location.length,B),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return r.\u0275fac=function(i){return new(i||r)(ye(t2),ye(Su),ye(Ng),Hh("name"),ye(ra))},r.\u0275dir=dn({type:r,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),r})();class mZ{constructor(n,i,s){this.route=n,this.childContexts=i,this.parent=s}get(n,i){return n===tv?this.route:n===t2?this.childContexts:this.parent.get(n,i)}}let l5=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=gn({type:r,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,s){1&i&&An(0,"router-outlet")},directives:[_T],encapsulation:2}),r})();function h5(r,n=""){for(let i=0;i<r.length;i++){const s=r[i];gZ(s,vZ(n,s))}}function gZ(r,n){r.children&&h5(r.children,n)}function vZ(r,n){return n?r||n.path?r&&!n.path?`${r}/`:!r&&n.path?n.path:`${r}/${n.path}`:"":r}function MT(r){const n=r.children&&r.children.map(MT),i=n?Zl(Dn({},r),{children:n}):Dn({},r);return!i.component&&(n||i.loadChildren)&&i.outlet&&i.outlet!==Oo&&(i.component=l5),i}function tp(r){return r.outlet||Oo}function u5(r,n){const i=r.filter(s=>tp(s)===n);return i.push(...r.filter(s=>tp(s)!==n)),i}const c5={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function rD(r,n,i){var A;if(""===n.path)return"full"===n.pathMatch&&(r.hasChildren()||i.length>0)?Dn({},c5):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(n.matcher||TK)(i,r,n);if(!l)return Dn({},c5);const f={};ou(l.posParams,(B,q)=>{f[q]=B.path});const x=l.consumed.length>0?Dn(Dn({},f),l.consumed[l.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:x,positionalParamSegments:null!=(A=l.posParams)?A:{}}}function oD(r,n,i,s,l="corrected"){if(i.length>0&&function(r,n,i){return i.some(s=>sD(r,n,s)&&tp(s)!==Oo)}(r,i,s)){const x=new Wo(n,function(r,n,i,s){const l={};l[Oo]=s,s._sourceSegment=r,s._segmentIndexShift=n.length;for(const f of i)if(""===f.path&&tp(f)!==Oo){const x=new Wo([],{});x._sourceSegment=r,x._segmentIndexShift=n.length,l[tp(f)]=x}return l}(r,n,s,new Wo(i,r.children)));return x._sourceSegment=r,x._segmentIndexShift=n.length,{segmentGroup:x,slicedSegments:[]}}if(0===i.length&&function(r,n,i){return i.some(s=>sD(r,n,s))}(r,i,s)){const x=new Wo(r.segments,function(r,n,i,s,l,f){const x={};for(const A of s)if(sD(r,i,A)&&!l[tp(A)]){const B=new Wo([],{});B._sourceSegment=r,B._segmentIndexShift="legacy"===f?r.segments.length:n.length,x[tp(A)]=B}return Dn(Dn({},l),x)}(r,n,i,s,r.children,l));return x._sourceSegment=r,x._segmentIndexShift=n.length,{segmentGroup:x,slicedSegments:i}}const f=new Wo(r.segments,r.children);return f._sourceSegment=r,f._segmentIndexShift=n.length,{segmentGroup:f,slicedSegments:i}}function sD(r,n,i){return(!(r.hasChildren()||n.length>0)||"full"!==i.pathMatch)&&""===i.path}function f5(r,n,i,s){return!!(tp(r)===s||s!==Oo&&sD(n,i,r))&&("**"===r.path||rD(n,r,i).matched)}function d5(r,n,i){return 0===n.length&&!r.children[i]}class e2{constructor(n){this.segmentGroup=n||null}}class p5{constructor(n){this.urlTree=n}}function aD(r){return new y(n=>n.error(new e2(r)))}function m5(r){return new y(n=>n.error(new p5(r)))}function _Z(r){return new y(n=>n.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${r}'`)))}class SZ{constructor(n,i,s,l,f){this.configLoader=i,this.urlSerializer=s,this.urlTree=l,this.config=f,this.allowRedirects=!0,this.ngModule=n.get(lm)}apply(){const n=oD(this.urlTree.root,[],[],this.config).segmentGroup,i=new Wo(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,i,Oo).pipe(W(f=>this.createUrlTree(CT(f),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Zg(f=>{if(f instanceof p5)return this.allowRedirects=!1,this.match(f.urlTree);throw f instanceof e2?this.noMatchError(f):f}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,Oo).pipe(W(l=>this.createUrlTree(CT(l),n.queryParams,n.fragment))).pipe(Zg(l=>{throw l instanceof e2?this.noMatchError(l):l}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,i,s){const l=n.segments.length>0?new Wo([],{[Oo]:n}):n;return new Px(l,i,s)}expandSegmentGroup(n,i,s,l){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(n,i,s).pipe(W(f=>new Wo([],f))):this.expandSegment(n,s,i,s.segments,l,!0)}expandChildren(n,i,s){const l=[];for(const f of Object.keys(s.children))"primary"===f?l.unshift(f):l.push(f);return wr(l).pipe(Rb(f=>{const x=s.children[f],A=u5(i,f);return this.expandSegmentGroup(n,A,x,f).pipe(W(B=>({segment:B,outlet:f})))}),PO((f,x)=>(f[x.outlet]=x.segment,f),{}),function(r,n){const i=arguments.length>=2;return s=>s.pipe(r?Ks((l,f)=>r(l,f,s)):R,lT(1),i?hT(n):IO(()=>new YM))}())}expandSegment(n,i,s,l,f,x){return wr(s).pipe(Rb(A=>this.expandSegmentAgainstRoute(n,i,s,A,l,f,x).pipe(Zg(q=>{if(q instanceof e2)return fr(null);throw q}))),Tx(A=>!!A),Zg((A,B)=>{if(A instanceof YM||"EmptyError"===A.name){if(d5(i,l,f))return fr(new Wo([],{}));throw new e2(i)}throw A}))}expandSegmentAgainstRoute(n,i,s,l,f,x,A){return f5(l,i,f,x)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(n,i,l,f,x):A&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,i,s,l,f,x):aD(i):aD(i)}expandSegmentAgainstRouteUsingRedirect(n,i,s,l,f,x){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,s,l,x):this.expandRegularSegmentAgainstRouteUsingRedirect(n,i,s,l,f,x)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,s,l){const f=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?m5(f):this.lineralizeSegments(s,f).pipe(he(x=>{const A=new Wo(x,{});return this.expandSegment(n,A,i,x,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,i,s,l,f,x){const{matched:A,consumedSegments:B,lastChild:q,positionalParamSegments:vt}=rD(i,l,f);if(!A)return aD(i);const Tt=this.applyRedirectCommands(B,l.redirectTo,vt);return l.redirectTo.startsWith("/")?m5(Tt):this.lineralizeSegments(l,Tt).pipe(he(Wt=>this.expandSegment(n,i,s,Wt.concat(f.slice(q)),x,!1)))}matchSegmentAgainstRoute(n,i,s,l,f){if("**"===s.path)return s.loadChildren?(s._loadedConfig?fr(s._loadedConfig):this.configLoader.load(n.injector,s)).pipe(W(Wt=>(s._loadedConfig=Wt,new Wo(l,{})))):fr(new Wo(l,{}));const{matched:x,consumedSegments:A,lastChild:B}=rD(i,s,l);if(!x)return aD(i);const q=l.slice(B);return this.getChildConfig(n,s,l).pipe(he(Tt=>{const Wt=Tt.module,ne=Tt.routes,{segmentGroup:ce,slicedSegments:Ae}=oD(i,A,q,ne),Te=new Wo(ce.segments,ce.children);if(0===Ae.length&&Te.hasChildren())return this.expandChildren(Wt,ne,Te).pipe(W(Zi=>new Wo(A,Zi)));if(0===ne.length&&0===Ae.length)return fr(new Wo(A,{}));const ri=tp(s)===f;return this.expandSegment(Wt,Te,ne,Ae,ri?Oo:f,!0).pipe(W(ji=>new Wo(A.concat(ji.segments),ji.children)))}))}getChildConfig(n,i,s){return i.children?fr(new bT(i.children,n)):i.loadChildren?void 0!==i._loadedConfig?fr(i._loadedConfig):this.runCanLoadGuards(n.injector,i,s).pipe(he(l=>{return l?this.configLoader.load(n.injector,i).pipe(W(f=>(i._loadedConfig=f,f))):(r=i,new y(n=>n.error(cT(`Cannot load children because the guard of the route "path: '${r.path}'" returned false`))));var r})):fr(new bT([],n))}runCanLoadGuards(n,i,s){const l=i.canLoad;return l&&0!==l.length?fr(l.map(x=>{const A=n.get(x);let B;if((r=A)&&Gy(r.canLoad))B=A.canLoad(i,s);else{if(!Gy(A))throw new Error("Invalid CanLoad guard");B=A(i,s)}var r;return pm(B)})).pipe(QM(),Sl(x=>{if(!Rx(x))return;const A=cT(`Redirecting to "${this.urlSerializer.serialize(x)}"`);throw A.url=x,A}),W(x=>!0===x)):fr(!0)}lineralizeSegments(n,i){let s=[],l=i.root;for(;;){if(s=s.concat(l.segments),0===l.numberOfChildren)return fr(s);if(l.numberOfChildren>1||!l.children[Oo])return _Z(n.redirectTo);l=l.children[Oo]}}applyRedirectCommands(n,i,s){return this.applyRedirectCreatreUrlTree(i,this.urlSerializer.parse(i),n,s)}applyRedirectCreatreUrlTree(n,i,s,l){const f=this.createSegmentGroup(n,i.root,s,l);return new Px(f,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(n,i){const s={};return ou(n,(l,f)=>{if("string"==typeof l&&l.startsWith(":")){const A=l.substring(1);s[f]=i[A]}else s[f]=l}),s}createSegmentGroup(n,i,s,l){const f=this.createSegments(n,i.segments,s,l);let x={};return ou(i.children,(A,B)=>{x[B]=this.createSegmentGroup(n,A,s,l)}),new Wo(f,x)}createSegments(n,i,s,l){return i.map(f=>f.path.startsWith(":")?this.findPosParam(n,f,l):this.findOrReturn(f,s))}findPosParam(n,i,s){const l=s[i.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${n}'. Cannot find '${i.path}'.`);return l}findOrReturn(n,i){let s=0;for(const l of i){if(l.path===n.path)return i.splice(s),l;s++}return n}}function CT(r){const n={};for(const s of Object.keys(r.children)){const f=CT(r.children[s]);(f.segments.length>0||f.hasChildren())&&(n[s]=f)}return function(r){if(1===r.numberOfChildren&&r.children[Oo]){const n=r.children[Oo];return new Wo(r.segments.concat(n.segments),n.children)}return r}(new Wo(r.segments,n))}class g5{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class lD{constructor(n,i){this.component=n,this.route=i}}function kZ(r,n,i){const s=r._root;return n2(s,n?n._root:null,i,[s.value])}function hD(r,n,i){const s=function(r){if(!r)return null;for(let n=r.parent;n;n=n.parent){const i=n.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig}return null}(n);return(s?s.module.injector:i).get(r)}function n2(r,n,i,s,l={canDeactivateChecks:[],canActivateChecks:[]}){const f=Fb(n);return r.children.forEach(x=>{(function(r,n,i,s,l={canDeactivateChecks:[],canActivateChecks:[]}){const f=r.value,x=n?n.value:null,A=i?i.getContext(r.value.outlet):null;if(x&&f.routeConfig===x.routeConfig){const B=function(r,n,i){if("function"==typeof i)return i(r,n);switch(i){case"pathParamsChange":return!Ix(r.url,n.url);case"pathParamsOrQueryParamsChange":return!Ix(r.url,n.url)||!dm(r.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vT(r,n)||!dm(r.queryParams,n.queryParams);default:return!vT(r,n)}}(x,f,f.routeConfig.runGuardsAndResolvers);B?l.canActivateChecks.push(new g5(s)):(f.data=x.data,f._resolvedData=x._resolvedData),n2(r,n,f.component?A?A.children:null:i,s,l),B&&A&&A.outlet&&A.outlet.isActivated&&l.canDeactivateChecks.push(new lD(A.outlet.component,x))}else x&&r2(n,A,l),l.canActivateChecks.push(new g5(s)),n2(r,null,f.component?A?A.children:null:i,s,l)})(x,f[x.value.outlet],i,s.concat([x.value]),l),delete f[x.value.outlet]}),ou(f,(x,A)=>r2(x,i.getContext(A),l)),l}function r2(r,n,i){const s=Fb(r),l=r.value;ou(s,(f,x)=>{r2(f,l.component?n?n.children.getContext(x):null:n,i)}),i.canDeactivateChecks.push(new lD(l.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,l))}class zZ{}function v5(r){return new y(n=>n.error(r))}class UZ{constructor(n,i,s,l,f,x){this.rootComponentType=n,this.config=i,this.urlTree=s,this.url=l,this.paramsInheritanceStrategy=f,this.relativeLinkResolution=x}recognize(){const n=oD(this.urlTree.root,[],[],this.config.filter(x=>void 0===x.redirectTo),this.relativeLinkResolution).segmentGroup,i=this.processSegmentGroup(this.config,n,Oo);if(null===i)return null;const s=new eD([],Object.freeze({}),Object.freeze(Dn({},this.urlTree.queryParams)),this.urlTree.fragment,{},Oo,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new Qg(s,i),f=new e5(this.url,l);return this.inheritParamsAndData(f._root),f}inheritParamsAndData(n){const i=n.value,s=t5(i,this.paramsInheritanceStrategy);i.params=Object.freeze(s.params),i.data=Object.freeze(s.data),n.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(n,i,s){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,i):this.processSegment(n,i,i.segments,s)}processChildren(n,i){const s=[];for(const f of Object.keys(i.children)){const x=i.children[f],A=u5(n,f),B=this.processSegmentGroup(A,x,f);if(null===B)return null;s.push(...B)}const l=y5(s);return l.sort((n,i)=>n.value.outlet===Oo?-1:i.value.outlet===Oo?1:n.value.outlet.localeCompare(i.value.outlet)),l}processSegment(n,i,s,l){for(const f of n){const x=this.processSegmentAgainstRoute(f,i,s,l);if(null!==x)return x}return d5(i,s,l)?[]:null}processSegmentAgainstRoute(n,i,s,l){if(n.redirectTo||!f5(n,i,s,l))return null;let f,x=[],A=[];if("**"===n.path){const ne=s.length>0?jO(s).parameters:{};f=new eD(s,ne,Object.freeze(Dn({},this.urlTree.queryParams)),this.urlTree.fragment,b5(n),tp(n),n.component,n,x5(i),w5(i)+s.length,_5(n))}else{const ne=rD(i,n,s);if(!ne.matched)return null;x=ne.consumedSegments,A=s.slice(ne.lastChild),f=new eD(x,ne.parameters,Object.freeze(Dn({},this.urlTree.queryParams)),this.urlTree.fragment,b5(n),tp(n),n.component,n,x5(i),w5(i)+x.length,_5(n))}const B=(r=n).children?r.children:r.loadChildren?r._loadedConfig.routes:[],{segmentGroup:q,slicedSegments:vt}=oD(i,x,A,B.filter(ne=>void 0===ne.redirectTo),this.relativeLinkResolution);var r;if(0===vt.length&&q.hasChildren()){const ne=this.processChildren(B,q);return null===ne?null:[new Qg(f,ne)]}if(0===B.length&&0===vt.length)return[new Qg(f,[])];const Tt=tp(n)===l,Wt=this.processSegment(B,q,vt,Tt?Oo:l);return null===Wt?null:[new Qg(f,Wt)]}}function YZ(r){const n=r.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function y5(r){const n=[],i=new Set;for(const s of r){if(!YZ(s)){n.push(s);continue}const l=n.find(f=>s.value.routeConfig===f.value.routeConfig);void 0!==l?(l.children.push(...s.children),i.add(l)):n.push(s)}for(const s of i){const l=y5(s.children);n.push(new Qg(s.value,l))}return n.filter(s=>!i.has(s))}function x5(r){let n=r;for(;n._sourceSegment;)n=n._sourceSegment;return n}function w5(r){let n=r,i=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,i+=n._segmentIndexShift?n._segmentIndexShift:0;return i-1}function b5(r){return r.data||{}}function _5(r){return r.resolve||{}}function ST(r){return ru(n=>{const i=r(n);return i?wr(i).pipe(W(()=>n)):fr(n)})}class tq extends class{shouldDetach(n){return!1}store(n,i){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,i){return n.routeConfig===i.routeConfig}}{}const DT=new pn("ROUTES");class M5{constructor(n,i,s,l){this.injector=n,this.compiler=i,this.onLoadStartListener=s,this.onLoadEndListener=l}load(n,i){if(i._loader$)return i._loader$;this.onLoadStartListener&&this.onLoadStartListener(i);const l=this.loadModuleFactory(i.loadChildren).pipe(W(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);const x=f.create(n);return new bT(VO(x.injector.get(DT,void 0,dr.Self|dr.Optional)).map(MT),x)}),Zg(f=>{throw i._loader$=void 0,f}));return i._loader$=new pK(l,()=>new C).pipe(TO()),i._loader$}loadModuleFactory(n){return pm(n()).pipe(he(i=>i instanceof V3?fr(i):wr(this.compiler.compileModuleAsync(i))))}}class iq{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}}function nq(r){throw r}function rq(r,n,i){return n.parse("/")}function C5(r,n){return fr(null)}const oq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let uf=(()=>{class r{constructor(i,s,l,f,x,A,B){this.rootComponentType=i,this.urlSerializer=s,this.rootContexts=l,this.location=f,this.config=B,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new C,this.errorHandler=nq,this.malformedUriErrorHandler=rq,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:C5,afterPreactivation:C5},this.urlHandlingStrategy=new iq,this.routeReuseStrategy=new tq,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=x.get(lm),this.console=x.get(uC);const Tt=x.get(Cr);this.isNgZoneEnabled=Tt instanceof Cr&&Cr.isInAngularZone(),this.resetConfig(B),this.currentUrlTree=new Px(new Wo([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new M5(x,A,Wt=>this.triggerEvent(new OO(Wt)),Wt=>this.triggerEvent(new NO(Wt))),this.routerState=QO(this.currentUrlTree,this.rootComponentType),this.transitions=new iu({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var i;return null==(i=this.location.getState())?void 0:i.\u0275routerPageId}setupNavigations(i){const s=this.events;return i.pipe(Ks(l=>0!==l.id),W(l=>Zl(Dn({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),ru(l=>{let f=!1,x=!1;return fr(l).pipe(Sl(A=>{this.currentNavigation={id:A.id,initialUrl:A.currentRawUrl,extractedUrl:A.extractedUrl,trigger:A.source,extras:A.extras,previousNavigation:this.lastSuccessfulNavigation?Zl(Dn({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ru(A=>{const B=this.browserUrlTree.toString(),q=!this.navigated||A.extractedUrl.toString()!==B||B!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||q)&&this.urlHandlingStrategy.shouldProcessUrl(A.rawUrl))return uD(A.source)&&(this.browserUrlTree=A.extractedUrl),fr(A).pipe(ru(Tt=>{const Wt=this.transitions.getValue();return s.next(new uT(Tt.id,this.serializeUrl(Tt.extractedUrl),Tt.source,Tt.restoredState)),Wt!==this.transitions.getValue()?$e:Promise.resolve(Tt)}),function(r,n,i,s){return ru(l=>function(r,n,i,s,l){return new SZ(r,n,i,s,l).apply()}(r,n,i,l.extractedUrl,s).pipe(W(f=>Zl(Dn({},l),{urlAfterRedirects:f}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Sl(Tt=>{this.currentNavigation=Zl(Dn({},this.currentNavigation),{finalUrl:Tt.urlAfterRedirects})}),function(r,n,i,s,l){return he(f=>function(r,n,i,s,l="emptyOnly",f="legacy"){try{const x=new UZ(r,n,i,s,l,f).recognize();return null===x?v5(new zZ):fr(x)}catch(x){return v5(x)}}(r,n,f.urlAfterRedirects,i(f.urlAfterRedirects),s,l).pipe(W(x=>Zl(Dn({},f),{targetSnapshot:x}))))}(this.rootComponentType,this.config,Tt=>this.serializeUrl(Tt),this.paramsInheritanceStrategy,this.relativeLinkResolution),Sl(Tt=>{if("eager"===this.urlUpdateStrategy){if(!Tt.extras.skipLocationChange){const ne=this.urlHandlingStrategy.merge(Tt.urlAfterRedirects,Tt.rawUrl);this.setBrowserUrl(ne,Tt)}this.browserUrlTree=Tt.urlAfterRedirects}const Wt=new xK(Tt.id,this.serializeUrl(Tt.extractedUrl),this.serializeUrl(Tt.urlAfterRedirects),Tt.targetSnapshot);s.next(Wt)}));if(q&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Wt,extractedUrl:ne,source:ce,restoredState:Ae,extras:Te}=A,ri=new uT(Wt,this.serializeUrl(ne),ce,Ae);s.next(ri);const oi=QO(ne,this.rootComponentType).snapshot;return fr(Zl(Dn({},A),{targetSnapshot:oi,urlAfterRedirects:ne,extras:Zl(Dn({},Te),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=A.rawUrl,A.resolve(null),$e}),ST(A=>{const{targetSnapshot:B,id:q,extractedUrl:vt,rawUrl:Tt,extras:{skipLocationChange:Wt,replaceUrl:ne}}=A;return this.hooks.beforePreactivation(B,{navigationId:q,appliedUrlTree:vt,rawUrlTree:Tt,skipLocationChange:!!Wt,replaceUrl:!!ne})}),Sl(A=>{const B=new wK(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);this.triggerEvent(B)}),W(A=>Zl(Dn({},A),{guards:kZ(A.targetSnapshot,A.currentSnapshot,this.rootContexts)})),function(r,n){return he(i=>{const{targetSnapshot:s,currentSnapshot:l,guards:{canActivateChecks:f,canDeactivateChecks:x}}=i;return 0===x.length&&0===f.length?fr(Zl(Dn({},i),{guardsResult:!0})):function(r,n,i,s){return wr(r).pipe(he(l=>function(r,n,i,s,l){const f=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return f&&0!==f.length?fr(f.map(A=>{const B=hD(A,n,l);let q;if(function(r){return r&&Gy(r.canDeactivate)}(B))q=pm(B.canDeactivate(r,n,i,s));else{if(!Gy(B))throw new Error("Invalid CanDeactivate guard");q=pm(B(r,n,i,s))}return q.pipe(Tx())})).pipe(QM()):fr(!0)}(l.component,l.route,i,n,s)),Tx(l=>!0!==l,!0))}(x,s,l,r).pipe(he(A=>A&&function(r){return"boolean"==typeof r}(A)?function(r,n,i,s){return wr(n).pipe(Rb(l=>pM(function(r,n){return null!==r&&n&&n(new CK(r)),fr(!0)}(l.route.parent,s),function(r,n){return null!==r&&n&&n(new DK(r)),fr(!0)}(l.route,s),function(r,n,i){const s=n[n.length-1],f=n.slice(0,n.length-1).reverse().map(x=>function(r){const n=r.routeConfig?r.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:r,guards:n}:null}(x)).filter(x=>null!==x).map(x=>YS(()=>fr(x.guards.map(B=>{const q=hD(B,x.node,i);let vt;if(function(r){return r&&Gy(r.canActivateChild)}(q))vt=pm(q.canActivateChild(s,r));else{if(!Gy(q))throw new Error("Invalid CanActivateChild guard");vt=pm(q(s,r))}return vt.pipe(Tx())})).pipe(QM())));return fr(f).pipe(QM())}(r,l.path,i),function(r,n,i){const s=n.routeConfig?n.routeConfig.canActivate:null;if(!s||0===s.length)return fr(!0);const l=s.map(f=>YS(()=>{const x=hD(f,n,i);let A;if(function(r){return r&&Gy(r.canActivate)}(x))A=pm(x.canActivate(n,r));else{if(!Gy(x))throw new Error("Invalid CanActivate guard");A=pm(x(n,r))}return A.pipe(Tx())}));return fr(l).pipe(QM())}(r,l.route,i))),Tx(l=>!0!==l,!0))}(s,f,r,n):fr(A)),W(A=>Zl(Dn({},i),{guardsResult:A})))})}(this.ngModule.injector,A=>this.triggerEvent(A)),Sl(A=>{if(Rx(A.guardsResult)){const q=cT(`Redirecting to "${this.serializeUrl(A.guardsResult)}"`);throw q.url=A.guardsResult,q}const B=new bK(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot,!!A.guardsResult);this.triggerEvent(B)}),Ks(A=>!!A.guardsResult||(this.restoreHistory(A),this.cancelNavigationTransition(A,""),!1)),ST(A=>{if(A.guards.canActivateChecks.length)return fr(A).pipe(Sl(B=>{const q=new _K(B.id,this.serializeUrl(B.extractedUrl),this.serializeUrl(B.urlAfterRedirects),B.targetSnapshot);this.triggerEvent(q)}),ru(B=>{let q=!1;return fr(B).pipe(function(r,n){return he(i=>{const{targetSnapshot:s,guards:{canActivateChecks:l}}=i;if(!l.length)return fr(i);let f=0;return wr(l).pipe(Rb(x=>function(r,n,i,s){return function(r,n,i,s){const l=Object.keys(r);if(0===l.length)return fr({});const f={};return wr(l).pipe(he(x=>function(r,n,i,s){const l=hD(r,n,s);return pm(l.resolve?l.resolve(n,i):l(n,i))}(r[x],n,i,s).pipe(Sl(A=>{f[x]=A}))),lT(1),he(()=>Object.keys(f).length===l.length?fr(f):$e))}(r._resolve,r,n,s).pipe(W(f=>(r._resolvedData=f,r.data=Dn(Dn({},r.data),t5(r,i).resolve),null)))}(x.route,s,r,n)),Sl(()=>f++),lT(1),he(x=>f===l.length?fr(i):$e))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Sl({next:()=>q=!0,complete:()=>{q||(this.restoreHistory(B),this.cancelNavigationTransition(B,"At least one route resolver didn't emit any value."))}}))}),Sl(B=>{const q=new MK(B.id,this.serializeUrl(B.extractedUrl),this.serializeUrl(B.urlAfterRedirects),B.targetSnapshot);this.triggerEvent(q)}))}),ST(A=>{const{targetSnapshot:B,id:q,extractedUrl:vt,rawUrl:Tt,extras:{skipLocationChange:Wt,replaceUrl:ne}}=A;return this.hooks.afterPreactivation(B,{navigationId:q,appliedUrlTree:vt,rawUrlTree:Tt,skipLocationChange:!!Wt,replaceUrl:!!ne})}),W(A=>{const B=function(r,n,i){const s=ZM(r,n._root,i?i._root:void 0);return new JO(s,n)}(this.routeReuseStrategy,A.targetSnapshot,A.currentRouterState);return Zl(Dn({},A),{targetRouterState:B})}),Sl(A=>{this.currentUrlTree=A.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl),this.routerState=A.targetRouterState,"deferred"===this.urlUpdateStrategy&&(A.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,A),this.browserUrlTree=A.urlAfterRedirects)}),((r,n,i)=>W(s=>(new aZ(n,s.targetRouterState,s.currentRouterState,i).activate(r),s)))(this.rootContexts,this.routeReuseStrategy,A=>this.triggerEvent(A)),Sl({next(){f=!0},complete(){f=!0}}),Z8(()=>{var A;f||x||this.cancelNavigationTransition(l,`Navigation ID ${l.id} is not equal to the current navigation id ${this.navigationId}`),(null==(A=this.currentNavigation)?void 0:A.id)===l.id&&(this.currentNavigation=null)}),Zg(A=>{if(x=!0,function(r){return r&&r[FO]}(A)){const B=Rx(A.url);B||(this.navigated=!0,this.restoreHistory(l,!0));const q=new RO(l.id,this.serializeUrl(l.extractedUrl),A.message);s.next(q),B?setTimeout(()=>{const vt=this.urlHandlingStrategy.merge(A.url,this.rawUrlTree),Tt={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||uD(l.source)};this.scheduleNavigation(vt,"imperative",null,Tt,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{this.restoreHistory(l,!0);const B=new yK(l.id,this.serializeUrl(l.extractedUrl),A);s.next(B);try{l.resolve(this.errorHandler(A))}catch(q){l.reject(q)}}return $e}))}))}resetRootComponentType(i){this.rootComponentType=i,this.routerState.root.component=this.rootComponentType}setTransition(i){this.transitions.next(Dn(Dn({},this.transitions.value),i))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const s="popstate"===i.type?"popstate":"hashchange";"popstate"===s&&setTimeout(()=>{var A;const l={replaceUrl:!0},f=(null==(A=i.state)?void 0:A.navigationId)?i.state:null;if(f){const B=Dn({},f);delete B.navigationId,delete B.\u0275routerPageId,0!==Object.keys(B).length&&(l.state=B)}const x=this.parseUrl(i.url);this.scheduleNavigation(x,s,f,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(i){this.events.next(i)}resetConfig(i){h5(i),this.config=i.map(MT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,s={}){const{relativeTo:l,queryParams:f,fragment:x,queryParamsHandling:A,preserveFragment:B}=s,q=l||this.routerState.root,vt=B?this.currentUrlTree.fragment:x;let Tt=null;switch(A){case"merge":Tt=Dn(Dn({},this.currentUrlTree.queryParams),f);break;case"preserve":Tt=this.currentUrlTree.queryParams;break;default:Tt=f||null}return null!==Tt&&(Tt=this.removeEmptyProps(Tt)),function(r,n,i,s,l){if(0===i.length)return yT(n.root,n.root,n,s,l);const f=function(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new r5(!0,0,r);let n=0,i=!1;const s=r.reduce((l,f,x)=>{if("object"==typeof f&&null!=f){if(f.outlets){const A={};return ou(f.outlets,(B,q)=>{A[q]="string"==typeof B?B.split("/"):B}),[...l,{outlets:A}]}if(f.segmentPath)return[...l,f.segmentPath]}return"string"!=typeof f?[...l,f]:0===x?(f.split("/").forEach((A,B)=>{0==B&&"."===A||(0==B&&""===A?i=!0:".."===A?n++:""!=A&&l.push(A))}),l):[...l,f]},[]);return new r5(i,n,s)}(i);if(f.toRoot())return yT(n.root,new Wo([],{}),n,s,l);const x=function(r,n,i){if(r.isAbsolute)return new xT(n.root,!0,0);if(-1===i.snapshot._lastPathIndex){const f=i.snapshot._urlSegment;return new xT(f,f===n.root,0)}const s=iD(r.commands[0])?0:1;return function(r,n,i){let s=r,l=n,f=i;for(;f>l;){if(f-=l,s=s.parent,!s)throw new Error("Invalid number of '../'");l=s.segments.length}return new xT(s,!1,l-f)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+s,r.numberOfDoubleDots)}(f,n,r),A=x.processChildren?nD(x.segmentGroup,x.index,f.commands):o5(x.segmentGroup,x.index,f.commands);return yT(x.segmentGroup,A,n,s,l)}(q,this.currentUrlTree,i,Tt,null!=vt?vt:null)}navigateByUrl(i,s={skipLocationChange:!1}){const l=Rx(i)?i:this.parseUrl(i),f=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(f,"imperative",null,s)}navigate(i,s={skipLocationChange:!1}){return function(r){for(let n=0;n<r.length;n++){const i=r[n];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${n}`)}}(i),this.navigateByUrl(this.createUrlTree(i,s),s)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let s;try{s=this.urlSerializer.parse(i)}catch(l){s=this.malformedUriErrorHandler(l,this.urlSerializer,i)}return s}isActive(i,s){let l;if(l=!0===s?Dn({},oq):!1===s?Dn({},sq):s,Rx(i))return HO(this.currentUrlTree,i,l);const f=this.parseUrl(i);return HO(this.currentUrlTree,f,l)}removeEmptyProps(i){return Object.keys(i).reduce((s,l)=>{const f=i[l];return null!=f&&(s[l]=f),s},{})}processNavigations(){this.navigations.subscribe(i=>{this.navigated=!0,this.lastSuccessfulId=i.id,this.currentPageId=i.targetPageId,this.events.next(new $M(i.id,this.serializeUrl(i.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,i.resolve(!0)},i=>{this.console.warn(`Unhandled Navigation Error: ${i}`)})}scheduleNavigation(i,s,l,f,x){var ri,oi,ji;if(this.disposed)return Promise.resolve(!1);const A=this.transitions.value,B=uD(s)&&A&&!uD(A.source),q=A.rawUrl.toString()===i.toString(),vt=A.id===(null==(ri=this.currentNavigation)?void 0:ri.id);if(B&&q&&vt)return Promise.resolve(!0);let Wt,ne,ce;x?(Wt=x.resolve,ne=x.reject,ce=x.promise):ce=new Promise((Zi,Di)=>{Wt=Zi,ne=Di});const Ae=++this.navigationId;let Te;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),Te=l&&l.\u0275routerPageId?l.\u0275routerPageId:f.replaceUrl||f.skipLocationChange?null!=(oi=this.browserPageId)?oi:0:(null!=(ji=this.browserPageId)?ji:0)+1):Te=0,this.setTransition({id:Ae,targetPageId:Te,source:s,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:i,extras:f,resolve:Wt,reject:ne,promise:ce,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ce.catch(Zi=>Promise.reject(Zi))}setBrowserUrl(i,s){const l=this.urlSerializer.serialize(i),f=Dn(Dn({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(l)||s.extras.replaceUrl?this.location.replaceState(l,"",f):this.location.go(l,"",f)}restoreHistory(i,s=!1){var l,f;if("computed"===this.canceledNavigationResolution){const x=this.currentPageId-i.targetPageId;"popstate"!==i.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(l=this.currentNavigation)?void 0:l.finalUrl)||0===x?this.currentUrlTree===(null==(f=this.currentNavigation)?void 0:f.finalUrl)&&0===x&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(x)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(i,s){const l=new RO(i.id,this.serializeUrl(i.extractedUrl),s);this.triggerEvent(l),i.resolve(!1)}generateNgRouterState(i,s){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:s}:{navigationId:i}}}return r.\u0275fac=function(i){im()},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})();function uD(r){return"imperative"!==r}class S5{}class D5{preload(n,i){return fr(null)}}let E5=(()=>{class r{constructor(i,s,l,f){this.router=i,this.injector=l,this.preloadingStrategy=f,this.loader=new M5(l,s,B=>i.triggerEvent(new OO(B)),B=>i.triggerEvent(new NO(B)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ks(i=>i instanceof $M),Rb(()=>this.preload())).subscribe(()=>{})}preload(){const i=this.injector.get(lm);return this.processRoutes(i,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,s){const l=[];for(const f of s)if(f.loadChildren&&!f.canLoad&&f._loadedConfig){const x=f._loadedConfig;l.push(this.processRoutes(x.module,x.routes))}else f.loadChildren&&!f.canLoad?l.push(this.preloadConfig(i,f)):f.children&&l.push(this.processRoutes(i,f.children));return wr(l).pipe(Se(),W(f=>{}))}preloadConfig(i,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?fr(s._loadedConfig):this.loader.load(i.injector,s)).pipe(he(f=>(s._loadedConfig=f,this.processRoutes(f.module,f.routes)))))}}return r.\u0275fac=function(i){return new(i||r)(gi(uf),gi(cC),gi(Ro),gi(S5))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})(),AT=(()=>{class r{constructor(i,s,l={}){this.router=i,this.viewportScroller=s,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(i=>{i instanceof uT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof $M&&(this.lastId=i.id,this.scheduleScrollEvent(i,this.router.parseUrl(i.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(i=>{i instanceof LO&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,s){this.router.triggerEvent(new LO(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return r.\u0275fac=function(i){im()},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})();const Ox=new pn("ROUTER_CONFIGURATION"),k5=new pn("ROUTER_FORROOT_GUARD"),cq=[DC,{provide:YO,useClass:$O},{provide:uf,useFactory:function(r,n,i,s,l,f,x={},A,B){const q=new uf(null,r,n,i,s,l,VO(f));return A&&(q.urlHandlingStrategy=A),B&&(q.routeReuseStrategy=B),function(r,n){r.errorHandler&&(n.errorHandler=r.errorHandler),r.malformedUriErrorHandler&&(n.malformedUriErrorHandler=r.malformedUriErrorHandler),r.onSameUrlNavigation&&(n.onSameUrlNavigation=r.onSameUrlNavigation),r.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=r.paramsInheritanceStrategy),r.relativeLinkResolution&&(n.relativeLinkResolution=r.relativeLinkResolution),r.urlUpdateStrategy&&(n.urlUpdateStrategy=r.urlUpdateStrategy),r.canceledNavigationResolution&&(n.canceledNavigationResolution=r.canceledNavigationResolution)}(x,q),x.enableTracing&&q.events.subscribe(vt=>{var Tt,Wt;null==(Tt=console.group)||Tt.call(console,`Router Event: ${vt.constructor.name}`),console.log(vt.toString()),console.log(vt),null==(Wt=console.groupEnd)||Wt.call(console)}),q},deps:[YO,t2,DC,Ro,cC,DT,Ox,[class{},new ls],[class{},new ls]]},t2,{provide:tv,useFactory:function(r){return r.routerState.root},deps:[uf]},E5,D5,class{preload(n,i){return i().pipe(Zg(()=>fr(null)))}},{provide:Ox,useValue:{enableTracing:!1}}];function fq(){return new xE("Router",uf)}let A5=(()=>{class r{constructor(i,s){}static forRoot(i,s){return{ngModule:r,providers:[cq,T5(i),{provide:k5,useFactory:mq,deps:[[uf,new ls,new eh]]},{provide:Ox,useValue:s||{}},{provide:gb,useFactory:pq,deps:[vx,[new Nl(KE),new ls],Ox]},{provide:AT,useFactory:dq,deps:[uf,Dj,Ox]},{provide:S5,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:D5},{provide:xE,multi:!0,useFactory:fq},[TT,{provide:X_,multi:!0,useFactory:xq,deps:[TT]},{provide:P5,useFactory:wq,deps:[TT]},{provide:bP,multi:!0,useExisting:P5}]]}}static forChild(i){return{ngModule:r,providers:[T5(i)]}}}return r.\u0275fac=function(i){return new(i||r)(gi(k5,8),gi(uf,8))},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({}),r})();function dq(r,n,i){return i.scrollOffset&&n.setOffset(i.scrollOffset),new AT(r,n,i)}function pq(r,n,i={}){return i.useHash?new dV(r,n):new O4(r,n)}function mq(r){return"guarded"}function T5(r){return[{provide:Gm,multi:!0,useValue:r},{provide:DT,multi:!0,useValue:r}]}let TT=(()=>{class r{constructor(i){this.injector=i,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new C}appInitializer(){return this.injector.get(uV,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const l=new Promise(A=>s=A),f=this.injector.get(uf),x=this.injector.get(Ox);return"disabled"===x.initialNavigation?(f.setUpLocationChangeListener(),s(!0)):"enabled"===x.initialNavigation||"enabledBlocking"===x.initialNavigation?(f.hooks.afterPreactivation=()=>this.initNavigation?fr(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),f.initialNavigation()):s(!0),l})}bootstrapListener(i){const s=this.injector.get(Ox),l=this.injector.get(E5),f=this.injector.get(AT),x=this.injector.get(uf),A=this.injector.get(fx);i===A.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&x.initialNavigation(),l.setUpPreloading(),f.init(),x.resetRootComponentType(A.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return r.\u0275fac=function(i){return new(i||r)(gi(Ro))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})();function xq(r){return r.appInitializer.bind(r)}function wq(r){return r.bootstrapListener.bind(r)}const P5=new pn("Router Initializer");function I5(r,n,i,s,l,f,x){try{var A=r[f](x),B=A.value}catch(q){return void i(q)}A.done?n(B):Promise.resolve(B).then(s,l)}function mc(r){return function(){var n=this,i=arguments;return new Promise(function(s,l){var f=r.apply(n,i);function x(B){I5(f,s,l,x,A,"next",B)}function A(B){I5(f,s,l,x,A,"throw",B)}x(void 0)})}}function Vb(r,n){const i="object"==typeof n;return new Promise((s,l)=>{const f=new lt({next:x=>{s(x),f.unsubscribe()},error:l,complete:()=>{i?s(n.defaultValue):l(new YM)}});r.subscribe(f)})}var ev=(()=>{return(r=ev||(ev={})).highchartsNetworkgraph="highcharts networkgraph",r.gojsConceptMap="gojs conceptMap",r.cytoscape="cytoscape",ev;var r})(),ed=(()=>{return(r=ed||(ed={})).start="start",r.end="end",r.related="related",r.otherDance="other dance",ed;var r})();const _q=/([0-9]{2})\.([0-9]{2})\.([0-9]{4})/,Mq=/[A-Za-z0-9\s]+\![A-Z]+[0-9]+\:[A-Z]+([0-9]+)/,R5=r=>{r=null==r?void 0:r.trim();const n=_q.exec(r);n&&(r=`${n[3]}-${n[2]}-${n[1]}`);const i=new Date(r);return"Invalid Date"==(null==i?void 0:i.toString())?null:i},O5=r=>(console.log(r),!r||isNaN(r.getTime())?"":`${r.getDate()}.${r.getMonth()+1}.${r.getFullYear()}`),Cq=r=>"true"==(r=null==r?void 0:r.toLowerCase())||"wahr"==r,Sq=r=>new Promise(n=>setTimeout(n,r)),N5=r=>{r=null==r?void 0:r.trim();const n=Mq.exec(r);return n?(console.log(n),Number(n[1])):NaN};var Dq=Ft(3783),ep=(()=>{return(r=ep||(ep={})).read="read",r.write="write",r.test="test",ep;var r})();class Kl{static create(...n){return new this(...n)}mixIn(n){return Object.assign(this,n)}clone(){const n=new this.constructor;return Object.assign(n,this),n}}class Bo extends Kl{constructor(n=[],i=4*n.length){super();let s=n;if(s instanceof ArrayBuffer&&(s=new Uint8Array(s)),(s instanceof Int8Array||s instanceof Uint8ClampedArray||s instanceof Int16Array||s instanceof Uint16Array||s instanceof Int32Array||s instanceof Uint32Array||s instanceof Float32Array||s instanceof Float64Array)&&(s=new Uint8Array(s.buffer,s.byteOffset,s.byteLength)),s instanceof Uint8Array){const l=s.byteLength,f=[];for(let x=0;x<l;x+=1)f[x>>>2]|=s[x]<<24-x%4*8;this.words=f,this.sigBytes=l}else this.words=n,this.sigBytes=i}static random(n){const i=[],s=l=>{let f=l,x=987654321;const A=4294967295;return()=>{x=36969*(65535&x)+(x>>16)&A,f=18e3*(65535&f)+(f>>16)&A;let B=(x<<16)+f&A;return B/=4294967296,B+=.5,B*(Math.random()>.5?1:-1)}};for(let f,l=0;l<n;l+=4){const x=s(4294967296*(f||Math.random()));f=987654071*x(),i.push(4294967296*x()|0)}return new Bo(i,n)}toString(n=cD){return n.stringify(this)}concat(n){const i=this.words,s=n.words,l=this.sigBytes,f=n.sigBytes;if(this.clamp(),l%4)for(let x=0;x<f;x+=1)i[l+x>>>2]|=(s[x>>>2]>>>24-x%4*8&255)<<24-(l+x)%4*8;else for(let x=0;x<f;x+=4)i[l+x>>>2]=s[x>>>2];return this.sigBytes+=f,this}clamp(){const{words:n,sigBytes:i}=this;n[i>>>2]&=4294967295<<32-i%4*8,n.length=Math.ceil(i/4)}clone(){const n=super.clone.call(this);return n.words=this.words.slice(0),n}}const cD={stringify(r){const{words:n,sigBytes:i}=r,s=[];for(let l=0;l<i;l+=1){const f=n[l>>>2]>>>24-l%4*8&255;s.push((f>>>4).toString(16)),s.push((15&f).toString(16))}return s.join("")},parse(r){const n=r.length,i=[];for(let s=0;s<n;s+=2)i[s>>>3]|=parseInt(r.substr(s,2),16)<<24-s%8*4;return new Bo(i,n/2)}},PT={stringify(r){const{words:n,sigBytes:i}=r,s=[];for(let l=0;l<i;l+=1)s.push(String.fromCharCode(n[l>>>2]>>>24-l%4*8&255));return s.join("")},parse(r){const n=r.length,i=[];for(let s=0;s<n;s+=1)i[s>>>2]|=(255&r.charCodeAt(s))<<24-s%4*8;return new Bo(i,n)}},IT={stringify(r){try{return decodeURIComponent(escape(PT.stringify(r)))}catch(n){throw new Error("Malformed UTF-8 data")}},parse:r=>PT.parse(unescape(encodeURIComponent(r)))};class RT extends Kl{constructor(){super(),this._minBufferSize=0}reset(){this._data=new Bo,this._nDataBytes=0}_append(n){let i=n;"string"==typeof i&&(i=IT.parse(i)),this._data.concat(i),this._nDataBytes+=i.sigBytes}_process(n){let i;const{_data:s,blockSize:l}=this,f=s.words,x=s.sigBytes;let B=x/(4*l);B=n?Math.ceil(B):Math.max((0|B)-this._minBufferSize,0);const q=B*l,vt=Math.min(4*q,x);if(q){for(let Tt=0;Tt<q;Tt+=l)this._doProcessBlock(f,Tt);i=f.splice(0,q),s.sigBytes-=vt}return new Bo(i,vt)}clone(){const n=super.clone.call(this);return n._data=this._data.clone(),n}}class hh extends RT{constructor(n){super(),this.blockSize=16,this.cfg=Object.assign(new Kl,n),this.reset()}static _createHelper(n){return(i,s)=>new n(s).finalize(i)}static _createHmacHelper(n){return(i,s)=>new OT(n,s).finalize(i)}reset(){super.reset.call(this),this._doReset()}update(n){return this._append(n),this._process(),this}finalize(n){return n&&this._append(n),this._doFinalize()}}class OT extends Kl{constructor(n,i){super();const s=new n;this._hasher=s;let l=i;"string"==typeof l&&(l=IT.parse(l));const f=s.blockSize,x=4*f;l.sigBytes>x&&(l=s.finalize(i)),l.clamp();const A=l.clone();this._oKey=A;const B=l.clone();this._iKey=B;const q=A.words,vt=B.words;for(let Tt=0;Tt<f;Tt+=1)q[Tt]^=1549556828,vt[Tt]^=909522486;A.sigBytes=x,B.sigBytes=x,this.reset()}reset(){const n=this._hasher;n.reset(),n.update(this._iKey)}update(n){return this._hasher.update(n),this}finalize(n){const i=this._hasher,s=i.finalize(n);return i.reset(),i.finalize(this._oKey.clone().concat(s))}}const Eq=Bo;class ln extends Kl{constructor(n,i){super(),this.high=n,this.low=i}}class NT extends Kl{constructor(n=[],i=8*n.length){super(),this.words=n,this.sigBytes=i}toX32(){const n=this.words,i=n.length,s=[];for(let l=0;l<i;l+=1){const f=n[l];s.push(f.high),s.push(f.low)}return Eq.create(s,this.sigBytes)}clone(){const n=super.clone.call(this);n.words=this.words.slice(0);const{words:i}=n,s=i.length;for(let l=0;l<s;l+=1)i[l]=i[l].clone();return n}}const LT={stringify(r){const{words:n,sigBytes:i}=r,s=this._map;r.clamp();const l=[];for(let x=0;x<i;x+=3){const vt=(n[x>>>2]>>>24-x%4*8&255)<<16|(n[x+1>>>2]>>>24-(x+1)%4*8&255)<<8|n[x+2>>>2]>>>24-(x+2)%4*8&255;for(let Tt=0;Tt<4&&x+.75*Tt<i;Tt+=1)l.push(s.charAt(vt>>>6*(3-Tt)&63))}const f=s.charAt(64);if(f)for(;l.length%4;)l.push(f);return l.join("")},parse(r){let n=r.length;const i=this._map;let s=this._reverseMap;if(!s){this._reverseMap=[],s=this._reverseMap;for(let f=0;f<i.length;f+=1)s[i.charCodeAt(f)]=f}const l=i.charAt(64);if(l){const f=r.indexOf(l);-1!==f&&(n=f)}return((r,n,i)=>{const s=[];let l=0;for(let f=0;f<n;f+=1)if(f%4){const x=i[r.charCodeAt(f-1)]<<f%4*2,A=i[r.charCodeAt(f)]>>>6-f%4*2;s[l>>>2]|=(x|A)<<24-l%4*8,l+=1}return Bo.create(s,l)})(r,n,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},qn=[];for(let r=0;r<64;r+=1)qn[r]=4294967296*Math.abs(Math.sin(r+1))|0;const Au=(r,n,i,s,l,f,x)=>{const A=r+(n&i|~n&s)+l+x;return(A<<f|A>>>32-f)+n},Tu=(r,n,i,s,l,f,x)=>{const A=r+(n&s|i&~s)+l+x;return(A<<f|A>>>32-f)+n},Pu=(r,n,i,s,l,f,x)=>{const A=r+(n^i^s)+l+x;return(A<<f|A>>>32-f)+n},Iu=(r,n,i,s,l,f,x)=>{const A=r+(i^(n|~s))+l+x;return(A<<f|A>>>32-f)+n};class fD extends hh{_doReset(){this._hash=new Bo([1732584193,4023233417,2562383102,271733878])}_doProcessBlock(n,i){const s=n;for(let Zs=0;Zs<16;Zs+=1){const cl=i+Zs,fh=n[cl];s[cl]=16711935&(fh<<8|fh>>>24)|4278255360&(fh<<24|fh>>>8)}const l=this._hash.words,f=s[i+0],x=s[i+1],A=s[i+2],B=s[i+3],q=s[i+4],vt=s[i+5],Tt=s[i+6],Wt=s[i+7],ne=s[i+8],ce=s[i+9],Ae=s[i+10],Te=s[i+11],ri=s[i+12],oi=s[i+13],ji=s[i+14],Zi=s[i+15];let Di=l[0],Vi=l[1],Yi=l[2],rn=l[3];Di=Au(Di,Vi,Yi,rn,f,7,qn[0]),rn=Au(rn,Di,Vi,Yi,x,12,qn[1]),Yi=Au(Yi,rn,Di,Vi,A,17,qn[2]),Vi=Au(Vi,Yi,rn,Di,B,22,qn[3]),Di=Au(Di,Vi,Yi,rn,q,7,qn[4]),rn=Au(rn,Di,Vi,Yi,vt,12,qn[5]),Yi=Au(Yi,rn,Di,Vi,Tt,17,qn[6]),Vi=Au(Vi,Yi,rn,Di,Wt,22,qn[7]),Di=Au(Di,Vi,Yi,rn,ne,7,qn[8]),rn=Au(rn,Di,Vi,Yi,ce,12,qn[9]),Yi=Au(Yi,rn,Di,Vi,Ae,17,qn[10]),Vi=Au(Vi,Yi,rn,Di,Te,22,qn[11]),Di=Au(Di,Vi,Yi,rn,ri,7,qn[12]),rn=Au(rn,Di,Vi,Yi,oi,12,qn[13]),Yi=Au(Yi,rn,Di,Vi,ji,17,qn[14]),Vi=Au(Vi,Yi,rn,Di,Zi,22,qn[15]),Di=Tu(Di,Vi,Yi,rn,x,5,qn[16]),rn=Tu(rn,Di,Vi,Yi,Tt,9,qn[17]),Yi=Tu(Yi,rn,Di,Vi,Te,14,qn[18]),Vi=Tu(Vi,Yi,rn,Di,f,20,qn[19]),Di=Tu(Di,Vi,Yi,rn,vt,5,qn[20]),rn=Tu(rn,Di,Vi,Yi,Ae,9,qn[21]),Yi=Tu(Yi,rn,Di,Vi,Zi,14,qn[22]),Vi=Tu(Vi,Yi,rn,Di,q,20,qn[23]),Di=Tu(Di,Vi,Yi,rn,ce,5,qn[24]),rn=Tu(rn,Di,Vi,Yi,ji,9,qn[25]),Yi=Tu(Yi,rn,Di,Vi,B,14,qn[26]),Vi=Tu(Vi,Yi,rn,Di,ne,20,qn[27]),Di=Tu(Di,Vi,Yi,rn,oi,5,qn[28]),rn=Tu(rn,Di,Vi,Yi,A,9,qn[29]),Yi=Tu(Yi,rn,Di,Vi,Wt,14,qn[30]),Vi=Tu(Vi,Yi,rn,Di,ri,20,qn[31]),Di=Pu(Di,Vi,Yi,rn,vt,4,qn[32]),rn=Pu(rn,Di,Vi,Yi,ne,11,qn[33]),Yi=Pu(Yi,rn,Di,Vi,Te,16,qn[34]),Vi=Pu(Vi,Yi,rn,Di,ji,23,qn[35]),Di=Pu(Di,Vi,Yi,rn,x,4,qn[36]),rn=Pu(rn,Di,Vi,Yi,q,11,qn[37]),Yi=Pu(Yi,rn,Di,Vi,Wt,16,qn[38]),Vi=Pu(Vi,Yi,rn,Di,Ae,23,qn[39]),Di=Pu(Di,Vi,Yi,rn,oi,4,qn[40]),rn=Pu(rn,Di,Vi,Yi,f,11,qn[41]),Yi=Pu(Yi,rn,Di,Vi,B,16,qn[42]),Vi=Pu(Vi,Yi,rn,Di,Tt,23,qn[43]),Di=Pu(Di,Vi,Yi,rn,ce,4,qn[44]),rn=Pu(rn,Di,Vi,Yi,ri,11,qn[45]),Yi=Pu(Yi,rn,Di,Vi,Zi,16,qn[46]),Vi=Pu(Vi,Yi,rn,Di,A,23,qn[47]),Di=Iu(Di,Vi,Yi,rn,f,6,qn[48]),rn=Iu(rn,Di,Vi,Yi,Wt,10,qn[49]),Yi=Iu(Yi,rn,Di,Vi,ji,15,qn[50]),Vi=Iu(Vi,Yi,rn,Di,vt,21,qn[51]),Di=Iu(Di,Vi,Yi,rn,ri,6,qn[52]),rn=Iu(rn,Di,Vi,Yi,B,10,qn[53]),Yi=Iu(Yi,rn,Di,Vi,Ae,15,qn[54]),Vi=Iu(Vi,Yi,rn,Di,x,21,qn[55]),Di=Iu(Di,Vi,Yi,rn,ne,6,qn[56]),rn=Iu(rn,Di,Vi,Yi,Zi,10,qn[57]),Yi=Iu(Yi,rn,Di,Vi,Tt,15,qn[58]),Vi=Iu(Vi,Yi,rn,Di,oi,21,qn[59]),Di=Iu(Di,Vi,Yi,rn,q,6,qn[60]),rn=Iu(rn,Di,Vi,Yi,Te,10,qn[61]),Yi=Iu(Yi,rn,Di,Vi,A,15,qn[62]),Vi=Iu(Vi,Yi,rn,Di,ce,21,qn[63]),l[0]=l[0]+Di|0,l[1]=l[1]+Vi|0,l[2]=l[2]+Yi|0,l[3]=l[3]+rn|0}_doFinalize(){const n=this._data,i=n.words,s=8*this._nDataBytes,l=8*n.sigBytes;i[l>>>5]|=128<<24-l%32;const f=Math.floor(s/4294967296),x=s;i[15+(l+64>>>9<<4)]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),i[14+(l+64>>>9<<4)]=16711935&(x<<8|x>>>24)|4278255360&(x<<24|x>>>8),n.sigBytes=4*(i.length+1),this._process();const A=this._hash,B=A.words;for(let q=0;q<4;q+=1){const vt=B[q];B[q]=16711935&(vt<<8|vt>>>24)|4278255360&(vt<<24|vt>>>8)}return A}clone(){const n=super.clone.call(this);return n._hash=this._hash.clone(),n}}const Aq=hh._createHelper(fD),Tq=hh._createHmacHelper(fD);class FT extends Kl{constructor(n){super(),this.cfg=Object.assign(new Kl,{keySize:4,hasher:fD,iterations:1},n)}compute(n,i){let s;const{cfg:l}=this,f=l.hasher.create(),x=Bo.create(),A=x.words,{keySize:B,iterations:q}=l;for(;A.length<B;){s&&f.update(s),s=f.update(n).finalize(i),f.reset();for(let vt=1;vt<q;vt+=1)s=f.finalize(s),f.reset();x.concat(s)}return x.sigBytes=4*B,x}}let BT=(()=>{class r extends RT{constructor(i,s,l){super(),this.cfg=Object.assign(new Kl,l),this._xformMode=i,this._key=s,this.reset()}static createEncryptor(i,s){return this.create(this._ENC_XFORM_MODE,i,s)}static createDecryptor(i,s){return this.create(this._DEC_XFORM_MODE,i,s)}static _createHelper(i){const s=l=>"string"==typeof l?VT:Fx;return{encrypt:(l,f,x)=>s(f).encrypt(i,l,f,x),decrypt:(l,f,x)=>s(f).decrypt(i,l,f,x)}}reset(){super.reset.call(this),this._doReset()}process(i){return this._append(i),this._process()}finalize(i){return i&&this._append(i),this._doFinalize()}}return r._ENC_XFORM_MODE=1,r._DEC_XFORM_MODE=2,r.keySize=4,r.ivSize=4,r})();class Wy extends BT{constructor(...n){super(...n),this.blockSize=1}_doFinalize(){return this._process(!0)}}class Nx extends Kl{constructor(n,i){super(),this._cipher=n,this._iv=i}static createEncryptor(n,i){return this.Encryptor.create(n,i)}static createDecryptor(n,i){return this.Decryptor.create(n,i)}}function L5(r,n,i){const s=r;let l;const f=this._iv;f?(l=f,this._iv=void 0):l=this._prevBlock;for(let x=0;x<i;x+=1)s[n+x]^=l[x]}let F5=(()=>{class r extends Nx{}return r.Encryptor=class extends r{processBlock(n,i){const s=this._cipher,{blockSize:l}=s;L5.call(this,n,i,l),s.encryptBlock(n,i),this._prevBlock=n.slice(i,i+l)}},r.Decryptor=class extends r{processBlock(n,i){const s=this._cipher,{blockSize:l}=s,f=n.slice(i,i+l);s.decryptBlock(n,i),L5.call(this,n,i,l),this._prevBlock=f}},r})();const B5={pad(r,n){const i=4*n,s=i-r.sigBytes%i,l=s<<24|s<<16|s<<8|s,f=[];for(let A=0;A<s;A+=4)f.push(l);const x=Bo.create(f,s);r.concat(x)},unpad(r){r.sigBytes-=255&r.words[r.sigBytes-1>>>2]}};class Lx extends BT{constructor(n,i,s){super(n,i,Object.assign({mode:F5,padding:B5},s)),this.blockSize=4}reset(){let n;super.reset.call(this);const{cfg:i}=this,{iv:s,mode:l}=i;this._xformMode===this.constructor._ENC_XFORM_MODE?n=l.createEncryptor:(n=l.createDecryptor,this._minBufferSize=1),this._mode=n.call(l,this,s&&s.words),this._mode.__creator=n}_doProcessBlock(n,i){this._mode.processBlock(n,i)}_doFinalize(){let n;const{padding:i}=this.cfg;return this._xformMode===this.constructor._ENC_XFORM_MODE?(i.pad(this._data,this.blockSize),n=this._process(!0)):(n=this._process(!0),i.unpad(n)),n}}class o2 extends Kl{constructor(n){super(),this.mixIn(n)}toString(n){return(n||this.formatter).stringify(this)}}const V5={stringify(r){let n;const{ciphertext:i,salt:s}=r;return n=s?Bo.create([1398893684,1701076831]).concat(s).concat(i):i,n.toString(LT)},parse(r){let n;const i=LT.parse(r),s=i.words;return 1398893684===s[0]&&1701076831===s[1]&&(n=Bo.create(s.slice(2,4)),s.splice(0,4),i.sigBytes-=16),o2.create({ciphertext:i,salt:n})}};class Fx extends Kl{static encrypt(n,i,s,l){const f=Object.assign(new Kl,this.cfg,l),x=n.createEncryptor(s,f),A=x.finalize(i),B=x.cfg;return o2.create({ciphertext:A,key:s,iv:B.iv,algorithm:n,mode:B.mode,padding:B.padding,blockSize:x.blockSize,formatter:f.format})}static decrypt(n,i,s,l){let f=i;const x=Object.assign(new Kl,this.cfg,l);return f=this._parse(f,x.format),n.createDecryptor(s,x).finalize(f.ciphertext)}static _parse(n,i){return"string"==typeof n?i.parse(n,this):n}}Fx.cfg=Object.assign(new Kl,{format:V5});const j5={execute(r,n,i,s){let l=s;l||(l=Bo.random(8));const f=FT.create({keySize:n+i}).compute(r,l),x=Bo.create(f.words.slice(n),4*i);return f.sigBytes=4*n,o2.create({key:f,iv:x,salt:l})}};class VT extends Fx{static encrypt(n,i,s,l){const f=Object.assign(new Kl,this.cfg,l),x=f.kdf.execute(s,n.keySize,n.ivSize);f.iv=x.iv;const A=Fx.encrypt.call(this,n,i,x.key,f);return A.mixIn(x),A}static decrypt(n,i,s,l){let f=i;const x=Object.assign(new Kl,this.cfg,l);f=this._parse(f,x.format);const A=x.kdf.execute(s,n.keySize,n.ivSize,f.salt);return x.iv=A.iv,Fx.decrypt.call(this,n,f,A.key,x)}}VT.cfg=Object.assign(Fx.cfg,{kdf:j5});const z5=r=>r<<8&4278255360|r>>>8&16711935,H5={stringify(r){const{words:n,sigBytes:i}=r,s=[];for(let l=0;l<i;l+=2)s.push(String.fromCharCode(n[l>>>2]>>>16-l%4*8&65535));return s.join("")},parse(r){const n=r.length,i=[];for(let s=0;s<n;s+=1)i[s>>>1]|=r.charCodeAt(s)<<16-s%2*16;return Bo.create(i,2*n)}},Iq=H5,Rq={stringify(r){const{words:n,sigBytes:i}=r,s=[];for(let l=0;l<i;l+=2){const f=z5(n[l>>>2]>>>16-l%4*8&65535);s.push(String.fromCharCode(f))}return s.join("")},parse(r){const n=r.length,i=[];for(let s=0;s<n;s+=1)i[s>>>1]|=z5(r.charCodeAt(s)<<16-s%2*16);return Bo.create(i,2*n)}},Bx=[];class dD extends hh{_doReset(){this._hash=new Bo([1732584193,4023233417,2562383102,271733878,3285377520])}_doProcessBlock(n,i){const s=this._hash.words;let l=s[0],f=s[1],x=s[2],A=s[3],B=s[4];for(let q=0;q<80;q+=1){if(q<16)Bx[q]=0|n[i+q];else{const Tt=Bx[q-3]^Bx[q-8]^Bx[q-14]^Bx[q-16];Bx[q]=Tt<<1|Tt>>>31}let vt=(l<<5|l>>>27)+B+Bx[q];vt+=q<20?1518500249+(f&x|~f&A):q<40?1859775393+(f^x^A):q<60?(f&x|f&A|x&A)-1894007588:(f^x^A)-899497514,B=A,A=x,x=f<<30|f>>>2,f=l,l=vt}s[0]=s[0]+l|0,s[1]=s[1]+f|0,s[2]=s[2]+x|0,s[3]=s[3]+A|0,s[4]=s[4]+B|0}_doFinalize(){const n=this._data,i=n.words,s=8*this._nDataBytes,l=8*n.sigBytes;return i[l>>>5]|=128<<24-l%32,i[14+(l+64>>>9<<4)]=Math.floor(s/4294967296),i[15+(l+64>>>9<<4)]=s,n.sigBytes=4*i.length,this._process(),this._hash}clone(){const n=super.clone.call(this);return n._hash=this._hash.clone(),n}}const Oq=hh._createHelper(dD),Nq=hh._createHmacHelper(dD),U5=[],G5=[],Lq=r=>{const n=Math.sqrt(r);for(let i=2;i<=n;i+=1)if(!(r%i))return!1;return!0},W5=r=>4294967296*(r-(0|r))|0;let pD=2,s2=0;for(;s2<64;)Lq(pD)&&(s2<8&&(U5[s2]=W5(pD**.5)),G5[s2]=W5(pD**(1/3)),s2+=1),pD+=1;const Vx=[];class jb extends hh{_doReset(){this._hash=new Bo(U5.slice(0))}_doProcessBlock(n,i){const s=this._hash.words;let l=s[0],f=s[1],x=s[2],A=s[3],B=s[4],q=s[5],vt=s[6],Tt=s[7];for(let Wt=0;Wt<64;Wt+=1){if(Wt<16)Vx[Wt]=0|n[i+Wt];else{const ji=Vx[Wt-15],Di=Vx[Wt-2];Vx[Wt]=((ji<<25|ji>>>7)^(ji<<14|ji>>>18)^ji>>>3)+Vx[Wt-7]+((Di<<15|Di>>>17)^(Di<<13|Di>>>19)^Di>>>10)+Vx[Wt-16]}const ce=l&f^l&x^f&x,ri=Tt+((B<<26|B>>>6)^(B<<21|B>>>11)^(B<<7|B>>>25))+(B&q^~B&vt)+G5[Wt]+Vx[Wt];Tt=vt,vt=q,q=B,B=A+ri|0,A=x,x=f,f=l,l=ri+(((l<<30|l>>>2)^(l<<19|l>>>13)^(l<<10|l>>>22))+ce)|0}s[0]=s[0]+l|0,s[1]=s[1]+f|0,s[2]=s[2]+x|0,s[3]=s[3]+A|0,s[4]=s[4]+B|0,s[5]=s[5]+q|0,s[6]=s[6]+vt|0,s[7]=s[7]+Tt|0}_doFinalize(){const n=this._data,i=n.words,s=8*this._nDataBytes,l=8*n.sigBytes;return i[l>>>5]|=128<<24-l%32,i[14+(l+64>>>9<<4)]=Math.floor(s/4294967296),i[15+(l+64>>>9<<4)]=s,n.sigBytes=4*i.length,this._process(),this._hash}clone(){const n=super.clone.call(this);return n._hash=this._hash.clone(),n}}const Fq=hh._createHelper(jb),Bq=hh._createHmacHelper(jb);class jT extends jb{_doReset(){this._hash=new Bo([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])}_doFinalize(){const n=super._doFinalize.call(this);return n.sigBytes-=4,n}}const Vq=jb._createHelper(jT),jq=jb._createHmacHelper(jT),zq=[new ln(1116352408,3609767458),new ln(1899447441,602891725),new ln(3049323471,3964484399),new ln(3921009573,2173295548),new ln(961987163,4081628472),new ln(1508970993,3053834265),new ln(2453635748,2937671579),new ln(2870763221,3664609560),new ln(3624381080,2734883394),new ln(310598401,1164996542),new ln(607225278,1323610764),new ln(1426881987,3590304994),new ln(1925078388,4068182383),new ln(2162078206,991336113),new ln(2614888103,633803317),new ln(3248222580,3479774868),new ln(3835390401,2666613458),new ln(4022224774,944711139),new ln(264347078,2341262773),new ln(604807628,2007800933),new ln(770255983,1495990901),new ln(1249150122,1856431235),new ln(1555081692,3175218132),new ln(1996064986,2198950837),new ln(2554220882,3999719339),new ln(2821834349,766784016),new ln(2952996808,2566594879),new ln(3210313671,3203337956),new ln(3336571891,1034457026),new ln(3584528711,2466948901),new ln(113926993,3758326383),new ln(338241895,168717936),new ln(666307205,1188179964),new ln(773529912,1546045734),new ln(1294757372,1522805485),new ln(1396182291,2643833823),new ln(1695183700,2343527390),new ln(1986661051,1014477480),new ln(2177026350,1206759142),new ln(2456956037,344077627),new ln(2730485921,1290863460),new ln(2820302411,3158454273),new ln(3259730800,3505952657),new ln(3345764771,106217008),new ln(3516065817,3606008344),new ln(3600352804,1432725776),new ln(4094571909,1467031594),new ln(275423344,851169720),new ln(430227734,3100823752),new ln(506948616,1363258195),new ln(659060556,3750685593),new ln(883997877,3785050280),new ln(958139571,3318307427),new ln(1322822218,3812723403),new ln(1537002063,2003034995),new ln(1747873779,3602036899),new ln(1955562222,1575990012),new ln(2024104815,1125592928),new ln(2227730452,2716904306),new ln(2361852424,442776044),new ln(2428436474,593698344),new ln(2756734187,3733110249),new ln(3204031479,2999351573),new ln(3329325298,3815920427),new ln(3391569614,3928383900),new ln(3515267271,566280711),new ln(3940187606,3454069534),new ln(4118630271,4000239992),new ln(116418474,1914138554),new ln(174292421,2731055270),new ln(289380356,3203993006),new ln(460393269,320620315),new ln(685471733,587496836),new ln(852142971,1086792851),new ln(1017036298,365543100),new ln(1126000580,2618297676),new ln(1288033470,3409855158),new ln(1501505948,4234509866),new ln(1607167915,987167468),new ln(1816402316,1246189591)],zb=[];for(let r=0;r<80;r+=1)zb[r]=new ln;class Hb extends hh{constructor(){super(),this.blockSize=32}_doReset(){this._hash=new NT([new ln(1779033703,4089235720),new ln(3144134277,2227873595),new ln(1013904242,4271175723),new ln(2773480762,1595750129),new ln(1359893119,2917565137),new ln(2600822924,725511199),new ln(528734635,4215389547),new ln(1541459225,327033209)])}_doProcessBlock(n,i){const s=this._hash.words,l=s[0],f=s[1],x=s[2],A=s[3],B=s[4],q=s[5],vt=s[6],Tt=s[7],Wt=l.high;let ne=l.low;const ce=f.high;let Ae=f.low;const Te=x.high;let ri=x.low;const oi=A.high;let ji=A.low;const Zi=B.high;let Di=B.low;const Vi=q.high;let Yi=q.low;const rn=vt.high;let Zs=vt.low;const cl=Tt.high;let fh=Tt.low,Dl=Wt,ma=ne,ip=ce,nd=Ae,Nn=Te,ar=ri,Ur=oi,ko=ji,Ds=Zi,Oa=Di,Rh=Vi,df=Yi,qs=rn,jx=Zs,pf=cl,m0=fh;for(let Ru=0;Ru<80;Ru+=1){let Oh,np;const Yb=zb[Ru];if(Ru<16)Yb.high=0|n[i+2*Ru],np=Yb.high,Yb.low=0|n[i+2*Ru+1],Oh=Yb.low;else{const XN=zb[Ru-15],$b=XN.high,y2=XN.low,KN=(y2>>>1|$b<<31)^(y2>>>8|$b<<24)^(y2>>>7|$b<<25),ZN=zb[Ru-2],Xb=ZN.high,x2=ZN.low,qN=(x2>>>19|Xb<<13)^(x2<<3|Xb>>>29)^(x2>>>6|Xb<<26),JN=zb[Ru-7],QN=zb[Ru-16],tL=QN.low;Oh=KN+JN.low,np=(($b>>>1|y2<<31)^($b>>>8|y2<<24)^$b>>>7)+JN.high+(Oh>>>0<KN>>>0?1:0),Oh+=qN,np=np+((Xb>>>19|x2<<13)^(Xb<<3|x2>>>29)^Xb>>>6)+(Oh>>>0<qN>>>0?1:0),Oh+=tL,np=np+QN.high+(Oh>>>0<tL>>>0?1:0),Yb.high=np,Yb.low=Oh}const UN=Oa&df^~Oa&jx,$tt=Dl&ip^Dl&Nn^ip&Nn,Ktt=(Dl>>>28|ma<<4)^(Dl<<30|ma>>>2)^(Dl<<25|ma>>>7),GN=(ma>>>28|Dl<<4)^(ma<<30|Dl>>>2)^(ma<<25|Dl>>>7),WN=zq[Ru],YN=WN.low;let xm=m0+((Oa>>>14|Ds<<18)^(Oa>>>18|Ds<<14)^(Oa<<23|Ds>>>9)),Ky=pf+((Ds>>>14|Oa<<18)^(Ds>>>18|Oa<<14)^(Ds<<23|Oa>>>9))+(xm>>>0<m0>>>0?1:0);xm+=UN,Ky=Ky+(Ds&Rh^~Ds&qs)+(xm>>>0<UN>>>0?1:0),xm+=YN,Ky=Ky+WN.high+(xm>>>0<YN>>>0?1:0),xm+=Oh,Ky=Ky+np+(xm>>>0<Oh>>>0?1:0);const $N=GN+(ma&nd^ma&ar^nd&ar);pf=qs,m0=jx,qs=Rh,jx=df,Rh=Ds,df=Oa,Oa=ko+xm|0,Ds=Ur+Ky+(Oa>>>0<ko>>>0?1:0)|0,Ur=Nn,ko=ar,Nn=ip,ar=nd,ip=Dl,nd=ma,ma=xm+$N|0,Dl=Ky+(Ktt+$tt+($N>>>0<GN>>>0?1:0))+(ma>>>0<xm>>>0?1:0)|0}l.low=ne+ma,ne=l.low,l.high=Wt+Dl+(ne>>>0<ma>>>0?1:0),f.low=Ae+nd,Ae=f.low,f.high=ce+ip+(Ae>>>0<nd>>>0?1:0),x.low=ri+ar,ri=x.low,x.high=Te+Nn+(ri>>>0<ar>>>0?1:0),A.low=ji+ko,ji=A.low,A.high=oi+Ur+(ji>>>0<ko>>>0?1:0),B.low=Di+Oa,Di=B.low,B.high=Zi+Ds+(Di>>>0<Oa>>>0?1:0),q.low=Yi+df,Yi=q.low,q.high=Vi+Rh+(Yi>>>0<df>>>0?1:0),vt.low=Zs+jx,Zs=vt.low,vt.high=rn+qs+(Zs>>>0<jx>>>0?1:0),Tt.low=fh+m0,fh=Tt.low,Tt.high=cl+pf+(fh>>>0<m0>>>0?1:0)}_doFinalize(){const n=this._data,i=n.words,s=8*this._nDataBytes,l=8*n.sigBytes;return i[l>>>5]|=128<<24-l%32,i[30+(l+128>>>10<<5)]=Math.floor(s/4294967296),i[31+(l+128>>>10<<5)]=s,n.sigBytes=4*i.length,this._process(),this._hash.toX32()}clone(){const n=super.clone.call(this);return n._hash=this._hash.clone(),n}}const Hq=hh._createHelper(Hb),Uq=hh._createHmacHelper(Hb);class zT extends Hb{_doReset(){this._hash=new NT([new ln(3418070365,3238371032),new ln(1654270250,914150663),new ln(2438529370,812702999),new ln(355462360,4144912697),new ln(1731405415,4290775857),new ln(2394180231,1750603025),new ln(3675008525,1694076839),new ln(1203062813,3204075428)])}_doFinalize(){const n=super._doFinalize.call(this);return n.sigBytes-=16,n}}const Gq=Hb._createHelper(zT),Wq=Hb._createHmacHelper(zT),Y5=[],$5=[],X5=[];let HT=1,mD=0;for(let r=0;r<24;r+=1){Y5[HT+5*mD]=(r+1)*(r+2)/2%64;const i=(2*HT+3*mD)%5;HT=mD%5,mD=i}for(let r=0;r<5;r+=1)for(let n=0;n<5;n+=1)$5[r+5*n]=n+(2*r+3*n)%5*5;let a2=1;for(let r=0;r<24;r+=1){let n=0,i=0;for(let s=0;s<7;s+=1){if(1&a2){const l=(1<<s)-1;l<32?i^=1<<l:n^=1<<l-32}128&a2?a2=a2<<1^113:a2<<=1}X5[r]=ln.create(n,i)}const iv=[];for(let r=0;r<25;r+=1)iv[r]=ln.create();class UT extends hh{constructor(n){super(Object.assign({outputLength:512},n))}_doReset(){this._state=[];const n=this._state;for(let i=0;i<25;i+=1)n[i]=new ln;this.blockSize=(1600-2*this.cfg.outputLength)/32}_doProcessBlock(n,i){const s=this._state,l=this.blockSize/2;for(let f=0;f<l;f+=1){let x=n[i+2*f],A=n[i+2*f+1];x=16711935&(x<<8|x>>>24)|4278255360&(x<<24|x>>>8),A=16711935&(A<<8|A>>>24)|4278255360&(A<<24|A>>>8);const B=s[f];B.high^=A,B.low^=x}for(let f=0;f<24;f+=1){for(let vt=0;vt<5;vt+=1){let Tt=0,Wt=0;for(let ce=0;ce<5;ce+=1){const Ae=s[vt+5*ce];Tt^=Ae.high,Wt^=Ae.low}const ne=iv[vt];ne.high=Tt,ne.low=Wt}for(let vt=0;vt<5;vt+=1){const Tt=iv[(vt+4)%5],Wt=iv[(vt+1)%5],ne=Wt.high,ce=Wt.low,Ae=Tt.high^(ne<<1|ce>>>31),Te=Tt.low^(ce<<1|ne>>>31);for(let ri=0;ri<5;ri+=1){const oi=s[vt+5*ri];oi.high^=Ae,oi.low^=Te}}for(let vt=1;vt<25;vt+=1){let Tt,Wt;const ne=s[vt],ce=ne.high,Ae=ne.low,Te=Y5[vt];Te<32?(Tt=ce<<Te|Ae>>>32-Te,Wt=Ae<<Te|ce>>>32-Te):(Tt=Ae<<Te-32|ce>>>64-Te,Wt=ce<<Te-32|Ae>>>64-Te);const ri=iv[$5[vt]];ri.high=Tt,ri.low=Wt}const x=iv[0],A=s[0];x.high=A.high,x.low=A.low;for(let vt=0;vt<5;vt+=1)for(let Tt=0;Tt<5;Tt+=1){const Wt=vt+5*Tt,ne=s[Wt],ce=iv[Wt],Ae=iv[(vt+1)%5+5*Tt],Te=iv[(vt+2)%5+5*Tt];ne.high=ce.high^~Ae.high&Te.high,ne.low=ce.low^~Ae.low&Te.low}const B=s[0],q=X5[f];B.high^=q.high,B.low^=q.low}}_doFinalize(){const n=this._data,i=n.words,s=8*n.sigBytes,l=32*this.blockSize;i[s>>>5]|=1<<24-s%32,i[(Math.ceil((s+1)/l)*l>>>5)-1]|=128,n.sigBytes=4*i.length,this._process();const f=this._state,x=this.cfg.outputLength/8,A=x/8,B=[];for(let q=0;q<A;q+=1){const vt=f[q];let Tt=vt.high,Wt=vt.low;Tt=16711935&(Tt<<8|Tt>>>24)|4278255360&(Tt<<24|Tt>>>8),Wt=16711935&(Wt<<8|Wt>>>24)|4278255360&(Wt<<24|Wt>>>8),B.push(Wt),B.push(Tt)}return new Bo(B,x)}clone(){const n=super.clone.call(this);n._state=this._state.slice(0);const i=n._state;for(let s=0;s<25;s+=1)i[s]=i[s].clone();return n}}const Yq=hh._createHelper(UT),$q=hh._createHmacHelper(UT),Xq=Bo.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),Kq=Bo.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),Zq=Bo.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),qq=Bo.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),Jq=Bo.create([0,1518500249,1859775393,2400959708,2840853838]),Qq=Bo.create([1352829926,1548603684,1836072691,2053994217,0]),K5=(r,n,i)=>r^n^i,Z5=(r,n,i)=>r&n|~r&i,q5=(r,n,i)=>(r|~n)^i,J5=(r,n,i)=>r&i|n&~i,Q5=(r,n,i)=>r^(n|~i),gD=(r,n)=>r<<n|r>>>32-n;class GT extends hh{_doReset(){this._hash=Bo.create([1732584193,4023233417,2562383102,271733878,3285377520])}_doProcessBlock(n,i){const s=n;for(let Vi=0;Vi<16;Vi+=1){const Yi=i+Vi,rn=s[Yi];s[Yi]=16711935&(rn<<8|rn>>>24)|4278255360&(rn<<24|rn>>>8)}const l=this._hash.words,f=Jq.words,x=Qq.words,A=Xq.words,B=Kq.words,q=Zq.words,vt=qq.words;let Di,Tt=l[0],Wt=l[1],ne=l[2],ce=l[3],Ae=l[4],Te=l[0],ri=l[1],oi=l[2],ji=l[3],Zi=l[4];for(let Vi=0;Vi<80;Vi+=1)Di=Tt+s[i+A[Vi]]|0,Di+=Vi<16?K5(Wt,ne,ce)+f[0]:Vi<32?Z5(Wt,ne,ce)+f[1]:Vi<48?q5(Wt,ne,ce)+f[2]:Vi<64?J5(Wt,ne,ce)+f[3]:Q5(Wt,ne,ce)+f[4],Di|=0,Di=gD(Di,q[Vi]),Di=Di+Ae|0,Tt=Ae,Ae=ce,ce=gD(ne,10),ne=Wt,Wt=Di,Di=Te+s[i+B[Vi]]|0,Di+=Vi<16?Q5(ri,oi,ji)+x[0]:Vi<32?J5(ri,oi,ji)+x[1]:Vi<48?q5(ri,oi,ji)+x[2]:Vi<64?Z5(ri,oi,ji)+x[3]:K5(ri,oi,ji)+x[4],Di|=0,Di=gD(Di,vt[Vi]),Di=Di+Zi|0,Te=Zi,Zi=ji,ji=gD(oi,10),oi=ri,ri=Di;Di=l[1]+ne+ji|0,l[1]=l[2]+ce+Zi|0,l[2]=l[3]+Ae+Te|0,l[3]=l[4]+Tt+ri|0,l[4]=l[0]+Wt+oi|0,l[0]=Di}_doFinalize(){const n=this._data,i=n.words,s=8*this._nDataBytes,l=8*n.sigBytes;i[l>>>5]|=128<<24-l%32,i[14+(l+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),n.sigBytes=4*(i.length+1),this._process();const f=this._hash,x=f.words;for(let A=0;A<5;A+=1){const B=x[A];x[A]=16711935&(B<<8|B>>>24)|4278255360&(B<<24|B>>>8)}return f}clone(){const n=super.clone.call(this);return n._hash=this._hash.clone(),n}}const tJ=hh._createHelper(GT),eJ=hh._createHmacHelper(GT);class tN extends Kl{constructor(n){super(),this.cfg=Object.assign(new Kl,{keySize:4,hasher:dD,iterations:1},n)}compute(n,i){const{cfg:s}=this,l=OT.create(s.hasher,n),f=Bo.create(),x=Bo.create([1]),A=f.words,B=x.words,{keySize:q,iterations:vt}=s;for(;A.length<q;){const Tt=l.update(i).finalize(x);l.reset();const Wt=Tt.words,ne=Wt.length;let ce=Tt;for(let Ae=1;Ae<vt;Ae+=1){ce=l.finalize(ce),l.reset();const Te=ce.words;for(let ri=0;ri<ne;ri+=1)Wt[ri]^=Te[ri]}f.concat(Tt),B[0]+=1}return f.sigBytes=4*q,f}}const cf=[],eN=[],iN=[],nN=[],rN=[],oN=[],WT=[],YT=[],$T=[],XT=[],d0=[];for(let r=0;r<256;r+=1)d0[r]=r<128?r<<1:r<<1^283;let p0=0,nv=0;for(let r=0;r<256;r+=1){let n=nv^nv<<1^nv<<2^nv<<3^nv<<4;n=n>>>8^255&n^99,cf[p0]=n,eN[n]=p0;const i=d0[p0],s=d0[i],l=d0[s];let f=257*d0[n]^16843008*n;iN[p0]=f<<24|f>>>8,nN[p0]=f<<16|f>>>16,rN[p0]=f<<8|f>>>24,oN[p0]=f,f=16843009*l^65537*s^257*i^16843008*p0,WT[n]=f<<24|f>>>8,YT[n]=f<<16|f>>>16,$T[n]=f<<8|f>>>24,XT[n]=f,p0?(p0=i^d0[d0[d0[l^i]]],nv^=d0[d0[nv]]):(nv=1,p0=nv)}const nJ=[0,1,2,4,8,16,32,64,128,27,54];let sN=(()=>{class r extends Lx{_doReset(){let i;if(this._nRounds&&this._keyPriorReset===this._key)return;this._keyPriorReset=this._key;const s=this._keyPriorReset,l=s.words,f=s.sigBytes/4;this._nRounds=f+6;const A=4*(this._nRounds+1);this._keySchedule=[];const B=this._keySchedule;for(let vt=0;vt<A;vt+=1)vt<f?B[vt]=l[vt]:(i=B[vt-1],vt%f?f>6&&vt%f==4&&(i=cf[i>>>24]<<24|cf[i>>>16&255]<<16|cf[i>>>8&255]<<8|cf[255&i]):(i=i<<8|i>>>24,i=cf[i>>>24]<<24|cf[i>>>16&255]<<16|cf[i>>>8&255]<<8|cf[255&i],i^=nJ[vt/f|0]<<24),B[vt]=B[vt-f]^i);this._invKeySchedule=[];const q=this._invKeySchedule;for(let vt=0;vt<A;vt+=1){const Tt=A-vt;i=vt%4?B[Tt]:B[Tt-4],q[vt]=vt<4||Tt<=4?i:WT[cf[i>>>24]]^YT[cf[i>>>16&255]]^$T[cf[i>>>8&255]]^XT[cf[255&i]]}}encryptBlock(i,s){this._doCryptBlock(i,s,this._keySchedule,iN,nN,rN,oN,cf)}decryptBlock(i,s){const l=i;let f=l[s+1];l[s+1]=l[s+3],l[s+3]=f,this._doCryptBlock(l,s,this._invKeySchedule,WT,YT,$T,XT,eN),f=l[s+1],l[s+1]=l[s+3],l[s+3]=f}_doCryptBlock(i,s,l,f,x,A,B,q){const vt=i,Tt=this._nRounds;let Wt=vt[s]^l[0],ne=vt[s+1]^l[1],ce=vt[s+2]^l[2],Ae=vt[s+3]^l[3],Te=4;for(let Di=1;Di<Tt;Di+=1){const Vi=f[Wt>>>24]^x[ne>>>16&255]^A[ce>>>8&255]^B[255&Ae]^l[Te];Te+=1;const Yi=f[ne>>>24]^x[ce>>>16&255]^A[Ae>>>8&255]^B[255&Wt]^l[Te];Te+=1;const rn=f[ce>>>24]^x[Ae>>>16&255]^A[Wt>>>8&255]^B[255&ne]^l[Te];Te+=1;const Zs=f[Ae>>>24]^x[Wt>>>16&255]^A[ne>>>8&255]^B[255&ce]^l[Te];Te+=1,Wt=Vi,ne=Yi,ce=rn,Ae=Zs}const ri=(q[Wt>>>24]<<24|q[ne>>>16&255]<<16|q[ce>>>8&255]<<8|q[255&Ae])^l[Te];Te+=1;const oi=(q[ne>>>24]<<24|q[ce>>>16&255]<<16|q[Ae>>>8&255]<<8|q[255&Wt])^l[Te];Te+=1;const ji=(q[ce>>>24]<<24|q[Ae>>>16&255]<<16|q[Wt>>>8&255]<<8|q[255&ne])^l[Te];Te+=1;const Zi=(q[Ae>>>24]<<24|q[Wt>>>16&255]<<16|q[ne>>>8&255]<<8|q[255&ce])^l[Te];Te+=1,vt[s]=ri,vt[s+1]=oi,vt[s+2]=ji,vt[s+3]=Zi}}return r.keySize=8,r})();const rJ=Lx._createHelper(sN),oJ=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],aN=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],sJ=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],aJ=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],lJ=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679];function Ub(r,n){const i=(this._lBlock>>>r^this._rBlock)&n;this._rBlock^=i,this._lBlock^=i<<r}function vD(r,n){const i=(this._rBlock>>>r^this._lBlock)&n;this._lBlock^=i,this._rBlock^=i<<r}let l2=(()=>{class r extends Lx{_doReset(){const s=this._key.words,l=[];for(let A=0;A<56;A+=1){const B=oJ[A]-1;l[A]=s[B>>>5]>>>31-B%32&1}this._subKeys=[];const f=this._subKeys;for(let A=0;A<16;A+=1){f[A]=[];const B=f[A],q=sJ[A];for(let vt=0;vt<24;vt+=1)B[vt/6|0]|=l[(aN[vt]-1+q)%28]<<31-vt%6,B[4+(vt/6|0)]|=l[28+(aN[vt+24]-1+q)%28]<<31-vt%6;B[0]=B[0]<<1|B[0]>>>31;for(let vt=1;vt<7;vt+=1)B[vt]>>>=4*(vt-1)+3;B[7]=B[7]<<5|B[7]>>>27}this._invSubKeys=[];const x=this._invSubKeys;for(let A=0;A<16;A+=1)x[A]=f[15-A]}encryptBlock(i,s){this._doCryptBlock(i,s,this._subKeys)}decryptBlock(i,s){this._doCryptBlock(i,s,this._invSubKeys)}_doCryptBlock(i,s,l){const f=i;this._lBlock=i[s],this._rBlock=i[s+1],Ub.call(this,4,252645135),Ub.call(this,16,65535),vD.call(this,2,858993459),vD.call(this,8,16711935),Ub.call(this,1,1431655765);for(let A=0;A<16;A+=1){const B=l[A],q=this._lBlock,vt=this._rBlock;let Tt=0;for(let Wt=0;Wt<8;Wt+=1)Tt|=aJ[Wt][((vt^B[Wt])&lJ[Wt])>>>0];this._lBlock=vt,this._rBlock=q^Tt}const x=this._lBlock;this._lBlock=this._rBlock,this._rBlock=x,Ub.call(this,1,1431655765),vD.call(this,8,16711935),vD.call(this,2,858993459),Ub.call(this,16,65535),Ub.call(this,4,252645135),f[s]=this._lBlock,f[s+1]=this._rBlock}}return r.keySize=2,r.ivSize=2,r.blockSize=2,r})();const hJ=Lx._createHelper(l2);let lN=(()=>{class r extends Lx{_doReset(){const s=this._key.words;if(2!==s.length&&4!==s.length&&s.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");const l=s.slice(0,2),f=s.length<4?s.slice(0,2):s.slice(2,4),x=s.length<6?s.slice(0,2):s.slice(4,6);this._des1=l2.createEncryptor(Bo.create(l)),this._des2=l2.createEncryptor(Bo.create(f)),this._des3=l2.createEncryptor(Bo.create(x))}encryptBlock(i,s){this._des1.encryptBlock(i,s),this._des2.decryptBlock(i,s),this._des3.encryptBlock(i,s)}decryptBlock(i,s){this._des3.decryptBlock(i,s),this._des2.encryptBlock(i,s),this._des1.decryptBlock(i,s)}}return r.keySize=6,r.ivSize=2,r.blockSize=2,r})();const uJ=Lx._createHelper(lN),mm=[],rv=[],Vo=[];function KT(){const r=this._X,n=this._C;for(let i=0;i<8;i+=1)rv[i]=n[i];n[0]=n[0]+1295307597+this._b|0,n[1]=n[1]+3545052371+(n[0]>>>0<rv[0]>>>0?1:0)|0,n[2]=n[2]+886263092+(n[1]>>>0<rv[1]>>>0?1:0)|0,n[3]=n[3]+1295307597+(n[2]>>>0<rv[2]>>>0?1:0)|0,n[4]=n[4]+3545052371+(n[3]>>>0<rv[3]>>>0?1:0)|0,n[5]=n[5]+886263092+(n[4]>>>0<rv[4]>>>0?1:0)|0,n[6]=n[6]+1295307597+(n[5]>>>0<rv[5]>>>0?1:0)|0,n[7]=n[7]+3545052371+(n[6]>>>0<rv[6]>>>0?1:0)|0,this._b=n[7]>>>0<rv[7]>>>0?1:0;for(let i=0;i<8;i+=1){const s=r[i]+n[i],l=65535&s,f=s>>>16;Vo[i]=((l*l>>>17)+l*f>>>15)+f*f^((4294901760&s)*s|0)+((65535&s)*s|0)}r[0]=Vo[0]+(Vo[7]<<16|Vo[7]>>>16)+(Vo[6]<<16|Vo[6]>>>16)|0,r[1]=Vo[1]+(Vo[0]<<8|Vo[0]>>>24)+Vo[7]|0,r[2]=Vo[2]+(Vo[1]<<16|Vo[1]>>>16)+(Vo[0]<<16|Vo[0]>>>16)|0,r[3]=Vo[3]+(Vo[2]<<8|Vo[2]>>>24)+Vo[1]|0,r[4]=Vo[4]+(Vo[3]<<16|Vo[3]>>>16)+(Vo[2]<<16|Vo[2]>>>16)|0,r[5]=Vo[5]+(Vo[4]<<8|Vo[4]>>>24)+Vo[3]|0,r[6]=Vo[6]+(Vo[5]<<16|Vo[5]>>>16)+(Vo[4]<<16|Vo[4]>>>16)|0,r[7]=Vo[7]+(Vo[6]<<8|Vo[6]>>>24)+Vo[5]|0}class hN extends Wy{constructor(...n){super(...n),this.blockSize=4,this.ivSize=2}_doReset(){const n=this._key.words,{iv:i}=this.cfg;for(let f=0;f<4;f+=1)n[f]=16711935&(n[f]<<8|n[f]>>>24)|4278255360&(n[f]<<24|n[f]>>>8);this._X=[n[0],n[3]<<16|n[2]>>>16,n[1],n[0]<<16|n[3]>>>16,n[2],n[1]<<16|n[0]>>>16,n[3],n[2]<<16|n[1]>>>16];const s=this._X;this._C=[n[2]<<16|n[2]>>>16,4294901760&n[0]|65535&n[1],n[3]<<16|n[3]>>>16,4294901760&n[1]|65535&n[2],n[0]<<16|n[0]>>>16,4294901760&n[2]|65535&n[3],n[1]<<16|n[1]>>>16,4294901760&n[3]|65535&n[0]];const l=this._C;this._b=0;for(let f=0;f<4;f+=1)KT.call(this);for(let f=0;f<8;f+=1)l[f]^=s[f+4&7];if(i){const f=i.words,x=f[0],A=f[1],B=16711935&(x<<8|x>>>24)|4278255360&(x<<24|x>>>8),q=16711935&(A<<8|A>>>24)|4278255360&(A<<24|A>>>8),vt=B>>>16|4294901760&q,Tt=q<<16|65535&B;l[0]^=B,l[1]^=vt,l[2]^=q,l[3]^=Tt,l[4]^=B,l[5]^=vt,l[6]^=q,l[7]^=Tt;for(let Wt=0;Wt<4;Wt+=1)KT.call(this)}}_doProcessBlock(n,i){const s=n,l=this._X;KT.call(this),mm[0]=l[0]^l[5]>>>16^l[3]<<16,mm[1]=l[2]^l[7]>>>16^l[5]<<16,mm[2]=l[4]^l[1]>>>16^l[7]<<16,mm[3]=l[6]^l[3]>>>16^l[1]<<16;for(let f=0;f<4;f+=1)mm[f]=16711935&(mm[f]<<8|mm[f]>>>24)|4278255360&(mm[f]<<24|mm[f]>>>8),s[i+f]^=mm[f]}}const cJ=Wy._createHelper(hN),gm=[],ov=[],jo=[];function ZT(){const r=this._X,n=this._C;for(let i=0;i<8;i+=1)ov[i]=n[i];n[0]=n[0]+1295307597+this._b|0,n[1]=n[1]+3545052371+(n[0]>>>0<ov[0]>>>0?1:0)|0,n[2]=n[2]+886263092+(n[1]>>>0<ov[1]>>>0?1:0)|0,n[3]=n[3]+1295307597+(n[2]>>>0<ov[2]>>>0?1:0)|0,n[4]=n[4]+3545052371+(n[3]>>>0<ov[3]>>>0?1:0)|0,n[5]=n[5]+886263092+(n[4]>>>0<ov[4]>>>0?1:0)|0,n[6]=n[6]+1295307597+(n[5]>>>0<ov[5]>>>0?1:0)|0,n[7]=n[7]+3545052371+(n[6]>>>0<ov[6]>>>0?1:0)|0,this._b=n[7]>>>0<ov[7]>>>0?1:0;for(let i=0;i<8;i+=1){const s=r[i]+n[i],l=65535&s,f=s>>>16;jo[i]=((l*l>>>17)+l*f>>>15)+f*f^((4294901760&s)*s|0)+((65535&s)*s|0)}r[0]=jo[0]+(jo[7]<<16|jo[7]>>>16)+(jo[6]<<16|jo[6]>>>16)|0,r[1]=jo[1]+(jo[0]<<8|jo[0]>>>24)+jo[7]|0,r[2]=jo[2]+(jo[1]<<16|jo[1]>>>16)+(jo[0]<<16|jo[0]>>>16)|0,r[3]=jo[3]+(jo[2]<<8|jo[2]>>>24)+jo[1]|0,r[4]=jo[4]+(jo[3]<<16|jo[3]>>>16)+(jo[2]<<16|jo[2]>>>16)|0,r[5]=jo[5]+(jo[4]<<8|jo[4]>>>24)+jo[3]|0,r[6]=jo[6]+(jo[5]<<16|jo[5]>>>16)+(jo[4]<<16|jo[4]>>>16)|0,r[7]=jo[7]+(jo[6]<<8|jo[6]>>>24)+jo[5]|0}class uN extends Wy{constructor(...n){super(...n),this.blockSize=4,this.ivSize=2}_doReset(){const n=this._key.words,{iv:i}=this.cfg;this._X=[n[0],n[3]<<16|n[2]>>>16,n[1],n[0]<<16|n[3]>>>16,n[2],n[1]<<16|n[0]>>>16,n[3],n[2]<<16|n[1]>>>16];const s=this._X;this._C=[n[2]<<16|n[2]>>>16,4294901760&n[0]|65535&n[1],n[3]<<16|n[3]>>>16,4294901760&n[1]|65535&n[2],n[0]<<16|n[0]>>>16,4294901760&n[2]|65535&n[3],n[1]<<16|n[1]>>>16,4294901760&n[3]|65535&n[0]];const l=this._C;this._b=0;for(let f=0;f<4;f+=1)ZT.call(this);for(let f=0;f<8;f+=1)l[f]^=s[f+4&7];if(i){const f=i.words,x=f[0],A=f[1],B=16711935&(x<<8|x>>>24)|4278255360&(x<<24|x>>>8),q=16711935&(A<<8|A>>>24)|4278255360&(A<<24|A>>>8),vt=B>>>16|4294901760&q,Tt=q<<16|65535&B;l[0]^=B,l[1]^=vt,l[2]^=q,l[3]^=Tt,l[4]^=B,l[5]^=vt,l[6]^=q,l[7]^=Tt;for(let Wt=0;Wt<4;Wt+=1)ZT.call(this)}}_doProcessBlock(n,i){const s=n,l=this._X;ZT.call(this),gm[0]=l[0]^l[5]>>>16^l[3]<<16,gm[1]=l[2]^l[7]>>>16^l[5]<<16,gm[2]=l[4]^l[1]>>>16^l[7]<<16,gm[3]=l[6]^l[3]>>>16^l[1]<<16;for(let f=0;f<4;f+=1)gm[f]=16711935&(gm[f]<<8|gm[f]>>>24)|4278255360&(gm[f]<<24|gm[f]>>>8),s[i+f]^=gm[f]}}const fJ=Wy._createHelper(uN);function cN(){const r=this._S;let n=this._i,i=this._j,s=0;for(let l=0;l<4;l+=1){n=(n+1)%256,i=(i+r[n])%256;const f=r[n];r[n]=r[i],r[i]=f,s|=r[(r[n]+r[i])%256]<<24-8*l}return this._i=n,this._j=i,s}let qT=(()=>{class r extends Wy{_doReset(){const i=this._key,s=i.words,l=i.sigBytes;this._S=[];const f=this._S;for(let x=0;x<256;x+=1)f[x]=x;for(let x=0,A=0;x<256;x+=1){const B=x%l;A=(A+f[x]+(s[B>>>2]>>>24-B%4*8&255))%256;const vt=f[x];f[x]=f[A],f[A]=vt}this._j=0,this._i=this._j}_doProcessBlock(i,s){i[s]^=cN.call(this)}}return r.keySize=8,r.ivSize=0,r})();const dJ=Wy._createHelper(qT);class fN extends qT{constructor(...n){super(...n),Object.assign(this.cfg,{drop:192})}_doReset(){super._doReset.call(this);for(let n=this.cfg.drop;n>0;n-=1)cN.call(this)}}const pJ=Wy._createHelper(fN);function dN(r,n,i,s){const l=r;let f;const x=this._iv;x?(f=x.slice(0),this._iv=void 0):f=this._prevBlock,s.encryptBlock(f,0);for(let A=0;A<i;A+=1)l[n+A]^=f[A]}let mJ=(()=>{class r extends Nx{}return r.Encryptor=class extends r{processBlock(n,i){const s=this._cipher,{blockSize:l}=s;dN.call(this,n,i,l,s),this._prevBlock=n.slice(i,i+l)}},r.Decryptor=class extends r{processBlock(n,i){const s=this._cipher,{blockSize:l}=s,f=n.slice(i,i+l);dN.call(this,n,i,l,s),this._prevBlock=f}},r})();class h2 extends Nx{}h2.Encryptor=class extends h2{processBlock(r,n){const i=r,s=this._cipher,{blockSize:l}=s,f=this._iv;let x=this._counter;f&&(this._counter=f.slice(0),x=this._counter,this._iv=void 0);const A=x.slice(0);s.encryptBlock(A,0),x[l-1]=x[l-1]+1|0;for(let B=0;B<l;B+=1)i[n+B]^=A[B]}},h2.Decryptor=h2.Encryptor;const pN=r=>{let n=r;if(255==(r>>24&255)){let i=r>>16&255,s=r>>8&255,l=255&r;255===i?(i=0,255===s?(s=0,255===l?l=0:l+=1):s+=1):i+=1,n=0,n+=i<<16,n+=s<<8,n+=l}else n+=1<<24;return n};class u2 extends Nx{}u2.Encryptor=class extends u2{processBlock(r,n){const i=r,s=this._cipher,{blockSize:l}=s,f=this._iv;let x=this._counter;f&&(this._counter=f.slice(0),x=this._counter,this._iv=void 0),(r=>{const n=r;n[0]=pN(n[0]),0===n[0]&&(n[1]=pN(n[1]))})(x);const A=x.slice(0);s.encryptBlock(A,0);for(let B=0;B<l;B+=1)i[n+B]^=A[B]}},u2.Decryptor=u2.Encryptor;let vJ=(()=>{class r extends Nx{}return r.Encryptor=class extends r{processBlock(n,i){this._cipher.encryptBlock(n,i)}},r.Decryptor=class extends r{processBlock(n,i){this._cipher.decryptBlock(n,i)}},r})();class c2 extends Nx{}c2.Encryptor=class extends c2{processBlock(r,n){const i=r,s=this._cipher,{blockSize:l}=s,f=this._iv;let x=this._keystream;f&&(this._keystream=f.slice(0),x=this._keystream,this._iv=void 0),s.encryptBlock(x,0);for(let A=0;A<l;A+=1)i[n+A]^=x[A]}},c2.Decryptor=c2.Encryptor;const xJ={pad(r,n){const i=4*n,s=i-r.sigBytes%i;r.concat(Bo.random(s-1)).concat(Bo.create([s<<24],1))},unpad(r){r.sigBytes-=255&r.words[r.sigBytes-1>>>2]}},JT={pad(r,n){const i=r,s=4*n;i.clamp(),i.sigBytes+=s-(r.sigBytes%s||s)},unpad(r){const n=r,i=n.words;for(let s=n.sigBytes-1;s>=0;s-=1)if(i[s>>>2]>>>24-s%4*8&255){n.sigBytes=s+1;break}}},yD={lib:{Base:Kl,WordArray:Bo,BufferedBlockAlgorithm:RT,Hasher:hh,Cipher:BT,StreamCipher:Wy,BlockCipherMode:Nx,BlockCipher:Lx,CipherParams:o2,SerializableCipher:Fx,PasswordBasedCipher:VT},x64:{Word:ln,WordArray:NT},enc:{Hex:cD,Latin1:PT,Utf8:IT,Utf16:Iq,Utf16BE:H5,Utf16LE:Rq,Base64:LT},algo:{HMAC:OT,MD5:fD,SHA1:dD,SHA224:jT,SHA256:jb,SHA384:zT,SHA512:Hb,SHA3:UT,RIPEMD160:GT,PBKDF2:tN,EvpKDF:FT,AES:sN,DES:l2,TripleDES:lN,Rabbit:hN,RabbitLegacy:uN,RC4:qT,RC4Drop:fN},mode:{CBC:F5,CFB:mJ,CTR:h2,CTRGladman:u2,ECB:vJ,OFB:c2},pad:{Pkcs7:B5,AnsiX923:{pad(r,n){const i=r,s=i.sigBytes,l=4*n,f=l-s%l,x=s+f-1;i.clamp(),i.words[x>>>2]|=f<<24-x%4*8,i.sigBytes+=f},unpad(r){r.sigBytes-=255&r.words[r.sigBytes-1>>>2]}},Iso10126:xJ,Iso97971:{pad(r,n){r.concat(Bo.create([2147483648],1)),JT.pad(r,n)},unpad(r){const n=r;JT.unpad(n),n.sigBytes-=1}},NoPadding:{pad(){},unpad(){}},ZeroPadding:JT},format:{OpenSSL:V5,Hex:{stringify:r=>r.ciphertext.toString(cD),parse(r){const n=cD.parse(r);return o2.create({ciphertext:n})}}},kdf:{OpenSSL:j5},MD5:Aq,HmacMD5:Tq,SHA1:Oq,HmacSHA1:Nq,SHA224:Vq,HmacSHA224:jq,SHA256:Fq,HmacSHA256:Bq,SHA384:Gq,HmacSHA384:Wq,SHA512:Hq,HmacSHA512:Uq,SHA3:Yq,HmacSHA3:$q,RIPEMD160:tJ,HmacRIPEMD160:eJ,PBKDF2:(r,n,i)=>tN.create(i).compute(r,n),EvpKDF:(r,n,i)=>FT.create(i).compute(r,n),AES:rJ,DES:hJ,TripleDES:uJ,Rabbit:cJ,RabbitLegacy:fJ,RC4:dJ,RC4Drop:pJ};let f2=(()=>{class r{constructor(i,s){this.route=i,this.http=s,this.isStarted=!1,this.isStarting=new C,this.userMode=new iu(ep.test),this.specialRightsMap={"8ccc189d957167a5f153089f7f50bc7574332880011eefd0470ac84534471a7c":"admin"}}fetchSettings(){this.route.queryParams.subscribe(i=>{this.initSettings(i)})}loading(){var i=this;return mc(function*(){i.isStarted||(yield Vb(i.isStarting))})()}initSettings(i){var s;this.secretReadString=this.getSetting(i,"secret"),this.secretWriteString=this.getSetting(i,"secret-write"),this.secretReadString&&this.getFile("secret-read.txt").pipe(Sl(l=>{this.secret=this.decrypt(l,this.secretReadString)}),ru(()=>this.getFile("secret-write.txt"))).subscribe(l=>{this.secretWrite=this.decrypt(l,this.secretWriteString),this.userMode.next(this.secret&&this.secretWrite?ep.write:this.secret?ep.read:ep.test),this.isStarting.next(!1),this.isStarted=!0}),this.specialRightsString=this.getSetting(i,"special-rights"),this.specialRights=new Array,null===(s=this.specialRightsString)||void 0===s||s.split(",").forEach(l=>{const f=this.hash(l);this.specialRightsMap[f]&&this.specialRights.push(this.specialRightsMap[f])})}getFile(i){return this.http.get(`assets/${i}`,{responseType:"text"})}decrypt(i,s){if(s)try{const f=yD.AES.decrypt(i,s).toString(yD.enc.Utf8);return JSON.parse(f)}catch(l){return void console.log("incorrect secret",s,l)}}encrypt(i,s){const f=yD.AES.encrypt(i,s).toString();console.log(f)}hash(i){const s=yD.SHA256(i).toString();return console.log(s),s}hasSpecialRight(i){return this.specialRights.includes(i)}getSetting(i,s){return i[s]}}return r.\u0275fac=function(i){return new(i||r)(gi(tv),gi(Ob))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),wJ=(()=>{class r{constructor(i,s){this.settingsService=i,this.http=s,this.testData={range:"Tanzfiguren!A1:R500",majorDimension:"ROWS",values:[["Name","Tanz","Beschreibung","Lerndatum","Lernreihenfolge","Count","Name gesichert","Typ","Eingang","Ausgang","\xc4hnliche Tanzfiguren","In anderen T\xe4nzen","Videoname","Links","ToDo","Benutzer","test","__id"],["Basico (B)","Bachata","","04.11.2021","0","8","TRUE","Figur","","","","","","","","mvolkert","","TTtVY2FVb0AoK0VJVjR2OUtPV0U"]]},this.createCourseDateDto=(l,f)=>({date:R5(l[0]),course:l[1],moveName:l[2],row:f+1}),this.createMoveDto=(l,f)=>({name:l[0],dance:l[1],description:l[2],date:R5(l[3]),order:l[4],count:l[5],nameVerified:Cq(l[6]),type:l[7],startMove:this.stringToArray(l[8]),endMove:this.stringToArray(l[9]),relatedMoves:this.stringToArray(l[10]),relatedMovesOtherDances:this.stringToArray(l[11]),videoname:l[12],links:l[13],toDo:l[14],row:f+1,courseDates:[]}),this.createCourseDto=(l,f)=>({course:l[0],dances:this.stringToArray(l[1]),school:l[0],description:l[0],row:f+1}),this.createDanceDto=(l,f)=>({name:l[0],type:l[1],music:l[2],rhythm:l[3],school:l[4],level:l[5],description:l[6],links:l[7],row:f+1}),this.settingsService.userMode.subscribe(l=>this.userMode=l)}getMoves(){var i=this;return mc(function*(){var s;return yield i.settingsService.loading(),Vb(i.spreadsheetsGet(null===(s=i.settingsService.secret)||void 0===s?void 0:s.movesSheetId,"Tanzfiguren!A1:S500").pipe(W(l=>i.mapRows(l,i.createMoveDto))))})()}getCourseDates(){var i=this;return mc(function*(){var s;return yield i.settingsService.loading(),Vb(i.spreadsheetsGet(null===(s=i.settingsService.secret)||void 0===s?void 0:s.courseDatesSheetId,"Course Dates!A1:C1000").pipe(W(l=>i.mapRows(l,i.createCourseDateDto))))})()}getCourses(){var i=this;return mc(function*(){var s;return yield i.settingsService.loading(),Vb(i.spreadsheetsGet(null===(s=i.settingsService.secret)||void 0===s?void 0:s.movesSheetId,"Courses!A1:D1000").pipe(W(l=>i.mapRows(l,i.createCourseDto))))})()}getDances(){var i=this;return mc(function*(){var s;return yield i.settingsService.loading(),Vb(i.spreadsheetsGet(null===(s=i.settingsService.secret)||void 0===s?void 0:s.movesSheetId,"T\xe4nze!A1:H100").pipe(W(l=>i.mapRows(l,i.createDanceDto))))})()}mapRows(i,s){const l=new Array,f=null==i?void 0:i.values;if((null==f?void 0:f.length)>0)for(let A=1;A<f.length;A++){var x=f[A];(x[0]||x[1])&&l.push(s(x,A))}return l}appendData(i){var s;const f={values:[this.moveToLine(i)]};return this.spreadsheetsPost(null===(s=this.settingsService.secret)||void 0===s?void 0:s.movesSheetId,"Tanzfiguren!A400:U400",f,":append")}patchData(i){var s;const l=`Tanzfiguren!A${i.row}:U${i.row}`,f={values:[this.moveToLine(i)]};return this.spreadsheetsPut(null===(s=this.settingsService.secret)||void 0===s?void 0:s.movesSheetId,l,f)}appendCourseDate(i){var s;const f={values:[this.courseDateToLine(i)]};return this.spreadsheetsPost(null===(s=this.settingsService.secret)||void 0===s?void 0:s.courseDatesSheetId,"Course Dates!A400:C400",f,":append")}patchCourseDate(i){var s;const l=`Course Dates!A${i.row}:C${i.row}`,f={values:[this.courseDateToLine(i)]};return this.spreadsheetsPut(null===(s=this.settingsService.secret)||void 0===s?void 0:s.courseDatesSheetId,l,f)}spreadsheetsGet(i,s){var l;return this.userMode===ep.test?fr(this.testData):this.http.get(`https://content-sheets.googleapis.com/v4/spreadsheets/${i}/values/${encodeURI(s)}`,{params:{key:null===(l=this.settingsService.secret)||void 0===l?void 0:l.apiKey}})}spreadsheetsPost(i,s,l,f=""){return this.userMode!==ep.write?fr({updates:{updatedRange:"T!A42:S42"}}):this.loginWrite().pipe(ru(x=>this.http.post(`https://content-sheets.googleapis.com/v4/spreadsheets/${i}/values/${encodeURI(s)}${f}`,l,{headers:{Authorization:`Bearer ${x.access_token}`},params:{valueInputOption:"USER_ENTERED"}})))}spreadsheetsPut(i,s,l,f=""){return this.userMode!==ep.write?fr({}):this.loginWrite().pipe(ru(x=>this.http.put(`https://content-sheets.googleapis.com/v4/spreadsheets/${i}/values/${encodeURI(s)}${f}`,l,{headers:{Authorization:`Bearer ${x.access_token}`},params:{valueInputOption:"USER_ENTERED"}})))}loginWrite(){if(!this.settingsService.secretWrite)return fr({});if(this.writeToken&&this.lastUpdated&&this.nowInSec()-this.lastUpdated<this.writeToken.expires_in-100)return fr(this.writeToken);const i=this.createJwt();return this.lastUpdated=this.nowInSec(),this.http.post("https://oauth2.googleapis.com/token",{grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:i}).pipe(Sl(s=>this.writeToken=s))}nowInSec(){return Date.now()/1e3}createJwt(){const i=this.settingsService.secretWrite,s=Date.now()/1e3;return Dq.encode({iss:i.client_email,sub:i.client_email,scope:"https://www.googleapis.com/auth/spreadsheets",aud:i.token_uri,iat:s,exp:s+3600},i.private_key,"RS256",{header:{kid:i.private_key_id}})}stringToArray(i){return(i=null==i?void 0:i.trim())?Array.from(new Set(i.split(",").map(s=>s.trim()).filter(s=>Boolean(s))).values()):[]}moveToLine(i){var s,l,f,x;return[i.name,i.dance,i.description,O5(i.date),i.order,i.count,String(i.nameVerified),i.type,null===(s=i.startMove)||void 0===s?void 0:s.join(","),null===(l=i.endMove)||void 0===l?void 0:l.join(","),null===(f=i.relatedMoves)||void 0===f?void 0:f.join(","),null===(x=i.relatedMovesOtherDances)||void 0===x?void 0:x.join(","),i.videoname,i.links,i.toDo]}courseDateToLine(i){return[O5(i.date),i.course,i.moveName]}}return r.\u0275fac=function(i){return new(i||r)(gi(f2),gi(Ob))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function bJ(r,n){if(1&r){const i=Ya();Xe(0,"div",1),Xe(1,"button",2),e("click",function(){return qo(i),_().action()}),qi(2),Ke(),Ke()}if(2&r){const i=_();ki(2),_s(i.data.action)}}function _J(r,n){}const mN=new pn("MatSnackBarData");class xD{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const MJ=Math.pow(2,31)-1;class QT{constructor(n,i){this._overlayRef=i,this._afterDismissed=new C,this._afterOpened=new C,this._onAction=new C,this._dismissedByAction=!1,this.containerInstance=n,this.onAction().subscribe(()=>this.dismiss()),n._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(n){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(n,MJ))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let CJ=(()=>{class r{constructor(i,s){this.snackBarRef=i,this.data=s}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return r.\u0275fac=function(i){return new(i||r)(ye(QT),ye(mN))},r.\u0275cmp=gn({type:r,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(i,s){1&i&&(Xe(0,"span"),qi(1),Ke(),Mn(2,bJ,3,1,"div",0)),2&i&&(ki(1),_s(s.data.message),ki(1),Pi("ngIf",s.hasAction))},directives:[ku,Xg],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),r})();const SJ={snackBarState:$g("state",[af("void, hidden",Ra({transform:"scale(0.8)",opacity:0})),af("visible",Ra({transform:"scale(1)",opacity:1})),lf("* => visible",Zf("150ms cubic-bezier(0, 0, 0.2, 1)")),lf("* => void, * => hidden",Zf("75ms cubic-bezier(0.4, 0.0, 1, 1)",Ra({opacity:0})))])};let DJ=(()=>{class r extends BA{constructor(i,s,l,f,x){super(),this._ngZone=i,this._elementRef=s,this._changeDetectorRef=l,this._platform=f,this.snackBarConfig=x,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new C,this._onExit=new C,this._onEnter=new C,this._animationState="void",this.attachDomPortal=A=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(A)),this._live="assertive"!==x.politeness||x.announcementMessage?"off"===x.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(i){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(i)}attachTemplatePortal(i){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(i)}onAnimationEnd(i){const{fromState:s,toState:l}=i;if(("void"===l&&"void"!==s||"hidden"===l)&&this._completeExit(),"visible"===l){const f=this._onEnter;this._ngZone.run(()=>{f.next(),f.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Xn(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const i=this._elementRef.nativeElement,s=this.snackBarConfig.panelClass;s&&(Array.isArray(s)?s.forEach(l=>i.classList.add(l)):i.classList.add(s)),"center"===this.snackBarConfig.horizontalPosition&&i.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&i.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector("[aria-hidden]"),s=this._elementRef.nativeElement.querySelector("[aria-live]");if(i&&s){let l=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&i.contains(document.activeElement)&&(l=document.activeElement),i.removeAttribute("aria-hidden"),s.appendChild(i),null==l||l.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return r.\u0275fac=function(i){return new(i||r)(ye(Cr),ye(mr),ye(ra),ye($l),ye(xD))},r.\u0275cmp=gn({type:r,selectors:[["snack-bar-container"]],viewQuery:function(i,s){if(1&i&&Cs(BM,7),2&i){let l;or(l=sr())&&(s._portalOutlet=l.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(i,s){1&i&&o("@state.done",function(f){return s.onAnimationEnd(f)}),2&i&&Gd("@state",s._animationState)},features:[rr],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,s){1&i&&(Xe(0,"div",0),Mn(1,_J,0,0,"ng-template",1),Ke(),An(2,"div")),2&i&&(ki(2),Ir("aria-live",s._live)("role",s._role))},directives:[BM],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[SJ.snackBarState]}}),r})(),gN=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({imports:[[LS,NS,l0,RA,$o],$o]}),r})();const EJ=new pn("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new xD}});let AJ=(()=>{class r{constructor(i,s,l,f,x,A){this._overlay=i,this._live=s,this._injector=l,this._breakpointObserver=f,this._parentSnackBar=x,this._defaultConfig=A,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=CJ,this.snackBarContainerComponent=DJ,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const i=this._parentSnackBar;return i?i._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(i){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=i:this._snackBarRefAtThisLevel=i}openFromComponent(i,s){return this._attach(i,s)}openFromTemplate(i,s){return this._attach(i,s)}open(i,s="",l){const f=Dn(Dn({},this._defaultConfig),l);return f.data={message:i,action:s},f.announcementMessage===i&&(f.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,f)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(i,s){const f=Ro.create({parent:s&&s.viewContainerRef&&s.viewContainerRef.injector||this._injector,providers:[{provide:xD,useValue:s}]}),x=new LM(this.snackBarContainerComponent,s.viewContainerRef,f),A=i.attach(x);return A.instance.snackBarConfig=s,A.instance}_attach(i,s){const l=Dn(Dn(Dn({},new xD),this._defaultConfig),s),f=this._createOverlay(l),x=this._attachSnackBarContainer(f,l),A=new QT(x,f);if(i instanceof Kf){const B=new FM(i,null,{$implicit:l.data,snackBarRef:A});A.instance=x.attachTemplatePortal(B)}else{const B=this._createInjector(l,A),q=new LM(i,void 0,B),vt=x.attachComponentPortal(q);A.instance=vt.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(gs(f.detachments())).subscribe(B=>{f.overlayElement.classList.toggle(this.handsetCssClass,B.matches)}),l.announcementMessage&&x._onAnnounce.subscribe(()=>{this._live.announce(l.announcementMessage,l.politeness)}),this._animateSnackBar(A,l),this._openedSnackBarRef=A,this._openedSnackBarRef}_animateSnackBar(i,s){i.afterDismissed().subscribe(()=>{this._openedSnackBarRef==i&&(this._openedSnackBarRef=null),s.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{i.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):i.containerInstance.enter(),s.duration&&s.duration>0&&i.afterOpened().subscribe(()=>i._dismissAfter(s.duration))}_createOverlay(i){const s=new VM;s.direction=i.direction;let l=this._overlay.position().global();const f="rtl"===i.direction,x="left"===i.horizontalPosition||"start"===i.horizontalPosition&&!f||"end"===i.horizontalPosition&&f,A=!x&&"center"!==i.horizontalPosition;return x?l.left("0"):A?l.right("0"):l.centerHorizontally(),"top"===i.verticalPosition?l.top("0"):l.bottom("0"),s.positionStrategy=l,this._overlay.create(s)}_createInjector(i,s){return Ro.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:QT,useValue:s},{provide:mN,useValue:i.data}]})}}return r.\u0275fac=function(i){return new(i||r)(gi(Kg),gi(Xk),gi(Ro),gi(DI),gi(r,12),gi(EJ))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:gN}),r})(),vm=(()=>{class r{constructor(i){this.router=i,this.headlineObservable=new iu("Dancing Moves")}navigate(i=[],s){return this.router.navigate(i,s?{queryParams:s,queryParamsHandling:"merge"}:{queryParamsHandling:"merge"})}openWebsiteIfEasterEggFound(i){const s=null==i?void 0:i.toLocaleLowerCase().replace(/\s/g,"").replace(/-/g,"");console.log(s),"supersecretmoves"===s?document.location.href="https://www.super-secret-moves.com/":"tanzstudioschlegl"===s&&(document.location.href="https://tanzstudio-schlegl.de/")}}return r.\u0275fac=function(i){return new(i||r)(gi(uf))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Yy=(()=>{class r{constructor(i,s,l,f){this.apiclientService=i,this.snackBar=s,this.route=l,this.navService=f,this.movesSubject=new iu(new Array),this.movesObservable=this.movesSubject.asObservable(),this.searchFilterObservable=new iu({}),this.relationsSelectionObservable=new iu({}),this.isStarted=!1,this.isStarting=new C,this.groupByDance=x=>x.reduce((A,B)=>(A[B.dance]||(A[B.dance]=[]),A[B.dance].push(B.name),A),{}),this.tapRequest=Sl({next:x=>{console.log(x)},error:x=>{var A,B;console.log(x),this.snackBar.open(`error:${null===(B=null===(A=null==x?void 0:x.result)||void 0===A?void 0:A.error)||void 0===B?void 0:B.message}`,"OK")}}),this.saveOrCreateCourseDates=x=>Sk(x.courseDates.filter(A=>A.course||A.date).map(A=>(A.moveName=x.name,A)).map(this.saveOrCreateCourseDate)).pipe(hT([]),W(A=>(x.courseDates=A,x))),this.saveOrCreateCourseDate=x=>x.row?this.apiclientService.patchCourseDate(x).pipe(W(A=>x),this.tapRequest):this.apiclientService.appendCourseDate(x).pipe(W(A=>(x.row=N5(A.updates.updatedRange),x)),this.tapRequest),this.updateMoveData=x=>{let A=JSON.parse(JSON.stringify(this.movesSubject.value));return A=A.filter(B=>B.name!=x.name),A.push(x),this.movesSubject.next(A),this.navService.navigate(["move",x.name]),x},this.route.queryParams.subscribe(x=>{var A;(x.dance||x.move||x.course||x.type)&&this.searchFilterObservable.next({dance:x.dance,move:x.move,course:x.course,type:x.type});let B=x.relationTypes;B?"string"==typeof B&&(B=[B]):B=[ed.start,ed.end];let q=null===(A=x.displayType)||void 0===A?void 0:A.trim();q||(q=ev.cytoscape),this.relationsSelectionObservable.next({relationTypes:B,displayType:q})})}start(){var i=this;return mc(function*(){const s=yield i.apiclientService.getMoves(),l=yield i.apiclientService.getCourseDates();i.dances=yield i.apiclientService.getDances();for(const f of s)f.courseDates=l.filter(x=>x.moveName==f.name);i.movesSubject.next(s),i.isStarting.next(!1),i.isStarted=!0})()}loading(){var i=this;return mc(function*(){i.isStarted||(yield Vb(i.isStarting))})()}getMove(i){const s=this.movesSubject.value.filter(l=>l.name==i);if(s.length>0)return s[0]}getGroupedMoveNames(){return this.movesSubject.asObservable().pipe(W(i=>Object.entries(this.groupByDance(i)).map(([s,l])=>({dance:s,names:l}))))}getMovesNamesOf(i){return new Set(this.movesSubject.value.filter(s=>!i||s.dance==i).map(s=>s.name))}getMovesNames(){return new Set(this.movesSubject.value.map(i=>i.name))}getDanceNames(){return new Set(this.movesSubject.value.map(i=>i.dance))}getDances(){return this.dances}getCourseNames(){return new Set(this.movesSubject.value.flatMap(i=>i.courseDates.map(s=>s.course)))}getTypes(){return new Set(this.movesSubject.value.map(i=>i.type).sort())}getRelationPairs(i){return this.searchFilterObservable.pipe(W(s=>{const l=new Array,f=this.selectMoves(this.movesSubject.value,this.getDanceNames(),s);for(const x of f)i.includes(ed.start)&&x.startMove.filter(A=>A).forEach(A=>l.push({to:x.name,from:A})),i.includes(ed.end)&&x.endMove.filter(A=>A).forEach(A=>l.push({from:x.name,to:A})),i.includes(ed.related)&&x.relatedMoves.filter(A=>A).forEach(A=>l.push({from:x.name,to:A})),i.includes(ed.otherDance)&&x.relatedMovesOtherDances.filter(A=>A).forEach(A=>l.push({from:x.name,to:A}));return l}))}selectMoves(i,s,l){return i.filter(f=>!s.has(l.dance)||f.dance==l.dance).filter(f=>!l.move||f.name.includes(l.move)).filter(f=>!l.course||f.courseDates.map(x=>x.course).includes(l.course)).filter(f=>!l.type||f.type.includes(l.type))}saveOrCreate(i){return i.row?this.apiclientService.patchData(i).pipe(W(s=>i),this.tapRequest,ru(this.saveOrCreateCourseDates),W(this.updateMoveData)):this.apiclientService.appendData(i).pipe(W(s=>(i.row=N5(s.updates.updatedRange),i)),this.tapRequest,ru(this.saveOrCreateCourseDates),W(this.updateMoveData))}normalize(){var i=this;return mc(function*(){console.log("normalize");for(const s of i.movesSubject.value)s.description&&(console.log(s),i.saveOrCreate(s),yield Sq(1e3))})()}}return r.\u0275fac=function(i){return new(i||r)(gi(wJ),gi(AJ),gi(tv),gi(vm))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const TJ=["primaryValueBar"],PJ=Sx(class{constructor(r){this._elementRef=r}},"primary"),IJ=new pn("mat-progress-bar-location",{providedIn:"root",factory:function(){const r=$h(zr),n=r?r.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),OJ=new pn("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let NJ=0,wD=(()=>{class r extends PJ{constructor(i,s,l,f,x){super(i),this._ngZone=s,this._animationMode=l,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new Sn,this._animationEndSubscription=E.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+NJ++;const A=f?f.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${A}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===l,x&&(x.color&&(this.color=this.defaultColor=x.color),this.mode=x.mode||this.mode)}get value(){return this._value}set value(i){this._value=vN(Ry(i)||0)}get bufferValue(){return this._bufferValue}set bufferValue(i){this._bufferValue=vN(i||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const i=this._primaryValueBar.nativeElement;this._animationEndSubscription=f0(i,"transitionend").pipe(Ks(s=>s.target===i)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return r.\u0275fac=function(i){return new(i||r)(ye(mr),ye(Cr),ye(Qf,8),ye(IJ,8),ye(OJ,8))},r.\u0275cmp=gn({type:r,selectors:[["mat-progress-bar"]],viewQuery:function(i,s){if(1&i&&Cs(TJ,5),2&i){let l;or(l=sr())&&(s._primaryValueBar=l.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(i,s){2&i&&(Ir("aria-valuenow","indeterminate"===s.mode||"query"===s.mode?null:s.value)("mode",s.mode),Er("_mat-animation-noopable",s._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[rr],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(i,s){1&i&&(Xe(0,"div",0),Rm(),Xe(1,"svg",1),Xe(2,"defs"),Xe(3,"pattern",2),An(4,"circle",3),Ke(),Ke(),An(5,"rect",4),Ke(),k0(),An(6,"div",5),An(7,"div",6,7),An(9,"div",8),Ke()),2&i&&(ki(3),Pi("id",s.progressbarId),ki(2),Ir("fill",s._rectangleFillValue),ki(1),Pi("ngStyle",s._bufferTransform()),ki(1),Pi("ngStyle",s._primaryTransform()))},directives:[K4],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),r})();function vN(r,n=0,i=100){return Math.max(n,Math.min(i,r))}let LJ=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({imports:[[l0,$o],$o]}),r})();function FJ(r,n){1&r&&An(0,"mat-progress-bar",2)}function BJ(r,n){1&r&&(Xe(0,"a",4),qi(1,"Playlist"),Ke()),2&r&&Pi("href",_().$implicit.music,vl)}function VJ(r,n){if(1&r&&(Kp(0),Xe(1,"mat-card"),Xe(2,"mat-card-title"),qi(3),Ke(),Xe(4,"mat-card-subtitle"),qi(5),Ke(),Xe(6,"mat-card-content"),Xe(7,"div"),qi(8),Ke(),Mn(9,BJ,2,1,"a",3),Ke(),Ke(),An(10,"mat-divider"),Wc()),2&r){const i=n.$implicit;ki(3),_s(i.name),ki(2),oh("",i.type,", Takt: ",i.rhythm,""),ki(3),_s(i.description),ki(1),Pi("ngIf",i.music)}}let jJ=(()=>{class r{constructor(i,s){this.dataManagerService=i,this.navService=s,this.dances=[],this.loaded=!1,this.navService.headlineObservable.next("Dances")}ngOnInit(){var i=this;return mc(function*(){yield i.dataManagerService.loading(),i.dances=i.dataManagerService.getDances(),i.loaded=!0})()}}return r.\u0275fac=function(i){return new(i||r)(ye(Yy),ye(vm))},r.\u0275cmp=gn({type:r,selectors:[["ng-component"]],decls:2,vars:2,consts:[["mode","indeterminate",4,"ngIf"],[4,"ngFor","ngForOf"],["mode","indeterminate"],[3,"href",4,"ngIf"],[3,"href"]],template:function(i,s){1&i&&(Mn(0,FJ,1,0,"mat-progress-bar",0),Mn(1,VJ,11,5,"ng-container",1)),2&i&&(Pi("ngIf",!s.loaded),ki(1),Pi("ngForOf",s.dances))},directives:[ku,zg,wD,h8,a8,l8,s8,nT],styles:[""]}),r})();function zJ(r,n){if(1&r&&(Xe(0,"span"),qi(1),hx(2,"date"),Ke()),2&r){const i=_().$implicit;ki(1),pa("",X3(2,1,i.date,"dd.MM.yyyy"),"\xa0")}}function HJ(r,n){if(1&r&&(Xe(0,"div"),Mn(1,zJ,3,4,"span",3),Xe(2,"span"),qi(3),Ke(),Ke()),2&r){const i=n.$implicit,s=_();ki(1),Pi("ngIf",s.isDateValid(i)),ki(2),_s(i.course)}}let UJ=(()=>{class r{constructor(i){this.navService=i}ngOnInit(){}openDetails(){return this.navService.navigate(["move",encodeURI(this.moveDto.name)])}isDateValid(i){var s;return(null==i?void 0:i.date)&&"Invalid Date"!==(null===(s=null==i?void 0:i.date)||void 0===s?void 0:s.toString())}}return r.\u0275fac=function(i){return new(i||r)(ye(vm))},r.\u0275cmp=gn({type:r,selectors:[["app-move-card"]],inputs:{moveDto:["move-dto","moveDto"]},decls:11,vars:3,consts:[[4,"ngFor","ngForOf"],["align","end"],["mat-button","",3,"click"],[4,"ngIf"]],template:function(i,s){1&i&&(Xe(0,"mat-card"),Xe(1,"mat-card-title"),qi(2),Ke(),Xe(3,"mat-card-subtitle"),qi(4),Ke(),Xe(5,"mat-card-content"),Mn(6,HJ,4,2,"div",0),Ke(),Xe(7,"mat-card-actions",1),Xe(8,"button",2),e("click",function(){return s.openDetails()}),qi(9,"Details"),Ke(),Ke(),Ke(),An(10,"mat-divider")),2&i&&(ki(2),_s(s.moveDto.name),ki(2),_s(s.moveDto.dance),ki(2),Pi("ngForOf",s.moveDto.courseDates))},directives:[h8,a8,l8,s8,zg,xW,Xg,nT,ku],pipes:[Z4],styles:[""]}),r})();function GJ(r,n){1&r&&An(0,"mat-progress-bar",2)}function WJ(r,n){if(1&r&&(Kp(0),An(1,"app-move-card",3),Wc()),2&r){const i=n.$implicit;ki(1),Pi("move-dto",i)}}let YJ=(()=>{class r{constructor(i,s){this.dataManagerService=i,this.navService=s,this.moves=[],this.allMoves=[],this.loaded=!1,this.navService.headlineObservable.next("Dancing Moves")}ngOnInit(){var i=this;return mc(function*(){yield i.dataManagerService.loading(),i.dataManagerService.movesObservable.subscribe(s=>{i.moves=s.sort(i.generateSortFn([l=>l.dance,l=>Number(l.order)])),i.allMoves=JSON.parse(JSON.stringify(i.moves))}),i.dataManagerService.searchFilterObservable.subscribe(s=>{i.moves=i.dataManagerService.selectMoves(i.allMoves,i.dataManagerService.getDanceNames(),s),i.moves.sort(i.generateSortFn(s.course?[l=>l.dance,l=>l.courseDates.filter(f=>f.course===s.course).map(f=>f.date).pop(),l=>Number(l.order)]:[l=>l.dance,l=>Number(l.order)]))}),i.loaded=!0})()}generateSortFn(i){return(s,l)=>{for(let f of i)if(f(s)&&f(l)){if(f(s)<f(l))return-1;if(f(s)>f(l))return 1}return 0}}}return r.\u0275fac=function(i){return new(i||r)(ye(Yy),ye(vm))},r.\u0275cmp=gn({type:r,selectors:[["app-move-cards-page"]],decls:2,vars:2,consts:[["mode","indeterminate",4,"ngIf"],[4,"ngFor","ngForOf"],["mode","indeterminate"],[3,"move-dto"]],template:function(i,s){1&i&&(Mn(0,GJ,1,0,"mat-progress-bar",0),Mn(1,WJ,2,1,"ng-container",1)),2&i&&(Pi("ngIf",!s.loaded),ki(1),Pi("ngForOf",s.moves))},directives:[ku,zg,wD,UJ],styles:[""]}),r})();var yN=Ft(7674);const $J=["*"];var d2=(()=>{return(r=d2||(d2={})).CommandLine="command-line",r.LineHighlight="line-highlight",r.LineNumbers="line-numbers",d2;var r})();class KJ{}const xN=new pn("SECURITY_CONTEXT");let t3=(()=>{class r{constructor(i,s,l,f,x){this.platform=i,this.securityContext=s,this.http=l,this.sanitizer=x,this.initialMarkedOptions={renderer:new yN.Renderer},this.options=f}get options(){return this._options}set options(i){this._options=Dn(Dn({},this.initialMarkedOptions),i)}get renderer(){return this.options.renderer}set renderer(i){this.options.renderer=i}compile(i,s=!1,l=!1,f=this.options){const x=this.trimIndentation(i),A=s?this.decodeHtml(x):x,B=l?this.renderEmoji(A):A,q=yN.parse(B,f);return this.sanitizer.sanitize(this.securityContext,q)||""}getSource(i){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(i,{responseType:"text"}).pipe(W(s=>this.handleExtension(i,s)))}highlight(i){if(yb(this.platform)&&"undefined"!=typeof Prism){i||(i=document);const s=i.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(s,l=>l.classList.add("language-none")),Prism.highlightAllUnder(i)}}renderKatex(i,s){if(!yb(this.platform))return i;if("undefined"==typeof katex||void 0===katex.renderToString)throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");return i.replace(/\$([^\s][^$]*?[^\s])\$/gm,(l,f)=>katex.renderToString(f,s))}decodeHtml(i){if(!yb(this.platform))return i;const s=document.createElement("textarea");return s.innerHTML=i,s.value}handleExtension(i,s){const l=i?i.split("?")[0].split(".").splice(-1).join():"";return"md"!==l?"```"+l+"\n"+s+"\n```":s}renderEmoji(i){if(!yb(this.platform))return i;if("undefined"==typeof joypixels||void 0===joypixels.shortnameToUnicode)throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(i)}trimIndentation(i){if(!i)return"";let s;return i.split("\n").map(l=>{let f=s;return l.length>0&&(f=isNaN(f)?l.search(/\S|$/):Math.min(l.search(/\S|$/),f)),isNaN(s)&&(s=f),f?l.substring(f):l}).join("\n")}}return r.\u0275fac=function(i){return new(i||r)(gi(cx),gi(xN),gi(Ob,8),gi(KJ,8),gi(Py))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})(),wN=(()=>{class r{constructor(i,s){this.element=i,this.markdownService=s,this.error=new Sn,this.load=new Sn,this.ready=new Sn,this._commandLine=!1,this._emoji=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1}get emoji(){return this._emoji}set emoji(i){this._emoji=this.coerceBooleanProperty(i)}get katex(){return this._katex}set katex(i){this._katex=this.coerceBooleanProperty(i)}get lineHighlight(){return this._lineHighlight}set lineHighlight(i){this._lineHighlight=this.coerceBooleanProperty(i)}get lineNumbers(){return this._lineNumbers}set lineNumbers(i){this._lineNumbers=this.coerceBooleanProperty(i)}get commandLine(){return this._commandLine}set commandLine(i){this._commandLine=this.coerceBooleanProperty(i)}ngOnChanges(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion()}render(i,s=!1){let l=this.markdownService.compile(i,s,this.emoji);l=this.katex?this.markdownService.renderKatex(l,this.katexOptions):l,this.element.nativeElement.innerHTML=l,this.handlePlugins(),this.markdownService.highlight(this.element.nativeElement),this.ready.emit()}coerceBooleanProperty(i){return null!=i&&"false"!=`${String(i)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe(i=>{this.render(i),this.load.emit(i)},i=>this.error.emit(i))}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,d2.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,d2.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(i,s){const l=i.querySelectorAll("pre");for(let f=0;f<l.length;f++){const x=s instanceof Array?s:[s];l.item(f).classList.add(...x)}}setPluginOptions(i,s){const l=i.querySelectorAll("pre");for(let f=0;f<l.length;f++)Object.keys(s).forEach(x=>{const A=s[x];if(A){const B=this.toLispCase(x);l.item(f).setAttribute(B,A.toString())}})}toLispCase(i){const s=i.match(/([A-Z])/g);if(!s)return i;let l=i.toString();for(let f=0,x=s.length;f<x;f++)l=l.replace(new RegExp(s[f]),"-"+s[f].toLowerCase());return"-"===l.slice(0,1)&&(l=l.slice(1)),l}}return r.\u0275fac=function(i){return new(i||r)(ye(mr),ye(t3))},r.\u0275cmp=gn({type:r,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[Xr],ngContentSelectors:$J,decls:1,vars:0,template:function(i,s){1&i&&(P(),F(0))},encapsulation:2}),r})(),tQ=(()=>{class r{static forRoot(i){return{ngModule:r,providers:[t3,i&&i.loader||[],i&&i.markedOptions||[],{provide:xN,useValue:i&&null!=i.sanitize?i.sanitize:Dr.HTML}]}}static forChild(){return{ngModule:r}}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({}),r})();function eQ(r,n){1&r&&An(0,"mat-progress-bar",4)}function iQ(r,n){1&r&&(Xe(0,"mat-error"),qi(1," Name must be unique "),Ke())}function nQ(r,n){1&r&&(Xe(0,"mat-error"),qi(1," Name is "),Xe(2,"strong"),qi(3,"required"),Ke(),Ke())}function rQ(r,n){if(1&r&&(Xe(0,"mat-option",29),qi(1),Ke()),2&r){const i=n.$implicit;Pi("value",i),ki(1),_s(i)}}function oQ(r,n){if(1&r&&(Xe(0,"mat-option",29),qi(1),Ke()),2&r){const i=n.$implicit;Pi("value",i),ki(1),_s(i)}}function sQ(r,n){if(1&r&&(Xe(0,"mat-option",29),qi(1),Ke()),2&r){const i=n.$implicit;Pi("value",i),ki(1),pa(" ",i," ")}}function aQ(r,n){if(1&r&&(Xe(0,"mat-option",29),qi(1),Ke()),2&r){const i=n.$implicit;Pi("value",i),ki(1),pa(" ",i," ")}}function lQ(r,n){if(1&r&&(Xe(0,"mat-option",29),qi(1),Ke()),2&r){const i=n.$implicit;Pi("value",i),ki(1),pa(" ",i," ")}}function hQ(r,n){if(1&r&&(Xe(0,"mat-option",29),qi(1),Ke()),2&r){const i=n.$implicit;Pi("value",i),ki(1),pa(" ",i," ")}}function uQ(r,n){if(1&r&&(Xe(0,"mat-optgroup",30),Mn(1,hQ,2,2,"mat-option",10),Ke()),2&r){const i=n.$implicit;Pi("label",i.dance),ki(1),Pi("ngForOf",i.names)}}function cQ(r,n){1&r&&(Xe(0,"mat-form-field",6),Xe(1,"mat-label"),qi(2,"ToDo"),Ke(),An(3,"input",31),Ke())}function fQ(r,n){if(1&r&&(Xe(0,"mat-option",29),qi(1),Ke()),2&r){const i=n.$implicit;Pi("value",i),ki(1),_s(i)}}function dQ(r,n){if(1&r&&(Xe(0,"div",32),Xe(1,"mat-form-field",11),Xe(2,"mat-label"),qi(3),Ke(),Xe(4,"mat-select",33),Xe(5,"mat-option"),qi(6,"None"),Ke(),Mn(7,fQ,2,2,"mat-option",10),Ke(),Ke(),Xe(8,"mat-form-field",11),Xe(9,"mat-label"),qi(10),Ke(),An(11,"input",34),An(12,"mat-datepicker-toggle",35),An(13,"mat-datepicker",null,36),Ke(),Ke()),2&r){const i=n.index,s=tc(14),l=_(2);Pi("formGroupName",i),ki(3),pa("Course ",i,""),ki(4),Pi("ngForOf",l.courseNames),ki(3),pa("Date ",i,""),ki(1),Pi("matDatepicker",s),ki(1),Pi("for",s)}}function pQ(r,n){if(1&r){const i=Ya();Xe(0,"button",37),e("click",function(){return qo(i),_(2).addCourseDateForm()}),Xe(1,"mat-icon"),qi(2,"add_circle_outline"),Ke(),qi(3,"Add Course Date "),Ke()}}function mQ(r,n){1&r&&(Xe(0,"mat-form-field",38),Xe(1,"mat-label"),qi(2,"Description"),Ke(),An(3,"textarea",39),Ke())}function gQ(r,n){1&r&&(Xe(0,"button",40),qi(1,"Save"),Ke()),2&r&&Pi("disabled",_(2).moveForm.invalid)}function vQ(r,n){if(1&r){const i=Ya();Xe(0,"form",5),e("ngSubmit",function(){return qo(i),_().onSubmit()}),Xe(1,"mat-form-field",6),Xe(2,"mat-label"),qi(3,"Name"),Ke(),An(4,"input",7),Mn(5,iQ,2,0,"mat-error",8),Mn(6,nQ,4,0,"mat-error",8),Ke(),Xe(7,"mat-form-field",6),Xe(8,"mat-label"),qi(9,"Dance"),Ke(),Xe(10,"mat-select",9),Mn(11,rQ,2,2,"mat-option",10),Ke(),Ke(),Xe(12,"mat-form-field",11),Xe(13,"mat-label"),qi(14,"Order"),Ke(),An(15,"input",12),Ke(),Xe(16,"mat-form-field",11),Xe(17,"mat-label"),qi(18,"Count"),Ke(),An(19,"input",13),Ke(),Xe(20,"mat-form-field",11),Xe(21,"mat-label"),qi(22,"Type"),Ke(),Xe(23,"mat-select",14),Mn(24,oQ,2,2,"mat-option",10),Ke(),Ke(),Xe(25,"mat-checkbox",15),qi(26,"Name Verified"),Ke(),Xe(27,"mat-form-field",6),Xe(28,"mat-label"),qi(29,"Start Move"),Ke(),Xe(30,"mat-select",16),Mn(31,sQ,2,2,"mat-option",10),Ke(),Ke(),Xe(32,"mat-form-field",6),Xe(33,"mat-label"),qi(34,"End Move"),Ke(),Xe(35,"mat-select",17),Mn(36,aQ,2,2,"mat-option",10),Ke(),Ke(),Xe(37,"mat-form-field",6),Xe(38,"mat-label"),qi(39,"Related Moves"),Ke(),Xe(40,"mat-select",18),Mn(41,lQ,2,2,"mat-option",10),Ke(),Ke(),Xe(42,"mat-form-field",6),Xe(43,"mat-label"),qi(44,"Related Moves Other Dances"),Ke(),Xe(45,"mat-select",19),Mn(46,uQ,2,2,"mat-optgroup",20),Ke(),Ke(),Mn(47,cQ,4,0,"mat-form-field",21),Xe(48,"mat-form-field",6),Xe(49,"mat-label"),qi(50,"links"),Ke(),An(51,"input",22),Ke(),Xe(52,"div",23),Mn(53,dQ,15,6,"div",24),Mn(54,pQ,4,0,"button",25),Ke(),Xe(55,"mat-form-field",6),Xe(56,"mat-label"),qi(57,"videoname"),Ke(),Xe(58,"textarea",26),qi(59,'    </mat-form-field>\n   \n    <mat-form-field *ngIf="!readonly">\n        <mat-label>the field that nobody sees</mat-label>\n        <textarea>'),Ke(),Ke(),Mn(60,mQ,4,0,"mat-form-field",27),Mn(61,gQ,2,1,"button",28),Ke()}if(2&r){const i=_();let s,l;Pi("formGroup",i.moveForm),ki(5),Pi("ngIf",(null==(s=i.moveForm.get("name"))?null:s.hasError("nameExists"))&&!(null!=(s=i.moveForm.get("name"))&&s.hasError("required"))),ki(1),Pi("ngIf",null==(l=i.moveForm.get("name"))?null:l.hasError("required")),ki(5),Pi("ngForOf",i.dances),ki(13),Pi("ngForOf",i.types),ki(7),Pi("ngForOf",i.danceMovesNames),ki(5),Pi("ngForOf",i.danceMovesNames),ki(5),Pi("ngForOf",i.danceMovesNames),ki(5),Pi("ngForOf",i.movesGroup),ki(1),Pi("ngIf",!i.readonly),ki(6),Pi("ngForOf",i.getCourseDateControls()),ki(1),Pi("ngIf",!i.readonly),ki(6),Pi("ngIf",!i.readonly),ki(1),Pi("ngIf",!i.readonly)}}function yQ(r,n){if(1&r&&(Xe(0,"div",41),An(1,"iframe",42),Ke()),2&r){const i=_();ki(1),Pi("src",i.videoLink,tg)}}let xQ=(()=>{class r{constructor(i,s,l,f,x){this.route=i,this.dataManager=s,this.settings=l,this.navService=f,this.sanitizer=x,this.dances=new Set,this.types=new Set,this.courseNames=new Set,this.moveForm=new Fy({name:new rs("",[Mb.required,this.nameExistsValidator()]),dance:new rs("",Mb.required),date:new rs(null),order:new rs(""),count:new rs(""),nameVerified:new rs(""),type:new rs("Figur",Mb.required),startMove:new rs([]),endMove:new rs([]),relatedMoves:new rs([]),relatedMovesOtherDances:new rs([]),videoname:new rs(""),description:new rs(""),toDo:new rs(""),links:new rs(""),row:new rs(""),courseDates:new o6([])}),this.otherMovesNames=new Set,this.danceMovesNames=new Set,this.loaded=!1,this.nameParam="",this.readonly=!1,this.createCourseDateForm=()=>new Fy({course:new rs(""),date:new rs(null),row:new rs("")}),this.addCourseDateForm=()=>{this.moveForm.get("courseDates").push(this.createCourseDateForm())},this.removeOrClearCourseDate=A=>{const B=this.moveForm.get("courseDates");B.length>1?B.removeAt(A):B.reset()},this.route.paramMap.subscribe(A=>{this.readParams(A)})}ngOnInit(){var i=this;return mc(function*(){i.moveForm.valueChanges.subscribe(s=>{console.log(s)}),i.dataManager.getGroupedMoveNames().subscribe(s=>{i.movesGroup=s}),yield i.dataManager.loading(),i.dances=i.dataManager.getDanceNames(),i.types=i.dataManager.getTypes(),i.courseNames=i.dataManager.getCourseNames(),i.otherMovesNames=i.dataManager.getMovesNames(),i.otherMovesNames.add("new"),"new"==i.nameParam?i.move&&(i.moveForm.reset(),i.move=JSON.parse(JSON.stringify(i.move)),i.move&&(i.move.row=NaN)):(i.move=i.dataManager.getMove(i.nameParam),i.move&&(i.move.courseDates.forEach(i.addCourseDateForm),i.otherMovesNames.delete(i.move.name))),i.moveForm.valueChanges.subscribe(s=>{var l;i.move=s,i.danceMovesNames=i.dataManager.getMovesNamesOf(null===(l=i.move)||void 0===l?void 0:l.dance)}),i.move&&i.moveForm.patchValue(i.move),i.moveForm.updateValueAndValidity(),i.settings.userMode.subscribe(s=>{var l;s===ep.read?(i.moveForm.disable(),i.readonly=!0):i.settings.hasSpecialRight("admin")&&(i.videoLink=i.sanitizer.bypassSecurityTrustResourceUrl(`https://mega.nz/embed/${null===(l=i.settings.secret)||void 0===l?void 0:l.videoLink}`))}),i.loaded=!0})()}readParams(i){!i.has("name")||(this.nameParam=i.get("name"),this.nameParam=decodeURI(this.nameParam),this.navService.headlineObservable.next(this.nameParam))}getCourseDateControls(){return this.moveForm.get("courseDates").controls}onSubmit(){this.moveForm.valid&&this.move&&(this.loaded=!1,this.readonly=!0,this.moveForm.disable(),this.dataManager.saveOrCreate(this.move).subscribe(i=>{console.log(i),this.moveForm.patchValue(i),this.loaded=!0,this.readonly=!1,this.moveForm.enable()}))}nameExistsValidator(){return i=>{var s;return(null===(s=this.otherMovesNames)||void 0===s?void 0:s.has(i.value))?{nameExists:{value:i.value}}:null}}}return r.\u0275fac=function(i){return new(i||r)(ye(tv),ye(Yy),ye(f2),ye(vm),ye(Py))},r.\u0275cmp=gn({type:r,selectors:[["app-move-page"]],decls:4,vars:4,consts:[["mode","indeterminate",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],["markdown","",3,"data"],["class","video-container",4,"ngIf"],["mode","indeterminate"],[3,"formGroup","ngSubmit"],["appearance","fill",1,"full-width-adaptive"],["matInput","","formControlName","name"],[4,"ngIf"],["formControlName","dance"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill",1,"half-width"],["type","number","matInput","","formControlName","order"],["type","number","matInput","","formControlName","count"],["formControlName","type"],["formControlName","nameVerified",1,"half-width"],["formControlName","startMove","multiple",""],["formControlName","endMove","multiple",""],["formControlName","relatedMoves","multiple",""],["formControlName","relatedMovesOtherDances","multiple",""],[3,"label",4,"ngFor","ngForOf"],["appearance","fill","class","full-width-adaptive",4,"ngIf"],["matInput","","formControlName","links"],["formArrayName","courseDates"],["class","full-width",3,"formGroupName",4,"ngFor","ngForOf"],["mat-icon-button","","color","primary","type","button","aria-label","Add","matTooltip","Add Course Date",3,"click",4,"ngIf"],["cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","100","matInput","","formControlName","videoname"],["appearance","fill","class","full-width",4,"ngIf"],["mat-raised-button","","color","primary","type","submit",3,"disabled",4,"ngIf"],[3,"value"],[3,"label"],["matInput","","formControlName","toDo"],[1,"full-width",3,"formGroupName"],["formControlName","course"],["matInput","","formControlName","date",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["mat-icon-button","","color","primary","type","button","aria-label","Add","matTooltip","Add Course Date",3,"click"],["appearance","fill",1,"full-width"],["cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","100","matInput","","formControlName","description"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"video-container"],["scrolling","no","frameborder","0","allowfullscreen","",3,"src"]],template:function(i,s){1&i&&(Mn(0,eQ,1,0,"mat-progress-bar",0),Mn(1,vQ,62,14,"form",1),An(2,"div",2),Mn(3,yQ,2,1,"div",3)),2&i&&(Pi("ngIf",!s.loaded),ki(1),Pi("ngIf",s.loaded||s.move),ki(1),Pi("data",s.moveForm.value.description),ki(1),Pi("ngIf",s.videoLink))},directives:[ku,wN,wD,SM,xM,Gg,BS,Pb,jA,_b,yM,Sb,rT,zg,Bk,f8,nS,ZY,jY,RM,e8,iS,KA,F$,WY,P$,Xg,pO],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.full-width-adaptive[_ngcontent-%COMP%]{width:100%;max-width:500px}.half-width[_ngcontent-%COMP%]{width:50%;max-width:250px}.mat-input-element[_ngcontent-%COMP%]:disabled, .mat-form-field-type-mat-native-select.mat-form-field-disabled[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]:after{color:#fff}.mat-select-disabled[_ngcontent-%COMP%]     .mat-select-value{color:#fff}.video-container[_ngcontent-%COMP%]{position:relative;height:0;padding-bottom:56.25%}.video-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}"]}),r})();var wQ=Ft(6912),js=Ft(6961),bN=Ft(4317);function uh(r){for(var n=arguments.length,i=Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];throw Error("[Immer] minified error nr: "+r+(i.length?" "+i.map(function(x){return"'"+x+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function sv(r){return!!r&&!!r[vo]}function ym(r){return!!r&&(function(n){if(!n||"object"!=typeof n)return!1;var i=Object.getPrototypeOf(n);if(null===i)return!0;var s=Object.hasOwnProperty.call(i,"constructor")&&i.constructor;return s===Object||"function"==typeof s&&Function.toString.call(s)===AQ}(r)||Array.isArray(r)||!!r[v2]||!!r.constructor[v2]||_D(r)||MD(r))}function av(r,n,i){void 0===i&&(i=!1),0===$y(r)?(i?Object.keys:Gb)(r).forEach(function(s){i&&"symbol"==typeof s||n(s,r[s],r)}):r.forEach(function(s,l){return n(l,s,r)})}function $y(r){var n=r[vo];return n?n.i>3?n.i-4:n.i:Array.isArray(r)?1:_D(r)?2:MD(r)?3:0}function Xy(r,n){return 2===$y(r)?r.has(n):Object.prototype.hasOwnProperty.call(r,n)}function _N(r,n,i){var s=$y(r);2===s?r.set(n,i):3===s?(r.delete(n),r.add(i)):r[n]=i}function _D(r){return EQ&&r instanceof Map}function MD(r){return kQ&&r instanceof Set}function ch(r){return r.o||r.t}function e3(r){if(Array.isArray(r))return Array.prototype.slice.call(r);var n=TN(r);delete n[vo];for(var i=Gb(n),s=0;s<i.length;s++){var l=i[s],f=n[l];!1===f.writable&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(n[l]={configurable:!0,writable:!0,enumerable:f.enumerable,value:r[l]})}return Object.create(Object.getPrototypeOf(r),n)}function i3(r,n){return void 0===n&&(n=!1),n3(r)||sv(r)||!ym(r)||($y(r)>1&&(r.set=r.add=r.clear=r.delete=bQ),Object.freeze(r),n&&av(r,function(i,s){return i3(s,!0)},!0)),r}function bQ(){uh(2)}function n3(r){return null==r||"object"!=typeof r||Object.isFrozen(r)}function lv(r){var n=f3[r];return n||uh(18,r),n}function p2(){return g2}function o3(r,n){n&&(lv("Patches"),r.u=[],r.s=[],r.v=n)}function CD(r){s3(r),r.p.forEach(_Q),r.p=null}function s3(r){r===g2&&(g2=r.l)}function CN(r){return g2={p:[],l:g2,h:r,m:!0,_:0}}function _Q(r){var n=r[vo];0===n.i||1===n.i?n.j():n.O=!0}function a3(r,n){n._=n.p.length;var i=n.p[0],s=void 0!==r&&r!==i;return n.h.g||lv("ES5").S(n,r,s),s?(i[vo].P&&(CD(n),uh(4)),ym(r)&&(r=SD(n,r),n.l||DD(n,r)),n.u&&lv("Patches").M(i[vo],r,n.u,n.s)):r=SD(n,i,[]),CD(n),n.u&&n.v(n.u,n.s),r!==c3?r:void 0}function SD(r,n,i){if(n3(n))return n;var s=n[vo];if(!s)return av(n,function(f,x){return SN(r,s,n,f,x,i)},!0),n;if(s.A!==r)return n;if(!s.P)return DD(r,s.t,!0),s.t;if(!s.I){s.I=!0,s.A._--;var l=4===s.i||5===s.i?s.o=e3(s.k):s.o;av(3===s.i?new Set(l):l,function(f,x){return SN(r,s,l,f,x,i)}),DD(r,l,!1),i&&r.u&&lv("Patches").R(s,i,r.u,r.s)}return s.o}function SN(r,n,i,s,l,f){if(sv(l)){var x=SD(r,l,f&&n&&3!==n.i&&!Xy(n.D,s)?f.concat(s):void 0);if(_N(i,s,x),!sv(x))return;r.m=!1}if(ym(l)&&!n3(l)){if(!r.h.F&&r._<1)return;SD(r,l),n&&n.A.l||DD(r,l)}}function DD(r,n,i){void 0===i&&(i=!1),r.h.F&&r.m&&i3(n,i)}function l3(r,n){var i=r[vo];return(i?ch(i):r)[n]}function DN(r,n){if(n in r)for(var i=Object.getPrototypeOf(r);i;){var s=Object.getOwnPropertyDescriptor(i,n);if(s)return s;i=Object.getPrototypeOf(i)}}function ff(r){r.P||(r.P=!0,r.l&&ff(r.l))}function h3(r){r.o||(r.o=e3(r.t))}function m2(r,n,i){var s=_D(n)?lv("MapSet").N(n,i):MD(n)?lv("MapSet").T(n,i):r.g?function(l,f){var x=Array.isArray(l),A={i:x?1:0,A:f?f.A:p2(),P:!1,I:!1,D:{},l:f,t:l,k:null,o:null,j:null,C:!1},B=A,q=Wb;x&&(B=[A],q=kD);var vt=Proxy.revocable(B,q),Tt=vt.revoke,Wt=vt.proxy;return A.k=Wt,A.j=Tt,Wt}(n,i):lv("ES5").J(n,i);return(i?i.A:p2()).p.push(s),s}function EN(r,n){switch(n){case 2:return new Map(r);case 3:return Array.from(r)}return e3(r)}var kN,g2,u3="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),EQ="undefined"!=typeof Map,kQ="undefined"!=typeof Set,AN="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,c3=u3?Symbol.for("immer-nothing"):((kN={})["immer-nothing"]=!0,kN),v2=u3?Symbol.for("immer-draftable"):"__$immer_draftable",vo=u3?Symbol.for("immer-state"):"__$immer_state",AQ=("undefined"!=typeof Symbol&&Symbol,""+Object.prototype.constructor),Gb="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:Object.getOwnPropertyNames,TN=Object.getOwnPropertyDescriptors||function(r){var n={};return Gb(r).forEach(function(i){n[i]=Object.getOwnPropertyDescriptor(r,i)}),n},f3={},Wb={get:function(r,n){if(n===vo)return r;var l,A,B,i=ch(r);if(!Xy(i,n))return l=r,(B=DN(i,n))?"value"in B?B.value:null===(A=B.get)||void 0===A?void 0:A.call(l.k):void 0;var s=i[n];return r.I||!ym(s)?s:s===l3(r.t,n)?(h3(r),r.o[n]=m2(r.A.h,s,r)):s},has:function(r,n){return n in ch(r)},ownKeys:function(r){return Reflect.ownKeys(ch(r))},set:function(r,n,i){var s=DN(ch(r),n);if(null==s?void 0:s.set)return s.set.call(r.k,i),!0;if(!r.P){var l=l3(ch(r),n),f=null==l?void 0:l[vo];if(f&&f.t===i)return r.o[n]=i,r.D[n]=!1,!0;if(function(r,n){return r===n?0!==r||1/r==1/n:r!=r&&n!=n}(i,l)&&(void 0!==i||Xy(r.t,n)))return!0;h3(r),ff(r)}return r.o[n]===i&&"number"!=typeof i&&(void 0!==i||n in r.o)||(r.o[n]=i,r.D[n]=!0,!0)},deleteProperty:function(r,n){return void 0!==l3(r.t,n)||n in r.t?(r.D[n]=!1,h3(r),ff(r)):delete r.D[n],r.o&&delete r.o[n],!0},getOwnPropertyDescriptor:function(r,n){var i=ch(r),s=Reflect.getOwnPropertyDescriptor(i,n);return s&&{writable:!0,configurable:1!==r.i||"length"!==n,enumerable:s.enumerable,value:i[n]}},defineProperty:function(){uh(11)},getPrototypeOf:function(r){return Object.getPrototypeOf(r.t)},setPrototypeOf:function(){uh(12)}},kD={};av(Wb,function(r,n){kD[r]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}}),kD.deleteProperty=function(r,n){return Wb.deleteProperty.call(this,r[0],n)},kD.set=function(r,n,i){return Wb.set.call(this,r[0],n,i,r[0])};var id=new(function(){function r(i){var s=this;this.g=AN,this.F=!0,this.produce=function(l,f,x){if("function"==typeof l&&"function"!=typeof f){var A=f;f=l;var B=s;return function(ne){var ce=this;void 0===ne&&(ne=A);for(var Ae=arguments.length,Te=Array(Ae>1?Ae-1:0),ri=1;ri<Ae;ri++)Te[ri-1]=arguments[ri];return B.produce(ne,function(oi){var ji;return(ji=f).call.apply(ji,[ce,oi].concat(Te))})}}var q;if("function"!=typeof f&&uh(6),void 0!==x&&"function"!=typeof x&&uh(7),ym(l)){var vt=CN(s),Tt=m2(s,l,void 0),Wt=!0;try{q=f(Tt),Wt=!1}finally{Wt?CD(vt):s3(vt)}return"undefined"!=typeof Promise&&q instanceof Promise?q.then(function(ne){return o3(vt,x),a3(ne,vt)},function(ne){throw CD(vt),ne}):(o3(vt,x),a3(q,vt))}if(!l||"object"!=typeof l)return(q=f(l))===c3?void 0:(void 0===q&&(q=l),s.F&&i3(q,!0),q);uh(21,l)},this.produceWithPatches=function(l,f){return"function"==typeof l?function(B){for(var q=arguments.length,vt=Array(q>1?q-1:0),Tt=1;Tt<q;Tt++)vt[Tt-1]=arguments[Tt];return s.produceWithPatches(B,function(Wt){return l.apply(void 0,[Wt].concat(vt))})}:[s.produce(l,f,function(B,q){x=B,A=q}),x,A];var x,A},"boolean"==typeof(null==i?void 0:i.useProxies)&&this.setUseProxies(i.useProxies),"boolean"==typeof(null==i?void 0:i.autoFreeze)&&this.setAutoFreeze(i.autoFreeze)}var n=r.prototype;return n.createDraft=function(i){ym(i)||uh(8),sv(i)&&(i=function(r){return sv(r)||uh(22,r),function n(i){if(!ym(i))return i;var s,l=i[vo],f=$y(i);if(l){if(!l.P&&(l.i<4||!lv("ES5").K(l)))return l.t;l.I=!0,s=EN(i,f),l.I=!1}else s=EN(i,f);return av(s,function(x,A){l&&function(r,n){return 2===$y(r)?r.get(n):r[n]}(l.t,x)===A||_N(s,x,n(A))}),3===f?new Set(s):s}(r)}(i));var s=CN(this),l=m2(this,i,void 0);return l[vo].C=!0,s3(s),l},n.finishDraft=function(i,s){var f=(i&&i[vo]).A;return o3(f,s),a3(void 0,f)},n.setAutoFreeze=function(i){this.F=i},n.setUseProxies=function(i){i&&!AN&&uh(20),this.g=i},n.applyPatches=function(i,s){var l;for(l=s.length-1;l>=0;l--){var f=s[l];if(0===f.path.length&&"replace"===f.op){i=f.value;break}}l>-1&&(s=s.slice(l+1));var x=lv("Patches").$;return sv(i)?x(i,s):this.produce(i,function(A){return x(A,s)})},r}()),PQ=id.produce;id.produceWithPatches.bind(id),id.setAutoFreeze.bind(id),id.setUseProxies.bind(id),id.applyPatches.bind(id),id.createDraft.bind(id),id.finishDraft.bind(id);const PN=PQ,IQ=["ngDiagram"];class hv{constructor(){}static makeMouseMoveRunOutsideAngularZone(n,i){n.addEventListener=(s,l,f,x)=>{const A=js.Diagram.prototype.addEventListener;"mousemove"===l?i.runOutsideAngular(()=>A.call(this,s,l,f,x)):i.run(()=>{A.call(this,s,l,f,x)})}}static initializeModel(n,i,s,l){n.delayInitialization(()=>{n.model.commit(x=>{l&&x.assignAllDataProperties(x.modelData,l),x.mergeNodeDataArray(x.cloneDeep(i)),s&&x instanceof js.GraphLinksModel&&x.mergeLinkDataArray(x.cloneDeep(s))},null)})}static initializeModelChangedListener(n){var i=null;!n.hasOwnProperty("diagram")&&!n.hasOwnProperty("palette")||(n.hasOwnProperty("diagram")&&(i=n.diagram),n.hasOwnProperty("palette")&&(i=n.palette),n.modelChangedListener=s=>{s.isTransactionFinished&&s.model&&!s.model.isReadOnly&&n.modelChange&&n.zone.run(()=>{const l=s.model.toIncrementalData(s);null!==l&&n.modelChange.emit(l)})},i.addModelChangedListener(n.modelChangedListener))}static mergeAppDataWithModel(n,i){var s=null;n.hasOwnProperty("diagram")&&(s=n.diagram),n.hasOwnProperty("palette")&&(s=n.palette),s.model.commit(l=>{i&&(s.model.modelData={}),s.model.assignAllDataProperties(s.model.modelData,n.modelData),i&&(s.model.nodeDataArray=[]),s.model.mergeNodeDataArray(n.nodeDataArray),n.linkDataArray&&s.model instanceof js.GraphLinksModel&&(i&&(s.model.linkDataArray=[]),s.model.mergeLinkDataArray(n.linkDataArray))},i?null:"update data")}}let NQ=(()=>{class r{constructor(i){this.zone=i,this.linkDataArray=null,this.modelData=null,this.modelChangedListener=null,this.skipsDiagramUpdate=!1,this.modelChange=new Sn,this.diagram=null,this.wasCleared=!1}ngAfterViewInit(){if(!this.diagramDiv)throw new Error("diagramDiv is not defined");if(this.diagram=this.initDiagram(),!(this.diagram instanceof js.Diagram))throw new Error("initDiagram function did not return a go.Diagram");hv.makeMouseMoveRunOutsideAngularZone(this.diagram,this.zone);const i=this.diagramDiv.nativeElement;null!==i&&(this.diagram.div=i,hv.initializeModel(this.diagram,this.nodeDataArray,this.linkDataArray,this.modelData),hv.initializeModelChangedListener(this))}ngOnChanges(){!this.diagram||!this.diagram.model||this.skipsDiagramUpdate||(this.wasCleared?(this.diagram.delayInitialization(()=>{hv.mergeAppDataWithModel(this,!0)}),this.wasCleared=!1):hv.mergeAppDataWithModel(this))}clear(){const i=this.diagram;null!==i&&(i.clear(),this.wasCleared=!0)}ngOnDestroy(){this.diagram.div=null}}return r.\u0275fac=function(i){return new(i||r)(ye(Cr))},r.\u0275cmp=gn({type:r,selectors:[["gojs-diagram"]],viewQuery:function(i,s){if(1&i&&Cs(IQ,7),2&i){let l;or(l=sr())&&(s.diagramDiv=l.first)}},inputs:{linkDataArray:"linkDataArray",modelData:"modelData",skipsDiagramUpdate:"skipsDiagramUpdate",initDiagram:"initDiagram",nodeDataArray:"nodeDataArray",divClassName:"divClassName"},outputs:{modelChange:"modelChange"},features:[Xr],decls:2,vars:1,consts:[[3,"className"],["ngDiagram",""]],template:function(i,s){1&i&&An(0,"div",0,1),2&i&&Pi("className",s.divClassName)},encapsulation:2}),r})(),LQ=(()=>{class r{static syncNodeData(i,s,l){if(!i||!i.modifiedNodeData&&!i.insertedNodeKeys&&!i.removedNodeKeys)return s;const f=new js.Map;return PN(s,A=>{if(i.modifiedNodeData&&i.modifiedNodeData.forEach(B=>{const q=l?l.getKeyForNodeData(B):B.key;f.set(q,B);for(let vt=0;vt<s.length;vt++){const Tt=s[vt];(l?l.getKeyForNodeData(Tt):Tt.key)===q&&(A[vt]=B)}}),i.insertedNodeKeys&&i.insertedNodeKeys.forEach(B=>{const q=f.get(B);q&&A.push(q)}),i.removedNodeKeys)return A.filter(B=>{const q=l?l.getKeyForNodeData(B):B.key;return!i.removedNodeKeys.includes(q)})})}static syncLinkData(i,s,l){if(!i||!i.modifiedLinkData&&!i.insertedLinkKeys&&!i.removedLinkKeys)return s;const f=new js.Map;return s=PN(s,x=>{if(i.modifiedLinkData&&i.modifiedLinkData.forEach(A=>{const B=l?l.getKeyForLinkData(A):A.key;f.set(B,A);for(let q=0;q<s.length;q++){const vt=s[q];(l?l.getKeyForLinkData(vt):vt.key)===B&&(x[q]=A)}}),i.insertedLinkKeys&&i.insertedLinkKeys.forEach(A=>{const B=f.get(A);B&&x.push(B)}),i.removedLinkKeys)return x.filter(A=>{const B=l?l.getKeyForLinkData(A):A.key;return!i.removedLinkKeys.includes(B)})})}static syncModelData(i,s){return i&&i.modelData?i.modelData?i.modelData:void 0:s}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ji({token:r,factory:r.\u0275fac}),r})(),FQ=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({providers:[LQ],imports:[[]]}),r})();const BQ=["chartHighchart"],VQ=["chartCytoscape"];function jQ(r,n){1&r&&An(0,"mat-progress-bar",5)}function zQ(r,n){if(1&r){const i=Ya();Xe(0,"gojs-diagram",6),e("modelChange",function(l){return qo(i),_().diagramModelChange(l)}),Ke()}if(2&r){const i=_();Pi("initDiagram",i.createGojsDiagram)("nodeDataArray",i.gojsState.diagramNodeData)("linkDataArray",i.gojsState.diagramLinkData)("modelData",i.gojsState.diagramModelData)("skipsDiagramUpdate",i.gojsState.skipsDiagramUpdate)}}let HQ=(()=>{class r{constructor(i,s){this.dataManagerService=i,this.navService=s,this.loaded=!1,this.show="",this.gojsState={diagramNodeData:[],diagramLinkData:[],diagramModelData:{prop:"value"},skipsDiagramUpdate:!1},this.diagramModelChange=function(l){console.log(l)},this.navService.headlineObservable.next("Relations"),Ft(742)(bN)}ngOnInit(){var i=this;return mc(function*(){yield i.dataManagerService.loading(),i.loaded=!0,i.valueChangesSubscription=i.dataManagerService.relationsSelectionObservable.pipe(ru(s=>i.dataManagerService.getRelationPairs(s.relationTypes))).subscribe(s=>{i.dataManagerService.relationsSelectionObservable.value.displayType===ev.highchartsNetworkgraph?(i.show="Highchart",i.createHighchart(s)):i.dataManagerService.relationsSelectionObservable.value.displayType===ev.cytoscape?(i.show="Cytoscape",i.createCytoscape(s)):(i.show="Gojs",i.updateGojsDiagram(s))})})()}createHighchart(i){bN.chart(this.chartViewChildHighchart.nativeElement,{chart:{type:"networkgraph",plotBorderWidth:0,backgroundColor:"transparent"},title:{text:"Relations",style:{fontFamily:"monospace",color:"#fff"}},plotOptions:{networkgraph:{keys:["from","to"],layoutAlgorithm:{enableSimulation:!1,integration:"verlet",linkLength:100}}},series:[{name:"K8",marker:{radius:20,fillColor:"#c2185b"},dataLabels:{enabled:!0,textPath:{enabled:!0,attributes:{dy:9,startOffset:"45%",fill:"#fff"}},style:{fontSize:"9",fontWeight:"100"},linkFormat:"",allowOverlap:!0},data:i}]})}updateGojsDiagram(i){const s=Array.from(new Set(i.flatMap(f=>[f.from,f.to])).values()).map(f=>({id:f,text:f}));this.gojsState={diagramNodeData:s,diagramLinkData:i,diagramModelData:{prop:"value"},skipsDiagramUpdate:!1},console.log(this.gojsState)}createGojsDiagram(){const i=js.GraphObject.make,s=i(js.Diagram,{"undoManager.isEnabled":!0,model:i(js.GraphLinksModel,{nodeKeyProperty:"id",linkKeyProperty:"key"}),initialAutoScale:js.Diagram.Uniform,contentAlignment:js.Spot.Center,layout:i(js.ForceDirectedLayout,{maxIterations:200,defaultSpringLength:30,defaultElectricalCharge:100})});return s.nodeTemplate=i(js.Node,"Auto",{locationSpot:js.Spot.Center},i(js.Shape,"Rectangle",{fill:i(js.Brush,"Linear",{0:"#c2185b",1:"#c2185b"})}),i(js.TextBlock,{font:"bold 10pt helvetica, bold arial, sans-serif",margin:4},new js.Binding("text","text"))),s.linkTemplate=i(js.Link,i(js.Shape,{stroke:"white"}),i(js.Shape,{toArrow:"standard",stroke:"white"}),i(js.Panel,"Auto",i(js.TextBlock,{textAlign:"center",font:"10pt helvetica, arial, sans-serif",stroke:"#555555",margin:4},new js.Binding("text","text")))),s}createCytoscape(i){const s=Array.from(new Set(i.flatMap(x=>[x.from,x.to])).values()).map(x=>({data:{id:x,width:10*x.length}})),l=i.map(x=>({data:{id:x.from+x.to,source:x.from,target:x.to}})),f={container:this.chartViewChildCytoscape.nativeElement,elements:[...s,...l],style:[{selector:"node",style:{label:"data(id)",height:30,width:"data(width)","border-color":"#000","border-width":3,"border-opacity":.5,"background-color":"#c2185b",color:"#ccc","text-wrap":"wrap","text-halign":"center","text-valign":"center",shape:"roundrectangle"}},{selector:"edge",style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}}],layout:{name:"cose",nodeDimensionsIncludeLabels:!0,nodeRepulsion:x=>1e7}};if(this.cy)return this.cy.json(f),void this.cy.layout(f.layout).run();this.cy=wQ(f),this.cy.on("tap","node",x=>{this.navService.navigate(["move",x.target.id()])})}ngOnDestroy(){var i;null===(i=this.valueChangesSubscription)||void 0===i||i.unsubscribe()}}return r.\u0275fac=function(i){return new(i||r)(ye(Yy),ye(vm))},r.\u0275cmp=gn({type:r,selectors:[["ng-component"]],viewQuery:function(i,s){if(1&i&&(Cs(BQ,5),Cs(VQ,5)),2&i){let l;or(l=sr())&&(s.chartViewChildHighchart=l.first),or(l=sr())&&(s.chartViewChildCytoscape=l.first)}},decls:6,vars:4,consts:[["mode","indeterminate",4,"ngIf"],[1,"chart-container",3,"hidden"],["chartHighchart",""],["chartCytoscape",""],["divClassName","gojsDiv",3,"initDiagram","nodeDataArray","linkDataArray","modelData","skipsDiagramUpdate","modelChange",4,"ngIf"],["mode","indeterminate"],["divClassName","gojsDiv",3,"initDiagram","nodeDataArray","linkDataArray","modelData","skipsDiagramUpdate","modelChange"]],template:function(i,s){1&i&&(Mn(0,jQ,1,0,"mat-progress-bar",0),An(1,"div",1,2),An(3,"div",1,3),Mn(5,zQ,1,5,"gojs-diagram",4)),2&i&&(Pi("ngIf",!s.loaded),ki(1),Pi("hidden","Highchart"!=s.show),ki(2),Pi("hidden","Cytoscape"!=s.show),ki(2),Pi("ngIf","Gojs"==s.show))},directives:[ku,wD,NQ],styles:[".chart-container{width:100%;margin:0 auto;height:93%}.full-width-adaptive{width:100%;max-width:500px}.gojsDiv{width:100%;margin:0 auto;height:100%}\n"],encapsulation:2}),r})();class UQ{constructor(n,i){this._document=i;const s=this._textarea=this._document.createElement("textarea"),l=s.style;l.position="fixed",l.top=l.opacity="0",l.left="-999em",s.setAttribute("aria-hidden","true"),s.value=n,this._document.body.appendChild(s)}copy(){const n=this._textarea;let i=!1;try{if(n){const s=this._document.activeElement;n.select(),n.setSelectionRange(0,n.value.length),i=this._document.execCommand("copy"),s&&s.focus()}}catch(s){}return i}destroy(){const n=this._textarea;n&&(n.remove(),this._textarea=void 0)}}let GQ=(()=>{class r{constructor(i){this._document=i}copy(i){const s=this.beginCopy(i),l=s.copy();return s.destroy(),l}beginCopy(i){return new UQ(i,this._document)}}return r.\u0275fac=function(i){return new(i||r)(gi(zr))},r.\u0275prov=Ji({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const WQ=new pn("CDK_COPY_TO_CLIPBOARD_CONFIG");let YQ=(()=>{class r{constructor(i,s,l){this._clipboard=i,this._ngZone=s,this.text="",this.attempts=1,this.copied=new Sn,this._pending=new Set,l&&null!=l.attempts&&(this.attempts=l.attempts)}copy(i=this.attempts){if(i>1){let s=i;const l=this._clipboard.beginCopy(this.text);this._pending.add(l);const f=()=>{const x=l.copy();x||!--s||this._destroyed?(this._currentTimeout=null,this._pending.delete(l),l.destroy(),this.copied.emit(x)):this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(f,1))};f()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(i=>i.destroy()),this._pending.clear(),this._destroyed=!0}}return r.\u0275fac=function(i){return new(i||r)(ye(GQ),ye(Cr),ye(WQ,8))},r.\u0275dir=dn({type:r,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(i,s){1&i&&e("click",function(){return s.copy()})},inputs:{text:["cdkCopyToClipboard","text"],attempts:["cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}}),r})(),$Q=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({}),r})();const XQ=[{path:"",redirectTo:"moves",pathMatch:"full"},{path:"settings",component:(()=>{class r{constructor(i,s){this.settings=i,this.navService=s,this.settingsForm=new Fy({secretRead:new rs(""),secretWrite:new rs(""),specialRights:new rs("")}),this.url=this.createUrl(),this.navService.headlineObservable.next("Settings")}ngOnInit(){this.settingsForm.patchValue({secretRead:this.settings.secretReadString,secretWrite:this.settings.secretWriteString,specialRights:this.settings.specialRightsString}),this.settingsForm.valueChanges.subscribe(i=>{this.navService.navigate([],{secret:i.secretRead,"secret-write":i.secretWrite,"special-rights":i.specialRights}),this.url=this.createUrl()})}createUrl(){const i=[];return this.settings.secretReadString&&i.push(`secret=${this.settings.secretReadString}`),this.settings.secretWriteString&&i.push(`secret-write=${this.settings.secretWriteString}`),this.settings.specialRightsString&&i.push(`special-rights=${this.settings.specialRightsString}`),i.length>0?`${document.baseURI}?${i.join("&")}`:document.baseURI}onSubmit(){}}return r.\u0275fac=function(i){return new(i||r)(ye(f2),ye(vm))},r.\u0275cmp=gn({type:r,selectors:[["ng-component"]],decls:26,vars:3,consts:[[3,"formGroup","ngSubmit"],["appearance","fill",1,"full-width-adaptive"],["matInput","","formControlName","secretRead"],["matInput","","formControlName","secretWrite"],["matInput","","formControlName","specialRights"],["readonly","","matInput","",3,"value"],["mat-raised-button","","color","primary",3,"cdkCopyToClipboard"],["_ngcontent-apu-c48","","mat-button","","href","https://github.com/mvolkert/dancing-moves","aria-label","GitHub Repository","tabindex","0","aria-disabled","false",1,"mat-focus-indicator","docs-button","docs-navbar-hide-small","mat-button","mat-button-base"],[1,"mat-button-wrapper"],["_ngcontent-apu-c48","","src","assets/github-circle-white-transparent.svg"],["matripple","",1,"mat-ripple","mat-button-ripple"],[1,"mat-button-focus-overlay"]],template:function(i,s){1&i&&(Xe(0,"form",0),e("ngSubmit",function(){return s.onSubmit()}),Xe(1,"mat-form-field",1),Xe(2,"mat-label"),qi(3,"Secret for reading"),Ke(),An(4,"input",2),Ke(),Xe(5,"mat-form-field",1),Xe(6,"mat-label"),qi(7,"Secret for writing"),Ke(),An(8,"input",3),Ke(),Xe(9,"mat-form-field",1),Xe(10,"mat-label"),qi(11,"Special Rights"),Ke(),An(12,"input",4),Ke(),Xe(13,"mat-form-field",1),Xe(14,"mat-label"),qi(15,"Resulting Url"),Ke(),An(16,"input",5),Ke(),Xe(17,"button",6),qi(18,"Copy Url"),Ke(),Ke(),An(19,"mat-divider"),Xe(20,"a",7),Xe(21,"span",8),An(22,"img",9),qi(23," GitHub "),Ke(),An(24,"span",10),An(25,"span",11),Ke()),2&i&&(Pi("formGroup",s.settingsForm),ki(16),Pi("value",s.url),ki(1),Pi("cdkCopyToClipboard",s.url))},directives:[SM,xM,Gg,BS,Pb,jA,_b,yM,Sb,Xg,YQ,nT,gW],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.full-width-adaptive[_ngcontent-%COMP%]{width:100%;max-width:500px}.half-width[_ngcontent-%COMP%]{width:50%;max-width:250px}"]}),r})()},{path:"dances",component:jJ},{path:"moves",component:YJ},{path:"move/:name",component:xQ},{path:"relations",component:HQ}];let KQ=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({imports:[[A5.forRoot(XQ)],A5]}),r})();class ZQ extends C{constructor(n=1/0,i=1/0,s=xk){super(),this._bufferSize=n,this._windowTime=i,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=i===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,i)}next(n){const{isStopped:i,_buffer:s,_infiniteTimeWindow:l,_timestampProvider:f,_windowTime:x}=this;i||(s.push(n),!l&&s.push(f.now()+x)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const i=this._innerSubscribe(n),{_infiniteTimeWindow:s,_buffer:l}=this,f=l.slice();for(let x=0;x<f.length&&!n.closed;x+=s?1:2)n.next(f[x]);return this._checkFinalizedStatuses(n),i}_trimBuffer(){const{_bufferSize:n,_timestampProvider:i,_buffer:s,_infiniteTimeWindow:l}=this,f=(l?1:2)*n;if(n<1/0&&f<s.length&&s.splice(0,s.length-f),!l){const x=i.now();let A=0;for(let B=1;B<s.length&&s[B]<=x;B+=2)A=B;A&&s.splice(0,A+1)}}}const RN=new pn("CdkAccordion");let JQ=0,QQ=(()=>{class r{constructor(i,s,l){this.accordion=i,this._changeDetectorRef=s,this._expansionDispatcher=l,this._openCloseAllSubscription=E.EMPTY,this.closed=new Sn,this.opened=new Sn,this.destroyed=new Sn,this.expandedChange=new Sn,this.id="cdk-accordion-child-"+JQ++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=l.listen((f,x)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===x&&this.id!==f&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(i){i=Jr(i),this._expanded!==i&&(this._expanded=i,this.expandedChange.emit(i),i?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(i){this._disabled=Jr(i)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(i=>{this.disabled||(this.expanded=i)})}}return r.\u0275fac=function(i){return new(i||r)(ye(RN,12),ye(ra),ye(mO))},r.\u0275dir=dn({type:r,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[po([{provide:RN,useValue:void 0}])]}),r})(),ttt=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({}),r})();const ett=["body"];function itt(r,n){}const ntt=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],rtt=["mat-expansion-panel-header","*","mat-action-row"];function ott(r,n){1&r&&An(0,"span",2),2&r&&Pi("@indicatorRotate",_()._getExpandedState())}const stt=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],att=["mat-panel-title","mat-panel-description","*"],ON=new pn("MAT_ACCORDION"),NN="225ms cubic-bezier(0.4,0.0,0.2,1)",LN={indicatorRotate:$g("indicatorRotate",[af("collapsed, void",Ra({transform:"rotate(0deg)"})),af("expanded",Ra({transform:"rotate(180deg)"})),lf("expanded <=> collapsed, void => collapsed",Zf(NN))]),bodyExpansion:$g("bodyExpansion",[af("collapsed, void",Ra({height:"0px",visibility:"hidden"})),af("expanded",Ra({height:"*",visibility:"visible"})),lf("expanded <=> collapsed, void => collapsed",Zf(NN))])};let ltt=(()=>{class r{constructor(i){this._template=i}}return r.\u0275fac=function(i){return new(i||r)(ye(Kf))},r.\u0275dir=dn({type:r,selectors:[["ng-template","matExpansionPanelContent",""]]}),r})(),htt=0;const FN=new pn("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let BN=(()=>{class r extends QQ{constructor(i,s,l,f,x,A,B){super(i,s,l),this._viewContainerRef=f,this._animationMode=A,this._hideToggle=!1,this.afterExpand=new Sn,this.afterCollapse=new Sn,this._inputChanges=new C,this._headerId="mat-expansion-panel-header-"+htt++,this._bodyAnimationDone=new C,this.accordion=i,this._document=x,this._bodyAnimationDone.pipe(sS((q,vt)=>q.fromState===vt.fromState&&q.toState===vt.toState)).subscribe(q=>{"void"!==q.fromState&&("expanded"===q.toState?this.afterExpand.emit():"collapsed"===q.toState&&this.afterCollapse.emit())}),B&&(this.hideToggle=B.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(i){this._hideToggle=Jr(i)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(i){this._togglePosition=i}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(fc(null),Ks(()=>this.expanded&&!this._portal),Xn(1)).subscribe(()=>{this._portal=new FM(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(i){this._inputChanges.next(i)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const i=this._document.activeElement,s=this._body.nativeElement;return i===s||s.contains(i)}return!1}}return r.\u0275fac=function(i){return new(i||r)(ye(ON,12),ye(ra),ye(mO),ye(Su),ye(zr),ye(Qf,8),ye(FN,8))},r.\u0275cmp=gn({type:r,selectors:[["mat-expansion-panel"]],contentQueries:function(i,s,l){if(1&i&&ms(l,ltt,5),2&i){let f;or(f=sr())&&(s._lazyContent=f.first)}},viewQuery:function(i,s){if(1&i&&Cs(ett,5),2&i){let l;or(l=sr())&&(s._body=l.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(i,s){2&i&&Er("mat-expanded",s.expanded)("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-expansion-panel-spacing",s._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[po([{provide:ON,useValue:void 0}]),rr,Xr],ngContentSelectors:rtt,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,s){1&i&&(P(ntt),F(0),Xe(1,"div",0,1),e("@bodyExpansion.done",function(f){return s._bodyAnimationDone.next(f)}),Xe(3,"div",2),F(4,1),Mn(5,itt,0,0,"ng-template",3),Ke(),F(6,2),Ke()),2&i&&(ki(1),Pi("@bodyExpansion",s._getExpandedState())("id",s.id),Ir("aria-labelledby",s._headerId),ki(4),Pi("cdkPortalOutlet",s._portal))},directives:[BM],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[LN.bodyExpansion]},changeDetection:0}),r})();class utt{}const ctt=EA(utt);let ftt=(()=>{class r extends ctt{constructor(i,s,l,f,x,A,B){super(),this.panel=i,this._element=s,this._focusMonitor=l,this._changeDetectorRef=f,this._animationMode=A,this._parentChangeSubscription=E.EMPTY;const q=i.accordion?i.accordion._stateChanges.pipe(Ks(vt=>!(!vt.hideToggle&&!vt.togglePosition))):$e;this.tabIndex=parseInt(B||"")||0,this._parentChangeSubscription=br(i.opened,i.closed,q,i._inputChanges.pipe(Ks(vt=>!!(vt.hideToggle||vt.disabled||vt.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),i.closed.pipe(Ks(()=>i._containsFocus())).subscribe(()=>l.focusVia(s,"program")),x&&(this.expandedHeight=x.expandedHeight,this.collapsedHeight=x.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const i=this._isExpanded();return i&&this.expandedHeight?this.expandedHeight:!i&&this.collapsedHeight?this.collapsedHeight:null}_keydown(i){switch(i.keyCode){case 32:case 13:pc(i)||(i.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(i))}}focus(i,s){i?this._focusMonitor.focusVia(this._element,i,s):this._element.nativeElement.focus(s)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(i=>{i&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return r.\u0275fac=function(i){return new(i||r)(ye(BN,1),ye(mr),ye(wx),ye(ra),ye(FN,8),ye(Qf,8),Hh("tabindex"))},r.\u0275cmp=gn({type:r,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(i,s){1&i&&e("click",function(){return s._toggle()})("keydown",function(f){return s._keydown(f)}),2&i&&(Ir("id",s.panel._headerId)("tabindex",s.tabIndex)("aria-controls",s._getPanelId())("aria-expanded",s._isExpanded())("aria-disabled",s.panel.disabled),Dh("height",s._getHeaderHeight()),Er("mat-expanded",s._isExpanded())("mat-expansion-toggle-indicator-after","after"===s._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===s._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===s._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[rr],ngContentSelectors:att,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(i,s){1&i&&(P(stt),Xe(0,"span",0),F(1),F(2,1),F(3,2),Ke(),Mn(4,ott,1,1,"span",1)),2&i&&(ki(4),Pi("ngIf",s._showToggle()))},directives:[ku],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}\n'],encapsulation:2,data:{animation:[LN.indicatorRotate]},changeDetection:0}),r})(),dtt=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=dn({type:r,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),r})(),ptt=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({imports:[[l0,$o,ttt,NS]]}),r})();function VN(r,n){return n?i=>pM(n.pipe(Xn(1),it((r,n)=>{r.subscribe(new Z(n,at))})),i.pipe(VN(r))):he((i,s)=>r(i,s).pipe(Xn(1),oT(i)))}const vtt=["panel"];function ytt(r,n){if(1&r&&(Xe(0,"div",0,1),F(2),Ke()),2&r){const i=n.id,s=_();Pi("id",s.id)("ngClass",s._classList),Ir("aria-label",s.ariaLabel||null)("aria-labelledby",s._getPanelAriaLabelledby(i))}}const xtt=["*"];let wtt=0;class btt{constructor(n,i){this.source=n,this.option=i}}const _tt=jy(class{}),jN=new pn("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}});let Ctt=(()=>{class r extends _tt{constructor(i,s,l,f){super(),this._changeDetectorRef=i,this._elementRef=s,this._activeOptionChanges=E.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new Sn,this.opened=new Sn,this.closed=new Sn,this.optionActivated=new Sn,this._classList={},this.id="mat-autocomplete-"+wtt++,this.inertGroups=(null==f?void 0:f.SAFARI)||!1,this._autoActiveFirstOption=!!l.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(i){this._autoActiveFirstOption=Jr(i)}set classList(i){this._classList=i&&i.length?pI(i).reduce((s,l)=>(s[l]=!0,s),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new R6(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(i=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[i]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(i){this.panel&&(this.panel.nativeElement.scrollTop=i)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(i){const s=new btt(this,i);this.optionSelected.emit(s)}_getPanelAriaLabelledby(i){return this.ariaLabel?null:this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_setVisibilityClasses(i){i[this._visibleClass]=this.showPanel,i[this._hiddenClass]=!this.showPanel}}return r.\u0275fac=function(i){return new(i||r)(ye(ra),ye(mr),ye(jN),ye($l))},r.\u0275dir=dn({type:r,viewQuery:function(i,s){if(1&i&&(Cs(Kf,7),Cs(vtt,5)),2&i){let l;or(l=sr())&&(s.template=l.first),or(l=sr())&&(s.panel=l.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[rr]}),r})(),Stt=(()=>{class r extends Ctt{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=xo(r)))(s||r)}}(),r.\u0275cmp=gn({type:r,selectors:[["mat-autocomplete"]],contentQueries:function(i,s,l){if(1&i&&(ms(l,kS,5),ms(l,RM,5)),2&i){let f;or(f=sr())&&(s.optionGroups=f),or(f=sr())&&(s.options=f)}},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[po([{provide:ES,useExisting:r}]),rr],ngContentSelectors:xtt,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(i,s){1&i&&(P(),Mn(0,ytt,3,4,"ng-template"))},directives:[uM],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}\n"],encapsulation:2,changeDetection:0}),r})();const zN=new pn("mat-autocomplete-scroll-strategy"),Ett={provide:zN,deps:[Kg],useFactory:function(r){return()=>r.scrollStrategies.reposition()}},ktt={provide:sf,useExisting:Hi(()=>HN),multi:!0};let Att=(()=>{class r{constructor(i,s,l,f,x,A,B,q,vt,Tt,Wt){this._element=i,this._overlay=s,this._viewContainerRef=l,this._zone=f,this._changeDetectorRef=x,this._dir=B,this._formField=q,this._document=vt,this._viewportRuler=Tt,this._defaults=Wt,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=E.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new C,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=YS(()=>this.autocomplete&&this.autocomplete.options?br(...this.autocomplete.options.map(ne=>ne.onSelectionChange)):this._zone.onStable.pipe(Xn(1),ru(()=>this.optionSelections))),this._scrollStrategy=A}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(i){this._autocompleteDisabled=Jr(i)}ngAfterViewInit(){const i=this._getWindow();void 0!==i&&this._zone.runOutsideAngular(()=>i.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(i){i.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const i=this._getWindow();void 0!==i&&i.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return br(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Ks(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Ks(()=>this._overlayAttached)):fr()).pipe(W(i=>i instanceof i8?i:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return br(f0(this._document,"click"),f0(this._document,"auxclick"),f0(this._document,"touchend")).pipe(Ks(i=>{const s=Oy(i),l=this._formField?this._formField._elementRef.nativeElement:null,f=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&s!==this._element.nativeElement&&(!l||!l.contains(s))&&(!f||!f.contains(s))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(s)}))}writeValue(i){Promise.resolve(null).then(()=>this._setTriggerValue(i))}registerOnChange(i){this._onChange=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this._element.nativeElement.disabled=i}_handleKeydown(i){const s=i.keyCode;if(27===s&&!pc(i)&&i.preventDefault(),this.activeOption&&13===s&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),i.preventDefault();else if(this.autocomplete){const l=this.autocomplete._keyManager.activeItem,f=38===s||40===s;this.panelOpen||9===s?this.autocomplete._keyManager.onKeydown(i):f&&this._canOpen()&&this.openPanel(),(f||this.autocomplete._keyManager.activeItem!==l)&&this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0)}}_handleInput(i){let s=i.target,l=s.value;"number"===s.type&&(l=""==l?null:parseFloat(l)),this._previousValue!==l&&(this._previousValue=l,this._onChange(l),this._canOpen()&&this._document.activeElement===i.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_floatLabel(i=!1){this._formField&&"auto"===this._formField.floatLabel&&(i?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const i=this._zone.onStable.pipe(Xn(1)),s=this.autocomplete.options.changes.pipe(Sl(()=>this._positionStrategy.reapplyLastPosition()),function(r,n=bk){const i=g8(0,n);return VN(()=>i)}());return br(i,s).pipe(ru(()=>{const l=this.panelOpen;return this._resetActiveItem(),this.autocomplete._setVisibility(),this.panelOpen&&(this._overlayRef.updatePosition(),l!==this.panelOpen&&this.autocomplete.opened.emit()),this.panelClosingActions}),Xn(1)).subscribe(l=>this._setValueAndClose(l))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(i){const s=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(i):i,l=null!=s?s:"";this._formField?this._formField._control.value=l:this._element.nativeElement.value=l,this._previousValue=l}_setValueAndClose(i){i&&i.source&&(this._clearPreviousSelectedOption(i.source),this._setTriggerValue(i.source.value),this._onChange(i.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(i.source)),this.closePanel()}_clearPreviousSelectedOption(i){this.autocomplete.options.forEach(s=>{s!==i&&s.selected&&s.deselect()})}_attachOverlay(){var l;let i=this._overlayRef;i?(this._positionStrategy.setOrigin(this._getConnectedElement()),i.updateSize({width:this._getPanelWidth()})):(this._portal=new FM(this.autocomplete.template,this._viewContainerRef,{id:null==(l=this._formField)?void 0:l.getLabelId()}),i=this._overlay.create(this._getOverlayConfig()),this._overlayRef=i,i.keydownEvents().subscribe(f=>{(27===f.keyCode&&!pc(f)||38===f.keyCode&&pc(f,"altKey"))&&(this._closeKeyEventStream.next(),this._resetActiveItem(),f.stopPropagation(),f.preventDefault())}),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&i&&i.updateSize({width:this._getPanelWidth()})})),i&&!i.hasAttached()&&(i.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const s=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&s!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){var i;return new VM({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:null==(i=this._defaults)?void 0:i.overlayPanelClass})}_getOverlayPosition(){const i=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(i),this._positionStrategy=i,i}_setStrategyPositions(i){const s=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],l=this._aboveClass,f=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:l},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:l}];let x;x="above"===this.position?f:"below"===this.position?s:[...s,...f],i.withPositions(x)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const i=this.autocomplete;i.autoActiveFirstOption?i._keyManager.setFirstItemActive():i._keyManager.setActiveItem(-1)}_canOpen(){const i=this._element.nativeElement;return!i.readOnly&&!i.disabled&&!this._autocompleteDisabled}_getWindow(){var i;return(null==(i=this._document)?void 0:i.defaultView)||window}_scrollToOption(i){const s=this.autocomplete,l=IA(i,s.options,s.optionGroups);if(0===i&&1===l)s._setScrollTop(0);else if(s.panel){const f=s.options.toArray()[i];if(f){const x=f._getHostElement(),A=n8(x.offsetTop,x.offsetHeight,s._getScrollTop(),s.panel.nativeElement.offsetHeight);s._setScrollTop(A)}}}}return r.\u0275fac=function(i){return new(i||r)(ye(mr),ye(Kg),ye(Su),ye(Cr),ye(ra),ye(zN),ye(c0,8),ye(jM,9),ye(zr,8),ye(NM),ye(jN,8))},r.\u0275dir=dn({type:r,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[Xr]}),r})(),HN=(()=>{class r extends Att{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=xo(r)))(s||r)}}(),r.\u0275dir=dn({type:r,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(i,s){1&i&&e("focusin",function(){return s._handleFocus()})("blur",function(){return s._onTouched()})("input",function(f){return s._handleInput(f)})("keydown",function(f){return s._handleKeydown(f)}),2&i&&Ir("autocomplete",s.autocompleteAttribute)("role",s.autocompleteDisabled?null:"combobox")("aria-autocomplete",s.autocompleteDisabled?null:"list")("aria-activedescendant",s.panelOpen&&s.activeOption?s.activeOption.id:null)("aria-expanded",s.autocompleteDisabled?null:s.panelOpen.toString())("aria-owns",s.autocompleteDisabled||!s.panelOpen||null==s.autocomplete?null:s.autocomplete.id)("aria-haspopup",!s.autocompleteDisabled)},exportAs:["matAutocompleteTrigger"],features:[po([ktt]),rr]}),r})(),Ttt=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r}),r.\u0275inj=ir({providers:[Ett],imports:[[LS,AS,$o,l0],Ex,AS,$o]}),r})();function Ptt(r,n){if(1&r&&(Xe(0,"mat-option",9),qi(1),Ke()),2&r){const i=n.$implicit;Pi("value",i),ki(1),_s(i)}}function Itt(r,n){if(1&r&&(Xe(0,"mat-option",9),qi(1),Ke()),2&r){const i=n.$implicit;Pi("value",i),ki(1),pa(" ",i," ")}}function Rtt(r,n){if(1&r&&(Xe(0,"mat-optgroup",10),Mn(1,Itt,2,2,"mat-option",3),Ke()),2&r){const i=n.$implicit;Pi("label",i.dance),ki(1),Pi("ngForOf",i.names)}}function Ott(r,n){if(1&r&&(Xe(0,"mat-option",9),qi(1),Ke()),2&r){const i=n.$implicit;Pi("value",i),ki(1),_s(i)}}function Ntt(r,n){if(1&r&&(Xe(0,"mat-option",9),qi(1),Ke()),2&r){const i=n.$implicit;Pi("value",i),ki(1),_s(i)}}let Ltt=(()=>{class r{constructor(i,s){this.dataManagerService=i,this.navService=s,this.dances=new Set,this.courseNames=new Set,this.types=new Set,this.movesGroup=[],this.loading=!0,this.moveSearch=new rs(""),this.searchForm=new Fy({dance:new rs(""),move:new rs(""),course:new rs(""),type:new rs("")})}ngOnInit(){var i=this;return mc(function*(){yield i.dataManagerService.loading(),i.dataManagerService.movesObservable.subscribe(s=>{i.dances=i.dataManagerService.getDanceNames(),i.courseNames=i.dataManagerService.getCourseNames(),i.types=i.dataManagerService.getTypes(),(null==s?void 0:s.length)>0&&(i.loading=!1)}),i.dataManagerService.getGroupedMoveNames().subscribe(s=>{i.movesGroup=s,i.movesGroupOptions=i.dataManagerService.searchFilterObservable.pipe(W(l=>i.filterGroup(l)))}),i.dataManagerService.searchFilterObservable.subscribe(s=>{JSON.stringify(s)!==JSON.stringify(i.searchForm.value)&&i.searchForm.patchValue(s),i.navService.navigate([],s)}),i.searchForm.valueChanges.subscribe(s=>{i.navService.openWebsiteIfEasterEggFound(s.move),i.dataManagerService.searchFilterObservable.next(s)})})()}filterGroup(i){return i.move||i.dance?this.movesGroup.filter(s=>!this.dances.has(i.dance)||s.dance==i.dance).map(s=>({dance:s.dance,names:s.names.filter(l=>{var f,x;return null===(f=null==l?void 0:l.toLowerCase())||void 0===f?void 0:f.includes(null===(x=i.move)||void 0===x?void 0:x.toLowerCase())})})).filter(s=>s.names.length>0):this.movesGroup}}return r.\u0275fac=function(i){return new(i||r)(ye(Yy),ye(vm))},r.\u0275cmp=gn({type:r,selectors:[["app-dance-move-selection"]],decls:30,vars:8,consts:[[3,"formGroup"],["appearance","fill",1,"full-width"],["formControlName","dance"],[3,"value",4,"ngFor","ngForOf"],["type","text","matInput","","formControlName","move",3,"matAutocomplete"],["autoGroup","matAutocomplete"],[3,"label",4,"ngFor","ngForOf"],["formControlName","course"],["formControlName","type"],[3,"value"],[3,"label"]],template:function(i,s){if(1&i&&(Xe(0,"form",0),Xe(1,"mat-form-field",1),Xe(2,"mat-label"),qi(3,"Dance"),Ke(),Xe(4,"mat-select",2),Xe(5,"mat-option"),qi(6,"None"),Ke(),Mn(7,Ptt,2,2,"mat-option",3),Ke(),Ke(),Xe(8,"mat-form-field",1),Xe(9,"mat-label"),qi(10,"Name"),Ke(),An(11,"input",4),Xe(12,"mat-autocomplete",null,5),Mn(14,Rtt,2,2,"mat-optgroup",6),hx(15,"async"),Ke(),Ke(),Xe(16,"mat-form-field",1),Xe(17,"mat-label"),qi(18,"Course"),Ke(),Xe(19,"mat-select",7),Xe(20,"mat-option"),qi(21,"None"),Ke(),Mn(22,Ott,2,2,"mat-option",3),Ke(),Ke(),Xe(23,"mat-form-field",1),Xe(24,"mat-label"),qi(25,"Type"),Ke(),Xe(26,"mat-select",8),Xe(27,"mat-option"),qi(28,"None"),Ke(),Mn(29,Ntt,2,2,"mat-option",3),Ke(),Ke(),Ke()),2&i){const l=tc(13);Pi("formGroup",s.searchForm),ki(7),Pi("ngForOf",s.dances),ki(4),Pi("matAutocomplete",l),ki(3),Pi("ngForOf",ab(15,6,s.movesGroupOptions)),ki(8),Pi("ngForOf",s.courseNames),ki(7),Pi("ngForOf",s.types)}},directives:[SM,xM,Gg,BS,Pb,rT,yM,Sb,RM,zg,jA,_b,HN,Stt,e8],pipes:[ok],styles:[".full-width[_ngcontent-%COMP%]{width:100%}"]}),r})();function Ftt(r,n){if(1&r&&(Xe(0,"mat-option",5),qi(1),Ke()),2&r){const i=n.$implicit;Pi("value",i),ki(1),pa(" ",i," ")}}function Btt(r,n){if(1&r&&(Xe(0,"mat-option",5),qi(1),Ke()),2&r){const i=n.$implicit;Pi("value",i),ki(1),pa(" ",i," ")}}let Vtt=(()=>{class r{constructor(i,s){this.dataManagerService=i,this.navService=s,this.relationTypes=[ed.start,ed.end,ed.related,ed.otherDance],this.displayTypes=[ev.cytoscape,ev.highchartsNetworkgraph,ev.gojsConceptMap],this.relationsForm=new Fy({relationTypes:new rs([]),displayType:new rs("")})}ngOnInit(){var i=this;return mc(function*(){yield i.dataManagerService.loading(),i.dataManagerService.relationsSelectionObservable.subscribe(s=>{i.relationsForm.patchValue(s)}),i.relationsForm.valueChanges.subscribe(s=>i.navService.navigate([],s))})()}}return r.\u0275fac=function(i){return new(i||r)(ye(Yy),ye(vm))},r.\u0275cmp=gn({type:r,selectors:[["app-relations-selection"]],decls:11,vars:3,consts:[[3,"formGroup"],["appearance","fill",1,"full-width"],["formControlName","relationTypes","multiple",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","displayType"],[3,"value"]],template:function(i,s){1&i&&(Xe(0,"form",0),Xe(1,"mat-form-field",1),Xe(2,"mat-label"),qi(3,"Relation Types"),Ke(),Xe(4,"mat-select",2),Mn(5,Ftt,2,2,"mat-option",3),Ke(),Ke(),Xe(6,"mat-form-field",1),Xe(7,"mat-label"),qi(8,"Display Type"),Ke(),Xe(9,"mat-select",4),Mn(10,Btt,2,2,"mat-option",3),Ke(),Ke(),Ke()),2&i&&(Pi("formGroup",s.relationsForm),ki(5),Pi("ngForOf",s.relationTypes),ki(5),Pi("ngForOf",s.displayTypes))},directives:[SM,xM,Gg,BS,Pb,rT,yM,Sb,zg,RM],styles:[".full-width[_ngcontent-%COMP%]{width:100%}"]}),r})();function jtt(r,n){if(1&r){const i=Ya();Xe(0,"button",11),e("click",function(){return qo(i),_(),tc(2).toggle()}),Xe(1,"mat-icon",12),qi(2,"menu"),Ke(),Ke()}}function ztt(r,n){if(1&r){const i=Ya();Xe(0,"button",13),e("click",function(){return qo(i),_().normalize()}),Xe(1,"mat-icon"),qi(2,"list"),Ke(),Ke()}}function Htt(r,n){if(1&r){const i=Ya();Xe(0,"button",14),Xe(1,"mat-icon",15),e("click",function(){return qo(i),_().navigate("move/new")}),qi(2,"add_circle_outline"),Ke(),Ke()}}let Utt=(()=>{class r{constructor(i,s,l,f){this.breakpointObserver=i,this.dataManager=s,this.settingsService=l,this.navService=f,this.devMode=!1,this.readonly=!0,this.headline="Dancing Moves",this.isHandset$=this.breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)").pipe(W(x=>x.matches),function(r,n,i){let f,x=!1;return f=1/0,Co({connector:()=>new ZQ(f,n,i),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:x})}())}ngOnInit(){var i=this;return mc(function*(){i.navService.headlineObservable.subscribe(s=>i.headline=s),yield i.settingsService.loading(),i.settingsService.userMode.subscribe(s=>i.readonly=s===ep.read)})()}normalize(){this.dataManager.normalize()}navigate(i){return this.navService.navigate([i])}}return r.\u0275fac=function(i){return new(i||r)(ye(DI),ye(Yy),ye(f2),ye(vm))},r.\u0275cmp=gn({type:r,selectors:[["app-nav"]],decls:39,vars:18,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],[3,"expanded"],["mat-list-item","",3,"click"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],[1,"headline"],[1,"spacer"],["mat-mini-fab","","color","primary","aria-label","normalize",3,"click",4,"ngIf"],["mat-mini-fab","","color","primary","aria-label","create new move",4,"ngIf"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"],["mat-mini-fab","","color","primary","aria-label","normalize",3,"click"],["mat-mini-fab","","color","primary","aria-label","create new move"],[3,"click"]],template:function(i,s){1&i&&(Xe(0,"mat-sidenav-container",0),Xe(1,"mat-sidenav",1,2),hx(3,"async"),hx(4,"async"),hx(5,"async"),Xe(6,"mat-nav-list"),Xe(7,"mat-expansion-panel",3),Xe(8,"mat-expansion-panel-header"),Xe(9,"mat-panel-title"),qi(10," Pages "),Ke(),Ke(),Xe(11,"a",4),e("click",function(){return s.navigate("dances")}),qi(12,"Dances"),Ke(),Xe(13,"a",4),e("click",function(){return s.navigate("moves")}),qi(14,"Dancing Moves"),Ke(),Xe(15,"a",4),e("click",function(){return s.navigate("relations")}),qi(16,"Relations"),Ke(),Xe(17,"a",4),e("click",function(){return s.navigate("settings")}),qi(18,"Settings"),Ke(),Ke(),Xe(19,"mat-expansion-panel",3),Xe(20,"mat-expansion-panel-header"),Xe(21,"mat-panel-title"),qi(22," Dance Move Selection "),Ke(),Ke(),An(23,"app-dance-move-selection"),Ke(),Xe(24,"mat-expansion-panel",3),Xe(25,"mat-expansion-panel-header"),Xe(26,"mat-panel-title"),qi(27," Relations Selection "),Ke(),Ke(),An(28,"app-relations-selection"),Ke(),Ke(),Ke(),Xe(29,"mat-sidenav-content"),Xe(30,"mat-toolbar",5),Mn(31,jtt,3,0,"button",6),hx(32,"async"),Xe(33,"span",7),qi(34),Ke(),An(35,"span",8),Mn(36,ztt,3,0,"button",9),Mn(37,Htt,3,0,"button",10),Ke(),An(38,"router-outlet"),Ke(),Ke()),2&i&&(ki(1),Pi("mode",ab(4,12,s.isHandset$)?"over":"side")("opened",!1===ab(5,14,s.isHandset$)),Ir("role",ab(3,10,s.isHandset$)?"dialog":"navigation"),ki(6),Pi("expanded",!0),ki(12),Pi("expanded",!0),ki(5),Pi("expanded",!0),ki(7),Pi("ngIf",ab(32,16,s.isHandset$)),ki(3),_s(s.headline),ki(2),Pi("ngIf",!1),ki(1),Pi("ngIf",!s.readonly))},directives:[AO,kO,_X,BN,ftt,dtt,MX,Ltt,Vtt,aT,cK,ku,_T,Xg,pO],pipes:[ok],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:300px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.headline[_ngcontent-%COMP%]{max-width:50%}"]}),r})(),Gtt=(()=>{class r{constructor(i,s){this.settingsService=i,this.dataManagerService=s,this.title="dancing-moves"}ngOnInit(){this.settingsService.fetchSettings(),this.dataManagerService.start()}}return r.\u0275fac=function(i){return new(i||r)(ye(f2),ye(Yy))},r.\u0275cmp=gn({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(i,s){1&i&&An(0,"app-nav")},directives:[Utt],styles:[""]}),r})(),Wtt=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=pr({type:r,bootstrap:[Gtt]}),r.\u0275inj=ir({providers:[dK,{provide:$R,useValue:"de-DE"}],imports:[[fI,zG,Fz,fK,RA,sK,uX,AX,wW,VS,XX,t$,B$,KQ,PH,tW,PW,Ttt,Q$,$Q,LJ,gN,ptt,FQ,tQ.forRoot()]]}),r})();(function(){if(AP)throw new Error("Cannot enable prod mode after platform setup.");kP=!1})(),pz().bootstrapModule(Wtt).catch(r=>console.error(r))},950:()=>{},6601:()=>{},8623:()=>{},7748:()=>{},5568:()=>{},6619:()=>{},7108:()=>{},2361:()=>{},4616:()=>{},4946:_e=>{"use strict";_e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},5207:_e=>{"use strict";_e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},1308:_e=>{"use strict";_e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},9799:_e=>{"use strict";_e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},8597:_e=>{"use strict";_e.exports={i8:"6.5.4"}},2562:_e=>{"use strict";_e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},_e=>{_e(_e.s=1452)}]);