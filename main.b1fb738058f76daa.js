var Lq=Object.defineProperty,Fq=Object.defineProperties,Bq=Object.getOwnPropertyDescriptors,B5=Object.getOwnPropertySymbols,Vq=Object.prototype.hasOwnProperty,jq=Object.prototype.propertyIsEnumerable,V5=(fe,ot,kt)=>ot in fe?Lq(fe,ot,{enumerable:!0,configurable:!0,writable:!0,value:kt}):fe[ot]=kt,wn=(fe,ot)=>{for(var kt in ot||(ot={}))Vq.call(ot,kt)&&V5(fe,kt,ot[kt]);if(B5)for(var kt of B5(ot))jq.call(ot,kt)&&V5(fe,kt,ot[kt]);return fe},Fl=(fe,ot)=>Fq(fe,Bq(ot));(self.webpackChunkdancing_moves=self.webpackChunkdancing_moves||[]).push([[179],{46:(fe,ot,kt)=>{"use strict";const Tt=ot;Tt.bignum=kt(5314),Tt.define=kt(3147).define,Tt.base=kt(8305),Tt.constants=kt(8563),Tt.decoders=kt(3435),Tt.encoders=kt(9589)},3147:(fe,ot,kt)=>{"use strict";const Tt=kt(9589),Pt=kt(3435),ht=kt(3516);function D($,X){this.name=$,this.body=X,this.decoders={},this.encoders={}}ot.define=function(X,it){return new D(X,it)},D.prototype._createNamed=function(X){const it=this.name;function K(W){this._initNamed(W,it)}return ht(K,X),K.prototype._initNamed=function(j,tt){X.call(this,j,tt)},new K(this)},D.prototype._getDecoder=function(X){return this.decoders.hasOwnProperty(X=X||"der")||(this.decoders[X]=this._createNamed(Pt[X])),this.decoders[X]},D.prototype.decode=function(X,it,K){return this._getDecoder(it).decode(X,K)},D.prototype._getEncoder=function(X){return this.encoders.hasOwnProperty(X=X||"der")||(this.encoders[X]=this._createNamed(Tt[X])),this.encoders[X]},D.prototype.encode=function(X,it,K){return this._getEncoder(it).encode(X,K)}},2995:(fe,ot,kt)=>{"use strict";const Tt=kt(3516),Pt=kt(5610).b,ht=kt(7356).Buffer;function ct($,X){Pt.call(this,X),ht.isBuffer($)?(this.base=$,this.offset=0,this.length=$.length):this.error("Input not Buffer")}function D($,X){if(Array.isArray($))this.length=0,this.value=$.map(function(it){return D.isEncoderBuffer(it)||(it=new D(it,X)),this.length+=it.length,it},this);else if("number"==typeof $){if(!(0<=$&&$<=255))return X.error("non-byte EncoderBuffer value");this.value=$,this.length=1}else if("string"==typeof $)this.value=$,this.length=ht.byteLength($);else{if(!ht.isBuffer($))return X.error("Unsupported type: "+typeof $);this.value=$,this.length=$.length}}Tt(ct,Pt),ot.C=ct,ct.isDecoderBuffer=function(X){return X instanceof ct||"object"==typeof X&&ht.isBuffer(X.base)&&"DecoderBuffer"===X.constructor.name&&"number"==typeof X.offset&&"number"==typeof X.length&&"function"==typeof X.save&&"function"==typeof X.restore&&"function"==typeof X.isEmpty&&"function"==typeof X.readUInt8&&"function"==typeof X.skip&&"function"==typeof X.raw},ct.prototype.save=function(){return{offset:this.offset,reporter:Pt.prototype.save.call(this)}},ct.prototype.restore=function(X){const it=new ct(this.base);return it.offset=X.offset,it.length=this.offset,this.offset=X.offset,Pt.prototype.restore.call(this,X.reporter),it},ct.prototype.isEmpty=function(){return this.offset===this.length},ct.prototype.readUInt8=function(X){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(X||"DecoderBuffer overrun")},ct.prototype.skip=function(X,it){if(!(this.offset+X<=this.length))return this.error(it||"DecoderBuffer overrun");const K=new ct(this.base);return K._reporterState=this._reporterState,K.offset=this.offset,K.length=this.offset+X,this.offset+=X,K},ct.prototype.raw=function(X){return this.base.slice(X?X.offset:this.offset,this.length)},ot.R=D,D.isEncoderBuffer=function(X){return X instanceof D||"object"==typeof X&&"EncoderBuffer"===X.constructor.name&&"number"==typeof X.length&&"function"==typeof X.join},D.prototype.join=function(X,it){return X||(X=ht.alloc(this.length)),it||(it=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function(K){K.join(X,it),it+=K.length}):("number"==typeof this.value?X[it]=this.value:"string"==typeof this.value?X.write(this.value,it):ht.isBuffer(this.value)&&this.value.copy(X,it),it+=this.length)),X}},8305:(fe,ot,kt)=>{"use strict";const Tt=ot;Tt.Reporter=kt(5610).b,Tt.DecoderBuffer=kt(2995).C,Tt.EncoderBuffer=kt(2995).R,Tt.Node=kt(4878)},4878:(fe,ot,kt)=>{"use strict";const Tt=kt(5610).b,Pt=kt(2995).R,ht=kt(2995).C,ct=kt(4725),D=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],$=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(D);function it(W,j,tt){const N={};this._baseState=N,N.name=tt,N.enc=W,N.parent=j||null,N.children=null,N.tag=null,N.args=null,N.reverseArgs=null,N.choice=null,N.optional=!1,N.any=!1,N.obj=!1,N.use=null,N.useDecoder=null,N.key=null,N.default=null,N.explicit=null,N.implicit=null,N.contains=null,N.parent||(N.children=[],this._wrap())}fe.exports=it;const K=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];it.prototype.clone=function(){const j=this._baseState,tt={};K.forEach(function(U){tt[U]=j[U]});const N=new this.constructor(tt.parent);return N._baseState=tt,N},it.prototype._wrap=function(){const j=this._baseState;$.forEach(function(tt){this[tt]=function(){const U=new this.constructor(this);return j.children.push(U),U[tt].apply(U,arguments)}},this)},it.prototype._init=function(j){const tt=this._baseState;ct(null===tt.parent),j.call(this),tt.children=tt.children.filter(function(N){return N._baseState.parent===this},this),ct.equal(tt.children.length,1,"Root node can have only one child")},it.prototype._useArgs=function(j){const tt=this._baseState,N=j.filter(function(U){return U instanceof this.constructor},this);j=j.filter(function(U){return!(U instanceof this.constructor)},this),0!==N.length&&(ct(null===tt.children),tt.children=N,N.forEach(function(U){U._baseState.parent=this},this)),0!==j.length&&(ct(null===tt.args),tt.args=j,tt.reverseArgs=j.map(function(U){if("object"!=typeof U||U.constructor!==Object)return U;const z={};return Object.keys(U).forEach(function(Y){Y==(0|Y)&&(Y|=0),z[U[Y]]=Y}),z}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(W){it.prototype[W]=function(){throw new Error(W+" not implemented for encoding: "+this._baseState.enc)}}),D.forEach(function(W){it.prototype[W]=function(){const tt=this._baseState,N=Array.prototype.slice.call(arguments);return ct(null===tt.tag),tt.tag=W,this._useArgs(N),this}}),it.prototype.use=function(j){ct(j);const tt=this._baseState;return ct(null===tt.use),tt.use=j,this},it.prototype.optional=function(){return this._baseState.optional=!0,this},it.prototype.def=function(j){const tt=this._baseState;return ct(null===tt.default),tt.default=j,tt.optional=!0,this},it.prototype.explicit=function(j){const tt=this._baseState;return ct(null===tt.explicit&&null===tt.implicit),tt.explicit=j,this},it.prototype.implicit=function(j){const tt=this._baseState;return ct(null===tt.explicit&&null===tt.implicit),tt.implicit=j,this},it.prototype.obj=function(){const j=this._baseState,tt=Array.prototype.slice.call(arguments);return j.obj=!0,0!==tt.length&&this._useArgs(tt),this},it.prototype.key=function(j){const tt=this._baseState;return ct(null===tt.key),tt.key=j,this},it.prototype.any=function(){return this._baseState.any=!0,this},it.prototype.choice=function(j){const tt=this._baseState;return ct(null===tt.choice),tt.choice=j,this._useArgs(Object.keys(j).map(function(N){return j[N]})),this},it.prototype.contains=function(j){const tt=this._baseState;return ct(null===tt.use),tt.contains=j,this},it.prototype._decode=function(j,tt){const N=this._baseState;if(null===N.parent)return j.wrapResult(N.children[0]._decode(j,tt));let q,U=N.default,z=!0,Y=null;if(null!==N.key&&(Y=j.enterKey(N.key)),N.optional){let V=null;if(null!==N.explicit?V=N.explicit:null!==N.implicit?V=N.implicit:null!==N.tag&&(V=N.tag),null!==V||N.any){if(z=this._peekTag(j,V,N.any),j.isError(z))return z}else{const Z=j.save();try{null===N.choice?this._decodeGeneric(N.tag,j,tt):this._decodeChoice(j,tt),z=!0}catch(et){z=!1}j.restore(Z)}}if(N.obj&&z&&(q=j.enterObject()),z){if(null!==N.explicit){const Z=this._decodeTag(j,N.explicit);if(j.isError(Z))return Z;j=Z}const V=j.offset;if(null===N.use&&null===N.choice){let Z;N.any&&(Z=j.save());const et=this._decodeTag(j,null!==N.implicit?N.implicit:N.tag,N.any);if(j.isError(et))return et;N.any?U=j.raw(Z):j=et}if(tt&&tt.track&&null!==N.tag&&tt.track(j.path(),V,j.length,"tagged"),tt&&tt.track&&null!==N.tag&&tt.track(j.path(),j.offset,j.length,"content"),N.any||(U=null===N.choice?this._decodeGeneric(N.tag,j,tt):this._decodeChoice(j,tt)),j.isError(U))return U;if(!N.any&&null===N.choice&&null!==N.children&&N.children.forEach(function(et){et._decode(j,tt)}),N.contains&&("octstr"===N.tag||"bitstr"===N.tag)){const Z=new ht(U);U=this._getUse(N.contains,j._reporterState.obj)._decode(Z,tt)}}return N.obj&&z&&(U=j.leaveObject(q)),null===N.key||null===U&&!0!==z?null!==Y&&j.exitKey(Y):j.leaveKey(Y,N.key,U),U},it.prototype._decodeGeneric=function(j,tt,N){const U=this._baseState;return"seq"===j||"set"===j?null:"seqof"===j||"setof"===j?this._decodeList(tt,j,U.args[0],N):/str$/.test(j)?this._decodeStr(tt,j,N):"objid"===j&&U.args?this._decodeObjid(tt,U.args[0],U.args[1],N):"objid"===j?this._decodeObjid(tt,null,null,N):"gentime"===j||"utctime"===j?this._decodeTime(tt,j,N):"null_"===j?this._decodeNull(tt,N):"bool"===j?this._decodeBool(tt,N):"objDesc"===j?this._decodeStr(tt,j,N):"int"===j||"enum"===j?this._decodeInt(tt,U.args&&U.args[0],N):null!==U.use?this._getUse(U.use,tt._reporterState.obj)._decode(tt,N):tt.error("unknown tag: "+j)},it.prototype._getUse=function(j,tt){const N=this._baseState;return N.useDecoder=this._use(j,tt),ct(null===N.useDecoder._baseState.parent),N.useDecoder=N.useDecoder._baseState.children[0],N.implicit!==N.useDecoder._baseState.implicit&&(N.useDecoder=N.useDecoder.clone(),N.useDecoder._baseState.implicit=N.implicit),N.useDecoder},it.prototype._decodeChoice=function(j,tt){const N=this._baseState;let U=null,z=!1;return Object.keys(N.choice).some(function(Y){const q=j.save(),V=N.choice[Y];try{const Z=V._decode(j,tt);if(j.isError(Z))return!1;U={type:Y,value:Z},z=!0}catch(Z){return j.restore(q),!1}return!0},this),z?U:j.error("Choice not matched")},it.prototype._createEncoderBuffer=function(j){return new Pt(j,this.reporter)},it.prototype._encode=function(j,tt,N){const U=this._baseState;if(null!==U.default&&U.default===j)return;const z=this._encodeValue(j,tt,N);return void 0===z||this._skipDefault(z,tt,N)?void 0:z},it.prototype._encodeValue=function(j,tt,N){const U=this._baseState;if(null===U.parent)return U.children[0]._encode(j,tt||new Tt);let z=null;if(this.reporter=tt,U.optional&&void 0===j){if(null===U.default)return;j=U.default}let Y=null,q=!1;if(U.any)z=this._createEncoderBuffer(j);else if(U.choice)z=this._encodeChoice(j,tt);else if(U.contains)Y=this._getUse(U.contains,N)._encode(j,tt),q=!0;else if(U.children)Y=U.children.map(function(V){if("null_"===V._baseState.tag)return V._encode(null,tt,j);if(null===V._baseState.key)return tt.error("Child should have a key");const Z=tt.enterKey(V._baseState.key);if("object"!=typeof j)return tt.error("Child expected, but input is not object");const et=V._encode(j[V._baseState.key],tt,j);return tt.leaveKey(Z),et},this).filter(function(V){return V}),Y=this._createEncoderBuffer(Y);else if("seqof"===U.tag||"setof"===U.tag){if(!U.args||1!==U.args.length)return tt.error("Too many args for : "+U.tag);if(!Array.isArray(j))return tt.error("seqof/setof, but data is not Array");const V=this.clone();V._baseState.implicit=null,Y=this._createEncoderBuffer(j.map(function(Z){return this._getUse(this._baseState.args[0],j)._encode(Z,tt)},V))}else null!==U.use?z=this._getUse(U.use,N)._encode(j,tt):(Y=this._encodePrimitive(U.tag,j),q=!0);if(!U.any&&null===U.choice){const V=null!==U.implicit?U.implicit:U.tag,Z=null===U.implicit?"universal":"context";null===V?null===U.use&&tt.error("Tag could be omitted only for .use()"):null===U.use&&(z=this._encodeComposite(V,q,Z,Y))}return null!==U.explicit&&(z=this._encodeComposite(U.explicit,!1,"context",z)),z},it.prototype._encodeChoice=function(j,tt){const N=this._baseState,U=N.choice[j.type];return U||ct(!1,j.type+" not found in "+JSON.stringify(Object.keys(N.choice))),U._encode(j.value,tt)},it.prototype._encodePrimitive=function(j,tt){const N=this._baseState;if(/str$/.test(j))return this._encodeStr(tt,j);if("objid"===j&&N.args)return this._encodeObjid(tt,N.reverseArgs[0],N.args[1]);if("objid"===j)return this._encodeObjid(tt,null,null);if("gentime"===j||"utctime"===j)return this._encodeTime(tt,j);if("null_"===j)return this._encodeNull();if("int"===j||"enum"===j)return this._encodeInt(tt,N.args&&N.reverseArgs[0]);if("bool"===j)return this._encodeBool(tt);if("objDesc"===j)return this._encodeStr(tt,j);throw new Error("Unsupported tag: "+j)},it.prototype._isNumstr=function(j){return/^[0-9 ]*$/.test(j)},it.prototype._isPrintstr=function(j){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(j)}},5610:(fe,ot,kt)=>{"use strict";const Tt=kt(3516);function Pt(ct){this._reporterState={obj:null,path:[],options:ct||{},errors:[]}}function ht(ct,D){this.path=ct,this.rethrow(D)}ot.b=Pt,Pt.prototype.isError=function(D){return D instanceof ht},Pt.prototype.save=function(){const D=this._reporterState;return{obj:D.obj,pathLen:D.path.length}},Pt.prototype.restore=function(D){const $=this._reporterState;$.obj=D.obj,$.path=$.path.slice(0,D.pathLen)},Pt.prototype.enterKey=function(D){return this._reporterState.path.push(D)},Pt.prototype.exitKey=function(D){const $=this._reporterState;$.path=$.path.slice(0,D-1)},Pt.prototype.leaveKey=function(D,$,X){const it=this._reporterState;this.exitKey(D),null!==it.obj&&(it.obj[$]=X)},Pt.prototype.path=function(){return this._reporterState.path.join("/")},Pt.prototype.enterObject=function(){const D=this._reporterState,$=D.obj;return D.obj={},$},Pt.prototype.leaveObject=function(D){const $=this._reporterState,X=$.obj;return $.obj=D,X},Pt.prototype.error=function(D){let $;const X=this._reporterState,it=D instanceof ht;if($=it?D:new ht(X.path.map(function(K){return"["+JSON.stringify(K)+"]"}).join(""),D.message||D,D.stack),!X.options.partial)throw $;return it||X.errors.push($),$},Pt.prototype.wrapResult=function(D){const $=this._reporterState;return $.options.partial?{result:this.isError(D)?null:D,errors:$.errors}:D},Tt(ht,Error),ht.prototype.rethrow=function(D){if(this.message=D+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,ht),!this.stack)try{throw new Error(this.message)}catch($){this.stack=$.stack}return this}},6596:(fe,ot)=>{"use strict";function kt(Tt){const Pt={};return Object.keys(Tt).forEach(function(ht){(0|ht)==ht&&(ht|=0),Pt[Tt[ht]]=ht}),Pt}ot.tagClass={0:"universal",1:"application",2:"context",3:"private"},ot.tagClassByName=kt(ot.tagClass),ot.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},ot.tagByName=kt(ot.tag)},8563:(fe,ot,kt)=>{"use strict";const Tt=ot;Tt._reverse=function(ht){const ct={};return Object.keys(ht).forEach(function(D){(0|D)==D&&(D|=0),ct[ht[D]]=D}),ct},Tt.der=kt(6596)},7115:(fe,ot,kt)=>{"use strict";const Tt=kt(3516),Pt=kt(5314),ht=kt(2995).C,ct=kt(4878),D=kt(6596);function $(W){this.enc="der",this.name=W.name,this.entity=W,this.tree=new X,this.tree._init(W.body)}function X(W){ct.call(this,"der",W)}function it(W,j){let tt=W.readUInt8(j);if(W.isError(tt))return tt;const N=D.tagClass[tt>>6],U=0==(32&tt);if(31==(31&tt)){let Y=tt;for(tt=0;128==(128&Y);){if(Y=W.readUInt8(j),W.isError(Y))return Y;tt<<=7,tt|=127&Y}}else tt&=31;return{cls:N,primitive:U,tag:tt,tagStr:D.tag[tt]}}function K(W,j,tt){let N=W.readUInt8(tt);if(W.isError(N))return N;if(!j&&128===N)return null;if(0==(128&N))return N;const U=127&N;if(U>4)return W.error("length octect is too long");N=0;for(let z=0;z<U;z++){N<<=8;const Y=W.readUInt8(tt);if(W.isError(Y))return Y;N|=Y}return N}fe.exports=$,$.prototype.decode=function(j,tt){return ht.isDecoderBuffer(j)||(j=new ht(j,tt)),this.tree._decode(j,tt)},Tt(X,ct),X.prototype._peekTag=function(j,tt,N){if(j.isEmpty())return!1;const U=j.save(),z=it(j,'Failed to peek tag: "'+tt+'"');return j.isError(z)?z:(j.restore(U),z.tag===tt||z.tagStr===tt||z.tagStr+"of"===tt||N)},X.prototype._decodeTag=function(j,tt,N){const U=it(j,'Failed to decode tag of "'+tt+'"');if(j.isError(U))return U;let z=K(j,U.primitive,'Failed to get length of "'+tt+'"');if(j.isError(z))return z;if(!N&&U.tag!==tt&&U.tagStr!==tt&&U.tagStr+"of"!==tt)return j.error('Failed to match tag: "'+tt+'"');if(U.primitive||null!==z)return j.skip(z,'Failed to match body of: "'+tt+'"');const Y=j.save(),q=this._skipUntilEnd(j,'Failed to skip indefinite length body: "'+this.tag+'"');return j.isError(q)?q:(z=j.offset-Y.offset,j.restore(Y),j.skip(z,'Failed to match body of: "'+tt+'"'))},X.prototype._skipUntilEnd=function(j,tt){for(;;){const N=it(j,tt);if(j.isError(N))return N;const U=K(j,N.primitive,tt);if(j.isError(U))return U;let z;if(z=N.primitive||null!==U?j.skip(U):this._skipUntilEnd(j,tt),j.isError(z))return z;if("end"===N.tagStr)break}},X.prototype._decodeList=function(j,tt,N,U){const z=[];for(;!j.isEmpty();){const Y=this._peekTag(j,"end");if(j.isError(Y))return Y;const q=N.decode(j,"der",U);if(j.isError(q)&&Y)break;z.push(q)}return z},X.prototype._decodeStr=function(j,tt){if("bitstr"===tt){const N=j.readUInt8();return j.isError(N)?N:{unused:N,data:j.raw()}}if("bmpstr"===tt){const N=j.raw();if(N.length%2==1)return j.error("Decoding of string type: bmpstr length mismatch");let U="";for(let z=0;z<N.length/2;z++)U+=String.fromCharCode(N.readUInt16BE(2*z));return U}if("numstr"===tt){const N=j.raw().toString("ascii");return this._isNumstr(N)?N:j.error("Decoding of string type: numstr unsupported characters")}if("octstr"===tt)return j.raw();if("objDesc"===tt)return j.raw();if("printstr"===tt){const N=j.raw().toString("ascii");return this._isPrintstr(N)?N:j.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(tt)?j.raw().toString():j.error("Decoding of string type: "+tt+" unsupported")},X.prototype._decodeObjid=function(j,tt,N){let U;const z=[];let Y=0,q=0;for(;!j.isEmpty();)q=j.readUInt8(),Y<<=7,Y|=127&q,0==(128&q)&&(z.push(Y),Y=0);if(128&q&&z.push(Y),U=N?z:[z[0]/40|0,z[0]%40].concat(z.slice(1)),tt){let et=tt[U.join(" ")];void 0===et&&(et=tt[U.join(".")]),void 0!==et&&(U=et)}return U},X.prototype._decodeTime=function(j,tt){const N=j.raw().toString();let U,z,Y,q,V,Z;if("gentime"===tt)U=0|N.slice(0,4),z=0|N.slice(4,6),Y=0|N.slice(6,8),q=0|N.slice(8,10),V=0|N.slice(10,12),Z=0|N.slice(12,14);else{if("utctime"!==tt)return j.error("Decoding "+tt+" time is not supported yet");U=0|N.slice(0,2),z=0|N.slice(2,4),Y=0|N.slice(4,6),q=0|N.slice(6,8),V=0|N.slice(8,10),Z=0|N.slice(10,12),U=U<70?2e3+U:1900+U}return Date.UTC(U,z-1,Y,q,V,Z,0)},X.prototype._decodeNull=function(){return null},X.prototype._decodeBool=function(j){const tt=j.readUInt8();return j.isError(tt)?tt:0!==tt},X.prototype._decodeInt=function(j,tt){const N=j.raw();let U=new Pt(N);return tt&&(U=tt[U.toString(10)]||U),U},X.prototype._use=function(j,tt){return"function"==typeof j&&(j=j(tt)),j._getDecoder("der").tree}},3435:(fe,ot,kt)=>{"use strict";const Tt=ot;Tt.der=kt(7115),Tt.pem=kt(9796)},9796:(fe,ot,kt)=>{"use strict";const Tt=kt(3516),Pt=kt(7356).Buffer,ht=kt(7115);function ct(D){ht.call(this,D),this.enc="pem"}Tt(ct,ht),fe.exports=ct,ct.prototype.decode=function($,X){const it=$.toString().split(/[\r\n]+/g),K=X.label.toUpperCase(),W=/^-----(BEGIN|END) ([^-]+)-----$/;let j=-1,tt=-1;for(let z=0;z<it.length;z++){const Y=it[z].match(W);if(null!==Y&&Y[2]===K){if(-1!==j){if("END"!==Y[1])break;tt=z;break}if("BEGIN"!==Y[1])break;j=z}}if(-1===j||-1===tt)throw new Error("PEM section not found for: "+K);const N=it.slice(j+1,tt).join("");N.replace(/[^a-z0-9+/=]+/gi,"");const U=Pt.from(N,"base64");return ht.prototype.decode.call(this,U,X)}},4857:(fe,ot,kt)=>{"use strict";const Tt=kt(3516),Pt=kt(7356).Buffer,ht=kt(4878),ct=kt(6596);function D(K){this.enc="der",this.name=K.name,this.entity=K,this.tree=new $,this.tree._init(K.body)}function $(K){ht.call(this,"der",K)}function X(K){return K<10?"0"+K:K}fe.exports=D,D.prototype.encode=function(W,j){return this.tree._encode(W,j).join()},Tt($,ht),$.prototype._encodeComposite=function(W,j,tt,N){const U=function(K,W,j,tt){let N;if("seqof"===K?K="seq":"setof"===K&&(K="set"),ct.tagByName.hasOwnProperty(K))N=ct.tagByName[K];else{if("number"!=typeof K||(0|K)!==K)return tt.error("Unknown tag: "+K);N=K}return N>=31?tt.error("Multi-octet tag encoding unsupported"):(W||(N|=32),N|=ct.tagClassByName[j||"universal"]<<6,N)}(W,j,tt,this.reporter);if(N.length<128){const q=Pt.alloc(2);return q[0]=U,q[1]=N.length,this._createEncoderBuffer([q,N])}let z=1;for(let q=N.length;q>=256;q>>=8)z++;const Y=Pt.alloc(2+z);Y[0]=U,Y[1]=128|z;for(let q=1+z,V=N.length;V>0;q--,V>>=8)Y[q]=255&V;return this._createEncoderBuffer([Y,N])},$.prototype._encodeStr=function(W,j){if("bitstr"===j)return this._createEncoderBuffer([0|W.unused,W.data]);if("bmpstr"===j){const tt=Pt.alloc(2*W.length);for(let N=0;N<W.length;N++)tt.writeUInt16BE(W.charCodeAt(N),2*N);return this._createEncoderBuffer(tt)}return"numstr"===j?this._isNumstr(W)?this._createEncoderBuffer(W):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===j?this._isPrintstr(W)?this._createEncoderBuffer(W):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(j)||"objDesc"===j?this._createEncoderBuffer(W):this.reporter.error("Encoding of string type: "+j+" unsupported")},$.prototype._encodeObjid=function(W,j,tt){if("string"==typeof W){if(!j)return this.reporter.error("string objid given, but no values map found");if(!j.hasOwnProperty(W))return this.reporter.error("objid not found in values map");W=j[W].split(/[\s.]+/g);for(let Y=0;Y<W.length;Y++)W[Y]|=0}else if(Array.isArray(W)){W=W.slice();for(let Y=0;Y<W.length;Y++)W[Y]|=0}if(!Array.isArray(W))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(W));if(!tt){if(W[1]>=40)return this.reporter.error("Second objid identifier OOB");W.splice(0,2,40*W[0]+W[1])}let N=0;for(let Y=0;Y<W.length;Y++){let q=W[Y];for(N++;q>=128;q>>=7)N++}const U=Pt.alloc(N);let z=U.length-1;for(let Y=W.length-1;Y>=0;Y--){let q=W[Y];for(U[z--]=127&q;(q>>=7)>0;)U[z--]=128|127&q}return this._createEncoderBuffer(U)},$.prototype._encodeTime=function(W,j){let tt;const N=new Date(W);return"gentime"===j?tt=[X(N.getUTCFullYear()),X(N.getUTCMonth()+1),X(N.getUTCDate()),X(N.getUTCHours()),X(N.getUTCMinutes()),X(N.getUTCSeconds()),"Z"].join(""):"utctime"===j?tt=[X(N.getUTCFullYear()%100),X(N.getUTCMonth()+1),X(N.getUTCDate()),X(N.getUTCHours()),X(N.getUTCMinutes()),X(N.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+j+" time is not supported yet"),this._encodeStr(tt,"octstr")},$.prototype._encodeNull=function(){return this._createEncoderBuffer("")},$.prototype._encodeInt=function(W,j){if("string"==typeof W){if(!j)return this.reporter.error("String int or enum given, but no values map");if(!j.hasOwnProperty(W))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(W));W=j[W]}if("number"!=typeof W&&!Pt.isBuffer(W)){const U=W.toArray();!W.sign&&128&U[0]&&U.unshift(0),W=Pt.from(U)}if(Pt.isBuffer(W)){let U=W.length;0===W.length&&U++;const z=Pt.alloc(U);return W.copy(z),0===W.length&&(z[0]=0),this._createEncoderBuffer(z)}if(W<128)return this._createEncoderBuffer(W);if(W<256)return this._createEncoderBuffer([0,W]);let tt=1;for(let U=W;U>=256;U>>=8)tt++;const N=new Array(tt);for(let U=N.length-1;U>=0;U--)N[U]=255&W,W>>=8;return 128&N[0]&&N.unshift(0),this._createEncoderBuffer(Pt.from(N))},$.prototype._encodeBool=function(W){return this._createEncoderBuffer(W?255:0)},$.prototype._use=function(W,j){return"function"==typeof W&&(W=W(j)),W._getEncoder("der").tree},$.prototype._skipDefault=function(W,j,tt){const N=this._baseState;let U;if(null===N.default)return!1;const z=W.join();if(void 0===N.defaultBuffer&&(N.defaultBuffer=this._encodeValue(N.default,j,tt).join()),z.length!==N.defaultBuffer.length)return!1;for(U=0;U<z.length;U++)if(z[U]!==N.defaultBuffer[U])return!1;return!0}},9589:(fe,ot,kt)=>{"use strict";const Tt=ot;Tt.der=kt(4857),Tt.pem=kt(5695)},5695:(fe,ot,kt)=>{"use strict";const Tt=kt(3516),Pt=kt(4857);function ht(ct){Pt.call(this,ct),this.enc="pem"}Tt(ht,Pt),fe.exports=ht,ht.prototype.encode=function(D,$){const it=Pt.prototype.encode.call(this,D).toString("base64"),K=["-----BEGIN "+$.label+"-----"];for(let W=0;W<it.length;W+=64)K.push(it.slice(W,W+64));return K.push("-----END "+$.label+"-----"),K.join("\n")}},5314:function(fe,ot,kt){!function(Tt,Pt){"use strict";function ht(T,h){if(!T)throw new Error(h||"Assertion failed")}function ct(T,h){T.super_=h;var m=function(){};m.prototype=h.prototype,T.prototype=new m,T.prototype.constructor=T}function D(T,h,m){if(D.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,null!==T&&(("le"===h||"be"===h)&&(m=h,h=10),this._init(T||0,h||10,m||"be"))}var $;"object"==typeof Tt?Tt.exports=D:Pt.BN=D,D.BN=D,D.wordSize=26;try{$="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:kt(950).Buffer}catch(T){}function X(T,h){var m=T.charCodeAt(h);return m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:m-48&15}function it(T,h,m){var y=X(T,m);return m-1>=h&&(y|=X(T,m-1)<<4),y}function K(T,h,m,y){for(var v=0,M=Math.min(T.length,m),S=h;S<M;S++){var P=T.charCodeAt(S)-48;v*=y,v+=P>=49?P-49+10:P>=17?P-17+10:P}return v}D.isBN=function(h){return h instanceof D||null!==h&&"object"==typeof h&&h.constructor.wordSize===D.wordSize&&Array.isArray(h.words)},D.max=function(h,m){return h.cmp(m)>0?h:m},D.min=function(h,m){return h.cmp(m)<0?h:m},D.prototype._init=function(h,m,y){if("number"==typeof h)return this._initNumber(h,m,y);if("object"==typeof h)return this._initArray(h,m,y);"hex"===m&&(m=16),ht(m===(0|m)&&m>=2&&m<=36);var v=0;"-"===(h=h.toString().replace(/\s+/g,""))[0]&&(v++,this.negative=1),v<h.length&&(16===m?this._parseHex(h,v,y):(this._parseBase(h,m,v),"le"===y&&this._initArray(this.toArray(),m,y)))},D.prototype._initNumber=function(h,m,y){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[67108863&h],this.length=1):h<4503599627370496?(this.words=[67108863&h,h/67108864&67108863],this.length=2):(ht(h<9007199254740992),this.words=[67108863&h,h/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),m,y)},D.prototype._initArray=function(h,m,y){if(ht("number"==typeof h.length),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var M,S,P=0;if("be"===y)for(v=h.length-1,M=0;v>=0;v-=3)this.words[M]|=(S=h[v]|h[v-1]<<8|h[v-2]<<16)<<P&67108863,this.words[M+1]=S>>>26-P&67108863,(P+=24)>=26&&(P-=26,M++);else if("le"===y)for(v=0,M=0;v<h.length;v+=3)this.words[M]|=(S=h[v]|h[v+1]<<8|h[v+2]<<16)<<P&67108863,this.words[M+1]=S>>>26-P&67108863,(P+=24)>=26&&(P-=26,M++);return this.strip()},D.prototype._parseHex=function(h,m,y){this.length=Math.ceil((h.length-m)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var P,M=0,S=0;if("be"===y)for(v=h.length-1;v>=m;v-=2)P=it(h,m,v)<<M,this.words[S]|=67108863&P,M>=18?(M-=18,this.words[S+=1]|=P>>>26):M+=8;else for(v=(h.length-m)%2==0?m+1:m;v<h.length;v+=2)P=it(h,m,v)<<M,this.words[S]|=67108863&P,M>=18?(M-=18,this.words[S+=1]|=P>>>26):M+=8;this.strip()},D.prototype._parseBase=function(h,m,y){this.words=[0],this.length=1;for(var v=0,M=1;M<=67108863;M*=m)v++;v--,M=M/m|0;for(var S=h.length-y,P=S%v,C=Math.min(S,S-P)+y,d=0,k=y;k<C;k+=v)d=K(h,k,k+v,m),this.imuln(M),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==P){var nt=1;for(d=K(h,k,h.length,m),k=0;k<P;k++)nt*=m;this.imuln(nt),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},D.prototype.copy=function(h){h.words=new Array(this.length);for(var m=0;m<this.length;m++)h.words[m]=this.words[m];h.length=this.length,h.negative=this.negative,h.red=this.red},D.prototype.clone=function(){var h=new D(null);return this.copy(h),h},D.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},D.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},D.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},D.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var W=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],j=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],tt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function U(T,h,m){m.negative=h.negative^T.negative;var y=T.length+h.length|0;m.length=y,y=y-1|0;var v=0|T.words[0],M=0|h.words[0],S=v*M,C=S/67108864|0;m.words[0]=67108863&S;for(var d=1;d<y;d++){for(var k=C>>>26,nt=67108863&C,Q=Math.min(d,h.length-1),J=Math.max(0,d-T.length+1);J<=Q;J++)k+=(S=(v=0|T.words[d-J|0])*(M=0|h.words[J])+nt)/67108864|0,nt=67108863&S;m.words[d]=0|nt,C=0|k}return 0!==C?m.words[d]=0|C:m.length--,m.strip()}D.prototype.toString=function(h,m){var y;if(m=0|m||1,16===(h=h||10)||"hex"===h){y="";for(var v=0,M=0,S=0;S<this.length;S++){var P=this.words[S],C=(16777215&(P<<v|M)).toString(16);y=0!=(M=P>>>24-v&16777215)||S!==this.length-1?W[6-C.length]+C+y:C+y,(v+=2)>=26&&(v-=26,S--)}for(0!==M&&(y=M.toString(16)+y);y.length%m!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(h===(0|h)&&h>=2&&h<=36){var d=j[h],k=tt[h];y="";var nt=this.clone();for(nt.negative=0;!nt.isZero();){var Q=nt.modn(k).toString(h);y=(nt=nt.idivn(k)).isZero()?Q+y:W[d-Q.length]+Q+y}for(this.isZero()&&(y="0"+y);y.length%m!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}ht(!1,"Base should be between 2 and 36")},D.prototype.toNumber=function(){var h=this.words[0];return 2===this.length?h+=67108864*this.words[1]:3===this.length&&1===this.words[2]?h+=4503599627370496+67108864*this.words[1]:this.length>2&&ht(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-h:h},D.prototype.toJSON=function(){return this.toString(16)},D.prototype.toBuffer=function(h,m){return ht(void 0!==$),this.toArrayLike($,h,m)},D.prototype.toArray=function(h,m){return this.toArrayLike(Array,h,m)},D.prototype.toArrayLike=function(h,m,y){var v=this.byteLength(),M=y||Math.max(1,v);ht(v<=M,"byte array longer than desired length"),ht(M>0,"Requested array length <= 0"),this.strip();var C,d,S="le"===m,P=new h(M),k=this.clone();if(S){for(d=0;!k.isZero();d++)C=k.andln(255),k.iushrn(8),P[d]=C;for(;d<M;d++)P[d]=0}else{for(d=0;d<M-v;d++)P[d]=0;for(d=0;!k.isZero();d++)C=k.andln(255),k.iushrn(8),P[M-d-1]=C}return P},D.prototype._countBits=Math.clz32?function(h){return 32-Math.clz32(h)}:function(h){var m=h,y=0;return m>=4096&&(y+=13,m>>>=13),m>=64&&(y+=7,m>>>=7),m>=8&&(y+=4,m>>>=4),m>=2&&(y+=2,m>>>=2),y+m},D.prototype._zeroBits=function(h){if(0===h)return 26;var m=h,y=0;return 0==(8191&m)&&(y+=13,m>>>=13),0==(127&m)&&(y+=7,m>>>=7),0==(15&m)&&(y+=4,m>>>=4),0==(3&m)&&(y+=2,m>>>=2),0==(1&m)&&y++,y},D.prototype.bitLength=function(){var m=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+m},D.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,m=0;m<this.length;m++){var y=this._zeroBits(this.words[m]);if(h+=y,26!==y)break}return h},D.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},D.prototype.toTwos=function(h){return 0!==this.negative?this.abs().inotn(h).iaddn(1):this.clone()},D.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},D.prototype.isNeg=function(){return 0!==this.negative},D.prototype.neg=function(){return this.clone().ineg()},D.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},D.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var m=0;m<h.length;m++)this.words[m]=this.words[m]|h.words[m];return this.strip()},D.prototype.ior=function(h){return ht(0==(this.negative|h.negative)),this.iuor(h)},D.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},D.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},D.prototype.iuand=function(h){var m;m=this.length>h.length?h:this;for(var y=0;y<m.length;y++)this.words[y]=this.words[y]&h.words[y];return this.length=m.length,this.strip()},D.prototype.iand=function(h){return ht(0==(this.negative|h.negative)),this.iuand(h)},D.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},D.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},D.prototype.iuxor=function(h){var m,y;this.length>h.length?(m=this,y=h):(m=h,y=this);for(var v=0;v<y.length;v++)this.words[v]=m.words[v]^y.words[v];if(this!==m)for(;v<m.length;v++)this.words[v]=m.words[v];return this.length=m.length,this.strip()},D.prototype.ixor=function(h){return ht(0==(this.negative|h.negative)),this.iuxor(h)},D.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},D.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},D.prototype.inotn=function(h){ht("number"==typeof h&&h>=0);var m=0|Math.ceil(h/26),y=h%26;this._expand(m),y>0&&m--;for(var v=0;v<m;v++)this.words[v]=67108863&~this.words[v];return y>0&&(this.words[v]=~this.words[v]&67108863>>26-y),this.strip()},D.prototype.notn=function(h){return this.clone().inotn(h)},D.prototype.setn=function(h,m){ht("number"==typeof h&&h>=0);var y=h/26|0,v=h%26;return this._expand(y+1),this.words[y]=m?this.words[y]|1<<v:this.words[y]&~(1<<v),this.strip()},D.prototype.iadd=function(h){var m,y,v;if(0!==this.negative&&0===h.negative)return this.negative=0,m=this.isub(h),this.negative^=1,this._normSign();if(0===this.negative&&0!==h.negative)return h.negative=0,m=this.isub(h),h.negative=1,m._normSign();this.length>h.length?(y=this,v=h):(y=h,v=this);for(var M=0,S=0;S<v.length;S++)this.words[S]=67108863&(m=(0|y.words[S])+(0|v.words[S])+M),M=m>>>26;for(;0!==M&&S<y.length;S++)this.words[S]=67108863&(m=(0|y.words[S])+M),M=m>>>26;if(this.length=y.length,0!==M)this.words[this.length]=M,this.length++;else if(y!==this)for(;S<y.length;S++)this.words[S]=y.words[S];return this},D.prototype.add=function(h){var m;return 0!==h.negative&&0===this.negative?(h.negative=0,m=this.sub(h),h.negative^=1,m):0===h.negative&&0!==this.negative?(this.negative=0,m=h.sub(this),this.negative=1,m):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},D.prototype.isub=function(h){if(0!==h.negative){h.negative=0;var m=this.iadd(h);return h.negative=1,m._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var v,M,y=this.cmp(h);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(v=this,M=h):(v=h,M=this);for(var S=0,P=0;P<M.length;P++)S=(m=(0|v.words[P])-(0|M.words[P])+S)>>26,this.words[P]=67108863&m;for(;0!==S&&P<v.length;P++)S=(m=(0|v.words[P])+S)>>26,this.words[P]=67108863&m;if(0===S&&P<v.length&&v!==this)for(;P<v.length;P++)this.words[P]=v.words[P];return this.length=Math.max(this.length,P),v!==this&&(this.negative=1),this.strip()},D.prototype.sub=function(h){return this.clone().isub(h)};var z=function(h,m,y){var C,d,k,v=h.words,M=m.words,S=y.words,P=0,nt=0|v[0],Q=8191&nt,J=nt>>>13,xt=0|v[1],wt=8191&xt,Ft=xt>>>13,Gt=0|v[2],It=8191&Gt,_t=Gt>>>13,Zt=0|v[3],Ot=8191&Zt,At=Zt>>>13,jt=0|v[4],Kt=8191&jt,Vt=jt>>>13,Ce=0|v[5],Ht=8191&Ce,ge=Ce>>>13,yi=0|v[6],we=8191&yi,de=yi>>>13,Fe=0|v[7],Yt=8191&Fe,ee=Fe>>>13,Re=0|v[8],Nt=8191&Re,vt=Re>>>13,at=0|v[9],qt=8191&at,he=at>>>13,Xe=0|M[0],ve=8191&Xe,Te=Xe>>>13,Qi=0|M[1],ni=8191&Qi,ei=Qi>>>13,Ui=0|M[2],mi=8191&Ui,bi=Ui>>>13,En=0|M[3],_i=8191&En,He=En>>>13,on=0|M[4],Di=8191&on,Pe=on>>>13,ri=0|M[5],Ee=8191&ri,ne=ri>>>13,Se=0|M[6],ae=8191&Se,Me=Se>>>13,$e=0|M[7],te=8191&$e,Ie=$e>>>13,tn=0|M[8],qe=8191&tn,ci=tn>>>13,Pn=0|M[9],ui=8191&Pn,oi=Pn>>>13;y.negative=h.negative^m.negative,y.length=19;var en=(P+(C=Math.imul(Q,ve))|0)+((8191&(d=(d=Math.imul(Q,Te))+Math.imul(J,ve)|0))<<13)|0;P=((k=Math.imul(J,Te))+(d>>>13)|0)+(en>>>26)|0,en&=67108863,C=Math.imul(wt,ve),d=(d=Math.imul(wt,Te))+Math.imul(Ft,ve)|0,k=Math.imul(Ft,Te);var sn=(P+(C=C+Math.imul(Q,ni)|0)|0)+((8191&(d=(d=d+Math.imul(Q,ei)|0)+Math.imul(J,ni)|0))<<13)|0;P=((k=k+Math.imul(J,ei)|0)+(d>>>13)|0)+(sn>>>26)|0,sn&=67108863,C=Math.imul(It,ve),d=(d=Math.imul(It,Te))+Math.imul(_t,ve)|0,k=Math.imul(_t,Te),C=C+Math.imul(wt,ni)|0,d=(d=d+Math.imul(wt,ei)|0)+Math.imul(Ft,ni)|0,k=k+Math.imul(Ft,ei)|0;var Tn=(P+(C=C+Math.imul(Q,mi)|0)|0)+((8191&(d=(d=d+Math.imul(Q,bi)|0)+Math.imul(J,mi)|0))<<13)|0;P=((k=k+Math.imul(J,bi)|0)+(d>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,C=Math.imul(Ot,ve),d=(d=Math.imul(Ot,Te))+Math.imul(At,ve)|0,k=Math.imul(At,Te),C=C+Math.imul(It,ni)|0,d=(d=d+Math.imul(It,ei)|0)+Math.imul(_t,ni)|0,k=k+Math.imul(_t,ei)|0,C=C+Math.imul(wt,mi)|0,d=(d=d+Math.imul(wt,bi)|0)+Math.imul(Ft,mi)|0,k=k+Math.imul(Ft,bi)|0;var Er=(P+(C=C+Math.imul(Q,_i)|0)|0)+((8191&(d=(d=d+Math.imul(Q,He)|0)+Math.imul(J,_i)|0))<<13)|0;P=((k=k+Math.imul(J,He)|0)+(d>>>13)|0)+(Er>>>26)|0,Er&=67108863,C=Math.imul(Kt,ve),d=(d=Math.imul(Kt,Te))+Math.imul(Vt,ve)|0,k=Math.imul(Vt,Te),C=C+Math.imul(Ot,ni)|0,d=(d=d+Math.imul(Ot,ei)|0)+Math.imul(At,ni)|0,k=k+Math.imul(At,ei)|0,C=C+Math.imul(It,mi)|0,d=(d=d+Math.imul(It,bi)|0)+Math.imul(_t,mi)|0,k=k+Math.imul(_t,bi)|0,C=C+Math.imul(wt,_i)|0,d=(d=d+Math.imul(wt,He)|0)+Math.imul(Ft,_i)|0,k=k+Math.imul(Ft,He)|0;var In=(P+(C=C+Math.imul(Q,Di)|0)|0)+((8191&(d=(d=d+Math.imul(Q,Pe)|0)+Math.imul(J,Di)|0))<<13)|0;P=((k=k+Math.imul(J,Pe)|0)+(d>>>13)|0)+(In>>>26)|0,In&=67108863,C=Math.imul(Ht,ve),d=(d=Math.imul(Ht,Te))+Math.imul(ge,ve)|0,k=Math.imul(ge,Te),C=C+Math.imul(Kt,ni)|0,d=(d=d+Math.imul(Kt,ei)|0)+Math.imul(Vt,ni)|0,k=k+Math.imul(Vt,ei)|0,C=C+Math.imul(Ot,mi)|0,d=(d=d+Math.imul(Ot,bi)|0)+Math.imul(At,mi)|0,k=k+Math.imul(At,bi)|0,C=C+Math.imul(It,_i)|0,d=(d=d+Math.imul(It,He)|0)+Math.imul(_t,_i)|0,k=k+Math.imul(_t,He)|0,C=C+Math.imul(wt,Di)|0,d=(d=d+Math.imul(wt,Pe)|0)+Math.imul(Ft,Di)|0,k=k+Math.imul(Ft,Pe)|0;var Yn=(P+(C=C+Math.imul(Q,Ee)|0)|0)+((8191&(d=(d=d+Math.imul(Q,ne)|0)+Math.imul(J,Ee)|0))<<13)|0;P=((k=k+Math.imul(J,ne)|0)+(d>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,C=Math.imul(we,ve),d=(d=Math.imul(we,Te))+Math.imul(de,ve)|0,k=Math.imul(de,Te),C=C+Math.imul(Ht,ni)|0,d=(d=d+Math.imul(Ht,ei)|0)+Math.imul(ge,ni)|0,k=k+Math.imul(ge,ei)|0,C=C+Math.imul(Kt,mi)|0,d=(d=d+Math.imul(Kt,bi)|0)+Math.imul(Vt,mi)|0,k=k+Math.imul(Vt,bi)|0,C=C+Math.imul(Ot,_i)|0,d=(d=d+Math.imul(Ot,He)|0)+Math.imul(At,_i)|0,k=k+Math.imul(At,He)|0,C=C+Math.imul(It,Di)|0,d=(d=d+Math.imul(It,Pe)|0)+Math.imul(_t,Di)|0,k=k+Math.imul(_t,Pe)|0,C=C+Math.imul(wt,Ee)|0,d=(d=d+Math.imul(wt,ne)|0)+Math.imul(Ft,Ee)|0,k=k+Math.imul(Ft,ne)|0;var nn=(P+(C=C+Math.imul(Q,ae)|0)|0)+((8191&(d=(d=d+Math.imul(Q,Me)|0)+Math.imul(J,ae)|0))<<13)|0;P=((k=k+Math.imul(J,Me)|0)+(d>>>13)|0)+(nn>>>26)|0,nn&=67108863,C=Math.imul(Yt,ve),d=(d=Math.imul(Yt,Te))+Math.imul(ee,ve)|0,k=Math.imul(ee,Te),C=C+Math.imul(we,ni)|0,d=(d=d+Math.imul(we,ei)|0)+Math.imul(de,ni)|0,k=k+Math.imul(de,ei)|0,C=C+Math.imul(Ht,mi)|0,d=(d=d+Math.imul(Ht,bi)|0)+Math.imul(ge,mi)|0,k=k+Math.imul(ge,bi)|0,C=C+Math.imul(Kt,_i)|0,d=(d=d+Math.imul(Kt,He)|0)+Math.imul(Vt,_i)|0,k=k+Math.imul(Vt,He)|0,C=C+Math.imul(Ot,Di)|0,d=(d=d+Math.imul(Ot,Pe)|0)+Math.imul(At,Di)|0,k=k+Math.imul(At,Pe)|0,C=C+Math.imul(It,Ee)|0,d=(d=d+Math.imul(It,ne)|0)+Math.imul(_t,Ee)|0,k=k+Math.imul(_t,ne)|0,C=C+Math.imul(wt,ae)|0,d=(d=d+Math.imul(wt,Me)|0)+Math.imul(Ft,ae)|0,k=k+Math.imul(Ft,Me)|0;var Or=(P+(C=C+Math.imul(Q,te)|0)|0)+((8191&(d=(d=d+Math.imul(Q,Ie)|0)+Math.imul(J,te)|0))<<13)|0;P=((k=k+Math.imul(J,Ie)|0)+(d>>>13)|0)+(Or>>>26)|0,Or&=67108863,C=Math.imul(Nt,ve),d=(d=Math.imul(Nt,Te))+Math.imul(vt,ve)|0,k=Math.imul(vt,Te),C=C+Math.imul(Yt,ni)|0,d=(d=d+Math.imul(Yt,ei)|0)+Math.imul(ee,ni)|0,k=k+Math.imul(ee,ei)|0,C=C+Math.imul(we,mi)|0,d=(d=d+Math.imul(we,bi)|0)+Math.imul(de,mi)|0,k=k+Math.imul(de,bi)|0,C=C+Math.imul(Ht,_i)|0,d=(d=d+Math.imul(Ht,He)|0)+Math.imul(ge,_i)|0,k=k+Math.imul(ge,He)|0,C=C+Math.imul(Kt,Di)|0,d=(d=d+Math.imul(Kt,Pe)|0)+Math.imul(Vt,Di)|0,k=k+Math.imul(Vt,Pe)|0,C=C+Math.imul(Ot,Ee)|0,d=(d=d+Math.imul(Ot,ne)|0)+Math.imul(At,Ee)|0,k=k+Math.imul(At,ne)|0,C=C+Math.imul(It,ae)|0,d=(d=d+Math.imul(It,Me)|0)+Math.imul(_t,ae)|0,k=k+Math.imul(_t,Me)|0,C=C+Math.imul(wt,te)|0,d=(d=d+Math.imul(wt,Ie)|0)+Math.imul(Ft,te)|0,k=k+Math.imul(Ft,Ie)|0;var fr=(P+(C=C+Math.imul(Q,qe)|0)|0)+((8191&(d=(d=d+Math.imul(Q,ci)|0)+Math.imul(J,qe)|0))<<13)|0;P=((k=k+Math.imul(J,ci)|0)+(d>>>13)|0)+(fr>>>26)|0,fr&=67108863,C=Math.imul(qt,ve),d=(d=Math.imul(qt,Te))+Math.imul(he,ve)|0,k=Math.imul(he,Te),C=C+Math.imul(Nt,ni)|0,d=(d=d+Math.imul(Nt,ei)|0)+Math.imul(vt,ni)|0,k=k+Math.imul(vt,ei)|0,C=C+Math.imul(Yt,mi)|0,d=(d=d+Math.imul(Yt,bi)|0)+Math.imul(ee,mi)|0,k=k+Math.imul(ee,bi)|0,C=C+Math.imul(we,_i)|0,d=(d=d+Math.imul(we,He)|0)+Math.imul(de,_i)|0,k=k+Math.imul(de,He)|0,C=C+Math.imul(Ht,Di)|0,d=(d=d+Math.imul(Ht,Pe)|0)+Math.imul(ge,Di)|0,k=k+Math.imul(ge,Pe)|0,C=C+Math.imul(Kt,Ee)|0,d=(d=d+Math.imul(Kt,ne)|0)+Math.imul(Vt,Ee)|0,k=k+Math.imul(Vt,ne)|0,C=C+Math.imul(Ot,ae)|0,d=(d=d+Math.imul(Ot,Me)|0)+Math.imul(At,ae)|0,k=k+Math.imul(At,Me)|0,C=C+Math.imul(It,te)|0,d=(d=d+Math.imul(It,Ie)|0)+Math.imul(_t,te)|0,k=k+Math.imul(_t,Ie)|0,C=C+Math.imul(wt,qe)|0,d=(d=d+Math.imul(wt,ci)|0)+Math.imul(Ft,qe)|0,k=k+Math.imul(Ft,ci)|0;var dr=(P+(C=C+Math.imul(Q,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Q,oi)|0)+Math.imul(J,ui)|0))<<13)|0;P=((k=k+Math.imul(J,oi)|0)+(d>>>13)|0)+(dr>>>26)|0,dr&=67108863,C=Math.imul(qt,ni),d=(d=Math.imul(qt,ei))+Math.imul(he,ni)|0,k=Math.imul(he,ei),C=C+Math.imul(Nt,mi)|0,d=(d=d+Math.imul(Nt,bi)|0)+Math.imul(vt,mi)|0,k=k+Math.imul(vt,bi)|0,C=C+Math.imul(Yt,_i)|0,d=(d=d+Math.imul(Yt,He)|0)+Math.imul(ee,_i)|0,k=k+Math.imul(ee,He)|0,C=C+Math.imul(we,Di)|0,d=(d=d+Math.imul(we,Pe)|0)+Math.imul(de,Di)|0,k=k+Math.imul(de,Pe)|0,C=C+Math.imul(Ht,Ee)|0,d=(d=d+Math.imul(Ht,ne)|0)+Math.imul(ge,Ee)|0,k=k+Math.imul(ge,ne)|0,C=C+Math.imul(Kt,ae)|0,d=(d=d+Math.imul(Kt,Me)|0)+Math.imul(Vt,ae)|0,k=k+Math.imul(Vt,Me)|0,C=C+Math.imul(Ot,te)|0,d=(d=d+Math.imul(Ot,Ie)|0)+Math.imul(At,te)|0,k=k+Math.imul(At,Ie)|0,C=C+Math.imul(It,qe)|0,d=(d=d+Math.imul(It,ci)|0)+Math.imul(_t,qe)|0,k=k+Math.imul(_t,ci)|0;var Un=(P+(C=C+Math.imul(wt,ui)|0)|0)+((8191&(d=(d=d+Math.imul(wt,oi)|0)+Math.imul(Ft,ui)|0))<<13)|0;P=((k=k+Math.imul(Ft,oi)|0)+(d>>>13)|0)+(Un>>>26)|0,Un&=67108863,C=Math.imul(qt,mi),d=(d=Math.imul(qt,bi))+Math.imul(he,mi)|0,k=Math.imul(he,bi),C=C+Math.imul(Nt,_i)|0,d=(d=d+Math.imul(Nt,He)|0)+Math.imul(vt,_i)|0,k=k+Math.imul(vt,He)|0,C=C+Math.imul(Yt,Di)|0,d=(d=d+Math.imul(Yt,Pe)|0)+Math.imul(ee,Di)|0,k=k+Math.imul(ee,Pe)|0,C=C+Math.imul(we,Ee)|0,d=(d=d+Math.imul(we,ne)|0)+Math.imul(de,Ee)|0,k=k+Math.imul(de,ne)|0,C=C+Math.imul(Ht,ae)|0,d=(d=d+Math.imul(Ht,Me)|0)+Math.imul(ge,ae)|0,k=k+Math.imul(ge,Me)|0,C=C+Math.imul(Kt,te)|0,d=(d=d+Math.imul(Kt,Ie)|0)+Math.imul(Vt,te)|0,k=k+Math.imul(Vt,Ie)|0,C=C+Math.imul(Ot,qe)|0,d=(d=d+Math.imul(Ot,ci)|0)+Math.imul(At,qe)|0,k=k+Math.imul(At,ci)|0;var xo=(P+(C=C+Math.imul(It,ui)|0)|0)+((8191&(d=(d=d+Math.imul(It,oi)|0)+Math.imul(_t,ui)|0))<<13)|0;P=((k=k+Math.imul(_t,oi)|0)+(d>>>13)|0)+(xo>>>26)|0,xo&=67108863,C=Math.imul(qt,_i),d=(d=Math.imul(qt,He))+Math.imul(he,_i)|0,k=Math.imul(he,He),C=C+Math.imul(Nt,Di)|0,d=(d=d+Math.imul(Nt,Pe)|0)+Math.imul(vt,Di)|0,k=k+Math.imul(vt,Pe)|0,C=C+Math.imul(Yt,Ee)|0,d=(d=d+Math.imul(Yt,ne)|0)+Math.imul(ee,Ee)|0,k=k+Math.imul(ee,ne)|0,C=C+Math.imul(we,ae)|0,d=(d=d+Math.imul(we,Me)|0)+Math.imul(de,ae)|0,k=k+Math.imul(de,Me)|0,C=C+Math.imul(Ht,te)|0,d=(d=d+Math.imul(Ht,Ie)|0)+Math.imul(ge,te)|0,k=k+Math.imul(ge,Ie)|0,C=C+Math.imul(Kt,qe)|0,d=(d=d+Math.imul(Kt,ci)|0)+Math.imul(Vt,qe)|0,k=k+Math.imul(Vt,ci)|0;var ki=(P+(C=C+Math.imul(Ot,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Ot,oi)|0)+Math.imul(At,ui)|0))<<13)|0;P=((k=k+Math.imul(At,oi)|0)+(d>>>13)|0)+(ki>>>26)|0,ki&=67108863,C=Math.imul(qt,Di),d=(d=Math.imul(qt,Pe))+Math.imul(he,Di)|0,k=Math.imul(he,Pe),C=C+Math.imul(Nt,Ee)|0,d=(d=d+Math.imul(Nt,ne)|0)+Math.imul(vt,Ee)|0,k=k+Math.imul(vt,ne)|0,C=C+Math.imul(Yt,ae)|0,d=(d=d+Math.imul(Yt,Me)|0)+Math.imul(ee,ae)|0,k=k+Math.imul(ee,Me)|0,C=C+Math.imul(we,te)|0,d=(d=d+Math.imul(we,Ie)|0)+Math.imul(de,te)|0,k=k+Math.imul(de,Ie)|0,C=C+Math.imul(Ht,qe)|0,d=(d=d+Math.imul(Ht,ci)|0)+Math.imul(ge,qe)|0,k=k+Math.imul(ge,ci)|0;var hn=(P+(C=C+Math.imul(Kt,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Kt,oi)|0)+Math.imul(Vt,ui)|0))<<13)|0;P=((k=k+Math.imul(Vt,oi)|0)+(d>>>13)|0)+(hn>>>26)|0,hn&=67108863,C=Math.imul(qt,Ee),d=(d=Math.imul(qt,ne))+Math.imul(he,Ee)|0,k=Math.imul(he,ne),C=C+Math.imul(Nt,ae)|0,d=(d=d+Math.imul(Nt,Me)|0)+Math.imul(vt,ae)|0,k=k+Math.imul(vt,Me)|0,C=C+Math.imul(Yt,te)|0,d=(d=d+Math.imul(Yt,Ie)|0)+Math.imul(ee,te)|0,k=k+Math.imul(ee,Ie)|0,C=C+Math.imul(we,qe)|0,d=(d=d+Math.imul(we,ci)|0)+Math.imul(de,qe)|0,k=k+Math.imul(de,ci)|0;var ar=(P+(C=C+Math.imul(Ht,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Ht,oi)|0)+Math.imul(ge,ui)|0))<<13)|0;P=((k=k+Math.imul(ge,oi)|0)+(d>>>13)|0)+(ar>>>26)|0,ar&=67108863,C=Math.imul(qt,ae),d=(d=Math.imul(qt,Me))+Math.imul(he,ae)|0,k=Math.imul(he,Me),C=C+Math.imul(Nt,te)|0,d=(d=d+Math.imul(Nt,Ie)|0)+Math.imul(vt,te)|0,k=k+Math.imul(vt,Ie)|0,C=C+Math.imul(Yt,qe)|0,d=(d=d+Math.imul(Yt,ci)|0)+Math.imul(ee,qe)|0,k=k+Math.imul(ee,ci)|0;var bn=(P+(C=C+Math.imul(we,ui)|0)|0)+((8191&(d=(d=d+Math.imul(we,oi)|0)+Math.imul(de,ui)|0))<<13)|0;P=((k=k+Math.imul(de,oi)|0)+(d>>>13)|0)+(bn>>>26)|0,bn&=67108863,C=Math.imul(qt,te),d=(d=Math.imul(qt,Ie))+Math.imul(he,te)|0,k=Math.imul(he,Ie),C=C+Math.imul(Nt,qe)|0,d=(d=d+Math.imul(Nt,ci)|0)+Math.imul(vt,qe)|0,k=k+Math.imul(vt,ci)|0;var vo=(P+(C=C+Math.imul(Yt,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Yt,oi)|0)+Math.imul(ee,ui)|0))<<13)|0;P=((k=k+Math.imul(ee,oi)|0)+(d>>>13)|0)+(vo>>>26)|0,vo&=67108863,C=Math.imul(qt,qe),d=(d=Math.imul(qt,ci))+Math.imul(he,qe)|0,k=Math.imul(he,ci);var Ao=(P+(C=C+Math.imul(Nt,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Nt,oi)|0)+Math.imul(vt,ui)|0))<<13)|0;P=((k=k+Math.imul(vt,oi)|0)+(d>>>13)|0)+(Ao>>>26)|0,Ao&=67108863;var Vi=(P+(C=Math.imul(qt,ui))|0)+((8191&(d=(d=Math.imul(qt,oi))+Math.imul(he,ui)|0))<<13)|0;return P=((k=Math.imul(he,oi))+(d>>>13)|0)+(Vi>>>26)|0,Vi&=67108863,S[0]=en,S[1]=sn,S[2]=Tn,S[3]=Er,S[4]=In,S[5]=Yn,S[6]=nn,S[7]=Or,S[8]=fr,S[9]=dr,S[10]=Un,S[11]=xo,S[12]=ki,S[13]=hn,S[14]=ar,S[15]=bn,S[16]=vo,S[17]=Ao,S[18]=Vi,0!==P&&(S[19]=P,y.length++),y};function q(T,h,m){return(new V).mulp(T,h,m)}function V(T,h){this.x=T,this.y=h}Math.imul||(z=U),D.prototype.mulTo=function(h,m){var y,v=this.length+h.length;return y=10===this.length&&10===h.length?z(this,h,m):v<63?U(this,h,m):v<1024?function(T,h,m){m.negative=h.negative^T.negative,m.length=T.length+h.length;for(var y=0,v=0,M=0;M<m.length-1;M++){var S=v;v=0;for(var P=67108863&y,C=Math.min(M,h.length-1),d=Math.max(0,M-T.length+1);d<=C;d++){var J=(0|T.words[M-d])*(0|h.words[d]),xt=67108863&J;P=67108863&(xt=xt+P|0),v+=(S=(S=S+(J/67108864|0)|0)+(xt>>>26)|0)>>>26,S&=67108863}m.words[M]=P,y=S,S=v}return 0!==y?m.words[M]=y:m.length--,m.strip()}(this,h,m):q(this,h,m),y},V.prototype.makeRBT=function(h){for(var m=new Array(h),y=D.prototype._countBits(h)-1,v=0;v<h;v++)m[v]=this.revBin(v,y,h);return m},V.prototype.revBin=function(h,m,y){if(0===h||h===y-1)return h;for(var v=0,M=0;M<m;M++)v|=(1&h)<<m-M-1,h>>=1;return v},V.prototype.permute=function(h,m,y,v,M,S){for(var P=0;P<S;P++)v[P]=m[h[P]],M[P]=y[h[P]]},V.prototype.transform=function(h,m,y,v,M,S){this.permute(S,h,m,y,v,M);for(var P=1;P<M;P<<=1)for(var C=P<<1,d=Math.cos(2*Math.PI/C),k=Math.sin(2*Math.PI/C),nt=0;nt<M;nt+=C)for(var Q=d,J=k,xt=0;xt<P;xt++){var wt=y[nt+xt],Ft=v[nt+xt],Gt=y[nt+xt+P],It=v[nt+xt+P],_t=Q*Gt-J*It;It=Q*It+J*Gt,y[nt+xt]=wt+(Gt=_t),v[nt+xt]=Ft+It,y[nt+xt+P]=wt-Gt,v[nt+xt+P]=Ft-It,xt!==C&&(_t=d*Q-k*J,J=d*J+k*Q,Q=_t)}},V.prototype.guessLen13b=function(h,m){var y=1|Math.max(m,h),v=1&y,M=0;for(y=y/2|0;y;y>>>=1)M++;return 1<<M+1+v},V.prototype.conjugate=function(h,m,y){if(!(y<=1))for(var v=0;v<y/2;v++){var M=h[v];h[v]=h[y-v-1],h[y-v-1]=M,M=m[v],m[v]=-m[y-v-1],m[y-v-1]=-M}},V.prototype.normalize13b=function(h,m){for(var y=0,v=0;v<m/2;v++){var M=8192*Math.round(h[2*v+1]/m)+Math.round(h[2*v]/m)+y;h[v]=67108863&M,y=M<67108864?0:M/67108864|0}return h},V.prototype.convert13b=function(h,m,y,v){for(var M=0,S=0;S<m;S++)y[2*S]=8191&(M+=0|h[S]),y[2*S+1]=8191&(M>>>=13),M>>>=13;for(S=2*m;S<v;++S)y[S]=0;ht(0===M),ht(0==(-8192&M))},V.prototype.stub=function(h){for(var m=new Array(h),y=0;y<h;y++)m[y]=0;return m},V.prototype.mulp=function(h,m,y){var v=2*this.guessLen13b(h.length,m.length),M=this.makeRBT(v),S=this.stub(v),P=new Array(v),C=new Array(v),d=new Array(v),k=new Array(v),nt=new Array(v),Q=new Array(v),J=y.words;J.length=v,this.convert13b(h.words,h.length,P,v),this.convert13b(m.words,m.length,k,v),this.transform(P,S,C,d,v,M),this.transform(k,S,nt,Q,v,M);for(var xt=0;xt<v;xt++){var wt=C[xt]*nt[xt]-d[xt]*Q[xt];d[xt]=C[xt]*Q[xt]+d[xt]*nt[xt],C[xt]=wt}return this.conjugate(C,d,v),this.transform(C,d,J,S,v,M),this.conjugate(J,S,v),this.normalize13b(J,v),y.negative=h.negative^m.negative,y.length=h.length+m.length,y.strip()},D.prototype.mul=function(h){var m=new D(null);return m.words=new Array(this.length+h.length),this.mulTo(h,m)},D.prototype.mulf=function(h){var m=new D(null);return m.words=new Array(this.length+h.length),q(this,h,m)},D.prototype.imul=function(h){return this.clone().mulTo(h,this)},D.prototype.imuln=function(h){ht("number"==typeof h),ht(h<67108864);for(var m=0,y=0;y<this.length;y++){var v=(0|this.words[y])*h,M=(67108863&v)+(67108863&m);m>>=26,m+=v/67108864|0,m+=M>>>26,this.words[y]=67108863&M}return 0!==m&&(this.words[y]=m,this.length++),this},D.prototype.muln=function(h){return this.clone().imuln(h)},D.prototype.sqr=function(){return this.mul(this)},D.prototype.isqr=function(){return this.imul(this.clone())},D.prototype.pow=function(h){var m=function(T){for(var h=new Array(T.bitLength()),m=0;m<h.length;m++){var v=m%26;h[m]=(T.words[m/26|0]&1<<v)>>>v}return h}(h);if(0===m.length)return new D(1);for(var y=this,v=0;v<m.length&&0===m[v];v++,y=y.sqr());if(++v<m.length)for(var M=y.sqr();v<m.length;v++,M=M.sqr())0!==m[v]&&(y=y.mul(M));return y},D.prototype.iushln=function(h){ht("number"==typeof h&&h>=0);var M,m=h%26,y=(h-m)/26,v=67108863>>>26-m<<26-m;if(0!==m){var S=0;for(M=0;M<this.length;M++){var P=this.words[M]&v;this.words[M]=(0|this.words[M])-P<<m|S,S=P>>>26-m}S&&(this.words[M]=S,this.length++)}if(0!==y){for(M=this.length-1;M>=0;M--)this.words[M+y]=this.words[M];for(M=0;M<y;M++)this.words[M]=0;this.length+=y}return this.strip()},D.prototype.ishln=function(h){return ht(0===this.negative),this.iushln(h)},D.prototype.iushrn=function(h,m,y){var v;ht("number"==typeof h&&h>=0),v=m?(m-m%26)/26:0;var M=h%26,S=Math.min((h-M)/26,this.length),P=67108863^67108863>>>M<<M,C=y;if(v-=S,v=Math.max(0,v),C){for(var d=0;d<S;d++)C.words[d]=this.words[d];C.length=S}if(0!==S)if(this.length>S)for(this.length-=S,d=0;d<this.length;d++)this.words[d]=this.words[d+S];else this.words[0]=0,this.length=1;var k=0;for(d=this.length-1;d>=0&&(0!==k||d>=v);d--){var nt=0|this.words[d];this.words[d]=k<<26-M|nt>>>M,k=nt&P}return C&&0!==k&&(C.words[C.length++]=k),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},D.prototype.ishrn=function(h,m,y){return ht(0===this.negative),this.iushrn(h,m,y)},D.prototype.shln=function(h){return this.clone().ishln(h)},D.prototype.ushln=function(h){return this.clone().iushln(h)},D.prototype.shrn=function(h){return this.clone().ishrn(h)},D.prototype.ushrn=function(h){return this.clone().iushrn(h)},D.prototype.testn=function(h){ht("number"==typeof h&&h>=0);var m=h%26,y=(h-m)/26;return!(this.length<=y||!(this.words[y]&1<<m))},D.prototype.imaskn=function(h){ht("number"==typeof h&&h>=0);var m=h%26,y=(h-m)/26;return ht(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==m&&y++,this.length=Math.min(y,this.length),0!==m&&(this.words[this.length-1]&=67108863^67108863>>>m<<m),this.strip())},D.prototype.maskn=function(h){return this.clone().imaskn(h)},D.prototype.iaddn=function(h){return ht("number"==typeof h),ht(h<67108864),h<0?this.isubn(-h):0!==this.negative?1===this.length&&(0|this.words[0])<h?(this.words[0]=h-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},D.prototype._iaddn=function(h){this.words[0]+=h;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},D.prototype.isubn=function(h){if(ht("number"==typeof h),ht(h<67108864),h<0)return this.iaddn(-h);if(0!==this.negative)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this.strip()},D.prototype.addn=function(h){return this.clone().iaddn(h)},D.prototype.subn=function(h){return this.clone().isubn(h)},D.prototype.iabs=function(){return this.negative=0,this},D.prototype.abs=function(){return this.clone().iabs()},D.prototype._ishlnsubmul=function(h,m,y){var M;this._expand(h.length+y);var S,P=0;for(M=0;M<h.length;M++){S=(0|this.words[M+y])+P;var C=(0|h.words[M])*m;P=((S-=67108863&C)>>26)-(C/67108864|0),this.words[M+y]=67108863&S}for(;M<this.length-y;M++)P=(S=(0|this.words[M+y])+P)>>26,this.words[M+y]=67108863&S;if(0===P)return this.strip();for(ht(-1===P),P=0,M=0;M<this.length;M++)P=(S=-(0|this.words[M])+P)>>26,this.words[M]=67108863&S;return this.negative=1,this.strip()},D.prototype._wordDiv=function(h,m){var y,v=this.clone(),M=h,S=0|M.words[M.length-1];0!=(y=26-this._countBits(S))&&(M=M.ushln(y),v.iushln(y),S=0|M.words[M.length-1]);var d,C=v.length-M.length;if("mod"!==m){(d=new D(null)).length=C+1,d.words=new Array(d.length);for(var k=0;k<d.length;k++)d.words[k]=0}var nt=v.clone()._ishlnsubmul(M,1,C);0===nt.negative&&(v=nt,d&&(d.words[C]=1));for(var Q=C-1;Q>=0;Q--){var J=67108864*(0|v.words[M.length+Q])+(0|v.words[M.length+Q-1]);for(J=Math.min(J/S|0,67108863),v._ishlnsubmul(M,J,Q);0!==v.negative;)J--,v.negative=0,v._ishlnsubmul(M,1,Q),v.isZero()||(v.negative^=1);d&&(d.words[Q]=J)}return d&&d.strip(),v.strip(),"div"!==m&&0!==y&&v.iushrn(y),{div:d||null,mod:v}},D.prototype.divmod=function(h,m,y){return ht(!h.isZero()),this.isZero()?{div:new D(0),mod:new D(0)}:0!==this.negative&&0===h.negative?(S=this.neg().divmod(h,m),"mod"!==m&&(v=S.div.neg()),"div"!==m&&(M=S.mod.neg(),y&&0!==M.negative&&M.iadd(h)),{div:v,mod:M}):0===this.negative&&0!==h.negative?(S=this.divmod(h.neg(),m),"mod"!==m&&(v=S.div.neg()),{div:v,mod:S.mod}):0!=(this.negative&h.negative)?(S=this.neg().divmod(h.neg(),m),"div"!==m&&(M=S.mod.neg(),y&&0!==M.negative&&M.isub(h)),{div:S.div,mod:M}):h.length>this.length||this.cmp(h)<0?{div:new D(0),mod:this}:1===h.length?"div"===m?{div:this.divn(h.words[0]),mod:null}:"mod"===m?{div:null,mod:new D(this.modn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new D(this.modn(h.words[0]))}:this._wordDiv(h,m);var v,M,S},D.prototype.div=function(h){return this.divmod(h,"div",!1).div},D.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},D.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},D.prototype.divRound=function(h){var m=this.divmod(h);if(m.mod.isZero())return m.div;var y=0!==m.div.negative?m.mod.isub(h):m.mod,v=h.ushrn(1),M=h.andln(1),S=y.cmp(v);return S<0||1===M&&0===S?m.div:0!==m.div.negative?m.div.isubn(1):m.div.iaddn(1)},D.prototype.modn=function(h){ht(h<=67108863);for(var m=(1<<26)%h,y=0,v=this.length-1;v>=0;v--)y=(m*y+(0|this.words[v]))%h;return y},D.prototype.idivn=function(h){ht(h<=67108863);for(var m=0,y=this.length-1;y>=0;y--){var v=(0|this.words[y])+67108864*m;this.words[y]=v/h|0,m=v%h}return this.strip()},D.prototype.divn=function(h){return this.clone().idivn(h)},D.prototype.egcd=function(h){ht(0===h.negative),ht(!h.isZero());var m=this,y=h.clone();m=0!==m.negative?m.umod(h):m.clone();for(var v=new D(1),M=new D(0),S=new D(0),P=new D(1),C=0;m.isEven()&&y.isEven();)m.iushrn(1),y.iushrn(1),++C;for(var d=y.clone(),k=m.clone();!m.isZero();){for(var nt=0,Q=1;0==(m.words[0]&Q)&&nt<26;++nt,Q<<=1);if(nt>0)for(m.iushrn(nt);nt-- >0;)(v.isOdd()||M.isOdd())&&(v.iadd(d),M.isub(k)),v.iushrn(1),M.iushrn(1);for(var J=0,xt=1;0==(y.words[0]&xt)&&J<26;++J,xt<<=1);if(J>0)for(y.iushrn(J);J-- >0;)(S.isOdd()||P.isOdd())&&(S.iadd(d),P.isub(k)),S.iushrn(1),P.iushrn(1);m.cmp(y)>=0?(m.isub(y),v.isub(S),M.isub(P)):(y.isub(m),S.isub(v),P.isub(M))}return{a:S,b:P,gcd:y.iushln(C)}},D.prototype._invmp=function(h){ht(0===h.negative),ht(!h.isZero());var nt,m=this,y=h.clone();m=0!==m.negative?m.umod(h):m.clone();for(var v=new D(1),M=new D(0),S=y.clone();m.cmpn(1)>0&&y.cmpn(1)>0;){for(var P=0,C=1;0==(m.words[0]&C)&&P<26;++P,C<<=1);if(P>0)for(m.iushrn(P);P-- >0;)v.isOdd()&&v.iadd(S),v.iushrn(1);for(var d=0,k=1;0==(y.words[0]&k)&&d<26;++d,k<<=1);if(d>0)for(y.iushrn(d);d-- >0;)M.isOdd()&&M.iadd(S),M.iushrn(1);m.cmp(y)>=0?(m.isub(y),v.isub(M)):(y.isub(m),M.isub(v))}return(nt=0===m.cmpn(1)?v:M).cmpn(0)<0&&nt.iadd(h),nt},D.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var m=this.clone(),y=h.clone();m.negative=0,y.negative=0;for(var v=0;m.isEven()&&y.isEven();v++)m.iushrn(1),y.iushrn(1);for(;;){for(;m.isEven();)m.iushrn(1);for(;y.isEven();)y.iushrn(1);var M=m.cmp(y);if(M<0){var S=m;m=y,y=S}else if(0===M||0===y.cmpn(1))break;m.isub(y)}return y.iushln(v)},D.prototype.invm=function(h){return this.egcd(h).a.umod(h)},D.prototype.isEven=function(){return 0==(1&this.words[0])},D.prototype.isOdd=function(){return 1==(1&this.words[0])},D.prototype.andln=function(h){return this.words[0]&h},D.prototype.bincn=function(h){ht("number"==typeof h);var m=h%26,y=(h-m)/26,v=1<<m;if(this.length<=y)return this._expand(y+1),this.words[y]|=v,this;for(var M=v,S=y;0!==M&&S<this.length;S++){var P=0|this.words[S];M=(P+=M)>>>26,this.words[S]=P&=67108863}return 0!==M&&(this.words[S]=M,this.length++),this},D.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},D.prototype.cmpn=function(h){var y,m=h<0;if(0!==this.negative&&!m)return-1;if(0===this.negative&&m)return 1;if(this.strip(),this.length>1)y=1;else{m&&(h=-h),ht(h<=67108863,"Number is too big");var v=0|this.words[0];y=v===h?0:v<h?-1:1}return 0!==this.negative?0|-y:y},D.prototype.cmp=function(h){if(0!==this.negative&&0===h.negative)return-1;if(0===this.negative&&0!==h.negative)return 1;var m=this.ucmp(h);return 0!==this.negative?0|-m:m},D.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var m=0,y=this.length-1;y>=0;y--){var v=0|this.words[y],M=0|h.words[y];if(v!==M){v<M?m=-1:v>M&&(m=1);break}}return m},D.prototype.gtn=function(h){return 1===this.cmpn(h)},D.prototype.gt=function(h){return 1===this.cmp(h)},D.prototype.gten=function(h){return this.cmpn(h)>=0},D.prototype.gte=function(h){return this.cmp(h)>=0},D.prototype.ltn=function(h){return-1===this.cmpn(h)},D.prototype.lt=function(h){return-1===this.cmp(h)},D.prototype.lten=function(h){return this.cmpn(h)<=0},D.prototype.lte=function(h){return this.cmp(h)<=0},D.prototype.eqn=function(h){return 0===this.cmpn(h)},D.prototype.eq=function(h){return 0===this.cmp(h)},D.red=function(h){return new Dt(h)},D.prototype.toRed=function(h){return ht(!this.red,"Already a number in reduction context"),ht(0===this.negative,"red works only with positives"),h.convertTo(this)._forceRed(h)},D.prototype.fromRed=function(){return ht(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},D.prototype._forceRed=function(h){return this.red=h,this},D.prototype.forceRed=function(h){return ht(!this.red,"Already a number in reduction context"),this._forceRed(h)},D.prototype.redAdd=function(h){return ht(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},D.prototype.redIAdd=function(h){return ht(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},D.prototype.redSub=function(h){return ht(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},D.prototype.redISub=function(h){return ht(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},D.prototype.redShl=function(h){return ht(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},D.prototype.redMul=function(h){return ht(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},D.prototype.redIMul=function(h){return ht(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},D.prototype.redSqr=function(){return ht(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},D.prototype.redISqr=function(){return ht(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},D.prototype.redSqrt=function(){return ht(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},D.prototype.redInvm=function(){return ht(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},D.prototype.redNeg=function(){return ht(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},D.prototype.redPow=function(h){return ht(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var Z={k256:null,p224:null,p192:null,p25519:null};function et(T,h){this.name=T,this.p=new D(h,16),this.n=this.p.bitLength(),this.k=new D(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function rt(){et.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function mt(){et.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function gt(){et.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Et(){et.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Dt(T){if("string"==typeof T){var h=D._prime(T);this.m=h.p,this.prime=h}else ht(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}function Mt(T){Dt.call(this,T),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new D(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}et.prototype._tmp=function(){var h=new D(null);return h.words=new Array(Math.ceil(this.n/13)),h},et.prototype.ireduce=function(h){var y,m=h;do{this.split(m,this.tmp),y=(m=(m=this.imulK(m)).iadd(this.tmp)).bitLength()}while(y>this.n);var v=y<this.n?-1:m.ucmp(this.p);return 0===v?(m.words[0]=0,m.length=1):v>0?m.isub(this.p):void 0!==m.strip?m.strip():m._strip(),m},et.prototype.split=function(h,m){h.iushrn(this.n,0,m)},et.prototype.imulK=function(h){return h.imul(this.k)},ct(rt,et),rt.prototype.split=function(h,m){for(var y=4194303,v=Math.min(h.length,9),M=0;M<v;M++)m.words[M]=h.words[M];if(m.length=v,h.length<=9)return h.words[0]=0,void(h.length=1);var S=h.words[9];for(m.words[m.length++]=S&y,M=10;M<h.length;M++){var P=0|h.words[M];h.words[M-10]=(P&y)<<4|S>>>22,S=P}h.words[M-10]=S>>>=22,h.length-=0===S&&h.length>10?10:9},rt.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var m=0,y=0;y<h.length;y++){var v=0|h.words[y];h.words[y]=67108863&(m+=977*v),m=64*v+(m/67108864|0)}return 0===h.words[h.length-1]&&(h.length--,0===h.words[h.length-1]&&h.length--),h},ct(mt,et),ct(gt,et),ct(Et,et),Et.prototype.imulK=function(h){for(var m=0,y=0;y<h.length;y++){var v=19*(0|h.words[y])+m,M=67108863&v;v>>>=26,h.words[y]=M,m=v}return 0!==m&&(h.words[h.length++]=m),h},D._prime=function(h){if(Z[h])return Z[h];var m;if("k256"===h)m=new rt;else if("p224"===h)m=new mt;else if("p192"===h)m=new gt;else{if("p25519"!==h)throw new Error("Unknown prime "+h);m=new Et}return Z[h]=m,m},Dt.prototype._verify1=function(h){ht(0===h.negative,"red works only with positives"),ht(h.red,"red works only with red numbers")},Dt.prototype._verify2=function(h,m){ht(0==(h.negative|m.negative),"red works only with positives"),ht(h.red&&h.red===m.red,"red works only with red numbers")},Dt.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):h.umod(this.m)._forceRed(this)},Dt.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},Dt.prototype.add=function(h,m){this._verify2(h,m);var y=h.add(m);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},Dt.prototype.iadd=function(h,m){this._verify2(h,m);var y=h.iadd(m);return y.cmp(this.m)>=0&&y.isub(this.m),y},Dt.prototype.sub=function(h,m){this._verify2(h,m);var y=h.sub(m);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},Dt.prototype.isub=function(h,m){this._verify2(h,m);var y=h.isub(m);return y.cmpn(0)<0&&y.iadd(this.m),y},Dt.prototype.shl=function(h,m){return this._verify1(h),this.imod(h.ushln(m))},Dt.prototype.imul=function(h,m){return this._verify2(h,m),this.imod(h.imul(m))},Dt.prototype.mul=function(h,m){return this._verify2(h,m),this.imod(h.mul(m))},Dt.prototype.isqr=function(h){return this.imul(h,h.clone())},Dt.prototype.sqr=function(h){return this.mul(h,h)},Dt.prototype.sqrt=function(h){if(h.isZero())return h.clone();var m=this.m.andln(3);if(ht(m%2==1),3===m){var y=this.m.add(new D(1)).iushrn(2);return this.pow(h,y)}for(var v=this.m.subn(1),M=0;!v.isZero()&&0===v.andln(1);)M++,v.iushrn(1);ht(!v.isZero());var S=new D(1).toRed(this),P=S.redNeg(),C=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new D(2*d*d).toRed(this);0!==this.pow(d,C).cmp(P);)d.redIAdd(P);for(var k=this.pow(d,v),nt=this.pow(h,v.addn(1).iushrn(1)),Q=this.pow(h,v),J=M;0!==Q.cmp(S);){for(var xt=Q,wt=0;0!==xt.cmp(S);wt++)xt=xt.redSqr();ht(wt<J);var Ft=this.pow(k,new D(1).iushln(J-wt-1));nt=nt.redMul(Ft),k=Ft.redSqr(),Q=Q.redMul(k),J=wt}return nt},Dt.prototype.invm=function(h){var m=h._invmp(this.m);return 0!==m.negative?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},Dt.prototype.pow=function(h,m){if(m.isZero())return new D(1).toRed(this);if(0===m.cmpn(1))return h.clone();var v=new Array(16);v[0]=new D(1).toRed(this),v[1]=h;for(var M=2;M<v.length;M++)v[M]=this.mul(v[M-1],h);var S=v[0],P=0,C=0,d=m.bitLength()%26;for(0===d&&(d=26),M=m.length-1;M>=0;M--){for(var k=m.words[M],nt=d-1;nt>=0;nt--){var Q=k>>nt&1;S!==v[0]&&(S=this.sqr(S)),0!==Q||0!==P?(P<<=1,P|=Q,(4==++C||0===M&&0===nt)&&(S=this.mul(S,v[P]),C=0,P=0)):C=0}d=26}return S},Dt.prototype.convertTo=function(h){var m=h.umod(this.m);return m===h?m.clone():m},Dt.prototype.convertFrom=function(h){var m=h.clone();return m.red=null,m},D.mont=function(h){return new Mt(h)},ct(Mt,Dt),Mt.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},Mt.prototype.convertFrom=function(h){var m=this.imod(h.mul(this.rinv));return m.red=null,m},Mt.prototype.imul=function(h,m){if(h.isZero()||m.isZero())return h.words[0]=0,h.length=1,h;var y=h.imul(m),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(v).iushrn(this.shift),S=M;return M.cmp(this.m)>=0?S=M.isub(this.m):M.cmpn(0)<0&&(S=M.iadd(this.m)),S._forceRed(this)},Mt.prototype.mul=function(h,m){if(h.isZero()||m.isZero())return new D(0)._forceRed(this);var y=h.mul(m),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(v).iushrn(this.shift),S=M;return M.cmp(this.m)>=0?S=M.isub(this.m):M.cmpn(0)<0&&(S=M.iadd(this.m)),S._forceRed(this)},Mt.prototype.invm=function(h){return this.imod(h._invmp(this.m).mul(this.r2))._forceRed(this)}}(fe=kt.nmd(fe),this)},6193:(fe,ot)=>{"use strict";ot.byteLength=function(N){var U=$(N),Y=U[1];return 3*(U[0]+Y)/4-Y},ot.toByteArray=function(N){var U,rt,z=$(N),Y=z[0],q=z[1],V=new Pt(function(N,U,z){return 3*(U+z)/4-z}(0,Y,q)),Z=0,et=q>0?Y-4:Y;for(rt=0;rt<et;rt+=4)U=Tt[N.charCodeAt(rt)]<<18|Tt[N.charCodeAt(rt+1)]<<12|Tt[N.charCodeAt(rt+2)]<<6|Tt[N.charCodeAt(rt+3)],V[Z++]=U>>16&255,V[Z++]=U>>8&255,V[Z++]=255&U;return 2===q&&(U=Tt[N.charCodeAt(rt)]<<2|Tt[N.charCodeAt(rt+1)]>>4,V[Z++]=255&U),1===q&&(U=Tt[N.charCodeAt(rt)]<<10|Tt[N.charCodeAt(rt+1)]<<4|Tt[N.charCodeAt(rt+2)]>>2,V[Z++]=U>>8&255,V[Z++]=255&U),V},ot.fromByteArray=function(N){for(var U,z=N.length,Y=z%3,q=[],V=16383,Z=0,et=z-Y;Z<et;Z+=V)q.push(j(N,Z,Z+V>et?et:Z+V));return 1===Y?q.push(kt[(U=N[z-1])>>2]+kt[U<<4&63]+"=="):2===Y&&q.push(kt[(U=(N[z-2]<<8)+N[z-1])>>10]+kt[U>>4&63]+kt[U<<2&63]+"="),q.join("")};for(var kt=[],Tt=[],Pt="undefined"!=typeof Uint8Array?Uint8Array:Array,ht="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ct=0,D=ht.length;ct<D;++ct)kt[ct]=ht[ct],Tt[ht.charCodeAt(ct)]=ct;function $(N){var U=N.length;if(U%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var z=N.indexOf("=");return-1===z&&(z=U),[z,z===U?0:4-z%4]}function W(N){return kt[N>>18&63]+kt[N>>12&63]+kt[N>>6&63]+kt[63&N]}function j(N,U,z){for(var q=[],V=U;V<z;V+=3)q.push(W((N[V]<<16&16711680)+(N[V+1]<<8&65280)+(255&N[V+2])));return q.join("")}Tt["-".charCodeAt(0)]=62,Tt["_".charCodeAt(0)]=63},2963:function(fe,ot,kt){!function(Tt,Pt){"use strict";function ht(y,v){if(!y)throw new Error(v||"Assertion failed")}function ct(y,v){y.super_=v;var M=function(){};M.prototype=v.prototype,y.prototype=new M,y.prototype.constructor=y}function D(y,v,M){if(D.isBN(y))return y;this.negative=0,this.words=null,this.length=0,this.red=null,null!==y&&(("le"===v||"be"===v)&&(M=v,v=10),this._init(y||0,v||10,M||"be"))}var $;"object"==typeof Tt?Tt.exports=D:Pt.BN=D,D.BN=D,D.wordSize=26;try{$="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:kt(6601).Buffer}catch(y){}function X(y,v){var M=y.charCodeAt(v);return M>=48&&M<=57?M-48:M>=65&&M<=70?M-55:M>=97&&M<=102?M-87:void ht(!1,"Invalid character in "+y)}function it(y,v,M){var S=X(y,M);return M-1>=v&&(S|=X(y,M-1)<<4),S}function K(y,v,M,S){for(var P=0,C=0,d=Math.min(y.length,M),k=v;k<d;k++){var nt=y.charCodeAt(k)-48;P*=S,C=nt>=49?nt-49+10:nt>=17?nt-17+10:nt,ht(nt>=0&&C<S,"Invalid character"),P+=C}return P}function W(y,v){y.words=v.words,y.length=v.length,y.negative=v.negative,y.red=v.red}if(D.isBN=function(v){return v instanceof D||null!==v&&"object"==typeof v&&v.constructor.wordSize===D.wordSize&&Array.isArray(v.words)},D.max=function(v,M){return v.cmp(M)>0?v:M},D.min=function(v,M){return v.cmp(M)<0?v:M},D.prototype._init=function(v,M,S){if("number"==typeof v)return this._initNumber(v,M,S);if("object"==typeof v)return this._initArray(v,M,S);"hex"===M&&(M=16),ht(M===(0|M)&&M>=2&&M<=36);var P=0;"-"===(v=v.toString().replace(/\s+/g,""))[0]&&(P++,this.negative=1),P<v.length&&(16===M?this._parseHex(v,P,S):(this._parseBase(v,M,P),"le"===S&&this._initArray(this.toArray(),M,S)))},D.prototype._initNumber=function(v,M,S){v<0&&(this.negative=1,v=-v),v<67108864?(this.words=[67108863&v],this.length=1):v<4503599627370496?(this.words=[67108863&v,v/67108864&67108863],this.length=2):(ht(v<9007199254740992),this.words=[67108863&v,v/67108864&67108863,1],this.length=3),"le"===S&&this._initArray(this.toArray(),M,S)},D.prototype._initArray=function(v,M,S){if(ht("number"==typeof v.length),v.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(v.length/3),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var C,d,k=0;if("be"===S)for(P=v.length-1,C=0;P>=0;P-=3)this.words[C]|=(d=v[P]|v[P-1]<<8|v[P-2]<<16)<<k&67108863,this.words[C+1]=d>>>26-k&67108863,(k+=24)>=26&&(k-=26,C++);else if("le"===S)for(P=0,C=0;P<v.length;P+=3)this.words[C]|=(d=v[P]|v[P+1]<<8|v[P+2]<<16)<<k&67108863,this.words[C+1]=d>>>26-k&67108863,(k+=24)>=26&&(k-=26,C++);return this._strip()},D.prototype._parseHex=function(v,M,S){this.length=Math.ceil((v.length-M)/6),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var k,C=0,d=0;if("be"===S)for(P=v.length-1;P>=M;P-=2)k=it(v,M,P)<<C,this.words[d]|=67108863&k,C>=18?(C-=18,this.words[d+=1]|=k>>>26):C+=8;else for(P=(v.length-M)%2==0?M+1:M;P<v.length;P+=2)k=it(v,M,P)<<C,this.words[d]|=67108863&k,C>=18?(C-=18,this.words[d+=1]|=k>>>26):C+=8;this._strip()},D.prototype._parseBase=function(v,M,S){this.words=[0],this.length=1;for(var P=0,C=1;C<=67108863;C*=M)P++;P--,C=C/M|0;for(var d=v.length-S,k=d%P,nt=Math.min(d,d-k)+S,Q=0,J=S;J<nt;J+=P)Q=K(v,J,J+P,M),this.imuln(C),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q);if(0!==k){var xt=1;for(Q=K(v,J,v.length,M),J=0;J<k;J++)xt*=M;this.imuln(xt),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q)}this._strip()},D.prototype.copy=function(v){v.words=new Array(this.length);for(var M=0;M<this.length;M++)v.words[M]=this.words[M];v.length=this.length,v.negative=this.negative,v.red=this.red},D.prototype._move=function(v){W(v,this)},D.prototype.clone=function(){var v=new D(null);return this.copy(v),v},D.prototype._expand=function(v){for(;this.length<v;)this.words[this.length++]=0;return this},D.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},D.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{D.prototype[Symbol.for("nodejs.util.inspect.custom")]=j}catch(y){D.prototype.inspect=j}else D.prototype.inspect=j;function j(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var tt=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],N=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],U=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function q(y,v,M){M.negative=v.negative^y.negative;var S=y.length+v.length|0;M.length=S,S=S-1|0;var P=0|y.words[0],C=0|v.words[0],d=P*C,nt=d/67108864|0;M.words[0]=67108863&d;for(var Q=1;Q<S;Q++){for(var J=nt>>>26,xt=67108863&nt,wt=Math.min(Q,v.length-1),Ft=Math.max(0,Q-y.length+1);Ft<=wt;Ft++)J+=(d=(P=0|y.words[Q-Ft|0])*(C=0|v.words[Ft])+xt)/67108864|0,xt=67108863&d;M.words[Q]=0|xt,nt=0|J}return 0!==nt?M.words[Q]=0|nt:M.length--,M._strip()}D.prototype.toString=function(v,M){var S;if(M=0|M||1,16===(v=v||10)||"hex"===v){S="";for(var P=0,C=0,d=0;d<this.length;d++){var k=this.words[d],nt=(16777215&(k<<P|C)).toString(16);S=0!=(C=k>>>24-P&16777215)||d!==this.length-1?tt[6-nt.length]+nt+S:nt+S,(P+=2)>=26&&(P-=26,d--)}for(0!==C&&(S=C.toString(16)+S);S.length%M!=0;)S="0"+S;return 0!==this.negative&&(S="-"+S),S}if(v===(0|v)&&v>=2&&v<=36){var Q=N[v],J=U[v];S="";var xt=this.clone();for(xt.negative=0;!xt.isZero();){var wt=xt.modrn(J).toString(v);S=(xt=xt.idivn(J)).isZero()?wt+S:tt[Q-wt.length]+wt+S}for(this.isZero()&&(S="0"+S);S.length%M!=0;)S="0"+S;return 0!==this.negative&&(S="-"+S),S}ht(!1,"Base should be between 2 and 36")},D.prototype.toNumber=function(){var v=this.words[0];return 2===this.length?v+=67108864*this.words[1]:3===this.length&&1===this.words[2]?v+=4503599627370496+67108864*this.words[1]:this.length>2&&ht(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-v:v},D.prototype.toJSON=function(){return this.toString(16,2)},$&&(D.prototype.toBuffer=function(v,M){return this.toArrayLike($,v,M)}),D.prototype.toArray=function(v,M){return this.toArrayLike(Array,v,M)},D.prototype.toArrayLike=function(v,M,S){this._strip();var P=this.byteLength(),C=S||Math.max(1,P);ht(P<=C,"byte array longer than desired length"),ht(C>0,"Requested array length <= 0");var d=function(v,M){return v.allocUnsafe?v.allocUnsafe(M):new v(M)}(v,C);return this["_toArrayLike"+("le"===M?"LE":"BE")](d,P),d},D.prototype._toArrayLikeLE=function(v,M){for(var S=0,P=0,C=0,d=0;C<this.length;C++){var k=this.words[C]<<d|P;v[S++]=255&k,S<v.length&&(v[S++]=k>>8&255),S<v.length&&(v[S++]=k>>16&255),6===d?(S<v.length&&(v[S++]=k>>24&255),P=0,d=0):(P=k>>>24,d+=2)}if(S<v.length)for(v[S++]=P;S<v.length;)v[S++]=0},D.prototype._toArrayLikeBE=function(v,M){for(var S=v.length-1,P=0,C=0,d=0;C<this.length;C++){var k=this.words[C]<<d|P;v[S--]=255&k,S>=0&&(v[S--]=k>>8&255),S>=0&&(v[S--]=k>>16&255),6===d?(S>=0&&(v[S--]=k>>24&255),P=0,d=0):(P=k>>>24,d+=2)}if(S>=0)for(v[S--]=P;S>=0;)v[S--]=0},D.prototype._countBits=Math.clz32?function(v){return 32-Math.clz32(v)}:function(v){var M=v,S=0;return M>=4096&&(S+=13,M>>>=13),M>=64&&(S+=7,M>>>=7),M>=8&&(S+=4,M>>>=4),M>=2&&(S+=2,M>>>=2),S+M},D.prototype._zeroBits=function(v){if(0===v)return 26;var M=v,S=0;return 0==(8191&M)&&(S+=13,M>>>=13),0==(127&M)&&(S+=7,M>>>=7),0==(15&M)&&(S+=4,M>>>=4),0==(3&M)&&(S+=2,M>>>=2),0==(1&M)&&S++,S},D.prototype.bitLength=function(){var M=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+M},D.prototype.zeroBits=function(){if(this.isZero())return 0;for(var v=0,M=0;M<this.length;M++){var S=this._zeroBits(this.words[M]);if(v+=S,26!==S)break}return v},D.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},D.prototype.toTwos=function(v){return 0!==this.negative?this.abs().inotn(v).iaddn(1):this.clone()},D.prototype.fromTwos=function(v){return this.testn(v-1)?this.notn(v).iaddn(1).ineg():this.clone()},D.prototype.isNeg=function(){return 0!==this.negative},D.prototype.neg=function(){return this.clone().ineg()},D.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},D.prototype.iuor=function(v){for(;this.length<v.length;)this.words[this.length++]=0;for(var M=0;M<v.length;M++)this.words[M]=this.words[M]|v.words[M];return this._strip()},D.prototype.ior=function(v){return ht(0==(this.negative|v.negative)),this.iuor(v)},D.prototype.or=function(v){return this.length>v.length?this.clone().ior(v):v.clone().ior(this)},D.prototype.uor=function(v){return this.length>v.length?this.clone().iuor(v):v.clone().iuor(this)},D.prototype.iuand=function(v){var M;M=this.length>v.length?v:this;for(var S=0;S<M.length;S++)this.words[S]=this.words[S]&v.words[S];return this.length=M.length,this._strip()},D.prototype.iand=function(v){return ht(0==(this.negative|v.negative)),this.iuand(v)},D.prototype.and=function(v){return this.length>v.length?this.clone().iand(v):v.clone().iand(this)},D.prototype.uand=function(v){return this.length>v.length?this.clone().iuand(v):v.clone().iuand(this)},D.prototype.iuxor=function(v){var M,S;this.length>v.length?(M=this,S=v):(M=v,S=this);for(var P=0;P<S.length;P++)this.words[P]=M.words[P]^S.words[P];if(this!==M)for(;P<M.length;P++)this.words[P]=M.words[P];return this.length=M.length,this._strip()},D.prototype.ixor=function(v){return ht(0==(this.negative|v.negative)),this.iuxor(v)},D.prototype.xor=function(v){return this.length>v.length?this.clone().ixor(v):v.clone().ixor(this)},D.prototype.uxor=function(v){return this.length>v.length?this.clone().iuxor(v):v.clone().iuxor(this)},D.prototype.inotn=function(v){ht("number"==typeof v&&v>=0);var M=0|Math.ceil(v/26),S=v%26;this._expand(M),S>0&&M--;for(var P=0;P<M;P++)this.words[P]=67108863&~this.words[P];return S>0&&(this.words[P]=~this.words[P]&67108863>>26-S),this._strip()},D.prototype.notn=function(v){return this.clone().inotn(v)},D.prototype.setn=function(v,M){ht("number"==typeof v&&v>=0);var S=v/26|0,P=v%26;return this._expand(S+1),this.words[S]=M?this.words[S]|1<<P:this.words[S]&~(1<<P),this._strip()},D.prototype.iadd=function(v){var M,S,P;if(0!==this.negative&&0===v.negative)return this.negative=0,M=this.isub(v),this.negative^=1,this._normSign();if(0===this.negative&&0!==v.negative)return v.negative=0,M=this.isub(v),v.negative=1,M._normSign();this.length>v.length?(S=this,P=v):(S=v,P=this);for(var C=0,d=0;d<P.length;d++)this.words[d]=67108863&(M=(0|S.words[d])+(0|P.words[d])+C),C=M>>>26;for(;0!==C&&d<S.length;d++)this.words[d]=67108863&(M=(0|S.words[d])+C),C=M>>>26;if(this.length=S.length,0!==C)this.words[this.length]=C,this.length++;else if(S!==this)for(;d<S.length;d++)this.words[d]=S.words[d];return this},D.prototype.add=function(v){var M;return 0!==v.negative&&0===this.negative?(v.negative=0,M=this.sub(v),v.negative^=1,M):0===v.negative&&0!==this.negative?(this.negative=0,M=v.sub(this),this.negative=1,M):this.length>v.length?this.clone().iadd(v):v.clone().iadd(this)},D.prototype.isub=function(v){if(0!==v.negative){v.negative=0;var M=this.iadd(v);return v.negative=1,M._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(v),this.negative=1,this._normSign();var P,C,S=this.cmp(v);if(0===S)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(P=this,C=v):(P=v,C=this);for(var d=0,k=0;k<C.length;k++)d=(M=(0|P.words[k])-(0|C.words[k])+d)>>26,this.words[k]=67108863&M;for(;0!==d&&k<P.length;k++)d=(M=(0|P.words[k])+d)>>26,this.words[k]=67108863&M;if(0===d&&k<P.length&&P!==this)for(;k<P.length;k++)this.words[k]=P.words[k];return this.length=Math.max(this.length,k),P!==this&&(this.negative=1),this._strip()},D.prototype.sub=function(v){return this.clone().isub(v)};var V=function(v,M,S){var nt,Q,J,P=v.words,C=M.words,d=S.words,k=0,xt=0|P[0],wt=8191&xt,Ft=xt>>>13,Gt=0|P[1],It=8191&Gt,_t=Gt>>>13,Zt=0|P[2],Ot=8191&Zt,At=Zt>>>13,jt=0|P[3],Kt=8191&jt,Vt=jt>>>13,Ce=0|P[4],Ht=8191&Ce,ge=Ce>>>13,yi=0|P[5],we=8191&yi,de=yi>>>13,Fe=0|P[6],Yt=8191&Fe,ee=Fe>>>13,Re=0|P[7],Nt=8191&Re,vt=Re>>>13,at=0|P[8],qt=8191&at,he=at>>>13,Xe=0|P[9],ve=8191&Xe,Te=Xe>>>13,Qi=0|C[0],ni=8191&Qi,ei=Qi>>>13,Ui=0|C[1],mi=8191&Ui,bi=Ui>>>13,En=0|C[2],_i=8191&En,He=En>>>13,on=0|C[3],Di=8191&on,Pe=on>>>13,ri=0|C[4],Ee=8191&ri,ne=ri>>>13,Se=0|C[5],ae=8191&Se,Me=Se>>>13,$e=0|C[6],te=8191&$e,Ie=$e>>>13,tn=0|C[7],qe=8191&tn,ci=tn>>>13,Pn=0|C[8],ui=8191&Pn,oi=Pn>>>13,en=0|C[9],sn=8191&en,Tn=en>>>13;S.negative=v.negative^M.negative,S.length=19;var Er=(k+(nt=Math.imul(wt,ni))|0)+((8191&(Q=(Q=Math.imul(wt,ei))+Math.imul(Ft,ni)|0))<<13)|0;k=((J=Math.imul(Ft,ei))+(Q>>>13)|0)+(Er>>>26)|0,Er&=67108863,nt=Math.imul(It,ni),Q=(Q=Math.imul(It,ei))+Math.imul(_t,ni)|0,J=Math.imul(_t,ei);var In=(k+(nt=nt+Math.imul(wt,mi)|0)|0)+((8191&(Q=(Q=Q+Math.imul(wt,bi)|0)+Math.imul(Ft,mi)|0))<<13)|0;k=((J=J+Math.imul(Ft,bi)|0)+(Q>>>13)|0)+(In>>>26)|0,In&=67108863,nt=Math.imul(Ot,ni),Q=(Q=Math.imul(Ot,ei))+Math.imul(At,ni)|0,J=Math.imul(At,ei),nt=nt+Math.imul(It,mi)|0,Q=(Q=Q+Math.imul(It,bi)|0)+Math.imul(_t,mi)|0,J=J+Math.imul(_t,bi)|0;var Yn=(k+(nt=nt+Math.imul(wt,_i)|0)|0)+((8191&(Q=(Q=Q+Math.imul(wt,He)|0)+Math.imul(Ft,_i)|0))<<13)|0;k=((J=J+Math.imul(Ft,He)|0)+(Q>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,nt=Math.imul(Kt,ni),Q=(Q=Math.imul(Kt,ei))+Math.imul(Vt,ni)|0,J=Math.imul(Vt,ei),nt=nt+Math.imul(Ot,mi)|0,Q=(Q=Q+Math.imul(Ot,bi)|0)+Math.imul(At,mi)|0,J=J+Math.imul(At,bi)|0,nt=nt+Math.imul(It,_i)|0,Q=(Q=Q+Math.imul(It,He)|0)+Math.imul(_t,_i)|0,J=J+Math.imul(_t,He)|0;var nn=(k+(nt=nt+Math.imul(wt,Di)|0)|0)+((8191&(Q=(Q=Q+Math.imul(wt,Pe)|0)+Math.imul(Ft,Di)|0))<<13)|0;k=((J=J+Math.imul(Ft,Pe)|0)+(Q>>>13)|0)+(nn>>>26)|0,nn&=67108863,nt=Math.imul(Ht,ni),Q=(Q=Math.imul(Ht,ei))+Math.imul(ge,ni)|0,J=Math.imul(ge,ei),nt=nt+Math.imul(Kt,mi)|0,Q=(Q=Q+Math.imul(Kt,bi)|0)+Math.imul(Vt,mi)|0,J=J+Math.imul(Vt,bi)|0,nt=nt+Math.imul(Ot,_i)|0,Q=(Q=Q+Math.imul(Ot,He)|0)+Math.imul(At,_i)|0,J=J+Math.imul(At,He)|0,nt=nt+Math.imul(It,Di)|0,Q=(Q=Q+Math.imul(It,Pe)|0)+Math.imul(_t,Di)|0,J=J+Math.imul(_t,Pe)|0;var Or=(k+(nt=nt+Math.imul(wt,Ee)|0)|0)+((8191&(Q=(Q=Q+Math.imul(wt,ne)|0)+Math.imul(Ft,Ee)|0))<<13)|0;k=((J=J+Math.imul(Ft,ne)|0)+(Q>>>13)|0)+(Or>>>26)|0,Or&=67108863,nt=Math.imul(we,ni),Q=(Q=Math.imul(we,ei))+Math.imul(de,ni)|0,J=Math.imul(de,ei),nt=nt+Math.imul(Ht,mi)|0,Q=(Q=Q+Math.imul(Ht,bi)|0)+Math.imul(ge,mi)|0,J=J+Math.imul(ge,bi)|0,nt=nt+Math.imul(Kt,_i)|0,Q=(Q=Q+Math.imul(Kt,He)|0)+Math.imul(Vt,_i)|0,J=J+Math.imul(Vt,He)|0,nt=nt+Math.imul(Ot,Di)|0,Q=(Q=Q+Math.imul(Ot,Pe)|0)+Math.imul(At,Di)|0,J=J+Math.imul(At,Pe)|0,nt=nt+Math.imul(It,Ee)|0,Q=(Q=Q+Math.imul(It,ne)|0)+Math.imul(_t,Ee)|0,J=J+Math.imul(_t,ne)|0;var fr=(k+(nt=nt+Math.imul(wt,ae)|0)|0)+((8191&(Q=(Q=Q+Math.imul(wt,Me)|0)+Math.imul(Ft,ae)|0))<<13)|0;k=((J=J+Math.imul(Ft,Me)|0)+(Q>>>13)|0)+(fr>>>26)|0,fr&=67108863,nt=Math.imul(Yt,ni),Q=(Q=Math.imul(Yt,ei))+Math.imul(ee,ni)|0,J=Math.imul(ee,ei),nt=nt+Math.imul(we,mi)|0,Q=(Q=Q+Math.imul(we,bi)|0)+Math.imul(de,mi)|0,J=J+Math.imul(de,bi)|0,nt=nt+Math.imul(Ht,_i)|0,Q=(Q=Q+Math.imul(Ht,He)|0)+Math.imul(ge,_i)|0,J=J+Math.imul(ge,He)|0,nt=nt+Math.imul(Kt,Di)|0,Q=(Q=Q+Math.imul(Kt,Pe)|0)+Math.imul(Vt,Di)|0,J=J+Math.imul(Vt,Pe)|0,nt=nt+Math.imul(Ot,Ee)|0,Q=(Q=Q+Math.imul(Ot,ne)|0)+Math.imul(At,Ee)|0,J=J+Math.imul(At,ne)|0,nt=nt+Math.imul(It,ae)|0,Q=(Q=Q+Math.imul(It,Me)|0)+Math.imul(_t,ae)|0,J=J+Math.imul(_t,Me)|0;var dr=(k+(nt=nt+Math.imul(wt,te)|0)|0)+((8191&(Q=(Q=Q+Math.imul(wt,Ie)|0)+Math.imul(Ft,te)|0))<<13)|0;k=((J=J+Math.imul(Ft,Ie)|0)+(Q>>>13)|0)+(dr>>>26)|0,dr&=67108863,nt=Math.imul(Nt,ni),Q=(Q=Math.imul(Nt,ei))+Math.imul(vt,ni)|0,J=Math.imul(vt,ei),nt=nt+Math.imul(Yt,mi)|0,Q=(Q=Q+Math.imul(Yt,bi)|0)+Math.imul(ee,mi)|0,J=J+Math.imul(ee,bi)|0,nt=nt+Math.imul(we,_i)|0,Q=(Q=Q+Math.imul(we,He)|0)+Math.imul(de,_i)|0,J=J+Math.imul(de,He)|0,nt=nt+Math.imul(Ht,Di)|0,Q=(Q=Q+Math.imul(Ht,Pe)|0)+Math.imul(ge,Di)|0,J=J+Math.imul(ge,Pe)|0,nt=nt+Math.imul(Kt,Ee)|0,Q=(Q=Q+Math.imul(Kt,ne)|0)+Math.imul(Vt,Ee)|0,J=J+Math.imul(Vt,ne)|0,nt=nt+Math.imul(Ot,ae)|0,Q=(Q=Q+Math.imul(Ot,Me)|0)+Math.imul(At,ae)|0,J=J+Math.imul(At,Me)|0,nt=nt+Math.imul(It,te)|0,Q=(Q=Q+Math.imul(It,Ie)|0)+Math.imul(_t,te)|0,J=J+Math.imul(_t,Ie)|0;var Un=(k+(nt=nt+Math.imul(wt,qe)|0)|0)+((8191&(Q=(Q=Q+Math.imul(wt,ci)|0)+Math.imul(Ft,qe)|0))<<13)|0;k=((J=J+Math.imul(Ft,ci)|0)+(Q>>>13)|0)+(Un>>>26)|0,Un&=67108863,nt=Math.imul(qt,ni),Q=(Q=Math.imul(qt,ei))+Math.imul(he,ni)|0,J=Math.imul(he,ei),nt=nt+Math.imul(Nt,mi)|0,Q=(Q=Q+Math.imul(Nt,bi)|0)+Math.imul(vt,mi)|0,J=J+Math.imul(vt,bi)|0,nt=nt+Math.imul(Yt,_i)|0,Q=(Q=Q+Math.imul(Yt,He)|0)+Math.imul(ee,_i)|0,J=J+Math.imul(ee,He)|0,nt=nt+Math.imul(we,Di)|0,Q=(Q=Q+Math.imul(we,Pe)|0)+Math.imul(de,Di)|0,J=J+Math.imul(de,Pe)|0,nt=nt+Math.imul(Ht,Ee)|0,Q=(Q=Q+Math.imul(Ht,ne)|0)+Math.imul(ge,Ee)|0,J=J+Math.imul(ge,ne)|0,nt=nt+Math.imul(Kt,ae)|0,Q=(Q=Q+Math.imul(Kt,Me)|0)+Math.imul(Vt,ae)|0,J=J+Math.imul(Vt,Me)|0,nt=nt+Math.imul(Ot,te)|0,Q=(Q=Q+Math.imul(Ot,Ie)|0)+Math.imul(At,te)|0,J=J+Math.imul(At,Ie)|0,nt=nt+Math.imul(It,qe)|0,Q=(Q=Q+Math.imul(It,ci)|0)+Math.imul(_t,qe)|0,J=J+Math.imul(_t,ci)|0;var xo=(k+(nt=nt+Math.imul(wt,ui)|0)|0)+((8191&(Q=(Q=Q+Math.imul(wt,oi)|0)+Math.imul(Ft,ui)|0))<<13)|0;k=((J=J+Math.imul(Ft,oi)|0)+(Q>>>13)|0)+(xo>>>26)|0,xo&=67108863,nt=Math.imul(ve,ni),Q=(Q=Math.imul(ve,ei))+Math.imul(Te,ni)|0,J=Math.imul(Te,ei),nt=nt+Math.imul(qt,mi)|0,Q=(Q=Q+Math.imul(qt,bi)|0)+Math.imul(he,mi)|0,J=J+Math.imul(he,bi)|0,nt=nt+Math.imul(Nt,_i)|0,Q=(Q=Q+Math.imul(Nt,He)|0)+Math.imul(vt,_i)|0,J=J+Math.imul(vt,He)|0,nt=nt+Math.imul(Yt,Di)|0,Q=(Q=Q+Math.imul(Yt,Pe)|0)+Math.imul(ee,Di)|0,J=J+Math.imul(ee,Pe)|0,nt=nt+Math.imul(we,Ee)|0,Q=(Q=Q+Math.imul(we,ne)|0)+Math.imul(de,Ee)|0,J=J+Math.imul(de,ne)|0,nt=nt+Math.imul(Ht,ae)|0,Q=(Q=Q+Math.imul(Ht,Me)|0)+Math.imul(ge,ae)|0,J=J+Math.imul(ge,Me)|0,nt=nt+Math.imul(Kt,te)|0,Q=(Q=Q+Math.imul(Kt,Ie)|0)+Math.imul(Vt,te)|0,J=J+Math.imul(Vt,Ie)|0,nt=nt+Math.imul(Ot,qe)|0,Q=(Q=Q+Math.imul(Ot,ci)|0)+Math.imul(At,qe)|0,J=J+Math.imul(At,ci)|0,nt=nt+Math.imul(It,ui)|0,Q=(Q=Q+Math.imul(It,oi)|0)+Math.imul(_t,ui)|0,J=J+Math.imul(_t,oi)|0;var ki=(k+(nt=nt+Math.imul(wt,sn)|0)|0)+((8191&(Q=(Q=Q+Math.imul(wt,Tn)|0)+Math.imul(Ft,sn)|0))<<13)|0;k=((J=J+Math.imul(Ft,Tn)|0)+(Q>>>13)|0)+(ki>>>26)|0,ki&=67108863,nt=Math.imul(ve,mi),Q=(Q=Math.imul(ve,bi))+Math.imul(Te,mi)|0,J=Math.imul(Te,bi),nt=nt+Math.imul(qt,_i)|0,Q=(Q=Q+Math.imul(qt,He)|0)+Math.imul(he,_i)|0,J=J+Math.imul(he,He)|0,nt=nt+Math.imul(Nt,Di)|0,Q=(Q=Q+Math.imul(Nt,Pe)|0)+Math.imul(vt,Di)|0,J=J+Math.imul(vt,Pe)|0,nt=nt+Math.imul(Yt,Ee)|0,Q=(Q=Q+Math.imul(Yt,ne)|0)+Math.imul(ee,Ee)|0,J=J+Math.imul(ee,ne)|0,nt=nt+Math.imul(we,ae)|0,Q=(Q=Q+Math.imul(we,Me)|0)+Math.imul(de,ae)|0,J=J+Math.imul(de,Me)|0,nt=nt+Math.imul(Ht,te)|0,Q=(Q=Q+Math.imul(Ht,Ie)|0)+Math.imul(ge,te)|0,J=J+Math.imul(ge,Ie)|0,nt=nt+Math.imul(Kt,qe)|0,Q=(Q=Q+Math.imul(Kt,ci)|0)+Math.imul(Vt,qe)|0,J=J+Math.imul(Vt,ci)|0,nt=nt+Math.imul(Ot,ui)|0,Q=(Q=Q+Math.imul(Ot,oi)|0)+Math.imul(At,ui)|0,J=J+Math.imul(At,oi)|0;var hn=(k+(nt=nt+Math.imul(It,sn)|0)|0)+((8191&(Q=(Q=Q+Math.imul(It,Tn)|0)+Math.imul(_t,sn)|0))<<13)|0;k=((J=J+Math.imul(_t,Tn)|0)+(Q>>>13)|0)+(hn>>>26)|0,hn&=67108863,nt=Math.imul(ve,_i),Q=(Q=Math.imul(ve,He))+Math.imul(Te,_i)|0,J=Math.imul(Te,He),nt=nt+Math.imul(qt,Di)|0,Q=(Q=Q+Math.imul(qt,Pe)|0)+Math.imul(he,Di)|0,J=J+Math.imul(he,Pe)|0,nt=nt+Math.imul(Nt,Ee)|0,Q=(Q=Q+Math.imul(Nt,ne)|0)+Math.imul(vt,Ee)|0,J=J+Math.imul(vt,ne)|0,nt=nt+Math.imul(Yt,ae)|0,Q=(Q=Q+Math.imul(Yt,Me)|0)+Math.imul(ee,ae)|0,J=J+Math.imul(ee,Me)|0,nt=nt+Math.imul(we,te)|0,Q=(Q=Q+Math.imul(we,Ie)|0)+Math.imul(de,te)|0,J=J+Math.imul(de,Ie)|0,nt=nt+Math.imul(Ht,qe)|0,Q=(Q=Q+Math.imul(Ht,ci)|0)+Math.imul(ge,qe)|0,J=J+Math.imul(ge,ci)|0,nt=nt+Math.imul(Kt,ui)|0,Q=(Q=Q+Math.imul(Kt,oi)|0)+Math.imul(Vt,ui)|0,J=J+Math.imul(Vt,oi)|0;var ar=(k+(nt=nt+Math.imul(Ot,sn)|0)|0)+((8191&(Q=(Q=Q+Math.imul(Ot,Tn)|0)+Math.imul(At,sn)|0))<<13)|0;k=((J=J+Math.imul(At,Tn)|0)+(Q>>>13)|0)+(ar>>>26)|0,ar&=67108863,nt=Math.imul(ve,Di),Q=(Q=Math.imul(ve,Pe))+Math.imul(Te,Di)|0,J=Math.imul(Te,Pe),nt=nt+Math.imul(qt,Ee)|0,Q=(Q=Q+Math.imul(qt,ne)|0)+Math.imul(he,Ee)|0,J=J+Math.imul(he,ne)|0,nt=nt+Math.imul(Nt,ae)|0,Q=(Q=Q+Math.imul(Nt,Me)|0)+Math.imul(vt,ae)|0,J=J+Math.imul(vt,Me)|0,nt=nt+Math.imul(Yt,te)|0,Q=(Q=Q+Math.imul(Yt,Ie)|0)+Math.imul(ee,te)|0,J=J+Math.imul(ee,Ie)|0,nt=nt+Math.imul(we,qe)|0,Q=(Q=Q+Math.imul(we,ci)|0)+Math.imul(de,qe)|0,J=J+Math.imul(de,ci)|0,nt=nt+Math.imul(Ht,ui)|0,Q=(Q=Q+Math.imul(Ht,oi)|0)+Math.imul(ge,ui)|0,J=J+Math.imul(ge,oi)|0;var bn=(k+(nt=nt+Math.imul(Kt,sn)|0)|0)+((8191&(Q=(Q=Q+Math.imul(Kt,Tn)|0)+Math.imul(Vt,sn)|0))<<13)|0;k=((J=J+Math.imul(Vt,Tn)|0)+(Q>>>13)|0)+(bn>>>26)|0,bn&=67108863,nt=Math.imul(ve,Ee),Q=(Q=Math.imul(ve,ne))+Math.imul(Te,Ee)|0,J=Math.imul(Te,ne),nt=nt+Math.imul(qt,ae)|0,Q=(Q=Q+Math.imul(qt,Me)|0)+Math.imul(he,ae)|0,J=J+Math.imul(he,Me)|0,nt=nt+Math.imul(Nt,te)|0,Q=(Q=Q+Math.imul(Nt,Ie)|0)+Math.imul(vt,te)|0,J=J+Math.imul(vt,Ie)|0,nt=nt+Math.imul(Yt,qe)|0,Q=(Q=Q+Math.imul(Yt,ci)|0)+Math.imul(ee,qe)|0,J=J+Math.imul(ee,ci)|0,nt=nt+Math.imul(we,ui)|0,Q=(Q=Q+Math.imul(we,oi)|0)+Math.imul(de,ui)|0,J=J+Math.imul(de,oi)|0;var vo=(k+(nt=nt+Math.imul(Ht,sn)|0)|0)+((8191&(Q=(Q=Q+Math.imul(Ht,Tn)|0)+Math.imul(ge,sn)|0))<<13)|0;k=((J=J+Math.imul(ge,Tn)|0)+(Q>>>13)|0)+(vo>>>26)|0,vo&=67108863,nt=Math.imul(ve,ae),Q=(Q=Math.imul(ve,Me))+Math.imul(Te,ae)|0,J=Math.imul(Te,Me),nt=nt+Math.imul(qt,te)|0,Q=(Q=Q+Math.imul(qt,Ie)|0)+Math.imul(he,te)|0,J=J+Math.imul(he,Ie)|0,nt=nt+Math.imul(Nt,qe)|0,Q=(Q=Q+Math.imul(Nt,ci)|0)+Math.imul(vt,qe)|0,J=J+Math.imul(vt,ci)|0,nt=nt+Math.imul(Yt,ui)|0,Q=(Q=Q+Math.imul(Yt,oi)|0)+Math.imul(ee,ui)|0,J=J+Math.imul(ee,oi)|0;var Ao=(k+(nt=nt+Math.imul(we,sn)|0)|0)+((8191&(Q=(Q=Q+Math.imul(we,Tn)|0)+Math.imul(de,sn)|0))<<13)|0;k=((J=J+Math.imul(de,Tn)|0)+(Q>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,nt=Math.imul(ve,te),Q=(Q=Math.imul(ve,Ie))+Math.imul(Te,te)|0,J=Math.imul(Te,Ie),nt=nt+Math.imul(qt,qe)|0,Q=(Q=Q+Math.imul(qt,ci)|0)+Math.imul(he,qe)|0,J=J+Math.imul(he,ci)|0,nt=nt+Math.imul(Nt,ui)|0,Q=(Q=Q+Math.imul(Nt,oi)|0)+Math.imul(vt,ui)|0,J=J+Math.imul(vt,oi)|0;var Vi=(k+(nt=nt+Math.imul(Yt,sn)|0)|0)+((8191&(Q=(Q=Q+Math.imul(Yt,Tn)|0)+Math.imul(ee,sn)|0))<<13)|0;k=((J=J+Math.imul(ee,Tn)|0)+(Q>>>13)|0)+(Vi>>>26)|0,Vi&=67108863,nt=Math.imul(ve,qe),Q=(Q=Math.imul(ve,ci))+Math.imul(Te,qe)|0,J=Math.imul(Te,ci),nt=nt+Math.imul(qt,ui)|0,Q=(Q=Q+Math.imul(qt,oi)|0)+Math.imul(he,ui)|0,J=J+Math.imul(he,oi)|0;var Fn=(k+(nt=nt+Math.imul(Nt,sn)|0)|0)+((8191&(Q=(Q=Q+Math.imul(Nt,Tn)|0)+Math.imul(vt,sn)|0))<<13)|0;k=((J=J+Math.imul(vt,Tn)|0)+(Q>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,nt=Math.imul(ve,ui),Q=(Q=Math.imul(ve,oi))+Math.imul(Te,ui)|0,J=Math.imul(Te,oi);var ph=(k+(nt=nt+Math.imul(qt,sn)|0)|0)+((8191&(Q=(Q=Q+Math.imul(qt,Tn)|0)+Math.imul(he,sn)|0))<<13)|0;k=((J=J+Math.imul(he,Tn)|0)+(Q>>>13)|0)+(ph>>>26)|0,ph&=67108863;var Qh=(k+(nt=Math.imul(ve,sn))|0)+((8191&(Q=(Q=Math.imul(ve,Tn))+Math.imul(Te,sn)|0))<<13)|0;return k=((J=Math.imul(Te,Tn))+(Q>>>13)|0)+(Qh>>>26)|0,Qh&=67108863,d[0]=Er,d[1]=In,d[2]=Yn,d[3]=nn,d[4]=Or,d[5]=fr,d[6]=dr,d[7]=Un,d[8]=xo,d[9]=ki,d[10]=hn,d[11]=ar,d[12]=bn,d[13]=vo,d[14]=Ao,d[15]=Vi,d[16]=Fn,d[17]=ph,d[18]=Qh,0!==k&&(d[19]=k,S.length++),S};function Z(y,v,M){M.negative=v.negative^y.negative,M.length=y.length+v.length;for(var S=0,P=0,C=0;C<M.length-1;C++){var d=P;P=0;for(var k=67108863&S,nt=Math.min(C,v.length-1),Q=Math.max(0,C-y.length+1);Q<=nt;Q++){var Ft=(0|y.words[C-Q])*(0|v.words[Q]),Gt=67108863&Ft;k=67108863&(Gt=Gt+k|0),P+=(d=(d=d+(Ft/67108864|0)|0)+(Gt>>>26)|0)>>>26,d&=67108863}M.words[C]=k,S=d,d=P}return 0!==S?M.words[C]=S:M.length--,M._strip()}function et(y,v,M){return Z(y,v,M)}function rt(y,v){this.x=y,this.y=v}Math.imul||(V=q),D.prototype.mulTo=function(v,M){var P=this.length+v.length;return 10===this.length&&10===v.length?V(this,v,M):P<63?q(this,v,M):P<1024?Z(this,v,M):et(this,v,M)},rt.prototype.makeRBT=function(v){for(var M=new Array(v),S=D.prototype._countBits(v)-1,P=0;P<v;P++)M[P]=this.revBin(P,S,v);return M},rt.prototype.revBin=function(v,M,S){if(0===v||v===S-1)return v;for(var P=0,C=0;C<M;C++)P|=(1&v)<<M-C-1,v>>=1;return P},rt.prototype.permute=function(v,M,S,P,C,d){for(var k=0;k<d;k++)P[k]=M[v[k]],C[k]=S[v[k]]},rt.prototype.transform=function(v,M,S,P,C,d){this.permute(d,v,M,S,P,C);for(var k=1;k<C;k<<=1)for(var nt=k<<1,Q=Math.cos(2*Math.PI/nt),J=Math.sin(2*Math.PI/nt),xt=0;xt<C;xt+=nt)for(var wt=Q,Ft=J,Gt=0;Gt<k;Gt++){var It=S[xt+Gt],_t=P[xt+Gt],Zt=S[xt+Gt+k],Ot=P[xt+Gt+k],At=wt*Zt-Ft*Ot;Ot=wt*Ot+Ft*Zt,S[xt+Gt]=It+(Zt=At),P[xt+Gt]=_t+Ot,S[xt+Gt+k]=It-Zt,P[xt+Gt+k]=_t-Ot,Gt!==nt&&(At=Q*wt-J*Ft,Ft=Q*Ft+J*wt,wt=At)}},rt.prototype.guessLen13b=function(v,M){var S=1|Math.max(M,v),P=1&S,C=0;for(S=S/2|0;S;S>>>=1)C++;return 1<<C+1+P},rt.prototype.conjugate=function(v,M,S){if(!(S<=1))for(var P=0;P<S/2;P++){var C=v[P];v[P]=v[S-P-1],v[S-P-1]=C,C=M[P],M[P]=-M[S-P-1],M[S-P-1]=-C}},rt.prototype.normalize13b=function(v,M){for(var S=0,P=0;P<M/2;P++){var C=8192*Math.round(v[2*P+1]/M)+Math.round(v[2*P]/M)+S;v[P]=67108863&C,S=C<67108864?0:C/67108864|0}return v},rt.prototype.convert13b=function(v,M,S,P){for(var C=0,d=0;d<M;d++)S[2*d]=8191&(C+=0|v[d]),S[2*d+1]=8191&(C>>>=13),C>>>=13;for(d=2*M;d<P;++d)S[d]=0;ht(0===C),ht(0==(-8192&C))},rt.prototype.stub=function(v){for(var M=new Array(v),S=0;S<v;S++)M[S]=0;return M},rt.prototype.mulp=function(v,M,S){var P=2*this.guessLen13b(v.length,M.length),C=this.makeRBT(P),d=this.stub(P),k=new Array(P),nt=new Array(P),Q=new Array(P),J=new Array(P),xt=new Array(P),wt=new Array(P),Ft=S.words;Ft.length=P,this.convert13b(v.words,v.length,k,P),this.convert13b(M.words,M.length,J,P),this.transform(k,d,nt,Q,P,C),this.transform(J,d,xt,wt,P,C);for(var Gt=0;Gt<P;Gt++){var It=nt[Gt]*xt[Gt]-Q[Gt]*wt[Gt];Q[Gt]=nt[Gt]*wt[Gt]+Q[Gt]*xt[Gt],nt[Gt]=It}return this.conjugate(nt,Q,P),this.transform(nt,Q,Ft,d,P,C),this.conjugate(Ft,d,P),this.normalize13b(Ft,P),S.negative=v.negative^M.negative,S.length=v.length+M.length,S._strip()},D.prototype.mul=function(v){var M=new D(null);return M.words=new Array(this.length+v.length),this.mulTo(v,M)},D.prototype.mulf=function(v){var M=new D(null);return M.words=new Array(this.length+v.length),et(this,v,M)},D.prototype.imul=function(v){return this.clone().mulTo(v,this)},D.prototype.imuln=function(v){var M=v<0;M&&(v=-v),ht("number"==typeof v),ht(v<67108864);for(var S=0,P=0;P<this.length;P++){var C=(0|this.words[P])*v,d=(67108863&C)+(67108863&S);S>>=26,S+=C/67108864|0,S+=d>>>26,this.words[P]=67108863&d}return 0!==S&&(this.words[P]=S,this.length++),M?this.ineg():this},D.prototype.muln=function(v){return this.clone().imuln(v)},D.prototype.sqr=function(){return this.mul(this)},D.prototype.isqr=function(){return this.imul(this.clone())},D.prototype.pow=function(v){var M=function(y){for(var v=new Array(y.bitLength()),M=0;M<v.length;M++)v[M]=y.words[M/26|0]>>>M%26&1;return v}(v);if(0===M.length)return new D(1);for(var S=this,P=0;P<M.length&&0===M[P];P++,S=S.sqr());if(++P<M.length)for(var C=S.sqr();P<M.length;P++,C=C.sqr())0!==M[P]&&(S=S.mul(C));return S},D.prototype.iushln=function(v){ht("number"==typeof v&&v>=0);var C,M=v%26,S=(v-M)/26,P=67108863>>>26-M<<26-M;if(0!==M){var d=0;for(C=0;C<this.length;C++){var k=this.words[C]&P;this.words[C]=(0|this.words[C])-k<<M|d,d=k>>>26-M}d&&(this.words[C]=d,this.length++)}if(0!==S){for(C=this.length-1;C>=0;C--)this.words[C+S]=this.words[C];for(C=0;C<S;C++)this.words[C]=0;this.length+=S}return this._strip()},D.prototype.ishln=function(v){return ht(0===this.negative),this.iushln(v)},D.prototype.iushrn=function(v,M,S){var P;ht("number"==typeof v&&v>=0),P=M?(M-M%26)/26:0;var C=v%26,d=Math.min((v-C)/26,this.length),k=67108863^67108863>>>C<<C,nt=S;if(P-=d,P=Math.max(0,P),nt){for(var Q=0;Q<d;Q++)nt.words[Q]=this.words[Q];nt.length=d}if(0!==d)if(this.length>d)for(this.length-=d,Q=0;Q<this.length;Q++)this.words[Q]=this.words[Q+d];else this.words[0]=0,this.length=1;var J=0;for(Q=this.length-1;Q>=0&&(0!==J||Q>=P);Q--){var xt=0|this.words[Q];this.words[Q]=J<<26-C|xt>>>C,J=xt&k}return nt&&0!==J&&(nt.words[nt.length++]=J),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},D.prototype.ishrn=function(v,M,S){return ht(0===this.negative),this.iushrn(v,M,S)},D.prototype.shln=function(v){return this.clone().ishln(v)},D.prototype.ushln=function(v){return this.clone().iushln(v)},D.prototype.shrn=function(v){return this.clone().ishrn(v)},D.prototype.ushrn=function(v){return this.clone().iushrn(v)},D.prototype.testn=function(v){ht("number"==typeof v&&v>=0);var M=v%26,S=(v-M)/26;return!(this.length<=S||!(this.words[S]&1<<M))},D.prototype.imaskn=function(v){ht("number"==typeof v&&v>=0);var M=v%26,S=(v-M)/26;return ht(0===this.negative,"imaskn works only with positive numbers"),this.length<=S?this:(0!==M&&S++,this.length=Math.min(S,this.length),0!==M&&(this.words[this.length-1]&=67108863^67108863>>>M<<M),this._strip())},D.prototype.maskn=function(v){return this.clone().imaskn(v)},D.prototype.iaddn=function(v){return ht("number"==typeof v),ht(v<67108864),v<0?this.isubn(-v):0!==this.negative?1===this.length&&(0|this.words[0])<=v?(this.words[0]=v-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(v),this.negative=1,this):this._iaddn(v)},D.prototype._iaddn=function(v){this.words[0]+=v;for(var M=0;M<this.length&&this.words[M]>=67108864;M++)this.words[M]-=67108864,M===this.length-1?this.words[M+1]=1:this.words[M+1]++;return this.length=Math.max(this.length,M+1),this},D.prototype.isubn=function(v){if(ht("number"==typeof v),ht(v<67108864),v<0)return this.iaddn(-v);if(0!==this.negative)return this.negative=0,this.iaddn(v),this.negative=1,this;if(this.words[0]-=v,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var M=0;M<this.length&&this.words[M]<0;M++)this.words[M]+=67108864,this.words[M+1]-=1;return this._strip()},D.prototype.addn=function(v){return this.clone().iaddn(v)},D.prototype.subn=function(v){return this.clone().isubn(v)},D.prototype.iabs=function(){return this.negative=0,this},D.prototype.abs=function(){return this.clone().iabs()},D.prototype._ishlnsubmul=function(v,M,S){var C;this._expand(v.length+S);var d,k=0;for(C=0;C<v.length;C++){d=(0|this.words[C+S])+k;var nt=(0|v.words[C])*M;k=((d-=67108863&nt)>>26)-(nt/67108864|0),this.words[C+S]=67108863&d}for(;C<this.length-S;C++)k=(d=(0|this.words[C+S])+k)>>26,this.words[C+S]=67108863&d;if(0===k)return this._strip();for(ht(-1===k),k=0,C=0;C<this.length;C++)k=(d=-(0|this.words[C])+k)>>26,this.words[C]=67108863&d;return this.negative=1,this._strip()},D.prototype._wordDiv=function(v,M){var S,P=this.clone(),C=v,d=0|C.words[C.length-1];0!=(S=26-this._countBits(d))&&(C=C.ushln(S),P.iushln(S),d=0|C.words[C.length-1]);var Q,nt=P.length-C.length;if("mod"!==M){(Q=new D(null)).length=nt+1,Q.words=new Array(Q.length);for(var J=0;J<Q.length;J++)Q.words[J]=0}var xt=P.clone()._ishlnsubmul(C,1,nt);0===xt.negative&&(P=xt,Q&&(Q.words[nt]=1));for(var wt=nt-1;wt>=0;wt--){var Ft=67108864*(0|P.words[C.length+wt])+(0|P.words[C.length+wt-1]);for(Ft=Math.min(Ft/d|0,67108863),P._ishlnsubmul(C,Ft,wt);0!==P.negative;)Ft--,P.negative=0,P._ishlnsubmul(C,1,wt),P.isZero()||(P.negative^=1);Q&&(Q.words[wt]=Ft)}return Q&&Q._strip(),P._strip(),"div"!==M&&0!==S&&P.iushrn(S),{div:Q||null,mod:P}},D.prototype.divmod=function(v,M,S){return ht(!v.isZero()),this.isZero()?{div:new D(0),mod:new D(0)}:0!==this.negative&&0===v.negative?(d=this.neg().divmod(v,M),"mod"!==M&&(P=d.div.neg()),"div"!==M&&(C=d.mod.neg(),S&&0!==C.negative&&C.iadd(v)),{div:P,mod:C}):0===this.negative&&0!==v.negative?(d=this.divmod(v.neg(),M),"mod"!==M&&(P=d.div.neg()),{div:P,mod:d.mod}):0!=(this.negative&v.negative)?(d=this.neg().divmod(v.neg(),M),"div"!==M&&(C=d.mod.neg(),S&&0!==C.negative&&C.isub(v)),{div:d.div,mod:C}):v.length>this.length||this.cmp(v)<0?{div:new D(0),mod:this}:1===v.length?"div"===M?{div:this.divn(v.words[0]),mod:null}:"mod"===M?{div:null,mod:new D(this.modrn(v.words[0]))}:{div:this.divn(v.words[0]),mod:new D(this.modrn(v.words[0]))}:this._wordDiv(v,M);var P,C,d},D.prototype.div=function(v){return this.divmod(v,"div",!1).div},D.prototype.mod=function(v){return this.divmod(v,"mod",!1).mod},D.prototype.umod=function(v){return this.divmod(v,"mod",!0).mod},D.prototype.divRound=function(v){var M=this.divmod(v);if(M.mod.isZero())return M.div;var S=0!==M.div.negative?M.mod.isub(v):M.mod,P=v.ushrn(1),C=v.andln(1),d=S.cmp(P);return d<0||1===C&&0===d?M.div:0!==M.div.negative?M.div.isubn(1):M.div.iaddn(1)},D.prototype.modrn=function(v){var M=v<0;M&&(v=-v),ht(v<=67108863);for(var S=(1<<26)%v,P=0,C=this.length-1;C>=0;C--)P=(S*P+(0|this.words[C]))%v;return M?-P:P},D.prototype.modn=function(v){return this.modrn(v)},D.prototype.idivn=function(v){var M=v<0;M&&(v=-v),ht(v<=67108863);for(var S=0,P=this.length-1;P>=0;P--){var C=(0|this.words[P])+67108864*S;this.words[P]=C/v|0,S=C%v}return this._strip(),M?this.ineg():this},D.prototype.divn=function(v){return this.clone().idivn(v)},D.prototype.egcd=function(v){ht(0===v.negative),ht(!v.isZero());var M=this,S=v.clone();M=0!==M.negative?M.umod(v):M.clone();for(var P=new D(1),C=new D(0),d=new D(0),k=new D(1),nt=0;M.isEven()&&S.isEven();)M.iushrn(1),S.iushrn(1),++nt;for(var Q=S.clone(),J=M.clone();!M.isZero();){for(var xt=0,wt=1;0==(M.words[0]&wt)&&xt<26;++xt,wt<<=1);if(xt>0)for(M.iushrn(xt);xt-- >0;)(P.isOdd()||C.isOdd())&&(P.iadd(Q),C.isub(J)),P.iushrn(1),C.iushrn(1);for(var Ft=0,Gt=1;0==(S.words[0]&Gt)&&Ft<26;++Ft,Gt<<=1);if(Ft>0)for(S.iushrn(Ft);Ft-- >0;)(d.isOdd()||k.isOdd())&&(d.iadd(Q),k.isub(J)),d.iushrn(1),k.iushrn(1);M.cmp(S)>=0?(M.isub(S),P.isub(d),C.isub(k)):(S.isub(M),d.isub(P),k.isub(C))}return{a:d,b:k,gcd:S.iushln(nt)}},D.prototype._invmp=function(v){ht(0===v.negative),ht(!v.isZero());var xt,M=this,S=v.clone();M=0!==M.negative?M.umod(v):M.clone();for(var P=new D(1),C=new D(0),d=S.clone();M.cmpn(1)>0&&S.cmpn(1)>0;){for(var k=0,nt=1;0==(M.words[0]&nt)&&k<26;++k,nt<<=1);if(k>0)for(M.iushrn(k);k-- >0;)P.isOdd()&&P.iadd(d),P.iushrn(1);for(var Q=0,J=1;0==(S.words[0]&J)&&Q<26;++Q,J<<=1);if(Q>0)for(S.iushrn(Q);Q-- >0;)C.isOdd()&&C.iadd(d),C.iushrn(1);M.cmp(S)>=0?(M.isub(S),P.isub(C)):(S.isub(M),C.isub(P))}return(xt=0===M.cmpn(1)?P:C).cmpn(0)<0&&xt.iadd(v),xt},D.prototype.gcd=function(v){if(this.isZero())return v.abs();if(v.isZero())return this.abs();var M=this.clone(),S=v.clone();M.negative=0,S.negative=0;for(var P=0;M.isEven()&&S.isEven();P++)M.iushrn(1),S.iushrn(1);for(;;){for(;M.isEven();)M.iushrn(1);for(;S.isEven();)S.iushrn(1);var C=M.cmp(S);if(C<0){var d=M;M=S,S=d}else if(0===C||0===S.cmpn(1))break;M.isub(S)}return S.iushln(P)},D.prototype.invm=function(v){return this.egcd(v).a.umod(v)},D.prototype.isEven=function(){return 0==(1&this.words[0])},D.prototype.isOdd=function(){return 1==(1&this.words[0])},D.prototype.andln=function(v){return this.words[0]&v},D.prototype.bincn=function(v){ht("number"==typeof v);var M=v%26,S=(v-M)/26,P=1<<M;if(this.length<=S)return this._expand(S+1),this.words[S]|=P,this;for(var C=P,d=S;0!==C&&d<this.length;d++){var k=0|this.words[d];C=(k+=C)>>>26,this.words[d]=k&=67108863}return 0!==C&&(this.words[d]=C,this.length++),this},D.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},D.prototype.cmpn=function(v){var S,M=v<0;if(0!==this.negative&&!M)return-1;if(0===this.negative&&M)return 1;if(this._strip(),this.length>1)S=1;else{M&&(v=-v),ht(v<=67108863,"Number is too big");var P=0|this.words[0];S=P===v?0:P<v?-1:1}return 0!==this.negative?0|-S:S},D.prototype.cmp=function(v){if(0!==this.negative&&0===v.negative)return-1;if(0===this.negative&&0!==v.negative)return 1;var M=this.ucmp(v);return 0!==this.negative?0|-M:M},D.prototype.ucmp=function(v){if(this.length>v.length)return 1;if(this.length<v.length)return-1;for(var M=0,S=this.length-1;S>=0;S--){var P=0|this.words[S],C=0|v.words[S];if(P!==C){P<C?M=-1:P>C&&(M=1);break}}return M},D.prototype.gtn=function(v){return 1===this.cmpn(v)},D.prototype.gt=function(v){return 1===this.cmp(v)},D.prototype.gten=function(v){return this.cmpn(v)>=0},D.prototype.gte=function(v){return this.cmp(v)>=0},D.prototype.ltn=function(v){return-1===this.cmpn(v)},D.prototype.lt=function(v){return-1===this.cmp(v)},D.prototype.lten=function(v){return this.cmpn(v)<=0},D.prototype.lte=function(v){return this.cmp(v)<=0},D.prototype.eqn=function(v){return 0===this.cmpn(v)},D.prototype.eq=function(v){return 0===this.cmp(v)},D.red=function(v){return new h(v)},D.prototype.toRed=function(v){return ht(!this.red,"Already a number in reduction context"),ht(0===this.negative,"red works only with positives"),v.convertTo(this)._forceRed(v)},D.prototype.fromRed=function(){return ht(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},D.prototype._forceRed=function(v){return this.red=v,this},D.prototype.forceRed=function(v){return ht(!this.red,"Already a number in reduction context"),this._forceRed(v)},D.prototype.redAdd=function(v){return ht(this.red,"redAdd works only with red numbers"),this.red.add(this,v)},D.prototype.redIAdd=function(v){return ht(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,v)},D.prototype.redSub=function(v){return ht(this.red,"redSub works only with red numbers"),this.red.sub(this,v)},D.prototype.redISub=function(v){return ht(this.red,"redISub works only with red numbers"),this.red.isub(this,v)},D.prototype.redShl=function(v){return ht(this.red,"redShl works only with red numbers"),this.red.shl(this,v)},D.prototype.redMul=function(v){return ht(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.mul(this,v)},D.prototype.redIMul=function(v){return ht(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.imul(this,v)},D.prototype.redSqr=function(){return ht(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},D.prototype.redISqr=function(){return ht(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},D.prototype.redSqrt=function(){return ht(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},D.prototype.redInvm=function(){return ht(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},D.prototype.redNeg=function(){return ht(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},D.prototype.redPow=function(v){return ht(this.red&&!v.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,v)};var mt={k256:null,p224:null,p192:null,p25519:null};function gt(y,v){this.name=y,this.p=new D(v,16),this.n=this.p.bitLength(),this.k=new D(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function Et(){gt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function Dt(){gt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function Mt(){gt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function T(){gt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function h(y){if("string"==typeof y){var v=D._prime(y);this.m=v.p,this.prime=v}else ht(y.gtn(1),"modulus must be greater than 1"),this.m=y,this.prime=null}function m(y){h.call(this,y),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new D(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}gt.prototype._tmp=function(){var v=new D(null);return v.words=new Array(Math.ceil(this.n/13)),v},gt.prototype.ireduce=function(v){var S,M=v;do{this.split(M,this.tmp),S=(M=(M=this.imulK(M)).iadd(this.tmp)).bitLength()}while(S>this.n);var P=S<this.n?-1:M.ucmp(this.p);return 0===P?(M.words[0]=0,M.length=1):P>0?M.isub(this.p):void 0!==M.strip?M.strip():M._strip(),M},gt.prototype.split=function(v,M){v.iushrn(this.n,0,M)},gt.prototype.imulK=function(v){return v.imul(this.k)},ct(Et,gt),Et.prototype.split=function(v,M){for(var S=4194303,P=Math.min(v.length,9),C=0;C<P;C++)M.words[C]=v.words[C];if(M.length=P,v.length<=9)return v.words[0]=0,void(v.length=1);var d=v.words[9];for(M.words[M.length++]=d&S,C=10;C<v.length;C++){var k=0|v.words[C];v.words[C-10]=(k&S)<<4|d>>>22,d=k}v.words[C-10]=d>>>=22,v.length-=0===d&&v.length>10?10:9},Et.prototype.imulK=function(v){v.words[v.length]=0,v.words[v.length+1]=0,v.length+=2;for(var M=0,S=0;S<v.length;S++){var P=0|v.words[S];v.words[S]=67108863&(M+=977*P),M=64*P+(M/67108864|0)}return 0===v.words[v.length-1]&&(v.length--,0===v.words[v.length-1]&&v.length--),v},ct(Dt,gt),ct(Mt,gt),ct(T,gt),T.prototype.imulK=function(v){for(var M=0,S=0;S<v.length;S++){var P=19*(0|v.words[S])+M,C=67108863&P;P>>>=26,v.words[S]=C,M=P}return 0!==M&&(v.words[v.length++]=M),v},D._prime=function(v){if(mt[v])return mt[v];var M;if("k256"===v)M=new Et;else if("p224"===v)M=new Dt;else if("p192"===v)M=new Mt;else{if("p25519"!==v)throw new Error("Unknown prime "+v);M=new T}return mt[v]=M,M},h.prototype._verify1=function(v){ht(0===v.negative,"red works only with positives"),ht(v.red,"red works only with red numbers")},h.prototype._verify2=function(v,M){ht(0==(v.negative|M.negative),"red works only with positives"),ht(v.red&&v.red===M.red,"red works only with red numbers")},h.prototype.imod=function(v){return this.prime?this.prime.ireduce(v)._forceRed(this):(W(v,v.umod(this.m)._forceRed(this)),v)},h.prototype.neg=function(v){return v.isZero()?v.clone():this.m.sub(v)._forceRed(this)},h.prototype.add=function(v,M){this._verify2(v,M);var S=v.add(M);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},h.prototype.iadd=function(v,M){this._verify2(v,M);var S=v.iadd(M);return S.cmp(this.m)>=0&&S.isub(this.m),S},h.prototype.sub=function(v,M){this._verify2(v,M);var S=v.sub(M);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},h.prototype.isub=function(v,M){this._verify2(v,M);var S=v.isub(M);return S.cmpn(0)<0&&S.iadd(this.m),S},h.prototype.shl=function(v,M){return this._verify1(v),this.imod(v.ushln(M))},h.prototype.imul=function(v,M){return this._verify2(v,M),this.imod(v.imul(M))},h.prototype.mul=function(v,M){return this._verify2(v,M),this.imod(v.mul(M))},h.prototype.isqr=function(v){return this.imul(v,v.clone())},h.prototype.sqr=function(v){return this.mul(v,v)},h.prototype.sqrt=function(v){if(v.isZero())return v.clone();var M=this.m.andln(3);if(ht(M%2==1),3===M){var S=this.m.add(new D(1)).iushrn(2);return this.pow(v,S)}for(var P=this.m.subn(1),C=0;!P.isZero()&&0===P.andln(1);)C++,P.iushrn(1);ht(!P.isZero());var d=new D(1).toRed(this),k=d.redNeg(),nt=this.m.subn(1).iushrn(1),Q=this.m.bitLength();for(Q=new D(2*Q*Q).toRed(this);0!==this.pow(Q,nt).cmp(k);)Q.redIAdd(k);for(var J=this.pow(Q,P),xt=this.pow(v,P.addn(1).iushrn(1)),wt=this.pow(v,P),Ft=C;0!==wt.cmp(d);){for(var Gt=wt,It=0;0!==Gt.cmp(d);It++)Gt=Gt.redSqr();ht(It<Ft);var _t=this.pow(J,new D(1).iushln(Ft-It-1));xt=xt.redMul(_t),J=_t.redSqr(),wt=wt.redMul(J),Ft=It}return xt},h.prototype.invm=function(v){var M=v._invmp(this.m);return 0!==M.negative?(M.negative=0,this.imod(M).redNeg()):this.imod(M)},h.prototype.pow=function(v,M){if(M.isZero())return new D(1).toRed(this);if(0===M.cmpn(1))return v.clone();var P=new Array(16);P[0]=new D(1).toRed(this),P[1]=v;for(var C=2;C<P.length;C++)P[C]=this.mul(P[C-1],v);var d=P[0],k=0,nt=0,Q=M.bitLength()%26;for(0===Q&&(Q=26),C=M.length-1;C>=0;C--){for(var J=M.words[C],xt=Q-1;xt>=0;xt--){var wt=J>>xt&1;d!==P[0]&&(d=this.sqr(d)),0!==wt||0!==k?(k<<=1,k|=wt,(4==++nt||0===C&&0===xt)&&(d=this.mul(d,P[k]),nt=0,k=0)):nt=0}Q=26}return d},h.prototype.convertTo=function(v){var M=v.umod(this.m);return M===v?M.clone():M},h.prototype.convertFrom=function(v){var M=v.clone();return M.red=null,M},D.mont=function(v){return new m(v)},ct(m,h),m.prototype.convertTo=function(v){return this.imod(v.ushln(this.shift))},m.prototype.convertFrom=function(v){var M=this.imod(v.mul(this.rinv));return M.red=null,M},m.prototype.imul=function(v,M){if(v.isZero()||M.isZero())return v.words[0]=0,v.length=1,v;var S=v.imul(M),P=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=S.isub(P).iushrn(this.shift),d=C;return C.cmp(this.m)>=0?d=C.isub(this.m):C.cmpn(0)<0&&(d=C.iadd(this.m)),d._forceRed(this)},m.prototype.mul=function(v,M){if(v.isZero()||M.isZero())return new D(0)._forceRed(this);var S=v.mul(M),P=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=S.isub(P).iushrn(this.shift),d=C;return C.cmp(this.m)>=0?d=C.isub(this.m):C.cmpn(0)<0&&(d=C.iadd(this.m)),d._forceRed(this)},m.prototype.invm=function(v){return this.imod(v._invmp(this.m).mul(this.r2))._forceRed(this)}}(fe=kt.nmd(fe),this)},3550:(fe,ot,kt)=>{var Tt;function Pt(ct){this.rand=ct}if(fe.exports=function(D){return Tt||(Tt=new Pt(null)),Tt.generate(D)},fe.exports.Rand=Pt,Pt.prototype.generate=function(D){return this._rand(D)},Pt.prototype._rand=function(D){if(this.rand.getBytes)return this.rand.getBytes(D);for(var $=new Uint8Array(D),X=0;X<$.length;X++)$[X]=this.rand.getByte();return $},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?Pt.prototype._rand=function(D){var $=new Uint8Array(D);return self.crypto.getRandomValues($),$}:self.msCrypto&&self.msCrypto.getRandomValues?Pt.prototype._rand=function(D){var $=new Uint8Array(D);return self.msCrypto.getRandomValues($),$}:"object"==typeof window&&(Pt.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var ht=kt(7702);if("function"!=typeof ht.randomBytes)throw new Error("Not supported");Pt.prototype._rand=function(D){return ht.randomBytes(D)}}catch(ct){}},8541:(fe,ot,kt)=>{var Tt=kt(4615).Buffer;function Pt(it){Tt.isBuffer(it)||(it=Tt.from(it));for(var K=it.length/4|0,W=new Array(K),j=0;j<K;j++)W[j]=it.readUInt32BE(4*j);return W}function ht(it){for(;0<it.length;it++)it[0]=0}function ct(it,K,W,j,tt){for(var rt,mt,gt,Et,N=W[0],U=W[1],z=W[2],Y=W[3],q=it[0]^K[0],V=it[1]^K[1],Z=it[2]^K[2],et=it[3]^K[3],Dt=4,Mt=1;Mt<tt;Mt++)rt=N[q>>>24]^U[V>>>16&255]^z[Z>>>8&255]^Y[255&et]^K[Dt++],mt=N[V>>>24]^U[Z>>>16&255]^z[et>>>8&255]^Y[255&q]^K[Dt++],gt=N[Z>>>24]^U[et>>>16&255]^z[q>>>8&255]^Y[255&V]^K[Dt++],Et=N[et>>>24]^U[q>>>16&255]^z[V>>>8&255]^Y[255&Z]^K[Dt++],q=rt,V=mt,Z=gt,et=Et;return rt=(j[q>>>24]<<24|j[V>>>16&255]<<16|j[Z>>>8&255]<<8|j[255&et])^K[Dt++],mt=(j[V>>>24]<<24|j[Z>>>16&255]<<16|j[et>>>8&255]<<8|j[255&q])^K[Dt++],gt=(j[Z>>>24]<<24|j[et>>>16&255]<<16|j[q>>>8&255]<<8|j[255&V])^K[Dt++],Et=(j[et>>>24]<<24|j[q>>>16&255]<<16|j[V>>>8&255]<<8|j[255&Z])^K[Dt++],[rt>>>=0,mt>>>=0,gt>>>=0,Et>>>=0]}var D=[0,1,2,4,8,16,32,64,128,27,54],$=function(){for(var it=new Array(256),K=0;K<256;K++)it[K]=K<128?K<<1:K<<1^283;for(var W=[],j=[],tt=[[],[],[],[]],N=[[],[],[],[]],U=0,z=0,Y=0;Y<256;++Y){var q=z^z<<1^z<<2^z<<3^z<<4;W[U]=q=q>>>8^255&q^99,j[q]=U;var V=it[U],Z=it[V],et=it[Z],rt=257*it[q]^16843008*q;tt[0][U]=rt<<24|rt>>>8,tt[1][U]=rt<<16|rt>>>16,tt[2][U]=rt<<8|rt>>>24,tt[3][U]=rt,N[0][q]=(rt=16843009*et^65537*Z^257*V^16843008*U)<<24|rt>>>8,N[1][q]=rt<<16|rt>>>16,N[2][q]=rt<<8|rt>>>24,N[3][q]=rt,0===U?U=z=1:(U=V^it[it[it[et^V]]],z^=it[it[z]])}return{SBOX:W,INV_SBOX:j,SUB_MIX:tt,INV_SUB_MIX:N}}();function X(it){this._key=Pt(it),this._reset()}X.blockSize=16,X.keySize=32,X.prototype.blockSize=X.blockSize,X.prototype.keySize=X.keySize,X.prototype._reset=function(){for(var it=this._key,K=it.length,W=K+6,j=4*(W+1),tt=[],N=0;N<K;N++)tt[N]=it[N];for(N=K;N<j;N++){var U=tt[N-1];N%K==0?(U=$.SBOX[(U=U<<8|U>>>24)>>>24]<<24|$.SBOX[U>>>16&255]<<16|$.SBOX[U>>>8&255]<<8|$.SBOX[255&U],U^=D[N/K|0]<<24):K>6&&N%K==4&&(U=$.SBOX[U>>>24]<<24|$.SBOX[U>>>16&255]<<16|$.SBOX[U>>>8&255]<<8|$.SBOX[255&U]),tt[N]=tt[N-K]^U}for(var z=[],Y=0;Y<j;Y++){var q=j-Y,V=tt[q-(Y%4?0:4)];z[Y]=Y<4||q<=4?V:$.INV_SUB_MIX[0][$.SBOX[V>>>24]]^$.INV_SUB_MIX[1][$.SBOX[V>>>16&255]]^$.INV_SUB_MIX[2][$.SBOX[V>>>8&255]]^$.INV_SUB_MIX[3][$.SBOX[255&V]]}this._nRounds=W,this._keySchedule=tt,this._invKeySchedule=z},X.prototype.encryptBlockRaw=function(it){return ct(it=Pt(it),this._keySchedule,$.SUB_MIX,$.SBOX,this._nRounds)},X.prototype.encryptBlock=function(it){var K=this.encryptBlockRaw(it),W=Tt.allocUnsafe(16);return W.writeUInt32BE(K[0],0),W.writeUInt32BE(K[1],4),W.writeUInt32BE(K[2],8),W.writeUInt32BE(K[3],12),W},X.prototype.decryptBlock=function(it){var K=(it=Pt(it))[1];it[1]=it[3],it[3]=K;var W=ct(it,this._invKeySchedule,$.INV_SUB_MIX,$.INV_SBOX,this._nRounds),j=Tt.allocUnsafe(16);return j.writeUInt32BE(W[0],0),j.writeUInt32BE(W[3],4),j.writeUInt32BE(W[2],8),j.writeUInt32BE(W[1],12),j},X.prototype.scrub=function(){ht(this._keySchedule),ht(this._invKeySchedule),ht(this._key)},fe.exports.AES=X},1707:(fe,ot,kt)=>{var Tt=kt(8541),Pt=kt(4615).Buffer,ht=kt(8672),ct=kt(3516),D=kt(3727),$=kt(2818),X=kt(9636);function W(j,tt,N,U){ht.call(this);var z=Pt.alloc(4,0);this._cipher=new Tt.AES(tt);var Y=this._cipher.encryptBlock(z);this._ghash=new D(Y),N=function(j,tt,N){if(12===tt.length)return j._finID=Pt.concat([tt,Pt.from([0,0,0,1])]),Pt.concat([tt,Pt.from([0,0,0,2])]);var U=new D(N),z=tt.length,Y=z%16;U.update(tt),Y&&U.update(Pt.alloc(Y=16-Y,0)),U.update(Pt.alloc(8,0));var q=8*z,V=Pt.alloc(8);V.writeUIntBE(q,0,8),U.update(V),j._finID=U.state;var Z=Pt.from(j._finID);return X(Z),Z}(this,N,Y),this._prev=Pt.from(N),this._cache=Pt.allocUnsafe(0),this._secCache=Pt.allocUnsafe(0),this._decrypt=U,this._alen=0,this._len=0,this._mode=j,this._authTag=null,this._called=!1}ct(W,ht),W.prototype._update=function(j){if(!this._called&&this._alen){var tt=16-this._alen%16;tt<16&&(tt=Pt.alloc(tt,0),this._ghash.update(tt))}this._called=!0;var N=this._mode.encrypt(this,j);return this._ghash.update(this._decrypt?j:N),this._len+=j.length,N},W.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var j=$(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(j,tt){var N=0;j.length!==tt.length&&N++;for(var U=Math.min(j.length,tt.length),z=0;z<U;++z)N+=j[z]^tt[z];return N}(j,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=j,this._cipher.scrub()},W.prototype.getAuthTag=function(){if(this._decrypt||!Pt.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},W.prototype.setAuthTag=function(tt){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=tt},W.prototype.setAAD=function(tt){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(tt),this._alen+=tt.length},fe.exports=W},8809:(fe,ot,kt)=>{var Tt=kt(11),Pt=kt(3441),ht=kt(4946);ot.createCipher=ot.Cipher=Tt.createCipher,ot.createCipheriv=ot.Cipheriv=Tt.createCipheriv,ot.createDecipher=ot.Decipher=Pt.createDecipher,ot.createDecipheriv=ot.Decipheriv=Pt.createDecipheriv,ot.listCiphers=ot.getCiphers=function(){return Object.keys(ht)}},3441:(fe,ot,kt)=>{var Tt=kt(1707),Pt=kt(4615).Buffer,ht=kt(4470),ct=kt(7217),D=kt(8672),$=kt(8541),X=kt(4539);function K(U,z,Y){D.call(this),this._cache=new W,this._last=void 0,this._cipher=new $.AES(z),this._prev=Pt.from(Y),this._mode=U,this._autopadding=!0}function W(){this.cache=Pt.allocUnsafe(0)}function tt(U,z,Y){var q=ht[U.toLowerCase()];if(!q)throw new TypeError("invalid suite type");if("string"==typeof Y&&(Y=Pt.from(Y)),"GCM"!==q.mode&&Y.length!==q.iv)throw new TypeError("invalid iv length "+Y.length);if("string"==typeof z&&(z=Pt.from(z)),z.length!==q.key/8)throw new TypeError("invalid key length "+z.length);return"stream"===q.type?new ct(q.module,z,Y,!0):"auth"===q.type?new Tt(q.module,z,Y,!0):new K(q.module,z,Y)}kt(3516)(K,D),K.prototype._update=function(U){this._cache.add(U);for(var z,Y,q=[];z=this._cache.get(this._autopadding);)Y=this._mode.decrypt(this,z),q.push(Y);return Pt.concat(q)},K.prototype._final=function(){var U=this._cache.flush();if(this._autopadding)return function(U){var z=U[15];if(z<1||z>16)throw new Error("unable to decrypt data");for(var Y=-1;++Y<z;)if(U[Y+(16-z)]!==z)throw new Error("unable to decrypt data");if(16!==z)return U.slice(0,16-z)}(this._mode.decrypt(this,U));if(U)throw new Error("data not multiple of block length")},K.prototype.setAutoPadding=function(U){return this._autopadding=!!U,this},W.prototype.add=function(U){this.cache=Pt.concat([this.cache,U])},W.prototype.get=function(U){var z;if(U){if(this.cache.length>16)return z=this.cache.slice(0,16),this.cache=this.cache.slice(16),z}else if(this.cache.length>=16)return z=this.cache.slice(0,16),this.cache=this.cache.slice(16),z;return null},W.prototype.flush=function(){if(this.cache.length)return this.cache},ot.createDecipher=function(U,z){var Y=ht[U.toLowerCase()];if(!Y)throw new TypeError("invalid suite type");var q=X(z,!1,Y.key,Y.iv);return tt(U,q.key,q.iv)},ot.createDecipheriv=tt},11:(fe,ot,kt)=>{var Tt=kt(4470),Pt=kt(1707),ht=kt(4615).Buffer,ct=kt(7217),D=kt(8672),$=kt(8541),X=kt(4539);function K(U,z,Y){D.call(this),this._cache=new j,this._cipher=new $.AES(z),this._prev=ht.from(Y),this._mode=U,this._autopadding=!0}kt(3516)(K,D),K.prototype._update=function(U){this._cache.add(U);for(var z,Y,q=[];z=this._cache.get();)Y=this._mode.encrypt(this,z),q.push(Y);return ht.concat(q)};var W=ht.alloc(16,16);function j(){this.cache=ht.allocUnsafe(0)}function tt(U,z,Y){var q=Tt[U.toLowerCase()];if(!q)throw new TypeError("invalid suite type");if("string"==typeof z&&(z=ht.from(z)),z.length!==q.key/8)throw new TypeError("invalid key length "+z.length);if("string"==typeof Y&&(Y=ht.from(Y)),"GCM"!==q.mode&&Y.length!==q.iv)throw new TypeError("invalid iv length "+Y.length);return"stream"===q.type?new ct(q.module,z,Y):"auth"===q.type?new Pt(q.module,z,Y):new K(q.module,z,Y)}K.prototype._final=function(){var U=this._cache.flush();if(this._autopadding)return U=this._mode.encrypt(this,U),this._cipher.scrub(),U;if(!U.equals(W))throw this._cipher.scrub(),new Error("data not multiple of block length")},K.prototype.setAutoPadding=function(U){return this._autopadding=!!U,this},j.prototype.add=function(U){this.cache=ht.concat([this.cache,U])},j.prototype.get=function(){if(this.cache.length>15){var U=this.cache.slice(0,16);return this.cache=this.cache.slice(16),U}return null},j.prototype.flush=function(){for(var U=16-this.cache.length,z=ht.allocUnsafe(U),Y=-1;++Y<U;)z.writeUInt8(U,Y);return ht.concat([this.cache,z])},ot.createCipheriv=tt,ot.createCipher=function(U,z){var Y=Tt[U.toLowerCase()];if(!Y)throw new TypeError("invalid suite type");var q=X(z,!1,Y.key,Y.iv);return tt(U,q.key,q.iv)}},3727:(fe,ot,kt)=>{var Tt=kt(4615).Buffer,Pt=Tt.alloc(16,0);function ct($){var X=Tt.allocUnsafe(16);return X.writeUInt32BE($[0]>>>0,0),X.writeUInt32BE($[1]>>>0,4),X.writeUInt32BE($[2]>>>0,8),X.writeUInt32BE($[3]>>>0,12),X}function D($){this.h=$,this.state=Tt.alloc(16,0),this.cache=Tt.allocUnsafe(0)}D.prototype.ghash=function($){for(var X=-1;++X<$.length;)this.state[X]^=$[X];this._multiply()},D.prototype._multiply=function(){for(var it,W,$=function($){return[$.readUInt32BE(0),$.readUInt32BE(4),$.readUInt32BE(8),$.readUInt32BE(12)]}(this.h),X=[0,0,0,0],j=-1;++j<128;){for(0!=(this.state[~~(j/8)]&1<<7-j%8)&&(X[0]^=$[0],X[1]^=$[1],X[2]^=$[2],X[3]^=$[3]),W=0!=(1&$[3]),it=3;it>0;it--)$[it]=$[it]>>>1|(1&$[it-1])<<31;$[0]=$[0]>>>1,W&&($[0]=$[0]^225<<24)}this.state=ct(X)},D.prototype.update=function($){this.cache=Tt.concat([this.cache,$]);for(var X;this.cache.length>=16;)X=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(X)},D.prototype.final=function($,X){return this.cache.length&&this.ghash(Tt.concat([this.cache,Pt],16)),this.ghash(ct([0,$,0,X])),this.state},fe.exports=D},9636:fe=>{fe.exports=function(kt){for(var Pt,Tt=kt.length;Tt--;){if(255!==(Pt=kt.readUInt8(Tt))){Pt++,kt.writeUInt8(Pt,Tt);break}kt.writeUInt8(0,Tt)}}},2642:(fe,ot,kt)=>{var Tt=kt(2818);ot.encrypt=function(Pt,ht){var ct=Tt(ht,Pt._prev);return Pt._prev=Pt._cipher.encryptBlock(ct),Pt._prev},ot.decrypt=function(Pt,ht){var ct=Pt._prev;Pt._prev=ht;var D=Pt._cipher.decryptBlock(ht);return Tt(D,ct)}},7925:(fe,ot,kt)=>{var Tt=kt(4615).Buffer,Pt=kt(2818);function ht(ct,D,$){var X=D.length,it=Pt(D,ct._cache);return ct._cache=ct._cache.slice(X),ct._prev=Tt.concat([ct._prev,$?D:it]),it}ot.encrypt=function(ct,D,$){for(var it,X=Tt.allocUnsafe(0);D.length;){if(0===ct._cache.length&&(ct._cache=ct._cipher.encryptBlock(ct._prev),ct._prev=Tt.allocUnsafe(0)),!(ct._cache.length<=D.length)){X=Tt.concat([X,ht(ct,D,$)]);break}X=Tt.concat([X,ht(ct,D.slice(0,it=ct._cache.length),$)]),D=D.slice(it)}return X}},1866:(fe,ot,kt)=>{var Tt=kt(4615).Buffer;function Pt(ct,D,$){for(var j,tt,it=-1,W=0;++it<8;)W+=(128&(tt=ct._cipher.encryptBlock(ct._prev)[0]^(j=D&1<<7-it?128:0)))>>it%8,ct._prev=ht(ct._prev,$?j:tt);return W}function ht(ct,D){var $=ct.length,X=-1,it=Tt.allocUnsafe(ct.length);for(ct=Tt.concat([ct,Tt.from([D])]);++X<$;)it[X]=ct[X]<<1|ct[X+1]>>7;return it}ot.encrypt=function(ct,D,$){for(var X=D.length,it=Tt.allocUnsafe(X),K=-1;++K<X;)it[K]=Pt(ct,D[K],$);return it}},2374:(fe,ot,kt)=>{var Tt=kt(4615).Buffer;function Pt(ht,ct,D){var X=ht._cipher.encryptBlock(ht._prev)[0]^ct;return ht._prev=Tt.concat([ht._prev.slice(1),Tt.from([D?ct:X])]),X}ot.encrypt=function(ht,ct,D){for(var $=ct.length,X=Tt.allocUnsafe($),it=-1;++it<$;)X[it]=Pt(ht,ct[it],D);return X}},3971:(fe,ot,kt)=>{var Tt=kt(2818),Pt=kt(4615).Buffer,ht=kt(9636);function ct($){var X=$._cipher.encryptBlockRaw($._prev);return ht($._prev),X}ot.encrypt=function($,X){var it=Math.ceil(X.length/16),K=$._cache.length;$._cache=Pt.concat([$._cache,Pt.allocUnsafe(16*it)]);for(var W=0;W<it;W++){var j=ct($),tt=K+16*W;$._cache.writeUInt32BE(j[0],tt+0),$._cache.writeUInt32BE(j[1],tt+4),$._cache.writeUInt32BE(j[2],tt+8),$._cache.writeUInt32BE(j[3],tt+12)}var N=$._cache.slice(0,X.length);return $._cache=$._cache.slice(X.length),Tt(X,N)}},5321:(fe,ot)=>{ot.encrypt=function(kt,Tt){return kt._cipher.encryptBlock(Tt)},ot.decrypt=function(kt,Tt){return kt._cipher.decryptBlock(Tt)}},4470:(fe,ot,kt)=>{var Tt={ECB:kt(5321),CBC:kt(2642),CFB:kt(7925),CFB8:kt(2374),CFB1:kt(1866),OFB:kt(7633),CTR:kt(3971),GCM:kt(3971)},Pt=kt(4946);for(var ht in Pt)Pt[ht].module=Tt[Pt[ht].mode];fe.exports=Pt},7633:(fe,ot,kt)=>{var Tt=kt(2818);function Pt(ht){return ht._prev=ht._cipher.encryptBlock(ht._prev),ht._prev}ot.encrypt=function(ht,ct){for(;ht._cache.length<ct.length;)ht._cache=Buffer.concat([ht._cache,Pt(ht)]);var D=ht._cache.slice(0,ct.length);return ht._cache=ht._cache.slice(ct.length),Tt(ct,D)}},7217:(fe,ot,kt)=>{var Tt=kt(8541),Pt=kt(4615).Buffer,ht=kt(8672);function D($,X,it,K){ht.call(this),this._cipher=new Tt.AES(X),this._prev=Pt.from(it),this._cache=Pt.allocUnsafe(0),this._secCache=Pt.allocUnsafe(0),this._decrypt=K,this._mode=$}kt(3516)(D,ht),D.prototype._update=function($){return this._mode.encrypt(this,$,this._decrypt)},D.prototype._final=function(){this._cipher.scrub()},fe.exports=D},5828:(fe,ot,kt)=>{var Tt=kt(4848),Pt=kt(8809),ht=kt(4470),ct=kt(1580),D=kt(4539);function it(j,tt,N){if(j=j.toLowerCase(),ht[j])return Pt.createCipheriv(j,tt,N);if(ct[j])return new Tt({key:tt,iv:N,mode:j});throw new TypeError("invalid suite type")}function K(j,tt,N){if(j=j.toLowerCase(),ht[j])return Pt.createDecipheriv(j,tt,N);if(ct[j])return new Tt({key:tt,iv:N,mode:j,decrypt:!0});throw new TypeError("invalid suite type")}ot.createCipher=ot.Cipher=function(j,tt){var N,U;if(j=j.toLowerCase(),ht[j])N=ht[j].key,U=ht[j].iv;else{if(!ct[j])throw new TypeError("invalid suite type");N=8*ct[j].key,U=ct[j].iv}var z=D(tt,!1,N,U);return it(j,z.key,z.iv)},ot.createCipheriv=ot.Cipheriv=it,ot.createDecipher=ot.Decipher=function(j,tt){var N,U;if(j=j.toLowerCase(),ht[j])N=ht[j].key,U=ht[j].iv;else{if(!ct[j])throw new TypeError("invalid suite type");N=8*ct[j].key,U=ct[j].iv}var z=D(tt,!1,N,U);return K(j,z.key,z.iv)},ot.createDecipheriv=ot.Decipheriv=K,ot.listCiphers=ot.getCiphers=function(){return Object.keys(ct).concat(Pt.getCiphers())}},4848:(fe,ot,kt)=>{var Tt=kt(8672),Pt=kt(1511),ht=kt(3516),ct=kt(4615).Buffer,D={"des-ede3-cbc":Pt.CBC.instantiate(Pt.EDE),"des-ede3":Pt.EDE,"des-ede-cbc":Pt.CBC.instantiate(Pt.EDE),"des-ede":Pt.EDE,"des-cbc":Pt.CBC.instantiate(Pt.DES),"des-ecb":Pt.DES};function $(X){Tt.call(this);var W,it=X.mode.toLowerCase(),K=D[it];W=X.decrypt?"decrypt":"encrypt";var j=X.key;ct.isBuffer(j)||(j=ct.from(j)),("des-ede"===it||"des-ede-cbc"===it)&&(j=ct.concat([j,j.slice(0,8)]));var tt=X.iv;ct.isBuffer(tt)||(tt=ct.from(tt)),this._des=K.create({key:j,iv:tt,type:W})}D.des=D["des-cbc"],D.des3=D["des-ede3-cbc"],fe.exports=$,ht($,Tt),$.prototype._update=function(X){return ct.from(this._des.update(X))},$.prototype._final=function(){return ct.from(this._des.final())}},1580:(fe,ot)=>{ot["des-ecb"]={key:8,iv:0},ot["des-cbc"]=ot.des={key:8,iv:8},ot["des-ede3-cbc"]=ot.des3={key:24,iv:8},ot["des-ede3"]={key:24,iv:0},ot["des-ede-cbc"]={key:16,iv:8},ot["des-ede"]={key:16,iv:0}},5269:(fe,ot,kt)=>{var Tt=kt(2963),Pt=kt(8747);function ct($){var it,X=$.modulus.byteLength();do{it=new Tt(Pt(X))}while(it.cmp($.modulus)>=0||!it.umod($.prime1)||!it.umod($.prime2));return it}function D($,X){var it=function($){var X=ct($);return{blinder:X.toRed(Tt.mont($.modulus)).redPow(new Tt($.publicExponent)).fromRed(),unblinder:X.invm($.modulus)}}(X),K=X.modulus.byteLength(),W=new Tt($).mul(it.blinder).umod(X.modulus),j=W.toRed(Tt.mont(X.prime1)),tt=W.toRed(Tt.mont(X.prime2)),N=X.coefficient,U=X.prime1,z=X.prime2,Y=j.redPow(X.exponent1).fromRed(),q=tt.redPow(X.exponent2).fromRed(),V=Y.isub(q).imul(N).umod(U).imul(z);return q.iadd(V).imul(it.unblinder).umod(X.modulus).toArrayLike(Buffer,"be",K)}D.getr=ct,fe.exports=D},6850:(fe,ot,kt)=>{fe.exports=kt(5207)},5822:(fe,ot,kt)=>{var Tt=kt(8190).Buffer,Pt=kt(4979),ht=kt(8792),ct=kt(3516),D=kt(8279),$=kt(3709),X=kt(5207);function it(tt){ht.Writable.call(this);var N=X[tt];if(!N)throw new Error("Unknown message digest");this._hashType=N.hash,this._hash=Pt(N.hash),this._tag=N.id,this._signType=N.sign}function K(tt){ht.Writable.call(this);var N=X[tt];if(!N)throw new Error("Unknown message digest");this._hash=Pt(N.hash),this._tag=N.id,this._signType=N.sign}function W(tt){return new it(tt)}function j(tt){return new K(tt)}Object.keys(X).forEach(function(tt){X[tt].id=Tt.from(X[tt].id,"hex"),X[tt.toLowerCase()]=X[tt]}),ct(it,ht.Writable),it.prototype._write=function(N,U,z){this._hash.update(N),z()},it.prototype.update=function(N,U){return"string"==typeof N&&(N=Tt.from(N,U)),this._hash.update(N),this},it.prototype.sign=function(N,U){this.end();var z=this._hash.digest(),Y=D(z,N,this._hashType,this._signType,this._tag);return U?Y.toString(U):Y},ct(K,ht.Writable),K.prototype._write=function(N,U,z){this._hash.update(N),z()},K.prototype.update=function(N,U){return"string"==typeof N&&(N=Tt.from(N,U)),this._hash.update(N),this},K.prototype.verify=function(N,U,z){"string"==typeof U&&(U=Tt.from(U,z)),this.end();var Y=this._hash.digest();return $(U,Y,N,this._signType,this._tag)},fe.exports={Sign:W,Verify:j,createSign:W,createVerify:j}},8279:(fe,ot,kt)=>{var Tt=kt(8190).Buffer,Pt=kt(3927),ht=kt(5269),ct=kt(3059).ec,D=kt(2963),$=kt(347),X=kt(1308);function tt(q,V,Z,et){if((q=Tt.from(q.toArray())).length<V.byteLength()){var rt=Tt.alloc(V.byteLength()-q.length);q=Tt.concat([rt,q])}var mt=Z.length,gt=function(q,V){q=(q=N(q,V)).mod(V);var Z=Tt.from(q.toArray());if(Z.length<V.byteLength()){var et=Tt.alloc(V.byteLength()-Z.length);Z=Tt.concat([et,Z])}return Z}(Z,V),Et=Tt.alloc(mt);Et.fill(1);var Dt=Tt.alloc(mt);return Dt=Pt(et,Dt).update(Et).update(Tt.from([0])).update(q).update(gt).digest(),Et=Pt(et,Dt).update(Et).digest(),{k:Dt=Pt(et,Dt).update(Et).update(Tt.from([1])).update(q).update(gt).digest(),v:Et=Pt(et,Dt).update(Et).digest()}}function N(q,V){var Z=new D(q),et=(q.length<<3)-V.bitLength();return et>0&&Z.ishrn(et),Z}function z(q,V,Z){var et,rt;do{for(et=Tt.alloc(0);8*et.length<q.bitLength();)V.v=Pt(Z,V.k).update(V.v).digest(),et=Tt.concat([et,V.v]);rt=N(et,q),V.k=Pt(Z,V.k).update(V.v).update(Tt.from([0])).digest(),V.v=Pt(Z,V.k).update(V.v).digest()}while(-1!==rt.cmp(q));return rt}function Y(q,V,Z,et){return q.toRed(D.mont(Z)).redPow(V).fromRed().mod(et)}fe.exports=function(q,V,Z,et,rt){var mt=$(V);if(mt.curve){if("ecdsa"!==et&&"ecdsa/rsa"!==et)throw new Error("wrong private key type");return function(q,V){var Z=X[V.curve.join(".")];if(!Z)throw new Error("unknown curve "+V.curve.join("."));var mt=new ct(Z).keyFromPrivate(V.privateKey).sign(q);return Tt.from(mt.toDER())}(q,mt)}if("dsa"===mt.type){if("dsa"!==et)throw new Error("wrong private key type");return function(q,V,Z){for(var Dt,et=V.params.priv_key,rt=V.params.p,mt=V.params.q,gt=V.params.g,Et=new D(0),Mt=N(q,mt).mod(mt),T=!1,h=tt(et,mt,q,Z);!1===T;)Et=Y(gt,Dt=z(mt,h,Z),rt,mt),0===(T=Dt.invm(mt).imul(Mt.add(et.mul(Et))).mod(mt)).cmpn(0)&&(T=!1,Et=new D(0));return function(q,V){q=q.toArray(),V=V.toArray(),128&q[0]&&(q=[0].concat(q)),128&V[0]&&(V=[0].concat(V));var et=[48,q.length+V.length+4,2,q.length];return et=et.concat(q,[2,V.length],V),Tt.from(et)}(Et,T)}(q,mt,Z)}if("rsa"!==et&&"ecdsa/rsa"!==et)throw new Error("wrong private key type");q=Tt.concat([rt,q]);for(var gt=mt.modulus.byteLength(),Et=[0,1];q.length+Et.length+1<gt;)Et.push(255);Et.push(0);for(var Dt=-1;++Dt<q.length;)Et.push(q[Dt]);return ht(Et,mt)},fe.exports.getKey=tt,fe.exports.makeKey=z},3709:(fe,ot,kt)=>{var Tt=kt(8190).Buffer,Pt=kt(2963),ht=kt(3059).ec,ct=kt(347),D=kt(1308);function K(W,j){if(W.cmpn(0)<=0)throw new Error("invalid sig");if(W.cmp(j)>=j)throw new Error("invalid sig")}fe.exports=function(W,j,tt,N,U){var z=ct(tt);if("ec"===z.type){if("ecdsa"!==N&&"ecdsa/rsa"!==N)throw new Error("wrong public key type");return function(W,j,tt){var N=D[tt.data.algorithm.curve.join(".")];if(!N)throw new Error("unknown curve "+tt.data.algorithm.curve.join("."));return new ht(N).verify(j,W,tt.data.subjectPrivateKey.data)}(W,j,z)}if("dsa"===z.type){if("dsa"!==N)throw new Error("wrong public key type");return function(W,j,tt){var N=tt.data.p,U=tt.data.q,z=tt.data.g,Y=tt.data.pub_key,q=ct.signature.decode(W,"der"),V=q.s,Z=q.r;K(V,U),K(Z,U);var et=Pt.mont(N),rt=V.invm(U);return 0===z.toRed(et).redPow(new Pt(j).mul(rt).mod(U)).fromRed().mul(Y.toRed(et).redPow(Z.mul(rt).mod(U)).fromRed()).mod(N).mod(U).cmp(Z)}(W,j,z)}if("rsa"!==N&&"ecdsa/rsa"!==N)throw new Error("wrong public key type");j=Tt.concat([U,j]);for(var Y=z.modulus.byteLength(),q=[1],V=0;j.length+q.length+2<Y;)q.push(255),V++;q.push(0);for(var Z=-1;++Z<j.length;)q.push(j[Z]);q=Tt.from(q);var et=Pt.mont(z.modulus);W=(W=new Pt(W).toRed(et)).redPow(new Pt(z.publicExponent)),W=Tt.from(W.fromRed().toArray());var rt=V<8?1:0;for(Y=Math.min(W.length,q.length),W.length!==q.length&&(rt=1),Z=-1;++Z<Y;)rt|=W[Z]^q[Z];return 0===rt}},8190:(fe,ot,kt)=>{var Tt=kt(3847),Pt=Tt.Buffer;function ht(D,$){for(var X in D)$[X]=D[X]}function ct(D,$,X){return Pt(D,$,X)}Pt.from&&Pt.alloc&&Pt.allocUnsafe&&Pt.allocUnsafeSlow?fe.exports=Tt:(ht(Tt,ot),ot.Buffer=ct),ct.prototype=Object.create(Pt.prototype),ht(Pt,ct),ct.from=function(D,$,X){if("number"==typeof D)throw new TypeError("Argument must not be a number");return Pt(D,$,X)},ct.alloc=function(D,$,X){if("number"!=typeof D)throw new TypeError("Argument must be a number");var it=Pt(D);return void 0!==$?"string"==typeof X?it.fill($,X):it.fill($):it.fill(0),it},ct.allocUnsafe=function(D){if("number"!=typeof D)throw new TypeError("Argument must be a number");return Pt(D)},ct.allocUnsafeSlow=function(D){if("number"!=typeof D)throw new TypeError("Argument must be a number");return Tt.SlowBuffer(D)}},2818:fe=>{fe.exports=function(kt,Tt){for(var Pt=Math.min(kt.length,Tt.length),ht=new Buffer(Pt),ct=0;ct<Pt;++ct)ht[ct]=kt[ct]^Tt[ct];return ht}},3847:(fe,ot,kt)=>{"use strict";const Tt=kt(6193),Pt=kt(1208),ht="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;ot.Buffer=X,ot.SlowBuffer=function(Nt){return+Nt!=Nt&&(Nt=0),X.alloc(+Nt)},ot.INSPECT_MAX_BYTES=50;const ct=2147483647;function $(Nt){if(Nt>ct)throw new RangeError('The value "'+Nt+'" is invalid for option "size"');const vt=new Uint8Array(Nt);return Object.setPrototypeOf(vt,X.prototype),vt}function X(Nt,vt,at){if("number"==typeof Nt){if("string"==typeof vt)throw new TypeError('The "string" argument must be of type string. Received type number');return j(Nt)}return it(Nt,vt,at)}function it(Nt,vt,at){if("string"==typeof Nt)return function(Nt,vt){if(("string"!=typeof vt||""===vt)&&(vt="utf8"),!X.isEncoding(vt))throw new TypeError("Unknown encoding: "+vt);const at=0|Z(Nt,vt);let qt=$(at);const he=qt.write(Nt,vt);return he!==at&&(qt=qt.slice(0,he)),qt}(Nt,vt);if(ArrayBuffer.isView(Nt))return function(Nt){if(de(Nt,Uint8Array)){const vt=new Uint8Array(Nt);return z(vt.buffer,vt.byteOffset,vt.byteLength)}return N(Nt)}(Nt);if(null==Nt)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Nt);if(de(Nt,ArrayBuffer)||Nt&&de(Nt.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(de(Nt,SharedArrayBuffer)||Nt&&de(Nt.buffer,SharedArrayBuffer)))return z(Nt,vt,at);if("number"==typeof Nt)throw new TypeError('The "value" argument must not be of type number. Received type number');const qt=Nt.valueOf&&Nt.valueOf();if(null!=qt&&qt!==Nt)return X.from(qt,vt,at);const he=function(Nt){if(X.isBuffer(Nt)){const vt=0|q(Nt.length),at=$(vt);return 0===at.length||Nt.copy(at,0,0,vt),at}return void 0!==Nt.length?"number"!=typeof Nt.length||Fe(Nt.length)?$(0):N(Nt):"Buffer"===Nt.type&&Array.isArray(Nt.data)?N(Nt.data):void 0}(Nt);if(he)return he;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof Nt[Symbol.toPrimitive])return X.from(Nt[Symbol.toPrimitive]("string"),vt,at);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Nt)}function K(Nt){if("number"!=typeof Nt)throw new TypeError('"size" argument must be of type number');if(Nt<0)throw new RangeError('The value "'+Nt+'" is invalid for option "size"')}function j(Nt){return K(Nt),$(Nt<0?0:0|q(Nt))}function N(Nt){const vt=Nt.length<0?0:0|q(Nt.length),at=$(vt);for(let qt=0;qt<vt;qt+=1)at[qt]=255&Nt[qt];return at}function z(Nt,vt,at){if(vt<0||Nt.byteLength<vt)throw new RangeError('"offset" is outside of buffer bounds');if(Nt.byteLength<vt+(at||0))throw new RangeError('"length" is outside of buffer bounds');let qt;return qt=void 0===vt&&void 0===at?new Uint8Array(Nt):void 0===at?new Uint8Array(Nt,vt):new Uint8Array(Nt,vt,at),Object.setPrototypeOf(qt,X.prototype),qt}function q(Nt){if(Nt>=ct)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ct.toString(16)+" bytes");return 0|Nt}function Z(Nt,vt){if(X.isBuffer(Nt))return Nt.length;if(ArrayBuffer.isView(Nt)||de(Nt,ArrayBuffer))return Nt.byteLength;if("string"!=typeof Nt)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Nt);const at=Nt.length,qt=arguments.length>2&&!0===arguments[2];if(!qt&&0===at)return 0;let he=!1;for(;;)switch(vt){case"ascii":case"latin1":case"binary":return at;case"utf8":case"utf-8":return Ce(Nt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*at;case"hex":return at>>>1;case"base64":return yi(Nt).length;default:if(he)return qt?-1:Ce(Nt).length;vt=(""+vt).toLowerCase(),he=!0}}function et(Nt,vt,at){let qt=!1;if((void 0===vt||vt<0)&&(vt=0),vt>this.length||((void 0===at||at>this.length)&&(at=this.length),at<=0)||(at>>>=0)<=(vt>>>=0))return"";for(Nt||(Nt="utf8");;)switch(Nt){case"hex":return C(this,vt,at);case"utf8":case"utf-8":return y(this,vt,at);case"ascii":return S(this,vt,at);case"latin1":case"binary":return P(this,vt,at);case"base64":return m(this,vt,at);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d(this,vt,at);default:if(qt)throw new TypeError("Unknown encoding: "+Nt);Nt=(Nt+"").toLowerCase(),qt=!0}}function rt(Nt,vt,at){const qt=Nt[vt];Nt[vt]=Nt[at],Nt[at]=qt}function mt(Nt,vt,at,qt,he){if(0===Nt.length)return-1;if("string"==typeof at?(qt=at,at=0):at>2147483647?at=2147483647:at<-2147483648&&(at=-2147483648),Fe(at=+at)&&(at=he?0:Nt.length-1),at<0&&(at=Nt.length+at),at>=Nt.length){if(he)return-1;at=Nt.length-1}else if(at<0){if(!he)return-1;at=0}if("string"==typeof vt&&(vt=X.from(vt,qt)),X.isBuffer(vt))return 0===vt.length?-1:gt(Nt,vt,at,qt,he);if("number"==typeof vt)return vt&=255,"function"==typeof Uint8Array.prototype.indexOf?he?Uint8Array.prototype.indexOf.call(Nt,vt,at):Uint8Array.prototype.lastIndexOf.call(Nt,vt,at):gt(Nt,[vt],at,qt,he);throw new TypeError("val must be string, number or Buffer")}function gt(Nt,vt,at,qt,he){let ni,Xe=1,ve=Nt.length,Te=vt.length;if(void 0!==qt&&("ucs2"===(qt=String(qt).toLowerCase())||"ucs-2"===qt||"utf16le"===qt||"utf-16le"===qt)){if(Nt.length<2||vt.length<2)return-1;Xe=2,ve/=2,Te/=2,at/=2}function Qi(ei,Ui){return 1===Xe?ei[Ui]:ei.readUInt16BE(Ui*Xe)}if(he){let ei=-1;for(ni=at;ni<ve;ni++)if(Qi(Nt,ni)===Qi(vt,-1===ei?0:ni-ei)){if(-1===ei&&(ei=ni),ni-ei+1===Te)return ei*Xe}else-1!==ei&&(ni-=ni-ei),ei=-1}else for(at+Te>ve&&(at=ve-Te),ni=at;ni>=0;ni--){let ei=!0;for(let Ui=0;Ui<Te;Ui++)if(Qi(Nt,ni+Ui)!==Qi(vt,Ui)){ei=!1;break}if(ei)return ni}return-1}function Et(Nt,vt,at,qt){at=Number(at)||0;const he=Nt.length-at;qt?(qt=Number(qt))>he&&(qt=he):qt=he;const Xe=vt.length;let ve;for(qt>Xe/2&&(qt=Xe/2),ve=0;ve<qt;++ve){const Te=parseInt(vt.substr(2*ve,2),16);if(Fe(Te))return ve;Nt[at+ve]=Te}return ve}function Dt(Nt,vt,at,qt){return we(Ce(vt,Nt.length-at),Nt,at,qt)}function Mt(Nt,vt,at,qt){return we(function(Nt){const vt=[];for(let at=0;at<Nt.length;++at)vt.push(255&Nt.charCodeAt(at));return vt}(vt),Nt,at,qt)}function T(Nt,vt,at,qt){return we(yi(vt),Nt,at,qt)}function h(Nt,vt,at,qt){return we(function(Nt,vt){let at,qt,he;const Xe=[];for(let ve=0;ve<Nt.length&&!((vt-=2)<0);++ve)at=Nt.charCodeAt(ve),qt=at>>8,he=at%256,Xe.push(he),Xe.push(qt);return Xe}(vt,Nt.length-at),Nt,at,qt)}function m(Nt,vt,at){return Tt.fromByteArray(0===vt&&at===Nt.length?Nt:Nt.slice(vt,at))}function y(Nt,vt,at){at=Math.min(Nt.length,at);const qt=[];let he=vt;for(;he<at;){const Xe=Nt[he];let ve=null,Te=Xe>239?4:Xe>223?3:Xe>191?2:1;if(he+Te<=at){let Qi,ni,ei,Ui;switch(Te){case 1:Xe<128&&(ve=Xe);break;case 2:Qi=Nt[he+1],128==(192&Qi)&&(Ui=(31&Xe)<<6|63&Qi,Ui>127&&(ve=Ui));break;case 3:Qi=Nt[he+1],ni=Nt[he+2],128==(192&Qi)&&128==(192&ni)&&(Ui=(15&Xe)<<12|(63&Qi)<<6|63&ni,Ui>2047&&(Ui<55296||Ui>57343)&&(ve=Ui));break;case 4:Qi=Nt[he+1],ni=Nt[he+2],ei=Nt[he+3],128==(192&Qi)&&128==(192&ni)&&128==(192&ei)&&(Ui=(15&Xe)<<18|(63&Qi)<<12|(63&ni)<<6|63&ei,Ui>65535&&Ui<1114112&&(ve=Ui))}}null===ve?(ve=65533,Te=1):ve>65535&&(ve-=65536,qt.push(ve>>>10&1023|55296),ve=56320|1023&ve),qt.push(ve),he+=Te}return function(Nt){const vt=Nt.length;if(vt<=v)return String.fromCharCode.apply(String,Nt);let at="",qt=0;for(;qt<vt;)at+=String.fromCharCode.apply(String,Nt.slice(qt,qt+=v));return at}(qt)}ot.kMaxLength=ct,!(X.TYPED_ARRAY_SUPPORT=function(){try{const Nt=new Uint8Array(1),vt={foo:function(){return 42}};return Object.setPrototypeOf(vt,Uint8Array.prototype),Object.setPrototypeOf(Nt,vt),42===Nt.foo()}catch(Nt){return!1}}())&&"undefined"!=typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(X.prototype,"parent",{enumerable:!0,get:function(){if(X.isBuffer(this))return this.buffer}}),Object.defineProperty(X.prototype,"offset",{enumerable:!0,get:function(){if(X.isBuffer(this))return this.byteOffset}}),X.poolSize=8192,X.from=function(Nt,vt,at){return it(Nt,vt,at)},Object.setPrototypeOf(X.prototype,Uint8Array.prototype),Object.setPrototypeOf(X,Uint8Array),X.alloc=function(Nt,vt,at){return function(Nt,vt,at){return K(Nt),Nt<=0?$(Nt):void 0!==vt?"string"==typeof at?$(Nt).fill(vt,at):$(Nt).fill(vt):$(Nt)}(Nt,vt,at)},X.allocUnsafe=function(Nt){return j(Nt)},X.allocUnsafeSlow=function(Nt){return j(Nt)},X.isBuffer=function(vt){return null!=vt&&!0===vt._isBuffer&&vt!==X.prototype},X.compare=function(vt,at){if(de(vt,Uint8Array)&&(vt=X.from(vt,vt.offset,vt.byteLength)),de(at,Uint8Array)&&(at=X.from(at,at.offset,at.byteLength)),!X.isBuffer(vt)||!X.isBuffer(at))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(vt===at)return 0;let qt=vt.length,he=at.length;for(let Xe=0,ve=Math.min(qt,he);Xe<ve;++Xe)if(vt[Xe]!==at[Xe]){qt=vt[Xe],he=at[Xe];break}return qt<he?-1:he<qt?1:0},X.isEncoding=function(vt){switch(String(vt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},X.concat=function(vt,at){if(!Array.isArray(vt))throw new TypeError('"list" argument must be an Array of Buffers');if(0===vt.length)return X.alloc(0);let qt;if(void 0===at)for(at=0,qt=0;qt<vt.length;++qt)at+=vt[qt].length;const he=X.allocUnsafe(at);let Xe=0;for(qt=0;qt<vt.length;++qt){let ve=vt[qt];if(de(ve,Uint8Array))Xe+ve.length>he.length?(X.isBuffer(ve)||(ve=X.from(ve)),ve.copy(he,Xe)):Uint8Array.prototype.set.call(he,ve,Xe);else{if(!X.isBuffer(ve))throw new TypeError('"list" argument must be an Array of Buffers');ve.copy(he,Xe)}Xe+=ve.length}return he},X.byteLength=Z,X.prototype._isBuffer=!0,X.prototype.swap16=function(){const vt=this.length;if(vt%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let at=0;at<vt;at+=2)rt(this,at,at+1);return this},X.prototype.swap32=function(){const vt=this.length;if(vt%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let at=0;at<vt;at+=4)rt(this,at,at+3),rt(this,at+1,at+2);return this},X.prototype.swap64=function(){const vt=this.length;if(vt%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let at=0;at<vt;at+=8)rt(this,at,at+7),rt(this,at+1,at+6),rt(this,at+2,at+5),rt(this,at+3,at+4);return this},X.prototype.toLocaleString=X.prototype.toString=function(){const vt=this.length;return 0===vt?"":0===arguments.length?y(this,0,vt):et.apply(this,arguments)},X.prototype.equals=function(vt){if(!X.isBuffer(vt))throw new TypeError("Argument must be a Buffer");return this===vt||0===X.compare(this,vt)},X.prototype.inspect=function(){let vt="";const at=ot.INSPECT_MAX_BYTES;return vt=this.toString("hex",0,at).replace(/(.{2})/g,"$1 ").trim(),this.length>at&&(vt+=" ... "),"<Buffer "+vt+">"},ht&&(X.prototype[ht]=X.prototype.inspect),X.prototype.compare=function(vt,at,qt,he,Xe){if(de(vt,Uint8Array)&&(vt=X.from(vt,vt.offset,vt.byteLength)),!X.isBuffer(vt))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof vt);if(void 0===at&&(at=0),void 0===qt&&(qt=vt?vt.length:0),void 0===he&&(he=0),void 0===Xe&&(Xe=this.length),at<0||qt>vt.length||he<0||Xe>this.length)throw new RangeError("out of range index");if(he>=Xe&&at>=qt)return 0;if(he>=Xe)return-1;if(at>=qt)return 1;if(this===vt)return 0;let ve=(Xe>>>=0)-(he>>>=0),Te=(qt>>>=0)-(at>>>=0);const Qi=Math.min(ve,Te),ni=this.slice(he,Xe),ei=vt.slice(at,qt);for(let Ui=0;Ui<Qi;++Ui)if(ni[Ui]!==ei[Ui]){ve=ni[Ui],Te=ei[Ui];break}return ve<Te?-1:Te<ve?1:0},X.prototype.includes=function(vt,at,qt){return-1!==this.indexOf(vt,at,qt)},X.prototype.indexOf=function(vt,at,qt){return mt(this,vt,at,qt,!0)},X.prototype.lastIndexOf=function(vt,at,qt){return mt(this,vt,at,qt,!1)},X.prototype.write=function(vt,at,qt,he){if(void 0===at)he="utf8",qt=this.length,at=0;else if(void 0===qt&&"string"==typeof at)he=at,qt=this.length,at=0;else{if(!isFinite(at))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");at>>>=0,isFinite(qt)?(qt>>>=0,void 0===he&&(he="utf8")):(he=qt,qt=void 0)}const Xe=this.length-at;if((void 0===qt||qt>Xe)&&(qt=Xe),vt.length>0&&(qt<0||at<0)||at>this.length)throw new RangeError("Attempt to write outside buffer bounds");he||(he="utf8");let ve=!1;for(;;)switch(he){case"hex":return Et(this,vt,at,qt);case"utf8":case"utf-8":return Dt(this,vt,at,qt);case"ascii":case"latin1":case"binary":return Mt(this,vt,at,qt);case"base64":return T(this,vt,at,qt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h(this,vt,at,qt);default:if(ve)throw new TypeError("Unknown encoding: "+he);he=(""+he).toLowerCase(),ve=!0}},X.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const v=4096;function S(Nt,vt,at){let qt="";at=Math.min(Nt.length,at);for(let he=vt;he<at;++he)qt+=String.fromCharCode(127&Nt[he]);return qt}function P(Nt,vt,at){let qt="";at=Math.min(Nt.length,at);for(let he=vt;he<at;++he)qt+=String.fromCharCode(Nt[he]);return qt}function C(Nt,vt,at){const qt=Nt.length;(!vt||vt<0)&&(vt=0),(!at||at<0||at>qt)&&(at=qt);let he="";for(let Xe=vt;Xe<at;++Xe)he+=Yt[Nt[Xe]];return he}function d(Nt,vt,at){const qt=Nt.slice(vt,at);let he="";for(let Xe=0;Xe<qt.length-1;Xe+=2)he+=String.fromCharCode(qt[Xe]+256*qt[Xe+1]);return he}function k(Nt,vt,at){if(Nt%1!=0||Nt<0)throw new RangeError("offset is not uint");if(Nt+vt>at)throw new RangeError("Trying to access beyond buffer length")}function nt(Nt,vt,at,qt,he,Xe){if(!X.isBuffer(Nt))throw new TypeError('"buffer" argument must be a Buffer instance');if(vt>he||vt<Xe)throw new RangeError('"value" argument is out of bounds');if(at+qt>Nt.length)throw new RangeError("Index out of range")}function Q(Nt,vt,at,qt,he){Ot(vt,qt,he,Nt,at,7);let Xe=Number(vt&BigInt(4294967295));Nt[at++]=Xe,Xe>>=8,Nt[at++]=Xe,Xe>>=8,Nt[at++]=Xe,Xe>>=8,Nt[at++]=Xe;let ve=Number(vt>>BigInt(32)&BigInt(4294967295));return Nt[at++]=ve,ve>>=8,Nt[at++]=ve,ve>>=8,Nt[at++]=ve,ve>>=8,Nt[at++]=ve,at}function J(Nt,vt,at,qt,he){Ot(vt,qt,he,Nt,at,7);let Xe=Number(vt&BigInt(4294967295));Nt[at+7]=Xe,Xe>>=8,Nt[at+6]=Xe,Xe>>=8,Nt[at+5]=Xe,Xe>>=8,Nt[at+4]=Xe;let ve=Number(vt>>BigInt(32)&BigInt(4294967295));return Nt[at+3]=ve,ve>>=8,Nt[at+2]=ve,ve>>=8,Nt[at+1]=ve,ve>>=8,Nt[at]=ve,at+8}function xt(Nt,vt,at,qt,he,Xe){if(at+qt>Nt.length)throw new RangeError("Index out of range");if(at<0)throw new RangeError("Index out of range")}function wt(Nt,vt,at,qt,he){return vt=+vt,at>>>=0,he||xt(Nt,0,at,4),Pt.write(Nt,vt,at,qt,23,4),at+4}function Ft(Nt,vt,at,qt,he){return vt=+vt,at>>>=0,he||xt(Nt,0,at,8),Pt.write(Nt,vt,at,qt,52,8),at+8}X.prototype.slice=function(vt,at){const qt=this.length;(vt=~~vt)<0?(vt+=qt)<0&&(vt=0):vt>qt&&(vt=qt),(at=void 0===at?qt:~~at)<0?(at+=qt)<0&&(at=0):at>qt&&(at=qt),at<vt&&(at=vt);const he=this.subarray(vt,at);return Object.setPrototypeOf(he,X.prototype),he},X.prototype.readUintLE=X.prototype.readUIntLE=function(vt,at,qt){vt>>>=0,at>>>=0,qt||k(vt,at,this.length);let he=this[vt],Xe=1,ve=0;for(;++ve<at&&(Xe*=256);)he+=this[vt+ve]*Xe;return he},X.prototype.readUintBE=X.prototype.readUIntBE=function(vt,at,qt){vt>>>=0,at>>>=0,qt||k(vt,at,this.length);let he=this[vt+--at],Xe=1;for(;at>0&&(Xe*=256);)he+=this[vt+--at]*Xe;return he},X.prototype.readUint8=X.prototype.readUInt8=function(vt,at){return vt>>>=0,at||k(vt,1,this.length),this[vt]},X.prototype.readUint16LE=X.prototype.readUInt16LE=function(vt,at){return vt>>>=0,at||k(vt,2,this.length),this[vt]|this[vt+1]<<8},X.prototype.readUint16BE=X.prototype.readUInt16BE=function(vt,at){return vt>>>=0,at||k(vt,2,this.length),this[vt]<<8|this[vt+1]},X.prototype.readUint32LE=X.prototype.readUInt32LE=function(vt,at){return vt>>>=0,at||k(vt,4,this.length),(this[vt]|this[vt+1]<<8|this[vt+2]<<16)+16777216*this[vt+3]},X.prototype.readUint32BE=X.prototype.readUInt32BE=function(vt,at){return vt>>>=0,at||k(vt,4,this.length),16777216*this[vt]+(this[vt+1]<<16|this[vt+2]<<8|this[vt+3])},X.prototype.readBigUInt64LE=ee(function(vt){At(vt>>>=0,"offset");const at=this[vt],qt=this[vt+7];(void 0===at||void 0===qt)&&jt(vt,this.length-8);const he=at+256*this[++vt]+65536*this[++vt]+this[++vt]*2**24,Xe=this[++vt]+256*this[++vt]+65536*this[++vt]+qt*2**24;return BigInt(he)+(BigInt(Xe)<<BigInt(32))}),X.prototype.readBigUInt64BE=ee(function(vt){At(vt>>>=0,"offset");const at=this[vt],qt=this[vt+7];(void 0===at||void 0===qt)&&jt(vt,this.length-8);const he=at*2**24+65536*this[++vt]+256*this[++vt]+this[++vt],Xe=this[++vt]*2**24+65536*this[++vt]+256*this[++vt]+qt;return(BigInt(he)<<BigInt(32))+BigInt(Xe)}),X.prototype.readIntLE=function(vt,at,qt){vt>>>=0,at>>>=0,qt||k(vt,at,this.length);let he=this[vt],Xe=1,ve=0;for(;++ve<at&&(Xe*=256);)he+=this[vt+ve]*Xe;return Xe*=128,he>=Xe&&(he-=Math.pow(2,8*at)),he},X.prototype.readIntBE=function(vt,at,qt){vt>>>=0,at>>>=0,qt||k(vt,at,this.length);let he=at,Xe=1,ve=this[vt+--he];for(;he>0&&(Xe*=256);)ve+=this[vt+--he]*Xe;return Xe*=128,ve>=Xe&&(ve-=Math.pow(2,8*at)),ve},X.prototype.readInt8=function(vt,at){return vt>>>=0,at||k(vt,1,this.length),128&this[vt]?-1*(255-this[vt]+1):this[vt]},X.prototype.readInt16LE=function(vt,at){vt>>>=0,at||k(vt,2,this.length);const qt=this[vt]|this[vt+1]<<8;return 32768&qt?4294901760|qt:qt},X.prototype.readInt16BE=function(vt,at){vt>>>=0,at||k(vt,2,this.length);const qt=this[vt+1]|this[vt]<<8;return 32768&qt?4294901760|qt:qt},X.prototype.readInt32LE=function(vt,at){return vt>>>=0,at||k(vt,4,this.length),this[vt]|this[vt+1]<<8|this[vt+2]<<16|this[vt+3]<<24},X.prototype.readInt32BE=function(vt,at){return vt>>>=0,at||k(vt,4,this.length),this[vt]<<24|this[vt+1]<<16|this[vt+2]<<8|this[vt+3]},X.prototype.readBigInt64LE=ee(function(vt){At(vt>>>=0,"offset");const at=this[vt],qt=this[vt+7];return(void 0===at||void 0===qt)&&jt(vt,this.length-8),(BigInt(this[vt+4]+256*this[vt+5]+65536*this[vt+6]+(qt<<24))<<BigInt(32))+BigInt(at+256*this[++vt]+65536*this[++vt]+this[++vt]*2**24)}),X.prototype.readBigInt64BE=ee(function(vt){At(vt>>>=0,"offset");const at=this[vt],qt=this[vt+7];(void 0===at||void 0===qt)&&jt(vt,this.length-8);const he=(at<<24)+65536*this[++vt]+256*this[++vt]+this[++vt];return(BigInt(he)<<BigInt(32))+BigInt(this[++vt]*2**24+65536*this[++vt]+256*this[++vt]+qt)}),X.prototype.readFloatLE=function(vt,at){return vt>>>=0,at||k(vt,4,this.length),Pt.read(this,vt,!0,23,4)},X.prototype.readFloatBE=function(vt,at){return vt>>>=0,at||k(vt,4,this.length),Pt.read(this,vt,!1,23,4)},X.prototype.readDoubleLE=function(vt,at){return vt>>>=0,at||k(vt,8,this.length),Pt.read(this,vt,!0,52,8)},X.prototype.readDoubleBE=function(vt,at){return vt>>>=0,at||k(vt,8,this.length),Pt.read(this,vt,!1,52,8)},X.prototype.writeUintLE=X.prototype.writeUIntLE=function(vt,at,qt,he){vt=+vt,at>>>=0,qt>>>=0,he||nt(this,vt,at,qt,Math.pow(2,8*qt)-1,0);let Xe=1,ve=0;for(this[at]=255&vt;++ve<qt&&(Xe*=256);)this[at+ve]=vt/Xe&255;return at+qt},X.prototype.writeUintBE=X.prototype.writeUIntBE=function(vt,at,qt,he){vt=+vt,at>>>=0,qt>>>=0,he||nt(this,vt,at,qt,Math.pow(2,8*qt)-1,0);let Xe=qt-1,ve=1;for(this[at+Xe]=255&vt;--Xe>=0&&(ve*=256);)this[at+Xe]=vt/ve&255;return at+qt},X.prototype.writeUint8=X.prototype.writeUInt8=function(vt,at,qt){return vt=+vt,at>>>=0,qt||nt(this,vt,at,1,255,0),this[at]=255&vt,at+1},X.prototype.writeUint16LE=X.prototype.writeUInt16LE=function(vt,at,qt){return vt=+vt,at>>>=0,qt||nt(this,vt,at,2,65535,0),this[at]=255&vt,this[at+1]=vt>>>8,at+2},X.prototype.writeUint16BE=X.prototype.writeUInt16BE=function(vt,at,qt){return vt=+vt,at>>>=0,qt||nt(this,vt,at,2,65535,0),this[at]=vt>>>8,this[at+1]=255&vt,at+2},X.prototype.writeUint32LE=X.prototype.writeUInt32LE=function(vt,at,qt){return vt=+vt,at>>>=0,qt||nt(this,vt,at,4,4294967295,0),this[at+3]=vt>>>24,this[at+2]=vt>>>16,this[at+1]=vt>>>8,this[at]=255&vt,at+4},X.prototype.writeUint32BE=X.prototype.writeUInt32BE=function(vt,at,qt){return vt=+vt,at>>>=0,qt||nt(this,vt,at,4,4294967295,0),this[at]=vt>>>24,this[at+1]=vt>>>16,this[at+2]=vt>>>8,this[at+3]=255&vt,at+4},X.prototype.writeBigUInt64LE=ee(function(vt,at=0){return Q(this,vt,at,BigInt(0),BigInt("0xffffffffffffffff"))}),X.prototype.writeBigUInt64BE=ee(function(vt,at=0){return J(this,vt,at,BigInt(0),BigInt("0xffffffffffffffff"))}),X.prototype.writeIntLE=function(vt,at,qt,he){if(vt=+vt,at>>>=0,!he){const Qi=Math.pow(2,8*qt-1);nt(this,vt,at,qt,Qi-1,-Qi)}let Xe=0,ve=1,Te=0;for(this[at]=255&vt;++Xe<qt&&(ve*=256);)vt<0&&0===Te&&0!==this[at+Xe-1]&&(Te=1),this[at+Xe]=(vt/ve>>0)-Te&255;return at+qt},X.prototype.writeIntBE=function(vt,at,qt,he){if(vt=+vt,at>>>=0,!he){const Qi=Math.pow(2,8*qt-1);nt(this,vt,at,qt,Qi-1,-Qi)}let Xe=qt-1,ve=1,Te=0;for(this[at+Xe]=255&vt;--Xe>=0&&(ve*=256);)vt<0&&0===Te&&0!==this[at+Xe+1]&&(Te=1),this[at+Xe]=(vt/ve>>0)-Te&255;return at+qt},X.prototype.writeInt8=function(vt,at,qt){return vt=+vt,at>>>=0,qt||nt(this,vt,at,1,127,-128),vt<0&&(vt=255+vt+1),this[at]=255&vt,at+1},X.prototype.writeInt16LE=function(vt,at,qt){return vt=+vt,at>>>=0,qt||nt(this,vt,at,2,32767,-32768),this[at]=255&vt,this[at+1]=vt>>>8,at+2},X.prototype.writeInt16BE=function(vt,at,qt){return vt=+vt,at>>>=0,qt||nt(this,vt,at,2,32767,-32768),this[at]=vt>>>8,this[at+1]=255&vt,at+2},X.prototype.writeInt32LE=function(vt,at,qt){return vt=+vt,at>>>=0,qt||nt(this,vt,at,4,2147483647,-2147483648),this[at]=255&vt,this[at+1]=vt>>>8,this[at+2]=vt>>>16,this[at+3]=vt>>>24,at+4},X.prototype.writeInt32BE=function(vt,at,qt){return vt=+vt,at>>>=0,qt||nt(this,vt,at,4,2147483647,-2147483648),vt<0&&(vt=4294967295+vt+1),this[at]=vt>>>24,this[at+1]=vt>>>16,this[at+2]=vt>>>8,this[at+3]=255&vt,at+4},X.prototype.writeBigInt64LE=ee(function(vt,at=0){return Q(this,vt,at,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),X.prototype.writeBigInt64BE=ee(function(vt,at=0){return J(this,vt,at,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),X.prototype.writeFloatLE=function(vt,at,qt){return wt(this,vt,at,!0,qt)},X.prototype.writeFloatBE=function(vt,at,qt){return wt(this,vt,at,!1,qt)},X.prototype.writeDoubleLE=function(vt,at,qt){return Ft(this,vt,at,!0,qt)},X.prototype.writeDoubleBE=function(vt,at,qt){return Ft(this,vt,at,!1,qt)},X.prototype.copy=function(vt,at,qt,he){if(!X.isBuffer(vt))throw new TypeError("argument should be a Buffer");if(qt||(qt=0),!he&&0!==he&&(he=this.length),at>=vt.length&&(at=vt.length),at||(at=0),he>0&&he<qt&&(he=qt),he===qt||0===vt.length||0===this.length)return 0;if(at<0)throw new RangeError("targetStart out of bounds");if(qt<0||qt>=this.length)throw new RangeError("Index out of range");if(he<0)throw new RangeError("sourceEnd out of bounds");he>this.length&&(he=this.length),vt.length-at<he-qt&&(he=vt.length-at+qt);const Xe=he-qt;return this===vt&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(at,qt,he):Uint8Array.prototype.set.call(vt,this.subarray(qt,he),at),Xe},X.prototype.fill=function(vt,at,qt,he){if("string"==typeof vt){if("string"==typeof at?(he=at,at=0,qt=this.length):"string"==typeof qt&&(he=qt,qt=this.length),void 0!==he&&"string"!=typeof he)throw new TypeError("encoding must be a string");if("string"==typeof he&&!X.isEncoding(he))throw new TypeError("Unknown encoding: "+he);if(1===vt.length){const ve=vt.charCodeAt(0);("utf8"===he&&ve<128||"latin1"===he)&&(vt=ve)}}else"number"==typeof vt?vt&=255:"boolean"==typeof vt&&(vt=Number(vt));if(at<0||this.length<at||this.length<qt)throw new RangeError("Out of range index");if(qt<=at)return this;let Xe;if(at>>>=0,qt=void 0===qt?this.length:qt>>>0,vt||(vt=0),"number"==typeof vt)for(Xe=at;Xe<qt;++Xe)this[Xe]=vt;else{const ve=X.isBuffer(vt)?vt:X.from(vt,he),Te=ve.length;if(0===Te)throw new TypeError('The value "'+vt+'" is invalid for argument "value"');for(Xe=0;Xe<qt-at;++Xe)this[Xe+at]=ve[Xe%Te]}return this};const Gt={};function It(Nt,vt,at){Gt[Nt]=class extends at{constructor(){super(),Object.defineProperty(this,"message",{value:vt.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Nt}]`,delete this.name}get code(){return Nt}set code(he){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:he,writable:!0})}toString(){return`${this.name} [${Nt}]: ${this.message}`}}}function _t(Nt){let vt="",at=Nt.length;const qt="-"===Nt[0]?1:0;for(;at>=qt+4;at-=3)vt=`_${Nt.slice(at-3,at)}${vt}`;return`${Nt.slice(0,at)}${vt}`}function Ot(Nt,vt,at,qt,he,Xe){if(Nt>at||Nt<vt){const ve="bigint"==typeof vt?"n":"";let Te;throw Te=Xe>3?0===vt||vt===BigInt(0)?`>= 0${ve} and < 2${ve} ** ${8*(Xe+1)}${ve}`:`>= -(2${ve} ** ${8*(Xe+1)-1}${ve}) and < 2 ** ${8*(Xe+1)-1}${ve}`:`>= ${vt}${ve} and <= ${at}${ve}`,new Gt.ERR_OUT_OF_RANGE("value",Te,Nt)}!function(Nt,vt,at){At(vt,"offset"),(void 0===Nt[vt]||void 0===Nt[vt+at])&&jt(vt,Nt.length-(at+1))}(qt,he,Xe)}function At(Nt,vt){if("number"!=typeof Nt)throw new Gt.ERR_INVALID_ARG_TYPE(vt,"number",Nt)}function jt(Nt,vt,at){throw Math.floor(Nt)!==Nt?(At(Nt,at),new Gt.ERR_OUT_OF_RANGE(at||"offset","an integer",Nt)):vt<0?new Gt.ERR_BUFFER_OUT_OF_BOUNDS:new Gt.ERR_OUT_OF_RANGE(at||"offset",`>= ${at?1:0} and <= ${vt}`,Nt)}It("ERR_BUFFER_OUT_OF_BOUNDS",function(Nt){return Nt?`${Nt} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),It("ERR_INVALID_ARG_TYPE",function(Nt,vt){return`The "${Nt}" argument must be of type number. Received type ${typeof vt}`},TypeError),It("ERR_OUT_OF_RANGE",function(Nt,vt,at){let qt=`The value of "${Nt}" is out of range.`,he=at;return Number.isInteger(at)&&Math.abs(at)>2**32?he=_t(String(at)):"bigint"==typeof at&&(he=String(at),(at>BigInt(2)**BigInt(32)||at<-(BigInt(2)**BigInt(32)))&&(he=_t(he)),he+="n"),qt+=` It must be ${vt}. Received ${he}`,qt},RangeError);const Kt=/[^+/0-9A-Za-z-_]/g;function Ce(Nt,vt){let at;vt=vt||1/0;const qt=Nt.length;let he=null;const Xe=[];for(let ve=0;ve<qt;++ve){if(at=Nt.charCodeAt(ve),at>55295&&at<57344){if(!he){if(at>56319){(vt-=3)>-1&&Xe.push(239,191,189);continue}if(ve+1===qt){(vt-=3)>-1&&Xe.push(239,191,189);continue}he=at;continue}if(at<56320){(vt-=3)>-1&&Xe.push(239,191,189),he=at;continue}at=65536+(he-55296<<10|at-56320)}else he&&(vt-=3)>-1&&Xe.push(239,191,189);if(he=null,at<128){if((vt-=1)<0)break;Xe.push(at)}else if(at<2048){if((vt-=2)<0)break;Xe.push(at>>6|192,63&at|128)}else if(at<65536){if((vt-=3)<0)break;Xe.push(at>>12|224,at>>6&63|128,63&at|128)}else{if(!(at<1114112))throw new Error("Invalid code point");if((vt-=4)<0)break;Xe.push(at>>18|240,at>>12&63|128,at>>6&63|128,63&at|128)}}return Xe}function yi(Nt){return Tt.toByteArray(function(Nt){if((Nt=(Nt=Nt.split("=")[0]).trim().replace(Kt,"")).length<2)return"";for(;Nt.length%4!=0;)Nt+="=";return Nt}(Nt))}function we(Nt,vt,at,qt){let he;for(he=0;he<qt&&!(he+at>=vt.length||he>=Nt.length);++he)vt[he+at]=Nt[he];return he}function de(Nt,vt){return Nt instanceof vt||null!=Nt&&null!=Nt.constructor&&null!=Nt.constructor.name&&Nt.constructor.name===vt.name}function Fe(Nt){return Nt!=Nt}const Yt=function(){const Nt="0123456789abcdef",vt=new Array(256);for(let at=0;at<16;++at){const qt=16*at;for(let he=0;he<16;++he)vt[qt+he]=Nt[at]+Nt[he]}return vt}();function ee(Nt){return"undefined"==typeof BigInt?Re:Nt}function Re(){throw new Error("BigInt not supported")}},8672:(fe,ot,kt)=>{var Tt=kt(4615).Buffer,Pt=kt(5089).Transform,ht=kt(3033).s;function D($){Pt.call(this),this.hashMode="string"==typeof $,this.hashMode?this[$]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}kt(3516)(D,Pt),D.prototype.update=function($,X,it){"string"==typeof $&&($=Tt.from($,X));var K=this._update($);return this.hashMode?this:(it&&(K=this._toString(K,it)),K)},D.prototype.setAutoPadding=function(){},D.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},D.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},D.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},D.prototype._transform=function($,X,it){var K;try{this.hashMode?this._update($):this.push(this._update($))}catch(W){K=W}finally{it(K)}},D.prototype._flush=function($){var X;try{this.push(this.__final())}catch(it){X=it}$(X)},D.prototype._finalOrDigest=function($){var X=this.__final()||Tt.alloc(0);return $&&(X=this._toString(X,$,!0)),X},D.prototype._toString=function($,X,it){if(this._decoder||(this._decoder=new ht(X),this._encoding=X),this._encoding!==X)throw new Error("can't switch encodings");var K=this._decoder.write($);return it&&(K+=this._decoder.end()),K},fe.exports=D},4523:(fe,ot,kt)=>{var Tt=kt(3059),Pt=kt(6867);fe.exports=function(X){return new ct(X)};var ht={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function ct($){this.curveType=ht[$],this.curveType||(this.curveType={name:$}),this.curve=new Tt.ec(this.curveType.name),this.keys=void 0}function D($,X,it){Array.isArray($)||($=$.toArray());var K=new Buffer($);if(it&&K.length<it){var W=new Buffer(it-K.length);W.fill(0),K=Buffer.concat([W,K])}return X?K.toString(X):K}ht.p224=ht.secp224r1,ht.p256=ht.secp256r1=ht.prime256v1,ht.p192=ht.secp192r1=ht.prime192v1,ht.p384=ht.secp384r1,ht.p521=ht.secp521r1,ct.prototype.generateKeys=function($,X){return this.keys=this.curve.genKeyPair(),this.getPublicKey($,X)},ct.prototype.computeSecret=function($,X,it){return X=X||"utf8",Buffer.isBuffer($)||($=new Buffer($,X)),D(this.curve.keyFromPublic($).getPublic().mul(this.keys.getPrivate()).getX(),it,this.curveType.byteLength)},ct.prototype.getPublicKey=function($,X){var it=this.keys.getPublic("compressed"===X,!0);return"hybrid"===X&&(it[0]=it[it.length-1]%2?7:6),D(it,$)},ct.prototype.getPrivateKey=function($){return D(this.keys.getPrivate(),$)},ct.prototype.setPublicKey=function($,X){return X=X||"utf8",Buffer.isBuffer($)||($=new Buffer($,X)),this.keys._importPublic($),this},ct.prototype.setPrivateKey=function($,X){X=X||"utf8",Buffer.isBuffer($)||($=new Buffer($,X));var it=new Pt($);return it=it.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(it),this}},6867:function(fe,ot,kt){!function(Tt,Pt){"use strict";function ht(T,h){if(!T)throw new Error(h||"Assertion failed")}function ct(T,h){T.super_=h;var m=function(){};m.prototype=h.prototype,T.prototype=new m,T.prototype.constructor=T}function D(T,h,m){if(D.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,null!==T&&(("le"===h||"be"===h)&&(m=h,h=10),this._init(T||0,h||10,m||"be"))}var $;"object"==typeof Tt?Tt.exports=D:Pt.BN=D,D.BN=D,D.wordSize=26;try{$="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:kt(8623).Buffer}catch(T){}function X(T,h){var m=T.charCodeAt(h);return m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:m-48&15}function it(T,h,m){var y=X(T,m);return m-1>=h&&(y|=X(T,m-1)<<4),y}function K(T,h,m,y){for(var v=0,M=Math.min(T.length,m),S=h;S<M;S++){var P=T.charCodeAt(S)-48;v*=y,v+=P>=49?P-49+10:P>=17?P-17+10:P}return v}D.isBN=function(h){return h instanceof D||null!==h&&"object"==typeof h&&h.constructor.wordSize===D.wordSize&&Array.isArray(h.words)},D.max=function(h,m){return h.cmp(m)>0?h:m},D.min=function(h,m){return h.cmp(m)<0?h:m},D.prototype._init=function(h,m,y){if("number"==typeof h)return this._initNumber(h,m,y);if("object"==typeof h)return this._initArray(h,m,y);"hex"===m&&(m=16),ht(m===(0|m)&&m>=2&&m<=36);var v=0;"-"===(h=h.toString().replace(/\s+/g,""))[0]&&(v++,this.negative=1),v<h.length&&(16===m?this._parseHex(h,v,y):(this._parseBase(h,m,v),"le"===y&&this._initArray(this.toArray(),m,y)))},D.prototype._initNumber=function(h,m,y){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[67108863&h],this.length=1):h<4503599627370496?(this.words=[67108863&h,h/67108864&67108863],this.length=2):(ht(h<9007199254740992),this.words=[67108863&h,h/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),m,y)},D.prototype._initArray=function(h,m,y){if(ht("number"==typeof h.length),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var M,S,P=0;if("be"===y)for(v=h.length-1,M=0;v>=0;v-=3)this.words[M]|=(S=h[v]|h[v-1]<<8|h[v-2]<<16)<<P&67108863,this.words[M+1]=S>>>26-P&67108863,(P+=24)>=26&&(P-=26,M++);else if("le"===y)for(v=0,M=0;v<h.length;v+=3)this.words[M]|=(S=h[v]|h[v+1]<<8|h[v+2]<<16)<<P&67108863,this.words[M+1]=S>>>26-P&67108863,(P+=24)>=26&&(P-=26,M++);return this.strip()},D.prototype._parseHex=function(h,m,y){this.length=Math.ceil((h.length-m)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var P,M=0,S=0;if("be"===y)for(v=h.length-1;v>=m;v-=2)P=it(h,m,v)<<M,this.words[S]|=67108863&P,M>=18?(M-=18,this.words[S+=1]|=P>>>26):M+=8;else for(v=(h.length-m)%2==0?m+1:m;v<h.length;v+=2)P=it(h,m,v)<<M,this.words[S]|=67108863&P,M>=18?(M-=18,this.words[S+=1]|=P>>>26):M+=8;this.strip()},D.prototype._parseBase=function(h,m,y){this.words=[0],this.length=1;for(var v=0,M=1;M<=67108863;M*=m)v++;v--,M=M/m|0;for(var S=h.length-y,P=S%v,C=Math.min(S,S-P)+y,d=0,k=y;k<C;k+=v)d=K(h,k,k+v,m),this.imuln(M),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==P){var nt=1;for(d=K(h,k,h.length,m),k=0;k<P;k++)nt*=m;this.imuln(nt),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},D.prototype.copy=function(h){h.words=new Array(this.length);for(var m=0;m<this.length;m++)h.words[m]=this.words[m];h.length=this.length,h.negative=this.negative,h.red=this.red},D.prototype.clone=function(){var h=new D(null);return this.copy(h),h},D.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},D.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},D.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},D.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var W=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],j=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],tt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function U(T,h,m){m.negative=h.negative^T.negative;var y=T.length+h.length|0;m.length=y,y=y-1|0;var v=0|T.words[0],M=0|h.words[0],S=v*M,C=S/67108864|0;m.words[0]=67108863&S;for(var d=1;d<y;d++){for(var k=C>>>26,nt=67108863&C,Q=Math.min(d,h.length-1),J=Math.max(0,d-T.length+1);J<=Q;J++)k+=(S=(v=0|T.words[d-J|0])*(M=0|h.words[J])+nt)/67108864|0,nt=67108863&S;m.words[d]=0|nt,C=0|k}return 0!==C?m.words[d]=0|C:m.length--,m.strip()}D.prototype.toString=function(h,m){var y;if(m=0|m||1,16===(h=h||10)||"hex"===h){y="";for(var v=0,M=0,S=0;S<this.length;S++){var P=this.words[S],C=(16777215&(P<<v|M)).toString(16);y=0!=(M=P>>>24-v&16777215)||S!==this.length-1?W[6-C.length]+C+y:C+y,(v+=2)>=26&&(v-=26,S--)}for(0!==M&&(y=M.toString(16)+y);y.length%m!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(h===(0|h)&&h>=2&&h<=36){var d=j[h],k=tt[h];y="";var nt=this.clone();for(nt.negative=0;!nt.isZero();){var Q=nt.modn(k).toString(h);y=(nt=nt.idivn(k)).isZero()?Q+y:W[d-Q.length]+Q+y}for(this.isZero()&&(y="0"+y);y.length%m!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}ht(!1,"Base should be between 2 and 36")},D.prototype.toNumber=function(){var h=this.words[0];return 2===this.length?h+=67108864*this.words[1]:3===this.length&&1===this.words[2]?h+=4503599627370496+67108864*this.words[1]:this.length>2&&ht(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-h:h},D.prototype.toJSON=function(){return this.toString(16)},D.prototype.toBuffer=function(h,m){return ht(void 0!==$),this.toArrayLike($,h,m)},D.prototype.toArray=function(h,m){return this.toArrayLike(Array,h,m)},D.prototype.toArrayLike=function(h,m,y){var v=this.byteLength(),M=y||Math.max(1,v);ht(v<=M,"byte array longer than desired length"),ht(M>0,"Requested array length <= 0"),this.strip();var C,d,S="le"===m,P=new h(M),k=this.clone();if(S){for(d=0;!k.isZero();d++)C=k.andln(255),k.iushrn(8),P[d]=C;for(;d<M;d++)P[d]=0}else{for(d=0;d<M-v;d++)P[d]=0;for(d=0;!k.isZero();d++)C=k.andln(255),k.iushrn(8),P[M-d-1]=C}return P},D.prototype._countBits=Math.clz32?function(h){return 32-Math.clz32(h)}:function(h){var m=h,y=0;return m>=4096&&(y+=13,m>>>=13),m>=64&&(y+=7,m>>>=7),m>=8&&(y+=4,m>>>=4),m>=2&&(y+=2,m>>>=2),y+m},D.prototype._zeroBits=function(h){if(0===h)return 26;var m=h,y=0;return 0==(8191&m)&&(y+=13,m>>>=13),0==(127&m)&&(y+=7,m>>>=7),0==(15&m)&&(y+=4,m>>>=4),0==(3&m)&&(y+=2,m>>>=2),0==(1&m)&&y++,y},D.prototype.bitLength=function(){var m=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+m},D.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,m=0;m<this.length;m++){var y=this._zeroBits(this.words[m]);if(h+=y,26!==y)break}return h},D.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},D.prototype.toTwos=function(h){return 0!==this.negative?this.abs().inotn(h).iaddn(1):this.clone()},D.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},D.prototype.isNeg=function(){return 0!==this.negative},D.prototype.neg=function(){return this.clone().ineg()},D.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},D.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var m=0;m<h.length;m++)this.words[m]=this.words[m]|h.words[m];return this.strip()},D.prototype.ior=function(h){return ht(0==(this.negative|h.negative)),this.iuor(h)},D.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},D.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},D.prototype.iuand=function(h){var m;m=this.length>h.length?h:this;for(var y=0;y<m.length;y++)this.words[y]=this.words[y]&h.words[y];return this.length=m.length,this.strip()},D.prototype.iand=function(h){return ht(0==(this.negative|h.negative)),this.iuand(h)},D.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},D.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},D.prototype.iuxor=function(h){var m,y;this.length>h.length?(m=this,y=h):(m=h,y=this);for(var v=0;v<y.length;v++)this.words[v]=m.words[v]^y.words[v];if(this!==m)for(;v<m.length;v++)this.words[v]=m.words[v];return this.length=m.length,this.strip()},D.prototype.ixor=function(h){return ht(0==(this.negative|h.negative)),this.iuxor(h)},D.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},D.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},D.prototype.inotn=function(h){ht("number"==typeof h&&h>=0);var m=0|Math.ceil(h/26),y=h%26;this._expand(m),y>0&&m--;for(var v=0;v<m;v++)this.words[v]=67108863&~this.words[v];return y>0&&(this.words[v]=~this.words[v]&67108863>>26-y),this.strip()},D.prototype.notn=function(h){return this.clone().inotn(h)},D.prototype.setn=function(h,m){ht("number"==typeof h&&h>=0);var y=h/26|0,v=h%26;return this._expand(y+1),this.words[y]=m?this.words[y]|1<<v:this.words[y]&~(1<<v),this.strip()},D.prototype.iadd=function(h){var m,y,v;if(0!==this.negative&&0===h.negative)return this.negative=0,m=this.isub(h),this.negative^=1,this._normSign();if(0===this.negative&&0!==h.negative)return h.negative=0,m=this.isub(h),h.negative=1,m._normSign();this.length>h.length?(y=this,v=h):(y=h,v=this);for(var M=0,S=0;S<v.length;S++)this.words[S]=67108863&(m=(0|y.words[S])+(0|v.words[S])+M),M=m>>>26;for(;0!==M&&S<y.length;S++)this.words[S]=67108863&(m=(0|y.words[S])+M),M=m>>>26;if(this.length=y.length,0!==M)this.words[this.length]=M,this.length++;else if(y!==this)for(;S<y.length;S++)this.words[S]=y.words[S];return this},D.prototype.add=function(h){var m;return 0!==h.negative&&0===this.negative?(h.negative=0,m=this.sub(h),h.negative^=1,m):0===h.negative&&0!==this.negative?(this.negative=0,m=h.sub(this),this.negative=1,m):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},D.prototype.isub=function(h){if(0!==h.negative){h.negative=0;var m=this.iadd(h);return h.negative=1,m._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var v,M,y=this.cmp(h);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(v=this,M=h):(v=h,M=this);for(var S=0,P=0;P<M.length;P++)S=(m=(0|v.words[P])-(0|M.words[P])+S)>>26,this.words[P]=67108863&m;for(;0!==S&&P<v.length;P++)S=(m=(0|v.words[P])+S)>>26,this.words[P]=67108863&m;if(0===S&&P<v.length&&v!==this)for(;P<v.length;P++)this.words[P]=v.words[P];return this.length=Math.max(this.length,P),v!==this&&(this.negative=1),this.strip()},D.prototype.sub=function(h){return this.clone().isub(h)};var z=function(h,m,y){var C,d,k,v=h.words,M=m.words,S=y.words,P=0,nt=0|v[0],Q=8191&nt,J=nt>>>13,xt=0|v[1],wt=8191&xt,Ft=xt>>>13,Gt=0|v[2],It=8191&Gt,_t=Gt>>>13,Zt=0|v[3],Ot=8191&Zt,At=Zt>>>13,jt=0|v[4],Kt=8191&jt,Vt=jt>>>13,Ce=0|v[5],Ht=8191&Ce,ge=Ce>>>13,yi=0|v[6],we=8191&yi,de=yi>>>13,Fe=0|v[7],Yt=8191&Fe,ee=Fe>>>13,Re=0|v[8],Nt=8191&Re,vt=Re>>>13,at=0|v[9],qt=8191&at,he=at>>>13,Xe=0|M[0],ve=8191&Xe,Te=Xe>>>13,Qi=0|M[1],ni=8191&Qi,ei=Qi>>>13,Ui=0|M[2],mi=8191&Ui,bi=Ui>>>13,En=0|M[3],_i=8191&En,He=En>>>13,on=0|M[4],Di=8191&on,Pe=on>>>13,ri=0|M[5],Ee=8191&ri,ne=ri>>>13,Se=0|M[6],ae=8191&Se,Me=Se>>>13,$e=0|M[7],te=8191&$e,Ie=$e>>>13,tn=0|M[8],qe=8191&tn,ci=tn>>>13,Pn=0|M[9],ui=8191&Pn,oi=Pn>>>13;y.negative=h.negative^m.negative,y.length=19;var en=(P+(C=Math.imul(Q,ve))|0)+((8191&(d=(d=Math.imul(Q,Te))+Math.imul(J,ve)|0))<<13)|0;P=((k=Math.imul(J,Te))+(d>>>13)|0)+(en>>>26)|0,en&=67108863,C=Math.imul(wt,ve),d=(d=Math.imul(wt,Te))+Math.imul(Ft,ve)|0,k=Math.imul(Ft,Te);var sn=(P+(C=C+Math.imul(Q,ni)|0)|0)+((8191&(d=(d=d+Math.imul(Q,ei)|0)+Math.imul(J,ni)|0))<<13)|0;P=((k=k+Math.imul(J,ei)|0)+(d>>>13)|0)+(sn>>>26)|0,sn&=67108863,C=Math.imul(It,ve),d=(d=Math.imul(It,Te))+Math.imul(_t,ve)|0,k=Math.imul(_t,Te),C=C+Math.imul(wt,ni)|0,d=(d=d+Math.imul(wt,ei)|0)+Math.imul(Ft,ni)|0,k=k+Math.imul(Ft,ei)|0;var Tn=(P+(C=C+Math.imul(Q,mi)|0)|0)+((8191&(d=(d=d+Math.imul(Q,bi)|0)+Math.imul(J,mi)|0))<<13)|0;P=((k=k+Math.imul(J,bi)|0)+(d>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,C=Math.imul(Ot,ve),d=(d=Math.imul(Ot,Te))+Math.imul(At,ve)|0,k=Math.imul(At,Te),C=C+Math.imul(It,ni)|0,d=(d=d+Math.imul(It,ei)|0)+Math.imul(_t,ni)|0,k=k+Math.imul(_t,ei)|0,C=C+Math.imul(wt,mi)|0,d=(d=d+Math.imul(wt,bi)|0)+Math.imul(Ft,mi)|0,k=k+Math.imul(Ft,bi)|0;var Er=(P+(C=C+Math.imul(Q,_i)|0)|0)+((8191&(d=(d=d+Math.imul(Q,He)|0)+Math.imul(J,_i)|0))<<13)|0;P=((k=k+Math.imul(J,He)|0)+(d>>>13)|0)+(Er>>>26)|0,Er&=67108863,C=Math.imul(Kt,ve),d=(d=Math.imul(Kt,Te))+Math.imul(Vt,ve)|0,k=Math.imul(Vt,Te),C=C+Math.imul(Ot,ni)|0,d=(d=d+Math.imul(Ot,ei)|0)+Math.imul(At,ni)|0,k=k+Math.imul(At,ei)|0,C=C+Math.imul(It,mi)|0,d=(d=d+Math.imul(It,bi)|0)+Math.imul(_t,mi)|0,k=k+Math.imul(_t,bi)|0,C=C+Math.imul(wt,_i)|0,d=(d=d+Math.imul(wt,He)|0)+Math.imul(Ft,_i)|0,k=k+Math.imul(Ft,He)|0;var In=(P+(C=C+Math.imul(Q,Di)|0)|0)+((8191&(d=(d=d+Math.imul(Q,Pe)|0)+Math.imul(J,Di)|0))<<13)|0;P=((k=k+Math.imul(J,Pe)|0)+(d>>>13)|0)+(In>>>26)|0,In&=67108863,C=Math.imul(Ht,ve),d=(d=Math.imul(Ht,Te))+Math.imul(ge,ve)|0,k=Math.imul(ge,Te),C=C+Math.imul(Kt,ni)|0,d=(d=d+Math.imul(Kt,ei)|0)+Math.imul(Vt,ni)|0,k=k+Math.imul(Vt,ei)|0,C=C+Math.imul(Ot,mi)|0,d=(d=d+Math.imul(Ot,bi)|0)+Math.imul(At,mi)|0,k=k+Math.imul(At,bi)|0,C=C+Math.imul(It,_i)|0,d=(d=d+Math.imul(It,He)|0)+Math.imul(_t,_i)|0,k=k+Math.imul(_t,He)|0,C=C+Math.imul(wt,Di)|0,d=(d=d+Math.imul(wt,Pe)|0)+Math.imul(Ft,Di)|0,k=k+Math.imul(Ft,Pe)|0;var Yn=(P+(C=C+Math.imul(Q,Ee)|0)|0)+((8191&(d=(d=d+Math.imul(Q,ne)|0)+Math.imul(J,Ee)|0))<<13)|0;P=((k=k+Math.imul(J,ne)|0)+(d>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,C=Math.imul(we,ve),d=(d=Math.imul(we,Te))+Math.imul(de,ve)|0,k=Math.imul(de,Te),C=C+Math.imul(Ht,ni)|0,d=(d=d+Math.imul(Ht,ei)|0)+Math.imul(ge,ni)|0,k=k+Math.imul(ge,ei)|0,C=C+Math.imul(Kt,mi)|0,d=(d=d+Math.imul(Kt,bi)|0)+Math.imul(Vt,mi)|0,k=k+Math.imul(Vt,bi)|0,C=C+Math.imul(Ot,_i)|0,d=(d=d+Math.imul(Ot,He)|0)+Math.imul(At,_i)|0,k=k+Math.imul(At,He)|0,C=C+Math.imul(It,Di)|0,d=(d=d+Math.imul(It,Pe)|0)+Math.imul(_t,Di)|0,k=k+Math.imul(_t,Pe)|0,C=C+Math.imul(wt,Ee)|0,d=(d=d+Math.imul(wt,ne)|0)+Math.imul(Ft,Ee)|0,k=k+Math.imul(Ft,ne)|0;var nn=(P+(C=C+Math.imul(Q,ae)|0)|0)+((8191&(d=(d=d+Math.imul(Q,Me)|0)+Math.imul(J,ae)|0))<<13)|0;P=((k=k+Math.imul(J,Me)|0)+(d>>>13)|0)+(nn>>>26)|0,nn&=67108863,C=Math.imul(Yt,ve),d=(d=Math.imul(Yt,Te))+Math.imul(ee,ve)|0,k=Math.imul(ee,Te),C=C+Math.imul(we,ni)|0,d=(d=d+Math.imul(we,ei)|0)+Math.imul(de,ni)|0,k=k+Math.imul(de,ei)|0,C=C+Math.imul(Ht,mi)|0,d=(d=d+Math.imul(Ht,bi)|0)+Math.imul(ge,mi)|0,k=k+Math.imul(ge,bi)|0,C=C+Math.imul(Kt,_i)|0,d=(d=d+Math.imul(Kt,He)|0)+Math.imul(Vt,_i)|0,k=k+Math.imul(Vt,He)|0,C=C+Math.imul(Ot,Di)|0,d=(d=d+Math.imul(Ot,Pe)|0)+Math.imul(At,Di)|0,k=k+Math.imul(At,Pe)|0,C=C+Math.imul(It,Ee)|0,d=(d=d+Math.imul(It,ne)|0)+Math.imul(_t,Ee)|0,k=k+Math.imul(_t,ne)|0,C=C+Math.imul(wt,ae)|0,d=(d=d+Math.imul(wt,Me)|0)+Math.imul(Ft,ae)|0,k=k+Math.imul(Ft,Me)|0;var Or=(P+(C=C+Math.imul(Q,te)|0)|0)+((8191&(d=(d=d+Math.imul(Q,Ie)|0)+Math.imul(J,te)|0))<<13)|0;P=((k=k+Math.imul(J,Ie)|0)+(d>>>13)|0)+(Or>>>26)|0,Or&=67108863,C=Math.imul(Nt,ve),d=(d=Math.imul(Nt,Te))+Math.imul(vt,ve)|0,k=Math.imul(vt,Te),C=C+Math.imul(Yt,ni)|0,d=(d=d+Math.imul(Yt,ei)|0)+Math.imul(ee,ni)|0,k=k+Math.imul(ee,ei)|0,C=C+Math.imul(we,mi)|0,d=(d=d+Math.imul(we,bi)|0)+Math.imul(de,mi)|0,k=k+Math.imul(de,bi)|0,C=C+Math.imul(Ht,_i)|0,d=(d=d+Math.imul(Ht,He)|0)+Math.imul(ge,_i)|0,k=k+Math.imul(ge,He)|0,C=C+Math.imul(Kt,Di)|0,d=(d=d+Math.imul(Kt,Pe)|0)+Math.imul(Vt,Di)|0,k=k+Math.imul(Vt,Pe)|0,C=C+Math.imul(Ot,Ee)|0,d=(d=d+Math.imul(Ot,ne)|0)+Math.imul(At,Ee)|0,k=k+Math.imul(At,ne)|0,C=C+Math.imul(It,ae)|0,d=(d=d+Math.imul(It,Me)|0)+Math.imul(_t,ae)|0,k=k+Math.imul(_t,Me)|0,C=C+Math.imul(wt,te)|0,d=(d=d+Math.imul(wt,Ie)|0)+Math.imul(Ft,te)|0,k=k+Math.imul(Ft,Ie)|0;var fr=(P+(C=C+Math.imul(Q,qe)|0)|0)+((8191&(d=(d=d+Math.imul(Q,ci)|0)+Math.imul(J,qe)|0))<<13)|0;P=((k=k+Math.imul(J,ci)|0)+(d>>>13)|0)+(fr>>>26)|0,fr&=67108863,C=Math.imul(qt,ve),d=(d=Math.imul(qt,Te))+Math.imul(he,ve)|0,k=Math.imul(he,Te),C=C+Math.imul(Nt,ni)|0,d=(d=d+Math.imul(Nt,ei)|0)+Math.imul(vt,ni)|0,k=k+Math.imul(vt,ei)|0,C=C+Math.imul(Yt,mi)|0,d=(d=d+Math.imul(Yt,bi)|0)+Math.imul(ee,mi)|0,k=k+Math.imul(ee,bi)|0,C=C+Math.imul(we,_i)|0,d=(d=d+Math.imul(we,He)|0)+Math.imul(de,_i)|0,k=k+Math.imul(de,He)|0,C=C+Math.imul(Ht,Di)|0,d=(d=d+Math.imul(Ht,Pe)|0)+Math.imul(ge,Di)|0,k=k+Math.imul(ge,Pe)|0,C=C+Math.imul(Kt,Ee)|0,d=(d=d+Math.imul(Kt,ne)|0)+Math.imul(Vt,Ee)|0,k=k+Math.imul(Vt,ne)|0,C=C+Math.imul(Ot,ae)|0,d=(d=d+Math.imul(Ot,Me)|0)+Math.imul(At,ae)|0,k=k+Math.imul(At,Me)|0,C=C+Math.imul(It,te)|0,d=(d=d+Math.imul(It,Ie)|0)+Math.imul(_t,te)|0,k=k+Math.imul(_t,Ie)|0,C=C+Math.imul(wt,qe)|0,d=(d=d+Math.imul(wt,ci)|0)+Math.imul(Ft,qe)|0,k=k+Math.imul(Ft,ci)|0;var dr=(P+(C=C+Math.imul(Q,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Q,oi)|0)+Math.imul(J,ui)|0))<<13)|0;P=((k=k+Math.imul(J,oi)|0)+(d>>>13)|0)+(dr>>>26)|0,dr&=67108863,C=Math.imul(qt,ni),d=(d=Math.imul(qt,ei))+Math.imul(he,ni)|0,k=Math.imul(he,ei),C=C+Math.imul(Nt,mi)|0,d=(d=d+Math.imul(Nt,bi)|0)+Math.imul(vt,mi)|0,k=k+Math.imul(vt,bi)|0,C=C+Math.imul(Yt,_i)|0,d=(d=d+Math.imul(Yt,He)|0)+Math.imul(ee,_i)|0,k=k+Math.imul(ee,He)|0,C=C+Math.imul(we,Di)|0,d=(d=d+Math.imul(we,Pe)|0)+Math.imul(de,Di)|0,k=k+Math.imul(de,Pe)|0,C=C+Math.imul(Ht,Ee)|0,d=(d=d+Math.imul(Ht,ne)|0)+Math.imul(ge,Ee)|0,k=k+Math.imul(ge,ne)|0,C=C+Math.imul(Kt,ae)|0,d=(d=d+Math.imul(Kt,Me)|0)+Math.imul(Vt,ae)|0,k=k+Math.imul(Vt,Me)|0,C=C+Math.imul(Ot,te)|0,d=(d=d+Math.imul(Ot,Ie)|0)+Math.imul(At,te)|0,k=k+Math.imul(At,Ie)|0,C=C+Math.imul(It,qe)|0,d=(d=d+Math.imul(It,ci)|0)+Math.imul(_t,qe)|0,k=k+Math.imul(_t,ci)|0;var Un=(P+(C=C+Math.imul(wt,ui)|0)|0)+((8191&(d=(d=d+Math.imul(wt,oi)|0)+Math.imul(Ft,ui)|0))<<13)|0;P=((k=k+Math.imul(Ft,oi)|0)+(d>>>13)|0)+(Un>>>26)|0,Un&=67108863,C=Math.imul(qt,mi),d=(d=Math.imul(qt,bi))+Math.imul(he,mi)|0,k=Math.imul(he,bi),C=C+Math.imul(Nt,_i)|0,d=(d=d+Math.imul(Nt,He)|0)+Math.imul(vt,_i)|0,k=k+Math.imul(vt,He)|0,C=C+Math.imul(Yt,Di)|0,d=(d=d+Math.imul(Yt,Pe)|0)+Math.imul(ee,Di)|0,k=k+Math.imul(ee,Pe)|0,C=C+Math.imul(we,Ee)|0,d=(d=d+Math.imul(we,ne)|0)+Math.imul(de,Ee)|0,k=k+Math.imul(de,ne)|0,C=C+Math.imul(Ht,ae)|0,d=(d=d+Math.imul(Ht,Me)|0)+Math.imul(ge,ae)|0,k=k+Math.imul(ge,Me)|0,C=C+Math.imul(Kt,te)|0,d=(d=d+Math.imul(Kt,Ie)|0)+Math.imul(Vt,te)|0,k=k+Math.imul(Vt,Ie)|0,C=C+Math.imul(Ot,qe)|0,d=(d=d+Math.imul(Ot,ci)|0)+Math.imul(At,qe)|0,k=k+Math.imul(At,ci)|0;var xo=(P+(C=C+Math.imul(It,ui)|0)|0)+((8191&(d=(d=d+Math.imul(It,oi)|0)+Math.imul(_t,ui)|0))<<13)|0;P=((k=k+Math.imul(_t,oi)|0)+(d>>>13)|0)+(xo>>>26)|0,xo&=67108863,C=Math.imul(qt,_i),d=(d=Math.imul(qt,He))+Math.imul(he,_i)|0,k=Math.imul(he,He),C=C+Math.imul(Nt,Di)|0,d=(d=d+Math.imul(Nt,Pe)|0)+Math.imul(vt,Di)|0,k=k+Math.imul(vt,Pe)|0,C=C+Math.imul(Yt,Ee)|0,d=(d=d+Math.imul(Yt,ne)|0)+Math.imul(ee,Ee)|0,k=k+Math.imul(ee,ne)|0,C=C+Math.imul(we,ae)|0,d=(d=d+Math.imul(we,Me)|0)+Math.imul(de,ae)|0,k=k+Math.imul(de,Me)|0,C=C+Math.imul(Ht,te)|0,d=(d=d+Math.imul(Ht,Ie)|0)+Math.imul(ge,te)|0,k=k+Math.imul(ge,Ie)|0,C=C+Math.imul(Kt,qe)|0,d=(d=d+Math.imul(Kt,ci)|0)+Math.imul(Vt,qe)|0,k=k+Math.imul(Vt,ci)|0;var ki=(P+(C=C+Math.imul(Ot,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Ot,oi)|0)+Math.imul(At,ui)|0))<<13)|0;P=((k=k+Math.imul(At,oi)|0)+(d>>>13)|0)+(ki>>>26)|0,ki&=67108863,C=Math.imul(qt,Di),d=(d=Math.imul(qt,Pe))+Math.imul(he,Di)|0,k=Math.imul(he,Pe),C=C+Math.imul(Nt,Ee)|0,d=(d=d+Math.imul(Nt,ne)|0)+Math.imul(vt,Ee)|0,k=k+Math.imul(vt,ne)|0,C=C+Math.imul(Yt,ae)|0,d=(d=d+Math.imul(Yt,Me)|0)+Math.imul(ee,ae)|0,k=k+Math.imul(ee,Me)|0,C=C+Math.imul(we,te)|0,d=(d=d+Math.imul(we,Ie)|0)+Math.imul(de,te)|0,k=k+Math.imul(de,Ie)|0,C=C+Math.imul(Ht,qe)|0,d=(d=d+Math.imul(Ht,ci)|0)+Math.imul(ge,qe)|0,k=k+Math.imul(ge,ci)|0;var hn=(P+(C=C+Math.imul(Kt,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Kt,oi)|0)+Math.imul(Vt,ui)|0))<<13)|0;P=((k=k+Math.imul(Vt,oi)|0)+(d>>>13)|0)+(hn>>>26)|0,hn&=67108863,C=Math.imul(qt,Ee),d=(d=Math.imul(qt,ne))+Math.imul(he,Ee)|0,k=Math.imul(he,ne),C=C+Math.imul(Nt,ae)|0,d=(d=d+Math.imul(Nt,Me)|0)+Math.imul(vt,ae)|0,k=k+Math.imul(vt,Me)|0,C=C+Math.imul(Yt,te)|0,d=(d=d+Math.imul(Yt,Ie)|0)+Math.imul(ee,te)|0,k=k+Math.imul(ee,Ie)|0,C=C+Math.imul(we,qe)|0,d=(d=d+Math.imul(we,ci)|0)+Math.imul(de,qe)|0,k=k+Math.imul(de,ci)|0;var ar=(P+(C=C+Math.imul(Ht,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Ht,oi)|0)+Math.imul(ge,ui)|0))<<13)|0;P=((k=k+Math.imul(ge,oi)|0)+(d>>>13)|0)+(ar>>>26)|0,ar&=67108863,C=Math.imul(qt,ae),d=(d=Math.imul(qt,Me))+Math.imul(he,ae)|0,k=Math.imul(he,Me),C=C+Math.imul(Nt,te)|0,d=(d=d+Math.imul(Nt,Ie)|0)+Math.imul(vt,te)|0,k=k+Math.imul(vt,Ie)|0,C=C+Math.imul(Yt,qe)|0,d=(d=d+Math.imul(Yt,ci)|0)+Math.imul(ee,qe)|0,k=k+Math.imul(ee,ci)|0;var bn=(P+(C=C+Math.imul(we,ui)|0)|0)+((8191&(d=(d=d+Math.imul(we,oi)|0)+Math.imul(de,ui)|0))<<13)|0;P=((k=k+Math.imul(de,oi)|0)+(d>>>13)|0)+(bn>>>26)|0,bn&=67108863,C=Math.imul(qt,te),d=(d=Math.imul(qt,Ie))+Math.imul(he,te)|0,k=Math.imul(he,Ie),C=C+Math.imul(Nt,qe)|0,d=(d=d+Math.imul(Nt,ci)|0)+Math.imul(vt,qe)|0,k=k+Math.imul(vt,ci)|0;var vo=(P+(C=C+Math.imul(Yt,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Yt,oi)|0)+Math.imul(ee,ui)|0))<<13)|0;P=((k=k+Math.imul(ee,oi)|0)+(d>>>13)|0)+(vo>>>26)|0,vo&=67108863,C=Math.imul(qt,qe),d=(d=Math.imul(qt,ci))+Math.imul(he,qe)|0,k=Math.imul(he,ci);var Ao=(P+(C=C+Math.imul(Nt,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Nt,oi)|0)+Math.imul(vt,ui)|0))<<13)|0;P=((k=k+Math.imul(vt,oi)|0)+(d>>>13)|0)+(Ao>>>26)|0,Ao&=67108863;var Vi=(P+(C=Math.imul(qt,ui))|0)+((8191&(d=(d=Math.imul(qt,oi))+Math.imul(he,ui)|0))<<13)|0;return P=((k=Math.imul(he,oi))+(d>>>13)|0)+(Vi>>>26)|0,Vi&=67108863,S[0]=en,S[1]=sn,S[2]=Tn,S[3]=Er,S[4]=In,S[5]=Yn,S[6]=nn,S[7]=Or,S[8]=fr,S[9]=dr,S[10]=Un,S[11]=xo,S[12]=ki,S[13]=hn,S[14]=ar,S[15]=bn,S[16]=vo,S[17]=Ao,S[18]=Vi,0!==P&&(S[19]=P,y.length++),y};function q(T,h,m){return(new V).mulp(T,h,m)}function V(T,h){this.x=T,this.y=h}Math.imul||(z=U),D.prototype.mulTo=function(h,m){var y,v=this.length+h.length;return y=10===this.length&&10===h.length?z(this,h,m):v<63?U(this,h,m):v<1024?function(T,h,m){m.negative=h.negative^T.negative,m.length=T.length+h.length;for(var y=0,v=0,M=0;M<m.length-1;M++){var S=v;v=0;for(var P=67108863&y,C=Math.min(M,h.length-1),d=Math.max(0,M-T.length+1);d<=C;d++){var J=(0|T.words[M-d])*(0|h.words[d]),xt=67108863&J;P=67108863&(xt=xt+P|0),v+=(S=(S=S+(J/67108864|0)|0)+(xt>>>26)|0)>>>26,S&=67108863}m.words[M]=P,y=S,S=v}return 0!==y?m.words[M]=y:m.length--,m.strip()}(this,h,m):q(this,h,m),y},V.prototype.makeRBT=function(h){for(var m=new Array(h),y=D.prototype._countBits(h)-1,v=0;v<h;v++)m[v]=this.revBin(v,y,h);return m},V.prototype.revBin=function(h,m,y){if(0===h||h===y-1)return h;for(var v=0,M=0;M<m;M++)v|=(1&h)<<m-M-1,h>>=1;return v},V.prototype.permute=function(h,m,y,v,M,S){for(var P=0;P<S;P++)v[P]=m[h[P]],M[P]=y[h[P]]},V.prototype.transform=function(h,m,y,v,M,S){this.permute(S,h,m,y,v,M);for(var P=1;P<M;P<<=1)for(var C=P<<1,d=Math.cos(2*Math.PI/C),k=Math.sin(2*Math.PI/C),nt=0;nt<M;nt+=C)for(var Q=d,J=k,xt=0;xt<P;xt++){var wt=y[nt+xt],Ft=v[nt+xt],Gt=y[nt+xt+P],It=v[nt+xt+P],_t=Q*Gt-J*It;It=Q*It+J*Gt,y[nt+xt]=wt+(Gt=_t),v[nt+xt]=Ft+It,y[nt+xt+P]=wt-Gt,v[nt+xt+P]=Ft-It,xt!==C&&(_t=d*Q-k*J,J=d*J+k*Q,Q=_t)}},V.prototype.guessLen13b=function(h,m){var y=1|Math.max(m,h),v=1&y,M=0;for(y=y/2|0;y;y>>>=1)M++;return 1<<M+1+v},V.prototype.conjugate=function(h,m,y){if(!(y<=1))for(var v=0;v<y/2;v++){var M=h[v];h[v]=h[y-v-1],h[y-v-1]=M,M=m[v],m[v]=-m[y-v-1],m[y-v-1]=-M}},V.prototype.normalize13b=function(h,m){for(var y=0,v=0;v<m/2;v++){var M=8192*Math.round(h[2*v+1]/m)+Math.round(h[2*v]/m)+y;h[v]=67108863&M,y=M<67108864?0:M/67108864|0}return h},V.prototype.convert13b=function(h,m,y,v){for(var M=0,S=0;S<m;S++)y[2*S]=8191&(M+=0|h[S]),y[2*S+1]=8191&(M>>>=13),M>>>=13;for(S=2*m;S<v;++S)y[S]=0;ht(0===M),ht(0==(-8192&M))},V.prototype.stub=function(h){for(var m=new Array(h),y=0;y<h;y++)m[y]=0;return m},V.prototype.mulp=function(h,m,y){var v=2*this.guessLen13b(h.length,m.length),M=this.makeRBT(v),S=this.stub(v),P=new Array(v),C=new Array(v),d=new Array(v),k=new Array(v),nt=new Array(v),Q=new Array(v),J=y.words;J.length=v,this.convert13b(h.words,h.length,P,v),this.convert13b(m.words,m.length,k,v),this.transform(P,S,C,d,v,M),this.transform(k,S,nt,Q,v,M);for(var xt=0;xt<v;xt++){var wt=C[xt]*nt[xt]-d[xt]*Q[xt];d[xt]=C[xt]*Q[xt]+d[xt]*nt[xt],C[xt]=wt}return this.conjugate(C,d,v),this.transform(C,d,J,S,v,M),this.conjugate(J,S,v),this.normalize13b(J,v),y.negative=h.negative^m.negative,y.length=h.length+m.length,y.strip()},D.prototype.mul=function(h){var m=new D(null);return m.words=new Array(this.length+h.length),this.mulTo(h,m)},D.prototype.mulf=function(h){var m=new D(null);return m.words=new Array(this.length+h.length),q(this,h,m)},D.prototype.imul=function(h){return this.clone().mulTo(h,this)},D.prototype.imuln=function(h){ht("number"==typeof h),ht(h<67108864);for(var m=0,y=0;y<this.length;y++){var v=(0|this.words[y])*h,M=(67108863&v)+(67108863&m);m>>=26,m+=v/67108864|0,m+=M>>>26,this.words[y]=67108863&M}return 0!==m&&(this.words[y]=m,this.length++),this},D.prototype.muln=function(h){return this.clone().imuln(h)},D.prototype.sqr=function(){return this.mul(this)},D.prototype.isqr=function(){return this.imul(this.clone())},D.prototype.pow=function(h){var m=function(T){for(var h=new Array(T.bitLength()),m=0;m<h.length;m++){var v=m%26;h[m]=(T.words[m/26|0]&1<<v)>>>v}return h}(h);if(0===m.length)return new D(1);for(var y=this,v=0;v<m.length&&0===m[v];v++,y=y.sqr());if(++v<m.length)for(var M=y.sqr();v<m.length;v++,M=M.sqr())0!==m[v]&&(y=y.mul(M));return y},D.prototype.iushln=function(h){ht("number"==typeof h&&h>=0);var M,m=h%26,y=(h-m)/26,v=67108863>>>26-m<<26-m;if(0!==m){var S=0;for(M=0;M<this.length;M++){var P=this.words[M]&v;this.words[M]=(0|this.words[M])-P<<m|S,S=P>>>26-m}S&&(this.words[M]=S,this.length++)}if(0!==y){for(M=this.length-1;M>=0;M--)this.words[M+y]=this.words[M];for(M=0;M<y;M++)this.words[M]=0;this.length+=y}return this.strip()},D.prototype.ishln=function(h){return ht(0===this.negative),this.iushln(h)},D.prototype.iushrn=function(h,m,y){var v;ht("number"==typeof h&&h>=0),v=m?(m-m%26)/26:0;var M=h%26,S=Math.min((h-M)/26,this.length),P=67108863^67108863>>>M<<M,C=y;if(v-=S,v=Math.max(0,v),C){for(var d=0;d<S;d++)C.words[d]=this.words[d];C.length=S}if(0!==S)if(this.length>S)for(this.length-=S,d=0;d<this.length;d++)this.words[d]=this.words[d+S];else this.words[0]=0,this.length=1;var k=0;for(d=this.length-1;d>=0&&(0!==k||d>=v);d--){var nt=0|this.words[d];this.words[d]=k<<26-M|nt>>>M,k=nt&P}return C&&0!==k&&(C.words[C.length++]=k),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},D.prototype.ishrn=function(h,m,y){return ht(0===this.negative),this.iushrn(h,m,y)},D.prototype.shln=function(h){return this.clone().ishln(h)},D.prototype.ushln=function(h){return this.clone().iushln(h)},D.prototype.shrn=function(h){return this.clone().ishrn(h)},D.prototype.ushrn=function(h){return this.clone().iushrn(h)},D.prototype.testn=function(h){ht("number"==typeof h&&h>=0);var m=h%26,y=(h-m)/26;return!(this.length<=y||!(this.words[y]&1<<m))},D.prototype.imaskn=function(h){ht("number"==typeof h&&h>=0);var m=h%26,y=(h-m)/26;return ht(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==m&&y++,this.length=Math.min(y,this.length),0!==m&&(this.words[this.length-1]&=67108863^67108863>>>m<<m),this.strip())},D.prototype.maskn=function(h){return this.clone().imaskn(h)},D.prototype.iaddn=function(h){return ht("number"==typeof h),ht(h<67108864),h<0?this.isubn(-h):0!==this.negative?1===this.length&&(0|this.words[0])<h?(this.words[0]=h-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},D.prototype._iaddn=function(h){this.words[0]+=h;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},D.prototype.isubn=function(h){if(ht("number"==typeof h),ht(h<67108864),h<0)return this.iaddn(-h);if(0!==this.negative)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this.strip()},D.prototype.addn=function(h){return this.clone().iaddn(h)},D.prototype.subn=function(h){return this.clone().isubn(h)},D.prototype.iabs=function(){return this.negative=0,this},D.prototype.abs=function(){return this.clone().iabs()},D.prototype._ishlnsubmul=function(h,m,y){var M;this._expand(h.length+y);var S,P=0;for(M=0;M<h.length;M++){S=(0|this.words[M+y])+P;var C=(0|h.words[M])*m;P=((S-=67108863&C)>>26)-(C/67108864|0),this.words[M+y]=67108863&S}for(;M<this.length-y;M++)P=(S=(0|this.words[M+y])+P)>>26,this.words[M+y]=67108863&S;if(0===P)return this.strip();for(ht(-1===P),P=0,M=0;M<this.length;M++)P=(S=-(0|this.words[M])+P)>>26,this.words[M]=67108863&S;return this.negative=1,this.strip()},D.prototype._wordDiv=function(h,m){var y,v=this.clone(),M=h,S=0|M.words[M.length-1];0!=(y=26-this._countBits(S))&&(M=M.ushln(y),v.iushln(y),S=0|M.words[M.length-1]);var d,C=v.length-M.length;if("mod"!==m){(d=new D(null)).length=C+1,d.words=new Array(d.length);for(var k=0;k<d.length;k++)d.words[k]=0}var nt=v.clone()._ishlnsubmul(M,1,C);0===nt.negative&&(v=nt,d&&(d.words[C]=1));for(var Q=C-1;Q>=0;Q--){var J=67108864*(0|v.words[M.length+Q])+(0|v.words[M.length+Q-1]);for(J=Math.min(J/S|0,67108863),v._ishlnsubmul(M,J,Q);0!==v.negative;)J--,v.negative=0,v._ishlnsubmul(M,1,Q),v.isZero()||(v.negative^=1);d&&(d.words[Q]=J)}return d&&d.strip(),v.strip(),"div"!==m&&0!==y&&v.iushrn(y),{div:d||null,mod:v}},D.prototype.divmod=function(h,m,y){return ht(!h.isZero()),this.isZero()?{div:new D(0),mod:new D(0)}:0!==this.negative&&0===h.negative?(S=this.neg().divmod(h,m),"mod"!==m&&(v=S.div.neg()),"div"!==m&&(M=S.mod.neg(),y&&0!==M.negative&&M.iadd(h)),{div:v,mod:M}):0===this.negative&&0!==h.negative?(S=this.divmod(h.neg(),m),"mod"!==m&&(v=S.div.neg()),{div:v,mod:S.mod}):0!=(this.negative&h.negative)?(S=this.neg().divmod(h.neg(),m),"div"!==m&&(M=S.mod.neg(),y&&0!==M.negative&&M.isub(h)),{div:S.div,mod:M}):h.length>this.length||this.cmp(h)<0?{div:new D(0),mod:this}:1===h.length?"div"===m?{div:this.divn(h.words[0]),mod:null}:"mod"===m?{div:null,mod:new D(this.modn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new D(this.modn(h.words[0]))}:this._wordDiv(h,m);var v,M,S},D.prototype.div=function(h){return this.divmod(h,"div",!1).div},D.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},D.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},D.prototype.divRound=function(h){var m=this.divmod(h);if(m.mod.isZero())return m.div;var y=0!==m.div.negative?m.mod.isub(h):m.mod,v=h.ushrn(1),M=h.andln(1),S=y.cmp(v);return S<0||1===M&&0===S?m.div:0!==m.div.negative?m.div.isubn(1):m.div.iaddn(1)},D.prototype.modn=function(h){ht(h<=67108863);for(var m=(1<<26)%h,y=0,v=this.length-1;v>=0;v--)y=(m*y+(0|this.words[v]))%h;return y},D.prototype.idivn=function(h){ht(h<=67108863);for(var m=0,y=this.length-1;y>=0;y--){var v=(0|this.words[y])+67108864*m;this.words[y]=v/h|0,m=v%h}return this.strip()},D.prototype.divn=function(h){return this.clone().idivn(h)},D.prototype.egcd=function(h){ht(0===h.negative),ht(!h.isZero());var m=this,y=h.clone();m=0!==m.negative?m.umod(h):m.clone();for(var v=new D(1),M=new D(0),S=new D(0),P=new D(1),C=0;m.isEven()&&y.isEven();)m.iushrn(1),y.iushrn(1),++C;for(var d=y.clone(),k=m.clone();!m.isZero();){for(var nt=0,Q=1;0==(m.words[0]&Q)&&nt<26;++nt,Q<<=1);if(nt>0)for(m.iushrn(nt);nt-- >0;)(v.isOdd()||M.isOdd())&&(v.iadd(d),M.isub(k)),v.iushrn(1),M.iushrn(1);for(var J=0,xt=1;0==(y.words[0]&xt)&&J<26;++J,xt<<=1);if(J>0)for(y.iushrn(J);J-- >0;)(S.isOdd()||P.isOdd())&&(S.iadd(d),P.isub(k)),S.iushrn(1),P.iushrn(1);m.cmp(y)>=0?(m.isub(y),v.isub(S),M.isub(P)):(y.isub(m),S.isub(v),P.isub(M))}return{a:S,b:P,gcd:y.iushln(C)}},D.prototype._invmp=function(h){ht(0===h.negative),ht(!h.isZero());var nt,m=this,y=h.clone();m=0!==m.negative?m.umod(h):m.clone();for(var v=new D(1),M=new D(0),S=y.clone();m.cmpn(1)>0&&y.cmpn(1)>0;){for(var P=0,C=1;0==(m.words[0]&C)&&P<26;++P,C<<=1);if(P>0)for(m.iushrn(P);P-- >0;)v.isOdd()&&v.iadd(S),v.iushrn(1);for(var d=0,k=1;0==(y.words[0]&k)&&d<26;++d,k<<=1);if(d>0)for(y.iushrn(d);d-- >0;)M.isOdd()&&M.iadd(S),M.iushrn(1);m.cmp(y)>=0?(m.isub(y),v.isub(M)):(y.isub(m),M.isub(v))}return(nt=0===m.cmpn(1)?v:M).cmpn(0)<0&&nt.iadd(h),nt},D.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var m=this.clone(),y=h.clone();m.negative=0,y.negative=0;for(var v=0;m.isEven()&&y.isEven();v++)m.iushrn(1),y.iushrn(1);for(;;){for(;m.isEven();)m.iushrn(1);for(;y.isEven();)y.iushrn(1);var M=m.cmp(y);if(M<0){var S=m;m=y,y=S}else if(0===M||0===y.cmpn(1))break;m.isub(y)}return y.iushln(v)},D.prototype.invm=function(h){return this.egcd(h).a.umod(h)},D.prototype.isEven=function(){return 0==(1&this.words[0])},D.prototype.isOdd=function(){return 1==(1&this.words[0])},D.prototype.andln=function(h){return this.words[0]&h},D.prototype.bincn=function(h){ht("number"==typeof h);var m=h%26,y=(h-m)/26,v=1<<m;if(this.length<=y)return this._expand(y+1),this.words[y]|=v,this;for(var M=v,S=y;0!==M&&S<this.length;S++){var P=0|this.words[S];M=(P+=M)>>>26,this.words[S]=P&=67108863}return 0!==M&&(this.words[S]=M,this.length++),this},D.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},D.prototype.cmpn=function(h){var y,m=h<0;if(0!==this.negative&&!m)return-1;if(0===this.negative&&m)return 1;if(this.strip(),this.length>1)y=1;else{m&&(h=-h),ht(h<=67108863,"Number is too big");var v=0|this.words[0];y=v===h?0:v<h?-1:1}return 0!==this.negative?0|-y:y},D.prototype.cmp=function(h){if(0!==this.negative&&0===h.negative)return-1;if(0===this.negative&&0!==h.negative)return 1;var m=this.ucmp(h);return 0!==this.negative?0|-m:m},D.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var m=0,y=this.length-1;y>=0;y--){var v=0|this.words[y],M=0|h.words[y];if(v!==M){v<M?m=-1:v>M&&(m=1);break}}return m},D.prototype.gtn=function(h){return 1===this.cmpn(h)},D.prototype.gt=function(h){return 1===this.cmp(h)},D.prototype.gten=function(h){return this.cmpn(h)>=0},D.prototype.gte=function(h){return this.cmp(h)>=0},D.prototype.ltn=function(h){return-1===this.cmpn(h)},D.prototype.lt=function(h){return-1===this.cmp(h)},D.prototype.lten=function(h){return this.cmpn(h)<=0},D.prototype.lte=function(h){return this.cmp(h)<=0},D.prototype.eqn=function(h){return 0===this.cmpn(h)},D.prototype.eq=function(h){return 0===this.cmp(h)},D.red=function(h){return new Dt(h)},D.prototype.toRed=function(h){return ht(!this.red,"Already a number in reduction context"),ht(0===this.negative,"red works only with positives"),h.convertTo(this)._forceRed(h)},D.prototype.fromRed=function(){return ht(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},D.prototype._forceRed=function(h){return this.red=h,this},D.prototype.forceRed=function(h){return ht(!this.red,"Already a number in reduction context"),this._forceRed(h)},D.prototype.redAdd=function(h){return ht(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},D.prototype.redIAdd=function(h){return ht(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},D.prototype.redSub=function(h){return ht(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},D.prototype.redISub=function(h){return ht(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},D.prototype.redShl=function(h){return ht(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},D.prototype.redMul=function(h){return ht(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},D.prototype.redIMul=function(h){return ht(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},D.prototype.redSqr=function(){return ht(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},D.prototype.redISqr=function(){return ht(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},D.prototype.redSqrt=function(){return ht(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},D.prototype.redInvm=function(){return ht(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},D.prototype.redNeg=function(){return ht(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},D.prototype.redPow=function(h){return ht(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var Z={k256:null,p224:null,p192:null,p25519:null};function et(T,h){this.name=T,this.p=new D(h,16),this.n=this.p.bitLength(),this.k=new D(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function rt(){et.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function mt(){et.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function gt(){et.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Et(){et.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Dt(T){if("string"==typeof T){var h=D._prime(T);this.m=h.p,this.prime=h}else ht(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}function Mt(T){Dt.call(this,T),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new D(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}et.prototype._tmp=function(){var h=new D(null);return h.words=new Array(Math.ceil(this.n/13)),h},et.prototype.ireduce=function(h){var y,m=h;do{this.split(m,this.tmp),y=(m=(m=this.imulK(m)).iadd(this.tmp)).bitLength()}while(y>this.n);var v=y<this.n?-1:m.ucmp(this.p);return 0===v?(m.words[0]=0,m.length=1):v>0?m.isub(this.p):void 0!==m.strip?m.strip():m._strip(),m},et.prototype.split=function(h,m){h.iushrn(this.n,0,m)},et.prototype.imulK=function(h){return h.imul(this.k)},ct(rt,et),rt.prototype.split=function(h,m){for(var y=4194303,v=Math.min(h.length,9),M=0;M<v;M++)m.words[M]=h.words[M];if(m.length=v,h.length<=9)return h.words[0]=0,void(h.length=1);var S=h.words[9];for(m.words[m.length++]=S&y,M=10;M<h.length;M++){var P=0|h.words[M];h.words[M-10]=(P&y)<<4|S>>>22,S=P}h.words[M-10]=S>>>=22,h.length-=0===S&&h.length>10?10:9},rt.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var m=0,y=0;y<h.length;y++){var v=0|h.words[y];h.words[y]=67108863&(m+=977*v),m=64*v+(m/67108864|0)}return 0===h.words[h.length-1]&&(h.length--,0===h.words[h.length-1]&&h.length--),h},ct(mt,et),ct(gt,et),ct(Et,et),Et.prototype.imulK=function(h){for(var m=0,y=0;y<h.length;y++){var v=19*(0|h.words[y])+m,M=67108863&v;v>>>=26,h.words[y]=M,m=v}return 0!==m&&(h.words[h.length++]=m),h},D._prime=function(h){if(Z[h])return Z[h];var m;if("k256"===h)m=new rt;else if("p224"===h)m=new mt;else if("p192"===h)m=new gt;else{if("p25519"!==h)throw new Error("Unknown prime "+h);m=new Et}return Z[h]=m,m},Dt.prototype._verify1=function(h){ht(0===h.negative,"red works only with positives"),ht(h.red,"red works only with red numbers")},Dt.prototype._verify2=function(h,m){ht(0==(h.negative|m.negative),"red works only with positives"),ht(h.red&&h.red===m.red,"red works only with red numbers")},Dt.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):h.umod(this.m)._forceRed(this)},Dt.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},Dt.prototype.add=function(h,m){this._verify2(h,m);var y=h.add(m);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},Dt.prototype.iadd=function(h,m){this._verify2(h,m);var y=h.iadd(m);return y.cmp(this.m)>=0&&y.isub(this.m),y},Dt.prototype.sub=function(h,m){this._verify2(h,m);var y=h.sub(m);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},Dt.prototype.isub=function(h,m){this._verify2(h,m);var y=h.isub(m);return y.cmpn(0)<0&&y.iadd(this.m),y},Dt.prototype.shl=function(h,m){return this._verify1(h),this.imod(h.ushln(m))},Dt.prototype.imul=function(h,m){return this._verify2(h,m),this.imod(h.imul(m))},Dt.prototype.mul=function(h,m){return this._verify2(h,m),this.imod(h.mul(m))},Dt.prototype.isqr=function(h){return this.imul(h,h.clone())},Dt.prototype.sqr=function(h){return this.mul(h,h)},Dt.prototype.sqrt=function(h){if(h.isZero())return h.clone();var m=this.m.andln(3);if(ht(m%2==1),3===m){var y=this.m.add(new D(1)).iushrn(2);return this.pow(h,y)}for(var v=this.m.subn(1),M=0;!v.isZero()&&0===v.andln(1);)M++,v.iushrn(1);ht(!v.isZero());var S=new D(1).toRed(this),P=S.redNeg(),C=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new D(2*d*d).toRed(this);0!==this.pow(d,C).cmp(P);)d.redIAdd(P);for(var k=this.pow(d,v),nt=this.pow(h,v.addn(1).iushrn(1)),Q=this.pow(h,v),J=M;0!==Q.cmp(S);){for(var xt=Q,wt=0;0!==xt.cmp(S);wt++)xt=xt.redSqr();ht(wt<J);var Ft=this.pow(k,new D(1).iushln(J-wt-1));nt=nt.redMul(Ft),k=Ft.redSqr(),Q=Q.redMul(k),J=wt}return nt},Dt.prototype.invm=function(h){var m=h._invmp(this.m);return 0!==m.negative?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},Dt.prototype.pow=function(h,m){if(m.isZero())return new D(1).toRed(this);if(0===m.cmpn(1))return h.clone();var v=new Array(16);v[0]=new D(1).toRed(this),v[1]=h;for(var M=2;M<v.length;M++)v[M]=this.mul(v[M-1],h);var S=v[0],P=0,C=0,d=m.bitLength()%26;for(0===d&&(d=26),M=m.length-1;M>=0;M--){for(var k=m.words[M],nt=d-1;nt>=0;nt--){var Q=k>>nt&1;S!==v[0]&&(S=this.sqr(S)),0!==Q||0!==P?(P<<=1,P|=Q,(4==++C||0===M&&0===nt)&&(S=this.mul(S,v[P]),C=0,P=0)):C=0}d=26}return S},Dt.prototype.convertTo=function(h){var m=h.umod(this.m);return m===h?m.clone():m},Dt.prototype.convertFrom=function(h){var m=h.clone();return m.red=null,m},D.mont=function(h){return new Mt(h)},ct(Mt,Dt),Mt.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},Mt.prototype.convertFrom=function(h){var m=this.imod(h.mul(this.rinv));return m.red=null,m},Mt.prototype.imul=function(h,m){if(h.isZero()||m.isZero())return h.words[0]=0,h.length=1,h;var y=h.imul(m),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(v).iushrn(this.shift),S=M;return M.cmp(this.m)>=0?S=M.isub(this.m):M.cmpn(0)<0&&(S=M.iadd(this.m)),S._forceRed(this)},Mt.prototype.mul=function(h,m){if(h.isZero()||m.isZero())return new D(0)._forceRed(this);var y=h.mul(m),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(v).iushrn(this.shift),S=M;return M.cmp(this.m)>=0?S=M.isub(this.m):M.cmpn(0)<0&&(S=M.iadd(this.m)),S._forceRed(this)},Mt.prototype.invm=function(h){return this.imod(h._invmp(this.m).mul(this.r2))._forceRed(this)}}(fe=kt.nmd(fe),this)},4979:(fe,ot,kt)=>{"use strict";var Tt=kt(3516),Pt=kt(2996),ht=kt(7447),ct=kt(6010),D=kt(8672);function $(X){D.call(this,"digest"),this._hash=X}Tt($,D),$.prototype._update=function(X){this._hash.update(X)},$.prototype._final=function(){return this._hash.digest()},fe.exports=function(it){return"md5"===(it=it.toLowerCase())?new Pt:"rmd160"===it||"ripemd160"===it?new ht:new $(ct(it))}},4936:(fe,ot,kt)=>{var Tt=kt(2996);fe.exports=function(Pt){return(new Tt).update(Pt).digest()}},3927:(fe,ot,kt)=>{"use strict";var Tt=kt(3516),Pt=kt(3107),ht=kt(8672),ct=kt(4615).Buffer,D=kt(4936),$=kt(7447),X=kt(6010),it=ct.alloc(128);function K(W,j){ht.call(this,"digest"),"string"==typeof j&&(j=ct.from(j));var tt="sha512"===W||"sha384"===W?128:64;this._alg=W,this._key=j,j.length>tt?j=("rmd160"===W?new $:X(W)).update(j).digest():j.length<tt&&(j=ct.concat([j,it],tt));for(var U=this._ipad=ct.allocUnsafe(tt),z=this._opad=ct.allocUnsafe(tt),Y=0;Y<tt;Y++)U[Y]=54^j[Y],z[Y]=92^j[Y];this._hash="rmd160"===W?new $:X(W),this._hash.update(U)}Tt(K,ht),K.prototype._update=function(W){this._hash.update(W)},K.prototype._final=function(){var W=this._hash.digest();return("rmd160"===this._alg?new $:X(this._alg)).update(this._opad).update(W).digest()},fe.exports=function(j,tt){return"rmd160"===(j=j.toLowerCase())||"ripemd160"===j?new K("rmd160",tt):"md5"===j?new Pt(D,tt):new K(j,tt)}},3107:(fe,ot,kt)=>{"use strict";var Tt=kt(3516),Pt=kt(4615).Buffer,ht=kt(8672),ct=Pt.alloc(128),D=64;function $(X,it){ht.call(this,"digest"),"string"==typeof it&&(it=Pt.from(it)),this._alg=X,this._key=it,it.length>D?it=X(it):it.length<D&&(it=Pt.concat([it,ct],D));for(var K=this._ipad=Pt.allocUnsafe(D),W=this._opad=Pt.allocUnsafe(D),j=0;j<D;j++)K[j]=54^it[j],W[j]=92^it[j];this._hash=[K]}Tt($,ht),$.prototype._update=function(X){this._hash.push(X)},$.prototype._final=function(){var X=this._alg(Pt.concat(this._hash));return this._alg(Pt.concat([this._opad,X]))},fe.exports=$},7702:(fe,ot,kt)=>{"use strict";ot.randomBytes=ot.rng=ot.pseudoRandomBytes=ot.prng=kt(8747),ot.createHash=ot.Hash=kt(4979),ot.createHmac=ot.Hmac=kt(3927);var Tt=kt(6850),Pt=Object.keys(Tt),ht=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(Pt);ot.getHashes=function(){return ht};var ct=kt(6556);ot.pbkdf2=ct.pbkdf2,ot.pbkdf2Sync=ct.pbkdf2Sync;var D=kt(5828);ot.Cipher=D.Cipher,ot.createCipher=D.createCipher,ot.Cipheriv=D.Cipheriv,ot.createCipheriv=D.createCipheriv,ot.Decipher=D.Decipher,ot.createDecipher=D.createDecipher,ot.Decipheriv=D.Decipheriv,ot.createDecipheriv=D.createDecipheriv,ot.getCiphers=D.getCiphers,ot.listCiphers=D.listCiphers;var $=kt(1198);ot.DiffieHellmanGroup=$.DiffieHellmanGroup,ot.createDiffieHellmanGroup=$.createDiffieHellmanGroup,ot.getDiffieHellman=$.getDiffieHellman,ot.createDiffieHellman=$.createDiffieHellman,ot.DiffieHellman=$.DiffieHellman;var X=kt(5822);ot.createSign=X.createSign,ot.Sign=X.Sign,ot.createVerify=X.createVerify,ot.Verify=X.Verify,ot.createECDH=kt(4523);var it=kt(2914);ot.publicEncrypt=it.publicEncrypt,ot.privateEncrypt=it.privateEncrypt,ot.publicDecrypt=it.publicDecrypt,ot.privateDecrypt=it.privateDecrypt;var K=kt(1766);ot.randomFill=K.randomFill,ot.randomFillSync=K.randomFillSync,ot.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},ot.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},3335:function(fe,ot,kt){var Tt;fe.exports=(Tt=kt(1357),kt(8911),kt(8474),kt(7916),kt(811),function(){var Pt=Tt,ct=Pt.lib.BlockCipher,D=Pt.algo,$=[],X=[],it=[],K=[],W=[],j=[],tt=[],N=[],U=[],z=[];!function(){for(var V=[],Z=0;Z<256;Z++)V[Z]=Z<128?Z<<1:Z<<1^283;var et=0,rt=0;for(Z=0;Z<256;Z++){var mt=rt^rt<<1^rt<<2^rt<<3^rt<<4;$[et]=mt=mt>>>8^255&mt^99,X[mt]=et;var Mt,gt=V[et],Et=V[gt],Dt=V[Et];it[et]=(Mt=257*V[mt]^16843008*mt)<<24|Mt>>>8,K[et]=Mt<<16|Mt>>>16,W[et]=Mt<<8|Mt>>>24,j[et]=Mt,tt[mt]=(Mt=16843009*Dt^65537*Et^257*gt^16843008*et)<<24|Mt>>>8,N[mt]=Mt<<16|Mt>>>16,U[mt]=Mt<<8|Mt>>>24,z[mt]=Mt,et?(et=gt^V[V[V[Dt^gt]]],rt^=V[V[rt]]):et=rt=1}}();var Y=[0,1,2,4,8,16,32,64,128,27,54],q=D.AES=ct.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var Z=this._keyPriorReset=this._key,et=Z.words,rt=Z.sigBytes/4,gt=4*((this._nRounds=rt+6)+1),Et=this._keySchedule=[],Dt=0;Dt<gt;Dt++)Dt<rt?Et[Dt]=et[Dt]:(V=Et[Dt-1],Dt%rt?rt>6&&Dt%rt==4&&(V=$[V>>>24]<<24|$[V>>>16&255]<<16|$[V>>>8&255]<<8|$[255&V]):(V=$[(V=V<<8|V>>>24)>>>24]<<24|$[V>>>16&255]<<16|$[V>>>8&255]<<8|$[255&V],V^=Y[Dt/rt|0]<<24),Et[Dt]=Et[Dt-rt]^V);for(var Mt=this._invKeySchedule=[],T=0;T<gt;T++){if(Dt=gt-T,T%4)var V=Et[Dt];else V=Et[Dt-4];Mt[T]=T<4||Dt<=4?V:tt[$[V>>>24]]^N[$[V>>>16&255]]^U[$[V>>>8&255]]^z[$[255&V]]}}},encryptBlock:function(V,Z){this._doCryptBlock(V,Z,this._keySchedule,it,K,W,j,$)},decryptBlock:function(V,Z){var et=V[Z+1];V[Z+1]=V[Z+3],V[Z+3]=et,this._doCryptBlock(V,Z,this._invKeySchedule,tt,N,U,z,X),et=V[Z+1],V[Z+1]=V[Z+3],V[Z+3]=et},_doCryptBlock:function(V,Z,et,rt,mt,gt,Et,Dt){for(var Mt=this._nRounds,T=V[Z]^et[0],h=V[Z+1]^et[1],m=V[Z+2]^et[2],y=V[Z+3]^et[3],v=4,M=1;M<Mt;M++){var S=rt[T>>>24]^mt[h>>>16&255]^gt[m>>>8&255]^Et[255&y]^et[v++],P=rt[h>>>24]^mt[m>>>16&255]^gt[y>>>8&255]^Et[255&T]^et[v++],C=rt[m>>>24]^mt[y>>>16&255]^gt[T>>>8&255]^Et[255&h]^et[v++],d=rt[y>>>24]^mt[T>>>16&255]^gt[h>>>8&255]^Et[255&m]^et[v++];T=S,h=P,m=C,y=d}S=(Dt[T>>>24]<<24|Dt[h>>>16&255]<<16|Dt[m>>>8&255]<<8|Dt[255&y])^et[v++],P=(Dt[h>>>24]<<24|Dt[m>>>16&255]<<16|Dt[y>>>8&255]<<8|Dt[255&T])^et[v++],C=(Dt[m>>>24]<<24|Dt[y>>>16&255]<<16|Dt[T>>>8&255]<<8|Dt[255&h])^et[v++],d=(Dt[y>>>24]<<24|Dt[T>>>16&255]<<16|Dt[h>>>8&255]<<8|Dt[255&m])^et[v++],V[Z]=S,V[Z+1]=P,V[Z+2]=C,V[Z+3]=d},keySize:8});Pt.AES=ct._createHelper(q)}(),Tt.AES)},811:function(fe,ot,kt){var ht,ct,D,$,X,it,W,tt,N,z,Y,q,Z,rt,gt,Et,Mt,T,Tt;fe.exports=(Tt=kt(1357),kt(7916),void(Tt.lib.Cipher||(ht=Tt,ct=ht.lib,D=ct.Base,$=ct.WordArray,X=ct.BufferedBlockAlgorithm,it=ht.enc,W=it.Base64,tt=ht.algo.EvpKDF,N=ct.Cipher=X.extend({cfg:D.extend(),createEncryptor:function(h,m){return this.create(this._ENC_XFORM_MODE,h,m)},createDecryptor:function(h,m){return this.create(this._DEC_XFORM_MODE,h,m)},init:function(h,m,y){this.cfg=this.cfg.extend(y),this._xformMode=h,this._key=m,this.reset()},reset:function(){X.reset.call(this),this._doReset()},process:function(h){return this._append(h),this._process()},finalize:function(h){return h&&this._append(h),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function h(m){return"string"==typeof m?T:Et}return function(m){return{encrypt:function(y,v,M){return h(v).encrypt(m,y,v,M)},decrypt:function(y,v,M){return h(v).decrypt(m,y,v,M)}}}}()}),ct.StreamCipher=N.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),z=ht.mode={},Y=ct.BlockCipherMode=D.extend({createEncryptor:function(h,m){return this.Encryptor.create(h,m)},createDecryptor:function(h,m){return this.Decryptor.create(h,m)},init:function(h,m){this._cipher=h,this._iv=m}}),q=z.CBC=function(){var h=Y.extend();function m(y,v,M){var S,P=this._iv;P?(S=P,this._iv=undefined):S=this._prevBlock;for(var C=0;C<M;C++)y[v+C]^=S[C]}return h.Encryptor=h.extend({processBlock:function(y,v){var M=this._cipher,S=M.blockSize;m.call(this,y,v,S),M.encryptBlock(y,v),this._prevBlock=y.slice(v,v+S)}}),h.Decryptor=h.extend({processBlock:function(y,v){var M=this._cipher,S=M.blockSize,P=y.slice(v,v+S);M.decryptBlock(y,v),m.call(this,y,v,S),this._prevBlock=P}}),h}(),Z=(ht.pad={}).Pkcs7={pad:function(h,m){for(var y=4*m,v=y-h.sigBytes%y,M=v<<24|v<<16|v<<8|v,S=[],P=0;P<v;P+=4)S.push(M);var C=$.create(S,v);h.concat(C)},unpad:function(h){h.sigBytes-=255&h.words[h.sigBytes-1>>>2]}},ct.BlockCipher=N.extend({cfg:N.cfg.extend({mode:q,padding:Z}),reset:function(){var h;N.reset.call(this);var m=this.cfg,y=m.iv,v=m.mode;this._xformMode==this._ENC_XFORM_MODE?h=v.createEncryptor:(h=v.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==h?this._mode.init(this,y&&y.words):(this._mode=h.call(v,this,y&&y.words),this._mode.__creator=h)},_doProcessBlock:function(h,m){this._mode.processBlock(h,m)},_doFinalize:function(){var h,m=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(m.pad(this._data,this.blockSize),h=this._process(!0)):(h=this._process(!0),m.unpad(h)),h},blockSize:4}),rt=ct.CipherParams=D.extend({init:function(h){this.mixIn(h)},toString:function(h){return(h||this.formatter).stringify(this)}}),gt=(ht.format={}).OpenSSL={stringify:function(h){var y=h.ciphertext,v=h.salt;return(v?$.create([1398893684,1701076831]).concat(v).concat(y):y).toString(W)},parse:function(h){var m,y=W.parse(h),v=y.words;return 1398893684==v[0]&&1701076831==v[1]&&(m=$.create(v.slice(2,4)),v.splice(0,4),y.sigBytes-=16),rt.create({ciphertext:y,salt:m})}},Et=ct.SerializableCipher=D.extend({cfg:D.extend({format:gt}),encrypt:function(h,m,y,v){v=this.cfg.extend(v);var M=h.createEncryptor(y,v),S=M.finalize(m),P=M.cfg;return rt.create({ciphertext:S,key:y,iv:P.iv,algorithm:h,mode:P.mode,padding:P.padding,blockSize:h.blockSize,formatter:v.format})},decrypt:function(h,m,y,v){return v=this.cfg.extend(v),m=this._parse(m,v.format),h.createDecryptor(y,v).finalize(m.ciphertext)},_parse:function(h,m){return"string"==typeof h?m.parse(h,this):h}}),Mt=(ht.kdf={}).OpenSSL={execute:function(h,m,y,v){v||(v=$.random(8));var M=tt.create({keySize:m+y}).compute(h,v),S=$.create(M.words.slice(m),4*y);return M.sigBytes=4*m,rt.create({key:M,iv:S,salt:v})}},T=ct.PasswordBasedCipher=Et.extend({cfg:Et.cfg.extend({kdf:Mt}),encrypt:function(h,m,y,v){var M=(v=this.cfg.extend(v)).kdf.execute(y,h.keySize,h.ivSize);v.iv=M.iv;var S=Et.encrypt.call(this,h,m,M.key,v);return S.mixIn(M),S},decrypt:function(h,m,y,v){v=this.cfg.extend(v),m=this._parse(m,v.format);var M=v.kdf.execute(y,h.keySize,h.ivSize,m.salt);return v.iv=M.iv,Et.decrypt.call(this,h,m,M.key,v)}}))))},1357:function(fe,ot,kt){var Tt;fe.exports=(Tt=Tt||function(Pt,ht){var ct;if("undefined"!=typeof window&&window.crypto&&(ct=window.crypto),"undefined"!=typeof self&&self.crypto&&(ct=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(ct=globalThis.crypto),!ct&&"undefined"!=typeof window&&window.msCrypto&&(ct=window.msCrypto),!ct&&"undefined"!=typeof global&&global.crypto&&(ct=global.crypto),!ct)try{ct=kt(7702)}catch(V){}var D=function(){if(ct){if("function"==typeof ct.getRandomValues)try{return ct.getRandomValues(new Uint32Array(1))[0]}catch(V){}if("function"==typeof ct.randomBytes)try{return ct.randomBytes(4).readInt32LE()}catch(V){}}throw new Error("Native crypto module could not be used to get secure random number.")},$=Object.create||function(){function V(){}return function(Z){var et;return V.prototype=Z,et=new V,V.prototype=null,et}}(),X={},it=X.lib={},K=it.Base={extend:function(V){var Z=$(this);return V&&Z.mixIn(V),(!Z.hasOwnProperty("init")||this.init===Z.init)&&(Z.init=function(){Z.$super.init.apply(this,arguments)}),Z.init.prototype=Z,Z.$super=this,Z},create:function(){var V=this.extend();return V.init.apply(V,arguments),V},init:function(){},mixIn:function(V){for(var Z in V)V.hasOwnProperty(Z)&&(this[Z]=V[Z]);V.hasOwnProperty("toString")&&(this.toString=V.toString)},clone:function(){return this.init.prototype.extend(this)}},W=it.WordArray=K.extend({init:function(V,Z){V=this.words=V||[],this.sigBytes=null!=Z?Z:4*V.length},toString:function(V){return(V||tt).stringify(this)},concat:function(V){var Z=this.words,et=V.words,rt=this.sigBytes,mt=V.sigBytes;if(this.clamp(),rt%4)for(var gt=0;gt<mt;gt++)Z[rt+gt>>>2]|=(et[gt>>>2]>>>24-gt%4*8&255)<<24-(rt+gt)%4*8;else for(var Dt=0;Dt<mt;Dt+=4)Z[rt+Dt>>>2]=et[Dt>>>2];return this.sigBytes+=mt,this},clamp:function(){var V=this.words,Z=this.sigBytes;V[Z>>>2]&=4294967295<<32-Z%4*8,V.length=Pt.ceil(Z/4)},clone:function(){var V=K.clone.call(this);return V.words=this.words.slice(0),V},random:function(V){for(var Z=[],et=0;et<V;et+=4)Z.push(D());return new W.init(Z,V)}}),j=X.enc={},tt=j.Hex={stringify:function(V){for(var Z=V.words,et=V.sigBytes,rt=[],mt=0;mt<et;mt++){var gt=Z[mt>>>2]>>>24-mt%4*8&255;rt.push((gt>>>4).toString(16)),rt.push((15&gt).toString(16))}return rt.join("")},parse:function(V){for(var Z=V.length,et=[],rt=0;rt<Z;rt+=2)et[rt>>>3]|=parseInt(V.substr(rt,2),16)<<24-rt%8*4;return new W.init(et,Z/2)}},N=j.Latin1={stringify:function(V){for(var Z=V.words,et=V.sigBytes,rt=[],mt=0;mt<et;mt++)rt.push(String.fromCharCode(Z[mt>>>2]>>>24-mt%4*8&255));return rt.join("")},parse:function(V){for(var Z=V.length,et=[],rt=0;rt<Z;rt++)et[rt>>>2]|=(255&V.charCodeAt(rt))<<24-rt%4*8;return new W.init(et,Z)}},U=j.Utf8={stringify:function(V){try{return decodeURIComponent(escape(N.stringify(V)))}catch(Z){throw new Error("Malformed UTF-8 data")}},parse:function(V){return N.parse(unescape(encodeURIComponent(V)))}},z=it.BufferedBlockAlgorithm=K.extend({reset:function(){this._data=new W.init,this._nDataBytes=0},_append:function(V){"string"==typeof V&&(V=U.parse(V)),this._data.concat(V),this._nDataBytes+=V.sigBytes},_process:function(V){var Z,et=this._data,rt=et.words,mt=et.sigBytes,gt=this.blockSize,Dt=mt/(4*gt),Mt=(Dt=V?Pt.ceil(Dt):Pt.max((0|Dt)-this._minBufferSize,0))*gt,T=Pt.min(4*Mt,mt);if(Mt){for(var h=0;h<Mt;h+=gt)this._doProcessBlock(rt,h);Z=rt.splice(0,Mt),et.sigBytes-=T}return new W.init(Z,T)},clone:function(){var V=K.clone.call(this);return V._data=this._data.clone(),V},_minBufferSize:0}),q=(it.Hasher=z.extend({cfg:K.extend(),init:function(V){this.cfg=this.cfg.extend(V),this.reset()},reset:function(){z.reset.call(this),this._doReset()},update:function(V){return this._append(V),this._process(),this},finalize:function(V){return V&&this._append(V),this._doFinalize()},blockSize:16,_createHelper:function(V){return function(Z,et){return new V.init(et).finalize(Z)}},_createHmacHelper:function(V){return function(Z,et){return new q.HMAC.init(V,et).finalize(Z)}}}),X.algo={});return X}(Math),Tt)},8911:function(fe,ot,kt){var Tt,ct;fe.exports=(Tt=kt(1357),ct=Tt.lib.WordArray,Tt.enc.Base64={stringify:function(it){var K=it.words,W=it.sigBytes,j=this._map;it.clamp();for(var tt=[],N=0;N<W;N+=3)for(var q=(K[N>>>2]>>>24-N%4*8&255)<<16|(K[N+1>>>2]>>>24-(N+1)%4*8&255)<<8|K[N+2>>>2]>>>24-(N+2)%4*8&255,V=0;V<4&&N+.75*V<W;V++)tt.push(j.charAt(q>>>6*(3-V)&63));var Z=j.charAt(64);if(Z)for(;tt.length%4;)tt.push(Z);return tt.join("")},parse:function(it){var K=it.length,W=this._map,j=this._reverseMap;if(!j){j=this._reverseMap=[];for(var tt=0;tt<W.length;tt++)j[W.charCodeAt(tt)]=tt}var N=W.charAt(64);if(N){var U=it.indexOf(N);-1!==U&&(K=U)}return function(it,K,W){for(var j=[],tt=0,N=0;N<K;N++)if(N%4){var U=W[it.charCodeAt(N-1)]<<N%4*2,z=W[it.charCodeAt(N)]>>>6-N%4*2;j[tt>>>2]|=(U|z)<<24-tt%4*8,tt++}return ct.create(j,tt)}(it,K,j)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},Tt.enc.Base64)},3931:function(fe,ot,kt){var Tt,ct;fe.exports=(Tt=kt(1357),ct=Tt.lib.WordArray,Tt.enc.Base64url={stringify:function(it,K=!0){var W=it.words,j=it.sigBytes,tt=K?this._safe_map:this._map;it.clamp();for(var N=[],U=0;U<j;U+=3)for(var V=(W[U>>>2]>>>24-U%4*8&255)<<16|(W[U+1>>>2]>>>24-(U+1)%4*8&255)<<8|W[U+2>>>2]>>>24-(U+2)%4*8&255,Z=0;Z<4&&U+.75*Z<j;Z++)N.push(tt.charAt(V>>>6*(3-Z)&63));var et=tt.charAt(64);if(et)for(;N.length%4;)N.push(et);return N.join("")},parse:function(it,K=!0){var W=it.length,j=K?this._safe_map:this._map,tt=this._reverseMap;if(!tt){tt=this._reverseMap=[];for(var N=0;N<j.length;N++)tt[j.charCodeAt(N)]=N}var U=j.charAt(64);if(U){var z=it.indexOf(U);-1!==z&&(W=z)}return function(it,K,W){for(var j=[],tt=0,N=0;N<K;N++)if(N%4){var U=W[it.charCodeAt(N-1)]<<N%4*2,z=W[it.charCodeAt(N)]>>>6-N%4*2;j[tt>>>2]|=(U|z)<<24-tt%4*8,tt++}return ct.create(j,tt)}(it,W,tt)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},Tt.enc.Base64url)},5912:function(fe,ot,kt){var Tt;fe.exports=(Tt=kt(1357),function(){var ct=Tt.lib.WordArray,D=Tt.enc;function X(it){return it<<8&4278255360|it>>>8&16711935}D.Utf16=D.Utf16BE={stringify:function(it){for(var K=it.words,W=it.sigBytes,j=[],tt=0;tt<W;tt+=2)j.push(String.fromCharCode(K[tt>>>2]>>>16-tt%4*8&65535));return j.join("")},parse:function(it){for(var K=it.length,W=[],j=0;j<K;j++)W[j>>>1]|=it.charCodeAt(j)<<16-j%2*16;return ct.create(W,2*K)}},D.Utf16LE={stringify:function(it){for(var K=it.words,W=it.sigBytes,j=[],tt=0;tt<W;tt+=2){var N=X(K[tt>>>2]>>>16-tt%4*8&65535);j.push(String.fromCharCode(N))}return j.join("")},parse:function(it){for(var K=it.length,W=[],j=0;j<K;j++)W[j>>>1]|=X(it.charCodeAt(j)<<16-j%2*16);return ct.create(W,2*K)}}}(),Tt.enc.Utf16)},7916:function(fe,ot,kt){var Pt,ht,ct,D,$,it,Tt;fe.exports=(Tt=kt(1357),kt(5463),kt(2718),D=(ht=(Pt=Tt).lib).WordArray,it=($=Pt.algo).EvpKDF=(ct=ht.Base).extend({cfg:ct.extend({keySize:4,hasher:$.MD5,iterations:1}),init:function(K){this.cfg=this.cfg.extend(K)},compute:function(K,W){for(var j,tt=this.cfg,N=tt.hasher.create(),U=D.create(),z=U.words,Y=tt.keySize,q=tt.iterations;z.length<Y;){j&&N.update(j),j=N.update(K).finalize(W),N.reset();for(var V=1;V<q;V++)j=N.finalize(j),N.reset();U.concat(j)}return U.sigBytes=4*Y,U}}),Pt.EvpKDF=function(K,W,j){return it.create(j).compute(K,W)},Tt.EvpKDF)},4768:function(fe,ot,kt){var Tt,D,X;fe.exports=(Tt=kt(1357),kt(811),D=Tt.lib.CipherParams,X=Tt.enc.Hex,Tt.format.Hex={stringify:function(W){return W.ciphertext.toString(X)},parse:function(W){var j=X.parse(W);return D.create({ciphertext:j})}},Tt.format.Hex)},2718:function(fe,ot,kt){var Tt,$;fe.exports=(Tt=kt(1357),$=Tt.enc.Utf8,void(Tt.algo.HMAC=Tt.lib.Base.extend({init:function(K,W){K=this._hasher=new K.init,"string"==typeof W&&(W=$.parse(W));var j=K.blockSize,tt=4*j;W.sigBytes>tt&&(W=K.finalize(W)),W.clamp();for(var N=this._oKey=W.clone(),U=this._iKey=W.clone(),z=N.words,Y=U.words,q=0;q<j;q++)z[q]^=1549556828,Y[q]^=909522486;N.sigBytes=U.sigBytes=tt,this.reset()},reset:function(){var K=this._hasher;K.reset(),K.update(this._iKey)},update:function(K){return this._hasher.update(K),this},finalize:function(K){var W=this._hasher,j=W.finalize(K);return W.reset(),W.finalize(this._oKey.clone().concat(j))}})))},7908:function(fe,ot,kt){var Tt;fe.exports=(Tt=kt(1357),kt(1514),kt(3404),kt(5912),kt(8911),kt(3931),kt(8474),kt(5463),kt(8894),kt(4511),kt(7055),kt(5013),kt(1485),kt(5485),kt(2718),kt(5092),kt(7916),kt(811),kt(8431),kt(1347),kt(9230),kt(9671),kt(5620),kt(7939),kt(1646),kt(8228),kt(3109),kt(2267),kt(4768),kt(3335),kt(6707),kt(8538),kt(9097),kt(8198),Tt)},3404:function(fe,ot,kt){var Tt;fe.exports=(Tt=kt(1357),function(){if("function"==typeof ArrayBuffer){var ct=Tt.lib.WordArray,D=ct.init,$=ct.init=function(X){if(X instanceof ArrayBuffer&&(X=new Uint8Array(X)),(X instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&X instanceof Uint8ClampedArray||X instanceof Int16Array||X instanceof Uint16Array||X instanceof Int32Array||X instanceof Uint32Array||X instanceof Float32Array||X instanceof Float64Array)&&(X=new Uint8Array(X.buffer,X.byteOffset,X.byteLength)),X instanceof Uint8Array){for(var it=X.byteLength,K=[],W=0;W<it;W++)K[W>>>2]|=X[W]<<24-W%4*8;D.call(this,K,it)}else D.apply(this,arguments)};$.prototype=ct}}(),Tt.lib.WordArray)},8474:function(fe,ot,kt){var Tt;fe.exports=(Tt=kt(1357),function(Pt){var ht=Tt,ct=ht.lib,D=ct.WordArray,$=ct.Hasher,X=ht.algo,it=[];!function(){for(var U=0;U<64;U++)it[U]=4294967296*Pt.abs(Pt.sin(U+1))|0}();var K=X.MD5=$.extend({_doReset:function(){this._hash=new D.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(U,z){for(var Y=0;Y<16;Y++){var q=z+Y,V=U[q];U[q]=16711935&(V<<8|V>>>24)|4278255360&(V<<24|V>>>8)}var Z=this._hash.words,et=U[z+0],rt=U[z+1],mt=U[z+2],gt=U[z+3],Et=U[z+4],Dt=U[z+5],Mt=U[z+6],T=U[z+7],h=U[z+8],m=U[z+9],y=U[z+10],v=U[z+11],M=U[z+12],S=U[z+13],P=U[z+14],C=U[z+15],d=Z[0],k=Z[1],nt=Z[2],Q=Z[3];d=W(d,k,nt,Q,et,7,it[0]),Q=W(Q,d,k,nt,rt,12,it[1]),nt=W(nt,Q,d,k,mt,17,it[2]),k=W(k,nt,Q,d,gt,22,it[3]),d=W(d,k,nt,Q,Et,7,it[4]),Q=W(Q,d,k,nt,Dt,12,it[5]),nt=W(nt,Q,d,k,Mt,17,it[6]),k=W(k,nt,Q,d,T,22,it[7]),d=W(d,k,nt,Q,h,7,it[8]),Q=W(Q,d,k,nt,m,12,it[9]),nt=W(nt,Q,d,k,y,17,it[10]),k=W(k,nt,Q,d,v,22,it[11]),d=W(d,k,nt,Q,M,7,it[12]),Q=W(Q,d,k,nt,S,12,it[13]),nt=W(nt,Q,d,k,P,17,it[14]),d=j(d,k=W(k,nt,Q,d,C,22,it[15]),nt,Q,rt,5,it[16]),Q=j(Q,d,k,nt,Mt,9,it[17]),nt=j(nt,Q,d,k,v,14,it[18]),k=j(k,nt,Q,d,et,20,it[19]),d=j(d,k,nt,Q,Dt,5,it[20]),Q=j(Q,d,k,nt,y,9,it[21]),nt=j(nt,Q,d,k,C,14,it[22]),k=j(k,nt,Q,d,Et,20,it[23]),d=j(d,k,nt,Q,m,5,it[24]),Q=j(Q,d,k,nt,P,9,it[25]),nt=j(nt,Q,d,k,gt,14,it[26]),k=j(k,nt,Q,d,h,20,it[27]),d=j(d,k,nt,Q,S,5,it[28]),Q=j(Q,d,k,nt,mt,9,it[29]),nt=j(nt,Q,d,k,T,14,it[30]),d=tt(d,k=j(k,nt,Q,d,M,20,it[31]),nt,Q,Dt,4,it[32]),Q=tt(Q,d,k,nt,h,11,it[33]),nt=tt(nt,Q,d,k,v,16,it[34]),k=tt(k,nt,Q,d,P,23,it[35]),d=tt(d,k,nt,Q,rt,4,it[36]),Q=tt(Q,d,k,nt,Et,11,it[37]),nt=tt(nt,Q,d,k,T,16,it[38]),k=tt(k,nt,Q,d,y,23,it[39]),d=tt(d,k,nt,Q,S,4,it[40]),Q=tt(Q,d,k,nt,et,11,it[41]),nt=tt(nt,Q,d,k,gt,16,it[42]),k=tt(k,nt,Q,d,Mt,23,it[43]),d=tt(d,k,nt,Q,m,4,it[44]),Q=tt(Q,d,k,nt,M,11,it[45]),nt=tt(nt,Q,d,k,C,16,it[46]),d=N(d,k=tt(k,nt,Q,d,mt,23,it[47]),nt,Q,et,6,it[48]),Q=N(Q,d,k,nt,T,10,it[49]),nt=N(nt,Q,d,k,P,15,it[50]),k=N(k,nt,Q,d,Dt,21,it[51]),d=N(d,k,nt,Q,M,6,it[52]),Q=N(Q,d,k,nt,gt,10,it[53]),nt=N(nt,Q,d,k,y,15,it[54]),k=N(k,nt,Q,d,rt,21,it[55]),d=N(d,k,nt,Q,h,6,it[56]),Q=N(Q,d,k,nt,C,10,it[57]),nt=N(nt,Q,d,k,Mt,15,it[58]),k=N(k,nt,Q,d,S,21,it[59]),d=N(d,k,nt,Q,Et,6,it[60]),Q=N(Q,d,k,nt,v,10,it[61]),nt=N(nt,Q,d,k,mt,15,it[62]),k=N(k,nt,Q,d,m,21,it[63]),Z[0]=Z[0]+d|0,Z[1]=Z[1]+k|0,Z[2]=Z[2]+nt|0,Z[3]=Z[3]+Q|0},_doFinalize:function(){var U=this._data,z=U.words,Y=8*this._nDataBytes,q=8*U.sigBytes;z[q>>>5]|=128<<24-q%32;var V=Pt.floor(Y/4294967296),Z=Y;z[15+(q+64>>>9<<4)]=16711935&(V<<8|V>>>24)|4278255360&(V<<24|V>>>8),z[14+(q+64>>>9<<4)]=16711935&(Z<<8|Z>>>24)|4278255360&(Z<<24|Z>>>8),U.sigBytes=4*(z.length+1),this._process();for(var et=this._hash,rt=et.words,mt=0;mt<4;mt++){var gt=rt[mt];rt[mt]=16711935&(gt<<8|gt>>>24)|4278255360&(gt<<24|gt>>>8)}return et},clone:function(){var U=$.clone.call(this);return U._hash=this._hash.clone(),U}});function W(U,z,Y,q,V,Z,et){var rt=U+(z&Y|~z&q)+V+et;return(rt<<Z|rt>>>32-Z)+z}function j(U,z,Y,q,V,Z,et){var rt=U+(z&q|Y&~q)+V+et;return(rt<<Z|rt>>>32-Z)+z}function tt(U,z,Y,q,V,Z,et){var rt=U+(z^Y^q)+V+et;return(rt<<Z|rt>>>32-Z)+z}function N(U,z,Y,q,V,Z,et){var rt=U+(Y^(z|~q))+V+et;return(rt<<Z|rt>>>32-Z)+z}ht.MD5=$._createHelper(K),ht.HmacMD5=$._createHmacHelper(K)}(Math),Tt.MD5)},8431:function(fe,ot,kt){var Tt;fe.exports=(Tt=kt(1357),kt(811),Tt.mode.CFB=function(){var Pt=Tt.lib.BlockCipherMode.extend();function ht(ct,D,$,X){var it,K=this._iv;K?(it=K.slice(0),this._iv=void 0):it=this._prevBlock,X.encryptBlock(it,0);for(var W=0;W<$;W++)ct[D+W]^=it[W]}return Pt.Encryptor=Pt.extend({processBlock:function(ct,D){var $=this._cipher,X=$.blockSize;ht.call(this,ct,D,X,$),this._prevBlock=ct.slice(D,D+X)}}),Pt.Decryptor=Pt.extend({processBlock:function(ct,D){var $=this._cipher,X=$.blockSize,it=ct.slice(D,D+X);ht.call(this,ct,D,X,$),this._prevBlock=it}}),Pt}(),Tt.mode.CFB)},9230:function(fe,ot,kt){var Tt;fe.exports=(Tt=kt(1357),kt(811),Tt.mode.CTRGladman=function(){var Pt=Tt.lib.BlockCipherMode.extend();function ht($){if(255==($>>24&255)){var X=$>>16&255,it=$>>8&255,K=255&$;255===X?(X=0,255===it?(it=0,255===K?K=0:++K):++it):++X,$=0,$+=X<<16,$+=it<<8,$+=K}else $+=1<<24;return $}var D=Pt.Encryptor=Pt.extend({processBlock:function($,X){var it=this._cipher,K=it.blockSize,W=this._iv,j=this._counter;W&&(j=this._counter=W.slice(0),this._iv=void 0),function($){0===($[0]=ht($[0]))&&($[1]=ht($[1]))}(j);var tt=j.slice(0);it.encryptBlock(tt,0);for(var N=0;N<K;N++)$[X+N]^=tt[N]}});return Pt.Decryptor=D,Pt}(),Tt.mode.CTRGladman)},1347:function(fe,ot,kt){var Pt,ht,Tt;fe.exports=(Tt=kt(1357),kt(811),Tt.mode.CTR=(ht=(Pt=Tt.lib.BlockCipherMode.extend()).Encryptor=Pt.extend({processBlock:function(ct,D){var $=this._cipher,X=$.blockSize,it=this._iv,K=this._counter;it&&(K=this._counter=it.slice(0),this._iv=void 0);var W=K.slice(0);$.encryptBlock(W,0),K[X-1]=K[X-1]+1|0;for(var j=0;j<X;j++)ct[D+j]^=W[j]}}),Pt.Decryptor=ht,Pt),Tt.mode.CTR)},5620:function(fe,ot,kt){var Pt,Tt;fe.exports=(Tt=kt(1357),kt(811),Tt.mode.ECB=((Pt=Tt.lib.BlockCipherMode.extend()).Encryptor=Pt.extend({processBlock:function(ht,ct){this._cipher.encryptBlock(ht,ct)}}),Pt.Decryptor=Pt.extend({processBlock:function(ht,ct){this._cipher.decryptBlock(ht,ct)}}),Pt),Tt.mode.ECB)},9671:function(fe,ot,kt){var Pt,ht,Tt;fe.exports=(Tt=kt(1357),kt(811),Tt.mode.OFB=(ht=(Pt=Tt.lib.BlockCipherMode.extend()).Encryptor=Pt.extend({processBlock:function(ct,D){var $=this._cipher,X=$.blockSize,it=this._iv,K=this._keystream;it&&(K=this._keystream=it.slice(0),this._iv=void 0),$.encryptBlock(K,0);for(var W=0;W<X;W++)ct[D+W]^=K[W]}}),Pt.Decryptor=ht,Pt),Tt.mode.OFB)},7939:function(fe,ot,kt){var Tt;fe.exports=(Tt=kt(1357),kt(811),Tt.pad.AnsiX923={pad:function(Pt,ht){var ct=Pt.sigBytes,D=4*ht,$=D-ct%D,X=ct+$-1;Pt.clamp(),Pt.words[X>>>2]|=$<<24-X%4*8,Pt.sigBytes+=$},unpad:function(Pt){Pt.sigBytes-=255&Pt.words[Pt.sigBytes-1>>>2]}},Tt.pad.Ansix923)},1646:function(fe,ot,kt){var Tt;fe.exports=(Tt=kt(1357),kt(811),Tt.pad.Iso10126={pad:function(Pt,ht){var ct=4*ht,D=ct-Pt.sigBytes%ct;Pt.concat(Tt.lib.WordArray.random(D-1)).concat(Tt.lib.WordArray.create([D<<24],1))},unpad:function(Pt){Pt.sigBytes-=255&Pt.words[Pt.sigBytes-1>>>2]}},Tt.pad.Iso10126)},8228:function(fe,ot,kt){var Tt;fe.exports=(Tt=kt(1357),kt(811),Tt.pad.Iso97971={pad:function(Pt,ht){Pt.concat(Tt.lib.WordArray.create([2147483648],1)),Tt.pad.ZeroPadding.pad(Pt,ht)},unpad:function(Pt){Tt.pad.ZeroPadding.unpad(Pt),Pt.sigBytes--}},Tt.pad.Iso97971)},2267:function(fe,ot,kt){var Tt;fe.exports=(Tt=kt(1357),kt(811),Tt.pad.NoPadding={pad:function(){},unpad:function(){}},Tt.pad.NoPadding)},3109:function(fe,ot,kt){var Tt;fe.exports=(Tt=kt(1357),kt(811),Tt.pad.ZeroPadding={pad:function(Pt,ht){var ct=4*ht;Pt.clamp(),Pt.sigBytes+=ct-(Pt.sigBytes%ct||ct)},unpad:function(Pt){var ht=Pt.words,ct=Pt.sigBytes-1;for(ct=Pt.sigBytes-1;ct>=0;ct--)if(ht[ct>>>2]>>>24-ct%4*8&255){Pt.sigBytes=ct+1;break}}},Tt.pad.ZeroPadding)},5092:function(fe,ot,kt){var Pt,ht,ct,D,$,it,K,Tt;fe.exports=(Tt=kt(1357),kt(5463),kt(2718),D=(ht=(Pt=Tt).lib).WordArray,it=($=Pt.algo).HMAC,K=$.PBKDF2=(ct=ht.Base).extend({cfg:ct.extend({keySize:4,hasher:$.SHA1,iterations:1}),init:function(W){this.cfg=this.cfg.extend(W)},compute:function(W,j){for(var tt=this.cfg,N=it.create(tt.hasher,W),U=D.create(),z=D.create([1]),Y=U.words,q=z.words,V=tt.keySize,Z=tt.iterations;Y.length<V;){var et=N.update(j).finalize(z);N.reset();for(var rt=et.words,mt=rt.length,gt=et,Et=1;Et<Z;Et++){gt=N.finalize(gt),N.reset();for(var Dt=gt.words,Mt=0;Mt<mt;Mt++)rt[Mt]^=Dt[Mt]}U.concat(et),q[0]++}return U.sigBytes=4*V,U}}),Pt.PBKDF2=function(W,j,tt){return K.create(tt).compute(W,j)},Tt.PBKDF2)},8198:function(fe,ot,kt){var Tt;fe.exports=(Tt=kt(1357),kt(8911),kt(8474),kt(7916),kt(811),function(){var Pt=Tt,ct=Pt.lib.StreamCipher,$=[],X=[],it=[],K=Pt.algo.RabbitLegacy=ct.extend({_doReset:function(){var j=this._key.words,tt=this.cfg.iv,N=this._X=[j[0],j[3]<<16|j[2]>>>16,j[1],j[0]<<16|j[3]>>>16,j[2],j[1]<<16|j[0]>>>16,j[3],j[2]<<16|j[1]>>>16],U=this._C=[j[2]<<16|j[2]>>>16,4294901760&j[0]|65535&j[1],j[3]<<16|j[3]>>>16,4294901760&j[1]|65535&j[2],j[0]<<16|j[0]>>>16,4294901760&j[2]|65535&j[3],j[1]<<16|j[1]>>>16,4294901760&j[3]|65535&j[0]];this._b=0;for(var z=0;z<4;z++)W.call(this);for(z=0;z<8;z++)U[z]^=N[z+4&7];if(tt){var Y=tt.words,q=Y[0],V=Y[1],Z=16711935&(q<<8|q>>>24)|4278255360&(q<<24|q>>>8),et=16711935&(V<<8|V>>>24)|4278255360&(V<<24|V>>>8),rt=Z>>>16|4294901760&et,mt=et<<16|65535&Z;for(U[0]^=Z,U[1]^=rt,U[2]^=et,U[3]^=mt,U[4]^=Z,U[5]^=rt,U[6]^=et,U[7]^=mt,z=0;z<4;z++)W.call(this)}},_doProcessBlock:function(j,tt){var N=this._X;W.call(this),$[0]=N[0]^N[5]>>>16^N[3]<<16,$[1]=N[2]^N[7]>>>16^N[5]<<16,$[2]=N[4]^N[1]>>>16^N[7]<<16,$[3]=N[6]^N[3]>>>16^N[1]<<16;for(var U=0;U<4;U++)$[U]=16711935&($[U]<<8|$[U]>>>24)|4278255360&($[U]<<24|$[U]>>>8),j[tt+U]^=$[U]},blockSize:4,ivSize:2});function W(){for(var j=this._X,tt=this._C,N=0;N<8;N++)X[N]=tt[N];for(tt[0]=tt[0]+1295307597+this._b|0,tt[1]=tt[1]+3545052371+(tt[0]>>>0<X[0]>>>0?1:0)|0,tt[2]=tt[2]+886263092+(tt[1]>>>0<X[1]>>>0?1:0)|0,tt[3]=tt[3]+1295307597+(tt[2]>>>0<X[2]>>>0?1:0)|0,tt[4]=tt[4]+3545052371+(tt[3]>>>0<X[3]>>>0?1:0)|0,tt[5]=tt[5]+886263092+(tt[4]>>>0<X[4]>>>0?1:0)|0,tt[6]=tt[6]+1295307597+(tt[5]>>>0<X[5]>>>0?1:0)|0,tt[7]=tt[7]+3545052371+(tt[6]>>>0<X[6]>>>0?1:0)|0,this._b=tt[7]>>>0<X[7]>>>0?1:0,N=0;N<8;N++){var U=j[N]+tt[N],z=65535&U,Y=U>>>16;it[N]=((z*z>>>17)+z*Y>>>15)+Y*Y^((4294901760&U)*U|0)+((65535&U)*U|0)}j[0]=it[0]+(it[7]<<16|it[7]>>>16)+(it[6]<<16|it[6]>>>16)|0,j[1]=it[1]+(it[0]<<8|it[0]>>>24)+it[7]|0,j[2]=it[2]+(it[1]<<16|it[1]>>>16)+(it[0]<<16|it[0]>>>16)|0,j[3]=it[3]+(it[2]<<8|it[2]>>>24)+it[1]|0,j[4]=it[4]+(it[3]<<16|it[3]>>>16)+(it[2]<<16|it[2]>>>16)|0,j[5]=it[5]+(it[4]<<8|it[4]>>>24)+it[3]|0,j[6]=it[6]+(it[5]<<16|it[5]>>>16)+(it[4]<<16|it[4]>>>16)|0,j[7]=it[7]+(it[6]<<8|it[6]>>>24)+it[5]|0}Pt.RabbitLegacy=ct._createHelper(K)}(),Tt.RabbitLegacy)},9097:function(fe,ot,kt){var Tt;fe.exports=(Tt=kt(1357),kt(8911),kt(8474),kt(7916),kt(811),function(){var Pt=Tt,ct=Pt.lib.StreamCipher,$=[],X=[],it=[],K=Pt.algo.Rabbit=ct.extend({_doReset:function(){for(var j=this._key.words,tt=this.cfg.iv,N=0;N<4;N++)j[N]=16711935&(j[N]<<8|j[N]>>>24)|4278255360&(j[N]<<24|j[N]>>>8);var U=this._X=[j[0],j[3]<<16|j[2]>>>16,j[1],j[0]<<16|j[3]>>>16,j[2],j[1]<<16|j[0]>>>16,j[3],j[2]<<16|j[1]>>>16],z=this._C=[j[2]<<16|j[2]>>>16,4294901760&j[0]|65535&j[1],j[3]<<16|j[3]>>>16,4294901760&j[1]|65535&j[2],j[0]<<16|j[0]>>>16,4294901760&j[2]|65535&j[3],j[1]<<16|j[1]>>>16,4294901760&j[3]|65535&j[0]];for(this._b=0,N=0;N<4;N++)W.call(this);for(N=0;N<8;N++)z[N]^=U[N+4&7];if(tt){var Y=tt.words,q=Y[0],V=Y[1],Z=16711935&(q<<8|q>>>24)|4278255360&(q<<24|q>>>8),et=16711935&(V<<8|V>>>24)|4278255360&(V<<24|V>>>8),rt=Z>>>16|4294901760&et,mt=et<<16|65535&Z;for(z[0]^=Z,z[1]^=rt,z[2]^=et,z[3]^=mt,z[4]^=Z,z[5]^=rt,z[6]^=et,z[7]^=mt,N=0;N<4;N++)W.call(this)}},_doProcessBlock:function(j,tt){var N=this._X;W.call(this),$[0]=N[0]^N[5]>>>16^N[3]<<16,$[1]=N[2]^N[7]>>>16^N[5]<<16,$[2]=N[4]^N[1]>>>16^N[7]<<16,$[3]=N[6]^N[3]>>>16^N[1]<<16;for(var U=0;U<4;U++)$[U]=16711935&($[U]<<8|$[U]>>>24)|4278255360&($[U]<<24|$[U]>>>8),j[tt+U]^=$[U]},blockSize:4,ivSize:2});function W(){for(var j=this._X,tt=this._C,N=0;N<8;N++)X[N]=tt[N];for(tt[0]=tt[0]+1295307597+this._b|0,tt[1]=tt[1]+3545052371+(tt[0]>>>0<X[0]>>>0?1:0)|0,tt[2]=tt[2]+886263092+(tt[1]>>>0<X[1]>>>0?1:0)|0,tt[3]=tt[3]+1295307597+(tt[2]>>>0<X[2]>>>0?1:0)|0,tt[4]=tt[4]+3545052371+(tt[3]>>>0<X[3]>>>0?1:0)|0,tt[5]=tt[5]+886263092+(tt[4]>>>0<X[4]>>>0?1:0)|0,tt[6]=tt[6]+1295307597+(tt[5]>>>0<X[5]>>>0?1:0)|0,tt[7]=tt[7]+3545052371+(tt[6]>>>0<X[6]>>>0?1:0)|0,this._b=tt[7]>>>0<X[7]>>>0?1:0,N=0;N<8;N++){var U=j[N]+tt[N],z=65535&U,Y=U>>>16;it[N]=((z*z>>>17)+z*Y>>>15)+Y*Y^((4294901760&U)*U|0)+((65535&U)*U|0)}j[0]=it[0]+(it[7]<<16|it[7]>>>16)+(it[6]<<16|it[6]>>>16)|0,j[1]=it[1]+(it[0]<<8|it[0]>>>24)+it[7]|0,j[2]=it[2]+(it[1]<<16|it[1]>>>16)+(it[0]<<16|it[0]>>>16)|0,j[3]=it[3]+(it[2]<<8|it[2]>>>24)+it[1]|0,j[4]=it[4]+(it[3]<<16|it[3]>>>16)+(it[2]<<16|it[2]>>>16)|0,j[5]=it[5]+(it[4]<<8|it[4]>>>24)+it[3]|0,j[6]=it[6]+(it[5]<<16|it[5]>>>16)+(it[4]<<16|it[4]>>>16)|0,j[7]=it[7]+(it[6]<<8|it[6]>>>24)+it[5]|0}Pt.Rabbit=ct._createHelper(K)}(),Tt.Rabbit)},8538:function(fe,ot,kt){var Tt;fe.exports=(Tt=kt(1357),kt(8911),kt(8474),kt(7916),kt(811),function(){var Pt=Tt,ct=Pt.lib.StreamCipher,D=Pt.algo,$=D.RC4=ct.extend({_doReset:function(){for(var K=this._key,W=K.words,j=K.sigBytes,tt=this._S=[],N=0;N<256;N++)tt[N]=N;N=0;for(var U=0;N<256;N++){var z=N%j,q=tt[N];tt[N]=tt[U=(U+tt[N]+(W[z>>>2]>>>24-z%4*8&255))%256],tt[U]=q}this._i=this._j=0},_doProcessBlock:function(K,W){K[W]^=X.call(this)},keySize:8,ivSize:0});function X(){for(var K=this._S,W=this._i,j=this._j,tt=0,N=0;N<4;N++){var U=K[W=(W+1)%256];K[W]=K[j=(j+K[W])%256],K[j]=U,tt|=K[(K[W]+K[j])%256]<<24-8*N}return this._i=W,this._j=j,tt}Pt.RC4=ct._createHelper($);var it=D.RC4Drop=$.extend({cfg:$.cfg.extend({drop:192}),_doReset:function(){$._doReset.call(this);for(var K=this.cfg.drop;K>0;K--)X.call(this)}});Pt.RC4Drop=ct._createHelper(it)}(),Tt.RC4)},5485:function(fe,ot,kt){var Tt;fe.exports=(Tt=kt(1357),function(Pt){var ht=Tt,ct=ht.lib,D=ct.WordArray,$=ct.Hasher,X=ht.algo,it=D.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),K=D.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),W=D.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),j=D.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),tt=D.create([0,1518500249,1859775393,2400959708,2840853838]),N=D.create([1352829926,1548603684,1836072691,2053994217,0]),U=X.RIPEMD160=$.extend({_doReset:function(){this._hash=D.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(rt,mt){for(var gt=0;gt<16;gt++){var Et=mt+gt,Dt=rt[Et];rt[Et]=16711935&(Dt<<8|Dt>>>24)|4278255360&(Dt<<24|Dt>>>8)}var S,P,C,d,k,nt,Q,J,xt,wt,Ft,Mt=this._hash.words,T=tt.words,h=N.words,m=it.words,y=K.words,v=W.words,M=j.words;for(nt=S=Mt[0],Q=P=Mt[1],J=C=Mt[2],xt=d=Mt[3],wt=k=Mt[4],gt=0;gt<80;gt+=1)Ft=S+rt[mt+m[gt]]|0,Ft+=gt<16?z(P,C,d)+T[0]:gt<32?Y(P,C,d)+T[1]:gt<48?q(P,C,d)+T[2]:gt<64?V(P,C,d)+T[3]:Z(P,C,d)+T[4],Ft=(Ft=et(Ft|=0,v[gt]))+k|0,S=k,k=d,d=et(C,10),C=P,P=Ft,Ft=nt+rt[mt+y[gt]]|0,Ft+=gt<16?Z(Q,J,xt)+h[0]:gt<32?V(Q,J,xt)+h[1]:gt<48?q(Q,J,xt)+h[2]:gt<64?Y(Q,J,xt)+h[3]:z(Q,J,xt)+h[4],Ft=(Ft=et(Ft|=0,M[gt]))+wt|0,nt=wt,wt=xt,xt=et(J,10),J=Q,Q=Ft;Ft=Mt[1]+C+xt|0,Mt[1]=Mt[2]+d+wt|0,Mt[2]=Mt[3]+k+nt|0,Mt[3]=Mt[4]+S+Q|0,Mt[4]=Mt[0]+P+J|0,Mt[0]=Ft},_doFinalize:function(){var rt=this._data,mt=rt.words,gt=8*this._nDataBytes,Et=8*rt.sigBytes;mt[Et>>>5]|=128<<24-Et%32,mt[14+(Et+64>>>9<<4)]=16711935&(gt<<8|gt>>>24)|4278255360&(gt<<24|gt>>>8),rt.sigBytes=4*(mt.length+1),this._process();for(var Dt=this._hash,Mt=Dt.words,T=0;T<5;T++){var h=Mt[T];Mt[T]=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8)}return Dt},clone:function(){var rt=$.clone.call(this);return rt._hash=this._hash.clone(),rt}});function z(rt,mt,gt){return rt^mt^gt}function Y(rt,mt,gt){return rt&mt|~rt&gt}function q(rt,mt,gt){return(rt|~mt)^gt}function V(rt,mt,gt){return rt&gt|mt&~gt}function Z(rt,mt,gt){return rt^(mt|~gt)}function et(rt,mt){return rt<<mt|rt>>>32-mt}ht.RIPEMD160=$._createHelper(U),ht.HmacRIPEMD160=$._createHmacHelper(U)}(Math),Tt.RIPEMD160)},5463:function(fe,ot,kt){var Pt,ht,ct,D,X,it,Tt;fe.exports=(Tt=kt(1357),ct=(ht=(Pt=Tt).lib).WordArray,X=[],it=Pt.algo.SHA1=(D=ht.Hasher).extend({_doReset:function(){this._hash=new ct.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(K,W){for(var j=this._hash.words,tt=j[0],N=j[1],U=j[2],z=j[3],Y=j[4],q=0;q<80;q++){if(q<16)X[q]=0|K[W+q];else{var V=X[q-3]^X[q-8]^X[q-14]^X[q-16];X[q]=V<<1|V>>>31}var Z=(tt<<5|tt>>>27)+Y+X[q];Z+=q<20?1518500249+(N&U|~N&z):q<40?1859775393+(N^U^z):q<60?(N&U|N&z|U&z)-1894007588:(N^U^z)-899497514,Y=z,z=U,U=N<<30|N>>>2,N=tt,tt=Z}j[0]=j[0]+tt|0,j[1]=j[1]+N|0,j[2]=j[2]+U|0,j[3]=j[3]+z|0,j[4]=j[4]+Y|0},_doFinalize:function(){var K=this._data,W=K.words,j=8*this._nDataBytes,tt=8*K.sigBytes;return W[tt>>>5]|=128<<24-tt%32,W[14+(tt+64>>>9<<4)]=Math.floor(j/4294967296),W[15+(tt+64>>>9<<4)]=j,K.sigBytes=4*W.length,this._process(),this._hash},clone:function(){var K=D.clone.call(this);return K._hash=this._hash.clone(),K}}),Pt.SHA1=D._createHelper(it),Pt.HmacSHA1=D._createHmacHelper(it),Tt.SHA1)},4511:function(fe,ot,kt){var Pt,ct,D,$,X,Tt;fe.exports=(Tt=kt(1357),kt(8894),ct=(Pt=Tt).lib.WordArray,X=(D=Pt.algo).SHA224=($=D.SHA256).extend({_doReset:function(){this._hash=new ct.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var it=$._doFinalize.call(this);return it.sigBytes-=4,it}}),Pt.SHA224=$._createHelper(X),Pt.HmacSHA224=$._createHmacHelper(X),Tt.SHA224)},8894:function(fe,ot,kt){var Tt;fe.exports=(Tt=kt(1357),function(Pt){var ht=Tt,ct=ht.lib,D=ct.WordArray,$=ct.Hasher,X=ht.algo,it=[],K=[];!function(){function tt(Y){for(var q=Pt.sqrt(Y),V=2;V<=q;V++)if(!(Y%V))return!1;return!0}function N(Y){return 4294967296*(Y-(0|Y))|0}for(var U=2,z=0;z<64;)tt(U)&&(z<8&&(it[z]=N(Pt.pow(U,.5))),K[z]=N(Pt.pow(U,1/3)),z++),U++}();var W=[],j=X.SHA256=$.extend({_doReset:function(){this._hash=new D.init(it.slice(0))},_doProcessBlock:function(tt,N){for(var U=this._hash.words,z=U[0],Y=U[1],q=U[2],V=U[3],Z=U[4],et=U[5],rt=U[6],mt=U[7],gt=0;gt<64;gt++){if(gt<16)W[gt]=0|tt[N+gt];else{var Et=W[gt-15],Mt=W[gt-2];W[gt]=((Et<<25|Et>>>7)^(Et<<14|Et>>>18)^Et>>>3)+W[gt-7]+((Mt<<15|Mt>>>17)^(Mt<<13|Mt>>>19)^Mt>>>10)+W[gt-16]}var m=z&Y^z&q^Y&q,M=mt+((Z<<26|Z>>>6)^(Z<<21|Z>>>11)^(Z<<7|Z>>>25))+(Z&et^~Z&rt)+K[gt]+W[gt];mt=rt,rt=et,et=Z,Z=V+M|0,V=q,q=Y,Y=z,z=M+(((z<<30|z>>>2)^(z<<19|z>>>13)^(z<<10|z>>>22))+m)|0}U[0]=U[0]+z|0,U[1]=U[1]+Y|0,U[2]=U[2]+q|0,U[3]=U[3]+V|0,U[4]=U[4]+Z|0,U[5]=U[5]+et|0,U[6]=U[6]+rt|0,U[7]=U[7]+mt|0},_doFinalize:function(){var tt=this._data,N=tt.words,U=8*this._nDataBytes,z=8*tt.sigBytes;return N[z>>>5]|=128<<24-z%32,N[14+(z+64>>>9<<4)]=Pt.floor(U/4294967296),N[15+(z+64>>>9<<4)]=U,tt.sigBytes=4*N.length,this._process(),this._hash},clone:function(){var tt=$.clone.call(this);return tt._hash=this._hash.clone(),tt}});ht.SHA256=$._createHelper(j),ht.HmacSHA256=$._createHmacHelper(j)}(Math),Tt.SHA256)},1485:function(fe,ot,kt){var Tt;fe.exports=(Tt=kt(1357),kt(1514),function(Pt){var ht=Tt,ct=ht.lib,D=ct.WordArray,$=ct.Hasher,it=ht.x64.Word,K=ht.algo,W=[],j=[],tt=[];!function(){for(var z=1,Y=0,q=0;q<24;q++){W[z+5*Y]=(q+1)*(q+2)/2%64;var Z=(2*z+3*Y)%5;z=Y%5,Y=Z}for(z=0;z<5;z++)for(Y=0;Y<5;Y++)j[z+5*Y]=Y+(2*z+3*Y)%5*5;for(var et=1,rt=0;rt<24;rt++){for(var mt=0,gt=0,Et=0;Et<7;Et++){if(1&et){var Dt=(1<<Et)-1;Dt<32?gt^=1<<Dt:mt^=1<<Dt-32}128&et?et=et<<1^113:et<<=1}tt[rt]=it.create(mt,gt)}}();var N=[];!function(){for(var z=0;z<25;z++)N[z]=it.create()}();var U=K.SHA3=$.extend({cfg:$.cfg.extend({outputLength:512}),_doReset:function(){for(var z=this._state=[],Y=0;Y<25;Y++)z[Y]=new it.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(z,Y){for(var q=this._state,V=this.blockSize/2,Z=0;Z<V;Z++){var et=z[Y+2*Z],rt=z[Y+2*Z+1];et=16711935&(et<<8|et>>>24)|4278255360&(et<<24|et>>>8),(mt=q[Z]).high^=rt=16711935&(rt<<8|rt>>>24)|4278255360&(rt<<24|rt>>>8),mt.low^=et}for(var gt=0;gt<24;gt++){for(var Et=0;Et<5;Et++){for(var Dt=0,Mt=0,T=0;T<5;T++)Dt^=(mt=q[Et+5*T]).high,Mt^=mt.low;var h=N[Et];h.high=Dt,h.low=Mt}for(Et=0;Et<5;Et++){var m=N[(Et+4)%5],y=N[(Et+1)%5],v=y.high,M=y.low;for(Dt=m.high^(v<<1|M>>>31),Mt=m.low^(M<<1|v>>>31),T=0;T<5;T++)(mt=q[Et+5*T]).high^=Dt,mt.low^=Mt}for(var S=1;S<25;S++){var P=(mt=q[S]).high,C=mt.low,d=W[S];d<32?(Dt=P<<d|C>>>32-d,Mt=C<<d|P>>>32-d):(Dt=C<<d-32|P>>>64-d,Mt=P<<d-32|C>>>64-d);var k=N[j[S]];k.high=Dt,k.low=Mt}var nt=N[0],Q=q[0];for(nt.high=Q.high,nt.low=Q.low,Et=0;Et<5;Et++)for(T=0;T<5;T++){var J=N[S=Et+5*T],xt=N[(Et+1)%5+5*T],wt=N[(Et+2)%5+5*T];(mt=q[S]).high=J.high^~xt.high&wt.high,mt.low=J.low^~xt.low&wt.low}var mt,Ft=tt[gt];(mt=q[0]).high^=Ft.high,mt.low^=Ft.low}},_doFinalize:function(){var z=this._data,Y=z.words,V=8*z.sigBytes,Z=32*this.blockSize;Y[V>>>5]|=1<<24-V%32,Y[(Pt.ceil((V+1)/Z)*Z>>>5)-1]|=128,z.sigBytes=4*Y.length,this._process();for(var et=this._state,rt=this.cfg.outputLength/8,mt=rt/8,gt=[],Et=0;Et<mt;Et++){var Dt=et[Et],Mt=Dt.high,T=Dt.low;Mt=16711935&(Mt<<8|Mt>>>24)|4278255360&(Mt<<24|Mt>>>8),gt.push(T=16711935&(T<<8|T>>>24)|4278255360&(T<<24|T>>>8)),gt.push(Mt)}return new D.init(gt,rt)},clone:function(){for(var z=$.clone.call(this),Y=z._state=this._state.slice(0),q=0;q<25;q++)Y[q]=Y[q].clone();return z}});ht.SHA3=$._createHelper(U),ht.HmacSHA3=$._createHmacHelper(U)}(Math),Tt.SHA3)},5013:function(fe,ot,kt){var Pt,ht,ct,D,$,X,it,Tt;fe.exports=(Tt=kt(1357),kt(1514),kt(7055),ct=(ht=(Pt=Tt).x64).Word,D=ht.WordArray,it=($=Pt.algo).SHA384=(X=$.SHA512).extend({_doReset:function(){this._hash=new D.init([new ct.init(3418070365,3238371032),new ct.init(1654270250,914150663),new ct.init(2438529370,812702999),new ct.init(355462360,4144912697),new ct.init(1731405415,4290775857),new ct.init(2394180231,1750603025),new ct.init(3675008525,1694076839),new ct.init(1203062813,3204075428)])},_doFinalize:function(){var K=X._doFinalize.call(this);return K.sigBytes-=16,K}}),Pt.SHA384=X._createHelper(it),Pt.HmacSHA384=X._createHmacHelper(it),Tt.SHA384)},7055:function(fe,ot,kt){var Tt;fe.exports=(Tt=kt(1357),kt(1514),function(){var Pt=Tt,ct=Pt.lib.Hasher,D=Pt.x64,$=D.Word,X=D.WordArray,it=Pt.algo;function K(){return $.create.apply($,arguments)}var W=[K(1116352408,3609767458),K(1899447441,602891725),K(3049323471,3964484399),K(3921009573,2173295548),K(961987163,4081628472),K(1508970993,3053834265),K(2453635748,2937671579),K(2870763221,3664609560),K(3624381080,2734883394),K(310598401,1164996542),K(607225278,1323610764),K(1426881987,3590304994),K(1925078388,4068182383),K(2162078206,991336113),K(2614888103,633803317),K(3248222580,3479774868),K(3835390401,2666613458),K(4022224774,944711139),K(264347078,2341262773),K(604807628,2007800933),K(770255983,1495990901),K(1249150122,1856431235),K(1555081692,3175218132),K(1996064986,2198950837),K(2554220882,3999719339),K(2821834349,766784016),K(2952996808,2566594879),K(3210313671,3203337956),K(3336571891,1034457026),K(3584528711,2466948901),K(113926993,3758326383),K(338241895,168717936),K(666307205,1188179964),K(773529912,1546045734),K(1294757372,1522805485),K(1396182291,2643833823),K(1695183700,2343527390),K(1986661051,1014477480),K(2177026350,1206759142),K(2456956037,344077627),K(2730485921,1290863460),K(2820302411,3158454273),K(3259730800,3505952657),K(3345764771,106217008),K(3516065817,3606008344),K(3600352804,1432725776),K(4094571909,1467031594),K(275423344,851169720),K(430227734,3100823752),K(506948616,1363258195),K(659060556,3750685593),K(883997877,3785050280),K(958139571,3318307427),K(1322822218,3812723403),K(1537002063,2003034995),K(1747873779,3602036899),K(1955562222,1575990012),K(2024104815,1125592928),K(2227730452,2716904306),K(2361852424,442776044),K(2428436474,593698344),K(2756734187,3733110249),K(3204031479,2999351573),K(3329325298,3815920427),K(3391569614,3928383900),K(3515267271,566280711),K(3940187606,3454069534),K(4118630271,4000239992),K(116418474,1914138554),K(174292421,2731055270),K(289380356,3203993006),K(460393269,320620315),K(685471733,587496836),K(852142971,1086792851),K(1017036298,365543100),K(1126000580,2618297676),K(1288033470,3409855158),K(1501505948,4234509866),K(1607167915,987167468),K(1816402316,1246189591)],j=[];!function(){for(var N=0;N<80;N++)j[N]=K()}();var tt=it.SHA512=ct.extend({_doReset:function(){this._hash=new X.init([new $.init(1779033703,4089235720),new $.init(3144134277,2227873595),new $.init(1013904242,4271175723),new $.init(2773480762,1595750129),new $.init(1359893119,2917565137),new $.init(2600822924,725511199),new $.init(528734635,4215389547),new $.init(1541459225,327033209)])},_doProcessBlock:function(N,U){for(var z=this._hash.words,Y=z[0],q=z[1],V=z[2],Z=z[3],et=z[4],rt=z[5],mt=z[6],gt=z[7],Et=Y.high,Dt=Y.low,Mt=q.high,T=q.low,h=V.high,m=V.low,y=Z.high,v=Z.low,M=et.high,S=et.low,P=rt.high,C=rt.low,d=mt.high,k=mt.low,nt=gt.high,Q=gt.low,J=Et,xt=Dt,wt=Mt,Ft=T,Gt=h,It=m,_t=y,Zt=v,Ot=M,At=S,jt=P,Kt=C,Vt=d,Ce=k,Ht=nt,ge=Q,yi=0;yi<80;yi++){var we,de,Fe=j[yi];if(yi<16)de=Fe.high=0|N[U+2*yi],we=Fe.low=0|N[U+2*yi+1];else{var Yt=j[yi-15],ee=Yt.high,Re=Yt.low,vt=(Re>>>1|ee<<31)^(Re>>>8|ee<<24)^(Re>>>7|ee<<25),at=j[yi-2],qt=at.high,he=at.low,ve=(he>>>19|qt<<13)^(he<<3|qt>>>29)^(he>>>6|qt<<26),Te=j[yi-7],ei=j[yi-16],mi=ei.low;Fe.high=de=(de=(de=((ee>>>1|Re<<31)^(ee>>>8|Re<<24)^ee>>>7)+Te.high+((we=vt+Te.low)>>>0<vt>>>0?1:0))+((qt>>>19|he<<13)^(qt<<3|he>>>29)^qt>>>6)+((we+=ve)>>>0<ve>>>0?1:0))+ei.high+((we+=mi)>>>0<mi>>>0?1:0),Fe.low=we}var ae,bi=Ot&jt^~Ot&Vt,En=At&Kt^~At&Ce,_i=J&wt^J&Gt^wt&Gt,Di=(xt>>>28|J<<4)^(xt<<30|J>>>2)^(xt<<25|J>>>7),Ee=W[yi],Se=Ee.low,Me=Ht+((Ot>>>14|At<<18)^(Ot>>>18|At<<14)^(Ot<<23|At>>>9))+((ae=ge+((At>>>14|Ot<<18)^(At>>>18|Ot<<14)^(At<<23|Ot>>>9)))>>>0<ge>>>0?1:0),$e=Di+(xt&Ft^xt&It^Ft&It);Ht=Vt,ge=Ce,Vt=jt,Ce=Kt,jt=Ot,Kt=At,Ot=_t+(Me=(Me=(Me=Me+bi+((ae+=En)>>>0<En>>>0?1:0))+Ee.high+((ae+=Se)>>>0<Se>>>0?1:0))+de+((ae+=we)>>>0<we>>>0?1:0))+((At=Zt+ae|0)>>>0<Zt>>>0?1:0)|0,_t=Gt,Zt=It,Gt=wt,It=Ft,wt=J,Ft=xt,J=Me+(((J>>>28|xt<<4)^(J<<30|xt>>>2)^(J<<25|xt>>>7))+_i+($e>>>0<Di>>>0?1:0))+((xt=ae+$e|0)>>>0<ae>>>0?1:0)|0}Dt=Y.low=Dt+xt,Y.high=Et+J+(Dt>>>0<xt>>>0?1:0),T=q.low=T+Ft,q.high=Mt+wt+(T>>>0<Ft>>>0?1:0),m=V.low=m+It,V.high=h+Gt+(m>>>0<It>>>0?1:0),v=Z.low=v+Zt,Z.high=y+_t+(v>>>0<Zt>>>0?1:0),S=et.low=S+At,et.high=M+Ot+(S>>>0<At>>>0?1:0),C=rt.low=C+Kt,rt.high=P+jt+(C>>>0<Kt>>>0?1:0),k=mt.low=k+Ce,mt.high=d+Vt+(k>>>0<Ce>>>0?1:0),Q=gt.low=Q+ge,gt.high=nt+Ht+(Q>>>0<ge>>>0?1:0)},_doFinalize:function(){var N=this._data,U=N.words,z=8*this._nDataBytes,Y=8*N.sigBytes;return U[Y>>>5]|=128<<24-Y%32,U[30+(Y+128>>>10<<5)]=Math.floor(z/4294967296),U[31+(Y+128>>>10<<5)]=z,N.sigBytes=4*U.length,this._process(),this._hash.toX32()},clone:function(){var N=ct.clone.call(this);return N._hash=this._hash.clone(),N},blockSize:32});Pt.SHA512=ct._createHelper(tt),Pt.HmacSHA512=ct._createHmacHelper(tt)}(),Tt.SHA512)},6707:function(fe,ot,kt){var Tt;fe.exports=(Tt=kt(1357),kt(8911),kt(8474),kt(7916),kt(811),function(){var Pt=Tt,ht=Pt.lib,ct=ht.WordArray,D=ht.BlockCipher,$=Pt.algo,X=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],it=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],K=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],W=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],j=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],tt=$.DES=D.extend({_doReset:function(){for(var q=this._key.words,V=[],Z=0;Z<56;Z++){var et=X[Z]-1;V[Z]=q[et>>>5]>>>31-et%32&1}for(var rt=this._subKeys=[],mt=0;mt<16;mt++){var gt=rt[mt]=[],Et=K[mt];for(Z=0;Z<24;Z++)gt[Z/6|0]|=V[(it[Z]-1+Et)%28]<<31-Z%6,gt[4+(Z/6|0)]|=V[28+(it[Z+24]-1+Et)%28]<<31-Z%6;for(gt[0]=gt[0]<<1|gt[0]>>>31,Z=1;Z<7;Z++)gt[Z]=gt[Z]>>>4*(Z-1)+3;gt[7]=gt[7]<<5|gt[7]>>>27}var Dt=this._invSubKeys=[];for(Z=0;Z<16;Z++)Dt[Z]=rt[15-Z]},encryptBlock:function(Y,q){this._doCryptBlock(Y,q,this._subKeys)},decryptBlock:function(Y,q){this._doCryptBlock(Y,q,this._invSubKeys)},_doCryptBlock:function(Y,q,V){this._lBlock=Y[q],this._rBlock=Y[q+1],N.call(this,4,252645135),N.call(this,16,65535),U.call(this,2,858993459),U.call(this,8,16711935),N.call(this,1,1431655765);for(var Z=0;Z<16;Z++){for(var et=V[Z],rt=this._lBlock,mt=this._rBlock,gt=0,Et=0;Et<8;Et++)gt|=W[Et][((mt^et[Et])&j[Et])>>>0];this._lBlock=mt,this._rBlock=rt^gt}var Dt=this._lBlock;this._lBlock=this._rBlock,this._rBlock=Dt,N.call(this,1,1431655765),U.call(this,8,16711935),U.call(this,2,858993459),N.call(this,16,65535),N.call(this,4,252645135),Y[q]=this._lBlock,Y[q+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function N(Y,q){var V=(this._lBlock>>>Y^this._rBlock)&q;this._rBlock^=V,this._lBlock^=V<<Y}function U(Y,q){var V=(this._rBlock>>>Y^this._lBlock)&q;this._lBlock^=V,this._rBlock^=V<<Y}Pt.DES=D._createHelper(tt);var z=$.TripleDES=D.extend({_doReset:function(){var q=this._key.words;if(2!==q.length&&4!==q.length&&q.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var V=q.slice(0,2),Z=q.length<4?q.slice(0,2):q.slice(2,4),et=q.length<6?q.slice(0,2):q.slice(4,6);this._des1=tt.createEncryptor(ct.create(V)),this._des2=tt.createEncryptor(ct.create(Z)),this._des3=tt.createEncryptor(ct.create(et))},encryptBlock:function(Y,q){this._des1.encryptBlock(Y,q),this._des2.decryptBlock(Y,q),this._des3.encryptBlock(Y,q)},decryptBlock:function(Y,q){this._des3.decryptBlock(Y,q),this._des2.encryptBlock(Y,q),this._des1.decryptBlock(Y,q)},keySize:6,ivSize:2,blockSize:2});Pt.TripleDES=D._createHelper(z)}(),Tt.TripleDES)},1514:function(fe,ot,kt){var ct,D,$,X,Tt;fe.exports=(Tt=kt(1357),D=(ct=Tt.lib).Base,$=ct.WordArray,(X=Tt.x64={}).Word=D.extend({init:function(W,j){this.high=W,this.low=j}}),X.WordArray=D.extend({init:function(W,j){W=this.words=W||[],this.sigBytes=null!=j?j:8*W.length},toX32:function(){for(var W=this.words,j=W.length,tt=[],N=0;N<j;N++){var U=W[N];tt.push(U.high),tt.push(U.low)}return $.create(tt,this.sigBytes)},clone:function(){for(var W=D.clone.call(this),j=W.words=this.words.slice(0),tt=j.length,N=0;N<tt;N++)j[N]=j[N].clone();return W}}),Tt)},6912:(fe,ot,kt)=>{"use strict";function Tt(x){return x&&"object"==typeof x&&"default"in x?x.default:x}var Pt=Tt(kt(5122)),ht=Tt(kt(8221));function ct(x){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(x)}function D(x,f){if(!(x instanceof f))throw new TypeError("Cannot call a class as a function")}function $(x,f){for(var w=0;w<f.length;w++){var E=f[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}function X(x,f,w){return f&&$(x.prototype,f),w&&$(x,w),x}function it(x,f,w){return f in x?Object.defineProperty(x,f,{value:w,enumerable:!0,configurable:!0,writable:!0}):x[f]=w,x}function K(x,f){return function(x){if(Array.isArray(x))return x}(x)||function(x,f){var w=[],E=!0,O=!1,L=void 0;try{for(var st,F=x[Symbol.iterator]();!(E=(st=F.next()).done)&&(w.push(st.value),!f||w.length!==f);E=!0);}catch(ft){O=!0,L=ft}finally{try{!E&&null!=F.return&&F.return()}finally{if(O)throw L}}return w}(x,f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var N="undefined"==typeof window?null:window,U=N?N.navigator:null,Y=ct(""),q=ct({}),V=ct(function(){}),Z="undefined"==typeof HTMLElement?"undefined":ct(HTMLElement),et=function(f){return f&&f.instanceString&&mt(f.instanceString)?f.instanceString():null},rt=function(f){return null!=f&&ct(f)==Y},mt=function(f){return null!=f&&ct(f)===V},gt=function(f){return!m(f)&&(Array.isArray?Array.isArray(f):null!=f&&f instanceof Array)},Et=function(f){return null!=f&&ct(f)===q&&!gt(f)&&f.constructor===Object},Mt=function(f){return null!=f&&ct(f)===ct(1)&&!isNaN(f)},h=function(f){if("undefined"!==Z)return null!=f&&f instanceof HTMLElement},m=function(f){return y(f)||v(f)},y=function(f){return"collection"===et(f)&&f._private.single},v=function(f){return"collection"===et(f)&&!f._private.single},M=function(f){return"core"===et(f)},S=function(f){return"stylesheet"===et(f)},C=function(f){return null==f||!(""!==f&&!f.match(/^\s+$/))},nt=function(f){return function(f){return null!=f&&ct(f)===q}(f)&&mt(f.then)},J=function(f,w){w||(w=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var L=[],F=0;F<arguments.length;F++)L.push(arguments[F]);return L.join("$")});var E=function O(){var st,L=this,F=arguments,ft=w.apply(L,F),lt=O.cache;return(st=lt[ft])||(st=lt[ft]=f.apply(L,F)),st};return E.cache={},E},xt=J(function(x){return x.replace(/([A-Z])/g,function(f){return"-"+f.toLowerCase()})}),wt=J(function(x){return x.replace(/(-\w)/g,function(f){return f[1].toUpperCase()})}),Ft=J(function(x,f){return x+f[0].toUpperCase()+f.substring(1)},function(x,f){return x+"$"+f}),Gt=function(f){return C(f)?f:f.charAt(0).toUpperCase()+f.substring(1)},It="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Vt=function(f,w){return f<w?-1:f>w?1:0},Ht=null!=Object.assign?Object.assign.bind(Object):function(x){for(var f=arguments,w=1;w<f.length;w++){var E=f[w];if(null!=E)for(var O=Object.keys(E),L=0;L<O.length;L++){var F=O[L];x[F]=E[F]}}return x},Yt={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},ee=function(f){for(var w=f.map,E=f.keys,O=E.length,L=0;L<O;L++){var F=E[L];if(Et(F))throw Error("Tried to set map with object key");L<E.length-1?(null==w[F]&&(w[F]={}),w=w[F]):w[F]=f.value}},Re=function(f){for(var w=f.map,E=f.keys,O=E.length,L=0;L<O;L++){var F=E[L];if(Et(F))throw Error("Tried to get map with object key");if(null==(w=w[F]))return w}return w},Nt=N?N.performance:null,vt=Nt&&Nt.now?function(){return Nt.now()}:function(){return Date.now()},at=function(){if(N){if(N.requestAnimationFrame)return function(x){N.requestAnimationFrame(x)};if(N.mozRequestAnimationFrame)return function(x){N.mozRequestAnimationFrame(x)};if(N.webkitRequestAnimationFrame)return function(x){N.webkitRequestAnimationFrame(x)};if(N.msRequestAnimationFrame)return function(x){N.msRequestAnimationFrame(x)}}return function(x){x&&setTimeout(function(){x(vt())},1e3/60)}}(),qt=function(f){return at(f)},he=vt,Xe=9261,ve=65599,Te=5381,Qi=function(f){for(var O,w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xe,E=w;!(O=f.next()).done;)E=E*ve+O.value|0;return E},ni=function(f){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xe;return w*ve+f|0},ei=function(f){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Te;return(w<<5)+w+f|0},mi=function(f){return 2097152*f[0]+f[1]},bi=function(f,w){return[ni(f[0],w[0]),ei(f[1],w[1])]},_i=function(f,w){var E={value:0,done:!1},O=0,L=f.length;return Qi({next:function(){return O<L?E.value=f.charCodeAt(O++):E.done=!0,E}},w)},He=function(){return on(arguments)},on=function(f){for(var w,E=0;E<f.length;E++){var O=f[E];w=0===E?_i(O):_i(O,w)}return w},Di=!0,Pe=null!=console.warn,ri=null!=console.trace,Ee=Number.MAX_SAFE_INTEGER||9007199254740991,ne=function(){return!0},Se=function(){return!1},ae=function(){return 0},Me=function(){},$e=function(f){throw new Error(f)},te=function(f){if(void 0===f)return Di;Di=!!f},Ie=function(f){!te()||(Pe?console.warn(f):(console.log(f),ri&&console.trace()))},qe=function(f){return null==f?f:gt(f)?f.slice():Et(f)?function(f){return Ht({},f)}(f):f},Pn=function(f,w){for(w=f="";f++<36;w+=51*f&52?(15^f?8^Math.random()*(20^f?16:4):4).toString(16):"-");return w},ui={},oi=function(){return ui},en=function(f){var w=Object.keys(f);return function(E){for(var O={},L=0;L<w.length;L++){var F=w[L],st=null==E?void 0:E[F];O[F]=void 0===st?f[F]:st}return O}},sn=function(f,w,E){for(var O=f.length-1;O>=0&&(f[O]!==w||(f.splice(O,1),!E));O--);},Tn=function(f){f.splice(0,f.length)},In=function(f,w,E){return E&&(w=Ft(E,w)),f[w]},Yn=function(f,w,E,O){E&&(w=Ft(E,w)),f[w]=O},Or="undefined"!=typeof Map?Map:function(){function x(){D(this,x),this._obj={}}return X(x,[{key:"set",value:function(w,E){return this._obj[w]=E,this}},{key:"delete",value:function(w){return this._obj[w]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(w){return void 0!==this._obj[w]}},{key:"get",value:function(w){return this._obj[w]}}]),x}(),dr=function(){function x(f){if(D(this,x),this._obj=Object.create(null),this.size=0,null!=f){var w;w=null!=f.instanceString&&f.instanceString()===this.instanceString()?f.toArray():f;for(var E=0;E<w.length;E++)this.add(w[E])}}return X(x,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(w){var E=this._obj;1!==E[w]&&(E[w]=1,this.size++)}},{key:"delete",value:function(w){var E=this._obj;1===E[w]&&(E[w]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(w){return 1===this._obj[w]}},{key:"toArray",value:function(){var w=this;return Object.keys(this._obj).filter(function(E){return w.has(E)})}},{key:"forEach",value:function(w,E){return this.toArray().forEach(w,E)}}]),x}(),Un="undefined"!==("undefined"==typeof Set?"undefined":ct(Set))?Set:dr,xo=function(f,w){var E=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==f&&void 0!==w&&M(f)){var O=w.group;if(null==O&&(O=w.data&&null!=w.data.source&&null!=w.data.target?"edges":"nodes"),"nodes"===O||"edges"===O){this.length=1,this[0]=this;var L=this._private={cy:f,single:!0,data:w.data||{},position:w.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:O,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!w.selected,selectable:void 0===w.selectable||!!w.selectable,locked:!!w.locked,grabbed:!1,grabbable:void 0===w.grabbable||!!w.grabbable,pannable:void 0===w.pannable?"edges"===O:!!w.pannable,active:!1,classes:new Un,animation:{current:[],queue:[]},rscratch:{},scratch:w.scratch||{},edges:[],children:[],parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==L.position.x&&(L.position.x=0),null==L.position.y&&(L.position.y=0),w.renderedPosition){var F=w.renderedPosition,st=f.pan(),ft=f.zoom();L.position={x:(F.x-st.x)/ft,y:(F.y-st.y)/ft}}var lt=[];gt(w.classes)?lt=w.classes:rt(w.classes)&&(lt=w.classes.split(/\s+/));for(var yt=0,Ct=lt.length;yt<Ct;yt++){var Lt=lt[yt];!Lt||""===Lt||L.classes.add(Lt)}this.createEmitter();var zt=w.style||w.css;zt&&(Ie("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(zt)),(void 0===E||E)&&this.restore()}else $e("An element must be of type `nodes` or `edges`; you specified `"+O+"`")}else $e("An element must have a core reference and parameters set")},ki=function(f){return f={bfs:f.bfs||!f.dfs,dfs:f.dfs||!f.bfs},function(E,O,L){var F;Et(E)&&!m(E)&&(E=(F=E).roots||F.root,O=F.visit,L=F.directed),L=2!==arguments.length||mt(O)?L:O,O=mt(O)?O:function(){};for(var Bt,st=this._private.cy,ft=E=rt(E)?this.filter(E):E,lt=[],yt=[],Ct={},Lt={},zt={},Wt=0,Qt=this.byGroup(),re=Qt.nodes,le=Qt.edges,ue=0;ue<ft.length;ue++){var xe=ft[ue],Be=xe.id();xe.isNode()&&(lt.unshift(xe),f.bfs&&(zt[Be]=!0,yt.push(xe)),Lt[Be]=0)}var je=function(){var Ze=f.bfs?lt.shift():lt.pop(),Le=Ze.id();if(f.dfs){if(zt[Le])return"continue";zt[Le]=!0,yt.push(Ze)}var Li,Mi=Lt[Le],hi=Ct[Le],Ci=null!=hi?hi.source():null,fi=null!=hi?hi.target():null,xi=null==hi?void 0:Ze.same(Ci)?fi[0]:Ci[0];if(!0===(Li=O(Ze,hi,xi,Wt++,Mi)))return Bt=Ze,"break";if(!1===Li)return"break";for(var Ei=Ze.connectedEdges().filter(function(ji){return(!L||ji.source().same(Ze))&&le.has(ji)}),si=0;si<Ei.length;si++){var Hi=Ei[si],Ne=Hi.connectedNodes().filter(function(ji){return!ji.same(Ze)&&re.has(ji)}),zi=Ne.id();0!==Ne.length&&!zt[zi]&&(lt.push(Ne=Ne[0]),f.bfs&&(zt[zi]=!0,yt.push(Ne)),Ct[zi]=Hi,Lt[zi]=Lt[Le]+1)}};t:for(;0!==lt.length;){var ye=je();switch(ye){case"continue":continue;case"break":break t}}for(var Ve=st.collection(),De=0;De<yt.length;De++){var Ye=yt[De],ze=Ct[Ye.id()];null!=ze&&Ve.push(ze),Ve.push(Ye)}return{path:st.collection(Ve),found:st.collection(Bt)}}},hn={breadthFirstSearch:ki({bfs:!0}),depthFirstSearch:ki({dfs:!0})};hn.bfs=hn.breadthFirstSearch,hn.dfs=hn.depthFirstSearch;var ar=en({root:null,weight:function(f){return 1},directed:!1}),bn={dijkstra:function(f){if(!Et(f)){var w=arguments;f={root:w[0],weight:w[1],directed:w[2]}}var E=ar(f),O=E.root,L=E.weight,F=E.directed,st=this,ft=L,lt=rt(O)?this.filter(O)[0]:O[0],yt={},Ct={},Lt={},zt=this.byGroup(),Wt=zt.nodes,Bt=zt.edges;Bt.unmergeBy(function(Mi){return Mi.isLoop()});for(var Qt=function(hi){return yt[hi.id()]},re=function(hi,Ci){yt[hi.id()]=Ci,le.updateItem(hi)},le=new ht(function(Mi,hi){return Qt(Mi)-Qt(hi)}),ue=0;ue<Wt.length;ue++){var xe=Wt[ue];yt[xe.id()]=xe.same(lt)?0:1/0,le.push(xe)}for(var Be=function(hi,Ci){for(var Li,fi=(F?hi.edgesTo(Ci):hi.edgesWith(Ci)).intersect(Bt),xi=1/0,Ei=0;Ei<fi.length;Ei++){var si=fi[Ei],Hi=ft(si);(Hi<xi||!Li)&&(xi=Hi,Li=si)}return{edge:Li,dist:xi}};le.size()>0;){var je=le.pop(),ye=Qt(je),Ve=je.id();if(Lt[Ve]=ye,ye!==1/0)for(var De=je.neighborhood().intersect(Wt),Ye=0;Ye<De.length;Ye++){var ze=De[Ye],Oe=ze.id(),Ze=Be(je,ze),Le=ye+Ze.dist;Le<Qt(ze)&&(re(ze,Le),Ct[Oe]={node:je,edge:Ze.edge})}}return{distanceTo:function(hi){var Ci=rt(hi)?Wt.filter(hi)[0]:hi[0];return Lt[Ci.id()]},pathTo:function(hi){var Ci=rt(hi)?Wt.filter(hi)[0]:hi[0],fi=[],xi=Ci,Li=xi.id();if(Ci.length>0)for(fi.unshift(Ci);Ct[Li];){var Ei=Ct[Li];fi.unshift(Ei.edge),fi.unshift(Ei.node),Li=(xi=Ei.node).id()}return st.spawn(fi)}}}},vo={kruskal:function(f){f=f||function(ue){return 1};for(var w=this.byGroup(),E=w.nodes,O=w.edges,L=E.length,F=new Array(L),st=E,ft=function(xe){for(var Be=0;Be<F.length;Be++)if(F[Be].has(xe))return Be},lt=0;lt<L;lt++)F[lt]=this.spawn(E[lt]);for(var yt=O.sort(function(ue,xe){return f(ue)-f(xe)}),Ct=0;Ct<yt.length;Ct++){var Lt=yt[Ct],zt=Lt.source()[0],Wt=Lt.target()[0],Bt=ft(zt),Qt=ft(Wt),re=F[Bt],le=F[Qt];Bt!==Qt&&(st.merge(Lt),re.merge(le),F.splice(Qt,1))}return st}},Ao=en({root:null,goal:null,weight:function(f){return 1},heuristic:function(f){return 0},directed:!1}),Vi={aStar:function(f){var w=this.cy(),E=Ao(f),O=E.root,L=E.goal,F=E.heuristic,st=E.directed,ft=E.weight;O=w.collection(O)[0],L=w.collection(L)[0];var ue,xe,lt=O.id(),yt=L.id(),Ct={},Lt={},zt={},Wt=new ht(function(Li,Ei){return Lt[Li.id()]-Lt[Ei.id()]}),Bt=new Un,Qt={},re={},le=function(Ei,si){Wt.push(Ei),Bt.add(si)};le(O,lt),Ct[lt]=0,Lt[lt]=F(O);for(var ye=0;Wt.size()>0;){if(xe=(ue=Wt.pop()).id(),Bt.delete(xe),ye++,xe===yt){for(var Ve=[],De=L,Ye=yt,ze=re[Ye];Ve.unshift(De),null!=ze&&Ve.unshift(ze),null!=(De=Qt[Ye]);)ze=re[Ye=De.id()];return{found:!0,distance:Ct[xe],path:this.spawn(Ve),steps:ye}}zt[xe]=!0;for(var Oe=ue._private.edges,Ze=0;Ze<Oe.length;Ze++){var Le=Oe[Ze];if(this.hasElementWithId(Le.id())&&(!st||Le.data("source")===xe)){var Mi=Le.source(),hi=Le.target(),Ci=Mi.id()!==xe?Mi:hi,fi=Ci.id();if(this.hasElementWithId(fi)&&!zt[fi]){var xi=Ct[xe]+ft(Le);if(!Bt.has(fi)){Ct[fi]=xi,Lt[fi]=xi+F(Ci),le(Ci,fi),Qt[fi]=ue,re[fi]=Le;continue}xi<Ct[fi]&&(Ct[fi]=xi,Lt[fi]=xi+F(Ci),Qt[fi]=ue,re[fi]=Le)}}}}return{found:!1,distance:void 0,path:void 0,steps:ye}}},Fn=en({weight:function(f){return 1},directed:!1}),ph={floydWarshall:function(f){for(var w=this.cy(),E=Fn(f),L=E.directed,F=E.weight,st=this.byGroup(),ft=st.nodes,lt=st.edges,yt=ft.length,Ct=yt*yt,Lt=function(Hi){return ft.indexOf(Hi)},zt=function(Hi){return ft[Hi]},Wt=new Array(Ct),Bt=0;Bt<Ct;Bt++){var Qt=Bt%yt;Wt[Bt]=(Bt-Qt)/yt===Qt?0:1/0}for(var le=new Array(Ct),ue=new Array(Ct),xe=0;xe<lt.length;xe++){var Be=lt[xe],je=Be.source()[0],ye=Be.target()[0];if(je!==ye){var Ve=Lt(je),De=Lt(ye),Ye=Ve*yt+De,ze=F(Be);if(Wt[Ye]>ze&&(Wt[Ye]=ze,le[Ye]=De,ue[Ye]=Be),!L){var Oe=De*yt+Ve;!L&&Wt[Oe]>ze&&(Wt[Oe]=ze,le[Oe]=Ve,ue[Oe]=Be)}}}for(var Ze=0;Ze<yt;Ze++)for(var Le=0;Le<yt;Le++)for(var Mi=Le*yt+Ze,hi=0;hi<yt;hi++){var Ci=Le*yt+hi,fi=Ze*yt+hi;Wt[Mi]+Wt[fi]<Wt[Ci]&&(Wt[Ci]=Wt[Mi]+Wt[fi],le[Ci]=le[Mi])}var Li=function(Hi){return Lt(function(Hi){return(rt(Hi)?w.filter(Hi):Hi)[0]}(Hi))};return{distance:function(Hi,Ne){var zi=Li(Hi),ji=Li(Ne);return Wt[zi*yt+ji]},path:function(Hi,Ne){var zi=Li(Hi),ji=Li(Ne),wi=zt(zi);if(zi===ji)return wi.collection();if(null==le[zi*yt+ji])return w.collection();var Oi=w.collection();for(Oi.merge(wi);zi!==ji;)Oi.merge(ue[zi*yt+(zi=le[zi*yt+ji])]),Oi.merge(zt(zi));return Oi}}}},Qh=en({weight:function(f){return 1},directed:!1,root:null}),Ha={bellmanFord:function(f){var w=this,E=Qh(f),L=E.directed,F=E.root,st=E.weight,ft=this,lt=this.cy(),yt=this.byGroup(),Ct=yt.edges,Lt=yt.nodes,zt=Lt.length,Wt=new Or,Bt=!1;F=lt.collection(F)[0],Ct.unmergeBy(function(ji){return ji.isLoop()});for(var re=Ct.length,le=function(wi){var Oi=Wt.get(wi.id());return Oi||(Oi={},Wt.set(wi.id(),Oi)),Oi},ue=function(wi){return(rt(wi)?lt.$(wi):wi)[0]},je=0;je<zt;je++){var ye=Lt[je],Ve=le(ye);Ve.dist=ye.same(F)?0:1/0,Ve.pred=null,Ve.edge=null}for(var De=!1,Ye=function(wi,Oi,Gi,qi,gn,mr){var wr=qi.dist+mr;wr<gn.dist&&!Gi.same(qi.edge)&&(gn.dist=wr,gn.pred=wi,gn.edge=Gi,De=!0)},ze=1;ze<zt;ze++){De=!1;for(var Oe=0;Oe<re;Oe++){var Ze=Ct[Oe],Le=Ze.source(),Mi=Ze.target(),hi=st(Ze),Ci=le(Le),fi=le(Mi);Ye(Le,0,Ze,Ci,fi,hi),L||Ye(Mi,0,Ze,fi,Ci,hi)}if(!De)break}if(De)for(var xi=0;xi<re;xi++){var Li=Ct[xi],Ei=Li.source(),si=Li.target(),Hi=st(Li),Ne=le(Ei).dist,zi=le(si).dist;if(Ne+Hi<zi||!L&&zi+Hi<Ne){Ie("Graph contains a negative weight cycle for Bellman-Ford"),Bt=!0;break}}return{distanceTo:function(wi){return le(ue(wi)).dist},pathTo:function(wi){for(var Oi=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F,Gi=ue(wi),qi=[],gn=Gi;;){if(null==gn)return w.spawn();var mr=le(gn),wr=mr.edge,Sn=mr.pred;if(qi.unshift(gn[0]),gn.same(Oi)&&qi.length>0)break;null!=wr&&qi.unshift(wr),gn=Sn}return ft.spawn(qi)},hasNegativeWeightCycle:Bt,negativeWeightCycles:[]}}},$0=Math.sqrt(2),Nf=function(f,w,E){0===E.length&&$e("Karger-Stein must be run on a connected (sub)graph");for(var O=E[f],st=w[O[1]],ft=w[O[2]],lt=E,yt=lt.length-1;yt>=0;yt--){var Ct=lt[yt],Lt=Ct[1],zt=Ct[2];(w[Lt]===st&&w[zt]===ft||w[Lt]===ft&&w[zt]===st)&&lt.splice(yt,1)}for(var Wt=0;Wt<lt.length;Wt++){var Bt=lt[Wt];Bt[1]===ft?(lt[Wt]=Bt.slice(),lt[Wt][1]=st):Bt[2]===ft&&(lt[Wt]=Bt.slice(),lt[Wt][2]=st)}for(var Qt=0;Qt<w.length;Qt++)w[Qt]===ft&&(w[Qt]=st);return lt},pr=function(f,w,E,O){for(;E>O;){var L=Math.floor(Math.random()*w.length);w=Nf(L,f,w),E--}return w},sa={kargerStein:function(){var f=this,w=this.byGroup(),E=w.nodes,O=w.edges;O.unmergeBy(function(fi){return fi.isLoop()});var L=E.length,F=O.length,st=Math.ceil(Math.pow(Math.log(L)/Math.LN2,2)),ft=Math.floor(L/$0);if(!(L<2)){for(var lt=[],yt=0;yt<F;yt++){var Ct=O[yt];lt.push([yt,E.indexOf(Ct.source()),E.indexOf(Ct.target())])}for(var Lt=1/0,zt=[],Wt=new Array(L),Bt=new Array(L),Qt=new Array(L),re=function(xi,Li){for(var Ei=0;Ei<L;Ei++)Li[Ei]=xi[Ei]},le=0;le<=st;le++){for(var ue=0;ue<L;ue++)Bt[ue]=ue;var xe=pr(Bt,lt.slice(),L,ft),Be=xe.slice();re(Bt,Qt);var je=pr(Bt,xe,ft,2),ye=pr(Qt,Be,ft,2);je.length<=ye.length&&je.length<Lt?(Lt=je.length,zt=je,re(Bt,Wt)):ye.length<=je.length&&ye.length<Lt&&(Lt=ye.length,zt=ye,re(Qt,Wt))}for(var Ve=this.spawn(zt.map(function(fi){return O[fi[0]]})),De=this.spawn(),Ye=this.spawn(),ze=Wt[0],Oe=0;Oe<Wt.length;Oe++){var Le=E[Oe];Wt[Oe]===ze?De.merge(Le):Ye.merge(Le)}var Mi=function(xi){var Li=f.spawn();return xi.forEach(function(Ei){Li.merge(Ei),Ei.connectedEdges().forEach(function(si){f.contains(si)&&!Ve.contains(si)&&Li.merge(si)})}),Li},hi=[Mi(De),Mi(Ye)];return{cut:Ve,components:hi,partition1:De,partition2:Ye}}$e("At least 2 nodes are required for Karger-Stein algorithm")}},X0=function(f,w,E){return{x:f.x*w+E.x,y:f.y*w+E.y}},vy=function(f,w,E){return{x:(f.x-E.x)/w,y:(f.y-E.y)/w}},mh=function(f){return{x:f[0],y:f[1]}},K0=function(f,w){return Math.atan2(w,f)-Math.PI/2},Pg=Math.log2||function(x){return Math.log(x)/Math.log(2)},Os=function(f){return f>0?1:f<0?-1:0},Od=function(f,w){return Math.sqrt(Lf(f,w))},Lf=function(f,w){var E=w.x-f.x,O=w.y-f.y;return E*E+O*O},ax=function(f){for(var w=f.length,E=0,O=0;O<w;O++)E+=f[O];for(var L=0;L<w;L++)f[L]=f[L]/E;return f},Ca=function(f,w,E,O){return(1-O)*(1-O)*f+2*(1-O)*O*w+O*O*E},aa=function(f,w,E,O){return{x:Ca(f.x,w.x,E.x,O),y:Ca(f.y,w.y,E.y,O)}},kr=function(f,w,E){return Math.max(f,Math.min(E,w))},Zo=function(f){if(null==f)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=f.x1&&null!=f.y1){if(null!=f.x2&&null!=f.y2&&f.x2>=f.x1&&f.y2>=f.y1)return{x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2,w:f.x2-f.x1,h:f.y2-f.y1};if(null!=f.w&&null!=f.h&&f.w>=0&&f.h>=0)return{x1:f.x1,y1:f.y1,x2:f.x1+f.w,y2:f.y1+f.h,w:f.w,h:f.h}}},Ki=function(f,w){f.x1=Math.min(f.x1,w.x1),f.x2=Math.max(f.x2,w.x2),f.w=f.x2-f.x1,f.y1=Math.min(f.y1,w.y1),f.y2=Math.max(f.y2,w.y2),f.h=f.y2-f.y1},hx=function(f,w,E){f.x1=Math.min(f.x1,w),f.x2=Math.max(f.x2,w),f.w=f.x2-f.x1,f.y1=Math.min(f.y1,E),f.y2=Math.max(f.y2,E),f.h=f.y2-f.y1},Zn=function(f){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return f.x1-=w,f.x2+=w,f.y1-=w,f.y2+=w,f.w=f.x2-f.x1,f.h=f.y2-f.y1,f},Uu=function(f){var E,O,L,F,w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===w.length)E=O=L=F=w[0];else if(2===w.length)E=L=w[0],F=O=w[1];else if(4===w.length){var st=K(w,4);E=st[0],O=st[1],L=st[2],F=st[3]}return f.x1-=F,f.x2+=O,f.y1-=E,f.y2+=L,f.w=f.x2-f.x1,f.h=f.y2-f.y1,f},cn=function(f,w){f.x1=w.x1,f.y1=w.y1,f.x2=w.x2,f.y2=w.y2,f.w=f.x2-f.x1,f.h=f.y2-f.y1},Ig=function(f,w){return!(f.x1>w.x2||w.x1>f.x2||f.x2<w.x1||w.x2<f.x1||f.y2<w.y1||w.y2<f.y1||f.y1>w.y2||w.y1>f.y2)},me=function(f,w,E){return f.x1<=w&&w<=f.x2&&f.y1<=E&&E<=f.y2},pn=function(f,w){return me(f,w.x,w.y)},Hp=function(f,w){return me(f,w.x1,w.y1)&&me(f,w.x2,w.y2)},Z0=function(f,w,E,O,L,F,st){var Ct,ft=qs(L,F),lt=L/2,yt=F/2,zt=O-yt-st;if((Ct=Ua(f,w,E,O,E-lt+ft-st,zt,E+lt-ft+st,zt,!1)).length>0)return Ct;var Qt=E+lt+st;if((Ct=Ua(f,w,E,O,Qt,O-yt+ft-st,Qt,O+yt-ft+st,!1)).length>0)return Ct;var Be=O+yt+st;if((Ct=Ua(f,w,E,O,E-lt+ft-st,Be,E+lt-ft+st,Be,!1)).length>0)return Ct;var Oe,Ve=E-lt-st;if((Ct=Ua(f,w,E,O,Ve,O-yt+ft-st,Ve,O+yt-ft+st,!1)).length>0)return Ct;var Ze=E-lt+ft,Le=O-yt+ft;if((Oe=qo(f,w,E,O,Ze,Le,ft+st)).length>0&&Oe[0]<=Ze&&Oe[1]<=Le)return[Oe[0],Oe[1]];var Mi=E+lt-ft,hi=O-yt+ft;if((Oe=qo(f,w,E,O,Mi,hi,ft+st)).length>0&&Oe[0]>=Mi&&Oe[1]<=hi)return[Oe[0],Oe[1]];var Ci=E+lt-ft,fi=O+yt-ft;if((Oe=qo(f,w,E,O,Ci,fi,ft+st)).length>0&&Oe[0]>=Ci&&Oe[1]>=fi)return[Oe[0],Oe[1]];var xi=E-lt+ft,Li=O+yt-ft;return(Oe=qo(f,w,E,O,xi,Li,ft+st)).length>0&&Oe[0]<=xi&&Oe[1]>=Li?[Oe[0],Oe[1]]:[]},Nd=function(f,w,E,O,L,F,st){var ft=st,lt=Math.min(E,L),yt=Math.max(E,L),Ct=Math.min(O,F),Lt=Math.max(O,F);return lt-ft<=f&&f<=yt+ft&&Ct-ft<=w&&w<=Lt+ft},cx=function(f,w,E,O,L,F,st,ft,lt){var yt_x1=Math.min(E,st,L)-lt,yt_x2=Math.max(E,st,L)+lt,yt_y1=Math.min(O,ft,F)-lt,yt_y2=Math.max(O,ft,F)+lt;return!(f<yt_x1||f>yt_x2||w<yt_y1||w>yt_y2)},Rg=function(f,w,E,O,L,F,st,ft){var zt=[];!function(f,w,E,O,L){var st,ft,lt,yt,Ct,Lt,zt,Wt;0===f&&(f=1e-5),lt=-27*(O/=f)+(w/=f)*(9*(E/=f)-w*w*2),st=(ft=(3*E-w*w)/9)*ft*ft+(lt/=54)*lt,L[1]=0,zt=w/3,st>0?(Ct=(Ct=lt+Math.sqrt(st))<0?-Math.pow(-Ct,1/3):Math.pow(Ct,1/3),Lt=(Lt=lt-Math.sqrt(st))<0?-Math.pow(-Lt,1/3):Math.pow(Lt,1/3),L[0]=-zt+Ct+Lt,L[4]=L[2]=-(zt+=(Ct+Lt)/2),zt=Math.sqrt(3)*(-Lt+Ct)/2,L[3]=zt,L[5]=-zt):(L[5]=L[3]=0,0===st?(Wt=lt<0?-Math.pow(-lt,1/3):Math.pow(lt,1/3),L[0]=2*Wt-zt,L[4]=L[2]=-(Wt+zt)):(yt=(ft=-ft)*ft*ft,yt=Math.acos(lt/Math.sqrt(yt)),Wt=2*Math.sqrt(ft),L[0]=-zt+Wt*Math.cos(yt/3),L[2]=-zt+Wt*Math.cos((yt+2*Math.PI)/3),L[4]=-zt+Wt*Math.cos((yt+4*Math.PI)/3)))}(1*E*E-4*E*L+2*E*st+4*L*L-4*L*st+st*st+O*O-4*O*F+2*O*ft+4*F*F-4*F*ft+ft*ft,9*E*L-3*E*E-3*E*st-6*L*L+3*L*st+9*O*F-3*O*O-3*O*ft-6*F*F+3*F*ft,3*E*E-6*E*L+E*st-E*f+2*L*L+2*L*f-st*f+3*O*O-6*O*F+O*ft-O*w+2*F*F+2*F*w-ft*w,1*E*L-E*E+E*f-L*f+O*F-O*O+O*w-F*w,zt);for(var Bt=[],Qt=0;Qt<6;Qt+=2)Math.abs(zt[Qt+1])<1e-7&&zt[Qt]>=0&&zt[Qt]<=1&&Bt.push(zt[Qt]);Bt.push(1),Bt.push(0);for(var le,ue,xe,re=-1,Be=0;Be<Bt.length;Be++)le=Math.pow(1-Bt[Be],2)*E+2*(1-Bt[Be])*Bt[Be]*L+Bt[Be]*Bt[Be]*st,ue=Math.pow(1-Bt[Be],2)*O+2*(1-Bt[Be])*Bt[Be]*F+Bt[Be]*Bt[Be]*ft,xe=Math.pow(le-f,2)+Math.pow(ue-w,2),re>=0?xe<re&&(re=xe):re=xe;return re},Gc=function(f,w,E,O,L,F){var st=[f-E,w-O],ft=[L-E,F-O],lt=ft[0]*ft[0]+ft[1]*ft[1],yt=st[0]*st[0]+st[1]*st[1],Ct=st[0]*ft[0]+st[1]*ft[1],Lt=Ct*Ct/lt;return Ct<0?yt:Lt>lt?(f-L)*(f-L)+(w-F)*(w-F):yt-Lt},dl=function(f,w,E){for(var O,L,F,st,lt=0,yt=0;yt<E.length/2;yt++)if(L=E[2*yt+1],yt+1<E.length/2?(F=E[2*(yt+1)],st=E[2*(yt+1)+1]):(F=E[2*(yt+1-E.length/2)],st=E[2*(yt+1-E.length/2)+1]),(O=E[2*yt])!=f||F!=f){if(!(O>=f&&f>=F||O<=f&&f<=F))continue;(f-O)/(F-O)*(st-L)+L>w&&lt++}return lt%2!=0},Jh=function(f,w,E,O,L,F,st,ft,lt){var Ct,Bt,yt=new Array(E.length);null!=ft[0]?(Ct=Math.atan(ft[1]/ft[0]),ft[0]<0?Ct+=Math.PI/2:Ct=-Ct-Math.PI/2):Ct=ft;for(var Lt=Math.cos(-Ct),zt=Math.sin(-Ct),Wt=0;Wt<yt.length/2;Wt++)yt[2*Wt]=F/2*(E[2*Wt]*Lt-E[2*Wt+1]*zt),yt[2*Wt+1]=st/2*(E[2*Wt+1]*Lt+E[2*Wt]*zt),yt[2*Wt]+=O,yt[2*Wt+1]+=L;if(lt>0){var Qt=wu(yt,-lt);Bt=rs(Qt)}else Bt=yt;return dl(f,w,Bt)},rs=function(f){for(var st,ft,lt,yt,w=new Array(f.length/2),Ct=0;Ct<f.length/4;Ct++){Ct<f.length/4-1?(st=f[4*(Ct+1)],ft=f[4*(Ct+1)+1],lt=f[4*(Ct+1)+2],yt=f[4*(Ct+1)+3]):(st=f[0],ft=f[1],lt=f[2],yt=f[3]);var Lt=Ua(f[4*Ct],f[4*Ct+1],f[4*Ct+2],f[4*Ct+3],st,ft,lt,yt,!0);w[2*Ct]=Lt[0],w[2*Ct+1]=Lt[1]}return w},wu=function(f,w){for(var O,L,F,st,E=new Array(2*f.length),ft=0;ft<f.length/2;ft++){ft<f.length/2-1?(F=f[2*(ft+1)],st=f[2*(ft+1)+1]):(F=f[0],st=f[1]);var lt=st-(L=f[2*ft+1]),yt=-(F-(O=f[2*ft])),Ct=Math.sqrt(lt*lt+yt*yt),Lt=lt/Ct,zt=yt/Ct;E[4*ft]=O+Lt*w,E[4*ft+1]=L+zt*w,E[4*ft+2]=F+Lt*w,E[4*ft+3]=st+zt*w}return E},Ms=function(f,w,E,O,L,F,st){return f-=L,w-=F,(f/=E/2+st)*f+(w/=O/2+st)*w<=1},qo=function(f,w,E,O,L,F,st){var ft=[E-f,O-w],lt=[f-L,w-F],yt=ft[0]*ft[0]+ft[1]*ft[1],Ct=2*(lt[0]*ft[0]+lt[1]*ft[1]),zt=Ct*Ct-4*yt*(lt[0]*lt[0]+lt[1]*lt[1]-st*st);if(zt<0)return[];var Wt=(-Ct+Math.sqrt(zt))/(2*yt),Bt=(-Ct-Math.sqrt(zt))/(2*yt),Qt=Math.min(Wt,Bt),re=Math.max(Wt,Bt),le=[];if(Qt>=0&&Qt<=1&&le.push(Qt),re>=0&&re<=1&&le.push(re),0===le.length)return[];var ue=le[0]*ft[0]+f,xe=le[0]*ft[1]+w;return le.length>1?le[0]==le[1]?[ue,xe]:[ue,xe,le[1]*ft[0]+f,le[1]*ft[1]+w]:[ue,xe]},Vn=function(f,w,E){return w<=f&&f<=E||E<=f&&f<=w?f:f<=w&&w<=E||E<=w&&w<=f?w:E},Ua=function(f,w,E,O,L,F,st,ft,lt){var yt=f-L,Ct=E-f,Lt=st-L,zt=w-F,Wt=O-w,Bt=ft-F,Qt=Lt*zt-Bt*yt,re=Ct*zt-Wt*yt,le=Bt*Ct-Lt*Wt;if(0!==le){var ue=Qt/le,xe=re/le;return-.001<=ue&&ue<=1.001&&-.001<=xe&&xe<=1.001||lt?[f+ue*Ct,w+ue*Wt]:[]}return 0===Qt||0===re?Vn(f,E,st)===st?[st,ft]:Vn(f,E,L)===L?[L,F]:Vn(L,st,E)===E?[E,O]:[]:[]},vh=function(f,w,E,O,L,F,st,ft){var yt,zt,lt=[],Ct=new Array(E.length),Lt=!0;if(null==F&&(Lt=!1),Lt){for(var Wt=0;Wt<Ct.length/2;Wt++)Ct[2*Wt]=E[2*Wt]*F+O,Ct[2*Wt+1]=E[2*Wt+1]*st+L;if(ft>0){var Bt=wu(Ct,-ft);zt=rs(Bt)}else zt=Ct}else zt=E;for(var le,ue,xe=0;xe<zt.length/2;xe++)xe<zt.length/2-1?(le=zt[2*(xe+1)],ue=zt[2*(xe+1)+1]):(le=zt[0],ue=zt[1]),0!==(yt=Ua(f,w,O,L,zt[2*xe],zt[2*xe+1],le,ue)).length&&lt.push(yt[0],yt[1]);return lt},fo=function(f,w,E){var O=[f[0]-w[0],f[1]-w[1]],L=Math.sqrt(O[0]*O[0]+O[1]*O[1]),F=(L-E)/L;return F<0&&(F=1e-5),[w[0]+F*O[0],w[1]+F*O[1]]},Vo=function(f,w){var E=jn(f,w);return Sa(E)},Sa=function(f){for(var w,E,O=f.length/2,L=1/0,F=1/0,st=-1/0,ft=-1/0,lt=0;lt<O;lt++)w=f[2*lt],E=f[2*lt+1],L=Math.min(L,w),st=Math.max(st,w),F=Math.min(F,E),ft=Math.max(ft,E);for(var yt=2/(st-L),Ct=2/(ft-F),Lt=0;Lt<O;Lt++)w=f[2*Lt]=f[2*Lt]*yt,E=f[2*Lt+1]=f[2*Lt+1]*Ct,L=Math.min(L,w),st=Math.max(st,w),F=Math.min(F,E),ft=Math.max(ft,E);if(F<-1)for(var zt=0;zt<O;zt++)E=f[2*zt+1]=f[2*zt+1]+(-1-F);return f},jn=function(f,w){var E=1/f*2*Math.PI,O=f%2==0?Math.PI/2+E/2:Math.PI/2;O+=w;for(var F,L=new Array(2*f),st=0;st<f;st++)F=st*E+O,L[2*st]=Math.cos(F),L[2*st+1]=Math.sin(-F);return L},qs=function(f,w){return Math.min(f/4,w/4,8)},Cs=function(f,w){return Math.min(f/10,w/10,8)},Ss=function(f,w){return{heightOffset:Math.min(15,.05*w),widthOffset:Math.min(100,.25*f),ctrlPtOffsetPct:.05}},_r=en({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(f){return 1}}),Io={pageRank:function(f){for(var w=_r(f),E=w.dampingFactor,O=w.precision,L=w.iterations,F=w.weight,st=this._private.cy,ft=this.byGroup(),lt=ft.nodes,yt=ft.edges,Ct=lt.length,zt=yt.length,Wt=new Array(Ct*Ct),Bt=new Array(Ct),Qt=(1-E)/Ct,re=0;re<Ct;re++){for(var le=0;le<Ct;le++)Wt[re*Ct+le]=0;Bt[re]=0}for(var xe=0;xe<zt;xe++){var Be=yt[xe],je=Be.data("source"),ye=Be.data("target");if(je!==ye){var Ve=lt.indexOfId(je),De=lt.indexOfId(ye),Ye=F(Be);Wt[De*Ct+Ve]+=Ye,Bt[Ve]+=Ye}}for(var Oe=1/Ct+Qt,Ze=0;Ze<Ct;Ze++)if(0===Bt[Ze])for(var Le=0;Le<Ct;Le++)Wt[Le*Ct+Ze]=Oe;else for(var hi=0;hi<Ct;hi++){var Ci=hi*Ct+Ze;Wt[Ci]=Wt[Ci]/Bt[Ze]+Qt}for(var Li,fi=new Array(Ct),xi=new Array(Ct),Ei=0;Ei<Ct;Ei++)fi[Ei]=1;for(var si=0;si<L;si++){for(var Hi=0;Hi<Ct;Hi++)xi[Hi]=0;for(var Ne=0;Ne<Ct;Ne++)for(var zi=0;zi<Ct;zi++)xi[Ne]+=Wt[Ne*Ct+zi]*fi[zi];ax(xi),Li=fi,fi=xi,xi=Li;for(var wi=0,Oi=0;Oi<Ct;Oi++){var Gi=Li[Oi]-fi[Oi];wi+=Gi*Gi}if(wi<O)break}return{rank:function(mr){return mr=st.collection(mr)[0],fi[lt.indexOf(mr)]}}}},fn=en({root:null,weight:function(f){return 1},directed:!1,alpha:0}),Ro={degreeCentralityNormalized:function(f){f=fn(f);var w=this.cy(),E=this.nodes(),O=E.length;if(f.directed){for(var yt={},Ct={},Lt=0,zt=0,Wt=0;Wt<O;Wt++){var Bt=E[Wt],Qt=Bt.id();f.root=Bt;var re=this.degreeCentrality(f);Lt<re.indegree&&(Lt=re.indegree),zt<re.outdegree&&(zt=re.outdegree),yt[Qt]=re.indegree,Ct[Qt]=re.outdegree}return{indegree:function(ue){return 0==Lt?0:(rt(ue)&&(ue=w.filter(ue)),yt[ue.id()]/Lt)},outdegree:function(ue){return 0===zt?0:(rt(ue)&&(ue=w.filter(ue)),Ct[ue.id()]/zt)}}}for(var L={},F=0,st=0;st<O;st++){var ft=E[st];f.root=ft;var lt=this.degreeCentrality(f);F<lt.degree&&(F=lt.degree),L[ft.id()]=lt.degree}return{degree:function(ue){return 0===F?0:(rt(ue)&&(ue=w.filter(ue)),L[ue.id()]/F)}}},degreeCentrality:function(f){f=fn(f);var w=this.cy(),E=this,L=f.root,F=f.weight,st=f.directed,ft=f.alpha;if(L=w.collection(L)[0],st){for(var zt=L.connectedEdges(),Wt=zt.filter(function(je){return je.target().same(L)&&E.has(je)}),Bt=zt.filter(function(je){return je.source().same(L)&&E.has(je)}),Qt=Wt.length,re=Bt.length,le=0,ue=0,xe=0;xe<Wt.length;xe++)le+=F(Wt[xe]);for(var Be=0;Be<Bt.length;Be++)ue+=F(Bt[Be]);return{indegree:Math.pow(Qt,1-ft)*Math.pow(le,ft),outdegree:Math.pow(re,1-ft)*Math.pow(ue,ft)}}for(var lt=L.connectedEdges().intersection(E),yt=lt.length,Ct=0,Lt=0;Lt<lt.length;Lt++)Ct+=F(lt[Lt]);return{degree:Math.pow(yt,1-ft)*Math.pow(Ct,ft)}}};Ro.dc=Ro.degreeCentrality,Ro.dcn=Ro.degreeCentralityNormalised=Ro.degreeCentralityNormalized;var to=en({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Ff={closenessCentralityNormalized:function(f){for(var w=to(f),E=w.harmonic,O=w.weight,L=w.directed,F=this.cy(),st={},ft=0,lt=this.nodes(),yt=this.floydWarshall({weight:O,directed:L}),Ct=0;Ct<lt.length;Ct++){for(var Lt=0,zt=lt[Ct],Wt=0;Wt<lt.length;Wt++)if(Ct!==Wt){var Bt=yt.distance(zt,lt[Wt]);Lt+=E?1/Bt:Bt}E||(Lt=1/Lt),ft<Lt&&(ft=Lt),st[zt.id()]=Lt}return{closeness:function(re){return 0==ft?0:(re=rt(re)?F.filter(re)[0].id():re.id(),st[re]/ft)}}},closenessCentrality:function(f){var w=to(f),E=w.root,O=w.weight,L=w.directed,F=w.harmonic;E=this.filter(E)[0];for(var st=this.dijkstra({root:E,weight:O,directed:L}),ft=0,lt=this.nodes(),yt=0;yt<lt.length;yt++){var Ct=lt[yt];if(!Ct.same(E)){var Lt=st.distanceTo(Ct);ft+=F?1/Lt:Lt}}return F?ft:1/ft}};Ff.cc=Ff.closenessCentrality,Ff.ccn=Ff.closenessCentralityNormalised=Ff.closenessCentralityNormalized;var Rn=en({weight:null,directed:!1}),sr={betweennessCentrality:function(f){for(var w=Rn(f),E=w.directed,O=w.weight,L=null!=O,F=this.cy(),st=this.nodes(),ft={},lt={},yt=0,Ct={set:function(ue,xe){lt[ue]=xe,xe>yt&&(yt=xe)},get:function(ue){return lt[ue]}},Lt=0;Lt<st.length;Lt++){var zt=st[Lt],Wt=zt.id();ft[Wt]=E?zt.outgoers().nodes():zt.openNeighborhood().nodes(),Ct.set(Wt,0)}for(var Bt=function(ue){for(var xe=st[ue].id(),Be=[],je={},ye={},Ve={},De=new ht(function(zi,ji){return Ve[zi]-Ve[ji]}),Ye=0;Ye<st.length;Ye++){var ze=st[Ye].id();je[ze]=[],ye[ze]=0,Ve[ze]=1/0}for(ye[xe]=1,Ve[xe]=0,De.push(xe);!De.empty();){var Oe=De.pop();if(Be.push(Oe),L)for(var Ze=0;Ze<ft[Oe].length;Ze++){var hi,Le=ft[Oe][Ze],Mi=F.getElementById(Oe);hi=Mi.edgesTo(Le).length>0?Mi.edgesTo(Le)[0]:Le.edgesTo(Mi)[0];var Ci=O(hi);Le=Le.id(),Ve[Le]>Ve[Oe]+Ci&&(Ve[Le]=Ve[Oe]+Ci,De.nodes.indexOf(Le)<0?De.push(Le):De.updateItem(Le),ye[Le]=0,je[Le]=[]),Ve[Le]==Ve[Oe]+Ci&&(ye[Le]=ye[Le]+ye[Oe],je[Le].push(Oe))}else for(var fi=0;fi<ft[Oe].length;fi++){var xi=ft[Oe][fi].id();Ve[xi]==1/0&&(De.push(xi),Ve[xi]=Ve[Oe]+1),Ve[xi]==Ve[Oe]+1&&(ye[xi]=ye[xi]+ye[Oe],je[xi].push(Oe))}}for(var Li={},Ei=0;Ei<st.length;Ei++)Li[st[Ei].id()]=0;for(;Be.length>0;){for(var si=Be.pop(),Hi=0;Hi<je[si].length;Hi++){var Ne=je[si][Hi];Li[Ne]=Li[Ne]+ye[Ne]/ye[si]*(1+Li[si])}si!=st[ue].id()&&Ct.set(si,Ct.get(si)+Li[si])}},Qt=0;Qt<st.length;Qt++)Bt(Qt);var re={betweenness:function(ue){var xe=F.collection(ue).id();return Ct.get(xe)},betweennessNormalized:function(ue){if(0==yt)return 0;var xe=F.collection(ue).id();return Ct.get(xe)/yt}};return re.betweennessNormalised=re.betweennessNormalized,re}};sr.bc=sr.betweennessCentrality;var zr=en({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(x){return 1}]}),an=function(f,w){for(var E=0,O=0;O<w.length;O++)E+=w[O](f);return E},el=function(f,w){for(var E,O=0;O<w;O++){E=0;for(var L=0;L<w;L++)E+=f[L*w+O];for(var F=0;F<w;F++)f[F*w+O]=f[F*w+O]/E}},Wc=function(f,w,E){for(var O=new Array(E*E),L=0;L<E;L++){for(var F=0;F<E;F++)O[L*E+F]=0;for(var st=0;st<E;st++)for(var ft=0;ft<E;ft++)O[L*E+ft]+=f[L*E+st]*w[st*E+ft]}return O},Gu=function(f,w,E){for(var O=f.slice(0),L=1;L<E;L++)f=Wc(f,O,w);return f},ml=function(f,w,E){for(var O=new Array(w*w),L=0;L<w*w;L++)O[L]=Math.pow(f[L],E);return el(O,w),O},lr=function(f,w,E,O){for(var L=0;L<E;L++)if(Math.round(f[L]*Math.pow(10,O))/Math.pow(10,O)!=Math.round(w[L]*Math.pow(10,O))/Math.pow(10,O))return!1;return!0},eo=function(f,w){for(var E=0;E<f.length;E++)if(!w[E]||f[E].id()!==w[E].id())return!1;return!0},gl=function(f){for(var w=this.nodes(),E=this.edges(),O=this.cy(),L=function(f){return zr(f)}(f),F={},st=0;st<w.length;st++)F[w[st].id()]=st;for(var Ct,ft=w.length,lt=ft*ft,yt=new Array(lt),Lt=0;Lt<lt;Lt++)yt[Lt]=0;for(var zt=0;zt<E.length;zt++){var Wt=E[zt],Bt=F[Wt.source().id()],Qt=F[Wt.target().id()],re=an(Wt,L.attributes);yt[Bt*ft+Qt]+=re,yt[Qt*ft+Bt]+=re}(function(f,w,E){for(var O=0;O<w;O++)f[O*w+O]=E})(yt,ft,L.multFactor),el(yt,ft);for(var le=!0,ue=0;le&&ue<L.maxIterations;)le=!1,Ct=Gu(yt,ft,L.expandFactor),yt=ml(Ct,ft,L.inflateFactor),lr(yt,Ct,lt,4)||(le=!0),ue++;var xe=function(f,w,E,O){for(var L=[],F=0;F<w;F++){for(var st=[],ft=0;ft<w;ft++)Math.round(1e3*f[F*w+ft])/1e3>0&&st.push(E[ft]);0!==st.length&&L.push(O.collection(st))}return L}(yt,ft,w,O);return xe=function(f){for(var w=0;w<f.length;w++)for(var E=0;E<f.length;E++)w!=E&&eo(f[w],f[E])&&f.splice(E,1);return f}(xe),xe},Vl={markovClustering:gl,mcl:gl},Da=function(f){return f},Ql=function(f,w){return Math.abs(w-f)},Ds=function(f,w,E){return f+Ql(w,E)},Bf=function(f,w,E){return f+Math.pow(E-w,2)},Ld=function(f){return Math.sqrt(f)},$r=function(f,w,E){return Math.max(f,Ql(w,E))},Yc=function(f,w,E,O,L){for(var F=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Da,st=O,yt=0;yt<f;yt++)st=L(st,w(yt),E(yt));return F(st)},Wu={euclidean:function(f,w,E){return f>=2?Yc(f,w,E,0,Bf,Ld):Yc(f,w,E,0,Ds)},squaredEuclidean:function(f,w,E){return Yc(f,w,E,0,Bf)},manhattan:function(f,w,E){return Yc(f,w,E,0,Ds)},max:function(f,w,E){return Yc(f,w,E,-1/0,$r)}};function Fd(x,f,w,E,O,L){var F;return F=mt(x)?x:Wu[x]||Wu.euclidean,0===f&&mt(x)?F(O,L):F(f,w,E,O,L)}Wu["squared-euclidean"]=Wu.squaredEuclidean,Wu.squaredeuclidean=Wu.squaredEuclidean;var Up=en({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),vl=function(f){return Up(f)},Vf=function(f,w,E,O,L){var st="kMedoids"!==L?function(Ct){return E[Ct]}:function(Ct){return O[Ct](E)};return Fd(f,O.length,st,function(Lt){return O[Lt](w)},E,w)},$c=function(f,w,E){for(var O=E.length,L=new Array(O),F=new Array(O),st=new Array(w),ft=null,lt=0;lt<O;lt++)L[lt]=f.min(E[lt]).value,F[lt]=f.max(E[lt]).value;for(var yt=0;yt<w;yt++){ft=[];for(var Ct=0;Ct<O;Ct++)ft[Ct]=Math.random()*(F[Ct]-L[Ct])+L[Ct];st[yt]=ft}return st},Ga=function(f,w,E,O,L){for(var F=1/0,st=0,ft=0;ft<w.length;ft++){var lt=Vf(E,f,w[ft],O,L);lt<F&&(F=lt,st=ft)}return st},ur=function(f,w,E){for(var O=[],L=null,F=0;F<w.length;F++)E[(L=w[F]).id()]===f&&O.push(L);return O},Gp=function(f,w,E){return Math.abs(w-f)<=E},Es=function(f,w,E){for(var O=0;O<f.length;O++)for(var L=0;L<f[O].length;L++)if(Math.abs(f[O][L]-w[O][L])>E)return!1;return!0},Wp=function(f,w,E){for(var O=0;O<E;O++)if(f===w[O])return!0;return!1},jf=function(f,w){var E=new Array(w);if(f.length<50)for(var O=0;O<w;O++){for(var L=f[Math.floor(Math.random()*f.length)];Wp(L,E,O);)L=f[Math.floor(Math.random()*f.length)];E[O]=L}else for(var F=0;F<w;F++)E[F]=f[Math.floor(Math.random()*f.length)];return E},Bd=function(f,w,E){for(var O=0,L=0;L<w.length;L++)O+=Vf("manhattan",w[L],f,E,"kMedoids");return O},Ea=function(f,w,E,O,L){for(var F,st,ft=0;ft<w.length;ft++)for(var lt=0;lt<f.length;lt++)O[ft][lt]=Math.pow(E[ft][lt],L.m);for(var yt=0;yt<f.length;yt++)for(var Ct=0;Ct<L.attributes.length;Ct++){F=0,st=0;for(var Lt=0;Lt<w.length;Lt++)F+=O[Lt][yt]*L.attributes[Ct](w[Lt]),st+=O[Lt][yt];f[yt][Ct]=F/st}},fx=function(f,w,E,O,L){for(var F=0;F<f.length;F++)w[F]=f[F].slice();for(var st,ft,lt,yt=2/(L.m-1),Ct=0;Ct<E.length;Ct++)for(var Lt=0;Lt<O.length;Lt++){st=0;for(var zt=0;zt<E.length;zt++)ft=Vf(L.distance,O[Lt],E[Ct],L.attributes,"cmeans"),lt=Vf(L.distance,O[Lt],E[zt],L.attributes,"cmeans"),st+=Math.pow(ft/lt,yt);f[Lt][Ct]=1/st}},os=function(f){var L,F,st,ft,lt,w=this.cy(),E=this.nodes(),O=vl(f);ft=new Array(E.length);for(var yt=0;yt<E.length;yt++)ft[yt]=new Array(O.k);st=new Array(E.length);for(var Ct=0;Ct<E.length;Ct++)st[Ct]=new Array(O.k);for(var Lt=0;Lt<E.length;Lt++){for(var zt=0,Wt=0;Wt<O.k;Wt++)st[Lt][Wt]=Math.random(),zt+=st[Lt][Wt];for(var Bt=0;Bt<O.k;Bt++)st[Lt][Bt]=st[Lt][Bt]/zt}F=new Array(O.k);for(var Qt=0;Qt<O.k;Qt++)F[Qt]=new Array(O.attributes.length);lt=new Array(E.length);for(var re=0;re<E.length;re++)lt[re]=new Array(O.k);for(var le=!0,ue=0;le&&ue<O.maxIterations;)le=!1,Ea(F,E,st,lt,O),fx(st,ft,F,E,O),Es(st,ft,O.sensitivityThreshold)||(le=!0),ue++;return L=function(f,w,E,O){for(var L=new Array(E.k),F=0;F<L.length;F++)L[F]=[];for(var st,ft,lt=0;lt<w.length;lt++){st=-1/0,ft=-1;for(var yt=0;yt<w[0].length;yt++)w[lt][yt]>st&&(st=w[lt][yt],ft=yt);L[ft].push(f[lt])}for(var Ct=0;Ct<L.length;Ct++)L[Ct]=O.collection(L[Ct]);return L}(E,st,O,w),{clusters:L,degreeOfMembership:st}},Og={kMeans:function(f){var ft,w=this.cy(),E=this.nodes(),O=null,L=vl(f),F=new Array(L.k),st={};ft=L.testMode?"number"==typeof L.testCentroids?$c(E,L.k,L.attributes):"object"===ct(L.testCentroids)?L.testCentroids:$c(E,L.k,L.attributes):$c(E,L.k,L.attributes);for(var lt=!0,yt=0;lt&&yt<L.maxIterations;){for(var Ct=0;Ct<E.length;Ct++)st[(O=E[Ct]).id()]=Ga(O,ft,L.distance,L.attributes,"kMeans");lt=!1;for(var Lt=0;Lt<L.k;Lt++){var zt=ur(Lt,E,st);if(0!==zt.length){for(var Wt=L.attributes.length,Bt=ft[Lt],Qt=new Array(Wt),re=new Array(Wt),le=0;le<Wt;le++){re[le]=0;for(var ue=0;ue<zt.length;ue++)re[le]+=L.attributes[le](O=zt[ue]);Qt[le]=re[le]/zt.length,Gp(Qt[le],Bt[le],L.sensitivityThreshold)||(lt=!0)}ft[Lt]=Qt,F[Lt]=w.collection(zt)}}yt++}return F},kMedoids:function(f){var st,lt,w=this.cy(),E=this.nodes(),O=null,L=vl(f),F=new Array(L.k),ft={},yt=new Array(L.k);L.testMode?"number"==typeof L.testCentroids||(st="object"===ct(L.testCentroids)?L.testCentroids:jf(E,L.k)):st=jf(E,L.k);for(var Ct=!0,Lt=0;Ct&&Lt<L.maxIterations;){for(var zt=0;zt<E.length;zt++)ft[(O=E[zt]).id()]=Ga(O,st,L.distance,L.attributes,"kMedoids");Ct=!1;for(var Wt=0;Wt<st.length;Wt++){var Bt=ur(Wt,E,ft);if(0!==Bt.length){yt[Wt]=Bd(st[Wt],Bt,L.attributes);for(var Qt=0;Qt<Bt.length;Qt++)(lt=Bd(Bt[Qt],Bt,L.attributes))<yt[Wt]&&(yt[Wt]=lt,st[Wt]=Bt[Qt],Ct=!0);F[Wt]=w.collection(Bt)}}Lt++}return F},fuzzyCMeans:os,fcm:os},wo=en({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Xc={single:"min",complete:"max"},Vd=function(f,w,E,O,L){for(var ft,F=0,st=1/0,lt=L.attributes,yt=function(De,Ye){return Fd(L.distance,lt.length,function(ze){return lt[ze](De)},function(ze){return lt[ze](Ye)},De,Ye)},Ct=0;Ct<f.length;Ct++){var Lt=f[Ct].key,zt=E[Lt][O[Lt]];zt<st&&(F=Lt,st=zt)}if("threshold"===L.mode&&st>=L.threshold||"dendrogram"===L.mode&&1===f.length)return!1;var Qt,Wt=w[F],Bt=w[O[F]];Qt="dendrogram"===L.mode?{left:Wt,right:Bt,key:Wt.key}:{value:Wt.value.concat(Bt.value),key:Wt.key},f[Wt.index]=Qt,f.splice(Bt.index,1),w[Wt.key]=Qt;for(var re=0;re<f.length;re++){var le=f[re];Wt.key===le.key?ft=1/0:"min"===L.linkage?(ft=E[Wt.key][le.key],E[Wt.key][le.key]>E[Bt.key][le.key]&&(ft=E[Bt.key][le.key])):"max"===L.linkage?(ft=E[Wt.key][le.key],E[Wt.key][le.key]<E[Bt.key][le.key]&&(ft=E[Bt.key][le.key])):ft="mean"===L.linkage?(E[Wt.key][le.key]*Wt.size+E[Bt.key][le.key]*Bt.size)/(Wt.size+Bt.size):"dendrogram"===L.mode?yt(le.value,Wt.value):yt(le.value[0],Wt.value[0]),E[Wt.key][le.key]=E[le.key][Wt.key]=ft}for(var ue=0;ue<f.length;ue++){var xe=f[ue].key;if(O[xe]===Wt.key||O[xe]===Bt.key){for(var Be=xe,je=0;je<f.length;je++){var ye=f[je].key;E[xe][ye]<E[xe][Be]&&(Be=ye)}O[xe]=Be}f[ue].index=ue}return Wt.key=Bt.key=Wt.index=Bt.index=null,!0},zf=function x(f,w,E){!f||(f.value?w.push(f.value):(f.left&&x(f.left,w),f.right&&x(f.right,w)))},wy=function x(f,w){if(!f)return"";if(f.left&&f.right){var E=x(f.left,w),O=x(f.right,w),L=w.add({group:"nodes",data:{id:E+","+O}});return w.add({group:"edges",data:{source:E,target:L.id()}}),w.add({group:"edges",data:{source:O,target:L.id()}}),L.id()}return f.value?f.value.id():void 0},Qs=function x(f,w,E){if(!f)return[];var O=[],L=[],F=[];return 0===w?(f.left&&zf(f.left,O),f.right&&zf(f.right,L),F=O.concat(L),[E.collection(F)]):1===w?f.value?[E.collection(f.value)]:(f.left&&zf(f.left,O),f.right&&zf(f.right,L),[E.collection(O),E.collection(L)]):f.value?[E.collection(f.value)]:(f.left&&(O=x(f.left,w-1,E)),f.right&&(L=x(f.right,w-1,E)),O.concat(L))},il=function(f){for(var w=this.cy(),E=this.nodes(),O=function(f){var w=wo(f),E=Xc[w.linkage];return null!=E&&(w.linkage=E),w}(f),L=O.attributes,F=function(ue,xe){return Fd(O.distance,L.length,function(Be){return L[Be](ue)},function(Be){return L[Be](xe)},ue,xe)},st=[],ft=[],lt=[],yt=[],Ct=0;Ct<E.length;Ct++){var Lt={value:"dendrogram"===O.mode?E[Ct]:[E[Ct]],key:Ct,index:Ct};st[Ct]=Lt,yt[Ct]=Lt,ft[Ct]=[],lt[Ct]=0}for(var zt=0;zt<st.length;zt++)for(var Wt=0;Wt<=zt;Wt++){var Bt;Bt="dendrogram"===O.mode?zt===Wt?1/0:F(st[zt].value,st[Wt].value):zt===Wt?1/0:F(st[zt].value[0],st[Wt].value[0]),ft[zt][Wt]=Bt,ft[Wt][zt]=Bt,Bt<ft[zt][lt[zt]]&&(lt[zt]=Wt)}for(var Qt=Vd(st,yt,ft,lt,O);Qt;)Qt=Vd(st,yt,ft,lt,O);var re;return"dendrogram"===O.mode?(re=Qs(st[0],O.dendrogramDepth,w),O.addDendrogram&&wy(st[0],w)):(re=new Array(st.length),st.forEach(function(le,ue){le.key=le.index=null,re[ue]=w.collection(le.value)})),re},J0={hierarchicalClustering:il,hca:il},Kc=en({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),xh=function(f,w,E,O){var L=function(st,ft){return O[ft](st)};return-Fd(f,O.length,function(F){return L(w,F)},function(F){return L(E,F)},w,E)},Jl=function(f,w,E){for(var O=[],L=0;L<f;L++){for(var F=-1,st=-1/0,ft=0;ft<E.length;ft++){var lt=E[ft];w[L*f+lt]>st&&(F=lt,st=w[L*f+lt])}F>0&&O.push(F)}for(var yt=0;yt<E.length;yt++)O[E[yt]]=E[yt];return O},lb=function(f){for(var w=this.cy(),E=this.nodes(),O=function(f){var w=f.damping,E=f.preference;.5<=w&&w<1||$e("Damping must range on [0.5, 1).  Got: ".concat(w));var O=["median","mean","min","max"];return O.some(function(L){return L===E})||Mt(E)||$e("Preference must be one of [".concat(O.map(function(L){return"'".concat(L,"'")}).join(", "),"] or a number.  Got: ").concat(E)),Kc(f)}(f),L={},F=0;F<E.length;F++)L[E[F].id()]=F;var st,ft,lt,yt,Ct,Lt,De;ft=(st=E.length)*st,lt=new Array(ft);for(var zt=0;zt<ft;zt++)lt[zt]=-1/0;for(var Wt=0;Wt<st;Wt++)for(var Bt=0;Bt<st;Bt++)Wt!==Bt&&(lt[Wt*st+Bt]=xh(O.distance,E[Wt],E[Bt],O.attributes));yt=function(f,w){var E;return E="median"===w?function(f){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.length,L=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],F=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(E<f.length&&f.splice(E,f.length-E),w>0&&f.splice(0,w)):f=f.slice(w,E);for(var st=0,ft=f.length-1;ft>=0;ft--)F?isFinite(f[ft])||(f[ft]=-1/0,st++):f.splice(ft,1);L&&f.sort(function(Lt,zt){return Lt-zt});var yt=f.length,Ct=Math.floor(yt/2);return yt%2!=0?f[Ct+1+st]:(f[Ct-1+st]+f[Ct+st])/2}(f):"mean"===w?function(f){for(var E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.length,O=0,L=0,F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;F<E;F++){var st=f[F];isFinite(st)&&(O+=st,L++)}return O/L}(f):"min"===w?function(f){for(var E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.length,O=1/0,L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;L<E;L++){var F=f[L];isFinite(F)&&(O=Math.min(F,O))}return O}(f):"max"===w?function(f){for(var E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.length,O=-1/0,L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;L<E;L++){var F=f[L];isFinite(F)&&(O=Math.max(F,O))}return O}(f):w,E}(lt,O.preference);for(var Qt=0;Qt<st;Qt++)lt[Qt*st+Qt]=yt;Ct=new Array(ft);for(var re=0;re<ft;re++)Ct[re]=0;Lt=new Array(ft);for(var le=0;le<ft;le++)Lt[le]=0;for(var ue=new Array(st),xe=new Array(st),Be=new Array(st),je=0;je<st;je++)ue[je]=0,xe[je]=0,Be[je]=0;for(var ye=new Array(st*O.minIterations),Ve=0;Ve<ye.length;Ve++)ye[Ve]=0;for(De=0;De<O.maxIterations;De++){for(var Ye=0;Ye<st;Ye++){for(var ze=-1/0,Oe=-1/0,Ze=-1,Le=0,Mi=0;Mi<st;Mi++)ue[Mi]=Ct[Ye*st+Mi],(Le=Lt[Ye*st+Mi]+lt[Ye*st+Mi])>=ze?(Oe=ze,ze=Le,Ze=Mi):Le>Oe&&(Oe=Le);for(var hi=0;hi<st;hi++)Ct[Ye*st+hi]=(1-O.damping)*(lt[Ye*st+hi]-ze)+O.damping*ue[hi];Ct[Ye*st+Ze]=(1-O.damping)*(lt[Ye*st+Ze]-Oe)+O.damping*ue[Ze]}for(var Ci=0;Ci<st;Ci++){for(var fi=0,xi=0;xi<st;xi++)ue[xi]=Lt[xi*st+Ci],xe[xi]=Math.max(0,Ct[xi*st+Ci]),fi+=xe[xi];fi-=xe[Ci],xe[Ci]=Ct[Ci*st+Ci],fi+=xe[Ci];for(var Li=0;Li<st;Li++)Lt[Li*st+Ci]=(1-O.damping)*Math.min(0,fi-xe[Li])+O.damping*ue[Li];Lt[Ci*st+Ci]=(1-O.damping)*(fi-xe[Ci])+O.damping*ue[Ci]}for(var Ei=0,si=0;si<st;si++){var Hi=Lt[si*st+si]+Ct[si*st+si]>0?1:0;ye[De%O.minIterations*st+si]=Hi,Ei+=Hi}if(Ei>0&&(De>=O.minIterations-1||De==O.maxIterations-1)){for(var Ne=0,zi=0;zi<st;zi++){Be[zi]=0;for(var ji=0;ji<O.minIterations;ji++)Be[zi]+=ye[ji*st+zi];(0===Be[zi]||Be[zi]===O.minIterations)&&Ne++}if(Ne===st)break}}for(var wi=function(f,w,E){for(var O=[],L=0;L<f;L++)w[L*f+L]+E[L*f+L]>0&&O.push(L);return O}(st,Ct,Lt),Oi=function(f,w,E){for(var O=Jl(f,w,E),L=0;L<E.length;L++){for(var F=[],st=0;st<O.length;st++)O[st]===E[L]&&F.push(st);for(var ft=-1,lt=-1/0,yt=0;yt<F.length;yt++){for(var Ct=0,Lt=0;Lt<F.length;Lt++)Ct+=w[F[Lt]*f+F[yt]];Ct>lt&&(ft=yt,lt=Ct)}E[L]=F[ft]}return Jl(f,w,E)}(st,lt,wi),Gi={},qi=0;qi<wi.length;qi++)Gi[wi[qi]]=[];for(var gn=0;gn<E.length;gn++){var wr=Oi[L[E[gn].id()]];null!=wr&&Gi[wr].push(E[gn])}for(var Sn=new Array(wi.length),dn=0;dn<wi.length;dn++)Sn[dn]=w.collection(Gi[wi[dn]]);return Sn},dx={affinityPropagation:lb,ap:lb},ub=en({root:void 0,directed:!1}),hb={hierholzer:function(f){if(!Et(f)){var w=arguments;f={root:w[0],directed:w[1]}}var ft,lt,yt,E=ub(f),O=E.root,L=E.directed,F=this,st=!1;O&&(yt=rt(O)?this.filter(O)[0].id():O[0].id());var Ct={},Lt={};F.forEach(L?function(le){var ue=le.id();if(le.isNode()){var xe=le.indegree(!0),Be=le.outdegree(!0),je=xe-Be,ye=Be-xe;1==je?ft?st=!0:ft=ue:1==ye?lt?st=!0:lt=ue:(ye>1||je>1)&&(st=!0),Ct[ue]=[],le.outgoers().forEach(function(Ve){Ve.isEdge()&&Ct[ue].push(Ve.id())})}else Lt[ue]=[void 0,le.target().id()]}:function(le){var ue=le.id();le.isNode()?(le.degree(!0)%2&&(ft?lt?st=!0:lt=ue:ft=ue),Ct[ue]=[],le.connectedEdges().forEach(function(Be){return Ct[ue].push(Be.id())})):Lt[ue]=[le.source().id(),le.target().id()]});var zt={found:!1,trail:void 0};if(st)return zt;if(lt&&ft)if(L){if(yt&&lt!=yt)return zt;yt=lt}else{if(yt&&lt!=yt&&ft!=yt)return zt;yt||(yt=lt)}else yt||(yt=F[0].id());var Wt=function(ue){for(var je,ye,Ve,xe=ue,Be=[ue];Ct[xe].length;)je=Ct[xe].shift(),ye=Lt[je][0],xe!=(Ve=Lt[je][1])?(Ct[Ve]=Ct[Ve].filter(function(De){return De!=je}),xe=Ve):!L&&xe!=ye&&(Ct[ye]=Ct[ye].filter(function(De){return De!=je}),xe=ye),Be.unshift(je),Be.unshift(xe);return Be},Bt=[],Qt=[];for(Qt=Wt(yt);1!=Qt.length;)0==Ct[Qt[0]].length?(Bt.unshift(F.getElementById(Qt.shift())),Bt.unshift(F.getElementById(Qt.shift()))):Qt=Wt(Qt.shift()).concat(Qt);for(var re in Bt.unshift(F.getElementById(Qt.shift())),Ct)if(Ct[re].length)return zt;return zt.found=!0,zt.trail=this.spawn(Bt,!0),zt}},by=function(){var f=this,w={},E=0,O=0,L=[],F=[],st={},lt=function Ct(Lt,zt,Wt){Lt===Wt&&(O+=1),w[zt]={id:E,low:E++,cutVertex:!1};var Qt,re,le,ue,Bt=f.getElementById(zt).connectedEdges().intersection(f);0===Bt.size()?L.push(f.spawn(f.getElementById(zt))):Bt.forEach(function(xe){Qt=xe.source().id(),re=xe.target().id(),(le=Qt===zt?re:Qt)!==Wt&&(ue=xe.id(),st[ue]||(st[ue]=!0,F.push({x:zt,y:le,edge:xe})),le in w?w[zt].low=Math.min(w[zt].low,w[le].id):(Ct(Lt,le,zt),w[zt].low=Math.min(w[zt].low,w[le].low),w[zt].id<=w[le].low&&(w[zt].cutVertex=!0,function(Lt,zt){for(var Wt=F.length-1,Bt=[],Qt=f.spawn();F[Wt].x!=Lt||F[Wt].y!=zt;)Bt.push(F.pop().edge),Wt--;Bt.push(F.pop().edge),Bt.forEach(function(re){var le=re.connectedNodes().intersection(f);Qt.merge(re),le.forEach(function(ue){var xe=ue.id(),Be=ue.connectedEdges().intersection(f);Qt.merge(ue),Qt.merge(w[xe].cutVertex?Be.filter(function(je){return je.isLoop()}):Be)})}),L.push(Qt)}(zt,le))))})};f.forEach(function(Ct){if(Ct.isNode()){var Lt=Ct.id();Lt in w||(O=0,lt(Lt,Lt),w[Lt].cutVertex=O>1)}});var yt=Object.keys(w).filter(function(Ct){return w[Ct].cutVertex}).map(function(Ct){return f.getElementById(Ct)});return{cut:f.spawn(yt),components:L}},Hf=function(){var f=this,w={},E=0,O=[],L=[],F=f.spawn(f),st=function ft(lt){if(L.push(lt),w[lt]={index:E,low:E++,explored:!1},f.getElementById(lt).connectedEdges().intersection(f).forEach(function(Bt){var Qt=Bt.target().id();Qt!==lt&&(Qt in w||ft(Qt),w[Qt].explored||(w[lt].low=Math.min(w[lt].low,w[Qt].low)))}),w[lt].index===w[lt].low){for(var Ct=f.spawn();;){var Lt=L.pop();if(Ct.merge(f.getElementById(Lt)),w[Lt].low=w[lt].index,w[Lt].explored=!0,Lt===lt)break}var zt=Ct.edgesWith(Ct),Wt=Ct.merge(zt);O.push(Wt),F=F.difference(Wt)}};return f.forEach(function(ft){if(ft.isNode()){var lt=ft.id();lt in w||st(lt)}}),{cut:F,components:O}},tm={};[hn,bn,vo,Vi,ph,Ha,sa,Io,Ro,Ff,sr,Vl,Og,J0,dx,hb,{hopcroftTarjanBiconnected:by,htbc:by,htb:by,hopcroftTarjanBiconnectedComponents:by},{tarjanStronglyConnected:Hf,tsc:Hf,tscc:Hf,tarjanStronglyConnectedComponents:Hf}].forEach(function(x){Ht(tm,x)});var Hr=function x(f){if(!(this instanceof x))return new x(f);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof f&&f.call(this,this.fulfill.bind(this),this.reject.bind(this))};Hr.prototype={fulfill:function(f){return Yp(this,1,"fulfillValue",f)},reject:function(f){return Yp(this,2,"rejectReason",f)},then:function(f,w){var E=this,O=new Hr;return E.onFulfilled.push(_y(f,O,"fulfill")),E.onRejected.push(_y(w,O,"reject")),Fg(E),O.proxy}};var Yp=function(f,w,E,O){return 0===f.state&&(f.state=w,f[E]=O,Fg(f)),f},Fg=function(f){1===f.state?em(f,"onFulfilled",f.fulfillValue):2===f.state&&em(f,"onRejected",f.rejectReason)},em=function(f,w,E){if(0!==f[w].length){var O=f[w];f[w]=[];var L=function(){for(var st=0;st<O.length;st++)O[st](E)};"function"==typeof setImmediate?setImmediate(L):setTimeout(L,0)}},_y=function(f,w,E){return function(O){if("function"!=typeof f)w[E].call(w,O);else{var L;try{L=f(O)}catch(F){return void w.reject(F)}Bg(w,L)}}},Bg=function x(f,w){if(f!==w&&f.proxy!==w){var E;if("object"===ct(w)&&null!==w||"function"==typeof w)try{E=w.then}catch(L){return void f.reject(L)}if("function"!=typeof E)f.fulfill(w);else{var O=!1;try{E.call(w,function(L){O||(O=!0,L===w?f.reject(new TypeError("circular thenable chain")):x(f,L))},function(L){O||(O=!0,f.reject(L))})}catch(L){O||f.reject(L)}}}else f.reject(new TypeError("cannot resolve promise with itself"))};Hr.all=function(x){return new Hr(function(f,w){for(var E=new Array(x.length),O=0,L=function(ft,lt){E[ft]=lt,++O===x.length&&f(E)},F=0;F<x.length;F++)!function(st){var ft=x[st];null!=ft&&null!=ft.then?ft.then(function(Ct){L(st,Ct)},function(Ct){w(Ct)}):L(st,ft)}(F)})},Hr.resolve=function(x){return new Hr(function(f,w){f(x)})},Hr.reject=function(x){return new Hr(function(f,w){w(x)})};var Hd="undefined"!=typeof Promise?Promise:Hr,qc=function(f,w,E){var O=M(f),L=!O,F=this._private=Ht({duration:1e3},w,E);if(F.target=f,F.style=F.style||F.css,F.started=!1,F.playing=!1,F.hooked=!1,F.applying=!1,F.progress=0,F.completes=[],F.frames=[],F.complete&&mt(F.complete)&&F.completes.push(F.complete),L){var st=f.position();F.startPosition=F.startPosition||{x:st.x,y:st.y},F.startStyle=F.startStyle||f.cy().style().getAnimationStartStyle(f,F.style)}if(O){var ft=f.pan();F.startPan={x:ft.x,y:ft.y},F.startZoom=f.zoom()}this.length=1,this[0]=this},bh=qc.prototype;Ht(bh,{instanceString:function(){return"animation"},hook:function(){var f=this._private;if(!f.hooked){var E=f.target._private.animation;(f.queue?E.queue:E.current).push(this),m(f.target)&&f.target.cy().addToAnimationPool(f.target),f.hooked=!0}return this},play:function(){var f=this._private;return 1===f.progress&&(f.progress=0),f.playing=!0,f.started=!1,f.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var f=this._private;return f.applying=!0,f.started=!1,f.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var f=this._private;return f.playing=!1,f.started=!1,this},stop:function(){var f=this._private;return f.playing=!1,f.started=!1,f.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(f){var w=this._private;return void 0===f?w.progress*w.duration:this.progress(f/w.duration)},progress:function(f){var w=this._private,E=w.playing;return void 0===f?w.progress:(E&&this.pause(),w.progress=f,w.started=!1,E&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var f=this._private,w=f.playing;w&&this.pause(),f.progress=1-f.progress,f.started=!1;var E=function(lt,yt){var Ct=f[lt];null!=Ct&&(f[lt]=f[yt],f[yt]=Ct)};if(E("zoom","startZoom"),E("pan","startPan"),E("position","startPosition"),f.style)for(var O=0;O<f.style.length;O++){var L=f.style[O],F=L.name,st=f.startStyle[F];f.startStyle[F]=L,f.style[O]=st}return w&&this.play(),this},promise:function(f){var E,w=this._private;return E="frame"===f?w.frames:w.completes,new Hd(function(O,L){E.push(function(){O()})})}}),bh.complete=bh.completed,bh.run=bh.play,bh.running=bh.playing;var Vg={data:function(f){return f=Ht({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(O){},beforeSet:function(O,L){},onSet:function(O){},canSet:function(O){return!0}},f),function(O,L){var F=f,st=this,ft=void 0!==st.length,lt=ft?st:[st],yt=ft?st[0]:st;if(rt(O)){var Ct;if(F.allowGetting&&void 0===L)return yt&&(F.beforeGet(yt),Ct=yt._private[F.field][O]),Ct;if(F.allowSetting&&void 0!==L&&!F.immutableKeys[O]){var zt=it({},O,L);F.beforeSet(st,zt);for(var Wt=0,Bt=lt.length;Wt<Bt;Wt++){var Qt=lt[Wt];F.canSet(Qt)&&(Qt._private[F.field][O]=L)}F.updateStyle&&st.updateStyle(),F.onSet(st),F.settingTriggersEvent&&st[F.triggerFnName](F.settingEvent)}}else if(F.allowSetting&&Et(O)){var le,ue,re=O,xe=Object.keys(re);F.beforeSet(st,re);for(var Be=0;Be<xe.length;Be++)if(ue=re[le=xe[Be]],!F.immutableKeys[le])for(var ye=0;ye<lt.length;ye++){var Ve=lt[ye];F.canSet(Ve)&&(Ve._private[F.field][le]=ue)}F.updateStyle&&st.updateStyle(),F.onSet(st),F.settingTriggersEvent&&st[F.triggerFnName](F.settingEvent)}else if(F.allowBinding&&mt(O))st.on(F.bindingEvent,O);else if(F.allowGetting&&void 0===O){var Ye;return yt&&(F.beforeGet(yt),Ye=yt._private[F.field]),Ye}return st}},removeData:function(f){return f=Ht({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},f),function(O){var L=f,F=this,ft=void 0!==F.length?F:[F];if(rt(O)){for(var lt=O.split(/\s+/),yt=lt.length,Ct=0;Ct<yt;Ct++){var Lt=lt[Ct];if(!C(Lt)&&!L.immutableKeys[Lt])for(var Wt=0,Bt=ft.length;Wt<Bt;Wt++)ft[Wt]._private[L.field][Lt]=void 0}L.triggerEvent&&F[L.triggerFnName](L.event)}else if(void 0===O){for(var Qt=0,re=ft.length;Qt<re;Qt++)for(var le=ft[Qt]._private[L.field],ue=Object.keys(le),xe=0;xe<ue.length;xe++){var Be=ue[xe];!L.immutableKeys[Be]&&(le[Be]=void 0)}L.triggerEvent&&F[L.triggerFnName](L.event)}return F}}},$p={eventAliasesOn:function(f){var w=f;w.addListener=w.listen=w.bind=w.on,w.unlisten=w.unbind=w.off=w.removeListener,w.trigger=w.emit,w.pon=w.promiseOn=function(E,O){var L=this,F=Array.prototype.slice.call(arguments,0);return new Hd(function(st,ft){var yt=F.concat([function(zt){L.off.apply(L,Ct),st(zt)}]),Ct=yt.concat([]);L.on.apply(L,yt)})}}},Mo={};[{animated:function(){return function(){var w=this,O=void 0!==w.length?w:[w];if(!(this._private.cy||this).styleEnabled())return!1;var F=O[0];return F?F._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var w=this,O=void 0!==w.length?w:[w];if(!(this._private.cy||this).styleEnabled())return this;for(var F=0;F<O.length;F++)O[F]._private.animation.queue=[];return this}},delay:function(){return function(w,E){return(this._private.cy||this).styleEnabled()?this.animate({delay:w,duration:w,complete:E}):this}},delayAnimation:function(){return function(w,E){return(this._private.cy||this).styleEnabled()?this.animation({delay:w,duration:w,complete:E}):this}},animation:function(){return function(w,E){var O=this,L=void 0!==O.length,F=L?O:[O],st=this._private.cy||this,ft=!L,lt=!ft;if(!st.styleEnabled())return this;var yt=st.style();if(w=Ht({},w,E),0===Object.keys(w).length)return new qc(F[0],w);switch(void 0===w.duration&&(w.duration=400),w.duration){case"slow":w.duration=600;break;case"fast":w.duration=200}if(lt&&(w.style=yt.getPropsList(w.style||w.css),w.css=void 0),lt&&null!=w.renderedPosition){var Lt=w.renderedPosition,zt=st.pan(),Wt=st.zoom();w.position=vy(Lt,Wt,zt)}if(ft&&null!=w.panBy){var Bt=w.panBy,Qt=st.pan();w.pan={x:Qt.x+Bt.x,y:Qt.y+Bt.y}}var re=w.center||w.centre;if(ft&&null!=re){var le=st.getCenterPan(re.eles,w.zoom);null!=le&&(w.pan=le)}if(ft&&null!=w.fit){var ue=w.fit,xe=st.getFitViewport(ue.eles||ue.boundingBox,ue.padding);null!=xe&&(w.pan=xe.pan,w.zoom=xe.zoom)}if(ft&&Et(w.zoom)){var Be=st.getZoomedViewport(w.zoom);null!=Be?(Be.zoomed&&(w.zoom=Be.zoom),Be.panned&&(w.pan=Be.pan)):w.zoom=null}return new qc(F[0],w)}},animate:function(){return function(w,E){var O=this,F=void 0!==O.length?O:[O];if(!(this._private.cy||this).styleEnabled())return this;E&&(w=Ht({},w,E));for(var ft=0;ft<F.length;ft++){var lt=F[ft],yt=lt.animated()&&(void 0===w.queue||w.queue);lt.animation(w,yt?{queue:!0}:void 0).play()}return this}},stop:function(){return function(w,E){var O=this,F=void 0!==O.length?O:[O],st=this._private.cy||this;if(!st.styleEnabled())return this;for(var ft=0;ft<F.length;ft++){for(var yt=F[ft]._private,Ct=yt.animation.current,Lt=0;Lt<Ct.length;Lt++)E&&(Ct[Lt]._private.duration=0);w&&(yt.animation.queue=[]),E||(yt.animation.current=[])}return st.notify("draw"),this}}},Vg,$p].forEach(function(x){Ht(Mo,x)});var Ud={animate:Mo.animate(),animation:Mo.animation(),animated:Mo.animated(),clearQueue:Mo.clearQueue(),delay:Mo.delay(),delayAnimation:Mo.delayAnimation(),stop:Mo.stop()},Ns={classes:function(f){var w=this;if(void 0===f){var E=[];return w[0]._private.classes.forEach(function(Wt){return E.push(Wt)}),E}gt(f)||(f=(f||"").match(/\S+/g)||[]);for(var O=[],L=new Un(f),F=0;F<w.length;F++){for(var st=w[F],ft=st._private,lt=ft.classes,yt=!1,Ct=0;Ct<f.length;Ct++)if(!lt.has(f[Ct])){yt=!0;break}yt||(yt=lt.size!==f.length),yt&&(ft.classes=L,O.push(st))}return O.length>0&&this.spawn(O).updateStyle().emit("class"),w},addClass:function(f){return this.toggleClass(f,!0)},hasClass:function(f){var w=this[0];return null!=w&&w._private.classes.has(f)},toggleClass:function(f,w){gt(f)||(f=f.match(/\S+/g)||[]);for(var E=this,O=void 0===w,L=[],F=0,st=E.length;F<st;F++)for(var ft=E[F],lt=ft._private.classes,yt=!1,Ct=0;Ct<f.length;Ct++){var Lt=f[Ct],zt=lt.has(Lt),Wt=!1;w||O&&!zt?(lt.add(Lt),Wt=!0):(!w||O&&zt)&&(lt.delete(Lt),Wt=!0),!yt&&Wt&&(L.push(ft),yt=!0)}return L.length>0&&this.spawn(L).updateStyle().emit("class"),E},removeClass:function(f){return this.toggleClass(f,!1)},flashClass:function(f,w){var E=this;if(null==w)w=250;else if(0===w)return E;return E.addClass(f),setTimeout(function(){E.removeClass(f)},w),E}};Ns.className=Ns.classNames=Ns.classes;var io={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:It,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};io.variable="(?:[\\w-]|(?:\\\\"+io.metaChar+"))+",io.value=io.string+"|"+io.number,io.className=io.variable,io.id=io.variable,function(){var x,f,w;for(x=io.comparatorOp.split("|"),w=0;w<x.length;w++)io.comparatorOp+="|@"+(f=x[w]);for(x=io.comparatorOp.split("|"),w=0;w<x.length;w++)!((f=x[w]).indexOf("!")>=0)&&"="!==f&&(io.comparatorOp+="|\\!"+f)}();var jg=[{selector:":selected",matches:function(f){return f.selected()}},{selector:":unselected",matches:function(f){return!f.selected()}},{selector:":selectable",matches:function(f){return f.selectable()}},{selector:":unselectable",matches:function(f){return!f.selectable()}},{selector:":locked",matches:function(f){return f.locked()}},{selector:":unlocked",matches:function(f){return!f.locked()}},{selector:":visible",matches:function(f){return f.visible()}},{selector:":hidden",matches:function(f){return!f.visible()}},{selector:":transparent",matches:function(f){return f.transparent()}},{selector:":grabbed",matches:function(f){return f.grabbed()}},{selector:":free",matches:function(f){return!f.grabbed()}},{selector:":removed",matches:function(f){return f.removed()}},{selector:":inside",matches:function(f){return!f.removed()}},{selector:":grabbable",matches:function(f){return f.grabbable()}},{selector:":ungrabbable",matches:function(f){return!f.grabbable()}},{selector:":animated",matches:function(f){return f.animated()}},{selector:":unanimated",matches:function(f){return!f.animated()}},{selector:":parent",matches:function(f){return f.isParent()}},{selector:":childless",matches:function(f){return f.isChildless()}},{selector:":child",matches:function(f){return f.isChild()}},{selector:":orphan",matches:function(f){return f.isOrphan()}},{selector:":nonorphan",matches:function(f){return f.isChild()}},{selector:":compound",matches:function(f){return f.isNode()?f.isParent():f.source().isParent()||f.target().isParent()}},{selector:":loop",matches:function(f){return f.isLoop()}},{selector:":simple",matches:function(f){return f.isSimple()}},{selector:":active",matches:function(f){return f.active()}},{selector:":inactive",matches:function(f){return!f.active()}},{selector:":backgrounding",matches:function(f){return f.backgrounding()}},{selector:":nonbackgrounding",matches:function(f){return!f.backgrounding()}}].sort(function(x,f){return function(f,w){return-1*Vt(f,w)}(x.selector,f.selector)}),ua=function(){for(var f,x={},w=0;w<jg.length;w++)x[(f=jg[w]).selector]=f.matches;return x}(),im="("+jg.map(function(x){return x.selector}).join("|")+")",tu=function(f){return f.replace(new RegExp("\\\\("+io.metaChar+")","g"),function(w,E){return E})},ha=function(f,w,E){f[f.length-1]=E},zg=[{name:"group",query:!0,regex:"("+io.group+")",populate:function(f,w,E){var L=K(E,1)[0];w.checks.push({type:0,value:"*"===L?L:L+"s"})}},{name:"state",query:!0,regex:im,populate:function(f,w,E){var O=K(E,1);w.checks.push({type:7,value:O[0]})}},{name:"id",query:!0,regex:"\\#("+io.id+")",populate:function(f,w,E){var O=K(E,1);w.checks.push({type:8,value:tu(O[0])})}},{name:"className",query:!0,regex:"\\.("+io.className+")",populate:function(f,w,E){var O=K(E,1);w.checks.push({type:9,value:tu(O[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+io.variable+")\\s*\\]",populate:function(f,w,E){var O=K(E,1);w.checks.push({type:4,field:tu(O[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+io.variable+")\\s*("+io.comparatorOp+")\\s*("+io.value+")\\s*\\]",populate:function(f,w,E){var O=K(E,3),L=O[0],F=O[1],st=O[2];st=null!=new RegExp("^"+io.string+"$").exec(st)?st.substring(1,st.length-1):parseFloat(st),w.checks.push({type:3,field:tu(L),operator:F,value:st})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+io.boolOp+")\\s*("+io.variable+")\\s*\\]",populate:function(f,w,E){var O=K(E,2),L=O[0];w.checks.push({type:5,field:tu(O[1]),operator:L})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+io.meta+")\\s*("+io.comparatorOp+")\\s*("+io.number+")\\s*\\]\\]",populate:function(f,w,E){var O=K(E,3),F=O[1],st=O[2];w.checks.push({type:6,field:tu(O[0]),operator:F,value:parseFloat(st)})}},{name:"nextQuery",separator:!0,regex:io.separator,populate:function(f,w){var E=f.currentSubject,O=f.edgeCount,L=f.compoundCount,F=f[f.length-1];return null!=E&&(F.subject=E,f.currentSubject=null),F.edgeCount=O,F.compoundCount=L,f.edgeCount=0,f.compoundCount=0,f[f.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:io.directedEdge,populate:function(f,w){if(null==f.currentSubject){var E={checks:[]},L={checks:[]};return E.checks.push({type:11,source:w,target:L}),ha(f,0,E),f.edgeCount++,L}var F={checks:[]},ft={checks:[]};return F.checks.push({type:12,source:w,target:ft}),ha(f,0,F),f.edgeCount++,ft}},{name:"undirectedEdge",separator:!0,regex:io.undirectedEdge,populate:function(f,w){if(null==f.currentSubject){var E={checks:[]},L={checks:[]};return E.checks.push({type:10,nodes:[w,L]}),ha(f,0,E),f.edgeCount++,L}var F={checks:[]},ft={checks:[]};return F.checks.push({type:14,node:w,neighbor:ft}),ha(f,0,F),ft}},{name:"child",separator:!0,regex:io.child,populate:function(f,w){if(null==f.currentSubject){var E={checks:[]},O={checks:[]};return E.checks.push({type:15,parent:f[f.length-1],child:O}),ha(f,0,E),f.compoundCount++,O}if(f.currentSubject===w){var F={checks:[]},ft={checks:[]},lt={checks:[]},yt={checks:[]},Ct={checks:[]};return F.checks.push({type:19,left:f[f.length-1],right:ft,subject:lt}),lt.checks=w.checks,w.checks=[{type:20}],Ct.checks.push({type:20}),ft.checks.push({type:17,parent:Ct,child:yt}),ha(f,0,F),f.currentSubject=lt,f.compoundCount++,yt}var Lt={checks:[]},zt={checks:[]},Wt=[{type:17,parent:Lt,child:zt}];return Lt.checks=w.checks,w.checks=Wt,f.compoundCount++,zt}},{name:"descendant",separator:!0,regex:io.descendant,populate:function(f,w){if(null==f.currentSubject){var E={checks:[]},O={checks:[]};return E.checks.push({type:16,ancestor:f[f.length-1],descendant:O}),ha(f,0,E),f.compoundCount++,O}if(f.currentSubject===w){var F={checks:[]},ft={checks:[]},lt={checks:[]},yt={checks:[]},Ct={checks:[]};return F.checks.push({type:19,left:f[f.length-1],right:ft,subject:lt}),lt.checks=w.checks,w.checks=[{type:20}],Ct.checks.push({type:20}),ft.checks.push({type:18,ancestor:Ct,descendant:yt}),ha(f,0,F),f.currentSubject=lt,f.compoundCount++,yt}var Lt={checks:[]},zt={checks:[]},Wt=[{type:18,ancestor:Lt,descendant:zt}];return Lt.checks=w.checks,w.checks=Wt,f.compoundCount++,zt}},{name:"subject",modifier:!0,regex:io.subject,populate:function(f,w){if(null!=f.currentSubject&&f.currentSubject!==w)return Ie("Redefinition of subject in selector `"+f.toString()+"`"),!1;f.currentSubject=w;var O=f[f.length-1].checks[0],L=null==O?null:O.type;11===L?O.type=13:10===L&&(O.type=14,O.node=O.nodes[1],O.neighbor=O.nodes[0],O.nodes=null)}}];zg.forEach(function(x){return x.regexObj=new RegExp("^"+x.regex)});var Xp=function(f){for(var w,E,O,L=0;L<zg.length;L++){var F=zg[L],st=F.name,ft=f.match(F.regexObj);if(null!=ft){E=ft,w=F,O=st,f=f.substring(ft[0].length);break}}return{expr:w,match:E,name:O,remaining:f}},Kp={parse:function(f){var w=this,E=w.inputText=f,O=w[0]={checks:[]};for(w.length=1,E=function(f){var w=f.match(/^\s+/);return w&&(f=f.substring(w[0].length)),f}(E);;){var L=Xp(E);if(null==L.expr)return Ie("The selector `"+f+"`is invalid"),!1;var F=L.match.slice(1),st=L.expr.populate(w,O,F);if(!1===st)return!1;if(null!=st&&(O=st),(E=L.remaining).match(/^\s*$/))break}var ft=w[w.length-1];null!=w.currentSubject&&(ft.subject=w.currentSubject),ft.edgeCount=w.edgeCount,ft.compoundCount=w.compoundCount;for(var lt=0;lt<w.length;lt++){var yt=w[lt];if(yt.compoundCount>0&&yt.edgeCount>0)return Ie("The selector `"+f+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(yt.edgeCount>1)return Ie("The selector `"+f+"` is invalid because it uses multiple edge selectors"),!1;1===yt.edgeCount&&Ie("The selector `"+f+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var f=function(yt){return null==yt?"":yt},w=function(yt){return rt(yt)?'"'+yt+'"':f(yt)},E=function(yt){return" "+yt+" "},L=function(yt,Ct){return yt.checks.reduce(function(Lt,zt,Wt){return Lt+(Ct===yt&&0===Wt?"$":"")+function(yt,Ct){var zt=yt.value;switch(yt.type){case 0:var Wt=f(zt);return Wt.substring(0,Wt.length-1);case 3:return"["+yt.field+E(f(yt.operator))+w(zt)+"]";case 5:var le=yt.field;return"["+f(yt.operator)+le+"]";case 4:return"["+yt.field+"]";case 6:return"[["+yt.field+E(f(yt.operator))+w(zt)+"]]";case 7:return zt;case 8:return"#"+zt;case 9:return"."+zt;case 17:case 15:return L(yt.parent,Ct)+E(">")+L(yt.child,Ct);case 18:case 16:return L(yt.ancestor,Ct)+" "+L(yt.descendant,Ct);case 19:var je=L(yt.left,Ct),ye=L(yt.subject,Ct),Ve=L(yt.right,Ct);return je+(je.length>0?" ":"")+ye+Ve;case 20:return""}}(zt,Ct)},"")},F="",st=0;st<this.length;st++){var ft=this[st];F+=L(ft,ft.subject),this.length>1&&st<this.length-1&&(F+=", ")}return this.toStringCache=F,F}},My=function(f,w,E){var O,ft,lt,L=rt(f),F=Mt(f),st=rt(E),yt=!1,Ct=!1,Lt=!1;switch(w.indexOf("!")>=0&&(w=w.replace("!",""),Ct=!0),w.indexOf("@")>=0&&(w=w.replace("@",""),yt=!0),(L||st||yt)&&(ft=L||F?""+f:"",lt=""+E),yt&&(f=ft=ft.toLowerCase(),E=lt=lt.toLowerCase()),w){case"*=":O=ft.indexOf(lt)>=0;break;case"$=":O=ft.indexOf(lt,ft.length-lt.length)>=0;break;case"^=":O=0===ft.indexOf(lt);break;case"=":O=f===E;break;case">":Lt=!0,O=f>E;break;case">=":Lt=!0,O=f>=E;break;case"<":Lt=!0,O=f<E;break;case"<=":Lt=!0,O=f<=E;break;default:O=!1}return Ct&&(null!=f||!Lt)&&(O=!O),O},Gf=function(f,w){return f.data(w)},hs=[],cs=function(f,w){return f.checks.every(function(E){return hs[E.type](E,w)})};hs[0]=function(x,f){var w=x.value;return"*"===w||w===f.group()},hs[7]=function(x,f){return function(f,w){return ua[f](w)}(x.value,f)},hs[8]=function(x,f){var w=x.value;return f.id()===w},hs[9]=function(x,f){return f.hasClass(x.value)},hs[6]=function(x,f){var E=x.operator,O=x.value;return My(function(f,w){return f[w]()}(f,x.field),E,O)},hs[3]=function(x,f){var E=x.operator,O=x.value;return My(Gf(f,x.field),E,O)},hs[5]=function(x,f){var E=x.operator;return function(f,w){switch(w){case"?":return!!f;case"!":return!f;case"^":return void 0===f}}(Gf(f,x.field),E)},hs[4]=function(x,f){return function(f){return void 0!==f}(Gf(f,x.field))},hs[10]=function(x,f){var w=x.nodes[0],E=x.nodes[1],O=f.source(),L=f.target();return cs(w,O)&&cs(E,L)||cs(E,O)&&cs(w,L)},hs[14]=function(x,f){return cs(x.node,f)&&f.neighborhood().some(function(w){return w.isNode()&&cs(x.neighbor,w)})},hs[11]=function(x,f){return cs(x.source,f.source())&&cs(x.target,f.target())},hs[12]=function(x,f){return cs(x.source,f)&&f.outgoers().some(function(w){return w.isNode()&&cs(x.target,w)})},hs[13]=function(x,f){return cs(x.target,f)&&f.incomers().some(function(w){return w.isNode()&&cs(x.source,w)})},hs[15]=function(x,f){return cs(x.child,f)&&cs(x.parent,f.parent())},hs[17]=function(x,f){return cs(x.parent,f)&&f.children().some(function(w){return cs(x.child,w)})},hs[16]=function(x,f){return cs(x.descendant,f)&&f.ancestors().some(function(w){return cs(x.ancestor,w)})},hs[18]=function(x,f){return cs(x.ancestor,f)&&f.descendants().some(function(w){return cs(x.descendant,w)})},hs[19]=function(x,f){return cs(x.subject,f)&&cs(x.left,f)&&cs(x.right,f)},hs[20]=function(){return!0},hs[1]=function(x,f){return x.value.has(f)},hs[2]=function(x,f){return(0,x.value)(f)};var Cy={matches:function(f){for(var E=0;E<this.length;E++)if(cs(this[E],f))return!0;return!1},filter:function(f){var w=this;if(1===w.length&&1===w[0].checks.length&&8===w[0].checks[0].type)return f.getElementById(w[0].checks[0].value).collection();var E=function(L){for(var F=0;F<w.length;F++)if(cs(w[F],L))return!0;return!1};return null==w.text()&&(E=function(){return!0}),f.filter(E)}},Jc=function(f){this.inputText=f,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==f||rt(f)&&f.match(/^\s*$/)||(m(f)?this.addQuery({checks:[{type:1,value:f.collection()}]}):mt(f)?this.addQuery({checks:[{type:2,value:f}]}):rt(f)?this.parse(f)||(this.invalid=!0):$e("A selector must be created from a string; found "))},ka=Jc.prototype;[Kp,Cy].forEach(function(x){return Ht(ka,x)}),ka.text=function(){return this.inputText},ka.size=function(){return this.length},ka.eq=function(x){return this[x]},ka.sameText=function(x){return!this.invalid&&!x.invalid&&this.text()===x.text()},ka.addQuery=function(x){this[this.length++]=x},ka.selector=ka.toString;var Wi={allAre:function(f){var w=new Jc(f);return this.every(function(E){return w.matches(E)})},is:function(f){var w=new Jc(f);return this.some(function(E){return w.matches(E)})},some:function(f,w){for(var E=0;E<this.length;E++)if(w?f.apply(w,[this[E],E,this]):f(this[E],E,this))return!0;return!1},every:function(f,w){for(var E=0;E<this.length;E++)if(!(w?f.apply(w,[this[E],E,this]):f(this[E],E,this)))return!1;return!0},same:function(f){if(this===f)return!0;f=this.cy().collection(f);var w=this.length;return w===f.length&&(1===w?this[0]===f[0]:this.every(function(O){return f.hasElementWithId(O.id())}))},anySame:function(f){return f=this.cy().collection(f),this.some(function(w){return f.hasElementWithId(w.id())})},allAreNeighbors:function(f){f=this.cy().collection(f);var w=this.neighborhood();return f.every(function(E){return w.hasElementWithId(E.id())})},contains:function(f){f=this.cy().collection(f);var w=this;return f.every(function(E){return w.hasElementWithId(E.id())})}};Wi.allAreNeighbours=Wi.allAreNeighbors,Wi.has=Wi.contains,Wi.equal=Wi.equals=Wi.same;var Wd,ke,Rr=function(f,w){return function(O,L,F,st){var yt,ft=O;if(null==ft?yt="":m(ft)&&1===ft.length&&(yt=ft.id()),1===this.length&&yt){var Ct=this[0]._private,Lt=Ct.traversalCache=Ct.traversalCache||{},zt=Lt[w]=Lt[w]||[],Wt=_i(yt);return zt[Wt]||(zt[Wt]=f.call(this,O,L,F,st))}return f.call(this,O,L,F,st)}},Qo={parent:function(f){var w=[];if(1===this.length){var E=this[0]._private.parent;if(E)return E}for(var O=0;O<this.length;O++){var F=this[O]._private.parent;F&&w.push(F)}return this.spawn(w,!0).filter(f)},parents:function(f){for(var w=[],E=this.parent();E.nonempty();){for(var O=0;O<E.length;O++)w.push(E[O]);E=E.parent()}return this.spawn(w,!0).filter(f)},commonAncestors:function(f){for(var w,E=0;E<this.length;E++){var L=this[E].parents();w=(w=w||L).intersect(L)}return w.filter(f)},orphans:function(f){return this.stdFilter(function(w){return w.isOrphan()}).filter(f)},nonorphans:function(f){return this.stdFilter(function(w){return w.isChild()}).filter(f)},children:Rr(function(x){for(var f=[],w=0;w<this.length;w++)for(var O=this[w]._private.children,L=0;L<O.length;L++)f.push(O[L]);return this.spawn(f,!0).filter(x)},"children"),siblings:function(f){return this.parent().children().not(this).filter(f)},isParent:function(){var f=this[0];if(f)return f.isNode()&&0!==f._private.children.length},isChildless:function(){var f=this[0];if(f)return f.isNode()&&0===f._private.children.length},isChild:function(){var f=this[0];if(f)return f.isNode()&&null!=f._private.parent},isOrphan:function(){var f=this[0];if(f)return f.isNode()&&null==f._private.parent},descendants:function(f){var w=[];return function E(O){for(var L=0;L<O.length;L++){var F=O[L];w.push(F),F.children().nonempty()&&E(F.children())}}(this.children()),this.spawn(w,!0).filter(f)}};function Us(x,f,w,E){for(var O=[],L=new Un,st=x.cy().hasCompoundNodes(),ft=0;ft<x.length;ft++){var lt=x[ft];w?O.push(lt):st&&E(O,L,lt)}for(;O.length>0;){var yt=O.shift();f(yt),L.add(yt.id()),st&&E(O,L,yt)}return x}function xs(x,f,w){if(w.isParent())for(var E=w._private.children,O=0;O<E.length;O++){var L=E[O];f.has(L.id())||x.push(L)}}function _h(x,f,w){if(w.isChild()){var E=w._private.parent;f.has(E.id())||x.push(E)}}function _u(x,f,w){_h(x,f,w),xs(x,f,w)}Qo.forEachDown=function(x){var f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Us(this,x,f,xs)},Qo.forEachUp=function(x){var f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Us(this,x,f,_h)},Qo.forEachUpAndDown=function(x){var f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Us(this,x,f,_u)},Qo.ancestors=Qo.parents,Wd=ke={data:Mo.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Mo.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Mo.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Mo.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Mo.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Mo.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var f=this[0];if(f)return f._private.data.id}},Wd.attr=Wd.data,Wd.removeAttr=Wd.removeData;var fb=ke,Zp={};function Yd(x){return function(f){var w=this;if(void 0===f&&(f=!0),0===w.length);else if(w.isNode()&&!w.removed()){for(var E=0,O=w[0],L=O._private.edges,F=0;F<L.length;F++){var st=L[F];!f&&st.isLoop()||(E+=x(O,st))}return E}}}function tf(x,f){return function(w){for(var E,O=this.nodes(),L=0;L<O.length;L++){var st=O[L][x](w);void 0!==st&&(void 0===E||f(st,E))&&(E=st)}return E}}Ht(Zp,{degree:Yd(function(x,f){return f.source().same(f.target())?2:1}),indegree:Yd(function(x,f){return f.target().same(x)?1:0}),outdegree:Yd(function(x,f){return f.source().same(x)?1:0})}),Ht(Zp,{minDegree:tf("degree",function(x,f){return x<f}),maxDegree:tf("degree",function(x,f){return x>f}),minIndegree:tf("indegree",function(x,f){return x<f}),maxIndegree:tf("indegree",function(x,f){return x>f}),minOutdegree:tf("outdegree",function(x,f){return x<f}),maxOutdegree:tf("outdegree",function(x,f){return x>f})}),Ht(Zp,{totalDegree:function(f){for(var w=0,E=this.nodes(),O=0;O<E.length;O++)w+=E[O].degree(f);return w}});var Ho,Mu,rm=function(f,w,E){for(var O=0;O<f.length;O++){var L=f[O];if(!L.locked()){var F=L._private.position,st={x:null!=w.x?w.x-F.x:0,y:null!=w.y?w.y-F.y:0};L.isParent()&&!(0===st.x&&0===st.y)&&L.children().shift(st,E),L.dirtyBoundingBoxCache()}}},Wf={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(f){f.updateCompoundBounds()},beforeSet:function(f,w){rm(f,w,!1)},onSet:function(f){f.dirtyCompoundBoundsCache()},canSet:function(f){return!f.locked()}};Ho=Mu={position:Mo.data(Wf),silentPosition:Mo.data(Ht({},Wf,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(f,w){rm(f,w,!0)},onSet:function(f){f.dirtyCompoundBoundsCache()}})),positions:function(f,w){if(Et(f))w?this.silentPosition(f):this.position(f);else if(mt(f)){var E=f,O=this.cy();O.startBatch();for(var L=0;L<this.length;L++){var st,F=this[L];(st=E(F,L))&&(w?F.silentPosition(st):F.position(st))}O.endBatch()}return this},silentPositions:function(f){return this.positions(f,!0)},shift:function(f,w,E){var O;if(Et(f)?(O={x:Mt(f.x)?f.x:0,y:Mt(f.y)?f.y:0},E=w):rt(f)&&Mt(w)&&((O={x:0,y:0})[f]=w),null!=O){var L=this.cy();L.startBatch();for(var F=0;F<this.length;F++){var st=this[F],ft=st.position(),lt={x:ft.x+O.x,y:ft.y+O.y};E?st.silentPosition(lt):st.position(lt)}L.endBatch()}return this},silentShift:function(f,w){return Et(f)?this.shift(f,!0):rt(f)&&Mt(w)&&this.shift(f,w,!0),this},renderedPosition:function(f,w){var E=this[0],O=this.cy(),L=O.zoom(),F=O.pan(),st=Et(f)?f:void 0,ft=void 0!==st||void 0!==w&&rt(f);if(E&&E.isNode()){if(!ft){var Ct=E.position();return st=X0(Ct,L,F),void 0===f?st:st[f]}for(var lt=0;lt<this.length;lt++){var yt=this[lt];void 0!==w?yt.position(f,(w-F[f])/L):void 0!==st&&yt.position(vy(st,L,F))}}else if(!ft)return;return this},relativePosition:function(f,w){var E=this[0],O=this.cy(),L=Et(f)?f:void 0,F=void 0!==L||void 0!==w&&rt(f),st=O.hasCompoundNodes();if(E&&E.isNode()){if(!F){var Wt=E.position(),Bt=st?E.parent():null,Qt=Bt&&Bt.length>0;Qt&&(Bt=Bt[0]);var le=Qt?Bt.position():{x:0,y:0};return L={x:Wt.x-le.x,y:Wt.y-le.y},void 0===f?L:L[f]}for(var ft=0;ft<this.length;ft++){var lt=this[ft],yt=st?lt.parent():null,Ct=yt&&yt.length>0;Ct&&(yt=yt[0]);var zt=Ct?yt.position():{x:0,y:0};void 0!==w?lt.position(f,w+zt[f]):void 0!==L&&lt.position({x:L.x+zt.x,y:L.y+zt.y})}}else if(!F)return;return this}},Ho.modelPosition=Ho.point=Ho.position,Ho.modelPositions=Ho.points=Ho.positions,Ho.renderedPoint=Ho.renderedPosition,Ho.relativePoint=Ho.relativePosition;var qp,ic,ec=Mu;qp=ic={},ic.renderedBoundingBox=function(x){var f=this.boundingBox(x),w=this.cy(),E=w.zoom(),O=w.pan(),L=f.x1*E+O.x,F=f.x2*E+O.x,st=f.y1*E+O.y,ft=f.y2*E+O.y;return{x1:L,x2:F,y1:st,y2:ft,w:F-L,h:ft-st}},ic.dirtyCompoundBoundsCache=function(){var x=arguments.length>0&&void 0!==arguments[0]&&arguments[0],f=this.cy();return f.styleEnabled()&&f.hasCompoundNodes()?(this.forEachUp(function(w){if(w.isParent()){var E=w._private;E.compoundBoundsClean=!1,E.bbCache=null,x||w.emitAndNotify("bounds")}}),this):this},ic.updateCompoundBounds=function(){var x=arguments.length>0&&void 0!==arguments[0]&&arguments[0],f=this.cy();if(!f.styleEnabled()||!f.hasCompoundNodes())return this;if(!x&&f.batching())return this;function w(F){if(F.isParent()){var st=F._private,ft=F.children(),lt="include"===F.pstyle("compound-sizing-wrt-labels").value,yt={width:{val:F.pstyle("min-width").pfValue,left:F.pstyle("min-width-bias-left"),right:F.pstyle("min-width-bias-right")},height:{val:F.pstyle("min-height").pfValue,top:F.pstyle("min-height-bias-top"),bottom:F.pstyle("min-height-bias-bottom")}},Ct=ft.boundingBox({includeLabels:lt,includeOverlays:!1,useCache:!1}),Lt=st.position;(0===Ct.w||0===Ct.h)&&((Ct={w:F.pstyle("width").pfValue,h:F.pstyle("height").pfValue}).x1=Lt.x-Ct.w/2,Ct.x2=Lt.x+Ct.w/2,Ct.y1=Lt.y-Ct.h/2,Ct.y2=Lt.y+Ct.h/2);var Bt=yt.width.left.value;"px"===yt.width.left.units&&yt.width.val>0&&(Bt=100*Bt/yt.width.val);var Qt=yt.width.right.value;"px"===yt.width.right.units&&yt.width.val>0&&(Qt=100*Qt/yt.width.val);var re=yt.height.top.value;"px"===yt.height.top.units&&yt.height.val>0&&(re=100*re/yt.height.val);var le=yt.height.bottom.value;"px"===yt.height.bottom.units&&yt.height.val>0&&(le=100*le/yt.height.val);var ue=zt(yt.width.val-Ct.w,Bt,Qt),xe=ue.biasDiff,Be=ue.biasComplementDiff,je=zt(yt.height.val-Ct.h,re,le),ye=je.biasDiff,Ve=je.biasComplementDiff;st.autoPadding=function(De,Ye,ze,Oe){if("%"!==ze.units)return"px"===ze.units?ze.pfValue:0;switch(Oe){case"width":return De>0?ze.pfValue*De:0;case"height":return Ye>0?ze.pfValue*Ye:0;case"average":return De>0&&Ye>0?ze.pfValue*(De+Ye)/2:0;case"min":return De>0&&Ye>0?De>Ye?ze.pfValue*Ye:ze.pfValue*De:0;case"max":return De>0&&Ye>0?De>Ye?ze.pfValue*De:ze.pfValue*Ye:0;default:return 0}}(Ct.w,Ct.h,F.pstyle("padding"),F.pstyle("padding-relative-to").value),st.autoWidth=Math.max(Ct.w,yt.width.val),Lt.x=(-xe+Ct.x1+Ct.x2+Be)/2,st.autoHeight=Math.max(Ct.h,yt.height.val),Lt.y=(-ye+Ct.y1+Ct.y2+Ve)/2}function zt(De,Ye,ze){var Oe=0,Ze=0,Le=Ye+ze;return De>0&&Le>0&&(Oe=Ye/Le*De,Ze=ze/Le*De),{biasDiff:Oe,biasComplementDiff:Ze}}}for(var E=0;E<this.length;E++){var O=this[E],L=O._private;(!L.compoundBoundsClean||x)&&(w(O),f.batching()||(L.compoundBoundsClean=!0))}return this};var Cu=function(f){return f===1/0||f===-1/0?0:f},As=function(f,w,E,O,L){O-w==0||L-E==0||null==w||null==E||null==O||null==L||(f.x1=w<f.x1?w:f.x1,f.x2=O>f.x2?O:f.x2,f.y1=E<f.y1?E:f.y1,f.y2=L>f.y2?L:f.y2,f.w=f.x2-f.x1,f.h=f.y2-f.y1)},eu=function(f,w){return null==w?f:As(f,w.x1,w.y1,w.x2,w.y2)},ef=function(f,w,E){return In(f,w,E)},$d=function(f,w,E){if(!w.cy().headless()){var ft,lt,O=w._private,L=O.rstyle,F=L.arrowWidth/2;if("none"!==w.pstyle(E+"-arrow-shape").value){"source"===E?(ft=L.srcX,lt=L.srcY):"target"===E?(ft=L.tgtX,lt=L.tgtY):(ft=L.midX,lt=L.midY);var yt=O.arrowBounds=O.arrowBounds||{},Ct=yt[E]=yt[E]||{};Ct.x1=ft-F,Ct.y1=lt-F,Ct.x2=ft+F,Ct.y2=lt+F,Ct.w=Ct.x2-Ct.x1,Ct.h=Ct.y2-Ct.y1,Zn(Ct,1),As(f,Ct.x1,Ct.y1,Ct.x2,Ct.y2)}}},om=function(f,w,E){if(!w.cy().headless()){var O,L=w._private,F=L.rstyle;if(w.pstyle((O=E?E+"-":"")+"label").strValue){var ze,Oe,Ze,Le,ft=w.pstyle("text-halign"),lt=w.pstyle("text-valign"),yt=ef(F,"labelWidth",E),Ct=ef(F,"labelHeight",E),Lt=ef(F,"labelX",E),zt=ef(F,"labelY",E),Wt=w.pstyle(O+"text-margin-x").pfValue,Bt=w.pstyle(O+"text-margin-y").pfValue,Qt=w.isEdge(),re=w.pstyle(O+"text-rotation"),le=w.pstyle("text-outline-width").pfValue,xe=w.pstyle("text-border-width").pfValue/2,Be=w.pstyle("text-background-padding").pfValue,ye=Ct,Ve=yt,De=Ve/2,Ye=ye/2;if(Qt)ze=Lt-De,Oe=Lt+De,Ze=zt-Ye,Le=zt+Ye;else{switch(ft.value){case"left":ze=Lt-Ve,Oe=Lt;break;case"center":ze=Lt-De,Oe=Lt+De;break;case"right":ze=Lt,Oe=Lt+Ve}switch(lt.value){case"top":Ze=zt-ye,Le=zt;break;case"center":Ze=zt-Ye,Le=zt+Ye;break;case"bottom":Ze=zt,Le=zt+ye}}ze+=Wt-Math.max(le,xe)-Be-2,Oe+=Wt+Math.max(le,xe)+Be+2,Ze+=Bt-Math.max(le,xe)-Be-2,Le+=Bt+Math.max(le,xe)+Be+2;var Mi=E||"main",hi=L.labelBounds,Ci=hi[Mi]=hi[Mi]||{};Ci.x1=ze,Ci.y1=Ze,Ci.x2=Oe,Ci.y2=Le,Ci.w=Oe-ze,Ci.h=Le-Ze;var fi=Qt&&"autorotate"===re.strValue;if(fi||null!=re.pfValue&&0!==re.pfValue){var Li=fi?ef(L.rstyle,"labelAngle",E):re.pfValue,Ei=Math.cos(Li),si=Math.sin(Li),Hi=(ze+Oe)/2,Ne=(Ze+Le)/2;if(!Qt){switch(ft.value){case"left":Hi=Oe;break;case"right":Hi=ze}switch(lt.value){case"top":Ne=Le;break;case"bottom":Ne=Ze}}var zi=function(wr,Sn){return{x:(wr-=Hi)*Ei-(Sn-=Ne)*si+Hi,y:wr*si+Sn*Ei+Ne}},ji=zi(ze,Ze),wi=zi(ze,Le),Oi=zi(Oe,Ze),Gi=zi(Oe,Le);ze=Math.min(ji.x,wi.x,Oi.x,Gi.x),Oe=Math.max(ji.x,wi.x,Oi.x,Gi.x),Ze=Math.min(ji.y,wi.y,Oi.y,Gi.y),Le=Math.max(ji.y,wi.y,Oi.y,Gi.y)}var qi=Mi+"Rot",gn=hi[qi]=hi[qi]||{};gn.x1=ze,gn.y1=Ze,gn.x2=Oe,gn.y2=Le,gn.w=Oe-ze,gn.h=Le-Ze,As(f,ze,Ze,Oe,Le),As(L.labelBounds.all,ze,Ze,Oe,Le)}return f}},Sy=function(f){var w=0,E=function(F){return(F?1:0)<<w++},O=0;return O+=E(f.incudeNodes),O+=E(f.includeEdges),O+=E(f.includeLabels),O+=E(f.includeMainLabels),O+=E(f.includeSourceLabels),(O+=E(f.includeTargetLabels))+E(f.includeOverlays)},iu=function(f){if(f.isEdge()){var w=f.source().position(),E=f.target().position(),O=function(F){return Math.round(F)};return function(f,w){var E={value:0,done:!1},O=0,L=f.length;return Qi({next:function(){return O<L?E.value=f[O++]:E.done=!0,E}},void 0)}([O(w.x),O(w.y),O(E.x),O(E.y)])}return 0},Yf=function(f,w){var O,E=f._private,L=f.isEdge(),st=(null==w?Hg:Sy(w))===Hg,ft=iu(f),lt=E.bbCachePosKey===ft,yt=w.useCache&&lt,Ct=function(Bt){return null==Bt._private.bbCache||Bt._private.styleDirty};if(!yt||Ct(f)||L&&Ct(f.source())||Ct(f.target())?(lt||f.recalculateRenderedStyle(yt),O=function(f,w){var yt,Ct,Lt,zt,Wt,Bt,E=f._private.cy,O=E.styleEnabled(),L=E.headless(),F=Zo(),st=f._private,ft=f.isNode(),lt=f.isEdge(),Qt=st.rstyle,re=ft&&O?f.pstyle("bounds-expansion").pfValue:[0],le=function(wr){return"none"!==wr.pstyle("display").value},ue=!O||le(f)&&(!lt||le(f.source())&&le(f.target()));if(ue){var Be=0;O&&w.includeOverlays&&0!==f.pstyle("overlay-opacity").value&&(Be=f.pstyle("overlay-padding").value);var ye=0;if(O&&(ye=f.pstyle("width").pfValue/2),ft&&w.includeNodes){var Ve=f.position();Wt=Ve.x,Bt=Ve.y;var Ye=f.outerWidth()/2,Oe=f.outerHeight()/2;As(F,yt=Wt-Ye,Lt=Bt-Oe,Ct=Wt+Ye,zt=Bt+Oe)}else if(lt&&w.includeEdges)if(O&&!L){var Ze=f.pstyle("curve-style").strValue;if(yt=Math.min(Qt.srcX,Qt.midX,Qt.tgtX),Ct=Math.max(Qt.srcX,Qt.midX,Qt.tgtX),Lt=Math.min(Qt.srcY,Qt.midY,Qt.tgtY),zt=Math.max(Qt.srcY,Qt.midY,Qt.tgtY),As(F,yt-=ye,Lt-=ye,Ct+=ye,zt+=ye),"haystack"===Ze){var Le=Qt.haystackPts;if(Le&&2===Le.length){if((yt=Le[0].x)>(Ct=Le[1].x)){var Mi=yt;yt=Ct,Ct=Mi}if((Lt=Le[0].y)>(zt=Le[1].y)){var hi=Lt;Lt=zt,zt=hi}As(F,yt-ye,Lt-ye,Ct+ye,zt+ye)}}else if("bezier"===Ze||"unbundled-bezier"===Ze||"segments"===Ze||"taxi"===Ze){var Ci;switch(Ze){case"bezier":case"unbundled-bezier":Ci=Qt.bezierPts;break;case"segments":case"taxi":Ci=Qt.linePts}if(null!=Ci)for(var fi=0;fi<Ci.length;fi++){var xi=Ci[fi];As(F,yt=xi.x-ye,Lt=xi.y-ye,Ct=xi.x+ye,zt=xi.y+ye)}}}else{var Ei=f.source().position(),Hi=f.target().position();if((yt=Ei.x)>(Ct=Hi.x)){var Ne=yt;yt=Ct,Ct=Ne}if((Lt=Ei.y)>(zt=Hi.y)){var zi=Lt;Lt=zt,zt=zi}As(F,yt-=ye,Lt-=ye,Ct+=ye,zt+=ye)}if(O&&w.includeEdges&&lt&&($d(F,f,"mid-source"),$d(F,f,"mid-target"),$d(F,f,"source"),$d(F,f,"target")),O&&"yes"===f.pstyle("ghost").value){var wi=f.pstyle("ghost-offset-x").pfValue,Oi=f.pstyle("ghost-offset-y").pfValue;As(F,F.x1+wi,F.y1+Oi,F.x2+wi,F.y2+Oi)}var Gi=st.bodyBounds=st.bodyBounds||{};cn(Gi,F),Uu(Gi,re),Zn(Gi,1),O&&As(F,(yt=F.x1)-Be,(Lt=F.y1)-Be,(Ct=F.x2)+Be,(zt=F.y2)+Be);var qi=st.overlayBounds=st.overlayBounds||{};cn(qi,F),Uu(qi,re),Zn(qi,1);var gn=st.labelBounds=st.labelBounds||{};null!=gn.all?function(f){f.x1=1/0,f.y1=1/0,f.x2=-1/0,f.y2=-1/0,f.w=0,f.h=0}(gn.all):gn.all=Zo(),O&&w.includeLabels&&(w.includeMainLabels&&om(F,f,null),lt&&(w.includeSourceLabels&&om(F,f,"source"),w.includeTargetLabels&&om(F,f,"target")))}return F.x1=Cu(F.x1),F.y1=Cu(F.y1),F.x2=Cu(F.x2),F.y2=Cu(F.y2),F.w=Cu(F.x2-F.x1),F.h=Cu(F.y2-F.y1),F.w>0&&F.h>0&&ue&&(Uu(F,re),Zn(F,1)),F}(f,Xd),E.bbCache=O,E.bbCachePosKey=ft):O=E.bbCache,!st){var zt=f.isNode();O=Zo(),(w.includeNodes&&zt||w.includeEdges&&!zt)&&eu(O,w.includeOverlays?E.overlayBounds:E.bodyBounds),w.includeLabels&&(w.includeMainLabels&&(!L||w.includeSourceLabels&&w.includeTargetLabels)?eu(O,E.labelBounds.all):(w.includeMainLabels&&eu(O,E.labelBounds.mainRot),w.includeSourceLabels&&eu(O,E.labelBounds.sourceRot),w.includeTargetLabels&&eu(O,E.labelBounds.targetRot))),O.w=O.x2-O.x1,O.h=O.y2-O.y1}return O},Xd={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,useCache:!0},Hg=Sy(Xd),Qp=en(Xd);ic.boundingBox=function(x){var f;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==x&&void 0!==x.useCache&&!0!==x.useCache){f=Zo();var w=Qp(x=x||Xd),E=this;if(E.cy().styleEnabled())for(var F=0;F<E.length;F++){var st=E[F],ft=st._private,lt=iu(st);st.recalculateRenderedStyle(w.useCache&&ft.bbCachePosKey===lt&&!ft.styleDirty)}this.updateCompoundBounds(!x.useCache);for(var Lt=0;Lt<E.length;Lt++)eu(f,Yf(E[Lt],w))}else x=void 0===x?Xd:Qp(x),f=Yf(this[0],x);return f.x1=Cu(f.x1),f.y1=Cu(f.y1),f.x2=Cu(f.x2),f.y2=Cu(f.y2),f.w=Cu(f.x2-f.x1),f.h=Cu(f.y2-f.y1),f},ic.dirtyBoundingBoxCache=function(){for(var x=0;x<this.length;x++){var f=this[x]._private;f.bbCache=null,f.bbCachePosKey=null,f.bodyBounds=null,f.overlayBounds=null,f.labelBounds.all=null,f.labelBounds.source=null,f.labelBounds.target=null,f.labelBounds.main=null,f.labelBounds.sourceRot=null,f.labelBounds.targetRot=null,f.labelBounds.mainRot=null,f.arrowBounds.source=null,f.arrowBounds.target=null,f.arrowBounds["mid-source"]=null,f.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},ic.boundingBoxAt=function(x){var f=this.nodes(),w=this.cy(),E=w.hasCompoundNodes(),O=w.collection();if(E&&(O=f.filter(function(lt){return lt.isParent()}),f=f.not(O)),Et(x)){var L=x;x=function(){return L}}w.startBatch(),f.forEach(function(yt,Ct){return yt._private.bbAtOldPos=x(yt,Ct)}).silentPositions(x),E&&(O.dirtyCompoundBoundsCache(),O.dirtyBoundingBoxCache(),O.updateCompoundBounds(!0));var ft=function(f){return{x1:f.x1,x2:f.x2,w:f.w,y1:f.y1,y2:f.y2,h:f.h}}(this.boundingBox({useCache:!1}));return f.silentPositions(function(yt){return yt._private.bbAtOldPos}),E&&(O.dirtyCompoundBoundsCache(),O.dirtyBoundingBoxCache(),O.updateCompoundBounds(!0)),w.endBatch(),ft},qp.boundingbox=qp.bb=qp.boundingBox,qp.renderedBoundingbox=qp.renderedBoundingBox;var Mh,Jp,rl=ic;Mh=Jp={};var xl=function(f){f.uppercaseName=Gt(f.name),f.autoName="auto"+f.uppercaseName,f.labelName="label"+f.uppercaseName,f.outerName="outer"+f.uppercaseName,f.uppercaseOuterName=Gt(f.outerName),Mh[f.name]=function(){var E=this[0],O=E._private;if(E){if(O.cy._private.styleEnabled){if(E.isParent())return E.updateCompoundBounds(),O[f.autoName]||0;var st=E.pstyle(f.name);return"label"===st.strValue?(E.recalculateRenderedStyle(),O.rstyle[f.labelName]||0):st.pfValue}return 1}},Mh["outer"+f.uppercaseName]=function(){var E=this[0];if(E)return E._private.cy._private.styleEnabled?E[f.name]()+E.pstyle("border-width").pfValue+2*E.padding():1},Mh["rendered"+f.uppercaseName]=function(){var E=this[0];if(E)return E[f.name]()*this.cy().zoom()},Mh["rendered"+f.uppercaseOuterName]=function(){var E=this[0];if(E)return E[f.outerName]()*this.cy().zoom()}};xl({name:"width"}),xl({name:"height"}),Jp.padding=function(){var x=this[0],f=x._private;return x.isParent()?(x.updateCompoundBounds(),void 0!==f.autoPadding?f.autoPadding:x.pstyle("padding").pfValue):x.pstyle("padding").pfValue},Jp.paddedHeight=function(){var x=this[0];return x.height()+2*x.padding()},Jp.paddedWidth=function(){var x=this[0];return x.width()+2*x.padding()};var Su=Jp,Du={controlPoints:{get:function(f){return f.renderer().getControlPoints(f)},mult:!0},segmentPoints:{get:function(f){return f.renderer().getSegmentPoints(f)},mult:!0},sourceEndpoint:{get:function(f){return f.renderer().getSourceEndpoint(f)}},targetEndpoint:{get:function(f){return f.renderer().getTargetEndpoint(f)}},midpoint:{get:function(f){return f.renderer().getEdgeMidpoint(f)}}},Gg=Object.keys(Du).reduce(function(x,f){var w=Du[f],E=function(f){return"rendered"+f[0].toUpperCase()+f.substr(1)}(f);return x[f]=function(){return function(f,w){if(f.isEdge())return w(f)}(this,w.get)},x[E]=w.mult?function(){return function(f,w){if(f.isEdge()){var E=f.cy(),O=E.pan(),L=E.zoom();return w(f).map(function(F){return X0(F,L,O)})}}(this,w.get)}:function(){return function(f,w){if(f.isEdge()){var E=f.cy();return X0(w(f),E.zoom(),E.pan())}}(this,w.get)},x},{}),Wg=Ht({},ec,rl,Su,Gg),Yg=function(f,w){this.recycle(f,w)};function Js(){return!1}function nc(){return!0}Yg.prototype={instanceString:function(){return"event"},recycle:function(f,w){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Js,null!=f&&f.preventDefault?(this.type=f.type,this.isDefaultPrevented=f.defaultPrevented?nc:Js):null!=f&&f.type?w=f:this.type=f,null!=w&&(this.originalEvent=w.originalEvent,this.type=null!=w.type?w.type:this.type,this.cy=w.cy,this.target=w.target,this.position=w.position,this.renderedPosition=w.renderedPosition,this.namespace=w.namespace,this.layout=w.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var E=this.position,O=this.cy.zoom(),L=this.cy.pan();this.renderedPosition={x:E.x*O+L.x,y:E.y*O+L.y}}this.timeStamp=f&&f.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=nc;var f=this.originalEvent;!f||f.preventDefault&&f.preventDefault()},stopPropagation:function(){this.isPropagationStopped=nc;var f=this.originalEvent;!f||f.stopPropagation&&f.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=nc,this.stopPropagation()},isDefaultPrevented:Js,isPropagationStopped:Js,isImmediatePropagationStopped:Js};var $g=/^([^.]+)(\.(?:[^.]+))?$/,nf={qualifierCompare:function(f,w){return f===w},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(f){return f},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Xf=Object.keys(nf),gx={};function e0(){for(var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gx,f=arguments.length>1?arguments[1]:void 0,w=0;w<Xf.length;w++){var E=Xf[w];this[E]=x[E]||nf[E]}this.context=f||this.context,this.listeners=[],this.emitting=0}var Kf=e0.prototype,rc=function(f,w,E,O,L,F,st){mt(O)&&(L=O,O=null),st&&(F=null==F?st:Ht({},F,st));for(var ft=gt(E)?E:E.split(/\s+/),lt=0;lt<ft.length;lt++){var yt=ft[lt];if(!C(yt)){var Ct=yt.match($g);if(Ct&&!1===w(f,yt,Ct[1],Ct[2]?Ct[2]:null,O,L,F))break}}},n0=function(f,w){return f.addEventFields(f.context,w),new Yg(w.type,w)};Kf.on=Kf.addListener=function(x,f,w,E,O){return rc(this,function(L,F,st,ft,lt,yt,Ct){mt(yt)&&L.listeners.push({event:F,callback:yt,type:st,namespace:ft,qualifier:lt,conf:Ct})},x,f,w,E,O),this},Kf.one=function(x,f,w,E){return this.on(x,f,w,E,{one:!0})},Kf.removeListener=Kf.off=function(x,f,w,E){var O=this;0!==this.emitting&&(this.listeners=function(f){return f.slice()}(this.listeners));for(var L=this.listeners,F=function(lt){var yt=L[lt];rc(O,function(Ct,Lt,zt,Wt,Bt,Qt){if((yt.type===zt||"*"===x)&&(!Wt&&".*"!==yt.namespace||yt.namespace===Wt)&&(!Bt||Ct.qualifierCompare(yt.qualifier,Bt))&&(!Qt||yt.callback===Qt))return L.splice(lt,1),!1},x,f,w,E)},st=L.length-1;st>=0;st--)F(st);return this},Kf.removeAllListeners=function(){return this.removeListener("*")},Kf.emit=Kf.trigger=function(x,f,w){var E=this.listeners,O=E.length;return this.emitting++,gt(f)||(f=[f]),function(f,w,E){if(function(f){return"event"===et(f)}(E))w(f,E);else if(Et(E))w(f,n0(f,E));else for(var O=gt(E)?E:E.split(/\s+/),L=0;L<O.length;L++){var F=O[L];if(!C(F)){var st=F.match($g);st&&w(f,n0(f,{type:st[1],namespace:st[2]?st[2]:null,target:f.context}))}}}(this,function(L,F){null!=w&&(O=(E=[{event:F.event,type:F.type,namespace:F.namespace,callback:w}]).length);for(var st=function(yt){var Ct=E[yt];if(Ct.type===F.type&&(!Ct.namespace||Ct.namespace===F.namespace||".*"===Ct.namespace)&&L.eventMatches(L.context,Ct,F)){var Lt=[F];null!=f&&function(f,w){for(var E=0;E<w.length;E++)f.push(w[E])}(Lt,f),L.beforeEmit(L.context,Ct,F),Ct.conf&&Ct.conf.one&&(L.listeners=L.listeners.filter(function(Bt){return Bt!==Ct}));var zt=L.callbackContext(L.context,Ct,F),Wt=Ct.callback.apply(zt,Lt);L.afterEmit(L.context,Ct,F),!1===Wt&&(F.stopPropagation(),F.preventDefault())}},ft=0;ft<O;ft++)st(ft);L.bubble(L.context)&&!F.isPropagationStopped()&&L.parent(L.context).emit(F,f)},x),this.emitting--,this};var Xg={qualifierCompare:function(f,w){return null==f||null==w?null==f&&null==w:f.sameText(w)},eventMatches:function(f,w,E){var O=w.qualifier;return null==O||f!==E.target&&y(E.target)&&O.matches(E.target)},addEventFields:function(f,w){w.cy=f.cy(),w.target=f},callbackContext:function(f,w,E){return null!=w.qualifier?E.target:f},beforeEmit:function(f,w){w.conf&&w.conf.once&&w.conf.onceCollection.removeListener(w.event,w.qualifier,w.callback)},bubble:function(){return!0},parent:function(f){return f.isChild()?f.parent():f.cy()}},rf=function(f){return rt(f)?new Jc(f):f},lm={createEmitter:function(){for(var f=0;f<this.length;f++){var w=this[f],E=w._private;E.emitter||(E.emitter=new e0(Xg,w))}return this},emitter:function(){return this._private.emitter},on:function(f,w,E){for(var O=rf(w),L=0;L<this.length;L++)this[L].emitter().on(f,O,E);return this},removeListener:function(f,w,E){for(var O=rf(w),L=0;L<this.length;L++)this[L].emitter().removeListener(f,O,E);return this},removeAllListeners:function(){for(var f=0;f<this.length;f++)this[f].emitter().removeAllListeners();return this},one:function(f,w,E){for(var O=rf(w),L=0;L<this.length;L++)this[L].emitter().one(f,O,E);return this},once:function(f,w,E){for(var O=rf(w),L=0;L<this.length;L++)this[L].emitter().on(f,O,E,{once:!0,onceCollection:this})},emit:function(f,w){for(var E=0;E<this.length;E++)this[E].emitter().emit(f,w);return this},emitAndNotify:function(f,w){if(0!==this.length)return this.cy().notify(f,this),this.emit(f,w),this}};Mo.eventAliasesOn(lm);var um={nodes:function(f){return this.filter(function(w){return w.isNode()}).filter(f)},edges:function(f){return this.filter(function(w){return w.isEdge()}).filter(f)},byGroup:function(){for(var f=this.spawn(),w=this.spawn(),E=0;E<this.length;E++){var O=this[E];O.isNode()?f.push(O):w.push(O)}return{nodes:f,edges:w}},filter:function(f,w){if(void 0===f)return this;if(rt(f)||m(f))return new Jc(f).filter(this);if(mt(f)){for(var E=this.spawn(),O=this,L=0;L<O.length;L++){var F=O[L];(w?f.apply(w,[F,L,O]):f(F,L,O))&&E.push(F)}return E}return this.spawn()},not:function(f){if(f){rt(f)&&(f=this.filter(f));for(var w=this.spawn(),E=0;E<this.length;E++){var O=this[E];f.has(O)||w.push(O)}return w}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(f){if(rt(f))return this.filter(f);for(var E=this.spawn(),F=this.length<f.length,st=F?this:f,ft=F?f:this,lt=0;lt<st.length;lt++){var yt=st[lt];ft.has(yt)&&E.push(yt)}return E},xor:function(f){var w=this._private.cy;rt(f)&&(f=w.$(f));var E=this.spawn(),L=f,F=function(ft,lt){for(var yt=0;yt<ft.length;yt++){var Ct=ft[yt];lt.hasElementWithId(Ct._private.data.id)||E.push(Ct)}};return F(this,L),F(L,this),E},diff:function(f){var w=this._private.cy;rt(f)&&(f=w.$(f));var E=this.spawn(),O=this.spawn(),L=this.spawn(),st=f,ft=function(yt,Ct,Lt){for(var zt=0;zt<yt.length;zt++){var Wt=yt[zt];Ct.hasElementWithId(Wt._private.data.id)?L.merge(Wt):Lt.push(Wt)}};return ft(this,st,E),ft(st,this,O),{left:E,right:O,both:L}},add:function(f){var w=this._private.cy;if(!f)return this;if(rt(f)){var E=f;f=w.mutableElements().filter(E)}for(var O=this.spawnSelf(),L=0;L<f.length;L++){var F=f[L];!this.has(F)&&O.push(F)}return O},merge:function(f){var w=this._private,E=w.cy;if(!f)return this;if(f&&rt(f)){var O=f;f=E.mutableElements().filter(O)}for(var L=w.map,F=0;F<f.length;F++){var st=f[F],ft=st._private.data.id;if(!L.has(ft)){var yt=this.length++;this[yt]=st,L.set(ft,{ele:st,index:yt})}}return this},unmergeAt:function(f){var E=this[f].id(),L=this._private.map;if(this[f]=void 0,L.delete(E),this.length>1&&f!==this.length-1){var st=this.length-1,ft=this[st],lt=ft._private.data.id;this[st]=void 0,this[f]=ft,L.set(lt,{ele:ft,index:f})}return this.length--,this},unmergeOne:function(f){var L=this._private.map.get((f=f[0])._private.data.id);return L?(this.unmergeAt(L.index),this):this},unmerge:function(f){var w=this._private.cy;if(!f)return this;if(f&&rt(f)){var E=f;f=w.mutableElements().filter(E)}for(var O=0;O<f.length;O++)this.unmergeOne(f[O]);return this},unmergeBy:function(f){for(var w=this.length-1;w>=0;w--)f(this[w])&&this.unmergeAt(w);return this},map:function(f,w){for(var E=[],O=this,L=0;L<O.length;L++){var F=O[L],st=w?f.apply(w,[F,L,O]):f(F,L,O);E.push(st)}return E},reduce:function(f,w){for(var E=w,O=this,L=0;L<O.length;L++)E=f(E,O[L],L,O);return E},max:function(f,w){for(var O,E=-1/0,L=this,F=0;F<L.length;F++){var st=L[F],ft=w?f.apply(w,[st,F,L]):f(st,F,L);ft>E&&(E=ft,O=st)}return{value:E,ele:O}},min:function(f,w){for(var O,E=1/0,L=this,F=0;F<L.length;F++){var st=L[F],ft=w?f.apply(w,[st,F,L]):f(st,F,L);ft<E&&(E=ft,O=st)}return{value:E,ele:O}}},no=um;no.u=no["|"]=no["+"]=no.union=no.or=no.add,no["\\"]=no["!"]=no["-"]=no.difference=no.relativeComplement=no.subtract=no.not,no.n=no["&"]=no["."]=no.and=no.intersection=no.intersect,no["^"]=no["(+)"]=no["(-)"]=no.symmetricDifference=no.symdiff=no.xor,no.fnFilter=no.filterFn=no.stdFilter=no.filter,no.complement=no.abscomp=no.absoluteComplement;var f,sf=function(f,w){var O=f.cy().hasCompoundNodes();function L(yt){var Ct=yt.pstyle("z-compound-depth");return"auto"===Ct.value?O?yt.zDepth():0:"bottom"===Ct.value?-1:"top"===Ct.value?Ee:0}var F=L(f)-L(w);if(0!==F)return F;function st(yt){return"auto"===yt.pstyle("z-index-compare").value&&yt.isNode()?1:0}var ft=st(f)-st(w);if(0!==ft)return ft;var lt=f.pstyle("z-index").value-w.pstyle("z-index").value;return 0!==lt?lt:f.poolIndex()-w.poolIndex()},Kd={forEach:function(f,w){if(mt(f))for(var E=this.length,O=0;O<E;O++){var L=this[O];if(!1===(w?f.apply(w,[L,O,this]):f(L,O,this)))break}return this},toArray:function(){for(var f=[],w=0;w<this.length;w++)f.push(this[w]);return f},slice:function(f,w){var E=[],O=this.length;null==w&&(w=O),null==f&&(f=0),f<0&&(f=O+f),w<0&&(w=O+w);for(var L=f;L>=0&&L<w&&L<O;L++)E.push(this[L]);return this.spawn(E)},size:function(){return this.length},eq:function(f){return this[f]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(f){if(!mt(f))return this;var w=this.toArray().sort(f);return this.spawn(w)},sortByZIndex:function(){return this.sort(sf)},zDepth:function(){var f=this[0];if(f){var w=f._private;if("nodes"===w.group){var O=w.data.parent?f.parents().size():0;return f.isParent()?O:Ee-1}var F=w.target,st=w.source.zDepth(),ft=F.zDepth();return Math.max(st,ft,0)}}};Kd.each=Kd.forEach,f="undefined",("undefined"==typeof Symbol?"undefined":ct(Symbol))!=f&&ct(Symbol.iterator)!=f&&(Kd[Symbol.iterator]=function(){var E=this,O={value:void 0,done:!1},L=0,F=this.length;return it({next:function(){return L<F?O.value=E[L++]:(O.value=void 0,O.done=!0),O}},Symbol.iterator,function(){return this})});var pb=en({nodeDimensionsIncludeLabels:!1}),Zd={layoutDimensions:function(f){var w;if(f=pb(f),this.takesUpSpace())if(f.nodeDimensionsIncludeLabels){var E=this.boundingBox();w={w:E.w,h:E.h}}else w={w:this.outerWidth(),h:this.outerHeight()};else w={w:0,h:0};return(0===w.w||0===w.h)&&(w.w=w.h=1),w},layoutPositions:function(f,w,E){var O=this.nodes().filter(function(Be){return!Be.isParent()}),L=this.cy(),F=w.eles,st=function(je){return je.id()},ft=J(E,st);f.emit({type:"layoutstart",layout:f}),f.animations=[];var yt=w.spacingFactor&&1!==w.spacingFactor,Lt=function(){if(!yt)return null;for(var je=Zo(),ye=0;ye<O.length;ye++){var De=ft(O[ye],ye);hx(je,De.x,De.y)}return je}(),zt=J(function(Be,je){var ye=ft(Be,je);return yt&&(ye=function(je,ye,Ve){var De_x=ye.x1+ye.w/2,De_y=ye.y1+ye.h/2;return{x:De_x+(Ve.x-De_x)*je,y:De_y+(Ve.y-De_y)*je}}(Math.abs(w.spacingFactor),Lt,ye)),null!=w.transform&&(ye=w.transform(Be,ye)),ye},st);if(w.animate){for(var Wt=0;Wt<O.length;Wt++){var Bt=O[Wt],Qt=zt(Bt,Wt);if(null==w.animateFilter||w.animateFilter(Bt,Wt)){var le=Bt.animation({position:Qt,duration:w.animationDuration,easing:w.animationEasing});f.animations.push(le)}else Bt.position(Qt)}if(w.fit){var ue=L.animation({fit:{boundingBox:F.boundingBoxAt(zt),padding:w.padding},duration:w.animationDuration,easing:w.animationEasing});f.animations.push(ue)}else if(void 0!==w.zoom&&void 0!==w.pan){var xe=L.animation({zoom:w.zoom,pan:w.pan,duration:w.animationDuration,easing:w.animationEasing});f.animations.push(xe)}f.animations.forEach(function(Be){return Be.play()}),f.one("layoutready",w.ready),f.emit({type:"layoutready",layout:f}),Hd.all(f.animations.map(function(Be){return Be.promise()})).then(function(){f.one("layoutstop",w.stop),f.emit({type:"layoutstop",layout:f})})}else O.positions(zt),w.fit&&L.fit(w.eles,w.padding),null!=w.zoom&&L.zoom(w.zoom),w.pan&&L.pan(w.pan),f.one("layoutready",w.ready),f.emit({type:"layoutready",layout:f}),f.one("layoutstop",w.stop),f.emit({type:"layoutstop",layout:f});return this},layout:function(f){return this.cy().makeLayout(Ht({},f,{eles:this}))}};function Kg(x,f,w){var L,E=w._private,O=E.styleCache=E.styleCache||[];return null!=(L=O[x])||(L=O[x]=f(w)),L}function r0(x,f){return x=_i(x),function(E){return Kg(x,f,E)}}function cm(x,f){x=_i(x);var w=function(O){return f.call(O)};return function(){var O=this[0];if(O)return Kg(x,w,O)}}Zd.createLayout=Zd.makeLayout=Zd.layout;var Ls={recalculateRenderedStyle:function(f){var w=this.cy(),E=w.renderer(),O=w.styleEnabled();return E&&O&&E.recalculateRenderedStyle(this,f),this},dirtyStyleCache:function(){var E,f=this.cy(),w=function(L){return L._private.styleCache=null};return f.hasCompoundNodes()?((E=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(E.connectedEdges()),E.forEach(w)):this.forEach(function(O){w(O),O.connectedEdges().forEach(w)}),this},updateStyle:function(f){var w=this._private.cy;if(!w.styleEnabled())return this;if(w.batching())return w._private.batchStyleEles.merge(this),this;var L=this;f=!(!f&&void 0!==f),w.hasCompoundNodes()&&(L=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var F=L;return f?F.emitAndNotify("style"):F.emit("style"),L.forEach(function(st){return st._private.styleDirty=!0}),this},cleanStyle:function(){var f=this.cy();if(f.styleEnabled())for(var w=0;w<this.length;w++){var E=this[w];E._private.styleDirty&&(E._private.styleDirty=!1,f.style().apply(E))}},parsedStyle:function(f){var w=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],E=this[0],O=E.cy();if(O.styleEnabled()&&E){this.cleanStyle();var L=E._private.style[f];return null!=L?L:w?O.style().getDefaultProperty(f):null}},numericStyle:function(f){var w=this[0];if(w.cy().styleEnabled()&&w){var E=w.pstyle(f);return void 0!==E.pfValue?E.pfValue:E.value}},numericStyleUnits:function(f){var w=this[0];if(w.cy().styleEnabled()&&w)return w.pstyle(f).units},renderedStyle:function(f){var w=this.cy();if(!w.styleEnabled())return this;var E=this[0];return E?w.style().getRenderedStyle(E,f):void 0},style:function(f,w){var E=this.cy();if(!E.styleEnabled())return this;var L=E.style();if(Et(f))L.applyBypass(this,f,!1),this.emitAndNotify("style");else if(rt(f)){if(void 0===w){var st=this[0];return st?L.getStylePropertyValue(st,f):void 0}L.applyBypass(this,f,w,!1),this.emitAndNotify("style")}else if(void 0===f){var ft=this[0];return ft?L.getRawStyle(ft):void 0}return this},removeStyle:function(f){var w=this.cy();if(!w.styleEnabled())return this;var O=w.style(),L=this;if(void 0===f)for(var F=0;F<L.length;F++)O.removeAllBypasses(L[F],!1);else{f=f.split(/\s+/);for(var ft=0;ft<L.length;ft++)O.removeBypasses(L[ft],f,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var f=this.cy();if(!f.styleEnabled())return 1;var w=f.hasCompoundNodes(),E=this[0];if(E){var O=E._private,L=E.pstyle("opacity").value;if(!w)return L;var F=O.data.parent?E.parents():null;if(F)for(var st=0;st<F.length;st++)L*=F[st].pstyle("opacity").value;return L}},transparent:function(){if(!this.cy().styleEnabled())return!1;var w=this[0],E=w.cy().hasCompoundNodes();return w?E?0===w.effectiveOpacity():0===w.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function qd(x,f){var E=x._private.data.parent?x.parents():null;if(E)for(var O=0;O<E.length;O++)if(!f(E[O]))return!1;return!0}function o0(x){var f=x.ok,w=x.edgeOkViaNode||x.ok,E=x.parentOk||x.ok;return function(){var O=this.cy();if(!O.styleEnabled())return!0;var L=this[0],F=O.hasCompoundNodes();if(L){var st=L._private;if(!f(L))return!1;if(L.isNode())return!F||qd(L,E);var ft=st.source,lt=st.target;return w(ft)&&(!F||qd(ft,w))&&(ft===lt||w(lt)&&(!F||qd(lt,w)))}}}var oc=r0("eleTakesUpSpace",function(x){return"element"===x.pstyle("display").value&&0!==x.width()&&(!x.isNode()||0!==x.height())});Ls.takesUpSpace=cm("takesUpSpace",o0({ok:oc}));var fm=r0("eleInteractive",function(x){return"yes"===x.pstyle("events").value&&"visible"===x.pstyle("visibility").value&&oc(x)}),s0=r0("parentInteractive",function(x){return"visible"===x.pstyle("visibility").value&&oc(x)});Ls.interactive=cm("interactive",o0({ok:fm,parentOk:s0,edgeOkViaNode:oc})),Ls.noninteractive=function(){var x=this[0];if(x)return!x.interactive()};var dm=r0("eleVisible",function(x){return"visible"===x.pstyle("visibility").value&&0!==x.pstyle("opacity").pfValue&&oc(x)});Ls.visible=cm("visible",o0({ok:dm,edgeOkViaNode:oc})),Ls.hidden=function(){var x=this[0];if(x)return!x.visible()},Ls.isBundledBezier=cm("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),Ls.bypass=Ls.css=Ls.style,Ls.renderedCss=Ls.renderedStyle,Ls.removeBypass=Ls.removeCss=Ls.removeStyle,Ls.pstyle=Ls.parsedStyle;var sc={};function ol(x){return function(){var f=arguments,w=[];if(2===f.length){var E=f[0],O=f[1];this.on(x.event,E,O)}else if(1===f.length&&mt(f[0])){var L=f[0];this.on(x.event,L)}else if(0===f.length||1===f.length&&gt(f[0])){for(var F=1===f.length?f[0]:null,st=0;st<this.length;st++){var ft=this[st],lt=!x.ableField||ft._private[x.ableField],yt=ft._private[x.field]!=x.value;if(x.overrideAble){var Ct=x.overrideAble(ft);if(void 0!==Ct&&(lt=Ct,!Ct))return this}lt&&(ft._private[x.field]=x.value,yt&&w.push(ft))}var Lt=this.spawn(w);Lt.updateStyle(),Lt.emit(x.event),F&&Lt.emit(F)}return this}}function Ch(x){sc[x.field]=function(){var f=this[0];if(f){if(x.overrideField){var w=x.overrideField(f);if(void 0!==w)return w}return f._private[x.field]}},sc[x.on]=ol({event:x.on,field:x.field,ableField:x.ableField,overrideAble:x.overrideAble,value:!0}),sc[x.off]=ol({event:x.off,field:x.field,ableField:x.ableField,overrideAble:x.overrideAble,value:!1})}Ch({field:"locked",overrideField:function(f){return!!f.cy().autolock()||void 0},on:"lock",off:"unlock"}),Ch({field:"grabbable",overrideField:function(f){return!f.cy().autoungrabify()&&!f.pannable()&&void 0},on:"grabify",off:"ungrabify"}),Ch({field:"selected",ableField:"selectable",overrideAble:function(f){return!f.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),Ch({field:"selectable",overrideField:function(f){return!f.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),sc.deselect=sc.unselect,sc.grabbed=function(){var x=this[0];if(x)return x._private.grabbed},Ch({field:"active",on:"activate",off:"unactivate"}),Ch({field:"pannable",on:"panify",off:"unpanify"}),sc.inactive=function(){var x=this[0];if(x)return!x._private.active};var ca={},Fs=function(f){return function(E){for(var L=[],F=0;F<this.length;F++){var st=this[F];if(st.isNode()){for(var ft=!1,lt=st.connectedEdges(),yt=0;yt<lt.length;yt++){var Ct=lt[yt],Lt=Ct.source(),zt=Ct.target();if(f.noIncomingEdges&&zt===st&&Lt!==st||f.noOutgoingEdges&&Lt===st&&zt!==st){ft=!0;break}}ft||L.push(st)}}return this.spawn(L,!0).filter(E)}},Sh=function(f){return function(w){for(var O=[],L=0;L<this.length;L++){var F=this[L];if(F.isNode())for(var st=F.connectedEdges(),ft=0;ft<st.length;ft++){var lt=st[ft],yt=lt.source(),Ct=lt.target();f.outgoing&&yt===F?(O.push(lt),O.push(Ct)):f.incoming&&Ct===F&&(O.push(lt),O.push(yt))}}return this.spawn(O,!0).filter(w)}},pm=function(f){return function(w){for(var E=this,O=[],L={};;){var F=f.outgoing?E.outgoers():E.incomers();if(0===F.length)break;for(var st=!1,ft=0;ft<F.length;ft++){var lt=F[ft],yt=lt.id();L[yt]||(L[yt]=!0,O.push(lt),st=!0)}if(!st)break;E=F}return this.spawn(O,!0).filter(w)}};function a0(x){return function(w){for(var E=[],O=0;O<this.length;O++){var F=this[O]._private[x.attr];F&&E.push(F)}return this.spawn(E,!0).filter(w)}}function Zg(x){return function(w){var E=[],O=this._private.cy,L=x||{};rt(w)&&(w=O.$(w));for(var F=0;F<w.length;F++)for(var st=w[F]._private.edges,ft=0;ft<st.length;ft++){var lt=st[ft],yt=lt._private.data,Ct=this.hasElementWithId(yt.source)&&w.hasElementWithId(yt.target),Lt=w.hasElementWithId(yt.source)&&this.hasElementWithId(yt.target);!Ct&&!Lt||(L.thisIsSrc||L.thisIsTgt)&&(L.thisIsSrc&&!Ct||L.thisIsTgt&&!Lt)||E.push(lt)}return this.spawn(E,!0)}}function Zf(x){return x=Ht({},{codirected:!1},x),function(E){for(var O=[],L=this.edges(),F=x,st=0;st<L.length;st++)for(var lt=L[st]._private,yt=lt.source,Ct=yt._private.data.id,Lt=lt.data.target,zt=yt._private.edges,Wt=0;Wt<zt.length;Wt++){var Bt=zt[Wt],Qt=Bt._private.data,re=Qt.target,le=Qt.source,ue=re===Lt&&le===Ct;(F.codirected&&ue||!F.codirected&&(ue||Ct===re&&Lt===le))&&O.push(Bt)}return this.spawn(O,!0).filter(E)}}ca.clearTraversalCache=function(){for(var x=0;x<this.length;x++)this[x]._private.traversalCache=null},Ht(ca,{roots:Fs({noIncomingEdges:!0}),leaves:Fs({noOutgoingEdges:!0}),outgoers:Rr(Sh({outgoing:!0}),"outgoers"),successors:pm({outgoing:!0}),incomers:Rr(Sh({incoming:!0}),"incomers"),predecessors:pm({incoming:!0})}),Ht(ca,{neighborhood:Rr(function(x){for(var f=[],w=this.nodes(),E=0;E<w.length;E++)for(var O=w[E],L=O.connectedEdges(),F=0;F<L.length;F++){var st=L[F],ft=st.source(),lt=st.target(),yt=O===ft?lt:ft;yt.length>0&&f.push(yt[0]),f.push(st[0])}return this.spawn(f,!0).filter(x)},"neighborhood"),closedNeighborhood:function(f){return this.neighborhood().add(this).filter(f)},openNeighborhood:function(f){return this.neighborhood(f)}}),ca.neighbourhood=ca.neighborhood,ca.closedNeighbourhood=ca.closedNeighborhood,ca.openNeighbourhood=ca.openNeighborhood,Ht(ca,{source:Rr(function(f){var E,w=this[0];return w&&(E=w._private.source||w.cy().collection()),E&&f?E.filter(f):E},"source"),target:Rr(function(f){var E,w=this[0];return w&&(E=w._private.target||w.cy().collection()),E&&f?E.filter(f):E},"target"),sources:a0({attr:"source"}),targets:a0({attr:"target"})}),Ht(ca,{edgesWith:Rr(Zg(),"edgesWith"),edgesTo:Rr(Zg({thisIsSrc:!0}),"edgesTo")}),Ht(ca,{connectedEdges:Rr(function(x){for(var f=[],E=0;E<this.length;E++){var O=this[E];if(O.isNode())for(var L=O._private.edges,F=0;F<L.length;F++)f.push(L[F])}return this.spawn(f,!0).filter(x)},"connectedEdges"),connectedNodes:Rr(function(x){for(var f=[],E=0;E<this.length;E++){var O=this[E];!O.isEdge()||(f.push(O.source()[0]),f.push(O.target()[0]))}return this.spawn(f,!0).filter(x)},"connectedNodes"),parallelEdges:Rr(Zf(),"parallelEdges"),codirectedEdges:Rr(Zf({codirected:!0}),"codirectedEdges")}),Ht(ca,{components:function(f){var w=this,E=w.cy(),O=E.collection(),L=null==f?w.nodes():f.nodes(),F=[];null!=f&&L.empty()&&(L=f.sources());var st=function(yt,Ct){O.merge(yt),L.unmerge(yt),Ct.merge(yt)};if(L.empty())return w.spawn();var ft=function(){var yt=E.collection();F.push(yt);var Ct=L[0];st(Ct,yt),w.bfs({directed:!1,roots:Ct,visit:function(zt){return st(zt,yt)}}),yt.forEach(function(Lt){Lt.connectedEdges().forEach(function(zt){w.has(zt)&&yt.has(zt.source())&&yt.has(zt.target())&&yt.merge(zt)})})};do{ft()}while(L.length>0);return F},component:function(){var f=this[0];return f.cy().mutableElements().components(f)[0]}}),ca.componentsOf=ca.components;var po=function(f,w){var E=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0!==f){var O=new Or,L=!1;if(w){if(w.length>0&&Et(w[0])&&!y(w[0])){L=!0;for(var F=[],st=new Un,ft=0,lt=w.length;ft<lt;ft++){var yt=w[ft];null==yt.data&&(yt.data={});var Ct=yt.data;if(null==Ct.id)Ct.id=Pn();else if(f.hasElementWithId(Ct.id)||st.has(Ct.id))continue;var Lt=new xo(f,yt,!1);F.push(Lt),st.add(Ct.id)}w=F}}else w=[];this.length=0;for(var zt=0,Wt=w.length;zt<Wt;zt++){var Bt=w[zt][0];if(null!=Bt){var Qt=Bt._private.data.id;(!E||!O.has(Qt))&&(E&&O.set(Qt,{index:this.length,ele:Bt}),this[this.length]=Bt,this.length++)}}this._private={eles:this,cy:f,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(re){this.lazyMap=re},rebuildMap:function(){for(var le=this.lazyMap=new Or,ue=this.eles,xe=0;xe<ue.length;xe++){var Be=ue[xe];le.set(Be.id(),{index:xe,ele:Be})}}},E&&(this._private.map=O),L&&this.restore()}else $e("A collection must have a reference to the core")},Uo=xo.prototype=po.prototype=Object.create(Array.prototype);Uo.instanceString=function(){return"collection"},Uo.spawn=function(x,f){return new po(this.cy(),x,f)},Uo.spawnSelf=function(){return this.spawn(this)},Uo.cy=function(){return this._private.cy},Uo.renderer=function(){return this._private.cy.renderer()},Uo.element=function(){return this[0]},Uo.collection=function(){return v(this)?this:new po(this._private.cy,[this])},Uo.unique=function(){return new po(this._private.cy,this,!0)},Uo.hasElementWithId=function(x){return this._private.map.has(x=""+x)},Uo.getElementById=function(x){var f=this._private.cy,w=this._private.map.get(x=""+x);return w?w.ele:new po(f)},Uo.$id=Uo.getElementById,Uo.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},Uo.indexOf=function(x){return this._private.map.get(x[0]._private.data.id).index},Uo.indexOfId=function(x){return this._private.map.get(x=""+x).index},Uo.json=function(x){var f=this.element(),w=this.cy();if(null==f&&x)return this;if(null!=f){var E=f._private;if(Et(x)){if(w.startBatch(),x.data){f.data(x.data);var O=E.data;if(f.isEdge()){var L=!1,F={},st=x.data.source,ft=x.data.target;null!=st&&st!=O.source&&(F.source=""+st,L=!0),null!=ft&&ft!=O.target&&(F.target=""+ft,L=!0),L&&(f=f.move(F))}else{var yt=x.data.parent;"parent"in x.data&&(null!=yt||null!=O.parent)&&yt!=O.parent&&(void 0===yt&&(yt=null),null!=yt&&(yt=""+yt),f=f.move({parent:yt}))}}x.position&&f.position(x.position);var Ct=function(Bt,Qt,re){var le=x[Bt];null!=le&&le!==E[Bt]&&(le?f[Qt]():f[re]())};return Ct("removed","remove","restore"),Ct("selected","select","unselect"),Ct("selectable","selectify","unselectify"),Ct("locked","lock","unlock"),Ct("grabbable","grabify","ungrabify"),Ct("pannable","panify","unpanify"),null!=x.classes&&f.classes(x.classes),w.endBatch(),this}if(void 0===x){var Lt={data:qe(E.data),position:qe(E.position),group:E.group,removed:E.removed,selected:E.selected,selectable:E.selectable,locked:E.locked,grabbable:E.grabbable,pannable:E.pannable,classes:""},zt=0;return E.classes.forEach(function(Wt){return Lt.classes+=0==zt++?Wt:" "+Wt}),Lt}}},Uo.jsons=function(){for(var x=[],f=0;f<this.length;f++){var E=this[f].json();x.push(E)}return x},Uo.clone=function(){for(var x=this.cy(),f=[],w=0;w<this.length;w++){var O=this[w].json(),L=new xo(x,O,!1);f.push(L)}return new po(x,f)},Uo.copy=Uo.clone,Uo.restore=function(){for(var st,x=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],w=this,E=w.cy(),O=E._private,L=[],F=[],ft=0,lt=w.length;ft<lt;ft++){var yt=w[ft];f&&!yt.removed()||(yt.isNode()?L.push(yt):F.push(yt))}st=L.concat(F);var Ct,Lt=function(){st.splice(Ct,1),Ct--};for(Ct=0;Ct<st.length;Ct++){var zt=st[Ct],Wt=zt._private,Bt=Wt.data;if(zt.clearTraversalCache(),f||Wt.removed)if(void 0===Bt.id)Bt.id=Pn();else if(Mt(Bt.id))Bt.id=""+Bt.id;else{if(C(Bt.id)||!rt(Bt.id)){$e("Can not create element with invalid string ID `"+Bt.id+"`"),Lt();continue}if(E.hasElementWithId(Bt.id)){$e("Can not create second element with ID `"+Bt.id+"`"),Lt();continue}}var Qt=Bt.id;if(zt.isNode()){var re=Wt.position;null==re.x&&(re.x=0),null==re.y&&(re.y=0)}if(zt.isEdge()){for(var le=zt,ue=["source","target"],xe=ue.length,Be=!1,je=0;je<xe;je++){var ye=ue[je],Ve=Bt[ye];Mt(Ve)&&(Ve=Bt[ye]=""+Bt[ye]),null==Ve||""===Ve?($e("Can not create edge `"+Qt+"` with unspecified "+ye),Be=!0):E.hasElementWithId(Ve)||($e("Can not create edge `"+Qt+"` with nonexistant "+ye+" `"+Ve+"`"),Be=!0)}if(Be){Lt();continue}var De=E.getElementById(Bt.source),Ye=E.getElementById(Bt.target);De.same(Ye)?De._private.edges.push(le):(De._private.edges.push(le),Ye._private.edges.push(le)),le._private.source=De,le._private.target=Ye}Wt.map=new Or,Wt.map.set(Qt,{ele:zt,index:0}),Wt.removed=!1,f&&E.addToPool(zt)}for(var ze=0;ze<L.length;ze++){var Oe=L[ze],Ze=Oe._private.data;Mt(Ze.parent)&&(Ze.parent=""+Ze.parent);var Le=Ze.parent,Mi=null!=Le;if(Mi){var hi=E.getElementById(Le);if(hi.empty())Ze.parent=void 0;else{for(var Ci=!1,fi=hi;!fi.empty();){if(Oe.same(fi)){Ci=!0,Ze.parent=void 0;break}fi=fi.parent()}Ci||(hi[0]._private.children.push(Oe),Oe._private.parent=hi[0],O.hasCompoundNodes=!0)}}}if(st.length>0){for(var xi=st.length===w.length?w:new po(E,st),Li=0;Li<xi.length;Li++){var Ei=xi[Li];Ei.isNode()||(Ei.parallelEdges().clearTraversalCache(),Ei.source().clearTraversalCache(),Ei.target().clearTraversalCache())}(O.hasCompoundNodes?E.collection().merge(xi).merge(xi.connectedNodes()).merge(xi.parent()):xi).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(x),x?xi.emitAndNotify("add"):f&&xi.emit("add")}return w},Uo.removed=function(){var x=this[0];return x&&x._private.removed},Uo.inside=function(){var x=this[0];return x&&!x._private.removed},Uo.remove=function(){var x=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],w=this,E=[],O={},L=w._private.cy;function F(Le){for(var Mi=Le._private.edges,hi=0;hi<Mi.length;hi++)ft(Mi[hi])}function st(Le){for(var Mi=Le._private.children,hi=0;hi<Mi.length;hi++)ft(Mi[hi])}function ft(Le){var Mi=O[Le.id()];f&&Le.removed()||Mi||(O[Le.id()]=!0,Le.isNode()?(E.push(Le),F(Le),st(Le)):E.unshift(Le))}for(var lt=0,yt=w.length;lt<yt;lt++){var Ct=w[lt];ft(Ct)}function Lt(Le,Mi){sn(Le._private.edges,Mi),Le.clearTraversalCache()}function zt(Le){Le.clearTraversalCache()}var Wt=[];function Bt(Le,Mi){Mi=Mi[0];var hi=(Le=Le[0])._private.children,Ci=Le.id();sn(hi,Mi),Mi._private.parent=null,Wt.ids[Ci]||(Wt.ids[Ci]=!0,Wt.push(Le))}Wt.ids={},w.dirtyCompoundBoundsCache(),f&&L.removeFromPool(E);for(var Qt=0;Qt<E.length;Qt++){var re=E[Qt];if(re.isEdge()){var le=re.source()[0],ue=re.target()[0];Lt(le,re),Lt(ue,re);for(var xe=re.parallelEdges(),Be=0;Be<xe.length;Be++){var je=xe[Be];zt(je),je.isBundledBezier()&&je.dirtyBoundingBoxCache()}}else{var ye=re.parent();0!==ye.length&&Bt(ye,re)}f&&(re._private.removed=!0)}var Ve=L._private.elements;L._private.hasCompoundNodes=!1;for(var De=0;De<Ve.length;De++){var Ye=Ve[De];if(Ye.isParent()){L._private.hasCompoundNodes=!0;break}}var ze=new po(this.cy(),E);ze.size()>0&&(x?ze.emitAndNotify("remove"):f&&ze.emit("remove"));for(var Oe=0;Oe<Wt.length;Oe++){var Ze=Wt[Oe];(!f||!Ze.removed())&&Ze.updateStyle()}return ze},Uo.move=function(x){var f=this._private.cy,w=this,E=!1,O=!1,L=function(Wt){return null==Wt?Wt:""+Wt};if(void 0!==x.source||void 0!==x.target){var F=L(x.source),st=L(x.target),ft=null!=F&&f.hasElementWithId(F),lt=null!=st&&f.hasElementWithId(st);(ft||lt)&&(f.batch(function(){w.remove(E,O),w.emitAndNotify("moveout");for(var zt=0;zt<w.length;zt++){var Wt=w[zt],Bt=Wt._private.data;Wt.isEdge()&&(ft&&(Bt.source=F),lt&&(Bt.target=st))}w.restore(E,O)}),w.emitAndNotify("move"))}else if(void 0!==x.parent){var yt=L(x.parent);if(null===yt||f.hasElementWithId(yt)){var Lt=null===yt?void 0:yt;f.batch(function(){var zt=w.remove(E,O);zt.emitAndNotify("moveout");for(var Wt=0;Wt<w.length;Wt++){var Bt=w[Wt],Qt=Bt._private.data;Bt.isNode()&&(Qt.parent=Lt)}zt.restore(E,O)}),w.emitAndNotify("move")}}return this},[tm,Ud,Ns,Wi,Qo,fb,Zp,Wg,lm,um,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var f=this[0];if(f)return f._private.group}},Kd,Zd,Ls,sc,ca].forEach(function(x){Ht(Uo,x)});var Eu={add:function(f){var w,E=this;if(m(f)){var O=f;if(O._private.cy===E)w=O.restore();else{for(var L=[],F=0;F<O.length;F++)L.push(O[F].json());w=new po(E,L)}}else if(gt(f))w=new po(E,f);else if(Et(f)&&(gt(f.nodes)||gt(f.edges))){for(var lt=f,yt=[],Ct=["nodes","edges"],Lt=0,zt=Ct.length;Lt<zt;Lt++){var Wt=Ct[Lt],Bt=lt[Wt];if(gt(Bt))for(var Qt=0,re=Bt.length;Qt<re;Qt++){var le=Ht({group:Wt},Bt[Qt]);yt.push(le)}}w=new po(E,yt)}else w=new xo(E,f).collection();return w},remove:function(f){return m(f)||rt(f)&&(f=this.$(f)),f.remove()}},qf=function(){function x(E){return-E.tension*E.x-E.friction*E.v}function f(E,O,L){var F={x:E.x+L.dx*O,v:E.v+L.dv*O,tension:E.tension,friction:E.friction};return{dx:F.v,dv:x(F)}}function w(E,O){var L={dx:E.v,dv:x(E)},F=f(E,.5*O,L),st=f(E,.5*O,F),ft=f(E,O,st),yt=1/6*(L.dv+2*(F.dv+st.dv)+ft.dv);return E.x=E.x+1/6*(L.dx+2*(F.dx+st.dx)+ft.dx)*O,E.v=E.v+yt*O,E}return function E(O,L,F){var Lt,zt,Wt,st={x:-1,v:0,tension:null,friction:null},ft=[0],lt=0;for(O=parseFloat(O)||500,L=parseFloat(L)||20,F=F||null,st.tension=O,st.friction=L,zt=(Lt=null!==F)?(lt=E(O,L))/F*.016:.016;Wt=w(Wt||st,zt),ft.push(1+Wt.x),lt+=16,Math.abs(Wt.x)>1e-4&&Math.abs(Wt.v)>1e-4;);return Lt?function(Bt){return ft[Bt*(ft.length-1)|0]}:lt}}(),uo=function(f,w,E,O){var L=function(x,f,w,E){var O=4,L=.001,F=1e-7,st=10,ft=11,lt=1/(ft-1),yt="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var Ct=0;Ct<4;++Ct)if("number"!=typeof arguments[Ct]||isNaN(arguments[Ct])||!isFinite(arguments[Ct]))return!1;x=Math.min(x,1),w=Math.min(w,1),x=Math.max(x,0),w=Math.max(w,0);var Lt=yt?new Float32Array(ft):new Array(ft);function zt(Ye,ze){return 1-3*ze+3*Ye}function Wt(Ye,ze){return 3*ze-6*Ye}function Bt(Ye){return 3*Ye}function Qt(Ye,ze,Oe){return((zt(ze,Oe)*Ye+Wt(ze,Oe))*Ye+Bt(ze))*Ye}function re(Ye,ze,Oe){return 3*zt(ze,Oe)*Ye*Ye+2*Wt(ze,Oe)*Ye+Bt(ze)}function le(Ye,ze){for(var Oe=0;Oe<O;++Oe){var Ze=re(ze,x,w);if(0===Ze)return ze;ze-=(Qt(ze,x,w)-Ye)/Ze}return ze}function ue(){for(var Ye=0;Ye<ft;++Ye)Lt[Ye]=Qt(Ye*lt,x,w)}function xe(Ye,ze,Oe){var Ze,Le,Mi=0;do{(Ze=Qt(Le=ze+(Oe-ze)/2,x,w)-Ye)>0?Oe=Le:ze=Le}while(Math.abs(Ze)>F&&++Mi<st);return Le}function Be(Ye){for(var ze=0,Oe=1,Ze=ft-1;Oe!==Ze&&Lt[Oe]<=Ye;++Oe)ze+=lt;--Oe;var Mi=ze+(Ye-Lt[Oe])/(Lt[Oe+1]-Lt[Oe])*lt,hi=re(Mi,x,w);return hi>=L?le(Ye,Mi):0===hi?Mi:xe(Ye,ze,ze+lt)}var je=!1;function ye(){je=!0,(x!==f||w!==E)&&ue()}var Ve=function(ze){return je||ye(),x===f&&w===E?ze:0===ze?0:1===ze?1:Qt(Be(ze),f,E)};Ve.getControlPoints=function(){return[{x,y:f},{x:w,y:E}]};var De="generateBezier("+[x,f,w,E]+")";return Ve.toString=function(){return De},Ve}(f,w,E,O);return function(F,st,ft){return F+(st-F)*L(ft)}},ac={linear:function(f,w,E){return f+(w-f)*E},ease:uo(.25,.1,.25,1),"ease-in":uo(.42,0,1,1),"ease-out":uo(0,0,.58,1),"ease-in-out":uo(.42,0,.58,1),"ease-in-sine":uo(.47,0,.745,.715),"ease-out-sine":uo(.39,.575,.565,1),"ease-in-out-sine":uo(.445,.05,.55,.95),"ease-in-quad":uo(.55,.085,.68,.53),"ease-out-quad":uo(.25,.46,.45,.94),"ease-in-out-quad":uo(.455,.03,.515,.955),"ease-in-cubic":uo(.55,.055,.675,.19),"ease-out-cubic":uo(.215,.61,.355,1),"ease-in-out-cubic":uo(.645,.045,.355,1),"ease-in-quart":uo(.895,.03,.685,.22),"ease-out-quart":uo(.165,.84,.44,1),"ease-in-out-quart":uo(.77,0,.175,1),"ease-in-quint":uo(.755,.05,.855,.06),"ease-out-quint":uo(.23,1,.32,1),"ease-in-out-quint":uo(.86,0,.07,1),"ease-in-expo":uo(.95,.05,.795,.035),"ease-out-expo":uo(.19,1,.22,1),"ease-in-out-expo":uo(1,0,0,1),"ease-in-circ":uo(.6,.04,.98,.335),"ease-out-circ":uo(.075,.82,.165,1),"ease-in-out-circ":uo(.785,.135,.15,.86),spring:function(f,w,E){if(0===E)return ac.linear;var O=qf(f,w,E);return function(L,F,st){return L+(F-L)*O(st)}},"cubic-bezier":uo};function l0(x,f,w,E,O){if(1===E||f===w)return w;var L=O(f,w,E);return null==x||((x.roundValue||x.color)&&(L=Math.round(L)),void 0!==x.min&&(L=Math.max(L,x.min)),void 0!==x.max&&(L=Math.min(L,x.max))),L}function lc(x,f){return null!=x.pfValue||null!=x.value?null==x.pfValue||null!=f&&"%"===f.type.units?x.value:x.pfValue:x}function mm(x,f,w,E,O){var L=null!=O?O.type:null;w<0?w=0:w>1&&(w=1);var F=lc(x,O),st=lc(f,O);if(Mt(F)&&Mt(st))return l0(L,F,st,w,E);if(gt(F)&&gt(st)){for(var ft=[],lt=0;lt<st.length;lt++){var yt=F[lt],Ct=st[lt];if(null!=yt&&null!=Ct){var Lt=l0(L,yt,Ct,w,E);ft.push(Lt)}else ft.push(Ct)}return ft}}function gm(x,f,w,E){var O=!E,L=x._private,F=f._private,st=F.easing,ft=F.startTime,yt=(E?x:x.cy()).style();if(!F.easingImpl)if(null==st)F.easingImpl=ac.linear;else{var Ct,zt,Wt;Ct=rt(st)?yt.parse("transition-timing-function",st).value:st,rt(Ct)?(zt=Ct,Wt=[]):(zt=Ct[1],Wt=Ct.slice(2).map(function(xi){return+xi})),Wt.length>0?("spring"===zt&&Wt.push(F.duration),F.easingImpl=ac[zt].apply(null,Wt)):F.easingImpl=ac[zt]}var Qt,Bt=F.easingImpl;if(Qt=0===F.duration?1:(w-ft)/F.duration,F.applying&&(Qt=F.progress),Qt<0?Qt=0:Qt>1&&(Qt=1),null==F.delay){var re=F.startPosition,le=F.position;if(le&&O&&!x.locked()){var ue={};u0(re.x,le.x)&&(ue.x=mm(re.x,le.x,Qt,Bt)),u0(re.y,le.y)&&(ue.y=mm(re.y,le.y,Qt,Bt)),x.position(ue)}var xe=F.startPan,Be=F.pan,je=L.pan,ye=null!=Be&&E;ye&&(u0(xe.x,Be.x)&&(je.x=mm(xe.x,Be.x,Qt,Bt)),u0(xe.y,Be.y)&&(je.y=mm(xe.y,Be.y,Qt,Bt)),x.emit("pan"));var Ve=F.startZoom,De=F.zoom,Ye=null!=De&&E;Ye&&(u0(Ve,De)&&(L.zoom=kr(L.minZoom,mm(Ve,De,Qt,Bt),L.maxZoom)),x.emit("zoom")),(ye||Ye)&&x.emit("viewport");var ze=F.style;if(ze&&ze.length>0&&O){for(var Oe=0;Oe<ze.length;Oe++){var Ze=ze[Oe],Le=Ze.name,hi=F.startStyle[Le],fi=mm(hi,Ze,Qt,Bt,yt.properties[hi.name]);yt.overrideBypass(x,Le,fi)}x.emit("style")}}return F.progress=Qt,Qt}function u0(x,f){return!!(null!=x&&null!=f&&(Mt(x)&&Mt(f)||x&&f))}function mb(x,f,w,E){var O=f._private;O.started=!0,O.startTime=w-O.progress*O.duration}function xx(x,f){var w=f._private.aniEles,E=[];function O(yt,Ct){var Lt=yt._private,zt=Lt.animation.current,Wt=Lt.animation.queue,Bt=!1;if(0===zt.length){var Qt=Wt.shift();Qt&&zt.push(Qt)}for(var re=function(je){for(var ye=je.length-1;ye>=0;ye--)(0,je[ye])();je.splice(0,je.length)},le=zt.length-1;le>=0;le--){var ue=zt[le],xe=ue._private;xe.stopped?(zt.splice(le,1),xe.hooked=!1,xe.playing=!1,xe.started=!1,re(xe.frames)):!xe.playing&&!xe.applying||(xe.playing&&xe.applying&&(xe.applying=!1),xe.started||mb(0,ue,x),gm(yt,ue,x,Ct),xe.applying&&(xe.applying=!1),re(xe.frames),null!=xe.step&&xe.step(x),ue.completed()&&(zt.splice(le,1),xe.hooked=!1,xe.playing=!1,xe.started=!1,re(xe.completes)),Bt=!0)}return!Ct&&0===zt.length&&0===Wt.length&&E.push(yt),Bt}for(var L=!1,F=0;F<w.length;F++){var ft=O(w[F]);L=L||ft}var lt=O(f,!0);(L||lt)&&(w.length>0?f.notify("draw",w):f.notify("draw")),w.unmerge(E),f.emit("step")}var un={animate:Mo.animate(),animation:Mo.animation(),animated:Mo.animated(),clearQueue:Mo.clearQueue(),delay:Mo.delay(),delayAnimation:Mo.delayAnimation(),stop:Mo.stop(),addToAnimationPool:function(f){!this.styleEnabled()||this._private.aniEles.merge(f)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var f=this;if(f._private.animationsRunning=!0,f.styleEnabled()){var E=f.renderer();E&&E.beforeRender?E.beforeRender(function(L,F){xx(F,f)},E.beforeRenderPriorities.animations):function w(){!f._private.animationsRunning||qt(function(L){xx(L,f),w()})}()}}},vm={qualifierCompare:function(f,w){return null==f||null==w?null==f&&null==w:f.sameText(w)},eventMatches:function(f,w,E){var O=w.qualifier;return null==O||f!==E.target&&y(E.target)&&O.matches(E.target)},addEventFields:function(f,w){w.cy=f,w.target=f},callbackContext:function(f,w,E){return null!=w.qualifier?E.target:f}},ym=function(f){return rt(f)?new Jc(f):f},af={createEmitter:function(){var f=this._private;return f.emitter||(f.emitter=new e0(vm,this)),this},emitter:function(){return this._private.emitter},on:function(f,w,E){return this.emitter().on(f,ym(w),E),this},removeListener:function(f,w,E){return this.emitter().removeListener(f,ym(w),E),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(f,w,E){return this.emitter().one(f,ym(w),E),this},once:function(f,w,E){return this.emitter().one(f,ym(w),E),this},emit:function(f,w){return this.emitter().emit(f,w),this},emitAndNotify:function(f,w){return this.emit(f),this.notify(f,w),this}};Mo.eventAliasesOn(af);var Ay={png:function(f){return this._private.renderer.png(f=f||{})},jpg:function(f){var w=this._private.renderer;return(f=f||{}).bg=f.bg||"#fff",w.jpg(f)}};Ay.jpeg=Ay.jpg;var qg={layout:function(f){var w=this;if(null!=f)if(null!=f.name){var L,E=f.name,O=w.extension("layout",E);if(null!=O)return L=rt(f.eles)?w.$(f.eles):null!=f.eles?f.eles:w.$(),new O(Ht({},f,{cy:w,eles:L}));$e("No such layout `"+E+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else $e("A `name` must be specified to make a layout");else $e("Layout options must be specified to make a layout")}};qg.createLayout=qg.makeLayout=qg.layout;var h0={notify:function(f,w){var E=this._private;if(this.batching()){E.batchNotifications=E.batchNotifications||{};var O=E.batchNotifications[f]=E.batchNotifications[f]||this.collection();null!=w&&O.merge(w)}else if(E.notificationsEnabled){var L=this.renderer();this.destroyed()||!L||L.notify(f,w)}},notifications:function(f){var w=this._private;return void 0===f?w.notificationsEnabled:(w.notificationsEnabled=!!f,this)},noNotifications:function(f){this.notifications(!1),f(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var f=this._private;return null==f.batchCount&&(f.batchCount=0),0===f.batchCount&&(f.batchStyleEles=this.collection(),f.batchNotifications={}),f.batchCount++,this},endBatch:function(){var f=this._private;if(0===f.batchCount)return this;if(f.batchCount--,0===f.batchCount){f.batchStyleEles.updateStyle();var w=this.renderer();Object.keys(f.batchNotifications).forEach(function(E){var O=f.batchNotifications[E];O.empty()?w.notify(E):w.notify(E,O)})}return this},batch:function(f){return this.startBatch(),f(),this.endBatch(),this},batchData:function(f){var w=this;return this.batch(function(){for(var E=Object.keys(f),O=0;O<E.length;O++){var L=E[O],F=f[L];w.getElementById(L).data(F)}})}},Ty=en({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Qf={renderTo:function(f,w,E,O){return this._private.renderer.renderTo(f,w,E,O),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(f){var w=this,E=w.extension("renderer",f.name);if(null!=E){void 0!==f.wheelSensitivity&&Ie("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var O=Ty(f);O.cy=w,w._private.renderer=new E(O),this.notify("init")}else $e("Can not initialise: No such renderer `".concat(f.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var f=this;f.notify("destroy");var w=f.container();if(w)for(w._cyreg=null;w.childNodes.length>0;)w.removeChild(w.childNodes[0]);f._private.renderer=null,f.mutableElements().forEach(function(E){var O=E._private;O.rscratch={},O.rstyle={},O.animation.current=[],O.animation.queue=[]})},onRender:function(f){return this.on("render",f)},offRender:function(f){return this.off("render",f)}};Qf.invalidateDimensions=Qf.resize;var ku={collection:function(f,w){return rt(f)?this.$(f):m(f)?f.collection():gt(f)?new po(this,f,w):new po(this)},nodes:function(f){var w=this.$(function(E){return E.isNode()});return f?w.filter(f):w},edges:function(f){var w=this.$(function(E){return E.isEdge()});return f?w.filter(f):w},$:function(f){var w=this._private.elements;return f?w.filter(f):w.spawnSelf()},mutableElements:function(){return this._private.elements}};ku.elements=ku.filter=ku.$;var bo={apply:function(x){for(var f=this,O=f._private.cy.collection(),L=0;L<x.length;L++){var F=x[L],st=f.getContextMeta(F);if(!st.empty){var ft=f.getContextStyle(st),lt=f.applyContextStyle(st,ft,F);F._private.appliedInitStyle?f.updateTransitions(F,lt.diffProps):F._private.appliedInitStyle=!0,f.updateStyleHints(F)&&O.push(F)}}return O},getPropertiesDiff:function(x,f){var w=this,E=w._private.propDiffs=w._private.propDiffs||{},O=x+"-"+f,L=E[O];if(L)return L;for(var F=[],st={},ft=0;ft<w.length;ft++){var lt=w[ft],Ct="t"===f[ft],Lt="t"===x[ft]!==Ct,zt=lt.mappedProperties.length>0;if(Lt||Ct&&zt){var Wt=void 0;Lt&&zt||Lt?Wt=lt.properties:zt&&(Wt=lt.mappedProperties);for(var Bt=0;Bt<Wt.length;Bt++){for(var Qt=Wt[Bt],re=Qt.name,le=!1,ue=ft+1;ue<w.length&&("t"!==f[ue]||!(le=null!=w[ue].properties[Qt.name]));ue++);!st[re]&&!le&&(st[re]=!0,F.push(re))}}}return E[O]=F,F},getContextMeta:function(x){for(var E,f=this,w="",O=x._private.styleCxtKey||"",L=0;L<f.length;L++){var F=f[L];w+=F.selector&&F.selector.matches(x)?"t":"f"}return E=f.getPropertiesDiff(O,w),x._private.styleCxtKey=w,{key:w,diffPropNames:E,empty:0===E.length}},getContextStyle:function(x){var f=x.key,E=this._private.contextStyles=this._private.contextStyles||{};if(E[f])return E[f];for(var O={_private:{key:f}},L=0;L<this.length;L++){var F=this[L];if("t"===f[L])for(var ft=0;ft<F.properties.length;ft++){var lt=F.properties[ft];O[lt.name]=lt}}return E[f]=O,O},applyContextStyle:function(x,f,w){for(var O=x.diffPropNames,L={},F=this.types,st=0;st<O.length;st++){var ft=O[st],lt=f[ft],yt=w.pstyle(ft);if(!lt){if(!yt)continue;lt=yt.bypass?{name:ft,deleteBypassed:!0}:{name:ft,delete:!0}}if(yt!==lt){if(lt.mapped===F.fn&&null!=yt&&null!=yt.mapping&&yt.mapping.value===lt.value){var Ct=yt.mapping;if((Ct.fnValue=lt.value(w))===Ct.prevFnValue)continue}var zt=L[ft]={prev:yt};this.applyParsedProperty(w,lt),zt.next=w.pstyle(ft),zt.next&&zt.next.bypass&&(zt.next=zt.next.bypassed)}}return{diffProps:L}},updateStyleHints:function(x){var E,f=x._private,w=this,O=w.propertyGroupKeys,L=function(qi,gn,mr){return w.getPropertiesHash(qi,gn,mr)},F=f.styleKey;if(x.removed())return!1;var qi,st="nodes"===f.group,ft=x._private.style;E=Object.keys(ft);for(var lt=0;lt<O.length;lt++)f.styleKeys[O[lt]]=[Xe,Te];for(var Ct=function(qi,gn){return f.styleKeys[gn][0]=ni(qi,f.styleKeys[gn][0])},Lt=function(qi,gn){return f.styleKeys[gn][1]=ei(qi,f.styleKeys[gn][1])},zt=function(qi,gn){Ct(qi,gn),Lt(qi,gn)},Wt=function(qi,gn){for(var mr=0;mr<qi.length;mr++){var wr=qi.charCodeAt(mr);Ct(wr,gn),Lt(wr,gn)}},re=0;re<E.length;re++){var le=E[re],ue=ft[le];if(null!=ue){var xe=this.properties[le],Be=xe.type,je=xe.groupKey,ye=void 0;null!=xe.hashOverride?ye=xe.hashOverride(x,ue):null!=ue.pfValue&&(ye=ue.pfValue);var Ve=null==xe.enums?ue.value:null,De=null!=ye,Oe=ue.units;!Be.number||!De&&null==Ve||Be.multiple?Wt(ue.strValue,je):(zt(-128<(qi=De?ye:Ve)&&qi<128&&Math.floor(qi)!==qi?2e9-(1024*qi|0):qi,je),!De&&null!=Oe&&Wt(Oe,je))}}for(var Le=[Xe,Te],Mi=0;Mi<O.length;Mi++){var Ci=f.styleKeys[O[Mi]];Le[0]=ni(Ci[0],Le[0]),Le[1]=ei(Ci[1],Le[1])}f.styleKey=function(f,w){return 2097152*f+w}(Le[0],Le[1]);var fi=f.styleKeys;f.labelDimsKey=mi(fi.labelDimensions);var xi=L(x,["label"],fi.labelDimensions);if(f.labelKey=mi(xi),f.labelStyleKey=mi(bi(fi.commonLabel,xi)),!st){var Li=L(x,["source-label"],fi.labelDimensions);f.sourceLabelKey=mi(Li),f.sourceLabelStyleKey=mi(bi(fi.commonLabel,Li));var Ei=L(x,["target-label"],fi.labelDimensions);f.targetLabelKey=mi(Ei),f.targetLabelStyleKey=mi(bi(fi.commonLabel,Ei))}if(st){var si=f.styleKeys,wi=si.pie,Oi=[si.nodeBody,si.nodeBorder,si.backgroundImage,si.compound,wi].filter(function(Gi){return null!=Gi}).reduce(bi,[Xe,Te]);f.nodeKey=mi(Oi),f.hasPie=null!=wi&&wi[0]!==Xe&&wi[1]!==Te}return F!==f.styleKey},clearStyleHints:function(x){var f=x._private;f.styleCxtKey="",f.styleKeys={},f.styleKey=null,f.labelKey=null,f.labelStyleKey=null,f.sourceLabelKey=null,f.sourceLabelStyleKey=null,f.targetLabelKey=null,f.targetLabelStyleKey=null,f.nodeKey=null,f.hasPie=null},applyParsedProperty:function(x,f){var L,w=this,E=f,O=x._private.style,F=w.types,st=w.properties[E.name].type,ft=E.bypass,lt=O[E.name],yt=lt&&lt.bypass,Ct=x._private,Lt="mapping",zt=function(Hi){return null==Hi?null:null!=Hi.pfValue?Hi.pfValue:Hi.value},Wt=function(){var Hi=zt(lt),Ne=zt(E);w.checkTriggers(x,E.name,Hi,Ne)};if(E&&"pie"===E.name.substr(0,3)&&Ie("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===f.name&&x.isEdge()&&("bezier"!==f.value&&x.isLoop()||"haystack"===f.value&&(x.source().isParent()||x.target().isParent()))&&(E=f=this.parse(f.name,"bezier",ft)),E.delete)return O[E.name]=void 0,Wt(),!0;if(E.deleteBypassed)return lt?!!lt.bypass&&(lt.bypassed=void 0,Wt(),!0):(Wt(),!0);if(E.deleteBypass)return lt?!!lt.bypass&&(O[E.name]=lt.bypassed,Wt(),!0):(Wt(),!0);var Bt=function(){Ie("Do not assign mappings to elements without corresponding data (i.e. ele `"+x.id()+"` has no mapping for property `"+E.name+"` with data field `"+E.field+"`); try a `["+E.field+"]` selector to limit scope to elements with `"+E.field+"` defined")};switch(E.mapped){case F.mapData:for(var Qt=E.field.split("."),re=Ct.data,le=0;le<Qt.length&&re;le++)re=re[Qt[le]];if(null==re)return Bt(),!1;var xe;if(!Mt(re))return Ie("Do not use continuous mappers without specifying numeric data (i.e. `"+E.field+": "+re+"` for `"+x.id()+"` is non-numeric)"),!1;var Be=E.fieldMax-E.fieldMin;if((xe=0===Be?0:(re-E.fieldMin)/Be)<0?xe=0:xe>1&&(xe=1),st.color){var je=E.valueMin[0],Ve=E.valueMin[1],De=E.valueMax[1],Ye=E.valueMin[2],ze=E.valueMax[2],Oe=null==E.valueMin[3]?1:E.valueMin[3],Ze=null==E.valueMax[3]?1:E.valueMax[3],Le=[Math.round(je+(E.valueMax[0]-je)*xe),Math.round(Ve+(De-Ve)*xe),Math.round(Ye+(ze-Ye)*xe),Math.round(Oe+(Ze-Oe)*xe)];L={bypass:E.bypass,name:E.name,value:Le,strValue:"rgb("+Le[0]+", "+Le[1]+", "+Le[2]+")"}}else{if(!st.number)return!1;L=this.parse(E.name,E.valueMin+(E.valueMax-E.valueMin)*xe,E.bypass,Lt)}if(!L)return Bt(),!1;L.mapping=E,E=L;break;case F.data:for(var hi=E.field.split("."),Ci=Ct.data,fi=0;fi<hi.length&&Ci;fi++)Ci=Ci[hi[fi]];if(null!=Ci&&(L=this.parse(E.name,Ci,E.bypass,Lt)),!L)return Bt(),!1;L.mapping=E,E=L;break;case F.fn:var Ei=null!=E.fnValue?E.fnValue:(0,E.value)(x);if(E.prevFnValue=Ei,null==Ei)return Ie("Custom function mappers may not return null (i.e. `"+E.name+"` for ele `"+x.id()+"` is null)"),!1;if(!(L=this.parse(E.name,Ei,E.bypass,Lt)))return Ie("Custom function mappers may not return invalid values for the property type (i.e. `"+E.name+"` for ele `"+x.id()+"` is invalid)"),!1;L.mapping=qe(E),E=L;break;case void 0:break;default:return!1}return ft?(E.bypassed=yt?lt.bypassed:lt,O[E.name]=E):yt?lt.bypassed=E:O[E.name]=E,Wt(),!0},cleanElements:function(x,f){for(var w=0;w<x.length;w++){var E=x[w];if(this.clearStyleHints(E),E.dirtyCompoundBoundsCache(),E.dirtyBoundingBoxCache(),f)for(var O=E._private.style,L=Object.keys(O),F=0;F<L.length;F++){var st=L[F],ft=O[st];null!=ft&&(ft.bypass?ft.bypassed=null:O[st]=null)}else E._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(x,f){var w=this,E=x._private,O=x.pstyle("transition-property").value,L=x.pstyle("transition-duration").pfValue,F=x.pstyle("transition-delay").pfValue;if(O.length>0&&L>0){for(var st={},ft=!1,lt=0;lt<O.length;lt++){var yt=O[lt],Ct=x.pstyle(yt),Lt=f[yt];if(Lt){var Wt=Lt.prev,Bt=null!=Lt.next?Lt.next:Ct,Qt=!1,re=void 0;!Wt||(Mt(Wt.pfValue)&&Mt(Bt.pfValue)?re=Wt.pfValue+1e-6*(Qt=Bt.pfValue-Wt.pfValue):Mt(Wt.value)&&Mt(Bt.value)?re=Wt.value+1e-6*(Qt=Bt.value-Wt.value):gt(Wt.value)&&gt(Bt.value)&&(Qt=Wt.value[0]!==Bt.value[0]||Wt.value[1]!==Bt.value[1]||Wt.value[2]!==Bt.value[2],re=Wt.strValue),Qt&&(st[yt]=Bt.strValue,this.applyBypass(x,yt,re),ft=!0))}}if(!ft)return;E.transitioning=!0,new Hd(function(ue){F>0?x.delayAnimation(F).play().promise().then(ue):ue()}).then(function(){return x.animation({style:st,duration:L,easing:x.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){w.removeBypasses(x,O),x.emitAndNotify("style"),E.transitioning=!1})}else E.transitioning&&(this.removeBypasses(x,O),x.emitAndNotify("style"),E.transitioning=!1)},checkTrigger:function(x,f,w,E,O,L){var F=this.properties[f],st=O(F);null!=st&&st(w,E)&&L(F)},checkZOrderTrigger:function(x,f,w,E){var O=this;this.checkTrigger(x,f,w,E,function(L){return L.triggersZOrder},function(){O._private.cy.notify("zorder",x)})},checkBoundsTrigger:function(x,f,w,E){this.checkTrigger(x,f,w,E,function(O){return O.triggersBounds},function(O){x.dirtyCompoundBoundsCache(),x.dirtyBoundingBoxCache(),"curve-style"===f&&("bezier"===w||"bezier"===E)&&O.triggersBoundsOfParallelBeziers&&x.parallelEdges().forEach(function(L){L.isBundledBezier()&&L.dirtyBoundingBoxCache()})})},checkTriggers:function(x,f,w,E){x.dirtyStyleCache(),this.checkZOrderTrigger(x,f,w,E),this.checkBoundsTrigger(x,f,w,E)}},Kn={applyBypass:function(x,f,w,E){var L=[];if("*"===f||"**"===f){if(void 0!==w)for(var st=0;st<this.properties.length;st++){var yt=this.parse(this.properties[st].name,w,!0);yt&&L.push(yt)}}else if(rt(f)){var Ct=this.parse(f,w,!0);Ct&&L.push(Ct)}else{if(!Et(f))return!1;var Lt=f;E=w;for(var zt=Object.keys(Lt),Wt=0;Wt<zt.length;Wt++){var Bt=zt[Wt],Qt=Lt[Bt];if(void 0===Qt&&(Qt=Lt[wt(Bt)]),void 0!==Qt){var re=this.parse(Bt,Qt,!0);re&&L.push(re)}}}if(0===L.length)return!1;for(var le=!1,ue=0;ue<x.length;ue++){for(var xe=x[ue],Be={},je=void 0,ye=0;ye<L.length;ye++){var Ve=L[ye];if(E){var De=xe.pstyle(Ve.name);je=Be[Ve.name]={prev:De}}le=this.applyParsedProperty(xe,qe(Ve))||le,E&&(je.next=xe.pstyle(Ve.name))}le&&this.updateStyleHints(xe),E&&this.updateTransitions(xe,Be,!0)}return le},overrideBypass:function(x,f,w){f=xt(f);for(var E=0;E<x.length;E++){var O=x[E],L=O._private.style[f],F=this.properties[f].type,st=F.color,ft=F.mutiple,lt=L?null!=L.pfValue?L.pfValue:L.value:null;L&&L.bypass?(L.value=w,null!=L.pfValue&&(L.pfValue=w),L.strValue=st?"rgb("+w.join(",")+")":ft?w.join(" "):""+w,this.updateStyleHints(O)):this.applyBypass(O,f,w),this.checkTriggers(O,f,lt,w)}},removeAllBypasses:function(x,f){return this.removeBypasses(x,this.propertyNames,f)},removeBypasses:function(x,f,w){for(var O=0;O<x.length;O++){for(var L=x[O],F={},st=0;st<f.length;st++){var ft=f[st],lt=this.properties[ft],yt=L.pstyle(lt.name);if(yt&&yt.bypass){var Lt=this.parse(ft,"",!0),zt=F[lt.name]={prev:yt};this.applyParsedProperty(L,Lt),zt.next=L.pstyle(lt.name)}}this.updateStyleHints(L),w&&this.updateTransitions(L,F,!0)}}},lf={getEmSizeInPixels:function(){var x=this.containerCss("font-size");return null!=x?parseFloat(x):1},containerCss:function(x){var w=this._private.cy.container();if(N&&w&&N.getComputedStyle)return N.getComputedStyle(w).getPropertyValue(x)}},Bs={getRenderedStyle:function(x,f){return f?this.getStylePropertyValue(x,f,!0):this.getRawStyle(x,!0)},getRawStyle:function(x,f){var w=this;if(x=x[0]){for(var E={},O=0;O<w.properties.length;O++){var L=w.properties[O],F=w.getStylePropertyValue(x,L.name,f);null!=F&&(E[L.name]=F,E[wt(L.name)]=F)}return E}},getIndexedStyle:function(x,f,w,E){var O=x.pstyle(f)[w][E];return null!=O?O:x.cy().style().getDefaultProperty(f)[w][0]},getStylePropertyValue:function(x,f,w){if(x=x[0]){var O=this.properties[f];O.alias&&(O=O.pointsTo);var L=O.type,F=x.pstyle(O.name);if(F){var st=F.value,ft=F.units,lt=F.strValue;if(w&&L.number&&null!=st&&Mt(st)){var yt=x.cy().zoom(),Ct=function(Qt){return Qt*yt},Lt=function(Qt,re){return Ct(Qt)+re},zt=gt(st);return(zt?ft.every(function(Bt){return null!=Bt}):null!=ft)?zt?st.map(function(Bt,Qt){return Lt(Bt,ft[Qt])}).join(" "):Lt(st,ft):zt?st.map(function(Bt){return rt(Bt)?Bt:""+Ct(Bt)}).join(" "):""+Ct(st)}if(null!=lt)return lt}return null}},getAnimationStartStyle:function(x,f){for(var w={},E=0;E<f.length;E++){var L=f[E].name,F=x.pstyle(L);void 0!==F&&(F=Et(F)?this.parse(L,F.strValue):this.parse(L,F)),F&&(w[L]=F)}return w},getPropsList:function(x){var w=[],E=x,O=this.properties;if(E)for(var L=Object.keys(E),F=0;F<L.length;F++){var st=L[F],ft=E[st],lt=O[st]||O[xt(st)],yt=this.parse(lt.name,ft);yt&&w.push(yt)}return w},getNonDefaultPropertiesHash:function(x,f,w){var L,F,st,ft,lt,E=w.slice();for(ft=0;ft<f.length;ft++)if(null!=(L=x.pstyle(f[ft],!1)))if(null!=L.pfValue)E[0]=ni(st,E[0]),E[1]=ei(st,E[1]);else for(F=L.strValue,lt=0;lt<F.length;lt++)st=F.charCodeAt(lt),E[0]=ni(st,E[0]),E[1]=ei(st,E[1]);return E}};Bs.getPropertiesHash=Bs.getNonDefaultPropertiesHash;var Ri={appendFromJson:function(x){for(var f=this,w=0;w<x.length;w++){var E=x[w],O=E.selector,L=E.style||E.css,F=Object.keys(L);f.selector(O);for(var st=0;st<F.length;st++){var ft=F[st];f.css(ft,L[ft])}}return f},fromJson:function(x){var f=this;return f.resetToDefault(),f.appendFromJson(x),f},json:function(){for(var x=[],f=this.defaultLength;f<this.length;f++){for(var w=this[f],E=w.selector,O=w.properties,L={},F=0;F<O.length;F++){var st=O[F];L[st.name]=st.strValue}x.push({selector:E?E.toString():"core",style:L})}return x}},qr={appendFromString:function(x){var O,L,F,w=this,E=""+x;function st(){E=E.length>O.length?E.substr(O.length):""}function ft(){L=L.length>F.length?L.substr(F.length):""}for(E=E.replace(/[/][*](\s|.)+?[*][/]/g,"");!E.match(/^\s*$/);){var yt=E.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!yt){Ie("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+E);break}O=yt[0];var Ct=yt[1];if("core"!==Ct&&new Jc(Ct).invalid)Ie("Skipping parsing of block: Invalid selector found in string stylesheet: "+Ct),st();else{var zt=yt[2],Wt=!1;L=zt;for(var Bt=[];!L.match(/^\s*$/);){var re=L.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!re){Ie("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+zt),Wt=!0;break}F=re[0];var le=re[1],ue=re[2];this.properties[le]?w.parse(le,ue)?(Bt.push({name:le,val:ue}),ft()):(Ie("Skipping property: Invalid property definition in: "+F),ft()):(Ie("Skipping property: Invalid property name in: "+F),ft())}if(Wt){st();break}w.selector(Ct);for(var je=0;je<Bt.length;je++){var ye=Bt[je];w.css(ye.name,ye.val)}st()}}return w},fromString:function(x){var f=this;return f.resetToDefault(),f.appendFromString(x),f}},qn={};(function(){var x=It,L=function(Oi){return"^"+Oi+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},F=function(Oi){var Gi=x+"|\\w+|rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+Oi+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+x+")\\s*\\,\\s*("+x+")\\s*,\\s*("+Gi+")\\s*\\,\\s*("+Gi+")\\)$"},st=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];qn.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:L("data")},layoutData:{mapping:!0,regex:L("layoutData")},scratch:{mapping:!0,regex:L("scratch")},mapData:{mapping:!0,regex:F("mapData")},mapLayoutData:{mapping:!0,regex:F("mapLayoutData")},mapScratch:{mapping:!0,regex:F("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:st,singleRegexMatchValue:!0},urls:{regexes:st,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Oi,Gi){switch(Oi.length){case 2:return"deg"!==Gi[0]&&"rad"!==Gi[0]&&"deg"!==Gi[1]&&"rad"!==Gi[1];case 1:return rt(Oi[0])||"deg"===Gi[0]||"rad"===Gi[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+x+")\\s*,\\s*("+x+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+x+")\\s*,\\s*("+x+")\\s*,\\s*("+x+")\\s*,\\s*("+x+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Oi){var Gi=Oi.length;return 1===Gi||2===Gi||4===Gi}}};var ft={zeroNonZero:function(Oi,Gi){return(null==Oi||null==Gi)&&Oi!==Gi||0==Oi&&0!=Gi||0!=Oi&&0==Gi},any:function(Oi,Gi){return Oi!=Gi},emptyNonEmpty:function(Oi,Gi){var qi=C(Oi),gn=C(Gi);return qi&&!gn||!qi&&gn}},lt=qn.types,yt=[{name:"label",type:lt.text,triggersBounds:ft.any,triggersZOrder:ft.emptyNonEmpty},{name:"text-rotation",type:lt.textRotation,triggersBounds:ft.any},{name:"text-margin-x",type:lt.bidirectionalSize,triggersBounds:ft.any},{name:"text-margin-y",type:lt.bidirectionalSize,triggersBounds:ft.any}],Ct=[{name:"source-label",type:lt.text,triggersBounds:ft.any},{name:"source-text-rotation",type:lt.textRotation,triggersBounds:ft.any},{name:"source-text-margin-x",type:lt.bidirectionalSize,triggersBounds:ft.any},{name:"source-text-margin-y",type:lt.bidirectionalSize,triggersBounds:ft.any},{name:"source-text-offset",type:lt.size,triggersBounds:ft.any}],Lt=[{name:"target-label",type:lt.text,triggersBounds:ft.any},{name:"target-text-rotation",type:lt.textRotation,triggersBounds:ft.any},{name:"target-text-margin-x",type:lt.bidirectionalSize,triggersBounds:ft.any},{name:"target-text-margin-y",type:lt.bidirectionalSize,triggersBounds:ft.any},{name:"target-text-offset",type:lt.size,triggersBounds:ft.any}],zt=[{name:"font-family",type:lt.fontFamily,triggersBounds:ft.any},{name:"font-style",type:lt.fontStyle,triggersBounds:ft.any},{name:"font-weight",type:lt.fontWeight,triggersBounds:ft.any},{name:"font-size",type:lt.size,triggersBounds:ft.any},{name:"text-transform",type:lt.textTransform,triggersBounds:ft.any},{name:"text-wrap",type:lt.textWrap,triggersBounds:ft.any},{name:"text-overflow-wrap",type:lt.textOverflowWrap,triggersBounds:ft.any},{name:"text-max-width",type:lt.size,triggersBounds:ft.any},{name:"text-outline-width",type:lt.size,triggersBounds:ft.any},{name:"line-height",type:lt.positiveNumber,triggersBounds:ft.any}],Wt=[{name:"text-valign",type:lt.valign,triggersBounds:ft.any},{name:"text-halign",type:lt.halign,triggersBounds:ft.any},{name:"color",type:lt.color},{name:"text-outline-color",type:lt.color},{name:"text-outline-opacity",type:lt.zeroOneNumber},{name:"text-background-color",type:lt.color},{name:"text-background-opacity",type:lt.zeroOneNumber},{name:"text-background-padding",type:lt.size,triggersBounds:ft.any},{name:"text-border-opacity",type:lt.zeroOneNumber},{name:"text-border-color",type:lt.color},{name:"text-border-width",type:lt.size,triggersBounds:ft.any},{name:"text-border-style",type:lt.borderStyle,triggersBounds:ft.any},{name:"text-background-shape",type:lt.textBackgroundShape,triggersBounds:ft.any},{name:"text-justification",type:lt.justification}],Bt=[{name:"events",type:lt.bool},{name:"text-events",type:lt.bool}],Qt=[{name:"display",type:lt.display,triggersZOrder:ft.any,triggersBounds:ft.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:lt.visibility,triggersZOrder:ft.any},{name:"opacity",type:lt.zeroOneNumber,triggersZOrder:ft.zeroNonZero},{name:"text-opacity",type:lt.zeroOneNumber},{name:"min-zoomed-font-size",type:lt.size},{name:"z-compound-depth",type:lt.zCompoundDepth,triggersZOrder:ft.any},{name:"z-index-compare",type:lt.zIndexCompare,triggersZOrder:ft.any},{name:"z-index",type:lt.nonNegativeInt,triggersZOrder:ft.any}],re=[{name:"overlay-padding",type:lt.size,triggersBounds:ft.any},{name:"overlay-color",type:lt.color},{name:"overlay-opacity",type:lt.zeroOneNumber,triggersBounds:ft.zeroNonZero},{name:"overlay-shape",type:lt.overlayShape,triggersBounds:ft.any}],le=[{name:"underlay-padding",type:lt.size,triggersBounds:ft.any},{name:"underlay-color",type:lt.color},{name:"underlay-opacity",type:lt.zeroOneNumber,triggersBounds:ft.zeroNonZero},{name:"underlay-shape",type:lt.overlayShape,triggersBounds:ft.any}],ue=[{name:"transition-property",type:lt.propList},{name:"transition-duration",type:lt.time},{name:"transition-delay",type:lt.time},{name:"transition-timing-function",type:lt.easing}],xe=function(Oi,Gi){return"label"===Gi.value?-Oi.poolIndex():Gi.pfValue},Be=[{name:"height",type:lt.nodeSize,triggersBounds:ft.any,hashOverride:xe},{name:"width",type:lt.nodeSize,triggersBounds:ft.any,hashOverride:xe},{name:"shape",type:lt.nodeShape,triggersBounds:ft.any},{name:"shape-polygon-points",type:lt.polygonPointList,triggersBounds:ft.any},{name:"background-color",type:lt.color},{name:"background-fill",type:lt.fill},{name:"background-opacity",type:lt.zeroOneNumber},{name:"background-blacken",type:lt.nOneOneNumber},{name:"background-gradient-stop-colors",type:lt.colors},{name:"background-gradient-stop-positions",type:lt.percentages},{name:"background-gradient-direction",type:lt.gradientDirection},{name:"padding",type:lt.sizeMaybePercent,triggersBounds:ft.any},{name:"padding-relative-to",type:lt.paddingRelativeTo,triggersBounds:ft.any},{name:"bounds-expansion",type:lt.boundsExpansion,triggersBounds:ft.any}],je=[{name:"border-color",type:lt.color},{name:"border-opacity",type:lt.zeroOneNumber},{name:"border-width",type:lt.size,triggersBounds:ft.any},{name:"border-style",type:lt.borderStyle}],ye=[{name:"background-image",type:lt.urls},{name:"background-image-crossorigin",type:lt.bgCrossOrigin},{name:"background-image-opacity",type:lt.zeroOneNumbers},{name:"background-image-containment",type:lt.bgContainment},{name:"background-image-smoothing",type:lt.bools},{name:"background-position-x",type:lt.bgPos},{name:"background-position-y",type:lt.bgPos},{name:"background-width-relative-to",type:lt.bgRelativeTo},{name:"background-height-relative-to",type:lt.bgRelativeTo},{name:"background-repeat",type:lt.bgRepeat},{name:"background-fit",type:lt.bgFit},{name:"background-clip",type:lt.bgClip},{name:"background-width",type:lt.bgWH},{name:"background-height",type:lt.bgWH},{name:"background-offset-x",type:lt.bgPos},{name:"background-offset-y",type:lt.bgPos}],Ve=[{name:"position",type:lt.position,triggersBounds:ft.any},{name:"compound-sizing-wrt-labels",type:lt.compoundIncludeLabels,triggersBounds:ft.any},{name:"min-width",type:lt.size,triggersBounds:ft.any},{name:"min-width-bias-left",type:lt.sizeMaybePercent,triggersBounds:ft.any},{name:"min-width-bias-right",type:lt.sizeMaybePercent,triggersBounds:ft.any},{name:"min-height",type:lt.size,triggersBounds:ft.any},{name:"min-height-bias-top",type:lt.sizeMaybePercent,triggersBounds:ft.any},{name:"min-height-bias-bottom",type:lt.sizeMaybePercent,triggersBounds:ft.any}],De=[{name:"line-style",type:lt.lineStyle},{name:"line-color",type:lt.color},{name:"line-fill",type:lt.fill},{name:"line-cap",type:lt.lineCap},{name:"line-opacity",type:lt.zeroOneNumber},{name:"line-dash-pattern",type:lt.numbers},{name:"line-dash-offset",type:lt.number},{name:"line-gradient-stop-colors",type:lt.colors},{name:"line-gradient-stop-positions",type:lt.percentages},{name:"curve-style",type:lt.curveStyle,triggersBounds:ft.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:lt.zeroOneNumber,triggersBounds:ft.any},{name:"source-endpoint",type:lt.edgeEndpoint,triggersBounds:ft.any},{name:"target-endpoint",type:lt.edgeEndpoint,triggersBounds:ft.any},{name:"control-point-step-size",type:lt.size,triggersBounds:ft.any},{name:"control-point-distances",type:lt.bidirectionalSizes,triggersBounds:ft.any},{name:"control-point-weights",type:lt.numbers,triggersBounds:ft.any},{name:"segment-distances",type:lt.bidirectionalSizes,triggersBounds:ft.any},{name:"segment-weights",type:lt.numbers,triggersBounds:ft.any},{name:"taxi-turn",type:lt.bidirectionalSizeMaybePercent,triggersBounds:ft.any},{name:"taxi-turn-min-distance",type:lt.size,triggersBounds:ft.any},{name:"taxi-direction",type:lt.axisDirection,triggersBounds:ft.any},{name:"edge-distances",type:lt.edgeDistances,triggersBounds:ft.any},{name:"arrow-scale",type:lt.positiveNumber,triggersBounds:ft.any},{name:"loop-direction",type:lt.angle,triggersBounds:ft.any},{name:"loop-sweep",type:lt.angle,triggersBounds:ft.any},{name:"source-distance-from-node",type:lt.size,triggersBounds:ft.any},{name:"target-distance-from-node",type:lt.size,triggersBounds:ft.any}],Ye=[{name:"ghost",type:lt.bool,triggersBounds:ft.any},{name:"ghost-offset-x",type:lt.bidirectionalSize,triggersBounds:ft.any},{name:"ghost-offset-y",type:lt.bidirectionalSize,triggersBounds:ft.any},{name:"ghost-opacity",type:lt.zeroOneNumber}],ze=[{name:"selection-box-color",type:lt.color},{name:"selection-box-opacity",type:lt.zeroOneNumber},{name:"selection-box-border-color",type:lt.color},{name:"selection-box-border-width",type:lt.size},{name:"active-bg-color",type:lt.color},{name:"active-bg-opacity",type:lt.zeroOneNumber},{name:"active-bg-size",type:lt.size},{name:"outside-texture-bg-color",type:lt.color},{name:"outside-texture-bg-opacity",type:lt.zeroOneNumber}],Oe=[];qn.pieBackgroundN=16,Oe.push({name:"pie-size",type:lt.sizeMaybePercent});for(var Ze=1;Ze<=qn.pieBackgroundN;Ze++)Oe.push({name:"pie-"+Ze+"-background-color",type:lt.color}),Oe.push({name:"pie-"+Ze+"-background-size",type:lt.percent}),Oe.push({name:"pie-"+Ze+"-background-opacity",type:lt.zeroOneNumber});var Le=[],Mi=qn.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:lt.arrowShape,triggersBounds:ft.any},{name:"arrow-color",type:lt.color},{name:"arrow-fill",type:lt.arrowFill}].forEach(function(wi){Mi.forEach(function(Oi){Le.push({name:Oi+"-"+wi.name,type:wi.type,triggersBounds:wi.triggersBounds})})},{});var hi=qn.properties=[].concat(Bt,ue,Qt,re,le,Ye,Wt,zt,yt,Ct,Lt,Be,je,ye,Oe,Ve,De,Le,ze),Ci=qn.propertyGroups={behavior:Bt,transition:ue,visibility:Qt,overlay:re,underlay:le,ghost:Ye,commonLabel:Wt,labelDimensions:zt,mainLabel:yt,sourceLabel:Ct,targetLabel:Lt,nodeBody:Be,nodeBorder:je,backgroundImage:ye,pie:Oe,compound:Ve,edgeLine:De,edgeArrow:Le,core:ze},fi=qn.propertyGroupNames={};(qn.propertyGroupKeys=Object.keys(Ci)).forEach(function(wi){fi[wi]=Ci[wi].map(function(Oi){return Oi.name}),Ci[wi].forEach(function(Oi){return Oi.groupKey=wi})});var Li=qn.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];qn.propertyNames=hi.map(function(wi){return wi.name});for(var Ei=0;Ei<hi.length;Ei++){var si=hi[Ei];hi[si.name]=si}for(var Hi=0;Hi<Li.length;Hi++){var Ne=Li[Hi],ji={name:Ne.name,alias:!0,pointsTo:hi[Ne.pointsTo]};hi.push(ji),hi[Ne.name]=ji}})(),qn.getDefaultProperty=function(x){return this.getDefaultProperties()[x]},qn.getDefaultProperties=function(){var x=this._private;if(null!=x.defaultProperties)return x.defaultProperties;for(var f=Ht({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(ft,lt){for(var yt=1;yt<=qn.pieBackgroundN;yt++)ft[lt.name.replace("{{i}}",yt)]=lt.value;return ft},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(ft,lt){return qn.arrowPrefixes.forEach(function(yt){ft[yt+"-"+lt.name]=lt.value}),ft},{})),w={},E=0;E<this.properties.length;E++){var O=this.properties[E];if(!O.pointsTo){var L=O.name,st=this.parse(L,f[L]);w[L]=st}}return x.defaultProperties=w,x.defaultProperties},qn.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Vs={parse:function(x,f,w,E){var O=this;if(mt(f))return O.parseImplWarn(x,f,w,E);var yt,ft=He(x,""+f,w?"t":"f","mapping"===E||!0===E||!1===E||null==E?"dontcare":E),lt=O.propCache=O.propCache||[];return(yt=lt[ft])||(yt=lt[ft]=O.parseImplWarn(x,f,w,E)),(w||"mapping"===E)&&(yt=qe(yt))&&(yt.value=qe(yt.value)),yt},parseImplWarn:function(x,f,w,E){var O=this.parseImpl(x,f,w,E);return!O&&null!=f&&Ie("The style property `".concat(x,": ").concat(f,"` is invalid")),O&&("width"===O.name||"height"===O.name)&&"label"===f&&Ie("The style value of `label` is deprecated for `"+O.name+"`"),O}};Vs.parseImpl=function(x,f,w,E){var O=this;x=xt(x);var L=O.properties[x],F=f,st=O.types;if(!L||void 0===f)return null;L.alias&&(x=(L=L.pointsTo).name);var ft=rt(f);ft&&(f=f.trim());var yt,Ct,lt=L.type;if(!lt)return null;if(w&&(""===f||null===f))return{name:x,value:f,bypass:!0,deleteBypass:!0};if(mt(f))return{name:x,value:f,strValue:"fn",mapped:st.fn,bypass:w};if(!(!ft||E||f.length<7||"a"!==f[1])){if(f.length>=7&&"d"===f[0]&&(yt=new RegExp(st.data.regex).exec(f)))return!w&&{name:x,value:yt,strValue:""+f,mapped:st.data,field:yt[1],bypass:w};if(f.length>=10&&"m"===f[0]&&(Ct=new RegExp(st.mapData.regex).exec(f))){if(w||lt.multiple)return!1;var zt=st.mapData;if(!lt.color&&!lt.number)return!1;var Wt=this.parse(x,Ct[4]);if(!Wt||Wt.mapped)return!1;var Bt=this.parse(x,Ct[5]);if(!Bt||Bt.mapped)return!1;if(Wt.pfValue===Bt.pfValue||Wt.strValue===Bt.strValue)return Ie("`"+x+": "+f+"` is not a valid mapper because the output range is zero; converting to `"+x+": "+Wt.strValue+"`"),this.parse(x,Wt.strValue);if(lt.color){var Qt=Wt.value,re=Bt.value;if(!(Qt[0]!==re[0]||Qt[1]!==re[1]||Qt[2]!==re[2]||Qt[3]!==re[3]&&(null!=Qt[3]&&1!==Qt[3]||null!=re[3]&&1!==re[3])))return!1}return{name:x,value:Ct,strValue:""+f,mapped:zt,field:Ct[1],fieldMin:parseFloat(Ct[2]),fieldMax:parseFloat(Ct[3]),valueMin:Wt.value,valueMax:Bt.value,bypass:w}}}if(lt.multiple&&"multiple"!==E){var ue;if(ue=ft?f.split(/\s+/):gt(f)?f:[f],lt.evenMultiple&&ue.length%2!=0)return null;for(var xe=[],Be=[],je=[],ye="",Ve=!1,De=0;De<ue.length;De++){var Ye=O.parse(x,ue[De],w,"multiple");Ve=Ve||rt(Ye.value),xe.push(Ye.value),je.push(null!=Ye.pfValue?Ye.pfValue:Ye.value),Be.push(Ye.units),ye+=(De>0?" ":"")+Ye.strValue}return lt.validate&&!lt.validate(xe,Be)?null:lt.singleEnum&&Ve?1===xe.length&&rt(xe[0])?{name:x,value:xe[0],strValue:xe[0],bypass:w}:null:{name:x,value:xe,pfValue:je,strValue:ye,bypass:w,units:Be}}var ze=function(){for(var Gi=0;Gi<lt.enums.length;Gi++)if(lt.enums[Gi]===f)return{name:x,value:f,strValue:""+f,bypass:w};return null};if(lt.number){var Oe,Ze="px";if(lt.units&&(Oe=lt.units),lt.implicitUnits&&(Ze=lt.implicitUnits),!lt.unitless)if(ft){var Le="px|em"+(lt.allowPercent?"|\\%":"");Oe&&(Le=Oe);var Mi=f.match("^("+It+")("+Le+")?$");Mi&&(f=Mi[1],Oe=Mi[2]||Ze)}else(!Oe||lt.implicitUnits)&&(Oe=Ze);if(f=parseFloat(f),isNaN(f)&&void 0===lt.enums)return null;if(isNaN(f)&&void 0!==lt.enums)return f=F,ze();if(lt.integer&&!function(f){return Mt(f)&&Math.floor(f)===f}(f)||void 0!==lt.min&&(f<lt.min||lt.strictMin&&f===lt.min)||void 0!==lt.max&&(f>lt.max||lt.strictMax&&f===lt.max))return null;var hi={name:x,value:f,strValue:""+f+(Oe||""),units:Oe,bypass:w};return hi.pfValue=lt.unitless||"px"!==Oe&&"em"!==Oe?f:"px"!==Oe&&Oe?this.getEmSizeInPixels()*f:f,("ms"===Oe||"s"===Oe)&&(hi.pfValue="ms"===Oe?f:1e3*f),("deg"===Oe||"rad"===Oe)&&(hi.pfValue="rad"===Oe?f:function(f){return Math.PI*f/180}(f)),"%"===Oe&&(hi.pfValue=f/100),hi}if(lt.propList){var Ci=[],fi=""+f;if("none"!==fi){for(var xi=fi.split(/\s*,\s*|\s+/),Li=0;Li<xi.length;Li++){var Ei=xi[Li].trim();O.properties[Ei]?Ci.push(Ei):Ie("`"+Ei+"` is not a valid property name")}if(0===Ci.length)return null}return{name:x,value:Ci,strValue:0===Ci.length?"none":Ci.join(" "),bypass:w}}if(lt.color){var si=function(f){return(gt(f)?f:null)||function(f){return Yt[f.toLowerCase()]}(f)||function(f){if((4===f.length||7===f.length)&&"#"===f[0]){var E,O,L,F=16;return 4===f.length?(E=parseInt(f[1]+f[1],F),O=parseInt(f[2]+f[2],F),L=parseInt(f[3]+f[3],F)):(E=parseInt(f[1]+f[2],F),O=parseInt(f[3]+f[4],F),L=parseInt(f[5]+f[6],F)),[E,O,L]}}(f)||function(f){var w,E=new RegExp("^rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(f);if(E){w=[];for(var O=[],L=1;L<=3;L++){var F=E[L];if("%"===F[F.length-1]&&(O[L]=!0),F=parseFloat(F),O[L]&&(F=F/100*255),F<0||F>255)return;w.push(Math.floor(F))}if((O[1]||O[2]||O[3])&&!(O[1]&&O[2]&&O[3]))return;var lt=E[4];if(void 0!==lt){if((lt=parseFloat(lt))<0||lt>1)return;w.push(lt)}}return w}(f)||function(f){var w,E,O,L,F,st,ft,lt;function yt(Wt,Bt,Qt){return Qt<0&&(Qt+=1),Qt>1&&(Qt-=1),Qt<1/6?Wt+6*(Bt-Wt)*Qt:Qt<.5?Bt:Qt<2/3?Wt+(Bt-Wt)*(2/3-Qt)*6:Wt}var Ct=new RegExp("^hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(f);if(Ct){if((E=parseInt(Ct[1]))<0?E=(360- -1*E%360)%360:E>360&&(E%=360),E/=360,(O=parseFloat(Ct[2]))<0||O>100||(O/=100,(L=parseFloat(Ct[3]))<0||L>100)||(L/=100,void 0!==(F=Ct[4])&&((F=parseFloat(F))<0||F>1)))return;if(0===O)st=ft=lt=Math.round(255*L);else{var Lt=L<.5?L*(1+O):L+O-L*O,zt=2*L-Lt;st=Math.round(255*yt(zt,Lt,E+1/3)),ft=Math.round(255*yt(zt,Lt,E)),lt=Math.round(255*yt(zt,Lt,E-1/3))}w=[st,ft,lt,F]}return w}(f)}(f);return si?{name:x,value:si,pfValue:si,strValue:"rgb("+si[0]+","+si[1]+","+si[2]+")",bypass:w}:null}if(lt.regex||lt.regexes){if(lt.enums){var Hi=ze();if(Hi)return Hi}for(var Ne=lt.regexes?lt.regexes:[lt.regex],zi=0;zi<Ne.length;zi++){var wi=new RegExp(Ne[zi]).exec(f);if(wi)return{name:x,value:lt.singleRegexMatchValue?wi[1]:wi,strValue:""+f,bypass:w}}return null}return lt.string?{name:x,value:""+f,strValue:""+f,bypass:w}:lt.enums?ze():null};var Go=function x(f){if(!(this instanceof x))return new x(f);M(f)?(this._private={cy:f,coreStyle:{}},this.length=0,this.resetToDefault()):$e("A style must have a core reference")},ro=Go.prototype;ro.instanceString=function(){return"style"},ro.clear=function(){for(var x=this._private,w=x.cy.elements(),E=0;E<this.length;E++)this[E]=void 0;return this.length=0,x.contextStyles={},x.propDiffs={},this.cleanElements(w,!0),w.forEach(function(O){var L=O[0]._private;L.styleDirty=!0,L.appliedInitStyle=!1}),this},ro.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},ro.core=function(x){return this._private.coreStyle[x]||this.getDefaultProperty(x)},ro.selector=function(x){var f="core"===x?null:new Jc(x),w=this.length++;return this[w]={selector:f,properties:[],mappedProperties:[],index:w},this},ro.css=function(){var x=this,f=arguments;if(1===f.length)for(var w=f[0],E=0;E<x.properties.length;E++){var O=x.properties[E],L=w[O.name];void 0===L&&(L=w[wt(O.name)]),void 0!==L&&this.cssRule(O.name,L)}else 2===f.length&&this.cssRule(f[0],f[1]);return this},ro.style=ro.css,ro.cssRule=function(x,f){var w=this.parse(x,f);if(w){var E=this.length-1;this[E].properties.push(w),this[E].properties[w.name]=w,w.name.match(/pie-(\d+)-background-size/)&&w.value&&(this._private.hasPie=!0),w.mapped&&this[E].mappedProperties.push(w),!this[E].selector&&(this._private.coreStyle[w.name]=w)}return this},ro.append=function(x){return S(x)?x.appendToStyle(this):gt(x)?this.appendFromJson(x):rt(x)&&this.appendFromString(x),this},Go.fromJson=function(x,f){var w=new Go(x);return w.fromJson(f),w},Go.fromString=function(x,f){return new Go(x).fromString(f)},[bo,Kn,lf,Bs,Ri,qr,qn,Vs].forEach(function(x){Ht(ro,x)}),Go.types=ro.types,Go.properties=ro.properties,Go.propertyGroups=ro.propertyGroups,Go.propertyGroupNames=ro.propertyGroupNames,Go.propertyGroupKeys=ro.propertyGroupKeys;var Ts={style:function(f){return f&&this.setStyle(f).update(),this._private.style},setStyle:function(f){var w=this._private;return w.style=S(f)?f.generateStyle(this):gt(f)?Go.fromJson(this,f):rt(f)?Go.fromString(this,f):Go(this),w.style},updateStyle:function(){this.mutableElements().updateStyle()}},uc={autolock:function(f){return void 0===f?this._private.autolock:(this._private.autolock=!!f,this)},autoungrabify:function(f){return void 0===f?this._private.autoungrabify:(this._private.autoungrabify=!!f,this)},autounselectify:function(f){return void 0===f?this._private.autounselectify:(this._private.autounselectify=!!f,this)},selectionType:function(f){var w=this._private;return null==w.selectionType&&(w.selectionType="single"),void 0===f?w.selectionType:(("additive"===f||"single"===f)&&(w.selectionType=f),this)},panningEnabled:function(f){return void 0===f?this._private.panningEnabled:(this._private.panningEnabled=!!f,this)},userPanningEnabled:function(f){return void 0===f?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!f,this)},zoomingEnabled:function(f){return void 0===f?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!f,this)},userZoomingEnabled:function(f){return void 0===f?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!f,this)},boxSelectionEnabled:function(f){return void 0===f?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!f,this)},pan:function(){var E,O,L,F,st,f=arguments,w=this._private.pan;switch(f.length){case 0:return w;case 1:if(rt(f[0]))return w[E=f[0]];if(Et(f[0])){if(!this._private.panningEnabled)return this;st=(L=f[0]).y,Mt(F=L.x)&&(w.x=F),Mt(st)&&(w.y=st),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;O=f[1],("x"===(E=f[0])||"y"===E)&&Mt(O)&&(w[E]=O),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(f,w){var L,F,st,ft,lt,E=arguments,O=this._private.pan;if(!this._private.panningEnabled)return this;switch(E.length){case 1:Et(f)&&(lt=(st=E[0]).y,Mt(ft=st.x)&&(O.x+=ft),Mt(lt)&&(O.y+=lt),this.emit("pan viewport"));break;case 2:F=w,("x"===(L=f)||"y"===L)&&Mt(F)&&(O[L]+=F),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(f,w){var E=this.getFitViewport(f,w);if(E){var O=this._private;O.zoom=E.zoom,O.pan=E.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(f,w){var E;if((Mt(f)&&void 0===w&&(w=f,f=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(rt(f)?f=this.$(f):!function(f){return Et(f)&&Mt(f.x1)&&Mt(f.x2)&&Mt(f.y1)&&Mt(f.y2)}(f)?m(f)||(f=this.mutableElements()):((E={x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2}).w=E.x2-E.x1,E.h=E.y2-E.y1),!m(f)||!f.empty())){E=E||f.boundingBox();var ft,F=this.width(),st=this.height();if(w=Mt(w)?w:0,!isNaN(F)&&!isNaN(st)&&F>0&&st>0&&!isNaN(E.w)&&!isNaN(E.h)&&E.w>0&&E.h>0)return{zoom:ft=(ft=(ft=Math.min((F-2*w)/E.w,(st-2*w)/E.h))>this._private.maxZoom?this._private.maxZoom:ft)<this._private.minZoom?this._private.minZoom:ft,pan:{x:(F-ft*(E.x1+E.x2))/2,y:(st-ft*(E.y1+E.y2))/2}}}},zoomRange:function(f,w){var E=this._private;if(null==w){var O=f;f=O.min,w=O.max}return Mt(f)&&Mt(w)&&f<=w?(E.minZoom=f,E.maxZoom=w):Mt(f)&&void 0===w&&f<=E.maxZoom?E.minZoom=f:Mt(w)&&void 0===f&&w>=E.minZoom&&(E.maxZoom=w),this},minZoom:function(f){return void 0===f?this._private.minZoom:this.zoomRange({min:f})},maxZoom:function(f){return void 0===f?this._private.maxZoom:this.zoomRange({max:f})},getZoomedViewport:function(f){var L,F,w=this._private,E=w.pan,O=w.zoom,st=!1;return w.zoomingEnabled||(st=!0),Mt(f)?F=f:Et(f)&&(F=f.level,null!=f.position?L=X0(f.position,O,E):null!=f.renderedPosition&&(L=f.renderedPosition),null!=L&&!w.panningEnabled&&(st=!0)),F=(F=F>w.maxZoom?w.maxZoom:F)<w.minZoom?w.minZoom:F,!st&&Mt(F)&&F!==O&&(null==L||Mt(L.x)&&Mt(L.y))?null!=L?{zoomed:!0,panned:!0,zoom:F,pan:{x:-F/O*(L.x-E.x)+L.x,y:-F/O*(L.y-E.y)+L.y}}:{zoomed:!0,panned:!1,zoom:F,pan:E}:null},zoom:function(f){if(void 0===f)return this._private.zoom;var w=this.getZoomedViewport(f),E=this._private;return null!=w&&w.zoomed?(E.zoom=w.zoom,w.panned&&(E.pan.x=w.pan.x,E.pan.y=w.pan.y),this.emit("zoom"+(w.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(f){var w=this._private,E=!0,O=!0,L=[],F=!1,st=!1;if(!f)return this;if(Mt(f.zoom)||(E=!1),Et(f.pan)||(O=!1),!E&&!O)return this;if(E){var ft=f.zoom;ft<w.minZoom||ft>w.maxZoom||!w.zoomingEnabled?F=!0:(w.zoom=ft,L.push("zoom"))}if(O&&(!F||!f.cancelOnFailedZoom)&&w.panningEnabled){var lt=f.pan;Mt(lt.x)&&(w.pan.x=lt.x,st=!1),Mt(lt.y)&&(w.pan.y=lt.y,st=!1),st||L.push("pan")}return L.length>0&&(L.push("viewport"),this.emit(L.join(" ")),this.notify("viewport")),this},center:function(f){var w=this.getCenterPan(f);return w&&(this._private.pan=w,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(f,w){if(this._private.panningEnabled){if(rt(f)){var E=f;f=this.mutableElements().filter(E)}else m(f)||(f=this.mutableElements());if(0!==f.length){var O=f.boundingBox(),L=this.width(),F=this.height();return{x:(L-(w=void 0===w?this._private.zoom:w)*(O.x1+O.x2))/2,y:(F-w*(O.y1+O.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var E,O,f=this._private,w=f.container;return f.sizeCache=f.sizeCache||(w?(E=N.getComputedStyle(w),{width:w.clientWidth-(O=function(F){return parseFloat(E.getPropertyValue(F))})("padding-left")-O("padding-right"),height:w.clientHeight-O("padding-top")-O("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var f=this._private.pan,w=this._private.zoom,E=this.renderedExtent(),O={x1:(E.x1-f.x)/w,x2:(E.x2-f.x)/w,y1:(E.y1-f.y)/w,y2:(E.y2-f.y)/w};return O.w=O.x2-O.x1,O.h=O.y2-O.y1,O},renderedExtent:function(){var f=this.width(),w=this.height();return{x1:0,y1:0,x2:f,y2:w,w:f,h:w}},multiClickDebounceTime:function(f){return f?(this._private.multiClickDebounceTime=f,this):this._private.multiClickDebounceTime}};uc.centre=uc.center,uc.autolockNodes=uc.autolock,uc.autoungrabifyNodes=uc.autoungrabify;var hc={data:Mo.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Mo.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Mo.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Mo.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};hc.attr=hc.data,hc.removeAttr=hc.removeData;var ta=function(f){var w=this,E=(f=Ht({},f)).container;E&&!h(E)&&h(E[0])&&(E=E[0]);var O=E?E._cyreg:null;(O=O||{})&&O.cy&&(O.cy.destroy(),O={});var L=O.readies=O.readies||[];E&&(E._cyreg=O),O.cy=w;var F=void 0!==N&&void 0!==E&&!f.headless,st=f;st.layout=Ht({name:F?"grid":"null"},st.layout),st.renderer=Ht({name:F?"canvas":"null"},st.renderer);var ft=function(Wt,Bt,Qt){return void 0!==Bt?Bt:void 0!==Qt?Qt:Wt},lt=this._private={container:E,ready:!1,options:st,elements:new po(this),listeners:[],aniEles:new po(this),data:st.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:ft(!0,st.zoomingEnabled),userZoomingEnabled:ft(!0,st.userZoomingEnabled),panningEnabled:ft(!0,st.panningEnabled),userPanningEnabled:ft(!0,st.userPanningEnabled),boxSelectionEnabled:ft(!0,st.boxSelectionEnabled),autolock:ft(!1,st.autolock,st.autolockNodes),autoungrabify:ft(!1,st.autoungrabify,st.autoungrabifyNodes),autounselectify:ft(!1,st.autounselectify),styleEnabled:void 0===st.styleEnabled?F:st.styleEnabled,zoom:Mt(st.zoom)?st.zoom:1,pan:{x:Et(st.pan)&&Mt(st.pan.x)?st.pan.x:0,y:Et(st.pan)&&Mt(st.pan.y)?st.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:ft(250,st.multiClickDebounceTime)};this.createEmitter(),this.selectionType(st.selectionType),this.zoomRange({min:st.minZoom,max:st.maxZoom}),lt.styleEnabled&&w.setStyle([]);var Ct=Ht({},st,st.renderer);w.initRenderer(Ct),function(Wt,Bt){if(Wt.some(nt))return Hd.all(Wt).then(Bt);Bt(Wt)}([st.style,st.elements],function(zt){var Wt=zt[0],Bt=zt[1];lt.styleEnabled&&w.style().append(Wt),function(Wt,Bt,Qt){w.notifications(!1);var re=w.mutableElements();re.length>0&&re.remove(),null!=Wt&&(Et(Wt)||gt(Wt))&&w.add(Wt),w.one("layoutready",function(ue){w.notifications(!0),w.emit(ue),w.one("load",Bt),w.emitAndNotify("load")}).one("layoutstop",function(){w.one("done",Qt),w.emit("done")});var le=Ht({},w._private.options.layout);le.eles=w.elements(),w.layout(le).run()}(Bt,function(){w.startAnimationLoop(),lt.ready=!0,mt(st.ready)&&w.on("ready",st.ready);for(var Qt=0;Qt<L.length;Qt++)w.on("ready",L[Qt]);O&&(O.readies=[]),w.emit("ready")},st.done)})},js=ta.prototype;Ht(js,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(f){return this.isReady()?this.emitter().emit("ready",[],f):this.on("ready",f),this},destroy:function(){var f=this;if(!f.destroyed())return f.stopAnimationLoop(),f.destroyRenderer(),this.emit("destroy"),f._private.destroyed=!0,f},hasElementWithId:function(f){return this._private.elements.hasElementWithId(f)},getElementById:function(f){return this._private.elements.getElementById(f)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(f){return this._private.elements.merge(f),this},removeFromPool:function(f){return this._private.elements.unmerge(f),this},container:function(){return this._private.container||null},mount:function(f){if(null!=f){var w=this,E=w._private,O=E.options;return!h(f)&&h(f[0])&&(f=f[0]),w.stopAnimationLoop(),w.destroyRenderer(),E.container=f,E.styleEnabled=!0,w.invalidateSize(),w.initRenderer(Ht({},O,O.renderer,{name:"null"===O.renderer.name?"canvas":O.renderer.name})),w.startAnimationLoop(),w.style(O.style),w.emit("mount"),w}},unmount:function(){var f=this;return f.stopAnimationLoop(),f.destroyRenderer(),f.initRenderer({name:"null"}),f.emit("unmount"),f},options:function(){return qe(this._private.options)},json:function(f){var w=this,E=w._private,O=w.mutableElements();if(Et(f)){if(w.startBatch(),f.elements){var F={},st=function(xe,Be){for(var je=[],ye=[],Ve=0;Ve<xe.length;Ve++){var De=xe[Ve];if(De.data.id){var Ye=""+De.data.id,ze=w.getElementById(Ye);F[Ye]=!0,0!==ze.length?ye.push({ele:ze,json:De}):(Be&&(De.group=Be),je.push(De))}else Ie("cy.json() cannot handle elements without an ID attribute")}w.add(je);for(var Oe=0;Oe<ye.length;Oe++){var Ze=ye[Oe];Ze.ele.json(Ze.json)}};if(gt(f.elements))st(f.elements);else for(var ft=["nodes","edges"],lt=0;lt<ft.length;lt++){var yt=ft[lt],Ct=f.elements[yt];gt(Ct)&&st(Ct,yt)}var Lt=w.collection();O.filter(function(ue){return!F[ue.id()]}).forEach(function(ue){ue.isParent()?Lt.merge(ue):ue.remove()}),Lt.forEach(function(ue){return ue.children().move({parent:null})}),Lt.forEach(function(ue){return(xe=ue,w.getElementById(xe.id())).remove();var xe})}f.style&&w.style(f.style),null!=f.zoom&&f.zoom!==E.zoom&&w.zoom(f.zoom),f.pan&&(f.pan.x!==E.pan.x||f.pan.y!==E.pan.y)&&w.pan(f.pan),f.data&&w.data(f.data);for(var zt=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],Wt=0;Wt<zt.length;Wt++){var Bt=zt[Wt];null!=f[Bt]&&w[Bt](f[Bt])}return w.endBatch(),this}var re={};f?re.elements=this.elements().map(function(ue){return ue.json()}):(re.elements={},O.forEach(function(ue){var xe=ue.group();re.elements[xe]||(re.elements[xe]=[]),re.elements[xe].push(ue.json())})),this._private.styleEnabled&&(re.style=w.style().json()),re.data=qe(w.data());var le=E.options;return re.zoomingEnabled=E.zoomingEnabled,re.userZoomingEnabled=E.userZoomingEnabled,re.zoom=E.zoom,re.minZoom=E.minZoom,re.maxZoom=E.maxZoom,re.panningEnabled=E.panningEnabled,re.userPanningEnabled=E.userPanningEnabled,re.pan=qe(E.pan),re.boxSelectionEnabled=E.boxSelectionEnabled,re.renderer=qe(le.renderer),re.hideEdgesOnViewport=le.hideEdgesOnViewport,re.textureOnViewport=le.textureOnViewport,re.wheelSensitivity=le.wheelSensitivity,re.motionBlur=le.motionBlur,re.multiClickDebounceTime=le.multiClickDebounceTime,re}}),js.$id=js.getElementById,[Eu,un,af,Ay,qg,h0,Qf,ku,Ts,uc,hc].forEach(function(x){Ht(js,x)});var Au={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(f,w){return!0},ready:void 0,stop:void 0,transform:function(f,w){return w}},zl=function(f){return f.scratch("breadthfirst")},Jg=function(f,w){return f.scratch("breadthfirst",w)};function tv(x){this.options=Ht({},Au,x)}tv.prototype.run=function(){var lt,x=this.options,f=x,w=x.cy,E=f.eles,O=E.nodes().filter(function(Sn){return!Sn.isParent()}),L=E,F=f.directed,st=f.maximal||f.maximalAdjustments>0,ft=Zo(f.boundingBox?f.boundingBox:{x1:0,y1:0,w:w.width(),h:w.height()});if(m(f.roots))lt=f.roots;else if(gt(f.roots)){for(var yt=[],Ct=0;Ct<f.roots.length;Ct++){var zt=w.getElementById(f.roots[Ct]);yt.push(zt)}lt=w.collection(yt)}else if(rt(f.roots))lt=w.$(f.roots);else if(F)lt=O.roots();else{var Wt=E.components();lt=w.collection();for(var Bt=function(dn){var hr=Wt[dn],Xn=hr.maxDegree(!1),An=hr.filter(function(ir){return ir.degree(!1)===Xn});lt=lt.add(An)},Qt=0;Qt<Wt.length;Qt++)Bt(Qt)}var re=[],le={},ue=function(dn,hr){null==re[hr]&&(re[hr]=[]);var Xn=re[hr].length;re[hr].push(dn),Jg(dn,{index:Xn,depth:hr})};L.bfs({roots:lt,directed:f.directed,visit:function(dn,hr,Xn,An,ir){var Co=dn[0],mo=Co.id();ue(Co,ir),le[mo]=!0}});for(var Be=[],je=0;je<O.length;je++){var ye=O[je];le[ye.id()]||Be.push(ye)}var Ve=function(dn){for(var hr=re[dn],Xn=0;Xn<hr.length;Xn++){var An=hr[Xn];null!=An?Jg(An,{depth:dn,index:Xn}):(hr.splice(Xn,1),Xn--)}},De=function(){for(var dn=0;dn<re.length;dn++)Ve(dn)},Ye=function(dn,hr){for(var Xn=zl(dn),An=dn.incomers().filter(function(Ae){return Ae.isNode()&&E.has(Ae)}),ir=-1,Co=dn.id(),mo=0;mo<An.length;mo++){var ai=zl(An[mo]);ir=Math.max(ir,ai.depth)}return Xn.depth<=ir&&(hr[Co]?null:(function(dn,hr){var Xn=zl(dn);re[Xn.depth][Xn.index]=null,ue(dn,hr)}(dn,ir+1),hr[Co]=!0,!0))};if(F&&st){var ze=[],Oe={},Ze=function(dn){return ze.push(dn)};for(O.forEach(function(Sn){return ze.push(Sn)});ze.length>0;){var Mi=ze.shift(),hi=Ye(Mi,Oe);if(hi)Mi.outgoers().filter(function(Sn){return Sn.isNode()&&E.has(Sn)}).forEach(Ze);else if(null===hi){Ie("Detected double maximal shift for node `"+Mi.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}De();var Ci=0;if(f.avoidOverlap)for(var fi=0;fi<O.length;fi++){var Li=O[fi].layoutDimensions(f);Ci=Math.max(Ci,Li.w,Li.h)}for(var Hi={},Ne=function(dn){if(Hi[dn.id()])return Hi[dn.id()];for(var hr=zl(dn).depth,Xn=dn.neighborhood(),An=0,ir=0,Co=0;Co<Xn.length;Co++){var mo=Xn[Co];if(!mo.isEdge()&&!mo.isParent()&&O.has(mo)){var Xr=zl(mo);if(null!=Xr){var ai=Xr.index,Ae=Xr.depth;null!=ai&&null!=Ae&&Ae<hr&&(An+=ai/re[Ae].length,ir++)}}}return An/=ir=Math.max(1,ir),0===ir&&(An=0),Hi[dn.id()]=An,An},zi=function(dn,hr){var ir=Ne(dn)-Ne(hr);return 0===ir?Vt(dn.id(),hr.id()):ir},ji=0;ji<re.length;ji++)re[ji].sort(zi),Ve(ji);for(var wi=[],Oi=0;Oi<Be.length;Oi++)wi.push(Be[Oi]);re.unshift(wi),De();for(var Gi=0,qi=0;qi<re.length;qi++)Gi=Math.max(re[qi].length,Gi);var gn_x=ft.x1+ft.w/2,gn_y=ft.x1+ft.h/2,mr=re.reduce(function(Sn,dn){return Math.max(Sn,dn.length)},0);return E.nodes().layoutPositions(this,f,function(dn){var hr=zl(dn),Xn=hr.depth,An=hr.index,ir=re[Xn].length,Co=Math.max(ft.w/((f.grid?mr:ir)+1),Ci),mo=Math.max(ft.h/(re.length+1),Ci),Xr=Math.min(ft.w/2/re.length,ft.h/2/re.length);if(Xr=Math.max(Xr,Ci),f.circle){var Ae=Xr*Xn+Xr-(re.length>0&&re[0].length<=3?Xr/2:0),Ii=2*Math.PI/re[Xn].length*An;return 0===Xn&&1===re[0].length&&(Ae=1),{x:gn_x+Ae*Math.cos(Ii),y:gn_y+Ae*Math.sin(Ii)}}return{x:gn_x+(An+1-(ir+1)/2)*Co,y:(Xn+1)*mo}}),this};var wx={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(f,w){return!0},ready:void 0,stop:void 0,transform:function(f,w){return w}};function fa(x){this.options=Ht({},wx,x)}fa.prototype.run=function(){var x=this.options,f=x,w=x.cy,E=f.eles,O=void 0!==f.counterclockwise?!f.counterclockwise:f.clockwise,L=E.nodes().not(":parent");f.sort&&(L=L.sort(f.sort));for(var yt,F=Zo(f.boundingBox?f.boundingBox:{x1:0,y1:0,w:w.width(),h:w.height()}),st={x:F.x1+F.w/2,y:F.y1+F.h/2},lt=(void 0===f.sweep?2*Math.PI-2*Math.PI/L.length:f.sweep)/Math.max(1,L.length-1),Ct=0,Lt=0;Lt<L.length;Lt++){var Wt=L[Lt].layoutDimensions(f);Ct=Math.max(Ct,Wt.w,Wt.h)}if(yt=Mt(f.radius)?f.radius:L.length<=1?0:Math.min(F.h,F.w)/2-Ct,L.length>1&&f.avoidOverlap){Ct*=1.75;var re=Math.cos(lt)-Math.cos(0),le=Math.sin(lt)-Math.sin(0),ue=Math.sqrt(Ct*Ct/(re*re+le*le));yt=Math.max(ue,yt)}return E.nodes().layoutPositions(this,f,function(je,ye){var Ve=f.startAngle+ye*lt*(O?1:-1),De=yt*Math.cos(Ve),Ye=yt*Math.sin(Ve);return{x:st.x+De,y:st.y+Ye}}),this};var ev={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(f){return f.degree()},levelWidth:function(f){return f.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(f,w){return!0},ready:void 0,stop:void 0,transform:function(f,w){return w}};function iv(x){this.options=Ht({},ev,x)}iv.prototype.run=function(){for(var x=this.options,f=x,w=void 0!==f.counterclockwise?!f.counterclockwise:f.clockwise,E=x.cy,O=f.eles,L=O.nodes().not(":parent"),F=Zo(f.boundingBox?f.boundingBox:{x1:0,y1:0,w:E.width(),h:E.height()}),st={x:F.x1+F.w/2,y:F.y1+F.h/2},ft=[],lt=0,yt=0;yt<L.length;yt++){var Lt,Ct=L[yt];Lt=f.concentric(Ct),ft.push({value:Lt,node:Ct}),Ct._private.scratch.concentric=Lt}L.updateStyle();for(var zt=0;zt<L.length;zt++){var Bt=L[zt].layoutDimensions(f);lt=Math.max(lt,Bt.w,Bt.h)}ft.sort(function(Sn,dn){return dn.value-Sn.value});for(var Qt=f.levelWidth(L),re=[[]],le=re[0],ue=0;ue<ft.length;ue++){var xe=ft[ue];le.length>0&&Math.abs(le[0].value-xe.value)>=Qt&&re.push(le=[]),le.push(xe)}var je=lt+f.minNodeSpacing;if(!f.avoidOverlap){var ye=re.length>0&&re[0].length>1,Ve=Math.min(F.w,F.h)/2-je;je=Math.min(je,Ve/(re.length+ye?1:0))}for(var Ye=0,ze=0;ze<re.length;ze++){var Oe=re[ze],Ze=void 0===f.sweep?2*Math.PI-2*Math.PI/Oe.length:f.sweep,Le=Oe.dTheta=Ze/Math.max(1,Oe.length-1);if(Oe.length>1&&f.avoidOverlap){var Mi=Math.cos(Le)-Math.cos(0),hi=Math.sin(Le)-Math.sin(0),Ci=Math.sqrt(je*je/(Mi*Mi+hi*hi));Ye=Math.max(Ci,Ye)}Oe.r=Ye,Ye+=je}if(f.equidistant){for(var fi=0,xi=0,Li=0;Li<re.length;Li++)fi=Math.max(fi,re[Li].r-xi);xi=0;for(var Hi=0;Hi<re.length;Hi++){var Ne=re[Hi];0===Hi&&(xi=Ne.r),Ne.r=xi,xi+=fi}}for(var zi={},ji=0;ji<re.length;ji++)for(var wi=re[ji],Oi=wi.dTheta,Gi=wi.r,qi=0;qi<wi.length;qi++){var gn=wi[qi],mr=f.startAngle+(w?1:-1)*Oi*qi,wr={x:st.x+Gi*Math.cos(mr),y:st.y+Gi*Math.sin(mr)};zi[gn.node.id()]=wr}return O.nodes().layoutPositions(this,f,function(Sn){var dn=Sn.id();return zi[dn]}),this};var $u,wl={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(f,w){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(f){return 2048},nodeOverlap:4,idealEdgeLength:function(f){return 32},edgeElasticity:function(f){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function kh(x){this.options=Ht({},wl,x),this.options.layout=this}kh.prototype.run=function(){var x=this.options,f=x.cy,w=this;w.stopped=!1,(!0===x.animate||!1===x.animate)&&w.emit({type:"layoutstart",layout:w}),$u=!0===x.debug;var E=cc(f,w,x);$u&&(void 0)(E),x.randomize&&c0(E);var O=he(),L=function(){dc(E,f,x),!0===x.fit&&f.fit(x.padding)},F=function(Lt){return!(w.stopped||Lt>=x.numIter||(Aa(E,x),E.temperature=E.temperature*x.coolingFactor,E.temperature<x.minTemp))},st=function(){if(!0===x.animate||!1===x.animate)L(),w.one("layoutstop",x.stop),w.emit({type:"layoutstop",layout:w});else{var Lt=x.eles.nodes(),zt=fc(E,x,Lt);Lt.layoutPositions(w,x,zt)}},ft=0,lt=!0;if(!0===x.animate)!function Ct(){for(var Lt=0;lt&&Lt<x.refresh;)lt=F(ft),ft++,Lt++;lt?(he()-O>=x.animationThreshold&&L(),qt(Ct)):(id(E,x),st())}();else{for(;lt;)lt=F(ft),ft++;id(E,x),st()}return this},kh.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},kh.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var cc=function(f,w,E){for(var O=E.eles.edges(),L=E.eles.nodes(),F={isCompound:f.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:L.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:O.size(),temperature:E.initialTemp,clientWidth:f.width(),clientHeight:f.width(),boundingBox:Zo(E.boundingBox?E.boundingBox:{x1:0,y1:0,w:f.width(),h:f.height()})},st=E.eles.components(),ft={},lt=0;lt<st.length;lt++)for(var yt=st[lt],Ct=0;Ct<yt.length;Ct++)ft[yt[Ct].id()]=lt;for(lt=0;lt<F.nodeSize;lt++){var Wt=(zt=L[lt]).layoutDimensions(E);(Bt={}).isLocked=zt.locked(),Bt.id=zt.data("id"),Bt.parentId=zt.data("parent"),Bt.cmptId=ft[zt.id()],Bt.children=[],Bt.positionX=zt.position("x"),Bt.positionY=zt.position("y"),Bt.offsetX=0,Bt.offsetY=0,Bt.height=Wt.w,Bt.width=Wt.h,Bt.maxX=Bt.positionX+Bt.width/2,Bt.minX=Bt.positionX-Bt.width/2,Bt.maxY=Bt.positionY+Bt.height/2,Bt.minY=Bt.positionY-Bt.height/2,Bt.padLeft=parseFloat(zt.style("padding")),Bt.padRight=parseFloat(zt.style("padding")),Bt.padTop=parseFloat(zt.style("padding")),Bt.padBottom=parseFloat(zt.style("padding")),Bt.nodeRepulsion=mt(E.nodeRepulsion)?E.nodeRepulsion(zt):E.nodeRepulsion,F.layoutNodes.push(Bt),F.idToIndex[Bt.id]=lt}var Qt=[],re=0,le=-1,ue=[];for(lt=0;lt<F.nodeSize;lt++){var zt,xe=(zt=F.layoutNodes[lt]).parentId;null!=xe?F.layoutNodes[F.idToIndex[xe]].children.push(zt.id):(Qt[++le]=zt.id,ue.push(zt.id))}for(F.graphSet.push(ue);re<=le;){var Be=Qt[re++],ye=F.layoutNodes[F.idToIndex[Be]].children;if(ye.length>0)for(F.graphSet.push(ye),lt=0;lt<ye.length;lt++)Qt[++le]=ye[lt]}for(lt=0;lt<F.graphSet.length;lt++){var Ve=F.graphSet[lt];for(Ct=0;Ct<Ve.length;Ct++)F.indexToGraph[F.idToIndex[Ve[Ct]]]=lt}for(lt=0;lt<F.edgeSize;lt++){var Ye=O[lt],ze={};ze.id=Ye.data("id"),ze.sourceId=Ye.data("source"),ze.targetId=Ye.data("target");var Oe=mt(E.idealEdgeLength)?E.idealEdgeLength(Ye):E.idealEdgeLength,Ze=mt(E.edgeElasticity)?E.edgeElasticity(Ye):E.edgeElasticity,Le=F.idToIndex[ze.sourceId],Mi=F.idToIndex[ze.targetId];if(F.indexToGraph[Le]!=F.indexToGraph[Mi]){for(var fi=Jf(ze.sourceId,ze.targetId,F),xi=F.graphSet[fi],Li=0,Bt=F.layoutNodes[Le];-1===xi.indexOf(Bt.id);)Bt=F.layoutNodes[F.idToIndex[Bt.parentId]],Li++;for(Bt=F.layoutNodes[Mi];-1===xi.indexOf(Bt.id);)Bt=F.layoutNodes[F.idToIndex[Bt.parentId]],Li++;Oe*=Li*E.nestingFactor}ze.idealLength=Oe,ze.elasticity=Ze,F.layoutEdges.push(ze)}return F},Jf=function(f,w,E){var O=uf(f,w,0,E);return 2>O.count?0:O.graph},uf=function x(f,w,E,O){var L=O.graphSet[E];if(-1<L.indexOf(f)&&-1<L.indexOf(w))return{count:2,graph:E};for(var F=0,st=0;st<L.length;st++){var yt=O.layoutNodes[O.idToIndex[L[st]]].children;if(0!==yt.length){var Lt=x(f,w,O.indexToGraph[O.idToIndex[yt[0]]],O);if(0!==Lt.count){if(1!==Lt.count)return Lt;if(2==++F)break}}}return{count:F,graph:E}},c0=function(f,w){for(var E=f.clientWidth,O=f.clientHeight,L=0;L<f.nodeSize;L++){var F=f.layoutNodes[L];0===F.children.length&&!F.isLocked&&(F.positionX=Math.random()*E,F.positionY=Math.random()*O)}},fc=function(f,w,E){var O=f.boundingBox,L={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return w.boundingBox&&(E.forEach(function(F){var st=f.layoutNodes[f.idToIndex[F.data("id")]];L.x1=Math.min(L.x1,st.positionX),L.x2=Math.max(L.x2,st.positionX),L.y1=Math.min(L.y1,st.positionY),L.y2=Math.max(L.y2,st.positionY)}),L.w=L.x2-L.x1,L.h=L.y2-L.y1),function(F,st){var ft=f.layoutNodes[f.idToIndex[F.data("id")]];return w.boundingBox?{x:O.x1+(ft.positionX-L.x1)/L.w*O.w,y:O.y1+(ft.positionY-L.y1)/L.h*O.h}:{x:ft.positionX,y:ft.positionY}}},dc=function(f,w,E){var O=E.layout,L=E.eles.nodes(),F=fc(f,E,L);L.positions(F),!0!==f.ready&&(f.ready=!0,O.one("layoutready",E.ready),O.emit({type:"layoutready",layout:this}))},Aa=function(f,w,E){Wa(f,w),Py(f),Iu(f,w),pc(f),hf(f)},Wa=function(f,w){for(var E=0;E<f.graphSet.length;E++)for(var O=f.graphSet[E],L=O.length,F=0;F<L;F++)for(var st=f.layoutNodes[f.idToIndex[O[F]]],ft=F+1;ft<L;ft++)Pu(st,f.layoutNodes[f.idToIndex[O[ft]]],f,w)},Tu=function(f){return-f+2*f*Math.random()},Pu=function(f,w,E,O){if(f.cmptId===w.cmptId||E.isCompound){var st=w.positionX-f.positionX,ft=w.positionY-f.positionY;0===st&&0===ft&&(st=Tu(1),ft=Tu(1));var yt=bx(f,w,st,ft);if(yt>0)var zt=(Ct=O.nodeOverlap*yt)*st/(Lt=Math.sqrt(st*st+ft*ft)),Wt=Ct*ft/Lt;else{var Ct,Bt=pi(f,st,ft),Qt=pi(w,-1*st,-1*ft),re=Qt.x-Bt.x,le=Qt.y-Bt.y,ue=re*re+le*le,Lt=Math.sqrt(ue);zt=(Ct=(f.nodeRepulsion+w.nodeRepulsion)/ue)*re/Lt,Wt=Ct*le/Lt}f.isLocked||(f.offsetX-=zt,f.offsetY-=Wt),w.isLocked||(w.offsetX+=zt,w.offsetY+=Wt)}},bx=function(f,w,E,O){if(E>0)var L=f.maxX-w.minX;else L=w.maxX-f.minX;if(O>0)var F=f.maxY-w.minY;else F=w.maxY-f.minY;return L>=0&&F>=0?Math.sqrt(L*L+F*F):0},pi=function(f,w,E){var O=f.positionX,L=f.positionY,F=f.height||1,st=f.width||1,ft=E/w,lt=F/st,yt={};return 0===w&&0<E||0===w&&0>E?(yt.x=O,yt.y=L+F/2,yt):0<w&&-1*lt<=ft&&ft<=lt?(yt.x=O+st/2,yt.y=L+st*E/2/w,yt):0>w&&-1*lt<=ft&&ft<=lt?(yt.x=O-st/2,yt.y=L-st*E/2/w,yt):0<E&&(ft<=-1*lt||ft>=lt)?(yt.x=O+F*w/2/E,yt.y=L+F/2,yt):(0>E&&(ft<=-1*lt||ft>=lt)&&(yt.x=O-F*w/2/E,yt.y=L-F/2),yt)},Py=function(f,w){for(var E=0;E<f.edgeSize;E++){var O=f.layoutEdges[E],F=f.layoutNodes[f.idToIndex[O.sourceId]],ft=f.layoutNodes[f.idToIndex[O.targetId]],lt=ft.positionX-F.positionX,yt=ft.positionY-F.positionY;if(0!==lt||0!==yt){var Ct=pi(F,lt,yt),Lt=pi(ft,-1*lt,-1*yt),zt=Lt.x-Ct.x,Wt=Lt.y-Ct.y,Bt=Math.sqrt(zt*zt+Wt*Wt),Qt=Math.pow(O.idealLength-Bt,2)/O.elasticity;if(0!==Bt)var re=Qt*zt/Bt,le=Qt*Wt/Bt;else re=0,le=0;F.isLocked||(F.offsetX+=re,F.offsetY+=le),ft.isLocked||(ft.offsetX-=re,ft.offsetY-=le)}}},Iu=function(f,w){if(0!==w.gravity)for(var O=0;O<f.graphSet.length;O++){var L=f.graphSet[O],F=L.length;if(0===O)var st=f.clientHeight/2,ft=f.clientWidth/2;else{var yt=f.layoutNodes[f.idToIndex[f.layoutNodes[f.idToIndex[L[0]]].parentId]];st=yt.positionX,ft=yt.positionY}for(var Ct=0;Ct<F;Ct++){var Lt=f.layoutNodes[f.idToIndex[L[Ct]]];if(!Lt.isLocked){var zt=st-Lt.positionX,Wt=ft-Lt.positionY,Bt=Math.sqrt(zt*zt+Wt*Wt);if(Bt>1){var re=w.gravity*Wt/Bt;Lt.offsetX+=w.gravity*zt/Bt,Lt.offsetY+=re}}}}},pc=function(f,w){var E=[],O=0,L=-1;for(E.push.apply(E,f.graphSet[0]),L+=f.graphSet[0].length;O<=L;){var F=E[O++],ft=f.layoutNodes[f.idToIndex[F]],lt=ft.children;if(0<lt.length&&!ft.isLocked){for(var yt=ft.offsetX,Ct=ft.offsetY,Lt=0;Lt<lt.length;Lt++){var zt=f.layoutNodes[f.idToIndex[lt[Lt]]];zt.offsetX+=yt,zt.offsetY+=Ct,E[++L]=lt[Lt]}ft.offsetX=0,ft.offsetY=0}}},hf=function(f,w){for(var E=0;E<f.nodeSize;E++)0<(O=f.layoutNodes[E]).children.length&&(O.maxX=void 0,O.minX=void 0,O.maxY=void 0,O.minY=void 0);for(E=0;E<f.nodeSize;E++)if(!(0<(O=f.layoutNodes[E]).children.length||O.isLocked)){var L=nv(O.offsetX,O.offsetY,f.temperature);O.positionX+=L.x,O.positionY+=L.y,O.offsetX=0,O.offsetY=0,O.minX=O.positionX-O.width,O.maxX=O.positionX+O.width,O.minY=O.positionY-O.height,O.maxY=O.positionY+O.height,ed(O,f)}for(E=0;E<f.nodeSize;E++){var O;0<(O=f.layoutNodes[E]).children.length&&!O.isLocked&&(O.positionX=(O.maxX+O.minX)/2,O.positionY=(O.maxY+O.minY)/2,O.width=O.maxX-O.minX,O.height=O.maxY-O.minY)}},nv=function(f,w,E){var O=Math.sqrt(f*f+w*w);if(O>E)var L={x:E*f/O,y:E*w/O};else L={x:f,y:w};return L},ed=function x(f,w){var E=f.parentId;if(null!=E){var O=w.layoutNodes[w.idToIndex[E]],L=!1;if((null==O.maxX||f.maxX+O.padRight>O.maxX)&&(O.maxX=f.maxX+O.padRight,L=!0),(null==O.minX||f.minX-O.padLeft<O.minX)&&(O.minX=f.minX-O.padLeft,L=!0),(null==O.maxY||f.maxY+O.padBottom>O.maxY)&&(O.maxY=f.maxY+O.padBottom,L=!0),(null==O.minY||f.minY-O.padTop<O.minY)&&(O.minY=f.minY-O.padTop,L=!0),L)return x(O,w)}},id=function(f,w){for(var E=f.layoutNodes,O=[],L=0;L<E.length;L++){var F=E[L],st=F.cmptId;(O[st]=O[st]||[]).push(F)}var lt=0;for(L=0;L<O.length;L++)if(yt=O[L]){yt.x1=1/0,yt.x2=-1/0,yt.y1=1/0,yt.y2=-1/0;for(var Ct=0;Ct<yt.length;Ct++){var Lt=yt[Ct];yt.x1=Math.min(yt.x1,Lt.positionX-Lt.width/2),yt.x2=Math.max(yt.x2,Lt.positionX+Lt.width/2),yt.y1=Math.min(yt.y1,Lt.positionY-Lt.height/2),yt.y2=Math.max(yt.y2,Lt.positionY+Lt.height/2)}yt.w=yt.x2-yt.x1,yt.h=yt.y2-yt.y1,lt+=yt.w*yt.h}O.sort(function(le,ue){return ue.w*ue.h-le.w*le.h});var zt=0,Wt=0,Bt=0,Qt=0,re=Math.sqrt(lt)*f.clientWidth/f.clientHeight;for(L=0;L<O.length;L++){var yt;if(yt=O[L]){for(Ct=0;Ct<yt.length;Ct++)(Lt=yt[Ct]).isLocked||(Lt.positionX+=zt-yt.x1,Lt.positionY+=Wt-yt.y1);zt+=yt.w+w.componentSpacing,Bt+=yt.w+w.componentSpacing,Qt=Math.max(Qt,yt.h),Bt>re&&(Wt+=Qt+w.componentSpacing,zt=0,Bt=0,Qt=0)}}},bl={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(f){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(f,w){return!0},ready:void 0,stop:void 0,transform:function(f,w){return w}};function Jo(x){this.options=Ht({},bl,x)}Jo.prototype.run=function(){var x=this.options,f=x,w=x.cy,E=f.eles,O=E.nodes().not(":parent");f.sort&&(O=O.sort(f.sort));var L=Zo(f.boundingBox?f.boundingBox:{x1:0,y1:0,w:w.width(),h:w.height()});if(0===L.h||0===L.w)E.nodes().layoutPositions(this,f,function(Hi){return{x:L.x1,y:L.y1}});else{var F=O.size(),st=Math.sqrt(F*L.h/L.w),ft=Math.round(st),lt=Math.round(L.w/L.h*st),yt=function(Ne){if(null==Ne)return Math.min(ft,lt);Math.min(ft,lt)==ft?ft=Ne:lt=Ne},Ct=function(Ne){if(null==Ne)return Math.max(ft,lt);Math.max(ft,lt)==ft?ft=Ne:lt=Ne},Lt=f.rows,zt=null!=f.cols?f.cols:f.columns;if(null!=Lt&&null!=zt)ft=Lt,lt=zt;else if(null!=Lt&&null==zt)ft=Lt,lt=Math.ceil(F/ft);else if(null==Lt&&null!=zt)lt=zt,ft=Math.ceil(F/lt);else if(lt*ft>F){var Wt=yt(),Bt=Ct();(Wt-1)*Bt>=F?yt(Wt-1):(Bt-1)*Wt>=F&&Ct(Bt-1)}else for(;lt*ft<F;){var Qt=yt(),re=Ct();(re+1)*Qt>=F?Ct(re+1):yt(Qt+1)}var le=L.w/lt,ue=L.h/ft;if(f.condense&&(le=0,ue=0),f.avoidOverlap)for(var xe=0;xe<O.length;xe++){var Be=O[xe],je=Be._private.position;(null==je.x||null==je.y)&&(je.x=0,je.y=0);var ye=Be.layoutDimensions(f),Ve=f.avoidOverlapPadding,Ye=ye.h+Ve;le=Math.max(le,ye.w+Ve),ue=Math.max(ue,Ye)}for(var ze={},Oe=function(Ne,zi){return!!ze["c-"+Ne+"-"+zi]},Ze=function(Ne,zi){ze["c-"+Ne+"-"+zi]=!0},Le=0,Mi=0,hi=function(){++Mi>=lt&&(Mi=0,Le++)},Ci={},fi=0;fi<O.length;fi++){var xi=O[fi],Li=f.position(xi);if(Li&&(void 0!==Li.row||void 0!==Li.col)){var Ei={row:Li.row,col:Li.col};if(void 0===Ei.col)for(Ei.col=0;Oe(Ei.row,Ei.col);)Ei.col++;else if(void 0===Ei.row)for(Ei.row=0;Oe(Ei.row,Ei.col);)Ei.row++;Ci[xi.id()]=Ei,Ze(Ei.row,Ei.col)}}O.layoutPositions(this,f,function(Ne,zi){var ji,wi;if(Ne.locked()||Ne.isParent())return!1;var Oi=Ci[Ne.id()];if(Oi)ji=Oi.col*le+le/2+L.x1,wi=Oi.row*ue+ue/2+L.y1;else{for(;Oe(Le,Mi);)hi();ji=Mi*le+le/2+L.x1,wi=Le*ue+ue/2+L.y1,Ze(Le,Mi),hi()}return{x:ji,y:wi}})}return this};var nd={ready:function(){},stop:function(){}};function Hl(x){this.options=Ht({},nd,x)}Hl.prototype.run=function(){var x=this.options,f=x.eles,w=this;return w.emit("layoutstart"),f.nodes().positions(function(){return{x:0,y:0}}),w.one("layoutready",x.ready),w.emit("layoutready"),w.one("layoutstop",x.stop),w.emit("layoutstop"),this},Hl.prototype.stop=function(){return this};var mc={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(f,w){return!0},ready:void 0,stop:void 0,transform:function(f,w){return w}};function Ru(x){this.options=Ht({},mc,x)}Ru.prototype.run=function(){var x=this.options,w=x.eles.nodes(),E=mt(x.positions);return w.layoutPositions(this,x,function(L,F){var st=function(L){if(null==x.positions)return function(f){return{x:f.x,y:f.y}}(L.position());if(E)return x.positions(L);var F=x.positions[L._private.data.id];return null==F?null:F}(L);return!L.locked()&&null!=st&&st}),this};var Xu={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(f,w){return!0},ready:void 0,stop:void 0,transform:function(f,w){return w}};function da(x){this.options=Ht({},Xu,x)}da.prototype.run=function(){var x=this.options,f=x.cy,w=x.eles,E=Zo(x.boundingBox?x.boundingBox:{x1:0,y1:0,w:f.width(),h:f.height()});return w.nodes().layoutPositions(this,x,function(F,st){return{x:E.x1+Math.round(Math.random()*E.w),y:E.y1+Math.round(Math.random()*E.h)}}),this};var cf=[{name:"breadthfirst",impl:tv},{name:"circle",impl:fa},{name:"concentric",impl:iv},{name:"cose",impl:kh},{name:"grid",impl:Jo},{name:"null",impl:Hl},{name:"preset",impl:Ru},{name:"random",impl:da}];function _x(x){this.options=x,this.notifications=0}var f0=function(){},Dn=function(){throw new Error("A headless instance can not render images")};_x.prototype={recalculateRenderedStyle:f0,notify:function(){this.notifications++},init:f0,isHeadless:function(){return!0},png:Dn,jpg:Dn};var rd={arrowShapeWidth:.3,registerArrowShapes:function(){var x=this.arrowShapes={},f=this,w=function(lt,yt,Ct,Lt,zt,Wt,Bt){return zt.x-Ct/2-Bt<=lt&&lt<=zt.x+Ct/2+Bt&&zt.y-Ct/2-Bt<=yt&&yt<=zt.y+Ct/2+Bt},E=function(lt,yt,Ct,Lt,zt){var Wt=lt*Math.cos(Lt)-yt*Math.sin(Lt),Bt=lt*Math.sin(Lt)+yt*Math.cos(Lt);return{x:Wt*Ct+zt.x,y:Bt*Ct+zt.y}},O=function(lt,yt,Ct,Lt){for(var zt=[],Wt=0;Wt<lt.length;Wt+=2)zt.push(E(lt[Wt],lt[Wt+1],yt,Ct,Lt));return zt},L=function(lt){for(var yt=[],Ct=0;Ct<lt.length;Ct++){var Lt=lt[Ct];yt.push(Lt.x,Lt.y)}return yt},F=function(lt){return lt.pstyle("width").pfValue*lt.pstyle("arrow-scale").pfValue*2},st=function(lt,yt){rt(yt)&&(yt=x[yt]),x[lt]=Ht({name:lt,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(Lt,zt,Wt,Bt,Qt,re){var le=L(O(this.points,Wt+2*re,Bt,Qt));return dl(Lt,zt,le)},roughCollide:w,draw:function(Lt,zt,Wt,Bt){var Qt=O(this.points,zt,Wt,Bt);f.arrowShapeImpl("polygon")(Lt,Qt)},spacing:function(Lt){return 0},gap:F},yt)};st("none",{collide:Se,roughCollide:Se,draw:Me,spacing:ae,gap:ae}),st("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),st("arrow","triangle"),st("triangle-backcurve",{points:x.triangle.points,controlPoint:[0,-.15],roughCollide:w,draw:function(lt,yt,Ct,Lt,zt){var Wt=O(this.points,yt,Ct,Lt),Bt=this.controlPoint,Qt=E(Bt[0],Bt[1],yt,Ct,Lt);f.arrowShapeImpl(this.name)(lt,Wt,Qt)},gap:function(lt){return.8*F(lt)}}),st("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(lt,yt,Ct,Lt,zt,Wt,Bt){var Qt=L(O(this.points,Ct+2*Bt,Lt,zt)),re=L(O(this.pointsTee,Ct+2*Bt,Lt,zt));return dl(lt,yt,Qt)||dl(lt,yt,re)},draw:function(lt,yt,Ct,Lt,zt){var Wt=O(this.points,yt,Ct,Lt),Bt=O(this.pointsTee,yt,Ct,Lt);f.arrowShapeImpl(this.name)(lt,Wt,Bt)}}),st("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(lt,yt,Ct,Lt,zt,Wt,Bt){var Qt=zt,re=Math.pow(Qt.x-lt,2)+Math.pow(Qt.y-yt,2)<=Math.pow((Ct+2*Bt)*this.radius,2),le=L(O(this.points,Ct+2*Bt,Lt,zt));return dl(lt,yt,le)||re},draw:function(lt,yt,Ct,Lt,zt){var Wt=O(this.pointsTr,yt,Ct,Lt);f.arrowShapeImpl(this.name)(lt,Wt,Lt.x,Lt.y,this.radius*yt)},spacing:function(lt){return f.getArrowWidth(lt.pstyle("width").pfValue,lt.pstyle("arrow-scale").value)*this.radius}}),st("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(lt,yt){var Ct=this.baseCrossLinePts.slice(),Lt=yt/lt;return Ct[3]=Ct[3]-Lt,Ct[5]=Ct[5]-Lt,Ct},collide:function(lt,yt,Ct,Lt,zt,Wt,Bt){var Qt=L(O(this.points,Ct+2*Bt,Lt,zt)),re=L(O(this.crossLinePts(Ct,Wt),Ct+2*Bt,Lt,zt));return dl(lt,yt,Qt)||dl(lt,yt,re)},draw:function(lt,yt,Ct,Lt,zt){var Wt=O(this.points,yt,Ct,Lt),Bt=O(this.crossLinePts(yt,zt),yt,Ct,Lt);f.arrowShapeImpl(this.name)(lt,Wt,Bt)}}),st("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(lt){return.525*F(lt)}}),st("circle",{radius:.15,collide:function(lt,yt,Ct,Lt,zt,Wt,Bt){var Qt=zt;return Math.pow(Qt.x-lt,2)+Math.pow(Qt.y-yt,2)<=Math.pow((Ct+2*Bt)*this.radius,2)},draw:function(lt,yt,Ct,Lt,zt){f.arrowShapeImpl(this.name)(lt,Lt.x,Lt.y,this.radius*yt)},spacing:function(lt){return f.getArrowWidth(lt.pstyle("width").pfValue,lt.pstyle("arrow-scale").value)*this.radius}}),st("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(lt){return 1},gap:function(lt){return 1}}),st("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),st("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(lt){return lt.pstyle("width").pfValue*lt.pstyle("arrow-scale").value}}),st("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(lt){return.95*lt.pstyle("width").pfValue*lt.pstyle("arrow-scale").value}})}},od={projectIntoViewport:function(x,f){var w=this.cy,E=this.findContainerClientCoords(),O=E[0],L=E[1],F=E[4],st=w.pan(),ft=w.zoom();return[((x-O)/F-st.x)/ft,((f-L)/F-st.y)/ft]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var x=this.container,f=x.getBoundingClientRect(),w=N.getComputedStyle(x),E=function(re){return parseFloat(w.getPropertyValue(re))},O_left=E("padding-left"),O_right=E("padding-right"),O_top=E("padding-top"),O_bottom=E("padding-bottom"),L_left=E("border-left-width"),L_right=E("border-right-width"),L_top=E("border-top-width"),F=(E("border-bottom-width"),x.clientWidth);return this.containerBB=[f.left+O_left+L_left,f.top+O_top+L_top,F-(O_left+O_right),x.clientHeight-(O_top+O_bottom),f.width/(F+(L_left+L_right))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(x,f,w,E){return this.findNearestElements(x,f,w,E)[0]},findNearestElements:function(x,f,w,E){var Wt,Bt,O=this,L=this,F=L.getCachedZSortedEles(),st=[],ft=L.cy.zoom(),lt=L.cy.hasCompoundNodes(),yt=(E?24:8)/ft,Ct=(E?8:2)/ft,Lt=(E?8:2)/ft,zt=1/0;function Qt(ye,Ve){if(ye.isNode()){if(Bt)return;Bt=ye,st.push(ye)}if(ye.isEdge()&&(null==Ve||Ve<zt))if(Wt){if(Wt.pstyle("z-compound-depth").value===ye.pstyle("z-compound-depth").value&&Wt.pstyle("z-compound-depth").value===ye.pstyle("z-compound-depth").value)for(var De=0;De<st.length;De++)if(st[De].isEdge()){st[De]=ye,Wt=ye,zt=null!=Ve?Ve:zt;break}}else st.push(ye),Wt=ye,zt=null!=Ve?Ve:zt}function re(ye){var Ve=ye.outerWidth()+2*Ct,De=ye.outerHeight()+2*Ct,Ye=Ve/2,ze=De/2,Oe=ye.position();if(Oe.x-Ye<=x&&x<=Oe.x+Ye&&Oe.y-ze<=f&&f<=Oe.y+ze&&L.nodeShapes[O.getNodeShape(ye)].checkPoint(x,f,0,Ve,De,Oe.x,Oe.y))return Qt(ye,0),!0}function le(ye){var Ci,Ve=ye._private,De=Ve.rscratch,Ye=ye.pstyle("width").pfValue,ze=ye.pstyle("arrow-scale").value,Oe=Ye/2+yt,Ze=Oe*Oe,Le=2*Oe,Mi=Ve.source,hi=Ve.target;if("segments"===De.edgeType||"straight"===De.edgeType||"haystack"===De.edgeType){for(var fi=De.allpts,xi=0;xi+3<fi.length;xi+=2)if(Nd(x,f,fi[xi],fi[xi+1],fi[xi+2],fi[xi+3],Le)&&Ze>(Ci=Gc(x,f,fi[xi],fi[xi+1],fi[xi+2],fi[xi+3])))return Qt(ye,Ci),!0}else if("bezier"===De.edgeType||"multibezier"===De.edgeType||"self"===De.edgeType||"compound"===De.edgeType)for(fi=De.allpts,xi=0;xi+5<De.allpts.length;xi+=4)if(cx(x,f,fi[xi],fi[xi+1],fi[xi+2],fi[xi+3],fi[xi+4],fi[xi+5],Le)&&Ze>(Ci=Rg(x,f,fi[xi],fi[xi+1],fi[xi+2],fi[xi+3],fi[xi+4],fi[xi+5])))return Qt(ye,Ci),!0;Mi=Mi||Ve.source,hi=hi||Ve.target;var Li=O.getArrowWidth(Ye,ze),Ei=[{name:"source",x:De.arrowStartX,y:De.arrowStartY,angle:De.srcArrowAngle},{name:"target",x:De.arrowEndX,y:De.arrowEndY,angle:De.tgtArrowAngle},{name:"mid-source",x:De.midX,y:De.midY,angle:De.midsrcArrowAngle},{name:"mid-target",x:De.midX,y:De.midY,angle:De.midtgtArrowAngle}];for(xi=0;xi<Ei.length;xi++){var si=Ei[xi],Hi=L.arrowShapes[ye.pstyle(si.name+"-arrow-shape").value],Ne=ye.pstyle("width").pfValue;if(Hi.roughCollide(x,f,Li,si.angle,{x:si.x,y:si.y},Ne,yt)&&Hi.collide(x,f,Li,si.angle,{x:si.x,y:si.y},Ne,yt))return Qt(ye),!0}lt&&st.length>0&&(re(Mi),re(hi))}function ue(ye,Ve,De){return In(ye,Ve,De)}function xe(ye,Ve){var ze,De=ye._private,Ye=Lt;ze=Ve?Ve+"-":"",ye.boundingBox();var Oe=De.labelBounds[Ve||"main"],Ze=ye.pstyle(ze+"label").value;if("yes"===ye.pstyle("text-events").strValue&&Ze){var Mi=ue(De.rscratch,"labelX",Ve),hi=ue(De.rscratch,"labelY",Ve),Ci=ue(De.rscratch,"labelAngle",Ve),fi=ye.pstyle(ze+"text-margin-x").pfValue,xi=ye.pstyle(ze+"text-margin-y").pfValue,Li=Oe.x1-Ye-fi,Ei=Oe.x2+Ye-fi,si=Oe.y1-Ye-xi,Hi=Oe.y2+Ye-xi;if(Ci){var Ne=Math.cos(Ci),zi=Math.sin(Ci),ji=function(wr,Sn){return{x:(wr-=Mi)*Ne-(Sn-=hi)*zi+Mi,y:wr*zi+Sn*Ne+hi}},wi=ji(Li,si),Oi=ji(Li,Hi),Gi=ji(Ei,si),qi=ji(Ei,Hi);if(dl(x,f,[wi.x+fi,wi.y+xi,Gi.x+fi,Gi.y+xi,qi.x+fi,qi.y+xi,Oi.x+fi,Oi.y+xi]))return Qt(ye),!0}else if(me(Oe,x,f))return Qt(ye),!0}}w&&(F=F.interactive);for(var Be=F.length-1;Be>=0;Be--){var je=F[Be];je.isNode()?re(je)||xe(je):le(je)||xe(je)||xe(je,"source")||xe(je,"target")}return st},getAllInBox:function(x,f,w,E){for(var O=this.getCachedZSortedEles().interactive,L=[],F=Math.min(x,w),st=Math.max(x,w),ft=Math.min(f,E),lt=Math.max(f,E),yt=Zo({x1:x=F,y1:f=ft,x2:w=st,y2:E=lt}),Ct=0;Ct<O.length;Ct++){var Lt=O[Ct];if(Lt.isNode()){var zt=Lt,Wt=zt.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Ig(yt,Wt)&&!Hp(Wt,yt)&&L.push(zt)}else{var Bt=Lt,Qt=Bt._private,re=Qt.rscratch;if(null!=re.startX&&null!=re.startY&&!me(yt,re.startX,re.startY)||null!=re.endX&&null!=re.endY&&!me(yt,re.endX,re.endY))continue;if("bezier"===re.edgeType||"multibezier"===re.edgeType||"self"===re.edgeType||"compound"===re.edgeType||"segments"===re.edgeType||"haystack"===re.edgeType){for(var le=Qt.rstyle.bezierPts||Qt.rstyle.linePts||Qt.rstyle.haystackPts,ue=!0,xe=0;xe<le.length;xe++)if(!pn(yt,le[xe])){ue=!1;break}ue&&L.push(Bt)}else("haystack"===re.edgeType||"straight"===re.edgeType)&&L.push(Bt)}}return L}},xm={calculateArrowAngles:function(x){var ft,lt,yt,Ct,Lt,zt,f=x._private.rscratch,w="haystack"===f.edgeType,E="bezier"===f.edgeType,O="multibezier"===f.edgeType,L="segments"===f.edgeType,F="compound"===f.edgeType,st="self"===f.edgeType;w?(yt=f.haystackPts[0],Ct=f.haystackPts[1],Lt=f.haystackPts[2],zt=f.haystackPts[3]):(yt=f.arrowStartX,Ct=f.arrowStartY,Lt=f.arrowEndX,zt=f.arrowEndY),Wt=f.midX,Bt=f.midY,L?(ft=yt-f.segpts[0],lt=Ct-f.segpts[1]):O||F||st||E?(ft=yt-Ca((Qt=f.allpts)[0],Qt[2],Qt[4],.1),lt=Ct-Ca(Qt[1],Qt[3],Qt[5],.1)):(ft=yt-Wt,lt=Ct-Bt),f.srcArrowAngle=K0(ft,lt);var Wt=f.midX,Bt=f.midY;if(w&&(Wt=(yt+Lt)/2,Bt=(Ct+zt)/2),ft=Lt-yt,lt=zt-Ct,L)if((Qt=f.allpts).length/2%2==0)ft=Qt[ue=Qt.length/2]-Qt[xe=ue-2],lt=Qt[ue+1]-Qt[xe+1];else{var ue,xe,Be=2+(ue=Qt.length/2-1);ft=Qt[ue]-Qt[xe=ue-2],lt=Qt[ue+1]-Qt[xe+1]}else if(O||F||st){var ye,Ve,De,Ye,Oe,ze,Ze,Qt=f.allpts;f.ctrlpts.length/2%2==0?(ye=Ca(Qt[ze=Qt.length/2-1],Qt[Oe=ze+2],Qt[Ze=Oe+2],0),Ve=Ca(Qt[ze+1],Qt[Oe+1],Qt[Ze+1],0),De=Ca(Qt[ze],Qt[Oe],Qt[Ze],1e-4),Ye=Ca(Qt[ze+1],Qt[Oe+1],Qt[Ze+1],1e-4)):(ye=Ca(Qt[ze=(Oe=Qt.length/2-1)-2],Qt[Oe],Qt[Ze=Oe+2],.4999),Ve=Ca(Qt[ze+1],Qt[Oe+1],Qt[Ze+1],.4999),De=Ca(Qt[ze],Qt[Oe],Qt[Ze],.5),Ye=Ca(Qt[ze+1],Qt[Oe+1],Qt[Ze+1],.5)),ft=De-ye,lt=Ye-Ve}if(f.midtgtArrowAngle=K0(ft,lt),f.midDispX=ft,f.midDispY=lt,ft*=-1,lt*=-1,L&&(Qt=f.allpts).length/2%2!=0&&(ft=-(Qt[Be=2+(ue=Qt.length/2-1)]-Qt[ue]),lt=-(Qt[Be+1]-Qt[ue+1])),f.midsrcArrowAngle=K0(ft,lt),L)ft=Lt-f.segpts[f.segpts.length-2],lt=zt-f.segpts[f.segpts.length-1];else if(O||F||st||E){var Le=(Qt=f.allpts).length;ft=Lt-Ca(Qt[Le-6],Qt[Le-4],Qt[Le-2],.9),lt=zt-Ca(Qt[Le-5],Qt[Le-3],Qt[Le-1],.9)}else ft=Lt-Wt,lt=zt-Bt;f.tgtArrowAngle=K0(ft,lt)}};xm.getArrowWidth=xm.getArrowHeight=function(x,f){var w=this.arrowWidthCache=this.arrowWidthCache||{},E=w[x+", "+f];return E||(E=Math.max(Math.pow(13.37*x,.9),29)*f,w[x+", "+f]=E,E)};var ea={};function Qd(x){var f=[];if(null!=x){for(var w=0;w<x.length;w+=2)f.push({x:x[w],y:x[w+1]});return f}}ea.findHaystackPoints=function(x){for(var f=0;f<x.length;f++){var w=x[f],E=w._private,O=E.rscratch;if(!O.haystack){var L=2*Math.random()*Math.PI;O.source={x:Math.cos(L),y:Math.sin(L)},L=2*Math.random()*Math.PI,O.target={x:Math.cos(L),y:Math.sin(L)}}var F=E.source,st=E.target,ft=F.position(),lt=st.position(),yt=F.width(),Ct=st.width(),Lt=F.height(),zt=st.height(),Bt=w.pstyle("haystack-radius").value/2;O.haystackPts=O.allpts=[O.source.x*yt*Bt+ft.x,O.source.y*Lt*Bt+ft.y,O.target.x*Ct*Bt+lt.x,O.target.y*zt*Bt+lt.y],O.midX=(O.allpts[0]+O.allpts[2])/2,O.midY=(O.allpts[1]+O.allpts[3])/2,O.edgeType="haystack",O.haystack=!0,this.storeEdgeProjections(w),this.calculateArrowAngles(w),this.recalculateEdgeLabelProjections(w),this.calculateLabelAngles(w)}},ea.findSegmentsPoints=function(x,f){var w=x._private.rscratch,E=f.posPts,O=f.intersectionPts,L=f.vectorNormInverse,F=x.pstyle("edge-distances").value,st=x.pstyle("segment-weights"),ft=x.pstyle("segment-distances"),lt=Math.min(st.pfValue.length,ft.pfValue.length);w.edgeType="segments",w.segpts=[];for(var yt=0;yt<lt;yt++){var Ct=st.pfValue[yt],Lt=ft.pfValue[yt],zt=1-Ct,Bt="node-position"===F?E:O,Qt={x:Bt.x1*zt+Bt.x2*Ct,y:Bt.y1*zt+Bt.y2*Ct};w.segpts.push(Qt.x+L.x*Lt,Qt.y+L.y*Lt)}},ea.findLoopPoints=function(x,f,w,E){var O=x._private.rscratch,L=f.dirCounts,F=f.srcPos,st=x.pstyle("control-point-distances"),ft=st?st.pfValue[0]:void 0,lt=x.pstyle("loop-direction").pfValue,yt=x.pstyle("loop-sweep").pfValue,Ct=x.pstyle("control-point-step-size").pfValue;O.edgeType="self";var Lt=w,zt=Ct;E&&(Lt=0,zt=ft);var Wt=lt-Math.PI/2,Bt=Wt-yt/2,Qt=Wt+yt/2,re=String(lt+"_"+yt);Lt=void 0===L[re]?L[re]=0:++L[re],O.ctrlpts=[F.x+1.4*Math.cos(Bt)*zt*(Lt/3+1),F.y+1.4*Math.sin(Bt)*zt*(Lt/3+1),F.x+1.4*Math.cos(Qt)*zt*(Lt/3+1),F.y+1.4*Math.sin(Qt)*zt*(Lt/3+1)]},ea.findCompoundLoopPoints=function(x,f,w,E){var O=x._private.rscratch;O.edgeType="compound";var L=f.srcPos,F=f.tgtPos,st=f.srcW,ft=f.srcH,lt=f.tgtW,yt=f.tgtH,Ct=x.pstyle("control-point-step-size").pfValue,Lt=x.pstyle("control-point-distances"),Wt=w,Bt=Ct;E&&(Wt=0,Bt=Lt?Lt.pfValue[0]:void 0);var re={x:L.x-st/2,y:L.y-ft/2},le={x:F.x-lt/2,y:F.y-yt/2},ue={x:Math.min(re.x,le.x),y:Math.min(re.y,le.y)},Be=Math.max(.5,Math.log(.01*st)),je=Math.max(.5,Math.log(.01*lt));O.ctrlpts=[ue.x,ue.y-(1+Math.pow(50,1.12)/100)*Bt*(Wt/3+1)*Be,ue.x-(1+Math.pow(50,1.12)/100)*Bt*(Wt/3+1)*je,ue.y]},ea.findStraightEdgePoints=function(x){x._private.rscratch.edgeType="straight"},ea.findBezierPoints=function(x,f,w,E,O){var L=x._private.rscratch,F=f.vectorNormInverse,st=f.posPts,ft=f.intersectionPts,lt=x.pstyle("edge-distances").value,yt=x.pstyle("control-point-step-size").pfValue,Ct=x.pstyle("control-point-distances"),Lt=x.pstyle("control-point-weights"),zt=Ct&&Lt?Math.min(Ct.value.length,Lt.value.length):1,Wt=Ct?Ct.pfValue[0]:void 0,Bt=Lt.value[0],Qt=E;L.edgeType=Qt?"multibezier":"bezier",L.ctrlpts=[];for(var re=0;re<zt;re++){var ue,le=(.5-f.eles.length/2+w)*yt*(O?-1:1),xe=Os(le);Qt&&(Wt=Ct?Ct.pfValue[re]:yt,Bt=Lt.value[re]);var Be=void 0!==(ue=E?Wt:void 0!==Wt?xe*Wt:void 0)?ue:le,je=1-Bt,Ve="node-position"===lt?st:ft,De={x:Ve.x1*je+Ve.x2*Bt,y:Ve.y1*je+Ve.y2*Bt};L.ctrlpts.push(De.x+F.x*Be,De.y+F.y*Be)}},ea.findTaxiPoints=function(x,f){var w=x._private.rscratch;w.edgeType="segments";var E="vertical",O="horizontal",L="leftward",F="rightward",st="downward",yt=f.posPts,Ct=f.srcW,Lt=f.srcH,zt=f.tgtW,Wt=f.tgtH,Qt="node-position"!==x.pstyle("edge-distances").value,re=x.pstyle("taxi-direction").value,le=re,ue=x.pstyle("taxi-turn"),xe="%"===ue.units,Be=ue.pfValue,je=Be<0,ye=x.pstyle("taxi-turn-min-distance").pfValue,De=Qt?(Lt+Wt)/2:0,Ye=yt.x2-yt.x1,ze=yt.y2-yt.y1,Oe=function(Nn,nr){return Nn>0?Math.max(Nn-nr,0):Math.min(Nn+nr,0)},Ze=Oe(Ye,Qt?(Ct+zt)/2:0),Le=Oe(ze,De),Mi=!1;"auto"===le?re=Math.abs(Ze)>Math.abs(Le)?O:E:"upward"===le||le===st?(re=E,Mi=!0):(le===L||le===F)&&(re=O,Mi=!0);var Ei,hi=re===E,Ci=hi?Le:Ze,fi=hi?ze:Ye,xi=Os(fi),Li=!1;(!Mi||!xe&&!je)&&(le===st&&fi<0||"upward"===le&&fi>0||le===L&&fi>0||le===F&&fi<0)&&(Ci=(xi*=-1)*Math.abs(Ci),Li=!0);var Ne=function(Nn){return Math.abs(Nn)<ye||Math.abs(Nn)>=Math.abs(Ci)},zi=Ne(Ei=xe?(Be<0?1+Be:Be)*Ci:(Be<0?Ci:0)+Be*xi),ji=Ne(Math.abs(Ci)-Math.abs(Ei));if(!zi&&!ji||Li)if(hi){var Ae=yt.y1+Ei+(Qt?Lt/2*xi:0);w.segpts=[yt.x1,Ae,yt.x2,Ae]}else{var Bi=yt.x1+Ei+(Qt?Ct/2*xi:0);w.segpts=[Bi,yt.y1,Bi,yt.y2]}else if(hi){var Oi=Math.abs(fi)<=Lt/2,Gi=Math.abs(Ye)<=zt/2;if(Oi){var qi=(yt.x1+yt.x2)/2;w.segpts=[qi,yt.y1,qi,yt.y2]}else if(Gi){var wr=(yt.y1+yt.y2)/2;w.segpts=[yt.x1,wr,yt.x2,wr]}else w.segpts=[yt.x1,yt.y2]}else{var hr=Math.abs(fi)<=Ct/2,Xn=Math.abs(ze)<=Wt/2;if(hr){var An=(yt.y1+yt.y2)/2;w.segpts=[yt.x1,An,yt.x2,An]}else if(Xn){var mo=(yt.x1+yt.x2)/2;w.segpts=[mo,yt.y1,mo,yt.y2]}else w.segpts=[yt.x2,yt.y1]}},ea.tryToCorrectInvalidPoints=function(x,f){var w=x._private.rscratch;if("bezier"===w.edgeType){var E=f.srcPos,O=f.tgtPos,L=f.srcW,F=f.srcH,st=f.tgtW,ft=f.tgtH,lt=f.srcShape,yt=f.tgtShape,Ct=!Mt(w.startX)||!Mt(w.startY),Lt=!Mt(w.arrowStartX)||!Mt(w.arrowStartY),zt=!Mt(w.endX)||!Mt(w.endY),Wt=!Mt(w.arrowEndX)||!Mt(w.arrowEndY),re=this.getArrowWidth(x.pstyle("width").pfValue,x.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,le=Od({x:w.ctrlpts[0],y:w.ctrlpts[1]},{x:w.startX,y:w.startY}),ue=le<re,xe=Od({x:w.ctrlpts[0],y:w.ctrlpts[1]},{x:w.endX,y:w.endY}),Be=xe<re,je=!1;if(Ct||Lt||ue){je=!0;var ye={x:w.ctrlpts[0]-E.x,y:w.ctrlpts[1]-E.y},Ve=Math.sqrt(ye.x*ye.x+ye.y*ye.y),De={x:ye.x/Ve,y:ye.y/Ve},Ye=Math.max(L,F),ze={x:w.ctrlpts[0]+2*De.x*Ye,y:w.ctrlpts[1]+2*De.y*Ye},Oe=lt.intersectLine(E.x,E.y,L,F,ze.x,ze.y,0);ue?(w.ctrlpts[0]=w.ctrlpts[0]+De.x*(re-le),w.ctrlpts[1]=w.ctrlpts[1]+De.y*(re-le)):(w.ctrlpts[0]=Oe[0]+De.x*re,w.ctrlpts[1]=Oe[1]+De.y*re)}if(zt||Wt||Be){je=!0;var Ze={x:w.ctrlpts[0]-O.x,y:w.ctrlpts[1]-O.y},Le=Math.sqrt(Ze.x*Ze.x+Ze.y*Ze.y),Mi={x:Ze.x/Le,y:Ze.y/Le},hi=Math.max(L,F),Ci={x:w.ctrlpts[0]+2*Mi.x*hi,y:w.ctrlpts[1]+2*Mi.y*hi},fi=yt.intersectLine(O.x,O.y,st,ft,Ci.x,Ci.y,0);Be?(w.ctrlpts[0]=w.ctrlpts[0]+Mi.x*(re-xe),w.ctrlpts[1]=w.ctrlpts[1]+Mi.y*(re-xe)):(w.ctrlpts[0]=fi[0]+Mi.x*re,w.ctrlpts[1]=fi[1]+Mi.y*re)}je&&this.findEndpoints(x)}},ea.storeAllpts=function(x){var f=x._private.rscratch;if("multibezier"===f.edgeType||"bezier"===f.edgeType||"self"===f.edgeType||"compound"===f.edgeType){f.allpts=[],f.allpts.push(f.startX,f.startY);for(var w=0;w+1<f.ctrlpts.length;w+=2)f.allpts.push(f.ctrlpts[w],f.ctrlpts[w+1]),w+3<f.ctrlpts.length&&f.allpts.push((f.ctrlpts[w]+f.ctrlpts[w+2])/2,(f.ctrlpts[w+1]+f.ctrlpts[w+3])/2);var E;f.allpts.push(f.endX,f.endY),f.ctrlpts.length/2%2==0?(f.midX=f.allpts[E=f.allpts.length/2-1],f.midY=f.allpts[E+1]):(f.midX=Ca(f.allpts[E=f.allpts.length/2-3],f.allpts[E+2],f.allpts[E+4],.5),f.midY=Ca(f.allpts[E+1],f.allpts[E+3],f.allpts[E+5],.5))}else if("straight"===f.edgeType)f.allpts=[f.startX,f.startY,f.endX,f.endY],f.midX=(f.startX+f.endX+f.arrowStartX+f.arrowEndX)/4,f.midY=(f.startY+f.endY+f.arrowStartY+f.arrowEndY)/4;else if("segments"===f.edgeType)if(f.allpts=[],f.allpts.push(f.startX,f.startY),f.allpts.push.apply(f.allpts,f.segpts),f.allpts.push(f.endX,f.endY),f.segpts.length%4==0){var L=f.segpts.length/2,F=L-2;f.midX=(f.segpts[F]+f.segpts[L])/2,f.midY=(f.segpts[F+1]+f.segpts[L+1])/2}else{var st=f.segpts.length/2-1;f.midX=f.segpts[st],f.midY=f.segpts[st+1]}},ea.checkForInvalidEdgeWarning=function(x){var f=x[0]._private.rscratch;f.nodesOverlap||Mt(f.startX)&&Mt(f.startY)&&Mt(f.endX)&&Mt(f.endY)?f.loggedErr=!1:f.loggedErr||(f.loggedErr=!0,Ie("Edge `"+x.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},ea.findEdgeControlPoints=function(x){var f=this;if(x&&0!==x.length){for(var w=this,O=w.cy.hasCompoundNodes(),L={map:new Or,get:function(ye){var Ve=this.map.get(ye[0]);return null!=Ve?Ve.get(ye[1]):null},set:function(ye,Ve){var De=this.map.get(ye[0]);null==De&&(De=new Or,this.map.set(ye[0],De)),De.set(ye[1],Ve)}},F=[],st=[],ft=0;ft<x.length;ft++){var lt=x[ft],yt=lt._private,Ct=lt.pstyle("curve-style").value;if(!lt.removed()&&lt.takesUpSpace()){if("haystack"===Ct){st.push(lt);continue}var Lt="unbundled-bezier"===Ct||"segments"===Ct||"straight"===Ct||"straight-triangle"===Ct||"taxi"===Ct,zt="unbundled-bezier"===Ct||"bezier"===Ct,Bt=yt.target,le=[yt.source.poolIndex(),Bt.poolIndex()].sort(),ue=L.get(le);null==ue&&(L.set(le,ue={eles:[]}),F.push(le)),ue.eles.push(lt),Lt&&(ue.hasUnbundled=!0),zt&&(ue.hasBezier=!0)}}for(var xe=function(ye){var De=L.get(F[ye]),Ye=void 0;if(!De.hasUnbundled){var ze=De.eles[0].parallelEdges().filter(function(ai){return ai.isBundledBezier()});Tn(De.eles),ze.forEach(function(ai){return De.eles.push(ai)}),De.eles.sort(function(ai,Ae){return ai.poolIndex()-Ae.poolIndex()})}var Oe=De.eles[0],Ze=Oe.source(),Le=Oe.target();if(Ze.poolIndex()>Le.poolIndex()){var Mi=Ze;Ze=Le,Le=Mi}var hi=De.srcPos=Ze.position(),Ci=De.tgtPos=Le.position(),fi=De.srcW=Ze.outerWidth(),xi=De.srcH=Ze.outerHeight(),Li=De.tgtW=Le.outerWidth(),Ei=De.tgtH=Le.outerHeight(),si=De.srcShape=w.nodeShapes[f.getNodeShape(Ze)],Hi=De.tgtShape=w.nodeShapes[f.getNodeShape(Le)];De.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Ne=0;Ne<De.eles.length;Ne++){var zi=De.eles[Ne],ji=zi[0]._private.rscratch,wi=zi.pstyle("curve-style").value,Oi="unbundled-bezier"===wi||"segments"===wi||"taxi"===wi,Gi=!Ze.same(zi.source());if(!De.calculatedIntersection&&Ze!==Le&&(De.hasBezier||De.hasUnbundled)){De.calculatedIntersection=!0;var qi=si.intersectLine(hi.x,hi.y,fi,xi,Ci.x,Ci.y,0),gn=De.srcIntn=qi,mr=Hi.intersectLine(Ci.x,Ci.y,Li,Ei,hi.x,hi.y,0),wr=De.tgtIntn=mr,Sn=De.intersectionPts={x1:qi[0],x2:mr[0],y1:qi[1],y2:mr[1]},dn=De.posPts={x1:hi.x,x2:Ci.x,y1:hi.y,y2:Ci.y},hr=mr[1]-qi[1],Xn=mr[0]-qi[0],An=Math.sqrt(Xn*Xn+hr*hr),ir=De.vector={x:Xn,y:hr},Co=De.vectorNorm={x:ir.x/An,y:ir.y/An},mo={x:-Co.y,y:Co.x};De.nodesOverlap=!Mt(An)||Hi.checkPoint(qi[0],qi[1],0,Li,Ei,Ci.x,Ci.y)||si.checkPoint(mr[0],mr[1],0,fi,xi,hi.x,hi.y),De.vectorNormInverse=mo,Ye={nodesOverlap:De.nodesOverlap,dirCounts:De.dirCounts,calculatedIntersection:!0,hasBezier:De.hasBezier,hasUnbundled:De.hasUnbundled,eles:De.eles,srcPos:Ci,tgtPos:hi,srcW:Li,srcH:Ei,tgtW:fi,tgtH:xi,srcIntn:wr,tgtIntn:gn,srcShape:Hi,tgtShape:si,posPts:{x1:dn.x2,y1:dn.y2,x2:dn.x1,y2:dn.y1},intersectionPts:{x1:Sn.x2,y1:Sn.y2,x2:Sn.x1,y2:Sn.y1},vector:{x:-ir.x,y:-ir.y},vectorNorm:{x:-Co.x,y:-Co.y},vectorNormInverse:{x:-mo.x,y:-mo.y}}}var Xr=Gi?Ye:De;ji.nodesOverlap=Xr.nodesOverlap,ji.srcIntn=Xr.srcIntn,ji.tgtIntn=Xr.tgtIntn,O&&(Ze.isParent()||Ze.isChild()||Le.isParent()||Le.isChild())&&(Ze.parents().anySame(Le)||Le.parents().anySame(Ze)||Ze.same(Le)&&Ze.isParent())?f.findCompoundLoopPoints(zi,Xr,Ne,Oi):Ze===Le?f.findLoopPoints(zi,Xr,Ne,Oi):"segments"===wi?f.findSegmentsPoints(zi,Xr):"taxi"===wi?f.findTaxiPoints(zi,Xr):"straight"===wi||!Oi&&De.eles.length%2==1&&Ne===Math.floor(De.eles.length/2)?f.findStraightEdgePoints(zi):f.findBezierPoints(zi,Xr,Ne,Oi,Gi),f.findEndpoints(zi),f.tryToCorrectInvalidPoints(zi,Xr),f.checkForInvalidEdgeWarning(zi),f.storeAllpts(zi),f.storeEdgeProjections(zi),f.calculateArrowAngles(zi),f.recalculateEdgeLabelProjections(zi),f.calculateLabelAngles(zi)}},Be=0;Be<F.length;Be++)xe(Be);this.findHaystackPoints(st)}},ea.getSegmentPoints=function(x){var f=x[0]._private.rscratch;if("segments"===f.edgeType)return this.recalculateRenderedStyle(x),Qd(f.segpts)},ea.getControlPoints=function(x){var f=x[0]._private.rscratch,w=f.edgeType;if("bezier"===w||"multibezier"===w||"self"===w||"compound"===w)return this.recalculateRenderedStyle(x),Qd(f.ctrlpts)},ea.getEdgeMidpoint=function(x){var f=x[0]._private.rscratch;return this.recalculateRenderedStyle(x),{x:f.midX,y:f.midY}};var ru={manualEndptToPx:function(x,f){var E=x.position(),O=x.outerWidth(),L=x.outerHeight();if(2===f.value.length){var F=[f.pfValue[0],f.pfValue[1]];return"%"===f.units[0]&&(F[0]=F[0]*O),"%"===f.units[1]&&(F[1]=F[1]*L),F[0]+=E.x,F[1]+=E.y,F}var st=f.pfValue[0];st=-Math.PI/2+st;var ft=2*Math.max(O,L),lt=[E.x+Math.cos(st)*ft,E.y+Math.sin(st)*ft];return this.nodeShapes[this.getNodeShape(x)].intersectLine(E.x,E.y,O,L,lt[0],lt[1],0)},findEndpoints:function(x){var w,Ye,ze,Oe,Ze,f=this,E=x.source()[0],O=x.target()[0],L=E.position(),F=O.position(),st=x.pstyle("target-arrow-shape").value,ft=x.pstyle("source-arrow-shape").value,lt=x.pstyle("target-distance-from-node").pfValue,yt=x.pstyle("source-distance-from-node").pfValue,Ct=x.pstyle("curve-style").value,Lt=x._private.rscratch,zt=Lt.edgeType,Bt="self"===zt||"compound"===zt,Qt="bezier"===zt||"multibezier"===zt||Bt,re="bezier"!==zt,le="straight"===zt||"segments"===zt,ue="segments"===zt,xe=Qt||re||le,Be=Bt||"taxi"===Ct,je=x.pstyle("source-endpoint"),ye=Be?"outside-to-node":je.value,Ve=x.pstyle("target-endpoint"),De=Be?"outside-to-node":Ve.value;if(Lt.srcManEndpt=je,Lt.tgtManEndpt=Ve,Qt){var Le=[Lt.ctrlpts[0],Lt.ctrlpts[1]];Ye=re?[Lt.ctrlpts[Lt.ctrlpts.length-2],Lt.ctrlpts[Lt.ctrlpts.length-1]]:Le,ze=Le}else if(le){var hi=ue?Lt.segpts.slice(0,2):[F.x,F.y];Ye=ue?Lt.segpts.slice(Lt.segpts.length-2):[L.x,L.y],ze=hi}if("inside-to-node"===De)w=[F.x,F.y];else if(Ve.units)w=this.manualEndptToPx(O,Ve);else if("outside-to-line"===De)w=Lt.tgtIntn;else if("outside-to-node"===De||"outside-to-node-or-label"===De?Oe=Ye:("outside-to-line"===De||"outside-to-line-or-label"===De)&&(Oe=[L.x,L.y]),w=f.nodeShapes[this.getNodeShape(O)].intersectLine(F.x,F.y,O.outerWidth(),O.outerHeight(),Oe[0],Oe[1],0),"outside-to-node-or-label"===De||"outside-to-line-or-label"===De){var fi=O._private.rscratch,Ei=fi.labelX,si=fi.labelY,Hi=fi.labelWidth/2,Ne=fi.labelHeight/2,zi=O.pstyle("text-valign").value;"top"===zi?si-=Ne:"bottom"===zi&&(si+=Ne);var ji=O.pstyle("text-halign").value;"left"===ji?Ei-=Hi:"right"===ji&&(Ei+=Hi);var wi=vh(Oe[0],Oe[1],[Ei-Hi,si-Ne,Ei+Hi,si-Ne,Ei+Hi,si+Ne,Ei-Hi,si+Ne],F.x,F.y);if(wi.length>0){var Oi=L,Gi=Lf(Oi,mh(w)),qi=Lf(Oi,mh(wi)),gn=Gi;qi<Gi&&(w=wi,gn=qi),wi.length>2&&Lf(Oi,{x:wi[2],y:wi[3]})<gn&&(w=[wi[2],wi[3]])}}var wr=fo(w,Ye,f.arrowShapes[st].spacing(x)+lt),Sn=fo(w,Ye,f.arrowShapes[st].gap(x)+lt);if(Lt.endX=Sn[0],Lt.endY=Sn[1],Lt.arrowEndX=wr[0],Lt.arrowEndY=wr[1],"inside-to-node"===ye)w=[L.x,L.y];else if(je.units)w=this.manualEndptToPx(E,je);else if("outside-to-line"===ye)w=Lt.srcIntn;else if("outside-to-node"===ye||"outside-to-node-or-label"===ye?Ze=ze:("outside-to-line"===ye||"outside-to-line-or-label"===ye)&&(Ze=[F.x,F.y]),w=f.nodeShapes[this.getNodeShape(E)].intersectLine(L.x,L.y,E.outerWidth(),E.outerHeight(),Ze[0],Ze[1],0),"outside-to-node-or-label"===ye||"outside-to-line-or-label"===ye){var dn=E._private.rscratch,An=dn.labelX,ir=dn.labelY,Co=dn.labelWidth/2,mo=dn.labelHeight/2,Xr=E.pstyle("text-valign").value;"top"===Xr?ir-=mo:"bottom"===Xr&&(ir+=mo);var ai=E.pstyle("text-halign").value;"left"===ai?An-=Co:"right"===ai&&(An+=Co);var Ae=vh(Ze[0],Ze[1],[An-Co,ir-mo,An+Co,ir-mo,An+Co,ir+mo,An-Co,ir+mo],L.x,L.y);if(Ae.length>0){var Ii=F,$i=Lf(Ii,mh(w)),Bi=Lf(Ii,mh(Ae)),Ni=$i;Bi<$i&&(w=[Ae[0],Ae[1]],Ni=Bi),Ae.length>2&&Lf(Ii,{x:Ae[2],y:Ae[3]})<Ni&&(w=[Ae[2],Ae[3]])}}var Xi=fo(w,ze,f.arrowShapes[ft].spacing(x)+yt),Nn=fo(w,ze,f.arrowShapes[ft].gap(x)+yt);Lt.startX=Nn[0],Lt.startY=Nn[1],Lt.arrowStartX=Xi[0],Lt.arrowStartY=Xi[1],xe&&(Lt.badLine=!(Mt(Lt.startX)&&Mt(Lt.startY)&&Mt(Lt.endX)&&Mt(Lt.endY)))},getSourceEndpoint:function(x){var f=x[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(x),f.edgeType)?{x:f.haystackPts[0],y:f.haystackPts[1]}:{x:f.arrowStartX,y:f.arrowStartY}},getTargetEndpoint:function(x){var f=x[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(x),f.edgeType)?{x:f.haystackPts[2],y:f.haystackPts[3]}:{x:f.arrowEndX,y:f.arrowEndY}}},wm={};function Iy(x,f,w){for(var E=function(lt,yt,Ct,Lt){return Ca(lt,yt,Ct,Lt)},L=f._private.rstyle.bezierPts,F=0;F<x.bezierProjPcts.length;F++){var st=x.bezierProjPcts[F];L.push({x:E(w[0],w[2],w[4],st),y:E(w[1],w[3],w[5],st)})}}wm.storeEdgeProjections=function(x){var f=x._private,w=f.rscratch,E=w.edgeType;if(f.rstyle.bezierPts=null,f.rstyle.linePts=null,f.rstyle.haystackPts=null,"multibezier"===E||"bezier"===E||"self"===E||"compound"===E){f.rstyle.bezierPts=[];for(var O=0;O+5<w.allpts.length;O+=4)Iy(this,x,w.allpts.slice(O,O+6))}else if("segments"===E){var L=f.rstyle.linePts=[];for(O=0;O+1<w.allpts.length;O+=2)L.push({x:w.allpts[O],y:w.allpts[O+1]})}else if("haystack"===E){var F=w.haystackPts;f.rstyle.haystackPts=[{x:F[0],y:F[1]},{x:F[2],y:F[3]}]}f.rstyle.arrowWidth=this.getArrowWidth(x.pstyle("width").pfValue,x.pstyle("arrow-scale").value)*this.arrowShapeWidth},wm.recalculateEdgeProjections=function(x){this.findEdgeControlPoints(x)};var Ku={recalculateNodeLabelProjection:function(x){var f=x.pstyle("label").strValue;if(!C(f)){var w,E,O=x._private,L=x.width(),F=x.height(),st=x.padding(),ft=x.position(),lt=x.pstyle("text-halign").strValue,yt=x.pstyle("text-valign").strValue,Ct=O.rscratch,Lt=O.rstyle;switch(lt){case"left":w=ft.x-L/2-st;break;case"right":w=ft.x+L/2+st;break;default:w=ft.x}switch(yt){case"top":E=ft.y-F/2-st;break;case"bottom":E=ft.y+F/2+st;break;default:E=ft.y}Ct.labelX=w,Ct.labelY=E,Lt.labelX=w,Lt.labelY=E,this.calculateLabelAngles(x),this.applyLabelDimensions(x)}}},Jd=function(f,w){var E=Math.atan(w/f);return 0===f&&E<0&&(E*=-1),E},bm=function(f,w){return Jd(w.x-f.x,w.y-f.y)};Ku.recalculateEdgeLabelProjections=function(x){var f,w=x._private,E=w.rscratch,O=this,L={mid:x.pstyle("label").strValue,source:x.pstyle("source-label").strValue,target:x.pstyle("target-label").strValue};if(L.mid||L.source||L.target){var F=function(Ct,Lt,zt){Yn(w.rscratch,Ct,Lt,zt),Yn(w.rstyle,Ct,Lt,zt)};F("labelX",null,(f={x:E.midX,y:E.midY}).x),F("labelY",null,f.y);var st=Jd(E.midDispX,E.midDispY);F("labelAutoAngle",null,st);var ft=function yt(){if(yt.cache)return yt.cache;for(var Ct=[],Lt=0;Lt+5<E.allpts.length;Lt+=4)Ct.push({p0:{x:E.allpts[Lt],y:E.allpts[Lt+1]},p1:{x:E.allpts[Lt+2],y:E.allpts[Lt+3]},p2:{x:E.allpts[Lt+4],y:E.allpts[Lt+5]},startDist:0,length:0,segments:[]});var Qt=w.rstyle.bezierPts,re=O.bezierProjPcts.length;function le(ye,Ve,De,Ye,ze){var Oe=Od(Ve,De),Ze=ye.segments[ye.segments.length-1];ye.segments.push({p0:Ve,p1:De,t0:Ye,t1:ze,startDist:Ze?Ze.startDist+Ze.length:0,length:Oe}),ye.length+=Oe}for(var ue=0;ue<Ct.length;ue++){var xe=Ct[ue],Be=Ct[ue-1];Be&&(xe.startDist=Be.startDist+Be.length),le(xe,xe.p0,Qt[ue*re],0,O.bezierProjPcts[0]);for(var je=0;je<re-1;je++)le(xe,Qt[ue*re+je],Qt[ue*re+je+1],O.bezierProjPcts[je],O.bezierProjPcts[je+1]);le(xe,Qt[ue*re+re-1],xe.p2,O.bezierProjPcts[re-1],1)}return yt.cache=Ct},lt=function(Ct){var Lt,zt="source"===Ct;if(L[Ct]){var Wt=x.pstyle(Ct+"-text-offset").pfValue;switch(E.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var Qt,Bt=ft(),re=0,le=0,ue=0;ue<Bt.length;ue++){for(var xe=Bt[zt?ue:Bt.length-1-ue],Be=0;Be<xe.segments.length;Be++){var je=xe.segments[zt?Be:xe.segments.length-1-Be];if(re=le,(le+=je.length)>=Wt||ue===Bt.length-1&&Be===xe.segments.length-1){Qt={cp:xe,segment:je};break}}if(Qt)break}var Ve=Qt.cp,De=Qt.segment,Ye=(Wt-re)/De.length,ze=De.t1-De.t0,Oe=zt?De.t0+ze*Ye:De.t1-ze*Ye;Oe=kr(0,Oe,1),f=aa(Ve.p0,Ve.p1,Ve.p2,Oe),Lt=function(f,w,E,O){var L=kr(0,O-.001,1),F=kr(0,O+.001,1),st=aa(f,w,E,L),ft=aa(f,w,E,F);return bm(st,ft)}(Ve.p0,Ve.p1,Ve.p2,Oe);break;case"straight":case"segments":case"haystack":for(var Le,Mi,hi,Ci,Ze=0,fi=E.allpts.length,xi=0;xi+3<fi&&(zt?(hi={x:E.allpts[xi],y:E.allpts[xi+1]},Ci={x:E.allpts[xi+2],y:E.allpts[xi+3]}):(hi={x:E.allpts[fi-2-xi],y:E.allpts[fi-1-xi]},Ci={x:E.allpts[fi-4-xi],y:E.allpts[fi-3-xi]}),Mi=Ze,!((Ze+=Le=Od(hi,Ci))>=Wt));xi+=2);var Ei=(Wt-Mi)/Le;Ei=kr(0,Ei,1),f=function(f,w,E,O){var L_x=w.x-f.x,L_y=w.y-f.y,F=Od(f,w);return E=null==E?0:E,{x:f.x+L_x/F*(O=null!=O?O:E*F),y:f.y+L_y/F*O}}(hi,Ci,Ei),Lt=bm(hi,Ci)}F("labelX",Ct,f.x),F("labelY",Ct,f.y),F("labelAutoAngle",Ct,Lt)}};lt("source"),lt("target"),this.applyLabelDimensions(x)}},Ku.applyLabelDimensions=function(x){this.applyPrefixedLabelDimensions(x),x.isEdge()&&(this.applyPrefixedLabelDimensions(x,"source"),this.applyPrefixedLabelDimensions(x,"target"))},Ku.applyPrefixedLabelDimensions=function(x,f){var w=x._private,E=this.getLabelText(x,f),O=this.calculateLabelDimensions(x,E),L=x.pstyle("line-height").pfValue,F=x.pstyle("text-wrap").strValue,st=In(w.rscratch,"labelWrapCachedLines",f)||[],ft="wrap"!==F?1:Math.max(st.length,1),lt=O.height/ft,yt=lt*L,Ct=O.width,Lt=O.height+(ft-1)*(L-1)*lt;Yn(w.rstyle,"labelWidth",f,Ct),Yn(w.rscratch,"labelWidth",f,Ct),Yn(w.rstyle,"labelHeight",f,Lt),Yn(w.rscratch,"labelHeight",f,Lt),Yn(w.rscratch,"labelLineHeight",f,yt)},Ku.getLabelText=function(x,f){var w=x._private,O=x.pstyle((f?f+"-":"")+"label").strValue,L=x.pstyle("text-transform").value,F=function(Li,Ei){return Ei?(Yn(w.rscratch,Li,f,Ei),Ei):In(w.rscratch,Li,f)};if(!O)return"";"none"==L||("uppercase"==L?O=O.toUpperCase():"lowercase"==L&&(O=O.toLowerCase()));var st=x.pstyle("text-wrap").value;if("wrap"===st){var ft=F("labelKey");if(null!=ft&&F("labelWrapKey")===ft)return F("labelWrapCachedText");for(var yt=O.split("\n"),Ct=x.pstyle("text-max-width").pfValue,zt="anywhere"===x.pstyle("text-overflow-wrap").value,Wt=[],Bt=/[\s\u200b]+/,Qt=zt?"":" ",re=0;re<yt.length;re++){var le=yt[re],xe=this.calculateLabelDimensions(x,le).width;if(zt){var Be=le.split("").join("\u200b");le=Be}if(xe>Ct){for(var je=le.split(Bt),ye="",Ve=0;Ve<je.length;Ve++){var De=je[Ve];this.calculateLabelDimensions(x,0===ye.length?De:ye+Qt+De).width<=Ct?ye+=De+Qt:(ye&&Wt.push(ye),ye=De+Qt)}ye.match(/^[\s\u200b]+$/)||Wt.push(ye)}else Wt.push(le)}F("labelWrapCachedLines",Wt),O=F("labelWrapCachedText",Wt.join("\n")),F("labelWrapKey",ft)}else if("ellipsis"===st){var Ze=x.pstyle("text-max-width").pfValue,Le="",hi=!1;if(this.calculateLabelDimensions(x,O).width<Ze)return O;for(var Ci=0;Ci<O.length&&!(this.calculateLabelDimensions(x,Le+O[Ci]+"\u2026").width>Ze);Ci++)Le+=O[Ci],Ci===O.length-1&&(hi=!0);return hi||(Le+="\u2026"),Le}return O},Ku.getLabelJustification=function(x){var f=x.pstyle("text-justification").strValue,w=x.pstyle("text-halign").strValue;if("auto"!==f)return f;if(!x.isNode())return"center";switch(w){case"left":return"right";case"right":return"left";default:return"center"}},Ku.calculateLabelDimensions=function(x,f){var E=_i(f,x._private.labelDimsKey),O=this.labelDimCache||(this.labelDimCache=[]),L=O[E];if(null!=L)return L;var st=x.pstyle("font-style").strValue,ft=x.pstyle("font-size").pfValue,lt=x.pstyle("font-family").strValue,yt=x.pstyle("font-weight").strValue,Ct=this.labelCalcCanvas,Lt=this.labelCalcCanvasContext;if(!Ct){Ct=this.labelCalcCanvas=document.createElement("canvas"),Lt=this.labelCalcCanvasContext=Ct.getContext("2d");var zt=Ct.style;zt.position="absolute",zt.left="-9999px",zt.top="-9999px",zt.zIndex="-1",zt.visibility="hidden",zt.pointerEvents="none"}Lt.font="".concat(st," ").concat(yt," ").concat(ft,"px ").concat(lt);for(var Wt=0,Bt=0,Qt=f.split("\n"),re=0;re<Qt.length;re++){var ue=Lt.measureText(Qt[re]),xe=Math.ceil(ue.width),Be=ft;Wt=Math.max(xe,Wt),Bt+=Be}return O[E]={width:Wt+=0,height:Bt+=0}},Ku.calculateLabelAngle=function(x,f){var E=x._private.rscratch,O=x.isEdge(),F=x.pstyle((f?f+"-":"")+"text-rotation"),st=F.strValue;return"none"===st?0:O&&"autorotate"===st?E.labelAutoAngle:"autorotate"===st?0:F.pfValue},Ku.calculateLabelAngles=function(x){var f=this,w=x.isEdge(),O=x._private.rscratch;O.labelAngle=f.calculateLabelAngle(x),w&&(O.sourceLabelAngle=f.calculateLabelAngle(x,"source"),O.targetLabelAngle=f.calculateLabelAngle(x,"target"))};var rv={},sv=!1;rv.getNodeShape=function(x){var w=x.pstyle("shape").value;if("cutrectangle"===w&&(x.width()<28||x.height()<28))return sv||(Ie("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),sv=!0),"rectangle";if(x.isParent())return"rectangle"===w||"roundrectangle"===w||"round-rectangle"===w||"cutrectangle"===w||"cut-rectangle"===w||"barrel"===w?w:"rectangle";if("polygon"===w){var E=x.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(E).name}return w};var sd={updateCachedGrabbedEles:function(){var x=this.cachedZSortedEles;if(x){x.drag=[],x.nondrag=[];for(var f=[],w=0;w<x.length;w++){var O=(E=x[w])._private.rscratch;E.grabbed()&&!E.isParent()?f.push(E):O.inDragLayer?x.drag.push(E):x.nondrag.push(E)}for(w=0;w<f.length;w++){var E;x.drag.push(E=f[w])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(x){if(x||!this.cachedZSortedEles){var f=this.cy.mutableElements().toArray();f.sort(sf),f.interactive=f.filter(function(w){return w.interactive()}),this.cachedZSortedEles=f,this.updateCachedGrabbedEles()}else f=this.cachedZSortedEles;return f}},er={};[od,xm,ea,ru,wm,Ku,rv,{registerCalculationListeners:function(){var x=this.cy,f=x.collection(),w=this,E=function(F){var st=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(f.merge(F),st)for(var ft=0;ft<F.length;ft++){var lt=F[ft],yt=lt._private,Ct=yt.rstyle;Ct.clean=!1,Ct.cleanConnected=!1}};w.binder(x).on("bounds.* dirty.*",function(F){E(F.target)}).on("style.* background.*",function(F){E(F.target,!1)});var O=function(F){if(F){var st=w.onUpdateEleCalcsFns;f.cleanStyle();for(var ft=0;ft<f.length;ft++){var lt=f[ft],yt=lt._private.rstyle;lt.isNode()&&!yt.cleanConnected&&(E(lt.connectedEdges()),yt.cleanConnected=!0)}if(st)for(var Ct=0;Ct<st.length;Ct++)(0,st[Ct])(F,f);w.recalculateRenderedStyle(f),f=x.collection()}};w.flushRenderedStyleQueue=function(){O(!0)},w.beforeRender(O,w.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(x){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(x)},recalculateRenderedStyle:function(x,f){var w=function(xe){return xe._private.rstyle.cleanConnected},E=[],O=[];if(!this.destroyed){void 0===f&&(f=!0);for(var L=0;L<x.length;L++){var F=x[L],st=F._private,ft=st.rstyle;F.isEdge()&&(!w(F.source())||!w(F.target()))&&(ft.clean=!1),!(f&&ft.clean||F.removed())&&"none"!==F.pstyle("display").value&&("nodes"===st.group?O.push(F):E.push(F),ft.clean=!0)}for(var lt=0;lt<O.length;lt++){var yt=O[lt],Lt=yt._private.rstyle,zt=yt.position();this.recalculateNodeLabelProjection(yt),Lt.nodeX=zt.x,Lt.nodeY=zt.y,Lt.nodeW=yt.pstyle("width").pfValue,Lt.nodeH=yt.pstyle("height").pfValue}this.recalculateEdgeProjections(E);for(var Wt=0;Wt<E.length;Wt++){var Qt=E[Wt]._private,re=Qt.rstyle,le=Qt.rscratch;re.srcX=le.arrowStartX,re.srcY=le.arrowStartY,re.tgtX=le.arrowEndX,re.tgtY=le.arrowEndY,re.midX=le.midX,re.midY=le.midY,re.labelAngle=le.labelAngle,re.sourceLabelAngle=le.sourceLabelAngle,re.targetLabelAngle=le.targetLabelAngle}}}},sd].forEach(function(x){Ht(er,x)});var pa={getCachedImage:function(x,f,w){var O=this.imageCache=this.imageCache||{},L=O[x];if(L)return L.image.complete||L.image.addEventListener("load",w),L.image;var F=(L=O[x]=O[x]||{}).image=new Image;return F.addEventListener("load",w),F.addEventListener("error",function(){F.error=!0}),"data:"===x.substring(0,"data:".length).toLowerCase()||(F.crossOrigin=f),F.src=x,F}},ts={registerBinding:function(x,f,w,E){var O=Array.prototype.slice.apply(arguments,[1]),L=this.binder(x);return L.on.apply(L,O)},binder:function(x){var f=this,w=x===window||x===document||x===document.body||function(f){return"undefined"!=typeof HTMLElement&&f instanceof HTMLElement}(x);if(null==f.supportsPassiveEvents){var E=!1;try{var O=Object.defineProperty({},"passive",{get:function(){return E=!0,!0}});window.addEventListener("test",null,O)}catch(F){}f.supportsPassiveEvents=E}var L=function(st,ft,lt){var yt=Array.prototype.slice.call(arguments);return w&&f.supportsPassiveEvents&&(yt[2]={capture:null!=lt&&lt,passive:!1,once:!1}),f.bindings.push({target:x,args:yt}),(x.addEventListener||x.on).apply(x,yt),this};return{on:L,addEventListener:L,addListener:L,bind:L}},nodeIsDraggable:function(x){return x&&x.isNode()&&!x.locked()&&x.grabbable()},nodeIsGrabbable:function(x){return this.nodeIsDraggable(x)&&x.interactive()}};ts.load=function(){var x=this,f=function(Ae){return Ae.selected()},w=function(Ae,Ii,$i,Bi){null==Ae&&(Ae=x.cy);for(var Ni=0;Ni<Ii.length;Ni++)Ae.emit({originalEvent:$i,type:Ii[Ni],position:Bi})},E=function(Ae){return Ae.shiftKey||Ae.metaKey||Ae.ctrlKey},O=function(Ae,Ii){var $i=!0;if(x.cy.hasCompoundNodes()&&Ae&&Ae.pannable()){for(var Bi=0;Ii&&Bi<Ii.length;Bi++)if((Ae=Ii[Bi]).isNode()&&Ae.isParent()&&!Ae.pannable()){$i=!1;break}}else $i=!0;return $i},st=function(Ae){Ae[0]._private.rscratch.inDragLayer=!0},lt=function(Ae){Ae[0]._private.rscratch.isGrabTarget=!0},Ct=function(Ae,Ii){var $i=Ii.addToList;$i.has(Ae)||($i.merge(Ae),function(Ae){Ae[0]._private.grabbed=!0}(Ae))},zt=function(Ae,Ii){Ii=Ii||{};var $i=Ae.cy().hasCompoundNodes();Ii.inDragLayer&&(Ae.forEach(st),Ae.neighborhood().stdFilter(function(Bi){return!$i||Bi.isEdge()}).forEach(st)),Ii.addToList&&Ae.forEach(function(Bi){Ct(Bi,Ii)}),function(Ae,Ii){if(Ae.cy().hasCompoundNodes()&&(null!=Ii.inDragLayer||null!=Ii.addToList)){var $i=Ae.descendants();Ii.inDragLayer&&($i.forEach(st),$i.connectedEdges().forEach(st)),Ii.addToList&&Ii.addToList.unmerge($i)}}(Ae,Ii),Qt(Ae,{inDragLayer:Ii.inDragLayer}),x.updateCachedGrabbedEles()},Wt=zt,Bt=function(Ae){!Ae||(x.getCachedZSortedEles().forEach(function(Ii){(function(Ae){Ae[0]._private.grabbed=!1})(Ii),function(Ae){Ae[0]._private.rscratch.inDragLayer=!1}(Ii),function(Ae){Ae[0]._private.rscratch.isGrabTarget=!1}(Ii)}),x.updateCachedGrabbedEles())},Qt=function(Ae,Ii){if((null!=Ii.inDragLayer||null!=Ii.addToList)&&Ae.cy().hasCompoundNodes()){var $i=Ae.ancestors().orphans();if(!$i.same(Ae)){var Bi=$i.descendants().spawnSelf().merge($i).unmerge(Ae).unmerge(Ae.descendants()),Ni=Bi.connectedEdges();Ii.inDragLayer&&(Ni.forEach(st),Bi.forEach(st)),Ii.addToList&&Bi.forEach(function(We){Ct(We,Ii)})}}},re=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},le="undefined"!=typeof MutationObserver,ue="undefined"!=typeof ResizeObserver;le?(x.removeObserver=new MutationObserver(function(ai){for(var Ae=0;Ae<ai.length;Ae++){var $i=ai[Ae].removedNodes;if($i)for(var Bi=0;Bi<$i.length;Bi++)if($i[Bi]===x.container){x.destroy();break}}}),x.container.parentNode&&x.removeObserver.observe(x.container.parentNode,{childList:!0})):x.registerBinding(x.container,"DOMNodeRemoved",function(ai){x.destroy()});var xe=Pt(function(){x.cy.resize()},100);le&&(x.styleObserver=new MutationObserver(xe),x.styleObserver.observe(x.container,{attributes:!0})),x.registerBinding(window,"resize",xe),ue&&(x.resizeObserver=new ResizeObserver(xe),x.resizeObserver.observe(x.container));var je=function(){x.invalidateContainerClientCoordsCache()};(function(Ae,Ii){for(;null!=Ae;)x.registerBinding(ai=Ae,"transitionend",je),x.registerBinding(ai,"animationend",je),x.registerBinding(ai,"scroll",je),Ae=Ae.parentNode;var ai})(x.container),x.registerBinding(x.container,"contextmenu",function(ai){ai.preventDefault()});var De,Ye,ze,Ve=function(Ae){for(var Ii=x.findContainerClientCoords(),$i=Ii[0],Bi=Ii[1],Ni=Ii[2],We=Ii[3],Xi=Ae.touches?Ae.touches:[Ae],Nn=!1,nr=0;nr<Xi.length;nr++){var Oo=Xi[nr];if($i<=Oo.clientX&&Oo.clientX<=$i+Ni&&Bi<=Oo.clientY&&Oo.clientY<=Bi+We){Nn=!0;break}}if(!Nn)return!1;for(var Gr=x.container,Cr=Ae.target.parentNode,Wr=!1;Cr;){if(Cr===Gr){Wr=!0;break}Cr=Cr.parentNode}return!!Wr};x.registerBinding(x.container,"mousedown",function(Ae){if(Ve(Ae)){Ae.preventDefault(),re(),x.hoverData.capture=!0,x.hoverData.which=Ae.which;var Ii=x.cy,$i=[Ae.clientX,Ae.clientY],Bi=x.projectIntoViewport($i[0],$i[1]),Ni=x.selection,We=x.findNearestElements(Bi[0],Bi[1],!0,!1),Xi=We[0],Nn=x.dragData.possibleDragElements;if(x.hoverData.mdownPos=Bi,x.hoverData.mdownGPos=$i,3==Ae.which){x.hoverData.cxtStarted=!0;var Oo={originalEvent:Ae,type:"cxttapstart",position:{x:Bi[0],y:Bi[1]}};Xi?(Xi.activate(),Xi.emit(Oo),x.hoverData.down=Xi):Ii.emit(Oo),x.hoverData.downTime=(new Date).getTime(),x.hoverData.cxtDragged=!1}else if(1==Ae.which){if(Xi&&Xi.activate(),null!=Xi&&x.nodeIsGrabbable(Xi)){var Gr=function(ws){return{originalEvent:Ae,type:ws,position:{x:Bi[0],y:Bi[1]}}};if(lt(Xi),Xi.selected()){Nn=x.dragData.possibleDragElements=Ii.collection();var Cr=Ii.$(function(Wr){return Wr.isNode()&&Wr.selected()&&x.nodeIsGrabbable(Wr)});zt(Cr,{addToList:Nn}),Xi.emit(Gr("grabon")),Cr.forEach(function(ws){ws.emit(Gr("grab"))})}else Nn=x.dragData.possibleDragElements=Ii.collection(),Wt(Xi,{addToList:Nn}),Xi.emit(Gr("grabon")).emit(Gr("grab"));x.redrawHint("eles",!0),x.redrawHint("drag",!0)}x.hoverData.down=Xi,x.hoverData.downs=We,x.hoverData.downTime=(new Date).getTime(),w(Xi,["mousedown","tapstart","vmousedown"],Ae,{x:Bi[0],y:Bi[1]}),null==Xi?(Ni[4]=1,x.data.bgActivePosistion={x:Bi[0],y:Bi[1]},x.redrawHint("select",!0),x.redraw()):Xi.pannable()&&(Ni[4]=1),x.hoverData.tapholdCancelled=!1,clearTimeout(x.hoverData.tapholdTimeout),x.hoverData.tapholdTimeout=setTimeout(function(){if(!x.hoverData.tapholdCancelled){var ws=x.hoverData.down;ws?ws.emit({originalEvent:Ae,type:"taphold",position:{x:Bi[0],y:Bi[1]}}):Ii.emit({originalEvent:Ae,type:"taphold",position:{x:Bi[0],y:Bi[1]}})}},x.tapholdDuration)}Ni[0]=Ni[2]=Bi[0],Ni[1]=Ni[3]=Bi[1]}},!1),x.registerBinding(window,"mousemove",function(Ae){var Ia;if(x.hoverData.capture||Ve(Ae)){var $i=!1,Bi=x.cy,Ni=Bi.zoom(),We=[Ae.clientX,Ae.clientY],Xi=x.projectIntoViewport(We[0],We[1]),Nn=x.hoverData.mdownPos,nr=x.hoverData.mdownGPos,Oo=x.selection,Gr=null;!x.hoverData.draggingEles&&!x.hoverData.dragging&&!x.hoverData.selecting&&(Gr=x.findNearestElement(Xi[0],Xi[1],!0,!1));var xa,So=x.hoverData.last,Cr=x.hoverData.down,Wr=[Xi[0]-Oo[2],Xi[1]-Oo[3]],ws=x.dragData.possibleDragElements;if(nr){var au=We[0]-nr[0],Pa=We[1]-nr[1];x.hoverData.isOverThresholdDrag=xa=au*au+Pa*Pa>=x.desktopTapThreshold2}var xc=E(Ae);xa&&(x.hoverData.tapholdCancelled=!0),$i=!0,w(Gr,["mousemove","vmousemove","tapdrag"],Ae,{x:Xi[0],y:Xi[1]});var Ka=function(){x.data.bgActivePosistion=void 0,x.hoverData.selecting||Bi.emit({originalEvent:Ae,type:"boxstart",position:{x:Xi[0],y:Xi[1]}}),Oo[4]=1,x.hoverData.selecting=!0,x.redrawHint("select",!0),x.redraw()};if(3===x.hoverData.which){if(xa){var df={originalEvent:Ae,type:"cxtdrag",position:{x:Xi[0],y:Xi[1]}};Cr?Cr.emit(df):Bi.emit(df),x.hoverData.cxtDragged=!0,(!x.hoverData.cxtOver||Gr!==x.hoverData.cxtOver)&&(x.hoverData.cxtOver&&x.hoverData.cxtOver.emit({originalEvent:Ae,type:"cxtdragout",position:{x:Xi[0],y:Xi[1]}}),x.hoverData.cxtOver=Gr,Gr&&Gr.emit({originalEvent:Ae,type:"cxtdragover",position:{x:Xi[0],y:Xi[1]}}))}}else if(x.hoverData.dragging){if($i=!0,Bi.panningEnabled()&&Bi.userPanningEnabled()){var wc;if(x.hoverData.justStartedPan){var bc=x.hoverData.mdownPos;wc={x:(Xi[0]-bc[0])*Ni,y:(Xi[1]-bc[1])*Ni},x.hoverData.justStartedPan=!1}else wc={x:Wr[0]*Ni,y:Wr[1]*Ni};Bi.panBy(wc),Bi.emit("dragpan"),x.hoverData.dragged=!0}Xi=x.projectIntoViewport(Ae.clientX,Ae.clientY)}else if(1!=Oo[4]||null!=Cr&&!Cr.pannable()){if(Cr&&Cr.pannable()&&Cr.active()&&Cr.unactivate(),(!Cr||!Cr.grabbed())&&Gr!=So&&(So&&w(So,["mouseout","tapdragout"],Ae,{x:Xi[0],y:Xi[1]}),Gr&&w(Gr,["mouseover","tapdragover"],Ae,{x:Xi[0],y:Xi[1]}),x.hoverData.last=Gr),Cr)if(xa){if(Bi.boxSelectionEnabled()&&xc)Cr&&Cr.grabbed()&&(Bt(ws),Cr.emit("freeon"),ws.emit("free"),x.dragData.didDrag&&(Cr.emit("dragfreeon"),ws.emit("dragfree"))),Ka();else if(Cr&&Cr.grabbed()&&x.nodeIsDraggable(Cr)){var Ys=!x.dragData.didDrag;Ys&&x.redrawHint("eles",!0),x.dragData.didDrag=!0;var Cl=Bi.collection();x.hoverData.draggingEles||zt(ws,{inDragLayer:!0});var Sl={x:0,y:0};if(Mt(Wr[0])&&Mt(Wr[1])&&(Sl.x+=Wr[0],Sl.y+=Wr[1],Ys)){var up=x.hoverData.dragDelta;up&&Mt(up[0])&&Mt(up[1])&&(Sl.x+=up[0],Sl.y+=up[1])}for(var _c=0;_c<ws.length;_c++){var bs=ws[_c];x.nodeIsDraggable(bs)&&bs.grabbed()&&Cl.push(bs)}x.hoverData.draggingEles=!0,Cl.silentShift(Sl).emit("position drag"),x.redrawHint("drag",!0),x.redraw()}}else 0===(Ia=x.hoverData.dragDelta=x.hoverData.dragDelta||[]).length?(Ia.push(Wr[0]),Ia.push(Wr[1])):(Ia[0]+=Wr[0],Ia[1]+=Wr[1]);$i=!0}else xa&&(x.hoverData.dragging||!Bi.boxSelectionEnabled()||!xc&&Bi.panningEnabled()&&Bi.userPanningEnabled()?!x.hoverData.selecting&&Bi.panningEnabled()&&Bi.userPanningEnabled()&&O(Cr,x.hoverData.downs)&&(x.hoverData.dragging=!0,x.hoverData.justStartedPan=!0,Oo[4]=0,x.data.bgActivePosistion=mh(Nn),x.redrawHint("select",!0),x.redraw()):Ka(),Cr&&Cr.pannable()&&Cr.active()&&Cr.unactivate());if(Oo[2]=Xi[0],Oo[3]=Xi[1],$i)return Ae.stopPropagation&&Ae.stopPropagation(),Ae.preventDefault&&Ae.preventDefault(),!1}},!1),x.registerBinding(window,"mouseup",function(Ae){if(x.hoverData.capture){x.hoverData.capture=!1;var $i=x.cy,Bi=x.projectIntoViewport(Ae.clientX,Ae.clientY),Ni=x.selection,We=x.findNearestElement(Bi[0],Bi[1],!0,!1),Xi=x.dragData.possibleDragElements,Nn=x.hoverData.down,nr=E(Ae);if(x.data.bgActivePosistion&&(x.redrawHint("select",!0),x.redraw()),x.hoverData.tapholdCancelled=!0,x.data.bgActivePosistion=void 0,Nn&&Nn.unactivate(),3===x.hoverData.which){var Oo={originalEvent:Ae,type:"cxttapend",position:{x:Bi[0],y:Bi[1]}};if(Nn?Nn.emit(Oo):$i.emit(Oo),!x.hoverData.cxtDragged){var Gr={originalEvent:Ae,type:"cxttap",position:{x:Bi[0],y:Bi[1]}};Nn?Nn.emit(Gr):$i.emit(Gr)}x.hoverData.cxtDragged=!1,x.hoverData.which=null}else if(1===x.hoverData.which){if(w(We,["mouseup","tapend","vmouseup"],Ae,{x:Bi[0],y:Bi[1]}),!x.dragData.didDrag&&!x.hoverData.dragged&&!x.hoverData.selecting&&!x.hoverData.isOverThresholdDrag&&(w(Nn,["click","tap","vclick"],Ae,{x:Bi[0],y:Bi[1]}),Ye=!1,Ae.timeStamp-ze<=$i.multiClickDebounceTime()?(De&&clearTimeout(De),Ye=!0,ze=null,w(Nn,["dblclick","dbltap","vdblclick"],Ae,{x:Bi[0],y:Bi[1]})):(De=setTimeout(function(){Ye||w(Nn,["oneclick","onetap","voneclick"],Ae,{x:Bi[0],y:Bi[1]})},$i.multiClickDebounceTime()),ze=Ae.timeStamp)),null==Nn&&!x.dragData.didDrag&&!x.hoverData.selecting&&!x.hoverData.dragged&&!E(Ae)&&($i.$(f).unselect(["tapunselect"]),Xi.length>0&&x.redrawHint("eles",!0),x.dragData.possibleDragElements=Xi=$i.collection()),We==Nn&&!x.dragData.didDrag&&!x.hoverData.selecting&&null!=We&&We._private.selectable&&(x.hoverData.dragging||("additive"===$i.selectionType()||nr?We.selected()?We.unselect(["tapunselect"]):We.select(["tapselect"]):nr||($i.$(f).unmerge(We).unselect(["tapunselect"]),We.select(["tapselect"]))),x.redrawHint("eles",!0)),x.hoverData.selecting){var So=$i.collection(x.getAllInBox(Ni[0],Ni[1],Ni[2],Ni[3]));x.redrawHint("select",!0),So.length>0&&x.redrawHint("eles",!0),$i.emit({type:"boxend",originalEvent:Ae,position:{x:Bi[0],y:Bi[1]}}),"additive"===$i.selectionType()||nr||$i.$(f).unmerge(So).unselect(),So.emit("box").stdFilter(function(xa){return xa.selectable()&&!xa.selected()}).select().emit("boxselect"),x.redraw()}if(x.hoverData.dragging&&(x.hoverData.dragging=!1,x.redrawHint("select",!0),x.redrawHint("eles",!0),x.redraw()),!Ni[4]){x.redrawHint("drag",!0),x.redrawHint("eles",!0);var Wr=Nn&&Nn.grabbed();Bt(Xi),Wr&&(Nn.emit("freeon"),Xi.emit("free"),x.dragData.didDrag&&(Nn.emit("dragfreeon"),Xi.emit("dragfree")))}}Ni[4]=0,x.hoverData.down=null,x.hoverData.cxtStarted=!1,x.hoverData.draggingEles=!1,x.hoverData.selecting=!1,x.hoverData.isOverThresholdDrag=!1,x.dragData.didDrag=!1,x.hoverData.dragged=!1,x.hoverData.dragDelta=[],x.hoverData.mdownPos=null,x.hoverData.mdownGPos=null}},!1);var Oe=function(Ae){if(!x.scrollingPage){var Ii=x.cy,$i=Ii.zoom(),Bi=Ii.pan(),Ni=x.projectIntoViewport(Ae.clientX,Ae.clientY),We=[Ni[0]*$i+Bi.x,Ni[1]*$i+Bi.y];if(x.hoverData.draggingEles||x.hoverData.dragging||x.hoverData.cxtStarted||0!==x.selection[4])return void Ae.preventDefault();if(Ii.panningEnabled()&&Ii.userPanningEnabled()&&Ii.zoomingEnabled()&&Ii.userZoomingEnabled()){var Xi;Ae.preventDefault(),x.data.wheelZooming=!0,clearTimeout(x.data.wheelTimeout),x.data.wheelTimeout=setTimeout(function(){x.data.wheelZooming=!1,x.redrawHint("eles",!0),x.redraw()},150),Xi=null!=Ae.deltaY?Ae.deltaY/-250:null!=Ae.wheelDeltaY?Ae.wheelDeltaY/1e3:Ae.wheelDelta/1e3,Xi*=x.wheelSensitivity,1===Ae.deltaMode&&(Xi*=33);var nr=Ii.zoom()*Math.pow(10,Xi);"gesturechange"===Ae.type&&(nr=x.gestureStartZoom*Ae.scale),Ii.zoom({level:nr,renderedPosition:{x:We[0],y:We[1]}}),Ii.emit("gesturechange"===Ae.type?"pinchzoom":"scrollzoom")}}};x.registerBinding(x.container,"wheel",Oe,!0),x.registerBinding(window,"scroll",function(Ae){x.scrollingPage=!0,clearTimeout(x.scrollingPageTimeout),x.scrollingPageTimeout=setTimeout(function(){x.scrollingPage=!1},250)},!0),x.registerBinding(x.container,"gesturestart",function(Ae){x.gestureStartZoom=x.cy.zoom(),x.hasTouchStarted||Ae.preventDefault()},!0),x.registerBinding(x.container,"gesturechange",function(ai){x.hasTouchStarted||Oe(ai)},!0),x.registerBinding(x.container,"mouseout",function(Ae){var Ii=x.projectIntoViewport(Ae.clientX,Ae.clientY);x.cy.emit({originalEvent:Ae,type:"mouseout",position:{x:Ii[0],y:Ii[1]}})},!1),x.registerBinding(x.container,"mouseover",function(Ae){var Ii=x.projectIntoViewport(Ae.clientX,Ae.clientY);x.cy.emit({originalEvent:Ae,type:"mouseover",position:{x:Ii[0],y:Ii[1]}})},!1);var Ze,Le,Mi,hi,Ci,fi,xi,Li,Ei,si,Hi,Ne,zi,Oi,Gi,qi,gn,mr,wr,Sn,ji=function(Ae,Ii,$i,Bi){return Math.sqrt(($i-Ae)*($i-Ae)+(Bi-Ii)*(Bi-Ii))},wi=function(Ae,Ii,$i,Bi){return($i-Ae)*($i-Ae)+(Bi-Ii)*(Bi-Ii)};if(x.registerBinding(x.container,"touchstart",Oi=function(Ae){if(x.hasTouchStarted=!0,Ve(Ae)){re(),x.touchData.capture=!0,x.data.bgActivePosistion=void 0;var Ii=x.cy,$i=x.touchData.now,Bi=x.touchData.earlier;if(Ae.touches[0]){var Ni=x.projectIntoViewport(Ae.touches[0].clientX,Ae.touches[0].clientY);$i[0]=Ni[0],$i[1]=Ni[1]}if(Ae.touches[1]&&(Ni=x.projectIntoViewport(Ae.touches[1].clientX,Ae.touches[1].clientY),$i[2]=Ni[0],$i[3]=Ni[1]),Ae.touches[2]&&(Ni=x.projectIntoViewport(Ae.touches[2].clientX,Ae.touches[2].clientY),$i[4]=Ni[0],$i[5]=Ni[1]),Ae.touches[1]){x.touchData.singleTouchMoved=!0,Bt(x.dragData.touchDragEles);var We=x.findContainerClientCoords();Hi=We[2],Ne=We[3],Le=Ae.touches[0].clientY-(si=We[1]),Mi=Ae.touches[1].clientX-(Ei=We[0]),hi=Ae.touches[1].clientY-si,zi=0<=(Ze=Ae.touches[0].clientX-Ei)&&Ze<=Hi&&0<=Mi&&Mi<=Hi&&0<=Le&&Le<=Ne&&0<=hi&&hi<=Ne;var Xi=Ii.pan(),Nn=Ii.zoom();if(Ci=ji(Ze,Le,Mi,hi),fi=wi(Ze,Le,Mi,hi),Li=[((xi=[(Ze+Mi)/2,(Le+hi)/2])[0]-Xi.x)/Nn,(xi[1]-Xi.y)/Nn],fi<4e4&&!Ae.touches[2]){var Gr=x.findNearestElement($i[0],$i[1],!0,!0),So=x.findNearestElement($i[2],$i[3],!0,!0);return Gr&&Gr.isNode()?(Gr.activate().emit({originalEvent:Ae,type:"cxttapstart",position:{x:$i[0],y:$i[1]}}),x.touchData.start=Gr):So&&So.isNode()?(So.activate().emit({originalEvent:Ae,type:"cxttapstart",position:{x:$i[0],y:$i[1]}}),x.touchData.start=So):Ii.emit({originalEvent:Ae,type:"cxttapstart",position:{x:$i[0],y:$i[1]}}),x.touchData.start&&(x.touchData.start._private.grabbed=!1),x.touchData.cxt=!0,x.touchData.cxtDragged=!1,x.data.bgActivePosistion=void 0,void x.redraw()}}if(Ae.touches[2])Ii.boxSelectionEnabled()&&Ae.preventDefault();else if(!Ae.touches[1]&&Ae.touches[0]){var Cr=x.findNearestElements($i[0],$i[1],!0,!0),Wr=Cr[0];if(null!=Wr&&(Wr.activate(),x.touchData.start=Wr,x.touchData.starts=Cr,x.nodeIsGrabbable(Wr))){var ws=x.dragData.touchDragEles=Ii.collection(),xa=null;x.redrawHint("eles",!0),x.redrawHint("drag",!0),Wr.selected()?(xa=Ii.$(function(Ai){return Ai.selected()&&x.nodeIsGrabbable(Ai)}),zt(xa,{addToList:ws})):Wt(Wr,{addToList:ws}),lt(Wr);var au=function(xc){return{originalEvent:Ae,type:xc,position:{x:$i[0],y:$i[1]}}};Wr.emit(au("grabon")),xa?xa.forEach(function(Ai){Ai.emit(au("grab"))}):Wr.emit(au("grab"))}w(Wr,["touchstart","tapstart","vmousedown"],Ae,{x:$i[0],y:$i[1]}),null==Wr&&(x.data.bgActivePosistion={x:Ni[0],y:Ni[1]},x.redrawHint("select",!0),x.redraw()),x.touchData.singleTouchMoved=!1,x.touchData.singleTouchStartTime=+new Date,clearTimeout(x.touchData.tapholdTimeout),x.touchData.tapholdTimeout=setTimeout(function(){!1===x.touchData.singleTouchMoved&&!x.pinching&&!x.touchData.selecting&&w(x.touchData.start,["taphold"],Ae,{x:$i[0],y:$i[1]})},x.tapholdDuration)}if(Ae.touches.length>=1){for(var al=x.touchData.startPosition=[],Pa=0;Pa<$i.length;Pa++)al[Pa]=Bi[Pa]=$i[Pa];var Gn=Ae.touches[0];x.touchData.startGPosition=[Gn.clientX,Gn.clientY]}}},!1),x.registerBinding(window,"touchmove",Gi=function(Ae){var Ii=x.touchData.capture;if(Ii||Ve(Ae)){var $i=x.selection,Bi=x.cy,Ni=x.touchData.now,We=x.touchData.earlier,Xi=Bi.zoom();if(Ae.touches[0]){var Nn=x.projectIntoViewport(Ae.touches[0].clientX,Ae.touches[0].clientY);Ni[0]=Nn[0],Ni[1]=Nn[1]}Ae.touches[1]&&(Nn=x.projectIntoViewport(Ae.touches[1].clientX,Ae.touches[1].clientY),Ni[2]=Nn[0],Ni[3]=Nn[1]),Ae.touches[2]&&(Nn=x.projectIntoViewport(Ae.touches[2].clientX,Ae.touches[2].clientY),Ni[4]=Nn[0],Ni[5]=Nn[1]);var Oo,nr=x.touchData.startGPosition;if(Ii&&Ae.touches[0]&&nr){for(var Gr=[],So=0;So<Ni.length;So++)Gr[So]=Ni[So]-We[So];var Cr=Ae.touches[0].clientX-nr[0],ws=Ae.touches[0].clientY-nr[1];Oo=Cr*Cr+ws*ws>=x.touchTapThreshold2}if(Ii&&x.touchData.cxt){Ae.preventDefault();var xc=wi(al=Ae.touches[0].clientX-Ei,Pa=Ae.touches[0].clientY-si,Gn=Ae.touches[1].clientX-Ei,Ai=Ae.touches[1].clientY-si);if(xc/fi>=2.25||xc>=22500){x.touchData.cxt=!1,x.data.bgActivePosistion=void 0,x.redrawHint("select",!0);var na={originalEvent:Ae,type:"cxttapend",position:{x:Ni[0],y:Ni[1]}};x.touchData.start?(x.touchData.start.unactivate().emit(na),x.touchData.start=null):Bi.emit(na)}}if(Ii&&x.touchData.cxt){na={originalEvent:Ae,type:"cxtdrag",position:{x:Ni[0],y:Ni[1]}},x.data.bgActivePosistion=void 0,x.redrawHint("select",!0),x.touchData.start?x.touchData.start.emit(na):Bi.emit(na),x.touchData.start&&(x.touchData.start._private.grabbed=!1),x.touchData.cxtDragged=!0;var Ys=x.findNearestElement(Ni[0],Ni[1],!0,!0);(!x.touchData.cxtOver||Ys!==x.touchData.cxtOver)&&(x.touchData.cxtOver&&x.touchData.cxtOver.emit({originalEvent:Ae,type:"cxtdragout",position:{x:Ni[0],y:Ni[1]}}),x.touchData.cxtOver=Ys,Ys&&Ys.emit({originalEvent:Ae,type:"cxtdragover",position:{x:Ni[0],y:Ni[1]}}))}else if(Ii&&Ae.touches[2]&&Bi.boxSelectionEnabled())Ae.preventDefault(),x.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,x.touchData.selecting||Bi.emit({originalEvent:Ae,type:"boxstart",position:{x:Ni[0],y:Ni[1]}}),x.touchData.selecting=!0,x.touchData.didSelect=!0,$i[4]=1,$i&&0!==$i.length&&void 0!==$i[0]?($i[2]=(Ni[0]+Ni[2]+Ni[4])/3,$i[3]=(Ni[1]+Ni[3]+Ni[5])/3):($i[0]=(Ni[0]+Ni[2]+Ni[4])/3,$i[1]=(Ni[1]+Ni[3]+Ni[5])/3,$i[2]=(Ni[0]+Ni[2]+Ni[4])/3+1,$i[3]=(Ni[1]+Ni[3]+Ni[5])/3+1),x.redrawHint("select",!0),x.redraw();else if(Ii&&Ae.touches[1]&&!x.touchData.didSelect&&Bi.zoomingEnabled()&&Bi.panningEnabled()&&Bi.userZoomingEnabled()&&Bi.userPanningEnabled()){if(Ae.preventDefault(),x.data.bgActivePosistion=void 0,x.redrawHint("select",!0),Cl=x.dragData.touchDragEles){x.redrawHint("drag",!0);for(var Sl=0;Sl<Cl.length;Sl++){var up=Cl[Sl]._private;up.grabbed=!1,up.rscratch.inDragLayer=!1}}var al,Pa,Gn,Ai,_c=x.touchData.start,bs=ji(al=Ae.touches[0].clientX-Ei,Pa=Ae.touches[0].clientY-si,Gn=Ae.touches[1].clientX-Ei,Ai=Ae.touches[1].clientY-si),es=bs/Ci;if(zi){var wv=(al-Ze+(Gn-Mi))/2,w0=(Pa-Le+(Ai-hi))/2,ud=Bi.zoom(),cp=ud*es,Im=Bi.pan(),b0=Li[0]*ud+Im.x,fp=Li[1]*ud+Im.y,Rm={x:-cp/ud*(b0-Im.x-wv)+b0,y:-cp/ud*(fp-Im.y-w0)+fp};_c&&_c.active()&&(Bt(Cl=x.dragData.touchDragEles),x.redrawHint("drag",!0),x.redrawHint("eles",!0),_c.unactivate().emit("freeon"),Cl.emit("free"),x.dragData.didDrag&&(_c.emit("dragfreeon"),Cl.emit("dragfree"))),Bi.viewport({zoom:cp,pan:Rm,cancelOnFailedZoom:!0}),Bi.emit("pinchzoom"),Ci=bs,Ze=al,Le=Pa,Mi=Gn,hi=Ai,x.pinching=!0}Ae.touches[0]&&(Nn=x.projectIntoViewport(Ae.touches[0].clientX,Ae.touches[0].clientY),Ni[0]=Nn[0],Ni[1]=Nn[1]),Ae.touches[1]&&(Nn=x.projectIntoViewport(Ae.touches[1].clientX,Ae.touches[1].clientY),Ni[2]=Nn[0],Ni[3]=Nn[1]),Ae.touches[2]&&(Nn=x.projectIntoViewport(Ae.touches[2].clientX,Ae.touches[2].clientY),Ni[4]=Nn[0],Ni[5]=Nn[1])}else if(Ae.touches[0]&&!x.touchData.didSelect){var Dl=x.touchData.start,Xy=x.touchData.last;if(!x.hoverData.draggingEles&&!x.swipePanning&&(Ys=x.findNearestElement(Ni[0],Ni[1],!0,!0)),Ii&&null!=Dl&&Ae.preventDefault(),Ii&&null!=Dl&&x.nodeIsDraggable(Dl))if(Oo){var Cl=x.dragData.touchDragEles,Ix=!x.dragData.didDrag;Ix&&zt(Cl,{inDragLayer:!0}),x.dragData.didDrag=!0;var hd={x:0,y:0};Mt(Gr[0])&&Mt(Gr[1])&&(hd.x+=Gr[0],hd.y+=Gr[1],Ix)&&(x.redrawHint("eles",!0),(Nu=x.touchData.dragDelta)&&Mt(Nu[0])&&Mt(Nu[1])&&(hd.x+=Nu[0],hd.y+=Nu[1])),x.hoverData.draggingEles=!0,Cl.silentShift(hd).emit("position drag"),x.redrawHint("drag",!0),x.touchData.startPosition[0]==We[0]&&x.touchData.startPosition[1]==We[1]&&x.redrawHint("eles",!0),x.redraw()}else{var Nu;0===(Nu=x.touchData.dragDelta=x.touchData.dragDelta||[]).length?(Nu.push(Gr[0]),Nu.push(Gr[1])):(Nu[0]+=Gr[0],Nu[1]+=Gr[1])}if(w(Dl||Ys,["touchmove","tapdrag","vmousemove"],Ae,{x:Ni[0],y:Ni[1]}),(!Dl||!Dl.grabbed())&&Ys!=Xy&&(Xy&&Xy.emit({originalEvent:Ae,type:"tapdragout",position:{x:Ni[0],y:Ni[1]}}),Ys&&Ys.emit({originalEvent:Ae,type:"tapdragover",position:{x:Ni[0],y:Ni[1]}})),x.touchData.last=Ys,Ii)for(Sl=0;Sl<Ni.length;Sl++)Ni[Sl]&&x.touchData.startPosition[Sl]&&Oo&&(x.touchData.singleTouchMoved=!0);Ii&&(null==Dl||Dl.pannable())&&Bi.panningEnabled()&&Bi.userPanningEnabled()&&(O(Dl,x.touchData.starts)&&(Ae.preventDefault(),x.data.bgActivePosistion||(x.data.bgActivePosistion=mh(x.touchData.startPosition)),x.swipePanning?(Bi.panBy({x:Gr[0]*Xi,y:Gr[1]*Xi}),Bi.emit("dragpan")):Oo&&(x.swipePanning=!0,Bi.panBy({x:Cr*Xi,y:ws*Xi}),Bi.emit("dragpan"),Dl&&(Dl.unactivate(),x.redrawHint("select",!0),x.touchData.start=null))),Nn=x.projectIntoViewport(Ae.touches[0].clientX,Ae.touches[0].clientY),Ni[0]=Nn[0],Ni[1]=Nn[1])}for(So=0;So<Ni.length;So++)We[So]=Ni[So];Ii&&Ae.touches.length>0&&!x.hoverData.draggingEles&&!x.swipePanning&&null!=x.data.bgActivePosistion&&(x.data.bgActivePosistion=void 0,x.redrawHint("select",!0),x.redraw())}},!1),x.registerBinding(window,"touchcancel",qi=function(Ae){var Ii=x.touchData.start;x.touchData.capture=!1,Ii&&Ii.unactivate()}),x.registerBinding(window,"touchend",gn=function(Ae){var Ii=x.touchData.start;if(x.touchData.capture){0===Ae.touches.length&&(x.touchData.capture=!1),Ae.preventDefault();var Bi=x.selection;x.swipePanning=!1,x.hoverData.draggingEles=!1;var Oo,Ni=x.cy,We=Ni.zoom(),Xi=x.touchData.now,Nn=x.touchData.earlier;if(Ae.touches[0]){var nr=x.projectIntoViewport(Ae.touches[0].clientX,Ae.touches[0].clientY);Xi[0]=nr[0],Xi[1]=nr[1]}if(Ae.touches[1]&&(nr=x.projectIntoViewport(Ae.touches[1].clientX,Ae.touches[1].clientY),Xi[2]=nr[0],Xi[3]=nr[1]),Ae.touches[2]&&(nr=x.projectIntoViewport(Ae.touches[2].clientX,Ae.touches[2].clientY),Xi[4]=nr[0],Xi[5]=nr[1]),Ii&&Ii.unactivate(),x.touchData.cxt){if(Oo={originalEvent:Ae,type:"cxttapend",position:{x:Xi[0],y:Xi[1]}},Ii?Ii.emit(Oo):Ni.emit(Oo),!x.touchData.cxtDragged){var Gr={originalEvent:Ae,type:"cxttap",position:{x:Xi[0],y:Xi[1]}};Ii?Ii.emit(Gr):Ni.emit(Gr)}return x.touchData.start&&(x.touchData.start._private.grabbed=!1),x.touchData.cxt=!1,x.touchData.start=null,void x.redraw()}if(!Ae.touches[2]&&Ni.boxSelectionEnabled()&&x.touchData.selecting){x.touchData.selecting=!1;var So=Ni.collection(x.getAllInBox(Bi[0],Bi[1],Bi[2],Bi[3]));Bi[0]=void 0,Bi[1]=void 0,Bi[2]=void 0,Bi[3]=void 0,Bi[4]=0,x.redrawHint("select",!0),Ni.emit({type:"boxend",originalEvent:Ae,position:{x:Xi[0],y:Xi[1]}}),So.emit("box").stdFilter(function(df){return df.selectable()&&!df.selected()}).select().emit("boxselect"),So.nonempty()&&x.redrawHint("eles",!0),x.redraw()}if(null!=Ii&&Ii.unactivate(),Ae.touches[2])x.data.bgActivePosistion=void 0,x.redrawHint("select",!0);else if(!Ae.touches[1]&&!Ae.touches[0]&&!Ae.touches[0]){x.data.bgActivePosistion=void 0,x.redrawHint("select",!0);var Wr=x.dragData.touchDragEles;if(null!=Ii){var ws=Ii._private.grabbed;Bt(Wr),x.redrawHint("drag",!0),x.redrawHint("eles",!0),ws&&(Ii.emit("freeon"),Wr.emit("free"),x.dragData.didDrag&&(Ii.emit("dragfreeon"),Wr.emit("dragfree"))),w(Ii,["touchend","tapend","vmouseup","tapdragout"],Ae,{x:Xi[0],y:Xi[1]}),Ii.unactivate(),x.touchData.start=null}else{var xa=x.findNearestElement(Xi[0],Xi[1],!0,!0);w(xa,["touchend","tapend","vmouseup","tapdragout"],Ae,{x:Xi[0],y:Xi[1]})}var au=x.touchData.startPosition[0]-Xi[0],Pa=x.touchData.startPosition[1]-Xi[1],xc=(au*au+Pa*Pa)*We*We;x.touchData.singleTouchMoved||(Ii||Ni.$(":selected").unselect(["tapunselect"]),w(Ii,["tap","vclick"],Ae,{x:Xi[0],y:Xi[1]}),mr=!1,Ae.timeStamp-Sn<=Ni.multiClickDebounceTime()?(wr&&clearTimeout(wr),mr=!0,Sn=null,w(Ii,["dbltap","vdblclick"],Ae,{x:Xi[0],y:Xi[1]})):(wr=setTimeout(function(){mr||w(Ii,["onetap","voneclick"],Ae,{x:Xi[0],y:Xi[1]})},Ni.multiClickDebounceTime()),Sn=Ae.timeStamp)),null!=Ii&&!x.dragData.didDrag&&Ii._private.selectable&&xc<x.touchTapThreshold2&&!x.pinching&&("single"===Ni.selectionType()?(Ni.$(f).unmerge(Ii).unselect(["tapunselect"]),Ii.select(["tapselect"])):Ii.selected()?Ii.unselect(["tapunselect"]):Ii.select(["tapselect"]),x.redrawHint("eles",!0)),x.touchData.singleTouchMoved=!0}for(var Xa=0;Xa<Xi.length;Xa++)Nn[Xa]=Xi[Xa];x.dragData.didDrag=!1,0===Ae.touches.length&&(x.touchData.dragDelta=[],x.touchData.startPosition=null,x.touchData.startGPosition=null,x.touchData.didSelect=!1),Ae.touches.length<2&&(1===Ae.touches.length&&(x.touchData.startGPosition=[Ae.touches[0].clientX,Ae.touches[0].clientY]),x.pinching=!1,x.redrawHint("eles",!0),x.redraw())}},!1),"undefined"==typeof TouchEvent){var dn=[],hr=function(Ae){return{clientX:Ae.clientX,clientY:Ae.clientY,force:1,identifier:Ae.pointerId,pageX:Ae.pageX,pageY:Ae.pageY,radiusX:Ae.width/2,radiusY:Ae.height/2,screenX:Ae.screenX,screenY:Ae.screenY,target:Ae.target}},ir=function(Ae){for(var Ii=0;Ii<dn.length;Ii++)if(dn[Ii].event.pointerId===Ae.pointerId)return void dn.splice(Ii,1)},mo=function(Ae){Ae.touches=dn.map(function(Ii){return Ii.touch})},Xr=function(Ae){return"mouse"===Ae.pointerType||4===Ae.pointerType};x.registerBinding(x.container,"pointerdown",function(ai){Xr(ai)||(ai.preventDefault(),dn.push(function(Ae){return{event:Ae,touch:hr(Ae)}}(ai)),mo(ai),Oi(ai))}),x.registerBinding(x.container,"pointerup",function(ai){Xr(ai)||(ir(ai),mo(ai),gn(ai))}),x.registerBinding(x.container,"pointercancel",function(ai){Xr(ai)||(ir(ai),mo(ai),qi())}),x.registerBinding(x.container,"pointermove",function(ai){var Ae,Ii;Xr(ai)||(ai.preventDefault(),Ae=ai,(Ii=dn.filter(function($i){return $i.event.pointerId===Ae.pointerId})[0]).event=Ae,Ii.touch=hr(Ae),mo(ai),Gi(ai))})}};var fs={generatePolygon:function(x,f){return this.nodeShapes[x]={renderer:this,name:x,points:f,draw:function(E,O,L,F,st){this.renderer.nodeShapeImpl("polygon",E,O,L,F,st,this.points)},intersectLine:function(E,O,L,F,st,ft,lt){return vh(st,ft,this.points,E,O,L/2,F/2,lt)},checkPoint:function(E,O,L,F,st,ft,lt){return Jh(E,O,this.points,ft,lt,F,st,[0,-1],L)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(f,w,E,O,L){this.renderer.nodeShapeImpl(this.name,f,w,E,O,L)},intersectLine:function(f,w,E,O,L,F,st){return function(f,w,E,O,L,F){var st=E-f,ft=O-w;st/=L,ft/=F;var lt=Math.sqrt(st*st+ft*ft),yt=lt-1;if(yt<0)return[];var Ct=yt/lt;return[(E-f)*Ct+f,(O-w)*Ct+w]}(L,F,f,w,E/2+st,O/2+st)},checkPoint:function(f,w,E,O,L,F,st){return Ms(f,w,O,L,F,st,E)}}},generateRoundPolygon:function(x,f){for(var w=new Array(2*f.length),E=0;E<f.length/2;E++){var L,O=2*E;L=E<f.length/2-1?2*(E+1):0,w[4*E]=f[O],w[4*E+1]=f[O+1];var F=f[L]-f[O],st=f[L+1]-f[O+1],ft=Math.sqrt(F*F+st*st);w[4*E+2]=F/ft,w[4*E+3]=st/ft}return this.nodeShapes[x]={renderer:this,name:x,points:w,draw:function(yt,Ct,Lt,zt,Wt){this.renderer.nodeShapeImpl("round-polygon",yt,Ct,Lt,zt,Wt,this.points)},intersectLine:function(yt,Ct,Lt,zt,Wt,Bt,Qt){return function(f,w,E,O,L,F,st,ft){for(var yt,lt=[],Ct=new Array(E.length),Lt=F/2,zt=st/2,Wt=Cs(F,st),Bt=0;Bt<E.length/4;Bt++){var re,Qt;Qt=0===Bt?E.length-2:4*Bt-2,re=4*Bt+2;var le=O+Lt*E[4*Bt],ue=L+zt*E[4*Bt+1],Be=Wt/Math.tan(Math.acos(-E[Qt]*E[re]-E[Qt+1]*E[re+1])/2),je=le-Be*E[Qt],ye=ue-Be*E[Qt+1],Ve=le+Be*E[re],De=ue+Be*E[re+1];0===Bt?(Ct[E.length-2]=je,Ct[E.length-1]=ye):(Ct[4*Bt-2]=je,Ct[4*Bt-1]=ye),Ct[4*Bt]=Ve,Ct[4*Bt+1]=De;var Ye=E[Qt+1],ze=-E[Qt];Ye*E[re]+ze*E[re+1]<0&&(Ye*=-1,ze*=-1),0!==(yt=qo(f,w,O,L,je+Ye*Wt,ye+ze*Wt,Wt)).length&&lt.push(yt[0],yt[1])}for(var Mi=0;Mi<Ct.length/4;Mi++)0!==(yt=Ua(f,w,O,L,Ct[4*Mi],Ct[4*Mi+1],Ct[4*Mi+2],Ct[4*Mi+3],!1)).length&&lt.push(yt[0],yt[1]);if(lt.length>2){for(var hi=[lt[0],lt[1]],Ci=Math.pow(hi[0]-f,2)+Math.pow(hi[1]-w,2),fi=1;fi<lt.length/2;fi++){var xi=Math.pow(lt[2*fi]-f,2)+Math.pow(lt[2*fi+1]-w,2);xi<=Ci&&(hi[0]=lt[2*fi],hi[1]=lt[2*fi+1],Ci=xi)}return hi}return lt}(Wt,Bt,this.points,yt,Ct,Lt,zt)},checkPoint:function(yt,Ct,Lt,zt,Wt,Bt,Qt){return function(f,w,E,O,L,F,st){for(var ft=new Array(E.length),lt=F/2,yt=st/2,Ct=Cs(F,st),Lt=Ct*Ct,zt=0;zt<E.length/4;zt++){var Bt,Wt;Wt=0===zt?E.length-2:4*zt-2,Bt=4*zt+2;var Qt=O+lt*E[4*zt],re=L+yt*E[4*zt+1],ue=Ct/Math.tan(Math.acos(-E[Wt]*E[Bt]-E[Wt+1]*E[Bt+1])/2),xe=Qt-ue*E[Wt],Be=re-ue*E[Wt+1],je=Qt+ue*E[Bt],ye=re+ue*E[Bt+1];ft[4*zt]=xe,ft[4*zt+1]=Be,ft[4*zt+2]=je,ft[4*zt+3]=ye;var Ve=E[Wt+1],De=-E[Wt];Ve*E[Bt]+De*E[Bt+1]<0&&(Ve*=-1,De*=-1);var Oe=Be+De*Ct;if(Math.pow(xe+Ve*Ct-f,2)+Math.pow(Oe-w,2)<=Lt)return!0}return dl(f,w,ft)}(yt,Ct,this.points,Bt,Qt,zt,Wt)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Vo(4,0),draw:function(f,w,E,O,L){this.renderer.nodeShapeImpl(this.name,f,w,E,O,L)},intersectLine:function(f,w,E,O,L,F,st){return Z0(L,F,f,w,E,O,st)},checkPoint:function(f,w,E,O,L,F,st){var ft=qs(O,L),lt=2*ft;return!!(Jh(f,w,this.points,F,st,O,L-lt,[0,-1],E)||Jh(f,w,this.points,F,st,O-lt,L,[0,-1],E)||Ms(f,w,lt,lt,F-O/2+ft,st-L/2+ft,E)||Ms(f,w,lt,lt,F+O/2-ft,st-L/2+ft,E)||Ms(f,w,lt,lt,F+O/2-ft,st+L/2-ft,E)||Ms(f,w,lt,lt,F-O/2+ft,st+L/2-ft,E))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:Vo(4,0),draw:function(f,w,E,O,L){this.renderer.nodeShapeImpl(this.name,f,w,E,O,L)},generateCutTrianglePts:function(f,w,E,O){var L=this.cornerLength,F=w/2,st=f/2,ft=E-st,lt=E+st,yt=O-F,Ct=O+F;return{topLeft:[ft,yt+L,ft+L,yt,ft+L,yt+L],topRight:[lt-L,yt,lt,yt+L,lt-L,yt+L],bottomRight:[lt,Ct-L,lt-L,Ct,lt-L,Ct-L],bottomLeft:[ft+L,Ct,ft,Ct-L,ft+L,Ct-L]}},intersectLine:function(f,w,E,O,L,F,st){var ft=this.generateCutTrianglePts(E+2*st,O+2*st,f,w),lt=[].concat.apply([],[ft.topLeft.splice(0,4),ft.topRight.splice(0,4),ft.bottomRight.splice(0,4),ft.bottomLeft.splice(0,4)]);return vh(L,F,lt,f,w)},checkPoint:function(f,w,E,O,L,F,st){if(Jh(f,w,this.points,F,st,O,L-2*this.cornerLength,[0,-1],E)||Jh(f,w,this.points,F,st,O-2*this.cornerLength,L,[0,-1],E))return!0;var ft=this.generateCutTrianglePts(O,L,F,st);return dl(f,w,ft.topLeft)||dl(f,w,ft.topRight)||dl(f,w,ft.bottomRight)||dl(f,w,ft.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Vo(4,0),draw:function(f,w,E,O,L){this.renderer.nodeShapeImpl(this.name,f,w,E,O,L)},intersectLine:function(f,w,E,O,L,F,st){var Ct=this.generateBarrelBezierPts(E+2*st,O+2*st,f,w),Lt=function(Bt){var Qt=aa({x:Bt[0],y:Bt[1]},{x:Bt[2],y:Bt[3]},{x:Bt[4],y:Bt[5]},.15),re=aa({x:Bt[0],y:Bt[1]},{x:Bt[2],y:Bt[3]},{x:Bt[4],y:Bt[5]},.5),le=aa({x:Bt[0],y:Bt[1]},{x:Bt[2],y:Bt[3]},{x:Bt[4],y:Bt[5]},.85);return[Bt[0],Bt[1],Qt.x,Qt.y,re.x,re.y,le.x,le.y,Bt[4],Bt[5]]},zt=[].concat(Lt(Ct.topLeft),Lt(Ct.topRight),Lt(Ct.bottomRight),Lt(Ct.bottomLeft));return vh(L,F,zt,f,w)},generateBarrelBezierPts:function(f,w,E,O){var L=w/2,F=f/2,st=E-F,ft=E+F,lt=O-L,yt=O+L,Ct=Ss(f,w),Lt=Ct.heightOffset,zt=Ct.widthOffset,Wt=Ct.ctrlPtOffsetPct*f,Bt={topLeft:[st,lt+Lt,st+Wt,lt,st+zt,lt],topRight:[ft-zt,lt,ft-Wt,lt,ft,lt+Lt],bottomRight:[ft,yt-Lt,ft-Wt,yt,ft-zt,yt],bottomLeft:[st+zt,yt,st+Wt,yt,st,yt-Lt]};return Bt.topLeft.isTop=!0,Bt.topRight.isTop=!0,Bt.bottomLeft.isBottom=!0,Bt.bottomRight.isBottom=!0,Bt},checkPoint:function(f,w,E,O,L,F,st){var ft=Ss(O,L),yt=ft.widthOffset;if(Jh(f,w,this.points,F,st,O,L-2*ft.heightOffset,[0,-1],E)||Jh(f,w,this.points,F,st,O-2*yt,L,[0,-1],E))return!0;for(var Ct=this.generateBarrelBezierPts(O,L,F,st),Lt=function(ye,Ve,De){var Ye=De[4],ze=De[2],Oe=De[0],Ze=De[5],Le=De[1],Mi=Math.min(Ye,Oe),hi=Math.max(Ye,Oe),Ci=Math.min(Ze,Le),fi=Math.max(Ze,Le);if(Mi<=ye&&ye<=hi&&Ci<=Ve&&Ve<=fi){var xi=function(f,w,E){return[f-2*w+E,2*(w-f),f]}(Ye,ze,Oe),Li=function(f,w,E,O){var L=w*w-4*f*(E-=O);if(L<0)return[];var F=Math.sqrt(L),st=2*f;return[(-w+F)/st,(-w-F)/st]}(xi[0],xi[1],xi[2],ye),Ei=Li.filter(function(si){return 0<=si&&si<=1});if(Ei.length>0)return Ei[0]}return null},zt=Object.keys(Ct),Wt=0;Wt<zt.length;Wt++){var Qt=Ct[zt[Wt]],re=Lt(f,w,Qt);if(null!=re){var Be=Ca(Qt[5],Qt[3],Qt[1],re);if(Qt.isTop&&Be<=w||Qt.isBottom&&w<=Be)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Vo(4,0),draw:function(f,w,E,O,L){this.renderer.nodeShapeImpl(this.name,f,w,E,O,L)},intersectLine:function(f,w,E,O,L,F,st){var lt=w-(O/2+st),Lt=Ua(L,F,f,w,f-(E/2+st),lt,f+(E/2+st),lt,!1);return Lt.length>0?Lt:Z0(L,F,f,w,E,O,st)},checkPoint:function(f,w,E,O,L,F,st){var ft=qs(O,L),lt=2*ft;if(Jh(f,w,this.points,F,st,O,L-lt,[0,-1],E)||Jh(f,w,this.points,F,st,O-lt,L,[0,-1],E))return!0;var yt=O/2+2*E,Ct=L/2+2*E;return!!(dl(f,w,[F-yt,st-Ct,F-yt,st,F+yt,st,F+yt,st-Ct])||Ms(f,w,lt,lt,F+O/2-ft,st+L/2-ft,E)||Ms(f,w,lt,lt,F-O/2+ft,st+L/2-ft,E))}}},registerNodeShapes:function(){var x=this.nodeShapes={},f=this;this.generateEllipse(),this.generatePolygon("triangle",Vo(3,0)),this.generateRoundPolygon("round-triangle",Vo(3,0)),this.generatePolygon("rectangle",Vo(4,0)),x.square=x.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var w=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",w),this.generateRoundPolygon("round-diamond",w),this.generatePolygon("pentagon",Vo(5,0)),this.generateRoundPolygon("round-pentagon",Vo(5,0)),this.generatePolygon("hexagon",Vo(6,0)),this.generateRoundPolygon("round-hexagon",Vo(6,0)),this.generatePolygon("heptagon",Vo(7,0)),this.generateRoundPolygon("round-heptagon",Vo(7,0)),this.generatePolygon("octagon",Vo(8,0)),this.generateRoundPolygon("round-octagon",Vo(8,0));var E=new Array(20),O=jn(5,0),L=jn(5,Math.PI/5),F=.5*(3-Math.sqrt(5));F*=1.57;for(var st=0;st<L.length/2;st++)L[2*st]*=F,L[2*st+1]*=F;for(st=0;st<5;st++)E[4*st]=O[2*st],E[4*st+1]=O[2*st+1],E[4*st+2]=L[2*st],E[4*st+3]=L[2*st+1];E=Sa(E),this.generatePolygon("star",E),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var ft=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",ft),this.generateRoundPolygon("round-tag",ft),x.makePolygon=function(lt){var Lt,Ct="polygon-"+lt.join("$");return(Lt=this[Ct])?Lt:f.generatePolygon(Ct,lt)}}},gc={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(x){x=x||oi();var f=this;void 0===f.averageRedrawTime&&(f.averageRedrawTime=0),void 0===f.lastRedrawTime&&(f.lastRedrawTime=0),void 0===f.lastDrawTime&&(f.lastDrawTime=0),f.requestedFrame=!0,f.renderOptions=x},beforeRender:function(x,f){if(!this.destroyed){null==f&&$e("Priority is not optional for beforeRender");var w=this.beforeRenderCallbacks;w.push({fn:x,priority:f}),w.sort(function(E,O){return O.priority-E.priority})}}},Ah=function(f,w,E){for(var O=f.beforeRenderCallbacks,L=0;L<O.length;L++)O[L].fn(w,E)};gc.startRenderLoop=function(){var x=this,f=x.cy;x.renderLoopStarted||(x.renderLoopStarted=!0,qt(function E(O){if(!x.destroyed){if(!f.batching())if(x.requestedFrame&&!x.skipFrame){Ah(x,!0,O);var L=he();x.render(x.renderOptions);var F=x.lastDrawTime=he();void 0===x.averageRedrawTime&&(x.averageRedrawTime=F-L),void 0===x.redrawCount&&(x.redrawCount=0),x.redrawCount++,void 0===x.redrawTotalTime&&(x.redrawTotalTime=0);var st=F-L;x.redrawTotalTime+=st,x.lastRedrawTime=st,x.averageRedrawTime=x.averageRedrawTime/2+st/2,x.requestedFrame=!1}else Ah(x,!1,O);x.skipFrame=!1,qt(E)}}))};var ma=function(f){this.init(f)},Ph=ma.prototype;Ph.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Ph.init=function(x){var f=this;f.options=x,f.cy=x.cy;var w=f.container=x.cy.container();if(N){var E=N.document,O=E.head,L="__________cytoscape_stylesheet",F="__________cytoscape_container",st=null!=E.getElementById(L);if(w.className.indexOf(F)<0&&(w.className=(w.className||"")+" "+F),!st){var ft=E.createElement("style");ft.id=L,ft.innerHTML="."+F+" { position: relative; }",O.insertBefore(ft,O.children[0])}"static"===N.getComputedStyle(w).getPropertyValue("position")&&Ie("A Cytoscape container has style position:static and so can not use UI extensions properly")}f.selection=[void 0,void 0,void 0,void 0,0],f.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],f.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},f.dragData={possibleDragElements:[]},f.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},f.redraws=0,f.showFps=x.showFps,f.debug=x.debug,f.hideEdgesOnViewport=x.hideEdgesOnViewport,f.textureOnViewport=x.textureOnViewport,f.wheelSensitivity=x.wheelSensitivity,f.motionBlurEnabled=x.motionBlur,f.forcedPixelRatio=Mt(x.pixelRatio)?x.pixelRatio:null,f.motionBlur=x.motionBlur,f.motionBlurOpacity=x.motionBlurOpacity,f.motionBlurTransparency=1-f.motionBlurOpacity,f.motionBlurPxRatio=1,f.mbPxRBlurry=1,f.minMbLowQualFrames=4,f.fullQualityMb=!1,f.clearedForMotionBlur=[],f.desktopTapThreshold=x.desktopTapThreshold,f.desktopTapThreshold2=x.desktopTapThreshold*x.desktopTapThreshold,f.touchTapThreshold=x.touchTapThreshold,f.touchTapThreshold2=x.touchTapThreshold*x.touchTapThreshold,f.tapholdDuration=500,f.bindings=[],f.beforeRenderCallbacks=[],f.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},f.registerNodeShapes(),f.registerArrowShapes(),f.registerCalculationListeners()},Ph.notify=function(x,f){var w=this,E=w.cy;if(!this.destroyed){if("init"===x)return void w.load();if("destroy"===x)return void w.destroy();("add"===x||"remove"===x||"move"===x&&E.hasCompoundNodes()||"load"===x||"zorder"===x||"mount"===x)&&w.invalidateCachedZSortedEles(),"viewport"===x&&w.redrawHint("select",!0),("load"===x||"resize"===x||"mount"===x)&&(w.invalidateContainerClientCoordsCache(),w.matchCanvasSize(w.container)),w.redrawHint("eles",!0),w.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},Ph.destroy=function(){var x=this;x.destroyed=!0,x.cy.stopAnimationLoop();for(var f=0;f<x.bindings.length;f++){var w=x.bindings[f],O=w.target;(O.off||O.removeEventListener).apply(O,w.args)}if(x.bindings=[],x.beforeRenderCallbacks=[],x.onUpdateEleCalcsFns=[],x.removeObserver&&x.removeObserver.disconnect(),x.styleObserver&&x.styleObserver.disconnect(),x.resizeObserver&&x.resizeObserver.disconnect(),x.labelCalcDiv)try{document.body.removeChild(x.labelCalcDiv)}catch(L){}},Ph.isHeadless=function(){return!1},[rd,er,pa,ts,fs,gc].forEach(function(x){Ht(Ph,x)});var ga=1e3/60,Qu_setupDequeueing=function(f){return function(){var E=this,O=this.renderer;if(!E.dequeueingSetup){E.dequeueingSetup=!0;var L=Pt(function(){O.redrawHint("eles",!0),O.redrawHint("drag",!0),O.redraw()},f.deqRedrawThreshold);O.beforeRender(function(lt,yt){var Ct=he(),Lt=O.averageRedrawTime,zt=O.lastRedrawTime,Wt=[],Bt=O.cy.extent(),Qt=O.getPixelRatio();for(lt||O.flushRenderedStyleQueue();;){var re=he(),le=re-Ct,ue=re-yt;if(zt<ga){if(ue>=f.deqFastCost*(ga-(lt?Lt:0)))break}else if(lt){if(le>=f.deqCost*zt||le>=f.deqAvgCost*Lt)break}else if(ue>=f.deqNoDrawCost*ga)break;var Be=f.deq(E,Qt,Bt);if(!(Be.length>0))break;for(var je=0;je<Be.length;je++)Wt.push(Be[je])}Wt.length>0&&(f.onDeqd(E,Wt),!lt&&f.shouldRedraw(E,Wt,Qt,Bt)&&L())},(f.priority||Me)(E))}}},Wo=function(){function x(f){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Se;D(this,x),this.idsByKey=new Or,this.keyForId=new Or,this.cachesByLvl=new Or,this.lvls=[],this.getKey=f,this.doesEleInvalidateKey=w}return X(x,[{key:"getIdsFor",value:function(w){null==w&&$e("Can not get id list for null key");var E=this.idsByKey,O=this.idsByKey.get(w);return O||(O=new Un,E.set(w,O)),O}},{key:"addIdForKey",value:function(w,E){null!=w&&this.getIdsFor(w).add(E)}},{key:"deleteIdForKey",value:function(w,E){null!=w&&this.getIdsFor(w).delete(E)}},{key:"getNumberOfIdsForKey",value:function(w){return null==w?0:this.getIdsFor(w).size}},{key:"updateKeyMappingFor",value:function(w){var E=w.id(),O=this.keyForId.get(E),L=this.getKey(w);this.deleteIdForKey(O,E),this.addIdForKey(L,E),this.keyForId.set(E,L)}},{key:"deleteKeyMappingFor",value:function(w){var E=w.id(),O=this.keyForId.get(E);this.deleteIdForKey(O,E),this.keyForId.delete(E)}},{key:"keyHasChangedFor",value:function(w){var E=w.id();return this.keyForId.get(E)!==this.getKey(w)}},{key:"isInvalid",value:function(w){return this.keyHasChangedFor(w)||this.doesEleInvalidateKey(w)}},{key:"getCachesAt",value:function(w){var E=this.cachesByLvl,O=this.lvls,L=E.get(w);return L||(L=new Or,E.set(w,L),O.push(w)),L}},{key:"getCache",value:function(w,E){return this.getCachesAt(E).get(w)}},{key:"get",value:function(w,E){var O=this.getKey(w),L=this.getCache(O,E);return null!=L&&this.updateKeyMappingFor(w),L}},{key:"getForCachedKey",value:function(w,E){var O=this.keyForId.get(w.id());return this.getCache(O,E)}},{key:"hasCache",value:function(w,E){return this.getCachesAt(E).has(w)}},{key:"has",value:function(w,E){var O=this.getKey(w);return this.hasCache(O,E)}},{key:"setCache",value:function(w,E,O){O.key=w,this.getCachesAt(E).set(w,O)}},{key:"set",value:function(w,E,O){var L=this.getKey(w);this.setCache(L,E,O),this.updateKeyMappingFor(w)}},{key:"deleteCache",value:function(w,E){this.getCachesAt(E).delete(w)}},{key:"delete",value:function(w,E){var O=this.getKey(w);this.deleteCache(O,E)}},{key:"invalidateKey",value:function(w){var E=this;this.lvls.forEach(function(O){return E.deleteCache(w,O)})}},{key:"invalidate",value:function(w){var E=w.id(),O=this.keyForId.get(E);this.deleteKeyMappingFor(w);var L=this.doesEleInvalidateKey(w);return L&&this.invalidateKey(O),L||0===this.getNumberOfIdsForKey(O)}}]),x}(),ff={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},vc=en({getKey:null,doesEleInvalidateKey:Se,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:ne,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Ih=function(f,w){var E=this;E.renderer=f,E.onDequeues=[];var O=vc(w);Ht(E,O),E.lookup=new Wo(O.getKey,O.doesEleInvalidateKey),E.setupDequeueing()},Ta=Ih.prototype;Ta.reasons=ff,Ta.getTextureQueue=function(x){var f=this;return f.eleImgCaches=f.eleImgCaches||{},f.eleImgCaches[x]=f.eleImgCaches[x]||[]},Ta.getRetiredTextureQueue=function(x){var w=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return w[x]=w[x]||[]},Ta.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new ht(function(w,E){return E.reqs-w.reqs})},Ta.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Ta.getElement=function(x,f,w,E,O){var L=this,F=this.renderer,st=F.cy.zoom(),ft=this.lookup;if(!f||0===f.w||0===f.h||isNaN(f.w)||isNaN(f.h)||!x.visible()||x.removed()||!L.allowEdgeTxrCaching&&x.isEdge()||!L.allowParentTxrCaching&&x.isParent())return null;if(null==E&&(E=Math.ceil(Pg(st*w))),E<-4)E=-4;else if(st>=7.99||E>3)return null;var lt=Math.pow(2,E),yt=f.h*lt,Ct=f.w*lt,Lt=F.eleTextBiggerThanMin(x,lt);if(!this.isVisible(x,Lt))return null;var Wt,zt=ft.get(x,E);if(zt&&zt.invalidated&&(zt.invalidated=!1,zt.texture.invalidatedWidth-=zt.width),zt)return zt;if(Wt=yt<=25?25:yt<=50?50:50*Math.ceil(yt/50),yt>1024||Ct>1024)return null;var Bt=L.getTextureQueue(Wt),Qt=Bt[Bt.length-2],re=function(){return L.recycleTexture(Wt,Ct)||L.addTexture(Wt,Ct)};Qt||(Qt=Bt[Bt.length-1]),Qt||(Qt=re()),Qt.width-Qt.usedWidth<Ct&&(Qt=re());for(var je,le=function(hi){return hi&&hi.scaledLabelShown===Lt},ue=O&&O===ff.dequeue,xe=O&&O===ff.highQuality,Be=O&&O===ff.downscale,ye=E+1;ye<=3;ye++){var Ve=ft.get(x,ye);if(Ve){je=Ve;break}}var De=je&&je.level===E+1?je:null,Ye=function(){Qt.context.drawImage(De.texture.canvas,De.x,0,De.width,De.height,Qt.usedWidth,0,Ct,yt)};if(Qt.context.setTransform(1,0,0,1,0,0),Qt.context.clearRect(Qt.usedWidth,0,Ct,Wt),le(De))Ye();else if(le(je)){if(!xe)return L.queueElement(x,je.level-1),je;for(var ze=je.level;ze>E;ze--)De=L.getElement(x,f,w,ze,ff.downscale);Ye()}else{var Oe;if(!ue&&!xe&&!Be)for(var Ze=E-1;Ze>=-4;Ze--){var Le=ft.get(x,Ze);if(Le){Oe=Le;break}}if(le(Oe))return L.queueElement(x,E),Oe;Qt.context.translate(Qt.usedWidth,0),Qt.context.scale(lt,lt),this.drawElement(Qt.context,x,f,Lt,!1),Qt.context.scale(1/lt,1/lt),Qt.context.translate(-Qt.usedWidth,0)}return zt={x:Qt.usedWidth,texture:Qt,level:E,scale:lt,width:Ct,height:yt,scaledLabelShown:Lt},Qt.usedWidth+=Math.ceil(Ct+8),Qt.eleCaches.push(zt),ft.set(x,E,zt),L.checkTextureFullness(Qt),zt},Ta.invalidateElements=function(x){for(var f=0;f<x.length;f++)this.invalidateElement(x[f])},Ta.invalidateElement=function(x){var f=this,w=f.lookup,E=[];if(w.isInvalid(x)){for(var L=-4;L<=3;L++){var F=w.getForCachedKey(x,L);F&&E.push(F)}if(w.invalidate(x))for(var ft=0;ft<E.length;ft++){var lt=E[ft],yt=lt.texture;yt.invalidatedWidth+=lt.width,lt.invalidated=!0,f.checkTextureUtility(yt)}f.removeFromQueue(x)}},Ta.checkTextureUtility=function(x){x.invalidatedWidth>=.2*x.width&&this.retireTexture(x)},Ta.checkTextureFullness=function(x){var w=this.getTextureQueue(x.height);x.usedWidth/x.width>.8&&x.fullnessChecks>=10?sn(w,x):x.fullnessChecks++},Ta.retireTexture=function(x){var w=x.height,E=this.getTextureQueue(w),O=this.lookup;sn(E,x),x.retired=!0;for(var L=x.eleCaches,F=0;F<L.length;F++){var st=L[F];O.deleteCache(st.key,st.level)}Tn(L),this.getRetiredTextureQueue(w).push(x)},Ta.addTexture=function(x,f){var O={};return this.getTextureQueue(x).push(O),O.eleCaches=[],O.height=x,O.width=Math.max(1024,f),O.usedWidth=0,O.invalidatedWidth=0,O.fullnessChecks=0,O.canvas=this.renderer.makeOffscreenCanvas(O.width,O.height),O.context=O.canvas.getContext("2d"),O},Ta.recycleTexture=function(x,f){for(var E=this.getTextureQueue(x),O=this.getRetiredTextureQueue(x),L=0;L<O.length;L++){var F=O[L];if(F.width>=f)return F.retired=!1,F.usedWidth=0,F.invalidatedWidth=0,F.fullnessChecks=0,Tn(F.eleCaches),F.context.setTransform(1,0,0,1,0,0),F.context.clearRect(0,0,F.width,F.height),sn(O,F),E.push(F),F}},Ta.queueElement=function(x,f){var E=this.getElementQueue(),O=this.getElementKeyToQueue(),L=this.getKey(x),F=O[L];if(F)F.level=Math.max(F.level,f),F.eles.merge(x),F.reqs++,E.updateItem(F);else{var st={eles:x.spawn().merge(x),level:f,reqs:1,key:L};E.push(st),O[L]=st}},Ta.dequeue=function(x){for(var f=this,w=f.getElementQueue(),E=f.getElementKeyToQueue(),O=[],L=f.lookup,F=0;F<1&&w.size()>0;F++){var st=w.pop(),ft=st.key,lt=st.eles[0],yt=L.hasCache(lt,st.level);if(E[ft]=null,!yt){O.push(st);var Ct=f.getBoundingBox(lt);f.getElement(lt,Ct,x,st.level,ff.dequeue)}}return O},Ta.removeFromQueue=function(x){var w=this.getElementQueue(),E=this.getElementKeyToQueue(),O=this.getKey(x),L=E[O];null!=L&&(1===L.eles.length?(L.reqs=Ee,w.updateItem(L),w.pop(),E[O]=null):L.eles.unmerge(x))},Ta.onDequeue=function(x){this.onDequeues.push(x)},Ta.offDequeue=function(x){sn(this.onDequeues,x)},Ta.setupDequeueing=Qu_setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(f,w,E){return f.dequeue(w,E)},onDeqd:function(f,w){for(var E=0;E<f.onDequeues.length;E++)(0,f.onDequeues[E])(w)},shouldRedraw:function(f,w,E,O){for(var L=0;L<w.length;L++)for(var F=w[L].eles,st=0;st<F.length;st++){var ft=F[st].boundingBox();if(Ig(ft,O))return!0}return!1},priority:function(f){return f.renderer.beforeRenderPriorities.eleTxrDeq}});var Vy=function(f){var w=this,E=w.renderer=f,O=E.cy;w.layersByLevel={},w.firstGet=!0,w.lastInvalidationTime=he()-500,w.skipping=!1,w.eleTxrDeqs=O.collection(),w.scheduleElementRefinement=Pt(function(){w.refineElementTextures(w.eleTxrDeqs),w.eleTxrDeqs.unmerge(w.eleTxrDeqs)},50),E.beforeRender(function(F,st){w.skipping=st-w.lastInvalidationTime<=250},E.beforeRenderPriorities.lyrTxrSkip),w.layersQueue=new ht(function(st,ft){return ft.reqs-st.reqs}),w.setupDequeueing()},xr=Vy.prototype,Ex=0,jy=Math.pow(2,53)-1;xr.makeLayer=function(x,f){var w=Math.pow(2,f),E=Math.ceil(x.w*w),O=Math.ceil(x.h*w),L=this.renderer.makeOffscreenCanvas(E,O),F={id:Ex=++Ex%jy,bb:x,level:f,width:E,height:O,canvas:L,context:L.getContext("2d"),eles:[],elesQueue:[],reqs:0},st=F.context,ft=-F.bb.x1,lt=-F.bb.y1;return st.scale(w,w),st.translate(ft,lt),F},xr.getLayers=function(x,f,w){var E=this,F=E.renderer.cy.zoom(),st=E.firstGet;if(E.firstGet=!1,null==w)if((w=Math.ceil(Pg(F*f)))<-4)w=-4;else if(F>=3.99||w>2)return null;E.validateLayersElesOrdering(w,x);var Ct,zt,ft=E.layersByLevel,lt=Math.pow(2,w),yt=ft[w]=ft[w]||[];if(E.levelIsComplete(w,x))return yt;!function(){var Ye=function(Mi){if(E.validateLayersElesOrdering(Mi,x),E.levelIsComplete(Mi,x))return zt=ft[Mi],!0},ze=function(Mi){if(!zt)for(var hi=w+Mi;-4<=hi&&hi<=2&&!Ye(hi);hi+=Mi);};ze(1),ze(-1);for(var Oe=yt.length-1;Oe>=0;Oe--){var Ze=yt[Oe];Ze.invalid&&sn(yt,Ze)}}();var Qt=function(Ye){var ze=(Ye=Ye||{}).after;if(function(){if(!Ct){Ct=Zo();for(var Ye=0;Ye<x.length;Ye++)Ki(Ct,x[Ye].boundingBox())}}(),Ct.w*lt*(Ct.h*lt)>16e6)return null;var Ze=E.makeLayer(Ct,w);if(null!=ze){var Le=yt.indexOf(ze)+1;yt.splice(Le,0,Ze)}else(void 0===Ye.insert||Ye.insert)&&yt.unshift(Ze);return Ze};if(E.skipping&&!st)return null;for(var re=null,le=x.length/1,ue=!st,xe=0;xe<x.length;xe++){var Be=x[xe],je=Be._private.rscratch,ye=je.imgLayerCaches=je.imgLayerCaches||{},Ve=ye[w];if(Ve)re=Ve;else{if((!re||re.eles.length>=le||!Hp(re.bb,Be.boundingBox()))&&!(re=Qt({insert:!0,after:re})))return null;zt||ue?E.queueLayer(re,Be):E.drawEleInLayer(re,Be,w,f),re.eles.push(Be),ye[w]=re}}return zt||(ue?null:yt)},xr.getEleLevelForLayerLevel=function(x,f){return x},xr.drawEleInLayer=function(x,f,w,E){var L=this.renderer,F=x.context,st=f.boundingBox();0===st.w||0===st.h||!f.visible()||(w=this.getEleLevelForLayerLevel(w,E),L.setImgSmoothing(F,!1),L.drawCachedElement(F,f,null,null,w,!0),L.setImgSmoothing(F,!0))},xr.levelIsComplete=function(x,f){var E=this.layersByLevel[x];if(!E||0===E.length)return!1;for(var O=0,L=0;L<E.length;L++){var F=E[L];if(F.reqs>0||F.invalid)return!1;O+=F.eles.length}return O===f.length},xr.validateLayersElesOrdering=function(x,f){var w=this.layersByLevel[x];if(w)for(var E=0;E<w.length;E++){for(var O=w[E],L=-1,F=0;F<f.length;F++)if(O.eles[0]===f[F]){L=F;break}if(L<0)this.invalidateLayer(O);else{var st=L;for(F=0;F<O.eles.length;F++)if(O.eles[F]!==f[st+F]){this.invalidateLayer(O);break}}}},xr.updateElementsInLayers=function(x,f){for(var E=y(x[0]),O=0;O<x.length;O++)for(var L=E?null:x[O],F=E?x[O]:x[O].ele,st=F._private.rscratch,ft=st.imgLayerCaches=st.imgLayerCaches||{},lt=-4;lt<=2;lt++){var yt=ft[lt];!yt||L&&this.getEleLevelForLayerLevel(yt.level)!==L.level||f(yt,F,L)}},xr.haveLayers=function(){for(var f=!1,w=-4;w<=2;w++){var E=this.layersByLevel[w];if(E&&E.length>0){f=!0;break}}return f},xr.invalidateElements=function(x){var f=this;0!==x.length&&(f.lastInvalidationTime=he(),0!==x.length&&f.haveLayers()&&f.updateElementsInLayers(x,function(E,O,L){f.invalidateLayer(E)}))},xr.invalidateLayer=function(x){if(this.lastInvalidationTime=he(),!x.invalid){var f=x.level,w=x.eles;sn(this.layersByLevel[f],x),x.elesQueue=[],x.invalid=!0,x.replacement&&(x.replacement.invalid=!0);for(var O=0;O<w.length;O++){var L=w[O]._private.rscratch.imgLayerCaches;L&&(L[f]=null)}}},xr.refineElementTextures=function(x){var f=this;f.updateElementsInLayers(x,function(E,O,L){var F=E.replacement;if(F||((F=E.replacement=f.makeLayer(E.bb,E.level)).replaces=E,F.eles=E.eles),!F.reqs)for(var st=0;st<F.eles.length;st++)f.queueLayer(F,F.eles[st])})},xr.enqueueElementRefinement=function(x){this.eleTxrDeqs.merge(x),this.scheduleElementRefinement()},xr.queueLayer=function(x,f){var E=this.layersQueue,O=x.elesQueue,L=O.hasId=O.hasId||{};if(!x.replacement){if(f){if(L[f.id()])return;O.push(f),L[f.id()]=!0}x.reqs?(x.reqs++,E.updateItem(x)):(x.reqs=1,E.push(x))}},xr.dequeue=function(x){for(var f=this,w=f.layersQueue,E=[],O=0;O<1&&0!==w.size();){var L=w.peek();if(L.replacement)w.pop();else if(L.replaces&&L!==L.replaces.replacement)w.pop();else if(L.invalid)w.pop();else{var F=L.elesQueue.shift();F&&(f.drawEleInLayer(L,F,L.level,x),O++),0===E.length&&E.push(!0),0===L.elesQueue.length&&(w.pop(),L.reqs=0,L.replaces&&f.applyLayerReplacement(L),f.requestRedraw())}}return E},xr.applyLayerReplacement=function(x){var w=this.layersByLevel[x.level],E=x.replaces,O=w.indexOf(E);if(!(O<0||E.invalid)){w[O]=x;for(var L=0;L<x.eles.length;L++){var F=x.eles[L]._private,st=F.imgLayerCaches=F.imgLayerCaches||{};st&&(st[x.level]=x)}this.requestRedraw()}},xr.requestRedraw=Pt(function(){var x=this.renderer;x.redrawHint("eles",!0),x.redrawHint("drag",!0),x.redraw()},100),xr.setupDequeueing=Qu_setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(f,w){return f.dequeue(w)},onDeqd:Me,shouldRedraw:ne,priority:function(f){return f.renderer.beforeRenderPriorities.lyrTxrDeq}});var fv,_l={};function kx(x,f){for(var w=0;w<f.length;w++){var E=f[w];x.lineTo(E.x,E.y)}}function ou(x,f,w){for(var E,O=0;O<f.length;O++){var L=f[O];0===O&&(E=L),x.lineTo(L.x,L.y)}x.quadraticCurveTo(w.x,w.y,E.x,E.y)}function _o(x,f,w){x.beginPath&&x.beginPath();for(var E=f,O=0;O<E.length;O++)x.lineTo((L=E[O]).x,L.y);var F=w,st=w[0];for(x.moveTo(st.x,st.y),O=1;O<F.length;O++){var L;x.lineTo((L=F[O]).x,L.y)}x.closePath&&x.closePath()}function dv(x,f,w,E,O){x.beginPath&&x.beginPath(),x.arc(w,E,O,0,2*Math.PI,!1);var L=f,F=L[0];x.moveTo(F.x,F.y);for(var st=0;st<L.length;st++){var ft=L[st];x.lineTo(ft.x,ft.y)}x.closePath&&x.closePath()}function zy(x,f,w,E){x.arc(f,w,E,0,2*Math.PI,!1)}_l.arrowShapeImpl=function(x){return(fv||(fv={polygon:kx,"triangle-backcurve":ou,"triangle-tee":_o,"circle-triangle":dv,"triangle-cross":_o,circle:zy}))[x]};var Ou={drawElement:function(x,f,w,E,O,L){f.isNode()?this.drawNode(x,f,w,E,O,L):this.drawEdge(x,f,w,E,O,L)},drawElementOverlay:function(x,f){f.isNode()?this.drawNodeOverlay(x,f):this.drawEdgeOverlay(x,f)},drawElementUnderlay:function(x,f){f.isNode()?this.drawNodeUnderlay(x,f):this.drawEdgeUnderlay(x,f)},drawCachedElementPortion:function(x,f,w,E,O,L,F,st){var ft=this,lt=w.getBoundingBox(f);if(0!==lt.w&&0!==lt.h){var yt=w.getElement(f,lt,E,O,L);if(null!=yt){var Ct=st(ft,f);if(0===Ct)return;var re,le,ue,xe,Be,Ve,Lt=F(ft,f),zt=lt.x1,Wt=lt.y1,Bt=lt.w,Qt=lt.h;if(0!==Lt){var je=w.getRotationPoint(f);x.translate(ue=je.x,xe=je.y),x.rotate(Lt),(Be=ft.getImgSmoothing(x))||ft.setImgSmoothing(x,!0);var ye=w.getRotationOffset(f);re=ye.x,le=ye.y}else re=zt,le=Wt;1!==Ct&&(x.globalAlpha=(Ve=x.globalAlpha)*Ct),x.drawImage(yt.texture.canvas,yt.x,0,yt.width,yt.height,re,le,Bt,Qt),1!==Ct&&(x.globalAlpha=Ve),0!==Lt&&(x.rotate(-Lt),x.translate(-ue,-xe),Be||ft.setImgSmoothing(x,!1))}else w.drawElement(x,f)}}},pv=function(){return 0},Yi=function(f,w){return f.getTextAngle(w,null)},ya=function(f,w){return f.getTextAngle(w,"source")},Em=function(f,w){return f.getTextAngle(w,"target")},km=function(f,w){return w.effectiveOpacity()},np=function(f,w){return w.pstyle("text-opacity").pfValue*w.effectiveOpacity()};Ou.drawCachedElement=function(x,f,w,E,O,L){var F=this,st=F.data,ft=st.eleTxrCache,lt=st.lblTxrCache,yt=st.slbTxrCache,Ct=st.tlbTxrCache,Lt=f.boundingBox(),zt=!0===L?ft.reasons.highQuality:null;if(0!==Lt.w&&0!==Lt.h&&f.visible()&&(!E||Ig(Lt,E))){var Wt=f.isEdge(),Bt=f.element()._private.rscratch.badLine;F.drawElementUnderlay(x,f),F.drawCachedElementPortion(x,f,ft,w,O,zt,pv,km),(!Wt||!Bt)&&F.drawCachedElementPortion(x,f,lt,w,O,zt,Yi,np),Wt&&!Bt&&(F.drawCachedElementPortion(x,f,yt,w,O,zt,ya,np),F.drawCachedElementPortion(x,f,Ct,w,O,zt,Em,np)),F.drawElementOverlay(x,f)}},Ou.drawElements=function(x,f){for(var E=0;E<f.length;E++)this.drawElement(x,f[E])},Ou.drawCachedElements=function(x,f,w,E){for(var L=0;L<f.length;L++)this.drawCachedElement(x,f[L],w,E)},Ou.drawCachedNodes=function(x,f,w,E){for(var L=0;L<f.length;L++){var F=f[L];!F.isNode()||this.drawCachedElement(x,F,w,E)}},Ou.drawLayeredElements=function(x,f,w,E){var L=this.data.lyrTxrCache.getLayers(f,w);if(L)for(var F=0;F<L.length;F++){var st=L[F],ft=st.bb;0===ft.w||0===ft.h||x.drawImage(st.canvas,ft.x1,ft.y1,ft.w,ft.h)}else this.drawCachedElements(x,f,w,E)};var Fo={drawEdge:function(x,f,w){var E=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],O=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],L=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],F=this,st=f._private.rscratch;if((!L||f.visible())&&!st.badLine&&null!=st.allpts&&!isNaN(st.allpts[0])){var ft;w&&x.translate(-(ft=w).x1,-ft.y1);var lt=L?f.pstyle("opacity").value:1,yt=L?f.pstyle("line-opacity").value:1,Ct=f.pstyle("curve-style").value,Lt=f.pstyle("line-style").value,zt=f.pstyle("width").pfValue,Wt=f.pstyle("line-cap").value,Bt=lt*yt,Qt=lt*yt,re=function(){var Oe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt;"straight-triangle"===Ct?(F.eleStrokeStyle(x,f,Oe),F.drawEdgeTrianglePath(f,x,st.allpts)):(x.lineWidth=zt,x.lineCap=Wt,F.eleStrokeStyle(x,f,Oe),F.drawEdgePath(f,x,st.allpts,Lt),x.lineCap="butt")},le=function(){!O||F.drawEdgeOverlay(x,f)},ue=function(){!O||F.drawEdgeUnderlay(x,f)},xe=function(){var Oe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt;F.drawArrowheads(x,f,Oe)},Be=function(){F.drawElementText(x,f,null,E)};x.lineJoin="round";var je="yes"===f.pstyle("ghost").value;if(je){var ye=f.pstyle("ghost-offset-x").pfValue,Ve=f.pstyle("ghost-offset-y").pfValue,De=f.pstyle("ghost-opacity").value,Ye=Bt*De;x.translate(ye,Ve),re(Ye),xe(Ye),x.translate(-ye,-Ve)}ue(),re(),xe(),le(),Be(),w&&x.translate(ft.x1,ft.y1)}}},rp=function(f){if(!["overlay","underlay"].includes(f))throw new Error("Invalid state");return function(w,E){if(E.visible()){var O=E.pstyle("".concat(f,"-opacity")).value;if(0!==O){var L=this,F=L.usePaths(),st=E._private.rscratch,lt=2*E.pstyle("".concat(f,"-padding")).pfValue,yt=E.pstyle("".concat(f,"-color")).value;w.lineWidth=lt,w.lineCap="self"!==st.edgeType||F?"round":"butt",L.colorStrokeStyle(w,yt[0],yt[1],yt[2],O),L.drawEdgePath(E,w,st.allpts,"solid")}}}};Fo.drawEdgeOverlay=rp("overlay"),Fo.drawEdgeUnderlay=rp("underlay"),Fo.drawEdgePath=function(x,f,w,E){var F,O=x._private.rscratch,L=f,st=!1,ft=this.usePaths(),lt=x.pstyle("line-dash-pattern").pfValue,yt=x.pstyle("line-dash-offset").pfValue;if(ft){var Ct=w.join("$");O.pathCacheKey&&O.pathCacheKey===Ct?(F=f=O.pathCache,st=!0):(F=f=new Path2D,O.pathCacheKey=Ct,O.pathCache=F)}if(L.setLineDash)switch(E){case"dotted":L.setLineDash([1,1]);break;case"dashed":L.setLineDash(lt),L.lineDashOffset=yt;break;case"solid":L.setLineDash([])}if(!st&&!O.badLine)switch(f.beginPath&&f.beginPath(),f.moveTo(w[0],w[1]),O.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var zt=2;zt+3<w.length;zt+=4)f.quadraticCurveTo(w[zt],w[zt+1],w[zt+2],w[zt+3]);break;case"straight":case"segments":case"haystack":for(var Wt=2;Wt+1<w.length;Wt+=2)f.lineTo(w[Wt],w[Wt+1])}f=L,ft?f.stroke(F):f.stroke(),f.setLineDash&&f.setLineDash([])},Fo.drawEdgeTrianglePath=function(x,f,w){f.fillStyle=f.strokeStyle;for(var E=x.pstyle("width").pfValue,O=0;O+1<w.length;O+=2){var L=[w[O+2]-w[O],w[O+3]-w[O+1]],F=Math.sqrt(L[0]*L[0]+L[1]*L[1]),st=[L[1]/F,-L[0]/F],ft=[st[0]*E/2,st[1]*E/2];f.beginPath(),f.moveTo(w[O]-ft[0],w[O+1]-ft[1]),f.lineTo(w[O]+ft[0],w[O+1]+ft[1]),f.lineTo(w[O+2],w[O+3]),f.closePath(),f.fill()}},Fo.drawArrowheads=function(x,f,w){var E=f._private.rscratch,O="haystack"===E.edgeType;O||this.drawArrowhead(x,f,"source",E.arrowStartX,E.arrowStartY,E.srcArrowAngle,w),this.drawArrowhead(x,f,"mid-target",E.midX,E.midY,E.midtgtArrowAngle,w),this.drawArrowhead(x,f,"mid-source",E.midX,E.midY,E.midsrcArrowAngle,w),O||this.drawArrowhead(x,f,"target",E.arrowEndX,E.arrowEndY,E.tgtArrowAngle,w)},Fo.drawArrowhead=function(x,f,w,E,O,L,F){if(!(isNaN(E)||null==E||isNaN(O)||null==O||isNaN(L)||null==L)){var st=this,ft=f.pstyle(w+"-arrow-shape").value;if("none"!==ft){var lt="hollow"===f.pstyle(w+"-arrow-fill").value?"both":"filled",yt=f.pstyle(w+"-arrow-fill").value,Ct=f.pstyle("width").pfValue,Lt=f.pstyle("opacity").value;void 0===F&&(F=Lt);var zt=x.globalCompositeOperation;(1!==F||"hollow"===yt)&&(x.globalCompositeOperation="destination-out",st.colorFillStyle(x,255,255,255,1),st.colorStrokeStyle(x,255,255,255,1),st.drawArrowShape(f,x,lt,Ct,ft,E,O,L),x.globalCompositeOperation=zt);var Wt=f.pstyle(w+"-arrow-color").value;st.colorFillStyle(x,Wt[0],Wt[1],Wt[2],F),st.colorStrokeStyle(x,Wt[0],Wt[1],Wt[2],F),st.drawArrowShape(f,x,yt,Ct,ft,E,O,L)}}},Fo.drawArrowShape=function(x,f,w,E,O,L,F,st){var Ct,lt=this.usePaths()&&"triangle-cross"!==O,yt=!1,Lt=f,zt={x:L,y:F},Wt=x.pstyle("arrow-scale").value,Bt=this.getArrowWidth(E,Wt),Qt=this.arrowShapes[O];if(lt){var re=this.arrowPathCache=this.arrowPathCache||[],le=_i(O),ue=re[le];null!=ue?(Ct=f=ue,yt=!0):(Ct=f=new Path2D,re[le]=Ct)}yt||(f.beginPath&&f.beginPath(),lt?Qt.draw(f,1,0,{x:0,y:0},1):Qt.draw(f,Bt,st,zt,E),f.closePath&&f.closePath()),f=Lt,lt&&(f.translate(L,F),f.rotate(st),f.scale(Bt,Bt)),("filled"===w||"both"===w)&&(lt?f.fill(Ct):f.fill()),("hollow"===w||"both"===w)&&(f.lineWidth=(Qt.matchEdgeWidth?E:1)/(lt?Bt:1),f.lineJoin="miter",lt?f.stroke(Ct):f.stroke()),lt&&(f.scale(1/Bt,1/Bt),f.rotate(-st),f.translate(-L,-F))};var y0={safeDrawImage:function(x,f,w,E,O,L,F,st,ft,lt){O<=0||L<=0||ft<=0||lt<=0||x.drawImage(f,w,E,O,L,F,st,ft,lt)},drawInscribedImage:function(x,f,w,E,O){var L=this,F=w.position(),st=F.x,ft=F.y,lt=w.cy().style(),yt=lt.getIndexedStyle.bind(lt),Ct=yt(w,"background-fit","value",E),Lt=yt(w,"background-repeat","value",E),zt=w.width(),Wt=w.height(),Bt=2*w.padding(),Qt=zt+("inner"===yt(w,"background-width-relative-to","value",E)?0:Bt),re=Wt+("inner"===yt(w,"background-height-relative-to","value",E)?0:Bt),le=w._private.rscratch,xe="node"===yt(w,"background-clip","value",E),Be=yt(w,"background-image-opacity","value",E)*O,je=yt(w,"background-image-smoothing","value",E),ye=f.width||f.cachedW,Ve=f.height||f.cachedH;(null==ye||null==Ve)&&(document.body.appendChild(f),ye=f.cachedW=f.width||f.offsetWidth,Ve=f.cachedH=f.height||f.offsetHeight,document.body.removeChild(f));var De=ye,Ye=Ve;if("auto"!==yt(w,"background-width","value",E)&&(De="%"===yt(w,"background-width","units",E)?yt(w,"background-width","pfValue",E)*Qt:yt(w,"background-width","pfValue",E)),"auto"!==yt(w,"background-height","value",E)&&(Ye="%"===yt(w,"background-height","units",E)?yt(w,"background-height","pfValue",E)*re:yt(w,"background-height","pfValue",E)),0!==De&&0!==Ye){if("contain"===Ct)De*=ze=Math.min(Qt/De,re/Ye),Ye*=ze;else if("cover"===Ct){var ze;De*=ze=Math.max(Qt/De,re/Ye),Ye*=ze}var Oe=st-Qt/2,Ze=yt(w,"background-position-x","units",E),Le=yt(w,"background-position-x","pfValue",E);Oe+="%"===Ze?(Qt-De)*Le:Le;var Mi=yt(w,"background-offset-x","units",E),hi=yt(w,"background-offset-x","pfValue",E);Oe+="%"===Mi?(Qt-De)*hi:hi;var Ci=ft-re/2,fi=yt(w,"background-position-y","units",E),xi=yt(w,"background-position-y","pfValue",E);Ci+="%"===fi?(re-Ye)*xi:xi;var Li=yt(w,"background-offset-y","units",E),Ei=yt(w,"background-offset-y","pfValue",E);Ci+="%"===Li?(re-Ye)*Ei:Ei,le.pathCache&&(Oe-=st,Ci-=ft,st=0,ft=0);var si=x.globalAlpha;x.globalAlpha=Be;var Hi=L.getImgSmoothing(x),Ne=!1;if("no"===je&&Hi?(L.setImgSmoothing(x,!1),Ne=!0):"yes"===je&&!Hi&&(L.setImgSmoothing(x,!0),Ne=!0),"no-repeat"===Lt)xe&&(x.save(),le.pathCache?x.clip(le.pathCache):(L.nodeShapes[L.getNodeShape(w)].draw(x,st,ft,Qt,re),x.clip())),L.safeDrawImage(x,f,0,0,ye,Ve,Oe,Ci,De,Ye),xe&&x.restore();else{var zi=x.createPattern(f,Lt);x.fillStyle=zi,L.nodeShapes[L.getNodeShape(w)].draw(x,st,ft,Qt,re),x.translate(Oe,Ci),x.fill(),x.translate(-Oe,-Ci)}x.globalAlpha=si,Ne&&L.setImgSmoothing(x,Hi)}}},Ya={};function Hy(x,f,w,E,O){var L=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;x.beginPath(),x.moveTo(f+L,w),x.lineTo(f+E-L,w),x.quadraticCurveTo(f+E,w,f+E,w+L),x.lineTo(f+E,w+O-L),x.quadraticCurveTo(f+E,w+O,f+E-L,w+O),x.lineTo(f+L,w+O),x.quadraticCurveTo(f,w+O,f,w+O-L),x.lineTo(f,w+L),x.quadraticCurveTo(f,w,f+L,w),x.closePath(),x.fill()}Ya.eleTextBiggerThanMin=function(x,f){if(!f){var w=x.cy().zoom(),E=this.getPixelRatio(),O=Math.ceil(Pg(w*E));f=Math.pow(2,O)}return!(x.pstyle("font-size").pfValue*f<x.pstyle("min-zoomed-font-size").pfValue)},Ya.drawElementText=function(x,f,w,E,O){var L=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],F=this;if(null==E){if(L&&!F.eleTextBiggerThanMin(f))return}else if(!1===E)return;if(f.isNode()){var st=f.pstyle("label");if(!st||!st.value)return;var ft=F.getLabelJustification(f);x.textAlign=ft,x.textBaseline="bottom"}else{var lt=f.element()._private.rscratch.badLine,yt=f.pstyle("label"),Ct=f.pstyle("source-label"),Lt=f.pstyle("target-label");if(lt||(!yt||!yt.value)&&(!Ct||!Ct.value)&&(!Lt||!Lt.value))return;x.textAlign="center",x.textBaseline="bottom"}var Wt,zt=!w;w&&x.translate(-(Wt=w).x1,-Wt.y1),null==O?(F.drawText(x,f,null,zt,L),f.isEdge()&&(F.drawText(x,f,"source",zt,L),F.drawText(x,f,"target",zt,L))):F.drawText(x,f,O,zt,L),w&&x.translate(Wt.x1,Wt.y1)},Ya.getFontCache=function(x){var f;this.fontCaches=this.fontCaches||[];for(var w=0;w<this.fontCaches.length;w++)if((f=this.fontCaches[w]).context===x)return f;return this.fontCaches.push(f={context:x}),f},Ya.setupTextStyle=function(x,f){var w=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],E=f.pstyle("font-style").strValue,O=f.pstyle("font-size").pfValue+"px",L=f.pstyle("font-family").strValue,F=f.pstyle("font-weight").strValue,st=w?f.effectiveOpacity()*f.pstyle("text-opacity").value:1,ft=f.pstyle("text-outline-opacity").value*st,lt=f.pstyle("color").value,yt=f.pstyle("text-outline-color").value;x.font=E+" "+F+" "+O+" "+L,x.lineJoin="round",this.colorFillStyle(x,lt[0],lt[1],lt[2],st),this.colorStrokeStyle(x,yt[0],yt[1],yt[2],ft)},Ya.getTextAngle=function(x,f){var O=x._private.rscratch,F=x.pstyle((f?f+"-":"")+"text-rotation"),st=In(O,"labelAngle",f);return"autorotate"===F.strValue?x.isEdge()?st:0:"none"===F.strValue?0:F.pfValue},Ya.drawText=function(x,f,w){var E=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],O=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],L=f._private,F=L.rscratch,st=O?f.effectiveOpacity():1;if(!O||0!==st&&0!==f.pstyle("text-opacity").value){"main"===w&&(w=null);var yt,Ct,ft=In(F,"labelX",w),lt=In(F,"labelY",w),Lt=this.getLabelText(f,w);if(null!=Lt&&""!==Lt&&!isNaN(ft)&&!isNaN(lt)){this.setupTextStyle(x,f,O);var Be,zt=w?w+"-":"",Wt=In(F,"labelWidth",w),Bt=In(F,"labelHeight",w),Qt=f.pstyle(zt+"text-margin-x").pfValue,re=f.pstyle(zt+"text-margin-y").pfValue,le=f.isEdge(),ue=f.pstyle("text-halign").value,xe=f.pstyle("text-valign").value;switch(le&&(ue="center",xe="center"),ft+=Qt,lt+=re,0!==(Be=E?this.getTextAngle(f,w):0)&&(x.translate(yt=ft,Ct=lt),x.rotate(Be),ft=0,lt=0),xe){case"top":break;case"center":lt+=Bt/2;break;case"bottom":lt+=Bt}var je=f.pstyle("text-background-opacity").value,ye=f.pstyle("text-border-opacity").value,Ve=f.pstyle("text-border-width").pfValue,De=f.pstyle("text-background-padding").pfValue;if(je>0||Ve>0&&ye>0){var Ye=ft-De;switch(ue){case"left":Ye-=Wt;break;case"center":Ye-=Wt/2}var ze=lt-Bt-De,Oe=Wt+2*De,Ze=Bt+2*De;if(je>0){var Le=x.fillStyle,Mi=f.pstyle("text-background-color").value;x.fillStyle="rgba("+Mi[0]+","+Mi[1]+","+Mi[2]+","+je*st+")";var hi=f.pstyle("text-background-shape").strValue;0===hi.indexOf("round")?Hy(x,Ye,ze,Oe,Ze,2):x.fillRect(Ye,ze,Oe,Ze),x.fillStyle=Le}if(Ve>0&&ye>0){var Ci=x.strokeStyle,fi=x.lineWidth,xi=f.pstyle("text-border-color").value,Li=f.pstyle("text-border-style").value;if(x.strokeStyle="rgba("+xi[0]+","+xi[1]+","+xi[2]+","+ye*st+")",x.lineWidth=Ve,x.setLineDash)switch(Li){case"dotted":x.setLineDash([1,1]);break;case"dashed":x.setLineDash([4,2]);break;case"double":x.lineWidth=Ve/4,x.setLineDash([]);break;case"solid":x.setLineDash([])}if(x.strokeRect(Ye,ze,Oe,Ze),"double"===Li){var Ei=Ve/2;x.strokeRect(Ye+Ei,ze+Ei,Oe-2*Ei,Ze-2*Ei)}x.setLineDash&&x.setLineDash([]),x.lineWidth=fi,x.strokeStyle=Ci}}var si=2*f.pstyle("text-outline-width").pfValue;if(si>0&&(x.lineWidth=si),"wrap"===f.pstyle("text-wrap").value){var Hi=In(F,"labelWrapCachedLines",w),Ne=In(F,"labelLineHeight",w),zi=Wt/2,ji=this.getLabelJustification(f);switch("auto"===ji||("left"===ue?"left"===ji?ft+=-Wt:"center"===ji&&(ft+=-zi):"center"===ue?"left"===ji?ft+=-zi:"right"===ji&&(ft+=zi):"right"===ue&&("center"===ji?ft+=zi:"right"===ji&&(ft+=Wt))),xe){case"top":case"center":case"bottom":lt-=(Hi.length-1)*Ne}for(var wi=0;wi<Hi.length;wi++)si>0&&x.strokeText(Hi[wi],ft,lt),x.fillText(Hi[wi],ft,lt),lt+=Ne}else si>0&&x.strokeText(Lt,ft,lt),x.fillText(Lt,ft,lt);0!==Be&&(x.rotate(-Be),x.translate(-yt,-Ct))}}};var $n={drawNode:function(x,f,w){var st,ft,E=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],O=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],L=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],F=this,lt=f._private,yt=lt.rscratch,Ct=f.position();if(Mt(Ct.x)&&Mt(Ct.y)&&(!L||f.visible())){var Wt,re,Lt=L?f.effectiveOpacity():1,zt=F.usePaths(),Bt=!1,Qt=f.padding();st=f.width()+2*Qt,ft=f.height()+2*Qt,w&&x.translate(-(re=w).x1,-re.y1);for(var le=f.pstyle("background-image"),ue=le.value,xe=new Array(ue.length),Be=new Array(ue.length),je=0,ye=0;ye<ue.length;ye++){var Ve=ue[ye],De=xe[ye]=null!=Ve&&"none"!==Ve;if(De){var Ye=f.cy().style().getIndexedStyle(f,"background-image-crossorigin","value",ye);je++,Be[ye]=F.getCachedImage(Ve,Ye,function(){lt.backgroundTimestamp=Date.now(),f.emitAndNotify("background")})}}var ze=f.pstyle("background-blacken").value,Oe=f.pstyle("border-width").pfValue,Ze=f.pstyle("background-opacity").value*Lt,Le=f.pstyle("border-color").value,Mi=f.pstyle("border-style").value,hi=f.pstyle("border-opacity").value*Lt;x.lineJoin="miter";var Ci=function(){var An=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze;F.eleFillStyle(x,f,An)},fi=function(){var An=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hi;F.colorStrokeStyle(x,Le[0],Le[1],Le[2],An)},xi=f.pstyle("shape").strValue,Li=f.pstyle("shape-polygon-points").pfValue;if(zt){x.translate(Ct.x,Ct.y);var Ei=F.nodePathCache=F.nodePathCache||[],si=He("polygon"===xi?xi+","+Li.join(","):xi,""+ft,""+st),Hi=Ei[si];null!=Hi?(Bt=!0,yt.pathCache=Wt=Hi):(Wt=new Path2D,Ei[si]=yt.pathCache=Wt)}var Ne=function(){if(!Bt){var An=Ct;zt&&(An={x:0,y:0}),F.nodeShapes[F.getNodeShape(f)].draw(Wt||x,An.x,An.y,st,ft)}zt?x.fill(Wt):x.fill()},zi=function(){for(var An=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,ir=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Co=lt.backgrounding,mo=0,Xr=0;Xr<Be.length;Xr++){var ai=f.cy().style().getIndexedStyle(f,"background-image-containment","value",Xr);ir&&"over"===ai||!ir&&"inside"===ai?mo++:xe[Xr]&&Be[Xr].complete&&!Be[Xr].error&&(mo++,F.drawInscribedImage(x,Be[Xr],f,Xr,An))}lt.backgrounding=mo!==je,Co!==lt.backgrounding&&f.updateStyle(!1)},ji=function(){var An=arguments.length>0&&void 0!==arguments[0]&&arguments[0],ir=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lt;F.hasPie(f)&&(F.drawPie(x,f,ir),An&&(zt||F.nodeShapes[F.getNodeShape(f)].draw(x,Ct.x,Ct.y,st,ft)))},wi=function(){var An=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,ir=(ze>0?ze:-ze)*An,Co=ze>0?0:255;0!==ze&&(F.colorFillStyle(x,Co,Co,Co,ir),zt?x.fill(Wt):x.fill())},Oi=function(){if(Oe>0){if(x.lineWidth=Oe,x.lineCap="butt",x.setLineDash)switch(Mi){case"dotted":x.setLineDash([1,1]);break;case"dashed":x.setLineDash([4,2]);break;case"solid":case"double":x.setLineDash([])}if(zt?x.stroke(Wt):x.stroke(),"double"===Mi){x.lineWidth=Oe/3;var An=x.globalCompositeOperation;x.globalCompositeOperation="destination-out",zt?x.stroke(Wt):x.stroke(),x.globalCompositeOperation=An}x.setLineDash&&x.setLineDash([])}},Gi=function(){O&&F.drawNodeOverlay(x,f,Ct,st,ft)},qi=function(){O&&F.drawNodeUnderlay(x,f,Ct,st,ft)},gn=function(){F.drawElementText(x,f,null,E)},mr="yes"===f.pstyle("ghost").value;if(mr){var wr=f.pstyle("ghost-offset-x").pfValue,Sn=f.pstyle("ghost-offset-y").pfValue,dn=f.pstyle("ghost-opacity").value,hr=dn*Lt;x.translate(wr,Sn),Ci(dn*Ze),Ne(),zi(hr,!0),fi(dn*hi),Oi(),ji(0!==ze||0!==Oe),zi(hr,!1),wi(hr),x.translate(-wr,-Sn)}zt&&x.translate(-Ct.x,-Ct.y),qi(),zt&&x.translate(Ct.x,Ct.y),Ci(),Ne(),zi(Lt,!0),fi(),Oi(),ji(0!==ze||0!==Oe),zi(Lt,!1),wi(),zt&&x.translate(-Ct.x,-Ct.y),gn(),Gi(),w&&x.translate(re.x1,re.y1)}}},Uy=function(f){if(!["overlay","underlay"].includes(f))throw new Error("Invalid state");return function(w,E,O,L,F){if(E.visible()){var ft=E.pstyle("".concat(f,"-padding")).pfValue,lt=E.pstyle("".concat(f,"-opacity")).value,yt=E.pstyle("".concat(f,"-color")).value,Ct=E.pstyle("".concat(f,"-shape")).value;if(lt>0){if(O=O||E.position(),null==L||null==F){var Lt=E.padding();L=E.width()+2*Lt,F=E.height()+2*Lt}this.colorFillStyle(w,yt[0],yt[1],yt[2],lt),this.nodeShapes[Ct].draw(w,O.x,O.y,L+2*ft,F+2*ft),w.fill()}}}};$n.drawNodeOverlay=Uy("overlay"),$n.drawNodeUnderlay=Uy("underlay"),$n.hasPie=function(x){return(x=x[0])._private.hasPie},$n.drawPie=function(x,f,w,E){f=f[0],E=E||f.position();var O=f.cy().style(),L=f.pstyle("pie-size"),F=E.x,st=E.y,ft=f.width(),lt=f.height(),yt=Math.min(ft,lt)/2,Ct=0;this.usePaths()&&(F=0,st=0),"%"===L.units?yt*=L.pfValue:void 0!==L.pfValue&&(yt=L.pfValue/2);for(var zt=1;zt<=O.pieBackgroundN;zt++){var Wt=f.pstyle("pie-"+zt+"-background-size").value,Bt=f.pstyle("pie-"+zt+"-background-color").value,Qt=f.pstyle("pie-"+zt+"-background-opacity").value*w,re=Wt/100;re+Ct>1&&(re=1-Ct);var le=1.5*Math.PI+2*Math.PI*Ct,xe=le+2*Math.PI*re;0===Wt||Ct>=1||Ct+re>1||(x.beginPath(),x.moveTo(F,st),x.arc(F,st,yt,le,xe),x.closePath(),this.colorFillStyle(x,Bt[0],Bt[1],Bt[2],Qt),x.fill(),Ct+=re)}};for(var $a={getPixelRatio:function(){var x=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(x.backingStorePixelRatio||x.webkitBackingStorePixelRatio||x.mozBackingStorePixelRatio||x.msBackingStorePixelRatio||x.oBackingStorePixelRatio||x.backingStorePixelRatio||1)},paintCache:function(x){for(var E,f=this.paintCaches=this.paintCaches||[],w=!0,O=0;O<f.length;O++)if((E=f[O]).context===x){w=!1;break}return w&&f.push(E={context:x}),E},createGradientStyleFor:function(x,f,w,E,O){var L,F=this.usePaths(),st=w.pstyle(f+"-gradient-stop-colors").value,ft=w.pstyle(f+"-gradient-stop-positions").pfValue;if("radial-gradient"===E)if(w.isEdge()){var lt=w.sourceEndpoint(),yt=w.targetEndpoint(),Ct=w.midpoint(),Lt=Od(lt,Ct),zt=Od(yt,Ct);L=x.createRadialGradient(Ct.x,Ct.y,0,Ct.x,Ct.y,Math.max(Lt,zt))}else{var Wt=F?{x:0,y:0}:w.position(),Bt=w.paddedWidth(),Qt=w.paddedHeight();L=x.createRadialGradient(Wt.x,Wt.y,0,Wt.x,Wt.y,Math.max(Bt,Qt))}else if(w.isEdge()){var re=w.sourceEndpoint(),le=w.targetEndpoint();L=x.createLinearGradient(re.x,re.y,le.x,le.y)}else{var ue=F?{x:0,y:0}:w.position(),je=w.paddedWidth()/2,ye=w.paddedHeight()/2;switch(w.pstyle("background-gradient-direction").value){case"to-bottom":L=x.createLinearGradient(ue.x,ue.y-ye,ue.x,ue.y+ye);break;case"to-top":L=x.createLinearGradient(ue.x,ue.y+ye,ue.x,ue.y-ye);break;case"to-left":L=x.createLinearGradient(ue.x+je,ue.y,ue.x-je,ue.y);break;case"to-right":L=x.createLinearGradient(ue.x-je,ue.y,ue.x+je,ue.y);break;case"to-bottom-right":case"to-right-bottom":L=x.createLinearGradient(ue.x-je,ue.y-ye,ue.x+je,ue.y+ye);break;case"to-top-right":case"to-right-top":L=x.createLinearGradient(ue.x-je,ue.y+ye,ue.x+je,ue.y-ye);break;case"to-bottom-left":case"to-left-bottom":L=x.createLinearGradient(ue.x+je,ue.y-ye,ue.x-je,ue.y+ye);break;case"to-top-left":case"to-left-top":L=x.createLinearGradient(ue.x+je,ue.y+ye,ue.x-je,ue.y-ye)}}if(!L)return null;for(var De=ft.length===st.length,Ye=st.length,ze=0;ze<Ye;ze++)L.addColorStop(De?ft[ze]:ze/(Ye-1),"rgba("+st[ze][0]+","+st[ze][1]+","+st[ze][2]+","+O+")");return L},gradientFillStyle:function(x,f,w,E){var O=this.createGradientStyleFor(x,"background",f,w,E);if(!O)return null;x.fillStyle=O},colorFillStyle:function(x,f,w,E,O){x.fillStyle="rgba("+f+","+w+","+E+","+O+")"},eleFillStyle:function(x,f,w){var E=f.pstyle("background-fill").value;if("linear-gradient"===E||"radial-gradient"===E)this.gradientFillStyle(x,f,E,w);else{var O=f.pstyle("background-color").value;this.colorFillStyle(x,O[0],O[1],O[2],w)}},gradientStrokeStyle:function(x,f,w,E){var O=this.createGradientStyleFor(x,"line",f,w,E);if(!O)return null;x.strokeStyle=O},colorStrokeStyle:function(x,f,w,E,O){x.strokeStyle="rgba("+f+","+w+","+E+","+O+")"},eleStrokeStyle:function(x,f,w){var E=f.pstyle("line-fill").value;if("linear-gradient"===E||"radial-gradient"===E)this.gradientStrokeStyle(x,f,E,w);else{var O=f.pstyle("line-color").value;this.colorStrokeStyle(x,O[0],O[1],O[2],w)}},matchCanvasSize:function(x){var f=this,w=f.data,E=f.findContainerClientCoords(),O=E[2],L=E[3],F=f.getPixelRatio();(x===f.data.bufferCanvases[f.MOTIONBLUR_BUFFER_NODE]||x===f.data.bufferCanvases[f.MOTIONBLUR_BUFFER_DRAG])&&(F=f.motionBlurPxRatio);var yt,ft=O*F,lt=L*F;if(ft!==f.canvasWidth||lt!==f.canvasHeight){f.fontCaches=null;var Ct=w.canvasContainer;Ct.style.width=O+"px",Ct.style.height=L+"px";for(var Lt=0;Lt<f.CANVAS_LAYERS;Lt++)(yt=w.canvases[Lt]).width=ft,yt.height=lt,yt.style.width=O+"px",yt.style.height=L+"px";for(Lt=0;Lt<f.BUFFER_COUNT;Lt++)(yt=w.bufferCanvases[Lt]).width=ft,yt.height=lt,yt.style.width=O+"px",yt.style.height=L+"px";f.textureMult=1,F<=1&&(yt=w.bufferCanvases[f.TEXTURE_BUFFER],f.textureMult=2,yt.width=ft*f.textureMult,yt.height=lt*f.textureMult),f.canvasWidth=ft,f.canvasHeight=lt}},renderTo:function(x,f,w,E){this.render({forcedContext:x,forcedZoom:f,forcedPan:w,drawAllLayers:!0,forcedPxRatio:E})},render:function(x){var f=(x=x||oi()).forcedContext,w=x.drawAllLayers,E=x.drawOnlyNodeLayer,O=x.forcedZoom,L=x.forcedPan,F=this,st=void 0===x.forcedPxRatio?this.getPixelRatio():x.forcedPxRatio,ft=F.cy,lt=F.data,yt=lt.canvasNeedsRedraw,Ct=F.textureOnViewport&&!f&&(F.pinching||F.hoverData.dragging||F.swipePanning||F.data.wheelZooming),Lt=void 0!==x.motionBlur?x.motionBlur:F.motionBlur,zt=F.motionBlurPxRatio,Wt=ft.hasCompoundNodes(),Bt=F.hoverData.draggingEles,re=Lt=Lt&&!f&&F.motionBlurEnabled&&!(F.hoverData.selecting||F.touchData.selecting);f||(F.prevPxRatio!==st&&(F.invalidateContainerClientCoordsCache(),F.matchCanvasSize(F.container),F.redrawHint("eles",!0),F.redrawHint("drag",!0)),F.prevPxRatio=st),!f&&F.motionBlurTimeout&&clearTimeout(F.motionBlurTimeout),Lt&&(null==F.mbFrames&&(F.mbFrames=0),F.mbFrames++,F.mbFrames<3&&(re=!1),F.mbFrames>F.minMbLowQualFrames&&(F.motionBlurPxRatio=F.mbPxRBlurry)),F.clearingMotionBlur&&(F.motionBlurPxRatio=1),F.textureDrawLastFrame&&!Ct&&(yt[F.NODE]=!0,yt[F.SELECT_BOX]=!0);var le=ft.style(),ue=ft.zoom(),xe=void 0!==O?O:ue,Be=ft.pan(),je={x:Be.x,y:Be.y},ye={zoom:ue,pan:{x:Be.x,y:Be.y}},Ve=F.prevViewport;!(void 0===Ve||ye.zoom!==Ve.zoom||ye.pan.x!==Ve.pan.x||ye.pan.y!==Ve.pan.y)&&!(Bt&&!Wt)&&(F.motionBlurPxRatio=1),L&&(je=L),xe*=st,je.x*=st,je.y*=st;var Ye=F.getCachedZSortedEles();function ze(Sn,dn,hr,Xn,An){var ir=Sn.globalCompositeOperation;Sn.globalCompositeOperation="destination-out",F.colorFillStyle(Sn,255,255,255,F.motionBlurTransparency),Sn.fillRect(dn,hr,Xn,An),Sn.globalCompositeOperation=ir}function Oe(Sn,dn){var hr,Xn,An,ir;F.clearingMotionBlur||Sn!==lt.bufferContexts[F.MOTIONBLUR_BUFFER_NODE]&&Sn!==lt.bufferContexts[F.MOTIONBLUR_BUFFER_DRAG]?(hr=je,Xn=xe,An=F.canvasWidth,ir=F.canvasHeight):(hr={x:Be.x*zt,y:Be.y*zt},Xn=ue*zt,An=F.canvasWidth*zt,ir=F.canvasHeight*zt),Sn.setTransform(1,0,0,1,0,0),"motionBlur"===dn?ze(Sn,0,0,An,ir):!f&&(void 0===dn||dn)&&Sn.clearRect(0,0,An,ir),w||(Sn.translate(hr.x,hr.y),Sn.scale(Xn,Xn)),L&&Sn.translate(L.x,L.y),O&&Sn.scale(O,O)}if(Ct||(F.textureDrawLastFrame=!1),Ct){if(F.textureDrawLastFrame=!0,!F.textureCache){F.textureCache={},F.textureCache.bb=ft.mutableElements().boundingBox(),F.textureCache.texture=F.data.bufferCanvases[F.TEXTURE_BUFFER];var Ze=F.data.bufferContexts[F.TEXTURE_BUFFER];Ze.setTransform(1,0,0,1,0,0),Ze.clearRect(0,0,F.canvasWidth*F.textureMult,F.canvasHeight*F.textureMult),F.render({forcedContext:Ze,drawOnlyNodeLayer:!0,forcedPxRatio:st*F.textureMult}),(ye=F.textureCache.viewport={zoom:ft.zoom(),pan:ft.pan(),width:F.canvasWidth,height:F.canvasHeight}).mpan={x:(0-ye.pan.x)/ye.zoom,y:(0-ye.pan.y)/ye.zoom}}yt[F.DRAG]=!1,yt[F.NODE]=!1;var Mi=F.textureCache.texture;ye=F.textureCache.viewport,(Le=lt.contexts[F.NODE]).setTransform(1,0,0,1,0,0),Lt?ze(Le,0,0,ye.width,ye.height):Le.clearRect(0,0,ye.width,ye.height);var hi=le.core("outside-texture-bg-color").value,Ci=le.core("outside-texture-bg-opacity").value;F.colorFillStyle(Le,hi[0],hi[1],hi[2],Ci),Le.fillRect(0,0,ye.width,ye.height),ue=ft.zoom(),Oe(Le,!1),Le.clearRect(ye.mpan.x,ye.mpan.y,ye.width/ye.zoom/st,ye.height/ye.zoom/st),Le.drawImage(Mi,ye.mpan.x,ye.mpan.y,ye.width/ye.zoom/st,ye.height/ye.zoom/st)}else F.textureOnViewport&&!f&&(F.textureCache=null);var fi=ft.extent(),xi=F.pinching||F.hoverData.dragging||F.swipePanning||F.data.wheelZooming||F.hoverData.draggingEles||F.cy.animated(),Li=F.hideEdgesOnViewport&&xi,Ei=[];if(Ei[F.NODE]=!yt[F.NODE]&&Lt&&!F.clearedForMotionBlur[F.NODE]||F.clearingMotionBlur,Ei[F.NODE]&&(F.clearedForMotionBlur[F.NODE]=!0),Ei[F.DRAG]=!yt[F.DRAG]&&Lt&&!F.clearedForMotionBlur[F.DRAG]||F.clearingMotionBlur,Ei[F.DRAG]&&(F.clearedForMotionBlur[F.DRAG]=!0),yt[F.NODE]||w||E||Ei[F.NODE]){var si=Lt&&!Ei[F.NODE]&&1!==zt;Oe(Le=f||(si?F.data.bufferContexts[F.MOTIONBLUR_BUFFER_NODE]:lt.contexts[F.NODE]),Lt&&!si?"motionBlur":void 0),Li?F.drawCachedNodes(Le,Ye.nondrag,st,fi):F.drawLayeredElements(Le,Ye.nondrag,st,fi),F.debug&&F.drawDebugPoints(Le,Ye.nondrag),!w&&!Lt&&(yt[F.NODE]=!1)}if(!E&&(yt[F.DRAG]||w||Ei[F.DRAG])&&(si=Lt&&!Ei[F.DRAG]&&1!==zt,Oe(Le=f||(si?F.data.bufferContexts[F.MOTIONBLUR_BUFFER_DRAG]:lt.contexts[F.DRAG]),Lt&&!si?"motionBlur":void 0),Li?F.drawCachedNodes(Le,Ye.drag,st,fi):F.drawCachedElements(Le,Ye.drag,st,fi),F.debug&&F.drawDebugPoints(Le,Ye.drag),!w&&!Lt&&(yt[F.DRAG]=!1)),F.showFps||!E&&yt[F.SELECT_BOX]&&!w){var Le;if(Oe(Le=f||lt.contexts[F.SELECT_BOX]),1==F.selection[4]&&(F.hoverData.selecting||F.touchData.selecting)){ue=F.cy.zoom();var Ne=le.core("selection-box-border-width").value/ue;Le.lineWidth=Ne,Le.fillStyle="rgba("+le.core("selection-box-color").value[0]+","+le.core("selection-box-color").value[1]+","+le.core("selection-box-color").value[2]+","+le.core("selection-box-opacity").value+")",Le.fillRect(F.selection[0],F.selection[1],F.selection[2]-F.selection[0],F.selection[3]-F.selection[1]),Ne>0&&(Le.strokeStyle="rgba("+le.core("selection-box-border-color").value[0]+","+le.core("selection-box-border-color").value[1]+","+le.core("selection-box-border-color").value[2]+","+le.core("selection-box-opacity").value+")",Le.strokeRect(F.selection[0],F.selection[1],F.selection[2]-F.selection[0],F.selection[3]-F.selection[1]))}if(lt.bgActivePosistion&&!F.hoverData.selecting){ue=F.cy.zoom();var zi=lt.bgActivePosistion;Le.fillStyle="rgba("+le.core("active-bg-color").value[0]+","+le.core("active-bg-color").value[1]+","+le.core("active-bg-color").value[2]+","+le.core("active-bg-opacity").value+")",Le.beginPath(),Le.arc(zi.x,zi.y,le.core("active-bg-size").pfValue/ue,0,2*Math.PI),Le.fill()}var ji=F.lastRedrawTime;if(F.showFps&&ji){ji=Math.round(ji);var wi=Math.round(1e3/ji);Le.setTransform(1,0,0,1,0,0),Le.fillStyle="rgba(255, 0, 0, 0.75)",Le.strokeStyle="rgba(255, 0, 0, 0.75)",Le.lineWidth=1,Le.fillText("1 frame = "+ji+" ms = "+wi+" fps",0,20),Le.strokeRect(0,30,250,20),Le.fillRect(0,30,250*Math.min(wi/60,1),20)}w||(yt[F.SELECT_BOX]=!1)}if(Lt&&1!==zt){var gn=lt.contexts[F.DRAG],mr=F.data.bufferCanvases[F.MOTIONBLUR_BUFFER_DRAG],wr=function(dn,hr,Xn){dn.setTransform(1,0,0,1,0,0),Xn||!re?dn.clearRect(0,0,F.canvasWidth,F.canvasHeight):ze(dn,0,0,F.canvasWidth,F.canvasHeight),dn.drawImage(hr,0,0,F.canvasWidth*zt,F.canvasHeight*zt,0,0,F.canvasWidth,F.canvasHeight)};(yt[F.NODE]||Ei[F.NODE])&&(wr(lt.contexts[F.NODE],F.data.bufferCanvases[F.MOTIONBLUR_BUFFER_NODE],Ei[F.NODE]),yt[F.NODE]=!1),(yt[F.DRAG]||Ei[F.DRAG])&&(wr(gn,mr,Ei[F.DRAG]),yt[F.DRAG]=!1)}F.prevViewport=ye,F.clearingMotionBlur&&(F.clearingMotionBlur=!1,F.motionBlurCleared=!0,F.motionBlur=!0),Lt&&(F.motionBlurTimeout=setTimeout(function(){F.motionBlurTimeout=null,F.clearedForMotionBlur[F.NODE]=!1,F.clearedForMotionBlur[F.DRAG]=!1,F.motionBlur=!1,F.clearingMotionBlur=!Ct,F.mbFrames=0,yt[F.NODE]=!0,yt[F.DRAG]=!0,F.redraw()},100)),f||ft.emit("render")}},su={drawPolygonPath:function(x,f,w,E,O,L){var F=E/2,st=O/2;x.beginPath&&x.beginPath(),x.moveTo(f+F*L[0],w+st*L[1]);for(var ft=1;ft<L.length/2;ft++)x.lineTo(f+F*L[2*ft],w+st*L[2*ft+1]);x.closePath()},drawRoundPolygonPath:function(x,f,w,E,O,L){var F=E/2,st=O/2,ft=Cs(E,O);x.beginPath&&x.beginPath();for(var lt=0;lt<L.length/4;lt++){var Ct,yt;yt=0===lt?L.length-2:4*lt-2,Ct=4*lt+2;var Lt=f+F*L[4*lt],zt=w+st*L[4*lt+1],Bt=ft/Math.tan(Math.acos(-L[yt]*L[Ct]-L[yt+1]*L[Ct+1])/2),Qt=Lt-Bt*L[yt],re=zt-Bt*L[yt+1],le=Lt+Bt*L[Ct],ue=zt+Bt*L[Ct+1];0===lt?x.moveTo(Qt,re):x.lineTo(Qt,re),x.arcTo(Lt,zt,le,ue,ft)}x.closePath()},drawRoundRectanglePath:function(x,f,w,E,O){var L=E/2,F=O/2,st=qs(E,O);x.beginPath&&x.beginPath(),x.moveTo(f,w-F),x.arcTo(f+L,w-F,f+L,w,st),x.arcTo(f+L,w+F,f,w+F,st),x.arcTo(f-L,w+F,f-L,w,st),x.arcTo(f-L,w-F,f,w-F,st),x.lineTo(f,w-F),x.closePath()},drawBottomRoundRectanglePath:function(x,f,w,E,O){var L=E/2,F=O/2,st=qs(E,O);x.beginPath&&x.beginPath(),x.moveTo(f,w-F),x.lineTo(f+L,w-F),x.lineTo(f+L,w),x.arcTo(f+L,w+F,f,w+F,st),x.arcTo(f-L,w+F,f-L,w,st),x.lineTo(f-L,w-F),x.lineTo(f,w-F),x.closePath()},drawCutRectanglePath:function(x,f,w,E,O){var L=E/2,F=O/2;x.beginPath&&x.beginPath(),x.moveTo(f-L+8,w-F),x.lineTo(f+L-8,w-F),x.lineTo(f+L,w-F+8),x.lineTo(f+L,w+F-8),x.lineTo(f+L-8,w+F),x.lineTo(f-L+8,w+F),x.lineTo(f-L,w+F-8),x.lineTo(f-L,w-F+8),x.closePath()},drawBarrelPath:function(x,f,w,E,O){var L=E/2,F=O/2,st=f-L,ft=f+L,lt=w-F,yt=w+F,Ct=Ss(E,O),Lt=Ct.widthOffset,zt=Ct.heightOffset,Wt=Ct.ctrlPtOffsetPct*Lt;x.beginPath&&x.beginPath(),x.moveTo(st,lt+zt),x.lineTo(st,yt-zt),x.quadraticCurveTo(st+Wt,yt,st+Lt,yt),x.lineTo(ft-Lt,yt),x.quadraticCurveTo(ft-Wt,yt,ft,yt-zt),x.lineTo(ft,lt+zt),x.quadraticCurveTo(ft-Wt,lt,ft-Lt,lt),x.lineTo(st+Lt,lt),x.quadraticCurveTo(st+Wt,lt,st,lt+zt),x.closePath()}},Ml=Math.sin(0),Am=Math.cos(0),mv={},Tm={},op=Math.PI/40,yc=0*Math.PI;yc<2*Math.PI;yc+=op)mv[yc]=Math.sin(yc),Tm[yc]=Math.cos(yc);su.drawEllipsePath=function(x,f,w,E,O){if(x.beginPath&&x.beginPath(),x.ellipse)x.ellipse(f,w,E/2,O/2,0,0,2*Math.PI);else for(var L,F,st=E/2,ft=O/2,lt=0*Math.PI;lt<2*Math.PI;lt+=op)L=f-st*mv[lt]*Ml+st*Tm[lt]*Am,F=w+ft*Tm[lt]*Ml+ft*mv[lt]*Am,0===lt?x.moveTo(L,F):x.lineTo(L,F);x.closePath()};var sp={};function gv(x){var f=x.indexOf(",");return x.substr(f+1)}function x0(x,f,w){var E=function(){return f.toDataURL(w,x.quality)};switch(x.output){case"blob-promise":return new Hd(function(O,L){try{f.toBlob(function(F){null!=F?O(F):L(new Error("`canvas.toBlob()` sent a null value in its callback"))},w,x.quality)}catch(F){L(F)}});case"blob":return function(x,f){for(var w=atob(x),E=new ArrayBuffer(w.length),O=new Uint8Array(E),L=0;L<w.length;L++)O[L]=w.charCodeAt(L);return new Blob([E],{type:f})}(gv(E()),w);case"base64":return gv(E());default:return E()}}sp.createBuffer=function(x,f){var w=document.createElement("canvas");return w.width=x,w.height=f,[w,w.getContext("2d")]},sp.bufferCanvasImage=function(x){var f=this.cy,E=f.mutableElements().boundingBox(),O=this.findContainerClientCoords(),L=x.full?Math.ceil(E.w):O[2],F=x.full?Math.ceil(E.h):O[3],st=Mt(x.maxWidth)||Mt(x.maxHeight),ft=this.getPixelRatio(),lt=1;if(void 0!==x.scale)L*=x.scale,F*=x.scale,lt=x.scale;else if(st){var yt=1/0,Ct=1/0;Mt(x.maxWidth)&&(yt=lt*x.maxWidth/L),Mt(x.maxHeight)&&(Ct=lt*x.maxHeight/F),L*=lt=Math.min(yt,Ct),F*=lt}st||(L*=ft,F*=ft,lt*=ft);var Lt=document.createElement("canvas");Lt.width=L,Lt.height=F,Lt.style.width=L+"px",Lt.style.height=F+"px";var zt=Lt.getContext("2d");if(L>0&&F>0){zt.clearRect(0,0,L,F),zt.globalCompositeOperation="source-over";var Wt=this.getCachedZSortedEles();if(x.full)zt.translate(-E.x1*lt,-E.y1*lt),zt.scale(lt,lt),this.drawElements(zt,Wt),zt.scale(1/lt,1/lt),zt.translate(E.x1*lt,E.y1*lt);else{var Bt=f.pan(),Qt={x:Bt.x*lt,y:Bt.y*lt};lt*=f.zoom(),zt.translate(Qt.x,Qt.y),zt.scale(lt,lt),this.drawElements(zt,Wt),zt.scale(1/lt,1/lt),zt.translate(-Qt.x,-Qt.y)}x.bg&&(zt.globalCompositeOperation="destination-over",zt.fillStyle=x.bg,zt.rect(0,0,L,F),zt.fill())}return Lt},sp.png=function(x){return x0(x,this.bufferCanvasImage(x),"image/png")},sp.jpg=function(x){return x0(x,this.bufferCanvasImage(x),"image/jpeg")};var vv=Ax,Ur=Ax.prototype;function Ax(x){var f=this;f.data={canvases:new Array(Ur.CANVAS_LAYERS),contexts:new Array(Ur.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Ur.CANVAS_LAYERS),bufferCanvases:new Array(Ur.BUFFER_COUNT),bufferContexts:new Array(Ur.CANVAS_LAYERS)};var w="-webkit-tap-highlight-color",E="rgba(0,0,0,0)";f.data.canvasContainer=document.createElement("div");var O=f.data.canvasContainer.style;f.data.canvasContainer.style[w]=E,O.position="relative",O.zIndex="0",O.overflow="hidden";var L=x.cy.container();L.appendChild(f.data.canvasContainer),L.style[w]=E;var F={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};U&&U.userAgent.match(/msie|trident|edge/i)&&(F["-ms-touch-action"]="none",F["touch-action"]="none");for(var st=0;st<Ur.CANVAS_LAYERS;st++){var ft=f.data.canvases[st]=document.createElement("canvas");f.data.contexts[st]=ft.getContext("2d"),Object.keys(F).forEach(function(ji){ft.style[ji]=F[ji]}),ft.style.position="absolute",ft.setAttribute("data-id","layer"+st),ft.style.zIndex=String(Ur.CANVAS_LAYERS-st),f.data.canvasContainer.appendChild(ft),f.data.canvasNeedsRedraw[st]=!1}for(f.data.topCanvas=f.data.canvases[0],f.data.canvases[Ur.NODE].setAttribute("data-id","layer"+Ur.NODE+"-node"),f.data.canvases[Ur.SELECT_BOX].setAttribute("data-id","layer"+Ur.SELECT_BOX+"-selectbox"),f.data.canvases[Ur.DRAG].setAttribute("data-id","layer"+Ur.DRAG+"-drag"),st=0;st<Ur.BUFFER_COUNT;st++)f.data.bufferCanvases[st]=document.createElement("canvas"),f.data.bufferContexts[st]=f.data.bufferCanvases[st].getContext("2d"),f.data.bufferCanvases[st].style.position="absolute",f.data.bufferCanvases[st].setAttribute("data-id","buffer"+st),f.data.bufferCanvases[st].style.zIndex=String(-st-1),f.data.bufferCanvases[st].style.visibility="hidden";f.pathsEnabled=!0;var lt=Zo(),Ct=function(wi){return{x:-wi.w/2,y:-wi.h/2}},Be=function(wi){return wi.boundingBox(),wi[0]._private.bodyBounds},je=function(wi){return wi.boundingBox(),wi[0]._private.labelBounds.main||lt},ye=function(wi){return wi.boundingBox(),wi[0]._private.labelBounds.source||lt},Ve=function(wi){return wi.boundingBox(),wi[0]._private.labelBounds.target||lt},De=function(wi,Oi){return Oi},ze=function(wi,Oi,Gi){var qi=wi?wi+"-":"";return{x:Oi.x+Gi.pstyle(qi+"text-margin-x").pfValue,y:Oi.y+Gi.pstyle(qi+"text-margin-y").pfValue}},Oe=function(wi,Oi,Gi){var qi=wi[0]._private.rscratch;return{x:qi[Oi],y:qi[Gi]}},Li=f.data.eleTxrCache=new Ih(f,{getKey:function(wi){return wi[0]._private.nodeKey},doesEleInvalidateKey:function(wi){var Oi=wi[0]._private;return!(Oi.oldBackgroundTimestamp===Oi.backgroundTimestamp)},drawElement:function(wi,Oi,Gi,qi,gn){return f.drawElement(wi,Oi,Gi,!1,!1,gn)},getBoundingBox:Be,getRotationPoint:function(wi){return function(wi){return{x:(wi.x1+wi.x2)/2,y:(wi.y1+wi.y2)/2}}(Be(wi))},getRotationOffset:function(wi){return Ct(Be(wi))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),Ei=f.data.lblTxrCache=new Ih(f,{getKey:function(wi){return wi[0]._private.labelStyleKey},drawElement:function(wi,Oi,Gi,qi,gn){return f.drawElementText(wi,Oi,Gi,qi,"main",gn)},getBoundingBox:je,getRotationPoint:function(wi){return ze("",Oe(wi,"labelX","labelY"),wi)},getRotationOffset:function(wi){var Oi=je(wi),Gi=Ct(je(wi));if(wi.isNode()){switch(wi.pstyle("text-halign").value){case"left":Gi.x=-Oi.w;break;case"right":Gi.x=0}switch(wi.pstyle("text-valign").value){case"top":Gi.y=-Oi.h;break;case"bottom":Gi.y=0}}return Gi},isVisible:De}),si=f.data.slbTxrCache=new Ih(f,{getKey:function(wi){return wi[0]._private.sourceLabelStyleKey},drawElement:function(wi,Oi,Gi,qi,gn){return f.drawElementText(wi,Oi,Gi,qi,"source",gn)},getBoundingBox:ye,getRotationPoint:function(wi){return ze("source",Oe(wi,"sourceLabelX","sourceLabelY"),wi)},getRotationOffset:function(wi){return Ct(ye(wi))},isVisible:De}),Hi=f.data.tlbTxrCache=new Ih(f,{getKey:function(wi){return wi[0]._private.targetLabelStyleKey},drawElement:function(wi,Oi,Gi,qi,gn){return f.drawElementText(wi,Oi,Gi,qi,"target",gn)},getBoundingBox:Ve,getRotationPoint:function(wi){return ze("target",Oe(wi,"targetLabelX","targetLabelY"),wi)},getRotationOffset:function(wi){return Ct(Ve(wi))},isVisible:De}),Ne=f.data.lyrTxrCache=new Vy(f);f.onUpdateEleCalcs(function(wi,Oi){Li.invalidateElements(Oi),Ei.invalidateElements(Oi),si.invalidateElements(Oi),Hi.invalidateElements(Oi),Ne.invalidateElements(Oi);for(var Gi=0;Gi<Oi.length;Gi++){var qi=Oi[Gi]._private;qi.oldBackgroundTimestamp=qi.backgroundTimestamp}});var zi=function(wi){for(var Oi=0;Oi<wi.length;Oi++)Ne.enqueueElementRefinement(wi[Oi].ele)};Li.onDequeue(zi),Ei.onDequeue(zi),si.onDequeue(zi),Hi.onDequeue(zi)}Ur.CANVAS_LAYERS=3,Ur.SELECT_BOX=0,Ur.DRAG=1,Ur.NODE=2,Ur.BUFFER_COUNT=3,Ur.TEXTURE_BUFFER=0,Ur.MOTIONBLUR_BUFFER_NODE=1,Ur.MOTIONBLUR_BUFFER_DRAG=2,Ur.redrawHint=function(x,f){var w=this;switch(x){case"eles":w.data.canvasNeedsRedraw[Ur.NODE]=f;break;case"drag":w.data.canvasNeedsRedraw[Ur.DRAG]=f;break;case"select":w.data.canvasNeedsRedraw[Ur.SELECT_BOX]=f}};var yb="undefined"!=typeof Path2D;Ur.path2dEnabled=function(x){if(void 0===x)return this.pathsEnabled;this.pathsEnabled=!!x},Ur.usePaths=function(){return yb&&this.pathsEnabled},Ur.setImgSmoothing=function(x,f){null!=x.imageSmoothingEnabled?x.imageSmoothingEnabled=f:(x.webkitImageSmoothingEnabled=f,x.mozImageSmoothingEnabled=f,x.msImageSmoothingEnabled=f)},Ur.getImgSmoothing=function(x){return null!=x.imageSmoothingEnabled?x.imageSmoothingEnabled:x.webkitImageSmoothingEnabled||x.mozImageSmoothingEnabled||x.msImageSmoothingEnabled},Ur.makeOffscreenCanvas=function(x,f){var w;return"undefined"!==("undefined"==typeof OffscreenCanvas?"undefined":ct(OffscreenCanvas))?w=new OffscreenCanvas(x,f):((w=document.createElement("canvas")).width=x,w.height=f),w},[_l,Ou,Fo,y0,Ya,$n,$a,su,sp,{nodeShapeImpl:function(x,f,w,E,O,L,F){switch(x){case"ellipse":return this.drawEllipsePath(f,w,E,O,L);case"polygon":return this.drawPolygonPath(f,w,E,O,L,F);case"round-polygon":return this.drawRoundPolygonPath(f,w,E,O,L,F);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(f,w,E,O,L);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(f,w,E,O,L);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(f,w,E,O,L);case"barrel":return this.drawBarrelPath(f,w,E,O,L)}}}].forEach(function(x){Ht(Ur,x)});var Tx=[{type:"layout",extensions:cf},{type:"renderer",extensions:[{name:"null",impl:_x},{name:"base",impl:ma},{name:"canvas",impl:vv}]}],Pm={},ap={};function sl(x,f,w){var E=w,O=function(Ve){Ie("Can not register `"+f+"` for `"+x+"` since `"+Ve+"` already exists in the prototype and can not be overridden")};if("core"===x){if(ta.prototype[f])return O(f);ta.prototype[f]=w}else if("collection"===x){if(po.prototype[f])return O(f);po.prototype[f]=w}else if("layout"===x){for(var L=function(Ve){this.options=Ve,w.call(this,Ve),Et(this._private)||(this._private={}),this._private.cy=Ve.cy,this._private.listeners=[],this.createEmitter()},F=L.prototype=Object.create(w.prototype),st=[],ft=0;ft<st.length;ft++){var lt=st[ft];F[lt]=F[lt]||function(){return this}}F.start&&!F.run?F.run=function(){return this.start(),this}:!F.start&&F.run&&(F.start=function(){return this.run(),this});var yt=w.prototype.stop;F.stop=function(){var ye=this.options;if(ye&&ye.animate){var Ve=this.animations;if(Ve)for(var De=0;De<Ve.length;De++)Ve[De].stop()}return yt?yt.call(this):this.emit("layoutstop"),this},F.destroy||(F.destroy=function(){return this}),F.cy=function(){return this._private.cy};var Ct=function(Ve){return Ve._private.cy},Lt={addEventFields:function(Ve,De){De.layout=Ve,De.cy=Ct(Ve),De.target=Ve},bubble:function(){return!0},parent:function(Ve){return Ct(Ve)}};Ht(F,{createEmitter:function(){return this._private.emitter=new e0(Lt,this),this},emitter:function(){return this._private.emitter},on:function(Ve,De){return this.emitter().on(Ve,De),this},one:function(Ve,De){return this.emitter().one(Ve,De),this},once:function(Ve,De){return this.emitter().one(Ve,De),this},removeListener:function(Ve,De){return this.emitter().removeListener(Ve,De),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(Ve,De){return this.emitter().emit(Ve,De),this}}),Mo.eventAliasesOn(F),E=L}else if("renderer"===x&&"null"!==f&&"base"!==f){var zt=yv("renderer","base"),Wt=zt.prototype,Bt=w,Qt=w.prototype,re=function(){zt.apply(this,arguments),Bt.apply(this,arguments)},le=re.prototype;for(var ue in Wt){var xe=Wt[ue];if(null!=Qt[ue])return O(ue);le[ue]=xe}for(var je in Qt)le[je]=Qt[je];Wt.clientFunctions.forEach(function(ye){le[ye]=le[ye]||function(){$e("Renderer does not implement `renderer."+ye+"()` on its prototype")}}),E=re}return ee({map:Pm,keys:[x,f],value:E})}function yv(x,f){return Re({map:Pm,keys:[x,f]})}function ia(x,f,w,E,O){return ee({map:ap,keys:[x,f,w,E],value:O})}function xv(x,f,w,E){return Re({map:ap,keys:[x,f,w,E]})}var lp=function(){return 2===arguments.length?yv.apply(null,arguments):3===arguments.length?sl.apply(null,arguments):4===arguments.length?xv.apply(null,arguments):5===arguments.length?ia.apply(null,arguments):void $e("Invalid extension access syntax")};ta.prototype.extension=lp,Tx.forEach(function(x){x.extensions.forEach(function(f){sl(x.type,f.name,f.impl)})});var Ws=function x(){if(!(this instanceof x))return new x;this.length=0},Ju=Ws.prototype;Ju.instanceString=function(){return"stylesheet"},Ju.selector=function(x){return this[this.length++]={selector:x,properties:[]},this},Ju.css=function(x,f){var w=this.length-1;if(rt(x))this[w].properties.push({name:x,value:f});else if(Et(x))for(var E=x,O=Object.keys(E),L=0;L<O.length;L++){var F=O[L],st=E[F];if(null!=st){var ft=Go.properties[F]||Go.properties[wt(F)];null!=ft&&this[w].properties.push({name:ft.name,value:st})}}return this},Ju.style=Ju.css,Ju.generateStyle=function(x){var f=new Go(x);return this.appendToStyle(f)},Ju.appendToStyle=function(x){for(var f=0;f<this.length;f++){var w=this[f],O=w.properties;x.selector(w.selector);for(var L=0;L<O.length;L++){var F=O[L];x.css(F.name,F.value)}}return x};var ld=function(f){return void 0===f&&(f={}),Et(f)?new ta(f):rt(f)?lp.apply(lp,arguments):void 0};ld.use=function(x){var f=Array.prototype.slice.call(arguments,1);return f.unshift(ld),x.apply(null,f),this},ld.warnings=function(x){return te(x)},ld.version="3.20.0",ld.stylesheet=ld.Stylesheet=Ws,fe.exports=ld},1511:(fe,ot,kt)=>{"use strict";ot.utils=kt(5835),ot.Cipher=kt(88),ot.DES=kt(7630),ot.CBC=kt(9220),ot.EDE=kt(9339)},9220:(fe,ot,kt)=>{"use strict";var Tt=kt(4725),Pt=kt(3516),ht={};function ct($){Tt.equal($.length,8,"Invalid IV length"),this.iv=new Array(8);for(var X=0;X<this.iv.length;X++)this.iv[X]=$[X]}ot.instantiate=function($){function X(j){$.call(this,j),this._cbcInit()}Pt(X,$);for(var it=Object.keys(ht),K=0;K<it.length;K++){var W=it[K];X.prototype[W]=ht[W]}return X.create=function(tt){return new X(tt)},X},ht._cbcInit=function(){var X=new ct(this.options.iv);this._cbcState=X},ht._update=function(X,it,K,W){var tt=this.constructor.super_.prototype,N=this._cbcState.iv;if("encrypt"===this.type){for(var U=0;U<this.blockSize;U++)N[U]^=X[it+U];for(tt._update.call(this,N,0,K,W),U=0;U<this.blockSize;U++)N[U]=K[W+U]}else{for(tt._update.call(this,X,it,K,W),U=0;U<this.blockSize;U++)K[W+U]^=N[U];for(U=0;U<this.blockSize;U++)N[U]=X[it+U]}}},88:(fe,ot,kt)=>{"use strict";var Tt=kt(4725);function Pt(ht){this.options=ht,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}fe.exports=Pt,Pt.prototype._init=function(){},Pt.prototype.update=function(ct){return 0===ct.length?[]:"decrypt"===this.type?this._updateDecrypt(ct):this._updateEncrypt(ct)},Pt.prototype._buffer=function(ct,D){for(var $=Math.min(this.buffer.length-this.bufferOff,ct.length-D),X=0;X<$;X++)this.buffer[this.bufferOff+X]=ct[D+X];return this.bufferOff+=$,$},Pt.prototype._flushBuffer=function(ct,D){return this._update(this.buffer,0,ct,D),this.bufferOff=0,this.blockSize},Pt.prototype._updateEncrypt=function(ct){var D=0,$=0,it=new Array(((this.bufferOff+ct.length)/this.blockSize|0)*this.blockSize);0!==this.bufferOff&&(D+=this._buffer(ct,D),this.bufferOff===this.buffer.length&&($+=this._flushBuffer(it,$)));for(var K=ct.length-(ct.length-D)%this.blockSize;D<K;D+=this.blockSize)this._update(ct,D,it,$),$+=this.blockSize;for(;D<ct.length;D++,this.bufferOff++)this.buffer[this.bufferOff]=ct[D];return it},Pt.prototype._updateDecrypt=function(ct){for(var D=0,$=0,X=Math.ceil((this.bufferOff+ct.length)/this.blockSize)-1,it=new Array(X*this.blockSize);X>0;X--)D+=this._buffer(ct,D),$+=this._flushBuffer(it,$);return D+=this._buffer(ct,D),it},Pt.prototype.final=function(ct){var D,$;return ct&&(D=this.update(ct)),$="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),D?D.concat($):$},Pt.prototype._pad=function(ct,D){if(0===D)return!1;for(;D<ct.length;)ct[D++]=0;return!0},Pt.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var ct=new Array(this.blockSize);return this._update(this.buffer,0,ct,0),ct},Pt.prototype._unpad=function(ct){return ct},Pt.prototype._finalDecrypt=function(){Tt.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var ct=new Array(this.blockSize);return this._flushBuffer(ct,0),this._unpad(ct)}},7630:(fe,ot,kt)=>{"use strict";var Tt=kt(4725),Pt=kt(3516),ht=kt(5835),ct=kt(88);function D(){this.tmp=new Array(2),this.keys=null}function $(it){ct.call(this,it);var K=new D;this._desState=K,this.deriveKeys(K,it.key)}Pt($,ct),fe.exports=$,$.create=function(K){return new $(K)};var X=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];$.prototype.deriveKeys=function(K,W){K.keys=new Array(32),Tt.equal(W.length,this.blockSize,"Invalid key length");var j=ht.readUInt32BE(W,0),tt=ht.readUInt32BE(W,4);ht.pc1(j,tt,K.tmp,0),j=K.tmp[0],tt=K.tmp[1];for(var N=0;N<K.keys.length;N+=2){var U=X[N>>>1];j=ht.r28shl(j,U),tt=ht.r28shl(tt,U),ht.pc2(j,tt,K.keys,N)}},$.prototype._update=function(K,W,j,tt){var N=this._desState,U=ht.readUInt32BE(K,W),z=ht.readUInt32BE(K,W+4);ht.ip(U,z,N.tmp,0),U=N.tmp[0],z=N.tmp[1],"encrypt"===this.type?this._encrypt(N,U,z,N.tmp,0):this._decrypt(N,U,z,N.tmp,0),z=N.tmp[1],ht.writeUInt32BE(j,U=N.tmp[0],tt),ht.writeUInt32BE(j,z,tt+4)},$.prototype._pad=function(K,W){for(var j=K.length-W,tt=W;tt<K.length;tt++)K[tt]=j;return!0},$.prototype._unpad=function(K){for(var W=K[K.length-1],j=K.length-W;j<K.length;j++)Tt.equal(K[j],W);return K.slice(0,K.length-W)},$.prototype._encrypt=function(K,W,j,tt,N){for(var U=W,z=j,Y=0;Y<K.keys.length;Y+=2){var q=K.keys[Y],V=K.keys[Y+1];ht.expand(z,K.tmp,0);var Z=ht.substitute(q^=K.tmp[0],V^=K.tmp[1]),rt=z;z=(U^ht.permute(Z))>>>0,U=rt}ht.rip(z,U,tt,N)},$.prototype._decrypt=function(K,W,j,tt,N){for(var U=j,z=W,Y=K.keys.length-2;Y>=0;Y-=2){var q=K.keys[Y],V=K.keys[Y+1];ht.expand(U,K.tmp,0);var Z=ht.substitute(q^=K.tmp[0],V^=K.tmp[1]),rt=U;U=(z^ht.permute(Z))>>>0,z=rt}ht.rip(U,z,tt,N)}},9339:(fe,ot,kt)=>{"use strict";var Tt=kt(4725),Pt=kt(3516),ht=kt(88),ct=kt(7630);function D(X,it){Tt.equal(it.length,24,"Invalid key length");var K=it.slice(0,8),W=it.slice(8,16),j=it.slice(16,24);this.ciphers="encrypt"===X?[ct.create({type:"encrypt",key:K}),ct.create({type:"decrypt",key:W}),ct.create({type:"encrypt",key:j})]:[ct.create({type:"decrypt",key:j}),ct.create({type:"encrypt",key:W}),ct.create({type:"decrypt",key:K})]}function $(X){ht.call(this,X);var it=new D(this.type,this.options.key);this._edeState=it}Pt($,ht),fe.exports=$,$.create=function(it){return new $(it)},$.prototype._update=function(it,K,W,j){var tt=this._edeState;tt.ciphers[0]._update(it,K,W,j),tt.ciphers[1]._update(W,j,W,j),tt.ciphers[2]._update(W,j,W,j)},$.prototype._pad=ct.prototype._pad,$.prototype._unpad=ct.prototype._unpad},5835:(fe,ot)=>{"use strict";ot.readUInt32BE=function(ct,D){return(ct[0+D]<<24|ct[1+D]<<16|ct[2+D]<<8|ct[3+D])>>>0},ot.writeUInt32BE=function(ct,D,$){ct[0+$]=D>>>24,ct[1+$]=D>>>16&255,ct[2+$]=D>>>8&255,ct[3+$]=255&D},ot.ip=function(ct,D,$,X){for(var it=0,K=0,W=6;W>=0;W-=2){for(var j=0;j<=24;j+=8)it<<=1,it|=D>>>j+W&1;for(j=0;j<=24;j+=8)it<<=1,it|=ct>>>j+W&1}for(W=6;W>=0;W-=2){for(j=1;j<=25;j+=8)K<<=1,K|=D>>>j+W&1;for(j=1;j<=25;j+=8)K<<=1,K|=ct>>>j+W&1}$[X+0]=it>>>0,$[X+1]=K>>>0},ot.rip=function(ct,D,$,X){for(var it=0,K=0,W=0;W<4;W++)for(var j=24;j>=0;j-=8)it<<=1,it|=D>>>j+W&1,it<<=1,it|=ct>>>j+W&1;for(W=4;W<8;W++)for(j=24;j>=0;j-=8)K<<=1,K|=D>>>j+W&1,K<<=1,K|=ct>>>j+W&1;$[X+0]=it>>>0,$[X+1]=K>>>0},ot.pc1=function(ct,D,$,X){for(var it=0,K=0,W=7;W>=5;W--){for(var j=0;j<=24;j+=8)it<<=1,it|=D>>j+W&1;for(j=0;j<=24;j+=8)it<<=1,it|=ct>>j+W&1}for(j=0;j<=24;j+=8)it<<=1,it|=D>>j+W&1;for(W=1;W<=3;W++){for(j=0;j<=24;j+=8)K<<=1,K|=D>>j+W&1;for(j=0;j<=24;j+=8)K<<=1,K|=ct>>j+W&1}for(j=0;j<=24;j+=8)K<<=1,K|=ct>>j+W&1;$[X+0]=it>>>0,$[X+1]=K>>>0},ot.r28shl=function(ct,D){return ct<<D&268435455|ct>>>28-D};var kt=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];ot.pc2=function(ct,D,$,X){for(var it=0,K=0,W=kt.length>>>1,j=0;j<W;j++)it<<=1,it|=ct>>>kt[j]&1;for(j=W;j<kt.length;j++)K<<=1,K|=D>>>kt[j]&1;$[X+0]=it>>>0,$[X+1]=K>>>0},ot.expand=function(ct,D,$){var X=0,it=0;X=(1&ct)<<5|ct>>>27;for(var K=23;K>=15;K-=4)X<<=6,X|=ct>>>K&63;for(K=11;K>=3;K-=4)it|=ct>>>K&63,it<<=6;it|=(31&ct)<<1|ct>>>31,D[$+0]=X>>>0,D[$+1]=it>>>0};var Tt=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];ot.substitute=function(ct,D){for(var $=0,X=0;X<4;X++)$<<=4,$|=Tt[64*X+(ct>>>18-6*X&63)];for(X=0;X<4;X++)$<<=4,$|=Tt[256+64*X+(D>>>18-6*X&63)];return $>>>0};var Pt=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];ot.permute=function(ct){for(var D=0,$=0;$<Pt.length;$++)D<<=1,D|=ct>>>Pt[$]&1;return D>>>0},ot.padSplit=function(ct,D,$){for(var X=ct.toString(2);X.length<D;)X="0"+X;for(var it=[],K=0;K<D;K+=$)it.push(X.slice(K,K+$));return it.join(" ")}},1198:(fe,ot,kt)=>{var Tt=kt(6281),Pt=kt(9799),ht=kt(2838),D={binary:!0,hex:!0,base64:!0};ot.DiffieHellmanGroup=ot.createDiffieHellmanGroup=ot.getDiffieHellman=function(X){var it=new Buffer(Pt[X].prime,"hex"),K=new Buffer(Pt[X].gen,"hex");return new ht(it,K)},ot.createDiffieHellman=ot.DiffieHellman=function $(X,it,K,W){return Buffer.isBuffer(it)||void 0===D[it]?$(X,"binary",it,K):(it=it||"binary",W=W||"binary",K=K||new Buffer([2]),Buffer.isBuffer(K)||(K=new Buffer(K,W)),"number"==typeof X?new ht(Tt(X,K),K,!0):(Buffer.isBuffer(X)||(X=new Buffer(X,it)),new ht(X,K,!0)))}},2838:(fe,ot,kt)=>{var Tt=kt(9723),ht=new(kt(2098)),ct=new Tt(24),D=new Tt(11),$=new Tt(10),X=new Tt(3),it=new Tt(7),K=kt(6281),W=kt(8747);function j(q,V){return V=V||"utf8",Buffer.isBuffer(q)||(q=new Buffer(q,V)),this._pub=new Tt(q),this}function tt(q,V){return V=V||"utf8",Buffer.isBuffer(q)||(q=new Buffer(q,V)),this._priv=new Tt(q),this}fe.exports=z;var N={};function z(q,V,Z){this.setGenerator(V),this.__prime=new Tt(q),this._prime=Tt.mont(this.__prime),this._primeLen=q.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,Z?(this.setPublicKey=j,this.setPrivateKey=tt):this._primeCode=8}function Y(q,V){var Z=new Buffer(q.toArray());return V?Z.toString(V):Z}Object.defineProperty(z.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(q,V){var Z=V.toString("hex"),et=[Z,q.toString(16)].join("_");if(et in N)return N[et];var mt,rt=0;if(q.isEven()||!K.simpleSieve||!K.fermatTest(q)||!ht.test(q))return rt+=1,N[et]=rt+="02"===Z||"05"===Z?8:4,rt;switch(ht.test(q.shrn(1))||(rt+=2),Z){case"02":q.mod(ct).cmp(D)&&(rt+=8);break;case"05":(mt=q.mod($)).cmp(X)&&mt.cmp(it)&&(rt+=8);break;default:rt+=4}return N[et]=rt,rt}(this.__prime,this.__gen)),this._primeCode}}),z.prototype.generateKeys=function(){return this._priv||(this._priv=new Tt(W(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},z.prototype.computeSecret=function(q){var V=(q=(q=new Tt(q)).toRed(this._prime)).redPow(this._priv).fromRed(),Z=new Buffer(V.toArray()),et=this.getPrime();if(Z.length<et.length){var rt=new Buffer(et.length-Z.length);rt.fill(0),Z=Buffer.concat([rt,Z])}return Z},z.prototype.getPublicKey=function(V){return Y(this._pub,V)},z.prototype.getPrivateKey=function(V){return Y(this._priv,V)},z.prototype.getPrime=function(q){return Y(this.__prime,q)},z.prototype.getGenerator=function(q){return Y(this._gen,q)},z.prototype.setGenerator=function(q,V){return V=V||"utf8",Buffer.isBuffer(q)||(q=new Buffer(q,V)),this.__gen=q,this._gen=new Tt(q),this}},6281:(fe,ot,kt)=>{var Tt=kt(8747);fe.exports=rt,rt.simpleSieve=Z,rt.fermatTest=et;var Pt=kt(9723),ht=new Pt(24),D=new(kt(2098)),$=new Pt(1),X=new Pt(2),it=new Pt(5),j=(new Pt(16),new Pt(8),new Pt(10)),tt=new Pt(3),U=(new Pt(7),new Pt(11)),z=new Pt(4),q=(new Pt(12),null);function Z(mt){for(var gt=function(){if(null!==q)return q;var gt=[];gt[0]=2;for(var Et=1,Dt=3;Dt<1048576;Dt+=2){for(var Mt=Math.ceil(Math.sqrt(Dt)),T=0;T<Et&&gt[T]<=Mt&&Dt%gt[T]!=0;T++);Et!==T&&gt[T]<=Mt||(gt[Et++]=Dt)}return q=gt,gt}(),Et=0;Et<gt.length;Et++)if(0===mt.modn(gt[Et]))return 0===mt.cmpn(gt[Et]);return!0}function et(mt){var gt=Pt.mont(mt);return 0===X.toRed(gt).redPow(mt.subn(1)).fromRed().cmpn(1)}function rt(mt,gt){if(mt<16)return new Pt(2===gt||5===gt?[140,123]:[140,39]);gt=new Pt(gt);for(var Et,Dt;;){for(Et=new Pt(Tt(Math.ceil(mt/8)));Et.bitLength()>mt;)Et.ishrn(1);if(Et.isEven()&&Et.iadd($),Et.testn(1)||Et.iadd(X),gt.cmp(X)){if(!gt.cmp(it))for(;Et.mod(j).cmp(tt);)Et.iadd(z)}else for(;Et.mod(ht).cmp(U);)Et.iadd(z);if(Z(Dt=Et.shrn(1))&&Z(Et)&&et(Dt)&&et(Et)&&D.test(Dt)&&D.test(Et))return Et}}},9723:function(fe,ot,kt){!function(Tt,Pt){"use strict";function ht(T,h){if(!T)throw new Error(h||"Assertion failed")}function ct(T,h){T.super_=h;var m=function(){};m.prototype=h.prototype,T.prototype=new m,T.prototype.constructor=T}function D(T,h,m){if(D.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,null!==T&&(("le"===h||"be"===h)&&(m=h,h=10),this._init(T||0,h||10,m||"be"))}var $;"object"==typeof Tt?Tt.exports=D:Pt.BN=D,D.BN=D,D.wordSize=26;try{$="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:kt(7748).Buffer}catch(T){}function X(T,h){var m=T.charCodeAt(h);return m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:m-48&15}function it(T,h,m){var y=X(T,m);return m-1>=h&&(y|=X(T,m-1)<<4),y}function K(T,h,m,y){for(var v=0,M=Math.min(T.length,m),S=h;S<M;S++){var P=T.charCodeAt(S)-48;v*=y,v+=P>=49?P-49+10:P>=17?P-17+10:P}return v}D.isBN=function(h){return h instanceof D||null!==h&&"object"==typeof h&&h.constructor.wordSize===D.wordSize&&Array.isArray(h.words)},D.max=function(h,m){return h.cmp(m)>0?h:m},D.min=function(h,m){return h.cmp(m)<0?h:m},D.prototype._init=function(h,m,y){if("number"==typeof h)return this._initNumber(h,m,y);if("object"==typeof h)return this._initArray(h,m,y);"hex"===m&&(m=16),ht(m===(0|m)&&m>=2&&m<=36);var v=0;"-"===(h=h.toString().replace(/\s+/g,""))[0]&&(v++,this.negative=1),v<h.length&&(16===m?this._parseHex(h,v,y):(this._parseBase(h,m,v),"le"===y&&this._initArray(this.toArray(),m,y)))},D.prototype._initNumber=function(h,m,y){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[67108863&h],this.length=1):h<4503599627370496?(this.words=[67108863&h,h/67108864&67108863],this.length=2):(ht(h<9007199254740992),this.words=[67108863&h,h/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),m,y)},D.prototype._initArray=function(h,m,y){if(ht("number"==typeof h.length),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var M,S,P=0;if("be"===y)for(v=h.length-1,M=0;v>=0;v-=3)this.words[M]|=(S=h[v]|h[v-1]<<8|h[v-2]<<16)<<P&67108863,this.words[M+1]=S>>>26-P&67108863,(P+=24)>=26&&(P-=26,M++);else if("le"===y)for(v=0,M=0;v<h.length;v+=3)this.words[M]|=(S=h[v]|h[v+1]<<8|h[v+2]<<16)<<P&67108863,this.words[M+1]=S>>>26-P&67108863,(P+=24)>=26&&(P-=26,M++);return this.strip()},D.prototype._parseHex=function(h,m,y){this.length=Math.ceil((h.length-m)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var P,M=0,S=0;if("be"===y)for(v=h.length-1;v>=m;v-=2)P=it(h,m,v)<<M,this.words[S]|=67108863&P,M>=18?(M-=18,this.words[S+=1]|=P>>>26):M+=8;else for(v=(h.length-m)%2==0?m+1:m;v<h.length;v+=2)P=it(h,m,v)<<M,this.words[S]|=67108863&P,M>=18?(M-=18,this.words[S+=1]|=P>>>26):M+=8;this.strip()},D.prototype._parseBase=function(h,m,y){this.words=[0],this.length=1;for(var v=0,M=1;M<=67108863;M*=m)v++;v--,M=M/m|0;for(var S=h.length-y,P=S%v,C=Math.min(S,S-P)+y,d=0,k=y;k<C;k+=v)d=K(h,k,k+v,m),this.imuln(M),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==P){var nt=1;for(d=K(h,k,h.length,m),k=0;k<P;k++)nt*=m;this.imuln(nt),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},D.prototype.copy=function(h){h.words=new Array(this.length);for(var m=0;m<this.length;m++)h.words[m]=this.words[m];h.length=this.length,h.negative=this.negative,h.red=this.red},D.prototype.clone=function(){var h=new D(null);return this.copy(h),h},D.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},D.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},D.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},D.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var W=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],j=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],tt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function U(T,h,m){m.negative=h.negative^T.negative;var y=T.length+h.length|0;m.length=y,y=y-1|0;var v=0|T.words[0],M=0|h.words[0],S=v*M,C=S/67108864|0;m.words[0]=67108863&S;for(var d=1;d<y;d++){for(var k=C>>>26,nt=67108863&C,Q=Math.min(d,h.length-1),J=Math.max(0,d-T.length+1);J<=Q;J++)k+=(S=(v=0|T.words[d-J|0])*(M=0|h.words[J])+nt)/67108864|0,nt=67108863&S;m.words[d]=0|nt,C=0|k}return 0!==C?m.words[d]=0|C:m.length--,m.strip()}D.prototype.toString=function(h,m){var y;if(m=0|m||1,16===(h=h||10)||"hex"===h){y="";for(var v=0,M=0,S=0;S<this.length;S++){var P=this.words[S],C=(16777215&(P<<v|M)).toString(16);y=0!=(M=P>>>24-v&16777215)||S!==this.length-1?W[6-C.length]+C+y:C+y,(v+=2)>=26&&(v-=26,S--)}for(0!==M&&(y=M.toString(16)+y);y.length%m!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(h===(0|h)&&h>=2&&h<=36){var d=j[h],k=tt[h];y="";var nt=this.clone();for(nt.negative=0;!nt.isZero();){var Q=nt.modn(k).toString(h);y=(nt=nt.idivn(k)).isZero()?Q+y:W[d-Q.length]+Q+y}for(this.isZero()&&(y="0"+y);y.length%m!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}ht(!1,"Base should be between 2 and 36")},D.prototype.toNumber=function(){var h=this.words[0];return 2===this.length?h+=67108864*this.words[1]:3===this.length&&1===this.words[2]?h+=4503599627370496+67108864*this.words[1]:this.length>2&&ht(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-h:h},D.prototype.toJSON=function(){return this.toString(16)},D.prototype.toBuffer=function(h,m){return ht(void 0!==$),this.toArrayLike($,h,m)},D.prototype.toArray=function(h,m){return this.toArrayLike(Array,h,m)},D.prototype.toArrayLike=function(h,m,y){var v=this.byteLength(),M=y||Math.max(1,v);ht(v<=M,"byte array longer than desired length"),ht(M>0,"Requested array length <= 0"),this.strip();var C,d,S="le"===m,P=new h(M),k=this.clone();if(S){for(d=0;!k.isZero();d++)C=k.andln(255),k.iushrn(8),P[d]=C;for(;d<M;d++)P[d]=0}else{for(d=0;d<M-v;d++)P[d]=0;for(d=0;!k.isZero();d++)C=k.andln(255),k.iushrn(8),P[M-d-1]=C}return P},D.prototype._countBits=Math.clz32?function(h){return 32-Math.clz32(h)}:function(h){var m=h,y=0;return m>=4096&&(y+=13,m>>>=13),m>=64&&(y+=7,m>>>=7),m>=8&&(y+=4,m>>>=4),m>=2&&(y+=2,m>>>=2),y+m},D.prototype._zeroBits=function(h){if(0===h)return 26;var m=h,y=0;return 0==(8191&m)&&(y+=13,m>>>=13),0==(127&m)&&(y+=7,m>>>=7),0==(15&m)&&(y+=4,m>>>=4),0==(3&m)&&(y+=2,m>>>=2),0==(1&m)&&y++,y},D.prototype.bitLength=function(){var m=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+m},D.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,m=0;m<this.length;m++){var y=this._zeroBits(this.words[m]);if(h+=y,26!==y)break}return h},D.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},D.prototype.toTwos=function(h){return 0!==this.negative?this.abs().inotn(h).iaddn(1):this.clone()},D.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},D.prototype.isNeg=function(){return 0!==this.negative},D.prototype.neg=function(){return this.clone().ineg()},D.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},D.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var m=0;m<h.length;m++)this.words[m]=this.words[m]|h.words[m];return this.strip()},D.prototype.ior=function(h){return ht(0==(this.negative|h.negative)),this.iuor(h)},D.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},D.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},D.prototype.iuand=function(h){var m;m=this.length>h.length?h:this;for(var y=0;y<m.length;y++)this.words[y]=this.words[y]&h.words[y];return this.length=m.length,this.strip()},D.prototype.iand=function(h){return ht(0==(this.negative|h.negative)),this.iuand(h)},D.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},D.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},D.prototype.iuxor=function(h){var m,y;this.length>h.length?(m=this,y=h):(m=h,y=this);for(var v=0;v<y.length;v++)this.words[v]=m.words[v]^y.words[v];if(this!==m)for(;v<m.length;v++)this.words[v]=m.words[v];return this.length=m.length,this.strip()},D.prototype.ixor=function(h){return ht(0==(this.negative|h.negative)),this.iuxor(h)},D.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},D.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},D.prototype.inotn=function(h){ht("number"==typeof h&&h>=0);var m=0|Math.ceil(h/26),y=h%26;this._expand(m),y>0&&m--;for(var v=0;v<m;v++)this.words[v]=67108863&~this.words[v];return y>0&&(this.words[v]=~this.words[v]&67108863>>26-y),this.strip()},D.prototype.notn=function(h){return this.clone().inotn(h)},D.prototype.setn=function(h,m){ht("number"==typeof h&&h>=0);var y=h/26|0,v=h%26;return this._expand(y+1),this.words[y]=m?this.words[y]|1<<v:this.words[y]&~(1<<v),this.strip()},D.prototype.iadd=function(h){var m,y,v;if(0!==this.negative&&0===h.negative)return this.negative=0,m=this.isub(h),this.negative^=1,this._normSign();if(0===this.negative&&0!==h.negative)return h.negative=0,m=this.isub(h),h.negative=1,m._normSign();this.length>h.length?(y=this,v=h):(y=h,v=this);for(var M=0,S=0;S<v.length;S++)this.words[S]=67108863&(m=(0|y.words[S])+(0|v.words[S])+M),M=m>>>26;for(;0!==M&&S<y.length;S++)this.words[S]=67108863&(m=(0|y.words[S])+M),M=m>>>26;if(this.length=y.length,0!==M)this.words[this.length]=M,this.length++;else if(y!==this)for(;S<y.length;S++)this.words[S]=y.words[S];return this},D.prototype.add=function(h){var m;return 0!==h.negative&&0===this.negative?(h.negative=0,m=this.sub(h),h.negative^=1,m):0===h.negative&&0!==this.negative?(this.negative=0,m=h.sub(this),this.negative=1,m):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},D.prototype.isub=function(h){if(0!==h.negative){h.negative=0;var m=this.iadd(h);return h.negative=1,m._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var v,M,y=this.cmp(h);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(v=this,M=h):(v=h,M=this);for(var S=0,P=0;P<M.length;P++)S=(m=(0|v.words[P])-(0|M.words[P])+S)>>26,this.words[P]=67108863&m;for(;0!==S&&P<v.length;P++)S=(m=(0|v.words[P])+S)>>26,this.words[P]=67108863&m;if(0===S&&P<v.length&&v!==this)for(;P<v.length;P++)this.words[P]=v.words[P];return this.length=Math.max(this.length,P),v!==this&&(this.negative=1),this.strip()},D.prototype.sub=function(h){return this.clone().isub(h)};var z=function(h,m,y){var C,d,k,v=h.words,M=m.words,S=y.words,P=0,nt=0|v[0],Q=8191&nt,J=nt>>>13,xt=0|v[1],wt=8191&xt,Ft=xt>>>13,Gt=0|v[2],It=8191&Gt,_t=Gt>>>13,Zt=0|v[3],Ot=8191&Zt,At=Zt>>>13,jt=0|v[4],Kt=8191&jt,Vt=jt>>>13,Ce=0|v[5],Ht=8191&Ce,ge=Ce>>>13,yi=0|v[6],we=8191&yi,de=yi>>>13,Fe=0|v[7],Yt=8191&Fe,ee=Fe>>>13,Re=0|v[8],Nt=8191&Re,vt=Re>>>13,at=0|v[9],qt=8191&at,he=at>>>13,Xe=0|M[0],ve=8191&Xe,Te=Xe>>>13,Qi=0|M[1],ni=8191&Qi,ei=Qi>>>13,Ui=0|M[2],mi=8191&Ui,bi=Ui>>>13,En=0|M[3],_i=8191&En,He=En>>>13,on=0|M[4],Di=8191&on,Pe=on>>>13,ri=0|M[5],Ee=8191&ri,ne=ri>>>13,Se=0|M[6],ae=8191&Se,Me=Se>>>13,$e=0|M[7],te=8191&$e,Ie=$e>>>13,tn=0|M[8],qe=8191&tn,ci=tn>>>13,Pn=0|M[9],ui=8191&Pn,oi=Pn>>>13;y.negative=h.negative^m.negative,y.length=19;var en=(P+(C=Math.imul(Q,ve))|0)+((8191&(d=(d=Math.imul(Q,Te))+Math.imul(J,ve)|0))<<13)|0;P=((k=Math.imul(J,Te))+(d>>>13)|0)+(en>>>26)|0,en&=67108863,C=Math.imul(wt,ve),d=(d=Math.imul(wt,Te))+Math.imul(Ft,ve)|0,k=Math.imul(Ft,Te);var sn=(P+(C=C+Math.imul(Q,ni)|0)|0)+((8191&(d=(d=d+Math.imul(Q,ei)|0)+Math.imul(J,ni)|0))<<13)|0;P=((k=k+Math.imul(J,ei)|0)+(d>>>13)|0)+(sn>>>26)|0,sn&=67108863,C=Math.imul(It,ve),d=(d=Math.imul(It,Te))+Math.imul(_t,ve)|0,k=Math.imul(_t,Te),C=C+Math.imul(wt,ni)|0,d=(d=d+Math.imul(wt,ei)|0)+Math.imul(Ft,ni)|0,k=k+Math.imul(Ft,ei)|0;var Tn=(P+(C=C+Math.imul(Q,mi)|0)|0)+((8191&(d=(d=d+Math.imul(Q,bi)|0)+Math.imul(J,mi)|0))<<13)|0;P=((k=k+Math.imul(J,bi)|0)+(d>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,C=Math.imul(Ot,ve),d=(d=Math.imul(Ot,Te))+Math.imul(At,ve)|0,k=Math.imul(At,Te),C=C+Math.imul(It,ni)|0,d=(d=d+Math.imul(It,ei)|0)+Math.imul(_t,ni)|0,k=k+Math.imul(_t,ei)|0,C=C+Math.imul(wt,mi)|0,d=(d=d+Math.imul(wt,bi)|0)+Math.imul(Ft,mi)|0,k=k+Math.imul(Ft,bi)|0;var Er=(P+(C=C+Math.imul(Q,_i)|0)|0)+((8191&(d=(d=d+Math.imul(Q,He)|0)+Math.imul(J,_i)|0))<<13)|0;P=((k=k+Math.imul(J,He)|0)+(d>>>13)|0)+(Er>>>26)|0,Er&=67108863,C=Math.imul(Kt,ve),d=(d=Math.imul(Kt,Te))+Math.imul(Vt,ve)|0,k=Math.imul(Vt,Te),C=C+Math.imul(Ot,ni)|0,d=(d=d+Math.imul(Ot,ei)|0)+Math.imul(At,ni)|0,k=k+Math.imul(At,ei)|0,C=C+Math.imul(It,mi)|0,d=(d=d+Math.imul(It,bi)|0)+Math.imul(_t,mi)|0,k=k+Math.imul(_t,bi)|0,C=C+Math.imul(wt,_i)|0,d=(d=d+Math.imul(wt,He)|0)+Math.imul(Ft,_i)|0,k=k+Math.imul(Ft,He)|0;var In=(P+(C=C+Math.imul(Q,Di)|0)|0)+((8191&(d=(d=d+Math.imul(Q,Pe)|0)+Math.imul(J,Di)|0))<<13)|0;P=((k=k+Math.imul(J,Pe)|0)+(d>>>13)|0)+(In>>>26)|0,In&=67108863,C=Math.imul(Ht,ve),d=(d=Math.imul(Ht,Te))+Math.imul(ge,ve)|0,k=Math.imul(ge,Te),C=C+Math.imul(Kt,ni)|0,d=(d=d+Math.imul(Kt,ei)|0)+Math.imul(Vt,ni)|0,k=k+Math.imul(Vt,ei)|0,C=C+Math.imul(Ot,mi)|0,d=(d=d+Math.imul(Ot,bi)|0)+Math.imul(At,mi)|0,k=k+Math.imul(At,bi)|0,C=C+Math.imul(It,_i)|0,d=(d=d+Math.imul(It,He)|0)+Math.imul(_t,_i)|0,k=k+Math.imul(_t,He)|0,C=C+Math.imul(wt,Di)|0,d=(d=d+Math.imul(wt,Pe)|0)+Math.imul(Ft,Di)|0,k=k+Math.imul(Ft,Pe)|0;var Yn=(P+(C=C+Math.imul(Q,Ee)|0)|0)+((8191&(d=(d=d+Math.imul(Q,ne)|0)+Math.imul(J,Ee)|0))<<13)|0;P=((k=k+Math.imul(J,ne)|0)+(d>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,C=Math.imul(we,ve),d=(d=Math.imul(we,Te))+Math.imul(de,ve)|0,k=Math.imul(de,Te),C=C+Math.imul(Ht,ni)|0,d=(d=d+Math.imul(Ht,ei)|0)+Math.imul(ge,ni)|0,k=k+Math.imul(ge,ei)|0,C=C+Math.imul(Kt,mi)|0,d=(d=d+Math.imul(Kt,bi)|0)+Math.imul(Vt,mi)|0,k=k+Math.imul(Vt,bi)|0,C=C+Math.imul(Ot,_i)|0,d=(d=d+Math.imul(Ot,He)|0)+Math.imul(At,_i)|0,k=k+Math.imul(At,He)|0,C=C+Math.imul(It,Di)|0,d=(d=d+Math.imul(It,Pe)|0)+Math.imul(_t,Di)|0,k=k+Math.imul(_t,Pe)|0,C=C+Math.imul(wt,Ee)|0,d=(d=d+Math.imul(wt,ne)|0)+Math.imul(Ft,Ee)|0,k=k+Math.imul(Ft,ne)|0;var nn=(P+(C=C+Math.imul(Q,ae)|0)|0)+((8191&(d=(d=d+Math.imul(Q,Me)|0)+Math.imul(J,ae)|0))<<13)|0;P=((k=k+Math.imul(J,Me)|0)+(d>>>13)|0)+(nn>>>26)|0,nn&=67108863,C=Math.imul(Yt,ve),d=(d=Math.imul(Yt,Te))+Math.imul(ee,ve)|0,k=Math.imul(ee,Te),C=C+Math.imul(we,ni)|0,d=(d=d+Math.imul(we,ei)|0)+Math.imul(de,ni)|0,k=k+Math.imul(de,ei)|0,C=C+Math.imul(Ht,mi)|0,d=(d=d+Math.imul(Ht,bi)|0)+Math.imul(ge,mi)|0,k=k+Math.imul(ge,bi)|0,C=C+Math.imul(Kt,_i)|0,d=(d=d+Math.imul(Kt,He)|0)+Math.imul(Vt,_i)|0,k=k+Math.imul(Vt,He)|0,C=C+Math.imul(Ot,Di)|0,d=(d=d+Math.imul(Ot,Pe)|0)+Math.imul(At,Di)|0,k=k+Math.imul(At,Pe)|0,C=C+Math.imul(It,Ee)|0,d=(d=d+Math.imul(It,ne)|0)+Math.imul(_t,Ee)|0,k=k+Math.imul(_t,ne)|0,C=C+Math.imul(wt,ae)|0,d=(d=d+Math.imul(wt,Me)|0)+Math.imul(Ft,ae)|0,k=k+Math.imul(Ft,Me)|0;var Or=(P+(C=C+Math.imul(Q,te)|0)|0)+((8191&(d=(d=d+Math.imul(Q,Ie)|0)+Math.imul(J,te)|0))<<13)|0;P=((k=k+Math.imul(J,Ie)|0)+(d>>>13)|0)+(Or>>>26)|0,Or&=67108863,C=Math.imul(Nt,ve),d=(d=Math.imul(Nt,Te))+Math.imul(vt,ve)|0,k=Math.imul(vt,Te),C=C+Math.imul(Yt,ni)|0,d=(d=d+Math.imul(Yt,ei)|0)+Math.imul(ee,ni)|0,k=k+Math.imul(ee,ei)|0,C=C+Math.imul(we,mi)|0,d=(d=d+Math.imul(we,bi)|0)+Math.imul(de,mi)|0,k=k+Math.imul(de,bi)|0,C=C+Math.imul(Ht,_i)|0,d=(d=d+Math.imul(Ht,He)|0)+Math.imul(ge,_i)|0,k=k+Math.imul(ge,He)|0,C=C+Math.imul(Kt,Di)|0,d=(d=d+Math.imul(Kt,Pe)|0)+Math.imul(Vt,Di)|0,k=k+Math.imul(Vt,Pe)|0,C=C+Math.imul(Ot,Ee)|0,d=(d=d+Math.imul(Ot,ne)|0)+Math.imul(At,Ee)|0,k=k+Math.imul(At,ne)|0,C=C+Math.imul(It,ae)|0,d=(d=d+Math.imul(It,Me)|0)+Math.imul(_t,ae)|0,k=k+Math.imul(_t,Me)|0,C=C+Math.imul(wt,te)|0,d=(d=d+Math.imul(wt,Ie)|0)+Math.imul(Ft,te)|0,k=k+Math.imul(Ft,Ie)|0;var fr=(P+(C=C+Math.imul(Q,qe)|0)|0)+((8191&(d=(d=d+Math.imul(Q,ci)|0)+Math.imul(J,qe)|0))<<13)|0;P=((k=k+Math.imul(J,ci)|0)+(d>>>13)|0)+(fr>>>26)|0,fr&=67108863,C=Math.imul(qt,ve),d=(d=Math.imul(qt,Te))+Math.imul(he,ve)|0,k=Math.imul(he,Te),C=C+Math.imul(Nt,ni)|0,d=(d=d+Math.imul(Nt,ei)|0)+Math.imul(vt,ni)|0,k=k+Math.imul(vt,ei)|0,C=C+Math.imul(Yt,mi)|0,d=(d=d+Math.imul(Yt,bi)|0)+Math.imul(ee,mi)|0,k=k+Math.imul(ee,bi)|0,C=C+Math.imul(we,_i)|0,d=(d=d+Math.imul(we,He)|0)+Math.imul(de,_i)|0,k=k+Math.imul(de,He)|0,C=C+Math.imul(Ht,Di)|0,d=(d=d+Math.imul(Ht,Pe)|0)+Math.imul(ge,Di)|0,k=k+Math.imul(ge,Pe)|0,C=C+Math.imul(Kt,Ee)|0,d=(d=d+Math.imul(Kt,ne)|0)+Math.imul(Vt,Ee)|0,k=k+Math.imul(Vt,ne)|0,C=C+Math.imul(Ot,ae)|0,d=(d=d+Math.imul(Ot,Me)|0)+Math.imul(At,ae)|0,k=k+Math.imul(At,Me)|0,C=C+Math.imul(It,te)|0,d=(d=d+Math.imul(It,Ie)|0)+Math.imul(_t,te)|0,k=k+Math.imul(_t,Ie)|0,C=C+Math.imul(wt,qe)|0,d=(d=d+Math.imul(wt,ci)|0)+Math.imul(Ft,qe)|0,k=k+Math.imul(Ft,ci)|0;var dr=(P+(C=C+Math.imul(Q,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Q,oi)|0)+Math.imul(J,ui)|0))<<13)|0;P=((k=k+Math.imul(J,oi)|0)+(d>>>13)|0)+(dr>>>26)|0,dr&=67108863,C=Math.imul(qt,ni),d=(d=Math.imul(qt,ei))+Math.imul(he,ni)|0,k=Math.imul(he,ei),C=C+Math.imul(Nt,mi)|0,d=(d=d+Math.imul(Nt,bi)|0)+Math.imul(vt,mi)|0,k=k+Math.imul(vt,bi)|0,C=C+Math.imul(Yt,_i)|0,d=(d=d+Math.imul(Yt,He)|0)+Math.imul(ee,_i)|0,k=k+Math.imul(ee,He)|0,C=C+Math.imul(we,Di)|0,d=(d=d+Math.imul(we,Pe)|0)+Math.imul(de,Di)|0,k=k+Math.imul(de,Pe)|0,C=C+Math.imul(Ht,Ee)|0,d=(d=d+Math.imul(Ht,ne)|0)+Math.imul(ge,Ee)|0,k=k+Math.imul(ge,ne)|0,C=C+Math.imul(Kt,ae)|0,d=(d=d+Math.imul(Kt,Me)|0)+Math.imul(Vt,ae)|0,k=k+Math.imul(Vt,Me)|0,C=C+Math.imul(Ot,te)|0,d=(d=d+Math.imul(Ot,Ie)|0)+Math.imul(At,te)|0,k=k+Math.imul(At,Ie)|0,C=C+Math.imul(It,qe)|0,d=(d=d+Math.imul(It,ci)|0)+Math.imul(_t,qe)|0,k=k+Math.imul(_t,ci)|0;var Un=(P+(C=C+Math.imul(wt,ui)|0)|0)+((8191&(d=(d=d+Math.imul(wt,oi)|0)+Math.imul(Ft,ui)|0))<<13)|0;P=((k=k+Math.imul(Ft,oi)|0)+(d>>>13)|0)+(Un>>>26)|0,Un&=67108863,C=Math.imul(qt,mi),d=(d=Math.imul(qt,bi))+Math.imul(he,mi)|0,k=Math.imul(he,bi),C=C+Math.imul(Nt,_i)|0,d=(d=d+Math.imul(Nt,He)|0)+Math.imul(vt,_i)|0,k=k+Math.imul(vt,He)|0,C=C+Math.imul(Yt,Di)|0,d=(d=d+Math.imul(Yt,Pe)|0)+Math.imul(ee,Di)|0,k=k+Math.imul(ee,Pe)|0,C=C+Math.imul(we,Ee)|0,d=(d=d+Math.imul(we,ne)|0)+Math.imul(de,Ee)|0,k=k+Math.imul(de,ne)|0,C=C+Math.imul(Ht,ae)|0,d=(d=d+Math.imul(Ht,Me)|0)+Math.imul(ge,ae)|0,k=k+Math.imul(ge,Me)|0,C=C+Math.imul(Kt,te)|0,d=(d=d+Math.imul(Kt,Ie)|0)+Math.imul(Vt,te)|0,k=k+Math.imul(Vt,Ie)|0,C=C+Math.imul(Ot,qe)|0,d=(d=d+Math.imul(Ot,ci)|0)+Math.imul(At,qe)|0,k=k+Math.imul(At,ci)|0;var xo=(P+(C=C+Math.imul(It,ui)|0)|0)+((8191&(d=(d=d+Math.imul(It,oi)|0)+Math.imul(_t,ui)|0))<<13)|0;P=((k=k+Math.imul(_t,oi)|0)+(d>>>13)|0)+(xo>>>26)|0,xo&=67108863,C=Math.imul(qt,_i),d=(d=Math.imul(qt,He))+Math.imul(he,_i)|0,k=Math.imul(he,He),C=C+Math.imul(Nt,Di)|0,d=(d=d+Math.imul(Nt,Pe)|0)+Math.imul(vt,Di)|0,k=k+Math.imul(vt,Pe)|0,C=C+Math.imul(Yt,Ee)|0,d=(d=d+Math.imul(Yt,ne)|0)+Math.imul(ee,Ee)|0,k=k+Math.imul(ee,ne)|0,C=C+Math.imul(we,ae)|0,d=(d=d+Math.imul(we,Me)|0)+Math.imul(de,ae)|0,k=k+Math.imul(de,Me)|0,C=C+Math.imul(Ht,te)|0,d=(d=d+Math.imul(Ht,Ie)|0)+Math.imul(ge,te)|0,k=k+Math.imul(ge,Ie)|0,C=C+Math.imul(Kt,qe)|0,d=(d=d+Math.imul(Kt,ci)|0)+Math.imul(Vt,qe)|0,k=k+Math.imul(Vt,ci)|0;var ki=(P+(C=C+Math.imul(Ot,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Ot,oi)|0)+Math.imul(At,ui)|0))<<13)|0;P=((k=k+Math.imul(At,oi)|0)+(d>>>13)|0)+(ki>>>26)|0,ki&=67108863,C=Math.imul(qt,Di),d=(d=Math.imul(qt,Pe))+Math.imul(he,Di)|0,k=Math.imul(he,Pe),C=C+Math.imul(Nt,Ee)|0,d=(d=d+Math.imul(Nt,ne)|0)+Math.imul(vt,Ee)|0,k=k+Math.imul(vt,ne)|0,C=C+Math.imul(Yt,ae)|0,d=(d=d+Math.imul(Yt,Me)|0)+Math.imul(ee,ae)|0,k=k+Math.imul(ee,Me)|0,C=C+Math.imul(we,te)|0,d=(d=d+Math.imul(we,Ie)|0)+Math.imul(de,te)|0,k=k+Math.imul(de,Ie)|0,C=C+Math.imul(Ht,qe)|0,d=(d=d+Math.imul(Ht,ci)|0)+Math.imul(ge,qe)|0,k=k+Math.imul(ge,ci)|0;var hn=(P+(C=C+Math.imul(Kt,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Kt,oi)|0)+Math.imul(Vt,ui)|0))<<13)|0;P=((k=k+Math.imul(Vt,oi)|0)+(d>>>13)|0)+(hn>>>26)|0,hn&=67108863,C=Math.imul(qt,Ee),d=(d=Math.imul(qt,ne))+Math.imul(he,Ee)|0,k=Math.imul(he,ne),C=C+Math.imul(Nt,ae)|0,d=(d=d+Math.imul(Nt,Me)|0)+Math.imul(vt,ae)|0,k=k+Math.imul(vt,Me)|0,C=C+Math.imul(Yt,te)|0,d=(d=d+Math.imul(Yt,Ie)|0)+Math.imul(ee,te)|0,k=k+Math.imul(ee,Ie)|0,C=C+Math.imul(we,qe)|0,d=(d=d+Math.imul(we,ci)|0)+Math.imul(de,qe)|0,k=k+Math.imul(de,ci)|0;var ar=(P+(C=C+Math.imul(Ht,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Ht,oi)|0)+Math.imul(ge,ui)|0))<<13)|0;P=((k=k+Math.imul(ge,oi)|0)+(d>>>13)|0)+(ar>>>26)|0,ar&=67108863,C=Math.imul(qt,ae),d=(d=Math.imul(qt,Me))+Math.imul(he,ae)|0,k=Math.imul(he,Me),C=C+Math.imul(Nt,te)|0,d=(d=d+Math.imul(Nt,Ie)|0)+Math.imul(vt,te)|0,k=k+Math.imul(vt,Ie)|0,C=C+Math.imul(Yt,qe)|0,d=(d=d+Math.imul(Yt,ci)|0)+Math.imul(ee,qe)|0,k=k+Math.imul(ee,ci)|0;var bn=(P+(C=C+Math.imul(we,ui)|0)|0)+((8191&(d=(d=d+Math.imul(we,oi)|0)+Math.imul(de,ui)|0))<<13)|0;P=((k=k+Math.imul(de,oi)|0)+(d>>>13)|0)+(bn>>>26)|0,bn&=67108863,C=Math.imul(qt,te),d=(d=Math.imul(qt,Ie))+Math.imul(he,te)|0,k=Math.imul(he,Ie),C=C+Math.imul(Nt,qe)|0,d=(d=d+Math.imul(Nt,ci)|0)+Math.imul(vt,qe)|0,k=k+Math.imul(vt,ci)|0;var vo=(P+(C=C+Math.imul(Yt,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Yt,oi)|0)+Math.imul(ee,ui)|0))<<13)|0;P=((k=k+Math.imul(ee,oi)|0)+(d>>>13)|0)+(vo>>>26)|0,vo&=67108863,C=Math.imul(qt,qe),d=(d=Math.imul(qt,ci))+Math.imul(he,qe)|0,k=Math.imul(he,ci);var Ao=(P+(C=C+Math.imul(Nt,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Nt,oi)|0)+Math.imul(vt,ui)|0))<<13)|0;P=((k=k+Math.imul(vt,oi)|0)+(d>>>13)|0)+(Ao>>>26)|0,Ao&=67108863;var Vi=(P+(C=Math.imul(qt,ui))|0)+((8191&(d=(d=Math.imul(qt,oi))+Math.imul(he,ui)|0))<<13)|0;return P=((k=Math.imul(he,oi))+(d>>>13)|0)+(Vi>>>26)|0,Vi&=67108863,S[0]=en,S[1]=sn,S[2]=Tn,S[3]=Er,S[4]=In,S[5]=Yn,S[6]=nn,S[7]=Or,S[8]=fr,S[9]=dr,S[10]=Un,S[11]=xo,S[12]=ki,S[13]=hn,S[14]=ar,S[15]=bn,S[16]=vo,S[17]=Ao,S[18]=Vi,0!==P&&(S[19]=P,y.length++),y};function q(T,h,m){return(new V).mulp(T,h,m)}function V(T,h){this.x=T,this.y=h}Math.imul||(z=U),D.prototype.mulTo=function(h,m){var y,v=this.length+h.length;return y=10===this.length&&10===h.length?z(this,h,m):v<63?U(this,h,m):v<1024?function(T,h,m){m.negative=h.negative^T.negative,m.length=T.length+h.length;for(var y=0,v=0,M=0;M<m.length-1;M++){var S=v;v=0;for(var P=67108863&y,C=Math.min(M,h.length-1),d=Math.max(0,M-T.length+1);d<=C;d++){var J=(0|T.words[M-d])*(0|h.words[d]),xt=67108863&J;P=67108863&(xt=xt+P|0),v+=(S=(S=S+(J/67108864|0)|0)+(xt>>>26)|0)>>>26,S&=67108863}m.words[M]=P,y=S,S=v}return 0!==y?m.words[M]=y:m.length--,m.strip()}(this,h,m):q(this,h,m),y},V.prototype.makeRBT=function(h){for(var m=new Array(h),y=D.prototype._countBits(h)-1,v=0;v<h;v++)m[v]=this.revBin(v,y,h);return m},V.prototype.revBin=function(h,m,y){if(0===h||h===y-1)return h;for(var v=0,M=0;M<m;M++)v|=(1&h)<<m-M-1,h>>=1;return v},V.prototype.permute=function(h,m,y,v,M,S){for(var P=0;P<S;P++)v[P]=m[h[P]],M[P]=y[h[P]]},V.prototype.transform=function(h,m,y,v,M,S){this.permute(S,h,m,y,v,M);for(var P=1;P<M;P<<=1)for(var C=P<<1,d=Math.cos(2*Math.PI/C),k=Math.sin(2*Math.PI/C),nt=0;nt<M;nt+=C)for(var Q=d,J=k,xt=0;xt<P;xt++){var wt=y[nt+xt],Ft=v[nt+xt],Gt=y[nt+xt+P],It=v[nt+xt+P],_t=Q*Gt-J*It;It=Q*It+J*Gt,y[nt+xt]=wt+(Gt=_t),v[nt+xt]=Ft+It,y[nt+xt+P]=wt-Gt,v[nt+xt+P]=Ft-It,xt!==C&&(_t=d*Q-k*J,J=d*J+k*Q,Q=_t)}},V.prototype.guessLen13b=function(h,m){var y=1|Math.max(m,h),v=1&y,M=0;for(y=y/2|0;y;y>>>=1)M++;return 1<<M+1+v},V.prototype.conjugate=function(h,m,y){if(!(y<=1))for(var v=0;v<y/2;v++){var M=h[v];h[v]=h[y-v-1],h[y-v-1]=M,M=m[v],m[v]=-m[y-v-1],m[y-v-1]=-M}},V.prototype.normalize13b=function(h,m){for(var y=0,v=0;v<m/2;v++){var M=8192*Math.round(h[2*v+1]/m)+Math.round(h[2*v]/m)+y;h[v]=67108863&M,y=M<67108864?0:M/67108864|0}return h},V.prototype.convert13b=function(h,m,y,v){for(var M=0,S=0;S<m;S++)y[2*S]=8191&(M+=0|h[S]),y[2*S+1]=8191&(M>>>=13),M>>>=13;for(S=2*m;S<v;++S)y[S]=0;ht(0===M),ht(0==(-8192&M))},V.prototype.stub=function(h){for(var m=new Array(h),y=0;y<h;y++)m[y]=0;return m},V.prototype.mulp=function(h,m,y){var v=2*this.guessLen13b(h.length,m.length),M=this.makeRBT(v),S=this.stub(v),P=new Array(v),C=new Array(v),d=new Array(v),k=new Array(v),nt=new Array(v),Q=new Array(v),J=y.words;J.length=v,this.convert13b(h.words,h.length,P,v),this.convert13b(m.words,m.length,k,v),this.transform(P,S,C,d,v,M),this.transform(k,S,nt,Q,v,M);for(var xt=0;xt<v;xt++){var wt=C[xt]*nt[xt]-d[xt]*Q[xt];d[xt]=C[xt]*Q[xt]+d[xt]*nt[xt],C[xt]=wt}return this.conjugate(C,d,v),this.transform(C,d,J,S,v,M),this.conjugate(J,S,v),this.normalize13b(J,v),y.negative=h.negative^m.negative,y.length=h.length+m.length,y.strip()},D.prototype.mul=function(h){var m=new D(null);return m.words=new Array(this.length+h.length),this.mulTo(h,m)},D.prototype.mulf=function(h){var m=new D(null);return m.words=new Array(this.length+h.length),q(this,h,m)},D.prototype.imul=function(h){return this.clone().mulTo(h,this)},D.prototype.imuln=function(h){ht("number"==typeof h),ht(h<67108864);for(var m=0,y=0;y<this.length;y++){var v=(0|this.words[y])*h,M=(67108863&v)+(67108863&m);m>>=26,m+=v/67108864|0,m+=M>>>26,this.words[y]=67108863&M}return 0!==m&&(this.words[y]=m,this.length++),this},D.prototype.muln=function(h){return this.clone().imuln(h)},D.prototype.sqr=function(){return this.mul(this)},D.prototype.isqr=function(){return this.imul(this.clone())},D.prototype.pow=function(h){var m=function(T){for(var h=new Array(T.bitLength()),m=0;m<h.length;m++){var v=m%26;h[m]=(T.words[m/26|0]&1<<v)>>>v}return h}(h);if(0===m.length)return new D(1);for(var y=this,v=0;v<m.length&&0===m[v];v++,y=y.sqr());if(++v<m.length)for(var M=y.sqr();v<m.length;v++,M=M.sqr())0!==m[v]&&(y=y.mul(M));return y},D.prototype.iushln=function(h){ht("number"==typeof h&&h>=0);var M,m=h%26,y=(h-m)/26,v=67108863>>>26-m<<26-m;if(0!==m){var S=0;for(M=0;M<this.length;M++){var P=this.words[M]&v;this.words[M]=(0|this.words[M])-P<<m|S,S=P>>>26-m}S&&(this.words[M]=S,this.length++)}if(0!==y){for(M=this.length-1;M>=0;M--)this.words[M+y]=this.words[M];for(M=0;M<y;M++)this.words[M]=0;this.length+=y}return this.strip()},D.prototype.ishln=function(h){return ht(0===this.negative),this.iushln(h)},D.prototype.iushrn=function(h,m,y){var v;ht("number"==typeof h&&h>=0),v=m?(m-m%26)/26:0;var M=h%26,S=Math.min((h-M)/26,this.length),P=67108863^67108863>>>M<<M,C=y;if(v-=S,v=Math.max(0,v),C){for(var d=0;d<S;d++)C.words[d]=this.words[d];C.length=S}if(0!==S)if(this.length>S)for(this.length-=S,d=0;d<this.length;d++)this.words[d]=this.words[d+S];else this.words[0]=0,this.length=1;var k=0;for(d=this.length-1;d>=0&&(0!==k||d>=v);d--){var nt=0|this.words[d];this.words[d]=k<<26-M|nt>>>M,k=nt&P}return C&&0!==k&&(C.words[C.length++]=k),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},D.prototype.ishrn=function(h,m,y){return ht(0===this.negative),this.iushrn(h,m,y)},D.prototype.shln=function(h){return this.clone().ishln(h)},D.prototype.ushln=function(h){return this.clone().iushln(h)},D.prototype.shrn=function(h){return this.clone().ishrn(h)},D.prototype.ushrn=function(h){return this.clone().iushrn(h)},D.prototype.testn=function(h){ht("number"==typeof h&&h>=0);var m=h%26,y=(h-m)/26;return!(this.length<=y||!(this.words[y]&1<<m))},D.prototype.imaskn=function(h){ht("number"==typeof h&&h>=0);var m=h%26,y=(h-m)/26;return ht(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==m&&y++,this.length=Math.min(y,this.length),0!==m&&(this.words[this.length-1]&=67108863^67108863>>>m<<m),this.strip())},D.prototype.maskn=function(h){return this.clone().imaskn(h)},D.prototype.iaddn=function(h){return ht("number"==typeof h),ht(h<67108864),h<0?this.isubn(-h):0!==this.negative?1===this.length&&(0|this.words[0])<h?(this.words[0]=h-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},D.prototype._iaddn=function(h){this.words[0]+=h;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},D.prototype.isubn=function(h){if(ht("number"==typeof h),ht(h<67108864),h<0)return this.iaddn(-h);if(0!==this.negative)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this.strip()},D.prototype.addn=function(h){return this.clone().iaddn(h)},D.prototype.subn=function(h){return this.clone().isubn(h)},D.prototype.iabs=function(){return this.negative=0,this},D.prototype.abs=function(){return this.clone().iabs()},D.prototype._ishlnsubmul=function(h,m,y){var M;this._expand(h.length+y);var S,P=0;for(M=0;M<h.length;M++){S=(0|this.words[M+y])+P;var C=(0|h.words[M])*m;P=((S-=67108863&C)>>26)-(C/67108864|0),this.words[M+y]=67108863&S}for(;M<this.length-y;M++)P=(S=(0|this.words[M+y])+P)>>26,this.words[M+y]=67108863&S;if(0===P)return this.strip();for(ht(-1===P),P=0,M=0;M<this.length;M++)P=(S=-(0|this.words[M])+P)>>26,this.words[M]=67108863&S;return this.negative=1,this.strip()},D.prototype._wordDiv=function(h,m){var y,v=this.clone(),M=h,S=0|M.words[M.length-1];0!=(y=26-this._countBits(S))&&(M=M.ushln(y),v.iushln(y),S=0|M.words[M.length-1]);var d,C=v.length-M.length;if("mod"!==m){(d=new D(null)).length=C+1,d.words=new Array(d.length);for(var k=0;k<d.length;k++)d.words[k]=0}var nt=v.clone()._ishlnsubmul(M,1,C);0===nt.negative&&(v=nt,d&&(d.words[C]=1));for(var Q=C-1;Q>=0;Q--){var J=67108864*(0|v.words[M.length+Q])+(0|v.words[M.length+Q-1]);for(J=Math.min(J/S|0,67108863),v._ishlnsubmul(M,J,Q);0!==v.negative;)J--,v.negative=0,v._ishlnsubmul(M,1,Q),v.isZero()||(v.negative^=1);d&&(d.words[Q]=J)}return d&&d.strip(),v.strip(),"div"!==m&&0!==y&&v.iushrn(y),{div:d||null,mod:v}},D.prototype.divmod=function(h,m,y){return ht(!h.isZero()),this.isZero()?{div:new D(0),mod:new D(0)}:0!==this.negative&&0===h.negative?(S=this.neg().divmod(h,m),"mod"!==m&&(v=S.div.neg()),"div"!==m&&(M=S.mod.neg(),y&&0!==M.negative&&M.iadd(h)),{div:v,mod:M}):0===this.negative&&0!==h.negative?(S=this.divmod(h.neg(),m),"mod"!==m&&(v=S.div.neg()),{div:v,mod:S.mod}):0!=(this.negative&h.negative)?(S=this.neg().divmod(h.neg(),m),"div"!==m&&(M=S.mod.neg(),y&&0!==M.negative&&M.isub(h)),{div:S.div,mod:M}):h.length>this.length||this.cmp(h)<0?{div:new D(0),mod:this}:1===h.length?"div"===m?{div:this.divn(h.words[0]),mod:null}:"mod"===m?{div:null,mod:new D(this.modn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new D(this.modn(h.words[0]))}:this._wordDiv(h,m);var v,M,S},D.prototype.div=function(h){return this.divmod(h,"div",!1).div},D.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},D.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},D.prototype.divRound=function(h){var m=this.divmod(h);if(m.mod.isZero())return m.div;var y=0!==m.div.negative?m.mod.isub(h):m.mod,v=h.ushrn(1),M=h.andln(1),S=y.cmp(v);return S<0||1===M&&0===S?m.div:0!==m.div.negative?m.div.isubn(1):m.div.iaddn(1)},D.prototype.modn=function(h){ht(h<=67108863);for(var m=(1<<26)%h,y=0,v=this.length-1;v>=0;v--)y=(m*y+(0|this.words[v]))%h;return y},D.prototype.idivn=function(h){ht(h<=67108863);for(var m=0,y=this.length-1;y>=0;y--){var v=(0|this.words[y])+67108864*m;this.words[y]=v/h|0,m=v%h}return this.strip()},D.prototype.divn=function(h){return this.clone().idivn(h)},D.prototype.egcd=function(h){ht(0===h.negative),ht(!h.isZero());var m=this,y=h.clone();m=0!==m.negative?m.umod(h):m.clone();for(var v=new D(1),M=new D(0),S=new D(0),P=new D(1),C=0;m.isEven()&&y.isEven();)m.iushrn(1),y.iushrn(1),++C;for(var d=y.clone(),k=m.clone();!m.isZero();){for(var nt=0,Q=1;0==(m.words[0]&Q)&&nt<26;++nt,Q<<=1);if(nt>0)for(m.iushrn(nt);nt-- >0;)(v.isOdd()||M.isOdd())&&(v.iadd(d),M.isub(k)),v.iushrn(1),M.iushrn(1);for(var J=0,xt=1;0==(y.words[0]&xt)&&J<26;++J,xt<<=1);if(J>0)for(y.iushrn(J);J-- >0;)(S.isOdd()||P.isOdd())&&(S.iadd(d),P.isub(k)),S.iushrn(1),P.iushrn(1);m.cmp(y)>=0?(m.isub(y),v.isub(S),M.isub(P)):(y.isub(m),S.isub(v),P.isub(M))}return{a:S,b:P,gcd:y.iushln(C)}},D.prototype._invmp=function(h){ht(0===h.negative),ht(!h.isZero());var nt,m=this,y=h.clone();m=0!==m.negative?m.umod(h):m.clone();for(var v=new D(1),M=new D(0),S=y.clone();m.cmpn(1)>0&&y.cmpn(1)>0;){for(var P=0,C=1;0==(m.words[0]&C)&&P<26;++P,C<<=1);if(P>0)for(m.iushrn(P);P-- >0;)v.isOdd()&&v.iadd(S),v.iushrn(1);for(var d=0,k=1;0==(y.words[0]&k)&&d<26;++d,k<<=1);if(d>0)for(y.iushrn(d);d-- >0;)M.isOdd()&&M.iadd(S),M.iushrn(1);m.cmp(y)>=0?(m.isub(y),v.isub(M)):(y.isub(m),M.isub(v))}return(nt=0===m.cmpn(1)?v:M).cmpn(0)<0&&nt.iadd(h),nt},D.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var m=this.clone(),y=h.clone();m.negative=0,y.negative=0;for(var v=0;m.isEven()&&y.isEven();v++)m.iushrn(1),y.iushrn(1);for(;;){for(;m.isEven();)m.iushrn(1);for(;y.isEven();)y.iushrn(1);var M=m.cmp(y);if(M<0){var S=m;m=y,y=S}else if(0===M||0===y.cmpn(1))break;m.isub(y)}return y.iushln(v)},D.prototype.invm=function(h){return this.egcd(h).a.umod(h)},D.prototype.isEven=function(){return 0==(1&this.words[0])},D.prototype.isOdd=function(){return 1==(1&this.words[0])},D.prototype.andln=function(h){return this.words[0]&h},D.prototype.bincn=function(h){ht("number"==typeof h);var m=h%26,y=(h-m)/26,v=1<<m;if(this.length<=y)return this._expand(y+1),this.words[y]|=v,this;for(var M=v,S=y;0!==M&&S<this.length;S++){var P=0|this.words[S];M=(P+=M)>>>26,this.words[S]=P&=67108863}return 0!==M&&(this.words[S]=M,this.length++),this},D.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},D.prototype.cmpn=function(h){var y,m=h<0;if(0!==this.negative&&!m)return-1;if(0===this.negative&&m)return 1;if(this.strip(),this.length>1)y=1;else{m&&(h=-h),ht(h<=67108863,"Number is too big");var v=0|this.words[0];y=v===h?0:v<h?-1:1}return 0!==this.negative?0|-y:y},D.prototype.cmp=function(h){if(0!==this.negative&&0===h.negative)return-1;if(0===this.negative&&0!==h.negative)return 1;var m=this.ucmp(h);return 0!==this.negative?0|-m:m},D.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var m=0,y=this.length-1;y>=0;y--){var v=0|this.words[y],M=0|h.words[y];if(v!==M){v<M?m=-1:v>M&&(m=1);break}}return m},D.prototype.gtn=function(h){return 1===this.cmpn(h)},D.prototype.gt=function(h){return 1===this.cmp(h)},D.prototype.gten=function(h){return this.cmpn(h)>=0},D.prototype.gte=function(h){return this.cmp(h)>=0},D.prototype.ltn=function(h){return-1===this.cmpn(h)},D.prototype.lt=function(h){return-1===this.cmp(h)},D.prototype.lten=function(h){return this.cmpn(h)<=0},D.prototype.lte=function(h){return this.cmp(h)<=0},D.prototype.eqn=function(h){return 0===this.cmpn(h)},D.prototype.eq=function(h){return 0===this.cmp(h)},D.red=function(h){return new Dt(h)},D.prototype.toRed=function(h){return ht(!this.red,"Already a number in reduction context"),ht(0===this.negative,"red works only with positives"),h.convertTo(this)._forceRed(h)},D.prototype.fromRed=function(){return ht(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},D.prototype._forceRed=function(h){return this.red=h,this},D.prototype.forceRed=function(h){return ht(!this.red,"Already a number in reduction context"),this._forceRed(h)},D.prototype.redAdd=function(h){return ht(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},D.prototype.redIAdd=function(h){return ht(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},D.prototype.redSub=function(h){return ht(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},D.prototype.redISub=function(h){return ht(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},D.prototype.redShl=function(h){return ht(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},D.prototype.redMul=function(h){return ht(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},D.prototype.redIMul=function(h){return ht(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},D.prototype.redSqr=function(){return ht(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},D.prototype.redISqr=function(){return ht(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},D.prototype.redSqrt=function(){return ht(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},D.prototype.redInvm=function(){return ht(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},D.prototype.redNeg=function(){return ht(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},D.prototype.redPow=function(h){return ht(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var Z={k256:null,p224:null,p192:null,p25519:null};function et(T,h){this.name=T,this.p=new D(h,16),this.n=this.p.bitLength(),this.k=new D(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function rt(){et.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function mt(){et.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function gt(){et.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Et(){et.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Dt(T){if("string"==typeof T){var h=D._prime(T);this.m=h.p,this.prime=h}else ht(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}function Mt(T){Dt.call(this,T),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new D(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}et.prototype._tmp=function(){var h=new D(null);return h.words=new Array(Math.ceil(this.n/13)),h},et.prototype.ireduce=function(h){var y,m=h;do{this.split(m,this.tmp),y=(m=(m=this.imulK(m)).iadd(this.tmp)).bitLength()}while(y>this.n);var v=y<this.n?-1:m.ucmp(this.p);return 0===v?(m.words[0]=0,m.length=1):v>0?m.isub(this.p):void 0!==m.strip?m.strip():m._strip(),m},et.prototype.split=function(h,m){h.iushrn(this.n,0,m)},et.prototype.imulK=function(h){return h.imul(this.k)},ct(rt,et),rt.prototype.split=function(h,m){for(var y=4194303,v=Math.min(h.length,9),M=0;M<v;M++)m.words[M]=h.words[M];if(m.length=v,h.length<=9)return h.words[0]=0,void(h.length=1);var S=h.words[9];for(m.words[m.length++]=S&y,M=10;M<h.length;M++){var P=0|h.words[M];h.words[M-10]=(P&y)<<4|S>>>22,S=P}h.words[M-10]=S>>>=22,h.length-=0===S&&h.length>10?10:9},rt.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var m=0,y=0;y<h.length;y++){var v=0|h.words[y];h.words[y]=67108863&(m+=977*v),m=64*v+(m/67108864|0)}return 0===h.words[h.length-1]&&(h.length--,0===h.words[h.length-1]&&h.length--),h},ct(mt,et),ct(gt,et),ct(Et,et),Et.prototype.imulK=function(h){for(var m=0,y=0;y<h.length;y++){var v=19*(0|h.words[y])+m,M=67108863&v;v>>>=26,h.words[y]=M,m=v}return 0!==m&&(h.words[h.length++]=m),h},D._prime=function(h){if(Z[h])return Z[h];var m;if("k256"===h)m=new rt;else if("p224"===h)m=new mt;else if("p192"===h)m=new gt;else{if("p25519"!==h)throw new Error("Unknown prime "+h);m=new Et}return Z[h]=m,m},Dt.prototype._verify1=function(h){ht(0===h.negative,"red works only with positives"),ht(h.red,"red works only with red numbers")},Dt.prototype._verify2=function(h,m){ht(0==(h.negative|m.negative),"red works only with positives"),ht(h.red&&h.red===m.red,"red works only with red numbers")},Dt.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):h.umod(this.m)._forceRed(this)},Dt.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},Dt.prototype.add=function(h,m){this._verify2(h,m);var y=h.add(m);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},Dt.prototype.iadd=function(h,m){this._verify2(h,m);var y=h.iadd(m);return y.cmp(this.m)>=0&&y.isub(this.m),y},Dt.prototype.sub=function(h,m){this._verify2(h,m);var y=h.sub(m);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},Dt.prototype.isub=function(h,m){this._verify2(h,m);var y=h.isub(m);return y.cmpn(0)<0&&y.iadd(this.m),y},Dt.prototype.shl=function(h,m){return this._verify1(h),this.imod(h.ushln(m))},Dt.prototype.imul=function(h,m){return this._verify2(h,m),this.imod(h.imul(m))},Dt.prototype.mul=function(h,m){return this._verify2(h,m),this.imod(h.mul(m))},Dt.prototype.isqr=function(h){return this.imul(h,h.clone())},Dt.prototype.sqr=function(h){return this.mul(h,h)},Dt.prototype.sqrt=function(h){if(h.isZero())return h.clone();var m=this.m.andln(3);if(ht(m%2==1),3===m){var y=this.m.add(new D(1)).iushrn(2);return this.pow(h,y)}for(var v=this.m.subn(1),M=0;!v.isZero()&&0===v.andln(1);)M++,v.iushrn(1);ht(!v.isZero());var S=new D(1).toRed(this),P=S.redNeg(),C=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new D(2*d*d).toRed(this);0!==this.pow(d,C).cmp(P);)d.redIAdd(P);for(var k=this.pow(d,v),nt=this.pow(h,v.addn(1).iushrn(1)),Q=this.pow(h,v),J=M;0!==Q.cmp(S);){for(var xt=Q,wt=0;0!==xt.cmp(S);wt++)xt=xt.redSqr();ht(wt<J);var Ft=this.pow(k,new D(1).iushln(J-wt-1));nt=nt.redMul(Ft),k=Ft.redSqr(),Q=Q.redMul(k),J=wt}return nt},Dt.prototype.invm=function(h){var m=h._invmp(this.m);return 0!==m.negative?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},Dt.prototype.pow=function(h,m){if(m.isZero())return new D(1).toRed(this);if(0===m.cmpn(1))return h.clone();var v=new Array(16);v[0]=new D(1).toRed(this),v[1]=h;for(var M=2;M<v.length;M++)v[M]=this.mul(v[M-1],h);var S=v[0],P=0,C=0,d=m.bitLength()%26;for(0===d&&(d=26),M=m.length-1;M>=0;M--){for(var k=m.words[M],nt=d-1;nt>=0;nt--){var Q=k>>nt&1;S!==v[0]&&(S=this.sqr(S)),0!==Q||0!==P?(P<<=1,P|=Q,(4==++C||0===M&&0===nt)&&(S=this.mul(S,v[P]),C=0,P=0)):C=0}d=26}return S},Dt.prototype.convertTo=function(h){var m=h.umod(this.m);return m===h?m.clone():m},Dt.prototype.convertFrom=function(h){var m=h.clone();return m.red=null,m},D.mont=function(h){return new Mt(h)},ct(Mt,Dt),Mt.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},Mt.prototype.convertFrom=function(h){var m=this.imod(h.mul(this.rinv));return m.red=null,m},Mt.prototype.imul=function(h,m){if(h.isZero()||m.isZero())return h.words[0]=0,h.length=1,h;var y=h.imul(m),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(v).iushrn(this.shift),S=M;return M.cmp(this.m)>=0?S=M.isub(this.m):M.cmpn(0)<0&&(S=M.iadd(this.m)),S._forceRed(this)},Mt.prototype.mul=function(h,m){if(h.isZero()||m.isZero())return new D(0)._forceRed(this);var y=h.mul(m),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(v).iushrn(this.shift),S=M;return M.cmp(this.m)>=0?S=M.isub(this.m):M.cmpn(0)<0&&(S=M.iadd(this.m)),S._forceRed(this)},Mt.prototype.invm=function(h){return this.imod(h._invmp(this.m).mul(this.r2))._forceRed(this)}}(fe=kt.nmd(fe),this)},3059:(fe,ot,kt)=>{"use strict";var Tt=ot;Tt.version=kt(8597).i8,Tt.utils=kt(5685),Tt.rand=kt(3550),Tt.curve=kt(2333),Tt.curves=kt(2960),Tt.ec=kt(4590),Tt.eddsa=kt(876)},6462:(fe,ot,kt)=>{"use strict";var Tt=kt(9631),Pt=kt(5685),ht=Pt.getNAF,ct=Pt.getJSF,D=Pt.assert;function $(it,K){this.type=it,this.p=new Tt(K.p,16),this.red=K.prime?Tt.red(K.prime):Tt.mont(this.p),this.zero=new Tt(0).toRed(this.red),this.one=new Tt(1).toRed(this.red),this.two=new Tt(2).toRed(this.red),this.n=K.n&&new Tt(K.n,16),this.g=K.g&&this.pointFromJSON(K.g,K.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var W=this.n&&this.p.div(this.n);!W||W.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function X(it,K){this.curve=it,this.type=K,this.precomputed=null}fe.exports=$,$.prototype.point=function(){throw new Error("Not implemented")},$.prototype.validate=function(){throw new Error("Not implemented")},$.prototype._fixedNafMul=function(K,W){D(K.precomputed);var j=K._getDoubles(),tt=ht(W,1,this._bitLength),N=(1<<j.step+1)-(j.step%2==0?2:1);N/=3;var z,Y,U=[];for(z=0;z<tt.length;z+=j.step){Y=0;for(var q=z+j.step-1;q>=z;q--)Y=(Y<<1)+tt[q];U.push(Y)}for(var V=this.jpoint(null,null,null),Z=this.jpoint(null,null,null),et=N;et>0;et--){for(z=0;z<U.length;z++)(Y=U[z])===et?Z=Z.mixedAdd(j.points[z]):Y===-et&&(Z=Z.mixedAdd(j.points[z].neg()));V=V.add(Z)}return V.toP()},$.prototype._wnafMul=function(K,W){for(var j=4,tt=K._getNAFPoints(j),N=tt.points,U=ht(W,j=tt.wnd,this._bitLength),z=this.jpoint(null,null,null),Y=U.length-1;Y>=0;Y--){for(var q=0;Y>=0&&0===U[Y];Y--)q++;if(Y>=0&&q++,z=z.dblp(q),Y<0)break;var V=U[Y];D(0!==V),z="affine"===K.type?z.mixedAdd(V>0?N[V-1>>1]:N[-V-1>>1].neg()):z.add(V>0?N[V-1>>1]:N[-V-1>>1].neg())}return"affine"===K.type?z.toP():z},$.prototype._wnafMulAdd=function(K,W,j,tt,N){var V,Z,et,U=this._wnafT1,z=this._wnafT2,Y=this._wnafT3,q=0;for(V=0;V<tt;V++){var rt=(et=W[V])._getNAFPoints(K);U[V]=rt.wnd,z[V]=rt.points}for(V=tt-1;V>=1;V-=2){var mt=V-1,gt=V;if(1===U[mt]&&1===U[gt]){var Et=[W[mt],null,null,W[gt]];0===W[mt].y.cmp(W[gt].y)?(Et[1]=W[mt].add(W[gt]),Et[2]=W[mt].toJ().mixedAdd(W[gt].neg())):0===W[mt].y.cmp(W[gt].y.redNeg())?(Et[1]=W[mt].toJ().mixedAdd(W[gt]),Et[2]=W[mt].add(W[gt].neg())):(Et[1]=W[mt].toJ().mixedAdd(W[gt]),Et[2]=W[mt].toJ().mixedAdd(W[gt].neg()));var Dt=[-3,-1,-5,-7,0,7,5,1,3],Mt=ct(j[mt],j[gt]);for(q=Math.max(Mt[0].length,q),Y[mt]=new Array(q),Y[gt]=new Array(q),Z=0;Z<q;Z++)Y[mt][Z]=Dt[3*(1+(0|Mt[0][Z]))+(1+(0|Mt[1][Z]))],Y[gt][Z]=0,z[mt]=Et}else Y[mt]=ht(j[mt],U[mt],this._bitLength),Y[gt]=ht(j[gt],U[gt],this._bitLength),q=Math.max(Y[mt].length,q),q=Math.max(Y[gt].length,q)}var m=this.jpoint(null,null,null),y=this._wnafT4;for(V=q;V>=0;V--){for(var v=0;V>=0;){var M=!0;for(Z=0;Z<tt;Z++)y[Z]=0|Y[Z][V],0!==y[Z]&&(M=!1);if(!M)break;v++,V--}if(V>=0&&v++,m=m.dblp(v),V<0)break;for(Z=0;Z<tt;Z++){var S=y[Z];0!==S&&(S>0?et=z[Z][S-1>>1]:S<0&&(et=z[Z][-S-1>>1].neg()),m="affine"===et.type?m.mixedAdd(et):m.add(et))}}for(V=0;V<tt;V++)z[V]=null;return N?m:m.toP()},$.BasePoint=X,X.prototype.eq=function(){throw new Error("Not implemented")},X.prototype.validate=function(){return this.curve.validate(this)},$.prototype.decodePoint=function(K,W){K=Pt.toArray(K,W);var j=this.p.byteLength();if((4===K[0]||6===K[0]||7===K[0])&&K.length-1==2*j)return 6===K[0]?D(K[K.length-1]%2==0):7===K[0]&&D(K[K.length-1]%2==1),this.point(K.slice(1,1+j),K.slice(1+j,1+2*j));if((2===K[0]||3===K[0])&&K.length-1===j)return this.pointFromX(K.slice(1,1+j),3===K[0]);throw new Error("Unknown point format")},X.prototype.encodeCompressed=function(K){return this.encode(K,!0)},X.prototype._encode=function(K){var W=this.curve.p.byteLength(),j=this.getX().toArray("be",W);return K?[this.getY().isEven()?2:3].concat(j):[4].concat(j,this.getY().toArray("be",W))},X.prototype.encode=function(K,W){return Pt.encode(this._encode(W),K)},X.prototype.precompute=function(K){if(this.precomputed)return this;var W={doubles:null,naf:null,beta:null};return W.naf=this._getNAFPoints(8),W.doubles=this._getDoubles(4,K),W.beta=this._getBeta(),this.precomputed=W,this},X.prototype._hasDoubles=function(K){if(!this.precomputed)return!1;var W=this.precomputed.doubles;return!!W&&W.points.length>=Math.ceil((K.bitLength()+1)/W.step)},X.prototype._getDoubles=function(K,W){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var j=[this],tt=this,N=0;N<W;N+=K){for(var U=0;U<K;U++)tt=tt.dbl();j.push(tt)}return{step:K,points:j}},X.prototype._getNAFPoints=function(K){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var W=[this],j=(1<<K)-1,tt=1===j?null:this.dbl(),N=1;N<j;N++)W[N]=W[N-1].add(tt);return{wnd:K,points:W}},X.prototype._getBeta=function(){return null},X.prototype.dblp=function(K){for(var W=this,j=0;j<K;j++)W=W.dbl();return W}},5837:(fe,ot,kt)=>{"use strict";var Tt=kt(5685),Pt=kt(9631),ht=kt(3516),ct=kt(6462),D=Tt.assert;function $(it){this.twisted=1!=(0|it.a),this.mOneA=this.twisted&&-1==(0|it.a),this.extended=this.mOneA,ct.call(this,"edwards",it),this.a=new Pt(it.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Pt(it.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Pt(it.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),D(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|it.c)}function X(it,K,W,j,tt){ct.BasePoint.call(this,it,"projective"),null===K&&null===W&&null===j?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Pt(K,16),this.y=new Pt(W,16),this.z=j?new Pt(j,16):this.curve.one,this.t=tt&&new Pt(tt,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}ht($,ct),fe.exports=$,$.prototype._mulA=function(K){return this.mOneA?K.redNeg():this.a.redMul(K)},$.prototype._mulC=function(K){return this.oneC?K:this.c.redMul(K)},$.prototype.jpoint=function(K,W,j,tt){return this.point(K,W,j,tt)},$.prototype.pointFromX=function(K,W){(K=new Pt(K,16)).red||(K=K.toRed(this.red));var j=K.redSqr(),tt=this.c2.redSub(this.a.redMul(j)),N=this.one.redSub(this.c2.redMul(this.d).redMul(j)),U=tt.redMul(N.redInvm()),z=U.redSqrt();if(0!==z.redSqr().redSub(U).cmp(this.zero))throw new Error("invalid point");var Y=z.fromRed().isOdd();return(W&&!Y||!W&&Y)&&(z=z.redNeg()),this.point(K,z)},$.prototype.pointFromY=function(K,W){(K=new Pt(K,16)).red||(K=K.toRed(this.red));var j=K.redSqr(),tt=j.redSub(this.c2),N=j.redMul(this.d).redMul(this.c2).redSub(this.a),U=tt.redMul(N.redInvm());if(0===U.cmp(this.zero)){if(W)throw new Error("invalid point");return this.point(this.zero,K)}var z=U.redSqrt();if(0!==z.redSqr().redSub(U).cmp(this.zero))throw new Error("invalid point");return z.fromRed().isOdd()!==W&&(z=z.redNeg()),this.point(z,K)},$.prototype.validate=function(K){if(K.isInfinity())return!0;K.normalize();var W=K.x.redSqr(),j=K.y.redSqr(),tt=W.redMul(this.a).redAdd(j),N=this.c2.redMul(this.one.redAdd(this.d.redMul(W).redMul(j)));return 0===tt.cmp(N)},ht(X,ct.BasePoint),$.prototype.pointFromJSON=function(K){return X.fromJSON(this,K)},$.prototype.point=function(K,W,j,tt){return new X(this,K,W,j,tt)},X.fromJSON=function(K,W){return new X(K,W[0],W[1],W[2])},X.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},X.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},X.prototype._extDbl=function(){var K=this.x.redSqr(),W=this.y.redSqr(),j=this.z.redSqr();j=j.redIAdd(j);var tt=this.curve._mulA(K),N=this.x.redAdd(this.y).redSqr().redISub(K).redISub(W),U=tt.redAdd(W),z=U.redSub(j),Y=tt.redSub(W),q=N.redMul(z),V=U.redMul(Y),Z=N.redMul(Y),et=z.redMul(U);return this.curve.point(q,V,et,Z)},X.prototype._projDbl=function(){var tt,N,U,z,Y,q,K=this.x.redAdd(this.y).redSqr(),W=this.x.redSqr(),j=this.y.redSqr();if(this.curve.twisted){var V=(z=this.curve._mulA(W)).redAdd(j);this.zOne?(tt=K.redSub(W).redSub(j).redMul(V.redSub(this.curve.two)),N=V.redMul(z.redSub(j)),U=V.redSqr().redSub(V).redSub(V)):(Y=this.z.redSqr(),q=V.redSub(Y).redISub(Y),tt=K.redSub(W).redISub(j).redMul(q),N=V.redMul(z.redSub(j)),U=V.redMul(q))}else z=W.redAdd(j),Y=this.curve._mulC(this.z).redSqr(),q=z.redSub(Y).redSub(Y),tt=this.curve._mulC(K.redISub(z)).redMul(q),N=this.curve._mulC(z).redMul(W.redISub(j)),U=z.redMul(q);return this.curve.point(tt,N,U)},X.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},X.prototype._extAdd=function(K){var W=this.y.redSub(this.x).redMul(K.y.redSub(K.x)),j=this.y.redAdd(this.x).redMul(K.y.redAdd(K.x)),tt=this.t.redMul(this.curve.dd).redMul(K.t),N=this.z.redMul(K.z.redAdd(K.z)),U=j.redSub(W),z=N.redSub(tt),Y=N.redAdd(tt),q=j.redAdd(W),V=U.redMul(z),Z=Y.redMul(q),et=U.redMul(q),rt=z.redMul(Y);return this.curve.point(V,Z,rt,et)},X.prototype._projAdd=function(K){var Z,et,W=this.z.redMul(K.z),j=W.redSqr(),tt=this.x.redMul(K.x),N=this.y.redMul(K.y),U=this.curve.d.redMul(tt).redMul(N),z=j.redSub(U),Y=j.redAdd(U),q=this.x.redAdd(this.y).redMul(K.x.redAdd(K.y)).redISub(tt).redISub(N),V=W.redMul(z).redMul(q);return this.curve.twisted?(Z=W.redMul(Y).redMul(N.redSub(this.curve._mulA(tt))),et=z.redMul(Y)):(Z=W.redMul(Y).redMul(N.redSub(tt)),et=this.curve._mulC(z).redMul(Y)),this.curve.point(V,Z,et)},X.prototype.add=function(K){return this.isInfinity()?K:K.isInfinity()?this:this.curve.extended?this._extAdd(K):this._projAdd(K)},X.prototype.mul=function(K){return this._hasDoubles(K)?this.curve._fixedNafMul(this,K):this.curve._wnafMul(this,K)},X.prototype.mulAdd=function(K,W,j){return this.curve._wnafMulAdd(1,[this,W],[K,j],2,!1)},X.prototype.jmulAdd=function(K,W,j){return this.curve._wnafMulAdd(1,[this,W],[K,j],2,!0)},X.prototype.normalize=function(){if(this.zOne)return this;var K=this.z.redInvm();return this.x=this.x.redMul(K),this.y=this.y.redMul(K),this.t&&(this.t=this.t.redMul(K)),this.z=this.curve.one,this.zOne=!0,this},X.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},X.prototype.getX=function(){return this.normalize(),this.x.fromRed()},X.prototype.getY=function(){return this.normalize(),this.y.fromRed()},X.prototype.eq=function(K){return this===K||0===this.getX().cmp(K.getX())&&0===this.getY().cmp(K.getY())},X.prototype.eqXToP=function(K){var W=K.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(W))return!0;for(var j=K.clone(),tt=this.curve.redN.redMul(this.z);;){if(j.iadd(this.curve.n),j.cmp(this.curve.p)>=0)return!1;if(W.redIAdd(tt),0===this.x.cmp(W))return!0}},X.prototype.toP=X.prototype.normalize,X.prototype.mixedAdd=X.prototype.add},2333:(fe,ot,kt)=>{"use strict";var Tt=ot;Tt.base=kt(6462),Tt.short=kt(5786),Tt.mont=kt(9107),Tt.edwards=kt(5837)},9107:(fe,ot,kt)=>{"use strict";var Tt=kt(9631),Pt=kt(3516),ht=kt(6462),ct=kt(5685);function D(X){ht.call(this,"mont",X),this.a=new Tt(X.a,16).toRed(this.red),this.b=new Tt(X.b,16).toRed(this.red),this.i4=new Tt(4).toRed(this.red).redInvm(),this.two=new Tt(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function $(X,it,K){ht.BasePoint.call(this,X,"projective"),null===it&&null===K?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Tt(it,16),this.z=new Tt(K,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Pt(D,ht),fe.exports=D,D.prototype.validate=function(it){var K=it.normalize().x,W=K.redSqr(),j=W.redMul(K).redAdd(W.redMul(this.a)).redAdd(K);return 0===j.redSqrt().redSqr().cmp(j)},Pt($,ht.BasePoint),D.prototype.decodePoint=function(it,K){return this.point(ct.toArray(it,K),1)},D.prototype.point=function(it,K){return new $(this,it,K)},D.prototype.pointFromJSON=function(it){return $.fromJSON(this,it)},$.prototype.precompute=function(){},$.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},$.fromJSON=function(it,K){return new $(it,K[0],K[1]||it.one)},$.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},$.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},$.prototype.dbl=function(){var K=this.x.redAdd(this.z).redSqr(),j=this.x.redSub(this.z).redSqr(),tt=K.redSub(j),N=K.redMul(j),U=tt.redMul(j.redAdd(this.curve.a24.redMul(tt)));return this.curve.point(N,U)},$.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},$.prototype.diffAdd=function(it,K){var W=this.x.redAdd(this.z),j=this.x.redSub(this.z),tt=it.x.redAdd(it.z),U=it.x.redSub(it.z).redMul(W),z=tt.redMul(j),Y=K.z.redMul(U.redAdd(z).redSqr()),q=K.x.redMul(U.redISub(z).redSqr());return this.curve.point(Y,q)},$.prototype.mul=function(it){for(var K=it.clone(),W=this,j=this.curve.point(null,null),N=[];0!==K.cmpn(0);K.iushrn(1))N.push(K.andln(1));for(var U=N.length-1;U>=0;U--)0===N[U]?(W=W.diffAdd(j,this),j=j.dbl()):(j=W.diffAdd(j,this),W=W.dbl());return j},$.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},$.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},$.prototype.eq=function(it){return 0===this.getX().cmp(it.getX())},$.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},$.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},5786:(fe,ot,kt)=>{"use strict";var Tt=kt(5685),Pt=kt(9631),ht=kt(3516),ct=kt(6462),D=Tt.assert;function $(K){ct.call(this,"short",K),this.a=new Pt(K.a,16).toRed(this.red),this.b=new Pt(K.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(K),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function X(K,W,j,tt){ct.BasePoint.call(this,K,"affine"),null===W&&null===j?(this.x=null,this.y=null,this.inf=!0):(this.x=new Pt(W,16),this.y=new Pt(j,16),tt&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function it(K,W,j,tt){ct.BasePoint.call(this,K,"jacobian"),null===W&&null===j&&null===tt?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Pt(0)):(this.x=new Pt(W,16),this.y=new Pt(j,16),this.z=new Pt(tt,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}ht($,ct),fe.exports=$,$.prototype._getEndomorphism=function(W){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var j,tt;if(W.beta)j=new Pt(W.beta,16).toRed(this.red);else{var N=this._getEndoRoots(this.p);j=(j=N[0].cmp(N[1])<0?N[0]:N[1]).toRed(this.red)}if(W.lambda)tt=new Pt(W.lambda,16);else{var U=this._getEndoRoots(this.n);0===this.g.mul(U[0]).x.cmp(this.g.x.redMul(j))?tt=U[0]:D(0===this.g.mul(tt=U[1]).x.cmp(this.g.x.redMul(j)))}return{beta:j,lambda:tt,basis:W.basis?W.basis.map(function(Y){return{a:new Pt(Y.a,16),b:new Pt(Y.b,16)}}):this._getEndoBasis(tt)}}},$.prototype._getEndoRoots=function(W){var j=W===this.p?this.red:Pt.mont(W),tt=new Pt(2).toRed(j).redInvm(),N=tt.redNeg(),U=new Pt(3).toRed(j).redNeg().redSqrt().redMul(tt);return[N.redAdd(U).fromRed(),N.redSub(U).fromRed()]},$.prototype._getEndoBasis=function(W){for(var V,Z,et,rt,mt,gt,Et,Mt,T,j=this.n.ushrn(Math.floor(this.n.bitLength()/2)),tt=W,N=this.n.clone(),U=new Pt(1),z=new Pt(0),Y=new Pt(0),q=new Pt(1),Dt=0;0!==tt.cmpn(0);){var h=N.div(tt);Mt=N.sub(h.mul(tt)),T=Y.sub(h.mul(U));var m=q.sub(h.mul(z));if(!et&&Mt.cmp(j)<0)V=Et.neg(),Z=U,et=Mt.neg(),rt=T;else if(et&&2==++Dt)break;Et=Mt,N=tt,tt=Mt,Y=U,U=T,q=z,z=m}mt=Mt.neg(),gt=T;var y=et.sqr().add(rt.sqr());return mt.sqr().add(gt.sqr()).cmp(y)>=0&&(mt=V,gt=Z),et.negative&&(et=et.neg(),rt=rt.neg()),mt.negative&&(mt=mt.neg(),gt=gt.neg()),[{a:et,b:rt},{a:mt,b:gt}]},$.prototype._endoSplit=function(W){var j=this.endo.basis,tt=j[0],N=j[1],U=N.b.mul(W).divRound(this.n),z=tt.b.neg().mul(W).divRound(this.n),Y=U.mul(tt.a),q=z.mul(N.a),V=U.mul(tt.b),Z=z.mul(N.b);return{k1:W.sub(Y).sub(q),k2:V.add(Z).neg()}},$.prototype.pointFromX=function(W,j){(W=new Pt(W,16)).red||(W=W.toRed(this.red));var tt=W.redSqr().redMul(W).redIAdd(W.redMul(this.a)).redIAdd(this.b),N=tt.redSqrt();if(0!==N.redSqr().redSub(tt).cmp(this.zero))throw new Error("invalid point");var U=N.fromRed().isOdd();return(j&&!U||!j&&U)&&(N=N.redNeg()),this.point(W,N)},$.prototype.validate=function(W){if(W.inf)return!0;var j=W.x,tt=W.y,N=this.a.redMul(j),U=j.redSqr().redMul(j).redIAdd(N).redIAdd(this.b);return 0===tt.redSqr().redISub(U).cmpn(0)},$.prototype._endoWnafMulAdd=function(W,j,tt){for(var N=this._endoWnafT1,U=this._endoWnafT2,z=0;z<W.length;z++){var Y=this._endoSplit(j[z]),q=W[z],V=q._getBeta();Y.k1.negative&&(Y.k1.ineg(),q=q.neg(!0)),Y.k2.negative&&(Y.k2.ineg(),V=V.neg(!0)),N[2*z]=q,N[2*z+1]=V,U[2*z]=Y.k1,U[2*z+1]=Y.k2}for(var Z=this._wnafMulAdd(1,N,U,2*z,tt),et=0;et<2*z;et++)N[et]=null,U[et]=null;return Z},ht(X,ct.BasePoint),$.prototype.point=function(W,j,tt){return new X(this,W,j,tt)},$.prototype.pointFromJSON=function(W,j){return X.fromJSON(this,W,j)},X.prototype._getBeta=function(){if(this.curve.endo){var W=this.precomputed;if(W&&W.beta)return W.beta;var j=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(W){var tt=this.curve,N=function(U){return tt.point(U.x.redMul(tt.endo.beta),U.y)};W.beta=j,j.precomputed={beta:null,naf:W.naf&&{wnd:W.naf.wnd,points:W.naf.points.map(N)},doubles:W.doubles&&{step:W.doubles.step,points:W.doubles.points.map(N)}}}return j}},X.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},X.fromJSON=function(W,j,tt){"string"==typeof j&&(j=JSON.parse(j));var N=W.point(j[0],j[1],tt);if(!j[2])return N;function U(Y){return W.point(Y[0],Y[1],tt)}var z=j[2];return N.precomputed={beta:null,doubles:z.doubles&&{step:z.doubles.step,points:[N].concat(z.doubles.points.map(U))},naf:z.naf&&{wnd:z.naf.wnd,points:[N].concat(z.naf.points.map(U))}},N},X.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},X.prototype.isInfinity=function(){return this.inf},X.prototype.add=function(W){if(this.inf)return W;if(W.inf)return this;if(this.eq(W))return this.dbl();if(this.neg().eq(W))return this.curve.point(null,null);if(0===this.x.cmp(W.x))return this.curve.point(null,null);var j=this.y.redSub(W.y);0!==j.cmpn(0)&&(j=j.redMul(this.x.redSub(W.x).redInvm()));var tt=j.redSqr().redISub(this.x).redISub(W.x),N=j.redMul(this.x.redSub(tt)).redISub(this.y);return this.curve.point(tt,N)},X.prototype.dbl=function(){if(this.inf)return this;var W=this.y.redAdd(this.y);if(0===W.cmpn(0))return this.curve.point(null,null);var j=this.curve.a,tt=this.x.redSqr(),N=W.redInvm(),U=tt.redAdd(tt).redIAdd(tt).redIAdd(j).redMul(N),z=U.redSqr().redISub(this.x.redAdd(this.x)),Y=U.redMul(this.x.redSub(z)).redISub(this.y);return this.curve.point(z,Y)},X.prototype.getX=function(){return this.x.fromRed()},X.prototype.getY=function(){return this.y.fromRed()},X.prototype.mul=function(W){return W=new Pt(W,16),this.isInfinity()?this:this._hasDoubles(W)?this.curve._fixedNafMul(this,W):this.curve.endo?this.curve._endoWnafMulAdd([this],[W]):this.curve._wnafMul(this,W)},X.prototype.mulAdd=function(W,j,tt){var N=[this,j],U=[W,tt];return this.curve.endo?this.curve._endoWnafMulAdd(N,U):this.curve._wnafMulAdd(1,N,U,2)},X.prototype.jmulAdd=function(W,j,tt){var N=[this,j],U=[W,tt];return this.curve.endo?this.curve._endoWnafMulAdd(N,U,!0):this.curve._wnafMulAdd(1,N,U,2,!0)},X.prototype.eq=function(W){return this===W||this.inf===W.inf&&(this.inf||0===this.x.cmp(W.x)&&0===this.y.cmp(W.y))},X.prototype.neg=function(W){if(this.inf)return this;var j=this.curve.point(this.x,this.y.redNeg());if(W&&this.precomputed){var tt=this.precomputed,N=function(U){return U.neg()};j.precomputed={naf:tt.naf&&{wnd:tt.naf.wnd,points:tt.naf.points.map(N)},doubles:tt.doubles&&{step:tt.doubles.step,points:tt.doubles.points.map(N)}}}return j},X.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},ht(it,ct.BasePoint),$.prototype.jpoint=function(W,j,tt){return new it(this,W,j,tt)},it.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var W=this.z.redInvm(),j=W.redSqr(),tt=this.x.redMul(j),N=this.y.redMul(j).redMul(W);return this.curve.point(tt,N)},it.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},it.prototype.add=function(W){if(this.isInfinity())return W;if(W.isInfinity())return this;var j=W.z.redSqr(),tt=this.z.redSqr(),N=this.x.redMul(j),U=W.x.redMul(tt),z=this.y.redMul(j.redMul(W.z)),Y=W.y.redMul(tt.redMul(this.z)),q=N.redSub(U),V=z.redSub(Y);if(0===q.cmpn(0))return 0!==V.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var Z=q.redSqr(),et=Z.redMul(q),rt=N.redMul(Z),mt=V.redSqr().redIAdd(et).redISub(rt).redISub(rt),gt=V.redMul(rt.redISub(mt)).redISub(z.redMul(et)),Et=this.z.redMul(W.z).redMul(q);return this.curve.jpoint(mt,gt,Et)},it.prototype.mixedAdd=function(W){if(this.isInfinity())return W.toJ();if(W.isInfinity())return this;var j=this.z.redSqr(),tt=this.x,N=W.x.redMul(j),U=this.y,z=W.y.redMul(j).redMul(this.z),Y=tt.redSub(N),q=U.redSub(z);if(0===Y.cmpn(0))return 0!==q.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var V=Y.redSqr(),Z=V.redMul(Y),et=tt.redMul(V),rt=q.redSqr().redIAdd(Z).redISub(et).redISub(et),mt=q.redMul(et.redISub(rt)).redISub(U.redMul(Z)),gt=this.z.redMul(Y);return this.curve.jpoint(rt,mt,gt)},it.prototype.dblp=function(W){if(0===W)return this;if(this.isInfinity())return this;if(!W)return this.dbl();var j;if(this.curve.zeroA||this.curve.threeA){var tt=this;for(j=0;j<W;j++)tt=tt.dbl();return tt}var N=this.curve.a,U=this.curve.tinv,z=this.x,Y=this.y,q=this.z,V=q.redSqr().redSqr(),Z=Y.redAdd(Y);for(j=0;j<W;j++){var et=z.redSqr(),rt=Z.redSqr(),mt=rt.redSqr(),gt=et.redAdd(et).redIAdd(et).redIAdd(N.redMul(V)),Et=z.redMul(rt),Dt=gt.redSqr().redISub(Et.redAdd(Et)),Mt=Et.redISub(Dt),T=gt.redMul(Mt);T=T.redIAdd(T).redISub(mt);var h=Z.redMul(q);j+1<W&&(V=V.redMul(mt)),z=Dt,q=h,Z=T}return this.curve.jpoint(z,Z.redMul(U),q)},it.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},it.prototype._zeroDbl=function(){var W,j,tt;if(this.zOne){var N=this.x.redSqr(),U=this.y.redSqr(),z=U.redSqr(),Y=this.x.redAdd(U).redSqr().redISub(N).redISub(z);Y=Y.redIAdd(Y);var q=N.redAdd(N).redIAdd(N),V=q.redSqr().redISub(Y).redISub(Y),Z=z.redIAdd(z);Z=(Z=Z.redIAdd(Z)).redIAdd(Z),W=V,j=q.redMul(Y.redISub(V)).redISub(Z),tt=this.y.redAdd(this.y)}else{var et=this.x.redSqr(),rt=this.y.redSqr(),mt=rt.redSqr(),gt=this.x.redAdd(rt).redSqr().redISub(et).redISub(mt);gt=gt.redIAdd(gt);var Et=et.redAdd(et).redIAdd(et),Dt=Et.redSqr(),Mt=mt.redIAdd(mt);Mt=(Mt=Mt.redIAdd(Mt)).redIAdd(Mt),W=Dt.redISub(gt).redISub(gt),j=Et.redMul(gt.redISub(W)).redISub(Mt),tt=(tt=this.y.redMul(this.z)).redIAdd(tt)}return this.curve.jpoint(W,j,tt)},it.prototype._threeDbl=function(){var W,j,tt;if(this.zOne){var N=this.x.redSqr(),U=this.y.redSqr(),z=U.redSqr(),Y=this.x.redAdd(U).redSqr().redISub(N).redISub(z);Y=Y.redIAdd(Y);var q=N.redAdd(N).redIAdd(N).redIAdd(this.curve.a),V=q.redSqr().redISub(Y).redISub(Y);W=V;var Z=z.redIAdd(z);Z=(Z=Z.redIAdd(Z)).redIAdd(Z),j=q.redMul(Y.redISub(V)).redISub(Z),tt=this.y.redAdd(this.y)}else{var et=this.z.redSqr(),rt=this.y.redSqr(),mt=this.x.redMul(rt),gt=this.x.redSub(et).redMul(this.x.redAdd(et));gt=gt.redAdd(gt).redIAdd(gt);var Et=mt.redIAdd(mt),Dt=(Et=Et.redIAdd(Et)).redAdd(Et);W=gt.redSqr().redISub(Dt),tt=this.y.redAdd(this.z).redSqr().redISub(rt).redISub(et);var Mt=rt.redSqr();Mt=(Mt=(Mt=Mt.redIAdd(Mt)).redIAdd(Mt)).redIAdd(Mt),j=gt.redMul(Et.redISub(W)).redISub(Mt)}return this.curve.jpoint(W,j,tt)},it.prototype._dbl=function(){var W=this.curve.a,j=this.x,tt=this.y,N=this.z,U=N.redSqr().redSqr(),z=j.redSqr(),Y=tt.redSqr(),q=z.redAdd(z).redIAdd(z).redIAdd(W.redMul(U)),V=j.redAdd(j),Z=(V=V.redIAdd(V)).redMul(Y),et=q.redSqr().redISub(Z.redAdd(Z)),rt=Z.redISub(et),mt=Y.redSqr();mt=(mt=(mt=mt.redIAdd(mt)).redIAdd(mt)).redIAdd(mt);var gt=q.redMul(rt).redISub(mt),Et=tt.redAdd(tt).redMul(N);return this.curve.jpoint(et,gt,Et)},it.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var W=this.x.redSqr(),j=this.y.redSqr(),tt=this.z.redSqr(),N=j.redSqr(),U=W.redAdd(W).redIAdd(W),z=U.redSqr(),Y=this.x.redAdd(j).redSqr().redISub(W).redISub(N),q=(Y=(Y=(Y=Y.redIAdd(Y)).redAdd(Y).redIAdd(Y)).redISub(z)).redSqr(),V=N.redIAdd(N);V=(V=(V=V.redIAdd(V)).redIAdd(V)).redIAdd(V);var Z=U.redIAdd(Y).redSqr().redISub(z).redISub(q).redISub(V),et=j.redMul(Z);et=(et=et.redIAdd(et)).redIAdd(et);var rt=this.x.redMul(q).redISub(et);rt=(rt=rt.redIAdd(rt)).redIAdd(rt);var mt=this.y.redMul(Z.redMul(V.redISub(Z)).redISub(Y.redMul(q)));mt=(mt=(mt=mt.redIAdd(mt)).redIAdd(mt)).redIAdd(mt);var gt=this.z.redAdd(Y).redSqr().redISub(tt).redISub(q);return this.curve.jpoint(rt,mt,gt)},it.prototype.mul=function(W,j){return W=new Pt(W,j),this.curve._wnafMul(this,W)},it.prototype.eq=function(W){if("affine"===W.type)return this.eq(W.toJ());if(this===W)return!0;var j=this.z.redSqr(),tt=W.z.redSqr();if(0!==this.x.redMul(tt).redISub(W.x.redMul(j)).cmpn(0))return!1;var N=j.redMul(this.z),U=tt.redMul(W.z);return 0===this.y.redMul(U).redISub(W.y.redMul(N)).cmpn(0)},it.prototype.eqXToP=function(W){var j=this.z.redSqr(),tt=W.toRed(this.curve.red).redMul(j);if(0===this.x.cmp(tt))return!0;for(var N=W.clone(),U=this.curve.redN.redMul(j);;){if(N.iadd(this.curve.n),N.cmp(this.curve.p)>=0)return!1;if(tt.redIAdd(U),0===this.x.cmp(tt))return!0}},it.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},it.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},2960:(fe,ot,kt)=>{"use strict";var it,Tt=ot,Pt=kt(4658),ht=kt(2333),D=kt(5685).assert;function $(K){this.curve="short"===K.type?new ht.short(K):"edwards"===K.type?new ht.edwards(K):new ht.mont(K),this.g=this.curve.g,this.n=this.curve.n,this.hash=K.hash,D(this.g.validate(),"Invalid curve"),D(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function X(K,W){Object.defineProperty(Tt,K,{configurable:!0,enumerable:!0,get:function(){var j=new $(W);return Object.defineProperty(Tt,K,{configurable:!0,enumerable:!0,value:j}),j}})}Tt.PresetCurve=$,X("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Pt.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),X("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Pt.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),X("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Pt.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),X("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Pt.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),X("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Pt.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),X("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Pt.sha256,gRed:!1,g:["9"]}),X("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Pt.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{it=kt(1865)}catch(K){it=void 0}X("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Pt.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",it]})},4590:(fe,ot,kt)=>{"use strict";var Tt=kt(9631),Pt=kt(1883),ht=kt(5685),ct=kt(2960),D=kt(3550),$=ht.assert,X=kt(8668),it=kt(7285);function K(W){if(!(this instanceof K))return new K(W);"string"==typeof W&&($(Object.prototype.hasOwnProperty.call(ct,W),"Unknown curve "+W),W=ct[W]),W instanceof ct.PresetCurve&&(W={curve:W}),this.curve=W.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=W.curve.g,this.g.precompute(W.curve.n.bitLength()+1),this.hash=W.hash||W.curve.hash}fe.exports=K,K.prototype.keyPair=function(j){return new X(this,j)},K.prototype.keyFromPrivate=function(j,tt){return X.fromPrivate(this,j,tt)},K.prototype.keyFromPublic=function(j,tt){return X.fromPublic(this,j,tt)},K.prototype.genKeyPair=function(j){j||(j={});for(var tt=new Pt({hash:this.hash,pers:j.pers,persEnc:j.persEnc||"utf8",entropy:j.entropy||D(this.hash.hmacStrength),entropyEnc:j.entropy&&j.entropyEnc||"utf8",nonce:this.n.toArray()}),N=this.n.byteLength(),U=this.n.sub(new Tt(2));;){var z=new Tt(tt.generate(N));if(!(z.cmp(U)>0))return z.iaddn(1),this.keyFromPrivate(z)}},K.prototype._truncateToN=function(j,tt){var N=8*j.byteLength()-this.n.bitLength();return N>0&&(j=j.ushrn(N)),!tt&&j.cmp(this.n)>=0?j.sub(this.n):j},K.prototype.sign=function(j,tt,N,U){"object"==typeof N&&(U=N,N=null),U||(U={}),tt=this.keyFromPrivate(tt,N),j=this._truncateToN(new Tt(j,16));for(var z=this.n.byteLength(),Y=tt.getPrivate().toArray("be",z),q=j.toArray("be",z),V=new Pt({hash:this.hash,entropy:Y,nonce:q,pers:U.pers,persEnc:U.persEnc||"utf8"}),Z=this.n.sub(new Tt(1)),et=0;;et++){var rt=U.k?U.k(et):new Tt(V.generate(this.n.byteLength()));if(!((rt=this._truncateToN(rt,!0)).cmpn(1)<=0||rt.cmp(Z)>=0)){var mt=this.g.mul(rt);if(!mt.isInfinity()){var gt=mt.getX(),Et=gt.umod(this.n);if(0!==Et.cmpn(0)){var Dt=rt.invm(this.n).mul(Et.mul(tt.getPrivate()).iadd(j));if(0!==(Dt=Dt.umod(this.n)).cmpn(0)){var Mt=(mt.getY().isOdd()?1:0)|(0!==gt.cmp(Et)?2:0);return U.canonical&&Dt.cmp(this.nh)>0&&(Dt=this.n.sub(Dt),Mt^=1),new it({r:Et,s:Dt,recoveryParam:Mt})}}}}}},K.prototype.verify=function(j,tt,N,U){j=this._truncateToN(new Tt(j,16)),N=this.keyFromPublic(N,U);var z=(tt=new it(tt,"hex")).r,Y=tt.s;if(z.cmpn(1)<0||z.cmp(this.n)>=0||Y.cmpn(1)<0||Y.cmp(this.n)>=0)return!1;var et,q=Y.invm(this.n),V=q.mul(j).umod(this.n),Z=q.mul(z).umod(this.n);return this.curve._maxwellTrick?!(et=this.g.jmulAdd(V,N.getPublic(),Z)).isInfinity()&&et.eqXToP(z):!(et=this.g.mulAdd(V,N.getPublic(),Z)).isInfinity()&&0===et.getX().umod(this.n).cmp(z)},K.prototype.recoverPubKey=function(W,j,tt,N){$((3&tt)===tt,"The recovery param is more than two bits"),j=new it(j,N);var U=this.n,z=new Tt(W),Y=j.r,q=j.s,V=1&tt,Z=tt>>1;if(Y.cmp(this.curve.p.umod(this.curve.n))>=0&&Z)throw new Error("Unable to find sencond key candinate");Y=this.curve.pointFromX(Z?Y.add(this.curve.n):Y,V);var et=j.r.invm(U),rt=U.sub(z).mul(et).umod(U),mt=q.mul(et).umod(U);return this.g.mulAdd(rt,Y,mt)},K.prototype.getKeyRecoveryParam=function(W,j,tt,N){if(null!==(j=new it(j,N)).recoveryParam)return j.recoveryParam;for(var U=0;U<4;U++){var z;try{z=this.recoverPubKey(W,j,U)}catch(Y){continue}if(z.eq(tt))return U}throw new Error("Unable to find valid recovery factor")}},8668:(fe,ot,kt)=>{"use strict";var Tt=kt(9631),ht=kt(5685).assert;function ct(D,$){this.ec=D,this.priv=null,this.pub=null,$.priv&&this._importPrivate($.priv,$.privEnc),$.pub&&this._importPublic($.pub,$.pubEnc)}fe.exports=ct,ct.fromPublic=function($,X,it){return X instanceof ct?X:new ct($,{pub:X,pubEnc:it})},ct.fromPrivate=function($,X,it){return X instanceof ct?X:new ct($,{priv:X,privEnc:it})},ct.prototype.validate=function(){var $=this.getPublic();return $.isInfinity()?{result:!1,reason:"Invalid public key"}:$.validate()?$.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},ct.prototype.getPublic=function($,X){return"string"==typeof $&&(X=$,$=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),X?this.pub.encode(X,$):this.pub},ct.prototype.getPrivate=function($){return"hex"===$?this.priv.toString(16,2):this.priv},ct.prototype._importPrivate=function($,X){this.priv=new Tt($,X||16),this.priv=this.priv.umod(this.ec.curve.n)},ct.prototype._importPublic=function($,X){if($.x||$.y)return"mont"===this.ec.curve.type?ht($.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&ht($.x&&$.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point($.x,$.y));this.pub=this.ec.curve.decodePoint($,X)},ct.prototype.derive=function($){return $.validate()||ht($.validate(),"public point not validated"),$.mul(this.priv).getX()},ct.prototype.sign=function($,X,it){return this.ec.sign($,this,X,it)},ct.prototype.verify=function($,X){return this.ec.verify($,X,this)},ct.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},7285:(fe,ot,kt)=>{"use strict";var Tt=kt(9631),Pt=kt(5685),ht=Pt.assert;function ct(K,W){if(K instanceof ct)return K;this._importDER(K,W)||(ht(K.r&&K.s,"Signature without r or s"),this.r=new Tt(K.r,16),this.s=new Tt(K.s,16),this.recoveryParam=void 0===K.recoveryParam?null:K.recoveryParam)}function D(){this.place=0}function $(K,W){var j=K[W.place++];if(!(128&j))return j;var tt=15&j;if(0===tt||tt>4)return!1;for(var N=0,U=0,z=W.place;U<tt;U++,z++)N<<=8,N|=K[z],N>>>=0;return!(N<=127)&&(W.place=z,N)}function X(K){for(var W=0,j=K.length-1;!K[W]&&!(128&K[W+1])&&W<j;)W++;return 0===W?K:K.slice(W)}function it(K,W){if(W<128)K.push(W);else{var j=1+(Math.log(W)/Math.LN2>>>3);for(K.push(128|j);--j;)K.push(W>>>(j<<3)&255);K.push(W)}}fe.exports=ct,ct.prototype._importDER=function(W,j){W=Pt.toArray(W,j);var tt=new D;if(48!==W[tt.place++])return!1;var N=$(W,tt);if(!1===N||N+tt.place!==W.length||2!==W[tt.place++])return!1;var U=$(W,tt);if(!1===U)return!1;var z=W.slice(tt.place,U+tt.place);if(tt.place+=U,2!==W[tt.place++])return!1;var Y=$(W,tt);if(!1===Y||W.length!==Y+tt.place)return!1;var q=W.slice(tt.place,Y+tt.place);if(0===z[0]){if(!(128&z[1]))return!1;z=z.slice(1)}if(0===q[0]){if(!(128&q[1]))return!1;q=q.slice(1)}return this.r=new Tt(z),this.s=new Tt(q),this.recoveryParam=null,!0},ct.prototype.toDER=function(W){var j=this.r.toArray(),tt=this.s.toArray();for(128&j[0]&&(j=[0].concat(j)),128&tt[0]&&(tt=[0].concat(tt)),j=X(j),tt=X(tt);!(tt[0]||128&tt[1]);)tt=tt.slice(1);var N=[2];it(N,j.length),(N=N.concat(j)).push(2),it(N,tt.length);var U=N.concat(tt),z=[48];return it(z,U.length),z=z.concat(U),Pt.encode(z,W)}},876:(fe,ot,kt)=>{"use strict";var Tt=kt(4658),Pt=kt(2960),ht=kt(5685),ct=ht.assert,D=ht.parseBytes,$=kt(9517),X=kt(8335);function it(K){if(ct("ed25519"===K,"only tested with ed25519 so far"),!(this instanceof it))return new it(K);this.curve=K=Pt[K].curve,this.g=K.g,this.g.precompute(K.n.bitLength()+1),this.pointClass=K.point().constructor,this.encodingLength=Math.ceil(K.n.bitLength()/8),this.hash=Tt.sha512}fe.exports=it,it.prototype.sign=function(W,j){W=D(W);var tt=this.keyFromSecret(j),N=this.hashInt(tt.messagePrefix(),W),U=this.g.mul(N),z=this.encodePoint(U),Y=this.hashInt(z,tt.pubBytes(),W).mul(tt.priv()),q=N.add(Y).umod(this.curve.n);return this.makeSignature({R:U,S:q,Rencoded:z})},it.prototype.verify=function(W,j,tt){W=D(W),j=this.makeSignature(j);var N=this.keyFromPublic(tt),U=this.hashInt(j.Rencoded(),N.pubBytes(),W),z=this.g.mul(j.S());return j.R().add(N.pub().mul(U)).eq(z)},it.prototype.hashInt=function(){for(var W=this.hash(),j=0;j<arguments.length;j++)W.update(arguments[j]);return ht.intFromLE(W.digest()).umod(this.curve.n)},it.prototype.keyFromPublic=function(W){return $.fromPublic(this,W)},it.prototype.keyFromSecret=function(W){return $.fromSecret(this,W)},it.prototype.makeSignature=function(W){return W instanceof X?W:new X(this,W)},it.prototype.encodePoint=function(W){var j=W.getY().toArray("le",this.encodingLength);return j[this.encodingLength-1]|=W.getX().isOdd()?128:0,j},it.prototype.decodePoint=function(W){var j=(W=ht.parseBytes(W)).length-1,tt=W.slice(0,j).concat(-129&W[j]),N=0!=(128&W[j]),U=ht.intFromLE(tt);return this.curve.pointFromY(U,N)},it.prototype.encodeInt=function(W){return W.toArray("le",this.encodingLength)},it.prototype.decodeInt=function(W){return ht.intFromLE(W)},it.prototype.isPoint=function(W){return W instanceof this.pointClass}},9517:(fe,ot,kt)=>{"use strict";var Tt=kt(5685),Pt=Tt.assert,ht=Tt.parseBytes,ct=Tt.cachedProperty;function D($,X){this.eddsa=$,this._secret=ht(X.secret),$.isPoint(X.pub)?this._pub=X.pub:this._pubBytes=ht(X.pub)}D.fromPublic=function(X,it){return it instanceof D?it:new D(X,{pub:it})},D.fromSecret=function(X,it){return it instanceof D?it:new D(X,{secret:it})},D.prototype.secret=function(){return this._secret},ct(D,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),ct(D,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),ct(D,"privBytes",function(){var X=this.eddsa,it=this.hash(),K=X.encodingLength-1,W=it.slice(0,X.encodingLength);return W[0]&=248,W[K]&=127,W[K]|=64,W}),ct(D,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),ct(D,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),ct(D,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),D.prototype.sign=function(X){return Pt(this._secret,"KeyPair can only verify"),this.eddsa.sign(X,this)},D.prototype.verify=function(X,it){return this.eddsa.verify(X,it,this)},D.prototype.getSecret=function(X){return Pt(this._secret,"KeyPair is public only"),Tt.encode(this.secret(),X)},D.prototype.getPublic=function(X){return Tt.encode(this.pubBytes(),X)},fe.exports=D},8335:(fe,ot,kt)=>{"use strict";var Tt=kt(9631),Pt=kt(5685),ht=Pt.assert,ct=Pt.cachedProperty,D=Pt.parseBytes;function $(X,it){this.eddsa=X,"object"!=typeof it&&(it=D(it)),Array.isArray(it)&&(it={R:it.slice(0,X.encodingLength),S:it.slice(X.encodingLength)}),ht(it.R&&it.S,"Signature without R or S"),X.isPoint(it.R)&&(this._R=it.R),it.S instanceof Tt&&(this._S=it.S),this._Rencoded=Array.isArray(it.R)?it.R:it.Rencoded,this._Sencoded=Array.isArray(it.S)?it.S:it.Sencoded}ct($,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),ct($,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),ct($,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),ct($,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),$.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},$.prototype.toHex=function(){return Pt.encode(this.toBytes(),"hex").toUpperCase()},fe.exports=$},1865:fe=>{fe.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},5685:(fe,ot,kt)=>{"use strict";var Tt=ot,Pt=kt(9631),ht=kt(4725),ct=kt(1171);Tt.assert=ht,Tt.toArray=ct.toArray,Tt.zero2=ct.zero2,Tt.toHex=ct.toHex,Tt.encode=ct.encode,Tt.getNAF=function(W,j,tt){var N=new Array(Math.max(W.bitLength(),tt)+1);N.fill(0);for(var U=1<<j+1,z=W.clone(),Y=0;Y<N.length;Y++){var q,V=z.andln(U-1);z.isOdd()?z.isubn(q=V>(U>>1)-1?(U>>1)-V:V):q=0,N[Y]=q,z.iushrn(1)}return N},Tt.getJSF=function(W,j){var tt=[[],[]];W=W.clone(),j=j.clone();for(var z,N=0,U=0;W.cmpn(-N)>0||j.cmpn(-U)>0;){var V,Z,Y=W.andln(3)+N&3,q=j.andln(3)+U&3;3===Y&&(Y=-1),3===q&&(q=-1),V=0==(1&Y)?0:3!=(z=W.andln(7)+N&7)&&5!==z||2!==q?Y:-Y,tt[0].push(V),Z=0==(1&q)?0:3!=(z=j.andln(7)+U&7)&&5!==z||2!==Y?q:-q,tt[1].push(Z),2*N===V+1&&(N=1-N),2*U===Z+1&&(U=1-U),W.iushrn(1),j.iushrn(1)}return tt},Tt.cachedProperty=function(W,j,tt){var N="_"+j;W.prototype[j]=function(){return void 0!==this[N]?this[N]:this[N]=tt.call(this)}},Tt.parseBytes=function(W){return"string"==typeof W?Tt.toArray(W,"hex"):W},Tt.intFromLE=function(W){return new Pt(W,"hex","le")}},9631:function(fe,ot,kt){!function(Tt,Pt){"use strict";function ht(T,h){if(!T)throw new Error(h||"Assertion failed")}function ct(T,h){T.super_=h;var m=function(){};m.prototype=h.prototype,T.prototype=new m,T.prototype.constructor=T}function D(T,h,m){if(D.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,null!==T&&(("le"===h||"be"===h)&&(m=h,h=10),this._init(T||0,h||10,m||"be"))}var $;"object"==typeof Tt?Tt.exports=D:Pt.BN=D,D.BN=D,D.wordSize=26;try{$="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:kt(5568).Buffer}catch(T){}function X(T,h){var m=T.charCodeAt(h);return m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:m-48&15}function it(T,h,m){var y=X(T,m);return m-1>=h&&(y|=X(T,m-1)<<4),y}function K(T,h,m,y){for(var v=0,M=Math.min(T.length,m),S=h;S<M;S++){var P=T.charCodeAt(S)-48;v*=y,v+=P>=49?P-49+10:P>=17?P-17+10:P}return v}D.isBN=function(h){return h instanceof D||null!==h&&"object"==typeof h&&h.constructor.wordSize===D.wordSize&&Array.isArray(h.words)},D.max=function(h,m){return h.cmp(m)>0?h:m},D.min=function(h,m){return h.cmp(m)<0?h:m},D.prototype._init=function(h,m,y){if("number"==typeof h)return this._initNumber(h,m,y);if("object"==typeof h)return this._initArray(h,m,y);"hex"===m&&(m=16),ht(m===(0|m)&&m>=2&&m<=36);var v=0;"-"===(h=h.toString().replace(/\s+/g,""))[0]&&(v++,this.negative=1),v<h.length&&(16===m?this._parseHex(h,v,y):(this._parseBase(h,m,v),"le"===y&&this._initArray(this.toArray(),m,y)))},D.prototype._initNumber=function(h,m,y){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[67108863&h],this.length=1):h<4503599627370496?(this.words=[67108863&h,h/67108864&67108863],this.length=2):(ht(h<9007199254740992),this.words=[67108863&h,h/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),m,y)},D.prototype._initArray=function(h,m,y){if(ht("number"==typeof h.length),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var M,S,P=0;if("be"===y)for(v=h.length-1,M=0;v>=0;v-=3)this.words[M]|=(S=h[v]|h[v-1]<<8|h[v-2]<<16)<<P&67108863,this.words[M+1]=S>>>26-P&67108863,(P+=24)>=26&&(P-=26,M++);else if("le"===y)for(v=0,M=0;v<h.length;v+=3)this.words[M]|=(S=h[v]|h[v+1]<<8|h[v+2]<<16)<<P&67108863,this.words[M+1]=S>>>26-P&67108863,(P+=24)>=26&&(P-=26,M++);return this.strip()},D.prototype._parseHex=function(h,m,y){this.length=Math.ceil((h.length-m)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var P,M=0,S=0;if("be"===y)for(v=h.length-1;v>=m;v-=2)P=it(h,m,v)<<M,this.words[S]|=67108863&P,M>=18?(M-=18,this.words[S+=1]|=P>>>26):M+=8;else for(v=(h.length-m)%2==0?m+1:m;v<h.length;v+=2)P=it(h,m,v)<<M,this.words[S]|=67108863&P,M>=18?(M-=18,this.words[S+=1]|=P>>>26):M+=8;this.strip()},D.prototype._parseBase=function(h,m,y){this.words=[0],this.length=1;for(var v=0,M=1;M<=67108863;M*=m)v++;v--,M=M/m|0;for(var S=h.length-y,P=S%v,C=Math.min(S,S-P)+y,d=0,k=y;k<C;k+=v)d=K(h,k,k+v,m),this.imuln(M),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==P){var nt=1;for(d=K(h,k,h.length,m),k=0;k<P;k++)nt*=m;this.imuln(nt),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},D.prototype.copy=function(h){h.words=new Array(this.length);for(var m=0;m<this.length;m++)h.words[m]=this.words[m];h.length=this.length,h.negative=this.negative,h.red=this.red},D.prototype.clone=function(){var h=new D(null);return this.copy(h),h},D.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},D.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},D.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},D.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var W=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],j=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],tt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function U(T,h,m){m.negative=h.negative^T.negative;var y=T.length+h.length|0;m.length=y,y=y-1|0;var v=0|T.words[0],M=0|h.words[0],S=v*M,C=S/67108864|0;m.words[0]=67108863&S;for(var d=1;d<y;d++){for(var k=C>>>26,nt=67108863&C,Q=Math.min(d,h.length-1),J=Math.max(0,d-T.length+1);J<=Q;J++)k+=(S=(v=0|T.words[d-J|0])*(M=0|h.words[J])+nt)/67108864|0,nt=67108863&S;m.words[d]=0|nt,C=0|k}return 0!==C?m.words[d]=0|C:m.length--,m.strip()}D.prototype.toString=function(h,m){var y;if(m=0|m||1,16===(h=h||10)||"hex"===h){y="";for(var v=0,M=0,S=0;S<this.length;S++){var P=this.words[S],C=(16777215&(P<<v|M)).toString(16);y=0!=(M=P>>>24-v&16777215)||S!==this.length-1?W[6-C.length]+C+y:C+y,(v+=2)>=26&&(v-=26,S--)}for(0!==M&&(y=M.toString(16)+y);y.length%m!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(h===(0|h)&&h>=2&&h<=36){var d=j[h],k=tt[h];y="";var nt=this.clone();for(nt.negative=0;!nt.isZero();){var Q=nt.modn(k).toString(h);y=(nt=nt.idivn(k)).isZero()?Q+y:W[d-Q.length]+Q+y}for(this.isZero()&&(y="0"+y);y.length%m!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}ht(!1,"Base should be between 2 and 36")},D.prototype.toNumber=function(){var h=this.words[0];return 2===this.length?h+=67108864*this.words[1]:3===this.length&&1===this.words[2]?h+=4503599627370496+67108864*this.words[1]:this.length>2&&ht(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-h:h},D.prototype.toJSON=function(){return this.toString(16)},D.prototype.toBuffer=function(h,m){return ht(void 0!==$),this.toArrayLike($,h,m)},D.prototype.toArray=function(h,m){return this.toArrayLike(Array,h,m)},D.prototype.toArrayLike=function(h,m,y){var v=this.byteLength(),M=y||Math.max(1,v);ht(v<=M,"byte array longer than desired length"),ht(M>0,"Requested array length <= 0"),this.strip();var C,d,S="le"===m,P=new h(M),k=this.clone();if(S){for(d=0;!k.isZero();d++)C=k.andln(255),k.iushrn(8),P[d]=C;for(;d<M;d++)P[d]=0}else{for(d=0;d<M-v;d++)P[d]=0;for(d=0;!k.isZero();d++)C=k.andln(255),k.iushrn(8),P[M-d-1]=C}return P},D.prototype._countBits=Math.clz32?function(h){return 32-Math.clz32(h)}:function(h){var m=h,y=0;return m>=4096&&(y+=13,m>>>=13),m>=64&&(y+=7,m>>>=7),m>=8&&(y+=4,m>>>=4),m>=2&&(y+=2,m>>>=2),y+m},D.prototype._zeroBits=function(h){if(0===h)return 26;var m=h,y=0;return 0==(8191&m)&&(y+=13,m>>>=13),0==(127&m)&&(y+=7,m>>>=7),0==(15&m)&&(y+=4,m>>>=4),0==(3&m)&&(y+=2,m>>>=2),0==(1&m)&&y++,y},D.prototype.bitLength=function(){var m=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+m},D.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,m=0;m<this.length;m++){var y=this._zeroBits(this.words[m]);if(h+=y,26!==y)break}return h},D.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},D.prototype.toTwos=function(h){return 0!==this.negative?this.abs().inotn(h).iaddn(1):this.clone()},D.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},D.prototype.isNeg=function(){return 0!==this.negative},D.prototype.neg=function(){return this.clone().ineg()},D.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},D.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var m=0;m<h.length;m++)this.words[m]=this.words[m]|h.words[m];return this.strip()},D.prototype.ior=function(h){return ht(0==(this.negative|h.negative)),this.iuor(h)},D.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},D.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},D.prototype.iuand=function(h){var m;m=this.length>h.length?h:this;for(var y=0;y<m.length;y++)this.words[y]=this.words[y]&h.words[y];return this.length=m.length,this.strip()},D.prototype.iand=function(h){return ht(0==(this.negative|h.negative)),this.iuand(h)},D.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},D.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},D.prototype.iuxor=function(h){var m,y;this.length>h.length?(m=this,y=h):(m=h,y=this);for(var v=0;v<y.length;v++)this.words[v]=m.words[v]^y.words[v];if(this!==m)for(;v<m.length;v++)this.words[v]=m.words[v];return this.length=m.length,this.strip()},D.prototype.ixor=function(h){return ht(0==(this.negative|h.negative)),this.iuxor(h)},D.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},D.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},D.prototype.inotn=function(h){ht("number"==typeof h&&h>=0);var m=0|Math.ceil(h/26),y=h%26;this._expand(m),y>0&&m--;for(var v=0;v<m;v++)this.words[v]=67108863&~this.words[v];return y>0&&(this.words[v]=~this.words[v]&67108863>>26-y),this.strip()},D.prototype.notn=function(h){return this.clone().inotn(h)},D.prototype.setn=function(h,m){ht("number"==typeof h&&h>=0);var y=h/26|0,v=h%26;return this._expand(y+1),this.words[y]=m?this.words[y]|1<<v:this.words[y]&~(1<<v),this.strip()},D.prototype.iadd=function(h){var m,y,v;if(0!==this.negative&&0===h.negative)return this.negative=0,m=this.isub(h),this.negative^=1,this._normSign();if(0===this.negative&&0!==h.negative)return h.negative=0,m=this.isub(h),h.negative=1,m._normSign();this.length>h.length?(y=this,v=h):(y=h,v=this);for(var M=0,S=0;S<v.length;S++)this.words[S]=67108863&(m=(0|y.words[S])+(0|v.words[S])+M),M=m>>>26;for(;0!==M&&S<y.length;S++)this.words[S]=67108863&(m=(0|y.words[S])+M),M=m>>>26;if(this.length=y.length,0!==M)this.words[this.length]=M,this.length++;else if(y!==this)for(;S<y.length;S++)this.words[S]=y.words[S];return this},D.prototype.add=function(h){var m;return 0!==h.negative&&0===this.negative?(h.negative=0,m=this.sub(h),h.negative^=1,m):0===h.negative&&0!==this.negative?(this.negative=0,m=h.sub(this),this.negative=1,m):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},D.prototype.isub=function(h){if(0!==h.negative){h.negative=0;var m=this.iadd(h);return h.negative=1,m._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var v,M,y=this.cmp(h);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(v=this,M=h):(v=h,M=this);for(var S=0,P=0;P<M.length;P++)S=(m=(0|v.words[P])-(0|M.words[P])+S)>>26,this.words[P]=67108863&m;for(;0!==S&&P<v.length;P++)S=(m=(0|v.words[P])+S)>>26,this.words[P]=67108863&m;if(0===S&&P<v.length&&v!==this)for(;P<v.length;P++)this.words[P]=v.words[P];return this.length=Math.max(this.length,P),v!==this&&(this.negative=1),this.strip()},D.prototype.sub=function(h){return this.clone().isub(h)};var z=function(h,m,y){var C,d,k,v=h.words,M=m.words,S=y.words,P=0,nt=0|v[0],Q=8191&nt,J=nt>>>13,xt=0|v[1],wt=8191&xt,Ft=xt>>>13,Gt=0|v[2],It=8191&Gt,_t=Gt>>>13,Zt=0|v[3],Ot=8191&Zt,At=Zt>>>13,jt=0|v[4],Kt=8191&jt,Vt=jt>>>13,Ce=0|v[5],Ht=8191&Ce,ge=Ce>>>13,yi=0|v[6],we=8191&yi,de=yi>>>13,Fe=0|v[7],Yt=8191&Fe,ee=Fe>>>13,Re=0|v[8],Nt=8191&Re,vt=Re>>>13,at=0|v[9],qt=8191&at,he=at>>>13,Xe=0|M[0],ve=8191&Xe,Te=Xe>>>13,Qi=0|M[1],ni=8191&Qi,ei=Qi>>>13,Ui=0|M[2],mi=8191&Ui,bi=Ui>>>13,En=0|M[3],_i=8191&En,He=En>>>13,on=0|M[4],Di=8191&on,Pe=on>>>13,ri=0|M[5],Ee=8191&ri,ne=ri>>>13,Se=0|M[6],ae=8191&Se,Me=Se>>>13,$e=0|M[7],te=8191&$e,Ie=$e>>>13,tn=0|M[8],qe=8191&tn,ci=tn>>>13,Pn=0|M[9],ui=8191&Pn,oi=Pn>>>13;y.negative=h.negative^m.negative,y.length=19;var en=(P+(C=Math.imul(Q,ve))|0)+((8191&(d=(d=Math.imul(Q,Te))+Math.imul(J,ve)|0))<<13)|0;P=((k=Math.imul(J,Te))+(d>>>13)|0)+(en>>>26)|0,en&=67108863,C=Math.imul(wt,ve),d=(d=Math.imul(wt,Te))+Math.imul(Ft,ve)|0,k=Math.imul(Ft,Te);var sn=(P+(C=C+Math.imul(Q,ni)|0)|0)+((8191&(d=(d=d+Math.imul(Q,ei)|0)+Math.imul(J,ni)|0))<<13)|0;P=((k=k+Math.imul(J,ei)|0)+(d>>>13)|0)+(sn>>>26)|0,sn&=67108863,C=Math.imul(It,ve),d=(d=Math.imul(It,Te))+Math.imul(_t,ve)|0,k=Math.imul(_t,Te),C=C+Math.imul(wt,ni)|0,d=(d=d+Math.imul(wt,ei)|0)+Math.imul(Ft,ni)|0,k=k+Math.imul(Ft,ei)|0;var Tn=(P+(C=C+Math.imul(Q,mi)|0)|0)+((8191&(d=(d=d+Math.imul(Q,bi)|0)+Math.imul(J,mi)|0))<<13)|0;P=((k=k+Math.imul(J,bi)|0)+(d>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,C=Math.imul(Ot,ve),d=(d=Math.imul(Ot,Te))+Math.imul(At,ve)|0,k=Math.imul(At,Te),C=C+Math.imul(It,ni)|0,d=(d=d+Math.imul(It,ei)|0)+Math.imul(_t,ni)|0,k=k+Math.imul(_t,ei)|0,C=C+Math.imul(wt,mi)|0,d=(d=d+Math.imul(wt,bi)|0)+Math.imul(Ft,mi)|0,k=k+Math.imul(Ft,bi)|0;var Er=(P+(C=C+Math.imul(Q,_i)|0)|0)+((8191&(d=(d=d+Math.imul(Q,He)|0)+Math.imul(J,_i)|0))<<13)|0;P=((k=k+Math.imul(J,He)|0)+(d>>>13)|0)+(Er>>>26)|0,Er&=67108863,C=Math.imul(Kt,ve),d=(d=Math.imul(Kt,Te))+Math.imul(Vt,ve)|0,k=Math.imul(Vt,Te),C=C+Math.imul(Ot,ni)|0,d=(d=d+Math.imul(Ot,ei)|0)+Math.imul(At,ni)|0,k=k+Math.imul(At,ei)|0,C=C+Math.imul(It,mi)|0,d=(d=d+Math.imul(It,bi)|0)+Math.imul(_t,mi)|0,k=k+Math.imul(_t,bi)|0,C=C+Math.imul(wt,_i)|0,d=(d=d+Math.imul(wt,He)|0)+Math.imul(Ft,_i)|0,k=k+Math.imul(Ft,He)|0;var In=(P+(C=C+Math.imul(Q,Di)|0)|0)+((8191&(d=(d=d+Math.imul(Q,Pe)|0)+Math.imul(J,Di)|0))<<13)|0;P=((k=k+Math.imul(J,Pe)|0)+(d>>>13)|0)+(In>>>26)|0,In&=67108863,C=Math.imul(Ht,ve),d=(d=Math.imul(Ht,Te))+Math.imul(ge,ve)|0,k=Math.imul(ge,Te),C=C+Math.imul(Kt,ni)|0,d=(d=d+Math.imul(Kt,ei)|0)+Math.imul(Vt,ni)|0,k=k+Math.imul(Vt,ei)|0,C=C+Math.imul(Ot,mi)|0,d=(d=d+Math.imul(Ot,bi)|0)+Math.imul(At,mi)|0,k=k+Math.imul(At,bi)|0,C=C+Math.imul(It,_i)|0,d=(d=d+Math.imul(It,He)|0)+Math.imul(_t,_i)|0,k=k+Math.imul(_t,He)|0,C=C+Math.imul(wt,Di)|0,d=(d=d+Math.imul(wt,Pe)|0)+Math.imul(Ft,Di)|0,k=k+Math.imul(Ft,Pe)|0;var Yn=(P+(C=C+Math.imul(Q,Ee)|0)|0)+((8191&(d=(d=d+Math.imul(Q,ne)|0)+Math.imul(J,Ee)|0))<<13)|0;P=((k=k+Math.imul(J,ne)|0)+(d>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,C=Math.imul(we,ve),d=(d=Math.imul(we,Te))+Math.imul(de,ve)|0,k=Math.imul(de,Te),C=C+Math.imul(Ht,ni)|0,d=(d=d+Math.imul(Ht,ei)|0)+Math.imul(ge,ni)|0,k=k+Math.imul(ge,ei)|0,C=C+Math.imul(Kt,mi)|0,d=(d=d+Math.imul(Kt,bi)|0)+Math.imul(Vt,mi)|0,k=k+Math.imul(Vt,bi)|0,C=C+Math.imul(Ot,_i)|0,d=(d=d+Math.imul(Ot,He)|0)+Math.imul(At,_i)|0,k=k+Math.imul(At,He)|0,C=C+Math.imul(It,Di)|0,d=(d=d+Math.imul(It,Pe)|0)+Math.imul(_t,Di)|0,k=k+Math.imul(_t,Pe)|0,C=C+Math.imul(wt,Ee)|0,d=(d=d+Math.imul(wt,ne)|0)+Math.imul(Ft,Ee)|0,k=k+Math.imul(Ft,ne)|0;var nn=(P+(C=C+Math.imul(Q,ae)|0)|0)+((8191&(d=(d=d+Math.imul(Q,Me)|0)+Math.imul(J,ae)|0))<<13)|0;P=((k=k+Math.imul(J,Me)|0)+(d>>>13)|0)+(nn>>>26)|0,nn&=67108863,C=Math.imul(Yt,ve),d=(d=Math.imul(Yt,Te))+Math.imul(ee,ve)|0,k=Math.imul(ee,Te),C=C+Math.imul(we,ni)|0,d=(d=d+Math.imul(we,ei)|0)+Math.imul(de,ni)|0,k=k+Math.imul(de,ei)|0,C=C+Math.imul(Ht,mi)|0,d=(d=d+Math.imul(Ht,bi)|0)+Math.imul(ge,mi)|0,k=k+Math.imul(ge,bi)|0,C=C+Math.imul(Kt,_i)|0,d=(d=d+Math.imul(Kt,He)|0)+Math.imul(Vt,_i)|0,k=k+Math.imul(Vt,He)|0,C=C+Math.imul(Ot,Di)|0,d=(d=d+Math.imul(Ot,Pe)|0)+Math.imul(At,Di)|0,k=k+Math.imul(At,Pe)|0,C=C+Math.imul(It,Ee)|0,d=(d=d+Math.imul(It,ne)|0)+Math.imul(_t,Ee)|0,k=k+Math.imul(_t,ne)|0,C=C+Math.imul(wt,ae)|0,d=(d=d+Math.imul(wt,Me)|0)+Math.imul(Ft,ae)|0,k=k+Math.imul(Ft,Me)|0;var Or=(P+(C=C+Math.imul(Q,te)|0)|0)+((8191&(d=(d=d+Math.imul(Q,Ie)|0)+Math.imul(J,te)|0))<<13)|0;P=((k=k+Math.imul(J,Ie)|0)+(d>>>13)|0)+(Or>>>26)|0,Or&=67108863,C=Math.imul(Nt,ve),d=(d=Math.imul(Nt,Te))+Math.imul(vt,ve)|0,k=Math.imul(vt,Te),C=C+Math.imul(Yt,ni)|0,d=(d=d+Math.imul(Yt,ei)|0)+Math.imul(ee,ni)|0,k=k+Math.imul(ee,ei)|0,C=C+Math.imul(we,mi)|0,d=(d=d+Math.imul(we,bi)|0)+Math.imul(de,mi)|0,k=k+Math.imul(de,bi)|0,C=C+Math.imul(Ht,_i)|0,d=(d=d+Math.imul(Ht,He)|0)+Math.imul(ge,_i)|0,k=k+Math.imul(ge,He)|0,C=C+Math.imul(Kt,Di)|0,d=(d=d+Math.imul(Kt,Pe)|0)+Math.imul(Vt,Di)|0,k=k+Math.imul(Vt,Pe)|0,C=C+Math.imul(Ot,Ee)|0,d=(d=d+Math.imul(Ot,ne)|0)+Math.imul(At,Ee)|0,k=k+Math.imul(At,ne)|0,C=C+Math.imul(It,ae)|0,d=(d=d+Math.imul(It,Me)|0)+Math.imul(_t,ae)|0,k=k+Math.imul(_t,Me)|0,C=C+Math.imul(wt,te)|0,d=(d=d+Math.imul(wt,Ie)|0)+Math.imul(Ft,te)|0,k=k+Math.imul(Ft,Ie)|0;var fr=(P+(C=C+Math.imul(Q,qe)|0)|0)+((8191&(d=(d=d+Math.imul(Q,ci)|0)+Math.imul(J,qe)|0))<<13)|0;P=((k=k+Math.imul(J,ci)|0)+(d>>>13)|0)+(fr>>>26)|0,fr&=67108863,C=Math.imul(qt,ve),d=(d=Math.imul(qt,Te))+Math.imul(he,ve)|0,k=Math.imul(he,Te),C=C+Math.imul(Nt,ni)|0,d=(d=d+Math.imul(Nt,ei)|0)+Math.imul(vt,ni)|0,k=k+Math.imul(vt,ei)|0,C=C+Math.imul(Yt,mi)|0,d=(d=d+Math.imul(Yt,bi)|0)+Math.imul(ee,mi)|0,k=k+Math.imul(ee,bi)|0,C=C+Math.imul(we,_i)|0,d=(d=d+Math.imul(we,He)|0)+Math.imul(de,_i)|0,k=k+Math.imul(de,He)|0,C=C+Math.imul(Ht,Di)|0,d=(d=d+Math.imul(Ht,Pe)|0)+Math.imul(ge,Di)|0,k=k+Math.imul(ge,Pe)|0,C=C+Math.imul(Kt,Ee)|0,d=(d=d+Math.imul(Kt,ne)|0)+Math.imul(Vt,Ee)|0,k=k+Math.imul(Vt,ne)|0,C=C+Math.imul(Ot,ae)|0,d=(d=d+Math.imul(Ot,Me)|0)+Math.imul(At,ae)|0,k=k+Math.imul(At,Me)|0,C=C+Math.imul(It,te)|0,d=(d=d+Math.imul(It,Ie)|0)+Math.imul(_t,te)|0,k=k+Math.imul(_t,Ie)|0,C=C+Math.imul(wt,qe)|0,d=(d=d+Math.imul(wt,ci)|0)+Math.imul(Ft,qe)|0,k=k+Math.imul(Ft,ci)|0;var dr=(P+(C=C+Math.imul(Q,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Q,oi)|0)+Math.imul(J,ui)|0))<<13)|0;P=((k=k+Math.imul(J,oi)|0)+(d>>>13)|0)+(dr>>>26)|0,dr&=67108863,C=Math.imul(qt,ni),d=(d=Math.imul(qt,ei))+Math.imul(he,ni)|0,k=Math.imul(he,ei),C=C+Math.imul(Nt,mi)|0,d=(d=d+Math.imul(Nt,bi)|0)+Math.imul(vt,mi)|0,k=k+Math.imul(vt,bi)|0,C=C+Math.imul(Yt,_i)|0,d=(d=d+Math.imul(Yt,He)|0)+Math.imul(ee,_i)|0,k=k+Math.imul(ee,He)|0,C=C+Math.imul(we,Di)|0,d=(d=d+Math.imul(we,Pe)|0)+Math.imul(de,Di)|0,k=k+Math.imul(de,Pe)|0,C=C+Math.imul(Ht,Ee)|0,d=(d=d+Math.imul(Ht,ne)|0)+Math.imul(ge,Ee)|0,k=k+Math.imul(ge,ne)|0,C=C+Math.imul(Kt,ae)|0,d=(d=d+Math.imul(Kt,Me)|0)+Math.imul(Vt,ae)|0,k=k+Math.imul(Vt,Me)|0,C=C+Math.imul(Ot,te)|0,d=(d=d+Math.imul(Ot,Ie)|0)+Math.imul(At,te)|0,k=k+Math.imul(At,Ie)|0,C=C+Math.imul(It,qe)|0,d=(d=d+Math.imul(It,ci)|0)+Math.imul(_t,qe)|0,k=k+Math.imul(_t,ci)|0;var Un=(P+(C=C+Math.imul(wt,ui)|0)|0)+((8191&(d=(d=d+Math.imul(wt,oi)|0)+Math.imul(Ft,ui)|0))<<13)|0;P=((k=k+Math.imul(Ft,oi)|0)+(d>>>13)|0)+(Un>>>26)|0,Un&=67108863,C=Math.imul(qt,mi),d=(d=Math.imul(qt,bi))+Math.imul(he,mi)|0,k=Math.imul(he,bi),C=C+Math.imul(Nt,_i)|0,d=(d=d+Math.imul(Nt,He)|0)+Math.imul(vt,_i)|0,k=k+Math.imul(vt,He)|0,C=C+Math.imul(Yt,Di)|0,d=(d=d+Math.imul(Yt,Pe)|0)+Math.imul(ee,Di)|0,k=k+Math.imul(ee,Pe)|0,C=C+Math.imul(we,Ee)|0,d=(d=d+Math.imul(we,ne)|0)+Math.imul(de,Ee)|0,k=k+Math.imul(de,ne)|0,C=C+Math.imul(Ht,ae)|0,d=(d=d+Math.imul(Ht,Me)|0)+Math.imul(ge,ae)|0,k=k+Math.imul(ge,Me)|0,C=C+Math.imul(Kt,te)|0,d=(d=d+Math.imul(Kt,Ie)|0)+Math.imul(Vt,te)|0,k=k+Math.imul(Vt,Ie)|0,C=C+Math.imul(Ot,qe)|0,d=(d=d+Math.imul(Ot,ci)|0)+Math.imul(At,qe)|0,k=k+Math.imul(At,ci)|0;var xo=(P+(C=C+Math.imul(It,ui)|0)|0)+((8191&(d=(d=d+Math.imul(It,oi)|0)+Math.imul(_t,ui)|0))<<13)|0;P=((k=k+Math.imul(_t,oi)|0)+(d>>>13)|0)+(xo>>>26)|0,xo&=67108863,C=Math.imul(qt,_i),d=(d=Math.imul(qt,He))+Math.imul(he,_i)|0,k=Math.imul(he,He),C=C+Math.imul(Nt,Di)|0,d=(d=d+Math.imul(Nt,Pe)|0)+Math.imul(vt,Di)|0,k=k+Math.imul(vt,Pe)|0,C=C+Math.imul(Yt,Ee)|0,d=(d=d+Math.imul(Yt,ne)|0)+Math.imul(ee,Ee)|0,k=k+Math.imul(ee,ne)|0,C=C+Math.imul(we,ae)|0,d=(d=d+Math.imul(we,Me)|0)+Math.imul(de,ae)|0,k=k+Math.imul(de,Me)|0,C=C+Math.imul(Ht,te)|0,d=(d=d+Math.imul(Ht,Ie)|0)+Math.imul(ge,te)|0,k=k+Math.imul(ge,Ie)|0,C=C+Math.imul(Kt,qe)|0,d=(d=d+Math.imul(Kt,ci)|0)+Math.imul(Vt,qe)|0,k=k+Math.imul(Vt,ci)|0;var ki=(P+(C=C+Math.imul(Ot,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Ot,oi)|0)+Math.imul(At,ui)|0))<<13)|0;P=((k=k+Math.imul(At,oi)|0)+(d>>>13)|0)+(ki>>>26)|0,ki&=67108863,C=Math.imul(qt,Di),d=(d=Math.imul(qt,Pe))+Math.imul(he,Di)|0,k=Math.imul(he,Pe),C=C+Math.imul(Nt,Ee)|0,d=(d=d+Math.imul(Nt,ne)|0)+Math.imul(vt,Ee)|0,k=k+Math.imul(vt,ne)|0,C=C+Math.imul(Yt,ae)|0,d=(d=d+Math.imul(Yt,Me)|0)+Math.imul(ee,ae)|0,k=k+Math.imul(ee,Me)|0,C=C+Math.imul(we,te)|0,d=(d=d+Math.imul(we,Ie)|0)+Math.imul(de,te)|0,k=k+Math.imul(de,Ie)|0,C=C+Math.imul(Ht,qe)|0,d=(d=d+Math.imul(Ht,ci)|0)+Math.imul(ge,qe)|0,k=k+Math.imul(ge,ci)|0;var hn=(P+(C=C+Math.imul(Kt,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Kt,oi)|0)+Math.imul(Vt,ui)|0))<<13)|0;P=((k=k+Math.imul(Vt,oi)|0)+(d>>>13)|0)+(hn>>>26)|0,hn&=67108863,C=Math.imul(qt,Ee),d=(d=Math.imul(qt,ne))+Math.imul(he,Ee)|0,k=Math.imul(he,ne),C=C+Math.imul(Nt,ae)|0,d=(d=d+Math.imul(Nt,Me)|0)+Math.imul(vt,ae)|0,k=k+Math.imul(vt,Me)|0,C=C+Math.imul(Yt,te)|0,d=(d=d+Math.imul(Yt,Ie)|0)+Math.imul(ee,te)|0,k=k+Math.imul(ee,Ie)|0,C=C+Math.imul(we,qe)|0,d=(d=d+Math.imul(we,ci)|0)+Math.imul(de,qe)|0,k=k+Math.imul(de,ci)|0;var ar=(P+(C=C+Math.imul(Ht,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Ht,oi)|0)+Math.imul(ge,ui)|0))<<13)|0;P=((k=k+Math.imul(ge,oi)|0)+(d>>>13)|0)+(ar>>>26)|0,ar&=67108863,C=Math.imul(qt,ae),d=(d=Math.imul(qt,Me))+Math.imul(he,ae)|0,k=Math.imul(he,Me),C=C+Math.imul(Nt,te)|0,d=(d=d+Math.imul(Nt,Ie)|0)+Math.imul(vt,te)|0,k=k+Math.imul(vt,Ie)|0,C=C+Math.imul(Yt,qe)|0,d=(d=d+Math.imul(Yt,ci)|0)+Math.imul(ee,qe)|0,k=k+Math.imul(ee,ci)|0;var bn=(P+(C=C+Math.imul(we,ui)|0)|0)+((8191&(d=(d=d+Math.imul(we,oi)|0)+Math.imul(de,ui)|0))<<13)|0;P=((k=k+Math.imul(de,oi)|0)+(d>>>13)|0)+(bn>>>26)|0,bn&=67108863,C=Math.imul(qt,te),d=(d=Math.imul(qt,Ie))+Math.imul(he,te)|0,k=Math.imul(he,Ie),C=C+Math.imul(Nt,qe)|0,d=(d=d+Math.imul(Nt,ci)|0)+Math.imul(vt,qe)|0,k=k+Math.imul(vt,ci)|0;var vo=(P+(C=C+Math.imul(Yt,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Yt,oi)|0)+Math.imul(ee,ui)|0))<<13)|0;P=((k=k+Math.imul(ee,oi)|0)+(d>>>13)|0)+(vo>>>26)|0,vo&=67108863,C=Math.imul(qt,qe),d=(d=Math.imul(qt,ci))+Math.imul(he,qe)|0,k=Math.imul(he,ci);var Ao=(P+(C=C+Math.imul(Nt,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Nt,oi)|0)+Math.imul(vt,ui)|0))<<13)|0;P=((k=k+Math.imul(vt,oi)|0)+(d>>>13)|0)+(Ao>>>26)|0,Ao&=67108863;var Vi=(P+(C=Math.imul(qt,ui))|0)+((8191&(d=(d=Math.imul(qt,oi))+Math.imul(he,ui)|0))<<13)|0;return P=((k=Math.imul(he,oi))+(d>>>13)|0)+(Vi>>>26)|0,Vi&=67108863,S[0]=en,S[1]=sn,S[2]=Tn,S[3]=Er,S[4]=In,S[5]=Yn,S[6]=nn,S[7]=Or,S[8]=fr,S[9]=dr,S[10]=Un,S[11]=xo,S[12]=ki,S[13]=hn,S[14]=ar,S[15]=bn,S[16]=vo,S[17]=Ao,S[18]=Vi,0!==P&&(S[19]=P,y.length++),y};function q(T,h,m){return(new V).mulp(T,h,m)}function V(T,h){this.x=T,this.y=h}Math.imul||(z=U),D.prototype.mulTo=function(h,m){var y,v=this.length+h.length;return y=10===this.length&&10===h.length?z(this,h,m):v<63?U(this,h,m):v<1024?function(T,h,m){m.negative=h.negative^T.negative,m.length=T.length+h.length;for(var y=0,v=0,M=0;M<m.length-1;M++){var S=v;v=0;for(var P=67108863&y,C=Math.min(M,h.length-1),d=Math.max(0,M-T.length+1);d<=C;d++){var J=(0|T.words[M-d])*(0|h.words[d]),xt=67108863&J;P=67108863&(xt=xt+P|0),v+=(S=(S=S+(J/67108864|0)|0)+(xt>>>26)|0)>>>26,S&=67108863}m.words[M]=P,y=S,S=v}return 0!==y?m.words[M]=y:m.length--,m.strip()}(this,h,m):q(this,h,m),y},V.prototype.makeRBT=function(h){for(var m=new Array(h),y=D.prototype._countBits(h)-1,v=0;v<h;v++)m[v]=this.revBin(v,y,h);return m},V.prototype.revBin=function(h,m,y){if(0===h||h===y-1)return h;for(var v=0,M=0;M<m;M++)v|=(1&h)<<m-M-1,h>>=1;return v},V.prototype.permute=function(h,m,y,v,M,S){for(var P=0;P<S;P++)v[P]=m[h[P]],M[P]=y[h[P]]},V.prototype.transform=function(h,m,y,v,M,S){this.permute(S,h,m,y,v,M);for(var P=1;P<M;P<<=1)for(var C=P<<1,d=Math.cos(2*Math.PI/C),k=Math.sin(2*Math.PI/C),nt=0;nt<M;nt+=C)for(var Q=d,J=k,xt=0;xt<P;xt++){var wt=y[nt+xt],Ft=v[nt+xt],Gt=y[nt+xt+P],It=v[nt+xt+P],_t=Q*Gt-J*It;It=Q*It+J*Gt,y[nt+xt]=wt+(Gt=_t),v[nt+xt]=Ft+It,y[nt+xt+P]=wt-Gt,v[nt+xt+P]=Ft-It,xt!==C&&(_t=d*Q-k*J,J=d*J+k*Q,Q=_t)}},V.prototype.guessLen13b=function(h,m){var y=1|Math.max(m,h),v=1&y,M=0;for(y=y/2|0;y;y>>>=1)M++;return 1<<M+1+v},V.prototype.conjugate=function(h,m,y){if(!(y<=1))for(var v=0;v<y/2;v++){var M=h[v];h[v]=h[y-v-1],h[y-v-1]=M,M=m[v],m[v]=-m[y-v-1],m[y-v-1]=-M}},V.prototype.normalize13b=function(h,m){for(var y=0,v=0;v<m/2;v++){var M=8192*Math.round(h[2*v+1]/m)+Math.round(h[2*v]/m)+y;h[v]=67108863&M,y=M<67108864?0:M/67108864|0}return h},V.prototype.convert13b=function(h,m,y,v){for(var M=0,S=0;S<m;S++)y[2*S]=8191&(M+=0|h[S]),y[2*S+1]=8191&(M>>>=13),M>>>=13;for(S=2*m;S<v;++S)y[S]=0;ht(0===M),ht(0==(-8192&M))},V.prototype.stub=function(h){for(var m=new Array(h),y=0;y<h;y++)m[y]=0;return m},V.prototype.mulp=function(h,m,y){var v=2*this.guessLen13b(h.length,m.length),M=this.makeRBT(v),S=this.stub(v),P=new Array(v),C=new Array(v),d=new Array(v),k=new Array(v),nt=new Array(v),Q=new Array(v),J=y.words;J.length=v,this.convert13b(h.words,h.length,P,v),this.convert13b(m.words,m.length,k,v),this.transform(P,S,C,d,v,M),this.transform(k,S,nt,Q,v,M);for(var xt=0;xt<v;xt++){var wt=C[xt]*nt[xt]-d[xt]*Q[xt];d[xt]=C[xt]*Q[xt]+d[xt]*nt[xt],C[xt]=wt}return this.conjugate(C,d,v),this.transform(C,d,J,S,v,M),this.conjugate(J,S,v),this.normalize13b(J,v),y.negative=h.negative^m.negative,y.length=h.length+m.length,y.strip()},D.prototype.mul=function(h){var m=new D(null);return m.words=new Array(this.length+h.length),this.mulTo(h,m)},D.prototype.mulf=function(h){var m=new D(null);return m.words=new Array(this.length+h.length),q(this,h,m)},D.prototype.imul=function(h){return this.clone().mulTo(h,this)},D.prototype.imuln=function(h){ht("number"==typeof h),ht(h<67108864);for(var m=0,y=0;y<this.length;y++){var v=(0|this.words[y])*h,M=(67108863&v)+(67108863&m);m>>=26,m+=v/67108864|0,m+=M>>>26,this.words[y]=67108863&M}return 0!==m&&(this.words[y]=m,this.length++),this},D.prototype.muln=function(h){return this.clone().imuln(h)},D.prototype.sqr=function(){return this.mul(this)},D.prototype.isqr=function(){return this.imul(this.clone())},D.prototype.pow=function(h){var m=function(T){for(var h=new Array(T.bitLength()),m=0;m<h.length;m++){var v=m%26;h[m]=(T.words[m/26|0]&1<<v)>>>v}return h}(h);if(0===m.length)return new D(1);for(var y=this,v=0;v<m.length&&0===m[v];v++,y=y.sqr());if(++v<m.length)for(var M=y.sqr();v<m.length;v++,M=M.sqr())0!==m[v]&&(y=y.mul(M));return y},D.prototype.iushln=function(h){ht("number"==typeof h&&h>=0);var M,m=h%26,y=(h-m)/26,v=67108863>>>26-m<<26-m;if(0!==m){var S=0;for(M=0;M<this.length;M++){var P=this.words[M]&v;this.words[M]=(0|this.words[M])-P<<m|S,S=P>>>26-m}S&&(this.words[M]=S,this.length++)}if(0!==y){for(M=this.length-1;M>=0;M--)this.words[M+y]=this.words[M];for(M=0;M<y;M++)this.words[M]=0;this.length+=y}return this.strip()},D.prototype.ishln=function(h){return ht(0===this.negative),this.iushln(h)},D.prototype.iushrn=function(h,m,y){var v;ht("number"==typeof h&&h>=0),v=m?(m-m%26)/26:0;var M=h%26,S=Math.min((h-M)/26,this.length),P=67108863^67108863>>>M<<M,C=y;if(v-=S,v=Math.max(0,v),C){for(var d=0;d<S;d++)C.words[d]=this.words[d];C.length=S}if(0!==S)if(this.length>S)for(this.length-=S,d=0;d<this.length;d++)this.words[d]=this.words[d+S];else this.words[0]=0,this.length=1;var k=0;for(d=this.length-1;d>=0&&(0!==k||d>=v);d--){var nt=0|this.words[d];this.words[d]=k<<26-M|nt>>>M,k=nt&P}return C&&0!==k&&(C.words[C.length++]=k),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},D.prototype.ishrn=function(h,m,y){return ht(0===this.negative),this.iushrn(h,m,y)},D.prototype.shln=function(h){return this.clone().ishln(h)},D.prototype.ushln=function(h){return this.clone().iushln(h)},D.prototype.shrn=function(h){return this.clone().ishrn(h)},D.prototype.ushrn=function(h){return this.clone().iushrn(h)},D.prototype.testn=function(h){ht("number"==typeof h&&h>=0);var m=h%26,y=(h-m)/26;return!(this.length<=y||!(this.words[y]&1<<m))},D.prototype.imaskn=function(h){ht("number"==typeof h&&h>=0);var m=h%26,y=(h-m)/26;return ht(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==m&&y++,this.length=Math.min(y,this.length),0!==m&&(this.words[this.length-1]&=67108863^67108863>>>m<<m),this.strip())},D.prototype.maskn=function(h){return this.clone().imaskn(h)},D.prototype.iaddn=function(h){return ht("number"==typeof h),ht(h<67108864),h<0?this.isubn(-h):0!==this.negative?1===this.length&&(0|this.words[0])<h?(this.words[0]=h-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},D.prototype._iaddn=function(h){this.words[0]+=h;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},D.prototype.isubn=function(h){if(ht("number"==typeof h),ht(h<67108864),h<0)return this.iaddn(-h);if(0!==this.negative)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this.strip()},D.prototype.addn=function(h){return this.clone().iaddn(h)},D.prototype.subn=function(h){return this.clone().isubn(h)},D.prototype.iabs=function(){return this.negative=0,this},D.prototype.abs=function(){return this.clone().iabs()},D.prototype._ishlnsubmul=function(h,m,y){var M;this._expand(h.length+y);var S,P=0;for(M=0;M<h.length;M++){S=(0|this.words[M+y])+P;var C=(0|h.words[M])*m;P=((S-=67108863&C)>>26)-(C/67108864|0),this.words[M+y]=67108863&S}for(;M<this.length-y;M++)P=(S=(0|this.words[M+y])+P)>>26,this.words[M+y]=67108863&S;if(0===P)return this.strip();for(ht(-1===P),P=0,M=0;M<this.length;M++)P=(S=-(0|this.words[M])+P)>>26,this.words[M]=67108863&S;return this.negative=1,this.strip()},D.prototype._wordDiv=function(h,m){var y,v=this.clone(),M=h,S=0|M.words[M.length-1];0!=(y=26-this._countBits(S))&&(M=M.ushln(y),v.iushln(y),S=0|M.words[M.length-1]);var d,C=v.length-M.length;if("mod"!==m){(d=new D(null)).length=C+1,d.words=new Array(d.length);for(var k=0;k<d.length;k++)d.words[k]=0}var nt=v.clone()._ishlnsubmul(M,1,C);0===nt.negative&&(v=nt,d&&(d.words[C]=1));for(var Q=C-1;Q>=0;Q--){var J=67108864*(0|v.words[M.length+Q])+(0|v.words[M.length+Q-1]);for(J=Math.min(J/S|0,67108863),v._ishlnsubmul(M,J,Q);0!==v.negative;)J--,v.negative=0,v._ishlnsubmul(M,1,Q),v.isZero()||(v.negative^=1);d&&(d.words[Q]=J)}return d&&d.strip(),v.strip(),"div"!==m&&0!==y&&v.iushrn(y),{div:d||null,mod:v}},D.prototype.divmod=function(h,m,y){return ht(!h.isZero()),this.isZero()?{div:new D(0),mod:new D(0)}:0!==this.negative&&0===h.negative?(S=this.neg().divmod(h,m),"mod"!==m&&(v=S.div.neg()),"div"!==m&&(M=S.mod.neg(),y&&0!==M.negative&&M.iadd(h)),{div:v,mod:M}):0===this.negative&&0!==h.negative?(S=this.divmod(h.neg(),m),"mod"!==m&&(v=S.div.neg()),{div:v,mod:S.mod}):0!=(this.negative&h.negative)?(S=this.neg().divmod(h.neg(),m),"div"!==m&&(M=S.mod.neg(),y&&0!==M.negative&&M.isub(h)),{div:S.div,mod:M}):h.length>this.length||this.cmp(h)<0?{div:new D(0),mod:this}:1===h.length?"div"===m?{div:this.divn(h.words[0]),mod:null}:"mod"===m?{div:null,mod:new D(this.modn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new D(this.modn(h.words[0]))}:this._wordDiv(h,m);var v,M,S},D.prototype.div=function(h){return this.divmod(h,"div",!1).div},D.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},D.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},D.prototype.divRound=function(h){var m=this.divmod(h);if(m.mod.isZero())return m.div;var y=0!==m.div.negative?m.mod.isub(h):m.mod,v=h.ushrn(1),M=h.andln(1),S=y.cmp(v);return S<0||1===M&&0===S?m.div:0!==m.div.negative?m.div.isubn(1):m.div.iaddn(1)},D.prototype.modn=function(h){ht(h<=67108863);for(var m=(1<<26)%h,y=0,v=this.length-1;v>=0;v--)y=(m*y+(0|this.words[v]))%h;return y},D.prototype.idivn=function(h){ht(h<=67108863);for(var m=0,y=this.length-1;y>=0;y--){var v=(0|this.words[y])+67108864*m;this.words[y]=v/h|0,m=v%h}return this.strip()},D.prototype.divn=function(h){return this.clone().idivn(h)},D.prototype.egcd=function(h){ht(0===h.negative),ht(!h.isZero());var m=this,y=h.clone();m=0!==m.negative?m.umod(h):m.clone();for(var v=new D(1),M=new D(0),S=new D(0),P=new D(1),C=0;m.isEven()&&y.isEven();)m.iushrn(1),y.iushrn(1),++C;for(var d=y.clone(),k=m.clone();!m.isZero();){for(var nt=0,Q=1;0==(m.words[0]&Q)&&nt<26;++nt,Q<<=1);if(nt>0)for(m.iushrn(nt);nt-- >0;)(v.isOdd()||M.isOdd())&&(v.iadd(d),M.isub(k)),v.iushrn(1),M.iushrn(1);for(var J=0,xt=1;0==(y.words[0]&xt)&&J<26;++J,xt<<=1);if(J>0)for(y.iushrn(J);J-- >0;)(S.isOdd()||P.isOdd())&&(S.iadd(d),P.isub(k)),S.iushrn(1),P.iushrn(1);m.cmp(y)>=0?(m.isub(y),v.isub(S),M.isub(P)):(y.isub(m),S.isub(v),P.isub(M))}return{a:S,b:P,gcd:y.iushln(C)}},D.prototype._invmp=function(h){ht(0===h.negative),ht(!h.isZero());var nt,m=this,y=h.clone();m=0!==m.negative?m.umod(h):m.clone();for(var v=new D(1),M=new D(0),S=y.clone();m.cmpn(1)>0&&y.cmpn(1)>0;){for(var P=0,C=1;0==(m.words[0]&C)&&P<26;++P,C<<=1);if(P>0)for(m.iushrn(P);P-- >0;)v.isOdd()&&v.iadd(S),v.iushrn(1);for(var d=0,k=1;0==(y.words[0]&k)&&d<26;++d,k<<=1);if(d>0)for(y.iushrn(d);d-- >0;)M.isOdd()&&M.iadd(S),M.iushrn(1);m.cmp(y)>=0?(m.isub(y),v.isub(M)):(y.isub(m),M.isub(v))}return(nt=0===m.cmpn(1)?v:M).cmpn(0)<0&&nt.iadd(h),nt},D.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var m=this.clone(),y=h.clone();m.negative=0,y.negative=0;for(var v=0;m.isEven()&&y.isEven();v++)m.iushrn(1),y.iushrn(1);for(;;){for(;m.isEven();)m.iushrn(1);for(;y.isEven();)y.iushrn(1);var M=m.cmp(y);if(M<0){var S=m;m=y,y=S}else if(0===M||0===y.cmpn(1))break;m.isub(y)}return y.iushln(v)},D.prototype.invm=function(h){return this.egcd(h).a.umod(h)},D.prototype.isEven=function(){return 0==(1&this.words[0])},D.prototype.isOdd=function(){return 1==(1&this.words[0])},D.prototype.andln=function(h){return this.words[0]&h},D.prototype.bincn=function(h){ht("number"==typeof h);var m=h%26,y=(h-m)/26,v=1<<m;if(this.length<=y)return this._expand(y+1),this.words[y]|=v,this;for(var M=v,S=y;0!==M&&S<this.length;S++){var P=0|this.words[S];M=(P+=M)>>>26,this.words[S]=P&=67108863}return 0!==M&&(this.words[S]=M,this.length++),this},D.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},D.prototype.cmpn=function(h){var y,m=h<0;if(0!==this.negative&&!m)return-1;if(0===this.negative&&m)return 1;if(this.strip(),this.length>1)y=1;else{m&&(h=-h),ht(h<=67108863,"Number is too big");var v=0|this.words[0];y=v===h?0:v<h?-1:1}return 0!==this.negative?0|-y:y},D.prototype.cmp=function(h){if(0!==this.negative&&0===h.negative)return-1;if(0===this.negative&&0!==h.negative)return 1;var m=this.ucmp(h);return 0!==this.negative?0|-m:m},D.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var m=0,y=this.length-1;y>=0;y--){var v=0|this.words[y],M=0|h.words[y];if(v!==M){v<M?m=-1:v>M&&(m=1);break}}return m},D.prototype.gtn=function(h){return 1===this.cmpn(h)},D.prototype.gt=function(h){return 1===this.cmp(h)},D.prototype.gten=function(h){return this.cmpn(h)>=0},D.prototype.gte=function(h){return this.cmp(h)>=0},D.prototype.ltn=function(h){return-1===this.cmpn(h)},D.prototype.lt=function(h){return-1===this.cmp(h)},D.prototype.lten=function(h){return this.cmpn(h)<=0},D.prototype.lte=function(h){return this.cmp(h)<=0},D.prototype.eqn=function(h){return 0===this.cmpn(h)},D.prototype.eq=function(h){return 0===this.cmp(h)},D.red=function(h){return new Dt(h)},D.prototype.toRed=function(h){return ht(!this.red,"Already a number in reduction context"),ht(0===this.negative,"red works only with positives"),h.convertTo(this)._forceRed(h)},D.prototype.fromRed=function(){return ht(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},D.prototype._forceRed=function(h){return this.red=h,this},D.prototype.forceRed=function(h){return ht(!this.red,"Already a number in reduction context"),this._forceRed(h)},D.prototype.redAdd=function(h){return ht(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},D.prototype.redIAdd=function(h){return ht(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},D.prototype.redSub=function(h){return ht(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},D.prototype.redISub=function(h){return ht(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},D.prototype.redShl=function(h){return ht(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},D.prototype.redMul=function(h){return ht(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},D.prototype.redIMul=function(h){return ht(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},D.prototype.redSqr=function(){return ht(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},D.prototype.redISqr=function(){return ht(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},D.prototype.redSqrt=function(){return ht(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},D.prototype.redInvm=function(){return ht(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},D.prototype.redNeg=function(){return ht(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},D.prototype.redPow=function(h){return ht(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var Z={k256:null,p224:null,p192:null,p25519:null};function et(T,h){this.name=T,this.p=new D(h,16),this.n=this.p.bitLength(),this.k=new D(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function rt(){et.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function mt(){et.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function gt(){et.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Et(){et.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Dt(T){if("string"==typeof T){var h=D._prime(T);this.m=h.p,this.prime=h}else ht(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}function Mt(T){Dt.call(this,T),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new D(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}et.prototype._tmp=function(){var h=new D(null);return h.words=new Array(Math.ceil(this.n/13)),h},et.prototype.ireduce=function(h){var y,m=h;do{this.split(m,this.tmp),y=(m=(m=this.imulK(m)).iadd(this.tmp)).bitLength()}while(y>this.n);var v=y<this.n?-1:m.ucmp(this.p);return 0===v?(m.words[0]=0,m.length=1):v>0?m.isub(this.p):void 0!==m.strip?m.strip():m._strip(),m},et.prototype.split=function(h,m){h.iushrn(this.n,0,m)},et.prototype.imulK=function(h){return h.imul(this.k)},ct(rt,et),rt.prototype.split=function(h,m){for(var y=4194303,v=Math.min(h.length,9),M=0;M<v;M++)m.words[M]=h.words[M];if(m.length=v,h.length<=9)return h.words[0]=0,void(h.length=1);var S=h.words[9];for(m.words[m.length++]=S&y,M=10;M<h.length;M++){var P=0|h.words[M];h.words[M-10]=(P&y)<<4|S>>>22,S=P}h.words[M-10]=S>>>=22,h.length-=0===S&&h.length>10?10:9},rt.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var m=0,y=0;y<h.length;y++){var v=0|h.words[y];h.words[y]=67108863&(m+=977*v),m=64*v+(m/67108864|0)}return 0===h.words[h.length-1]&&(h.length--,0===h.words[h.length-1]&&h.length--),h},ct(mt,et),ct(gt,et),ct(Et,et),Et.prototype.imulK=function(h){for(var m=0,y=0;y<h.length;y++){var v=19*(0|h.words[y])+m,M=67108863&v;v>>>=26,h.words[y]=M,m=v}return 0!==m&&(h.words[h.length++]=m),h},D._prime=function(h){if(Z[h])return Z[h];var m;if("k256"===h)m=new rt;else if("p224"===h)m=new mt;else if("p192"===h)m=new gt;else{if("p25519"!==h)throw new Error("Unknown prime "+h);m=new Et}return Z[h]=m,m},Dt.prototype._verify1=function(h){ht(0===h.negative,"red works only with positives"),ht(h.red,"red works only with red numbers")},Dt.prototype._verify2=function(h,m){ht(0==(h.negative|m.negative),"red works only with positives"),ht(h.red&&h.red===m.red,"red works only with red numbers")},Dt.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):h.umod(this.m)._forceRed(this)},Dt.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},Dt.prototype.add=function(h,m){this._verify2(h,m);var y=h.add(m);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},Dt.prototype.iadd=function(h,m){this._verify2(h,m);var y=h.iadd(m);return y.cmp(this.m)>=0&&y.isub(this.m),y},Dt.prototype.sub=function(h,m){this._verify2(h,m);var y=h.sub(m);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},Dt.prototype.isub=function(h,m){this._verify2(h,m);var y=h.isub(m);return y.cmpn(0)<0&&y.iadd(this.m),y},Dt.prototype.shl=function(h,m){return this._verify1(h),this.imod(h.ushln(m))},Dt.prototype.imul=function(h,m){return this._verify2(h,m),this.imod(h.imul(m))},Dt.prototype.mul=function(h,m){return this._verify2(h,m),this.imod(h.mul(m))},Dt.prototype.isqr=function(h){return this.imul(h,h.clone())},Dt.prototype.sqr=function(h){return this.mul(h,h)},Dt.prototype.sqrt=function(h){if(h.isZero())return h.clone();var m=this.m.andln(3);if(ht(m%2==1),3===m){var y=this.m.add(new D(1)).iushrn(2);return this.pow(h,y)}for(var v=this.m.subn(1),M=0;!v.isZero()&&0===v.andln(1);)M++,v.iushrn(1);ht(!v.isZero());var S=new D(1).toRed(this),P=S.redNeg(),C=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new D(2*d*d).toRed(this);0!==this.pow(d,C).cmp(P);)d.redIAdd(P);for(var k=this.pow(d,v),nt=this.pow(h,v.addn(1).iushrn(1)),Q=this.pow(h,v),J=M;0!==Q.cmp(S);){for(var xt=Q,wt=0;0!==xt.cmp(S);wt++)xt=xt.redSqr();ht(wt<J);var Ft=this.pow(k,new D(1).iushln(J-wt-1));nt=nt.redMul(Ft),k=Ft.redSqr(),Q=Q.redMul(k),J=wt}return nt},Dt.prototype.invm=function(h){var m=h._invmp(this.m);return 0!==m.negative?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},Dt.prototype.pow=function(h,m){if(m.isZero())return new D(1).toRed(this);if(0===m.cmpn(1))return h.clone();var v=new Array(16);v[0]=new D(1).toRed(this),v[1]=h;for(var M=2;M<v.length;M++)v[M]=this.mul(v[M-1],h);var S=v[0],P=0,C=0,d=m.bitLength()%26;for(0===d&&(d=26),M=m.length-1;M>=0;M--){for(var k=m.words[M],nt=d-1;nt>=0;nt--){var Q=k>>nt&1;S!==v[0]&&(S=this.sqr(S)),0!==Q||0!==P?(P<<=1,P|=Q,(4==++C||0===M&&0===nt)&&(S=this.mul(S,v[P]),C=0,P=0)):C=0}d=26}return S},Dt.prototype.convertTo=function(h){var m=h.umod(this.m);return m===h?m.clone():m},Dt.prototype.convertFrom=function(h){var m=h.clone();return m.red=null,m},D.mont=function(h){return new Mt(h)},ct(Mt,Dt),Mt.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},Mt.prototype.convertFrom=function(h){var m=this.imod(h.mul(this.rinv));return m.red=null,m},Mt.prototype.imul=function(h,m){if(h.isZero()||m.isZero())return h.words[0]=0,h.length=1,h;var y=h.imul(m),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(v).iushrn(this.shift),S=M;return M.cmp(this.m)>=0?S=M.isub(this.m):M.cmpn(0)<0&&(S=M.iadd(this.m)),S._forceRed(this)},Mt.prototype.mul=function(h,m){if(h.isZero()||m.isZero())return new D(0)._forceRed(this);var y=h.mul(m),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(v).iushrn(this.shift),S=M;return M.cmp(this.m)>=0?S=M.isub(this.m):M.cmpn(0)<0&&(S=M.iadd(this.m)),S._forceRed(this)},Mt.prototype.invm=function(h){return this.imod(h._invmp(this.m).mul(this.r2))._forceRed(this)}}(fe=kt.nmd(fe),this)},7703:fe=>{"use strict";var Tt,ot="object"==typeof Reflect?Reflect:null,kt=ot&&"function"==typeof ot.apply?ot.apply:function(et,rt,mt){return Function.prototype.apply.call(et,rt,mt)};Tt=ot&&"function"==typeof ot.ownKeys?ot.ownKeys:Object.getOwnPropertySymbols?function(et){return Object.getOwnPropertyNames(et).concat(Object.getOwnPropertySymbols(et))}:function(et){return Object.getOwnPropertyNames(et)};var ht=Number.isNaN||function(et){return et!=et};function ct(){ct.init.call(this)}fe.exports=ct,fe.exports.once=function(Z,et){return new Promise(function(rt,mt){function gt(Dt){Z.removeListener(et,Et),mt(Dt)}function Et(){"function"==typeof Z.removeListener&&Z.removeListener("error",gt),rt([].slice.call(arguments))}V(Z,et,Et,{once:!0}),"error"!==et&&function(Z,et,rt){"function"==typeof Z.on&&V(Z,"error",et,{once:!0})}(Z,gt)})},ct.EventEmitter=ct,ct.prototype._events=void 0,ct.prototype._eventsCount=0,ct.prototype._maxListeners=void 0;var D=10;function $(Z){if("function"!=typeof Z)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Z)}function X(Z){return void 0===Z._maxListeners?ct.defaultMaxListeners:Z._maxListeners}function it(Z,et,rt,mt){var gt,Et,Dt;if($(rt),void 0===(Et=Z._events)?(Et=Z._events=Object.create(null),Z._eventsCount=0):(void 0!==Et.newListener&&(Z.emit("newListener",et,rt.listener?rt.listener:rt),Et=Z._events),Dt=Et[et]),void 0===Dt)Dt=Et[et]=rt,++Z._eventsCount;else if("function"==typeof Dt?Dt=Et[et]=mt?[rt,Dt]:[Dt,rt]:mt?Dt.unshift(rt):Dt.push(rt),(gt=X(Z))>0&&Dt.length>gt&&!Dt.warned){Dt.warned=!0;var Mt=new Error("Possible EventEmitter memory leak detected. "+Dt.length+" "+String(et)+" listeners added. Use emitter.setMaxListeners() to increase limit");Mt.name="MaxListenersExceededWarning",Mt.emitter=Z,Mt.type=et,Mt.count=Dt.length,function(Z){console&&console.warn&&console.warn(Z)}(Mt)}return Z}function K(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function W(Z,et,rt){var mt={fired:!1,wrapFn:void 0,target:Z,type:et,listener:rt},gt=K.bind(mt);return gt.listener=rt,mt.wrapFn=gt,gt}function j(Z,et,rt){var mt=Z._events;if(void 0===mt)return[];var gt=mt[et];return void 0===gt?[]:"function"==typeof gt?rt?[gt.listener||gt]:[gt]:rt?function(Z){for(var et=new Array(Z.length),rt=0;rt<et.length;++rt)et[rt]=Z[rt].listener||Z[rt];return et}(gt):N(gt,gt.length)}function tt(Z){var et=this._events;if(void 0!==et){var rt=et[Z];if("function"==typeof rt)return 1;if(void 0!==rt)return rt.length}return 0}function N(Z,et){for(var rt=new Array(et),mt=0;mt<et;++mt)rt[mt]=Z[mt];return rt}function V(Z,et,rt,mt){if("function"==typeof Z.on)mt.once?Z.once(et,rt):Z.on(et,rt);else{if("function"!=typeof Z.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof Z);Z.addEventListener(et,function gt(Et){mt.once&&Z.removeEventListener(et,gt),rt(Et)})}}Object.defineProperty(ct,"defaultMaxListeners",{enumerable:!0,get:function(){return D},set:function(Z){if("number"!=typeof Z||Z<0||ht(Z))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+Z+".");D=Z}}),ct.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ct.prototype.setMaxListeners=function(et){if("number"!=typeof et||et<0||ht(et))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+et+".");return this._maxListeners=et,this},ct.prototype.getMaxListeners=function(){return X(this)},ct.prototype.emit=function(et){for(var rt=[],mt=1;mt<arguments.length;mt++)rt.push(arguments[mt]);var gt="error"===et,Et=this._events;if(void 0!==Et)gt=gt&&void 0===Et.error;else if(!gt)return!1;if(gt){var Dt;if(rt.length>0&&(Dt=rt[0]),Dt instanceof Error)throw Dt;var Mt=new Error("Unhandled error."+(Dt?" ("+Dt.message+")":""));throw Mt.context=Dt,Mt}var T=Et[et];if(void 0===T)return!1;if("function"==typeof T)kt(T,this,rt);else{var h=T.length,m=N(T,h);for(mt=0;mt<h;++mt)kt(m[mt],this,rt)}return!0},ct.prototype.on=ct.prototype.addListener=function(et,rt){return it(this,et,rt,!1)},ct.prototype.prependListener=function(et,rt){return it(this,et,rt,!0)},ct.prototype.once=function(et,rt){return $(rt),this.on(et,W(this,et,rt)),this},ct.prototype.prependOnceListener=function(et,rt){return $(rt),this.prependListener(et,W(this,et,rt)),this},ct.prototype.off=ct.prototype.removeListener=function(et,rt){var mt,gt,Et,Dt,Mt;if($(rt),void 0===(gt=this._events))return this;if(void 0===(mt=gt[et]))return this;if(mt===rt||mt.listener===rt)0==--this._eventsCount?this._events=Object.create(null):(delete gt[et],gt.removeListener&&this.emit("removeListener",et,mt.listener||rt));else if("function"!=typeof mt){for(Et=-1,Dt=mt.length-1;Dt>=0;Dt--)if(mt[Dt]===rt||mt[Dt].listener===rt){Mt=mt[Dt].listener,Et=Dt;break}if(Et<0)return this;0===Et?mt.shift():function(Z,et){for(;et+1<Z.length;et++)Z[et]=Z[et+1];Z.pop()}(mt,Et),1===mt.length&&(gt[et]=mt[0]),void 0!==gt.removeListener&&this.emit("removeListener",et,Mt||rt)}return this},ct.prototype.removeAllListeners=function(et){var rt,mt,gt;if(void 0===(mt=this._events))return this;if(void 0===mt.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==mt[et]&&(0==--this._eventsCount?this._events=Object.create(null):delete mt[et]),this;if(0===arguments.length){var Dt,Et=Object.keys(mt);for(gt=0;gt<Et.length;++gt)"removeListener"!==(Dt=Et[gt])&&this.removeAllListeners(Dt);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(rt=mt[et]))this.removeListener(et,rt);else if(void 0!==rt)for(gt=rt.length-1;gt>=0;gt--)this.removeListener(et,rt[gt]);return this},ct.prototype.listeners=function(et){return j(this,et,!0)},ct.prototype.rawListeners=function(et){return j(this,et,!1)},ct.listenerCount=function(Z,et){return"function"==typeof Z.listenerCount?Z.listenerCount(et):tt.call(Z,et)},ct.prototype.listenerCount=tt,ct.prototype.eventNames=function(){return this._eventsCount>0?Tt(this._events):[]}},4539:(fe,ot,kt)=>{var Tt=kt(4615).Buffer,Pt=kt(2996);fe.exports=function(ct,D,$,X){if(Tt.isBuffer(ct)||(ct=Tt.from(ct,"binary")),D&&(Tt.isBuffer(D)||(D=Tt.from(D,"binary")),8!==D.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var it=$/8,K=Tt.alloc(it),W=Tt.alloc(X||0),j=Tt.alloc(0);it>0||X>0;){var tt=new Pt;tt.update(j),tt.update(ct),D&&tt.update(D),j=tt.digest();var N=0;if(it>0){var U=K.length-it;N=Math.min(it,j.length),j.copy(K,U,0,N),it-=N}if(N<j.length&&X>0){var z=W.length-X,Y=Math.min(X,j.length-N);j.copy(W,z,N,N+Y),X-=Y}}return j.fill(0),{key:K,iv:W}}},6961:fe=>{!function(){var ot;function kt(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function Tt(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:kt(t)}}function Pt(t){for(var e,o=[];!(e=t.next()).done;)o.push(e.value);return o}var ct,ht="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e};if("function"==typeof Object.setPrototypeOf)ct=Object.setPrototypeOf;else{var D;t:{var X={};try{X.__proto__={a:!0},D=X.a;break t}catch(t){}D=!1}ct=D?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var it=ct;function K(t,e){if(t.prototype=ht(e.prototype),t.prototype.constructor=t,it)it(t,e);else for(var o in e)if("prototype"!=o)if(Object.defineProperties){var a=Object.getOwnPropertyDescriptor(e,o);a&&Object.defineProperty(t,o,a)}else t[o]=e[o];t.BB=e.prototype}var W="undefined"!=typeof window&&window===self?self:"undefined"!=typeof global&&null!=global?global:self,j="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,o){t!=Array.prototype&&t!=Object.prototype&&(t[e]=o.value)};!function(t){if(t){for(var e=W,o=["Array","prototype","fill"],a=0;a<o.length-1;a++){var u=o[a];u in e||(e[u]={}),e=e[u]}(t=t(a=e[o=o[o.length-1]]))!=a&&null!=t&&j(e,o,{writable:!0,value:t})}}(function(t){return t||function(e,o,a){var u=this.length||0;for(0>o&&(o=Math.max(0,u+o)),(null==a||a>u)&&(a=u),0>(a=Number(a))&&(a=Math.max(0,u+a)),o=Number(o||0);o<a;o++)this[o]=e;return this}});var N="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||"object"==typeof window&&window.window===window&&window||{};function U(){}function z(t,e){var o=-1;return function(){var a=this,u=arguments;-1!==o&&N.clearTimeout(o),o=Y(function(){o=-1,t.apply(a,u)},e)}}function Y(t,e){return N.setTimeout(t,e)}function q(t){return N.document.createElement(t)}function V(t){throw Error(t)}function Z(t,e){t="The object is frozen, so its properties cannot be set: "+t.toString(),void 0!==e&&(t+="  to value: "+e),V(t)}function et(t,e,o,a){o=null===o?"*":"string"==typeof o?o:"function"==typeof o&&"string"==typeof o.className?o.className:"",void 0!==a&&(o+="."+a),V(o+" is not in the range "+e+": "+t)}function rt(t){N.console&&N.console.log(t)}function mt(){N.console&&N.console.log("Warning: List/Map/Set constructors no longer take an argument that enforces type.Instead they take an optional collection of Values to add to the collection. See 2.0 changelog for details.")}function gt(t){return"object"==typeof t&&null!==t}function Et(t){return Array.isArray(t)||N.NodeList&&t instanceof N.NodeList||N.HTMLCollection&&t instanceof N.HTMLCollection}function Dt(t){return Array.prototype.slice.call(t)}function Mt(t,e,o){Array.isArray(t)?e>=t.length?t.push(o):t.splice(e,0,o):V("Cannot insert an object into an HTMLCollection or NodeList: "+o+" at "+e)}function T(t,e){Array.isArray(t)?e>=t.length?t.pop():t.splice(e,1):V("Cannot remove an object from an HTMLCollection or NodeList at "+e)}function h(){var t=xt.pop();return void 0===t?[]:t}function m(t){t.length=0,xt.push(t)}function y(t){if("function"==typeof t){if(t.className)return t.className;if(t.name)return t.name;var e=t.toString();if(""!==(e=e.substring(9,e.indexOf("(")).trim()))return t._className=e}else if(gt(t)&&t.constructor)return y(t.constructor);return typeof t}function v(t){var e=t;return gt(t)&&(t.text?e=t.text:t.name?e=t.name:void 0!==t.key?e=t.key:void 0!==t.id?e=t.id:t.constructor===Object&&(t.Text?e=t.Text:t.Name?e=t.Name:void 0!==t.Key?e=t.Key:void 0!==t.Id?e=t.Id:void 0!==t.ID&&(e=t.ID))),void 0===e?"undefined":null===e?"null":e.toString()}function M(t,e){if(t.hasOwnProperty(e))return!0;for(t=Object.getPrototypeOf(t);t&&t!==Function;){if(t.hasOwnProperty(e))return!0;var o=t.nB;if(o&&o[e])return!0;t=Object.getPrototypeOf(t)}return!1}function S(t,e,o){Object.defineProperty(zr.prototype,t,{get:e,set:o})}function P(t){for(var e=[],o=0;256>o;o++)e["0123456789abcdef".charAt(o>>4)+"0123456789abcdef".charAt(15&o)]=String.fromCharCode(o);t.length%2&&(t="0"+t),o=[];for(var a=0,u=0;u<t.length;u+=2)o[a++]=e[t.substr(u,2)];for(t=""===(t=o.join(""))?"0":t,e=[],o=0;256>o;o++)e[o]=o;for(o=a=0;256>o;o++)u=e[o],e[o]=e[a=(a+e[o]+119)%256],e[a]=u;a=o=0;for(var c="",g=0;g<t.length;g++)u=e[o=(o+1)%256],e[o]=e[a=(a+e[o])%256],e[a]=u,c+=String.fromCharCode(t.charCodeAt(g)^e[(e[o]+e[a])%256]);return c}void 0===N.requestAnimationFrame&&(N.requestAnimationFrame=void 0===N.setImmediate?function(t){N.setTimeout(t,0)}:N.setImmediate);var C=void 0!==N.navigator&&0<N.navigator.userAgent.indexOf("MSIE 9.0"),d=void 0!==N.navigator&&0<N.navigator.userAgent.indexOf("MSIE 10.0"),k=void 0!==N.navigator&&0<N.navigator.userAgent.indexOf("Trident/7"),nt=void 0!==N.navigator&&0<N.navigator.userAgent.indexOf("Edge/"),Q=void 0!==N.navigator&&void 0!==N.navigator.platform&&0<=N.navigator.platform.toUpperCase().indexOf("MAC"),J=void 0!==N.navigator&&void 0!==N.navigator.platform&&null!==N.navigator.platform.match(/(iPhone|iPod|iPad)/i),xt=[];function wt(t,e,o){ge(this),this.l=t,this.oa=e,this.u=o}function Ft(t,e){return null==e||""===e?null:t[e]}function Gt(){this.qx=[]}function It(){}Object.freeze([]),U.className="Util",U.Dx="32ab5ff3b26f42dc0ed90f21452913b5",U.adym="gojs.net",U.vfo="28e647fdb662",U.className="Util",wt.prototype.toString=function(){return"EnumValue."+this.oa},W.Object.defineProperties(wt.prototype,{classType:{get:function(){return this.l}},name:{get:function(){return this.oa}},value:{get:function(){return this.u}}}),wt.className="EnumValue",Gt.prototype.toString=function(){return this.qx.join("")},Gt.prototype.add=function(t){""!==t&&this.qx.push(t)},Gt.className="StringBuilder",It.className="PropertyCollection";var Ot,_t={pB:!1,uB:!1,rB:!1,tB:!1,zB:!1,xB:!1,my:!1,qB:null,trace:function(t){N.console&&N.console.log(t)},sB:function(t,e,o,a){t.strokeStyle="red",t.fillStyle="red",t.font="8px sans-serif",t.beginPath(),t.moveTo(-10,0),t.lineTo(10,0),t.moveTo(0,-10),t.lineTo(0,10),t.stroke(),t.setTransform(1,0,0,1,0,0),t.scale(o,o),t.transform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy),t.lineWidth=2,t.beginPath(),t.moveTo(a.left,a.top+20),t.lineTo(a.left,a.top),t.lineTo(a.left+20,a.top),t.moveTo(a.right,a.bottom-20),t.lineTo(a.right,a.bottom),t.lineTo(a.right-20,a.bottom),t.stroke(),t.fillText("DB: "+Math.round(a.x)+", "+Math.round(a.y)+", "+Math.round(a.width)+", "+Math.round(a.height),a.left,a.top-5)},oB:function(t){var o,e={};for(o in t){if(e.x=o,"licenseKey"!==e.x){var a=t[e.x];if(void 0!==a.prototype){e.Jm=Object.getOwnPropertyNames(a.prototype);for(var u={Ak:0};u.Ak<e.Jm.length;(u={Ak:u.Ak}).Ak++){var c=Object.getOwnPropertyDescriptor(a.prototype,e.Jm[u.Ak]);void 0!==c.get&&void 0===c.set&&Object.defineProperty(a.prototype,e.Jm[u.Ak],{set:function(g,_){return function(){throw Error("Property "+g.Jm[_.Ak]+" of "+g.x+" is read-only.")}}(e,u)})}}}e={Jm:e.Jm,x:e.x}}}};function Zt(){}function At(t){this.key=-1,this.value=t}function jt(t){this.ub=t,this.ff=null,t.Ha=null,this.ia=t.Ba,this.Ra=-1}function Kt(t){this.ub=t,t.gh=null,this.ia=t.Ba,this.Ra=t.j.length}function Vt(t){ge(this),this.v=!1,this.j=[],this.Ba=0,this.gh=this.Ha=null,void 0!==t&&("function"==typeof t||"string"==typeof t?mt():this.addAll(t))}function Ce(t){this.tg=t,t.Ha=null,this.ia=t.Ba,this.ka=null}function Ht(t){ge(this),this.v=!1,this.Hb={},this.Fb=0,this.Ha=null,this.Ba=0,this.$e=this.ba=null,void 0!==t&&("function"==typeof t||"string"==typeof t?mt():this.addAll(t))}function ge(t){t.__gohashid=de++}function yi(t){var e=t.__gohashid;return void 0===e&&(e=de++,t.__gohashid=e),e}function we(t){return t.__gohashid}Zt.prototype.reset=function(){},Zt.prototype.next=function(){return!1},Zt.prototype.rd=function(){return!1},Zt.prototype.first=function(){return null},Zt.prototype.any=function(){return!1},Zt.prototype.all=function(){return!0},Zt.prototype.each=function(){return this},Zt.prototype.map=function(){return this},Zt.prototype.filter=function(){return this},Zt.prototype.Sd=function(){},Zt.prototype.toString=function(){return"EmptyIterator"},W.Object.defineProperties(Zt.prototype,{iterator:{get:function(){return this}},count:{get:function(){return 0}}}),Zt.prototype.first=Zt.prototype.first,Zt.prototype.hasNext=Zt.prototype.rd,Zt.prototype.next=Zt.prototype.next,Zt.prototype.reset=Zt.prototype.reset,Zt.className="EmptyIterator",Ot=new Zt,At.prototype.reset=function(){this.key=-1},At.prototype.next=function(){return-1===this.key&&(this.key=0,!0)},At.prototype.rd=function(){return this.next()},At.prototype.first=function(){return this.key=0,this.value},At.prototype.any=function(t){return this.key=-1,t(this.value)},At.prototype.all=function(t){return this.key=-1,t(this.value)},At.prototype.each=function(t){return this.key=-1,t(this.value),this},At.prototype.map=function(t){return new At(t(this.value))},At.prototype.filter=function(t){return t(this.value)?new At(this.value):Ot},At.prototype.Sd=function(){this.value=null},At.prototype.toString=function(){return"SingletonIterator("+this.value+")"},W.Object.defineProperties(At.prototype,{iterator:{get:function(){return this}},count:{get:function(){return 1}}}),At.prototype.first=At.prototype.first,At.prototype.hasNext=At.prototype.rd,At.prototype.next=At.prototype.next,At.prototype.reset=At.prototype.reset,At.className="SingletonIterator",jt.prototype.reset=function(){var t=this.ub;t.Ha=null,this.ia=t.Ba,this.Ra=-1},jt.prototype.next=function(){var t=this.ub;if(t.Ba!==this.ia&&0>this.key)return!1;var e=(t=t.j).length,o=++this.Ra,a=this.ff;if(null!==a)for(;o<e;){var u=t[o];if(a(u))return this.key=this.Ra=o,this.value=u,!0;o++}else{if(o<e)return this.key=o,this.value=t[o],!0;this.Sd()}return!1},jt.prototype.rd=function(){return this.next()},jt.prototype.first=function(){var t=this.ub;this.ia=t.Ba,this.Ra=0;var e=(t=t.j).length,o=this.ff;if(null!==o){for(var a=0;a<e;){var u=t[a];if(o(u))return this.key=this.Ra=a,this.value=u;a++}return null}return 0<e?(t=t[0],this.key=0,this.value=t):null},jt.prototype.any=function(t){var e=this.ub;e.Ha=null,this.Ra=-1;for(var o=(e=e.j).length,a=this.ff,u=0;u<o;u++){var c=e[u];if((null===a||a(c))&&t(c))return!0}return!1},jt.prototype.all=function(t){var e=this.ub;e.Ha=null,this.Ra=-1;for(var o=(e=e.j).length,a=this.ff,u=0;u<o;u++){var c=e[u];if((null===a||a(c))&&!t(c))return!1}return!0},jt.prototype.each=function(t){var e=this.ub;e.Ha=null,this.Ra=-1;for(var o=(e=e.j).length,a=this.ff,u=0;u<o;u++){var c=e[u];(null===a||a(c))&&t(c)}return this},jt.prototype.map=function(t){var e=this.ub;e.Ha=null,this.Ra=-1;for(var o=[],a=(e=e.j).length,u=this.ff,c=0;c<a;c++){var g=e[c];(null===u||u(g))&&o.push(t(g))}return(t=new Vt).j=o,t.pb(),t.iterator},jt.prototype.filter=function(t){var e=this.ub;e.Ha=null,this.Ra=-1;for(var o=[],a=(e=e.j).length,u=this.ff,c=0;c<a;c++){var g=e[c];(null===u||u(g))&&t(g)&&o.push(g)}return(t=new Vt).j=o,t.pb(),t.iterator},jt.prototype.Sd=function(){this.key=-1,this.value=null,this.ia=-1,this.ff=null,this.ub.Ha=this},jt.prototype.toString=function(){return"ListIterator@"+this.Ra+"/"+this.ub.count},W.Object.defineProperties(jt.prototype,{iterator:{get:function(){return this}},predicate:{get:function(){return this.ff},set:function(t){this.ff=t}},count:{get:function(){var t=this.ff;if(null!==t){for(var e=0,o=this.ub.j,a=o.length,u=0;u<a;u++)t(o[u])&&e++;return e}return this.ub.j.length}}}),jt.prototype.first=jt.prototype.first,jt.prototype.hasNext=jt.prototype.rd,jt.prototype.next=jt.prototype.next,jt.prototype.reset=jt.prototype.reset,jt.className="ListIterator",Kt.prototype.reset=function(){var t=this.ub;t.gh=null,this.ia=t.Ba,this.Ra=t.j.length},Kt.prototype.next=function(){var t=this.ub;if(t.Ba!==this.ia&&0>this.key)return!1;var e=--this.Ra;return 0<=e?(this.key=e,this.value=t.j[e],!0):(this.Sd(),!1)},Kt.prototype.rd=function(){return this.next()},Kt.prototype.first=function(){var t=this.ub;this.ia=t.Ba;var e=t.j;return this.Ra=t=e.length-1,0<=t?(e=e[t],this.key=t,this.value=e):null},Kt.prototype.any=function(t){var e=this.ub;e.gh=null;var o=(e=e.j).length;for(this.Ra=o,--o;0<=o;o--)if(t(e[o]))return!0;return!1},Kt.prototype.all=function(t){var e=this.ub;e.gh=null;var o=(e=e.j).length;for(this.Ra=o,--o;0<=o;o--)if(!t(e[o]))return!1;return!0},Kt.prototype.each=function(t){var e=this.ub;e.gh=null;var o=(e=e.j).length;for(this.Ra=o,--o;0<=o;o--)t(e[o]);return this},Kt.prototype.map=function(t){var e=this.ub;e.gh=null;var o=[],a=(e=e.j).length;for(this.Ra=a,--a;0<=a;a--)o.push(t(e[a]));return(t=new Vt).j=o,t.pb(),t.iterator},Kt.prototype.filter=function(t){var e=this.ub;e.gh=null;var o=[],a=(e=e.j).length;for(this.Ra=a,--a;0<=a;a--){var u=e[a];t(u)&&o.push(u)}return(t=new Vt).j=o,t.pb(),t.iterator},Kt.prototype.Sd=function(){this.key=-1,this.value=null,this.ia=-1,this.ub.gh=this},Kt.prototype.toString=function(){return"ListIteratorBackwards("+this.Ra+"/"+this.ub.count+")"},W.Object.defineProperties(Kt.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ub.j.length}}}),Kt.prototype.first=Kt.prototype.first,Kt.prototype.hasNext=Kt.prototype.rd,Kt.prototype.next=Kt.prototype.next,Kt.prototype.reset=Kt.prototype.reset,Kt.className="ListIteratorBackwards",(ot=Vt.prototype).pb=function(){var t=this.Ba;999999999<++t&&(t=0),this.Ba=t},ot.freeze=function(){return this.v=!0,this},ot.ea=function(){return this.v=!1,this},ot.toString=function(){return"List()#"+we(this)},ot.add=function(t){return null===t||(this.v&&Z(this,t),this.j.push(t),this.pb()),this},ot.push=function(t){this.add(t)},ot.addAll=function(t){if(null===t)return this;this.v&&Z(this);var e=this.j;if(Et(t))for(var o=t.length,a=0;a<o;a++)e.push(t[a]);else for(t=t.iterator;t.next();)e.push(t.value);return this.pb(),this},ot.clear=function(){this.v&&Z(this),this.j.length=0,this.pb()},ot.contains=function(t){return null!==t&&-1!==this.j.indexOf(t)},ot.has=function(t){return this.contains(t)},ot.indexOf=function(t){return null===t?-1:this.j.indexOf(t)},ot.J=function(t){var e=this.j;return(0>t||t>=e.length)&&et(t,"0 <= i < length",Vt,"elt:i"),e[t]},ot.get=function(t){return this.J(t)},ot.Pc=function(t,e){var o=this.j;(0>t||t>=o.length)&&et(t,"0 <= i < length",Vt,"setElt:i"),this.v&&Z(this,t),o[t]=e},ot.set=function(t,e){this.Pc(t,e)},ot.first=function(){var t=this.j;return 0===t.length?null:t[0]},ot.Xb=function(){var t=this.j,e=t.length;return 0<e?t[e-1]:null},ot.pop=function(){this.v&&Z(this);var t=this.j;return 0<t.length?t.pop():null},Vt.prototype.any=function(t){for(var e=this.j,o=e.length,a=0;a<o;a++)if(t(e[a]))return!0;return!1},Vt.prototype.all=function(t){for(var e=this.j,o=e.length,a=0;a<o;a++)if(!t(e[a]))return!1;return!0},Vt.prototype.each=function(t){for(var e=this.j,o=e.length,a=0;a<o;a++)t(e[a]);return this},Vt.prototype.map=function(t){for(var e=new Vt,o=[],a=this.j,u=a.length,c=0;c<u;c++)o.push(t(a[c]));return e.j=o,e.pb(),e},Vt.prototype.filter=function(t){for(var e=new Vt,o=[],a=this.j,u=a.length,c=0;c<u;c++){var g=a[c];t(g)&&o.push(g)}return e.j=o,e.pb(),e},(ot=Vt.prototype).wb=function(t,e){0>t&&et(t,">= 0",Vt,"insertAt:i"),this.v&&Z(this,t);var o=this.j;t>=o.length?o.push(e):o.splice(t,0,e),this.pb()},ot.remove=function(t){if(null===t)return!1;this.v&&Z(this,t);var e=this.j;return-1!==(t=e.indexOf(t))&&(t===e.length-1?e.pop():e.splice(t,1),this.pb(),!0)},ot.delete=function(t){return this.remove(t)},ot.cb=function(t){var e=this.j;(0>t||t>=e.length)&&et(t,"0 <= i < length",Vt,"removeAt:i"),this.v&&Z(this,t),t===e.length-1?e.pop():e.splice(t,1),this.pb()},ot.removeRange=function(t,e){var o=this.j,a=o.length;if(0>t)t=0;else if(t>=a)return this;if(0>e)return this;if(e>=a&&(e=a-1),t>e)return this;this.v&&Z(this);for(var u=t,c=e+1;c<a;)o[u++]=o[c++];return o.length=a-(e-t+1),this.pb(),this},Vt.prototype.copy=function(){var t=new Vt,e=this.j;return 0<e.length&&(t.j=Array.prototype.slice.call(e)),t},(ot=Vt.prototype).ma=function(){for(var t=this.j,e=this.count,o=Array(e),a=0;a<e;a++)o[a]=t[a];return o},ot.Lw=function(){for(var t=new Ht,e=this.j,o=this.count,a=0;a<o;a++)t.add(e[a]);return t},ot.sort=function(t){return this.v&&Z(this),this.j.sort(t),this.pb(),this},ot.uj=function(t,e,o){var a=this.j,u=a.length;void 0===e&&(e=0),void 0===o&&(o=u),this.v&&Z(this);var c=o-e;if(1>=c)return this;if((0>e||e>=u-1)&&et(e,"0 <= from < length",Vt,"sortRange:from"),2===c)return 0<t(o=a[e],u=a[e+1])&&(a[e]=u,a[e+1]=o,this.pb()),this;if(0===e)if(o>=u)a.sort(t);else for((e=a.slice(0,o)).sort(t),t=0;t<o;t++)a[t]=e[t];else if(o>=u)for((o=a.slice(e)).sort(t),t=e;t<u;t++)a[t]=o[t-e];else for((u=a.slice(e,o)).sort(t),t=e;t<o;t++)a[t]=u[t-e];return this.pb(),this},ot.reverse=function(){return this.v&&Z(this),this.j.reverse(),this.pb(),this},W.Object.defineProperties(Vt.prototype,{_dataArray:{get:function(){return this.j}},count:{get:function(){return this.j.length}},size:{get:function(){return this.j.length}},length:{get:function(){return this.j.length}},iterator:{get:function(){if(0>=this.j.length)return Ot;var t=this.Ha;return null!==t?(t.reset(),t):new jt(this)}},iteratorBackwards:{get:function(){if(0>=this.j.length)return Ot;var t=this.gh;return null!==t?(t.reset(),t):new Kt(this)}}}),Vt.prototype.reverse=Vt.prototype.reverse,Vt.prototype.sortRange=Vt.prototype.uj,Vt.prototype.sort=Vt.prototype.sort,Vt.prototype.toSet=Vt.prototype.Lw,Vt.prototype.toArray=Vt.prototype.ma,Vt.prototype.removeRange=Vt.prototype.removeRange,Vt.prototype.removeAt=Vt.prototype.cb,Vt.prototype.delete=Vt.prototype.delete,Vt.prototype.remove=Vt.prototype.remove,Vt.prototype.insertAt=Vt.prototype.wb,Vt.prototype.pop=Vt.prototype.pop,Vt.prototype.last=Vt.prototype.Xb,Vt.prototype.first=Vt.prototype.first,Vt.prototype.set=Vt.prototype.set,Vt.prototype.setElt=Vt.prototype.Pc,Vt.prototype.get=Vt.prototype.get,Vt.prototype.elt=Vt.prototype.J,Vt.prototype.indexOf=Vt.prototype.indexOf,Vt.prototype.has=Vt.prototype.has,Vt.prototype.contains=Vt.prototype.contains,Vt.prototype.clear=Vt.prototype.clear,Vt.prototype.addAll=Vt.prototype.addAll,Vt.prototype.push=Vt.prototype.push,Vt.prototype.add=Vt.prototype.add,Vt.prototype.thaw=Vt.prototype.ea,Vt.prototype.freeze=Vt.prototype.freeze,Vt.className="List",Ce.prototype.reset=function(){var t=this.tg;t.Ha=null,this.ia=t.Ba,this.ka=null},Ce.prototype.next=function(){var t=this.tg;if(t.Ba!==this.ia&&null===this.key)return!1;var e=this.ka;return null!==(e=null===e?t.ba:e.pa)?(this.ka=e,this.value=e.value,this.key=e.key,!0):(this.Sd(),!1)},Ce.prototype.rd=function(){return this.next()},Ce.prototype.first=function(){var t=this.tg;if(this.ia=t.Ba,null!==(t=t.ba)){this.ka=t;var e=t.value;return this.key=t.key,this.value=e}return null},Ce.prototype.any=function(t){var e=this.tg;for(this.ka=e.Ha=null,e=e.ba;null!==e;){if(t(e.value))return!0;e=e.pa}return!1},Ce.prototype.all=function(t){var e=this.tg;for(this.ka=e.Ha=null,e=e.ba;null!==e;){if(!t(e.value))return!1;e=e.pa}return!0},Ce.prototype.each=function(t){var e=this.tg;for(this.ka=e.Ha=null,e=e.ba;null!==e;)t(e.value),e=e.pa;return this},Ce.prototype.map=function(t){var e=this.tg;e.Ha=null;var o=new Vt;for(e=e.ba;null!==e;)o.add(t(e.value)),e=e.pa;return o.iterator},Ce.prototype.filter=function(t){var e=this.tg;e.Ha=null;var o=new Vt;for(e=e.ba;null!==e;){var a=e.value;t(a)&&o.add(a),e=e.pa}return o.iterator},Ce.prototype.Sd=function(){this.value=this.key=null,this.ia=-1,this.tg.Ha=this},Ce.prototype.toString=function(){return null!==this.ka?"SetIterator@"+this.ka.value:"SetIterator"},W.Object.defineProperties(Ce.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.tg.Fb}}}),Ce.prototype.first=Ce.prototype.first,Ce.prototype.hasNext=Ce.prototype.rd,Ce.prototype.next=Ce.prototype.next,Ce.prototype.reset=Ce.prototype.reset,Ce.className="SetIterator",(ot=Ht.prototype).pb=function(){var t=this.Ba;999999999<++t&&(t=0),this.Ba=t},ot.freeze=function(){return this.v=!0,this},ot.ea=function(){return this.v=!1,this},ot.toString=function(){return"Set()#"+we(this)},ot.add=function(t){if(null===t)return this;this.v&&Z(this,t);var e=t;return gt(t)&&(e=yi(t)),void 0===this.Hb[e]&&(this.Fb++,t=new Re(t,t),this.Hb[e]=t,null===(e=this.$e)?this.ba=t:(t.Xl=e,e.pa=t),this.$e=t,this.pb()),this},ot.addAll=function(t){if(null===t)return this;if(this.v&&Z(this),Et(t))for(var e=t.length,o=0;o<e;o++)this.add(t[o]);else for(t=t.iterator;t.next();)this.add(t.value);return this},ot.contains=function(t){if(null===t)return!1;var e=t;return(!gt(t)||void 0!==(e=we(t)))&&void 0!==this.Hb[e]},ot.has=function(t){return this.contains(t)},ot.Ez=function(t){if(null===t)return!0;for(t=t.iterator;t.next();)if(!this.contains(t.value))return!1;return!0},ot.Fz=function(t){if(null===t)return!0;for(t=t.iterator;t.next();)if(this.contains(t.value))return!0;return!1},ot.first=function(){var t=this.ba;return null===t?null:t.value},Ht.prototype.any=function(t){for(var e=this.ba;null!==e;){if(t(e.value))return!0;e=e.pa}return!1},Ht.prototype.all=function(t){for(var e=this.ba;null!==e;){if(!t(e.value))return!1;e=e.pa}return!0},Ht.prototype.each=function(t){for(var e=this.ba;null!==e;)t(e.value),e=e.pa;return this},Ht.prototype.map=function(t){for(var e=new Ht,o=this.ba;null!==o;)e.add(t(o.value)),o=o.pa;return e},Ht.prototype.filter=function(t){for(var e=new Ht,o=this.ba;null!==o;){var a=o.value;t(a)&&e.add(a),o=o.pa}return e},(ot=Ht.prototype).remove=function(t){if(null===t)return!1;this.v&&Z(this,t);var e=t;if(gt(t)&&void 0===(e=we(t))||void 0===(t=this.Hb[e]))return!1;var o=t.pa,a=t.Xl;return null!==o&&(o.Xl=a),null!==a&&(a.pa=o),this.ba===t&&(this.ba=o),this.$e===t&&(this.$e=a),delete this.Hb[e],this.Fb--,this.pb(),!0},ot.delete=function(t){return this.remove(t)},ot.Zq=function(t){if(null===t)return this;if(this.v&&Z(this),Et(t))for(var e=t.length,o=0;o<e;o++)this.remove(t[o]);else for(t=t.iterator;t.next();)this.remove(t.value);return this},ot.YA=function(t){if(null===t||0===this.count)return this;this.v&&Z(this);var e=new Ht;e.addAll(t),t=[];for(var o=this.iterator;o.next();){var a=o.value;e.contains(a)||t.push(a)}return this.Zq(t),this},ot.clear=function(){this.v&&Z(this),this.Hb={},this.Fb=0,null!==this.Ha&&this.Ha.reset(),this.$e=this.ba=null,this.pb()},Ht.prototype.copy=function(){var o,t=new Ht,e=this.Hb;for(o in e)t.add(e[o].value);return t},Ht.prototype.ma=function(){var a,t=Array(this.Fb),e=this.Hb,o=0;for(a in e)t[o]=e[a].value,o++;return t},Ht.prototype.Kw=function(){var o,t=new Vt,e=this.Hb;for(o in e)t.add(e[o].value);return t},W.Object.defineProperties(Ht.prototype,{count:{get:function(){return this.Fb}},size:{get:function(){return this.Fb}},iterator:{get:function(){if(0>=this.Fb)return Ot;var t=this.Ha;return null!==t?(t.reset(),t):new Ce(this)}}}),Ht.prototype.toList=Ht.prototype.Kw,Ht.prototype.toArray=Ht.prototype.ma,Ht.prototype.clear=Ht.prototype.clear,Ht.prototype.retainAll=Ht.prototype.YA,Ht.prototype.removeAll=Ht.prototype.Zq,Ht.prototype.delete=Ht.prototype.delete,Ht.prototype.remove=Ht.prototype.remove,Ht.prototype.first=Ht.prototype.first,Ht.prototype.containsAny=Ht.prototype.Fz,Ht.prototype.containsAll=Ht.prototype.Ez,Ht.prototype.has=Ht.prototype.has,Ht.prototype.contains=Ht.prototype.contains,Ht.prototype.addAll=Ht.prototype.addAll,Ht.prototype.add=Ht.prototype.add,Ht.prototype.thaw=Ht.prototype.ea,Ht.prototype.freeze=Ht.prototype.freeze;var de=1;function Fe(t){this.ga=t,this.ia=t.Ba,this.ka=null}function Yt(t){Ht.call(this),ge(this),this.v=!0,this.ga=t}function ee(t){this.ga=t,t.Ze=null,this.ia=t.Ba,this.ka=null}function Re(t,e){this.key=t,this.value=e,this.Xl=this.pa=null}function Nt(t){this.ga=t,t.Ha=null,this.ia=t.Ba,this.ka=null}function vt(t){ge(this),this.v=!1,this.Hb={},this.Fb=0,this.Ze=this.Ha=null,this.Ba=0,this.$e=this.ba=null,void 0!==t&&("function"==typeof t||"string"==typeof t?mt():this.addAll(t))}function at(t,e){void 0===t?this.y=this.x=0:"number"==typeof t&&"number"==typeof e?(this.x=t,this.y=e):V("Invalid arguments to Point constructor: "+t+", "+e),this.v=!1}function qt(t){if("string"==typeof t){t=t.split(" ");for(var e=0,o=0;""===t[e];)e++;var a=t[e++];a&&(o=parseFloat(a));for(var u=0;""===t[e];)e++;return(a=t[e++])&&(u=parseFloat(a)),new at(o,u)}return new at}function he(t){return t.x.toString()+" "+t.y.toString()}function Xe(t,e){if(0===t)return 0<e?90:0>e?270:0;if(0===e)return 0<t?0:180;if(isNaN(t)||isNaN(e))return 0;var o=180*Math.atan(Math.abs(e/t))/Math.PI;return 0>t?o=0>e?o+180:180-o:0>e&&(o=360-o),o}function ve(t,e){return e.Jd(t),t}function Te(t,e,o,a,u,c){var g=u-o,_=c-a,A=g*g+_*_,I=-(o-=t)*g-(a-=e)*_;return 0>=I||I>=A?(g=u-t,_=c-e,Math.min(o*o+a*a,g*g+_*_)):(t=g*a-_*o)*t/A}function Qi(t,e,o,a){return(t=o-t)*t+(e=a-e)*e}function ni(t,e,o,a){return e=a-e,0==(t=o-t)?0<e?90:0>e?270:0:0===e?0<t?0:180:isNaN(t)||isNaN(e)?0:(a=180*Math.atan(Math.abs(e/t))/Math.PI,0>t?a=0>e?a+180:180-a:0>e&&(a=360-a),a)}Ht.className="Set",Ht.uniqueHash=ge,Ht.hashIdUnique=yi,Ht.hashId=we,Fe.prototype.reset=function(){this.ia=this.ga.Ba,this.ka=null},Fe.prototype.next=function(){var t=this.ga;if(t.Ba!==this.ia&&null===this.key)return!1;var e=this.ka;return null!==(e=null===e?t.ba:e.pa)?(this.ka=e,this.value=this.key=t=e.key,!0):(this.Sd(),!1)},Fe.prototype.rd=function(){return this.next()},Fe.prototype.first=function(){var t=this.ga;return this.ia=t.Ba,null!==(t=t.ba)?(this.ka=t,this.value=this.key=t=t.key):null},Fe.prototype.any=function(t){var e=this.ga;for(this.ka=null,e=e.ba;null!==e;){if(t(e.key))return!0;e=e.pa}return!1},Fe.prototype.all=function(t){var e=this.ga;for(this.ka=null,e=e.ba;null!==e;){if(!t(e.key))return!1;e=e.pa}return!0},Fe.prototype.each=function(t){var e=this.ga;for(this.ka=null,e=e.ba;null!==e;)t(e.key),e=e.pa;return this},Fe.prototype.map=function(t){var e=this.ga;this.ka=null;var o=new Vt;for(e=e.ba;null!==e;)o.add(t(e.key)),e=e.pa;return o.iterator},Fe.prototype.filter=function(t){var e=this.ga;this.ka=null;var o=new Vt;for(e=e.ba;null!==e;){var a=e.key;t(a)&&o.add(a),e=e.pa}return o.iterator},Fe.prototype.Sd=function(){this.value=this.key=null,this.ia=-1},Fe.prototype.toString=function(){return null!==this.ka?"MapKeySetIterator@"+this.ka.value:"MapKeySetIterator"},W.Object.defineProperties(Fe.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ga.Fb}}}),Fe.prototype.first=Fe.prototype.first,Fe.prototype.hasNext=Fe.prototype.rd,Fe.prototype.next=Fe.prototype.next,Fe.prototype.reset=Fe.prototype.reset,Fe.className="MapKeySetIterator",K(Yt,Ht),(ot=Yt.prototype).freeze=function(){return this},ot.ea=function(){return this},ot.toString=function(){return"MapKeySet("+this.ga.toString()+")"},ot.add=function(){return V("This Set is read-only: "+this.toString()),this},ot.contains=function(t){return this.ga.contains(t)},ot.has=function(t){return this.contains(t)},ot.remove=function(){return V("This Set is read-only: "+this.toString()),!1},ot.delete=function(t){return this.remove(t)},ot.clear=function(){V("This Set is read-only: "+this.toString())},ot.first=function(){var t=this.ga.ba;return null!==t?t.key:null},Yt.prototype.any=function(t){for(var e=this.ga.ba;null!==e;){if(t(e.key))return!0;e=e.pa}return!1},Yt.prototype.all=function(t){for(var e=this.ga.ba;null!==e;){if(!t(e.key))return!1;e=e.pa}return!0},Yt.prototype.each=function(t){for(var e=this.ga.ba;null!==e;)t(e.key),e=e.pa;return this},Yt.prototype.map=function(t){for(var e=new Ht,o=this.ga.ba;null!==o;)e.add(t(o.key)),o=o.pa;return e},Yt.prototype.filter=function(t){for(var e=new Ht,o=this.ga.ba;null!==o;){var a=o.key;t(a)&&e.add(a),o=o.pa}return e},Yt.prototype.copy=function(){return new Yt(this.ga)},Yt.prototype.Lw=function(){var o,t=new Ht,e=this.ga.Hb;for(o in e)t.add(e[o].key);return t},Yt.prototype.ma=function(){var a,t=this.ga.Hb,e=Array(this.ga.Fb),o=0;for(a in t)e[o]=t[a].key,o++;return e},Yt.prototype.Kw=function(){var o,t=new Vt,e=this.ga.Hb;for(o in e)t.add(e[o].key);return t},W.Object.defineProperties(Yt.prototype,{count:{get:function(){return this.ga.Fb}},size:{get:function(){return this.ga.Fb}},iterator:{get:function(){return 0>=this.ga.Fb?Ot:new Fe(this.ga)}}}),Yt.prototype.toList=Yt.prototype.Kw,Yt.prototype.toArray=Yt.prototype.ma,Yt.prototype.toSet=Yt.prototype.Lw,Yt.prototype.first=Yt.prototype.first,Yt.prototype.clear=Yt.prototype.clear,Yt.prototype.delete=Yt.prototype.delete,Yt.prototype.remove=Yt.prototype.remove,Yt.prototype.has=Yt.prototype.has,Yt.prototype.contains=Yt.prototype.contains,Yt.prototype.add=Yt.prototype.add,Yt.prototype.thaw=Yt.prototype.ea,Yt.prototype.freeze=Yt.prototype.freeze,Yt.className="MapKeySet",ee.prototype.reset=function(){var t=this.ga;t.Ze=null,this.ia=t.Ba,this.ka=null},ee.prototype.next=function(){var t=this.ga;if(t.Ba!==this.ia&&null===this.key)return!1;var e=this.ka;return null!==(e=null===e?t.ba:e.pa)?(this.ka=e,this.value=e.value,this.key=e.key,!0):(this.Sd(),!1)},ee.prototype.rd=function(){return this.next()},ee.prototype.first=function(){var t=this.ga;if(this.ia=t.Ba,null!==(t=t.ba)){this.ka=t;var e=t.value;return this.key=t.key,this.value=e}return null},ee.prototype.any=function(t){var e=this.ga;for(this.ka=e.Ze=null,e=e.ba;null!==e;){if(t(e.value))return!0;e=e.pa}return!1},ee.prototype.all=function(t){var e=this.ga;for(this.ka=e.Ze=null,e=e.ba;null!==e;){if(!t(e.value))return!1;e=e.pa}return!0},ee.prototype.each=function(t){var e=this.ga;for(this.ka=e.Ze=null,e=e.ba;null!==e;)t(e.value),e=e.pa;return this},ee.prototype.map=function(t){var e=this.ga;this.ka=e.Ze=null;var o=new Vt;for(e=e.ba;null!==e;)o.add(t(e.value)),e=e.pa;return o.iterator},ee.prototype.filter=function(t){var e=this.ga;this.ka=e.Ze=null;var o=new Vt;for(e=e.ba;null!==e;){var a=e.value;t(a)&&o.add(a),e=e.pa}return o.iterator},ee.prototype.Sd=function(){this.value=this.key=null,this.ia=-1,this.ga.Ze=this},ee.prototype.toString=function(){return null!==this.ka?"MapValueSetIterator@"+this.ka.value:"MapValueSetIterator"},W.Object.defineProperties(ee.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ga.Fb}}}),ee.prototype.first=ee.prototype.first,ee.prototype.hasNext=ee.prototype.rd,ee.prototype.next=ee.prototype.next,ee.prototype.reset=ee.prototype.reset,ee.className="MapValueSetIterator",Re.prototype.toString=function(){return"{"+this.key+":"+this.value+"}"},Re.className="KeyValuePair",Nt.prototype.reset=function(){var t=this.ga;t.Ha=null,this.ia=t.Ba,this.ka=null},Nt.prototype.next=function(){var t=this.ga;if(t.Ba!==this.ia&&null===this.key)return!1;var e=this.ka;return null!==(e=null===e?t.ba:e.pa)?(this.ka=e,this.key=e.key,this.value=e.value,!0):(this.Sd(),!1)},Nt.prototype.rd=function(){return this.next()},Nt.prototype.first=function(){var t=this.ga;return this.ia=t.Ba,null!==(t=t.ba)?(this.ka=t,this.key=t.key,this.value=t.value,t):null},Nt.prototype.any=function(t){var e=this.ga;for(this.ka=e.Ha=null,e=e.ba;null!==e;){if(t(e))return!0;e=e.pa}return!1},Nt.prototype.all=function(t){var e=this.ga;for(this.ka=e.Ha=null,e=e.ba;null!==e;){if(!t(e))return!1;e=e.pa}return!0},Nt.prototype.each=function(t){var e=this.ga;for(this.ka=e.Ha=null,e=e.ba;null!==e;)t(e),e=e.pa;return this},Nt.prototype.map=function(t){var e=this.ga;this.ka=e.Ha=null;var o=new Vt;for(e=e.ba;null!==e;)o.add(t(e)),e=e.pa;return o.iterator},Nt.prototype.filter=function(t){var e=this.ga;this.ka=e.Ha=null;var o=new Vt;for(e=e.ba;null!==e;)t(e)&&o.add(e),e=e.pa;return o.iterator},Nt.prototype.Sd=function(){this.value=this.key=null,this.ia=-1,this.ga.Ha=this},Nt.prototype.toString=function(){return null!==this.ka?"MapIterator@"+this.ka:"MapIterator"},W.Object.defineProperties(Nt.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ga.Fb}}}),Nt.prototype.first=Nt.prototype.first,Nt.prototype.hasNext=Nt.prototype.rd,Nt.prototype.next=Nt.prototype.next,Nt.prototype.reset=Nt.prototype.reset,Nt.className="MapIterator",(ot=vt.prototype).pb=function(){var t=this.Ba;999999999<++t&&(t=0),this.Ba=t},ot.freeze=function(){return this.v=!0,this},ot.ea=function(){return this.v=!1,this},ot.toString=function(){return"Map()#"+we(this)},ot.add=function(t,e){this.v&&Z(this,t);var o=t;gt(t)&&(o=yi(t));var a=this.Hb[o];return void 0===a?(this.Fb++,t=new Re(t,e),this.Hb[o]=t,null===(o=this.$e)?this.ba=t:(t.Xl=o,o.pa=t),this.$e=t,this.pb()):a.value=e,this},ot.set=function(t,e){return this.add(t,e)},ot.addAll=function(t){if(null===t)return this;if(Et(t))for(var e=t.length,o=0;o<e;o++){var a=t[o];this.add(a.key,a.value)}else if(t instanceof vt)for(t=t.iterator;t.next();)this.add(t.key,t.value);else for(t=t.iterator;t.next();)this.add((e=t.value).key,e.value);return this},ot.first=function(){return this.ba},vt.prototype.any=function(t){for(var e=this.ba;null!==e;){if(t(e))return!0;e=e.pa}return!1},vt.prototype.all=function(t){for(var e=this.ba;null!==e;){if(!t(e))return!1;e=e.pa}return!0},vt.prototype.each=function(t){for(var e=this.ba;null!==e;)t(e),e=e.pa;return this},vt.prototype.map=function(t){for(var e=new vt,o=this.ba;null!==o;)e.add(o.key,t(o)),o=o.pa;return e},vt.prototype.filter=function(t){for(var e=new vt,o=this.ba;null!==o;)t(o)&&e.add(o.key,o.value),o=o.pa;return e},(ot=vt.prototype).contains=function(t){var e=t;return(!gt(t)||void 0!==(e=we(t)))&&void 0!==this.Hb[e]},ot.has=function(t){return this.contains(t)},ot.G=function(t){var e=t;return gt(t)&&void 0===(e=we(t))||void 0===(t=this.Hb[e])?null:t.value},ot.get=function(t){return this.G(t)},ot.remove=function(t){if(null===t)return!1;this.v&&Z(this,t);var e=t;if(gt(t)&&void 0===(e=we(t))||void 0===(t=this.Hb[e]))return!1;var o=t.pa,a=t.Xl;return null!==o&&(o.Xl=a),null!==a&&(a.pa=o),this.ba===t&&(this.ba=o),this.$e===t&&(this.$e=a),delete this.Hb[e],this.Fb--,this.pb(),!0},ot.delete=function(t){return this.remove(t)},ot.clear=function(){this.v&&Z(this),this.Hb={},this.Fb=0,null!==this.Ha&&this.Ha.reset(),null!==this.Ze&&this.Ze.reset(),this.$e=this.ba=null,this.pb()},vt.prototype.copy=function(){var o,t=new vt,e=this.Hb;for(o in e){var a=e[o];t.add(a.key,a.value)}return t},vt.prototype.ma=function(){var a,t=this.Hb,e=Array(this.Fb),o=0;for(a in t){var u=t[a];e[o]=new Re(u.key,u.value),o++}return e},vt.prototype.Kf=function(){return new Yt(this)},W.Object.defineProperties(vt.prototype,{count:{get:function(){return this.Fb}},size:{get:function(){return this.Fb}},iterator:{get:function(){if(0>=this.count)return Ot;var t=this.Ha;return null!==t?(t.reset(),t):new Nt(this)}},iteratorKeys:{get:function(){return 0>=this.count?Ot:new Fe(this)}},iteratorValues:{get:function(){if(0>=this.count)return Ot;var t=this.Ze;return null!==t?(t.reset(),t):new ee(this)}}}),vt.prototype.toKeySet=vt.prototype.Kf,vt.prototype.toArray=vt.prototype.ma,vt.prototype.clear=vt.prototype.clear,vt.prototype.delete=vt.prototype.delete,vt.prototype.remove=vt.prototype.remove,vt.prototype.get=vt.prototype.get,vt.prototype.getValue=vt.prototype.G,vt.prototype.has=vt.prototype.has,vt.prototype.contains=vt.prototype.contains,vt.prototype.first=vt.prototype.first,vt.prototype.addAll=vt.prototype.addAll,vt.prototype.set=vt.prototype.set,vt.prototype.add=vt.prototype.add,vt.prototype.thaw=vt.prototype.ea,vt.prototype.freeze=vt.prototype.freeze,vt.className="Map",at.prototype.assign=function(t){return this.x=t.x,this.y=t.y,this},at.prototype.h=function(t,e){return this.x=t,this.y=e,this},at.prototype.Ig=function(t,e){return this.x=t,this.y=e,this},at.prototype.set=function(t){return this.x=t.x,this.y=t.y,this},at.prototype.copy=function(){var t=new at;return t.x=this.x,t.y=this.y,t},(ot=at.prototype).ca=function(){return this.v=!0,Object.freeze(this),this},ot.H=function(){return this.v||Object.isFrozen(this)?this:this.copy().freeze()},ot.freeze=function(){return this.v=!0,this},ot.ea=function(){return Object.isFrozen(this)&&V("cannot thaw constant: "+this),this.v=!1,this},ot.toString=function(){return"Point("+this.x+","+this.y+")"},ot.w=function(t){return t instanceof at&&this.x===t.x&&this.y===t.y},ot.fj=function(t,e){return this.x===t&&this.y===e},ot.Qa=function(t){return me.A(this.x,t.x)&&me.A(this.y,t.y)},ot.add=function(t){return this.x+=t.x,this.y+=t.y,this},ot.ge=function(t){return this.x-=t.x,this.y-=t.y,this},ot.offset=function(t,e){return this.x+=t,this.y+=e,this},at.prototype.rotate=function(t){if(0===t)return this;var e=this.x,o=this.y;if(0===e&&0===o)return this;if(360<=t?t-=360:0>t&&(t+=360),90===t){t=0;var a=1}else 180===t?(t=-1,a=0):270===t?(t=0,a=-1):(a=t*Math.PI/180,t=Math.cos(a),a=Math.sin(a));return this.x=t*e-a*o,this.y=a*e+t*o,this},(ot=at.prototype).scale=function(t,e){return this.x*=t,this.y*=e,this},ot.Ie=function(t){var e=t.x-this.x;return e*e+(t=t.y-this.y)*t},ot.qd=function(t,e){return(t-=this.x)*t+(e-=this.y)*e},ot.normalize=function(){var t=this.x,e=this.y,o=Math.sqrt(t*t+e*e);return 0<o&&(this.x=t/o,this.y=e/o),this},ot.Pa=function(t){return Xe(t.x-this.x,t.y-this.y)},ot.direction=function(t,e){return Xe(t-this.x,e-this.y)},ot.OA=function(t,e,o,a){return me.Qh(t,e,o,a,this.x,this.y,this),this},ot.PA=function(t,e){return me.Qh(t.x,t.y,e.x,e.y,this.x,this.y,this),this},ot.cB=function(t,e,o,a){return me.Gq(this.x,this.y,t,e,o,a,this),this},ot.dB=function(t,e){return me.Gq(this.x,this.y,t.x,t.y,e.width,e.height,this),this},ot.tj=function(t,e){return this.x=t.x+e.x*t.width+e.offsetX,this.y=t.y+e.y*t.height+e.offsetY,this},ot.Uk=function(t,e,o,a,u){return this.x=t+u.x*o+u.offsetX,this.y=e+u.y*a+u.offsetY,this},ot.transform=function(t){return t.ta(this),this},ot.o=function(){return isFinite(this.x)&&isFinite(this.y)},at.alloc=function(){var t=_i.pop();return void 0===t?new at:t},at.allocAt=function(t,e){var o=_i.pop();return void 0===o?new at(t,e):(o.x=t,o.y=e,o)},at.free=function(t){_i.push(t)},at.prototype.isReal=at.prototype.o,at.prototype.setSpot=at.prototype.Uk,at.prototype.setRectSpot=at.prototype.tj,at.prototype.snapToGridPoint=at.prototype.dB,at.prototype.snapToGrid=at.prototype.cB,at.prototype.projectOntoLineSegmentPoint=at.prototype.PA,at.prototype.projectOntoLineSegment=at.prototype.OA,at.intersectingLineSegments=function(t,e,o,a,u,c,g,_){return me.Cm(t,e,o,a,u,c,g,_)},at.prototype.direction=at.prototype.direction,at.prototype.directionPoint=at.prototype.Pa,at.prototype.normalize=at.prototype.normalize,at.prototype.distanceSquared=at.prototype.qd,at.prototype.distanceSquaredPoint=at.prototype.Ie,at.prototype.scale=at.prototype.scale,at.prototype.rotate=at.prototype.rotate,at.prototype.offset=at.prototype.offset,at.prototype.subtract=at.prototype.ge,at.prototype.add=at.prototype.add,at.prototype.equalsApprox=at.prototype.Qa,at.prototype.equalTo=at.prototype.fj,at.prototype.equals=at.prototype.w,at.prototype.set=at.prototype.set,at.prototype.setTo=at.prototype.Ig;var ei,Ui,mi,bi,En,on,Di,Pe,ri,Ee,ne,Se,_i=[];function He(t,e){void 0===t?this.height=this.width=0:"number"==typeof t&&(0<=t||isNaN(t))&&"number"==typeof e&&(0<=e||isNaN(e))?(this.width=t,this.height=e):V("Invalid arguments to Size constructor: "+t+", "+e),this.v=!1}function ae(t){if("string"==typeof t){t=t.split(" ");for(var e=0,o=0;""===t[e];)e++;var a=t[e++];a&&(o=parseFloat(a));for(var u=0;""===t[e];)e++;return(a=t[e++])&&(u=parseFloat(a)),new He(o,u)}return new He}function Me(t){return t.width.toString()+" "+t.height.toString()}at.className="Point",at.parse=qt,at.stringify=he,at.distanceLineSegmentSquared=Te,at.distanceSquared=Qi,at.direction=ni,at.Origin=ei=new at(0,0).ca(),at.InfiniteTopLeft=Ui=new at(-1/0,-1/0).ca(),at.InfiniteBottomRight=mi=new at(1/0,1/0).ca(),at.SixPoint=bi=new at(6,6).ca(),at.NoPoint=En=new at(NaN,NaN).ca(),at.parse=qt,at.stringify=he,at.distanceLineSegmentSquared=Te,at.distanceSquared=Qi,at.direction=ni,He.prototype.assign=function(t){return this.width=t.width,this.height=t.height,this},He.prototype.h=function(t,e){return this.width=t,this.height=e,this},He.prototype.Ig=function(t,e){return this.width=t,this.height=e,this},He.prototype.set=function(t){return this.width=t.width,this.height=t.height,this},He.prototype.copy=function(){var t=new He;return t.width=this.width,t.height=this.height,t},(ot=He.prototype).ca=function(){return this.v=!0,Object.freeze(this),this},ot.H=function(){return this.v||Object.isFrozen(this)?this:this.copy().freeze()},ot.freeze=function(){return this.v=!0,this},ot.ea=function(){return Object.isFrozen(this)&&V("cannot thaw constant: "+this),this.v=!1,this},ot.toString=function(){return"Size("+this.width+","+this.height+")"},ot.w=function(t){return t instanceof He&&this.width===t.width&&this.height===t.height},ot.fj=function(t,e){return this.width===t&&this.height===e},ot.Qa=function(t){return me.A(this.width,t.width)&&me.A(this.height,t.height)},ot.o=function(){return isFinite(this.width)&&isFinite(this.height)},He.alloc=function(){var t=$e.pop();return void 0===t?new He:t},He.free=function(t){$e.push(t)},He.prototype.isReal=He.prototype.o,He.prototype.equalsApprox=He.prototype.Qa,He.prototype.equalTo=He.prototype.fj,He.prototype.equals=He.prototype.w,He.prototype.set=He.prototype.set,He.prototype.setTo=He.prototype.Ig;var $e=[];function te(t,e,o,a){void 0===t?this.height=this.width=this.y=this.x=0:t instanceof at?(o=t.x,t=t.y,e instanceof at?(a=e.x,e=e.y,this.x=Math.min(o,a),this.y=Math.min(t,e),this.width=Math.abs(o-a),this.height=Math.abs(t-e)):e instanceof He?(this.x=o,this.y=t,this.width=e.width,this.height=e.height):V("Incorrect arguments supplied to Rect constructor")):"number"==typeof t&&"number"==typeof e&&"number"==typeof o&&(0<=o||isNaN(o))&&"number"==typeof a&&(0<=a||isNaN(a))?(this.x=t,this.y=e,this.width=o,this.height=a):V("Invalid arguments to Rect constructor: "+t+", "+e+", "+o+", "+a),this.v=!1}function Ie(t,e,o){t.width=e,t.height=o}function tn(t){if("string"==typeof t){t=t.split(" ");for(var e=0,o=0;""===t[e];)e++;var a=t[e++];a&&(o=parseFloat(a));for(var u=0;""===t[e];)e++;(a=t[e++])&&(u=parseFloat(a));for(var c=0;""===t[e];)e++;(a=t[e++])&&(c=parseFloat(a));for(var g=0;""===t[e];)e++;return(a=t[e++])&&(g=parseFloat(a)),new te(o,u,c,g)}return new te}function qe(t){return t.x.toString()+" "+t.y.toString()+" "+t.width.toString()+" "+t.height.toString()}function ci(t,e){return me.aa(t.x,e.x)&&me.aa(t.y,e.y)&&me.aa(t.width,e.width)&&me.aa(t.height,e.height)}function Pn(t,e,o,a,u){var c=t.width;return o+u<=-c?(t.x+=c/2,t.width=0):(t.x-=u,t.width+=o+u),e+a<=-(o=t.height)?(t.y+=o/2,t.height=0):(t.y-=e,t.height+=e+a),t}function ui(t,e,o,a,u){var c=Math.max(t.x,e),g=Math.max(t.y,o);return e=Math.min(t.x+t.width,e+a),o=Math.min(t.y+t.height,o+u),t.x=c,t.y=g,t.width=Math.max(0,e-c),t.height=Math.max(0,o-g),t}function oi(t,e){var o=t.width,a=t.x,u=e.x-10;return!(a>e.width+10+10+u||u>o+a||(o=t.height,(t=t.y)>e.height+10+10+(a=e.y-10)||a>o+t))}function en(t,e,o,a,u){var c=Math.min(t.x,e),g=Math.min(t.y,o);return e=Math.max(t.x+t.width,e+a),o=Math.max(t.y+t.height,o+u),t.x=c,t.y=g,t.width=e-c,t.height=o-g,t}function sn(t,e,o,a,u,c,g,_){return void 0===g&&(g=0),void 0===_&&(_=0),t<=u&&u+g<=t+o&&e<=c&&c+_<=e+a}function Tn(t,e,o,a,u,c,g,_){return!(t>g+u||u>o+t||e>_+c||c>a+e)}He.className="Size",He.parse=ae,He.stringify=Me,He.ZeroSize=on=new He(0,0).ca(),He.OneSize=Di=new He(1,1).ca(),He.SixSize=Pe=new He(6,6).ca(),He.EightSize=ri=new He(8,8).ca(),He.TenSize=Ee=new He(10,10).ca(),He.InfiniteSize=ne=new He(1/0,1/0).ca(),He.NoSize=Se=new He(NaN,NaN).ca(),He.parse=ae,He.stringify=Me,(ot=te.prototype).assign=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},ot.h=function(t,e,o,a){return this.x=t,this.y=e,this.width=o,this.height=a,this},ot.Ig=function(t,e,o,a){return this.x=t,this.y=e,this.width=o,this.height=a,this},ot.set=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},ot.Qc=function(t){return this.x=t.x,this.y=t.y,this},ot.bB=function(t){return this.width=t.width,this.height=t.height,this},te.prototype.copy=function(){var t=new te;return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},(ot=te.prototype).ca=function(){return this.v=!0,Object.freeze(this),this},ot.H=function(){return this.v||Object.isFrozen(this)?this:this.copy().freeze()},ot.freeze=function(){return this.v=!0,this},ot.ea=function(){return Object.isFrozen(this)&&V("cannot thaw constant: "+this),this.v=!1,this},ot.toString=function(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"},ot.w=function(t){return t instanceof te&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},ot.fj=function(t,e,o,a){return this.x===t&&this.y===e&&this.width===o&&this.height===a},ot.Qa=function(t){return me.A(this.x,t.x)&&me.A(this.y,t.y)&&me.A(this.width,t.width)&&me.A(this.height,t.height)},ot.$=function(t){return this.x<=t.x&&this.x+this.width>=t.x&&this.y<=t.y&&this.y+this.height>=t.y},ot.Ge=function(t){return this.x<=t.x&&t.x+t.width<=this.x+this.width&&this.y<=t.y&&t.y+t.height<=this.y+this.height},ot.contains=function(t,e,o,a){return void 0===o&&(o=0),void 0===a&&(a=0),this.x<=t&&t+o<=this.x+this.width&&this.y<=e&&e+a<=this.y+this.height},ot.offset=function(t,e){return this.x+=t,this.y+=e,this},ot.Jc=function(t,e){return Pn(this,e,t,e,t)},ot.uq=function(t){return Pn(this,t.top,t.right,t.bottom,t.left)},ot.Jw=function(t){return Pn(this,-t.top,-t.right,-t.bottom,-t.left)},ot.sA=function(t,e,o,a){return Pn(this,t,e,o,a)},ot.Dy=function(t){return ui(this,t.x,t.y,t.width,t.height)},ot.bw=function(t,e,o,a){return ui(this,t,e,o,a)},ot.Mc=function(t){return this.cw(t.x,t.y,t.width,t.height)},ot.cw=function(t,e,o,a){var u=this.width,c=this.x;return!(u!==1/0&&o!==1/0&&(u+=c,o+=t,isNaN(o)||isNaN(u)||c>o||t>u)||(o=this.y,(t=this.height)!==1/0&&a!==1/0&&(t+=o,a+=e,isNaN(a)||isNaN(t)||o>a||e>t)))},ot.Oe=function(t){return en(this,t.x,t.y,0,0)},ot.Rc=function(t){return en(this,t.x,t.y,t.width,t.height)},ot.Rw=function(t,e,o,a){return void 0===o&&(o=0),void 0===a&&(a=0),en(this,t,e,o,a)},ot.Uk=function(t,e,o){return this.x=t-o.offsetX-o.x*this.width,this.y=e-o.offsetY-o.y*this.height,this},ot.o=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},ot.yA=function(){return 0===this.width&&0===this.height},te.alloc=function(){var t=Yn.pop();return void 0===t?new te:t},te.allocAt=function(t,e,o,a){var u=Yn.pop();return void 0===u?new te(t,e,o,a):u.h(t,e,o,a)},te.free=function(t){Yn.push(t)},W.Object.defineProperties(te.prototype,{left:{get:function(){return this.x},set:function(t){this.x=t}},top:{get:function(){return this.y},set:function(t){this.y=t}},right:{get:function(){return this.x+this.width},set:function(t){this.x+=t-(this.x+this.width)}},bottom:{get:function(){return this.y+this.height},set:function(t){this.y+=t-(this.y+this.height)}},position:{get:function(){return new at(this.x,this.y)},set:function(t){this.x=t.x,this.y=t.y}},size:{get:function(){return new He(this.width,this.height)},set:function(t){this.width=t.width,this.height=t.height}},center:{get:function(){return new at(this.x+this.width/2,this.y+this.height/2)},set:function(t){this.x=t.x-this.width/2,this.y=t.y-this.height/2}},centerX:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}}),te.prototype.isEmpty=te.prototype.yA,te.prototype.isReal=te.prototype.o,te.intersectsLineSegment=function(t,e,o,a,u,c,g,_){return me.Ey(t,e,o,a,u,c,g,_)},te.prototype.setSpot=te.prototype.Uk,te.prototype.union=te.prototype.Rw,te.prototype.unionRect=te.prototype.Rc,te.prototype.unionPoint=te.prototype.Oe,te.prototype.intersects=te.prototype.cw,te.prototype.intersectsRect=te.prototype.Mc,te.prototype.intersect=te.prototype.bw,te.prototype.intersectRect=te.prototype.Dy,te.prototype.grow=te.prototype.sA,te.prototype.subtractMargin=te.prototype.Jw,te.prototype.addMargin=te.prototype.uq,te.prototype.inflate=te.prototype.Jc,te.prototype.offset=te.prototype.offset,te.prototype.contains=te.prototype.contains,te.prototype.containsRect=te.prototype.Ge,te.prototype.containsPoint=te.prototype.$,te.prototype.equalsApprox=te.prototype.Qa,te.prototype.equalTo=te.prototype.fj,te.prototype.equals=te.prototype.w,te.prototype.setSize=te.prototype.bB,te.prototype.setPoint=te.prototype.Qc,te.prototype.set=te.prototype.set,te.prototype.setTo=te.prototype.Ig;var Er,In,Yn=[];function nn(t,e,o,a){void 0===t?this.left=this.bottom=this.right=this.top=0:void 0===e?this.left=this.bottom=this.right=this.top=t:void 0===o?(this.top=t,this.right=e,this.bottom=t,this.left=e):void 0!==a?(this.top=t,this.right=e,this.bottom=o,this.left=a):V("Invalid arguments to Margin constructor: "+t+", "+e+", "+o+", "+a),this.v=!1}function Or(t){if("string"==typeof t){t=t.split(" ");for(var e=0,o=NaN;""===t[e];)e++;var a=t[e++];if(a&&(o=parseFloat(a)),isNaN(o))return new nn;for(var u=NaN;""===t[e];)e++;if((a=t[e++])&&(u=parseFloat(a)),isNaN(u))return new nn(o);for(var c=NaN;""===t[e];)e++;if((a=t[e++])&&(c=parseFloat(a)),isNaN(c))return new nn(o,u);for(var g=NaN;""===t[e];)e++;return(a=t[e++])&&(g=parseFloat(a)),isNaN(g)?new nn(o,u):new nn(o,u,c,g)}return new nn}function fr(t){return t.top.toString()+" "+t.right.toString()+" "+t.bottom.toString()+" "+t.left.toString()}te.className="Rect",te.parse=tn,te.stringify=qe,te.contains=sn,te.intersects=Tn,te.ZeroRect=Er=new te(0,0,0,0).ca(),te.NoRect=In=new te(NaN,NaN,NaN,NaN).ca(),te.parse=tn,te.stringify=qe,te.contains=sn,te.intersects=Tn,nn.prototype.assign=function(t){return this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left,this},nn.prototype.Ig=function(t,e,o,a){return this.top=t,this.right=e,this.bottom=o,this.left=a,this},nn.prototype.set=function(t){return this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left,this},nn.prototype.copy=function(){var t=new nn;return t.top=this.top,t.right=this.right,t.bottom=this.bottom,t.left=this.left,t},(ot=nn.prototype).ca=function(){return this.v=!0,Object.freeze(this),this},ot.H=function(){return this.v||Object.isFrozen(this)?this:this.copy().freeze()},ot.freeze=function(){return this.v=!0,this},ot.ea=function(){return Object.isFrozen(this)&&V("cannot thaw constant: "+this),this.v=!1,this},ot.toString=function(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"},ot.w=function(t){return t instanceof nn&&this.top===t.top&&this.right===t.right&&this.bottom===t.bottom&&this.left===t.left},ot.fj=function(t,e,o,a){return this.top===t&&this.right===e&&this.bottom===o&&this.left===a},ot.Qa=function(t){return me.A(this.top,t.top)&&me.A(this.right,t.right)&&me.A(this.bottom,t.bottom)&&me.A(this.left,t.left)},ot.o=function(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)},nn.alloc=function(){var t=xo.pop();return void 0===t?new nn:t},nn.free=function(t){xo.push(t)},nn.prototype.isReal=nn.prototype.o,nn.prototype.equalsApprox=nn.prototype.Qa,nn.prototype.equalTo=nn.prototype.fj,nn.prototype.equals=nn.prototype.w,nn.prototype.set=nn.prototype.set,nn.prototype.setTo=nn.prototype.Ig;var dr,Un,hn,ar,bn,vo,Ao,Vi,Fn,ph,Qh,Ha,$0,Nf,pr,sa,gy,X0,vy,mh,Bl,ox,yy,sx,gh,K0,Pg,Os,Od,Lf,ax,Ca,aa,Ko,kr,Zo,lx,ux,xo=[];function ki(t,e,o,a){void 0===t?this.offsetY=this.offsetX=this.y=this.x=0:(void 0===e&&(e=0),void 0===o&&(o=0),void 0===a&&(a=0),this.x=t,this.y=e,this.offsetX=o,this.offsetY=a),this.v=!1}function Ki(t,e){return t.x=NaN,t.y=NaN,t.offsetX=e,t}function hx(t){if("string"==typeof t){if("None"===(t=t.trim()))return hn;if("TopLeft"===t)return ar;if("Top"===t||"TopCenter"===t||"MiddleTop"===t)return bn;if("TopRight"===t)return vo;if("Left"===t||"LeftCenter"===t||"MiddleLeft"===t)return Ao;if("Center"===t)return Vi;if("Right"===t||"RightCenter"===t||"MiddleRight"===t)return Fn;if("BottomLeft"===t)return ph;if("Bottom"===t||"BottomCenter"===t||"MiddleBottom"===t)return Qh;if("BottomRight"===t)return Ha;if("TopSide"===t)return $0;if("LeftSide"===t)return Nf;if("RightSide"===t)return pr;if("BottomSide"===t)return sa;if("TopBottomSides"===t)return gy;if("LeftRightSides"===t)return X0;if("TopLeftSides"===t)return vy;if("TopRightSides"===t)return mh;if("BottomLeftSides"===t)return Bl;if("BottomRightSides"===t)return ox;if("NotTopSide"===t)return yy;if("NotLeftSide"===t)return sx;if("NotRightSide"===t)return gh;if("NotBottomSide"===t)return K0;if("AllSides"===t)return Pg;if("Default"===t)return Os;t=t.split(" ");for(var e=0,o=0;""===t[e];)e++;var a=t[e++];void 0!==a&&0<a.length&&(o=parseFloat(a));for(var u=0;""===t[e];)e++;void 0!==(a=t[e++])&&0<a.length&&(u=parseFloat(a));for(var c=0;""===t[e];)e++;void 0!==(a=t[e++])&&0<a.length&&(c=parseFloat(a));for(var g=0;""===t[e];)e++;return void 0!==(a=t[e++])&&0<a.length&&(g=parseFloat(a)),new ki(o,u,c,g)}return new ki}function Zn(t){return t.kb()?t.x.toString()+" "+t.y.toString()+" "+t.offsetX.toString()+" "+t.offsetY.toString():t.toString()}nn.className="Margin",nn.parse=Or,nn.stringify=fr,nn.ZeroMargin=dr=new nn(0,0,0,0).ca(),nn.TwoMargin=Un=new nn(2,2,2,2).ca(),nn.parse=Or,nn.stringify=fr,ki.prototype.assign=function(t){return this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this},ki.prototype.Ig=function(t,e,o,a){return this.x=t,this.y=e,this.offsetX=o,this.offsetY=a,this},ki.prototype.set=function(t){return this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this},ki.prototype.copy=function(){var t=new ki;return t.x=this.x,t.y=this.y,t.offsetX=this.offsetX,t.offsetY=this.offsetY,t},(ot=ki.prototype).ca=function(){return this.v=!0,Object.freeze(this),this},ot.H=function(){return this.v||Object.isFrozen(this)?this:this.copy().freeze()},ot.freeze=function(){return this.v=!0,this},ot.ea=function(){return Object.isFrozen(this)&&V("cannot thaw constant: "+this),this.v=!1,this},ot.toString=function(){return this.kb()?0===this.offsetX&&0===this.offsetY?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.w(hn)?"None":this.w(ar)?"TopLeft":this.w(bn)?"Top":this.w(vo)?"TopRight":this.w(Ao)?"Left":this.w(Vi)?"Center":this.w(Fn)?"Right":this.w(ph)?"BottomLeft":this.w(Qh)?"Bottom":this.w(Ha)?"BottomRight":this.w($0)?"TopSide":this.w(Nf)?"LeftSide":this.w(pr)?"RightSide":this.w(sa)?"BottomSide":this.w(gy)?"TopBottomSides":this.w(X0)?"LeftRightSides":this.w(vy)?"TopLeftSides":this.w(mh)?"TopRightSides":this.w(Bl)?"BottomLeftSides":this.w(ox)?"BottomRightSides":this.w(yy)?"NotTopSide":this.w(sx)?"NotLeftSide":this.w(gh)?"NotRightSide":this.w(K0)?"NotBottomSide":this.w(Pg)?"AllSides":this.w(Os)?"Default":"None"},ot.w=function(t){return t instanceof ki&&(this.x===t.x||isNaN(this.x)&&isNaN(t.x))&&(this.y===t.y||isNaN(this.y)&&isNaN(t.y))&&this.offsetX===t.offsetX&&this.offsetY===t.offsetY},ot.mw=function(){return new ki(.5-(this.x-.5),.5-(this.y-.5),-this.offsetX,-this.offsetY)},ot.Ef=function(t){if(!this.Oc())return!1;if(!t.Oc())if(t.w(Od))t=Nf;else if(t.w(Lf))t=pr;else if(t.w(ax))t=$0;else{if(!t.w(Ca))return!1;t=sa}return(this.offsetY&(t=t.offsetY))===t},ot.kb=function(){return!isNaN(this.x)&&!isNaN(this.y)},ot.nc=function(){return isNaN(this.x)||isNaN(this.y)},ot.Oc=function(){return isNaN(this.x)&&isNaN(this.y)&&1===this.offsetX&&0!==this.offsetY},ot.Vt=function(){return isNaN(this.x)&&isNaN(this.y)&&0===this.offsetX&&0===this.offsetY},ot.Mb=function(){return isNaN(this.x)&&isNaN(this.y)&&-1===this.offsetX&&0===this.offsetY},ki.alloc=function(){var t=Uu.pop();return void 0===t?new ki:t},ki.free=function(t){Uu.push(t)},ki.prototype.isDefault=ki.prototype.Mb,ki.prototype.isNone=ki.prototype.Vt,ki.prototype.isSide=ki.prototype.Oc,ki.prototype.isNoSpot=ki.prototype.nc,ki.prototype.isSpot=ki.prototype.kb,ki.prototype.includesSide=ki.prototype.Ef,ki.prototype.opposite=ki.prototype.mw,ki.prototype.equals=ki.prototype.w,ki.prototype.set=ki.prototype.set,ki.prototype.setTo=ki.prototype.Ig;var Uu=[];function cn(){this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0}ki.className="Spot",ki.parse=hx,ki.stringify=Zn,ki.None=hn=Ki(new ki(0,0,0,0),0).ca(),ki.Default=Os=Ki(new ki(0,0,-1,0),-1).ca(),ki.TopLeft=ar=new ki(0,0,0,0).ca(),ki.TopCenter=bn=new ki(.5,0,0,0).ca(),ki.TopRight=vo=new ki(1,0,0,0).ca(),ki.LeftCenter=Ao=new ki(0,.5,0,0).ca(),ki.Center=Vi=new ki(.5,.5,0,0).ca(),ki.RightCenter=Fn=new ki(1,.5,0,0).ca(),ki.BottomLeft=ph=new ki(0,1,0,0).ca(),ki.BottomCenter=Qh=new ki(.5,1,0,0).ca(),ki.BottomRight=Ha=new ki(1,1,0,0).ca(),ki.MiddleTop=aa=bn,ki.MiddleLeft=Ko=Ao,ki.MiddleRight=kr=Fn,ki.MiddleBottom=Zo=Qh,ki.Top=ax=bn,ki.Left=Od=Ao,ki.Right=Lf=Fn,ki.Bottom=Ca=Qh,ki.TopSide=$0=Ki(new ki(0,0,1,1),1).ca(),ki.LeftSide=Nf=Ki(new ki(0,0,1,2),1).ca(),ki.RightSide=pr=Ki(new ki(0,0,1,4),1).ca(),ki.BottomSide=sa=Ki(new ki(0,0,1,8),1).ca(),ki.TopBottomSides=gy=Ki(new ki(0,0,1,9),1).ca(),ki.LeftRightSides=X0=Ki(new ki(0,0,1,6),1).ca(),ki.TopLeftSides=vy=Ki(new ki(0,0,1,3),1).ca(),ki.TopRightSides=mh=Ki(new ki(0,0,1,5),1).ca(),ki.BottomLeftSides=Bl=Ki(new ki(0,0,1,10),1).ca(),ki.BottomRightSides=ox=Ki(new ki(0,0,1,12),1).ca(),ki.NotTopSide=yy=Ki(new ki(0,0,1,14),1).ca(),ki.NotLeftSide=sx=Ki(new ki(0,0,1,13),1).ca(),ki.NotRightSide=gh=Ki(new ki(0,0,1,11),1).ca(),ki.NotBottomSide=K0=Ki(new ki(0,0,1,7),1).ca(),ki.AllSides=Pg=Ki(new ki(0,0,1,15),1).ca(),lx=new ki(.156,.156).ca(),ux=new ki(.844,.844).ca(),ki.parse=hx,ki.stringify=Zn,cn.prototype.set=function(t){return this.m11=t.m11,this.m12=t.m12,this.m21=t.m21,this.m22=t.m22,this.dx=t.dx,this.dy=t.dy,this},cn.prototype.copy=function(){var t=new cn;return t.m11=this.m11,t.m12=this.m12,t.m21=this.m21,t.m22=this.m22,t.dx=this.dx,t.dy=this.dy,t},cn.prototype.toString=function(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"},cn.prototype.w=function(t){return this.m11===t.m11&&this.m12===t.m12&&this.m21===t.m21&&this.m22===t.m22&&this.dx===t.dx&&this.dy===t.dy},cn.prototype.Tt=function(){return 0===this.dx&&0===this.dy&&1===this.m11&&0===this.m12&&0===this.m21&&1===this.m22},cn.prototype.reset=function(){return this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0,this},cn.prototype.multiply=function(t){var e=this.m11*t.m11+this.m21*t.m12,o=this.m12*t.m11+this.m22*t.m12,a=this.m11*t.m21+this.m21*t.m22,u=this.m12*t.m21+this.m22*t.m22;return this.dx=this.m11*t.dx+this.m21*t.dy+this.dx,this.dy=this.m12*t.dx+this.m22*t.dy+this.dy,this.m11=e,this.m12=o,this.m21=a,this.m22=u,this},cn.prototype.jw=function(t){var e=1/(t.m11*t.m22-t.m12*t.m21),o=t.m22*e,a=-t.m12*e,u=-t.m21*e,c=t.m11*e,g=e*(t.m21*t.dy-t.m22*t.dx);return t=e*(t.m12*t.dx-t.m11*t.dy),e=this.m11*o+this.m21*a,o=this.m12*o+this.m22*a,a=this.m11*u+this.m21*c,u=this.m12*u+this.m22*c,this.dx=this.m11*g+this.m21*t+this.dx,this.dy=this.m12*g+this.m22*t+this.dy,this.m11=e,this.m12=o,this.m21=a,this.m22=u,this},cn.prototype.St=function(){var t=1/(this.m11*this.m22-this.m12*this.m21),e=-this.m12*t,o=-this.m21*t,a=this.m11*t,u=t*(this.m21*this.dy-this.m22*this.dx),c=t*(this.m12*this.dx-this.m11*this.dy);return this.m11=this.m22*t,this.m12=e,this.m21=o,this.m22=a,this.dx=u,this.dy=c,this},cn.prototype.rotate=function(t,e,o){if(360<=t?t-=360:0>t&&(t+=360),0===t)return this;if(this.translate(e,o),90===t){t=0;var a=1}else 180===t?(t=-1,a=0):270===t?(t=0,a=-1):(a=t*Math.PI/180,t=Math.cos(a),a=Math.sin(a));var u=this.m12*t+this.m22*a,c=this.m11*-a+this.m21*t,g=this.m12*-a+this.m22*t;return this.m11=this.m11*t+this.m21*a,this.m12=u,this.m21=c,this.m22=g,this.translate(-e,-o),this},(ot=cn.prototype).translate=function(t,e){return this.dx+=this.m11*t+this.m21*e,this.dy+=this.m12*t+this.m22*e,this},ot.scale=function(t,e){return void 0===e&&(e=t),this.m11*=t,this.m12*=t,this.m21*=e,this.m22*=e,this},ot.ta=function(t){var e=t.x,o=t.y;return t.h(e*this.m11+o*this.m21+this.dx,e*this.m12+o*this.m22+this.dy)},ot.Jd=function(t){var e=1/(this.m11*this.m22-this.m12*this.m21),o=t.x,a=t.y;return t.h(o*this.m22*e+a*-this.m21*e+e*(this.m21*this.dy-this.m22*this.dx),o*-this.m12*e+a*this.m11*e+e*(this.m12*this.dx-this.m11*this.dy))},ot.Zx=function(t){var e=1/(this.m11*this.m22-this.m12*this.m21),o=1.25*t.x,a=1.2*t.y;return t.h(o*this.m22*e+a*-this.m21*e+e*(this.m21*this.dy-this.m22*this.dx),o*-this.m12*e+a*this.m11*e+e*(this.m12*this.dx-this.m11*this.dy))},ot.Pw=function(t){var e=t.x,o=t.y,a=e+t.width,u=o+t.height,c=this.m11,g=this.m12,_=this.m21,A=this.m22,I=this.dx,B=this.dy,H=e*c+o*_+I,dt=e*g+o*A+B,bt=a*c+o*_+I,pt=a*g+o*A+B;return o=e*c+u*_+I,e=e*g+u*A+B,c=a*c+u*_+I,a=a*g+u*A+B,u=Math.min(H,bt),H=Math.max(H,bt),bt=Math.min(dt,pt),dt=Math.max(dt,pt),u=Math.min(u,o),H=Math.max(H,o),bt=Math.min(bt,e),dt=Math.max(dt,e),u=Math.min(u,c),H=Math.max(H,c),bt=Math.min(bt,a),dt=Math.max(dt,a),t.h(u,bt,H-u,dt-bt),t},cn.alloc=function(){var t=Ig.pop();return void 0===t?new cn:t},cn.free=function(t){Ig.push(t)},cn.prototype.transformRect=cn.prototype.Pw,cn.prototype.transformPoint=cn.prototype.ta,cn.prototype.scale=cn.prototype.scale,cn.prototype.translate=cn.prototype.translate,cn.prototype.rotate=cn.prototype.rotate,cn.prototype.invert=cn.prototype.St,cn.prototype.multiplyInverted=cn.prototype.jw,cn.prototype.multiply=cn.prototype.multiply,cn.prototype.reset=cn.prototype.reset,cn.prototype.isIdentity=cn.prototype.Tt,cn.prototype.equals=cn.prototype.w,cn.prototype.set=cn.prototype.set;var Ig=[];cn.className="Transform",cn.xF="54a702f3e53909c447824c6706603faf4c";var me={lB:"7da71ca0ad381e90",Kg:(Math.sqrt(2)-1)/3*4,jx:null,sqrt:function(t){if(0>=t)return 0;var e=me.jx;if(null===e){e=[];for(var o=0;2e3>=o;o++)e[o]=Math.sqrt(o);me.jx=e}return 1>t?2e3>=(o=1/t)?1/e[0|o]:Math.sqrt(t):2e3>=t?e[0|t]:Math.sqrt(t)},A:function(t,e){return.5>(t-=e)&&-.5<t},aa:function(t,e){return 5e-8>(t-=e)&&-5e-8<t},Nb:function(t,e,o,a,u,c,g){if(0>=u&&(u=1e-6),t<o)var _=t,A=o;else _=o,A=t;if(e<a)var I=e,B=a;else I=a,B=e;if(t===o)return I<=g&&g<=B&&t-u<=c&&c<=t+u;if(e===a)return _<=c&&c<=A&&e-u<=g&&g<=e+u;if(A+=u,(_-=u)<=c&&c<=A&&(B+=u,(I-=u)<=g&&g<=B))if(A-_>B-I){if(!(t-o>u||o-t>u))return!0;if((c=(a-e)/(o-t)*(c-t)+e)-u<=g&&g<=c+u)return!0}else{if(!(e-a>u||a-e>u))return!0;if((g=(o-t)/(a-e)*(g-e)+t)-u<=c&&c<=g+u)return!0}return!1},yt:function(t,e,o,a,u,c,g,_,A,I,B,H){if(me.Nb(t,e,g,_,H,o,a)&&me.Nb(t,e,g,_,H,u,c))return me.Nb(t,e,g,_,H,I,B);var dt=(t+o)/2,bt=(e+a)/2,pt=(o+u)/2,Rt=(a+c)/2,Xt=((a=(dt+pt)/2)+(pt=(pt+(u=(u+g)/2))/2))/2,$t=((o=(bt+Rt)/2)+(Rt=(Rt+(c=(c+_)/2))/2))/2;return me.yt(t,e,dt,bt,a,o,Xt,$t,A,I,B,H)||me.yt(Xt,$t,pt,Rt,u,c,g,_,A,I,B,H)},yz:function(t,e,o,a,u,c,g,_,A){var I=(o+u)/2,B=(a+c)/2;return A.h((((t+o)/2+I)/2+(I+(u+g)/2)/2)/2,(((e+a)/2+B)/2+(B+(c+_)/2)/2)/2),A},xz:function(t,e,o,a,u,c,g,_){var A=(o+u)/2,I=(a+c)/2;return ni(((t+o)/2+A)/2,((e+a)/2+I)/2,(A+(u+g)/2)/2,(I+(c+_)/2)/2)},vm:function(t,e,o,a,u,c,g,_,A,I){if(me.Nb(t,e,g,_,A,o,a)&&me.Nb(t,e,g,_,A,u,c))en(I,t,e,0,0),en(I,g,_,0,0);else{var B=(t+o)/2,H=(e+a)/2,dt=(o+u)/2,bt=(a+c)/2,pt=((a=(B+dt)/2)+(dt=(dt+(u=(u+g)/2))/2))/2,Rt=((o=(H+bt)/2)+(bt=(bt+(c=(c+_)/2))/2))/2;me.vm(t,e,B,H,a,o,pt,Rt,A,I),me.vm(pt,Rt,dt,bt,u,c,g,_,A,I)}return I},Fe:function(t,e,o,a,u,c,g,_,A,I){if(me.Nb(t,e,g,_,A,o,a)&&me.Nb(t,e,g,_,A,u,c))0===I.length&&(I.push(t),I.push(e)),I.push(g),I.push(_);else{var B=(t+o)/2,H=(e+a)/2,dt=(o+u)/2,bt=(a+c)/2,pt=((a=(B+dt)/2)+(dt=(dt+(u=(u+g)/2))/2))/2,Rt=((o=(H+bt)/2)+(bt=(bt+(c=(c+_)/2))/2))/2;me.Fe(t,e,B,H,a,o,pt,Rt,A,I),me.Fe(pt,Rt,dt,bt,u,c,g,_,A,I)}return I},qw:function(t,e,o,a,u,c,g,_,A,I){if(me.Nb(t,e,u,c,I,o,a))return me.Nb(t,e,u,c,I,_,A);var B=(t+o)/2,H=(e+a)/2,dt=(B+(o=(o+u)/2))/2,bt=(H+(a=(a+c)/2))/2;return me.qw(t,e,B,H,dt,bt,g,_,A,I)||me.qw(dt,bt,o,a,u,c,g,_,A,I)},AB:function(t,e,o,a,u,c,g){return g.h(((t+o)/2+(o+u)/2)/2,((e+a)/2+(a+c)/2)/2),g},pw:function(t,e,o,a,u,c,g,_){if(me.Nb(t,e,u,c,g,o,a))en(_,t,e,0,0),en(_,u,c,0,0);else{var A=(t+o)/2,I=(e+a)/2,B=(A+(o=(o+u)/2))/2,H=(I+(a=(a+c)/2))/2;me.pw(t,e,A,I,B,H,g,_),me.pw(B,H,o,a,u,c,g,_)}return _},Vq:function(t,e,o,a,u,c,g,_){if(me.Nb(t,e,u,c,g,o,a))0===_.length&&(_.push(t),_.push(e)),_.push(u),_.push(c);else{var A=(t+o)/2,I=(e+a)/2,B=(A+(o=(o+u)/2))/2,H=(I+(a=(a+c)/2))/2;me.Vq(t,e,A,I,B,H,g,_),me.Vq(B,H,o,a,u,c,g,_)}return _},wq:function(t,e,o,a,u,c,g,_,A,I,B,H,dt,bt){if(me.Nb(t,e,g,_,dt,o,a)&&me.Nb(t,e,g,_,dt,u,c))return!(!me.Cm(t,e,g,_,A,I,B,H)||(dt=(t-g)*(I-H)-(e-_)*(A-B),0===dt)||(bt.h(((t*_-e*g)*(A-B)-(t-g)*(A*H-I*B))/dt,((t*_-e*g)*(I-H)-(e-_)*(A*H-I*B))/dt),0));var pt=(t+o)/2,Rt=(e+a)/2,Xt=(o+u)/2,$t=(a+c)/2,ie=((a=(pt+Xt)/2)+(Xt=(Xt+(u=(u+g)/2))/2))/2,oe=((o=(Rt+$t)/2)+($t=($t+(c=(c+_)/2))/2))/2,ce=1/0,_e=!1,Je=0,Si=0;return me.wq(t,e,pt,Rt,a,o,ie,oe,A,I,B,H,dt,bt)&&(t=(bt.x-A)*(bt.x-A)+(bt.y-I)*(bt.y-I))<ce&&(ce=t,_e=!0,Je=bt.x,Si=bt.y),me.wq(ie,oe,Xt,$t,u,c,g,_,A,I,B,H,dt,bt)&&(bt.x-A)*(bt.x-A)+(bt.y-I)*(bt.y-I)<ce&&(_e=!0,Je=bt.x,Si=bt.y),_e&&(bt.x=Je,bt.y=Si),_e},xq:function(t,e,o,a,u,c,g,_,A,I,B,H,dt){var bt=0;if(me.Nb(t,e,g,_,dt,o,a)&&me.Nb(t,e,g,_,dt,u,c)){if(0==(dt=(t-g)*(I-H)-(e-_)*(A-B)))return bt;var pt=((t*_-e*g)*(A-B)-(t-g)*(A*H-I*B))/dt,Rt=((t*_-e*g)*(I-H)-(e-_)*(A*H-I*B))/dt;if(pt>=B)return bt;if((A>B?A-B:B-A)<(I>H?I-H:H-I)){if(e<_?(t=e,e=_):t=_,Rt<t||Rt>e)return bt}else if(t<g?(e=t,t=g):e=g,pt<e||pt>t)return bt;0<dt?bt++:0>dt&&bt--}else{Rt=(e+a)/2;var Xt=(o+u)/2,$t=(a+c)/2,ie=((a=((pt=(t+o)/2)+Xt)/2)+(Xt=(Xt+(u=(u+g)/2))/2))/2,oe=((o=(Rt+$t)/2)+($t=($t+(c=(c+_)/2))/2))/2;bt+=me.xq(t,e,pt,Rt,a,o,ie,oe,A,I,B,H,dt),bt+=me.xq(ie,oe,Xt,$t,u,c,g,_,A,I,B,H,dt)}return bt},Qh:function(t,e,o,a,u,c,g){return me.aa(t,o)?(e<a?(o=e,e=a):o=a,c<o?(g.h(t,o),!1):c>e?(g.h(t,e),!1):(g.h(t,c),!0)):me.aa(e,a)?(t<o?(a=t,t=o):a=o,u<a?(g.h(a,e),!1):u>t?(g.h(t,e),!1):(g.h(u,e),!0)):-5e-6>(u=((t-u)*(t-o)+(e-c)*(e-a))/((o-t)*(o-t)+(a-e)*(a-e)))?(g.h(t,e),!1):1.000005<u?(g.h(o,a),!1):(g.h(t+u*(o-t),e+u*(a-e)),!0)},Me:function(t,e,o,a,u,c,g,_,A){return me.A(t,o)&&me.A(e,a)?(A.h(t,e),!1):me.aa(u,g)?me.aa(t,o)?(me.Qh(t,e,o,a,u,c,A),!1):me.Qh(t,e,o,a,u,(a-e)/(o-t)*(u-t)+e,A):(_=(_-c)/(g-u),me.aa(t,o)?(o=_*(t-u)+c,e<a?(u=e,e=a):u=a,o<u?(A.h(t,u),!1):o>e?(A.h(t,e),!1):(A.h(t,o),!0)):me.aa(_,g=(a-e)/(o-t))?(me.Qh(t,e,o,a,u,c,A),!1):(u=(g*t-_*u+c-e)/(g-_),me.aa(g,0)?(t<o?(a=t,t=o):a=o,u<a?(A.h(a,e),!1):u>t?(A.h(t,e),!1):(A.h(u,e),!0)):me.Qh(t,e,o,a,u,g*(u-t)+e,A)))},yB:function(t,e,o,a,u){return me.Me(o.x,o.y,a.x,a.y,t.x,t.y,e.x,e.y,u)},wB:function(t,e,o,a,u,c,g,_,A,I){function B(Xt,$t){var ie=(Xt-t)*(Xt-t)+($t-e)*($t-e);ie<H&&(H=ie,A.h(Xt,$t))}var H=1/0;B(A.x,A.y);var dt=0,bt=0,pt=0,Rt=0;if(u<g?(dt=u,bt=g):(dt=g,bt=u),c<_?(pt=u,Rt=g):(pt=g,Rt=u),dt=(bt-dt)/2+I,I=(Rt-pt)/2+I,u=(u+g)/2,c=(c+_)/2,0===dt||0===I)return A;if(.5>(o>t?o-t:t-o)){if(0>(dt=1-(o-u)*(o-u)/(dt*dt)))return A;a=-I*(dt=Math.sqrt(dt))+c,B(o,I*dt+c),B(o,a)}else{if(0>(dt=(_=2*(o=(a-e)/(o-t))*(e-o*t)/(I*I)-2*o*c/(I*I)-2*u/(dt*dt))*_-4*(a=1/(dt*dt)+o*o/(I*I))*(2*o*t*c/(I*I)-2*e*c/(I*I)+c*c/(I*I)+u*u/(dt*dt)-1+(e-o*t)*(e-o*t)/(I*I))))return A;B(I=(-_+(dt=Math.sqrt(dt)))/(2*a),o*I-o*t+e),B(dt=(-_-dt)/(2*a),o*dt-o*t+e)}return A},Cf:function(t,e,o,a,u,c,g,_,A){var I=1e21,B=t,H=e;if(me.Me(t,e,t,a,u,c,g,_,A)){var dt=(A.x-u)*(A.x-u)+(A.y-c)*(A.y-c);dt<I&&(I=dt,B=A.x,H=A.y)}return me.Me(o,e,o,a,u,c,g,_,A)&&(dt=(A.x-u)*(A.x-u)+(A.y-c)*(A.y-c))<I&&(I=dt,B=A.x,H=A.y),me.Me(t,e,o,e,u,c,g,_,A)&&(e=(A.x-u)*(A.x-u)+(A.y-c)*(A.y-c))<I&&(I=e,B=A.x,H=A.y),me.Me(t,a,o,a,u,c,g,_,A)&&(t=(A.x-u)*(A.x-u)+(A.y-c)*(A.y-c))<I&&(I=t,B=A.x,H=A.y),A.h(B,H),1e21>I},vB:function(t,e,o,a,u,c,g,_,A){return g=u-g,u=0==(o=t-o)||0===g?0===o?(e=(c-_)/g)*(_=t)+(c-e*u):(c=(e-a)/o)*(_=u)+(e-c*t):(a=(e-a)/o)*(_=(c-(_=(c-_)/g)*u-(t=e-a*t))/(a-_))+t,A.h(_,u),A},Qt:function(t,e,o){return me.Ey(t.x,t.y,t.width,t.height,e.x,e.y,o.x,o.y)},Ey:function(t,e,o,a,u,c,g,_){var A=t+o,I=e+a;return u===g?(c<_?(g=c,c=_):g=_,t<=u&&u<=A&&g<=I&&c>=e):c===_?(u<g?(_=u,u=g):_=g,e<=c&&c<=I&&_<=A&&u>=t):!!(sn(t,e,o,a,u,c)||sn(t,e,o,a,g,_)||me.Cm(t,e,A,e,u,c,g,_)||me.Cm(A,e,A,I,u,c,g,_)||me.Cm(A,I,t,I,u,c,g,_)||me.Cm(t,I,t,e,u,c,g,_))},Cm:function(t,e,o,a,u,c,g,_){return 0>=me.Bt(t,e,o,a,u,c)*me.Bt(t,e,o,a,g,_)&&0>=me.Bt(u,c,g,_,t,e)*me.Bt(u,c,g,_,o,a)},Bt:function(t,e,o,a,u,c){return o-=t,0==(c=(t=u-t)*(a-=e)-(e=c-e)*o)&&0<(c=t*o+e*a)&&0>(c=(t-o)*o+(e-a)*a)&&(c=0),0>c?-1:0<c?1:0},Tq:function(t){return 0>t&&(t+=360),360<=t&&(t-=360),t},hy:function(t,e,o,a,u,c){var g=Math.PI;c||(a*=g/180,u*=g/180);var _=a>u?-1:1;c=[];var A=g/2,I=a;if(1e-5>(a=Math.min(2*g,Math.abs(u-a))))return A=I+_*Math.min(a,A),_=t+o*Math.cos(I),I=e+o*Math.sin(I),t+=o*Math.cos(A),e+=o*Math.sin(A),c.push([_,I,o=(_+t)/2,A=(I+e)/2,o,A,t,e]),c;for(;1e-5<a;)u=I+_*Math.min(a,A),c.push(me.Hz(o,I,u,t,e)),a-=Math.abs(u-I),I=u;return c},Hz:function(t,e,o,a,u){var c=(o-e)/2,g=t*Math.cos(c),_=t*Math.sin(c),A=-_,I=g*g+A*A,B=I+g*g+A*_;return _=g-(I=4/3*(Math.sqrt(2*I*B)-B)/(g*_-A*g))*A,A=-(g=A+I*g),I=c+e,c=Math.cos(I),I=Math.sin(I),[a+t*Math.cos(e),u+t*Math.sin(e),a+_*c-g*I,u+_*I+g*c,a+_*c-A*I,u+_*I+A*c,a+t*Math.cos(o),u+t*Math.sin(o)]},Gq:function(t,e,o,a,u,c,g){var _=o=Math.floor((t-o)/u)*u+o;return o+u-t<u/2&&(_=o+u),t=a=Math.floor((e-a)/c)*c+a,a+c-e<c/2&&(t=a+c),g.h(_,t),g},uy:function(t,e){var a,o=Math.max(t,e);t=Math.min(t,e);do{e=o%t,o=a=t,t=e}while(0<e);return a},Mz:function(t,e,o,a){var u=0>o,c=0>a;if(t<e)var g=1,_=0;else g=0,_=1;var A=0===g?t:e,I=0===g?o:a;return(0===g?u:c)&&(I=-I),o=0===(g=_)?o:a,(0===g?u:c)&&(o=-o),me.Nz(A,0===g?t:e,I,o,0,0)},Nz:function(t,e,o,a,u,c){if(0<a)if(0<o){u=t*t,t*=o;var g=e*a,_=-(c=e*e)+g,A=-c+Math.sqrt(t*t+g*g);e=_;for(var I=0;9999999999>I&&(e=.5*(_+A))!==_&&e!==A;++I){var B=t/(e+u),H=g/(e+c);if(0<(B=B*B+H*H-1))_=e;else{if(!(0>B))break;A=e}}o=u*o/(e+u)-o,a=c*a/(e+c)-a,o=Math.sqrt(o*o+a*a)}else o=Math.abs(a-e);else(c=t*o)<(a=t*t-e*e)?(a=c/a,c=e*Math.sqrt(Math.abs(1-a*a)),o=t*a-o,o=Math.sqrt(o*o+c*c)):o=Math.abs(o-t);return o},Qe:new It,dn:new It,Uh:new It,Vh:0};function pn(t){ge(this),this.v=!1,void 0===t&&(t=pl),this.qa=t,this.oc=this.hc=this.dd=this.cd=0,this.Jj=new Vt,this.Xr=this.Jj.Ba,this.Fr=(new te).freeze(),this.ra=!0,this.ln=this.al=null,this.mn=NaN,this.pf=ar,this.qf=Ha,this.Cl=this.Dl=NaN,this.Sf=qr}function Hp(t,e){return t.type===To&&e.type===pl&&!!(1===e.figures.count&&(e=e.figures.J(0),1===e.segments.count&&me.A(t.startX,e.startX)&&me.A(t.startY,e.startY)&&(e=e.segments.J(0),e.type===fo&&me.A(t.endX,e.endX)&&me.A(t.endY,e.endY))))}function Z0(t){return t.toString()}function Nd(t,e){function o(){return Rt>=ce-1||null!==H[Rt+1].match(_e)}function a(){return Rt++,H[Rt]}function u(ii){var _n=parseFloat(a()),rn=parseFloat(a());Xt===Xt.toLowerCase()&&(_n=oe.x+_n,rn=oe.y+rn),ii.h(_n,rn)}function c(){return u(oe),oe}function g(){return u(ie),ie}function _(){var ii=$t.toLowerCase();return"c"!==ii&&"s"!==ii&&"q"!==ii&&"t"!==ii?oe:new at(2*oe.x-ie.x,2*oe.y-ie.y)}void 0===e&&(e=!1);var A=new RegExp("(["+Ms+"])(["+Ms+"])","gm"),I=new RegExp("(["+Ms+"])([^s])","gm"),B=new RegExp("([^s])(["+Ms+"])","gm"),H=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/,/gm," ")).replace(A,"$1 $2")).replace(A,"$1 $2")).replace(I,"$1 $2")).replace(B,"$1 $2")).replace(/([0-9])([+\-])/gm,"$1 $2")).replace(/[\s\r\t\n]+/gm," ")).replace(/^\s+|\s+$/g,"")).split(" ");for(t=0;t<H.length;t++)if(null!==(I=H[t]).match(/(\.[0-9]*)(\.)/gm)){A=h(),B="";for(var dt=!1,bt=0;bt<I.length;bt++){var pt=I[bt];"."!==pt||dt?"."===pt?(A.push(B),B="."):B+=pt:(dt=!0,B+=pt)}for(A.push(B),H.splice(t,1),I=0;I<A.length;I++)H.splice(t+I,0,A[I]);t+=A.length-1,m(A)}var Rt=-1,Xt="",$t="";A=new at(0,0);var ie=new at(0,0),oe=new at(0,0),ce=H.length;t=Lt(null),B=I=!1,dt=!0,bt=null;for(var _e=new RegExp("["+Ms+"]");!(Rt>=ce-1);)if($t=Xt,""!==(Xt=a()))switch(Xt.toUpperCase()){case"X":dt=!0,B=I=!1;break;case"M":for(bt=c(),null===t.ic||!0===dt?(st(t,bt.x,bt.y,I,!B),dt=!1):t.moveTo(bt.x,bt.y),A.assign(oe);!o();)bt=c(),t.lineTo(bt.x,bt.y);break;case"L":for(;!o();)bt=c(),t.lineTo(bt.x,bt.y);break;case"H":for(;!o();)oe=new at((Xt===Xt.toLowerCase()?oe.x:0)+parseFloat(a()),oe.y),t.lineTo(oe.x,oe.y);break;case"V":for(;!o();)oe=new at(oe.x,(Xt===Xt.toLowerCase()?oe.y:0)+parseFloat(a())),t.lineTo(oe.x,oe.y);break;case"C":for(;!o();){u(bt=new at),pt=g();var Je=c();lt(t,bt.x,bt.y,pt.x,pt.y,Je.x,Je.y)}break;case"S":for(;!o();)bt=_(),pt=g(),Je=c(),lt(t,bt.x,bt.y,pt.x,pt.y,Je.x,Je.y);break;case"Q":for(;!o();)bt=g(),pt=c(),yt(t,bt.x,bt.y,pt.x,pt.y);break;case"T":for(;!o();)ie=bt=_(),pt=c(),yt(t,bt.x,bt.y,pt.x,pt.y);break;case"B":for(;!o();){bt=parseFloat(a()),pt=parseFloat(a()),Je=parseFloat(a());var Si=parseFloat(a()),li=parseFloat(a()),Fi=li,di=!1;o()||(Fi=parseFloat(a()),o()||(di=0!==parseFloat(a()))),Xt===Xt.toLowerCase()&&(Je+=oe.x,Si+=oe.y),t.arcTo(bt,pt,Je,Si,li,Fi,di)}break;case"A":for(;!o();)bt=Math.abs(parseFloat(a())),pt=Math.abs(parseFloat(a())),Je=parseFloat(a()),li=Si=!1,di=Fi=0,1===(Fi=a()).length?(Si=!!parseFloat(Fi),li=!!parseFloat(a()),Fi=parseFloat(a())):2===Fi.length?(Si=!!parseFloat(Fi[0]),li=!!parseFloat(Fi[1]),Fi=parseFloat(a())):(Si=!!parseFloat(Fi[0]),li=!!parseFloat(Fi[1]),Fi=parseFloat(Fi.slice(2))),di=parseFloat(a()),Xt===Xt.toLowerCase()&&(Fi=oe.x+Fi,di=oe.y+di),oe.h(Fi,di),Ct(t,bt,pt,Je,Si,li,Fi,di);break;case"Z":ft(t),oe.assign(A);break;case"F":for(bt="",pt=1;H[Rt+pt];)if(null!==H[Rt+pt].match(/[Uu]/))pt++;else{if(null!==H[Rt+pt].match(_e)){bt=H[Rt+pt];break}pt++}bt.match(/[Mm]/)?I=!0:0<t.ic.segments.length&&(t.ic.isFilled=!0);break;case"U":for(bt="",pt=1;H[Rt+pt];)if(null!==H[Rt+pt].match(/[Ff]/))pt++;else{if(null!==H[Rt+pt].match(_e)){bt=H[Rt+pt];break}pt++}bt.match(/[Mm]/)?B=!0:t.Ym(!1)}if(A=t.Kt,zt=t,e)for(e=A.figures.iterator;e.next();)e.value.isFilled=!0;return A}function cx(t,e){for(var o=t.length,a=at.alloc(),u=0;u<o;u++){var c=t[u];a.x=c[0],a.y=c[1],e.ta(a),c[0]=a.x,c[1]=a.y,a.x=c[2],a.y=c[3],e.ta(a),c[2]=a.x,c[3]=a.y,a.x=c[4],a.y=c[5],e.ta(a),c[4]=a.x,c[5]=a.y,a.x=c[6],a.y=c[7],e.ta(a),c[6]=a.x,c[7]=a.y}at.free(a)}function or(t,e,o){switch(t.type){case To:case rs:case wu:o?e.h(t.cd,t.dd,0,0):en(e,t.cd,t.dd,0,0),en(e,t.hc,t.oc,0,0);break;case pl:var a=t.figures;t=a.j,a=a.length;for(var u=0;u<a;u++){var c=t[u];o&&0===u?e.h(c.startX,c.startY,0,0):en(e,c.startX,c.startY,0,0);for(var g=c.segments.j,_=g.length,A=c.startX,I=c.startY,B=0;B<_;B++){var H=g[B];switch(H.type){case fo:case Br:en(e,A=H.endX,I=H.endY,0,0);break;case Vo:me.vm(A,I,H.point1X,H.point1Y,H.point2X,H.point2Y,H.endX,H.endY,.5,e),A=H.endX,I=H.endY;break;case Sa:me.pw(A,I,H.point1X,H.point1Y,H.endX,H.endY,.5,e),A=H.endX,I=H.endY;break;case jn:case qs:var dt=H.type===jn?Ua(H,c):vh(H,c,A,I),bt=dt.length;if(0===bt){en(e,A=H.type===jn?H.centerX:H.endX,I=H.type===jn?H.centerY:H.endY,0,0);break}H=null;for(var pt=0;pt<bt;pt++)me.vm((H=dt[pt])[0],H[1],H[2],H[3],H[4],H[5],H[6],H[7],.5,e);null!==H&&(A=H[6],I=H[7]);break;default:V("Unknown Segment type: "+H.type)}}}break;default:V("Unknown Geometry type: "+t.type)}}function q0(t,e,o,a,u){var c=e.x;e=e.y;for(var A,I,B,H,g=t.bounds.x-20,_=0,dt=t.figures.j,bt=dt.length,pt=0;pt<bt;pt++){var Rt=dt[pt];if(Rt.isFilled){if(a&&Rt.$(c,e,o))return!0;for(var Xt=Rt.segments,$t=A=Rt.startX,ie=I=Rt.startY,oe=Xt.j,ce=0;ce<=Xt.length;ce++){var _e=void 0;if(ce!==Xt.length){var Je=(_e=oe[ce]).type;t=_e.endX,H=_e.endY}else Je=fo,t=$t,H=ie;switch(Je){case Br:if($t=Rg(c,e,g,e,A,I,$t,ie),isNaN($t))return!0;_+=$t,$t=t,ie=H;break;case fo:if(A=Rg(c,e,g,e,A,I,t,H),isNaN(A))return!0;_+=A;break;case Vo:_+=B=me.xq(A,I,_e.point1X,_e.point1Y,_e.point2X,_e.point2Y,t,H,g,e,c,e,.5);break;case Sa:_+=B=me.xq(A,I,(A+2*_e.point1X)/3,(I+2*_e.point1Y)/3,(2*_e.point1X+t)/3,(2*_e.point1Y+H)/3,t,H,g,e,c,e,.5);break;case jn:case qs:var Si=(Je=_e.type===jn?Ua(_e,Rt):vh(_e,Rt,A,I)).length;if(0===Si){if(A=Rg(c,e,g,e,A,I,_e.type===jn?_e.centerX:_e.endX,_e.type===jn?_e.centerY:_e.endY),isNaN(A))return!0;_+=A;break}_e=null;for(var li=0;li<Si;li++){if(_e=Je[li],0===li){if(B=Rg(c,e,g,e,A,I,_e[0],_e[1]),isNaN(B))return!0;_+=B}_+=B=me.xq(_e[0],_e[1],_e[2],_e[3],_e[4],_e[5],_e[6],_e[7],g,e,c,e,.5)}null!==_e&&(t=_e[6],H=_e[7]);break;default:V("Unknown Segment type: "+_e.type)}A=t,I=H}if(0!==_)return!0;_=0}else if(Rt.$(c,e,u?o:o+2))return!0}return 0!==_}function Rg(t,e,o,a,u,c,g,_){if(me.Nb(u,c,g,_,.05,t,e))return NaN;var A=(t-o)*(c-_);if(0===A)return 0;var I=((t*a-e*o)*(u-g)-(t-o)*(u*_-c*g))/A;if(e=(t*a-e*o)*(c-_)/A,I>=t)return 0;if((u>g?u-g:g-u)<(c>_?c-_:_-c)){if(c<_){if(e<c||e>_)return 0}else if(e<_||e>c)return 0}else if(u<g){if(I<u||I>g)return 0}else if(I<g||I>u)return 0;return 0<A?1:-1}function Gc(t,e,o,a){for(var u=(t=t.figures.j).length,c=0;c<u;c++)if(t[c].$(e,o,a))return!0;return!1}function dl(t){if(null===t.al){var e=t.al=[],o=t.ln=[],a=[],u=[];if(t.type===To)a.push(t.startX),a.push(t.startY),a.push(t.endX),a.push(t.endY),e.push(a),u.push(Math.sqrt((t.startX-t.endX)*(t.startX-t.endX)+(t.startY-t.endY)*(t.startY-t.endY))),o.push(u);else if(t.type===rs)a.push(t.startX),a.push(t.startY),a.push(t.endX),a.push(t.startY),a.push(t.endX),a.push(t.endY),a.push(t.startX),a.push(t.endY),a.push(t.startX),a.push(t.startY),e.push(a),u.push(Math.abs(t.startX-t.endX)),u.push(Math.abs(t.startY-t.endY)),u.push(Math.abs(t.startX-t.endX)),u.push(Math.abs(t.startY-t.endY)),o.push(u);else if(t.type===wu){var c=new qo;c.startX=t.endX,c.startY=(t.startY+t.endY)/2;var g=new Vn(jn);if(g.startAngle=0,g.sweepAngle=360,g.centerX=(t.startX+t.endX)/2,g.centerY=(t.startY+t.endY)/2,g.radiusX=Math.abs(t.startX-t.endX)/2,g.radiusY=Math.abs(t.startY-t.endY)/2,c.add(g),0===(u=(t=Ua(g,c)).length))a.push(g.centerX),a.push(g.centerY);else{g=c.startX,c=c.startY;for(var _=0;_<u;_++){var A=t[_];me.Fe(g,c,A[2],A[3],A[4],A[5],A[6],A[7],.5,a),g=A[6],c=A[7]}}e.push(a),o.push(Jh(a))}else for(t=t.figures.iterator;t.next();){(a=[]).push((u=t.value).startX),a.push(u.startY),_=g=u.startX,A=c=u.startY;for(var I=u.segments.j,B=I.length,H=0;H<B;H++){var dt=I[H];switch(dt.type){case Br:4<=a.length&&(e.push(a),o.push(Jh(a))),(a=[]).push(dt.endX),a.push(dt.endY),_=g=dt.endX,A=c=dt.endY;break;case fo:a.push(dt.endX),a.push(dt.endY),g=dt.endX,c=dt.endY;break;case Vo:me.Fe(g,c,dt.point1X,dt.point1Y,dt.point2X,dt.point2Y,dt.endX,dt.endY,.5,a),g=dt.endX,c=dt.endY;break;case Sa:me.Vq(g,c,dt.point1X,dt.point1Y,dt.endX,dt.endY,.5,a),g=dt.endX,c=dt.endY;break;case jn:var bt=Ua(dt,u),pt=bt.length;if(0===pt){a.push(dt.centerX),a.push(dt.centerY),g=dt.centerX,c=dt.centerY;break}for(var Rt=0;Rt<pt;Rt++){var Xt=bt[Rt];me.Fe(g,c,Xt[2],Xt[3],Xt[4],Xt[5],Xt[6],Xt[7],.5,a),g=Xt[6],c=Xt[7]}break;case qs:if(bt=vh(dt,u,g,c),Rt=dt.endX,Xt=dt.endY,0===(pt=bt.length)){a.push(Rt),a.push(Xt),g=Rt,c=Xt;break}for(Rt=0;Rt<pt;Rt++)me.Fe(g,c,(Xt=bt[Rt])[2],Xt[3],Xt[4],Xt[5],Xt[6],Xt[7],.5,a),g=Xt[6],c=Xt[7];break;default:V("Segment not of valid type: "+dt.type)}dt.isClosed&&(a.push(_),a.push(A))}4<=a.length&&(e.push(a),o.push(Jh(a)))}}}function Jh(t){for(var e=[],o=0,a=0,u=t.length,c=0;c<u;c+=2){var g=t[c],_=t[c+1];0!==c&&e.push(Math.sqrt(Qi(o,a,g,_))),o=g,a=_}return e}me.za=me.lB,pn.prototype.copy=function(){var t=new pn;t.qa=this.qa,t.cd=this.cd,t.dd=this.dd,t.hc=this.hc,t.oc=this.oc;for(var e=this.Jj.j,o=e.length,a=t.Jj,u=0;u<o;u++){var c=e[u].copy();a.add(c)}return t.Xr=this.Xr,t.Fr.assign(this.Fr),t.ra=this.ra,t.al=this.al,t.ln=this.ln,t.mn=this.mn,t.pf=this.pf.H(),t.qf=this.qf.H(),t.Dl=this.Dl,t.Cl=this.Cl,t.Sf=this.Sf,t},(ot=pn.prototype).ca=function(){return this.freeze(),Object.freeze(this),this},ot.freeze=function(){this.v=!0;var t=this.figures;t.freeze();for(var e=(t=t.j).length,o=0;o<e;o++)t[o].freeze();return this},ot.ea=function(){Object.isFrozen(this)&&V("cannot thaw constant: "+this),this.v=!1;var t=this.figures;t.ea();for(var e=(t=t.j).length,o=0;o<e;o++)t[o].ea();return this},ot.Qa=function(t){if(!(t instanceof pn))return!1;if(this.type!==t.type)return this.type===To&&t.type===pl?Hp(this,t):t.type===To&&this.type===pl&&Hp(t,this);if(this.type===pl){var e=this.figures.j,o=e.length;if(o!==(t=t.figures.j).length)return!1;for(var a=0;a<o;a++)if(!e[a].Qa(t[a]))return!1;return!0}return me.A(this.startX,t.startX)&&me.A(this.startY,t.startY)&&me.A(this.endX,t.endX)&&me.A(this.endY,t.endY)},ot.jb=function(t){t.classType===pn&&(this.type=t)},ot.toString=function(t){switch(void 0===t&&(t=-1),this.type){case To:return 0>t?"M"+this.startX.toString()+" "+this.startY.toString()+"L"+this.endX.toString()+" "+this.endY.toString():"M"+this.startX.toFixed(t)+" "+this.startY.toFixed(t)+"L"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);case rs:var e=new te(this.startX,this.startY,0,0);return e.Rw(this.endX,this.endY,0,0),0>t?"M"+e.x.toString()+" "+e.y.toString()+"H"+e.right.toString()+"V"+e.bottom.toString()+"H"+e.left.toString()+"z":"M"+e.x.toFixed(t)+" "+e.y.toFixed(t)+"H"+e.right.toFixed(t)+"V"+e.bottom.toFixed(t)+"H"+e.left.toFixed(t)+"z";case wu:if((e=new te(this.startX,this.startY,0,0)).Rw(this.endX,this.endY,0,0),0>t)return"M"+(t=e.left.toString()+" "+(e.y+e.height/2).toString())+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+e.right.toString()+" "+(e.y+e.height/2).toString()+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+t;var o=e.left.toFixed(t)+" "+(e.y+e.height/2).toFixed(t);return"M"+o+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+e.right.toFixed(t)+" "+(e.y+e.height/2).toFixed(t)+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+o;case pl:e="";for(var a=(o=this.figures.j).length,u=0;u<a;u++){var c=o[u];0<u&&(e+=" x "),c.isFilled&&(e+="F "),e+=c.toString(t)}return e;default:return this.type.toString()}},ot.gw=function(){if(this.ra||this.Xr!==this.figures.Ba)return!0;for(var t=this.figures.j,e=t.length,o=0;o<e;o++)if(t[o].gw())return!0;return!1},pn.prototype.computeBounds=function(){this.ra=!1,this.ln=this.al=null,this.mn=NaN,this.Xr=this.figures.Ba;for(var t=this.figures.j,e=t.length,o=0;o<e;o++){var a=t[o];a.ra=!1;var u=a.segments;a.bt=u.Ba,u=(a=u.j).length;for(var c=0;c<u;c++){var g=a[c];g.ra=!1,g.Qd=null}}(t=this.Fr).ea(),isNaN(this.Dl)||isNaN(this.Cl)?t.h(0,0,0,0):t.h(0,0,this.Dl,this.Cl),or(this,t,!1),en(t,0,0,0,0),t.freeze()},pn.prototype.ey=function(){var t=new te;return or(this,t,!0),t},pn.prototype.normalize=function(){this.v&&Z(this);var t=this.ey();return this.offset(-t.x,-t.y),new at(-t.x,-t.y)},pn.prototype.offset=function(t,e){return this.v&&Z(this),this.transform(1,0,0,1,t,e),this},pn.prototype.scale=function(t,e){return this.v&&Z(this),this.transform(t,0,0,e,0,0),this},pn.prototype.rotate=function(t,e,o){this.v&&Z(this),void 0===e&&(e=0),void 0===o&&(o=0);var a=cn.alloc();return a.reset(),a.rotate(t,e,o),this.transform(a.m11,a.m12,a.m21,a.m22,a.dx,a.dy),cn.free(a),this},(ot=pn.prototype).transform=function(t,e,o,a,u,c){switch(this.type){case To:case rs:case wu:var g=this.cd,_=this.dd;this.cd=g*t+_*o+u,this.dd=g*e+_*a+c,this.hc=(g=this.hc)*t+(_=this.oc)*o+u,this.oc=g*e+_*a+c;break;case pl:for(var A=this.figures.j,I=A.length,B=0;B<I;B++){var H=A[B];H.startX=(g=H.startX)*t+(_=H.startY)*o+u,H.startY=g*e+_*a+c;for(var dt=(H=H.segments.j).length,bt=0;bt<dt;bt++){var pt=H[bt];switch(pt.type){case fo:case Br:pt.endX=(g=pt.endX)*t+(_=pt.endY)*o+u,pt.endY=g*e+_*a+c;break;case Vo:pt.point1X=(g=pt.point1X)*t+(_=pt.point1Y)*o+u,pt.point1Y=g*e+_*a+c,pt.point2X=(g=pt.point2X)*t+(_=pt.point2Y)*o+u,pt.point2Y=g*e+_*a+c,pt.endX=(g=pt.endX)*t+(_=pt.endY)*o+u,pt.endY=g*e+_*a+c;break;case Sa:pt.point1X=(g=pt.point1X)*t+(_=pt.point1Y)*o+u,pt.point1Y=g*e+_*a+c,pt.endX=(g=pt.endX)*t+(_=pt.endY)*o+u,pt.endY=g*e+_*a+c;break;case jn:pt.centerX=(g=pt.centerX)*t+(_=pt.centerY)*o+u,pt.centerY=g*e+_*a+c,0!==e&&(0>(g=180*Math.atan2(e,t)/Math.PI)&&(g+=360),pt.startAngle+=g),0>t&&(pt.startAngle=180-pt.startAngle,pt.sweepAngle=-pt.sweepAngle),0>a&&(pt.startAngle=-pt.startAngle,pt.sweepAngle=-pt.sweepAngle),pt.radiusX*=Math.sqrt(t*t+o*o),void 0!==pt.radiusY&&(pt.radiusY*=Math.sqrt(e*e+a*a));break;case qs:if(pt.endX=(g=pt.endX)*t+(_=pt.endY)*o+u,pt.endY=g*e+_*a+c,0===pt.radiusX||0===pt.radiusY)break;0!==e&&(0>(g=180*Math.atan2(e,t)/Math.PI)&&(g+=360),pt.xAxisRotation+=g),0>t&&(pt.xAxisRotation=180-pt.xAxisRotation,pt.isClockwiseArc=!pt.isClockwiseArc),0>a&&(pt.xAxisRotation=-pt.xAxisRotation,pt.isClockwiseArc=!pt.isClockwiseArc),pt.radiusX*=Math.sqrt(t*t+o*o),pt.radiusY*=Math.sqrt(e*e+a*a);break;default:V("Unknown Segment type: "+pt.type)}}}}return this.ra=!0,this},ot.$=function(t,e){void 0===e&&(e=0);var o=this.cd,a=this.dd,u=this.hc,c=this.oc;switch(this.type){case To:return me.Nb(o,a,u,c,e,t.x,t.y);case rs:var g=te.allocAt(Math.min(o,u)-e,Math.min(a,c)-e,Math.abs(u-o)+2*e,Math.abs(c-a)+2*e);return t=g.$(t),te.free(g),t;case wu:g=Math.min(o,u)-e;var _=Math.min(a,c)-e;return o=(Math.abs(u-o)+2*e)/2,e=(Math.abs(c-a)+2*e)/2,!(0>=o||0>=e)&&1>=(g=t.x-(g+o))*g/(o*o)+(_=t.y-(_+e))*_/(e*e);case pl:return q0(this,t,e,!0,!1);default:return!1}},ot.Xv=function(t,e){if(0>t?t=0:1<t&&(t=1),void 0===e&&(e=new at),this.type===To)return e.h(this.startX+t*(this.endX-this.startX),this.startY+t*(this.endY-this.startY)),e;for(var o=this.flattenedSegments,a=this.flattenedLengths,u=o.length,c=this.flattenedTotalLength*t,g=0,_=0;_<u;_++){var A=a[_],I=A.length;for(t=0;t<I;t++){var B=A[t];if(g+B>=c)return a=c-g,e.h((_=(o=o[_])[2*t])+(o[2*t+2]-_)*(a=0===B?0:a/B),(u=o[2*t+1])+(o[2*t+3]-u)*a),e;g+=B}}return e},ot.vy=function(t){if(0>t?t=0:1<t&&(t=1),this.type===To)return 180*Math.atan2(this.endY-this.startY,this.endX-this.startX)/Math.PI;for(var e=this.flattenedSegments,o=this.flattenedLengths,a=e.length,u=this.flattenedTotalLength*t,c=0,g=0;g<a;g++){var _=o[g],A=_.length;for(t=0;t<A;t++){var I=_[t];if(c+I>=u)return e=(u=e[g])[2*t],o=u[2*t+1],a=u[2*t+2],t=u[2*t+3],1>Math.abs(a-e)&&1>Math.abs(t-o)?0:1>Math.abs(a-e)?0<=t-o?90:270:1>Math.abs(t-o)?0<=a-e?0:180:180*Math.atan2(t-o,a-e)/Math.PI;c+=I}}return NaN},ot.Yv=function(t,e){if(0>t?t=0:1<t&&(t=1),void 0===e&&(e=[]),e.length=3,this.type===To)return e[0]=this.startX+t*(this.endX-this.startX),e[1]=this.startY+t*(this.endY-this.startY),e[2]=180*Math.atan2(this.endY-this.startY,this.endX-this.startX)/Math.PI,e;for(var o=this.flattenedSegments,a=this.flattenedLengths,u=o.length,c=this.flattenedTotalLength*t,g=0,_=0;_<u;_++){var A=a[_],I=A.length;for(t=0;t<I;t++){var B=A[t];if(g+B>=c)return a=c-g,a=0===B?0:a/B,o=(B=o[_])[2*t],_=B[2*t+1],u=B[2*t+2],t=B[2*t+3],e[0]=o+(u-o)*a,e[1]=_+(t-_)*a,e[2]=1>Math.abs(u-o)&&1>Math.abs(t-_)?0:1>Math.abs(u-o)?0<=t-_?90:270:1>Math.abs(t-_)?0<=u-o?0:180:180*Math.atan2(t-_,u-o)/Math.PI,e;g+=B}}return e},ot.wy=function(t){if(this.type===To){var e=this.startX,o=this.startY,a=this.endX,u=this.endY;if(e!==a||o!==u){var c=t.x;if(t=t.y,e===a){if(o<u){var g=o;a=u}else g=u,a=o;return t<=g?g===o?0:1:t>=a?a===o?0:1:Math.abs(t-o)/(a-g)}if(o===u)return e<a?g=e:(g=a,a=e),c<=g?g===e?0:1:c>=a?a===e?0:1:Math.abs(c-e)/(a-g);g=(a-e)*(a-e)+(u-o)*(u-o);var _=at.alloc();return me.Qh(e,o,a,u,c,t,_),t=_.x,c=_.y,at.free(_),Math.sqrt(((t-e)*(t-e)+(c-o)*(c-o))/g)}}else{if(this.type!==rs){e=this.flattenedSegments,o=this.flattenedLengths,c=this.flattenedTotalLength,a=at.alloc(),u=1/0,_=g=0,A=e.length;for(var B=I=0,H=0;H<A;H++)for(var dt=e[H],bt=o[H],pt=dt.length,Rt=0;Rt<pt;Rt+=2){var Xt=dt[Rt],$t=dt[Rt+1];if(0!==Rt){me.Qh(I,B,Xt,$t,t.x,t.y,a);var ie=(a.x-t.x)*(a.x-t.x)+(a.y-t.y)*(a.y-t.y);ie<u&&(u=ie,g=_,g+=Math.sqrt((a.x-I)*(a.x-I)+(a.y-B)*(a.y-B))),_+=bt[(Rt-2)/2]}I=Xt,B=$t}return at.free(a),0>(t=g/c)?0:1<t?1:t}_=this.startY;var A=this.endX;if(u=this.endY,(g=this.startX)!==A||_!==u){c=2*(e=A-g)+2*(o=u-_),a=t.x,t=t.y,a=Math.min(Math.max(a,g),A),t=Math.min(Math.max(t,_),u),g=Math.abs(a-g),A=Math.abs(a-A),_=Math.abs(t-_),u=Math.abs(t-u);var I=Math.min(g,A,_,u);if(I===_)return a/c;if(I===A)return(e+t)/c;if(I===u)return(2*e+o-a)/c;if(I===g)return(2*e+2*o-t)/c}}return 0},ot.add=function(t){return this.Jj.add(t),this},ot.Zm=function(t,e,o,a,u,c,g,_){return this.v&&Z(this),this.pf=new ki(t,e,u,c).freeze(),this.qf=new ki(o,a,g,_).freeze(),this},W.Object.defineProperties(pn.prototype,{flattenedSegments:{get:function(){return dl(this),this.al}},flattenedLengths:{get:function(){return dl(this),this.ln}},flattenedTotalLength:{get:function(){var t=this.mn;if(isNaN(t)){if(this.type===To){t=Math.abs(this.endX-this.startX);var e=Math.abs(this.endY-this.startY);t=Math.sqrt(t*t+e*e)}else if(this.type===rs)t=2*Math.abs(this.endX-this.startX)+2*Math.abs(this.endY-this.startY);else for(var o=(e=this.flattenedLengths).length,a=t=0;a<o;a++)for(var u=e[a],c=u.length,g=0;g<c;g++)t+=u[g];this.mn=t}return t}},type:{get:function(){return this.qa},set:function(t){this.qa!==t&&(this.v&&Z(this,t),this.qa=t,this.ra=!0)}},startX:{get:function(){return this.cd},set:function(t){this.cd!==t&&(this.v&&Z(this,t),this.cd=t,this.ra=!0)}},startY:{get:function(){return this.dd},set:function(t){this.dd!==t&&(this.v&&Z(this,t),this.dd=t,this.ra=!0)}},endX:{get:function(){return this.hc},set:function(t){this.hc!==t&&(this.v&&Z(this,t),this.hc=t,this.ra=!0)}},endY:{get:function(){return this.oc},set:function(t){this.oc!==t&&(this.v&&Z(this,t),this.oc=t,this.ra=!0)}},figures:{get:function(){return this.Jj},set:function(t){this.Jj!==t&&(this.v&&Z(this,t),this.Jj=t,this.ra=!0)}},spot1:{get:function(){return this.pf},set:function(t){this.v&&Z(this,t),this.pf=t.H()}},spot2:{get:function(){return this.qf},set:function(t){this.v&&Z(this,t),this.qf=t.H()}},defaultStretch:{get:function(){return this.Sf},set:function(t){this.v&&Z(this,t),this.Sf=t}},bounds:{get:function(){return this.gw()&&this.computeBounds(),this.Fr}}}),pn.prototype.setSpots=pn.prototype.Zm,pn.prototype.add=pn.prototype.add,pn.prototype.getFractionForPoint=pn.prototype.wy,pn.prototype.getPointAndAngleAlongPath=pn.prototype.Yv,pn.prototype.getAngleAlongPath=pn.prototype.vy,pn.prototype.getPointAlongPath=pn.prototype.Xv,pn.prototype.containsPoint=pn.prototype.$,pn.prototype.transform=pn.prototype.transform,pn.prototype.rotate=pn.prototype.rotate,pn.prototype.scale=pn.prototype.scale,pn.prototype.offset=pn.prototype.offset,pn.prototype.normalize=pn.prototype.normalize,pn.prototype.computeBoundsWithoutOrigin=pn.prototype.ey,pn.prototype.equalsApprox=pn.prototype.Qa;var To=new wt(pn,"Line",0),rs=new wt(pn,"Rectangle",1),wu=new wt(pn,"Ellipse",2),pl=new wt(pn,"Path",3),Ms="UuBbMmZzLlHhVvCcSsQqTtAaFfXx";function qo(t,e,o,a){ge(this),this.sx=null,this.v=!1,void 0===o&&(o=!0),this.js=o,void 0===a&&(a=!0),this.os=a,this.cd=void 0!==t?t:0,this.dd=void 0!==e?e:0,this.dm=new Vt,this.bt=this.dm.Ba,this.ra=!0}function Vn(t,e,o,a,u,c,g,_){ge(this),this.v=!1,void 0===t&&(t=fo),this.qa=t,this.hc=void 0!==e?e:0,this.oc=void 0!==o?o:0,void 0===a&&(a=0),void 0===u&&(u=0),void 0===c&&(c=0),void 0===g&&(g=0),t===qs?(0>(t=c%360)&&(t+=360),this.Ce=t,this.Qi=0,this.Ri=Math.max(a,0),this.qh=Math.max(u,0),this.Ll="boolean"==typeof g?g:"number"==typeof g&&!!g,this.el=!!_):(this.Ce=a,this.Qi=u,t===jn&&(c=Math.max(c,0)),this.Ri=c,"number"==typeof g?(t===jn&&(g=Math.max(g,0)),this.qh=g):this.qh=0,this.el=this.Ll=!1),this.Oj=!1,this.ra=!0,this.Qd=null}function Ua(t,e){if(null!==t.Qd&&!1===e.ra)return t.Qd;var o=t.radiusX,a=t.radiusY;if(void 0===a&&(a=o),0===o||0===a)return t.Qd=[],t.Qd;e=t.Ce;var u=t.Qi,c=me.hy(0,0,o<a?o:a,t.startAngle,t.startAngle+t.sweepAngle,!1);if(o!==a){var g=cn.alloc();g.reset(),o<a?g.scale(1,a/o):g.scale(o/a,1),cx(c,g),cn.free(g)}for(o=c.length,a=0;a<o;a++)(g=c[a])[0]+=e,g[1]+=u,g[2]+=e,g[3]+=u,g[4]+=e,g[5]+=u,g[6]+=e,g[7]+=u;return t.Qd=c,t.Qd}function vh(t,e,o,a){function u(Rt,Xt,$t,ie){return(Rt*ie<Xt*$t?-1:1)*Math.acos((Rt*$t+Xt*ie)/(Math.sqrt(Rt*Rt+Xt*Xt)*Math.sqrt($t*$t+ie*ie)))}if(null!==t.Qd&&!1===e.ra)return t.Qd;if(0===t.radiusX||0===t.radiusY)return t.Qd=[],t.Qd;var c=t.qh;0===(e=t.Ri)&&(e=1e-4),0===c&&(c=1e-4);var g=Math.PI/180*t.Ce,_=t.Ll,A=t.el,I=t.hc,B=t.oc,H=Math.cos(g),dt=Math.sin(g),bt=H*(o-I)/2+dt*(a-B)/2,pt=bt*bt/(e*e)+(g=-dt*(o-I)/2+H*(a-B)/2)*g/(c*c);return 1<pt&&(e*=Math.sqrt(pt),c*=Math.sqrt(pt)),pt=(_===A?-1:1)*Math.sqrt((e*e*c*c-e*e*g*g-c*c*bt*bt)/(e*e*g*g+c*c*bt*bt)),isNaN(pt)&&(pt=0),_=pt*e*g/c,pt=pt*-c*bt/e,isNaN(_)&&(_=0),isNaN(pt)&&(pt=0),o=(o+I)/2+H*_-dt*pt,a=(a+B)/2+dt*_+H*pt,B=u(1,0,(bt-_)/e,(g-pt)/c),g=u(H=(bt-_)/e,I=(g-pt)/c,bt=(-bt-_)/e,_=(-g-pt)/c),-1>=(bt=(H*bt+I*_)/(Math.sqrt(H*H+I*I)*Math.sqrt(bt*bt+_*_)))?g=Math.PI:1<=bt&&(g=0),!A&&0<g&&(g-=2*Math.PI),A&&0>g&&(g+=2*Math.PI),A=e>c?1:e/c,bt=e>c?c/e:1,e=me.hy(0,0,e>c?e:c,B,B+g,!0),(c=cn.alloc()).reset(),c.translate(o,a),c.rotate(t.Ce,0,0),c.scale(A,bt),cx(e,c),cn.free(c),t.Qd=e,t.Qd}pn.className="Geometry",pn.stringify=Z0,pn.fillPath=function(t){for(var e=(t=t.split(/[Xx]/)).length,o="",a=0;a<e;a++){var u=t[a];o=null!==u.match(/[Ff]/)?0===a?o+u:o+"X"+(" "===u[0]?"":" ")+u:o+(0===a?"":"X ")+"F"+(" "===u[0]?"":" ")+u}return o},pn.parse=Nd,pn.Line=To,pn.Rectangle=rs,pn.Ellipse=wu,pn.Path=pl,qo.prototype.copy=function(){var t=new qo;t.js=this.js,t.os=this.os,t.cd=this.cd,t.dd=this.dd;for(var e=this.dm.j,o=e.length,a=t.dm,u=0;u<o;u++){var c=e[u].copy();a.add(c)}return t.bt=this.bt,t.ra=this.ra,t.sx=this.sx,t},(ot=qo.prototype).Qa=function(t){if(!(t instanceof qo&&me.A(this.startX,t.startX)&&me.A(this.startY,t.startY)))return!1;var e=this.segments.j,o=e.length;if(o!==(t=t.segments.j).length)return!1;for(var a=0;a<o;a++)if(!e[a].Qa(t[a]))return!1;return!0},ot.toString=function(t){void 0===t&&(t=-1);for(var e=0>t?"M"+this.startX.toString()+" "+this.startY.toString():"M"+this.startX.toFixed(t)+" "+this.startY.toFixed(t),o=this.segments.j,a=o.length,u=0;u<a;u++)e+=" "+o[u].toString(t);return e},ot.freeze=function(){this.v=!0;var t=this.segments;t.freeze();var e=t.j;t=t.length;for(var o=0;o<t;o++)e[o].freeze();return this},ot.ea=function(){this.v=!1;var t=this.segments;t.ea();for(var e=(t=t.j).length,o=0;o<e;o++)t[o].ea();return this},ot.gw=function(){if(this.ra)return!0;var t=this.segments;if(this.bt!==t.Ba)return!0;for(var e=(t=t.j).length,o=0;o<e;o++)if(t[o].ra)return!0;return!1},ot.add=function(t){return this.dm.add(t),this},ot.$=function(t,e,o){for(var a=this.startX,u=this.startY,c=a,g=u,_=this.segments.j,A=_.length,I=0;I<A;I++){var B=_[I];switch(B.type){case Br:c=B.endX,g=B.endY,a=B.endX,u=B.endY;break;case fo:if(me.Nb(a,u,B.endX,B.endY,o,t,e))return!0;a=B.endX,u=B.endY;break;case Vo:if(me.yt(a,u,B.point1X,B.point1Y,B.point2X,B.point2Y,B.endX,B.endY,.5,t,e,o))return!0;a=B.endX,u=B.endY;break;case Sa:if(me.qw(a,u,B.point1X,B.point1Y,B.endX,B.endY,.5,t,e,o))return!0;a=B.endX,u=B.endY;break;case jn:case qs:var H=B.type===jn?Ua(B,this):vh(B,this,a,u),dt=H.length,bt=B.type===jn?B.centerX:B.endX,pt=B.type===jn?B.centerY:B.endY;if(0===dt){if(me.Nb(a,u,bt,pt,o,t,e))return!0;a=bt,u=pt;break}for(bt=null,pt=0;pt<dt;pt++)if(bt=H[pt],0===pt&&me.Nb(a,u,bt[0],bt[1],o,t,e)||me.yt(bt[0],bt[1],bt[2],bt[3],bt[4],bt[5],bt[6],bt[7],.5,t,e,o))return!0;null!==bt&&(a=bt[6],u=bt[7]);break;default:V("Unknown Segment type: "+B.type)}if(B.isClosed&&(a!==c||u!==g)&&me.Nb(a,u,c,g,o,t,e))return!0}return!1},W.Object.defineProperties(qo.prototype,{isFilled:{get:function(){return this.js},set:function(t){this.v&&Z(this,t),this.js=t}},isShadowed:{get:function(){return this.os},set:function(t){this.v&&Z(this,t),this.os=t}},startX:{get:function(){return this.cd},set:function(t){this.v&&Z(this,t),this.cd=t,this.ra=!0}},startY:{get:function(){return this.dd},set:function(t){this.v&&Z(this,t),this.dd=t,this.ra=!0}},segments:{get:function(){return this.dm},set:function(t){this.v&&Z(this,t),this.dm=t,this.ra=!0}}}),qo.prototype.add=qo.prototype.add,qo.prototype.equalsApprox=qo.prototype.Qa,qo.className="PathFigure",Vn.prototype.copy=function(){var t=new Vn;return t.qa=this.qa,t.hc=this.hc,t.oc=this.oc,t.Ce=this.Ce,t.Qi=this.Qi,t.Ri=this.Ri,t.qh=this.qh,t.Ll=this.Ll,t.el=this.el,t.Oj=this.Oj,t.ra=this.ra,t},(ot=Vn.prototype).Qa=function(t){if(!(t instanceof Vn)||this.type!==t.type||this.isClosed!==t.isClosed)return!1;switch(this.type){case Br:case fo:return me.A(this.endX,t.endX)&&me.A(this.endY,t.endY);case Vo:return me.A(this.endX,t.endX)&&me.A(this.endY,t.endY)&&me.A(this.point1X,t.point1X)&&me.A(this.point1Y,t.point1Y)&&me.A(this.point2X,t.point2X)&&me.A(this.point2Y,t.point2Y);case Sa:return me.A(this.endX,t.endX)&&me.A(this.endY,t.endY)&&me.A(this.point1X,t.point1X)&&me.A(this.point1Y,t.point1Y);case jn:return me.A(this.startAngle,t.startAngle)&&me.A(this.sweepAngle,t.sweepAngle)&&me.A(this.centerX,t.centerX)&&me.A(this.centerY,t.centerY)&&me.A(this.radiusX,t.radiusX)&&me.A(this.radiusY,t.radiusY);case qs:return this.isClockwiseArc===t.isClockwiseArc&&this.isLargeArc===t.isLargeArc&&me.A(this.xAxisRotation,t.xAxisRotation)&&me.A(this.endX,t.endX)&&me.A(this.endY,t.endY)&&me.A(this.radiusX,t.radiusX)&&me.A(this.radiusY,t.radiusY);default:return!1}},ot.jb=function(t){t.classType===Vn&&(this.type=t)},ot.toString=function(t){switch(void 0===t&&(t=-1),this.type){case Br:t=0>t?"M"+this.endX.toString()+" "+this.endY.toString():"M"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case fo:t=0>t?"L"+this.endX.toString()+" "+this.endY.toString():"L"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case Vo:t=0>t?"C"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.point2X.toString()+" "+this.point2Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():"C"+this.point1X.toFixed(t)+" "+this.point1Y.toFixed(t)+" "+this.point2X.toFixed(t)+" "+this.point2Y.toFixed(t)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case Sa:t=0>t?"Q"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():"Q"+this.point1X.toFixed(t)+" "+this.point1Y.toFixed(t)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case jn:t=0>t?"B"+this.startAngle.toString()+" "+this.sweepAngle.toString()+" "+this.centerX.toString()+" "+this.centerY.toString()+" "+this.radiusX.toString()+" "+this.radiusY.toString():"B"+this.startAngle.toFixed(t)+" "+this.sweepAngle.toFixed(t)+" "+this.centerX.toFixed(t)+" "+this.centerY.toFixed(t)+" "+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t);break;case qs:t=0>t?"A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.xAxisRotation.toString()+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toString()+" "+this.endY.toString():"A"+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t)+" "+this.xAxisRotation.toFixed(t)+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;default:t=this.type.toString()}return t+(this.Oj?"z":"")},ot.freeze=function(){return this.v=!0,this},ot.ea=function(){return this.v=!1,this},ot.close=function(){return this.Oj=!0,this},W.Object.defineProperties(Vn.prototype,{isClosed:{get:function(){return this.Oj},set:function(t){this.Oj!==t&&(this.Oj=t,this.ra=!0)}},type:{get:function(){return this.qa},set:function(t){this.v&&Z(this,t),this.qa=t,this.ra=!0}},endX:{get:function(){return this.hc},set:function(t){this.v&&Z(this,t),this.hc=t,this.ra=!0}},endY:{get:function(){return this.oc},set:function(t){this.v&&Z(this,t),this.oc=t,this.ra=!0}},point1X:{get:function(){return this.Ce},set:function(t){this.v&&Z(this,t),this.Ce=t,this.ra=!0}},point1Y:{get:function(){return this.Qi},set:function(t){this.v&&Z(this,t),this.Qi=t,this.ra=!0}},point2X:{get:function(){return this.Ri},set:function(t){this.v&&Z(this,t),this.Ri=t,this.ra=!0}},point2Y:{get:function(){return this.qh},set:function(t){this.v&&Z(this,t),this.qh=t,this.ra=!0}},centerX:{get:function(){return this.Ce},set:function(t){this.v&&Z(this,t),this.Ce=t,this.ra=!0}},centerY:{get:function(){return this.Qi},set:function(t){this.v&&Z(this,t),this.Qi=t,this.ra=!0}},radiusX:{get:function(){return this.Ri},set:function(t){0>t&&et(t,">= zero",Vn,"radiusX"),this.v&&Z(this,t),this.Ri=t,this.ra=!0}},radiusY:{get:function(){return this.qh},set:function(t){0>t&&et(t,">= zero",Vn,"radiusY"),this.v&&Z(this,t),this.qh=t,this.ra=!0}},startAngle:{get:function(){return this.hc},set:function(t){this.hc!==t&&(this.v&&Z(this,t),0>(t%=360)&&(t+=360),this.hc=t,this.ra=!0)}},sweepAngle:{get:function(){return this.oc},set:function(t){this.v&&Z(this,t),360<t&&(t=360),-360>t&&(t=-360),this.oc=t,this.ra=!0}},isClockwiseArc:{get:function(){return this.el},set:function(t){this.v&&Z(this,t),this.el=t,this.ra=!0}},isLargeArc:{get:function(){return this.Ll},set:function(t){this.v&&Z(this,t),this.Ll=t,this.ra=!0}},xAxisRotation:{get:function(){return this.Ce},set:function(t){0>(t%=360)&&(t+=360),this.v&&Z(this,t),this.Ce=t,this.ra=!0}}}),Vn.prototype.equalsApprox=Vn.prototype.Qa;var Br=new wt(Vn,"Move",0),fo=new wt(Vn,"Line",1),Vo=new wt(Vn,"Bezier",2),Sa=new wt(Vn,"QuadraticBezier",3),jn=new wt(Vn,"Arc",4),qs=new wt(Vn,"SvgArc",4);function Cs(){this.B=null,this.yv=new at(0,0).freeze(),this.Iu=new at(0,0).freeze(),this.xr=this.zs=0,this.yr=1,this.Di="",this.st=this.Rr=!1,this.Or=this.Ar=0,this.Pg=this.bs=this.ms=!1,this.Wr=null,this.nt=0,this.pd=this.mt=null}function tc(){this.B=null,this.oa="",this.Js=this.kt=null}function jr(){this.wn=_r,this.gf=this.ys="",this.hp=this.ip=this.op=this.pp=this.np=this.B=this.cc=null}Vn.className="PathSegment",Vn.Move=Br,Vn.Line=fo,Vn.Bezier=Vo,Vn.QuadraticBezier=Sa,Vn.Arc=jn,Vn.SvgArc=qs,Cs.prototype.copy=function(){var t=new Cs;return this.clone(t)},Cs.prototype.clone=function(t){return t.B=this.B,t.yv.assign(this.viewPoint),t.Iu.assign(this.documentPoint),t.zs=this.zs,t.xr=this.xr,t.yr=this.yr,t.Di=this.Di,t.Rr=this.Rr,t.st=this.st,t.Ar=this.Ar,t.Or=this.Or,t.ms=this.ms,t.bs=this.bs,t.Pg=this.Pg,t.Wr=this.Wr,t.nt=this.nt,t.mt=this.mt,t.pd=this.pd,t},Cs.prototype.toString=function(){var t="^";return 0!==this.modifiers&&(t+="M:"+this.modifiers),0!==this.button&&(t+="B:"+this.button),""!==this.key&&(t+="K:"+this.key),0!==this.clickCount&&(t+="C:"+this.clickCount),0!==this.delta&&(t+="D:"+this.delta),this.handled&&(t+="h"),this.bubbles&&(t+="b"),null!==this.documentPoint&&(t+="@"+this.documentPoint.toString()),t},Cs.prototype.Jq=function(t,e){var o=this.diagram;return null===o||Jp(o,this.event,t,e),e},Cs.prototype.mA=function(t,e){var o=this.diagram;return null===o||(Jp(o,this.event,t,e),e.assign(o.ou(e))),e},W.Object.defineProperties(Cs.prototype,{diagram:{get:function(){return this.B},set:function(t){this.B=t}},viewPoint:{get:function(){return this.yv},set:function(t){this.yv.assign(t)}},documentPoint:{get:function(){return this.Iu},set:function(t){this.Iu.assign(t)}},modifiers:{get:function(){return this.zs},set:function(t){this.zs=t}},button:{get:function(){return this.xr},set:function(t){if(this.xr=t,null===this.event)switch(t){case 0:this.buttons=1;break;case 1:this.buttons=4;break;case 2:this.buttons=2}}},buttons:{get:function(){return this.yr},set:function(t){this.yr=t}},key:{get:function(){return this.Di},set:function(t){this.Di=t}},down:{get:function(){return this.Rr},set:function(t){this.Rr=t}},up:{get:function(){return this.st},set:function(t){this.st=t}},clickCount:{get:function(){return this.Ar},set:function(t){this.Ar=t}},delta:{get:function(){return this.Or},set:function(t){this.Or=t}},isMultiTouch:{get:function(){return this.ms},set:function(t){this.ms=t}},handled:{get:function(){return this.bs},set:function(t){this.bs=t}},bubbles:{get:function(){return this.Pg},set:function(t){this.Pg=t}},event:{get:function(){return this.Wr},set:function(t){this.Wr=t}},isTouchEvent:{get:function(){var t=N.TouchEvent,e=this.event;return!!(t&&e instanceof t)||(t=N.PointerEvent)&&e instanceof t&&("touch"===e.pointerType||"pen"===e.pointerType)}},timestamp:{get:function(){return this.nt},set:function(t){this.nt=t}},targetDiagram:{get:function(){return this.mt},set:function(t){this.mt=t}},targetObject:{get:function(){return this.pd},set:function(t){this.pd=t}},control:{get:function(){return 0!=(1&this.modifiers)},set:function(t){this.modifiers=t?1|this.modifiers:-2&this.modifiers}},shift:{get:function(){return 0!=(4&this.modifiers)},set:function(t){this.modifiers=t?4|this.modifiers:-5&this.modifiers}},alt:{get:function(){return 0!=(2&this.modifiers)},set:function(t){this.modifiers=t?2|this.modifiers:-3&this.modifiers}},meta:{get:function(){return 0!=(8&this.modifiers)},set:function(t){this.modifiers=t?8|this.modifiers:-9&this.modifiers}},left:{get:function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!=(1&this.buttons):0===this.button},set:function(t){this.buttons=t?1|this.buttons:-2&this.buttons}},right:{get:function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!=(2&this.buttons):2===this.button},set:function(t){this.buttons=t?2|this.buttons:-3&this.buttons}},middle:{get:function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!=(4&this.buttons):1===this.button},set:function(t){this.buttons=t?4|this.buttons:-5&this.buttons}}}),Cs.prototype.getMultiTouchDocumentPoint=Cs.prototype.mA,Cs.prototype.getMultiTouchViewPoint=Cs.prototype.Jq,Cs.className="InputEvent",tc.prototype.copy=function(){var t=new tc;return t.B=this.B,t.oa=this.oa,t.kt=this.kt,t.Js=this.Js,t},tc.prototype.toString=function(){var t="*"+this.name;return null!==this.subject&&(t+=":"+this.subject.toString()),null!==this.parameter&&(t+="("+this.parameter.toString()+")"),t},W.Object.defineProperties(tc.prototype,{diagram:{get:function(){return this.B},set:function(t){this.B=t}},name:{get:function(){return this.oa},set:function(t){this.oa=t}},subject:{get:function(){return this.kt},set:function(t){this.kt=t}},parameter:{get:function(){return this.Js},set:function(t){this.Js=t}}}),tc.className="DiagramEvent",jr.prototype.clear=function(){this.hp=this.ip=this.op=this.pp=this.np=this.B=this.cc=null},jr.prototype.copy=function(){var t=new jr;t.wn=this.wn,t.ys=this.ys,t.gf=this.gf,t.cc=this.cc,t.B=this.B,t.np=this.np;var e=this.pp;return t.pp=gt(e)&&"function"==typeof e.H?e.H():e,t.op=gt(e=this.op)&&"function"==typeof e.H?e.H():e,t.ip=gt(e=this.ip)&&"function"==typeof e.H?e.H():e,t.hp=gt(e=this.hp)&&"function"==typeof e.H?e.H():e,t},jr.prototype.jb=function(t){t.classType===jr&&(this.change=t)},jr.prototype.toString=function(){var t="";return t=this.change===Ss?t+"* ":this.change===_r?t+(null!==this.model?"!m":"!d"):t+(null!==this.model?"!m":"!d")+this.change,this.propertyName&&"string"==typeof this.propertyName&&(t+=" "+this.propertyName),this.modelChange&&this.modelChange!==this.propertyName&&(t+=" "+this.modelChange),t+=": ",this.change===Ss?null!==this.oldValue&&(t+=" "+this.oldValue):(null!==this.object&&(t+=v(this.object)),null!==this.oldValue&&(t+="  old: "+v(this.oldValue)),null!==this.oldParam&&(t+=" "+this.oldParam),null!==this.newValue&&(t+="  new: "+v(this.newValue)),null!==this.newParam&&(t+=" "+this.newParam)),t},jr.prototype.G=function(t){return t?this.oldValue:this.newValue},jr.prototype.oA=function(t){return t?this.oldParam:this.newParam},jr.prototype.canUndo=function(){return null!==this.model||null!==this.diagram},jr.prototype.undo=function(){this.canUndo()&&(null!==this.model?this.model.changeState(this,!0):null!==this.diagram&&this.diagram.changeState(this,!0))},jr.prototype.canRedo=function(){return null!==this.model||null!==this.diagram},jr.prototype.redo=function(){this.canRedo()&&(null!==this.model?this.model.changeState(this,!1):null!==this.diagram&&this.diagram.changeState(this,!1))},W.Object.defineProperties(jr.prototype,{model:{get:function(){return this.cc},set:function(t){this.cc=t}},diagram:{get:function(){return this.B},set:function(t){this.B=t}},change:{get:function(){return this.wn},set:function(t){this.wn=t}},modelChange:{get:function(){return this.ys},set:function(t){this.ys=t}},propertyName:{get:function(){return this.gf},set:function(t){this.gf=t}},isTransactionFinished:{get:function(){return this.wn===Ss&&("CommittedTransaction"===this.gf||"FinishedUndo"===this.gf||"FinishedRedo"===this.gf)}},object:{get:function(){return this.np},set:function(t){this.np=t}},oldValue:{get:function(){return this.pp},set:function(t){this.pp=t}},oldParam:{get:function(){return this.op},set:function(t){this.op=t}},newValue:{get:function(){return this.ip},set:function(t){this.ip=t}},newParam:{get:function(){return this.hp},set:function(t){this.hp=t}}}),jr.prototype.redo=jr.prototype.redo,jr.prototype.canRedo=jr.prototype.canRedo,jr.prototype.undo=jr.prototype.undo,jr.prototype.canUndo=jr.prototype.canUndo,jr.prototype.getParam=jr.prototype.oA,jr.prototype.getValue=jr.prototype.G,jr.prototype.clear=jr.prototype.clear;var Ss=new wt(jr,"Transaction",-1),_r=new wt(jr,"Property",0),Io=new wt(jr,"Insert",1),fn=new wt(jr,"Remove",2);function Ro(){this.u=(new Vt).freeze(),this.oa="",this.l=!1}function to(){this.gv=new Ht,this.md=!1,this.I=(new Vt).freeze(),this.Xd=-1,this.u=999,this.se=!1,this.Lr=null,this.Yi=0,this.l=!1,this.ye=(new Vt).freeze(),this.Tl=new Vt,this.Qu=!0,this.Wu=this.ks=this.$u=this.Zu=!1}function Ff(t,e,o){if(t.isUndoingRedoing)return!1;t.checksTransactionLevel&&1>t.transactionLevel&&rt("Ending transaction without having started a transaction: "+o);var a=1===t.transactionLevel,u=t.currentTransaction;a&&e&&(t.isInternalTransaction||t.Bb("CommittingTransaction",o,u));var c=0;if(0<t.transactionLevel&&(t.Yi--,t.isEnabled)){var g=t.ye.count;0<g&&(""===o&&(o=t.ye.J(0)),t.ye.ea(),t.ye.cb(g-1),t.ye.freeze()),0<(g=t.Tl.count)&&(c=t.Tl.J(g-1),t.Tl.cb(g-1))}if(a){if(e){if(t.ks=!1,null===u&&""!==o&&(u=t.currentTransaction),t.isEnabled&&null!==u){for(u.isComplete||(u.isComplete=!0,u.name=o),(e=t.history).ea(),a=e.count-1;a>t.historyIndex;a--)null!==(c=e.J(a))&&c.clear(),e.cb(a),t.ks=!0;0<=(a=t.maxHistoryLength)&&(0===a?e.clear():e.count>=a&&(null!==(c=e.J(0))&&c.clear(),e.cb(0),t.Xd--)),0===a||0!==e.count&&e.get(e.count-1)===u||(e.add(u),t.Xd++),e.freeze()}t.isInternalTransaction||t.Bb("CommittedTransaction",o,u)}else{t.se=!0;try{t.isEnabled&&null!==u&&(u.isComplete=!0,u.undo())}finally{t.isInternalTransaction||t.Bb("RolledBackTransaction",o,u),t.se=!1}null!==u&&u.clear()}return t.Lr=null,t.isPendingClear&&t.clear(),t.isPendingClear=!1,t.isPendingUnmodified=!1,!0}if(t.isEnabled&&!e&&null!==u){for(t=c,u=(o=u.changes).count-1;u>=t;u--)null!==(e=o.J(u))&&e.undo(),o.ea(),o.cb(u);o.freeze()}return!1}function Rn(){ge(this),this.B=s0,this.oa="",this.md=!0,this.Sc=!1,this.ix=null,this.lz=new Cs,this.vt=-1}function zr(){Rn.call(this),this.name="ToolManager",this.Cc=new Vt,this.Tc=new Vt,this.Od=new Vt,this.T=this.Ka=850,this.u=new He(2,2).ca(),this.eb=5e3,this.La=an,this.I=Wc,this.Kr=this.l=null,this.ik=-1}function xy(t,e){t.standardMouseOver(),t.isBeyondDragSize()&&t.standardWaitAfter(t.isActive?t.holdDelay:t.hoverDelay,e.lastInput)}jr.className="ChangedEvent",jr.Transaction=Ss,jr.Property=_r,jr.Insert=Io,jr.Remove=fn,Ro.prototype.toString=function(t){var e="Transaction: "+this.name+" "+this.changes.count.toString()+(this.isComplete?"":", incomplete");if(void 0!==t&&0<t){t=this.changes.count;for(var o=0;o<t;o++){var a=this.changes.J(o);null!==a&&(e+="\n  "+a.toString())}}return e},Ro.prototype.clear=function(){var t=this.changes;t.ea();for(var e=t.count-1;0<=e;e--){var o=t.J(e);null!==o&&o.clear()}t.clear(),t.freeze()},Ro.prototype.canUndo=function(){return this.isComplete},Ro.prototype.undo=function(){if(this.canUndo())for(var t=this.changes.count-1;0<=t;t--){var e=this.changes.J(t);null!==e&&e.undo()}},Ro.prototype.canRedo=function(){return this.isComplete},Ro.prototype.redo=function(){if(this.canRedo())for(var t=this.changes.count,e=0;e<t;e++){var o=this.changes.J(e);null!==o&&o.redo()}},Ro.prototype.nw=function(){if(this.isComplete){var t=this.changes;t.ea();for(var e=new vt,o=0;o<t.count;o++){var a=t.J(o);if(null!==a&&a.change===_r&&a.object){var u=e.get(a.object);u||(u=new vt,e.set(a.object,u));var c=u.get(a.propertyName);null===c?u.set(a.propertyName,-1):(0<c&&t.Pc(c,null),u.set(a.propertyName,o))}}for(o=e=0;o<t.count;o++)null!==(a=t.J(o))&&(o>e&&t.Pc(e,a),e++);for(;t.length>e;)t.pop();t.freeze()}},W.Object.defineProperties(Ro.prototype,{changes:{get:function(){return this.u}},name:{get:function(){return this.oa},set:function(t){this.oa=t}},isComplete:{get:function(){return this.l},set:function(t){this.l=t}}}),Ro.prototype.optimize=Ro.prototype.nw,Ro.prototype.redo=Ro.prototype.redo,Ro.prototype.canRedo=Ro.prototype.canRedo,Ro.prototype.undo=Ro.prototype.undo,Ro.prototype.canUndo=Ro.prototype.canUndo,Ro.prototype.clear=Ro.prototype.clear,Ro.className="Transaction",to.prototype.toString=function(t){var e="UndoManager "+this.historyIndex+"<"+this.history.count+"<="+this.maxHistoryLength;e+="[";for(var o=this.nestedTransactionNames.count,a=0;a<o;a++)0<a&&(e+=" "),e+=this.nestedTransactionNames.J(a);if(e+="]",void 0!==t&&0<t)for(o=this.history.count,a=0;a<o;a++)e+="\n "+this.history.J(a).toString(t-1);return e},to.prototype.clear=function(){var t=this.history;t.ea();for(var e=t.count-1;0<=e;e--){var o=t.J(e);null!==o&&o.clear()}t.clear(),this.Xd=-1,t.freeze(),this.se=!1,this.Lr=null,this.Yi=0,this.ye.ea(),this.ye.clear(),this.ye.freeze(),this.Tl.clear(),this.Wu=this.ks=this.$u=this.Zu=!1},to.prototype.copyProperties=function(t){this.isEnabled=t.isEnabled,this.maxHistoryLength=t.maxHistoryLength,this.checksTransactionLevel=t.checksTransactionLevel},(ot=to.prototype).Vx=function(t){this.gv.add(t)},ot.Py=function(t){this.gv.remove(t)},ot.xa=function(t){if(void 0===t&&(t=""),null===t&&(t=""),this.isUndoingRedoing)return!1;!0===this.Qu&&(this.Qu=!1,this.Yi++,this.isInternalTransaction||this.Bb("StartingFirstTransaction",t,this.currentTransaction),0<this.Yi&&this.Yi--),this.isEnabled&&(this.ye.ea(),this.ye.add(t),this.ye.freeze(),this.Tl.add(null===this.currentTransaction?0:this.currentTransaction.changes.count)),this.Yi++;var e=1===this.transactionLevel;return e&&(this.isInternalTransaction||this.Bb("StartedTransaction",t,this.currentTransaction)),e},ot.Xa=function(t){return void 0===t&&(t=""),Ff(this,!0,t)},ot.If=function(){return Ff(this,!1,"")},to.prototype.canUndo=function(){if(!this.isEnabled||0<this.transactionLevel)return!1;var t=this.transactionToUndo;return!(null===t||!t.canUndo())},to.prototype.undo=function(){if(this.canUndo()){var t=this.transactionToUndo;try{this.se=!0,this.Bb("StartingUndo","Undo",t),this.Xd--,t.undo()}catch(e){rt("undo error: "+e.toString())}finally{this.Bb("FinishedUndo","Undo",t),this.se=!1}}},to.prototype.canRedo=function(){if(!this.isEnabled||0<this.transactionLevel)return!1;var t=this.transactionToRedo;return!(null===t||!t.canRedo())},to.prototype.redo=function(){if(this.canRedo()){var t=this.transactionToRedo;try{this.se=!0,this.Bb("StartingRedo","Redo",t),this.Xd++,t.redo()}catch(e){rt("redo error: "+e.toString())}finally{this.Bb("FinishedRedo","Redo",t),this.se=!1}}},to.prototype.Bb=function(t,e,o){void 0===o&&(o=null);var a=new jr;for(a.change=Ss,a.propertyName=t,a.object=o,a.oldValue=e,t=this.models;t.next();)a.model=e=t.value,e.zt(a)},to.prototype.aw=function(t){if(this.isEnabled&&!this.isUndoingRedoing&&!this.skipsEvent(t)){var e=this.currentTransaction;null===e&&(this.Lr=e=new Ro);var o=t.copy();(e=e.changes).ea(),e.add(o),e.freeze(),this.checksTransactionLevel&&0>=this.transactionLevel&&!this.Qu&&(null!==(t=t.diagram)&&!1===t.pj||rt("Change not within a transaction: "+o.toString()))}},to.prototype.skipsEvent=function(t){if(null===t||0>t.change.value)return!0;if(null===(t=t.object))return!1;if(void 0!==t.layer){if(null!==(t=t.layer)&&t.isTemporary)return!0}else if(t.isTemporary)return!0;return!1},W.Object.defineProperties(to.prototype,{models:{get:function(){return this.gv.iterator}},isEnabled:{get:function(){return this.md},set:function(t){this.md=t}},transactionToUndo:{get:function(){return 0<=this.historyIndex&&this.historyIndex<=this.history.count-1?this.history.J(this.historyIndex):null}},transactionToRedo:{get:function(){return this.historyIndex<this.history.count-1?this.history.J(this.historyIndex+1):null}},isUndoingRedoing:{get:function(){return this.se}},history:{get:function(){return this.I}},maxHistoryLength:{get:function(){return this.u},set:function(t){this.u=t}},historyIndex:{get:function(){return this.Xd}},currentTransaction:{get:function(){return this.Lr}},transactionLevel:{get:function(){return this.Yi}},isInTransaction:{get:function(){return 0<this.Yi}},checksTransactionLevel:{get:function(){return this.l},set:function(t){this.l=t}},nestedTransactionNames:{get:function(){return this.ye}},isPendingClear:{get:function(){return this.Zu},set:function(t){this.Zu=t}},isPendingUnmodified:{get:function(){return this.$u},set:function(t){this.$u=t}},isInternalTransaction:{get:function(){return this.Wu},set:function(t){this.Wu=t}},isJustDiscarded:{get:function(){return this.ks}}}),to.prototype.handleChanged=to.prototype.aw,to.prototype.redo=to.prototype.redo,to.prototype.undo=to.prototype.undo,to.prototype.canUndo=to.prototype.canUndo,to.prototype.rollbackTransaction=to.prototype.If,to.prototype.commitTransaction=to.prototype.Xa,to.prototype.startTransaction=to.prototype.xa,to.prototype.removeModel=to.prototype.Py,to.prototype.addModel=to.prototype.Vx,to.prototype.clear=to.prototype.clear,to.className="UndoManager",Rn.prototype.toString=function(){return""!==this.name?this.name+" Tool":y(this.constructor)},Rn.prototype.updateAdornments=function(){},Rn.prototype.canStart=function(){return this.isEnabled},Rn.prototype.doStart=function(){},Rn.prototype.doActivate=function(){this.isActive=!0},Rn.prototype.doDeactivate=function(){this.isActive=!1},Rn.prototype.doStop=function(){},Rn.prototype.doCancel=function(){this.transactionResult=null,this.stopTool()},Rn.prototype.stopTool=function(){var t=this.diagram;t.currentTool===this&&(t.currentTool=null,t.currentCursor="")},Rn.prototype.doMouseDown=function(){!this.isActive&&this.canStart()&&this.doActivate()},Rn.prototype.doMouseMove=function(){},Rn.prototype.doMouseUp=function(){this.stopTool()},Rn.prototype.doMouseWheel=function(){},Rn.prototype.canStartMultiTouch=function(){return!0},Rn.prototype.standardPinchZoomStart=function(){var t=this.diagram,e=t.lastInput,o=e.Jq(0,at.allocAt(NaN,NaN)),a=e.Jq(1,at.allocAt(NaN,NaN));if(o.o()&&a.o()&&(this.doCancel(),t.Bm("hasGestureZoom"))){t.Vl=t.scale;var u=a.x-o.x,c=a.y-o.y;t.sv=Math.sqrt(u*u+c*c),e.bubbles=!1}at.free(o),at.free(a)},Rn.prototype.standardPinchZoomMove=function(){var t=this.diagram,e=t.lastInput,o=e.Jq(0,at.allocAt(NaN,NaN)),a=e.Jq(1,at.allocAt(NaN,NaN));if(o.o()&&a.o()&&(this.doCancel(),t.Bm("hasGestureZoom"))){var u=a.x-o.x,c=a.y-o.y;c=Math.sqrt(u*u+c*c)/t.sv,u=new at((Math.min(a.x,o.x)+Math.max(a.x,o.x))/2,(Math.min(a.y,o.y)+Math.max(a.y,o.y))/2);var g=t.commandHandler;if((c*=t.Vl)!==t.scale&&g.canResetZoom(c)){var _=t.zoomPoint;t.zoomPoint=u,g.resetZoom(c),t.zoomPoint=_}e.bubbles=!1}at.free(o),at.free(a)},Rn.prototype.doKeyDown=function(){"Esc"===this.diagram.lastInput.key&&this.doCancel()},Rn.prototype.doKeyUp=function(){},Rn.prototype.xa=function(t){return void 0===t&&(t=this.name),this.transactionResult=null,this.diagram.xa(t)},Rn.prototype.Jg=function(){var t=this.diagram;return null===this.transactionResult?t.If():t.Xa(this.transactionResult)},Rn.prototype.standardMouseSelect=function(){var t=this.diagram;if(t.allowSelect){var e=t.lastInput,o=t.zm(e.documentPoint,!1);if(null!==o){if(Q?e.meta:e.control){for(t.R("ChangingSelection",t.selection),e=o;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&(e.isSelected=!e.isSelected),t.R("ChangedSelection",t.selection)}else if(e.shift){if(!o.isSelected){for(t.R("ChangingSelection",t.selection),e=o;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&(e.isSelected=!0),t.R("ChangedSelection",t.selection)}}else if(!o.isSelected){for(e=o;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&t.select(e)}}else!e.left||(Q?e.meta:e.control)||e.shift||t.clearSelection()}},Rn.prototype.standardMouseClick=function(t,e){void 0===t&&(t=null),void 0===e&&(e=function(u){return!u.layer.isTemporary});var o=this.diagram,a=o.lastInput;return t=o.Vb(a.documentPoint,t,e),a.targetObject=t,function(t,e,o){if(e.handled=!1,null===t||t.Hg()){var a=0;e.left?a=1===e.clickCount?1:2===e.clickCount?2:1:e.right&&1===e.clickCount&&(a=3);var u="ObjectSingleClicked";if(null!==t){switch(a){case 1:u="ObjectSingleClicked";break;case 2:u="ObjectDoubleClicked";break;case 3:u="ObjectContextClicked"}0!==a&&o.R(u,t)}else{switch(a){case 1:u="BackgroundSingleClicked";break;case 2:u="BackgroundDoubleClicked";break;case 3:u="BackgroundContextClicked"}0!==a&&o.R(u)}if(null!==t)for(;null!==t;){switch(o=null,a){case 1:o=t.click;break;case 2:o=t.doubleClick?t.doubleClick:t.click;break;case 3:o=t.contextClick}if(null!==o&&(o(e,t),e.handled))break;t=t.panel}else{switch(t=null,a){case 1:t=o.click;break;case 2:t=o.doubleClick?o.doubleClick:o.click;break;case 3:t=o.contextClick}null!==t&&t(e)}}}(t,a,o),a.handled},Rn.prototype.standardMouseOver=function(){var t=this.diagram,e=t.lastInput;if(!0!==t.animationManager.sc){var o=t.skipsUndoManager;t.skipsUndoManager=!0;var a=t.viewportBounds.$(e.documentPoint)?t.Vb(e.documentPoint,null,null):null;e.targetObject=a;var u=!1;if(a!==t.Ej){var c=t.Ej,g=c;for(t.Ej=a,this.doCurrentObjectChanged(c,a),e.handled=!1;null!==c;){var _=c.mouseLeave;if(null!==_&&(a===c||null!==a&&a.Gg(c)||(_(e,c,a),u=!0,e.handled)))break;c=c.panel}for(c=g,e.handled=!1;null!==a&&(null===(g=a.mouseEnter)||!(c===a||null!==c&&c.Gg(a)||(g(e,a,c),u=!0,e.handled)));)a=a.panel;a=t.Ej}if(null!==a){for(c=a,g="";null!==c&&""===(g=c.cursor);)c=c.panel;for(t.currentCursor=g,e.handled=!1,c=a;null!==c&&(null===(a=c.mouseOver)||(a(e,c),u=!0,!e.handled));)c=c.panel}else t.currentCursor="",null!==(a=t.mouseOver)&&(a(e),u=!0);u&&t.Db(),t.skipsUndoManager=o}},Rn.prototype.doCurrentObjectChanged=function(){},Rn.prototype.standardMouseWheel=function(){var t=this.diagram,e=t.lastInput,o=e.delta;if(0!==o&&t.documentBounds.o()){var a=t.commandHandler,u=t.toolManager.mouseWheelBehavior;if(null!==a&&(u===la&&!e.shift||u===an&&e.control))(0<o?a.canIncreaseZoom():a.canDecreaseZoom())&&(u=t.zoomPoint,t.zoomPoint=e.viewPoint,0<o?a.increaseZoom():a.decreaseZoom(),t.zoomPoint=u),e.bubbles=!1;else if(u===la&&e.shift||u===an&&!e.control){a=t.position.copy();var c=0<o?o:-o,g=e.event,_=g.deltaMode;if(u=g.deltaX,g=g.deltaY,(d||k||nt)&&(_=1,0<u&&(u=3),0>u&&(u=-3),0<g&&(g=3),0>g&&(g=-3)),void 0===_||void 0===u||void 0===g||0===u&&0===g||e.shift)!e.shift&&t.allowVerticalScroll?t.scroll("pixel",0<o?"up":"down",c=3*c*t.scrollVerticalLineChange):e.shift&&t.allowHorizontalScroll&&t.scroll("pixel",0<o?"left":"right",c=3*c*t.scrollHorizontalLineChange);else{switch(_){default:o="pixel";break;case 1:o="line";break;case 2:o="page"}0!==u&&t.allowHorizontalScroll&&(0<(u*=t.scrollHorizontalLineChange/16)?t.scroll(o,"left",-u):t.scroll(o,"right",u)),0!==g&&t.allowVerticalScroll&&(0<(g*=t.scrollVerticalLineChange/16)?t.scroll(o,"up",-g):t.scroll(o,"down",g))}t.position.w(a)||(e.bubbles=!1)}}},Rn.prototype.standardWaitAfter=function(t,e){void 0===e&&(e=this.diagram.lastInput),this.cancelWaitAfter();var o=this,a=e.clone(this.lz);this.vt=Y(function(){o.doWaitAfter(a)},t)},Rn.prototype.cancelWaitAfter=function(){-1!==this.vt&&N.clearTimeout(this.vt),this.vt=-1},Rn.prototype.doWaitAfter=function(){},Rn.prototype.findToolHandleAt=function(t,e){return null===(t=this.diagram.Vb(t,function(o){for(;null!==o&&!(o.panel instanceof si);)o=o.panel;return o}))?null:t.part.category===e?t:null},Rn.prototype.isBeyondDragSize=function(t,e){var o=this.diagram;void 0===t&&(t=o.firstInput.viewPoint),void 0===e&&(e=o.lastInput.viewPoint);var a=o.toolManager.dragSize,u=a.width;return a=a.height,o.firstInput.isTouchEvent&&(u+=6,a+=6),Math.abs(e.x-t.x)>u||Math.abs(e.y-t.y)>a},W.Object.defineProperties(Rn.prototype,{diagram:{get:function(){return this.B},set:function(t){t instanceof ke&&(this.B=t)}},name:{get:function(){return this.oa},set:function(t){this.oa=t}},isEnabled:{get:function(){return this.md},set:function(t){this.md=t}},isActive:{get:function(){return this.Sc},set:function(t){this.Sc=t}},transactionResult:{get:function(){return this.ix},set:function(t){this.ix=t}}}),Rn.prototype.stopTransaction=Rn.prototype.Jg,Rn.prototype.startTransaction=Rn.prototype.xa,Rn.className="Tool",K(zr,Rn),zr.prototype.initializeStandardTools=function(){},zr.prototype.updateAdornments=function(t){var e=this.currentToolTip;if(e instanceof si&&this.Kr===t){var o=e.adornedObject;(null!==t?o.part===t:null===o)?this.showToolTip(e,o):this.hideToolTip()}},zr.prototype.doMouseDown=function(){var t=this.diagram,e=t.lastInput;if(e.isTouchEvent&&this.gestureBehavior===Gu&&(e.bubbles=!1),e.isMultiTouch){if(this.cancelWaitAfter(),this.gestureBehavior===ml)return void(e.bubbles=!0);if(this.gestureBehavior===Gu)return;if(t.currentTool.canStartMultiTouch())return void t.currentTool.standardPinchZoomStart()}for(var o=this.mouseDownTools.length,a=0;a<o;a++){var u=this.mouseDownTools.J(a);if(u.diagram=this.diagram,u.canStart())return t.doFocus(),t.currentTool=u,void(t.currentTool===u&&(u.isActive||u.doActivate(),u.doMouseDown()))}1===t.lastInput.button&&(this.mouseWheelBehavior===an?this.mouseWheelBehavior=la:this.mouseWheelBehavior===la&&(this.mouseWheelBehavior=an)),this.doActivate(),this.standardWaitAfter(this.holdDelay,e)},zr.prototype.doMouseMove=function(){var t=this.diagram,e=t.lastInput;if(e.isMultiTouch){if(this.gestureBehavior===ml)return void(e.bubbles=!0);if(this.gestureBehavior===Gu)return;if(t.currentTool.canStartMultiTouch())return void t.currentTool.standardPinchZoomMove()}if(this.isActive)for(var o=this.mouseMoveTools.length,a=0;a<o;a++){var u=this.mouseMoveTools.J(a);if(u.diagram=this.diagram,u.canStart())return t.doFocus(),t.currentTool=u,void(t.currentTool===u&&(u.isActive||u.doActivate(),u.doMouseMove()))}xy(this,t),null===(t=e.event)||"mousemove"!==t.type&&"pointermove"!==t.type&&t.cancelable||(e.bubbles=!0)},zr.prototype.doCurrentObjectChanged=function(t,e){null===(t=this.currentToolTip)||null!==e&&t instanceof si&&(e===t||e.Gg(t))||this.hideToolTip()},zr.prototype.doWaitAfter=function(t){var e=this.diagram;e.ya&&(this.doMouseHover(),this.isActive||this.doToolTip(),t.isTouchEvent&&!e.lastInput.handled&&((t=t.copy()).button=2,t.buttons=2,e.lastInput=t,e.hk=!0,e.doMouseUp()))},zr.prototype.doMouseHover=function(){var t=this.diagram,e=t.lastInput;null===e.targetObject&&(e.targetObject=t.Vb(e.documentPoint,null,null));var o=e.targetObject;if(null!==o)for(e.handled=!1;null!==o&&(null===(t=this.isActive?o.mouseHold:o.mouseHover)||(t(e,o),!e.handled));)o=o.panel;else null!==(o=this.isActive?t.mouseHold:t.mouseHover)&&o(e)},zr.prototype.doToolTip=function(){var t=this.diagram,e=t.lastInput;if(null===e.targetObject&&(e.targetObject=t.Vb(e.documentPoint,null,null)),null!==(e=e.targetObject)){if(!((t=this.currentToolTip)instanceof si)||e!==t&&!e.Gg(t)){for(;null!==e;){if(null!==(t=e.toolTip))return void this.showToolTip(t,e);e=e.panel}this.hideToolTip()}}else null!==(e=t.toolTip)?this.showToolTip(e,null):this.hideToolTip()},zr.prototype.showToolTip=function(t,e){var o=this.diagram;if(t!==this.currentToolTip&&this.hideToolTip(),t instanceof si){t.layerName="Tool",t.selectable=!1,t.scale=1/o.scale,t.category="ToolTip",null!==t.placeholder&&(t.placeholder.scale=o.scale);var a=t.diagram;null!==a&&a!==o&&a.remove(t),o.add(t),null!==e?t.adornedObject=e:t.data=o.model,t.Ta(),this.positionToolTip(t,e)}else t instanceof Zc&&t!==this.currentToolTip&&t.show(e,o,this);if(this.currentToolTip=t,-1!==this.ik&&(N.clearTimeout(this.ik),this.ik=-1),0<(t=this.toolTipDuration)&&t!==1/0){var u=this;this.ik=Y(function(){u.hideToolTip()},t)}},zr.prototype.positionToolTip=function(t){if(null===t.placeholder){var e=this.diagram,o=e.lastInput.documentPoint.copy(),a=t.measuredBounds,u=e.viewportBounds;e.lastInput.isTouchEvent&&(o.x-=a.width),o.x+a.width>u.right&&(o.x-=a.width+5/e.scale),o.x<u.x&&(o.x=u.x),o.y=o.y+20/e.scale+a.height>u.bottom?o.y-(a.height+5/e.scale):o.y+20/e.scale,o.y<u.y&&(o.y=u.y),t.position=o}},zr.prototype.hideToolTip=function(){-1!==this.ik&&(N.clearTimeout(this.ik),this.ik=-1);var t=this.diagram,e=this.currentToolTip;null!==e&&(e instanceof si?(t.remove(e),null!==this.Kr&&this.Kr.Hf(e.category),e.data=null,e.adornedObject=null):e instanceof Zc&&null!==e.hide&&e.hide(t,this),this.currentToolTip=null)},zr.prototype.doMouseUp=function(){this.cancelWaitAfter();var t=this.diagram;if(this.isActive)for(var e=this.mouseUpTools.length,o=0;o<e;o++){var a=this.mouseUpTools.J(o);if(a.diagram=this.diagram,a.canStart())return t.doFocus(),t.currentTool=a,void(t.currentTool===a&&(a.isActive||a.doActivate(),a.doMouseUp()))}t.doFocus(),this.doDeactivate()},zr.prototype.doMouseWheel=function(){this.standardMouseWheel()},zr.prototype.doKeyDown=function(){var t=this.diagram;null!==t.commandHandler&&t.commandHandler.doKeyDown()},zr.prototype.doKeyUp=function(){var t=this.diagram;null!==t.commandHandler&&t.commandHandler.doKeyUp()},zr.prototype.findTool=function(t){for(var e=this.mouseDownTools.length,o=0;o<e;o++){var a=this.mouseDownTools.J(o);if(a.name===t)return a}for(e=this.mouseMoveTools.length,o=0;o<e;o++)if((a=this.mouseMoveTools.J(o)).name===t)return a;for(e=this.mouseUpTools.length,o=0;o<e;o++)if((a=this.mouseUpTools.J(o)).name===t)return a;return null},zr.prototype.replaceTool=function(t,e){null!==e&&(e.diagram=this.diagram);for(var o=this.mouseDownTools.length,a=0;a<o;a++){var u=this.mouseDownTools.J(a);if(u.name===t)return null!==e?this.mouseDownTools.Pc(a,e):this.mouseDownTools.cb(a),u}for(o=this.mouseMoveTools.length,a=0;a<o;a++)if((u=this.mouseMoveTools.J(a)).name===t)return null!==e?this.mouseMoveTools.Pc(a,e):this.mouseMoveTools.cb(a),u;for(o=this.mouseUpTools.length,a=0;a<o;a++)if((u=this.mouseUpTools.J(a)).name===t)return null!==e?this.mouseUpTools.Pc(a,e):this.mouseUpTools.cb(a),u;return null},zr.prototype.Ya=function(t,e,o){null!==e&&(e.name=t,e.diagram=this.diagram),this.findTool(t)?this.replaceTool(t,e):null!==e&&o.add(e)},W.Object.defineProperties(zr.prototype,{mouseWheelBehavior:{get:function(){return this.La},set:function(t){this.La=t}},gestureBehavior:{get:function(){return this.I},set:function(t){this.I=t}},currentToolTip:{get:function(){return this.l},set:function(t){this.l=t,this.Kr=null!==t&&t instanceof si?t.adornedPart:null}},mouseDownTools:{get:function(){return this.Cc}},mouseMoveTools:{get:function(){return this.Tc}},mouseUpTools:{get:function(){return this.Od}},hoverDelay:{get:function(){return this.Ka},set:function(t){this.Ka=t}},holdDelay:{get:function(){return this.T},set:function(t){this.T=t}},dragSize:{get:function(){return this.u},set:function(t){this.u=t.H()}},toolTipDuration:{get:function(){return this.eb},set:function(t){this.eb=t}}}),zr.prototype.replaceStandardTool=zr.prototype.Ya;var an=new wt(zr,"WheelScroll",0),la=new wt(zr,"WheelZoom",1),el=new wt(zr,"WheelNone",2),Wc=new wt(zr,"GestureZoom",3),Gu=new wt(zr,"GestureCancel",4),ml=new wt(zr,"GestureNone",5);function lr(){Rn.call(this),this.name="Dragging",this.I=this.Tc=!0,this.u=this.eb=this.Ka=this.qg=null,this.Tn=this.Od=!1,this.jm=new at(NaN,NaN),this.it=new at,this.Cc=!0,this.pl=100,this.Xg=[],this.lr=(new Ht).freeze(),this.La=new h0,this.Fo=null,this.T="copy",this.Wh="",this.Xh="no-drop"}function Cn(t,e){if(t.dragsLink){var o=t.diagram;o.allowRelink&&(o.model.Ck()&&1===e.count&&e.first()instanceof We?(t.draggedLink=e.first(),t.draggedLink.canRelinkFrom()&&t.draggedLink.canRelinkTo()&&t.draggedLink.nk(),t.qg=o.toolManager.findTool("Relinking"),null===t.qg&&(t.qg=new os,t.qg.diagram=o)):(t.draggedLink=null,t.qg=null))}}function eo(t){var e=t.diagram,o=e.skipsUndoManager;e.skipsUndoManager=!0,Ld(t,e.lastInput,null),e.skipsUndoManager=o,t.Xg.length=0}function ys(){var t=ur;Vl(t),Ds(t);var e=t.diagram;t.jm.o()&&(e.position=t.jm),e.Jf()}function gl(t,e){if(null===t.copiedParts){var o=t.diagram;if((!e||!o.isReadOnly&&!o.isModelReadOnly)&&null!==t.draggedParts){var a=o.undoManager;for(a.isEnabled&&a.isInTransaction?null!==a.currentTransaction&&0<a.currentTransaction.changes.count&&(o.undoManager.If(),o.xa("Drag")):Ds(t),o.skipsUndoManager=!e,o.partManager.addsToTemporaryLayer=!e,t.startPoint=o.firstInput.documentPoint,e=t.copiesEffectiveCollection?t.draggedParts.Kf():o.selection,e=o.tk(e,o,!0),o=new vt,a=t.draggedParts.iterator;a.next();){var u=a.key;if(u.Nc()&&u.canCopy()){var c=e.G(u);null!==c&&(c.location=u.location,c.Ta(),o.add(c,t.Cd(c.location)))}}for(e=e.iterator;e.next();)(a=e.value)instanceof We&&a.canCopy()&&o.add(a,t.Cd());t.copiedParts=o,Cn(t,o.Kf()),null!==t.draggedLink&&nr(o=t.draggedLink,t.startPoint.x-((e=o.routeBounds).x+e.width/2),t.startPoint.y-(e.y+e.height/2))}}}function Vl(t){var e=t.diagram;if(null!==t.copiedParts&&(e.gu(t.copiedParts.Kf(),!1),t.copiedParts=null,null!==t.draggedParts))for(var o=t.draggedParts.iterator;o.next();)o.key instanceof We&&(o.value.point=new at(0,0));e.skipsUndoManager=!1,e.partManager.addsToTemporaryLayer=!1,t.startPoint=e.firstInput.documentPoint}function Da(t){if(null!==t.draggedLink){if(t.dragsLink&&null!==t.qg){var e=t.qg;e.diagram.remove(e.temporaryFromNode),e.diagram.remove(e.temporaryToNode)}t.draggedLink=null,t.qg=null}}function Ql(t,e,o){var a=t.diagram,u=t.startPoint,c=at.alloc();c.assign(a.lastInput.documentPoint),t.moveParts(e,c.ge(u),o),at.free(c),!0===a.Ke("temporaryPixelRatio")&&null===a.yh&&30<a.Yx&&(Ho(a),a.Yq())}function Ds(t){if(null!==t.draggedParts){for(var e=t.diagram,o=t.draggedParts.iterator;o.next();){var a=o.key;a.Nc()&&(a.location=o.value.point)}for(o=t.draggedParts.iterator;o.next();)if((a=o.key)instanceof We&&a.suspendsRouting){var u=o.value.point;t.draggedParts.add(a,t.Cd()),nr(a,-u.x,-u.y)}e.hd()}}function Bf(t,e){var o=t.diagram;t.dragsLink&&(null!==t.draggedLink&&(t.draggedLink.fromNode=null,t.draggedLink.toNode=null),Wu(t,!1));var a=t.findDragOverObject(e),u=o.lastInput;u.targetObject=a,t.doUpdateCursor(a);var c=o.skipsUndoManager,g=!1;try{if(o.skipsUndoManager=!0,g=Ld(t,u,a),!t.isActive&&null===ur)return;var _=null!==a?a.part:null;if(null===_||o.handlesDragDropForTopLevelParts&&_.isTopLevel&&!(_ instanceof ai)){var A=o.mouseDragOver;null!==A&&(A(u),g=!0)}if(!t.isActive&&null===ur||(t.doDragOver(e,a),!t.isActive&&null===ur))return}finally{o.skipsUndoManager=c,g&&o.hd()}t.Fo=a,o.isReadOnly||!o.allowMove&&!o.allowCopy||!o.allowHorizontalScroll&&!o.allowVerticalScroll||o.Et(u.viewPoint)}function Ld(t,e,o){var a=!1,u=t.Xg.length,c=0<u?t.Xg[0]:null;if(o===c)return!1;e.handled=!1;for(var g=0;g<u;g++){var _=t.Xg[g],A=_.mouseDragLeave;if(null!==A&&(A(e,_,o),a=!0,e.handled))break}if(t.Xg.length=0,!t.isActive&&null===ur||null===o)return a;for(e.handled=!1,u=o;null!==u;)t.Xg.push(u),u=$r(u);for(u=t.Xg.length,o=0;o<u&&(null===(_=(g=t.Xg[o]).mouseDragEnter)||(_(e,g,c),a=!0,!e.handled));o++);return a}function $r(t){var e=t.panel;return null!==e?e:t instanceof Bt&&!(t instanceof ai)&&null!==(t=t.containingGroup)&&t.handlesDragDropForMembers?t:null}function Yc(t,e,o){var a=t.qg;if(null===a)return null;var u=t.diagram.Eg(e,a.portGravity,function(I){return a.findValidLinkablePort(I,o)});t=at.alloc();var c=1/0,g=null;for(u=u.iterator;u.next();){var _=u.value;if(null!==_.part){var A=_.da(Vi,t);(A=e.Ie(A))<c&&(g=_,c=A)}}return at.free(t),g}function Wu(t,e){var o=t.draggedLink;if(null!==o&&!(2>o.pointsCount)){var a=t.diagram;if(!a.isReadOnly){var u=t.qg;if(null!==u){var c=null,g=null;null===o.fromNode&&null!==(c=Yc(t,o.i(0),!1))&&(g=c.part);var _=null,A=null;null===o.toNode&&null!==(_=Yc(t,o.i(o.pointsCount-1),!0))&&(A=_.part),u.isValidLink(g,c,A,_)?e?(o.defaultFromPoint=o.i(0),o.defaultToPoint=o.i(o.pointsCount-1),o.suspendsRouting=!1,o.fromNode=g,null!==c&&(o.fromPortId=c.portId),o.toNode=A,null!==_&&(o.toPortId=_.portId),o.fromPort!==a.Ky&&a.R("LinkRelinked",o,a.Ky),o.toPort!==a.Ly&&a.R("LinkRelinked",o,a.Ly)):Og(u,g,c,A,_):Og(u,null,null,null,null)}}}}function Fd(t,e){var o=t.diagram;t.dragsLink&&Wu(t,!0),eo(t);var a=t.findDragOverObject(e),u=o.lastInput;if(u.targetObject=a,null!==a){u.handled=!1;for(var c=a;null!==c;){var g=c.mouseDrop;if(null!==g&&(g(u,c),u.handled))break;Up(t,u,c),c=$r(c)}}else null!==(c=o.mouseDrop)&&c(u);if(t.isActive||null!==ur){for(u=(t.copiedParts||t.draggedParts).iterator;u.next();)(c=u.key)instanceof Ne&&c.linksConnected.each(function(_){_.suspendsRouting=!1});if(t.doDropOnto(e,a),t.isActive||null!==ur){for(t=te.alloc(),e=o.selection.iterator;e.next();)(a=e.value)instanceof Ne&&vl(o,a,t);te.free(t)}}}function Up(t,e,o){o=o.part,!(t=t.diagram).handlesDragDropForTopLevelParts||!o.isTopLevel||o instanceof ai||null!==(o=t.mouseDrop)&&o(e)}function vl(t,e,o){var a=!1;if(e.getAvoidableRect(o),t.viewportBounds.Ge(o)&&(a=!0),0!==(t=t.Vv(o,function(u){return u.part},function(u){return u instanceof We},!0,function(u){return u instanceof We},a)).count)for(t=t.iterator;t.next();)!(o=t.value).Kd(e)&&o.isAvoiding&&o.Ua()}function $c(t,e,o,a){if(null===t.copiedParts){var u=t.diagram;if(!u.isReadOnly&&!u.isModelReadOnly){u.skipsUndoManager=!o,u.partManager.addsToTemporaryLayer=!o,t.startPoint=a.documentPoint,o=u.tk(e,u,!0);var c=te.alloc();u=a=1/0;for(var g=-1/0,_=-1/0,A=e.iterator;A.next();){var I=A.value;if(I.isVisible()){var B=I.location;I=B.x,B=B.y,isNaN(I)||isNaN(B)||(I<a&&(a=I),B<u&&(u=B),I>g&&(g=I),B>_&&(_=B))}}for(a===1/0?c.h(0,0,0,0):c.h(a,u,g-a,_-u),a=c.x+c.width/2,u=c.y+c.height/2,te.free(c),c=t.it,g=new vt,_=at.alloc(),A=e.iterator;A.next();)(I=A.value)instanceof We&&I.canCopy()&&null!==(B=o.G(I))&&(B.points=I.points,nr(B,c.x-a,c.y-u),B.suspendsRouting=!0,g.add(B,t.Cd()));for(e=e.iterator;e.next();)(I=e.value).Nc()&&I.canCopy()&&null!==(A=o.G(I))&&(_.h(c.x-(a-(I=I.location).x),c.y-(u-I.y)),A.location=_,A.Ta(),g.add(A,t.Cd(_)));at.free(_),t.copiedParts=g,Cn(t,g.Kf()),null!==t.draggedLink&&nr(o=t.draggedLink,t.startPoint.x-((e=o.routeBounds).x+e.width/2),t.startPoint.y-(e.y+e.height/2))}}}zr.className="ToolManager",zr.WheelScroll=an,zr.WheelZoom=la,zr.WheelNone=el,zr.GestureZoom=Wc,zr.GestureCancel=Gu,zr.GestureNone=ml,K(lr,Rn),lr.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(t.isReadOnly&&!t.allowDragOut||!t.allowMove&&!t.allowCopy&&!t.allowDragOut||!t.allowSelect)return!1;var e=t.lastInput;return!(!e.left||t.currentTool!==this&&(!this.isBeyondDragSize()||e.isTouchEvent&&e.timestamp-t.firstInput.timestamp<this.pl))&&null!==this.findDraggablePart()},lr.prototype.findDraggablePart=function(){var t=this.diagram;if(null===(t=t.zm(t.firstInput.documentPoint,!1)))return null;for(;null!==t&&!t.canSelect();)t=t.containingGroup;return null!==t&&(t.canMove()||t.canCopy())?t:null},lr.prototype.standardMouseSelect=function(){var t=this.diagram;if(t.allowSelect){var e=t.zm(t.firstInput.documentPoint,!1);if(null!==e){for(;null!==e&&!e.canSelect();)e=e.containingGroup;this.currentPart=e,null===this.currentPart||this.currentPart.isSelected||(t.R("ChangingSelection",t.selection),e=t.lastInput,(Q?e.meta:e.control)||e.shift||t.clearSelection(!0),this.currentPart.isSelected=!0,t.R("ChangedSelection",t.selection))}}},lr.prototype.doActivate=function(){var t=this.diagram;this.Fo=null,null===this.currentPart&&this.standardMouseSelect();var e=this.currentPart;null!==e&&(e.canMove()||e.canCopy())&&(ur=null,this.isActive=!0,this.jm.set(t.position),Cn(this,t.selection),this.Xg.length=0,t.animationManager.Bc(),this.draggedParts=this.computeEffectiveCollection(t.selection,this.dragOptions),t.mu=!0,!0===t.Ke("temporaryPixelRatio")&&30<t.Yx&&Ho(t),nf(t,this.draggedParts),this.xa("Drag"),this.startPoint=t.firstInput.documentPoint,t.isMouseCaptured=!0,t.allowDragOut&&(this.isDragOutStarted=!0,this.Tn=!1,ur=this,Gp=this.diagram,this.doSimulatedDragOut()))},lr.prototype.computeEffectiveCollection=function(t,e){return this.diagram.commandHandler.computeEffectiveCollection(t,e)},lr.prototype.Cd=function(t){return new af(void 0===t?ei:this.isGridSnapEnabled?new at(Math.round(1e3*t.x)/1e3,Math.round(1e3*t.y)/1e3):t.copy())},lr.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;if(t.Jf(),eo(this),Xf(t,this.draggedParts),this.draggedParts=this.currentPart=this.Fo=null,this.Tn=this.isDragOutStarted=!1,0<Ga.count){for(var e=Ga,o=e.length,a=0;a<o;a++){var u=e.J(a);Da(u),Vl(u),eo(u),u.diagram.Jf()}e.clear()}Da(this),this.jm.h(NaN,NaN),ur=Gp=null,Vl(this),t.isMouseCaptured=!1,t.currentCursor="",t.mu=!1,this.Jg(),Mu(t,!0)},lr.prototype.doCancel=function(){Vl(this),Ds(this);var t=this.diagram;this.jm.o()&&(t.position=this.jm),this.stopTool()},lr.prototype.doKeyDown=function(){var t=this.diagram,e=t.lastInput;this.isActive&&("Esc"===e.key?this.doCancel():e.key!==t.previousInput.key&&this.doMouseMove())},lr.prototype.doKeyUp=function(){this.isActive&&this.doMouseMove()},lr.prototype.moveParts=function(t,e,o){void 0===o&&(o=!1);var a=this.diagram;null!==a&&nc(a,t,e,this.dragOptions,o)},lr.prototype.findDragOverObject=function(t){var e=this;return $d(this.diagram,t,null,function(o){return!(o=null===o||!!(null===(o=o.part)||o instanceof si||o.layer.isTemporary||e.draggedParts&&e.draggedParts.contains(o)||e.copiedParts&&e.copiedParts.contains(o)))})},lr.prototype.doUpdateCursor=function(t){var e=this.diagram;this.Fo!==t&&(!this.diagram.currentTool.isActive||this.mayCopy()?e.currentCursor=this.copyCursor:this.mayMove()?e.currentCursor=this.moveCursor:this.mayDragOut()&&(e.currentCursor=this.nodropCursor))},lr.prototype.doDragOver=function(){},lr.prototype.doDropOnto=function(){},lr.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram,e=t.lastInput;this.simulatedMouseMove(e.event,e.documentPoint,e.targetDiagram)||null===this.currentPart||null===this.draggedParts||(this.mayCopy()?(gl(this,!1),nf(t,this.copiedParts),Ql(this,this.copiedParts,!1),Xf(t,this.copiedParts)):this.mayMove()?(Vl(this),Ql(this,this.draggedParts,!0)):this.mayDragOut()?(gl(this,!1),Ql(this,this.copiedParts,!1)):Vl(this),Bf(this,t.lastInput.documentPoint))}},lr.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram,e=t.lastInput;if(!this.simulatedMouseUp(e.event,e.documentPoint,e.targetDiagram)){e=!1;var o=this.mayCopy();if(o&&null!==this.copiedParts?(Vl(this),gl(this,!0),nf(t,this.copiedParts),Ql(this,this.copiedParts,!1),Xf(t,this.copiedParts),null!==this.copiedParts&&(t.R("ChangingSelection",t.selection),t.clearSelection(!0),this.copiedParts.iteratorKeys.each(function(u){u.isSelected=!0}))):(e=!0,Vl(this),this.mayMove()&&(Ql(this,this.draggedParts,!0),Bf(this,t.lastInput.documentPoint))),this.Tn=!0,Fd(this,t.lastInput.documentPoint),this.isActive){var a=o?this.copiedParts.Kf():this.draggedParts.Kf();this.copiedParts=null,e&&function(t){if(null!==t.draggedParts)for(var e=t.draggedParts.iterator;e.next();){var o=e.key;o instanceof Ne&&(null===(o=o.containingGroup)||null===o.placeholder||t.draggedParts.contains(o)||o.placeholder.s())}}(this),t.Na(),Xf(t,this.draggedParts),this.transactionResult=o?"Copy":"Move",t.R(o?"SelectionCopied":"SelectionMoved",a)}this.stopTool(),o&&t.R("ChangedSelection",t.selection)}}},lr.prototype.simulatedMouseMove=function(t,e,o){if(null===ur)return!1;var a=ur.diagram;o instanceof ke||(o=null);var u=Gp;return o!==u&&(null!==u&&u!==a&&(u.Jf(),ur.isDragOutStarted=!1,null!==(u=u.toolManager.findTool("Dragging"))&&u.doSimulatedDragLeave()),Gp=o,null!==o&&o!==a&&(ys(),null!==(u=o.toolManager.findTool("Dragging"))&&(Ga.contains(u)||Ga.add(u),u.doSimulatedDragEnter()))),!(null===o||o===a||!o.allowDrop||o.isReadOnly||!o.allowInsert||(null!==(a=o.toolManager.findTool("Dragging"))&&(null!==t&&(void 0!==t.targetTouches&&(0<t.targetTouches.length?t=t.targetTouches[0]:0<t.changedTouches.length&&(t=t.changedTouches[0])),e=o.getMouse(t)),o.lastInput.documentPoint=e,o.lastInput.viewPoint=o.gr(e),o.lastInput.down=!1,o.lastInput.up=!1,a.doSimulatedDragOver()),0))},lr.prototype.simulatedMouseUp=function(t,e,o){if(null===ur)return!1;var a=Gp,u=ur.diagram;if(null===o)return ur.doCancel(),!0;if(o!==a){var c=a.toolManager.findTool("Dragging");if(null!==a&&a!==u&&null!==c)return a.Jf(),ur.isDragOutStarted=!1,c.doSimulatedDragLeave(),!1;Gp=o,null!==(a=o.toolManager.findTool("Dragging"))&&(ys(),Ga.contains(a)||Ga.add(a),a.doSimulatedDragEnter())}return o!==this.diagram&&(null!==t?(void 0!==t.targetTouches&&(0<t.targetTouches.length?t=t.targetTouches[0]:0<t.changedTouches.length&&(t=t.changedTouches[0])),e=o.getMouse(t)):null===e&&(e=new at),o.lastInput.documentPoint=e,o.lastInput.viewPoint=o.gr(e),o.lastInput.down=!1,o.lastInput.up=!0,null!==(t=o.toolManager.findTool("Dragging"))&&t.doSimulatedDrop(),null!==(t=ur)&&(o=t.mayCopy(),t.transactionResult=o?"Copy":"Move",t.stopTool()),!0)},lr.prototype.mayCopy=function(){if(!this.isCopyEnabled)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowCopy||(Q?!t.lastInput.alt:!t.lastInput.control))return!1;for(t=t.selection.iterator;t.next();)if(t.value.canCopy())return!0;return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canCopy())},lr.prototype.mayDragOut=function(){if(!this.isCopyEnabled)return!1;var t=this.diagram;if(!t.allowDragOut||!t.allowCopy||t.allowMove)return!1;for(t=t.selection.iterator;t.next();)if(t.value.canCopy())return!0;return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canCopy())},lr.prototype.mayMove=function(){var t=this.diagram;if(t.isReadOnly||!t.allowMove)return!1;for(t=t.selection.iterator;t.next();)if(t.value.canMove())return!0;return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canMove())},lr.prototype.computeBorder=function(t,e,o){return this.Tn||null===this.draggedParts||this.draggedParts.contains(t)?null:o.assign(e)},lr.prototype.lA=function(){return ur},lr.prototype.mayDragIn=function(){var t=this.diagram;return!(!t.allowDrop||t.isReadOnly||t.isModelReadOnly||!t.allowInsert)&&!(null===ur||ur.diagram.model.dataFormat!==t.model.dataFormat)},lr.prototype.doSimulatedDragEnter=function(){if(this.mayDragIn()){var t=this.diagram;t.animationManager.Bc(),jo(t),t.animationManager.Bc(),null!==ur&&(ur.diagram.mu=!1),this.doUpdateCursor(t.grid)}},lr.prototype.doSimulatedDragLeave=function(){null!==ur&&ur.doSimulatedDragOut(),this.doCancel()},lr.prototype.doSimulatedDragOver=function(){var t=this.diagram;t.animationManager.tn=!0;var e=ur;if(null!==e&&null!==e.draggedParts){if(!this.mayDragIn())return;$c(this,e.draggedParts.Kf(),!1,t.firstInput),Ql(this,this.copiedParts,!1),Bf(this,t.lastInput.documentPoint)}t.animationManager.tn=!1},lr.prototype.doSimulatedDrop=function(){var t=this.diagram,e=ur;if(null!==e){var o=e.diagram;if(e.Tn=!0,Vl(this),!this.mayDragIn())return;t.animationManager.tn=!0,t.R("ChangingSelection",t.selection),this.xa("Drop"),$c(this,e.draggedParts.Kf(),!0,t.lastInput),Ql(this,this.copiedParts,!1),null!==this.copiedParts&&(t.clearSelection(!0),this.copiedParts.iteratorKeys.each(function(a){a.isSelected=!0})),Fd(this,t.lastInput.documentPoint),t.Na(),e=t.selection,null!==this.copiedParts?this.transactionResult="ExternalCopy":e=new Ht,this.copiedParts=null,t.doFocus(),t.R("ExternalObjectsDropped",e,o),this.Jg(),t.R("ChangedSelection",t.selection)}t.animationManager.tn=!1},lr.prototype.doSimulatedDragOut=function(){var t=this.diagram;t.mu=!1,t.currentCursor=this.mayCopy()||this.mayMove()?"":this.nodropCursor,this.Fo=null},lr.prototype.computeMove=function(t,e,o,a){return null!==(o=this.diagram)?o.computeMove(t,e,this.dragOptions,a):new at},W.Object.defineProperties(lr.prototype,{isCopyEnabled:{get:function(){return this.Tc},set:function(t){this.Tc=t}},copiesEffectiveCollection:{get:function(){return this.I},set:function(t){this.I=t}},dragOptions:{get:function(){return this.La},set:function(t){this.La=t}},isGridSnapEnabled:{get:function(){return this.dragOptions.isGridSnapEnabled},set:function(t){this.dragOptions.isGridSnapEnabled=t}},isComplexRoutingRealtime:{get:function(){return this.Cc},set:function(t){this.Cc=t}},isGridSnapRealtime:{get:function(){return this.dragOptions.isGridSnapRealtime},set:function(t){this.dragOptions.isGridSnapRealtime=t}},gridSnapCellSize:{get:function(){return this.dragOptions.gridSnapCellSize},set:function(t){this.dragOptions.gridSnapCellSize.w(t)||(t=t.H(),this.dragOptions.gridSnapCellSize=t)}},gridSnapCellSpot:{get:function(){return this.dragOptions.gridSnapCellSpot},set:function(t){this.dragOptions.gridSnapCellSpot.w(t)||(t=t.H(),this.dragOptions.gridSnapCellSpot=t)}},gridSnapOrigin:{get:function(){return this.dragOptions.gridSnapOrigin},set:function(t){this.dragOptions.gridSnapOrigin.w(t)||(t=t.H(),this.dragOptions.gridSnapOrigin=t)}},dragsLink:{get:function(){return this.dragOptions.dragsLink},set:function(t){this.dragOptions.dragsLink=t}},dragsTree:{get:function(){return this.dragOptions.dragsTree},set:function(t){this.dragOptions.dragsTree=t}},copyCursor:{get:function(){return this.T},set:function(t){this.T=t}},moveCursor:{get:function(){return this.Wh},set:function(t){this.Wh=t}},nodropCursor:{get:function(){return this.Xh},set:function(t){this.Xh=t}},currentPart:{get:function(){return this.Ka},set:function(t){this.Ka=t}},copiedParts:{get:function(){return this.u},set:function(t){this.u=t}},draggedParts:{get:function(){return this.eb},set:function(t){this.eb=t}},draggingParts:{get:function(){return null!==this.copiedParts?this.copiedParts.Kf():null!==this.draggedParts?this.draggedParts.Kf():this.lr}},draggedLink:{get:function(){return this.diagram.draggedLink},set:function(t){this.diagram.draggedLink=t}},isDragOutStarted:{get:function(){return this.Od},set:function(t){this.Od=t}},startPoint:{get:function(){return this.it},set:function(t){this.it.w(t)||this.it.assign(t)}},delay:{get:function(){return this.pl},set:function(t){this.pl=t}}}),lr.prototype.getDraggingSource=lr.prototype.lA;var Ga=null,ur=null,Gp=null;function Es(){Rn.call(this),this.Xh=100,this.La=!1,this.oi="pointer";var t=new We,e=new Yi;e.isPanelMain=!0,e.stroke="blue",t.add(e),(e=new Yi).toArrow="Standard",e.fill="blue",e.stroke="blue",t.add(e),t.layerName="Tool",this.gx=t,t=new Ne,(e=new Yi).portId="",e.figure="Rectangle",e.fill=null,e.stroke="magenta",e.strokeWidth=2,e.desiredSize=Di,t.add(e),t.selectable=!1,t.layerName="Tool",this.ex=t,this.l=e,t=new Ne,(e=new Yi).portId="",e.figure="Rectangle",e.fill=null,e.stroke="magenta",e.strokeWidth=2,e.desiredSize=Di,t.add(e),t.selectable=!1,t.layerName="Tool",this.hx=t,this.u=e,this.Wh=this.Od=this.Cc=this.eb=this.Tc=null,this.Ka=!0,this.cz=new vt,this.lr=this.Ii=this.bx=null}function Wp(t,e,o,a){if(e===o)return!0;var u=e.fromNode;return!(null===u||!u.isLinkLabel||(a.add(u),!Wp(t,u.labeledLink,o,a)))||!(null===(e=e.toNode)||!e.isLinkLabel||(a.add(e),!Wp(t,e.labeledLink,o,a)))}function jf(t,e,o,a,u){if(e===o)return!0;if(null===e||null===o)return!1;for(var c=e.linksConnected;c.next();){var g=c.value;if(g!==a&&(!u||g.isTreeLink)&&g.toNode===e&&(g=g.fromNode)!==e&&jf(t,g,o,a,u))return!0}return!1}function Bd(t,e,o,a,u){if(o===a)return!0;if(null===o||null===a||e.contains(o))return!1;e.add(o);for(var c=o.linksConnected;c.next();){var g=c.value;if(g!==u&&g.toNode===o&&(g=g.fromNode)!==o&&Bd(t,e,g,a,u))return!0}return!1}function Q0(t,e,o,a,u){if(o===a)return!0;if(null===o||null===a||e.contains(o))return!1;e.add(o);for(var c=o.linksConnected;c.next();){var g=c.value;if(g!==u){var _=g.fromNode;if(g=g.toNode,(_=_===o?g:_)!==o&&Q0(t,e,_,a,u))return!0}}return!1}function us(){Es.call(this),this.name="Linking",this.T={},this.I=null,this.K=Ea,this.en=null}lr.className="DraggingTool",Ga=new Vt,S("draggingTool",function(){return this.findTool("Dragging")},function(t){this.Ya("Dragging",t,this.mouseMoveTools)}),zr.prototype.doCancel=function(){null!==ur&&ur.doCancel(),Rn.prototype.doCancel.call(this)},K(Es,Rn),Es.prototype.doStop=function(){this.diagram.Jf(),this.originalToPort=this.originalToNode=this.originalFromPort=this.originalFromNode=this.originalLink=null,this.validPortsCache.clear(),this.targetPort=null},Es.prototype.copyPortProperties=function(t,e,o,a,u){if(null!==t&&null!==e&&null!==o&&null!==a){var c=e.Af(),g=He.alloc();g.width=e.naturalBounds.width*c,g.height=e.naturalBounds.height*c,a.desiredSize=g,He.free(g),u?(a.toSpot=e.toSpot,a.toEndSegmentLength=e.toEndSegmentLength):(a.fromSpot=e.fromSpot,a.fromEndSegmentLength=e.fromEndSegmentLength),o.locationSpot=Vi,c=at.alloc(),o.location=e.da(Vi,c),at.free(c),a.angle=e.lj(),null!==this.portTargeted&&this.portTargeted(t,e,o,a,u)}},Es.prototype.setNoTargetPortProperties=function(t,e,o){null!==e&&(e.desiredSize=Di,e.fromSpot=hn,e.toSpot=hn),null!==t&&(t.location=this.diagram.lastInput.documentPoint),null!==this.portTargeted&&this.portTargeted(null,null,t,e,o)},Es.prototype.doMouseDown=function(){this.isActive&&this.doMouseMove()},Es.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram;if(this.targetPort=this.findTargetPort(this.isForwards),null!==this.targetPort&&this.targetPort.part instanceof Ne){var e=this.targetPort.part;this.isForwards?this.copyPortProperties(e,this.targetPort,this.temporaryToNode,this.temporaryToPort,!0):this.copyPortProperties(e,this.targetPort,this.temporaryFromNode,this.temporaryFromPort,!1)}else this.isForwards?this.setNoTargetPortProperties(this.temporaryToNode,this.temporaryToPort,!0):this.setNoTargetPortProperties(this.temporaryFromNode,this.temporaryFromPort,!1);(t.allowHorizontalScroll||t.allowVerticalScroll)&&t.Et(t.lastInput.viewPoint)}},Es.prototype.findValidLinkablePort=function(t,e){if(null===t)return null;var o=t.part;if(!(o instanceof Ne))return null;for(;null!==t;){var a=e?t.toLinkable:t.fromLinkable;if(!0===a&&(null!==t.portId||t instanceof Ne)&&(e?this.isValidTo(o,t):this.isValidFrom(o,t)))return t;if(!1===a)break;t=t.panel}return null},Es.prototype.findTargetPort=function(t){var e=this.diagram,o=e.lastInput.documentPoint,a=this.portGravity;0>=a&&(a=.1);var u=this,c=e.Eg(o,a,function(H){return u.findValidLinkablePort(H,t)},null,!0);for(a=1/0,e=null,c=c.iterator;c.next();){var g=c.value,_=g.part;if(_ instanceof Ne){var A=g.da(Vi,at.alloc()),I=o.x-A.x,B=o.y-A.y;at.free(A),(A=I*I+B*B)<a&&(null!==(I=this.validPortsCache.G(g))?I&&(e=g,a=A):t&&this.isValidLink(this.originalFromNode,this.originalFromPort,_,g)||!t&&this.isValidLink(_,g,this.originalToNode,this.originalToPort)?(this.validPortsCache.add(g,!0),e=g,a=A):this.validPortsCache.add(g,!1))}}return null!==e&&(o=e.part)instanceof Ne&&(null===o.layer||o.layer.allowLink)?e:null},Es.prototype.isValidFrom=function(t,e){if(null===t||null===e)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(null!==t.layer&&!t.layer.allowLink||!0!==e.fromLinkable))return!1;var o=e.fromMaxLinks;if(1/0>o){if(null!==this.originalLink&&t===this.originalFromNode&&e===this.originalFromPort)return!0;if(null===(e=e.portId)&&(e=""),t.Fq(e).count>=o)return!1}return!0},Es.prototype.isValidTo=function(t,e){if(null===t||null===e)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(null!==t.layer&&!t.layer.allowLink||!0!==e.toLinkable))return!1;var o=e.toMaxLinks;if(1/0>o){if(null!==this.originalLink&&t===this.originalToNode&&e===this.originalToPort)return!0;if(null===(e=e.portId)&&(e=""),t.Hd(e).count>=o)return!1}return!0},Es.prototype.isInSameNode=function(t,e){return null!==t&&null!==e&&(t===e||(e=e.part,null!==(t=t.part)&&t===e))},Es.prototype.isLinked=function(t,e){if(null===t||null===e)return!1;var o=t.part;if(!(o instanceof Ne))return!1;null===(t=t.portId)&&(t="");var a=e.part;if(!(a instanceof Ne))return!1;for(null===(e=e.portId)&&(e=""),e=a.Hd(e);e.next();)if((a=e.value).fromNode===o&&a.fromPortId===t)return!0;return!1},Es.prototype.isValidLink=function(t,e,o,a){if(!this.isValidFrom(t,e)||!this.isValidTo(o,a)||!(null===e||null===a||(e.fromLinkableSelfNode&&a.toLinkableSelfNode||!this.isInSameNode(e,a))&&(e.fromLinkableDuplicates&&a.toLinkableDuplicates||!this.isLinked(e,a)))||null!==this.originalLink&&(null!==t&&this.isLabelDependentOnLink(t,this.originalLink)||null!==o&&this.isLabelDependentOnLink(o,this.originalLink))||null!==t&&null!==o&&(null===t.data&&null!==o.data||null!==t.data&&null===o.data)||!this.isValidCycle(t,o,this.originalLink))return!1;if(null!==t){var u=t.linkValidation;if(null!==u&&!u(t,e,o,a,this.originalLink))return!1}return!(null!==o&&(u=o.linkValidation,null!==u&&!u(t,e,o,a,this.originalLink)))&&(null===(u=this.linkValidation)||u(t,e,o,a,this.originalLink))},Es.prototype.isLabelDependentOnLink=function(t,e){if(null===t)return!1;var o=t.labeledLink;if(null===o)return!1;if(o===e)return!0;var a=new Ht;return a.add(t),Wp(this,o,e,a)},Es.prototype.isValidCycle=function(t,e,o){if(void 0===o&&(o=null),null===t||null===e)return this.isUnconnectedLinkValid;var a=this.diagram.validCycle;if(a!==a0){if(a===Uo){if(null!==(a=o||this.temporaryLink)&&!a.isTreeLink)return!0;for(a=e.linksConnected;a.next();){var u=a.value;if(u!==o&&u.isTreeLink&&u.toNode===e)return!1}return!jf(this,t,e,o,!0)}if(a===Eu){if(null!==(a=o||this.temporaryLink)&&!a.isTreeLink)return!0;for(a=t.linksConnected;a.next();)if((u=a.value)!==o&&u.isTreeLink&&u.fromNode===t)return!1;return!jf(this,t,e,o,!0)}if(a===Zg)return t===e?t=!0:((a=new Ht).add(e),t=Bd(this,a,t,e,o)),!t;if(a===Zf)return!jf(this,t,e,o,!1);if(a===po)return t===e?t=!0:((a=new Ht).add(e),t=Q0(this,a,t,e,o)),!t}return!0},W.Object.defineProperties(Es.prototype,{portGravity:{get:function(){return this.Xh},set:function(t){0<=t&&(this.Xh=t)}},isUnconnectedLinkValid:{get:function(){return this.La},set:function(t){this.La=t}},linkingCursor:{get:function(){return this.oi},set:function(t){this.oi=t}},temporaryLink:{get:function(){return this.gx},set:function(t){this.gx=t}},temporaryFromNode:{get:function(){return this.ex},set:function(t){(this.ex=t)&&(this.l=t.port)}},temporaryFromPort:{get:function(){return this.l},set:function(t){if(null!==this.l){var e=this.l.panel;if(null!==e){var o=e.W.indexOf(this.l);e.cb(o),e.wb(o,t)}}this.l=t}},temporaryToNode:{get:function(){return this.hx},set:function(t){(this.hx=t)&&(this.u=t.port)}},temporaryToPort:{get:function(){return this.u},set:function(t){if(null!==this.u){var e=this.u.panel;if(null!==e){var o=e.W.indexOf(this.u);e.cb(o),e.wb(o,t)}}this.u=t}},originalLink:{get:function(){return this.Tc},set:function(t){this.Tc=t}},originalFromNode:{get:function(){return this.eb},set:function(t){this.eb=t}},originalFromPort:{get:function(){return this.Cc},set:function(t){this.Cc=t}},originalToNode:{get:function(){return this.Od},set:function(t){this.Od=t}},originalToPort:{get:function(){return this.Wh},set:function(t){this.Wh=t}},isForwards:{get:function(){return this.Ka},set:function(t){this.Ka=t}},validPortsCache:{get:function(){return this.cz}},targetPort:{get:function(){return this.bx},set:function(t){this.bx=t}},linkValidation:{get:function(){return this.Ii},set:function(t){this.Ii=t}},portTargeted:{get:function(){return this.lr},set:function(t){this.lr=t}}}),Es.className="LinkingBaseTool",K(us,Es),us.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowLink||!t.model.Ut()||!t.lastInput.left||t.currentTool!==this&&!this.isBeyondDragSize())&&null!==this.findLinkablePort()},us.prototype.findLinkablePort=function(){var t=this.diagram,e=this.startObject;if(null===e&&(e=t.Vb(t.firstInput.documentPoint,null,null)),null===e||!((t=e.part)instanceof Ne))return null;var o=this.direction;if(o===Ea||o===fx){var a=this.findValidLinkablePort(e,!1);if(null!==a||this.startObject===t&&this.findValidLinkablePort(a=t.port,!1))return this.isForwards=!0,a}return o!==Ea&&o!==yh||!(null!==(e=this.findValidLinkablePort(e,!0))||this.startObject===t&&this.findValidLinkablePort(e=t.port,!0))?null:(this.isForwards=!1,e)},us.prototype.doActivate=function(){var t=this.diagram,e=this.findLinkablePort();null===e?this.stopTool():(this.xa(this.name),t.isMouseCaptured=!0,t.currentCursor=this.linkingCursor,this.isForwards?(null===this.temporaryToNode||this.temporaryToNode.location.o()||(this.temporaryToNode.location=t.lastInput.documentPoint),this.originalFromPort=e,(e=this.originalFromPort.part)instanceof Ne&&(this.originalFromNode=e),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1)):(null===this.temporaryFromNode||this.temporaryFromNode.location.o()||(this.temporaryFromNode.location=t.lastInput.documentPoint),this.originalToPort=e,(e=this.originalToPort.part)instanceof Ne&&(this.originalToNode=e),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0)),t.add(this.temporaryFromNode),t.add(this.temporaryToNode),null!==this.temporaryLink&&(null!==this.temporaryFromNode&&(this.temporaryLink.fromNode=this.temporaryFromNode),null!==this.temporaryToNode&&(this.temporaryLink.toNode=this.temporaryToNode),this.temporaryLink.isTreeLink=this.isNewTreeLink(),this.temporaryLink.Ua(),t.add(this.temporaryLink)),this.isActive=!0)},us.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;t.remove(this.temporaryLink),t.remove(this.temporaryFromNode),t.remove(this.temporaryToNode),t.isMouseCaptured=!1,t.currentCursor="",this.Jg()},us.prototype.doStop=function(){Es.prototype.doStop.call(this),this.startObject=null},us.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){var e=this.transactionResult=null,o=null,a=null,u=null,c=null;try{var g=this.targetPort=this.findTargetPort(this.isForwards);if(null!==g){var _=g.part;_ instanceof Ne&&(this.isForwards?(null!==this.originalFromNode&&(e=this.originalFromNode,o=this.originalFromPort),a=_,u=g):(e=_,o=g,null!==this.originalToNode&&(a=this.originalToNode,u=this.originalToPort)))}else this.isForwards?null!==this.originalFromNode&&this.isUnconnectedLinkValid&&(e=this.originalFromNode,o=this.originalFromPort):null!==this.originalToNode&&this.isUnconnectedLinkValid&&(a=this.originalToNode,u=this.originalToPort);null!==e||null!==a?null!==(c=this.insertLink(e,o,a,u))?(null===g&&(this.isForwards?c.defaultToPoint=t.lastInput.documentPoint.copy():c.defaultFromPoint=t.lastInput.documentPoint.copy()),t.allowSelect&&(t.R("ChangingSelection",t.selection),t.clearSelection(!0),c.isSelected=!0),this.transactionResult=this.name,t.R("LinkDrawn",c)):this.doNoLink(e,o,a,u):this.isForwards?this.doNoLink(this.originalFromNode,this.originalFromPort,null,null):this.doNoLink(null,null,this.originalToNode,this.originalToPort)}finally{this.stopTool(),c&&t.allowSelect&&t.R("ChangedSelection",t.selection)}}},us.prototype.isNewTreeLink=function(){var t=this.archetypeLinkData;if(null===t)return!0;if(t instanceof We)return t.isTreeLink;var e=this.diagram;return null===e||(t=e.partManager.getLinkCategoryForData(t),null===(e=e.partManager.findLinkTemplateForCategory(t))||e.isTreeLink)},us.prototype.insertLink=function(t,e,o,a){return this.diagram.partManager.insertLink(t,e,o,a)},us.prototype.doNoLink=function(){},W.Object.defineProperties(us.prototype,{archetypeLinkData:{get:function(){return this.T},set:function(t){this.T=t}},archetypeLabelNodeData:{get:function(){return this.I},set:function(t){this.I=t}},direction:{get:function(){return this.K},set:function(t){this.K=t}},startObject:{get:function(){return this.en},set:function(t){this.en=t}}});var Ea=new wt(us,"Either",0),fx=new wt(us,"ForwardsOnly",0),yh=new wt(us,"BackwardsOnly",0);function os(){Es.call(this),this.name="Relinking";var t=new Yi;t.figure="Diamond",t.desiredSize=ri,t.fill="lightblue",t.stroke="dodgerblue",t.cursor=this.linkingCursor,t.segmentIndex=0,this.T=t,(t=new Yi).figure="Diamond",t.desiredSize=ri,t.fill="lightblue",t.stroke="dodgerblue",t.cursor=this.linkingCursor,t.segmentIndex=-1,this.en=t,this.I=null,this.Hx=new te}function Og(t,e,o,a,u){null!==e?(t.copyPortProperties(e,o,t.temporaryFromNode,t.temporaryFromPort,!1),t.diagram.add(t.temporaryFromNode)):t.diagram.remove(t.temporaryFromNode),null!==a?(t.copyPortProperties(a,u,t.temporaryToNode,t.temporaryToPort,!0),t.diagram.add(t.temporaryToNode)):t.diagram.remove(t.temporaryToNode)}function wo(){Rn.call(this),this.name="LinkReshaping";var t=new Yi;t.figure="Rectangle",t.desiredSize=Pe,t.fill="lightblue",t.stroke="dodgerblue",this.u=t,(t=new Yi).figure="Diamond",t.desiredSize=ri,t.fill="lightblue",t.stroke="dodgerblue",t.cursor="move",this.I=t,this.T=3,this.wu=this.l=null,this.Ix=new at,this.Is=new Vt}function Xc(t,e,o,a,u,c){return c?Math.abs(e.y-o.y)<t.resegmentingDistance&&Math.abs(o.y-a.y)<t.resegmentingDistance&&Math.abs(a.y-u.y)<t.resegmentingDistance:Math.abs(e.x-o.x)<t.resegmentingDistance&&Math.abs(o.x-a.x)<t.resegmentingDistance&&Math.abs(a.x-u.x)<t.resegmentingDistance}us.className="LinkingTool",us.Either=Ea,us.ForwardsOnly=fx,us.BackwardsOnly=yh,K(os,Es),os.prototype.updateAdornments=function(t){if(null!==t&&t instanceof We){var e="RelinkFrom",o=null;if(t.isSelected&&!this.diagram.isReadOnly){var a=t.selectionObject;null!==a&&t.canRelinkFrom()&&t.actualBounds.o()&&t.isVisible()&&a.actualBounds.o()&&a.Gf()&&null===(o=t.wk(e))&&(o=this.makeAdornment(a,!1),t.Gh(e,o))}null===o&&t.Hf(e),e="RelinkTo",o=null,t.isSelected&&!this.diagram.isReadOnly&&null!==(a=t.selectionObject)&&t.canRelinkTo()&&t.actualBounds.o()&&t.isVisible()&&a.actualBounds.o()&&a.Gf()&&(null===(o=t.wk(e))?(o=this.makeAdornment(a,!0),t.Gh(e,o)):o.s()),null===o&&t.Hf(e)}},os.prototype.makeAdornment=function(t,e){var o=new si;return o.type=Ke.Link,null!==(e=e?this.toHandleArchetype:this.fromHandleArchetype)&&o.add(e.copy()),o.adornedObject=t,o},os.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowRelink||!t.model.Ut()||!t.lastInput.left)return!1;var e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkFrom");return null===e&&(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkTo")),null!==e},os.prototype.doActivate=function(){var t=this.diagram;if(null===this.originalLink){var e=this.handle;if(null===e&&null===(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkFrom"))&&(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkTo")),null===e)return;var o=e.part;if(!(o instanceof si&&o.adornedPart instanceof We))return;this.handle=e,this.isForwards=null===o||"RelinkTo"===o.category,this.originalLink=o.adornedPart}this.xa(this.name),t.isMouseCaptured=!0,t.currentCursor=this.linkingCursor,this.originalFromPort=this.originalLink.fromPort,this.originalFromNode=this.originalLink.fromNode,this.originalToPort=this.originalLink.toPort,this.originalToNode=this.originalLink.toNode,this.Hx.set(this.originalLink.actualBounds),null!==this.originalLink&&0<this.originalLink.pointsCount&&(null===this.originalLink.fromNode&&(null!==this.temporaryFromPort&&(this.temporaryFromPort.desiredSize=on),null!==this.temporaryFromNode&&(this.temporaryFromNode.location=this.originalLink.i(0))),null===this.originalLink.toNode&&(null!==this.temporaryToPort&&(this.temporaryToPort.desiredSize=on),null!==this.temporaryToNode&&(this.temporaryToNode.location=this.originalLink.i(this.originalLink.pointsCount-1)))),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0),t.add(this.temporaryFromNode),t.add(this.temporaryToNode),null!==this.temporaryLink&&(null!==this.temporaryFromNode&&(this.temporaryLink.fromNode=this.temporaryFromNode),null!==this.temporaryToNode&&(this.temporaryLink.toNode=this.temporaryToNode),this.copyLinkProperties(this.originalLink,this.temporaryLink),this.temporaryLink.Ua(),t.add(this.temporaryLink)),this.isActive=!0},os.prototype.copyLinkProperties=function(t,e){if(null!==t&&null!==e){e.adjusting=t.adjusting,e.corner=t.corner;var o=t.curve;(o===pf||o===Ia)&&(o=bs),e.curve=o,e.curviness=t.curviness,e.isTreeLink=t.isTreeLink,e.points=t.points,e.routing=t.routing,e.smoothness=t.smoothness,e.fromSpot=t.fromSpot,e.fromEndSegmentLength=t.fromEndSegmentLength,e.fromShortLength=t.fromShortLength,e.toSpot=t.toSpot,e.toEndSegmentLength=t.toEndSegmentLength,e.toShortLength=t.toShortLength}},os.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;t.remove(this.temporaryLink),t.remove(this.temporaryFromNode),t.remove(this.temporaryToNode),t.isMouseCaptured=!1,t.currentCursor="",this.Jg()},os.prototype.doStop=function(){Es.prototype.doStop.call(this),this.handle=null},os.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram;this.transactionResult=null;var e=this.originalFromNode,o=this.originalFromPort,a=this.originalToNode,u=this.originalToPort,c=this.originalLink;if(this.targetPort=this.findTargetPort(this.isForwards),null!==this.targetPort){var g=this.targetPort.part;g instanceof Ne&&(this.isForwards?(a=g,u=this.targetPort):(e=g,o=this.targetPort))}else this.isUnconnectedLinkValid?this.isForwards?u=a=null:o=e=null:c=null;null!==c?(this.reconnectLink(c,this.isForwards?a:e,this.isForwards?u:o,this.isForwards),null===this.targetPort&&(this.isForwards?c.defaultToPoint=t.lastInput.documentPoint.copy():c.defaultFromPoint=t.lastInput.documentPoint.copy(),c.Ua()),this.transactionResult=this.name,t.R("LinkRelinked",c,this.isForwards?this.originalToPort:this.originalFromPort)):this.doNoRelink(this.originalLink,this.isForwards),this.originalLink.Oq(this.Hx)}this.stopTool()},os.prototype.reconnectLink=function(t,e,o,a){return o=null!==o&&null!==o.portId?o.portId:"",a?(t.toNode=e,t.toPortId=o):(t.fromNode=e,t.fromPortId=o),!0},os.prototype.doNoRelink=function(){},W.Object.defineProperties(os.prototype,{fromHandleArchetype:{get:function(){return this.T},set:function(t){this.T=t}},toHandleArchetype:{get:function(){return this.en},set:function(t){this.en=t}},handle:{get:function(){return this.I},set:function(t){if(null!==t&&!(t.part instanceof si))throw Error("new handle is not in an Adornment: "+t);this.I=t}}}),os.className="RelinkingTool",S("linkingTool",function(){return this.findTool("Linking")},function(t){this.Ya("Linking",t,this.mouseMoveTools)}),S("relinkingTool",function(){return this.findTool("Relinking")},function(t){this.Ya("Relinking",t,this.mouseDownTools)}),K(wo,Rn),wo.prototype.Zv=function(t){return t&&t.Os&&0!==t.Os.value?t.Os:bu},wo.prototype.Xm=function(t,e){t.Os=e},wo.prototype.updateAdornments=function(t){if(null!==t&&t instanceof We){var e=null;if(t.isSelected&&!this.diagram.isReadOnly){var o=t.path;null!==o&&t.canReshape()&&t.actualBounds.o()&&t.isVisible()&&o.actualBounds.o()&&o.Gf()&&(null===(e=t.wk(this.name))||e.Ex!==t.pointsCount||e.Sx!==t.resegmentable)&&null!==(e=this.makeAdornment(o))&&(e.Ex=t.pointsCount,e.Sx=t.resegmentable,t.Gh(this.name,e))}null===e&&t.Hf(this.name)}},wo.prototype.makeAdornment=function(t){var e=t.part,o=e.pointsCount,a=e.isOrthogonal,u=null;if(null!==e.points&&1<o){(u=new si).type=Ke.Link,o=e.firstPickIndex;var c=e.lastPickIndex,g=a?1:0;if(e.resegmentable&&e.computeCurve()!==es)for(var _=o+g;_<c-g;_++){var A=this.makeResegmentHandle(t,_);null!==A&&(A.segmentIndex=_,A.segmentFraction=.5,A.fromMaxLinks=999,u.add(A))}for(g=o+1;g<c;g++)if(null!==(_=this.makeHandle(t,g))){if(_.segmentIndex=g,g!==o)if(g===o+1&&a){A=e.i(o);var I=e.i(o+1);me.A(A.x,I.x)&&me.A(A.y,I.y)&&(I=e.i(o-1)),me.A(A.x,I.x)?(this.Xm(_,zf),_.cursor="n-resize"):me.A(A.y,I.y)&&(this.Xm(_,Vd),_.cursor="w-resize")}else g===c-1&&a?(A=e.i(c-1),I=e.i(c),me.A(A.x,I.x)&&me.A(A.y,I.y)&&(A=e.i(c+1)),me.A(A.x,I.x)?(this.Xm(_,zf),_.cursor="n-resize"):me.A(A.y,I.y)&&(this.Xm(_,Vd),_.cursor="w-resize")):g!==c&&(this.Xm(_,wy),_.cursor="move");u.add(_)}u.adornedObject=t}return u},wo.prototype.makeHandle=function(){var t=this.handleArchetype;return null===t?null:t.copy()},wo.prototype.makeResegmentHandle=function(){var t=this.midHandleArchetype;return null===t?null:t.copy()},wo.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||!t.allowReshape||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)},wo.prototype.doActivate=function(){var t=this.diagram;if(null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null!==this.handle){var e=this.handle.part.adornedPart;if(e instanceof We){if(this.wu=e,t.isMouseCaptured=!0,this.xa(this.name),e.resegmentable&&999===this.handle.fromMaxLinks){var o=e.points.copy(),a=this.getResegmentingPoint();if(o.wb(this.handle.segmentIndex+1,a),e.isOrthogonal&&o.wb(this.handle.segmentIndex+1,a),e.points=o,e.Lb(),e.updateAdornments(),this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name),null===this.handle)return void this.doDeactivate()}this.Ix=e.i(this.handle.segmentIndex),this.Is=e.points.copy(),this.isActive=!0}}},wo.prototype.doDeactivate=function(){this.Jg(),this.wu=this.handle=null,this.isActive=this.diagram.isMouseCaptured=!1},wo.prototype.doCancel=function(){var t=this.adornedLink;null!==t&&(t.points=this.Is),this.stopTool()},wo.prototype.getResegmentingPoint=function(){return this.handle.da(Vi)},wo.prototype.doMouseMove=function(){var t=this.diagram;this.isActive&&(t=this.computeReshape(t.lastInput.documentPoint),this.reshape(t))},wo.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){var e=this.computeReshape(t.lastInput.documentPoint);if(this.reshape(e),null!==(e=this.adornedLink)&&e.resegmentable){var o=this.handle.segmentIndex,a=e.i(o-1),u=e.i(o),c=e.i(o+1);if(e.isOrthogonal){if(o>e.firstPickIndex+1&&o<e.lastPickIndex-1){var g=e.i(o-2);if(Math.abs(a.x-u.x)<this.resegmentingDistance&&Math.abs(a.y-u.y)<this.resegmentingDistance&&(Xc(this,g,a,u,c,!0)||Xc(this,g,a,u,c,!1))){var _=e.points.copy();Xc(this,g,a,u,c,!0)?(_.Pc(o-2,new at(g.x,(c.y+g.y)/2)),_.Pc(o+1,new at(c.x,(c.y+g.y)/2))):(_.Pc(o-2,new at((c.x+g.x)/2,g.y)),_.Pc(o+1,new at((c.x+g.x)/2,c.y))),_.cb(o),_.cb(o-1),e.points=_,e.Lb()}else g=e.i(o+2),Math.abs(u.x-c.x)<this.resegmentingDistance&&Math.abs(u.y-c.y)<this.resegmentingDistance&&(Xc(this,a,u,c,g,!0)||Xc(this,a,u,c,g,!1))&&(_=e.points.copy(),Xc(this,a,u,c,g,!0)?(_.Pc(o-1,new at(a.x,(a.y+g.y)/2)),_.Pc(o+2,new at(g.x,(a.y+g.y)/2))):(_.Pc(o-1,new at((a.x+g.x)/2,a.y)),_.Pc(o+2,new at((a.x+g.x)/2,g.y))),_.cb(o+1),_.cb(o),e.points=_,e.Lb())}}else g=at.alloc(),me.Qh(a.x,a.y,c.x,c.y,u.x,u.y,g)&&g.Ie(u)<this.resegmentingDistance*this.resegmentingDistance&&((a=e.points.copy()).cb(o),e.points=a,e.Lb()),at.free(g)}t.Na(),this.transactionResult=this.name,t.R("LinkReshaped",this.adornedLink,this.Is)}this.stopTool()},wo.prototype.reshape=function(t){var e=this.adornedLink;e.Th();var o=this.handle.segmentIndex,a=this.Zv(this.handle);if(e.isOrthogonal)if(o===e.firstPickIndex+1)o=e.firstPickIndex+1,a===zf?(e.L(o,e.i(o-1).x,t.y),e.L(o+1,e.i(o+2).x,t.y)):a===Vd&&(e.L(o,t.x,e.i(o-1).y),e.L(o+1,t.x,e.i(o+2).y));else if(o===e.lastPickIndex-1)o=e.lastPickIndex-1,a===zf?(e.L(o-1,e.i(o-2).x,t.y),e.L(o,e.i(o+1).x,t.y)):a===Vd&&(e.L(o-1,t.x,e.i(o-2).y),e.L(o,t.x,e.i(o+1).y));else{var u=e.i(a=o),c=e.i(a-1),g=e.i(a+1);me.A(c.x,u.x)&&me.A(u.y,g.y)?(me.A(c.x,e.i(a-2).x)&&!me.A(c.y,e.i(a-2).y)?(e.m(a,t.x,c.y),o++,a++):e.L(a-1,t.x,c.y),me.A(g.y,e.i(a+2).y)&&!me.A(g.x,e.i(a+2).x)?e.m(a+1,g.x,t.y):e.L(a+1,g.x,t.y)):me.A(c.y,u.y)&&me.A(u.x,g.x)?(me.A(c.y,e.i(a-2).y)&&!me.A(c.x,e.i(a-2).x)?(e.m(a,c.x,t.y),o++,a++):e.L(a-1,c.x,t.y),me.A(g.x,e.i(a+2).x)&&!me.A(g.y,e.i(a+2).y)?e.m(a+1,t.x,g.y):e.L(a+1,t.x,g.y)):me.A(c.x,u.x)&&me.A(u.x,g.x)?(me.A(c.x,e.i(a-2).x)&&!me.A(c.y,e.i(a-2).y)?(e.m(a,t.x,c.y),o++,a++):e.L(a-1,t.x,c.y),me.A(g.x,e.i(a+2).x)&&!me.A(g.y,e.i(a+2).y)?e.m(a+1,t.x,g.y):e.L(a+1,t.x,g.y)):me.A(c.y,u.y)&&me.A(u.y,g.y)&&(me.A(c.y,e.i(a-2).y)&&!me.A(c.x,e.i(a-2).x)?(e.m(a,c.x,t.y),o++,a++):e.L(a-1,c.x,t.y),me.A(g.y,e.i(a+2).y)&&!me.A(g.x,e.i(a+2).x)?e.m(a+1,g.x,t.y):e.L(a+1,g.x,t.y)),e.L(o,t.x,t.y)}else e.L(o,t.x,t.y),u=e.fromPort,null!==(a=e.fromNode)&&null!==(c=a.findVisibleNode())&&c!==a&&(u=(a=c).port),1===o&&e.computeSpot(!0,u).nc()&&(c=u.da(Vi,at.alloc()),a=e.getLinkPointFromPoint(a,u,c,t,!0,at.alloc()),e.L(0,a.x,a.y),at.free(c),at.free(a)),u=e.toPort,null!==(a=e.toNode)&&null!==(c=a.findVisibleNode())&&c!==a&&(u=(a=c).port),o===e.pointsCount-2&&e.computeSpot(!1,u).nc()&&(o=u.da(Vi,at.alloc()),t=e.getLinkPointFromPoint(a,u,o,t,!1,at.alloc()),e.L(e.pointsCount-1,t.x,t.y),at.free(o),at.free(t));e.xf()},wo.prototype.computeReshape=function(t){var e=this.adornedLink,o=this.handle.segmentIndex;switch(this.Zv(this.handle)){case wy:return t;case zf:return new at(e.i(o).x,t.y);case Vd:return new at(t.x,e.i(o).y);default:return e.i(o)}},W.Object.defineProperties(wo.prototype,{handleArchetype:{get:function(){return this.u},set:function(t){this.u=t}},midHandleArchetype:{get:function(){return this.I},set:function(t){this.I=t}},handle:{get:function(){return this.l},set:function(t){if(null!==t&&!(t.part instanceof si))throw Error("new handle is not in an Adornment: "+t);this.l=t}},adornedLink:{get:function(){return this.wu}},resegmentingDistance:{get:function(){return this.T},set:function(t){this.T=t}},originalPoint:{get:function(){return this.Ix}},originalPoints:{get:function(){return this.Is}}}),wo.prototype.setReshapingBehavior=wo.prototype.Xm,wo.prototype.getReshapingBehavior=wo.prototype.Zv;var bu=new wt(wo,"None",0),Vd=new wt(wo,"Horizontal",1),zf=new wt(wo,"Vertical",2),wy=new wt(wo,"All",3);function Qs(){Rn.call(this),this.name="Resizing",this.fg=new He(1,1).freeze(),this.eg=new He(9999,9999).freeze(),this.Qg=new He(NaN,NaN).freeze(),this.I=!1,this.T=!0,this.ie=null;var t=new Yi;t.alignmentFocus=Vi,t.figure="Rectangle",t.desiredSize=Pe,t.fill="lightblue",t.stroke="dodgerblue",t.strokeWidth=1,t.cursor="pointer",this.u=t,this.l=null,this.Hs=new at,this.Gx=new He,this.qp=new at,this.Nu=new He(0,0),this.Mu=new He(1/0,1/0),this.Lu=new He(1,1)}function il(){Rn.call(this),this.name="Rotating",this.La=45,this.Ka=2,this.qp=new at,this.ie=null;var t=new Yi;t.figure="Ellipse",t.desiredSize=ri,t.fill="lightblue",t.stroke="dodgerblue",t.strokeWidth=1,t.cursor="pointer",this.u=t,this.l=null,this.Fx=0,this.Ps=new at(NaN,NaN),this.I=0,this.T=50}function J0(){Rn.call(this),this.name="ClickSelecting"}function Kc(){Rn.call(this),this.name="Action",this.Xk=null}function jd(){Rn.call(this),this.name="ClickCreating",this.Aj=null,this.u=!0,this.l=!1,this.xx=new at(0,0)}function xh(){Rn.call(this),this.name="DragSelecting",this.pl=175,this.u=!1;var t=new Bt;t.layerName="Tool",t.selectable=!1;var e=new Yi;e.name="SHAPE",e.figure="Rectangle",e.fill=null,e.stroke="magenta",t.add(e),this.l=t}function wh(){Rn.call(this),this.name="Panning",this.kv=new at,this.kz=new at,this.Pg=!1;var t=this;this.Lx=function(){var e=t.diagram;null!==e&&e.removeEventListener(N.document,"scroll",t.Lx,!1),t.stopTool()}}function Zc(){this.T=this.I=this.l=this.u=null}function Jl(t,e,o){this.text=t,this.by=e,this.visible=o}function nl(){Rn.call(this),this.name="ContextMenu",this.u=this.Cu=this.l=null,this.Cx=new at,this.Du=null,this.Yu=!1;var t=this;this.wv=function(){t.stopTool()}}function dx(t){return t.preventDefault(),!1}function ub(t){var e=t.diagram;if(t.isActive){var o=t.currentContextMenu;if(null!==o){if(!(o instanceof Zc)){var a=e.Vb(e.lastInput.documentPoint,null,null);null!==a&&a.Gg(o)&&t.standardMouseClick(null,null)}t.stopTool(),t.canStart()&&(e.currentTool=t,t.doMouseUp())}}else t.canStart()&&(hb(t,!0),t.isActive||t.stopTool())}function hb(t,e,o){if(void 0===o&&(o=null),!t.Yu&&(t.Yu=!0,e&&t.standardMouseSelect(),e=t.standardMouseClick(),t.Yu=!1,!e)){if(t.isActive=!0,e=zd,null===o&&(o=t.findObjectWithContextMenu()),null!==o){var a=o.contextMenu;null!==a?(t.currentObject=o instanceof Ri?o:null,t.showContextMenu(a,t.currentObject)):null!==e&&t.showContextMenu(e,t.currentObject)}else null!==e&&t.showContextMenu(e,null);t.currentContextMenu instanceof si&&!t.currentContextMenu.visible&&t.stopTool()}}wo.className="LinkReshapingTool",wo.None=bu,wo.Horizontal=Vd,wo.Vertical=zf,wo.All=wy,S("linkReshapingTool",function(){return this.findTool("LinkReshaping")},function(t){this.Ya("LinkReshaping",t,this.mouseDownTools)}),K(Qs,Rn),Qs.prototype.updateAdornments=function(t){if(!(null===t||t instanceof We)){if(t.isSelected&&!this.diagram.isReadOnly){var e=t.resizeObject,o=t.wk(this.name);if(null!==e&&t.canResize()&&t.actualBounds.o()&&t.isVisible()&&e.actualBounds.o()&&e.Gf()&&((null===o||o.adornedObject!==e)&&(o=this.makeAdornment(e)),null!==o))return e=e.lj(),Le(t)&&this.updateResizeHandles(o,e),void t.Gh(this.name,o)}t.Hf(this.name)}},Qs.prototype.makeAdornment=function(t){var e=t.part.resizeAdornmentTemplate;if(null===e){(e=new si).type=Ke.Spot,e.locationSpot=Vi;var o=new Ni;o.isPanelMain=!0,e.add(o),e.add(this.makeHandle(t,ar)),e.add(this.makeHandle(t,vo)),e.add(this.makeHandle(t,Ha)),e.add(this.makeHandle(t,ph)),e.add(this.makeHandle(t,aa)),e.add(this.makeHandle(t,kr)),e.add(this.makeHandle(t,Zo)),e.add(this.makeHandle(t,Ko))}else if(va(e),null===(e=e.copy()))return null;return e.adornedObject=t,e},Qs.prototype.makeHandle=function(t,e){return null===(t=this.handleArchetype)?null:((t=t.copy()).alignment=e,t)},Qs.prototype.updateResizeHandles=function(t,e){if(null!==t)if(!t.alignment.Mb()&&("pointer"===t.cursor||0<t.cursor.indexOf("resize")))t:{var o=t.alignment;if(o.nc()&&(o=Vi),0>=o.x)e=0>=o.y?e+225:1<=o.y?e+135:e+180;else if(1<=o.x)0>=o.y?e+=315:1<=o.y&&(e+=45);else if(0>=o.y)e+=270;else{if(!(1<=o.y))break t;e+=90}0>e?e+=360:360<=e&&(e-=360),t.cursor=22.5>e?"e-resize":67.5>e?"se-resize":112.5>e?"s-resize":157.5>e?"sw-resize":202.5>e?"w-resize":247.5>e?"nw-resize":292.5>e?"n-resize":337.5>e?"ne-resize":"e-resize"}else if(t instanceof Ke)for(t=t.elements;t.next();)this.updateResizeHandles(t.value,e)},Qs.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||!t.allowResize||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)},Qs.prototype.doActivate=function(){var t=this.diagram;null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null!==this.handle&&(this.adornedObject=this.handle.part.adornedObject,null!==this.adornedObject&&(t.isMouseCaptured=!0,t.animationManager.Bc(),this.xa(this.name),this.Hs.set(this.adornedObject.da(this.handle.alignment.mw())),this.qp.set(this.adornedObject.part.location),this.Gx.set(this.adornedObject.desiredSize),this.Lu=this.computeCellSize(),this.Nu=this.computeMinSize(),this.Mu=this.computeMaxSize(),this.isActive=!0))},Qs.prototype.doDeactivate=function(){var t=this.diagram;this.Jg(),this.ie=this.handle=null,this.isActive=t.isMouseCaptured=!1},Qs.prototype.doCancel=function(){null!==this.adornedObject&&(this.adornedObject.desiredSize=this.originalDesiredSize,this.adornedObject.part.location=this.originalLocation),this.stopTool()},Qs.prototype.doMouseMove=function(){var t=this.diagram;if(this.isActive){var e=this.Nu,o=this.Mu,a=this.Lu,u=this.adornedObject.Mt(t.lastInput.documentPoint,at.alloc()),c=this.computeReshape();e=this.computeResize(u,this.handle.alignment,e,o,a,c),this.resize(e),t.hd(),at.free(u)}},Qs.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){var e=this.Nu,o=this.Mu,a=this.Lu,u=this.adornedObject.Mt(t.lastInput.documentPoint,at.alloc()),c=this.computeReshape();e=this.computeResize(u,this.handle.alignment,e,o,a,c),this.resize(e),at.free(u),t.Na(),this.transactionResult=this.name,t.R("PartResized",this.adornedObject,this.originalDesiredSize)}this.stopTool()},Qs.prototype.resize=function(t){var e=this.diagram,o=this.adornedObject;if(null!==o){if(o.desiredSize=t.size,(t=o.part).Ta(),o=o.da(this.handle.alignment.mw()),t instanceof ai){var a=new Vt;if(a.add(t),!this.dragsMembers&&null===t.placeholder){var u=new h0;u.dragsMembers=!1}e.moveParts(a,this.oppositePoint.copy().ge(o),!0,u)}else t.location=t.location.copy().ge(o).add(this.oppositePoint);e.hd()}},Qs.prototype.computeResize=function(t,e,o,a,u,c){e.nc()&&(e=Vi);var g=this.adornedObject.naturalBounds,_=g.x,A=g.y,I=g.x+g.width,B=g.y+g.height,H=1;if(!c){var dt=g.height;0>=(H=g.width)&&(H=1),0>=dt&&(dt=1),H=dt/H}return dt=at.alloc(),me.Gq(t.x,t.y,_,A,u.width,u.height,dt),t=g.copy(),0>=e.x?0>=e.y?(t.x=Math.max(dt.x,I-a.width),t.x=Math.min(t.x,I-o.width),t.width=Math.max(I-t.x,o.width),t.y=Math.max(dt.y,B-a.height),t.y=Math.min(t.y,B-o.height),t.height=Math.max(B-t.y,o.height),c||(1<=t.height/t.width?(t.height=Math.max(Math.min(H*t.width,a.height),o.height),t.width=t.height/H):(t.width=Math.max(Math.min(t.height/H,a.width),o.width),t.height=H*t.width),t.x=I-t.width,t.y=B-t.height)):1<=e.y?(t.x=Math.max(dt.x,I-a.width),t.x=Math.min(t.x,I-o.width),t.width=Math.max(I-t.x,o.width),t.height=Math.max(Math.min(dt.y-A,a.height),o.height),c||(1<=t.height/t.width?(t.height=Math.max(Math.min(H*t.width,a.height),o.height),t.width=t.height/H):(t.width=Math.max(Math.min(t.height/H,a.width),o.width),t.height=H*t.width),t.x=I-t.width)):(t.x=Math.max(dt.x,I-a.width),t.x=Math.min(t.x,I-o.width),t.width=I-t.x,c||(t.height=Math.max(Math.min(H*t.width,a.height),o.height),t.width=t.height/H,t.y=A+.5*(B-A-t.height))):1<=e.x?0>=e.y?(t.width=Math.max(Math.min(dt.x-_,a.width),o.width),t.y=Math.max(dt.y,B-a.height),t.y=Math.min(t.y,B-o.height),t.height=Math.max(B-t.y,o.height),c||(1<=t.height/t.width?(t.height=Math.max(Math.min(H*t.width,a.height),o.height),t.width=t.height/H):(t.width=Math.max(Math.min(t.height/H,a.width),o.width),t.height=H*t.width),t.y=B-t.height)):1<=e.y?(t.width=Math.max(Math.min(dt.x-_,a.width),o.width),t.height=Math.max(Math.min(dt.y-A,a.height),o.height),c||(1<=t.height/t.width?(t.height=Math.max(Math.min(H*t.width,a.height),o.height),t.width=t.height/H):(t.width=Math.max(Math.min(t.height/H,a.width),o.width),t.height=H*t.width))):(t.width=Math.max(Math.min(dt.x-_,a.width),o.width),c||(t.height=Math.max(Math.min(H*t.width,a.height),o.height),t.width=t.height/H,t.y=A+.5*(B-A-t.height))):0>=e.y?(t.y=Math.max(dt.y,B-a.height),t.y=Math.min(t.y,B-o.height),t.height=B-t.y,c||(t.width=Math.max(Math.min(t.height/H,a.width),o.width),t.height=H*t.width,t.x=_+.5*(I-_-t.width))):1<=e.y&&(t.height=Math.max(Math.min(dt.y-A,a.height),o.height),c||(t.width=Math.max(Math.min(t.height/H,a.width),o.width),t.height=H*t.width,t.x=_+.5*(I-_-t.width))),at.free(dt),t},Qs.prototype.computeReshape=function(){var t=qn;return this.adornedObject instanceof Yi&&(t=Em(this.adornedObject)),!(t===Vs||this.diagram.lastInput.shift)},Qs.prototype.computeMinSize=function(){var t=this.adornedObject.minSize.copy(),e=this.minSize;return!isNaN(e.width)&&e.width>t.width&&(t.width=e.width),!isNaN(e.height)&&e.height>t.height&&(t.height=e.height),t},Qs.prototype.computeMaxSize=function(){var t=this.adornedObject.maxSize.copy(),e=this.maxSize;return!isNaN(e.width)&&e.width<t.width&&(t.width=e.width),!isNaN(e.height)&&e.height<t.height&&(t.height=e.height),t},Qs.prototype.computeCellSize=function(){var t=new He(NaN,NaN),e=this.adornedObject.part;return null!==e&&(e=e.resizeCellSize,!isNaN(e.width)&&0<e.width&&(t.width=e.width),!isNaN(e.height)&&0<e.height&&(t.height=e.height)),e=this.cellSize,isNaN(t.width)&&!isNaN(e.width)&&0<e.width&&(t.width=e.width),isNaN(t.height)&&!isNaN(e.height)&&0<e.height&&(t.height=e.height),e=this.diagram,(isNaN(t.width)||isNaN(t.height))&&e&&null!==(e=e.grid)&&e.visible&&this.isGridSnapEnabled&&(e=e.gridCellSize,isNaN(t.width)&&!isNaN(e.width)&&0<e.width&&(t.width=e.width),isNaN(t.height)&&!isNaN(e.height)&&0<e.height&&(t.height=e.height)),(isNaN(t.width)||0===t.width||t.width===1/0)&&(t.width=1),(isNaN(t.height)||0===t.height||t.height===1/0)&&(t.height=1),t},W.Object.defineProperties(Qs.prototype,{handleArchetype:{get:function(){return this.u},set:function(t){this.u=t}},handle:{get:function(){return this.l},set:function(t){if(null!==t&&!(t.part instanceof si))throw Error("new handle is not in an Adornment: "+t);this.l=t}},adornedObject:{get:function(){return this.ie},set:function(t){if(null!==t&&t.part instanceof si)throw Error("new handle must not be in an Adornment: "+t);this.ie=t}},minSize:{get:function(){return this.fg},set:function(t){if(!this.fg.w(t)){var e=t.width;isNaN(e)&&(e=0),t=t.height,isNaN(t)&&(t=0),this.fg.h(e,t)}}},maxSize:{get:function(){return this.eg},set:function(t){if(!this.eg.w(t)){var e=t.width;isNaN(e)&&(e=1/0),t=t.height,isNaN(t)&&(t=1/0),this.eg.h(e,t)}}},cellSize:{get:function(){return this.Qg},set:function(t){this.Qg.w(t)||this.Qg.assign(t)}},isGridSnapEnabled:{get:function(){return this.I},set:function(t){this.I=t}},dragsMembers:{get:function(){return this.T},set:function(t){this.T=t}},oppositePoint:{get:function(){return this.Hs},set:function(t){this.Hs.w(t)||this.Hs.assign(t)}},originalDesiredSize:{get:function(){return this.Gx}},originalLocation:{get:function(){return this.qp}}}),Qs.className="ResizingTool",S("resizingTool",function(){return this.findTool("Resizing")},function(t){this.Ya("Resizing",t,this.mouseDownTools)}),K(il,Rn),il.prototype.updateAdornments=function(t){if(null!==t){if(t.Ph()){var e=t.rotateObject;if(e===t||e===t.path||e.isPanelMain)return}if(t.isSelected&&!this.diagram.isReadOnly&&null!==(e=t.rotateObject)&&t.canRotate()&&t.actualBounds.o()&&t.isVisible()&&e.actualBounds.o()&&e.Gf()){var o=t.wk(this.name);if((null===o||o.adornedObject!==e)&&(o=this.makeAdornment(e)),null!==o)return o.angle=e.lj(),null===o.placeholder&&(o.location=this.computeAdornmentLocation(e)),void t.Gh(this.name,o)}t.Hf(this.name)}},il.prototype.makeAdornment=function(t){var e=t.part.rotateAdornmentTemplate;if(null===e){(e=new si).type=Ke.Position,e.locationSpot=Vi;var o=this.handleArchetype;null!==o&&e.add(o.copy())}else if(va(e),null===(e=e.copy()))return null;return e.adornedObject=t,e},il.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||!t.allowRotate||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)},il.prototype.doActivate=function(){var t=this.diagram;if(null===this.adornedObject){if(null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null===this.handle)return;this.adornedObject=this.handle.part.adornedObject}null!==this.adornedObject&&(t.isMouseCaptured=!0,t.delaysLayout=!0,this.xa(this.name),this.Fx=this.adornedObject.angle,this.Ps=this.computeRotationPoint(this.adornedObject),this.qp=this.adornedObject.part.location.copy(),this.isActive=!0)},il.prototype.computeRotationPoint=function(t){var e=t.part,o=e.locationObject;return e.rotationSpot.kb()?t.da(e.rotationSpot):t===e||t===o?o.da(e.locationSpot):t.da(Vi)},il.prototype.computeAdornmentLocation=function(t){var e=this.rotationPoint;e.o()||(e=this.computeRotationPoint(t)),e=t.Mt(e);var o=this.handleAngle;0>o?o+=360:360<=o&&(o-=360),o=Math.round(45*Math.round(o/45));var a=this.handleDistance;return 0===o?e.x=t.naturalBounds.width+a:45===o?(e.x=t.naturalBounds.width+a,e.y=t.naturalBounds.height+a):90===o?e.y=t.naturalBounds.height+a:135===o?(e.x=-a,e.y=t.naturalBounds.height+a):180===o?e.x=-a:225===o?(e.x=-a,e.y=-a):270===o?e.y=-a:315===o&&(e.x=t.naturalBounds.width+a,e.y=-a),t.da(e)},il.prototype.doDeactivate=function(){var t=this.diagram;this.Jg(),this.ie=this.handle=null,this.Ps=new at(NaN,NaN),this.isActive=t.isMouseCaptured=!1},il.prototype.doCancel=function(){this.diagram.delaysLayout=!1,this.rotate(this.originalAngle),this.stopTool()},il.prototype.doMouseMove=function(){var t=this.diagram;this.isActive&&(t=this.computeRotate(t.lastInput.documentPoint),this.rotate(t))},il.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){t.delaysLayout=!1;var e=this.computeRotate(t.lastInput.documentPoint);this.rotate(e),t.Na(),this.transactionResult=this.name,t.R("PartRotated",this.adornedObject,this.originalAngle)}this.stopTool()},il.prototype.rotate=function(t){var e=this.adornedObject;if(null!==e){e.angle=t,(e=e.part).Ta();var o=e.locationObject,a=e.rotateObject;(o===a||o.Gg(a))&&(o=this.qp.copy(),e.location=o.ge(this.rotationPoint).rotate(t-this.originalAngle).add(this.rotationPoint)),this.diagram.hd()}},il.prototype.computeRotate=function(t){t=this.rotationPoint.Pa(t)-this.handleAngle;var e=this.adornedObject.panel;null!==e&&(t-=e.lj()),360<=t?t-=360:0>t&&(t+=360),e=Math.min(Math.abs(this.snapAngleMultiple),180);var o=Math.min(Math.abs(this.snapAngleEpsilon),e/2);return!this.diagram.lastInput.shift&&0<e&&0<o&&(t%e<o?t=Math.floor(t/e)*e:t%e>e-o&&(t=(Math.floor(t/e)+1)*e)),360<=t?t-=360:0>t&&(t+=360),t},W.Object.defineProperties(il.prototype,{handleArchetype:{get:function(){return this.u},set:function(t){this.u=t}},handle:{get:function(){return this.l},set:function(t){if(null!==t&&!(t.part instanceof si))throw Error("new handle is not in an Adornment: "+t);this.l=t}},adornedObject:{get:function(){return this.ie},set:function(t){if(null!==t&&t.part instanceof si)throw Error("new handle must not be in an Adornment: "+t);this.ie=t}},snapAngleMultiple:{get:function(){return this.La},set:function(t){this.La=t}},snapAngleEpsilon:{get:function(){return this.Ka},set:function(t){this.Ka=t}},originalAngle:{get:function(){return this.Fx}},rotationPoint:{get:function(){return this.Ps},set:function(t){this.Ps=t.copy()}},handleAngle:{get:function(){return this.I},set:function(t){this.I=t}},handleDistance:{get:function(){return this.T},set:function(t){this.T=t}}}),il.className="RotatingTool",S("rotatingTool",function(){return this.findTool("Rotating")},function(t){this.Ya("Rotating",t,this.mouseDownTools)}),K(J0,Rn),J0.prototype.canStart=function(){return!(!this.isEnabled||this.isBeyondDragSize())},J0.prototype.doMouseUp=function(){this.isActive&&(this.standardMouseSelect(),!this.standardMouseClick()&&this.diagram.lastInput.isTouchEvent&&this.diagram.toolManager.doToolTip()),this.stopTool()},J0.className="ClickSelectingTool",K(Kc,Rn),Kc.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram,e=t.lastInput,o=t.Vb(e.documentPoint,function(a){for(;null!==a.panel&&!a.isActionable;)a=a.panel;return a});return!(null===o||!o.isActionable||(this.Xk=o,t.Ej=t.Vb(e.documentPoint,null,null),0))},Kc.prototype.doMouseDown=function(){if(this.isActive){var t=this.diagram.lastInput,e=this.Xk;null!==e&&(t.targetObject=e,null!==e.actionDown&&e.actionDown(t,e))}else this.canStart()&&this.doActivate()},Kc.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram.lastInput,e=this.Xk;null!==e&&(t.targetObject=e,null!==e.actionMove&&e.actionMove(t,e))}},Kc.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram.lastInput,e=this.Xk;if(null===e)return;t.targetObject=e,null!==e.actionUp&&e.actionUp(t,e),this.standardMouseClick(function(o){for(;null!==o.panel&&(!o.isActionable||o!==e);)o=o.panel;return o},function(o){return o===e})}this.stopTool()},Kc.prototype.doCancel=function(){var t=this.diagram.lastInput,e=this.Xk;null!==e&&(t.targetObject=e,null!==e.actionCancel&&e.actionCancel(t,e),this.stopTool())},Kc.prototype.doStop=function(){this.Xk=null},Kc.className="ActionTool",K(jd,Rn),jd.prototype.canStart=function(){if(!this.isEnabled||null===this.archetypeNodeData)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.lastInput.left||this.isBeyondDragSize())return!1;if(this.isDoubleClick){if(1===t.lastInput.clickCount&&(this.xx=t.lastInput.viewPoint.copy()),2!==t.lastInput.clickCount||this.isBeyondDragSize(this.xx))return!1}else if(1!==t.lastInput.clickCount)return!1;return!(t.currentTool!==this&&null!==t.zm(t.lastInput.documentPoint,!0))},jd.prototype.doMouseUp=function(){this.isActive&&this.insertPart(this.diagram.lastInput.documentPoint),this.stopTool()},jd.prototype.insertPart=function(t){var e=this.diagram,o=this.archetypeNodeData;if(null===o)return null;var a=null;try{if(e.R("ChangingSelection",e.selection),this.xa(this.name),o instanceof Bt)o.Nc()&&(va(o),null!==(a=o.copy())&&e.add(a));else if(null!==o){var u=e.model.copyNodeData(o);gt(u)&&(e.model.uf(u),a=e.zc(u))}if(null!==a){var c=at.allocAt(t.x,t.y);this.isGridSnapEnabled&&Ey(this.diagram,a,t,c),a.location=c,e.allowSelect&&(e.clearSelection(!0),a.isSelected=!0),at.free(c)}e.Na(),this.transactionResult=this.name,e.R("PartCreated",a)}finally{this.Jg(),e.R("ChangedSelection",e.selection)}return a},W.Object.defineProperties(jd.prototype,{archetypeNodeData:{get:function(){return this.Aj},set:function(t){this.Aj=t}},isDoubleClick:{get:function(){return this.u},set:function(t){this.u=t}},isGridSnapEnabled:{get:function(){return this.l},set:function(t){this.l=t}}}),jd.className="ClickCreatingTool",K(xh,Rn),xh.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(!t.allowSelect)return!1;var e=t.lastInput;return!(!e.left||t.currentTool!==this&&(!this.isBeyondDragSize()||e.timestamp-t.firstInput.timestamp<this.delay||null!==t.zm(e.documentPoint,!0)))},xh.prototype.doActivate=function(){var t=this.diagram;this.isActive=!0,t.isMouseCaptured=!0,t.skipsUndoManager=!0,t.add(this.box),this.doMouseMove()},xh.prototype.doDeactivate=function(){var t=this.diagram;t.Jf(),t.remove(this.box),t.skipsUndoManager=!1,this.isActive=t.isMouseCaptured=!1},xh.prototype.doMouseMove=function(){var t=this.diagram;if(this.isActive&&null!==this.box){var e=this.computeBoxBounds(),o=this.box.bb("SHAPE");null===o&&(o=this.box.tb());var a=He.alloc().h(e.width,e.height);e=at.allocAt(e.x,e.y),o.desiredSize=a,this.box.position=e,He.free(a),at.free(e),(t.allowHorizontalScroll||t.allowVerticalScroll)&&t.Et(t.lastInput.viewPoint)}},xh.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram;t.remove(this.box);try{t.currentCursor="wait",t.R("ChangingSelection",t.selection),this.selectInRect(this.computeBoxBounds()),t.R("ChangedSelection",t.selection)}finally{t.currentCursor=""}}this.stopTool()},xh.prototype.computeBoxBounds=function(){var t=this.diagram;return new te(t.firstInput.documentPoint,t.lastInput.documentPoint)},xh.prototype.selectInRect=function(t){var e=this.diagram,o=e.lastInput;if(t=e.ty(t,this.isPartialInclusion),Q?o.meta:o.control)if(o.shift)for(t=t.iterator;t.next();)(e=t.value).isSelected&&(e.isSelected=!1);else for(t=t.iterator;t.next();)(e=t.value).isSelected=!e.isSelected;else if(o.shift)for(t=t.iterator;t.next();)(e=t.value).isSelected||(e.isSelected=!0);else{for(o=new Vt,e=e.selection.iterator;e.next();){var a=e.value;t.contains(a)||o.add(a)}for(e=o.iterator;e.next();)e.value.isSelected=!1;for(t=t.iterator;t.next();)(e=t.value).isSelected||(e.isSelected=!0)}},W.Object.defineProperties(xh.prototype,{delay:{get:function(){return this.pl},set:function(t){this.pl=t}},isPartialInclusion:{get:function(){return this.u},set:function(t){this.u=t}},box:{get:function(){return this.l},set:function(t){this.l=t}}}),xh.className="DragSelectingTool",K(wh,Rn),wh.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(!t.allowHorizontalScroll&&!t.allowVerticalScroll||!t.lastInput.left||t.currentTool!==this&&!this.isBeyondDragSize())},wh.prototype.doActivate=function(){var t=this.diagram;this.Pg?(t.lastInput.bubbles=!0,t.addEventListener(N.document,"scroll",this.Lx,!1)):(t.currentCursor="move",t.isMouseCaptured=!0,this.kv.assign(t.position)),this.isActive=!0},wh.prototype.doDeactivate=function(){var t=this.diagram;t.currentCursor="",this.isActive=t.isMouseCaptured=!1},wh.prototype.doCancel=function(){var t=this.diagram;t.position=this.kv,t.isMouseCaptured=!1,this.stopTool()},wh.prototype.doMouseMove=function(){this.move()},wh.prototype.doMouseUp=function(){this.move(),this.stopTool()},wh.prototype.move=function(){var t=this.diagram;if(this.isActive&&t)if(this.Pg)t.lastInput.bubbles=!0;else{var e=t.position,o=t.firstInput.documentPoint,a=t.lastInput.documentPoint,u=e.x+o.x-a.x;o=e.y+o.y-a.y,t.allowHorizontalScroll||(u=e.x),t.allowVerticalScroll||(o=e.y),t.position=this.kz.h(u,o)}},W.Object.defineProperties(wh.prototype,{bubbles:{get:function(){return this.Pg},set:function(t){this.Pg=t}},originalPosition:{get:function(){return this.kv}}}),wh.className="PanningTool",S("clickCreatingTool",function(){return this.findTool("ClickCreating")},function(t){this.Ya("ClickCreating",t,this.mouseUpTools)}),S("clickSelectingTool",function(){return this.findTool("ClickSelecting")},function(t){this.Ya("ClickSelecting",t,this.mouseUpTools)}),S("panningTool",function(){return this.findTool("Panning")},function(t){this.Ya("Panning",t,this.mouseMoveTools)}),S("dragSelectingTool",function(){return this.findTool("DragSelecting")},function(t){this.Ya("DragSelecting",t,this.mouseMoveTools)}),S("actionTool",function(){return this.findTool("Action")},function(t){this.Ya("Action",t,this.mouseDownTools)}),W.Object.defineProperties(Zc.prototype,{mainElement:{get:function(){return this.I},set:function(t){this.I=t}},show:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},hide:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t)}},valueFunction:{get:function(){return this.T},set:function(t){this.T=t}}}),Zc.className="HTMLInfo",Jl.className="ContextMenuButtonInfo",K(nl,Rn),nl.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(this.isBeyondDragSize()||!t.lastInput.right||1<t.lastInput.clickCount||!(t.lastInput.isTouchEvent&&null!==this.defaultTouchContextMenu||null!==this.findObjectWithContextMenu()))},nl.prototype.doStart=function(){this.Cx.set(this.diagram.firstInput.documentPoint)},nl.prototype.doStop=function(){this.hideContextMenu(),this.currentObject=null},nl.prototype.findObjectWithContextMenu=function(t){void 0===t&&(t=null);var e=this.diagram,a=null;if(t instanceof ke||(a=t instanceof Ri?t:e.Vb(e.lastInput.documentPoint,null,function(u){return!u.layer.isTemporary})),null!==a){for(t=a;null!==t;){if(null!==t.contextMenu)return t;t=t.panel}if(e.lastInput.isTouchEvent&&this.defaultTouchContextMenu)return a.part}else if(null!==e.contextMenu)return e;return null},nl.prototype.doActivate=function(){},nl.prototype.doMouseDown=function(){if(Rn.prototype.doMouseDown.call(this),this.isActive&&this.currentContextMenu instanceof si){var t=this.diagram.toolManager.findTool("Action");null!==t&&t.canStart()&&(t.doActivate(),t.doMouseDown(),t.doDeactivate())}this.diagram.toolManager.mouseDownTools.contains(this)&&ub(this)},nl.prototype.doMouseUp=function(){if(this.isActive&&this.currentContextMenu instanceof si){var t=this.diagram.toolManager.findTool("Action");null!==t&&t.canStart()&&(t.doActivate(),t.doCancel(),t.doDeactivate())}ub(this)},nl.prototype.doMouseMove=function(){var t=this.diagram.toolManager.findTool("Action");null!==t&&t.doMouseMove(),this.isActive&&this.diagram.toolManager.doMouseMove()},nl.prototype.showContextMenu=function(t,e){var o=this.diagram;if(t!==this.currentContextMenu&&this.hideContextMenu(),t instanceof si){t.layerName="Tool",t.selectable=!1,t.scale=1/o.scale,t.category=this.name,null!==t.placeholder&&(t.placeholder.scale=o.scale);var a=t.diagram;null!==a&&a!==o&&a.remove(t),o.add(t),null!==e?t.adornedObject=e:t.data=o.model,t.Ta(),this.positionContextMenu(t,e)}else t instanceof Zc&&t.show(e,o,this);this.currentContextMenu=t},nl.prototype.positionContextMenu=function(t){if(null===t.placeholder){var e=this.diagram,o=e.lastInput.documentPoint.copy(),a=t.measuredBounds,u=e.viewportBounds;e.lastInput.isTouchEvent&&(o.x-=a.width),o.x+a.width>u.right&&(o.x-=a.width+5/e.scale),o.x<u.x&&(o.x=u.x),o.y+a.height>u.bottom&&(o.y-=a.height+5/e.scale),o.y<u.y&&(o.y=u.y),t.position=o}},nl.prototype.hideContextMenu=function(){var t=this.diagram,e=this.currentContextMenu;null!==e&&(e instanceof si?(t.remove(e),null!==this.Cu&&this.Cu.Hf(e.category),e.data=null,e.adornedObject=null):e instanceof Zc&&(null!==e.hide?e.hide(t,this):null!==e.mainElement&&(e.mainElement.style.display="none")),this.currentContextMenu=null,this.standardMouseOver())},nl.prototype.showDefaultContextMenu=function(){var t=this.diagram;null===this.Du&&(this.Du=function(t){var e=new Vt;return e.add(new Jl("Copy",function(o){o.commandHandler.copySelection()},function(o){return o.commandHandler.canCopySelection()})),e.add(new Jl("Cut",function(o){o.commandHandler.cutSelection()},function(o){return o.commandHandler.canCutSelection()})),e.add(new Jl("Delete",function(o){o.commandHandler.deleteSelection()},function(o){return o.commandHandler.canDeleteSelection()})),e.add(new Jl("Paste",function(o){o.commandHandler.pasteSelection(t.mouseDownPoint)},function(o){return o.commandHandler.canPasteSelection(t.mouseDownPoint)})),e.add(new Jl("Select All",function(o){o.commandHandler.selectAll()},function(o){return o.commandHandler.canSelectAll()})),e.add(new Jl("Undo",function(o){o.commandHandler.undo()},function(o){return o.commandHandler.canUndo()})),e.add(new Jl("Redo",function(o){o.commandHandler.redo()},function(o){return o.commandHandler.canRedo()})),e.add(new Jl("Scroll To Part",function(o){o.commandHandler.scrollToPart()},function(o){return o.commandHandler.canScrollToPart()})),e.add(new Jl("Zoom To Fit",function(o){o.commandHandler.zoomToFit()},function(o){return o.commandHandler.canZoomToFit()})),e.add(new Jl("Reset Zoom",function(o){o.commandHandler.resetZoom()},function(o){return o.commandHandler.canResetZoom()})),e.add(new Jl("Group Selection",function(o){o.commandHandler.groupSelection()},function(o){return o.commandHandler.canGroupSelection()})),e.add(new Jl("Ungroup Selection",function(o){o.commandHandler.ungroupSelection()},function(o){return o.commandHandler.canUngroupSelection()})),e.add(new Jl("Edit Text",function(o){o.commandHandler.editTextBlock()},function(o){return o.commandHandler.canEditTextBlock()})),e}(this)),tm.innerHTML="",Ng.addEventListener("click",this.wv,!1);var e=this,o=q("ul");o.className="goCXul",tm.appendChild(o),o.innerHTML="";for(var a=this.Du.iterator;a.next();){var u=a.value,c=u.visible;if("function"==typeof u.by&&("function"!=typeof c||c(t))){(c=q("li")).className="goCXli";var g=q("a");g.className="goCXa",g.href="#",g.dz=u.by,g.addEventListener("click",function(_){return this.dz(t),e.stopTool(),_.preventDefault(),!1},!1),g.textContent=u.text,c.appendChild(g),o.appendChild(c)}}tm.style.display="block",Ng.style.display="block"},nl.prototype.hideDefaultContextMenu=function(){if(null!==this.currentContextMenu&&this.currentContextMenu===zd){tm.style.display="none",Ng.style.display="none";var t=this.diagram;null!==t&&t.removeEventListener(Ng,"click",this.wv,!1),this.currentContextMenu=null}},W.Object.defineProperties(nl.prototype,{currentContextMenu:{get:function(){return this.l},set:function(t){this.l=t,this.Cu=t instanceof si?t.adornedPart:null}},defaultTouchContextMenu:{get:function(){return!1===Hf&&null===zd&&ol&&function(t){var e=new Zc;e.show=function(u,c,g){g.showDefaultContextMenu()},e.hide=function(u,c){c.hideDefaultContextMenu()},zd=e,t.wv=function(){t.stopTool()},e=q("div");var o=q("div");e.style.cssText="top: 0px;z-index:10002;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px",o.style.cssText="z-index:10001;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;opacity: 0.8;";var a=q("style");N.document.getElementsByTagName("head")[0].appendChild(a),a.sheet.insertRule(".goCXul { list-style: none; }",0),a.sheet.insertRule(".goCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0),a.sheet.insertRule(".goCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0),null!==(a=t.diagram)&&(a.addEventListener(e,"contextmenu",dx,!1),a.addEventListener(e,"selectstart",dx,!1),a.addEventListener(o,"contextmenu",dx,!1)),e.className="goCXforeground",o.className="goCXbackground",N.document.body&&(N.document.body.appendChild(e),N.document.body.appendChild(o)),tm=e,Ng=o,Hf=!0}(this),zd},set:function(t){null===t&&(Hf=!0),zd=t}},currentObject:{get:function(){return this.u},set:function(t){this.u=t}},mouseDownPoint:{get:function(){return this.Cx}}});var zd=null,Hf=!1,Ng=null,tm=null;function Ar(){Rn.call(this),this.name="TextEditing",this.zh=new $n,this.La=null,this.Ka=Bg,this.Wi=null,this.ia=qc,this.I=1,this.T=!0,this.u=null,this.l=new Zc,this.Hu=null,function(t,e){if(ol){var o=q("textarea");t.Hu=o,o.addEventListener("input",function(){if(null!==t.textBlock){var a=t.Jy(this.value);this.style.width=20+a.measuredBounds.width*this.eB+"px",this.rows=a.lineCount}},!1),o.addEventListener("keydown",function(a){if(null!==t.textBlock){var u=a.key;"Enter"===u?(!1===t.textBlock.isMultiline&&a.preventDefault(),t.acceptText(em)):"Tab"===u?(t.acceptText(Fg),a.preventDefault()):"Escape"===u&&(t.doCancel(),null!==t.diagram&&t.diagram.doFocus())}},!1),o.addEventListener("focus",function(){if(null!==t.currentTextEditor&&t.state!==qc){var a=t.Hu;t.ia===bh&&(t.ia=jl),"function"==typeof a.select&&t.selectsTextOnActivate&&(a.select(),a.setSelectionRange(0,9999))}},!1),o.addEventListener("blur",function(){if(null!==t.currentTextEditor&&t.state!==qc){var a=t.Hu;"function"==typeof a.focus&&a.focus(),"function"==typeof a.select&&t.selectsTextOnActivate&&(a.select(),a.setSelectionRange(0,9999))}},!1),e.valueFunction=function(){return o.value},e.mainElement=o,e.show=function(a,u,c){if(a instanceof $n&&c instanceof Ar)if(c.state===$p)o.style.border="3px solid red",o.focus();else{var g=a.da(Vi),_=u.position,A=u.scale,I=a.Af()*A;I<c.minimumEditorScale&&(I=c.minimumEditorScale);var B=a.naturalBounds.width*I+6,H=a.naturalBounds.height*I+2,dt=(g.x-_.x)*A;g=(g.y-_.y)*A,o.value=a.text,u.div.style.font=a.font,o.style.position="absolute",o.style.zIndex="100",o.style.font="inherit",o.style.fontSize=100*I+"%",o.style.lineHeight="normal",o.style.width=B+"px",o.style.left=(dt-B/2|0)-1+"px",o.style.top=(g-H/2|0)-1+"px",o.style.textAlign=a.textAlign,o.style.margin="0",o.style.padding="1px",o.style.border="0",o.style.outline="none",o.style.whiteSpace="pre-wrap",o.style.overflow="hidden",o.rows=a.lineCount,o.eB=I,o.className="goTXarea",u.div.appendChild(o),o.focus(),c.selectsTextOnActivate&&(o.select(),o.setSelectionRange(0,9999))}},e.hide=function(a){a.div.removeChild(o)}}}(this,this.l)}function Lg(t){var e=t.textBlock,o=t.diagram,a=t.currentTextEditor;if(null!==e&&null!==a){var u=e.text,c="";null!==a.valueFunction&&(c=a.valueFunction()),t.isValidText(e,u,c)?(t.xa(t.name),t.ia=Mo,t.transactionResult=t.name,e.text=c,t.doSuccess(u,c),null!==o&&o.R("TextEdited",e,u),t.Jg(),t.stopTool(),null!==o&&o.doFocus()):(t.ia=$p,t.doError(u,c))}}nl.className="ContextMenuTool",S("contextMenuTool",function(){return this.findTool("ContextMenu")},function(t){this.Ya("ContextMenu",t,this.mouseUpTools)}),K(Ar,Rn),Ar.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(null===t||t.isReadOnly||Ud&&Ud!==this&&(Ud.acceptText(Yp),Ud&&Ud!==this)||!t.lastInput.left||this.isBeyondDragSize())return!1;var e=t.Vb(t.lastInput.documentPoint);return!!(null!==e&&e instanceof $n&&e.editable&&e.part.canEdit())&&!(null===(e=e.part)||this.starting===Bg&&!e.isSelected||this.starting===Hd&&2>t.lastInput.clickCount)},Ar.prototype.doStart=function(){Ud=this,null!==this.textBlock&&this.doActivate()},Ar.prototype.doActivate=function(){if(!this.isActive){var t=this.diagram;if(null!==t){var e=this.textBlock;if(null===e&&(e=t.Vb(t.lastInput.documentPoint)),null!==e&&e instanceof $n&&(this.textBlock=e,null!==e.part)){this.isActive=!0,this.ia=bh;var o=this.defaultTextEditor;null!==e.textEditor&&(o=e.textEditor),this.zh=this.textBlock.copy();var a=new te(this.textBlock.da(ar),this.textBlock.da(Ha));t.Aw(a),o.show(e,t,this),this.currentTextEditor=o}}}},Ar.prototype.doCancel=function(){this.stopTool()},Ar.prototype.doMouseUp=function(){this.canStart()&&this.doActivate()},Ar.prototype.doMouseDown=function(){this.isActive&&this.acceptText(Yp)},Ar.prototype.acceptText=function(t){switch(t){case Yp:this.ia===Mo?this.currentTextEditor instanceof HTMLElement&&this.currentTextEditor.focus():(this.ia===bh||this.ia===$p||this.ia===jl)&&(this.ia=Vg,Lg(this));break;case Hr:case em:case Fg:(em!==t||!0!==this.textBlock.isMultiline)&&(this.ia===bh||this.ia===$p||this.ia===jl)&&(this.ia=Vg,Lg(this))}},Ar.prototype.doError=function(t,e){var o=this.textBlock;null!==o.errorFunction&&o.errorFunction(this,t,e),(t=this.currentTextEditor)&&t.show(o,this.diagram,this)},Ar.prototype.doSuccess=function(t,e){var o=this.textBlock;null!==o.textEdited&&o.textEdited(o,t,e)},Ar.prototype.doDeactivate=function(){var t=this.diagram;null!==t&&(this.ia=qc,this.textBlock=null,null!==this.currentTextEditor&&this.currentTextEditor.hide(t,this),this.isActive=!1)},Ar.prototype.doStop=function(){Ud=null},Ar.prototype.isValidText=function(t,e,o){var a=this.textValidation;return!(null!==a&&!a(t,e,o)||null!==(a=t.textValidation)&&!a(t,e,o))},Ar.prototype.Jy=function(t){var e=this.zh;return e.text=t,e.measure(this.textBlock.Ei,1/0),e},W.Object.defineProperties(Ar.prototype,{textBlock:{get:function(){return this.La},set:function(t){this.La=t}},currentTextEditor:{get:function(){return this.u},set:function(t){this.u=t}},defaultTextEditor:{get:function(){return this.l},set:function(t){this.l=t}},starting:{get:function(){return this.Ka},set:function(t){this.Ka=t}},textValidation:{get:function(){return this.Wi},set:function(t){this.Wi=t}},minimumEditorScale:{get:function(){return this.I},set:function(t){this.I=t}},selectsTextOnActivate:{get:function(){return this.T},set:function(t){this.T=t}},state:{get:function(){return this.ia},set:function(t){this.ia!==t&&(this.ia=t)}}}),Ar.prototype.measureTemporaryTextBlock=Ar.prototype.Jy;var Hr=new wt(Ar,"LostFocus",0),Yp=new wt(Ar,"MouseDown",1),Fg=new wt(Ar,"Tab",2),em=new wt(Ar,"Enter",3),_y=new wt(Ar,"SingleClick",0),Bg=new wt(Ar,"SingleClickSelected",1),Hd=new wt(Ar,"DoubleClick",2),qc=new wt(Ar,"StateNone",0),bh=new wt(Ar,"StateActive",1),jl=new wt(Ar,"StateEditing",2),Vg=new wt(Ar,"StateValidating",3),$p=new wt(Ar,"StateInvalid",4),Mo=new wt(Ar,"StateValidated",5),Ud=null;function Ns(){nm||(Gd(),nm=!0),this.B=s0,this.zl=this.ef=this.sc=this.ps=this.jc=!1,this.Qx=!0,this.Al=Kp,this.tn=!1,this.zi=this.md=!0,this.Yg=600,this.ox=this.Px=!1,this.Re=new Ht,this.Rd=new ks,this.Rd.Uc=this,this.yj=new Ht,this.tv=new Ht,this.ot=new Ht,this.$l=new Ht}function io(t,e){yr(t,e)&&(t.ef=!0)}function yr(t,e){return!(!t.md||!t.canStart(e))&&(t.Re.add(e),t.defaultAnimation.isAnimating&&t.Bc(),Gs(t.B),t.sc=!0)}function kn(t){if(t.md&&t.sc){var e=t.Rd,o=t.B,a=t.Re.contains("Model");a&&(t.zl=!0,t.Al===Kp?(e.isViewportUnconstrained=!0,e.lc.clear(),e.add(o,"position",o.position.copy().offset(0,-200),o.position),e.add(o,"opacity",0,1)):t.Al===Qc&&e.lc.clear(),t.Qx=!(t.Al!==My||!o.Ts.w(o.la)),o.R("InitialAnimationStarting",t)),a&&!t.zi||0===e.lc.count?(t.Re.clear(),t.sc=!1,t.ef=!1,e.lc.clear(),Gf(e,o),t.zl=!1,o.M()):(t.Re.clear(),o.Ee=!1,a=e.lc.get(o),o.autoScale!==Fs&&null!==a&&(delete a.start.scale,delete a.end.scale),N.requestAnimationFrame(function(){!1===t.sc||e.jc||(o.Ke("temporaryPixelRatio")&&Ho(o),rm(o),t.sc=!1,t.ef=!1,e.start(),im(t),o.Na(),px(e,0),jo(o,!0),tu(t),o.R("AnimationStarting",t))}))}}function jg(t,e,o,a){t.isTicking||e instanceof We&&(null!==e.fromNode||null!==e.toNode)||t.Rd.add(e,"position",o,a,!1)}function im(t){if(!t.ps){var e=t.B;t.Px=e.skipsUndoManager,t.ox=e.skipsModelSourceBindings,e.skipsUndoManager=!0,e.skipsModelSourceBindings=!0,t.ps=!0}}function tu(t){var e=t.B;e.skipsUndoManager=t.Px,e.skipsModelSourceBindings=t.ox,t.ps=!1}function ha(t,e,o){t.ef&&!e.w(o)&&(t.B.pj||(e=o.copy()),Mr(t.Rd,t.B,"position",e,o))}function zg(t,e){for(e=e.findLinksConnected();e.next();){var o=e.value;o.jf=o.points.copy(),t.$l.add(o)}}function Xp(t,e,o,a,u){null===t&&(t=[0,0,0,0]),null===e&&(e=[0,0,0,0]);var c=t[0],g=t[1],_=t[2];t=t[3];var A=e[0],I=e[1],B=e[2];return e=e[3],0===_||100===_?(c=A,g=I):(0===B||100===B)&&(A=c,I=g),180<Math.abs(A-c)&&(A>c?c+=360:A+=360),"hsla("+(c=u(o,c,A-c,a)%360)+", "+(g=u(o,g,I-g,a))+"%, "+(_=u(o,_,B-_,a))+"%, "+(o=u(o,t,e-t,a))+")"}function Gd(){function t(o,a,u,c,g,_){o.position=new at(c(g,a.x,u.x-a.x,_),c(g,a.y,u.y-a.y,_))}var e=new vt;e.add("position:diagram",t),e.add("position",t),e.add("position:part",function(o,a,u,c,g,_){g<_?o.er(c(g,a.x,u.x-a.x,_),c(g,a.y,u.y-a.y,_),!1):o.position=new at(c(g,a.x,u.x-a.x,_),c(g,a.y,u.y-a.y,_))}),e.add("location",function(o,a,u,c,g,_){g<_?o.er(c(g,a.x,u.x-a.x,_),c(g,a.y,u.y-a.y,_),!0):o.location=new at(c(g,a.x,u.x-a.x,_),c(g,a.y,u.y-a.y,_))}),e.add("position:placeholder",function(o,a,u,c,g,_){g<_?o.er(c(g,a.x,u.x-a.x,_),c(g,a.y,u.y-a.y,_),!1):o.position=new at(c(g,a.x,u.x-a.x,_),c(g,a.y,u.y-a.y,_))}),e.add("position:nodeCollapse",function(o,a,u,c,g,_){var A=o.actualBounds,I=u.actualBounds;u=I.x+I.width/2-A.width/2,A=I.y+I.height/2-A.height/2,g<_?o.er(c(g,a.x,u-a.x,_),c(g,a.y,A-a.y,_),!1):o.position=new at(c(g,a.x,u-a.x,_),c(g,a.y,A-a.y,_))}),e.add("desiredSize",function(o,a,u,c,g,_){o.desiredSize=new te(c(g,a.width,u.width-a.width,_),c(g,a.height,u.height-a.height,_))}),e.add("width",function(o,a,u,c,g,_){o.width=c(g,a,u-a,_)}),e.add("height",function(o,a,u,c,g,_){o.height=c(g,a,u-a,_)}),e.add("fill",function(o,a,u,c,g,_){o.fill=Xp(a,u,g,_,c)}),e.add("stroke",function(o,a,u,c,g,_){o.stroke=Xp(a,u,g,_,c)}),e.add("strokeWidth",function(o,a,u,c,g,_){o.strokeWidth=c(g,a,u-a,_)}),e.add("strokeDashOffset",function(o,a,u,c,g,_){o.strokeDashOffset=c(g,a,u-a,_)}),e.add("background",function(o,a,u,c,g,_){o.background=Xp(a,u,g,_,c)}),e.add("areaBackground",function(o,a,u,c,g,_){o.areaBackground=Xp(a,u,g,_,c)}),e.add("opacity",function(o,a,u,c,g,_){o.opacity=c(g,a,u-a,_)}),e.add("scale",function(o,a,u,c,g,_){o.scale=c(g,a,u-a,_)}),e.add("angle",function(o,a,u,c,g,_){o.angle=c(g,a,u-a,_)}),yl=e}Ar.className="TextEditingTool",Ar.LostFocus=Hr,Ar.MouseDown=Yp,Ar.Tab=Fg,Ar.Enter=em,Ar.SingleClick=_y,Ar.SingleClickSelected=Bg,Ar.DoubleClick=Hd,Ar.StateNone=qc,Ar.StateActive=bh,Ar.StateEditing=jl,Ar.StateValidating=Vg,Ar.StateInvalid=$p,Ar.StateValidated=Mo,S("textEditingTool",function(){return this.findTool("TextEditing")},function(t){this.Ya("TextEditing",t,this.mouseUpTools)}),Ns.prototype.ee=function(t){this.B=t},Ns.prototype.canStart=function(){return!0},(ot=Ns.prototype).cu=function(t){return this.Rd.cu(t)},ot.ew=function(t){return this.Rd.ew(t)},ot.Bc=function(t){var e=this.Rd;if(!0===this.sc&&(this.zl=this.ef=this.sc=!1,this.Re.clear(),0<e.lc.count&&this.B.Db()),this.jc){if(e.xm(!0),e.lc.clear(),Gf(e,null),!0===t)for(t=this.yj.ma(),e=0;e<t.length;e++)t[e].xm(!0)}else e.lc.clear(),Gf(e,this.B)},ot.xm=function(t){t===this.defaultAnimation&&this.defaultAnimation.lc.clear(),this.yj.remove(t),0===this.yj.count&&(this.jc=!1,this.B.Db()),t===this.defaultAnimation&&(this.defaultAnimation.lc.clear(),this.B.R("AnimationFinished",this))},ot.lk=function(t,e){this.ef&&(this.Re.contains("Expand Tree")||this.Re.contains("Expand SubGraph"))&&(this.Rd.lk(t,e),zg(this,t))},ot.jk=function(t,e){this.ef&&(this.Re.contains("Collapse Tree")||this.Re.contains("Collapse SubGraph"))&&(this.Rd.jk(t,e),Mr(this.Rd,e,"position",e.position,e.position),zg(this,t))},W.Object.defineProperties(Ns.prototype,{animationReasons:{get:function(){return this.Re}},isEnabled:{get:function(){return this.md},set:function(t){(this.md=t)&&this.yj.each(function(e){e.isAnimating||e.runCount!==1/0||e.start()})}},duration:{get:function(){return this.Yg},set:function(t){1>t&&et(t,">= 1",Ns,"duration"),this.Yg=t}},isAnimating:{get:function(){return this.jc}},isTicking:{get:function(){return this.ps}},isInitial:{get:function(){return this.zi},set:function(t){this.zi=t}},defaultAnimation:{get:function(){return this.Rd}},activeAnimations:{get:function(){return this.yj}},initialAnimationStyle:{get:function(){return this.Al},set:function(t){this.Al=t}}}),Ns.prototype.stopAnimation=Ns.prototype.Bc;var yl=null,nm=!1,Kp=new wt(Ns,"Default",1),My=new wt(Ns,"AnimateLocations",2),Qc=new wt(Ns,"None",3);function ks(){this.xv=this.Ox=this.Uc=this.B=null,this.Il=this.jc=this.l=!1,this.Zn=this.Dd=0,this.Ir=this.Ku=mx,this.Hl=this.Fp=!1,this.nv=1,this.mv=0,this.vd=this.Yg=NaN,this.tx=0,this.$n=null,this.u=ei,this.lc=new vt,this.iv=new vt,this.qm=new Ht,this.jv=new Ht,this.px=nu}function Gf(t,e){if(t.iv.clear(),t.Hl=!1,t.mv=0,t.vd=NaN,0<t.qm.count&&t.qm.clear(),0<t.jv.count&&t.jv.clear(),null!==e)for(t=e.links;t.next();)t.value.jf=null}function Mr(t,e,o,a,u,c){var g=t.lc;if(e instanceof ke&&"position"===o&&(o="position:diagram"),("fill"===o||"stroke"===o||"background"===o||"areaBackground"===o)&&(ru(a),wm(),a=[pa.l,pa.I,pa.u,pa.T],ru(u),wm(),u=[pa.l,pa.I,pa.u,pa.T]),g.contains(e)){var _=g.G(e),A=_.start,I=_.end;void 0===A[o]&&(A[o]=hs(a)),I[o]=hs(u)}else I={},(A={})[o]=hs(a),I[o]=hs(u),_=A.position,e instanceof Ri&&_ instanceof at&&!_.o()&&e.diagram.animationManager.Re.contains("Expand SubGraph")&&_.assign(I.position),_=new Jc(A,I,c),g.add(e,_);(g=A[o])instanceof at&&!g.o()&&g.assign(t.u),c&&0===o.indexOf("position:")&&e instanceof Bt?_.Qv.location=hs(e.location):c&&(_.Qv[o]=hs(a))}function hs(t){return t instanceof at||t instanceof He?t.copy():t}function cs(t,e){if(!t.Il||e){var o=t.Uc;if(!1!==t.jc){var a=+new Date,u=a>t.Zn?t.vd:a-t.Dd;e&&((u=t.tx)<t.vd?(t.Dd=+new Date-u,t.Zn=t.Dd+t.vd):u=t.vd),im(o),px(t,u),jo(t.B,!0),tu(o),a>t.Zn&&(t.Fp&&!t.Hl?(t.Dd=+new Date,t.Zn=t.Dd+t.vd,t.Hl=!0):t.xm(!1))}}}function px(t,e){for(var o=t.vd,a=t.lc.iterator,u=t.Hl;a.next();){var c=a.key;if(!(c instanceof Ri&&null===c.diagram)){var g=a.value,_=u?g.end:g.start;g=u?g.start:g.end;var I,A=yl;for(I in g)"position"===I&&(g["position:placeholder"]||g["position:nodeCollapse"])||null===A.get(I)||A.get(I)(c,_[I],g[I],t.Ir,e,o,t)}}}function mx(t,e,o,a){return 1>(t/=a/2)?o/2*t*t+e:-o/2*(--t*(t-2)-1)+e}function Cy(t,e,o,a){return t===a?e+o:o*(1-Math.pow(2,-10*t/a))+e}function Jc(t,e,o){this.start=t,this.end=e,this.Qv={},this.Kv=o,this.sw=!1}function ka(t,e,o){this.pd=null,this.gf=t,this.cq=o||Rr,this.bl=null,void 0!==e&&(this.bl=e,void 0===o&&(this.cq=Qo))}Ns.className="AnimationManager",Ns.defineAnimationEffect=function(t,e){nm||(Gd(),nm=!0),yl.add(t,e)},Ns.Default=Kp,Ns.AnimateLocations=My,Ns.None=Qc,ks.prototype.suspend=function(){this.Il=!0},ks.prototype.advanceTo=function(t,e){e&&(this.Il=!1),this.Fp&&t>=this.vd&&(this.Hl=!0,t-=this.vd),this.tx=t,cs(this,!0),im(this.Uc),jo(this.B),tu(this.Uc),this.B.redraw()},(ot=ks.prototype).start=function(){if(0!==this.lc.count&&!this.jc){for(var t=this.B,e=this.lc.iterator;e.next();){var o=e.value.end,a=e.key;if(o["position:placeholder"]){var u=a.findVisibleNode();if(u instanceof ai&&null!==u.placeholder){var c=u.placeholder;(u=c.da(ar)).x+=(c=c.padding).left,u.y+=c.top,o["position:placeholder"]=u}}null===t&&(a instanceof ke?t=a:a instanceof Ri&&(t=a.diagram))}null!==t&&(this.B=t,!1!==(e=this.Uc=t.animationManager).isEnabled&&(this.vd=isNaN(this.Yg)?e.duration:this.Yg,this.Ir=this.Ku,e.zl&&e.Al===Kp&&this===e.defaultAnimation&&(this.Ir=Cy,this.vd=isNaN(this.Yg)?600===e.duration?900:e.duration:this.Yg),this.px=t.scrollMode,this.isViewportUnconstrained&&(t.Ti=qf),im(e),this.qm.each(function(g){g.data=null,t.add(g)}),tu(e),this.jc=!0,this.Dd=+new Date,this.Zn=this.Dd+this.vd,function(t,e){function o(){if(0<u.ot.count&&(a.addAll(u.ot),u.ot.clear(),u.jc=!0),!1!==u.jc&&0!==a.count){u.tv.addAll(a);for(var c=u.tv.iterator;c.next();){var g=c.value;if(!1!==g.jc){t:if(0<g.qm.count)var _=!0;else{for(_=g.lc.iterator;_.next();){var A=_.key;if(A instanceof Ri&&null!==A.diagram||A instanceof ke){_=!0;break t}}_=!1}_?cs(g,!1):g.Il=!0}}u.tv.clear(),im(u),jo(u.B),tu(u),N.requestAnimationFrame(o)}}var a=t.yj,u=t;t.jc?t.ot.add(e):(t.jc=!0,a.add(e),N.requestAnimationFrame(function(){o()}))}(e,this)))}},ot.sz=function(t,e){t.Nc()&&(this.qm.add(t),this.B=e)},ot.add=function(t,e,o,a,u){if("position"!==e||!o.w(a)){if(null===this.B&&(t instanceof ke?this.B=t:t instanceof Ri&&null!==t.diagram&&(this.B=t.diagram)),t instanceof Bt){if(!t.isAnimated)return;"position"===e&&(e="position:part")}Mr(this,t,e,o,a,u)}},ot.cu=function(t){return!!this.jc&&null!==(t=this.lc.G(t))&&t.sw},ot.ew=function(t){return!!this.jc&&null!==(t=this.lc.G(t))&&(t.start.position||t.start.location)},ot.stop=function(){this.jc&&this.xm(!0)},ot.xm=function(t){if(null!==this.xv&&this.xv.Mp.remove(this.Ox),this.jc){var e=this.B,o=this.Uc;this.Il=this.jc=o.zl=!1,im(o);for(var a=this.lc,u=this.qm.iterator;u.next();)e.remove(u.value);for(u=this.jv.iterator;u.next();)u.value.s();u=this.Fp,a=a.iterator;for(var c=yl;a.next();){var H,g=a.key,_=a.value,A=u?_.end:_.start,I=u?_.start:_.end,B=_.Qv;for(H in I)if(null!==c.get(H)){var dt=H;!_.Kv||"position:nodeCollapse"!==dt&&"position:placeholder"!==dt||(dt="position"),c.get(dt)(g,A[H],void 0!==B[H]?B[H]:_.Kv?A[H]:I[H],this.Ir,this.vd,this.vd,this)}_.Kv&&void 0!==B.location&&g instanceof Bt&&(g.location=B.location),_.sw&&g instanceof Bt&&g.Ob(!1)}if(e.Yt.clear(),Mu(e,!1),e.Na(),e.M(),jo(e,!0),o.defaultAnimation===this){for(H=o.$l.iterator;H.next();)null!==(u=H.value).jf&&(u.points=u.jf,u.jf=null);o.$l.clear()}this.isViewportUnconstrained&&(e.scrollMode=this.px),tu(o),this.mv++,!t&&this.nv>this.mv?(this.Hl=!1,this.start()):(this.$n&&this.$n(this),Gf(this,null),o.xm(this),e.Db())}},ot.lk=function(t,e){var o=e.actualBounds,a=null;if(e instanceof ai&&(a=e.placeholder),null!==a?((o=a.da(ar)).x+=(a=a.padding).left,o.y+=a.top,this.add(t,"position",o,t.position,!1)):this.add(t,"position",new at(o.x+o.width/2,o.y+o.height/2),t.position,!1),this.add(t,"scale",.01,t.scale,!1),t instanceof ai)for(t=t.memberParts;t.next();)(a=t.value)instanceof Ne&&this.lk(a,e)},ot.jk=function(t,e){if(t.isVisible()){var o=null;if(e instanceof ai&&(o=e.placeholder),null!==o?this.add(t,"position:placeholder",t.position,o,!0):this.add(t,"position:nodeCollapse",t.position,e,!0),this.add(t,"scale",t.scale,.01,!0),(o=this.lc).contains(t)&&(o.G(t).sw=!0),t instanceof ai)for(t=t.memberParts;t.next();)(o=t.value)instanceof Ne&&this.jk(o,e)}},ot.pA=function(t){var e=this.iv.get(t);return null===e&&this.iv.add(t,e={}),e},W.Object.defineProperties(ks.prototype,{duration:{get:function(){return this.Yg},set:function(t){1>t&&et(t,">= 1",ks,"duration"),this.Yg=t}},reversible:{get:function(){return this.Fp},set:function(t){this.Fp=t}},runCount:{get:function(){return this.nv},set:function(t){0<t?this.nv=t:V("Animation.runCount value must be a positive integer.")}},finished:{get:function(){return this.$n},set:function(t){this.$n!==t&&(this.$n=t)}},easing:{get:function(){return this.Ku},set:function(t){this.Ku=t}},isViewportUnconstrained:{get:function(){return this.l},set:function(t){this.l=t}},isAnimating:{get:function(){return this.jc}}}),ks.prototype.getTemporaryState=ks.prototype.pA,ks.prototype.stop=ks.prototype.stop,ks.prototype.add=ks.prototype.add,ks.prototype.addTemporaryPart=ks.prototype.sz,ks.className="Animation",ks.EaseLinear=function(t,e,o,a){return o*t/a+e},ks.EaseInOutQuad=mx,ks.EaseInQuad=function(t,e,o,a){return o*(t/=a)*t+e},ks.EaseOutQuad=function(t,e,o,a){return-o*(t/=a)*(t-2)+e},ks.EaseInExpo=function(t,e,o,a){return 0===t?e:o*Math.pow(2,10*(t/a-1))+e},ks.EaseOutExpo=Cy,Jc.className="AnimationState",ka.prototype.copy=function(){var t=new ka(this.gf);t.cq=this.cq;var e=this.bl;if(null!==e){var o={};void 0!==e.duration&&(o.ny=e.duration),void 0!==e.finished&&(o.ny=e.finished),void 0!==e.easing&&(o.ny=e.easing),t.bl=o}return t},W.Object.defineProperties(ka.prototype,{propertyName:{get:function(){return this.gf},set:function(t){this.gf=t}},animationSettings:{get:function(){return this.bl},set:function(t){this.bl=t}},startCondition:{get:function(){return this.cq},set:function(t){this.cq=t}}});var Rr=new wt(ka,"Default",1),Qo=new wt(ka,"Immediate",2),Us=new wt(ka,"Bundled",3);function xs(){ge(this),this.B=null,this.Fa=new Vt,this.oa="",this.hb=1,this.u=!1,this.l=this.Pi=this.I=this.ii=this.hi=this.gi=this.fi=this.di=this.ei=this.ci=this.ki=this.bi=this.ji=this.ai=this.$h=!0,this.rp=[]}function _h(t,e){var o=1;return 1!==t.hb&&(e.globalAlpha=(o=e.globalAlpha)*t.hb),o}function _u(t,e,o){if(e=function(t,e,o){var a=o.zOrder;if(isNaN(a))return e;var u=(t=t.Fa).count;if(1>=u)return e;if(0>e&&(e=t.indexOf(o)),0>e)return-1;for(var c=e-1,g=NaN;0<=c&&(g=t.J(c).zOrder,isNaN(g));)c--;for(var _=e+1,A=NaN;_<u&&(A=t.J(_).zOrder,isNaN(A));)_++;if(!isNaN(g)&&g>a)for(;;){if(-1===c||g<=a){if(++c===e)break;return t.cb(e),t.wb(c,o),c}for(g=NaN;0<=--c&&(g=t.J(c).zOrder,isNaN(g)););}else if(!isNaN(A)&&A<a)for(;;){if(_===u||A>=a){if(--_===e)break;return t.cb(e),t.wb(_,o),_}for(A=NaN;++_<u&&(A=t.J(_).zOrder,isNaN(A)););}return e}(t,e,o),o instanceof ai&&null!==o&&isNaN(o.zOrder)){if(0!==o.memberParts.count){for(var a=-1,u=t.Fa.j,c=u.length,g=0;g<c;g++){var _=u[g];if(_===o&&(e=g,0<=a)||0>a&&_.containingGroup===o&&(a=g,0<=e))break}!(0>a)&&a<e&&((u=t.Fa).cb(e),u.wb(a,o))}null!==(o=o.containingGroup)&&_u(t,-1,o)}}function ke(t){if(1<arguments.length&&V("Diagram constructor can only take one optional argument, the DIV HTML element or its id."),mb||(xx(),mb=!0),ge(this),s0=this,this.Sb=!0,this.Uc=new Ns,this.Uc.ee(this),this.rb=17,this.Gl=this.pv=!1,this.Ss="default",this.Da=null,ol){var e=this,o=function(){e.removeEventListener(N.document,"DOMContentLoaded",o,!1),e.setRTL()};null!==N.document.body?this.setRTL():e.addEventListener(N.document,"DOMContentLoaded",o,!1)}this.Ma=new Vt,this.ua=this.va=0,this.Zl=this.ya=null,this.Kx=new vt,this.hf=this.Gb=null,this.xw(),this.Nj=null,this.ww(),this.hb=1,this.la=new at(NaN,NaN).freeze(),this.Ts=new at(NaN,NaN),this.Qn=this.Aa=1,this.es=new at(NaN,NaN).freeze(),this.fs=NaN,this.xs=1e-4,this.vs=100,this.sb=new cn,this.xt=new at(NaN,NaN).freeze(),this.Zr=new te(NaN,NaN,NaN,NaN).freeze(),this.Si=new nn(0,0,0,0).freeze(),this.Ti=nu,this.at=!1,this.Us=this.Ns=null,this.Og=Fs,this.Dj=Os,this.Yf=Fs,this.to=Os,this.gs=this.ds=ar,this.Dc=!0,this.El=!1,this.wd=new Ht,this.Vg=new vt,this.rl=!0,this.qn=250,this.Bj=-1,this.sn=new nn(16,16,16,16).freeze(),this.Hj=this.Ee=!1,this.Kj=!0,this.Wf=new Cs,this.Wf.diagram=this,this.od=new Cs,this.od.diagram=this,this.hh=new Cs,this.hh.diagram=this,this.we=this.Of=null,this.hk=!1,this.Pr=this.Qr=null,this.zj=N.PointerEvent&&(d||k||nt)&&N.navigator&&!1!==N.navigator.msPointerEnabled,hm(this),this.Dh=new Ht,this.qs=!0,this.rt=uo,this.Uu=!1,this.tt=a0,this.La=null,dm.add("Model",zn),this.Jr=this.Mr=this.pt=null,this.Pn=this.Hr="auto",this.gg=this.As=this.ig=this.jg=this.lg=this.Qf=this.Uf=this.Pf=null,this.cs=!1,this.Rf=this.wg=this.kg=this.hg=null,this.Bs=!1,this.Ls={},this.bk=[null,null],this.Br=null,this.Nr=this.gt=this.rv=this.vg=!1,this.av=!0,this.yi=this.ac=!1,this.cc=null;var a=this;this.Cc=function(u){var c=a.partManager;if(u.model===c.diagram.model&&c.diagram.Z){c.diagram.Z=!1;try{""===u.modelChange&&u.change===_r&&c.updateDataBindings(u.object,u.propertyName)}finally{c.diagram.Z=!0}}},this.Tc=function(u){a.partManager.doModelChanged(u)},this.zv=!0,this.Xd=-2,this.pg=new vt,this.Wl=new Vt,this.$f=!1,this.ai=this.$h=this.nr=this.md=!0,this.pr=!1,this.vr=this.tr=this.ii=this.hi=this.gi=this.fi=this.di=this.ei=this.ci=this.sr=this.ki=this.bi=this.ji=this.qr=!0,this.Zf=this.Xu=!1,this.ur=this.rr=this.wl=this.vl=!0,this.$s=this.Ws=16,this.Vs=this.Op=!1,this.Pp=this.Ys=null,this.Xs=this.Zs=0,this.ib=new nn(5).freeze(),this.qv=(new Ht).freeze(),this.ws=999999999,this.Su=(new Ht).freeze(),this.xi=this.wi=this.vi=!0,this.Ye=this.pe=!1,this.kc=null,this.Ng=!0,this.qe=!1,this.Ax=new Ht,this.Tu=new Ht,this.Gc=null,this.Vl=1,this.sv=0,this.Ic={scale:1,position:new at,bounds:new te,Gv:new He,kw:new He,hw:!1},this.Rx=new te(NaN,NaN,NaN,NaN).freeze(),this.sm=new He(NaN,NaN).freeze(),this.Rn=new te(NaN,NaN,NaN,NaN).freeze(),this.rs=!1,this.Lo=this.qo=this.kp=this.Fu=this.Eu=this.Gu=this.bg=this.fh=this.df=this.Tr=null,Yd(this),this.Ib=null,this.po=!1,this.Ej=null,this.partManager=new zn,this.toolManager=new zr,this.toolManager.initializeStandardTools(),this.currentTool=this.defaultTool=this.toolManager,this.Sr=null,this.kl=new h0,this.Gs=this.Fs=null,this.fq=!1,this.commandHandler=Zp(),this.model=Xx(),this.vg=!0,Wf(this),this.layout=new Ln,this.vg=!1,this.ux=this.Ju=null,this.Tb=1,this.yh=null,this.Xo=1,this.cp=0,this.hv=[0,0,0,0,0],this.ep=0,this.xd=1,this.Sj=0,this.Go=new at,this.qt=500,this.rn=new at,this.re=!1,this.Qk=this.Rk=this.Pk=this.Ok=this.Jk=this.Lk=this.Kk=this.Hk=this.Ik=this.Ww=this.Mw=this.Nw=this.Ow=null,this.Yq=function(){},this.preventDefault=null,this.wo=!1,this.ui=new un,this.gq=!1,void 0!==t&&ym(this,t),this.ao=null,this.bo=En,this.Sb=!1}function fb(t,e){t.animationManager.Bc(!0),t.qv=(new Ht).freeze(),t.Su=(new Ht).freeze();var o=t.skipsUndoManager;null!==t.model&&(t.skipsUndoManager=!0);var a=null;null!==t.Ib&&null!==(a=t.Ib.part)&&t.remove(a);var u=[],c=t.Ma.length;if(e){for(e=0;e<c;e++)for(var g=t.Ma.j[e].parts;g.next();){var _=g.value;_!==a&&null===_.data&&u.push(_)}for(e=0;e<u.length;e++)t.remove(u[e])}for(e=0;e<c;e++)t.Ma.j[e].clear();return t.partManager.clear(),t.wd.clear(),t.Vg.clear(),t.Dh.clear(),t.Ej=null,t.Wl.clear(),Ju(),t.pg.clear(),xt=[],null!==a&&(t.add(a),t.partManager.parts.remove(a)),null!==t.model&&(t.skipsUndoManager=o),u}function Zp(){return null}function Yd(t){t.df=new vt;var e=new Ne,o=new $n;o.bind(new yo("text","",v)),e.add(o),t.Gu=e,t.df.add("",e),e=new Ne,(o=new $n).stroke="brown",o.bind(new yo("text","",v)),e.add(o),t.df.add("Comment",e),(e=new Ne).selectable=!1,e.avoidable=!1,(o=new Yi).figure="Ellipse",o.fill="black",o.stroke=null,o.desiredSize=new He(3,3).ca(),e.add(o),t.df.add("LinkLabel",e),t.fh=new vt,(e=new ai).selectionObjectName="GROUPPANEL",e.type=Ke.Vertical,(o=new $n).font="bold 12pt sans-serif",o.bind(new yo("text","",v)),e.add(o),(o=new Ke(Ke.Auto)).name="GROUPPANEL";var a=new Yi;a.figure="Rectangle",a.fill="rgba(128,128,128,0.2)",a.stroke="black",o.add(a),(a=new Ni).padding=new nn(5,5,5,5).ca(),o.add(a),e.add(o),t.Eu=e,t.fh.add("",e),t.bg=new vt,e=new We,(o=new Yi).isPanelMain=!0,e.add(o),(o=new Yi).toArrow="Standard",o.fill="black",o.stroke=null,o.strokeWidth=0,e.add(o),t.Fu=e,t.bg.add("",e),e=new We,(o=new Yi).isPanelMain=!0,o.stroke="brown",e.add(o),t.bg.add("Comment",e),(e=new si).type=Ke.Auto,(o=new Yi).fill=null,o.stroke="dodgerblue",o.strokeWidth=3,e.add(o),(o=new Ni).margin=new nn(1.5,1.5,1.5,1.5).ca(),e.add(o),t.kp=e,t.qo=e,(e=new si).type=Ke.Link,(o=new Yi).isPanelMain=!0,o.fill=null,o.stroke="dodgerblue",o.strokeWidth=3,e.add(o),t.Lo=e}function Ho(t){30<t.cp&&(t.yh=1)}function Mu(t,e){null!==t.yh&&(t.yh=null,e&&t.Yq(),_t&&_t.my||(t.cp=0,t.hv=[0,0,0,0,0],t.ep=0))}function rm(t){if(null!==t.ya){var e=t.Da;if(0!==e.clientWidth&&0!==e.clientHeight){t.pv||t.setScrollWidth();var o=t.Ye?t.rb:0,a=t.pe?t.rb:0,u=t.Tb;t.Tb=t.computePixelRatio(),t.Tb!==u&&(t.El=!0,t.Db()),(e.clientWidth!==t.va+o||e.clientHeight!==t.ua+a)&&(t.wi=!0,t.Dc=!0,null!==(e=t.layout)&&e.isViewportSized&&t.autoScale===Fs&&(t.Hj=!0,e.C()),t.ac||t.Db())}}}function Wf(t){var e=new xs;e.name="Background",t.um(e),(e=new xs).name="",t.um(e),(e=new xs).name="Foreground",t.um(e),(e=new xs).name="Adornment",e.isTemporary=!0,e.isInDocumentBounds=!1,t.um(e),(e=new xs).name="Tool",e.isTemporary=!0,e.isInDocumentBounds=!0,t.um(e),(e=new xs).name="Grid",e.allowSelect=!1,e.pickable=!1,e.isTemporary=!0,e.isInDocumentBounds=!1,t.Ux(e,t.xk("Background"))}function ec(t){t.Ib=new Ke(Ke.Grid),t.Ib.name="GRID";var e=new Yi;e.figure="LineH",e.stroke="lightgray",e.strokeWidth=.5,e.interval=1,t.Ib.add(e),(e=new Yi).figure="LineH",e.stroke="gray",e.strokeWidth=.5,e.interval=5,t.Ib.add(e),(e=new Yi).figure="LineH",e.stroke="gray",e.strokeWidth=1,e.interval=10,t.Ib.add(e),(e=new Yi).figure="LineV",e.stroke="lightgray",e.strokeWidth=.5,e.interval=1,t.Ib.add(e),(e=new Yi).figure="LineV",e.stroke="gray",e.strokeWidth=.5,e.interval=5,t.Ib.add(e),(e=new Yi).figure="LineV",e.stroke="gray",e.strokeWidth=1,e.interval=10,t.Ib.add(e),(e=new Bt).add(t.Ib),e.layerName="Grid",e.zOrder=0,e.isInDocumentBounds=!1,e.isAnimated=!1,e.pickable=!1,e.locationObjectName="GRID",t.add(e),t.partManager.parts.remove(e),t.Ib.visible=!1}function qp(){this.B.Vs?this.B.Vs=!1:this.B.isEnabled?this.B.iy(this):Wg(this.B)}function ic(t){this.B.isEnabled?(this.B.Zs=t.target.scrollTop,this.B.Xs=t.target.scrollLeft):Wg(this.B)}function Cu(t){if(t.fixedBounds.o()){var e=t.fixedBounds.copy();return e.uq(t.ib),e}for(var o=!0,a=t.Ma.j,u=a.length,c=0;c<u;c++){var g=a[c];if(g.visible&&g.isInDocumentBounds)for(var _=(g=g.Fa.j).length,A=0;A<_;A++){var I=g[A];I.isInDocumentBounds&&I.isVisible()&&(I=I.actualBounds).o()&&(o?(o=!1,e=I.copy()):e.Rc(I))}}return o&&(e=new te(0,0,0,0)),e.uq(t.ib),e}function As(t,e){if((e||t.qe)&&!t.Sb&&null!==t.ya&&t.documentBounds.o()){if(e){var o=t.initialPosition;if(o.o())return void(t.position=o);(o=at.alloc()).tj(t.documentBounds,t.initialDocumentSpot);var a=t.viewportBounds;a=te.allocAt(0,0,a.width,a.height);var u=at.alloc();u.tj(a,t.initialViewportSpot),u.h(o.x-u.x,o.y-u.y),t.position=u,te.free(a),at.free(u),at.free(o)}t.Sb=!0,o=t.Og,e&&t.Yf!==Fs&&(o=t.Yf),a=o!==Fs?eu(t,o):t.scale,o=t.viewportBounds.copy(),u=t.va/a;var c=t.ua/a,g=t.Dj,_=t.to;e&&!g.kb()&&(_.kb()||_.Mb())&&(g=_.Mb()?Vi:_),ef(t,t.documentBounds,u,c,g,e),e=t.scale,t.scale=a,t.Sb=!1,(a=t.viewportBounds).Qa(o)||t.onViewportBoundsChanged(o,a,e,!1),Yu(t),Su(t,!0,!1)}}function eu(t,e){var o=t.Qn;if(null===t.ya)return o;t.Ta();var a=t.documentBounds;if(!a.o())return o;var u=a.width,c=t.va+(t.Ye?t.rb:0),g=t.ua+(t.pe?t.rb:0),_=c/u,A=g/(a=a.height);return e===Sh?((e=Math.min(A,_))>o&&(e=o),e<t.minScale&&(e=t.minScale),e>t.maxScale&&(e=t.maxScale),e):e===pm?((e=A>_?(g-t.rb)/a:(c-t.rb)/u)>o&&(e=o),e<t.minScale&&(e=t.minScale),e>t.maxScale&&(e=t.maxScale),e):t.scale}function ef(t,e,o,a,u,c){var g=at.allocAt(t.la.x,t.la.y),_=g.x,A=g.y;if(null!==t.ao){var I=at.alloc();_=(I=t.ao.da(ar,I)).x-t.bo.x/t.scale,A=I.y-t.bo.y/t.scale,u=hn,at.free(I)}(c||t.scrollMode===nu)&&(u.kb()&&(o>e.width&&(_=e.x+(u.x*e.width+u.offsetX)-(u.x*o-u.offsetX)),a>e.height&&(A=e.y+(u.y*e.height+u.offsetY)-(u.y*a-u.offsetY))),c=o-e.width,o<e.width+(u=t.Si).left+u.right?(_=Math.min(_+o/2,e.right+Math.max(c,u.right)-o/2),_=Math.max(_,e.left-Math.max(c,u.left)+o/2),_-=o/2):_>e.left?_=e.left:_<e.right-o&&(_=e.right-o),o=a-e.height,a<e.height+u.top+u.bottom?(A=Math.min(A+a/2,e.bottom+Math.max(o,u.bottom)-a/2),A=Math.max(A,e.top-Math.max(o,u.top)+a/2),A-=a/2):A>e.top?A=e.top:A<e.bottom-a&&(A=e.bottom-a)),g.x=isFinite(_)?_:-t.ib.left,g.y=isFinite(A)?A:-t.ib.top,null!==t.positionComputation&&(e=t.positionComputation(t,g),g.x=e.x,g.y=e.y),t.Uc.sc&&ha(t.Uc,t.la,g),t.la.h(g.x,g.y),at.free(g)}function $d(t,e,o,a){for(void 0===o&&(o=null),void 0===a&&(a=null),Gs(t),t=t.Ma.iteratorBackwards;t.next();){var u=t.value;if(u.visible&&!u.isTemporary&&null!==(u=u.Vb(e,o,a)))return u}return null}function iu(t,e,o){var a=t.od;return t.od=t.hh,t.hh=a,a.diagram=t,a.event=e,o?Mh(t,e,a):(a.viewPoint=t.od.viewPoint,a.documentPoint=t.od.documentPoint),t=0,e.ctrlKey&&(t+=1),e.altKey&&(t+=2),e.shiftKey&&(t+=4),e.metaKey&&(t+=8),a.modifiers=t,a.button=e.button,void 0===e.buttons||C||(a.buttons=e.buttons),Q&&0===e.button&&e.ctrlKey&&(a.button=2),a.down=!1,a.up=!1,a.clickCount=1,a.delta=0,a.handled=!1,a.bubbles=!1,a.timestamp=e.timeStamp,a.isMultiTouch=!1,a.targetDiagram=Yf(e),a.targetObject=null,a}function Yf(t){var e=t.target.B;if(!e){var o=t.path;o||"function"!=typeof t.composedPath||(o=t.composedPath()),o&&o[0]&&(e=o[0].B)}return e||null}function Xd(t,e,o,a){var u=Qp(t,e,!0,!1,!0,a);return Mh(t,o,u),u.targetDiagram=Yf(e),u.targetObject=null,a||u.clone(t.Wf),u}function Hg(t,e,o,a){if(a=Qp(t,e,!1,!1,!1,a),null!==o){var u=N.document.elementFromPoint(o.clientX,o.clientY);null!==u&&null!=u.shadowRoot&&(u=u.shadowRoot.elementFromPoint(o.clientX,o.clientY)),u&&u.B?(e=o,o=u.B):(e=void 0!==e.targetTouches?e.targetTouches[0]:e,o=t),a.targetDiagram=o,Mh(t,e,a)}else null!==t.od?(a.documentPoint=t.od.documentPoint,a.viewPoint=t.od.viewPoint,a.targetDiagram=t.od.targetDiagram):null!==t.Wf&&(a.documentPoint=t.Wf.documentPoint,a.viewPoint=t.Wf.viewPoint,a.targetDiagram=t.Wf.targetDiagram);return a.targetObject=null,a}function Qp(t,e,o,a,u,c){var g=t.od;t.od=t.hh,t.hh=g,g.diagram=t,g.clickCount=1;var _=g.delta=0;return e.ctrlKey&&(_+=1),e.altKey&&(_+=2),e.shiftKey&&(_+=4),e.metaKey&&(_+=8),g.modifiers=_,g.button=0,g.buttons=1,g.event=e,g.timestamp=e.timeStamp,t.zj&&e instanceof N.PointerEvent&&"touch"!==e.pointerType&&(g.button=e.button,void 0===e.buttons||C||(g.buttons=e.buttons),Q&&0===e.button&&e.ctrlKey&&(g.button=2)),g.down=o,g.up=a,g.handled=!1,g.bubbles=u,g.isMultiTouch=c,g}function rl(t,e){return!!t.bubbles||(void 0!==e.stopPropagation&&e.stopPropagation(),!1!==e.cancelable&&e.preventDefault(),e.cancelBubble=!0,!1)}function Mh(t,e,o){var a=t.ya,u=t.va,c=t.ua,g=0,_=0;null!==a&&(a=a.getBoundingClientRect(),g=e.clientX-u/a.width*a.left,_=e.clientY-c/a.height*a.top),o.viewPoint.h(g,_),null!==t.sb?(e=at.allocAt(g,_),t.sb.Jd(e),o.documentPoint.assign(e),at.free(e)):o.documentPoint.h(g,_)}function Jp(t,e,o,a){if(void 0!==e.targetTouches){if(2>e.targetTouches.length)return;e=e.targetTouches[o]}else{if(null===t.bk[0])return;e=t.bk[o]}null!==(o=t.ya)&&(o=o.getBoundingClientRect(),a.h(e.clientX-t.va/o.width*o.left,e.clientY-t.ua/o.height*o.top))}function Su(t,e,o){t.animationManager.defaultAnimation.isAnimating||t.Sb||!t.wi||Wg(t)||(e&&Gs(t),o&&As(t,!1))}function jo(t,e){if(!t.ac&&(t.Ee=!1,null!==t.Da||t.sm.o())){t.ac=!0;var o=t.animationManager,a=t.Wl;if(!o.isAnimating&&0!==a.length){for(var u=a.j,c=u.length,g=0;g<c;g++){var _=u[g];Aa(_,!1),_.s()}a.clear()}0<(a=t.Tu).count&&(a.each(function(A){A.Vw()}),a.clear()),u=a=!1,o.defaultAnimation.isAnimating&&(u=!0,a=t.skipsUndoManager,t.skipsUndoManager=!0),o.sc||rm(t),Su(t,!1,!0),null!==t.Ib&&(t.Ib.visible&&!t.po&&(rc(t),t.po=!0),!t.Ib.visible&&t.po&&(t.po=!1)),Gs(t),c=!1,(!t.qe||t.Ng)&&(t.qe?sf(t,!t.Hj):(t.xa("Initial Layout"),!1===o.isEnabled&&o.Bc(),sf(t,!1)),c=!0),t.Hj=!1,Gs(t),t.gt||function(t){t.ac||Gs(t),t.Ta()}(t),Su(t,!0,!1),g=!1,c?((o=te.alloc()).assign(t.viewportBounds),t.qe||(g=t.qe=!0,t.skipsUndoManager||(t.undoManager.isPendingClear=!0),t.undoManager.isPendingUnmodified=!0,function(t){var e=t.Aa;if(t.Yf!==Fs)t.scale=eu(t,t.Yf);else if(t.Og!==Fs)t.scale=eu(t,t.Og);else{var o=t.initialScale;isFinite(o)&&0<o&&(t.scale=o)}t.Aa!==e&&(Yu(t),Su(t,!0,!1)),As(t,!0),t.Nd(e=t.Ma.j,e.length,t),t.R("InitialLayoutCompleted"),t.Ts.assign(t.la),rc(t)}(t)),t.R("LayoutCompleted"),o.w(t.viewportBounds)||Su(t,!0,!1),te.free(o)):o.zl&&o.Qx&&(t.Yf!==Fs?t.scale=eu(t,t.Yf):t.Og!==Fs?t.scale=eu(t,t.Og):(o=t.initialScale,isFinite(o)&&0<o&&(t.scale=o)),As(t,!0)),Gs(t),c&&g&&t.Xa("Initial Layout"),t.Hv(),e||t.mc(t.Gb),u&&(t.skipsUndoManager=a),t.ac=!1}}function Gs(t){if((t.ac||!t.animationManager.isTicking)&&0!==t.wd.count){for(var e=0;23>e;e++){var o=t.wd.iterator;if(null===o||0===t.wd.count)break;t.wd=new Ht,t.Vw(o,t.wd)}t.nodes.each(function(a){a instanceof ai&&0!=(65536&a.P)&&(a.P=65536^a.P)})}}function t0(t,e){for(var o=h(),a=h(),u=e.memberParts;u.next();){var c=u.value;c.isVisible()&&(c instanceof ai?(dc(c)||Wa(c)||ze(c))&&t0(t,c):c instanceof We?c.fromNode===e||c.toNode===e?a.push(c):o.push(c):(c.measure(1/0,1/0),c.arrange()))}for(t=o.length,u=0;u<t;u++)(c=o[u]).measure(1/0,1/0),c.arrange();for(m(o),e.measure(1/0,1/0),e.arrange(),t=a.length,e=0;e<t;e++)(o=a[e]).measure(1/0,1/0),o.arrange();m(a)}function Ug(t,e,o,a,u,c,g,_,A,I){if(null!==t.Da){null===t.ya&&V("No canvas specified"),void 0===g&&(g=null),void 0===_&&(_=null),void 0===A&&(A=!1),void 0===I&&(I=!1),$f(t),t.Gb.uc(!0),Du(t),t.yi=!0;var B=t.Aa;t.Aa=u;var H=t.Ma.j,dt=H.length;try{var bt=new te(c.x,c.y,a.width/u,a.height/u),pt=bt.copy();pt.uq(o),rc(t,pt),Gs(t),t.Nd(H,dt,t,bt),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,a.width,a.height),null!==_&&""!==_&&(e.fillStyle=_,e.fillRect(0,0,a.width,a.height));var Rt=t.Tb;e.scale(Rt,Rt);var Xt=cn.alloc();Xt.reset(),Xt.translate(o.left,o.top),Xt.scale(u),0===c.x&&0===c.y||Xt.translate(-c.x,-c.y),e.setTransform(Xt.m11,Xt.m12,Xt.m21,Xt.m22,Xt.dx,Xt.dy),cn.free(Xt),Dy(t,e),e.globalAlpha=t.hb;var $t=t.xk("Grid");if(g){var ie=new Ht,oe=g.iterator;for(oe.reset();oe.next();){var ce=oe.value;ce instanceof Bt&&(I||ce.layer!==$t)&&ie.add(ce)}for(I=0;I<dt;I++){var _e=H[I];$t=e;var Je=t;if(_e.visible&&0!==_e.hb&&(A||!_e.isTemporary)){var Si=_e.Fa.j,li=Si.length;if(0!==li){var Fi=_h(_e,$t),di=_e.rp;di.length=0;var ii=Je.scale,_n=te.alloc();for(o=0;o<li;o++){var rn=Si[o];ie.contains(rn)&&_e.dj($t,rn,Je,di,ii,_n,!1)}te.free(_n),$t.globalAlpha=Fi}}}}else for(ie=0;ie<dt;ie++)(Je=H[ie])===$t?I&&Je.mc(e,t,!0):Je.mc(e,t,A);t.yi=!1,t.ui&&vm(t.ui,t)&&t.Tr()}finally{t.Aa=B,t.Gb.uc(!0),Du(t),t.Nd(H,dt,t),rc(t)}}}function Dy(t,e){null!==(t=t.hf)&&(void 0!==t.imageSmoothingEnabled&&e.Sy(!!t.imageSmoothingEnabled),null!=(t=t.defaultFont)&&(e.font=t))}function am(t,e){var u,o=t instanceof Ke,a=t instanceof ke;for(u in e){""===u&&V("Setting properties requires non-empty property names");var c=t,g=u;if(o||a){var _=u.indexOf(".");if(0<_){var A=u.substring(0,_);o?c=t.bb(A):null==(c=t[A])&&(c=t.toolManager[A]),gt(c)?g=u.substr(_+1):V("Unable to find object named: "+A+" in "+t.toString()+" when trying to set property: "+u)}}if("_"!==g[0]&&!M(c,g)){if(a&&"ModelChanged"===g){t.Wx(e[g]);continue}if(a&&"Changed"===g){t.Hh(e[g]);continue}if(a&&M(t.toolManager,g))c=t.toolManager;else{if(a&&pb(t,g)){t.kk(g,e[g]);continue}if(t instanceof Ti&&"Changed"===g){t.Hh(e[g]);continue}V('Trying to set undefined property "'+g+'" on object: '+c.toString())}}c[g]=e[u],"_"===g[0]&&c instanceof Ri&&c.Tx(g)}}function Yu(t){!1===t.wi&&(t.wi=!0)}function Du(t){!1===t.xi&&(t.xi=!0)}function $f(t){!1!==t.El&&(t.El=!1,Gg(t,t.va,t.ua))}function Gg(t,e,o){var a=t.Tb;t.ya.resize(e*a,o*a,e,o)&&(t.Dc=!0,t.Gb.uc(!0))}function Wg(t){var e=t.ya;if(null===e||t.sm.o())return!0;var o=t.Da,a=t.va,u=t.ua,c=t.viewportBounds.copy();if(!c.o())return!0;var g=!1,_=t.Ye?t.rb:0,A=t.pe?t.rb:0,I=o.clientWidth||a+_,B=o.clientHeight||u+A;if((I!==a+_||B!==u+A)&&(t.Ye=!1,t.pe=!1,A=_=0,t.va=I,t.ua=B,g=t.El=!0),!(g||t.Ye||t.pe||t.vl||t.wl))return!0;t.wi=!1;var H=t.viewportBounds,dt=t.documentBounds,bt=0,pt=0,Rt=0,Xt=0;o=H.width;var $t=H.height,ie=t.Si;t.contentAlignment.kb()?(dt.width>o&&(bt=ie.left,pt=ie.right),dt.height>$t&&(Rt=ie.top,Xt=ie.bottom)):(bt=ie.left,pt=ie.right,Rt=ie.top,Xt=ie.bottom),ie=dt.width+bt+pt;var oe=dt.height+Rt+Xt;bt=dt.x-bt;var ce=H.x;pt=dt.right+pt;var _e=H.right+_;Rt=dt.y-Rt;var Je=H.y;dt=dt.bottom+Xt,H=H.bottom+A;var Si="1px",li="1px";if(I=ie>I/(Xt=t.scale),B=oe>B/Xt,t.scrollMode===nu&&(I||B)&&(I&&t.hasHorizontalScrollbar&&t.allowHorizontalScroll&&(I=1,bt+1<ce&&(I=Math.max((ce-bt)*Xt+t.va,I)),pt>_e+1&&(I=Math.max((pt-_e)*Xt+t.va,I)),o+_+1<ie&&(I=Math.max((ie-o)*Xt+t.va,I)),Si=I.toString()+"px"),B&&t.hasVerticalScrollbar&&t.allowVerticalScroll&&(I=1,Rt+1<Je&&(I=Math.max((Je-Rt)*Xt+t.ua,I)),dt>H+1&&(I=Math.max((dt-H)*Xt+t.ua,I)),$t+A+1<oe&&(I=Math.max((oe-$t)*Xt+t.ua,I)),li=I.toString()+"px")),B="1px"!==li,(I="1px"!==Si)&&B||!I&&!B||(B&&(_e-=t.rb),I&&(H-=t.rb),ie<o+_||!t.hasHorizontalScrollbar||!t.allowHorizontalScroll||(_=1,bt+1<ce&&(_=Math.max((ce-bt)*Xt+t.va,_)),pt>_e+1&&(_=Math.max((pt-_e)*Xt+t.va,_)),o+1<ie&&(_=Math.max((ie-o)*Xt+t.va,_)),Si=_.toString()+"px"),_=t.ua,(I="1px"!==Si)!==t.pe&&(_=I?t.ua-t.rb:t.ua+t.rb),oe<$t+A||!t.hasVerticalScrollbar||!t.allowVerticalScroll||(A=1,Rt+1<Je&&(A=Math.max((Je-Rt)*Xt+_,A)),dt>H+1&&(A=Math.max((dt-H)*Xt+_,A)),$t+1<oe&&(A=Math.max((oe-$t)*Xt+_,A)),li=A.toString()+"px"),B="1px"!==li),t.Op&&I===t.pe&&B===t.Ye)return a===t.va&&u===t.ua||t.hd(),!1;if(I!==t.pe&&(t.ua="1px"===Si?t.ua+t.rb:Math.max(t.ua-t.rb,1),g=!0),t.pe=I,t.Pp.style.width=Si,B!==t.Ye&&(t.va="1px"===li?t.va+t.rb:Math.max(t.va-t.rb,1),g=!0,t.Gl&&(A=at.alloc(),B?(e.style.left=t.rb+"px",t.position=A.h(t.la.x+t.rb/t.scale,t.la.y)):(e.style.left="0px",t.position=A.h(t.la.x-t.rb/t.scale,t.la.y)),at.free(A))),t.Ye=B,t.Pp.style.height=li,t.Vs=!0,g&&(t.El=!0),A=(e=t.Ys).scrollLeft,t.hasHorizontalScrollbar&&t.allowHorizontalScroll&&(o+1<ie?A=(t.position.x-bt)*Xt:bt+1<ce?A=e.scrollWidth-e.clientWidth:pt>_e+1&&(A=t.position.x*Xt)),t.Gl)switch(t.Ss){case"negative":A=-(e.scrollWidth-A-e.clientWidth);break;case"reverse":A=e.scrollWidth-A-e.clientWidth}return e.scrollLeft=A,t.hasVerticalScrollbar&&t.allowVerticalScroll&&($t+1<oe?e.scrollTop=(t.position.y-Rt)*Xt:Rt+1<Je?e.scrollTop=e.scrollHeight-e.clientHeight:dt>H+1&&(e.scrollTop=t.position.y*Xt)),B=t.ua,e.style.width=(I=t.va)+(t.Ye?t.rb:0)+"px",e.style.height=B+(t.pe?t.rb:0)+"px",a===I&&u===B&&!t.animationManager.sc||(t.onViewportBoundsChanged(c,t.viewportBounds,Xt,g),!1)}function Yg(t,e,o){var a=e.layer;null!==a&&a.diagram===t&&(e.isSelected=!1,e.isHighlighted=!1,e.C(2),o&&e.uk(),0<=(o=a.Lc(-1,e,!1))&&t.Va(fn,"parts",a,e,null,o,null),null!==(t=e.layerChanged)&&t(e,a,null))}function Js(t,e,o,a,u,c){if(!e.contains(o)&&(void 0===c&&(c=!1),!a||c||o.canMove()||o.canCopy()))if(void 0===u&&(u=$g(t)),o instanceof Ne){if(e.add(o,t.Cd(u,o,o.location)),o instanceof ai&&(null!==o.placeholder||u.dragsMembers))for(c=o.memberParts;c.next();)Js(t,e,c.value,a,u,u.groupsAlwaysMove);for(c=o.linksConnected;c.next();){var g=c.value;if(!e.contains(g)){var _=g.fromNode,A=g.toNode;null!==_&&e.contains(_)&&null!==A&&e.contains(A)&&Js(t,e,g,a,u)}}if(u.dragsTree)for(o=o.Wv();o.next();)Js(t,e,o.value,a,u)}else if(o instanceof We)for(e.add(o,t.Cd(u,o)),o=o.labelNodes;o.next();)Js(t,e,o.value,a,u);else o instanceof si||e.add(o,t.Cd(u,o,o.location))}function nc(t,e,o,a,u){if(null!==e&&0!==e.count){var c=at.alloc(),g=at.alloc();g.assign(o),isNaN(g.x)&&(g.x=0),isNaN(g.y)&&(g.y=0),(o=t.fq)||nf(t,e);for(var _=h(),A=h(),I=e.iterator,B=at.alloc();I.next();){var H=I.key,dt=I.value;if(H.Nc()){var bt=gx(t,H,e);null!==bt?_.push(new qg(H,dt,bt)):(!u||H.canMove())&&(c.assign(bt=dt.point),t.computeMove(H,c.add(g),a,B),H.location=B,void 0===dt.shifted&&(dt.shifted=new at),dt.shifted.assign(B.ge(bt)))}else I.key instanceof We&&A.push(I.ka)}for(at.free(B),u=_.length,I=0;I<u;I++)c.assign((H=_[I]).info.point),void 0===H.$v.shifted&&(H.$v.shifted=new at),H.node.location=c.add(H.$v.shifted);for(u=at.alloc(),I=at.alloc(),H=A.length,dt=0;dt<H;dt++){var pt=A[dt];if((bt=pt.key)instanceof We)if(bt.suspendsRouting){bt.jf=null,B=bt.fromNode;var Rt=bt.toNode;if(null!==t.draggedLink&&a.dragsLink)if(Rt=pt.value.point,null===bt.dragComputation)e.add(bt,t.Cd(a,bt,g)),nr(bt,g.x-Rt.x,g.y-Rt.y);else{pt=at.allocAt(0,0),(B=bt.i(0))&&B.o()&&pt.assign(B);var Xt=B=at.alloc().assign(pt).add(g);a.isGridSnapEnabled&&(a.isGridSnapRealtime||t.lastInput.up)&&Ey(t,bt,B,Xt=at.alloc(),a),B.assign(bt.dragComputation(bt,B,Xt)).ge(pt),e.add(bt,t.Cd(a,bt,B)),nr(bt,B.x-Rt.x,B.y-Rt.y),at.free(pt),at.free(B),Xt!==B&&at.free(Xt)}else null!==B&&(u.assign(B.location),null!==(Xt=e.G(B))&&u.ge(Xt.point)),null!==Rt&&(I.assign(Rt.location),null!==(Xt=e.G(Rt))&&I.ge(Xt.point)),null!==B&&null!==Rt?u.Qa(I)?(B=pt.value.point,(Rt=c).assign(u),Rt.ge(B),e.add(bt,t.Cd(a,bt,u)),nr(bt,Rt.x,Rt.y)):(bt.suspendsRouting=!1,bt.Ua()):(pt=pt.value.point,e.add(bt,t.Cd(a,bt,B=null!==B?u:null!==Rt?I:g)),nr(bt,B.x-pt.x,B.y-pt.y))}else(null===bt.fromNode||null===bt.toNode)&&(B=pt.value.point,e.add(bt,t.Cd(a,bt,g)),nr(bt,g.x-B.x,g.y-B.y))}at.free(c),at.free(g),at.free(u),at.free(I),m(_),m(A),o||(Gs(t),Xf(t,e))}}function $g(t){var e=t.toolManager.findTool("Dragging");return null!==e?e.dragOptions:t.kl}function Ey(t,e,o,a,u){if(void 0===u&&(u=$g(t)),a.assign(o),null!==e){var c=t.grid;t=(e=u.gridSnapCellSize).width,e=e.height;var g=u.gridSnapOrigin,_=g.x;if(g=g.y,u=u.gridSnapCellSpot,null!==c){var A=c.gridCellSize;isNaN(t)&&(t=A.width),isNaN(e)&&(e=A.height),c=c.gridOrigin,isNaN(_)&&(_=c.x),isNaN(g)&&(g=c.y)}(c=at.allocAt(0,0)).Uk(0,0,t,e,u),me.Gq(o.x,o.y,_+c.x,g+c.y,t,e,a),at.free(c)}}function nf(t,e){if(null!==e)for(t.fq=!0,t=e.iterator;t.next();)(e=t.key)instanceof We&&(e.suspendsRouting=!0)}function Xf(t,e){if(null!==e){for(e=e.iterator;e.next();){var o=e.key;o instanceof We&&(o.suspendsRouting=!1,ws(o)&&o.Ua())}t.fq=!1}}function gx(t,e,o){return null===(e=e.containingGroup)||null===(t=gx(t,e,o))&&null===(t=o.G(e))?null:t}function e0(t,e,o){if(null!==e.diagram&&e.diagram!==t&&V("Cannot share a Layer with another Diagram: "+e+" of "+e.diagram),null===o?null!==e.diagram&&V("Cannot add an existing Layer to this Diagram again: "+e):(o.diagram!==t&&V("Existing Layer must be in this Diagram: "+o+" not in "+o.diagram),e===o&&V("Cannot move a Layer before or after itself: "+e)),e.diagram!==t){e=e.name,o=(t=t.Ma).count;for(var a=0;a<o;a++)t.J(a).name===e&&V("Cannot add Layer with the name '"+e+"'; a Layer with the same name is already present in this Diagram.")}}function Kf(t,e,o){var a=t.animationManager;if(t.Sb||t.ac)t.Aa=o,a.ef&&a.Rd.add(a.B,"scale",e,t.Aa);else if(null===t.ya)t.Aa=o;else{t.Sb=!0;var u=t.viewportBounds.copy(),c=t.va,g=t.ua;u.width=t.va/e,u.height=t.ua/e;var _=t.zoomPoint.x,A=t.zoomPoint.y,I=t.contentAlignment;isNaN(_)&&(I.Oc()?I.Ef(Nf)?_=0:I.Ef(pr)&&(_=c-1):_=I.kb()?I.x*(c-1):c/2),isNaN(A)&&(I.Oc()?I.Ef($0)?A=0:I.Ef(sa)&&(A=g-1):A=I.kb()?I.y*(g-1):g/2),null===t.scaleComputation||t.animationManager.defaultAnimation.isAnimating||(o=t.scaleComputation(t,o)),o<t.minScale&&(o=t.minScale),o>t.maxScale&&(o=t.maxScale),c=at.allocAt(t.la.x+_/e-_/o,t.la.y+A/e-A/o),t.position=c,at.free(c),t.Aa=o,t.onViewportBoundsChanged(u,t.viewportBounds,e,!1),t.Sb=!1,As(t,!1),a.ef&&a.Rd.add(a.B,"scale",e,t.Aa),t.M(),Yu(t)}}function rc(t,e){void 0===e&&(e=null);var o=t.Ib;if(null!==o&&o.visible){for(var a=He.alloc(),u=1,c=1,g=o.W.j,_=g.length,A=0;A<_;A++){var I=g[A],B=Math.abs(I.interval);2>B||(ff(I.figure)?c=c*B/me.uy(c,B):u=u*B/me.uy(u,B))}if(a.h(c*(g=o.gridCellSize).width,u*g.height),null!==e)u=e.width,c=e.height,t=e.x,g=e.y;else{if((e=te.alloc()).h((t=t.viewportBounds).x,t.y,t.width,t.height),!e.o())return void te.free(e);u=e.width,c=e.height,t=e.x,g=e.y,te.free(e)}o.width=u+2*a.width,o.height=c+2*a.height,e=at.alloc(),me.Gq(t,g,0,0,a.width,a.height,e),e.offset(-a.width,-a.height),He.free(a),o.part.location=e,at.free(e)}}function n0(t){var e=t.isModified;t.zv!==e&&(t.zv=e,t.R("Modified"))}function Xg(t,e){for(var o=(e=e.W.j).length,a=0;a<o;a++)rf(t,e[a])}function rf(t,e){if(e instanceof Ws){var o=e.element;if(null!==o&&o instanceof HTMLImageElement){o.Wg instanceof Ht&&o.Wg.add(t);var a=e.Zg;if(null!==a&&!0===a.ls&&null!==e.diagram&&e.diagram.Wl.add(e),o.io)if(o=o.getAttribute("src"),null===(a=t.pg.G(o)))(a=[]).push(e),t.pg.add(o,a);else{for(t=0;t<a.length;t++)if(a[t]===e)return;a.push(e)}}}}function lm(t,e){if(e instanceof Ws){var o=e.element;if(null!==o&&o instanceof HTMLImageElement&&(o.Wg instanceof Ht&&o.Wg.remove(t),ld(o),o.io)){o=o.getAttribute("src");var a=t.pg.G(o);if(null!==a)for(var u=0;u<a.length;u++)if(a[u]===e){a.splice(u,1),0===a.length&&(t.pg.remove(o),Ju(o));break}}}}function um(t,e){t.vi=!1;var o=t.Rn;o.w(e)||(e=e.H(),t.Rn=e,As(t,!1),t.R("DocumentBoundsChanged",null,o.copy()),Yu(t))}function no(t,e){for(var o=t.Dh.iterator;o.next();)yx(t,o.value,e);null!==t.layout&&(e?t.layout.isValidLayout=!1:t.layout.C())}function yx(t,e,o){if(null!==e){for(var a=e.Sl.iterator;a.next();)yx(t,a.value,o);null!==e.layout&&(o?e.layout.isValidLayout=!1:e.layout.C())}}function sf(t,e){if(t.Ng&&!t.Nr){var o=t.Z;t.Z=!0;var a=t.undoManager.transactionLevel,u=t.layout,c=t.animationManager;try{0===a&&(t.undoManager.isInternalTransaction=!0,t.xa("Layout")),1>=a&&!c.defaultAnimation.isAnimating&&!c.sc&&(e||io(c,"Layout")),t.Ng=!1;for(var g=t.Dh.iterator;g.next();)Kd(t,g.value,e,a);u.isValidLayout||(!e||u.isRealtime||null===u.isRealtime||0===a?(u.doLayout(t),Gs(t),u.isValidLayout=!0):t.Ng=!0)}finally{e=t.undoManager.isInternalTransaction,0===a&&(t.Xa("Layout"),t.undoManager.isInternalTransaction=!1),!e||0!==a&&1!==a||kn(c),t.Z=o}}}function Kd(t,e,o,a){if(null!==e){for(var u=e.Sl.iterator;u.next();)Kd(t,u.value,o,a);null===(u=e.layout)||u.isValidLayout||(!o||u.isRealtime||0===a?(e.Rh=!e.location.o(),u.doLayout(e),e.C(32),t0(t,e),u.isValidLayout=!0):t.Ng=!0)}}function hm(t){function e(u){var c=u.toLowerCase(),g=new Vt;o.add(u,g),o.add(c,g),a.add(u,u),a.add(c,u)}var o=new vt,a=new vt;e("InitialAnimationStarting"),e("AnimationStarting"),e("AnimationFinished"),e("BackgroundSingleClicked"),e("BackgroundDoubleClicked"),e("BackgroundContextClicked"),e("ClipboardChanged"),e("ClipboardPasted"),e("DocumentBoundsChanged"),e("ExternalObjectsDropped"),e("GainedFocus"),e("InitialLayoutCompleted"),e("LayoutCompleted"),e("LinkDrawn"),e("LinkRelinked"),e("LinkReshaped"),e("LostFocus"),e("Modified"),e("ObjectSingleClicked"),e("ObjectDoubleClicked"),e("ObjectContextClicked"),e("PartCreated"),e("PartResized"),e("PartRotated"),e("SelectionMoved"),e("SelectionCopied"),e("SelectionDeleting"),e("SelectionDeleted"),e("SelectionGrouped"),e("SelectionUngrouped"),e("ChangingSelection"),e("ChangedSelection"),e("SubGraphCollapsed"),e("SubGraphExpanded"),e("TextEdited"),e("TreeCollapsed"),e("TreeExpanded"),e("ViewportBoundsChanged"),e("InvalidateDraw"),t.Qr=o,t.Pr=a}function pb(t,e){var o=t.Pr.G(e);return null!==o?o:t.Pr.G(e.toLowerCase())}function Zd(t,e){var o=t.Qr.G(e);if(null!==o||null!==(o=t.Qr.G(e.toLowerCase())))return o;V("Unknown DiagramEvent name: "+e)}function Kg(t){if(t.animationManager.isTicking)return!1;var e=t.currentTool;return e!==t.toolManager.findTool("Dragging")||!t.fq||e.isComplexRoutingRealtime}function r0(t,e,o,a){if(null===t.Gc&&(t.Gc=new bv),t.Gc.Rt||t.Gc.group!==o||t.Gc.Vy!==a){if(null!==o&&(o=cm(t,o)),null===o){(e=t.computeOccupiedArea()).Jc(100,100),t.Gc.initialize(e),e=te.alloc();for(var u=t.nodes;u.next();){var c=u.value,g=c.layer;null!==g&&g.visible&&!g.isTemporary&&Ls(t,c,a,e)}te.free(e)}else{for(0<o.memberParts.count&&((e=t.computePartsBounds(o.memberParts,!1)).Jc(20,20),t.Gc.initialize(e)),e=te.alloc(),u=o.memberParts;u.next();)(c=u.value)instanceof Ne&&Ls(t,c,a,e);te.free(e)}t.Gc.group=o,t.Gc.Vy=a,t.Gc.Rt=!1}else e&&PS(t.Gc);return t.Gc}function cm(t,e){return e.avoidable&&!e.isLinkLabel?e:null!==e.containingGroup?cm(t,e.containingGroup):null}function Ls(t,e,o,a){if(e!==o&&e.isVisible())if(e.avoidable&&!e.isLinkLabel){var u=(e=e.getAvoidableRect(a)).x,c=e.y;if(Ky(t=t.Gc,u,c))for(o=(c-t.Bd)/t.gc|0,a=Math.min((u+e.width-t.Ad)/t.fc|0,t.Zi),e=Math.min((c+e.height-t.Bd)/t.gc|0,t.$i),u=(u-t.Ad)/t.fc|0;u<=a;u++)if((c=t.Rb[u]).fill)c.fill(cd,o,e+1);else for(var g=o;g<=e;g++)c[g]=cd}else if(e instanceof ai)for(e=e.memberParts;e.next();)(u=e.value)instanceof Ne&&Ls(t,u,o,a)}function qd(t,e){null!==t.Gc&&!t.Gc.Rt&&(void 0===e&&(e=null),null===e||e.avoidable&&!e.isLinkLabel)&&(t.Gc.Rt=!0)}function o0(t){-1===t.Bj&&(t.Bj=Y(function(){if(-1!==t.Bj&&(t.Jf(),null!==t.lastInput.event)){var e=t.computeAutoScrollPosition(t.rn);e.Qa(t.position)||(t.position=e,t.lastInput.documentPoint=t.ou(t.rn),t.doMouseMove(),t.vi=!0,um(t,t.documentBounds.copy().Rc(t.computeBounds())),t.Dc=!0,t.hd(),o0(t))}},t.qn))}function oc(t,e,o){function a(){var B=+new Date;for(c=!0,g.reset();g.next();)if(!g.value[0].Ol){c=!1;break}c||B-I>A?e(o,u,_):N.requestAnimationFrame(a)}for(var u=o.callback,c=!0,g=t.pg.iterator;g.next();)if(!g.value[0].Ol){c=!1;break}if("function"!=typeof u||c)return e(o,u,t);var _=t,A=o.callbackTimeout||300,I=+new Date;return N.requestAnimationFrame(function(){a()}),null}function fm(t,e,o,a){if(t.animationManager.Bc(),t.hd(),null===t.ya)return null;"object"!=typeof e&&V("properties argument must be an Object.");var u=e.size||null,c=e.scale||null;void 0!==e.scale&&isNaN(e.scale)&&(c="NaN");var g=e.maxSize;void 0===e.maxSize&&(g="SVG"===o?new He(1/0,1/0):new He(2e3,2e3));var _=e.position||null,A=e.parts||null,I=void 0===e.padding?1:e.padding,B=e.background||null,H=e.omitTemporary;void 0===H&&(H=!0);var dt=e.document||document,bt=e.elementFinished||null,pt=e.showTemporary;void 0===pt&&(pt=!H),void 0===(e=e.showGrid)&&(e=pt),null!==u&&isNaN(u.width)&&isNaN(u.height)&&(u=null),"number"==typeof I?I=new nn(I):I instanceof nn||V("MakeImage padding must be a Margin or a number."),I.left=Math.max(I.left,0),I.right=Math.max(I.right,0),I.top=Math.max(I.top,0),I.bottom=Math.max(I.bottom,0),t.Gb.uc(!0);var Rt=(H=new da(null,dt)).context;if(!(u||c||A||_))return H.width=t.va+Math.ceil(I.left+I.right),H.height=t.ua+Math.ceil(I.top+I.bottom),"SVG"===o?null===a?null:(a.resize(H.width,H.height,H.width,H.height),a.ownerDocument=dt,a.Dq=bt,Ug(t,a.context,I,new He(H.width,H.height),t.Aa,t.la,A,B,pt,e),a.context):(t.rl=!1,Ug(t,Rt,I,new He(H.width,H.height),t.Aa,t.la,A,B,pt,e),t.rl=!0,H.context);var Xt=t.Qn,$t=t.documentBounds.copy();if($t.Jw(t.ib),pt)for(var ie=t.Ma.j,oe=ie.length,ce=0;ce<oe;ce++){var _e=ie[ce];if(_e.visible&&_e.isTemporary)for(var Je=(_e=_e.Fa.j).length,Si=0;Si<Je;Si++){var li=_e[Si];li.isInDocumentBounds&&li.isVisible()&&(li=li.actualBounds).o()&&$t.Rc(li)}}if(ie=new at($t.x,$t.y),null!==A){for(oe=!0,(ce=A.iterator).reset();ce.next();)if((_e=ce.value)instanceof Bt&&(null===(Je=_e.layer)||Je.visible)&&(null===Je||pt||!Je.isTemporary)&&_e.isVisible()&&(_e=_e.actualBounds).o())if(oe){oe=!1;var Fi=_e.copy()}else Fi.Rc(_e);oe&&(Fi=new te(0,0,0,0)),$t.width=Fi.width,$t.height=Fi.height,ie.x=Fi.x,ie.y=Fi.y}return null!==_&&_.o()&&(ie=_,c||(c=Xt)),Fi=_=0,null!==I&&(_=I.left+I.right,Fi=I.top+I.bottom),oe=ce=0,null!==u&&(ce=u.width,oe=u.height,isFinite(ce)&&(ce=Math.max(0,ce-_)),isFinite(oe)&&(oe=Math.max(0,oe-Fi))),null!==u&&null!==c?("NaN"===c&&(c=Xt),u.o()?(u=ce,$t=oe):isNaN(oe)?(u=ce,$t=$t.height*c):(u=$t.width*c,$t=oe)):null!==u?u.o()?(c=Math.min(ce/$t.width,oe/$t.height),u=ce,$t=oe):isNaN(oe)?(u=ce,$t=$t.height*(c=ce/$t.width)):(u=$t.width*(c=oe/$t.height),$t=oe):null!==c?"NaN"===c&&g.o()?(c=Math.min((g.width-_)/$t.width,(g.height-Fi)/$t.height))>Xt?(c=Xt,u=$t.width,$t=$t.height):(u=g.width,$t=g.height):(u=$t.width*c,$t=$t.height*c):(c=Xt,u=$t.width,$t=$t.height),null!==I?(u+=_,$t+=Fi):I=new nn(0),null!==g&&(Xt=g.width,g=g.height,isNaN(Xt)&&(Xt=2e3),isNaN(g)&&(g=2e3),isFinite(Xt)&&(u=Math.min(u,Xt)),isFinite(g)&&($t=Math.min($t,g))),H.width=Math.ceil(u),H.height=Math.ceil($t),"SVG"===o?null===a?null:(a.resize(H.width,H.height,H.width,H.height),a.ownerDocument=dt,a.Dq=bt,Ug(t,a.context,I,new He(Math.ceil(u),Math.ceil($t)),c,ie,A,B,pt,e),a.context):(t.rl=!1,Ug(t,Rt,I,new He(Math.ceil(u),Math.ceil($t)),c,ie,A,B,pt,e),t.rl=!0,H.context)}ka.className="AnimationTrigger",ka.Default=Rr,ka.Immediate=Qo,ka.Bundled=Us,(ot=xs.prototype).clear=function(){this.Fa.clear(),this.rp.length=0},ot.ee=function(t){this.B=t},ot.toString=function(t){void 0===t&&(t=0);var e='Layer "'+this.name+'"';if(0>=t)return e;for(var o=0,a=0,u=0,c=0,g=0,_=this.Fa.iterator;_.next();){var A=_.value;A instanceof ai?u++:A instanceof Ne?a++:A instanceof We?c++:A instanceof si?g++:o++}if(_="",0<o&&(_+=o+" Parts "),0<a&&(_+=a+" Nodes "),0<u&&(_+=u+" Groups "),0<c&&(_+=c+" Links "),0<g&&(_+=g+" Adornments "),1<t)for(t=this.Fa.iterator;t.next();)_+="\n    "+(o=t.value).toString(),null!==(a=o.data)&&we(a)&&(_+=" #"+we(a)),o instanceof Ne?_+=" "+v(a):o instanceof We&&(_+=" "+v(o.fromNode)+" "+v(o.toNode));return e+" "+this.Fa.count+": "+_},ot.Vb=function(t,e,o){if(void 0===e&&(e=null),void 0===o&&(o=null),!1===this.Pi)return null;var a=!1;null!==this.diagram&&this.diagram.viewportBounds.$(t)&&(a=!0);for(var u=at.alloc(),c=this.Fa.j,g=c.length;g--;){var _=c[g];if((!0!==a||!1!==Le(_))&&_.isVisible()&&(u.assign(t),ve(u,_.Fd),null!==(_=_.Vb(u,e,o))&&(null!==e&&(_=e(_)),null!==_&&(null===o||o(_)))))return at.free(u),_}return at.free(u),null},ot.hj=function(t,e,o,a){if(void 0===e&&(e=null),void 0===o&&(o=null),a instanceof Vt||a instanceof Ht||(a=new Ht),!1===this.Pi)return a;var u=!1;null!==this.diagram&&this.diagram.viewportBounds.$(t)&&(u=!0);for(var c=at.alloc(),g=this.Fa.j,_=g.length;_--;){var A=g[_];if((!0!==u||!1!==Le(A))&&A.isVisible()){c.assign(t),ve(c,A.Fd);var I=A;A.hj(c,e,o,a)&&(null!==e&&(I=e(I)),null===I||null!==o&&!o(I)||a.add(I))}}return at.free(c),a},ot.zf=function(t,e,o,a,u){if(void 0===e&&(e=null),void 0===o&&(o=null),void 0===a&&(a=!1),u instanceof Vt||u instanceof Ht||(u=new Ht),!1===this.Pi)return u;var c=!1;null!==this.diagram&&this.diagram.viewportBounds.Ge(t)&&(c=!0);for(var g=this.Fa.j,_=g.length;_--;){var A=g[_];if((!0!==c||!1!==Le(A))&&A.isVisible()){var I=A;A.zf(t,e,o,a,u)&&(null!==e&&(I=e(I)),null===I||null!==o&&!o(I)||u.add(I))}}return u},ot.Vv=function(t,e,o,a,u,c,g){if(!1===this.Pi)return u;for(var _=this.Fa.j,A=_.length;A--;){var I=_[A];if((!0!==g||!1!==Le(I))&&c(I)&&I.isVisible()){var B=I;I.zf(t,e,o,a,u)&&(null!==e&&(B=e(B)),null===B||null!==o&&!o(B)||u.add(B))}}return u},ot.Eg=function(t,e,o,a,u,c){if(void 0===o&&(o=null),void 0===a&&(a=null),void 0===u&&(u=!0),!1!==u&&!0!==u&&((u instanceof Vt||u instanceof Ht)&&(c=u),u=!0),c instanceof Vt||c instanceof Ht||(c=new Ht),!1===this.Pi)return c;var g=!1;null!==this.diagram&&this.diagram.viewportBounds.$(t)&&(g=!0);for(var _=at.alloc(),A=at.alloc(),I=this.Fa.j,B=I.length;B--;){var H=I[B];if((!0!==g||!1!==Le(H))&&H.isVisible()){_.assign(t),ve(_,H.Fd),A.h(t.x+e,t.y),ve(A,H.Fd);var dt=H;H.Eg(_,A,o,a,u,c)&&(null!==o&&(dt=o(dt)),null===dt||null!==a&&!a(dt)||c.add(dt))}}return at.free(_),at.free(A),c},ot.Nd=function(t,e){if(this.visible){var o=this.Fa.j,a=o.length;if(0!==a){t=h();for(var u=h(),c=0;c<a;c++){var g=o[c];if(g.zx=c,g instanceof We){if(!1===g.ud)continue}else if(g instanceof si&&null!==g.adornedPart)continue;oi(g.actualBounds,e)?(g.Nd(!0),t.push(g)):(g.Nd(!1),null!==g.adornments&&0<g.adornments.count&&u.push(g))}for(e=0;e<t.length;e++)for(Qt(o=t[e]),o=o.adornments;o.next();)(a=o.value).measure(1/0,1/0),a.arrange(),a.Nd(!0);for(e=0;e<u.length;e++)Qt(u[e]);m(t),m(u)}}},ot.mc=function(t,e,o){if(this.visible&&0!==this.hb&&(void 0===o&&(o=!0),o||!this.isTemporary)){var a=(o=this.Fa.j).length;if(0!==a){var u=_h(this,t),c=this.rp;c.length=0;for(var g=e.scale,_=te.alloc(),A=0;A<a;A++)this.dj(t,o[A],e,c,g,_,!0);te.free(_),t.globalAlpha=u}}},ot.dj=function(t,e,o,a,u,c,g){if(!g||Le(e)){if(null!==a&&e instanceof We&&(e.isOrthogonal&&a.push(e),!1===e.ud))return;for(g=!1,a=e.containingGroup;null!==a;)g?null!==a.Za&&c.Dy(a.Za):null!==a.Za&&(g=!0,c.assign(a.Za)),a=a.containingGroup;var _=e.actualBounds;if(a=!1,g&&e.isVisible()){if(!c.Mc(_))return;a=!c.Ge(_)}a&&(t.save(),t.beginPath(),t.rect(c.x,c.y,c.width,c.height),t.clip()),_.width*u>o.Xo||_.height*u>o.Xo?e.mc(t,o):(c=e.naturalBounds,0===(u=e.actualBounds).width||0===u.height||isNaN(u.x)||isNaN(u.y)||!e.isVisible()||(o=e.transform,null!==e.areaBackground&&(fa(e,t,e.areaBackground,!0,!0,c,u),t.fillRect(u.x,u.y,u.width,u.height)),null===e.areaBackground&&null===e.background&&(fa(e,t,"rgba(0,0,0,0.3)",!0,!1,c,u),t.fillRect(u.x,u.y,u.width,u.height)),null!==e.background&&(t.transform(o.m11,o.m12,o.m21,o.m22,o.dx,o.dy),fa(e,t,e.background,!0,!1,c,u),t.fillRect(0,0,c.width/2,c.height/2),o.Tt()||t.transform(o.m22*(e=1/(o.m11*o.m22-o.m12*o.m21)),-o.m12*e,-o.m21*e,o.m11*e,e*(o.m21*o.dy-o.m22*o.dx),e*(o.m12*o.dx-o.m11*o.dy))))),a&&(t.restore(),t.uc(!0))}},ot.g=function(t,e,o,a,u){var c=this.diagram;null!==c&&c.Va(_r,t,this,e,o,a,u)},ot.oj=function(t,e,o){var a=this.Fa;if(e.Fi=this,t>=a.count)t=a.count;else if(a.J(t)===e)return-1;return a.wb(t,e),e.Mq(o),null!==(a=this.diagram)&&(o?a.M():a.oj(e)),_u(this,t,e),t},ot.Lc=function(t,e,o){if(!o&&e.layer!==this&&null!==e.layer)return e.layer.Lc(t,e,o);var a=this.Fa;if(0>t||t>=a.length){if(0>(t=a.indexOf(e)))return-1}else if(a.J(t)!==e&&0>(t=a.indexOf(e)))return-1;return e.Nq(o),a.cb(t),null!==(a=this.diagram)&&(o?a.M():a.Lc(e)),e.Fi=null,t},W.Object.defineProperties(xs.prototype,{parts:{get:function(){return this.Fa.iterator}},partsBackwards:{get:function(){return this.Fa.iteratorBackwards}},diagram:{get:function(){return this.B}},name:{get:function(){return this.oa},set:function(t){var e=this.oa;if(e!==t){var o=this.diagram;if(null!==o)for(""===e&&V("Cannot rename default Layer to: "+t),o=o.layers;o.next();)o.value.name===t&&V("Layer.name is already present in this diagram: "+t);for(this.oa=t,this.g("name",e,t),t=this.Fa.iterator;t.next();)t.value.layerName=this.oa}}},opacity:{get:function(){return this.hb},set:function(t){var e=this.hb;e!==t&&((0>t||1<t)&&et(t,"0 <= value <= 1",xs,"opacity"),this.hb=t,this.g("opacity",e,t),null!==(t=this.diagram)&&t.M())}},isTemporary:{get:function(){return this.u},set:function(t){var e=this.u;e!==t&&(this.u=t,this.isInDocumentBounds=!1,this.g("isTemporary",e,t))}},visible:{get:function(){return this.I},set:function(t){var e=this.I;if(e!==t){for(this.I=t,this.g("visible",e,t),e=this.Fa.iterator;e.next();)e.value.Ob(t);null!==(t=this.diagram)&&t.M()}}},pickable:{get:function(){return this.Pi},set:function(t){var e=this.Pi;e!==t&&(this.Pi=t,this.g("pickable",e,t))}},isInDocumentBounds:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t,null!==this.diagram&&this.diagram.Na())}},allowCopy:{get:function(){return this.$h},set:function(t){var e=this.$h;e!==t&&(this.$h=t,this.g("allowCopy",e,t))}},allowDelete:{get:function(){return this.ai},set:function(t){var e=this.ai;e!==t&&(this.ai=t,this.g("allowDelete",e,t))}},allowTextEdit:{get:function(){return this.ji},set:function(t){var e=this.ji;e!==t&&(this.ji=t,this.g("allowTextEdit",e,t))}},allowGroup:{get:function(){return this.bi},set:function(t){var e=this.bi;e!==t&&(this.bi=t,this.g("allowGroup",e,t))}},allowUngroup:{get:function(){return this.ki},set:function(t){var e=this.ki;e!==t&&(this.ki=t,this.g("allowUngroup",e,t))}},allowLink:{get:function(){return this.ci},set:function(t){var e=this.ci;e!==t&&(this.ci=t,this.g("allowLink",e,t))}},allowRelink:{get:function(){return this.ei},set:function(t){var e=this.ei;e!==t&&(this.ei=t,this.g("allowRelink",e,t))}},allowMove:{get:function(){return this.di},set:function(t){var e=this.di;e!==t&&(this.di=t,this.g("allowMove",e,t))}},allowReshape:{get:function(){return this.fi},set:function(t){var e=this.fi;e!==t&&(this.fi=t,this.g("allowReshape",e,t))}},allowResize:{get:function(){return this.gi},set:function(t){var e=this.gi;e!==t&&(this.gi=t,this.g("allowResize",e,t))}},allowRotate:{get:function(){return this.hi},set:function(t){var e=this.hi;e!==t&&(this.hi=t,this.g("allowRotate",e,t))}},allowSelect:{get:function(){return this.ii},set:function(t){var e=this.ii;e!==t&&(this.ii=t,this.g("allowSelect",e,t))}}}),xs.prototype.findObjectsNear=xs.prototype.Eg,xs.prototype.findObjectsIn=xs.prototype.zf,xs.prototype.findObjectsAt=xs.prototype.hj,xs.prototype.findObjectAt=xs.prototype.Vb,xs.className="Layer",ke.prototype.clear=function(){this.animationManager.Bc(),this.model.clear(),Ch=null,ca="",fb(this,!1),this.Wl.clear(),Ju(),this.pg.clear(),this.Na(),this.Ta(),this.M()},ke.prototype.reset=function(){this.clear(),this.Sb=!0,this.Uc=new Ns,this.Uc.ee(this),this.rb=17,this.Gl=this.pv=!1,this.Ss="default",this.Ma=new Vt,this.Kx=new vt,this.hf=null,this.xw(),this.Nj=null,this.ww(),this.hb=1,this.la=new at(NaN,NaN).freeze(),this.Ts=new at(NaN,NaN),this.Qn=this.Aa=1,this.es=new at(NaN,NaN).freeze(),this.fs=NaN,this.xs=1e-4,this.vs=100,this.sb=new cn,this.xt=new at(NaN,NaN).freeze(),this.Zr=new te(NaN,NaN,NaN,NaN).freeze(),this.Si=new nn(0,0,0,0).freeze(),this.Ti=nu,this.at=!1,this.Us=this.Ns=null,this.Og=Fs,this.Dj=Os,this.Yf=Fs,this.to=Os,this.gs=this.ds=ar,this.Dc=!0,this.El=!1,this.wd=new Ht,this.Vg=new vt,this.rl=!0,this.qn=250,this.Bj=-1,this.sn=new nn(16,16,16,16).freeze(),this.Hj=this.Ee=!1,this.Kj=!0,this.Wf=new Cs,this.Wf.diagram=this,this.od=new Cs,this.od.diagram=this,this.hh=new Cs,this.hh.diagram=this,this.we=this.Of=null,this.hk=!1,this.Pr=this.Qr=null,this.zj=N.PointerEvent&&(d||k||nt)&&N.navigator&&!1!==N.navigator.msPointerEnabled,hm(this),this.Dh=new Ht,this.qs=!0,this.rt=uo,this.Uu=!1,this.tt=a0,this.Jr=this.Mr=this.pt=null,this.Pn=this.Hr="auto",this.gg=this.As=this.ig=this.jg=this.lg=this.Qf=this.Uf=this.Pf=null,this.cs=!1,this.Rf=this.wg=this.kg=this.hg=null,this.Bs=!1,this.Ls={},this.bk=[null,null],this.Br=null,this.Nr=this.gt=this.rv=this.vg=!1,this.av=!0,this.yi=this.ac=!1,this.zv=!0,this.Xd=-2,this.pg=new vt,this.Wl=new Vt,this.$f=!1,this.ai=this.$h=this.nr=this.md=!0,this.pr=!1,this.vr=this.tr=this.ii=this.hi=this.gi=this.fi=this.di=this.ei=this.ci=this.sr=this.ki=this.bi=this.ji=this.qr=!0,this.Zf=this.Xu=!1,this.ur=this.rr=this.wl=this.vl=!0,this.$s=this.Ws=16,this.Vs=this.Op=!1,this.Xs=this.Zs=0,this.ib=new nn(5).freeze(),this.qv=(new Ht).freeze(),this.ws=999999999,this.Su=(new Ht).freeze(),this.xi=this.wi=this.vi=!0,this.Ye=this.pe=!1,this.kc=null,this.Ng=!0,this.qe=!1,this.Ax=new Ht,this.Tu=new Ht,this.Gc=null,this.Vl=1,this.sv=0,this.Ic={scale:1,position:new at,bounds:new te,Gv:new He,kw:new He,hw:!1},this.Rx=new te(NaN,NaN,NaN,NaN).freeze(),this.sm=new He(NaN,NaN).freeze(),this.Rn=new te(NaN,NaN,NaN,NaN).freeze(),this.rs=!1,this.Lo=this.qo=this.kp=this.Fu=this.Eu=this.Gu=this.bg=this.fh=this.df=null,Yd(this),this.Ib=null,this.po=!1,this.Ej=null,this.partManager=new zn,this.toolManager=new zr,this.toolManager.initializeStandardTools(),this.currentTool=this.defaultTool=this.toolManager,this.Sr=null,this.kl=new h0,this.Gs=this.Fs=null,this.fq=!1,this.commandHandler=Zp(),this.vg=!0,Wf(this),this.layout=new Ln,this.vg=!1,this.model=Xx(),this.model.undoManager=new to,this.qe=!1,this.Kj=!0,this.Ee=!1,this.Tb=1,this.yh=null,this.Xo=1,this.cp=0,this.hv=[0,0,0,0,0],this.ep=0,this.xd=1,this.Sj=0,this.Go=new at,this.qt=500,this.rn=new at,this.gq=this.wo=this.re=!1,this.ao=null,this.bo=En,this.Sb=!1,this.M()},ke.prototype.setRTL=function(t){null===(t=void 0===t?this.div:t)&&(t=N.document.body);var e=q("div");e.dir="rtl",e.style.cssText="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll;",e.textContent="A",t.appendChild(e);var o="reverse";0<e.scrollLeft?o="default":(e.scrollLeft=1,0===e.scrollLeft&&(o="negative")),t.removeChild(e),this.Ss=o},ke.prototype.setScrollWidth=function(t){null===(t=void 0===t?this.div:t)&&(t=N.document.body);var e=0;if(ol){var o=sc;e=ky,null===o&&((o=sc=q("p")).style.width="100%",o.style.height="200px",o.style.boxSizing="content-box",(e=ky=q("div")).style.position="absolute",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.boxSizing="content-box",e.appendChild(o)),e.style.overflow="hidden",t.appendChild(e);var a=o.offsetWidth;e.style.overflow="scroll",a===(o=o.offsetWidth)&&(o=e.clientWidth),t.removeChild(e),0!=(e=a-o)||J||(e=11)}this.rb=e,this.pv=!0},ke.prototype.jb=function(t){t.classType===ke&&(this.autoScale=t)},ke.prototype.toString=function(t){void 0===t&&(t=0);var e="";if(this.div&&this.div.id&&(e=this.div.id),e='Diagram "'+e+'"',0>=t)return e;for(var o=this.Ma.iterator;o.next();)e+="\n  "+o.value.toString(t-1);return e},ke.prototype.addEventListener=function(t,e,o,a){t.addEventListener(e,o,{capture:a,passive:!1})},ke.prototype.removeEventListener=function(t,e,o,a){t.removeEventListener(e,o,{capture:a})},ke.prototype.computePixelRatio=function(){return null!==this.yh?this.yh:N.devicePixelRatio||1},ke.prototype.doMouseMove=function(){this.currentTool.doMouseMove()},ke.prototype.doMouseDown=function(){this.currentTool.doMouseDown()},ke.prototype.doMouseUp=function(){this.currentTool.doMouseUp()},ke.prototype.doMouseWheel=function(){this.currentTool.doMouseWheel()},ke.prototype.doKeyDown=function(){this.currentTool.doKeyDown()},ke.prototype.doKeyUp=function(){this.currentTool.doKeyUp()},ke.prototype.doFocus=function(){this.focus()},ke.prototype.focus=function(){if(this.ya)if(this.scrollsPageOnFocus)this.ya.focus();else{var t=N.scrollX||N.pageXOffset,e=N.scrollY||N.pageYOffset;this.ya.focus(),N.scrollTo(t,e)}},ke.prototype.Bz=function(){this.B.R("GainedFocus")},ke.prototype.Az=function(){this.B.R("LostFocus")},ke.prototype.iy=function(t){if(null!==this.ya){this.Op=!0;var e=this.documentBounds,o=this.viewportBounds,a=this.Si,u=e.x-a.left,c=e.y-a.top,g=e.width+a.left+a.right,_=e.height+a.top+a.bottom,A=e.right+a.right;a=e.bottom+a.bottom;var I=o.x;e=o.y;var B=o.width,H=o.height,dt=o.right,bt=o.bottom;o=this.scale;var pt=t.scrollLeft;if(this.Gl)switch(this.Ss){case"negative":pt=pt+t.scrollWidth-t.clientWidth;break;case"reverse":pt=t.scrollWidth-pt-t.clientWidth}var Rt=pt;B<g||H<_?(pt=at.allocAt(this.position.x,this.position.y),this.allowHorizontalScroll&&this.Xs!==Rt&&(pt.x=Rt/o+u,this.Xs=Rt),this.allowVerticalScroll&&this.Zs!==t.scrollTop&&(pt.y=t.scrollTop/o+c,this.Zs=t.scrollTop),this.position=pt,at.free(pt),this.wi=this.Op=!1):(pt=at.alloc(),t.hz&&this.allowHorizontalScroll&&(u<I&&(this.position=pt.h(Rt+u,this.position.y)),A>dt&&(this.position=pt.h(-(this.Ys.scrollWidth-this.va)+Rt-this.va/o+A,this.position.y))),t.iz&&this.allowVerticalScroll&&(c<e&&(this.position=pt.h(this.position.x,t.scrollTop+c)),a>bt&&(this.position=pt.h(this.position.x,-(this.Ys.scrollHeight-this.ua)+t.scrollTop-this.ua/o+a))),at.free(pt),Du(this),this.wi=this.Op=!1,A=(e=this.documentBounds).right,dt=(o=this.viewportBounds).right,a=e.bottom,bt=o.bottom,u=e.x,I=o.x,c=e.y,e=o.y,B>=g&&u>=I&&A<=dt&&(this.Pp.style.width="1px"),H>=_&&c>=e&&a<=bt&&(this.Pp.style.height="1px"))}},ke.prototype.computeBounds=function(){return 0<this.wd.count&&Gs(this),Cu(this)},ke.prototype.computePartsBounds=function(t,e){void 0===e&&(e=!1);var o=null;if(Et(t))for(var a=0;a<t.length;a++){var u=t[a];!e&&u instanceof We||(u.Ta(),null===o?o=u.actualBounds.copy():o.Rc(u.actualBounds))}else for(t=t.iterator;t.next();)a=t.value,!e&&a instanceof We||(a.Ta(),null===o?o=a.actualBounds.copy():o.Rc(a.actualBounds));return null===o?new te(NaN,NaN,0,0):o},ke.prototype.zoomToFit=function(){var t=this.Ti;this.Ti=nu,this.scale=eu(this,Sh),t!==nu&&(As(this,!1),ef(this,this.documentBounds,this.va/this.Aa,this.ua/this.Aa,this.Dj,!1)),this.Ti=t},(ot=ke.prototype).mB=function(t,e){void 0===e&&(e=Sh);var o=t.width,a=t.height;if(!(0===o||0===a||isNaN(o)&&isNaN(a))){var u=1;if(e===Sh||e===pm)if(isNaN(o))u=this.viewportBounds.height*this.scale/a;else if(isNaN(a))u=this.viewportBounds.width*this.scale/o;else{u=this.va;var c=this.ua;u=e===pm?c/a>u/o?(c-(this.pe?this.rb:0))/a:(u-(this.Ye?this.rb:0))/o:Math.min(c/a,u/o)}this.scale=u,this.position=new at(t.x,t.y)}},ot.uz=function(t,e){this.Ta();var o=this.documentBounds,a=this.viewportBounds;this.position=new at(o.x+(t.x*o.width+t.offsetX)-(e.x*a.width-e.offsetX),o.y+(t.y*o.height+t.offsetY)-(e.y*a.height-e.offsetY))},ot.kA=function(t){if(t instanceof Ri){this.ao=t;var e=at.alloc();this.bo=this.gr(t.da(ar,e)),at.free(e)}else this.ao=null,this.bo=En},ot.zm=function(t,e){if(void 0===e&&(e=!0),e){if((t=$d(this,t,function(o){return o.part},function(o){return o.canSelect()}))instanceof Bt)return t}else if((t=$d(this,t,function(o){return o.part}))instanceof Bt)return t;return null},ot.Vb=function(t,e,o){void 0===e&&(e=null),void 0===o&&(o=null),Gs(this);for(var a=this.Ma.iteratorBackwards;a.next();){var u=a.value;if(u.visible&&null!==(u=u.Vb(t,e,o)))return u}return null},ot.Zz=function(t,e,o){return void 0===e&&(e=!0),function(t,e,o,a,u){for(void 0===o&&(o=null),void 0===a&&(a=null),u instanceof Vt||u instanceof Ht||(u=new Ht),Gs(t),t=t.Ma.iteratorBackwards;t.next();){var c=t.value;c.visible&&!c.isTemporary&&c.hj(e,o,a,u)}return u}(this,t,function(a){return a.part},e?function(a){return a instanceof Bt&&a.canSelect()}:null,o)},ot.hj=function(t,e,o,a){void 0===e&&(e=null),void 0===o&&(o=null),a instanceof Vt||a instanceof Ht||(a=new Ht),Gs(this);for(var u=this.Ma.iteratorBackwards;u.next();){var c=u.value;c.visible&&c.hj(t,e,o,a)}return a},ot.ty=function(t,e,o,a){return void 0===e&&(e=!1),void 0===o&&(o=!0),function(t,e,o,a,u){var c=null;for(void 0===c&&(c=null),void 0===o&&(o=null),void 0===a&&(a=!1),u instanceof Vt||u instanceof Ht||(u=new Ht),Gs(t),t=t.Ma.iteratorBackwards;t.next();){var g=t.value;g.visible&&!g.isTemporary&&g.zf(e,c,o,a,u)}return u}(this,t,function(u){return u instanceof Bt&&(!o||u.canSelect())},e,a)},ot.zf=function(t,e,o,a,u){void 0===e&&(e=null),void 0===o&&(o=null),void 0===a&&(a=!1),u instanceof Vt||u instanceof Ht||(u=new Ht),Gs(this);for(var c=this.Ma.iteratorBackwards;c.next();){var g=c.value;g.visible&&g.zf(t,e,o,a,u)}return u},ot.Vv=function(t,e,o,a,u,c){var g=new Ht;Gs(this);for(var _=this.Ma.iteratorBackwards;_.next();){var A=_.value;A.visible&&A.Vv(t,e,o,a,g,u,c)}return g},ot.$z=function(t,e,o,a,u){return void 0===o&&(o=!0),void 0===a&&(a=!0),function(t,e,o,a,u,c){var g=null;for(void 0===g&&(g=null),void 0===a&&(a=null),void 0===u&&(u=!0),!1!==u&&!0!==u&&((u instanceof Vt||u instanceof Ht)&&(c=u),u=!0),c instanceof Vt||c instanceof Ht||(c=new Ht),Gs(t),t=t.Ma.iteratorBackwards;t.next();){var _=t.value;_.visible&&!_.isTemporary&&_.Eg(e,o,g,a,u,c)}return c}(this,t,e,function(c){return c instanceof Bt&&(!a||c.canSelect())},o,u)},ot.Eg=function(t,e,o,a,u,c){void 0===o&&(o=null),void 0===a&&(a=null),void 0===u&&(u=!0),!1!==u&&!0!==u&&((u instanceof Vt||u instanceof Ht)&&(c=u),u=!0),c instanceof Vt||c instanceof Ht||(c=new Ht),Gs(this);for(var g=this.Ma.iteratorBackwards;g.next();){var _=g.value;_.visible&&_.Eg(t,e,o,a,u,c)}return c},ke.prototype.acceptEvent=function(t){return iu(this,t,t instanceof MouseEvent)},ke.prototype.BA=function(t){var e=this.B;if(!this.B.isEnabled)return!1;var o=iu(e,t,!1);switch(o.key=String.fromCharCode(t.which),o.down=!0,t.which){case 8:o.key="Backspace";break;case 33:o.key="PageUp";break;case 34:o.key="PageDown";break;case 35:o.key="End";break;case 36:o.key="Home";break;case 37:o.key="Left";break;case 38:o.key="Up";break;case 39:o.key="Right";break;case 40:o.key="Down";break;case 45:o.key="Insert";break;case 46:o.key="Del";break;case 48:o.key="0";break;case 187:case 61:case 107:o.key="Add";break;case 189:case 173:case 109:o.key="Subtract";break;case 27:o.key="Esc"}return e.doKeyDown(),rl(o,t)},ke.prototype.CA=function(t){var e=this.B;if(!e.isEnabled)return!1;var o=iu(e,t,!1);switch(o.key=String.fromCharCode(t.which),o.up=!0,t.which){case 8:o.key="Backspace";break;case 33:o.key="PageUp";break;case 34:o.key="PageDown";break;case 35:o.key="End";break;case 36:o.key="Home";break;case 37:o.key="Left";break;case 38:o.key="Up";break;case 39:o.key="Right";break;case 40:o.key="Down";break;case 45:o.key="Insert";break;case 46:o.key="Del"}return e.doKeyUp(),rl(o,t)},ke.prototype.Oz=function(t){var e=this.B;if(!e.isEnabled)return!1;var o=iu(e,t,!0);return null!==e.mouseEnter&&e.mouseEnter(o),rl(o,t)},ke.prototype.Pz=function(t){var e=this.B;if(!e.isEnabled)return!1;var o=iu(e,t,!0);return null!==e.mouseLeave&&e.mouseLeave(o),rl(o,t)},ke.prototype.getMouse=function(t){var e=this.ya;if(null===e)return new at(0,0);var o=e.getBoundingClientRect();return e=t.clientX-this.va/o.width*o.left,t=t.clientY-this.ua/o.height*o.top,null!==this.sb?ve(new at(e,t),this.sb):new at(e,t)},ke.prototype.Na=function(){this.vi||(this.vi=!0,this.Db(!0))},ke.prototype.redraw=function(){this.Sb||this.ac||(this.M(),Yu(this),Du(this),this.Na(),this.hd())},(ot=ke.prototype).AA=function(){return this.Ee},ot.Jz=function(t){void 0===t&&(t=null);var e=this.animationManager,o=e.isEnabled;e.Bc(),e.isEnabled=!1,jo(this),this.qe=!1,this.Ts=new at(NaN,NaN),e.isEnabled=o,this.ac=!0;var a=this;null!==t&&Y(function(){a.ac=!1,io(e,"Model"),t(a)},1)},ot.Db=function(t){if(void 0===t&&(t=!1),!0!==this.Ee&&!(this.Sb||!1===t&&this.ac)){this.Ee=!0;var e=this;N.requestAnimationFrame(function(){e.Ee&&e.hd()})}},ot.hd=function(){(!this.Kj||this.Ee)&&(this.Kj&&(this.Kj=!1),jo(this))},ot.Vw=function(t,e){for(t.reset();t.next();){var o=t.value;!o.Nc()||o instanceof ai||(o.rj()?(o.measure(1/0,1/0),o.arrange()):e.add(o))}for(t.reset();t.next();)(o=t.value)instanceof ai&&o.isVisible()&&t0(this,o);for(t.reset();t.next();)(o=t.value)instanceof We&&o.isVisible()&&(o.rj()?(o.measure(1/0,1/0),o.arrange()):e.add(o));for(t.reset();t.next();)(o=t.value)instanceof si&&o.isVisible()&&(o.rj()?(o.measure(1/0,1/0),o.arrange()):e.add(o))},ot.Nd=function(t,e,o,a){if(this.xi||this.animationManager.isAnimating){void 0===a&&(a=o.viewportBounds);for(var u=0;u<e;u++)t[u].Nd(o,a)}},ot.mc=function(t,e){if(void 0===e&&(e=null),null!==this.Da){null===this.ya&&V("No canvas specified");var o=this.animationManager;if(!o.sc&&(!o.isAnimating||o.isTicking)){var a=new Date;if($f(this),"0"!==this.Da.style.opacity){var u=t!==this.Gb,c=this.Ma.j,g=c.length,_=this;if(this.Nd(c,g,_),u)t.uc(!0),Du(this);else if(!this.Dc&&null===e&&!o.isAnimating)return;g=this.la;var A=this.Aa,I=Math.round(g.x*A)/A,B=Math.round(g.y*A)/A;for((o=this.sb).reset(),1!==A&&o.scale(A),0===g.x&&0===g.y||o.translate(-I,-B),A=this.Tb,t.setTransform(1,0,0,1,0,0),t.scale(A,A),t.clearRect(0,0,this.va,this.ua),1!==this.hb&&(t.globalAlpha=this.hb),Dy(this,t),I=null!==e?function(H){var dt=e;if(H.visible&&0!==H.hb){var bt=H.Fa.j,pt=bt.length;if(0!==pt){var Rt=_h(H,t),Xt=H.rp;Xt.length=0;for(var $t=_.scale,ie=te.alloc(),oe=0;oe<pt;oe++){var ce=bt[oe];dt.contains(ce)||H.dj(t,ce,_,Xt,$t,ie,!0)}te.free(ie),t.globalAlpha=Rt}}}:function(H){H.mc(t,_)},g=c.length,B=0;B<g;B++)t.setTransform(1,0,0,1,0,0),t.scale(A,A),t.transform(o.m11,o.m12,o.m21,o.m22,o.dx,o.dy),I(c[B]);if(c=!1,this.ui?vm(this.ui,this)&&(c=this.Tr()):c=!0,c&&(cn.prototype.Jd=cn.prototype.Zx),u?(this.Gb.uc(!0),Du(this)):this.Dc=this.xi=!1,c=+new Date-+a,a=this.hv,(u=_t&&_t.my)||null===this.yh){for(a[this.ep]=c,this.ep=(this.ep+1)%a.length,o=c=0;o<a.length;o++)c+=a[o];this.cp=c/a.length}if(1!==this.hb&&(t.globalAlpha=1),u)for(t.setTransform(1,0,0,1,0,0),u=0;u<a.length;u++)t.fillText(a[u].toString(),20,150+20*u)}}}},ot.Ke=function(t){return this.hf[t]},ot.Ty=function(t,e){"minDrawingLength"===t&&(this.Xo=e),this.hf[t]=e,this.redraw()},ot.xw=function(){this.hf=new It,this.hf.drawShadows=!0,this.hf.textGreeking=!0,this.hf.viewportOptimizations=!(J||d||k),this.hf.temporaryPixelRatio=!0,this.hf.pictureRatioOptimization=!0,this.Xo=this.hf.minDrawingLength=1},ot.Bm=function(t){return this.Nj[t]},ot.aB=function(t,e){this.Nj[t]=e},ot.ww=function(){this.Nj=new It,this.Nj.extraTouchArea=10,this.Nj.extraTouchThreshold=10,this.Nj.hasGestureZoom=!0},ot.Fw=function(t){am(this,t)},ot.Hv=function(){if(0===this.undoManager.transactionLevel&&0!==this.Vg.count){for(;0<this.Vg.count;){var t=this.Vg;for(this.Vg=new vt,t=t.iterator;t.next();){var e=t.key;e.Oq(t.value),e.dc()}}this.M()}},ot.M=function(t){if(void 0===t&&(t=null),null===t)this.Dc=!0,this.Db();else{var e=this.viewportBounds;null!==t&&t.o()&&e.Mc(t)&&(this.Dc=!0,this.Db())}this.R("InvalidateDraw")},ke.prototype.invalidateViewport=function(t,e){if(!0!==this.Dc){this.Dc=!0;var o=!0===this.Ke("temporaryPixelRatio");if(!0===this.Ke("viewportOptimizations")&&this.scrollMode!==qf&&this.Si.fj(0,0,0,0)&&e.width===t.width&&e.height===t.height){var a=this.scale,u=Math.max(t.x,e.x),c=Math.max(t.y,e.y);if(a=te.allocAt(u,c,Math.max(0,Math.min(t.x+t.width,e.x+e.width)-u)*a,Math.max(0,Math.min(t.y+t.height,e.y+e.height)-c)*a),!this.gq&&0<a.width&&0<a.height){if(!(this.ac||(this.Ee=!1,null===this.Da||(this.ac=!0,this.Hv(),this.documentBounds.o()||um(this,this.computeBounds()),u=this.ya,null===u||u instanceof bl)))){var g=this.Tb;c=this.va*g;var _=this.ua*g,A=this.scale*g,I=Math.round(Math.round(e.x*A)-Math.round(t.x*A));e=Math.round(Math.round(e.y*A)-Math.round(t.y*A)),t=this.ux,(A=this.Ju).width!==c&&(A.width=c),A.height!==_&&(A.height=_),t.clearRect(0,0,c,_),A=190*g;var B=70*g,H=Math.max(I,0),dt=Math.max(e,0),bt=Math.floor(c-H),pt=Math.floor(_-dt);t.drawImage(u.Ja,H,dt,bt,pt,0,0,bt,pt),vm(this.ui,this)&&t.clearRect(0,0,A,B),u=h(),t=h(),pt=Math.abs(I),bt=Math.abs(e);var Rt=0===H?0:c-pt;H=at.allocAt(Rt,0),pt=at.allocAt(pt+Rt,_),t.push(new te(Math.min(H.x,pt.x),Math.min(H.y,pt.y),Math.abs(H.x-pt.x),Math.abs(H.y-pt.y)));var Xt=this.sb;if(Xt.reset(),Xt.scale(g,g),1!==this.Aa&&Xt.scale(this.Aa),(0!==(g=this.la).x||0!==g.y)&&isFinite(g.x)&&isFinite(g.y)&&Xt.translate(-g.x,-g.y),ve(H,Xt),ve(pt,Xt),u.push(new te(Math.min(H.x,pt.x),Math.min(H.y,pt.y),Math.abs(H.x-pt.x),Math.abs(H.y-pt.y))),H.h(0,Rt=0===dt?0:_-bt),pt.h(c,bt+Rt),t.push(new te(Math.min(H.x,pt.x),Math.min(H.y,pt.y),Math.abs(H.x-pt.x),Math.abs(H.y-pt.y))),ve(H,Xt),ve(pt,Xt),u.push(new te(Math.min(H.x,pt.x),Math.min(H.y,pt.y),Math.abs(H.x-pt.x),Math.abs(H.y-pt.y))),vm(this.ui,this)&&(H.h(c=0<I?0:-I,_=0<e?0:-e),pt.h(A+c,B+_),t.push(new te(Math.min(H.x,pt.x),Math.min(H.y,pt.y),Math.abs(H.x-pt.x),Math.abs(H.y-pt.y))),ve(H,Xt),ve(pt,Xt),u.push(new te(Math.min(H.x,pt.x),Math.min(H.y,pt.y),Math.abs(H.x-pt.x),Math.abs(H.y-pt.y)))),at.free(H),at.free(pt),Su(this,!1,!0),null===this.Da&&V("No div specified"),null===this.ya&&V("No canvas specified"),!this.animationManager.sc&&(c=this.Gb,this.Dc)){for($f(this),_=this.Tb,c.setTransform(1,0,0,1,0,0),c.clearRect(0,0,this.va*_,this.ua*_),c.drawImage(this.Ju.Ja,0<I?0:Math.round(-I),0<e?0:Math.round(-e)),I=this.la,g=this.Aa,A=Math.round(I.x*g)/g,B=Math.round(I.y*g)/g,(e=this.sb).reset(),1!==g&&e.scale(g),0===I.x&&0===I.y||e.translate(-A,-B),c.save(),c.beginPath(),I=t.length,g=0;g<I;g++)0!==(A=t[g]).width&&0!==A.height&&c.rect(Math.floor(A.x),Math.floor(A.y),Math.ceil(A.width),Math.ceil(A.height));for(c.clip(),c.setTransform(1,0,0,1,0,0),c.scale(_,_),c.transform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy),this.Nd(e=this.Ma.j,I=e.length,this),Dy(this,c),c.globalAlpha=this.hb,_=0;_<I;_++)if(A=u,(g=e[_]).visible&&0!==g.hb){B=_h(g,c),(dt=g.rp).length=0,H=this.scale,bt=te.alloc(),Xt=(pt=g.Fa.j).length,Rt=A.length;for(var $t=0;$t<Xt;$t++){var ie=pt[$t],oe=xe(ie,ie.actualBounds);t:{for(var ce=2/H,_e=4/H,Je=0;Je<Rt;Je++){var Si=A[Je];if(0!==Si.width&&0!==Si.height&&oe.cw(Si.x-ce,Si.y-ce,Si.width+_e,Si.height+_e)){oe=!0;break t}}oe=!1}oe&&g.dj(c,ie,this,dt,H,bt,!0)}te.free(bt),c.globalAlpha=B}c.restore(),c.uc(!0),this.ui&&vm(this.ui,this)&&this.Tr(),this.Dc=this.xi=!1,this.Yq()}m(u),m(t),this.ac=!1}}else this.hd();te.free(a),o&&(Ho(this),this.hd(),Mu(this,!0))}else o?(Ho(this),this.hd(),Mu(this,!0)):this.hd()}},(ot=ke.prototype).add=function(t){var e=t.diagram;if(e!==this&&(null!==e&&V("Cannot add part "+t.toString()+" to "+this.toString()+". It is already a part of "+e.toString()),null===(e=this.xk(t.layerName))&&(e=this.xk("")),null===e&&V('Cannot add a Part when unable find a Layer named "'+t.layerName+'" and there is no default Layer'),t.layer!==e)){var o=e.oj(99999999,t,t.diagram===this);0<=o&&this.Va(Io,"parts",e,null,t,null,o),e.isTemporary||this.Na(),t.C(1),null!==(o=t.layerChanged)&&o(t,null,e)}},ot.oj=function(t){this.partManager.oj(t);var e=this;Ih(t,function(o){Xg(e,o)}),(t instanceof si||t instanceof ai&&null!==t.placeholder)&&t.s(),null!==t.data&&Ih(t,function(o){Ib(e.partManager,o)}),!0!==Wa(t)&&!0!==ze(t)||this.wd.add(t),De(t,!0,this),xi(t)?(t.actualBounds.o()&&this.M(xe(t,t.actualBounds)),this.Na()):t.isVisible()&&t.actualBounds.o()&&this.M(xe(t,t.actualBounds)),this.Db()},ot.Lc=function(t){t.nk(),this.partManager.Lc(t);var e=this;null!==t.data&&Ih(t,function(o){jx(e.partManager,o,e)}),this.wd.remove(t),xi(t)?(t.actualBounds.o()&&this.M(xe(t,t.actualBounds)),this.Na()):t.isVisible()&&t.actualBounds.o()&&this.M(xe(t,t.actualBounds)),this.Db()},ot.remove=function(t){Yg(this,t,!0)},ot.gu=function(t,e){if(void 0===e&&(e=!1),Et(t))for(var o=t.length,a=0;a<o;a++){var u=t[a];e&&!u.canDelete()||this.remove(u)}else for((o=new Ht).addAll(t),t=o.iterator;t.next();)o=t.value,e&&!o.canDelete()||this.remove(o)},ot.tk=function(t,e,o){return void 0===o&&(o=!1),this.partManager.tk(t,e,o)},ke.prototype.moveParts=function(t,e,o,a){if(void 0===o&&(o=!1),void 0===a&&(a=$g(this)),null!==this.toolManager){var u=new vt;if(null!==t)if(Et(t))for(var c=0;c<t.length;c++)Js(this,u,t[c],o,a);else for(t=t.iterator;t.next();)Js(this,u,t.value,o,a);else{for(t=this.parts;t.next();)Js(this,u,t.value,o,a);for(t=this.nodes;t.next();)Js(this,u,t.value,o,a);for(t=this.links;t.next();)Js(this,u,t.value,o,a)}nc(this,u,e,a,o)}},ke.prototype.computeMove=function(t,e,o,a){if(void 0===a&&(a=new at),a.assign(e),null===t)return a;var u=e,c=o.isGridSnapEnabled;c&&(o.isGridSnapRealtime||this.lastInput.up)&&Ey(this,t,e,u=at.alloc(),o),o=null!==t.dragComputation?t.dragComputation(t,e,u):u;var g=t.minLocation,_=g.x;isNaN(_)&&(_=c?Math.round(1e3*t.location.x)/1e3:t.location.x),g=g.y,isNaN(g)&&(g=c?Math.round(1e3*t.location.y)/1e3:t.location.y);var A=t.maxLocation,I=A.x;return isNaN(I)&&(I=c?Math.round(1e3*t.location.x)/1e3:t.location.x),A=A.y,isNaN(A)&&(A=c?Math.round(1e3*t.location.y)/1e3:t.location.y),a.h(Math.max(_,Math.min(o.x,I)),Math.max(g,Math.min(o.y,A))),u!==e&&at.free(u),a},(ot=ke.prototype).Cd=function(t,e,o){if(void 0===o)return new af(ei);var a=t.isGridSnapEnabled;return t.groupsSnapMembers||null===e.containingGroup||(a=!1),new af(a?new at(Math.round(1e3*o.x)/1e3,Math.round(1e3*o.y)/1e3):o.copy())},ot.um=function(t){e0(this,t,null),t.ee(this);var e=this.Ma,o=e.count-1;if(!t.isTemporary)for(;0<=o&&e.J(o).isTemporary;)o--;e.wb(o+1,t),null!==this.cc&&this.Va(Io,"layers",this,null,t,null,o+1),this.M(),this.Na()},ot.Ux=function(t,e){e0(this,t,e),t.ee(this);var o=this.Ma,a=o.indexOf(t);0<=a&&(o.remove(t),null!==this.cc&&this.Va(fn,"layers",this,t,null,a,null));var c,u=o.count;for(c=0;c<u;c++)if(o.J(c)===e){o.wb(c,t);break}null!==this.cc&&this.Va(Io,"layers",this,null,t,null,c),this.M(),0>a&&this.Na()},ot.nz=function(t,e){e0(this,t,e),t.ee(this);var o=this.Ma,a=o.indexOf(t);0<=a&&(o.remove(t),null!==this.cc&&this.Va(fn,"layers",this,t,null,a,null));var c,u=o.count;for(c=0;c<u;c++)if(o.J(c)===e){o.wb(c+1,t);break}null!==this.cc&&this.Va(Io,"layers",this,null,t,null,c+1),this.M(),0>a&&this.Na()},ot.TA=function(t){if(t.diagram!==this&&V("Cannot remove a Layer from another Diagram: "+t+" of "+t.diagram),""!==t.name){var e=this.Ma,o=e.indexOf(t);if(e.remove(t)){for(e=t.Fa.copy().iterator;e.next();){var a=e.value,u=a.layerName;a.layerName=u!==t.name?u:""}null!==this.cc&&this.Va(fn,"layers",this,t,null,o,null),this.M(),this.Na()}}},ot.xk=function(t){for(var e=this.layers;e.next();){var o=e.value;if(o.name===t)return o}return null},ot.Wx=function(t){null===this.we&&(this.we=new Vt),this.we.add(t),this.model.Hh(t)},ot.VA=function(t){null!==this.we&&(this.we.remove(t),0===this.we.count&&(this.we=null)),this.model.Tk(t)},ot.Hh=function(t){null===this.Of&&(this.Of=new Vt),this.Of.add(t)},ot.Tk=function(t){null!==this.Of&&(this.Of.remove(t),0===this.Of.count&&(this.Of=null))},ot.zt=function(t){if(this.skipsUndoManager||this.model.skipsUndoManager||this.model.undoManager.aw(t),t.change!==Ss&&(this.isModified=!0),null!==this.Of)for(var e=this.Of,o=e.length,a=0;a<o;a++)e.J(a)(t)},ot.Va=function(t,e,o,a,u,c,g){void 0===c&&(c=null),void 0===g&&(g=null);var _=new jr;_.diagram=this,_.change=t,_.propertyName=e,_.object=o,_.oldValue=a,_.oldParam=c,_.newValue=u,_.newParam=g,this.zt(_)},ot.g=function(t,e,o,a,u){this.Va(_r,t,this,e,o,a,u)},ke.prototype.changeState=function(t,e){if(null!==t&&t.diagram===this){var o=this.skipsModelSourceBindings;try{this.skipsModelSourceBindings=!0;var a=t.change;if(a===_r){var u=t.object;if(Tr(u,t.propertyName,t.G(e)),u instanceof Ri){var c=u.part;null!==c&&c.Lb()}this.isModified=!0}else if(a===Io){var g=t.object,_=t.newParam,A=t.newValue;if(g instanceof Ke)if("number"==typeof _&&A instanceof Ri){e?g.Lc(_):g.wb(_,A);var I=g.part;null!==I&&I.Lb()}else"number"==typeof _&&A instanceof _o&&(A.isRow?Cx(g,_,e?void 0:A):Sx(g,_,e?void 0:A));else if(g instanceof xs){var B=!0===t.oldParam;"number"==typeof _&&A instanceof Bt&&(e?(A.isSelected=!1,A.isHighlighted=!1,A.Lb(),g.Lc(B?_:-1,A,B)):g.oj(_,A,B))}else g instanceof ke?"number"==typeof _&&A instanceof xs&&(e?this.Ma.cb(_):(A.ee(this),this.Ma.wb(_,A))):V("unknown ChangedEvent.Insert object: "+t.toString());this.isModified=!0}else if(a===fn){var H=t.object,dt=t.oldParam,bt=t.oldValue;if(H instanceof Ke)"number"==typeof dt&&bt instanceof Ri?e?H.wb(dt,bt):H.Lc(dt):"number"==typeof dt&&bt instanceof _o&&(bt.isRow?Cx(H,dt,e?bt:void 0):Sx(H,dt,e?bt:void 0));else if(H instanceof xs){var pt=!0===t.newParam;"number"==typeof dt&&bt instanceof Bt&&(e?0>H.Fa.indexOf(bt)&&H.oj(dt,bt,pt):(bt.isSelected=!1,bt.isHighlighted=!1,bt.Lb(),H.Lc(pt?dt:-1,bt,pt)))}else H instanceof ke?"number"==typeof dt&&bt instanceof xs&&(e?(bt.ee(this),this.Ma.wb(dt,bt)):this.Ma.cb(dt)):V("unknown ChangedEvent.Remove object: "+t.toString());this.isModified=!0}else a!==Ss&&V("unknown ChangedEvent: "+t.toString())}finally{this.skipsModelSourceBindings=o}}},ke.prototype.xa=function(t){return this.undoManager.xa(t)},ke.prototype.Xa=function(t){return this.undoManager.Xa(t)},ke.prototype.If=function(){return this.undoManager.If()},ke.prototype.commit=function(t,e){void 0===e&&(e="");var o=this.skipsUndoManager;null===e&&(this.skipsUndoManager=!0,e=""),this.undoManager.xa(e);var a=!1;try{t(this),a=!0}finally{a?this.undoManager.Xa(e):this.undoManager.If(),this.skipsUndoManager=o}},ke.prototype.updateAllTargetBindings=function(t){this.partManager.updateAllTargetBindings(t)},ke.prototype.ir=function(){this.partManager.ir()},ke.prototype.onViewportBoundsChanged=function(t,e,o,a){if(!t.w(e)){void 0===a&&(a=!1),a||Yu(this),Du(this);var u=this.layout;null===u||!u.isViewportSized||this.autoScale!==Fs||a||t.width===e.width&&t.height===e.height||u.C(),u=this.currentTool,!0===this.Zf&&u instanceof zr&&(this.lastInput.documentPoint=this.ou(this.lastInput.viewPoint),xy(u,this)),this.Sb||this.invalidateViewport(t,e),rc(this),this.Ic.scale=o,this.Ic.position.x=t.x,this.Ic.position.y=t.y,this.Ic.bounds.assign(t),this.Ic.Gv.width=Math.round(t.width*o),this.Ic.Gv.height=Math.round(t.height*o),this.Ic.kw.width=this.va,this.Ic.kw.height=this.ua,this.Ic.hw=a,this.R("ViewportBoundsChanged",this.Ic,t),this.isVirtualized&&this.links.each(function(c){c.isAvoiding&&c.actualBounds.Mc(e)&&c.Ua()})}},ke.prototype.clearSelection=function(t){void 0===t&&(t=!1);var e=this.selection;if(0!==e.count){t||this.R("ChangingSelection",e);for(var o=e.ma(),a=o.length,u=0;u<a;u++)o[u].isSelected=!1;e.ea(),e.clear(),e.freeze(),t||this.R("ChangedSelection",e)}},ke.prototype.select=function(t){null!==t&&t.layer.diagram===this&&(!t.isSelected||1<this.selection.count)&&(this.R("ChangingSelection",this.selection),this.clearSelection(!0),t.isSelected=!0,this.R("ChangedSelection",this.selection))},ke.prototype.$A=function(t){if(this.R("ChangingSelection",this.selection),this.clearSelection(!0),Et(t))for(var e=t.length,o=0;o<e;o++){var a=t[o];a instanceof Bt||V("Diagram.selectCollection given something that is not a Part: "+a),a.isSelected=!0}else for(t=t.iterator;t.next();)(e=t.value)instanceof Bt||V("Diagram.selectCollection given something that is not a Part: "+e),e.isSelected=!0;this.R("ChangedSelection",this.selection)},ke.prototype.clearHighlighteds=function(){var t=this.highlighteds;if(0<t.count){for(var e=t.ma(),o=e.length,a=0;a<o;a++)e[a].isHighlighted=!1;t.ea(),t.clear(),t.freeze()}},(ot=ke.prototype).uA=function(t){null!==t&&t.layer.diagram===this&&(!t.isHighlighted||1<this.highlighteds.count)&&(this.clearHighlighteds(),t.isHighlighted=!0)},ot.vA=function(t){t=(new Ht).addAll(t);for(var e=this.highlighteds.copy().Zq(t).iterator;e.next();)e.value.isHighlighted=!1;for(t=t.iterator;t.next();)(e=t.value)instanceof Bt||V("Diagram.highlightCollection given something that is not a Part: "+e),e.isHighlighted=!0},ot.scroll=function(t,e,o){void 0===o&&(o=1);var a="up"===e||"down"===e,u=0;if("pixel"===t)u=o;else if("line"===t)u=o*(a?this.scrollVerticalLineChange:this.scrollHorizontalLineChange);else if("page"===t)t=a?this.viewportBounds.height:this.viewportBounds.width,0!=(t*=this.scale)&&(u=o*Math.max(t-(a?this.scrollVerticalLineChange:this.scrollHorizontalLineChange),0));else{if("document"===t)return u=this.documentBounds,o=this.viewportBounds,a=at.alloc(),"up"===e?this.position=a.h(o.x,u.y):"left"===e?this.position=a.h(u.x,o.y):"down"===e?this.position=a.h(o.x,u.bottom-o.height):"right"===e&&(this.position=a.h(u.right-o.width,o.y)),void at.free(a);V("scrolling unit must be 'pixel', 'line', 'page', or 'document', not: "+t)}u/=this.scale,o=this.position.copy(),"up"===e?o.y=this.position.y-u:"down"===e?o.y=this.position.y+u:"left"===e?o.x=this.position.x-u:"right"===e?o.x=this.position.x+u:V("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+e),this.position=o},ot.Aw=function(t){var e=this.viewportBounds;e.Ge(t)||((t=t.center).x-=e.width/2,t.y-=e.height/2,this.position=t)},ot.At=function(t){var e=this.viewportBounds;(t=t.center).x-=e.width/2,t.y-=e.height/2,this.position=t},ot.gr=function(t){var e=this.sb;e.reset(),1!==this.Aa&&e.scale(this.Aa);var o=this.la;return(0!==o.x||0!==o.y)&&isFinite(o.x)&&isFinite(o.y)&&e.translate(-o.x,-o.y),t.copy().transform(this.sb)},ot.iB=function(t){var e=this.sb,o=t.x,a=t.y,u=o+t.width,c=a+t.height,g=e.m11,_=e.m12,A=e.m21,I=e.m22,B=e.dx,H=e.dy,dt=o*g+a*A+B;e=o*_+a*I+H;var bt=u*g+a*A+B;return t=u*_+a*I+H,a=o*g+c*A+B,o=o*_+c*I+H,g=u*g+c*A+B,u=u*_+c*I+H,c=Math.min(dt,bt),dt=Math.max(dt,bt),bt=Math.min(e,t),e=Math.max(e,t),c=Math.min(c,a),dt=Math.max(dt,a),bt=Math.min(bt,o),e=Math.max(e,o),c=Math.min(c,g),dt=Math.max(dt,g),new te(c,bt=Math.min(bt,u),dt-c,(e=Math.max(e,u))-bt)},ot.ou=function(t){var e=this.sb;e.reset(),1!==this.Aa&&e.scale(this.Aa);var o=this.la;return(0!==o.x||0!==o.y)&&isFinite(o.x)&&isFinite(o.y)&&e.translate(-o.x,-o.y),ve(t.copy(),this.sb)},ke.prototype.doModelChanged=function(t){var e=this;if(t.model===this.model){var o=t.change,a=t.propertyName;if(o===Ss&&"S"===a[0])if("StartingFirstTransaction"===a){var u=this;(t=this.toolManager).mouseDownTools.each(function(A){A.diagram=u}),t.mouseMoveTools.each(function(A){A.diagram=u}),t.mouseUpTools.each(function(A){A.diagram=u}),this.ac||this.qe||(this.Hj=!0,this.Kj&&(this.Ee=!0))}else"StartingUndo"===a||"StartingRedo"===a?((t=this.animationManager).defaultAnimation.isAnimating&&!this.skipsUndoManager&&t.Bc(),this.R("ChangingSelection",this.selection)):"StartedTransaction"===a&&(t=this.animationManager).defaultAnimation.isAnimating&&!this.skipsUndoManager&&t.Bc();else if(this.Z){this.Z=!1;try{if(""===t.modelChange&&o===Ss){("FinishedUndo"===a||"FinishedRedo"===a)&&(this.R("ChangedSelection",this.selection),Gs(this));var c=this.animationManager;"RolledBackTransaction"===a&&c.Bc(),this.Hj=!0,this.hd(),0!==this.undoManager.transactionLevel&&1!==this.undoManager.transactionLevel||kn(c),"CommittedTransaction"===a&&this.undoManager.isJustDiscarded&&(this.Xd=Math.min(this.Xd,this.undoManager.historyIndex-1)),"CommittedTransaction"!==a&&"RolledBackTransaction"!==a||!this.undoManager.isPendingUnmodified||setTimeout(function(){e.isModified=!1},1);var g=t.isTransactionFinished;if(g&&(n0(this),this.Yt.clear(),function(t){for(t=t.yj.iterator;t.next();)t.value.Il=!1}(this.animationManager)),!this.Bs&&g&&this.lastInput.targetDiagram){this.Bs=!0;var _=this;Y(function(){_.currentTool.standardMouseOver(),_.Bs=!1},10)}}}finally{this.Z=!0}}}},ke.prototype.Md=function(){this.partManager.Md()},ke.prototype.jk=function(t,e){this.Uc.jk(t,e)},ke.prototype.lk=function(t,e){this.Uc.lk(t,e)},ke.prototype.findPartForKey=function(t){return this.partManager.findPartForKey(t)},ke.prototype.Cb=function(t){return this.partManager.Cb(t)},ke.prototype.findLinkForKey=function(t){return this.partManager.findLinkForKey(t)},(ot=ke.prototype).zc=function(t){return this.partManager.zc(t)},ot.gj=function(t){return this.partManager.gj(t)},ot.yc=function(t){return this.partManager.yc(t)},ot.It=function(t){for(var e=[],o=0;o<arguments.length;++o)e[o]=arguments[o];return this.partManager.It.apply(this.partManager,e instanceof Array?e:Pt(Tt(e)))},ot.Ht=function(t){for(var e=[],o=0;o<arguments.length;++o)e[o]=arguments[o];return this.partManager.Ht.apply(this.partManager,e instanceof Array?e:Pt(Tt(e)))},ot.Ta=function(){this.vi&&um(this,this.computeBounds())},ot.dA=function(){for(var t=new Ht,e=this.nodes;e.next();){var o=e.value;o.isTopLevel&&t.add(o)}for(e=this.links;e.next();)(o=e.value).isTopLevel&&t.add(o);return t.iterator},ot.cA=function(){return this.Dh.iterator},ot.EA=function(t){Gs(this),t&&no(this,!0),this.ac?sf(this,!1):(this.Hj=!0,jo(this))},ot.jA=function(){for(var t=new Vt,e=this.nodes;e.next();){var o=e.value;o.isTopLevel&&null===o.jj()&&t.add(o)}return t.iterator},ot.kk=function(t,e){null!==(t=Zd(this,t))&&t.add(e)},ot.Lm=function(t,e){null!==(t=Zd(this,t))&&t.remove(e)},ot.R=function(t,e,o){var a=Zd(this,t),u=new tc;if(u.diagram=this,null!==(t=pb(this,t))&&(u.name=t),void 0!==e&&(u.subject=e),void 0!==o&&(u.parameter=o),1===(e=a.length))a.J(0)(u);else if(0!==e)for(a=a.ma(),o=0;o<e;o++)(0,a[o])(u)},ot.Ek=function(t,e){return void 0===e&&(e=null),r0(this,!1,null,e).Ek(t.x,t.y,t.width,t.height)},ke.prototype.computeOccupiedArea=function(){return this.isVirtualized?this.viewportBounds.copy():this.vi?Cu(this):this.documentBounds.copy()},ke.prototype.Et=function(t){this.rn.assign(t),this.computeAutoScrollPosition(this.rn).Qa(this.position)?this.Jf():o0(this)},ke.prototype.Jf=function(){-1!==this.Bj&&(N.clearTimeout(this.Bj),this.Bj=-1)},ke.prototype.computeAutoScrollPosition=function(t){var e=this.position,o=this.sn;if(0>=o.top&&0>=o.left&&0>=o.right&&0>=o.bottom)return e;var a=this.viewportBounds,u=this.scale;a=te.allocAt(0,0,a.width*u,a.height*u);var c=at.allocAt(0,0);if(t.x>=a.x&&t.x<a.x+o.left&&this.allowHorizontalScroll){var g=Math.max(this.scrollHorizontalLineChange,1);c.x-=g|=0,t.x<a.x+o.left/2&&(c.x-=g),t.x<a.x+o.left/4&&(c.x-=4*g)}else t.x<=a.x+a.width&&t.x>a.x+a.width-o.right&&this.allowHorizontalScroll&&(g=Math.max(this.scrollHorizontalLineChange,1),c.x+=g|=0,t.x>a.x+a.width-o.right/2&&(c.x+=g),t.x>a.x+a.width-o.right/4&&(c.x+=4*g));return t.y>=a.y&&t.y<a.y+o.top&&this.allowVerticalScroll?(g=Math.max(this.scrollVerticalLineChange,1),c.y-=g|=0,t.y<a.y+o.top/2&&(c.y-=g),t.y<a.y+o.top/4&&(c.y-=4*g)):t.y<=a.y+a.height&&t.y>a.y+a.height-o.bottom&&this.allowVerticalScroll&&(g=Math.max(this.scrollVerticalLineChange,1),c.y+=g|=0,t.y>a.y+a.height-o.bottom/2&&(c.y+=g),t.y>a.y+a.height-o.bottom/4&&(c.y+=4*g)),c.Qa(ei)||(e=new at(e.x+c.x/u,e.y+c.y/u)),te.free(a),at.free(c),e},(ot=ke.prototype).$t=function(){return null},ot.iw=function(){return null},ot.rz=function(t,e){this.Kx.add(t,e)},ot.GA=function(t){return ol?(void 0===t&&(t=new It),t.returnType="Image",this.Hy(t)):null},ot.Hy=function(t){return void 0===t&&(t=new It),oc(this,this.HA,t)},ot.HA=function(t,e,o){var a=fm(o,t,"canvas",null);if(null===a)return null;var u=null;if(null!==(o=a.Y.canvas))switch(u=t.returnType,u=void 0===u?"string":u.toLowerCase(),u){case gm+"data":u=a.getImageData(0,0,o.width,o.height);break;case gm:(a=(t.document||document).createElement("img")).src=o.toDataURL(t.type,t.details),u=a;break;case"blob":return"function"!=typeof e&&V('Error: Diagram.makeImageData called with "returnType: toBlob", but no required "callback" function property defined.'),"function"==typeof o.toBlob?(o.toBlob(e,t.type,t.details),"toBlob"):"function"==typeof o.msToBlob?(e(o.msToBlob()),"msToBlob"):(e(null),null);default:u=o.toDataURL(t.type,t.details)}return"function"==typeof e?(e(u),null):u},W.Object.defineProperties(ke.prototype,{div:{get:function(){return this.Da},set:function(t){if(this.Da!==t){var e=this.Da;null!==e?(e.B=void 0,e.goDiagram=void 0,e.innerHTML="",null!==this.ya&&(e=this.ya.Ja,this.zj?(this.removeEventListener(e,"pointermove",this.Pk,!1),this.removeEventListener(e,"pointerdown",this.Ok,!1),this.removeEventListener(e,"pointerup",this.Rk,!1),this.removeEventListener(e,"pointerout",this.Qk,!1)):(this.removeEventListener(e,"touchstart",this.Ow,!1),this.removeEventListener(e,"touchmove",this.Nw,!1),this.removeEventListener(e,"touchend",this.Mw,!1)),this.ya.ky()),this.Zl&&(this.Zl.disconnect(),this.Zl=null),null!==(e=this.toolManager)&&(e.mouseDownTools.each(function(o){o.cancelWaitAfter()}),e.mouseMoveTools.each(function(o){o.cancelWaitAfter()}),e.mouseUpTools.each(function(o){o.cancelWaitAfter()})),e.cancelWaitAfter(),this.currentTool.doCancel(),this.Gb=this.ya=null,this.removeEventListener(N,"resize",this.Ww,!1),this.zj||(this.removeEventListener(N,"mousemove",this.Ik,!0),this.removeEventListener(N,"mousedown",this.Hk,!0),this.removeEventListener(N,"mouseup",this.Kk,!0),this.removeEventListener(N,"mouseout",this.Jk,!0)),this.removeEventListener(N,"wheel",this.Lk,!0),s0===this&&(s0=null)):this.qe=!1,this.Da=null,null!==t&&((e=t.B)&&(e.div=null),ym(this,t),this.redraw())}}},Yx:{get:function(){return this.cp}},pj:{get:function(){return this.qe}},draggedLink:{get:function(){return this.Sr},set:function(t){this.Sr!==t&&(this.Sr=t,null!==t&&(this.Fs=t.fromPort,this.Gs=t.toPort))}},Ky:{get:function(){return this.Fs},set:function(t){this.Fs=t}},Ly:{get:function(){return this.Gs},set:function(t){this.Gs=t}},animationManager:{get:function(){return this.Uc}},undoManager:{get:function(){return this.cc.undoManager}},skipsUndoManager:{get:function(){return this.vg},set:function(t){this.vg=t,this.cc.skipsUndoManager=t}},delaysLayout:{get:function(){return this.Nr},set:function(t){this.Nr=t}},opacity:{get:function(){return this.hb},set:function(t){var e=this.hb;e!==t&&((0>t||1<t)&&et(t,"0 <= value <= 1",ke,"opacity"),this.hb=t,this.g("opacity",e,t),this.M())}},validCycle:{get:function(){return this.tt},set:function(t){var e=this.tt;e!==t&&(this.tt=t,this.g("validCycle",e,t))}},layers:{get:function(){return this.Ma.iterator}},isModelReadOnly:{get:function(){var t=this.cc;return null!==t&&t.isReadOnly},set:function(t){var e=this.cc;null!==e&&(e.isReadOnly=t)}},isReadOnly:{get:function(){return this.$f},set:function(t){var e=this.$f;e!==t&&(this.$f=t,this.g("isReadOnly",e,t))}},isEnabled:{get:function(){return this.md},set:function(t){var e=this.md;e!==t&&(this.md=t,this.g("isEnabled",e,t))}},allowClipboard:{get:function(){return this.nr},set:function(t){var e=this.nr;e!==t&&(this.nr=t,this.g("allowClipboard",e,t))}},allowCopy:{get:function(){return this.$h},set:function(t){var e=this.$h;e!==t&&(this.$h=t,this.g("allowCopy",e,t))}},allowDelete:{get:function(){return this.ai},set:function(t){var e=this.ai;e!==t&&(this.ai=t,this.g("allowDelete",e,t))}},allowDragOut:{get:function(){return this.pr},set:function(t){var e=this.pr;e!==t&&(this.pr=t,this.g("allowDragOut",e,t))}},allowDrop:{get:function(){return this.qr},set:function(t){var e=this.qr;e!==t&&(this.qr=t,this.g("allowDrop",e,t))}},allowTextEdit:{get:function(){return this.ji},set:function(t){var e=this.ji;e!==t&&(this.ji=t,this.g("allowTextEdit",e,t))}},allowGroup:{get:function(){return this.bi},set:function(t){var e=this.bi;e!==t&&(this.bi=t,this.g("allowGroup",e,t))}},allowUngroup:{get:function(){return this.ki},set:function(t){var e=this.ki;e!==t&&(this.ki=t,this.g("allowUngroup",e,t))}},allowInsert:{get:function(){return this.sr},set:function(t){var e=this.sr;e!==t&&(this.sr=t,this.g("allowInsert",e,t))}},allowLink:{get:function(){return this.ci},set:function(t){var e=this.ci;e!==t&&(this.ci=t,this.g("allowLink",e,t))}},allowRelink:{get:function(){return this.ei},set:function(t){var e=this.ei;e!==t&&(this.ei=t,this.g("allowRelink",e,t))}},allowMove:{get:function(){return this.di},set:function(t){var e=this.di;e!==t&&(this.di=t,this.g("allowMove",e,t))}},allowReshape:{get:function(){return this.fi},set:function(t){var e=this.fi;e!==t&&(this.fi=t,this.g("allowReshape",e,t))}},allowResize:{get:function(){return this.gi},set:function(t){var e=this.gi;e!==t&&(this.gi=t,this.g("allowResize",e,t))}},allowRotate:{get:function(){return this.hi},set:function(t){var e=this.hi;e!==t&&(this.hi=t,this.g("allowRotate",e,t))}},allowSelect:{get:function(){return this.ii},set:function(t){var e=this.ii;e!==t&&(this.ii=t,this.g("allowSelect",e,t))}},allowUndo:{get:function(){return this.tr},set:function(t){var e=this.tr;e!==t&&(this.tr=t,this.g("allowUndo",e,t))}},allowZoom:{get:function(){return this.vr},set:function(t){var e=this.vr;e!==t&&(this.vr=t,this.g("allowZoom",e,t))}},hasVerticalScrollbar:{get:function(){return this.wl},set:function(t){var e=this.wl;e!==t&&(this.wl=t,Yu(this),this.M(),this.g("hasVerticalScrollbar",e,t),As(this,!1))}},hasHorizontalScrollbar:{get:function(){return this.vl},set:function(t){var e=this.vl;e!==t&&(this.vl=t,Yu(this),this.M(),this.g("hasHorizontalScrollbar",e,t),As(this,!1))}},allowHorizontalScroll:{get:function(){return this.rr},set:function(t){var e=this.rr;e!==t&&(this.rr=t,this.g("allowHorizontalScroll",e,t),As(this,!1))}},allowVerticalScroll:{get:function(){return this.ur},set:function(t){var e=this.ur;e!==t&&(this.ur=t,this.g("allowVerticalScroll",e,t),As(this,!1))}},scrollHorizontalLineChange:{get:function(){return this.Ws},set:function(t){var e=this.Ws;e!==t&&(0>t&&et(t,">= 0",ke,"scrollHorizontalLineChange"),this.Ws=t,this.g("scrollHorizontalLineChange",e,t))}},scrollVerticalLineChange:{get:function(){return this.$s},set:function(t){var e=this.$s;e!==t&&(0>t&&et(t,">= 0",ke,"scrollVerticalLineChange"),this.$s=t,this.g("scrollVerticalLineChange",e,t))}},lastInput:{get:function(){return this.hh},set:function(t){this.hh=t}},previousInput:{get:function(){return this.od},set:function(t){this.od=t}},firstInput:{get:function(){return this.Wf},set:function(t){this.Wf=t}},currentCursor:{get:function(){return this.Hr},set:function(t){if(""===t&&(t=this.Pn),this.Hr!==t){var e=this.ya,o=this.Da;if(null!==e){this.Hr=t;var a=e.style.cursor;e.style.cursor=t,o.style.cursor=t,e.style.cursor===a&&(e.style.cursor="-webkit-"+t,o.style.cursor="-webkit-"+t,e.style.cursor===a&&(e.style.cursor="-moz-"+t,o.style.cursor="-moz-"+t,e.style.cursor===a&&(e.style.cursor=t,o.style.cursor=t)))}}}},defaultCursor:{get:function(){return this.Pn},set:function(t){""===t&&(t="auto");var e=this.Pn;e!==t&&(this.Pn=t,this.g("defaultCursor",e,t))}},click:{get:function(){return this.Pf},set:function(t){var e=this.Pf;e!==t&&(this.Pf=t,this.g("click",e,t))}},doubleClick:{get:function(){return this.Uf},set:function(t){var e=this.Uf;e!==t&&(this.Uf=t,this.g("doubleClick",e,t))}},contextClick:{get:function(){return this.Qf},set:function(t){var e=this.Qf;e!==t&&(this.Qf=t,this.g("contextClick",e,t))}},mouseOver:{get:function(){return this.lg},set:function(t){var e=this.lg;e!==t&&(this.lg=t,this.g("mouseOver",e,t))}},mouseHover:{get:function(){return this.jg},set:function(t){var e=this.jg;e!==t&&(this.jg=t,this.g("mouseHover",e,t))}},mouseHold:{get:function(){return this.ig},set:function(t){var e=this.ig;e!==t&&(this.ig=t,this.g("mouseHold",e,t))}},mouseDragOver:{get:function(){return this.As},set:function(t){var e=this.As;e!==t&&(this.As=t,this.g("mouseDragOver",e,t))}},mouseDrop:{get:function(){return this.gg},set:function(t){var e=this.gg;e!==t&&(this.gg=t,this.g("mouseDrop",e,t))}},handlesDragDropForTopLevelParts:{get:function(){return this.cs},set:function(t){var e=this.cs;e!==t&&(this.cs=t,this.g("handlesDragDropForTopLevelParts",e,t))}},mouseEnter:{get:function(){return this.hg},set:function(t){var e=this.hg;e!==t&&(this.hg=t,this.g("mouseEnter",e,t))}},mouseLeave:{get:function(){return this.kg},set:function(t){var e=this.kg;e!==t&&(this.kg=t,this.g("mouseLeave",e,t))}},toolTip:{get:function(){return this.wg},set:function(t){var e=this.wg;e!==t&&(this.wg=t,this.g("toolTip",e,t))}},contextMenu:{get:function(){return this.Rf},set:function(t){var e=this.Rf;e!==t&&(this.Rf=t,this.g("contextMenu",e,t))}},commandHandler:{get:function(){return this.Br},set:function(t){this.Br!==t&&(this.Br=t,t.ee(this))}},toolManager:{get:function(){return this.pt},set:function(t){this.pt!==t&&(this.pt=t,t.diagram=this)}},defaultTool:{get:function(){return this.Mr},set:function(t){var e=this.Mr;e!==t&&(this.Mr=t,t.diagram=this,this.currentTool===e&&(this.currentTool=t))}},currentTool:{get:function(){return this.Jr},set:function(t){var e=this.Jr;null!==e&&(e.isActive&&e.doDeactivate(),e.cancelWaitAfter(),e.doStop()),null===t&&(t=this.defaultTool),null!==t&&(this.Jr=t,t.diagram=this,t.doStart())}},selection:{get:function(){return this.qv}},maxSelectionCount:{get:function(){return this.ws},set:function(t){var e=this.ws;if(e!==t)if(0<=t&&!isNaN(t)){if(this.ws=t,this.g("maxSelectionCount",e,t),!this.undoManager.isUndoingRedoing&&0<(t=this.selection.count-t)){this.R("ChangingSelection",this.selection),e=this.selection.ma();for(var o=0;o<t;o++)e[o].isSelected=!1;this.R("ChangedSelection",this.selection)}}else et(t,">= 0",ke,"maxSelectionCount")}},nodeSelectionAdornmentTemplate:{get:function(){return this.kp},set:function(t){var e=this.kp;e!==t&&(this.kp=t,this.g("nodeSelectionAdornmentTemplate",e,t))}},groupSelectionAdornmentTemplate:{get:function(){return this.qo},set:function(t){var e=this.qo;e!==t&&(this.qo=t,this.g("groupSelectionAdornmentTemplate",e,t))}},linkSelectionAdornmentTemplate:{get:function(){return this.Lo},set:function(t){var e=this.Lo;e!==t&&(this.Lo=t,this.g("linkSelectionAdornmentTemplate",e,t))}},highlighteds:{get:function(){return this.Su}},isModified:{get:function(){var t=this.undoManager;return t.isEnabled?null!==t.currentTransaction||this.wo&&this.Xd!==t.historyIndex:this.wo},set:function(t){if(this.wo!==t){this.wo=t;var e=this.undoManager;!t&&e.isEnabled&&(this.Xd=e.historyIndex),t||n0(this)}}},model:{get:function(){return this.cc},set:function(t){var e=this.cc;if(e!==t){this.currentTool.doCancel(),null!==e&&e.undoManager!==t.undoManager&&e.undoManager.isInTransaction&&V("Do not replace a Diagram.model while a transaction is in progress."),this.animationManager.Bc(!0);var o=fb(this,!0);this.qe=!1,this.Kj=!0,this.Xd=-2,this.Ee=!1;var a=this.ac;this.ac=!0,io(this.animationManager,"Model"),null!==e&&(null!==this.we&&this.we.each(function(c){e.Tk(c)}),e.Tk(this.Tc)),this.cc=t,this.partManager=function(t){return null!==(t=dm.get(t))?new t:new zn}(this.cc.type);for(var u=0;u<o.length;u++)this.add(o[u]);t.Hh(this.Cc),this.partManager.addAllModeledParts(),t.Tk(this.Cc),t.Hh(this.Tc),null!==this.we&&this.we.each(function(c){t.Hh(c)}),this.ac=a,this.Na(),this.Sb||this.M(),null!==e&&t.undoManager.copyProperties(e.undoManager)}}},Z:{get:function(){return this.av},set:function(t){this.av=t}},Yt:{get:function(){return this.Ax}},skipsModelSourceBindings:{get:function(){return this.rv},set:function(t){this.rv=t}},mu:{get:function(){return this.gt},set:function(t){this.gt=t}},nodeTemplate:{get:function(){return this.df.G("")},set:function(t){var e=this.df.G("");e!==t&&(this.df.add("",t),this.g("nodeTemplate",e,t),this.undoManager.isUndoingRedoing||this.Md())}},nodeTemplateMap:{get:function(){return this.df},set:function(t){var e=this.df;e!==t&&(this.df=t,this.g("nodeTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.Md())}},groupTemplate:{get:function(){return this.fh.G("")},set:function(t){var e=this.fh.G("");e!==t&&(this.fh.add("",t),this.g("groupTemplate",e,t),this.undoManager.isUndoingRedoing||this.Md())}},groupTemplateMap:{get:function(){return this.fh},set:function(t){var e=this.fh;e!==t&&(this.fh=t,this.g("groupTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.Md())}},linkTemplate:{get:function(){return this.bg.G("")},set:function(t){var e=this.bg.G("");e!==t&&(this.bg.add("",t),this.g("linkTemplate",e,t),this.undoManager.isUndoingRedoing||this.Md())}},linkTemplateMap:{get:function(){return this.bg},set:function(t){var e=this.bg;e!==t&&(this.bg=t,this.g("linkTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.Md())}},isMouseCaptured:{get:function(){return this.Xu},set:function(t){var e=this.ya;null!==e&&((e=e.Ja)instanceof SVGElement||(t?(this.lastInput.bubbles=!1,this.zj?(this.removeEventListener(e,"pointermove",this.Pk,!1),this.removeEventListener(e,"pointerdown",this.Ok,!1),this.removeEventListener(e,"pointerup",this.Rk,!1),this.removeEventListener(e,"pointerout",this.Qk,!1),this.addEventListener(N,"pointermove",this.Pk,!0),this.addEventListener(N,"pointerdown",this.Ok,!0),this.addEventListener(N,"pointerup",this.Rk,!0),this.addEventListener(N,"pointerout",this.Qk,!0)):(this.removeEventListener(e,"mousemove",this.Ik,!1),this.removeEventListener(e,"mousedown",this.Hk,!1),this.removeEventListener(e,"mouseup",this.Kk,!1),this.removeEventListener(e,"mouseout",this.Jk,!1),this.addEventListener(N,"mousemove",this.Ik,!0),this.addEventListener(N,"mousedown",this.Hk,!0),this.addEventListener(N,"mouseup",this.Kk,!0),this.addEventListener(N,"mouseout",this.Jk,!0)),this.removeEventListener(e,"wheel",this.Lk,!1),this.addEventListener(N,"wheel",this.Lk,!0),this.addEventListener(N,"selectstart",this.preventDefault,!1)):(this.zj?(this.removeEventListener(N,"pointermove",this.Pk,!0),this.removeEventListener(N,"pointerdown",this.Ok,!0),this.removeEventListener(N,"pointerup",this.Rk,!0),this.removeEventListener(N,"pointerout",this.Qk,!0),this.addEventListener(e,"pointermove",this.Pk,!1),this.addEventListener(e,"pointerdown",this.Ok,!1),this.addEventListener(e,"pointerup",this.Rk,!1),this.addEventListener(e,"pointerout",this.Qk,!1)):(this.removeEventListener(N,"mousemove",this.Ik,!0),this.removeEventListener(N,"mousedown",this.Hk,!0),this.removeEventListener(N,"mouseup",this.Kk,!0),this.removeEventListener(N,"mouseout",this.Jk,!0),this.addEventListener(e,"mousemove",this.Ik,!1),this.addEventListener(e,"mousedown",this.Hk,!1),this.addEventListener(e,"mouseup",this.Kk,!1),this.addEventListener(e,"mouseout",this.Jk,!1)),this.removeEventListener(N,"wheel",this.Lk,!0),this.removeEventListener(N,"selectstart",this.preventDefault,!1),this.addEventListener(e,"wheel",this.Lk,!1)),this.Xu=t))}},position:{get:function(){return this.la},set:function(t){var e=at.alloc().assign(this.la);if(!e.w(t)){var o=this.viewportBounds.copy();this.la.assign(t),ha(this.animationManager,e,this.la),this.Sb||null===this.ya&&!this.sm.o()||(this.Sb=!0,ef(this,this.Rn,this.va/(t=this.scale),this.ua/t,this.Dj,!1),this.Sb=!1),this.Sb||this.onViewportBoundsChanged(o,this.viewportBounds,this.Aa,!1)}at.free(e)}},initialPosition:{get:function(){return this.es},set:function(t){this.es.w(t)||(this.es=t.H())}},initialScale:{get:function(){return this.fs},set:function(t){this.fs!==t&&(this.fs=t)}},grid:{get:function(){return null===this.Ib&&ec(this),this.Ib},set:function(t){var e=this.Ib;if(e!==t){null===e&&(ec(this),e=this.Ib),t.type!==Ke.Grid&&V("Diagram.grid must be a Panel of type Panel.Grid");var o=e.panel;null!==o&&o.remove(e),this.Ib=t,t.name="GRID",null!==o&&o.add(t),rc(this),this.M(),this.g("grid",e,t)}}},viewportBounds:{get:function(){var t=this.Rx,e=this.la,o=this.Aa;return t.h(e.x,e.y,Math.max(this.va,0)/o,Math.max(this.ua,0)/o),t}},viewSize:{get:function(){return this.sm},set:function(t){var e=this.viewSize;e.w(t)||(this.sm=t=t.H(),this.ua=this.va=0,t.o()?(this.va=t.width,this.ua=t.height):null!==this.Da&&(this.va=this.Da.clientWidth||1,this.ua=this.Da.clientHeight||1),this.Na(),this.g("viewSize",e,t),this.redraw())}},fixedBounds:{get:function(){return this.Zr},set:function(t){var e=this.Zr;e.w(t)||(t.width!==-1/0&&t.height!==1/0&&t.height!==-1/0||V("fixedBounds width/height must not be Infinity"),this.Zr=t=t.H(),this.Na(),this.g("fixedBounds",e,t))}},scrollMargin:{get:function(){return this.Si},set:function(t){"number"==typeof t&&(t=new nn(t));var e=this.Si;e.w(t)||(this.Si=t=t.H(),this.g("scrollMargin",e,t),this.Yq())}},scrollMode:{get:function(){return this.Ti},set:function(t){var e=this.Ti;e!==t&&(this.Ti=t,t===nu&&As(this,!1),this.g("scrollMode",e,t),this.M())}},scrollsPageOnFocus:{get:function(){return this.at},set:function(t){var e=this.at;e!==t&&(this.at=t,this.g("scrollsPageOnFocus",e,t))}},positionComputation:{get:function(){return this.Ns},set:function(t){var e=this.Ns;e!==t&&(this.Ns=t,As(this,!1),this.g("positionComputation",e,t))}},scaleComputation:{get:function(){return this.Us},set:function(t){var e=this.Us;e!==t&&(this.Us=t,Kf(this,this.scale,this.scale),this.g("scaleComputation",e,t))}},documentBounds:{get:function(){return this.Rn}},isVirtualized:{get:function(){return this.rs},set:function(t){var e=this.rs;e!==t&&(this.rs=t,this.g("isVirtualized",e,t))}},scale:{get:function(){return this.Aa},set:function(t){var e=this.Aa;e!==t&&Kf(this,e,t)}},defaultScale:{get:function(){return this.Qn},set:function(t){this.Qn=t}},autoScale:{get:function(){return this.Og},set:function(t){var e=this.Og;e!==t&&(this.Og=t,this.g("autoScale",e,t),t!==Fs&&As(this,!1))}},initialAutoScale:{get:function(){return this.Yf},set:function(t){var e=this.Yf;e!==t&&(this.Yf=t,this.g("initialAutoScale",e,t))}},initialViewportSpot:{get:function(){return this.gs},set:function(t){var e=this.gs;e!==t&&(t.kb()||V("initialViewportSpot must be a specific Spot: "+t),this.gs=t,this.g("initialViewportSpot",e,t))}},initialDocumentSpot:{get:function(){return this.ds},set:function(t){var e=this.ds;e!==t&&(t.kb()||V("initialViewportSpot must be a specific Spot: "+t),this.ds=t,this.g("initialDocumentSpot",e,t))}},minScale:{get:function(){return this.xs},set:function(t){var e=this.xs;e!==t&&(0<t?(this.xs=t,this.g("minScale",e,t),t>this.scale&&(this.scale=t)):et(t,"> 0",ke,"minScale"))}},maxScale:{get:function(){return this.vs},set:function(t){var e=this.vs;e!==t&&(0<t?(this.vs=t,this.g("maxScale",e,t),t<this.scale&&(this.scale=t)):et(t,"> 0",ke,"maxScale"))}},zoomPoint:{get:function(){return this.xt},set:function(t){this.xt.w(t)||(this.xt=t=t.H())}},contentAlignment:{get:function(){return this.Dj},set:function(t){var e=this.Dj;e.w(t)||(this.Dj=t=t.H(),this.g("contentAlignment",e,t),As(this,!1))}},initialContentAlignment:{get:function(){return this.to},set:function(t){var e=this.to;e.w(t)||(this.to=t=t.H(),this.g("initialContentAlignment",e,t))}},padding:{get:function(){return this.ib},set:function(t){"number"==typeof t&&(t=new nn(t));var e=this.ib;e.w(t)||(this.ib=t=t.H(),this.Na(),this.g("padding",e,t))}},partManager:{get:function(){return this.La},set:function(t){var e=this.La;e!==t&&(null!==t.diagram&&V("Cannot share PartManagers between Diagrams: "+t.toString()),null!==e&&e.ee(null),this.La=t,t.ee(this))}},nodes:{get:function(){return this.partManager.nodes.iterator}},links:{get:function(){return this.partManager.links.iterator}},parts:{get:function(){return this.partManager.parts.iterator}},layout:{get:function(){return this.kc},set:function(t){var e=this.kc;e!==t&&(this.kc=t,t.diagram=this,t.group=null,this.Ng=!0,this.g("layout",e,t),this.Db())}},isTreePathToChildren:{get:function(){return this.qs},set:function(t){var e=this.qs;if(e!==t&&(this.qs=t,this.g("isTreePathToChildren",e,t),!this.undoManager.isUndoingRedoing))for(t=this.nodes;t.next();)mr(t.value)}},treeCollapsePolicy:{get:function(){return this.rt},set:function(t){var e=this.rt;e!==t&&(t!==uo&&t!==ac&&t!==l0&&V("Unknown Diagram.treeCollapsePolicy: "+t),this.rt=t,this.g("treeCollapsePolicy",e,t))}},Le:{get:function(){return this.Uu},set:function(t){this.Uu=t}},autoScrollInterval:{get:function(){return this.qn},set:function(t){var e=this.qn;e!==t&&(this.qn=t,this.g("autoScrollInterval",e,t))}},autoScrollRegion:{get:function(){return this.sn},set:function(t){"number"==typeof t&&(t=new nn(t));var e=this.sn;e.w(t)||(this.sn=t=t.H(),this.Na(),this.g("autoScrollRegion",e,t))}}}),W.Object.defineProperties(ke,{licenseKey:{get:function(){return lc.Xb()},set:function(t){lc.add(t)}},version:{get:function(){return mm}}}),ke.prototype.makeImageData=ke.prototype.Hy,ke.prototype.makeImage=ke.prototype.GA,ke.prototype.addRenderer=ke.prototype.rz,ke.prototype.makeSVG=ke.prototype.iw,ke.prototype.makeSvg=ke.prototype.$t,ke.prototype.stopAutoScroll=ke.prototype.Jf,ke.prototype.doAutoScroll=ke.prototype.Et,ke.prototype.isUnoccupied=ke.prototype.Ek,ke.prototype.raiseDiagramEvent=ke.prototype.R,ke.prototype.removeDiagramListener=ke.prototype.Lm,ke.prototype.addDiagramListener=ke.prototype.kk,ke.prototype.findTreeRoots=ke.prototype.jA,ke.prototype.layoutDiagram=ke.prototype.EA,ke.prototype.findTopLevelGroups=ke.prototype.cA,ke.prototype.findTopLevelNodesAndLinks=ke.prototype.dA,ke.prototype.ensureBounds=ke.prototype.Ta,ke.prototype.findLinksByExample=ke.prototype.Ht,ke.prototype.findNodesByExample=ke.prototype.It,ke.prototype.findLinkForData=ke.prototype.yc,ke.prototype.findNodeForData=ke.prototype.gj,ke.prototype.findPartForData=ke.prototype.zc,ke.prototype.findLinkForKey=ke.prototype.findLinkForKey,ke.prototype.findNodeForKey=ke.prototype.Cb,ke.prototype.findPartForKey=ke.prototype.findPartForKey,ke.prototype.rebuildParts=ke.prototype.Md,ke.prototype.transformViewToDoc=ke.prototype.ou,ke.prototype.transformRectDocToView=ke.prototype.iB,ke.prototype.transformDocToView=ke.prototype.gr,ke.prototype.centerRect=ke.prototype.At,ke.prototype.scrollToRect=ke.prototype.Aw,ke.prototype.scroll=ke.prototype.scroll,ke.prototype.highlightCollection=ke.prototype.vA,ke.prototype.highlight=ke.prototype.uA,ke.prototype.selectCollection=ke.prototype.$A,ke.prototype.select=ke.prototype.select,ke.prototype.updateAllRelationshipsFromData=ke.prototype.ir,ke.prototype.updateAllTargetBindings=ke.prototype.updateAllTargetBindings,ke.prototype.commit=ke.prototype.commit,ke.prototype.rollbackTransaction=ke.prototype.If,ke.prototype.commitTransaction=ke.prototype.Xa,ke.prototype.startTransaction=ke.prototype.xa,ke.prototype.raiseChanged=ke.prototype.g,ke.prototype.raiseChangedEvent=ke.prototype.Va,ke.prototype.removeChangedListener=ke.prototype.Tk,ke.prototype.addChangedListener=ke.prototype.Hh,ke.prototype.removeModelChangedListener=ke.prototype.VA,ke.prototype.addModelChangedListener=ke.prototype.Wx,ke.prototype.findLayer=ke.prototype.xk,ke.prototype.removeLayer=ke.prototype.TA,ke.prototype.addLayerAfter=ke.prototype.nz,ke.prototype.addLayerBefore=ke.prototype.Ux,ke.prototype.addLayer=ke.prototype.um,ke.prototype.moveParts=ke.prototype.moveParts,ke.prototype.copyParts=ke.prototype.tk,ke.prototype.removeParts=ke.prototype.gu,ke.prototype.remove=ke.prototype.remove,ke.prototype.add=ke.prototype.add,ke.prototype.clearDelayedGeometries=ke.prototype.Hv,ke.prototype.setProperties=ke.prototype.Fw,ke.prototype.resetInputOptions=ke.prototype.ww,ke.prototype.setInputOption=ke.prototype.aB,ke.prototype.getInputOption=ke.prototype.Bm,ke.prototype.resetRenderingHints=ke.prototype.xw,ke.prototype.setRenderingHint=ke.prototype.Ty,ke.prototype.getRenderingHint=ke.prototype.Ke,ke.prototype.maybeUpdate=ke.prototype.hd,ke.prototype.requestUpdate=ke.prototype.Db,ke.prototype.delayInitialization=ke.prototype.Jz,ke.prototype.isUpdateRequested=ke.prototype.AA,ke.prototype.invalidateDocumentBounds=ke.prototype.Na,ke.prototype.findObjectsNear=ke.prototype.Eg,ke.prototype.findPartsNear=ke.prototype.$z,ke.prototype.findObjectsIn=ke.prototype.zf,ke.prototype.findPartsIn=ke.prototype.ty,ke.prototype.findObjectsAt=ke.prototype.hj,ke.prototype.findPartsAt=ke.prototype.Zz,ke.prototype.findObjectAt=ke.prototype.Vb,ke.prototype.findPartAt=ke.prototype.zm,ke.prototype.focusObject=ke.prototype.kA,ke.prototype.alignDocument=ke.prototype.uz,ke.prototype.zoomToRect=ke.prototype.mB,ke.prototype.zoomToFit=ke.prototype.zoomToFit,ke.prototype.diagramScroll=ke.prototype.iy,ke.prototype.focus=ke.prototype.focus,ke.useDOM=function(t){ol=!!t&&void 0!==N.document},ke.isUsingDOM=function(){return ol};var s0=null,dm=new vt,ky=null,sc=null,ol=void 0!==N.document,Ch=null,ca="",Fs=new wt(ke,"None",0),Sh=new wt(ke,"Uniform",1),pm=new wt(ke,"UniformToFill",2),a0=new wt(ke,"CycleAll",10),Zg=new wt(ke,"CycleNotDirected",11),Zf=new wt(ke,"CycleNotDirectedFast",12),po=new wt(ke,"CycleNotUndirected",13),Uo=new wt(ke,"CycleDestinationTree",14),Eu=new wt(ke,"CycleSourceTree",15),nu=new wt(ke,"DocumentScroll",1),qf=new wt(ke,"InfiniteScroll",2),uo=new wt(ke,"TreeParentCollapsed",21),ac=new wt(ke,"AllParentsCollapsed",22),l0=new wt(ke,"AnyParentsCollapsed",23),lc=new Vt,mm="2.1.54",gm="image",u0=null,mb=!1;function xx(){if(ol){var t=N.document.createElement("canvas"),e=t.getContext("2d"),o=P("7ca11abfd022028846");e[o]=P("398c3597c01238");for(var a=["5da73c80a36455d5038e4972187c3cae51fd22",U.Dx+"4ae6247590da4bb21c324ba3a84e385776",cn.xF+"fb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387",me.za],u=1;5>u;u++)e[P("7ca11abfd7330390")](P(a[u-1]),10,15*u);for(e[o]=P("39f046ebb36e4b"),o=1;5>o;o++)e[P("7ca11abfd7330390")](P(a[o-1]),10,15*o);(4!==a.length||"5"!==a[0][0]||"7"!==a[3][0])&&(cn.prototype.Jd=cn.prototype.Zx),u0=t}}function un(){this.jz=null,this.l="zz@orderNum",this.Ve="63ad05bbe23a1786468a4c741b6d2"===this._tk?this.l=!0:null}function vm(t,e){if(e.Gb.setTransform(e.Tb,0,0,e.Tb,0,0),null===t.Ve)t:{e="f";var o=N[P("76a715b2f73f148a")][P("72ba13b5")];if(t.Ve=!0,ol){var a=ke[P("76a115b6ed251eaf4692")];if(a)for(var u=lc.iterator;u.next()&&!(6>(a=P(a=u.value).split(P("39e9"))).length);){var c=P(a[1]).split(".");if("7da71ca0"!==a[4])break;var g=P(U[P("6cae19")]).split(".");if(c[0]>g[0]||c[0]===g[0]&&c[1]>=g[1]){for(c=o[P("76ad18b4f73e")],g=o[P("73a612b6fb191d")](P("35e7"))+2;g<c;g++)e+=o[g];if(0>(c=e[P("73a612b6fb191d")](P(a[2])))&&P(a[2])!==P("7da71ca0ad381e90")&&(c=e[P("73a612b6fb191d")](P("76a715b2ef3e149757"))),0>c&&(c=e[P("73a612b6fb191d")](P("76a715b2ef3e149757"))),0>c&&(c=o[P("73a612b6fb191d")](P("7baa19a6f76c1988428554"))),t.Ve=!(0<=c&&c<e[P("73a612b6fb191d")](P("35"))||-1===e[P("73a612b6fb191d")](P("35"))),!t.Ve)break;if("#"===(c=P(a[2]))[0]){g=N.document.createElement("div");for(var _=a[0].replace(/[A-Za-z]/g,"");4>_.length;)_+="9";if(_=_.substr(_.length-4),a="",a+=["gsh","gsf"][parseInt(_.substr(0,1),10)%2],a+=["Header","Background","Display","Feedback"][parseInt(_.substr(0,1),10)%4],g[P("79a417a0f0181a8946")]=a,N.document[P("78a712aa")]){if(N.document[P("78a712aa")][P("7bb806b6ed32388c4a875b")](g),_=N.getComputedStyle(g).getPropertyValue(P("78a704b7e62456904c9b12701b6532a8")),N.document[P("78a712aa")][P("68ad1bbcf533388c4a875b")](g),_){if(-1!==_.indexOf(parseInt(c[1]+c[2],16))&&-1!==_.indexOf(parseInt(c[3]+c[4],16))){t.Ve=!1;break}if(C||d||k||nt)for(a="."+a,c=0;c<document.styleSheets.length;c++)for(var A in g=document.styleSheets[c].rules||document.styleSheets[c].cssRules)if(a===g[A].selectorText){t.Ve=!1;break t}}}else t.Ve=null,t.Ve=!1}}}else{for(A=o[P("76ad18b4f73e")],u=o[P("73a612b6fb191d")](P("35e7"))+2;u<A;u++)e+=o[u];o=e[P("73a612b6fb191d")](P("7da71ca0ad381e90")),t.Ve=!(0<=o&&o<e[P("73a612b6fb191d")](P("35")))}}}return 0<t.Ve&&t!==t.jz}function ym(t,e){if(ol){if(null!=e||V("Diagram setup requires an argument DIV."),null!==t.Da&&V("Diagram has already completed setup."),"string"==typeof e?t.Da=N.document.getElementById(e):e instanceof HTMLDivElement?t.Da=e:V("No DIV or DIV id supplied: "+e),null===t.Da&&V("Invalid DIV id; could not get element with id: "+e),void 0!==t.Da.B&&V("Invalid div id; div already has a Diagram associated with it."),!t.Zl&&N.ResizeObserver){var o=z(function(){t.Db()},250);t.Zl=new N.ResizeObserver(function(){o()}),t.Zl.observe(t.Da)}"static"===N.getComputedStyle(t.Da,null).position&&(t.Da.style.position="relative");var a="rgba(2"+(e=5)+"5, 255, 255, 0)";e--,t.Da.style["-webkit-tap-highlight-color"]=a,t.Da.style["-ms-touch-action"]="none",t.Da.innerHTML="",t.Da.B=t,t.Da.goDiagram=t,t.Da.go=N.go;var u=t.gq?new bl(t):new da(t);if(void 0!==u.style&&(u.style.position="absolute",u.style.top="0px",u.style.left="0px","rtl"===N.getComputedStyle(t.Da,null).getPropertyValue("direction")&&(t.Gl=!0),u.style.zIndex="2",u.style.userSelect="none",u.style.MozUserSelect="none"),t.ya=u,t.Gb=u.context,a=t.Gb,t.Tb=t.computePixelRatio(),t.viewSize.o()||(t.va=t.Da.clientWidth||1,t.ua=t.Da.clientHeight||1),Gg(t,t.va,t.ua),t.Da.insertBefore(u.Ja,t.Da.firstChild),(u=new da(null)).width=1,u.height=1,t.Ju=u,t.ux=u.context,ol){u=q("div");var c=q("div");u.style.position="absolute",u.style.overflow="auto",u.style.width=t.va+"px",u.style.height=t.ua+"px",u.style.zIndex="1",c.style.position="absolute",c.style.width="1px",c.style.height="1px",t.Da.appendChild(u),u.appendChild(c),u.onscroll=qp,u.addEventListener("mousedown",ic),u.addEventListener("touchstart",ic,{passive:!0}),u.B=t,u.hz=!0,u.iz=!0,t.Ys=u,t.Pp=c}t.Yq=z(function(){t.yh=null,t.M()},300),t.Ww=z(function(){rm(t)},250),t.preventDefault=function(g){return g.preventDefault(),!1},t.Ik=function(g){if(t.isEnabled){t.Zf=!0;var _=iu(t,g,!0);t.doMouseMove(),t.currentTool.isBeyondDragSize()&&(t.xd=0),rl(_,g)}},t.Hk=function(g){if(t.isEnabled)if(t.Zf=!0,t.re)g.preventDefault();else{var _=iu(t,g,!0);_.down=!0,_.clickCount=g.detail,(d||k)&&(g.timeStamp-t.Sj<t.qt&&!t.currentTool.isBeyondDragSize()?t.xd++:t.xd=1,t.Sj=g.timeStamp,_.clickCount=t.xd),_.clone(t.firstInput),t.doMouseDown(),1===g.button?g.preventDefault():rl(_,g)}},t.Kk=function(g){if(t.isEnabled)if(t.re&&2===g.button)g.preventDefault();else if(t.re&&0===g.button&&(t.re=!1),t.hk)g.preventDefault();else{t.Zf=!0;var _=iu(t,g,!0);_.up=!0,_.clickCount=g.detail,(d||k)&&(_.clickCount=t.xd),_.bubbles=g.bubbles,_.targetDiagram=Yf(g),t.doMouseUp(),t.Jf(),rl(_,g)}},t.Lk=function(g){if(t.isEnabled){var _=iu(t,g,!0);_.bubbles=!0;var A=0,I=0;_.delta=0,void 0!==g.deltaX?(0!==g.deltaX&&(A=0<g.deltaX?1:-1),0!==g.deltaY&&(I=0<g.deltaY?1:-1),_.delta=Math.abs(g.deltaX)>Math.abs(g.deltaY)?-A:-I):void 0!==g.wheelDeltaX?(0!==g.wheelDeltaX&&(A=0<g.wheelDeltaX?-1:1),0!==g.wheelDeltaY&&(I=0<g.wheelDeltaY?-1:1),_.delta=Math.abs(g.wheelDeltaX)>Math.abs(g.wheelDeltaY)?-A:-I):void 0!==g.wheelDelta&&0!==g.wheelDelta&&(_.delta=0<g.wheelDelta?1:-1),t.doMouseWheel(),rl(_,g)}},t.Jk=function(g){t.isEnabled&&(t.Zf=!1,iu(t,g,!0),(g=t.currentTool).cancelWaitAfter(),g.standardMouseOver())},t.Ow=function(g){if(t.isEnabled){t.hk=!1,t.re=!0;var _=Xd(t,g,g.targetTouches[0],1<g.touches.length),A=null;if(0<g.targetTouches.length?A=g.targetTouches[0]:0<g.changedTouches.length&&(A=g.changedTouches[0]),null!==A){var I=A.screenX;A=A.screenY;var B=t.Go;g.timeStamp-t.Sj<t.qt&&!(25<Math.abs(B.x-I)||25<Math.abs(B.y-A))?t.xd++:t.xd=1,_.clickCount=t.xd,t.Sj=g.timeStamp,t.Go.h(I,A)}t.doMouseDown(),rl(_,g)}},t.Nw=function(g){if(t.isEnabled){var _=null;0<g.targetTouches.length?_=g.targetTouches[0]:0<g.changedTouches.length&&(_=g.changedTouches[0]),_=Hg(t,g,_,1<g.touches.length),t.doMouseMove(),rl(_,g)}},t.Mw=function(g){if(t.isEnabled)if(t.hk)g.preventDefault();else if(!(1<g.touches.length)){var _=null,A=null;0<g.targetTouches.length?A=g.targetTouches[0]:0<g.changedTouches.length&&(A=g.changedTouches[0]);var I=Qp(t,g,!1,!0,!1,!1);null!==A&&(null!==(_=N.document.elementFromPoint(A.clientX,A.clientY))&&void 0!==_.shadowRoot&&null!==_&&null!==_.shadowRoot&&(_=_.shadowRoot.elementFromPoint(A.clientX,A.clientY)),null!==_&&_.B instanceof ke&&_.B!==t&&Mh(_.B,A,I),Mh(t,A,I),I.clickCount=t.xd),I.targetDiagram=null===_?Yf(g):_.B?_.B:null,I.targetObject=null,t.doMouseUp(),rl(I,g),t.re=!1}},t.Ok=function(g){if(t.isEnabled){t.Zf=!0;var _=t.Ls;void 0===_[g.pointerId]&&(_[g.pointerId]=g);var A=!1;if(null!==(_=t.bk)[0]&&_[0].pointerId===g.pointerId)_[0]=g;else if(null!==_[1]&&_[1].pointerId===g.pointerId)_[1]=g,A=!0;else if(null===_[0])_[0]=g;else{if(null!==_[1])return void g.preventDefault();_[1]=g,A=!0}("touch"===g.pointerType||"pen"===g.pointerType)&&(t.hk=!1,t.re=!0),_=Xd(t,g,g,A),A=t.Go;var I="touch"===g.pointerType||"pen"===g.pointerType?25:10;g.timeStamp-t.Sj<t.qt&&!(Math.abs(A.x-g.screenX)>I||Math.abs(A.y-g.screenY)>I)?t.xd++:t.xd=1,_.clickCount=t.xd,t.Sj=g.timeStamp,t.Go.Ig(g.screenX,g.screenY),t.doMouseDown(),1===g.button?g.preventDefault():rl(_,g)}},t.Pk=function(g){if(t.isEnabled){t.Zf=!0;var _=t.bk;if(null!==_[0]&&_[0].pointerId===g.pointerId)_[0]=g;else{if(null!==_[1]&&_[1].pointerId===g.pointerId)return void(_[1]=g);if(null!==_[0])return;_[0]=g}_[0].pointerId===g.pointerId&&((_=Hg(t,g,g,null!==_[1])).targetDiagram=Yf(g),t.doMouseMove(),rl(_,g))}},t.Rk=function(g){if(t.isEnabled){t.Zf=!0;var _="touch"===g.pointerType||"pen"===g.pointerType,A=t.Ls;if(_&&t.hk)delete A[g.pointerId],g.preventDefault();else if(null!==(A=t.bk)[0]&&A[0].pointerId===g.pointerId){A[0]=null,A=Qp(t,g,!1,!0,!0,!1);var I=N.document.elementFromPoint(g.clientX,g.clientY);null!==I&&I.B instanceof ke&&I.B!==t&&Mh(I.B,g,A),Mh(t,g,A),A.clickCount=t.xd,A.targetDiagram=null===I?Yf(g):I.B?I.B:null,A.targetObject=null,t.doMouseUp(),rl(A,g),_&&(t.re=!1)}else null!==A[1]&&A[1].pointerId===g.pointerId&&(A[1]=null)}},t.Qk=function(g){if(t.isEnabled){t.Zf=!1;var _=t.Ls;_[g.pointerId]&&delete _[g.pointerId],null!==(_=t.bk)[0]&&_[0].pointerId===g.pointerId&&(_[0]=null),null!==_[1]&&_[1].pointerId===g.pointerId&&(_[1]=null),"touch"!==g.pointerType&&"pen"!==g.pointerType&&((g=t.currentTool).cancelWaitAfter(),g.standardMouseOver())}},t.Tr=a.Y["d"+Ay[1]+Ay[2]+"wI"+gm.slice(1,5)]["b"+t1.slice(1,e)](a.Y,u0,e,e),a.uc(!0),function(t){var e=t.ya.Ja;e instanceof HTMLCanvasElement&&(t.zj?(t.addEventListener(e,"pointerdown",t.Ok,!1),t.addEventListener(e,"pointermove",t.Pk,!1),t.addEventListener(e,"pointerup",t.Rk,!1),t.addEventListener(e,"pointerout",t.Qk,!1)):(t.addEventListener(e,"touchstart",t.Ow,!1),t.addEventListener(e,"touchmove",t.Nw,!1),t.addEventListener(e,"touchend",t.Mw,!1),t.addEventListener(e,"mousemove",t.Ik,!1),t.addEventListener(e,"mousedown",t.Hk,!1),t.addEventListener(e,"mouseup",t.Kk,!1),t.addEventListener(e,"mouseout",t.Jk,!1)),t.addEventListener(e,"mouseenter",t.Oz,!1),t.addEventListener(e,"mouseleave",t.Pz,!1),t.addEventListener(e,"wheel",t.Lk,!1),t.addEventListener(e,"keydown",t.BA,!1),t.addEventListener(e,"keyup",t.CA,!1),t.addEventListener(e,"blur",t.Az,!1),t.addEventListener(e,"focus",t.Bz,!1),t.addEventListener(e,"selectstart",function(o){return o.preventDefault(),!1},!1),t.addEventListener(e,"contextmenu",function(o){return o.preventDefault(),!1},!1),t.addEventListener(e,"gesturestart",function(o){t.toolManager.gestureBehavior!==ml&&(t.toolManager.gestureBehavior===Gu?o.preventDefault():t.re&&t.lastInput.handled||(o.preventDefault(),t.Vl=t.scale,t.currentTool.doCancel()))},!1),t.addEventListener(e,"gesturechange",function(o){if(t.toolManager.gestureBehavior!==ml)if(t.toolManager.gestureBehavior===Gu)o.preventDefault();else if(!t.re||!t.lastInput.handled){o.preventDefault();var a=o.scale;if(null!==t.Vl){var u=t.ya.getBoundingClientRect();if(o=new at(o.pageX-N.scrollX-t.va/u.width*u.left,o.pageY-N.scrollY-t.ua/u.height*u.top),u=t.commandHandler,(a*=t.Vl)!==t.scale&&u.canResetZoom(a)){var c=t.zoomPoint;t.zoomPoint=o,u.resetZoom(a),t.zoomPoint=c}}}},!1),t.addEventListener(N,"resize",t.Ww,!1))}(t)}}function af(t){this.l=void 0===t?new at:t,this.u=new at}ke.className="Diagram",ke.fromDiv=function(t){var e=t;return"string"==typeof t&&(e=N.document.getElementById(t)),e instanceof HTMLDivElement&&e.B instanceof ke?e.B:null},ke.inherit=function(t,e){function o(){}if(Object.getPrototypeOf(t).prototype)throw Error("Used go.Diagram.inherit defining already defined class \n"+t);o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t},ke.None=Fs,ke.Uniform=Sh,ke.UniformToFill=pm,ke.CycleAll=a0,ke.CycleNotDirected=Zg,ke.CycleNotDirectedFast=Zf,ke.CycleNotUndirected=po,ke.CycleDestinationTree=Uo,ke.CycleSourceTree=Eu,ke.DocumentScroll=nu,ke.InfiniteScroll=qf,ke.TreeParentCollapsed=uo,ke.AllParentsCollapsed=ac,ke.AnyParentsCollapsed=l0,un.className="DiagramHelper",W.Object.defineProperties(af.prototype,{point:{get:function(){return this.l},set:function(t){this.l=t}},shifted:{get:function(){return this.u},set:function(t){this.u=t}}});var qr,qn,Vs,Go,ro,Ts,Qg,uc,hc,ta,Ay="DraggingInfo";function qg(t,e,o){this.node=t,this.info=e,this.$v=o}function h0(){this.reset()}function Ty(t){1<arguments.length&&V("Palette constructor can only take one optional argument, the DIV HTML element or its id."),ke.call(this,t),Qf(this)}function Qf(t){t.allowDragOut=!0,t.allowMove=!1,t.isReadOnly=!0,t.contentAlignment=bn,t.layout=new ss}function ku(t){1<arguments.length&&V("Overview constructor can only take one optional argument, the DIV HTML element or its id."),ke.call(this,t);var e=this;this.animationManager.isEnabled=!1,this.Sb=!0,this.Ka=null,this.wl=this.vl=!1,this.I=this.T=!0,this.eb=0,this.u=!1,this.fm=null,this.Ty("drawShadows",!1);var o=new Bt,a=new Yi;a.stroke="magenta",a.strokeWidth=2,a.fill="transparent",a.name="BOXSHAPE",o.selectable=!0,o.selectionAdorned=!1,o.selectionObjectName="BOXSHAPE",o.locationObjectName="BOXSHAPE",o.resizeObjectName="BOXSHAPE",o.cursor="move",o.add(a),this.l=o,this.allowDelete=this.allowCopy=!1,this.allowSelect=!0,this.autoScrollRegion=new nn(0,0,0,0),this.la.h(0,0),this.toolManager.Ya("Dragging",new Eh,this.toolManager.mouseMoveTools),this.click=function(){var u=e.observed;if(null!==u){var c=u.viewportBounds,g=e.lastInput.documentPoint;u.position=new at(g.x-c.width/2,g.y-c.height/2)}},this.Xh=function(){e.Na(),Dh(e)},this.Wh=function(){null!==e.observed&&(e.Na(),e.M())},this.Sc=function(){1>e.updateDelay?e.M():e.u||(e.u=!0,setTimeout(function(){return e.redraw()},e.updateDelay))},this.Od=function(){null!==e.observed&&Dh(e)},this.autoScale=Sh,this.Sb=!1}function bo(t){var e=t.observed;if(null!==e){var o=t.drawsTemporaryLayers,a=t.drawsGrid&&o,u=e.grid;a&&null!==u&&u.visible&&!isNaN(u.width)&&!isNaN(u.height)&&(rc(e,u=te.alloc().assign(t.viewportBounds).Rc(e.viewportBounds)),te.free(u),Gs(e));var c=t.sb;c.reset(),1!==t.scale&&c.scale(t.scale),0===t.position.x&&0===t.position.y||c.translate(-t.position.x,-t.position.y),(u=t.Gb).scale(t.Tb,t.Tb),u.transform(c.m11,c.m12,c.m21,c.m22,c.dx,c.dy),c=(e=e.Ma.j).length;for(var g=0;g<c;g++){var _=e[g],A=t;if(_.visible&&0!==_.opacity){var I=_.diagram.grid.part;if(!o&&_.isTemporary)a&&I.layer===_&&(_=_h(_,u),I.mc(u,A),u.globalAlpha=_);else{for(var B=_h(_,u),H=A.scale,dt=te.alloc(),bt=_.Fa.j,pt=bt.length,Rt=0;Rt<pt;Rt++){var Xt=bt[Rt];(a||Xt!==I)&&_.dj(u,Xt,A,null,H,dt,!1)}te.free(dt),u.globalAlpha=B}}}}}function Dh(t){var e=t.box;if(null!==e){var o=t.observed;if(null!==o){t.Dc=!0,o=o.viewportBounds;var a=e.selectionObject,u=He.alloc();u.h(o.width,o.height),a.desiredSize=u,He.free(u),t=2/t.scale,a instanceof Yi&&(a.strokeWidth=t),e.location=new at(o.x-t/2,o.y-t/2),e.isSelected=!0}}}function Eh(){lr.call(this),this.l=null}function Kn(){ge(this),this.B=s0,this.eb=this.I=this.u=!0,this.T=this.Ka=this.Sc=this.La=!1,this.Ki=this.l=null,this.Od=1.05,this.bv=NaN,this.yx=null,this.Bv=NaN,this.Av=Er,this.Cc=!0,this.rg=null,this.Tc=200}function lf(t,e,o){if(e.isVisible())return o;if(e instanceof si)lf(t,e.adornedPart,o);else if(e instanceof We){var a=e.fromNode;null!==a&&lf(t,a,o),null!==(e=e.toNode)&&lf(t,e,o)}else e instanceof Ne&&(null!==(a=e.labeledLink)&&lf(t,a,o),null!==(a=e.Fg())&&(a.isTreeExpanded||a.wasTreeExpanded||o.push(a),lf(t,a,o))),null!==(e=e.containingGroup)&&(e.isSubGraphExpanded||e.wasSubGraphExpanded||o.push(e),lf(t,e,o));return o}function Bs(t){var e=h();for(t=t.iterator;t.next();){var o=t.value;o instanceof We||e.push(o)}t=new Ht,o=e.length;for(var a=0;a<o;a++){for(var u=e[a],c=!0,g=0;g<o;g++)if(u.Kd(e[g])){c=!1;break}c&&t.add(u)}return m(e),t}function Ri(){ge(this),this.F=4225027,this.hb=1,this.og=null,this.oa="",this.ec=this.mb=null,this.la=new at(NaN,NaN).freeze(),this.Xc=Se,this.fg=on,this.eg=ne,this.sb=new cn,this.Zh=new cn,this.cg=new cn,this.Aa=this.ql=1,this.Yb=0,this.De=Go,this.jh=dr,this.qc=new te(NaN,NaN,NaN,NaN).freeze(),this.xb=new te(NaN,NaN,NaN,NaN).freeze(),this.rc=new te(0,0,NaN,NaN).freeze(),this.O=this.xp=this.yp=null,this.$k=this.yb=Os,this.Jp=0,this.Kp=1,this.Rg=0,this.zn=1,this.aq=null,this.Qp=-1/0,this.am=0,this.bm=ei,this.cm=bs,this.oi="",this.fb=this.N=null,this.dl=-1,this.em=this.Za=this.ni=this.im=null,this.Os=qn,this.Mp=this.Mg=this.ak=null}function js(t){null===t.N&&(t.N=new nv)}function Au(t,e,o){var a=t.ij();if(null!==a)for(var u=t.fb.iterator;u.next();){var c=u.value,g=null;if(null!==c.sourceName){if(null===(g=Nb(c,a,t)))continue;c.jr(t,g,o,null)}else if(c.isToModel){var _=e.diagram;null===_||_.skipsModelSourceBindings||c.jr(t,_.model.modelData,o,a)}else{if(null===(_=a.data))continue;var A=e.diagram;null===A||A.skipsModelSourceBindings||c.jr(t,_,o,a)}g===t&&null!==(_=a.Gt(c.wj))&&c.Tw(_,g,o)}}function zl(t,e,o,a,u){var c=t.qc,g=t.cg;g.reset(),iv(t,g,e,o,a,u),t.cg=g,c.h(e,o,a,u),g.Tt()||g.Pw(c)}function Jg(t,e,o,a){return!1!==t.pickable&&(a.multiply(t.transform),o?t.Mc(e,a):t.Jh(e,a))}function tv(t,e,o,a,u){if(t.xb.h(e,o,a,u),!t.desiredSize.o()){var c=t.qc,g=(o=t.jh).top+o.bottom;switch(o=c.width+(e=o.right+o.left),c=c.height+g,a+=e,u+=g,e=wl(t,!0),o===a&&c===u&&(e=qn),e){case qn:(o>a||c>u)&&(Aa(t,!0),t.measure(o>a?a:o,c>u?u:c,0,0));break;case qr:Aa(t,!0),t.measure(a,u,0,0);break;case ro:Aa(t,!0),t.measure(a,c,0,0);break;case Ts:Aa(t,!0),t.measure(o,u,0,0)}}}function wx(t,e,o){var a=t.xb,u=t.rc;null!==t.ec&&(fa(t,e,t.ec,!0,!0,u,a),t.ec instanceof Dn&&t.ec.type===ma?(e.beginPath(),e.rect(a.x,a.y,a.width,a.height),e.Je(t.ec)):e.fillRect(a.x,a.y,a.width,a.height)),null!==t.mb&&(fa(t,e,t.mb,!0,!1,u,a),t.mb instanceof Dn&&t.mb.type===ma?(e.beginPath(),e.rect(a.x,a.y,a.width,a.height),e.Je(t.mb)):e.fillRect(a.x,a.y,a.width,a.height)),t.ej(e,o)}function fa(t,e,o,a,u,c,g){if(null!==o){var _=1,A=1;if("string"==typeof o)a?e.fillStyle=o:e.strokeStyle=o;else if(o.type===Ah)a?e.fillStyle=o.color:e.strokeStyle=o.color;else{var I=0;if(t instanceof Yi&&(I=t.strokeWidth),_=c.width,A=c.height,u?(_=g.width,A=g.height):a||(_+=I,A+=I),(c=e instanceof cf)&&o.ke&&(o.type===Ph||o.gl===_&&o.Au===A))var B=o.ke;else{var H=0,dt=0,bt=0,pt=0,Rt=0,Xt=0;if(Xt=Rt=0,u?(Rt=g.x,Xt=g.y):a||(Rt-=I/2,Xt-=I/2),H=o.start.x*_+o.start.offsetX,dt=o.start.y*A+o.start.offsetY,bt=o.end.x*_+o.end.offsetX,pt=o.end.y*A+o.end.offsetY,H+=Rt,bt+=Rt,dt+=Xt,pt+=Xt,o.type===Th)B=e.createLinearGradient(H,dt,bt,pt);else if(o.type===ma)Xt=isNaN(o.endRadius)?Math.max(_,A)/2:o.endRadius,isNaN(o.startRadius)?(Rt=0,Xt=Math.max(_,A)/2):Rt=o.startRadius,B=e.createRadialGradient(H,dt,Rt,bt,pt,Xt);else if(o.type===Ph)try{B=e.createPattern(o.pattern,"repeat")}catch(ie){B=null}if(o.type!==Ph&&null!==(u=o.colorStops))for(u=u.iterator;u.next();)B.addColorStop(u.key,u.value);if(c&&(o.ke=B,null!==B&&(o.gl=_,o.Au=A),null===B&&o.type===Ph&&-1!==o.gl)){o.gl=-1;var $t=t.diagram;null!==$t&&-1===o.gl&&Y(function(){$t.redraw()},600)}}a?e.fillStyle=B:e.strokeStyle=B}}}function ev(t){if(0!=(2048&t.F)){var e=t.sb;if(e.reset(),!t.xb.o()||!t.qc.o())return void c0(t,!1);if(e.translate(t.xb.x-t.qc.x,t.xb.y-t.qc.y),1!==t.scale||0!==t.angle){var o=t.naturalBounds;iv(t,e,o.x,o.y,o.width,o.height)}c0(t,!1),fc(t,!0)}0!=(4096&t.F)&&(null===(e=t.panel)?(t.Zh.set(t.sb),t.ql=t.scale,fc(t,!1)):null!==e.Fd&&((o=t.Zh).reset(),e.he()?o.multiply(e.Zh):null!==e.panel&&o.multiply(e.panel.Zh),o.multiply(t.sb),t.ql=t.scale*e.ql,fc(t,!1)))}function iv(t,e,o,a,u,c){if(1!==t.scale&&e.scale(t.scale),0!==t.Yb){var g=Vi;t.Ff()&&t.locationSpot.kb()&&(g=t.locationSpot);var _=at.alloc();if(t instanceof Bt&&t.locationObject!==t)for(_.Uk((a=(o=t.locationObject).naturalBounds).x,a.y,a.width,a.height,g),o.cg.ta(_),_.offset(-o.measuredBounds.x,-o.measuredBounds.y),g=o.panel;null!==g&&g!==t;)g.cg.ta(_),_.offset(-g.measuredBounds.x,-g.measuredBounds.y),g=g.panel;else _.Uk(o,a,u,c,g);e.rotate(t.Yb,_.x,_.y),at.free(_)}}function $u(t){if(!Wa(t)){var e=t.panel;null!==e?e.s():t.Ff()&&null!==(e=t.diagram)&&(e.wd.add(t),t instanceof Ne&&t.sd(),e.Db()),Tu(t,!0)}}function wl(t,e){var o=t.stretch,a=t.panel;return null!==a&&a.type===Ke.Table?kh(t,a.getRowDefinition(t.row),a.getColumnDefinition(t.column),e):null!==a&&a.type===Ke.Auto&&a.tb()===t?cc(t,qr,e):o===Go?null!==a?a.type===Ke.Spot&&a.tb()===t?cc(t,qr,e):cc(t,(o=a.defaultStretch)===Go?qn:o,e):cc(t,qn,e):cc(t,o,e)}function kh(t,e,o,a){var u=t.stretch;if(u!==Go)return cc(t,u,a);var c=u=null;switch(e.stretch){case Ts:case qr:c=!0}switch(o.stretch){case ro:case qr:u=!0}return e=t.panel.defaultStretch,null===u&&(u=e===ro||e===qr),null===c&&(c=e===Ts||e===qr),cc(t,!0===u&&!0===c?qr:!0===u?ro:!0===c?Ts:qn,a)}function cc(t,e,o){if(o)return e;if(e===qn||(o=t.desiredSize).o())return qn;if(t=t.angle,!isNaN(o.width))if(90!==t&&270!==t){if(e===ro)return qn;if(e===qr)return Ts}else{if(e===Ts)return qn;if(e===qr)return ro}if(!isNaN(o.height))if(90!==t&&270!==t){if(e===Ts)return qn;if(e===qr)return ro}else{if(e===ro)return qn;if(e===qr)return Ts}return e}function Jf(t,e){t.F=e?512|t.F:-513&t.F}function uf(t){return 0!=(1024&t.F)}function td(t,e){t.F=e?1024|t.F:-1025&t.F}function c0(t,e){t.F=e?2048|t.F:-2049&t.F}function fc(t,e){t.F=e?4096|t.F:-4097&t.F}function dc(t){return 0!=(8192&t.F)}function Aa(t,e){t.F=e?8192|t.F:-8193&t.F}function Wa(t){return 0!=(16384&t.F)}function Tu(t,e){t.F=e?16384|t.F:-16385&t.F}function Pu(t){var e=t.part;if(e instanceof Ne&&(null!==t.portId||t===e.port)){var o=e.diagram;null===o||o.undoManager.isUndoingRedoing||wi(e,t)}}function bx(t){var e=t.diagram;null===e||e.undoManager.isUndoingRedoing||(t instanceof Ke?t instanceof Ne?t.sd():t.an(t,function(o){Pu(o)}):Pu(t))}function pi(t,e){for(var o=1;o<arguments.length;++o);o=arguments;var a=null,u=null;if("function"==typeof t)u=t;else if("string"==typeof t){var c=hf.G(t);"function"==typeof c?gt(a=c(o=Dt(arguments)))||V('GraphObject.make invoked object builder "'+t+'", but it did not return an Object'):u=N.go[t]}if(null===a&&(null!=u&&u.constructor||V("GraphObject.make requires a class function or GoJS class name or name of an object builder, not: "+t),a=new u),u=1,a instanceof ke&&1<o.length){c=a;var g=o[1];("string"==typeof g||g instanceof HTMLDivElement)&&(ym(c,g),u++)}for(;u<o.length;u++)void 0===(c=o[u])?V("Undefined value at argument "+u+" for object being constructed by GraphObject.make: "+a):Py(a,c);return a}function Py(t,e){if("string"==typeof e)if(t instanceof $n)t.text=e;else if(t instanceof Yi)t.figure=e;else if(t instanceof Ws)t.source=e;else if(t instanceof Ke)null!==(e=ou.G(e))&&(t.type=e);else if(t instanceof Dn){var o=Ft(Dn,e);null!==o?t.type=o:V("Unknown Brush type as an argument to GraphObject.make: "+e)}else t instanceof pn?null!==(e=Ft(pn,e))&&(t.type=e):t instanceof Vn&&null!==(e=Ft(Vn,e))&&(t.type=e);else if(e instanceof Ri)t instanceof Ke||V("A GraphObject can only be added to a Panel, not to: "+t),t.add(e);else if(e instanceof _o){var a;e.isRow&&"function"==typeof t.getRowDefinition?a=t.getRowDefinition(e.index):e.isRow||"function"!=typeof t.getColumnDefinition||(a=t.getColumnDefinition(e.index)),a instanceof _o?a.gy(e):V("A RowColumnDefinition can only be added to an object that implements getRowDefinition/getColumnDefinition, not to: "+t)}else if(e instanceof wt)"function"==typeof t.jb&&t.jb(e);else if(e instanceof Wo)t.type=e;else if(e instanceof yo)t instanceof Ri||t instanceof _o?t.bind(e):V("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+t);else if(e instanceof ka)t instanceof Ri?t.Qw(e):V("An AnimationTrigger can only be applied to a GraphObject, not to: "+t);else if(e instanceof qo)t instanceof pn?t.figures.add(e):V("A PathFigure can only be added to a Geometry, not to: "+t);else if(e instanceof Vn)t instanceof qo?t.segments.add(e):V("A PathSegment can only be added to a PathFigure, not to: "+t);else if(e instanceof Ln)t instanceof ke||t instanceof ai?t.layout=e:V("A Layout can only be assigned to a Diagram or a Group, not to: "+t);else if(Array.isArray(e))for(o=0;o<e.length;o++)Py(t,e[o]);else if("object"==typeof e&&null!==e)if(t instanceof Dn){for(var u in o=new It,e)a=parseFloat(u),isNaN(a)?o[u]=e[u]:t.addColorStop(a,e[u]);am(t,o)}else if(t instanceof _o){for(o in void 0!==e.row?((null==(u=e.row)||u===1/0||isNaN(u)||0>u)&&V("Must specify non-negative integer row for RowColumnDefinition "+e+", not: "+u),t.isRow=!0,t.index=u):void 0!==e.column&&((null==(u=e.column)||u===1/0||isNaN(u)||0>u)&&V("Must specify non-negative integer column for RowColumnDefinition "+e+", not: "+u),t.isRow=!1,t.index=u),u=new It,e)"row"!==o&&"column"!==o&&(u[o]=e[o]);am(t,u)}else am(t,e);else V('Unknown initializer "'+e+'" for object being constructed by GraphObject.make: '+t)}function Iu(t,e){hf.add(t,e)}function pc(t,e,o){void 0===o&&(o=null);var a=t[1];if("function"==typeof o?o(a):"string"==typeof a)return t.splice(1,1),a;if(void 0===e)throw Error("no "+("function"==typeof o?"satisfactory":"string")+" argument for GraphObject builder "+t[0]);return e}af.className="DraggingInfo",qg.className="DraggingNodeInfoPair",h0.prototype.reset=function(){this.isGridSnapEnabled=!1,this.isGridSnapRealtime=!0,this.gridSnapCellSize=new He(NaN,NaN).freeze(),this.gridSnapCellSpot=ar,this.gridSnapOrigin=new at(NaN,NaN).freeze(),this.groupsSnapMembers=this.dragsTree=this.dragsLink=!1,this.dragsMembers=this.groupsAlwaysMove=!0},h0.className="DraggingOptions",K(Ty,ke),Ty.prototype.reset=function(){ke.prototype.reset.call(this),Qf(this)},Ty.className="Palette",K(ku,ke),ku.prototype.computePixelRatio=function(){return 1},ku.prototype.redraw=function(){if(this.u&&1<=this.updateDelay){this.u=!1;var t=this.ya,e=this.Gb;if(null!==t&&null!==e){if($f(this),null===this.fm){var o=new da(null);o.width=t.width,o.height=t.height,this.fm=o}try{this.ya=this.fm,this.Gb=this.ya.context,this.Gb.uc(!0),this.Gb.setTransform(1,0,0,1,0,0),this.Gb.clearRect(0,0,this.ya.width,this.ya.height),bo(this)}finally{this.ya=t,this.Gb=e}}}ke.prototype.redraw.call(this)},ku.prototype.mc=function(){if(null===this.Da&&V("No div specified"),null===this.ya&&V("No canvas specified"),!(this.ya instanceof bl)&&(Qt(this.box),this.Dc)){var t=this.observed;if(null!==t&&!t.animationManager.defaultAnimation.isAnimating&&t.pj){$f(this);var e=this.ya;(t=this.Gb).uc(!0),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),1>this.updateDelay?bo(this):null!==this.fm&&(t.drawImage(this.fm.Ja,0,0),(e=this.sb).reset(),1!==this.scale&&e.scale(this.scale),0===this.position.x&&0===this.position.y||e.translate(-this.position.x,-this.position.y),t.scale(this.Tb,this.Tb),t.transform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy));for(var o=(e=this.Ma.j).length,a=0;a<o;a++)e[a].mc(t,this);this.Dc=this.xi=!1}}},ku.prototype.computeBounds=function(){var t=this.observed;if(null===t)return Er;var e=t.documentBounds.copy();return e.Rc(t.viewportBounds),e},ku.prototype.invalidateViewport=function(){!0!==this.Dc&&(this.Dc=!0,this.Db())},ku.prototype.onViewportBoundsChanged=function(t,e,o,a){this.Sb||(Du(this),this.M(),Yu(this),this.Na(),Dh(this),this.Ic.scale=o,this.Ic.position.x=t.x,this.Ic.position.y=t.y,this.Ic.bounds.assign(t),this.Ic.hw=a,this.R("ViewportBoundsChanged",this.Ic,t))},W.Object.defineProperties(ku.prototype,{observed:{get:function(){return this.Ka},set:function(t){var e=this.Ka;if(t instanceof ku&&V("Overview.observed Diagram may not be an Overview itself: "+t),e!==t){if(null!==e&&(this.remove(this.box),e.Lm("ViewportBoundsChanged",this.Xh),e.Lm("DocumentBoundsChanged",this.Wh),e.Lm("InvalidateDraw",this.Sc),e.Lm("AnimationFinished",this.Od)),this.Ka=t,null!==t&&(t.kk("ViewportBoundsChanged",this.Xh),t.kk("DocumentBoundsChanged",this.Wh),t.kk("InvalidateDraw",this.Sc),t.kk("AnimationFinished",this.Od),this.add(this.box)),this.Na(),null===t){this.fm=null;var o=this.ya,a=this.Gb;o&&a&&(a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,o.width,o.height))}else this.Sc(null),Dh(this),this.M();this.g("observed",e,t)}}},box:{get:function(){return this.l},set:function(t){var e=this.l;e!==t&&(this.l=t,this.remove(e),this.add(this.l),Dh(this),this.g("box",e,t))}},drawsTemporaryLayers:{get:function(){return this.T},set:function(t){this.T!==t&&(this.T=t,this.redraw())}},drawsGrid:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t,this.redraw())}},updateDelay:{get:function(){return this.eb},set:function(t){0>t&&(t=0),this.eb!==t&&(this.eb=t)}}}),ku.className="Overview",K(Eh,lr),Eh.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(null===t||!t.allowMove||!t.allowSelect)return!1;var e=t.observed;if(null===e)return!1;var o=t.lastInput;return!(!o.left||t.currentTool!==this&&(!this.isBeyondDragSize()||o.isTouchEvent&&o.timestamp-t.firstInput.timestamp<this.delay)||(null===this.findDraggablePart()&&(this.l=new at((o=e.viewportBounds).width/2,o.height/2),e.position=new at((t=t.firstInput.documentPoint).x-this.l.x,t.y-this.l.y)),0))},Eh.prototype.doActivate=function(){this.l=null,lr.prototype.doActivate.call(this)},Eh.prototype.doUpdateCursor=function(){var t=this.diagram,e=t.box;null!==e&&e.cursor&&(t.currentCursor=e.cursor)},Eh.prototype.moveParts=function(){var t=this.diagram,e=t.observed;if(null!==e){var o=t.box;if(null!==o){if(null===this.l){var a=t.firstInput.documentPoint;this.l=new at(a.x-(o=o.location).x,a.y-o.y)}e.position=new at((t=t.lastInput.documentPoint).x-this.l.x,t.y-this.l.y)}}},Eh.className="OverviewDraggingTool",Kn.prototype.toString=function(){return"CommandHandler"},Kn.prototype.ee=function(t){this.B=t},Kn.prototype.doKeyDown=function(){var t=this.diagram,e=t.lastInput,o=Q?e.meta:e.control,a=e.shift,u=e.alt,c=e.key;!o||"C"!==c&&"Insert"!==c?o&&"X"===c||a&&"Del"===c?this.canCutSelection()&&this.cutSelection():o&&"V"===c||a&&"Insert"===c?this.canPasteSelection()&&this.pasteSelection():o&&"Y"===c||u&&a&&"Backspace"===c?this.canRedo()&&this.redo():o&&"Z"===c||u&&"Backspace"===c?this.canUndo()&&this.undo():"Del"===c||"Backspace"===c?this.canDeleteSelection()&&this.deleteSelection():o&&"A"===c?this.canSelectAll()&&this.selectAll():"Esc"===c?this.canStopCommand()&&this.stopCommand():"Up"===c?t.allowVerticalScroll&&t.scroll(o?"pixel":"line","up"):"Down"===c?t.allowVerticalScroll&&t.scroll(o?"pixel":"line","down"):"Left"===c?t.allowHorizontalScroll&&t.scroll(o?"pixel":"line","left"):"Right"===c?t.allowHorizontalScroll&&t.scroll(o?"pixel":"line","right"):"PageUp"===c?a&&t.allowHorizontalScroll?t.scroll("page","left"):t.allowVerticalScroll&&t.scroll("page","up"):"PageDown"===c?a&&t.allowHorizontalScroll?t.scroll("page","right"):t.allowVerticalScroll&&t.scroll("page","down"):"Home"===c?o&&t.allowVerticalScroll?t.scroll("document","up"):!o&&t.allowHorizontalScroll&&t.scroll("document","left"):"End"===c?o&&t.allowVerticalScroll?t.scroll("document","down"):!o&&t.allowHorizontalScroll&&t.scroll("document","right"):" "===c?this.canScrollToPart()&&this.scrollToPart():"Subtract"===c?this.canDecreaseZoom()&&this.decreaseZoom():"Add"===c?this.canIncreaseZoom()&&this.increaseZoom():o&&"0"===c?this.canResetZoom()&&this.resetZoom():a&&"Z"===c?this.canZoomToFit()&&this.zoomToFit():o&&!a&&"G"===c?this.canGroupSelection()&&this.groupSelection():o&&a&&"G"===c?this.canUngroupSelection()&&this.ungroupSelection():"F2"===c||e.event&&"F2"===e.event.key?this.canEditTextBlock()&&this.editTextBlock():"ContextMenu"===c||e.event&&"ContextMenu"===e.event.key?this.canShowContextMenu()&&this.showContextMenu():e.bubbles=!0:this.canCopySelection()&&this.copySelection()},Kn.prototype.doKeyUp=function(){this.diagram.lastInput.bubbles=!0},Kn.prototype.stopCommand=function(){var t=this.diagram,e=t.currentTool;e instanceof zr&&t.allowSelect&&t.clearSelection(),null!==e&&e.doCancel()},Kn.prototype.canStopCommand=function(){return!0},Kn.prototype.selectAll=function(){var t=this.diagram;t.M();try{t.currentCursor="wait",t.R("ChangingSelection",t.selection);for(var e=t.parts;e.next();)e.value.isSelected=!0;for(var o=t.nodes;o.next();)o.value.isSelected=!0;for(var a=t.links;a.next();)a.value.isSelected=!0}finally{t.R("ChangedSelection",t.selection),t.currentCursor=""}},Kn.prototype.canSelectAll=function(){return this.diagram.allowSelect},Kn.prototype.deleteSelection=function(){var t=this.diagram;try{t.currentCursor="wait",t.R("ChangingSelection",t.selection),t.xa("Delete"),t.R("SelectionDeleting",t.selection);for(var e=new Ht,o=t.selection.iterator;o.next();)Li(e,o.value,!0,this.deletesTree?1/0:0,!!this.deletesConnectedLinks&&null,function(a){return a.canDelete()});t.gu(e,!0),t.R("SelectionDeleted",e)}finally{t.Xa("Delete"),t.R("ChangedSelection",t.selection),t.currentCursor=""}},Kn.prototype.canDeleteSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowDelete||0===t.selection.count)},Kn.prototype.copySelection=function(){var t=this.diagram,e=new Ht;for(t=t.selection.iterator;t.next();)Li(e,t.value,!0,this.copiesTree?1/0:0,this.copiesConnectedLinks,function(o){return o.canCopy()});this.copyToClipboard(e)},Kn.prototype.canCopySelection=function(){var t=this.diagram;return!(!t.allowCopy||!t.allowClipboard||0===t.selection.count)},Kn.prototype.cutSelection=function(){this.copySelection(),this.deleteSelection()},Kn.prototype.canCutSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowCopy||!t.allowDelete||!t.allowClipboard||0===t.selection.count)},Kn.prototype.copyToClipboard=function(t){var e=this.diagram,o=null;if(null===t)Ch=null,ca="";else{o=e.model;var a=!1,u=!1,c=null;try{o.Em()&&(a=o.sk,o.sk=this.copiesParentKey),o.Ck()&&(u=o.rk,o.rk=this.copiesGroupKey),c=e.tk(t,null,!0)}finally{o.Em()&&(o.sk=a),o.Ck()&&(o.rk=u),(o=new Vt).addAll(c),Ch=o,ca=e.model.dataFormat}}e.R("ClipboardChanged",o)},Kn.prototype.pasteFromClipboard=function(){var t=new Ht,e=Ch;if(null===e)return t;var o=this.diagram;if(ca!==o.model.dataFormat)return t;var a=o.model,u=!1,c=!1,g=null;try{a.Em()&&(u=a.sk,a.sk=this.copiesParentKey),a.Ck()&&(c=a.rk,a.rk=this.copiesGroupKey),g=o.tk(e,o,!1)}finally{for(a.Em()&&(a.sk=u),a.Ck()&&(a.rk=c),e=g.iterator;e.next();)a=e.key,(o=e.value).location.o()||(a.location.o()?o.location=a.location:!o.position.o()&&a.position.o()&&(o.position=a.position)),t.add(o)}return t},Kn.prototype.pasteSelection=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.currentCursor="wait",e.R("ChangingSelection",e.selection),e.xa("Paste");var o=this.pasteFromClipboard();0<o.count&&e.clearSelection(!0);for(var a=o.iterator;a.next();)a.value.isSelected=!0;if(null!==t){var u=e.computePartsBounds(e.selection);u.o()&&nc(e,this.computeEffectiveCollection(e.selection,e.kl),new at(t.x-u.centerX,t.y-u.centerY),e.kl,!1)}e.R("ClipboardPasted",o)}finally{e.Xa("Paste"),e.R("ChangedSelection",e.selection),e.currentCursor=""}},Kn.prototype.canPasteSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowClipboard||null===Ch||0===Ch.count||ca!==t.model.dataFormat)},Kn.prototype.undo=function(){this.diagram.undoManager.undo()},Kn.prototype.canUndo=function(){var t=this.diagram;return!t.isReadOnly&&!t.isModelReadOnly&&t.allowUndo&&t.undoManager.canUndo()},Kn.prototype.redo=function(){this.diagram.undoManager.redo()},Kn.prototype.canRedo=function(){var t=this.diagram;return!t.isReadOnly&&!t.isModelReadOnly&&t.allowUndo&&t.undoManager.canRedo()},Kn.prototype.decreaseZoom=function(t){void 0===t&&(t=1/this.zoomFactor);var e=this.diagram;e.autoScale===Fs&&((t*=e.scale)<e.minScale||t>e.maxScale||(e.scale=t))},Kn.prototype.canDecreaseZoom=function(t){void 0===t&&(t=1/this.zoomFactor);var e=this.diagram;return e.autoScale===Fs&&!((t*=e.scale)<e.minScale||t>e.maxScale)&&e.allowZoom},Kn.prototype.increaseZoom=function(t){void 0===t&&(t=this.zoomFactor);var e=this.diagram;e.autoScale===Fs&&((t*=e.scale)<e.minScale||t>e.maxScale||(e.scale=t))},Kn.prototype.canIncreaseZoom=function(t){void 0===t&&(t=this.zoomFactor);var e=this.diagram;return e.autoScale===Fs&&!((t*=e.scale)<e.minScale||t>e.maxScale)&&e.allowZoom},Kn.prototype.resetZoom=function(t){void 0===t&&(t=this.defaultScale);var e=this.diagram;t<e.minScale||t>e.maxScale||(e.scale=t)},Kn.prototype.canResetZoom=function(t){void 0===t&&(t=this.defaultScale);var e=this.diagram;return!(t<e.minScale||t>e.maxScale)&&e.allowZoom},Kn.prototype.zoomToFit=function(){var t=this.diagram,e=t.animationManager;e.Bc(),t.redraw();var o=t.position,a=t.scale;io(e,"Zoom To Fit"),this.isZoomToFitRestoreEnabled&&a===this.Bv&&!isNaN(this.bv)&&t.documentBounds.w(this.Av)?(t.scale=this.bv,t.position=this.yx,this.Bv=NaN,this.Av=Er):(this.bv=a,this.yx=o.copy(),t.zoomToFit(),this.Bv=t.scale,this.Av=t.documentBounds.copy()),kn(e)},Kn.prototype.canZoomToFit=function(){return this.diagram.allowZoom},Kn.prototype.scrollToPart=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.Ta(),null===t){try{null!==this.rg&&(this.rg.next()?t=this.rg.value:this.rg=null)}catch(A){this.rg=null}null===t&&(0<e.highlighteds.count?this.rg=e.highlighteds.iterator:0<e.selection.count&&(this.rg=e.selection.iterator),null!==this.rg&&this.rg.next()&&(t=this.rg.value))}if(null!==t){var o=e.animationManager;io(o,"Scroll To Part");var a=this.scrollToPartPause;if(0<a){var u=lf(this,t,[t]);if(1===u.length)e.xa(),e.At(t.actualBounds),e.Xa("Scroll To Part");else{var c=function(){e.xa();for(var A=u.pop();0<u.length&&A instanceof Ne&&A.isTreeExpanded&&(!(A instanceof ai)||A.isSubGraphExpanded);)A=u.pop();0<u.length?(A instanceof Bt&&e.Aw(A.actualBounds),A instanceof Ne&&!A.isTreeExpanded&&(A.isTreeExpanded=!0),A instanceof ai&&!A.isSubGraphExpanded&&(A.isSubGraphExpanded=!0)):(A instanceof Bt&&e.At(A.actualBounds),e.Lm("LayoutCompleted",g)),e.Xa("Scroll To Part")},g=function(){Y(c,(o.isEnabled?o.duration:0)+a)};e.kk("LayoutCompleted",g),c()}}else{var _=e.position.copy();e.At(t.actualBounds),_.Qa(e.position)&&o.Bc()}}},Kn.prototype.canScrollToPart=function(t){return void 0===t&&(t=null),(null===t||t instanceof Bt)&&(0!==(t=this.diagram).selection.count||0!==t.highlighteds.count)&&t.allowHorizontalScroll&&t.allowVerticalScroll},Kn.prototype.collapseTree=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.xa("Collapse Tree"),io(e.animationManager,"Collapse Tree");var o=new Vt;if(null!==t&&t.isTreeExpanded)t.collapseTree(),o.add(t);else if(null===t)for(var a=e.selection.iterator;a.next();){var u=a.value;u instanceof Ne&&u.isTreeExpanded&&(u.collapseTree(),o.add(u))}e.R("TreeCollapsed",o)}finally{e.Xa("Collapse Tree")}},Kn.prototype.canCollapseTree=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t){if(!(t instanceof Ne&&t.isTreeExpanded))return!1;if(0<t.Hq().count)return!0}else for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof Ne&&e.isTreeExpanded&&0<e.Hq().count)return!0;return!1},Kn.prototype.expandTree=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.xa("Expand Tree"),io(e.animationManager,"Expand Tree");var o=new Vt;if(null===t||t.isTreeExpanded){if(null===t)for(var a=e.selection.iterator;a.next();){var u=a.value;u instanceof Ne&&!u.isTreeExpanded&&(u.expandTree(),o.add(u))}}else t.expandTree(),o.add(t);e.R("TreeExpanded",o)}finally{e.Xa("Expand Tree")}},Kn.prototype.canExpandTree=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t){if(!(t instanceof Ne)||t.isTreeExpanded)return!1;if(0<t.Hq().count)return!0}else for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof Ne&&!e.isTreeExpanded&&0<e.Hq().count)return!0;return!1},Kn.prototype.groupSelection=function(){var t=this.diagram,e=t.model;if(e.Dk()){var o=this.archetypeGroupData;if(null!==o){var a=null;try{t.currentCursor="wait",t.R("ChangingSelection",t.selection),t.xa("Group");for(var u=new Vt,c=t.selection.iterator;c.next();){var g=c.value;g.Nc()&&g.canGroup()&&u.add(g)}for(var _=new Vt,A=u.iterator;A.next();){var I=A.value;c=!1;for(var B=u.iterator;B.next();)if(I.Kd(B.value)){c=!0;break}c||_.add(I)}if(0<_.count){var H=_.first().containingGroup;if(null!==H)for(;null!==H;){u=!1;for(var dt=_.iterator;dt.next();)if(!dt.value.Kd(H)){u=!0;break}if(!u)break;H=H.containingGroup}if(o instanceof ai)va(o),null!==(a=o.copy())&&t.add(a);else if(e.fw(o)){var bt=e.copyNodeData(o);gt(bt)&&(e.uf(bt),a=t.gj(bt))}if(null!==a){null!==H&&this.isValidMember(H,a)&&(a.containingGroup=H);for(var pt=_.iterator;pt.next();){var Rt=pt.value;this.isValidMember(a,Rt)&&(Rt.containingGroup=a)}t.clearSelection(!0),a.isSelected=!0}}t.R("SelectionGrouped",a)}finally{t.Xa("Group"),t.R("ChangedSelection",t.selection),t.currentCursor=""}}}},Kn.prototype.canGroupSelection=function(){var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowGroup||!t.model.Dk()||null===this.archetypeGroupData)return!1;for(t=t.selection.iterator;t.next();){var e=t.value;if(e.Nc()&&e.canGroup())return!0}return!1},Kn.prototype.isValidMember=function(t,e){if(null===e||t===e||e instanceof We)return!1;if(null!==t){if(t===e||t.Kd(e))return!1;var o=t.memberValidation;if(null!==o&&!o(t,e)||null===t.data&&null!==e.data||null!==t.data&&null===e.data)return!1}return null===(o=this.memberValidation)||o(t,e)},Kn.prototype.ungroupSelection=function(t){void 0===t&&(t=null);var e=this.diagram,o=e.model;if(o.Dk())try{e.currentCursor="wait",e.R("ChangingSelection",e.selection),e.xa("Ungroup");var a=new Vt;if(null!==t)a.add(t);else for(var u=e.selection.iterator;u.next();){var c=u.value;c instanceof ai&&c.canUngroup()&&a.add(c)}var g=new Vt;if(0<a.count){e.clearSelection(!0);for(var _=a.iterator;_.next();){var A=_.value;A.expandSubGraph();var I=A.containingGroup,B=null!==I&&null!==I.data?o.ja(I.data):void 0;g.addAll(A.memberParts);for(var H=g.iterator;H.next();){var dt=H.value;if(dt.isSelected=!0,!(dt instanceof We)){var bt=dt.data;null!==bt?o.dr(bt,B):dt.containingGroup=I}}e.remove(A)}}e.R("SelectionUngrouped",a,g)}finally{e.Xa("Ungroup"),e.R("ChangedSelection",e.selection),e.currentCursor=""}},Kn.prototype.canUngroupSelection=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowDelete||!e.allowUngroup||!e.model.Dk())return!1;if(null!==t){if(!(t instanceof ai))return!1;if(t.canUngroup())return!0}else for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof ai&&e.canUngroup())return!0;return!1},Kn.prototype.addTopLevelParts=function(t,e){var o=!0;for(t=Bs(t).iterator;t.next();){var a=t.value;null!==a.containingGroup&&(!e||this.isValidMember(null,a)?a.containingGroup=null:o=!1)}return o},Kn.prototype.collapseSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.xa("Collapse SubGraph"),io(e.animationManager,"Collapse SubGraph");var o=new Vt;if(null!==t&&t.isSubGraphExpanded)t.collapseSubGraph(),o.add(t);else if(null===t)for(var a=e.selection.iterator;a.next();){var u=a.value;u instanceof ai&&u.isSubGraphExpanded&&(u.collapseSubGraph(),o.add(u))}e.R("SubGraphCollapsed",o)}finally{e.Xa("Collapse SubGraph")}},Kn.prototype.canCollapseSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t)return!!(t instanceof ai&&t.isSubGraphExpanded);for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof ai&&e.isSubGraphExpanded)return!0;return!1},Kn.prototype.expandSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.xa("Expand SubGraph"),io(e.animationManager,"Expand SubGraph");var o=new Vt;if(null===t||t.isSubGraphExpanded){if(null===t)for(var a=e.selection.iterator;a.next();){var u=a.value;u instanceof ai&&!u.isSubGraphExpanded&&(u.expandSubGraph(),o.add(u))}}else t.expandSubGraph(),o.add(t);e.R("SubGraphExpanded",o)}finally{e.Xa("Expand SubGraph")}},Kn.prototype.canExpandSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t)return t instanceof ai&&!t.isSubGraphExpanded;for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof ai&&!e.isSubGraphExpanded)return!0;return!1},Kn.prototype.editTextBlock=function(t){void 0===t&&(t=null);var e=this.diagram,o=e.toolManager.findTool("TextEditing");if(null!==o){if(null===t){t=null;for(var a=e.selection.iterator;a.next();){var u=a.value;if(u.canEdit()){t=u;break}}if(null===t)return;t=t.ym(function(c){return c instanceof $n&&c.editable})}null!==t&&(e.currentTool=null,o.textBlock=t,e.currentTool=o)}},Kn.prototype.canEditTextBlock=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowTextEdit||null===e.toolManager.findTool("TextEditing"))return!1;if(null!==t){if(!(t instanceof $n))return!1;if(null!==(t=t.part)&&t.canEdit())return!0}else for(e=e.selection.iterator;e.next();)if((t=e.value).canEdit()&&null!==(t=t.ym(function(o){return o instanceof $n&&o.editable})))return!0;return!1},Kn.prototype.showContextMenu=function(t){var e=this.diagram,o=e.toolManager.findTool("ContextMenu");if(null!==o&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null!==(t=o.findObjectWithContextMenu(t)))){var a=e.lastInput,u=null;t instanceof Ri?u=t.da(Vi):e.viewportBounds.$(a.documentPoint)||(u=new at((u=e.viewportBounds).x+u.width/2,u.y+u.height/2)),null!==u&&(a.viewPoint=e.gr(u),a.documentPoint=u,a.left=!1,a.right=!0,a.up=!0),e.currentTool=o,hb(o,!1,t)}},Kn.prototype.canShowContextMenu=function(t){var e=this.diagram,o=e.toolManager.findTool("ContextMenu");return null!==o&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null!==o.findObjectWithContextMenu(t))},Kn.prototype.computeEffectiveCollection=function(t,e){var o=this.diagram,a=o.toolManager.findTool("Dragging"),u=o.currentTool===a;if(void 0===e&&(e=u?a.dragOptions:o.kl),a=new vt,null===t)return a;for(var c=t.iterator;c.next();)Js(o,a,c.value,u,e);if(null!==o.draggedLink&&e.dragsLink)return a;for(c=t.iterator;c.next();)(t=c.value)instanceof We&&((null===(e=t.fromNode)||a.contains(e))&&(null===(e=t.toNode)||a.contains(e))||a.remove(t));return a},W.Object.defineProperties(Kn.prototype,{diagram:{get:function(){return this.B}},copiesClipboardData:{get:function(){return this.u},set:function(t){this.u=t}},copiesConnectedLinks:{get:function(){return this.I},set:function(t){this.I=t}},deletesConnectedLinks:{get:function(){return this.eb},set:function(t){this.eb=t}},copiesTree:{get:function(){return this.La},set:function(t){this.La=t}},deletesTree:{get:function(){return this.Sc},set:function(t){this.Sc=t}},copiesParentKey:{get:function(){return this.Ka},set:function(t){this.Ka=t}},copiesGroupKey:{get:function(){return this.T},set:function(t){this.T=t}},archetypeGroupData:{get:function(){return this.l},set:function(t){this.l=t}},memberValidation:{get:function(){return this.Ki},set:function(t){this.Ki=t}},defaultScale:{get:function(){return this.diagram.defaultScale},set:function(t){this.diagram.defaultScale=t}},zoomFactor:{get:function(){return this.Od},set:function(t){1<t||V("zoomFactor must be larger than 1.0, not: "+t),this.Od=t}},isZoomToFitRestoreEnabled:{get:function(){return this.Cc},set:function(t){this.Cc=t}},scrollToPartPause:{get:function(){return this.Tc},set:function(t){this.Tc=t}}}),Kn.className="CommandHandler",Zp=function(){return new Kn},Ri.prototype.cloneProtected=function(t){t.F=6144|this.F,t.hb=this.hb,t.oa=this.oa,t.mb=this.mb,t.ec=this.ec,t.Mg=this.Mg,t.la.assign(this.la),t.Xc=this.Xc.H(),t.fg=this.fg.H(),t.eg=this.eg.H(),t.cg=this.cg.copy(),t.Aa=this.Aa,t.Yb=this.Yb,t.De=this.De,t.jh=this.jh.H(),t.qc.assign(this.qc),t.xb.assign(this.xb),t.rc.assign(this.rc),t.xp=this.xp,null!==this.O&&(t.O=this.O.copy()),t.yb=this.yb.H(),t.$k=this.$k.H(),t.Jp=this.Jp,t.Kp=this.Kp,t.Rg=this.Rg,t.zn=this.zn,t.aq=this.aq,t.Qp=this.Qp,t.am=this.am,t.bm=this.bm.H(),t.cm=this.cm,t.oi=this.oi,null!==this.N&&(t.N=this.N.copy()),t.fb=this.fb,t.dl=this.dl,null!==this.ni&&(t.ni=Dt(this.ni)),null!==this.Za&&(t.Za=this.Za.copy()),t.em=this.em},Ri.prototype.Tx=function(t){var e=this.ni;if(Et(e)){for(var o=0;o<e.length;o++)if(e[o]===t)return}else this.ni=e=[];e.push(t)},Ri.prototype.yf=function(t){t.yp=null,t.ak=null,t.s()},Ri.prototype.clone=function(){var t=new this.constructor;if(this.cloneProtected(t),null!==this.ni)for(var e=0;e<this.ni.length;e++){var o=this.ni[e];t[o]=this[o]}return t},Ri.prototype.copy=function(){return this.clone()},(ot=Ri.prototype).jb=function(t){t.classType===We?0===t.name.indexOf("Orient")?this.segmentOrientation=t:V("Unknown Link enum value for GraphObject.segmentOrientation property: "+t):t.classType===Ri&&(this.stretch=t)},ot.toString=function(){return y(this.constructor)+"#"+we(this)},ot.Kc=function(){if(null===this.O){var t=new Nm;t.bh=hn,t.Ch=hn,t.$g=10,t.Ah=10,t.ah=0,t.Bh=0,this.O=t}},ot.Va=function(t,e,o,a,u,c,g){var _=this.part;if(null!==_&&(_.Sk(t,e,o,a,u,c,g),o===this&&t===_r&&uf(this)&&Au(this,_,e),c=this.diagram,null===this.Mg||null===c||!c.pj||c.undoManager.isUndoingRedoing||c.currentTool!==c.toolManager||c.animationManager.tn||null!==(t=this.Mg.get(e))&&c.animationManager.isEnabled&&!c.animationManager.isTicking&&(null===this.Mp&&(this.Mp=new vt),g=0===c.undoManager.transactionLevel,t.startCondition===Qo?g=!0:t.startCondition===Us&&(g=!1),g?(function(t,e){null!==(t=t.bl)&&(t.duration&&(e.duration=t.duration),t.finished&&(e.finished=t.finished),t.easing&&(e.easing=t.easing))}(t,c=new ks),null!==(g=this.Mp.get(t))&&g.stop(),this.Mp.add(t,c),c.xv=this,c.Ox=t,c.add(this,e,a,u),c.start()):(yr(c.animationManager,"Trigger"),c.animationManager.defaultAnimation.add(this,e,a,u))),this instanceof Ke&&o===_&&0!=(16777216&_.F)&&null!==_.data))for(a=(o=this.W.j).length,u=0;u<a;u++)(_=o[u])instanceof Ke&&Ih(_,function(A){null!==A.data&&0!=(16777216&A.F)&&A.Ea(e)})},ot.Gt=function(t){return this.dl===t?this:null},ot.g=function(t,e,o){this.Va(_r,t,this,e,o)},ot.sy=function(t,e,o){if(!1===this.pickable)return!1;var a=this.naturalBounds;return e=t.Ie(e),o?Te(t.x,t.y,0,0,0,a.height)<=e||Te(t.x,t.y,0,a.height,a.width,a.height)<=e||Te(t.x,t.y,a.width,a.height,a.width,0)<=e||Te(t.x,t.y,a.width,0,0,0)<=e:t.qd(0,0)<=e&&t.qd(0,a.height)<=e&&t.qd(a.width,0)<=e&&t.qd(a.width,a.height)<=e},ot.he=function(){return!0},ot.$=function(t){var e=at.alloc();e.assign(t),this.transform.ta(e);var o=this.actualBounds;if(!o.o())return at.free(e),!1;var a=this.diagram;if(null!==a&&a.re){var u=a.Bm("extraTouchThreshold"),c=a.Bm("extraTouchArea"),g=c/2,_=this.naturalBounds,A=1/(a=this.Af()*a.scale);if(_.width*a<u&&_.height*a<u)return t=sn(o.x-g*A,o.y-g*A,o.width+c*A,o.height+c*A,e.x,e.y),at.free(e),t}return u=!1,(this instanceof si||this instanceof Yi?sn(o.x-5,o.y-5,o.width+10,o.height+10,e.x,e.y):o.$(e))&&(u=!(this.Za&&!this.Za.$(e))&&(!!(null!==this.ec&&o.$(e)||null!==this.mb&&this.rc.$(t))||this.Kh(t))),at.free(e),u},ot.Kh=function(t){var e=this.naturalBounds;return sn(0,0,e.width,e.height,t.x,t.y)},ot.Ge=function(t){if(0===this.angle)return this.actualBounds.Ge(t);var e=this.naturalBounds;e=te.allocAt(0,0,e.width,e.height);var o=this.transform,a=!1,u=at.allocAt(t.x,t.y);return e.$(o.Jd(u))&&(u.h(t.x,t.bottom),e.$(o.Jd(u))&&(u.h(t.right,t.bottom),e.$(o.Jd(u))&&(u.h(t.right,t.y),e.$(o.Jd(u))&&(a=!0)))),at.free(u),te.free(e),a},ot.Jh=function(t,e){if(void 0===e)return t.Ge(this.actualBounds);var o=this.naturalBounds,a=!1,u=at.allocAt(0,0);return t.$(e.ta(u))&&(u.h(0,o.height),t.$(e.ta(u))&&(u.h(o.width,o.height),t.$(e.ta(u))&&(u.h(o.width,0),t.$(e.ta(u))&&(a=!0)))),at.free(u),a},ot.Mc=function(t,e){if(void 0===e&&(e=this.transform,0===this.angle))return t.Mc(this.actualBounds);var o=this.naturalBounds,a=at.allocAt(0,0),u=at.allocAt(0,o.height),c=at.allocAt(o.width,o.height),g=at.allocAt(o.width,0),_=!1;if(t.$(e.ta(a))||t.$(e.ta(u))||t.$(e.ta(c))||t.$(e.ta(g)))_=!0;else{o=te.allocAt(0,0,o.width,o.height);var A=at.allocAt(t.x,t.y);o.$(e.Jd(A))?_=!0:(A.h(t.x,t.bottom),o.$(e.Jd(A))?_=!0:(A.h(t.right,t.bottom),o.$(e.Jd(A))?_=!0:(A.h(t.right,t.y),o.$(e.Jd(A))&&(_=!0)))),at.free(A),te.free(o),!_&&(me.Qt(t,a,u)||me.Qt(t,u,c)||me.Qt(t,c,g)||me.Qt(t,g,a))&&(_=!0)}return at.free(a),at.free(u),at.free(c),at.free(g),_},ot.da=function(t,e){if(void 0===e&&(e=new at),t instanceof ki){var o=this.naturalBounds;e.h(t.x*o.width+t.offsetX,t.y*o.height+t.offsetY)}else e.set(t);return this.Fd.ta(e),e},ot.mj=function(t){void 0===t&&(t=new te);var e=this.naturalBounds,o=this.Fd,a=at.allocAt(0,0).transform(o);return t.h(a.x,a.y,0,0),a.h(e.width,0).transform(o),en(t,a.x,a.y,0,0),a.h(e.width,e.height).transform(o),en(t,a.x,a.y,0,0),a.h(0,e.height).transform(o),en(t,a.x,a.y,0,0),at.free(a),t},ot.lj=function(){var t=this.Fd;return 1===t.m11&&0===t.m12?t=0:0>(t=180*Math.atan2(t.m12,t.m11)/Math.PI)&&(t+=360),t},ot.Af=function(){if(0==(4096&this.F))return this.ql;var t=this.Aa;return null!==this.panel?t*this.panel.Af():t},ot.Mt=function(t,e){return void 0===e&&(e=new at),e.assign(t),this.Fd.Jd(e),e},ot.Nt=function(t,e,o){return this.zk(t.x,t.y,e.x,e.y,o)},ot.zk=function(t,e,o,a,u){var c=this.transform,g=1/(c.m11*c.m22-c.m12*c.m21),_=c.m22*g,A=-c.m12*g,I=-c.m21*g,B=c.m11*g,H=g*(c.m21*c.dy-c.m22*c.dx),dt=g*(c.m12*c.dx-c.m11*c.dy);return null!==this.areaBackground?me.Cf((c=this.actualBounds).left,c.top,c.right,c.bottom,t,e,o,a,u):(g=t*_+e*I+H,t=t*A+e*B+dt,e=o*_+a*I+H,o=o*A+a*B+dt,u.h(0,0),o=me.Cf(0,0,(a=this.naturalBounds).width,a.height,g,t,e,o,u),u.transform(c),o)},Ri.prototype.measure=function(t,e,o,a){if(!1!==dc(this)){var u=this.jh,c=u.right+u.left;u=u.top+u.bottom,t=Math.max(t-c,0),e=Math.max(e-u,0),o=Math.max((o||0)-c,0),a=Math.max((a||0)-u,0),u=this.desiredSize;var g=0;this instanceof Yi&&(g=this.strokeWidth),90===(c=this.angle)||270===c?(t=isFinite(u.height)?u.height+g:t,e=isFinite(u.width)?u.width+g:e):(t=isFinite(u.width)?u.width+g:t,e=isFinite(u.height)?u.height+g:e),u=o||0,g=a||0;var _=this instanceof Ke;switch(wl(this,!0)){case qn:g=u=0,_&&(e=t=1/0);break;case qr:isFinite(t)&&t>o&&(u=t),isFinite(e)&&e>a&&(g=e);break;case ro:isFinite(t)&&t>o&&(u=t),g=0,_&&(e=1/0);break;case Ts:isFinite(e)&&e>a&&(g=e),u=0,_&&(t=1/0)}var A=this.minSize;u>(_=this.maxSize).width&&A.width<_.width&&(u=_.width),g>_.height&&A.height<_.height&&(g=_.height),o=Math.max(u/this.scale,A.width),a=Math.max(g/this.scale,A.height),_.width<o&&(o=Math.min(A.width,o)),_.height<a&&(a=Math.min(A.height,a)),t=Math.min(_.width,t),e=Math.min(_.height,e),t=Math.max(o,t),e=Math.max(a,e),(90===c||270===c)&&(c=t,t=e,e=c,c=o,o=a,a=c),this.qc.ea(),this.Hm(t,e,o,a),this.qc.freeze(),this.qc.o()||V("Non-real measuredBounds has been set. Object "+this+", measuredBounds: "+this.qc.toString()),Aa(this,!1)}},Ri.prototype.Hm=function(){},Ri.prototype.Ff=function(){return!1},Ri.prototype.arrange=function(t,e,o,a,u){this.Fl();var c=te.alloc();c.assign(this.xb),this.xb.ea(),!1===Wa(this)?this.xb.h(t,e,o,a):this.Ih(t,e,o,a),this.xb.freeze(),this.Za=void 0===u?null:u,o=!1,void 0!==u?o=!0:(null===(u=this.panel)||u.type!==Ke.TableRow&&u.type!==Ke.TableColumn||(u=u.panel),null!==u&&(u=u.rc,a=this.measuredBounds,null!==this.areaBackground&&(a=this.xb),o=e+a.height,a=t+a.width,o=!(0<=t+.05&&a<=u.width+.05&&0<=e+.05&&o<=u.height+.05),this instanceof $n&&(this.us>(t=this.naturalBounds).height||this.vb>t.width))&&(o=!0)),this.F=o?256|this.F:-257&this.F,this.xb.o()||V("Non-real actualBounds has been set. Object "+this+", actualBounds: "+this.xb.toString()),this.Im(c,this.xb),Tu(this,!1),te.free(c)},(ot=Ri.prototype).Ih=function(){},ot.Im=function(t,e){var o=this.part;null!==o&&null!==o.diagram&&(o.selectionObject!==this&&o.resizeObject!==this&&o.rotateObject!==this||Ze(o,!0),this.M(),ci(t,e)||(o.Oh(),this.mp(o)))},ot.mp=function(t){null!==this.portId&&(Ze(t,!0),t instanceof Ne&&wi(t,this))},ot.mc=function(t,e){if(this.visible){var o=this instanceof Ke&&(this.type===Ke.TableRow||this.type===Ke.TableColumn),a=this.xb;if(o||0!==a.width&&0!==a.height&&!isNaN(a.x)&&!isNaN(a.y)){var u=this.opacity;if(0!==u){var c=1;if(1!==u&&(t.globalAlpha=(c=t.globalAlpha)*u),!this.ly(t,e))if(o)wx(this,t,e);else{this instanceof We&&this.Gk(!1),o=this.transform;var g=this.panel;0!=(4096&this.F)&&ev(this);var _=this.part,A=!1,I=0;if(_&&e.Ke("drawShadows")&&(A=_.isShadowed)){var B=_.shadowOffset;I=Math.max(B.y,B.x)*e.scale*e.Tb}if(!(B=e.yi||!this.Ff())){var ie,H=this.naturalBounds,dt=(B=this.Zh).m11,bt=B.m21,pt=B.dx,Rt=B.m12,Xt=B.m22,$t=B.dy,oe=ie=0;B=ie*dt+oe*bt+pt;var ce=ie*Rt+oe*Xt+$t,_e=(ie=H.width+I)*dt+(oe=0)*bt+pt;ie=ie*Rt+oe*Xt+$t,oe=Math.min(B,_e);var Je=Math.min(ce,ie),Si=Math.max(B+0,_e)-oe,li=Math.max(ce+0,ie)-Je;B=oe,ce=Je,_e=(ie=H.width+I)*dt+(oe=H.height+I)*bt+pt,ie=ie*Rt+oe*Xt+$t,oe=Math.min(B,_e),Je=Math.min(ce,ie),Si=Math.max(B+Si,_e)-oe,li=Math.max(ce+li,ie)-Je,B=oe,ce=Je,_e=(ie=0)*dt+(oe=H.height+I)*bt+pt,ie=ie*Rt+oe*Xt+$t,oe=Math.min(B,_e),Je=Math.min(ce,ie),Si=Math.max(B+Si,_e)-oe,li=Math.max(ce+li,ie)-Je,ce=Je,dt=(I=e.viewportBounds).y,B=!((B=oe)>I.width+(H=I.x)||H>Si+B||ce>I.height+dt||dt>li+ce)}if(B){if(B=0!=(256&this.F),t.clipInsteadOfFill&&(B=!1),this instanceof $n&&(t.font=this.font),B){if(ce=g.he()?g.naturalBounds:g.actualBounds,null!==this.Za?(Si=(H=this.Za).x,li=H.y,I=H.width,H=H.height):(Si=Math.max(a.x,ce.x),li=Math.max(a.y,ce.y),I=Math.min(a.right,ce.right)-Si,H=Math.min(a.bottom,ce.bottom)-li),Si>a.width+a.x||a.x>ce.width+ce.x)return void(1!==u&&(t.globalAlpha=c));t.save(),t.beginPath(),t.rect(Si,li,I,H),t.clip()}if(this.Ff()){if(!_.isVisible())return void(1!==u&&(t.globalAlpha=c));A&&(t.Iw((ce=_.shadowOffset).x*e.scale*e.Tb,ce.y*e.scale*e.Tb,_.shadowBlur),Xu(t),t.shadowColor=_.shadowColor)}A&&!0===this.shadowVisible?Xu(t):A&&!1===this.shadowVisible&&Ru(t),_=this.naturalBounds,null!==this.ec&&(fa(this,t,this.ec,!0,!0,_,a),this.ec instanceof Dn&&this.ec.type===ma?(t.beginPath(),t.rect(a.x,a.y,a.width,a.height),t.Je(this.ec)):t.fillRect(a.x,a.y,a.width,a.height)),t.transform(o.m11,o.m12,o.m21,o.m22,o.dx,o.dy),A&&(null!==g&&0!=(512&g.F)||null!==g&&(g.type===Ke.Auto||g.type===Ke.Spot)&&g.tb()!==this)&&null===this.shadowVisible&&Ru(t),null!==this.mb&&(Si=ce=0,li=(I=this.naturalBounds).width,I=I.height,H=0,this instanceof Yi&&(ce=(I=this.na.bounds).x,Si=I.y,li=I.width,I=I.height,H=this.strokeWidth),fa(this,t,this.mb,!0,!1,_,a),this.mb instanceof Dn&&this.mb.type===ma?(t.beginPath(),t.rect(ce-H/2,Si-H/2,li+H,I+H),t.Je(this.mb)):t.fillRect(ce-H/2,Si-H/2,li+H,I+H)),A&&(null!==this.mb||null!==this.ec||null!==g&&0!=(512&g.F)||null!==g&&(g.type===Ke.Auto||g.type===Ke.Spot)&&g.tb()!==this)?(Jf(this,!0),null===this.shadowVisible&&Ru(t)):Jf(this,!1),this.ej(t,e),A&&0!=(512&this.F)&&Xu(t),this.Ff()&&A&&Ru(t),B?(t.restore(),t.uc(this instanceof Ke)):o.Tt()||t.transform(o.m22*(e=1/(o.m11*o.m22-o.m12*o.m21)),-o.m12*e,-o.m21*e,o.m11*e,e*(o.m21*o.dy-o.m22*o.dx),e*(o.m12*o.dx-o.m11*o.dy))}}1!==u&&(t.globalAlpha=c)}}}},ot.ly=function(){return!1},ot.ej=function(){},ot.Gg=function(t){if(t instanceof Ke)t:{if(this!==t&&null!==t)for(var e=this.panel;null!==e;){if(e===t){t=!0;break t}e=e.panel}t=!1}else t=!1;return t},ot.Gf=function(){if(!this.visible)return!1;var t=this.panel;return null===t||t.Gf()},ot.Hg=function(){for(var t=this instanceof Ke?this:this.panel;null!==t&&t.isEnabled;)t=t.panel;return null===t},ot.s=function(t){if(!dc(this)){void 0===t&&(t=!1),Aa(this,!0),Tu(this,!0);var e=this.panel;null===e||t||e.s()}},ot.Bk=function(){dc(this)||(Aa(this,!0),Tu(this,!0))},ot.Fl=function(){0==(2048&this.F)&&(c0(this,!0),fc(this,!0))},ot.dw=function(){fc(this,!0)},ot.M=function(){var t=this.part;null!==t&&t.M()},ot.sj=function(t){this.og=t},ot.lu=function(){},ot.Ew=function(t){return this.la.assign(t),$u(this),!0},ot.er=function(t,e){(this.la.x!==t||this.la.y!==e)&&(this.la.h(t,e),this.Fl())},ot.bind=function(t){t.pd=this;var e=this.ij();null!==e&&By(e)&&V("Cannot add a Binding to a template that has already been copied: "+t),null===this.fb&&(this.fb=new Vt),this.fb.add(t)},ot.ij=function(){for(var t=this instanceof Ke?this:this.panel;null!==t;){if(null!==t.li)return t;t=t.panel}return null},ot.Fw=function(t){am(this,t)},ot.Qw=function(t){t.pd=this,null===this.Mg&&(this.Mg=new vt),this.Mg.add(t.propertyName,t)},W.Object.defineProperties(Ri.prototype,{shadowVisible:{get:function(){return this.em},set:function(t){var e=this.em;e!==t&&(this.em=t,this.M(),this.g("shadowVisible",e,t))}},enabledChanged:{get:function(){return null!==this.N?this.N.Wn:null},set:function(t){js(this);var e=this.N.Wn;e!==t&&(this.N.Wn=t,this.g("enabledChanged",e,t))}},segmentOrientation:{get:function(){return this.cm},set:function(t){var e=this.cm;e!==t&&(this.cm=t,this.s(),this.g("segmentOrientation",e,t),t===bs&&(this.angle=0))}},segmentIndex:{get:function(){return this.Qp},set:function(t){t=Math.round(t);var e=this.Qp;e!==t&&(this.Qp=t,this.s(),this.g("segmentIndex",e,t))}},segmentFraction:{get:function(){return this.am},set:function(t){isNaN(t)||0>t?t=0:1<t&&(t=1);var e=this.am;e!==t&&(this.am=t,this.s(),this.g("segmentFraction",e,t))}},segmentOffset:{get:function(){return this.bm},set:function(t){var e=this.bm;e.w(t)||(this.bm=t=t.H(),this.s(),this.g("segmentOffset",e,t))}},stretch:{get:function(){return this.De},set:function(t){var e=this.De;e!==t&&(this.De=t,this.s(),this.g("stretch",e,t))}},name:{get:function(){return this.oa},set:function(t){var e=this.oa;e!==t&&(this.oa=t,null!==this.part&&(this.part.Xj=null),this.g("name",e,t))}},opacity:{get:function(){return this.hb},set:function(t){var e=this.hb;e!==t&&((0>t||1<t)&&et(t,"0 <= value <= 1",Ri,"opacity"),this.hb=t,this.g("opacity",e,t),e=this.part,null!==(t=this.diagram)&&null!==e&&t.M(xe(e,e.actualBounds)))}},visible:{get:function(){return 0!=(1&this.F)},set:function(t){var e=0!=(1&this.F);e!==t&&(this.F^=1,this.g("visible",e,t),null!==(e=this.panel)?e.s():this.Ff()&&this.Ob(t),this.M(),bx(this))}},pickable:{get:function(){return 0!=(2&this.F)},set:function(t){var e=0!=(2&this.F);e!==t&&(this.F^=2,this.g("pickable",e,t))}},fromLinkableDuplicates:{get:function(){return 0!=(4&this.F)},set:function(t){var e=0!=(4&this.F);e!==t&&(this.F^=4,this.g("fromLinkableDuplicates",e,t))}},fromLinkableSelfNode:{get:function(){return 0!=(8&this.F)},set:function(t){var e=0!=(8&this.F);e!==t&&(this.F^=8,this.g("fromLinkableSelfNode",e,t))}},toLinkableDuplicates:{get:function(){return 0!=(16&this.F)},set:function(t){var e=0!=(16&this.F);e!==t&&(this.F^=16,this.g("toLinkableDuplicates",e,t))}},toLinkableSelfNode:{get:function(){return 0!=(32&this.F)},set:function(t){var e=0!=(32&this.F);e!==t&&(this.F^=32,this.g("toLinkableSelfNode",e,t))}},isPanelMain:{get:function(){return 0!=(64&this.F)},set:function(t){var e=0!=(64&this.F);e!==t&&(this.F^=64,this.s(),this.g("isPanelMain",e,t))}},isActionable:{get:function(){return 0!=(128&this.F)},set:function(t){var e=0!=(128&this.F);e!==t&&(this.F^=128,this.g("isActionable",e,t))}},areaBackground:{get:function(){return this.ec},set:function(t){var e=this.ec;e!==t&&(null!==t&&Zu(t,"GraphObject.areaBackground"),t instanceof Dn&&t.freeze(),this.ec=t,this.M(),this.g("areaBackground",e,t))}},background:{get:function(){return this.mb},set:function(t){var e=this.mb;e!==t&&(null!==t&&Zu(t,"GraphObject.background"),t instanceof Dn&&t.freeze(),this.mb=t,this.M(),this.g("background",e,t))}},part:{get:function(){if(this.Ff())return this;if(null!==this.ak)return this.ak;var t;for(t=this.panel;t;){if(t instanceof Bt)return this.ak=t;t=t.panel}return null}},svg:{get:function(){return this.gq},set:function(t){this.gq=t}},panel:{get:function(){return this.og}},layer:{get:function(){var t=this.part;return null!==t?t.layer:null}},diagram:{get:function(){var t=this.part;return null!==t?t.diagram:null}},position:{get:function(){return this.la},set:function(t){var e=t.x,o=t.y,a=this.la,u=a.x,c=a.y;(u===e||isNaN(u)&&isNaN(e))&&(c===o||isNaN(c)&&isNaN(o))?this.lu():(t=t.copy(),this.Ew(t,a)&&this.g("position",a.copy(),t.copy()))}},actualBounds:{get:function(){return this.xb}},scale:{get:function(){return this.Aa},set:function(t){var e=this.Aa;e!==t&&(0>=t&&V("GraphObject.scale for "+this+" must be greater than zero, not: "+t),this.Aa=t,this.s(),this.g("scale",e,t))}},angle:{get:function(){return this.Yb},set:function(t){var e=this.Yb;e!==t&&(0>(t%=360)&&(t+=360),e!==t&&(this.Yb=t,bx(this),this.s(),this.g("angle",e,t)))}},desiredSize:{get:function(){return this.Xc},set:function(t){var e=t.width,o=t.height,a=this.Xc,u=a.width,c=a.height;(u===e||isNaN(u)&&isNaN(e))&&(c===o||isNaN(c)&&isNaN(o))||(this.Xc=t=t.H(),this.s(),this instanceof Yi&&this.dc(),this.g("desiredSize",a,t),uf(this)&&null!==(t=this.part)&&(Au(this,t,"width"),Au(this,t,"height")))}},width:{get:function(){return this.Xc.width},set:function(t){var e=this.Xc.width;e===t||isNaN(e)&&isNaN(t)||(e=this.Xc,this.Xc=t=new He(t,this.Xc.height).freeze(),this.s(),this instanceof Yi&&this.dc(),this.g("desiredSize",e,t),uf(this)&&null!==(t=this.part)&&Au(this,t,"width"))}},height:{get:function(){return this.Xc.height},set:function(t){var e=this.Xc.height;e===t||isNaN(e)&&isNaN(t)||(e=this.Xc,this.Xc=t=new He(this.Xc.width,t).freeze(),this.s(),this instanceof Yi&&this.dc(),this.g("desiredSize",e,t),uf(this)&&null!==(t=this.part)&&Au(this,t,"height"))}},minSize:{get:function(){return this.fg},set:function(t){var e=this.fg;e.w(t)||(t=t.copy(),isNaN(t.width)&&(t.width=0),isNaN(t.height)&&(t.height=0),t.freeze(),this.fg=t,this.s(),this.g("minSize",e,t))}},maxSize:{get:function(){return this.eg},set:function(t){var e=this.eg;e.w(t)||(t=t.copy(),isNaN(t.width)&&(t.width=1/0),isNaN(t.height)&&(t.height=1/0),t.freeze(),this.eg=t,this.s(),this.g("maxSize",e,t))}},measuredBounds:{get:function(){return this.qc}},naturalBounds:{get:function(){return this.rc}},margin:{get:function(){return this.jh},set:function(t){"number"==typeof t&&(t=new nn(t));var e=this.jh;e.w(t)||(this.jh=t=t.H(),this.s(),this.g("margin",e,t))}},transform:{get:function(){return 0!=(2048&this.F)&&ev(this),this.sb}},Fd:{get:function(){return 0!=(4096&this.F)&&ev(this),this.Zh}},alignment:{get:function(){return this.yb},set:function(t){var e=this.yb;e.w(t)||(t.nc()&&!t.Mb()&&V("GraphObject.alignment for "+this+" must be a real Spot or Spot.Default, not: "+t),this.yb=t=t.H(),$u(this),this.g("alignment",e,t))}},column:{get:function(){return this.Rg},set:function(t){t=Math.round(t);var e=this.Rg;e!==t&&(0>t&&et(t,">= 0",Ri,"column"),this.Rg=t,this.s(),this.g("column",e,t))}},columnSpan:{get:function(){return this.zn},set:function(t){t=Math.round(t);var e=this.zn;e!==t&&(1>t&&et(t,">= 1",Ri,"columnSpan"),this.zn=t,this.s(),this.g("columnSpan",e,t))}},row:{get:function(){return this.Jp},set:function(t){t=Math.round(t);var e=this.Jp;e!==t&&(0>t&&et(t,">= 0",Ri,"row"),this.Jp=t,this.s(),this.g("row",e,t))}},rowSpan:{get:function(){return this.Kp},set:function(t){t=Math.round(t);var e=this.Kp;e!==t&&(1>t&&et(t,">= 1",Ri,"rowSpan"),this.Kp=t,this.s(),this.g("rowSpan",e,t))}},spanAllocation:{get:function(){return this.aq},set:function(t){var e=this.aq;e!==t&&(this.aq=t,this.s(),this.g("spanAllocation",e,t))}},alignmentFocus:{get:function(){return this.$k},set:function(t){var e=this.$k;e.w(t)||(this.$k=t=t.H(),this.s(),this.g("alignmentFocus",e,t))}},portId:{get:function(){return this.xp},set:function(t){var e=this.xp;if(e!==t){var o=this.part;null===o||o instanceof Ne||(V("Cannot set portID on a Link: "+t),o=null),null!==e&&null!==o&&dn(o,this),this.xp=t,null!==t&&null!==o&&(o.Nh=!0,Sn(o,this)),this.g("portId",e,t)}}},toSpot:{get:function(){return null!==this.O?this.O.Ch:hn},set:function(t){this.Kc();var e=this.O.Ch;e.w(t)||(t=t.H(),this.O.Ch=t,this.g("toSpot",e,t),Pu(this))}},toEndSegmentLength:{get:function(){return null!==this.O?this.O.Ah:10},set:function(t){this.Kc();var e=this.O.Ah;e!==t&&(0>t&&et(t,">= 0",Ri,"toEndSegmentLength"),this.O.Ah=t,this.g("toEndSegmentLength",e,t),Pu(this))}},toShortLength:{get:function(){return null!==this.O?this.O.Bh:0},set:function(t){this.Kc();var e=this.O.Bh;e!==t&&(this.O.Bh=t,this.g("toShortLength",e,t),Pu(this))}},toLinkable:{get:function(){return null!==this.O?this.O.kq:null},set:function(t){this.Kc();var e=this.O.kq;e!==t&&(this.O.kq=t,this.g("toLinkable",e,t))}},toMaxLinks:{get:function(){return null!==this.O?this.O.lq:1/0},set:function(t){this.Kc();var e=this.O.lq;e!==t&&(0>t&&et(t,">= 0",Ri,"toMaxLinks"),this.O.lq=t,this.g("toMaxLinks",e,t))}},fromSpot:{get:function(){return null!==this.O?this.O.bh:hn},set:function(t){this.Kc();var e=this.O.bh;e.w(t)||(t=t.H(),this.O.bh=t,this.g("fromSpot",e,t),Pu(this))}},fromEndSegmentLength:{get:function(){return null!==this.O?this.O.$g:10},set:function(t){this.Kc();var e=this.O.$g;e!==t&&(0>t&&et(t,">= 0",Ri,"fromEndSegmentLength"),this.O.$g=t,this.g("fromEndSegmentLength",e,t),Pu(this))}},fromShortLength:{get:function(){return null!==this.O?this.O.ah:0},set:function(t){this.Kc();var e=this.O.ah;e!==t&&(this.O.ah=t,this.g("fromShortLength",e,t),Pu(this))}},fromLinkable:{get:function(){return null!==this.O?this.O.co:null},set:function(t){this.Kc();var e=this.O.co;e!==t&&(this.O.co=t,this.g("fromLinkable",e,t))}},fromMaxLinks:{get:function(){return null!==this.O?this.O.eo:1/0},set:function(t){this.Kc();var e=this.O.eo;e!==t&&(0>t&&et(t,">= 0",Ri,"fromMaxLinks"),this.O.eo=t,this.g("fromMaxLinks",e,t))}},cursor:{get:function(){return this.oi},set:function(t){var e=this.oi;e!==t&&(this.oi=t,this.g("cursor",e,t))}},click:{get:function(){return null!==this.N?this.N.Pf:null},set:function(t){js(this);var e=this.N.Pf;e!==t&&(this.N.Pf=t,this.g("click",e,t))}},doubleClick:{get:function(){return null!==this.N?this.N.Uf:null},set:function(t){js(this);var e=this.N.Uf;e!==t&&(this.N.Uf=t,this.g("doubleClick",e,t))}},contextClick:{get:function(){return null!==this.N?this.N.Qf:null},set:function(t){js(this);var e=this.N.Qf;e!==t&&(this.N.Qf=t,this.g("contextClick",e,t))}},mouseEnter:{get:function(){return null!==this.N?this.N.hg:null},set:function(t){js(this);var e=this.N.hg;e!==t&&(this.N.hg=t,this.g("mouseEnter",e,t))}},mouseLeave:{get:function(){return null!==this.N?this.N.kg:null},set:function(t){js(this);var e=this.N.kg;e!==t&&(this.N.kg=t,this.g("mouseLeave",e,t))}},mouseOver:{get:function(){return null!==this.N?this.N.lg:null},set:function(t){js(this);var e=this.N.lg;e!==t&&(this.N.lg=t,this.g("mouseOver",e,t))}},mouseHover:{get:function(){return null!==this.N?this.N.jg:null},set:function(t){js(this);var e=this.N.jg;e!==t&&(this.N.jg=t,this.g("mouseHover",e,t))}},mouseHold:{get:function(){return null!==this.N?this.N.ig:null},set:function(t){js(this);var e=this.N.ig;e!==t&&(this.N.ig=t,this.g("mouseHold",e,t))}},mouseDragEnter:{get:function(){return null!==this.N?this.N.$o:null},set:function(t){js(this);var e=this.N.$o;e!==t&&(this.N.$o=t,this.g("mouseDragEnter",e,t))}},mouseDragLeave:{get:function(){return null!==this.N?this.N.ap:null},set:function(t){js(this);var e=this.N.ap;e!==t&&(this.N.ap=t,this.g("mouseDragLeave",e,t))}},mouseDrop:{get:function(){return null!==this.N?this.N.gg:null},set:function(t){js(this);var e=this.N.gg;e!==t&&(this.N.gg=t,this.g("mouseDrop",e,t))}},actionDown:{get:function(){return null!==this.N?this.N.gn:null},set:function(t){js(this);var e=this.N.gn;e!==t&&(this.N.gn=t,this.g("actionDown",e,t))}},actionMove:{get:function(){return null!==this.N?this.N.hn:null},set:function(t){js(this);var e=this.N.hn;e!==t&&(this.N.hn=t,this.g("actionMove",e,t))}},actionUp:{get:function(){return null!==this.N?this.N.jn:null},set:function(t){js(this);var e=this.N.jn;e!==t&&(this.N.jn=t,this.g("actionUp",e,t))}},actionCancel:{get:function(){return null!==this.N?this.N.fn:null},set:function(t){js(this);var e=this.N.fn;e!==t&&(this.N.fn=t,this.g("actionCancel",e,t))}},toolTip:{get:function(){return null!==this.N?this.N.wg:null},set:function(t){js(this);var e=this.N.wg;e!==t&&(this.N.wg=t,this.g("toolTip",e,t))}},contextMenu:{get:function(){return null!==this.N?this.N.Rf:null},set:function(t){js(this);var e=this.N.Rf;e!==t&&(this.N.Rf=t,this.g("contextMenu",e,t))}}}),Ri.prototype.trigger=Ri.prototype.Qw,Ri.prototype.setProperties=Ri.prototype.Fw,Ri.prototype.findTemplateBinder=Ri.prototype.ij,Ri.prototype.bind=Ri.prototype.bind,Ri.prototype.isEnabledObject=Ri.prototype.Hg,Ri.prototype.isVisibleObject=Ri.prototype.Gf,Ri.prototype.isContainedBy=Ri.prototype.Gg,Ri.prototype.getNearestIntersectionPoint=Ri.prototype.Nt,Ri.prototype.getLocalPoint=Ri.prototype.Mt,Ri.prototype.getDocumentScale=Ri.prototype.Af,Ri.prototype.getDocumentAngle=Ri.prototype.lj,Ri.prototype.getDocumentBounds=Ri.prototype.mj,Ri.prototype.getDocumentPoint=Ri.prototype.da,Ri.prototype.intersectsRect=Ri.prototype.Mc,Ri.prototype.containedInRect=Ri.prototype.Jh,Ri.prototype.containsRect=Ri.prototype.Ge,Ri.prototype.containsPoint=Ri.prototype.$,Ri.prototype.raiseChanged=Ri.prototype.g,Ri.prototype.raiseChangedEvent=Ri.prototype.Va,Ri.prototype.addCopyProperty=Ri.prototype.Tx;var hf=null;function nv(){this.Wn=this.Rf=this.wg=this.fn=this.jn=this.hn=this.gn=this.gg=this.ap=this.$o=this.ig=this.jg=this.lg=this.kg=this.hg=this.Qf=this.Uf=this.Pf=null}function ed(){this.Oa=[1,0,0,1,0,0]}function id(t){this.type=t,this.r2=this.y2=this.x2=this.r1=this.y1=this.x1=0,this.ay=[],this.pattern=null}function bl(t,e){this.ownerDocument=t=void 0===e?N.document:e,this.LA="http://www.w3.org/2000/svg",void 0!==t&&(this.Ja=this.Pb("svg",{width:"1px",height:"1px",viewBox:"0 0 1 1"}),this.Ja.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),this.Ja.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink")),this.Dq=null,this.context=new Jo(this)}function Jo(t){this.nu=t,this.svg=t.Ja,this.stack=[],this.gd=[],this.fillStyle="#000000",this.font="10px sans-serif",this.globalAlpha=1,this.lineCap="butt",this.lineDashOffset=0,this.lineJoin="miter",this.lineWidth=1,this.miterLimit=10,this.shadowBlur=0,this.shadowColor="rgba(0, 0, 0, 0)",this.shadowOffsetY=this.shadowOffsetX=0,this.strokeStyle="#000000",this.textAlign="start",this.clipInsteadOfFill=!1,this.ug=this.ft=this.et=0,this.Wt=null,this.path=[],this.Vu=!1,this.uh=null,this.vh=0,this.He=new ed,mc(this,1,0,0,1,0,0);var e=de++,o=this.Pb("clipPath",{id:"mainClip"+e});o.appendChild(this.Pb("rect",{x:0,y:0,width:t.width,height:t.height})),this.Bx=o,this.nu.Ja.appendChild(o),this.gd[0].setAttributeNS(null,"clip-path","url(#mainClip"+e+")"),this.NA={}}function nd(t,e,o,a,u){1!==t.globalAlpha&&(o.opacity=t.globalAlpha),"fill"===e?(t.fillStyle instanceof id?o.fill=Hl(t,t.fillStyle):/^rgba\(/.test(t.fillStyle)?(t=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.fillStyle),o.fill="rgb("+t[1]+","+t[2]+","+t[3]+")",o["fill-opacity"]=t[4]):o.fill=t.fillStyle,o.stroke="none"):"stroke"===e&&(o.fill="none",t.strokeStyle instanceof id?o.stroke=Hl(t,t.strokeStyle):/^rgba\(/.test(t.strokeStyle)?(e=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.strokeStyle),o.stroke="rgb("+e[1]+","+e[2]+","+e[3]+")",o["stroke-opacity"]=e[4]):o.stroke=t.strokeStyle,o["stroke-width"]=t.lineWidth,o["stroke-linecap"]=t.lineCap,o["stroke-linejoin"]=t.lineJoin,o["stroke-miterlimit"]=t.miterLimit),a="matrix("+(a=a.Oa)[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")",void 0!==u&&(a+=u),o.transform=a}function Hl(t,e){var o="GRAD"+de++;if("linear"===e.type)var a=t.Pb("linearGradient",{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,id:o,gradientUnits:"userSpaceOnUse"});else{if("radial"!==e.type)throw Error("invalid gradient");a=t.Pb("radialGradient",{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,r1:e.r1,r2:e.r2,id:o})}var u=e.ay;e=u.length;for(var c=[],g=0;g<e;g++){var _=u[g],A=_.color;_={offset:_.offset,"stop-color":A},/^rgba\(/.test(A)&&(A=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(A),_["stop-color"]="rgb("+A[1]+","+A[2]+","+A[3]+")",_["stop-opacity"]=A[4]),c.push(_)}for(c.sort(function(I,B){return I.offset>B.offset?1:-1}),u=0;u<e;u++)a.appendChild(t.Pb("stop",c[u]));return t.svg.appendChild(a),"url(#"+o+")"}function mc(t,e,o,a,u,c,g){var _=new ed;_.Oa=[e,o,a,u,c,g],nd(t,"g",e={},_),_=t.addElement("g",e),t.gd.push(_)}function Ru(t){t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0}function Xu(t){t.shadowOffsetX=t.et,t.shadowOffsetY=t.ft,t.shadowBlur=t.ug}function da(t,e){this.ownerDocument=e=void 0===e?N.document:e,this.Dq=null,(e=e.createElement("canvas")).tabIndex=0,this.Ja=e,this.Ja.innerHTML="This text is displayed if your browser does not support the Canvas HTML element.",this.context=new cf(e),e.B=t}function cf(t){t.getContext&&t.getContext("2d")||V("Browser does not support HTML Canvas Element"),this.Y=t.getContext("2d"),this.xu=this.zu=this.yu="",this.yn=!1,this.ug=this.ft=this.et=0}Ri.className="GraphObject",hf=new vt,Iu("Button",function(){function t(o,a){return null!==o.diagram.Vb(o.documentPoint,function(u){for(;null!==u.panel&&!u.isActionable;)u=u.panel;return u},function(u){return u===a})}var e=pi(Ke,Ke.Auto,{isActionable:!0,enabledChanged:function(o,a){if(o instanceof Ke){var u=o.bb("ButtonBorder");null!==u&&(u.fill=a?o._buttonFillNormal:o._buttonFillDisabled)}},cursor:"pointer",_buttonFillNormal:"#F5F5F5",_buttonStrokeNormal:"#BDBDBD",_buttonFillOver:"#E0E0E0",_buttonStrokeOver:"#9E9E9E",_buttonFillPressed:"#BDBDBD",_buttonStrokePressed:"#9E9E9E",_buttonFillDisabled:"#E5E5E5"},pi(Yi,{name:"ButtonBorder",figure:"RoundedRectangle",spot1:new ki(0,0,2.76142374915397,2.761423749153969),spot2:new ki(1,1,-2.76142374915397,-2.761423749153969),parameter1:2,parameter2:2,fill:"#F5F5F5",stroke:"#BDBDBD"}));return e.mouseEnter=function(o,a){if(a.Hg()&&a instanceof Ke&&(o=a.bb("ButtonBorder"))instanceof Yi){var u=a._buttonFillOver;a._buttonFillNormal=o.fill,o.fill=u,u=a._buttonStrokeOver,a._buttonStrokeNormal=o.stroke,o.stroke=u}},e.mouseLeave=function(o,a){a.Hg()&&a instanceof Ke&&(o=a.bb("ButtonBorder"))instanceof Yi&&(o.fill=a._buttonFillNormal,o.stroke=a._buttonStrokeNormal)},e.actionDown=function(o,a){if(a.Hg()&&a instanceof Ke&&null!==a._buttonFillPressed&&0===o.button){var u=a.bb("ButtonBorder");if(u instanceof Yi){var c=(o=o.diagram).skipsUndoManager;o.skipsUndoManager=!0;var g=a._buttonFillPressed;a._buttonFillOver=u.fill,u.fill=g,g=a._buttonStrokePressed,a._buttonStrokeOver=u.stroke,u.stroke=g,o.skipsUndoManager=c}}},e.actionUp=function(o,a){if(a.Hg()&&a instanceof Ke&&null!==a._buttonFillPressed&&0===o.button){var u=a.bb("ButtonBorder");if(u instanceof Yi){var c=o.diagram,g=c.skipsUndoManager;c.skipsUndoManager=!0,t(o,a)?(u.fill=a._buttonFillOver,u.stroke=a._buttonStrokeOver):(u.fill=a._buttonFillNormal,u.stroke=a._buttonStrokeNormal),c.skipsUndoManager=g}}},e.actionCancel=function(o,a){if(a.Hg()&&a instanceof Ke&&null!==a._buttonFillPressed){var u=a.bb("ButtonBorder");if(u instanceof Yi){var c=o.diagram,g=c.skipsUndoManager;c.skipsUndoManager=!0,t(o,a)?(u.fill=a._buttonFillOver,u.stroke=a._buttonStrokeOver):(u.fill=a._buttonFillNormal,u.stroke=a._buttonStrokeNormal),c.skipsUndoManager=g}}},e.actionMove=function(o,a){if(a.Hg()&&a instanceof Ke&&null!==a._buttonFillPressed){var u=o.diagram;if(0===u.firstInput.button&&(u.currentTool.standardMouseOver(),t(o,a)&&(o=a.bb("ButtonBorder"))instanceof Yi)){var c=u.skipsUndoManager;u.skipsUndoManager=!0;var g=a._buttonFillPressed;o.fill!==g&&(o.fill=g),o.stroke!==(g=a._buttonStrokePressed)&&(o.stroke=g),u.skipsUndoManager=c}}},e}),Iu("TreeExpanderButton",function(){var t=pi("Button",{_treeExpandedFigure:"MinusLine",_treeCollapsedFigure:"PlusLine"},pi(Yi,{name:"ButtonIcon",figure:"MinusLine",stroke:"#424242",strokeWidth:2,desiredSize:ri},new yo("figure","isTreeExpanded",function(e,o){return o=o.panel,e?o._treeExpandedFigure:o._treeCollapsedFigure}).Uq()),{visible:!1},new yo("visible","isTreeLeaf",function(e){return!e}).Uq());return t.click=function(e,o){if((o=o.part)instanceof si&&(o=o.adornedPart),o instanceof Ne){var a=o.diagram;if(null!==a){if(a=a.commandHandler,o.isTreeExpanded){if(!a.canCollapseTree(o))return}else if(!a.canExpandTree(o))return;e.handled=!0,o.isTreeExpanded?a.collapseTree(o):a.expandTree(o)}}},t}),Iu("SubGraphExpanderButton",function(){var t=pi("Button",{_subGraphExpandedFigure:"MinusLine",_subGraphCollapsedFigure:"PlusLine"},pi(Yi,{name:"ButtonIcon",figure:"MinusLine",stroke:"#424242",strokeWidth:2,desiredSize:ri},new yo("figure","isSubGraphExpanded",function(e,o){return o=o.panel,e?o._subGraphExpandedFigure:o._subGraphCollapsedFigure}).Uq()));return t.click=function(e,o){if((o=o.part)instanceof si&&(o=o.adornedPart),o instanceof ai){var a=o.diagram;if(null!==a){if(a=a.commandHandler,o.isSubGraphExpanded){if(!a.canCollapseSubGraph(o))return}else if(!a.canExpandSubGraph(o))return;e.handled=!0,o.isSubGraphExpanded?a.collapseSubGraph(o):a.expandSubGraph(o)}}},t}),Iu("ToolTip",function(){return pi(si,Ke.Auto,{isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new at(0,3),shadowBlur:5},pi(Yi,{name:"Border",figure:"RoundedRectangle",parameter1:1,parameter2:1,fill:"#F5F5F5",stroke:"#F0F0F0",spot1:new ki(0,0,4,6),spot2:new ki(1,1,-4,-4)}))}),Iu("ContextMenu",function(){return pi(si,Ke.Vertical,{background:"#F5F5F5",isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new at(0,3),shadowBlur:5},new yo("background","",function(t){return null!==t.adornedPart&&null!==t.placeholder?null:"#F5F5F5"}))}),Iu("ContextMenuButton",function(){var t=pi("Button");t.stretch=ro;var e=t.bb("ButtonBorder");return e instanceof Yi&&(e.figure="Rectangle",e.strokeWidth=0,e.spot1=new ki(0,0,2,3),e.spot2=new ki(1,1,-2,-2)),t}),Iu("PanelExpanderButton",function(t){var e=pc(t,"COLLAPSIBLE"),o=pi("Button",{_buttonExpandedFigure:"M0 0 M0 6 L4 2 8 6 M8 8",_buttonCollapsedFigure:"M0 0 M0 2 L4 6 8 2 M8 8",_buttonFillNormal:"rgba(0, 0, 0, 0)",_buttonStrokeNormal:null,_buttonFillOver:"rgba(0, 0, 0, .2)",_buttonStrokeOver:null,_buttonFillPressed:"rgba(0, 0, 0, .4)",_buttonStrokePressed:null},pi(Yi,{name:"ButtonIcon",strokeWidth:2},new yo("geometryString","visible",function(a){return a?o._buttonExpandedFigure:o._buttonCollapsedFigure}).Uq(e)));return(t=o.bb("ButtonBorder"))instanceof Yi&&(t.stroke=null,t.fill="rgba(0, 0, 0, 0)"),o.click=function(a,u){var c=u.diagram;if(null!==c&&!c.isReadOnly){var g=u.ij();null===g&&(g=u.part),null!==g&&null!==(u=g.bb(e))&&(a.handled=!0,c.xa("Collapse/Expand Panel"),u.visible=!u.visible,c.Xa("Collapse/Expand Panel"))}},o}),Iu("CheckBoxButton",function(t){var e=pc(t);return(t=pi("Button",{desiredSize:new He(14,14)},pi(Yi,{name:"ButtonIcon",geometryString:"M0 0 M0 8.85 L4.9 13.75 16.2 2.45 M16.2 16.2",strokeWidth:2,stretch:qr,geometryStretch:Vs,visible:!1},""!==e?new yo("visible",e).Iy():[]))).click=function(o,a){if(a instanceof Ke){var u=o.diagram;if(!(null===u||u.isReadOnly||""!==e&&u.model.isReadOnly)){o.handled=!0;var c=a.bb("ButtonIcon");u.xa("checkbox"),c.visible=!c.visible,"function"==typeof a._doClick&&a._doClick(o,a),u.Xa("checkbox")}}},t}),Iu("CheckBox",function(t){t=pi("CheckBoxButton",t=pc(t),{name:"Button",isActionable:!1,margin:new nn(0,1,0,0)});var e=pi(Ke,"Horizontal",t,{isActionable:!0,cursor:t.cursor,margin:1,_buttonFillNormal:t._buttonFillNormal,_buttonStrokeNormal:t._buttonStrokeNormal,_buttonFillOver:t._buttonFillOver,_buttonStrokeOver:t._buttonStrokeOver,_buttonFillPressed:t._buttonFillPressed,_buttonStrokePressed:t._buttonStrokePressed,_buttonFillDisabled:t._buttonFillDisabled,mouseEnter:t.mouseEnter,mouseLeave:t.mouseLeave,actionDown:t.actionDown,actionUp:t.actionUp,actionCancel:t.actionCancel,actionMove:t.actionMove,click:t.click,_buttonClick:t.click});return t.mouseEnter=null,t.mouseLeave=null,t.actionDown=null,t.actionUp=null,t.actionCancel=null,t.actionMove=null,t.click=null,e}),Ri.None=qn=new wt(Ri,"None",0),Ri.Default=Go=new wt(Ri,"Default",0),Ri.Vertical=Ts=new wt(Ri,"Vertical",4),Ri.Horizontal=ro=new wt(Ri,"Horizontal",5),Ri.Fill=qr=new wt(Ri,"Fill",3),Ri.Uniform=Vs=new wt(Ri,"Uniform",1),Ri.UniformToFill=Qg=new wt(Ri,"UniformToFill",2),Ri.FlipVertical=uc=new wt(Ri,"FlipVertical",1),Ri.FlipHorizontal=hc=new wt(Ri,"FlipHorizontal",2),Ri.FlipBoth=ta=new wt(Ri,"FlipBoth",3),Ri.make=pi,Ri.getBuilders=function(){var e,t=new vt;for(e in hf)if(e!==e.toLowerCase()){var o=hf.G(e);"function"==typeof o&&t.add(e,o)}return t.freeze(),t},Ri.defineBuilder=Iu,Ri.takeBuilderArgument=pc,nv.prototype.copy=function(){var t=new nv;return t.Pf=this.Pf,t.Uf=this.Uf,t.Qf=this.Qf,t.hg=this.hg,t.kg=this.kg,t.lg=this.lg,t.jg=this.jg,t.ig=this.ig,t.$o=this.$o,t.ap=this.ap,t.gg=this.gg,t.gn=this.gn,t.hn=this.hn,t.jn=this.jn,t.fn=this.fn,t.wg=this.wg,t.Rf=this.Rf,t.Wn=this.Wn,t},nv.className="GraphObjectEventHandlers",ed.prototype.copy=function(){var t=new ed;return t.Oa[0]=this.Oa[0],t.Oa[1]=this.Oa[1],t.Oa[2]=this.Oa[2],t.Oa[3]=this.Oa[3],t.Oa[4]=this.Oa[4],t.Oa[5]=this.Oa[5],t},ed.prototype.translate=function(t,e){this.Oa[4]+=this.Oa[0]*t+this.Oa[2]*e,this.Oa[5]+=this.Oa[1]*t+this.Oa[3]*e},ed.prototype.scale=function(t,e){this.Oa[0]*=t,this.Oa[1]*=t,this.Oa[2]*=e,this.Oa[3]*=e},ed.className="STransform",id.prototype.addColorStop=function(t,e){this.ay.push({offset:t,color:e})},id.className="SGradient",bl.prototype.resize=function(t,e,o,a){return(this.width!==t||this.height!==e)&&(this.style.width=o+"px",this.style.height=a+"px",this.Ja.setAttributeNS(null,"width",o+"px"),this.Ja.setAttributeNS(null,"height",a+"px"),this.Ja.setAttributeNS(null,"viewBox","0 0 "+o+" "+a),this.context.Bx.firstElementChild.setAttributeNS(null,"width",o+"px"),this.context.Bx.firstElementChild.setAttributeNS(null,"height",a+"px"),!0)},bl.prototype.Pb=function(t,e,o){if(t=this.ownerDocument.createElementNS(this.LA,t),gt(e))for(var a in e)t.setAttributeNS("href"===a?"http://www.w3.org/1999/xlink":"",a,e[a]);return void 0!==o&&(t.textContent=o),t},bl.prototype.getBoundingClientRect=function(){return this.Ja.getBoundingClientRect()},bl.prototype.focus=function(){this.Ja.focus()},bl.prototype.ky=function(){this.ownerDocument=null},W.Object.defineProperties(bl.prototype,{width:{get:function(){return this.Ja.width.baseVal.value},set:function(t){this.Ja.width=t}},height:{get:function(){return this.Ja.height.baseVal.value},set:function(t){this.Ja.height=t}},style:{get:function(){return this.Ja.style}}}),bl.className="SVGSurface",(ot=Jo.prototype).arc=function(t,e,o,a,u,c,g,_){var A=2*Math.PI,I=A-1e-6,B=o*Math.cos(a),H=o*Math.sin(a),dt=t+B,bt=e+H,pt=c?0:1;a=c?a-u:u-a,(1e-6<Math.abs(g-dt)||1e-6<Math.abs(_-bt))&&this.path.push(["L",dt,+bt]),0>a&&(a=a%A+A),a>I?(this.path.push(["A",o,o,0,1,pt,t-B,e-H]),this.path.push(["A",o,o,0,1,pt,dt,bt])):1e-6<a&&this.path.push(["A",o,o,0,+(a>=Math.PI),pt,t+o*Math.cos(u),e+o*Math.sin(u)])},ot.beginPath=function(){this.path=[]},ot.bezierCurveTo=function(t,e,o,a,u,c){this.path.push(["C",t,e,o,a,u,c])},ot.clearRect=function(){},ot.clip=function(){this.addPath("clipPath",this.path,this.He)},ot.closePath=function(){this.path.push(["z"])},ot.createLinearGradient=function(t,e,o,a){var u=new id("linear");return u.x1=t,u.y1=e,u.x2=o,u.y2=a,u},ot.createPattern=function(t){var e="";t instanceof HTMLCanvasElement&&(e=t.toDataURL()),t instanceof HTMLImageElement&&(e=t.getAttribute("src"));var o=this.NA;if(o[e])return"url(#"+o[e]+")";var a="PATTERN"+de++,u={x:0,y:0,width:t.width,height:t.height,href:e};return(t=this.Pb("pattern",{width:t.width,height:t.height,id:a,patternUnits:"userSpaceOnUse"})).appendChild(this.Pb(gm,u)),this.svg.appendChild(t),o[e]=a,"url(#"+a+")"},ot.createRadialGradient=function(t,e,o,a,u,c){var g=new id("radial");return g.x1=t,g.y1=e,g.r1=o,g.x2=a,g.y2=u,g.r2=c,g},ot.drawImage=function(t,e,o,a,u,c,g,_,A){var I="";t instanceof HTMLCanvasElement&&(I=t.toDataURL()),t instanceof HTMLImageElement&&(I=t.getAttribute("src"));var B=t instanceof HTMLImageElement?t.naturalWidth:t.width,H=t instanceof HTMLImageElement?t.naturalHeight:t.height;void 0===a&&(c=e,g=o,_=a=B,A=u=H),a=a||0,u=u||0,c=c||0,g=g||0,A=A||0,t={x:0,y:0,width:B||a,height:H||u,href:I},me.aa(a,_=_||0)&&me.aa(u,A)?-1===I.toLowerCase().indexOf(".svg")&&-1===I.toLowerCase().indexOf("data:image/svg")&&(t.preserveAspectRatio="xMidYMid slice"):t.preserveAspectRatio="none",I="",A/=u,(0!==c||0!==g)&&(I+=" translate("+c+", "+g+")"),(1!=(_/=a)||1!==A)&&(I+=" scale("+_+", "+A+")"),(0!==e||0!==o)&&(I+=" translate("+-e+", "+-o+")"),(0!==e||0!==o||a!==B||u!==H)&&(c="CLIP"+de++,(g=this.Pb("clipPath",{id:c})).appendChild(this.Pb("rect",{x:e,y:o,width:a,height:u})),this.svg.appendChild(g),t["clip-path"]="url(#"+c+")"),nd(this,gm,t,this.He,I),this.addElement(gm,t)},ot.fill=function(){this.addPath("fill",this.path,this.He)},ot.Je=function(){this.clipInsteadOfFill?this.clip():this.fill()},ot.fillRect=function(t,e,o,a){nd(this,"fill",t={x:(t=[t,e,o,a])[0],y:t[1],width:t[2],height:t[3]},this.He),this.addElement("rect",t)},ot.fillText=function(t,e,o){t=[t,e,o],"left"===(e=this.textAlign)?e="start":"right"===e?e="end":"center"===e&&(e="middle"),nd(this,"fill",e={x:t[1],y:t[2],style:"font: "+this.font,"text-anchor":e},this.He),this.addElement("text",e,t[0])},ot.lineTo=function(t,e){this.path.push(["L",t,e])},ot.moveTo=function(t,e){this.path.push(["M",t,e])},ot.quadraticCurveTo=function(t,e,o,a){this.path.push(["Q",t,e,o,a])},ot.rect=function(t,e,o,a){this.path.push(["M",t,e],["L",t+o,e],["L",t+o,e+a],["L",t,e+a],["z"])},ot.restore=function(){this.He=this.stack.pop(),this.path=this.stack.pop();var t=this.stack.pop();this.fillStyle=t.fillStyle,this.font=t.font,this.globalAlpha=t.globalAlpha,this.lineCap=t.lineCap,this.lineDashOffset=t.lineDashOffset,this.lineJoin=t.lineJoin,this.lineWidth=t.lineWidth,this.miterLimit=t.miterLimit,this.shadowBlur=t.shadowBlur,this.shadowColor=t.shadowColor,this.shadowOffsetX=t.shadowOffsetX,this.shadowOffsetY=t.shadowOffsetY,this.strokeStyle=t.strokeStyle,this.textAlign=t.textAlign},ot.save=function(){this.stack.push({fillStyle:this.fillStyle,font:this.font,globalAlpha:this.globalAlpha,lineCap:this.lineCap,lineDashOffset:this.lineDashOffset,lineJoin:this.lineJoin,lineWidth:this.lineWidth,miterLimit:this.miterLimit,shadowBlur:this.shadowBlur,shadowColor:this.shadowColor,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,strokeStyle:this.strokeStyle,textAlign:this.textAlign});for(var t=[],e=0;e<this.path.length;e++)t.push(this.path[e]);this.stack.push(t),this.stack.push(this.He.copy())},ot.setTransform=function(t,e,o,a,u,c){1===t&&0===e&&0===o&&1===a&&0===u&&0===c||mc(this,t,e,o,a,u,c)},ot.scale=function(t,e){this.He.scale(t,e)},ot.translate=function(t,e){this.He.translate(t,e)},ot.transform=function(){},ot.stroke=function(){this.addPath("stroke",this.path,this.He)},ot.vj=function(){this.clipInsteadOfFill||this.stroke()},ot.Pb=function(t,e,o){return this.nu.Pb(t,e,o)},ot.addElement=function(t,e,o){return t=this.Pb(t,e,o),0<this.gd.length?this.gd[this.gd.length-1].appendChild(t):this.svg.appendChild(t),this.Wt=t},ot.addPath=function(t,e,o){for(var a=[],u=0;u<e.length;u++){var c=Dt(e[u]),g=[c.shift()];if("A"===g[0])g.push(c.shift()+","+c.shift(),c.shift(),c.shift()+","+c.shift(),c.shift()+","+c.shift());else for(;c.length;)g.push(c.shift()+","+c.shift());a.push(g.join(" "))}e={d:a.join(" ")},"stroke"===t&&this.Vu&&(e["stroke-dasharray"]=this.uh.toString(),e["stroke-dashoffset"]=this.vh),nd(this,t,e,o),"clipPath"===t?(t="CLIP"+de++,(o=this.Pb("clipPath",{id:t})).appendChild(this.Pb("path",e)),this.svg.appendChild(o),0<this.gd.length&&this.gd[this.gd.length-1].setAttributeNS(null,"clip-path","url(#"+t+")")):this.addElement("path",e)},ot.Ym=function(t){if(0!==this.shadowOffsetX||0!==this.shadowOffsetY||0!==this.shadowBlur){var e="SHADOW"+de++,o=this.addElement("filter",{id:e,x:"-100%",y:"-100%",width:"300%",height:"300%"},null),a=t.computePixelRatio();t=this.Pb("feGaussianBlur",{in:"SourceAlpha",result:"blur",stdDeviation:this.shadowBlur/2/a});var u=this.Pb("feFlood",{in:"blur",result:"flood","flood-color":this.shadowColor}),c=this.Pb("feComposite",{in:"flood",in2:"blur",operator:"in",result:"comp"});a=this.Pb("feOffset",{in:"comp",result:"offsetBlur",dx:this.shadowOffsetX/a,dy:this.shadowOffsetY/a});var g=this.Pb("feMerge",{});g.appendChild(this.Pb("feMergeNode",{in:"offsetBlur"})),g.appendChild(this.Pb("feMergeNode",{in:"SourceGraphic"})),o.appendChild(t),o.appendChild(u),o.appendChild(c),o.appendChild(a),o.appendChild(g),0<this.gd.length&&this.gd[this.gd.length-1].setAttributeNS(null,"filter","url(#"+e+")")}},ot.Iw=function(t,e,o){this.et=t,this.ft=e,this.ug=o},ot.Ft=function(t,e){this.Vu=!0,this.uh=t,this.vh=e},ot.Dt=function(){this.Vu=!1},ot.uc=function(){},ot.Sy=function(){},Jo.prototype.rotate=function(){},Jo.prototype.getImageData=function(){return null},Jo.prototype.measureText=function(){return null},Jo.className="SVGContext",ke.prototype.makeSvg=ke.prototype.$t=function(t){var e=new bl(this,N.document);void 0===t&&(t=new It);var o=this;return oc(this,function(a,u){return a=null!==(a=fm(o,a,"SVG",e))?a.svg:null,"function"==typeof u?(u(a),null):a},t)},ke.prototype.makeSVG=ke.prototype.iw=function(t){return this.$t(t)},Ri.prototype.ly=function(t,e){if(!(t instanceof Jo))return!1;if(!this.visible)return!0;var o=null,a=t.Wt;if(this instanceof Ke&&(this.type===Ke.TableRow||this.type===Ke.TableColumn))return wx(this,t,e),!0;var u=this.xb;if(0===u.width||0===u.height||isNaN(u.x)||isNaN(u.y))return!0;var c=this.transform,g=this.panel;0!=(4096&this.F)&&ev(this);var _=0!=(256&this.F);t.clipInsteadOfFill&&(_=!1);var A=!1;if(this instanceof $n&&(t.font=this.font),_){if(A=g.he()?g.naturalBounds:g.actualBounds,null!==this.Za){var I=this.Za,B=I.x,H=I.y,dt=I.width;I=I.height}else B=Math.max(u.x,A.x),H=Math.max(u.y,A.y),dt=Math.min(u.right,A.right)-B,I=Math.min(u.bottom,A.bottom)-H;if(B>u.width+u.x||u.x>A.width+A.x||H>u.height+u.y||u.y>A.height+A.y)return!0;A=!0,mc(t,1,0,0,1,0,0),t.save(),t.beginPath(),t.rect(B,H,dt,I),t.clip()}if(this.Ff()&&!this.isVisible())return!0;if(t.He.Oa=[1,0,0,1,0,0],(this instanceof $n&&1<this.lineCount||this instanceof Yi&&1<this.geometry.figures.length)&&mc(t,1,0,0,1,0,0),B=!1,this.Ff()&&this.isShadowed&&e.Ke("drawShadows")&&(t.Iw((H=this.shadowOffset).x*e.scale*e.Tb,H.y*e.scale*e.Tb,this.shadowBlur),Xu(t),t.shadowColor=this.shadowColor),H=!1,this.part&&e.Ke("drawShadows")&&(H=this.part.isShadowed),t.clipInsteadOfFill&&(H=!1),!0===this.shadowVisible?(Xu(t),!1===B&&H&&(mc(t,1,0,0,1,0,0),t.Ym(e),B=!0)):!1===this.shadowVisible&&Ru(t),dt=this.naturalBounds,null!==this.areaBackground&&(fa(this,t,this.areaBackground,!0,!0,dt,u),!1===B&&H&&(mc(t,1,0,0,1,0,0),t.Ym(e),B=!0),this.areaBackground instanceof Dn&&this.areaBackground.type===ma?(t.beginPath(),t.rect(u.x,u.y,u.width,u.height),t.Je(this.areaBackground)):t.fillRect(u.x,u.y,u.width,u.height)),this instanceof Ke?mc(t,c.m11,c.m12,c.m21,c.m22,c.dx,c.dy):(t.He.Oa=[c.m11,c.m12,c.m21,c.m22,c.dx,c.dy],!1===B&&H&&(mc(t,1,0,0,1,0,0),t.Ym(e),B=!0)),null!==this.background){!1===B&&H&&(mc(t,1,0,0,1,0,0),t.Ym(e),B=!0);var bt=this.naturalBounds;I=c=0;var pt=bt.width;bt=bt.height;var Rt=0;this instanceof Yi&&(c=(bt=this.geometry.bounds).x,I=bt.y,pt=bt.width,bt=bt.height,Rt=this.strokeWidth),fa(this,t,this.background,!0,!1,dt,u),this.background instanceof Dn&&this.background.type===ma?(t.beginPath(),t.rect(c-Rt/2,I-Rt/2,pt+Rt,bt+Rt),t.Je(this.background)):t.fillRect(c-Rt/2,I-Rt/2,pt+Rt,bt+Rt)}return H&&(null!==this.background||null!==this.areaBackground||null!==g&&0!=(512&g.F)||null!==g&&(g.type===Ke.Auto||g.type===Ke.Spot)&&g.tb()!==this)?(Jf(this,!0),null===this.shadowVisible&&Ru(t)):Jf(this,!1),this.ej(t,e),H&&0!=(512&this.F)&&Xu(t),this.Ff()&&H&&Ru(t),_&&(t.restore(),A&&t.gd.pop()),this instanceof Ke&&(o=t.gd.pop()),!0===B&&t.gd.pop(),(this instanceof $n&&1<this.lineCount||this instanceof Yi&&1<this.geometry.figures.length)&&(o=t.gd.pop()),null!==t.nu.Dq&&(null===o&&(a===t.Wt?(mc(t,1,0,0,1,0,0),o=t.gd.pop()):o=t.Wt),t.nu.Dq(this,o)),this.svg=o,!0},da.prototype.resize=function(t,e,o,a){return(this.width!==t||this.height!==e)&&(this.width=t,this.height=e,this.style.width=o+"px",this.style.height=a+"px",!0)},da.prototype.toDataURL=function(t,e){return this.Ja.toDataURL(t,e)},da.prototype.getBoundingClientRect=function(){return this.Ja.getBoundingClientRect()},da.prototype.focus=function(){this.Ja.focus()},da.prototype.ky=function(){this.ownerDocument=this.Ja.B=null},W.Object.defineProperties(da.prototype,{width:{get:function(){return this.Ja.width},set:function(t){this.Ja.width=t}},height:{get:function(){return this.Ja.height},set:function(t){this.Ja.height=t}},style:{get:function(){return this.Ja.style}}}),da.className="CanvasSurface",(ot=cf.prototype).Sy=function(t){this.Y.imageSmoothingEnabled=t},ot.arc=function(t,e,o,a,u,c){this.Y.arc(t,e,o,a,u,c)},ot.beginPath=function(){this.Y.beginPath()},ot.bezierCurveTo=function(t,e,o,a,u,c){this.Y.bezierCurveTo(t,e,o,a,u,c)},ot.clearRect=function(t,e,o,a){this.Y.clearRect(t,e,o,a)},ot.clip=function(){this.Y.clip()},ot.closePath=function(){this.Y.closePath()},ot.createLinearGradient=function(t,e,o,a){return this.Y.createLinearGradient(t,e,o,a)},ot.createPattern=function(t,e){return this.Y.createPattern(t,e)},ot.createRadialGradient=function(t,e,o,a,u,c){return this.Y.createRadialGradient(t,e,o,a,u,c)},ot.drawImage=function(t,e,o,a,u,c,g,_,A){void 0===a?this.Y.drawImage(t,e,o):this.Y.drawImage(t,e,o,a,u,c,g,_,A)},ot.fill=function(){this.Y.fill()},ot.fillRect=function(t,e,o,a){this.Y.fillRect(t,e,o,a)},ot.fillText=function(t,e,o){this.Y.fillText(t,e,o)},ot.getImageData=function(t,e,o,a){return this.Y.getImageData(t,e,o,a)},ot.lineTo=function(t,e){this.Y.lineTo(t,e)},ot.measureText=function(t){return this.Y.measureText(t)},ot.moveTo=function(t,e){this.Y.moveTo(t,e)},ot.quadraticCurveTo=function(t,e,o,a){this.Y.quadraticCurveTo(t,e,o,a)},ot.rect=function(t,e,o,a){this.Y.rect(t,e,o,a)},ot.restore=function(){this.Y.restore()},cf.prototype.rotate=function(t){this.Y.rotate(t)},(ot=cf.prototype).save=function(){this.Y.save()},ot.setTransform=function(t,e,o,a,u,c){this.Y.setTransform(t,e,o,a,u,c)},ot.scale=function(t,e){this.Y.scale(t,e)},ot.stroke=function(){this.Y.stroke()},ot.transform=function(t,e,o,a,u,c){1===t&&0===e&&0===o&&1===a&&0===u&&0===c||this.Y.transform(t,e,o,a,u,c)},ot.translate=function(t,e){this.Y.translate(t,e)},ot.Je=function(t){if(t instanceof Dn&&t.type===ma){var e=t.gl;(t=t.Au)>e?(this.scale(e/t,1),this.translate((t-e)/2,0)):e>t&&(this.scale(1,t/e),this.translate(0,(e-t)/2)),this.yn?this.clip():this.fill(),t>e?(this.translate(-(t-e)/2,0),this.scale(1/(e/t),1)):e>t&&(this.translate(0,-(e-t)/2),this.scale(1,1/(t/e)))}else this.yn?this.clip():this.fill()},ot.vj=function(){this.yn||this.stroke()},ot.Iw=function(t,e,o){this.et=t,this.ft=e,this.ug=o},ot.Ft=function(t,e){var o=this.Y;void 0!==o.setLineDash&&(o.setLineDash(t),o.lineDashOffset=e)},ot.Dt=function(){var t=this.Y;void 0!==t.setLineDash&&(t.setLineDash(_x),t.lineDashOffset=0)},ot.uc=function(t){t&&(this.yu=""),this.xu=this.zu=""},W.Object.defineProperties(cf.prototype,{fillStyle:{get:function(){return this.Y.fillStyle},set:function(t){this.xu!==t&&(this.xu=this.Y.fillStyle=t)}},font:{get:function(){return this.Y.font},set:function(t){this.yu!==t&&(this.yu=this.Y.font=t)}},globalAlpha:{get:function(){return this.Y.globalAlpha},set:function(t){this.Y.globalAlpha=t}},lineCap:{get:function(){return this.Y.lineCap},set:function(t){this.Y.lineCap=t}},lineDashOffset:{get:function(){return this.Y.lineDashOffset},set:function(t){this.Y.lineDashOffset=t}},lineJoin:{get:function(){return this.Y.lineJoin},set:function(t){this.Y.lineJoin=t}},lineWidth:{get:function(){return this.Y.lineWidth},set:function(t){this.Y.lineWidth=t}},miterLimit:{get:function(){return this.Y.miterLimit},set:function(t){this.Y.miterLimit=t}},shadowBlur:{get:function(){return this.Y.shadowBlur},set:function(t){this.Y.shadowBlur=t}},shadowColor:{get:function(){return this.Y.shadowColor},set:function(t){this.Y.shadowColor=t}},shadowOffsetX:{get:function(){return this.Y.shadowOffsetX},set:function(t){this.Y.shadowOffsetX=t}},shadowOffsetY:{get:function(){return this.Y.shadowOffsetY},set:function(t){this.Y.shadowOffsetY=t}},strokeStyle:{get:function(){return this.Y.strokeStyle},set:function(t){this.zu!==t&&(this.zu=this.Y.strokeStyle=t)}},textAlign:{get:function(){return this.Y.textAlign},set:function(t){this.Y.textAlign=t}},imageSmoothingEnabled:{get:function(){return this.Y.imageSmoothingEnabled},set:function(t){this.Y.imageSmoothingEnabled=t}},clipInsteadOfFill:{get:function(){return this.yn},set:function(t){this.yn=t}}});var _x=Object.freeze([]);function f0(){this.T=this.u=this.I=this.l=0}function Dn(t){gc||(rv(),gc=!0),ge(this),this.v=!1,void 0===t?(this.qa=Ah,this.fl="black"):"string"==typeof t?(this.qa=Ah,this.fl=t):(this.qa=t,this.fl="black"),(t=this.qa)===Th?(this.Dd=bn,this.sl=Qh):this.sl=this.Dd=t===ma?Vi:hn,this.jt=0,this.Vr=NaN,this.ke=this.Ks=this.je=null,this.Au=this.gl=0}function rd(t,e,o){return e=void 0===e||"number"!=typeof e?.2:e,o=void 0===o?ga:o,ru(t),Qd(e,o)}function od(t,e,o){return e=void 0===e||"number"!=typeof e?.2:e,o=void 0===o?ga:o,ru(t),Qd(-e,o)}function xm(t,e,o){ru(t),t=er.l;var a=er.I,u=er.u,c=er.T;return ru(e),void 0===o&&(o=.5),"rgba("+Math.round((er.l-t)*o+t)+", "+Math.round((er.I-a)*o+a)+", "+Math.round((er.u-u)*o+u)+", "+Math.round((er.T-c)*o+c)+")"}function ea(t){return!!t&&(t instanceof Dn?t.Fy():(ru(t),128>(299*er.l+587*er.I+114*er.u)/1e3))}function Qd(t,e){switch(e){case ga:e=100*Iy(er.l);var o=100*Iy(er.I),a=100*Iy(er.u);return ts.l=.4124564*e+.3575761*o+.1804375*a,ts.I=.2126729*e+.7151522*o+.072175*a,ts.u=.0193339*e+.119192*o+.9503041*a,ts.T=er.T,e=Jd(ts.l/qu[0]),o=Jd(ts.I/qu[1]),a=Jd(ts.u/qu[2]),fs.l=116*o-16,fs.I=500*(e-o),fs.u=200*(o-a),fs.T=ts.T,fs.l=Math.min(100,Math.max(0,fs.l+100*t)),e=(t=(fs.l+16)/116)-fs.u/200,ts.l=qu[0]*bm(fs.I/500+t),ts.I=qu[1]*(fs.l>sv*ov?Math.pow(t,3):fs.l/sv),ts.u=qu[2]*bm(e),ts.T=fs.T,t=-.969266*ts.l+1.8760108*ts.I+.041556*ts.u,e=.0556434*ts.l+-.2040259*ts.I+1.0572252*ts.u,er.l=255*Ku((3.2404542*ts.l+-1.5371385*ts.I+-.4985314*ts.u)/100),er.I=255*Ku(t/100),er.u=255*Ku(e/100),er.T=ts.T,er.l=Math.round(er.l),255<er.l?er.l=255:0>er.l&&(er.l=0),er.I=Math.round(er.I),255<er.I?er.I=255:0>er.I&&(er.I=0),er.u=Math.round(er.u),255<er.u?er.u=255:0>er.u&&(er.u=0),"rgba("+er.l+", "+er.I+", "+er.u+", "+er.T+")";case Qu:return wm(),pa.u=Math.min(100,Math.max(0,pa.u+100*t)),"hsla("+pa.l+", "+pa.I+"%, "+pa.u+"%, "+pa.T+")";default:return V("Unknown color space: "+e),"rgba(0, 0, 0, 1)"}}function ru(t){gc||(rv(),gc=!0);var e=sd;if(null!==e){e.clearRect(0,0,1,1),e.fillStyle="#000000";var o=e.fillStyle;e.fillStyle=t,e.fillStyle!==o?(e.fillRect(0,0,1,1),t=e.getImageData(0,0,1,1).data,er.l=t[0],er.I=t[1],er.u=t[2],er.T=t[3]/255):(e.fillStyle="#FFFFFF",e.fillStyle=t,er.l=0,er.I=0,er.u=0,er.T=1)}}function wm(){var t=er.l/255,e=er.I/255,o=er.u/255,a=Math.max(t,e,o),u=Math.min(t,e,o),c=a-u;if(u=(a+u)/2,0===c)var g=t=0;else{switch(a){case t:g=(e-o)/c%6;break;case e:g=(o-t)/c+2;break;case o:g=(t-e)/c+4}0>(g*=60)&&(g+=360),t=c/(1-Math.abs(2*u-1))}pa.l=Math.round(g),pa.I=Math.round(100*t),pa.u=Math.round(100*u),pa.T=er.T}function Iy(t){return.04045>=(t/=255)?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ku(t){return.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055}function Jd(t){return t>ov?Math.pow(t,1/3):(sv*t+16)/116}function bm(t){var e=t*t*t;return e>ov?e:(116*t-16)/sv}function Zu(t,e){"string"!=typeof t&&(t instanceof Dn||V("Value for "+e+" must be a color string or a Brush, not "+t))}function rv(){sd=ol?new da(null).context:null}cf.className="CanvasSurfaceContext",f0.className="ColorNumbers",Dn.prototype.copy=function(){var t=new Dn;return t.qa=this.qa,t.fl=this.fl,t.Dd=this.Dd.H(),t.sl=this.sl.H(),t.jt=this.jt,t.Vr=this.Vr,null!==this.je&&(t.je=this.je.copy()),t.Ks=this.Ks,t},(ot=Dn.prototype).freeze=function(){return this.v=!0,null!==this.je&&this.je.freeze(),this},ot.ea=function(){return Object.isFrozen(this)&&V("cannot thaw constant: "+this),this.v=!1,null!==this.je&&this.je.ea(),this},ot.jb=function(t){t.classType===Dn&&(this.type=t)},ot.toString=function(){var t="Brush(";if(this.type===Ah)t+=this.color;else if(t=this.type===Th?t+"Linear ":this.type===ma?t+"Radial ":this.type===Ph?t+"Pattern ":t+"(unknown) ",t+=this.start+" "+this.end,null!==this.colorStops)for(var e=this.colorStops.iterator;e.next();)t+=" "+e.key+":"+e.value;return t+")"},ot.addColorStop=function(t,e){return this.v&&Z(this),("number"!=typeof t||!isFinite(t)||1<t||0>t)&&et(t,"0 <= loc <= 1",Dn,"addColorStop:loc"),null===this.je&&(this.je=new vt),this.je.add(t,e),this.qa===Ah&&(this.type=Th),this.ke=null,this},ot.FA=function(t,e){if(this.v&&Z(this),t=void 0===t||"number"!=typeof t?.2:t,e=void 0===e?ga:e,this.type===Ah)ru(this.color),this.color=Qd(t,e);else if((this.type===Th||this.type===ma)&&null!==this.colorStops)for(var o=this.colorStops.iterator;o.next();)ru(o.value),this.addColorStop(o.key,Qd(t,e));return this},ot.Iz=function(t,e){if(this.v&&Z(this),t=void 0===t||"number"!=typeof t?.2:t,e=void 0===e?ga:e,this.type===Ah)ru(this.color),this.color=Qd(-t,e);else if((this.type===Th||this.type===ma)&&null!==this.colorStops)for(var o=this.colorStops.iterator;o.next();)ru(o.value),this.addColorStop(o.key,Qd(-t,e));return this},ot.Fy=function(){if(this.type===Ah)return ea(this.color);if((this.type===Th||this.type===ma)&&null!==this.colorStops){var t=this.colorStops;if(this.type===ma)return ea(t.first().value);if(null!==t.get(.5))return ea(t.get(.5));if(2===t.count)return ea(xm((t=t.ma())[0].value,t[1].value));for(var e=t.iterator,o=-1,a=-1,u=1,c=1;e.next();){var g=e.key,_=Math.abs(.5-e.key);u>c&&_<u?(o=g,u=_):c>=u&&_<c&&(a=g,c=_)}return o>a&&(c=o,o=a,a=c,c=u),u=a-o,ea(xm(t.get(o),t.get(a),1-c/u))}return!1},W.Object.defineProperties(Dn.prototype,{type:{get:function(){return this.qa},set:function(t){this.v&&Z(this,t),this.qa=t,this.start.nc()&&(t===Th?this.start=bn:t===ma&&(this.start=Vi)),this.end.nc()&&(t===Th?this.end=Qh:t===ma&&(this.end=Vi)),this.ke=null}},color:{get:function(){return this.fl},set:function(t){this.v&&Z(this,t),this.fl=t,this.ke=null}},start:{get:function(){return this.Dd},set:function(t){this.v&&Z(this,t),this.Dd=t.H(),this.ke=null}},end:{get:function(){return this.sl},set:function(t){this.v&&Z(this,t),this.sl=t.H(),this.ke=null}},startRadius:{get:function(){return this.jt},set:function(t){this.v&&Z(this,t),0>t&&et(t,">= zero",Dn,"startRadius"),this.jt=t,this.ke=null}},endRadius:{get:function(){return this.Vr},set:function(t){this.v&&Z(this,t),0>t&&et(t,">= zero",Dn,"endRadius"),this.Vr=t,this.ke=null}},colorStops:{get:function(){return this.je},set:function(t){this.v&&Z(this,t),this.je=t,this.ke=null}},pattern:{get:function(){return this.Ks},set:function(t){this.v&&Z(this,t),this.Ks=t,this.ke=null}}}),Dn.prototype.isDark=Dn.prototype.Fy,Dn.prototype.darkenBy=Dn.prototype.Iz,Dn.prototype.lightenBy=Dn.prototype.FA,Dn.prototype.addColorStop=Dn.prototype.addColorStop;var Ah,Th,ma,Ph,ga,Qu,ov=216/24389,sv=24389/27,qu=[95.047,100,108.883],sd=null,er=new f0,pa=new f0,ts=new f0,fs=new f0,gc=!1;function Wo(){this.oa="Base"}function _m(){this.oa="Base"}function tp(){this.oa="Base"}function ep(){this.oa="Base"}function d0(){this.oa="Base"}function av(){this.oa="Base"}function Mm(){this.oa="Base",this.name="Table"}function lv(){this.oa="Base"}function uv(){this.oa="Base"}function hv(){this.oa="Base"}function Cm(){this.oa="Base"}function Ry(t,e,o,a){if(0>e)return t%e===o;if(t%e!==o)return!1;e=a.length;for(var u=0;u<e;u++)if(t%a[u]===o)return!1;return!0}function Sm(){this.oa="Base"}function p0(t,e,o,a){if(!1!==dc(a)){var u=a.strokeWidth;0===u&&t instanceof si&&t.type===Ke.Link&&t.adornedObject instanceof Yi&&(u=t.adornedObject.strokeWidth),u*=a.Aa,t instanceof We&&null!==t.na?zl(a,(t=t.na.bounds).x-u/2,t.y-u/2,t.width+u,t.height+u):t instanceof si&&null!==t.adornedPart.na?zl(a,(t=t.adornedPart.na.bounds).x-u/2,t.y-u/2,t.width+u,t.height+u):zl(a,-u/2,-u/2,e+u,o+u),Aa(a,!1)}}function m0(){this.oa="Base"}function Ke(t){Ri.call(this),this.qa=void 0===t?Ke.Position:t,null===this.qa&&V("Panel type not specified or PanelLayout not loaded: "+t),this.W=new Vt,this.ib=dr,this.qa===Ke.Grid&&(this.isAtomic=!0),this.Mn=Os,this.Sf=Go,this.qa===Ke.Table&&g0(this),this.pq=Vs,this.no=Ee,this.oo=ei,this.ko=0,this.jo=100,this.mo=10,this.lo=0,this.li=this.ob=this.eh=this.dh=this.Mj=null,this.Do=NaN,this.te=this.Ci=null,this.Jl="category",this.Zd=null,this.xg=new te(NaN,NaN,NaN,NaN),this.zh=this.Lp=this.Ui=null,this.Lg=""}function g0(t){t.Fj=dr,t.Ug=1,t.si=null,t.ri=null,t.Tg=1,t.Sg=null,t.pi=null,t.qb=[],t.nb=[],t.dk=pv,t.Cj=pv,t.Xi=0,t.Gi=0}function Oy(t,e,o,a){for(var u=a.length,c=t.actualBounds,g=t.naturalBounds,_=!0,A=0;A<u;A++){var I=a[A];if(void 0!==I)if(_)_=!1;else if(0!==I.actual){if(o){if(I.position>c.height)continue}else if(I.position>c.width)continue;var B=I.separatorStrokeWidth;isNaN(B)&&(B=o?t.Ug:t.Tg);var H=I.separatorStroke;if(null===H&&(H=o?t.si:t.Sg),0!==B&&null!==H){fa(t,e,H,!1,!1,g,c),H=!1;var dt=I.separatorDashArray;null===dt&&(dt=o?t.ri:t.pi),null!==dt&&(H=!0,e.Ft(dt,0)),e.beginPath(),dt=I.position+B,o?dt>c.height&&(B-=dt-c.height):dt>c.width&&(B-=dt-c.width),I=I.position+B/2,e.lineWidth=B,B=t.ib,o?(dt=c.width-B.right,e.moveTo(B.left,I+=B.top),e.lineTo(dt,I)):(dt=c.height-B.bottom,e.moveTo(I+=B.left,B.top),e.lineTo(I,dt)),e.stroke(),H&&e.Dt()}}}}function Dm(t,e,o,a,u){for(var c=a.length,g=t.actualBounds,_=t.naturalBounds,A=0;A<c;A++){var I=a[A];if(void 0!==I&&null!==I.background&&I.coversSeparators!==u&&0!==I.actual){var B=o?g.height:g.width;if(!(I.position>B)){var H=I.wc(),dt=I.separatorStrokeWidth;isNaN(dt)&&(dt=o?t.Ug:t.Tg);var bt=I.separatorStroke;null===bt&&(bt=o?t.si:t.Sg),null===bt&&(dt=0),H-=dt,(dt=I.position+dt)+(H+=I.actual)>B&&(H=B-dt),0>=H||(B=t.ib,fa(t,e,I.background,!0,!1,_,g),o?e.fillRect(B.left,dt+B.top,g.width-(B.left+B.right),H):e.fillRect(dt+B.left,B.top,H,g.height-(B.top+B.bottom)))}}}}function ff(t){return"LineV"===t||"BarV"===t}function vc(t){return null!==t.part?t.part.locationObject:null}function Ih(t,e){Ta(t,t,e)}function Ta(t,e,o){o(e);for(var a=(e=e.W.j).length,u=0;u<a;u++){var c=e[u];c instanceof Ke&&Ta(t,c,o)}}function Ny(t,e){ad(t,t,e)}function ad(t,e,o){if(o(e),e instanceof Ke)for(var a=(e=e.W.j).length,u=0;u<a;u++)ad(t,e[u],o)}function ip(t,e,o){if(o(e))return e;if(e instanceof Ke)for(var a=(e=e.W.j).length,u=0;u<a;u++){var c=ip(t,e[u],o);if(null!==c)return c}return null}function gb(t){for(var e=(t=t.W.j).length,o=0,a=0;a<e;a++){var u=t[a];u instanceof Ke?o=Math.max(o,gb(u)):u instanceof Yi&&(o=Math.max(o,u.wh/2*u.gk*u.Af()))}return o}function Mx(t,e,o,a){for(var u=t.W.j,c=u.length;c--;){var g=u[c];if(g.visible){var _=g.actualBounds,A=t.naturalBounds;_.x>A.width||_.y>A.height||0>_.x+_.width||0>_.y+_.height||(g instanceof Ke&&Mx(g,e,o,a),null!==e&&(g=e(g)),null===g||null!==o&&!o(g)||a.add(g))}}}function cv(t){var e=null;return t instanceof Yi&&((e=t.spot1)===Os&&(e=null),null!==(t=t.geometry)&&null===e&&(e=t.spot1)),null===e&&(e=ar),e}function Ly(t){var e=null;return t instanceof Yi&&((e=t.spot2)===Os&&(e=null),null!==(t=t.geometry)&&null===e&&(e=t.spot2)),null===e&&(e=Ha),e}function Fy(t,e){t.F=e?16777216|t.F:-16777217&t.F}function Cx(t,e,o){var a=t.qb;if(a&&!(0>e)){if(a[e]=o instanceof _o?o:void 0,!o)for(e=a.length-1;0<=e&&void 0===a[e--];)a.length--;t.s()}}function Sx(t,e,o){var a=t.nb;if(a&&!(0>e)){if(a[e]=o instanceof _o?o:void 0,!o)for(e=a.length-1;0<=e&&void 0===a[e--];)a.length--;t.s()}}function By(t){return null!==(t=t.li)&&t.v}function va(t){var e=t.li;if(null===e)null!==t.data&&V("Template cannot have .data be non-null: "+t),t.li=e=new Vt;else if(e.v)return;var o=new Vt;Fy(t,!1),t.an(t,function(I,B){var H=B.fb;if(null!==H)for(td(B,!1),H=H.iterator;H.next();){var dt=H.value;dt.mode===Kx&&td(B,!0);var bt=dt.sourceName;null!==bt&&("/"===bt&&Fy(I,!0),null!==(bt=Nb(dt,I,B))&&(o.add(bt),null===bt.im&&(bt.im=new Vt),bt.im.add(dt))),e.add(dt)}if(B instanceof Ke&&B.type===Ke.Table){if(0<B.qb.length)for(H=(I=B.qb).length,dt=0;dt<H;dt++)if(void 0!==(bt=I[dt])&&null!==bt.fb)for(var pt=bt.fb.iterator;pt.next();){var Rt=pt.value;Rt.pd=bt,Rt.hq=2,Rt.om=bt.index,e.add(Rt)}if(0<B.nb.length)for(I=(B=B.nb).length,H=0;H<I;H++)if(void 0!==(dt=B[H])&&null!==dt.fb)for(bt=dt.fb.iterator;bt.next();)(pt=bt.value).pd=dt,pt.hq=1,pt.om=dt.index,e.add(pt)}});for(var a=o.iterator;a.next();){var u=a.value;if(null!==u.im){td(u,!0);for(var c=u.im.iterator;c.next();){var g=c.value;null===u.fb&&(u.fb=new Vt),u.fb.add(g)}}u.im=null}for(a=e.iterator;a.next();)if(null!==(c=(u=a.value).pd)){u.pd=null;var _=u.targetProperty,A=_.indexOf(".");0<A&&c instanceof Ke&&(g=_.substring(0,A),_=_.substr(A+1),null!==(A=c.bb(g))?(c=A,u.targetProperty=_):rt('Warning: unable to find GraphObject named "'+g+'" for Binding: '+u.toString())),c instanceof _o?(g=we(c.panel),u.wj=void 0===g?-1:g,c.panel.dl=u.wj):c instanceof Ri?(g=we(c),u.wj=void 0===g?-1:g,c.dl=u.wj):V("Unknown type of binding target: "+c)}e.freeze(),t instanceof Bt&&t.Nc()&&t.Ta()}function v0(t){if(t.type===Ke.Spot||t.type===Ke.Auto)return Math.min(t.W.length,1);if(t.type===Ke.Link){for(var e=(t=t.W).length,o=0;o<e;o++){var a=t.J(o);if(!(a instanceof Yi&&a.isPanelMain))break}return o}return t.type===Ke.Table&&0<t.W.length&&(t=t.W.J(0)).isPanelMain&&t instanceof Ke&&(t.type===Ke.TableRow||t.type===Ke.TableColumn)?1:0}function Vy(t,e,o){if(!(null==e||0>o)){var a=function(t,e){if(null===e)return"";if("function"==typeof(t=t.Jl))t=t(e);else{if("string"!=typeof t||"object"!=typeof e)return"";if(""===t)return"";t=ho(e,t)}return void 0===t?"":"string"==typeof t?t:(V("Panel.getCategoryForItemData found a non-string category for "+e+": "+t),"")}(t,e),u=t.itemTemplateMap,c=null;null!==u&&(c=u.G(a)),null===c&&(null!==u&&(c=u.G("")),null===c&&(fv||(fv=!0,rt('No item template Panel found for category "'+a+'" on '+t),rt("  Using default item template."),a=new Ke,(u=new $n).bind(new yo("text","",v)),a.add(u),kx=a),c=kx)),null!==(a=c)&&(va(a),0!=(16777216&(a=a.copy()).F)&&null!==(u=t.ij())&&Fy(u,!0),"object"==typeof e&&(null===t.Zd&&(t.Zd=new vt),t.Zd.add(e,a)),u=o+v0(t),t.wb(u,a),a.ob=e,xr(t,u,o),a.ob=null,a.data=e)}}function xr(t,e,o){for(t=t.W;e<t.length;){var a=t.J(e);if(a instanceof Ke){var u=e,c=o;a.type===Ke.TableRow?a.row=u:a.type===Ke.TableColumn&&(a.column=u),a.itemIndex=c}e++,o++}}function jy(t,e,o){var a=e.enabledChanged;if(null!==a&&a(e,o),e instanceof Ke){a=(e=e.W.j).length;for(var u=0;u<a;u++){var c=e[u];o&&c instanceof Ke&&!c.isEnabled||jy(t,c,o)}}}function _l(t,e){e.name=t,ou.add(t,e)}Dn.className="Brush",Dn.Solid=Ah=new wt(Dn,"Solid",0),Dn.Linear=Th=new wt(Dn,"Linear",1),Dn.Radial=ma=new wt(Dn,"Radial",2),Dn.Pattern=Ph=new wt(Dn,"Pattern",4),Dn.Lab=ga=new wt(Dn,"Lab",5),Dn.HSL=Qu=new wt(Dn,"HSL",6),Dn.randomColor=function(t,e){void 0===t&&(t=128),void 0===e&&(e=Math.max(t,255));var o=Math.abs(e-t);e=Math.floor(t+Math.random()*o).toString(16);var a=Math.floor(t+Math.random()*o).toString(16);return t=Math.floor(t+Math.random()*o).toString(16),2>e.length&&(e="0"+e),2>a.length&&(a="0"+a),2>t.length&&(t="0"+t),"#"+e+a+t},Dn.isValidColor=function(t){if("black"===t)return!0;if(""===t)return!1;gc||(rv(),gc=!0);var e=sd;if(null===e)return!0;e.fillStyle="#000000";var o=e.fillStyle;return e.fillStyle=t,e.fillStyle!==o||(e.fillStyle="#FFFFFF",o=e.fillStyle,e.fillStyle=t,e.fillStyle!==o)},Dn.lighten=function(t){return rd(t)},Dn.lightenBy=rd,Dn.darken=function(t){return od(t)},Dn.darkenBy=od,Dn.mix=xm,Dn.isDark=ea,Wo.prototype.measure=function(){},Wo.prototype.IA=function(t,e,o,a,u){t.measure(e,o,a,u)},Wo.prototype.arrange=function(){},Wo.prototype.wz=function(t,e,o,a,u,c){t.arrange(e,o,a,u,c)},Wo.prototype.RA=function(t){t.Bk()},Wo.prototype.mc=function(){},W.Object.defineProperties(Wo.prototype,{name:{get:function(){return this.oa},set:function(t){this.oa=t}},classType:{get:function(){return Ke}}}),Wo.prototype.remeasureObject=Wo.prototype.RA,Wo.prototype.arrangeElement=Wo.prototype.wz,Wo.prototype.measureElement=Wo.prototype.IA,Wo.className="PanelLayout",K(_m,Wo),_m.prototype.measure=function(t,e,o,a,u,c,g){var _=a.length;t=vc(t);for(var A=0;A<_;A++){var I=a[A];if(I.visible||I===t){var B=I.margin,H=B.right+B.left;B=B.top+B.bottom,I.measure(e,o,c,g);var dt=I.measuredBounds;H=Math.max(dt.width+H,0),B=Math.max(dt.height+B,0),dt=I.position.x;var bt=I.position.y;isFinite(dt)||(dt=0),isFinite(bt)||(bt=0),I instanceof Yi&&I.isGeometryPositioned&&(dt-=I=I.strokeWidth/2,bt-=I),en(u,dt,bt,H,B)}}},_m.prototype.arrange=function(t,e,o){var a=e.length,u=t.padding;for(t=o.x-u.left,o=o.y-u.top,u=0;u<a;u++){var c=e[u],g=c.measuredBounds,_=c.margin,A=c.position.x,I=c.position.y;if(A=isNaN(A)?-t:A-t,I=isNaN(I)?-o:I-o,c instanceof Yi&&c.isGeometryPositioned){var B=c.strokeWidth/2;A-=B,I-=B}c.visible&&c.arrange(A+_.left,I+_.top,g.width,g.height)}},K(tp,Wo),tp.prototype.measure=function(t,e,o,a,u,c,g){var _=a.length;e=h(),c=vc(t);for(var A=0;A<_;A++){var I=a[A];if(I.visible||I===c){var B=wl(I,!1);if(B!==qn&&B!==ro)e.push(I);else{I.measure(1/0,o,0,g),B=I.margin,I=I.measuredBounds;var H=Math.max(I.height+B.top+B.bottom,0);u.width+=Math.max(I.width+B.right+B.left,0),u.height=Math.max(u.height,H)}}}for(a=e.length,t.desiredSize.height?o=Math.min(t.desiredSize.height,t.maxSize.height):0!==u.height&&(o=Math.min(u.height,t.maxSize.height)),t=0;t<a;t++)((A=e[t]).visible||A===c)&&(_=(B=A.margin).right+B.left,B=B.top+B.bottom,A.measure(1/0,o,0,g),A=A.measuredBounds,B=Math.max(A.height+B,0),u.width+=Math.max(A.width+_,0),u.height=Math.max(u.height,B));m(e)},tp.prototype.arrange=function(t,e,o){for(var a=e.length,u=t.padding,c=u.top,g=t.isOpposite,_=g?o.width:u.left,A=0;A<a;A++){var I=c,B=e[A];if(B.visible){var H=B.measuredBounds,dt=B.margin,bt=dt.top+dt.bottom,pt=c+u.bottom,Rt=H.height,Xt=wl(B,!1);(isNaN(B.desiredSize.height)&&Xt===qr||Xt===Ts)&&(Rt=Math.max(o.height-bt-pt,0)),bt=Rt+bt+pt,(pt=B.alignment).Mb()&&(pt=t.defaultAlignment),pt.kb()||(pt=Vi),g&&(_-=H.width+dt.left+dt.right),B.arrange(_+pt.offsetX+dt.left,I+pt.offsetY+dt.top+(o.height*pt.y-bt*pt.y),H.width,Rt),g||(_+=H.width+dt.left+dt.right)}}},K(ep,Wo),ep.prototype.measure=function(t,e,o,a,u,c){var g=a.length;o=h();for(var _=vc(t),A=0;A<g;A++){var I=a[A];if(I.visible||I===_){var B=wl(I,!1);if(B!==qn&&B!==Ts)o.push(I);else{var H=I.margin;B=H.right+H.left,H=H.top+H.bottom,I.measure(e,1/0,c,0),I=I.measuredBounds,Ie(u,Math.max(u.width,Math.max(I.width+B,0)),u.height+Math.max(I.height+H,0))}}}if(0!==(a=o.length)){for(t.desiredSize.width?e=Math.min(t.desiredSize.width,t.maxSize.width):0!==u.width&&(e=Math.min(u.width,t.maxSize.width)),t=0;t<a;t++)((A=o[t]).visible||A===_)&&(g=(I=A.margin).right+I.left,I=I.top+I.bottom,A.measure(e,1/0,c,0),A=A.measuredBounds,I=Math.max(A.height+I,0),u.width=Math.max(u.width,Math.max(A.width+g,0)),u.height+=I);m(o)}},ep.prototype.arrange=function(t,e,o){for(var a=e.length,u=t.padding,c=u.left,g=t.isOpposite,_=g?o.height:u.top,A=0;A<a;A++){var I=c,B=e[A];if(B.visible){var H=B.measuredBounds,dt=B.margin,bt=dt.left+dt.right,pt=c+u.right,Rt=H.width,Xt=wl(B,!1);(isNaN(B.desiredSize.width)&&Xt===qr||Xt===ro)&&(Rt=Math.max(o.width-bt-pt,0)),bt=Rt+bt+pt,(pt=B.alignment).Mb()&&(pt=t.defaultAlignment),pt.kb()||(pt=Vi),g&&(_-=H.height+dt.bottom+dt.top),B.arrange(I+pt.offsetX+dt.left+(o.width*pt.x-bt*pt.x),_+pt.offsetY+dt.top,Rt,H.height),g||(_+=H.height+dt.bottom+dt.top)}}},K(d0,Wo),d0.prototype.measure=function(t,e,o,a,u,c,g){var _=a.length,A=t.tb(),I=A.margin,B=I.right+I.left,H=I.top+I.bottom;A.measure(e,o,c,g);var dt=A.measuredBounds;c=dt.width,g=dt.height;for(var bt=Math.max(c+B,0),pt=Math.max(g+H,0),Rt=t.isClipping,Xt=te.allocAt(-I.left,-I.top,bt,pt),$t=!0,ie=vc(t),oe=0;oe<_;oe++){var ce=a[oe];if(ce!==A&&(ce.visible||ce===ie)){switch(bt=(I=ce.margin).right+I.left,pt=I.top+I.bottom,dt=wl(ce,!1)){case qr:e=c,o=g;break;case ro:e=c;break;case Ts:o=g}ce.measure(e,o,0,0),dt=ce.measuredBounds,bt=Math.max(dt.width+bt,0),pt=Math.max(dt.height+pt,0);var _e=ce.alignment;_e.Mb()&&(_e=t.defaultAlignment),_e.kb()||(_e=Vi);var Je=ce.alignmentFocus;Je.Mb()&&(Je=Vi);var Si=null;if(ce instanceof Ke&&""!==ce.Lg&&(ce.arrange(0,0,dt.width,dt.height),(Si=ce.bb(ce.Lg))===ce&&(Si=null)),null!==Si){for(I=at.allocAt(Je.x*(I=Si.naturalBounds).width-Je.offsetX-(dt=Si.margin).left,Je.y*I.height-Je.offsetY-dt.top);Si!==ce;)Si.transform.ta(I),Si=Si.panel;ce=_e.x*c+_e.offsetX-I.x,dt=_e.y*g+_e.offsetY-I.y,at.free(I)}else ce=_e.x*c+_e.offsetX-(Je.x*dt.width+Je.offsetX)-I.left,dt=_e.y*g+_e.offsetY-(Je.y*dt.height+Je.offsetY)-I.top;$t?($t=!1,u.h(ce,dt,bt,pt)):en(u,ce,dt,bt,pt)}}switch($t?u.assign(Xt):Rt?u.bw(Xt.x,Xt.y,Xt.width,Xt.height):en(u,Xt.x,Xt.y,Xt.width,Xt.height),te.free(Xt),(dt=A.stretch)===Go&&(dt=wl(A,!1)),dt){case qn:return;case qr:if(!isFinite(e)&&!isFinite(o))return;break;case ro:if(!isFinite(e))return;break;case Ts:if(!isFinite(o))return}for(c=(dt=A.measuredBounds).width,g=dt.height,bt=Math.max(c+B,0),pt=Math.max(g+H,0),Xt=te.allocAt(-(I=A.margin).left,-I.top,bt,pt),e=0;e<_;e++)(o=a[e])===A||!o.visible&&o!==ie||(bt=(I=o.margin).right+I.left,pt=I.top+I.bottom,dt=o.measuredBounds,bt=Math.max(dt.width+bt,0),pt=Math.max(dt.height+pt,0),(B=o.alignment).Mb()&&(B=t.defaultAlignment),B.kb()||(B=Vi),(o=o.alignmentFocus).Mb()&&(o=Vi),$t?($t=!1,u.h(B.x*c+B.offsetX-(o.x*dt.width+o.offsetX)-I.left,B.y*g+B.offsetY-(o.y*dt.height+o.offsetY)-I.top,bt,pt)):en(u,B.x*c+B.offsetX-(o.x*dt.width+o.offsetX)-I.left,B.y*g+B.offsetY-(o.y*dt.height+o.offsetY)-I.top,bt,pt));$t?u.assign(Xt):Rt?u.bw(Xt.x,Xt.y,Xt.width,Xt.height):en(u,Xt.x,Xt.y,Xt.width,Xt.height),te.free(Xt)},d0.prototype.arrange=function(t,e,o){var a=e.length,u=t.tb(),c=u.measuredBounds,g=c.width,_=t.padding,A=_.left,I=A-o.x,B=(_=_.top)-o.y;u.arrange(I,B,g,c=c.height);for(var H=0;H<a;H++){var dt=e[H];if(dt!==u){var bt=dt.measuredBounds,pt=bt.width;bt=bt.height,(B=dt.alignment).Mb()&&(B=t.defaultAlignment),B.kb()||(B=Vi);var Rt=dt.alignmentFocus;if(Rt.Mb()&&(Rt=Vi),I=null,dt instanceof Ke&&""!==dt.Lg&&(I=dt.bb(dt.Lg))===dt&&(I=null),null!==I){var Xt=I.naturalBounds;for(Rt=at.allocAt(Rt.x*Xt.width-Rt.offsetX,Rt.y*Xt.height-Rt.offsetY);I!==dt;)I.transform.ta(Rt),I=I.panel;I=B.x*g+B.offsetX-Rt.x,B=B.y*c+B.offsetY-Rt.y,at.free(Rt)}else I=B.x*g+B.offsetX-(Rt.x*pt+Rt.offsetX),B=B.y*c+B.offsetY-(Rt.y*bt+Rt.offsetY);I-=o.x,B-=o.y,dt.visible&&dt.arrange(A+I,_+B,pt,bt)}}},K(av,Wo),av.prototype.measure=function(t,e,o,a,u,c,g){var _=a.length,A=t.tb(),I=A.margin,B=e,H=o,dt=I.right+I.left,bt=I.top+I.bottom;A.measure(e,o,c,g),I=A.measuredBounds;var pt=0,Rt=null;A instanceof Yi&&(pt=(Rt=A).strokeWidth*Rt.scale);var Xt=Math.max(I.width+dt,0);I=Math.max(I.height+bt,0);var $t=cv(A),ie=$t.x*Xt+$t.offsetX;$t=$t.y*I+$t.offsetY;var oe=Ly(A),ce=oe.x*Xt+oe.offsetX;for(oe=oe.y*I+oe.offsetY,isFinite(e)&&(B=Math.max(Math.abs(ie-ce)-pt,0)),isFinite(o)&&(H=Math.max(Math.abs($t-oe)-pt,0)),(pt=He.alloc()).h(0,0),t=vc(t),oe=0;oe<_;oe++)($t=a[oe])===A||!$t.visible&&$t!==t||(Xt=(I=$t.margin).right+I.left,ie=I.top+I.bottom,$t.measure(B,H,0,0),I=$t.measuredBounds,Xt=Math.max(I.width+Xt,0),I=Math.max(I.height+ie,0),pt.h(Math.max(Xt,pt.width),Math.max(I,pt.height)));if(1===_)u.width=Xt,u.height=I,He.free(pt);else{switch($t=cv(A),_=a=0,(oe=Ly(A)).x!==$t.x&&oe.y!==$t.y&&(a=pt.width/Math.abs(oe.x-$t.x),_=pt.height/Math.abs(oe.y-$t.y)),He.free(pt),pt=0,null!==Rt&&(pt=Rt.strokeWidth*Rt.scale,Em(Rt)===Vs&&(a=_=Math.max(a,_))),a+=Math.abs($t.offsetX)+Math.abs(oe.offsetX)+pt,_+=Math.abs($t.offsetY)+Math.abs(oe.offsetY)+pt,(Rt=A.stretch)===Go&&(Rt=wl(A,!1)),Rt){case qn:g=c=0;break;case qr:isFinite(e)&&(a=e),isFinite(o)&&(_=o);break;case ro:isFinite(e)&&(a=e),g=0;break;case Ts:c=0,isFinite(o)&&(_=o)}A.Bk(),A.measure(a,_,c,g),u.width=A.measuredBounds.width+dt,u.height=A.measuredBounds.height+bt}},av.prototype.arrange=function(t,e){var o=e.length,a=t.tb(),u=a.measuredBounds,c=te.alloc();c.h(0,0,1,1);var g=a.margin,_=g.left,A=t.padding,I=A.left;a.arrange(I+_,(A=A.top)+(g=g.top),u.width,u.height);var B=cv(a),H=Ly(a),dt=B.y*u.height+B.offsetY,bt=H.x*u.width+H.offsetX;for(H=H.y*u.height+H.offsetY,c.x=B.x*u.width+B.offsetX,c.y=dt,en(c,bt,H,0,0),c.x+=_+I,c.y+=g+A,u=0;u<o;u++)(_=e[u])!==a&&(I=_.measuredBounds,g=_.margin,A=Math.max(I.width+g.right+g.left,0),B=Math.max(I.height+g.top+g.bottom,0),(dt=_.alignment).Mb()&&(dt=t.defaultAlignment),dt.kb()||(dt=Vi),A=c.width*dt.x+dt.offsetX-A*dt.x+g.left+c.x,g=c.height*dt.y+dt.offsetY-B*dt.y+g.top+c.y,_.visible&&(sn(c.x,c.y,c.width,c.height,A,g,I.width,I.height)?_.arrange(A,g,I.width,I.height):_.arrange(A,g,I.width,I.height,new te(c.x,c.y,c.width,c.height))));te.free(c)},K(Mm,Wo),Mm.prototype.measure=function(t,e,o,a,u){for(var c=a.length,g=h(),_=h(),A=0;A<c;A++){var I=a[A],B=I instanceof Ke?I:null;if(null===B||B.type!==Ke.TableRow&&B.type!==Ke.TableColumn||!I.visible)g.push(I);else{_.push(B);for(var H=B.W.j,dt=H.length,bt=0;bt<dt;bt++){var pt=H[bt];B.type===Ke.TableRow?pt.row=I.row:B.type===Ke.TableColumn&&(pt.column=I.column),g.push(pt)}}}0===(c=g.length)&&(t.getRowDefinition(0),t.getColumnDefinition(0));for(var Rt=[],Xt=0;Xt<c;Xt++){var $t=g[Xt];Aa($t,!0),Tu($t,!0),Rt[$t.row]||(Rt[$t.row]=[]),Rt[$t.row][$t.column]||(Rt[$t.row][$t.column]=[]),Rt[$t.row][$t.column].push($t)}m(g);var ie=h(),oe=h(),ce=h(),_e={count:0},Je={count:0},Si=e,li=o,Fi=t.qb;c=Fi.length;for(var di=0;di<c;di++){var ii=Fi[di];void 0!==ii&&(ii.actual=0)}c=(Fi=t.nb).length;for(var _n=0;_n<c;_n++)void 0!==(ii=Fi[_n])&&(ii.actual=0);for(var rn=Rt.length,Hn=0,oo=0;oo<rn;oo++)Rt[oo]&&(Hn=Math.max(Hn,Rt[oo].length));var $o=Math.min(t.topIndex,rn-1),Vr=Math.min(t.leftIndex,Hn-1),Sr=0;rn=Rt.length;for(var Vh=vc(t),Na=0;Na<rn;Na++)if(Rt[Na]){Hn=Rt[Na].length;var _a=t.getRowDefinition(Na);_a.actual=0;for(var is=_a.bc=0;is<Hn;is++)if(Rt[Na][is]){var oh=t.getColumnDefinition(is);void 0===ie[is]&&(oh.actual=0,oh.bc=0,ie[is]=!0);for(var Hv=Rt[Na][is],cu=Hv.length,Dr=0;Dr<cu;Dr++){var zo=Hv[Dr];if(zo.visible||zo===Vh){var Uv=1<zo.rowSpan||1<zo.columnSpan;Uv&&(Na<$o||is<Vr||oe.push(zo));var Jm=zo.margin,Bu=Jm.right+Jm.left,fu=Jm.top+Jm.bottom,so=kh(zo,_a,oh,!1),Gv=zo.desiredSize,_1=!isNaN(Gv.height),tg=!isNaN(Gv.width)&&_1;if(Uv||so===qn||tg||Na<$o||is<Vr||(void 0!==_e[is]||so!==qr&&so!==ro||(_e[is]=-1,_e.count++),void 0!==Je[Na]||so!==qr&&so!==Ts||(Je[Na]=-1,Je.count++),ce.push(zo)),zo.measure(1/0,1/0,0,0),!(Na<$o||is<Vr)){var sh=zo.measuredBounds,hl=Math.max(sh.width+Bu,0),I0=Math.max(sh.height+fu,0);if(1===zo.rowSpan&&(so===qn||so===ro)){var Ja=(ii=t.getRowDefinition(Na)).wc();(Sr=Math.max(I0-ii.actual,0))+Ja>li&&(Sr=Math.max(li-Ja,0));var _f=0===ii.ha;ii.bc=ii.bc+Sr,ii.actual=ii.ha+Sr,li=Math.max(li-(Sr+(_f?Ja:0)),0)}if(1===zo.columnSpan&&(so===qn||so===Ts)){var Wv=(ii=t.getColumnDefinition(is)).wc();(Sr=Math.max(hl-ii.actual,0))+Wv>Si&&(Sr=Math.max(Si-Wv,0));var dw=0===ii.ha;ii.bc=ii.bc+Sr,ii.actual=ii.ha+Sr,Si=Math.max(Si-(Sr+(dw?Wv:0)),0)}Uv&&zo.Bk()}}}}}m(ie);var Ec=0,kc=0;c=t.columnCount;for(var R0=0;R0<c;R0++){var yd=t.nb[R0];void 0!==yd&&(Ec+=yd.bc,0!==yd.bc&&(Ec+=yd.wc()))}c=t.rowCount;for(var Vu=0;Vu<c;Vu++){var Ac=t.qb[Vu];void 0!==Ac&&(kc+=Ac.bc,0!==Ac.bc&&(kc+=Ac.wc()))}Si=Math.max(e-Ec,0);var Ji=li=Math.max(o-kc,0),Ps=Si;c=ce.length;for(var oa=0;oa<c;oa++){var du=ce[oa],Yv=t.getRowDefinition(du.row),Tc=t.getColumnDefinition(du.column),xd=du.measuredBounds,ah=du.margin,pw=ah.top+ah.bottom;_e[du.column]=0===Tc.bc&&void 0!==_e[du.column]?Math.max(xd.width+(ah.right+ah.left),_e[du.column]):null,Je[du.row]=0===Yv.bc&&void 0!==Je[du.row]?Math.max(xd.height+pw,Je[du.row]):null}var Pc,Sp=0,Xs=0;for(Pc in Je)"count"!==Pc&&(Sp+=Je[Pc]);for(Pc in _e)"count"!==Pc&&(Xs+=_e[Pc]);for(var ps=He.alloc(),C1=0;C1<c;C1++){var La=ce[C1];if(La.visible||La===Vh){var Al=t.getRowDefinition(La.row),cl=t.getColumnDefinition(La.column),Ic=0;isFinite(cl.width)?Ic=cl.width:(Ic=isFinite(Si)&&null!==_e[La.column]?0===Xs?cl.actual+Si:_e[La.column]/Xs*Ps:null!==_e[La.column]?Si:cl.actual||Si,Ic=Math.max(0,Ic-cl.wc()));var Rc=0;switch(isFinite(Al.height)?Rc=Al.height:(Rc=isFinite(li)&&null!==Je[La.row]?0===Sp?Al.actual+li:Je[La.row]/Sp*Ji:null!==Je[La.row]?li:Al.actual||li,Rc=Math.max(0,Rc-Al.wc())),ps.h(Math.max(cl.minimum,Math.min(Ic,cl.maximum)),Math.max(Al.minimum,Math.min(Rc,Al.maximum))),so=kh(La,Al,cl,!1)){case ro:ps.height=Math.max(ps.height,Al.actual+li);break;case Ts:ps.width=Math.max(ps.width,cl.actual+Si)}var eg=La.margin,Yl=eg.right+eg.left,$v=eg.top+eg.bottom;La.Bk(),La.measure(ps.width,ps.height,cl.minimum,Al.minimum);var ig=La.measuredBounds,Oc=Math.max(ig.width+Yl,0),Xv=Math.max(ig.height+$v,0);isFinite(Si)&&(Oc=Math.min(Oc,ps.width)),isFinite(li)&&(Xv=Math.min(Xv,ps.height));var Dp=0;Dp=Al.actual,Al.actual=Math.max(Al.actual,Xv),Al.bc=Math.max(Al.bc,Xv),Sr=Al.actual-Dp,li=Math.max(li-Sr,0),null===Je[La.row]&&(Ji=Math.max(Ji-Sr,0)),Dp=cl.actual,cl.actual=Math.max(cl.actual,Oc),cl.bc=Math.max(cl.bc,Oc),Sr=cl.actual-Dp,Si=Math.max(Si-Sr,0),null===_e[La.column]&&(Ps=Math.max(Ps-Sr,0))}}m(ce);var wd=He.alloc(),Nc=h(),jh=h();if(0!==(c=oe.length))for(var Mf=0;Mf<rn;Mf++)if(Rt[Mf]){Hn=Rt[Mf].length;var ng=t.getRowDefinition(Mf);Nc[Mf]=ng.actual;for(var Lc=0;Lc<Hn;Lc++)if(Rt[Mf][Lc]){var mw=t.getColumnDefinition(Lc);jh[Lc]=mw.actual}}for(var Fa=0;Fa<c;Fa++){var ao=oe[Fa];if(ao.visible||ao===Vh){var Ba=t.getRowDefinition(ao.row),zh=t.getColumnDefinition(ao.column);switch(ps.h(Math.max(zh.minimum,Math.min(e,zh.maximum)),Math.max(Ba.minimum,Math.min(o,Ba.maximum))),so=kh(ao,Ba,zh,!1)){case qr:0!==jh[zh.index]&&(ps.width=Math.min(ps.width,jh[zh.index])),0!==Nc[Ba.index]&&(ps.height=Math.min(ps.height,Nc[Ba.index]));break;case ro:0!==jh[zh.index]&&(ps.width=Math.min(ps.width,jh[zh.index]));break;case Ts:0!==Nc[Ba.index]&&(ps.height=Math.min(ps.height,Nc[Ba.index]))}isFinite(zh.width)&&(ps.width=zh.width),isFinite(Ba.height)&&(ps.height=Ba.height),wd.h(0,0);for(var ju=zh.minimum,bd=Ba.minimum,pu=1;pu<ao.rowSpan&&!(ao.row+pu>=t.rowCount);pu++)ii=t.getRowDefinition(ao.row+pu),Sr=0,Sr=so===qr||so===Ts?Math.max(ii.minimum,0===Nc[ao.row+pu]?ii.maximum:Math.min(Nc[ao.row+pu],ii.maximum)):Math.max(ii.minimum,isNaN(ii.ad)?ii.maximum:Math.min(ii.ad,ii.maximum)),wd.height+=Sr,bd+=ii.minimum;for(var mu=1;mu<ao.columnSpan&&!(ao.column+mu>=t.columnCount);mu++)ii=t.getColumnDefinition(ao.column+mu),Sr=0,Sr=so===qr||so===ro?Math.max(ii.minimum,0===jh[ao.column+mu]?ii.maximum:Math.min(jh[ao.column+mu],ii.maximum)):Math.max(ii.minimum,isNaN(ii.ad)?ii.maximum:Math.min(ii.ad,ii.maximum)),wd.width+=Sr,ju+=ii.minimum;ps.width+=wd.width,ps.height+=wd.height;var Ep=ao.margin,Cf=Ep.right+Ep.left,r2=Ep.top+Ep.bottom;ao.measure(ps.width,ps.height,ju,bd);for(var Va=ao.measuredBounds,Hh=Math.max(Va.width+Cf,0),Uh=Math.max(Va.height+r2,0),Fc=0,_d=0;_d<ao.rowSpan&&!(ao.row+_d>=t.rowCount);_d++)Fc+=(ii=t.getRowDefinition(ao.row+_d)).total||0;if(Fc<Uh){var mn=Uh-Fc,Sf=Uh-Fc;if(null!==ao.spanAllocation)for(var gw=ao.spanAllocation,Md=0;Md<ao.rowSpan&&!(0>=mn)&&!(ao.row+Md>=t.rowCount);Md++){var O0=(ii=t.getRowDefinition(ao.row+Md)).ha||0,Jb=gw(ao,ii,Sf);ii.actual=Math.min(ii.maximum,O0+Jb),ii.ha!==O0&&(mn-=ii.ha-O0)}for(;0<mn;){var $l=ii.ha||0;if(isNaN(ii.height)&&ii.maximum>$l&&(ii.actual=Math.min(ii.maximum,$l+mn),ii.ha!==$l&&(mn-=ii.ha-$l)),0===ii.index)break;ii=t.getRowDefinition(ii.index-1)}}for(var Df=0,_s=0;_s<ao.columnSpan&&!(ao.column+_s>=t.columnCount);_s++)Df+=(ii=t.getColumnDefinition(ao.column+_s)).total||0;if(Df<Hh){var Kv=Hh-Df,o2=Hh-Df;if(null!==ao.spanAllocation)for(var HS=ao.spanAllocation,vw=0;vw<ao.columnSpan&&!(0>=Kv)&&!(ao.column+vw>=t.columnCount);vw++){var yw=(ii=t.getColumnDefinition(ao.column+vw)).ha||0,s2=HS(ao,ii,o2);ii.actual=Math.min(ii.maximum,yw+s2),ii.ha!==yw&&(Kv-=ii.ha-yw)}for(;0<Kv;){var S1=ii.ha||0;if(isNaN(ii.width)&&ii.maximum>S1&&(ii.actual=Math.min(ii.maximum,S1+Kv),ii.ha!==S1&&(Kv-=ii.ha-S1)),0===ii.index)break;ii=t.getColumnDefinition(ii.index-1)}}}}m(oe),He.free(wd),He.free(ps),void 0!==Nc&&m(Nc),void 0!==jh&&m(jh);var N0=0,rg=0,xw=t.desiredSize,a2=t.maxSize;so=wl(t,!0);var kp=kc=Ec=0,D1=0;c=t.columnCount;for(var ww=0;ww<c;ww++)void 0!==t.nb[ww]&&(ii=t.getColumnDefinition(ww),isFinite(ii.width)?(kp+=ii.width,kp+=ii.wc()):dv(ii)===Ou?(kp+=ii.ha,kp+=ii.wc()):0!==ii.ha&&(Ec+=ii.ha,Ec+=ii.wc()));N0=isFinite(xw.width)?Math.min(xw.width,a2.width):so!==qn&&isFinite(e)?e:Ec,N0=Math.max(N0,t.minSize.width),N0=Math.max(N0-kp,0);for(var US=0===Ec?1:Math.max(N0/Ec,1),og=0;og<c;og++)void 0!==t.nb[og]&&(ii=t.getColumnDefinition(og),isFinite(ii.width)||dv(ii)===Ou||(ii.actual=ii.ha*US),ii.position=u.width,0!==ii.ha&&(u.width+=ii.ha,u.width+=ii.wc()));c=t.rowCount;for(var E1=0;E1<c;E1++)void 0!==t.qb[E1]&&(ii=t.getRowDefinition(E1),isFinite(ii.height)?(D1+=ii.height,D1+=ii.wc()):dv(ii)===Ou?(D1+=ii.ha,D1+=ii.wc()):0!==ii.ha&&(kc+=ii.ha,0!==ii.ha&&(kc+=ii.wc())));rg=isFinite(xw.height)?Math.min(xw.height,a2.height):so!==qn&&isFinite(o)?o:kc,rg=Math.max(rg,t.minSize.height),rg=Math.max(rg-D1,0);for(var l2=0===kc?1:Math.max(rg/kc,1),k1=0;k1<c;k1++)void 0!==t.qb[k1]&&(ii=t.getRowDefinition(k1),isFinite(ii.height)||dv(ii)===Ou||(ii.actual=ii.ha*l2),ii.position=u.height,0!==ii.ha&&(u.height+=ii.ha,0!==ii.ha&&(u.height+=ii.wc())));c=_.length;for(var t_=0;t_<c;t_++){var Tl=_[t_],sg=0,e_=0;Tl.type===Ke.TableRow?(sg=u.width,e_=(ii=t.getRowDefinition(Tl.row)).actual):(sg=(ii=t.getColumnDefinition(Tl.column)).actual,e_=u.height),Tl.measuredBounds.h(0,0,sg,e_),Aa(Tl,!1),Rt[Tl.row]||(Rt[Tl.row]=[]),Rt[Tl.row][Tl.column]||(Rt[Tl.row][Tl.column]=[]),Rt[Tl.row][Tl.column].push(Tl)}m(_),t.Lp=Rt},Mm.prototype.arrange=function(t,e,o){var a=e.length,u=t.padding,c=u.left;u=u.top;for(var _,A,g=t.Lp,I=g.length,B=0,H=0;H<I;H++)g[H]&&(B=Math.max(B,g[H].length));for(H=Math.min(t.topIndex,I-1);H!==I&&(void 0===t.qb[H]||0===t.qb[H].ha);)H++;for(H=Math.min(H,I-1),H=-t.qb[H].position,_=Math.min(t.leftIndex,B-1);_!==B&&(void 0===t.nb[_]||0===t.nb[_].ha);)_++;_=Math.min(_,B-1);for(var dt=-t.nb[_].position,bt=He.alloc(),pt=0;pt<I;pt++)if(g[pt]){B=g[pt].length;var Rt=t.getRowDefinition(pt);A=Rt.position+H+u,0!==Rt.ha&&(A+=Rt.Jv());for(var Xt=0;Xt<B;Xt++)if(g[pt][Xt]){var $t=t.getColumnDefinition(Xt);_=$t.position+dt+c,0!==$t.ha&&(_+=$t.Jv());for(var ie=g[pt][Xt],oe=ie.length,ce=0;ce<oe;ce++){var _e=ie[ce],Je=_e.measuredBounds,Si=_e instanceof Ke?_e:null;if(null===Si||Si.type!==Ke.TableRow&&Si.type!==Ke.TableColumn){bt.h(0,0);for(var li=1;li<_e.rowSpan&&!(pt+li>=t.rowCount);li++)Si=t.getRowDefinition(pt+li),bt.height+=Si.total;for(li=1;li<_e.columnSpan&&!(Xt+li>=t.columnCount);li++)Si=t.getColumnDefinition(Xt+li),bt.width+=Si.total;var Fi=$t.ha+bt.width,di=Rt.ha+bt.height;li=_,Si=A;var ii=Fi,_n=di,rn=_,Hn=A,oo=Fi,$o=di;_+Fi>o.width&&(oo=Math.max(o.width-_,0)),A+di>o.height&&($o=Math.max(o.height-A,0));var Vr=_e.alignment;if(Vr.Mb()){(Vr=t.defaultAlignment).kb()||(Vr=Vi);var Sr=Vr.x,Vh=Vr.y,Na=Vr.offsetX;Vr=Vr.offsetY;var _a=$t.alignment,is=Rt.alignment;_a.kb()&&(Sr=_a.x,Na=_a.offsetX),is.kb()&&(Vh=is.y,Vr=is.offsetY)}else Sr=Vr.x,Vh=Vr.y,Na=Vr.offsetX,Vr=Vr.offsetY;(isNaN(Sr)||isNaN(Vh))&&(Vh=Sr=.5,Vr=Na=0),_a=Je.width,is=Je.height;var oh=_e.margin,Hv=oh.left+oh.right,cu=oh.top+oh.bottom,Dr=kh(_e,Rt,$t,!1);!isNaN(_e.desiredSize.width)||Dr!==qr&&Dr!==ro||(_a=Math.max(Fi-Hv,0)),!isNaN(_e.desiredSize.height)||Dr!==qr&&Dr!==Ts||(is=Math.max(di-cu,0)),Fi=_e.maxSize,di=_e.minSize,_a=Math.min(Fi.width,_a),is=Math.min(Fi.height,is),_a=Math.max(di.width,_a),is=Math.max(di.height,is),li+=ii*Sr-(_a+Hv)*Sr+Na+oh.left,Si+=_n*Vh-(Fi=is+cu)*Vh+Vr+oh.top,_e.visible&&(sn(rn,Hn,oo,$o,li,Si,Je.width,Je.height)?_e.arrange(li,Si,_a,is):_e.arrange(li,Si,_a,is,new te(rn,Hn,oo,$o)))}else _e.Fl(),_e.actualBounds.ea(),li=te.allocAt((ii=_e.actualBounds).x,ii.y,ii.width,ii.height),ii.x=Si.type===Ke.TableRow?c:_,ii.y=Si.type===Ke.TableColumn?u:A,ii.width=Je.width,ii.height=Je.height,_e.actualBounds.freeze(),Tu(_e,!1),ci(li,ii)||null!==(Je=_e.part)&&(Je.Oh(),_e.mp(Je)),te.free(li)}}}for(He.free(bt),t=0;t<a;t++)null===(c=(o=e[t])instanceof Ke?o:null)||c.type!==Ke.TableRow&&c.type!==Ke.TableColumn||(c=o.actualBounds,o.naturalBounds.ea(),o.naturalBounds.h(0,0,c.width,c.height),o.naturalBounds.freeze())},K(lv,Wo),lv.prototype.measure=function(){},lv.prototype.arrange=function(){},K(uv,Wo),uv.prototype.measure=function(){},uv.prototype.arrange=function(){},K(hv,Wo),hv.prototype.measure=function(t,e,o,a,u,c,g){1<a.length&&V("Viewbox Panel cannot contain more than one GraphObject."),(a=a[0]).Aa=1,a.Bk(),a.measure(1/0,1/0,c,g);var _=a.measuredBounds,A=a.margin,I=A.right+A.left;if(A=A.top+A.bottom,isFinite(e)||isFinite(o)){var B=a.scale,H=_.width;_=_.height;var dt=Math.max(e-I,0),bt=Math.max(o-A,0),pt=1;t.viewboxStretch===Vs?0!==H&&0!==_&&(pt=Math.min(dt/H,bt/_)):0!==H&&0!==_&&(pt=Math.max(dt/H,bt/_)),0===pt&&(pt=1e-4),a.Aa*=pt,B!==a.scale&&(Aa(a,!0),a.measure(1/0,1/0,c,g))}_=a.measuredBounds,u.width=isFinite(e)?e:Math.max(_.width+I,0),u.height=isFinite(o)?o:Math.max(_.height+A,0)},hv.prototype.arrange=function(t,e,o){var a=(e=e[0]).measuredBounds,u=e.margin,c=Math.max(a.width+(u.right+u.left),0);u=Math.max(a.height+(u.top+u.bottom),0);var g=e.alignment;g.Mb()&&(g=t.defaultAlignment),g.kb()||(g=Vi),e.arrange(o.width*g.x-c*g.x+g.offsetX,o.height*g.y-u*g.y+g.offsetY,a.width,a.height)},K(Cm,Wo),Cm.prototype.measure=function(){},Cm.prototype.arrange=function(){},Cm.prototype.mc=function(t,e,o){0>=(o=t.Af()*o.scale)&&(o=1);var a=t.gridCellSize,u=a.width;a=a.height;var c=t.naturalBounds,g=t.actualBounds,_=c.width,A=c.height,I=Math.ceil(_/u),B=Math.ceil(A/a),H=t.gridOrigin,dt=H.x;H=H.y,e.save(),e.beginPath(),e.rect(0,0,_,A),e.clip();for(var bt=[],pt=t.W.j,Rt=pt.length,Xt=0;Xt<Rt;Xt++){var $t=pt[Xt],ie=[];if(bt.push(ie),$t.visible){var oe=$t.interval;if(!(0>oe)){$t=ff($t.figure);for(var ce=0;ce<Rt;ce++)if(ce!==Xt){var _e=pt[ce];_e.visible&&ff(_e.figure)===$t&&(_e=_e.interval)>oe&&ie.push(_e)}}}}for(Rt=(pt=t.W.j).length,Xt=0;Xt<Rt;Xt++){var Je=pt[Xt];if(Je.visible&&(ie=Je.interval||1,!(2>u*($t=Math.abs(ie))*o))){if(oe=Je.segmentIndex,(!isFinite(oe)||isNaN(oe))&&(oe=0),0>oe&&(oe=$t-Math.min(-oe,$t)),oe=Math.round(oe%$t),ce=1,1!==($t=Je.opacity)){if(0===$t)continue;e.globalAlpha=(ce=e.globalAlpha)*$t}_e=bt[Xt];var Si=!1,li=Je.strokeDashArray;if(null!==li&&(Si=!0,e.Ft(li,Je.strokeDashOffset)),"LineV"===Je.figure&&null!==Je.stroke&&0<Je.strokeWidth){for(e.lineWidth=Je.strokeWidth,fa(t,e,Je.stroke,!1,!1,c,g),e.beginPath(),li=Je=Math.floor((dt-u)/u);li<=Je+I;li++){var Fi=li*u+dt;0<=Fi&&Fi<=_&&Ry(li,ie,oe,_e)&&(e.moveTo(Fi,0),e.lineTo(Fi,A))}e.stroke()}else if("LineH"===Je.figure&&null!==Je.stroke&&0<Je.strokeWidth){for(e.lineWidth=Je.strokeWidth,fa(t,e,Je.stroke,!1,!1,c,g),e.beginPath(),li=Je=Math.floor((H-a)/a);li<=Je+B;li++)0<=(Fi=li*a+H)&&Fi<=A&&Ry(li,ie,oe,_e)&&(e.moveTo(0,Fi),e.lineTo(_,Fi));e.stroke()}else if("BarV"===Je.figure&&null!==Je.fill)for(fa(t,e,Je.fill,!0,!1,c,g),Je=Je.width,isNaN(Je)&&(Je=u),Fi=li=Math.floor((dt-u)/u);Fi<=li+I;Fi++){var di=Fi*u+dt;0<=di+Je&&di<=_&&Ry(Fi,ie,oe,_e)&&e.fillRect(di,0,Je,A)}else if("BarH"===Je.figure&&null!==Je.fill)for(fa(t,e,Je.fill,!0,!1,c,g),Je=Je.height,isNaN(Je)&&(Je=a),Fi=li=Math.floor((H-a)/a);Fi<=li+B;Fi++)0<=(di=Fi*a+H)+Je&&di<=A&&Ry(Fi,ie,oe,_e)&&e.fillRect(0,di,_,Je);Si&&e.Dt(),1!==$t&&(e.globalAlpha=ce)}}e.restore(),e.uc(!1)},K(Sm,Wo),Sm.prototype.measure=function(t,e,o,a,u){if(o=a.length,t instanceof si||t instanceof We){var c=null,g=null,_=null;if(t instanceof We&&(g=c=t),t instanceof si&&(c=(_=t).adornedPart),c instanceof We){var A=c;if(0===o)Ie(t.naturalBounds,0,0),t.measuredBounds.h(0,0,0,0);else{var I=t instanceof si?null:c.path,B=c.routeBounds;(e=t.xg).h(0,0,B.width,B.height);var H=A.points;c=c.pointsCount,null!==_?_.Gk(!1):null!==g&&g.Gk(!1);var dt=B.width,bt=B.height;t.location.h(B.x,B.y),t.l.length=0,null!==I&&(p0(t,dt,bt,I),e.Rc(_=I.measuredBounds),t.l.push(_)),_=cn.alloc();for(var pt=at.alloc(),Rt=at.alloc(),Xt=0;Xt<o;Xt++){var $t=a[Xt];if($t!==I)if($t.isPanelMain&&$t instanceof Yi){p0(t,dt,bt,$t);var ie=$t.measuredBounds;e.Rc(ie),t.l.push(ie)}else if(2>c)$t.measure(1/0,1/0,0,0),e.Rc(ie=$t.measuredBounds),t.l.push(ie);else{var oe=$t.segmentIndex,ce=$t.segmentFraction,_e=$t.alignmentFocus;_e.nc()&&(_e=Vi);var Je=$t.segmentOrientation,Si=$t.segmentOffset;if(isNaN(oe)){var li=A.na;ie=h(),li.Yv(ce,ie);var Fi=at.allocAt(ie[0],ie[1]);if(Fi.add(A.i(0)),li.type===To||(li=li.figures.first()),Fi.offset(-li.startX,-li.startY),li=ie[2],Je!==bs){var di=A.computeAngle($t,Je,li);$t.Yb=di}di=Fi.x-B.x;var ii=Fi.y-B.y;at.free(Fi),m(ie)}else if(oe<-c||oe>=c)ii=A.midPoint,li=A.midAngle,Je!==bs&&(di=A.computeAngle($t,Je,li),$t.Yb=di),di=ii.x-B.x,ii=ii.y-B.y;else{if(di=0,0<=oe?(ii=H.J(oe),ie=oe<c-1?H.J(oe+1):ii):(ii=H.J(di=c+oe),ie=0<di?H.J(di-1):ii),ii.Qa(ie)){0<=oe?(li=0<oe?H.J(oe-1):ii,di=oe<c-2?H.J(oe+2):ie):(li=di<c-1?H.J(di+1):ii,di=1<di?H.J(di-2):ie),Fi=li.Ie(ii);var _n=ie.Ie(di);li=Fi>_n+10?0<=oe?li.Pa(ii):ii.Pa(li):_n>Fi+10?0<=oe?ie.Pa(di):di.Pa(ie):0<=oe?li.Pa(di):di.Pa(li)}else li=0<=oe?ii.Pa(ie):ie.Pa(ii);Je!==bs&&(di=A.computeAngle($t,Je,li),$t.Yb=di),di=ii.x+(ie.x-ii.x)*ce-B.x,ii=ii.y+(ie.y-ii.y)*ce-B.y}$t.measure(1/0,1/0,0,0),ie=$t.measuredBounds;var rn=0;$t instanceof Yi&&(rn=$t.strokeWidth),_n=(Fi=$t.naturalBounds).width+rn;var Hn=Fi.height+rn;_.reset(),_.translate(-ie.x,-ie.y),_.scale($t.scale,$t.scale),_.rotate(Je===bs?$t.angle:li,_n/2,Hn/2),Je!==ud&&Je!==fp||_.rotate(90,_n/2,Hn/2),Je!==cp&&Je!==Rm||_.rotate(-90,_n/2,Hn/2),Je===Dl&&(45<li&&135>li||225<li&&315>li)&&_.rotate(-li,_n/2,Hn/2),Fi=new te(0,0,_n,Hn),pt.tj(Fi,_e),_.ta(pt),_e=rn/2*$t.scale-pt.x,$t=rn/2*$t.scale-pt.y,Rt.assign(Si),rn=isNaN(Si.x);var oo=isNaN(Si.y);if(rn||oo){_n=_n/2+3,Hn=Hn/2+3;var $o=45<=li&&135>=li,Vr=225<=li&&315>=li;Je===bs&&($o||Vr)?(Rt.x=oo?_n:Si.y,Rt.y=rn?Hn:Si.x,$o?0<=oe||isNaN(oe)&&.5>ce||!rn||(Rt.y=-Hn):Vr&&((0<=oe||isNaN(oe)&&.5>ce)&&rn&&(Rt.y=-Hn),oo&&(Rt.x=-_n))):(rn&&(Rt.x=0<=oe||isNaN(oe)&&.5>ce?_n:-_n),oo&&(Rt.y=-Hn),Rt.rotate(li))}else Rt.rotate(li);di+=Rt.x,ii+=Rt.y,Fi.set(ie),Fi.h(di+_e,ii+$t,ie.width,ie.height),t.l.push(Fi),e.Rc(Fi)}}if(null!==g)for(a=g.labelNodes;a.next();)a.value.measure(1/0,1/0);t.xg=e,(t=t.location).h(t.x+e.x,t.y+e.y),Ie(u,e.width||0,e.height||0),cn.free(_),at.free(pt),at.free(Rt)}}}},Sm.prototype.arrange=function(t,e){var o=e.length;if(t instanceof si||t instanceof We){var a=null,u=null,c=null;t instanceof We&&(u=a=t),t instanceof si&&(a=(c=t).adornedPart);var g=t instanceof si?null:a.path;if(0!==t.l.length){var _=t.l,A=0;if(null!==g&&A<t.l.length){var I=_[A];A++,g.arrange(I.x-t.xg.x,I.y-t.xg.y,I.width,I.height)}for(I=0;I<o;I++){var B=e[I];if(B!==g&&A<t.l.length){var H=_[A];A++,B.arrange(H.x-t.xg.x,H.y-t.xg.y,H.width,H.height)}}}if(2<=(o=(e=a.points).count)&&t instanceof We)for(a=t.labelNodes;a.next();){var dt=t;_=(g=a.value).segmentIndex,A=g.segmentFraction;var bt=g.alignmentFocus;if(I=g.segmentOrientation,B=g.segmentOffset,isNaN(_)){H=dt.na;var pt=h();H.Yv(A,pt);var Rt=at.allocAt(pt[0],pt[1]);Rt.add(dt.i(0)),H.type===To||(H=H.figures.first()),Rt.offset(-H.startX,-H.startY),H=pt[2],I!==bs&&(dt=dt.computeAngle(g,I,H),g.angle=dt),dt=Rt.x;var Xt=Rt.y;at.free(Rt),m(pt)}else if(_<-o||_>=o)Xt=dt.midPoint,H=dt.midAngle,I!==bs&&(dt=dt.computeAngle(g,I,H),g.angle=dt),dt=Xt.x,Xt=Xt.y;else{if(Rt=0,0<=_?(pt=e.j[_],Xt=_<o-1?e.j[_+1]:pt):(pt=e.j[Rt=o+_],Xt=0<Rt?e.j[Rt-1]:pt),pt.Qa(Xt)){0<=_?(H=0<_?e.j[_-1]:pt,Rt=_<o-2?e.j[_+2]:Xt):(H=Rt<o-1?e.j[Rt+1]:pt,Rt=1<Rt?e.j[Rt-2]:Xt);var $t=H.Ie(pt),ie=Xt.Ie(Rt);H=$t>ie+10?0<=_?H.Pa(pt):pt.Pa(H):ie>$t+10?0<=_?Xt.Pa(Rt):Rt.Pa(Xt):0<=_?H.Pa(Rt):Rt.Pa(H)}else H=0<=_?pt.Pa(Xt):Xt.Pa(pt);I!==bs&&(dt=dt.computeAngle(g,I,H),g.angle=dt),dt=pt.x+(Xt.x-pt.x)*A,Xt=pt.y+(Xt.y-pt.y)*A}if(bt.Vt())g.location=new at(dt,Xt);else{bt.nc()&&(bt=Vi),(pt=cn.alloc()).reset(),pt.scale(g.scale,g.scale),pt.rotate(g.angle,0,0);var oe=g.naturalBounds;Rt=te.allocAt(0,0,oe.width,oe.height),($t=at.alloc()).tj(Rt,bt),pt.ta($t),bt=-$t.x,ie=-$t.y;var ce=oe.width,_e=oe.height;(oe=at.alloc()).assign(B);var Je=isNaN(B.x),Si=isNaN(B.y);if(Je||Si){ce=ce/2+3,_e=_e/2+3;var li=45<=H&&135>=H,Fi=225<=H&&315>=H;I===bs&&(li||Fi)?(oe.x=Si?ce:B.y,oe.y=Je?_e:B.x,li?0<=_||isNaN(_)&&.5>A||!Je||(oe.y=-_e):Fi&&((0<=_||isNaN(_)&&.5>A)&&Je&&(oe.y=-_e),Si&&(oe.x=-ce))):(Je&&(oe.x=0<=_||isNaN(_)&&.5>A?ce:-ce),Si&&(oe.y=-_e),oe.rotate(H))}else oe.rotate(H);dt+=oe.x,Xt+=oe.y,pt.Pw(Rt),_=at.allocAt(dt+(bt+=Rt.x),Xt+(ie+=Rt.y)),g.move(_),at.free(_),at.free(oe),at.free($t),te.free(Rt),cn.free(pt)}}null!==c?c.Gk(!1):null!==u&&u.Gk(!1)}},K(m0,Wo),m0.prototype.measure=function(t,e,o,a,u,c,g){var _=t.tb();t.dh=[];var A=_.margin,I=A.right+A.left,B=A.top+A.bottom;_.measure(e,o,c,g);var H=_.measuredBounds,dt=new te(-A.left,-A.top,Math.max(H.width+I,0),Math.max(H.height+B,0));t.dh.push(dt),u.assign(dt);for(var bt=_.geometry,pt=_.strokeWidth,Rt=bt.flattenedSegments,Xt=bt.flattenedLengths,$t=bt.flattenedTotalLength,ie=Rt.length,oe=0,ce=0,_e=h(),Je=0;Je<ie;Je++){var Si=Rt[Je],li=[];ce=oe=0;for(var Fi=Si.length,di=0;di<Fi;di+=2){var ii=Si[di],_n=Si[di+1];if(0!==di){var rn=180*Math.atan2(_n-ce,ii-oe)/Math.PI;0>rn&&(rn+=360),li.push(rn)}oe=ii,ce=_n}_e.push(li)}if(null===t.eh){for(var Hn=[],oo=t.W.j,$o=oo.length,Vr=0;Vr<$o;Vr++){var Sr=oo[Vr],Vh=[];if(Hn.push(Vh),Sr.visible){var Na=Sr.interval;if(!(0>Na))for(var _a=0;_a<$o;_a++)if(_a!==Vr){var is=oo[_a];if(is.visible&&Sr.constructor===is.constructor){var oh=is.interval;oh>Na&&Vh.push(oh)}}}}t.eh=Hn}var Hv=t.eh,cu=t.W.j,Dr=cu.length,zo=0,Uv=0,Jm=$t;t.Mj=[];for(var Bu,fu=0;fu<Dr;fu++){var so=cu[fu];if(Bu=[],so.visible&&so!==_){var Gv=Math.abs(so.interval),_1=t.graduatedTickUnit;if(!(2>_1*Gv*$t/t.graduatedRange)){var tg=Xt[0][0],sh=0,hl=0;Uv=$t*so.graduatedStart-1e-4,Jm=$t*so.graduatedEnd+1e-4;var I0=_1*Gv,Ja=t.graduatedTickBase;if(Ja<t.graduatedMin){var _f=(t.graduatedMin-Ja)/I0;Ja+=(_f=_f%1==0?_f:Math.floor(_f+1))*I0}else Ja>t.graduatedMin+I0&&(Ja-=Math.floor((Ja-t.graduatedMin)/I0)*I0);for(var Wv=Hv[fu],dw=Ja,Ec=1;Ja<t.graduatedMax+5e-8;Ec++){t:{for(var kc=Wv.length,R0=0;R0<kc;R0++)if(me.aa((Ja-t.graduatedTickBase)%(Wv[R0]*t.graduatedTickUnit),0)){var yd=!1;break t}yd=!0}if(yd&&(null===so.graduatedSkip||!so.graduatedSkip(Ja))&&((zo=(Ja-t.graduatedMin)*$t/t.graduatedRange)>$t&&(zo=$t),Uv<=zo&&zo<=Jm)){for(var Vu=_e[sh][hl],Ac=Xt[sh][hl];sh<Xt.length;){for(;zo>tg&&hl<Xt[sh].length-1;)hl++,Vu=_e[sh][hl],tg+=Ac=Xt[sh][hl];if(zo<=tg)break;Vu=_e[++sh][hl=0],tg+=Ac=Xt[sh][hl]}var Ji=Rt[sh],Ps=Ji[2*hl],oa=Ji[2*hl+1],du=(zo-(tg-Ac))/Ac,Yv=new at(Ps+(Ji[2*hl+2]-Ps)*du+pt/2-bt.bounds.x,oa+(Ji[2*hl+3]-oa)*du+pt/2-bt.bounds.y);Yv.scale(_.scale,_.scale);var Tc=Vu,xd=_e[sh];if(1e-4>du?0<hl?Tc=xd[hl-1]:me.aa(Ji[0],Ji[Ji.length-2])&&me.aa(Ji[1],Ji[Ji.length-1])&&(Tc=xd[xd.length-1]):.9999<du&&(hl+1<xd.length?Tc=xd[hl+1]:me.aa(Ji[0],Ji[Ji.length-2])&&me.aa(Ji[1],Ji[Ji.length-1])&&(Tc=xd[0])),Vu!==Tc&&(180<Math.abs(Vu-Tc)&&(Vu<Tc?Vu+=360:Tc+=360),Vu=(Vu+Tc)/2%360),so instanceof $n){var ah="";""!==(ah=null!==so.graduatedFunction?null!=(ah=so.graduatedFunction(Ja))?ah.toString():"":(+Ja.toFixed(2)).toString())&&Bu.push({Km:Yv,angle:Vu,text:ah})}else Bu.push({Km:Yv,angle:Vu})}Ja=dw+Ec*I0}}}t.Mj.push(Bu)}m(_e);var M1=t.Mj;if(null!==M1)for(var pw=a.length,Sp=0;Sp<pw;Sp++){var Xs=a[Sp],Pc=M1[Sp];if(Xs.visible&&Xs!==_&&0!==Pc.length){if(Xs instanceof Yi){var ps=t,C1=u,La=Xs.alignmentFocus;La.nc()&&(La=bn);var Al=Xs.angle;Xs.Yb=0,Xs.measure(1/0,1/0,0,0),Xs.Yb=Al;var cl=Xs.measuredBounds,Ic=cl.width,Rc=cl.height,eg=te.allocAt(0,0,Ic,Rc),Yl=at.alloc();Yl.tj(eg,La),te.free(eg);for(var $v=-Yl.x,ig=-Yl.y,Oc=new te,Xv=Pc.length,Dp=0;Dp<Xv;Dp++)for(var wd=Pc[Dp],Nc=wd.Km.x,jh=wd.Km.y,Mf=wd.angle,ng=0;4>ng;ng++){switch(ng){case 0:Yl.h($v,ig);break;case 1:Yl.h($v+Ic,ig);break;case 2:Yl.h($v,ig+Rc);break;case 3:Yl.h($v+Ic,ig+Rc)}Yl.rotate(Mf+Xs.angle),Yl.offset(Nc,jh),0===Dp&&0===ng?Oc.h(Yl.x,Yl.y,0,0):Oc.Oe(Yl),Yl.offset(-Nc,-jh),Yl.rotate(-Mf-Xs.angle)}at.free(Yl),null!==ps.dh&&ps.dh.push(Oc),en(C1,Oc.x,Oc.y,Oc.width,Oc.height)}else if(Xs instanceof $n){var Lc=t,mw=u;null===Lc.zh&&(Lc.zh=new $n);var Fa=Lc.zh;Uy(Fa,Xs);var ao=Xs.alignmentFocus;ao.nc()&&(ao=bn);for(var Ba=Xs.segmentOrientation,zh=Xs.segmentOffset,ju=new te,bd=0,pu=0,mu=0,Ep=0,Cf=0,r2=Pc.length,Va=0;Va<r2;Va++){var Hh=Pc[Va];bd=Hh.Km.x,pu=Hh.Km.y,mu=Hh.angle,Cf=Ep=Xs.angle,Ba!==bs&&(Ep=We.computeAngle(Ba,Cf=Ba===w0||Ba===b0?mu+Xs.angle:mu)),Fa.Yb=Ep,Fa.text=Hh.text||"",Fa.measure(1/0,1/0,0,0);var Uh=Fa.measuredBounds,Fc=Fa.naturalBounds,_d=Fc.width,mn=Fc.height,Sf=cn.alloc();Sf.reset(),Sf.translate(-Uh.x,-Uh.y),Sf.scale(Fa.scale,Fa.scale),Sf.rotate(Cf,_d/2,mn/2),Ba!==ud&&Ba!==fp||Sf.rotate(90,_d/2,mn/2),Ba!==cp&&Ba!==Rm||Sf.rotate(-90,_d/2,mn/2),Ba===Dl&&(45<mu&&135>mu||225<mu&&315>mu)&&Sf.rotate(-mu,_d/2,mn/2);var gw=te.allocAt(0,0,_d,mn),Md=at.alloc();Md.tj(gw,ao),Sf.ta(Md);var O0=-Md.x,Jb=-Md.y,$l=at.alloc();$l.assign(zh),isNaN($l.x)&&($l.x=_d/2+3),isNaN($l.y)&&($l.y=-(mn/2+3)),$l.rotate(mu);var Df=new te(bd+=$l.x+O0,pu+=$l.y+Jb,Uh.width,Uh.height),_s=new te(Uh.x,Uh.y,Uh.width,Uh.height),Kv=new te(Fc.x,Fc.y,Fc.width,Fc.height);Hh.DA=Ep,Hh.lineCount=Fa.lineCount,Hh.lines=[Fa.vb,Fa.Ei,Fa.oe,Fa.Be,Fa.Qb,Fa.lb,Fa.me],Hh.actualBounds=Df,Hh.measuredBounds=_s,Hh.naturalBounds=Kv,0===Va?ju.assign(Df):ju.Rc(Df),at.free($l),at.free(Md),te.free(gw),cn.free(Sf)}null!==Lc.dh&&Lc.dh.push(ju),en(mw,ju.x,ju.y,ju.width,ju.height)}Aa(Xs,!1)}}},m0.prototype.arrange=function(t,e,o){if(null!==t.dh){var a=t.tb(),u=t.Mj;if(null!==u){var c=t.dh,g=0,_=c[g];g++,null!==a&&a.arrange(_.x-o.x,_.y-o.y,_.width,_.height);for(var A=e.length,I=0;I<A;I++){var B=e[I];_=u[I],B.visible&&B!==a&&0!==_.length&&(_=c[g],g++,B.arrange(_.x-o.x,_.y-o.y,_.width,_.height))}t.dh=null}}},m0.prototype.mc=function(t,e,o){var a=o.yi;o.yi=!0;var u=t.naturalBounds,c=u.width;u=u.height,e.save(),e.beginPath(),e.rect(-1,-1,c+1,u+1),e.clip(),(c=t.tb()).mc(e,o),0>=(u=t.Af()*o.scale)&&(u=1);for(var g=c.actualBounds,_=t.W.j,A=t.Mj,I=_.length,B=0;B<I;B++){var H=_[B],dt=A[B],bt=dt.length;if(H.visible&&H!==c&&0!==dt.length)if(H instanceof Yi){if(!(2>t.graduatedTickUnit*H.interval*c.geometry.flattenedTotalLength/t.graduatedRange*u)){var pt=H.measuredBounds,Rt=H.strokeWidth*H.scale,Xt=H.alignmentFocus;Xt.nc()&&(Xt=bn);for(var $t=0;$t<bt;$t++){var ie=dt[$t].Km,oe=dt[$t].angle,ce=Xt,_e=H.sb;_e.reset(),_e.translate(ie.x+g.x,ie.y+g.y),_e.rotate(oe+H.angle,0,0),_e.translate(-pt.width*ce.x+ce.offsetX+Rt/2,-pt.height*ce.y+ce.offsetY+Rt/2),_e.scale(H.scale,H.scale),c0(H,!1),H.Zh.set(H.sb),H.ql=H.scale,fc(H,!1),H.mc(e,o),H.sb.reset()}}}else if(H instanceof $n)for(null===t.zh&&(t.zh=new $n),Uy(pt=t.zh,H),H=0;H<bt;H++)(Rt=dt[H]).actualBounds&&Rt.measuredBounds&&Rt.naturalBounds&&(pt.Ub=Rt.text||"",pt.Yb=Rt.DA||0,pt.Zc=Rt.lineCount||0,void 0!==(Xt=Rt.lines)&&(pt.vb=Xt[0],pt.Ei=Xt[1],pt.oe=Xt[2],pt.Be=Xt[3],pt.Qb=Xt[4],pt.lb=Xt[5],pt.me=Xt[6]),Rt.naturalBounds&&(pt.rc=Rt.naturalBounds),Rt.actualBounds&&pt.arrange((Xt=Rt.actualBounds).x,Xt.y,Xt.width,Xt.height),pt.arrange((Xt=Rt.actualBounds).x,Xt.y,Xt.width,Xt.height),$t=Rt.measuredBounds,Rt=Rt.naturalBounds,(ie=pt.sb).reset(),ie.translate(Xt.x+g.x,Xt.y+g.y),ie.translate(-$t.x,-$t.y),iv(pt,ie,Rt.x,Rt.y,Rt.width,Rt.height),c0(pt,!1),pt.Zh.set(pt.sb),pt.ql=pt.scale,fc(pt,!1),pt.mc(e,o))}o.yi=a,e.restore(),e.uc(!0)},K(Ke,Ri),Ke.prototype.cloneProtected=function(t){if(Ri.prototype.cloneProtected.call(this,t),t.qa=this.qa,t.ib=this.ib.H(),t.Mn=this.Mn.H(),t.Sf=this.Sf,t.qa===Ke.Table){t.Fj=this.Fj.H(),t.Ug=this.Ug,t.si=this.si,t.ri=this.ri,t.Tg=this.Tg,t.Sg=this.Sg,t.pi=this.pi;var e=[];if(0<this.qb.length)for(var o=this.qb,a=o.length,u=0;u<a;u++)if(void 0!==o[u]){var c=o[u].copy();c.sj(t),e[u]=c}if(t.qb=e,e=[],0<this.nb.length)for(a=(o=this.nb).length,u=0;u<a;u++)void 0!==o[u]&&((c=o[u].copy()).sj(t),e[u]=c);t.nb=e,t.dk=this.dk,t.Cj=this.Cj,t.Xi=this.Xi,t.Gi=this.Gi}t.pq=this.pq,t.no=this.no.H(),t.oo=this.oo.H(),t.ko=this.ko,t.jo=this.jo,t.mo=this.mo,t.lo=this.lo,t.Mj=this.Mj,t.eh=this.eh,t.ob=this.ob,t.li=this.li,t.Do=this.Do,t.Ci=this.Ci,t.te=this.te,t.Jl=this.Jl,t.xg.assign(this.xg),t.Lg=this.Lg,null!==this.Lp&&(t.Lp=this.Lp)},Ke.prototype.yf=function(t){Ri.prototype.yf.call(this,t),t.W=this.W;for(var e=t.W.j,o=e.length,a=0;a<o;a++)e[a].og=t;t.Ui=null},Ke.prototype.copy=function(){var t=Ri.prototype.copy.call(this);if(null!==t){for(var e=this.W.j,o=e.length,a=0;a<o;a++){var u=e[a].copy();u.sj(t),u.ak=null;var c=t.W,g=c.count;if(c.wb(g,u),null!==(c=t.part)){c.Xj=null,null!==u.portId&&c instanceof Ne&&(c.Nh=!0);var _=t.diagram;null!==_&&_.undoManager.isUndoingRedoing||c.Va(Io,"elements",t,null,u,null,g)}}return t}return null},(ot=Ke.prototype).toString=function(){return"Panel("+this.type.name+")#"+we(this)},ot.mp=function(t){Ri.prototype.mp.call(this,t);for(var e=this.W.j,o=e.length,a=0;a<o;a++)e[a].mp(t)},ot.ej=function(t,e){if(this.qa===Ke.Grid)this.qa.mc(this,t,e);else if(this.qa===Ke.Graduated)this.qa.mc(this,t,e);else{this.qa===Ke.Table&&(t.lineCap="butt",Dm(this,t,!0,this.qb,!0),Dm(this,t,!1,this.nb,!0),Oy(this,t,!0,this.qb),Oy(this,t,!1,this.nb),Dm(this,t,!0,this.qb,!1),Dm(this,t,!1,this.nb,!1));var o=this.isClipping&&this.qa===Ke.Spot;o&&t.save();for(var a=this.tb(),u=this.W.j,c=u.length,g=0;g<c;g++){var _=u[g];o&&_===a&&(t.clipInsteadOfFill=!0),_.mc(t,e),o&&_===a&&(t.clipInsteadOfFill=!1)}o&&(t.restore(),t.uc(!0))}},ot.zk=function(t,e,o,a,u){var c=this.he(),g=this.transform,_=1/(g.m11*g.m22-g.m12*g.m21),A=g.m22*_,I=-g.m12*_,B=-g.m21*_,H=g.m11*_,dt=_*(g.m21*g.dy-g.m22*g.dx),bt=_*(g.m12*g.dx-g.m11*g.dy);if(null!==this.areaBackground)return me.Cf((g=this.actualBounds).left,g.top,g.right,g.bottom,t,e,o,a,u);if(null!==this.background)return c=t*A+e*B+dt,_=t*I+e*H+bt,t=o*A+a*B+dt,A=o*I+a*H+bt,u.h(0,0),c=me.Cf(0,0,(o=this.naturalBounds).width,o.height,c,_,t,A,u),u.transform(g),c;c||(A=1,B=I=0,H=1,bt=dt=0),_=t*A+e*B+dt,t=t*I+e*H+bt,u.h(A=o*A+a*B+dt,o=o*I+a*H+bt),a=(A-_)*(A-_)+(o-t)*(o-t),I=!1,bt=(H=this.W.j).length,B=at.alloc(),dt=null,e=1/0;var pt=null,Rt=this.isClipping&&this.qa===Ke.Spot;Rt&&(pt=at.alloc(),(I=(dt=this.tb()).zk(_,t,A,o,pt))&&(e=(_-pt.x)*(_-pt.x)+(t-pt.y)*(t-pt.y)));for(var Xt=0;Xt<bt;Xt++){var $t=H[Xt];$t.visible&&$t!==dt&&$t.zk(_,t,A,o,B)&&(I=!0,($t=(_-B.x)*(_-B.x)+(t-B.y)*(t-B.y))<a&&(a=$t,u.set(B)))}return Rt&&(e>a&&u.set(pt),at.free(pt)),at.free(B),c&&u.transform(g),I},ot.s=function(t){if(!dc(this)){Ri.prototype.s.call(this,t),t=null,(this.qa===Ke.Auto||this.qa===Ke.Link)&&(t=this.tb());for(var e=this.W.j,o=e.length,a=0;a<o;a++){var u=e[a];if((u===t||u.isPanelMain)&&u.s(!0),!u.desiredSize.o()){var c=wl(u,!1);(u instanceof Ni||u instanceof Ke||u instanceof $n||c!==qn)&&u.s(!0)}}}},ot.Bk=function(){if(!dc(this)){Aa(this,!0),Tu(this,!0);for(var t=this.W.j,e=t.length,o=0;o<e;o++)t[o].Bk()}},ot.Fl=function(){if(0==(2048&this.F)){c0(this,!0),fc(this,!0);for(var t=this.W.j,e=t.length,o=0;o<e;o++)t[o].dw()}},ot.dw=function(){fc(this,!0);for(var t=this.W.j,e=t.length,o=0;o<e;o++)t[o].dw()},ot.Hm=function(t,e,o,a){var u=this.xg;u.h(0,0,0,0);var c=this.desiredSize,g=this.minSize;void 0===o&&(o=g.width,a=g.height),o=Math.max(o,g.width),a=Math.max(a,g.height);var _=this.maxSize;isNaN(c.width)||(t=Math.min(c.width,_.width)),isNaN(c.height)||(e=Math.min(c.height,_.height)),t=Math.max(o,t),e=Math.max(a,e);var A=this.ib;t=Math.max(t-A.left-A.right,0),e=Math.max(e-A.top-A.bottom,0);var I=this.W.j;0!==I.length&&this.qa.measure(this,t,e,I,u,o,a),t=u.width+A.left+A.right,A=u.height+A.top+A.bottom,isFinite(c.width)&&(t=c.width),isFinite(c.height)&&(A=c.height),t=Math.min(_.width,t),A=Math.min(_.height,A),t=Math.max(g.width,t),A=Math.max(g.height,A),Ie(u,t=Math.max(o,t),A=Math.max(a,A)),Ie(this.naturalBounds,t,A),zl(this,0,0,t,A)},ot.tb=function(){if(null===this.Ui){var t=this.W.j,e=t.length;if(0===e)return null;for(var o=0;o<e;o++){var a=t[o];if(!0===a.isPanelMain)return this.Ui=a}this.Ui=t[0]}return this.Ui},ot.Ih=function(t,e,o,a){var u=this.W.j;if(this.actualBounds.h(t,e,o,a),0!==u.length){if(!this.desiredSize.o()){t=wl(this,!0);var c=this.measuredBounds;e=c.width,c=c.height;var g=this.jh,_=g.left+g.right;switch(g=g.top+g.bottom,e===o&&c===a&&(t=qn),t){case qn:(e>o||c>a)&&(this.s(),this.measure(e>o?o:e,c>a?a:c,0,0));break;case qr:this.s(!0),this.measure(o+_,a+g,0,0);break;case ro:this.s(!0),this.measure(o+_,c+g,0,0);break;case Ts:this.s(!0),this.measure(e+_,a+g,0,0)}}this.qa.arrange(this,u,this.xg)}},ot.Kh=function(t){var e=this.naturalBounds,o=vc(this);if(sn(0,0,e.width,e.height,t.x,t.y)){for(var a=(e=this.W.j).length,u=at.allocAt(0,0);a--;){var c=e[a];if((c.visible||c===o)&&(ve(u.set(t),c.transform),c.$(u)))return at.free(u),!0}return at.free(u),!(null===this.mb&&null===this.ec)}return!1},ot.Gt=function(t){if(this.dl===t)return this;for(var e=this.W.j,o=e.length,a=0;a<o;a++){var u=e[a].Gt(t);if(null!==u)return u}return null},ot.an=function(t,e){if(e(this,t),t instanceof Ke)for(var o=(t=t.W.j).length,a=0;a<o;a++)this.an(t[a],e)},ot.ym=function(t){return ip(this,this,t)},ot.bb=function(t){if(this.name===t)return this;var e=this.W.j,o=e.length;null===this.Ci&&null===this.te||(o=v0(this));for(var a=0;a<o;a++){var u=e[a];if(u instanceof Ke){var c=u.bb(t);if(null!==c)return c}if(u.name===t)return u}return null},ot.he=function(){return!(this.type===Ke.TableRow||this.type===Ke.TableColumn)},ot.Vb=function(t,e,o){if(!1===this.pickable||(void 0===e&&(e=null),void 0===o&&(o=null),Wa(this)))return null;var a=this.naturalBounds,u=1/this.Af(),c=this.he(),g=c?t:ve(at.allocAt(t.x,t.y),this.transform),_=this.diagram,A=10,I=5;if(null!==_&&(I=(A=_.Bm("extraTouchArea"))/2),sn(-I*u,-I*u,a.width+A*u,a.height+A*u,g.x,g.y)){if(!this.isAtomic){var B=(u=this.W.j).length;if(_=at.alloc(),I=(A=this.isClipping&&this.qa===Ke.Spot)?this.tb():null,A&&(I.he()?ve(_.set(t),I.transform):_.set(t),!I.$(_)))return at.free(_),c||at.free(g),null;for(var H=vc(this);B--;){var dt=u[B];if((dt.visible||dt===H)&&(dt.he()?ve(_.set(t),dt.transform):_.set(t),!A||dt!==I)){var bt=null;if(dt instanceof Ke?bt=dt.Vb(_,e,o):!0===dt.pickable&&dt.$(_)&&(bt=dt),null!==bt&&(null!==e&&(bt=e(bt)),null!==bt&&(null===o||o(bt))))return at.free(_),c||at.free(g),bt}}at.free(_)}return null===this.background&&null===this.areaBackground?(c||at.free(g),null):(t=sn(0,0,a.width,a.height,g.x,g.y)?this:null,c||at.free(g),t)}return c||at.free(g),null},ot.hj=function(t,e,o,a){if(!1===this.pickable)return!1;void 0===e&&(e=null),void 0===o&&(o=null);var u=this.naturalBounds,c=this.he(),g=c?t:ve(at.allocAt(t.x,t.y),this.transform);if(u=sn(0,0,u.width,u.height,g.x,g.y),this.type===Ke.TableRow||this.type===Ke.TableColumn||u){if(!this.isAtomic){for(var _=this.W.j,A=_.length,I=at.alloc(),B=vc(this);A--;){var H=_[A];if(H.visible||H===B){H.he()?ve(I.set(t),H.transform):I.set(t);var dt=H;(null!==(H=H instanceof Ke?H:null)?H.hj(I,e,o,a):dt.$(I))&&!1!==dt.pickable&&(null!==e&&(dt=e(dt)),null===dt||null!==o&&!o(dt)||a.add(dt))}}at.free(I)}return c||at.free(g),u&&(null!==this.background||null!==this.areaBackground)}return c||at.free(g),!1},ot.zf=function(t,e,o,a,u,c){if(!1===this.pickable)return!1;void 0===e&&(e=null),void 0===o&&(o=null);var g=c;if(void 0===c&&(g=cn.alloc()).reset(),g.multiply(this.transform),this.Jh(t,g))return Mx(this,e,o,u),void 0===c&&cn.free(g),!0;if(this.Mc(t,g)){if(!this.isAtomic)for(var _=vc(this),A=this.W.j,I=A.length;I--;){var B=A[I];if(B.visible||B===_){var H=B.actualBounds,dt=this.naturalBounds;H.x>dt.width||H.y>dt.height||0>H.x+H.width||0>H.y+H.height||(H=B,B=B instanceof Ke?B:null,(dt=cn.alloc()).set(g),(null!==B?B.zf(t,e,o,a,u,dt):Jg(H,t,a,dt))&&(null!==e&&(H=e(H)),null===H||null!==o&&!o(H)||u.add(H)),cn.free(dt))}}return void 0===c&&cn.free(g),a}return void 0===c&&cn.free(g),!1},ot.Eg=function(t,e,o,a,u,c){if(!1===this.pickable)return!1;void 0===o&&(o=null),void 0===a&&(a=null);var g=this.naturalBounds,_=this.he(),A=_?t:ve(at.allocAt(t.x,t.y),this.transform),I=_?e:ve(at.allocAt(e.x,e.y),this.transform),B=A.Ie(I),H=0<A.x&&A.x<g.width&&0<A.y&&A.y<g.height||Te(A.x,A.y,0,0,0,g.height)<=B||Te(A.x,A.y,0,g.height,g.width,g.height)<=B||Te(A.x,A.y,g.width,g.height,g.width,0)<=B||Te(A.x,A.y,g.width,0,0,0)<=B;if(g=A.qd(0,0)<=B&&A.qd(0,g.height)<=B&&A.qd(g.width,0)<=B&&A.qd(g.width,g.height)<=B,_||(at.free(A),at.free(I)),H){if(!this.isAtomic){A=at.alloc(),I=at.alloc(),B=vc(this);for(var dt=this.W.j,bt=dt.length;bt--;){var pt=dt[bt];if(pt.visible||pt===B){var Rt=pt.actualBounds,Xt=this.naturalBounds;(!_||!(Rt.x>Xt.width||Rt.y>Xt.height||0>Rt.x+Rt.width||0>Rt.y+Rt.height))&&(pt.he()?(Rt=pt.transform,ve(A.set(t),Rt),ve(I.set(e),Rt)):(A.set(t),I.set(e)),Rt=pt,(null!==(pt=pt instanceof Ke?pt:null)?pt.Eg(A,I,o,a,u,c):Rt.sy(A,I,u))&&(null!==o&&(Rt=o(Rt)),null===Rt||null!==a&&!a(Rt)||c.add(Rt)))}}at.free(A),at.free(I)}return u?H:g}return!1},ot.add=function(t){this.wb(this.W.count,t)},ot.J=function(t){return this.W.J(t)},ot.wb=function(t,e){e instanceof Bt&&V("Cannot add a Part to a Panel: "+e+"; use a Panel instead"),(this===e||this.Gg(e))&&(this===e&&V("Cannot make a Panel contain itself: "+this.toString()),V("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+e.toString()));var o=e.panel;if(null!==o&&o!==this&&V("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+e.toString()+", already contained by "+o.toString()+", cannot be shared by this Panel: "+this.toString()),this.qa!==Ke.Grid||e instanceof Yi||V("Can only add Shapes to a Grid Panel, not: "+e),this.qa!==Ke.Graduated||e instanceof Yi||e instanceof $n||V("Can only add Shapes or TextBlocks to a Graduated Panel, not: "+e),e.sj(this),e.ak=null,null!==this.itemArray){var a=e.data;null!==a&&"object"==typeof a&&(null===this.Zd&&(this.Zd=new vt),this.Zd.add(a,e))}var u=this.W;if(a=-1,o===this){for(var c=-1,g=this.W.j,_=g.length,A=0;A<_;A++)if(g[A]===e){c=A;break}if(-1!==c){if(c===t||c+1>=u.count&&t>=u.count)return;u.cb(c),a=c}else V("element "+e.toString()+" has panel "+o.toString()+" but is not contained by it.")}(0>t||t>u.count)&&(t=u.count),u.wb(t,e),(0===t||e.isPanelMain)&&(this.Ui=null),dc(this)||this.s(),e.s(!1),(null!==e.portId||e instanceof Ke&&!0===e.Nh)&&(this.Nh=!0),this.eh=null,null!==(o=this.part)&&(o.Xj=null,o.kh=NaN,this.Nh&&o instanceof Ne&&(o.Nh=!0),o.Nh&&o instanceof Ne&&(o.tc=null),null!==(u=this.diagram)&&u.undoManager.isUndoingRedoing||(-1!==a&&o.Va(fn,"elements",this,e,null,a,null),o.Va(Io,"elements",this,null,e,null,t),this.Hg()||jy(this,e,!1)))},ot.remove=function(t){for(var e=this.W.j,o=e.length,a=-1,u=0;u<o;u++)if(e[u]===t){a=u;break}-1!==a&&this.Lc(a,!0)},ot.cb=function(t){0<=t&&this.Lc(t,!0)},ot.Lc=function(t,e){var o=this.W,a=o.J(t);if(a.ak=null,a.sj(null),null!==this.Zd){var u=a.data;"object"==typeof u&&this.Zd.remove(u)}o.cb(t),Aa(this,!1),this.s(),this.Ui===a&&(this.Ui=null),this.eh=null;var c=this.part;null!==c&&(c.Xj=null,c.kh=NaN,c.Lb(),c instanceof Ne&&(a instanceof Ke?a.an(a,function(g,_){dn(c,_,e)}):dn(c,a,e)),null!==(o=this.diagram)&&o.undoManager.isUndoingRedoing||c.Va(fn,"elements",this,a,null,t,null))},Ke.prototype.getRowDefinition=function(t){0>t&&et(t,">= 0",Ke,"getRowDefinition:idx"),t=Math.round(t);var e=this.qb;if(void 0===e)return null;if(void 0===e[t]){var o=new _o;o.sj(this),o.isRow=!0,o.index=t,e[t]=o,this.Va(Io,"rowdefs",this,null,o,null,t)}return e[t]},Ke.prototype.XA=function(t){0>t&&et(t,">= 0",Ke,"removeRowDefinition:idx"),t=Math.round(t);var e=this.qb;if(void 0!==e){var o=e[t];if(o){e[t]=void 0;for(var a=e.length-1;0<=a&&void 0===e[a--];)e.length--;this.Va(fn,"rowdefs",this,o,null,t,null),this.s()}}},Ke.prototype.getColumnDefinition=function(t){0>t&&et(t,">= 0",Ke,"getColumnDefinition:idx"),t=Math.round(t);var e=this.nb;if(void 0===e)return null;if(void 0===e[t]){var o=new _o;o.sj(this),o.isRow=!1,o.index=t,e[t]=o,this.Va(Io,"coldefs",this,null,o,null,t)}return e[t]},(ot=Ke.prototype).SA=function(t){0>t&&et(t,">= 0",Ke,"removeColumnDefinition:idx"),t=Math.round(t);var e=this.nb;if(void 0!==e){var o=e[t];if(o){e[t]=void 0;for(var a=e.length-1;0<=a&&void 0===e[a--];)e.length--;this.Va(fn,"coldefs",this,o,null,t,null),this.s()}}},ot.aA=function(t){if(0>t||this.type!==Ke.Table)return-1;for(var e=0,o=this.qb,a=o.length,u=this.Xi;u<a;u++){var c=o[u];if(void 0!==c&&t<(e+=c.total))break}return u},ot.Tz=function(t){if(0>t||this.type!==Ke.Table)return-1;for(var e=0,o=this.nb,a=o.length,u=this.Gi;u<a;u++){var c=o[u];if(void 0!==c&&t<(e+=c.total))break}return u},ot.qA=function(t,e){if(void 0===e&&(e=new at(NaN,NaN)),this.type!==Ke.Graduated)return e.h(NaN,NaN),e;t=Math.min(Math.max(t,this.graduatedMin),this.graduatedMax);var o=this.tb();return o.geometry.Xv((t-this.graduatedMin)/this.graduatedRange,e),o.transform.ta(e)},ot.rA=function(t){if(this.type!==Ke.Graduated)return NaN;var e=this.tb();return e.transform.Jd(t),e.geometry.wy(t)*this.graduatedRange+this.graduatedMin},ot.Gz=function(t){void 0===t&&(t=!1);var e=this.copy();return Ny(e,function(o){o instanceof Ke&&(o.li=null,o.ob=null);var a=o.fb;null!==a&&(o.fb=null,a.each(function(u){o.bind(u.copy())})),null!==(a=o.Mg)&&(o.Mg=null,a.each(function(u){o.Qw(u.value.copy())}))}),t&&va(e),e},ot.Ea=function(t){var e=this.li;if(null!==e)for(void 0===t&&(t=""),e=e.iterator;e.next();){var o=e.value,a=o.sourceProperty;if((""===t||""===a||a===t)&&(a=o.targetProperty,null!==o.converter||""!==a)){a=this.data;var u=o.sourceName;if(null!==u){if(""===u)a=this;else if("/"===u)a=this;else if("."===u)a=this;else if(".."===u)a=this;else if(null===(a=this.bb(u)))continue}else if(o.isToModel){if(null===(a=this.diagram))continue;a=a.model.modelData}var c=this,g=o.wj;if(-1!==g){if(null===(c=this.Gt(g)))continue}else null!==o.pd&&(c=o.pd);if("/"===u?a=c.part:"."===u?a=c:".."===u&&(a=c.panel),0!==(u=o.hq)){if(!(c instanceof Ke))continue;1===u?c=c.getColumnDefinition(o.om):2===u&&(c=c.getRowDefinition(o.om))}void 0!==c&&o.Tw(c,a)}}},ot.eu=function(){for(var t=v0(this);this.W.length>t;)this.Lc(this.W.length-1,!1);if(null!==(t=this.itemArray))for(var e=t.length,o=0;o<e;o++)Vy(this,t[o],o)},ot.qy=function(t){return null==t||null===this.Zd?null:this.Zd.G(t)},W.Object.defineProperties(Ke.prototype,{type:{get:function(){return this.qa},set:function(t){var e=this.qa;e!==t&&(this.qa=t,this.qa===Ke.Grid?this.isAtomic=!0:this.qa===Ke.Table&&g0(this),this.s(),this.g("type",e,t))}},elements:{get:function(){return this.W.iterator}},naturalBounds:{get:function(){return this.rc}},padding:{get:function(){return this.ib},set:function(t){"number"==typeof t?(0>t&&et(t,">= 0",Ke,"padding"),t=new nn(t)):(0>t.left&&et(t.left,">= 0",Ke,"padding:value.left"),0>t.right&&et(t.right,">= 0",Ke,"padding:value.right"),0>t.top&&et(t.top,">= 0",Ke,"padding:value.top"),0>t.bottom&&et(t.bottom,">= 0",Ke,"padding:value.bottom"));var e=this.ib;e.w(t)||(this.ib=t=t.H(),this.s(),this.g("padding",e,t))}},defaultAlignment:{get:function(){return this.Mn},set:function(t){var e=this.Mn;e.w(t)||(this.Mn=t=t.H(),this.s(),this.g("defaultAlignment",e,t))}},defaultStretch:{get:function(){return this.Sf},set:function(t){var e=this.Sf;e!==t&&(this.Sf=t,this.s(),this.g("defaultStretch",e,t))}},defaultSeparatorPadding:{get:function(){return void 0===this.Fj?dr:this.Fj},set:function(t){if(void 0!==this.Fj){"number"==typeof t&&(t=new nn(t));var e=this.Fj;e.w(t)||(this.Fj=t=t.H(),this.s(),this.g("defaultSeparatorPadding",e,t))}}},defaultRowSeparatorStroke:{get:function(){return void 0===this.si?null:this.si},set:function(t){var e=this.si;e!==t&&(null===t||"string"==typeof t||t instanceof Dn)&&(t instanceof Dn&&t.freeze(),this.si=t,this.M(),this.g("defaultRowSeparatorStroke",e,t))}},defaultRowSeparatorStrokeWidth:{get:function(){return void 0===this.Ug?1:this.Ug},set:function(t){if(void 0!==this.Ug){var e=this.Ug;e!==t&&isFinite(t)&&0<=t&&(this.Ug=t,this.s(),this.g("defaultRowSeparatorStrokeWidth",e,t))}}},defaultRowSeparatorDashArray:{get:function(){return void 0===this.ri?null:this.ri},set:function(t){if(void 0!==this.ri){var e=this.ri;if(e!==t){if(null!==t){for(var o=t.length,a=0,u=0;u<o;u++){var c=t[u];"number"==typeof c&&0<=c&&isFinite(c)||V("defaultRowSeparatorDashArray value "+c+" at index "+u+" must be a positive number or zero."),a+=c}if(0===a){if(null===e)return;t=null}}this.ri=t,this.M(),this.g("defaultRowSeparatorDashArray",e,t)}}}},defaultColumnSeparatorStroke:{get:function(){return void 0===this.Sg?null:this.Sg},set:function(t){if(void 0!==this.Sg){var e=this.Sg;e!==t&&(null===t||"string"==typeof t||t instanceof Dn)&&(t instanceof Dn&&t.freeze(),this.Sg=t,this.M(),this.g("defaultColumnSeparatorStroke",e,t))}}},defaultColumnSeparatorStrokeWidth:{get:function(){return void 0===this.Tg?1:this.Tg},set:function(t){if(void 0!==this.Tg){var e=this.Tg;e!==t&&isFinite(t)&&0<=t&&(this.Tg=t,this.s(),this.g("defaultColumnSeparatorStrokeWidth",e,t))}}},defaultColumnSeparatorDashArray:{get:function(){return void 0===this.pi?null:this.pi},set:function(t){if(void 0!==this.pi){var e=this.pi;if(e!==t){if(null!==t){for(var o=t.length,a=0,u=0;u<o;u++){var c=t[u];"number"==typeof c&&0<=c&&isFinite(c)||V("defaultColumnSeparatorDashArray value "+c+" at index "+u+" must be a positive number or zero."),a+=c}if(0===a){if(null===e)return;t=null}}this.pi=t,this.M(),this.g("defaultColumnSeparatorDashArray",e,t)}}}},viewboxStretch:{get:function(){return this.pq},set:function(t){var e=this.pq;e!==t&&(this.pq=t,this.s(),this.g("viewboxStretch",e,t))}},gridCellSize:{get:function(){return this.no},set:function(t){var e=this.no;if(!e.w(t)){t.o()&&0!==t.width&&0!==t.height||V("Invalid Panel.gridCellSize: "+t),this.no=t.H();var o=this.diagram;null!==o&&this===o.grid&&rc(o),this.M(),this.g("gridCellSize",e,t)}}},gridOrigin:{get:function(){return this.oo},set:function(t){var e=this.oo;if(!e.w(t)){t.o()||V("Invalid Panel.gridOrigin: "+t),this.oo=t.H();var o=this.diagram;null!==o&&this===o.grid&&rc(o),this.M(),this.g("gridOrigin",e,t)}}},graduatedMin:{get:function(){return this.ko},set:function(t){var e=this.ko;e!==t&&(this.ko=t,this.s(),this.g("graduatedMin",e,t),uf(this)&&null!==(t=this.part)&&Au(this,t,"graduatedRange"))}},graduatedMax:{get:function(){return this.jo},set:function(t){var e=this.jo;e!==t&&(this.jo=t,this.s(),this.g("graduatedMax",e,t),uf(this)&&null!==(t=this.part)&&Au(this,t,"graduatedRange"))}},graduatedRange:{get:function(){return this.graduatedMax-this.graduatedMin}},graduatedTickUnit:{get:function(){return this.mo},set:function(t){var e=this.mo;e!==t&&0<t&&(this.mo=t,this.s(),this.g("graduatedTickUnit",e,t))}},graduatedTickBase:{get:function(){return this.lo},set:function(t){var e=this.lo;e!==t&&(this.lo=t,this.s(),this.g("graduatedTickBase",e,t))}},Nh:{get:function(){return 0!=(8388608&this.F)},set:function(t){0!=(8388608&this.F)!==t&&(this.F^=8388608)}},rowCount:{get:function(){return void 0===this.qb?0:this.qb.length}},columnCount:{get:function(){return void 0===this.nb?0:this.nb.length}},rowSizing:{get:function(){return void 0===this.dk?pv:this.dk},set:function(t){if(void 0!==this.dk){var e=this.dk;e!==t&&(this.dk=t,this.s(),this.g("rowSizing",e,t))}}},columnSizing:{get:function(){return void 0===this.Cj?pv:this.Cj},set:function(t){if(void 0!==this.Cj){var e=this.Cj;e!==t&&(this.Cj=t,this.s(),this.g("columnSizing",e,t))}}},topIndex:{get:function(){return void 0===this.Xi?0:this.Xi},set:function(t){if(void 0!==this.Xi){var e=this.Xi;e!==t&&((!isFinite(t)||0>t)&&V("Panel.topIndex must be greater than zero and a real number, not: "+t),this.Xi=t,this.s(),this.g("topIndex",e,t))}}},leftIndex:{get:function(){return void 0===this.Gi?0:this.Gi},set:function(t){if(void 0!==this.Gi){var e=this.Gi;e!==t&&((!isFinite(t)||0>t)&&V("Panel.leftIndex must be greater than zero and a real number, not: "+t),this.Gi=t,this.s(),this.g("leftIndex",e,t))}}},data:{get:function(){return this.ob},set:function(t){var e=this.ob;if(e!==t){var o=this instanceof Bt&&!(this instanceof si);va(this),this.ob=t;var a=this.diagram;null!==a&&(o?(o=a.partManager,this instanceof We?(null!==e&&o.Te.remove(e),null!==t&&o.Te.add(t,this)):this instanceof Bt&&(null!==e&&o.Ue.remove(e),null!==t&&o.Ue.add(t,this))):null!==(o=this.panel)&&null!==o.Zd&&(null!==e&&o.Zd.remove(e),null!==t&&o.Zd.add(t,this))),this.g("data",e,t),null!==a&&a.undoManager.isUndoingRedoing||null!==t&&this.Ea()}}},itemIndex:{get:function(){return this.Do},set:function(t){var e=this.Do;e!==t&&(this.Do=t,this.g("itemIndex",e,t))}},itemArray:{get:function(){return this.Ci},set:function(t){var e=this.Ci;if(e!==t||null!==t&&function(t,e){for(var o=(t=t.W.j).length,a=e.length,u=0,c=null;u<o&&!((c=t[u])instanceof Ke&&null!==c.data);)c=t[++u];if(o-u!==a)return!0;if(null===c)return 0<a;for(var g=0;u<o&&g<a;){if(!((c=t[u])instanceof Ke)||c.data!==e[g])return!0;u++,g++}return!1}(this,t)){var o=this.diagram;e!==t&&(null!==o&&null!==e&&jx(o.partManager,this,o),this.Ci=t,null!==o&&null!==t&&Ib(o.partManager,this)),this.g("itemArray",e,t),null!==o&&o.undoManager.isUndoingRedoing||this.eu()}}},itemTemplate:{get:function(){return null===this.te?null:this.te.G("")},set:function(t){if(null===this.te){if(null===t)return;this.te=new vt}var e=this.te.G("");e!==t&&((t instanceof Bt||t.isPanelMain)&&V("Panel.itemTemplate must not be a Part or be Panel.isPanelMain: "+t),this.te.add("",t),this.g("itemTemplate",e,t),null!==(t=this.diagram)&&t.undoManager.isUndoingRedoing||this.eu())}},itemTemplateMap:{get:function(){return this.te},set:function(t){var e=this.te;if(e!==t){for(var o=t.iterator;o.next(););this.te=t,this.g("itemTemplateMap",e,t),null!==(t=this.diagram)&&t.undoManager.isUndoingRedoing||this.eu()}}},itemCategoryProperty:{get:function(){return this.Jl},set:function(t){var e=this.Jl;e!==t&&(this.Jl=t,this.g("itemCategoryProperty",e,t))}},isAtomic:{get:function(){return 0!=(1048576&this.F)},set:function(t){var e=0!=(1048576&this.F);e!==t&&(this.F^=1048576,this.g("isAtomic",e,t))}},isClipping:{get:function(){return 0!=(2097152&this.F)},set:function(t){var e=0!=(2097152&this.F);e!==t&&(!t||this.type===Ke.Spot||this instanceof ai||rt("Warning: Panel.isClipping set on non-Spot Panel: "+this.toString()),this.F^=2097152,this instanceof ai&&(this.Za=null),this.s(),this.g("isClipping",e,t))}},isOpposite:{get:function(){return 0!=(33554432&this.F)},set:function(t){var e=0!=(33554432&this.F);e!==t&&(this.F^=33554432,this.s(),this.g("isOpposite",e,t))}},isEnabled:{get:function(){return 0!=(4194304&this.F)},set:function(t){var e=0!=(4194304&this.F);if(e!==t){var o=null===this.panel||this.panel.Hg();this.F^=4194304,this.g("isEnabled",e,t),null!==(e=this.diagram)&&e.undoManager.isUndoingRedoing||o&&jy(this,this,t)}}},alignmentFocusName:{get:function(){return this.Lg},set:function(t){var e=this.Lg;e!==t&&(this.Lg=t,this.s(),this.g("alignmentFocusName",e,t))}}}),W.Object.defineProperties(Ke,{Position:{get:function(){return ou.G("Position")}},Horizontal:{get:function(){return ou.G("Horizontal")}},Vertical:{get:function(){return ou.G("Vertical")}},Spot:{get:function(){return ou.G("Spot")}},Auto:{get:function(){return ou.G("Auto")}},Table:{get:function(){return ou.G("Table")}},Viewbox:{get:function(){return ou.G("Viewbox")}},TableRow:{get:function(){return ou.G("TableRow")}},TableColumn:{get:function(){return ou.G("TableColumn")}},Link:{get:function(){return ou.G("Link")}},Grid:{get:function(){return ou.G("Grid")}},Graduated:{get:function(){return ou.G("Graduated")}}}),Ke.prototype.findItemPanelForData=Ke.prototype.qy,Ke.prototype.rebuildItemElements=Ke.prototype.eu,Ke.prototype.updateTargetBindings=Ke.prototype.Ea,Ke.prototype.copyTemplate=Ke.prototype.Gz,Ke.prototype.graduatedValueForPoint=Ke.prototype.rA,Ke.prototype.graduatedPointForValue=Ke.prototype.qA,Ke.prototype.findColumnForLocalX=Ke.prototype.Tz,Ke.prototype.findRowForLocalY=Ke.prototype.aA,Ke.prototype.removeColumnDefinition=Ke.prototype.SA,Ke.prototype.removeRowDefinition=Ke.prototype.XA,Ke.prototype.removeAt=Ke.prototype.cb,Ke.prototype.remove=Ke.prototype.remove,Ke.prototype.insertAt=Ke.prototype.wb,Ke.prototype.elt=Ke.prototype.J,Ke.prototype.add=Ke.prototype.add,Ke.prototype.findObject=Ke.prototype.bb,Ke.prototype.findInVisualTree=Ke.prototype.ym,Ke.prototype.walkVisualTreeFrom=Ke.prototype.an,Ke.prototype.findMainElement=Ke.prototype.tb;var fv=!1,kx=null,ou=new vt;function _o(){ge(this),this.og=null,this.ns=!0,this.Ra=0,this.ad=NaN,this.nh=0,this.lh=1/0,this.yb=Os,this.la=this.bc=this.ha=0,this.fb=null,this.Yp=zy,this.De=Go,this.Up=this.sg=null,this.Vp=NaN,this.mb=this.fk=null,this.In=!1}function dv(t){if(t.sizing===zy){var e=t.og;return t.isRow?e.rowSizing:e.columnSizing}return t.sizing}Ke.className="Panel",Ke.definePanelLayout=_l,_l("Position",new _m),_l("Vertical",new ep),_l("Auto",new av),_l("Link",new Sm),_o.prototype.copy=function(){var t=new _o;return t.ns=this.ns,t.Ra=this.Ra,t.ad=this.ad,t.nh=this.nh,t.lh=this.lh,t.yb=this.yb,t.ha=this.ha,t.bc=this.bc,t.la=this.la,t.De=this.De,t.Yp=this.Yp,t.sg=null===this.sg?null:this.sg.H(),t.Up=this.Up,t.Vp=this.Vp,t.fk=null,null!==this.fk&&(t.separatorDashArray=Dt(this.separatorDashArray)),t.mb=this.mb,t.In=this.In,t.fb=this.fb,t},(ot=_o.prototype).gy=function(t){t.isRow?this.height=t.height:this.width=t.width,this.minimum=t.minimum,this.maximum=t.maximum,this.alignment=t.alignment,this.stretch=t.stretch,this.sizing=t.sizing,this.sg=null===t.separatorPadding?null:t.separatorPadding.H(),this.separatorStroke=t.separatorStroke,this.separatorStrokeWidth=t.separatorStrokeWidth,this.fk=null,t.separatorDashArray&&(this.fk=Dt(t.separatorDashArray)),this.background=t.background,this.coversSeparators=t.coversSeparators,this.fb=t.fb},ot.jb=function(t){t.classType===_o&&(this.sizing=t)},ot.toString=function(){return"RowColumnDefinition "+(this.isRow?"(Row ":"(Column ")+this.index+") #"+we(this)},ot.sj=function(t){this.og=t},ot.Jv=function(){var t=0,e=0,o=this.og,a=this.isRow;if(null!==o&&o.type===Ke.Table)for(var u=a?o.qb.length:o.nb.length,c=0;c<u;c++){var g=a?o.qb[c]:o.nb[c];if(void 0!==g){e=g.index;break}}if(this.index!==e&&(null===(e=this.separatorStroke)&&null!==o&&(e=this.isRow?o.defaultRowSeparatorStroke:o.defaultColumnSeparatorStroke),null!==e&&(t=this.separatorStrokeWidth,isNaN(t)&&(t=null!==o?this.isRow?o.defaultRowSeparatorStrokeWidth:o.defaultColumnSeparatorStrokeWidth:0))),null===(e=this.sg)){if(null===o)return t;e=o.defaultSeparatorPadding}return t+(this.isRow?e.top:e.left)},ot.wc=function(){var t=0,e=this.og,o=0,a=this.isRow;if(null!==e&&e.type===Ke.Table)for(var u=a?e.qb.length:e.nb.length,c=0;c<u;c++){var g=a?e.qb[c]:e.nb[c];if(void 0!==g){o=g.index;break}}if(this.index!==o&&(null===(o=this.separatorStroke)&&null!==e&&(o=a?e.defaultRowSeparatorStroke:e.defaultColumnSeparatorStroke),null!==o&&(t=this.separatorStrokeWidth,isNaN(t)&&(t=null!==e?a?e.defaultRowSeparatorStrokeWidth:e.defaultColumnSeparatorStrokeWidth:0))),null===(a=this.sg)){if(null===e)return t;a=e.defaultSeparatorPadding}return t+(this.isRow?a.top+a.bottom:a.left+a.right)},ot.Bb=function(t,e,o){var a=this.og;if(null!==a&&(a.Va(_r,t,this,e,o,void 0,void 0),null!==this.fb&&null!==(e=a.diagram)&&!e.skipsModelSourceBindings&&null!==(a=a.ij())&&null!==(e=a.data)))for(o=this.fb.iterator;o.next();)o.value.jr(this,e,t,a)},ot.bind=function(t){t.pd=this;var e=this.panel;if(null!==e){var o=e.ij();null!==o&&By(o)&&V("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+t+" on "+e)}null===this.fb&&(this.fb=new Vt),this.fb.add(t)},W.Object.defineProperties(_o.prototype,{panel:{get:function(){return this.og}},isRow:{get:function(){return this.ns},set:function(t){this.ns=t}},index:{get:function(){return this.Ra},set:function(t){this.Ra=t}},height:{get:function(){return this.ad},set:function(t){var e=this.ad;e!==t&&(0>t&&et(t,">= 0",_o,"height"),this.ad=t,this.actual=this.ha,null!==this.panel&&this.panel.s(),this.Bb("height",e,t))}},width:{get:function(){return this.ad},set:function(t){var e=this.ad;e!==t&&(0>t&&et(t,">= 0",_o,"width"),this.ad=t,this.actual=this.ha,null!==this.panel&&this.panel.s(),this.Bb("width",e,t))}},minimum:{get:function(){return this.nh},set:function(t){var e=this.nh;e!==t&&((0>t||!isFinite(t))&&et(t,">= 0",_o,"minimum"),this.nh=t,this.actual=this.ha,null!==this.panel&&this.panel.s(),this.Bb("minimum",e,t))}},maximum:{get:function(){return this.lh},set:function(t){var e=this.lh;e!==t&&(0>t&&et(t,">= 0",_o,"maximum"),this.lh=t,this.actual=this.ha,null!==this.panel&&this.panel.s(),this.Bb("maximum",e,t))}},alignment:{get:function(){return this.yb},set:function(t){var e=this.yb;e.w(t)||(this.yb=t.H(),null!==this.panel&&this.panel.s(),this.Bb("alignment",e,t))}},stretch:{get:function(){return this.De},set:function(t){var e=this.De;e!==t&&(this.De=t,null!==this.panel&&this.panel.s(),this.Bb("stretch",e,t))}},separatorPadding:{get:function(){return this.sg},set:function(t){"number"==typeof t&&(t=new nn(t));var e=this.sg;null!==t&&null!==e&&e.w(t)||(null!==t&&(t=t.H()),this.sg=t,null!==this.panel&&this.panel.s(),this.Bb("separatorPadding",e,t))}},separatorStroke:{get:function(){return this.Up},set:function(t){var e=this.Up;e!==t&&(null!==t&&Zu(t,"RowColumnDefinition.separatorStroke"),t instanceof Dn&&t.freeze(),this.Up=t,null!==this.panel&&this.panel.s(),this.Bb("separatorStroke",e,t))}},separatorStrokeWidth:{get:function(){return this.Vp},set:function(t){var e=this.Vp;e!==t&&(this.Vp=t,null!==this.panel&&this.panel.s(),this.Bb("separatorStrokeWidth",e,t))}},separatorDashArray:{get:function(){return this.fk},set:function(t){var e=this.fk;if(e!==t){if(null!==t){for(var o=t.length,a=0,u=0;u<o;u++){var c=t[u];"number"==typeof c&&0<=c&&isFinite(c)||V("separatorDashArray value "+c+" at index "+u+" must be a positive number or zero."),a+=c}if(0===a){if(null===e)return;t=null}}this.fk=t,null!==this.panel&&this.panel.M(),this.Bb("separatorDashArray",e,t)}}},background:{get:function(){return this.mb},set:function(t){var e=this.mb;e!==t&&(null!==t&&Zu(t,"RowColumnDefinition.background"),t instanceof Dn&&t.freeze(),this.mb=t,null!==this.panel&&this.panel.M(),this.Bb("background",e,t))}},coversSeparators:{get:function(){return this.In},set:function(t){var e=this.In;e!==t&&(this.In=t,null!==this.panel&&this.panel.M(),this.Bb("coversSeparators",e,t))}},sizing:{get:function(){return this.Yp},set:function(t){var e=this.Yp;e!==t&&(this.Yp=t,null!==this.panel&&this.panel.s(),this.Bb("sizing",e,t))}},actual:{get:function(){return this.ha},set:function(t){this.ha=isNaN(this.ad)?Math.max(Math.min(this.lh,t),this.nh):Math.max(Math.min(this.lh,this.ad),this.nh)}},measured:{get:function(){return this.bc},set:function(t){this.bc=t}},total:{get:function(){return this.ha+this.wc()},set:function(t){this.ha=isNaN(this.ad)?Math.max(Math.min(this.lh,t),this.nh):Math.max(Math.min(this.lh,this.ad),this.nh),this.ha=Math.max(0,this.ha-this.wc())}},position:{get:function(){return this.la},set:function(t){this.la=t}}}),_o.prototype.bind=_o.prototype.bind,_o.prototype.computeEffectiveSpacing=_o.prototype.wc,_o.prototype.computeEffectiveSpacingTop=_o.prototype.Jv;var zy=new wt(_o,"Default",0),Ou=new wt(_o,"None",1),pv=new wt(_o,"ProportionalExtra",2);function Yi(){Ri.call(this),this.Ed=this.na=null,this.Yn="None",this.ho=Go,this.Hc=this.tl="black",this.wh=1,this.km="butt",this.lm="miter",this.gk=10,this.uh=null,this.vh=0,this.qf=this.pf=Os,this.tp=this.sp=NaN,this.vo=!1,this.wp=null,this.ul=this.rm="None",this.Yd=1,this.Wd=0,this.Ud=1,this.Vd=null}function ya(t,e,o,a){var u=o.length;if(!(4>u)){var c=a.measuredBounds,g=Math.max(1,c.width);c=c.height;for(var I,B,H,dt,bt,pt,_=o[0],A=o[1],Rt=0,Xt=h(),$t=2;$t<u;$t+=2)0==(H=(I=o[$t])-_)&&(H=.001),dt=(_=(B=o[$t+1])-A)/H,bt=Math.atan2(_,H),pt=Math.sqrt(H*H+_*_),Xt.push([H,bt,dt,pt]),Rt+=pt,_=I,A=B;_=o[0],A=o[1],H=a.measuredBounds.width,a instanceof Yi&&(H-=a.strokeWidth),1>H&&(H=1),u=o=H,B=0!=(I=g/2),H=(pt=Xt[$t=0])[0],bt=pt[1],dt=pt[2],pt=pt[3];for(var ie=0;.1<=Rt;){if(0===ie&&(B?(u=o,u-=I,Rt-=I,B=!1):u=o,0===u&&(u=1)),u>Rt)return void m(Xt);u>pt?(ie=u-pt,u=pt):ie=0;var oe=Math.sqrt(u*u/(1+dt*dt));if(0>H&&(oe=-oe),t.translate(_+=oe,A+=dt*oe),t.rotate(bt),t.translate(-g/2,-c/2),0===ie&&a.ej(t,e),t.translate(g/2,c/2),t.rotate(-bt),t.translate(-_,-A),Rt-=u,pt-=u,0!==ie){if(++$t===Xt.length)return void m(Xt);H=(pt=Xt[$t])[0],bt=pt[1],dt=pt[2],pt=pt[3],u=ie}}m(Xt)}}function Em(t){var e=t.geometryStretch;return null!==t.Ed?e===Go?qr:e:e===Go?Hy[t.figure].defaultStretch:e}function km(t,e,o,a,u){return(e=(t=o.x-t)*t+(e=o.y-e)*e)<a?(u.x=o.x,u.y=o.y,e):a}function np(t,e,o,a,u,c,g,_,A){var I=!1,B=(u-g)*(e-a)-(c-_)*(t-o);return 0!==B&&(A.x=((u*_-c*g)*(t-o)-(u-g)*(t*a-e*o))/B,A.y=((u*_-c*g)*(e-a)-(c-_)*(t*a-e*o))/B,(t>o?t-o:o-t)<(e>a?e-a:a-e)?(t=e<a?e:a,e=e<a?a:e,(A.y>t||me.aa(A.y,t))&&(A.y<e||me.aa(A.y,e))&&(I=!0)):(e=t<o?t:o,t=t<o?o:t,(A.x>e||me.aa(A.x,e))&&(A.x<t||me.aa(A.x,t))&&(I=!0)),I)}function Fo(t,e,o,a){if(!t.Nt(e,o,a))return!1;t=e.x,e=e.y;var u=o.x,c=o.y;return o=a.x,a=a.y,t===u?(e<c?(t=e,e=c):t=c,a>=t&&a<=e):(t<u?(a=t,t=u):a=u,o>=a&&o<=t)}function rp(t){var e=t.diagram;null!==e&&e.undoManager.isUndoingRedoing||(t.segmentOrientation=w0,"None"!==t.rm?(t.segmentIndex=-1,t.alignmentFocus=kr):"None"!==t.ul&&(t.segmentIndex=0,t.alignmentFocus=new ki(1-kr.x,kr.y)))}function y0(t){var e=Ya[t];if(void 0===e){var o=t.toLowerCase();if("none"===o)return"None";if(void 0===(e=Ya[o])){var u,a=null;for(u in me.dn)if(u.toLowerCase()===o){a=u;break}if(null!==a)return t=Nd(me.dn[a],!1),Ya[a]=t,o!==a&&(Ya[o]=a),a}}return"string"==typeof e?e:e instanceof pn?t:null}_o.className="RowColumnDefinition",_o.Default=zy,_o.None=Ou,_o.ProportionalExtra=pv,K(Yi,Ri),Yi.prototype.cloneProtected=function(t){Ri.prototype.cloneProtected.call(this,t),t.na=this.na,t.Yn=this.Yn,t.ho=this.ho,t.Ed=this.Ed,t.tl=this.tl,t.Hc=this.Hc,t.wh=this.wh,t.km=this.km,t.lm=this.lm,t.gk=this.gk,null!==this.uh&&(t.uh=Dt(this.uh)),t.vh=this.vh,t.pf=this.pf.H(),t.qf=this.qf.H(),t.sp=this.sp,t.tp=this.tp,t.vo=this.vo,t.wp=this.wp,t.rm=this.rm,t.ul=this.ul,t.Yd=this.Yd,t.Wd=this.Wd,t.Ud=this.Ud,t.Vd=this.Vd},(ot=Yi.prototype).jb=function(t){t===qn||t===Vs||t===Qg||t===Go?this.geometryStretch=t:Ri.prototype.jb.call(this,t)},ot.toString=function(){return"Shape("+("None"!==this.figure?this.figure:"None"!==this.toArrow?this.toArrow:this.fromArrow)+")#"+we(this)},ot.ej=function(t,e){var o=this.Hc,a=this.tl;if(null!==o||null!==a){var u=this.actualBounds,c=this.naturalBounds;null!==a&&fa(this,t,a,!0,!1,c,u);var g=this.part,_=this.wh;null===o||0!==_||null===g||!this.isPanelMain&&g.tb()!==this||(_=g.type===Ke.Link&&g instanceof si&&"Selection"===g.category&&g.adornedObject instanceof Yi&&g.adornedPart.tb()===g.adornedObject?g.adornedObject.strokeWidth:0),0===_&&(o=null),null!==o&&0!==_&&(fa(this,t,o,!1,!1,c,u),t.lineWidth=_,t.lineJoin=this.lm,t.lineCap=this.km,t.miterLimit=this.gk),u=!1,g&&e.Ke("drawShadows")&&(u=g.isShadowed),g=!0,null===o||null!==a&&"transparent"!==a||(g=!1),c=!1,null!==(_=this.strokeDashArray)&&(c=!0,t.Ft(_,this.vh));var A=this.na;if(null!==A){if(A.type===To)t.beginPath(),t.moveTo(A.startX,A.startY),t.lineTo(A.endX,A.endY),null!==o&&t.vj();else if(A.type===rs){var I=A.startX;_=A.startY;var B=A.endX,H=A.endY;A=Math.min(I,B);var dt=Math.min(_,H);I=Math.abs(B-I),_=Math.abs(H-_),t.beginPath(),t.rect(A,dt,I,_),null!==a&&t.Je(a),null!==o&&(g&&u&&Ru(t),(0===I||0===_)&&(t.beginPath(),t.rect(A,dt,Math.max(I,.1),Math.max(_,.1))),t.vj(),g&&u&&Xu(t))}else if(A.type===wu)I=A.startX,_=A.startY,B=A.endX,H=A.endY,A=Math.abs(B-I)/2,dt=Math.abs(H-_)/2,I=Math.min(I,B)+A,_=Math.min(_,H)+dt,t.beginPath(),t.moveTo(I,_-dt),t.bezierCurveTo(I+me.Kg*A,_-dt,I+A,_-me.Kg*dt,I+A,_),t.bezierCurveTo(I+A,_+me.Kg*dt,I+me.Kg*A,_+dt,I,_+dt),t.bezierCurveTo(I-me.Kg*A,_+dt,I-A,_+me.Kg*dt,I-A,_),t.bezierCurveTo(I-A,_-me.Kg*dt,I-me.Kg*A,_-dt,I,_-dt),t.closePath(),null!==a&&t.Je(a),null!==o&&(g&&u?(Ru(t),t.vj(),Xu(t)):t.vj());else if(A.type===pl)for(A=(_=A.figures).length,dt=0;dt<A;dt++){I=_.j[dt],t.beginPath(),t.moveTo(I.startX,I.startY),H=(B=I.segments.j).length;for(var bt=null,pt=0;pt<H;pt++){var Rt=B[pt];switch(Rt.type){case Br:t.moveTo(Rt.endX,Rt.endY);break;case fo:t.lineTo(Rt.endX,Rt.endY);break;case Vo:t.bezierCurveTo(Rt.point1X,Rt.point1Y,Rt.point2X,Rt.point2Y,Rt.endX,Rt.endY);break;case Sa:t.quadraticCurveTo(Rt.point1X,Rt.point1Y,Rt.endX,Rt.endY);break;case jn:if(Rt.radiusX===Rt.radiusY){var Xt=Math.PI/180;t.arc(Rt.point1X,Rt.point1Y,Rt.radiusX,Rt.startAngle*Xt,(Rt.startAngle+Rt.sweepAngle)*Xt,0>Rt.sweepAngle,null!==bt?bt.endX:I.startX,null!==bt?bt.endY:I.startY)}else if(0===(Xt=(bt=Ua(Rt,I)).length))t.lineTo(Rt.centerX,Rt.centerY);else for(var $t=0;$t<Xt;$t++){var ie=bt[$t];0===$t&&t.lineTo(ie[0],ie[1]),t.bezierCurveTo(ie[2],ie[3],ie[4],ie[5],ie[6],ie[7])}break;case qs:if($t=Xt=0,null!==bt&&bt.type===jn){if(0===(ie=(bt=Ua(bt,I)).length)){t.lineTo(Rt.endX,Rt.endY);break}null!==(bt=bt[ie-1]||null)&&(Xt=bt[6],$t=bt[7])}else Xt=null!==bt?bt.endX:I.startX,$t=null!==bt?bt.endY:I.startY;if(0===(Xt=(bt=vh(Rt,I,Xt,$t)).length)){t.lineTo(Rt.endX,Rt.endY);break}for($t=0;$t<Xt;$t++)t.bezierCurveTo((ie=bt[$t])[2],ie[3],ie[4],ie[5],ie[6],ie[7]);break;default:V("Segment not of valid type: "+Rt.type)}Rt.isClosed&&t.closePath(),bt=Rt}B=I.isFilled,u?I.isShadowed?(!0===B&&"transparent"!==a&&null!==a&&t.Je(a),null!==o&&(B&&g&&Ru(t),t.vj(),B&&g&&Xu(t))):(Ru(t),B&&"transparent"!==a&&null!==a&&t.Je(a),null!==o&&t.vj(),Xu(t)):(B&&null!==a&&t.Je(a),null!==o&&t.vj())}if(c&&t.Dt(),null!==this.pathPattern){if((o=this.pathPattern).measure(1/0,1/0),o.arrange(0,0,(a=o.measuredBounds).width,a.height),u=this.geometry,t.save(),t.beginPath(),a=h(),u.type===To)a.push(u.startX),a.push(u.startY),a.push(u.endX),a.push(u.endY),ya(t,e,a,o);else if(u.type===pl)for(u=u.figures.iterator;u.next();){for(g=u.value,a.length=0,a.push(g.startX),a.push(g.startY),A=c=g.startX,dt=_=g.startY,B=(I=g.segments.j).length,H=0;H<B;H++){switch((pt=I[H]).type){case Br:ya(t,e,a,o),a.length=0,a.push(pt.endX),a.push(pt.endY),A=c=pt.endX,dt=_=pt.endY;break;case fo:a.push(pt.endX),a.push(pt.endY),c=pt.endX,_=pt.endY;break;case Vo:me.Fe(c,_,pt.point1X,pt.point1Y,pt.point2X,pt.point2Y,pt.endX,pt.endY,.5,a),c=pt.endX,_=pt.endY;break;case Sa:me.Vq(c,_,pt.point1X,pt.point1Y,pt.endX,pt.endY,.5,a),c=pt.endX,_=pt.endY;break;case jn:if(0===(bt=(Rt=Ua(pt,g)).length)){a.push(pt.centerX),a.push(pt.centerY),c=pt.centerX,_=pt.centerY;break}for(Xt=0;Xt<bt;Xt++)me.Fe(c,_,($t=Rt[Xt])[2],$t[3],$t[4],$t[5],$t[6],$t[7],.5,a),c=$t[6],_=$t[7];break;case qs:if(0===(bt=(Rt=vh(pt,g,c,_)).length)){a.push(pt.endX),a.push(pt.endY),c=pt.endX,_=pt.endY;break}for(Xt=0;Xt<bt;Xt++)me.Fe(c,_,($t=Rt[Xt])[2],$t[3],$t[4],$t[5],$t[6],$t[7],.5,a),c=$t[6],_=$t[7];break;default:V("Segment not of valid type: "+pt.type)}pt.isClosed&&(a.push(A),a.push(dt),ya(t,e,a,o))}ya(t,e,a,o)}else if(u.type===rs)a.push(u.startX),a.push(u.startY),a.push(u.endX),a.push(u.startY),a.push(u.endX),a.push(u.endY),a.push(u.startX),a.push(u.endY),a.push(u.startX),a.push(u.startY),ya(t,e,a,o);else if(u.type===wu){if((_=new qo).startX=u.endX,_.startY=(u.startY+u.endY)/2,(c=new Vn(jn)).startAngle=0,c.sweepAngle=360,c.centerX=(u.startX+u.endX)/2,c.centerY=(u.startY+u.endY)/2,c.radiusX=Math.abs(u.startX-u.endX)/2,c.radiusY=Math.abs(u.startY-u.endY)/2,_.add(c),0===(g=(u=Ua(c,_)).length))a.push(c.centerX),a.push(c.centerY);else for(c=_.startX,_=_.startY,A=0;A<g;A++)me.Fe(c,_,(dt=u[A])[2],dt[3],dt[4],dt[5],dt[6],dt[7],.5,a),c=dt[6],_=dt[7];ya(t,e,a,o)}m(a),t.restore(),t.uc(!1)}}}},ot.da=function(t,e){if(void 0===e&&(e=new at),t instanceof ki){t.nc()&&V("getDocumentPoint Spot must be a real, specific Spot, not: "+t.toString());var o=this.naturalBounds,a=this.strokeWidth;e.h(t.x*(o.width+a)-a/2+o.x+t.offsetX,t.y*(o.height+a)-a/2+o.y+t.offsetY)}else e.set(t);return this.Fd.ta(e),e},ot.mj=function(t){void 0===t&&(t=new te);var e=this.naturalBounds,o=this.Fd;e=te.allocAt(e.x,e.y,e.width,e.height);var a=this.strokeWidth;return e.Jc(a/2,a/2),a=at.allocAt(e.x,e.y).transform(o),t.h(a.x,a.y,0,0),a.h(e.right,e.y).transform(o),en(t,a.x,a.y,0,0),a.h(e.right,e.bottom).transform(o),en(t,a.x,a.y,0,0),a.h(e.x,e.bottom).transform(o),en(t,a.x,a.y,0,0),te.free(e),at.free(a),t},ot.Kh=function(t,e){var o=this.geometry;if(null===o||null===this.fill&&null===this.stroke)return!1;var a=o.bounds,u=this.strokeWidth/2;o.type!==To||e||(u+=2);var c=te.alloc();if(c.assign(a),c.Jc(u+2,u+2),!c.$(t))return te.free(c),!1;if(a=u+1e-4,o.type===To)return!(null===this.stroke||(a=(o.endX-o.startX)*(t.x-o.startX)+(o.endY-o.startY)*(t.y-o.startY),0>(o.startX-o.endX)*(t.x-o.endX)+(o.startY-o.endY)*(t.y-o.endY)||0>a))&&(te.free(c),me.Nb(o.startX,o.startY,o.endX,o.endY,u,t.x,t.y));if(o.type===rs){e=o.startX;var g=o.startY,_=o.endX;if(o=o.endY,c.x=Math.min(e,_),c.y=Math.min(g,o),c.width=Math.abs(_-e),c.height=Math.abs(o-g),null===this.fill){if(c.Jc(-a,-a),c.$(t))return te.free(c),!1;c.Jc(a,a)}return null!==this.stroke&&c.Jc(u,u),t=c.$(t),te.free(c),t}if(o.type===wu){g=o.startX,u=o.startY,_=o.endX;var A=o.endY;if(o=Math.min(g,_),e=Math.min(u,A),g=Math.abs(_-g)/2,u=Math.abs(A-u)/2,o=t.x-(o+g),e=t.y-(e+u),null===this.fill){if(u-=a,0>=(g-=a)||0>=u||1>=o*o/(g*g)+e*e/(u*u))return te.free(c),!1;g+=a,u+=a}return null!==this.stroke&&(g+=a,u+=a),te.free(c),!(0>=g||0>=u)&&1>=o*o/(g*g)+e*e/(u*u)}return o.type===pl?(te.free(c),null===this.fill?Gc(o,t.x,t.y,u):q0(o,t,u,1<this.strokeWidth,e)):(V("Unknown Geometry type: "+o.type),!1)},ot.Hm=function(t,e,o,a){var u=this.desiredSize,c=this.wh;if(t=Math.max(t,0),e=Math.max(e,0),null!==this.Ed)var g=this.geometry.bounds;else{var _=this.figure,A=Hy[_];if(void 0===A){var I=me.Qe[_];"string"==typeof I&&(I=me.Qe[I]),"function"==typeof I?(A=I(null,100,100),Hy[_]=A):V("Unsupported Figure: "+_)}g=A.bounds}_=g.width,A=g.height,I=g.width;var B=g.height;switch(wl(this,!0)){case qn:a=o=0;break;case qr:I=Math.max(t-c,0),B=Math.max(e-c,0);break;case ro:I=Math.max(t-c,0),a=0;break;case Ts:o=0,B=Math.max(e-c,0)}switch(isFinite(u.width)&&(I=u.width),isFinite(u.height)&&(B=u.height),u=this.maxSize,g=this.minSize,o=Math.max(o-c,g.width),a=Math.max(a-c,g.height),I=Math.min(u.width,I),B=Math.min(u.height,B),I=isFinite(I)?Math.max(o,I):Math.max(_,o),B=isFinite(B)?Math.max(a,B):Math.max(A,a),o=Em(this)){case qn:break;case qr:_=I,A=B;break;case Vs:o=Math.min(I/_,B/A),isFinite(o)||(o=1),_*=o,A*=o;break;default:V(o+" is not a valid geometryStretch.")}null!==this.Ed?(0===_&&(_=.001),0===A&&(A=.001),a=_/(u=(o=null!==this.Ed?this.Ed:this.na).bounds).width,u=A/u.height,isFinite(a)||(a=1),isFinite(u)||(u=1),this.na=1===a&&1===u?o:o.copy().scale(a,u)):null!==this.na&&me.aa(this.na.Dl,t-c)&&me.aa(this.na.Cl,e-c)||(this.na=Yi.makeGeometry(this,_,A)),g=this.na.bounds,t===1/0||e===1/0?zl(this,g.x-c/2,g.y-c/2,0===t&&0===_?0:g.width+c,0===e&&0===A?0:g.height+c):zl(this,-c/2,-c/2,I+c,B+c)},ot.Ih=function(t,e,o,a){tv(this,t,e,o,a)},ot.Nt=function(t,e,o){return this.zk(t.x,t.y,e.x,e.y,o)},ot.zk=function(t,e,o,a,u){var c=this.transform,g=1/(c.m11*c.m22-c.m12*c.m21),_=c.m22*g,A=-c.m12*g,I=-c.m21*g,B=c.m11*g,H=g*(c.m21*c.dy-c.m22*c.dx),dt=g*(c.m12*c.dx-c.m11*c.dy);c=t*_+e*I+H,g=t*A+e*B+dt,_=o*_+a*I+H,A=o*A+a*B+dt,H=this.wh/2,null===(I=this.na)&&(this.measure(1/0,1/0),I=this.na);var bt=I.bounds;if(B=!1,I.type===To)if(1.5>=this.strokeWidth)B=me.Me(I.startX,I.startY,I.endX,I.endY,c,g,_,A,u);else{if(I.startX===I.endX?(a=H,B=0):(e=(I.endY-I.startY)/(I.endX-I.startX),a=(B=H/Math.sqrt(1+e*e))*e),e=h(),t=new at,me.Me(I.startX+a,I.startY+B,I.endX+a,I.endY+B,c,g,_,A,t)&&e.push(t),t=new at,me.Me(I.startX-a,I.startY-B,I.endX-a,I.endY-B,c,g,_,A,t)&&e.push(t),t=new at,me.Me(I.startX+a,I.startY+B,I.startX-a,I.startY-B,c,g,_,A,t)&&e.push(t),t=new at,me.Me(I.endX+a,I.endY+B,I.endX-a,I.endY-B,c,g,_,A,t)&&e.push(t),0===(_=e.length))return m(e),!1;for(B=!0,A=1/0,a=0;a<_;a++)(o=((t=e[a]).x-c)*(t.x-c)+(t.y-g)*(t.y-g))<A&&(A=o,u.x=t.x,u.y=t.y);m(e)}else if(I.type===rs)B=me.Cf(bt.x-H,bt.y-H,bt.x+bt.width+H,bt.y+bt.height+H,c,g,_,A,u);else if(I.type===wu){t:if(0===(e=te.allocAt(bt.x,bt.y,bt.width,bt.height).Jc(H,H)).width)B=me.Me(e.x,e.y,e.x,e.y+e.height,c,g,_,A,u);else if(0===e.height)B=me.Me(e.x,e.y,e.x+e.width,e.y,c,g,_,A,u);else{if(a=e.x+(t=e.width/2),B=e.y+(I=e.height/2),o=9999,c!==_&&(o=(g-A)/(c-_)),9999>Math.abs(o)){if(0>t*t*o*o+I*I-(A=g-B-o*(c-a))*A){u.x=NaN,u.y=NaN,B=!1;break t}_=(-t*t*o*A+t*I*(H=Math.sqrt(t*t*o*o+I*I-A*A)))/(I*I+t*t*o*o)+a,t=(-t*t*o*A-t*I*H)/(I*I+t*t*o*o)+a,I=o*(_-a)+A+B,A=o*(t-a)+A+B,Math.abs((c-_)*(c-_))+Math.abs((g-I)*(g-I))<Math.abs((c-t)*(c-t))+Math.abs((g-A)*(g-A))?(u.x=_,u.y=I):(u.x=t,u.y=A)}else{if(_=I*I,0>(_-=_/(t*t)*(A=c-a)*A)){u.x=NaN,u.y=NaN,B=!1;break t}_=B+(A=Math.sqrt(_)),A=B-A,Math.abs(_-g)<Math.abs(A-g)?(u.x=c,u.y=_):(u.x=c,u.y=A)}B=!0}te.free(e)}else if(I.type===pl){dt=at.alloc();var pt=_-c,Rt=A-g,Xt=pt*pt+Rt*Rt,$t=c,ie=g;if(0<Xt&&bt.contains($t,ie)&&(dt.x=$t,dt.y=ie,this.$(dt)))for(0!==pt&&.5>Math.abs(pt)?(Rt*=.5/pt,pt=.5):0!==Rt&&.5>Math.abs(Rt)&&(pt*=.5/Rt,Rt=.5),$t-=pt,ie-=Rt;bt.contains($t,ie);)$t-=pt,ie-=Rt;for(u.x=_,u.y=A,Rt=0;Rt<I.figures.count;Rt++)for(var oe=I.figures.j[Rt],ce=oe.isFilled?$t:c,_e=oe.isFilled?ie:g,Je=oe.segments,Si=bt=oe.startX,li=pt=oe.startY,Fi=0;Fi<Je.count;Fi++){var di=Je.j[Fi],ii=di.type,_n=di.endX,rn=di.endY,Hn=!1;switch(ii){case Br:Si=_n,li=rn;break;case fo:Hn=np(bt,pt,_n,rn,ce,_e,_,A,dt);break;case Vo:Hn=me.wq(bt,pt,di.point1X,di.point1Y,di.point2X,di.point2Y,_n,rn,ce,_e,_,A,.6,dt);break;case Sa:Hn=me.wq(bt,pt,bt+2/3*(di.point1X-bt),pt+2/3*(di.point1Y-pt),_n+2/3*(di.point1X-_n),rn+2/3*(di.point1Y-rn),_n,rn,ce,_e,_,A,.6,dt);break;case jn:case qs:var oo=(ii=di.type===jn?Ua(di,oe):vh(di,oe,bt,pt)).length;if(0===oo){Hn=np(bt,pt,di.type===jn?di.centerX:di.endX,di.type===jn?di.centerY:di.endY,ce,_e,_,A,dt);break}for(rn=null,_n=0;_n<oo;_n++){if(rn=ii[_n],0===_n&&np(bt,pt,rn[0],rn[1],ce,_e,_,A,dt)){var $o=km(ce,_e,dt,Xt,u);$o<Xt&&(Xt=$o,B=!0)}me.wq(rn[0],rn[1],rn[2],rn[3],rn[4],rn[5],rn[6],rn[7],ce,_e,_,A,.6,dt)&&($o=km(ce,_e,dt,Xt,u))<Xt&&(Xt=$o,B=!0)}_n=rn[6],rn=rn[7];break;default:V("Unknown Segment type: "+ii)}bt=_n,pt=rn,Hn&&(Hn=km(ce,_e,dt,Xt,u))<Xt&&(Xt=Hn,B=!0),di.isClosed&&np(bt,pt,_n=Si,rn=li,ce,_e,_,A,dt)&&(di=km(ce,_e,dt,Xt,u))<Xt&&(Xt=di,B=!0)}c=o-t,g=a-e,0!==(_=Math.sqrt(c*c+g*g))&&(c/=_,g/=_),u.x-=c*H,u.y-=g*H,at.free(dt)}else V("Unknown Geometry type: "+I.type);return!!B&&(this.transform.ta(u),!0)},ot.Jh=function(t,e){if(void 0===e)return t.Ge(this.actualBounds);var o=this.na;null===o&&(this.measure(1/0,1/0),o=this.na),o=o.bounds;var a=this.strokeWidth/2,u=!1,c=at.alloc();return c.h(o.x-a,o.y-a),t.$(e.ta(c))&&(c.h(o.x-a,o.bottom+a),t.$(e.ta(c))&&(c.h(o.right+a,o.bottom+a),t.$(e.ta(c))&&(c.h(o.right+a,o.y-a),t.$(e.ta(c))&&(u=!0)))),at.free(c),u},ot.Mc=function(t,e){if(this.Jh(t,e)||void 0===e&&(e=this.transform,t.Ge(this.actualBounds)))return!0;var o=cn.alloc();o.set(e),o.St();var a=t.left,u=t.right,c=t.top;t=t.bottom;var g=at.alloc();if(g.h(a,c),o.ta(g),this.Kh(g,!0)||(g.h(u,c),o.ta(g),this.Kh(g,!0))||(g.h(a,t),o.ta(g),this.Kh(g,!0))||(g.h(u,t),o.ta(g),this.Kh(g,!0)))return at.free(g),!0;var _=at.alloc(),A=at.alloc();return o.set(e),o.jw(this.transform),o.St(),_.x=u,_.y=c,_.transform(o),g.x=a,g.y=c,g.transform(o),e=!1,Fo(this,g,_,A)?e=!0:(g.x=u,g.y=t,g.transform(o),Fo(this,g,_,A)?e=!0:(_.x=a,_.y=t,_.transform(o),Fo(this,g,_,A)?e=!0:(g.x=a,g.y=c,g.transform(o),Fo(this,g,_,A)&&(e=!0)))),at.free(g),cn.free(o),at.free(_),at.free(A),e},ot.sy=function(t,e,o){function a(Xt,$t){for(var ie=Xt.length,oe=0;oe<ie;oe+=2)if($t.qd(Xt[oe],Xt[oe+1])>u)return!0;return!1}if(o&&null!==this.fill&&this.Kh(t,!0))return!0;var u=t.Ie(e),c=u;if(1.5<this.strokeWidth&&(u=this.strokeWidth/2+Math.sqrt(u),u*=u),null===(e=this.na)&&(this.measure(1/0,1/0),null===(e=this.na)))return!1;if(!o){var g=e.bounds,_=g.x,A=g.y,I=g.x+g.width;if(g=g.y+g.height,Qi(t.x,t.y,_,A)<=u&&Qi(t.x,t.y,I,A)<=u&&Qi(t.x,t.y,_,g)<=u&&Qi(t.x,t.y,I,g)<=u)return!0}if(_=e.startX,A=e.startY,I=e.endX,g=e.endY,e.type===To){if(o=(_-I)*(t.x-I)+(A-g)*(t.y-g),Te(t.x,t.y,_,A,I,g)<=(0<=(I-_)*(t.x-_)+(g-A)*(t.y-A)&&0<=o?u:c))return!0}else{if(e.type===rs)return e=!1,o&&(e=Te(t.x,t.y,_,A,_,g)<=u||Te(t.x,t.y,_,A,I,A)<=u||Te(t.x,t.y,I,A,I,g)<=u||Te(t.x,t.y,_,g,I,g)<=u),e;if(e.type===wu){e=t.x-(_+I)/2,c=t.y-(A+g)/2;var B=Math.abs(I-_)/2,H=Math.abs(g-A)/2;if(0===B||0===H)return Te(t.x,t.y,_,A,I,g)<=u;if(!o)return!(Qi(e,c,-B,0)>=u||Qi(e,c,0,-H)>=u||Qi(e,c,0,H)>=u||Qi(e,c,B,0)>=u);if((t=me.Mz(B,H,e,c))*t<=u)return!0}else if(e.type===pl){if(c=(I=e.bounds).x,_=I.y,A=I.x+I.width,I=I.y+I.height,t.x>A&&t.x<c&&t.y>I&&t.y<_&&Te(t.x,t.y,c,_,c,I)>u&&Te(t.x,t.y,c,_,A,_)>u&&Te(t.x,t.y,A,I,c,I)>u&&Te(t.x,t.y,A,I,A,_)>u)return!1;if(c=Math.sqrt(u),!o){for(o=e.figures,e=0;e<o.count;e++){if(t.qd(g=(c=o.j[e]).startX,B=c.startY)>u)return!1;for(A=(_=c.segments.j).length,I=0;I<A;I++)switch(H=_[I],H.type){case Br:case fo:if(t.qd(g=H.endX,B=H.endY)>u)return!1;break;case Vo:var dt=h();if(me.Fe(g,B,H.point1X,H.point1Y,H.point2X,H.point2Y,H.endX,H.endY,.8,dt),g=a(dt,t),m(dt),g||t.qd(g=H.endX,B=H.endY)>u)return!1;break;case Sa:if(dt=h(),me.Vq(g,B,H.point1X,H.point1Y,H.endX,H.endY,.8,dt),g=a(dt,t),m(dt),g||t.qd(g=H.endX,B=H.endY)>u)return!1;break;case jn:case qs:var bt=(dt=H.type===jn?Ua(H,c):vh(H,c,g,B)).length;if(0===bt){if(t.qd(g=H.type===jn?H.centerX:H.endX,B=H.type===jn?H.centerY:H.endY)>u)return!1;break}H=null;for(var pt=h(),Rt=0;Rt<bt;Rt++)if(H=dt[Rt],pt.length=0,me.Fe(H[0],H[1],H[2],H[3],H[4],H[5],H[6],H[7],.8,pt),a(pt,t))return m(pt),!1;m(pt),null!==H&&(g=H[6],B=H[7]);break;default:V("Unknown Segment type: "+H.type)}}return!0}if(null===this.fill?Gc(e,t.x,t.y,c):q0(e,t,c,!0,!1))return!0}}return!1},ot.dc=function(){this.na=null},Yi.makeGeometry=function(t,e,o){if("None"!==t.toArrow)var a=Ya[t.toArrow];else"None"!==t.fromArrow?a=Ya[t.fromArrow]:("string"==typeof(a=me.Qe[t.figure])&&(a=me.Qe[a]),void 0===a&&V("Unknown Shape.figure: "+t.figure),(a=a(t,e,o)).Dl=e,a.Cl=o);if(null===a){var u=me.Qe.Rectangle;"function"==typeof u&&(a=u(t,e,o))}return a},W.Object.defineProperties(Yi.prototype,{geometry:{get:function(){return null!==this.na?this.na:this.Ed},set:function(t){var e=this.na,o=this.Ed;if(e!==t){this.Ed=this.na=null!==t?t.freeze():null;var a=this.part;null!==a&&(a.kh=NaN),this.s(),this.g("geometry",e||o,t),uf(this)&&null!==(t=this.part)&&Au(this,t,"geometryString")}}},geometryString:{get:function(){return null===this.geometry?"":this.geometry.toString()},set:function(t){var e=(t=Nd(t)).normalize();this.geometry=t,this.position=t=at.allocAt(-e.x,-e.y),at.free(t)}},isGeometryPositioned:{get:function(){return this.vo},set:function(t){var e=this.vo;e!==t&&(this.vo=t,this.s(),this.g("isGeometryPositioned",e,t))}},fill:{get:function(){return this.tl},set:function(t){var e=this.tl;e!==t&&(null!==t&&Zu(t,"Shape.fill"),t instanceof Dn&&t.freeze(),this.tl=t,this.M(),this.g("fill",e,t))}},stroke:{get:function(){return this.Hc},set:function(t){var e=this.Hc;e!==t&&(null!==t&&Zu(t,"Shape.stroke"),t instanceof Dn&&t.freeze(),this.Hc=t,this.M(),this.g("stroke",e,t))}},strokeWidth:{get:function(){return this.wh},set:function(t){var e=this.wh;if(e!==t)if(0<=t){this.wh=t,this.s();var o=this.part;null!==o&&(o.kh=NaN),this.g("strokeWidth",e,t)}else et(t,"value >= 0",Yi,"strokeWidth:value")}},strokeCap:{get:function(){return this.km},set:function(t){var e=this.km;e!==t&&("string"!=typeof t||"butt"!==t&&"round"!==t&&"square"!==t?et(t,'"butt", "round", or "square"',Yi,"strokeCap"):(this.km=t,this.M(),this.g("strokeCap",e,t)))}},strokeJoin:{get:function(){return this.lm},set:function(t){var e=this.lm;e!==t&&("string"!=typeof t||"miter"!==t&&"bevel"!==t&&"round"!==t?et(t,'"miter", "bevel", or "round"',Yi,"strokeJoin"):(this.lm=t,this.M(),this.g("strokeJoin",e,t)))}},strokeMiterLimit:{get:function(){return this.gk},set:function(t){var e=this.gk;if(e!==t&&1<=t){this.gk=t,this.M();var o=this.part;null!==o&&(o.kh=NaN),this.g("strokeMiterLimit",e,t)}}},strokeDashArray:{get:function(){return this.uh},set:function(t){var e=this.uh;if(e!==t){if(null!==t){for(var o=t.length,a=0,u=0;u<o;u++){var c=t[u];0<=c&&isFinite(c)||V("strokeDashArray:value "+c+" at index "+u+" must be a positive number or zero."),a+=c}if(0===a){if(null===e)return;t=null}}this.uh=t,this.M(),this.g("strokeDashArray",e,t)}}},strokeDashOffset:{get:function(){return this.vh},set:function(t){var e=this.vh;e!==t&&0<=t&&(this.vh=t,this.M(),this.g("strokeDashOffset",e,t))}},figure:{get:function(){return this.Yn},set:function(t){var e=this.Yn;if(e!==t){var o=me.Qe[t];"function"==typeof o?o=t:(o=me.Qe[t.toLowerCase()])||V("Unknown Shape.figure: "+t),e!==o&&(null!==(t=this.part)&&(t.kh=NaN),this.Yn=o,this.Ed=null,this.dc(),this.s(),this.g("figure",e,o))}}},toArrow:{get:function(){return this.rm},set:function(t){var e=this.rm;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){var o=y0(t);null===o?V("Unknown Shape.toArrow: "+t):e!==o&&(this.rm=o,this.Ed=null,this.dc(),this.s(),rp(this),this.g("toArrow",e,o))}}},fromArrow:{get:function(){return this.ul},set:function(t){var e=this.ul;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){var o=y0(t);null===o?V("Unknown Shape.fromArrow: "+t):e!==o&&(this.ul=o,this.Ed=null,this.dc(),this.s(),rp(this),this.g("fromArrow",e,o))}}},spot1:{get:function(){return this.pf},set:function(t){var e=this.pf;e.w(t)||(this.pf=t=t.H(),this.s(),this.g("spot1",e,t))}},spot2:{get:function(){return this.qf},set:function(t){var e=this.qf;e.w(t)||(this.qf=t=t.H(),this.s(),this.g("spot2",e,t))}},parameter1:{get:function(){return this.sp},set:function(t){var e=this.sp;e!==t&&(this.sp=t,this.dc(),this.s(),this.g("parameter1",e,t))}},parameter2:{get:function(){return this.tp},set:function(t){var e=this.tp;e!==t&&(this.tp=t,this.dc(),this.s(),this.g("parameter2",e,t))}},naturalBounds:{get:function(){var t=this.desiredSize;return t.o()||null===this.na?new te(0,0,t.width,t.height):(this.rc.assign(this.na.bounds),this.rc)}},pathPattern:{get:function(){return this.wp},set:function(t){var e=this.wp;e!==t&&(this.wp=t,this.M(),this.g("pathPattern",e,t))}},geometryStretch:{get:function(){return this.ho},set:function(t){var e=this.ho;e!==t&&(this.ho=t,this.s(),this.g("geometryStretch",e,t))}},interval:{get:function(){return this.Yd},set:function(t){var e=this.Yd;if(e!==(t=Math.round(t))&&0!==t&&isFinite(t)){this.Yd=t;var o=this.diagram;null!==o&&this.panel===o.grid&&rc(o),this.s(),null!==(o=this.panel)&&(o.eh=null),this.g("interval",e,t)}}},graduatedStart:{get:function(){return this.Wd},set:function(t){var e=this.Wd;e!==t&&(0>t?t=0:1<t&&(t=1),this.Wd=t,this.s(),this.g("graduatedStart",e,t))}},graduatedEnd:{get:function(){return this.Ud},set:function(t){var e=this.Ud;e!==t&&(0>t?t=0:1<t&&(t=1),this.Ud=t,this.s(),this.g("graduatedEnd",e,t))}},graduatedSkip:{get:function(){return this.Vd},set:function(t){var e=this.Vd;e!==t&&(this.Vd=t,this.s(),this.g("graduatedSkip",e,t))}}}),Yi.prototype.intersectsRect=Yi.prototype.Mc,Yi.prototype.containedInRect=Yi.prototype.Jh,Yi.prototype.getNearestIntersectionPoint=Yi.prototype.Nt,Yi.prototype.getDocumentBounds=Yi.prototype.mj,Yi.prototype.getDocumentPoint=Yi.prototype.da;var Ya=new It,Hy=new It;function $n(){Ri.call(this),xv||(ia=ol?new da(null).context:null,xv=!0),this.Jx=this.Ub="",this.Hc="black",this.ne="13px sans-serif",this.Vi="start",this.Td=qn,this.aj=ax,this.Pj=!0,this.Ai=this.Bi=!1,this.mg=Wy,this.zg=gv,this.us=this.vb=this.Zc=0,this.ev=this.fv=null,this.Vn=!1,this.ld=this.xn=this.iq=this.Wi=this.jq=null,this.nf=this.mf=0,this.ti=Ur,this.ve=1/0,this.Ei=0,this.oe=null,this.Be=0,this.me=this.lb=this.Qb=null,this.Yd=1,this.Wd=0,this.Ud=1,this.Vd=this.Lj=null}function Uy(t,e){t.F=6144|e.F,t.hb=e.opacity,t.mb=e.background,t.ec=e.areaBackground,t.Xc=e.desiredSize.H(),t.fg=e.minSize.H(),t.eg=e.maxSize.H(),t.cg=e.cg.copy(),t.Aa=e.scale,t.Yb=e.angle,t.De=e.stretch,t.jh=e.margin.H(),t.yb=e.alignment.H(),t.$k=e.alignmentFocus.H(),t.am=e.segmentFraction,t.bm=e.segmentOffset.H(),t.cm=e.segmentOrientation,null!==e.Za&&(t.Za=e.Za.copy()),t.em=e.shadowVisible,e instanceof $n&&(t.Ub=e.Ub,t.Hc=e.Hc,t.ne=e.ne,t.Vi=e.Vi,t.Td=e.Td,t.aj=e.aj,t.Pj=e.Pj,t.Bi=e.Bi,t.Ai=e.Ai,t.mg=e.mg,t.zg=e.zg,t.oe=null,t.mf=e.mf,t.nf=e.nf,t.ve=e.ve,t.Ei=e.Ei,t.Yd=e.Yd,t.Wd=e.Wd,t.Ud=e.Ud,t.Lj=e.Lj,t.Vd=e.Vd)}function $a(t,e,o){null===t.me?(t.me=e,t.vb=o):((null===t.lb||null===t.Qb)&&(t.lb=[],t.Qb=[],t.lb.push(t.me),t.Qb.push(t.vb)),t.lb.push(e),t.Qb.push(o))}function Gy(t,e,o,a){var u=t.ti===Ur;u&&(e=e.trim());var c=0,g=t.ne,_=t.mf+t.nf;_=Math.max(0,Am(t)+_);var A=t.mg===vv?mv(g):0;if(t.Zc>=t.ve)null!==a&&a.h(0,_);else if(g=e,t.zg===sp){t.Be=1;var I=Ml(e);if(0===A||I<=o)t.vb=Math.max(t.vb,I),$a(t,e,t.vb),null!==a&&a.h(I,_);else{for(I=Ml((c=su(t,g))+(e=su(t,g=g.substr(c.length))));0<e.length&&I<=o;)I=(c+=e)+(e=su(t,g=g.substr(e.length))),u&&(I=I.trim()),I=Ml(I);for(u&&(e=e.trim()),c+=e,o=Math.max(1,o-A);Ml(c)>o&&1<c.length;)c=c.substr(0,c.length-1);var B=Ml(c+=sl);t.vb=B,$a(t,c,B),null!==a&&a.h(B,_)}}else{for(A=0,0===g.length&&(A=1,$a(t,g,0));0<g.length;){for(e=su(t,g),g=g.substr(e.length);Ml(e)>o;){var H=1;for(I=Ml(e.substr(0,H)),B=0;I<=o;)H++,B=I,I=Ml(e.substr(0,H));if(1===H){var dt=I;c=Math.max(c,I)}else dt=B,c=Math.max(c,B);if(1>--H&&(H=1),$a(t,e.substr(0,H),dt),A++,e=e.substr(H),t.Zc+A>t.ve)break}for(I=Ml(e+(B=su(t,g)));0<B.length&&I<=o;)I=(e+=B)+(B=su(t,g=g.substr(B.length))),u&&(I=I.trim()),I=Ml(I);if(u&&(e=e.trim()),""!==e&&("\xad"===e[e.length-1]&&(e=e.substring(0,e.length-1)+"\u2010"),0===B.length?(H=I,c=Math.max(c,I)):(H=B=Ml(e),c=Math.max(c,B)),$a(t,e,H),A++,t.Zc+A>t.ve))break}t.Be=Math.min(t.ve,A),t.vb=Math.max(t.vb,c),null!==a&&a.h(t.vb,_*t.Be)}}function su(t,e){if(t.zg===x0)return e.substr(0,1);for(var o=e.length,a=0,u=yb;a<o&&!u.test(e.charAt(a));)a++;for(t.ti===Ax&&(o=Math.min(o,a+1));a<o&&u.test(e.charAt(a));)a++;return a>=e.length?e:e.substr(0,a)}function Ml(t){return null===ia?8*t.length:ia.measureText(t).width}function Am(t){if(null!==t.oe)return t.oe;var e=t.ne;if(null===ia){var o=16;return t.oe=o}return void 0!==Yy[e]&&5e3>Tx?o=Yy[e]:(o=1.3*ia.measureText("M").width,Yy[e]=o,Tx++),t.oe=o}function mv(t){if(null===ia)return 6;if(void 0!==Pm[t]&&5e3>ap)var e=Pm[t];else e=ia.measureText(sl).width,Pm[t]=e,ap++;return e}function Tm(t,e){var o=t.Ub.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),a=t.mf+t.nf;if(a=Math.max(0,Am(t)+a),0===o.length)return t.vb=0,t.Zc=1,a;if(!t.isMultiline){var u=o.indexOf("\n",0);0<=u&&(o=o.substr(0,u))}u=0;for(var g,c=t.Zc=0,_=!1;!_;){if(-1===(g=o.indexOf("\n",c))&&(g=o.length,_=!0),c<=g){if(c=o.substr(c,g-c),t.zg!==sp){t.Be=0;var A=He.alloc();Gy(t,c,e,A),u+=A.height,He.free(A),t.Zc+=t.Be}else Gy(t,c,e,null),u+=a,t.Zc++;t.Zc===t.ve&&(_=!0)}c=g+1}return t.us=u}Yi.className="Shape",Yi.getFigureGenerators=function(){var e,t=new vt;for(e in me.Qe)e!==e.toLowerCase()&&t.add(e,me.Qe[e]);return t.freeze(),t},Yi.defineFigureGenerator=function(t,e){var o=t.toLowerCase(),a=me.Qe;a[t]=e,a[o]=t},Yi.getArrowheadGeometries=function(){var t=new vt;for(a in me.dn)if(void 0===Ya[a]){var e=Nd(me.dn[a],!1);Ya[a]=e,(e=a.toLowerCase())!==a&&(Ya[e]=a)}for(var o in Ya)if(o!==o.toLowerCase()){var a=Ya[o];a instanceof pn&&t.add(o,a)}return t.freeze(),t},Yi.defineArrowheadGeometry=function(t,e){var o;o="string"==typeof e?Nd(e,!1):e,"none"!==(e=t.toLowerCase())&&t!==e||V("Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: "+t);var a=Ya;a[t]=o,a[e]=t},K($n,Ri),$n.prototype.cloneProtected=function(t){Ri.prototype.cloneProtected.call(this,t),t.Ub=this.Ub,t.Jx=this.Jx,t.Hc=this.Hc,t.ne=this.ne,t.Vi=this.Vi,t.Td=this.Td,t.aj=this.aj,t.Pj=this.Pj,t.Bi=this.Bi,t.Ai=this.Ai,t.mg=this.mg,t.zg=this.zg,t.Zc=this.Zc,t.us=this.us,t.vb=this.vb,t.fv=this.fv,t.ev=this.ev,t.Vn=this.Vn,t.jq=this.jq,t.Wi=this.Wi,t.iq=this.iq,t.xn=this.xn,t.ld=this.ld,t.mf=this.mf,t.nf=this.nf,t.ti=this.ti,t.ve=this.ve,t.oe=this.oe,t.Be=this.Be,t.Qb=this.Qb,t.lb=this.lb,t.me=this.me,t.Ei=this.Ei,t.Yd=this.Yd,t.Wd=this.Wd,t.Ud=this.Ud,t.Lj=this.Lj,t.Vd=this.Vd},(ot=$n.prototype).jb=function(t){t.classType===$n?this.wrap=t:Ri.prototype.jb.call(this,t)},ot.toString=function(){return 22<this.Ub.length?'TextBlock("'+this.Ub.substring(0,20)+'"...)':'TextBlock("'+this.Ub+'")'},ot.s=function(){Ri.prototype.s.call(this),this.ev=this.fv=null},ot.ej=function(t,e){if(null!==this.Hc&&0!==this.Ub.length&&null!==this.ne){var o=this.naturalBounds,a=this.actualBounds,u=o.width,c=o.height,g=Am(this),_=t.textAlign=this.Vi,A=e.Gl;"start"===_?_=A?"right":"left":"end"===_&&(_=A?"left":"right"),A=this.Bi;var I=this.Ai;fa(this,t,this.Hc,!0,!1,o,a),(A||I)&&fa(this,t,this.Hc,!1,!1,o,a),a=0,o=!1;var B=at.allocAt(0,0);this.Fd.ta(B);var H=at.allocAt(0,g);this.Fd.ta(H);var dt=B.Ie(H);switch(at.free(B),at.free(H),8>dt*(B=e.scale)*B&&(o=!0),e.Gb!==t&&(o=!1),!1===e.Ke("textGreeking")&&(o=!1),e=this.mf,dt=this.nf,this.flip){case hc:t.translate(u,0),t.scale(-1,1);break;case uc:t.translate(0,c),t.scale(1,-1);break;case ta:t.translate(u,c),t.scale(-1,-1)}if(c>(H=(e+g+dt)*(B=this.Zc))&&(a=(a=this.aj).y*c-a.y*H+a.offsetY),1===B&&null!==this.me)(dt=this.vb)>u&&(dt=u),this.dj(this.me,t,0,a+e,u,g,dt,o,_,A,I);else if(null!==this.Qb&&null!==this.lb)for(H=0;H<B;H++){var bt=this.Qb[H];bt>u&&(bt=u),this.dj(this.lb[H],t,0,a+=e,u,g,bt,o,_,A,I),a+=g+dt}switch(this.flip){case hc:t.scale(-1,1),t.translate(-u,0);break;case uc:t.scale(1,-1),t.translate(0,-c);break;case ta:t.scale(-1,-1),t.translate(-u,-c)}}},ot.dj=function(t,e,o,a,u,c,g,_,A,I,B){var H=0;_?("left"===A?H=0:"right"===A?H=u-g:"center"===A&&(H=(u-g)/2),e.fillRect(o+H,a+.25*c,g,1)):("left"===A?H=0:"right"===A?H=u:"center"===A&&(H=u/2),u=null!==op?op(this,c):.75*c,e.fillText(t,o+H,a+u),0==(t=c/20|0)&&(t=1),"right"===A?H-=g:"center"===A&&(H-=g/2),I&&(A=null!==yc?yc(this,c):.8*c,e.beginPath(),e.lineWidth=t,e.moveTo(o+H,a+A),e.lineTo(o+H+g,a+A),e.stroke()),B&&(e.beginPath(),e.lineWidth=t,a=a+c-c/2.2|0,t%2!=0&&(a+=.5),e.moveTo(o+H,a),e.lineTo(o+H+g,a),e.stroke()))},ot.Hm=function(t,e,o,a){this.Ei=t;var c,u=this.ne;if(null!==ia&&yv!==u&&(yv=ia.font=u),this.vb=this.Be=0,this.me=this.lb=this.Qb=this.oe=null,isNaN(this.desiredSize.width)){if(0===(u=this.Ub.replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length)u=0;else if(this.isMultiline){for(var g=c=0,_=!1;!_;){var A=u.indexOf("\n",g);-1===A&&(A=u.length,_=!0),g=u.substr(g,A-g),this.ti===Ur&&(g=g.trim()),c=Math.max(c,Ml(g)),g=A+1}u=c}else 0<=(c=u.indexOf("\n",0))&&(u=u.substr(0,c)),u=Ml(u);u=Math.min(u,t/this.scale),u=Math.max(8,u)}else u=this.desiredSize.width;if(null!==this.panel&&(u=Math.min(u,this.panel.maxSize.width)),c=Tm(this,u),_=c=isNaN(this.desiredSize.height)?Math.min(c,e/this.scale):this.desiredSize.height,0!==this.vb&&null!==this.Qb&&null!==this.lb&&this.mg===vv&&(e=this.ne,e=this.mg===vv?mv(e):0,A=this.mf+this.nf,A=Math.max(0,Am(this)+A),!((_=Math.min(this.maxLines-1,Math.max(Math.floor(_/A+.01)-1,0)))+1>=this.lb.length))){for(A=this.lb[_],e=Math.max(1,t-e);Ml(A)>e&&1<A.length;)A=A.substr(0,A.length-1);e=Ml(A+=sl),this.lb[_]=A,this.lb=this.lb.slice(0,_+1),this.Qb[_]=e,this.Qb=this.Qb.slice(0,_+1),this.Be=this.lb.length,this.vb=Math.max(this.vb,e),this.Zc=this.Be,1===this.Zc&&(this.me=this.lb[0])}(this.wrap===vb||isNaN(this.desiredSize.width))&&(u=isNaN(t)?this.vb:Math.min(t,this.vb),isNaN(this.desiredSize.width)&&(u=Math.max(8,u))),u=Math.max(o,u),c=Math.max(a,c),Ie(this.rc,u,c),zl(this,0,0,u,c)},ot.Ih=function(t,e,o,a){tv(this,t,e,o,a)},W.Object.defineProperties($n.prototype,{font:{get:function(){return this.ne},set:function(t){var e=this.ne;e!==t&&(this.ne=t,this.oe=null,this.s(),this.g("font",e,t))}},text:{get:function(){return this.Ub},set:function(t){var e=this.Ub;e!==(t=null!=t?t.toString():"")&&(this.Ub=t,this.s(),this.g("text",e,t))}},textAlign:{get:function(){return this.Vi},set:function(t){var e=this.Vi;e===t||"start"!==t&&"end"!==t&&"left"!==t&&"right"!==t&&"center"!==t||(this.Vi=t,this.M(),this.g("textAlign",e,t))}},flip:{get:function(){return this.Td},set:function(t){var e=this.Td;e!==t&&(this.Td=t,this.M(),this.g("flip",e,t))}},verticalAlignment:{get:function(){return this.aj},set:function(t){var e=this.aj;e.w(t)||(this.aj=t=t.H(),$u(this),this.g("verticalAlignment",e,t))}},naturalBounds:{get:function(){if(!this.rc.o()){var t=He.alloc();Gy(this,this.Ub,999999,t);var e=t.width;He.free(t),t=Tm(this,e);var o=this.desiredSize;isNaN(o.width)||(e=o.width),isNaN(o.height)||(t=o.height),Ie(this.rc,e,t)}return this.rc}},isMultiline:{get:function(){return this.Pj},set:function(t){var e=this.Pj;e!==t&&(this.Pj=t,this.s(),this.g("isMultiline",e,t))}},isUnderline:{get:function(){return this.Bi},set:function(t){var e=this.Bi;e!==t&&(this.Bi=t,this.M(),this.g("isUnderline",e,t))}},isStrikethrough:{get:function(){return this.Ai},set:function(t){var e=this.Ai;e!==t&&(this.Ai=t,this.M(),this.g("isStrikethrough",e,t))}},wrap:{get:function(){return this.zg},set:function(t){var e=this.zg;e!==t&&(this.zg=t,this.s(),this.g("wrap",e,t))}},overflow:{get:function(){return this.mg},set:function(t){var e=this.mg;e!==t&&(this.mg=t,this.s(),this.g("overflow",e,t))}},stroke:{get:function(){return this.Hc},set:function(t){var e=this.Hc;e!==t&&(null!==t&&Zu(t,"TextBlock.stroke"),t instanceof Dn&&t.freeze(),this.Hc=t,this.M(),this.g("stroke",e,t))}},lineCount:{get:function(){return this.Zc}},editable:{get:function(){return this.Vn},set:function(t){var e=this.Vn;e!==t&&(this.Vn=t,this.g("editable",e,t))}},textEditor:{get:function(){return this.jq},set:function(t){var e=this.jq;e!==t&&(this.jq=t,this.g("textEditor",e,t))}},errorFunction:{get:function(){return this.ld},set:function(t){var e=this.ld;e!==t&&(this.ld=t,this.g("errorFunction",e,t))}},interval:{get:function(){return this.Yd},set:function(t){var e=this.Yd;if(e!==(t=Math.round(t))&&0!==t&&isFinite(t)){this.Yd=t,this.s();var o=this.panel;null!==o&&(o.eh=null),this.g("interval",e,t)}}},graduatedStart:{get:function(){return this.Wd},set:function(t){var e=this.Wd;e!==t&&(0>t?t=0:1<t&&(t=1),this.Wd=t,this.s(),this.g("graduatedStart",e,t))}},graduatedEnd:{get:function(){return this.Ud},set:function(t){var e=this.Ud;e!==t&&(0>t?t=0:1<t&&(t=1),this.Ud=t,this.s(),this.g("graduatedEnd",e,t))}},graduatedFunction:{get:function(){return this.Lj},set:function(t){var e=this.Lj;e!==t&&(this.Lj=t,this.s(),this.g("graduatedFunction",e,t))}},graduatedSkip:{get:function(){return this.Vd},set:function(t){var e=this.Vd;e!==t&&(this.Vd=t,this.s(),this.g("graduatedSkip",e,t))}},textValidation:{get:function(){return this.Wi},set:function(t){var e=this.Wi;e!==t&&(this.Wi=t,this.g("textValidation",e,t))}},textEdited:{get:function(){return this.iq},set:function(t){var e=this.iq;e!==t&&(this.iq=t,this.g("textEdited",e,t))}},spacingAbove:{get:function(){return this.mf},set:function(t){var e=this.mf;e!==t&&(this.mf=t,this.s(),this.g("spacingAbove",e,t))}},spacingBelow:{get:function(){return this.nf},set:function(t){var e=this.nf;e!==t&&(this.nf=t,this.s(),this.g("spacingBelow",e,t))}},formatting:{get:function(){return this.ti},set:function(t){var e=this.ti;e!==t&&(this.ti=t,this.s(),this.g("formatting",e,t))}},maxLines:{get:function(){return this.ve},set:function(t){var e=this.ve;e!==t&&(0>=(t=Math.floor(t))&&et(t,"> 0",$n,"maxLines"),this.ve=t,this.s(),this.g("maxLines",e,t))}},metrics:{get:function(){return{arrSize:null!==this.Qb?this.Qb:[this.vb],arrText:null!==this.lb?this.lb:[this.me],maxLineWidth:this.vb,fontHeight:this.oe}}},choices:{get:function(){return this.xn},set:function(t){var e=this.xn;e!==t&&(this.xn=t,this.g("choices",e,t))}}});var op=null,yc=null,sp=new wt($n,"None",0),vb=new wt($n,"WrapFit",1),gv=new wt($n,"WrapDesiredSize",2),x0=new wt($n,"WrapBreakAll",3),Wy=new wt($n,"OverflowClip",0),vv=new wt($n,"OverflowEllipsis",1),Ur=new wt($n,"FormatTrim",0),Ax=new wt($n,"FormatNone",0),yb=/[ \u200b\u00ad]/,Yy=new It,Tx=0,Pm=new It,ap=0,sl="...",yv="",ia=null,xv=!1;function lp(){this.Qb=[],this.lb=[]}function Ws(){Ri.call(this),this.Zg=null,this.$p="",this.th=In,this.yl=qr,this.xh=this.ld=null,this.xl=Vi,this.Td=qn,this.nm=null,this.uo=!1,this.Yr=!0,this.Ol=!1,this.gm=null}function Ju(t){void 0===t&&(t=""),""!==t?x[t]&&(delete x[t],f--):(x=new It,f=0)}function Px(t,e){e.fz||(e.dv=function(o){e.ls=!0,e.ro=!1;var a=e.Wg.copy();if(null!=a){for(a=a.iterator;a.next();){var u=a.value,c=e.getAttribute("src"),g=u.pg.G(c);if(null!==g)for(var _=g.length,A=0;A<_;A++)u.Wl.add(c=g[A]),u.Db(),e.io&&(void 0===e.ov&&(e.ov=o),null!==c.xh&&c.xh(c,o))}e.Wg=null}t.desiredSize.o()||(Aa(t,!1),t.s())},e.Pu=function(o){e.ro=o;var a=e.Wg.copy();if(null!=a){for(a=a.iterator;a.next();){var u=a.value,c=e.getAttribute("src"),g=u.pg.G(c);if(null!==g){u=g.length,c=h();for(var _=0;_<u;_++)c.push(g[_]);if(e.io)for(_=0;_<u;_++)null!==(g=c[_]).ld&&g.ld(g,o);m(c)}}e.Wg=null}},e.addEventListener("load",e.dv),e.addEventListener("error",e.Pu),e.fz=!0)}function ld(t){t.removeEventListener("load",t.dv),t.removeEventListener("error",t.Pu),delete t.dv,delete t.Pu}$n.className="TextBlock",$n.getEllipsis=function(){return sl},$n.setEllipsis=function(t){sl=t,Pm=new It,ap=0},$n.getBaseline=function(){return op},$n.setBaseline=function(t){op=t},$n.getUnderline=function(){return yc},$n.setUnderline=function(t){yc=t},$n.isValidFont=function(t){if(xv||(ia=ol?new da(null).context:null,xv=!0),null===ia)return!0;var e=ia.font;if(t===e||"10px sans-serif"===t)return!0;ia.font="10px sans-serif",ia.font=t;var o=ia.font;if("10px sans-serif"!==o)return ia.font=e,!0;ia.font="19px serif";var a=ia.font;return ia.font=t,o=ia.font,ia.font=e,o!==a},$n.None=sp,$n.WrapFit=vb,$n.WrapDesiredSize=gv,$n.WrapBreakAll=x0,$n.OverflowClip=Wy,$n.OverflowEllipsis=vv,lp.prototype.reset=function(){this.Qb=[],this.lb=[]},lp.prototype.gy=function(t){this.Qb=Dt(t.Qb),this.lb=Dt(t.lb)},lp.className="TextBlockMetrics",K(Ws,Ri),Ws.prototype.cloneProtected=function(t){Ri.prototype.cloneProtected.call(this,t),t.element=this.Zg,t.$p=this.$p,t.th=this.th.H(),t.yl=this.yl,t.Td=this.Td,t.ld=this.ld,t.xh=this.xh,t.xl=this.xl.H(),t.Yr=this.Yr,t.gm=this.gm},Ws.prototype.jb=function(t){t===qn||t===Vs||t===Qg?this.imageStretch=t:Ri.prototype.jb.call(this,t)},Ws.prototype.toString=function(){return"Picture("+this.source+")#"+we(this)},Ws.prototype.QA=function(){if(""!==this.source){Ju(this.source);var t=this.source;this.source="",this.source=t}},Ws.prototype.redraw=function(){this.M()},Ws.prototype.ej=function(t,e){var o=this.Zg;if(null!==o){var a=o.getAttribute("src");if(!(o instanceof HTMLImageElement&&(null===a||""===a)||o.ro instanceof Event&&t instanceof cf)){a=this.naturalBounds;var u=0,c=0,g=this.uo,_=g?+o.width:o.naturalWidth;if(void 0===_&&o.videoWidth&&(_=o.videoWidth),void 0===(g=g?+o.height:o.naturalHeight)&&o.videoHeight&&(g=o.videoHeight),g=g||a.height,0!==(_=_||a.width)&&0!==g){var A=_,I=g;this.sourceRect.o()&&(u=this.th.x,c=this.th.y,_=this.th.width,g=this.th.height);var B=_,H=g,dt=this.yl,bt=this.xl;switch(dt){case qn:if(this.sourceRect.o())break;B>=a.width&&(u=u+bt.offsetX+(B*bt.x-a.width*bt.x)),H>=a.height&&(c=c+bt.offsetY+(H*bt.y-a.height*bt.y)),_=Math.min(a.width,B),g=Math.min(a.height,H);break;case qr:B=a.width,H=a.height;break;case Vs:case Qg:dt===Vs?(B*=dt=Math.min(a.height/H,a.width/B),H*=dt):dt===Qg&&((B*=dt=Math.max(a.height/H,a.width/B))>=a.width&&(u=(u+bt.offsetX+(B*bt.x-a.width*bt.x)/B)*_),(H*=dt)>=a.height&&(c=(c+bt.offsetY+(H*bt.y-a.height*bt.y)/H)*g),_*=1/(B/a.width),g*=1/(H/a.height),B=a.width,H=a.height)}var pt=B*(dt=this.Af()*e.scale)*H*dt,Rt=_*g/pt,Xt=o.__goCache;if(dt=null,o.ls&&void 0!==Xt&&4<pt&&Rt>w*w)for(null===Xt.cj&&(O(Xt,4,A,I,o),O(Xt,16,A,I,o)),I=(A=Xt.cj).length,pt=0;pt<I&&A[pt].ratio*A[pt].ratio<Rt;pt++)dt=A[pt];if(!e.rl){if(null===this.nm)if(null===this.Zg)this.nm=!1;else{(A=new da(null).context).drawImage(this.Zg,0,0);try{A.getImageData(0,0,1,1).data[3]&&(this.nm=!1),this.nm=!1}catch(ie){this.nm=!0}}if(this.nm)return}switch(A=0,B<a.width&&(A=bt.offsetX+(a.width*bt.x-B*bt.x)),I=0,H<a.height&&(I=bt.offsetY+(a.height*bt.y-H*bt.y)),this.flip){case hc:t.translate(Math.min(a.width,B),0),t.scale(-1,1);break;case uc:t.translate(0,Math.min(a.height,H)),t.scale(1,-1);break;case ta:t.translate(Math.min(a.width,B),Math.min(a.height,H)),t.scale(-1,-1)}if(e.Ke("pictureRatioOptimization")&&!e.yi&&void 0!==Xt&&null!==dt&&1!==dt.ratio){t.save(),e=dt.ratio;try{t.drawImage(dt.source,u/e,c/e,Math.min(dt.source.width,_/e),Math.min(dt.source.height,g/e),A,I,Math.min(a.width,B),Math.min(a.height,H))}catch(ie){this.Yr=!1}t.restore()}else try{t.drawImage(o,u,c,_,g,A,I,Math.min(a.width,B),Math.min(a.height,H))}catch(ie){this.Yr=!1}switch(this.flip){case hc:t.scale(-1,1),t.translate(-Math.min(a.width,B),0);break;case uc:t.scale(1,-1),t.translate(0,-Math.min(a.height,H));break;case ta:t.scale(-1,-1),t.translate(-Math.min(a.width,B),-Math.min(a.height,H))}}}}},Ws.prototype.Hm=function(t,e,o,a){var u=this.desiredSize,c=wl(this,!0),g=this.Zg,_=this.uo;(_||!this.Ol&&g&&g.complete)&&(this.Ol=!0),null===g&&(isFinite(u.width)||(t=0),isFinite(u.height)||(e=0)),isFinite(u.width)||c===qr||c===ro?(isFinite(t)||(t=this.sourceRect.o()?this.sourceRect.width:_?+g.width:g.naturalWidth),o=0):null!==g&&!1!==this.Ol&&(t=this.sourceRect.o()?this.sourceRect.width:_?+g.width:g.naturalWidth),isFinite(u.height)||c===qr||c===Ts?(isFinite(e)||(e=this.sourceRect.o()?this.sourceRect.height:_?+g.height:g.naturalHeight),a=0):null!==g&&!1!==this.Ol&&(e=this.sourceRect.o()?this.sourceRect.height:_?+g.height:g.naturalHeight),isFinite(u.width)&&(t=u.width),isFinite(u.height)&&(e=u.height),u=this.maxSize,c=this.minSize,o=Math.max(o,c.width),a=Math.max(a,c.height),t=Math.min(u.width,t),e=Math.min(u.height,e),t=Math.max(o,t),e=Math.max(a,e),null===g||g.complete||(isFinite(t)||(t=0),isFinite(e)||(e=0)),Ie(this.rc,t,e),zl(this,0,0,t,e)},Ws.prototype.Ih=function(t,e,o,a){tv(this,t,e,o,a)},W.Object.defineProperties(Ws.prototype,{element:{get:function(){return this.Zg},set:function(t){var e=this.Zg;if(e!==t){this.uo=t instanceof HTMLCanvasElement;var o=t instanceof HTMLImageElement;e instanceof HTMLImageElement&&ld(e),null===t||o||t instanceof HTMLVideoElement||this.uo||V("Picture.element must be an instance of Image, Canvas, or Video, not: "+t);var a=this.diagram;null!==a&&lm(a,this),this.Zg=t,null!==t&&o&&void 0===t.Wg&&(t.Wg=new Ht),null!==a&&o&&rf(a,this),null!==t&&(this.uo||!0===t.complete?(t.io&&(t.ro instanceof Event&&null!==this.ld?this.ld(this,t.ro):!0===t.ls&&!t.ro&&null!==this.xh&&t.ov&&this.xh(this,t.ov)),t.ls=!0,this.desiredSize.o()||(Aa(this,!1),this.s())):o&&Px(this,t)),this.g("element",e,t),this.M()}}},source:{get:function(){return this.$p},set:function(t){var e=this.$p;if(e!==t){this.$p=t;var o=x;if(ol){var a=null;if(void 0!==o[t])a=o[t];else if(""!==t){30<f&&(Ju(),o=x),(a=q("img")).io=!0,Px(this,a);var u=this.gm;null!==u&&(a.crossOrigin=u(this)),a.src=t,o[t]=a,f++}this.element=a,null!==a&&void 0===a.__goCache&&(a.__goCache=new E),this.s(),this.M()}this.g("source",e,t)}}},sourceCrossOrigin:{get:function(){return this.gm},set:function(t){if(this.gm!==t&&(this.gm=t,null!==this.element)){var e=this.element.getAttribute("src");null===t&&"string"==typeof e?this.element.crossOrigin=null:null!==t&&(this.element.crossOrigin=t(this)),this.element.src=e}}},sourceRect:{get:function(){return this.th},set:function(t){var e=this.th;e.w(t)||(this.th=t=t.H(),this.M(),this.g("sourceRect",e,t))}},imageStretch:{get:function(){return this.yl},set:function(t){var e=this.yl;e!==t&&(this.yl=t,this.M(),this.g("imageStretch",e,t))}},flip:{get:function(){return this.Td},set:function(t){var e=this.Td;e!==t&&(this.Td=t,this.M(),this.g("flip",e,t))}},imageAlignment:{get:function(){return this.xl},set:function(t){var e=this.xl;e.w(t)||(this.xl=t=t.H(),this.M(),this.g("imageAlignment",e,t))}},errorFunction:{get:function(){return this.ld},set:function(t){var e=this.ld;e!==t&&(this.ld=t,this.g("errorFunction",e,t))}},successFunction:{get:function(){return this.xh},set:function(t){var e=this.xh;e!==t&&(this.xh=t,this.g("successFunction",e,t))}},naturalBounds:{get:function(){return this.rc}}}),Ws.prototype.redraw=Ws.prototype.redraw,Ws.prototype.reloadSource=Ws.prototype.QA;var x=null,f=0,w=4;function E(){this.cj=null}function O(t,e,o,a,u){null===t.cj&&(t.cj=[]);var c=new da(null),g=c.context,_=1/e;c.width=o/e,c.height=a/e,0!==c.width&&0!==c.height&&(e=new L(c.Ja,e),o=1,0<t.cj.length&&(u=(o=t.cj[t.cj.length-1]).source,o=o.ratio),g.setTransform(_*o,0,0,_*o,0,0),g.drawImage(u,0,0),t.cj.push(e))}function L(t,e){this.source=t,this.ratio=e}function F(){this.Kt=new pn,this.ic=null}function st(t,e,o,a,u){t.ic=new qo,t.ic.startX=e,t.ic.startY=o,t.ic.isFilled=a,t.Kt.figures.add(t.ic),void 0!==u&&(t.ic.isShadowed=u)}function ft(t){var e=t.ic.segments.length;0<e&&t.ic.segments.J(e-1).close()}function lt(t,e,o,a,u,c,g){var _;void 0===_&&(_=!1);var A=new Vn(Vo);A.point1X=e,A.point1Y=o,A.point2X=a,A.point2Y=u,A.endX=c,A.endY=g,_&&A.close(),t.ic.segments.add(A)}function yt(t,e,o,a,u){var c;void 0===c&&(c=!1);var g=new Vn(Sa);g.point1X=e,g.point1Y=o,g.endX=a,g.endY=u,c&&g.close(),t.ic.segments.add(g)}function Ct(t,e,o,a,u,c,g,_){var A;void 0===A&&(A=!1),e=new Vn(qs,g,_,e,o,a,u,c),A&&e.close(),t.ic.segments.add(e)}function Lt(t){var e=zt;return null!==e?(zt=null,e.reset(t),e):((e=new F).reset(t),e)}Ws.className="Picture",x=new It,Ws.clearCache=Ju,E.className="PictureCacheArray",L.className="PictureCacheInstance",F.prototype.reset=function(t){null!==t?(t.ea(),this.Kt=t,t.figures.clear()):this.Kt=new pn,this.ic=null},F.prototype.Ym=function(t){this.ic.isShadowed=t},F.prototype.moveTo=function(t,e,o){void 0===o&&(o=!1);var a=new Vn(Br);a.endX=t,a.endY=e,o&&a.close(),this.ic.segments.add(a)},F.prototype.lineTo=function(t,e,o){void 0===o&&(o=!1);var a=new Vn(fo);a.endX=t,a.endY=e,o&&a.close(),this.ic.segments.add(a)},F.prototype.arcTo=function(t,e,o,a,u,c,g){void 0===c&&(c=0),void 0===g&&(g=!1);var _=new Vn(jn);_.startAngle=t,_.sweepAngle=e,_.centerX=o,_.centerY=a,_.radiusX=u,_.radiusY=0!==c?c:u,g&&_.close(),this.ic.segments.add(_)};var zt=null;function Wt(t,e){var o=t.toLowerCase(),a=me.Qe;a[t]=e,a[o]=t}function Bt(t){Ke.call(this,t),this.D=2408959,this.ih=this.Nf="",this.Gp=this.Cp=this.Rp=this.Ho=null,this.Tp="",this.Lf=this.so=this.Sp=this.sh=null,this.Ep="",this.Dp=Se,this.Ub=this.Hp="",this.Fi=this.An=this.mi=null,this.dg=new at(NaN,NaN).freeze(),this.Oo="",this.cf=null,this.Po=ar,this.Ip=Os,this.Yo=Ui,this.Qo=mi,this.Sn=null,this.Io=127,this.Xp=bi,this.Wp="gray",this.ug=4,this.zx=-1,this.tq=NaN,this.ez=new te,this.Xj=null,this.kh=NaN}function Qt(t){0!=(16384&t.D)&&(t.updateAdornments(),t.D&=-16385)}function le(t){if(!1===ze(t)){Oe(t,!0),t.Fl();var e=t.diagram;null!==e&&(e.wd.add(t),e.Db())}}function ue(t){if(t.D|=2097152,!1!==ze(t)){var e=t.position,o=t.location;o.o()&&e.o()||je(t,e,o),o=t.xb;var a=te.alloc().assign(o);o.ea(),o.x=e.x,o.y=e.y,o.freeze(),t.Im(a,o),te.free(a),Oe(t,!1)}}function xe(t,e){var o=t.ez;isNaN(t.kh)&&(t.kh=gb(t));var a=t.kh,u=2*a;if(!t.isShadowed)return o.h(e.x-1-a,e.y-1-a,e.width+2+u,e.height+2+u),o;a=e.x,u=e.y;var c=e.width;e=e.height;var g=t.shadowBlur;return c+=g,e+=g,a-=g/2,u-=g/2,0<(t=t.shadowOffset).x?c+=t.x:(a+=t.x,c-=t.x),0<t.y?e+=t.y:(u+=t.y,e-=t.y),o.h(a-1,u-1,c+2,e+2),o}function Be(t,e,o,a){null===e||t instanceof si||(e=e.animationManager).ef&&jg(e,t,a.copy(),o.copy())}function je(t,e,o){var a=at.alloc(),u=t.locationSpot,c=t.locationObject;u.nc()&&V("determineOffset: Part's locationSpot must be real: "+u.toString());var g=c.naturalBounds,_=c instanceof Yi?c.strokeWidth:0;if(a.Uk(0,0,g.width+_,g.height+_,u),c!==t)for(a.offset(-_/2,-_/2),c.transform.ta(a),u=c.panel;null!==u&&u!==t;)u.transform.ta(a),u=u.panel;t.cg.ta(a),a.offset(-t.qc.x,-t.qc.y),u=t.diagram,c=o.o(),g=e.o(),c&&g?0!=(2097152&t.D)?ye(t,e,o,u,a):Ve(t,e,o,u,a):c?ye(t,e,o,u,a):g&&Ve(t,e,o,u,a),t.D|=2097152,at.free(a),t.Fl()}function ye(t,e,o,a,u){var c=e.x,g=e.y;e.h(o.x-u.x,o.y-u.y),null!==a&&((a=(o=a.animationManager).defaultAnimation.isAnimating)||!o.ef||t instanceof si||jg(o,t,new at(c,g),e),a||e.x===c&&e.y===g||t.g("position",new at(c,g),e.copy()))}function Ve(t,e,o,a,u){var c=o.copy();o.h(e.x+u.x,e.y+u.y),o.w(c)||null===a||t.g("location",c,o.copy())}function De(t,e,o){Ze(t,!1),t instanceof Ne&&qd(o,t),t.layer.isTemporary||e||o.Na(),e=t.xb;var a=o.viewportBounds;a.o()?Le(t)?(oi(e,a)||t.Nd(!1),t.updateAdornments()):e.Mc(a)?(t.Nd(!0),t.updateAdornments()):t.Lb():o.xi=!0}function Ye(t,e,o,a){e.constructor===t.constructor||Ei||(Ei=!0,rt('Should not change the class of the Part when changing category from "'+o+'" to "'+a+'"'),rt("  Old class: "+y(t.constructor)+", new class: "+y(e.constructor)+", part: "+t.toString())),t.nk();var u=t.data;o=t.layerName;var c=t.isSelected,g=t.isHighlighted,_=!0,A=!0,I=!1;t instanceof Ne&&(_=t.isTreeLeaf,A=t.isTreeExpanded,I=t.wasTreeExpanded),e.yf(t),e.cloneProtected(t),t.Nf=a,t.s(),t.M(),a=!0,null!==(e=t.diagram)&&(a=e.skipsUndoManager,e.skipsUndoManager=!0),t.ob=u,t.D=c?4096|t.D:-4097&t.D,t.D=g?524288|t.D:-524289&t.D,t instanceof Ne&&(t.P=_?4|t.P:-5&t.P,t.P=A?1|t.P:-2&t.P,t.P=I?2|t.P:-3&t.P),null!==u&&t.Ea(),(u=t.layerName)!==o&&(t.ih=o,t.layerName=u),null!==e&&(e.skipsUndoManager=a),t.Nc()&&t.C(64)}function ze(t){return 0!=(32768&t.D)}function Oe(t,e){t.D=e?32768|t.D:-32769&t.D}function Ze(t,e){t.D=e?65536|t.D:-65537&t.D}function Le(t){return 0!=(131072&t.D)}function Mi(t,e){t.D=e?1048576|t.D:-1048577&t.D}function hi(t,e){var o=e.containingGroup;return null!==o?1+hi(t,o):e instanceof Ne&&null!==(e=e.labeledLink)?hi(t,e):0}function Ci(t,e){var o=e.containingGroup;return null!==o||e instanceof Ne&&null!==(o=e.labeledLink)?Ci(t,o):e}function fi(t,e,o){if(e===o||null===o)return!1;var a=e.containingGroup;return!(null===a||a!==o&&!fi(t,a,o))||e instanceof Ne&&null!==(e=e.labeledLink)&&fi(t,e,o)}function xi(t){return!(!t.isVisible()||null!==(t=t.layer)&&t.isTemporary)}function Li(t,e,o,a,u,c){if(void 0===c&&(c=null),!(t.contains(e)||null!==c&&!c(e)||e instanceof si))if(t.add(e),e instanceof Ne){if(o&&e instanceof ai)for(var g=e.memberParts;g.next();)Li(t,g.value,o,a,u,c);if(!1!==u)for(g=e.linksConnected;g.next();){var _=g.value;if(!t.contains(_)){var A=_.fromNode,I=_.toNode;A=null===A||t.contains(A),I=null===I||t.contains(I),(u?A&&I:A||I)&&Li(t,_,o,a,u,c)}}if(1<a)for(e=e.Wv();e.next();)Li(t,e.value,o,a-1,u,c)}else if(e instanceof We)for(e=e.labelNodes;e.next();)Li(t,e.value,o,a,u,c)}F.className="StreamGeometryContext",Wt("Rectangle",function(t,e,o){var a=me.Uh[t="r"+e+","+o];return void 0!==a||((a=new pn(rs)).endX=e,a.endY=o,50>me.Vh&&(me.Uh[t]=a,me.Vh++)),a}),Wt("Square",function(t,e,o){var a=me.Uh[t="s"+e+","+o];return void 0!==a||((a=new pn(rs)).endX=e,a.endY=o,a.defaultStretch=Vs,50>me.Vh&&(me.Uh[t]=a,me.Vh++)),a}),Wt("RoundedRectangle",function(t,e,o){var a=t?t.parameter1:NaN;return(isNaN(a)||0>a)&&(a=5),a=Math.min(a,e/3),t=(a=Math.min(a,o/3))*me.Kg,e=(new pn).add(new qo(a,0,!0).add(new Vn(fo,e-a,0)).add(new Vn(Vo,e,a,e-t,0,e,t)).add(new Vn(fo,e,o-a)).add(new Vn(Vo,e-a,o,e,o-t,e-t,o)).add(new Vn(fo,a,o)).add(new Vn(Vo,0,o-a,t,o,0,o-t)).add(new Vn(fo,0,a)).add(new Vn(Vo,a,0,0,t,t,0).close())),1<t&&(e.spot1=new ki(0,0,t,t),e.spot2=new ki(1,1,-t,-t)),e}),Wt("Border","RoundedRectangle"),Wt("Ellipse",function(t,e,o){var a=me.Uh[t="e"+e+","+o];return void 0!==a||((a=new pn(wu)).endX=e,a.endY=o,a.spot1=lx,a.spot2=ux,50>me.Vh&&(me.Uh[t]=a,me.Vh++)),a}),Wt("Circle",function(t,e,o){var a=me.Uh[t="c"+e+","+o];return void 0!==a||((a=new pn(wu)).endX=e,a.endY=o,a.spot1=lx,a.spot2=ux,a.defaultStretch=Vs,50>me.Vh&&(me.Uh[t]=a,me.Vh++)),a}),Wt("TriangleRight",function(t,e,o){return(new pn).add(new qo(0,0).add(new Vn(fo,e,.5*o)).add(new Vn(fo,0,o).close())).Zm(0,.25,.5,.75)}),Wt("TriangleDown",function(t,e,o){return(new pn).add(new qo(0,0).add(new Vn(fo,e,0)).add(new Vn(fo,.5*e,o).close())).Zm(.25,0,.75,.5)}),Wt("TriangleLeft",function(t,e,o){return(new pn).add(new qo(e,o).add(new Vn(fo,0,.5*o)).add(new Vn(fo,e,0).close())).Zm(.5,.25,1,.75)}),Wt("TriangleUp",function(t,e,o){return(new pn).add(new qo(e,o).add(new Vn(fo,0,o)).add(new Vn(fo,.5*e,0).close())).Zm(.25,.5,.75,1)}),Wt("Triangle","TriangleUp"),Wt("Diamond",function(t,e,o){return(new pn).add(new qo(.5*e,0).add(new Vn(fo,0,.5*o)).add(new Vn(fo,.5*e,o)).add(new Vn(fo,e,.5*o).close())).Zm(.25,.25,.75,.75)}),Wt("LineH",function(t,e,o){return(t=new pn(To)).startX=0,t.startY=o/2,t.endX=e,t.endY=o/2,t}),Wt("LineV",function(t,e,o){return(t=new pn(To)).startX=e/2,t.startY=0,t.endX=e/2,t.endY=o,t}),Wt("None","Rectangle"),Wt("BarH","Rectangle"),Wt("BarV","Rectangle"),Wt("MinusLine","LineH"),Wt("PlusLine",function(t,e,o){return(new pn).add(new qo(0,o/2,!1).add(new Vn(fo,e,o/2)).add(new Vn(Br,e/2,0)).add(new Vn(fo,e/2,o)))}),Wt("XLine",function(t,e,o){return(new pn).add(new qo(0,o,!1).add(new Vn(fo,e,0)).add(new Vn(Br,0,0)).add(new Vn(fo,e,o)))}),me.dn={"":"",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z"},K(Bt,Ke),Bt.prototype.cloneProtected=function(t){Ke.prototype.cloneProtected.call(this,t),t.D=-4097&this.D|49152,t.Nf=this.Nf,t.ih=this.ih,t.Ho=this.Ho,t.Rp=this.Rp,t.Cp=this.Cp,t.Gp=this.Gp,t.Tp=this.Tp,t.Sp=this.Sp,t.so=this.so,t.Lf=null,t.Ep=this.Ep,t.Dp=this.Dp.H(),t.Hp=this.Hp,t.Ip=this.Ip.H(),t.Ub=this.Ub,t.An=this.An,t.dg.assign(this.dg),t.Oo=this.Oo,t.Po=this.Po.H(),t.Yo=this.Yo.H(),t.Qo=this.Qo.H(),t.Sn=this.Sn,t.Io=this.Io,t.Xp=this.Xp.H(),t.Wp=this.Wp,t.ug=this.ug,t.tq=this.tq},Bt.prototype.yf=function(t){Ke.prototype.yf.call(this,t),t.Oh(),t.sh=null,t.cf=null,t.Xj=null},Bt.prototype.toString=function(){var t=y(this.constructor)+"#"+we(this);return null!==this.data&&(t+="("+v(this.data)+")"),t},Bt.prototype.Sk=function(t,e,o,a,u,c,g){var _=this.diagram;null!==_&&(t===Io&&"elements"===e?u instanceof Ke?Ih(u,function(A){Ib(_.partManager,A),Xg(_,A)}):rf(_,u):t===fn&&"elements"===e&&(u instanceof Ke?Ih(u,function(A){jx(_.partManager,A,_)}):lm(_,u)),_.Va(t,e,o,a,u,c,g))},Bt.prototype.Ea=function(t){if(Ke.prototype.Ea.call(this,t),null!==this.data){for(var e=this.W.j,o=e.length,a=0;a<o;a++){var u=e[a];u instanceof Ke&&Ih(u,function(c){null!==c.data&&c.Ea()})}for(e=this.adornments;e.next();)e.value.Ea(t)}},Bt.prototype.updateRelationshipsFromData=function(){null!==this.data&&this.diagram.partManager.updateRelationshipsFromData(this)},Bt.prototype.wk=function(t){var e=this.Lf;return null===e?null:e.G(t)},Bt.prototype.Gh=function(t,e){if(null!==e){var o=null,a=this.Lf;if(null!==a&&(o=a.G(t)),o!==e){if(null!==o){var u=o.diagram;null!==u&&u.remove(o)}null===a&&(this.Lf=a=new vt),e.Nf!==t&&(e.category=t),a.add(t,e),null!==(t=this.diagram)&&(t.add(e),null!==(t=e.adornedObject)&&null!==(t=t.ij())&&(e.data=t.data))}}},Bt.prototype.Hf=function(t){var e=this.Lf;if(null!==e){var o=e.G(t);if(null!==o){var a=o.diagram;null!==a&&a.remove(o)}e.remove(t),0===e.count&&(this.Lf=null)}},Bt.prototype.nk=function(){var t=this.Lf;if(null!==t){var e=h();for(t=t.iterator;t.next();)e.push(t.key);t=e.length;for(var o=0;o<t;o++)this.Hf(e[o]);m(e)}},Bt.prototype.updateAdornments=function(){var t=this.diagram;if(null!==t){for(var e=this.adornments;e.next();){var o=e.value;o.s(),o.placeholder&&o.placeholder.s()}t:{if(this.isSelected&&this.selectionAdorned&&null!==(e=this.selectionObject)&&this.actualBounds.o()&&this.isVisible()&&e.Gf()&&e.actualBounds.o()){if(null===(o=this.wk("Selection"))){if(null===(o=this.selectionAdornmentTemplate)&&(o=this.Ph()?t.linkSelectionAdornmentTemplate:this instanceof ai?t.groupSelectionAdornmentTemplate:t.nodeSelectionAdornmentTemplate),!(o instanceof si))break t;va(o),null!==(o=o.copy())&&(this.Ph()&&this.selectionObject===this.path&&(o.type=Ke.Link),o.adornedObject=e)}if(null!==o){o.type===Ke.Link&&o.s(),this.Gh("Selection",o);break t}}this.Hf("Selection")}for(function(t,e){e.toolManager.mouseDownTools.each(function(o){o.isEnabled&&o.updateAdornments(t)}),e.toolManager.updateAdornments(t)}(this,t),e=this.adornments;e.next();)e.value.Ea()}},Bt.prototype.Lb=function(){var t=this.diagram;null!==t&&(Du(t),0==(16384&this.D)&&(this.D|=16384,t.Db()))},Bt.prototype.move=function(t,e){!0===e?this.location=t:this.position=t},Bt.prototype.moveTo=function(t,e,o){t=at.allocAt(t,e),this.move(t,o),at.free(t)},Bt.prototype.isVisible=function(){if(!this.visible)return!1;var t=this.layer;if(null!==t){if(!t.visible)return!1;if(null!==(t=t.diagram)&&t.animationManager.cu(this))return!0}return!!(null===(t=this.containingGroup)||t.isSubGraphExpanded&&t.isVisible())},(ot=Bt.prototype).Ob=function(t){var e=this.diagram;t?(this.C(4),this.Lb(),null!==e&&e.wd.add(this)):(this.C(8),this.nk()),this.Oh(),null!==e&&(e.Na(),e.M())},ot.bb=function(t){if(this.name===t)return this;var e=this.Xj;if(null===e&&(this.Xj=e=new vt),null!==e.G(t))return e.G(t);var o=Ke.prototype.bb.call(this,t);return null!==o?(e.set(t,o),o):(e.set(t,null),null)},ot.Df=function(t,e,o){void 0===o&&(o=new at),e=e.nc()?Vi:e;var a=t.naturalBounds;if(o.h(a.width*e.x+e.offsetX,a.height*e.y+e.offsetY),null===t||t===this)return o;for(t.transform.ta(o),t=t.panel;null!==t&&t!==this;)t.transform.ta(o),t=t.panel;return this.cg.ta(o),o.offset(-this.qc.x,-this.qc.y),o},ot.mj=function(t){return void 0===t&&(t=new te),t.assign(this.actualBounds)},ot.Ta=function(){!0===dc(this)&&this.measure(1/0,1/0),this.arrange()},Bt.prototype.arrange=function(){if(!1===Wa(this))ue(this);else{Tu(this,!1);var t=this.xb,e=te.alloc();e.assign(t);var o=Le(this);this.Ih(0,0,this.qc.width,this.qc.height);var a=this.position;je(this,a,this.location),t.ea(),t.x=a.x,t.y=a.y,t.freeze(),this.Im(e,t),e.w(t)?this.Nd(o):!this.Nc()||me.A(e.width,t.width)&&me.A(e.height,t.height)||0<=this.zx&&this.C(16),te.free(e),Oe(this,!1)}},(ot=Bt.prototype).Im=function(t,e){var o=this.diagram;if(null!==o){var a=!1;if(!1===o.vi&&t.o()){var u=te.alloc();u.assign(o.documentBounds),u.Jw(o.padding),t.x>u.x&&t.y>u.y&&t.right<u.right&&t.bottom<u.bottom&&e.x>u.x&&e.y>u.y&&e.right<u.right&&e.bottom<u.bottom&&(a=!0),te.free(u)}0==(65536&this.D)&&t.w(e)||De(this,a,o),o.M(),!t.o()&&!e.o()||ci(t,e)||(this instanceof Ne&&!o.undoManager.isUndoingRedoing&&this.sd(),this.Oh())}},ot.Ew=function(t,e){if(this.Ph()||!t.o())return!1;var o=this.diagram;null!==o&&Be(this,o,t,e),this.la=t,this.D&=-2097153;var a=this.dg;return!a.o()||null!==o&&!o.animationManager.isTicking&&o.undoManager.isUndoingRedoing||(o=a.copy(),a.h(a.x+(t.x-e.x),a.y+(t.y-e.y)),this.g("location",o,a.copy())),!1===ze(this)&&!1===Wa(this)&&(le(this),ue(this)),!0},ot.er=function(t,e,o){var a=this.dg,u=this.la;if(o){if(a.x===t&&a.y===e)return;ze(this)||Wa(this)?u.h(NaN,NaN):u.h(u.x+t-a.x,u.y+e-a.y),a.h(t,e)}else{if(u.x===t&&u.y===e)return;ze(this)||Wa(this)?this.lu():a.h(a.x+t-u.x,a.y+e-u.y),u.h(t,e)}le(this)},ot.lu=function(){this.D&=-2097153,le(this)},ot.rj=function(){return!0},ot.Nc=function(){return!0},ot.Ph=function(){return!1},ot.Ff=function(){return!0},Bt.prototype.canCopy=function(){if(!this.copyable)return!1;var t=this.layer;return null===t||!!t.allowCopy&&(null===(t=t.diagram)||!!t.allowCopy)},Bt.prototype.canDelete=function(){if(!this.deletable)return!1;var t=this.layer;return null===t||!!t.allowDelete&&(null===(t=t.diagram)||!!t.allowDelete)},Bt.prototype.canEdit=function(){if(!this.textEditable)return!1;var t=this.layer;return null===t||!!t.allowTextEdit&&(null===(t=t.diagram)||!!t.allowTextEdit)},Bt.prototype.canGroup=function(){if(!this.groupable)return!1;var t=this.layer;return null===t||!!t.allowGroup&&(null===(t=t.diagram)||!!t.allowGroup)},Bt.prototype.canMove=function(){if(!this.movable)return!1;var t=this.layer;return null===t||!!t.allowMove&&(null===(t=t.diagram)||!!t.allowMove)},Bt.prototype.canReshape=function(){if(!this.reshapable)return!1;var t=this.layer;return null===t||!!t.allowReshape&&(null===(t=t.diagram)||!!t.allowReshape)},Bt.prototype.canResize=function(){if(!this.resizable)return!1;var t=this.layer;return null===t||!!t.allowResize&&(null===(t=t.diagram)||!!t.allowResize)},Bt.prototype.canRotate=function(){if(!this.rotatable)return!1;var t=this.layer;return null===t||!!t.allowRotate&&(null===(t=t.diagram)||!!t.allowRotate)},Bt.prototype.canSelect=function(){if(!this.selectable)return!1;var t=this.layer;return null===t||!!t.allowSelect&&(null===(t=t.diagram)||!!t.allowSelect)},(ot=Bt.prototype).Nd=function(t){this.D=t?131072|this.D:-131073&this.D},ot.Oh=function(){var t=this.containingGroup;null!==t&&(t.s(),null!==t.placeholder&&t.placeholder.s(),t.sd())},ot.M=function(){var t=this.diagram;null!==t&&!Wa(this)&&!ze(this)&&this.isVisible()&&this.xb.o()&&t.M(xe(this,this.xb))},ot.s=function(){Ke.prototype.s.call(this);var t=this.diagram;null!==t&&(t.wd.add(this),this instanceof Ne&&null!==this.labeledLink&&$u(this.labeledLink),t.Db(!0))},ot.Mq=function(t){t||null!==(t=this.mi)&&Ae(t,this)},ot.Nq=function(t){t||null!==(t=this.mi)&&Ii(t,this)},ot.uk=function(){var t=this.data;if(null!==t){var e=this.diagram;null!==e&&null!==(e=e.model)&&e.Nm(t)}},ot.bA=function(){return hi(this,this)},ot.eA=function(){return Ci(this,this)},ot.Kd=function(t){return t instanceof ai&&fi(this,this,t)},ot.oy=function(t){if(null===t)return null;if(this===t)return this.containingGroup;for(var e=this;null!==e;){if(e instanceof ai&&Mi(e,!0),e instanceof Ne){var o=e.labeledLink;null!==o&&(e=o)}e=e.containingGroup}for(o=null,e=t;null!==e;){if(0!=(1048576&e.D)){o=e;break}e instanceof Ne&&null!==(t=e.labeledLink)&&(e=t),e=e.containingGroup}for(e=this;null!==e;)e instanceof ai&&Mi(e,!1),e instanceof Ne&&null!==(t=e.labeledLink)&&(e=t),e=e.containingGroup;return o},Bt.prototype.canLayout=function(){if(!this.isLayoutPositioned||!this.isVisible())return!1;var t=this.layer;return!(null!==t&&t.isTemporary||this instanceof Ne&&this.isLinkLabel)},Bt.prototype.C=function(t){if(void 0===t&&(t=16777215),this.isLayoutPositioned&&0!=(t&this.layoutConditions)){var e=this.layer;e=!(null!==e&&e.isTemporary||this instanceof Ne&&this.isLinkLabel)&&!(null!==(e=this.diagram)&&e.undoManager.isUndoingRedoing)}else e=!1;if(e)if(null!==(e=this.mi)){var o=e.layout;null!==o?o.C():e.C(t)}else null!==(t=this.diagram)&&null!==(t=t.layout)&&t.C()},W.Object.defineProperties(Bt.prototype,{key:{get:function(){var t=this.diagram;if(null!==t)return t.model.ja(this.data)}},adornments:{get:function(){return null===this.Lf?Ot:this.Lf.iteratorValues}},layer:{get:function(){return this.Fi}},diagram:{get:function(){var t=this.Fi;return null!==t?t.diagram:null}},layerName:{get:function(){return this.ih},set:function(t){var e=this.ih;if(e!==t){var o=this.diagram;if((null===o||null!==o.xk(t)&&!o.partManager.addsToTemporaryLayer)&&(this.ih=t,null!==o&&o.Na(),this.g("layerName",e,t),null!==(e=this.layer)&&e.name!==t&&null!==(o=e.diagram)&&null!==(t=o.xk(t))&&t!==e)){var a=e.Lc(-1,this,!0);if(0<=a&&o.Va(fn,"parts",e,this,null,a,!0),a=t.oj(99999999,this,!0),e.visible!==t.visible&&this.Ob(t.visible),0<=a&&o.Va(Io,"parts",t,null,this,!0,a),null!==(a=this.layerChanged)){var u=o.Z;o.Z=!0,a(this,e,t),o.Z=u}}}}},layerChanged:{get:function(){return this.Ho},set:function(t){var e=this.Ho;e!==t&&(this.Ho=t,this.g("layerChanged",e,t))}},zOrder:{get:function(){return this.tq},set:function(t){var e=this.tq;if(e!==t){this.tq=t;var o=this.layer;null!==o&&_u(o,-1,this),this.g("zOrder",e,t),null!==(t=this.diagram)&&t.M()}}},locationObject:{get:function(){if(null===this.cf){var t=this.locationObjectName;""!==t?(t=this.bb(t),this.cf=null!==t?t:this):this.cf=this instanceof si&&this.type!==Ke.Link&&null!==this.placeholder?this.placeholder:this}return this.cf.visible?this.cf:this}},minLocation:{get:function(){return this.Yo},set:function(t){var e=this.Yo;e.w(t)||(this.Yo=t=t.H(),this.g("minLocation",e,t))}},maxLocation:{get:function(){return this.Qo},set:function(t){var e=this.Qo;e.w(t)||(this.Qo=t=t.H(),this.g("maxLocation",e,t))}},locationObjectName:{get:function(){return this.Oo},set:function(t){var e=this.Oo;e!==t&&(this.Oo=t,this.cf=null,this.s(),this.g("locationObjectName",e,t))}},locationSpot:{get:function(){return this.Po},set:function(t){var e=this.Po;e.w(t)||(this.Po=t=t.H(),this.s(),this.g("locationSpot",e,t))}},location:{get:function(){return this.dg},set:function(t){var e=t.x,o=t.y,a=this.dg,u=a.x,c=a.y;(u===e||isNaN(u)&&isNaN(e))&&(c===o||isNaN(c)&&isNaN(o))||(e=t=t.copy(),this.Ph()?e=!1:(this.dg=e,this.D|=2097152,!1===Wa(this)&&(le(this),(o=this.la).o()&&(null===(u=this.diagram)||u.animationManager.isTicking||!u.undoManager.isUndoingRedoing))&&(c=o.copy(),o.h(o.x+(e.x-a.x),o.y+(e.y-a.y)),Be(this,u,o,c),this.g("position",c,o.copy())),e=!0),e&&this.g("location",a.copy(),t.copy()))}},category:{get:function(){return this.Nf},set:function(t){var e=this.Nf;if(e!==t){var o=this.diagram,a=this.data,u=null;if(null!==o&&null!==a&&!(this instanceof si)){var c=o.model.undoManager;c.isEnabled&&!c.isUndoingRedoing&&(u=this.clone()).W.addAll(this.W)}this.Nf=t,this.g("category",e,t),null===o||null===a||this instanceof si?this instanceof si&&null!==(u=this.adornedPart)&&(null!==(t=u.Lf)&&t.remove(e),u.Gh(this.category,this)):(c=o.model).undoManager.isUndoingRedoing||(this.Ph()?(o.partManager.setLinkCategoryForData(a,t),null!==(o=o.partManager.findLinkTemplateForCategory(t))&&(va(o),null!==(o=o.copy())&&Ye(this,o,e,t))):(null!==c&&c.Um(a,t),null!==(o=Tb(o.partManager,a,t))&&(va(o),null===(o=o.copy())||o instanceof We||(a=this.location.copy(),Ye(this,o,e,t),this.location.o()||(this.location=a)))),null!==u&&((e=this.clone()).W.addAll(this.W),this.g("self",u,e)))}}},self:{get:function(){return this},set:function(t){Ye(this,t,this.category,t.category)}},copyable:{get:function(){return 0!=(1&this.D)},set:function(t){var e=0!=(1&this.D);e!==t&&(this.D^=1,this.g("copyable",e,t))}},deletable:{get:function(){return 0!=(2&this.D)},set:function(t){var e=0!=(2&this.D);e!==t&&(this.D^=2,this.g("deletable",e,t))}},textEditable:{get:function(){return 0!=(4&this.D)},set:function(t){var e=0!=(4&this.D);e!==t&&(this.D^=4,this.g("textEditable",e,t),this.Lb())}},groupable:{get:function(){return 0!=(8&this.D)},set:function(t){var e=0!=(8&this.D);e!==t&&(this.D^=8,this.g("groupable",e,t))}},movable:{get:function(){return 0!=(16&this.D)},set:function(t){var e=0!=(16&this.D);e!==t&&(this.D^=16,this.g("movable",e,t))}},selectionAdorned:{get:function(){return 0!=(32&this.D)},set:function(t){var e=0!=(32&this.D);e!==t&&(this.D^=32,this.g("selectionAdorned",e,t),this.Lb())}},isInDocumentBounds:{get:function(){return 0!=(64&this.D)},set:function(t){var e=0!=(64&this.D);if(e!==t){this.D^=64;var o=this.diagram;null!==o&&o.Na(),this.g("isInDocumentBounds",e,t)}}},isLayoutPositioned:{get:function(){return 0!=(128&this.D)},set:function(t){var e=0!=(128&this.D);e!==t&&(this.D^=128,this.g("isLayoutPositioned",e,t),this.C(t?4:8))}},selectable:{get:function(){return 0!=(256&this.D)},set:function(t){var e=0!=(256&this.D);e!==t&&(this.D^=256,this.g("selectable",e,t),this.Lb())}},reshapable:{get:function(){return 0!=(512&this.D)},set:function(t){var e=0!=(512&this.D);e!==t&&(this.D^=512,this.g("reshapable",e,t),this.Lb())}},resizable:{get:function(){return 0!=(1024&this.D)},set:function(t){var e=0!=(1024&this.D);e!==t&&(this.D^=1024,this.g("resizable",e,t),this.Lb())}},rotatable:{get:function(){return 0!=(2048&this.D)},set:function(t){var e=0!=(2048&this.D);e!==t&&(this.D^=2048,this.g("rotatable",e,t),this.Lb())}},isSelected:{get:function(){return 0!=(4096&this.D)},set:function(t){var e=0!=(4096&this.D);if(e!==t){var o=this.diagram;if(!t||this.canSelect()&&!(null!==o&&o.selection.count>=o.maxSelectionCount)){this.D^=4096;var a=!1;if(null!==o){a=o.skipsUndoManager,o.skipsUndoManager=!0;var u=o.selection;u.ea(),t?u.add(this):u.remove(this),u.freeze()}this.g("isSelected",e,t),this.Lb(),null!==(t=this.selectionChanged)&&t(this),null!==o&&(o.Db(),o.skipsUndoManager=a)}}}},isHighlighted:{get:function(){return 0!=(524288&this.D)},set:function(t){var e=0!=(524288&this.D);if(e!==t){this.D^=524288;var o=this.diagram;null!==o&&((o=o.highlighteds).ea(),t?o.add(this):o.remove(this),o.freeze()),this.g("isHighlighted",e,t),this.M(),null!==(t=this.highlightedChanged)&&t(this)}}},isShadowed:{get:function(){return 0!=(8192&this.D)},set:function(t){var e=0!=(8192&this.D);e!==t&&(this.D^=8192,this.g("isShadowed",e,t),this.M())}},isAnimated:{get:function(){return 0!=(262144&this.D)},set:function(t){var e=0!=(262144&this.D);e!==t&&(this.D^=262144,this.g("isAnimated",e,t))}},highlightedChanged:{get:function(){return this.so},set:function(t){var e=this.so;e!==t&&(this.so=t,this.g("highlightedChanged",e,t))}},selectionObjectName:{get:function(){return this.Tp},set:function(t){var e=this.Tp;e!==t&&(this.Tp=t,this.sh=null,this.g("selectionObjectName",e,t))}},selectionAdornmentTemplate:{get:function(){return this.Rp},set:function(t){var e=this.Rp;e!==t&&(this.Rp=t,this.g("selectionAdornmentTemplate",e,t))}},selectionObject:{get:function(){if(null===this.sh){var t=this.selectionObjectName;null!==t&&""!==t?(t=this.bb(t),this.sh=null!==t?t:this):this.sh=this instanceof We&&null!==(t=this.path)?t:this}return this.sh}},selectionChanged:{get:function(){return this.Sp},set:function(t){var e=this.Sp;e!==t&&(this.Sp=t,this.g("selectionChanged",e,t))}},resizeAdornmentTemplate:{get:function(){return this.Cp},set:function(t){var e=this.Cp;e!==t&&(this.Cp=t,this.g("resizeAdornmentTemplate",e,t))}},resizeObjectName:{get:function(){return this.Ep},set:function(t){var e=this.Ep;e!==t&&(this.Ep=t,this.g("resizeObjectName",e,t))}},resizeObject:{get:function(){var t=this.resizeObjectName;return""!==t&&null!==(t=this.bb(t))?t:this}},resizeCellSize:{get:function(){return this.Dp},set:function(t){var e=this.Dp;e.w(t)||(this.Dp=t=t.H(),this.g("resizeCellSize",e,t))}},rotateAdornmentTemplate:{get:function(){return this.Gp},set:function(t){var e=this.Gp;e!==t&&(this.Gp=t,this.g("rotateAdornmentTemplate",e,t))}},rotateObjectName:{get:function(){return this.Hp},set:function(t){var e=this.Hp;e!==t&&(this.Hp=t,this.g("rotateObjectName",e,t))}},rotateObject:{get:function(){var t=this.rotateObjectName;return""!==t&&null!==(t=this.bb(t))?t:this}},rotationSpot:{get:function(){return this.Ip},set:function(t){var e=this.Ip;e.w(t)||(this.Ip=t=t.H(),this.g("rotationSpot",e,t))}},text:{get:function(){return this.Ub},set:function(t){var e=this.Ub;e!==t&&(this.Ub=t,this.g("text",e,t))}},containingGroup:{get:function(){return this.mi},set:function(t){if(this.Nc()){var e=this.mi;if(e!==t){null===t||this!==t&&!t.Kd(this)||(this===t&&V("Cannot make a Group a member of itself: "+this.toString()),V("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+t.toString())),this.C(2);var o=this.diagram;if(null!==e?Ii(e,this):this instanceof ai&&null!==o&&o.Dh.remove(this),this.mi=t,null!==t?Ae(t,this):this instanceof ai&&null!==o&&o.Dh.add(this),this.C(1),null!==o&&o.Z){var a=this.data,u=o.model;if(null!==a&&u.Dk()){var c=u.ja(null!==t?t.data:null);u.dr(a,c)}}if(null!==(a=this.containingGroupChanged)&&(u=!0,null!==o&&(u=o.Z,o.Z=!0),a(this,e,t),null!==o&&(o.Z=u)),this instanceof ai)for(Li(o=new Ht,this,!0,0,!0),o=o.iterator;o.next();)if((a=o.value)instanceof Ne)for(a=a.linksConnected;a.next();)Xi(a.value);if(this instanceof Ne){for(o=this.linksConnected;o.next();)Xi(o.value);null!==(o=this.labeledLink)&&Xi(o)}this.g("containingGroup",e,t),null!==t&&null!==(e=t.layer)&&_u(e,-1,t)}}else V("cannot set the Part.containingGroup of a Link or Adornment")}},containingGroupChanged:{get:function(){return this.An},set:function(t){var e=this.An;e!==t&&(this.An=t,this.g("containingGroupChanged",e,t))}},isTopLevel:{get:function(){return!(null!==this.containingGroup||this instanceof Ne&&null!==this.labeledLink)}},layoutConditions:{get:function(){return this.Io},set:function(t){var e=this.Io;e!==t&&(this.Io=t,this.g("layoutConditions",e,t))}},dragComputation:{get:function(){return this.Sn},set:function(t){var e=this.Sn;e!==t&&(this.Sn=t,this.g("dragComputation",e,t))}},shadowOffset:{get:function(){return this.Xp},set:function(t){var e=this.Xp;e.w(t)||(this.Xp=t=t.H(),this.M(),this.g("shadowOffset",e,t))}},shadowColor:{get:function(){return this.Wp},set:function(t){var e=this.Wp;e!==t&&(this.Wp=t,this.M(),this.g("shadowColor",e,t))}},shadowBlur:{get:function(){return this.ug},set:function(t){var e=this.ug;e!==t&&(this.ug=t,this.M(),this.g("shadowBlur",e,t))}}}),Bt.prototype.invalidateLayout=Bt.prototype.C,Bt.prototype.findCommonContainingGroup=Bt.prototype.oy,Bt.prototype.isMemberOf=Bt.prototype.Kd,Bt.prototype.findTopLevelPart=Bt.prototype.eA,Bt.prototype.findSubGraphLevel=Bt.prototype.bA,Bt.prototype.ensureBounds=Bt.prototype.Ta,Bt.prototype.getDocumentBounds=Bt.prototype.mj,Bt.prototype.getRelativePoint=Bt.prototype.Df,Bt.prototype.findObject=Bt.prototype.bb,Bt.prototype.moveTo=Bt.prototype.moveTo,Bt.prototype.invalidateAdornments=Bt.prototype.Lb,Bt.prototype.clearAdornments=Bt.prototype.nk,Bt.prototype.removeAdornment=Bt.prototype.Hf,Bt.prototype.addAdornment=Bt.prototype.Gh,Bt.prototype.findAdornment=Bt.prototype.wk,Bt.prototype.updateTargetBindings=Bt.prototype.Ea;var Ei=!1;function si(t){Bt.call(this,t),this.D&=-257,this.ih="Adornment",this.ie=null,this.Ex=0,this.Sx=!1,this.l=t instanceof Sm?[]:Hi,this.Sa=null}Bt.className="Part",Bt.LayoutNone=0,Bt.LayoutAdded=1,Bt.LayoutRemoved=2,Bt.LayoutShown=4,Bt.LayoutHidden=8,Bt.LayoutNodeSized=16,Bt.LayoutGroupLayout=32,Bt.LayoutNodeReplaced=64,Bt.LayoutStandard=127,Bt.LayoutAll=16777215,K(si,Bt),si.prototype.toString=function(){var t=this.adornedPart;return"Adornment("+this.category+")"+(null!==t?t.toString():"")},si.prototype.updateRelationshipsFromData=function(){},si.prototype.Gk=function(t){var e=this.adornedObject.part;if(e instanceof We&&this.adornedObject instanceof Yi){var o=e.path;e.Gk(t),t=o.geometry,o=(e=this.W.j).length;for(var a=0;a<o;a++){var u=e[a];u.isPanelMain&&u instanceof Yi&&(u.na=t)}}},si.prototype.rj=function(){var t=this.ie;return null===t||null===(t=t.part)||!Wa(t)},si.prototype.Nc=function(){return!1},si.prototype.Sk=function(t,e,o,a,u,c,g){if(t===Io&&"elements"===e){if(u instanceof Ni)null===this.Sa&&(this.Sa=u);else if(u instanceof Ke){var _=u.ym(function(A){return A instanceof Ni});_ instanceof Ni&&null===this.Sa&&(this.Sa=_)}}else t===fn&&"elements"===e&&null!==this.Sa&&(a===this.Sa||a instanceof Ke&&this.Sa.Gg(a))&&(this.Sa=null);Bt.prototype.Sk.call(this,t,e,o,a,u,c,g)},si.prototype.updateAdornments=function(){},si.prototype.uk=function(){},W.Object.defineProperties(si.prototype,{placeholder:{get:function(){return this.Sa}},adornedObject:{get:function(){return this.ie},set:function(t){var e=this.adornedPart,o=null;null!==t&&(o=t.part),null===e||null!==t&&e===o||e.Hf(this.category),this.ie=t,null!==o&&o.Gh(this.category,this)}},adornedPart:{get:function(){var t=this.ie;return null!==t?t.part:null}},containingGroup:{get:function(){return null}}});var Hi=[];function Ne(t){Bt.call(this,t),this.P=13,this.$a=new Vt,this.nq=this.Kl=this.Ii=this.Ko=this.Jo=null,this.cl=Un,this.tc=this.Se=null,this.zp=mo,this.Eh=!1}function zi(t,e){null!==e&&(null===t.Se&&(t.Se=new Ht),t.Se.add(e))}function ji(t,e,o,a){if(null===e||null===t.Se)return null;for(var u=t.Se.iterator;u.next();){var c=u.value;if(c.au===t&&c.lw===e&&c.My===o&&c.Ny===a||c.au===e&&c.lw===t&&c.My===a&&c.Ny===o)return c}return null}function wi(t,e){for(t=t.linksConnected;t.next();){var o=t.value;(o.fromPort===e||o.toPort===e)&&(Oi(o.fromPort),Oi(o.toPort),o.Ua())}}function Oi(t){if(null!==t){var e=t.yp;null!==e&&e.Dm(),null===(e=(t=t.part).containingGroup)||t.isVisible()||Oi(e.port)}}function Gi(t,e,o,a){if(null!==e&&!o.has(e)){o.add(e);var u=!0,c=t.diagram;null!==c&&(u=c.isTreePathToChildren),e.linksConnected.each(function(g){g.isTreeLink?(u?g.fromNode===e:g.toNode===e)&&Gi(t,u?g.toNode:g.fromNode,o,a):a.add(g)})}}function qi(t,e,o){Oi(o);var a=t.$a.contains(e);if(a||t.$a.add(e),!a||e.fromNode===e.toNode){var u=t.linkConnected;if(null!==u){var c=!0,g=t.diagram;null!==g&&(c=g.Z,g.Z=!0),u(t,e,o),null!==g&&(g.Z=c)}}!a&&e.isTreeLink&&(o=e.fromNode,e=e.toNode,null!==o&&null!==e&&o!==e&&(a=!0,null!==(t=t.diagram)&&(a=t.isTreePathToChildren),c=a?o:e,(u=a?e:o).Eh||(u.Eh=c),!c.isTreeLeaf||null!==t&&t.undoManager.isUndoingRedoing||(a?o===c&&(c.isTreeLeaf=!1):e===c&&(c.isTreeLeaf=!1))))}function gn(t,e,o){Oi(o);var a=t.$a.remove(e),u=null;if(a||e.toNode===e.fromNode){var c=t.linkDisconnected;if(u=t.diagram,null!==c){var g=!0;null!==u&&(g=u.Z,u.Z=!0),c(t,e,o),null!==u&&(u.Z=g)}}a&&e.isTreeLink&&(o=!0,null!==u&&(o=u.isTreePathToChildren),t=o?e.toNode:e.fromNode,e=o?e.fromNode:e.toNode,null!==t&&(t.Eh=!1),null===e||e.isTreeLeaf||(0===e.$a.count?(e.Eh=null,null!==u&&u.undoManager.isUndoingRedoing||(e.isTreeLeaf=!0)):mr(e)))}function mr(t){if(t.Eh=!1,0!==t.$a.count){var e=!0,o=t.diagram;if(null===o||!o.undoManager.isUndoingRedoing){for(null!==o&&(e=o.isTreePathToChildren),o=t.$a.iterator;o.next();){var a=o.value;if(a.isTreeLink)if(e){if(a.fromNode===t)return void(t.isTreeLeaf=!1)}else if(a.toNode===t)return void(t.isTreeLeaf=!1)}t.isTreeLeaf=!0}}}function wr(t){null===t.tc?t.tc=new vt:t.tc.clear(),t.an(t,function(e,o){Sn(e,o)}),0===t.tc.count&&t.tc.add("",t)}function Sn(t,e){var o=e.portId;null!==o&&null!==t.tc&&t.tc.add(o,e)}function dn(t,e,o){var a=e.portId;if(null!==a&&(null!==t.tc&&t.tc.remove(a),null!==(e=t.diagram)&&o)){for(o=null,t=t.findLinksConnected(a);t.next();)a=t.value,null===o&&(o=h()),o.push(a);if(null!==o){for(t=0;t<o.length;t++)e.remove(o[t]);m(o)}}}function hr(t,e){return null===(e=e.Fg())?0:1+hr(t,e)}function Xn(t,e,o,a,u,c,g){if(1<a)for(var _=o?t.Fq():t.Hd();_.next();){var A=_.value;A.isTreeLink&&(null===(A=A.Kq(t))||A===t||e.contains(A)||(e.add(A),Xn(A,e,o,a-1,u,c,g)))}else An(t,e,o,u,c,g)}function An(t,e,o,a,u,c){for(var g=u===t||t.isTreeExpanded,_=o?t.Fq():t.Hd();_.next();){var A=_.value;if(A.isTreeLink&&null!==(A=A.Kq(t))&&A!==t){var I=e.contains(A);I||e.add(A),g&&(c&&a.jk(A,u),A.Oh(),A.Ob(!1)),A.isTreeExpanded&&(A.wasTreeExpanded=A.isTreeExpanded,I||An(A,e,o,a,u,c))}}t.isTreeExpanded=!1}function ir(t,e,o,a,u,c,g){for(var _=c!==t&&t.isTreeExpanded,A=o?t.Fq():t.Hd();A.next();){var I=A.value;I.isTreeLink&&(_||I.ud||I.Ua(),null!==(I=I.Kq(t))&&I!==t&&!e.contains(I)&&(e.add(I),_||(I.Ob(!0),I.Oh(),g&&u.lk(I,c)),2<a||I.wasTreeExpanded))&&(I.wasTreeExpanded=!1,ir(I,e,o,a-1,u,c,g))}t.isTreeExpanded=!0}si.className="Adornment",K(Ne,Bt),Ne.prototype.cloneProtected=function(t){Bt.prototype.cloneProtected.call(this,t),t.P=this.P,t.P=-17&this.P,t.Jo=this.Jo,t.Ko=this.Ko,t.Ii=this.Ii,t.nq=this.nq,t.cl=this.cl.H(),t.zp=this.zp},(ot=Ne.prototype).yf=function(t){Bt.prototype.yf.call(this,t),t.sd(),t.Se=this.Se,t.tc=null},ot.xA=function(t,e,o){null==e&&(e=""),null==o&&(o=""),null!==(t=ji(this,t,e,o))&&t.Dm()},ot.Sk=function(t,e,o,a,u,c,g){(t===Io&&"elements"===e||t===fn&&"elements"===e)&&(this.tc=null),Bt.prototype.Sk.call(this,t,e,o,a,u,c,g)},ot.sd=function(t){void 0===t&&(t=null);for(var e=this.linksConnected;e.next();){var o=e.value;null!==t&&t.contains(o)||(Oi(o.fromPort),Oi(o.toPort),o.Ua())}},ot.rj=function(){return!0},Ne.prototype.getAvoidableRect=function(t){return t.set(this.actualBounds),t.uq(this.cl),t},Ne.prototype.findVisibleNode=function(){for(var t=this;null!==t&&!t.isVisible();)t=t.containingGroup;return t},Ne.prototype.isVisible=function(){if(!Bt.prototype.isVisible.call(this))return!1;var t=!0,e=uo,o=this.diagram;if(null!==o){if(o.animationManager.cu(this))return!0;t=o.isTreePathToChildren,e=o.treeCollapsePolicy}if(e===uo){if(null!==(t=this.Fg())&&!t.isTreeExpanded)return!1}else if(e===ac){if(0<(t=t?this.Tv():this.Uv()).count&&t.all(function(a){return!a.isTreeExpanded}))return!1}else if(e===l0&&0<(t=t?this.Tv():this.Uv()).count&&t.any(function(a){return!a.isTreeExpanded}))return!1;return null===(t=this.labeledLink)||t.isVisible()},Ne.prototype.Ob=function(t){Bt.prototype.Ob.call(this,t);for(var e=this.linksConnected;e.next();){var o=e.value;if(t&&null!==this.containingGroup){var a=o.Kq(this);null===a||a.Kd(this.containingGroup)||o.Ua()}o.Ob(t)}},Ne.prototype.py=function(){var t=new Ht,e=new Ht;return Gi(this,this,t,e),e.iterator},Ne.prototype.findLinksConnected=function(t){if(void 0===t&&(t=null),null===t)return this.$a.iterator;var e=new jt(this.$a),o=this;return e.predicate=function(a){return a.fromNode===o&&a.fromPortId===t||a.toNode===o&&a.toPortId===t},e},(ot=Ne.prototype).Fq=function(t){void 0===t&&(t=null);var e=new jt(this.$a),o=this;return e.predicate=function(a){return a.fromNode===o&&(null===t||a.fromPortId===t)},e},ot.Hd=function(t){void 0===t&&(t=null);var e=new jt(this.$a),o=this;return e.predicate=function(a){return a.toNode===o&&(null===t||a.toPortId===t)},e},ot.Sv=function(t){void 0===t&&(t=null);for(var e=null,o=null,a=this.$a.iterator;a.next();){var u=a.value;u.fromNode===this?(null===t||u.fromPortId===t)&&(u=u.toNode,null!==e?e.add(u):null!==o&&o!==u?((e=new Ht).add(o),e.add(u)):o=u):u.toNode!==this||null!==t&&u.toPortId!==t||(u=u.fromNode,null!==e?e.add(u):null!==o&&o!==u?((e=new Ht).add(o),e.add(u)):o=u)}return null!==e?e.iterator:null!==o?new At(o):Ot},ot.Uv=function(t){void 0===t&&(t=null);for(var e=null,o=null,a=this.$a.iterator;a.next();){var u=a.value;u.fromNode!==this||null!==t&&u.fromPortId!==t||(u=u.toNode,null!==e?e.add(u):null!==o&&o!==u?((e=new Ht).add(o),e.add(u)):o=u)}return null!==e?e.iterator:null!==o?new At(o):Ot},ot.Tv=function(t){void 0===t&&(t=null);for(var e=null,o=null,a=this.$a.iterator;a.next();){var u=a.value;u.toNode!==this||null!==t&&u.toPortId!==t||(u=u.fromNode,null!==e?e.add(u):null!==o&&o!==u?((e=new Ht).add(o),e.add(u)):o=u)}return null!==e?e.iterator:null!==o?new At(o):Ot},ot.Xz=function(t,e,o){void 0===e&&(e=null),void 0===o&&(o=null);var a=new jt(this.$a),u=this;return a.predicate=function(c){return!((c.fromNode!==u||c.toNode!==t||null!==e&&c.fromPortId!==e||null!==o&&c.toPortId!==o)&&(c.fromNode!==t||c.toNode!==u||null!==o&&c.fromPortId!==o||null!==e&&c.toPortId!==e))},a},ot.Yz=function(t,e,o){void 0===e&&(e=null),void 0===o&&(o=null);var a=new jt(this.$a),u=this;return a.predicate=function(c){return!(c.fromNode!==u||c.toNode!==t||null!==e&&c.fromPortId!==e||null!==o&&c.toPortId!==o)},a},Ne.prototype.updateRelationshipsFromData=function(){var t=this.diagram;null!==t&&t.partManager.updateRelationshipsFromData(this)},(ot=Ne.prototype).Mq=function(t){Bt.prototype.Mq.call(this,t),t||(mr(this),null!==(t=this.Kl)&&Nn(t,this))},ot.Nq=function(t){Bt.prototype.Nq.call(this,t),t||null!==(t=this.Kl)&&null!==t.nd&&(t.nd.remove(this),t.s())},ot.uk=function(){if(0<this.$a.count){var t=this.diagram;if(null!==t)for(var e=null===t.commandHandler||t.commandHandler.deletesConnectedLinks,o=this.$a.copy().iterator;o.next();){var a=o.value;e?t.remove(a):(a.fromNode===this&&(a.fromNode=null),a.toNode===this&&(a.toNode=null))}}this.labeledLink=null,Bt.prototype.uk.call(this)},ot.Jt=function(t){if(null===this.tc){if(""===t&&!1===this.Nh)return this;wr(this)}var e=this.tc.G(t);return null!==e||""!==t&&null!==(e=this.tc.G(""))?e:this},ot.zA=function(t){if(null===t||t===this)return!1;var e=!0,o=this.diagram;if(null!==o&&(e=o.isTreePathToChildren),o=this,e)for(;o!==t;){e=null;for(var a=o.$a.iterator;a.next();){var u=a.value;if(u.isTreeLink&&(e=u.fromNode)!==o&&e!==this)break}if(e===this||null===e||e===o)return!1;o=e}else for(;o!==t;){for(e=null,a=o.$a.iterator;a.next()&&(!(u=a.value).isTreeLink||(e=u.toNode)===o||e===this););if(e===this||null===e||e===o)return!1;o=e}return!0},ot.iA=function(){var t=!0,e=this.diagram;if(null!==e&&(t=e.isTreePathToChildren),e=this,t)for(;;){t=null;for(var o=e.$a.iterator;o.next();){var a=o.value;if(a.isTreeLink&&(t=a.fromNode)!==e&&t!==this)break}if(t===this)return this;if(null===t||t===e)return e;e=t}else for(;;){for(t=null,o=e.$a.iterator;o.next()&&(!(a=o.value).isTreeLink||(t=a.toNode)===e||t===this););if(t===this)return this;if(null===t||t===e)return e;e=t}},ot.Uz=function(t){if(null===t)return null;if(this===t)return this;for(var e=this;null!==e;)Mi(e,!0),e=e.Fg();var o=null;for(e=t;null!==e;){if(0!=(1048576&e.D)){o=e;break}e=e.Fg()}for(e=this;null!==e;)Mi(e,!1),e=e.Fg();return o},ot.jj=function(){var t=!0,e=this.diagram;if(null!==e&&(t=e.isTreePathToChildren),e=this.$a.iterator,t){for(;e.next();)if((t=e.value).isTreeLink&&t.fromNode!==this)return t}else for(;e.next();)if((t=e.value).isTreeLink&&t.toNode!==this)return t;return null},ot.Fg=function(){var t=this.Eh;if(null===t)return null;if(t instanceof Ne)return t;var e=!0;if(null!==(t=this.diagram)&&(e=t.isTreePathToChildren),t=this.$a.iterator,e){for(;t.next();)if((e=t.value).isTreeLink&&(e=e.fromNode)!==this)return this.Eh=e}else for(;t.next();)if((e=t.value).isTreeLink&&(e=e.toNode)!==this)return this.Eh=e;return this.Eh=null},ot.gA=function(){var e=new Ht;return function t(o,a){if(null!==o){a.add(o);var u=o.jj();null!==u&&(a.add(u),t(o.Fg(),a))}}(this,e),e},ot.fA=function(){return hr(this,this)},ot.Hq=function(){var t=!0,e=this.diagram;null!==e&&(t=e.isTreePathToChildren),e=new jt(this.$a);var o=this;return e.predicate=t?function(a){return!(!a.isTreeLink||a.fromNode!==o)}:function(a){return!(!a.isTreeLink||a.toNode!==o)},e},ot.Wv=function(){var t=!0,e=this.diagram;null!==e&&(t=e.isTreePathToChildren);var o=e=null,a=this.$a.iterator;if(t)for(;a.next();)(t=a.value).isTreeLink&&t.fromNode===this&&(t=t.toNode,null!==e?e.add(t):null!==o&&o!==t?((e=new Vt).add(o),e.add(t)):o=t);else for(;a.next();)(t=a.value).isTreeLink&&t.toNode===this&&(t=t.fromNode,null!==e?e.add(t):null!==o&&o!==t?((e=new Vt).add(o),e.add(t)):o=t);return null!==e?e.iterator:null!==o?new At(o):Ot},ot.hA=function(t){void 0===t&&(t=1/0);var e=new Ht;return Li(e,this,!1,t,!0),e},Ne.prototype.collapseTree=function(t){void 0===t&&(t=1),1>t&&(t=1);var e=this.diagram;if(null!==e&&!e.Le){e.Le=!0;var o=new Ht;o.add(this),Xn(this,o,e.isTreePathToChildren,t,e,this,e.treeCollapsePolicy===uo),e.Le=!1}},Ne.prototype.expandTree=function(t){void 0===t&&(t=2),2>t&&(t=2);var e=this.diagram;if(null!==e&&!e.Le){e.Le=!0;var o=new Ht;o.add(this),ir(this,o,e.isTreePathToChildren,t,e,this,e.treeCollapsePolicy===uo),e.Le=!1}},W.Object.defineProperties(Ne.prototype,{portSpreading:{get:function(){return this.zp},set:function(t){var e=this.zp;e!==t&&(this.zp=t,this.g("portSpreading",e,t),null!==(t=this.diagram)&&t.undoManager.isUndoingRedoing||this.sd())}},avoidable:{get:function(){return 0!=(8&this.P)},set:function(t){var e=0!=(8&this.P);if(e!==t){this.P^=8;var o=this.diagram;null!==o&&qd(o,this),this.g("avoidable",e,t)}}},avoidableMargin:{get:function(){return this.cl},set:function(t){"number"==typeof t&&(t=new nn(t));var e=this.cl;if(!e.w(t)){this.cl=t=t.H();var o=this.diagram;null!==o&&qd(o,this),this.g("avoidableMargin",e,t)}}},linksConnected:{get:function(){return this.$a.iterator}},linkConnected:{get:function(){return this.Jo},set:function(t){var e=this.Jo;e!==t&&(this.Jo=t,this.g("linkConnected",e,t))}},linkDisconnected:{get:function(){return this.Ko},set:function(t){var e=this.Ko;e!==t&&(this.Ko=t,this.g("linkDisconnected",e,t))}},linkValidation:{get:function(){return this.Ii},set:function(t){var e=this.Ii;e!==t&&(this.Ii=t,this.g("linkValidation",e,t))}},isLinkLabel:{get:function(){return null!==this.Kl}},labeledLink:{get:function(){return this.Kl},set:function(t){var e=this.Kl;if(e!==t){var o=this.diagram,a=this.data;if(null!==e){if(null!==e.nd&&(e.nd.remove(this),e.s()),null!==o&&null!==a&&!o.undoManager.isUndoingRedoing){var u=e.data,c=o.model;if(null!==u&&c.qj()){var g=c.ja(a);void 0!==g&&c.Oy(u,g)}}this.containingGroup=null}this.Kl=t,null!==t&&(Nn(t,this),null===o||null===a||o.undoManager.isUndoingRedoing||(o=o.model,null!==(u=t.data)&&o.qj()&&void 0!==(a=o.ja(a))&&o.Dv(u,a)),this.containingGroup=t.containingGroup),$u(this),this.g("labeledLink",e,t)}}},port:{get:function(){return this.Jt("")}},ports:{get:function(){return null===this.tc&&wr(this),this.tc.iteratorValues}},isTreeExpanded:{get:function(){return 0!=(1&this.P)},set:function(t){var e=0!=(1&this.P);if(e!==t){this.P^=1;var o=this.diagram;if(this.g("isTreeExpanded",e,t),null!==(e=this.treeExpandedChanged)){var a=!0;null!==o&&(a=o.Z,o.Z=!0),e(this),null!==o&&(o.Z=a)}null!==o&&o.undoManager.isUndoingRedoing?this.Ob(t):t?this.expandTree():this.collapseTree()}}},wasTreeExpanded:{get:function(){return 0!=(2&this.P)},set:function(t){var e=0!=(2&this.P);e!==t&&(this.P^=2,this.g("wasTreeExpanded",e,t))}},treeExpandedChanged:{get:function(){return this.nq},set:function(t){var e=this.nq;e!==t&&(this.nq=t,this.g("treeExpandedChanged",e,t))}},isTreeLeaf:{get:function(){return 0!=(4&this.P)},set:function(t){var e=0!=(4&this.P);e!==t&&(this.P^=4,this.g("isTreeLeaf",e,t))}}}),Ne.prototype.expandTree=Ne.prototype.expandTree,Ne.prototype.collapseTree=Ne.prototype.collapseTree,Ne.prototype.findTreeParts=Ne.prototype.hA,Ne.prototype.findTreeChildrenNodes=Ne.prototype.Wv,Ne.prototype.findTreeChildrenLinks=Ne.prototype.Hq,Ne.prototype.findTreeLevel=Ne.prototype.fA,Ne.prototype.findTreeParentChain=Ne.prototype.gA,Ne.prototype.findTreeParentNode=Ne.prototype.Fg,Ne.prototype.findTreeParentLink=Ne.prototype.jj,Ne.prototype.findCommonTreeParent=Ne.prototype.Uz,Ne.prototype.findTreeRoot=Ne.prototype.iA,Ne.prototype.isInTreeOf=Ne.prototype.zA,Ne.prototype.findPort=Ne.prototype.Jt,Ne.prototype.findLinksTo=Ne.prototype.Yz,Ne.prototype.findLinksBetween=Ne.prototype.Xz,Ne.prototype.findNodesInto=Ne.prototype.Tv,Ne.prototype.findNodesOutOf=Ne.prototype.Uv,Ne.prototype.findNodesConnected=Ne.prototype.Sv,Ne.prototype.findLinksInto=Ne.prototype.Hd,Ne.prototype.findLinksOutOf=Ne.prototype.Fq,Ne.prototype.findExternalTreeLinksConnected=Ne.prototype.py,Ne.prototype.invalidateConnectedLinks=Ne.prototype.sd,Ne.prototype.invalidateLinkBundle=Ne.prototype.xA;var Co=new wt(Ne,"SpreadingNone",10),mo=new wt(Ne,"SpreadingEvenly",11),Xr=new wt(Ne,"SpreadingPacked",12);function ai(t){Ne.call(this,t),this.P|=4608,this.Vo=new Ht,this.Sl=new Ht,this.Sa=this.eq=this.Ki=this.Wo=this.Uo=this.Za=null,this.kc=new Ln,this.kc.group=this}function Ae(t,e){if(t.Vo.add(e)){e instanceof ai&&t.Sl.add(e);var o=t.memberAdded;if(null!==o){var a=!0,u=t.diagram;null!==u&&(a=u.Z,u.Z=!0),o(t,e),null!==u&&(u.Z=a)}t.isVisible()&&t.isSubGraphExpanded||e.Ob(!1)}e instanceof We&&!t.computesBoundsIncludingLinks||(null===(e=t.Sa)&&(e=t),e.s())}function Ii(t,e){if(t.Vo.remove(e)){e instanceof ai&&t.Sl.remove(e);var o=t.memberRemoved;if(null!==o){var a=!0,u=t.diagram;null!==u&&(a=u.Z,u.Z=!0),o(t,e),null!==u&&(u.Z=a)}t.isVisible()&&t.isSubGraphExpanded||e.Ob(!0)}e instanceof We&&!t.computesBoundsIncludingLinks||(null===(e=t.Sa)&&(e=t),e.s())}function $i(t,e,o,a){for(var u=t.memberParts;u.next();){var c=u.value;if(c.Ob(!1),c instanceof ai&&c.isSubGraphExpanded&&(c.wasSubGraphExpanded=c.isSubGraphExpanded,$i(c,e,o,a)),c instanceof Ne)c.sd(e),o.jk(c,a);else if(c instanceof We)for(c=c.labelNodes;c.next();)c.value.sd(e)}t.isSubGraphExpanded=!1}function Bi(t,e,o,a){for(var u=t.memberParts;u.next();){var c=u.value;if(c.Ob(!0),c instanceof ai&&c.wasSubGraphExpanded&&(c.wasSubGraphExpanded=!1,Bi(c,e,o,a)),c instanceof Ne)c.sd(e),o.lk(c,a);else if(c instanceof We)for(c=c.labelNodes;c.next();)c.value.sd(e)}t.isSubGraphExpanded=!0}function Ni(){Ri.call(this),this.ib=dr,this.Np=new te(NaN,NaN,NaN,NaN)}function We(){Bt.call(this,Ke.Link),this.Ga=8,this.We=null,this.Xe="",this.rf=this.fo=null,this.sf="",this.mq=null,this.Yk=bs,this.Hn=0,this.Jn=bs,this.Kn=NaN,this.ck=Cl,this.Zp=.5,this.nd=null,this.Ab=(new Vt).freeze(),this.jf=this.ph=null,this.Yl=new te,this.na=new pn,this.I=this.u=this.Mf=this.Vf=null,this.l=[],this.vv=new at,this.$r=this.Nx=this.Mx=null,this.Ru=NaN,this.O=null}function Xi(t){var a,e=t.fromNode,o=t.toNode;if(a=null!==e?null!==o?e.oy(o):e.containingGroup:null!==o?o.containingGroup:null,(o=t.mi)!==(e=a)){null!==o&&Ii(o,t),t.mi=e,null!==e&&Ae(e,t);var u=t.containingGroupChanged;if(null!==u){var c=!0,g=t.diagram;null!==g&&(c=g.Z,g.Z=!0),u(t,o,e),null!==g&&(g.Z=c)}!t.ud||t.Mx!==o&&t.Nx!==o||t.Ua()}if(t.isLabeledLink)for(t=t.labelNodes;t.next();)t.value.containingGroup=a}function Nn(t,e){null===t.nd&&(t.nd=new Ht),t.nd.add(e),t.s()}function nr(t,e,o){if(0!==e||0!==o)if(0===t.pointsCount)t.defaultFromPoint&&t.defaultFromPoint.copy().offset(e,o),t.defaultToPoint&&t.defaultToPoint.copy().offset(e,o);else{for(var a=t.ud,u=new Vt,c=t.Ab.iterator;c.next();){var g=c.value;u.add(new at(g.x+e,g.y+o).freeze())}u.freeze(),c=t.Ab,t.Ab=u,g=t.diagram,isNaN(e)||isNaN(o)||null!==g&&g.animationManager.sc?t.s():(t.dg.h(t.dg.x+e,t.dg.y+o),t.la.h(t.la.x+e,t.la.y+o),$u(t)),a?Oo(t):(t.defaultFromPoint&&(t.defaultFromPoint=t.i(0)),t.defaultToPoint&&(t.defaultToPoint=t.i(t.pointsCount-1))),null!==g&&g.animationManager.sc&&(e=g.animationManager,t.jf=u,e.$l.add(t)),t.g("points",c,u)}}function Oo(t){0===t.Ab.count?t.ud=!1:(t.ud=!0,t.$r=null,t.Ru=NaN,t.defaultFromPoint=t.i(0),t.defaultToPoint=t.i(t.pointsCount-1),Ka(t,!1))}function Gr(t,e){return Math.abs(e.x-t.x)>Math.abs(e.y-t.y)?(e.x=e.x>=t.x?t.x+9e9:t.x-9e9,e.y=t.y):(e.y=e.y>=t.y?t.y+9e9:t.y-9e9,e.x=t.x),e}function So(t,e){var o=e.yp;return null===o&&((o=new Om).port=e,o.node=e.part,e.yp=o),bb(o,t)}function Cr(t){return t===hn||.5===t.x&&.5===t.y}function Wr(t){return.5===t.x&&.5===t.y?t:Vi}function ws(t){if(null===t.diagram||!t.isAvoiding||!Kg(t.diagram))return!1;var e=t.points.j,o=e.length;if(4>o)return!1;t=r0(t.diagram,!0,t.containingGroup,null);for(var a=1;a<o-2;a++){var u=e[a],c=e[a+1];if(!t.Ek(Math.min(u.x,c.x),Math.min(u.y,c.y),Math.abs(u.x-c.x),Math.abs(u.y-c.y)))return!0}return!1}function xa(t,e,o,a,u,c,g){var _=e.zq,A=e.yq,I=mf(e,o,a),B=o,H=a;for(0===u?B+=_:90===u?H+=A:180===u?B-=_:H-=A,u!==g&&I>pp&&mf(e,B,H)!==I-1&&(mf(e,o-_,a)===I-1?(u=180,B=o-_,H=a):mf(e,o+_,a)===I-1?(u=0,B=o+_,H=a):mf(e,o,a-A)===I-1?(u=270,B=o,H=a-A):mf(e,o,a+A)===I-1&&(u=90,B=o,H=a+A));I>pp&&mf(e,B,H)===I-1;)o=B,a=H,0===u?B+=_:90===u?H+=A:180===u?B-=_:H-=A,--I;c?I>pp&&(180===u||0===u?o=Math.floor(o/_)*_+_/2:(90===u||270===u)&&(a=Math.floor(a/A)*A+A/2)):(o=Math.floor(o/_)*_+_/2,a=Math.floor(a/A)*A+A/2),I>pp&&(c=u,g=o,B=a,0===u?(c=90,B+=A):90===u?(c=180,g-=_):180===u?(c=270,B-=A):270===u&&(c=0,g+=_),mf(e,g,B)===I-1?xa(t,e,g,B,c,!1,c):(g=o,B=a,0===u?(c=270,B-=A):90===u?(c=0,g+=_):180===u?(c=90,B+=A):270===u&&(c=180,g-=_),mf(e,g,B)===I-1&&xa(t,e,g,B,c,!1,c))),t.vf(o,a)}function au(t,e,o,a){return t=o-t,isNaN(t)||t===1/0||t===-1/0?NaN:(0>t&&(t=-t),e=a-e,isNaN(e)||e===1/0||e===-1/0?NaN:(0>e&&(e=-e),me.aa(t,0)?e:me.aa(e,0)?t:Math.sqrt(t*t+e*e)))}function al(t,e,o,a){var u=t.pointsCount;if(2>u)return e;if(o){var c=t.i(1);if(0===(a=au(e.x,e.y,o=c.x-a.x,c=c.y-a.y)))return e;u=2===u?.5*a:a,(t=t.computeShortLength(!0))>u&&(t=u),u=t*(c-e.y)/a,e.x+=t*(o-e.x)/a,e.y+=u}else{if(c=t.i(u-2),0===(a=au(e.x,e.y,o=c.x-a.x,c=c.y-a.y)))return e;u=2===u?.5*a:a,(t=t.computeShortLength(!1))>u&&(t=u),u=t*(e.y-c)/a,e.x-=t*(e.x-o)/a,e.y-=u}return e}function Pa(t,e,o,a){for(var u=t.pointsCount,c=e;me.aa(e.x,c.x)&&me.aa(e.y,c.y);){if(o>=u)return u-1;c=t.i(o++)}if(!me.aa(e.x,c.x)&&!me.aa(e.y,c.y))return o-1;for(var g=c;me.aa(e.x,c.x)&&me.aa(c.x,g.x)&&(!a||(e.y>=c.y?c.y>=g.y:c.y<=g.y))||me.aa(e.y,c.y)&&me.aa(c.y,g.y)&&(!a||(e.x>=c.x?c.x>=g.x:c.x<=g.x));){if(o>=u)return u-1;g=t.i(o++)}return o-2}function Gn(t,e,o,a,u,c,g){if(!g&&Xa(t)){var _=(g=t.computeJumpLength())/2,A=[],I=0;if(t.isVisible()&&(I=function(t,e,o,a){var u=t.diagram;if(null===u||e.w(o))return 0;for(u=u.layers;u.next();){var c=u.value;if(null!==c&&c.visible)for(var g=(c=c.Fa.j).length,_=0;_<g;_++){var A=c[_];if(A instanceof We){if(A===t)return 0<a.length&&a.sort(function(B,H){return B-H}),a.length;if(A.isVisible()&&Xa(A)){var I=A.routeBounds;I.o()&&t.routeBounds.Mc(I)&&!t.usesSamePort(A)&&null!==(I=A.path)&&I.Gf()&&xc(e,o,a,A)}}}}return 0<a.length&&a.sort(function(B,H){return B-H}),a.length}(t,u,c,A)),0<I)if(me.A(u.y,c.y))if(u.x<c.x)for(var B=0;B<I;){var H=Math.max(u.x,Math.min(A[B++]-_,c.x-g));e.lineTo(H+o,c.y+a);for(var dt=H+o,bt=Math.min(H+g,c.x);B<I&&(H=A[B])<bt+g;)B++,bt=Math.min(H+_,c.x);H=c.y-g+a,bt+=o;var pt=c.y+a;t.curve===Ia?st(e,bt,pt,!1):lt(e,dt,H,bt,H,bt,pt)}else for(--I;0<=I;){for(B=Math.min(u.x,Math.max(A[I--]+_,c.x+g)),e.lineTo(B+o,c.y+a),dt=B+o,H=Math.max(B-g,c.x);0<=I&&(B=A[I])>H-g;)I--,H=Math.max(B-_,c.x);B=c.y-g+a,H+=o,bt=c.y+a,t.curve===Ia?st(e,H,bt,!1):lt(e,dt,B,H,B,H,bt)}else if(me.A(u.x,c.x))if(u.y<c.y)for(B=0;B<I;){for(H=Math.max(u.y,Math.min(A[B++]-_,c.y-g)),e.lineTo(c.x+o,H+a),dt=H+a,H=Math.min(H+g,c.y);B<I&&(bt=A[B])<H+g;)B++,H=Math.min(bt+_,c.y);bt=c.x-g+o,pt=c.x+o,H+=a,t.curve===Ia?st(e,pt,H,!1):lt(e,bt,dt,bt,H,pt,H)}else for(--I;0<=I;){for(B=Math.min(u.y,Math.max(A[I--]+_,c.y+g)),e.lineTo(c.x+o,B+a),dt=B+a,B=Math.max(B-g,c.y);0<=I&&(H=A[I])>B-g;)I--,B=Math.max(H-_,c.y);H=c.x-g+o,bt=c.x+o,B+=a,t.curve===Ia?st(e,bt,B,!1):lt(e,H,dt,H,B,bt,B)}}e.lineTo(c.x+o,c.y+a)}function xc(t,e,o,a){for(var u=me.A(t.y,e.y),c=a.pointsCount,g=a.i(0),_=at.alloc(),A=1;A<c;A++){var I=a.i(A);if(A<c-1){var B=a.i(A+1);if(g.y===I.y&&I.y===B.y){if(I.x>g.x&&B.x>=I.x||I.x<g.x&&B.x<=I.x)continue}else if(g.x===I.x&&I.x===B.x&&(I.y>g.y&&B.y>=I.y||I.y<g.y&&B.y<=I.y))continue}t:{var H=t.y,dt=e.x,bt=e.y,pt=g.x;g=g.y;var Rt=I.x,Xt=I.y;if(me.A(B=t.x,dt)){if(!me.A(H,bt)&&me.A(g,Xt)&&Math.min(H,bt)<g&&Math.max(H,bt)>g&&Math.min(pt,Rt)<B&&Math.max(pt,Rt)>B&&!me.A(pt,Rt)){_.x=B,_.y=g,B=!0;break t}}else if(me.A(H,bt)&&me.A(pt,Rt)&&Math.min(B,dt)<pt&&Math.max(B,dt)>pt&&Math.min(g,Xt)<H&&Math.max(g,Xt)>H&&!me.A(g,Xt)){_.x=pt,_.y=H,B=!0;break t}_.x=0,_.y=0,B=!1}B&&o.push(u?_.x:_.y),g=I}at.free(_)}function Xa(t){return(t=t.curve)===pf||t===Ia}function Ka(t,e){(e||Xa(t))&&(null===(e=t.diagram)||e.animationManager.isTicking||e.Vg.contains(t)||0===t.Yl.width&&0===t.Yl.height||e.Vg.add(t,t.Yl.copy()))}function df(t,e,o){if(null!==e&&e.$m&&e.ud&&Xa(e)){var a=e.routeBounds;a.o()&&(t.routeBounds.Mc(a)||o.Mc(a))&&(t.usesSamePort(e)||e.dc())}}function wc(t){var e=t.We;if(null!==e){var o=t.rf;if(null!==o&&isNaN(t.curviness)){for(var a=t.Xe,u=t.sf,c=t=null,g=e.$a.j,_=g.length,A=0;A<_;A++){var I=g[A];(I.We===e&&I.Xe===a&&I.rf===o&&I.sf===u||I.We===o&&I.Xe===u&&I.rf===e&&I.sf===a)&&(null===c?c=I:(null===t&&(t=[]).push(c),t.push(I)))}if(null!==t){for(null===(c=ji(e,o,a,u))&&(zi(e,c=new Nu(e,a,o,u)),zi(o,c)),c.links=t,e=0;e<t.length;e++)t[e].Mf=c;c.Dm()}}}}function bc(t){var e=t.Mf;null!==e&&isNaN(t.curviness)&&(t.Mf=null,0<=(t=e.links.indexOf(t))&&(T(e.links,t),e.Dm()))}Ne.className="Node",Ne.SpreadingNone=Co,Ne.SpreadingEvenly=mo,Ne.SpreadingPacked=Xr,K(ai,Ne),ai.prototype.cloneProtected=function(t){Ne.prototype.cloneProtected.call(this,t),this.P=-32769&this.P,null!==this.Za&&(t.Za=this.Za.copy()),t.Uo=this.Uo,t.Wo=this.Wo,t.Ki=this.Ki,t.eq=this.eq;var e=t.ym(function(o){return o instanceof Ni});t.Sa=e instanceof Ni?e:null,null!==this.kc?(t.kc=this.kc.copy(),t.kc.group=t):(null!==t.kc&&(t.kc.group=null),t.kc=null)},(ot=ai.prototype).yf=function(t){Ne.prototype.yf.call(this,t);var e=t.yk();for(t=t.memberParts;t.next();){var o=t.value;if(o.s(),o.C(8),o.nk(),o instanceof Ne)o.sd(e);else if(o instanceof We)for(o=o.labelNodes;o.next();)o.value.sd(e)}},ot.Sk=function(t,e,o,a,u,c,g){if(t===Io&&"elements"===e){if(u instanceof Ni)null===this.Sa?this.Sa=u:this.Sa!==u&&V("Cannot insert a second Placeholder into the visual tree of a Group.");else if(u instanceof Ke){var _=u.ym(function(A){return A instanceof Ni});_ instanceof Ni&&(null===this.Sa?this.Sa=_:this.Sa!==_&&V("Cannot insert a second Placeholder into the visual tree of a Group."))}}else t===fn&&"elements"===e&&null!==this.Sa&&(a===this.Sa||a instanceof Ke&&this.Sa.Gg(a))&&(this.Sa=null);Ne.prototype.Sk.call(this,t,e,o,a,u,c,g)},ot.Im=function(t,e){Ne.prototype.Im.call(this,t,e),this.isClipping&&this.type!==Ke.Spot&&((t=this.resizeObject)instanceof Ke&&(t=t.tb()),null===this.Za&&(this.Za=new te),t.mj(this.Za),t instanceof Yi&&this.Za.Jc(-t.strokeWidth,-t.strokeWidth))},ot.Ih=function(t,e,o,a){this.cf=this.Sa,Ne.prototype.Ih.call(this,t,e,o,a)},ot.Ta=function(){var t=this;t.isSubGraphExpanded&&this.memberParts.each(function(e){!t.computesBoundsIncludingLinks&&e instanceof We||e.Ta()}),Ne.prototype.Ta.call(this)},ot.rj=function(){if(!Ne.prototype.rj.call(this))return!1;for(var t=this.memberParts;t.next();){var e=t.value;if(e instanceof Ne){if(e.isVisible()&&Wa(e))return!1}else if(e instanceof We&&e.isVisible()&&Wa(e)&&e.fromNode!==this&&e.toNode!==this)return!1}return!0},ot.uk=function(){if(0<this.Vo.count){var t=this.diagram;if(null!==t)for(var e=this.Vo.copy().iterator;e.next();)t.remove(e.value)}Ne.prototype.uk.call(this)},ai.prototype.canAddMembers=function(t){var e=this.diagram;if(null===e)return!1;for(e=e.commandHandler,t=Bs(t).iterator;t.next();)if(!e.isValidMember(this,t.value))return!1;return!0},ai.prototype.addMembers=function(t,e){var o=this.diagram;if(null===o)return!1;o=o.commandHandler;var a=!0;for(t=Bs(t).iterator;t.next();){var u=t.value;!e||o.isValidMember(this,u)?u.containingGroup=this:a=!1}return a},ai.prototype.canUngroup=function(){if(!this.ungroupable)return!1;var t=this.layer;return!(null!==t&&!t.allowUngroup||null!==(t=t.diagram)&&!t.allowUngroup)},(ot=ai.prototype).sd=function(t){void 0===t&&(t=null);var e=0!=(65536&this.P);if(Ne.prototype.sd.call(this,t),!e)for(0==(65536&this.P)&&(this.P=65536^this.P),e=this.Rv();e.next();){var o=e.value;if(null===t||!t.contains(o)){var a=o.fromNode;(null!==a&&a!==this&&a.Kd(this)&&!a.isVisible()||null!==(a=o.toNode)&&a!==this&&a.Kd(this)&&!a.isVisible())&&(Oi(o.fromPort),Oi(o.toPort),o.Ua())}}},ot.Rv=function(){var t=this.yk();t.add(this);for(var e=new Ht,o=t.iterator;o.next();){var a=o.value;if(a instanceof Ne)for(a=a.linksConnected;a.next();){var u=a.value;t.contains(u)||e.add(u)}}return e.iterator},ot.Wz=function(){var t=this.yk();t.add(this);for(var e=new Ht,o=t.iterator;o.next();){var a=o.value;if(a instanceof Ne)for(a=a.linksConnected;a.next();){var u=a.value,c=u.fromNode;null===c||t.contains(c)&&c!==this||e.add(c),null===(u=u.toNode)||t.contains(u)&&u!==this||e.add(u)}}return e.iterator},ot.Vz=function(){var e=new Ht;return function t(o,a){null!==o&&(a.add(o),t(o.containingGroup,a))}(this,e),e},ot.yk=function(){var t=new Ht;return Li(t,this,!0,0,!0),t.remove(this),t},ot.Ob=function(t){Ne.prototype.Ob.call(this,t);for(var e=this.memberParts;e.next();)e.value.Ob(t)},ai.prototype.collapseSubGraph=function(){var t=this.diagram;null===t||t.Le||(t.Le=!0,$i(this,this.yk(),t,this),t.Le=!1)},ai.prototype.expandSubGraph=function(){var t=this.diagram;null===t||t.Le||(t.Le=!0,Bi(this,this.yk(),t,this),t.Le=!1)},ai.prototype.move=function(t,e){void 0===e&&(e=!1);var o=e?this.location:this.position,a=o.x;o=o.y;var u=t.x,c=t.y;if(!(a===u||isNaN(a)&&isNaN(u))||!(o===c||isNaN(o)&&isNaN(c))){for(a=u-(isNaN(a)?0:a),o=c-(isNaN(o)?0:o),c=at.alloc(),Ne.prototype.move.call(this,t,e),t=new Ht,e=this.yk().iterator;e.next();)(u=e.value)instanceof We&&(u.suspendsRouting&&t.add(u),u.ud||u.fromNode!==this&&u.toNode!==this)&&(u.suspendsRouting=!0);for(e.reset();e.next();)if(!((u=e.value).Ph()||u instanceof Ne&&u.isLinkLabel)){var g=u.position,_=u.location;g.o()?(c.x=g.x+a,c.y=g.y+o,u.position=c):_.o()&&(c.x=_.x+a,c.y=_.y+o,u.location=c)}for(e.reset();e.next();)(u=e.value)instanceof We&&(u.suspendsRouting=t.contains(u),u.ud||u.fromNode!==this&&u.toNode!==this)&&(c.x=(g=u.position).x+a,c.y=g.y+o,c.o()?u.move(c):u.Ua(),ws(u)&&u.Ua());at.free(c)}},W.Object.defineProperties(ai.prototype,{placeholder:{get:function(){return this.Sa}},computesBoundsAfterDrag:{get:function(){return 0!=(2048&this.P)},set:function(t){var e=0!=(2048&this.P);e!==t&&(this.P^=2048,this.g("computesBoundsAfterDrag",e,t))}},computesBoundsIncludingLinks:{get:function(){return 0!=(4096&this.P)},set:function(t){var e=0!=(4096&this.P);e!==t&&(this.P^=4096,this.g("computesBoundsIncludingLinks",e,t))}},computesBoundsIncludingLocation:{get:function(){return 0!=(8192&this.P)},set:function(t){var e=0!=(8192&this.P);e!==t&&(this.P^=8192,this.g("computesBoundsIncludingLocation",e,t))}},handlesDragDropForMembers:{get:function(){return 0!=(16384&this.P)},set:function(t){var e=0!=(16384&this.P);e!==t&&(this.P^=16384,this.g("handlesDragDropForMembers",e,t))}},memberParts:{get:function(){return this.Vo.iterator}},layout:{get:function(){return this.kc},set:function(t){var e=this.kc;if(e!==t){null!==e&&(e.diagram=null,e.group=null),this.kc=t;var o=this.diagram;null!==t&&(t.diagram=o,t.group=this),null!==o&&(o.Ng=!0),this.g("layout",e,t),null!==o&&o.Db()}}},memberAdded:{get:function(){return this.Uo},set:function(t){var e=this.Uo;e!==t&&(this.Uo=t,this.g("memberAdded",e,t))}},memberRemoved:{get:function(){return this.Wo},set:function(t){var e=this.Wo;e!==t&&(this.Wo=t,this.g("memberRemoved",e,t))}},memberValidation:{get:function(){return this.Ki},set:function(t){var e=this.Ki;e!==t&&(this.Ki=t,this.g("memberValidation",e,t))}},ungroupable:{get:function(){return 0!=(256&this.P)},set:function(t){var e=0!=(256&this.P);e!==t&&(this.P^=256,this.g("ungroupable",e,t))}},isSubGraphExpanded:{get:function(){return 0!=(512&this.P)},set:function(t){var e=0!=(512&this.P);if(e!==t){this.P^=512;var o=this.diagram;if(this.g("isSubGraphExpanded",e,t),null!==(e=this.subGraphExpandedChanged)){var a=!0;null!==o&&(a=o.Z,o.Z=!0),e(this),null!==o&&(o.Z=a)}null!==o&&o.undoManager.isUndoingRedoing?(null!==this.Sa&&this.Sa.s(),this.memberParts.each(function(u){u.updateAdornments()})):t?this.expandSubGraph():this.collapseSubGraph()}}},wasSubGraphExpanded:{get:function(){return 0!=(1024&this.P)},set:function(t){var e=0!=(1024&this.P);e!==t&&(this.P^=1024,this.g("wasSubGraphExpanded",e,t))}},subGraphExpandedChanged:{get:function(){return this.eq},set:function(t){var e=this.eq;e!==t&&(this.eq=t,this.g("subGraphExpandedChanged",e,t))}},Rh:{get:function(){return 0!=(32768&this.P)},set:function(t){0!=(32768&this.P)!==t&&(this.P^=32768)}}}),ai.prototype.expandSubGraph=ai.prototype.expandSubGraph,ai.prototype.collapseSubGraph=ai.prototype.collapseSubGraph,ai.prototype.findSubGraphParts=ai.prototype.yk,ai.prototype.findContainingGroupChain=ai.prototype.Vz,ai.prototype.findExternalNodesConnected=ai.prototype.Wz,ai.prototype.findExternalLinksConnected=ai.prototype.Rv,ai.prototype.ensureBounds=ai.prototype.Ta,ai.className="Group",K(Ni,Ri),Ni.prototype.cloneProtected=function(t){Ri.prototype.cloneProtected.call(this,t),t.ib=this.ib.H(),t.Np=this.Np.copy()},Ni.prototype.Kh=function(t){if(null===this.background&&null===this.areaBackground)return!1;var e=this.naturalBounds;return sn(0,0,e.width,e.height,t.x,t.y)},Ni.prototype.Hm=function(){var t=this.part;if(null!==t&&(t instanceof ai||t instanceof si)||V("Placeholder is not inside a Group or Adornment."),t instanceof ai){var e=this.computeBorder(this.Np),o=this.minSize,a=this.rc;for(Ie(a,(isFinite(o.width)?Math.max(o.width,e.width):e.width)||0,(isFinite(o.height)?Math.max(o.height,e.height):e.height)||0),zl(this,0,0,a.width,a.height),a=t.memberParts,o=!1;a.next();)if(a.value.isVisible()){o=!0;break}a=t.diagram,!o||null===a||a.animationManager.ew(t)||isNaN(e.x)||isNaN(e.y)||((o=at.alloc()).tj(e,t.locationSpot),o.w(t.location)||(t.location=new at(o.x,o.y)),at.free(o))}else{e=this.rc,a=(o=this.ib).left+o.right;var u=o.top+o.bottom,c=t.adornedObject;t.angle=c.lj();var g=0;c instanceof Yi&&(g=c.strokeWidth);var _=c.Af(),A=c.naturalBounds,I=(A.width+g)*_;g=(A.height+g)*_,t.type!==Ke.Link&&(c=c.da("Selection"===t.category?ar:t.locationSpot,at.alloc()),t.location=c,at.free(c)),isNaN(I)||isNaN(g)?(I=(t=t.adornedObject).da(ar,at.alloc()),(c=te.allocAt(I.x,I.y,0,0)).Oe(t.da(Ha,I)),c.Oe(t.da(vo,I)),c.Oe(t.da(ph,I)),Ie(e,c.width+a||0,c.height+u||0),zl(this,-o.left,-o.top,e.width,e.height),at.free(I),te.free(c)):(Ie(e,I+a||0,g+u||0),zl(this,-o.left,-o.top,e.width,e.height))}},Ni.prototype.Ih=function(t,e,o,a){this.actualBounds.h(t,e,o,a)},Ni.prototype.computeBorder=function(t){var e=this.part,o=e.diagram;if(null!==o&&e instanceof ai&&!e.layer.isTemporary&&e.computesBoundsAfterDrag&&this.Np.o()){var a=o.toolManager.findTool("Dragging");if(a===o.currentTool&&null!==(o=a.computeBorder(e,this.Np,t)))return o}o=te.alloc(),a=this.computeMemberBounds(o);var u=this.ib;return e instanceof ai&&!e.isSubGraphExpanded?t.h(a.x-u.left,a.y-u.top,0,0):t.h(a.x-u.left,a.y-u.top,Math.max(a.width+u.left+u.right,0),Math.max(a.height+u.top+u.bottom,0)),te.free(o),e instanceof ai&&e.computesBoundsIncludingLocation&&e.location.o()&&t.Oe(e.location),t},Ni.prototype.computeMemberBounds=function(t){if(!(this.part instanceof ai))return t.h(0,0,0,0),t;for(var e=this.part,o=1/0,a=1/0,u=-1/0,c=-1/0,g=e.memberParts;g.next();){var _=g.value;if(_.isVisible()){if(_ instanceof We&&(!e.computesBoundsIncludingLinks||dc(_)||_.fromNode===e||_.toNode===e))continue;(_=_.actualBounds).left<o&&(o=_.left),_.top<a&&(a=_.top),_.right>u&&(u=_.right),_.bottom>c&&(c=_.bottom)}}return isFinite(o)&&isFinite(a)?t.h(o,a,u-o,c-a):t.h((e=e.location).x,e.y,0,0),t},W.Object.defineProperties(Ni.prototype,{padding:{get:function(){return this.ib},set:function(t){"number"==typeof t&&(t=new nn(t));var e=this.ib;e.w(t)||(this.ib=t=t.H(),this.g("padding",e,t),this.s())}}}),Ni.className="Placeholder",K(We,Bt),We.prototype.cloneProtected=function(t){Bt.prototype.cloneProtected.call(this,t),t.Ga=-113&this.Ga,t.Xe=this.Xe,t.fo=this.fo,t.sf=this.sf,t.mq=this.mq,t.Yk=this.Yk,t.Hn=this.Hn,t.Jn=this.Jn,t.Kn=this.Kn,t.ck=this.ck,t.Zp=this.Zp,null!==this.O&&(t.O=this.O.copy())},(ot=We.prototype).yf=function(t){Bt.prototype.yf.call(this,t),this.Xe=t.Xe,this.sf=t.sf,t.ph=null,t.Ua(),t.Mf=this.Mf;var e=t.fromPort;null!==e&&Oi(e),null!==(t=t.toPort)&&Oi(t)},ot.jb=function(t){t.classType===We?2==(2&t.value)?this.routing=t:t===es||t===Ia||t===pf?this.curve=t:t===hp||t===$y||t===wv?this.adjusting=t:t!==Cl&&t!==bs&&V("Unknown Link enum value for a Link property: "+t):Bt.prototype.jb.call(this,t)},ot.Kc=function(){null===this.O&&(this.O=new Nm)},ot.rj=function(){var t=this.fromNode;if(null!==t){var e=t.findVisibleNode();if(null!==e&&(t=e),Wa(t)||ze(t))return!1}return!(null!==(t=this.toNode)&&(e=t.findVisibleNode(),null!==e&&(t=e),Wa(t)||ze(t)))},ot.Ew=function(){return!1},ot.lu=function(){},ot.Nc=function(){return!1},We.prototype.computeAngle=function(t,e,o){return We.computeAngle(e,o)},We.computeAngle=function(t,e){switch(t){default:t=0;break;case w0:t=e;break;case ud:t=e+90;break;case cp:t=e-90;break;case Im:t=e+180;break;case b0:90<(t=me.Tq(e))&&270>t&&(t-=180);break;case fp:90<(t=me.Tq(e+90))&&270>t&&(t-=180);break;case Rm:90<(t=me.Tq(e-90))&&270>t&&(t-=180);break;case Dl:if(45<(t=me.Tq(e))&&135>t||225<t&&315>t)return 0;90<t&&270>t&&(t-=180)}return me.Tq(t)},(ot=We.prototype).Oh=function(){var t=this.containingGroup;null!==t&&this.fromNode!==t&&this.toNode!==t&&t.computesBoundsIncludingLinks&&Bt.prototype.Oh.call(this)},ot.Kq=function(t){var e=this.fromNode;return t===e?this.toNode:e},ot.nA=function(t){var e=this.fromPort;return t===e?this.toPort:e},ot.Mq=function(t){if(Bt.prototype.Mq.call(this,t),Xa(this)&&this.Oq(this.actualBounds),!t){var e=null;null!==(t=this.We)&&qi(t,this,e=this.fromPort);var o=this.rf;if(null!==o){var a=this.toPort;o===t&&a===e||qi(o,this,a)}wc(this)}},ot.Nq=function(t){if(Bt.prototype.Nq.call(this,t),Xa(this)&&this.Oq(this.actualBounds),!t){var e=null;null!==(t=this.We)&&gn(t,this,e=this.fromPort);var o=this.rf;if(null!==o){var a=this.toPort;o===t&&a===e||gn(o,this,a)}bc(this)}},ot.uk=function(){if(this.ud=!0,null!==this.nd){var t=this.diagram;if(null!==t)for(var e=this.nd.copy().iterator;e.next();)t.remove(e.value)}null!==this.data&&null!==(t=this.diagram)&&t.partManager.removeDataForLink(this)},We.prototype.updateRelationshipsFromData=function(){if(null!==this.data){var t=this.diagram;null!==t&&t.partManager.updateRelationshipsFromData(this)}},We.prototype.move=function(t,e){var o=e?this.location:this.position,a=o.x;isNaN(a)&&(a=0);var u=o.y;for(isNaN(u)&&(u=0),a=t.x-a,u=t.y-u,!0===e?Bt.prototype.move.call(this,t,!1):(t=at.allocAt(o.x+a,o.y+u),Bt.prototype.move.call(this,t,!1),at.free(t)),nr(this,a,u),t=this.labelNodes;t.next();)(e=t.value).moveTo((o=e.position).x+a,o.y+u)},We.prototype.canRelinkFrom=function(){if(!this.relinkableFrom)return!1;var t=this.layer;return null===t||!!t.allowRelink&&!(null!==(t=t.diagram)&&!t.allowRelink)},We.prototype.canRelinkTo=function(){if(!this.relinkableTo)return!1;var t=this.layer;return null===t||!!t.allowRelink&&!(null!==(t=t.diagram)&&!t.allowRelink)},We.prototype.computeMidPoint=function(t){var e=this.pointsCount;if(0===e)return t.assign(En),t;if(1===e)return t.assign(this.i(0)),t;if(2===e){var o=this.i(0),a=this.i(1);return t.h((o.x+a.x)/2,(o.y+a.y)/2),t}if(this.isOrthogonal&&(15<=this.computeCorner()||this.computeCurve()===es))return this.na.Xv(.5,t),t.add(this.i(0)),o=this.na.figures.first(),t.offset(-o.startX,-o.startY),t;if(this.computeCurve()===es){if(3===e)return this.i(1);if(o=3*((a=(e-1)/3|0)/2|0),a%2==1){a=this.i(o);var u=this.i(o+1),c=this.i(o+2);o=this.i(o+3),me.yz(a.x,a.y,u.x,u.y,c.x,c.y,o.x,o.y,t)}else t.assign(this.i(o));return t}var g=this.flattenedLengths;for(o=this.flattenedTotalLength,u=c=a=0;a<o/2&&c<e&&!(a+(u=g[c])>o/2);)a+=u,c++;return e=this.i(c),c=this.i(c+1),1>Math.abs(e.x-c.x)?t.h(e.x,e.y>c.y?e.y-(o/2-a):e.y+(o/2-a)):1>Math.abs(e.y-c.y)?t.h(e.x>c.x?e.x-(o/2-a):e.x+(o/2-a),e.y):t.h(e.x+(o=(o/2-a)/u)*(c.x-e.x),e.y+o*(c.y-e.y)),t},We.prototype.computeMidAngle=function(){var t=this.pointsCount;if(2>t)return NaN;if(2===t)return this.i(0).Pa(this.i(1));if(this.isOrthogonal&&(15<=this.computeCorner()||this.computeCurve()===es))return this.na.vy(.5);if(this.computeCurve()===es&&4<=t){var e=(t-1)/3|0,o=3*(e/2|0);if(e%2==1){o=Math.floor(o),t=this.i(o),e=this.i(o+1);var a=this.i(o+2);return o=this.i(o+3),me.xz(t.x,t.y,e.x,e.y,a.x,a.y,o.x,o.y)}if(0<o&&o+1<t)return this.i(o-1).Pa(this.i(o+1))}e=this.flattenedLengths,a=this.flattenedTotalLength;var c,u=0;for(o=0;u<a/2&&o<t&&!(u+(c=e[o])>a/2);)u+=c,o++;if(e=this.i(o),a=this.i(o+1),1>Math.abs(e.x-a.x)&&1>Math.abs(e.y-a.y)){if(0<o&&o+2<t)return this.i(o-1).Pa(this.i(o+2))}else{if(1>Math.abs(e.x-a.x))return e.y>a.y?270:90;if(1>Math.abs(e.y-a.y))return e.x>a.x?180:0}return e.Pa(a)},(ot=We.prototype).i=function(t){return this.Ab.j[t]},ot.Qc=function(t,e){this.Ab.Pc(t,e)},ot.L=function(t,e,o){this.Ab.Pc(t,new at(e,o))},ot.wA=function(t,e){this.Ab.wb(t,e)},ot.m=function(t,e,o){this.Ab.wb(t,new at(e,o))},ot.ce=function(t){this.Ab.add(t)},ot.vf=function(t,e){this.Ab.add(new at(t,e))},ot.uw=function(t){this.Ab.cb(t)},ot.pk=function(){this.Ab.clear()},ot.Th=function(){null===this.ph&&(this.ph=this.Ab,this.Ab=this.Ab.copy())},ot.xf=function(){if(null!==this.ph){for(var t=this.ph,e=this.Ab,o=1/0,a=1/0,u=t.j,c=u.length,g=0;g<c;g++){var _=u[g];o=Math.min(_.x,o),a=Math.min(_.y,a)}_=g=1/0;for(var A=e.j,I=A.length,B=0;B<I;B++){var H=A[B];g=Math.min(H.x,g),_=Math.min(H.y,_),H.freeze()}if(e.freeze(),I===c){for(c=0;c<I;c++)if((B=u[c]).x-o!=(H=A[c]).x-g||B.y-a!=H.y-_){this.dc();break}}else this.dc();this.ph=null,null!==(o=this.diagram)&&o.animationManager.sc&&(o=o.animationManager,this.jf=e,o.$l.add(this)),Oo(this),this.g("points",t,e)}},ot.yw=function(){null!==this.ph&&(this.Ab=this.ph,this.ph=null)},ot.Ua=function(){if(!this.suspendsRouting){var t=this.diagram;if(t){if(t.Yt.contains(this)||t.undoManager.isUndoingRedoing||(t=t.animationManager).isTicking&&!t.isAnimating)return;null!==this.jf&&!t.isTicking&&t.isAnimating&&(this.jf=null)}null!==(t=this.path)&&(this.ud=!1,this.s(),t.s())}},ot.xj=function(){if(!this.ud&&!this.Ct){var t=!0;try{this.Ct=!0,this.Th(),t=this.computePoints()}catch(e){this.Ct=!1,this.yw()}finally{this.Ct=!1,t?this.xf():this.yw()}}},We.prototype.computePoints=function(){if(null===this.diagram)return!1;var t=this.fromNode,e=null;if(null===t?(na||((na=new Ne).desiredSize=on,na.Ta()),this.defaultFromPoint&&(na.location=this.defaultFromPoint,na.Ta(),e=t=na)):e=this.fromPort,null!==e&&!t.isVisible()){var o=t.findVisibleNode();null!==o&&o!==t?(t=o,e=o.port):t=o}if(this.Mx=t,null===t||!t.location.o())return!1;for(;!(null===e||e.actualBounds.o()&&e.Gf());)e=e.panel;if(null===e)return!1;var a=this.toNode,u=null;if(null===a?(Ys||((Ys=new Ne).desiredSize=on,Ys.Ta()),this.defaultToPoint&&(Ys.location=this.defaultToPoint,Ys.Ta(),u=a=Ys)):u=this.toPort,null===u||a.isVisible()||(null!==(o=a.findVisibleNode())&&o!==a?(a=o,u=o.port):a=o),this.Nx=a,null===a||!a.location.o())return!1;for(;!(null===u||u.actualBounds.o()&&u.Gf());)u=u.panel;if(null===u)return!1;var c=this.pointsCount,g=this.computeSpot(!0,e);o=this.computeSpot(!1,u);var _=Cr(g),A=Cr(o),I=e===u&&null!==e,B=this.isOrthogonal,H=this.curve===es;this.Vf=!(!I||B)&&(H=!0);var dt=this.computeAdjusting()===bs||I;if(!B&&!I&&_&&A){if(_=!1,!dt&&3<=c&&(dt=this.getLinkPoint(t,e,g,!0,!1,a,u),A=this.getLinkPoint(a,u,o,!1,!1,t,e),_=this.adjustPoints(0,dt,c-1,A))&&(dt=this.getLinkPoint(t,e,g,!0,!1,a,u),A=this.getLinkPoint(a,u,o,!1,!1,t,e),this.adjustPoints(0,dt,c-1,A)),!_)if(this.pk(),H){c=this.getLinkPoint(t,e,g,!0,!1,a,u),_=(dt=this.getLinkPoint(a,u,o,!1,!1,t,e)).x-c.x,A=dt.y-c.y,I=this.computeCurviness(),H=B=0;var bt=c.x+_/3,pt=c.y+A/3,Rt=bt,Xt=pt;me.A(A,0)?Xt=0<_?Xt-I:Xt+I:(B=-_/A,H=Math.sqrt(I*I/(B*B+1)),0>I&&(H=-H),Xt=B*((Rt=(0>A?-1:1)*H+bt)-bt)+pt);var $t=bt=c.x+2*_/3,ie=pt=c.y+2*A/3;ie=me.A(A,0)?0<_?ie-I:ie+I:B*(($t=(0>A?-1:1)*H+bt)-bt)+pt,this.pk(),this.ce(c),this.vf(Rt,Xt),this.vf($t,ie),this.ce(dt),this.Qc(0,this.getLinkPoint(t,e,g,!0,!1,a,u)),this.Qc(3,this.getLinkPoint(a,u,o,!1,!1,t,e))}else a=this.getLinkPoint(t,e,g,!0,!1,c=a,dt=u),u=this.getLinkPoint(c,dt,o,!1,!1,t,e),this.hasCurviness()?(dt=u.x-a.x,o=u.y-a.y,g=this.computeCurviness(),c=t=a.x+dt/2,_=e=a.y+o/2,me.A(o,0)?_=0<dt?_-g:_+g:(dt=-dt/o,c=Math.sqrt(g*g/(dt*dt+1)),0>g&&(c=-c),_=dt*((c=(0>o?-1:1)*c+t)-t)+e),this.ce(a),this.vf(c,_),this.ce(u)):(this.ce(a),this.ce(u),_=te.alloc(),e.mj(_),A=_.$(u),dt.mj(_),I=_.$(a),(A||I)&&(g=e.da(Wr(g),new at),this.Qc(0,this.getLinkPointFromPoint(t,e,g,u,!0,g)),o=dt.da(Wr(o),new at),this.Qc(1,this.getLinkPointFromPoint(c,dt,o,a,!1,o))),te.free(_))}else{H=this.isAvoiding,dt&&(B&&H||I)&&this.pk();var oe=I?this.computeCurviness():0;H=this.getLinkPoint(t,e,g,!0,B,a,u),bt=Rt=pt=0,(B||!_||I)&&(Xt=this.computeEndSegmentLength(t,e,g,!0),bt=this.getLinkDirection(t,e,H,g,!0,B,a,u),I&&(_||g.w(o)||!B&&g.x+o.x===1&&g.y+o.y===1)&&(bt-=B?90:30,0>oe&&(bt-=180)),0>bt?bt+=360:360<=bt&&(bt-=360),I&&(Xt+=Math.abs(oe)*(B?1:2)),0===bt?pt=Xt:90===bt?Rt=Xt:180===bt?pt=-Xt:270===bt?Rt=-Xt:(pt=Xt*Math.cos(bt*Math.PI/180),Rt=Xt*Math.sin(bt*Math.PI/180)),g.nc()&&I&&(Xt=e.da(Vi,at.alloc()),$t=at.allocAt(Xt.x+1e3*pt,Xt.y+1e3*Rt),this.getLinkPointFromPoint(t,e,Xt,$t,!0,H),at.free(Xt),at.free($t))),Xt=this.getLinkPoint(a,u,o,!1,B,t,e);var ce=ie=$t=0;if(B||!A||I){var _e=this.computeEndSegmentLength(a,u,o,!1);ce=this.getLinkDirection(a,u,Xt,o,!1,B,t,e),I&&(A||g.w(o)||!B&&g.x+o.x===1&&g.y+o.y===1)&&(ce+=B?0:30,0>oe&&(ce+=180)),0>ce?ce+=360:360<=ce&&(ce-=360),I&&(_e+=Math.abs(oe)*(B?1:2)),0===ce?$t=_e:90===ce?ie=_e:180===ce?$t=-_e:270===ce?ie=-_e:($t=_e*Math.cos(ce*Math.PI/180),ie=_e*Math.sin(ce*Math.PI/180)),o.nc()&&I&&(o=u.da(Vi,at.alloc()),g=at.allocAt(o.x+1e3*$t,o.y+1e3*ie),this.getLinkPointFromPoint(a,u,o,g,!1,Xt),at.free(o),at.free(g))}o=H,(B||!_||I)&&(o=new at(H.x+pt,H.y+Rt)),g=Xt,(B||!A||I)&&(g=new at(Xt.x+$t,Xt.y+ie)),!dt&&!B&&_&&3<c&&this.adjustPoints(0,H,c-2,g)?this.Qc(c-1,Xt):!dt&&!B&&A&&3<c&&this.adjustPoints(1,o,c-1,Xt)?this.Qc(0,H):!dt&&(B?6<=c:4<c)&&this.adjustPoints(1,o,c-2,g)?(this.Qc(0,H),this.Qc(c-1,Xt)):(this.pk(),this.ce(H),(B||!_||I)&&this.ce(o),B&&this.addOrthoPoints(o,bt,g,ce,t,a),(B||!A||I)&&this.ce(g),this.ce(Xt))}return!0},We.prototype.getLinkPointFromPoint=function(t,e,o,a,u,c){if(void 0===c&&(c=new at),null===t||null===e)return c.assign(o),c;if(t.isVisible()||null!==(u=t.findVisibleNode())&&u!==t&&(e=u.port),t=null,null===(u=e.panel)||u.he()||(u=u.panel),null===u){u=a.x,a=a.y;var g=o.x;o=o.y}else{var _=-(t=u.Fd).m12*(u=1/(t.m11*t.m22-t.m12*t.m21)),A=-t.m21*u,I=t.m11*u,B=u*(t.m21*t.dy-t.m22*t.dx),H=u*(t.m12*t.dx-t.m11*t.dy);u=a.x*(g=t.m22*u)+a.y*A+B,a=a.x*_+a.y*I+H,g=o.x*g+o.y*A+B,o=o.x*_+o.y*I+H}return e.zk(u,a,g,o,c),null!==t&&c.transform(t),c},We.prototype.getLinkPoint=function(t,e,o,a,u,c,g,_){if(void 0===_&&(_=new at),o.kb()&&!Cr(o))return e.da(o,_),_;if(o.Oc()){var A=So(this,e);if(null!==A){if(_.assign(A.Qq),u&&this.routing===_c){var I=So(this,g);if(null!==I&&A.wm<I.wm){A=at.alloc(),I=at.alloc();var B=new te(e.da(ar,A),e.da(Ha,I)),H=this.computeSpot(!a,g);t=this.getLinkPoint(c,g,H,!a,u,t,e,I),(o.Ef(Nf)||o.Ef(pr))&&t.y>=B.y&&t.y<=B.y+B.height?_.y=t.y:(o.Ef($0)||o.Ef(sa))&&t.x>=B.x&&t.x<=B.x+B.width&&(_.x=t.x),at.free(A),at.free(I)}}return _}}return o=e.da(Wr(o),at.alloc()),this.pointsCount>(u?6:2)?(g=this.i(a?1:this.pointsCount-2),u&&(g=Gr(o,g.copy()))):(A=this.computeSpot(!a,g),c=at.alloc(),g=g.da(Wr(A),c),u&&(g=Gr(o,g)),at.free(c)),this.getLinkPointFromPoint(t,e,o,g,a,_),at.free(o),_},We.prototype.getLinkDirection=function(t,e,o,a,u,c,g,_){t:if(a.kb())var A=a.x>a.y?a.x>1-a.y?0:a.x<1-a.y?270:315:a.x<a.y?a.x>1-a.y?90:a.x<1-a.y?180:135:.5>a.x?225:.5<a.x?45:0;else{if(a.Oc()&&null!==(A=So(this,e)))switch(A.Ac){case 1:A=270;break t;case 2:A=180;break t;default:A=0;break t;case 8:A=90;break t}A=e.da(Vi,at.alloc()),this.pointsCount>(c?6:2)?(_=this.i(u?1:this.pointsCount-2),_=c?Gr(A,_.copy()):o):(o=at.alloc(),_=_.da(Vi,o),at.free(o)),o=Math.abs(_.x-A.x)>Math.abs(_.y-A.y)?_.x>=A.x?0:180:_.y>=A.y?90:270,at.free(A),A=o}return a.nc()&&g.Kd(t)&&360<=(A+=180)&&(A-=360),Cr(a)||0===(t=e.lj())||(45<=t&&135>t?A+=90:135<=t&&225>t?A+=180:225<=t&&315>t&&(A+=270),360<=A&&(A-=360)),A},We.prototype.computeEndSegmentLength=function(t,e,o,a){return null!==e&&o.Oc()&&null!==(t=So(this,e))?t.Pv:(t=a?this.fromEndSegmentLength:this.toEndSegmentLength,null!==e&&isNaN(t)&&(t=a?e.fromEndSegmentLength:e.toEndSegmentLength),isNaN(t)&&(t=10),t)},We.prototype.computeSpot=function(t,e){return void 0===e&&(e=null),t?null===(t=e||this.fromPort)?t=Vi:((e=this.fromSpot).Mb()&&(e=t.fromSpot),t=e===Os?hn:e):null===(t=e||this.toPort)?t=Vi:((e=this.toSpot).Mb()&&(e=t.toSpot),t=e===Os?hn:e),t},We.prototype.computeOtherPoint=function(t,e){return this.computeAdjusting()!==bs&&4<this.pointsCount?this.computeMidPoint(new at):null!==(t=null!==(t=e.yp)?bb(t,this):null)?t.Qq:e.da(Vi)},We.prototype.computeShortLength=function(t){if(t){if(t=this.fromShortLength,isNaN(t)){var e=this.fromPort;null!==e&&(t=e.fromShortLength)}return isNaN(t)?0:t}return t=this.toShortLength,isNaN(t)&&null!==(e=this.toPort)&&(t=e.toShortLength),isNaN(t)?0:t},We.prototype.zf=function(t,e,o,a,u,c){if(!1===this.pickable)return!1;void 0===e&&(e=null),void 0===o&&(o=null);var g=c;if(void 0===c&&(g=cn.alloc()).reset(),g.multiply(this.transform),this.Jh(t,g))return Mx(this,e,o,u),void 0===c&&cn.free(g),!0;if(this.Mc(t,g)){var _=!1;if(!this.isAtomic)for(var A=this.W.j,I=A.length;I--;){var B=A[I];if(B.visible||B===this.locationObject){var H=B.actualBounds,dt=this.naturalBounds;if(!(H.x>dt.width||H.y>dt.height||0>H.x+H.width||0>H.y+H.height)){if((H=cn.alloc()).set(g),B instanceof Ke)_=B.zf(t,e,o,a,u,H);else if(this.path===B){if(B instanceof Yi)if(_=t,dt=a,!1===B.pickable)_=!1;else if(H.multiply(B.transform),dt)t:{var bt=_,pt=H;if(B.Jh(bt,pt))_=!0;else{if(void 0===pt&&(pt=B.transform,bt.Ge(B.actualBounds))){_=!0;break t}_=bt.left,dt=bt.right;var Rt=bt.top;bt=bt.bottom;var Xt=at.alloc(),$t=at.alloc(),ie=at.alloc(),oe=cn.alloc();oe.set(pt),oe.jw(B.transform),oe.St(),$t.x=dt,$t.y=Rt,$t.transform(oe),Xt.x=_,Xt.y=Rt,Xt.transform(oe),pt=!1,Fo(B,Xt,$t,ie)?pt=!0:(Xt.x=dt,Xt.y=bt,Xt.transform(oe),Fo(B,Xt,$t,ie)?pt=!0:($t.x=_,$t.y=bt,$t.transform(oe),Fo(B,Xt,$t,ie)?pt=!0:(Xt.x=_,Xt.y=Rt,Xt.transform(oe),Fo(B,Xt,$t,ie)&&(pt=!0)))),cn.free(oe),at.free(Xt),at.free($t),at.free(ie),_=pt}}else _=B.Jh(_,H)}else _=Jg(B,t,a,H);_&&(dt=B,null!==e&&(dt=e(B)),dt&&(null===o||o(dt))&&u.add(dt)),cn.free(H)}}}return void 0===c&&cn.free(g),_||null!==this.background||null!==this.areaBackground}return void 0===c&&cn.free(g),!1},We.prototype.computeCurve=function(){if(null===this.Vf){var t=this.fromPort;this.Vf=null!==t&&t===this.toPort&&!this.isOrthogonal}return this.Vf?es:this.curve},We.prototype.computeCorner=function(){if(this.curve===es)return 0;var t=this.corner;return(isNaN(t)||0>t)&&(t=10),t},We.prototype.findMidLabel=function(){for(var t=this.path,e=this.W.j,o=e.length,a=0;a<o;a++){var u=e[a];if(u!==t&&!u.isPanelMain&&(u.segmentIndex===-1/0||isNaN(u.segmentIndex)))return u}for(t=this.labelNodes;t.next();)if((e=t.value).segmentIndex===-1/0||isNaN(e.segmentIndex))return e;return null},We.prototype.computeSpacing=function(){if(!this.isVisible())return 0;var t=Ix;t=Math.max(t,this.computeThickness());var e=this.fromPort,o=this.toPort;if(null!==e&&null!==o){var a=this.findMidLabel();if(null!==a){var u=a.naturalBounds,c=a.margin,g=isNaN(u.width)?30:u.width*a.scale+c.left+c.right;u=isNaN(u.height)?14:u.height*a.scale+c.top+c.bottom,(a=a.segmentOrientation)===w0||a===b0||a===Im?t=Math.max(t,u):a===cp||a===Rm||a===ud||a===fp?t=Math.max(t,g):(e=e.da(Vi).Pa(o.da(Vi))/180*Math.PI,t=Math.max(t,Math.abs(Math.sin(e)*g)+Math.abs(Math.cos(e)*u)+1)),this.curve===es&&(t*=1.333)}}return t},We.prototype.arrangeBundledLinks=function(t,e){if(e)for(e=0;e<t.length;e++){var o=t[e];o.computeAdjusting()===bs&&o.Ua()}},We.prototype.computeCurviness=function(){var t=this.curviness;if(isNaN(t)){t=Xy;var e=this.Mf;if(null!==e){for(var o=h(),a=0,u=e.links,c=0;c<u.length;c++){var g=u[c].computeSpacing();o.push(g),a+=g}for(a=-a/2,c=0;c<u.length;c++){if(u[c]===this){t=a+o[c]/2;break}a+=o[c]}e.au===this.fromNode&&(t=-t),m(o)}}return t},We.prototype.computeThickness=function(){if(!this.isVisible())return 0;var t=this.path;return null!==t?Math.max(t.strokeWidth,1):1},We.prototype.hasCurviness=function(){return!isNaN(this.curviness)||null!==this.Mf},We.prototype.adjustPoints=function(t,e,o,a){var u=this.computeAdjusting();if(this.isOrthogonal){if(u===$y)return!1;u===wv&&(u=hp)}switch(u){case $y:var c=this.i(t),g=this.i(o);if(!c.Qa(e)||!g.Qa(a)){var _=g.x-(u=c.x),A=g.y-(c=c.y),I=Math.sqrt(_*_+A*A);if(!me.aa(I,0)){if(me.aa(_,0))var B=0>A?-Math.PI/2:Math.PI/2;else B=Math.atan(A/Math.abs(_)),0>_&&(B=Math.PI-B);var H=e.y;_=a.x-(g=e.x);var dt=a.y-H;for(A=Math.sqrt(_*_+dt*dt),me.aa(_,0)?dt=0>dt?-Math.PI/2:Math.PI/2:(dt=Math.atan(dt/Math.abs(_)),0>_&&(dt=Math.PI-dt)),I=A/I,B=dt-B,this.Qc(t,e),t+=1;t<o;t++)_=(e=this.i(t)).x-u,A=e.y-c,e=Math.sqrt(_*_+A*A),me.aa(e,0)||(me.aa(_,0)?A=0>A?-Math.PI/2:Math.PI/2:(A=Math.atan(A/Math.abs(_)),0>_&&(A=Math.PI-A)),_=A+B,this.L(t,g+(e*=I)*Math.cos(_),H+e*Math.sin(_)));this.Qc(o,a)}}return!0;case wv:if(c=this.i(t),H=this.i(o),!c.Qa(e)||!H.Qa(a)){I=((g=H.x)-(u=c.x))*(g-u)+((H=H.y)-(c=c.y))*(H-c),B=e.y,dt=a.y;var bt=1;if((A=a.x)-(_=e.x)!=0){var pt=(dt-B)/(A-_);bt=Math.sqrt(1+1/(pt*pt))}else pt=9e9;for(this.Qc(t,e),t+=1;t<o;t++){var Rt=(e=this.i(t)).x,Xt=e.y,$t=.5;0!==I&&($t=((u-Rt)*(u-g)+(c-Xt)*(c-H))/I);var ie=u+$t*(g-u),oe=c+$t*(H-c);e=Math.sqrt((Rt-ie)*(Rt-ie)+(Xt-oe)*(Xt-oe)),Xt<pt*(Rt-ie)+oe&&(e=-e),0<pt&&(e=-e),Rt=_+$t*(A-_),$t=B+$t*(dt-B),0!==pt?this.L(t,e=Rt+e/bt,$t-(e-Rt)/pt):this.L(t,Rt,$t+e)}this.Qc(o,a)}return!0;case hp:return this.isOrthogonal&&(u=this.i(t),c=this.i(t+1),g=this.i(t+2),H=_=c.x,I=B=c.y,me.A(u.y,c.y)?me.A(c.x,g.x)?B=e.y:me.A(c.y,g.y)&&(_=e.x):me.A(u.x,c.x)&&(me.A(c.y,g.y)?_=e.x:me.A(c.x,g.x)&&(B=e.y)),this.L(t+1,_,B),u=this.i(o),c=this.i(o-1),g=this.i(o-2),A=_=c.x,dt=B=c.y,me.A(u.y,c.y)?me.A(c.x,g.x)?B=a.y:me.A(c.y,g.y)&&(_=a.x):me.A(u.x,c.x)&&(me.A(c.y,g.y)?_=a.x:me.A(c.x,g.x)&&(B=a.y)),this.L(o-1,_,B),ws(this))?(this.L(t+1,H,I),this.L(o-1,A,dt),o=!1):(this.Qc(t,e),this.Qc(o,a),o=!0),o;default:return!1}},We.prototype.addOrthoPoints=function(t,e,o,a,u,c){0>e?e+=360:360<=e&&(e-=360),0>a?a+=360:360<=a&&(a-=360);var g=a;e=315<=e||45>e?0:45<=e&&135>e?90:135<=e&&225>e?180:270,a=315<=a||45>a?0:45<=a&&135>a?90:135<=a&&225>a?180:270;var _=u.actualBounds.copy(),A=c.actualBounds.copy();if(_.o()&&A.o()){if(_.Jc(hd,hd),A.Jc(hd,hd),_.Oe(t),A.Oe(o),0===e)if(o.x>t.x||270===a&&o.y<t.y&&A.right>t.x||90===a&&o.y>t.y&&A.right>t.x){var I=new at(o.x,t.y),B=new at(o.x,(t.y+o.y)/2);180===a?(I.x=this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!1),B.x=I.x,B.y=o.y):270===a&&o.y<t.y||90===a&&o.y>t.y?(I.x=t.x<A.left?this.computeMidOrthoPosition(t.x,t.y,A.left,o.y,!1):t.x<A.right&&(270===a&&t.y<A.top||90===a&&t.y>A.bottom)?this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!1):A.right,B.x=I.x,B.y=o.y):0===a&&t.x<A.left&&t.y>A.top&&t.y<A.bottom&&(I.x=t.x,I.y=t.y<o.y?Math.min(o.y,A.top):Math.max(o.y,A.bottom),B.y=I.y)}else I=new at(t.x,o.y),B=new at((t.x+o.x)/2,o.y),(180===a||90===a&&o.y<_.top||270===a&&o.y>_.bottom)&&(180===a&&(A.$(t)||_.$(o))?I.y=this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!0):o.y<t.y&&(180===a||90===a)?I.y=this.computeMidOrthoPosition(t.x,_.top,o.x,Math.max(o.y,A.bottom),!0):o.y>t.y&&(180===a||270===a)&&(I.y=this.computeMidOrthoPosition(t.x,_.bottom,o.x,Math.min(o.y,A.top),!0)),B.x=o.x,B.y=I.y),I.y>_.top&&I.y<_.bottom&&(o.x>=_.left&&o.x<=t.x||t.x<=A.right&&t.x>=o.x?(90===a||270===a)&&(I=new at(Math.max((t.x+o.x)/2,t.x),t.y),B=new at(I.x,o.y)):(I.y=270===a||(0===a||180===a)&&o.y<t.y?Math.min(o.y,0===a?_.top:Math.min(_.top,A.top)):Math.max(o.y,0===a?_.bottom:Math.max(_.bottom,A.bottom)),B.x=o.x,B.y=I.y));else 180===e?o.x<t.x||270===a&&o.y<t.y&&A.left<t.x||90===a&&o.y>t.y&&A.left<t.x?(I=new at(o.x,t.y),B=new at(o.x,(t.y+o.y)/2),0===a?(I.x=this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!1),B.x=I.x,B.y=o.y):270===a&&o.y<t.y||90===a&&o.y>t.y?(I.x=t.x>A.right?this.computeMidOrthoPosition(t.x,t.y,A.right,o.y,!1):t.x>A.left&&(270===a&&t.y<A.top||90===a&&t.y>A.bottom)?this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!1):A.left,B.x=I.x,B.y=o.y):180===a&&t.x>A.right&&t.y>A.top&&t.y<A.bottom&&(I.x=t.x,I.y=t.y<o.y?Math.min(o.y,A.top):Math.max(o.y,A.bottom),B.y=I.y)):(I=new at(t.x,o.y),B=new at((t.x+o.x)/2,o.y),(0===a||90===a&&o.y<_.top||270===a&&o.y>_.bottom)&&(0===a&&(A.$(t)||_.$(o))?I.y=this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!0):o.y<t.y&&(0===a||90===a)?I.y=this.computeMidOrthoPosition(t.x,_.top,o.x,Math.max(o.y,A.bottom),!0):o.y>t.y&&(0===a||270===a)&&(I.y=this.computeMidOrthoPosition(t.x,_.bottom,o.x,Math.min(o.y,A.top),!0)),B.x=o.x,B.y=I.y),I.y>_.top&&I.y<_.bottom&&(o.x<=_.right&&o.x>=t.x||t.x>=A.left&&t.x<=o.x?(90===a||270===a)&&(I=new at(Math.min((t.x+o.x)/2,t.x),t.y),B=new at(I.x,o.y)):(I.y=270===a||(0===a||180===a)&&o.y<t.y?Math.min(o.y,180===a?_.top:Math.min(_.top,A.top)):Math.max(o.y,180===a?_.bottom:Math.max(_.bottom,A.bottom)),B.x=o.x,B.y=I.y))):90===e?o.y>t.y||180===a&&o.x<t.x&&A.bottom>t.y||0===a&&o.x>t.x&&A.bottom>t.y?(I=new at(t.x,o.y),B=new at((t.x+o.x)/2,o.y),270===a?(I.y=this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!0),B.x=o.x,B.y=I.y):180===a&&o.x<t.x||0===a&&o.x>t.x?(I.y=t.y<A.top?this.computeMidOrthoPosition(t.x,t.y,o.x,A.top,!0):t.y<A.bottom&&(180===a&&t.x<A.left||0===a&&t.x>A.right)?this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!0):A.bottom,B.x=o.x,B.y=I.y):90===a&&t.y<A.top&&t.x>A.left&&t.x<A.right&&(I.x=t.x<o.x?Math.min(o.x,A.left):Math.max(o.x,A.right),I.y=t.y,B.x=I.x)):(I=new at(o.x,t.y),B=new at(o.x,(t.y+o.y)/2),(270===a||0===a&&o.x<_.left||180===a&&o.x>_.right)&&(270===a&&(A.$(t)||_.$(o))?I.x=this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!1):o.x<t.x&&(270===a||0===a)?I.x=this.computeMidOrthoPosition(_.left,t.y,Math.max(o.x,A.right),o.y,!1):o.x>t.x&&(270===a||180===a)&&(I.x=this.computeMidOrthoPosition(_.right,t.y,Math.min(o.x,A.left),o.y,!1)),B.x=I.x,B.y=o.y),I.x>_.left&&I.x<_.right&&(o.y>=_.top&&o.y<=t.y||t.y<=A.bottom&&t.y>=o.y?(0===a||180===a)&&(I=new at(t.x,Math.max((t.y+o.y)/2,t.y)),B=new at(o.x,I.y)):(I.x=180===a||(90===a||270===a)&&o.x<t.x?Math.min(o.x,90===a?_.left:Math.min(_.left,A.left)):Math.max(o.x,90===a?_.right:Math.max(_.right,A.right)),B.x=I.x,B.y=o.y))):o.y<t.y||180===a&&o.x<t.x&&A.top<t.y||0===a&&o.x>t.x&&A.top<t.y?(I=new at(t.x,o.y),B=new at((t.x+o.x)/2,o.y),90===a?(I.y=this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!0),B.x=o.x,B.y=I.y):180===a&&o.x<t.x||0===a&&o.x>=t.x?(I.y=t.y>A.bottom?this.computeMidOrthoPosition(t.x,t.y,o.x,A.bottom,!0):t.y>A.top&&(180===a&&t.x<A.left||0===a&&t.x>A.right)?this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!0):A.top,B.x=o.x,B.y=I.y):270===a&&t.y>A.bottom&&t.x>A.left&&t.x<A.right&&(I.x=t.x<o.x?Math.min(o.x,A.left):Math.max(o.x,A.right),I.y=t.y,B.x=I.x)):(I=new at(o.x,t.y),B=new at(o.x,(t.y+o.y)/2),(90===a||0===a&&o.x<_.left||180===a&&o.x>_.right)&&(90===a&&(A.$(t)||_.$(o))?I.x=this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!1):o.x<t.x&&(90===a||0===a)?I.x=this.computeMidOrthoPosition(_.left,t.y,Math.max(o.x,A.right),o.y,!1):o.x>t.x&&(90===a||180===a)&&(I.x=this.computeMidOrthoPosition(_.right,t.y,Math.min(o.x,A.left),o.y,!1)),B.x=I.x,B.y=o.y),I.x>_.left&&I.x<_.right&&(o.y<=_.bottom&&o.y>=t.y||t.y>=A.top&&t.y<=o.y?(0===a||180===a)&&(I=new at(t.x,Math.min((t.y+o.y)/2,t.y)),B=new at(o.x,I.y)):(I.x=180===a||(90===a||270===a)&&o.x<t.x?Math.min(o.x,270===a?_.left:Math.min(_.left,A.left)):Math.max(o.x,270===a?_.right:Math.max(_.right,A.right)),B.x=I.x,B.y=o.y)));var H=I,dt=B,bt=o;if(this.isAvoiding){var pt=this.diagram;if(null===pt||u===c||this.layer.isTemporary||!Kg(pt)||_.$(bt)&&!c.Kd(u)||A.$(t)&&!u.Kd(c))e=!1;else{var Rt=r0(pt,!0,this.containingGroup,null);if(17!==this.segmentIndex&&Rt.Ek(Math.min(t.x,H.x),Math.min(t.y,H.y),Math.abs(t.x-H.x),Math.abs(t.y-H.y))&&Rt.Ek(Math.min(H.x,dt.x),Math.min(H.y,dt.y),Math.abs(H.x-dt.x),Math.abs(H.y-dt.y))&&Rt.Ek(Math.min(dt.x,bt.x),Math.min(dt.y,bt.y),Math.abs(dt.x-bt.x),Math.abs(dt.y-bt.y)))e=!1;else{u=t,c=bt;var Xt=o=null;if(pt.isVirtualized){(pt=Rt.bounds.copy()).Jc(-Rt.zq,-Rt.yq);var $t=at.alloc();Ky(Rt,t.x,t.y)||(me.Cf(pt.x,pt.y,pt.x+pt.width,pt.y+pt.height,t.x,t.y,H.x,H.y,$t)?(o=t=$t.copy(),e=$t.Pa(H)):me.Cf(pt.x,pt.y,pt.x+pt.width,pt.y+pt.height,H.x,H.y,dt.x,dt.y,$t)?(o=t=$t.copy(),e=$t.Pa(dt)):me.Cf(pt.x,pt.y,pt.x+pt.width,pt.y+pt.height,dt.x,dt.y,bt.x,bt.y,$t)&&(o=t=$t.copy(),e=$t.Pa(bt))),Ky(Rt,bt.x,bt.y)||(me.Cf(pt.x,pt.y,pt.x+pt.width,pt.y+pt.height,bt.x,bt.y,dt.x,dt.y,$t)?(Xt=bt=$t.copy(),a=dt.Pa($t)):me.Cf(pt.x,pt.y,pt.x+pt.width,pt.y+pt.height,dt.x,dt.y,H.x,H.y,$t)?(Xt=bt=$t.copy(),a=H.Pa($t)):me.Cf(pt.x,pt.y,pt.x+pt.width,pt.y+pt.height,H.x,H.y,t.x,t.y,$t)&&(Xt=bt=$t.copy(),a=t.Pa($t))),at.free($t)}(_=_.copy().Rc(A)).Jc(Rt.zq*Rt.Wy,Rt.yq*Rt.Wy),dp(Rt,t,e,bt,a,_,!0),A=mf(Rt,bt.x,bt.y),!Rt.abort&&A>=_0&&(PS(Rt),_.Jc(Rt.zq*Rt.Gy,Rt.yq*Rt.Gy),dp(Rt,t,e,bt,a,_,!1),A=mf(Rt,bt.x,bt.y)),!Rt.abort&&A<_0&&mf(Rt,bt.x,bt.y)!==cd?(xa(this,Rt,bt.x,bt.y,a,!0,g),_=this.i(2),4>this.pointsCount?(0===e||180===e?(_.x=t.x,_.y=bt.y):(_.x=bt.x,_.y=t.y),this.L(2,_.x,_.y),this.m(3,_.x,_.y)):(g=this.i(3),0===e||180===e?me.A(_.x,g.x)?(_=0===e?Math.max(_.x,t.x):Math.min(_.x,t.x),this.L(2,_,t.y),this.L(3,_,g.y)):me.A(_.y,g.y)?(Math.abs(t.y-_.y)<=Rt.yq/2&&(this.L(2,_.x,t.y),this.L(3,g.x,t.y)),this.m(2,_.x,t.y)):this.L(2,t.x,_.y):(90===e||270===e)&&(me.A(_.y,g.y)?(_=90===e?Math.max(_.y,t.y):Math.min(_.y,t.y),this.L(2,t.x,_),this.L(3,g.x,_)):me.A(_.x,g.x)?(Math.abs(t.x-_.x)<=Rt.zq/2&&(this.L(2,t.x,_.y),this.L(3,t.x,g.y)),this.m(2,t.x,_.y)):this.L(2,_.x,t.y))),null!==o&&(t=this.i(1),g=this.i(2),t.x!==g.x&&t.y!==g.y?0===e||180===e?this.m(2,t.x,g.y):this.m(2,g.x,t.y):0===e||180===e?this.m(2,u.x,o.y):this.m(2,o.x,u.y)),null!==Xt&&(0===a||180===a?this.vf(c.x,Xt.y):this.vf(Xt.x,c.y)),e=!0):e=!1}}}else e=!1;e||(this.ce(I),this.ce(B))}},We.prototype.computeMidOrthoPosition=function(t,e,o,a,u){var c=0;return!this.hasCurviness()||this.computeSpot(!0,this.fromPort).Oc()||this.computeSpot(!1,this.toPort).Oc()||(c=this.computeCurviness()),u?(e+a)/2+c:(t+o)/2+c},We.prototype.Sz=function(t){var e=t.x;t=t.y;for(var o=this.i(0),a=this.i(1),u=Te(e,t,o.x,o.y,a.x,a.y),c=0,g=1;g<this.pointsCount-1;g++){o=this.i(g+1);var _=Te(e,t,a.x,a.y,o.x,o.y);a=o,_<u&&(c=g,u=_)}return c},We.prototype.dc=function(){this.$m=!1,this.s()},We.prototype.Gk=function(t){if((t||!1!==this.ud&&(t=this.tb(),!this.$m||null!==t&&null===t.geometry))&&(this.na=this.makeGeometry(),null!==(t=this.path))){t.na=this.na;for(var e=this.W.j,o=e.length,a=0;a<o;a++){var u=e[a];u!==t&&u.isPanelMain&&u instanceof Yi&&(u.na=this.na)}}},We.prototype.makeGeometry=function(){var t=this.na,e=this.pointsCount;if(2>e)return t.type=To,this.$m=!0,t;var o=!1,a=this.diagram;null!==a&&Xa(this)&&a.Vg.contains(this)&&(0!==this.Yl.width||0!==this.Yl.height)&&(o=!0);var u=this.i(0).copy(),c=u.copy();a=this.Ab.j;var g=this.computeCurve();if(g===es&&3<=e&&!me.aa(this.smoothness,0))if(3===e){var _=this.i(1);a=Math.min(u.x,_.x);var A=Math.min(u.y,_.y);_=this.i(2),a=Math.min(a,_.x),A=Math.min(A,_.y)}else{if(this.isOrthogonal)for(A=0;A<e;A++)_=a[A],c.x=Math.min(_.x,c.x),c.y=Math.min(_.y,c.y);else for(a=3;a<e;a+=3)a+3>=e&&(a=e-1),A=this.i(a),c.x=Math.min(A.x,c.x),c.y=Math.min(A.y,c.y);a=c.x,A=c.y}else{for(A=0;A<e;A++)_=a[A],c.x=Math.min(_.x,c.x),c.y=Math.min(_.y,c.y);a=c.x,A=c.y}if(A-=this.vv.y,u.x-=a-=this.vv.x,u.y-=A,2!==e||Xa(this)){if(t.type=pl,_=Lt(t),0!==this.computeShortLength(!0)&&(u=al(this,u,!0,c)),st(_,u.x,u.y,!1),g===es&&3<=e&&!me.aa(this.smoothness,0))if(3===e)e=(o=this.i(1)).x-a,o=o.y-A,(u=this.i(2).copy()).x-=a,u.y-=A,0!==this.computeShortLength(!1)&&(u=al(this,u,!1,c)),lt(_,e,o,e,o,u.x,u.y);else if(this.isOrthogonal){c=new at(a,A),u=this.i(1).copy(),g=new at(a,A),e=new at(a,A),o=this.i(0);for(var I,B=this.smoothness/3,H=1;H<this.pointsCount-1;H++){var dt=o,bt=I=this.i(H),pt=this.i(Pa(this,I,H,!1));if(!(me.aa(dt.x,bt.x)&&me.aa(bt.x,pt.x)||me.aa(dt.y,bt.y)&&me.aa(bt.y,pt.y))){var Rt=B;isNaN(Rt)&&(Rt=this.smoothness/3);var Xt=dt.x,$t=bt.x,ie=pt.x;pt=pt.y;var oe=Rt*au(Xt,dt=dt.y,$t,bt=bt.y);Rt*=au($t,bt,ie,pt),me.aa(dt,bt)&&me.aa($t,ie)&&($t>Xt?pt>bt?(g.x=$t-oe,g.y=bt-oe,e.x=$t+Rt,e.y=bt+Rt):(g.x=$t-oe,g.y=bt+oe,e.x=$t+Rt,e.y=bt-Rt):pt>bt?(g.x=$t+oe,g.y=bt-oe,e.x=$t-Rt,e.y=bt+Rt):(g.x=$t+oe,g.y=bt+oe,e.x=$t-Rt,e.y=bt-Rt)),me.aa(Xt,$t)&&me.aa(bt,pt)&&(bt>dt?(ie>$t?(g.x=$t-oe,g.y=bt-oe,e.x=$t+Rt):(g.x=$t+oe,g.y=bt-oe,e.x=$t-Rt),e.y=bt+Rt):(ie>$t?(g.x=$t-oe,g.y=bt+oe,e.x=$t+Rt):(g.x=$t+oe,g.y=bt+oe,e.x=$t-Rt),e.y=bt-Rt)),(me.aa(Xt,$t)&&me.aa($t,ie)||me.aa(dt,bt)&&me.aa(bt,pt))&&(dt=.5*(dt+pt),g.x=Xt=.5*(Xt+ie),g.y=dt,e.x=Xt,e.y=dt),(1===H||2===H&&me.aa(o.x,this.i(0).x)&&me.aa(o.y,this.i(0).y))&&(u.x=.5*(o.x+I.x),u.y=.5*(o.y+I.y)),lt(_,u.x-a,u.y-A,g.x-a,g.y-A,I.x-a,I.y-A),c.set(g),u.set(e),o=I}}c=o.x,o=o.y,u=this.i(this.pointsCount-1),0!==this.computeShortLength(!1)&&(u=al(this,u.copy(),!1,ei)),lt(_,e.x-a,e.y-A,(c=.5*(c+u.x))-a,(o=.5*(o+u.y))-A,u.x-a,u.y-A)}else for(o=3;o<e;o+=3)c=this.i(o-2),o+3>=e&&(o=e-1),u=this.i(o-1),g=this.i(o),o===e-1&&0!==this.computeShortLength(!1)&&(g=al(this,g.copy(),!1,ei)),lt(_,c.x-a,c.y-A,u.x-a,u.y-A,g.x-a,g.y-A);else{for((c=at.alloc()).assign(this.i(0)),(u=at.alloc()).assign(c),g=this.computeCorner(),H=1,I=0;H<e;){if(H=Pa(this,c,H,1<H),B=this.i(H),H>=e-1){if(c.w(B)){if(0===I)for(H=1;H<e;)u.assign(c),Gn(this,_,-a,-A,c,B=this.i(H++),o),c.assign(B)}else 0!==this.computeShortLength(!1)&&(B=al(this,B.copy(),!1,ei)),Gn(this,_,-a,-A,c,B,o);break}if(I=Pa(this,B,H+1,H<e-3),H=-a,Xt=-A,dt=B,Rt=this.i(I),$t=o,me.A(c.y,dt.y)&&me.A(dt.x,Rt.x))if(bt=Math.min(g,Math.abs(dt.x-u.x)/2),bt=ie=Math.min(bt,Math.abs(Rt.y-dt.y)/2),me.A(bt,0))Gn(this,_,H,Xt,c,dt,$t),c.assign(dt);else{var ce=pt=dt.x,_e=oe=dt.y;_e=Rt.y>dt.y?dt.y+ie:dt.y-ie,Gn(this,_,H,Xt,c,new at(pt=dt.x>c.x?dt.x-bt:dt.x+bt,oe),$t),yt(_,dt.x+H,dt.y+Xt,ce+H,_e+Xt),c.h(ce,_e)}else me.A(c.x,dt.x)&&me.A(dt.y,Rt.y)?(bt=Math.min(g,Math.abs(dt.y-u.y)/2),bt=ie=Math.min(bt,Math.abs(Rt.x-dt.x)/2),me.A(ie,0)?(Gn(this,_,H,Xt,c,dt,$t),c.assign(dt)):(ce=pt=dt.x,_e=oe=dt.y,ce=Rt.x>dt.x?dt.x+ie:dt.x-ie,Gn(this,_,H,Xt,c,new at(pt,oe=dt.y>c.y?dt.y-bt:dt.y+bt),$t),yt(_,dt.x+H,dt.y+Xt,ce+H,_e+Xt),c.h(ce,_e))):(Gn(this,_,H,Xt,c,dt,$t),c.assign(dt));u.assign(B),H=I}at.free(c)}zt=_}else(_=this.i(1).copy()).x-=a,_.y-=A,0!==this.computeShortLength(!0)&&(u=al(this,u,!0,c)),0!==this.computeShortLength(!1)&&(_=al(this,_,!1,c)),t.type=To,t.startX=u.x,t.startY=u.y,t.endX=_.x,t.endY=_.y;return this.$m=!0,t},We.prototype.computeJumpLength=function(){return 10},We.prototype.Oq=function(t){var e=this.layer;if(null!==e&&e.visible&&!e.isTemporary){var o=e.diagram;if(null!==o&&!o.animationManager.isTicking){var a=!1;for(o=o.layers;o.next();){var u=o.value;if(u.visible)if(u===e){a=!0;for(var c=!1,g=(u=u.Fa.j).length,_=0;_<g;_++){var A=u[_];A instanceof We&&(A===this?c=!0:c&&df(this,A,t))}}else if(a)for(u=(c=u.Fa.j).length,g=0;g<u;g++)(_=c[g])instanceof We&&df(this,_,t)}}}},We.prototype.usesSamePort=function(t){var e=this.pointsCount,o=t.pointsCount;if(0<e&&0<o){var a=this.i(0),u=t.i(0);if(a.Qa(u)||(e=this.i(e-1),t=t.i(o-1),e.Qa(t)||a.Qa(t)||e.Qa(u)))return!0}else if(this.fromNode===t.fromNode||this.toNode===t.toNode||this.fromNode===t.toNode||this.toNode===t.fromNode)return!0;return!1},We.prototype.isVisible=function(){if(!Bt.prototype.isVisible.call(this))return!1;var t=this.containingGroup,e=!0,o=this.diagram;if(null!==o&&(e=o.isTreePathToChildren),null!==(o=this.fromNode)){if(this.isTreeLink&&e&&!o.isTreeExpanded)return!1;if(o===t)return!0;for(var a=o;null!==a;){if(a.labeledLink===this)return!0;a=a.containingGroup}if(null===(o=o.findVisibleNode())||o===t)return!1}if(null!==(o=this.toNode)){if(this.isTreeLink&&!e&&!o.isTreeExpanded)return!1;if(o===t)return!0;for(e=o;null!==e;){if(e.labeledLink===this)return!0;e=e.containingGroup}if(null===(e=o.findVisibleNode())||e===t)return!1}return!0},We.prototype.Ob=function(t){if(Bt.prototype.Ob.call(this,t),null!==this.Mf&&this.Mf.Dm(),null!==this.nd)for(var e=this.nd.iterator;e.next();)e.value.Ob(t)},We.prototype.computeAdjusting=function(){return this.isAvoiding&&null!==this.diagram&&this.diagram.animationManager.defaultAnimation.isAnimating?hp:this.Yk},We.prototype.Ph=function(){return!0},W.Object.defineProperties(We.prototype,{fromNode:{get:function(){return this.We},set:function(t){var e=this.We;if(e!==t){var o=this.fromPort;null!==e&&(this.rf!==e&&gn(e,this,o),bc(this),this.C(2)),this.We=t,null!==t&&this.Ob(t.isVisible()),this.Vf=null,this.Ua();var a=this.diagram;null!==a&&a.Z&&a.partManager.setFromNodeForLink(this,t,e);var u=this.fromPort,c=this.fromPortChanged;if(null!==c){var g=!0;null!==a&&(g=a.Z,a.Z=!0),c(this,o,u),null!==a&&(a.Z=g)}null!==t&&(this.rf!==t&&qi(t,this,u),wc(this),this.C(1)),this.g("fromNode",e,t),Xi(this)}}},fromPortId:{get:function(){return this.Xe},set:function(t){var e=this.Xe;if(e!==t){var o=this.fromPort;null!==o&&Oi(o),bc(this),this.Xe=t;var a=this.fromPort;null!==a&&Oi(a);var u=this.diagram;if(null!==u){var c=this.data,g=u.model;null!==c&&g.qj()&&g.Cw(c,t)}o!==a&&(this.Vf=null,this.Ua(),null!==(c=this.fromPortChanged)&&(g=!0,null!==u&&(g=u.Z,u.Z=!0),c(this,o,a),null!==u&&(u.Z=g))),wc(this),this.g("fromPortId",e,t)}}},fromPort:{get:function(){var t=this.We;return null===t?null:t.Jt(this.Xe)}},fromPortChanged:{get:function(){return this.fo},set:function(t){var e=this.fo;e!==t&&(this.fo=t,this.g("fromPortChanged",e,t))}},toNode:{get:function(){return this.rf},set:function(t){var e=this.rf;if(e!==t){var o=this.toPort;null!==e&&(this.We!==e&&gn(e,this,o),bc(this),this.C(2)),this.rf=t,null!==t&&this.Ob(t.isVisible()),this.Vf=null,this.Ua();var a=this.diagram;null!==a&&a.Z&&a.partManager.setToNodeForLink(this,t,e);var u=this.toPort,c=this.toPortChanged;if(null!==c){var g=!0;null!==a&&(g=a.Z,a.Z=!0),c(this,o,u),null!==a&&(a.Z=g)}null!==t&&(this.We!==t&&qi(t,this,u),wc(this),this.C(1)),this.g("toNode",e,t),Xi(this)}}},toPortId:{get:function(){return this.sf},set:function(t){var e=this.sf;if(e!==t){var o=this.toPort;null!==o&&Oi(o),bc(this),this.sf=t;var a=this.toPort;null!==a&&Oi(a);var u=this.diagram;if(null!==u){var c=this.data,g=u.model;null!==c&&g.qj()&&g.Hw(c,t)}o!==a&&(this.Vf=null,this.Ua(),null!==(c=this.toPortChanged)&&(g=!0,null!==u&&(g=u.Z,u.Z=!0),c(this,o,a),null!==u&&(u.Z=g))),wc(this),this.g("toPortId",e,t)}}},toPort:{get:function(){var t=this.rf;return null===t?null:t.Jt(this.sf)}},toPortChanged:{get:function(){return this.mq},set:function(t){var e=this.mq;e!==t&&(this.mq=t,this.g("toPortChanged",e,t))}},fromSpot:{get:function(){return null!==this.O?this.O.bh:Os},set:function(t){this.Kc();var e=this.O.bh;e.w(t)||(t=t.H(),this.O.bh=t,this.g("fromSpot",e,t),(e.Oc()||t.Oc())&&null!==this.fromNode&&Oi(this.fromPort),this.Ua())}},fromEndSegmentLength:{get:function(){return null!==this.O?this.O.$g:NaN},set:function(t){this.Kc();var e=this.O.$g;e!==t&&(0>t&&et(t,">= 0",We,"fromEndSegmentLength"),this.O.$g=t,this.g("fromEndSegmentLength",e,t),this.Ua())}},fromShortLength:{get:function(){return null!==this.O?this.O.ah:NaN},set:function(t){this.Kc();var e=this.O.ah;e!==t&&(this.O.ah=t,this.dc(),this.g("fromShortLength",e,t))}},toSpot:{get:function(){return null!==this.O?this.O.Ch:Os},set:function(t){this.Kc();var e=this.O.Ch;e.w(t)||(t=t.H(),this.O.Ch=t,this.g("toSpot",e,t),(e.Oc()||t.Oc())&&null!==this.toNode&&Oi(this.toPort),this.Ua())}},toEndSegmentLength:{get:function(){return null!==this.O?this.O.Ah:NaN},set:function(t){this.Kc();var e=this.O.Ah;e!==t&&(0>t&&et(t,">= 0",We,"toEndSegmentLength"),this.O.Ah=t,this.g("toEndSegmentLength",e,t),this.Ua())}},toShortLength:{get:function(){return null!==this.O?this.O.Bh:NaN},set:function(t){this.Kc();var e=this.O.Bh;e!==t&&(this.O.Bh=t,this.dc(),this.g("toShortLength",e,t))}},isLabeledLink:{get:function(){return null!==this.nd&&0<this.nd.count}},labelNodes:{get:function(){return null===this.nd?Ot:this.nd.iterator}},relinkableFrom:{get:function(){return 0!=(1&this.Ga)},set:function(t){var e=0!=(1&this.Ga);e!==t&&(this.Ga^=1,this.g("relinkableFrom",e,t),this.Lb())}},relinkableTo:{get:function(){return 0!=(2&this.Ga)},set:function(t){var e=0!=(2&this.Ga);e!==t&&(this.Ga^=2,this.g("relinkableTo",e,t),this.Lb())}},resegmentable:{get:function(){return 0!=(4&this.Ga)},set:function(t){var e=0!=(4&this.Ga);e!==t&&(this.Ga^=4,this.g("resegmentable",e,t),this.Lb())}},isTreeLink:{get:function(){return 0!=(8&this.Ga)},set:function(t){var e=0!=(8&this.Ga);e!==t&&(this.Ga^=8,this.g("isTreeLink",e,t),null!==this.fromNode&&mr(this.fromNode),null!==this.toNode&&mr(this.toNode))}},path:{get:function(){var t=this.tb();return t instanceof Yi?t:null}},routeBounds:{get:function(){this.xj();var t=this.Yl,e=1/0,o=1/0,a=this.pointsCount;if(0===a)t.h(NaN,NaN,0,0);else{if(1===a)a=this.i(0),e=Math.min(a.x,e),o=Math.min(a.y,o),t.h(a.x,a.y,0,0);else if(2===a){a=this.i(0);var u=this.i(1);e=Math.min(a.x,u.x),o=Math.min(a.y,u.y),t.h(a.x,a.y,0,0),t.Oe(u)}else if(this.computeCurve()===es&&3<=a&&!this.isOrthogonal)if(u=this.i(0),t.h(e=u.x,o=u.y,0,0),3===a){a=this.i(1),e=Math.min(a.x,e),o=Math.min(a.y,o);var c=this.i(2);e=Math.min(c.x,e),o=Math.min(c.y,o),me.vm(u.x,u.y,a.x,a.y,a.x,a.y,c.x,c.y,.5,t)}else for(c=3;c<a;c+=3){var g=this.i(c-2);c+3>=a&&(c=a-1);var _=this.i(c-1),A=this.i(c);me.vm(u.x,u.y,g.x,g.y,_.x,_.y,A.x,A.y,.5,t),e=Math.min(A.x,e),o=Math.min(A.y,o),u=A}else for(u=this.i(0),c=this.i(1),e=Math.min(u.x,c.x),o=Math.min(u.y,c.y),t.h(u.x,u.y,0,0),t.Oe(c),u=2;u<a;u++)c=this.i(u),e=Math.min(c.x,e),o=Math.min(c.y,o),t.Oe(c);this.vv.h(e-t.x,o-t.y)}return t}},midPoint:{get:function(){return this.xj(),this.computeMidPoint(new at)}},midAngle:{get:function(){return this.xj(),this.computeMidAngle()}},flattenedLengths:{get:function(){if(null===this.$r){this.ud||Oo(this);for(var t=this.$r=[],e=this.pointsCount,o=0;o<e-1;o++){var a=this.i(o),u=this.i(o+1);me.aa(a.x,u.x)?0>(a=u.y-a.y)&&(a=-a):me.aa(a.y,u.y)?0>(a=u.x-a.x)&&(a=-a):a=Math.sqrt(a.Ie(u)),t.push(a)}}return this.$r}},flattenedTotalLength:{get:function(){var t=this.Ru;if(isNaN(t)){for(var e=this.flattenedLengths,o=e.length,a=t=0;a<o;a++)t+=e[a];this.Ru=t}return t}},points:{get:function(){return this.Ab},set:function(t){var e=this.Ab;if(e!==t){var o=null;if(Array.isArray(t)){var a=t.length%2==0;if(a)for(var u=0;u<t.length;u++)if("number"!=typeof t[u]||isNaN(t[u])){a=!1;break}if(a)for(o=new Vt,a=0;a<t.length/2;a++)u=new at(t[2*a],t[2*a+1]).freeze(),o.add(u);else{for(a=!0,u=0;u<t.length;u++){var c=t[u];if(!gt(c)||"number"!=typeof c.x||isNaN(c.x)||"number"!=typeof c.y||isNaN(c.y)){a=!1;break}}if(a)for(o=new Vt,a=0;a<t.length;a++)o.add(new at((u=t[a]).x,u.y).freeze())}}else if(t instanceof Vt)for(o=t.copy(),t=o.iterator;t.next();)t.value.freeze();else V("Link.points value is not an instance of List or Array: "+t);o.freeze(),this.Ab=o,this.dc(),Oo(this),null!==(t=this.diagram)&&(t.pj||t.undoManager.isUndoingRedoing||t.Yt.add(this),t.animationManager.sc&&(t=t.animationManager,this.jf=o,t.$l.add(this))),this.g("points",e,o)}}},pointsCount:{get:function(){return this.Ab.count}},ud:{get:function(){return 0!=(16&this.Ga)},set:function(t){0!=(16&this.Ga)!==t&&(this.Ga^=16)}},suspendsRouting:{get:function(){return 0!=(32&this.Ga)},set:function(t){0!=(32&this.Ga)!==t&&(this.Ga^=32)}},Ct:{get:function(){return 0!=(64&this.Ga)},set:function(t){0!=(64&this.Ga)!==t&&(this.Ga^=64)}},defaultFromPoint:{get:function(){return this.u},set:function(t){this.u=t.copy()}},defaultToPoint:{get:function(){return this.I},set:function(t){this.I=t.copy()}},isOrthogonal:{get:function(){return 2==(2&this.ck.value)}},isAvoiding:{get:function(){return 4==(4&this.ck.value)}},$m:{get:function(){return 0!=(128&this.Ga)},set:function(t){0!=(128&this.Ga)!==t&&(this.Ga^=128)}},geometry:{get:function(){return this.$m||(this.xj(),this.na=this.makeGeometry()),this.na}},firstPickIndex:{get:function(){return 2>=this.pointsCount?0:this.isOrthogonal||!Cr(this.computeSpot(!0))?1:0}},lastPickIndex:{get:function(){var t=this.pointsCount;return 0===t?0:2>=t?t-1:this.isOrthogonal||!Cr(this.computeSpot(!1))?t-2:t-1}},adjusting:{get:function(){return this.Yk},set:function(t){var e=this.Yk;e!==t&&(this.Yk=t,this.g("adjusting",e,t))}},corner:{get:function(){return this.Hn},set:function(t){var e=this.Hn;e!==t&&(this.Hn=t,this.dc(),this.g("corner",e,t))}},curve:{get:function(){return this.Jn},set:function(t){var e=this.Jn;e!==t&&(this.Jn=t,this.Ua(),this.dc(),Ka(this,e===Ia||e===pf||t===Ia||t===pf),this.g("curve",e,t))}},curviness:{get:function(){return this.Kn},set:function(t){var e=this.Kn;e!==t&&(this.Kn=t,this.Ua(),this.dc(),this.g("curviness",e,t))}},routing:{get:function(){return this.ck},set:function(t){var e=this.ck;e!==t&&(this.ck=t,this.Vf=null,this.Ua(),Ka(this,2==(2&e.value)||2==(2&t.value)),this.g("routing",e,t))}},smoothness:{get:function(){return this.Zp},set:function(t){var e=this.Zp;e!==t&&(this.Zp=t,this.dc(),this.g("smoothness",e,t))}},key:{get:function(){var t=this.diagram;if(null!==t&&t.model.qj())return t.model.Wb(this.data)}}}),We.prototype.invalidateOtherJumpOvers=We.prototype.Oq,We.prototype.findClosestSegment=We.prototype.Sz,We.prototype.updateRoute=We.prototype.xj,We.prototype.invalidateRoute=We.prototype.Ua,We.prototype.rollbackRoute=We.prototype.yw,We.prototype.commitRoute=We.prototype.xf,We.prototype.startRoute=We.prototype.Th,We.prototype.clearPoints=We.prototype.pk,We.prototype.removePoint=We.prototype.uw,We.prototype.addPointAt=We.prototype.vf,We.prototype.addPoint=We.prototype.ce,We.prototype.insertPointAt=We.prototype.m,We.prototype.insertPoint=We.prototype.wA,We.prototype.setPointAt=We.prototype.L,We.prototype.setPoint=We.prototype.Qc,We.prototype.getPoint=We.prototype.i,We.prototype.getOtherPort=We.prototype.nA,We.prototype.getOtherNode=We.prototype.Kq;var na=null,Ys=null,Cl=new wt(We,"Normal",1),Sl=new wt(We,"Orthogonal",2),up=new wt(We,"AvoidsNodes",6),_c=new wt(We,"AvoidsNodesStraight",7),bs=new wt(We,"None",0),es=new wt(We,"Bezier",9),Ia=new wt(We,"JumpGap",10),pf=new wt(We,"JumpOver",11),hp=new wt(We,"End",17),$y=new wt(We,"Scale",18),wv=new wt(We,"Stretch",19),w0=new wt(We,"OrientAlong",21),ud=new wt(We,"OrientPlus90",22),cp=new wt(We,"OrientMinus90",23),Im=new wt(We,"OrientOpposite",24),b0=new wt(We,"OrientUpright",25),fp=new wt(We,"OrientPlus90Upright",26),Rm=new wt(We,"OrientMinus90Upright",27),Dl=new wt(We,"OrientUpright45",28),Xy=16,Ix=14,hd=8;function Nu(t,e,o,a){ge(this),this.se=this.hs=!1,this.au=t,this.My=e,this.lw=o,this.Ny=a,this.links=[]}function bv(){ge(this),this.Vy=this.group=null,this.Rt=!0,this.abort=!1,this.Bd=this.Ad=1,this.So=this.Ro=-1,this.gc=this.fc=8,this.Rb=null,this.$i=this.Zi=0,this.Wy=11,this.Gy=124}function Ky(t,e,o){return t.Ad<=e&&e<=t.Ro&&t.Bd<=o&&o<=t.So}function mf(t,e,o){return Ky(t,e,o)?(e-=t.Ad,o-=t.Bd,t.Rb[0|(e/=t.fc)][0|(o/=t.gc)]):Ox}function PS(t){if(null!==t.Rb)for(var e=0;e<=t.Zi;e++)for(var o=t.Rb[e],a=0;a<=t.$i;a++)o[a]>=pp&&(o[a]=Ox)}function gf(t,e,o,a,u,c,g,_,A){if(!(e<c||e>g||o<_||o>A)){var I=0|e,B=0|o,H=t.Rb[I][B];if(H>=pp&&H<_0)for(u?B+=a:I+=a,H+=1;c<=I&&I<=g&&_<=B&&B<=A&&!(H>=t.Rb[I][B]);)t.Rb[I][B]=H,H+=1,u?B+=a:I+=a;if(I=u?B:I,u)if(0<a)for(o+=a;o<I;o+=a)gf(t,e,o,1,!u,c,g,_,A),gf(t,e,o,-1,!u,c,g,_,A);else for(o+=a;o>I;o+=a)gf(t,e,o,1,!u,c,g,_,A),gf(t,e,o,-1,!u,c,g,_,A);else if(0<a)for(e+=a;e<I;e+=a)gf(t,e,o,1,!u,c,g,_,A),gf(t,e,o,-1,!u,c,g,_,A);else for(e+=a;e>I;e+=a)gf(t,e,o,1,!u,c,g,_,A),gf(t,e,o,-1,!u,c,g,_,A)}}function xb(t,e,o,a,u,c,g,_,A){var I=cd,B=pp;for(t.Rb[e|=0][o|=0]=B;I===cd&&e>c&&e<g&&o>_&&o<A;)t.Rb[e][o]=B+=1,u?o+=a:e+=a,I=t.Rb[e][o]}function wb(t,e,o,a,u,c,g,_,A){var I=cd,B=_0;for(t.Rb[e|=0][o|=0]=B;I===cd&&e>c&&e<g&&o>_&&o<A;)t.Rb[e][o]=B,u?o+=a:e+=a,I=t.Rb[e][o]}function dp(t,e,o,a,u,c,g){if(null!==t.Rb){t.abort=!1;var _=e.x,A=e.y;if(Ky(t,_,A)){_-=t.Ad,_/=t.fc,A-=t.Bd,A/=t.gc;var I=a.x,B=a.y;if(Ky(t,I,B))if(I-=t.Ad,I/=t.fc,B-=t.Bd,B/=t.gc,1>=Math.abs(_-I)&&1>=Math.abs(A-B))t.abort=!0;else{var H=c.x;a=c.y,e=c.x+c.width;var dt=c.y+c.height;H-=t.Ad,H/=t.fc,a-=t.Bd,a/=t.gc,e-=t.Ad,e/=t.fc,dt-=t.Bd,dt/=t.gc,c=Math.max(0,Math.min(t.Zi,0|H)),e=Math.min(t.Zi,Math.max(0,0|e)),H=Math.max(0,Math.min(t.$i,0|a)),dt=Math.min(t.$i,Math.max(0,0|dt)),I|=0,B|=0;var bt=0===o||90===o?1:-1;if(o=90===o||270===o,(a=t.Rb)[_|=0][A|=0]===cd?(xb(t,_,A,bt,o,c,e,H,dt),xb(t,_,A,1,!o,c,e,H,dt),xb(t,_,A,-1,!o,c,e,H,dt)):xb(t,_,A,bt,o,_,A,_,A),a[I][B]===cd?(wb(t,I,B,0===u||90===u?1:-1,90===u||270===u,c,e,H,dt),wb(t,I,B,1,!(90===u||270===u),c,e,H,dt),wb(t,I,B,-1,!(90===u||270===u),c,e,H,dt)):wb(t,I,B,bt,o,I,B,I,B),o=h(),g&&Rx(t,I,B,u,_,A,o))for((o[0]!==I||o[1]!==B)&&(o.unshift(B),o.unshift(I)),(o[o.length-2]!==_||o[o.length-1]!==A)&&(o.push(_),o.push(A)),t=pp,a[u=o[o.length-2]][g=o[o.length-1]]=t++,c=o.length-4;0<=c;c-=2)for(u=o[c+2],g=o[c+3],e=o[c],I=o[c+1];e>u?u++:e<u?u--:I>g?g++:I<g&&g--,a[u][g]=t++,u!==e||g!==I;);else gf(t,_,A,1,!1,c,e,H,dt),gf(t,_,A,-1,!1,c,e,H,dt),gf(t,_,A,1,!0,c,e,H,dt),gf(t,_,A,-1,!0,c,e,H,dt);m(o)}}}}function Rx(t,e,o,a,u,c,g){for(var _=t.Rb,A=e,I=o;;){if(A===u&&I===c)return!0;var B=A,H=I;if(0===a){if(!(B<u))break;B++}else if(90===a){if(!(H<c))break;H++}else if(180===a){if(!(B>u))break;B--}else{if(!(H>c))break;H--}var dt=_[B][H];if(0===dt||dt===Zy)break;A=B,I=H}for(;;){if(B=a,H=A,dt=I,0===a?dt<c?(B=90,dt++):dt>c&&(B=270,dt--):90===a?H<u?(B=0,H++):H>u&&(B=180,H--):180===a?dt<c?(B=90,dt++):dt>c&&(B=270,dt--):H<u?(B=0,H++):H>u&&(B=180,H--),H=_[H][dt],B!==a&&0!==H&&H!==Zy){if(g.push(A),g.push(I),Rx(t,A,I,B,u,c,g))return!0;g.pop(),g.pop()}if(_[A][I]=Zy,0===a){if(A===e)return!1;A--}else if(90===a){if(I===o)return!1;I--}else if(180===a){if(A===e)return!1;A++}else{if(I===o)return!1;I++}}}We.className="Link",We.Normal=Cl,We.Orthogonal=Sl,We.AvoidsNodes=up,We.AvoidsNodesStraight=_c,We.None=bs,We.Bezier=es,We.JumpGap=Ia,We.JumpOver=pf,We.End=hp,We.Scale=$y,We.Stretch=wv,We.OrientAlong=w0,We.OrientPlus90=ud,We.OrientMinus90=cp,We.OrientOpposite=Im,We.OrientUpright=b0,We.OrientPlus90Upright=fp,We.OrientMinus90Upright=Rm,We.OrientUpright45=Dl,We.EndSegmentStep=8,We.CurvinessStart=Xy,We.SpacingMin=Ix,We.OrthoShortCut=hd,We.AvoidanceCell=8,We.AvoidanceLimit=999,Nu.prototype.Dm=function(){if(!this.hs){var t=this.links;0<t.length&&null!==(t=t[0].diagram)&&(t.Tu.add(this),this.se=t.undoManager.isUndoingRedoing)}this.hs=!0},Nu.prototype.Vw=function(){if(this.hs){this.hs=!1;var t=this.links;if(0<t.length){var e=t[0],o=e.diagram;o=null===o||o.pj&&!this.se,this.se=!1,e.arrangeBundledLinks(t,o),1===t.length&&(e.Mf=null,t.length=0)}0===t.length&&(t=this.au,null!==this&&null!==t.Se&&t.Se.remove(this),t=this.lw,null!==this&&null!==t.Se&&t.Se.remove(this))}},Nu.className="LinkBundle",bv.prototype.initialize=function(t){if(!(0>=t.width||0>=t.height)){var e=t.y,o=t.x+t.width,a=t.y+t.height;if(this.Ad=Math.floor((t.x-this.fc)/this.fc)*this.fc,this.Bd=Math.floor((e-this.gc)/this.gc)*this.gc,this.Ro=Math.ceil((o+2*this.fc)/this.fc)*this.fc,this.So=Math.ceil((a+2*this.gc)/this.gc)*this.gc,t=1+(0|Math.ceil((this.Ro-this.Ad)/this.fc)),e=1+(0|Math.ceil((this.So-this.Bd)/this.gc)),null===this.Rb||this.Zi<t-1||this.$i<e-1){for(o=[],a=0;a<=t;a++)o[a]=new Uint32Array(e);this.Rb=o,this.Zi=t-1,this.$i=e-1}if(t=Ox,null!==this.Rb)for(e=0;e<=this.Zi;e++)if((o=this.Rb[e]).fill)o.fill(t);else for(a=0;a<=this.$i;a++)o[a]=t}},bv.prototype.Ek=function(t,e,o,a){if(t>this.Ro||t+o<this.Ad||e>this.So||e+a<this.Bd)return!0;t=(t-this.Ad)/this.fc|0,e=(e-this.Bd)/this.gc|0,o=Math.max(0,o)/this.fc+1|0;var u=Math.max(0,a)/this.gc+1|0;if(0>t&&(o+=t,t=0),0>e&&(u+=e,e=0),0>o||0>u)return!0;for(a=0|Math.min(t+o-1,this.Zi),o=0|Math.min(e+u-1,this.$i);t<=a;t++){u=this.Rb[t];for(var c=e;c<=o;c++)if(u[c]===cd)return!1}return!0},W.Object.defineProperties(bv.prototype,{bounds:{get:function(){return new te(this.Ad,this.Bd,this.Ro-this.Ad,this.So-this.Bd)}},zq:{get:function(){return this.fc},set:function(t){0<t&&t!==this.fc&&(this.fc=t,this.initialize(this.bounds))}},yq:{get:function(){return this.gc},set:function(t){0<t&&t!==this.gc&&(this.gc=t,this.initialize(this.bounds))}}});var cd=0,pp=1,_0=999999,Ox=_0+1,Zy=_0+2;function Om(){ge(this),this.port=this.node=null,this.de=[],this.Sq=!1}function M0(t,e,o,a){switch(e=e.offsetY){case 8:return 90;case 2:return 180;case 1:return 270;case 4:return 0}switch(e){case 9:return 180<o?270:90;case 6:return 90<o&&270>=o?180:0}switch(t=180*Math.atan2(t.height,t.width)/Math.PI,e){case 3:return o>t&&o<=180+t?180:270;case 5:return o>180-t&&o<=360-t?270:0;case 12:return o>t&&o<=180+t?90:0;case 10:return o>180-t&&o<=360-t?180:90;case 7:return 90<o&&o<=180+t?180:o>180+t&&o<=360-t?270:0;case 13:return 180<o&&o<=360-t?270:o>t&&180>=o?90:0;case 14:return o>t&&o<=180-t?90:o>180-t&&270>=o?180:0;case 11:return o>180-t&&o<=180+t?180:o>180+t?270:90}return a&&15!==e&&0>(o-=15)&&(o+=360),o>t&&o<180-t?90:o>=180-t&&o<=180+t?180:o>180+t&&o<360-t?270:0}function bb(t,e){var o=t.de;if(0===o.length){t:if(!t.Sq){o=t.Sq,t.Sq=!0;var a=null,u=t.node,c=u instanceof ai?u:null;if(null===c||c.isSubGraphExpanded)var g=u.isTreeExpanded?u.findLinksConnected(t.port.portId):u.py();else{if(!c.actualBounds.o()){t.Sq=o;break t}g=(a=c).Rv()}c=t.de.length=0;var _=t.port.da(ar,at.alloc()),A=t.port.da(Ha,at.alloc());for((u=te.allocAt(_.x,_.y,0,0)).Oe(A),at.free(_),at.free(A),_=at.allocAt(u.x+u.width/2,u.y+u.height/2),A=t.port.lj(),g=g.iterator;g.next();){var I=g.value;if(I.isVisible()&&I.fromPort!==I.toPort){var B=I.fromPort===t.port||null!==I.fromNode&&I.fromNode.Kd(a),H=I.computeSpot(B,t.port);if(H.Oc()){var dt=B?I.toPort:I.fromPort;if(null!==dt&&null!==(B=dt.part)){var bt=B.findVisibleNode();null!==bt&&bt!==B&&(dt=(B=bt).port),B=I.computeOtherPoint(B,dt),dt=_.Pa(dt.da(Vi)),dt+=(_.Pa(B)-dt)/360,0>(dt-=A)?dt+=360:360<=dt&&(dt-=360),0===(H=M0(u,H,dt,I.isOrthogonal))?(H=4,180<dt&&(dt-=360)):90===H?(H=8,270<dt&&(dt-=360)):180===H?H=2:(H=1,90>dt&&(dt+=360)),void 0===(bt=t.de[c])?(bt=new _b(I,dt,H),t.de[c]=bt):(bt.link=I,bt.angle=dt,bt.Ac=H),bt.ow.set(B),c++}}}}for(at.free(_),t.de.sort(Om.prototype.l),A=t.de.length,a=-1,c=_=0;c<A;c++)void 0!==(g=t.de[c])&&(g.Ac!==a&&(a=g.Ac,_=0),g.Lq=_,_++);for(a=-1,_=0,c=A-1;0<=c;c--)void 0!==(A=t.de[c])&&(A.Ac!==a&&(a=A.Ac,_=A.Lq+1),A.wm=_);if(c=t.de,H=t.port,a=t.node.portSpreading,_=at.alloc(),A=at.alloc(),g=at.alloc(),I=at.alloc(),H.da(ar,_),H.da(vo,A),H.da(Ha,g),H.da(ph,I),bt=dt=B=H=0,a===Xr)for(var pt=0;pt<c.length;pt++){var Rt=c[pt];if(null!==Rt){var Xt=Rt.link.computeThickness();switch(Rt.Ac){case 8:dt+=Xt;break;case 2:bt+=Xt;break;case 1:H+=Xt;break;default:B+=Xt}}}var $t=pt=0,ie=1,oe=Rt=0;for(Xt=0;Xt<c.length;Xt++){var ce=c[Xt];if(null!==ce){if(pt!==ce.Ac){switch(pt=ce.Ac){case 8:var _e=g;$t=I;break;case 2:_e=I,$t=_;break;case 1:_e=_,$t=A;break;default:_e=A,$t=g}switch(Rt=$t.x-_e.x,oe=$t.y-_e.y,pt){case 8:dt>Math.abs(Rt)?(ie=Math.abs(Rt)/dt,dt=Math.abs(Rt)):ie=1;break;case 2:bt>Math.abs(oe)?(ie=Math.abs(oe)/bt,bt=Math.abs(oe)):ie=1;break;case 1:H>Math.abs(Rt)?(ie=Math.abs(Rt)/H,H=Math.abs(Rt)):ie=1;break;default:B>Math.abs(oe)?(ie=Math.abs(oe)/B,B=Math.abs(oe)):ie=1}$t=0}var Je=ce.Qq;if(a===Xr){switch(ce=ce.link.computeThickness(),ce*=ie,Je.set(_e),pt){case 8:Je.x=_e.x+Rt/2+dt/2-$t-ce/2;break;case 2:Je.y=_e.y+oe/2+bt/2-$t-ce/2;break;case 1:Je.x=_e.x+Rt/2-H/2+$t+ce/2;break;default:Je.y=_e.y+oe/2-B/2+$t+ce/2}$t+=ce}else{var Si=.5;a===mo&&(Si=(ce.Lq+1)/(ce.wm+1)),Je.x=_e.x+Rt*Si,Je.y=_e.y+oe*Si}}}for(at.free(_),at.free(A),at.free(g),at.free(I),_e=t.de,c=0;c<_e.length;c++)null!==(a=_e[c])&&(a.Pv=t.computeEndSegmentLength(a));t.Sq=o,te.free(u)}o=t.de}for(t=0;t<o.length;t++)if(null!==(u=o[t])&&u.link===e)return u;return null}function _b(t,e,o){this.link=t,this.angle=e,this.Ac=o,this.ow=new at,this.wm=this.Lq=0,this.Qq=new at,this.Pv=0}function Nm(){this.Ch=this.bh=Os,this.Bh=this.ah=this.Ah=this.$g=NaN,this.kq=this.co=null,this.lq=this.eo=1/0}function Ln(){ge(this),this.u=this.B=null,this.zi=this.xo=!0,this.Co=!1,this.nn=new at(0,0).freeze(),this.zo=!0,this.vn=this.yo=null,this.Bo=!1,this.l=null,this.I=0,this.To=this.qq=null,this.wt=!1,this.yg=this.ek=null,this.lt=!1}function fd(t,e,o,a,u,c,g,_){for(o=o.iterator;o.next();){var A=o.value;a&&!A.isTopLevel||null!==u&&!u(A)||!A.canLayout()||(c&&A instanceof Ne?A.isLinkLabel||(A instanceof ai&&null===A.layout?fd(t,e,A.memberParts,!1,u,c,g,_):(qy(A),e.add(A))):g&&A instanceof We?e.add(A):!_||!A.Nc()||A instanceof Ne||(qy(A),e.add(A)))}}function qy(t){var e=t.actualBounds;(0===e.width||0===e.height||isNaN(e.width)||isNaN(e.height))&&t.Ta()}function Nx(t,e){if(null!==t.workerStateChanged){var o={key:t.group?t.group.key:null};void 0!==e&&(o.time=e),null!==t.ek&&(o.running=_v(t.ek)),null!==t.yg&&(o.waiting=_v(t.yg)),t.workerStateChanged(o,t)}}function _v(t){return{vertexes:t.vertexes.count,edges:t.edges.count}}function mp(t,e){var o=Lm(t);if(!o)throw Error("Unknown Layout class: "+t);if(e)for(var a in e)o[a]=e[a]}function Lm(t){var e=null;if("function"==typeof t){if(!(e=Cv.get(t))){var o=y(t);(e=Cv.get(o))||((e=new Sb).Lv=t,e.name=o,e.l=t.name,e.Cy=Mb,Cv.set(o,e),Cv.set(t,e),Cv.set(t.name,e))}}else"string"==typeof t&&(e=Cv.get(t));return e}function Fm(t,e){t.wt=!0;var o=Lm(t.constructor),a=Mv(t,e,!0);a._GoJS="_GoJS",o.Pe.postMessage(a),o.Fm.set(we(t),t),t.ek=e}function Mv(t,e,o){t.onNetworkSerialization(1,o,e,null);var a={};t.serializeLayoutProperties(a,o);var u=[];e.vertexes.each(function(g){var _={};g.serializeVertexProperties(_,o),u.push(_)});var c=[];return e.edges.each(function(g){var _={};g.serializeEdgeProperties(_,o),c.push(_)}),a={id:o?we(t):t.id,layout:y(t.constructor),p:a,jB:u,Qz:c},t.onNetworkSerialization(2,o,e,a),a}function Bm(t,e,o){o&&(t.id=e.id);var a=t.diagram,u=t.createNetwork();t.onNetworkSerialization(3,o,u,e);var c=e.jB,g=new vt;c&&c.forEach(function(I){var B=null;null===I.key||null===a||o||(B=a.Cb(I.key)),null!==B?B=u.mk(B):(B=u.createVertex(),u.Bg(B)),o&&null!==I.key&&(B.data={Di:I.key}),g.set(I.id,B)});var _=e.Qz,A=new vt;return _&&_.forEach(function(I){var B=null;null===I.key||null===a||o||(B=a.findLinkForKey(I.key));var H=u.createEdge();u.tm(H),H.link=B,o&&null!==I.key&&(H.data={Di:I.key}),A.set(I.id,H)}),c&&c.forEach(function(I){var B=g.get(I.id);B&&B.Cq(I,g,A,o)}),_&&_.forEach(function(I){var B=A.get(I.id);B&&B.deserializeEdgeProperties(I,g,A,o)}),t.deserializeLayoutProperties(e.p,g,A,o,u),t.onNetworkSerialization(4,o,u,e),u}bv.className="PositionArray",Om.prototype.toString=function(){for(var t=this.de,e=this.node.toString()+" "+t.length.toString()+":",o=0;o<t.length;o++){var a=t[o];null!==a&&(e+="\n  "+a.toString())}return e},Om.prototype.Dm=function(){this.de.length=0},Om.prototype.l=function(t,e){return t===e?0:null===t?-1:null===e?1:t.Ac<e.Ac?-1:t.Ac>e.Ac?1:t.angle<e.angle?-1:t.angle>e.angle?1:0},Om.prototype.computeEndSegmentLength=function(t){var e=t.link,o=e.computeEndSegmentLength(this.node,this.port,hn,e.fromPort===this.port),a=t.Lq;if(0>a)return o;var u=t.wm;if(1>=u||!e.isOrthogonal)return o;e=t.ow;var c=t.Qq;return(2===t.Ac||8===t.Ac)&&(a=u-1-a),((t=2===t.Ac||4===t.Ac)?e.y<c.y:e.x<c.x)?o+8*a:(t?e.y===c.y:e.x===c.x)?o:o+8*(u-1-a)},Om.className="Knot",_b.prototype.toString=function(){return this.link.toString()+" "+this.angle.toString()+" "+this.Ac.toString()+":"+this.Lq.toString()+"/"+this.wm.toString()+" "+this.Qq.toString()+" "+this.Pv.toString()+" "+this.ow.toString()},_b.className="LinkInfo",Nm.prototype.copy=function(){var t=new Nm;return t.bh=this.bh.H(),t.Ch=this.Ch.H(),t.$g=this.$g,t.Ah=this.Ah,t.ah=this.ah,t.Bh=this.Bh,t.co=this.co,t.kq=this.kq,t.eo=this.eo,t.lq=this.lq,t},Nm.className="LinkSettings",Ln.prototype.cloneProtected=function(t){t.xo=this.xo,t.zi=this.zi,t.Co=this.Co,t.nn.assign(this.nn),t.zo=this.zo,t.yo=this.yo,t.vn=this.vn,t.Bo=!0,t.To=this.To,t.qq=this.qq},Ln.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},Ln.prototype.serializeLayoutProperties=function(t){t.arrangementOrigin={x:this.arrangementOrigin.x,y:this.arrangementOrigin.y},t.isRouting=this.isRouting},Ln.prototype.deserializeLayoutProperties=function(t){null!==t&&(this.arrangementOrigin=new at(t.arrangementOrigin.x,t.arrangementOrigin.y),this.isRouting=t.isRouting)},Ln.prototype.jb=function(){},Ln.prototype.toString=function(){var t=y(this.constructor);return t+="(",null!==this.group&&(t+=" in "+this.group),null!==this.diagram&&(t+=" for "+this.diagram),t+")"},Ln.prototype.C=function(){if(this.isValidLayout){var t=this.diagram;if(null!==t&&!t.undoManager.isUndoingRedoing){var e=t.animationManager;!e.isTicking&&(e.defaultAnimation.isAnimating&&e.Bc(),this.isOngoing&&t.pj||this.isInitial&&!t.pj)&&(this.isValidLayout=!1,t.Db())}}},Ln.prototype.createNetwork=function(){return new rr(this)},Ln.prototype.makeNetwork=function(t){var e=this.createNetwork();return t instanceof ke?(e.Ag(t.nodes,!0),e.Ag(t.links,!0)):e.Ag(t instanceof ai?t.memberParts:t.iterator),e},Ln.prototype.updateParts=function(){if(this.isValidLayout=!0,!this.workerLayout()){var t=this.diagram;if(null===t&&null!==this.network)for(var e=this.network.vertexes.iterator;e.next();){var o=e.value.node;if(null!==o&&null!==(t=o.diagram))break}try{null!==t&&t.xa("Layout"),this.commitLayout()}finally{null!==t&&t.Xa("Layout")}}},Ln.prototype.commitLayout=function(){if(null!==this.network){for(var t=this.network.vertexes.iterator;t.next();)t.value.commit();if(this.isRouting)for(t=this.network.edges.iterator;t.next();)t.value.commit()}},Ln.prototype.doLayout=function(t){var e=new Ht;t instanceof ke?(fd(this,e,t.nodes,!0,this.Rh,!0,!1,!0),fd(this,e,t.parts,!0,this.Rh,!0,!1,!0)):t instanceof ai?fd(this,e,t.memberParts,!1,this.Rh,!0,!1,!0):e.addAll(t.iterator),0<e.count&&(null!==(t=this.diagram)&&t.xa("Layout"),this.doMinimalNoNetworkLayout(e),null!==t&&t.Xa("Layout")),this.isValidLayout=!0},Ln.prototype.doMinimalNoNetworkLayout=function(t){var e=Math.ceil(Math.sqrt(t.count));this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);var o=this.arrangementOrigin.x,a=o,u=this.arrangementOrigin.y,c=0,g=0;for(t=t.iterator;t.next();){var _=t.value;qy(_);var A=_.measuredBounds,I=A.width;A=A.height,_.moveTo(a,u),_ instanceof ai&&(_.Rh=!1),a+=Math.max(I,50)+20,g=Math.max(g,Math.max(A,50)),c>=e-1?(c=0,a=o,u+=g+20,g=0):c++}},Ln.prototype.doMinimalNetworkLayout=function(){var t=Math.ceil(Math.sqrt(this.network.vertexes.count));this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);for(var e=this.arrangementOrigin.x,o=e,a=this.arrangementOrigin.y,u=0,c=0,g=this.network.vertexes.iterator;g.next();){var _=g.value.node;if(!(null===_||_ instanceof We)&&(qy(_),this.Rh(_))){var A=_.measuredBounds,I=A.width;A=A.height,_.moveTo(o,a),_ instanceof ai&&(_.Rh=!1),o+=Math.max(I,50)+20,c=Math.max(c,Math.max(A,50)),u>=t-1?(u=0,o=e,a+=c+20,c=0):u++}}},Ln.prototype.Rh=function(t){return!(t.location.o()&&!(t instanceof ai&&t.Rh))},Ln.prototype.nj=function(t,e){var o=this.boundsComputation;return null!==o?(e||(e=new te),o(t,this,e)):e?(e.set(t.actualBounds),e):t.actualBounds},Ln.prototype.$x=function(t){var e=new Ht;return t instanceof ke?(fd(this,e,t.nodes,!0,null,!0,!0,!0),fd(this,e,t.links,!0,null,!0,!0,!0),fd(this,e,t.parts,!0,null,!0,!0,!0)):fd(this,e,t instanceof ai?t.memberParts:t.iterator,!1,null,!0,!0,!0),e},Ln.prototype.initialOrigin=function(t){var e=this.group;if(null!==e){var o=e.position.copy();return(isNaN(o.x)||isNaN(o.y))&&o.set(t),null!==(e=e.placeholder)&&(o=e.da(ar),(isNaN(o.x)||isNaN(o.y))&&o.set(t),o.x+=(t=e.padding).left,o.y+=t.top),o}return t},Ln.prototype.mayUseWorker=function(){return!!this.mayUseWorkerFunction&&this.mayUseWorkerFunction(this)},Ln.prototype.workerLayout=function(){return!1},Ln.prototype.zz=function(){var t=Lm(this.constructor);t&&(null!==t.Pe&&t.Pe.terminate(),t.Pe=null,t.Fm.iteratorValues.each(function(e){e.wt=!1,e.ek=null,e.yg=null,e.lt=!1,Nx(e)}),t.Fm.clear())},Ln.prototype.Uw=function(){if("undefined"==typeof Worker||!Cb||"undefined"==typeof self||void 0!==self.DedicatedWorkerGlobalScope)return!1;if(!this.mayUseWorker())return this.wt&&(this.lt=!0,this.yg=this.ek=null,Nx(this)),!1;var t=Lm(this.constructor);return null!==t&&(null===t.Pe&&(t.Pe=new Worker(Cb),t.Pe.onerror=function(e){e.preventDefault(),rt("Worker Error at: "+e.filename+" "+e.lineno+" "+e.colno+"\n  "+e.message)},t.Pe.l=function(e){rt("Worker serialization error: "+e)},t.Pe.onmessage=function(e){var o=e.data;if("_GoJS"===o._GoJS)if(o.version&&ke.version&&o.version!==ke.version)rt("Failure: GoJS v"+ke.version+"  Worker v"+o.version);else if(e=t.Fm.get(o.id)){if(t.Fm.remove(o.id),e.wt=!1,e.ek=null,e.lt)e.lt=!1,e.yg=null;else{var a=Bm(e,o,!1);e.network=a,e.updateParts(),e.network=null,e.isValidLayout=!0}if(Nx(e,o.time),null!==(o=e.yg))e.yg=null;else for(a=t.Fm.iteratorValues;a.next();){var u=a.value;if(null!==(o=u.yg)){u.yg=null;break}}null!==o&&Fm(e,o)}},t.Pe.postMessage({_GoJS:"_GoJS",url:t.Cy}),Array.isArray(t.scripts)&&t.scripts.forEach(function(e){t.Pe.postMessage({_GoJS:"_GoJS",url:e})}),t.Pe.postMessage({_GoJS:"_GoJS",version:-1})),null!==this.ek?this.yg=this.network:Fm(this,this.network),Nx(this),this.doMinimalNetworkLayout(),this.network=null,this.isValidLayout=!0)},Ln.prototype.onNetworkSerialization=function(){},W.Object.defineProperties(Ln.prototype,{diagram:{get:function(){return this.B},set:function(t){this.B=t}},group:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t,null!==t&&(this.B=t.diagram))}},isOngoing:{get:function(){return this.xo},set:function(t){this.xo!==t&&(this.xo=t)}},isInitial:{get:function(){return this.zi},set:function(t){this.zi=t,t||(this.Bo=!0)}},isViewportSized:{get:function(){return this.Co},set:function(t){this.Co!==t&&(this.Co=t)&&this.C()}},isRouting:{get:function(){return this.zo},set:function(t){this.zo!==t&&(this.zo=t)}},isRealtime:{get:function(){return this.yo},set:function(t){this.yo!==t&&(this.yo=t)}},isValidLayout:{get:function(){return this.Bo},set:function(t){this.Bo!==t&&(this.Bo=t,t||null!==(t=this.diagram)&&(t.Ng=!0))}},network:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t,null!==t&&(t.layout=this))}},boundsComputation:{get:function(){return this.vn},set:function(t){this.vn!==t&&(this.vn=t,this.C())}},arrangementOrigin:{get:function(){return this.nn},set:function(t){this.nn.w(t)||(this.nn.assign(t),this.C())}},id:{get:function(){return this.I},set:function(t){this.I=t}},mayUseWorkerFunction:{get:function(){return this.To},set:function(t){this.To!==t&&(this.To=t)}},workerStateChanged:{get:function(){return this.qq},set:function(t){this.qq!==t&&(this.qq=t)}}}),Ln.prototype.useWorker=Ln.prototype.Uw,Ln.declareWorkerLayout=mp,Ln.prototype.cancelWorker=Ln.prototype.zz,Ln.prototype.collectParts=Ln.prototype.$x,Ln.prototype.getLayoutBounds=Ln.prototype.nj,Ln.prototype.invalidateLayout=Ln.prototype.C;var Cv=new vt,Mb="object"==typeof N.document&&N.document.currentScript?N.document.currentScript.src:"",Cb="undefined"!=typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof Blob?URL.createObjectURL(new Blob(["self.onmessage=function(e){if(e.data.url){\nimportScripts(e.data.url);}}"],{type:"text/javascript"})):"";function Sb(){this.Lv=null,this.Cy=this.l=this.name="",this.scripts=[],this.Pe=null,this.Fm=new vt}function rr(t){ge(this),this.kc=t,this.tf=new Ht,this.le=new Ht,this.bu=new vt,this.Xt=new vt}function Db(t,e){if(null===e)return!1;var o=t.tf.remove(e);return o&&null!==(e=e.node)&&t.bu.remove(e),o}function Sv(t,e){if(null!==e){t.le.add(e);var o=e.link;null!==o&&null===t.Eq(o)&&t.Xt.add(o,e),e.network=t}}function Eb(t,e){null!==e&&t.le.remove(e)&&null!==(e=e.link)&&t.Xt.remove(e)}function SM(t,e,o){if(null!==o&&o.network!==e){Db(t,o),e.Bg(o);for(var a=o.sourceEdges;a.next();){var u=a.value;u.network!==e&&(Eb(t,u),Sv(e,u),SM(t,e,u.fromVertex))}for(a=o.destinationEdges;a.next();)(o=a.value).network!==e&&(Eb(t,o),Sv(e,o),SM(t,e,o.toVertex))}}function Do(t){ge(this),this.Tc=t,this.l=new te(0,0,10,10).freeze(),this.u=new at(5,5).freeze(),this.Mi=this.ob=null,this.td=new Vt,this.Gd=new Vt}function Lx(t,e){return e=e.Mi,(t=t.Mi)?e?(t=t.text)<(e=e.text)?-1:t>e?1:0:1:null!==e?-1:0}function zs(t){ge(this),this.Sc=t,this.ed=this.Yc=this.Nl=this.ob=null}function ss(){Ln.call(this),this.isViewportSized=!0,this.rq=this.sq=NaN,this.Qg=new He(NaN,NaN).freeze(),this.lf=new He(10,10).freeze(),this.yb=Ul,this.Eb=Bx,this.bd=Dv,this.Wc=DM}function DM(t,e){return(t=t.text)<(e=e.text)?-1:t>e?1:0}Ln.className="Layout",Ln.GoJSScriptURL=Mb,Ln.declareWorkerLayout=mp,"undefined"!=typeof self&&void 0!==self.DedicatedWorkerGlobalScope&&"undefined"!=typeof self&&void 0!==self.DedicatedWorkerGlobalScope&&(self.onmessage=function(t){if("_GoJS"===(t=t.data)._GoJS)if(t.url)importScripts(t.url);else if(t.version)self.postMessage({_GoJS:"_GoJS",version:ke.version},void 0);else{var e=performance.now(),o=null;t.layout&&(o=Lm(t.layout));var a=null;if(o&&o.Lv&&(a=new o.Lv),!a)throw Error("no registered Worker Layout: "+t.layout);a.network=Bm(a,t,!0),a.workerLayout=function(){var u=Mv(a,a.network,!1);return u._GoJS="_GoJS",u.time=performance.now()-e,self.postMessage(u,void 0),!0},a.doLayout(new Vt)}}),rr.prototype.clear=function(){if(this.tf)for(var t=this.tf.iterator;t.next();)t.value.clear();if(this.le)for(t=this.le.iterator;t.next();)t.value.clear();this.tf=new Ht,this.le=new Ht,this.bu=new vt,this.Xt=new vt},rr.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutNetwork"+(null!==this.layout?"("+this.layout.toString()+")":"");if(0>=t)return e;if(e+=" vertexes: "+this.tf.count+" edges: "+this.le.count,1<t){for(var o=this.tf.iterator;o.next();)e+="\n    "+o.value.toString(t-1);for(o=this.le.iterator;o.next();)e+="\n    "+o.value.toString(t-1)}return e},rr.prototype.createVertex=function(){return new Do(this)},rr.prototype.createEdge=function(){return new zs(this)},rr.prototype.Ag=function(t,e,o){if(null!==t){for(void 0===e&&(e=!1),void 0===o&&(o=null),null===o&&(o=function(g){if(g instanceof Ne)return!g.isLinkLabel;if(g instanceof We){var _=g.fromNode;return null!==_&&!_.isLinkLabel&&!(null===(g=g.toNode)||g.isLinkLabel)}return!1}),t=t.iterator;t.next();){var a=t.value;if(a instanceof Ne&&(!e||a.isTopLevel)&&a.canLayout()&&o(a))if(a instanceof ai&&null===a.layout)this.Ag(a.memberParts,!1);else if(null===this.kj(a)){var u=this.createVertex();u.node=a,this.Bg(u)}}for(t.reset();t.next();)if((a=t.value)instanceof We&&(!e||a.isTopLevel)&&a.canLayout()&&o(a)&&null===this.Eq(a)){var c=a.fromNode;u=a.toNode,null!==c&&null!==u&&c!==u&&(c=this.findGroupVertex(c),u=this.findGroupVertex(u),null!==c&&null!==u&&this.Fk(c,u,a))}}},rr.prototype.findGroupVertex=function(t){if(null===t)return null;var e=t.findVisibleNode();if(null===e)return null;if(null!==(t=this.kj(e)))return t;for(e=e.containingGroup;null!==e;){if(null!==(t=this.kj(e)))return t;e=e.containingGroup}return null},(ot=rr.prototype).Bg=function(t){if(null!==t){this.tf.add(t);var e=t.node;null!==e&&this.bu.add(e,t),t.network=this}},ot.mk=function(t){if(null===t)return null;var e=this.kj(t);return null===e&&((e=this.createVertex()).node=t,this.Bg(e)),e},ot.Ov=function(t){if(null!==t&&Db(this,t)){for(var e=t.td,o=e.count-1;0<=o;o--){var a=e.J(o);this.vk(a)}for(t=(e=t.Gd).count-1;0<=t;t--)o=e.J(t),this.vk(o)}},ot.Lz=function(t){null!==t&&null!==(t=this.kj(t))&&this.Ov(t)},ot.kj=function(t){return null===t?null:this.bu.G(t)},ot.tm=function(t){if(null!==t){Sv(this,t);var e=t.toVertex;null!==e&&e.Ev(t),null!==(e=t.fromVertex)&&e.Cv(t)}},ot.oz=function(t){if(null===t)return null;var e=t.fromNode,o=t.toNode,a=this.Eq(t);return null===a?((a=this.createEdge()).link=t,null!==e&&(a.fromVertex=this.mk(e)),null!==o&&(a.toVertex=this.mk(o)),this.tm(a)):(a.fromVertex=null!==e?this.mk(e):null,a.toVertex=null!==o?this.mk(o):null),a},ot.vk=function(t){if(null!==t){var e=t.toVertex;null!==e&&e.Nv(t),null!==(e=t.fromVertex)&&e.Mv(t),Eb(this,t)}},ot.Kz=function(t){null!==t&&null!==(t=this.Eq(t))&&this.vk(t)},ot.Eq=function(t){return null===t?null:this.Xt.G(t)},ot.Fk=function(t,e,o){if(null===t||null===e)return null;if(t.network===this&&e.network===this){var a=this.createEdge();return a.link=o,a.fromVertex=t,a.toVertex=e,this.tm(a),a}return null},ot.Rm=function(t){if(null!==t){var e=t.fromVertex,o=t.toVertex;null!==e&&null!==o&&(e.Mv(t),o.Nv(t),t.Rm(),e.Ev(t),o.Cv(t))}},ot.Bq=function(){for(var t=h(),e=this.le.iterator;e.next();){var o=e.value;o.fromVertex===o.toVertex&&t.push(o)}for(e=t.length,o=0;o<e;o++)this.vk(t[o]);m(t)},rr.prototype.deleteArtificialVertexes=function(){for(var t=h(),e=this.tf.iterator;e.next();){var o=e.value;null===o.node&&null===o.data&&t.push(o)}for(o=t.length,e=0;e<o;e++)this.Ov(t[e]);for(e=h(),o=this.le.iterator;o.next();){var a=o.value;null===a.link&&null===a.data&&e.push(a)}for(o=e.length,a=0;a<o;a++)this.vk(e[a]);m(t),m(e)},rr.prototype.Xy=function(t){void 0===t&&(t=!0),t&&(this.deleteArtificialVertexes(),function(t){for(var e=h(),o=t.le.iterator;o.next();){var a=o.value;null!==a.fromVertex&&null!==a.toVertex||e.push(a)}for(o=e.length,a=0;a<o;a++)t.vk(e[a]);m(e)}(this),this.Bq()),t=new Vt;for(var e=!0;e;){e=!1;for(var o=this.tf.iterator;o.next();){var a=o.value;if(0<a.td.count||0<a.Gd.count){e=this.layout.createNetwork(),t.add(e),SM(this,e,a),e=!0;break}}}return t.sort(function(u,c){return null===u||null===c||u===c?0:c.vertexes.count-u.vertexes.count}),t},rr.prototype.Rz=function(){for(var t=new Ht,e=this.tf.iterator;e.next();)t.add(e.value.node);for(e=this.le.iterator;e.next();)t.add(e.value.link);return t},W.Object.defineProperties(rr.prototype,{layout:{get:function(){return this.kc},set:function(t){null!==t&&(this.kc=t)}},vertexes:{get:function(){return this.tf}},edges:{get:function(){return this.le}}}),rr.prototype.findAllParts=rr.prototype.Rz,rr.prototype.splitIntoSubNetworks=rr.prototype.Xy,rr.prototype.deleteSelfEdges=rr.prototype.Bq,rr.prototype.reverseEdge=rr.prototype.Rm,rr.prototype.linkVertexes=rr.prototype.Fk,rr.prototype.findEdge=rr.prototype.Eq,rr.prototype.deleteLink=rr.prototype.Kz,rr.prototype.deleteEdge=rr.prototype.vk,rr.prototype.addLink=rr.prototype.oz,rr.prototype.addEdge=rr.prototype.tm,rr.prototype.findVertex=rr.prototype.kj,rr.prototype.deleteNode=rr.prototype.Lz,rr.prototype.deleteVertex=rr.prototype.Ov,rr.prototype.addNode=rr.prototype.mk,rr.prototype.addVertex=rr.prototype.Bg,rr.prototype.addParts=rr.prototype.Ag,rr.className="LayoutNetwork",Do.prototype.serializeVertexProperties=function(t){t.id=we(this),t.key=this.node?this.node.key:this.data?this.data.Di:void 0,void 0===t.key&&(t.key=null),t.x=this.bounds.x,t.y=this.bounds.y,t.kB=this.bounds.width,t.tA=this.bounds.height,t.fx=this.focus.x,t.fy=this.focus.y;var e=[];this.td.each(function(a){e.push(we(a))}),t.Uy=e;var o=[];this.Gd.each(function(a){o.push(we(a))}),t.jy=o},Do.prototype.Cq=function(t,e,o){if(null!==t){this.x=t.x,this.y=t.y,this.width=t.kB,this.height=t.tA,this.focusX=t.fx,this.focusY=t.fy;var a=this;t.Uy&&t.Uy.forEach(function(u){(u=o.get(u))&&a.td.add(u)}),t.jy&&t.jy.forEach(function(u){(u=o.get(u))&&a.Gd.add(u)})}},Do.prototype.clear=function(){this.Mi=this.ob=null,this.td=new Vt,this.Gd=new Vt},Do.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutVertex#"+we(this);if(0<t&&(e+=null!==this.node?"("+this.node.toString()+")":"",1<t)){t="";for(var o=!0,a=this.td.iterator;a.next();){var u=a.value;o?o=!1:t+=",",t+=u.toString(0)}for(u="",o=!0,a=this.Gd.iterator;a.next();)o?o=!1:u+=",",u+=a.value.toString(0);e+=" sources: "+t+" destinations: "+u}return e},Do.prototype.commit=function(){var t=this.ob;if(null!==t){var e=this.bounds,o=t.bounds;gt(o)?(o.x=e.x,o.y=e.y,o.width=e.width,o.height=e.height):t.bounds=e.copy()}else if(null!==(t=this.node)){if(e=this.bounds,!(t instanceof ai)){o=te.alloc();var a=this.network.layout.nj(t,o),u=t.locationObject.da(Vi);if(a.o()&&u.o())return t.moveTo(e.x+this.focusX-(u.x-a.x),e.y+this.focusY-(u.y-a.y)),void te.free(o);te.free(o)}t.moveTo(e.x,e.y)}},Do.prototype.Ev=function(t){null!==t&&(this.td.contains(t)||this.td.add(t))},Do.prototype.Nv=function(t){null!==t&&this.td.remove(t)},Do.prototype.Cv=function(t){null!==t&&(this.Gd.contains(t)||this.Gd.add(t))},Do.prototype.Mv=function(t){null!==t&&this.Gd.remove(t)},W.Object.defineProperties(Do.prototype,{sourceEdgesArrayAccess:{get:function(){return this.td._dataArray}},destinationEdgesArrayAccess:{get:function(){return this.Gd._dataArray}},data:{get:function(){return this.ob},set:function(t){if(this.ob=t,null!==t&&t.bounds){var e=t.bounds;t=e.x;var o=e.y,a=e.width;this.u.h(a/2,(e=e.height)/2),this.l.h(t,o,a,e)}}},node:{get:function(){return this.Mi},set:function(t){if(this.Mi!==t){this.Mi=t,t.Ta();var e=this.network.layout,o=te.alloc(),a=e.nj(t,o);e=a.x;var u=a.y,c=a.width;if(a=a.height,isNaN(e)&&(e=0),isNaN(u)&&(u=0),this.l.h(e,u,c,a),te.free(o),!(t instanceof ai)&&(t=t.locationObject.da(Vi)).o())return void this.u.h(t.x-e,t.y-u);this.u.h(c/2,a/2)}}},bounds:{get:function(){return this.l},set:function(t){this.l.w(t)||this.l.assign(t)}},focus:{get:function(){return this.u},set:function(t){this.u.w(t)||this.u.assign(t)}},centerX:{get:function(){return this.l.x+this.u.x},set:function(t){var e=this.l;e.x+this.u.x!==t&&(e.ea(),e.x=t-this.u.x,e.freeze())}},centerY:{get:function(){return this.l.y+this.u.y},set:function(t){var e=this.l;e.y+this.u.y!==t&&(e.ea(),e.y=t-this.u.y,e.freeze())}},focusX:{get:function(){return this.u.x},set:function(t){var e=this.u;e.x!==t&&(e.ea(),e.x=t,e.freeze())}},focusY:{get:function(){return this.u.y},set:function(t){var e=this.u;e.y!==t&&(e.ea(),e.y=t,e.freeze())}},x:{get:function(){return this.l.x},set:function(t){var e=this.l;e.x!==t&&(e.ea(),e.x=t,e.freeze())}},y:{get:function(){return this.l.y},set:function(t){var e=this.l;e.y!==t&&(e.ea(),e.y=t,e.freeze())}},width:{get:function(){return this.l.width},set:function(t){var e=this.l;e.width!==t&&(e.ea(),e.width=t,e.freeze())}},height:{get:function(){return this.l.height},set:function(t){var e=this.l;e.height!==t&&(e.ea(),e.height=t,e.freeze())}},network:{get:function(){return this.Tc},set:function(t){this.Tc=t}},sourceVertexes:{get:function(){for(var t=new Ht,e=this.sourceEdges;e.next();)t.add(e.value.fromVertex);return t.iterator}},destinationVertexes:{get:function(){for(var t=new Ht,e=this.destinationEdges;e.next();)t.add(e.value.toVertex);return t.iterator}},vertexes:{get:function(){for(var t=new Ht,e=this.sourceEdges;e.next();)t.add(e.value.fromVertex);for(e=this.destinationEdges;e.next();)t.add(e.value.toVertex);return t.iterator}},sourceEdges:{get:function(){return this.td.iterator}},destinationEdges:{get:function(){return this.Gd.iterator}},edges:{get:function(){for(var t=new Vt,e=this.sourceEdges;e.next();)t.add(e.value);for(e=this.destinationEdges;e.next();)t.add(e.value);return t.iterator}},edgesCount:{get:function(){return this.td.count+this.Gd.count}}}),Do.prototype.deleteDestinationEdge=Do.prototype.Mv,Do.prototype.addDestinationEdge=Do.prototype.Cv,Do.prototype.deleteSourceEdge=Do.prototype.Nv,Do.prototype.addSourceEdge=Do.prototype.Ev,Do.className="LayoutVertex",Do.standardComparer=Lx,Do.smartComparer=function(t,e){if(null!==t){if(null!==e){var o=e.Mi;if(null!==(t=t.Mi)){if(null!==o){for(e=t.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),t=o.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),o=0;o<e.length;o++)if(""!==t[o]&&void 0!==t[o]){var a=parseFloat(e[o]),u=parseFloat(t[o]);if(isNaN(a)){if(!isNaN(u))return 1;if(0!==e[o].localeCompare(t[o]))return e[o].localeCompare(t[o])}else{if(isNaN(u))return-1;if(a-u!=0)return a-u}}else if(""!==e[o])return 1;return""!==t[o]&&void 0!==t[o]?-1:0}return 1}return null!==o?-1:0}return 1}return null!==e?-1:0},zs.prototype.clear=function(){this.ed=this.Yc=this.Nl=this.ob=null},zs.prototype.serializeEdgeProperties=function(t){t.id=we(this),t.key=this.link?this.link.key:this.data?this.data.Di:void 0,void 0===t.key&&(t.key=null),t.from=this.fromVertex?we(this.fromVertex):null,t.fB=this.toVertex?we(this.toVertex):null},zs.prototype.deserializeEdgeProperties=function(t,e){if(null!==t){var o=e.get(t.from);o&&(this.fromVertex=o),(t=e.get(t.fB))&&(this.toVertex=t)}},zs.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutEdge#"+we(this);return 0<t&&(e+=null!==this.Nl?"("+this.Nl.toString()+")":"",1<t&&(e+=" "+(this.Yc?this.Yc.toString():"null")+" --\x3e "+(this.ed?this.ed.toString():"null"))),e},zs.prototype.Rm=function(){var t=this.Yc;this.Yc=this.ed,this.ed=t},zs.prototype.commit=function(){},zs.prototype.zy=function(t){return this.ed===t?this.Yc:this.Yc===t?this.ed:null},W.Object.defineProperties(zs.prototype,{network:{get:function(){return this.Sc},set:function(t){this.Sc=t}},data:{get:function(){return this.ob},set:function(t){this.ob!==t&&(this.ob=t)}},link:{get:function(){return this.Nl},set:function(t){this.Nl!==t&&(this.Nl=t)}},fromVertex:{get:function(){return this.Yc},set:function(t){this.Yc!==t&&(this.Yc=t)}},toVertex:{get:function(){return this.ed},set:function(t){this.ed!==t&&(this.ed=t)}}}),zs.prototype.getOtherVertex=zs.prototype.zy,zs.className="LayoutEdge",K(ss,Ln),ss.prototype.cloneProtected=function(t){Ln.prototype.cloneProtected.call(this,t),t.sq=this.sq,t.rq=this.rq,t.Qg.assign(this.Qg),t.lf.assign(this.lf),t.yb=this.yb,t.Eb=this.Eb,t.bd=this.bd,t.Wc=this.Wc},ss.prototype.jb=function(t){t.classType===ss?t===Dv||t===Ab||t===EM||t===kb?this.sorting=t:t===Bx||t===th?this.arrangement=t:t===Ul||t===Fx?this.alignment=t:V("Unknown enum value: "+t):Ln.prototype.jb.call(this,t)},ss.prototype.doLayout=function(t){this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);var e=this.$x(t);t=this.diagram;for(var o=e.copy().iterator;o.next();){var a=o.value;if(!a.Ph()||null===a.fromNode&&null===a.toNode){if(a.Ta(),a instanceof ai)for(a=a.memberParts;a.next();)e.remove(a.value)}else e.remove(a)}var u=e.ma();if(0!==u.length){switch(this.sorting){case kb:u.reverse();break;case Dv:u.sort(this.comparer);break;case Ab:u.sort(this.comparer),u.reverse()}var c=this.wrappingColumn;isNaN(c)&&(c=0);var g=this.wrappingWidth;switch(isNaN(g)&&null!==t?(e=t.padding,g=Math.max(t.viewportBounds.width-e.left-e.right,0)):g=Math.max(this.wrappingWidth,0),0>=c&&0>=g&&(c=1),e=this.spacing.width,isFinite(e)||(e=0),o=this.spacing.height,isFinite(o)||(o=0),null!==t&&t.xa("Layout"),a=[],this.alignment){case Fx:var _=e,A=o,I=te.alloc(),B=Math.max(this.cellSize.width,1);if(!isFinite(B))for(var H=B=0;H<u.length;H++){var dt=this.nj(u[H],I);B=Math.max(B,dt.width)}if(B=Math.max(B+_,1),H=Math.max(this.cellSize.height,1),!isFinite(H))for(dt=H=0;dt<u.length;dt++){var bt=this.nj(u[dt],I);H=Math.max(H,bt.height)}H=Math.max(H+A,1),dt=this.arrangement;for(var pt=bt=this.arrangementOrigin.x,Rt=this.arrangementOrigin.y,Xt=0,$t=0,ie=0;ie<u.length;ie++){var oe=u[ie],ce=this.nj(oe,I),_e=Math.ceil((ce.width+_)/B)*B,Je=Math.ceil((ce.height+A)/H)*H;if(dt===th)var Si=Math.abs(pt-ce.width);else Si=pt+ce.width;(0<c&&Xt>c-1||0<g&&0<Xt&&Si-bt>g)&&(a.push(new te(0,Rt,g+_,$t)),Xt=0,pt=bt,Rt+=$t,$t=0),$t=Math.max($t,Je),oe.moveTo(pt+(ce=dt===th?-ce.width:0),Rt),dt===th?pt-=_e:pt+=_e,Xt++}a.push(new te(0,Rt,g+_,$t)),te.free(I);break;case Ul:for(A=g,B=c,H=e,dt=o,g=te.alloc(),bt=Math.max(this.cellSize.width,1),c=Rt=I=0,_=at.alloc(),pt=0;pt<u.length;pt++)Xt=this.nj($t=u[pt],g),$t=$t.Df($t.locationObject,$t.locationSpot,_),I=Math.max(I,$t.x),Rt=Math.max(Rt,Xt.width-$t.x),c=Math.max(c,$t.y);(pt=this.arrangement)===th?I+=H:Rt+=H,bt=isFinite(bt)?Math.max(bt+H,1):Math.max(I+Rt,1);var li=$t=this.arrangementOrigin.x;for(ie=this.arrangementOrigin.y,Rt=0,A>=I&&(A-=I),I=oe=0,_e=Math.max(this.cellSize.height,1),ce=c=0,Je=!0,Xt=at.alloc(),Si=0;Si<u.length;Si++){var Fi=u[Si],di=this.nj(Fi,g),ii=Fi.Df(Fi.locationObject,Fi.locationSpot,_);if(0<Rt?pt===th?(li=(li-$t-(di.width-ii.x))/bt,li=(li=me.aa(Math.round(li),li)?Math.round(li):Math.floor(li))*bt+$t):(li=(li-$t+ii.x)/bt,li=(li=me.aa(Math.round(li),li)?Math.round(li):Math.ceil(li))*bt+$t):oe=pt===th?li+ii.x+di.width:li-ii.x,pt===th)var _n=-(li+ii.x)+oe;else _n=li+di.width-ii.x-oe;if(0<B&&Rt>B-1||0<A&&0<Rt&&_n>A){for(a.push(new te(0,Je?ie-c:ie,A+H,ce+c+dt)),li=0;li<Rt&&Si!==Rt;li++){var rn=(_n=u[Si-Rt+li]).Df(_n.locationObject,_n.locationSpot,Xt);_n.moveTo(_n.position.x,_n.position.y+c-rn.y)}ce+=dt,ie=Je?ie+ce:ie+(ce+c),Rt=ce=c=0,li=$t,Je=!1}li===$t&&(I=pt===th?Math.max(I,di.width-ii.x):Math.min(I,-ii.x)),c=Math.max(c,ii.y),ce=Math.max(ce,di.height-ii.y),isFinite(_e)&&(ce=Math.max(ce,Math.max(di.height,_e)-ii.y)),Fi.moveTo(li-ii.x,Je?ie-ii.y:ie),pt===th?li-=ii.x+H:li+=di.width-ii.x+H,Rt++}if(a.push(new te(0,ie,A+H,(Je?ce:ce+c)+dt)),u.length!==Rt)for(A=0;A<Rt;A++)H=(B=u[u.length-Rt+A]).Df(B.locationObject,B.locationSpot,_),B.moveTo(B.position.x,B.position.y+c-H.y);if(at.free(_),at.free(Xt),pt===th)for(u=0;u<a.length;u++)(c=a[u]).width+=I,c.x-=I;else for(u=0;u<a.length;u++)(c=a[u]).x>I&&(c.width+=c.x-I,c.x=I);te.free(g)}for(_=c=g=u=0;_<a.length;_++)A=a[_],u=Math.min(u,A.x),g=Math.min(g,A.y),c=Math.max(c,A.x+A.width);this.commitLayers(a,new at(this.arrangement===th?u+e/2-(c+u):u-e/2,g-o/2)),null!==t&&t.Xa("Layout"),this.isValidLayout=!0}},ss.prototype.commitLayers=function(){},W.Object.defineProperties(ss.prototype,{wrappingWidth:{get:function(){return this.sq},set:function(t){this.sq!==t&&(0<t||isNaN(t))&&(this.sq=t,this.isViewportSized=isNaN(t),this.C())}},wrappingColumn:{get:function(){return this.rq},set:function(t){this.rq!==t&&(0<t||isNaN(t))&&(this.rq=t,this.C())}},cellSize:{get:function(){return this.Qg},set:function(t){this.Qg.w(t)||(this.Qg.assign(t),this.C())}},spacing:{get:function(){return this.lf},set:function(t){this.lf.w(t)||(this.lf.assign(t),this.C())}},alignment:{get:function(){return this.yb},set:function(t){this.yb===t||t!==Ul&&t!==Fx||(this.yb=t,this.C())}},arrangement:{get:function(){return this.Eb},set:function(t){this.Eb===t||t!==Bx&&t!==th||(this.Eb=t,this.C())}},sorting:{get:function(){return this.bd},set:function(t){this.bd===t||t!==EM&&t!==kb&&t!==Dv&&t!==Ab||(this.bd=t,this.C())}},comparer:{get:function(){return this.Wc},set:function(t){this.Wc!==t&&(this.Wc=t,this.C())}}});var Fx=new wt(ss,"Position",0),Ul=new wt(ss,"Location",1),Bx=new wt(ss,"LeftToRight",2),th=new wt(ss,"RightToLeft",3),EM=new wt(ss,"Forward",4),kb=new wt(ss,"Reverse",5),Dv=new wt(ss,"Ascending",6),Ab=new wt(ss,"Descending",7);function zn(){this.lp=new Ht,this.No=new Ht,this.Fa=new Ht,this.Ue=new vt,this.Te=new vt,this.Qj=new vt,this.B=null,this.mr=!1}function Vx(t,e,o){if(null!=e&&!t.diagram.undoManager.isUndoingRedoing&&!t.Ue.contains(e)){void 0===o&&(o=!0);t:{if(null!=e&&!t.B.undoManager.isUndoingRedoing&&!t.Ue.contains(e)){var a=t.Iq(e),u=Tb(t,e,a);if(null!==u&&(va(u),null!==(u=u.copy()))){var c=t.diagram.skipsModelSourceBindings;t.diagram.skipsModelSourceBindings=!0,u.Nf=a,u.ob=e,t.mr&&(u.ih="Tool"),t.diagram.add(u),u.ob=null,u.data=e,t.diagram.skipsModelSourceBindings=c,a=u;break t}}a=null}null!==a&&o&&t.resolveReferencesForData(e)}}function Tb(t,e,o){var a=(t=t.B).model;return a.Dk()&&a.fw(e)?null===(e=t.groupTemplateMap.G(o))&&null===(e=t.groupTemplateMap.G(""))&&(AM||(AM=!0,rt('No Group template found for category "'+o+'"'),rt("  Using default group template")),e=t.Eu):null===(e=t.nodeTemplateMap.G(o))&&null===(e=t.nodeTemplateMap.G(""))&&(Rb||(Rb=!0,rt('No Node template found for category "'+o+'"'),rt("  Using default node template")),e=t.Gu),e}function Pb(t,e,o){for(var a in o){var u=e[a],c=o[a];if(Et(c)){if(!Et(u)||u.length<c.length)return!1;for(var g=0;g<u.length;g++){var _=c[g];if(void 0!==_&&!kM(t,u[g],_))return!1}}else if(!kM(t,u,c))return!1}return!0}function kM(t,e,o){if("function"==typeof o){if(!o(e))return!1}else if(o instanceof RegExp){if(!e||!o.test(e.toString()))return!1}else if(gt(e)&&gt(o)){if(!Pb(t,e,o))return!1}else if(e!==o)return!1;return!0}function Ib(t,e){var o=e.Ci;if(Et(o)){var a=t.Qj.G(o);if(null===a)(a=[]).push(e),t.Qj.add(o,a);else{for(t=0;t<a.length;t++)if(a[t]===e)return;a.push(e)}}}function jx(t,e,o){Ih(e,function(g){for(var _=(g=g.W.j).length,A=0;A<_;A++)lm(o,g[A])});var a=e.Ci;if(Et(a)){var u=t.Qj.G(a);if(null!==u)for(var c=0;c<u.length;c++)if(u[c]===e){u.splice(c,1),0===u.length&&t.Qj.remove(a);break}}}function zx(t,e,o,a,u){if(null===e||u&&!e.canCopy())return null;if(a.contains(e))return a.G(e);var c=t.copyPartData(e,o);if(!(c instanceof Bt))return null;if(c.isSelected=!1,c.isHighlighted=!1,a.add(e,c),e instanceof Ne){for(var g=e.linksConnected;g.next();){var _=g.value;if(_.fromNode===e){var A=a.G(_);null!==A&&(A.fromNode=c)}_.toNode===e&&null!==(_=a.G(_))&&(_.toNode=c)}if(e instanceof ai&&c instanceof ai)for(e=e.memberParts;e.next();)(g=zx(t,e.value,o,a,u))instanceof We||null===g||(g.containingGroup=c)}else if(e instanceof We&&c instanceof We)for(null!==(g=e.fromNode)&&null!==(g=a.G(g))&&(c.fromNode=g),null!==(g=e.toNode)&&null!==(g=a.G(g))&&(c.toNode=g),e=e.labelNodes;e.next();)null!==(g=zx(t,e.value,o,a,u))&&g instanceof Ne&&(g.labeledLink=c);return c}ss.className="GridLayout",ss.standardComparer=DM,ss.smartComparer=function(t,e){if(null!==t){if(null!==e){t=t.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),e=e.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/);for(var o=0;o<t.length;o++)if(""!==e[o]&&void 0!==e[o]){var a=parseFloat(t[o]),u=parseFloat(e[o]);if(isNaN(a)){if(!isNaN(u))return 1;if(0!==t[o].localeCompare(e[o]))return t[o].localeCompare(e[o])}else{if(isNaN(u))return-1;if(a-u!=0)return a-u}}else if(""!==t[o])return 1;return""!==e[o]&&void 0!==e[o]?-1:0}return 1}return null!==e?-1:0},ss.Position=Fx,ss.Location=Ul,ss.LeftToRight=Bx,ss.RightToLeft=th,ss.Forward=EM,ss.Reverse=kb,ss.Ascending=Dv,ss.Descending=Ab,(ot=zn.prototype).clear=function(){this.lp.clear(),this.No.clear(),this.Fa.clear(),this.Ue.clear(),this.Te.clear(),this.Qj.clear()},ot.ee=function(t){this.B=t},ot.oj=function(t){if(t instanceof Ne){if(this.lp.add(t),t instanceof ai){var e=t.containingGroup;null===e?this.B.Dh.add(t):e.Sl.add(t),null!==(e=t.layout)&&(e.diagram=this.B)}}else t instanceof We?this.No.add(t):t instanceof si||this.Fa.add(t);null===(e=t.data)||t instanceof si||(t instanceof We?this.Te.add(e,t):this.Ue.add(e,t))},ot.Lc=function(t){if(t.nk(),t instanceof Ne){if(this.lp.remove(t),t instanceof ai){var e=t.containingGroup;null===e?this.B.Dh.remove(t):e.Sl.remove(t),null!==(e=t.layout)&&(e.diagram=null)}}else t instanceof We?this.No.remove(t):t instanceof si||this.Fa.remove(t);null===(e=t.data)||t instanceof si||(t instanceof We?this.Te.remove(e):this.Ue.remove(e))},ot.Md=function(){for(var t=this.B.nodeTemplateMap.iterator;t.next();){var e=t.value,o=t.key;(!e.Nc()||e instanceof ai)&&V('Invalid node template in Diagram.nodeTemplateMap: template for "'+o+'" must be a Node or a simple Part, not a Group or Link: '+e)}for(t=this.B.groupTemplateMap.iterator;t.next();)o=t.key,(e=t.value)instanceof ai||V('Invalid group template in Diagram.groupTemplateMap: template for "'+o+'" must be a Group, not a normal Node or Link: '+e);for(t=this.B.linkTemplateMap.iterator;t.next();)o=t.key,(e=t.value)instanceof We||V('Invalid link template in Diagram.linkTemplateMap: template for "'+o+'" must be a Link, not a normal Node or simple Part: '+e);for(t=h(),e=this.B.selection.iterator;e.next();)(o=e.value.data)&&t.push(o);for(e=h(),o=this.B.highlighteds.iterator;o.next();){var a=o.value.data;a&&e.push(a)}for(o=h(),a=this.nodes.iterator;a.next();){var u=a.value;null!==u.data&&(o.push(u.data),o.push(u.location))}for(a=this.links.iterator;a.next();)null!==(u=a.value).data&&(o.push(u.data),o.push(u.location));for(a=this.parts.iterator;a.next();)null!==(u=a.value).data&&(o.push(u.data),o.push(u.location));for(this.removeAllModeledParts(),this.addAllModeledParts(),a=0;a<t.length;a++)null!==(u=this.zc(t[a]))&&(u.isSelected=!0);for(a=0;a<e.length;a++)null!==(u=this.zc(e[a]))&&(u.isHighlighted=!0);for(a=0;a<o.length;a+=2)null!==(u=this.zc(o[a]))&&(u.location=o[a+1]);m(t),m(e),m(o)},zn.prototype.addAllModeledParts=function(){this.addModeledParts(this.diagram.model.nodeDataArray)},zn.prototype.addModeledParts=function(t,e){var o=this,a=this.diagram.model;t.forEach(function(u){a.ab(u)&&Vx(o,u,!1)}),t.forEach(function(u){a.ab(u)&&o.resolveReferencesForData(u)}),!1!==e&&no(this.diagram,!1)},zn.prototype.insertLink=function(){return null},zn.prototype.resolveReferencesForData=function(){},zn.prototype.Iq=function(t){return this.B.model.Iq(t)},zn.prototype.getLinkCategoryForData=function(){return""},zn.prototype.setLinkCategoryForData=function(){},zn.prototype.setFromNodeForLink=function(){},zn.prototype.setToNodeForLink=function(){},zn.prototype.findLinkTemplateForCategory=function(t){var e=this.B.linkTemplateMap.G(t);return null===e&&null===(e=this.B.linkTemplateMap.G(""))&&(TM||(TM=!0,rt('No Link template found for category "'+t+'"'),rt("  Using default link template")),e=this.B.Fu),e},zn.prototype.removeAllModeledParts=function(){this.fu(this.diagram.model.nodeDataArray)},zn.prototype.fu=function(t){var e=this;t.forEach(function(o){e.$q(o)})},zn.prototype.$q=function(t){null!==(t=this.zc(t))&&(Yg(this.diagram,t,!1),this.unresolveReferencesForPart(t))},zn.prototype.unresolveReferencesForPart=function(){},zn.prototype.removeDataForLink=function(){},zn.prototype.findPartForKey=function(t){return null==t?null:null!==(t=this.B.model.Kb(t))?this.Ue.G(t):null},zn.prototype.Cb=function(t){return null==t||null===(t=this.B.model.Kb(t))?null:(t=this.Ue.G(t))instanceof Ne?t:null},zn.prototype.findLinkForKey=function(){return null},(ot=zn.prototype).zc=function(t){if(null===t)return null;var e=this.Ue.G(t);return null!==e?e:e=this.Te.G(t)},ot.gj=function(t){return null===t?null:(t=this.Ue.G(t))instanceof Ne?t:null},ot.yc=function(t){return null===t?null:this.Te.G(t)},ot.It=function(t){for(var e=0;e<arguments.length;++e);e=new Ht;for(var o=this.lp.iterator;o.next();){var a=o.value,u=a.data;if(null!==u)for(var c=0;c<arguments.length;c++){var g=arguments[c];if(gt(g)&&Pb(this,u,g)){e.add(a);break}}}return e.iterator},ot.Ht=function(t){for(var e=0;e<arguments.length;++e);e=new Ht;for(var o=this.No.iterator;o.next();){var a=o.value,u=a.data;if(null!==u)for(var c=0;c<arguments.length;c++){var g=arguments[c];if(gt(g)&&Pb(this,u,g)){e.add(a);break}}}return e.iterator},zn.prototype.doModelChanged=function(t){if(this.B){var e=this.B;if(t.model===e.model){var o=t.change;if(e.doModelChanged(t),e.Z){e.Z=!1;try{var a=t.modelChange;if(""!==a)if(o===_r){if("nodeCategory"===a){var u=this.zc(t.object),c=t.newValue;null!==u&&"string"==typeof c&&(u.category=c)}else"nodeDataArray"===a&&(this.fu(t.oldValue),this.addModeledParts(t.newValue));e.isModified=!0}else if(o===Io){var g=t.newValue;"nodeDataArray"===a&&gt(g)&&Vx(this,g),e.isModified=!0}else if(o===fn){var _=t.oldValue;"nodeDataArray"===a&&gt(_)&&this.$q(_),e.isModified=!0}else o===Ss&&("SourceChanged"===a?null!==t.object?this.updateDataBindings(t.object,t.propertyName):(this.ir(),this.updateAllTargetBindings()):"ModelDisplaced"===a&&this.Md());else if(o===_r){var A=t.propertyName,I=t.object;I===e.model?("nodeKeyProperty"===A||"nodeCategoryProperty"===A)&&(e.undoManager.isUndoingRedoing||this.Md()):this.updateDataBindings(I,A),e.isModified=!0}else if(o===Io||o===fn){var B=t.change===Io,H=B?t.newParam:t.oldParam,dt=B?t.newValue:t.oldValue,bt=this.Qj.G(t.object);if(Array.isArray(bt))for(t=0;t<bt.length;t++){var pt=bt[t];if(B)Vy(pt,dt,H);else if(!(0>H)){var Rt=H+v0(pt);pt.Lc(Rt,!0),xr(pt,Rt,H)}}e.isModified=!0}}finally{e.Z=!0}}}}},zn.prototype.updateAllTargetBindings=function(t){void 0===t&&(t="");for(var e=this.parts.iterator;e.next();)e.value.Ea(t);for(e=this.nodes.iterator;e.next();)e.value.Ea(t);for(e=this.links.iterator;e.next();)e.value.Ea(t)},zn.prototype.ir=function(){for(var t=this.B.model,e=new Ht,o=t.nodeDataArray,a=0;a<o.length;a++)e.add(o[a]);var u=[];for(this.nodes.each(function(g){null===g.data||e.contains(g.data)||u.push(g.data)}),this.parts.each(function(g){null===g.data||e.contains(g.data)||u.push(g.data)}),u.forEach(function(g){IS(t,g,!1)}),a=0;a<o.length;a++){var c=o[a];null===this.zc(c)&&$x(t,c,!1)}for(this.refreshDataBoundLinks(),o=this.parts.iterator;o.next();)o.value.updateRelationshipsFromData();for(o=this.nodes.iterator;o.next();)o.value.updateRelationshipsFromData();for(o=this.links.iterator;o.next();)o.value.updateRelationshipsFromData()},zn.prototype.refreshDataBoundLinks=function(){},zn.prototype.updateRelationshipsFromData=function(){},zn.prototype.updateDataBindings=function(t,e){if("string"==typeof e){var o=this.zc(t);if(null!==o)o.Ea(e);else{o=null;for(var a=this.Qj.iterator;a.next();){for(var u=a.value,c=0;c<u.length;c++){var g=u[c].qy(t);null!==g&&(null===o&&(o=h()),o.push(g))}if(null!==o)break}if(null!==o){for(a=0;a<o.length;a++)o[a].Ea(e);m(o)}}t===this.diagram.model.modelData&&this.updateAllTargetBindings(e)}},zn.prototype.tk=function(t,e,o){void 0===o&&(o=!1);var a=new vt;if(Et(t))for(var u=0;u<t.length;u++)zx(this,t[u],e,a,o);else for(t=t.iterator;t.next();)zx(this,t.value,e,a,o);if(null!==e){o=e.model,t=null!==(t=e.toolManager.findTool("Dragging"))?t.dragOptions.dragsLink:e.kl.dragsLink,u=new Ht;for(var c=new vt,g=a.iterator;g.next();){var _=g.value;if(_ instanceof We)t||null!==_.fromNode&&null!==_.toNode||u.add(_);else if(_ instanceof Ne&&null!==_.data&&o.Em()){var A=_,I=(_=g.key).Fg();null!==I&&(null!==(I=a.G(I))?(o.fe(A.data,o.ja(I.data)),A=e.yc(A.data),null!==(_=_.jj())&&null!==A&&c.add(_,A)):o.fe(A.data,void 0))}}if(0<u.count&&e.gu(u,!1),0<c.count)for(o=c.iterator;o.next();)a.add(o.key,o.value)}if(null!==e&&null!==this.B&&null!==(o=(e=e.model).afterCopyFunction)){var B=new vt;a.each(function(H){null!==H.key.data&&B.add(H.key.data,H.value.data)}),o(B,e,this.B.model)}for(e=a.iterator;e.next();)e.value.Ea();return a},zn.prototype.copyPartData=function(t,e){var o=null,a=t.data;if(null!==a&&null!==e){var u=e.model;t instanceof We||gt(a=u.copyNodeData(a))&&(u.uf(a),o=e.zc(a))}else va(t),null!==(o=t.copy())&&(u=this.B,null!==e?e.add(o):null!==a&&null!==u&&null!==u.commandHandler&&u.commandHandler.copiesClipboardData&&(e=u.model,u=null,o instanceof We||(u=e.copyNodeData(a)),gt(u)&&(o.data=u)));return o},W.Object.defineProperties(zn.prototype,{nodes:{get:function(){return this.lp}},links:{get:function(){return this.No}},parts:{get:function(){return this.Fa}},diagram:{get:function(){return this.B}},addsToTemporaryLayer:{get:function(){return this.mr},set:function(t){this.mr=t}}}),zn.prototype.updateAllRelationshipsFromData=zn.prototype.ir,zn.prototype.findLinksByExample=zn.prototype.Ht,zn.prototype.findNodesByExample=zn.prototype.It,zn.prototype.findLinkForData=zn.prototype.yc,zn.prototype.findNodeForData=zn.prototype.gj,zn.prototype.findPartForData=zn.prototype.zc,zn.prototype.findNodeForKey=zn.prototype.Cb,zn.prototype.removeModeledPart=zn.prototype.$q,zn.prototype.removeModeledParts=zn.prototype.fu,zn.prototype.rebuildParts=zn.prototype.Md;var Rb=!1,AM=!1,TM=!1;function Yo(t){zn.apply(this,arguments)}function Ob(t,e){e.forEach(function(o){PM(t,o)}),no(t.diagram,!1)}function PM(t,e){if(null!=e&&!t.diagram.undoManager.isUndoingRedoing&&!t.Te.contains(e)){var o=t.getLinkCategoryForData(e),a=t.findLinkTemplateForCategory(o);if(null!==a){va(a);var u=a.copy();if(null!==u){a=t.diagram.skipsModelSourceBindings,t.diagram.skipsModelSourceBindings=!0,u.Nf=o,u.ob=e;var c=Zx(o=t.diagram.model,e,!0);""!==c&&(u.fromPortId=c),void 0!==(c=kl(o,e,!0))&&(c=t.Cb(c))instanceof Ne&&(u.fromNode=c),""!==(c=Zx(o,e,!1))&&(u.toPortId=c),void 0!==(c=kl(o,e,!1))&&(c=t.Cb(c))instanceof Ne&&(u.toNode=c),o=o.Bf(e),Array.isArray(o)&&o.forEach(function(g){null!==(g=t.Cb(g))&&(g.labeledLink=u)}),t.mr&&(u.ih="Tool"),t.diagram.add(u),u.ob=null,u.data=e,t.diagram.skipsModelSourceBindings=a}}}}function vf(t,e){e.forEach(function(o){t.$q(o)})}function ll(){zn.apply(this,arguments),this.rh=null}function Hx(t,e,o){if(null!==e&&null!==o){var a=t.diagram.toolManager.findTool("Linking"),u=e,c=o;if(t.diagram.isTreePathToChildren){for(e=c.linksConnected;e.next();)if(e.value.toNode===c)return}else for(c=e,e=(u=o).linksConnected;e.next();)if(e.value.fromNode===u)return;if((null===a||!jf(a,u,c,null,!0))&&(a=t.getLinkCategoryForData(o.data),null!==(e=t.findLinkTemplateForCategory(a))&&(va(e),null!==(e=e.copy())))){var g=t.diagram.skipsModelSourceBindings;t.diagram.skipsModelSourceBindings=!0,e.Nf=a,e.ob=o.data,e.fromNode=u,e.toNode=c,t.diagram.add(e),e.ob=null,e.data=o.data,t.diagram.skipsModelSourceBindings=g}}}function Ti(t){this.Oi=new Ht,this.Li=new Ht,this.tu=',\n  "insertedNodeKeys": ',this.lx=',\n  "modifiedNodeData": ',this.vu=',\n  "removedNodeKeys": ',this.Yh=null,ge(this),this.Ln=this.oa="",this.$f=!1,this.l={},this.Fc=[],this.Wa=new vt,this.Ni="key",this.il=this.Pl=null,this.Cn=this.Dn=!1,this.Fn=!0,this.kn=null,this.Yj="category",this.Tf=new vt,this.cv=new Vt,this.vg=!1,this.u=null,this.undoManager=new to,void 0!==t&&(this.nodeDataArray=t)}function Qy(t,e,o,a,u,c){function g(H,dt){_?(void 0===H.__gohashid&&c.push(H),a.set(H,dt)):(H=de++,a.set(H,dt),u.set(H,e))}if(!gt(e))return e;c||(c=[]);var _=Object.isExtensible(e);if(a||(a=new vt),_){var A=a.get(e);if(A)return A}else for(u||(u=new vt),A=u.iterator;A.next();){var I=A.key;if(A.value===e&&(I=a.get(I)))return I}if(Array.isArray(e)){g(e,A=[]);for(var B=0;B<e.length;B++)A.push(Qy(t,e[B],!1,a,u,c))}else if(e instanceof at||e instanceof He||e instanceof te||e instanceof nn||e instanceof ki)A=e.copy(),g(e,A);else{if(e instanceof Dn||e instanceof pn||e instanceof wt)return e;if(e instanceof Vt)A=(new Vt).addAll(Qy(t,e.ma(),!1,a,u,c)),g(e,A);else if(e instanceof Ht)A=(new Ht).addAll(Qy(t,e.ma(),!1,a,u,c)),g(e,A);else if(e instanceof vt)A=(new vt).addAll(Qy(t,e.ma(),!1,a,u,c)),g(e,A);else if(e instanceof Date)A=new Date(e.getTime()),g(e,A);else if(e instanceof RegExp)A=new RegExp(e),g(e,A),A.lastIndex=e.lastIndex;else if("function"==typeof e.copy)A=e.copy(),g(e,A);else for(B in g(e,A={}),e)"__gohashid"!==B&&(A[B]=Qy(t,e[B],!1,a,u,c))}return o&&c.forEach(function(H){delete H.__gohashid}),A}function Ux(t){return',\n  "modelData": '+Yx(t,t.modelData)}function IM(t,e){gt(e=e.modelData)&&(t.Om(e),t.modelData=e)}function Ev(t,e,o,a){if(e===o)return!0;if(typeof e!=typeof o||"function"==typeof e||"function"==typeof o)return!1;if(Array.isArray(e)&&Array.isArray(o)){if(a.G(e)===o)return!0;if(a.add(e,o),e.length!==o.length)return!1;for(var u=0;u<e.length;u++)if(!Ev(t,e[u],o[u],a))return!1;return!0}if(gt(e)&&gt(o)){if(a.G(e)===o)return!0;for(var c in a.add(e,o),e){var g=e[c];if(!kv(c,g)){var _=o[c];if(void 0===_||!Ev(t,g,_,a))return!1}}for(u in o)if(!(kv(u,c=o[u])||void 0!==(g=e[u])&&Ev(t,g,c,a)))return!1;return!0}return!1}function C0(t,e,o){t[o]!==e[o]&&V("Model.computeJsonDifference: Model."+o+' is not the same in both models: "'+t[o]+'" and "'+e[o]+'"')}function Gx(t,e){function o(u,c){if((c=c.part)&&u!==(c=c.data)){var g=a.get(u);null===g?((g=new Ht).add(c),a.add(u,g)):g.add(c)}}var a=t.Yh;null===a&&(a=new vt,e.changes.each(function(u){if(null!==u.diagram){var c=u.change;c===_r?(u=u.object.panel)&&(c=u.data)&&o(c,u):(c===Io||c===fn)&&(c=(u=u.object).itemArray)&&o(c,u)}}),t.Yh=a)}function RM(t,e){for(var o=new Ht,a=0;a<t.nodeDataArray.length;a++){var u=t.nodeDataArray[a];Wx(t,e,u,u,o)}return o}function Wx(t,e,o,a,u){if(Array.isArray(o))for(var c=0;c<o.length;c++){var g=o[c];if(g===e)return u.add(a),!0;if(Wx(t,e,g,a,u))return!0}else if(gt(o)&&Object.getPrototypeOf(o)===Object.prototype)for(c in o){if((g=o[c])===e)return u.add(a),!0;if(Wx(t,e,g,a,u))return!0}return!1}function El(t,e,o){void 0===o&&(o=!1);var a=e.length;if(0>=a)return"[]";var u=new Gt;u.add("["),o&&1<a&&u.add("\n");for(var c=0;c<a;c++){var g=e[c];void 0!==g&&(0<c&&(u.add(","),o&&u.add("\n")),u.add(t.bn(g)))}return o&&1<a&&u.add("\n"),u.add("]"),u.toString()}function kv(t,e){return void 0===e||"__gohashid"===t||"_"===t[0]||"function"==typeof e}function wa(t){return isNaN(t)?"NaN":t===1/0?"9e9999":t===-1/0?"-9e9999":t}function Yx(t,e){var o=e;if(o instanceof at)e={class:"go.Point",x:wa(o.x),y:wa(o.y)};else if(o instanceof He)e={class:"go.Size",width:wa(o.width),height:wa(o.height)};else if(o instanceof te)e={class:"go.Rect",x:wa(o.x),y:wa(o.y),width:wa(o.width),height:wa(o.height)};else if(o instanceof nn)e={class:"go.Margin",top:wa(o.top),right:wa(o.right),bottom:wa(o.bottom),left:wa(o.left)};else if(o instanceof ki)e=o.kb()?{class:"go.Spot",x:wa(o.x),y:wa(o.y),offsetX:wa(o.offsetX),offsetY:wa(o.offsetY)}:{class:"go.Spot",enum:o.toString()};else if(o instanceof Dn){if(e={class:"go.Brush",type:o.type.name},o.type===Ah?e.color=o.color:(o.type===Th||o.type===ma)&&(e.start=o.start,e.end=o.end,o.type===ma&&(0!==o.startRadius&&(e.startRadius=wa(o.startRadius)),isNaN(o.endRadius)||(e.endRadius=wa(o.endRadius)))),null!==o.colorStops){var a={};for(o=o.colorStops.iterator;o.next();)a[o.key]=o.value;e.colorStops=a}}else o instanceof pn?(e={class:"go.Geometry",type:o.type.name},0!==o.startX&&(e.startX=wa(o.startX)),0!==o.startY&&(e.startY=wa(o.startY)),0!==o.endX&&(e.endX=wa(o.endX)),0!==o.endY&&(e.endY=wa(o.endY)),o.spot1.w(ar)||(e.spot1=o.spot1),o.spot2.w(Ha)||(e.spot2=o.spot2),o.type===pl&&(e.path=Z0(o))):o instanceof wt&&(e={class:"go.EnumValue",classType:Vm(t,o.classType),name:o.name});for(var u in a="{",o=!0,e){var c=ho(e,u);if(!kv(u,c))if(o?o=!1:a+=",",a+=JSON.stringify(u)+":","points"===u&&c instanceof Vt){var g="[";for(c=c.iterator;c.next();){var _=c.value;1<g.length&&(g+=","),g+=t.bn(_.x),g+=",",g+=t.bn(_.y)}a+=g+="]"}else a+=t.bn(c)}return a+"}"}function $s(t){return"number"==typeof t?t:"NaN"===t?NaN:"9e9999"===t?1/0:"-9e9999"===t?-1/0:parseFloat(t)}function No(t,e,o,a,u,c,g,_,A){void 0===_&&(_=null),void 0===A&&(A=null);var I=new jr;I.model=t,I.change=o,I.modelChange=e,I.propertyName=a,I.object=u,I.oldValue=c,I.oldParam=_,I.newValue=g,I.newParam=A,t.zt(I)}function gp(t){return"number"==typeof t||"string"==typeof t}function $x(t,e,o){var a=t.ja(e);(void 0===a||t.Wa.G(a)!==e)&&(t.Zt(e),void 0===(a=t.ja(e))?V("Model.makeNodeDataKeyUnique failed on "+e+".  Data not added to Model."):(t.Wa.add(a,e),a=null,o&&Mt(t.Fc,a=t.Fc.length,e),No(t,"nodeDataArray",Io,"nodeDataArray",t,null,e,null,a),t.Qm(e),t.Pm(e)))}function IS(t,e,o){var a=t.ja(e);if(void 0!==a&&t.Wa.remove(a),a=null,o){t:if(o=t.Fc,Array.isArray(o))a=o.indexOf(e);else{a=o.length;for(var u=0;u<a;u++)if(o[u]===e){a=u;break t}a=-1}if(0>a)return;T(t.Fc,a)}No(t,"nodeDataArray",fn,"nodeDataArray",t,e,null,a,null),t.hr(e)}function eh(t,e,o){if(void 0!==e){var a=t.Tf.G(e);null===a&&(a=new Ht,t.Tf.add(e,a)),a.add(o)}}function Lu(t,e,o){if(void 0!==e){var a=t.Tf.G(e);a instanceof Ht&&(null==o?t.Tf.remove(e):(a.remove(o),0===a.count&&t.Tf.remove(e)))}}function Av(t,e){return void 0===e?null:(t=t.Tf.G(e))instanceof Ht?t:null}function Jy(t,e,o){if(t.copiesArrays&&Array.isArray(e)){var a=[];for(o=0;o<e.length;o++){var u=Jy(t,e[o],t.copiesArrayObjects);a.push(u)}return ge(a),a}if(o&&gt(e)){for(a in o=(o=e.constructor)?new o:{},u=t.copiesKey||"string"!=typeof t.nodeKeyProperty?null:t.nodeKeyProperty,e)if("__gohashid"===a)o.__gohashid=void 0;else if(a===u)o[u]=void 0;else{var c=ho(e,a),g=Vm(t,c);"GraphObject"===g||"Diagram"===g||"Layer"===g||"RowColumnDefinition"===g||"AnimationManager"===g||"Tool"===g||"CommandHandler"===g||"Layout"===g||"InputEvent"===g||"DiagramEvent"===g||c instanceof Ti||c instanceof to||c instanceof Ro||c instanceof jr||(c=Jy(t,c,!1)),Tr(o,a,c)}return ge(o),o}return e instanceof at||e instanceof He||e instanceof te||e instanceof ki||e instanceof nn?e.copy():e}function Xx(){return new Ti}function Vm(t,e){if("function"==typeof e){if(e.className)return e.className;if(e.name)return e.name}else if("object"==typeof e&&null!==e&&e.constructor)return Vm(t,e.constructor);return typeof e}function yf(t){return ih[t]?ih[t]:void 0!==N.go&&N.go[t]?N.go[t]:null}function ho(t,e){if(!t||!e)return null;try{if("function"==typeof e)var o=e(t);else"function"==typeof t.getAttribute?null===(o=t.getAttribute(e))&&(o=void 0):o=t[e]}catch(a){}return o}function Tr(t,e,o){if(t&&e)try{"function"==typeof e?e(t,o):"function"==typeof t.setAttribute?t.setAttribute(e,o):t[e]=o}catch(a){}}zn.className="PartManager",K(Yo,zn),Yo.prototype.addAllModeledParts=function(){var t=this.diagram.model;this.addModeledParts(t.nodeDataArray),Ob(this,t.linkDataArray)},Yo.prototype.addModeledParts=function(t){for(zn.prototype.addModeledParts.call(this,t,!1),t=this.links.iterator;t.next();)Xi(t.value);no(this.diagram,!1)},Yo.prototype.removeAllModeledParts=function(){var t=this.diagram.model;vf(this,t.linkDataArray),this.fu(t.nodeDataArray)},Yo.prototype.getLinkCategoryForData=function(t){return this.diagram.model.Lt(t)},Yo.prototype.setLinkCategoryForData=function(t,e){return this.diagram.model.cr(t,e)},Yo.prototype.setFromNodeForLink=function(t,e){var o=this.diagram.model;o.Bw(t.data,o.ja(null!==e?e.data:null))},Yo.prototype.setToNodeForLink=function(t,e){var o=this.diagram.model;o.Gw(t.data,o.ja(null!==e?e.data:null))},Yo.prototype.removeDataForLink=function(t){this.diagram.model.Mm(t.data)},Yo.prototype.findPartForKey=function(t){var e=zn.prototype.findPartForKey.call(this,t);return null===e&&null!==(t=this.diagram.model.Dg(t))?this.Te.G(t):e},Yo.prototype.findLinkForKey=function(t){return null==t?null:null!==(t=this.diagram.model.Dg(t))?this.Te.G(t):null},Yo.prototype.doModelChanged=function(t){var e=this;if(zn.prototype.doModelChanged.call(this,t),this.diagram){var o=this.diagram;if(t.model===o.model){var a=t.change;if(o.Z){o.Z=!1;try{var u=t.modelChange;if(""!==u){if(a===_r){if("linkFromKey"===u){var c=this.yc(t.object);if(null!==c){var g=this.Cb(t.newValue);c.fromNode=g}}else if("linkToKey"===u){var _=this.yc(t.object);if(null!==_){var A=this.Cb(t.newValue);_.toNode=A}}else if("linkFromPortId"===u){var I=this.yc(t.object);if(null!==I){var B=t.newValue;"string"==typeof B&&(I.fromPortId=B)}}else if("linkToPortId"===u){var H=this.yc(t.object);if(null!==H){var dt=t.newValue;"string"==typeof dt&&(H.toPortId=dt)}}else if("nodeGroupKey"===u){var bt=this.zc(t.object);if(null!==bt){var pt=t.newValue;if(void 0!==pt){var Rt=this.Cb(pt);bt.containingGroup=Rt instanceof ai?Rt:null}else bt.containingGroup=null}}else if("linkLabelKeys"===u){var Xt=this.yc(t.object);if(null!==Xt){var $t=t.oldValue,ie=t.newValue;Array.isArray($t)&&$t.forEach(function(ii){0<=ie.indexOf(ii)||null!==(ii=e.Cb(ii))&&(ii.labeledLink=null)}),Array.isArray(ie)&&ie.forEach(function(ii){null!==(ii=e.Cb(ii))&&(ii.labeledLink=Xt)})}}else if("linkCategory"===u){var oe=this.yc(t.object),ce=t.newValue;null!==oe&&"string"==typeof ce&&(oe.category=ce)}else"linkDataArray"===u&&(vf(this,t.oldValue),Ob(this,t.newValue));o.isModified=!0}else if(a===Io){var _e=t.newValue;if("linkDataArray"===u&&"object"==typeof _e&&null!==_e)PM(this,_e);else if("linkLabelKeys"===u&&gp(_e)){var Je=this.yc(t.object),Si=this.Cb(_e);null!==Je&&null!==Si&&(Si.labeledLink=Je)}o.isModified=!0}else if(a===fn){var li=t.oldValue;if("linkDataArray"===u&&"object"==typeof li&&null!==li)this.$q(li);else if("linkLabelKeys"===u&&gp(li)){var Fi=this.Cb(li);null!==Fi&&(Fi.labeledLink=null)}o.isModified=!0}}else if(a===_r){var di=t.propertyName;t.object!==o.model||"linkFromKeyProperty"!==di&&"linkToKeyProperty"!==di&&"linkFromPortIdProperty"!==di&&"linkToPortIdProperty"!==di&&"linkLabelKeysProperty"!==di&&"nodeIsGroupProperty"!==di&&"nodeGroupKeyProperty"!==di&&"linkCategoryProperty"!==di||o.undoManager.isUndoingRedoing||this.Md(),o.isModified=!0}}finally{o.Z=!0}}}}},Yo.prototype.refreshDataBoundLinks=function(){var t=this,e=this.diagram.model,o=new Ht,a=e.linkDataArray;a.forEach(function(c){o.add(c)});var u=[];this.links.each(function(c){null===c.data||o.contains(c.data)||u.push(c.data)}),u.forEach(function(c){FM(e,c,!1)}),a.forEach(function(c){null===t.yc(c)&&LM(e,c,!1)})},Yo.prototype.updateRelationshipsFromData=function(t){var e=t.data;if(null!==e){var o=t.diagram;if(null!==o){var a=o.model;if(t instanceof We){var u=kl(a,e,!0);if(u=o.Cb(u),t.fromNode=u,u=kl(a,e,!1),u=o.Cb(u),t.toNode=u,0<(e=a.Bf(e)).length||0<t.labelNodes.count){if(1===e.length&&1===t.labelNodes.count){u=e[0];var c=t.labelNodes.first();if(a.ja(c.data)===u)return}u=(new Ht).addAll(e);var g=new Ht;t.labelNodes.each(function(_){null!==_.data&&void 0!==(_=a.ja(_.data))&&g.add(_)}),(e=g.copy()).Zq(u),(u=u.copy()).Zq(g),(0<e.count||0<u.count)&&(e.each(function(_){null!==(_=o.Cb(_))&&_.labeledLink===t&&(_.labeledLink=null)}),u.each(function(_){null!==(_=o.Cb(_))&&_.labeledLink!==t&&(_.labeledLink=t)}))}}else!(t instanceof si)&&(e=a.Lh(e),null===(e=o.findPartForKey(e))||e instanceof ai)&&(t.containingGroup=e)}}},Yo.prototype.resolveReferencesForData=function(t){var e=this.diagram.model,o=e.ja(t);if(void 0!==o){var a=Av(e,o),u=this.zc(t);if(null!==a&&null!==u){a=a.iterator;for(var c={};a.next();){var g=a.value;e.ab(g)?u instanceof ai&&e.Lh(g)===o&&null!==(g=this.zc(g))&&(g.containingGroup=u):(c.link=this.yc(g),null!==c.link&&u instanceof Ne&&(kl(e,g,!0)===o&&(c.link.fromNode=u),kl(e,g,!1)===o&&(c.link.toNode=u),g=e.Bf(g),Array.isArray(g)&&g.some(function(_){return function(A){return A===o&&(u.labeledLink=_.link,!0)}}(c)))),c={link:c.link}}Lu(e,o)}void 0!==(t=e.Lh(t))&&(t=this.Cb(t))instanceof ai&&(u.containingGroup=t)}},Yo.prototype.unresolveReferencesForPart=function(t){var e=this.diagram.model;if(t instanceof Ne){var o=e.ja(t.data);if(void 0!==o){for(var a=t.linksConnected;a.next();)eh(e,o,a.value.data);if(t.isLinkLabel&&null!==(a=t.labeledLink)&&eh(e,o,a.data),t instanceof ai)for(t=t.memberParts;t.next();)e.ab(a=t.value.data)&&eh(e,o,a)}}},Yo.prototype.copyPartData=function(t,e){var o=zn.prototype.copyPartData.call(this,t,e);if(t instanceof We)if(null!==(t=t.data)&&null!==e){var a=e.model;"object"==typeof(t=a.Aq(t))&&null!==t&&(a.bj(t),o=e.yc(t))}else null!==o&&(e=this.diagram,null!==t&&null!==e&&null!==e.commandHandler&&e.commandHandler.copiesClipboardData&&"object"==typeof(e=e.model.Aq(t))&&null!==e&&(o.data=e));return o},Yo.prototype.insertLink=function(t,e,o,a){var u=this.diagram,c=u.model,g=u.toolManager.findTool("Linking"),_="";if(null!==t&&(null===e&&(e=t),null===(_=e.portId)&&(_="")),e="",null!==o&&(null===a&&(a=o),null===(e=a.portId)&&(e="")),(a=g.archetypeLinkData)instanceof We){if(va(a),null!==(c=a.copy()))return c.fromNode=t,c.fromPortId=_,c.toNode=o,c.toPortId=e,u.add(c),(t=g.archetypeLabelNodeData)instanceof Ne&&(va(t),null!==(t=t.copy())&&(t.labeledLink=c,u.add(t))),c}else if(null!==a&&"object"==typeof(a=c.Aq(a))&&null!==a)return null!==t&&jm(c,a,c.ja(t.data),!0),S0(c,a,_,!0),null!==o&&jm(c,a,c.ja(o.data),!1),S0(c,a,e,!1),c.bj(a),null===(t=g.archetypeLabelNodeData)||t instanceof Ne||"object"==typeof(t=c.copyNodeData(t))&&null!==t&&(c.uf(t),void 0!==(t=c.ja(t))&&c.Dv(a,t)),u.yc(a);return null},Yo.prototype.findLinkForKey=Yo.prototype.findLinkForKey,Yo.prototype.findPartForKey=Yo.prototype.findPartForKey,Yo.prototype.removeAllModeledParts=Yo.prototype.removeAllModeledParts,Yo.prototype.addModeledParts=Yo.prototype.addModeledParts,Yo.prototype.addAllModeledParts=Yo.prototype.addAllModeledParts,Yo.className="GraphLinksPartManager",K(ll,zn),ll.prototype.getLinkCategoryForData=function(t){return this.diagram.model.Ot(t)},ll.prototype.setLinkCategoryForData=function(t,e){this.diagram.model.ku(t,e)},ll.prototype.setFromNodeForLink=function(t,e,o){var a=this.diagram.model;if(void 0===o&&(o=null),e=null!==e?e.data:null,this.diagram.isTreePathToChildren)a.fe(t.data,a.ja(e));else{var u=this.rh;this.rh=t,null!==o&&a.fe(o.data,void 0),a.fe(e,a.ja(null!==t.toNode?t.toNode.data:null)),this.rh=u}},ll.prototype.setToNodeForLink=function(t,e,o){var a=this.diagram.model;if(void 0===o&&(o=null),e=null!==e?e.data:null,this.diagram.isTreePathToChildren){var u=this.rh;this.rh=t,null!==o&&a.fe(o.data,void 0),a.fe(e,a.ja(null!==t.fromNode?t.fromNode.data:null)),this.rh=u}else a.fe(t.data,a.ja(e))},ll.prototype.removeDataForLink=function(t){this.diagram.model.fe(t.data,void 0)},ll.prototype.findLinkForKey=function(t){return null==t?null:null!==(t=this.diagram.model.Kb(t))?this.Te.G(t):null},ll.prototype.doModelChanged=function(t){if(zn.prototype.doModelChanged.call(this,t),this.diagram){var e=this.diagram;if(t.model===e.model){var o=t.change;if(e.Z){e.Z=!1;try{var a=t.modelChange;if(""!==a){if(o===_r){if("nodeParentKey"===a){var u=t.object,c=this.Cb(t.newValue),g=this.gj(u);if(null!==this.rh)null!==c&&(this.rh.data=u,this.rh.category=this.getLinkCategoryForData(u));else if(null!==g){var _=g.jj();null!==_?null===c?e.remove(_):e.isTreePathToChildren?_.fromNode=c:_.toNode=c:Hx(this,c,g)}}else if("parentLinkCategory"===a){var A=this.gj(t.object),I=t.newValue;if(null!==A&&"string"==typeof I){var B=A.jj();null!==B&&(B.category=I)}}e.isModified=!0}}else o===_r&&(t.object===e.model&&"nodeParentKeyProperty"===t.propertyName&&(e.undoManager.isUndoingRedoing||this.Md()),e.isModified=!0)}finally{e.Z=!0}}}}},ll.prototype.updateRelationshipsFromData=function(t){var e=t.data;if(null!==e){var o=t.diagram;if(null!==o){var a=o.model;t instanceof Ne&&(e=a.Mh(e),(e=o.Cb(e))!==(a=t.Fg())&&(a=t.jj(),null!==e?null!==a?o.isTreePathToChildren?a.fromNode=e:a.toNode=e:Hx(this,e,t):null!==a&&Yg(o,a,!1)))}}},ll.prototype.updateDataBindings=function(t,e){zn.prototype.updateDataBindings.call(this,t,e),"string"==typeof e&&null!==this.zc(t)&&null!==(t=this.yc(t))&&t.Ea(e)},ll.prototype.resolveReferencesForData=function(t){var e=this.diagram.model,o=e.ja(t);if(void 0!==o){var a=Av(e,o),u=this.zc(t);if(null!==a&&null!==u){for(a=a.iterator;a.next();){var c=a.value;e.ab(c)&&u instanceof Ne&&e.Mh(c)===o&&Hx(this,u,this.gj(c))}Lu(e,o)}void 0!==(t=e.Mh(t))&&u instanceof Ne&&Hx(this,t=this.Cb(t),u)}},ll.prototype.unresolveReferencesForPart=function(t){var e=this.diagram.model;if(t instanceof Ne){var o=e.ja(t.data),a=this.yc(t.data);if(null!==a){a.isSelected=!1,a.isHighlighted=!1;var u=a.layer;if(null!==u){var c=u.Lc(-1,a,!1);0<=c&&this.diagram.Va(fn,"parts",u,a,null,c,null),null!==(c=a.layerChanged)&&c(a,u,null)}}for(a=this.diagram.isTreePathToChildren,t=t.linksConnected;t.next();)u=t.value,e.ab(u=(a?u.toNode:u.fromNode).data)&&eh(e,o,u)}},ll.prototype.insertLink=function(t,e,o){e=this.diagram.model;var a=t,u=o;return this.diagram.isTreePathToChildren||(a=o,u=t),null!==a&&null!==u?(e.fe(u.data,e.ja(a.data)),u.jj()):null},ll.prototype.findLinkForKey=ll.prototype.findLinkForKey,ll.className="TreePartManager",Ti.prototype.cloneProtected=function(t){t.oa=this.oa,t.Ln=this.Ln,t.$f=this.$f,t.Ni=this.Ni,t.Pl=this.Pl,t.il=this.il,t.Dn=this.Dn,t.Cn=this.Cn,t.Fn=this.Fn,t.kn=this.kn,t.Yj=this.Yj},Ti.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},Ti.prototype.clear=function(){this.Fc=[],this.Wa.clear(),this.Tf.clear(),this.undoManager.clear()},Ti.prototype.toString=function(t){if(void 0===t&&(t=0),1<t)return this.fr();var e=(""!==this.name?this.name:"")+" Model";if(0<t){e+="\n node data:";for(var o=(t=this.nodeDataArray).length,a=0;a<o;a++){var u=t[a];e+=" "+this.ja(u)+":"+v(u)}}return e},Ti.prototype.gB=function(t){t.change!==Ss&&V("Model.toIncrementalData argument is not a Transaction ChangedEvent:"+t.toString());var e=t.object;return t.isTransactionFinished&&e instanceof Ro?(Gx(this,e),t=this.Yw(e,"FinishedUndo"===t.propertyName),this.Yh=null,t):null},Ti.prototype.Yw=function(t,e){var o=this,a=!1,u=new Ht,c=new Ht,g=new Ht,_=this.Yh;t.changes.each(function(H){H.model===o&&("nodeDataArray"===H.modelChange?H.change===Io?u.add(H.newValue):H.change===fn&&g.add(H.oldValue):o.ab(H.object)?c.add(H.object):H.change!==_r||o.modelData!==H.object&&"modelData"!==H.propertyName?null!==H.object&&(_&&_.contains(H.object)?_.get(H.object).each(function(dt){o.ab(dt)&&c.add(dt)}):H.object instanceof Ti||o.qj()&&o.xc(H.object)||RM(o,H.object).each(function(dt){c.add(dt)})):a=!0)});var A=this.Li;A.clear(),u.each(function(H){A.add(o.ja(H)),e||c.add(H)});var I=this.Oi;I.clear(),g.each(function(H){I.add(o.ja(H)),e&&c.add(H)}),t=o.cloneDeep(c.ma());var B=null;return a&&(null===B&&(B={}),B.modelData=this.cloneDeep(this.modelData)),0<A.count&&(null===B&&(B={}),e?B.removedNodeKeys=A.ma():B.insertedNodeKeys=A.ma()),0<t.length&&(null===B&&(B={}),B.modifiedNodeData=t),0<I.count&&(null===B&&(B={}),e?B.insertedNodeKeys=I.ma():B.removedNodeKeys=I.ma()),I.clear(),A.clear(),B},Ti.prototype.cloneDeep=function(t){return Qy(this,t,!0)},(ot=Ti.prototype).Vk=function(){var t="";return""!==this.name&&(t+=',\n  "name": '+this.quote(this.name)),""!==this.dataFormat&&(t+=',\n  "dataFormat": '+this.quote(this.dataFormat)),this.isReadOnly&&(t+=',\n  "isReadOnly": '+this.isReadOnly),"key"!==this.nodeKeyProperty&&"string"==typeof this.nodeKeyProperty&&(t+=',\n  "nodeKeyProperty": '+this.quote(this.nodeKeyProperty)),this.copiesArrays&&(t+=',\n  "copiesArrays": true'),this.copiesArrayObjects&&(t+=',\n  "copiesArrayObjects": true'),this.copiesKey||(t+=',\n  "copiesKey": false'),"category"!==this.nodeCategoryProperty&&"string"==typeof this.nodeCategoryProperty&&(t+=',\n  "nodeCategoryProperty": '+this.quote(this.nodeCategoryProperty)),t},ot.Xq=function(t){t.name&&(this.name=t.name),t.dataFormat&&(this.dataFormat=t.dataFormat),t.isReadOnly&&(this.isReadOnly=!0),t.nodeKeyProperty&&(this.nodeKeyProperty=t.nodeKeyProperty),t.copiesArrays&&(this.copiesArrays=!0),t.copiesArrayObjects&&(this.copiesArrayObjects=!0),!1===t.copiesKey&&(this.copiesKey=!1),t.nodeCategoryProperty&&(this.nodeCategoryProperty=t.nodeCategoryProperty)},ot.Zw=function(){var o,t=this.modelData,e=!1;for(o in t)if(!kv(o,t[o])){e=!0;break}return t="",e&&(t=Ux(this)),t+',\n  "nodeDataArray": '+El(this,this.nodeDataArray,!0)},ot.rw=function(t){IM(this,t),Et(t=t.nodeDataArray)&&(this.Om(t),this.nodeDataArray=t)},ot.kr=function(t){C0(this,t,"nodeKeyProperty");var e=this.Li;e.clear();var o=new Ht,a=this.Oi;a.clear(),a.addAll(this.Wa.iteratorKeys);for(var u=new vt,c=t.nodeDataArray,g=c.length,_=0;_<g;_++){var A=c[_],I=t.ja(A);if(void 0!==I){a.remove(I);var B=this.Kb(I);null===B?(e.add(I),o.add(A)):Ev(this,B,A,u)||o.add(A)}else this.Zt(A),I=this.ja(A),e.add(I),o.add(A)}return c="",Ev(this,this.modelData,t.modelData,u)||(c+=Ux(this)),0<e.count&&(c+=this.tu+El(this,e.ma(),!0)),0<o.count&&(c+=this.lx+El(this,o.ma(),!0)),0<a.count&&(c+=this.vu+El(this,a.ma(),!0)),a.clear(),e.clear(),c},ot.Dz=function(t,e){return void 0===e&&(e=Vm(this,this)),'{ "class": '+this.quote(e)+', "incremental": 1'+this.Vk()+this.kr(t)+"}"},ot.Xw=function(t,e){var o=this,a=!1,u=new Ht,c=new Ht,g=new Ht,_=this.Yh;t.changes.each(function(B){B.model===o&&("nodeDataArray"===B.modelChange?B.change===Io?u.add(B.newValue):B.change===fn&&g.add(B.oldValue):o.ab(B.object)?c.add(B.object):B.change!==_r||o.modelData!==B.object&&"modelData"!==B.propertyName?null!==B.object&&(_&&_.contains(B.object)?_.get(B.object).each(function(H){o.ab(H)&&c.add(H)}):B.object instanceof Ti||o.qj()&&o.xc(B.object)||RM(o,B.object).each(function(H){c.add(H)})):a=!0)});var A=this.Li;A.clear(),u.each(function(B){A.add(o.ja(B)),e||c.add(B)});var I=this.Oi;return I.clear(),g.each(function(B){I.add(o.ja(B)),e&&c.add(B)}),t="",a&&(t+=Ux(this)),0<A.count&&(t+=(e?this.vu:this.tu)+El(this,A.ma(),!0)),0<c.count&&(t+=this.lx+El(this,c.ma(),!0)),0<I.count&&(t+=(e?this.tu:this.vu)+El(this,I.ma(),!0)),I.clear(),A.clear(),t},ot.Wq=function(t){(void 0!==t.name&&t.name!==this.name||void 0!==t.dataFormat&&t.dataFormat!==this.dataFormat||void 0!==t.isReadOnly&&t.isReadOnly!==this.isReadOnly||void 0!==t.nodeKeyProperty&&t.nodeKeyProperty!==this.nodeKeyProperty||void 0!==t.copiesArrays&&t.copiesArrays!==this.copiesArrays||void 0!==t.copiesArrayObjects&&t.copiesArrayObjects!==this.copiesArrayObjects||void 0!==t.copiesKey&&t.copiesKey!==this.copiesKey||void 0!==t.nodeCategoryProperty&&t.nodeCategoryProperty!==this.nodeCategoryProperty)&&V("applyIncrementalJson cannot change Model properties"),IM(this,t);var e=t.insertedNodeKeys,o=t.modifiedNodeData,a=new vt;if(Array.isArray(o))for(var u=0;u<o.length;u++){var c=o[u],g=this.ja(c);null!=g&&a.set(g,c)}if(Array.isArray(e))for(u=e.length,c=0;c<u;c++){var _=this.Kb(g=e[c]);null===_&&(_=(_=a.get(g))?_:this.copyNodeData({}),this.Vm(_,g),this.uf(_))}if(Array.isArray(o))for(e=o.length,a=0;a<e;a++)if(c=this.ja(u=o[a]),null!==(c=this.Kb(c))){for(var A in u)"__gohashid"===A||A===this.nodeKeyProperty||this.Ck()&&A===this.nodeIsGroupProperty||this.setDataProperty(c,A,u[A]);this.Wm(u,c)}if(t=t.removedNodeKeys,Array.isArray(t))for(o=t.length,A=0;A<o;A++)null!==(e=this.Kb(t[A]))&&this.Nm(e)},ot.Yy=function(t,e){t.change!==Ss&&V("Model.toIncrementalJson argument is not a Transaction ChangedEvent:"+t.toString());var o=t.object;return t.isTransactionFinished&&o instanceof Ro?(void 0===e&&(e=Vm(this,this)),Gx(this,o),t=this.Xw(o,"FinishedUndo"===t.propertyName),this.Yh=null,"2"===e?'{ "incremental": 2'+t+"}":'{ "class": '+this.quote(e)+', "incremental": 1'+this.Vk()+t+"}"):'{ "incremental": 0 }'},ot.hB=function(t,e){return this.Yy(t,e)},ot.fr=function(t){return void 0===t&&(t=Vm(this,this)),'{ "class": '+this.quote(t)+this.Vk()+this.Zw()+"}"},ot.toJSON=function(t){return this.fr(t)},ot.Xx=function(t){var e=null;if("string"==typeof t)try{e=N.JSON.parse(t)}catch(a){}else"object"==typeof t?e=t:V("Unable to modify a Model from: "+t);var o=e.incremental;"number"!=typeof o&&V("Unable to apply non-incremental changes to Model: "+t),0!==o&&(this.xa("applyIncrementalJson"),this.Wq(e),this.Xa("applyIncrementalJson"))},ot.vz=function(t){return this.Xx(t)},Ti.constructGraphLinksModel=function(){return new Ti},(ot=Ti.prototype).Om=function(t){if(Et(t))for(var e=t.length,o=0;o<e;o++){var a=t[o];if(gt(a)){var u=o;a=this.Om(a),Array.isArray(t)?t[u]=a:V("Cannot replace an object in an HTMLCollection or NodeList at "+u)}}else if(gt(t)){for(e in t)if(gt(o=t[e])&&(o=this.Om(o),t[e]=o,"points"===e&&Array.isArray(o))){for(u=o.length%2==0,a=0;a<o.length;a++)if("number"!=typeof o[a]){u=!1;break}if(u){for(u=new Vt,a=0;a<o.length/2;a++)u.add(new at(o[2*a],o[2*a+1]));u.freeze(),t[e]=u}}return function(t){if("object"!=typeof t)return t;var e=t.class||"";if("NaN"===e)return NaN;if("Date"===e)return new Date(t.value);if(0!==e.indexOf("go."))return t;var o=t;if("Point"===(e=e.substr(3)))o=new at($s(t.x),$s(t.y));else if("Size"===e)o=new He($s(t.width),$s(t.height));else if("Rect"===e)o=new te($s(t.x),$s(t.y),$s(t.width),$s(t.height));else if("Margin"===e)o=new nn($s(t.top),$s(t.right),$s(t.bottom),$s(t.left));else if("Spot"===e)o="string"==typeof t.enum?hx(t.enum):new ki($s(t.x),$s(t.y),$s(t.offsetX),$s(t.offsetY));else if("Brush"===e){if((o=new Dn).type=Ft(Dn,t.type),"string"==typeof t.color&&(o.color=t.color),t.start instanceof ki&&(o.start=t.start),t.end instanceof ki&&(o.end=t.end),"number"==typeof t.startRadius&&(o.startRadius=$s(t.startRadius)),"number"==typeof t.endRadius&&(o.endRadius=$s(t.endRadius)),gt(t=t.colorStops))for(var a in t)o.addColorStop(parseFloat(a),t[a])}else"Geometry"===e?(o=null,(o="string"==typeof t.path?Nd(t.path):new pn).type=Ft(pn,t.type),"number"==typeof t.startX&&(o.startX=$s(t.startX)),"number"==typeof t.startY&&(o.startY=$s(t.startY)),"number"==typeof t.endX&&(o.endX=$s(t.endX)),"number"==typeof t.endY&&(o.endY=$s(t.endY)),t.spot1 instanceof ki&&(o.spot1=t.spot1),t.spot2 instanceof ki&&(o.spot2=t.spot2)):"EnumValue"===e&&(0===(a=t.classType).indexOf("go.")&&(a=a.substr(3)),"function"==typeof(a=yf(a))&&(o=Ft(a,t.name)));return o}(t)}return t},ot.quote=function(t){for(var e="",o=t.length,a=0;a<o;a++){var u=t[a];if('"'===u||"\\"===u)e+="\\"+u;else if("\b"===u)e+="\\b";else if("\f"===u)e+="\\f";else if("\n"===u)e+="\\n";else if("\r"===u)e+="\\r";else if("\t"===u)e+="\\t";else{var c=t.charCodeAt(a);e=16>c?e+"\\u000"+t.charCodeAt(a).toString(16):32>c?e+"\\u00"+t.charCodeAt(a).toString(16):8232===c?e+"\\u2028":8233===c?e+"\\u2029":e+u}}return'"'+e+'"'},ot.bn=function(t){return void 0===t?"undefined":null===t?"null":!0===t?"true":!1===t?"false":"string"==typeof t?this.quote(t):"number"==typeof t?t===1/0?"9e9999":t===-1/0?"-9e9999":isNaN(t)?'{"class":"NaN"}':t.toString():t instanceof Date?'{"class":"Date", "value":"'+t.toJSON()+'"}':t instanceof Number?this.bn(t.valueOf()):Et(t)?El(this,t):gt(t)?Yx(this,t):"function"==typeof t?"null":t.toString()},ot.Hh=function(t){this.cv.add(t)},ot.Tk=function(t){this.cv.remove(t)},ot.zt=function(t){this.skipsUndoManager||this.undoManager.aw(t);for(var e=this.cv,o=e.length,a=0;a<o;a++)e.J(a)(t)},ot.Va=function(t,e,o,a,u,c,g){No(this,"",t,e,o,a,u,c,g)},ot.g=function(t,e,o,a,u){No(this,"",_r,t,this,e,o,a,u)},ot.du=function(t,e,o,a,u,c){No(this,"",_r,e,t,o,a,u,c)},Ti.prototype.changeState=function(t,e){if(null!==t&&t.model===this)if(t.change===_r){var o=t.object,a=t.propertyName,u=t.G(e);a===this.nodeKeyProperty&&this.ab(o)&&(void 0!==(e=t.G(!e))&&this.Wa.remove(e),void 0!==u&&this.Wa.add(u,o)),Tr(o,a,u)}else t.change===Io?(o=t.newParam,"nodeDataArray"===t.modelChange?gt(t=t.newValue)&&"number"==typeof o&&(a=this.ja(t),e?(this.Fc[o]===t&&T(this.Fc,o),void 0!==a&&this.Wa.remove(a)):(this.Fc[o]!==t&&Mt(this.Fc,o,t),void 0!==a&&this.Wa.add(a,t))):""===t.modelChange?((a=t.object)&&!Et(a)&&t.propertyName&&(a=ho(t.object,t.propertyName)),Et(a)&&"number"==typeof o&&(t=t.newValue,e?T(a,o):Mt(a,o,t))):V("unknown ChangedEvent.Insert modelChange: "+t.toString())):t.change===fn?(o=t.oldParam,"nodeDataArray"===t.modelChange?gt(t=t.oldValue)&&"number"==typeof o&&(a=this.ja(t),e?(this.Fc[o]!==t&&Mt(this.Fc,o,t),void 0!==a&&this.Wa.add(a,t)):(this.Fc[o]===t&&T(this.Fc,o),void 0!==a&&this.Wa.remove(a))):""===t.modelChange?((a=t.object)&&!Et(a)&&t.propertyName&&(a=ho(t.object,t.propertyName)),Et(a)&&"number"==typeof o&&(t=t.oldValue,e?Mt(a,o,t):T(a,o))):V("unknown ChangedEvent.Remove modelChange: "+t.toString())):t.change!==Ss&&V("unknown ChangedEvent: "+t.toString())},Ti.prototype.xa=function(t){return this.undoManager.xa(t)},Ti.prototype.Xa=function(t){return this.undoManager.Xa(t)},Ti.prototype.If=function(){return this.undoManager.If()},Ti.prototype.commit=function(t,e){void 0===e&&(e="");var o=this.skipsUndoManager;null===e&&(this.skipsUndoManager=!0,e=""),this.undoManager.xa(e);var a=!1;try{t(this),a=!0}finally{a?this.undoManager.Xa(e):this.undoManager.If(),this.skipsUndoManager=o}},(ot=Ti.prototype).Ea=function(t,e){void 0===e&&(e=""),No(this,"SourceChanged",Ss,e,t,null,null)},ot.ja=function(t){if(null!==t){var e=this.Ni;if(""!==e&&void 0!==(e=ho(t,e))){if(gp(e))return e;V("Key value for node data "+t+" is not a number or a string: "+e)}}},ot.Vm=function(t,e){if(null!==t){var o=this.Ni;if(""!==o)if(this.ab(t)){var a=ho(t,o);a!==e&&null===this.Kb(e)&&(Tr(t,o,e),void 0!==a&&this.Wa.remove(a),this.Wa.add(e,t),No(this,"nodeKey",_r,o,t,a,e),"string"==typeof o&&this.Ea(t,o),this.ar(a,e))}else Tr(t,o,e)}},ot.ab=function(t){var e=this.ja(t);return void 0!==e&&this.Wa.G(e)===t},ot.Kb=function(t){return null===t&&V("Model.findNodeDataForKey:key must not be null"),void 0!==t&&gp(t)?this.Wa.G(t):null},ot.Zt=function(t){if(null!==t){var e=this.Ni;if(""!==e){var o=this.ja(t);if(void 0===o||this.Wa.contains(o)){var a=this.Pl;if(null!==a&&null!=(o=a(this,t))&&!this.Wa.contains(o))return void Tr(t,e,o);if("string"==typeof o){for(a=2;this.Wa.contains(o+a);)a++;Tr(t,e,o+a)}else if(void 0===o||"number"==typeof o){for(o=-this.Wa.count-1;this.Wa.contains(o);)o--;Tr(t,e,o)}}}}},ot.uf=function(t){null!==t&&(yi(t),this.ab(t)||$x(this,t,!0))},ot.qz=function(t){if(Et(t))for(var e=t.length,o=0;o<e;o++)this.uf(t[o]);else for(t=t.iterator;t.next();)this.uf(t.value)},ot.Nm=function(t){null!==t&&IS(this,t,!0)},ot.WA=function(t){if(Et(t))for(var e=t.length,o=0;o<e;o++)this.Nm(t[o]);else for(t=t.iterator;t.next();)this.Nm(t.value)},ot.KA=function(t){if(t!==this.nodeDataArray&&Et(t)){var e=this.Oi;e.clear(),e.addAll(this.Wa.iteratorKeys);var o=this.Li;o.clear();for(var a=t.length,u=0;u<a;u++){var c=t[u],g=this.ja(c);if(void 0!==g){o.add(g);var _=this.Kb(g);_!==c&&(null!==_?(this.vq(_,c),this.Wm(c,_)):(c=this.cloneDeep(c),this.Vm(c,g),this.uf(c)))}else g=this.cloneDeep(c),this.uf(g),o.add(this.ja(g))}for(t=e.iterator;t.next();)o.contains(a=t.value)||(a=this.Kb(a))&&this.Nm(a);e.clear(),o.clear()}},ot.ar=function(t,e){void 0!==e&&(t=Av(this,t))instanceof Ht&&this.Tf.add(e,t)},ot.Sw=function(){},ot.Qm=function(){},ot.Pm=function(){},ot.hr=function(){},ot.Cz=function(t){void 0===t?this.Tf.clear():this.Tf.remove(t)},Ti.prototype.copyNodeData=function(t){if(null===t)return null;var e=this.il;return gt(t=null!==e?e(t,this):Jy(this,t,!0))&&ge(t),t},Ti.prototype.setDataProperty=function(t,e,o){if(this.ab(t)){if(e===this.nodeKeyProperty)return void this.Vm(t,o);if(e===this.nodeCategoryProperty)return void this.Um(t,o)}else!NM&&t instanceof Ri&&(NM=!0,rt('Model.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),rt("  Is that really your intent?"));var a=ho(t,e);a!==o&&(Tr(t,e,o),this.du(t,e,a,o))},(ot=Ti.prototype).set=function(t,e,o){this.setDataProperty(t,e,o)},ot.vq=function(t,e){if(e){var a,o=this.ab(t);for(a in e)"__gohashid"===a||o&&a===this.nodeKeyProperty||this.setDataProperty(t,a,e[a])}},ot.mz=function(t,e){this.Pt(t,-1,e)},ot.Pt=function(t,e,o){0>e&&(e=t.length),Mt(t,e,o),No(this,"",Io,"",t,null,o,null,e)},ot.tw=function(t,e){void 0===e&&(e=-1),t===this.Fc&&V("Model.removeArrayItem should not be called on the Model.nodeDataArray"),-1===e&&(e=t.length-1);var o=t[e];T(t,e),No(this,"",fn,"",t,o,null,e,null)},ot.Iq=function(t){if(null===t)return"";var e=this.Yj;return""===e||void 0===(e=ho(t,e))?"":"string"==typeof e?e:(V("getCategoryForNodeData found a non-string category for "+t+": "+e),"")},ot.Um=function(t,e){if(null!==t){var o=this.Yj;if(""!==o)if(this.ab(t)){var a=ho(t,o);void 0===a&&(a=""),a!==e&&(Tr(t,o,e),No(this,"nodeCategory",_r,o,t,a,e))}else Tr(t,o,e)}},ot.Wm=function(t,e){this.Um(e,this.Iq(t))},ot.Em=function(){return!1},ot.Ck=function(){return!1},ot.qj=function(){return!1},ot.Ut=function(){return!1},ot.Dk=function(){return!1},W.Object.defineProperties(Ti.prototype,{name:{get:function(){return this.oa},set:function(t){var e=this.oa;e!==t&&(this.oa=t,this.g("name",e,t))}},dataFormat:{get:function(){return this.Ln},set:function(t){var e=this.Ln;e!==t&&(this.Ln=t,this.g("dataFormat",e,t))}},isReadOnly:{get:function(){return this.$f},set:function(t){var e=this.$f;e!==t&&(this.$f=t,this.g("isReadOnly",e,t))}},modelData:{get:function(){return this.l},set:function(t){var e=this.l;e!==t&&(this.l=t,this.g("modelData",e,t),this.Ea(t))}},undoManager:{get:function(){return this.u},set:function(t){var e=this.u;e!==t&&(null!==e&&e.Py(this),this.u=t,null!==t&&t.Vx(this))}},skipsUndoManager:{get:function(){return this.vg},set:function(t){this.vg=t}},nodeKeyProperty:{get:function(){return this.Ni},set:function(t){var e=this.Ni;e!==t&&(""===t&&V("Model.nodeKeyProperty may not be the empty string"),0<this.Wa.count&&V("Cannot set Model.nodeKeyProperty when there is existing node data"),this.Ni=t,this.g("nodeKeyProperty",e,t))}},makeUniqueKeyFunction:{get:function(){return this.Pl},set:function(t){var e=this.Pl;e!==t&&(this.Pl=t,this.g("makeUniqueKeyFunction",e,t))}},nodeDataArray:{get:function(){return this.Fc},set:function(t){var e=this.Fc;if(e!==t){this.Wa.clear(),this.Sw();for(var o=t.length,a=0;a<o;a++){var u=t[a];if(!gt(u))return void V("Model.nodeDataArray must only contain Objects, not: "+u);yi(u)}for(this.Fc=t,a=new Vt,u=0;u<o;u++){var c=t[u],g=this.ja(c);void 0===g||null!==this.Wa.G(g)?a.add(c):this.Wa.add(g,c)}for(a=a.iterator;a.next();)this.Zt(u=a.value),void 0!==(c=this.ja(u))&&this.Wa.add(c,u);for(No(this,"nodeDataArray",_r,"nodeDataArray",this,e,t),e=0;e<o;e++)this.Qm(a=t[e]),this.Pm(a);Array.isArray(t)||(this.isReadOnly=!0)}}},copyNodeDataFunction:{get:function(){return this.il},set:function(t){var e=this.il;e!==t&&(this.il=t,this.g("copyNodeDataFunction",e,t))}},copiesArrays:{get:function(){return this.Dn},set:function(t){var e=this.Dn;e!==t&&(this.Dn=t,this.g("copiesArrays",e,t))}},copiesArrayObjects:{get:function(){return this.Cn},set:function(t){var e=this.Cn;e!==t&&(this.Cn=t,this.g("copiesArrayObjects",e,t))}},copiesKey:{get:function(){return this.Fn},set:function(t){var e=this.Fn;e!==t&&(this.Fn=t,this.g("copiesKey",e,t))}},afterCopyFunction:{get:function(){return this.kn},set:function(t){var e=this.kn;e!==t&&(this.kn=t,this.g("afterCopyFunction",e,t))}},nodeCategoryProperty:{get:function(){return this.Yj},set:function(t){var e=this.Yj;e!==t&&(this.Yj=t,this.g("nodeCategoryProperty",e,t))}},type:{get:function(){return"Model"}}}),Ti.prototype.setCategoryForNodeData=Ti.prototype.Um,Ti.prototype.getCategoryForNodeData=Ti.prototype.Iq,Ti.prototype.removeArrayItem=Ti.prototype.tw,Ti.prototype.insertArrayItem=Ti.prototype.Pt,Ti.prototype.addArrayItem=Ti.prototype.mz,Ti.prototype.assignAllDataProperties=Ti.prototype.vq,Ti.prototype.set=Ti.prototype.set,Ti.prototype.clearUnresolvedReferences=Ti.prototype.Cz,Ti.prototype.mergeNodeDataArray=Ti.prototype.KA,Ti.prototype.removeNodeDataCollection=Ti.prototype.WA,Ti.prototype.removeNodeData=Ti.prototype.Nm,Ti.prototype.addNodeDataCollection=Ti.prototype.qz,Ti.prototype.addNodeData=Ti.prototype.uf,Ti.prototype.makeNodeDataKeyUnique=Ti.prototype.Zt,Ti.prototype.findNodeDataForKey=Ti.prototype.Kb,Ti.prototype.containsNodeData=Ti.prototype.ab,Ti.prototype.setKeyForNodeData=Ti.prototype.Vm,Ti.prototype.getKeyForNodeData=Ti.prototype.ja,Ti.prototype.updateTargetBindings=Ti.prototype.Ea,Ti.prototype.commit=Ti.prototype.commit,Ti.prototype.rollbackTransaction=Ti.prototype.If,Ti.prototype.commitTransaction=Ti.prototype.Xa,Ti.prototype.startTransaction=Ti.prototype.xa,Ti.prototype.raiseDataChanged=Ti.prototype.du,Ti.prototype.raiseChanged=Ti.prototype.g,Ti.prototype.raiseChangedEvent=Ti.prototype.Va,Ti.prototype.removeChangedListener=Ti.prototype.Tk,Ti.prototype.addChangedListener=Ti.prototype.Hh,Ti.prototype.writeJsonValue=Ti.prototype.bn,Ti.prototype.replaceJsonObjects=Ti.prototype.Om,Ti.prototype.applyIncrementalJSON=Ti.prototype.vz,Ti.prototype.applyIncrementalJson=Ti.prototype.Xx,Ti.prototype.toJSON=Ti.prototype.toJSON,Ti.prototype.toJson=Ti.prototype.fr,Ti.prototype.toIncrementalJSON=Ti.prototype.hB,Ti.prototype.toIncrementalJson=Ti.prototype.Yy,Ti.prototype.computeJsonDifference=Ti.prototype.Dz,Ti.prototype.toIncrementalData=Ti.prototype.gB,Ti.prototype.clear=Ti.prototype.clear;var NM=!1,ih={};function yo(t,e,o){ge(this),this.v=!1,void 0===t&&(t=""),void 0===e&&(e=t),void 0===o&&(o=null),this.l=-1,this.pd=null,this.pm=t,this.om=this.hq=0,this.ht=null,this.Ao=!1,this.hm=e,this.Bn=o,this.Zo=Tv,this.un=null,this.Ou=new Ht}function Nb(t,e,o){return null===(t=t.sourceName)||""===t?e:"/"===t?o.part:"."===t?o:".."===t?o.panel:e.bb(t)}Ti.className="Model",Ti.fromJSON=Ti.fromJson=function(t,e){void 0===e&&(e=null);var o=null;if("string"==typeof t)try{o=N.JSON.parse(t)}catch(c){}else"object"==typeof t?o=t:V("Unable to construct a Model from: "+t);if(null===e){t=null;var a=o.class;if("string"==typeof a)try{var u=null;0===a.indexOf("go.")?u=yf(a=a.substr(3)):null===(u=yf(a))&&(u=N[a]),"function"==typeof u&&(t=new u)}catch(c){}null===t||t instanceof Ti?e=t:V("Unable to construct a Model of declared class: "+o.class)}return null===e&&(e=Ti.constructGraphLinksModel()),e.Xq(o),e.rw(o),e},Ti.safePropertyValue=ho,Ti.safePropertySet=Tr,ih.Brush=Dn,ih.ChangedEvent=jr,ih.Geometry=pn,ih.Margin=nn,ih.Panel=Ke,ih.Point=at,ih.Rect=te,ih.Size=He,ih.Spot=ki,ih.Transaction=Ro,ih.UndoManager=to,yo.prototype.copy=function(){var t=new yo;return t.pm=this.pm,t.hq=this.hq,t.om=this.om,t.ht=this.ht,t.Ao=this.Ao,t.hm=this.hm,t.Bn=this.Bn,t.Zo=this.Zo,t.un=this.un,t},(ot=yo.prototype).jb=function(t){t.classType===yo&&(this.mode=t)},ot.toString=function(){return"Binding("+this.targetProperty+":"+this.sourceProperty+(-1!==this.wj?" "+this.wj:"")+" "+this.mode.name+")"},ot.freeze=function(){return this.v=!0,this},ot.ea=function(){return this.v=!1,this},ot.Iy=function(t){return void 0===t&&(t=null),this.mode=Kx,this.backConverter=t,this},ot.Uq=function(t){return void 0===t&&(t=""),this.sourceName=t,this.isToModel=!1,this},ot.MA=function(){return this.sourceName=null,this.isToModel=!0,this},ot.Tw=function(t,e,o){var a=this.hm;if(void 0===o||""===a||a===o){o=this.pm;var u=this.Bn;if(null===u&&""===o)rt("Binding error: target property is the empty string: "+this.toString());else{var c=e;if(""!==a&&(c=ho(e,a)),void 0!==c)if(null===u)""!==o&&Tr(t,o,c);else try{""!==o?Tr(t,o,u(c,t)):u(c,t)}catch(_){}}}},ot.jr=function(t,e,o,a){if(this.Zo===Kx){var u=this.pm;if(void 0===o||u===o){o=this.hm;var c=this.un,g=t;if(""!==u&&(g=ho(t,u)),void 0!==g&&!this.Ou.contains(t))try{this.Ou.add(t);var _=null!==a?a.diagram:null,A=null!==_?_.model:null;if(null===c){if(""!==o)null!==A?A.setDataProperty(e,o,g):Tr(e,o,g);else if(null!==A&&null!==a&&0<=a.itemIndex&&null!==a.panel&&Array.isArray(a.panel.itemArray)){var I=a.itemIndex,B=a.panel.itemArray;A.tw(B,I),A.Pt(B,I,g)}}else try{if(""!==o){var H=c(g,e,A);null!==A?A.setDataProperty(e,o,H):Tr(e,o,H)}else{var dt=c(g,e,A);if(void 0!==dt&&null!==A&&null!==a&&0<=a.itemIndex&&null!==a.panel&&Array.isArray(a.panel.itemArray)){var bt=a.itemIndex,pt=a.panel.itemArray;A.tw(pt,bt),A.Pt(pt,bt,dt)}}}catch(Rt){}}finally{this.Ou.remove(t)}}}},W.Object.defineProperties(yo.prototype,{wj:{get:function(){return this.l},set:function(t){this.v&&Z(this),this.l=t}},targetProperty:{get:function(){return this.pm},set:function(t){this.v&&Z(this),this.pm=t}},sourceName:{get:function(){return this.ht},set:function(t){this.v&&Z(this),this.ht=t,null!==t&&(this.Ao=!1)}},isToModel:{get:function(){return this.Ao},set:function(t){this.v&&Z(this),this.Ao=t}},sourceProperty:{get:function(){return this.hm},set:function(t){this.v&&Z(this),this.hm=t}},converter:{get:function(){return this.Bn},set:function(t){this.v&&Z(this),this.Bn=t}},backConverter:{get:function(){return this.un},set:function(t){this.v&&Z(this),this.un=t}},mode:{get:function(){return this.Zo},set:function(t){this.v&&Z(this),this.Zo=t}}}),yo.prototype.updateSource=yo.prototype.jr,yo.prototype.updateTarget=yo.prototype.Tw,yo.prototype.ofModel=yo.prototype.MA,yo.prototype.ofObject=yo.prototype.Uq,yo.prototype.makeTwoWay=yo.prototype.Iy;var t1="Binding",Tv=new wt(yo,"OneWay",1),Kx=new wt(yo,"TwoWay",2);function vn(t,e){Ti.call(this),this.su=',\n  "insertedLinkKeys": ',this.kx=',\n  "modifiedLinkData": ',this.uu=',\n  "removedLinkKeys": ',this.$c=[],this.ag=new Ht,this.gb=new vt,this.Hi="",this.Aj=this.hl=this.Ql=null,this.af="from",this.bf="to",this.Vj=this.Uj="",this.Tj="category",this.ae="",this.Ul="isGroup",this.ze="group",this.En=!1,void 0!==t&&(this.nodeDataArray=t),void 0!==e&&(this.linkDataArray=e)}function Lb(t,e){for(var o=new Ht,a=0;a<t.linkDataArray.length;a++){var u=t.linkDataArray[a];Wx(t,e,u,u,o)}return o}function kl(t,e,o){if(null!==e&&""!==(t=o?t.af:t.bf)&&void 0!==(t=ho(e,t))){if(gp(t))return t;V((o?"FromKey":"ToKey")+" value for link data "+e+" is not a number or a string: "+t)}}function jm(t,e,o,a){if(null===o&&(o=void 0),null!==e){var u=a?t.af:t.bf;if(""!==u)if(o=t.Gm(o),t.xc(e)){var c=ho(e,u);c!==o&&(Lu(t,c,e),Tr(e,u,o),null===t.Kb(o)&&eh(t,o,e),No(t,a?"linkFromKey":"linkToKey",_r,u,e,c,o),"string"==typeof u&&t.Ea(e,u))}else Tr(e,u,o)}}function Zx(t,e,o){return null===e||""===(t=o?t.Uj:t.Vj)||void 0===(e=ho(e,t))?"":e}function S0(t,e,o,a){if(null!==e){var u=a?t.Uj:t.Vj;if(""!==u)if(t.xc(e)){var c=ho(e,u);void 0===c&&(c=""),c!==o&&(Tr(e,u,o),No(t,a?"linkFromPortId":"linkToPortId",_r,u,e,c,o),"string"==typeof u&&t.Ea(e,u))}else Tr(e,u,o)}}function LM(t,e,o){if(""!==t.linkKeyProperty){var a=t.Wb(e);if(void 0!==a&&t.gb.G(a)===e)return;if(t.Rq(e),void 0===(a=t.Wb(e)))return void V("GraphLinksModel.makeLinkDataKeyUnique failed on "+e+". Data not added to model.");t.gb.add(a,e)}t.ag.add(e),a=null,o&&t.$c.splice(a=t.$c.length,0,e),No(t,"linkDataArray",Io,"linkDataArray",t,null,e,null,a),qx(t,e)}function FM(t,e,o){t.ag.remove(e);var a=t.Wb(e);if(void 0!==a&&t.gb.remove(a),a=null,o){if(0>(a=t.$c.indexOf(e)))return;t.$c.splice(a,1)}if(No(t,"linkDataArray",fn,"linkDataArray",t,e,null,a,null),Lu(t,o=kl(t,e,!0),e),Lu(t,o=kl(t,e,!1),e),a=t.Bf(e),Array.isArray(a))for(var u=a.length,c=0;c<u;c++)Lu(t,o=a[c],e)}function qx(t,e){var o=kl(t,e,!0);o=t.Gm(o),null===t.Kb(o)&&eh(t,o,e),o=kl(t,e,!1),o=t.Gm(o),null===t.Kb(o)&&eh(t,o,e);var a=t.Bf(e);if(Array.isArray(a))for(var u=a.length,c=0;c<u;c++)null===t.Kb(o=a[c])&&eh(t,o,e)}function zm(t,e,o){t.cr(o,t.Lt(e)),t.Bw(o,t.xy(e)),t.Gw(o,t.Ay(e)),t.ju(o,t.Bf(e)),t.Cw(o,t.yy(e)),t.Hw(o,t.By(e))}yo.className="Binding",yo.parseEnum=function(t,e){return function(o){return null===(o=Ft(t,o))?e:o}},yo.toString=v,yo.OneWay=Tv,yo.TwoWay=Kx,K(vn,Ti),vn.constructGraphLinksModel=Ti.constructGraphLinksModel,vn.prototype.cloneProtected=function(t){Ti.prototype.cloneProtected.call(this,t),t.Hi=this.Hi,t.Ql=this.Ql,t.hl=this.hl,t.af=this.af,t.bf=this.bf,t.Uj=this.Uj,t.Vj=this.Vj,t.Tj=this.Tj,t.ae=this.ae,t.Ul=this.Ul,t.ze=this.ze,t.En=this.En},(ot=vn.prototype).clear=function(){Ti.prototype.clear.call(this),this.$c=[],this.gb.clear(),this.ag.clear()},ot.toString=function(t){if(void 0===t&&(t=0),2<=t)return this.fr();var e=(""!==this.name?this.name:"")+" GraphLinksModel";if(0<t){e+="\n node data:";var a,o=(t=this.nodeDataArray).length;for(a=0;a<o;a++){var u=t[a];e+=" "+this.ja(u)+":"+v(u)}for(e+="\n link data:",o=(t=this.linkDataArray).length,a=0;a<o;a++)e+=" "+kl(this,u=t[a],!0)+"--\x3e"+kl(this,u,!1)}return e},ot.Yw=function(t,e){""===this.linkKeyProperty&&V("GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalData() to succeed.");var o=Ti.prototype.Yw.call(this,t,e),a=this,u=new Ht,c=new Ht,g=new Ht,_=this.Yh;t.changes.each(function(B){B.model===a&&("linkDataArray"===B.modelChange?B.change===Io?u.add(B.newValue):B.change===fn&&g.add(B.oldValue):a.xc(B.object)?c.add(B.object):null!==B.object&&(null!==B.object&&_&&_.contains(B.object)?_.get(B.object).each(function(H){a.xc(H)&&c.add(H)}):B.object instanceof Ti||a.ab(B.object)||Lb(a,B.object).each(function(H){c.add(H)})))});var A=this.Li;A.clear(),u.each(function(B){A.add(a.Wb(B)),e||c.add(B)});var I=this.Oi;return I.clear(),g.each(function(B){I.add(a.Wb(B)),e&&c.add(B)}),t=a.cloneDeep(c.ma()),0<A.count&&(null===o&&(o={}),e?o.removedLinkKeys=A.ma():o.insertedLinkKeys=A.ma()),0<t.length&&(null===o&&(o={}),o.modifiedLinkData=t),0<I.count&&(null===o&&(o={}),e?o.insertedLinkKeys=I.ma():o.removedLinkKeys=I.ma()),I.clear(),A.clear(),o},ot.Vk=function(){var t=Ti.prototype.Vk.call(this),e="";return"category"!==this.linkCategoryProperty&&"string"==typeof this.linkCategoryProperty&&(e+=',\n  "linkCategoryProperty": '+this.quote(this.linkCategoryProperty)),""!==this.linkKeyProperty&&"string"==typeof this.linkKeyProperty&&(e+=',\n  "linkKeyProperty": '+this.quote(this.linkKeyProperty)),"from"!==this.linkFromKeyProperty&&"string"==typeof this.linkFromKeyProperty&&(e+=',\n  "linkFromKeyProperty": '+this.quote(this.linkFromKeyProperty)),"to"!==this.linkToKeyProperty&&"string"==typeof this.linkToKeyProperty&&(e+=',\n  "linkToKeyProperty": '+this.quote(this.linkToKeyProperty)),""!==this.linkFromPortIdProperty&&"string"==typeof this.linkFromPortIdProperty&&(e+=',\n  "linkFromPortIdProperty": '+this.quote(this.linkFromPortIdProperty)),""!==this.linkToPortIdProperty&&"string"==typeof this.linkToPortIdProperty&&(e+=',\n  "linkToPortIdProperty": '+this.quote(this.linkToPortIdProperty)),""!==this.linkLabelKeysProperty&&"string"==typeof this.linkLabelKeysProperty&&(e+=',\n  "linkLabelKeysProperty": '+this.quote(this.linkLabelKeysProperty)),"isGroup"!==this.nodeIsGroupProperty&&"string"==typeof this.nodeIsGroupProperty&&(e+=',\n  "nodeIsGroupProperty": '+this.quote(this.nodeIsGroupProperty)),"group"!==this.nodeGroupKeyProperty&&"string"==typeof this.nodeGroupKeyProperty&&(e+=',\n  "nodeGroupKeyProperty": '+this.quote(this.nodeGroupKeyProperty)),t+e},ot.Xq=function(t){Ti.prototype.Xq.call(this,t),t.linkKeyProperty&&(this.linkKeyProperty=t.linkKeyProperty),t.linkFromKeyProperty&&(this.linkFromKeyProperty=t.linkFromKeyProperty),t.linkToKeyProperty&&(this.linkToKeyProperty=t.linkToKeyProperty),t.linkFromPortIdProperty&&(this.linkFromPortIdProperty=t.linkFromPortIdProperty),t.linkToPortIdProperty&&(this.linkToPortIdProperty=t.linkToPortIdProperty),t.linkCategoryProperty&&(this.linkCategoryProperty=t.linkCategoryProperty),t.linkLabelKeysProperty&&(this.linkLabelKeysProperty=t.linkLabelKeysProperty),t.nodeIsGroupProperty&&(this.nodeIsGroupProperty=t.nodeIsGroupProperty),t.nodeGroupKeyProperty&&(this.nodeGroupKeyProperty=t.nodeGroupKeyProperty)},ot.Zw=function(){return Ti.prototype.Zw.call(this)+',\n  "linkDataArray": '+El(this,this.linkDataArray,!0)},ot.rw=function(t){Ti.prototype.rw.call(this,t),t=t.linkDataArray,Array.isArray(t)&&(this.Om(t),this.linkDataArray=t)},ot.kr=function(t){if(!(t instanceof vn))return V("Model.computeJsonDifference: newmodel must be a GraphLinksModel"),"";""===this.linkKeyProperty&&V("GraphLinksModel.linkKeyProperty must not be an empty string for .computeJsonDifference() to succeed.");var e=Ti.prototype.kr.call(this,t);C0(this,t,"linkKeyProperty"),C0(this,t,"linkFromKeyProperty"),C0(this,t,"linkToKeyProperty"),C0(this,t,"linkLabelKeysProperty"),C0(this,t,"nodeIsGroupProperty"),C0(this,t,"nodeGroupKeyProperty");var o=this.Li;o.clear();var a=new Ht,u=this.Oi;u.clear(),u.addAll(this.gb.iteratorKeys);for(var c=new vt,g=t.linkDataArray,_=g.length,A=0;A<_;A++){var I=g[A],B=t.Wb(I);if(void 0!==B){u.remove(B);var H=this.Dg(B);null===H?(o.add(B),a.add(I)):Ev(this,H,I,c)||a.add(I)}else this.Rq(I),B=this.Wb(I),o.add(B),a.add(I)}return t=e,0<o.count&&(t+=this.su+El(this,o.ma(),!0)),0<a.count&&(t+=this.kx+El(this,a.ma(),!0)),0<u.count&&(t+=this.uu+El(this,u.ma(),!0)),u.clear(),o.clear(),t},ot.Xw=function(t,e){""===this.linkKeyProperty&&V("GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalJson() to succeed.");var o=Ti.prototype.Xw.call(this,t,e),a=this,u=new Ht,c=new Ht,g=new Ht,_=this.Yh;t.changes.each(function(B){B.model===a&&("linkDataArray"===B.modelChange?B.change===Io?u.add(B.newValue):B.change===fn&&g.add(B.oldValue):a.xc(B.object)?c.add(B.object):null!==B.object&&(null!==B.object&&_&&_.contains(B.object)?_.get(B.object).each(function(H){a.xc(H)&&c.add(H)}):B.object instanceof Ti||a.ab(B.object)||Lb(a,B.object).each(function(H){c.add(H)})))});var A=this.Li;A.clear(),u.each(function(B){A.add(a.Wb(B)),e||c.add(B)});var I=this.Oi;return I.clear(),g.each(function(B){I.add(a.Wb(B)),e&&c.add(B)}),t=o,0<A.count&&(t+=(e?this.uu:this.su)+El(this,A.ma(),!0)),0<c.count&&(t+=this.kx+El(this,c.ma(),!0)),0<I.count&&(t+=(e?this.su:this.uu)+El(this,I.ma(),!0)),I.clear(),A.clear(),t},ot.Wq=function(t){(void 0!==t.linkCategoryProperty&&t.linkCategoryProperty!==this.linkCategoryProperty||void 0!==t.linkKeyProperty&&t.linkKeyProperty!==this.linkKeyProperty||void 0!==t.linkFromKeyProperty&&t.linkFromKeyProperty!==this.linkFromKeyProperty||void 0!==t.linkToKeyProperty&&t.linkToKeyProperty!==this.linkToKeyProperty||void 0!==t.linkFromPortIdProperty&&t.linkFromPortIdProperty!==this.linkFromPortIdProperty||void 0!==t.linkToPortIdProperty&&t.linkToPortIdProperty!==this.linkToPortIdProperty||void 0!==t.linkLabelKeysProperty&&t.linkLabelKeysProperty!==this.linkLabelKeysProperty||void 0!==t.nodeIsGroupProperty&&t.nodeIsGroupProperty!==this.nodeIsGroupProperty||void 0!==t.nodeGroupKeyProperty&&t.nodeGroupKeyProperty!==this.nodeGroupKeyProperty)&&V("applyIncrementalJson cannot change Model properties"),Ti.prototype.Wq.call(this,t);var e=t.insertedLinkKeys;if(Array.isArray(e))for(var o=e.length,a=0;a<o;a++){var u=e[a],c=this.Dg(u);null===c&&(c=this.Aq({}),this.iu(c,u),this.bj(c))}if(e=t.modifiedLinkData,Array.isArray(e))for(o=e.length,a=0;a<o;a++)if(c=this.Wb(u=e[a]),null!==(c=this.Dg(c))){for(var g in u)"__gohashid"!==g&&g!==this.linkKeyProperty&&this.setDataProperty(c,g,u[g]);zm(this,u,c)}if(t=t.removedLinkKeys,Array.isArray(t))for(g=t.length,e=0;e<g;e++)null!==(o=this.Dg(t[e]))&&this.Mm(o)},vn.prototype.changeState=function(t,e){if(null!==t&&t.model===this){if(t.change===_r){var o=t.object,a=t.propertyName;if(a===this.linkKeyProperty&&this.xc(o)){var u=t.G(e);return void 0!==(e=t.G(!e))&&this.gb.remove(e),void 0!==u&&this.gb.add(u,o),void Tr(o,a,u)}}else if(t.change===Io){if(o=t.newParam,"linkDataArray"===t.modelChange)return void(gt(t=t.newValue)&&"number"==typeof o&&(a=this.Wb(t),e?(this.ag.remove(t),this.$c[o]===t&&this.$c.splice(o,1),void 0!==a&&this.gb.remove(a)):(this.ag.add(t),this.$c[o]!==t&&this.$c.splice(o,0,t),void 0!==a&&this.gb.add(a,t))));if("linkLabelKeys"===t.modelChange)return a=this.Bf(t.object),void(Array.isArray(a)&&"number"==typeof o&&(e?(o=a.indexOf(t.newValue),0<=o&&a.splice(o,1)):0>a.indexOf(t.newValue)&&a.splice(o,0,t.newValue)))}else if(t.change===fn){if(o=t.oldParam,"linkDataArray"===t.modelChange)return void(gt(t=t.oldValue)&&"number"==typeof o&&(a=this.Wb(t),e?(this.ag.add(t),this.$c[o]!==t&&this.$c.splice(o,0,t),void 0!==a&&this.gb.add(a,t)):(this.ag.remove(t),this.$c[o]===t&&this.$c.splice(o,1),void 0!==a&&this.gb.remove(a))));if("linkLabelKeys"===t.modelChange)return a=this.Bf(t.object),void(Array.isArray(a)&&"number"==typeof o&&(e?0>a.indexOf(t.newValue)&&a.splice(o,0,t.newValue):(o=a.indexOf(t.newValue),0<=o&&a.splice(o,1))))}Ti.prototype.changeState.call(this,t,e)}},(ot=vn.prototype).Gm=function(t){if(void 0!==t){var e=this.Aj;if(null!==e){var o=this.Kb(t);null===o&&(Tr(o=this.copyNodeData(e),this.nodeKeyProperty,t),this.uf(o))}return t}},ot.xy=function(t){return kl(this,t,!0)},ot.Bw=function(t,e){jm(this,t,e,!0)},ot.Ay=function(t){return kl(this,t,!1)},ot.Gw=function(t,e){jm(this,t,e,!1)},ot.yy=function(t){return Zx(this,t,!0)},ot.Cw=function(t,e){S0(this,t,e,!0)},ot.By=function(t){return Zx(this,t,!1)},ot.Hw=function(t,e){S0(this,t,e,!1)},ot.Bf=function(t){if(null===t)return e1;var e=this.ae;return""===e||void 0===(t=ho(t,e))?e1:t},ot.ju=function(t,e){if(null!==t){var o=this.ae;if(""!==o)if(this.xc(t)){var a=ho(t,o);if(void 0===a&&(a=e1),a!==e){if(Array.isArray(a))for(var u=a.length,c=0;c<u;c++)Lu(this,a[c],t);for(Tr(t,o,e),u=e.length,c=0;c<u;c++){var g=e[c];null===this.Kb(g)&&eh(this,g,t)}No(this,"linkLabelKeys",_r,o,t,a,e),"string"==typeof o&&this.Ea(t,o)}}else Tr(t,o,e)}},ot.Dv=function(t,e){if(null!=e&&null!==t){var o=this.ae;if(""!==o){var a=ho(t,o);if(void 0===a)(o=[]).push(e),this.ju(t,o);else if(Array.isArray(a)){var u=a.indexOf(e);0<=u||(u=a.length,a.push(e),this.xc(t)&&(null===this.Kb(e)&&eh(this,e,t),No(this,"linkLabelKeys",Io,o,t,null,e,null,u)))}else V(o+" property is not an Array; cannot addLabelKeyForLinkData: "+t)}}},ot.Oy=function(t,e){if(null!=e&&null!==t){var o=this.ae;if(""!==o){var a=ho(t,o);if(Array.isArray(a)){var u=a.indexOf(e);0>u||(a.splice(u,1),this.xc(t)&&(Lu(this,e,t),No(this,"linkLabelKeys",fn,o,t,e,null,u,null)))}else void 0!==a&&V(o+" property is not an Array; cannot removeLabelKeyforLinkData: "+t)}}},ot.Wb=function(t){if(null!==t){var e=this.Hi;if(""!==e&&void 0!==(e=ho(t,e))){if(gp(e))return e;V("Key value for link data "+t+" is not a number or a string: "+e)}}},ot.iu=function(t,e){if(null!==t){var o=this.Hi;if(""!==o)if(this.xc(t)){var a=ho(t,o);a!==e&&null===this.Dg(e)&&(Tr(t,o,e),void 0!==a&&this.gb.remove(a),this.gb.add(e,t),No(this,"linkKey",_r,o,t,a,e),"string"==typeof o&&this.Ea(t,o))}else Tr(t,o,e)}},ot.Dg=function(t){return null===t&&V("GraphLinksModel.findLinkDataForKey:key must not be null"),void 0!==t&&gp(t)?this.gb.G(t):null},ot.Rq=function(t){if(null!==t){var e=this.Hi;if(""!==e){var o=this.Wb(t);if(void 0===o||this.gb.contains(o)){var a=this.Ql;if(null!==a&&null!=(o=a(this,t))&&!this.gb.contains(o))return void Tr(t,e,o);if("string"==typeof o){for(a=2;this.gb.contains(o+a);)a++;Tr(t,e,o+a)}else if(void 0===o||"number"==typeof o){for(o=-this.gb.count-1;this.gb.contains(o);)o--;Tr(t,e,o)}}}}},ot.xc=function(t){return null!==t&&this.ag.contains(t)},ot.bj=function(t){null!==t&&(yi(t),this.xc(t)||LM(this,t,!0))},ot.pz=function(t){if(Array.isArray(t))for(var e=t.length,o=0;o<e;o++)this.bj(t[o]);else for(t=t.iterator;t.next();)this.bj(t.value)},ot.Mm=function(t){null!==t&&FM(this,t,!0)},ot.UA=function(t){if(Array.isArray(t))for(var e=t.length,o=0;o<e;o++)this.Mm(t[o]);else for(t=t.iterator;t.next();)this.Mm(t.value)},ot.JA=function(t){if(""===this.linkKeyProperty&&V("GraphLinksModel.linkKeyProperty must not be an empty string for .mergeLinkDataArray() to succeed."),t!==this.linkDataArray&&Et(t)){var e=this.Oi;e.clear(),e.addAll(this.gb.iteratorKeys);var o=this.Li;o.clear();for(var a=t.length,u=0;u<a;u++){var c=t[u],g=this.Wb(c);if(void 0!==g){o.add(g);var _=this.Dg(g);_!==c&&(null!==_?(this.vq(_,c),zm(this,c,_)):(c=this.cloneDeep(c),this.iu(c,g),this.bj(c)))}else g=this.cloneDeep(c),this.bj(g),o.add(this.Wb(g))}for(t=e.iterator;t.next();)o.contains(a=t.value)||(a=this.Dg(a))&&this.Mm(a);e.clear(),o.clear()}},ot.Aq=function(t){if(null===t)return null;var e=this.hl;return gt(t=null!==e?e(t,this):Jy(this,t,!0))&&(ge(t),""!==this.af&&Tr(t,this.af,void 0),""!==this.bf&&Tr(t,this.bf,void 0),""!==this.ae&&Tr(t,this.ae,[])),t},ot.fw=function(t){if(null===t)return!1;var e=this.Ul;return""!==e&&!!ho(t,e)},ot.Lh=function(t){if(null!==t){var e=this.ze;if(""!==e&&void 0!==(e=ho(t,e))){if(gp(e))return e;V("GroupKey value for node data "+t+" is not a number or a string: "+e)}}},ot.dr=function(t,e){if(null===e&&(e=void 0),null!==t){var o=this.ze;if(""!==o)if(this.ab(t)){var a=ho(t,o);a!==e&&(Lu(this,a,t),Tr(t,o,e),null===this.Kb(e)&&eh(this,e,t),No(this,"nodeGroupKey",_r,o,t,a,e),"string"==typeof o&&this.Ea(t,o))}else Tr(t,o,e)}},vn.prototype.copyNodeData=function(t){return null===t?null:(t=Ti.prototype.copyNodeData.call(this,t),this.rk||""===this.ze||void 0===ho(t,this.ze)||Tr(t,this.ze,void 0),t)},vn.prototype.setDataProperty=function(t,e,o){if(this.ab(t)){if(e===this.nodeKeyProperty)return void this.Vm(t,o);if(e===this.nodeCategoryProperty)return void this.Um(t,o);if(e===this.nodeGroupKeyProperty)return void this.dr(t,o)}else if(this.xc(t)){if(e===this.linkFromKeyProperty)return void jm(this,t,o,!0);if(e===this.linkToKeyProperty)return void jm(this,t,o,!1);if(e===this.linkFromPortIdProperty)return void S0(this,t,o,!0);if(e===this.linkToPortIdProperty)return void S0(this,t,o,!1);if(e===this.linkKeyProperty)return void this.iu(t,o);if(e===this.linkCategoryProperty)return void this.cr(t,o);if(e===this.linkLabelKeysProperty)return void this.ju(t,o)}var a=ho(t,e);a!==o&&(Tr(t,e,o),this.du(t,e,a,o))},(ot=vn.prototype).vq=function(t,e){if(e){var u,o=this.ab(t),a=this.xc(t);for(u in e)"__gohashid"===u||o&&u===this.nodeKeyProperty||o&&u===this.nodeIsGroupProperty&&ho(t,u)===e[u]||a&&u===this.linkKeyProperty||this.setDataProperty(t,u,e[u])}},ot.ar=function(t,e){Ti.prototype.ar.call(this,t,e);for(var o=this.Wa.iterator;o.next();)this.vw(o.value,t,e);for(o=this.ag.iterator;o.next();){var a=o.value,u=t,c=e;if(kl(this,a,!0)===u){var g=this.af;Tr(a,g,c),No(this,"linkFromKey",_r,g,a,u,c),"string"==typeof g&&this.Ea(a,g)}if(kl(this,a,!1)===u&&(Tr(a,g=this.bf,c),No(this,"linkToKey",_r,g,a,u,c),"string"==typeof g&&this.Ea(a,g)),g=this.Bf(a),Array.isArray(g))for(var _=g.length,A=this.ae,I=0;I<_;I++)g[I]===u&&(g[I]=c,No(this,"linkLabelKeys",Io,A,a,u,c,I,I))}},ot.vw=function(t,e,o){if(this.Lh(t)===e){var a=this.ze;Tr(t,a,o),No(this,"nodeGroupKey",_r,a,t,e,o),"string"==typeof a&&this.Ea(t,a)}},ot.Sw=function(){Ti.prototype.Sw.call(this);for(var t=this.linkDataArray,e=t.length,o=0;o<e;o++)qx(this,t[o])},ot.Qm=function(t){Ti.prototype.Qm.call(this,t);var e=Av(this,t=this.ja(t));if(null!==e){var o=h();for(e=e.iterator;e.next();){var a=e.value;if(this.ab(a)){if(this.Lh(a)===t){var u=this.ze;No(this,"nodeGroupKey",_r,u,a,t,t),"string"==typeof u&&this.Ea(a,u),o.push(a)}}else if(kl(this,a,!0)===t&&(No(this,"linkFromKey",_r,u=this.af,a,t,t),"string"==typeof u&&this.Ea(a,u),o.push(a)),kl(this,a,!1)===t&&(No(this,"linkToKey",_r,u=this.bf,a,t,t),"string"==typeof u&&this.Ea(a,u),o.push(a)),u=this.Bf(a),Array.isArray(u))for(var c=u.length,g=this.ae,_=0;_<c;_++)u[_]===t&&(No(this,"linkLabelKeys",Io,g,a,t,t,_,_),o.push(a))}for(e=0;e<o.length;e++)Lu(this,t,o[e]);m(o)}},ot.Pm=function(t){Ti.prototype.Pm.call(this,t);var e=this.Lh(t);null===this.Kb(e)&&eh(this,e,t)},ot.hr=function(t){Ti.prototype.hr.call(this,t),Lu(this,this.Lh(t),t)},ot.Lt=function(t){if(null===t)return"";var e=this.Tj;return""===e||void 0===(e=ho(t,e))?"":"string"==typeof e?e:(V("getCategoryForLinkData found a non-string category for "+t+": "+e),"")},vn.prototype.getLinkCategoryForData=function(t){return this.Lt(t)},vn.prototype.cr=function(t,e){if(null!==t){var o=this.Tj;if(""!==o)if(this.xc(t)){var a=ho(t,o);void 0===a&&(a=""),a!==e&&(Tr(t,o,e),No(this,"linkCategory",_r,o,t,a,e),"string"==typeof o&&this.Ea(t,o))}else Tr(t,o,e)}},vn.prototype.setLinkCategoryForData=function(t,e){this.cr(t,e)},(ot=vn.prototype).Wm=function(t,e){Ti.prototype.Wm.call(this,t,e),this.dr(e,this.Lh(t))},ot.Ck=function(){return!0},ot.qj=function(){return!0},ot.Ut=function(){return!0},ot.Dk=function(){return!0},W.Object.defineProperties(vn.prototype,{archetypeNodeData:{get:function(){return this.Aj},set:function(t){var e=this.Aj;e!==t&&(this.Aj=t,this.g("archetypeNodeData",e,t))}},linkFromKeyProperty:{get:function(){return this.af},set:function(t){var e=this.af;e!==t&&(this.af=t,this.g("linkFromKeyProperty",e,t))}},linkToKeyProperty:{get:function(){return this.bf},set:function(t){var e=this.bf;e!==t&&(this.bf=t,this.g("linkToKeyProperty",e,t))}},linkFromPortIdProperty:{get:function(){return this.Uj},set:function(t){var e=this.Uj;e!==t&&(this.Uj=t,this.g("linkFromPortIdProperty",e,t))}},linkToPortIdProperty:{get:function(){return this.Vj},set:function(t){var e=this.Vj;e!==t&&(this.Vj=t,this.g("linkToPortIdProperty",e,t))}},linkLabelKeysProperty:{get:function(){return this.ae},set:function(t){var e=this.ae;e!==t&&(this.ae=t,this.g("linkLabelKeysProperty",e,t))}},linkDataArray:{get:function(){return this.$c},set:function(t){var e=this.$c;if(e!==t){this.gb.clear();for(var o=t.length,a=0;a<o;a++){var u=t[a];if(!gt(u))return void V("GraphLinksModel.linkDataArray must only contain Objects, not: "+u);yi(u)}if(this.$c=t,""!==this.linkKeyProperty){for(a=new Vt,u=0;u<o;u++){var c=t[u],g=this.Wb(c);void 0===g||null!==this.gb.G(g)?a.add(c):this.gb.add(g,c)}for(a=a.iterator;a.next();)this.Rq(u=a.value),void 0!==(c=this.Wb(u))&&this.gb.add(c,u)}for(a=new Ht,u=0;u<o;u++)a.add(t[u]);for(this.ag=a,No(this,"linkDataArray",_r,"linkDataArray",this,e,t),e=0;e<o;e++)qx(this,t[e])}}},linkKeyProperty:{get:function(){return this.Hi},set:function(t){var e=this.Hi;if(e!==t){this.Hi=t,this.gb.clear();for(var o=this.linkDataArray.length,a=0;a<o;a++){var u=this.linkDataArray[a],c=this.Wb(u);void 0===c&&(this.Rq(u),c=this.Wb(u)),void 0!==c&&this.gb.add(c,u)}this.g("linkKeyProperty",e,t)}}},makeUniqueLinkKeyFunction:{get:function(){return this.Ql},set:function(t){var e=this.Ql;e!==t&&(this.Ql=t,this.g("makeUniqueLinkKeyFunction",e,t))}},copyLinkDataFunction:{get:function(){return this.hl},set:function(t){var e=this.hl;e!==t&&(this.hl=t,this.g("copyLinkDataFunction",e,t))}},nodeIsGroupProperty:{get:function(){return this.Ul},set:function(t){var e=this.Ul;e!==t&&(this.Ul=t,this.g("nodeIsGroupProperty",e,t))}},nodeGroupKeyProperty:{get:function(){return this.ze},set:function(t){var e=this.ze;e!==t&&(this.ze=t,this.g("nodeGroupKeyProperty",e,t))}},rk:{get:function(){return this.En},set:function(t){this.En!==t&&(this.En=t)}},linkCategoryProperty:{get:function(){return this.Tj},set:function(t){var e=this.Tj;e!==t&&(this.Tj=t,this.g("linkCategoryProperty",e,t))}},type:{get:function(){return"GraphLinksModel"}}}),vn.prototype.setCategoryForLinkData=vn.prototype.cr,vn.prototype.getCategoryForLinkData=vn.prototype.Lt,vn.prototype.assignAllDataProperties=vn.prototype.vq,vn.prototype.setGroupKeyForNodeData=vn.prototype.dr,vn.prototype.getGroupKeyForNodeData=vn.prototype.Lh,vn.prototype.isGroupForNodeData=vn.prototype.fw,vn.prototype.copyLinkData=vn.prototype.Aq,vn.prototype.mergeLinkDataArray=vn.prototype.JA,vn.prototype.removeLinkDataCollection=vn.prototype.UA,vn.prototype.removeLinkData=vn.prototype.Mm,vn.prototype.addLinkDataCollection=vn.prototype.pz,vn.prototype.addLinkData=vn.prototype.bj,vn.prototype.containsLinkData=vn.prototype.xc,vn.prototype.makeLinkDataKeyUnique=vn.prototype.Rq,vn.prototype.findLinkDataForKey=vn.prototype.Dg,vn.prototype.setKeyForLinkData=vn.prototype.iu,vn.prototype.getKeyForLinkData=vn.prototype.Wb,vn.prototype.removeLabelKeyForLinkData=vn.prototype.Oy,vn.prototype.addLabelKeyForLinkData=vn.prototype.Dv,vn.prototype.setLabelKeysForLinkData=vn.prototype.ju,vn.prototype.getLabelKeysForLinkData=vn.prototype.Bf,vn.prototype.setToPortIdForLinkData=vn.prototype.Hw,vn.prototype.getToPortIdForLinkData=vn.prototype.By,vn.prototype.setFromPortIdForLinkData=vn.prototype.Cw,vn.prototype.getFromPortIdForLinkData=vn.prototype.yy,vn.prototype.setToKeyForLinkData=vn.prototype.Gw,vn.prototype.getToKeyForLinkData=vn.prototype.Ay,vn.prototype.setFromKeyForLinkData=vn.prototype.Bw,vn.prototype.getFromKeyForLinkData=vn.prototype.xy,vn.prototype.clear=vn.prototype.clear;var e1=Object.freeze([]);function ba(t){Ti.call(this),this.Ae="parent",this.Gn=!1,this.$j="parentLinkCategory",void 0!==t&&(this.nodeDataArray=t)}function Kr(){Ln.call(this),this.wx=this.Un=this.$b=0,this.Ur=360,this.vx=Gl,this.Ij=0,this.mx=new at,this.Gr=this.be=0,this.ut=new a1,this.Bu=this.Zj=0,this.gz=600,this.Ap=NaN,this.pn=1,this.bq=0,this.mm=360,this.Eb=Gl,this.K=ra,this.bd=Hm,this.Wc=Lx,this.lf=6,this.jp=s1}function dd(t,e,o,a,u){var c=t.Ur,g=t.$b;t=t.be,a=a*Math.PI/180,o=o*Math.PI/180;for(var _=e.length,A=0;A<_;A++){var I=a+(u===ra?A*o/(360<=c?_:_-1):-A*o/_),B=e.J(A),H=g*Math.tan(I)/t;H=Math.sqrt((g*g+t*t*H*H)/(1+H*H)),B.centerX=H*Math.cos(I),B.centerY=H*Math.sin(I),B.actualAngle=180*I/Math.PI}}function n1(t,e,o,a){var u=t.$b,c=t.be,g=t.Ij;o=o*Math.PI/180;for(var _=e.length,A=0;A<_;A++){var I=e.J(A),B=e.J(A===_-1?0:A+1),H=c*Math.sin(o);I.centerX=u*Math.cos(o),I.centerY=H,I.actualAngle=180*o/Math.PI,isNaN(I.diameter)&&xp(I,0),isNaN(B.diameter)&&xp(B,0),I=Mc(t,u,c,a===ra?o:-o,(I.diameter+B.diameter)/2+g),o+=a===ra?I:-I}}function r1(t,e,o,a){var u=t.$b,c=t.be,g=t.Gr;o=o*Math.PI/180;for(var _=e.length,A=0;A<_;A++){var I=e.J(A);I.centerX=u*Math.cos(o),I.centerY=c*Math.sin(o),I.actualAngle=180*o/Math.PI,I=Mc(t,u,c,a===ra?o:-o,g),o+=a===ra?I:-I}}function BM(t,e,o,a,u){var c=t.Ur;if(t.Zj=0,t.ut=new a1,360>o){for(c=a+(u===ra?c:-c);0>c;)c+=360;180<(c%=360)&&(c-=360),c*=Math.PI/180,t.Bu=c,RS(t,e,o,a,u)}else VM(t,e,o,a,u);t.ut.commit(e)}function VM(t,e,o,a,u){var c=t.$b,g=t.Ij,_=t.Un,A=c*Math.cos(a*Math.PI/180),I=t.be*Math.sin(a*Math.PI/180),B=e.ma();if(3===B.length)B[0].centerX=c,B[0].centerY=0,B[1].centerX=B[0].centerX-B[0].width/2-B[1].width/2-g,B[1].y=B[0].y,B[2].centerX=(B[0].centerX+B[1].centerX)/2,B[2].y=B[0].y-B[2].height-g;else if(4===B.length)B[0].centerX=c,B[0].centerY=0,B[2].centerX=-B[0].centerX,B[2].centerY=B[0].centerY,B[1].centerX=0,B[1].y=Math.min(B[0].y,B[2].y)-B[1].height-g,B[3].centerX=0,B[3].y=Math.max(B[0].y+B[0].height+g,B[2].y+B[2].height+g);else{c=at.alloc();for(var H=0;H<B.length&&(B[H].centerX=A,B[H].centerY=I,!(H>=B.length-1));H++)jM(t,A,I,B,H,u,c)||Fb(t,A,I,B,H,u,c),A=c.x,I=c.y;if(at.free(c),t.Zj++,!(23<t.Zj)){A=B[0].centerX,I=B[0].centerY,c=B[B.length-1].centerX,H=B[B.length-1].centerY;var dt=Math.abs(A-c)-((B[0].width+B[B.length-1].width)/2+g),bt=Math.abs(I-H)-((B[0].height+B[B.length-1].height)/2+g);g=0,1>Math.abs(bt)?Math.abs(A-c)<(B[0].width+B[B.length-1].width)/2&&(g=0):g=0<bt?bt:1>Math.abs(dt)?0:dt,A=Math.abs(c)>Math.abs(H)?0<c!=I>H:0<H!=A<c,(A=u===ra?A:!A)&&(g=-Math.abs(g),g=Math.min(g,-B[B.length-1].width),g=Math.min(g,-B[B.length-1].height)),t.ut.compare(g,B),1<Math.abs(g)&&(t.$b=8>t.Zj?t.$b-g/(2*Math.PI):5>B.length&&10<g?t.$b/2:t.$b-(0<g?1.7:-2.3),t.be=t.$b*_,VM(t,e,o,a,u))}}}function RS(t,e,o,a,u){for(var c=t.$b,g=t.be,_=t.Un,A=c*Math.cos(a*Math.PI/180),I=g*Math.sin(a*Math.PI/180),B=at.alloc(),H=e.ma(),dt=0;dt<H.length&&(H[dt].centerX=A,H[dt].centerY=I,!(dt>=H.length-1));dt++)jM(t,A,I,H,dt,u,B)||Fb(t,A,I,H,dt,u,B),A=B.x,I=B.y;if(at.free(B),t.Zj++,!(23<t.Zj)){if(A=Math.atan2(I,A),A=u===ra?t.Bu-A:A-t.Bu,c=(A=Math.abs(A)<Math.abs(A-2*Math.PI)?A:A-2*Math.PI)*(c+g)/2,g=t.ut,Math.abs(c)<Math.abs(g.Am))for(g.Am=c,g.Wk=[],g.cn=[],A=0;A<H.length;A++)g.Wk[A]=H[A].bounds.x,g.cn[A]=H[A].bounds.y;1<Math.abs(c)&&(t.$b=8>t.Zj?t.$b-c/(2*Math.PI):t.$b-(0<c?1.7:-2.3),t.be=t.$b*_,RS(t,e,o,a,u))}}function jM(t,e,o,a,u,c,g){var _=t.$b,A=t.be,I=0;t=(a[u].width+a[u+1].width)/2+t.Ij;var B=!1;if(0<=o!=(c===ra)){if((c=e+t)>_){if((c=e-t)<-_)return g.x=c,g.y=I,!1;B=!0}}else if((c=e-t)<-_){if((c=e+t)>_)return g.x=c,g.y=I,!1;B=!0}return I=Math.sqrt(1-Math.min(1,c*c/(_*_)))*A,0>o!==B&&(I=-I),Math.abs(o-I)>(a[u].height+a[u+1].height)/2?(g.x=c,g.y=I,!1):(g.x=c,g.y=I,!0)}function Fb(t,e,o,a,u,c,g){var _=t.$b,A=t.be,I=0;if(t=(a[u].height+a[u+1].height)/2+t.Ij,a=!1,0<=e!=(c===ra)){if((c=o-t)<-A){if((c=o+t)>A)return g.x=I,void(g.y=c);a=!0}}else if((c=o+t)>A){if((c=o-t)<-A)return g.x=I,void(g.y=c);a=!0}I=Math.sqrt(1-Math.min(1,c*c/(A*A)))*_,0>e!==a&&(I=-I),g.x=I,g.y=c}function Eo(t,e,o,a,u){var c=t.gz;if(.001>Math.abs(t.Un-1))return void 0!==a&&void 0!==u?u*e:2*Math.PI*e;t=e>o?Math.sqrt(e*e-o*o)/e:Math.sqrt(o*o-e*e)/o;for(var g=0,_=void 0!==a&&void 0!==u?u/(c+1):Math.PI/(2*(c+1)),A=0,I=0;I<=c;I++){A=void 0!==a&&void 0!==u?a+I*u/c:I*Math.PI/(2*c);var B=Math.sin(A);g+=Math.sqrt(1-t*t*B*B)*_}return void 0!==a&&void 0!==u?(e>o?e:o)*g:4*(e>o?e:o)*g}function Pv(t,e,o,a,u){return e/(void 0!==a&&void 0!==u?Eo(t,1,o,a,u):Eo(t,1,o))}function Mc(t,e,o,a,u){if(.001>Math.abs(t.Un-1))return u/e;var c=e>o?Math.sqrt(e*e-o*o)/e:Math.sqrt(o*o-e*e)/o,g=0;t=2*Math.PI/(700*t.network.vertexes.count),e>o&&(a+=Math.PI/2);for(var _=0;;_++){var A=Math.sin(a+_*t);if((g+=(e>o?e:o)*Math.sqrt(1-c*c*A*A)*t)>=u)return _*t}}vn.className="GraphLinksModel",ih.GraphLinksModel=vn,Ti.constructGraphLinksModel=Ti.constructGraphLinksModel=function(){return new vn},Ti.initDiagramModel=Xx=function(){return new vn},K(ba,Ti),ba.constructGraphLinksModel=Ti.constructGraphLinksModel,ba.prototype.cloneProtected=function(t){Ti.prototype.cloneProtected.call(this,t),t.Ae=this.Ae,t.Gn=this.Gn,t.$j=this.$j},(ot=ba.prototype).toString=function(t){if(void 0===t&&(t=0),2<=t)return this.fr();var e=(""!==this.name?this.name:"")+" TreeModel";if(0<t){e+="\n node data:";for(var o=(t=this.nodeDataArray).length,a=0;a<o;a++){var u=t[a];e+=" "+this.ja(u)+":"+v(u)}}return e},ot.Vk=function(){var t=Ti.prototype.Vk.call(this),e="";return"parent"!==this.nodeParentKeyProperty&&"string"==typeof this.nodeParentKeyProperty&&(e+=',\n  "nodeParentKeyProperty": '+this.quote(this.nodeParentKeyProperty)),t+e},ot.Xq=function(t){Ti.prototype.Xq.call(this,t),t.nodeParentKeyProperty&&(this.nodeParentKeyProperty=t.nodeParentKeyProperty)},ot.kr=function(t){return C0(this,t,"nodeParentKeyProperty"),Ti.prototype.kr.call(this,t)},ot.Wq=function(t){void 0!==t.nodeParentKeyProperty&&t.nodeParentKeyProperty!==this.nodeParentKeyProperty&&V("applyIncrementalJson cannot change Model properties"),Ti.prototype.Wq.call(this,t)},ot.Gm=function(t){return t},ot.Mh=function(t){if(null!==t){var e=this.Ae;if(""!==e&&void 0!==(e=ho(t,e))){if(gp(e))return e;V("ParentKey value for node data "+t+" is not a number or a string: "+e)}}},ot.fe=function(t,e){if(null===e&&(e=void 0),null!==t){var o=this.Ae;if(""!==o)if(e=this.Gm(e),this.ab(t)){var a=ho(t,o);a!==e&&(Lu(this,a,t),Tr(t,o,e),null===this.Kb(e)&&eh(this,e,t),No(this,"nodeParentKey",_r,o,t,a,e),"string"==typeof o&&this.Ea(t,o))}else Tr(t,o,e)}},ot.Ot=function(t){if(null===t)return"";var e=this.$j;return""===e||void 0===(e=ho(t,e))?"":"string"==typeof e?e:(V("getParentLinkCategoryForNodeData found a non-string category for "+t+": "+e),"")},ba.prototype.getLinkCategoryForData=function(t){return this.Ot(t)},ba.prototype.ku=function(t,e){if(null!==t){var o=this.$j;if(""!==o)if(this.ab(t)){var a=ho(t,o);void 0===a&&(a=""),a!==e&&(Tr(t,o,e),No(this,"parentLinkCategory",_r,o,t,a,e),"string"==typeof o&&this.Ea(t,o))}else Tr(t,o,e)}},ba.prototype.setLinkCategoryForData=function(t,e){this.ku(t,e)},ba.prototype.copyNodeData=function(t){return null===t?null:(t=Ti.prototype.copyNodeData.call(this,t),this.sk||""===this.Ae||void 0===ho(t,this.Ae)||Tr(t,this.Ae,void 0),t)},ba.prototype.setDataProperty=function(t,e,o){if(this.ab(t)){if(e===this.nodeKeyProperty)return void this.Vm(t,o);if(e===this.nodeCategoryProperty)return void this.Um(t,o);if(e===this.nodeParentKeyProperty)return void this.fe(t,o)}var a=ho(t,e);a!==o&&(Tr(t,e,o),this.du(t,e,a,o))},(ot=ba.prototype).ar=function(t,e){Ti.prototype.ar.call(this,t,e);for(var o=this.Wa.iterator;o.next();)this.vw(o.value,t,e)},ot.vw=function(t,e,o){if(this.Mh(t)===e){var a=this.Ae;Tr(t,a,o),No(this,"nodeParentKey",_r,a,t,e,o),"string"==typeof a&&this.Ea(t,a)}},ot.Qm=function(t){Ti.prototype.Qm.call(this,t);var e=Av(this,t=this.ja(t));if(null!==e){var o=h();for(e=e.iterator;e.next();){var a=e.value;if(this.ab(a)&&this.Mh(a)===t){var u=this.Ae;No(this,"nodeParentKey",_r,u,a,t,t),"string"==typeof u&&this.Ea(a,u),o.push(a)}}for(e=0;e<o.length;e++)Lu(this,t,o[e]);m(o)}},ot.Pm=function(t){Ti.prototype.Pm.call(this,t);var e=this.Mh(t);e=this.Gm(e),null===this.Kb(e)&&eh(this,e,t)},ot.hr=function(t){Ti.prototype.hr.call(this,t),Lu(this,this.Mh(t),t)},ot.Wm=function(t,e){Ti.prototype.Wm.call(this,t,e),this.ku(e,this.Ot(t)),this.fe(e,this.Mh(t))},ot.Em=function(){return!0},ot.Ut=function(){return!0},W.Object.defineProperties(ba.prototype,{nodeParentKeyProperty:{get:function(){return this.Ae},set:function(t){var e=this.Ae;e!==t&&(this.Ae=t,this.g("nodeParentKeyProperty",e,t))}},sk:{get:function(){return this.Gn},set:function(t){this.Gn!==t&&(this.Gn=t)}},parentLinkCategoryProperty:{get:function(){return this.$j},set:function(t){var e=this.$j;e!==t&&(this.$j=t,this.g("parentLinkCategoryProperty",e,t))}},linkCategoryProperty:{get:function(){return this.parentLinkCategoryProperty},set:function(t){this.parentLinkCategoryProperty=t}},type:{get:function(){return"TreeModel"}}}),ba.prototype.setParentLinkCategoryForNodeData=ba.prototype.ku,ba.prototype.getParentLinkCategoryForNodeData=ba.prototype.Ot,ba.prototype.setParentKeyForNodeData=ba.prototype.fe,ba.prototype.getParentKeyForNodeData=ba.prototype.Mh,ba.className="TreeModel",ih.TreeModel=ba,K(Kr,Ln),Kr.prototype.cloneProtected=function(t){Ln.prototype.cloneProtected.call(this,t),t.Ap=this.Ap,t.pn=this.pn,t.bq=this.bq,t.mm=this.mm,t.Eb=this.Eb,t.K=this.K,t.bd=this.bd,t.Wc=this.Wc,t.lf=this.lf,t.jp=this.jp},Kr.prototype.jb=function(t){t.classType===Kr?t===Rv||t===o1||t===Qx||t===D0||t===Hm?this.sorting=t:t===yp||t===Iv||t===ra||t===md?this.direction=t:t===pd||t===vp||t===Gl||t===lu?this.arrangement=t:(t===E0||t===s1)&&(this.nodeDiameterFormula=t):Ln.prototype.jb.call(this,t)},Kr.prototype.createNetwork=function(){return new Ov(this)},Kr.prototype.doLayout=function(t){if(null===this.network&&(this.network=this.makeNetwork(t)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),1>=(t=this.network.vertexes).count)1===t.count&&((t=t.first()).centerX=0,t.centerY=0);else{var e=new Vt;e.addAll(t.iterator),t=new Vt;var u,c,o=new Vt,a=this.sort(e),g=this.Gr,_=this.arrangement,A=this.nodeDiameterFormula,I=this.radius;(!isFinite(I)||0>=I)&&(I=NaN);var B=this.aspectRatio;(!isFinite(B)||0>=B)&&(B=1);var H=this.startAngle;isFinite(H)||(H=0);var dt=this.sweepAngle;if((!isFinite(dt)||360<dt||1>dt)&&(dt=360),e=this.spacing,isFinite(e)||(e=NaN),_===lu&&A===E0?_=Gl:_===lu&&A!==E0&&(_=this.arrangement),(this.direction===yp||this.direction===Iv)&&this.sorting!==Hm){for(A=0;!(A>=a.length||(t.add(a.J(A)),A+1>=a.length));A+=2)o.add(a.J(A+1));this.direction===yp?(this.arrangement===lu&&t.reverse(),(a=new Vt).addAll(t),a.addAll(o)):(this.arrangement===lu&&o.reverse(),(a=new Vt).addAll(o),a.addAll(t))}A=a.length;for(var bt=c=u=0;bt<a.length;bt++){var pt=H+dt*c*(this.direction===ra?1:-1)/A,Rt=a.J(bt).diameter;isNaN(Rt)&&(Rt=xp(a.J(bt),pt)),360>dt&&(0===bt||bt===a.length-1)&&(Rt/=2),u+=Rt,c++}if(isNaN(I)||_===lu){if(isNaN(e)&&(e=6),_!==Gl&&_!==lu){for(c=-1/0,g=0;g<A;g++)bt=a.J(g),u=a.J(g===A-1?0:g+1),isNaN(bt.diameter)&&xp(bt,0),isNaN(u.diameter)&&xp(u,0),c=Math.max(c,(bt.diameter+u.diameter)/2);g=c+e,I=_===pd?(c+e)/(2*Math.PI/A):Pv(this,g*(360<=dt?A:A-1),B,H*Math.PI/180,dt*Math.PI/180)}else I=Pv(this,u+(360<=dt?A:A-1)*(_!==lu?e:1.6*e),B,H*Math.PI/180,dt*Math.PI/180);c=I*B}else if(bt=Eo(this,I,c=I*B,H*Math.PI/180,dt*Math.PI/180),isNaN(e))(_===Gl||_===lu)&&(e=(bt-u)/(360<=dt?A:A-1));else if(_===Gl||_===lu)(bt=(bt-u)/(360<=dt?A:A-1))<e?c=(I=Pv(this,u+e*(360<=dt?A:A-1),B,H*Math.PI/180,dt*Math.PI/180))*B:e=bt;else{for(g=-1/0,u=0;u<A;u++)pt=a.J(u),Rt=a.J(u===A-1?0:u+1),isNaN(pt.diameter)&&xp(pt,0),isNaN(Rt.diameter)&&xp(Rt,0),g=Math.max(g,(pt.diameter+Rt.diameter)/2);(u=Pv(this,(g+=e)*(360<=dt?A:A-1),B,H*Math.PI/180,dt*Math.PI/180))>I?c=(I=u)*B:g=bt/(360<=dt?A:A-1)}if(this.vx=_,this.$b=I,this.Un=B,this.wx=H,this.Ur=dt,this.Ij=e,this.be=c,this.Gr=g,e=a,a=this.vx,_=this.$b,I=this.wx,B=this.Ur,H=this.Ij,dt=this.be,A=this.Gr,this.direction!==yp&&this.direction!==Iv||a!==lu)if(this.direction===yp||this.direction===Iv){switch(g=0,a){case vp:g=180*Mc(this,_,dt,I,A)/Math.PI;break;case Gl:A=e=0,null!==(g=t.first())&&(e=xp(g,Math.PI/2)),null!==(g=o.first())&&(A=xp(g,Math.PI/2)),g=180*Mc(this,_,dt,I,H+(e+A)/2)/Math.PI;break;case pd:g=B/e.length}if(this.direction===yp){switch(a){case vp:r1(this,t,I,md);break;case Gl:n1(this,t,I,md);break;case pd:dd(this,t,B/2,I,md)}switch(a){case vp:r1(this,o,I+g,ra);break;case Gl:n1(this,o,I+g,ra);break;case pd:dd(this,o,B/2,I+g,ra)}}else{switch(a){case vp:r1(this,o,I,md);break;case Gl:n1(this,o,I,md);break;case pd:dd(this,o,B/2,I,md)}switch(a){case vp:r1(this,t,I+g,ra);break;case Gl:n1(this,t,I+g,ra);break;case pd:dd(this,t,B/2,I+g,ra)}}}else switch(a){case vp:r1(this,e,I,this.direction);break;case Gl:n1(this,e,I,this.direction);break;case pd:dd(this,e,B,I,this.direction);break;case lu:BM(this,e,B,I,this.direction)}else BM(this,e,B,I-B/2,ra)}this.updateParts(),this.network=null,this.isValidLayout=!0},Kr.prototype.commitLayout=function(){this.commitNodes(),this.isRouting&&this.commitLinks()},Kr.prototype.commitNodes=function(){var t=null!==this.group&&null!==this.group.placeholder&&this.group.isSubGraphExpanded,e=t?this.group.location.copy():null,o=this.actualCenter;t?o=new at(0,0):(o.x=this.arrangementOrigin.x+this.$b,o.y=this.arrangementOrigin.y+this.be);for(var a=this.network.vertexes.iterator;a.next();){var u=a.value;u.x+=o.x,u.y+=o.y,u.commit()}t&&(this.group.Ta(),t=this.group.position.copy(),o=this.group.location.copy(),e=e.ge(o.ge(t)),this.group.move(e),this.mx=e.ge(t))},Kr.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},Kr.prototype.sort=function(t){switch(this.sorting){case Qx:break;case D0:t.reverse();break;case Rv:t.sort(this.comparer);break;case o1:t.sort(this.comparer),t.reverse();break;case Hm:return this.nw(function(t){for(var e=[],o=0;o<t.length;o++)e.push(0);o=new Vt;for(var a=0;a<t.length;a++){var u=-1,c=-1;if(0===a)for(var g=0;g<t.length;g++){var _=t.J(g).edgesCount;_>u&&(u=_,c=g)}else for(g=0;g<t.length;g++)(_=e[g])>u&&(u=_,c=g);for(o.add(t.J(c)),e[c]=-1,g=(c=t.J(c)).sourceEdges;g.next();)0>(u=t.indexOf(g.value.fromVertex))||0<=e[u]&&e[u]++;for(c=c.destinationEdges;c.next();)0>(u=t.indexOf(c.value.toVertex))||0<=e[u]&&e[u]++}return o}(t));default:V("Invalid sorting type.")}return t},Kr.prototype.nw=function(t){for(var e=[],o=0;o<t.length;o++){var a=t.J(o);e[o]=[];for(var u,c=a.destinationEdges;c.next();)(u=t.indexOf(c.value.toVertex))!==o&&0>e[o].indexOf(u)&&e[o].push(u);for(a=a.sourceEdges;a.next();)(u=t.indexOf(a.value.fromVertex))!==o&&0>e[o].indexOf(u)&&e[o].push(u)}for(c=[],o=0;o<e.length;o++)c[o]=0;o=[];var g=[],_=[];a=[],u=new Vt;for(var A=0,I=0;I<e.length;I++){var B=e[I].length;if(1===B)a.push(I);else if(0===B)u.add(t.J(I));else{if(0===A)o.push(I);else{for(var H=B=1/0,dt=-1,bt=[],pt=0;pt<o.length;pt++)0>e[o[pt]].indexOf(o[pt===o.length-1?0:pt+1])&&bt.push(pt===o.length-1?0:pt+1);if(0===bt.length)for(pt=0;pt<o.length;pt++)bt.push(pt);for(pt=0;pt<bt.length;pt++){for(var Rt=bt[pt],Xt=e[I],$t=0,ie=0;ie<g.length;ie++){var oe=c[g[ie]],ce=c[_[ie]];if(oe<ce){var _e=oe;oe=ce}else _e=ce;if(_e<Rt&&Rt<=oe)for(ce=0;ce<Xt.length;ce++){var Je=Xt[ce];0>o.indexOf(Je)||_e<c[Je]&&c[Je]<oe||_e===c[Je]||oe===c[Je]||$t++}else for(ce=0;ce<Xt.length;ce++)0>o.indexOf(Je=Xt[ce])||_e<c[Je]&&c[Je]<oe&&_e!==c[Je]&&oe!==c[Je]&&$t++}for(Xt=$t,ie=$t=0;ie<e[I].length;ie++)0<=(_e=o.indexOf(e[I][ie]))&&($t+=(_e=Math.abs(Rt-(_e>=Rt?_e+1:_e)))<o.length+1-_e?_e:o.length+1-_e);for(ie=0;ie<g.length;ie++)(_e=c[g[ie]])>=Rt&&_e++,(oe=c[_[ie]])>=Rt&&oe++,_e>oe&&(ce=oe,oe=_e,_e=ce),oe-_e<(o.length+2)/2==(_e<Rt&&Rt<=oe)&&$t++;(Xt<B||Xt===B&&$t<H)&&(B=Xt,H=$t,dt=Rt)}for(o.splice(dt,0,I),B=0;B<o.length;B++)c[o[B]]=B;for(B=0;B<e[I].length;B++)0<=o.indexOf(H=e[I][B])&&(g.push(I),_.push(H))}A++}}for(g=o.length;;){for(c=!0,_=0;_<a.length;_++)if(0<=(B=o.indexOf(I=e[A=a[_]][0]))){for(dt=H=0;dt<e[I].length;dt++)0>(bt=o.indexOf(e[I][dt]))||bt===B||(H+=bt<B!=(pt=bt>B?bt-B:B-bt)>g-pt?1:-1);o.splice(0>H?B:B+1,0,A),a.splice(_,1),_--}else c=!1;if(c)break;o.push(a[0]),a.splice(0,1)}for(e=0;e<o.length;e++)u.add(t.J(o[e]));return u},W.Object.defineProperties(Kr.prototype,{radius:{get:function(){return this.Ap},set:function(t){this.Ap!==t&&(0<t||isNaN(t))&&(this.Ap=t,this.C())}},aspectRatio:{get:function(){return this.pn},set:function(t){this.pn!==t&&0<t&&(this.pn=t,this.C())}},startAngle:{get:function(){return this.bq},set:function(t){this.bq!==t&&(this.bq=t,this.C())}},sweepAngle:{get:function(){return this.mm},set:function(t){this.mm!==t&&(this.mm=0<t&&360>=t?t:360,this.C())}},arrangement:{get:function(){return this.Eb},set:function(t){this.Eb===t||t!==lu&&t!==Gl&&t!==vp&&t!==pd||(this.Eb=t,this.C())}},direction:{get:function(){return this.K},set:function(t){this.K===t||t!==ra&&t!==md&&t!==yp&&t!==Iv||(this.K=t,this.C())}},sorting:{get:function(){return this.bd},set:function(t){this.bd===t||t!==Qx&&t!==D0&&t!==Rv&&!o1&&t!==Hm||(this.bd=t,this.C())}},comparer:{get:function(){return this.Wc},set:function(t){this.Wc!==t&&(this.Wc=t,this.C())}},spacing:{get:function(){return this.lf},set:function(t){this.lf!==t&&(this.lf=t,this.C())}},nodeDiameterFormula:{get:function(){return this.jp},set:function(t){this.jp===t||t!==s1&&t!==E0||(this.jp=t,this.C())}},actualXRadius:{get:function(){return this.$b}},actualYRadius:{get:function(){return this.be}},actualSpacing:{get:function(){return this.Ij}},actualCenter:{get:function(){return this.mx}}});var Gl=new wt(Kr,"ConstantSpacing",0),vp=new wt(Kr,"ConstantDistance",1),pd=new wt(Kr,"ConstantAngle",2),lu=new wt(Kr,"Packed",3),ra=new wt(Kr,"Clockwise",4),md=new wt(Kr,"Counterclockwise",5),yp=new wt(Kr,"BidirectionalLeft",6),Iv=new wt(Kr,"BidirectionalRight",7),Qx=new wt(Kr,"Forwards",8),D0=new wt(Kr,"Reverse",9),Rv=new wt(Kr,"Ascending",10),o1=new wt(Kr,"Descending",11),Hm=new wt(Kr,"Optimized",12),s1=new wt(Kr,"Pythagorean",13),E0=new wt(Kr,"Circular",14);function a1(){this.Am=-1/0,this.cn=this.Wk=null}function Ov(t){rr.call(this,t)}function l1(t){Do.call(this,t),this.I=this.Gj=NaN}function xp(t,e){var o=t.network;if(null===o)return NaN;if(null===(o=o.layout))return NaN;if(o.arrangement===lu)if(o.nodeDiameterFormula===E0)t.Gj=Math.max(t.width,t.height);else{if(o=Math.abs(Math.sin(e)),e=Math.abs(Math.cos(e)),0===o)return t.width;if(0===e)return t.height;t.Gj=Math.min(t.height/o,t.width/e)}else t.Gj=o.nodeDiameterFormula===E0?Math.max(t.width,t.height):Math.sqrt(t.width*t.width+t.height*t.height);return t.Gj}function u1(t){zs.call(this,t)}function ds(){Ln.call(this),this.Fh=null,this.Eo=0,this.Pd=new He(100,100).freeze(),this.on=!1,this.kf=!0,this.jd=!1,this.Rl=100,this.Xn=1,this.Xf=1e3,this.bp=10,this.Bp=Math,this.ol=.05,this.nl=50,this.ll=150,this.ml=0,this.On=10,this.Nn=5}function Vb(t,e,o){if(function(t,e){if(10<e||3>t.network.vertexes.count)return!1;for(t.Fh=t.network.vertexes.ma(),(t=t.Fh).sort(function(o,a){return null===o||null===a||o===a?0:a.Ld-o.Ld}),e=t.length-1;0<=e&&1>=t[e].Ld;)e--;return 1<t.length-e}(t,e)){var a=t.Xf;t.Xf*=1+1/(e+1);var u=function(t,e){for(var o=t.network,a=new Wl(t),u=0;u<t.Fh.length;u++){var c=t.Fh[u];if(!(1<c.Ld))break;a.Bg(c);var g=new LS;g.qu=c.Ld,g.ru=c.width,g.pu=c.height,g.$w=c.focus.x,g.ax=c.focus.y,null===c.Ne&&(c.Ne=new Vt),c.Ne.add(g),c.zw=c.Ne.count-1}for(c=o.edges.iterator;c.next();){var _=c.value;g=_.toVertex,(u=_.fromVertex).network===a&&g.network===a?a.tm(_):u.network===a?(null===(_=u.qk)&&(_=new Vt,u.qk=_),_.add(g),u.Ld--,u.Sh+=g.Sh):g.network===a&&(null===(_=g.qk)&&(_=new Vt,g.qk=_),_.add(u),g.Ld--,g.Sh+=u.Sh)}for(u=a.edges.iterator;u.next();)(c=u.value).length*=Math.max(1,me.sqrt((c.fromVertex.Sh+c.toVertex.Sh)/(4*e+1)));for(e=a.vertexes.iterator;e.next();){var A=(u=e.value).qk;if(null!==A&&0<A.count&&!(0>=(g=u.Ne.J(u.Ne.count-1).qu-u.Ld))){for(var I=_=0,B=A.count-g;B<A.count;B++){var H=A.J(B),dt=null;for(c=H.edges.iterator;c.next();){var bt=c.value;if(bt.zy(H)===u){dt=bt;break}}null!==dt&&(I+=dt.length,_+=H.width*H.height)}c=u.centerX,A=u.centerY,dt=u.focus,1>(bt=(B=u.width)*(H=u.height))&&(bt=1),_=me.sqrt((_+bt+I*I*4/(g*g))/bt),u.bounds=new te(c-dt.x-(g=(_-1)*B/2),A-dt.y-(_=(_-1)*H/2),B+2*g,H+2*_),u.focus=new at(dt.x+g,dt.y+_)}}return t.network=a,o}(t,e),c=Math.max(0,Math.max(Math.min(t.network.vertexes.count,o*(e+1)/11),10));for(t.maxIterations+=c,Vb(t,e+1,o),jb(t,c),function(t,e){for(var o=t.network.vertexes.iterator;o.next();){var a=o.value;if(a.network=e,null!==a.Ne){var u=a.Ne.J(a.zw);a.Ld=u.qu;var c=u.$w,g=u.ax;a.bounds=new te(a.centerX-c,a.centerY-g,u.ru,u.pu),a.focus=new at(c,g),a.zw--}}for(o=t.network.edges.iterator;o.next();)o.value.network=e;t.network=e}(t,u),(e=u.vertexes.ma()).sort(function(g,_){return null===g||null===_||g===_?0:_.Ld-g.Ld}),o=0;o<e.length;o++)$A(t,e[o]);t.Xf=a}}function $A(t,e){var o=e.qk;if(null!==o&&0!==o.count){var a=e.centerX,u=e.centerY,c=e.width,g=e.height;null!==e.Ne&&0<e.Ne.count&&(c=(g=e.Ne.J(0)).ru,g=g.pu),c=me.sqrt(c*c+g*g)/2;for(var _=!1,A=g=0,I=0,B=e.vertexes.iterator;B.next();){var H=B.value;1>=H.Ld?A++:(_=!0,I++,g+=Math.atan2(e.centerY-H.centerY,e.centerX-H.centerX))}if(0!==A)for(0<I&&(g/=I),I=e=0,e=_?2*Math.PI/(A+1):2*Math.PI/A,A%2==0&&(I=e/2),1<o.count&&o.sort(function(bt,pt){return null===bt||null===pt||bt===pt?0:pt.width*pt.height-bt.width*bt.height}),_=A%2==0?0:1,o=o.iterator;o.next();)if(!(1<(A=o.value).Ld||t.isFixed(A))){for(B=null,H=A.edges.iterator;H.next();){B=H.value;break}var dt=A.height;H=me.sqrt((H=A.width)*H+dt*dt)/2,B=c+B.length+H,H=g+(e*(_/2>>1)+I)*(_%2==0?1:-1),A.centerX=a+B*Math.cos(H),A.centerY=u+B*Math.sin(H),_++}}}function Jx(t,e,o,a,u,c,g){var _=9e19,A=-1,I=0;t:for(;I<e;I++){var B=t[I],H=B.x-o,dt=B.y-a;if((H=H*H+dt*dt)<_){for(dt=I-1;0<=dt;dt--)if(t[dt].y>B.y&&t[dt].x-B.x<u+g.width)continue t;for(dt=I+1;dt<e;dt++)if(t[dt].x>B.x&&t[dt].y-B.y<c+g.height)continue t;A=I,_=H}}return A}function zM(t,e){var o=t.bounds,a=o.x;t=o.y;var u=o.width;o=o.height;var c=e.bounds,g=c.x;e=c.y;var _=c.width;return c=c.height,a+u<g?t>e+c?me.sqrt((o=a+u-g)*o+(t=t-e-c)*t):t+o<e?me.sqrt((a=a+u-g)*a+(t=t+o-e)*t):g-(a+u):a>g+_?t>e+c?me.sqrt((o=a-g-_)*o+(t=t-e-c)*t):t+o<e?me.sqrt((a=a-g-_)*a+(t=t+o-e)*t):a-(g+_):t>e+c?t-(e+c):t+o<e?e-(t+o):.1}function jb(t,e){for(t.Fh=null,e=t.Eo+e;t.Eo<e&&(t.Eo++,HM(t)););t.Fh=null}function HM(t){null===t.Fh&&(t.Fh=t.network.vertexes.ma());var e=t.Fh;if(0>=e.length)return!1;var o=e[0];o.forceX=0,o.forceY=0;for(var a=o.centerX,u=a,c=o=o.centerY,g=1;g<e.length;g++){var _=e[g];_.forceX=0,_.forceY=0;var A=_.centerX;_=_.centerY,a=Math.min(a,A),u=Math.max(u,A),o=Math.min(o,_),c=Math.max(c,_)}(u=u-a>c-o)?e.sort(function(Rt,Xt){return null===Rt||null===Xt||Rt===Xt?0:Rt.centerX-Xt.centerX}):e.sort(function(Rt,Xt){return null===Rt||null===Xt||Rt===Xt?0:Rt.centerY-Xt.centerY}),o=t.Xf;var I=a=_=0;for(c=0;c<e.length;c++){var B=(a=(g=e[c]).bounds).y+(_=g.focus).y;a=g.charge*t.electricalFieldX(A=a.x+_.x,B),I=g.charge*t.electricalFieldY(A,B),a+=g.mass*t.gravitationalFieldX(A,B),I+=g.mass*t.gravitationalFieldY(A,B),g.forceX+=a,g.forceY+=I;for(var H=c+1;H<e.length;H++){var dt=e[H];if(dt!==g){var bt=(a=dt.bounds).y+(_=dt.focus).y;if(A-(I=a.x+_.x)>o||I-A>o){if(u)break}else if(B-bt>o||bt-B>o){if(!u)break}else{var pt=zM(g,dt);1>pt?(null===(a=t.randomNumberGenerator)&&(t.randomNumberGenerator=a=new h1),pt=a.random(),_=a.random(),a=A>I?(1+(a=Math.abs(dt.bounds.right-g.bounds.x)))*pt:A<I?-(1+(a=Math.abs(dt.bounds.x-g.bounds.right)))*pt:(1+(a=Math.max(dt.width,g.width)))*pt-a/2,I=B>bt?(1+(I=Math.abs(dt.bounds.bottom-g.bounds.y)))*_:A<I?-(1+(I=Math.abs(dt.bounds.y-g.bounds.bottom)))*_:(1+(I=Math.max(dt.height,g.height)))*_-I/2):(a=(I-A)/pt*(_=-g.charge*dt.charge/(pt*pt)),I=(bt-B)/pt*_),g.forceX+=a,g.forceY+=I,dt.forceX-=a,dt.forceY-=I}}}}for(u=t.network.edges.iterator;u.next();)a=(g=(o=(_=u.value).fromVertex).bounds).x+(A=o.focus).x,g=g.y+A.y,A=(B=(c=_.toVertex).bounds).x+(H=c.focus).x,B=B.y+H.y,1>(H=zM(o,c))?(null===(H=t.randomNumberGenerator)&&(t.randomNumberGenerator=H=new h1),_=H.random(),H=H.random(),a=(a>A?1:-1)*(1+(c.width>o.width?c.width:o.width))*_,I=(g>B?1:-1)*(1+(c.height>o.height?c.height:o.height))*H):(a=(A-a)/H*(_=_.stiffness*(H-_.length)),I=(B-g)/H*_),o.forceX+=a,o.forceY+=I,c.forceX-=a,c.forceY-=I;for(u=a=0;u<e.length;u++)t.isFixed(o=e[u])?t.moveFixedVertex(o):a=Math.max(a,t.moveVertex(o)||0);return a>t.epsilonDistance*t.epsilonDistance}function LS(){this.ax=this.$w=this.pu=this.ru=this.qu=0}function Wl(t){rr.call(this,t)}function Nv(t){Do.call(this,t),this.La=!1,this.eb=this.I=NaN,this.Sh=this.Ld=this.Ka=this.T=0,this.Ne=this.qk=null,this.zw=0}function Lv(t){zs.call(this,t),this.l=this.u=NaN}function h1(){var t=0;void 0===t&&(t=42),this.seed=t,this.Zy=48271,this.az=2147483647,this.Q=44488.07041494893,this.bz=3399,this.$y=1/2147483647,this.random()}function Wn(){Ln.call(this),this.Zb=this.ue=25,this.K=0,this.jl=bp,this.Ml=_p,this.Bl=d1,this.Rj=4,this.Zk=p1,this.ng=15,this.kf=!0,this.Mo=4,this.Ca=this.Ji=this.sa=-1,this.pc=this.mh=0,this.Ia=this.yd=this.zd=this.$d=this.zb=null,this.oh=0,this.fp=this.Wj=null,this.Ec=0,this.gp=null,this.Vc=new at,this.xe=[],this.xe.length=100}function tw(t){var e=t.fromVertex.node||t.fromVertex.data;return t=t.toVertex.node||t.toVertex.data,null===e&&null===t?8:null===e||null===t?4:1}function Ra(t){null===t.Wj&&(t.Wj=[]);for(var e=0,o=t.network.vertexes.iterator;o.next();){var a=o.value;t.Wj[e]=a.layer,e++,t.Wj[e]=a.column,e++,t.Wj[e]=a.index,e++}return t.Wj}function uu(t,e){var o=0;for(t=t.network.vertexes.iterator;t.next();){var a=t.value;a.layer=e[o],o++,a.column=e[o],o++,a.index=e[o],o++}}function zb(t,e,o){var a=nh(t,e),u=t.zb[e];(null===t.fp||t.fp.length<u*u)&&(t.fp=[]);for(var c=t.fp,g=0;g<u;g++){var dt,_=0,A=a[g],I=A.near;if(null!==I&&I.layer===A.layer)if((A=I.index)>g)for(var B=g+1;B<A;B++){var H=a[B];H.near===I&&H.wf===I.wf||_++}else for(B=g-1;B>A;B--)(H=a[B]).near===I&&H.wf===I.wf||_++;if(0<=o)for(A=a[g].sourceEdgesArrayAccess,I=0;I<A.length;I++){var bt=A[I];if(bt.valid&&bt.fromVertex.layer!==e)for(H=bt.fromVertex.index,B=bt.portToPos,bt=bt.portFromPos,dt=I+1;dt<A.length;dt++){var pt=A[dt];if(pt.valid&&pt.fromVertex.layer!==e){var Rt=pt.fromVertex.index,Xt=pt.portToPos;pt=pt.portFromPos,B<Xt&&(H>Rt||H===Rt&&bt>pt)&&_++,Xt<B&&(Rt>H||Rt===H&&pt>bt)&&_++}}}if(0>=o)for(A=a[g].destinationEdgesArrayAccess,I=0;I<A.length;I++)if((bt=A[I]).valid&&bt.toVertex.layer!==e)for(H=bt.toVertex.index,B=bt.portToPos,bt=bt.portFromPos,dt=I+1;dt<A.length;dt++)(pt=A[dt]).valid&&pt.toVertex.layer!==e&&(Rt=pt.toVertex.index,Xt=pt.portToPos,bt<(pt=pt.portFromPos)&&(H>Rt||H===Rt&&B>Xt)&&_++,pt<bt&&(Rt>H||Rt===H&&Xt>B)&&_++);for(c[g*u+g]=_,A=g+1;A<u;A++){var $t=0,ie=0;if(0<=o){_=a[g].sourceEdgesArrayAccess;var oe=a[A].sourceEdgesArrayAccess;for(I=0;I<_.length;I++)if((bt=_[I]).valid&&bt.fromVertex.layer!==e)for(H=bt.fromVertex.index,bt=bt.portFromPos,dt=0;dt<oe.length;dt++)(pt=oe[dt]).valid&&pt.fromVertex.layer!==e&&(Rt=pt.fromVertex.index,pt=pt.portFromPos,(H<Rt||H===Rt&&bt<pt)&&ie++,(Rt<H||Rt===H&&pt<bt)&&$t++)}if(0>=o)for(_=a[g].destinationEdgesArrayAccess,oe=a[A].destinationEdgesArrayAccess,I=0;I<_.length;I++)if((bt=_[I]).valid&&bt.toVertex.layer!==e)for(H=bt.toVertex.index,B=bt.portToPos,dt=0;dt<oe.length;dt++)(pt=oe[dt]).valid&&pt.toVertex.layer!==e&&(Xt=pt.portToPos,(H<(Rt=pt.toVertex.index)||H===Rt&&B<Xt)&&ie++,(Rt<H||Rt===H&&Xt<B)&&$t++);c[g*u+A]=$t,c[A*u+g]=ie}}return rh(t,e,a),c}function Qn(t){for(var e=0,o=0;o<=t.sa;o++){for(var a=t,u=o,c=nh(a,u),g=a.zb[u],_=0,A=0;A<g;A++){var I=c[A].destinationEdgesArrayAccess;if(null!==I)for(var B=0;B<I.length;B++){var H=I[B];H.valid&&H.toVertex.layer!==u&&(_+=(Math.abs(H.fromVertex.column+H.portFromColOffset-(H.toVertex.column+H.portToColOffset))+1)*tw(H))}}rh(a,u,c),e+=_}return e}function Hb(t,e,o){for(var a=nh(t,e),u=t.zb[e],c=[],g=0;g<u;g++){var _=a[g],A=null;0>=o&&(A=_.sourceEdgesArrayAccess);var I=null;0<=o&&(I=_.destinationEdgesArrayAccess);var B=0,H=0,dt=_.near;if(null!==dt&&dt.layer===_.layer&&(B+=dt.column-1,H++),null!==A)for(dt=0;dt<A.length;dt++){var bt=(_=A[dt]).fromVertex;_.valid&&!_.rev&&bt.layer!==e&&(B+=bt.column,H++)}if(null!==I)for(A=0;A<I.length;A++)dt=(_=I[A]).toVertex,_.valid&&!_.rev&&dt.layer!==e&&(B+=dt.column,H++);c[g]=0===H?-1:B/H}return rh(t,e,a),c}function ew(t,e,o){for(var a=nh(t,e),u=t.zb[e],c=[],g=0;g<u;g++){var _=a[g],A=null;0>=o&&(A=_.sourceEdgesArrayAccess);var I=null;0<=o&&(I=_.destinationEdgesArrayAccess);var B=0,H=[],dt=_.near;if(null!==dt&&dt.layer===_.layer&&(H[B]=dt.column-1,B++),_=void 0,null!==A)for(dt=0;dt<A.length;dt++){var bt=(_=A[dt]).fromVertex;_.valid&&!_.rev&&bt.layer!==e&&(H[B]=bt.column+_.portFromColOffset,B++)}if(null!==I)for(A=0;A<I.length;A++)dt=(_=I[A]).toVertex,_.valid&&!_.rev&&dt.layer!==e&&(H[B]=dt.column+_.portToColOffset,B++);0===B?c[g]=-1:(H.sort(function(pt,Rt){return pt-Rt}),I=B>>1,c[g]=0!=(1&B)?H[I]:H[I-1]+H[I]>>1)}return rh(t,e,a),c}function c1(t,e,o,a,u,c){if(e.component===a){if(e.component=o,u)for(var g=e.destinationEdges;g.next();){var _=g.value,A=_.toVertex,I=e.layer-A.layer;I===(_=t.linkMinLength(_))&&c1(t,A,o,a,u,c)}if(c)for(g=e.sourceEdges;g.next();)(I=(A=(_=g.value).fromVertex).layer-e.layer)===(_=t.linkMinLength(_))&&c1(t,A,o,a,u,c)}}function Ub(t,e,o,a,u,c){if(e.component===a){if(e.component=o,u)for(var g=e.destinationEdges;g.next();)Ub(t,g.value.toVertex,o,a,u,c);if(c)for(e=e.sourceEdges;e.next();)Ub(t,e.value.fromVertex,o,a,u,c)}}function FS(t){for(t=t.vertexes.iterator;t.next();){var e=t.value;if(e.valid)return e}return null}function UM(t){for(t=t.vertexes.iterator;t.next();){var e=t.value;if(e.valid){for(var o=!0,a=e.destinationEdges;a.next();)if(a.value.toVertex.valid){o=!1;break}if(o)return e}}return null}function GM(t){for(t=t.vertexes.iterator;t.next();){var e=t.value;if(e.valid){for(var o=!0,a=e.sourceEdges;a.next();)if(a.value.fromVertex.valid){o=!1;break}if(o)return e}}return null}function Gb(t,e){e.Cg=t.oh,t.oh++;for(var o=e.destinationEdges;o.next();){var a=o.value,u=a.toVertex;-1===u.Cg&&(a.forest=!0,Gb(t,u))}e.finish=t.oh,t.oh++}function f1(t){for(var e=t.network.vertexes.iterator;e.next();){var o=Um(t,e.value);t.sa=Math.max(o,t.sa)}}function Um(t,e){var o=0;if(-1===e.layer){for(var a=e.destinationEdges;a.next();){var u=a.value,c=u.toVertex;u=t.linkMinLength(u),o=Math.max(o,Um(t,c)+u)}e.layer=o}else o=e.layer;return o}function Wb(t,e){var o=0;if(-1===e.layer){for(var a=e.sourceEdges;a.next();){var u=a.value,c=u.fromVertex;u=t.linkMinLength(u),o=Math.max(o,Wb(t,c)+u)}e.layer=o}else o=e.layer;return o}function Fv(t,e){if(!e.valid){e.valid=!0;for(var o=e.destinationEdges;o.next();)Fv(t,o.value.toVertex);for(o=t.network.vertexes.iterator;o.next();)o.value.component=-1;for(var a=e.sourceEdgesArrayAccess,u=a.length,c=0;c<u;c++){var g=a[c],_=g.fromVertex,A=g.toVertex;g=t.linkMinLength(g),_.layer-A.layer>g&&c1(t,_,0,-1,!0,!1)}for(c1(t,e,1,-1,!0,!0);0!==e.component;){for(c=0,a=1/0,_=0,A=null,g=t.network.vertexes.iterator;g.next();){var I=g.value;if(1===I.component){var B=0,H=!1,dt=I.sourceEdgesArrayAccess;u=dt.length;for(var bt=0;bt<u;bt++){var pt=dt[bt],Rt=pt.fromVertex;B+=1,1!==Rt.component&&(c+=1,Rt=Rt.layer-I.layer,pt=t.linkMinLength(pt),a=Math.min(a,Rt-pt))}for(u=(dt=I.destinationEdgesArrayAccess).length,bt=0;bt<u;bt++)--B,1!==(pt=dt[bt].toVertex).component?--c:H=!0;(null===A||B<_)&&!H&&(A=I,_=B)}}if(0<c){for(o.reset();o.next();)1===(u=o.value).component&&(u.layer+=a);e.component=0}else A.component=0}for(o=t.network.vertexes.iterator;o.next();)o.value.component=-1;for(c1(t,e,1,-1,!0,!1);0!==e.component;){for(a=0,u=1/0,c=0,_=null,A=t.network.vertexes.iterator;A.next();)if(1===(g=A.value).component){for(I=0,B=!1,H=(dt=g.sourceEdgesArrayAccess).length,bt=0;bt<H;bt++)I+=1,1!==(pt=dt[bt].fromVertex).component?a+=1:B=!0;for(H=(dt=g.destinationEdgesArrayAccess).length,bt=0;bt<H;bt++)--I,1!==(Rt=(pt=dt[bt]).toVertex).component&&(--a,Rt=g.layer-Rt.layer,pt=t.linkMinLength(pt),u=Math.min(u,Rt-pt));(null===_||I>c)&&!B&&(_=g,c=I)}if(0>a){for(o.reset();o.next();)1===(a=o.value).component&&(a.layer-=u);e.component=0}else _.component=0}}}function WM(t,e,o){return 90===t.K?o&&!e.rev||!o&&e.rev?270:90:180===t.K?o&&!e.rev||!o&&e.rev?0:180:270===t.K?o&&!e.rev||!o&&e.rev?90:270:o&&!e.rev||!o&&e.rev?180:0}function YM(t,e){var o=e.layer;for(e.index=t.zb[o],t.zb[o]++,e=e.destinationEdgesArrayAccess,o=!0;o;){o=!1;for(var a=0;a<e.length-1;a++){var u=e[a],c=e[a+1];u.portFromColOffset>c.portFromColOffset&&(o=!0,e[a]=c,e[a+1]=u)}}for(o=0;o<e.length;o++)(a=e[o]).valid&&-1===(a=a.toVertex).index&&YM(t,a)}function iw(t,e){var o=e.layer;e.index=t.zb[o],t.zb[o]++,e=e.sourceEdgesArrayAccess;for(var a=!0;a;)for(a=!1,o=0;o<e.length-1;o++){var u=e[o],c=e[o+1];u.portToColOffset>c.portToColOffset&&(a=!0,e[o]=c,e[o+1]=u)}for(o=0;o<e.length;o++)(a=e[o]).valid&&-1===(a=a.fromVertex).index&&iw(t,a)}function Rh(t,e,o){var a=nh(t,e),u=t.zb[e],c=ew(t,e,o),g=Hb(t,e,o);for(o=0;o<u;o++)-1===g[o]&&(g[o]=a[o].column),-1===c[o]&&(c[o]=a[o].column);for(var A,_=!0;_;)for(_=!1,o=0;o<u-1;o++)(c[o+1]<c[o]||c[o+1]===c[o]&&g[o+1]<g[o])&&(_=!0,A=c[o],c[o]=c[o+1],c[o+1]=A,A=g[o],g[o]=g[o+1],g[o+1]=A,A=a[o],a[o]=a[o+1],a[o+1]=A);for(o=c=0;o<u;o++)(A=a[o]).index=o,c+=t.nodeMinColumnSpace(A,!0),A.column=c,c+=1,c+=t.nodeMinColumnSpace(A,!1);rh(t,e,a)}function Za(t,e,o){var a=nh(t,e),u=t.zb[e];o=zb(t,e,o);var c,g=[];for(c=0;c<u;c++)g[c]=-1;var _=[];for(c=0;c<u;c++)_[c]=-1;for(var A=!1,I=!0;I;)for(I=!1,c=0;c<u-1;c++){var B=o[a[c].index*u+a[c+1].index],H=o[a[c+1].index*u+a[c].index],dt=0,bt=0,pt=a[c].column,Rt=a[c+1].column,Xt=t.nodeMinColumnSpace(a[c],!0),$t=t.nodeMinColumnSpace(a[c],!1),ie=t.nodeMinColumnSpace(a[c+1],!0),oe=t.nodeMinColumnSpace(a[c+1],!1);Xt=pt-Xt+ie,$t=Rt-$t+oe;var ce=a[c].sourceEdges.iterator;for(ce.reset();ce.next();)if(oe=(ie=ce.value).fromVertex,ie.valid&&oe.layer===e){for(ie=0;a[ie]!==oe;)ie++;ie<c&&(dt+=2*(c-ie),bt+=2*(c+1-ie)),ie===c+1&&(dt+=1),ie>c+1&&(dt+=4*(ie-c),bt+=4*(ie-(c+1)))}for((ce=a[c].destinationEdges.iterator).reset();ce.next();)if(oe=(ie=ce.value).toVertex,ie.valid&&oe.layer===e){for(ie=0;a[ie]!==oe;)ie++;ie===c+1&&(bt+=1)}for((ce=a[c+1].sourceEdges.iterator).reset();ce.next();)if(oe=(ie=ce.value).fromVertex,ie.valid&&oe.layer===e){for(ie=0;a[ie]!==oe;)ie++;ie<c&&(dt+=2*(c+1-ie),bt+=2*(c-ie)),ie===c&&(bt+=1),ie>c+1&&(dt+=4*(ie-(c+1)),bt+=4*(ie-c))}for((ce=a[c+1].destinationEdges.iterator).reset();ce.next();)if(oe=(ie=ce.value).toVertex,ie.valid&&oe.layer===e){for(ie=0;a[ie]!==oe;)ie++;ie===c&&(dt+=1)}ie=oe=0;var _e=_[a[c].index],Je=g[a[c+1].index],Si=_[a[c+1].index];-1!==(ce=g[a[c].index])&&(oe+=Math.abs(ce-pt),ie+=Math.abs(ce-$t)),-1!==_e&&(oe+=Math.abs(_e-pt),ie+=Math.abs(_e-$t)),-1!==Je&&(oe+=Math.abs(Je-Rt),ie+=Math.abs(Je-Xt)),-1!==Si&&(oe+=Math.abs(Si-Rt),ie+=Math.abs(Si-Xt)),(bt<dt-.5||bt===dt&&H<B-.5||bt===dt&&H===B&&ie<oe-.5)&&(I=A=!0,a[c].column=$t,a[c+1].column=Xt,B=a[c],a[c]=a[c+1],a[c+1]=B)}for(c=0;c<u;c++)a[c].index=c;return rh(t,e,a),A}function Oa(t,e,o){for(var a=!1;Gm(t,e,o);)a=!0;return a}function Gm(t,e,o){var a,u=nh(t,e),c=t.zb[e],g=Hb(t,e,-1);if(0<o)for(a=0;a<c;a++)g[a]=-1;var _=Hb(t,e,1);if(0>o)for(a=0;a<c;a++)_[a]=-1;for(var A=!1,I=!0;I;)for(I=!1,a=0;a<c;a++){var bt,B=u[a].column,H=t.nodeMinColumnSpace(u[a],!0),dt=t.nodeMinColumnSpace(u[a],!1);bt=0>a-1||B-u[a-1].column-1>H+t.nodeMinColumnSpace(u[a-1],!1)?B-1:B,H=a+1>=c||u[a+1].column-B-1>dt+t.nodeMinColumnSpace(u[a+1],!0)?B+1:B;var pt=dt=0,Rt=0;if(0>=o)for(var Xt=u[a].sourceEdges.iterator;Xt.next();){var $t=Xt.value,ie=$t.fromVertex;if($t.valid&&ie.layer!==e){var oe=tw($t),ce=$t.portFromColOffset;$t=$t.portToColOffset,ie=ie.column,dt+=(Math.abs(B+$t-(ie+ce))+1)*oe,pt+=(Math.abs(bt+$t-(ie+ce))+1)*oe,Rt+=(Math.abs(H+$t-(ie+ce))+1)*oe}}if(0<=o)for(Xt=u[a].destinationEdges.iterator;Xt.next();)ie=($t=Xt.value).toVertex,$t.valid&&ie.layer!==e&&(oe=tw($t),ce=$t.portFromColOffset,$t=$t.portToColOffset,ie=ie.column,dt+=(Math.abs(B+ce-(ie+$t))+1)*oe,pt+=(Math.abs(bt+ce-(ie+$t))+1)*oe,Rt+=(Math.abs(H+ce-(ie+$t))+1)*oe);$t=ce=oe=0,ie=_[u[a].index],-1!==(Xt=g[u[a].index])&&(oe+=Math.abs(Xt-B),ce+=Math.abs(Xt-bt),$t+=Math.abs(Xt-H)),-1!==ie&&(oe+=Math.abs(ie-B),ce+=Math.abs(ie-bt),$t+=Math.abs(ie-H)),pt<dt||pt===dt&&ce<oe?(I=A=!0,u[a].column=bt):(Rt<dt||Rt===dt&&$t<oe)&&(I=A=!0,u[a].column=H)}return rh(t,e,u),t.normalize(),A}function Bv(t,e,o){var a=nh(t,e),u=t.zb[e],c=ew(t,e,o),g=[];for(o=0;o<u;o++)g[o]=c[o];for(c=!0;c;)for(c=!1,o=0;o<u;o++){var _=a[o].column,A=t.nodeMinColumnSpace(a[o],!0),I=t.nodeMinColumnSpace(a[o],!1),B=0;if(-1===g[o])if(0===o&&o===u-1)B=_;else if(0===o){var H=a[o+1].column;B=H-_===I+t.nodeMinColumnSpace(a[o+1],!0)?_-1:_}else B=o===u-1?_-(H=a[o-1].column)===A+t.nodeMinColumnSpace(a[o-1],!1)?_+1:_:((A=(H=a[o-1].column)+t.nodeMinColumnSpace(a[o-1],!1)+A+1)+(I=(H=a[o+1].column)-t.nodeMinColumnSpace(a[o+1],!0)-I-1))/2|0;else 0===o&&o===u-1?B=g[o]:0===o?(I=(H=a[o+1].column)-t.nodeMinColumnSpace(a[o+1],!0)-I-1,B=Math.min(g[o],I)):o===u-1?(A=(H=a[o-1].column)+t.nodeMinColumnSpace(a[o-1],!1)+A+1,B=Math.max(g[o],A)):(A=(H=a[o-1].column)+t.nodeMinColumnSpace(a[o-1],!1)+A+1,I=(H=a[o+1].column)-t.nodeMinColumnSpace(a[o+1],!0)-I-1,A<g[o]&&g[o]<I?B=g[o]:A>=g[o]?B=A:I<=g[o]&&(B=I));B!==_&&(c=!0,a[o].column=B)}rh(t,e,a),t.normalize()}function Cc(t,e){for(var o=!0,a=t.network.vertexes.iterator;a.next();){var u=a.value,c=t.nodeMinColumnSpace(u,!0),g=t.nodeMinColumnSpace(u,!1);if(u.column-c<=e&&u.column+g>=e){o=!1;break}}if(t=!1,o)for(a.reset();a.next();)(o=a.value).column>e&&(--o.column,t=!0);return t}function Pr(t,e){var a,o=e+1,u=[],c=[];for(a=0;a<=t.sa;a++)u[a]=!1,c[a]=!1;for(var g=t.network.vertexes.iterator;g.next();){var _=(a=g.value).column-t.nodeMinColumnSpace(a,!0),A=a.column+t.nodeMinColumnSpace(a,!1);_<=e&&A>=e&&(u[a.layer]=!0),_<=o&&A>=o&&(c[a.layer]=!0)}for(_=!0,o=!1,a=0;a<=t.sa;a++)_=_&&!(u[a]&&c[a]);if(_)for(g.reset();g.next();)(t=g.value).column>e&&(--t.column,o=!0);return o}function Wm(t,e){for(var o=0;o<=t.Ca;o++)for(;Cc(t,o););for(t.normalize(),o=0;o<t.Ca;o++)for(;Pr(t,o););var a;if(t.normalize(),0<e)for(o=0;o<=t.Ca;o++){var u=Ra(t),c=Qn(t);for(a=c+1;c<a;){a=c,Ym(t,o,1);var g=Qn(t);g>c?uu(t,u):g<c&&(c=g,u=Ra(t))}}if(0>e)for(o=t.Ca;0<=o;o--)for(u=Ra(t),a=(c=Qn(t))+1;c<a;)a=c,Ym(t,o,-1),(g=Qn(t))>c?uu(t,u):g<c&&(c=g,u=Ra(t));t.normalize()}function Ym(t,e,o){t.Ec=0;for(var a=t.network.vertexes.iterator;a.next();)a.value.component=-1;if(0<o)for(a.reset();a.next();){var u=a.value;u.column-t.nodeMinColumnSpace(u,!0)<=e&&(u.component=t.Ec)}if(0>o)for(a.reset();a.next();)(u=a.value).column+t.nodeMinColumnSpace(u,!1)>=e&&(u.component=t.Ec);for(t.Ec++,a.reset();a.next();)-1===(e=a.value).component&&(Ub(t,e,t.Ec,-1,!0,!0),t.Ec++);var c;for(e=[],c=0;c<t.Ec*t.Ec;c++)e[c]=!1;for(u=[],c=0;c<(t.sa+1)*(t.Ca+1);c++)u[c]=-1;for(a.reset();a.next();)for(var g=(c=a.value).layer,_=Math.max(0,c.column-t.nodeMinColumnSpace(c,!0)),A=Math.min(t.Ca,c.column+t.nodeMinColumnSpace(c,!1));_<=A;_++)u[g*(t.Ca+1)+_]=c.component;for(c=0;c<=t.sa;c++){if(0<o)for(g=0;g<t.Ca;g++)-1!==u[c*(t.Ca+1)+g]&&-1!==u[c*(t.Ca+1)+g+1]&&u[c*(t.Ca+1)+g]!==u[c*(t.Ca+1)+g+1]&&(e[u[c*(t.Ca+1)+g]*t.Ec+u[c*(t.Ca+1)+g+1]]=!0);if(0>o)for(g=t.Ca;0<g;g--)-1!==u[c*(t.Ca+1)+g]&&-1!==u[c*(t.Ca+1)+g-1]&&u[c*(t.Ca+1)+g]!==u[c*(t.Ca+1)+g-1]&&(e[u[c*(t.Ca+1)+g]*t.Ec+u[c*(t.Ca+1)+g-1]]=!0)}for(u=[],c=0;c<t.Ec;c++)u[c]=!0;for((g=[]).push(0);0!==g.length;)if(A=g[g.length-1],g.pop(),u[A])for(u[A]=!1,c=0;c<t.Ec;c++)e[A*t.Ec+c]&&g.splice(0,0,c);if(0<o)for(a.reset();a.next();)u[(t=a.value).component]&&--t.column;if(0>o)for(a.reset();a.next();)u[(o=a.value).component]&&(o.column+=1)}function wp(t,e){return 270===t.K?e?aa:Zo:90===t.K?e?Zo:aa:180===t.K?e?Ko:kr:e?kr:Ko}function nh(t,e){var o=t.zb[e];if(o>=t.xe.length){for(var a=[],u=0;u<t.xe.length;u++)a[u]=t.xe[u];t.xe=a}for(null==t.xe[o]?a=[]:(a=t.xe[o],t.xe[o]=null),t=t.gp[e],e=0;e<t.length;e++)a[(o=t[e]).index]=o;return a}function rh(t,e,o){t.xe[t.zb[e]]=o}Kr.className="CircularLayout",Kr.ConstantSpacing=Gl,Kr.ConstantDistance=vp,Kr.ConstantAngle=pd,Kr.Packed=lu,Kr.Clockwise=ra,Kr.Counterclockwise=md,Kr.BidirectionalLeft=yp,Kr.BidirectionalRight=Iv,Kr.Forwards=Qx,Kr.Reverse=D0,Kr.Ascending=Rv,Kr.Descending=o1,Kr.Optimized=Hm,Kr.Pythagorean=s1,Kr.Circular=E0,a1.prototype.compare=function(t,e){if(0<t&&0>this.Am||Math.abs(t)<Math.abs(this.Am)&&!(0>t&&0<this.Am))for(this.Am=t,this.Wk=[],this.cn=[],t=0;t<e.length;t++)this.Wk[t]=e[t].bounds.x,this.cn[t]=e[t].bounds.y},a1.prototype.commit=function(t){if(null!==this.Wk&&null!==this.cn)for(var e=0;e<this.Wk.length;e++){var o=t.J(e);o.x=this.Wk[e],o.y=this.cn[e]}},a1.className="VertexArrangement",K(Ov,rr),Ov.prototype.createVertex=function(){return new l1(this)},Ov.prototype.createEdge=function(){return new u1(this)},Ov.className="CircularNetwork",K(l1,Do),W.Object.defineProperties(l1.prototype,{diameter:{get:function(){return this.Gj},set:function(t){this.Gj!==t&&(this.Gj=t)}},actualAngle:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t)}}}),l1.className="CircularVertex",K(u1,zs),u1.className="CircularEdge",K(ds,Ln),ds.prototype.cloneProtected=function(t){Ln.prototype.cloneProtected.call(this,t),t.Pd.assign(this.Pd),t.on=this.on,t.kf=this.kf,t.jd=this.jd,t.Rl=this.Rl,t.Xn=this.Xn,t.Xf=this.Xf,t.bp=this.bp,t.Bp=this.Bp,t.ol=this.ol,t.nl=this.nl,t.ll=this.ll,t.ml=this.ml,t.On=this.On,t.Nn=this.Nn},ds.prototype.serializeLayoutProperties=function(t,e){Ln.prototype.serializeLayoutProperties.call(this,t,e),t.arrangementSpacing={width:this.arrangementSpacing.width,height:this.arrangementSpacing.height},t.arrangesToOrigin=this.arrangesToOrigin,t.setsPortSpots=this.setsPortSpots,t.comments=this.comments,t.maxIterations=this.maxIterations,t.epsilonDistance=this.epsilonDistance,t.infinityDistance=this.infinityDistance,t.moveLimit=this.moveLimit,t.defaultSpringStiffness=this.defaultSpringStiffness,t.defaultSpringLength=this.defaultSpringLength,t.defaultElectricalCharge=this.defaultElectricalCharge,t.defaultGravitationalMass=this.defaultGravitationalMass,t.defaultCommentSpringLength=this.defaultCommentSpringLength,t.defaultCommentElectricalCharge=this.defaultCommentElectricalCharge},ds.prototype.deserializeLayoutProperties=function(t,e,o,a,u){Ln.prototype.deserializeLayoutProperties.call(this,t,e,o,a,u),this.arrangementSpacing=new He(t.arrangementSpacing.width,t.arrangementSpacing.height),this.arrangesToOrigin=t.arrangesToOrigin,this.setsPortSpots=t.setsPortSpots,this.comments=t.comments,this.maxIterations=t.maxIterations,this.epsilonDistance=t.epsilonDistance,this.infinityDistance=t.infinityDistance,this.moveLimit=t.moveLimit,this.defaultSpringStiffness=t.defaultSpringStiffness,this.defaultSpringLength=t.defaultSpringLength,this.defaultElectricalCharge=t.defaultElectricalCharge,this.defaultGravitationalMass=t.defaultGravitationalMass,this.defaultCommentSpringLength=t.defaultCommentSpringLength,this.defaultCommentElectricalCharge=t.defaultCommentElectricalCharge},ds.prototype.createNetwork=function(){return new Wl(this)},ds.prototype.doLayout=function(t){if(null===this.network&&(this.network=this.makeNetwork(t)),!this.Uw()){if(t=this.maxIterations,0<this.network.vertexes.count){this.network.Bq();for(var e=this.network.vertexes.iterator;e.next();){var o=e.value;o.charge=this.electricalCharge(o),o.mass=this.gravitationalMass(o)}for(e=this.network.edges.iterator;e.next();)(o=e.value).stiffness=this.springStiffness(o),o.length=this.springLength(o);if(this.Fv(),this.Eo=0,this.needsClusterLayout()){for(var a=(o=(e=this.network).Xy()).iterator;a.next();){this.network=a.value;for(var u=this.network.vertexes.iterator;u.next();){var c=u.value;c.Ld=c.vertexes.count,c.Sh=1,c.qk=null,c.Ne=null}Vb(this,0,t)}this.network=e;var g=a=o.iterator;a=this.arrangementSpacing;var _=g.count,A=!0;c=u=0;for(var I=h(),B=0;B<_+e.vertexes.count+2;B++)I[B]=null;_=0,g.reset();for(var H=te.alloc();g.next();)if(this.computeBounds(B=g.value,H),A)A=!1,u=H.x+H.width/2,c=H.y+H.height/2,I[0]=new at(H.x+H.width+a.width,H.y),I[1]=new at(H.x,H.y+H.height+a.height),_=2;else{var dt=Jx(I,_,u,c,H.width,H.height,a),bt=I[dt],pt=new at(bt.x+H.width+a.width,bt.y),Rt=new at(bt.x,bt.y+H.height+a.height);for(dt+1<_&&I.splice(dt+1,0,null),I[dt]=pt,I[dt+1]=Rt,_++,dt=bt.x-H.x,bt=bt.y-H.y,B=B.vertexes.iterator;B.next();)(pt=B.value).centerX+=dt,pt.centerY+=bt}for(te.free(H),B=e.vertexes.iterator;B.next();)dt=(g=B.value).bounds,2>_?(u=dt.x+dt.width/2,c=dt.y+dt.height/2,I[0]=new at(dt.x+dt.width+a.width,dt.y),I[1]=new at(dt.x,dt.y+dt.height+a.height),_=2):(bt=new at((H=I[A=Jx(I,_,u,c,dt.width,dt.height,a)]).x+dt.width+a.width,H.y),dt=new at(H.x,H.y+dt.height+a.height),A+1<_&&I.splice(A+1,0,null),I[A]=bt,I[A+1]=dt,_++,g.centerX=H.x+g.width/2,g.centerY=H.y+g.height/2);for(m(I),a=o.iterator;a.next();){for(u=(o=a.value).vertexes.iterator;u.next();)e.Bg(u.value);for(o=o.edges.iterator;o.next();)e.tm(o.value)}}jb(this,t),this.updateParts()}this.Rl=t,this.network=null,this.isValidLayout=!0}},ds.prototype.needsClusterLayout=function(){if(3>this.network.vertexes.count)return!1;for(var t=0,e=0,o=this.network.vertexes.first().bounds,a=this.network.vertexes.iterator;a.next();){if(a.value.bounds.Mc(o)&&2<++t)return!0;if(10<e)break;e++}return!1},ds.prototype.computeBounds=function(t,e){var o=!0;for(t=t.vertexes.iterator;t.next();){var a=t.value;o?(o=!1,e.set(a.bounds)):e.Rc(a.bounds)}return e},ds.prototype.Fv=function(){if(this.comments)for(var t=this.network.vertexes.iterator;t.next();)this.addComments(t.value)},ds.prototype.addComments=function(t){var e=t.node;if(null!==e)for(e=e.Sv();e.next();){var o=e.value;if("Comment"===o.category&&o.isVisible()){var a=this.network.kj(o);null===a&&(a=this.network.mk(o)),a.charge=this.defaultCommentElectricalCharge,o=null;for(var u=a.destinationEdges;u.next();){var c=u.value;if(c.toVertex===t){o=c;break}}if(null===o)for(u=a.sourceEdges;u.next();)if((c=u.value).fromVertex===t){o=c;break}null===o&&(o=this.network.Fk(t,a,null)),o.length=this.defaultCommentSpringLength}}},ds.prototype.moveVertex=function(t){var e=t.forceX,o=t.forceY,a=this.moveLimit;return e<-a?e=-a:e>a&&(e=a),o<-a?o=-a:o>a&&(o=a),t.centerX+=e,t.centerY+=o,e*e+o*o},ds.prototype.moveFixedVertex=function(){},ds.prototype.commitLayout=function(){this.Dw(),this.commitNodes(),this.isRouting&&this.commitLinks()},ds.prototype.Dw=function(){if(this.setsPortSpots)for(var t=this.network.edges.iterator;t.next();){var e=t.value.link;null!==e&&(e.fromSpot=Os,e.toSpot=Os)}},ds.prototype.commitNodes=function(){var t=0,e=0;if(this.arrangesToOrigin){var o=te.alloc();this.computeBounds(this.network,o),t=(e=this.arrangementOrigin).x-o.x,e=e.y-o.y,te.free(o)}o=te.alloc();for(var a=this.network.vertexes.iterator;a.next();){var u=a.value;(0!==t||0!==e)&&(o.assign(u.bounds),o.x+=t,o.y+=e,u.bounds=o),u.commit()}te.free(o)},ds.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},ds.prototype.springStiffness=function(t){return t=t.stiffness,isNaN(t)?this.ol:t},ds.prototype.springLength=function(t){return t=t.length,isNaN(t)?this.nl:t},ds.prototype.electricalCharge=function(t){return t=t.charge,isNaN(t)?this.ll:t},ds.prototype.electricalFieldX=function(){return 0},ds.prototype.electricalFieldY=function(){return 0},ds.prototype.gravitationalMass=function(t){return t=t.mass,isNaN(t)?this.ml:t},ds.prototype.gravitationalFieldX=function(){return 0},ds.prototype.gravitationalFieldY=function(){return 0},ds.prototype.isFixed=function(t){return t.isFixed},W.Object.defineProperties(ds.prototype,{currentIteration:{get:function(){return this.Eo}},arrangementSpacing:{get:function(){return this.Pd},set:function(t){this.Pd.w(t)||(this.Pd.assign(t),this.C())}},arrangesToOrigin:{get:function(){return this.on},set:function(t){this.on!==t&&(this.on=t,this.C())}},setsPortSpots:{get:function(){return this.kf},set:function(t){this.kf!==t&&(this.kf=t,this.C())}},comments:{get:function(){return this.jd},set:function(t){this.jd!==t&&(this.jd=t,this.C())}},maxIterations:{get:function(){return this.Rl},set:function(t){this.Rl!==t&&0<=t&&(this.Rl=t,this.C())}},epsilonDistance:{get:function(){return this.Xn},set:function(t){this.Xn!==t&&0<t&&(this.Xn=t,this.C())}},infinityDistance:{get:function(){return this.Xf},set:function(t){this.Xf!==t&&1<t&&(this.Xf=t,this.C())}},moveLimit:{get:function(){return this.bp},set:function(t){this.bp!==t&&1<t&&(this.bp=t,this.C())}},randomNumberGenerator:{get:function(){return this.Bp},set:function(t){this.Bp!==t&&(null!==t&&"function"!=typeof t.random&&V('ForceDirectedLayout.randomNumberGenerator must have a "random()" function on it: '+t),this.Bp=t)}},defaultSpringStiffness:{get:function(){return this.ol},set:function(t){this.ol!==t&&(this.ol=t,this.C())}},defaultSpringLength:{get:function(){return this.nl},set:function(t){this.nl!==t&&(this.nl=t,this.C())}},defaultElectricalCharge:{get:function(){return this.ll},set:function(t){this.ll!==t&&(this.ll=t,this.C())}},defaultGravitationalMass:{get:function(){return this.ml},set:function(t){this.ml!==t&&(this.ml=t,this.C())}},defaultCommentSpringLength:{get:function(){return this.On},set:function(t){this.On!==t&&(this.On=t,this.C())}},defaultCommentElectricalCharge:{get:function(){return this.Nn},set:function(t){this.Nn!==t&&(this.Nn=t,this.C())}}}),ds.className="ForceDirectedLayout",LS.className="ForceDirectedSubnet",K(Wl,rr),Wl.prototype.createVertex=function(){return new Nv(this)},Wl.prototype.createEdge=function(){return new Lv(this)},Wl.className="ForceDirectedNetwork",K(Nv,Do),Nv.prototype.serializeVertexProperties=function(t,e){Do.prototype.serializeVertexProperties.call(this,t,e),t.isFixed=this.isFixed,t.charge=this.charge,t.mass=this.mass},Nv.prototype.Cq=function(t,e,o,a){Do.prototype.Cq.call(this,t,e,o,a),this.isFixed=t.isFixed,this.charge=t.charge,this.mass=t.mass},W.Object.defineProperties(Nv.prototype,{isFixed:{get:function(){return this.La},set:function(t){this.La!==t&&(this.La=t)}},charge:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t)}},mass:{get:function(){return this.eb},set:function(t){this.eb!==t&&(this.eb=t)}},forceX:{get:function(){return this.T},set:function(t){this.T!==t&&(this.T=t)}},forceY:{get:function(){return this.Ka},set:function(t){this.Ka!==t&&(this.Ka=t)}}}),Nv.className="ForceDirectedVertex",K(Lv,zs),Lv.prototype.serializeEdgeProperties=function(t,e){zs.prototype.serializeEdgeProperties.call(this,t,e),t.stiffness=this.stiffness,t.length=this.length},Lv.prototype.deserializeEdgeProperties=function(t,e,o,a){zs.prototype.deserializeEdgeProperties.call(this,t,e,o,a),this.stiffness=t.stiffness,this.length=t.length},W.Object.defineProperties(Lv.prototype,{stiffness:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},length:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t)}}}),Lv.className="ForceDirectedEdge",h1.prototype.random=function(){var t=this.seed%this.Q*this.Zy-this.seed/this.Q*this.bz;return this.seed=0<t?t:t+this.az,this.seed*this.$y},h1.className="RandomNumberGenerator",K(Wn,Ln),Wn.prototype.cloneProtected=function(t){Ln.prototype.cloneProtected.call(this,t),t.ue=this.ue,t.Zb=this.Zb,t.K=this.K,t.jl=this.jl,t.Ml=this.Ml,t.Bl=this.Bl,t.Rj=this.Rj,t.Zk=this.Zk,t.ng=this.ng,t.kf=this.kf,t.Mo=this.Mo},Wn.prototype.serializeLayoutProperties=function(t,e){Ln.prototype.serializeLayoutProperties.call(this,t,e),t.layerSpacing=this.layerSpacing,t.columnSpacing=this.columnSpacing,t.direction=this.direction,t.cycleRemoveOption=this.cycleRemoveOption.name,t.layeringOption=this.layeringOption.name,t.initializeOption=this.initializeOption.name,t.iterations=this.iterations,t.aggressiveOption=this.aggressiveOption.name,t.packOption=this.packOption,t.setsPortSpots=this.setsPortSpots,t.linkSpacing=this.linkSpacing,t.sa=this.sa,t.Ji=this.Ji,t.Ca=this.Ca,t.mh=this.mh,t.pc=this.pc,t.zb=this.zb,t.oh=this.oh,t.Ec=this.Ec,t.Vc={x:this.Vc.x,y:this.Vc.y}},Wn.prototype.deserializeLayoutProperties=function(t,e,o,a,u){Ln.prototype.deserializeLayoutProperties.call(this,t,e,o,a,u),this.layerSpacing=t.layerSpacing,this.columnSpacing=t.columnSpacing,this.direction=t.direction,this.cycleRemoveOption=Ft(Wn,t.cycleRemoveOption),this.layeringOption=Ft(Wn,t.layeringOption),this.initializeOption=Ft(Wn,t.initializeOption),this.iterations=t.iterations,this.aggressiveOption=Ft(Wn,t.aggressiveOption),this.packOption=t.packOption,this.setsPortSpots=t.setsPortSpots,this.linkSpacing=t.linkSpacing,this.sa=t.sa,this.Ji=t.Ji,this.Ca=t.Ca,this.mh=t.mh,this.pc=t.pc,this.zb=t.zb,this.oh=t.oh,this.Ec=t.Ec,this.Vc=new at(this.Vc.x,this.Vc.y),u&&!a&&u.edges.each(function(c){if(!c.link&&c.fromVertex&&c.toVertex&&(null===c.fromVertex.node||null===c.toVertex.node)){for(var g=c.fromVertex;null!==g&&null===g.node&&0<g.td.count;){var _=g.td.J(0);if(_.link){c.link=_.link;break}g=_.fromVertex}if(!c.link){for(_=c.toVertex;null!==_&&null===_.node&&0<_.Gd.count;){var A=_.Gd.J(0);if(A.link){c.link=A.link;break}_=A.toVertex}if(!c.link)for(_=_.td.iterator;_.next();)if((A=_.value).link&&A.fromVertex===g){c.link=A.link;break}}}})},Wn.prototype.jb=function(t){t.classType===Wn?0===t.name.indexOf("Aggressive")?this.aggressiveOption=t:0===t.name.indexOf("Cycle")?this.cycleRemoveOption=t:0===t.name.indexOf("Init")?this.initializeOption=t:0===t.name.indexOf("Layer")?this.layeringOption=t:V("Unknown enum value: "+t):Ln.prototype.jb.call(this,t)},Wn.prototype.createNetwork=function(){return new Mn(this)},Wn.prototype.doLayout=function(t){for(null===this.network&&(this.network=this.makeNetwork(t)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),this.Ji=-1,this.pc=this.mh=0,this.gp=this.fp=this.Wj=null,t=0;t<this.xe.length;t++)this.xe[t]=null;if(0<this.network.vertexes.count){if(this.network.Bq(),this.Uw())return;for(this.cycleRemoveOption!==gd&&this.removeCycles(),t=this.network.vertexes.iterator;t.next();)t.value.layer=-1;for(this.sa=-1,this.assignLayers(),t.reset();t.next();)this.sa=Math.max(this.sa,t.value.layer);this.cycleRemoveOption===gd&&this.removeCycles();for(var e=[],o=(t=this.network).edges.iterator;o.next();){var a=o.value;a.valid=!1,e.push(a)}for(o=0;o<e.length;o++){var u=(a=e[o]).fromVertex,c=a.toVertex;if(!(a.valid||(null===u.node&&null===u.data||null===c.node&&null===c.data)&&u.layer===c.layer)){var g=0,_=0,A=0,I=0;if(null!==a.link){if(null===(_=a.link))continue;var B=u.node;if(g=c.node,null===B||null===g)continue;var H=_.fromNode;A=_.toNode;var dt=_.fromPort;if(_=_.toPort,a.rev){I=H;var bt=dt;H=A,dt=_,A=I,_=bt}var pt=u.focus;I=c.focus;var Rt=a.rev?c.bounds:u.bounds;bt=at.alloc(),B!==H?Rt.o()&&H.isVisible()?H.actualBounds.o()?(H.Df(dt,Vi,bt),bt.x+=H.actualBounds.x-Rt.x,bt.y+=H.actualBounds.y-Rt.y):(H.Df(dt,Vi,bt),bt.o()||bt.assign(pt)):bt.assign(pt):Rt.o()?(H.Df(dt,Vi,bt),bt.o()||bt.assign(pt)):bt.assign(pt),H=a.rev?u.bounds:c.bounds,B=at.alloc(),g!==A?H.o()&&A.isVisible()?A.actualBounds.o()?(A.Df(_,Vi,B),B.x+=A.actualBounds.x-H.x,B.y+=A.actualBounds.y-H.y):(A.Df(_,Vi,B),B.o()||B.assign(I)):B.assign(I):H.o()?(A.Df(_,Vi,B),B.o()||B.assign(I)):B.assign(I),90===this.K||270===this.K?(g=Math.round((bt.x-pt.x)/this.Zb),A=bt.x,_=Math.round((B.x-I.x)/this.Zb),I=B.x):(g=Math.round((bt.y-pt.y)/this.Zb),A=bt.y,_=Math.round((B.y-I.y)/this.Zb),I=B.y),at.free(bt),at.free(B),a.portFromColOffset=g,a.portFromPos=A,a.portToColOffset=_,a.portToPos=I}else a.portFromColOffset=0,a.portFromPos=0,a.portToColOffset=0,a.portToPos=0;if(bt=u.layer,B=c.layer,H=0,null!==(Rt=a.link)){var Xt=Rt.fromPort,$t=Rt.toPort;if(null!==Xt&&null!==$t){var ie=Rt.fromNode;if(dt=Rt.toNode,null!==ie&&null!==dt){var oe=wp(this,!0),ce=wp(this,!1),_e=this.setsPortSpots?oe:Rt.computeSpot(!0,Xt);pt=this.setsPortSpots?ce:Rt.computeSpot(!1,$t);var Je=Rt.isOrthogonal;_e.Oc()&&_e.Ef(ce)&&pt.Oc()&&pt.Ef(oe)?H=0:(oe=Rt.getLinkPoint(ie,Xt,_e,!0,Je,dt,$t,at.alloc()),ce=Rt.getLinkDirection(ie,Xt,oe,_e,!0,Je,dt,$t),at.free(oe),_e.Vt()||ce!==WM(this,a,!0)?this.setsPortSpots&&null!==ie&&1===ie.ports.count&&a.rev&&(H+=1):H+=1,_e=Rt.getLinkPoint(dt,$t,pt,!1,Je,ie,Xt,at.alloc()),Rt=Rt.getLinkDirection(dt,$t,_e,pt,!1,Je,ie,Xt),at.free(_e),pt.Vt()||Rt!==WM(this,a,!1)?this.setsPortSpots&&null!==dt&&1===dt.ports.count&&a.rev&&(H+=2):H+=2)}}}if(H=1===(dt=H)||3===dt,(dt=2===dt||3===dt)&&((pt=t.createVertex()).node=null,pt.wf=1,pt.layer=bt,pt.near=u,t.Bg(pt),(u=t.Fk(u,pt,a.link)).valid=!1,u.rev=a.rev,u.portFromColOffset=g,u.portToColOffset=0,u.portFromPos=A,u.portToPos=0,u=pt),Rt=1,H&&Rt--,bt-B>Rt&&0<bt){for(a.valid=!1,(pt=t.createVertex()).node=null,pt.wf=2,pt.layer=bt-1,t.Bg(pt),(u=t.Fk(u,pt,a.link)).valid=!0,u.rev=a.rev,u.portFromColOffset=dt?0:g,u.portToColOffset=0,u.portFromPos=dt?0:A,u.portToPos=0,u=pt,bt--;bt-B>Rt&&0<bt;)(pt=t.createVertex()).node=null,pt.wf=3,pt.layer=bt-1,t.Bg(pt),(u=t.Fk(u,pt,a.link)).valid=!0,u.rev=a.rev,u.portFromColOffset=0,u.portToColOffset=0,u.portFromPos=0,u.portToPos=0,u=pt,bt--;(u=t.Fk(pt,c,a.link)).valid=!H,H&&(pt.near=c),u.rev=a.rev,u.portFromColOffset=0,u.portToColOffset=_,u.portFromPos=0,u.portToPos=I}else a.valid=!0}}for(t=this.zb=[],e=0;e<=this.sa;e++)t[e]=0;for(e=this.network.vertexes.iterator;e.next();)e.value.index=-1;for(this.initializeIndices(),this.Ji=-1,o=this.pc=this.mh=0;o<=this.sa;o++)t[o]>t[this.pc]&&(this.Ji=t[o]-1,this.pc=o),t[o]<t[this.mh]&&(this.mh=o);for(this.gp=[],o=0;o<t.length;o++)this.gp[o]=[];for(e.reset();e.next();)this.gp[(t=e.value).layer][t.index]=t;for(this.Ca=-1,t=0;t<=this.sa;t++){for(e=nh(this,t),o=0,a=this.zb[t],c=0;c<a;c++)o+=this.nodeMinColumnSpace(u=e[c],!0),u.column=o,o+=1,o+=this.nodeMinColumnSpace(u,!1);this.Ca=Math.max(this.Ca,o-1),rh(this,t,e)}this.reduceCrossings(),this.straightenAndPack(),this.updateParts()}this.network=null,this.isValidLayout=!0},Wn.prototype.linkMinLength=function(){return 1},Wn.prototype.nodeMinLayerSpace=function(t,e){return null===t.node&&null===t.data?0:90===this.K||270===this.K?e?t.focus.y+10:t.bounds.height-t.focus.y+10:e?t.focus.x+10:t.bounds.width-t.focus.x+10},Wn.prototype.nodeMinColumnSpace=function(t,e){if(null===t.node&&null===t.data)return 0;var o=e?t.Nk:t.Mk;return null!==o?o:90===(o=this.K)||270===o?e?t.Nk=t.focus.x/this.Zb+1|0:t.Mk=(t.bounds.width-t.focus.x)/this.Zb+1|0:e?t.Nk=t.focus.y/this.Zb+1|0:t.Mk=(t.bounds.height-t.focus.y)/this.Zb+1|0},Wn.prototype.countCrossings=function(){for(var t=0,e=0;e<=this.sa;e++)for(var o=zb(this,e,1),a=this.zb[e],u=0;u<a;u++)for(var c=u;c<a;c++)t+=o[u*a+c];return t},Wn.prototype.normalize=function(){var t=1/0;this.Ca=-1;for(var e=this.network.vertexes.iterator;e.next();){var o=e.value;t=Math.min(t,o.column-this.nodeMinColumnSpace(o,!0)),this.Ca=Math.max(this.Ca,o.column+this.nodeMinColumnSpace(o,!1))}for(e.reset();e.next();)e.value.column-=t;this.Ca-=t},Wn.prototype.removeCycles=function(){for(var t=this.network.edges.iterator;t.next();)t.value.rev=!1;switch(this.jl){default:var e=0,o=(t=this.network).vertexes.count-1,a=[];a.length=o+1;for(var u=t.vertexes.iterator;u.next();)u.value.valid=!0;for(;null!==FS(t);){for(u=UM(t);null!==u;)a[o]=u,o--,u.valid=!1,u=UM(t);for(u=GM(t);null!==u;)a[e]=u,e++,u.valid=!1,u=GM(t);u=null;for(var c=0,g=this.network.vertexes.iterator;g.next();){var _=g.value;if(_.valid){for(var A=0,I=_.destinationEdges;I.next();)I.value.toVertex.valid&&A++;I=0;for(var B=_.sourceEdges;B.next();)B.value.fromVertex.valid&&I++;(null===u||c<A-I)&&(u=_,c=A-I)}}null!==u&&(a[e]=u,e++,u.valid=!1)}for(e=0;e<t.vertexes.count;e++)a[e].index=e;for(a=t.edges.iterator;a.next();)(e=a.value).fromVertex.index>e.toVertex.index&&(t.Rm(e),e.rev=!0);break;case bp:for(a=this.network.vertexes.iterator;a.next();)(t=a.value).Cg=-1,t.finish=-1;for(t=this.network.edges.iterator;t.next();)t.value.forest=!1;for(this.oh=0,a.reset();a.next();)0===(e=a.value).sourceEdges.count&&Gb(this,e);for(a.reset();a.next();)-1===(e=a.value).Cg&&Gb(this,e);for(t.reset();t.next();)(a=t.value).forest||(o=(e=a.fromVertex).finish,c=(u=a.toVertex).finish,u.Cg<e.Cg&&o<c&&(this.network.Rm(a),a.rev=!0));break;case gd:for(e=(t=this.network).vertexes.iterator,a=1/0;e.next();)a=Math.min(a,e.value.layer);if(1/0>a){if(0>a)for(e.reset();e.next();)e.value.layer-=a;for(a=[],e.reset();e.next();)void 0===(u=a[(o=e.value).layer])?a[o.layer]=[o]:u.push(o);for(o=e=0;o<a.length;o++)if((u=a[o])&&0!==u.length){if(0<o)for(c=0;c<u.length;c++)u[c].layer-=e}else e++;for(a=t.edges.iterator;a.next();)(e=a.value).fromVertex.layer<e.toVertex.layer&&(t.Rm(e),e.rev=!0)}}},Wn.prototype.assignLayers=function(){switch(this.Ml){case nw:f1(this);break;case rw:for(var t,e=this.network.vertexes.iterator;e.next();)t=Wb(this,e.value),this.sa=Math.max(t,this.sa);for(e.reset();e.next();)(t=e.value).layer=this.sa-t.layer;break;default:for(f1(this),e=this.network.vertexes.iterator;e.next();)e.value.valid=!1;for(e.reset();e.next();)0===(t=e.value).sourceEdges.count&&Fv(this,t);for(t=1/0,e.reset();e.next();)t=Math.min(t,e.value.layer);for(this.sa=-1,e.reset();e.next();){var o=e.value;o.layer-=t,this.sa=Math.max(this.sa,o.layer)}}},Wn.prototype.initializeIndices=function(){switch(this.Bl){default:for(var t=this.network.vertexes.iterator;t.next();){var e=t.value,o=e.layer;e.index=this.zb[o],this.zb[o]++}break;case d1:for(t=this.network.vertexes.iterator,e=this.sa;0<=e;e--)for(t.reset();t.next();)(o=t.value).layer===e&&-1===o.index&&YM(this,o);break;case ow:for(t=this.network.vertexes.iterator,e=0;e<=this.sa;e++)for(t.reset();t.next();)(o=t.value).layer===e&&-1===o.index&&iw(this,o)}},Wn.prototype.reduceCrossings=function(){var o,a,c,g,_,t=this.countCrossings(),e=Ra(this);for(o=0;o<this.Rj;o++){for(a=0;a<=this.sa;a++)Rh(this,a,1),Za(this,a,1);var u=this.countCrossings();for(u<t&&(t=u,e=Ra(this)),a=this.sa;0<=a;a--)Rh(this,a,-1),Za(this,a,-1);(u=this.countCrossings())<t&&(t=u,e=Ra(this))}for(uu(this,e),o=0;o<this.Rj;o++){for(a=0;a<=this.sa;a++)Rh(this,a,0),Za(this,a,0);for((u=this.countCrossings())<t&&(t=u,e=Ra(this)),a=this.sa;0<=a;a--)Rh(this,a,0),Za(this,a,0);(u=this.countCrossings())<t&&(t=u,e=Ra(this))}switch(uu(this,e),this.Zk){case aw:break;case lw:for(_=t+1;(a=this.countCrossings())<_;)for(_=a,o=this.sa;0<=o;o--)for(g=0;g<=o;g++){for(c=!0;c;)for(c=!1,a=o;a>=g;a--)c=Za(this,a,-1)||c;for((u=this.countCrossings())>=t?uu(this,e):(t=u,e=Ra(this)),c=!0;c;)for(c=!1,a=o;a>=g;a--)c=Za(this,a,1)||c;for((u=this.countCrossings())>=t?uu(this,e):(t=u,e=Ra(this)),c=!0;c;)for(c=!1,a=g;a<=o;a++)c=Za(this,a,1)||c;for(u>=t?uu(this,e):(t=u,e=Ra(this)),c=!0;c;)for(c=!1,a=g;a<=o;a++)c=Za(this,a,-1)||c;for(u>=t?uu(this,e):(t=u,e=Ra(this)),c=!0;c;)for(c=!1,a=o;a>=g;a--)c=Za(this,a,0)||c;for(u>=t?uu(this,e):(t=u,e=Ra(this)),c=!0;c;)for(c=!1,a=g;a<=o;a++)c=Za(this,a,0)||c;u>=t?uu(this,e):(t=u,e=Ra(this))}break;default:for(o=this.sa,g=0,_=t+1;(a=this.countCrossings())<_;){for(_=a,c=!0;c;)for(c=!1,a=o;a>=g;a--)c=Za(this,a,-1)||c;for((u=this.countCrossings())>=t?uu(this,e):(t=u,e=Ra(this)),c=!0;c;)for(c=!1,a=o;a>=g;a--)c=Za(this,a,1)||c;for((u=this.countCrossings())>=t?uu(this,e):(t=u,e=Ra(this)),c=!0;c;)for(c=!1,a=g;a<=o;a++)c=Za(this,a,1)||c;for(u>=t?uu(this,e):(t=u,e=Ra(this)),c=!0;c;)for(c=!1,a=g;a<=o;a++)c=Za(this,a,-1)||c;for(u>=t?uu(this,e):(t=u,e=Ra(this)),c=!0;c;)for(c=!1,a=o;a>=g;a--)c=Za(this,a,0)||c;for(u>=t?uu(this,e):(t=u,e=Ra(this)),c=!0;c;)for(c=!1,a=g;a<=o;a++)c=Za(this,a,0)||c;u>=t?uu(this,e):(t=u,e=Ra(this))}}uu(this,e)},Wn.prototype.straightenAndPack=function(){var t=0!=(1&this.ng),e=0!=(this.ng&$M);if(1e3<this.network.edges.count&&e&&(t=!1),t){var o=[];for(e=0;e<=this.sa;e++)o[e]=0;for(var a,u=this.network.vertexes.iterator;u.next();){var c=u.value;e=c.layer,a=c.column,c=this.nodeMinColumnSpace(c,!1),o[e]=Math.max(o[e],a+c)}for(u.reset();u.next();)(c=u.value).column=(8*(this.Ca-o[e=c.layer])>>1)+8*(a=c.column);this.Ca*=8}if(0!=(2&this.ng))for(o=!0;o;){for(o=!1,e=this.pc+1;e<=this.sa;e++)o=Oa(this,e,1)||o;for(e=this.pc-1;0<=e;e--)o=Oa(this,e,-1)||o;o=Oa(this,this.pc,0)||o}if(0!=(4&this.ng)){for(e=this.pc+1;e<=this.sa;e++)Bv(this,e,1);for(e=this.pc-1;0<=e;e--)Bv(this,e,-1);Bv(this,this.pc,0)}if(t&&(Wm(this,-1),Wm(this,1)),0!=(2&this.ng))for(o=!0;o;){for(o=!1,o=Oa(this,this.pc,0)||o,e=this.pc+1;e<=this.sa;e++)o=Oa(this,e,0)||o;for(e=this.pc-1;0<=e;e--)o=Oa(this,e,0)||o}},Wn.prototype.commitLayout=function(){if(this.setsPortSpots)for(var t=wp(this,!0),e=wp(this,!1),o=this.network.edges.iterator;o.next();){var a=o.value.link;null!==a&&(a.fromSpot=t,a.toSpot=e)}this.commitNodes(),this.Iv(),this.isRouting&&this.commitLinks()},Wn.prototype.commitNodes=function(){this.$d=[],this.zd=[],this.yd=[],this.Ia=[];for(var t=0;t<=this.sa;t++)this.$d[t]=0,this.zd[t]=0,this.yd[t]=0,this.Ia[t]=0;for(t=this.network.vertexes.iterator;t.next();){var e=t.value,o=e.layer;this.$d[o]=Math.max(this.$d[o],this.nodeMinLayerSpace(e,!0)),this.zd[o]=Math.max(this.zd[o],this.nodeMinLayerSpace(e,!1))}e=0,o=this.ue;for(var a=0;a<=this.sa;a++){var u=o;0>=this.$d[a]+this.zd[a]&&(u=0),0<a&&(e+=u/2),90===this.K||0===this.K?(this.yd[a]=e+=this.zd[a],e+=this.$d[a]):(this.yd[a]=e+=this.$d[a],e+=this.zd[a]),a<this.sa&&(e+=u/2),this.Ia[a]=e}for(o=e,e=this.arrangementOrigin,a=0;a<=this.sa;a++)270===this.K?this.yd[a]=e.y+this.yd[a]:90===this.K?(this.yd[a]=e.y+o-this.yd[a],this.Ia[a]=o-this.Ia[a]):180===this.K?this.yd[a]=e.x+this.yd[a]:(this.yd[a]=e.x+o-this.yd[a],this.Ia[a]=o-this.Ia[a]);for(t.reset(),o=a=1/0;t.next();){var c=(u=t.value).layer,g=0|u.column;if(270===this.K||90===this.K){var _=e.x+this.Zb*g;c=this.yd[c]}else _=this.yd[c],c=e.y+this.Zb*g;u.centerX=_,u.centerY=c,a=Math.min(u.x,a),o=Math.min(u.y,o)}for(this.Vc=new at(a=e.x-a,e=e.y-o),t.reset();t.next();)(o=t.value).x+=a,o.y+=e,o.commit()},Wn.prototype.Iv=function(){for(var t=0,e=this.ue,o=0;o<=this.sa;o++)t+=this.$d[o],t+=this.zd[o];t+=this.sa*e,e=[],o=this.Zb*this.Ca;for(var a=this.maxLayer;0<=a;a--)e.push(270===this.K?0===a?new te(0,0,o,Math.abs(this.Ia[0])):new te(0,this.Ia[a-1],o,Math.abs(this.Ia[a-1]-this.Ia[a])):90===this.K?0===a?new te(0,this.Ia[0],o,Math.abs(this.Ia[0]-t)):new te(0,this.Ia[a],o,Math.abs(this.Ia[a-1]-this.Ia[a])):180===this.K?0===a?new te(0,0,Math.abs(this.Ia[0]),o):new te(this.Ia[a-1],0,Math.abs(this.Ia[a-1]-this.Ia[a]),o):0===a?new te(this.Ia[0],0,Math.abs(this.Ia[0]-t),o):new te(this.Ia[a],0,Math.abs(this.Ia[a-1]-this.Ia[a]),o));this.commitLayers(e,this.Vc)},Wn.prototype.commitLayers=function(){},Wn.prototype.commitLinks=function(){for(var e,t=this.network.edges.iterator;t.next();)null!==(e=t.value.link)&&(e.Th(),e.pk(),e.xf());for(t.reset();t.next();)null!==(e=t.value.link)&&e.xj();for(t.reset();t.next();){var o=t.value;if(null!==(e=o.link)){e.Th();var a=e,u=a.fromNode,c=a.toNode,g=a.fromPort,_=a.toPort;if(null!==u){var A=u.findVisibleNode();null!==A&&A!==u&&(u=A,g=A.port)}null!==c&&null!==(A=c.findVisibleNode())&&A!==c&&(c=A,_=A.port);var I=e.computeSpot(!0,g);A=e.computeSpot(!1,_);var B=o.fromVertex,H=o.toVertex;if(o.valid){if(e.curve===es&&4===e.pointsCount)if(B.column===H.column)o=e.getLinkPoint(u,g,I,!0,!1,c,_),g=e.getLinkPoint(c,_,A,!1,!1,u,g),o.o()||o.set(u.actualBounds.center),g.o()||g.set(c.actualBounds.center),e.pk(),e.vf(o.x,o.y),e.vf((2*o.x+g.x)/3,(2*o.y+g.y)/3),e.vf((o.x+2*g.x)/3,(o.y+2*g.y)/3),e.vf(g.x,g.y);else{var dt=!1,bt=!1;if(null!==g&&I===hn&&(dt=!0),null!==_&&A===hn&&(bt=!0),dt||bt){var pt=e.i(0).x;o=e.i(0).y,B=e.i(3).x,a=e.i(3).y,dt&&(90===this.K||270===this.K?(dt=pt,H=(o+a)/2):(dt=(pt+B)/2,H=o),e.L(1,dt,H),(I=e.getLinkPoint(u,g,I,!0,!1,c,_)).o()||I.set(u.actualBounds.center),e.L(0,I.x,I.y)),bt&&(90===this.K||270===this.K?(I=B,o=(o+a)/2):(I=(pt+B)/2,o=a),e.L(2,I,o),(u=e.getLinkPoint(c,_,A,!1,!1,u,g)).o()||u.set(c.actualBounds.center),e.L(3,u.x,u.y))}}e.xf()}else if(B.layer===H.layer)e.xf();else{if(dt=bt=!1,pt=e.firstPickIndex+1,e.isOrthogonal){dt=!0;var Rt=e.pointsCount;4<Rt&&e.points.removeRange(2,Rt-3)}else if(e.curve===es)bt=!0,4<(Rt=e.pointsCount)&&e.points.removeRange(2,Rt-3),4===Rt&&(pt=2);else{var Xt=I===hn,$t=A===hn;2<(Rt=e.pointsCount)&&Xt&&$t?e.points.removeRange(1,Rt-2):3<Rt&&Xt&&!$t?e.points.removeRange(1,Rt-3):3<Rt&&!Xt&&$t?e.points.removeRange(2,Rt-2):4<Rt&&!Xt&&!$t&&e.points.removeRange(2,Rt-3)}if(o.rev){for(;null!==H&&B!==H;){var ie=Rt=null;for(Xt=H.sourceEdges.iterator;Xt.next()&&(($t=Xt.value).link!==o.link||(ie=$t.toVertex,null!==(Rt=$t.fromVertex).node)););if(null===Rt)break;if(Rt!==B){Xt=e.i(pt-1).x,$t=e.i(pt-1).y;var oe=Rt.centerX,ce=Rt.centerY;if(dt)180===this.K||0===this.K?pt===e.firstPickIndex+1?(e.m(pt++,Xt,$t),e.m(pt++,Xt,ce)):(null!==ie?ie.centerY:$t)!==ce&&(e.m(pt++,ie=this.Ia[Rt.layer-1]+this.Vc.x,$t),e.m(pt++,ie,ce)):pt===e.firstPickIndex+1?(e.m(pt++,Xt,$t),e.m(pt++,oe,$t)):(null!==ie?ie.centerX:Xt)!==oe&&(e.m(pt++,Xt,ie=this.Ia[Rt.layer-1]+this.Vc.y),e.m(pt++,oe,ie));else if(pt===e.firstPickIndex+1){ie=Math.max(10,this.$d[H.layer]);var _e=Math.max(10,this.zd[H.layer]);if(bt)180===this.K?oe<=H.bounds.x?(e.m(pt++,(H=H.bounds.x)-ie,ce),e.m(pt++,H,ce),e.m(pt++,H+_e,ce)):(e.m(pt++,oe-ie,ce),e.m(pt++,oe,ce),e.m(pt++,oe+_e,ce)):90===this.K?ce>=H.bounds.bottom?(e.m(pt++,oe,(H=H.bounds.y+H.bounds.height)+_e),e.m(pt++,oe,H),e.m(pt++,oe,H-ie)):(e.m(pt++,oe,ce+_e),e.m(pt++,oe,ce),e.m(pt++,oe,ce-ie)):270===this.K?ce<=H.bounds.y?(e.m(pt++,oe,(H=H.bounds.y)-ie),e.m(pt++,oe,H),e.m(pt++,oe,H+_e)):(e.m(pt++,oe,ce-ie),e.m(pt++,oe,ce),e.m(pt++,oe,ce+_e)):0===this.K&&(oe>=H.bounds.right?(e.m(pt++,(H=H.bounds.x+H.bounds.width)+_e,ce),e.m(pt++,H,ce),e.m(pt++,H-ie,ce)):(e.m(pt++,oe+_e,ce),e.m(pt++,oe,ce),e.m(pt++,oe-ie,ce)));else{e.m(pt++,Xt,$t);var Je=0;180===this.K||0===this.K?((180===this.K?oe>=H.bounds.right:oe<=H.bounds.x)&&(Je=(0===this.K?-ie:_e)/2),e.m(pt++,Xt+Je,ce)):((270===this.K?ce>=H.bounds.bottom:ce<=H.bounds.y)&&(Je=(90===this.K?-ie:_e)/2),e.m(pt++,oe,$t+Je)),e.m(pt++,oe,ce)}}else ie=Math.max(10,this.$d[Rt.layer]),_e=Math.max(10,this.zd[Rt.layer]),180===this.K?(bt&&e.m(pt++,oe-ie,ce),e.m(pt++,oe,ce),bt&&e.m(pt++,oe+_e,ce)):90===this.K?(bt&&e.m(pt++,oe,ce+_e),e.m(pt++,oe,ce),bt&&e.m(pt++,oe,ce-ie)):270===this.K?(bt&&e.m(pt++,oe,ce-ie),e.m(pt++,oe,ce),bt&&e.m(pt++,oe,ce+_e)):(bt&&e.m(pt++,oe+_e,ce),e.m(pt++,oe,ce),bt&&e.m(pt++,oe-ie,ce))}H=Rt}(null===_||I!==hn||dt)&&(Xt=e.i(pt-1).x,$t=e.i(pt-1).y,oe=e.i(pt).x,ce=e.i(pt).y,dt?(H=this.zd[B.layer],180===this.K||0===this.K?((dt=$t)>=B.bounds.y&&dt<=B.bounds.bottom&&(180===this.K?oe>=B.bounds.x:oe<=B.bounds.right)&&(dt=dt<B.bounds.y+B.bounds.height/2?B.bounds.y-this.Zb/2:B.bounds.bottom+this.Zb/2,e.m(pt++,H=B.centerX+(180===this.K?-H:H),$t),e.m(pt++,H,dt)),e.m(pt++,oe,dt)):((dt=Xt)>=B.bounds.x&&dt<=B.bounds.right&&(270===this.K?ce>=B.bounds.y:ce<=B.bounds.bottom)&&(dt=dt<B.bounds.x+B.bounds.width/2?B.bounds.x-this.Zb/2:B.bounds.right+this.Zb/2,e.m(pt++,Xt,H=B.centerY+(270===this.K?-H:H)),e.m(pt++,dt,H)),e.m(pt++,dt,ce)),e.m(pt++,oe,ce)):bt?(ie=Math.max(10,this.$d[B.layer]),_e=Math.max(10,this.zd[B.layer]),180===this.K&&oe>=B.bounds.x?(e.L(pt-2,H=B.bounds.x+B.bounds.width,$t),e.L(pt-1,H+_e,$t)):90===this.K&&ce<=B.bounds.bottom?(e.L(pt-2,Xt,H=B.bounds.y),e.L(pt-1,Xt,H-ie)):270===this.K&&ce>=B.bounds.y?(e.L(pt-2,Xt,H=B.bounds.y+B.bounds.height),e.L(pt-1,Xt,H+_e)):0===this.K&&oe<=B.bounds.right&&(e.L(pt-2,H=B.bounds.x,$t),e.L(pt-1,H-ie,$t))):(ie=Math.max(10,this.$d[B.layer]),_e=Math.max(10,this.zd[B.layer]),dt=0,180===this.K||0===this.K?((180===this.K?oe<=B.bounds.x:oe>=B.bounds.right)&&(dt=(0===this.K?_e:-ie)/2),e.m(pt++,oe+dt,$t)):((270===this.K?ce<=B.bounds.y:ce>=B.bounds.bottom)&&(dt=(90===this.K?_e:-ie)/2),e.m(pt++,Xt,ce+dt)),e.m(pt++,oe,ce)))}else{for(;null!==B&&B!==H;){for(ie=Rt=null,B=B.destinationEdges.iterator;B.next()&&((Xt=B.value).link!==o.link||(null!==(ie=Xt.fromVertex).node&&(ie=null),null!==(Rt=Xt.toVertex).node)););if(null===Rt)break;Rt!==H&&(Xt=e.i(pt-1).x,$t=e.i(pt-1).y,oe=Rt.centerX,ce=Rt.centerY,dt?180===this.K||0===this.K?(null!==ie?ie.centerY:$t)!==ce&&(ie=this.Ia[Rt.layer]+this.Vc.x,pt===e.firstPickIndex+1&&(ie=0===this.K?Math.max(ie,Xt):Math.min(ie,Xt)),e.m(pt++,ie,$t),e.m(pt++,ie,ce)):(null!==ie?ie.centerX:Xt)!==oe&&(ie=this.Ia[Rt.layer]+this.Vc.y,pt===e.firstPickIndex+1&&(ie=90===this.K?Math.max(ie,$t):Math.min(ie,$t)),e.m(pt++,Xt,ie),e.m(pt++,oe,ie)):(ie=Math.max(10,this.$d[Rt.layer]),_e=Math.max(10,this.zd[Rt.layer]),180===this.K?(e.m(pt++,oe+_e,ce),bt&&e.m(pt++,oe,ce),e.m(pt++,oe-ie,ce)):90===this.K?(e.m(pt++,oe,ce-ie),bt&&e.m(pt++,oe,ce),e.m(pt++,oe,ce+_e)):270===this.K?(e.m(pt++,oe,ce+_e),bt&&e.m(pt++,oe,ce),e.m(pt++,oe,ce-ie)):(e.m(pt++,oe-ie,ce),bt&&e.m(pt++,oe,ce),e.m(pt++,oe+_e,ce)))),B=Rt}dt&&(Xt=e.i(pt-1).x,$t=e.i(pt-1).y,oe=e.i(pt).x,ce=e.i(pt).y,180===this.K||0===this.K?$t!==ce&&(ie=0===this.K?Math.min(Math.max((oe+Xt)/2,this.Ia[H.layer]+this.Vc.x),oe):Math.max(Math.min((oe+Xt)/2,this.Ia[H.layer]+this.Vc.x),oe),e.m(pt++,ie,$t),e.m(pt++,ie,ce)):Xt!==oe&&(ie=90===this.K?Math.min(Math.max((ce+$t)/2,this.Ia[H.layer]+this.Vc.y),ce):Math.max(Math.min((ce+$t)/2,this.Ia[H.layer]+this.Vc.y),ce),e.m(pt++,Xt,ie),e.m(pt++,oe,ie)))}null!==a&&bt&&(null!==g&&(I===hn&&(I=e.i(0),a=e.i(2),I.w(a)||e.L(1,(I.x+a.x)/2,(I.y+a.y)/2)),(I=e.getLinkPoint(u,g,hn,!0,!1,c,_)).o()||I.set(u.actualBounds.center),e.L(0,I.x,I.y)),null!==_&&(A===hn&&(A=e.i(e.pointsCount-1),I=e.i(e.pointsCount-3),A.w(I)||e.L(e.pointsCount-2,(A.x+I.x)/2,(A.y+I.y)/2)),(u=e.getLinkPoint(c,_,hn,!1,!1,u,g)).o()||u.set(c.actualBounds.center),e.L(e.pointsCount-1,u.x,u.y))),e.xf(),o.commit()}}}this.avoidOrthogonalOverlaps()},Wn.prototype.avoidOrthogonalOverlaps=function(){if(!(0>=this.linkSpacing)){for(var t=new Vt,e=this.network.edges.iterator;e.next();){var o=e.value.link;null!==o&&o.isOrthogonal&&!t.contains(o)&&t.add(o)}if(0<t.count)if(90===this.K||270===this.K){for(e=0,o=[],t=t.iterator;t.next();){var a=t.value;if(null!==a&&a.isOrthogonal)for(var u=2;u<a.pointsCount-3;u++){var c=a.i(u),g=a.i(u+1);if(this.A(c.y,g.y)&&!this.A(c.x,g.x)){var _=new Mp;_.layer=Math.floor(c.y/2);var A=a.i(0),I=a.i(a.pointsCount-1);if(_.first=A.x*A.x+A.y,_.Xb=I.x*I.x+I.y,_.fd=Math.min(c.x,g.x),_.vc=Math.max(c.x,g.x),_.index=u,_.link=a,u+2<a.pointsCount){A=a.i(u-1),I=a.i(u+2);var B=0;A.y<c.y?B=I.y<c.y?3:c.x<g.x?2:1:A.y>c.y&&(B=I.y>c.y?0:g.x<c.x?2:1),_.l=B}o.push(_)}}}if(1<o.length)for(o.sort(this.Ry),t=0;t<o.length;){for(c=o[t].layer,a=t+1;a<o.length&&o[a].layer===c;)a++;if(1<a-t)for(c=t;c<a;){for(g=o[c].vc,u=t+1;u<a&&o[u].fd<g;)g=Math.max(g,o[u].vc),u++;if(1<(g=u-c)){for(this.uj(o,this.hu,c,c+g),B=1,_=o[c].Xb,A=c;A<u;A++)(I=o[A]).Xb!==_&&(B++,_=I.Xb);this.uj(o,this.Qy,c,c+g);var H=1;for(_=o[c].first,A=c;A<u;A++)(I=o[A]).first!==_&&(H++,_=I.first);for(A=!0,I=H,B<H?(A=!1,I=B,_=o[c].Xb,this.uj(o,this.hu,c,c+g)):_=o[c].first,B=0,H=c;H<u;H++){var dt=o[H];(A?dt.first:dt.Xb)!==_&&(B++,_=A?dt.first:dt.Xb);var bt=dt.link;c=bt.i(dt.index),g=bt.i(dt.index+1);var pt=this.linkSpacing*(B-(I-1)/2);e++,bt.Th(),bt.L(dt.index,c.x,c.y+pt),bt.L(dt.index+1,g.x,g.y+pt),bt.xf()}}c=u}t=a}}else{for(e=0,o=[],t=t.iterator;t.next();)if(null!==(a=t.value)&&a.isOrthogonal)for(u=2;u<a.pointsCount-3;u++)c=a.i(u),g=a.i(u+1),this.A(c.x,g.x)&&!this.A(c.y,g.y)&&((_=new Mp).layer=Math.floor(c.x/2),A=a.i(0),I=a.i(a.pointsCount-1),_.first=A.x+A.y*A.y,_.Xb=I.x+I.y*I.y,_.fd=Math.min(c.y,g.y),_.vc=Math.max(c.y,g.y),_.index=u,_.link=a,u+2<a.pointsCount&&(A=a.i(u-1),I=a.i(u+2),B=0,A.x<c.x?B=I.x<c.x?3:c.y<g.y?2:1:A.x>c.x&&(B=I.x>c.x?0:g.y<c.y?2:1),_.l=B),o.push(_));if(1<o.length)for(o.sort(this.Ry),t=0;t<o.length;){for(c=o[t].layer,a=t+1;a<o.length&&o[a].layer===c;)a++;if(1<a-t)for(c=t;c<a;){for(g=o[c].vc,u=t+1;u<a&&o[u].fd<g;)g=Math.max(g,o[u].vc),u++;if(1<(g=u-c)){for(this.uj(o,this.hu,c,c+g),B=1,_=o[c].Xb,A=c;A<u;A++)(I=o[A]).Xb!==_&&(B++,_=I.Xb);for(this.uj(o,this.Qy,c,c+g),H=1,_=o[c].first,A=c;A<u;A++)(I=o[A]).first!==_&&(H++,_=I.first);for(A=!0,I=H,B<H?(A=!1,I=B,_=o[c].Xb,this.uj(o,this.hu,c,c+g)):_=o[c].first,B=0,H=c;H<u;H++)dt=o[H],(A?dt.first:dt.Xb)!==_&&(B++,_=A?dt.first:dt.Xb),c=(bt=dt.link).i(dt.index),g=bt.i(dt.index+1),pt=this.linkSpacing*(B-(I-1)/2),e++,bt.Th(),bt.L(dt.index,c.x+pt,c.y),bt.L(dt.index+1,g.x+pt,g.y),bt.xf()}c=u}t=a}}}},(ot=Wn.prototype).Ry=function(t,e){return t instanceof Mp&&e instanceof Mp&&t!==e?t.layer<e.layer?-1:t.layer>e.layer?1:t.fd<e.fd?-1:t.fd>e.fd?1:t.vc<e.vc?-1:t.vc>e.vc?1:0:0},ot.Qy=function(t,e){return t instanceof Mp&&e instanceof Mp&&t!==e?t.first<e.first?-1:t.first>e.first||t.l<e.l?1:t.l>e.l||t.fd<e.fd?-1:t.fd>e.fd?1:t.vc<e.vc?-1:t.vc>e.vc?1:0:0},ot.hu=function(t,e){return t instanceof Mp&&e instanceof Mp&&t!==e?t.Xb<e.Xb?-1:t.Xb>e.Xb||t.l<e.l?1:t.l>e.l||t.fd<e.fd?-1:t.fd>e.fd?1:t.vc<e.vc?-1:t.vc>e.vc?1:0:0},ot.A=function(t,e){return-1<(t-=e)&&1>t},ot.uj=function(t,e,o,a){var u=t.length,c=a-o;if(!(1>=c))if((0>o||o>=u-1)&&V("not in range 0 <= from < length: "+o),2===c)0<e(a=t[o],u=t[o+1])&&(t[o]=u,t[o+1]=a);else if(0===o)if(a>=u)t.sort(e);else for((o=t.slice(0,a)).sort(e),e=0;e<a;e++)t[e]=o[e];else if(a>=u)for((a=t.slice(o)).sort(e),e=o;e<u;e++)t[e]=a[e-o];else for((u=t.slice(o,a)).sort(e),e=o;e<a;e++)t[e]=u[e-o]},W.Object.defineProperties(Wn.prototype,{layerSpacing:{get:function(){return this.ue},set:function(t){this.ue!==t&&0<=t&&(this.ue=t,this.C())}},columnSpacing:{get:function(){return this.Zb},set:function(t){this.Zb!==t&&0<t&&(this.Zb=t,this.C())}},direction:{get:function(){return this.K},set:function(t){this.K!==t&&(0===t||90===t||180===t||270===t?(this.K=t,this.C()):V("LayeredDigraphLayout.direction must be 0, 90, 180, or 270"))}},cycleRemoveOption:{get:function(){return this.jl},set:function(t){this.jl===t||t!==k0&&t!==bp&&t!==gd||(this.jl=t,this.C())}},layeringOption:{get:function(){return this.Ml},set:function(t){this.Ml===t||t!==_p&&t!==nw&&t!==rw||(this.Ml=t,this.C())}},initializeOption:{get:function(){return this.Bl},set:function(t){this.Bl===t||t!==d1&&t!==ow&&t!==sw||(this.Bl=t,this.C())}},iterations:{get:function(){return this.Rj},set:function(t){this.Rj!==t&&0<=t&&(this.Rj=t,this.C())}},aggressiveOption:{get:function(){return this.Zk},set:function(t){this.Zk===t||t!==aw&&t!==p1&&t!==lw||(this.Zk=t,this.C())}},packOption:{get:function(){return this.ng},set:function(t){this.ng!==t&&0<=t&&8>t&&(this.ng=t,this.C())}},setsPortSpots:{get:function(){return this.kf},set:function(t){this.kf!==t&&(this.kf=t,this.C())}},linkSpacing:{get:function(){return this.Mo},set:function(t){this.Mo!==t&&0<=t&&(this.Mo=t,this.C())}},maxLayer:{get:function(){return this.sa}},maxIndex:{get:function(){return this.Ji}},maxColumn:{get:function(){return this.Ca}},minIndexLayer:{get:function(){return this.mh}},maxIndexLayer:{get:function(){return this.pc}}});var bp=new wt(Wn,"CycleDepthFirst",0),k0=new wt(Wn,"CycleGreedy",1),gd=new wt(Wn,"CycleFromLayers",2),_p=new wt(Wn,"LayerOptimalLinkLength",0),nw=new wt(Wn,"LayerLongestPathSink",1),rw=new wt(Wn,"LayerLongestPathSource",2),d1=new wt(Wn,"InitDepthFirstOut",0),ow=new wt(Wn,"InitDepthFirstIn",1),sw=new wt(Wn,"InitNaive",2),aw=new wt(Wn,"AggressiveNone",0),p1=new wt(Wn,"AggressiveLess",1),lw=new wt(Wn,"AggressiveMore",2),$M=8;function Mp(){this.index=this.vc=this.fd=this.Xb=this.first=this.layer=0,this.link=null,this.l=0}function Mn(t){rr.call(this,t)}function $m(t){Do.call(this,t),this.Ra=this.Rg=this.Fi=-1,this.I=NaN,this.T=null,this.valid=!1,this.finish=this.Cg=NaN,this.wf=0,this.Mk=this.Nk=null}function Oh(t){zs.call(this,t),this.l=this.La=this.eb=!1,this.Ka=this.I=NaN,this.T=this.u=0}function yn(){Ln.call(this),this.Jb=new Ht,this.vp=fw,this.kd=Lh,this.oq=A0,this.ts=n2,this.nx=[],this.jd=!0,this.Eb=Qe,this.Pd=new He(10,10).freeze();var t=new bf(this);this.U=new hu(t),this.V=new hu(t),this.uv=[]}function BS(t){var e=new Ht;for(t=t.iterator;t.next();){var o=t.value;o.initialized||e.add(o)}return e}function XM(t,e){var o=999999,a=null;for(e=e.iterator;e.next();){var u=e.value;switch(t.kd){case Lh:u.sourceEdges.count<o&&(o=u.sourceEdges.count,a=u);break;case Zm:u.destinationEdges.count<o&&(o=u.destinationEdges.count,a=u);break;default:V("Unhandled path value "+t.kd.toString())}}return a}function uw(t,e){if(null!==e){switch(t.kd){case Lh:if(0<e.destinationEdges.count){for(var o=new Vt,a=e.destinationVertexes;a.next();){var u=a.value;KM(t,e,u)&&o.add(u)}0<o.count&&(e.children=o.ma())}break;case Zm:if(0<e.sourceEdges.count){for(o=new Vt,a=e.sourceVertexes;a.next();)KM(t,e,u=a.value)&&o.add(u);0<o.count&&(e.children=o.ma())}break;default:V("Unhandled path value"+t.kd.toString())}for(a=(o=e.children).length,u=0;u<a;u++){var c=o[u];c.initialized=!0,c.level=e.level+1,c.parent=e,t.Jb.remove(c)}for(e=0;e<a;e++)uw(t,o[e])}}function KM(t,e,o){if(o.initialized){if(null===e)var a=!1;else{for(a=e.parent;null!==a&&a!==o;)a=a.parent;a=a===o}if(a||o.level>e.level)return!1;t.removeChild(o.parent,o)}return!0}function Yb(t,e){if(null!==e){t.initializeTreeVertexValues(e),e.alignment===xf&&t.sortTreeVertexChildren(e);for(var o=0,a=e.childrenCount,u=0,c=e.children,g=c.length,_=0;_<g;_++){var A=c[_];Yb(t,A),o+=A.descendantCount+1,a=Math.max(a,A.maxChildrenCount),u=Math.max(u,A.maxGenerationCount)}e.descendantCount=o,e.maxChildrenCount=a,e.maxGenerationCount=0<a?u+1:0}}function ZM(t,e){if(null!==e){t.assignTreeVertexValues(e);for(var o=(e=e.children).length,a=0;a<o;a++)ZM(t,e[a])}}function qM(t,e){if(null!==e){e.alignment!==xf&&t.sortTreeVertexChildren(e);for(var o=(e=e.children).length,a=0;a<o;a++)qM(t,e[a])}}function vd(t){return t===Sc||t===xf||t===Dc||t===wf}function hw(t){return t===Sc||t===xf}function QM(t){var e=t.parent;if(null!==e){var o=e.alignment;if(vd(o)){if(hw(o)){for(e=e.children,o=0;o<e.length&&t!==e[o];)o++;return o%2==0}if(o===Dc)return!0}}return!1}function JM(t,e){if(0===e.childrenCount){var o=!1,a=0;null!==e.parent&&(a=e.parent.angle,o=vd(o=e.parent.alignment));var u=QM(e);e.S.h(0,0),e.wa.h(e.width,e.height),null===e.parent||null===e.comments||(180!==a&&270!==a||o)&&!u?e.fa.h(0,0):180===a&&!o||(90===a||270===a)&&u?e.fa.h(e.width-2*e.focus.x,0):e.fa.h(0,e.height-2*e.focus.y)}else{o=90===(a=Fu(e))||270===a;for(var c=0,g=(u=e.children).length,_=0;_<g;_++){var A=u[_];c=Math.max(c,o?A.wa.width:A.wa.height)}var I=e.alignment,B=I===Fh,H=I===Bh;_=vd(I);var dt=Math.max(0,e.breadthLimit);A=Km(e);var bt=e.nodeSpacing,pt=Nh(e),Rt=B||H?0:pt/2,Xt=e.rowSpacing,$t=0;(B||H||e.Sm||e.Tm&&1===e.maxGenerationCount)&&($t=Math.max(0,e.rowIndent)),B=e.width;var ie=e.height,oe=0,ce=0,_e=0,Je=0,Si=0,li=0,Fi=0,di=0,ii=0;if(_&&!hw(I)&&135<a&&u.reverse(),hw(I))if(1<g)for(var _n=0;_n<g;_n++){var rn=u[_n],Hn=rn.wa;_n%2==0&&_n!==g-1&&(ii=Math.max(ii,(o?Hn.width:Hn.height)+Cp(rn)-bt))}else 1===g&&(ii=o?u[0].wa.width:u[0].wa.height);if(_)switch(I){case Sc:case xf:ii=(ce=135>a?jS(e,u,ii,oe,ce):t2(e,u,ii,oe,ce)).x,oe=ce.width,ce=ce.height;break;case Dc:for(t=0;t<g;t++)Rt=(dt=u[t]).wa,_e=0===Fi?0:Xt,o?(dt.S.h(c-Rt.width,Si+_e),oe=Math.max(oe,Rt.width),ce=Math.max(ce,Si+_e+Rt.height),Si+=_e+Rt.height):(dt.S.h(Je+_e,c-Rt.height),oe=Math.max(oe,Je+_e+Rt.width),ce=Math.max(ce,Rt.height),Je+=_e+Rt.width),Fi++;break;case wf:for(c=0;c<g;c++)dt=(t=u[c]).wa,Rt=0===Fi?0:Xt,o?(t.S.h(bt/2+e.focus.x,Si+Rt),oe=Math.max(oe,dt.width),ce=Math.max(ce,Si+Rt+dt.height),Si+=Rt+dt.height):(t.S.h(Je+Rt,bt/2+e.focus.y),oe=Math.max(oe,Je+Rt+dt.width),ce=Math.max(ce,dt.height),Je+=Rt+dt.width),Fi++}else for(_n=0;_n<g;_n++){if(Hn=(rn=u[_n]).wa,o){0<dt&&0<Fi&&Je+bt+Hn.width>dt&&(Je<c&&Xm(e,I,c-Je,0,di,_n-1),li++,Fi=0,di=_n,_e=ce,Je=0,Si=135<a?-ce-Xt:ce+Xt);var oo=0===Fi?Rt:bt;cw(t,rn,0,Si),rn.S.h(Je+oo,Si),oe=Math.max(oe,Je+oo+Hn.width),ce=Math.max(ce,_e+(0===li?0:Xt)+Hn.height),Je+=oo+Hn.width}else 0<dt&&0<Fi&&Si+bt+Hn.height>dt&&(Si<c&&Xm(e,I,0,c-Si,di,_n-1),li++,Fi=0,di=_n,_e=oe,Si=0,Je=135<a?-oe-Xt:oe+Xt),oo=0===Fi?Rt:bt,cw(t,rn,Je,0),rn.S.h(Je,Si+oo),ce=Math.max(ce,Si+oo+Hn.height),oe=Math.max(oe,_e+(0===li?0:Xt)+Hn.width),Si+=oo+Hn.height;Fi++}switch(0<li&&(o?(ce+=Math.max(0,A),Je<oe&&Xm(e,I,oe-Je,0,di,g-1),0<$t&&(H||jv(e,$t,0,0,g-1),oe+=$t)):(oe+=Math.max(0,A),Si<ce&&Xm(e,I,0,ce-Si,di,g-1),0<$t&&(H||jv(e,0,$t,0,g-1),ce+=$t))),$t=H=0,I){case qm:o?H+=oe/2-e.focus.x-pt/2:$t+=ce/2-e.focus.y-pt/2;break;case Qm:0<li?o?H+=oe/2-e.focus.x-pt/2:$t+=ce/2-e.focus.y-pt/2:o?H+=(I=u[0].S.x+u[0].fa.x)+(u[g-1].S.x+u[g-1].fa.x+2*u[g-1].focus.x-I)/2-e.focus.x-pt/2:$t+=(I=u[0].S.y+u[0].fa.y)+(u[g-1].S.y+u[g-1].fa.y+2*u[g-1].focus.y-I)/2-e.focus.y-pt/2;break;case Fh:o?(H-=pt,oe+=pt):($t-=pt,ce+=pt);break;case Bh:o?(H+=oe-e.width+pt,oe+=pt):($t+=ce-e.height+pt,ce+=pt);break;case Sc:case xf:o?H+=1<g?ii+bt/2-e.focus.x:u[0].focus.x-e.focus.x+u[0].fa.x:$t+=1<g?ii+bt/2-e.focus.y:u[0].focus.y-e.focus.y+u[0].fa.y;break;case Dc:o?H+=oe+bt/2-e.focus.x:$t+=ce+bt/2-e.focus.y;break;case wf:break;default:V("Unhandled alignment value "+I.toString())}for(pt=0;pt<g;pt++)I=u[pt],o?I.S.h(I.S.x+I.fa.x-H,I.S.y+(135<a?(_?-ce:-I.wa.height)+I.fa.y-A:ie+A+I.fa.y)):I.S.h(I.S.x+(135<a?(_?-oe:-I.wa.width)+I.fa.x-A:B+A+I.fa.x),I.S.y+I.fa.y-$t);o?(oe=m1(e,oe,H),0>H&&(H=0),135<a&&($t+=ce+A),ce=Math.max(Math.max(ce,ie),ce+ie+A)):(135<a&&(H+=oe+A),oe=Math.max(Math.max(oe,B),oe+B+A),ce=$b(e,ce,$t),0>$t&&($t=0)),e.fa.h(H,$t),e.wa.h(oe,ce)}}function jS(t,e,o,a,u){var c=e.length;if(0===c)return new te(o,0,a,u);if(1===c)return new te(o,0,a=(t=e[0]).wa.width,u=t.wa.height);for(var g=t.nodeSpacing,_=t.rowSpacing,A=90===Fu(t),I=0,B=0,H=0,dt=0;dt<c;dt++)if(!(dt%2!=0||1<c&&dt===c-1)){var bt=e[dt],pt=bt.wa,Rt=0===I?0:_;if(A){var Xt=Cp(bt)-g;bt.S.h(o-(pt.width+Xt),H+Rt),a=Math.max(a,pt.width+Xt),u=Math.max(u,H+Rt+pt.height),H+=Rt+pt.height}else Xt=Cp(bt)-g,bt.S.h(B+Rt,o-(pt.height+Xt)),u=Math.max(u,pt.height+Xt),a=Math.max(a,B+Rt+pt.width),B+=Rt+pt.width;I++}for(I=0,bt=B,dt=H,A?(B=o+g,H=0):(B=0,H=o+g),pt=0;pt<c;pt++)if(pt%2!=0){Xt=(Rt=e[pt]).wa;var $t=0===I?0:_;if(A){var ie=Cp(Rt)-g;Rt.S.h(B+ie,H+$t),a=Math.max(a,B+Xt.width+ie),u=Math.max(u,H+$t+Xt.height),H+=$t+Xt.height}else ie=Cp(Rt)-g,Rt.S.h(B+$t,H+ie),a=Math.max(a,B+$t+Xt.width),u=Math.max(u,H+Xt.height+ie),B+=$t+Xt.width;I++}return 1<c&&c%2==1&&(c=(e=e[c-1]).wa,_=null===e.parent?0:e.parent.rowSpacing,A?(e.S.h(o+g/2-e.focus.x-e.fa.x,u+_),A=o+g/2-e.focus.x-e.fa.x,a=Math.max(a,A+c.width),0>A&&(a-=A),u=Math.max(u,Math.max(dt,H)+_+c.height),0>e.S.x&&(o=Vv(t,e.S.x,!1,o,g))):(e.S.h(a+_,o+g/2-e.focus.y-e.fa.y),a=Math.max(a,Math.max(bt,B)+_+c.width),H=o+g/2-e.focus.y-e.fa.y,u=Math.max(u,H+c.height),0>H&&(u-=H),0>e.S.y&&(o=Vv(t,e.S.y,!0,o,g)))),new te(o,0,a,u)}function t2(t,e,o,a,u){var c=e.length;if(0===c)return new te(o,0,a,u);if(1===c)return new te(o,0,a=(e=e[0]).wa.width,u=e.wa.height);for(var g=t.nodeSpacing,_=t.rowSpacing,A=270===Fu(t),I=0,B=0,H=0,dt=0;dt<c;dt++)if(!(dt%2!=0||1<c&&dt===c-1)){var bt=e[dt],pt=bt.wa,Rt=0===I?0:_;if(A){var Xt=Cp(bt)-g;bt.S.h(o-(pt.width+Xt),H-=Rt+pt.height),a=Math.max(a,pt.width+Xt),u=Math.max(u,Math.abs(H))}else Xt=Cp(bt)-g,bt.S.h(B-=Rt+pt.width,o-(pt.height+Xt)),u=Math.max(u,pt.height+Xt),a=Math.max(a,Math.abs(B));I++}for(I=0,bt=B,dt=H,A?(B=o+g,H=0):(B=0,H=o+g),pt=0;pt<c;pt++)if(pt%2!=0){Xt=(Rt=e[pt]).wa;var $t=0===I?0:_;if(A){var ie=Cp(Rt)-g;Rt.S.h(B+ie,H-=$t+Xt.height),a=Math.max(a,B+Xt.width+ie),u=Math.max(u,Math.abs(H))}else ie=Cp(Rt)-g,Rt.S.h(B-=$t+Xt.width,H+ie),u=Math.max(u,H+Xt.height+ie),a=Math.max(a,Math.abs(B));I++}for(1<c&&c%2==1&&(I=(_=e[c-1]).wa,pt=null===_.parent?0:_.parent.rowSpacing,A?(_.S.h(o+g/2-_.focus.x-_.fa.x,-u-I.height-pt),B=o+g/2-_.focus.x-_.fa.x,a=Math.max(a,B+I.width),0>B&&(a-=B),u=Math.max(u,Math.abs(Math.min(dt,H))+pt+I.height),0>_.S.x&&(o=Vv(t,_.S.x,!1,o,g))):(_.S.h(-a-I.width-pt,o+g/2-_.focus.y-_.fa.y),a=Math.max(a,Math.abs(Math.min(bt,B))+pt+I.width),H=o+g/2-_.focus.y-_.fa.y,u=Math.max(u,H+I.height),0>H&&(u-=H),0>_.S.y&&(o=Vv(t,_.S.y,!0,o,g)))),t=0;t<c;t++)g=e[t],A?g.S.h(g.S.x,g.S.y+u):g.S.h(g.S.x+a,g.S.y);return new te(o,0,a,u)}function Cp(t){return null===t.parent?0:t.parent.nodeSpacing}function Vv(t,e,o,a,u){for(var c=(t=t.children).length,g=0;g<c;g++)o?t[g].S.h(t[g].S.x,t[g].S.y-e):t[g].S.h(t[g].S.x-e,t[g].S.y);return e=t[c-1],Math.max(a,o?e.fa.y+e.focus.y-u/2:e.fa.x+e.focus.x-u/2)}function m1(t,e,o){switch(t.alignment){case Qm:case qm:return o+t.width>e&&(e=o+t.width),0>o&&(e-=o),e;case Fh:return t.width>e?t.width:e;case Bh:return 2*t.focus.x>e?t.width:e+t.width-2*t.focus.x;case Sc:case xf:return Math.max(t.width,Math.max(e,o+t.width)-Math.min(0,o));case Dc:return t.width-t.focus.x+t.nodeSpacing/2+e;case wf:return Math.max(t.width,t.focus.x+t.nodeSpacing/2+e);default:return e}}function $b(t,e,o){switch(t.alignment){case Qm:case qm:return o+t.height>e&&(e=o+t.height),0>o&&(e-=o),e;case Fh:return t.height>e?t.height:e;case Bh:return 2*t.focus.y>e?t.height:e+t.height-2*t.focus.y;case Sc:case xf:return Math.max(t.height,Math.max(e,o+t.height)-Math.min(0,o));case Dc:return t.height-t.focus.y+t.nodeSpacing/2+e;case wf:return Math.max(t.height,t.focus.y+t.nodeSpacing/2+e);default:return e}}function e2(t,e,o){switch(t){case qm:case Qm:e/=2,o/=2;break;case Fh:o=e=0;break;case Bh:break;default:V("Unhandled alignment value "+t.toString())}return new at(e,o)}function Xm(t,e,o,a,u,c){jv(t,(e=e2(e,o,a)).x,e.y,u,c)}function jv(t,e,o,a,u){if(0!==e||0!==o)for(t=t.children;a<=u;a++){var c=t[a].S;c.x+=e,c.y+=o}}function cw(t,e,o,a){var u=e.parent;switch(t.kd){case Lh:for(t=e.sourceEdges;t.next();)(e=t.value).fromVertex===u&&e.relativePoint.h(o,a);break;case Zm:for(t=e.destinationEdges;t.next();)(e=t.value).toVertex===u&&e.relativePoint.h(o,a);break;default:V("Unhandled path value "+t.kd.toString())}}function g1(t,e,o){for(var a=0;a<t.length;a++){var u=t[a];u.x+=e,u.y+=o}}function zS(t,e,o,a,u,c,g,_){var A=Fu(e),I=90===A||270===A,B=e.nodeSpacing;e=a;var H=u;a=c;var dt=g,bt=o.Pq,pt=o.br;g=o.wa;var Rt=I?Math.max(dt,g.height):Math.max(a,g.width);if((null===bt||A!==Fu(o))&&(bt=qa(t,2),pt=qa(t,2),I?(bt[0].h(0,0),bt[1].h(0,g.height),pt[0].h(g.width,0),pt[1].h(pt[0].x,bt[1].y)):(bt[0].h(0,0),bt[1].h(g.width,0),pt[0].h(0,g.height),pt[1].h(bt[1].x,pt[0].y))),I){if(dt=9999999,!(null===H||2>H.length||null===bt||2>bt.length))for(u=o=0;o<H.length&&u<bt.length;){var Xt=bt[u];A=Xt.x,I=Xt.y,A+=a;var $t=c=H[o];o+1<H.length&&($t=H[o+1]);var ie=Xt;Xt=ie.x,ie=ie.y,u+1<bt.length&&(Xt=(ie=bt[u+1]).x,ie=ie.y,Xt+=a);var oe=dt;c.y===I?oe=A-c.x:c.y>I&&c.y<ie?oe=A+(c.y-I)/(ie-I)*(Xt-A)-c.x:I>c.y&&I<$t.y&&(oe=A-(c.x+(I-c.y)/($t.y-c.y)*($t.x-c.x))),oe<dt&&(dt=oe),$t.y<=c.y?o++:ie<=I?u++:($t.y<=ie&&o++,ie<=$t.y&&u++)}if(dt=a-dt,o=bt,u=dt+=B,null===e||2>e.length||null===o||2>o.length)a=null;else{for(B=qa(t,e.length+o.length),a=c=A=0;c<o.length&&o[c].y<e[0].y;)I=o[c++],B[a++].h(I.x+u,I.y);for(;A<e.length;)I=e[A++],B[a++].h(I.x,I.y);for(A=e[e.length-1].y;c<o.length&&o[c].y<=A;)c++;for(;c<o.length&&o[c].y>A;)I=o[c++],B[a++].h(I.x+u,I.y);for(o=qa(t,a),A=0;A<a;A++)o[A].assign(B[A]);ul(t,B),a=o}if(c=pt,A=dt,null===H||2>H.length||null===c||2>c.length)u=null;else{for(B=qa(t,H.length+c.length),u=I=o=0;o<H.length&&H[o].y<c[0].y;)$t=H[o++],B[u++].h($t.x,$t.y);for(;I<c.length;)$t=c[I++],B[u++].h($t.x+A,$t.y);for(c=c[c.length-1].y;o<H.length&&H[o].y<=c;)o++;for(;o<H.length&&H[o].y>c;)A=H[o++],B[u++].h(A.x,A.y);for(c=qa(t,u),o=0;o<u;o++)c[o].assign(B[o]);ul(t,B),u=c}return c=Math.max(0,dt)+g.width,g=Rt,ul(t,e),ul(t,bt),ul(t,H),ul(t,pt),_[0]=a,_[1]=u,new te(dt,0,c,g)}if(a=9999999,!(null===H||2>H.length||null===bt||2>bt.length))for(u=o=0;o<H.length&&u<bt.length;)A=(Xt=bt[u]).x,I=Xt.y,I+=dt,$t=c=H[o],o+1<H.length&&($t=H[o+1]),Xt=(ie=Xt).x,ie=ie.y,u+1<bt.length&&(Xt=(ie=bt[u+1]).x,ie=ie.y,ie+=dt),oe=a,c.x===A?oe=I-c.y:c.x>A&&c.x<Xt?oe=I+(c.x-A)/(Xt-A)*(ie-I)-c.y:A>c.x&&A<$t.x&&(oe=I-(c.y+(A-c.x)/($t.x-c.x)*($t.y-c.y))),oe<a&&(a=oe),$t.x<=c.x?o++:Xt<=A?u++:($t.x<=Xt&&o++,Xt<=$t.x&&u++);if(dt-=a,o=bt,u=dt+=B,null===e||2>e.length||null===o||2>o.length)a=null;else{for(B=qa(t,e.length+o.length),a=c=A=0;c<o.length&&o[c].x<e[0].x;)I=o[c++],B[a++].h(I.x,I.y+u);for(;A<e.length;)I=e[A++],B[a++].h(I.x,I.y);for(A=e[e.length-1].x;c<o.length&&o[c].x<=A;)c++;for(;c<o.length&&o[c].x>A;)I=o[c++],B[a++].h(I.x,I.y+u);for(o=qa(t,a),A=0;A<a;A++)o[A].assign(B[A]);ul(t,B),a=o}if(c=pt,A=dt,null===H||2>H.length||null===c||2>c.length)u=null;else{for(B=qa(t,H.length+c.length),u=I=o=0;o<H.length&&H[o].x<c[0].x;)$t=H[o++],B[u++].h($t.x,$t.y);for(;I<c.length;)$t=c[I++],B[u++].h($t.x,$t.y+A);for(c=c[c.length-1].x;o<H.length&&H[o].x<=c;)o++;for(;o<H.length&&H[o].x>c;)A=H[o++],B[u++].h(A.x,A.y);for(c=qa(t,u),o=0;o<u;o++)c[o].assign(B[o]);ul(t,B),u=c}return c=Rt,g=Math.max(0,dt)+g.height,ul(t,e),ul(t,bt),ul(t,H),ul(t,pt),_[0]=a,_[1]=u,new te(dt,0,c,g)}function qa(t,e){if(void 0!==(t=t.uv[e])&&void 0!==(t=t.pop()))return t;t=[];for(var o=0;o<e;o++)t[o]=new at;return t}function ul(t,e){var o=e.length,a=t.uv[o];void 0===a&&(t.uv[o]=a=[]),a.push(e)}function Xb(t,e,o,a){if(null!==e){e.x=o,e.y=a;for(var u=(e=e.children).length,c=0;c<u;c++){var g=e[c];Xb(t,g,o+g.S.x,a+g.S.y)}}}function Kb(t,e){if(null!==e){t.setPortSpots(e);for(var o=(e=e.children).length,a=0;a<o;a++)Kb(t,e[a])}}function Fu(t){return 45>=(t=t.angle)?0:135>=t?90:225>=t?180:315>=t?270:0}function Km(t){var e=Fu(t);e=90===e||270===e;var o=t.layerSpacing;if(0<t.layerSpacingParentOverlap){var a=Math.min(1,t.layerSpacingParentOverlap);o-=e?t.height*a:t.width*a}return o<(e?-t.height:-t.width)&&(o=e?-t.height:-t.width),o}function Nh(t){var e=Fu(t),o=t.nodeIndent;if(0<t.nodeIndentPastParent){var a=Math.min(1,t.nodeIndentPastParent);o+=90===e||270===e?t.width*a:t.height*a}return Math.max(0,o)}Wn.className="LayeredDigraphLayout",Wn.CycleDepthFirst=bp,Wn.CycleGreedy=k0,Wn.CycleFromLayers=gd,Wn.LayerOptimalLinkLength=_p,Wn.LayerLongestPathSink=nw,Wn.LayerLongestPathSource=rw,Wn.InitDepthFirstOut=d1,Wn.InitDepthFirstIn=ow,Wn.InitNaive=sw,Wn.AggressiveNone=aw,Wn.AggressiveLess=p1,Wn.AggressiveMore=lw,Wn.PackNone=0,Wn.PackExpand=1,Wn.PackStraighten=2,Wn.PackMedian=4,Wn.PackAll=15,Mp.className="SegInfo",K(Mn,rr),Mn.prototype.createVertex=function(){return new $m(this)},Mn.prototype.createEdge=function(){return new Oh(this)},Mn.className="LayeredDigraphNetwork",K($m,Do),$m.prototype.serializeVertexProperties=function(t,e){Do.prototype.serializeVertexProperties.call(this,t,e),t.layer=this.layer,t.column=this.column,t.index=this.index,t.component=this.component,t.near=this.near?we(this.near):null,t.valid=this.valid,t.Cg=this.Cg,t.finish=this.finish,t.wf=this.wf,t.Nk=this.Nk,t.Mk=this.Mk},$m.prototype.Cq=function(t,e,o,a){Do.prototype.Cq.call(this,t,e,o,a),this.layer=t.layer,this.column=t.column,this.index=t.index,this.component=t.component,(e=e.get(t.near))&&(this.near=e),this.valid=t.valid,this.Cg=t.Cg,this.finish=t.finish,this.wf=t.wf,this.Nk=t.Nk,this.Mk=t.Mk},W.Object.defineProperties($m.prototype,{layer:{get:function(){return this.Fi},set:function(t){this.Fi!==t&&(this.Fi=t)}},column:{get:function(){return this.Rg},set:function(t){this.Rg!==t&&(this.Rg=t)}},index:{get:function(){return this.Ra},set:function(t){this.Ra!==t&&(this.Ra=t)}},component:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t)}},near:{get:function(){return this.T},set:function(t){this.T!==t&&(this.T=t)}}}),$m.className="LayeredDigraphVertex",K(Oh,zs),Oh.prototype.serializeEdgeProperties=function(t,e){zs.prototype.serializeEdgeProperties.call(this,t,e),t.valid=this.valid,t.rev=this.rev,t.forest=this.forest,t.portFromPos=this.portFromPos,t.portToPos=this.portToPos,t.portFromColOffset=this.portFromColOffset,t.portToColOffset=this.portToColOffset},Oh.prototype.deserializeEdgeProperties=function(t,e,o,a){zs.prototype.deserializeEdgeProperties.call(this,t,e,o,a),this.valid=t.valid,this.rev=t.rev,this.forest=t.forest,this.portFromPos=t.portFromPos,this.portToPos=t.portToPos,this.portFromColOffset=t.portFromColOffset,this.portToColOffset=t.portToColOffset},W.Object.defineProperties(Oh.prototype,{fromVertex:{get:function(){return this.Yc},set:function(t){this.Yc!==t&&(this.Yc=t)}},toVertex:{get:function(){return this.ed},set:function(t){this.ed!==t&&(this.ed=t)}},valid:{get:function(){return this.eb},set:function(t){this.eb!==t&&(this.eb=t)}},rev:{get:function(){return this.La},set:function(t){this.La!==t&&(this.La=t)}},forest:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t)}},portFromPos:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t)}},portToPos:{get:function(){return this.Ka},set:function(t){this.Ka!==t&&(this.Ka=t)}},portFromColOffset:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},portToColOffset:{get:function(){return this.T},set:function(t){this.T!==t&&(this.T=t)}}}),Oh.className="LayeredDigraphEdge",K(yn,Ln),yn.prototype.cloneProtected=function(t){Ln.prototype.cloneProtected.call(this,t),t.vp=this.vp,t.oq=this.oq,t.ts=this.ts,t.jd=this.jd,t.Eb=this.Eb,t.Pd.assign(this.Pd),t.U.copyInheritedPropertiesFrom(this.U),t.V.copyInheritedPropertiesFrom(this.V)},yn.prototype.jb=function(t){t.classType===yn?0===t.name.indexOf("Alignment")?this.alignment=t:0===t.name.indexOf("Arrangement")?this.arrangement=t:0===t.name.indexOf("Compaction")?this.compaction=t:0===t.name.indexOf("Path")?this.path=t:0===t.name.indexOf("Sorting")?this.sorting=t:0===t.name.indexOf("Style")?this.treeStyle=t:V("Unknown enum value: "+t):Ln.prototype.jb.call(this,t)},yn.prototype.createNetwork=function(){return new bf(this)},yn.prototype.makeNetwork=function(t){function e(a){if(a instanceof Ne)return!a.isLinkLabel&&"Comment"!==a.category;if(a instanceof We){var u=a.fromNode;return null!==u&&!u.isLinkLabel&&"Comment"!==u.category&&!(null===(a=a.toNode)||a.isLinkLabel||"Comment"===a.category)}return!1}var o=this.createNetwork();return t instanceof ke?(o.Ag(t.nodes,!0,e),o.Ag(t.links,!0,e)):o.Ag(t instanceof ai?t.memberParts:t.iterator,!1,e),o},yn.prototype.doLayout=function(t){null===this.network&&(this.network=this.makeNetwork(t)),this.arrangement!==On&&(this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin));var e=this.diagram;if(null===e&&t instanceof ke&&(e=t),this.kd=this.path===fw&&null!==e?e.isTreePathToChildren?Lh:Zm:this.path===fw?Lh:this.path,0<this.network.vertexes.count){for(this.network.Bq(),t=this.network.vertexes.iterator;t.next();)(e=t.value).initialized=!1,e.level=0,e.parent=null,e.children=[];if(0<this.Jb.count){for(t=new Ht,e=this.Jb.iterator;e.next();){var o=e.value;o instanceof Ne?null!==(o=this.network.kj(o))&&t.add(o):o instanceof hu&&t.add(o)}this.Jb=t}for(0===this.Jb.count&&this.findRoots(),t=this.Jb.copy().iterator;t.next();)(e=t.value).initialized||(e.initialized=!0,uw(this,e));for(e=this.network.vertexes,t=null;0<(t=BS(e)).count;)null!==(e=XM(this,t))&&this.Jb.add(e),e.initialized=!0,uw(this,e),e=t;for(t=this.Jb.iterator;t.next();)(e=t.value)instanceof hu&&Yb(this,e);for(t=this.Jb.iterator;t.next();)(e=t.value)instanceof hu&&ZM(this,e);for(t=this.Jb.iterator;t.next();)(e=t.value)instanceof hu&&qM(this,e);if(this.Fv(),this.layerStyle===T0){for(t=[],e=this.network.vertexes.iterator;e.next();){var a=(o=e.value).parent;null===a&&(a=o),a=0===a.angle||180===a.angle;var u=t[o.level];void 0===u&&(u=0),t[o.level]=Math.max(u,a?o.width:o.height)}for(e=0;e<t.length;e++)void 0===t[e]&&(t[e]=0);for(this.nx=t,e=this.network.vertexes.iterator;e.next();)null===(a=(o=e.value).parent)&&(a=o),0===a.angle||180===a.angle?(180===a.angle&&(o.focusX+=t[o.level]-o.width),o.width=t[o.level]):(270===a.angle&&(o.focusY+=t[o.level]-o.height),o.height=t[o.level])}else if(this.layerStyle===Qb)for(t=this.network.vertexes.iterator;t.next();){for(o=0===(e=t.value).angle||180===e.angle,a=-1,u=0;u<e.children.length;u++){var c=e.children[u];a=Math.max(a,o?c.width:c.height)}if(0<=a)for(u=0;u<e.children.length;u++)c=e.children[u],o?(180===e.angle&&(c.focusX+=a-c.width),c.width=a):(270===e.angle&&(c.focusY+=a-c.height),c.height=a)}for(t=this.Jb.iterator;t.next();)(e=t.value)instanceof hu&&this.layoutTree(e);this.arrangeTrees(),this.updateParts()}this.network=null,this.Jb=new Ht,this.isValidLayout=!0},yn.prototype.findRoots=function(){for(var t=this.network.vertexes,e=t.iterator;e.next();){var o=e.value;switch(this.kd){case Lh:0===o.sourceEdges.count&&this.Jb.add(o);break;case Zm:0===o.destinationEdges.count&&this.Jb.add(o);break;default:V("Unhandled path value "+this.kd.toString())}}0===this.Jb.count&&null!==(t=XM(this,t))&&this.Jb.add(t)},yn.prototype.removeChild=function(t,e){if(null!==t&&null!==e){for(var o=t.children,a=0,u=0;u<o.length;u++)o[u]===e&&a++;if(0<a){a=Array(o.length-a);for(var c=u=0;c<o.length;c++)o[c]!==e&&(a[u++]=o[c]);t.children=a}}},yn.prototype.initializeTreeVertexValues=function(t){if(t.copyInheritedPropertiesFrom(function(t,e){switch(t.oq){default:return null!==e.parent?e.parent:t.U;case qb:return null===e.parent?t.U:null===e.parent.parent?t.V:e.parent;case w1:return null!==e.parent?null!==e.parent.parent?e.parent.parent:t.V:t.U;case Pi:var o=!0;if(0===e.childrenCount)o=!1;else for(var a=e.children,u=a.length,c=0;c<u;c++)if(0<a[c].childrenCount){o=!1;break}return o&&null!==e.parent?t.V:null!==e.parent?e.parent:t.U}}(this,t)),null!==t.parent&&t.parent.alignment===xf){for(var e=t.angle,o=t.parent.children,a=0;a<o.length&&t!==o[a];)a++;a%2==0?a!==o.length-1&&(e=90===e?180:180===e?270:270===e?180:270):e=90===e?0:180===e?90:270===e?0:90,t.angle=e}t.initialized=!0},yn.prototype.assignTreeVertexValues=function(){},yn.prototype.sortTreeVertexChildren=function(t){switch(t.sorting){case zv:break;case v1:t.children.reverse();break;case y1:t.children.sort(t.comparer);break;case x1:t.children.sort(t.comparer),t.children.reverse();break;default:V("Unhandled sorting value "+t.sorting.toString())}},yn.prototype.Fv=function(){if(this.comments)for(var t=this.network.vertexes.iterator;t.next();)this.addComments(t.value)},yn.prototype.addComments=function(t){var e=t.angle,o=t.parent,a=0,u=!1;null!==o&&(a=o.angle,u=vd(u=o.alignment)),e=90===e||270===e,a=90===a||270===a,o=0===t.childrenCount;var c=0,g=0,_=0,A=t.commentSpacing;if(null!==t.node)for(var I=t.node.Sv();I.next();){var B=I.value;"Comment"===B.category&&B.canLayout()&&(null===t.comments&&(t.comments=[]),t.comments.push(B),B.Ta(),B=B.measuredBounds,e&&!o||!u&&!a&&o||u&&a&&o?(c=Math.max(c,B.width),g+=B.height+Math.abs(_)):(c+=B.width+Math.abs(_),g=Math.max(g,B.height)),_=A)}null!==t.comments&&(e&&!o||!u&&!a&&o||u&&a&&o?(c+=Math.abs(t.commentMargin),g=Math.max(0,g-t.height)):(g+=Math.abs(t.commentMargin),c=Math.max(0,c-t.width)),u=te.allocAt(0,0,t.bounds.width+c,t.bounds.height+g),t.bounds=u,te.free(u))},yn.prototype.layoutComments=function(t){if(null!==t.comments){var e=t.node.measuredBounds,o=t.parent,a=t.angle,u=0,c=!1;null!==o&&(u=o.angle,c=vd(c=o.alignment)),a=90===a||270===a,o=90===u||270===u;for(var g=0===t.childrenCount,_=QM(t),A=0,I=t.comments,B=I.length,H=at.alloc(),dt=0;dt<B;dt++){var bt=I[dt],pt=bt.measuredBounds;if(a&&!g||!c&&!o&&g||c&&o&&g){if(135<u&&!c||o&&_)if(0<=t.commentMargin)for(H.h(t.bounds.x-t.commentMargin-pt.width,t.bounds.y+A),bt.move(H),bt=bt.Hd();bt.next();){var Rt=bt.value;Rt.fromSpot=Ko,Rt.toSpot=kr}else for(H.h(t.bounds.x+2*t.focus.x-t.commentMargin,t.bounds.y+A),bt.move(H),bt=bt.Hd();bt.next();)(Rt=bt.value).fromSpot=kr,Rt.toSpot=Ko;else if(0<=t.commentMargin)for(H.h(t.bounds.x+2*t.focus.x+t.commentMargin,t.bounds.y+A),bt.move(H),bt=bt.Hd();bt.next();)(Rt=bt.value).fromSpot=kr,Rt.toSpot=Ko;else for(H.h(t.bounds.x+t.commentMargin-pt.width,t.bounds.y+A),bt.move(H),bt=bt.Hd();bt.next();)(Rt=bt.value).fromSpot=Ko,Rt.toSpot=kr;A=0<=t.commentSpacing?A+(pt.height+t.commentSpacing):A+(t.commentSpacing-pt.height)}else{if(135<u&&!c||!o&&_)if(0<=t.commentMargin)for(H.h(t.bounds.x+A,t.bounds.y-t.commentMargin-pt.height),bt.move(H),bt=bt.Hd();bt.next();)(Rt=bt.value).fromSpot=aa,Rt.toSpot=Zo;else for(H.h(t.bounds.x+A,t.bounds.y+2*t.focus.y-t.commentMargin),bt.move(H),bt=bt.Hd();bt.next();)(Rt=bt.value).fromSpot=Zo,Rt.toSpot=aa;else if(0<=t.commentMargin)for(H.h(t.bounds.x+A,t.bounds.y+2*t.focus.y+t.commentMargin),bt.move(H),bt=bt.Hd();bt.next();)(Rt=bt.value).fromSpot=Zo,Rt.toSpot=aa;else for(H.h(t.bounds.x+A,t.bounds.y+t.commentMargin-pt.height),bt.move(H),bt=bt.Hd();bt.next();)(Rt=bt.value).fromSpot=aa,Rt.toSpot=Zo;A=0<=t.commentSpacing?A+(pt.width+t.commentSpacing):A+(t.commentSpacing-pt.width)}}if(at.free(H),e=A-t.commentSpacing-(a?e.height:e.width),this.kd===Lh)for(t=t.destinationEdges;t.next();)null===(u=t.value.link)||u.isAvoiding||(u.fromEndSegmentLength=0<e?e:NaN);else for(t=t.sourceEdges;t.next();)null===(u=t.value.link)||u.isAvoiding||(u.toEndSegmentLength=0<e?e:NaN)}},yn.prototype.layoutTree=function(t){if(null!==t){for(var e=t.children,o=e.length,a=0;a<o;a++)this.layoutTree(e[a]);switch(t.compaction){case Zb:JM(this,t);break;case be:if(t.alignment===xf)JM(this,t);else if(0===t.childrenCount)o=!1,e=0,null!==(a=t.parent)&&(e=a.angle,o=vd(o=a.alignment)),a=QM(t),t.S.h(0,0),t.wa.h(t.width,t.height),null===t.parent||null===t.comments||(180!==e&&270!==e||o)&&!a?t.fa.h(0,0):180===e&&!o||(90===e||270===e)&&a?t.fa.h(t.width-2*t.focus.x,0):t.fa.h(0,t.height-2*t.focus.y),t.Pq=null,t.br=null;else{var u=Fu(t);e=90===u||270===u;var c=0,g=t.children,_=g.length;for(o=0;o<_;o++)a=g[o],c=Math.max(c,e?a.wa.width:a.wa.height);var A=t.alignment,I=A===Bh,B=vd(A),H=Math.max(0,t.breadthLimit);o=Km(t);var dt=t.nodeSpacing,bt=Nh(t),pt=t.rowSpacing,Rt=0;(A===Fh||I||t.Sm||t.Tm&&1===t.maxGenerationCount)&&(Rt=Math.max(0,t.rowIndent)),a=t.width;var Xt=t.height,$t=0,ie=0,oe=0,ce=null,_e=null,Je=0,Si=0,li=0,Fi=0,di=0,ii=0,_n=0,rn=0;if(B&&!hw(A)&&135<u&&g.reverse(),hw(A))if(1<_)for(var Hn=0;Hn<_;Hn++)Hn%2==0&&Hn!==_-1&&(rn=Math.max(rn,e?g[Hn].wa.width:g[Hn].wa.height));else 1===_&&(rn=e?g[0].wa.width:g[0].wa.height);if(B){switch(A){case Sc:rn=(ie=135>u?jS(t,g,rn,$t,ie):t2(t,g,rn,$t,ie)).x,$t=ie.width,ie=ie.height;break;case Dc:for(ce=0;ce<_;ce++)H=(_e=g[ce]).wa,oe=0===ii?0:pt,e?(_e.S.h(c-H.width,Fi+oe),$t=Math.max($t,H.width),ie=Math.max(ie,Fi+oe+H.height),Fi+=oe+H.height):(_e.S.h(li+oe,c-H.height),$t=Math.max($t,li+oe+H.width),ie=Math.max(ie,H.height),li+=oe+H.width),ii++;break;case wf:for(ce=0;ce<_;ce++)c=(_e=g[ce]).wa,H=0===ii?0:pt,e?(_e.S.h(dt/2+t.focus.x,Fi+H),$t=Math.max($t,c.width),ie=Math.max(ie,Fi+H+c.height),Fi+=H+c.height):(_e.S.h(li+H,dt/2+t.focus.y),$t=Math.max($t,li+H+c.width),ie=Math.max(ie,c.height),li+=H+c.width),ii++}ce=qa(this,2),_e=qa(this,2),e?(ce[0].h(0,0),ce[1].h(0,ie),_e[0].h($t,0)):(ce[0].h(0,0),ce[1].h($t,0),_e[0].h(0,ie)),_e[1].h($t,ie)}else for(Hn=0;Hn<_;Hn++){var oo=g[Hn],$o=oo.wa;if(e){0<H&&0<ii&&li+dt+$o.width>H&&(li<c&&Xm(t,A,c-li,0,_n,Hn-1),di++,ii=0,_n=Hn,oe=ie,li=0,Fi=135<u?-ie-pt:ie+pt),cw(this,oo,0,Fi);var Vr=0;if(0===ii)_e=oo.br,Je=$o.width,Si=$o.height,(null===(ce=oo.Pq)||null===_e||u!==Fu(oo))&&(ce=qa(this,2),_e=qa(this,2),ce[0].h(0,0),ce[1].h(0,Si),_e[0].h(Je,0),_e[1].h(Je,Si));else{var Sr=h();Vr=(Si=zS(this,t,oo,ce,_e,Je,Si,Sr)).x,ce=Sr[0],_e=Sr[1],Je=Si.width,Si=Si.height,m(Sr),li<$o.width&&0>Vr&&(jv(t,-Vr,0,_n,Hn-1),g1(ce,-Vr,0),g1(_e,-Vr,0),Vr=0)}oo.S.h(Vr,Fi),$t=Math.max($t,Je),ie=Math.max(ie,oe+(0===di?0:pt)+$o.height),li=Je}else 0<H&&0<ii&&Fi+dt+$o.height>H&&(Fi<c&&Xm(t,A,0,c-Fi,_n,Hn-1),di++,ii=0,_n=Hn,oe=$t,Fi=0,li=135<u?-$t-pt:$t+pt),cw(this,oo,li,0),Vr=0,0===ii?(_e=oo.br,Je=$o.width,Si=$o.height,(null===(ce=oo.Pq)||null===_e||u!==Fu(oo))&&(ce=qa(this,2),_e=qa(this,2),ce[0].h(0,0),ce[1].h(Je,0),_e[0].h(0,Si),_e[1].h(Je,Si))):(Vr=(Si=zS(this,t,oo,ce,_e,Je,Si,Sr=h())).x,ce=Sr[0],_e=Sr[1],Je=Si.width,Si=Si.height,m(Sr),Fi<$o.height&&0>Vr&&(jv(t,0,-Vr,_n,Hn-1),g1(ce,0,-Vr),g1(_e,0,-Vr),Vr=0)),oo.S.h(li,Vr),ie=Math.max(ie,Si),$t=Math.max($t,oe+(0===di?0:pt)+$o.width),Fi=Si;ii++}switch(0<di&&(e?(ie+=Math.max(0,o),li<$t&&Xm(t,A,$t-li,0,_n,_-1),0<Rt&&(I||jv(t,Rt,0,0,_-1),$t+=Rt)):($t+=Math.max(0,o),Fi<ie&&Xm(t,A,0,ie-Fi,_n,_-1),0<Rt&&(I||jv(t,0,Rt,0,_-1),ie+=Rt))),Rt=I=0,A){case qm:e?I+=$t/2-t.focus.x-bt/2:Rt+=ie/2-t.focus.y-bt/2;break;case Qm:0<di?e?I+=$t/2-t.focus.x-bt/2:Rt+=ie/2-t.focus.y-bt/2:e?I+=(rn=g[0].S.x+g[0].fa.x)+(g[_-1].S.x+g[_-1].fa.x+2*g[_-1].focus.x-rn)/2-t.focus.x-bt/2:Rt+=(rn=g[0].S.y+g[0].fa.y)+(g[_-1].S.y+g[_-1].fa.y+2*g[_-1].focus.y-rn)/2-t.focus.y-bt/2;break;case Fh:e?(I-=bt,$t+=bt):(Rt-=bt,ie+=bt);break;case Bh:e?(I+=$t-t.width+bt,$t+=bt):(Rt+=ie-t.height+bt,ie+=bt);break;case Sc:e?I+=1<_?rn+dt/2-t.focus.x:g[0].focus.x-t.focus.x+g[0].fa.x:Rt+=1<_?rn+dt/2-t.focus.y:g[0].focus.y-t.focus.y+g[0].fa.y;break;case Dc:e?I+=$t+dt/2-t.focus.x:Rt+=ie+dt/2-t.focus.y;break;case wf:break;default:V("Unhandled alignment value "+A.toString())}for(bt=0;bt<_;bt++)rn=g[bt],e?rn.S.h(rn.S.x+rn.fa.x-I,rn.S.y+(135<u?(B?-ie:-rn.wa.height)+rn.fa.y-o:Xt+o+rn.fa.y)):rn.S.h(rn.S.x+(135<u?(B?-$t:-rn.wa.width)+rn.fa.x-o:a+o+rn.fa.x),rn.S.y+rn.fa.y-Rt);if(_=g=0,B?e?($t=m1(t,$t,I),0>I&&(I=0),135<u&&(Rt+=ie+o),ie+=Xt+o,A===wf&&(g+=dt/2+t.focus.x),_+=Xt+o):(135<u&&(I+=$t+o),$t+=a+o,ie=$b(t,ie,Rt),0>Rt&&(Rt=0),A===wf&&(_+=dt/2+t.focus.y),g+=a+o):e?(null===t.comments?a>$t&&(g=($t=e2(A,a-$t,0)).x,_=$t.y,$t=a,I=0):$t=m1(t,$t,I),0>I&&(g-=I,I=0),135<u&&(Rt+=ie+o),ie=Math.max(Math.max(ie,Xt),ie+Xt+o),_+=Xt+o):(135<u&&(I+=$t+o),$t=Math.max(Math.max($t,a),$t+a+o),null===t.comments?Xt>ie&&(g=(ie=e2(A,0,Xt-ie)).x,_=ie.y,ie=Xt,Rt=0):ie=$b(t,ie,Rt),0>Rt&&(_-=Rt,Rt=0),g+=a+o),0<di)u=qa(this,4),di=qa(this,4),e?(u[2].h(0,Xt+o),u[3].h(u[2].x,ie),di[2].h($t,u[2].y),di[3].h(di[2].x,u[3].y)):(u[2].h(a+o,0),u[3].h($t,u[2].y),di[2].h(u[2].x,ie),di[3].h(u[3].x,di[2].y));else{for(u=qa(this,ce.length+2),di=qa(this,_e.length+2),A=0;A<ce.length;A++)u[A+2].h((B=ce[A]).x+g,B.y+_);for(A=0;A<_e.length;A++)di[A+2].h((B=_e[A]).x+g,B.y+_)}e?(u[0].h(I,0),u[1].h(u[0].x,Xt),u[2].y<u[1].y&&(u[2].x>u[0].x?u[2].assign(u[1]):u[1].assign(u[2])),u[3].y<u[2].y&&(u[3].x>u[0].x?u[3].assign(u[2]):u[2].assign(u[3])),di[0].h(I+a,0),di[1].h(di[0].x,Xt),di[2].y<di[1].y&&(di[2].x<di[0].x?di[2].assign(di[1]):di[1].assign(di[2])),di[3].y<di[2].y&&(di[3].x<di[0].x?di[3].assign(di[2]):di[2].assign(di[3])),u[2].y-=o/2,di[2].y-=o/2):(u[0].h(0,Rt),u[1].h(a,u[0].y),u[2].x<u[1].x&&(u[2].y>u[0].y?u[2].assign(u[1]):u[1].assign(u[2])),u[3].x<u[2].x&&(u[3].y>u[0].y?u[3].assign(u[2]):u[2].assign(u[3])),di[0].h(0,Rt+Xt),di[1].h(a,di[0].y),di[2].x<di[1].x&&(di[2].y<di[0].y?di[2].assign(di[1]):di[1].assign(di[2])),di[3].x<di[2].x&&(di[3].y<di[0].y?di[3].assign(di[2]):di[2].assign(di[3])),u[2].x-=o/2,di[2].x-=o/2),ul(this,ce),ul(this,_e),t.Pq=u,t.br=di,t.fa.h(I,Rt),t.wa.h($t,ie)}break;default:V("Unhandled compaction value "+t.compaction.toString())}}},yn.prototype.arrangeTrees=function(){if(this.Eb===On)for(var t=this.Jb.iterator;t.next();){var e=t.value;if(e instanceof hu){var o=e.node;if(null!==o){var a=o.position;o=a.x,a=a.y,isFinite(o)||(o=0),isFinite(a)||(a=0),Xb(this,e,o,a)}}}else{for(t=[],e=this.Jb.iterator;e.next();)(o=e.value)instanceof hu&&t.push(o);switch(this.sorting){case zv:break;case v1:t.reverse();break;case y1:t.sort(this.comparer);break;case x1:t.sort(this.comparer),t.reverse();break;default:V("Unhandled sorting value "+this.sorting.toString())}for(e=(o=this.arrangementOrigin).x,o=o.y,a=0;a<t.length;a++){var u=t[a];switch(Xb(this,u,e+u.fa.x,o+u.fa.y),this.Eb){case Qe:o+=u.wa.height+this.Pd.height;break;case ti:e+=u.wa.width+this.Pd.width;break;default:V("Unhandled arrangement value "+this.Eb.toString())}}}},yn.prototype.commitLayout=function(){this.Dw(),this.commitNodes(),this.Iv(),this.isRouting&&this.commitLinks()},yn.prototype.commitNodes=function(){for(var t=this.network.vertexes.iterator;t.next();)t.value.commit();for(t.reset();t.next();)this.layoutComments(t.value)},yn.prototype.Iv=function(){if(this.layerStyle===T0){for(var t=this.nx,e=[],o=null,a=this.network.vertexes.iterator;a.next();){var u=a.value;null===o?o=u.bounds.copy():o.Rc(u.bounds);var c=e[u.level];c=void 0===c?Km(u):Math.max(c,Km(u)),e[u.level]=c}for(a=0;a<e.length;a++)void 0===e[a]&&(e[a]=0);if(90===this.angle||270===this.angle?(o.Jc(this.nodeSpacing/2,this.layerSpacing),a=new at(-this.nodeSpacing/2,-this.layerSpacing/2)):(o.Jc(this.layerSpacing,this.nodeSpacing/2),a=new at(-this.layerSpacing/2,-this.nodeSpacing/2)),u=[],o=90===this.angle||270===this.angle?o.width:o.height,c=0,180===this.angle||270===this.angle)for(var g=0;g<t.length;g++)c+=t[g]+e[g];for(g=0;g<t.length;g++){var _=t[g]+e[g];270===this.angle?u.push(new te(0,c-=_,o,_)):90===this.angle?(u.push(new te(0,c,o,_)),c+=_):180===this.angle?u.push(new te(c-=_,0,_,o)):(u.push(new te(c,0,_,o)),c+=_)}this.commitLayers(u,a)}},yn.prototype.commitLayers=function(){},yn.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},yn.prototype.Dw=function(){for(var t=this.Jb.iterator;t.next();){var e=t.value;e instanceof hu&&Kb(this,e)}},yn.prototype.setPortSpots=function(t){var e=t.alignment;if(vd(e)){var o=this.kd===Lh,a=Fu(t);switch(a){case 0:var u=kr;break;case 90:u=Zo;break;case 180:u=Ko;break;default:u=aa}var c=t.children,g=c.length;switch(e){case Sc:case xf:for(e=0;e<g;e++){var _=c[e];if(null!==(_=(o?_.sourceEdges:_.destinationEdges).first())&&null!==(_=_.link)){var A=90===a||270===a?Ko:aa;if(1===g||e===g-1&&g%2==1)switch(a){case 0:A=Ko;break;case 90:A=aa;break;case 180:A=kr;break;default:A=Zo}else e%2==0&&(A=90===a||270===a?kr:Zo);o?(t.setsPortSpot&&(_.fromSpot=u),t.setsChildPortSpot&&(_.toSpot=A)):(t.setsPortSpot&&(_.fromSpot=A),t.setsChildPortSpot&&(_.toSpot=u))}}break;case Dc:for(a=90===a||270===a?kr:Zo,c=o?t.destinationEdges:t.sourceEdges;c.next();)null!==(g=c.value.link)&&(o?(t.setsPortSpot&&(g.fromSpot=u),t.setsChildPortSpot&&(g.toSpot=a)):(t.setsPortSpot&&(g.fromSpot=a),t.setsChildPortSpot&&(g.toSpot=u)));break;case wf:for(a=90===a||270===a?Ko:aa,c=o?t.destinationEdges:t.sourceEdges;c.next();)null!==(g=c.value.link)&&(o?(t.setsPortSpot&&(g.fromSpot=u),t.setsChildPortSpot&&(g.toSpot=a)):(t.setsPortSpot&&(g.fromSpot=a),t.setsChildPortSpot&&(g.toSpot=u)))}}else if(o=Fu(t),this.kd===Lh){for(u=t.destinationEdges;u.next();)if(null!==(a=u.value.link)){if(t.setsPortSpot)if(t.portSpot.Mb())switch(o){case 0:a.fromSpot=kr;break;case 90:a.fromSpot=Zo;break;case 180:a.fromSpot=Ko;break;default:a.fromSpot=aa}else a.fromSpot=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Mb())switch(o){case 0:a.toSpot=Ko;break;case 90:a.toSpot=aa;break;case 180:a.toSpot=kr;break;default:a.toSpot=Zo}else a.toSpot=t.childPortSpot}}else for(u=t.sourceEdges;u.next();)if(null!==(a=u.value.link)){if(t.setsPortSpot)if(t.portSpot.Mb())switch(o){case 0:a.toSpot=kr;break;case 90:a.toSpot=Zo;break;case 180:a.toSpot=Ko;break;default:a.toSpot=aa}else a.toSpot=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Mb())switch(o){case 0:a.fromSpot=Ko;break;case 90:a.fromSpot=aa;break;case 180:a.fromSpot=kr;break;default:a.fromSpot=Zo}else a.fromSpot=t.childPortSpot}},W.Object.defineProperties(yn.prototype,{roots:{get:function(){return this.Jb},set:function(t){this.Jb!==t&&(this.Jb=t,this.C())}},path:{get:function(){return this.vp},set:function(t){this.vp!==t&&(this.vp=t,this.C())}},treeStyle:{get:function(){return this.oq},set:function(t){this.Eb===t||t!==A0&&t!==w1&&t!==Pi&&t!==qb||(this.oq=t,this.C())}},layerStyle:{get:function(){return this.ts},set:function(t){this.Eb===t||t!==n2&&t!==Qb&&t!==T0||(this.ts=t,this.C())}},comments:{get:function(){return this.jd},set:function(t){this.jd!==t&&(this.jd=t,this.C())}},arrangement:{get:function(){return this.Eb},set:function(t){this.Eb===t||t!==Qe&&t!==ti&&t!==On||(this.Eb=t,this.C())}},arrangementSpacing:{get:function(){return this.Pd},set:function(t){this.Pd.w(t)||(this.Pd.assign(t),this.C())}},rootDefaults:{get:function(){return this.U},set:function(t){this.U!==t&&(this.U=t,this.C())}},alternateDefaults:{get:function(){return this.V},set:function(t){this.V!==t&&(this.V=t,this.C())}},sorting:{get:function(){return this.U.sorting},set:function(t){this.U.sorting===t||t!==zv&&t!==v1&&t!==y1&&!x1||(this.U.sorting=t,this.C())}},comparer:{get:function(){return this.U.comparer},set:function(t){this.U.comparer!==t&&(this.U.comparer=t,this.C())}},angle:{get:function(){return this.U.angle},set:function(t){this.U.angle!==t&&(0===t||90===t||180===t||270===t?(this.U.angle=t,this.C()):V("TreeLayout.angle must be 0, 90, 180, or 270"))}},alignment:{get:function(){return this.U.alignment},set:function(t){this.U.alignment!==t&&(this.U.alignment=t,this.C())}},nodeIndent:{get:function(){return this.U.nodeIndent},set:function(t){this.U.nodeIndent!==t&&0<=t&&(this.U.nodeIndent=t,this.C())}},nodeIndentPastParent:{get:function(){return this.U.nodeIndentPastParent},set:function(t){this.U.nodeIndentPastParent!==t&&0<=t&&1>=t&&(this.U.nodeIndentPastParent=t,this.C())}},nodeSpacing:{get:function(){return this.U.nodeSpacing},set:function(t){this.U.nodeSpacing!==t&&(this.U.nodeSpacing=t,this.C())}},layerSpacing:{get:function(){return this.U.layerSpacing},set:function(t){this.U.layerSpacing!==t&&(this.U.layerSpacing=t,this.C())}},layerSpacingParentOverlap:{get:function(){return this.U.layerSpacingParentOverlap},set:function(t){this.U.layerSpacingParentOverlap!==t&&0<=t&&1>=t&&(this.U.layerSpacingParentOverlap=t,this.C())}},compaction:{get:function(){return this.U.compaction},set:function(t){this.U.compaction===t||t!==Zb&&t!==be||(this.U.compaction=t,this.C())}},breadthLimit:{get:function(){return this.U.breadthLimit},set:function(t){this.U.breadthLimit!==t&&0<=t&&(this.U.breadthLimit=t,this.C())}},rowSpacing:{get:function(){return this.U.rowSpacing},set:function(t){this.U.rowSpacing!==t&&(this.U.rowSpacing=t,this.C())}},rowIndent:{get:function(){return this.U.rowIndent},set:function(t){this.U.rowIndent!==t&&0<=t&&(this.U.rowIndent=t,this.C())}},commentSpacing:{get:function(){return this.U.commentSpacing},set:function(t){this.U.commentSpacing!==t&&(this.U.commentSpacing=t,this.C())}},commentMargin:{get:function(){return this.U.commentMargin},set:function(t){this.U.commentMargin!==t&&(this.U.commentMargin=t,this.C())}},setsPortSpot:{get:function(){return this.U.setsPortSpot},set:function(t){this.U.setsPortSpot!==t&&(this.U.setsPortSpot=t,this.C())}},portSpot:{get:function(){return this.U.portSpot},set:function(t){this.U.portSpot.w(t)||(this.U.portSpot=t,this.C())}},setsChildPortSpot:{get:function(){return this.U.setsChildPortSpot},set:function(t){this.U.setsChildPortSpot!==t&&(this.U.setsChildPortSpot=t,this.C())}},childPortSpot:{get:function(){return this.U.childPortSpot},set:function(t){this.U.childPortSpot.w(t)||(this.U.childPortSpot=t,this.C())}},alternateSorting:{get:function(){return this.V.sorting},set:function(t){this.V.sorting===t||t!==zv&&t!==v1&&t!==y1&&!x1||(this.V.sorting=t,this.C())}},alternateComparer:{get:function(){return this.V.comparer},set:function(t){this.V.comparer!==t&&(this.V.comparer=t,this.C())}},alternateAngle:{get:function(){return this.V.angle},set:function(t){this.V.angle===t||0!==t&&90!==t&&180!==t&&270!==t||(this.V.angle=t,this.C())}},alternateAlignment:{get:function(){return this.V.alignment},set:function(t){this.V.alignment!==t&&(this.V.alignment=t,this.C())}},alternateNodeIndent:{get:function(){return this.V.nodeIndent},set:function(t){this.V.nodeIndent!==t&&0<=t&&(this.V.nodeIndent=t,this.C())}},alternateNodeIndentPastParent:{get:function(){return this.V.nodeIndentPastParent},set:function(t){this.V.nodeIndentPastParent!==t&&0<=t&&1>=t&&(this.V.nodeIndentPastParent=t,this.C())}},alternateNodeSpacing:{get:function(){return this.V.nodeSpacing},set:function(t){this.V.nodeSpacing!==t&&(this.V.nodeSpacing=t,this.C())}},alternateLayerSpacing:{get:function(){return this.V.layerSpacing},set:function(t){this.V.layerSpacing!==t&&(this.V.layerSpacing=t,this.C())}},alternateLayerSpacingParentOverlap:{get:function(){return this.V.layerSpacingParentOverlap},set:function(t){this.V.layerSpacingParentOverlap!==t&&0<=t&&1>=t&&(this.V.layerSpacingParentOverlap=t,this.C())}},alternateCompaction:{get:function(){return this.V.compaction},set:function(t){this.V.compaction===t||t!==Zb&&t!==be||(this.V.compaction=t,this.C())}},alternateBreadthLimit:{get:function(){return this.V.breadthLimit},set:function(t){this.V.breadthLimit!==t&&0<=t&&(this.V.breadthLimit=t,this.C())}},alternateRowSpacing:{get:function(){return this.V.rowSpacing},set:function(t){this.V.rowSpacing!==t&&(this.V.rowSpacing=t,this.C())}},alternateRowIndent:{get:function(){return this.V.rowIndent},set:function(t){this.V.rowIndent!==t&&0<=t&&(this.V.rowIndent=t,this.C())}},alternateCommentSpacing:{get:function(){return this.V.commentSpacing},set:function(t){this.V.commentSpacing!==t&&(this.V.commentSpacing=t,this.C())}},alternateCommentMargin:{get:function(){return this.V.commentMargin},set:function(t){this.V.commentMargin!==t&&(this.V.commentMargin=t,this.C())}},alternateSetsPortSpot:{get:function(){return this.V.setsPortSpot},set:function(t){this.V.setsPortSpot!==t&&(this.V.setsPortSpot=t,this.C())}},alternatePortSpot:{get:function(){return this.V.portSpot},set:function(t){this.V.portSpot.w(t)||(this.V.portSpot=t,this.C())}},alternateSetsChildPortSpot:{get:function(){return this.V.setsChildPortSpot},set:function(t){this.V.setsChildPortSpot!==t&&(this.V.setsChildPortSpot=t,this.C())}},alternateChildPortSpot:{get:function(){return this.V.childPortSpot},set:function(t){this.V.childPortSpot.w(t)||(this.V.childPortSpot=t,this.C())}}});var fw=new wt(yn,"PathDefault",-1),Lh=new wt(yn,"PathDestination",0),Zm=new wt(yn,"PathSource",1),zv=new wt(yn,"SortingForwards",10),v1=new wt(yn,"SortingReverse",11),y1=new wt(yn,"SortingAscending",12),x1=new wt(yn,"SortingDescending",13),qm=new wt(yn,"AlignmentCenterSubtrees",20),Qm=new wt(yn,"AlignmentCenterChildren",21),Fh=new wt(yn,"AlignmentStart",22),Bh=new wt(yn,"AlignmentEnd",23),Sc=new wt(yn,"AlignmentBus",24),xf=new wt(yn,"AlignmentBusBranching",25),Dc=new wt(yn,"AlignmentTopLeftBus",26),wf=new wt(yn,"AlignmentBottomRightBus",27),Zb=new wt(yn,"CompactionNone",30),be=new wt(yn,"CompactionBlock",31),A0=new wt(yn,"StyleLayered",40),Pi=new wt(yn,"StyleLastParents",41),w1=new wt(yn,"StyleAlternating",42),qb=new wt(yn,"StyleRootOnly",43),Qe=new wt(yn,"ArrangementVertical",50),ti=new wt(yn,"ArrangementHorizontal",51),On=new wt(yn,"ArrangementFixedRoots",52),n2=new wt(yn,"LayerIndividual",60),Qb=new wt(yn,"LayerSiblings",61),T0=new wt(yn,"LayerUniform",62);function bf(t){rr.call(this,t)}function hu(t){Do.call(this,t),this.Ka=!1,this.Cc=null,this.I=[],this.Sc=this.eb=this.T=this.La=0,this.jd=null,this.S=new at(0,0),this.wa=new He(0,0),this.fa=new at(0,0),this.Tm=this.Sm=this.ZA=!1,this.br=this.Pq=null,this.bd=zv,this.Wc=Lx,this.Yb=0,this.yb=Qm,this.Ds=this.Cs=0,this.Es=20,this.ue=50,this.ss=0,this.Er=be,this.wr=0,this.Rs=25,this.Dr=this.Qs=10,this.Cr=20,this.dt=!0,this.Ms=Os,this.ct=!0,this.zr=Os}function Qa(t){zs.call(this,t),this.lv=new at(0,0)}yn.className="TreeLayout",yn.PathDefault=fw,yn.PathDestination=Lh,yn.PathSource=Zm,yn.SortingForwards=zv,yn.SortingReverse=v1,yn.SortingAscending=y1,yn.SortingDescending=x1,yn.AlignmentCenterSubtrees=qm,yn.AlignmentCenterChildren=Qm,yn.AlignmentStart=Fh,yn.AlignmentEnd=Bh,yn.AlignmentBus=Sc,yn.AlignmentBusBranching=xf,yn.AlignmentTopLeftBus=Dc,yn.AlignmentBottomRightBus=wf,yn.CompactionNone=Zb,yn.CompactionBlock=be,yn.StyleLayered=A0,yn.StyleLastParents=Pi,yn.StyleAlternating=w1,yn.StyleRootOnly=qb,yn.ArrangementVertical=Qe,yn.ArrangementHorizontal=ti,yn.ArrangementFixedRoots=On,yn.LayerIndividual=n2,yn.LayerSiblings=Qb,yn.LayerUniform=T0,K(bf,rr),bf.prototype.createVertex=function(){return new hu(this)},bf.prototype.createEdge=function(){return new Qa(this)},bf.className="TreeNetwork",K(hu,Do),hu.prototype.copyInheritedPropertiesFrom=function(t){null!==t&&(this.bd=t.sorting,this.Wc=t.comparer,this.Yb=t.angle,this.yb=t.alignment,this.Cs=t.nodeIndent,this.Ds=t.nodeIndentPastParent,this.Es=t.nodeSpacing,this.ue=t.layerSpacing,this.ss=t.layerSpacingParentOverlap,this.Er=t.compaction,this.wr=t.breadthLimit,this.Rs=t.rowSpacing,this.Qs=t.rowIndent,this.Dr=t.commentSpacing,this.Cr=t.commentMargin,this.dt=t.setsPortSpot,this.Ms=t.portSpot,this.ct=t.setsChildPortSpot,this.zr=t.childPortSpot)},W.Object.defineProperties(hu.prototype,{initialized:{get:function(){return this.Ka},set:function(t){this.Ka!==t&&(this.Ka=t)}},parent:{get:function(){return this.Cc},set:function(t){this.Cc!==t&&(this.Cc=t)}},children:{get:function(){return this.I},set:function(t){if(this.I!==t){if(null!==t)for(var e=t.length,o=0;o<e;o++);this.I=t}}},level:{get:function(){return this.La},set:function(t){this.La!==t&&(this.La=t)}},descendantCount:{get:function(){return this.T},set:function(t){this.T!==t&&(this.T=t)}},maxChildrenCount:{get:function(){return this.eb},set:function(t){this.eb!==t&&(this.eb=t)}},maxGenerationCount:{get:function(){return this.Sc},set:function(t){this.Sc!==t&&(this.Sc=t)}},comments:{get:function(){return this.jd},set:function(t){if(this.jd!==t){if(null!==t)for(var e=t.length,o=0;o<e;o++);this.jd=t}}},sorting:{get:function(){return this.bd},set:function(t){this.bd!==t&&(this.bd=t)}},comparer:{get:function(){return this.Wc},set:function(t){this.Wc!==t&&(this.Wc=t)}},angle:{get:function(){return this.Yb},set:function(t){this.Yb!==t&&(this.Yb=t)}},alignment:{get:function(){return this.yb},set:function(t){this.yb!==t&&(this.yb=t)}},nodeIndent:{get:function(){return this.Cs},set:function(t){this.Cs!==t&&(this.Cs=t)}},nodeIndentPastParent:{get:function(){return this.Ds},set:function(t){this.Ds!==t&&(this.Ds=t)}},nodeSpacing:{get:function(){return this.Es},set:function(t){this.Es!==t&&(this.Es=t)}},layerSpacing:{get:function(){return this.ue},set:function(t){this.ue!==t&&(this.ue=t)}},layerSpacingParentOverlap:{get:function(){return this.ss},set:function(t){this.ss!==t&&(this.ss=t)}},compaction:{get:function(){return this.Er},set:function(t){this.Er!==t&&(this.Er=t)}},breadthLimit:{get:function(){return this.wr},set:function(t){this.wr!==t&&(this.wr=t)}},rowSpacing:{get:function(){return this.Rs},set:function(t){this.Rs!==t&&(this.Rs=t)}},rowIndent:{get:function(){return this.Qs},set:function(t){this.Qs!==t&&(this.Qs=t)}},commentSpacing:{get:function(){return this.Dr},set:function(t){this.Dr!==t&&(this.Dr=t)}},commentMargin:{get:function(){return this.Cr},set:function(t){this.Cr!==t&&(this.Cr=t)}},setsPortSpot:{get:function(){return this.dt},set:function(t){this.dt!==t&&(this.dt=t)}},portSpot:{get:function(){return this.Ms},set:function(t){this.Ms.w(t)||(this.Ms=t)}},setsChildPortSpot:{get:function(){return this.ct},set:function(t){this.ct!==t&&(this.ct=t)}},childPortSpot:{get:function(){return this.zr},set:function(t){this.zr.w(t)||(this.zr=t)}},childrenCount:{get:function(){return this.children.length}},relativePosition:{get:function(){return this.S},set:function(t){this.S.set(t)}},subtreeSize:{get:function(){return this.wa},set:function(t){this.wa.set(t)}},subtreeOffset:{get:function(){return this.fa},set:function(t){this.fa.set(t)}}}),hu.className="TreeVertex",K(Qa,zs),Qa.prototype.commit=function(){var t=this.link;if(null!==t&&!t.isAvoiding){var e=this.network.layout,o=null,a=null;switch(e.kd){case Lh:o=this.fromVertex,a=this.toVertex;break;case Zm:o=this.toVertex,a=this.fromVertex;break;default:V("Unhandled path value "+e.kd.toString())}if(null!==o&&null!==a)if(0!==(e=this.lv).x||0!==e.y||o.ZA){a=o.bounds;var u=Fu(o),c=Km(o),g=o.rowSpacing;t.xj();var I,_=t.curve===es,A=t.isOrthogonal;if(t.Th(),A||_){for(I=2;4<t.pointsCount;)t.uw(2);var B=t.i(1),H=t.i(2)}else{for(I=1;3<t.pointsCount;)t.uw(1);B=t.i(0),H=t.i(t.pointsCount-1)}var dt=t.i(t.pointsCount-1);0===u?(o.alignment===Bh?(u=a.bottom+e.y,0===e.y&&B.y>dt.y+o.rowIndent&&(u=Math.min(u,Math.max(B.y,u-Nh(o))))):o.alignment===Fh?(u=a.top+e.y,0===e.y&&B.y<dt.y-o.rowIndent&&(u=Math.max(u,Math.min(B.y,u+Nh(o))))):u=o.Sm||o.Tm&&1===o.maxGenerationCount?a.top-o.fa.y+e.y:a.y+a.height/2+e.y,_?(t.m(I,B.x,u),I++,t.m(I,a.right+c,u),I++,t.m(I,a.right+c+(e.x-g)/3,u),I++,t.m(I,a.right+c+2*(e.x-g)/3,u),I++,t.m(I,a.right+c+(e.x-g),u),I++,t.m(I,H.x,u)):(A&&(t.m(I,a.right+c/2,B.y),I++),t.m(I,a.right+c/2,u),I++,t.m(I,a.right+c+e.x-(A?g/2:g),u),I++,A&&t.m(I,t.i(I-1).x,H.y))):90===u?(o.alignment===Bh?(u=a.right+e.x,0===e.x&&B.x>dt.x+o.rowIndent&&(u=Math.min(u,Math.max(B.x,u-Nh(o))))):o.alignment===Fh?(u=a.left+e.x,0===e.x&&B.x<dt.x-o.rowIndent&&(u=Math.max(u,Math.min(B.x,u+Nh(o))))):u=o.Sm||o.Tm&&1===o.maxGenerationCount?a.left-o.fa.x+e.x:a.x+a.width/2+e.x,_?(t.m(I,u,B.y),I++,t.m(I,u,a.bottom+c),I++,t.m(I,u,a.bottom+c+(e.y-g)/3),I++,t.m(I,u,a.bottom+c+2*(e.y-g)/3),I++,t.m(I,u,a.bottom+c+(e.y-g)),I++,t.m(I,u,H.y)):(A&&(t.m(I,B.x,a.bottom+c/2),I++),t.m(I,u,a.bottom+c/2),I++,t.m(I,u,a.bottom+c+e.y-(A?g/2:g)),I++,A&&t.m(I,H.x,t.i(I-1).y))):180===u?(o.alignment===Bh?(u=a.bottom+e.y,0===e.y&&B.y>dt.y+o.rowIndent&&(u=Math.min(u,Math.max(B.y,u-Nh(o))))):o.alignment===Fh?(u=a.top+e.y,0===e.y&&B.y<dt.y-o.rowIndent&&(u=Math.max(u,Math.min(B.y,u+Nh(o))))):u=o.Sm||o.Tm&&1===o.maxGenerationCount?a.top-o.fa.y+e.y:a.y+a.height/2+e.y,_?(t.m(I,B.x,u),I++,t.m(I,a.left-c,u),I++,t.m(I,a.left-c+(e.x+g)/3,u),I++,t.m(I,a.left-c+2*(e.x+g)/3,u),I++,t.m(I,a.left-c+(e.x+g),u),I++,t.m(I,H.x,u)):(A&&(t.m(I,a.left-c/2,B.y),I++),t.m(I,a.left-c/2,u),I++,t.m(I,a.left-c+e.x+(A?g/2:g),u),I++,A&&t.m(I,t.i(I-1).x,H.y))):270===u?(o.alignment===Bh?(u=a.right+e.x,0===e.x&&B.x>dt.x+o.rowIndent&&(u=Math.min(u,Math.max(B.x,u-Nh(o))))):o.alignment===Fh?(u=a.left+e.x,0===e.x&&B.x<dt.x-o.rowIndent&&(u=Math.max(u,Math.min(B.x,u+Nh(o))))):u=o.Sm||o.Tm&&1===o.maxGenerationCount?a.left-o.fa.x+e.x:a.x+a.width/2+e.x,_?(t.m(I,u,B.y),I++,t.m(I,u,a.top-c),I++,t.m(I,u,a.top-c+(e.y+g)/3),I++,t.m(I,u,a.top-c+2*(e.y+g)/3),I++,t.m(I,u,a.top-c+(e.y+g)),I++,t.m(I,u,H.y)):(A&&(t.m(I,B.x,a.top-c/2),I++),t.m(I,u,a.top-c/2),I++,t.m(I,u,a.top-c+e.y+(A?g/2:g)),I++,A&&t.m(I,H.x,t.i(I-1).y))):V("Invalid angle "+u),t.xf()}else t=this.link,(c=Fu(o))!==Fu(a)&&(g=Km(o),_=o.bounds,o=a.bounds,0===c&&o.left-_.right<g+1||90===c&&o.top-_.bottom<g+1||180===c&&_.left-o.right<g+1||270===c&&_.top-o.bottom<g+1||(t.xj(),o=t.curve===es,e=t.isOrthogonal,a=vd(this.fromVertex.alignment),t.Th(),0===c?(c=_.right+g/2,o?4===t.pointsCount&&(o=t.i(3).y,t.L(1,c-20,t.i(1).y),t.m(2,c-20,o),t.m(3,c,o),t.m(4,c+20,o),t.L(5,t.i(5).x,o)):e?a?t.L(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.L(2,c,t.i(2).y),t.L(3,c,t.i(3).y)):4===t.pointsCount?t.m(2,c,t.i(2).y):3===t.pointsCount?t.L(1,c,t.i(2).y):2===t.pointsCount&&t.m(1,c,t.i(1).y)):90===c?(c=_.bottom+g/2,o?4===t.pointsCount&&(o=t.i(3).x,t.L(1,t.i(1).x,c-20),t.m(2,o,c-20),t.m(3,o,c),t.m(4,o,c+20),t.L(5,o,t.i(5).y)):e?a?t.L(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.L(2,t.i(2).x,c),t.L(3,t.i(3).x,c)):4===t.pointsCount?t.m(2,t.i(2).x,c):3===t.pointsCount?t.L(1,t.i(2).x,c):2===t.pointsCount&&t.m(1,t.i(1).x,c)):180===c?(c=_.left-g/2,o?4===t.pointsCount&&(o=t.i(3).y,t.L(1,c+20,t.i(1).y),t.m(2,c+20,o),t.m(3,c,o),t.m(4,c-20,o),t.L(5,t.i(5).x,o)):e?a?t.L(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.L(2,c,t.i(2).y),t.L(3,c,t.i(3).y)):4===t.pointsCount?t.m(2,c,t.i(2).y):3===t.pointsCount?t.L(1,c,t.i(2).y):2===t.pointsCount&&t.m(1,c,t.i(1).y)):270===c&&(c=_.top-g/2,o?4===t.pointsCount&&(o=t.i(3).x,t.L(1,t.i(1).x,c+20),t.m(2,o,c+20),t.m(3,o,c),t.m(4,o,c-20),t.L(5,o,t.i(5).y)):e?a?t.L(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.L(2,t.i(2).x,c),t.L(3,t.i(3).x,c)):4===t.pointsCount?t.m(2,t.i(2).x,c):3===t.pointsCount?t.L(1,t.i(2).x,c):2===t.pointsCount&&t.m(1,t.i(1).x,c)),t.xf()))}},W.Object.defineProperties(Qa.prototype,{fromVertex:{get:function(){return this.Yc},set:function(t){this.Yc!==t&&(this.Yc=t)}},toVertex:{get:function(){return this.ed},set:function(t){this.ed!==t&&(this.ed=t)}},relativePoint:{get:function(){return this.lv},set:function(t){this.lv.set(t)}}}),Qa.className="TreeEdge",zr.prototype.initializeStandardTools=function(){this.Ya("Action",new Kc,this.mouseDownTools),this.Ya("Relinking",new os,this.mouseDownTools),this.Ya("LinkReshaping",new wo,this.mouseDownTools),this.Ya("Rotating",new il,this.mouseDownTools),this.Ya("Resizing",new Qs,this.mouseDownTools),this.Ya("Linking",new us,this.mouseMoveTools),this.Ya("Dragging",new lr,this.mouseMoveTools),this.Ya("DragSelecting",new xh,this.mouseMoveTools),this.Ya("Panning",new wh,this.mouseMoveTools),this.Ya("ContextMenu",new nl,this.mouseUpTools),this.Ya("TextEditing",new Ar,this.mouseUpTools),this.Ya("ClickCreating",new jd,this.mouseUpTools),this.Ya("ClickSelecting",new J0,this.mouseUpTools)},_l("Horizontal",new tp),_l("Spot",new d0),_l("Table",new Mm),_l("Viewbox",new hv),_l("TableRow",new lv),_l("TableColumn",new uv),_l("Graduated",new m0),_l("Grid",new Cm),dm.add("GraphLinksModel",Yo),dm.add("TreeModel",ll),mp(ds,null),mp(Wn,null);var P0=N.go,b1={get licenseKey(){return ke.licenseKey},set licenseKey(t){ke.licenseKey=t},get version(){return ke.version},Group:ai,EnumValue:wt,List:Vt,Set:Ht,Map:vt,Point:at,Size:He,Rect:te,Margin:nn,Spot:ki,Geometry:pn,PathFigure:qo,PathSegment:Vn,InputEvent:Cs,DiagramEvent:tc,ChangedEvent:jr,Model:Ti,GraphLinksModel:vn,TreeModel:ba,Binding:yo,Transaction:Ro,UndoManager:to,CommandHandler:Kn,Tool:Rn,DraggingTool:lr,DraggingInfo:af,DraggingOptions:h0,LinkingBaseTool:Es,LinkingTool:us,RelinkingTool:os,LinkReshapingTool:wo,ResizingTool:Qs,RotatingTool:il,ClickSelectingTool:J0,ActionTool:Kc,ClickCreatingTool:jd,HTMLInfo:Zc,ContextMenuTool:nl,DragSelectingTool:xh,PanningTool:wh,TextEditingTool:Ar,ToolManager:zr,Animation:ks,AnimationManager:Ns,AnimationTrigger:ka,Layer:xs,Diagram:ke,Palette:Ty,Overview:ku,Brush:Dn,GraphObject:Ri,Panel:Ke,RowColumnDefinition:_o,Shape:Yi,TextBlock:$n,TextBlockMetrics:lp,Picture:Ws,Part:Bt,Adornment:si,Node:Ne,Link:We,Placeholder:Ni,Layout:Ln,LayoutNetwork:rr,LayoutVertex:Do,LayoutEdge:zs,GridLayout:ss,PanelLayout:Wo,CircularLayout:Kr,CircularNetwork:Ov,CircularVertex:l1,CircularEdge:u1,ForceDirectedLayout:ds,ForceDirectedNetwork:Wl,ForceDirectedVertex:Nv,ForceDirectedEdge:Lv,LayeredDigraphLayout:Wn,LayeredDigraphNetwork:Mn,LayeredDigraphVertex:$m,LayeredDigraphEdge:Oh,TreeLayout:yn,TreeNetwork:bf,TreeVertex:hu,TreeEdge:Qa};"object"==typeof P0&&P0.version&&V("WARNING: a `go` object on the root object is already defined.  "+("Debug"in P0?"debug ":"")+"version: "+P0.version+", replaced with version: "+b1.version),ke.prototype.go=b1,N.go=b1,(void 0===N||void 0===N.module||"object"!=typeof N.module.exports)&&N.define&&"function"==typeof N.define&&N.define.amd&&N.define(b1),"object"==typeof fe.exports&&(fe.exports="undefined"!=typeof global?global.go:self.go)}()},740:(fe,ot,kt)=>{"use strict";var Tt=kt(9126).Buffer,Pt=kt(8792).Transform;function D($){Pt.call(this),this._block=Tt.allocUnsafe($),this._blockSize=$,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}kt(3516)(D,Pt),D.prototype._transform=function($,X,it){var K=null;try{this.update($,X)}catch(W){K=W}it(K)},D.prototype._flush=function($){var X=null;try{this.push(this.digest())}catch(it){X=it}$(X)},D.prototype.update=function($,X){if(function($,X){if(!Tt.isBuffer($)&&"string"!=typeof $)throw new TypeError("Data must be a string or a buffer")}($),this._finalized)throw new Error("Digest already called");Tt.isBuffer($)||($=Tt.from($,X));for(var it=this._block,K=0;this._blockOffset+$.length-K>=this._blockSize;){for(var W=this._blockOffset;W<this._blockSize;)it[W++]=$[K++];this._update(),this._blockOffset=0}for(;K<$.length;)it[this._blockOffset++]=$[K++];for(var j=0,tt=8*$.length;tt>0;++j)this._length[j]+=tt,(tt=this._length[j]/4294967296|0)>0&&(this._length[j]-=4294967296*tt);return this},D.prototype._update=function(){throw new Error("_update is not implemented")},D.prototype.digest=function($){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var X=this._digest();void 0!==$&&(X=X.toString($)),this._block.fill(0),this._blockOffset=0;for(var it=0;it<4;++it)this._length[it]=0;return X},D.prototype._digest=function(){throw new Error("_digest is not implemented")},fe.exports=D},9126:(fe,ot,kt)=>{var Tt=kt(3847),Pt=Tt.Buffer;function ht(D,$){for(var X in D)$[X]=D[X]}function ct(D,$,X){return Pt(D,$,X)}Pt.from&&Pt.alloc&&Pt.allocUnsafe&&Pt.allocUnsafeSlow?fe.exports=Tt:(ht(Tt,ot),ot.Buffer=ct),ct.prototype=Object.create(Pt.prototype),ht(Pt,ct),ct.from=function(D,$,X){if("number"==typeof D)throw new TypeError("Argument must not be a number");return Pt(D,$,X)},ct.alloc=function(D,$,X){if("number"!=typeof D)throw new TypeError("Argument must be a number");var it=Pt(D);return void 0!==$?"string"==typeof X?it.fill($,X):it.fill($):it.fill(0),it},ct.allocUnsafe=function(D){if("number"!=typeof D)throw new TypeError("Argument must be a number");return Pt(D)},ct.allocUnsafeSlow=function(D){if("number"!=typeof D)throw new TypeError("Argument must be a number");return Tt.SlowBuffer(D)}},4658:(fe,ot,kt)=>{var Tt=ot;Tt.utils=kt(6459),Tt.common=kt(3527),Tt.sha=kt(3777),Tt.ripemd=kt(3093),Tt.hmac=kt(4348),Tt.sha1=Tt.sha.sha1,Tt.sha256=Tt.sha.sha256,Tt.sha224=Tt.sha.sha224,Tt.sha384=Tt.sha.sha384,Tt.sha512=Tt.sha.sha512,Tt.ripemd160=Tt.ripemd.ripemd160},3527:(fe,ot,kt)=>{"use strict";var Tt=kt(6459),Pt=kt(4725);function ht(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}ot.BlockHash=ht,ht.prototype.update=function(D,$){if(D=Tt.toArray(D,$),this.pending=this.pending?this.pending.concat(D):D,this.pendingTotal+=D.length,this.pending.length>=this._delta8){var X=(D=this.pending).length%this._delta8;this.pending=D.slice(D.length-X,D.length),0===this.pending.length&&(this.pending=null),D=Tt.join32(D,0,D.length-X,this.endian);for(var it=0;it<D.length;it+=this._delta32)this._update(D,it,it+this._delta32)}return this},ht.prototype.digest=function(D){return this.update(this._pad()),Pt(null===this.pending),this._digest(D)},ht.prototype._pad=function(){var D=this.pendingTotal,$=this._delta8,X=$-(D+this.padLength)%$,it=new Array(X+this.padLength);it[0]=128;for(var K=1;K<X;K++)it[K]=0;if(D<<=3,"big"===this.endian){for(var W=8;W<this.padLength;W++)it[K++]=0;it[K++]=0,it[K++]=0,it[K++]=0,it[K++]=0,it[K++]=D>>>24&255,it[K++]=D>>>16&255,it[K++]=D>>>8&255,it[K++]=255&D}else for(it[K++]=255&D,it[K++]=D>>>8&255,it[K++]=D>>>16&255,it[K++]=D>>>24&255,it[K++]=0,it[K++]=0,it[K++]=0,it[K++]=0,W=8;W<this.padLength;W++)it[K++]=0;return it}},4348:(fe,ot,kt)=>{"use strict";var Tt=kt(6459),Pt=kt(4725);function ht(ct,D,$){if(!(this instanceof ht))return new ht(ct,D,$);this.Hash=ct,this.blockSize=ct.blockSize/8,this.outSize=ct.outSize/8,this.inner=null,this.outer=null,this._init(Tt.toArray(D,$))}fe.exports=ht,ht.prototype._init=function(D){D.length>this.blockSize&&(D=(new this.Hash).update(D).digest()),Pt(D.length<=this.blockSize);for(var $=D.length;$<this.blockSize;$++)D.push(0);for($=0;$<D.length;$++)D[$]^=54;for(this.inner=(new this.Hash).update(D),$=0;$<D.length;$++)D[$]^=106;this.outer=(new this.Hash).update(D)},ht.prototype.update=function(D,$){return this.inner.update(D,$),this},ht.prototype.digest=function(D){return this.outer.update(this.inner.digest()),this.outer.digest(D)}},3093:(fe,ot,kt)=>{"use strict";var Tt=kt(6459),Pt=kt(3527),ht=Tt.rotl32,ct=Tt.sum32,D=Tt.sum32_3,$=Tt.sum32_4,X=Pt.BlockHash;function it(){if(!(this instanceof it))return new it;X.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function K(Y,q,V,Z){return Y<=15?q^V^Z:Y<=31?q&V|~q&Z:Y<=47?(q|~V)^Z:Y<=63?q&Z|V&~Z:q^(V|~Z)}function j(Y){return Y<=15?1352829926:Y<=31?1548603684:Y<=47?1836072691:Y<=63?2053994217:0}Tt.inherits(it,X),ot.ripemd160=it,it.blockSize=512,it.outSize=160,it.hmacStrength=192,it.padLength=64,it.prototype._update=function(q,V){for(var Z=this.h[0],et=this.h[1],rt=this.h[2],mt=this.h[3],gt=this.h[4],Et=Z,Dt=et,Mt=rt,T=mt,h=gt,m=0;m<80;m++){var y=ct(ht($(Z,K(m,et,rt,mt),q[tt[m]+V],(Y=m)<=15?0:Y<=31?1518500249:Y<=47?1859775393:Y<=63?2400959708:2840853838),U[m]),gt);Z=gt,gt=mt,mt=ht(rt,10),rt=et,et=y,y=ct(ht($(Et,K(79-m,Dt,Mt,T),q[N[m]+V],j(m)),z[m]),h),Et=h,h=T,T=ht(Mt,10),Mt=Dt,Dt=y}var Y;y=D(this.h[1],rt,T),this.h[1]=D(this.h[2],mt,h),this.h[2]=D(this.h[3],gt,Et),this.h[3]=D(this.h[4],Z,Dt),this.h[4]=D(this.h[0],et,Mt),this.h[0]=y},it.prototype._digest=function(q){return"hex"===q?Tt.toHex32(this.h,"little"):Tt.split32(this.h,"little")};var tt=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],N=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],U=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],z=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},3777:(fe,ot,kt)=>{"use strict";ot.sha1=kt(8730),ot.sha224=kt(255),ot.sha256=kt(8572),ot.sha384=kt(5313),ot.sha512=kt(1391)},8730:(fe,ot,kt)=>{"use strict";var Tt=kt(6459),Pt=kt(3527),ht=kt(7082),ct=Tt.rotl32,D=Tt.sum32,$=Tt.sum32_5,X=ht.ft_1,it=Pt.BlockHash,K=[1518500249,1859775393,2400959708,3395469782];function W(){if(!(this instanceof W))return new W;it.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Tt.inherits(W,it),fe.exports=W,W.blockSize=512,W.outSize=160,W.hmacStrength=80,W.padLength=64,W.prototype._update=function(tt,N){for(var U=this.W,z=0;z<16;z++)U[z]=tt[N+z];for(;z<U.length;z++)U[z]=ct(U[z-3]^U[z-8]^U[z-14]^U[z-16],1);var Y=this.h[0],q=this.h[1],V=this.h[2],Z=this.h[3],et=this.h[4];for(z=0;z<U.length;z++){var rt=~~(z/20),mt=$(ct(Y,5),X(rt,q,V,Z),et,U[z],K[rt]);et=Z,Z=V,V=ct(q,30),q=Y,Y=mt}this.h[0]=D(this.h[0],Y),this.h[1]=D(this.h[1],q),this.h[2]=D(this.h[2],V),this.h[3]=D(this.h[3],Z),this.h[4]=D(this.h[4],et)},W.prototype._digest=function(tt){return"hex"===tt?Tt.toHex32(this.h,"big"):Tt.split32(this.h,"big")}},255:(fe,ot,kt)=>{"use strict";var Tt=kt(6459),Pt=kt(8572);function ht(){if(!(this instanceof ht))return new ht;Pt.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Tt.inherits(ht,Pt),fe.exports=ht,ht.blockSize=512,ht.outSize=224,ht.hmacStrength=192,ht.padLength=64,ht.prototype._digest=function(D){return"hex"===D?Tt.toHex32(this.h.slice(0,7),"big"):Tt.split32(this.h.slice(0,7),"big")}},8572:(fe,ot,kt)=>{"use strict";var Tt=kt(6459),Pt=kt(3527),ht=kt(7082),ct=kt(4725),D=Tt.sum32,$=Tt.sum32_4,X=Tt.sum32_5,it=ht.ch32,K=ht.maj32,W=ht.s0_256,j=ht.s1_256,tt=ht.g0_256,N=ht.g1_256,U=Pt.BlockHash,z=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Y(){if(!(this instanceof Y))return new Y;U.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=z,this.W=new Array(64)}Tt.inherits(Y,U),fe.exports=Y,Y.blockSize=512,Y.outSize=256,Y.hmacStrength=192,Y.padLength=64,Y.prototype._update=function(V,Z){for(var et=this.W,rt=0;rt<16;rt++)et[rt]=V[Z+rt];for(;rt<et.length;rt++)et[rt]=$(N(et[rt-2]),et[rt-7],tt(et[rt-15]),et[rt-16]);var mt=this.h[0],gt=this.h[1],Et=this.h[2],Dt=this.h[3],Mt=this.h[4],T=this.h[5],h=this.h[6],m=this.h[7];for(ct(this.k.length===et.length),rt=0;rt<et.length;rt++){var y=X(m,j(Mt),it(Mt,T,h),this.k[rt],et[rt]),v=D(W(mt),K(mt,gt,Et));m=h,h=T,T=Mt,Mt=D(Dt,y),Dt=Et,Et=gt,gt=mt,mt=D(y,v)}this.h[0]=D(this.h[0],mt),this.h[1]=D(this.h[1],gt),this.h[2]=D(this.h[2],Et),this.h[3]=D(this.h[3],Dt),this.h[4]=D(this.h[4],Mt),this.h[5]=D(this.h[5],T),this.h[6]=D(this.h[6],h),this.h[7]=D(this.h[7],m)},Y.prototype._digest=function(V){return"hex"===V?Tt.toHex32(this.h,"big"):Tt.split32(this.h,"big")}},5313:(fe,ot,kt)=>{"use strict";var Tt=kt(6459),Pt=kt(1391);function ht(){if(!(this instanceof ht))return new ht;Pt.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Tt.inherits(ht,Pt),fe.exports=ht,ht.blockSize=1024,ht.outSize=384,ht.hmacStrength=192,ht.padLength=128,ht.prototype._digest=function(D){return"hex"===D?Tt.toHex32(this.h.slice(0,12),"big"):Tt.split32(this.h.slice(0,12),"big")}},1391:(fe,ot,kt)=>{"use strict";var Tt=kt(6459),Pt=kt(3527),ht=kt(4725),ct=Tt.rotr64_hi,D=Tt.rotr64_lo,$=Tt.shr64_hi,X=Tt.shr64_lo,it=Tt.sum64,K=Tt.sum64_hi,W=Tt.sum64_lo,j=Tt.sum64_4_hi,tt=Tt.sum64_4_lo,N=Tt.sum64_5_hi,U=Tt.sum64_5_lo,z=Pt.BlockHash,Y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function q(){if(!(this instanceof q))return new q;z.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Y,this.W=new Array(160)}function V(y,v,M,S,P){var C=y&M^~y&P;return C<0&&(C+=4294967296),C}function Z(y,v,M,S,P,C){var d=v&S^~v&C;return d<0&&(d+=4294967296),d}function et(y,v,M,S,P){var C=y&M^y&P^M&P;return C<0&&(C+=4294967296),C}function rt(y,v,M,S,P,C){var d=v&S^v&C^S&C;return d<0&&(d+=4294967296),d}function mt(y,v){var C=ct(y,v,28)^ct(v,y,2)^ct(v,y,7);return C<0&&(C+=4294967296),C}function gt(y,v){var C=D(y,v,28)^D(v,y,2)^D(v,y,7);return C<0&&(C+=4294967296),C}function Et(y,v){var C=ct(y,v,14)^ct(y,v,18)^ct(v,y,9);return C<0&&(C+=4294967296),C}function Dt(y,v){var C=D(y,v,14)^D(y,v,18)^D(v,y,9);return C<0&&(C+=4294967296),C}function Mt(y,v){var C=ct(y,v,1)^ct(y,v,8)^$(y,v,7);return C<0&&(C+=4294967296),C}function T(y,v){var C=D(y,v,1)^D(y,v,8)^X(y,v,7);return C<0&&(C+=4294967296),C}function h(y,v){var C=ct(y,v,19)^ct(v,y,29)^$(y,v,6);return C<0&&(C+=4294967296),C}function m(y,v){var C=D(y,v,19)^D(v,y,29)^X(y,v,6);return C<0&&(C+=4294967296),C}Tt.inherits(q,z),fe.exports=q,q.blockSize=1024,q.outSize=512,q.hmacStrength=192,q.padLength=128,q.prototype._prepareBlock=function(v,M){for(var S=this.W,P=0;P<32;P++)S[P]=v[M+P];for(;P<S.length;P+=2){var C=h(S[P-4],S[P-3]),d=m(S[P-4],S[P-3]),k=S[P-14],nt=S[P-13],Q=Mt(S[P-30],S[P-29]),J=T(S[P-30],S[P-29]),xt=S[P-32],wt=S[P-31];S[P]=j(C,d,k,nt,Q,J,xt,wt),S[P+1]=tt(C,d,k,nt,Q,J,xt,wt)}},q.prototype._update=function(v,M){this._prepareBlock(v,M);var S=this.W,P=this.h[0],C=this.h[1],d=this.h[2],k=this.h[3],nt=this.h[4],Q=this.h[5],J=this.h[6],xt=this.h[7],wt=this.h[8],Ft=this.h[9],Gt=this.h[10],It=this.h[11],_t=this.h[12],Zt=this.h[13],Ot=this.h[14],At=this.h[15];ht(this.k.length===S.length);for(var jt=0;jt<S.length;jt+=2){var Kt=Ot,Vt=At,Ce=Et(wt,Ft),Ht=Dt(wt,Ft),ge=V(wt,0,Gt,0,_t),yi=Z(0,Ft,0,It,0,Zt),we=this.k[jt],de=this.k[jt+1],Fe=S[jt],Yt=S[jt+1],ee=N(Kt,Vt,Ce,Ht,ge,yi,we,de,Fe,Yt),Re=U(Kt,Vt,Ce,Ht,ge,yi,we,de,Fe,Yt);Kt=mt(P,C),Vt=gt(P,C),Ce=et(P,0,d,0,nt),Ht=rt(0,C,0,k,0,Q);var Nt=K(Kt,Vt,Ce,Ht),vt=W(Kt,Vt,Ce,Ht);Ot=_t,At=Zt,_t=Gt,Zt=It,Gt=wt,It=Ft,wt=K(J,xt,ee,Re),Ft=W(xt,xt,ee,Re),J=nt,xt=Q,nt=d,Q=k,d=P,k=C,P=K(ee,Re,Nt,vt),C=W(ee,Re,Nt,vt)}it(this.h,0,P,C),it(this.h,2,d,k),it(this.h,4,nt,Q),it(this.h,6,J,xt),it(this.h,8,wt,Ft),it(this.h,10,Gt,It),it(this.h,12,_t,Zt),it(this.h,14,Ot,At)},q.prototype._digest=function(v){return"hex"===v?Tt.toHex32(this.h,"big"):Tt.split32(this.h,"big")}},7082:(fe,ot,kt)=>{"use strict";var Pt=kt(6459).rotr32;function ct(j,tt,N){return j&tt^~j&N}function D(j,tt,N){return j&tt^j&N^tt&N}function $(j,tt,N){return j^tt^N}ot.ft_1=function(j,tt,N,U){return 0===j?ct(tt,N,U):1===j||3===j?$(tt,N,U):2===j?D(tt,N,U):void 0},ot.ch32=ct,ot.maj32=D,ot.p32=$,ot.s0_256=function(j){return Pt(j,2)^Pt(j,13)^Pt(j,22)},ot.s1_256=function(j){return Pt(j,6)^Pt(j,11)^Pt(j,25)},ot.g0_256=function(j){return Pt(j,7)^Pt(j,18)^j>>>3},ot.g1_256=function(j){return Pt(j,17)^Pt(j,19)^j>>>10}},6459:(fe,ot,kt)=>{"use strict";var Tt=kt(4725),Pt=kt(3516);function ht(m,y){return!(55296!=(64512&m.charCodeAt(y))||y<0||y+1>=m.length)&&56320==(64512&m.charCodeAt(y+1))}function $(m){return(m>>>24|m>>>8&65280|m<<8&16711680|(255&m)<<24)>>>0}function it(m){return 1===m.length?"0"+m:m}function K(m){return 7===m.length?"0"+m:6===m.length?"00"+m:5===m.length?"000"+m:4===m.length?"0000"+m:3===m.length?"00000"+m:2===m.length?"000000"+m:1===m.length?"0000000"+m:m}ot.inherits=Pt,ot.toArray=function(m,y){if(Array.isArray(m))return m.slice();if(!m)return[];var v=[];if("string"==typeof m)if(y){if("hex"===y)for((m=m.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(m="0"+m),S=0;S<m.length;S+=2)v.push(parseInt(m[S]+m[S+1],16))}else for(var M=0,S=0;S<m.length;S++){var P=m.charCodeAt(S);P<128?v[M++]=P:P<2048?(v[M++]=P>>6|192,v[M++]=63&P|128):ht(m,S)?(P=65536+((1023&P)<<10)+(1023&m.charCodeAt(++S)),v[M++]=P>>18|240,v[M++]=P>>12&63|128,v[M++]=P>>6&63|128,v[M++]=63&P|128):(v[M++]=P>>12|224,v[M++]=P>>6&63|128,v[M++]=63&P|128)}else for(S=0;S<m.length;S++)v[S]=0|m[S];return v},ot.toHex=function(m){for(var y="",v=0;v<m.length;v++)y+=it(m[v].toString(16));return y},ot.htonl=$,ot.toHex32=function(m,y){for(var v="",M=0;M<m.length;M++){var S=m[M];"little"===y&&(S=$(S)),v+=K(S.toString(16))}return v},ot.zero2=it,ot.zero8=K,ot.join32=function(m,y,v,M){var S=v-y;Tt(S%4==0);for(var P=new Array(S/4),C=0,d=y;C<P.length;C++,d+=4)P[C]=("big"===M?m[d]<<24|m[d+1]<<16|m[d+2]<<8|m[d+3]:m[d+3]<<24|m[d+2]<<16|m[d+1]<<8|m[d])>>>0;return P},ot.split32=function(m,y){for(var v=new Array(4*m.length),M=0,S=0;M<m.length;M++,S+=4){var P=m[M];"big"===y?(v[S]=P>>>24,v[S+1]=P>>>16&255,v[S+2]=P>>>8&255,v[S+3]=255&P):(v[S+3]=P>>>24,v[S+2]=P>>>16&255,v[S+1]=P>>>8&255,v[S]=255&P)}return v},ot.rotr32=function(m,y){return m>>>y|m<<32-y},ot.rotl32=function(m,y){return m<<y|m>>>32-y},ot.sum32=function(m,y){return m+y>>>0},ot.sum32_3=function(m,y,v){return m+y+v>>>0},ot.sum32_4=function(m,y,v,M){return m+y+v+M>>>0},ot.sum32_5=function(m,y,v,M,S){return m+y+v+M+S>>>0},ot.sum64=function(m,y,v,M){var C=M+m[y+1]>>>0;m[y]=(C<M?1:0)+v+m[y]>>>0,m[y+1]=C},ot.sum64_hi=function(m,y,v,M){return(y+M>>>0<y?1:0)+m+v>>>0},ot.sum64_lo=function(m,y,v,M){return y+M>>>0},ot.sum64_4_hi=function(m,y,v,M,S,P,C,d){var k=0,nt=y;return k+=(nt=nt+M>>>0)<y?1:0,k+=(nt=nt+P>>>0)<P?1:0,m+v+S+C+(k+=(nt=nt+d>>>0)<d?1:0)>>>0},ot.sum64_4_lo=function(m,y,v,M,S,P,C,d){return y+M+P+d>>>0},ot.sum64_5_hi=function(m,y,v,M,S,P,C,d,k,nt){var Q=0,J=y;return Q+=(J=J+M>>>0)<y?1:0,Q+=(J=J+P>>>0)<P?1:0,Q+=(J=J+d>>>0)<d?1:0,m+v+S+C+k+(Q+=(J=J+nt>>>0)<nt?1:0)>>>0},ot.sum64_5_lo=function(m,y,v,M,S,P,C,d,k,nt){return y+M+P+d+nt>>>0},ot.rotr64_hi=function(m,y,v){return(y<<32-v|m>>>v)>>>0},ot.rotr64_lo=function(m,y,v){return(m<<32-v|y>>>v)>>>0},ot.shr64_hi=function(m,y,v){return m>>>v},ot.shr64_lo=function(m,y,v){return(m<<32-v|y>>>v)>>>0}},8221:(fe,ot,kt)=>{fe.exports=kt(2283)},2283:function(fe,ot){var kt,Tt,Pt;(function(){var ht,ct,D,$,X,it,K,W,j,tt,N,U,z,Y,q;D=Math.floor,tt=Math.min,ct=function(V,Z){return V<Z?-1:V>Z?1:0},j=function(V,Z,et,rt,mt){var gt;if(null==et&&(et=0),null==mt&&(mt=ct),et<0)throw new Error("lo must be non-negative");for(null==rt&&(rt=V.length);et<rt;)mt(Z,V[gt=D((et+rt)/2)])<0?rt=gt:et=gt+1;return[].splice.apply(V,[et,et-et].concat(Z)),Z},it=function(V,Z,et){return null==et&&(et=ct),V.push(Z),Y(V,0,V.length-1,et)},X=function(V,Z){var et,rt;return null==Z&&(Z=ct),et=V.pop(),V.length?(rt=V[0],V[0]=et,q(V,0,Z)):rt=et,rt},W=function(V,Z,et){var rt;return null==et&&(et=ct),rt=V[0],V[0]=Z,q(V,0,et),rt},K=function(V,Z,et){var rt;return null==et&&(et=ct),V.length&&et(V[0],Z)<0&&(Z=(rt=[V[0],Z])[0],V[0]=rt[1],q(V,0,et)),Z},$=function(V,Z){var rt,gt,Dt,Mt,T;for(null==Z&&(Z=ct),Mt=[],rt=0,gt=(Dt=function(){T=[];for(var h=0,m=D(V.length/2);0<=m?h<m:h>m;0<=m?h++:h--)T.push(h);return T}.apply(this).reverse()).length;rt<gt;rt++)Mt.push(q(V,Dt[rt],Z));return Mt},z=function(V,Z,et){var rt;if(null==et&&(et=ct),-1!==(rt=V.indexOf(Z)))return Y(V,0,rt,et),q(V,rt,et)},N=function(V,Z,et){var mt,gt,Et,Dt;if(null==et&&(et=ct),!(mt=V.slice(0,Z)).length)return mt;for($(mt,et),gt=0,Et=(Dt=V.slice(Z)).length;gt<Et;gt++)K(mt,Dt[gt],et);return mt.sort(et).reverse()},U=function(V,Z,et){var rt,gt,Et,Dt,Mt,T,h,m,y;if(null==et&&(et=ct),10*Z<=V.length){if(!(Et=V.slice(0,Z).sort(et)).length)return Et;for(gt=Et[Et.length-1],Dt=0,T=(h=V.slice(Z)).length;Dt<T;Dt++)et(rt=h[Dt],gt)<0&&(j(Et,rt,0,null,et),Et.pop(),gt=Et[Et.length-1]);return Et}for($(V,et),y=[],Mt=0,m=tt(Z,V.length);0<=m?Mt<m:Mt>m;0<=m?++Mt:--Mt)y.push(X(V,et));return y},Y=function(V,Z,et,rt){var mt,gt,Et;for(null==rt&&(rt=ct),mt=V[et];et>Z&&rt(mt,gt=V[Et=et-1>>1])<0;)V[et]=gt,et=Et;return V[et]=mt},q=function(V,Z,et){var rt,mt,gt,Et,Dt;for(null==et&&(et=ct),mt=V.length,Dt=Z,gt=V[Z],rt=2*Z+1;rt<mt;)(Et=rt+1)<mt&&!(et(V[rt],V[Et])<0)&&(rt=Et),V[Z]=V[rt],rt=2*(Z=rt)+1;return V[Z]=gt,Y(V,Dt,Z,et)},ht=function(){function V(Z){this.cmp=null!=Z?Z:ct,this.nodes=[]}return V.push=it,V.pop=X,V.replace=W,V.pushpop=K,V.heapify=$,V.updateItem=z,V.nlargest=N,V.nsmallest=U,V.prototype.push=function(Z){return it(this.nodes,Z,this.cmp)},V.prototype.pop=function(){return X(this.nodes,this.cmp)},V.prototype.peek=function(){return this.nodes[0]},V.prototype.contains=function(Z){return-1!==this.nodes.indexOf(Z)},V.prototype.replace=function(Z){return W(this.nodes,Z,this.cmp)},V.prototype.pushpop=function(Z){return K(this.nodes,Z,this.cmp)},V.prototype.heapify=function(){return $(this.nodes,this.cmp)},V.prototype.updateItem=function(Z){return z(this.nodes,Z,this.cmp)},V.prototype.clear=function(){return this.nodes=[]},V.prototype.empty=function(){return 0===this.nodes.length},V.prototype.size=function(){return this.nodes.length},V.prototype.clone=function(){var Z;return(Z=new V).nodes=this.nodes.slice(0),Z},V.prototype.toArray=function(){return this.nodes.slice(0)},V.prototype.insert=V.prototype.push,V.prototype.top=V.prototype.peek,V.prototype.front=V.prototype.peek,V.prototype.has=V.prototype.contains,V.prototype.copy=V.prototype.clone,V}(),Tt=[],void 0===(Pt="function"==typeof(kt=function(){return ht})?kt.apply(ot,Tt):kt)||(fe.exports=Pt)}).call(this)},4317:function(fe,ot,kt){"use strict";var Tt,Pt,ht;Pt="undefined"!=typeof window?window:this,ht=function(Pt){function ht(D,$,X,it){D.hasOwnProperty($)||(D[$]=it.apply(null,X))}var ct={};return ht(ct,"Core/Globals.js",[],function(){var $,X,D=void 0!==Pt?Pt:"undefined"!=typeof window?window:{};return(X=$||($={})).SVG_NS="http://www.w3.org/2000/svg",X.product="Highcharts",X.version="9.3.1",X.win=D,X.doc=X.win.document,X.svg=X.doc&&X.doc.createElementNS&&!!X.doc.createElementNS(X.SVG_NS,"svg").createSVGRect,X.userAgent=X.win.navigator&&X.win.navigator.userAgent||"",X.isChrome=-1!==X.userAgent.indexOf("Chrome"),X.isFirefox=-1!==X.userAgent.indexOf("Firefox"),X.isMS=/(edge|msie|trident)/i.test(X.userAgent)&&!X.win.opera,X.isSafari=!X.isChrome&&-1!==X.userAgent.indexOf("Safari"),X.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(X.userAgent),X.isWebKit=-1!==X.userAgent.indexOf("AppleWebKit"),X.deg2rad=2*Math.PI/360,X.hasBidiBug=X.isFirefox&&4>parseInt(X.userAgent.split("Firefox/")[1],10),X.hasTouch=!!X.win.TouchEvent,X.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],X.noop=function(){},X.supportsPassiveEvents=function(){var it=!1;if(!X.isMS){var K=Object.defineProperty({},"passive",{get:function(){it=!0}});X.win.addEventListener&&X.win.removeEventListener&&(X.win.addEventListener("testPassive",X.noop,K),X.win.removeEventListener("testPassive",X.noop,K))}return it}(),X.charts=[],X.dateFormats={},X.seriesTypes={},X.symbolSizes={},X.chartCount=0,$}),ht(ct,"Core/Utilities.js",[ct["Core/Globals.js"]],function(D){function $(S,P,C,d){var k=P?"Highcharts error":"Highcharts warning";32===S&&(S=k+": Deprecated member");var nt=U(S),Q=nt?k+" #"+S+": www.highcharts.com/errors/"+S+"/":S.toString();if(void 0!==d){var J="";nt&&(Q+="?"),gt(d,function(xt,wt){J+="\n - "+wt+": "+xt,nt&&(Q+=encodeURI(wt)+"="+encodeURI(xt))}),Q+=J}Dt(D,"displayError",{chart:C,code:S,message:Q,params:d},function(){if(P)throw Error(Q);h.console&&-1===$.messages.indexOf(Q)&&console.warn(Q)}),$.messages.push(Q)}function it(S,P){return parseInt(S,P||10)}function K(S){return"string"==typeof S}function W(S){return"[object Array]"===(S=Object.prototype.toString.call(S))||"[object Array Iterator]"===S}function j(S,P){return!(!S||"object"!=typeof S||P&&W(S))}function tt(S){return j(S)&&"number"==typeof S.nodeType}function N(S){var P=S&&S.constructor;return!(!j(S,!0)||tt(S)||!P||!P.name||"Object"===P.name)}function U(S){return"number"==typeof S&&!isNaN(S)&&1/0>S&&-1/0<S}function z(S){return null!=S}function Y(S,P,C){var d;return K(P)?z(C)?S.setAttribute(P,C):S&&S.getAttribute&&((d=S.getAttribute(P))||"class"!==P||(d=S.getAttribute(P+"Name"))):gt(P,function(k,nt){z(k)?S.setAttribute(nt,k):S.removeAttribute(nt)}),d}function q(S,P){var C;for(C in S||(S={}),P)S[C]=P[C];return S}function V(){for(var S=arguments,P=S.length,C=0;C<P;C++){var d=S[C];if(null!=d)return d}}function Z(S,P){D.isMS&&!D.svg&&P&&void 0!==P.opacity&&(P.filter="alpha(opacity="+100*P.opacity+")"),q(S.style,P)}function et(S,P,C,d,k){return S=T.createElement(S),P&&q(S,P),k&&Z(S,{padding:"0",border:"none",margin:"0"}),C&&Z(S,C),d&&d.appendChild(S),S}function rt(S,P){return 1e14<S?S:parseFloat(S.toPrecision(P||14))}function gt(S,P,C){for(var d in S)Object.hasOwnProperty.call(S,d)&&P.call(C||S[d],S[d],d,S)}function Et(S,P,C){function d(J,xt){var wt=S.removeEventListener||D.removeEventListenerPolyfill;wt&&wt.call(S,J,xt,!1)}function k(J){var xt;if(S.nodeName){if(P){var wt={};wt[P]=!0}else wt=J;gt(wt,function(Ft,Gt){if(J[Gt])for(xt=J[Gt].length;xt--;)d(Gt,J[Gt][xt].fn)})}}var nt="function"==typeof S&&S.prototype||S;if(Object.hasOwnProperty.call(nt,"hcEvents")){var Q=nt.hcEvents;P?(nt=Q[P]||[],C?(Q[P]=nt.filter(function(J){return C!==J.fn}),d(P,C)):(k(Q),Q[P]=[])):(k(Q),delete nt.hcEvents)}}function Dt(S,P,C,d){if(C=C||{},T.createEvent&&(S.dispatchEvent||S.fireEvent&&S!==D)){var k=T.createEvent("Events");k.initEvent(P,!0,!0),C=q(k,C),S.dispatchEvent?S.dispatchEvent(C):S.fireEvent(P,C)}else if(S.hcEvents){C.target||q(C,{preventDefault:function(){C.defaultPrevented=!0},target:S,type:P}),k=[];for(var nt=S,Q=!1;nt.hcEvents;)Object.hasOwnProperty.call(nt,"hcEvents")&&nt.hcEvents[P]&&(k.length&&(Q=!0),k.unshift.apply(k,nt.hcEvents[P])),nt=Object.getPrototypeOf(nt);Q&&k.sort(function(J,xt){return J.order-xt.order}),k.forEach(function(J){!1===J.fn.call(S,C)&&C.preventDefault()})}d&&!C.defaultPrevented&&d.call(S,C)}var m,Mt=D.charts,T=D.doc,h=D.win;($||($={})).messages=[],Math.easeInOutSine=function(S){return-.5*(Math.cos(Math.PI*S)-1)};var y=Array.prototype.find?function(S,P){return S.find(P)}:function(S,P){var C,d=S.length;for(C=0;C<d;C++)if(P(S[C],C))return S[C]};gt({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(S,P){D[P]=function(C){var d;return $(32,!1,void 0,((d={})["Highcharts."+P]="use Array."+S,d)),Array.prototype[S].apply(C,[].slice.call(arguments,1))}});var v,S,P,M=(S=Math.random().toString(36).substring(2,9)+"-",P=0,function(){return"highcharts-"+(v?"":S)+P++});return h.jQuery&&(h.jQuery.fn.highcharts=function(){var S=[].slice.call(arguments);if(this[0])return S[0]?(new(D[K(S[0])?S.shift():"Chart"])(this[0],S[0],S[1]),this):Mt[Y(this[0],"data-highcharts-chart")]}),y={addEvent:function(S,P,C,d){void 0===d&&(d={});var k="function"==typeof S&&S.prototype||S;Object.hasOwnProperty.call(k,"hcEvents")||(k.hcEvents={}),k=k.hcEvents,D.Point&&S instanceof D.Point&&S.series&&S.series.chart&&(S.series.chart.runTrackerClick=!0);var nt=S.addEventListener||D.addEventListenerPolyfill;return nt&&nt.call(S,P,C,!!D.supportsPassiveEvents&&{passive:void 0===d.passive?-1!==P.indexOf("touch"):d.passive,capture:!1}),k[P]||(k[P]=[]),k[P].push({fn:C,order:"number"==typeof d.order?d.order:1/0}),k[P].sort(function(Q,J){return Q.order-J.order}),function(){Et(S,P,C)}},arrayMax:function(S){for(var P=S.length,C=S[0];P--;)S[P]>C&&(C=S[P]);return C},arrayMin:function(S){for(var P=S.length,C=S[0];P--;)S[P]<C&&(C=S[P]);return C},attr:Y,clamp:function(S,P,C){return S>P?S<C?S:C:P},cleanRecursively:function X(S,P){var C={};return gt(S,function(d,k){j(S[k],!0)&&!S.nodeType&&P[k]?(d=X(S[k],P[k]),Object.keys(d).length&&(C[k]=d)):(j(S[k])||S[k]!==P[k])&&(C[k]=S[k])}),C},clearTimeout:function(S){z(S)&&clearTimeout(S)},correctFloat:rt,createElement:et,css:Z,defined:z,destroyObjectProperties:function(S,P){gt(S,function(C,d){C&&C!==P&&C.destroy&&C.destroy(),delete S[d]})},discardElement:function(S){m||(m=et("div")),S&&m.appendChild(S),m.innerHTML=""},erase:function(S,P){for(var C=S.length;C--;)if(S[C]===P){S.splice(C,1);break}},error:$,extend:q,extendClass:function(S,P){var C=function(){};return q(C.prototype=new S,P),C},find:y,fireEvent:Dt,getMagnitude:function(S){return Math.pow(10,Math.floor(Math.log(S)/Math.LN10))},getNestedProperty:function(S,P){for(S=S.split(".");S.length&&z(P);){var C=S.shift();if(void 0===C||"__proto__"===C||!z(P=P[C])||"function"==typeof P||"number"==typeof P.nodeType||P===h)return}return P},getStyle:function mt(S,P,C){var d=D.getStyle||mt;if("width"===P)return P=Math.min(S.offsetWidth,S.scrollWidth),(C=S.getBoundingClientRect&&S.getBoundingClientRect().width)<P&&C>=P-1&&(P=Math.floor(C)),Math.max(0,P-(d(S,"padding-left",!0)||0)-(d(S,"padding-right",!0)||0));if("height"===P)return Math.max(0,Math.min(S.offsetHeight,S.scrollHeight)-(d(S,"padding-top",!0)||0)-(d(S,"padding-bottom",!0)||0));if(h.getComputedStyle||$(27,!0),S=h.getComputedStyle(S,void 0)){var k=S.getPropertyValue(P);V(C,"opacity"!==P)&&(k=it(k))}return k},inArray:function(S,P,C){return $(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),P.indexOf(S,C)},isArray:W,isClass:N,isDOMElement:tt,isFunction:function(S){return"function"==typeof S},isNumber:U,isObject:j,isString:K,keys:function(S){return $(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(S)},merge:function(){var S,P=arguments,C={},d=function(nt,Q){return"object"!=typeof nt&&(nt={}),gt(Q,function(J,xt){"__proto__"!==xt&&"constructor"!==xt&&(nt[xt]=!j(J,!0)||N(J)||tt(J)?Q[xt]:d(nt[xt]||{},J))}),nt};!0===P[0]&&(C=P[1],P=Array.prototype.slice.call(P,2));var k=P.length;for(S=0;S<k;S++)C=d(C,P[S]);return C},normalizeTickInterval:function(S,P,C,d,k){var nt=S,Q=S/(C=V(C,1));for(P||(P=k?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===d&&(1===C?P=P.filter(function(J){return J%1==0}):.1>=C&&(P=[1/C]))),d=0;d<P.length&&(nt=P[d],!(k&&nt*C>=S||!k&&Q<=(P[d]+(P[d+1]||P[d]))/2));d++);return rt(nt*C,-Math.round(Math.log(.001)/Math.LN10))},objectEach:gt,offset:function(S){var P=T.documentElement;return{top:(S=S.parentElement||S.parentNode?S.getBoundingClientRect():{top:0,left:0,width:0,height:0}).top+(h.pageYOffset||P.scrollTop)-(P.clientTop||0),left:S.left+(h.pageXOffset||P.scrollLeft)-(P.clientLeft||0),width:S.width,height:S.height}},pad:function(S,P,C){return Array((P||2)+1-String(S).replace("-","").length).join(C||"0")+S},pick:V,pInt:it,relativeLength:function(S,P,C){return/%$/.test(S)?P*parseFloat(S)/100+(C||0):parseFloat(S)},removeEvent:Et,splat:function(S){return W(S)?S:[S]},stableSort:function(S,P){var d,k,C=S.length;for(k=0;k<C;k++)S[k].safeI=k;for(S.sort(function(nt,Q){return 0===(d=P(nt,Q))?nt.safeI-Q.safeI:d}),k=0;k<C;k++)delete S[k].safeI},syncTimeout:function(S,P,C){return 0<P?setTimeout(S,P,C):(S.call(0,C),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:M,useSerialIds:function(S){return v=V(S,v)},wrap:function(S,P,C){var d=S[P];S[P]=function(){var k=Array.prototype.slice.call(arguments),nt=arguments,Q=this;return Q.proceed=function(){d.apply(Q,arguments.length?arguments:nt)},k.unshift(d),k=C.apply(this,k),Q.proceed=null,k}}},y}),ht(ct,"Core/Chart/ChartDefaults.js",[],function(){return{panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},zoomBySingleTouch:!1,width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),ht(ct,"Core/Color/Color.js",[ct["Core/Globals.js"],ct["Core/Utilities.js"]],function(D,$){var X=$.isNumber,it=$.merge,K=$.pInt;return function(){function W(j){this.rgba=[NaN,NaN,NaN,NaN],this.input=j;var tt=D.Color;return tt&&tt!==W?new tt(j):this instanceof W?void this.init(j):new W(j)}return W.parse=function(j){return j?new W(j):W.None},W.prototype.init=function(j){var tt;if("object"==typeof j&&void 0!==j.stops)this.stops=j.stops.map(function(Y){return new W(Y[1])});else if("string"==typeof j){if(this.input=j=W.names[j.toLowerCase()]||j,"#"===j.charAt(0)){var N=j.length,U=parseInt(j.substr(1),16);7===N?tt=[(16711680&U)>>16,(65280&U)>>8,255&U,1]:4===N&&(tt=[(3840&U)>>4|(3840&U)>>8,(240&U)>>4|240&U,(15&U)<<4|15&U,1])}if(!tt)for(U=W.parsers.length;U--&&!tt;){var z=W.parsers[U];(N=z.regex.exec(j))&&(tt=z.parse(N))}}tt&&(this.rgba=tt)},W.prototype.get=function(j){var tt=this.input,N=this.rgba;if("object"==typeof tt&&void 0!==this.stops){var U=it(tt);return U.stops=[].slice.call(U.stops),this.stops.forEach(function(z,Y){U.stops[Y]=[U.stops[Y][0],z.get(j)]}),U}return N&&X(N[0])?"rgb"===j||!j&&1===N[3]?"rgb("+N[0]+","+N[1]+","+N[2]+")":"a"===j?""+N[3]:"rgba("+N.join(",")+")":tt},W.prototype.brighten=function(j){var tt=this.rgba;if(this.stops)this.stops.forEach(function(U){U.brighten(j)});else if(X(j)&&0!==j)for(var N=0;3>N;N++)tt[N]+=K(255*j),0>tt[N]&&(tt[N]=0),255<tt[N]&&(tt[N]=255);return this},W.prototype.setOpacity=function(j){return this.rgba[3]=j,this},W.prototype.tweenTo=function(j,tt){var N=this.rgba,U=j.rgba;return X(N[0])&&X(U[0])?((j=1!==U[3]||1!==N[3])?"rgba(":"rgb(")+Math.round(U[0]+(N[0]-U[0])*(1-tt))+","+Math.round(U[1]+(N[1]-U[1])*(1-tt))+","+Math.round(U[2]+(N[2]-U[2])*(1-tt))+(j?","+(U[3]+(N[3]-U[3])*(1-tt)):"")+")":j.input||"none"},W.names={white:"#ffffff",black:"#000000"},W.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(j){return[K(j[1]),K(j[2]),K(j[3]),parseFloat(j[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(j){return[K(j[1]),K(j[2]),K(j[3]),1]}}],W.None=new W(""),W}()}),ht(ct,"Core/Color/Palettes.js",[],function(){return{colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")}}),ht(ct,"Core/Time.js",[ct["Core/Globals.js"],ct["Core/Utilities.js"]],function(D,$){var X=D.win,it=$.defined,K=$.error,W=$.extend,j=$.isObject,tt=$.merge,N=$.objectEach,U=$.pad,z=$.pick,Y=$.splat,q=$.timeUnits,V=D.isSafari&&X.Intl&&X.Intl.DateTimeFormat.prototype.formatRange,Z=D.isSafari&&X.Intl&&!X.Intl.DateTimeFormat.prototype.formatRange;return $=function(){function et(rt){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=X.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(rt)}return et.prototype.get=function(rt,mt){if(this.variableTimezone||this.timezoneOffset){var gt=mt.getTime(),Et=gt-this.getTimezoneOffset(mt);return mt.setTime(Et),rt=mt["getUTC"+rt](),mt.setTime(gt),rt}return this.useUTC?mt["getUTC"+rt]():mt["get"+rt]()},et.prototype.set=function(rt,mt,gt){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===rt||"Seconds"===rt||"Minutes"===rt&&this.getTimezoneOffset(mt)%36e5==0)return mt["setUTC"+rt](gt);var Et=this.getTimezoneOffset(mt);return Et=mt.getTime()-Et,mt.setTime(Et),mt["setUTC"+rt](gt),rt=this.getTimezoneOffset(mt),Et=mt.getTime()+rt,mt.setTime(Et)}return this.useUTC||V&&"FullYear"===rt?mt["setUTC"+rt](gt):mt["set"+rt](gt)},et.prototype.update=function(rt){var mt=z(rt&&rt.useUTC,!0);this.options=rt=tt(!0,this.options||{},rt),this.Date=rt.Date||X.Date||Date,this.timezoneOffset=(this.useUTC=mt)&&rt.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=mt&&!(!rt.getTimezoneOffset&&!rt.timezone)},et.prototype.makeTime=function(rt,mt,gt,Et,Dt,Mt){if(this.useUTC){var T=this.Date.UTC.apply(0,arguments),h=this.getTimezoneOffset(T),m=this.getTimezoneOffset(T+=h);h!==m?T+=m-h:h-36e5!==this.getTimezoneOffset(T-36e5)||Z||(T-=36e5)}else T=new this.Date(rt,mt,z(gt,1),z(Et,0),z(Dt,0),z(Mt,0)).getTime();return T},et.prototype.timezoneOffsetFunction=function(){var rt=this,mt=this.options,gt=mt.moment||X.moment;if(!this.useUTC)return function(Et){return 6e4*new Date(Et.toString()).getTimezoneOffset()};if(mt.timezone){if(gt)return function(Et){return 6e4*-gt.tz(Et,mt.timezone).utcOffset()};K(25)}return this.useUTC&&mt.getTimezoneOffset?function(Et){return 6e4*mt.getTimezoneOffset(Et.valueOf())}:function(){return 6e4*(rt.timezoneOffset||0)}},et.prototype.dateFormat=function(rt,mt,gt){if(!it(mt)||isNaN(mt))return D.defaultOptions.lang&&D.defaultOptions.lang.invalidDate||"";rt=z(rt,"%Y-%m-%d %H:%M:%S");var Et=this,Dt=new this.Date(mt),Mt=this.get("Hours",Dt),T=this.get("Day",Dt),h=this.get("Date",Dt),m=this.get("Month",Dt),y=this.get("FullYear",Dt),v=D.defaultOptions.lang,M=v&&v.weekdays,S=v&&v.shortWeekdays;return Dt=W({a:S?S[T]:M[T].substr(0,3),A:M[T],d:U(h),e:U(h,2," "),w:T,b:v.shortMonths[m],B:v.months[m],m:U(m+1),o:m+1,y:y.toString().substr(2,2),Y:y,H:U(Mt),k:Mt,I:U(Mt%12||12),l:Mt%12||12,M:U(this.get("Minutes",Dt)),p:12>Mt?"AM":"PM",P:12>Mt?"am":"pm",S:U(Dt.getSeconds()),L:U(Math.floor(mt%1e3),3)},D.dateFormats),N(Dt,function(P,C){for(;-1!==rt.indexOf("%"+C);)rt=rt.replace("%"+C,"function"==typeof P?P.call(Et,mt):P)}),gt?rt.substr(0,1).toUpperCase()+rt.substr(1):rt},et.prototype.resolveDTLFormat=function(rt){return j(rt,!0)?rt:{main:(rt=Y(rt))[0],from:rt[1],to:rt[2]}},et.prototype.getTimeTicks=function(rt,mt,gt,Et){var v,Dt=this,Mt=[],T={},h=new Dt.Date(mt),m=rt.unitRange,y=rt.count||1;if(Et=z(Et,1),it(mt)){if(Dt.set("Milliseconds",h,m>=q.second?0:y*Math.floor(Dt.get("Milliseconds",h)/y)),m>=q.second&&Dt.set("Seconds",h,m>=q.minute?0:y*Math.floor(Dt.get("Seconds",h)/y)),m>=q.minute&&Dt.set("Minutes",h,m>=q.hour?0:y*Math.floor(Dt.get("Minutes",h)/y)),m>=q.hour&&Dt.set("Hours",h,m>=q.day?0:y*Math.floor(Dt.get("Hours",h)/y)),m>=q.day&&Dt.set("Date",h,m>=q.month?1:Math.max(1,y*Math.floor(Dt.get("Date",h)/y))),m>=q.month){Dt.set("Month",h,m>=q.year?0:y*Math.floor(Dt.get("Month",h)/y));var M=Dt.get("FullYear",h)}m>=q.year&&Dt.set("FullYear",h,M-M%y),m===q.week&&(M=Dt.get("Day",h),Dt.set("Date",h,Dt.get("Date",h)-M+Et+(M<Et?-7:0))),M=Dt.get("FullYear",h),Et=Dt.get("Month",h);var S=Dt.get("Date",h),P=Dt.get("Hours",h);for(mt=h.getTime(),!Dt.variableTimezone&&Dt.useUTC||!it(gt)||(v=gt-mt>4*q.month||Dt.getTimezoneOffset(mt)!==Dt.getTimezoneOffset(gt)),mt=h.getTime(),h=1;mt<gt;)Mt.push(mt),mt=m===q.year?Dt.makeTime(M+h*y,0):m===q.month?Dt.makeTime(M,Et+h*y):!v||m!==q.day&&m!==q.week?v&&m===q.hour&&1<y?Dt.makeTime(M,Et,S,P+h*y):mt+m*y:Dt.makeTime(M,Et,S+h*y*(m===q.day?1:7)),h++;Mt.push(mt),m<=q.hour&&1e4>Mt.length&&Mt.forEach(function(C){C%18e5==0&&"000000000"===Dt.dateFormat("%H%M%S%L",C)&&(T[C]="day")})}return Mt.info=W(rt,{higherRanks:T,totalRange:m*y}),Mt},et.prototype.getDateFormat=function(rt,mt,gt,Et){var Dt=this.dateFormat("%m-%d %H:%M:%S.%L",mt),Mt={millisecond:15,second:12,minute:9,hour:6,day:3},T="millisecond";for(h in q){if(rt===q.week&&+this.dateFormat("%w",mt)===gt&&"00:00:00.000"===Dt.substr(6)){var h="week";break}if(q[h]>rt){h=T;break}if(Mt[h]&&Dt.substr(Mt[h])!=="01-01 00:00:00.000".substr(Mt[h]))break;"week"!==h&&(T=h)}if(h)var m=this.resolveDTLFormat(Et[h]).main;return m},et}(),$}),ht(ct,"Core/DefaultOptions.js",[ct["Core/Chart/ChartDefaults.js"],ct["Core/Color/Color.js"],ct["Core/Globals.js"],ct["Core/Color/Palettes.js"],ct["Core/Time.js"],ct["Core/Utilities.js"]],function(D,$,X,it,K,W){$=$.parse;var j=W.merge,tt={colors:it.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:D,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:X.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:X.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:$("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"12px",whiteSpace:"nowrap"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};tt.chart.styledMode=!1;var N=new K(j(tt.global,tt.time));return{defaultOptions:tt,defaultTime:N,getOptions:function(){return tt},setOptions:function(U){return j(!0,tt,U),(U.time||U.global)&&(X.time?X.time.update(j(tt.global,tt.time,U.global,U.time)):X.time=N),tt}}}),ht(ct,"Core/Animation/Fx.js",[ct["Core/Color/Color.js"],ct["Core/Globals.js"],ct["Core/Utilities.js"]],function(D,$,X){var it=D.parse,K=$.win,W=X.isNumber,j=X.objectEach;return function(){function tt(N,U,z){this.pos=NaN,this.options=U,this.elem=N,this.prop=z}return tt.prototype.dSetter=function(){var N=this.paths,U=N&&N[0];N=N&&N[1];var z=this.now||0,Y=[];if(1!==z&&U&&N)if(U.length===N.length&&1>z)for(var q=0;q<N.length;q++){for(var V=U[q],Z=N[q],et=[],rt=0;rt<Z.length;rt++){var mt=V[rt],gt=Z[rt];et[rt]=W(mt)&&W(gt)&&("A"!==Z[0]||4!==rt&&5!==rt)?mt+z*(gt-mt):gt}Y.push(et)}else Y=N;else Y=this.toD||[];this.elem.attr("d",Y,void 0,!0)},tt.prototype.update=function(){var N=this.elem,U=this.prop,z=this.now,Y=this.options.step;this[U+"Setter"]?this[U+"Setter"]():N.attr?N.element&&N.attr(U,z,null,!0):N.style[U]=z+this.unit,Y&&Y.call(N,z,this)},tt.prototype.run=function(N,U,z){var Y=this,q=Y.options,V=function(rt){return!V.stopped&&Y.step(rt)},Z=K.requestAnimationFrame||function(rt){setTimeout(rt,13)},et=function(){for(var rt=0;rt<tt.timers.length;rt++)tt.timers[rt]()||tt.timers.splice(rt--,1);tt.timers.length&&Z(et)};N!==U||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=N,this.end=U,this.unit=z,this.now=this.start,this.pos=0,V.elem=this.elem,V.prop=this.prop,V()&&1===tt.timers.push(V)&&Z(et)):(delete q.curAnim[this.prop],q.complete&&0===Object.keys(q.curAnim).length&&q.complete.call(this.elem))},tt.prototype.step=function(N){var U=+new Date,z=this.options,Y=this.elem,q=z.complete,V=z.duration,Z=z.curAnim;if(Y.attr&&!Y.element)N=!1;else if(N||U>=V+this.startTime){this.now=this.end,this.pos=1,this.update();var et=Z[this.prop]=!0;j(Z,function(rt){!0!==rt&&(et=!1)}),et&&q&&q.call(Y),N=!1}else this.pos=z.easing((U-this.startTime)/V),this.now=this.start+(this.end-this.start)*this.pos,this.update(),N=!0;return N},tt.prototype.initPath=function(N,U,z){function Y(Dt,Mt){for(;Dt.length<Et;){var T=Dt[0],h=Mt[Et-Dt.length];h&&"M"===T[0]&&(Dt[0]="C"===h[0]?["C",T[1],T[2],T[1],T[2],T[1],T[2]]:["L",T[1],T[2]]),Dt.unshift(T),et&&(T=Dt.pop(),Dt.push(Dt[Dt.length-1],T))}}function q(Dt,Mt){for(;Dt.length<Et;)if("C"===(Mt=Dt[Math.floor(Dt.length/rt)-1].slice())[0]&&(Mt[1]=Mt[5],Mt[2]=Mt[6]),et){var T=Dt[Math.floor(Dt.length/rt)].slice();Dt.splice(Dt.length/2,0,Mt,T)}else Dt.push(Mt)}var V=N.startX,Z=N.endX;z=z.slice();var et=N.isArea,rt=et?2:1;if(!(U=U&&U.slice()))return[z,z];if(V&&Z&&Z.length){for(N=0;N<V.length;N++){if(V[N]===Z[0]){var mt=N;break}if(V[0]===Z[Z.length-V.length+N]){mt=N;var gt=!0;break}if(V[V.length-1]===Z[Z.length-V.length+N]){mt=V.length-N;break}}void 0===mt&&(U=[])}if(U.length&&W(mt)){var Et=z.length+mt*rt;gt?(Y(U,z),q(z,U)):(Y(z,U),q(U,z))}return[U,z]},tt.prototype.fillSetter=function(){tt.prototype.strokeSetter.apply(this,arguments)},tt.prototype.strokeSetter=function(){this.elem.attr(this.prop,it(this.start).tweenTo(it(this.end),this.pos),null,!0)},tt.timers=[],tt}()}),ht(ct,"Core/Animation/AnimationUtilities.js",[ct["Core/Animation/Fx.js"],ct["Core/Utilities.js"]],function(D,$){function X(q){return N(q)?U({duration:500,defer:0},q):{duration:q?500:0,defer:0}}function it(q,V){for(var Z=D.timers.length;Z--;)D.timers[Z].elem!==q||V&&V!==D.timers[Z].prop||(D.timers[Z].stopped=!0)}var K=$.defined,W=$.getStyle,j=$.isArray,tt=$.isNumber,N=$.isObject,U=$.merge,z=$.objectEach,Y=$.pick;return{animate:function(q,V,Z){var et,mt,gt,rt="";if(!N(Z)){var Et=arguments;Z={duration:Et[2],easing:Et[3],complete:Et[4]}}tt(Z.duration)||(Z.duration=400),Z.easing="function"==typeof Z.easing?Z.easing:Math[Z.easing]||Math.easeInOutSine,Z.curAnim=U(V),z(V,function(Dt,Mt){it(q,Mt),gt=new D(q,Z,Mt),mt=void 0,"d"===Mt&&j(V.d)?(gt.paths=gt.initPath(q,q.pathArray,V.d),gt.toD=V.d,et=0,mt=1):q.attr?et=q.attr(Mt):(et=parseFloat(W(q,Mt))||0,"opacity"!==Mt&&(rt="px")),mt||(mt=Dt),"string"==typeof mt&&mt.match("px")&&(mt=mt.replace(/px/g,"")),gt.run(et,mt,rt)})},animObject:X,getDeferredAnimation:function(q,V,Z){var et=X(V),rt=0,mt=0;return(Z?[Z]:q.series).forEach(function(gt){gt=X(gt.options.animation),rt=V&&K(V.defer)?et.defer:Math.max(rt,gt.duration+gt.defer),mt=Math.min(et.duration,gt.duration)}),q.renderer.forExport&&(rt=0),{defer:Math.max(0,rt-mt),duration:Math.min(rt,mt)}},setAnimation:function(q,V){V.renderer.globalAnimation=Y(q,V.options.chart.animation,!0)},stop:it}}),ht(ct,"Core/Renderer/HTML/AST.js",[ct["Core/Globals.js"],ct["Core/Utilities.js"]],function(D,$){var X=D.SVG_NS,it=$.attr,K=$.createElement,W=$.discardElement,j=$.error,tt=$.isString,N=$.objectEach,U=$.splat;try{var z=!!(new DOMParser).parseFromString("","text/html")}catch(Y){z=!1}return function(){function Y(q){this.nodes="string"==typeof q?this.parseMarkup(q):q}return Y.filterUserAttributes=function(q){return N(q,function(V,Z){var et=!0;-1===Y.allowedAttributes.indexOf(Z)&&(et=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(Z)&&(et=tt(V)&&Y.allowedReferences.some(function(rt){return 0===V.indexOf(rt)})),et||(j("Highcharts warning: Invalid attribute '"+Z+"' in config"),delete q[Z])}),q},Y.setElementHTML=function(q,V){q.innerHTML="",V&&new Y(V).addToDOM(q)},Y.prototype.addToDOM=function(q){return function V(Z,et){var rt;return U(Z).forEach(function(mt){var gt=mt.tagName,Et=mt.textContent?D.doc.createTextNode(mt.textContent):void 0;if(gt)if("#text"===gt)var Dt=Et;else if(-1!==Y.allowedTags.indexOf(gt)){gt=D.doc.createElementNS("svg"===gt?X:et.namespaceURI||X,gt);var Mt=mt.attributes||{};N(mt,function(T,h){"tagName"!==h&&"attributes"!==h&&"children"!==h&&"textContent"!==h&&(Mt[h]=T)}),it(gt,Y.filterUserAttributes(Mt)),Et&&gt.appendChild(Et),V(mt.children||[],gt),Dt=gt}else j("Highcharts warning: Invalid tagName '"+gt+"' in config");Dt&&et.appendChild(Dt),rt=Dt}),rt}(this.nodes,q)},Y.prototype.parseMarkup=function(q){var V=[];if(q=q.trim(),z)q=(new DOMParser).parseFromString(q,"text/html");else{var Z=K("div");Z.innerHTML=q,q={body:Z}}var et=function(rt,mt){var gt=rt.nodeName.toLowerCase(),Et={tagName:gt};if("#text"===gt&&(Et.textContent=rt.textContent||""),gt=rt.attributes){var Dt={};[].forEach.call(gt,function(T){Dt[T.name]=T.value}),Et.attributes=Dt}if(rt.childNodes.length){var Mt=[];[].forEach.call(rt.childNodes,function(T){et(T,Mt)}),Mt.length&&(Et.children=Mt)}mt.push(Et)};return[].forEach.call(q.body.childNodes,function(rt){return et(rt,V)}),Z&&W(Z),V},Y.allowedAttributes="aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align textAnchor textLength title type valign width x x1 x2 y y1 y2 zIndex".split(" "),Y.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),Y.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text thead tbody tspan td th tr u ul #text".split(" "),Y}()}),ht(ct,"Core/FormatUtilities.js",[ct["Core/DefaultOptions.js"],ct["Core/Utilities.js"]],function(D,$){function X(U,z,Y,q){z=+z;var V=it.lang,Z=((U=+U||0).toString().split(".")[1]||"").split("e")[0].length,et=U.toString().split("e"),rt=z;if(-1===z)z=Math.min(Z,20);else if(j(z)){if(z&&et[1]&&0>et[1]){var mt=z+ +et[1];0<=mt?(et[0]=(+et[0]).toExponential(mt).split("e")[0],z=mt):(et[0]=et[0].split(".")[0]||0,U=20>z?(et[0]*Math.pow(10,et[1])).toFixed(z):0,et[1]=0)}}else z=2;mt=(Math.abs(et[1]?et[0]:U)+Math.pow(10,-Math.max(z,Z)-1)).toFixed(z);var gt=3<(Z=String(N(mt))).length?Z.length%3:0;return Y=tt(Y,V.decimalPoint),q=tt(q,V.thousandsSep),U=(0>U?"-":"")+(gt?Z.substr(0,gt)+q:""),U=0>+et[1]&&!rt?"0":U+Z.substr(gt).replace(/(\d{3})(?=\d)/g,"$1"+q),z&&(U+=Y+mt.slice(-z)),et[1]&&0!=+U&&(U+="e"+et[1]),U}var it=D.defaultOptions,K=D.defaultTime,W=$.getNestedProperty,j=$.isNumber,tt=$.pick,N=$.pInt;return{dateFormat:function(U,z,Y){return K.dateFormat(U,z,Y)},format:function(U,z,Y){var q="{",V=!1,Z=/f$/,et=/\.([0-9])/,rt=it.lang,mt=Y&&Y.time||K;Y=Y&&Y.numberFormatter||X;for(var gt=[];U;){var Et=U.indexOf(q);if(-1===Et)break;var Dt=U.slice(0,Et);if(V){if(Dt=Dt.split(":"),q=W(Dt.shift()||"",z),Dt.length&&"number"==typeof q)if(Dt=Dt.join(":"),Z.test(Dt)){var Mt=parseInt((Dt.match(et)||["","-1"])[1],10);null!==q&&(q=Y(q,Mt,rt.decimalPoint,-1<Dt.indexOf(",")?rt.thousandsSep:""))}else q=mt.dateFormat(Dt,q);gt.push(q)}else gt.push(Dt);U=U.slice(Et+1),q=(V=!V)?"}":"{"}return gt.push(U),gt.join("")},numberFormat:X}}),ht(ct,"Core/Renderer/RendererUtilities.js",[ct["Core/Utilities.js"]],function(D){var K,$=D.clamp,X=D.pick,it=D.stableSort;return(K||(K={})).distribute=function j(tt,N,U){var Z,z=tt,Y=z.reducedLen||N,q=function(gt,Et){return(Et.rank||0)-(gt.rank||0)},V=function(gt,Et){return gt.target-Et.target},et=!0,rt=[],mt=0;for(Z=tt.length;Z--;)mt+=tt[Z].size;if(mt>Y){for(it(tt,q),mt=Z=0;mt<=Y;)mt+=tt[Z].size,Z++;rt=tt.splice(Z-1,tt.length)}for(it(tt,V),tt=tt.map(function(gt){return{size:gt.size,targets:[gt.target],align:X(gt.align,.5)}});et;){for(Z=tt.length;Z--;)Y=tt[Z],q=(Math.min.apply(0,Y.targets)+Math.max.apply(0,Y.targets))/2,Y.pos=$(q-Y.size*Y.align,0,N-Y.size);for(Z=tt.length,et=!1;Z--;)0<Z&&tt[Z-1].pos+tt[Z-1].size>tt[Z].pos&&(tt[Z-1].size+=tt[Z].size,tt[Z-1].targets=tt[Z-1].targets.concat(tt[Z].targets),tt[Z-1].align=.5,tt[Z-1].pos+tt[Z-1].size>N&&(tt[Z-1].pos=N-tt[Z-1].size),tt.splice(Z,1),et=!0)}return z.push.apply(z,rt),Z=0,tt.some(function(gt){var Et=0;return(gt.targets||[]).some(function(){return z[Z].pos=gt.pos+Et,void 0!==U&&Math.abs(z[Z].pos-z[Z].target)>U?(z.slice(0,Z+1).forEach(function(Dt){return delete Dt.pos}),z.reducedLen=(z.reducedLen||N)-.1*N,z.reducedLen>.1*N&&j(z,N,U),!0):(Et+=z[Z].size,Z++,!1)})}),it(z,V),z},K}),ht(ct,"Core/Renderer/SVG/SVGElement.js",[ct["Core/Animation/AnimationUtilities.js"],ct["Core/Renderer/HTML/AST.js"],ct["Core/Color/Color.js"],ct["Core/Globals.js"],ct["Core/Utilities.js"]],function(D,$,X,it,K){var W=D.animate,j=D.animObject,tt=D.stop,N=it.deg2rad,U=it.doc,z=it.noop,Y=it.svg,q=it.SVG_NS,V=it.win,Z=K.addEvent,et=K.attr,rt=K.createElement,mt=K.css,gt=K.defined,Et=K.erase,Dt=K.extend,Mt=K.fireEvent,T=K.isArray,h=K.isFunction,m=K.isNumber,y=K.isString,v=K.merge,M=K.objectEach,S=K.pick,P=K.pInt,C=K.syncTimeout,d=K.uniqueKey;return D=function(){function k(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=q,this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" ")}return k.prototype._defaultGetter=function(nt){return nt=S(this[nt+"Value"],this[nt],this.element?this.element.getAttribute(nt):null,0),/^[\-0-9\.]+$/.test(nt)&&(nt=parseFloat(nt)),nt},k.prototype._defaultSetter=function(nt,Q,J){J.setAttribute(Q,nt)},k.prototype.add=function(nt){var Q=this.renderer,J=this.element;if(nt&&(this.parentGroup=nt),this.parentInverted=nt&&nt.inverted,void 0!==this.textStr&&"text"===this.element.nodeName&&Q.buildText(this),this.added=!0,!nt||nt.handleZ||this.zIndex)var xt=this.zIndexSetter();return xt||(nt?nt.element:Q.box).appendChild(J),this.onAdd&&this.onAdd(),this},k.prototype.addClass=function(nt,Q){var J=Q?"":this.attr("class")||"";return(nt=(nt||"").split(/ /g).reduce(function(xt,wt){return-1===J.indexOf(wt)&&xt.push(wt),xt},J?[J]:[]).join(" "))!==J&&this.attr("class",nt),this},k.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},k.prototype.align=function(nt,Q,J){var Gt,It,_t,xt={},wt=this.renderer,Ft=wt.alignedObjects;nt?(this.alignOptions=nt,this.alignByTranslate=Q,(!J||y(J))&&(this.alignTo=Gt=J||"renderer",Et(Ft,this),Ft.push(this),J=void 0)):(nt=this.alignOptions,Q=this.alignByTranslate,Gt=this.alignTo),J=S(J,wt[Gt],"scrollablePlotBox"===Gt?wt.plotBox:void 0,wt);var Zt=nt.verticalAlign;return wt=(J.x||0)+(nt.x||0),Ft=(J.y||0)+(nt.y||0),"right"===(Gt=nt.align)?It=1:"center"===Gt&&(It=2),It&&(wt+=(J.width-(nt.width||0))/It),xt[Q?"translateX":"x"]=Math.round(wt),"bottom"===Zt?_t=1:"middle"===Zt&&(_t=2),_t&&(Ft+=(J.height-(nt.height||0))/_t),xt[Q?"translateY":"y"]=Math.round(Ft),this[this.placed?"animate":"attr"](xt),this.placed=!0,this.alignAttr=xt,this},k.prototype.alignSetter=function(nt){var Q={left:"start",center:"middle",right:"end"};Q[nt]&&(this.alignValue=nt,this.element.setAttribute("text-anchor",Q[nt]))},k.prototype.animate=function(nt,Q,J){var xt=this,wt=j(S(Q,this.renderer.globalAnimation,!0));return Q=wt.defer,S(U.hidden,U.msHidden,U.webkitHidden,!1)&&(wt.duration=0),0!==wt.duration?(J&&(wt.complete=J),C(function(){xt.element&&W(xt,nt,wt)},Q)):(this.attr(nt,void 0,J),M(nt,function(Ft,Gt){wt.step&&wt.step.call(this,Ft,{prop:Gt,pos:1,elem:this})},this)),this},k.prototype.applyTextOutline=function(nt){var Q=this.element;-1!==nt.indexOf("contrast")&&(nt=nt.replace(/contrast/g,this.renderer.getContrast(Q.style.fill)));var J=nt.split(" ");if(nt=J[J.length-1],(J=J[0])&&"none"!==J&&it.svg){this.fakeTS=!0,this.ySetter=this.xSetter,J=J.replace(/(^[\d\.]+)(.*?)$/g,function(Ft,Gt,It){return 2*Number(Gt)+It}),this.removeTextOutline();var xt=U.createElementNS(q,"tspan");et(xt,{class:"highcharts-text-outline",fill:nt,stroke:nt,"stroke-width":J,"stroke-linejoin":"round"}),[].forEach.call(Q.childNodes,function(Ft){var Gt=Ft.cloneNode(!0);Gt.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(function(It){return Gt.removeAttribute(It)}),xt.appendChild(Gt)});var wt=U.createElementNS(q,"tspan");wt.textContent="\u200b",["x","y"].forEach(function(Ft){var Gt=Q.getAttribute(Ft);Gt&&wt.setAttribute(Ft,Gt)}),xt.appendChild(wt),Q.insertBefore(xt,Q.firstChild)}},k.prototype.attr=function(nt,Q,J,xt){var Gt,_t,Zt,wt=this.element,Ft=this.symbolCustomAttribs,It=this;if("string"==typeof nt&&void 0!==Q){var Ot=nt;(nt={})[Ot]=Q}return"string"==typeof nt?It=(this[nt+"Getter"]||this._defaultGetter).call(this,nt,wt):(M(nt,function(At,jt){_t=!1,xt||tt(this,jt),this.symbolName&&-1!==Ft.indexOf(jt)&&(Gt||(this.symbolAttr(nt),Gt=!0),_t=!0),!this.rotation||"x"!==jt&&"y"!==jt||(this.doTransform=!0),_t||((Zt=this[jt+"Setter"]||this._defaultSetter).call(this,At,jt,wt),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(jt)&&this.updateShadows(jt,At,Zt))},this),this.afterSetters()),J&&J.call(this),It},k.prototype.clip=function(nt){return this.attr("clip-path",nt?"url("+this.renderer.url+"#"+nt.id+")":"none")},k.prototype.crisp=function(nt,Q){Q=Q||nt.strokeWidth||0;var J=Math.round(Q)%2/2;return nt.x=Math.floor(nt.x||this.x||0)+J,nt.y=Math.floor(nt.y||this.y||0)+J,nt.width=Math.floor((nt.width||this.width||0)-2*J),nt.height=Math.floor((nt.height||this.height||0)-2*J),gt(nt.strokeWidth)&&(nt.strokeWidth=Q),nt},k.prototype.complexColor=function(nt,Q,J){var wt,Ft,Gt,It,_t,Zt,Ot,At,jt,Kt,Ce,xt=this.renderer,Vt=[];Mt(this.renderer,"complexColor",{args:arguments},function(){if(nt.radialGradient?Ft="radialGradient":nt.linearGradient&&(Ft="linearGradient"),Ft){if(_t=xt.gradients,Zt=nt.stops,jt=J.radialReference,T(Gt=nt[Ft])&&(nt[Ft]=Gt={x1:Gt[0],y1:Gt[1],x2:Gt[2],y2:Gt[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===Ft&&jt&&!gt(Gt.gradientUnits)&&(Gt=v(Gt,xt.getRadialAttr(jt,It=Gt),{gradientUnits:"userSpaceOnUse"})),M(Gt,function(ge,yi){"id"!==yi&&Vt.push(yi,ge)}),M(Zt,function(ge){Vt.push(ge)}),Vt=Vt.join(","),_t[Vt])Kt=_t[Vt].attr("id");else{Gt.id=Kt=d();var Ht=_t[Vt]=xt.createElement(Ft).attr(Gt).add(xt.defs);Ht.radAttr=It,Ht.stops=[],Zt.forEach(function(ge){0===ge[1].indexOf("rgba")?(wt=X.parse(ge[1]),Ot=wt.get("rgb"),At=wt.get("a")):(Ot=ge[1],At=1),ge=xt.createElement("stop").attr({offset:ge[0],"stop-color":Ot,"stop-opacity":At}).add(Ht),Ht.stops.push(ge)})}J.setAttribute(Q,Ce="url("+xt.url+"#"+Kt+")"),J.gradient=Vt,nt.toString=function(){return Ce}}})},k.prototype.css=function(nt){var Q=this.styles,J={},xt=this.element,wt=["textOutline","textOverflow","width"],Ft="",Gt=!Q;if(nt&&nt.color&&(nt.fill=nt.color),Q&&M(nt,function(Zt,Ot){Q&&Q[Ot]!==Zt&&(J[Ot]=Zt,Gt=!0)}),Gt){if(Q&&(nt=Dt(Q,J)),nt)if(null===nt.width||"auto"===nt.width)delete this.textWidth;else if("text"===xt.nodeName.toLowerCase()&&nt.width)var It=this.textWidth=P(nt.width);if(this.styles=nt,It&&!Y&&this.renderer.forExport&&delete nt.width,xt.namespaceURI===this.SVG_NS){var _t=function(Zt,Ot){return"-"+Ot.toLowerCase()};M(nt,function(Zt,Ot){-1===wt.indexOf(Ot)&&(Ft+=Ot.replace(/([A-Z])/g,_t)+":"+Zt+";")}),Ft&&et(xt,"style",Ft)}else mt(xt,nt);this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),nt&&nt.textOutline&&this.applyTextOutline(nt.textOutline))}return this},k.prototype.dashstyleSetter=function(nt){var Q=this["stroke-width"];if("inherit"===Q&&(Q=1),nt=nt&&nt.toLowerCase()){var J=nt.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(nt=J.length;nt--;)J[nt]=""+P(J[nt])*S(Q,NaN);nt=J.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",nt)}},k.prototype.destroy=function(){var nt=this,Q=nt.element||{},J=nt.renderer,xt=Q.ownerSVGElement,wt=J.isSVG&&"SPAN"===Q.nodeName&&nt.parentGroup||void 0;if(Q.onclick=Q.onmouseout=Q.onmouseover=Q.onmousemove=Q.point=null,tt(nt),nt.clipPath&&xt){var Ft=nt.clipPath;[].forEach.call(xt.querySelectorAll("[clip-path],[CLIP-PATH]"),function(Gt){-1<Gt.getAttribute("clip-path").indexOf(Ft.element.id)&&Gt.removeAttribute("clip-path")}),nt.clipPath=Ft.destroy()}if(nt.stops){for(xt=0;xt<nt.stops.length;xt++)nt.stops[xt].destroy();nt.stops.length=0,nt.stops=void 0}for(nt.safeRemoveChild(Q),J.styledMode||nt.destroyShadows();wt&&wt.div&&0===wt.div.childNodes.length;)Q=wt.parentGroup,nt.safeRemoveChild(wt.div),delete wt.div,wt=Q;nt.alignTo&&Et(J.alignedObjects,nt),M(nt,function(Gt,It){nt[It]&&nt[It].parentGroup===nt&&nt[It].destroy&&nt[It].destroy(),delete nt[It]})},k.prototype.destroyShadows=function(){(this.shadows||[]).forEach(function(nt){this.safeRemoveChild(nt)},this),this.shadows=void 0},k.prototype.destroyTextPath=function(nt,Q){var J=nt.getElementsByTagName("text")[0];if(J){if(J.removeAttribute("dx"),J.removeAttribute("dy"),Q.element.setAttribute("id",""),this.textPathWrapper&&J.getElementsByTagName("textPath").length){for(nt=this.textPathWrapper.element.childNodes;nt.length;)J.appendChild(nt[0]);J.removeChild(this.textPathWrapper.element)}}else(nt.getAttribute("dx")||nt.getAttribute("dy"))&&(nt.removeAttribute("dx"),nt.removeAttribute("dy"));this.textPathWrapper&&(this.textPathWrapper=this.textPathWrapper.destroy())},k.prototype.dSetter=function(nt,Q,J){T(nt)&&("string"==typeof nt[0]&&(nt=this.renderer.pathToSegments(nt)),this.pathArray=nt,nt=nt.reduce(function(xt,wt,Ft){return wt&&wt.join?(Ft?xt+" ":"")+wt.join(" "):(wt||"").toString()},"")),/(NaN| {2}|^$)/.test(nt)&&(nt="M 0 0"),this[Q]!==nt&&(J.setAttribute(Q,nt),this[Q]=nt)},k.prototype.fadeOut=function(nt){var Q=this;Q.animate({opacity:0},{duration:S(nt,150),complete:function(){Q.attr({y:-9999}).hide()}})},k.prototype.fillSetter=function(nt,Q,J){"string"==typeof nt?J.setAttribute(Q,nt):nt&&this.complexColor(nt,Q,J)},k.prototype.getBBox=function(nt,Q){var J=this.renderer,xt=this.element,wt=this.styles,Ft=this.textStr,Gt=J.cache,It=J.cacheKeys,_t=xt.namespaceURI===this.SVG_NS;Q=S(Q,this.rotation,0);var Ot,Zt=J.styledMode?xt&&k.prototype.getStyle.call(xt,"font-size"):wt&&wt.fontSize;if(gt(Ft)){var At=Ft.toString();-1===At.indexOf("<")&&(At=At.replace(/[0-9]/g,"0")),At+=["",Q,Zt,this.textWidth,wt&&wt.textOverflow,wt&&wt.fontWeight].join()}if(At&&!nt&&(Ot=Gt[At]),!Ot){if(_t||J.forExport){try{var jt=this.fakeTS&&function(Kt){var Vt=xt.querySelector(".highcharts-text-outline");Vt&&mt(Vt,{display:Kt})};h(jt)&&jt("none"),Ot=xt.getBBox?Dt({},xt.getBBox()):{width:xt.offsetWidth,height:xt.offsetHeight},h(jt)&&jt("")}catch(Kt){}(!Ot||0>Ot.width)&&(Ot={width:0,height:0})}else Ot=this.htmlGetBBox();if(J.isSVG&&(nt=Ot.width,J=Ot.height,_t&&(Ot.height=J={"11px,17":14,"13px,20":16}[wt&&wt.fontSize+","+Math.round(J)]||J),Q&&(wt=Q*N,Ot.width=Math.abs(J*Math.sin(wt))+Math.abs(nt*Math.cos(wt)),Ot.height=Math.abs(J*Math.cos(wt))+Math.abs(nt*Math.sin(wt)))),At&&(""===Ft||0<Ot.height)){for(;250<It.length;)delete Gt[It.shift()];Gt[At]||It.push(At),Gt[At]=Ot}}return Ot},k.prototype.getStyle=function(nt){return V.getComputedStyle(this.element||this,"").getPropertyValue(nt)},k.prototype.hasClass=function(nt){return-1!==(""+this.attr("class")).split(" ").indexOf(nt)},k.prototype.hide=function(nt){return this.attr(nt?{y:-9999}:{visibility:"hidden"}),this},k.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}},k.prototype.init=function(nt,Q){this.element="span"===Q?rt(Q):U.createElementNS(this.SVG_NS,Q),this.renderer=nt,Mt(this,"afterInit")},k.prototype.invert=function(nt){return this.inverted=nt,this.updateTransform(),this},k.prototype.on=function(nt,Q){var J=this.onEvents;return J[nt]&&J[nt](),J[nt]=Z(this.element,nt,Q),this},k.prototype.opacitySetter=function(nt,Q,J){this.opacity=nt=Number(Number(nt).toFixed(3)),J.setAttribute(Q,nt)},k.prototype.removeClass=function(nt){return this.attr("class",(""+this.attr("class")).replace(y(nt)?new RegExp("(^| )"+nt+"( |$)"):nt," ").replace(/ +/g," ").trim())},k.prototype.removeTextOutline=function(){var nt=this.element.querySelector("tspan.highcharts-text-outline");nt&&this.safeRemoveChild(nt)},k.prototype.safeRemoveChild=function(nt){var Q=nt.parentNode;Q&&Q.removeChild(nt)},k.prototype.setRadialReference=function(nt){var Q=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=nt,Q&&Q.radAttr&&Q.animate(this.renderer.getRadialAttr(nt,Q.radAttr)),this},k.prototype.setTextPath=function(nt,Q){var J=this.element,xt=this.text?this.text.element:J,wt={textAnchor:"text-anchor"},Ft=!1,Gt=this.textPathWrapper,It=!Gt;Q=v(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},Q);var _t=$.filterUserAttributes(Q.attributes);if(nt&&Q&&Q.enabled){Gt&&null===Gt.element.parentNode?(It=!0,Gt=Gt.destroy()):Gt&&this.removeTextOutline.call(Gt.parentGroup),this.options&&this.options.padding&&(_t.dx=-this.options.padding),Gt||(this.textPathWrapper=Gt=this.renderer.createElement("textPath"),Ft=!0);var Zt=Gt.element;if((Q=nt.element.getAttribute("id"))||nt.element.setAttribute("id",Q=d()),It)for(xt.setAttribute("y",0),m(_t.dx)&&xt.setAttribute("x",-_t.dx),nt=[].slice.call(xt.childNodes),It=0;It<nt.length;It++){var Ot=nt[It];Ot.nodeType!==V.Node.TEXT_NODE&&"tspan"!==Ot.nodeName||Zt.appendChild(Ot)}Ft&&Gt&&Gt.add({element:xt}),Zt.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+Q),gt(_t.dy)&&(Zt.parentNode.setAttribute("dy",_t.dy),delete _t.dy),gt(_t.dx)&&(Zt.parentNode.setAttribute("dx",_t.dx),delete _t.dx),M(_t,function(At,jt){Zt.setAttribute(wt[jt]||jt,At)}),J.removeAttribute("transform"),this.removeTextOutline.call(Gt),this.text&&!this.renderer.styledMode&&this.attr({fill:"none","stroke-width":0}),this.applyTextOutline=this.updateTransform=z}else Gt&&(delete this.updateTransform,delete this.applyTextOutline,this.destroyTextPath(J,nt),this.updateTransform(),this.options&&this.options.rotation&&this.applyTextOutline(this.options.style.textOutline));return this},k.prototype.shadow=function(nt,Q,J){var _t,xt=[],wt=this.element,Ft=this.oldShadowOptions,Gt={color:"#000000",offsetX:this.parentInverted?-1:1,offsetY:this.parentInverted?-1:1,opacity:.15,width:3},It=!1;if(!0===nt?_t=Gt:"object"==typeof nt&&(_t=Dt(Gt,nt)),_t&&(_t&&Ft&&M(_t,function(Kt,Vt){Kt!==Ft[Vt]&&(It=!0)}),It&&this.destroyShadows(),this.oldShadowOptions=_t),_t){if(!this.shadows){var Zt=_t.opacity/_t.width,Ot=this.parentInverted?"translate("+_t.offsetY+", "+_t.offsetX+")":"translate("+_t.offsetX+", "+_t.offsetY+")";for(Gt=1;Gt<=_t.width;Gt++){var At=wt.cloneNode(!1),jt=2*_t.width+1-2*Gt;et(At,{stroke:nt.color||"#000000","stroke-opacity":Zt*Gt,"stroke-width":jt,transform:Ot,fill:"none"}),At.setAttribute("class",(At.getAttribute("class")||"")+" highcharts-shadow"),J&&(et(At,"height",Math.max(et(At,"height")-jt,0)),At.cutHeight=jt),Q?Q.element.appendChild(At):wt.parentNode&&wt.parentNode.insertBefore(At,wt),xt.push(At)}this.shadows=xt}}else this.destroyShadows();return this},k.prototype.show=function(nt){return this.attr({visibility:nt?"inherit":"visible"})},k.prototype.strokeSetter=function(nt,Q,J){this[Q]=nt,this.stroke&&this["stroke-width"]?(k.prototype.fillSetter.call(this,this.stroke,"stroke",J),J.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===Q&&0===nt&&this.hasStroke?(J.removeAttribute("stroke"),this.hasStroke=!1):this.renderer.styledMode&&this["stroke-width"]&&(J.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0)},k.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var nt=this.getStyle("stroke-width"),Q=0;if(nt.indexOf("px")===nt.length-2)Q=P(nt);else if(""!==nt){var J=U.createElementNS(q,"rect");et(J,{width:nt,"stroke-width":0}),this.element.parentNode.appendChild(J),Q=J.getBBox().width,J.parentNode.removeChild(J)}return Q},k.prototype.symbolAttr=function(nt){var Q=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach(function(J){Q[J]=S(nt[J],Q[J])}),Q.attr({d:Q.renderer.symbols[Q.symbolName](Q.x,Q.y,Q.width,Q.height,Q)})},k.prototype.textSetter=function(nt){nt!==this.textStr&&(delete this.textPxLength,this.textStr=nt,this.added&&this.renderer.buildText(this))},k.prototype.titleSetter=function(nt){var Q=this.element,J=Q.getElementsByTagName("title")[0]||U.createElementNS(this.SVG_NS,"title");Q.insertBefore?Q.insertBefore(J,Q.firstChild):Q.appendChild(J),J.textContent=String(S(nt,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")},k.prototype.toFront=function(){var nt=this.element;return nt.parentNode.appendChild(nt),this},k.prototype.translate=function(nt,Q){return this.attr({translateX:nt,translateY:Q})},k.prototype.updateShadows=function(nt,Q,J){var xt=this.shadows;if(xt)for(var wt=xt.length;wt--;)J.call(xt[wt],"height"===nt?Math.max(Q-(xt[wt].cutHeight||0),0):"d"===nt?this.d:Q,nt,xt[wt])},k.prototype.updateTransform=function(){var nt=this.scaleX,Q=this.scaleY,J=this.inverted,xt=this.rotation,wt=this.matrix,Ft=this.element,Gt=this.translateX||0,It=this.translateY||0;J&&(Gt+=this.width,It+=this.height),Gt=["translate("+Gt+","+It+")"],gt(wt)&&Gt.push("matrix("+wt.join(",")+")"),J?Gt.push("rotate(90) scale(-1,1)"):xt&&Gt.push("rotate("+xt+" "+S(this.rotationOriginX,Ft.getAttribute("x"),0)+" "+S(this.rotationOriginY,Ft.getAttribute("y")||0)+")"),(gt(nt)||gt(Q))&&Gt.push("scale("+S(nt,1)+" "+S(Q,1)+")"),Gt.length&&Ft.setAttribute("transform",Gt.join(" "))},k.prototype.visibilitySetter=function(nt,Q,J){"inherit"===nt?J.removeAttribute(Q):this[Q]!==nt&&J.setAttribute(Q,nt),this[Q]=nt},k.prototype.xGetter=function(nt){return"circle"===this.element.nodeName&&("x"===nt?nt="cx":"y"===nt&&(nt="cy")),this._defaultGetter(nt)},k.prototype.zIndexSetter=function(nt,Q){var J=this.renderer,xt=this.parentGroup,wt=(xt||J).element||J.box,Ft=this.element;J=wt===J.box;var _t,Gt=!1,It=this.added;if(gt(nt)?(Ft.setAttribute("data-z-index",nt),this[Q]===(nt=+nt)&&(It=!1)):gt(this[Q])&&Ft.removeAttribute("data-z-index"),this[Q]=nt,It){for((nt=this.zIndex)&&xt&&(xt.handleZ=!0),_t=(Q=wt.childNodes).length-1;0<=_t&&!Gt;_t--){It=(xt=Q[_t]).getAttribute("data-z-index");var Zt=!gt(It);xt!==Ft&&(0>nt&&Zt&&!J&&!_t?(wt.insertBefore(Ft,Q[_t]),Gt=!0):(P(It)<=nt||Zt&&(!gt(nt)||0<=nt))&&(wt.insertBefore(Ft,Q[_t+1]||null),Gt=!0))}Gt||(wt.insertBefore(Ft,Q[J?3:0]||null),Gt=!0)}return Gt},k}(),D.prototype["stroke-widthSetter"]=D.prototype.strokeSetter,D.prototype.yGetter=D.prototype.xGetter,D.prototype.matrixSetter=D.prototype.rotationOriginXSetter=D.prototype.rotationOriginYSetter=D.prototype.rotationSetter=D.prototype.scaleXSetter=D.prototype.scaleYSetter=D.prototype.translateXSetter=D.prototype.translateYSetter=D.prototype.verticalAlignSetter=function(k,nt){this[nt]=k,this.doTransform=!0},D}),ht(ct,"Core/Renderer/RendererRegistry.js",[ct["Core/Globals.js"]],function(D){var $,X,it;return(X=$||($={})).rendererTypes={},X.getRendererType=function(K){return void 0===K&&(K=it),X.rendererTypes[K]||X.rendererTypes[it]},X.registerRendererType=function(K,W,j){X.rendererTypes[K]=W,(!it||j)&&(it=K,D.Renderer=W)},$}),ht(ct,"Core/Renderer/SVG/SVGLabel.js",[ct["Core/Renderer/SVG/SVGElement.js"],ct["Core/Utilities.js"]],function(D,$){var U,X=this&&this.__extends||(U=function(z,Y){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,V){q.__proto__=V}||function(q,V){for(var Z in V)V.hasOwnProperty(Z)&&(q[Z]=V[Z])})(z,Y)},function(z,Y){function q(){this.constructor=z}U(z,Y),z.prototype=null===Y?Object.create(Y):(q.prototype=Y.prototype,new q)}),it=$.defined,K=$.extend,W=$.isNumber,j=$.merge,tt=$.pick,N=$.removeEvent;return function(U){function z(Y,q,V,Z,et,rt,mt,gt,Et,Dt){var T,Mt=U.call(this)||this;return Mt.paddingLeftSetter=Mt.paddingSetter,Mt.paddingRightSetter=Mt.paddingSetter,Mt.init(Y,"g"),Mt.textStr=q,Mt.x=V,Mt.y=Z,Mt.anchorX=rt,Mt.anchorY=mt,Mt.baseline=Et,Mt.className=Dt,Mt.addClass("button"===Dt?"highcharts-no-tooltip":"highcharts-label"),Dt&&Mt.addClass("highcharts-"+Dt),Mt.text=Y.text(void 0,0,0,gt).attr({zIndex:1}),"string"==typeof et&&((T=/^url\((.*?)\)$/.test(et))||Mt.renderer.symbols[et])&&(Mt.symbolKey=et),Mt.bBox=z.emptyBBox,Mt.padding=3,Mt.baselineOffset=0,Mt.needsBox=Y.styledMode||T,Mt.deferredAttr={},Mt.alignFactor=0,Mt}return X(z,U),z.prototype.alignSetter=function(Y){(Y={left:0,center:.5,right:1}[Y])!==this.alignFactor&&(this.alignFactor=Y,this.bBox&&W(this.xSetting)&&this.attr({x:this.xSetting}))},z.prototype.anchorXSetter=function(Y,q){this.anchorX=Y,this.boxAttr(q,Math.round(Y)-this.getCrispAdjust()-this.xSetting)},z.prototype.anchorYSetter=function(Y,q){this.anchorY=Y,this.boxAttr(q,Y-this.ySetting)},z.prototype.boxAttr=function(Y,q){this.box?this.box.attr(Y,q):this.deferredAttr[Y]=q},z.prototype.css=function(Y){if(Y){var q={};Y=j(Y),z.textProps.forEach(function(Z){void 0!==Y[Z]&&(q[Z]=Y[Z],delete Y[Z])}),this.text.css(q);var V="width"in q;"fontSize"in q||"fontWeight"in q?this.updateTextPadding():V&&this.updateBoxSize()}return D.prototype.css.call(this,Y)},z.prototype.destroy=function(){N(this.element,"mouseenter"),N(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),D.prototype.destroy.call(this)},z.prototype.fillSetter=function(Y,q){Y&&(this.needsBox=!0),this.fill=Y,this.boxAttr(q,Y)},z.prototype.getBBox=function(){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();var Y=this.padding,q=tt(this.paddingLeft,Y);return{width:this.width,height:this.height,x:this.bBox.x-q,y:this.bBox.y-Y}},z.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2},z.prototype.heightSetter=function(Y){this.heightSetting=Y},z.prototype.onAdd=function(){var Y=this.textStr;this.text.add(this),this.attr({text:it(Y)?Y:"",x:this.x,y:this.y}),this.box&&it(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})},z.prototype.paddingSetter=function(Y,q){W(Y)?Y!==this[q]&&(this[q]=Y,this.updateTextPadding()):this[q]=void 0},z.prototype.rSetter=function(Y,q){this.boxAttr(q,Y)},z.prototype.shadow=function(Y){return Y&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(Y)),this},z.prototype.strokeSetter=function(Y,q){this.stroke=Y,this.boxAttr(q,Y)},z.prototype["stroke-widthSetter"]=function(Y,q){Y&&(this.needsBox=!0),this["stroke-width"]=Y,this.boxAttr(q,Y)},z.prototype["text-alignSetter"]=function(Y){this.textAlign=Y},z.prototype.textSetter=function(Y){void 0!==Y&&this.text.attr({text:Y}),this.updateTextPadding()},z.prototype.updateBoxSize=function(){var Y=this.text.element.style,q={},V=this.padding,Z=this.bBox=W(this.widthSetting)&&W(this.heightSetting)&&!this.textAlign||!it(this.text.textStr)?z.emptyBBox:this.text.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||Z.height||0)+2*V,Y=this.renderer.fontMetrics(Y&&Y.fontSize,this.text),this.baselineOffset=V+Math.min((this.text.firstLineMetrics||Y).b,Z.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-Y.h)/2),this.needsBox&&(this.box||((V=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect()).addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),V.add(this)),V=this.getCrispAdjust(),q.x=V,q.y=(this.baseline?-this.baselineOffset:0)+V,q.width=Math.round(this.width),q.height=Math.round(this.height),this.box.attr(K(q,this.deferredAttr)),this.deferredAttr={})},z.prototype.updateTextPadding=function(){var Y=this.text;this.updateBoxSize();var q=this.baseline?0:this.baselineOffset,V=tt(this.paddingLeft,this.padding);it(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(V+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(V!==Y.x||q!==Y.y)&&(Y.attr("x",V),Y.hasBoxWidthChanged&&(this.bBox=Y.getBBox(!0)),void 0!==q&&Y.attr("y",q)),Y.x=V,Y.y=q},z.prototype.widthSetter=function(Y){this.widthSetting=W(Y)?Y:void 0},z.prototype.getPaddedWidth=function(){var Y=this.padding,q=tt(this.paddingLeft,Y);return Y=tt(this.paddingRight,Y),(this.widthSetting||this.bBox.width||0)+q+Y},z.prototype.xSetter=function(Y){this.x=Y,this.alignFactor&&(Y-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(Y),this.attr("translateX",this.xSetting)},z.prototype.ySetter=function(Y){this.ySetting=this.y=Math.round(Y),this.attr("translateY",this.ySetting)},z.emptyBBox={width:0,height:0,x:0,y:0},z.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" "),z}(D)}),ht(ct,"Core/Renderer/SVG/Symbols.js",[ct["Core/Utilities.js"]],function(D){function $(tt,N,U,z,Y){var q=[];if(Y){var V=Y.start||0,Z=j(Y.r,U);U=j(Y.r,z||U);var et=(Y.end||0)-.001;z=Y.innerR;var rt=j(Y.open,.001>Math.abs((Y.end||0)-V-2*Math.PI)),mt=Math.cos(V),gt=Math.sin(V),Et=Math.cos(et),Dt=Math.sin(et);V=j(Y.longArc,.001>et-V-Math.PI?0:1),q.push(["M",tt+Z*mt,N+U*gt],["A",Z,U,0,V,j(Y.clockwise,1),tt+Z*Et,N+U*Dt]),K(z)&&q.push(rt?["M",tt+z*Et,N+z*Dt]:["L",tt+z*Et,N+z*Dt],["A",z,z,0,V,K(Y.clockwise)?1-Y.clockwise:0,tt+z*mt,N+z*gt]),rt||q.push(["Z"])}return q}function X(tt,N,U,z,Y){return Y&&Y.r?it(tt,N,U,z,Y):[["M",tt,N],["L",tt+U,N],["L",tt+U,N+z],["L",tt,N+z],["Z"]]}function it(tt,N,U,z,Y){return[["M",tt+(Y=Y&&Y.r||0),N],["L",tt+U-Y,N],["C",tt+U,N,tt+U,N,tt+U,N+Y],["L",tt+U,N+z-Y],["C",tt+U,N+z,tt+U,N+z,tt+U-Y,N+z],["L",tt+Y,N+z],["C",tt,N+z,tt,N+z,tt,N+z-Y],["L",tt,N+Y],["C",tt,N,tt,N,tt+Y,N]]}var K=D.defined,W=D.isNumber,j=D.pick;return{arc:$,callout:function(tt,N,U,z,Y){var q=Math.min(Y&&Y.r||0,U,z),V=q+6,Z=Y&&Y.anchorX;Y=Y&&Y.anchorY||0;var et=it(tt,N,U,z,{r:q});return W(Z)&&(tt+Z>=U?Y>N+V&&Y<N+z-V?et.splice(3,1,["L",tt+U,Y-6],["L",tt+U+6,Y],["L",tt+U,Y+6],["L",tt+U,N+z-q]):et.splice(3,1,["L",tt+U,z/2],["L",Z,Y],["L",tt+U,z/2],["L",tt+U,N+z-q]):0>=tt+Z?Y>N+V&&Y<N+z-V?et.splice(7,1,["L",tt,Y+6],["L",tt-6,Y],["L",tt,Y-6],["L",tt,N+q]):et.splice(7,1,["L",tt,z/2],["L",Z,Y],["L",tt,z/2],["L",tt,N+q]):Y&&Y>z&&Z>tt+V&&Z<tt+U-V?et.splice(5,1,["L",Z+6,N+z],["L",Z,N+z+6],["L",Z-6,N+z],["L",tt+q,N+z]):Y&&0>Y&&Z>tt+V&&Z<tt+U-V&&et.splice(1,1,["L",Z-6,N],["L",Z,N-6],["L",Z+6,N],["L",U-q,N])),et},circle:function(tt,N,U,z){return $(tt+U/2,N+z/2,U/2,z/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(tt,N,U,z){return[["M",tt+U/2,N],["L",tt+U,N+z/2],["L",tt+U/2,N+z],["L",tt,N+z/2],["Z"]]},rect:X,roundedRect:it,square:X,triangle:function(tt,N,U,z){return[["M",tt+U/2,N],["L",tt+U,N+z],["L",tt,N+z],["Z"]]},"triangle-down":function(tt,N,U,z){return[["M",tt,N],["L",tt+U,N],["L",tt+U/2,N+z],["Z"]]}}}),ht(ct,"Core/Renderer/SVG/TextBuilder.js",[ct["Core/Renderer/HTML/AST.js"],ct["Core/Globals.js"],ct["Core/Utilities.js"]],function(D,$,X){var it=$.doc,K=$.SVG_NS,W=$.win,j=X.attr,tt=X.isString,N=X.objectEach,U=X.pick;return function(){function z(Y){var q=Y.styles;this.renderer=Y.renderer,this.svgElement=Y,this.width=Y.textWidth,this.textLineHeight=q&&q.lineHeight,this.textOutline=q&&q.textOutline,this.ellipsis=!(!q||"ellipsis"!==q.textOverflow),this.noWrap=!(!q||"nowrap"!==q.whiteSpace),this.fontSize=q&&q.fontSize}return z.prototype.buildSVG=function(){var Y=this.svgElement,q=Y.element,V=Y.renderer,Z=U(Y.textStr,"").toString(),et=-1!==Z.indexOf("<"),rt=q.childNodes;V=this.width&&!Y.added&&V.box;var gt=[Z,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,this.fontSize,this.width].join();if(gt!==Y.textCache){for(Y.textCache=gt,delete Y.actualWidth,gt=rt.length;gt--;)q.removeChild(rt[gt]);et||this.ellipsis||this.width||-1!==Z.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(Z))?""!==Z&&(V&&V.appendChild(q),Z=new D(Z),this.modifyTree(Z.nodes),Z.addToDOM(Y.element),this.modifyDOM(),this.ellipsis&&-1!==(q.textContent||"").indexOf("\u2026")&&Y.attr("title",this.unescapeEntities(Y.textStr||"",["&lt;","&gt;"])),V&&V.removeChild(q)):q.appendChild(it.createTextNode(this.unescapeEntities(Z))),tt(this.textOutline)&&Y.applyTextOutline&&Y.applyTextOutline(this.textOutline)}},z.prototype.modifyDOM=function(){var Z,Y=this,q=this.svgElement,V=j(q.element,"x");for(q.firstLineMetrics=void 0;(Z=q.element.firstChild)&&/^[\s\u200B]*$/.test(Z.textContent||" ");)q.element.removeChild(Z);[].forEach.call(q.element.querySelectorAll("tspan.highcharts-br"),function(gt,Et){gt.nextSibling&&gt.previousSibling&&(0===Et&&1===gt.previousSibling.nodeType&&(q.firstLineMetrics=q.renderer.fontMetrics(void 0,gt.previousSibling)),j(gt,{dy:Y.getLineHeight(gt.nextSibling),x:V}))});var et=this.width||0;if(et){var mt=function(gt){[].slice.call(gt.childNodes).forEach(function(Et){Et.nodeType===W.Node.TEXT_NODE?function(gt,Et){var Dt=gt.textContent||"",Mt=Dt.replace(/([^\^])-/g,"$1- ").split(" "),T=!Y.noWrap&&(1<Mt.length||1<q.element.childNodes.length),h=Y.getLineHeight(Et),m=0,y=q.actualWidth;if(Y.ellipsis)Dt&&Y.truncate(gt,Dt,void 0,0,Math.max(0,et-parseInt(Y.fontSize||12,10)),function(v,M){return v.substring(0,M)+"\u2026"});else if(T){for(Dt=[],T=[];Et.firstChild&&Et.firstChild!==gt;)T.push(Et.firstChild),Et.removeChild(Et.firstChild);for(;Mt.length;)Mt.length&&!Y.noWrap&&0<m&&(Dt.push(gt.textContent||""),gt.textContent=Mt.join(" ").replace(/- /g,"-")),Y.truncate(gt,void 0,Mt,0===m&&y||0,et,function(v,M){return Mt.slice(0,M).join(" ").replace(/- /g,"-")}),y=q.actualWidth,m++;T.forEach(function(v){Et.insertBefore(v,gt)}),Dt.forEach(function(v){Et.insertBefore(it.createTextNode(v),gt),(v=it.createElementNS(K,"tspan")).textContent="\u200b",j(v,{dy:h,x:V}),Et.insertBefore(v,gt)})}}(Et,gt):(-1!==Et.className.baseVal.indexOf("highcharts-br")&&(q.actualWidth=0),mt(Et))})};mt(q.element)}},z.prototype.getLineHeight=function(Y){var q;return Y=Y.nodeType===W.Node.TEXT_NODE?Y.parentElement:Y,this.renderer.styledMode||(q=Y&&/(px|em)$/.test(Y.style.fontSize)?Y.style.fontSize:this.fontSize||this.renderer.style.fontSize||12),this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(q,Y||this.svgElement.element).h},z.prototype.modifyTree=function(Y){var q=this,V=function(Z,et){var rt=Z.tagName,mt=q.renderer.styledMode,gt=Z.attributes||{};"b"===rt||"strong"===rt?mt?gt.class="highcharts-strong":gt.style="font-weight:bold;"+(gt.style||""):("i"===rt||"em"===rt)&&(mt?gt.class="highcharts-emphasized":gt.style="font-style:italic;"+(gt.style||"")),tt(gt.style)&&(gt.style=gt.style.replace(/(;| |^)color([ :])/,"$1fill$2")),"br"===rt&&(gt.class="highcharts-br",Z.textContent="\u200b",(et=Y[et+1])&&et.textContent&&(et.textContent=et.textContent.replace(/^ +/gm,""))),"#text"!==rt&&"a"!==rt&&(Z.tagName="tspan"),Z.attributes=gt,Z.children&&Z.children.filter(function(Et){return"#text"!==Et.tagName}).forEach(V)};Y.forEach(V)},z.prototype.truncate=function(Y,q,V,Z,et,rt){var m,mt=this.svgElement,gt=mt.renderer,Et=mt.rotation,Dt=[],Mt=V?1:0,T=(q||V||"").length,h=T,y=function(M,S){S=S||M;var P=Y.parentNode;if(P&&void 0===Dt[S])if(P.getSubStringLength)try{Dt[S]=Z+P.getSubStringLength(0,V?S+1:S)}catch(C){}else gt.getSpanWidth&&(Y.textContent=rt(q||V,M),Dt[S]=Z+gt.getSpanWidth(mt,Y));return Dt[S]};mt.rotation=0;var v=y(Y.textContent.length);if(Z+v>et){for(;Mt<=T;)h=Math.ceil((Mt+T)/2),V&&(m=rt(V,h)),v=y(h,m&&m.length-1),Mt===T?Mt=T+1:v>et?T=h-1:Mt=h;0===T?Y.textContent="":q&&T===q.length-1||(Y.textContent=m||rt(q||V,h))}V&&V.splice(0,h),mt.actualWidth=v,mt.rotation=Et},z.prototype.unescapeEntities=function(Y,q){return N(this.renderer.escapes,function(V,Z){q&&-1!==q.indexOf(V)||(Y=Y.toString().replace(new RegExp(V,"g"),Z))}),Y},z}()}),ht(ct,"Core/Renderer/SVG/SVGRenderer.js",[ct["Core/Renderer/HTML/AST.js"],ct["Core/Color/Color.js"],ct["Core/Globals.js"],ct["Core/Renderer/RendererRegistry.js"],ct["Core/Renderer/SVG/SVGElement.js"],ct["Core/Renderer/SVG/SVGLabel.js"],ct["Core/Renderer/SVG/Symbols.js"],ct["Core/Renderer/SVG/TextBuilder.js"],ct["Core/Utilities.js"]],function(D,$,X,it,K,W,j,tt,N){var Q,U=X.charts,z=X.deg2rad,Y=X.doc,q=X.isFirefox,V=X.isMS,Z=X.isWebKit,et=X.noop,rt=X.SVG_NS,mt=X.symbolSizes,gt=X.win,Et=N.addEvent,Dt=N.attr,Mt=N.createElement,T=N.css,h=N.defined,m=N.destroyObjectProperties,y=N.extend,v=N.isArray,M=N.isNumber,S=N.isObject,P=N.isString,C=N.merge,d=N.pick,k=N.pInt,nt=N.uniqueKey;return X=function(){function J(xt,wt,Ft,Gt,It,_t,Zt){this.width=this.url=this.style=this.isSVG=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(xt,wt,Ft,Gt,It,_t,Zt)}return J.prototype.init=function(xt,wt,Ft,Gt,It,_t,Zt){var jt,Ot=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),At=Ot.element;Zt||Ot.css(this.getStyle(Gt)),xt.appendChild(At),Dt(xt,"dir","ltr"),-1===xt.innerHTML.indexOf("xmlns")&&Dt(At,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=At,this.boxWrapper=Ot,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(Y.createTextNode("Created with Highcharts 9.3.1")),this.defs=this.createElement("defs").add(),this.allowHTML=_t,this.forExport=It,this.styledMode=Zt,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(wt,Ft,!1),q&&xt.getBoundingClientRect&&((wt=function(){T(xt,{left:0,top:0}),jt=xt.getBoundingClientRect(),T(xt,{left:Math.ceil(jt.left)-jt.left+"px",top:Math.ceil(jt.top)-jt.top+"px"})})(),this.unSubPixelFix=Et(gt,"resize",wt))},J.prototype.definition=function(xt){return new D([xt]).addToDOM(this.defs.element)},J.prototype.getReferenceURL=function(){if((q||Z)&&Y.getElementsByTagName("base").length){if(!h(Q)){var xt=nt();xt=new D([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:xt},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#"+xt+")",fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(Y.body),T(xt,{position:"fixed",top:0,left:0,zIndex:9e5});var wt=Y.elementFromPoint(6,6);Q="hitme"===(wt&&wt.id),Y.body.removeChild(xt)}if(Q)return gt.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""},J.prototype.getStyle=function(xt){return this.style=y({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},xt)},J.prototype.setStyle=function(xt){this.boxWrapper.css(this.getStyle(xt))},J.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width},J.prototype.destroy=function(){var xt=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),m(this.gradients||{}),this.gradients=null,xt&&(this.defs=xt.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},J.prototype.createElement=function(xt){var wt=new this.Element;return wt.init(this,xt),wt},J.prototype.getRadialAttr=function(xt,wt){return{cx:xt[0]-xt[2]/2+(wt.cx||0)*xt[2],cy:xt[1]-xt[2]/2+(wt.cy||0)*xt[2],r:(wt.r||0)*xt[2]}},J.prototype.buildText=function(xt){new tt(xt).buildSVG()},J.prototype.getContrast=function(xt){return(xt=$.parse(xt).rgba)[0]*=1,xt[1]*=1.2,xt[2]*=.5,459<xt[0]+xt[1]+xt[2]?"#000000":"#FFFFFF"},J.prototype.button=function(xt,wt,Ft,Gt,It,_t,Zt,Ot,At,jt){var Kt=this.label(xt,wt,Ft,At,void 0,void 0,jt,void 0,"button"),Vt=this.styledMode,Ce=0,Ht=It?C(It):{};if(xt=Ht&&Ht.style||{},Ht=D.filterUserAttributes(Ht),Kt.attr(C({padding:8,r:2},Ht)),!Vt){var ge=(Ht=C({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},{style:xt},Ht)).style;delete Ht.style;var yi=(_t=C(Ht,{fill:"#e6e6e6"},D.filterUserAttributes(_t||{}))).style;delete _t.style;var we=(Zt=C(Ht,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},D.filterUserAttributes(Zt||{}))).style;delete Zt.style;var de=(Ot=C(Ht,{style:{color:"#cccccc"}},D.filterUserAttributes(Ot||{}))).style;delete Ot.style}return Et(Kt.element,V?"mouseover":"mouseenter",function(){3!==Ce&&Kt.setState(1)}),Et(Kt.element,V?"mouseout":"mouseleave",function(){3!==Ce&&Kt.setState(Ce)}),Kt.setState=function(Fe){1!==Fe&&(Kt.state=Ce=Fe),Kt.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][Fe||0]),Vt||Kt.attr([Ht,_t,Zt,Ot][Fe||0]).css([ge,yi,we,de][Fe||0])},Vt||Kt.attr(Ht).css(y({cursor:"default"},ge)),Kt.on("touchstart",function(Fe){return Fe.stopPropagation()}).on("click",function(Fe){3!==Ce&&Gt.call(Kt,Fe)})},J.prototype.crispLine=function(xt,wt,Ft){void 0===Ft&&(Ft="round");var Gt=xt[0],It=xt[1];return h(Gt[1])&&Gt[1]===It[1]&&(Gt[1]=It[1]=Math[Ft](Gt[1])-wt%2/2),h(Gt[2])&&Gt[2]===It[2]&&(Gt[2]=It[2]=Math[Ft](Gt[2])+wt%2/2),xt},J.prototype.path=function(xt){var wt=this.styledMode?{}:{fill:"none"};return v(xt)?wt.d=xt:S(xt)&&y(wt,xt),this.createElement("path").attr(wt)},J.prototype.circle=function(xt,wt,Ft){return xt=S(xt)?xt:void 0===xt?{}:{x:xt,y:wt,r:Ft},(wt=this.createElement("circle")).xSetter=wt.ySetter=function(Gt,It,_t){_t.setAttribute("c"+It,Gt)},wt.attr(xt)},J.prototype.arc=function(xt,wt,Ft,Gt,It,_t){return S(xt)?(wt=(Gt=xt).y,Ft=Gt.r,xt=Gt.x):Gt={innerR:Gt,start:It,end:_t},(xt=this.symbol("arc",xt,wt,Ft,Ft,Gt)).r=Ft,xt},J.prototype.rect=function(xt,wt,Ft,Gt,It,_t){It=S(xt)?xt.r:It;var Zt=this.createElement("rect");return xt=S(xt)?xt:void 0===xt?{}:{x:xt,y:wt,width:Math.max(Ft,0),height:Math.max(Gt,0)},this.styledMode||(void 0!==_t&&(xt["stroke-width"]=_t,xt=Zt.crisp(xt)),xt.fill="none"),It&&(xt.r=It),Zt.rSetter=function(Ot,At,jt){Zt.r=Ot,Dt(jt,{rx:Ot,ry:Ot})},Zt.rGetter=function(){return Zt.r||0},Zt.attr(xt)},J.prototype.setSize=function(xt,wt,Ft){this.width=xt,this.height=wt,this.boxWrapper.animate({width:xt,height:wt},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:d(Ft,!0)?void 0:0}),this.alignElements()},J.prototype.g=function(xt){var wt=this.createElement("g");return xt?wt.attr({class:"highcharts-"+xt}):wt},J.prototype.image=function(xt,wt,Ft,Gt,It,_t){var Zt={preserveAspectRatio:"none"},Ot=function(jt,Kt){jt.setAttributeNS?jt.setAttributeNS("http://www.w3.org/1999/xlink","href",Kt):jt.setAttribute("hc-svg-href",Kt)};M(wt)&&(Zt.x=wt),M(Ft)&&(Zt.y=Ft),M(Gt)&&(Zt.width=Gt),M(It)&&(Zt.height=It);var At=this.createElement("image").attr(Zt);return wt=function(jt){Ot(At.element,xt),_t.call(At,jt)},_t?(Ot(At.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),Ft=new gt.Image,Et(Ft,"load",wt),Ft.src=xt,Ft.complete&&wt({})):Ot(At.element,xt),At},J.prototype.symbol=function(xt,wt,Ft,Gt,It,_t){var Vt,Zt=this,Ot=/^url\((.*?)\)$/,At=Ot.test(xt),jt=!At&&(this.symbols[xt]?xt:"circle"),Kt=jt&&this.symbols[jt];if(Kt){"number"==typeof wt&&(Vt=Kt.call(this.symbols,Math.round(wt||0),Math.round(Ft||0),Gt||0,It||0,_t));var Ce=this.path(Vt);Zt.styledMode||Ce.attr("fill","none"),y(Ce,{symbolName:jt||void 0,x:wt,y:Ft,width:Gt,height:It}),_t&&y(Ce,_t)}else if(At){var Ht=xt.match(Ot)[1],ge=Ce=this.image(Ht);ge.imgwidth=d(mt[Ht]&&mt[Ht].width,_t&&_t.width),ge.imgheight=d(mt[Ht]&&mt[Ht].height,_t&&_t.height);var yi=function(we){return we.attr({width:we.width,height:we.height})};["width","height"].forEach(function(we){ge[we+"Setter"]=function(de,Fe){var Yt=this["img"+Fe];this[Fe]=de,h(Yt)&&(_t&&"within"===_t.backgroundSize&&this.width&&this.height&&(Yt=Math.round(Yt*Math.min(this.width/this.imgwidth,this.height/this.imgheight))),this.element&&this.element.setAttribute(Fe,Yt),this.alignByTranslate||(de=((this[Fe]||0)-Yt)/2,this.attr("width"===Fe?{translateX:de}:{translateY:de})))}}),h(wt)&&ge.attr({x:wt,y:Ft}),ge.isImg=!0,h(ge.imgwidth)&&h(ge.imgheight)?yi(ge):(ge.attr({width:0,height:0}),Mt("img",{onload:function(){var we=U[Zt.chartIndex];0===this.width&&(T(this,{position:"absolute",top:"-999em"}),Y.body.appendChild(this)),mt[Ht]={width:this.width,height:this.height},ge.imgwidth=this.width,ge.imgheight=this.height,ge.element&&yi(ge),this.parentNode&&this.parentNode.removeChild(this),Zt.imgCount--,!Zt.imgCount&&we&&!we.hasLoaded&&we.onload()},src:Ht}),this.imgCount++)}return Ce},J.prototype.clipRect=function(xt,wt,Ft,Gt){var It=nt()+"-",_t=this.createElement("clipPath").attr({id:It}).add(this.defs);return(xt=this.rect(xt,wt,Ft,Gt,0).add(_t)).id=It,xt.clipPath=_t,xt.count=0,xt},J.prototype.text=function(xt,wt,Ft,Gt){var It={};return!Gt||!this.allowHTML&&this.forExport?(It.x=Math.round(wt||0),Ft&&(It.y=Math.round(Ft)),h(xt)&&(It.text=xt),xt=this.createElement("text").attr(It),(!Gt||this.forExport&&!this.allowHTML)&&(xt.xSetter=function(_t,Zt,Ot){for(var Vt,At=Ot.getElementsByTagName("tspan"),jt=Ot.getAttribute(Zt),Kt=0;Kt<At.length;Kt++)(Vt=At[Kt]).getAttribute(Zt)===jt&&Vt.setAttribute(Zt,_t);Ot.setAttribute(Zt,_t)}),xt):this.html(xt,wt,Ft)},J.prototype.fontMetrics=function(xt,wt){return xt=!this.styledMode&&/px/.test(xt)||!gt.getComputedStyle?xt||wt&&wt.style&&wt.style.fontSize||this.style&&this.style.fontSize:wt&&K.prototype.getStyle.call(wt,"font-size"),{h:wt=24>(xt=/px/.test(xt)?k(xt):12)?xt+3:Math.round(1.2*xt),b:Math.round(.8*wt),f:xt}},J.prototype.rotCorr=function(xt,wt,Ft){var Gt=xt;return wt&&Ft&&(Gt=Math.max(Gt*Math.cos(wt*z),4)),{x:-xt/3*Math.sin(wt*z),y:Gt}},J.prototype.pathToSegments=function(xt){for(var wt=[],Ft=[],Gt={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},It=0;It<xt.length;It++)P(Ft[0])&&M(xt[It])&&Ft.length===Gt[Ft[0].toUpperCase()]&&xt.splice(It,0,Ft[0].replace("M","L").replace("m","l")),"string"==typeof xt[It]&&(Ft.length&&wt.push(Ft.slice(0)),Ft.length=0),Ft.push(xt[It]);return wt.push(Ft.slice(0)),wt},J.prototype.label=function(xt,wt,Ft,Gt,It,_t,Zt,Ot,At){return new W(this,xt,wt,Ft,Gt,It,_t,Zt,Ot,At)},J.prototype.alignElements=function(){this.alignedObjects.forEach(function(xt){return xt.align()})},J}(),y(X.prototype,{Element:K,SVG_NS:rt,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:j,draw:et}),it.registerRendererType("svg",X,!0),X}),ht(ct,"Core/Renderer/HTML/HTMLElement.js",[ct["Core/Globals.js"],ct["Core/Renderer/SVG/SVGElement.js"],ct["Core/Utilities.js"]],function(D,$,X){var V,it=this&&this.__extends||(V=function(Z,et){return(V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(rt,mt){rt.__proto__=mt}||function(rt,mt){for(var gt in mt)mt.hasOwnProperty(gt)&&(rt[gt]=mt[gt])})(Z,et)},function(Z,et){function rt(){this.constructor=Z}V(Z,et),Z.prototype=null===et?Object.create(et):(rt.prototype=et.prototype,new rt)}),K=D.isFirefox,W=D.isMS,j=D.isWebKit,tt=D.win,N=X.css,U=X.defined,z=X.extend,Y=X.pick,q=X.pInt;return function(V){function Z(){return null!==V&&V.apply(this,arguments)||this}return it(Z,V),Z.compose=function(et){if(-1===Z.composedClasses.indexOf(et)){Z.composedClasses.push(et);var rt=Z.prototype,mt=et.prototype;mt.getSpanCorrection=rt.getSpanCorrection,mt.htmlCss=rt.htmlCss,mt.htmlGetBBox=rt.htmlGetBBox,mt.htmlUpdateTransform=rt.htmlUpdateTransform,mt.setSpanRotation=rt.setSpanRotation}return et},Z.prototype.getSpanCorrection=function(et,rt,mt){this.xCorr=-et*mt,this.yCorr=-rt},Z.prototype.htmlCss=function(et){var rt="SPAN"===this.element.tagName&&et&&"width"in et,mt=Y(rt&&et.width,void 0);if(rt){delete et.width,this.textWidth=mt;var gt=!0}return et&&"ellipsis"===et.textOverflow&&(et.whiteSpace="nowrap",et.overflow="hidden"),this.styles=z(this.styles,et),N(this.element,et),gt&&this.htmlUpdateTransform(),this},Z.prototype.htmlGetBBox=function(){var et=this.element;return{x:et.offsetLeft,y:et.offsetTop,width:et.offsetWidth,height:et.offsetHeight}},Z.prototype.htmlUpdateTransform=function(){if(this.added){var et=this.renderer,rt=this.element,mt=this.translateX||0,gt=this.translateY||0,Et=this.x||0,Dt=this.y||0,Mt=this.textAlign||"left",T={left:0,center:.5,right:1}[Mt],h=this.styles;if(h=h&&h.whiteSpace,N(rt,{marginLeft:mt,marginTop:gt}),!et.styledMode&&this.shadows&&this.shadows.forEach(function(P){N(P,{marginLeft:mt+1,marginTop:gt+1})}),this.inverted&&[].forEach.call(rt.childNodes,function(P){et.invertChild(P,rt)}),"SPAN"===rt.tagName){var m=this.rotation,y=this.textWidth&&q(this.textWidth),v=[m,Mt,rt.innerHTML,this.textWidth,this.textAlign].join(),M=void 0;if(M=!1,y!==this.oldTextWidth){if(this.textPxLength)var S=this.textPxLength;else N(rt,{width:"",whiteSpace:h||"nowrap"}),S=rt.offsetWidth;(y>this.oldTextWidth||S>y)&&(/[ \-]/.test(rt.textContent||rt.innerText)||"ellipsis"===rt.style.textOverflow)&&(N(rt,{width:S>y||m?y+"px":"auto",display:"block",whiteSpace:h||"normal"}),this.oldTextWidth=y,M=!0)}this.hasBoxWidthChanged=M,v!==this.cTT&&(M=et.fontMetrics(rt.style.fontSize,rt).b,!U(m)||m===(this.oldRotation||0)&&Mt===this.oldAlign||this.setSpanRotation(m,T,M),this.getSpanCorrection(!U(m)&&this.textPxLength||rt.offsetWidth,M,T,m,Mt)),N(rt,{left:Et+(this.xCorr||0)+"px",top:Dt+(this.yCorr||0)+"px"}),this.cTT=v,this.oldRotation=m,this.oldAlign=Mt}}else this.alignOnAdd=!0},Z.prototype.setSpanRotation=function(et,rt,mt){var gt={},Et=W&&!/Edge/.test(tt.navigator.userAgent)?"-ms-transform":j?"-webkit-transform":K?"MozTransform":tt.opera?"-o-transform":void 0;Et&&(gt[Et]=gt.transform="rotate("+et+"deg)",gt[Et+(K?"Origin":"-origin")]=gt.transformOrigin=100*rt+"% "+mt+"px",N(this.element,gt))},Z.composedClasses=[],Z}($)}),ht(ct,"Core/Renderer/HTML/HTMLRenderer.js",[ct["Core/Renderer/HTML/AST.js"],ct["Core/Renderer/SVG/SVGElement.js"],ct["Core/Renderer/SVG/SVGRenderer.js"],ct["Core/Utilities.js"]],function(D,$,X,it){var U,K=this&&this.__extends||(U=function(z,Y){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,V){q.__proto__=V}||function(q,V){for(var Z in V)V.hasOwnProperty(Z)&&(q[Z]=V[Z])})(z,Y)},function(z,Y){function q(){this.constructor=z}U(z,Y),z.prototype=null===Y?Object.create(Y):(q.prototype=Y.prototype,new q)}),W=it.attr,j=it.createElement,tt=it.extend,N=it.pick;return function(U){function z(){return null!==U&&U.apply(this,arguments)||this}return K(z,U),z.compose=function(Y){return-1===z.composedClasses.indexOf(Y)&&(z.composedClasses.push(Y),Y.prototype.html=z.prototype.html),Y},z.prototype.html=function(Y,q,V){var Z=this.createElement("span"),et=Z.element,rt=Z.renderer,mt=rt.isSVG,gt=function(Et,Dt){["opacity","visibility"].forEach(function(Mt){Et[Mt+"Setter"]=function(T,h,m){var y=Et.div?Et.div.style:Dt;$.prototype[Mt+"Setter"].call(this,T,h,m),y&&(y[h]=T)}}),Et.addedSetters=!0};return Z.textSetter=function(Et){Et!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,D.setElementHTML(this.element,N(Et,"")),this.textStr=Et,Z.doTransform=!0)},mt&&gt(Z,Z.element.style),Z.xSetter=Z.ySetter=Z.alignSetter=Z.rotationSetter=function(Et,Dt){"align"===Dt?Z.alignValue=Z.textAlign=Et:Z[Dt]=Et,Z.doTransform=!0},Z.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},Z.attr({text:Y,x:Math.round(q),y:Math.round(V)}).css({position:"absolute"}),rt.styledMode||Z.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),et.style.whiteSpace="nowrap",Z.css=Z.htmlCss,mt&&(Z.add=function(Et){var Dt=rt.box.parentNode,Mt=[];if(this.parentGroup=Et){var T=Et.div;if(!T){for(;Et;)Mt.push(Et),Et=Et.parentGroup;Mt.reverse().forEach(function(h){function m(S,P){h[P]=S,"translateX"===P?M.left=S+"px":M.top=S+"px",h.doTransform=!0}var S,y=W(h.element,"class"),v=h.styles||{},M=(T=h.div=h.div||j("div",y?{className:y}:void 0,{position:"absolute",left:(h.translateX||0)+"px",top:(h.translateY||0)+"px",display:h.display,opacity:h.opacity,cursor:v.cursor,pointerEvents:v.pointerEvents,visibility:h.visibility},T||Dt)).style;tt(h,{classSetter:(S=T,function(P){this.element.setAttribute("class",P),S.className=P}),on:function(){return Mt[0].div&&Z.on.apply({element:Mt[0].div,onEvents:h.onEvents},arguments),h},translateXSetter:m,translateYSetter:m}),h.addedSetters||gt(h)})}}else T=Dt;return T.appendChild(et),Z.added=!0,Z.alignOnAdd&&Z.htmlUpdateTransform(),Z}),Z},z.composedClasses=[],z}(X)}),ht(ct,"Core/Axis/AxisDefaults.js",[],function(){var D=(()=>{return($=D||(D={})).defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:void 0,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,x:0,zIndex:7,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#ccd6eb"},$.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){return(0,this.axis.chart.numberFormatter)(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},$.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}},$.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}},$.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},$.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},D;var $})();return D}),ht(ct,"Core/Foundation.js",[ct["Core/Utilities.js"]],function(D){var W,$=D.addEvent,X=D.isFunction,it=D.objectEach,K=D.removeEvent;return(W||(W={})).registerEventOptions=function(tt,N){tt.eventOptions=tt.eventOptions||{},it(N.events,function(U,z){tt.eventOptions[z]!==U&&(tt.eventOptions[z]&&(K(tt,z,tt.eventOptions[z]),delete tt.eventOptions[z]),X(U)&&(tt.eventOptions[z]=U,$(tt,z,U)))})},W}),ht(ct,"Core/Axis/Tick.js",[ct["Core/FormatUtilities.js"],ct["Core/Globals.js"],ct["Core/Utilities.js"]],function(D,$,X){var it=$.deg2rad,K=X.clamp,W=X.correctFloat,j=X.defined,tt=X.destroyObjectProperties,N=X.extend,U=X.fireEvent,z=X.isNumber,Y=X.merge,q=X.objectEach,V=X.pick;return function(){function Z(et,rt,mt,gt,Et){this.isNewLabel=this.isNew=!0,this.axis=et,this.pos=rt,this.type=mt||"",this.parameters=Et||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,U(this,"init"),mt||gt||this.addLabel()}return Z.prototype.addLabel=function(){var et=this,rt=et.axis,mt=rt.options,gt=rt.chart,Et=rt.categories,Dt=rt.logarithmic,Mt=rt.names,T=et.pos,h=V(et.options&&et.options.labels,mt.labels),m=rt.tickPositions,y=T===m[0],v=T===m[m.length-1],M=(!h.step||1===h.step)&&1===rt.tickInterval;m=m.info;var P,S=et.label;if(Et=this.parameters.category||(Et?V(Et[T],Mt[T],T):T),Dt&&z(Et)&&(Et=W(Dt.lin2log(Et))),rt.dateTime)if(m)var C=gt.time.resolveDTLFormat(mt.dateTimeLabelFormats[!mt.grid&&m.higherRanks[T]||m.unitName]),d=C.main;else z(Et)&&(d=rt.dateTime.getXDateFormat(Et,mt.dateTimeLabelFormats||{}));et.isFirst=y,et.isLast=v;var k={axis:rt,chart:gt,dateTimeLabelFormat:d,isFirst:y,isLast:v,pos:T,tick:et,tickPositionInfo:m,value:Et};U(this,"labelFormat",k);var nt=function(J){return h.formatter?h.formatter.call(J,J):h.format?(J.text=rt.defaultLabelFormatter.call(J),D.format(h.format,J,gt)):rt.defaultLabelFormatter.call(J,J)};mt=nt.call(k,k);var Q=C&&C.list;et.shortenLabel=Q?function(){for(P=0;P<Q.length;P++)if(N(k,{dateTimeLabelFormat:Q[P]}),S.attr({text:nt.call(k,k)}),S.getBBox().width<rt.getSlotWidth(et)-2*h.padding)return;S.attr({text:""})}:void 0,M&&rt._addedPlotLB&&et.moveLabel(mt,h),j(S)||et.movedLabel?S&&S.textStr!==mt&&!M&&(!S.textWidth||h.style.width||S.styles.width||S.css({width:null}),S.attr({text:mt}),S.textPxLength=S.getBBox().width):(et.label=S=et.createLabel({x:0,y:0},mt,h),et.rotation=0)},Z.prototype.createLabel=function(et,rt,mt){var gt=this.axis,Et=gt.chart;return(et=j(rt)&&mt.enabled?Et.renderer.text(rt,et.x,et.y,mt.useHTML).add(gt.labelGroup):null)&&(Et.styledMode||et.css(Y(mt.style)),et.textPxLength=et.getBBox().width),et},Z.prototype.destroy=function(){tt(this,this.axis)},Z.prototype.getPosition=function(et,rt,mt,gt){var Et=this.axis,Dt=Et.chart,Mt=gt&&Dt.oldChartHeight||Dt.chartHeight;return(et={x:et?W(Et.translate(rt+mt,null,null,gt)+Et.transB):Et.left+Et.offset+(Et.opposite?(gt&&Dt.oldChartWidth||Dt.chartWidth)-Et.right-Et.left:0),y:et?Mt-Et.bottom+Et.offset-(Et.opposite?Et.height:0):W(Mt-Et.translate(rt+mt,null,null,gt)-Et.transB)}).y=K(et.y,-1e5,1e5),U(this,"afterGetPosition",{pos:et}),et},Z.prototype.getLabelPosition=function(et,rt,mt,gt,Et,Dt,Mt,T){var h=this.axis,m=h.transA,y=h.isLinked&&h.linkedParent?h.linkedParent.reversed:h.reversed,v=h.staggerLines,M=h.tickRotCorr||{x:0,y:0},S=gt||h.reserveSpaceDefault?0:-h.labelOffset*("center"===h.labelAlign?.5:1),P={},C=Et.y;return j(C)||(C=0===h.side?mt.rotation?-8:-mt.getBBox().height:2===h.side?M.y+8:Math.cos(mt.rotation*it)*(M.y-mt.getBBox(!1,0).height/2)),rt=rt+C-(Dt&&!gt?Dt*m*(y?1:-1):0),v&&(mt=Mt/(T||1)%v,h.opposite&&(mt=v-mt-1),rt+=h.labelOffset/v*mt),P.x=et=et+Et.x+S+M.x-(Dt&&gt?Dt*m*(y?-1:1):0),P.y=Math.round(rt),U(this,"afterGetLabelPosition",{pos:P,tickmarkOffset:Dt,index:Mt}),P},Z.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},Z.prototype.getMarkPath=function(et,rt,mt,gt,Et,Dt){return Dt.crispLine([["M",et,rt],["L",et+(Et?0:-mt),rt+(Et?mt:0)]],gt)},Z.prototype.handleOverflow=function(et){var rt=this.axis,mt=rt.options.labels,gt=et.x,Et=rt.chart.chartWidth,Dt=rt.chart.spacing,Mt=V(rt.labelLeft,Math.min(rt.pos,Dt[3]));Dt=V(rt.labelRight,Math.max(rt.isRadial?0:rt.pos+rt.len,Et-Dt[1]));var C,T=this.label,h=this.rotation,m={left:0,center:.5,right:1}[rt.labelAlign||T.attr("align")],y=T.getBBox().width,v=rt.getSlotWidth(this),M={},S=v,P=1;h||"justify"!==mt.overflow?0>h&&gt-m*y<Mt?C=Math.round(gt/Math.cos(h*it)-Mt):0<h&&gt+m*y>Dt&&(C=Math.round((Et-gt)/Math.cos(h*it))):(Et=gt+(1-m)*y,gt-m*y<Mt?S=et.x+S*(1-m)-Mt:Et>Dt&&(S=Dt-et.x+S*m,P=-1),(S=Math.min(v,S))<v&&"center"===rt.labelAlign&&(et.x+=P*(v-S-m*(v-Math.min(y,S)))),(y>S||rt.autoRotation&&(T.styles||{}).width)&&(C=S)),C&&(this.shortenLabel?this.shortenLabel():(M.width=Math.floor(C)+"px",(mt.style||{}).textOverflow||(M.textOverflow="ellipsis"),T.css(M)))},Z.prototype.moveLabel=function(et,rt){var mt=this,gt=mt.label,Et=mt.axis,Dt=Et.reversed,Mt=!1;if(gt&&gt.textStr===et?(mt.movedLabel=gt,Mt=!0,delete mt.label):q(Et.ticks,function(h){Mt||h.isNew||h===mt||!h.label||h.label.textStr!==et||(mt.movedLabel=h.label,Mt=!0,h.labelPos=mt.movedLabel.xy,delete h.label)}),!Mt&&(mt.labelPos||gt)){var T=mt.labelPos||gt.xy;mt.movedLabel=mt.createLabel({x:gt=Et.horiz?Dt?0:Et.width+Et.left:T.x,y:Et=Et.horiz?T.y:Dt?Et.width+Et.left:0},et,rt),mt.movedLabel&&mt.movedLabel.attr({opacity:0})}},Z.prototype.render=function(et,rt,mt){var gt=this.axis,Et=gt.horiz,Dt=this.pos,Mt=V(this.tickmarkOffset,gt.tickmarkOffset);Mt=(Dt=this.getPosition(Et,Dt,Mt,rt)).x,gt=Et&&Mt===gt.pos+gt.len||!Et&&Dt.y===gt.pos?-1:1,Et=V(mt,this.label&&this.label.newOpacity,1),mt=V(mt,1),this.isActive=!0,this.renderGridLine(rt,mt,gt),this.renderMark(Dt,mt,gt),this.renderLabel(Dt,rt,Et,et),this.isNew=!1,U(this,"afterRender")},Z.prototype.renderGridLine=function(et,rt,mt){var gt=this.axis,Et=gt.options,Dt={},Mt=this.pos,T=this.type,h=V(this.tickmarkOffset,gt.tickmarkOffset),m=gt.chart.renderer,y=this.gridLine,v=Et.gridLineWidth,M=Et.gridLineColor,S=Et.gridLineDashStyle;"minor"===this.type&&(v=Et.minorGridLineWidth,M=Et.minorGridLineColor,S=Et.minorGridLineDashStyle),y||(gt.chart.styledMode||(Dt.stroke=M,Dt["stroke-width"]=v||0,Dt.dashstyle=S),T||(Dt.zIndex=1),et&&(rt=0),this.gridLine=y=m.path().attr(Dt).addClass("highcharts-"+(T?T+"-":"")+"grid-line").add(gt.gridGroup)),y&&(mt=gt.getPlotLinePath({value:Mt+h,lineWidth:y.strokeWidth()*mt,force:"pass",old:et}))&&y[et||this.isNew?"attr":"animate"]({d:mt,opacity:rt})},Z.prototype.renderMark=function(et,rt,mt){var gt=this.axis,Et=gt.options,Dt=gt.chart.renderer,Mt=this.type,T=gt.tickSize(Mt?Mt+"Tick":"tick"),h=et.x;et=et.y;var m=V(Et["minor"!==Mt?"tickWidth":"minorTickWidth"],!Mt&&gt.isXAxis?1:0);Et=Et["minor"!==Mt?"tickColor":"minorTickColor"];var y=this.mark,v=!y;T&&(gt.opposite&&(T[0]=-T[0]),y||(this.mark=y=Dt.path().addClass("highcharts-"+(Mt?Mt+"-":"")+"tick").add(gt.axisGroup),gt.chart.styledMode||y.attr({stroke:Et,"stroke-width":m})),y[v?"attr":"animate"]({d:this.getMarkPath(h,et,T[0],y.strokeWidth()*mt,gt.horiz,Dt),opacity:rt}))},Z.prototype.renderLabel=function(et,rt,mt,gt){var Et=this.axis,Dt=Et.horiz,Mt=Et.options,T=this.label,h=Mt.labels,m=h.step;Et=V(this.tickmarkOffset,Et.tickmarkOffset);var y=et.x;et=et.y;var v=!0;T&&z(y)&&(T.xy=et=this.getLabelPosition(y,et,T,Dt,h,Et,gt,m),this.isFirst&&!this.isLast&&!Mt.showFirstLabel||this.isLast&&!this.isFirst&&!Mt.showLastLabel?v=!1:!Dt||h.step||h.rotation||rt||0===mt||this.handleOverflow(et),m&&gt%m&&(v=!1),v&&z(et.y)?(et.opacity=mt,T[this.isNewLabel?"attr":"animate"](et),this.isNewLabel=!1):(T.attr("y",-9999),this.isNewLabel=!0))},Z.prototype.replaceMovedLabel=function(){var et=this.label,rt=this.axis,mt=rt.reversed;et&&!this.isNew&&(et.animate({x:rt.horiz?mt?rt.left:rt.width+rt.left:et.xy.x,y:mt=rt.horiz?et.xy.y:mt?rt.width+rt.top:rt.top,opacity:0},void 0,et.destroy),delete this.label),rt.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel},Z}()}),ht(ct,"Core/Axis/Axis.js",[ct["Core/Animation/AnimationUtilities.js"],ct["Core/Axis/AxisDefaults.js"],ct["Core/Color/Color.js"],ct["Core/DefaultOptions.js"],ct["Core/Foundation.js"],ct["Core/Globals.js"],ct["Core/Axis/Tick.js"],ct["Core/Utilities.js"]],function(D,$,X,it,K,W,j,tt){var N=D.animObject,U=it.defaultOptions,z=K.registerEventOptions,Y=W.deg2rad,q=tt.arrayMax,V=tt.arrayMin,Z=tt.clamp,et=tt.correctFloat,rt=tt.defined,mt=tt.destroyObjectProperties,gt=tt.erase,Et=tt.error,Dt=tt.extend,Mt=tt.fireEvent,T=tt.getMagnitude,h=tt.isArray,m=tt.isNumber,y=tt.isString,v=tt.merge,M=tt.normalizeTickInterval,S=tt.objectEach,P=tt.pick,C=tt.relativeLength,d=tt.removeEvent,k=tt.splat,nt=tt.syncTimeout;return function(){function Q(J,xt){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.categories=this.bottom=this.alternateBands=void 0,this.init(J,xt)}return Q.prototype.init=function(J,xt){var wt=xt.isX;this.chart=J,this.horiz=J.inverted&&!this.isZAxis?!wt:wt,this.isXAxis=wt,this.coll=this.coll||(wt?"xAxis":"yAxis"),Mt(this,"init",{userOptions:xt}),this.opposite=P(xt.opposite,this.opposite),this.side=P(xt.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(xt);var Ft=this.options,Gt=Ft.labels,It=Ft.type;this.userOptions=xt,this.minPixelPadding=0,this.reversed=P(Ft.reversed,this.reversed),this.visible=Ft.visible,this.zoomEnabled=Ft.zoomEnabled,this.hasNames="category"===It||!0===Ft.categories,this.categories=Ft.categories||this.hasNames,this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=rt(Ft.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=Ft.minRange||Ft.maxZoom,this.range=Ft.range,this.offset=Ft.offset||0,this.min=this.max=null,xt=P(Ft.crosshair,k(J.options.tooltip.crosshairs)[wt?0:1]),this.crosshair=!0===xt?{}:xt,-1===J.axes.indexOf(this)&&(wt?J.axes.splice(J.xAxis.length,0,this):J.axes.push(this),J[this.coll].push(this)),this.series=this.series||[],J.inverted&&!this.isZAxis&&wt&&void 0===this.reversed&&(this.reversed=!0),this.labelRotation=m(Gt.rotation)?Gt.rotation:void 0,z(this,Ft),Mt(this,"afterInit")},Q.prototype.setOptions=function(J){this.options=v($.defaultXAxisOptions,"yAxis"===this.coll&&$.defaultYAxisOptions,[$.defaultTopAxisOptions,$.defaultRightAxisOptions,$.defaultBottomAxisOptions,$.defaultLeftAxisOptions][this.side],v(U[this.coll],J)),Mt(this,"afterSetOptions",{userOptions:J})},Q.prototype.defaultLabelFormatter=function(J){var xt=this.axis;J=this.chart.numberFormatter;var wt=m(this.value)?this.value:NaN,Ft=xt.chart.time,Gt=this.dateTimeLabelFormat,It=U.lang,_t=It.numericSymbols;It=It.numericSymbolMagnitude||1e3;var Zt=xt.logarithmic?Math.abs(wt):xt.tickInterval,Ot=_t&&_t.length;if(xt.categories)var At=""+this.value;else if(Gt)At=Ft.dateFormat(Gt,wt);else if(Ot&&1e3<=Zt)for(;Ot--&&void 0===At;)Zt>=(xt=Math.pow(It,Ot+1))&&10*wt%xt==0&&null!==_t[Ot]&&0!==wt&&(At=J(wt/xt,-1)+_t[Ot]);return void 0===At&&(At=1e4<=Math.abs(wt)?J(wt,-1):J(wt,-1,void 0,"")),At},Q.prototype.getSeriesExtremes=function(){var wt,J=this,xt=J.chart;Mt(this,"getSeriesExtremes",null,function(){J.hasVisibleSeries=!1,J.dataMin=J.dataMax=J.threshold=null,J.softThreshold=!J.isXAxis,J.stacking&&J.stacking.buildStacks(),J.series.forEach(function(Ft){if(Ft.visible||!xt.options.chart.ignoreHiddenSeries){var Gt=Ft.options,It=Gt.threshold;if(J.hasVisibleSeries=!0,J.positiveValuesOnly&&0>=It&&(It=null),J.isXAxis){if((Gt=Ft.xData).length){Gt=J.logarithmic?Gt.filter(J.validatePositiveValue):Gt;var _t=(wt=Ft.getXExtremes(Gt)).min,Zt=wt.max;m(_t)||_t instanceof Date||(Gt=Gt.filter(m),_t=(wt=Ft.getXExtremes(Gt)).min,Zt=wt.max),Gt.length&&(J.dataMin=Math.min(P(J.dataMin,_t),_t),J.dataMax=Math.max(P(J.dataMax,Zt),Zt))}}else Ft=Ft.applyExtremes(),m(Ft.dataMin)&&(_t=Ft.dataMin,J.dataMin=Math.min(P(J.dataMin,_t),_t)),m(Ft.dataMax)&&(Zt=Ft.dataMax,J.dataMax=Math.max(P(J.dataMax,Zt),Zt)),rt(It)&&(J.threshold=It),(!Gt.softThreshold||J.positiveValuesOnly)&&(J.softThreshold=!1)}})}),Mt(this,"afterGetSeriesExtremes")},Q.prototype.translate=function(J,xt,wt,Ft,Gt,It){var _t=this.linkedParent||this,Zt=Ft&&_t.old?_t.old.min:_t.min,Ot=_t.minPixelPadding;Gt=(_t.isOrdinal||_t.brokenAxis&&_t.brokenAxis.hasBreaks||_t.logarithmic&&Gt)&&_t.lin2val;var At=1,jt=0;return(Ft=Ft&&_t.old?_t.old.transA:_t.transA)||(Ft=_t.transA),wt&&(At*=-1,jt=_t.len),_t.reversed&&(jt-=(At*=-1)*(_t.sector||_t.len)),xt?(J=(J*At+jt-Ot)/Ft+Zt,Gt&&(J=_t.lin2val(J))):(Gt&&(J=_t.val2lin(J)),J=m(Zt)?At*(J-Zt)*Ft+jt+At*Ot+(m(It)?Ft*It:0):void 0),J},Q.prototype.toPixels=function(J,xt){return this.translate(J,!1,!this.horiz,null,!0)+(xt?0:this.pos)},Q.prototype.toValue=function(J,xt){return this.translate(J-(xt?0:this.pos),!0,!this.horiz,null,!0)},Q.prototype.getPlotLinePath=function(J){function xt(Fe,Yt,ee){return("pass"!==Ce&&Fe<Yt||Fe>ee)&&(Ce?Fe=Z(Fe,Yt,ee):de=!0),Fe}var Ht,ge,yi,we,de,wt=this,Ft=wt.chart,Gt=wt.left,It=wt.top,_t=J.old,Zt=J.value,Ot=J.lineWidth,At=_t&&Ft.oldChartHeight||Ft.chartHeight,jt=_t&&Ft.oldChartWidth||Ft.chartWidth,Kt=wt.transB,Vt=J.translatedValue,Ce=J.force;return Mt(this,"getPlotLinePath",J={value:Zt,lineWidth:Ot,old:_t,force:Ce,acrossPanes:J.acrossPanes,translatedValue:Vt},function(Fe){Vt=P(Vt,wt.translate(Zt,null,null,_t)),Vt=Z(Vt,-1e5,1e5),Ht=yi=Math.round(Vt+Kt),ge=we=Math.round(At-Vt-Kt),m(Vt)?wt.horiz?(ge=It,we=At-wt.bottom,Ht=yi=xt(Ht,Gt,Gt+wt.width)):(Ht=Gt,yi=jt-wt.right,ge=we=xt(ge,It,It+wt.height)):(de=!0,Ce=!1),Fe.path=de&&!Ce?null:Ft.renderer.crispLine([["M",Ht,ge],["L",yi,we]],Ot||1)}),J.path},Q.prototype.getLinearTickPositions=function(J,xt,wt){var Ft=et(Math.floor(xt/J)*J);wt=et(Math.ceil(wt/J)*J);var It,Gt=[];if(et(Ft+J)===Ft&&(It=20),this.single)return[xt];for(xt=Ft;xt<=wt&&(Gt.push(xt),(xt=et(xt+J,It))!==_t);)var _t=xt;return Gt},Q.prototype.getMinorTickInterval=function(){var J=this.options;return!0===J.minorTicks?P(J.minorTickInterval,"auto"):!1===J.minorTicks?null:J.minorTickInterval},Q.prototype.getMinorTickPositions=function(){var J=this.options,xt=this.tickPositions,wt=this.minorTickInterval,Ft=this.pointRangePadding||0,Gt=this.min-Ft,It=(Ft=this.max+Ft)-Gt,_t=[];if(It&&It/wt<this.len/3){var Zt=this.logarithmic;if(Zt)this.paddedTicks.forEach(function(Ot,At,jt){At&&_t.push.apply(_t,Zt.getLogTickPositions(wt,jt[At-1],jt[At],!0))});else if(this.dateTime&&"auto"===this.getMinorTickInterval())_t=_t.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(wt),Gt,Ft,J.startOfWeek));else for(J=Gt+(xt[0]-Gt)%wt;J<=Ft&&J!==_t[0];J+=wt)_t.push(J)}return 0!==_t.length&&this.trimTicks(_t),_t},Q.prototype.adjustForMinRange=function(){var It,_t,Zt,Ot,J=this.options,xt=this.logarithmic,wt=this.min,Ft=this.max,Gt=0;if(this.isXAxis&&void 0===this.minRange&&!xt&&(rt(J.min)||rt(J.max)||rt(J.floor)||rt(J.ceiling)?this.minRange=null:(this.series.forEach(function(Vt){if(Zt=Vt.xData,Ot=Vt.xIncrement?1:Zt.length-1,1<Zt.length)for(It=Ot;0<It;It--)_t=Zt[It]-Zt[It-1],(!Gt||_t<Gt)&&(Gt=_t)}),this.minRange=Math.min(5*Gt,this.dataMax-this.dataMin))),Ft-wt<this.minRange){var At=this.dataMax-this.dataMin>=this.minRange,jt=this.minRange,Kt=(jt-Ft+wt)/2;Kt=[wt-Kt,P(J.min,wt-Kt)],At&&(Kt[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),Ft=[(wt=q(Kt))+jt,P(J.max,wt+jt)],At&&(Ft[2]=xt?xt.log2lin(this.dataMax):this.dataMax),(Ft=V(Ft))-wt<jt&&(Kt[0]=Ft-jt,Kt[1]=P(J.min,Ft-jt),wt=q(Kt))}this.min=wt,this.max=Ft},Q.prototype.getClosest=function(){var J;return this.categories?J=1:this.series.forEach(function(xt){var wt=xt.closestPointRange,Ft=xt.visible||!xt.chart.options.chart.ignoreHiddenSeries;!xt.noSharedTooltip&&rt(wt)&&Ft&&(J=rt(J)?Math.min(J,wt):wt)}),J},Q.prototype.nameToX=function(J){var xt=h(this.categories),wt=xt?this.categories:this.names,Ft=J.options.x;if(J.series.requireSorting=!1,rt(Ft)||(Ft=this.options.uniqueNames?xt?wt.indexOf(J.name):P(wt.keys[J.name],-1):J.series.autoIncrement()),-1===Ft){if(!xt)var Gt=wt.length}else Gt=Ft;return void 0!==Gt&&(this.names[Gt]=J.name,this.names.keys[J.name]=Gt),Gt},Q.prototype.updateNames=function(){var J=this,xt=this.names;0<xt.length&&(Object.keys(xt.keys).forEach(function(wt){delete xt.keys[wt]}),xt.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(wt){wt.xIncrement=null,(!wt.points||wt.isDirtyData)&&(J.max=Math.max(J.max,wt.xData.length-1),wt.processData(),wt.generatePoints()),wt.data.forEach(function(Ft,Gt){if(Ft&&Ft.options&&void 0!==Ft.name){var It=J.nameToX(Ft);void 0!==It&&It!==Ft.x&&(Ft.x=It,wt.xData[Gt]=It)}})}))},Q.prototype.setAxisTranslation=function(){var Ot,J=this,xt=J.max-J.min,wt=J.linkedParent,Ft=!!J.categories,Gt=J.isXAxis,It=J.axisPointRange||0,_t=0,Zt=0;if(Gt||Ft||It){var At=J.getClosest();wt?(_t=wt.minPointOffset,Zt=wt.pointRangePadding):J.series.forEach(function(jt){var Kt=Ft?1:Gt?P(jt.options.pointRange,At,0):J.axisPointRange||0,Vt=jt.options.pointPlacement;It=Math.max(It,Kt),(!J.single||Ft)&&(jt=jt.is("xrange")?!Gt:Gt,_t=Math.max(_t,jt&&y(Vt)?0:Kt/2),Zt=Math.max(Zt,jt&&"on"===Vt?0:Kt))}),J.minPointOffset=_t*=wt=J.ordinal&&J.ordinal.slope&&At?J.ordinal.slope/At:1,J.pointRangePadding=Zt*=wt,J.pointRange=Math.min(It,J.single&&Ft?1:xt),Gt&&(J.closestPointRange=At)}J.translationSlope=J.transA=Ot=J.staticScale||J.len/(xt+Zt||1),J.transB=J.horiz?J.left:J.bottom,J.minPixelPadding=Ot*_t,Mt(this,"afterSetAxisTranslation")},Q.prototype.minFromRange=function(){return this.max-this.range},Q.prototype.setTickInterval=function(J){var xt=this.chart,wt=this.logarithmic,Ft=this.options,Gt=this.isXAxis,It=this.isLinked,_t=Ft.tickPixelInterval,Zt=this.categories,Ot=this.softThreshold,At=Ft.maxPadding,jt=Ft.minPadding,Kt=m(Ft.tickInterval)&&0<=Ft.tickInterval?Ft.tickInterval:void 0,Vt=m(this.threshold)?this.threshold:null;this.dateTime||Zt||It||this.getTickAmount();var Ce=P(this.userMin,Ft.min),Ht=P(this.userMax,Ft.max);if(It){this.linkedParent=xt[this.coll][Ft.linkedTo];var ge=this.linkedParent.getExtremes();this.min=P(ge.min,ge.dataMin),this.max=P(ge.max,ge.dataMax),Ft.type!==this.linkedParent.options.type&&Et(11,1,xt)}else{if(Ot&&rt(Vt))if(this.dataMin>=Vt)ge=Vt,jt=0;else if(this.dataMax<=Vt){var yi=Vt;At=0}this.min=P(Ce,ge,this.dataMin),this.max=P(Ht,yi,this.dataMax)}if(wt&&(this.positiveValuesOnly&&!J&&0>=Math.min(this.min,P(this.dataMin,this.min))&&Et(10,1,xt),this.min=et(wt.log2lin(this.min),16),this.max=et(wt.log2lin(this.max),16)),this.range&&rt(this.max)&&(this.userMin=this.min=Ce=Math.max(this.dataMin,this.minFromRange()),this.userMax=Ht=this.max,this.range=null),Mt(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(Zt||this.axisPointRange||this.stacking&&this.stacking.usePercentage||It)&&rt(this.min)&&rt(this.max)&&(xt=this.max-this.min)&&(!rt(Ce)&&jt&&(this.min-=xt*jt),!rt(Ht)&&At&&(this.max+=xt*At)),m(this.userMin)||(m(Ft.softMin)&&Ft.softMin<this.min&&(this.min=Ce=Ft.softMin),m(Ft.floor)&&(this.min=Math.max(this.min,Ft.floor))),m(this.userMax)||(m(Ft.softMax)&&Ft.softMax>this.max&&(this.max=Ht=Ft.softMax),m(Ft.ceiling)&&(this.max=Math.min(this.max,Ft.ceiling))),Ot&&rt(this.dataMin)&&(Vt=Vt||0,!rt(Ce)&&this.min<Vt&&this.dataMin>=Vt?this.min=this.options.minRange?Math.min(Vt,this.max-this.minRange):Vt:!rt(Ht)&&this.max>Vt&&this.dataMax<=Vt&&(this.max=this.options.minRange?Math.max(Vt,this.min+this.minRange):Vt)),m(this.min)&&m(this.max)&&!this.chart.polar&&this.min>this.max&&(rt(this.options.min)?this.max=this.min:rt(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||void 0===this.min||void 0===this.max?1:It&&this.linkedParent&&!Kt&&_t===this.linkedParent.options.tickPixelInterval?Kt=this.linkedParent.tickInterval:P(Kt,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,Zt?1:(this.max-this.min)*_t/Math.max(this.len,_t)),Gt&&!J){var we=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(de){de.forceCrop=de.forceCropping&&de.forceCropping(),de.processData(we)}),Mt(this,"postProcessData",{hasExtemesChanged:we})}this.setAxisTranslation(),Mt(this,"initialAxisTranslation"),this.pointRange&&!Kt&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),J=P(Ft.minTickInterval,this.dateTime&&!this.series.some(function(de){return de.noSharedTooltip})?this.closestPointRange:0),!Kt&&this.tickInterval<J&&(this.tickInterval=J),this.dateTime||this.logarithmic||Kt||(this.tickInterval=M(this.tickInterval,void 0,T(this.tickInterval),P(Ft.allowDecimals,.5>this.tickInterval||void 0!==this.tickAmount),!!this.tickAmount)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()},Q.prototype.setTickPositions=function(){var J=this.options,xt=J.tickPositions,wt=this.getMinorTickInterval(),Ft=this.hasVerticalPanning(),Gt="colorAxis"===this.coll,It=(Gt||!Ft)&&J.startOnTick;Ft=(Gt||!Ft)&&J.endOnTick,Gt=J.tickPositioner,this.tickmarkOffset=this.categories&&"between"===J.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===wt&&this.tickInterval?this.tickInterval/5:wt,this.single=this.min===this.max&&rt(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==J.allowDecimals),this.tickPositions=wt=xt&&xt.slice(),!wt&&(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))?wt=this.dateTime?this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,J.units),this.min,this.max,J.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0):this.logarithmic?this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max):(wt=[this.min,this.max],Et(19,!1,this.chart)),wt.length>this.len&&(wt=[wt[0],wt.pop()])[0]===wt[1]&&(wt.length=1),this.tickPositions=wt,Gt&&(Gt=Gt.apply(this,[this.min,this.max])))&&(this.tickPositions=wt=Gt),this.paddedTicks=wt.slice(0),this.trimTicks(wt,It,Ft),this.isLinked||(this.single&&2>wt.length&&!this.categories&&!this.series.some(function(_t){return _t.is("heatmap")&&"between"===_t.options.pointPlacement})&&(this.min-=.5,this.max+=.5),xt||Gt||this.adjustTickAmount()),Mt(this,"afterSetTickPositions")},Q.prototype.trimTicks=function(J,xt,wt){var Ft=J[0],Gt=J[J.length-1],It=!this.isOrdinal&&this.minPointOffset||0;if(Mt(this,"trimTicks"),!this.isLinked){if(xt&&Ft!==-1/0)this.min=Ft;else for(;this.min-It>J[0];)J.shift();if(wt)this.max=Gt;else for(;this.max+It<J[J.length-1];)J.pop();0===J.length&&rt(Ft)&&!this.options.tickPositions&&J.push((Gt+Ft)/2)}},Q.prototype.alignToOthers=function(){var wt,J={},xt=this.options;return!1!==this.chart.options.chart.alignTicks&&xt.alignTicks&&!1!==xt.startOnTick&&!1!==xt.endOnTick&&!this.logarithmic&&this.chart[this.coll].forEach(function(Ft){var Gt=Ft.options;Gt=[Ft.horiz?Gt.left:Gt.top,Gt.width,Gt.height,Gt.pane].join(),Ft.series.length&&(J[Gt]?wt=!0:J[Gt]=1)}),wt},Q.prototype.getTickAmount=function(){var J=this.options,xt=J.tickPixelInterval,wt=J.tickAmount;!rt(J.tickInterval)&&!wt&&this.len<xt&&!this.isRadial&&!this.logarithmic&&J.startOnTick&&J.endOnTick&&(wt=2),!wt&&this.alignToOthers()&&(wt=Math.ceil(this.len/xt)+1),4>wt&&(this.finalTickAmt=wt,wt=5),this.tickAmount=wt},Q.prototype.adjustTickAmount=function(){var J=this.options,xt=this.tickInterval,wt=this.tickPositions,Ft=this.tickAmount,Gt=this.finalTickAmt,It=wt&&wt.length,_t=P(this.threshold,this.softThreshold?0:null);if(this.hasData()&&m(this.min)&&m(this.max)){if(It<Ft){for(;wt.length<Ft;)wt.length%2||this.min===_t?wt.push(et(wt[wt.length-1]+xt)):wt.unshift(et(wt[0]-xt));this.transA*=(It-1)/(Ft-1),this.min=J.startOnTick?wt[0]:Math.min(this.min,wt[0]),this.max=J.endOnTick?wt[wt.length-1]:Math.max(this.max,wt[wt.length-1])}else It>Ft&&(this.tickInterval*=2,this.setTickPositions());if(rt(Gt)){for(xt=J=wt.length;xt--;)(3===Gt&&xt%2==1||2>=Gt&&0<xt&&xt<J-1)&&wt.splice(xt,1);this.finalTickAmt=void 0}}},Q.prototype.setScale=function(){var J=!1,xt=!1;this.series.forEach(function(Ft){J=J||Ft.isDirtyData||Ft.isDirty,xt=xt||Ft.xAxis&&Ft.xAxis.isDirty||!1}),this.setAxisSize();var wt=this.len!==(this.old&&this.old.len);wt||J||xt||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&this.stacking.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=wt||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),J&&this.panningState&&(this.panningState.isDirty=!0),Mt(this,"afterSetScale")},Q.prototype.setExtremes=function(J,xt,wt,Ft,Gt){var It=this,_t=It.chart;wt=P(wt,!0),It.series.forEach(function(Zt){delete Zt.kdTree}),Gt=Dt(Gt,{min:J,max:xt}),Mt(It,"setExtremes",Gt,function(){It.userMin=J,It.userMax=xt,It.eventArgs=Gt,wt&&_t.redraw(Ft)})},Q.prototype.zoom=function(J,xt){var wt=this,Ft=this.dataMin,Gt=this.dataMax,It=this.options,_t=Math.min(Ft,P(It.min,Ft)),Zt=Math.max(Gt,P(It.max,Gt));return Mt(this,"zoom",J={newMin:J,newMax:xt},function(Ot){var At=Ot.newMin,jt=Ot.newMax;(At!==wt.min||jt!==wt.max)&&(wt.allowZoomOutside||(rt(Ft)&&(At<_t&&(At=_t),At>Zt&&(At=Zt)),rt(Gt)&&(jt<_t&&(jt=_t),jt>Zt&&(jt=Zt))),wt.displayBtn=void 0!==At||void 0!==jt,wt.setExtremes(At,jt,!1,void 0,{trigger:"zoom"})),Ot.zoomed=!0}),J.zoomed},Q.prototype.setAxisSize=function(){var J=this.chart,xt=this.options,wt=xt.offsets||[0,0,0,0],Ft=this.horiz,Gt=this.width=Math.round(C(P(xt.width,J.plotWidth-wt[3]+wt[1]),J.plotWidth)),It=this.height=Math.round(C(P(xt.height,J.plotHeight-wt[0]+wt[2]),J.plotHeight)),_t=this.top=Math.round(C(P(xt.top,J.plotTop+wt[0]),J.plotHeight,J.plotTop));xt=this.left=Math.round(C(P(xt.left,J.plotLeft+wt[3]),J.plotWidth,J.plotLeft)),this.bottom=J.chartHeight-It-_t,this.right=J.chartWidth-Gt-xt,this.len=Math.max(Ft?Gt:It,0),this.pos=Ft?xt:_t},Q.prototype.getExtremes=function(){var J=this.logarithmic;return{min:J?et(J.lin2log(this.min)):this.min,max:J?et(J.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},Q.prototype.getThreshold=function(J){var xt=this.logarithmic,wt=xt?xt.lin2log(this.min):this.min;return xt=xt?xt.lin2log(this.max):this.max,null===J||J===-1/0?J=wt:J===1/0?J=xt:wt>J?J=wt:xt<J&&(J=xt),this.translate(J,0,1,0,1)},Q.prototype.autoLabelAlign=function(J){var xt=(P(J,0)-90*this.side+720)%360;return Mt(this,"autoLabelAlign",J={align:"center"},function(wt){15<xt&&165>xt?wt.align="right":195<xt&&345>xt&&(wt.align="left")}),J.align},Q.prototype.tickSize=function(J){var xt=this.options,wt=P(xt["tick"===J?"tickWidth":"minorTickWidth"],"tick"===J&&this.isXAxis&&!this.categories?1:0),Ft=xt["tick"===J?"tickLength":"minorTickLength"];if(wt&&Ft){"inside"===xt[J+"Position"]&&(Ft=-Ft);var Gt=[Ft,wt]}return Mt(this,"afterTickSize",J={tickSize:Gt}),J.tickSize},Q.prototype.labelMetrics=function(){var J=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[J]&&this.ticks[J].label)},Q.prototype.unsquish=function(){var At,jt,J=this.options.labels,xt=this.horiz,wt=this.tickInterval,Ft=this.len/(((this.categories?1:0)+this.max-this.min)/wt),Gt=J.rotation,It=this.labelMetrics(),_t=Math.max(this.max-this.min,0),Zt=function(Ce){var Ht=Ce/(Ft||1);return(Ht=1<Ht?Math.ceil(Ht):1)*wt>_t&&Ce!==1/0&&Ft!==1/0&&_t&&(Ht=Math.ceil(_t/wt)),et(Ht*wt)},Ot=wt,Kt=Number.MAX_VALUE;if(xt){if(!J.staggerLines&&!J.step)if(m(Gt))var Vt=[Gt];else Ft<J.autoRotationLimit&&(Vt=J.autoRotation);Vt&&Vt.forEach(function(Ce){if(Ce===Gt||Ce&&-90<=Ce&&90>=Ce){var Ht=(jt=Zt(Math.abs(It.h/Math.sin(Y*Ce))))+Math.abs(Ce/360);Ht<Kt&&(Kt=Ht,At=Ce,Ot=jt)}})}else J.step||(Ot=Zt(It.h));return this.autoRotation=Vt,this.labelRotation=P(At,m(Gt)?Gt:0),Ot},Q.prototype.getSlotWidth=function(J){var xt=this.chart,wt=this.horiz,Ft=this.options.labels,Gt=Math.max(this.tickPositions.length-(this.categories?0:1),1),It=xt.margin[3];if(J&&m(J.slotWidth))return J.slotWidth;if(wt&&2>Ft.step)return Ft.rotation?0:(this.staggerLines||1)*this.len/Gt;if(!wt){if(void 0!==(J=Ft.style.width))return parseInt(String(J),10);if(It)return It-xt.spacing[3]}return.33*xt.chartWidth},Q.prototype.renderUnsquish=function(){var J=this.chart,xt=J.renderer,wt=this.tickPositions,Ft=this.ticks,Gt=this.options.labels,It=Gt.style,_t=this.horiz,Zt=this.getSlotWidth(),Ot=Math.max(1,Math.round(Zt-2*Gt.padding)),At={},jt=this.labelMetrics(),Kt=It.textOverflow,Vt=0;if(y(Gt.rotation)||(At.rotation=Gt.rotation||0),wt.forEach(function(yi){(yi=Ft[yi]).movedLabel&&yi.replaceMovedLabel(),yi&&yi.label&&yi.label.textPxLength>Vt&&(Vt=yi.label.textPxLength)}),this.maxLabelLength=Vt,this.autoRotation)Vt>Ot&&Vt>jt.h?At.rotation=this.labelRotation:this.labelRotation=0;else if(Zt){var Ce=Ot;if(!Kt){var Ht="clip";for(Ot=wt.length;!_t&&Ot--;){var ge=wt[Ot];(ge=Ft[ge].label)&&(ge.styles&&"ellipsis"===ge.styles.textOverflow?ge.css({textOverflow:"clip"}):ge.textPxLength>Zt&&ge.css({width:Zt+"px"}),ge.getBBox().height>this.len/wt.length-(jt.h-jt.f)&&(ge.specificTextOverflow="ellipsis"))}}}At.rotation&&(Ce=Vt>.5*J.chartHeight?.33*J.chartHeight:Vt,Kt||(Ht="ellipsis")),(this.labelAlign=Gt.align||this.autoLabelAlign(this.labelRotation))&&(At.align=this.labelAlign),wt.forEach(function(yi){var we=(yi=Ft[yi])&&yi.label,de=It.width,Fe={};we&&(we.attr(At),yi.shortenLabel?yi.shortenLabel():Ce&&!de&&"nowrap"!==It.whiteSpace&&(Ce<we.textPxLength||"SPAN"===we.element.tagName)?(Fe.width=Ce+"px",Kt||(Fe.textOverflow=we.specificTextOverflow||Ht),we.css(Fe)):we.styles&&we.styles.width&&!Fe.width&&!de&&we.css({width:null}),delete we.specificTextOverflow,yi.rotation=At.rotation)},this),this.tickRotCorr=xt.rotCorr(jt.b,this.labelRotation||0,0!==this.side)},Q.prototype.hasData=function(){return this.series.some(function(J){return J.hasData()})||this.options.showEmpty&&rt(this.min)&&rt(this.max)},Q.prototype.addTitle=function(J){var _t,Ft=this.opposite,Gt=this.options.title,It=this.chart.styledMode;this.axisTitle||((_t=Gt.textAlign)||(_t=(this.horiz?{low:"left",middle:"center",high:"right"}:{low:Ft?"right":"left",middle:"center",high:Ft?"left":"right"})[Gt.align]),this.axisTitle=this.chart.renderer.text(Gt.text||"",0,0,Gt.useHTML).attr({zIndex:7,rotation:Gt.rotation,align:_t}).addClass("highcharts-axis-title"),It||this.axisTitle.css(v(Gt.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),It||Gt.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[J?"show":"hide"](J)},Q.prototype.generateTick=function(J){var xt=this.ticks;xt[J]?xt[J].addLabel():xt[J]=new j(this,J)},Q.prototype.getOffset=function(){var J=this,xt=this,wt=xt.chart,Ft=xt.horiz,Gt=xt.options,It=xt.side,_t=xt.ticks,Zt=xt.tickPositions,Ot=xt.coll,At=xt.axisParent,jt=wt.renderer,Kt=wt.inverted&&!xt.isZAxis?[1,0,3,2][It]:It,Vt=xt.hasData(),Ce=Gt.title,Ht=Gt.labels,ge=wt.axisOffset;wt=wt.clipOffset;var de,yi=[-1,1,1,-1][It],we=Gt.className,Fe=0,Yt=0,ee=0;if(xt.showAxis=de=Vt||Gt.showEmpty,xt.staggerLines=xt.horiz&&Ht.staggerLines||void 0,!xt.axisGroup){var Re=function(vt,at,qt){return jt.g(vt).attr({zIndex:qt}).addClass("highcharts-"+Ot.toLowerCase()+at+" "+(J.isRadial?"highcharts-radial-axis"+at+" ":"")+(we||"")).add(At)};xt.gridGroup=Re("grid","-grid",Gt.gridZIndex),xt.axisGroup=Re("axis","",Gt.zIndex),xt.labelGroup=Re("axis-labels","-labels",Ht.zIndex)}if(Vt||xt.isLinked?(Zt.forEach(function(vt){xt.generateTick(vt)}),xt.renderUnsquish(),xt.reserveSpaceDefault=0===It||2===It||{1:"left",3:"right"}[It]===xt.labelAlign,P(Ht.reserveSpace,"center"===xt.labelAlign||null,xt.reserveSpaceDefault)&&Zt.forEach(function(vt){ee=Math.max(_t[vt].getLabelSize(),ee)}),xt.staggerLines&&(ee*=xt.staggerLines),xt.labelOffset=ee*(xt.opposite?-1:1)):S(_t,function(vt,at){vt.destroy(),delete _t[at]}),Ce&&Ce.text&&!1!==Ce.enabled&&(xt.addTitle(de),de&&!1!==Ce.reserveSpace)){xt.titleOffset=Fe=xt.axisTitle.getBBox()[Ft?"height":"width"];var Nt=Ce.offset;Yt=rt(Nt)?0:P(Ce.margin,Ft?5:10)}xt.renderLine(),xt.offset=yi*P(Gt.offset,ge[It]?ge[It]+(Gt.margin||0):0),xt.tickRotCorr=xt.tickRotCorr||{x:0,y:0},Ce=0===It?-xt.labelMetrics().h:2===It?xt.tickRotCorr.y:0,Vt=Math.abs(ee)+Yt,ee&&(Vt=Vt-Ce+yi*(Ft?P(Ht.y,xt.tickRotCorr.y+8*yi):Ht.x)),xt.axisTitleMargin=P(Nt,Vt),xt.getMaxLabelDimensions&&(xt.maxLabelDimensions=xt.getMaxLabelDimensions(_t,Zt)),"colorAxis"!==Ot&&(Ft=this.tickSize("tick"),ge[It]=Math.max(ge[It],(xt.axisTitleMargin||0)+Fe+yi*xt.offset,Vt,Zt&&Zt.length&&Ft?Ft[0]+yi*xt.offset:0),Gt=!xt.axisLine||Gt.offset?0:2*Math.floor(xt.axisLine.strokeWidth()/2),wt[Kt]=Math.max(wt[Kt],Gt)),Mt(this,"afterGetOffset")},Q.prototype.getLinePath=function(J){var xt=this.chart,wt=this.opposite,Ft=this.offset,Gt=this.horiz,It=this.left+(wt?this.width:0)+Ft;return Ft=xt.chartHeight-this.bottom-(wt?this.height:0)+Ft,wt&&(J*=-1),xt.renderer.crispLine([["M",Gt?this.left:It,Gt?Ft:this.top],["L",Gt?xt.chartWidth-this.right:It,Gt?Ft:xt.chartHeight-this.bottom]],J)},Q.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},Q.prototype.getTitlePosition=function(){var J=this.horiz,xt=this.left,wt=this.top,Ft=this.len,Gt=this.options.title,It=J?xt:wt,_t=this.opposite,Zt=this.offset,Ot=Gt.x,At=Gt.y,jt=this.axisTitle,Kt=this.chart.renderer.fontMetrics(Gt.style.fontSize,jt);return jt=Math.max(jt.getBBox(null,0).height-Kt.h-1,0),Ft={low:It+(J?0:Ft),middle:It+Ft/2,high:It+(J?Ft:0)}[Gt.align],xt=(J?wt+this.height:xt)+(J?1:-1)*(_t?-1:1)*this.axisTitleMargin+[-jt,jt,Kt.f,-jt][this.side],Mt(this,"afterGetTitlePosition",{titlePosition:J={x:J?Ft+Ot:xt+(_t?this.width:0)+Zt+Ot,y:J?xt+At-(_t?this.height:0)+Zt:Ft+At}}),J},Q.prototype.renderMinorTick=function(J,xt){var wt=this.minorTicks;wt[J]||(wt[J]=new j(this,J,"minor")),xt&&wt[J].isNew&&wt[J].render(null,!0),wt[J].render(null,!1,1)},Q.prototype.renderTick=function(J,xt,wt){var Ft=this.ticks;(!this.isLinked||J>=this.min&&J<=this.max||this.grid&&this.grid.isColumn)&&(Ft[J]||(Ft[J]=new j(this,J)),wt&&Ft[J].isNew&&Ft[J].render(xt,!0,-1),Ft[J].render(xt))},Q.prototype.render=function(){var yi,we,J=this,xt=J.chart,wt=J.logarithmic,Ft=J.options,Gt=J.isLinked,It=J.tickPositions,_t=J.axisTitle,Zt=J.ticks,Ot=J.minorTicks,At=J.alternateBands,jt=Ft.stackLabels,Kt=Ft.alternateGridColor,Vt=J.tickmarkOffset,Ce=J.axisLine,Ht=J.showAxis,ge=N(xt.renderer.globalAnimation);if(J.labelEdge.length=0,J.overlap=!1,[Zt,Ot,At].forEach(function(Fe){S(Fe,function(Yt){Yt.isActive=!1})}),J.hasData()||Gt){var de=J.chart.hasRendered&&J.old&&m(J.old.min);J.minorTickInterval&&!J.categories&&J.getMinorTickPositions().forEach(function(Fe){J.renderMinorTick(Fe,de)}),It.length&&(It.forEach(function(Fe,Yt){J.renderTick(Fe,Yt,de)}),Vt&&(0===J.min||J.single)&&(Zt[-1]||(Zt[-1]=new j(J,-1,null,!0)),Zt[-1].render(-1))),Kt&&It.forEach(function(Fe,Yt){we=void 0!==It[Yt+1]?It[Yt+1]+Vt:J.max-Vt,Yt%2==0&&Fe<J.max&&we<=J.max+(xt.polar?-Vt:Vt)&&(At[Fe]||(At[Fe]=new W.PlotLineOrBand(J)),yi=Fe+Vt,At[Fe].options={from:wt?wt.lin2log(yi):yi,to:wt?wt.lin2log(we):we,color:Kt,className:"highcharts-alternate-grid"},At[Fe].render(),At[Fe].isActive=!0)}),J._addedPlotLB||(J._addedPlotLB=!0,(Ft.plotLines||[]).concat(Ft.plotBands||[]).forEach(function(Fe){J.addPlotBandOrLine(Fe)}))}[Zt,Ot,At].forEach(function(Fe){var Yt=[],ee=ge.duration;S(Fe,function(Re,Nt){Re.isActive||(Re.render(Nt,!1,0),Re.isActive=!1,Yt.push(Nt))}),nt(function(){for(var Re=Yt.length;Re--;)Fe[Yt[Re]]&&!Fe[Yt[Re]].isActive&&(Fe[Yt[Re]].destroy(),delete Fe[Yt[Re]])},Fe!==At&&xt.hasRendered&&ee?ee:0)}),Ce&&(Ce[Ce.isPlaced?"animate":"attr"]({d:this.getLinePath(Ce.strokeWidth())}),Ce.isPlaced=!0,Ce[Ht?"show":"hide"](Ht)),_t&&Ht&&(Ft=J.getTitlePosition(),m(Ft.y)?(_t[_t.isNew?"attr":"animate"](Ft),_t.isNew=!1):(_t.attr("y",-9999),_t.isNew=!0)),jt&&jt.enabled&&J.stacking&&J.stacking.renderStackTotals(),J.old={len:J.len,max:J.max,min:J.min,transA:J.transA,userMax:J.userMax,userMin:J.userMin},J.isDirty=!1,Mt(this,"afterRender")},Q.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(J){J.render()})),this.series.forEach(function(J){J.isDirty=!0})},Q.prototype.getKeepProps=function(){return this.keepProps||Q.keepProps},Q.prototype.destroy=function(J){var xt=this,wt=xt.plotLinesAndBands,Ft=this.eventOptions;if(Mt(this,"destroy",{keepEvents:J}),J||d(xt),[xt.ticks,xt.minorTicks,xt.alternateBands].forEach(function(It){mt(It)}),wt)for(J=wt.length;J--;)wt[J].destroy();for(var Gt in"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(It){xt[It]&&(xt[It]=xt[It].destroy())}),xt.plotLinesAndBandsGroups)xt.plotLinesAndBandsGroups[Gt]=xt.plotLinesAndBandsGroups[Gt].destroy();S(xt,function(It,_t){-1===xt.getKeepProps().indexOf(_t)&&delete xt[_t]}),this.eventOptions=Ft},Q.prototype.drawCrosshair=function(J,xt){var It,wt=this.crosshair,Ft=P(wt&&wt.snap,!0),Gt=this.chart,_t=this.cross;if(Mt(this,"drawCrosshair",{e:J,point:xt}),J||(J=this.cross&&this.cross.e),wt&&!1!==(rt(xt)||!Ft)){if(Ft?rt(xt)&&(It=P("colorAxis"!==this.coll?xt.crosshairPos:null,this.isXAxis?xt.plotX:this.len-xt.plotY)):It=J&&(this.horiz?J.chartX-this.pos:this.len-J.chartY+this.pos),rt(It)){var Zt={value:xt&&(this.isXAxis?xt.x:P(xt.stackY,xt.y)),translatedValue:It};Gt.polar&&Dt(Zt,{isCrosshair:!0,chartX:J&&J.chartX,chartY:J&&J.chartY,point:xt}),Zt=this.getPlotLinePath(Zt)||null}if(!rt(Zt))return void this.hideCrosshair();Ft=this.categories&&!this.isRadial,_t||(this.cross=_t=Gt.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(Ft?"category ":"thin ")+(wt.className||"")).attr({zIndex:P(wt.zIndex,2)}).add(),Gt.styledMode||(_t.attr({stroke:wt.color||(Ft?X.parse("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":P(wt.width,1)}).css({"pointer-events":"none"}),wt.dashStyle&&_t.attr({dashstyle:wt.dashStyle}))),_t.show().attr({d:Zt}),Ft&&!wt.width&&_t.attr({"stroke-width":this.transA}),this.cross.e=J}else this.hideCrosshair();Mt(this,"afterDrawCrosshair",{e:J,point:xt})},Q.prototype.hideCrosshair=function(){this.cross&&this.cross.hide(),Mt(this,"afterHideCrosshair")},Q.prototype.hasVerticalPanning=function(){var J=this.chart.options.chart.panning;return!!(J&&J.enabled&&/y/.test(J.type))},Q.prototype.validatePositiveValue=function(J){return m(J)&&0<J},Q.prototype.update=function(J,xt){var wt=this.chart;J=v(this.userOptions,J),this.destroy(!0),this.init(wt,J),wt.isDirtyBox=!0,P(xt,!0)&&wt.redraw()},Q.prototype.remove=function(J){for(var xt=this.chart,wt=this.coll,Ft=this.series,Gt=Ft.length;Gt--;)Ft[Gt]&&Ft[Gt].remove(!1);gt(xt.axes,this),gt(xt[wt],this),xt[wt].forEach(function(It,_t){It.options.index=It.userOptions.index=_t}),this.destroy(),xt.isDirtyBox=!0,P(J,!0)&&xt.redraw()},Q.prototype.setTitle=function(J,xt){this.update({title:J},xt)},Q.prototype.setCategories=function(J,xt){this.update({categories:J},xt)},Q.defaultOptions=$.defaultXAxisOptions,Q.keepProps="extKey hcEvents names series userMax userMin".split(" "),Q}()}),ht(ct,"Core/Axis/DateTimeAxis.js",[ct["Core/Utilities.js"]],function(D){var W,$=D.addEvent,X=D.getMagnitude,it=D.normalizeTickInterval,K=D.timeUnits;return function(j){function tt(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function N(Y){"datetime"!==Y.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new z(this))}var U=[];j.compose=function(Y){return-1===U.indexOf(Y)&&(U.push(Y),Y.keepProps.push("dateTime"),Y.prototype.getTimeTicks=tt,$(Y,"init",N)),Y};var z=function(){function Y(q){this.axis=q}return Y.prototype.normalizeTimeTickInterval=function(q,V){var mt,Z=V||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],et=K[(V=Z[Z.length-1])[0]],rt=V[1];for(mt=0;mt<Z.length&&(et=K[(V=Z[mt])[0]],rt=V[1],!(Z[mt+1]&&q<=(et*rt[rt.length-1]+K[Z[mt+1][0]])/2));mt++);return et===K.year&&q<5*et&&(rt=[1,2,5]),{unitRange:et,count:q=it(q/et,rt,"year"===V[0]?Math.max(X(q/et),1):1),unitName:V[0]}},Y.prototype.getXDateFormat=function(q,V){var Z=this.axis;return Z.closestPointRange?Z.chart.time.getDateFormat(Z.closestPointRange,q,Z.options.startOfWeek,V)||V.year:V.day},Y}();j.Additions=z}(W||(W={})),W}),ht(ct,"Core/Axis/LogarithmicAxis.js",[ct["Core/Utilities.js"]],function(D){var W,$=D.addEvent,X=D.getMagnitude,it=D.normalizeTickInterval,K=D.pick;return function(j){function tt(Y){var q=this.logarithmic;"logarithmic"!==Y.userOptions.type?this.logarithmic=void 0:q||(this.logarithmic=new z(this))}function N(){var Y=this.logarithmic;Y&&(this.lin2val=function(q){return Y.lin2log(q)},this.val2lin=function(q){return Y.log2lin(q)})}var U=[];j.compose=function(Y){return-1===U.indexOf(Y)&&(U.push(Y),Y.keepProps.push("logarithmic"),$(Y,"init",tt),$(Y,"afterInit",N)),Y};var z=function(){function Y(q){this.axis=q}return Y.prototype.getLogTickPositions=function(q,V,Z,et){var rt=this.axis,mt=rt.len,gt=rt.options,Et=[];if(et||(this.minorAutoInterval=void 0),.5<=q)q=Math.round(q),Et=rt.getLinearTickPositions(q,V,Z);else if(.08<=q){var Mt,Dt=Math.floor(V),T=gt=void 0;for(mt=.3<q?[1,2,4]:.15<q?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];Dt<Z+1&&!T;Dt++){var h=mt.length;for(Mt=0;Mt<h&&!T;Mt++){var m=this.log2lin(this.lin2log(Dt)*mt[Mt]);m>V&&(!et||gt<=Z)&&void 0!==gt&&Et.push(gt),gt>Z&&(T=!0),gt=m}}}else V=this.lin2log(V),Z=this.lin2log(Z),q=et?rt.getMinorTickInterval():gt.tickInterval,q=K("auto"===q?null:q,this.minorAutoInterval,gt.tickPixelInterval/(et?5:1)*(Z-V)/((et?mt/rt.tickPositions.length:mt)||1)),q=it(q,void 0,X(q)),Et=rt.getLinearTickPositions(q,V,Z).map(this.log2lin),et||(this.minorAutoInterval=q/5);return et||(rt.tickInterval=q),Et},Y.prototype.lin2log=function(q){return Math.pow(10,q)},Y.prototype.log2lin=function(q){return Math.log(q)/Math.LN10},Y}();j.Additions=z}(W||(W={})),W}),ht(ct,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[ct["Core/Utilities.js"]],function(D){var K,$=D.erase,X=D.extend,it=D.isNumber;return function(W){var tt,j=[];W.compose=function(U,z){return tt||(tt=U),-1===j.indexOf(z)&&(j.push(z),X(z.prototype,N.prototype)),z};var N=function(){function U(){}return U.prototype.getPlotBandPath=function(z,Y,q){void 0===q&&(q=this.options);var V=this.getPlotLinePath({value:Y,force:!0,acrossPanes:q.acrossPanes}),Z=[],et=this.horiz;if(Y=!it(this.min)||!it(this.max)||z<this.min&&Y<this.min||z>this.max&&Y>this.max,z=this.getPlotLinePath({value:z,force:!0,acrossPanes:q.acrossPanes}),q=1,z&&V){if(Y){var rt=z.toString()===V.toString();q=0}for(Y=0;Y<z.length;Y+=2){var mt=z[Y],gt=z[Y+1],Et=V[Y],Dt=V[Y+1];"M"!==mt[0]&&"L"!==mt[0]||"M"!==gt[0]&&"L"!==gt[0]||"M"!==Et[0]&&"L"!==Et[0]||"M"!==Dt[0]&&"L"!==Dt[0]||(et&&Et[1]===mt[1]?(Et[1]+=q,Dt[1]+=q):et||Et[2]!==mt[2]||(Et[2]+=q,Dt[2]+=q),Z.push(["M",mt[1],mt[2]],["L",gt[1],gt[2]],["L",Dt[1],Dt[2]],["L",Et[1],Et[2]],["Z"])),Z.isFlat=rt}}return Z},U.prototype.addPlotBand=function(z){return this.addPlotBandOrLine(z,"plotBands")},U.prototype.addPlotLine=function(z){return this.addPlotBandOrLine(z,"plotLines")},U.prototype.addPlotBandOrLine=function(z,Y){var q=this,V=this.userOptions,Z=new tt(this,z);if(this.visible&&(Z=Z.render()),Z){if(this._addedPlotLB||(this._addedPlotLB=!0,(V.plotLines||[]).concat(V.plotBands||[]).forEach(function(rt){q.addPlotBandOrLine(rt)})),Y){var et=V[Y]||[];et.push(z),V[Y]=et}this.plotLinesAndBands.push(Z)}return Z},U.prototype.removePlotBandOrLine=function(z){var Y=this.plotLinesAndBands,q=this.options,V=this.userOptions;if(Y){for(var Z=Y.length;Z--;)Y[Z].id===z&&Y[Z].destroy();[q.plotLines||[],V.plotLines||[],q.plotBands||[],V.plotBands||[]].forEach(function(et){for(Z=et.length;Z--;)(et[Z]||{}).id===z&&$(et,et[Z])})}},U.prototype.removePlotBand=function(z){this.removePlotBandOrLine(z)},U.prototype.removePlotLine=function(z){this.removePlotBandOrLine(z)},U}()}(K||(K={})),K}),ht(ct,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[ct["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],ct["Core/Utilities.js"]],function(D,$){var X=$.arrayMax,it=$.arrayMin,K=$.defined,W=$.destroyObjectProperties,j=$.erase,tt=$.fireEvent,N=$.merge,U=$.objectEach,z=$.pick;return function(){function Y(q,V){this.axis=q,V&&(this.options=V,this.id=V.id)}return Y.compose=function(q){return D.compose(Y,q)},Y.prototype.render=function(){tt(this,"render");var q=this,V=q.axis,Z=V.horiz,et=V.logarithmic,rt=q.options,mt=rt.color,gt=z(rt.zIndex,0),Et=rt.events,Dt={},Mt=V.chart.renderer,T=rt.label,h=q.label,m=rt.to,y=rt.from,v=rt.value,M=q.svgElem,S=[],P=K(y)&&K(m);S=K(v);var C=!M,d={class:"highcharts-plot-"+(P?"band ":"line ")+(rt.className||"")},k=P?"bands":"lines";if(et&&(y=et.log2lin(y),m=et.log2lin(m),v=et.log2lin(v)),V.chart.styledMode||(S?(d.stroke=mt||"#999999",d["stroke-width"]=z(rt.width,1),rt.dashStyle&&(d.dashstyle=rt.dashStyle)):P&&(d.fill=mt||"#e6ebf5",rt.borderWidth&&(d.stroke=rt.borderColor,d["stroke-width"]=rt.borderWidth))),Dt.zIndex=gt,(et=V.plotLinesAndBandsGroups[k+="-"+gt])||(V.plotLinesAndBandsGroups[k]=et=Mt.g("plot-"+k).attr(Dt).add()),C&&(q.svgElem=M=Mt.path().attr(d).add(et)),S)S=V.getPlotLinePath({value:v,lineWidth:M.strokeWidth(),acrossPanes:rt.acrossPanes});else{if(!P)return;S=V.getPlotBandPath(y,m,rt)}return!q.eventsAdded&&Et&&(U(Et,function(nt,Q){M.on(Q,function(J){Et[Q].apply(q,[J])})}),q.eventsAdded=!0),(C||!M.d)&&S&&S.length?M.attr({d:S}):M&&(S?(M.show(!0),M.animate({d:S})):M.d&&(M.hide(),h&&(q.label=h=h.destroy()))),T&&(K(T.text)||K(T.formatter))&&S&&S.length&&0<V.width&&0<V.height&&!S.isFlat?(T=N({align:Z&&P&&"center",x:Z?!P&&4:10,verticalAlign:!Z&&P&&"middle",y:Z?P?16:10:P?6:-4,rotation:Z&&!P&&90},T),this.renderLabel(T,S,P,gt)):h&&h.hide(),q},Y.prototype.renderLabel=function(q,V,Z,et){var rt=this.axis,mt=rt.chart.renderer,gt=this.label;gt||(this.label=gt=mt.text(this.getLabelText(q),0,0,q.useHTML).attr({align:q.textAlign||q.align,rotation:q.rotation,class:"highcharts-plot-"+(Z?"band":"line")+"-label "+(q.className||""),zIndex:et}).add(),rt.chart.styledMode||gt.css(N({textOverflow:"ellipsis"},q.style))),et=V.xBounds||[V[0][1],V[1][1],Z?V[2][1]:V[0][1]],V=V.yBounds||[V[0][2],V[1][2],Z?V[2][2]:V[0][2]],Z=it(et),mt=it(V),gt.align(q,!1,{x:Z,y:mt,width:X(et)-Z,height:X(V)-mt}),gt.alignValue&&"left"!==gt.alignValue||gt.css({width:(90===gt.rotation?rt.height-(gt.alignAttr.y-rt.top):rt.width-(gt.alignAttr.x-rt.left))+"px"}),gt.show(!0)},Y.prototype.getLabelText=function(q){return K(q.formatter)?q.formatter.call(this):q.text},Y.prototype.destroy=function(){j(this.axis.plotLinesAndBands,this),delete this.axis,W(this)},Y}()}),ht(ct,"Core/Tooltip.js",[ct["Core/FormatUtilities.js"],ct["Core/Globals.js"],ct["Core/Renderer/RendererUtilities.js"],ct["Core/Renderer/RendererRegistry.js"],ct["Core/Utilities.js"]],function(D,$,X,it,K){var W=D.format,j=$.doc,tt=X.distribute,N=K.addEvent,U=K.clamp,z=K.css,Y=K.defined,q=K.discardElement,V=K.extend,Z=K.fireEvent,et=K.isArray,rt=K.isNumber,mt=K.isString,gt=K.merge,Et=K.pick,Dt=K.splat,Mt=K.syncTimeout;return function(){function T(h,m){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=h,this.init(h,m)}return T.prototype.applyFilter=function(){var h=this.chart;h.renderer.definition({tagName:"filter",attributes:{id:"drop-shadow-"+h.index,opacity:.5},children:[{tagName:"feGaussianBlur",attributes:{in:"SourceAlpha",stdDeviation:1}},{tagName:"feOffset",attributes:{dx:1,dy:1}},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"linear",slope:.3}}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",attributes:{in:"SourceGraphic"}}]}]})},T.prototype.bodyFormatter=function(h){return h.map(function(m){var y=m.series.tooltipOptions;return(y[(m.point.formatPrefix||"point")+"Formatter"]||m.point.tooltipFormatter).call(m.point,y[(m.point.formatPrefix||"point")+"Format"]||"")})},T.prototype.cleanSplit=function(h){this.chart.series.forEach(function(m){var y=m&&m.tt;y&&(!y.isActive||h?m.tt=y.destroy():y.isActive=!1)})},T.prototype.defaultFormatter=function(h){var m=this.points||Dt(this),y=[h.tooltipFooterHeaderFormatter(m[0])];return(y=y.concat(h.bodyFormatter(m))).push(h.tooltipFooterHeaderFormatter(m[0],!0)),y},T.prototype.destroy=function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),q(this.container)),K.clearTimeout(this.hideTimer),K.clearTimeout(this.tooltipTimeout)},T.prototype.getAnchor=function(h,m){var C,d,y=this.chart,v=y.pointer,M=y.inverted,S=y.plotTop,P=y.plotLeft,k=0,nt=0;return h=Dt(h),this.followPointer&&m?(void 0===m.chartX&&(m=v.normalize(m)),v=[m.chartX-P,m.chartY-S]):h[0].tooltipPos?v=h[0].tooltipPos:(h.forEach(function(Q){C=Q.series.yAxis,k+=Q.plotX||0,nt+=Q.plotLow?(Q.plotLow+(Q.plotHigh||0))/2:Q.plotY||0,(d=Q.series.xAxis)&&C&&(M?(k+=S+y.plotHeight-d.len-d.pos,nt+=P+y.plotWidth-C.len-C.pos):(k+=d.pos-P,nt+=C.pos-S))}),k/=h.length,nt/=h.length,v=[M?y.plotWidth-nt:k,M?y.plotHeight-k:nt],this.shared&&1<h.length&&m&&(M?v[0]=m.chartX-P:v[1]=m.chartY-S)),v.map(Math.round)},T.prototype.getLabel=function(){var d,h=this,m=this.chart.styledMode,y=this.options,v=this.split&&this.allowShared,M="tooltip"+(Y(y.className)?" "+y.className:""),S=y.style.pointerEvents||(!this.followPointer&&y.stickOnContact?"auto":"none"),P=function(){h.inContact=!0},C=function(Ft){var Gt=h.chart.hoverSeries;h.inContact=h.shouldStickOnContact()&&h.chart.pointer.inClass(Ft.relatedTarget,"highcharts-tooltip"),!h.inContact&&Gt&&Gt.onMouseOut&&Gt.onMouseOut()},k=this.chart.renderer;if(h.label){var nt=!h.label.hasClass("highcharts-label");(v&&!nt||!v&&nt)&&h.destroy()}if(!this.label){if(this.outside){nt=this.chart.options.chart.style;var Q=it.getRendererType();this.container=d=$.doc.createElement("div"),d.className="highcharts-tooltip-container",z(d,{position:"absolute",top:"1px",pointerEvents:S,zIndex:Math.max(this.options.style.zIndex||0,(nt&&nt.zIndex||0)+3)}),N(d,"mouseenter",P),N(d,"mouseleave",C),$.doc.body.appendChild(d),this.renderer=k=new Q(d,0,0,nt,void 0,void 0,k.styledMode)}if(v?this.label=k.g(M):(this.label=k.label("",0,0,y.shape,void 0,void 0,y.useHTML,void 0,M).attr({padding:y.padding,r:y.borderRadius}),m||this.label.attr({fill:y.backgroundColor,"stroke-width":y.borderWidth}).css(y.style).css({pointerEvents:S}).shadow(y.shadow)),m&&y.shadow&&(this.applyFilter(),this.label.attr({filter:"url(#drop-shadow-"+this.chart.index+")"})),h.outside&&!h.split){var J=this.label,xt=J.xSetter,wt=J.ySetter;J.xSetter=function(Ft){xt.call(J,h.distance),d.style.left=Ft+"px"},J.ySetter=function(Ft){wt.call(J,h.distance),d.style.top=Ft+"px"}}this.label.on("mouseenter",P).on("mouseleave",C).attr({zIndex:8}).add()}return this.label},T.prototype.getPosition=function(h,m,y){var wt,v=this.chart,M=this.distance,S={},P=v.inverted&&y.h||0,C=this.outside,d=C?j.documentElement.clientWidth-2*M:v.chartWidth,k=C?Math.max(j.body.scrollHeight,j.documentElement.scrollHeight,j.body.offsetHeight,j.documentElement.offsetHeight,j.documentElement.clientHeight):v.chartHeight,nt=v.pointer.getChartPosition(),Q=function(Ot){var At="x"===Ot;return[Ot,At?d:k,At?h:m].concat(C?[At?h*nt.scaleX:m*nt.scaleY,At?nt.left-M+(y.plotX+v.plotLeft)*nt.scaleX:nt.top-M+(y.plotY+v.plotTop)*nt.scaleY,0,At?d:k]:[At?h:m,At?y.plotX+v.plotLeft:y.plotY+v.plotTop,At?v.plotLeft:v.plotTop,At?v.plotLeft+v.plotWidth:v.plotTop+v.plotHeight])},J=Q("y"),xt=Q("x");Q=!!y.negative,!v.polar&&v.hoverSeries&&v.hoverSeries.yAxis&&v.hoverSeries.yAxis.reversed&&(Q=!Q);var Ft=!this.followPointer&&Et(y.ttBelow,!v.inverted===Q),Gt=function(Ot,At,jt,Kt,Vt,Ce,Ht){var ge=C?"y"===Ot?M*nt.scaleY:M*nt.scaleX:M,yi=(jt-Kt)/2,we=Kt<Vt-M,de=Vt+M+Kt<At,Fe=Vt-ge-jt+yi;if(Vt=Vt+ge-yi,Ft&&de)S[Ot]=Vt;else if(!Ft&&we)S[Ot]=Fe;else if(we)S[Ot]=Math.min(Ht-Kt,0>Fe-P?Fe:Fe-P);else{if(!de)return!1;S[Ot]=Math.max(Ce,Vt+P+jt>At?Vt:Vt+P)}},It=function(Ot,At,jt,Kt,Vt){var Ce;return Vt<M||Vt>At-M?Ce=!1:S[Ot]=Vt<jt/2?1:Vt>At-Kt/2?At-Kt-2:Vt-jt/2,Ce},_t=function(Ot){var At=J;J=xt,xt=At,wt=Ot},Zt=function(){!1!==Gt.apply(0,J)?!1!==It.apply(0,xt)||wt||(_t(!0),Zt()):wt?S.x=S.y=0:(_t(!0),Zt())};return(v.inverted||1<this.len)&&_t(),Zt(),S},T.prototype.hide=function(h){var m=this;K.clearTimeout(this.hideTimer),h=Et(h,this.options.hideDelay),this.isHidden||(this.hideTimer=Mt(function(){m.getLabel().fadeOut(h&&void 0),m.isHidden=!0},h))},T.prototype.init=function(h,m){this.chart=h,this.options=m,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=m.split&&!h.inverted&&!h.polar,this.shared=m.shared||this.split,this.outside=Et(m.outside,!(!h.scrollablePixelsX&&!h.scrollablePixelsY))},T.prototype.shouldStickOnContact=function(){return!(this.followPointer||!this.options.stickOnContact)},T.prototype.isStickyOnContact=function(){return!(!this.shouldStickOnContact()||!this.inContact)},T.prototype.move=function(h,m,y,v){var M=this,S=M.now,P=!1!==M.options.animation&&!M.isHidden&&(1<Math.abs(h-S.x)||1<Math.abs(m-S.y)),C=M.followPointer||1<M.len;V(S,{x:P?(2*S.x+h)/3:h,y:P?(S.y+m)/2:m,anchorX:C?void 0:P?(2*S.anchorX+y)/3:y,anchorY:C?void 0:P?(S.anchorY+v)/2:v}),M.getLabel().attr(S),M.drawTracker(),P&&(K.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){M&&M.move(h,m,y,v)},32))},T.prototype.refresh=function(h,m){var y=this.chart,v=this.options,M=Dt(h),S=M[0],P=[],C=v.formatter||this.defaultFormatter,d=this.shared,k=y.styledMode,nt={};if(v.enabled){K.clearTimeout(this.hideTimer),this.allowShared=!(!et(h)&&h.series&&h.series.noSharedTooltip),this.followPointer=!this.split&&S.series.tooltipOptions.followPointer;var Q=(h=this.getAnchor(h,m))[0],J=h[1];if(d&&this.allowShared?(y.pointer.applyInactiveState(M),M.forEach(function(Ft){Ft.setState("hover"),P.push(Ft.getLabelConfig())}),(nt={x:S.category,y:S.y}).points=P):nt=S.getLabelConfig(),this.len=P.length,C=C.call(nt,this),this.distance=Et((d=S.series).tooltipOptions.distance,16),!1===C)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(C,M);else{var xt=Q,wt=J;if(m&&y.pointer.isDirectTouch&&(xt=m.chartX-y.plotLeft,wt=m.chartY-y.plotTop),!y.polar&&!1!==d.options.clip&&!M.some(function(Ft){return Ft.series.shouldShowTooltip(xt,wt)}))return void this.hide();m=this.getLabel(),v.style.width&&!k||m.css({width:this.chart.spacingBox.width+"px"}),m.attr({text:C&&C.join?C.join(""):C}),m.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+Et(S.colorIndex,d.colorIndex)),k||m.attr({stroke:v.borderColor||S.color||d.color||"#666666"}),this.updatePosition({plotX:Q,plotY:J,negative:S.negative,ttBelow:S.ttBelow,h:h[2]||0})}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}Z(this,"refresh")}},T.prototype.renderSplit=function(h,m){function y(de,Fe,Yt,ee,Re){return void 0===Re&&(Re=!0),Yt?(Fe=Kt?0:ge,de=U(de-ee/2,Ot.left,Ot.right-ee-(v.outside?Vt:0))):(Fe-=Ce,de=U(de=Re?de-ee-It:de+It,Re?de:Ot.left,Ot.right)),{x:de,y:Fe}}var v=this,M=v.chart,S=v.chart,P=S.chartWidth,C=S.chartHeight,d=S.plotHeight,k=S.plotLeft,nt=S.plotTop,Q=S.pointer,J=S.scrollablePixelsY;J=void 0===J?0:J;var wt=S.scrollingContainer,Ft=(wt=void 0===wt?{scrollLeft:0,scrollTop:0}:wt).scrollLeft;wt=wt.scrollTop;var Gt=S.styledMode,It=v.distance,_t=v.options,Zt=v.options.positioner,Ot=v.outside&&"number"!=typeof S.scrollablePixelsX?j.documentElement.getBoundingClientRect():{left:Ft,right:Ft+P,top:wt,bottom:wt+C},At=v.getLabel(),jt=this.renderer||M.renderer,Kt=!(!M.xAxis[0]||!M.xAxis[0].opposite),Vt=(M=Q.getChartPosition()).left;M=M.top;var Ce=nt+wt,Ht=0,ge=d-J;mt(h)&&(h=[!1,h]),h=h.slice(0,m.length+1).reduce(function(de,Fe,Yt){if(!1!==Fe&&""!==Fe){var ee=(Yt=m[Yt-1]||{isHeader:!0,plotX:m[0].plotX,plotY:d,series:{}}).isHeader,Re=ee?v:Yt.series;Fe=Fe.toString();var Nt=Re.tt,vt=Yt.isHeader,at=Yt.series,qt="highcharts-color-"+Et(Yt.colorIndex,at.colorIndex,"none");if(Nt||(Nt={padding:_t.padding,r:_t.borderRadius},Gt||(Nt.fill=_t.backgroundColor,Nt["stroke-width"]=_t.borderWidth),Nt=jt.label("",0,0,_t[vt?"headerShape":"shape"],void 0,void 0,_t.useHTML).addClass((vt?"highcharts-tooltip-header ":"")+"highcharts-tooltip-box "+qt).attr(Nt).add(At)),Nt.isActive=!0,Nt.attr({text:Fe}),Gt||Nt.css(_t.style).shadow(_t.shadow).attr({stroke:_t.borderColor||Yt.color||at.color||"#333333"}),Fe=(vt=(Re=Re.tt=Nt).getBBox()).width+Re.strokeWidth(),ee&&(ge+=Ht=vt.height,Kt&&(Ce-=Ht)),at=void 0===(at=Yt.plotX)?0:at,qt=void 0===(qt=Yt.plotY)?0:qt,Nt=Yt.series,Yt.isHeader){at=k+at;var he=nt+d/2}else{var Xe=Nt.xAxis,ve=Nt.yAxis;at=Xe.pos+U(at,-It,Xe.len+It),Nt.shouldShowTooltip(0,ve.pos-nt+qt,{ignoreX:!0})&&(he=ve.pos+qt)}at=U(at,Ot.left-It,Ot.right+It),"number"==typeof he?(vt=vt.height+1,qt=Zt?Zt.call(v,Fe,vt,Yt):y(at,he,ee,Fe),de.push({align:Zt?0:void 0,anchorX:at,anchorY:he,boxWidth:Fe,point:Yt,rank:Et(qt.rank,ee?1:0),size:vt,target:qt.y,tt:Re,x:qt.x})):Re.isActive=!1}return de},[]),!Zt&&h.some(function(de){var Fe=(v.outside?Vt:0)+de.anchorX;return Fe<Ot.left&&Fe+de.boxWidth<Ot.right||Fe<Vt-Ot.left+de.boxWidth&&Ot.right-Fe>Fe})&&(h=h.map(function(de){var Fe=y(de.anchorX,de.anchorY,de.point.isHeader,de.boxWidth,!1);return V(de,{target:Fe.y,x:Fe.x})})),v.cleanSplit(),tt(h,ge);var yi=Vt,we=Vt;h.forEach(function(de){var Fe=de.x,Yt=de.boxWidth;(de=de.isHeader)||(v.outside&&Vt+Fe<yi&&(yi=Vt+Fe),!de&&v.outside&&yi+Yt>we&&(we=Vt+Fe))}),h.forEach(function(de){var Fe=de.x,Yt=de.anchorX,ee=de.pos,Re=de.point.isHeader;if(ee={visibility:void 0===ee?"hidden":"inherit",x:Fe,y:ee+Ce,anchorX:Yt,anchorY:de.anchorY},v.outside&&Fe<Yt){var Nt=Vt-yi;0<Nt&&(Re||(ee.x=Fe+Nt,ee.anchorX=Yt+Nt),Re&&(ee.x=(we-yi)/2,ee.anchorX=Yt+Nt))}de.tt.attr(ee)}),h=v.container,J=v.renderer,v.outside&&h&&J&&(S=At.getBBox(),J.setSize(S.width+S.x,S.height+S.y,!1),h.style.left=yi+"px",h.style.top=M+"px")},T.prototype.drawTracker=function(){if(this.followPointer||!this.options.stickOnContact)this.tracker&&this.tracker.destroy();else{var h=this.chart,m=this.label,y=this.shared?h.hoverPoints:h.hoverPoint;if(m&&y){var v={x:0,y:0,width:0,height:0};y=this.getAnchor(y);var M=m.getBBox();y[0]+=h.plotLeft-m.translateX,y[1]+=h.plotTop-m.translateY,v.x=Math.min(0,y[0]),v.y=Math.min(0,y[1]),v.width=0>y[0]?Math.max(Math.abs(y[0]),M.width-y[0]):Math.max(Math.abs(y[0]),M.width),v.height=0>y[1]?Math.max(Math.abs(y[1]),M.height-Math.abs(y[1])):Math.max(Math.abs(y[1]),M.height),this.tracker?this.tracker.attr(v):(this.tracker=m.renderer.rect(v).addClass("highcharts-tracker").add(m),h.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}},T.prototype.styledModeFormat=function(h){return h.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')},T.prototype.tooltipFooterHeaderFormatter=function(h,m){var y=h.series,v=y.tooltipOptions,M=y.xAxis,S=M&&M.dateTime,P=v.xDateFormat,C=v[m?"footerFormat":"headerFormat"];return Z(this,"headerFormatter",M={isFooter:m,labelConfig:h},function(d){S&&!P&&rt(h.key)&&(P=S.getXDateFormat(h.key,v.dateTimeLabelFormats)),S&&P&&(h.point&&h.point.tooltipDateKeys||["key"]).forEach(function(k){C=C.replace("{point."+k+"}","{point."+k+":"+P+"}")}),y.chart.styledMode&&(C=this.styledModeFormat(C)),d.text=W(C,{point:h,series:y},this.chart)}),M.text},T.prototype.update=function(h){this.destroy(),gt(!0,this.chart.options.tooltip.userOptions,h),this.init(this.chart,gt(!0,this.options,h))},T.prototype.updatePosition=function(h){var m=this.chart,y=this.options,v=m.pointer,M=this.getLabel();v=v.getChartPosition();var S=(y.positioner||this.getPosition).call(this,M.width,M.height,h),P=h.plotX+m.plotLeft;h=h.plotY+m.plotTop,this.outside&&(this.renderer.setSize(M.width+(y=y.borderWidth+2*this.distance),M.height+y,!1),(1!==v.scaleX||1!==v.scaleY)&&(z(this.container,{transform:"scale("+v.scaleX+", "+v.scaleY+")"}),P*=v.scaleX,h*=v.scaleY),P+=v.left-S.x,h+=v.top-S.y),this.move(Math.round(S.x),Math.round(S.y||0),P,h)},T}()}),ht(ct,"Core/Series/Point.js",[ct["Core/Renderer/HTML/AST.js"],ct["Core/Animation/AnimationUtilities.js"],ct["Core/DefaultOptions.js"],ct["Core/FormatUtilities.js"],ct["Core/Utilities.js"]],function(D,$,X,it,K){var W=$.animObject,j=X.defaultOptions,tt=it.format,N=K.addEvent,U=K.defined,z=K.erase,Y=K.extend,q=K.fireEvent,V=K.getNestedProperty,Z=K.isArray,et=K.isFunction,rt=K.isNumber,mt=K.isObject,gt=K.merge,Et=K.objectEach,Dt=K.pick,Mt=K.syncTimeout,T=K.removeEvent,h=K.uniqueKey;return function(){function m(){this.colorIndex=this.category=void 0,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.series=void 0,this.visible=!0,this.x=void 0}return m.prototype.animateBeforeDestroy=function(){var y=this,v={x:y.startXPos,opacity:0},M=y.getGraphicalProps();M.singular.forEach(function(S){y[S]=y[S].animate("dataLabel"===S?{x:y[S].startXPos,y:y[S].startYPos,opacity:0}:v)}),M.plural.forEach(function(S){y[S].forEach(function(P){P.element&&P.animate(Y({x:y.startXPos},P.startYPos?{x:P.startXPos,y:P.startYPos}:{}))})})},m.prototype.applyOptions=function(y,v){var M=this.series,S=M.options.pointValKey||M.pointValKey;return y=m.prototype.optionsToObject.call(this,y),Y(this,y),this.options=this.options?Y(this.options,y):y,y.group&&delete this.group,y.dataLabels&&delete this.dataLabels,S&&(this.y=m.prototype.getNestedProperty.call(this,S)),this.formatPrefix=(this.isNull=Dt(this.isValid&&!this.isValid(),null===this.x||!rt(this.y)))?"null":"point",this.selected&&(this.state="select"),"name"in this&&void 0===v&&M.xAxis&&M.xAxis.hasNames&&(this.x=M.xAxis.nameToX(this)),void 0===this.x&&M?this.x=void 0===v?M.autoIncrement():v:rt(y.x)&&M.options.relativeXValue&&(this.x=M.autoIncrement(y.x)),this},m.prototype.destroy=function(){function y(){for(d in(v.graphic||v.dataLabel||v.dataLabels)&&(T(v),v.destroyElements()),v)v[d]=null}var v=this,M=v.series,S=M.chart;M=M.options.dataSorting;var d,P=S.hoverPoints,C=W(v.series.chart.renderer.globalAnimation);v.legendItem&&S.legend.destroyItem(v),P&&(v.setState(),z(P,v),P.length||(S.hoverPoints=null)),v===S.hoverPoint&&v.onMouseOut(),M&&M.enabled?(this.animateBeforeDestroy(),Mt(y,C.duration)):y(),S.pointCount--},m.prototype.destroyElements=function(y){var v=this;(y=v.getGraphicalProps(y)).singular.forEach(function(M){v[M]=v[M].destroy()}),y.plural.forEach(function(M){v[M].forEach(function(S){S.element&&S.destroy()}),delete v[M]})},m.prototype.firePointEvent=function(y,v,M){var S=this,P=this.series.options;(P.point.events[y]||S.options&&S.options.events&&S.options.events[y])&&S.importEvents(),"click"===y&&P.allowPointSelect&&(M=function(C){S.select&&S.select(null,C.ctrlKey||C.metaKey||C.shiftKey)}),q(S,y,v,M)},m.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},m.prototype.getGraphicalProps=function(y){var P,v=this,M=[],S={singular:[],plural:[]};for((y=y||{graphic:1,dataLabel:1}).graphic&&M.push("graphic","upperGraphic","shadowGroup"),y.dataLabel&&M.push("dataLabel","dataLabelUpper","connector"),P=M.length;P--;){var C=M[P];v[C]&&S.singular.push(C)}return["dataLabel","connector"].forEach(function(d){var k=d+"s";y[d]&&v[k]&&S.plural.push(k)}),S},m.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},m.prototype.getNestedProperty=function(y){if(y)return 0===y.indexOf("custom.")?V(y,this.options):this[y]},m.prototype.getZone=function(){var y=this.series,v=y.zones;y=y.zoneAxis||"y";var M,S=0;for(M=v[S];this[y]>=M.value;)M=v[++S];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=M&&M.color&&!this.options.color?M.color:this.nonZonedColor,M},m.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType},m.prototype.init=function(y,v,M){return this.series=y,this.applyOptions(v,M),this.id=U(this.id)?this.id:h(),this.resolveColor(),y.chart.pointCount++,q(this,"afterInit"),this},m.prototype.optionsToObject=function(y){var v=this.series,M=v.options.keys,S=M||v.pointArrayMap||["y"],P=S.length,C={},d=0,k=0;if(rt(y)||null===y)C[S[0]]=y;else if(Z(y))for(!M&&y.length>P&&("string"==(v=typeof y[0])?C.name=y[0]:"number"===v&&(C.x=y[0]),d++);k<P;)M&&void 0===y[d]||(0<S[k].indexOf(".")?m.prototype.setNestedProperty(C,y[d],S[k]):C[S[k]]=y[d]),d++,k++;else"object"==typeof y&&(C=y,y.dataLabels&&(v._hasPointLabels=!0),y.marker&&(v._hasPointMarkers=!0));return C},m.prototype.resolveColor=function(){var y=this.series,v=y.chart.styledMode,M=y.chart.options.chart.colorCount;if(delete this.nonZonedColor,y.options.colorByPoint){if(!v){var S=(M=y.options.colors||y.chart.options.colors)[y.colorCounter];M=M.length}v=y.colorCounter,y.colorCounter++,y.colorCounter===M&&(y.colorCounter=0)}else v||(S=y.color),v=y.colorIndex;this.colorIndex=Dt(this.options.colorIndex,v),this.color=Dt(this.options.color,S)},m.prototype.setNestedProperty=function(y,v,M){return M.split(".").reduce(function(S,P,C,d){return S[P]=d.length-1===C?v:mt(S[P],!0)?S[P]:{},S[P]},y),y},m.prototype.tooltipFormatter=function(y){var v=this.series,M=v.tooltipOptions,S=Dt(M.valueDecimals,""),P=M.valuePrefix||"",C=M.valueSuffix||"";return v.chart.styledMode&&(y=v.chart.tooltip.styledModeFormat(y)),(v.pointArrayMap||["y"]).forEach(function(d){d="{point."+d,(P||C)&&(y=y.replace(RegExp(d+"}","g"),P+d+"}"+C)),y=y.replace(RegExp(d+"}","g"),d+":,."+S+"f}")}),tt(y,{point:this,series:this.series},v.chart)},m.prototype.update=function(y,v,M,S){function P(){C.applyOptions(y);var xt=k&&C.hasDummyGraphic;xt=null===C.y?!xt:xt,k&&xt&&(C.graphic=k.destroy(),delete C.hasDummyGraphic),mt(y,!0)&&(k&&k.element&&y&&y.marker&&void 0!==y.marker.symbol&&(C.graphic=k.destroy()),y&&y.dataLabels&&C.dataLabel&&(C.dataLabel=C.dataLabel.destroy()),C.connector&&(C.connector=C.connector.destroy())),d.updateParallelArrays(C,J=C.index),Q.data[J]=mt(Q.data[J],!0)||mt(y,!0)?C.options:Dt(y,Q.data[J]),d.isDirty=d.isDirtyData=!0,!d.fixedBox&&d.hasCartesianSeries&&(nt.isDirtyBox=!0),"point"===Q.legendType&&(nt.isDirtyLegend=!0),v&&nt.redraw(M)}var J,C=this,d=C.series,k=C.graphic,nt=d.chart,Q=d.options;v=Dt(v,!0),!1===S?P():C.firePointEvent("update",{options:y},P)},m.prototype.remove=function(y,v){this.series.removePoint(this.series.data.indexOf(this),y,v)},m.prototype.select=function(y,v){var M=this,S=M.series,P=S.chart;this.selectedStaging=y=Dt(y,!M.selected),M.firePointEvent(y?"select":"unselect",{accumulate:v},function(){M.selected=M.options.selected=y,S.options.data[S.data.indexOf(M)]=M.options,M.setState(y&&"select"),v||P.getSelectedPoints().forEach(function(C){var d=C.series;C.selected&&C!==M&&(C.selected=C.options.selected=!1,d.options.data[d.data.indexOf(C)]=C.options,C.setState(P.hoverPoints&&d.options.inactiveOtherPoints?"inactive":""),C.firePointEvent("unselect"))})}),delete this.selectedStaging},m.prototype.onMouseOver=function(y){var v=this.series.chart,M=v.pointer;y=y?M.normalize(y):M.getChartCoordinatesFromPoint(this,v.inverted),M.runPointActions(y,this)},m.prototype.onMouseOut=function(){var y=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(y.hoverPoints||[]).forEach(function(v){v.setState()}),y.hoverPoints=y.hoverPoint=null},m.prototype.importEvents=function(){if(!this.hasImportedEvents){var y=this,v=gt(y.series.options.point,y.options).events;y.events=v,Et(v,function(M,S){et(M)&&N(y,S,M)}),this.hasImportedEvents=!0}},m.prototype.setState=function(y,v){var Ft,M=this.series,S=this.state,P=M.options.states[y||"normal"]||{},C=j.plotOptions[M.type].marker&&M.options.marker,k=C&&C.states&&C.states[y||"normal"]||{},Q=this.marker||{},J=M.chart,xt=C&&M.markerAttribs,wt=M.halo,Gt=M.stateMarkerGraphic;if(!((y=y||"")===this.state&&!v||this.selected&&"select"!==y||!1===P.enabled||y&&(!1===k.enabled||C&&!1===C.enabled&&!1===k.enabled)||y&&Q.states&&Q.states[y]&&!1===Q.states[y].enabled)){if(this.state=y,xt&&(Ft=M.markerAttribs(this,y)),this.graphic&&!this.hasDummyGraphic){if(S&&this.graphic.removeClass("highcharts-point-"+S),y&&this.graphic.addClass("highcharts-point-"+y),!J.styledMode){var It=M.pointAttribs(this,y),_t=Dt(J.options.chart.animation,P.animation);M.options.inactiveOtherPoints&&rt(It.opacity)&&((this.dataLabels||[]).forEach(function(Zt){Zt&&Zt.animate({opacity:It.opacity},_t)}),this.connector&&this.connector.animate({opacity:It.opacity},_t)),this.graphic.animate(It,_t)}Ft&&this.graphic.animate(Ft,Dt(J.options.chart.animation,k.animation,C.animation)),Gt&&Gt.hide()}else y&&k&&(S=Q.symbol||M.symbol,Gt&&Gt.currentSymbol!==S&&(Gt=Gt.destroy()),Ft&&(Gt?Gt[v?"animate":"attr"]({x:Ft.x,y:Ft.y}):S&&(M.stateMarkerGraphic=Gt=J.renderer.symbol(S,Ft.x,Ft.y,Ft.width,Ft.height).add(M.markerGroup),Gt.currentSymbol=S)),!J.styledMode&&Gt&&"inactive"!==this.state&&Gt.attr(M.pointAttribs(this,y))),Gt&&(Gt[y&&this.isInside?"show":"hide"](),Gt.element.point=this,Gt.addClass(this.getClassName(),!0));Ft=(Gt=this.graphic||Gt)&&Gt.visibility||"inherit",(P=P.halo)&&P.size&&Gt&&"hidden"!==Ft&&!this.isCluster?(wt||(M.halo=wt=J.renderer.path().add(Gt.parentGroup)),wt.show()[v?"animate":"attr"]({d:this.haloPath(P.size)}),wt.attr({class:"highcharts-halo highcharts-color-"+Dt(this.colorIndex,M.colorIndex)+(this.className?" "+this.className:""),visibility:Ft,zIndex:-1}),wt.point=this,J.styledMode||wt.attr(Y({fill:this.color||M.color,"fill-opacity":P.opacity},D.filterUserAttributes(P.attributes||{})))):wt&&wt.point&&wt.point.haloPath&&wt.animate({d:wt.point.haloPath(0)},null,wt.hide),q(this,"afterSetState",{state:y})}},m.prototype.haloPath=function(y){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-y,this.plotY-y,2*y,2*y)},m}()}),ht(ct,"Core/Pointer.js",[ct["Core/Color/Color.js"],ct["Core/Globals.js"],ct["Core/Tooltip.js"],ct["Core/Utilities.js"]],function(D,$,X,it){var K=D.parse,W=$.charts,j=$.noop,tt=it.addEvent,N=it.attr,U=it.css,z=it.defined,Y=it.extend,q=it.find,V=it.fireEvent,Z=it.isNumber,et=it.isObject,rt=it.objectEach,mt=it.offset,gt=it.pick,Et=it.splat;return function(){function Dt(Mt,T){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=Mt,this.hasDragged=!1,this.options=T,this.init(Mt,T)}return Dt.prototype.applyInactiveState=function(Mt){var h,T=[];(Mt||[]).forEach(function(m){T.push(h=m.series),h.linkedParent&&T.push(h.linkedParent),h.linkedSeries&&(T=T.concat(h.linkedSeries)),h.navigatorSeries&&T.push(h.navigatorSeries)}),this.chart.series.forEach(function(m){-1===T.indexOf(m)?m.setState("inactive",!0):m.options.inactiveOtherPoints&&m.setAllPointsToState("inactive")})},Dt.prototype.destroy=function(){var Mt=this;this.eventsToUnbind.forEach(function(T){return T()}),this.eventsToUnbind=[],$.chartCount||(Dt.unbindDocumentMouseUp&&(Dt.unbindDocumentMouseUp=Dt.unbindDocumentMouseUp()),Dt.unbindDocumentTouchEnd&&(Dt.unbindDocumentTouchEnd=Dt.unbindDocumentTouchEnd())),clearInterval(Mt.tooltipTimeout),rt(Mt,function(T,h){Mt[h]=void 0})},Dt.prototype.drag=function(Mt){var T=this.chart,h=T.options.chart,m=this.zoomHor,y=this.zoomVert,v=T.plotLeft,M=T.plotTop,S=T.plotWidth,P=T.plotHeight,C=this.mouseDownX||0,d=this.mouseDownY||0,k=et(h.panning)?h.panning&&h.panning.enabled:h.panning,nt=h.panKey&&Mt[h.panKey+"Key"],Q=Mt.chartX,J=Mt.chartY,xt=this.selectionMarker;if((!xt||!xt.touch)&&(Q<v?Q=v:Q>v+S&&(Q=v+S),J<M?J=M:J>M+P&&(J=M+P),this.hasDragged=Math.sqrt(Math.pow(C-Q,2)+Math.pow(d-J,2)),10<this.hasDragged)){var wt=T.isInsidePlot(C-v,d-M,{visiblePlotOnly:!0});!T.hasCartesianSeries&&!T.mapView||!this.zoomX&&!this.zoomY||!wt||nt||xt||(this.selectionMarker=xt=T.renderer.rect(v,M,m?1:S,y?1:P,0).attr({class:"highcharts-selection-marker",zIndex:7}).add(),T.styledMode||xt.attr({fill:h.selectionMarkerFill||K("#335cad").setOpacity(.25).get()})),xt&&m&&(m=Q-C,xt.attr({width:Math.abs(m),x:(0<m?0:m)+C})),xt&&y&&(m=J-d,xt.attr({height:Math.abs(m),y:(0<m?0:m)+d})),wt&&!xt&&k&&T.pan(Mt,h.panning)}},Dt.prototype.dragStart=function(Mt){var T=this.chart;T.mouseIsDown=Mt.type,T.cancelClick=!1,T.mouseDownX=this.mouseDownX=Mt.chartX,T.mouseDownY=this.mouseDownY=Mt.chartY},Dt.prototype.drop=function(Mt){var T=this,h=this.chart,m=this.hasPinched;if(this.selectionMarker){var y=this.selectionMarker,v=y.attr?y.attr("x"):y.x,M=y.attr?y.attr("y"):y.y,S=y.attr?y.attr("width"):y.width,P=y.attr?y.attr("height"):y.height,C={originalEvent:Mt,xAxis:[],yAxis:[],x:v,y:M,width:S,height:P},d=!!h.mapView;(this.hasDragged||m)&&(h.axes.forEach(function(k){if(k.zoomEnabled&&z(k.min)&&(m||T[{xAxis:"zoomX",yAxis:"zoomY"}[k.coll]])&&Z(v)&&Z(M)){var nt=k.horiz,Q="touchend"===Mt.type?k.minPixelPadding:0,J=k.toValue((nt?v:M)+Q);nt=k.toValue((nt?v+S:M+P)-Q),C[k.coll].push({axis:k,min:Math.min(J,nt),max:Math.max(J,nt)}),d=!0}}),d&&V(h,"selection",C,function(k){h.zoom(Y(k,m?{animation:!1}:null))})),Z(h.index)&&(this.selectionMarker=this.selectionMarker.destroy()),m&&this.scaleGroups()}h&&Z(h.index)&&(U(h.container,{cursor:h._cursor}),h.cancelClick=10<this.hasDragged,h.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},Dt.prototype.findNearestKDPoint=function(Mt,T,h){var v,m=this.chart,y=m.hoverPoint;return m=m.tooltip,y&&m&&m.isStickyOnContact()?y:(Mt.forEach(function(M){var S=!(M.noSharedTooltip&&T)&&0>M.options.findNearestPointBy.indexOf("y");if(M=M.searchPoint(h,S),(S=et(M,!0)&&M.series)&&!(S=!et(v,!0))){var P=v.dist-M.dist,C=(M.series.group&&M.series.group.zIndex)-(v.series.group&&v.series.group.zIndex);S=0<(0!=(S=v.distX-M.distX)&&T?S:0!==P?P:0!==C?C:v.series.index>M.series.index?-1:1)}S&&(v=M)}),v)},Dt.prototype.getChartCoordinatesFromPoint=function(Mt,T){var h=Mt.series,m=h.xAxis;h=h.yAxis;var y=Mt.shapeArgs;if(m&&h){var v=gt(Mt.clientX,Mt.plotX),M=Mt.plotY||0;return Mt.isNode&&y&&Z(y.x)&&Z(y.y)&&(v=y.x,M=y.y),T?{chartX:h.len+h.pos-M,chartY:m.len+m.pos-v}:{chartX:v+m.pos,chartY:M+h.pos}}if(y&&y.x&&y.y)return{chartX:y.x,chartY:y.y}},Dt.prototype.getChartPosition=function(){if(this.chartPosition)return this.chartPosition;var Mt=this.chart.container,T=mt(Mt);this.chartPosition={left:T.left,top:T.top,scaleX:1,scaleY:1};var h=Mt.offsetWidth;return Mt=Mt.offsetHeight,2<h&&2<Mt&&(this.chartPosition.scaleX=T.width/h,this.chartPosition.scaleY=T.height/Mt),this.chartPosition},Dt.prototype.getCoordinates=function(Mt){var T={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(h){T[h.isXAxis?"xAxis":"yAxis"].push({axis:h,value:h.toValue(Mt[h.horiz?"chartX":"chartY"])})}),T},Dt.prototype.getHoverData=function(Mt,T,h,m,y,v){var M=[];m=!(!m||!Mt);var S={chartX:v?v.chartX:void 0,chartY:v?v.chartY:void 0,shared:y};V(this,"beforeGetHoverData",S);var P=T&&!T.stickyTracking?[T]:h.filter(function(d){return S.filter?S.filter(d):d.visible&&!(!y&&d.directTouch)&&gt(d.options.enableMouseTracking,!0)&&d.stickyTracking}),C=m||!v?Mt:this.findNearestKDPoint(P,y,v);return T=C&&C.series,C&&(y&&!T.noSharedTooltip?(P=h.filter(function(d){return S.filter?S.filter(d):d.visible&&!(!y&&d.directTouch)&&gt(d.options.enableMouseTracking,!0)&&!d.noSharedTooltip})).forEach(function(d){var k=q(d.points,function(nt){return nt.x===C.x&&!nt.isNull});et(k)&&(d.chart.isBoosting&&(k=d.getPoint(k)),M.push(k))}):M.push(C)),V(this,"afterGetHoverData",S={hoverPoint:C}),{hoverPoint:S.hoverPoint,hoverSeries:T,hoverPoints:M}},Dt.prototype.getPointFromEvent=function(Mt){Mt=Mt.target;for(var T;Mt&&!T;)T=Mt.point,Mt=Mt.parentNode;return T},Dt.prototype.onTrackerMouseOut=function(Mt){Mt=Mt.relatedTarget||Mt.toElement;var T=this.chart.hoverSeries;this.isDirectTouch=!1,!T||!Mt||T.stickyTracking||this.inClass(Mt,"highcharts-tooltip")||this.inClass(Mt,"highcharts-series-"+T.index)&&this.inClass(Mt,"highcharts-tracker")||T.onMouseOut()},Dt.prototype.inClass=function(Mt,T){for(var h;Mt;){if(h=N(Mt,"class")){if(-1!==h.indexOf(T))return!0;if(-1!==h.indexOf("highcharts-container"))return!1}Mt=Mt.parentNode}},Dt.prototype.init=function(Mt,T){this.options=T,this.chart=Mt,this.runChartClick=!(!T.chart.events||!T.chart.events.click),this.pinchDown=[],this.lastValidTouch={},X&&(Mt.tooltip=new X(Mt,T.tooltip),this.followTouchMove=gt(T.tooltip.followTouchMove,!0)),this.setDOMEvents()},Dt.prototype.normalize=function(Mt,T){var h=Mt.touches,m=h?h.length?h.item(0):gt(h.changedTouches,Mt.changedTouches)[0]:Mt;return T||(T=this.getChartPosition()),h=m.pageX-T.left,m=m.pageY-T.top,h/=T.scaleX,m/=T.scaleY,Y(Mt,{chartX:Math.round(h),chartY:Math.round(m)})},Dt.prototype.onContainerClick=function(Mt){var T=this.chart,h=T.hoverPoint;Mt=this.normalize(Mt);var m=T.plotLeft,y=T.plotTop;T.cancelClick||(h&&this.inClass(Mt.target,"highcharts-tracker")?(V(h.series,"click",Y(Mt,{point:h})),T.hoverPoint&&h.firePointEvent("click",Mt)):(Y(Mt,this.getCoordinates(Mt)),T.isInsidePlot(Mt.chartX-m,Mt.chartY-y,{visiblePlotOnly:!0})&&V(T,"click",Mt)))},Dt.prototype.onContainerMouseDown=function(Mt){var T=1==(1&(Mt.buttons||Mt.button));Mt=this.normalize(Mt),$.isFirefox&&0!==Mt.button&&this.onContainerMouseMove(Mt),(void 0===Mt.button||T)&&(this.zoomOption(Mt),T&&Mt.preventDefault&&Mt.preventDefault(),this.dragStart(Mt))},Dt.prototype.onContainerMouseLeave=function(Mt){var T=W[gt(Dt.hoverChartIndex,-1)],h=this.chart.tooltip;h&&h.shouldStickOnContact()&&this.inClass(Mt.relatedTarget,"highcharts-tooltip-container")||(Mt=this.normalize(Mt),T&&(Mt.relatedTarget||Mt.toElement)&&(T.pointer.reset(),T.pointer.chartPosition=void 0),h&&!h.isHidden&&this.reset())},Dt.prototype.onContainerMouseEnter=function(Mt){delete this.chartPosition},Dt.prototype.onContainerMouseMove=function(Mt){var T=this.chart;Mt=this.normalize(Mt),this.setHoverChartIndex(),Mt.preventDefault||(Mt.returnValue=!1),("mousedown"===T.mouseIsDown||this.touchSelect(Mt))&&this.drag(Mt),T.openMenu||!this.inClass(Mt.target,"highcharts-tracker")&&!T.isInsidePlot(Mt.chartX-T.plotLeft,Mt.chartY-T.plotTop,{visiblePlotOnly:!0})||(this.inClass(Mt.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(Mt))},Dt.prototype.onDocumentTouchEnd=function(Mt){var T=W[gt(Dt.hoverChartIndex,-1)];T&&T.pointer.drop(Mt)},Dt.prototype.onContainerTouchMove=function(Mt){this.touchSelect(Mt)?this.onContainerMouseMove(Mt):this.touch(Mt)},Dt.prototype.onContainerTouchStart=function(Mt){this.touchSelect(Mt)?this.onContainerMouseDown(Mt):(this.zoomOption(Mt),this.touch(Mt,!0))},Dt.prototype.onDocumentMouseMove=function(Mt){var T=this.chart,h=this.chartPosition;Mt=this.normalize(Mt,h);var m=T.tooltip;!h||m&&m.isStickyOnContact()||T.isInsidePlot(Mt.chartX-T.plotLeft,Mt.chartY-T.plotTop,{visiblePlotOnly:!0})||this.inClass(Mt.target,"highcharts-tracker")||this.reset()},Dt.prototype.onDocumentMouseUp=function(Mt){var T=W[gt(Dt.hoverChartIndex,-1)];T&&T.pointer.drop(Mt)},Dt.prototype.pinch=function(Mt){var T=this,h=T.chart,m=T.pinchDown,y=Mt.touches||[],v=y.length,M=T.lastValidTouch,S=T.hasZoom,P={},C=1===v&&(T.inClass(Mt.target,"highcharts-tracker")&&h.runTrackerClick||T.runChartClick),d={},k=T.selectionMarker;1<v?T.initiated=!0:1===v&&this.followTouchMove&&(T.initiated=!1),S&&T.initiated&&!C&&!1!==Mt.cancelable&&Mt.preventDefault(),[].map.call(y,function(nt){return T.normalize(nt)}),"touchstart"===Mt.type?([].forEach.call(y,function(nt,Q){m[Q]={chartX:nt.chartX,chartY:nt.chartY}}),M.x=[m[0].chartX,m[1]&&m[1].chartX],M.y=[m[0].chartY,m[1]&&m[1].chartY],h.axes.forEach(function(nt){if(nt.zoomEnabled){var Q=h.bounds[nt.horiz?"h":"v"],J=nt.minPixelPadding,xt=nt.toPixels(Math.min(gt(nt.options.min,nt.dataMin),nt.dataMin)),wt=nt.toPixels(Math.max(gt(nt.options.max,nt.dataMax),nt.dataMax)),Ft=Math.max(xt,wt);Q.min=Math.min(nt.pos,Math.min(xt,wt)-J),Q.max=Math.max(nt.pos+nt.len,Ft+J)}}),T.res=!0):T.followTouchMove&&1===v?this.runPointActions(T.normalize(Mt)):m.length&&(V(h,"touchpan",{originalEvent:Mt},function(){k||(T.selectionMarker=k=Y({destroy:j,touch:!0},h.plotBox)),T.pinchTranslate(m,y,P,k,d,M),T.hasPinched=S,T.scaleGroups(P,d)}),T.res&&(T.res=!1,this.reset(!1,0)))},Dt.prototype.pinchTranslate=function(Mt,T,h,m,y,v){this.zoomHor&&this.pinchTranslateDirection(!0,Mt,T,h,m,y,v),this.zoomVert&&this.pinchTranslateDirection(!1,Mt,T,h,m,y,v)},Dt.prototype.pinchTranslateDirection=function(Mt,T,h,m,y,v,M,S){var P=this.chart,C=Mt?"x":"y",d=Mt?"X":"Y",k="chart"+d,nt=Mt?"width":"height",Q=P["plot"+(Mt?"Left":"Top")],J=P.inverted,xt=P.bounds[Mt?"h":"v"],wt=1===T.length,Ft=T[0][k],Gt=!wt&&T[1][k];T=function(){"number"==typeof At&&20<Math.abs(Ft-Gt)&&(Zt=S||Math.abs(Ot-At)/Math.abs(Ft-Gt)),_t=(Q-Ot)/Zt+Ft,It=P["plot"+(Mt?"Width":"Height")]/Zt};var It,_t,Zt=S||1,Ot=h[0][k],At=!wt&&h[1][k];if(T(),(h=_t)<xt.min){h=xt.min;var jt=!0}else h+It>xt.max&&(h=xt.max-It,jt=!0);jt?(Ot-=.8*(Ot-M[C][0]),"number"==typeof At&&(At-=.8*(At-M[C][1])),T()):M[C]=[Ot,At],J||(v[C]=_t-Q,v[nt]=It),v=J?1/Zt:Zt,y[nt]=It,y[C]=h,m[J?Mt?"scaleY":"scaleX":"scale"+d]=Zt,m["translate"+d]=v*Q+(Ot-v*Ft)},Dt.prototype.reset=function(Mt,T){var h=this.chart,m=h.hoverSeries,y=h.hoverPoint,v=h.hoverPoints,M=h.tooltip,S=M&&M.shared?v:y;Mt&&S&&Et(S).forEach(function(P){P.series.isCartesian&&void 0===P.plotX&&(Mt=!1)}),Mt?M&&S&&Et(S).length&&(M.refresh(S),M.shared&&v?v.forEach(function(P){P.setState(P.state,!0),P.series.isCartesian&&(P.series.xAxis.crosshair&&P.series.xAxis.drawCrosshair(null,P),P.series.yAxis.crosshair&&P.series.yAxis.drawCrosshair(null,P))}):y&&(y.setState(y.state,!0),h.axes.forEach(function(P){P.crosshair&&y.series[P.coll]===P&&P.drawCrosshair(null,y)}))):(y&&y.onMouseOut(),v&&v.forEach(function(P){P.setState()}),m&&m.onMouseOut(),M&&M.hide(T),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),h.axes.forEach(function(P){P.hideCrosshair()}),this.hoverX=h.hoverPoints=h.hoverPoint=null)},Dt.prototype.runPointActions=function(Mt,T){var h=this.chart,m=h.tooltip&&h.tooltip.options.enabled?h.tooltip:void 0,y=!!m&&m.shared,v=T||h.hoverPoint,M=v&&v.series||h.hoverSeries;v=(T=this.getHoverData(v,M,h.series,(!Mt||"touchmove"!==Mt.type)&&(!!T||M&&M.directTouch&&this.isDirectTouch),y,Mt)).hoverPoint;var S=T.hoverPoints;if(T=(M=T.hoverSeries)&&M.tooltipOptions.followPointer&&!M.tooltipOptions.split,y=y&&M&&!M.noSharedTooltip,v&&(v!==h.hoverPoint||m&&m.isHidden)){if((h.hoverPoints||[]).forEach(function(P){-1===S.indexOf(P)&&P.setState()}),h.hoverSeries!==M&&M.onMouseOver(),this.applyInactiveState(S),(S||[]).forEach(function(P){P.setState("hover")}),h.hoverPoint&&h.hoverPoint.firePointEvent("mouseOut"),!v.series)return;h.hoverPoints=S,h.hoverPoint=v,v.firePointEvent("mouseOver"),m&&m.refresh(y?S:v,Mt)}else T&&m&&!m.isHidden&&(v=m.getAnchor([{}],Mt),h.isInsidePlot(v[0],v[1],{visiblePlotOnly:!0})&&m.updatePosition({plotX:v[0],plotY:v[1]}));this.unDocMouseMove||(this.unDocMouseMove=tt(h.container.ownerDocument,"mousemove",function(P){var C=W[Dt.hoverChartIndex];C&&C.pointer.onDocumentMouseMove(P)}),this.eventsToUnbind.push(this.unDocMouseMove)),h.axes.forEach(function(P){var d,C=gt((P.crosshair||{}).snap,!0);C&&((d=h.hoverPoint)&&d.series[P.coll]===P||(d=q(S,function(k){return k.series[P.coll]===P}))),d||!C?P.drawCrosshair(Mt,d):P.hideCrosshair()})},Dt.prototype.scaleGroups=function(Mt,T){var h=this.chart;h.series.forEach(function(m){var y=Mt||m.getPlotBox();m.group&&(m.xAxis&&m.xAxis.zoomEnabled||h.mapView)&&(m.group.attr(y),m.markerGroup&&(m.markerGroup.attr(y),m.markerGroup.clip(T?h.clipRect:null)),m.dataLabelsGroup&&m.dataLabelsGroup.attr(y))}),h.clipRect.attr(T||h.clipBox)},Dt.prototype.setDOMEvents=function(){var Mt=this,T=this.chart.container,h=T.ownerDocument;T.onmousedown=this.onContainerMouseDown.bind(this),T.onmousemove=this.onContainerMouseMove.bind(this),T.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(tt(T,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(tt(T,"mouseleave",this.onContainerMouseLeave.bind(this))),Dt.unbindDocumentMouseUp||(Dt.unbindDocumentMouseUp=tt(h,"mouseup",this.onDocumentMouseUp.bind(this)));for(var m=this.chart.renderTo.parentElement;m&&"BODY"!==m.tagName;)this.eventsToUnbind.push(tt(m,"scroll",function(){delete Mt.chartPosition})),m=m.parentElement;$.hasTouch&&(this.eventsToUnbind.push(tt(T,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(tt(T,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),Dt.unbindDocumentTouchEnd||(Dt.unbindDocumentTouchEnd=tt(h,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))},Dt.prototype.setHoverChartIndex=function(){var Mt=this.chart,T=$.charts[gt(Dt.hoverChartIndex,-1)];T&&T!==Mt&&T.pointer.onContainerMouseLeave({relatedTarget:!0}),T&&T.mouseIsDown||(Dt.hoverChartIndex=Mt.index)},Dt.prototype.touch=function(Mt,T){var h=this.chart;if(this.setHoverChartIndex(),1===Mt.touches.length)if(Mt=this.normalize(Mt),h.isInsidePlot(Mt.chartX-h.plotLeft,Mt.chartY-h.plotTop,{visiblePlotOnly:!0})&&!h.openMenu){if(T&&this.runPointActions(Mt),"touchmove"===Mt.type)var y=!!(T=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(T[0].chartX-Mt.chartX,2)+Math.pow(T[0].chartY-Mt.chartY,2));gt(y,!0)&&this.pinch(Mt)}else T&&this.reset();else 2===Mt.touches.length&&this.pinch(Mt)},Dt.prototype.touchSelect=function(Mt){return!(!this.chart.options.chart.zoomBySingleTouch||!Mt.touches||1!==Mt.touches.length)},Dt.prototype.zoomOption=function(Mt){var T=this.chart,h=T.options.chart;T=T.inverted;var m=h.zoomType||"";/touch/.test(Mt.type)&&(m=gt(h.pinchType,m)),this.zoomX=Mt=/x/.test(m),this.zoomY=h=/y/.test(m),this.zoomHor=Mt&&!T||h&&T,this.zoomVert=h&&!T||Mt&&T,this.hasZoom=Mt||h},Dt}()}),ht(ct,"Core/MSPointer.js",[ct["Core/Globals.js"],ct["Core/Pointer.js"],ct["Core/Utilities.js"]],function(D,$,X){function it(){var rt=[];return rt.item=function(mt){return this[mt]},q(Z,function(mt){rt.push({pageX:mt.pageX,pageY:mt.pageY,target:mt.target})}),rt}function K(rt,mt,gt,Et){var Dt=j[$.hoverChartIndex||NaN];"touch"!==rt.pointerType&&rt.pointerType!==rt.MSPOINTER_TYPE_TOUCH||!Dt||(Dt=Dt.pointer,Et(rt),Dt[mt]({type:gt,target:rt.currentTarget,preventDefault:N,touches:it()}))}var rt,W=this&&this.__extends||(rt=function(mt,gt){return(rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Et,Dt){Et.__proto__=Dt}||function(Et,Dt){for(var Mt in Dt)Dt.hasOwnProperty(Mt)&&(Et[Mt]=Dt[Mt])})(mt,gt)},function(mt,gt){function Et(){this.constructor=mt}rt(mt,gt),mt.prototype=null===gt?Object.create(gt):(Et.prototype=gt.prototype,new Et)}),j=D.charts,tt=D.doc,N=D.noop,U=D.win,z=X.addEvent,Y=X.css,q=X.objectEach,V=X.removeEvent,Z={},et=!!U.PointerEvent;return function(rt){function mt(){return null!==rt&&rt.apply(this,arguments)||this}return W(mt,rt),mt.isRequired=function(){return!(D.hasTouch||!U.PointerEvent&&!U.MSPointerEvent)},mt.prototype.batchMSEvents=function(gt){gt(this.chart.container,et?"pointerdown":"MSPointerDown",this.onContainerPointerDown),gt(this.chart.container,et?"pointermove":"MSPointerMove",this.onContainerPointerMove),gt(tt,et?"pointerup":"MSPointerUp",this.onDocumentPointerUp)},mt.prototype.destroy=function(){this.batchMSEvents(V),rt.prototype.destroy.call(this)},mt.prototype.init=function(gt,Et){rt.prototype.init.call(this,gt,Et),this.hasZoom&&Y(gt.container,{"-ms-touch-action":"none","touch-action":"none"})},mt.prototype.onContainerPointerDown=function(gt){K(gt,"onContainerTouchStart","touchstart",function(Et){Z[Et.pointerId]={pageX:Et.pageX,pageY:Et.pageY,target:Et.currentTarget}})},mt.prototype.onContainerPointerMove=function(gt){K(gt,"onContainerTouchMove","touchmove",function(Et){Z[Et.pointerId]={pageX:Et.pageX,pageY:Et.pageY},Z[Et.pointerId].target||(Z[Et.pointerId].target=Et.currentTarget)})},mt.prototype.onDocumentPointerUp=function(gt){K(gt,"onDocumentTouchEnd","touchend",function(Et){delete Z[Et.pointerId]})},mt.prototype.setDOMEvents=function(){rt.prototype.setDOMEvents.call(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(z)},mt}($)}),ht(ct,"Core/Legend/Legend.js",[ct["Core/Animation/AnimationUtilities.js"],ct["Core/FormatUtilities.js"],ct["Core/Globals.js"],ct["Core/Series/Point.js"],ct["Core/Renderer/RendererUtilities.js"],ct["Core/Utilities.js"]],function(D,$,X,it,K,W){var j=D.animObject,tt=D.setAnimation,N=$.format;D=X.isFirefox;var U=X.marginNames;X=X.win;var z=K.distribute,Y=W.addEvent,q=W.createElement,V=W.css,Z=W.defined,et=W.discardElement,rt=W.find,mt=W.fireEvent,gt=W.isNumber,Et=W.merge,Dt=W.pick,Mt=W.relativeLength,T=W.stableSort,h=W.syncTimeout;return K=W.wrap,W=function(){function m(y,v){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options={},this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=y,this.init(y,v)}return m.prototype.init=function(y,v){this.chart=y,this.setOptions(v),v.enabled&&(this.render(),Y(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=Y(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},m.prototype.setOptions=function(y){var v=Dt(y.padding,8);this.options=y,this.chart.styledMode||(this.itemStyle=y.itemStyle,this.itemHiddenStyle=Et(this.itemStyle,y.itemHiddenStyle)),this.itemMarginTop=y.itemMarginTop||0,this.itemMarginBottom=y.itemMarginBottom||0,this.padding=v,this.initialItemY=v-5,this.symbolWidth=Dt(y.symbolWidth,16),this.pages=[],this.proximate="proximate"===y.layout&&!this.chart.inverted,this.baseline=void 0},m.prototype.update=function(y,v){var M=this.chart;this.setOptions(Et(!0,this.options,y)),this.destroy(),M.isDirtyLegend=M.isDirtyBox=!0,Dt(v,!0)&&M.redraw(),mt(this,"afterUpdate")},m.prototype.colorizeItem=function(y,v){if(y.legendGroup[v?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var M=this.options,S=y.legendItem,P=y.legendLine,C=y.legendSymbol,d=this.itemHiddenStyle.color;M=v?M.itemStyle.color:d;var k=v&&y.color||d,nt=y.options&&y.options.marker,Q={fill:k};S&&S.css({fill:M,color:M}),P&&P.attr({stroke:k}),C&&(nt&&C.isMarker&&(Q=y.pointAttribs(),v||(Q.stroke=Q.fill=d)),C.attr(Q))}mt(this,"afterColorizeItem",{item:y,visible:v})},m.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},m.prototype.positionItem=function(y){var v=this,M=this.options,S=M.symbolPadding,P=!M.rtl,C=y._legendItemPos;M=C[0],C=C[1];var d=y.checkbox,k=y.legendGroup;k&&k.element&&(S={translateX:P?M:this.legendWidth-M-2*S-4,translateY:C},P=function(){mt(v,"afterPositionItem",{item:y})},Z(k.translateY)?k.animate(S,void 0,P):(k.attr(S),P())),d&&(d.x=M,d.y=C)},m.prototype.destroyItem=function(y){var v=y.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach(function(M){y[M]&&(y[M]=y[M].destroy())}),v&&et(y.checkbox)},m.prototype.destroy=function(){function y(v){this[v]&&(this[v]=this[v].destroy())}this.getAllItems().forEach(function(v){["legendItem","legendGroup"].forEach(y,v)}),"clipRect up down pager nav box title group".split(" ").forEach(y,this),this.display=null},m.prototype.positionCheckboxes=function(){var y=this.group&&this.group.alignAttr,v=this.clipHeight||this.legendHeight,M=this.titleHeight;if(y){var S=y.translateY;this.allItems.forEach(function(P){var C=P.checkbox;if(C){var d=S+M+C.y+(this.scrollOffset||0)+3;V(C,{left:y.translateX+P.checkboxOffset+C.x-20+"px",top:d+"px",display:this.proximate||d>S-6&&d<S+v-6?"":"none"})}},this)}},m.prototype.renderTitle=function(){var y=this.options,v=this.padding,M=y.title,S=0;M.text&&(this.title||(this.title=this.chart.renderer.label(M.text,v-3,v-4,null,null,null,y.useHTML,null,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(M.style),this.title.add(this.group)),M.width||this.title.css({width:this.maxLegendWidth+"px"}),S=(y=this.title.getBBox()).height,this.offsetWidth=y.width,this.contentGroup.attr({translateY:S})),this.titleHeight=S},m.prototype.setText=function(y){var v=this.options;y.legendItem.attr({text:v.labelFormat?N(v.labelFormat,y,this.chart):v.labelFormatter.call(y)})},m.prototype.renderItem=function(y){var v=this.chart,M=v.renderer,S=this.options,P=this.symbolWidth,C=S.symbolPadding||0,d=this.itemStyle,k=this.itemHiddenStyle,nt="horizontal"===S.layout?Dt(S.itemDistance,20):0,Q=!S.rtl,J=!y.series,xt=!J&&y.series.drawLegendSymbol?y.series:y,wt=xt.options,Ft=this.createCheckboxForItem&&wt&&wt.showCheckbox,Gt=S.useHTML,It=y.options.className,_t=y.legendItem;wt=P+C+nt+(Ft?20:0),_t||(y.legendGroup=M.g("legend-item").addClass("highcharts-"+xt.type+"-series highcharts-color-"+y.colorIndex+(It?" "+It:"")+(J?" highcharts-series-"+y.index:"")).attr({zIndex:1}).add(this.scrollGroup),y.legendItem=_t=M.text("",Q?P+C:-C,this.baseline||0,Gt),v.styledMode||_t.css(Et(y.visible?d:k)),_t.attr({align:Q?"left":"right",zIndex:2}).add(y.legendGroup),this.baseline||(this.fontMetrics=M.fontMetrics(v.styledMode?12:d.fontSize,_t),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,_t.attr("y",this.baseline),this.symbolHeight=S.symbolHeight||this.fontMetrics.f,S.squareSymbol&&(this.symbolWidth=Dt(S.symbolWidth,Math.max(this.symbolHeight,16)),wt=this.symbolWidth+C+nt+(Ft?20:0),Q&&_t.attr("x",this.symbolWidth+C))),xt.drawLegendSymbol(this,y),this.setItemEvents&&this.setItemEvents(y,_t,Gt)),Ft&&!y.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(y),this.colorizeItem(y,y.visible),!v.styledMode&&d.width||_t.css({width:(S.itemWidth||this.widthOption||v.spacingBox.width)-wt+"px"}),this.setText(y),v=_t.getBBox(),y.itemWidth=y.checkboxOffset=S.itemWidth||y.legendItemWidth||v.width+wt,this.maxItemWidth=Math.max(this.maxItemWidth,y.itemWidth),this.totalItemWidth+=y.itemWidth,this.itemHeight=y.itemHeight=Math.round(y.legendItemHeight||v.height||this.symbolHeight)},m.prototype.layoutItem=function(y){var v=this.options,M=this.padding,S="horizontal"===v.layout,P=y.itemHeight,C=this.itemMarginBottom,d=this.itemMarginTop,k=S?Dt(v.itemDistance,20):0,nt=this.maxLegendWidth;v=v.alignColumns&&this.totalItemWidth>nt?this.maxItemWidth:y.itemWidth,S&&this.itemX-M+v>nt&&(this.itemX=M,this.lastLineHeight&&(this.itemY+=d+this.lastLineHeight+C),this.lastLineHeight=0),this.lastItemY=d+this.itemY+C,this.lastLineHeight=Math.max(P,this.lastLineHeight),y._legendItemPos=[this.itemX,this.itemY],S?this.itemX+=v:(this.itemY+=d+P+C,this.lastLineHeight=P),this.offsetWidth=this.widthOption||Math.max((S?this.itemX-M-(y.checkbox?0:k):v)+M,this.offsetWidth)},m.prototype.getAllItems=function(){var y=[];return this.chart.series.forEach(function(v){var M=v&&v.options;v&&Dt(M.showInLegend,!Z(M.linkedTo)&&void 0,!0)&&(y=y.concat(v.legendItems||("point"===M.legendType?v.data:v)))}),mt(this,"afterGetAllItems",{allItems:y}),y},m.prototype.getAlignment=function(){var y=this.options;return this.proximate?y.align.charAt(0)+"tv":y.floating?"":y.align.charAt(0)+y.verticalAlign.charAt(0)+y.layout.charAt(0)},m.prototype.adjustMargins=function(y,v){var M=this.chart,S=this.options,P=this.getAlignment();P&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(C,d){C.test(P)&&!Z(y[d])&&(M[U[d]]=Math.max(M[U[d]],M.legend[(d+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][d]*S[d%2?"x":"y"]+Dt(S.margin,12)+v[d]+(M.titleOffset[d]||0)))})},m.prototype.proximatePositions=function(){var y=this.chart,v=[],M="left"===this.options.align;this.allItems.forEach(function(S){var P,C=M;if(S.yAxis){S.xAxis.options.reversed&&(C=!C),S.points&&(P=rt(C?S.points:S.points.slice(0).reverse(),function(k){return gt(k.plotY)})),C=this.itemMarginTop+S.legendItem.getBBox().height+this.itemMarginBottom;var d=S.yAxis.top-y.plotTop;S.visible?(P=P?P.plotY:S.yAxis.height,P+=d-.3*C):P=d+S.yAxis.height,v.push({target:P,size:C,item:S})}},this),z(v,y.plotHeight).forEach(function(S){S.item._legendItemPos&&(S.item._legendItemPos[1]=y.plotTop-y.spacing[0]+S.pos)})},m.prototype.render=function(){var y=this.chart,v=y.renderer,M=this.options,S=this.padding,P=this.getAllItems(),C=this.group,d=this.box;this.itemX=S,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=Mt(M.width,y.spacingBox.width-S);var k=y.spacingBox.width-2*S-M.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(k/=2),this.maxLegendWidth=this.widthOption||k,C||(this.group=C=v.g("legend").addClass(M.className||"").attr({zIndex:7}).add(),this.contentGroup=v.g().attr({zIndex:1}).add(C),this.scrollGroup=v.g().add(this.contentGroup)),this.renderTitle(),T(P,function(Q,J){return(Q.options&&Q.options.legendIndex||0)-(J.options&&J.options.legendIndex||0)}),M.reversed&&P.reverse(),this.allItems=P,this.display=k=!!P.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,P.forEach(this.renderItem,this),P.forEach(this.layoutItem,this),P=(this.widthOption||this.offsetWidth)+S;var nt=this.lastItemY+this.lastLineHeight+this.titleHeight;nt=this.handleOverflow(nt),nt+=S,d||(this.box=d=v.rect().addClass("highcharts-legend-box").attr({r:M.borderRadius}).add(C),d.isNew=!0),y.styledMode||d.attr({stroke:M.borderColor,"stroke-width":M.borderWidth||0,fill:M.backgroundColor||"none"}).shadow(M.shadow),0<P&&0<nt&&(d[d.isNew?"attr":"animate"](d.crisp.call({},{x:0,y:0,width:P,height:nt},d.strokeWidth())),d.isNew=!1),d[k?"show":"hide"](),y.styledMode&&"none"===C.getStyle("display")&&(P=nt=0),this.legendWidth=P,this.legendHeight=nt,k&&this.align(),this.proximate||this.positionItems(),mt(this,"afterRender")},m.prototype.align=function(y){void 0===y&&(y=this.chart.spacingBox);var v=this.chart,M=this.options,S=y.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<v.titleOffset[0]?S+=v.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<v.titleOffset[2]&&(S-=v.titleOffset[2]),S!==y.y&&(y=Et(y,{y:S})),this.group.align(Et(M,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":M.verticalAlign}),!0,y)},m.prototype.handleOverflow=function(y){var _t,Zt,v=this,M=this.chart,S=M.renderer,P=this.options,C=P.y,d="top"===P.verticalAlign,k=this.padding,nt=P.maxHeight,Q=P.navigation,J=Dt(Q.animation,!0),xt=Q.arrowSize||12,wt=this.pages,Ft=this.allItems,Gt=function(jt){"number"==typeof jt?At.attr({height:jt}):At&&(v.clipRect=At.destroy(),v.contentGroup.clip()),v.contentGroup.div&&(v.contentGroup.div.style.clip=jt?"rect("+k+"px,9999px,"+(k+jt)+"px,0)":"auto")},It=function(jt){return v[jt]=S.circle(0,0,1.3*xt).translate(xt/2,xt/2).add(Ot),M.styledMode||v[jt].attr("fill","rgba(0,0,0,0.0001)"),v[jt]};C=M.spacingBox.height+(d?-C:C)-k;var Ot=this.nav,At=this.clipRect;return"horizontal"!==P.layout||"middle"===P.verticalAlign||P.floating||(C/=2),nt&&(C=Math.min(C,nt)),wt.length=0,y&&0<C&&y>C&&!1!==Q.enabled?(this.clipHeight=_t=Math.max(C-20-this.titleHeight-k,0),this.currentPage=Dt(this.currentPage,1),this.fullHeight=y,Ft.forEach(function(jt,Kt){var Vt=jt._legendItemPos[1],Ce=Math.round(jt.legendItem.getBBox().height),Ht=wt.length;(!Ht||Vt-wt[Ht-1]>_t&&(Zt||Vt)!==wt[Ht-1])&&(wt.push(Zt||Vt),Ht++),jt.pageIx=Ht-1,Zt&&(Ft[Kt-1].pageIx=Ht-1),Kt===Ft.length-1&&Vt+Ce-wt[Ht-1]>_t&&Ce<=_t&&(wt.push(Vt),jt.pageIx=Ht),Vt!==Zt&&(Zt=Vt)}),At||(At=v.clipRect=S.clipRect(0,k,9999,0),v.contentGroup.clip(At)),Gt(_t),Ot||(this.nav=Ot=S.g().attr({zIndex:1}).add(this.group),this.up=S.symbol("triangle",0,0,xt,xt).add(Ot),It("upTracker").on("click",function(){v.scroll(-1,J)}),this.pager=S.text("",15,10).addClass("highcharts-legend-navigation"),M.styledMode||this.pager.css(Q.style),this.pager.add(Ot),this.down=S.symbol("triangle-down",0,0,xt,xt).add(Ot),It("downTracker").on("click",function(){v.scroll(1,J)})),v.scroll(0),y=C):Ot&&(Gt(),this.nav=Ot.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),y},m.prototype.scroll=function(y,v){var M=this,S=this.chart,P=this.pages,C=P.length,d=this.clipHeight,k=this.options.navigation,nt=this.pager,Q=this.padding,J=this.currentPage+y;J>C&&(J=C),0<J&&(void 0!==v&&tt(v,S),this.nav.attr({translateX:Q,translateY:d+this.padding+7+this.titleHeight,visibility:"visible"}),[this.up,this.upTracker].forEach(function(xt){xt.attr({class:1===J?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),nt.attr({text:J+"/"+C}),[this.down,this.downTracker].forEach(function(xt){xt.attr({x:18+this.pager.getBBox().width,class:J===C?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),S.styledMode||(this.up.attr({fill:1===J?k.inactiveColor:k.activeColor}),this.upTracker.css({cursor:1===J?"default":"pointer"}),this.down.attr({fill:J===C?k.inactiveColor:k.activeColor}),this.downTracker.css({cursor:J===C?"default":"pointer"})),this.scrollOffset=-P[J-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=J,this.positionCheckboxes(),y=j(Dt(v,S.renderer.globalAnimation,!0)),h(function(){mt(M,"afterScroll",{currentPage:J})},y.duration))},m.prototype.setItemEvents=function(y,v,M){var S=this,P=S.chart.renderer.boxWrapper,C=y instanceof it,d="highcharts-legend-"+(C?"point":"series")+"-active",k=S.chart.styledMode,nt=function(Q){S.allItems.forEach(function(J){y!==J&&[J].concat(J.linkedSeries||[]).forEach(function(xt){xt.setState(Q,!C)})})};(M?[v,y.legendSymbol]:[y.legendGroup]).forEach(function(Q){Q&&Q.on("mouseover",function(){y.visible&&nt("inactive"),y.setState("hover"),y.visible&&P.addClass(d),k||v.css(S.options.itemHoverStyle)}).on("mouseout",function(){S.chart.styledMode||v.css(Et(y.visible?S.itemStyle:S.itemHiddenStyle)),nt(""),P.removeClass(d),y.setState()}).on("click",function(J){var xt=function(){y.setVisible&&y.setVisible(),nt(y.visible?"inactive":"")};P.removeClass(d),J={browserEvent:J},y.firePointEvent?y.firePointEvent("legendItemClick",J,xt):mt(y,"legendItemClick",J,xt)})})},m.prototype.createCheckboxForItem=function(y){y.checkbox=q("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:y.selected,defaultChecked:y.selected},this.options.itemCheckboxStyle,this.chart.container),Y(y.checkbox,"click",function(v){mt(y.series||y,"checkboxClick",{checked:v.target.checked,item:y},function(){y.select()})})},m}(),(/Trident\/7\.0/.test(X.navigator&&X.navigator.userAgent)||D)&&K(W.prototype,"positionItem",function(m,y){var v=this,M=function(){y._legendItemPos&&m.call(v,y)};M(),v.bubbleLegend||setTimeout(M)}),W}),ht(ct,"Core/Series/SeriesRegistry.js",[ct["Core/Globals.js"],ct["Core/DefaultOptions.js"],ct["Core/Series/Point.js"],ct["Core/Utilities.js"]],function(D,$,X,it){var N,K=$.defaultOptions,W=it.error,j=it.extendClass,tt=it.merge;return function(U){function z(Y,q){var V=K.plotOptions||{},Z=q.defaultOptions;q.prototype.pointClass||(q.prototype.pointClass=X),q.prototype.type=Y,Z&&(V[Y]=Z),U.seriesTypes[Y]=q}U.seriesTypes=D.seriesTypes,U.getSeries=function(Y,q){void 0===q&&(q={});var V=Y.options.chart,Z=U.seriesTypes[V=q.type||V.type||V.defaultSeriesType||""];return U||W(17,!0,Y,{missingModuleFor:V}),"function"==typeof(V=new Z).init&&V.init(Y,q),V},U.registerSeriesType=z,U.seriesType=function(Y,q,V,Z,et){var rt=K.plotOptions||{};return rt[Y]=tt(rt[q=q||""],V),z(Y,j(U.seriesTypes[q]||function(){},Z)),U.seriesTypes[Y].prototype.type=Y,et&&(U.seriesTypes[Y].prototype.pointClass=j(X,et)),U.seriesTypes[Y]}}(N||(N={})),N}),ht(ct,"Core/Chart/Chart.js",[ct["Core/Animation/AnimationUtilities.js"],ct["Core/Axis/Axis.js"],ct["Core/FormatUtilities.js"],ct["Core/Foundation.js"],ct["Core/Globals.js"],ct["Core/Legend/Legend.js"],ct["Core/MSPointer.js"],ct["Core/DefaultOptions.js"],ct["Core/Pointer.js"],ct["Core/Renderer/RendererRegistry.js"],ct["Core/Series/SeriesRegistry.js"],ct["Core/Renderer/SVG/SVGRenderer.js"],ct["Core/Time.js"],ct["Core/Utilities.js"],ct["Core/Renderer/HTML/AST.js"]],function(D,$,X,it,K,W,j,tt,N,U,z,Y,q,V,Z){var et=D.animate,rt=D.animObject,mt=D.setAnimation,gt=X.numberFormat,Et=it.registerEventOptions,Dt=K.charts,Mt=K.doc,T=K.marginNames,h=K.svg,m=K.win,y=tt.defaultOptions,v=tt.defaultTime,M=z.seriesTypes,S=V.addEvent,P=V.attr,C=V.cleanRecursively,d=V.createElement,k=V.css,nt=V.defined,Q=V.discardElement,J=V.erase,xt=V.error,wt=V.extend,Ft=V.find,Gt=V.fireEvent,It=V.getStyle,_t=V.isArray,Zt=V.isNumber,Ot=V.isObject,At=V.isString,jt=V.merge,Kt=V.objectEach,Vt=V.pick,Ce=V.pInt,Ht=V.relativeLength,ge=V.removeEvent,yi=V.splat,we=V.syncTimeout,de=V.uniqueKey;return D=function(){function Fe(Yt,ee,Re){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.legend=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(Yt,ee,Re)}return Fe.chart=function(Yt,ee,Re){return new Fe(Yt,ee,Re)},Fe.prototype.getArgs=function(Yt,ee,Re){At(Yt)||Yt.nodeName?(this.renderTo=Yt,this.init(ee,Re)):this.init(Yt,ee)},Fe.prototype.init=function(Yt,ee){var Re=Yt.plotOptions||{};Gt(this,"init",{args:arguments},function(){var Nt=jt(y,Yt),vt=Nt.chart;Kt(Nt.plotOptions,function(at,qt){Ot(at)&&(at.tooltip=Re[qt]&&jt(Re[qt].tooltip)||void 0)}),Nt.tooltip.userOptions=Yt.chart&&Yt.chart.forExport&&Yt.tooltip.userOptions||Yt.tooltip,this.userOptions=Yt,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=ee,this.isResizing=0,this.options=Nt,this.axes=[],this.series=[],this.time=Yt.time&&Object.keys(Yt.time).length?new q(Yt.time):K.time,this.numberFormatter=vt.numberFormatter||gt,this.styledMode=vt.styledMode,this.hasCartesianSeries=vt.showAxes,this.index=Dt.length,Dt.push(this),K.chartCount++,Et(this,vt),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,Gt(this,"afterInit"),this.firstRender()})},Fe.prototype.initSeries=function(Yt){var ee=this.options.chart,Re=M[ee=Yt.type||ee.type||ee.defaultSeriesType];return Re||xt(17,!0,this,{missingModuleFor:ee}),"function"==typeof(ee=new Re).init&&ee.init(this,Yt),ee},Fe.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach(function(Yt){Yt.points||Yt.data||!Yt.enabledDataSorting||Yt.setData(Yt.options.data,!1)})},Fe.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort(function(Yt,ee){return Yt.linkedSeries.length||ee.linkedSeries.length?ee.linkedSeries.length-Yt.linkedSeries.length:0})},Fe.prototype.orderSeries=function(Yt){var ee=this.series;Yt=Yt||0;for(var Re=ee.length;Yt<Re;++Yt)ee[Yt]&&(ee[Yt].index=Yt,ee[Yt].name=ee[Yt].getName())},Fe.prototype.isInsidePlot=function(Yt,ee,Re){void 0===Re&&(Re={});var Nt=this.inverted,vt=this.plotBox,at=this.plotLeft,qt=this.plotTop,he=this.scrollablePlotBox,Xe=0,ve=0;Re.visiblePlotOnly&&this.scrollingContainer&&(Xe=(ve=this.scrollingContainer).scrollLeft,ve=ve.scrollTop);var Te=Re.series;if(vt=Re.visiblePlotOnly&&he||vt,Yt={x:he=Re.inverted?ee:Yt,y:ee=Re.inverted?Yt:ee,isInsidePlot:!0},!Re.ignoreX){var Qi=Te&&(Nt?Te.yAxis:Te.xAxis)||{pos:at,len:1/0};(he=Re.paneCoordinates?Qi.pos+he:at+he)>=Math.max(Xe+at,Qi.pos)&&he<=Math.min(Xe+at+vt.width,Qi.pos+Qi.len)||(Yt.isInsidePlot=!1)}return!Re.ignoreY&&Yt.isInsidePlot&&(Nt=Te&&(Nt?Te.xAxis:Te.yAxis)||{pos:qt,len:1/0},(Re=Re.paneCoordinates?Nt.pos+ee:qt+ee)>=Math.max(ve+qt,Nt.pos)&&Re<=Math.min(ve+qt+vt.height,Nt.pos+Nt.len)||(Yt.isInsidePlot=!1)),Gt(this,"afterIsInsidePlot",Yt),Yt.isInsidePlot},Fe.prototype.redraw=function(Yt){Gt(this,"beforeRedraw");var ee=this.hasCartesianSeries?this.axes:this.colorAxis||[],Re=this.series,Nt=this.pointer,vt=this.legend,at=this.userOptions.legend,qt=this.renderer,he=qt.isHidden(),Xe=[],ve=this.isDirtyBox,Te=this.isDirtyLegend;for(this.setResponsive&&this.setResponsive(!1),mt(!!this.hasRendered&&Yt,this),he&&this.temporaryDisplay(),this.layOutTitles(),Yt=Re.length;Yt--;){var Qi=Re[Yt];if(Qi.options.stacking||Qi.options.centerInCategory){var ni=!0;if(Qi.isDirty){var ei=!0;break}}}if(ei)for(Yt=Re.length;Yt--;)(Qi=Re[Yt]).options.stacking&&(Qi.isDirty=!0);Re.forEach(function(Ui){Ui.isDirty&&("point"===Ui.options.legendType?("function"==typeof Ui.updateTotals&&Ui.updateTotals(),Te=!0):at&&(at.labelFormatter||at.labelFormat)&&(Te=!0)),Ui.isDirtyData&&Gt(Ui,"updatedData")}),Te&&vt&&vt.options.enabled&&(vt.render(),this.isDirtyLegend=!1),ni&&this.getStacks(),ee.forEach(function(Ui){Ui.updateNames(),Ui.setScale()}),this.getMargins(),ee.forEach(function(Ui){Ui.isDirty&&(ve=!0)}),ee.forEach(function(Ui){var mi=Ui.min+","+Ui.max;Ui.extKey!==mi&&(Ui.extKey=mi,Xe.push(function(){Gt(Ui,"afterSetExtremes",wt(Ui.eventArgs,Ui.getExtremes())),delete Ui.eventArgs})),(ve||ni)&&Ui.redraw()}),ve&&this.drawChartBox(),Gt(this,"predraw"),Re.forEach(function(Ui){(ve||Ui.isDirty)&&Ui.visible&&Ui.redraw(),Ui.isDirtyData=!1}),Nt&&Nt.reset(!0),qt.draw(),Gt(this,"redraw"),Gt(this,"render"),he&&this.temporaryDisplay(!0),Xe.forEach(function(Ui){Ui.call()})},Fe.prototype.get=function(Yt){function ee(at){return at.id===Yt||at.options&&at.options.id===Yt}for(var Re=this.series,Nt=Ft(this.axes,ee)||Ft(this.series,ee),vt=0;!Nt&&vt<Re.length;vt++)Nt=Ft(Re[vt].points||[],ee);return Nt},Fe.prototype.getAxes=function(){var Yt=this,ee=this.options,Re=ee.xAxis=yi(ee.xAxis||{});ee=ee.yAxis=yi(ee.yAxis||{}),Gt(this,"getAxes"),Re.forEach(function(Nt,vt){Nt.index=vt,Nt.isX=!0}),ee.forEach(function(Nt,vt){Nt.index=vt}),Re.concat(ee).forEach(function(Nt){new $(Yt,Nt)}),Gt(this,"afterGetAxes")},Fe.prototype.getSelectedPoints=function(){return this.series.reduce(function(Yt,ee){return ee.getPointsCollection().forEach(function(Re){Vt(Re.selectedStaging,Re.selected)&&Yt.push(Re)}),Yt},[])},Fe.prototype.getSelectedSeries=function(){return this.series.filter(function(Yt){return Yt.selected})},Fe.prototype.setTitle=function(Yt,ee,Re){this.applyDescription("title",Yt),this.applyDescription("subtitle",ee),this.applyDescription("caption",void 0),this.layOutTitles(Re)},Fe.prototype.applyDescription=function(Yt,ee){var Re=this,Nt="title"===Yt?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};Nt=this.options[Yt]=jt(!this.styledMode&&{style:Nt},this.options[Yt],ee);var vt=this[Yt];vt&&ee&&(this[Yt]=vt=vt.destroy()),Nt&&!vt&&((vt=this.renderer.text(Nt.text,0,0,Nt.useHTML).attr({align:Nt.align,class:"highcharts-"+Yt,zIndex:Nt.zIndex||4}).add()).update=function(at){Re[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[Yt]](at)},this.styledMode||vt.css(Nt.style),this[Yt]=vt)},Fe.prototype.layOutTitles=function(Yt){var ee=[0,0,0],Re=this.renderer,Nt=this.spacingBox;["title","subtitle","caption"].forEach(function(at){var ve,qt=this[at],he=this.options[at],Xe=he.verticalAlign||"top";if(at="title"===at?"top"===Xe?-3:0:"top"===Xe?ee[0]+2:0,qt){this.styledMode||(ve=he.style&&he.style.fontSize),ve=Re.fontMetrics(ve,qt).b,qt.css({width:(he.width||Nt.width+(he.widthAdjust||0))+"px"});var Te=Math.round(qt.getBBox(he.useHTML).height);qt.align(wt({y:"bottom"===Xe?ve:at+ve,height:Te},he),!1,"spacingBox"),he.floating||("top"===Xe?ee[0]=Math.ceil(ee[0]+Te):"bottom"===Xe&&(ee[2]=Math.ceil(ee[2]+Te)))}},this),ee[0]&&"top"===(this.options.title.verticalAlign||"top")&&(ee[0]+=this.options.title.margin),ee[2]&&"bottom"===this.options.caption.verticalAlign&&(ee[2]+=this.options.caption.margin);var vt=!this.titleOffset||this.titleOffset.join(",")!==ee.join(",");this.titleOffset=ee,Gt(this,"afterLayOutTitles"),!this.isDirtyBox&&vt&&(this.isDirtyBox=this.isDirtyLegend=vt,this.hasRendered&&Vt(Yt,!0)&&this.isDirtyBox&&this.redraw())},Fe.prototype.getChartSize=function(){var Yt=this.options.chart,ee=Yt.width;Yt=Yt.height;var Re=this.renderTo;nt(ee)||(this.containerWidth=It(Re,"width")),nt(Yt)||(this.containerHeight=It(Re,"height")),this.chartWidth=Math.max(0,ee||this.containerWidth||600),this.chartHeight=Math.max(0,Ht(Yt,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},Fe.prototype.temporaryDisplay=function(Yt){var ee=this.renderTo;if(Yt)for(;ee&&ee.style;)ee.hcOrigStyle&&(k(ee,ee.hcOrigStyle),delete ee.hcOrigStyle),ee.hcOrigDetached&&(Mt.body.removeChild(ee),ee.hcOrigDetached=!1),ee=ee.parentNode;else for(;ee&&ee.style&&(Mt.body.contains(ee)||ee.parentNode||(ee.hcOrigDetached=!0,Mt.body.appendChild(ee)),("none"===It(ee,"display",!1)||ee.hcOricDetached)&&(ee.hcOrigStyle={display:ee.style.display,height:ee.style.height,overflow:ee.style.overflow},Yt={display:"block",overflow:"hidden"},ee!==this.renderTo&&(Yt.height=0),k(ee,Yt),ee.offsetWidth||ee.style.setProperty("display","block","important")),(ee=ee.parentNode)!==Mt.body););},Fe.prototype.setClassName=function(Yt){this.container.className="highcharts-container "+(Yt||"")},Fe.prototype.getContainer=function(){var Nt,Yt=this.options,ee=Yt.chart,Re=de(),vt=this.renderTo;vt||(this.renderTo=vt=ee.renderTo),At(vt)&&(this.renderTo=vt=Mt.getElementById(vt)),vt||xt(13,!0,this);var at=Ce(P(vt,"data-highcharts-chart"));Zt(at)&&Dt[at]&&Dt[at].hasRendered&&Dt[at].destroy(),P(vt,"data-highcharts-chart",this.index),vt.innerHTML="",ee.skipClone||vt.offsetWidth||this.temporaryDisplay(),this.getChartSize(),at=this.chartWidth;var qt=this.chartHeight;if(k(vt,{overflow:"hidden"}),this.styledMode||(Nt=wt({position:"relative",overflow:"hidden",width:at+"px",height:qt+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},ee.style||{})),this.container=Re=d("div",{id:Re},Nt,vt),this._cursor=Re.style.cursor,this.renderer=new(ee.renderer||!h?U.getRendererType(ee.renderer):Y)(Re,at,qt,void 0,ee.forExport,Yt.exporting&&Yt.exporting.allowHTML,this.styledMode),mt(void 0,this),this.setClassName(ee.className),this.styledMode)for(var he in Yt.defs)this.renderer.definition(Yt.defs[he]);else this.renderer.setStyle(ee.style);this.renderer.chartIndex=this.index,Gt(this,"afterGetContainer")},Fe.prototype.getMargins=function(Yt){var ee=this.spacing,Re=this.margin,Nt=this.titleOffset;this.resetMargins(),Nt[0]&&!nt(Re[0])&&(this.plotTop=Math.max(this.plotTop,Nt[0]+ee[0])),Nt[2]&&!nt(Re[2])&&(this.marginBottom=Math.max(this.marginBottom,Nt[2]+ee[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(Re,ee),Gt(this,"getMargins"),Yt||this.getAxisMargins()},Fe.prototype.getAxisMargins=function(){var Yt=this,ee=Yt.axisOffset=[0,0,0,0],Re=Yt.colorAxis,Nt=Yt.margin,vt=function(at){at.forEach(function(qt){qt.visible&&qt.getOffset()})};Yt.hasCartesianSeries?vt(Yt.axes):Re&&Re.length&&vt(Re),T.forEach(function(at,qt){nt(Nt[qt])||(Yt[at]+=ee[qt])}),Yt.setChartSize()},Fe.prototype.reflow=function(Yt){var ee=this,Re=ee.options.chart,Nt=ee.renderTo,vt=nt(Re.width)&&nt(Re.height),at=Re.width||It(Nt,"width");Re=Re.height||It(Nt,"height"),Nt=Yt?Yt.target:m,delete ee.pointer.chartPosition,!vt&&!ee.isPrinting&&at&&Re&&(Nt===m||Nt===Mt)&&((at!==ee.containerWidth||Re!==ee.containerHeight)&&(V.clearTimeout(ee.reflowTimeout),ee.reflowTimeout=we(function(){ee.container&&ee.setSize(void 0,void 0,!1)},Yt?100:0)),ee.containerWidth=at,ee.containerHeight=Re)},Fe.prototype.setReflow=function(Yt){var ee=this;!1===Yt||this.unbindReflow?!1===Yt&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=S(m,"resize",function(Re){ee.options&&ee.reflow(Re)}),S(this,"destroy",this.unbindReflow))},Fe.prototype.setSize=function(Yt,ee,Re){var Nt=this,vt=Nt.renderer;Nt.isResizing+=1,mt(Re,Nt),Re=vt.globalAnimation,Nt.oldChartHeight=Nt.chartHeight,Nt.oldChartWidth=Nt.chartWidth,void 0!==Yt&&(Nt.options.chart.width=Yt),void 0!==ee&&(Nt.options.chart.height=ee),Nt.getChartSize(),Nt.styledMode||(Re?et:k)(Nt.container,{width:Nt.chartWidth+"px",height:Nt.chartHeight+"px"},Re),Nt.setChartSize(!0),vt.setSize(Nt.chartWidth,Nt.chartHeight,Re),Nt.axes.forEach(function(at){at.isDirty=!0,at.setScale()}),Nt.isDirtyLegend=!0,Nt.isDirtyBox=!0,Nt.layOutTitles(),Nt.getMargins(),Nt.redraw(Re),Nt.oldChartHeight=null,Gt(Nt,"resize"),we(function(){Nt&&Gt(Nt,"endResize",null,function(){--Nt.isResizing})},rt(Re).duration)},Fe.prototype.setChartSize=function(Yt){var Xe,ve,Te,Qi,ee=this.inverted,Re=this.renderer,Nt=this.chartWidth,vt=this.chartHeight,at=this.options.chart,qt=this.spacing,he=this.clipOffset;this.plotLeft=Xe=Math.round(this.plotLeft),this.plotTop=ve=Math.round(this.plotTop),this.plotWidth=Te=Math.max(0,Math.round(Nt-Xe-this.marginRight)),this.plotHeight=Qi=Math.max(0,Math.round(vt-ve-this.marginBottom)),this.plotSizeX=ee?Qi:Te,this.plotSizeY=ee?Te:Qi,this.plotBorderWidth=at.plotBorderWidth||0,this.spacingBox=Re.spacingBox={x:qt[3],y:qt[0],width:Nt-qt[3]-qt[1],height:vt-qt[0]-qt[2]},this.plotBox=Re.plotBox={x:Xe,y:ve,width:Te,height:Qi},ee=2*Math.floor(this.plotBorderWidth/2),Nt=Math.ceil(Math.max(ee,he[3])/2),vt=Math.ceil(Math.max(ee,he[0])/2),this.clipBox={x:Nt,y:vt,width:Math.floor(this.plotSizeX-Math.max(ee,he[1])/2-Nt),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(ee,he[2])/2-vt))},Yt||(this.axes.forEach(function(ni){ni.setAxisSize(),ni.setAxisTranslation()}),Re.alignElements()),Gt(this,"afterSetChartSize",{skipAxes:Yt})},Fe.prototype.resetMargins=function(){Gt(this,"resetMargins");var Yt=this,ee=Yt.options.chart;["margin","spacing"].forEach(function(Re){var Nt=ee[Re],vt=Ot(Nt)?Nt:[Nt,Nt,Nt,Nt];["Top","Right","Bottom","Left"].forEach(function(at,qt){Yt[Re][qt]=Vt(ee[Re+at],vt[qt])})}),T.forEach(function(Re,Nt){Yt[Re]=Vt(Yt.margin[Nt],Yt.spacing[Nt])}),Yt.axisOffset=[0,0,0,0],Yt.clipOffset=[0,0,0,0]},Fe.prototype.drawChartBox=function(){var He,Yt=this.options.chart,ee=this.renderer,Re=this.chartWidth,Nt=this.chartHeight,vt=this.styledMode,at=this.plotBGImage,qt=Yt.backgroundColor,he=Yt.plotBackgroundColor,Xe=Yt.plotBackgroundImage,ve=this.plotLeft,Te=this.plotTop,Qi=this.plotWidth,ni=this.plotHeight,ei=this.plotBox,Ui=this.clipRect,mi=this.clipBox,bi=this.chartBackground,En=this.plotBackground,_i=this.plotBorder,on="animate";if(bi||(this.chartBackground=bi=ee.rect().addClass("highcharts-background").add(),on="attr"),vt)var Di=He=bi.strokeWidth();else He=(Di=Yt.borderWidth||0)+(Yt.shadow?8:0),qt={fill:qt||"none"},(Di||bi["stroke-width"])&&(qt.stroke=Yt.borderColor,qt["stroke-width"]=Di),bi.attr(qt).shadow(Yt.shadow);bi[on]({x:He/2,y:He/2,width:Re-He-Di%2,height:Nt-He-Di%2,r:Yt.borderRadius}),on="animate",En||(on="attr",this.plotBackground=En=ee.rect().addClass("highcharts-plot-background").add()),En[on](ei),vt||(En.attr({fill:he||"none"}).shadow(Yt.plotShadow),Xe&&(at?(Xe!==at.attr("href")&&at.attr("href",Xe),at.animate(ei)):this.plotBGImage=ee.image(Xe,ve,Te,Qi,ni).add())),Ui?Ui.animate({width:mi.width,height:mi.height}):this.clipRect=ee.clipRect(mi),on="animate",_i||(on="attr",this.plotBorder=_i=ee.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),vt||_i.attr({stroke:Yt.plotBorderColor,"stroke-width":Yt.plotBorderWidth||0,fill:"none"}),_i[on](_i.crisp({x:ve,y:Te,width:Qi,height:ni},-_i.strokeWidth())),this.isDirtyBox=!1,Gt(this,"afterDrawChartBox")},Fe.prototype.propFromSeries=function(){var Nt,vt,at,Yt=this,ee=Yt.options.chart,Re=Yt.options.series;["inverted","angular","polar"].forEach(function(qt){for(vt=M[ee.type||ee.defaultSeriesType],at=ee[qt]||vt&&vt.prototype[qt],Nt=Re&&Re.length;!at&&Nt--;)(vt=M[Re[Nt].type])&&vt.prototype[qt]&&(at=!0);Yt[qt]=at})},Fe.prototype.linkSeries=function(){var Yt=this,ee=Yt.series;ee.forEach(function(Re){Re.linkedSeries.length=0}),ee.forEach(function(Re){var Nt=Re.options.linkedTo;At(Nt)&&(Nt=":previous"===Nt?Yt.series[Re.index-1]:Yt.get(Nt))&&Nt.linkedParent!==Re&&(Nt.linkedSeries.push(Re),Re.linkedParent=Nt,Nt.enabledDataSorting&&Re.setDataSortingOptions(),Re.visible=Vt(Re.options.visible,Nt.options.visible,Re.visible))}),Gt(this,"afterLinkSeries")},Fe.prototype.renderSeries=function(){this.series.forEach(function(Yt){Yt.translate(),Yt.render()})},Fe.prototype.renderLabels=function(){var Yt=this,ee=Yt.options.labels;ee.items&&ee.items.forEach(function(Re){var Nt=wt(ee.style,Re.style),vt=Ce(Nt.left)+Yt.plotLeft,at=Ce(Nt.top)+Yt.plotTop+12;delete Nt.left,delete Nt.top,Yt.renderer.text(Re.html,vt,at).attr({zIndex:2}).css(Nt).add()})},Fe.prototype.render=function(){var Yt=this.axes,ee=this.colorAxis,Re=this.renderer,Nt=this.options,vt=function(ve){ve.forEach(function(Te){Te.visible&&Te.render()})},at=0;this.setTitle(),this.legend=new W(this,Nt.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),Nt=this.plotWidth,Yt.some(function(ve){if(ve.horiz&&ve.visible&&ve.options.labels.enabled&&ve.series.length)return at=21,!0});var qt=this.plotHeight=Math.max(this.plotHeight-at,0);Yt.forEach(function(ve){ve.setScale()}),this.getAxisMargins();var he=1.1<Nt/this.plotWidth,Xe=1.05<qt/this.plotHeight;(he||Xe)&&(Yt.forEach(function(ve){(ve.horiz&&he||!ve.horiz&&Xe)&&ve.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?vt(Yt):ee&&ee.length&&vt(ee),this.seriesGroup||(this.seriesGroup=Re.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},Fe.prototype.addCredits=function(Yt){var ee=this,Re=jt(!0,this.options.credits,Yt);Re.enabled&&!this.credits&&(this.credits=this.renderer.text(Re.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){Re.href&&(m.location.href=Re.href)}).attr({align:Re.position.align,zIndex:8}),ee.styledMode||this.credits.css(Re.style),this.credits.add().align(Re.position),this.credits.update=function(Nt){ee.credits=ee.credits.destroy(),ee.addCredits(Nt)})},Fe.prototype.destroy=function(){var at,Yt=this,ee=Yt.axes,Re=Yt.series,Nt=Yt.container,vt=Nt&&Nt.parentNode;for(Gt(Yt,"destroy"),Yt.renderer.forExport?J(Dt,Yt):Dt[Yt.index]=void 0,K.chartCount--,Yt.renderTo.removeAttribute("data-highcharts-chart"),ge(Yt),at=ee.length;at--;)ee[at]=ee[at].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),at=Re.length;at--;)Re[at]=Re[at].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(qt){var he=Yt[qt];he&&he.destroy&&(Yt[qt]=he.destroy())}),Nt&&(Nt.innerHTML="",ge(Nt),vt&&Q(Nt)),Kt(Yt,function(qt,he){delete Yt[he]})},Fe.prototype.firstRender=function(){var Yt=this,ee=Yt.options;(!Yt.isReadyToRender||Yt.isReadyToRender())&&(Yt.getContainer(),Yt.resetMargins(),Yt.setChartSize(),Yt.propFromSeries(),Yt.getAxes(),(_t(ee.series)?ee.series:[]).forEach(function(Re){Yt.initSeries(Re)}),Yt.linkSeries(),Yt.setSeriesData(),Gt(Yt,"beforeRender"),N&&(Yt.pointer=j.isRequired()?new j(Yt,ee):new N(Yt,ee)),Yt.render(),Yt.pointer.getChartPosition(),!Yt.renderer.imgCount&&!Yt.hasLoaded&&Yt.onload(),Yt.temporaryDisplay(!0))},Fe.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach(function(Yt){Yt&&void 0!==this.index&&Yt.apply(this,[this])},this),Gt(this,"load"),Gt(this,"render"),nt(this.index)&&this.setReflow(this.options.chart.reflow),this.hasLoaded=!0},Fe.prototype.addSeries=function(Yt,ee,Re){var vt,Nt=this;return Yt&&(ee=Vt(ee,!0),Gt(Nt,"addSeries",{options:Yt},function(){vt=Nt.initSeries(Yt),Nt.isDirtyLegend=!0,Nt.linkSeries(),vt.enabledDataSorting&&vt.setData(Yt.data,!1),Gt(Nt,"afterAddSeries",{series:vt}),ee&&Nt.redraw(Re)})),vt},Fe.prototype.addAxis=function(Yt,ee,Re,Nt){return this.createAxis(ee?"xAxis":"yAxis",{axis:Yt,redraw:Re,animation:Nt})},Fe.prototype.addColorAxis=function(Yt,ee,Re){return this.createAxis("colorAxis",{axis:Yt,redraw:ee,animation:Re})},Fe.prototype.createAxis=function(Yt,ee){return Yt=new $(this,jt(ee.axis,{index:this[Yt].length,isX:"xAxis"===Yt})),Vt(ee.redraw,!0)&&this.redraw(ee.animation),Yt},Fe.prototype.showLoading=function(Yt){var ee=this,Re=ee.options,Nt=Re.loading,vt=function(){at&&k(at,{left:ee.plotLeft+"px",top:ee.plotTop+"px",width:ee.plotWidth+"px",height:ee.plotHeight+"px"})},at=ee.loadingDiv,qt=ee.loadingSpan;at||(ee.loadingDiv=at=d("div",{className:"highcharts-loading highcharts-loading-hidden"},null,ee.container)),qt||(ee.loadingSpan=qt=d("span",{className:"highcharts-loading-inner"},null,at),S(ee,"redraw",vt)),at.className="highcharts-loading",Z.setElementHTML(qt,Vt(Yt,Re.lang.loading,"")),ee.styledMode||(k(at,wt(Nt.style,{zIndex:10})),k(qt,Nt.labelStyle),ee.loadingShown||(k(at,{opacity:0,display:""}),et(at,{opacity:Nt.style.opacity||.5},{duration:Nt.showDuration||0}))),ee.loadingShown=!0,vt()},Fe.prototype.hideLoading=function(){var Yt=this.options,ee=this.loadingDiv;ee&&(ee.className="highcharts-loading highcharts-loading-hidden",this.styledMode||et(ee,{opacity:0},{duration:Yt.loading.hideDuration||100,complete:function(){k(ee,{display:"none"})}})),this.loadingShown=!1},Fe.prototype.update=function(Yt,ee,Re,Nt){var Xe,ve,vt=this,at={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},qt=Yt.isResponsiveOptions,he=[];Gt(vt,"update",{options:Yt}),qt||vt.setResponsive(!1,!0),Yt=C(Yt,vt.options),vt.userOptions=jt(vt.userOptions,Yt);var Te=Yt.chart;if(Te){if(jt(!0,vt.options.chart,Te),"className"in Te&&vt.setClassName(Te.className),"reflow"in Te&&vt.setReflow(Te.reflow),"inverted"in Te||"polar"in Te||"type"in Te){vt.propFromSeries();var Qi=!0}"alignTicks"in Te&&(Qi=!0),"events"in Te&&Et(this,Te),Kt(Te,function(ni,ei){-1!==vt.propsRequireUpdateSeries.indexOf("chart."+ei)&&(Xe=!0),-1!==vt.propsRequireDirtyBox.indexOf(ei)&&(vt.isDirtyBox=!0),-1!==vt.propsRequireReflow.indexOf(ei)&&(qt?vt.isDirtyBox=!0:ve=!0)}),!vt.styledMode&&Te.style&&vt.renderer.setStyle(vt.options.chart.style||{})}!vt.styledMode&&Yt.colors&&(this.options.colors=Yt.colors),Yt.time&&(this.time===v&&(this.time=new q(Yt.time)),jt(!0,vt.options.time,Yt.time)),Kt(Yt,function(ni,ei){vt[ei]&&"function"==typeof vt[ei].update?vt[ei].update(ni,!1):"function"==typeof vt[at[ei]]?vt[at[ei]](ni):"colors"!==ei&&-1===vt.collectionsWithUpdate.indexOf(ei)&&jt(!0,vt.options[ei],Yt[ei]),"chart"!==ei&&-1!==vt.propsRequireUpdateSeries.indexOf(ei)&&(Xe=!0)}),this.collectionsWithUpdate.forEach(function(ni){if(Yt[ni]){var ei=[];vt[ni].forEach(function(Ui,mi){Ui.options.isInternal||ei.push(Vt(Ui.options.index,mi))}),yi(Yt[ni]).forEach(function(Ui,mi){var En,bi=nt(Ui.id);bi&&(En=vt.get(Ui.id)),!En&&vt[ni]&&(En=vt[ni][ei?ei[mi]:mi])&&bi&&nt(En.options.id)&&(En=void 0),En&&En.coll===ni&&(En.update(Ui,!1),Re&&(En.touched=!0)),!En&&Re&&vt.collectionsWithInit[ni]&&(vt.collectionsWithInit[ni][0].apply(vt,[Ui].concat(vt.collectionsWithInit[ni][1]||[]).concat([!1])).touched=!0)}),Re&&vt[ni].forEach(function(Ui){Ui.touched||Ui.options.isInternal?delete Ui.touched:he.push(Ui)})}}),he.forEach(function(ni){ni.chart&&ni.remove&&ni.remove(!1)}),Qi&&vt.axes.forEach(function(ni){ni.update({},!1)}),Xe&&vt.getSeriesOrderByLinks().forEach(function(ni){ni.chart&&ni.update({},!1)},this),Qi=Te&&Te.width,Te=Te&&(At(Te.height)?Ht(Te.height,Qi||vt.chartWidth):Te.height),ve||Zt(Qi)&&Qi!==vt.chartWidth||Zt(Te)&&Te!==vt.chartHeight?vt.setSize(Qi,Te,Nt):Vt(ee,!0)&&vt.redraw(Nt),Gt(vt,"afterUpdate",{options:Yt,redraw:ee,animation:Nt})},Fe.prototype.setSubtitle=function(Yt,ee){this.applyDescription("subtitle",Yt),this.layOutTitles(ee)},Fe.prototype.setCaption=function(Yt,ee){this.applyDescription("caption",Yt),this.layOutTitles(ee)},Fe.prototype.showResetZoom=function(){function Yt(){ee.zoomOut()}var ee=this,Re=y.lang,Nt=ee.options.chart.resetZoomButton,vt=Nt.theme,at=vt.states,qt="chart"===Nt.relativeTo||"spacingBox"===Nt.relativeTo?null:"scrollablePlotBox";Gt(this,"beforeShowResetZoom",null,function(){ee.resetZoomButton=ee.renderer.button(Re.resetZoom,null,null,Yt,vt,at&&at.hover).attr({align:Nt.position.align,title:Re.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(Nt.position,!1,qt)}),Gt(this,"afterShowResetZoom")},Fe.prototype.zoomOut=function(){Gt(this,"selection",{resetSelection:!0},this.zoom)},Fe.prototype.zoom=function(Yt){var at,ee=this,Re=ee.pointer,Nt=ee.inverted?Re.mouseDownX:Re.mouseDownY,vt=!1;!Yt||Yt.resetSelection?(ee.axes.forEach(function(he){at=he.zoom()}),Re.initiated=!1):Yt.xAxis.concat(Yt.yAxis).forEach(function(he){var Xe=he.axis,ve=ee.inverted?Xe.left:Xe.top,Qi=Xe.isXAxis,ni=!1;(!Qi&&Nt>=ve&&Nt<=(ee.inverted?ve+Xe.width:ve+Xe.height)||Qi||!nt(Nt))&&(ni=!0),Re[Qi?"zoomX":"zoomY"]&&ni&&(at=Xe.zoom(he.min,he.max),Xe.displayBtn&&(vt=!0))});var qt=ee.resetZoomButton;vt&&!qt?ee.showResetZoom():!vt&&Ot(qt)&&(ee.resetZoomButton=qt.destroy()),at&&ee.redraw(Vt(ee.options.chart.animation,Yt&&Yt.animation,100>ee.pointCount))},Fe.prototype.pan=function(Yt,ee){var Re=this,Nt=Re.hoverPoints;ee="object"==typeof ee?ee:{enabled:ee,type:"x"};var vt=Re.options.chart,at=Re.options.mapNavigation&&Re.options.mapNavigation.enabled;vt&&vt.panning&&(vt.panning=ee);var he,qt=ee.type;Gt(this,"pan",{originalEvent:Yt},function(){Nt&&Nt.forEach(function(Te){Te.setState()});var Xe=Re.xAxis;"xy"===qt?Xe=Xe.concat(Re.yAxis):"y"===qt&&(Xe=Re.yAxis);var ve={};Xe.forEach(function(Te){if(Te.options.panningEnabled&&!Te.options.isInternal){var Qi=Te.horiz,ni=Yt[Qi?"chartX":"chartY"],ei=Re[Qi=Qi?"mouseDownX":"mouseDownY"],Ui=Te.minPointOffset||0,mi=Te.reversed&&!Re.inverted||!Te.reversed&&Re.inverted?-1:1,bi=Te.getExtremes(),En=Te.toValue(ei-ni,!0)+Ui*mi,_i=Te.toValue(ei+Te.len-ni,!0)-(Ui*mi||Te.isXAxis&&Te.pointRangePadding||0),He=_i<En;mi=Te.hasVerticalPanning(),ei=He?_i:En,En=He?En:_i;var on=Te.panningState;!mi||Te.isXAxis||on&&!on.isDirty||Te.series.forEach(function(Di){var Pe=Di.getProcessedData(!0);Pe=Di.getExtremes(Pe.yData,!0),on||(on={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),Zt(Pe.dataMin)&&Zt(Pe.dataMax)&&(on.startMin=Math.min(Vt(Di.options.threshold,1/0),Pe.dataMin,on.startMin),on.startMax=Math.max(Vt(Di.options.threshold,-1/0),Pe.dataMax,on.startMax))}),mi=Math.min(Vt(on&&on.startMin,bi.dataMin),Ui?bi.min:Te.toValue(Te.toPixels(bi.min)-Te.minPixelPadding)),_i=Math.max(Vt(on&&on.startMax,bi.dataMax),Ui?bi.max:Te.toValue(Te.toPixels(bi.max)+Te.minPixelPadding)),Te.panningState=on,Te.isOrdinal||(0<(Ui=mi-ei)&&(En+=Ui,ei=mi),0<(Ui=En-_i)&&(En=_i,ei-=Ui),Te.series.length&&ei!==bi.min&&En!==bi.max&&ei>=mi&&En<=_i&&(Te.setExtremes(ei,En,!1,!1,{trigger:"pan"}),Re.resetZoomButton||at||ei===mi||En===_i||!qt.match("y")||(Re.showResetZoom(),Te.displayBtn=!1),he=!0),ve[Qi]=ni)}}),Kt(ve,function(Te,Qi){Re[Qi]=Te}),he&&Re.redraw(!1),k(Re.container,{cursor:"move"})})},Fe}(),wt(D.prototype,{callbacks:[],collectionsWithInit:{xAxis:[D.prototype.addAxis,[!0]],yAxis:[D.prototype.addAxis,[!1]],series:[D.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),D}),ht(ct,"Core/Legend/LegendSymbol.js",[ct["Core/Utilities.js"]],function(D){var it,K,$=D.merge,X=D.pick;return(K=it||(it={})).drawLineMarker=function(W){var j=this.options,tt=W.symbolWidth,N=W.symbolHeight,U=N/2,z=this.chart.renderer,Y=this.legendGroup;W=W.baseline-Math.round(.3*W.fontMetrics.b);var q={},V=j.marker;this.chart.styledMode||(q={"stroke-width":j.lineWidth||0},j.dashStyle&&(q.dashstyle=j.dashStyle)),this.legendLine=z.path([["M",0,W],["L",tt,W]]).addClass("highcharts-graph").attr(q).add(Y),V&&!1!==V.enabled&&tt&&(j=Math.min(X(V.radius,U),U),0===this.symbol.indexOf("url")&&(V=$(V,{width:N,height:N}),j=0),this.legendSymbol=tt=z.symbol(this.symbol,tt/2-j,W-j,2*j,2*j,V).addClass("highcharts-point").add(Y),tt.isMarker=!0)},K.drawRectangle=function(W,j){var tt=W.symbolHeight,N=W.options.squareSymbol;j.legendSymbol=this.chart.renderer.rect(N?(W.symbolWidth-tt)/2:0,W.baseline-tt+1,N?tt:W.symbolWidth,tt,X(W.options.symbolRadius,tt/2)).addClass("highcharts-point").attr({zIndex:3}).add(j.legendGroup)},it}),ht(ct,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",defer:!0,formatter:function(){return"number"!=typeof this.y?"":(0,this.series.chart.numberFormatter)(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),ht(ct,"Core/Series/Series.js",[ct["Core/Animation/AnimationUtilities.js"],ct["Core/DefaultOptions.js"],ct["Core/Foundation.js"],ct["Core/Globals.js"],ct["Core/Legend/LegendSymbol.js"],ct["Core/Series/Point.js"],ct["Core/Series/SeriesDefaults.js"],ct["Core/Series/SeriesRegistry.js"],ct["Core/Renderer/SVG/SVGElement.js"],ct["Core/Utilities.js"]],function(D,$,X,it,K,W,j,tt,N,U){var z=D.animObject,Y=D.setAnimation,q=$.defaultOptions,V=X.registerEventOptions,Z=it.hasTouch,et=it.svg,rt=it.win,mt=tt.seriesTypes,gt=U.addEvent,Et=U.arrayMax,Dt=U.arrayMin,Mt=U.clamp,T=U.cleanRecursively,h=U.correctFloat,m=U.defined,y=U.erase,v=U.error,M=U.extend,S=U.find,P=U.fireEvent,C=U.getNestedProperty,d=U.isArray,k=U.isNumber,nt=U.isString,Q=U.merge,J=U.objectEach,xt=U.pick,wt=U.removeEvent,Ft=U.splat,Gt=U.syncTimeout;return D=function(){function It(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}return It.prototype.init=function(_t,Zt){P(this,"init",{options:Zt});var Ot=this,At=_t.series;this.eventsToUnbind=[],Ot.chart=_t,Ot.options=Ot.setOptions(Zt),Zt=Ot.options,Ot.linkedSeries=[],Ot.bindAxes(),M(Ot,{name:Zt.name,state:"",visible:!1!==Zt.visible,selected:!0===Zt.selected}),V(this,Zt);var Kt,jt=Zt.events;(jt&&jt.click||Zt.point&&Zt.point.events&&Zt.point.events.click||Zt.allowPointSelect)&&(_t.runTrackerClick=!0),Ot.getColor(),Ot.getSymbol(),Ot.parallelArrays.forEach(function(Vt){Ot[Vt+"Data"]||(Ot[Vt+"Data"]=[])}),Ot.isCartesian&&(_t.hasCartesianSeries=!0),At.length&&(Kt=At[At.length-1]),Ot._i=xt(Kt&&Kt._i,-1)+1,Ot.opacity=Ot.options.opacity,_t.orderSeries(this.insert(At)),Zt.dataSorting&&Zt.dataSorting.enabled?Ot.setDataSortingOptions():Ot.points||Ot.data||Ot.setData(Zt.data,!1),P(this,"afterInit")},It.prototype.is=function(_t){return mt[_t]&&this instanceof mt[_t]},It.prototype.insert=function(_t){var Ot,Zt=this.options.index;if(k(Zt)){for(Ot=_t.length;Ot--;)if(Zt>=xt(_t[Ot].options.index,_t[Ot]._i)){_t.splice(Ot+1,0,this);break}-1===Ot&&_t.unshift(this),Ot+=1}else _t.push(this);return xt(Ot,_t.length-1)},It.prototype.bindAxes=function(){var At,_t=this,Zt=_t.options,Ot=_t.chart;P(this,"bindAxes",null,function(){(_t.axisTypes||[]).forEach(function(jt){var Kt=0;Ot[jt].forEach(function(Vt){At=Vt.options,(Zt[jt]===Kt&&!At.isInternal||void 0!==Zt[jt]&&Zt[jt]===At.id||void 0===Zt[jt]&&0===At.index)&&(_t.insert(Vt.series),_t[jt]=Vt,Vt.isDirty=!0),At.isInternal||Kt++}),_t[jt]||_t.optionalAxis===jt||v(18,!0,Ot)})}),P(this,"afterBindAxes")},It.prototype.updateParallelArrays=function(_t,Zt){var Ot=_t.series,At=arguments,jt=k(Zt)?function(Kt){var Vt="y"===Kt&&Ot.toYData?Ot.toYData(_t):_t[Kt];Ot[Kt+"Data"][Zt]=Vt}:function(Kt){Array.prototype[Zt].apply(Ot[Kt+"Data"],Array.prototype.slice.call(At,2))};Ot.parallelArrays.forEach(jt)},It.prototype.hasData=function(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.yData&&0<this.yData.length},It.prototype.autoIncrement=function(_t){var Vt,Zt=this.options,Ot=Zt.pointIntervalUnit,At=Zt.relativeXValue,jt=this.chart.time,Kt=this.xIncrement;return Kt=xt(Kt,Zt.pointStart,0),this.pointInterval=Vt=xt(this.pointInterval,Zt.pointInterval,1),At&&k(_t)&&(Vt*=_t),Ot&&(Zt=new jt.Date(Kt),"day"===Ot?jt.set("Date",Zt,jt.get("Date",Zt)+Vt):"month"===Ot?jt.set("Month",Zt,jt.get("Month",Zt)+Vt):"year"===Ot&&jt.set("FullYear",Zt,jt.get("FullYear",Zt)+Vt),Vt=Zt.getTime()-Kt),At&&k(_t)?Kt+Vt:(this.xIncrement=Kt+Vt,Kt)},It.prototype.setDataSortingOptions=function(){var _t=this.options;M(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),m(_t.pointRange)||(_t.pointRange=1)},It.prototype.setOptions=function(_t){var Zt=this.chart,Ot=Zt.options,At=Ot.plotOptions,jt=Zt.userOptions||{};_t=Q(_t),Zt=Zt.styledMode;var Kt={plotOptions:At,userOptions:_t};P(this,"setOptions",Kt);var Vt=Kt.plotOptions[this.type],Ce=jt.plotOptions||{};return this.userOptions=Kt.userOptions,jt=Q(Vt,At.series,jt.plotOptions&&jt.plotOptions[this.type],_t),this.tooltipOptions=Q(q.tooltip,q.plotOptions.series&&q.plotOptions.series.tooltip,q.plotOptions[this.type].tooltip,Ot.tooltip.userOptions,At.series&&At.series.tooltip,At[this.type].tooltip,_t.tooltip),this.stickyTracking=xt(_t.stickyTracking,Ce[this.type]&&Ce[this.type].stickyTracking,Ce.series&&Ce.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||jt.stickyTracking),null===Vt.marker&&delete jt.marker,this.zoneAxis=jt.zoneAxis,At=this.zones=(jt.zones||[]).slice(),!jt.negativeColor&&!jt.negativeFillColor||jt.zones||(Ot={value:jt[this.zoneAxis+"Threshold"]||jt.threshold||0,className:"highcharts-negative"},Zt||(Ot.color=jt.negativeColor,Ot.fillColor=jt.negativeFillColor),At.push(Ot)),At.length&&m(At[At.length-1].value)&&At.push(Zt?{}:{color:this.color,fillColor:this.fillColor}),P(this,"afterSetOptions",{options:jt}),jt},It.prototype.getName=function(){return xt(this.options.name,"Series "+(this.index+1))},It.prototype.getCyclic=function(_t,Zt,Ot){var At=this.chart,jt=this.userOptions,Kt=_t+"Index",Vt=_t+"Counter",Ce=Ot?Ot.length:xt(At.options.chart[_t+"Count"],At[_t+"Count"]);if(!Zt){var Ht=xt(jt[Kt],jt["_"+Kt]);m(Ht)||(At.series.length||(At[Vt]=0),jt["_"+Kt]=Ht=At[Vt]%Ce,At[Vt]+=1),Ot&&(Zt=Ot[Ht])}void 0!==Ht&&(this[Kt]=Ht),this[_t]=Zt},It.prototype.getColor=function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||q.plotOptions[this.type].color,this.chart.options.colors)},It.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]},It.prototype.getSymbol=function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},It.prototype.findPointIndex=function(_t,Zt){var Vt,Ce,Ot=_t.id,At=_t.x,jt=this.points,Kt=this.options.dataSorting;if(Ot)(Kt=this.chart.get(Ot))instanceof W&&(Vt=Kt);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(Vt=function(ge){return!ge.touched&&ge.index===_t.index},Kt&&Kt.matchByName?Vt=function(ge){return!ge.touched&&ge.name===_t.name}:this.options.relativeXValue&&(Vt=function(ge){return!ge.touched&&ge.options.x===_t.x}),!(Vt=S(jt,Vt))))return;if(Vt){var Ht=Vt&&Vt.index;void 0!==Ht&&(Ce=!0)}return void 0===Ht&&k(At)&&(Ht=this.xData.indexOf(At,Zt)),-1!==Ht&&void 0!==Ht&&this.cropped&&(Ht=Ht>=this.cropStart?Ht-this.cropStart:Ht),!Ce&&k(Ht)&&jt[Ht]&&jt[Ht].touched&&(Ht=void 0),Ht},It.prototype.updateData=function(_t,Zt){var Ht,ge,yi,Ot=this.options,At=Ot.dataSorting,jt=this.points,Kt=[],Vt=this.requireSorting,Ce=_t.length===jt.length,we=!0;if(this.xIncrement=null,_t.forEach(function(de,Fe){var Yt=m(de)&&this.pointClass.prototype.optionsToObject.call({series:this},de)||{};Yt.id||k(Yt.x)?(-1===(Yt=this.findPointIndex(Yt,yi))||void 0===Yt?Kt.push(de):jt[Yt]&&de!==Ot.data[Yt]?(jt[Yt].update(de,!1,null,!1),jt[Yt].touched=!0,Vt&&(yi=Yt+1)):jt[Yt]&&(jt[Yt].touched=!0),(!Ce||Fe!==Yt||At&&At.enabled||this.hasDerivedData)&&(Ht=!0)):Kt.push(de)},this),Ht)for(_t=jt.length;_t--;)(ge=jt[_t])&&!ge.touched&&ge.remove&&ge.remove(!1,Zt);else!Ce||At&&At.enabled?we=!1:(_t.forEach(function(de,Fe){de!==jt[Fe].y&&jt[Fe].update&&jt[Fe].update(de,!1,null,!1)}),Kt.length=0);return jt.forEach(function(de){de&&(de.touched=!1)}),!!we&&(Kt.forEach(function(de){this.addPoint(de,!1,null,null,!1)},this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=Et(this.xData),this.autoIncrement()),!0)},It.prototype.setData=function(_t,Zt,Ot,At){var jt=this,Kt=jt.points,Vt=Kt&&Kt.length||0,Ce=jt.options,Ht=jt.chart,ge=Ce.dataSorting,yi=jt.xAxis,we=Ce.turboThreshold,de=this.xData,Fe=this.yData,Yt=jt.pointArrayMap;Yt=Yt&&Yt.length;var Re,ee=Ce.keys,Nt=0,vt=1,at=null,qt=(_t=_t||[]).length;if(Zt=xt(Zt,!0),ge&&ge.enabled&&(_t=this.sortData(_t)),!1!==At&&qt&&Vt&&!jt.cropped&&!jt.hasGroupedData&&jt.visible&&!jt.isSeriesBoosting&&(Re=this.updateData(_t,Ot)),!Re){if(jt.xIncrement=null,jt.colorCounter=0,this.parallelArrays.forEach(function(he){jt[he+"Data"].length=0}),we&&qt>we)if(at=jt.getFirstValidPoint(_t),k(at))for(Ot=0;Ot<qt;Ot++)de[Ot]=this.autoIncrement(),Fe[Ot]=_t[Ot];else if(d(at))if(Yt)if(at.length===Yt)for(Ot=0;Ot<qt;Ot++)de[Ot]=this.autoIncrement(),Fe[Ot]=_t[Ot];else for(Ot=0;Ot<qt;Ot++)de[Ot]=(At=_t[Ot])[0],Fe[Ot]=At.slice(1,Yt+1);else if(ee&&(Nt=0<=(Nt=ee.indexOf("x"))?Nt:0,vt=0<=(vt=ee.indexOf("y"))?vt:1),1===at.length&&(vt=0),Nt===vt)for(Ot=0;Ot<qt;Ot++)de[Ot]=this.autoIncrement(),Fe[Ot]=_t[Ot][vt];else for(Ot=0;Ot<qt;Ot++)de[Ot]=(At=_t[Ot])[Nt],Fe[Ot]=At[vt];else v(12,!1,Ht);else for(Ot=0;Ot<qt;Ot++)void 0!==_t[Ot]&&(jt.pointClass.prototype.applyOptions.apply(At={series:jt},[_t[Ot]]),jt.updateParallelArrays(At,Ot));for(Fe&&nt(Fe[0])&&v(14,!0,Ht),jt.data=[],jt.options.data=jt.userOptions.data=_t,Ot=Vt;Ot--;)Kt[Ot]&&Kt[Ot].destroy&&Kt[Ot].destroy();yi&&(yi.minRange=yi.userMinRange),jt.isDirty=Ht.isDirtyBox=!0,jt.isDirtyData=!!Kt,Ot=!1}"point"===Ce.legendType&&(this.processData(),this.generatePoints()),Zt&&Ht.redraw(Ot)},It.prototype.sortData=function(_t){var Zt=this,Ot=Zt.options.dataSorting.sortKey||"y",At=function(jt,Kt){return m(Kt)&&jt.pointClass.prototype.optionsToObject.call({series:jt},Kt)||{}};return _t.forEach(function(jt,Kt){_t[Kt]=At(Zt,jt),_t[Kt].index=Kt},this),_t.concat().sort(function(jt,Kt){return jt=C(Ot,jt),(Kt=C(Ot,Kt))<jt?-1:Kt>jt?1:0}).forEach(function(jt,Kt){jt.x=Kt},this),Zt.linkedSeries&&Zt.linkedSeries.forEach(function(jt){var Kt=jt.options,Vt=Kt.data;Kt.dataSorting&&Kt.dataSorting.enabled||!Vt||(Vt.forEach(function(Ce,Ht){Vt[Ht]=At(jt,Ce),_t[Ht]&&(Vt[Ht].x=_t[Ht].x,Vt[Ht].index=Ht)}),jt.setData(Vt,!1))}),_t},It.prototype.getProcessedData=function(_t){var Zt=this.xAxis,Ot=this.options,At=Ot.cropThreshold,jt=_t||this.getExtremesFromAll||Ot.getExtremesFromAll,Kt=this.isCartesian;_t=Zt&&Zt.val2lin,Ot=!(!Zt||!Zt.logarithmic);var Vt=0,Ce=this.xData,Ht=this.yData,ge=this.requireSorting,yi=!1,we=Ce.length;if(Zt){var de=(yi=Zt.getExtremes()).min,Fe=yi.max;yi=Zt.categories&&!Zt.names.length}if(Kt&&this.sorted&&!jt&&(!At||we>At||this.forceCrop))if(Ce[we-1]<de||Ce[0]>Fe)Ce=[],Ht=[];else if(this.yData&&(Ce[0]<de||Ce[we-1]>Fe)){var Yt=this.cropData(this.xData,this.yData,de,Fe);Ce=Yt.xData,Ht=Yt.yData,Vt=Yt.start,Yt=!0}for(At=Ce.length||1;--At;)if(0<(Zt=Ot?_t(Ce[At])-_t(Ce[At-1]):Ce[At]-Ce[At-1])&&(void 0===ee||Zt<ee))var ee=Zt;else 0>Zt&&ge&&!yi&&(v(15,!1,this.chart),ge=!1);return{xData:Ce,yData:Ht,cropped:Yt,cropStart:Vt,closestPointRange:ee}},It.prototype.processData=function(_t){if(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!_t)return!1;_t=this.getProcessedData(),this.cropped=_t.cropped,this.cropStart=_t.cropStart,this.processedXData=_t.xData,this.processedYData=_t.yData,this.closestPointRange=this.basePointRange=_t.closestPointRange,P(this,"afterProcessData")},It.prototype.cropData=function(_t,Zt,Ot,At,jt){var Vt,Kt=_t.length,Ce=0,Ht=Kt;for(jt=xt(jt,this.cropShoulder),Vt=0;Vt<Kt;Vt++)if(_t[Vt]>=Ot){Ce=Math.max(0,Vt-jt);break}for(Ot=Vt;Ot<Kt;Ot++)if(_t[Ot]>At){Ht=Ot+jt;break}return{xData:_t.slice(Ce,Ht),yData:Zt.slice(Ce,Ht),start:Ce,end:Ht}},It.prototype.generatePoints=function(){var _t=this.options,Zt=_t.data,Ot=this.processedXData,At=this.processedYData,jt=this.pointClass,Kt=Ot.length,Vt=this.cropStart||0,Ce=this.hasGroupedData,Ht=_t.keys,ge=[];_t=_t.dataGrouping&&_t.dataGrouping.groupAll?Vt:0;var yi,we,de=this.data;if(!de&&!Ce){var Fe=[];Fe.length=Zt.length,de=this.data=Fe}for(Ht&&Ce&&(this.options.keys=!1),we=0;we<Kt;we++){if(Fe=Vt+we,Ce){var Yt=(new jt).init(this,[Ot[we]].concat(Ft(At[we])));Yt.dataGroup=this.groupMap[_t+we],Yt.dataGroup.options&&(Yt.options=Yt.dataGroup.options,M(Yt,Yt.dataGroup.options),delete Yt.dataLabels)}else(Yt=de[Fe])||void 0===Zt[Fe]||(de[Fe]=Yt=(new jt).init(this,Zt[Fe],Ot[we]));Yt&&(Yt.index=Ce?_t+we:Fe,ge[we]=Yt)}if(this.options.keys=Ht,de&&(Kt!==(yi=de.length)||Ce))for(we=0;we<yi;we++)we!==Vt||Ce||(we+=Kt),de[we]&&(de[we].destroyElements(),de[we].plotX=void 0);this.data=de,this.points=ge,P(this,"afterGeneratePoints")},It.prototype.getXExtremes=function(_t){return{min:Dt(_t),max:Et(_t)}},It.prototype.getExtremes=function(_t,Zt){var Ot=this.xAxis,At=this.yAxis,jt=this.processedXData||this.xData,Kt=[],Vt=this.requireSorting?this.cropShoulder:0;At=!!At&&At.positiveValuesOnly;var Ce,Ht=0,ge=0,yi=0,we=(_t=_t||this.stackedYData||this.processedYData||[]).length;if(Ot){var de=Ot.getExtremes();Ht=de.min,ge=de.max}for(Ce=0;Ce<we;Ce++){var Fe=jt[Ce],Yt=(k(de=_t[Ce])||d(de))&&(de.length||0<de||!At);if(Fe=Zt||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!Ot||(jt[Ce+Vt]||Fe)>=Ht&&(jt[Ce-Vt]||Fe)<=ge,Yt&&Fe)if(Yt=de.length)for(;Yt--;)k(de[Yt])&&(Kt[yi++]=de[Yt]);else Kt[yi++]=de}return _t={activeYData:Kt,dataMin:Dt(Kt),dataMax:Et(Kt)},P(this,"afterGetExtremes",{dataExtremes:_t}),_t},It.prototype.applyExtremes=function(){var _t=this.getExtremes();return this.dataMin=_t.dataMin,this.dataMax=_t.dataMax,_t},It.prototype.getFirstValidPoint=function(_t){for(var Zt=_t.length,Ot=0,At=null;null===At&&Ot<Zt;)At=_t[Ot],Ot++;return At},It.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints();var Fe,Yt,_t=this.options,Zt=_t.stacking,Ot=this.xAxis,At=Ot.categories,jt=this.enabledDataSorting,Kt=this.yAxis,Vt=this.points,Ce=Vt.length,Ht=this.pointPlacementToXValue(),ge=!!Ht,yi=_t.threshold,we=_t.startFromThreshold?yi:0,de=this.zoneAxis||"y",ee=Number.MAX_VALUE;for(Fe=0;Fe<Ce;Fe++){var Re=Vt[Fe],Nt=Re.x,vt=void 0,at=void 0,qt=Re.y,he=Re.low,Xe=Zt&&Kt.stacking&&Kt.stacking.stacks[(this.negStacks&&qt<(we?0:yi)?"-":"")+this.stackKey];if((Kt.positiveValuesOnly&&!Kt.validatePositiveValue(qt)||Ot.positiveValuesOnly&&!Ot.validatePositiveValue(Nt))&&(Re.isNull=!0),Re.plotX=Yt=h(Mt(Ot.translate(Nt,0,0,0,1,Ht,"flags"===this.type),-1e5,1e5)),Zt&&this.visible&&Xe&&Xe[Nt]){var ve=this.getStackIndicator(ve,Nt,this.index);Re.isNull||(at=(vt=Xe[Nt]).points[ve.key])}if(d(at)&&(qt=at[1],(he=at[0])===we&&ve.key===Xe[Nt].base&&(he=xt(k(yi)&&yi,Kt.min)),Kt.positiveValuesOnly&&0>=he&&(he=null),Re.total=Re.stackTotal=vt.total,Re.percentage=vt.total&&Re.y/vt.total*100,Re.stackY=qt,this.irregularWidths||vt.setOffset(this.pointXOffset||0,this.barW||0)),Re.yBottom=m(he)?Mt(Kt.translate(he,0,1,0,1),-1e5,1e5):null,this.dataModify&&(qt=this.dataModify.modifyValue(qt,Fe)),Re.plotY=void 0,k(qt)&&void 0!==(vt=Kt.translate(qt,!1,!0,!1,!0))&&(Re.plotY=Mt(vt,-1e5,1e5)),Re.isInside=this.isPointInside(Re),Re.clientX=ge?h(Ot.translate(Nt,0,0,0,1,Ht)):Yt,Re.negative=Re[de]<(_t[de+"Threshold"]||yi||0),Re.category=At&&void 0!==At[Re.x]?At[Re.x]:Re.x,!Re.isNull&&!1!==Re.visible){void 0!==Te&&(ee=Math.min(ee,Math.abs(Yt-Te)));var Te=Yt}Re.zone=this.zones.length?Re.getZone():void 0,!Re.graphic&&this.group&&jt&&(Re.isNew=!0)}this.closestPointRangePx=ee,P(this,"afterTranslate")},It.prototype.getValidPoints=function(_t,Zt,Ot){var At=this.chart;return(_t||this.points||[]).filter(function(jt){return!(Zt&&!At.isInsidePlot(jt.plotX,jt.plotY,{inverted:At.inverted}))&&!1!==jt.visible&&(Ot||!jt.isNull)})},It.prototype.getClipBox=function(){var _t=this.chart,Zt=this.xAxis,Ot=this.yAxis,At=Q(_t.clipBox);return Zt&&Zt.len!==_t.plotSizeX&&(At.width=Zt.len),Ot&&Ot.len!==_t.plotSizeY&&(At.height=Ot.len),At},It.prototype.getSharedClipKey=function(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)},It.prototype.setClip=function(){var _t=this.chart,Zt=this.group,Ot=this.markerGroup,At=_t.sharedClips;_t=_t.renderer;var jt=this.getClipBox(),Kt=this.getSharedClipKey(),Vt=At[Kt];Vt?Vt.animate(jt):At[Kt]=Vt=_t.clipRect(jt),Zt&&Zt.clip(!1===this.options.clip?void 0:Vt),Ot&&Ot.clip()},It.prototype.animate=function(_t){var Zt=this.chart,Ot=this.group,At=this.markerGroup,jt=Zt.inverted,Kt=z(this.options.animation),Vt=[this.getSharedClipKey(),Kt.duration,Kt.easing,Kt.defer].join(),Ce=Zt.sharedClips[Vt],Ht=Zt.sharedClips[Vt+"m"];if(_t&&Ot)Kt=this.getClipBox(),Ce?Ce.attr("height",Kt.height):(Kt.width=0,jt&&(Kt.x=Zt.plotHeight),Ce=Zt.renderer.clipRect(Kt),Zt.sharedClips[Vt]=Ce,Ht=Zt.renderer.clipRect({x:jt?(Zt.plotSizeX||0)+99:-99,y:jt?-Zt.plotLeft:-Zt.plotTop,width:99,height:jt?Zt.chartWidth:Zt.chartHeight}),Zt.sharedClips[Vt+"m"]=Ht),Ot.clip(Ce),At&&At.clip(Ht);else if(Ce&&!Ce.hasClass("highcharts-animating")){Zt=this.getClipBox();var ge=Kt.step;At&&At.element.childNodes.length&&(Kt.step=function(yi,we){ge&&ge.apply(we,arguments),Ht&&Ht.element&&Ht.attr(we.prop,"width"===we.prop?yi+99:yi)}),Ce.addClass("highcharts-animating").animate(Zt,Kt)}},It.prototype.afterAnimate=function(){var _t=this;this.setClip(),J(this.chart.sharedClips,function(Zt,Ot,At){Zt&&!_t.chart.container.querySelector('[clip-path="url(#'+Zt.id+')"]')&&(Zt.destroy(),delete At[Ot])}),this.finishedAnimating=!0,P(this,"afterAnimate")},It.prototype.drawPoints=function(){var Vt,Ce,_t=this.points,Zt=this.chart,Ot=this.options.marker,At=this[this.specialGroup]||this.markerGroup,jt=this.xAxis,Kt=xt(Ot.enabled,!(jt&&!jt.isRadial)||null,this.closestPointRangePx>=Ot.enabledThreshold*Ot.radius);if(!1!==Ot.enabled||this._hasPointMarkers)for(Vt=0;Vt<_t.length;Vt++){var Ht=_t[Vt],ge=(Ce=Ht.graphic)?"animate":"attr",yi=Ht.marker||{},we=!!Ht.marker;if((Kt&&void 0===yi.enabled||yi.enabled)&&!Ht.isNull&&!1!==Ht.visible){var de=xt(yi.symbol,this.symbol,"rect"),Fe=this.markerAttribs(Ht,Ht.selected&&"select");this.enabledDataSorting&&(Ht.startXPos=jt.reversed?-(Fe.width||0):jt.width);var Yt=!1!==Ht.isInside;Ce?Ce[Yt?"show":"hide"](Yt).animate(Fe):Yt&&(0<(Fe.width||0)||Ht.hasImage)&&(Ht.graphic=Ce=Zt.renderer.symbol(de,Fe.x,Fe.y,Fe.width,Fe.height,we?yi:Ot).add(At),this.enabledDataSorting&&Zt.hasRendered&&(Ce.attr({x:Ht.startXPos}),ge="animate")),Ce&&"animate"===ge&&Ce[Yt?"show":"hide"](Yt).animate(Fe),Ce&&!Zt.styledMode&&Ce[ge](this.pointAttribs(Ht,Ht.selected&&"select")),Ce&&Ce.addClass(Ht.getClassName(),!0)}else Ce&&(Ht.graphic=Ce.destroy())}},It.prototype.markerAttribs=function(_t,Zt){var Ot=this.options,At=Ot.marker,jt=_t.marker||{},Kt=jt.symbol||At.symbol,Vt=xt(jt.radius,At.radius);return Zt&&(At=At.states[Zt],Vt=xt((Zt=jt.states&&jt.states[Zt])&&Zt.radius,At&&At.radius,Vt+(At&&At.radiusPlus||0))),_t.hasImage=Kt&&0===Kt.indexOf("url"),_t.hasImage&&(Vt=0),_t={x:Ot.crisp?Math.floor(_t.plotX-Vt):_t.plotX-Vt,y:_t.plotY-Vt},Vt&&(_t.width=_t.height=2*Vt),_t},It.prototype.pointAttribs=function(_t,Zt){var Ot=this.options.marker,At=_t&&_t.options,jt=At&&At.marker||{},Kt=At&&At.color,Vt=_t&&_t.color,Ce=_t&&_t.zone&&_t.zone.color,Ht=this.color;return _t=xt(jt.lineWidth,Ot.lineWidth),At=1,Ht=Kt||Ce||Vt||Ht,Kt=jt.fillColor||Ot.fillColor||Ht,Vt=jt.lineColor||Ot.lineColor||Ht,Ot=Ot.states[Zt=Zt||"normal"]||{},_t=xt((Zt=jt.states&&jt.states[Zt]||{}).lineWidth,Ot.lineWidth,_t+xt(Zt.lineWidthPlus,Ot.lineWidthPlus,0)),{stroke:Vt=Zt.lineColor||Ot.lineColor||Vt,"stroke-width":_t,fill:Kt=Zt.fillColor||Ot.fillColor||Kt,opacity:At=xt(Zt.opacity,Ot.opacity,At)}},It.prototype.destroy=function(_t){var Vt,Ce,Ht,Zt=this,Ot=Zt.chart,At=/AppleWebKit\/533/.test(rt.navigator.userAgent),jt=Zt.data||[];for(P(Zt,"destroy"),this.removeEvents(_t),(Zt.axisTypes||[]).forEach(function(ge){(Ht=Zt[ge])&&Ht.series&&(y(Ht.series,Zt),Ht.isDirty=Ht.forceRedraw=!0)}),Zt.legendItem&&Zt.chart.legend.destroyItem(Zt),Vt=jt.length;Vt--;)(Ce=jt[Vt])&&Ce.destroy&&Ce.destroy();Zt.clips&&Zt.clips.forEach(function(ge){return ge.destroy()}),U.clearTimeout(Zt.animationTimeout),J(Zt,function(ge,yi){ge instanceof N&&!ge.survive&&ge[At&&"group"===yi?"hide":"destroy"]()}),Ot.hoverSeries===Zt&&(Ot.hoverSeries=void 0),y(Ot.series,Zt),Ot.orderSeries(),J(Zt,function(ge,yi){_t&&"hcEvents"===yi||delete Zt[yi]})},It.prototype.applyZones=function(){var yi,we,de,Fe,Yt,ee,Re,Nt,_t=this,Zt=this.chart,Ot=Zt.renderer,At=this.zones,jt=this.clips||[],Kt=this.graph,Vt=this.area,Ce=Math.max(Zt.chartWidth,Zt.chartHeight),Ht=this[(this.zoneAxis||"y")+"Axis"],ge=Zt.inverted,vt=!1;if(At.length&&(Kt||Vt)&&Ht&&void 0!==Ht.min){var at=Ht.reversed,qt=Ht.horiz;Kt&&!this.showLine&&Kt.hide(),Vt&&Vt.hide();var he=Ht.getExtremes();At.forEach(function(Xe,ve){yi=at?qt?Zt.plotWidth:0:qt?0:Ht.toPixels(he.min)||0,yi=Mt(xt(we,yi),0,Ce),we=Mt(Math.round(Ht.toPixels(xt(Xe.value,he.max),!0)||0),0,Ce),vt&&(yi=we=Ht.toPixels(he.max)),Fe=Math.abs(yi-we),Yt=Math.min(yi,we),ee=Math.max(yi,we),Ht.isXAxis?(de={x:ge?ee:Yt,y:0,width:Fe,height:Ce},qt||(de.x=Zt.plotHeight-de.x)):(de={x:0,y:ge?ee:Yt,width:Ce,height:Fe},qt&&(de.y=Zt.plotWidth-de.y)),ge&&Ot.isVML&&(de=Ht.isXAxis?{x:0,y:at?Yt:ee,height:de.width,width:Zt.chartWidth}:{x:de.y-Zt.plotLeft-Zt.spacingBox.x,y:0,width:de.height,height:Zt.chartHeight}),jt[ve]?jt[ve].animate(de):jt[ve]=Ot.clipRect(de),Re=_t["zone-area-"+ve],Nt=_t["zone-graph-"+ve],Kt&&Nt&&Nt.clip(jt[ve]),Vt&&Re&&Re.clip(jt[ve]),vt=Xe.value>he.max,_t.resetZones&&0===we&&(we=void 0)}),this.clips=jt}else _t.visible&&(Kt&&Kt.show(!0),Vt&&Vt.show(!0))},It.prototype.invertGroups=function(_t){function Zt(){["group","markerGroup"].forEach(function(jt){Ot[jt]&&(At.renderer.isVML&&Ot[jt].attr({width:Ot.yAxis.len,height:Ot.xAxis.len}),Ot[jt].width=Ot.yAxis.len,Ot[jt].height=Ot.xAxis.len,Ot[jt].invert(!Ot.isRadialSeries&&_t))})}var Ot=this,At=Ot.chart;Ot.xAxis&&(Ot.eventsToUnbind.push(gt(At,"resize",Zt)),Zt(),Ot.invertGroups=Zt)},It.prototype.plotGroup=function(_t,Zt,Ot,At,jt){var Kt=this[_t],Vt=!Kt;return Ot={visibility:Ot,zIndex:At||.1},void 0===this.opacity||this.chart.styledMode||"inactive"===this.state||(Ot.opacity=this.opacity),Vt&&(this[_t]=Kt=this.chart.renderer.g().add(jt)),Kt.addClass("highcharts-"+Zt+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(m(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(Kt.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),Kt.attr(Ot)[Vt?"attr":"animate"](this.getPlotBox()),Kt},It.prototype.getPlotBox=function(){var _t=this.chart,Zt=this.xAxis,Ot=this.yAxis;return _t.inverted&&(Zt=Ot,Ot=this.xAxis),{translateX:Zt?Zt.left:_t.plotLeft,translateY:Ot?Ot.top:_t.plotTop,scaleX:1,scaleY:1}},It.prototype.removeEvents=function(_t){_t||wt(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(Zt){Zt()}),this.eventsToUnbind.length=0)},It.prototype.render=function(){var _t=this,Zt=_t.chart,Ot=_t.options,At=z(Ot.animation),jt=_t.visible?"inherit":"hidden",Kt=Ot.zIndex,Vt=_t.hasRendered,Ce=Zt.seriesGroup,Ht=Zt.inverted;Zt=!_t.finishedAnimating&&Zt.renderer.isSVG?At.duration:0,P(this,"render");var ge=_t.plotGroup("group","series",jt,Kt,Ce);_t.markerGroup=_t.plotGroup("markerGroup","markers",jt,Kt,Ce),!1!==Ot.clip&&_t.setClip(),_t.animate&&Zt&&_t.animate(!0),ge.inverted=!!xt(_t.invertible,_t.isCartesian)&&Ht,_t.drawGraph&&(_t.drawGraph(),_t.applyZones()),_t.visible&&_t.drawPoints(),_t.drawDataLabels&&_t.drawDataLabels(),_t.redrawPoints&&_t.redrawPoints(),_t.drawTracker&&!1!==_t.options.enableMouseTracking&&_t.drawTracker(),_t.invertGroups(Ht),_t.animate&&Zt&&_t.animate(),Vt||(Zt&&At.defer&&(Zt+=At.defer),_t.animationTimeout=Gt(function(){_t.afterAnimate()},Zt||0)),_t.isDirty=!1,_t.hasRendered=!0,P(_t,"afterRender")},It.prototype.redraw=function(){var _t=this.chart,Zt=this.isDirty||this.isDirtyData,Ot=this.group,At=this.xAxis,jt=this.yAxis;Ot&&(_t.inverted&&Ot.attr({width:_t.plotWidth,height:_t.plotHeight}),Ot.animate({translateX:xt(At&&At.left,_t.plotLeft),translateY:xt(jt&&jt.top,_t.plotTop)})),this.translate(),this.render(),Zt&&delete this.kdTree},It.prototype.searchPoint=function(_t,Zt){var Ot=this.xAxis,At=this.yAxis,jt=this.chart.inverted;return this.searchKDTree({clientX:jt?Ot.len-_t.chartY+Ot.pos:_t.chartX-Ot.pos,plotY:jt?At.len-_t.chartX+At.pos:_t.chartY-At.pos},Zt,_t)},It.prototype.buildKDTree=function(_t){function Zt(jt,Kt,Vt){var Ce=jt&&jt.length;if(Ce){var Ht=Ot.kdAxisArray[Kt%Vt];return jt.sort(function(ge,yi){return ge[Ht]-yi[Ht]}),{point:jt[Ce=Math.floor(Ce/2)],left:Zt(jt.slice(0,Ce),Kt+1,Vt),right:Zt(jt.slice(Ce+1),Kt+1,Vt)}}}this.buildingKdTree=!0;var Ot=this,At=-1<Ot.options.findNearestPointBy.indexOf("y")?2:1;delete Ot.kdTree,Gt(function(){Ot.kdTree=Zt(Ot.getValidPoints(null,!Ot.directTouch),At,At),Ot.buildingKdTree=!1},Ot.options.kdNow||_t&&"touchstart"===_t.type?0:1)},It.prototype.searchKDTree=function(_t,Zt,Ot){var jt=this,Kt=this.kdAxisArray[0],Vt=this.kdAxisArray[1],Ce=Zt?"distX":"dist";if(Zt=-1<jt.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(Ot),this.kdTree)return function At(Ht,ge,yi,we){var de=ge.point,Fe=jt.kdAxisArray[yi%we],Yt=de,ee=m(Ht[Kt])&&m(de[Kt])?Math.pow(Ht[Kt]-de[Kt],2):null,Re=m(Ht[Vt])&&m(de[Vt])?Math.pow(Ht[Vt]-de[Vt],2):null;return de.dist=m(Re=(ee||0)+(Re||0))?Math.sqrt(Re):Number.MAX_VALUE,de.distX=m(ee)?Math.sqrt(ee):Number.MAX_VALUE,ee=0>(Fe=Ht[Fe]-de[Fe])?"right":"left",ge[Re=0>Fe?"left":"right"]&&(Yt=(Re=At(Ht,ge[Re],yi+1,we))[Ce]<Yt[Ce]?Re:de),ge[ee]&&Math.sqrt(Fe*Fe)<Yt[Ce]&&(Yt=(Ht=At(Ht,ge[ee],yi+1,we))[Ce]<Yt[Ce]?Ht:Yt),Yt}(_t,this.kdTree,Zt,Zt)},It.prototype.pointPlacementToXValue=function(){var _t=this.options,Zt=_t.pointRange,Ot=this.xAxis;return"between"===(_t=_t.pointPlacement)&&(_t=Ot.reversed?-.5:.5),k(_t)?_t*(Zt||Ot.pointRange):0},It.prototype.isPointInside=function(_t){var Zt=this.chart,Ot=this.xAxis,At=this.yAxis;return void 0!==_t.plotY&&void 0!==_t.plotX&&0<=_t.plotY&&_t.plotY<=(At?At.len:Zt.plotHeight)&&0<=_t.plotX&&_t.plotX<=(Ot?Ot.len:Zt.plotWidth)},It.prototype.drawTracker=function(){var _t=this,Zt=_t.options,Ot=Zt.trackByArea,At=[].concat(Ot?_t.areaPath:_t.graphPath),jt=_t.chart,Kt=jt.pointer,Vt=jt.renderer,Ce=jt.options.tooltip.snap,Ht=_t.tracker,ge=function(we){jt.hoverSeries!==_t&&_t.onMouseOver()},yi="rgba(192,192,192,"+(et?1e-4:.002)+")";Ht?Ht.attr({d:At}):_t.graph&&(_t.tracker=Vt.path(At).attr({visibility:_t.visible?"visible":"hidden",zIndex:2}).addClass(Ot?"highcharts-tracker-area":"highcharts-tracker-line").add(_t.group),jt.styledMode||_t.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:yi,fill:Ot?yi:"none","stroke-width":_t.graph.strokeWidth()+(Ot?0:2*Ce)}),[_t.tracker,_t.markerGroup,_t.dataLabelsGroup].forEach(function(we){we&&(we.addClass("highcharts-tracker").on("mouseover",ge).on("mouseout",function(de){Kt.onTrackerMouseOut(de)}),Zt.cursor&&!jt.styledMode&&we.css({cursor:Zt.cursor}),Z)&&we.on("touchstart",ge)})),P(this,"afterDrawTracker")},It.prototype.addPoint=function(_t,Zt,Ot,At,jt){var Kt=this.options,Vt=this.data,Ce=this.chart,Ht=this.xAxis;Ht=Ht&&Ht.hasNames&&Ht.names;var we,ge=Kt.data,yi=this.xData;Zt=xt(Zt,!0);var de={series:this};this.pointClass.prototype.applyOptions.apply(de,[_t]);var Fe=de.x,Yt=yi.length;if(this.requireSorting&&Fe<yi[Yt-1])for(we=!0;Yt&&yi[Yt-1]>Fe;)Yt--;this.updateParallelArrays(de,"splice",Yt,0,0),this.updateParallelArrays(de,Yt),Ht&&de.name&&(Ht[Fe]=de.name),ge.splice(Yt,0,_t),we&&(this.data.splice(Yt,0,null),this.processData()),"point"===Kt.legendType&&this.generatePoints(),Ot&&(Vt[0]&&Vt[0].remove?Vt[0].remove(!1):(Vt.shift(),this.updateParallelArrays(de,"shift"),ge.shift())),!1!==jt&&P(this,"addPoint",{point:de}),this.isDirtyData=this.isDirty=!0,Zt&&Ce.redraw(At)},It.prototype.removePoint=function(_t,Zt,Ot){var At=this,jt=At.data,Kt=jt[_t],Vt=At.points,Ce=At.chart,Ht=function(){Vt&&Vt.length===jt.length&&Vt.splice(_t,1),jt.splice(_t,1),At.options.data.splice(_t,1),At.updateParallelArrays(Kt||{series:At},"splice",_t,1),Kt&&Kt.destroy(),At.isDirty=!0,At.isDirtyData=!0,Zt&&Ce.redraw()};Y(Ot,Ce),Zt=xt(Zt,!0),Kt?Kt.firePointEvent("remove",null,Ht):Ht()},It.prototype.remove=function(_t,Zt,Ot,At){function jt(){Kt.destroy(At),Vt.isDirtyLegend=Vt.isDirtyBox=!0,Vt.linkSeries(),xt(_t,!0)&&Vt.redraw(Zt)}var Kt=this,Vt=Kt.chart;!1!==Ot?P(Kt,"remove",null,jt):jt()},It.prototype.update=function(_t,Zt){_t=T(_t,this.userOptions),P(this,"update",{options:_t});var yi,Ot=this,At=Ot.chart,jt=Ot.userOptions,Kt=Ot.initialType||Ot.type,Vt=At.options.plotOptions,Ce=mt[Kt].prototype,Ht=Ot.finishedAnimating&&{animation:!1},ge={},we=["eventOptions","navigatorSeries","baseSeries"],de=_t.type||jt.type||At.options.chart.type,Fe=!(this.hasDerivedData||de&&de!==this.type||void 0!==_t.pointStart||void 0!==_t.pointInterval||void 0!==_t.relativeXValue||Ot.hasOptionChanged("dataGrouping")||Ot.hasOptionChanged("pointStart")||Ot.hasOptionChanged("pointInterval")||Ot.hasOptionChanged("pointIntervalUnit")||Ot.hasOptionChanged("keys"));if(de=de||Kt,Fe&&(we.push("data","isDirtyData","points","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","mapMap","mapData","minY","maxY","minX","maxX"),!1!==_t.visible&&we.push("area","graph"),Ot.parallelArrays.forEach(function(ee){we.push(ee+"Data")}),_t.data&&(_t.dataSorting&&M(Ot.options.dataSorting,_t.dataSorting),this.setData(_t.data,!1))),_t=Q(jt,Ht,{index:void 0===jt.index?Ot.index:jt.index,pointStart:xt(Vt&&Vt.series&&Vt.series.pointStart,jt.pointStart,Ot.xData[0])},!Fe&&{data:Ot.options.data},_t),Fe&&_t.data&&(_t.data=Ot.options.data),(we=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(we)).forEach(function(ee){we[ee]=Ot[ee],delete Ot[ee]}),Vt=!1,mt[de]){if(Vt=de!==Ot.type,Ot.remove(!1,!1,!1,!0),Vt)if(Object.setPrototypeOf)Object.setPrototypeOf(Ot,mt[de].prototype);else{for(yi in Ht=Object.hasOwnProperty.call(Ot,"hcEvents")&&Ot.hcEvents,Ce)Ot[yi]=void 0;M(Ot,mt[de].prototype),Ht?Ot.hcEvents=Ht:delete Ot.hcEvents}}else v(17,!0,At,{missingModuleFor:de});if(we.forEach(function(ee){Ot[ee]=we[ee]}),Ot.init(At,_t),Fe&&this.points){var Yt=Ot.options;!1===Yt.visible?(ge.graphic=1,ge.dataLabel=1):Ot._hasPointLabels||(Ce=Yt.dataLabels,!(_t=Yt.marker)||!1!==_t.enabled&&(jt.marker&&jt.marker.symbol)===_t.symbol||(ge.graphic=1),Ce&&!1===Ce.enabled&&(ge.dataLabel=1)),this.points.forEach(function(ee){ee&&ee.series&&(ee.resolveColor(),Object.keys(ge).length&&ee.destroyElements(ge),!1===Yt.showInLegend&&ee.legendItem&&At.legend.destroyItem(ee))},this)}Ot.initialType=Kt,At.linkSeries(),Vt&&Ot.linkedSeries.length&&(Ot.isDirtyData=!0),P(this,"afterUpdate"),xt(Zt,!0)&&At.redraw(!!Fe&&void 0)},It.prototype.setName=function(_t){this.name=this.options.name=this.userOptions.name=_t,this.chart.isDirtyLegend=!0},It.prototype.hasOptionChanged=function(_t){var Zt=this.options[_t],Ot=this.chart.options.plotOptions,At=this.userOptions[_t];return At?Zt!==At:Zt!==xt(Ot&&Ot[this.type]&&Ot[this.type][_t],Ot&&Ot.series&&Ot.series[_t],Zt)},It.prototype.onMouseOver=function(){var _t=this.chart,Zt=_t.hoverSeries;_t.pointer.setHoverChartIndex(),Zt&&Zt!==this&&Zt.onMouseOut(),this.options.events.mouseOver&&P(this,"mouseOver"),this.setState("hover"),_t.hoverSeries=this},It.prototype.onMouseOut=function(){var _t=this.options,Zt=this.chart,Ot=Zt.tooltip,At=Zt.hoverPoint;Zt.hoverSeries=null,At&&At.onMouseOut(),this&&_t.events.mouseOut&&P(this,"mouseOut"),!Ot||this.stickyTracking||Ot.shared&&!this.noSharedTooltip||Ot.hide(),Zt.series.forEach(function(jt){jt.setState("",!0)})},It.prototype.setState=function(_t,Zt){var Ot=this,At=Ot.options,jt=Ot.graph,Kt=At.inactiveOtherPoints,Vt=At.states,Ce=xt(Vt[_t||"normal"]&&Vt[_t||"normal"].animation,Ot.chart.options.chart.animation),Ht=At.lineWidth,ge=0,yi=At.opacity;if(Ot.state!==(_t=_t||"")&&([Ot.group,Ot.markerGroup,Ot.dataLabelsGroup].forEach(function(we){we&&(Ot.state&&we.removeClass("highcharts-series-"+Ot.state),_t&&we.addClass("highcharts-series-"+_t))}),Ot.state=_t,!Ot.chart.styledMode)){if(Vt[_t]&&!1===Vt[_t].enabled)return;if(_t&&(Ht=Vt[_t].lineWidth||Ht+(Vt[_t].lineWidthPlus||0),yi=xt(Vt[_t].opacity,yi)),jt&&!jt.dashstyle)for(jt.animate(At={"stroke-width":Ht},Ce);Ot["zone-graph-"+ge];)Ot["zone-graph-"+ge].animate(At,Ce),ge+=1;Kt||[Ot.group,Ot.markerGroup,Ot.dataLabelsGroup,Ot.labelBySeries].forEach(function(we){we&&we.animate({opacity:yi},Ce)})}Zt&&Kt&&Ot.points&&Ot.setAllPointsToState(_t||void 0)},It.prototype.setAllPointsToState=function(_t){this.points.forEach(function(Zt){Zt.setState&&Zt.setState(_t)})},It.prototype.setVisible=function(_t,Zt){var Ot=this,At=Ot.chart,jt=Ot.legendItem,Kt=At.options.chart.ignoreHiddenSeries,Ce=(Ot.visible=_t=Ot.options.visible=Ot.userOptions.visible=void 0===_t?!Ot.visible:_t)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(Ht){Ot[Ht]&&Ot[Ht][Ce]()}),(At.hoverSeries===Ot||(At.hoverPoint&&At.hoverPoint.series)===Ot)&&Ot.onMouseOut(),jt&&At.legend.colorizeItem(Ot,_t),Ot.isDirty=!0,Ot.options.stacking&&At.series.forEach(function(Ht){Ht.options.stacking&&Ht.visible&&(Ht.isDirty=!0)}),Ot.linkedSeries.forEach(function(Ht){Ht.setVisible(_t,!1)}),Kt&&(At.isDirtyBox=!0),P(Ot,Ce),!1!==Zt&&At.redraw()},It.prototype.show=function(){this.setVisible(!0)},It.prototype.hide=function(){this.setVisible(!1)},It.prototype.select=function(_t){this.selected=_t=this.options.selected=void 0===_t?!this.selected:_t,this.checkbox&&(this.checkbox.checked=_t),P(this,_t?"select":"unselect")},It.prototype.shouldShowTooltip=function(_t,Zt,Ot){return void 0===Ot&&(Ot={}),Ot.series=this,Ot.visiblePlotOnly=!0,this.chart.isInsidePlot(_t,Zt,Ot)},It.defaultOptions=j,It}(),M(D.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:K.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:W,requireSorting:!0,sorted:!0}),tt.series=D,D}),ht(ct,"Extensions/ScrollablePlotArea.js",[ct["Core/Animation/AnimationUtilities.js"],ct["Core/Axis/Axis.js"],ct["Core/Chart/Chart.js"],ct["Core/Series/Series.js"],ct["Core/Renderer/RendererRegistry.js"],ct["Core/Utilities.js"]],function(D,$,X,it,K,W){var j=D.stop,tt=W.addEvent,N=W.createElement,U=W.merge,z=W.pick;tt(X,"afterSetChartSize",function(Y){var q=this.options.chart.scrollablePlotArea,V=q&&q.minWidth;if(q=q&&q.minHeight,!this.renderer.forExport){if(V){if(this.scrollablePixelsX=V=Math.max(0,V-this.chartWidth)){this.scrollablePlotBox=this.renderer.scrollablePlotBox=U(this.plotBox),this.plotBox.width=this.plotWidth+=V,this.inverted?this.clipBox.height+=V:this.clipBox.width+=V;var Z={1:{name:"right",value:V}}}}else q&&(this.scrollablePixelsY=V=Math.max(0,q-this.chartHeight))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=U(this.plotBox),this.plotBox.height=this.plotHeight+=V,this.inverted?this.clipBox.width+=V:this.clipBox.height+=V,Z={2:{name:"bottom",value:V}});Z&&!Y.skipAxes&&this.axes.forEach(function(et){Z[et.side]?et.getPlotLinePath=function(){var rt=Z[et.side].name,mt=this[rt];this[rt]=mt-Z[et.side].value;var gt=$.prototype.getPlotLinePath.apply(this,arguments);return this[rt]=mt,gt}:(et.setAxisSize(),et.setAxisTranslation())})}}),tt(X,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),X.prototype.setUpScrolling=function(){var Y=this,q={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(q.overflowX="auto"),this.scrollablePixelsY&&(q.overflowY="auto"),this.scrollingParent=N("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=N("div",{className:"highcharts-scrolling"},q,this.scrollingParent),tt(this.scrollingContainer,"scroll",function(){Y.pointer&&delete Y.pointer.chartPosition}),this.innerContainer=N("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},X.prototype.moveFixedElements=function(){var Z,Y=this.container,q=this.fixedRenderer,V=".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?Z=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?Z=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(Z=".highcharts-yaxis"),Z&&V.push(Z+":not(.highcharts-radial-axis)",Z+"-labels:not(.highcharts-radial-axis-labels)"),V.forEach(function(et){[].forEach.call(Y.querySelectorAll(et),function(rt){(rt.namespaceURI===q.SVG_NS?q.box:q.box.parentNode).appendChild(rt),rt.style.pointerEvents="auto"})})},X.prototype.applyFixed=function(){var Y=!this.fixedDiv,q=this.options.chart,V=q.scrollablePlotArea,Z=K.getRendererType();Y?(this.fixedDiv=N("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(q.style&&q.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=q=new Z(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=q.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":z(V.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),tt(this,"afterShowResetZoom",this.moveFixedElements),tt(this,"afterDrilldown",this.moveFixedElements),tt(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||Y)&&(this.scrollableDirty=!1,this.moveFixedElements()),q=this.chartWidth+(this.scrollablePixelsX||0),Z=this.chartHeight+(this.scrollablePixelsY||0),j(this.container),this.container.style.width=q+"px",this.container.style.height=Z+"px",this.renderer.boxWrapper.attr({width:q,height:Z,viewBox:[0,0,q,Z].join(" ")}),this.chartBackground.attr({width:q,height:Z}),this.scrollingContainer.style.height=this.chartHeight+"px",Y&&(V.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*V.scrollPositionX),V.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*V.scrollPositionY)),Y=this.plotTop-(Z=this.axisOffset)[0]-1,V=this.plotLeft-Z[3]-1,q=this.plotTop+this.plotHeight+Z[2]+1,Z=this.plotLeft+this.plotWidth+Z[1]+1;var et=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),rt=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);Y=this.scrollablePixelsX?[["M",0,Y],["L",this.plotLeft-1,Y],["L",this.plotLeft-1,q],["L",0,q],["Z"],["M",et,Y],["L",this.chartWidth,Y],["L",this.chartWidth,q],["L",et,q],["Z"]]:this.scrollablePixelsY?[["M",V,0],["L",V,this.plotTop-1],["L",Z,this.plotTop-1],["L",Z,0],["Z"],["M",V,rt],["L",V,this.chartHeight],["L",Z,this.chartHeight],["L",Z,rt],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:Y})},tt($,"afterInit",function(){this.chart.scrollableDirty=!0}),tt(it,"show",function(){this.chart.scrollableDirty=!0})}),ht(ct,"Core/Axis/StackingAxis.js",[ct["Core/Animation/AnimationUtilities.js"],ct["Core/Axis/Axis.js"],ct["Core/Utilities.js"]],function(D,$,X){var U,it=D.getDeferredAnimation,K=X.addEvent,W=X.destroyObjectProperties,j=X.fireEvent,tt=X.isNumber,N=X.objectEach;return function(z){function Y(){var et=this.stacking;if(et){var rt=et.stacks;N(rt,function(mt,gt){W(mt),rt[gt]=null}),et&&et.stackTotalGroup&&et.stackTotalGroup.destroy()}}function q(){this.stacking||(this.stacking=new Z(this))}var V=[];z.compose=function(et){return-1===V.indexOf(et)&&(V.push(et),K(et,"init",q),K(et,"destroy",Y)),et};var Z=function(){function et(rt){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=rt}return et.prototype.buildStacks=function(){var Dt,rt=this.axis,mt=rt.series,gt=rt.options.reversedStacks,Et=mt.length;if(!rt.isXAxis){for(this.usePercentage=!1,Dt=Et;Dt--;){var Mt=mt[gt?Dt:Et-Dt-1];Mt.setStackedPoints(),Mt.setGroupedPoints()}for(Dt=0;Dt<Et;Dt++)mt[Dt].modifyStacks();j(rt,"afterBuildStacks")}},et.prototype.cleanStacks=function(){if(!this.axis.isXAxis){if(this.oldStacks)var rt=this.stacks=this.oldStacks;N(rt,function(mt){N(mt,function(gt){gt.cumulative=gt.total})})}},et.prototype.resetStacks=function(){var rt=this;rt.axis.isXAxis||N(rt.stacks,function(gt){N(gt,function(Et,Dt){tt(Et.touched)&&Et.touched<rt.stacksTouched?(Et.destroy(),delete gt[Dt]):(Et.total=null,Et.cumulative=null)})})},et.prototype.renderStackTotals=function(){var rt=this.axis,mt=rt.chart,gt=mt.renderer,Et=this.stacks;rt=it(mt,rt.options.stackLabels&&rt.options.stackLabels.animation||!1);var Dt=this.stackTotalGroup=this.stackTotalGroup||gt.g("stack-labels").attr({visibility:"visible",zIndex:6,opacity:0}).add();Dt.translate(mt.plotLeft,mt.plotTop),N(Et,function(Mt){N(Mt,function(T){T.render(Dt)})}),Dt.animate({opacity:1},rt)},et}();z.Additions=Z}(U||(U={})),U}),ht(ct,"Extensions/Stacking.js",[ct["Core/Axis/Axis.js"],ct["Core/Chart/Chart.js"],ct["Core/FormatUtilities.js"],ct["Core/Globals.js"],ct["Core/Series/Series.js"],ct["Core/Axis/StackingAxis.js"],ct["Core/Utilities.js"]],function(D,$,X,it,K,W,j){var tt=X.format,N=j.correctFloat,U=j.defined,z=j.destroyObjectProperties,Y=j.isArray,q=j.isNumber,V=j.objectEach,Z=j.pick,et=function(){function rt(mt,gt,Et,Dt,Mt){var T=mt.chart.inverted;this.axis=mt,this.isNegative=Et,this.options=gt=gt||{},this.x=Dt,this.total=null,this.points={},this.hasValidPoints=!1,this.stack=Mt,this.rightCliff=this.leftCliff=0,this.alignOptions={align:gt.align||(T?Et?"left":"right":"center"),verticalAlign:gt.verticalAlign||(T?"middle":Et?"bottom":"top"),y:gt.y,x:gt.x},this.textAlign=gt.textAlign||(T?Et?"right":"left":"center")}return rt.prototype.destroy=function(){z(this,this.axis)},rt.prototype.render=function(mt){var gt=this.axis.chart,Et=this.options,Dt=Et.format;Dt=Dt?tt(Dt,this,gt):Et.formatter.call(this),this.label?this.label.attr({text:Dt,visibility:"hidden"}):(this.label=gt.renderer.label(Dt,null,null,Et.shape,null,null,Et.useHTML,!1,"stack-labels"),Dt={r:Et.borderRadius||0,text:Dt,rotation:Et.rotation,padding:Z(Et.padding,5),visibility:"hidden"},gt.styledMode||(Dt.fill=Et.backgroundColor,Dt.stroke=Et.borderColor,Dt["stroke-width"]=Et.borderWidth,this.label.css(Et.style)),this.label.attr(Dt),this.label.added||this.label.add(mt)),this.label.labelrank=gt.plotSizeY},rt.prototype.setOffset=function(mt,gt,Et,Dt,Mt){var T=this.axis,h=T.chart;Dt=T.translate(T.stacking.usePercentage?100:Dt||this.total,0,0,0,1),Et=T.translate(Et||0),Et=U(Dt)&&Math.abs(Dt-Et),mt=Z(Mt,h.xAxis[0].translate(this.x))+mt,T=U(Dt)&&this.getStackBox(h,this,mt,Dt,gt,Et,T),gt=this.label,Et=this.isNegative,mt="justify"===Z(this.options.overflow,"justify");var m=this.textAlign;gt&&T&&(Mt=gt.getBBox(),Dt=gt.padding,m="left"===m?h.inverted?-Dt:Dt:"right"===m?Mt.width:h.inverted&&"center"===m?Mt.width/2:h.inverted?Et?Mt.width+Dt:-Dt:Mt.width/2,Et=h.inverted?Mt.height/2:Et?-Dt:Mt.height,this.alignOptions.x=Z(this.options.x,0),this.alignOptions.y=Z(this.options.y,0),T.x-=m,T.y-=Et,gt.align(this.alignOptions,null,T),h.isInsidePlot(gt.alignAttr.x+m-this.alignOptions.x,gt.alignAttr.y+Et-this.alignOptions.y)?gt.show():(gt.alignAttr.y=-9999,mt=!1),mt&&K.prototype.justifyDataLabel.call(this.axis,gt,this.alignOptions,gt.alignAttr,Mt,T),gt.attr({x:gt.alignAttr.x,y:gt.alignAttr.y}),Z(!mt&&this.options.crop,!0)&&((h=q(gt.x)&&q(gt.y)&&h.isInsidePlot(gt.x-Dt+gt.width,gt.y)&&h.isInsidePlot(gt.x+Dt,gt.y))||gt.hide()))},rt.prototype.getStackBox=function(mt,gt,Et,Dt,Mt,T,h){var m=gt.axis.reversed,y=mt.inverted,v=h.height+h.pos-(y?mt.plotLeft:mt.plotTop);return gt=gt.isNegative&&!m||!gt.isNegative&&m,{x:y?gt?Dt-h.right:Dt-T+h.pos-mt.plotLeft:Et+mt.xAxis[0].transB-mt.plotLeft,y:y?h.height-Et-Mt:gt?v-Dt-T:v-Dt,width:y?T:Mt,height:y?Mt:T}},rt}();return $.prototype.getStacks=function(){var rt=this,mt=rt.inverted;rt.yAxis.forEach(function(gt){gt.stacking&&gt.stacking.stacks&&gt.hasVisibleSeries&&(gt.stacking.oldStacks=gt.stacking.stacks)}),rt.series.forEach(function(gt){var Et=gt.xAxis&&gt.xAxis.options||{};!gt.options.stacking||!0!==gt.visible&&!1!==rt.options.chart.ignoreHiddenSeries||(gt.stackKey=[gt.type,Z(gt.options.stack,""),mt?Et.top:Et.left,mt?Et.height:Et.width].join())})},W.compose(D),K.prototype.setGroupedPoints=function(){var rt=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?K.prototype.setStackedPoints.call(this,"group"):rt&&V(rt.stacks,function(mt,gt){"group"===gt.slice(-5)&&(V(mt,function(Et){return Et.destroy()}),delete rt.stacks[gt])})},K.prototype.setStackedPoints=function(rt){var mt=rt||this.options.stacking;if(mt&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var gt=this.processedXData,Et=this.processedYData,Dt=[],Mt=Et.length,T=this.options,h=T.threshold,m=Z(T.startFromThreshold&&h,0);T=T.stack;var C,d,y="-"+(rt=rt?this.type+","+mt:this.stackKey),v=this.negStacks,M=this.yAxis,S=M.stacking.stacks,P=M.stacking.oldStacks;for(M.stacking.stacksTouched+=1,d=0;d<Mt;d++){var k=gt[d],nt=Et[d],Q=this.getStackIndicator(Q,k,this.index),J=Q.key,xt=(C=v&&nt<(m?0:h))?y:rt;S[xt]||(S[xt]={}),S[xt][k]||(P[xt]&&P[xt][k]?(S[xt][k]=P[xt][k],S[xt][k].total=null):S[xt][k]=new et(M,M.options.stackLabels,C,k,T)),xt=S[xt][k],null!==nt?(xt.points[J]=xt.points[this.index]=[Z(xt.cumulative,m)],U(xt.cumulative)||(xt.base=J),xt.touched=M.stacking.stacksTouched,0<Q.index&&!1===this.singleStacks&&(xt.points[J][0]=xt.points[this.index+","+k+",0"][0])):xt.points[J]=xt.points[this.index]=null,"percent"===mt?(C=C?rt:y,xt.total=v&&S[C]&&S[C][k]?(C=S[C][k]).total=Math.max(C.total,xt.total)+Math.abs(nt)||0:N(xt.total+(Math.abs(nt)||0))):"group"===mt?(Y(nt)&&(nt=nt[0]),null!==nt&&(xt.total=(xt.total||0)+1)):xt.total=N(xt.total+(nt||0)),xt.cumulative="group"===mt?(xt.total||1)-1:Z(xt.cumulative,m)+(nt||0),null!==nt&&(xt.points[J].push(xt.cumulative),Dt[d]=xt.cumulative,xt.hasValidPoints=!0)}"percent"===mt&&(M.stacking.usePercentage=!0),"group"!==mt&&(this.stackedYData=Dt),M.stacking.oldStacks={}}},K.prototype.modifyStacks=function(){var Dt,rt=this,mt=rt.stackKey,gt=rt.yAxis.stacking.stacks,Et=rt.processedXData,Mt=rt.options.stacking;rt[Mt+"Stacker"]&&[mt,"-"+mt].forEach(function(T){for(var m,y,h=Et.length;h--;)Dt=rt.getStackIndicator(Dt,m=Et[h],rt.index,T),(y=(m=gt[T]&&gt[T][m])&&m.points[Dt.key])&&rt[Mt+"Stacker"](y,m,h)})},K.prototype.percentStacker=function(rt,mt,gt){rt[0]=N(rt[0]*(mt=mt.total?100/mt.total:0)),rt[1]=N(rt[1]*mt),this.stackedYData[gt]=rt[1]},K.prototype.getStackIndicator=function(rt,mt,gt,Et){return!U(rt)||rt.x!==mt||Et&&rt.key!==Et?rt={x:mt,index:0,key:Et}:rt.index++,rt.key=[gt,mt,rt.index].join(),rt},it.StackItem=et,it.StackItem}),ht(ct,"Series/Line/LineSeries.js",[ct["Core/Series/Series.js"],ct["Core/Series/SeriesRegistry.js"],ct["Core/Utilities.js"]],function(D,$,X){var j,it=this&&this.__extends||(j=function(tt,N){return(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,z){U.__proto__=z}||function(U,z){for(var Y in z)z.hasOwnProperty(Y)&&(U[Y]=z[Y])})(tt,N)},function(tt,N){function U(){this.constructor=tt}j(tt,N),tt.prototype=null===N?Object.create(N):(U.prototype=N.prototype,new U)}),K=X.defined,W=X.merge;return X=function(j){function tt(){var N=null!==j&&j.apply(this,arguments)||this;return N.data=void 0,N.options=void 0,N.points=void 0,N}return it(tt,j),tt.prototype.drawGraph=function(){var N=this,U=this.options,z=(this.gappedPath||this.getGraphPath).call(this),Y=this.chart.styledMode,q=[["graph","highcharts-graph"]];Y||q[0].push(U.lineColor||this.color||"#cccccc",U.dashStyle),(q=N.getZonesGraphs(q)).forEach(function(V,Z){var et=V[0],rt=N[et],mt=rt?"animate":"attr";rt?(rt.endX=N.preventGraphAnimation?null:z.xMap,rt.animate({d:z})):z.length&&(N[et]=rt=N.chart.renderer.path(z).addClass(V[1]).attr({zIndex:1}).add(N.group)),rt&&!Y&&(et={stroke:V[2],"stroke-width":U.lineWidth,fill:N.fillGraph&&N.color||"none"},V[3]?et.dashstyle=V[3]:"square"!==U.linecap&&(et["stroke-linecap"]=et["stroke-linejoin"]="round"),rt[mt](et).shadow(2>Z&&U.shadow)),rt&&(rt.startX=z.xMap,rt.isArea=z.isArea)})},tt.prototype.getGraphPath=function(N,U,z){var et,Y=this,q=Y.options,V=[],Z=[],rt=q.step,mt=(N=N||Y.points).reversed;return mt&&N.reverse(),(rt={right:1,center:2}[rt]||rt&&3)&&mt&&(rt=4-rt),(N=this.getValidPoints(N,!1,!(q.connectNulls&&!U&&!z))).forEach(function(gt,Et){var Dt=gt.plotX,Mt=gt.plotY,T=N[Et-1];(gt.leftCliff||T&&T.rightCliff)&&!z&&(et=!0),gt.isNull&&!K(U)&&0<Et?et=!q.connectNulls:gt.isNull&&!U?et=!0:(0===Et||et?Et=[["M",gt.plotX,gt.plotY]]:Y.getPointSpline?Et=[Y.getPointSpline(N,gt,Et)]:rt?(Et=1===rt?[["L",T.plotX,Mt]]:2===rt?[["L",(T.plotX+Dt)/2,T.plotY],["L",(T.plotX+Dt)/2,Mt]]:[["L",Dt,T.plotY]]).push(["L",Dt,Mt]):Et=[["L",Dt,Mt]],Z.push(gt.x),rt&&(Z.push(gt.x),2===rt&&Z.push(gt.x)),V.push.apply(V,Et),et=!1)}),V.xMap=Z,Y.graphPath=V},tt.prototype.getZonesGraphs=function(N){return this.zones.forEach(function(U,z){z=["zone-graph-"+z,"highcharts-graph highcharts-zone-graph-"+z+" "+(U.className||"")],this.chart.styledMode||z.push(U.color||this.color,U.dashStyle||this.options.dashStyle),N.push(z)},this),N},tt.defaultOptions=W(D.defaultOptions,{}),tt}(D),$.registerSeriesType("line",X),X}),ht(ct,"Series/Area/AreaSeries.js",[ct["Core/Color/Color.js"],ct["Core/Legend/LegendSymbol.js"],ct["Core/Series/SeriesRegistry.js"],ct["Core/Utilities.js"]],function(D,$,X,it){var z,K=this&&this.__extends||(z=function(Y,q){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,Z){V.__proto__=Z}||function(V,Z){for(var et in Z)Z.hasOwnProperty(et)&&(V[et]=Z[et])})(Y,q)},function(Y,q){function V(){this.constructor=Y}z(Y,q),Y.prototype=null===q?Object.create(q):(V.prototype=q.prototype,new V)}),W=D.parse,j=X.seriesTypes.line;D=it.extend;var tt=it.merge,N=it.objectEach,U=it.pick;return it=function(z){function Y(){var q=null!==z&&z.apply(this,arguments)||this;return q.data=void 0,q.options=void 0,q.points=void 0,q}return K(Y,z),Y.prototype.drawGraph=function(){this.areaPath=[],z.prototype.drawGraph.apply(this);var q=this,V=this.areaPath,Z=this.options,et=[["area","highcharts-area",this.color,Z.fillColor]];this.zones.forEach(function(rt,mt){et.push(["zone-area-"+mt,"highcharts-area highcharts-zone-area-"+mt+" "+rt.className,rt.color||q.color,rt.fillColor||Z.fillColor])}),et.forEach(function(rt){var mt=rt[0],gt=q[mt],Et=gt?"animate":"attr",Dt={};gt?(gt.endX=q.preventGraphAnimation?null:V.xMap,gt.animate({d:V})):(Dt.zIndex=0,(gt=q[mt]=q.chart.renderer.path(V).addClass(rt[1]).add(q.group)).isArea=!0),q.chart.styledMode||(Dt.fill=U(rt[3],W(rt[2]).setOpacity(U(Z.fillOpacity,.75)).get())),gt[Et](Dt),gt.startX=V.xMap,gt.shiftUnit=Z.step?2:1})},Y.prototype.getGraphPath=function(q){var mt,V=j.prototype.getGraphPath,Z=this.options,et=Z.stacking,rt=this.yAxis,gt=[],Et=[],Dt=this.index,Mt=rt.stacking.stacks[this.stackKey],T=Z.threshold,h=Math.round(rt.getThreshold(Z.threshold));Z=U(Z.connectNulls,"percent"===et);var m=function(S,P,C){var d=q[S];S=et&&Mt[d.x].points[Dt];var k=d[C+"Null"]||0;if(C=d[C+"Cliff"]||0,d=!0,C||k){var nt=(k?S[0]:S[1])+C,Q=S[0]+C;d=!!k}else!et&&q[P]&&q[P].isNull&&(nt=Q=T);void 0!==nt&&(Et.push({plotX:v,plotY:null===nt?h:rt.getThreshold(nt),isNull:d,isCliff:!0}),gt.push({plotX:v,plotY:null===Q?h:rt.getThreshold(Q),doCurve:!1}))};for(q=q||this.points,et&&(q=this.getStackPoints(q)),mt=0;mt<q.length;mt++){et||(q[mt].leftCliff=q[mt].rightCliff=q[mt].leftNull=q[mt].rightNull=void 0);var y=q[mt].isNull,v=U(q[mt].rectPlotX,q[mt].plotX),M=et?U(q[mt].yBottom,h):h;(!y||Z)&&(Z||m(mt,mt-1,"left"),y&&!et&&Z||(Et.push(q[mt]),gt.push({x:mt,plotX:v,plotY:M})),Z||m(mt,mt+1,"right"))}return mt=V.call(this,Et,!0,!0),gt.reversed=!0,(M=(y=V.call(this,gt,!0,!0))[0])&&"M"===M[0]&&(y[0]=["L",M[1],M[2]]),(y=mt.concat(y)).length&&y.push(["Z"]),V=V.call(this,Et,!1,Z),y.xMap=mt.xMap,this.areaPath=y,V},Y.prototype.getStackPoints=function(q){var V=this,Z=[],et=[],rt=this.xAxis,mt=this.yAxis,gt=mt.stacking.stacks[this.stackKey],Et={},Dt=mt.series,Mt=Dt.length,T=mt.options.reversedStacks?1:-1,h=Dt.indexOf(V);if(q=q||this.points,this.options.stacking){for(var m=0;m<q.length;m++)q[m].leftNull=q[m].rightNull=void 0,Et[q[m].x]=q[m];N(gt,function(v,M){null!==v.total&&et.push(M)}),et.sort(function(v,M){return v-M});var y=Dt.map(function(v){return v.visible});et.forEach(function(v,M){var P,C,S=0;if(Et[v]&&!Et[v].isNull)Z.push(Et[v]),[-1,1].forEach(function(k){var nt=1===k?"rightNull":"leftNull",Q=0,J=gt[et[M+k]];if(J)for(var xt=h;0<=xt&&xt<Mt;){var wt=Dt[xt].index;(P=J.points[wt])||(wt===V.index?Et[v][nt]=!0:y[xt]&&(C=gt[v].points[wt])&&(Q-=C[1]-C[0])),xt+=T}Et[v][1===k?"rightCliff":"leftCliff"]=Q});else{for(var d=h;0<=d&&d<Mt;){if(P=gt[v].points[Dt[d].index]){S=P[1];break}d+=T}S=U(S,0),S=mt.translate(S,0,1,0,1),Z.push({isNull:!0,plotX:rt.translate(v,0,0,0,1),x:v,plotY:S,yBottom:S})}})}return Z},Y.defaultOptions=tt(j.defaultOptions,{threshold:0}),Y}(j),D(it.prototype,{singleStacks:!1,drawLegendSymbol:$.drawRectangle}),X.registerSeriesType("area",it),it}),ht(ct,"Series/Spline/SplineSeries.js",[ct["Core/Series/SeriesRegistry.js"],ct["Core/Utilities.js"]],function(D,$){var j,X=this&&this.__extends||(j=function(tt,N){return(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,z){U.__proto__=z}||function(U,z){for(var Y in z)z.hasOwnProperty(Y)&&(U[Y]=z[Y])})(tt,N)},function(tt,N){function U(){this.constructor=tt}j(tt,N),tt.prototype=null===N?Object.create(N):(U.prototype=N.prototype,new U)}),it=D.seriesTypes.line,K=$.merge,W=$.pick;return $=function(j){function tt(){var N=null!==j&&j.apply(this,arguments)||this;return N.data=void 0,N.options=void 0,N.points=void 0,N}return X(tt,j),tt.prototype.getPointSpline=function(N,U,z){var Y=U.plotX||0,q=U.plotY||0,V=N[z-1];if(z=N[z+1],V&&!V.isNull&&!1!==V.doCurve&&!U.isCliff&&z&&!z.isNull&&!1!==z.doCurve&&!U.isCliff){var Z=z.plotX||0,et=0,rt=(1.5*Y+(V.plotX||0))/2.5,mt=(1.5*q+(N=V.plotY||0))/2.5,gt=(1.5*q+(z=z.plotY||0))/2.5;(Z=(1.5*Y+Z)/2.5)!==rt&&(et=(gt-mt)*(Z-Y)/(Z-rt)+q-gt),gt+=et,(mt+=et)>N&&mt>q?gt=2*q-(mt=Math.max(N,q)):mt<N&&mt<q&&(gt=2*q-(mt=Math.min(N,q))),gt>z&&gt>q?mt=2*q-(gt=Math.max(z,q)):gt<z&&gt<q&&(mt=2*q-(gt=Math.min(z,q))),U.rightContX=Z,U.rightContY=gt}return U=["C",W(V.rightContX,V.plotX,0),W(V.rightContY,V.plotY,0),W(rt,Y,0),W(mt,q,0),Y,q],V.rightContX=V.rightContY=void 0,U},tt.defaultOptions=K(it.defaultOptions),tt}(it),D.registerSeriesType("spline",$),$}),ht(ct,"Series/AreaSpline/AreaSplineSeries.js",[ct["Series/Area/AreaSeries.js"],ct["Series/Spline/SplineSeries.js"],ct["Core/Legend/LegendSymbol.js"],ct["Core/Series/SeriesRegistry.js"],ct["Core/Utilities.js"]],function(D,$,X,it,K){var U,W=this&&this.__extends||(U=function(z,Y){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,V){q.__proto__=V}||function(q,V){for(var Z in V)V.hasOwnProperty(Z)&&(q[Z]=V[Z])})(z,Y)},function(z,Y){function q(){this.constructor=z}U(z,Y),z.prototype=null===Y?Object.create(Y):(q.prototype=Y.prototype,new q)}),j=D.prototype,tt=K.extend,N=K.merge;return K=function(U){function z(){var Y=null!==U&&U.apply(this,arguments)||this;return Y.data=void 0,Y.points=void 0,Y.options=void 0,Y}return W(z,U),z.defaultOptions=N($.defaultOptions,D.defaultOptions),z}($),tt(K.prototype,{getGraphPath:j.getGraphPath,getStackPoints:j.getStackPoints,drawGraph:j.drawGraph,drawLegendSymbol:X.drawRectangle}),it.registerSeriesType("areaspline",K),K}),ht(ct,"Series/Column/ColumnSeries.js",[ct["Core/Animation/AnimationUtilities.js"],ct["Core/Color/Color.js"],ct["Core/Globals.js"],ct["Core/Legend/LegendSymbol.js"],ct["Core/Series/Series.js"],ct["Core/Series/SeriesRegistry.js"],ct["Core/Utilities.js"]],function(D,$,X,it,K,W,j){var Mt,tt=this&&this.__extends||(Mt=function(T,h){return(Mt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var v in y)y.hasOwnProperty(v)&&(m[v]=y[v])})(T,h)},function(T,h){function m(){this.constructor=T}Mt(T,h),T.prototype=null===h?Object.create(h):(m.prototype=h.prototype,new m)}),N=D.animObject,U=$.parse,z=X.hasTouch;D=X.noop;var Y=j.clamp,q=j.css,V=j.defined,Z=j.extend,et=j.fireEvent,rt=j.isArray,mt=j.isNumber,gt=j.merge,Et=j.pick,Dt=j.objectEach;return j=function(Mt){function T(){var h=null!==Mt&&Mt.apply(this,arguments)||this;return h.borderWidth=void 0,h.data=void 0,h.group=void 0,h.options=void 0,h.points=void 0,h}return tt(T,Mt),T.prototype.animate=function(h){var m=this,y=this.yAxis,v=m.options,M=this.chart.inverted,S={},P=M?"translateX":"translateY";if(h)S.scaleY=.001,h=Y(y.toPixels(v.threshold),y.pos,y.pos+y.len),M?S.translateX=h-y.len:S.translateY=h,m.clipBox&&m.setClip(),m.group.attr(S);else{var C=Number(m.group.attr(P));m.group.animate({scaleY:1},Z(N(m.options.animation),{step:function(d,k){m.group&&(S[P]=C+k.pos*(y.pos-C),m.group.attr(S))}}))}},T.prototype.init=function(h,m){Mt.prototype.init.apply(this,arguments);var y=this;(h=y.chart).hasRendered&&h.series.forEach(function(v){v.type===y.type&&(v.isDirty=!0)})},T.prototype.getColumnMetrics=function(){var h=this,m=h.options,y=h.xAxis,v=h.yAxis,M=y.options.reversedStacks;M=y.reversed&&!M||!y.reversed&&M;var P,S={},C=0;!1===m.grouping?C=1:h.chart.series.forEach(function(Q){var J=Q.yAxis,xt=Q.options;if(Q.type===h.type&&(Q.visible||!h.chart.options.chart.ignoreHiddenSeries)&&v.len===J.len&&v.pos===J.pos){if(xt.stacking&&"group"!==xt.stacking){void 0===S[P=Q.stackKey]&&(S[P]=C++);var wt=S[P]}else!1!==xt.grouping&&(wt=C++);Q.columnIndex=wt}});var d=Math.min(Math.abs(y.transA)*(y.ordinal&&y.ordinal.slope||m.pointRange||y.closestPointRange||y.tickInterval||1),y.len),k=d*m.groupPadding,nt=(d-2*k)/(C||1);return m=Math.min(m.maxPointWidth||y.len,Et(m.pointWidth,nt*(1-2*m.pointPadding))),h.columnMetrics={width:m,offset:(nt-m)/2+(k+((h.columnIndex||0)+(M?1:0))*nt-d/2)*(M?-1:1),paddedWidth:nt,columnCount:C},h.columnMetrics},T.prototype.crispCol=function(h,m,y,v){var M=this.chart,S=this.borderWidth,P=-(S%2?.5:0);return S=S%2?.5:1,M.inverted&&M.renderer.isVML&&(S+=1),this.options.crisp&&(y=Math.round(h+y)+P,y-=h=Math.round(h)+P),v=Math.round(m+v)+S,P=.5>=Math.abs(m)&&.5<v,v-=m=Math.round(m)+S,P&&v&&(--m,v+=1),{x:h,y:m,width:y,height:v}},T.prototype.adjustForMissingColumns=function(h,m,y,v){var M=this,S=this.options.stacking;if(!y.isNull&&1<v.columnCount){var P=0,C=0;Dt(this.yAxis.stacking&&this.yAxis.stacking.stacks,function(d){if("number"==typeof y.x&&(d=d[y.x.toString()])){var k=d.points[M.index],nt=d.total;S?(k&&(P=C),d.hasValidPoints&&C++):rt(k)&&(P=k[1],C=nt||0)}}),h=(y.plotX||0)+((C-1)*v.paddedWidth+m)/2-m-P*v.paddedWidth}return h},T.prototype.translate=function(){var h=this,m=h.chart,y=h.options,v=h.dense=2>h.closestPointRange*h.xAxis.transA;v=h.borderWidth=Et(y.borderWidth,v?0:1);var M=h.xAxis,S=h.yAxis,P=y.threshold,C=h.translatedThreshold=S.getThreshold(P),d=Et(y.minPointLength,5),k=h.getColumnMetrics(),nt=k.width,Q=h.pointXOffset=k.offset,J=h.dataMin,xt=h.dataMax,wt=h.barW=Math.max(nt,1+2*v);m.inverted&&(C-=.5),y.pointPadding&&(wt=Math.ceil(wt)),K.prototype.translate.apply(h),h.points.forEach(function(Ft){var Gt=Et(Ft.yBottom,C),It=999+Math.abs(Gt),_t=Ft.plotX||0;It=Y(Ft.plotY,-It,S.len+It);var Zt=Math.min(It,Gt),Ot=Math.max(It,Gt)-Zt,At=nt,jt=_t+Q,Kt=wt;d&&Math.abs(Ot)<d&&(Ot=d,_t=!S.reversed&&!Ft.negative||S.reversed&&Ft.negative,mt(P)&&mt(xt)&&Ft.y===P&&xt<=P&&(S.min||0)<P&&(J!==xt||(S.max||0)<=P)&&(_t=!_t),Zt=Math.abs(Zt-C)>d?Gt-d:C-(_t?d:0)),V(Ft.options.pointWidth)&&(At=Kt=Math.ceil(Ft.options.pointWidth),jt-=Math.round((At-nt)/2)),y.centerInCategory&&(jt=h.adjustForMissingColumns(jt,At,Ft,k)),Ft.barX=jt,Ft.pointWidth=At,Ft.tooltipPos=m.inverted?[Y(S.len+S.pos-m.plotLeft-It,S.pos-m.plotLeft,S.len+S.pos-m.plotLeft),M.len+M.pos-m.plotTop-jt-Kt/2,Ot]:[M.left-m.plotLeft+jt+Kt/2,Y(It+S.pos-m.plotTop,S.pos-m.plotTop,S.len+S.pos-m.plotTop),Ot],Ft.shapeType=h.pointClass.prototype.shapeType||"rect",Ft.shapeArgs=h.crispCol.apply(h,Ft.isNull?[jt,C,Kt,0]:[jt,Zt,Kt,Ot])})},T.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},T.prototype.pointAttribs=function(h,m){var y=this.options,v=this.pointAttrToOptions||{},M=v.stroke||"borderColor",S=v["stroke-width"]||"borderWidth",P=h&&h.color||this.color,C=h&&h[M]||y[M]||P;v=h&&h.options.dashStyle||y.dashStyle;var d=h&&h[S]||y[S]||this[S]||0,k=Et(h&&h.opacity,y.opacity,1);if(h&&this.zones.length){var nt=h.getZone();P=h.options.color||nt&&(nt.color||h.nonZonedColor)||this.color,nt&&(C=nt.borderColor||C,v=nt.dashStyle||v,d=nt.borderWidth||d)}return m&&h&&(m=(h=gt(y.states[m],h.options.states&&h.options.states[m]||{})).brightness,P=h.color||void 0!==m&&U(P).brighten(h.brightness).get()||P,C=h[M]||C,d=h[S]||d,v=h.dashStyle||v,k=Et(h.opacity,k)),M={fill:P,stroke:C,"stroke-width":d,opacity:k},v&&(M.dashstyle=v),M},T.prototype.drawPoints=function(){var S,h=this,m=this.chart,y=h.options,v=m.renderer,M=y.animationLimit||250;h.points.forEach(function(P){var C=P.graphic,d=!!C,k=C&&m.pointCount<M?"animate":"attr";mt(P.plotY)&&null!==P.y?(S=P.shapeArgs,C&&P.hasNewShapeType()&&(C=C.destroy()),h.enabledDataSorting&&(P.startXPos=h.xAxis.reversed?-(S&&S.width||0):h.xAxis.width),C||(P.graphic=C=v[P.shapeType](S).add(P.group||h.group))&&h.enabledDataSorting&&m.hasRendered&&m.pointCount<M&&(C.attr({x:P.startXPos}),d=!0,k="animate"),C&&d&&C[k](gt(S)),y.borderRadius&&C[k]({r:y.borderRadius}),m.styledMode||C[k](h.pointAttribs(P,P.selected&&"select")).shadow(!1!==P.allowShadow&&y.shadow,null,y.stacking&&!y.borderRadius),C&&(C.addClass(P.getClassName(),!0),C.attr({visibility:P.visible?"inherit":"hidden"}))):C&&(P.graphic=C.destroy())})},T.prototype.drawTracker=function(){var M,h=this,m=h.chart,y=m.pointer,v=function(S){var P=y.getPointFromEvent(S);void 0!==P&&(y.isDirectTouch=!0,P.onMouseOver(S))};h.points.forEach(function(S){M=rt(S.dataLabels)?S.dataLabels:S.dataLabel?[S.dataLabel]:[],S.graphic&&(S.graphic.element.point=S),M.forEach(function(P){P.div?P.div.point=S:P.element.point=S})}),h._hasTracking||(h.trackerGroups.forEach(function(S){h[S]&&(h[S].addClass("highcharts-tracker").on("mouseover",v).on("mouseout",function(P){y.onTrackerMouseOut(P)}),z&&h[S].on("touchstart",v),!m.styledMode&&h.options.cursor&&h[S].css(q).css({cursor:h.options.cursor}))}),h._hasTracking=!0),et(this,"afterDrawTracker")},T.prototype.remove=function(){var h=this,m=h.chart;m.hasRendered&&m.series.forEach(function(y){y.type===h.type&&(y.isDirty=!0)}),K.prototype.remove.apply(h,arguments)},T.defaultOptions=gt(K.defaultOptions,{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),T}(K),Z(j.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:it.drawRectangle,getSymbol:D,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),W.registerSeriesType("column",j),j}),ht(ct,"Core/Series/DataLabel.js",[ct["Core/Animation/AnimationUtilities.js"],ct["Core/FormatUtilities.js"],ct["Core/Utilities.js"]],function(D,$,X){var V,it=D.getDeferredAnimation,K=$.format,W=X.defined,j=X.extend,tt=X.fireEvent,N=X.isArray,U=X.merge,z=X.objectEach,Y=X.pick,q=X.splat;return function(Z){function et(T,h,m,y,v){var M=this,S=this.chart,P=this.isCartesian&&S.inverted,C=this.enabledDataSorting,d=Y(T.dlBox&&T.dlBox.centerX,T.plotX,-9999),k=Y(T.plotY,-9999),nt=h.getBBox(),Q=m.rotation,J=m.align,xt=S.isInsidePlot(d,Math.round(k),{inverted:P,paneCoordinates:!0,series:M}),wt=function(_t){C&&M.xAxis&&!Ft&&M.setDataLabelStartPos(T,h,v,xt,_t)},Ft="justify"===Y(m.overflow,C?"none":"justify"),Gt=this.visible&&!1!==T.visible&&(T.series.forceDL||C&&!Ft||xt||Y(m.inside,!!this.options.stacking)&&y&&S.isInsidePlot(d,P?y.x+1:y.y+y.height-1,{inverted:P,paneCoordinates:!0,series:M}));if(Gt){var It=S.renderer.fontMetrics(S.styledMode?void 0:m.style.fontSize,h).b;y=j({x:P?this.yAxis.len-k:d,y:Math.round(P?this.xAxis.len-d:k),width:0,height:0},y),j(m,{width:nt.width,height:nt.height}),Q?(Ft=!1,d=S.renderer.rotCorr(It,Q),wt(d={x:y.x+(m.x||0)+y.width/2+d.x,y:y.y+(m.y||0)+{top:0,middle:.5,bottom:1}[m.verticalAlign]*y.height}),h[v?"attr":"animate"](d).attr({align:J}),wt=180<(wt=(Q+720)%360)&&360>wt,"left"===J?d.y-=wt?nt.height:0:"center"===J?(d.x-=nt.width/2,d.y-=nt.height/2):"right"===J&&(d.x-=nt.width,d.y-=wt?0:nt.height),h.placed=!0,h.alignAttr=d):(wt(y),h.align(m,void 0,y),d=h.alignAttr),Ft&&0<=y.height?this.justifyDataLabel(h,m,d,nt,y,v):Y(m.crop,!0)&&(Gt=S.isInsidePlot(d.x,d.y,{paneCoordinates:!0,series:M})&&S.isInsidePlot(d.x+nt.width,d.y+nt.height,{paneCoordinates:!0,series:M})),m.shape&&!Q&&h[v?"attr":"animate"]({anchorX:P?S.plotWidth-T.plotY:T.plotX,anchorY:P?S.plotHeight-T.plotX:T.plotY})}v&&C&&(h.placed=!1),Gt||C&&!Ft||(h.hide(!0),h.placed=!1)}function mt(){var T=this,h=T.chart,m=T.options,y=T.points,v=T.hasRendered||0,M=h.renderer,S=m.dataLabels,C=S.animation;if(C=S.defer?it(h,C,T):{defer:0,duration:0},S=Et(Et(h.options.plotOptions&&h.options.plotOptions.series&&h.options.plotOptions.series.dataLabels,h.options.plotOptions&&h.options.plotOptions[T.type]&&h.options.plotOptions[T.type].dataLabels),S),tt(this,"drawDataLabels"),N(S)||S.enabled||T._hasPointLabels){var d=T.plotGroup("dataLabelsGroup","data-labels",v?"inherit":"hidden",S.zIndex||6);d.attr({opacity:+v}),!v&&(v=T.dataLabelsGroup)&&(T.visible&&d.show(!0),v[m.animation?"animate":"attr"]({opacity:1},C)),y.forEach(function(k){q(Et(S,k.dlOptions||k.options&&k.options.dataLabels)).forEach(function(nt,Q){var J=nt.enabled&&(!k.isNull||k.dataLabelOnNull)&&function(T,h){var m=h.filter;return!m||(h=m.operator,T=T[m.property],m=m.value,">"===h&&T>m||"<"===h&&T<m||">="===h&&T>=m||"<="===h&&T<=m||"=="===h&&T==m||"==="===h&&T===m)}(k,nt),xt=k.connectors?k.connectors[Q]:k.connector,wt=k.dataLabels?k.dataLabels[Q]:k.dataLabel,Ft=Y(nt.distance,k.labelDistance),Gt=!wt;if(J){var It=k.getLabelConfig(),_t=Y(nt[k.formatPrefix+"Format"],nt.format);It=W(_t)?K(_t,It,h):(nt[k.formatPrefix+"Formatter"]||nt.formatter).call(It,nt),_t=nt.style;var Zt=nt.rotation;h.styledMode||(_t.color=Y(nt.color,_t.color,T.color,"#000000"),"contrast"===_t.color?(k.contrastColor=M.getContrast(k.color||T.color),_t.color=!W(Ft)&&nt.inside||0>Ft||m.stacking?k.contrastColor:"#000000"):delete k.contrastColor,m.cursor&&(_t.cursor=m.cursor));var Ot={r:nt.borderRadius||0,rotation:Zt,padding:nt.padding,zIndex:1};h.styledMode||(Ot.fill=nt.backgroundColor,Ot.stroke=nt.borderColor,Ot["stroke-width"]=nt.borderWidth),z(Ot,function(At,jt){void 0===At&&delete Ot[jt]})}!wt||J&&W(It)?J&&W(It)&&(wt?Ot.text=It:(k.dataLabels=k.dataLabels||[],wt=k.dataLabels[Q]=Zt?M.text(It,0,-9999,nt.useHTML).addClass("highcharts-data-label"):M.label(It,0,-9999,nt.shape,null,null,nt.useHTML,null,"data-label"),Q||(k.dataLabel=wt),wt.addClass(" highcharts-data-label-color-"+k.colorIndex+" "+(nt.className||"")+(nt.useHTML?" highcharts-tracker":""))),wt.options=nt,wt.attr(Ot),h.styledMode||wt.css(_t).shadow(nt.shadow),wt.added||wt.add(d),nt.textPath&&!nt.useHTML&&(wt.setTextPath(k.getDataLabelPath&&k.getDataLabelPath(wt)||k.graphic,nt.textPath),k.dataLabelPath&&!nt.textPath.enabled&&(k.dataLabelPath=k.dataLabelPath.destroy())),T.alignDataLabel(k,wt,nt,null,Gt)):(k.dataLabel=k.dataLabel&&k.dataLabel.destroy(),k.dataLabels&&(1===k.dataLabels.length?delete k.dataLabels:delete k.dataLabels[Q]),Q||delete k.dataLabel,xt&&(k.connector=k.connector.destroy(),k.connectors&&(1===k.connectors.length?delete k.connectors:delete k.connectors[Q])))})})}tt(this,"afterDrawDataLabels")}function gt(T,h,m,y,v,M){var S=this.chart,P=h.align,C=h.verticalAlign,d=T.box?0:T.padding||0,k=h.x;k=void 0===k?0:k;var nt=h.y;nt=void 0===nt?0:nt;var Q=(m.x||0)+d;if(0>Q){"right"===P&&0<=k?(h.align="left",h.inside=!0):k-=Q;var J=!0}return(Q=(m.x||0)+y.width-d)>S.plotWidth&&("left"===P&&0>=k?(h.align="right",h.inside=!0):k+=S.plotWidth-Q,J=!0),0>(Q=m.y+d)&&("bottom"===C&&0<=nt?(h.verticalAlign="top",h.inside=!0):nt-=Q,J=!0),(Q=(m.y||0)+y.height-d)>S.plotHeight&&("top"===C&&0>=nt?(h.verticalAlign="bottom",h.inside=!0):nt+=S.plotHeight-Q,J=!0),J&&(h.x=k,h.y=nt,T.placed=!M,T.align(h,void 0,v)),J}function Et(T,h){var y,m=[];if(N(T)&&!N(h))m=T.map(function(v){return U(v,h)});else if(N(h)&&!N(T))m=h.map(function(v){return U(T,v)});else if(N(T)||N(h))for(y=Math.max(T.length,h.length);y--;)m[y]=U(T[y],h[y]);else m=U(T,h);return m}function Dt(T,h,m,y,v){var M=this.chart,S=M.inverted,P=this.xAxis,C=P.reversed,d=S?h.height/2:h.width/2;T=(T=T.pointWidth)?T/2:0,h.startXPos=S?v.x:C?-d-T:P.width-d+T,h.startYPos=S?C?this.yAxis.height-d+T:-d-T:v.y,y?"hidden"===h.visibility&&(h.show(),h.attr({opacity:0}).animate({opacity:1})):h.attr({opacity:1}).animate({opacity:0},void 0,h.hide),M.hasRendered&&(m&&h.attr({x:h.startXPos,y:h.startYPos}),h.placed=!0)}var Mt=[];Z.compose=function(T){if(-1===Mt.indexOf(T)){var h=T.prototype;Mt.push(T),h.alignDataLabel=et,h.drawDataLabels=mt,h.justifyDataLabel=gt,h.setDataLabelStartPos=Dt}}}(V||(V={})),V}),ht(ct,"Series/Column/ColumnDataLabel.js",[ct["Core/Series/DataLabel.js"],ct["Core/Series/SeriesRegistry.js"],ct["Core/Utilities.js"]],function(D,$,X){var j,it=$.series,K=X.merge,W=X.pick;return function(tt){function N(z,Y,q,V,Z){var et=this.chart.inverted,rt=z.series,mt=(rt.xAxis?rt.xAxis.len:this.chart.plotSizeX)||0,gt=z.dlBox||z.shapeArgs,Et=W(z.below,z.plotY>W(this.translatedThreshold,rt=(rt.yAxis?rt.yAxis.len:this.chart.plotSizeY)||0)),Dt=W(q.inside,!!this.options.stacking);gt&&(0>(V=K(gt)).y&&(V.height+=V.y,V.y=0),0<(gt=V.y+V.height-rt)&&gt<V.height&&(V.height-=gt),et&&(V={x:rt-V.y-V.height,y:mt-V.x-V.width,width:V.height,height:V.width}),Dt||(et?(V.x+=Et?0:V.width,V.width=0):(V.y+=Et?V.height:0,V.height=0))),q.align=W(q.align,!et||Dt?"center":Et?"right":"left"),q.verticalAlign=W(q.verticalAlign,et||Dt?"middle":Et?"top":"bottom"),it.prototype.alignDataLabel.call(this,z,Y,q,V,Z),q.inside&&z.contrastColor&&Y.css({color:z.contrastColor})}var U=[];tt.compose=function(z){D.compose(it),-1===U.indexOf(z)&&(U.push(z),z.prototype.alignDataLabel=N)}}(j||(j={})),j}),ht(ct,"Series/Bar/BarSeries.js",[ct["Series/Column/ColumnSeries.js"],ct["Core/Series/SeriesRegistry.js"],ct["Core/Utilities.js"]],function(D,$,X){var j,it=this&&this.__extends||(j=function(tt,N){return(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,z){U.__proto__=z}||function(U,z){for(var Y in z)z.hasOwnProperty(Y)&&(U[Y]=z[Y])})(tt,N)},function(tt,N){function U(){this.constructor=tt}j(tt,N),tt.prototype=null===N?Object.create(N):(U.prototype=N.prototype,new U)}),K=X.extend,W=X.merge;return X=function(j){function tt(){var N=null!==j&&j.apply(this,arguments)||this;return N.data=void 0,N.options=void 0,N.points=void 0,N}return it(tt,j),tt.defaultOptions=W(D.defaultOptions,{}),tt}(D),K(X.prototype,{inverted:!0}),$.registerSeriesType("bar",X),X}),ht(ct,"Series/Scatter/ScatterSeries.js",[ct["Series/Column/ColumnSeries.js"],ct["Series/Line/LineSeries.js"],ct["Core/Series/SeriesRegistry.js"],ct["Core/Utilities.js"]],function(D,$,X,it){var N,K=this&&this.__extends||(N=function(U,z){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,q){Y.__proto__=q}||function(Y,q){for(var V in q)q.hasOwnProperty(V)&&(Y[V]=q[V])})(U,z)},function(U,z){function Y(){this.constructor=U}N(U,z),U.prototype=null===z?Object.create(z):(Y.prototype=z.prototype,new Y)}),W=it.addEvent,j=it.extend,tt=it.merge;return it=function(N){function U(){var z=null!==N&&N.apply(this,arguments)||this;return z.data=void 0,z.options=void 0,z.points=void 0,z}return K(U,N),U.prototype.applyJitter=function(){var z=this,Y=this.options.jitter,q=this.points.length;Y&&this.points.forEach(function(V,Z){["x","y"].forEach(function(et,rt){var mt="plot"+et.toUpperCase();if(Y[et]&&!V.isNull){var gt=z[et+"Axis"],Et=Y[et]*gt.transA;if(gt&&!gt.isLog){var Dt=Math.max(0,V[mt]-Et);gt=Math.min(gt.len,V[mt]+Et),rt=1e4*Math.sin(Z+rt*q),V[mt]=Dt+(gt-Dt)*(rt-Math.floor(rt)),"x"===et&&(V.clientX=V.plotX)}}})})},U.prototype.drawGraph=function(){this.options.lineWidth?N.prototype.drawGraph.call(this):this.graph&&(this.graph=this.graph.destroy())},U.defaultOptions=tt($.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),U}($),j(it.prototype,{drawTracker:D.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),W(it,"afterTranslate",function(){this.applyJitter()}),X.registerSeriesType("scatter",it),it}),ht(ct,"Series/CenteredUtilities.js",[ct["Core/Globals.js"],ct["Core/Series/Series.js"],ct["Core/Utilities.js"]],function(D,$,X){var tt,N,it=D.deg2rad,K=X.isNumber,W=X.pick,j=X.relativeLength;return(N=tt||(tt={})).getCenter=function(){var U=this.options,z=this.chart,Y=2*(U.slicedOffset||0),q=z.plotWidth-2*Y,V=z.plotHeight-2*Y,Z=U.center,et=Math.min(q,V),rt=U.size,mt=U.innerSize||0;for("string"==typeof rt&&(rt=parseFloat(rt)),"string"==typeof mt&&(mt=parseFloat(mt)),U=[W(Z[0],"50%"),W(Z[1],"50%"),W(rt&&0>rt?void 0:U.size,"100%"),W(mt&&0>mt?void 0:U.innerSize||0,"0%")],!z.angular||this instanceof $||(U[3]=0),Z=0;4>Z;++Z)rt=U[Z],z=2>Z||2===Z&&/%$/.test(rt),U[Z]=j(rt,[q,V,et,U[2]][Z])+(z?Y:0);return U[3]>U[2]&&(U[3]=U[2]),U},N.getStartAndEndRadians=function(U,z){return U=K(U)?U:0,z=K(z)&&z>U&&360>z-U?z:U+360,{start:it*(U+-90),end:it*(z+-90)}},tt}),ht(ct,"Series/Pie/PiePoint.js",[ct["Core/Animation/AnimationUtilities.js"],ct["Core/Series/Point.js"],ct["Core/Utilities.js"]],function(D,$,X){var z,it=this&&this.__extends||(z=function(Y,q){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,Z){V.__proto__=Z}||function(V,Z){for(var et in Z)Z.hasOwnProperty(et)&&(V[et]=Z[et])})(Y,q)},function(Y,q){function V(){this.constructor=Y}z(Y,q),Y.prototype=null===q?Object.create(q):(V.prototype=q.prototype,new V)}),K=D.setAnimation,W=X.addEvent,j=X.defined;D=X.extend;var tt=X.isNumber,N=X.pick,U=X.relativeLength;return $=function(z){function Y(){var q=null!==z&&z.apply(this,arguments)||this;return q.labelDistance=void 0,q.options=void 0,q.series=void 0,q}return it(Y,z),Y.prototype.getConnectorPath=function(){var q=this.labelPosition,V=this.series.options.dataLabels,Z=this.connectorShapes,et=V.connectorShape;return Z[et]&&(et=Z[et]),et.call(this,{x:q.final.x,y:q.final.y,alignment:q.alignment},q.connectorPosition,V)},Y.prototype.getTranslate=function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},Y.prototype.haloPath=function(q){var V=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(V.x,V.y,V.r+q,V.r+q,{innerR:V.r-1,start:V.start,end:V.end})},Y.prototype.init=function(){var q=this;z.prototype.init.apply(this,arguments),this.name=N(this.name,"Slice");var V=function(Z){q.slice("select"===Z.type)};return W(this,"select",V),W(this,"unselect",V),this},Y.prototype.isValid=function(){return tt(this.y)&&0<=this.y},Y.prototype.setVisible=function(q,V){var Z=this,et=this.series,rt=et.chart,mt=et.options.ignoreHiddenPoint;V=N(V,mt),q!==this.visible&&(this.visible=this.options.visible=q=void 0===q?!this.visible:q,et.options.data[et.data.indexOf(this)]=this.options,["graphic","dataLabel","connector","shadowGroup"].forEach(function(gt){Z[gt]&&Z[gt][q?"show":"hide"](q)}),this.legendItem&&rt.legend.colorizeItem(this,q),q||"hover"!==this.state||this.setState(""),mt&&(et.isDirty=!0),V&&rt.redraw())},Y.prototype.slice=function(q,V,Z){var et=this.series;K(Z,et.chart),N(V,!0),this.sliced=this.options.sliced=j(q)?q:!this.sliced,et.options.data[et.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},Y}($),D($.prototype,{connectorShapes:{fixedOffset:function(z,Y,q){var V=Y.breakAt;return Y=Y.touchingSliceAt,[["M",z.x,z.y],q.softConnector?["C",z.x+("left"===z.alignment?-5:5),z.y,2*V.x-Y.x,2*V.y-Y.y,V.x,V.y]:["L",V.x,V.y],["L",Y.x,Y.y]]},straight:function(z,Y){return[["M",z.x,z.y],["L",(Y=Y.touchingSliceAt).x,Y.y]]},crookedLine:function(z,Y,q){Y=Y.touchingSliceAt;var V=this.series,Z=V.center[0],et=V.chart.plotWidth,rt=V.chart.plotLeft;V=z.alignment;var mt=this.shapeArgs.r;return q=U(q.crookDistance,1),q=["L",et="left"===V?Z+mt+(et+rt-Z-mt)*(1-q):rt+(Z-mt)*q,z.y],Z=!0,("left"===V?et>z.x||et<Y.x:et<z.x||et>Y.x)&&(Z=!1),z=[["M",z.x,z.y]],Z&&z.push(q),z.push(["L",Y.x,Y.y]),z}}}),$}),ht(ct,"Series/Pie/PieSeries.js",[ct["Series/CenteredUtilities.js"],ct["Series/Column/ColumnSeries.js"],ct["Core/Globals.js"],ct["Core/Legend/LegendSymbol.js"],ct["Series/Pie/PiePoint.js"],ct["Core/Series/Series.js"],ct["Core/Series/SeriesRegistry.js"],ct["Core/Renderer/SVG/Symbols.js"],ct["Core/Utilities.js"]],function(D,$,X,it,K,W,j,tt,N){var mt,U=this&&this.__extends||(mt=function(gt,Et){return(mt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Dt,Mt){Dt.__proto__=Mt}||function(Dt,Mt){for(var T in Mt)Mt.hasOwnProperty(T)&&(Dt[T]=Mt[T])})(gt,Et)},function(gt,Et){function Dt(){this.constructor=gt}mt(gt,Et),gt.prototype=null===Et?Object.create(Et):(Dt.prototype=Et.prototype,new Dt)}),z=D.getStartAndEndRadians;X=X.noop;var Y=N.clamp,q=N.extend,V=N.fireEvent,Z=N.merge,et=N.pick,rt=N.relativeLength;return N=function(mt){function gt(){var Et=null!==mt&&mt.apply(this,arguments)||this;return Et.center=void 0,Et.data=void 0,Et.maxLabelDistance=void 0,Et.options=void 0,Et.points=void 0,Et}return U(gt,mt),gt.prototype.animate=function(Et){var Dt=this,T=Dt.startAngleRad;Et||Dt.points.forEach(function(h){var m=h.graphic,y=h.shapeArgs;m&&y&&(m.attr({r:et(h.startR,Dt.center&&Dt.center[3]/2),start:T,end:T}),m.animate({r:y.r,start:y.start,end:y.end},Dt.options.animation))})},gt.prototype.drawEmpty=function(){var Et=this.startAngleRad,Dt=this.endAngleRad,Mt=this.options;if(0===this.total&&this.center){var T=this.center[0],h=this.center[1];this.graph||(this.graph=this.chart.renderer.arc(T,h,this.center[1]/2,0,Et,Dt).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:tt.arc(T,h,this.center[2]/2,0,{start:Et,end:Dt,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":Mt.borderWidth,fill:Mt.fillColor||"none",stroke:Mt.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())},gt.prototype.drawPoints=function(){var Et=this.chart.renderer;this.points.forEach(function(Dt){Dt.graphic&&Dt.hasNewShapeType()&&(Dt.graphic=Dt.graphic.destroy()),Dt.graphic||(Dt.graphic=Et[Dt.shapeType](Dt.shapeArgs).add(Dt.series.group),Dt.delayedRendering=!0)})},gt.prototype.generatePoints=function(){mt.prototype.generatePoints.call(this),this.updateTotals()},gt.prototype.getX=function(Et,Dt,Mt){var T=this.center,h=this.radii?this.radii[Mt.index]||0:T[2]/2;return Et=Math.asin(Y((Et-T[1])/(h+Mt.labelDistance),-1,1)),T[0]+(Dt?-1:1)*Math.cos(Et)*(h+Mt.labelDistance)+(0<Mt.labelDistance?(Dt?-1:1)*this.options.dataLabels.padding:0)},gt.prototype.hasData=function(){return!!this.processedXData.length},gt.prototype.redrawPoints=function(){var h,m,y,v,Et=this,Dt=Et.chart,Mt=Dt.renderer,T=Et.options.shadow;this.drawEmpty(),!T||Et.shadowGroup||Dt.styledMode||(Et.shadowGroup=Mt.g("shadow").attr({zIndex:-1}).add(Et.group)),Et.points.forEach(function(M){var S={};if(m=M.graphic,!M.isNull&&m){var P=void 0;v=M.shapeArgs,h=M.getTranslate(),Dt.styledMode||(P=M.shadowGroup,T&&!P&&(P=M.shadowGroup=Mt.g("shadow").add(Et.shadowGroup)),P&&P.attr(h),y=Et.pointAttribs(M,M.selected&&"select")),M.delayedRendering?(m.setRadialReference(Et.center).attr(v).attr(h),Dt.styledMode||m.attr(y).attr({"stroke-linejoin":"round"}).shadow(T,P),M.delayedRendering=!1):(m.setRadialReference(Et.center),Dt.styledMode||Z(!0,S,y),Z(!0,S,v,h),m.animate(S)),m.attr({visibility:M.visible?"inherit":"hidden"}),m.addClass(M.getClassName(),!0)}else m&&(M.graphic=m.destroy())})},gt.prototype.sortByAngle=function(Et,Dt){Et.sort(function(Mt,T){return void 0!==Mt.angle&&(T.angle-Mt.angle)*Dt})},gt.prototype.translate=function(Et){this.generatePoints();var Dt=this.options,Mt=Dt.slicedOffset,T=Mt+(Dt.borderWidth||0),h=z(Dt.startAngle,Dt.endAngle),m=this.startAngleRad=h.start;h=(this.endAngleRad=h.end)-m;var y=this.points,v=Dt.dataLabels.distance;Dt=Dt.ignoreHiddenPoint;var S,M=y.length,P=0;for(Et||(this.center=Et=this.getCenter()),S=0;S<M;S++){var C=y[S],d=m+P*h;!C.isValid()||Dt&&!C.visible||(P+=C.percentage/100);var k=m+P*h,nt={x:Et[0],y:Et[1],r:Et[2]/2,innerR:Et[3]/2,start:Math.round(1e3*d)/1e3,end:Math.round(1e3*k)/1e3};C.shapeType="arc",C.shapeArgs=nt,C.labelDistance=et(C.options.dataLabels&&C.options.dataLabels.distance,v),C.labelDistance=rt(C.labelDistance,nt.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,C.labelDistance),(k=(k+d)/2)>1.5*Math.PI?k-=2*Math.PI:k<-Math.PI/2&&(k+=2*Math.PI),C.slicedTranslation={translateX:Math.round(Math.cos(k)*Mt),translateY:Math.round(Math.sin(k)*Mt)},nt=Math.cos(k)*Et[2]/2;var Q=Math.sin(k)*Et[2]/2;C.tooltipPos=[Et[0]+.7*nt,Et[1]+.7*Q],C.half=k<-Math.PI/2||k>Math.PI/2?1:0,C.angle=k,d=Math.min(T,C.labelDistance/5),C.labelPosition={natural:{x:Et[0]+nt+Math.cos(k)*C.labelDistance,y:Et[1]+Q+Math.sin(k)*C.labelDistance},final:{},alignment:0>C.labelDistance?"center":C.half?"right":"left",connectorPosition:{breakAt:{x:Et[0]+nt+Math.cos(k)*d,y:Et[1]+Q+Math.sin(k)*d},touchingSliceAt:{x:Et[0]+nt,y:Et[1]+Q}}}}V(this,"afterTranslate")},gt.prototype.updateTotals=function(){var T,Et=this.points,Dt=Et.length,Mt=this.options.ignoreHiddenPoint,h=0;for(T=0;T<Dt;T++){var m=Et[T];!m.isValid()||Mt&&!m.visible||(h+=m.y)}for(this.total=h,T=0;T<Dt;T++)(m=Et[T]).percentage=0<h&&(m.visible||!Mt)?m.y/h*100:0,m.total=h},gt.defaultOptions=Z(W.defaultOptions,{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),gt}(W),q(N.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:it.drawRectangle,drawTracker:$.prototype.drawTracker,getCenter:D.getCenter,getSymbol:X,isCartesian:!1,noSharedTooltip:!0,pointAttribs:$.prototype.pointAttribs,pointClass:K,requireSorting:!1,searchPoint:X,trackerGroups:["group","dataLabelsGroup"]}),j.registerSeriesType("pie",N),N}),ht(ct,"Series/Pie/PieDataLabel.js",[ct["Core/Series/DataLabel.js"],ct["Core/Globals.js"],ct["Core/Renderer/RendererUtilities.js"],ct["Core/Series/SeriesRegistry.js"],ct["Core/Utilities.js"]],function(D,$,X,it,K){var Z,W=$.noop,j=X.distribute,tt=it.series,N=K.arrayMax,U=K.clamp,z=K.defined,Y=K.merge,q=K.pick,V=K.relativeLength;return function(et){function rt(){var xt,wt,Ft,Gt,It,_t,Zt,Ot,At,jt,Kt,Vt,Mt=this,T=Mt.data,h=Mt.chart,m=Mt.options.dataLabels||{},y=m.connectorPadding,v=h.plotWidth,M=h.plotHeight,S=h.plotLeft,P=Math.round(h.chartWidth/3),C=Mt.center,d=C[2]/2,k=C[1],nt=[[],[]],Q=[0,0,0,0],J=Mt.dataLabelPositioners;Mt.visible&&(m.enabled||Mt._hasPointLabels)&&(T.forEach(function(Ce){Ce.dataLabel&&Ce.visible&&Ce.dataLabel.shortened&&(Ce.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),Ce.dataLabel.shortened=!1)}),tt.prototype.drawDataLabels.apply(Mt),T.forEach(function(Ce){Ce.dataLabel&&(Ce.visible?(nt[Ce.half].push(Ce),Ce.dataLabel._pos=null,!z(m.style.width)&&!z(Ce.options.dataLabels&&Ce.options.dataLabels.style&&Ce.options.dataLabels.style.width)&&Ce.dataLabel.getBBox().width>P&&(Ce.dataLabel.css({width:Math.round(.7*P)+"px"}),Ce.dataLabel.shortened=!0)):(Ce.dataLabel=Ce.dataLabel.destroy(),Ce.dataLabels&&1===Ce.dataLabels.length&&delete Ce.dataLabels))}),nt.forEach(function(Ce,Ht){var we,ge=Ce.length,yi=[];if(ge){if(Mt.sortByAngle(Ce,Ht-.5),0<Mt.maxLabelDistance){var de=Math.max(0,k-d-Mt.maxLabelDistance),Fe=Math.min(k+d+Mt.maxLabelDistance,h.plotHeight);Ce.forEach(function(Yt){0<Yt.labelDistance&&Yt.dataLabel&&(Yt.top=Math.max(0,k-d-Yt.labelDistance),Yt.bottom=Math.min(k+d+Yt.labelDistance,h.plotHeight),we=Yt.dataLabel.getBBox().height||21,Yt.distributeBox={target:Yt.labelPosition.natural.y-Yt.top+we/2,size:we,rank:Yt.y},yi.push(Yt.distributeBox))}),j(yi,de=Fe+we-de,de/5)}for(Kt=0;Kt<ge;Kt++){if(Gt=(xt=Ce[Kt]).dataLabel,jt=!1===xt.visible?"hidden":"inherit",At=de=(_t=xt.labelPosition).natural.y,yi&&z(xt.distributeBox)&&(void 0===xt.distributeBox.pos?jt="hidden":(Zt=xt.distributeBox.size,At=J.radialDistributionY(xt))),delete xt.positionIndex,m.justify)Ot=J.justify(xt,d,C);else switch(m.alignTo){case"connectors":Ot=J.alignToConnectors(Ce,Ht,v,S);break;case"plotEdges":Ot=J.alignToPlotEdges(Gt,Ht,v,S);break;default:Ot=J.radialDistributionX(Mt,xt,At,de)}Gt._attr={visibility:jt,align:_t.alignment},Gt._pos={x:Ot+q((Vt=xt.options.dataLabels||{}).x,m.x)+({left:y,right:-y}[_t.alignment]||0),y:At+q(Vt.y,m.y)-10},_t.final.x=Ot,_t.final.y=At,q(m.crop,!0)&&(It=Gt.getBBox().width,de=null,Ot-It<y&&1===Ht?(de=Math.round(It-Ot+y),Q[3]=Math.max(de,Q[3])):Ot+It>v-y&&0===Ht&&(de=Math.round(Ot+It-v+y),Q[1]=Math.max(de,Q[1])),0>At-Zt/2?Q[0]=Math.max(Math.round(Zt/2-At),Q[0]):At+Zt/2>M&&(Q[2]=Math.max(Math.round(At+Zt/2-M),Q[2])),Gt.sideOverflow=de)}}}),0===N(Q)||this.verifyDataLabelOverflow(Q))&&(this.placeDataLabels(),this.points.forEach(function(Ce){var Ht;Vt=Y(m,Ce.options.dataLabels),(wt=q(Vt.connectorWidth,1))&&(Ft=Ce.connector,(Gt=Ce.dataLabel)&&Gt._pos&&Ce.visible&&0<Ce.labelDistance?(jt=Gt._attr.visibility,(Ht=!Ft)&&(Ce.connector=Ft=h.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+Ce.colorIndex+(Ce.className?" "+Ce.className:"")).add(Mt.dataLabelsGroup),h.styledMode||Ft.attr({"stroke-width":wt,stroke:Vt.connectorColor||Ce.color||"#666666"})),Ft[Ht?"attr":"animate"]({d:Ce.getConnectorPath()}),Ft.attr("visibility",jt)):Ft&&(Ce.connector=Ft.destroy()))}))}function mt(){this.points.forEach(function(Mt){var h,T=Mt.dataLabel;T&&Mt.visible&&((h=T._pos)?(T.sideOverflow&&(T._attr.width=Math.max(T.getBBox().width-T.sideOverflow,0),T.css({width:T._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),T.shortened=!0),T.attr(T._attr),T[T.moved?"animate":"attr"](h),T.moved=!0):T&&T.attr({y:-9999})),delete Mt.distributeBox},this)}function gt(Mt){var T=this.center,h=this.options,m=h.center,y=h.minSize||80,v=null!==h.size;if(!v){if(null!==m[0])var M=Math.max(T[2]-Math.max(Mt[1],Mt[3]),y);else M=Math.max(T[2]-Mt[1]-Mt[3],y),T[0]+=(Mt[3]-Mt[1])/2;null!==m[1]?M=U(M,y,T[2]-Math.max(Mt[0],Mt[2])):(M=U(M,y,T[2]-Mt[0]-Mt[2]),T[1]+=(Mt[0]-Mt[2])/2),M<T[2]?(T[2]=M,T[3]=Math.min(V(h.innerSize||0,M),M),this.translate(T),this.drawDataLabels&&this.drawDataLabels()):v=!0}return v}var Et=[],Dt={radialDistributionY:function(Mt){return Mt.top+Mt.distributeBox.pos},radialDistributionX:function(Mt,T,h,m){return Mt.getX(h<T.top+2||h>T.bottom-2?m:h,T.half,T)},justify:function(Mt,T,h){return h[0]+(Mt.half?-1:1)*(T+Mt.labelDistance)},alignToPlotEdges:function(Mt,T,h,m){return Mt=Mt.getBBox().width,T?Mt+m:h-Mt-m},alignToConnectors:function(Mt,T,h,m){var v,y=0;return Mt.forEach(function(M){(v=M.dataLabel.getBBox().width)>y&&(y=v)}),T?y+m:h-y-m}};et.compose=function(Mt){D.compose(tt),-1===Et.indexOf(Mt)&&(Et.push(Mt),(Mt=Mt.prototype).dataLabelPositioners=Dt,Mt.alignDataLabel=W,Mt.drawDataLabels=rt,Mt.placeDataLabels=mt,Mt.verifyDataLabelOverflow=gt)}}(Z||(Z={})),Z}),ht(ct,"Extensions/OverlappingDataLabels.js",[ct["Core/Chart/Chart.js"],ct["Core/Utilities.js"]],function(D,$){function X(U,z){var Y=!1;if(U){var q=U.newOpacity;U.oldOpacity!==q&&(U.alignAttr&&U.placed?(U[q?"removeClass":"addClass"]("highcharts-data-label-hidden"),Y=!0,U.alignAttr.opacity=q,U[U.isOld?"animate":"attr"](U.alignAttr,null,function(){z.styledMode||U.css({pointerEvents:q?"auto":"none"})}),K(z,"afterHideOverlappingLabel")):U.attr({opacity:q})),U.isOld=!0}return Y}var K=$.fireEvent,W=$.isArray,j=$.isNumber,tt=$.objectEach,N=$.pick;(0,$.addEvent)(D,"render",function(){var U=this,z=[];(this.labelCollectors||[]).forEach(function(Y){z=z.concat(Y())}),(this.yAxis||[]).forEach(function(Y){Y.stacking&&Y.options.stackLabels&&!Y.options.stackLabels.allowOverlap&&tt(Y.stacking.stacks,function(q){tt(q,function(V){V.label&&"hidden"!==V.label.visibility&&z.push(V.label)})})}),(this.series||[]).forEach(function(Y){var q=Y.options.dataLabels;Y.visible&&(!1!==q.enabled||Y._hasPointLabels)&&((q=function(V){return V.forEach(function(Z){Z.visible&&(W(Z.dataLabels)?Z.dataLabels:Z.dataLabel?[Z.dataLabel]:[]).forEach(function(et){var rt=et.options;et.labelrank=N(rt.labelrank,Z.labelrank,Z.shapeArgs&&Z.shapeArgs.height),rt.allowOverlap?(et.oldOpacity=et.opacity,et.newOpacity=1,X(et,U)):z.push(et)})})})(Y.nodes||[]),q(Y.points))}),this.hideOverlappingLabels(z)}),D.prototype.hideOverlappingLabels=function(U){var V,Z,et,z=this,Y=U.length,q=z.renderer,rt=!1,mt=function(Dt){var Mt,m,T=Dt.box?0:Dt.padding||0,h=Mt=0;if(Dt&&(!Dt.alignAttr||Dt.placed)){var y=Dt.alignAttr||{x:Dt.attr("x"),y:Dt.attr("y")},v=Dt.parentGroup;return Dt.width||(Mt=Dt.getBBox(),Dt.width=Mt.width,Dt.height=Mt.height,Mt=q.fontMetrics(null,Dt.element).h),(m={left:"0",center:"0.5",right:"1"}[Dt.alignValue])?h=+m*(Dt.width-2*T):j(Dt.x)&&Math.round(Dt.x)!==Dt.translateX&&(h=Dt.x-Dt.translateX),{x:y.x+(v.translateX||0)+T-(h||0),y:y.y+(v.translateY||0)+T-Mt,width:Dt.width-2*T,height:Dt.height-2*T}}};for(Z=0;Z<Y;Z++)(V=U[Z])&&(V.oldOpacity=V.opacity,V.newOpacity=1,V.absoluteBox=mt(V));for(U.sort(function(Dt,Mt){return(Mt.labelrank||0)-(Dt.labelrank||0)}),Z=0;Z<Y;Z++){var gt=(mt=U[Z])&&mt.absoluteBox;for(V=Z+1;V<Y;++V){var Et=(et=U[V])&&et.absoluteBox;!gt||!Et||mt===et||0===mt.newOpacity||0===et.newOpacity||Et.x>=gt.x+gt.width||Et.x+Et.width<=gt.x||Et.y>=gt.y+gt.height||Et.y+Et.height<=gt.y||((mt.labelrank<et.labelrank?mt:et).newOpacity=0)}}U.forEach(function(Dt){X(Dt,z)&&(rt=!0)}),rt&&K(z,"afterHideAllOverlappingLabels")}}),ht(ct,"Core/Responsive.js",[ct["Core/Utilities.js"]],function(D){var z,$=D.extend,X=D.find,it=D.isArray,K=D.isObject,W=D.merge,j=D.objectEach,tt=D.pick,N=D.splat,U=D.uniqueKey;return function(Y){var q=[];Y.compose=function(Z){return-1===q.indexOf(Z)&&(q.push(Z),$(Z.prototype,V.prototype)),Z};var V=function(){function Z(){}return Z.prototype.currentOptions=function(et){var mt=this,gt={};return function rt(Et,Dt,Mt,T){var h;j(Et,function(m,y){if(!T&&-1<mt.collectionsWithUpdate.indexOf(y)&&Dt[y])for(m=N(m),Mt[y]=[],h=0;h<Math.max(m.length,Dt[y].length);h++)Dt[y][h]&&(void 0===m[h]?Mt[y][h]=Dt[y][h]:(Mt[y][h]={},rt(m[h],Dt[y][h],Mt[y][h],T+1)));else K(m)?(Mt[y]=it(m)?[]:{},rt(m,Dt[y]||{},Mt[y],T+1)):Mt[y]=void 0===Dt[y]?null:Dt[y]})}(et,this.options,gt,0),gt},Z.prototype.matchResponsiveRule=function(et,rt){var mt=et.condition;(mt.callback||function(){return this.chartWidth<=tt(mt.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=tt(mt.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=tt(mt.minWidth,0)&&this.chartHeight>=tt(mt.minHeight,0)}).call(this)&&rt.push(et._id)},Z.prototype.setResponsive=function(et,rt){var mt=this,gt=this.options.responsive,Et=this.currentResponsive,Dt=[];!rt&&gt&&gt.rules&&gt.rules.forEach(function(Mt){void 0===Mt._id&&(Mt._id=U()),mt.matchResponsiveRule(Mt,Dt)},this),(rt=W.apply(void 0,Dt.map(function(Mt){return X((gt||{}).rules||[],function(T){return T._id===Mt})}).map(function(Mt){return Mt&&Mt.chartOptions}))).isResponsiveOptions=!0,(Dt=Dt.toString()||void 0)!==(Et&&Et.ruleIds)&&(Et&&this.update(Et.undoOptions,et,!0),Dt?((Et=this.currentOptions(rt)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:Dt,mergedOptions:rt,undoOptions:Et},this.update(rt,et,!0)):this.currentResponsive=void 0)},Z}()}(z||(z={})),z}),ht(ct,"masters/highcharts.src.js",[ct["Core/Globals.js"],ct["Core/Utilities.js"],ct["Core/DefaultOptions.js"],ct["Core/Animation/Fx.js"],ct["Core/Animation/AnimationUtilities.js"],ct["Core/Renderer/HTML/AST.js"],ct["Core/FormatUtilities.js"],ct["Core/Renderer/RendererUtilities.js"],ct["Core/Renderer/SVG/SVGElement.js"],ct["Core/Renderer/SVG/SVGRenderer.js"],ct["Core/Renderer/HTML/HTMLElement.js"],ct["Core/Renderer/HTML/HTMLRenderer.js"],ct["Core/Axis/Axis.js"],ct["Core/Axis/DateTimeAxis.js"],ct["Core/Axis/LogarithmicAxis.js"],ct["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],ct["Core/Axis/Tick.js"],ct["Core/Tooltip.js"],ct["Core/Series/Point.js"],ct["Core/Pointer.js"],ct["Core/MSPointer.js"],ct["Core/Legend/Legend.js"],ct["Core/Chart/Chart.js"],ct["Core/Series/Series.js"],ct["Core/Series/SeriesRegistry.js"],ct["Series/Column/ColumnSeries.js"],ct["Series/Column/ColumnDataLabel.js"],ct["Series/Pie/PieSeries.js"],ct["Series/Pie/PieDataLabel.js"],ct["Core/Series/DataLabel.js"],ct["Core/Responsive.js"],ct["Core/Color/Color.js"],ct["Core/Time.js"]],function(D,$,X,it,K,W,j,tt,N,U,z,Y,q,V,Z,et,rt,mt,gt,Et,Dt,Mt,T,h,m,y,v,M,S,P,C,d,k){return D.animate=K.animate,D.animObject=K.animObject,D.getDeferredAnimation=K.getDeferredAnimation,D.setAnimation=K.setAnimation,D.stop=K.stop,D.timers=it.timers,D.AST=W,D.Axis=q,D.Chart=T,D.chart=T.chart,D.Fx=it,D.Legend=Mt,D.PlotLineOrBand=et,D.Point=gt,D.Pointer=Dt.isRequired()?Dt:Et,D.Series=h,D.SVGElement=N,D.SVGRenderer=U,D.Tick=rt,D.Time=k,D.Tooltip=mt,D.Color=d,D.color=d.parse,Y.compose(U),z.compose(N),D.defaultOptions=X.defaultOptions,D.getOptions=X.getOptions,D.time=X.defaultTime,D.setOptions=X.setOptions,D.dateFormat=j.dateFormat,D.format=j.format,D.numberFormat=j.numberFormat,D.addEvent=$.addEvent,D.arrayMax=$.arrayMax,D.arrayMin=$.arrayMin,D.attr=$.attr,D.clearTimeout=$.clearTimeout,D.correctFloat=$.correctFloat,D.createElement=$.createElement,D.css=$.css,D.defined=$.defined,D.destroyObjectProperties=$.destroyObjectProperties,D.discardElement=$.discardElement,D.distribute=tt.distribute,D.erase=$.erase,D.error=$.error,D.extend=$.extend,D.extendClass=$.extendClass,D.find=$.find,D.fireEvent=$.fireEvent,D.getMagnitude=$.getMagnitude,D.getStyle=$.getStyle,D.inArray=$.inArray,D.isArray=$.isArray,D.isClass=$.isClass,D.isDOMElement=$.isDOMElement,D.isFunction=$.isFunction,D.isNumber=$.isNumber,D.isObject=$.isObject,D.isString=$.isString,D.keys=$.keys,D.merge=$.merge,D.normalizeTickInterval=$.normalizeTickInterval,D.objectEach=$.objectEach,D.offset=$.offset,D.pad=$.pad,D.pick=$.pick,D.pInt=$.pInt,D.relativeLength=$.relativeLength,D.removeEvent=$.removeEvent,D.seriesType=m.seriesType,D.splat=$.splat,D.stableSort=$.stableSort,D.syncTimeout=$.syncTimeout,D.timeUnits=$.timeUnits,D.uniqueKey=$.uniqueKey,D.useSerialIds=$.useSerialIds,D.wrap=$.wrap,v.compose(y),P.compose(h),V.compose(q),Z.compose(q),S.compose(M),et.compose(q),C.compose(T),D}),ct["masters/highcharts.src.js"]._modules=ct,ct["masters/highcharts.src.js"]},fe.exports?(ht.default=ht,fe.exports=Pt.document?ht(Pt):ht):void 0!==(Tt=function(){return ht(Pt)}.call(ot,kt,ot,fe))&&(fe.exports=Tt)},742:(fe,ot,kt)=>{"use strict";var Tt,Pt,ht;ht=function(ht){function ct(D,$,X,it){D.hasOwnProperty($)||(D[$]=it.apply(null,X))}ct(ht=ht?ht._modules:{},"Series/NodesComposition.js",[ht["Core/Series/Point.js"],ht["Core/Series/Series.js"],ht["Core/Utilities.js"]],function(D,$,X){var tt,it=X.defined,K=X.extend,W=X.find,j=X.pick;return function(N){function U(){return this.data=[].concat(this.points||[],this.nodes),$.prototype.destroy.apply(this,arguments)}function z(){this.nodes&&(this.nodes.forEach(function(V){V.destroy()}),this.nodes.length=0),$.prototype.setData.apply(this,arguments)}function Y(V){var Z=arguments,et=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];"select"!==V&&et.forEach(function(rt){rt&&rt.series&&(D.prototype.setState.apply(rt,Z),rt.isNode||(rt.fromNode.graphic&&D.prototype.setState.apply(rt.fromNode,Z),rt.toNode&&rt.toNode.graphic&&D.prototype.setState.apply(rt.toNode,Z)))}),D.prototype.setState.apply(this,Z)}var q=[];N.compose=function(V,Z){return-1===q.indexOf(V)&&(q.push(V),(V=V.prototype).setNodeState=Y,V.setState=Y),-1===q.indexOf(Z)&&(q.push(Z),(V=Z.prototype).destroy=U,V.setData=z),Z},N.createNode=function(V){var Z=this.pointClass,et=function(mt,gt){return W(mt,function(Et){return Et.id===gt})},rt=et(this.nodes,V);return rt||(et=this.options.nodes&&et(this.options.nodes,V),(rt=(new Z).init(this,K({className:"highcharts-node",isNode:!0,id:V,y:1},et))).linksTo=[],rt.linksFrom=[],rt.formatPrefix="node",rt.name=rt.name||rt.options.id||"",rt.mass=j(rt.options.mass,rt.options.marker&&rt.options.marker.radius,this.options.marker&&this.options.marker.radius,4),rt.getSum=function(){var mt=0,gt=0;return rt.linksTo.forEach(function(Et){mt+=Et.weight}),rt.linksFrom.forEach(function(Et){gt+=Et.weight}),Math.max(mt,gt)},rt.offset=function(mt,gt){for(var Et=0,Dt=0;Dt<rt[gt].length;Dt++){if(rt[gt][Dt]===mt)return Et;Et+=rt[gt][Dt].weight}},rt.hasShape=function(){var mt=0;return rt.linksTo.forEach(function(gt){gt.outgoing&&mt++}),!rt.linksTo.length||mt!==rt.linksTo.length},this.nodes.push(rt)),rt},N.destroy=U,N.generatePoints=function(){var V=this.chart,Z={};$.prototype.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(function(et){et.linksFrom.length=0,et.linksTo.length=0,et.level=et.options.level}),this.points.forEach(function(et){it(et.from)&&(Z[et.from]||(Z[et.from]=this.createNode(et.from)),Z[et.from].linksFrom.push(et),et.fromNode=Z[et.from],V.styledMode?et.colorIndex=j(et.options.colorIndex,Z[et.from].colorIndex):et.color=et.options.color||Z[et.from].color),it(et.to)&&(Z[et.to]||(Z[et.to]=this.createNode(et.to)),Z[et.to].linksTo.push(et),et.toNode=Z[et.to]),et.name=et.name||et.id},this),this.nodeLookup=Z},N.setNodeState=Y}(tt||(tt={})),tt}),ct(ht,"Series/Networkgraph/Integrations.js",[ht["Core/Globals.js"]],function(D){D.networkgraphIntegrations={verlet:{attractiveForceFunction:function($,X){return(X-$)/$},repulsiveForceFunction:function($,X){return(X-$)/$*(X>$?1:0)},barycenter:function(){var $=this.options.gravitationalConstant,X=this.barycenter.xFactor,it=this.barycenter.yFactor;X=(X-(this.box.left+this.box.width)/2)*$,it=(it-(this.box.top+this.box.height)/2)*$,this.nodes.forEach(function(K){K.fixedPosition||(K.plotX-=X/K.mass/K.degree,K.plotY-=it/K.mass/K.degree)})},repulsive:function($,X,it){X=X*this.diffTemperature/$.mass/$.degree,$.fixedPosition||($.plotX+=it.x*X,$.plotY+=it.y*X)},attractive:function($,X,it){var K=$.getMass(),W=-it.x*X*this.diffTemperature;X=-it.y*X*this.diffTemperature,$.fromNode.fixedPosition||($.fromNode.plotX-=W*K.fromNode/$.fromNode.degree,$.fromNode.plotY-=X*K.fromNode/$.fromNode.degree),$.toNode.fixedPosition||($.toNode.plotX+=W*K.toNode/$.toNode.degree,$.toNode.plotY+=X*K.toNode/$.toNode.degree)},integrate:function($,X){var it=-$.options.friction,K=$.options.maxSpeed,W=(X.plotX+X.dispX-X.prevX)*it;it*=X.plotY+X.dispY-X.prevY;var j=Math.abs,tt=j(W)/(W||1);j=j(it)/(it||1),W=tt*Math.min(K,Math.abs(W)),it=j*Math.min(K,Math.abs(it)),X.prevX=X.plotX+X.dispX,X.prevY=X.plotY+X.dispY,X.plotX+=W,X.plotY+=it,X.temperature=$.vectorLength({x:W,y:it})},getK:function($){return Math.pow($.box.width*$.box.height/$.nodes.length,.5)}},euler:{attractiveForceFunction:function($,X){return $*$/X},repulsiveForceFunction:function($,X){return X*X/$},barycenter:function(){var $=this.options.gravitationalConstant,X=this.barycenter.xFactor,it=this.barycenter.yFactor;this.nodes.forEach(function(K){if(!K.fixedPosition){var W=K.getDegree();K.dispX+=(X-K.plotX)*$*(W*=1+W/2)/K.degree,K.dispY+=(it-K.plotY)*$*W/K.degree}})},repulsive:function($,X,it,K){$.dispX+=it.x/K*X/$.degree,$.dispY+=it.y/K*X/$.degree},attractive:function($,X,it,K){var W=$.getMass(),j=it.x/K*X;X*=it.y/K,$.fromNode.fixedPosition||($.fromNode.dispX-=j*W.fromNode/$.fromNode.degree,$.fromNode.dispY-=X*W.fromNode/$.fromNode.degree),$.toNode.fixedPosition||($.toNode.dispX+=j*W.toNode/$.toNode.degree,$.toNode.dispY+=X*W.toNode/$.toNode.degree)},integrate:function($,X){X.dispX+=X.dispX*$.options.friction,X.dispY+=X.dispY*$.options.friction;var it=X.temperature=$.vectorLength({x:X.dispX,y:X.dispY});0!==it&&(X.plotX+=X.dispX/it*Math.min(Math.abs(X.dispX),$.temperature),X.plotY+=X.dispY/it*Math.min(Math.abs(X.dispY),$.temperature))},getK:function($){return Math.pow($.box.width*$.box.height/$.nodes.length,.3)}}}}),ct(ht,"Series/Networkgraph/QuadTree.js",[ht["Core/Globals.js"],ht["Core/Utilities.js"]],function(D,$){$=$.extend;var X=D.QuadTreeNode=function(it){this.box=it,this.boxSize=Math.min(it.width,it.height),this.nodes=[],this.body=this.isInternal=!1,this.isEmpty=!0};$(X.prototype,{insert:function(it,K){this.isInternal?this.nodes[this.getBoxPosition(it)].insert(it,K-1):(this.isEmpty=!1,this.body?K?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,K-1),this.body=!0),this.nodes[this.getBoxPosition(it)].insert(it,K-1)):((K=new X({top:it.plotX,left:it.plotY,width:.1,height:.1})).body=it,K.isInternal=!1,this.nodes.push(K)):(this.isInternal=!1,this.body=it))},updateMassAndCenter:function(){var it=0,K=0,W=0;this.isInternal?(this.nodes.forEach(function(j){j.isEmpty||(it+=j.mass,K+=j.plotX*j.mass,W+=j.plotY*j.mass)}),K/=it,W/=it):this.body&&(it=this.body.mass,K=this.body.plotX,W=this.body.plotY),this.mass=it,this.plotX=K,this.plotY=W},divideBox:function(){var it=this.box.width/2,K=this.box.height/2;this.nodes[0]=new X({left:this.box.left,top:this.box.top,width:it,height:K}),this.nodes[1]=new X({left:this.box.left+it,top:this.box.top,width:it,height:K}),this.nodes[2]=new X({left:this.box.left+it,top:this.box.top+K,width:it,height:K}),this.nodes[3]=new X({left:this.box.left,top:this.box.top+K,width:it,height:K})},getBoxPosition:function(it){var K=it.plotY<this.box.top+this.box.height/2;return it.plotX<this.box.left+this.box.width/2?K?0:3:K?1:2}}),$((D=D.QuadTree=function(it,K,W,j){this.box={left:it,top:K,width:W,height:j},this.maxDepth=25,this.root=new X(this.box,"0"),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}).prototype,{insertNodes:function(it){it.forEach(function(K){this.root.insert(K,this.maxDepth)},this)},visitNodeRecursive:function(it,K,W){var j;it||(it=this.root),it===this.root&&K&&(j=K(it)),!1!==j&&(it.nodes.forEach(function(tt){if(tt.isInternal){if(K&&(j=K(tt)),!1===j)return;this.visitNodeRecursive(tt,K,W)}else tt.body&&K&&K(tt.body);W&&W(tt)},this),it===this.root&&W&&W(it))},calculateMassAndCenter:function(){this.visitNodeRecursive(null,null,function(it){it.updateMassAndCenter()})}})}),ct(ht,"Series/Networkgraph/Layouts.js",[ht["Core/Chart/Chart.js"],ht["Core/Animation/AnimationUtilities.js"],ht["Core/Globals.js"],ht["Core/Utilities.js"]],function(D,$,X,it){var K=$.setAnimation;$=it.addEvent;var W=it.clamp,j=it.defined,tt=it.extend,N=it.isFunction,U=it.pick;X.layouts={"reingold-fruchterman":function(){}},tt(X.layouts["reingold-fruchterman"].prototype,{init:function(z){this.options=z,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=X.networkgraphIntegrations[z.integration],this.enableSimulation=z.enableSimulation,this.attractiveForce=U(z.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=U(z.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=z.approximation},updateSimulation:function(z){this.enableSimulation=U(z,this.options.enableSimulation)},start:function(){var z=this.series,Y=this.options;this.currentStep=0,this.forces=z[0]&&z[0].forces||[],this.chart=z[0]&&z[0].chart,this.initialRendering&&(this.initPositions(),z.forEach(function(q){q.finishedAnimating=!0,q.render()})),this.setK(),this.resetSimulation(Y),this.enableSimulation&&this.step()},step:function(){var z=this,Y=this.series;z.currentStep++,"barnes-hut"===z.approximation&&(z.createQuadTree(),z.quadTree.calculateMassAndCenter()),z.forces.forEach(function(q){z[q+"Forces"](z.temperature)}),z.applyLimits(z.temperature),z.temperature=z.coolDown(z.startTemperature,z.diffTemperature,z.currentStep),z.prevSystemTemperature=z.systemTemperature,z.systemTemperature=z.getSystemTemperature(),z.enableSimulation&&(Y.forEach(function(q){q.chart&&q.render()}),z.maxIterations--&&isFinite(z.temperature)&&!z.isStable()?(z.simulation&&X.win.cancelAnimationFrame(z.simulation),z.simulation=X.win.requestAnimationFrame(function(){z.step()})):z.simulation=!1)},stop:function(){this.simulation&&X.win.cancelAnimationFrame(this.simulation)},setArea:function(z,Y,q,V){this.box={left:z,top:Y,width:q,height:V}},setK:function(){this.k=this.options.linkLength||this.integration.getK(this)},addElementsToCollection:function(z,Y){z.forEach(function(q){-1===Y.indexOf(q)&&Y.push(q)})},removeElementFromCollection:function(z,Y){-1!==(z=Y.indexOf(z))&&Y.splice(z,1)},clear:function(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()},resetSimulation:function(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()},restartSimulation:function(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))},setMaxIterations:function(z){this.maxIterations=U(z,this.options.maxIterations)},setTemperature:function(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)},setDiffTemperature:function(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)},setInitialRendering:function(z){this.initialRendering=z},createQuadTree:function(){this.quadTree=new X.QuadTree(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)},initPositions:function(){var z=this.options.initialPositions;N(z)?(z.call(this),this.nodes.forEach(function(Y){j(Y.prevX)||(Y.prevX=Y.plotX),j(Y.prevY)||(Y.prevY=Y.plotY),Y.dispX=0,Y.dispY=0})):"circle"===z?this.setCircularPositions():this.setRandomPositions()},setCircularPositions:function(){function z(gt){gt.linksFrom.forEach(function(Et){rt[Et.toNode.id]||(rt[Et.toNode.id]=!0,et.push(Et.toNode),z(Et.toNode))})}var Y=this.box,q=this.nodes,V=2*Math.PI/(q.length+1),Z=q.filter(function(gt){return 0===gt.linksTo.length}),et=[],rt={},mt=this.options.initialPositionRadius;Z.forEach(function(gt){et.push(gt),z(gt)}),et.length?q.forEach(function(gt){-1===et.indexOf(gt)&&et.push(gt)}):et=q,et.forEach(function(gt,Et){gt.plotX=gt.prevX=U(gt.plotX,Y.width/2+mt*Math.cos(Et*V)),gt.plotY=gt.prevY=U(gt.plotY,Y.height/2+mt*Math.sin(Et*V)),gt.dispX=0,gt.dispY=0})},setRandomPositions:function(){function z(Z){return(Z=Z*Z/Math.PI)-Math.floor(Z)}var Y=this.box,q=this.nodes,V=q.length+1;q.forEach(function(Z,et){Z.plotX=Z.prevX=U(Z.plotX,Y.width*z(et)),Z.plotY=Z.prevY=U(Z.plotY,Y.height*z(V+et)),Z.dispX=0,Z.dispY=0})},force:function(z){this.integration[z].apply(this,Array.prototype.slice.call(arguments,1))},barycenterForces:function(){this.getBarycenter(),this.force("barycenter")},getBarycenter:function(){var z=0,Y=0,q=0;return this.nodes.forEach(function(V){Y+=V.plotX*V.mass,q+=V.plotY*V.mass,z+=V.mass}),this.barycenter={x:Y,y:q,xFactor:Y/z,yFactor:q/z}},barnesHutApproximation:function(z,Y){var q=this.getDistXY(z,Y),V=this.vectorLength(q);if(z!==Y&&0!==V)if(Y.isInternal)if(Y.boxSize/V<this.options.theta&&0!==V){var Z=this.repulsiveForce(V,this.k);this.force("repulsive",z,Z*Y.mass,q,V);var et=!1}else et=!0;else Z=this.repulsiveForce(V,this.k),this.force("repulsive",z,Z*Y.mass,q,V);return et},repulsiveForces:function(){var z=this;z.nodes.forEach("barnes-hut"===z.approximation?function(Y){z.quadTree.visitNodeRecursive(null,function(q){return z.barnesHutApproximation(Y,q)})}:function(Y){z.nodes.forEach(function(q){if(Y!==q&&!Y.fixedPosition){var V=z.getDistXY(Y,q),Z=z.vectorLength(V);if(0!==Z){var et=z.repulsiveForce(Z,z.k);z.force("repulsive",Y,et*q.mass,V,Z)}}})})},attractiveForces:function(){var Y,q,V,z=this;z.links.forEach(function(Z){Z.fromNode&&Z.toNode&&(Y=z.getDistXY(Z.fromNode,Z.toNode),0!==(q=z.vectorLength(Y))&&(V=z.attractiveForce(q,z.k),z.force("attractive",Z,V,Y,q)))})},applyLimits:function(){var z=this;z.nodes.forEach(function(Y){Y.fixedPosition||(z.integration.integrate(z,Y),z.applyLimitBox(Y,z.box),Y.dispX=0,Y.dispY=0)})},applyLimitBox:function(z,Y){var q=z.radius;z.plotX=W(z.plotX,Y.left+q,Y.width-q),z.plotY=W(z.plotY,Y.top+q,Y.height-q)},coolDown:function(z,Y,q){return z-Y*q},isStable:function(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature},getSystemTemperature:function(){return this.nodes.reduce(function(z,Y){return z+Y.temperature},0)},vectorLength:function(z){return Math.sqrt(z.x*z.x+z.y*z.y)},getDistR:function(z,Y){return z=this.getDistXY(z,Y),this.vectorLength(z)},getDistXY:function(z,Y){var q=z.plotX-Y.plotX;return{x:q,y:z=z.plotY-Y.plotY,absX:Math.abs(q),absY:Math.abs(z)}}}),$(D,"predraw",function(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(function(z){z.stop()})}),$(D,"render",function(){function z(V){V.maxIterations--&&isFinite(V.temperature)&&!V.isStable()&&!V.enableSimulation&&(V.beforeStep&&V.beforeStep(),V.step(),q=!1,Y=!0)}var Y=!1;if(this.graphLayoutsLookup){for(K(!1,this),this.graphLayoutsLookup.forEach(function(V){V.start()});!q;){var q=!0;this.graphLayoutsLookup.forEach(z)}Y&&this.series.forEach(function(V){V&&V.layout&&V.render()})}}),$(D,"beforePrint",function(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(function(z){z.updateSimulation(!1)}),this.redraw())}),$(D,"afterPrint",function(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(function(z){z.updateSimulation()}),this.redraw()})}),ct(ht,"Series/Networkgraph/DraggableNodes.js",[ht["Core/Chart/Chart.js"],ht["Core/Globals.js"],ht["Core/Utilities.js"]],function(D,$,X){var it=X.addEvent;$.dragNodesMixin={onMouseDown:function(K,W){W=this.chart.pointer.normalize(W),K.fixedPosition={chartX:W.chartX,chartY:W.chartY,plotX:K.plotX,plotY:K.plotY},K.inDragMode=!0},onMouseMove:function(K,W){if(K.fixedPosition&&K.inDragMode){var j=this.chart,tt=j.pointer.normalize(W);W=K.fixedPosition.chartX-tt.chartX,tt=K.fixedPosition.chartY-tt.chartY;var N=void 0,U=void 0,z=j.graphLayoutsLookup;(5<Math.abs(W)||5<Math.abs(tt))&&j.isInsidePlot(N=K.fixedPosition.plotX-W,U=K.fixedPosition.plotY-tt)&&(K.plotX=N,K.plotY=U,K.hasDragged=!0,this.redrawHalo(K),z.forEach(function(Y){Y.restartSimulation()}))}},onMouseUp:function(K,W){K.fixedPosition&&(K.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),K.inDragMode=K.hasDragged=!1,this.options.fixedDraggable||delete K.fixedPosition)},redrawHalo:function(K){K&&this.halo&&this.halo.attr({d:K.haloPath(this.options.states.hover.halo.size)})}},it(D,"load",function(){var W,j,tt,K=this;K.container&&(W=it(K.container,"mousedown",function(N){var U=K.hoverPoint;U&&U.series&&U.series.hasDraggableNodes&&U.series.options.draggable&&(U.series.onMouseDown(U,N),j=it(K.container,"mousemove",function(z){return U&&U.series&&U.series.onMouseMove(U,z)}),tt=it(K.container.ownerDocument,"mouseup",function(z){return j(),tt(),U&&U.series&&U.series.onMouseUp(U,z)}))})),it(K,"destroy",function(){W()})})}),ct(ht,"Series/Networkgraph/Networkgraph.js",[ht["Core/Globals.js"],ht["Series/NodesComposition.js"],ht["Core/Series/Point.js"],ht["Core/Series/Series.js"],ht["Core/Series/SeriesRegistry.js"],ht["Core/Utilities.js"]],function(D,$,X,it,K,W){var et,j=this&&this.__extends||(et=function(rt,mt){return(et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(gt,Et){gt.__proto__=Et}||function(gt,Et){for(var Dt in Et)Et.hasOwnProperty(Dt)&&(gt[Dt]=Et[Dt])})(rt,mt)},function(rt,mt){function gt(){this.constructor=rt}et(rt,mt),rt.prototype=null===mt?Object.create(mt):(gt.prototype=mt.prototype,new gt)}),tt=K.seriesTypes,N=W.addEvent,U=W.css,z=W.defined,Y=W.extend,q=W.merge,V=W.pick,Z=D.dragNodesMixin;return W=function(et){function rt(){var mt=null!==et&&et.apply(this,arguments)||this;return mt.data=void 0,mt.nodes=void 0,mt.options=void 0,mt.points=void 0,mt}return j(rt,et),rt.defaultOptions=q(it.defaultOptions,{stickyTracking:!1,inactiveOtherPoints:!0,marker:{enabled:!0,states:{inactive:{opacity:.3,animation:{duration:50}}}},states:{inactive:{linkOpacity:.3,animation:{duration:50}}},dataLabels:{formatter:function(){return this.key},linkFormatter:function(){return this.point.fromNode.name+"<br>"+this.point.toNode.name},linkTextPath:{enabled:!0},textPath:{enabled:!1},style:{transition:"opacity 2000ms"}},link:{color:"rgba(100, 100, 100, 0.5)",width:1},draggable:!0,layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:1,enableSimulation:!1,theta:.5,maxSpeed:10,approximation:"none",type:"reingold-fruchterman",integration:"euler",maxIterations:1e3,gravitationalConstant:.0625,friction:-.981},showInLegend:!1}),rt}(it),Y(W.prototype,{forces:["barycenter","repulsive","attractive"],hasDraggableNodes:!0,drawGraph:void 0,isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,pointArrayMap:["from","to"],trackerGroups:["group","markerGroup","dataLabelsGroup"],drawTracker:tt.column.prototype.drawTracker,animate:void 0,buildKDTree:D.noop,createNode:$.createNode,destroy:function(){this.layout&&this.layout.removeElementFromCollection(this,this.layout.series),$.destroy.call(this)},init:function(){var et=this;return it.prototype.init.apply(this,arguments),N(this,"updatedData",function(){et.layout&&et.layout.stop()}),N(this,"afterUpdate",function(){et.nodes.forEach(function(rt){rt&&rt.series&&rt.resolveColor()})}),this},generatePoints:function(){var et;for($.generatePoints.apply(this,arguments),this.options.nodes&&this.options.nodes.forEach(function(mt){this.nodeLookup[mt.id]||(this.nodeLookup[mt.id]=this.createNode(mt.id))},this),et=this.nodes.length-1;0<=et;et--){var rt=this.nodes[et];rt.degree=rt.getDegree(),rt.radius=V(rt.marker&&rt.marker.radius,this.options.marker&&this.options.marker.radius,0),this.nodeLookup[rt.id]||rt.remove()}this.data.forEach(function(mt){mt.formatPrefix="link"}),this.indexateNodes()},getPointsCollection:function(){return this.nodes||[]},indexateNodes:function(){this.nodes.forEach(function(et,rt){et.index=rt})},markerAttribs:function(et,rt){return rt=it.prototype.markerAttribs.call(this,et,rt),z(et.plotY)||(rt.y=0),rt.x=(et.plotX||0)-(rt.width||0)/2,rt},translate:function(){this.processedXData||this.processData(),this.generatePoints(),this.deferLayout(),this.nodes.forEach(function(et){et.isInside=!0,et.linksFrom.forEach(function(rt){rt.shapeType="path",rt.y=1})})},deferLayout:function(){var et=this.options.layoutAlgorithm,rt=this.chart.graphLayoutsStorage,mt=this.chart.graphLayoutsLookup,gt=this.chart.options.chart;if(this.visible){rt||(this.chart.graphLayoutsStorage=rt={},this.chart.graphLayoutsLookup=mt=[]);var Et=rt[et.type];Et||(et.enableSimulation=z(gt.forExport)?!gt.forExport:et.enableSimulation,rt[et.type]=Et=new D.layouts[et.type],Et.init(et),mt.splice(Et.index,0,Et)),this.layout=Et,Et.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),Et.addElementsToCollection([this],Et.series),Et.addElementsToCollection(this.nodes,Et.nodes),Et.addElementsToCollection(this.points,Et.links)}},render:function(){var et=this.points,rt=this.chart.hoverPoint,mt=[];this.points=this.nodes,tt.line.prototype.render.call(this),this.points=et,et.forEach(function(gt){gt.fromNode&&gt.toNode&&(gt.renderLink(),gt.redrawLink())}),rt&&rt.series===this&&this.redrawHalo(rt),this.chart.hasRendered&&!this.options.dataLabels.allowOverlap&&(this.nodes.concat(this.points).forEach(function(gt){gt.dataLabel&&mt.push(gt.dataLabel)}),this.chart.hideOverlappingLabels(mt))},drawDataLabels:function(){var et=this.options.dataLabels.textPath;it.prototype.drawDataLabels.apply(this,arguments),this.points=this.data,this.options.dataLabels.textPath=this.options.dataLabels.linkTextPath,it.prototype.drawDataLabels.apply(this,arguments),this.points=this.nodes,this.options.dataLabels.textPath=et},pointAttribs:function(et,rt){var mt=rt||et&&et.state||"normal";return rt=it.prototype.pointAttribs.call(this,et,mt),mt=this.options.states[mt],et&&!et.isNode&&(rt=et.getLinkAttributes(),mt&&(rt={stroke:mt.linkColor||rt.stroke,dashstyle:mt.linkDashStyle||rt.dashstyle,opacity:V(mt.linkOpacity,rt.opacity),"stroke-width":mt.linkColor||rt["stroke-width"]})),rt},redrawHalo:Z.redrawHalo,onMouseDown:Z.onMouseDown,onMouseMove:Z.onMouseMove,onMouseUp:Z.onMouseUp,setState:function(et,rt){rt?(this.points=this.nodes.concat(this.data),it.prototype.setState.apply(this,arguments),this.points=this.data):it.prototype.setState.apply(this,arguments),this.layout.simulation||et||this.render()}}),Z=function(et){function rt(){var mt=null!==et&&et.apply(this,arguments)||this;return mt.degree=void 0,mt.linksFrom=void 0,mt.linksTo=void 0,mt.options=void 0,mt.radius=void 0,mt.series=void 0,mt.toNode=void 0,mt}return j(rt,et),rt}(it.prototype.pointClass),Y(Z.prototype,{setState:$.setNodeState,init:function(){return X.prototype.init.apply(this,arguments),this.series.options.draggable&&!this.series.chart.styledMode&&(N(this,"mouseOver",function(){U(this.series.chart.container,{cursor:"move"})}),N(this,"mouseOut",function(){U(this.series.chart.container,{cursor:"default"})})),this},getDegree:function(){var et=this.isNode?this.linksFrom.length+this.linksTo.length:0;return 0===et?1:et},getLinkAttributes:function(){var et=this.series.options.link,rt=this.options;return{"stroke-width":V(rt.width,et.width),stroke:rt.color||et.color,dashstyle:rt.dashStyle||et.dashStyle,opacity:V(rt.opacity,et.opacity,1)}},renderLink:function(){if(!this.graphic&&(this.graphic=this.series.chart.renderer.path(this.getLinkPath()).addClass(this.getClassName(),!0).add(this.series.group),!this.series.chart.styledMode)){var et=this.series.pointAttribs(this);this.graphic.attr(et),(this.dataLabels||[]).forEach(function(rt){rt&&rt.attr({opacity:et.opacity})})}},redrawLink:function(){var et=this.getLinkPath();if(this.graphic){if(this.shapeArgs={d:et},!this.series.chart.styledMode){var rt=this.series.pointAttribs(this);this.graphic.attr(rt),(this.dataLabels||[]).forEach(function(gt){gt&&gt.attr({opacity:rt.opacity})})}this.graphic.animate(this.shapeArgs);var mt=et[0];et=et[1],"M"===mt[0]&&"L"===et[0]&&(this.plotX=(mt[1]+et[1])/2,this.plotY=(mt[2]+et[2])/2)}},getMass:function(){var et=this.fromNode.mass,rt=this.toNode.mass,mt=et+rt;return{fromNode:1-et/mt,toNode:1-rt/mt}},getLinkPath:function(){var et=this.fromNode,rt=this.toNode;return et.plotX>rt.plotX&&(et=this.toNode,rt=this.fromNode),[["M",et.plotX||0,et.plotY||0],["L",rt.plotX||0,rt.plotY||0]]},isValid:function(){return!this.isNode||z(this.id)},remove:function(et,rt){var Et,mt=this.series,gt=mt.options.nodes||[],Dt=gt.length;if(this.isNode){for(mt.points=[],[].concat(this.linksFrom).concat(this.linksTo).forEach(function(Mt){-1<(Et=Mt.fromNode.linksFrom.indexOf(Mt))&&Mt.fromNode.linksFrom.splice(Et,1),-1<(Et=Mt.toNode.linksTo.indexOf(Mt))&&Mt.toNode.linksTo.splice(Et,1),it.prototype.removePoint.call(mt,mt.data.indexOf(Mt),!1,!1)}),mt.points=mt.data.slice(),mt.nodes.splice(mt.nodes.indexOf(this),1);Dt--;)if(gt[Dt].id===this.options.id){mt.options.nodes.splice(Dt,1);break}this&&this.destroy(),mt.isDirty=!0,mt.isDirtyData=!0,et&&mt.chart.redraw(et)}else mt.removePoint(mt.data.indexOf(this),et,rt)},destroy:function(){return this.isNode&&this.linksFrom.concat(this.linksTo).forEach(function(et){et.destroyElements&&et.destroyElements()}),this.series.layout.removeElementFromCollection(this,this.series.layout[this.isNode?"nodes":"links"]),X.prototype.destroy.apply(this,arguments)}}),W.prototype.pointClass=Z,K.registerSeriesType("networkgraph",W),W}),ct(ht,"masters/modules/networkgraph.src.js",[],function(){})},fe.exports?(ht.default=ht,fe.exports=ht):(Tt=[kt(4317)],void 0!==(Pt=function(ct){return ht(ct),ht.Highcharts=ct,ht}.apply(ot,Tt))&&(fe.exports=Pt))},1883:(fe,ot,kt)=>{"use strict";var Tt=kt(4658),Pt=kt(1171),ht=kt(4725);function ct(D){if(!(this instanceof ct))return new ct(D);this.hash=D.hash,this.predResist=!!D.predResist,this.outLen=this.hash.outSize,this.minEntropy=D.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var $=Pt.toArray(D.entropy,D.entropyEnc||"hex"),X=Pt.toArray(D.nonce,D.nonceEnc||"hex"),it=Pt.toArray(D.pers,D.persEnc||"hex");ht($.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init($,X,it)}fe.exports=ct,ct.prototype._init=function($,X,it){var K=$.concat(X).concat(it);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var W=0;W<this.V.length;W++)this.K[W]=0,this.V[W]=1;this._update(K),this._reseed=1,this.reseedInterval=281474976710656},ct.prototype._hmac=function(){return new Tt.hmac(this.hash,this.K)},ct.prototype._update=function($){var X=this._hmac().update(this.V).update([0]);$&&(X=X.update($)),this.K=X.digest(),this.V=this._hmac().update(this.V).digest(),$&&(this.K=this._hmac().update(this.V).update([1]).update($).digest(),this.V=this._hmac().update(this.V).digest())},ct.prototype.reseed=function($,X,it,K){"string"!=typeof X&&(K=it,it=X,X=null),$=Pt.toArray($,X),it=Pt.toArray(it,K),ht($.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update($.concat(it||[])),this._reseed=1},ct.prototype.generate=function($,X,it,K){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof X&&(K=it,it=X,X=null),it&&(it=Pt.toArray(it,K||"hex"),this._update(it));for(var W=[];W.length<$;)this.V=this._hmac().update(this.V).digest(),W=W.concat(this.V);var j=W.slice(0,$);return this._update(it),this._reseed++,Pt.encode(j,X)}},1208:(fe,ot)=>{ot.read=function(kt,Tt,Pt,ht,ct){var D,$,X=8*ct-ht-1,it=(1<<X)-1,K=it>>1,W=-7,j=Pt?ct-1:0,tt=Pt?-1:1,N=kt[Tt+j];for(j+=tt,D=N&(1<<-W)-1,N>>=-W,W+=X;W>0;D=256*D+kt[Tt+j],j+=tt,W-=8);for($=D&(1<<-W)-1,D>>=-W,W+=ht;W>0;$=256*$+kt[Tt+j],j+=tt,W-=8);if(0===D)D=1-K;else{if(D===it)return $?NaN:1/0*(N?-1:1);$+=Math.pow(2,ht),D-=K}return(N?-1:1)*$*Math.pow(2,D-ht)},ot.write=function(kt,Tt,Pt,ht,ct,D){var $,X,it,K=8*D-ct-1,W=(1<<K)-1,j=W>>1,tt=23===ct?Math.pow(2,-24)-Math.pow(2,-77):0,N=ht?0:D-1,U=ht?1:-1,z=Tt<0||0===Tt&&1/Tt<0?1:0;for(Tt=Math.abs(Tt),isNaN(Tt)||Tt===1/0?(X=isNaN(Tt)?1:0,$=W):($=Math.floor(Math.log(Tt)/Math.LN2),Tt*(it=Math.pow(2,-$))<1&&($--,it*=2),(Tt+=$+j>=1?tt/it:tt*Math.pow(2,1-j))*it>=2&&($++,it/=2),$+j>=W?(X=0,$=W):$+j>=1?(X=(Tt*it-1)*Math.pow(2,ct),$+=j):(X=Tt*Math.pow(2,j-1)*Math.pow(2,ct),$=0));ct>=8;kt[Pt+N]=255&X,N+=U,X/=256,ct-=8);for($=$<<ct|X,K+=ct;K>0;kt[Pt+N]=255&$,N+=U,$/=256,K-=8);kt[Pt+N-U]|=128*z}},3516:fe=>{fe.exports="function"==typeof Object.create?function(kt,Tt){Tt&&(kt.super_=Tt,kt.prototype=Object.create(Tt.prototype,{constructor:{value:kt,enumerable:!1,writable:!0,configurable:!0}}))}:function(kt,Tt){if(Tt){kt.super_=Tt;var Pt=function(){};Pt.prototype=Tt.prototype,kt.prototype=new Pt,kt.prototype.constructor=kt}}},3783:(fe,ot,kt)=>{fe.exports=kt(967)},967:(fe,ot,kt)=>{var Tt=kt(7702),Pt={HS256:"sha256",HS384:"sha384",HS512:"sha512",RS256:"RSA-SHA256"},ht={HS256:"hmac",HS384:"hmac",HS512:"hmac",RS256:"sign"},ct=fe.exports;function X(tt,N,U,z){var Y;if("hmac"===z)Y=Tt.createHmac(U,N).update(tt).digest("base64");else{if("sign"!=z)throw new Error("Algorithm type not recognized");Y=Tt.createSign(U).update(tt).sign(N,"base64")}return j(Y)}function it(tt){return Buffer.from(K(tt),"base64").toString()}function K(tt){return(tt+=new Array(5-tt.length%4).join("=")).replace(/\-/g,"+").replace(/_/g,"/")}function W(tt){return j(Buffer.from(tt).toString("base64"))}function j(tt){return tt.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}ct.version="0.5.6",ct.decode=function(N,U,z,Y){if(!N)throw new Error("No token supplied");var q=N.split(".");if(3!==q.length)throw new Error("Not enough or too many segments");var V=q[0],Z=q[1],et=q[2],rt=JSON.parse(it(V)),mt=JSON.parse(it(Z));if(!z){!Y&&/BEGIN( RSA)? PUBLIC KEY/.test(U.toString())&&(Y="RS256");var gt=Pt[Y||rt.alg],Et=ht[Y||rt.alg];if(!gt||!Et)throw new Error("Algorithm not supported");if(!function(tt,N,U,z,Y){if("hmac"===z)return Y===X(tt,N,U,z);if("sign"==z)return Tt.createVerify(U).update(tt).verify(N,K(Y),"base64");throw new Error("Algorithm type not recognized")}([V,Z].join("."),U,gt,Et,et))throw new Error("Signature verification failed");if(mt.nbf&&Date.now()<1e3*mt.nbf)throw new Error("Token not yet active");if(mt.exp&&Date.now()>1e3*mt.exp)throw new Error("Token expired")}return mt},ct.encode=function(N,U,z,Y){if(!U)throw new Error("Require key");z||(z="HS256");var q=Pt[z],V=ht[z];if(!q||!V)throw new Error("Algorithm not supported");var Z={typ:"JWT",alg:z};Y&&Y.header&&function(tt,N){for(var U in N)N.hasOwnProperty(U)&&(tt[U]=N[U])}(Z,Y.header);var et=[];return et.push(W(JSON.stringify(Z))),et.push(W(JSON.stringify(N))),et.push(X(et.join("."),U,q,V)),et.join(".")}},5122:fe=>{var Pt=/^\s+|\s+$/g,ht=/^[-+]0x[0-9a-f]+$/i,ct=/^0b[01]+$/i,D=/^0o[0-7]+$/i,$=parseInt,X="object"==typeof global&&global&&global.Object===Object&&global,it="object"==typeof self&&self&&self.Object===Object&&self,K=X||it||Function("return this")(),j=Object.prototype.toString,tt=Math.max,N=Math.min,U=function(){return K.Date.now()};function Y(et){var rt=typeof et;return!!et&&("object"==rt||"function"==rt)}function Z(et){if("number"==typeof et)return et;if(function(et){return"symbol"==typeof et||function(et){return!!et&&"object"==typeof et}(et)&&"[object Symbol]"==j.call(et)}(et))return NaN;if(Y(et)){var rt="function"==typeof et.valueOf?et.valueOf():et;et=Y(rt)?rt+"":rt}if("string"!=typeof et)return 0===et?et:+et;et=et.replace(Pt,"");var mt=ct.test(et);return mt||D.test(et)?$(et.slice(2),mt?2:8):ht.test(et)?NaN:+et}fe.exports=function(et,rt,mt){var gt,Et,Dt,Mt,T,h,m=0,y=!1,v=!1,M=!0;if("function"!=typeof et)throw new TypeError("Expected a function");function S(wt){var Ft=gt,Gt=Et;return gt=Et=void 0,m=wt,Mt=et.apply(Gt,Ft)}function P(wt){return m=wt,T=setTimeout(k,rt),y?S(wt):Mt}function d(wt){var Ft=wt-h;return void 0===h||Ft>=rt||Ft<0||v&&wt-m>=Dt}function k(){var wt=U();if(d(wt))return nt(wt);T=setTimeout(k,function(wt){var It=rt-(wt-h);return v?N(It,Dt-(wt-m)):It}(wt))}function nt(wt){return T=void 0,M&&gt?S(wt):(gt=Et=void 0,Mt)}function xt(){var wt=U(),Ft=d(wt);if(gt=arguments,Et=this,h=wt,Ft){if(void 0===T)return P(h);if(v)return T=setTimeout(k,rt),S(h)}return void 0===T&&(T=setTimeout(k,rt)),Mt}return rt=Z(rt)||0,Y(mt)&&(y=!!mt.leading,Dt=(v="maxWait"in mt)?tt(Z(mt.maxWait)||0,rt):Dt,M="trailing"in mt?!!mt.trailing:M),xt.cancel=function(){void 0!==T&&clearTimeout(T),m=0,gt=h=Et=T=void 0},xt.flush=function(){return void 0===T?Mt:nt(U())},xt}},7674:function(fe){fe.exports=function(){"use strict";function ot(Pe,ri){for(var Ee=0;Ee<ri.length;Ee++){var ne=ri[Ee];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(Pe,ne.key,ne)}}function Pt(Pe,ri){(null==ri||ri>Pe.length)&&(ri=Pe.length);for(var Ee=0,ne=new Array(ri);Ee<ri;Ee++)ne[Ee]=Pe[Ee];return ne}function ht(Pe,ri){var Ee="undefined"!=typeof Symbol&&Pe[Symbol.iterator]||Pe["@@iterator"];if(Ee)return(Ee=Ee.call(Pe)).next.bind(Ee);if(Array.isArray(Pe)||(Ee=function(Pe,ri){if(Pe){if("string"==typeof Pe)return Pt(Pe,ri);var Ee=Object.prototype.toString.call(Pe).slice(8,-1);if("Object"===Ee&&Pe.constructor&&(Ee=Pe.constructor.name),"Map"===Ee||"Set"===Ee)return Array.from(Pe);if("Arguments"===Ee||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ee))return Pt(Pe,ri)}}(Pe))||ri&&Pe&&"number"==typeof Pe.length){Ee&&(Pe=Ee);var ne=0;return function(){return ne>=Pe.length?{done:!0}:{done:!1,value:Pe[ne++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ct={exports:{}};function D(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}ct.exports={defaults:{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:D,changeDefaults:function(Pe){ct.exports.defaults=Pe}};var X=/[&<>"']/,it=/[&<>"']/g,K=/[<>"']|&(?!#?\w+;)/,W=/[<>"']|&(?!#?\w+;)/g,j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tt=function(ri){return j[ri]};var U=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function z(Pe){return Pe.replace(U,function(ri,Ee){return"colon"===(Ee=Ee.toLowerCase())?":":"#"===Ee.charAt(0)?"x"===Ee.charAt(1)?String.fromCharCode(parseInt(Ee.substring(2),16)):String.fromCharCode(+Ee.substring(1)):""})}var Y=/(^|[^\[])\^/g;var V=/[^\w:]/g,Z=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;var rt={},mt=/^[^:]+:\/*[^/]*$/,gt=/^([^:]+:)[\s\S]*$/,Et=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Dt(Pe,ri){rt[" "+Pe]||(rt[" "+Pe]=mt.test(Pe)?Pe+"/":m(Pe,"/",!0));var Ee=-1===(Pe=rt[" "+Pe]).indexOf(":");return"//"===ri.substring(0,2)?Ee?ri:Pe.replace(gt,"$1")+ri:"/"===ri.charAt(0)?Ee?ri:Pe.replace(Et,"$1")+ri:Pe+ri}function m(Pe,ri,Ee){var ne=Pe.length;if(0===ne)return"";for(var Se=0;Se<ne;){var ae=Pe.charAt(ne-Se-1);if(ae!==ri||Ee){if(ae===ri||!Ee)break;Se++}else Se++}return Pe.substr(0,ne-Se)}var S_escape=function(Pe,ri){if(ri){if(X.test(Pe))return Pe.replace(it,tt)}else if(K.test(Pe))return Pe.replace(W,tt);return Pe},S_unescape=z,S_edit=function(Pe,ri){Pe=Pe.source||Pe,ri=ri||"";var Ee={replace:function(Se,ae){return ae=(ae=ae.source||ae).replace(Y,"$1"),Pe=Pe.replace(Se,ae),Ee},getRegex:function(){return new RegExp(Pe,ri)}};return Ee},S_cleanUrl=function(Pe,ri,Ee){if(Pe){var ne;try{ne=decodeURIComponent(z(Ee)).replace(V,"").toLowerCase()}catch(Se){return null}if(0===ne.indexOf("javascript:")||0===ne.indexOf("vbscript:")||0===ne.indexOf("data:"))return null}ri&&!Z.test(Ee)&&(Ee=Dt(ri,Ee));try{Ee=encodeURI(Ee).replace(/%25/g,"%")}catch(Se){return null}return Ee},S_noopTest={exec:function(){}},S_merge=function(Pe){for(var Ee,ne,ri=1;ri<arguments.length;ri++)for(ne in Ee=arguments[ri])Object.prototype.hasOwnProperty.call(Ee,ne)&&(Pe[ne]=Ee[ne]);return Pe},S_checkSanitizeDeprecation=function(Pe){Pe&&Pe.sanitize&&!Pe.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},S_repeatString=function(Pe,ri){if(ri<1)return"";for(var Ee="";ri>1;)1&ri&&(Ee+=Pe),ri>>=1,Pe+=Pe;return Ee+Pe},P=ct.exports.defaults,C=m,d=function(Pe,ri){var ne=Pe.replace(/\|/g,function(ae,Me,$e){for(var te=!1,Ie=Me;--Ie>=0&&"\\"===$e[Ie];)te=!te;return te?"|":" |"}).split(/ \|/),Se=0;if(ne.length>ri)ne.splice(ri);else for(;ne.length<ri;)ne.push("");for(;Se<ne.length;Se++)ne[Se]=ne[Se].trim().replace(/\\\|/g,"|");return ne},k=S_escape,nt=function(Pe,ri){if(-1===Pe.indexOf(ri[1]))return-1;for(var Ee=Pe.length,ne=0,Se=0;Se<Ee;Se++)if("\\"===Pe[Se])Se++;else if(Pe[Se]===ri[0])ne++;else if(Pe[Se]===ri[1]&&--ne<0)return Se;return-1};function Q(Pe,ri,Ee){var ne=ri.href,Se=ri.title?k(ri.title):null,ae=Pe[1].replace(/\\([\[\]])/g,"$1");return"!"!==Pe[0].charAt(0)?{type:"link",raw:Ee,href:ne,title:Se,text:ae}:{type:"image",raw:Ee,href:ne,title:Se,text:k(ae)}}var xt=function(){function Pe(Ee){this.options=Ee||P}var ri=Pe.prototype;return ri.space=function(ne){var Se=this.rules.block.newline.exec(ne);if(Se)return Se[0].length>1?{type:"space",raw:Se[0]}:{raw:"\n"}},ri.code=function(ne){var Se=this.rules.block.code.exec(ne);if(Se){var ae=Se[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Se[0],codeBlockStyle:"indented",text:this.options.pedantic?ae:C(ae,"\n")}}},ri.fences=function(ne){var Se=this.rules.block.fences.exec(ne);if(Se){var ae=Se[0],Me=function(Pe,ri){var Ee=Pe.match(/^(\s+)(?:```)/);if(null===Ee)return ri;var ne=Ee[1];return ri.split("\n").map(function(Se){var ae=Se.match(/^\s+/);return null===ae?Se:ae[0].length>=ne.length?Se.slice(ne.length):Se}).join("\n")}(ae,Se[3]||"");return{type:"code",raw:ae,lang:Se[2]?Se[2].trim():Se[2],text:Me}}},ri.heading=function(ne){var Se=this.rules.block.heading.exec(ne);if(Se){var ae=Se[2].trim();if(/#$/.test(ae)){var Me=C(ae,"#");(this.options.pedantic||!Me||/ $/.test(Me))&&(ae=Me.trim())}return{type:"heading",raw:Se[0],depth:Se[1].length,text:ae}}},ri.nptable=function(ne){var Se=this.rules.block.nptable.exec(ne);if(Se){var ae={type:"table",header:d(Se[1].replace(/^ *| *\| *$/g,"")),align:Se[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:Se[3]?Se[3].replace(/\n$/,"").split("\n"):[],raw:Se[0]};if(ae.header.length===ae.align.length){var $e,Me=ae.align.length;for($e=0;$e<Me;$e++)ae.align[$e]=/^ *-+: *$/.test(ae.align[$e])?"right":/^ *:-+: *$/.test(ae.align[$e])?"center":/^ *:-+ *$/.test(ae.align[$e])?"left":null;for(Me=ae.cells.length,$e=0;$e<Me;$e++)ae.cells[$e]=d(ae.cells[$e],ae.header.length);return ae}}},ri.hr=function(ne){var Se=this.rules.block.hr.exec(ne);if(Se)return{type:"hr",raw:Se[0]}},ri.blockquote=function(ne){var Se=this.rules.block.blockquote.exec(ne);if(Se){var ae=Se[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:Se[0],text:ae}}},ri.list=function(ne){var Se=this.rules.block.list.exec(ne);if(Se){var qe,ci,Pn,ui,oi,en,sn,Tn,Er,ae=Se[0],Me=Se[2],$e=Me.length>1,te={type:"list",raw:ae,ordered:$e,start:$e?+Me.slice(0,-1):"",loose:!1,items:[]},Ie=Se[0].match(this.rules.block.item),tn=!1,In=Ie.length;Pn=this.rules.block.listItemStart.exec(Ie[0]);for(var Yn=0;Yn<In;Yn++){if(ae=qe=Ie[Yn],this.options.pedantic||(Er=qe.match(new RegExp("\\n\\s*\\n {0,"+(Pn[0].length-1)+"}\\S")))&&(oi=qe.length-Er.index+Ie.slice(Yn+1).join("\n").length,te.raw=te.raw.substring(0,te.raw.length-oi),ae=qe=qe.substring(0,Er.index),In=Yn+1),Yn!==In-1){if(ui=this.rules.block.listItemStart.exec(Ie[Yn+1]),this.options.pedantic?ui[1].length>Pn[1].length:ui[1].length>=Pn[0].length||ui[1].length>3){Ie.splice(Yn,2,Ie[Yn]+(!this.options.pedantic&&ui[1].length<Pn[0].length&&!Ie[Yn].match(/\n$/)?"":"\n")+Ie[Yn+1]),Yn--,In--;continue}(!this.options.pedantic||this.options.smartLists?ui[2][ui[2].length-1]!==Me[Me.length-1]:$e===(1===ui[2].length))&&(oi=Ie.slice(Yn+1).join("\n").length,te.raw=te.raw.substring(0,te.raw.length-oi),Yn=In-1),Pn=ui}ci=qe.length,~(qe=qe.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(ci-=qe.length,qe=qe.replace(this.options.pedantic?/^ {1,4}/gm:new RegExp("^ {1,"+ci+"}","gm"),"")),qe=C(qe,"\n"),Yn!==In-1&&(ae+="\n"),en=tn||/\n\n(?!\s*$)/.test(ae),Yn!==In-1&&(tn="\n\n"===ae.slice(-2),en||(en=tn)),en&&(te.loose=!0),this.options.gfm&&(Tn=void 0,(sn=/^\[[ xX]\] /.test(qe))&&(Tn=" "!==qe[1],qe=qe.replace(/^\[[ xX]\] +/,""))),te.items.push({type:"list_item",raw:ae,task:sn,checked:Tn,loose:en,text:qe})}return te}},ri.html=function(ne){var Se=this.rules.block.html.exec(ne);if(Se)return{type:this.options.sanitize?"paragraph":"html",raw:Se[0],pre:!this.options.sanitizer&&("pre"===Se[1]||"script"===Se[1]||"style"===Se[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Se[0]):k(Se[0]):Se[0]}},ri.def=function(ne){var Se=this.rules.block.def.exec(ne);if(Se)return Se[3]&&(Se[3]=Se[3].substring(1,Se[3].length-1)),{type:"def",tag:Se[1].toLowerCase().replace(/\s+/g," "),raw:Se[0],href:Se[2],title:Se[3]}},ri.table=function(ne){var Se=this.rules.block.table.exec(ne);if(Se){var ae={type:"table",header:d(Se[1].replace(/^ *| *\| *$/g,"")),align:Se[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:Se[3]?Se[3].replace(/\n$/,"").split("\n"):[]};if(ae.header.length===ae.align.length){ae.raw=Se[0];var $e,Me=ae.align.length;for($e=0;$e<Me;$e++)ae.align[$e]=/^ *-+: *$/.test(ae.align[$e])?"right":/^ *:-+: *$/.test(ae.align[$e])?"center":/^ *:-+ *$/.test(ae.align[$e])?"left":null;for(Me=ae.cells.length,$e=0;$e<Me;$e++)ae.cells[$e]=d(ae.cells[$e].replace(/^ *\| *| *\| *$/g,""),ae.header.length);return ae}}},ri.lheading=function(ne){var Se=this.rules.block.lheading.exec(ne);if(Se)return{type:"heading",raw:Se[0],depth:"="===Se[2].charAt(0)?1:2,text:Se[1]}},ri.paragraph=function(ne){var Se=this.rules.block.paragraph.exec(ne);if(Se)return{type:"paragraph",raw:Se[0],text:"\n"===Se[1].charAt(Se[1].length-1)?Se[1].slice(0,-1):Se[1]}},ri.text=function(ne){var Se=this.rules.block.text.exec(ne);if(Se)return{type:"text",raw:Se[0],text:Se[0]}},ri.escape=function(ne){var Se=this.rules.inline.escape.exec(ne);if(Se)return{type:"escape",raw:Se[0],text:k(Se[1])}},ri.tag=function(ne,Se,ae){var Me=this.rules.inline.tag.exec(ne);if(Me)return!Se&&/^<a /i.test(Me[0])?Se=!0:Se&&/^<\/a>/i.test(Me[0])&&(Se=!1),!ae&&/^<(pre|code|kbd|script)(\s|>)/i.test(Me[0])?ae=!0:ae&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Me[0])&&(ae=!1),{type:this.options.sanitize?"text":"html",raw:Me[0],inLink:Se,inRawBlock:ae,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Me[0]):k(Me[0]):Me[0]}},ri.link=function(ne){var Se=this.rules.inline.link.exec(ne);if(Se){var ae=Se[2].trim();if(!this.options.pedantic&&/^</.test(ae)){if(!/>$/.test(ae))return;var Me=C(ae.slice(0,-1),"\\");if((ae.length-Me.length)%2==0)return}else{var $e=nt(Se[2],"()");if($e>-1){var Ie=(0===Se[0].indexOf("!")?5:4)+Se[1].length+$e;Se[2]=Se[2].substring(0,$e),Se[0]=Se[0].substring(0,Ie).trim(),Se[3]=""}}var tn=Se[2],qe="";if(this.options.pedantic){var ci=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(tn);ci&&(tn=ci[1],qe=ci[3])}else qe=Se[3]?Se[3].slice(1,-1):"";return tn=tn.trim(),/^</.test(tn)&&(tn=this.options.pedantic&&!/>$/.test(ae)?tn.slice(1):tn.slice(1,-1)),Q(Se,{href:tn&&tn.replace(this.rules.inline._escapes,"$1"),title:qe&&qe.replace(this.rules.inline._escapes,"$1")},Se[0])}},ri.reflink=function(ne,Se){var ae;if((ae=this.rules.inline.reflink.exec(ne))||(ae=this.rules.inline.nolink.exec(ne))){var Me=(ae[2]||ae[1]).replace(/\s+/g," ");if(!(Me=Se[Me.toLowerCase()])||!Me.href){var $e=ae[0].charAt(0);return{type:"text",raw:$e,text:$e}}return Q(ae,Me,ae[0])}},ri.emStrong=function(ne,Se,ae){void 0===ae&&(ae="");var Me=this.rules.inline.emStrong.lDelim.exec(ne);if(Me&&(!Me[3]||!ae.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var $e=Me[1]||Me[2]||"";if(!$e||$e&&(""===ae||this.rules.inline.punctuation.exec(ae))){var Ie,tn,te=Me[0].length-1,qe=te,ci=0,Pn="*"===Me[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Pn.lastIndex=0,Se=Se.slice(-1*ne.length+te);null!=(Me=Pn.exec(Se));)if(Ie=Me[1]||Me[2]||Me[3]||Me[4]||Me[5]||Me[6]){if(tn=Ie.length,Me[3]||Me[4]){qe+=tn;continue}if((Me[5]||Me[6])&&te%3&&!((te+tn)%3)){ci+=tn;continue}if(!((qe-=tn)>0))return tn=Math.min(tn,tn+qe+ci),Math.min(te,tn)%2?{type:"em",raw:ne.slice(0,te+Me.index+tn+1),text:ne.slice(1,te+Me.index+tn)}:{type:"strong",raw:ne.slice(0,te+Me.index+tn+1),text:ne.slice(2,te+Me.index+tn-1)}}}}},ri.codespan=function(ne){var Se=this.rules.inline.code.exec(ne);if(Se){var ae=Se[2].replace(/\n/g," "),Me=/[^ ]/.test(ae),$e=/^ /.test(ae)&&/ $/.test(ae);return Me&&$e&&(ae=ae.substring(1,ae.length-1)),ae=k(ae,!0),{type:"codespan",raw:Se[0],text:ae}}},ri.br=function(ne){var Se=this.rules.inline.br.exec(ne);if(Se)return{type:"br",raw:Se[0]}},ri.del=function(ne){var Se=this.rules.inline.del.exec(ne);if(Se)return{type:"del",raw:Se[0],text:Se[2]}},ri.autolink=function(ne,Se){var Me,$e,ae=this.rules.inline.autolink.exec(ne);if(ae)return $e="@"===ae[2]?"mailto:"+(Me=k(this.options.mangle?Se(ae[1]):ae[1])):Me=k(ae[1]),{type:"link",raw:ae[0],text:Me,href:$e,tokens:[{type:"text",raw:Me,text:Me}]}},ri.url=function(ne,Se){var ae;if(ae=this.rules.inline.url.exec(ne)){var Me,$e;if("@"===ae[2])$e="mailto:"+(Me=k(this.options.mangle?Se(ae[0]):ae[0]));else{var te;do{te=ae[0],ae[0]=this.rules.inline._backpedal.exec(ae[0])[0]}while(te!==ae[0]);Me=k(ae[0]),$e="www."===ae[1]?"http://"+Me:Me}return{type:"link",raw:ae[0],text:Me,href:$e,tokens:[{type:"text",raw:Me,text:Me}]}}},ri.inlineText=function(ne,Se,ae){var $e,Me=this.rules.inline.text.exec(ne);if(Me)return $e=Se?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Me[0]):k(Me[0]):Me[0]:k(this.options.smartypants?ae(Me[0]):Me[0]),{type:"text",raw:Me[0],text:$e}},Pe}(),wt=S_noopTest,Ft=S_edit,Gt=S_merge,It={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:wt,table:wt,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};It.def=Ft(It.def).replace("label",It._label).replace("title",It._title).getRegex(),It.bullet=/(?:[*+-]|\d{1,9}[.)])/,It.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,It.item=Ft(It.item,"gm").replace(/bull/g,It.bullet).getRegex(),It.listItemStart=Ft(/^( *)(bull) */).replace("bull",It.bullet).getRegex(),It.list=Ft(It.list).replace(/bull/g,It.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+It.def.source+")").getRegex(),It._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",It._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,It.html=Ft(It.html,"i").replace("comment",It._comment).replace("tag",It._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),It.paragraph=Ft(It._paragraph).replace("hr",It.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",It._tag).getRegex(),It.blockquote=Ft(It.blockquote).replace("paragraph",It.paragraph).getRegex(),It.normal=Gt({},It),It.gfm=Gt({},It.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),It.gfm.nptable=Ft(It.gfm.nptable).replace("hr",It.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",It._tag).getRegex(),It.gfm.table=Ft(It.gfm.table).replace("hr",It.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",It._tag).getRegex(),It.pedantic=Gt({},It.normal,{html:Ft("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",It._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:wt,paragraph:Ft(It.normal._paragraph).replace("hr",It.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",It.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var _t={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:wt,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:wt,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};_t.punctuation=Ft(_t.punctuation).replace(/punctuation/g,_t._punctuation).getRegex(),_t.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,_t.escapedEmSt=/\\\*|\\_/g,_t._comment=Ft(It._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),_t.emStrong.lDelim=Ft(_t.emStrong.lDelim).replace(/punct/g,_t._punctuation).getRegex(),_t.emStrong.rDelimAst=Ft(_t.emStrong.rDelimAst,"g").replace(/punct/g,_t._punctuation).getRegex(),_t.emStrong.rDelimUnd=Ft(_t.emStrong.rDelimUnd,"g").replace(/punct/g,_t._punctuation).getRegex(),_t._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,_t._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,_t._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,_t.autolink=Ft(_t.autolink).replace("scheme",_t._scheme).replace("email",_t._email).getRegex(),_t._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,_t.tag=Ft(_t.tag).replace("comment",_t._comment).replace("attribute",_t._attribute).getRegex(),_t._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,_t._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,_t._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,_t.link=Ft(_t.link).replace("label",_t._label).replace("href",_t._href).replace("title",_t._title).getRegex(),_t.reflink=Ft(_t.reflink).replace("label",_t._label).getRegex(),_t.reflinkSearch=Ft(_t.reflinkSearch,"g").replace("reflink",_t.reflink).replace("nolink",_t.nolink).getRegex(),_t.normal=Gt({},_t),_t.pedantic=Gt({},_t.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Ft(/^!?\[(label)\]\((.*?)\)/).replace("label",_t._label).getRegex(),reflink:Ft(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",_t._label).getRegex()}),_t.gfm=Gt({},_t.normal,{escape:Ft(_t.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),_t.gfm.url=Ft(_t.gfm.url,"i").replace("email",_t.gfm._extended_email).getRegex(),_t.breaks=Gt({},_t.gfm,{br:Ft(_t.br).replace("{2,}","*").getRegex(),text:Ft(_t.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var Zt={block:It,inline:_t},Ot=xt,At=ct.exports.defaults,jt=Zt.block,Kt=Zt.inline,Vt=S_repeatString;function Ce(Pe){return Pe.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function Ht(Pe){var Ee,ne,ri="",Se=Pe.length;for(Ee=0;Ee<Se;Ee++)ne=Pe.charCodeAt(Ee),Math.random()>.5&&(ne="x"+ne.toString(16)),ri+="&#"+ne+";";return ri}var ge=function(){function Pe(Ee){this.tokens=[],this.tokens.links=Object.create(null),this.options=Ee||At,this.options.tokenizer=this.options.tokenizer||new Ot,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var ne={block:jt.normal,inline:Kt.normal};this.options.pedantic?(ne.block=jt.pedantic,ne.inline=Kt.pedantic):this.options.gfm&&(ne.block=jt.gfm,ne.inline=this.options.breaks?Kt.breaks:Kt.gfm),this.tokenizer.rules=ne}Pe.lex=function(ne,Se){return new Pe(Se).lex(ne)},Pe.lexInline=function(ne,Se){return new Pe(Se).inlineTokens(ne)};var ri=Pe.prototype;return ri.lex=function(ne){return ne=ne.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(ne,this.tokens,!0),this.inline(this.tokens),this.tokens},ri.blockTokens=function(ne,Se,ae){var $e,te,Ie,tn,qe,ci,Me=this;for(void 0===Se&&(Se=[]),void 0===ae&&(ae=!0),this.options.pedantic&&(ne=ne.replace(/^ +$/gm,""));ne;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(ui){return!!($e=ui.call(Me,ne,Se))&&(ne=ne.substring($e.raw.length),Se.push($e),!0)}))){if($e=this.tokenizer.space(ne)){ne=ne.substring($e.raw.length),$e.type&&Se.push($e);continue}if($e=this.tokenizer.code(ne)){ne=ne.substring($e.raw.length),(tn=Se[Se.length-1])&&"paragraph"===tn.type?(tn.raw+="\n"+$e.raw,tn.text+="\n"+$e.text):Se.push($e);continue}if($e=this.tokenizer.fences(ne)){ne=ne.substring($e.raw.length),Se.push($e);continue}if($e=this.tokenizer.heading(ne)){ne=ne.substring($e.raw.length),Se.push($e);continue}if($e=this.tokenizer.nptable(ne)){ne=ne.substring($e.raw.length),Se.push($e);continue}if($e=this.tokenizer.hr(ne)){ne=ne.substring($e.raw.length),Se.push($e);continue}if($e=this.tokenizer.blockquote(ne)){ne=ne.substring($e.raw.length),$e.tokens=this.blockTokens($e.text,[],ae),Se.push($e);continue}if($e=this.tokenizer.list(ne)){for(ne=ne.substring($e.raw.length),Ie=$e.items.length,te=0;te<Ie;te++)$e.items[te].tokens=this.blockTokens($e.items[te].text,[],!1);Se.push($e);continue}if($e=this.tokenizer.html(ne)){ne=ne.substring($e.raw.length),Se.push($e);continue}if(ae&&($e=this.tokenizer.def(ne))){ne=ne.substring($e.raw.length),this.tokens.links[$e.tag]||(this.tokens.links[$e.tag]={href:$e.href,title:$e.title});continue}if($e=this.tokenizer.table(ne)){ne=ne.substring($e.raw.length),Se.push($e);continue}if($e=this.tokenizer.lheading(ne)){ne=ne.substring($e.raw.length),Se.push($e);continue}if(qe=ne,this.options.extensions&&this.options.extensions.startBlock&&function(){var ui=1/0,oi=ne.slice(1),en=void 0;Me.options.extensions.startBlock.forEach(function(sn){"number"==typeof(en=sn.call(this,oi))&&en>=0&&(ui=Math.min(ui,en))}),ui<1/0&&ui>=0&&(qe=ne.substring(0,ui+1))}(),ae&&($e=this.tokenizer.paragraph(qe))){tn=Se[Se.length-1],ci&&"paragraph"===tn.type?(tn.raw+="\n"+$e.raw,tn.text+="\n"+$e.text):Se.push($e),ci=qe.length!==ne.length,ne=ne.substring($e.raw.length);continue}if($e=this.tokenizer.text(ne)){ne=ne.substring($e.raw.length),(tn=Se[Se.length-1])&&"text"===tn.type?(tn.raw+="\n"+$e.raw,tn.text+="\n"+$e.text):Se.push($e);continue}if(ne){var Pn="Infinite loop on byte: "+ne.charCodeAt(0);if(this.options.silent){console.error(Pn);break}throw new Error(Pn)}}return Se},ri.inline=function(ne){var Se,ae,Me,$e,te,Ie,tn=ne.length;for(Se=0;Se<tn;Se++)switch(Ie=ne[Se],Ie.type){case"paragraph":case"text":case"heading":Ie.tokens=[],this.inlineTokens(Ie.text,Ie.tokens);break;case"table":for(Ie.tokens={header:[],cells:[]},$e=Ie.header.length,ae=0;ae<$e;ae++)Ie.tokens.header[ae]=[],this.inlineTokens(Ie.header[ae],Ie.tokens.header[ae]);for($e=Ie.cells.length,ae=0;ae<$e;ae++)for(te=Ie.cells[ae],Ie.tokens.cells[ae]=[],Me=0;Me<te.length;Me++)Ie.tokens.cells[ae][Me]=[],this.inlineTokens(te[Me],Ie.tokens.cells[ae][Me]);break;case"blockquote":this.inline(Ie.tokens);break;case"list":for($e=Ie.items.length,ae=0;ae<$e;ae++)this.inline(Ie.items[ae].tokens)}return ne},ri.inlineTokens=function(ne,Se,ae,Me){var $e=this;void 0===Se&&(Se=[]),void 0===ae&&(ae=!1),void 0===Me&&(Me=!1);var te,Ie,tn,ci,Pn,ui,qe=ne;if(this.tokens.links){var oi=Object.keys(this.tokens.links);if(oi.length>0)for(;null!=(ci=this.tokenizer.rules.inline.reflinkSearch.exec(qe));)oi.includes(ci[0].slice(ci[0].lastIndexOf("[")+1,-1))&&(qe=qe.slice(0,ci.index)+"["+Vt("a",ci[0].length-2)+"]"+qe.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(ci=this.tokenizer.rules.inline.blockSkip.exec(qe));)qe=qe.slice(0,ci.index)+"["+Vt("a",ci[0].length-2)+"]"+qe.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(ci=this.tokenizer.rules.inline.escapedEmSt.exec(qe));)qe=qe.slice(0,ci.index)+"++"+qe.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;ne;)if(Pn||(ui=""),Pn=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(sn){return!!(te=sn.call($e,ne,Se))&&(ne=ne.substring(te.raw.length),Se.push(te),!0)}))){if(te=this.tokenizer.escape(ne)){ne=ne.substring(te.raw.length),Se.push(te);continue}if(te=this.tokenizer.tag(ne,ae,Me)){ne=ne.substring(te.raw.length),ae=te.inLink,Me=te.inRawBlock,(Ie=Se[Se.length-1])&&"text"===te.type&&"text"===Ie.type?(Ie.raw+=te.raw,Ie.text+=te.text):Se.push(te);continue}if(te=this.tokenizer.link(ne)){ne=ne.substring(te.raw.length),"link"===te.type&&(te.tokens=this.inlineTokens(te.text,[],!0,Me)),Se.push(te);continue}if(te=this.tokenizer.reflink(ne,this.tokens.links)){ne=ne.substring(te.raw.length),Ie=Se[Se.length-1],"link"===te.type?(te.tokens=this.inlineTokens(te.text,[],!0,Me),Se.push(te)):Ie&&"text"===te.type&&"text"===Ie.type?(Ie.raw+=te.raw,Ie.text+=te.text):Se.push(te);continue}if(te=this.tokenizer.emStrong(ne,qe,ui)){ne=ne.substring(te.raw.length),te.tokens=this.inlineTokens(te.text,[],ae,Me),Se.push(te);continue}if(te=this.tokenizer.codespan(ne)){ne=ne.substring(te.raw.length),Se.push(te);continue}if(te=this.tokenizer.br(ne)){ne=ne.substring(te.raw.length),Se.push(te);continue}if(te=this.tokenizer.del(ne)){ne=ne.substring(te.raw.length),te.tokens=this.inlineTokens(te.text,[],ae,Me),Se.push(te);continue}if(te=this.tokenizer.autolink(ne,Ht)){ne=ne.substring(te.raw.length),Se.push(te);continue}if(!ae&&(te=this.tokenizer.url(ne,Ht))){ne=ne.substring(te.raw.length),Se.push(te);continue}if(tn=ne,this.options.extensions&&this.options.extensions.startInline&&function(){var sn=1/0,Tn=ne.slice(1),Er=void 0;$e.options.extensions.startInline.forEach(function(In){"number"==typeof(Er=In.call(this,Tn))&&Er>=0&&(sn=Math.min(sn,Er))}),sn<1/0&&sn>=0&&(tn=ne.substring(0,sn+1))}(),te=this.tokenizer.inlineText(tn,Me,Ce)){ne=ne.substring(te.raw.length),"_"!==te.raw.slice(-1)&&(ui=te.raw.slice(-1)),Pn=!0,(Ie=Se[Se.length-1])&&"text"===Ie.type?(Ie.raw+=te.raw,Ie.text+=te.text):Se.push(te);continue}if(ne){var en="Infinite loop on byte: "+ne.charCodeAt(0);if(this.options.silent){console.error(en);break}throw new Error(en)}}return Se},function(Pe,ri,Ee){ri&&ot(Pe.prototype,ri),Ee&&ot(Pe,Ee)}(Pe,null,[{key:"rules",get:function(){return{block:jt,inline:Kt}}}]),Pe}(),yi=ct.exports.defaults,we=S_cleanUrl,de=S_escape,Fe=function(){function Pe(Ee){this.options=Ee||yi}var ri=Pe.prototype;return ri.code=function(ne,Se,ae){var Me=(Se||"").match(/\S*/)[0];if(this.options.highlight){var $e=this.options.highlight(ne,Me);null!=$e&&$e!==ne&&(ae=!0,ne=$e)}return ne=ne.replace(/\n$/,"")+"\n",Me?'<pre><code class="'+this.options.langPrefix+de(Me,!0)+'">'+(ae?ne:de(ne,!0))+"</code></pre>\n":"<pre><code>"+(ae?ne:de(ne,!0))+"</code></pre>\n"},ri.blockquote=function(ne){return"<blockquote>\n"+ne+"</blockquote>\n"},ri.html=function(ne){return ne},ri.heading=function(ne,Se,ae,Me){return this.options.headerIds?"<h"+Se+' id="'+this.options.headerPrefix+Me.slug(ae)+'">'+ne+"</h"+Se+">\n":"<h"+Se+">"+ne+"</h"+Se+">\n"},ri.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},ri.list=function(ne,Se,ae){var Me=Se?"ol":"ul";return"<"+Me+(Se&&1!==ae?' start="'+ae+'"':"")+">\n"+ne+"</"+Me+">\n"},ri.listitem=function(ne){return"<li>"+ne+"</li>\n"},ri.checkbox=function(ne){return"<input "+(ne?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ri.paragraph=function(ne){return"<p>"+ne+"</p>\n"},ri.table=function(ne,Se){return Se&&(Se="<tbody>"+Se+"</tbody>"),"<table>\n<thead>\n"+ne+"</thead>\n"+Se+"</table>\n"},ri.tablerow=function(ne){return"<tr>\n"+ne+"</tr>\n"},ri.tablecell=function(ne,Se){var ae=Se.header?"th":"td";return(Se.align?"<"+ae+' align="'+Se.align+'">':"<"+ae+">")+ne+"</"+ae+">\n"},ri.strong=function(ne){return"<strong>"+ne+"</strong>"},ri.em=function(ne){return"<em>"+ne+"</em>"},ri.codespan=function(ne){return"<code>"+ne+"</code>"},ri.br=function(){return this.options.xhtml?"<br/>":"<br>"},ri.del=function(ne){return"<del>"+ne+"</del>"},ri.link=function(ne,Se,ae){if(null===(ne=we(this.options.sanitize,this.options.baseUrl,ne)))return ae;var Me='<a href="'+de(ne)+'"';return Se&&(Me+=' title="'+Se+'"'),Me+">"+ae+"</a>"},ri.image=function(ne,Se,ae){if(null===(ne=we(this.options.sanitize,this.options.baseUrl,ne)))return ae;var Me='<img src="'+ne+'" alt="'+ae+'"';return Se&&(Me+=' title="'+Se+'"'),Me+(this.options.xhtml?"/>":">")},ri.text=function(ne){return ne},Pe}(),Yt=function(){function Pe(){}var ri=Pe.prototype;return ri.strong=function(ne){return ne},ri.em=function(ne){return ne},ri.codespan=function(ne){return ne},ri.del=function(ne){return ne},ri.html=function(ne){return ne},ri.text=function(ne){return ne},ri.link=function(ne,Se,ae){return""+ae},ri.image=function(ne,Se,ae){return""+ae},ri.br=function(){return""},Pe}(),ee=function(){function Pe(){this.seen={}}var ri=Pe.prototype;return ri.serialize=function(ne){return ne.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ri.getNextSafeSlug=function(ne,Se){var ae=ne,Me=0;if(this.seen.hasOwnProperty(ae)){Me=this.seen[ne];do{ae=ne+"-"+ ++Me}while(this.seen.hasOwnProperty(ae))}return Se||(this.seen[ne]=Me,this.seen[ae]=0),ae},ri.slug=function(ne,Se){void 0===Se&&(Se={});var ae=this.serialize(ne);return this.getNextSafeSlug(ae,Se.dryrun)},Pe}(),Re=Fe,Nt=Yt,vt=ee,at=ct.exports.defaults,qt=S_unescape,Xe=ge,ve=function(){function Pe(Ee){this.options=Ee||at,this.options.renderer=this.options.renderer||new Re,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Nt,this.slugger=new vt}Pe.parse=function(ne,Se){return new Pe(Se).parse(ne)},Pe.parseInline=function(ne,Se){return new Pe(Se).parseInline(ne)};var ri=Pe.prototype;return ri.parse=function(ne,Se){void 0===Se&&(Se=!0);var Me,$e,te,Ie,tn,qe,ci,Pn,ui,oi,en,sn,Tn,Er,In,Yn,nn,Or,fr,ae="",dr=ne.length;for(Me=0;Me<dr;Me++)if(oi=ne[Me],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[oi.type]&&(!1!==(fr=this.options.extensions.renderers[oi.type].call(this,oi))||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(oi.type)))ae+=fr||"";else switch(oi.type){case"space":continue;case"hr":ae+=this.renderer.hr();continue;case"heading":ae+=this.renderer.heading(this.parseInline(oi.tokens),oi.depth,qt(this.parseInline(oi.tokens,this.textRenderer)),this.slugger);continue;case"code":ae+=this.renderer.code(oi.text,oi.lang,oi.escaped);continue;case"table":for(Pn="",ci="",Ie=oi.header.length,$e=0;$e<Ie;$e++)ci+=this.renderer.tablecell(this.parseInline(oi.tokens.header[$e]),{header:!0,align:oi.align[$e]});for(Pn+=this.renderer.tablerow(ci),ui="",Ie=oi.cells.length,$e=0;$e<Ie;$e++){for(ci="",tn=(qe=oi.tokens.cells[$e]).length,te=0;te<tn;te++)ci+=this.renderer.tablecell(this.parseInline(qe[te]),{header:!1,align:oi.align[te]});ui+=this.renderer.tablerow(ci)}ae+=this.renderer.table(Pn,ui);continue;case"blockquote":ui=this.parse(oi.tokens),ae+=this.renderer.blockquote(ui);continue;case"list":for(en=oi.ordered,sn=oi.start,Tn=oi.loose,Ie=oi.items.length,ui="",$e=0;$e<Ie;$e++)Yn=(In=oi.items[$e]).checked,nn=In.task,Er="",In.task&&(Or=this.renderer.checkbox(Yn),Tn?In.tokens.length>0&&"text"===In.tokens[0].type?(In.tokens[0].text=Or+" "+In.tokens[0].text,In.tokens[0].tokens&&In.tokens[0].tokens.length>0&&"text"===In.tokens[0].tokens[0].type&&(In.tokens[0].tokens[0].text=Or+" "+In.tokens[0].tokens[0].text)):In.tokens.unshift({type:"text",text:Or}):Er+=Or),Er+=this.parse(In.tokens,Tn),ui+=this.renderer.listitem(Er,nn,Yn);ae+=this.renderer.list(ui,en,sn);continue;case"html":ae+=this.renderer.html(oi.text);continue;case"paragraph":ae+=this.renderer.paragraph(this.parseInline(oi.tokens));continue;case"text":for(ui=oi.tokens?this.parseInline(oi.tokens):oi.text;Me+1<dr&&"text"===ne[Me+1].type;)ui+="\n"+((oi=ne[++Me]).tokens?this.parseInline(oi.tokens):oi.text);ae+=Se?this.renderer.paragraph(ui):ui;continue;default:var Un='Token with "'+oi.type+'" type was not found.';if(this.options.silent)return void console.error(Un);throw new Error(Un)}return ae},ri.parseInline=function(ne,Se){Se=Se||this.renderer;var Me,$e,te,ae="",Ie=ne.length;for(Me=0;Me<Ie;Me++)if($e=ne[Me],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[$e.type]&&(!1!==(te=this.options.extensions.renderers[$e.type].call(this,$e))||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes($e.type)))ae+=te||"";else switch($e.type){case"escape":case"text":ae+=Se.text($e.text);break;case"html":ae+=Se.html($e.text);break;case"link":ae+=Se.link($e.href,$e.title,this.parseInline($e.tokens,Se));break;case"image":ae+=Se.image($e.href,$e.title,$e.text);break;case"strong":ae+=Se.strong(this.parseInline($e.tokens,Se));break;case"em":ae+=Se.em(this.parseInline($e.tokens,Se));break;case"codespan":ae+=Se.codespan($e.text);break;case"br":ae+=Se.br();break;case"del":ae+=Se.del(this.parseInline($e.tokens,Se));break;default:var tn='Token with "'+$e.type+'" type was not found.';if(this.options.silent)return void console.error(tn);throw new Error(tn)}return ae},Pe}(),Te=xt,Qi=Fe,ni=Yt,ei=ee,Ui=S_merge,mi=S_checkSanitizeDeprecation,bi=S_escape,En=ct.exports.getDefaults,_i=ct.exports.changeDefaults,He=ct.exports.defaults;function on(Pe,ri,Ee){if(null==Pe)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof Pe)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Pe)+", string expected");if("function"==typeof ri&&(Ee=ri,ri=null),ri=Ui({},on.defaults,ri||{}),mi(ri),Ee){var Se,ne=ri.highlight;try{Se=Xe.lex(Pe,ri)}catch(te){return Ee(te)}var ae=function(Ie){var tn;if(!Ie)try{ri.walkTokens&&on.walkTokens(Se,ri.walkTokens),tn=ve.parse(Se,ri)}catch(qe){Ie=qe}return ri.highlight=ne,Ie?Ee(Ie):Ee(null,tn)};if(!ne||ne.length<3||(delete ri.highlight,!Se.length))return ae();var Me=0;return on.walkTokens(Se,function(te){"code"===te.type&&(Me++,setTimeout(function(){ne(te.text,te.lang,function(Ie,tn){if(Ie)return ae(Ie);null!=tn&&tn!==te.text&&(te.text=tn,te.escaped=!0),0==--Me&&ae()})},0))}),void(0===Me&&ae())}try{var $e=Xe.lex(Pe,ri);return ri.walkTokens&&on.walkTokens($e,ri.walkTokens),ve.parse($e,ri)}catch(te){if(te.message+="\nPlease report this to https://github.com/markedjs/marked.",ri.silent)return"<p>An error occurred:</p><pre>"+bi(te.message+"",!0)+"</pre>";throw te}}return on.options=on.setOptions=function(Pe){return Ui(on.defaults,Pe),_i(on.defaults),on},on.getDefaults=En,on.defaults=He,on.use=function(){for(var Pe=this,ri=arguments.length,Ee=new Array(ri),ne=0;ne<ri;ne++)Ee[ne]=arguments[ne];var Me,Se=Ui.apply(void 0,[{}].concat(Ee)),ae=on.defaults.extensions||{renderers:{},childTokens:{}};Ee.forEach(function($e){if($e.extensions&&(Me=!0,$e.extensions.forEach(function(Ie){if(!Ie.name)throw new Error("extension name required");if(Ie.renderer){var tn=ae.renderers?ae.renderers[Ie.name]:null;ae.renderers[Ie.name]=tn?function(){for(var qe=arguments.length,ci=new Array(qe),Pn=0;Pn<qe;Pn++)ci[Pn]=arguments[Pn];var ui=Ie.renderer.apply(this,ci);return!1===ui&&(ui=tn.apply(this,ci)),ui}:Ie.renderer}if(Ie.tokenizer){if(!Ie.level||"block"!==Ie.level&&"inline"!==Ie.level)throw new Error("extension level must be 'block' or 'inline'");ae[Ie.level]?ae[Ie.level].unshift(Ie.tokenizer):ae[Ie.level]=[Ie.tokenizer],Ie.start&&("block"===Ie.level?ae.startBlock?ae.startBlock.push(Ie.start):ae.startBlock=[Ie.start]:"inline"===Ie.level&&(ae.startInline?ae.startInline.push(Ie.start):ae.startInline=[Ie.start]))}Ie.childTokens&&(ae.childTokens[Ie.name]=Ie.childTokens)})),$e.renderer&&function(){var Ie=on.defaults.renderer||new Qi,tn=function(Pn){var ui=Ie[Pn];Ie[Pn]=function(){for(var oi=arguments.length,en=new Array(oi),sn=0;sn<oi;sn++)en[sn]=arguments[sn];var Tn=$e.renderer[Pn].apply(Ie,en);return!1===Tn&&(Tn=ui.apply(Ie,en)),Tn}};for(var qe in $e.renderer)tn(qe);Se.renderer=Ie}(),$e.tokenizer&&function(){var Ie=on.defaults.tokenizer||new Te,tn=function(Pn){var ui=Ie[Pn];Ie[Pn]=function(){for(var oi=arguments.length,en=new Array(oi),sn=0;sn<oi;sn++)en[sn]=arguments[sn];var Tn=$e.tokenizer[Pn].apply(Ie,en);return!1===Tn&&(Tn=ui.apply(Ie,en)),Tn}};for(var qe in $e.tokenizer)tn(qe);Se.tokenizer=Ie}(),$e.walkTokens){var te=on.defaults.walkTokens;Se.walkTokens=function(Ie){$e.walkTokens.call(Pe,Ie),te&&te(Ie)}}Me&&(Se.extensions=ae),on.setOptions(Se)})},on.walkTokens=function(Pe,ri){for(var Se,Ee=function(){var Me=Se.value;switch(ri(Me),Me.type){case"table":for(var te,$e=ht(Me.tokens.header);!(te=$e()).done;)on.walkTokens(te.value,ri);for(var qe,tn=ht(Me.tokens.cells);!(qe=tn()).done;)for(var ui,Pn=ht(qe.value);!(ui=Pn()).done;)on.walkTokens(ui.value,ri);break;case"list":on.walkTokens(Me.items,ri);break;default:on.defaults.extensions&&on.defaults.extensions.childTokens&&on.defaults.extensions.childTokens[Me.type]?on.defaults.extensions.childTokens[Me.type].forEach(function(en){on.walkTokens(Me[en],ri)}):Me.tokens&&on.walkTokens(Me.tokens,ri)}},ne=ht(Pe);!(Se=ne()).done;)Ee()},on.parseInline=function(Pe,ri){if(null==Pe)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof Pe)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Pe)+", string expected");ri=Ui({},on.defaults,ri||{}),mi(ri);try{var Ee=Xe.lexInline(Pe,ri);return ri.walkTokens&&on.walkTokens(Ee,ri.walkTokens),ve.parseInline(Ee,ri)}catch(ne){if(ne.message+="\nPlease report this to https://github.com/markedjs/marked.",ri.silent)return"<p>An error occurred:</p><pre>"+bi(ne.message+"",!0)+"</pre>";throw ne}},on.Parser=ve,on.parser=ve.parse,on.Renderer=Qi,on.TextRenderer=ni,on.Lexer=Xe,on.lexer=Xe.lex,on.Tokenizer=Te,on.Slugger=ei,on.parse=on,on}()},2996:(fe,ot,kt)=>{"use strict";var Tt=kt(3516),Pt=kt(740),ht=kt(4615).Buffer,ct=new Array(16);function D(){Pt.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function $(j,tt){return j<<tt|j>>>32-tt}function X(j,tt,N,U,z,Y,q){return $(j+(tt&N|~tt&U)+z+Y|0,q)+tt|0}function it(j,tt,N,U,z,Y,q){return $(j+(tt&U|N&~U)+z+Y|0,q)+tt|0}function K(j,tt,N,U,z,Y,q){return $(j+(tt^N^U)+z+Y|0,q)+tt|0}function W(j,tt,N,U,z,Y,q){return $(j+(N^(tt|~U))+z+Y|0,q)+tt|0}Tt(D,Pt),D.prototype._update=function(){for(var j=ct,tt=0;tt<16;++tt)j[tt]=this._block.readInt32LE(4*tt);var N=this._a,U=this._b,z=this._c,Y=this._d;N=X(N,U,z,Y,j[0],3614090360,7),Y=X(Y,N,U,z,j[1],3905402710,12),z=X(z,Y,N,U,j[2],606105819,17),U=X(U,z,Y,N,j[3],3250441966,22),N=X(N,U,z,Y,j[4],4118548399,7),Y=X(Y,N,U,z,j[5],1200080426,12),z=X(z,Y,N,U,j[6],2821735955,17),U=X(U,z,Y,N,j[7],4249261313,22),N=X(N,U,z,Y,j[8],1770035416,7),Y=X(Y,N,U,z,j[9],2336552879,12),z=X(z,Y,N,U,j[10],4294925233,17),U=X(U,z,Y,N,j[11],2304563134,22),N=X(N,U,z,Y,j[12],1804603682,7),Y=X(Y,N,U,z,j[13],4254626195,12),z=X(z,Y,N,U,j[14],2792965006,17),N=it(N,U=X(U,z,Y,N,j[15],1236535329,22),z,Y,j[1],4129170786,5),Y=it(Y,N,U,z,j[6],3225465664,9),z=it(z,Y,N,U,j[11],643717713,14),U=it(U,z,Y,N,j[0],3921069994,20),N=it(N,U,z,Y,j[5],3593408605,5),Y=it(Y,N,U,z,j[10],38016083,9),z=it(z,Y,N,U,j[15],3634488961,14),U=it(U,z,Y,N,j[4],3889429448,20),N=it(N,U,z,Y,j[9],568446438,5),Y=it(Y,N,U,z,j[14],3275163606,9),z=it(z,Y,N,U,j[3],4107603335,14),U=it(U,z,Y,N,j[8],1163531501,20),N=it(N,U,z,Y,j[13],2850285829,5),Y=it(Y,N,U,z,j[2],4243563512,9),z=it(z,Y,N,U,j[7],1735328473,14),N=K(N,U=it(U,z,Y,N,j[12],2368359562,20),z,Y,j[5],4294588738,4),Y=K(Y,N,U,z,j[8],2272392833,11),z=K(z,Y,N,U,j[11],1839030562,16),U=K(U,z,Y,N,j[14],4259657740,23),N=K(N,U,z,Y,j[1],2763975236,4),Y=K(Y,N,U,z,j[4],1272893353,11),z=K(z,Y,N,U,j[7],4139469664,16),U=K(U,z,Y,N,j[10],3200236656,23),N=K(N,U,z,Y,j[13],681279174,4),Y=K(Y,N,U,z,j[0],3936430074,11),z=K(z,Y,N,U,j[3],3572445317,16),U=K(U,z,Y,N,j[6],76029189,23),N=K(N,U,z,Y,j[9],3654602809,4),Y=K(Y,N,U,z,j[12],3873151461,11),z=K(z,Y,N,U,j[15],530742520,16),N=W(N,U=K(U,z,Y,N,j[2],3299628645,23),z,Y,j[0],4096336452,6),Y=W(Y,N,U,z,j[7],1126891415,10),z=W(z,Y,N,U,j[14],2878612391,15),U=W(U,z,Y,N,j[5],4237533241,21),N=W(N,U,z,Y,j[12],1700485571,6),Y=W(Y,N,U,z,j[3],2399980690,10),z=W(z,Y,N,U,j[10],4293915773,15),U=W(U,z,Y,N,j[1],2240044497,21),N=W(N,U,z,Y,j[8],1873313359,6),Y=W(Y,N,U,z,j[15],4264355552,10),z=W(z,Y,N,U,j[6],2734768916,15),U=W(U,z,Y,N,j[13],1309151649,21),N=W(N,U,z,Y,j[4],4149444226,6),Y=W(Y,N,U,z,j[11],3174756917,10),z=W(z,Y,N,U,j[2],718787259,15),U=W(U,z,Y,N,j[9],3951481745,21),this._a=this._a+N|0,this._b=this._b+U|0,this._c=this._c+z|0,this._d=this._d+Y|0},D.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var j=ht.allocUnsafe(16);return j.writeInt32LE(this._a,0),j.writeInt32LE(this._b,4),j.writeInt32LE(this._c,8),j.writeInt32LE(this._d,12),j},fe.exports=D},2098:(fe,ot,kt)=>{var Tt=kt(2239),Pt=kt(3550);function ht(ct){this.rand=ct||new Pt.Rand}fe.exports=ht,ht.create=function(D){return new ht(D)},ht.prototype._randbelow=function(D){var $=D.bitLength(),X=Math.ceil($/8);do{var it=new Tt(this.rand.generate(X))}while(it.cmp(D)>=0);return it},ht.prototype._randrange=function(D,$){var X=$.sub(D);return D.add(this._randbelow(X))},ht.prototype.test=function(D,$,X){var it=D.bitLength(),K=Tt.mont(D),W=new Tt(1).toRed(K);$||($=Math.max(1,it/48|0));for(var j=D.subn(1),tt=0;!j.testn(tt);tt++);for(var N=D.shrn(tt),U=j.toRed(K);$>0;$--){var Y=this._randrange(new Tt(2),j);X&&X(Y);var q=Y.toRed(K).redPow(N);if(0!==q.cmp(W)&&0!==q.cmp(U)){for(var V=1;V<tt;V++){if(0===(q=q.redSqr()).cmp(W))return!1;if(0===q.cmp(U))break}if(V===tt)return!1}}return!0},ht.prototype.getDivisor=function(D,$){var X=D.bitLength(),it=Tt.mont(D),K=new Tt(1).toRed(it);$||($=Math.max(1,X/48|0));for(var W=D.subn(1),j=0;!W.testn(j);j++);for(var tt=D.shrn(j),N=W.toRed(it);$>0;$--){var U=this._randrange(new Tt(2),W),z=D.gcd(U);if(0!==z.cmpn(1))return z;var Y=U.toRed(it).redPow(tt);if(0!==Y.cmp(K)&&0!==Y.cmp(N)){for(var q=1;q<j;q++){if(0===(Y=Y.redSqr()).cmp(K))return Y.fromRed().subn(1).gcd(D);if(0===Y.cmp(N))break}if(q===j)return(Y=Y.redSqr()).fromRed().subn(1).gcd(D)}}return!1}},2239:function(fe,ot,kt){!function(Tt,Pt){"use strict";function ht(T,h){if(!T)throw new Error(h||"Assertion failed")}function ct(T,h){T.super_=h;var m=function(){};m.prototype=h.prototype,T.prototype=new m,T.prototype.constructor=T}function D(T,h,m){if(D.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,null!==T&&(("le"===h||"be"===h)&&(m=h,h=10),this._init(T||0,h||10,m||"be"))}var $;"object"==typeof Tt?Tt.exports=D:Pt.BN=D,D.BN=D,D.wordSize=26;try{$="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:kt(6619).Buffer}catch(T){}function X(T,h){var m=T.charCodeAt(h);return m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:m-48&15}function it(T,h,m){var y=X(T,m);return m-1>=h&&(y|=X(T,m-1)<<4),y}function K(T,h,m,y){for(var v=0,M=Math.min(T.length,m),S=h;S<M;S++){var P=T.charCodeAt(S)-48;v*=y,v+=P>=49?P-49+10:P>=17?P-17+10:P}return v}D.isBN=function(h){return h instanceof D||null!==h&&"object"==typeof h&&h.constructor.wordSize===D.wordSize&&Array.isArray(h.words)},D.max=function(h,m){return h.cmp(m)>0?h:m},D.min=function(h,m){return h.cmp(m)<0?h:m},D.prototype._init=function(h,m,y){if("number"==typeof h)return this._initNumber(h,m,y);if("object"==typeof h)return this._initArray(h,m,y);"hex"===m&&(m=16),ht(m===(0|m)&&m>=2&&m<=36);var v=0;"-"===(h=h.toString().replace(/\s+/g,""))[0]&&(v++,this.negative=1),v<h.length&&(16===m?this._parseHex(h,v,y):(this._parseBase(h,m,v),"le"===y&&this._initArray(this.toArray(),m,y)))},D.prototype._initNumber=function(h,m,y){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[67108863&h],this.length=1):h<4503599627370496?(this.words=[67108863&h,h/67108864&67108863],this.length=2):(ht(h<9007199254740992),this.words=[67108863&h,h/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),m,y)},D.prototype._initArray=function(h,m,y){if(ht("number"==typeof h.length),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var M,S,P=0;if("be"===y)for(v=h.length-1,M=0;v>=0;v-=3)this.words[M]|=(S=h[v]|h[v-1]<<8|h[v-2]<<16)<<P&67108863,this.words[M+1]=S>>>26-P&67108863,(P+=24)>=26&&(P-=26,M++);else if("le"===y)for(v=0,M=0;v<h.length;v+=3)this.words[M]|=(S=h[v]|h[v+1]<<8|h[v+2]<<16)<<P&67108863,this.words[M+1]=S>>>26-P&67108863,(P+=24)>=26&&(P-=26,M++);return this.strip()},D.prototype._parseHex=function(h,m,y){this.length=Math.ceil((h.length-m)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var P,M=0,S=0;if("be"===y)for(v=h.length-1;v>=m;v-=2)P=it(h,m,v)<<M,this.words[S]|=67108863&P,M>=18?(M-=18,this.words[S+=1]|=P>>>26):M+=8;else for(v=(h.length-m)%2==0?m+1:m;v<h.length;v+=2)P=it(h,m,v)<<M,this.words[S]|=67108863&P,M>=18?(M-=18,this.words[S+=1]|=P>>>26):M+=8;this.strip()},D.prototype._parseBase=function(h,m,y){this.words=[0],this.length=1;for(var v=0,M=1;M<=67108863;M*=m)v++;v--,M=M/m|0;for(var S=h.length-y,P=S%v,C=Math.min(S,S-P)+y,d=0,k=y;k<C;k+=v)d=K(h,k,k+v,m),this.imuln(M),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==P){var nt=1;for(d=K(h,k,h.length,m),k=0;k<P;k++)nt*=m;this.imuln(nt),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},D.prototype.copy=function(h){h.words=new Array(this.length);for(var m=0;m<this.length;m++)h.words[m]=this.words[m];h.length=this.length,h.negative=this.negative,h.red=this.red},D.prototype.clone=function(){var h=new D(null);return this.copy(h),h},D.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},D.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},D.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},D.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var W=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],j=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],tt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function U(T,h,m){m.negative=h.negative^T.negative;var y=T.length+h.length|0;m.length=y,y=y-1|0;var v=0|T.words[0],M=0|h.words[0],S=v*M,C=S/67108864|0;m.words[0]=67108863&S;for(var d=1;d<y;d++){for(var k=C>>>26,nt=67108863&C,Q=Math.min(d,h.length-1),J=Math.max(0,d-T.length+1);J<=Q;J++)k+=(S=(v=0|T.words[d-J|0])*(M=0|h.words[J])+nt)/67108864|0,nt=67108863&S;m.words[d]=0|nt,C=0|k}return 0!==C?m.words[d]=0|C:m.length--,m.strip()}D.prototype.toString=function(h,m){var y;if(m=0|m||1,16===(h=h||10)||"hex"===h){y="";for(var v=0,M=0,S=0;S<this.length;S++){var P=this.words[S],C=(16777215&(P<<v|M)).toString(16);y=0!=(M=P>>>24-v&16777215)||S!==this.length-1?W[6-C.length]+C+y:C+y,(v+=2)>=26&&(v-=26,S--)}for(0!==M&&(y=M.toString(16)+y);y.length%m!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(h===(0|h)&&h>=2&&h<=36){var d=j[h],k=tt[h];y="";var nt=this.clone();for(nt.negative=0;!nt.isZero();){var Q=nt.modn(k).toString(h);y=(nt=nt.idivn(k)).isZero()?Q+y:W[d-Q.length]+Q+y}for(this.isZero()&&(y="0"+y);y.length%m!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}ht(!1,"Base should be between 2 and 36")},D.prototype.toNumber=function(){var h=this.words[0];return 2===this.length?h+=67108864*this.words[1]:3===this.length&&1===this.words[2]?h+=4503599627370496+67108864*this.words[1]:this.length>2&&ht(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-h:h},D.prototype.toJSON=function(){return this.toString(16)},D.prototype.toBuffer=function(h,m){return ht(void 0!==$),this.toArrayLike($,h,m)},D.prototype.toArray=function(h,m){return this.toArrayLike(Array,h,m)},D.prototype.toArrayLike=function(h,m,y){var v=this.byteLength(),M=y||Math.max(1,v);ht(v<=M,"byte array longer than desired length"),ht(M>0,"Requested array length <= 0"),this.strip();var C,d,S="le"===m,P=new h(M),k=this.clone();if(S){for(d=0;!k.isZero();d++)C=k.andln(255),k.iushrn(8),P[d]=C;for(;d<M;d++)P[d]=0}else{for(d=0;d<M-v;d++)P[d]=0;for(d=0;!k.isZero();d++)C=k.andln(255),k.iushrn(8),P[M-d-1]=C}return P},D.prototype._countBits=Math.clz32?function(h){return 32-Math.clz32(h)}:function(h){var m=h,y=0;return m>=4096&&(y+=13,m>>>=13),m>=64&&(y+=7,m>>>=7),m>=8&&(y+=4,m>>>=4),m>=2&&(y+=2,m>>>=2),y+m},D.prototype._zeroBits=function(h){if(0===h)return 26;var m=h,y=0;return 0==(8191&m)&&(y+=13,m>>>=13),0==(127&m)&&(y+=7,m>>>=7),0==(15&m)&&(y+=4,m>>>=4),0==(3&m)&&(y+=2,m>>>=2),0==(1&m)&&y++,y},D.prototype.bitLength=function(){var m=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+m},D.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,m=0;m<this.length;m++){var y=this._zeroBits(this.words[m]);if(h+=y,26!==y)break}return h},D.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},D.prototype.toTwos=function(h){return 0!==this.negative?this.abs().inotn(h).iaddn(1):this.clone()},D.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},D.prototype.isNeg=function(){return 0!==this.negative},D.prototype.neg=function(){return this.clone().ineg()},D.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},D.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var m=0;m<h.length;m++)this.words[m]=this.words[m]|h.words[m];return this.strip()},D.prototype.ior=function(h){return ht(0==(this.negative|h.negative)),this.iuor(h)},D.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},D.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},D.prototype.iuand=function(h){var m;m=this.length>h.length?h:this;for(var y=0;y<m.length;y++)this.words[y]=this.words[y]&h.words[y];return this.length=m.length,this.strip()},D.prototype.iand=function(h){return ht(0==(this.negative|h.negative)),this.iuand(h)},D.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},D.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},D.prototype.iuxor=function(h){var m,y;this.length>h.length?(m=this,y=h):(m=h,y=this);for(var v=0;v<y.length;v++)this.words[v]=m.words[v]^y.words[v];if(this!==m)for(;v<m.length;v++)this.words[v]=m.words[v];return this.length=m.length,this.strip()},D.prototype.ixor=function(h){return ht(0==(this.negative|h.negative)),this.iuxor(h)},D.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},D.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},D.prototype.inotn=function(h){ht("number"==typeof h&&h>=0);var m=0|Math.ceil(h/26),y=h%26;this._expand(m),y>0&&m--;for(var v=0;v<m;v++)this.words[v]=67108863&~this.words[v];return y>0&&(this.words[v]=~this.words[v]&67108863>>26-y),this.strip()},D.prototype.notn=function(h){return this.clone().inotn(h)},D.prototype.setn=function(h,m){ht("number"==typeof h&&h>=0);var y=h/26|0,v=h%26;return this._expand(y+1),this.words[y]=m?this.words[y]|1<<v:this.words[y]&~(1<<v),this.strip()},D.prototype.iadd=function(h){var m,y,v;if(0!==this.negative&&0===h.negative)return this.negative=0,m=this.isub(h),this.negative^=1,this._normSign();if(0===this.negative&&0!==h.negative)return h.negative=0,m=this.isub(h),h.negative=1,m._normSign();this.length>h.length?(y=this,v=h):(y=h,v=this);for(var M=0,S=0;S<v.length;S++)this.words[S]=67108863&(m=(0|y.words[S])+(0|v.words[S])+M),M=m>>>26;for(;0!==M&&S<y.length;S++)this.words[S]=67108863&(m=(0|y.words[S])+M),M=m>>>26;if(this.length=y.length,0!==M)this.words[this.length]=M,this.length++;else if(y!==this)for(;S<y.length;S++)this.words[S]=y.words[S];return this},D.prototype.add=function(h){var m;return 0!==h.negative&&0===this.negative?(h.negative=0,m=this.sub(h),h.negative^=1,m):0===h.negative&&0!==this.negative?(this.negative=0,m=h.sub(this),this.negative=1,m):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},D.prototype.isub=function(h){if(0!==h.negative){h.negative=0;var m=this.iadd(h);return h.negative=1,m._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var v,M,y=this.cmp(h);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(v=this,M=h):(v=h,M=this);for(var S=0,P=0;P<M.length;P++)S=(m=(0|v.words[P])-(0|M.words[P])+S)>>26,this.words[P]=67108863&m;for(;0!==S&&P<v.length;P++)S=(m=(0|v.words[P])+S)>>26,this.words[P]=67108863&m;if(0===S&&P<v.length&&v!==this)for(;P<v.length;P++)this.words[P]=v.words[P];return this.length=Math.max(this.length,P),v!==this&&(this.negative=1),this.strip()},D.prototype.sub=function(h){return this.clone().isub(h)};var z=function(h,m,y){var C,d,k,v=h.words,M=m.words,S=y.words,P=0,nt=0|v[0],Q=8191&nt,J=nt>>>13,xt=0|v[1],wt=8191&xt,Ft=xt>>>13,Gt=0|v[2],It=8191&Gt,_t=Gt>>>13,Zt=0|v[3],Ot=8191&Zt,At=Zt>>>13,jt=0|v[4],Kt=8191&jt,Vt=jt>>>13,Ce=0|v[5],Ht=8191&Ce,ge=Ce>>>13,yi=0|v[6],we=8191&yi,de=yi>>>13,Fe=0|v[7],Yt=8191&Fe,ee=Fe>>>13,Re=0|v[8],Nt=8191&Re,vt=Re>>>13,at=0|v[9],qt=8191&at,he=at>>>13,Xe=0|M[0],ve=8191&Xe,Te=Xe>>>13,Qi=0|M[1],ni=8191&Qi,ei=Qi>>>13,Ui=0|M[2],mi=8191&Ui,bi=Ui>>>13,En=0|M[3],_i=8191&En,He=En>>>13,on=0|M[4],Di=8191&on,Pe=on>>>13,ri=0|M[5],Ee=8191&ri,ne=ri>>>13,Se=0|M[6],ae=8191&Se,Me=Se>>>13,$e=0|M[7],te=8191&$e,Ie=$e>>>13,tn=0|M[8],qe=8191&tn,ci=tn>>>13,Pn=0|M[9],ui=8191&Pn,oi=Pn>>>13;y.negative=h.negative^m.negative,y.length=19;var en=(P+(C=Math.imul(Q,ve))|0)+((8191&(d=(d=Math.imul(Q,Te))+Math.imul(J,ve)|0))<<13)|0;P=((k=Math.imul(J,Te))+(d>>>13)|0)+(en>>>26)|0,en&=67108863,C=Math.imul(wt,ve),d=(d=Math.imul(wt,Te))+Math.imul(Ft,ve)|0,k=Math.imul(Ft,Te);var sn=(P+(C=C+Math.imul(Q,ni)|0)|0)+((8191&(d=(d=d+Math.imul(Q,ei)|0)+Math.imul(J,ni)|0))<<13)|0;P=((k=k+Math.imul(J,ei)|0)+(d>>>13)|0)+(sn>>>26)|0,sn&=67108863,C=Math.imul(It,ve),d=(d=Math.imul(It,Te))+Math.imul(_t,ve)|0,k=Math.imul(_t,Te),C=C+Math.imul(wt,ni)|0,d=(d=d+Math.imul(wt,ei)|0)+Math.imul(Ft,ni)|0,k=k+Math.imul(Ft,ei)|0;var Tn=(P+(C=C+Math.imul(Q,mi)|0)|0)+((8191&(d=(d=d+Math.imul(Q,bi)|0)+Math.imul(J,mi)|0))<<13)|0;P=((k=k+Math.imul(J,bi)|0)+(d>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,C=Math.imul(Ot,ve),d=(d=Math.imul(Ot,Te))+Math.imul(At,ve)|0,k=Math.imul(At,Te),C=C+Math.imul(It,ni)|0,d=(d=d+Math.imul(It,ei)|0)+Math.imul(_t,ni)|0,k=k+Math.imul(_t,ei)|0,C=C+Math.imul(wt,mi)|0,d=(d=d+Math.imul(wt,bi)|0)+Math.imul(Ft,mi)|0,k=k+Math.imul(Ft,bi)|0;var Er=(P+(C=C+Math.imul(Q,_i)|0)|0)+((8191&(d=(d=d+Math.imul(Q,He)|0)+Math.imul(J,_i)|0))<<13)|0;P=((k=k+Math.imul(J,He)|0)+(d>>>13)|0)+(Er>>>26)|0,Er&=67108863,C=Math.imul(Kt,ve),d=(d=Math.imul(Kt,Te))+Math.imul(Vt,ve)|0,k=Math.imul(Vt,Te),C=C+Math.imul(Ot,ni)|0,d=(d=d+Math.imul(Ot,ei)|0)+Math.imul(At,ni)|0,k=k+Math.imul(At,ei)|0,C=C+Math.imul(It,mi)|0,d=(d=d+Math.imul(It,bi)|0)+Math.imul(_t,mi)|0,k=k+Math.imul(_t,bi)|0,C=C+Math.imul(wt,_i)|0,d=(d=d+Math.imul(wt,He)|0)+Math.imul(Ft,_i)|0,k=k+Math.imul(Ft,He)|0;var In=(P+(C=C+Math.imul(Q,Di)|0)|0)+((8191&(d=(d=d+Math.imul(Q,Pe)|0)+Math.imul(J,Di)|0))<<13)|0;P=((k=k+Math.imul(J,Pe)|0)+(d>>>13)|0)+(In>>>26)|0,In&=67108863,C=Math.imul(Ht,ve),d=(d=Math.imul(Ht,Te))+Math.imul(ge,ve)|0,k=Math.imul(ge,Te),C=C+Math.imul(Kt,ni)|0,d=(d=d+Math.imul(Kt,ei)|0)+Math.imul(Vt,ni)|0,k=k+Math.imul(Vt,ei)|0,C=C+Math.imul(Ot,mi)|0,d=(d=d+Math.imul(Ot,bi)|0)+Math.imul(At,mi)|0,k=k+Math.imul(At,bi)|0,C=C+Math.imul(It,_i)|0,d=(d=d+Math.imul(It,He)|0)+Math.imul(_t,_i)|0,k=k+Math.imul(_t,He)|0,C=C+Math.imul(wt,Di)|0,d=(d=d+Math.imul(wt,Pe)|0)+Math.imul(Ft,Di)|0,k=k+Math.imul(Ft,Pe)|0;var Yn=(P+(C=C+Math.imul(Q,Ee)|0)|0)+((8191&(d=(d=d+Math.imul(Q,ne)|0)+Math.imul(J,Ee)|0))<<13)|0;P=((k=k+Math.imul(J,ne)|0)+(d>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,C=Math.imul(we,ve),d=(d=Math.imul(we,Te))+Math.imul(de,ve)|0,k=Math.imul(de,Te),C=C+Math.imul(Ht,ni)|0,d=(d=d+Math.imul(Ht,ei)|0)+Math.imul(ge,ni)|0,k=k+Math.imul(ge,ei)|0,C=C+Math.imul(Kt,mi)|0,d=(d=d+Math.imul(Kt,bi)|0)+Math.imul(Vt,mi)|0,k=k+Math.imul(Vt,bi)|0,C=C+Math.imul(Ot,_i)|0,d=(d=d+Math.imul(Ot,He)|0)+Math.imul(At,_i)|0,k=k+Math.imul(At,He)|0,C=C+Math.imul(It,Di)|0,d=(d=d+Math.imul(It,Pe)|0)+Math.imul(_t,Di)|0,k=k+Math.imul(_t,Pe)|0,C=C+Math.imul(wt,Ee)|0,d=(d=d+Math.imul(wt,ne)|0)+Math.imul(Ft,Ee)|0,k=k+Math.imul(Ft,ne)|0;var nn=(P+(C=C+Math.imul(Q,ae)|0)|0)+((8191&(d=(d=d+Math.imul(Q,Me)|0)+Math.imul(J,ae)|0))<<13)|0;P=((k=k+Math.imul(J,Me)|0)+(d>>>13)|0)+(nn>>>26)|0,nn&=67108863,C=Math.imul(Yt,ve),d=(d=Math.imul(Yt,Te))+Math.imul(ee,ve)|0,k=Math.imul(ee,Te),C=C+Math.imul(we,ni)|0,d=(d=d+Math.imul(we,ei)|0)+Math.imul(de,ni)|0,k=k+Math.imul(de,ei)|0,C=C+Math.imul(Ht,mi)|0,d=(d=d+Math.imul(Ht,bi)|0)+Math.imul(ge,mi)|0,k=k+Math.imul(ge,bi)|0,C=C+Math.imul(Kt,_i)|0,d=(d=d+Math.imul(Kt,He)|0)+Math.imul(Vt,_i)|0,k=k+Math.imul(Vt,He)|0,C=C+Math.imul(Ot,Di)|0,d=(d=d+Math.imul(Ot,Pe)|0)+Math.imul(At,Di)|0,k=k+Math.imul(At,Pe)|0,C=C+Math.imul(It,Ee)|0,d=(d=d+Math.imul(It,ne)|0)+Math.imul(_t,Ee)|0,k=k+Math.imul(_t,ne)|0,C=C+Math.imul(wt,ae)|0,d=(d=d+Math.imul(wt,Me)|0)+Math.imul(Ft,ae)|0,k=k+Math.imul(Ft,Me)|0;var Or=(P+(C=C+Math.imul(Q,te)|0)|0)+((8191&(d=(d=d+Math.imul(Q,Ie)|0)+Math.imul(J,te)|0))<<13)|0;P=((k=k+Math.imul(J,Ie)|0)+(d>>>13)|0)+(Or>>>26)|0,Or&=67108863,C=Math.imul(Nt,ve),d=(d=Math.imul(Nt,Te))+Math.imul(vt,ve)|0,k=Math.imul(vt,Te),C=C+Math.imul(Yt,ni)|0,d=(d=d+Math.imul(Yt,ei)|0)+Math.imul(ee,ni)|0,k=k+Math.imul(ee,ei)|0,C=C+Math.imul(we,mi)|0,d=(d=d+Math.imul(we,bi)|0)+Math.imul(de,mi)|0,k=k+Math.imul(de,bi)|0,C=C+Math.imul(Ht,_i)|0,d=(d=d+Math.imul(Ht,He)|0)+Math.imul(ge,_i)|0,k=k+Math.imul(ge,He)|0,C=C+Math.imul(Kt,Di)|0,d=(d=d+Math.imul(Kt,Pe)|0)+Math.imul(Vt,Di)|0,k=k+Math.imul(Vt,Pe)|0,C=C+Math.imul(Ot,Ee)|0,d=(d=d+Math.imul(Ot,ne)|0)+Math.imul(At,Ee)|0,k=k+Math.imul(At,ne)|0,C=C+Math.imul(It,ae)|0,d=(d=d+Math.imul(It,Me)|0)+Math.imul(_t,ae)|0,k=k+Math.imul(_t,Me)|0,C=C+Math.imul(wt,te)|0,d=(d=d+Math.imul(wt,Ie)|0)+Math.imul(Ft,te)|0,k=k+Math.imul(Ft,Ie)|0;var fr=(P+(C=C+Math.imul(Q,qe)|0)|0)+((8191&(d=(d=d+Math.imul(Q,ci)|0)+Math.imul(J,qe)|0))<<13)|0;P=((k=k+Math.imul(J,ci)|0)+(d>>>13)|0)+(fr>>>26)|0,fr&=67108863,C=Math.imul(qt,ve),d=(d=Math.imul(qt,Te))+Math.imul(he,ve)|0,k=Math.imul(he,Te),C=C+Math.imul(Nt,ni)|0,d=(d=d+Math.imul(Nt,ei)|0)+Math.imul(vt,ni)|0,k=k+Math.imul(vt,ei)|0,C=C+Math.imul(Yt,mi)|0,d=(d=d+Math.imul(Yt,bi)|0)+Math.imul(ee,mi)|0,k=k+Math.imul(ee,bi)|0,C=C+Math.imul(we,_i)|0,d=(d=d+Math.imul(we,He)|0)+Math.imul(de,_i)|0,k=k+Math.imul(de,He)|0,C=C+Math.imul(Ht,Di)|0,d=(d=d+Math.imul(Ht,Pe)|0)+Math.imul(ge,Di)|0,k=k+Math.imul(ge,Pe)|0,C=C+Math.imul(Kt,Ee)|0,d=(d=d+Math.imul(Kt,ne)|0)+Math.imul(Vt,Ee)|0,k=k+Math.imul(Vt,ne)|0,C=C+Math.imul(Ot,ae)|0,d=(d=d+Math.imul(Ot,Me)|0)+Math.imul(At,ae)|0,k=k+Math.imul(At,Me)|0,C=C+Math.imul(It,te)|0,d=(d=d+Math.imul(It,Ie)|0)+Math.imul(_t,te)|0,k=k+Math.imul(_t,Ie)|0,C=C+Math.imul(wt,qe)|0,d=(d=d+Math.imul(wt,ci)|0)+Math.imul(Ft,qe)|0,k=k+Math.imul(Ft,ci)|0;var dr=(P+(C=C+Math.imul(Q,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Q,oi)|0)+Math.imul(J,ui)|0))<<13)|0;P=((k=k+Math.imul(J,oi)|0)+(d>>>13)|0)+(dr>>>26)|0,dr&=67108863,C=Math.imul(qt,ni),d=(d=Math.imul(qt,ei))+Math.imul(he,ni)|0,k=Math.imul(he,ei),C=C+Math.imul(Nt,mi)|0,d=(d=d+Math.imul(Nt,bi)|0)+Math.imul(vt,mi)|0,k=k+Math.imul(vt,bi)|0,C=C+Math.imul(Yt,_i)|0,d=(d=d+Math.imul(Yt,He)|0)+Math.imul(ee,_i)|0,k=k+Math.imul(ee,He)|0,C=C+Math.imul(we,Di)|0,d=(d=d+Math.imul(we,Pe)|0)+Math.imul(de,Di)|0,k=k+Math.imul(de,Pe)|0,C=C+Math.imul(Ht,Ee)|0,d=(d=d+Math.imul(Ht,ne)|0)+Math.imul(ge,Ee)|0,k=k+Math.imul(ge,ne)|0,C=C+Math.imul(Kt,ae)|0,d=(d=d+Math.imul(Kt,Me)|0)+Math.imul(Vt,ae)|0,k=k+Math.imul(Vt,Me)|0,C=C+Math.imul(Ot,te)|0,d=(d=d+Math.imul(Ot,Ie)|0)+Math.imul(At,te)|0,k=k+Math.imul(At,Ie)|0,C=C+Math.imul(It,qe)|0,d=(d=d+Math.imul(It,ci)|0)+Math.imul(_t,qe)|0,k=k+Math.imul(_t,ci)|0;var Un=(P+(C=C+Math.imul(wt,ui)|0)|0)+((8191&(d=(d=d+Math.imul(wt,oi)|0)+Math.imul(Ft,ui)|0))<<13)|0;P=((k=k+Math.imul(Ft,oi)|0)+(d>>>13)|0)+(Un>>>26)|0,Un&=67108863,C=Math.imul(qt,mi),d=(d=Math.imul(qt,bi))+Math.imul(he,mi)|0,k=Math.imul(he,bi),C=C+Math.imul(Nt,_i)|0,d=(d=d+Math.imul(Nt,He)|0)+Math.imul(vt,_i)|0,k=k+Math.imul(vt,He)|0,C=C+Math.imul(Yt,Di)|0,d=(d=d+Math.imul(Yt,Pe)|0)+Math.imul(ee,Di)|0,k=k+Math.imul(ee,Pe)|0,C=C+Math.imul(we,Ee)|0,d=(d=d+Math.imul(we,ne)|0)+Math.imul(de,Ee)|0,k=k+Math.imul(de,ne)|0,C=C+Math.imul(Ht,ae)|0,d=(d=d+Math.imul(Ht,Me)|0)+Math.imul(ge,ae)|0,k=k+Math.imul(ge,Me)|0,C=C+Math.imul(Kt,te)|0,d=(d=d+Math.imul(Kt,Ie)|0)+Math.imul(Vt,te)|0,k=k+Math.imul(Vt,Ie)|0,C=C+Math.imul(Ot,qe)|0,d=(d=d+Math.imul(Ot,ci)|0)+Math.imul(At,qe)|0,k=k+Math.imul(At,ci)|0;var xo=(P+(C=C+Math.imul(It,ui)|0)|0)+((8191&(d=(d=d+Math.imul(It,oi)|0)+Math.imul(_t,ui)|0))<<13)|0;P=((k=k+Math.imul(_t,oi)|0)+(d>>>13)|0)+(xo>>>26)|0,xo&=67108863,C=Math.imul(qt,_i),d=(d=Math.imul(qt,He))+Math.imul(he,_i)|0,k=Math.imul(he,He),C=C+Math.imul(Nt,Di)|0,d=(d=d+Math.imul(Nt,Pe)|0)+Math.imul(vt,Di)|0,k=k+Math.imul(vt,Pe)|0,C=C+Math.imul(Yt,Ee)|0,d=(d=d+Math.imul(Yt,ne)|0)+Math.imul(ee,Ee)|0,k=k+Math.imul(ee,ne)|0,C=C+Math.imul(we,ae)|0,d=(d=d+Math.imul(we,Me)|0)+Math.imul(de,ae)|0,k=k+Math.imul(de,Me)|0,C=C+Math.imul(Ht,te)|0,d=(d=d+Math.imul(Ht,Ie)|0)+Math.imul(ge,te)|0,k=k+Math.imul(ge,Ie)|0,C=C+Math.imul(Kt,qe)|0,d=(d=d+Math.imul(Kt,ci)|0)+Math.imul(Vt,qe)|0,k=k+Math.imul(Vt,ci)|0;var ki=(P+(C=C+Math.imul(Ot,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Ot,oi)|0)+Math.imul(At,ui)|0))<<13)|0;P=((k=k+Math.imul(At,oi)|0)+(d>>>13)|0)+(ki>>>26)|0,ki&=67108863,C=Math.imul(qt,Di),d=(d=Math.imul(qt,Pe))+Math.imul(he,Di)|0,k=Math.imul(he,Pe),C=C+Math.imul(Nt,Ee)|0,d=(d=d+Math.imul(Nt,ne)|0)+Math.imul(vt,Ee)|0,k=k+Math.imul(vt,ne)|0,C=C+Math.imul(Yt,ae)|0,d=(d=d+Math.imul(Yt,Me)|0)+Math.imul(ee,ae)|0,k=k+Math.imul(ee,Me)|0,C=C+Math.imul(we,te)|0,d=(d=d+Math.imul(we,Ie)|0)+Math.imul(de,te)|0,k=k+Math.imul(de,Ie)|0,C=C+Math.imul(Ht,qe)|0,d=(d=d+Math.imul(Ht,ci)|0)+Math.imul(ge,qe)|0,k=k+Math.imul(ge,ci)|0;var hn=(P+(C=C+Math.imul(Kt,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Kt,oi)|0)+Math.imul(Vt,ui)|0))<<13)|0;P=((k=k+Math.imul(Vt,oi)|0)+(d>>>13)|0)+(hn>>>26)|0,hn&=67108863,C=Math.imul(qt,Ee),d=(d=Math.imul(qt,ne))+Math.imul(he,Ee)|0,k=Math.imul(he,ne),C=C+Math.imul(Nt,ae)|0,d=(d=d+Math.imul(Nt,Me)|0)+Math.imul(vt,ae)|0,k=k+Math.imul(vt,Me)|0,C=C+Math.imul(Yt,te)|0,d=(d=d+Math.imul(Yt,Ie)|0)+Math.imul(ee,te)|0,k=k+Math.imul(ee,Ie)|0,C=C+Math.imul(we,qe)|0,d=(d=d+Math.imul(we,ci)|0)+Math.imul(de,qe)|0,k=k+Math.imul(de,ci)|0;var ar=(P+(C=C+Math.imul(Ht,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Ht,oi)|0)+Math.imul(ge,ui)|0))<<13)|0;P=((k=k+Math.imul(ge,oi)|0)+(d>>>13)|0)+(ar>>>26)|0,ar&=67108863,C=Math.imul(qt,ae),d=(d=Math.imul(qt,Me))+Math.imul(he,ae)|0,k=Math.imul(he,Me),C=C+Math.imul(Nt,te)|0,d=(d=d+Math.imul(Nt,Ie)|0)+Math.imul(vt,te)|0,k=k+Math.imul(vt,Ie)|0,C=C+Math.imul(Yt,qe)|0,d=(d=d+Math.imul(Yt,ci)|0)+Math.imul(ee,qe)|0,k=k+Math.imul(ee,ci)|0;var bn=(P+(C=C+Math.imul(we,ui)|0)|0)+((8191&(d=(d=d+Math.imul(we,oi)|0)+Math.imul(de,ui)|0))<<13)|0;P=((k=k+Math.imul(de,oi)|0)+(d>>>13)|0)+(bn>>>26)|0,bn&=67108863,C=Math.imul(qt,te),d=(d=Math.imul(qt,Ie))+Math.imul(he,te)|0,k=Math.imul(he,Ie),C=C+Math.imul(Nt,qe)|0,d=(d=d+Math.imul(Nt,ci)|0)+Math.imul(vt,qe)|0,k=k+Math.imul(vt,ci)|0;var vo=(P+(C=C+Math.imul(Yt,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Yt,oi)|0)+Math.imul(ee,ui)|0))<<13)|0;P=((k=k+Math.imul(ee,oi)|0)+(d>>>13)|0)+(vo>>>26)|0,vo&=67108863,C=Math.imul(qt,qe),d=(d=Math.imul(qt,ci))+Math.imul(he,qe)|0,k=Math.imul(he,ci);var Ao=(P+(C=C+Math.imul(Nt,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Nt,oi)|0)+Math.imul(vt,ui)|0))<<13)|0;P=((k=k+Math.imul(vt,oi)|0)+(d>>>13)|0)+(Ao>>>26)|0,Ao&=67108863;var Vi=(P+(C=Math.imul(qt,ui))|0)+((8191&(d=(d=Math.imul(qt,oi))+Math.imul(he,ui)|0))<<13)|0;return P=((k=Math.imul(he,oi))+(d>>>13)|0)+(Vi>>>26)|0,Vi&=67108863,S[0]=en,S[1]=sn,S[2]=Tn,S[3]=Er,S[4]=In,S[5]=Yn,S[6]=nn,S[7]=Or,S[8]=fr,S[9]=dr,S[10]=Un,S[11]=xo,S[12]=ki,S[13]=hn,S[14]=ar,S[15]=bn,S[16]=vo,S[17]=Ao,S[18]=Vi,0!==P&&(S[19]=P,y.length++),y};function q(T,h,m){return(new V).mulp(T,h,m)}function V(T,h){this.x=T,this.y=h}Math.imul||(z=U),D.prototype.mulTo=function(h,m){var y,v=this.length+h.length;return y=10===this.length&&10===h.length?z(this,h,m):v<63?U(this,h,m):v<1024?function(T,h,m){m.negative=h.negative^T.negative,m.length=T.length+h.length;for(var y=0,v=0,M=0;M<m.length-1;M++){var S=v;v=0;for(var P=67108863&y,C=Math.min(M,h.length-1),d=Math.max(0,M-T.length+1);d<=C;d++){var J=(0|T.words[M-d])*(0|h.words[d]),xt=67108863&J;P=67108863&(xt=xt+P|0),v+=(S=(S=S+(J/67108864|0)|0)+(xt>>>26)|0)>>>26,S&=67108863}m.words[M]=P,y=S,S=v}return 0!==y?m.words[M]=y:m.length--,m.strip()}(this,h,m):q(this,h,m),y},V.prototype.makeRBT=function(h){for(var m=new Array(h),y=D.prototype._countBits(h)-1,v=0;v<h;v++)m[v]=this.revBin(v,y,h);return m},V.prototype.revBin=function(h,m,y){if(0===h||h===y-1)return h;for(var v=0,M=0;M<m;M++)v|=(1&h)<<m-M-1,h>>=1;return v},V.prototype.permute=function(h,m,y,v,M,S){for(var P=0;P<S;P++)v[P]=m[h[P]],M[P]=y[h[P]]},V.prototype.transform=function(h,m,y,v,M,S){this.permute(S,h,m,y,v,M);for(var P=1;P<M;P<<=1)for(var C=P<<1,d=Math.cos(2*Math.PI/C),k=Math.sin(2*Math.PI/C),nt=0;nt<M;nt+=C)for(var Q=d,J=k,xt=0;xt<P;xt++){var wt=y[nt+xt],Ft=v[nt+xt],Gt=y[nt+xt+P],It=v[nt+xt+P],_t=Q*Gt-J*It;It=Q*It+J*Gt,y[nt+xt]=wt+(Gt=_t),v[nt+xt]=Ft+It,y[nt+xt+P]=wt-Gt,v[nt+xt+P]=Ft-It,xt!==C&&(_t=d*Q-k*J,J=d*J+k*Q,Q=_t)}},V.prototype.guessLen13b=function(h,m){var y=1|Math.max(m,h),v=1&y,M=0;for(y=y/2|0;y;y>>>=1)M++;return 1<<M+1+v},V.prototype.conjugate=function(h,m,y){if(!(y<=1))for(var v=0;v<y/2;v++){var M=h[v];h[v]=h[y-v-1],h[y-v-1]=M,M=m[v],m[v]=-m[y-v-1],m[y-v-1]=-M}},V.prototype.normalize13b=function(h,m){for(var y=0,v=0;v<m/2;v++){var M=8192*Math.round(h[2*v+1]/m)+Math.round(h[2*v]/m)+y;h[v]=67108863&M,y=M<67108864?0:M/67108864|0}return h},V.prototype.convert13b=function(h,m,y,v){for(var M=0,S=0;S<m;S++)y[2*S]=8191&(M+=0|h[S]),y[2*S+1]=8191&(M>>>=13),M>>>=13;for(S=2*m;S<v;++S)y[S]=0;ht(0===M),ht(0==(-8192&M))},V.prototype.stub=function(h){for(var m=new Array(h),y=0;y<h;y++)m[y]=0;return m},V.prototype.mulp=function(h,m,y){var v=2*this.guessLen13b(h.length,m.length),M=this.makeRBT(v),S=this.stub(v),P=new Array(v),C=new Array(v),d=new Array(v),k=new Array(v),nt=new Array(v),Q=new Array(v),J=y.words;J.length=v,this.convert13b(h.words,h.length,P,v),this.convert13b(m.words,m.length,k,v),this.transform(P,S,C,d,v,M),this.transform(k,S,nt,Q,v,M);for(var xt=0;xt<v;xt++){var wt=C[xt]*nt[xt]-d[xt]*Q[xt];d[xt]=C[xt]*Q[xt]+d[xt]*nt[xt],C[xt]=wt}return this.conjugate(C,d,v),this.transform(C,d,J,S,v,M),this.conjugate(J,S,v),this.normalize13b(J,v),y.negative=h.negative^m.negative,y.length=h.length+m.length,y.strip()},D.prototype.mul=function(h){var m=new D(null);return m.words=new Array(this.length+h.length),this.mulTo(h,m)},D.prototype.mulf=function(h){var m=new D(null);return m.words=new Array(this.length+h.length),q(this,h,m)},D.prototype.imul=function(h){return this.clone().mulTo(h,this)},D.prototype.imuln=function(h){ht("number"==typeof h),ht(h<67108864);for(var m=0,y=0;y<this.length;y++){var v=(0|this.words[y])*h,M=(67108863&v)+(67108863&m);m>>=26,m+=v/67108864|0,m+=M>>>26,this.words[y]=67108863&M}return 0!==m&&(this.words[y]=m,this.length++),this},D.prototype.muln=function(h){return this.clone().imuln(h)},D.prototype.sqr=function(){return this.mul(this)},D.prototype.isqr=function(){return this.imul(this.clone())},D.prototype.pow=function(h){var m=function(T){for(var h=new Array(T.bitLength()),m=0;m<h.length;m++){var v=m%26;h[m]=(T.words[m/26|0]&1<<v)>>>v}return h}(h);if(0===m.length)return new D(1);for(var y=this,v=0;v<m.length&&0===m[v];v++,y=y.sqr());if(++v<m.length)for(var M=y.sqr();v<m.length;v++,M=M.sqr())0!==m[v]&&(y=y.mul(M));return y},D.prototype.iushln=function(h){ht("number"==typeof h&&h>=0);var M,m=h%26,y=(h-m)/26,v=67108863>>>26-m<<26-m;if(0!==m){var S=0;for(M=0;M<this.length;M++){var P=this.words[M]&v;this.words[M]=(0|this.words[M])-P<<m|S,S=P>>>26-m}S&&(this.words[M]=S,this.length++)}if(0!==y){for(M=this.length-1;M>=0;M--)this.words[M+y]=this.words[M];for(M=0;M<y;M++)this.words[M]=0;this.length+=y}return this.strip()},D.prototype.ishln=function(h){return ht(0===this.negative),this.iushln(h)},D.prototype.iushrn=function(h,m,y){var v;ht("number"==typeof h&&h>=0),v=m?(m-m%26)/26:0;var M=h%26,S=Math.min((h-M)/26,this.length),P=67108863^67108863>>>M<<M,C=y;if(v-=S,v=Math.max(0,v),C){for(var d=0;d<S;d++)C.words[d]=this.words[d];C.length=S}if(0!==S)if(this.length>S)for(this.length-=S,d=0;d<this.length;d++)this.words[d]=this.words[d+S];else this.words[0]=0,this.length=1;var k=0;for(d=this.length-1;d>=0&&(0!==k||d>=v);d--){var nt=0|this.words[d];this.words[d]=k<<26-M|nt>>>M,k=nt&P}return C&&0!==k&&(C.words[C.length++]=k),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},D.prototype.ishrn=function(h,m,y){return ht(0===this.negative),this.iushrn(h,m,y)},D.prototype.shln=function(h){return this.clone().ishln(h)},D.prototype.ushln=function(h){return this.clone().iushln(h)},D.prototype.shrn=function(h){return this.clone().ishrn(h)},D.prototype.ushrn=function(h){return this.clone().iushrn(h)},D.prototype.testn=function(h){ht("number"==typeof h&&h>=0);var m=h%26,y=(h-m)/26;return!(this.length<=y||!(this.words[y]&1<<m))},D.prototype.imaskn=function(h){ht("number"==typeof h&&h>=0);var m=h%26,y=(h-m)/26;return ht(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==m&&y++,this.length=Math.min(y,this.length),0!==m&&(this.words[this.length-1]&=67108863^67108863>>>m<<m),this.strip())},D.prototype.maskn=function(h){return this.clone().imaskn(h)},D.prototype.iaddn=function(h){return ht("number"==typeof h),ht(h<67108864),h<0?this.isubn(-h):0!==this.negative?1===this.length&&(0|this.words[0])<h?(this.words[0]=h-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},D.prototype._iaddn=function(h){this.words[0]+=h;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},D.prototype.isubn=function(h){if(ht("number"==typeof h),ht(h<67108864),h<0)return this.iaddn(-h);if(0!==this.negative)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this.strip()},D.prototype.addn=function(h){return this.clone().iaddn(h)},D.prototype.subn=function(h){return this.clone().isubn(h)},D.prototype.iabs=function(){return this.negative=0,this},D.prototype.abs=function(){return this.clone().iabs()},D.prototype._ishlnsubmul=function(h,m,y){var M;this._expand(h.length+y);var S,P=0;for(M=0;M<h.length;M++){S=(0|this.words[M+y])+P;var C=(0|h.words[M])*m;P=((S-=67108863&C)>>26)-(C/67108864|0),this.words[M+y]=67108863&S}for(;M<this.length-y;M++)P=(S=(0|this.words[M+y])+P)>>26,this.words[M+y]=67108863&S;if(0===P)return this.strip();for(ht(-1===P),P=0,M=0;M<this.length;M++)P=(S=-(0|this.words[M])+P)>>26,this.words[M]=67108863&S;return this.negative=1,this.strip()},D.prototype._wordDiv=function(h,m){var y,v=this.clone(),M=h,S=0|M.words[M.length-1];0!=(y=26-this._countBits(S))&&(M=M.ushln(y),v.iushln(y),S=0|M.words[M.length-1]);var d,C=v.length-M.length;if("mod"!==m){(d=new D(null)).length=C+1,d.words=new Array(d.length);for(var k=0;k<d.length;k++)d.words[k]=0}var nt=v.clone()._ishlnsubmul(M,1,C);0===nt.negative&&(v=nt,d&&(d.words[C]=1));for(var Q=C-1;Q>=0;Q--){var J=67108864*(0|v.words[M.length+Q])+(0|v.words[M.length+Q-1]);for(J=Math.min(J/S|0,67108863),v._ishlnsubmul(M,J,Q);0!==v.negative;)J--,v.negative=0,v._ishlnsubmul(M,1,Q),v.isZero()||(v.negative^=1);d&&(d.words[Q]=J)}return d&&d.strip(),v.strip(),"div"!==m&&0!==y&&v.iushrn(y),{div:d||null,mod:v}},D.prototype.divmod=function(h,m,y){return ht(!h.isZero()),this.isZero()?{div:new D(0),mod:new D(0)}:0!==this.negative&&0===h.negative?(S=this.neg().divmod(h,m),"mod"!==m&&(v=S.div.neg()),"div"!==m&&(M=S.mod.neg(),y&&0!==M.negative&&M.iadd(h)),{div:v,mod:M}):0===this.negative&&0!==h.negative?(S=this.divmod(h.neg(),m),"mod"!==m&&(v=S.div.neg()),{div:v,mod:S.mod}):0!=(this.negative&h.negative)?(S=this.neg().divmod(h.neg(),m),"div"!==m&&(M=S.mod.neg(),y&&0!==M.negative&&M.isub(h)),{div:S.div,mod:M}):h.length>this.length||this.cmp(h)<0?{div:new D(0),mod:this}:1===h.length?"div"===m?{div:this.divn(h.words[0]),mod:null}:"mod"===m?{div:null,mod:new D(this.modn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new D(this.modn(h.words[0]))}:this._wordDiv(h,m);var v,M,S},D.prototype.div=function(h){return this.divmod(h,"div",!1).div},D.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},D.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},D.prototype.divRound=function(h){var m=this.divmod(h);if(m.mod.isZero())return m.div;var y=0!==m.div.negative?m.mod.isub(h):m.mod,v=h.ushrn(1),M=h.andln(1),S=y.cmp(v);return S<0||1===M&&0===S?m.div:0!==m.div.negative?m.div.isubn(1):m.div.iaddn(1)},D.prototype.modn=function(h){ht(h<=67108863);for(var m=(1<<26)%h,y=0,v=this.length-1;v>=0;v--)y=(m*y+(0|this.words[v]))%h;return y},D.prototype.idivn=function(h){ht(h<=67108863);for(var m=0,y=this.length-1;y>=0;y--){var v=(0|this.words[y])+67108864*m;this.words[y]=v/h|0,m=v%h}return this.strip()},D.prototype.divn=function(h){return this.clone().idivn(h)},D.prototype.egcd=function(h){ht(0===h.negative),ht(!h.isZero());var m=this,y=h.clone();m=0!==m.negative?m.umod(h):m.clone();for(var v=new D(1),M=new D(0),S=new D(0),P=new D(1),C=0;m.isEven()&&y.isEven();)m.iushrn(1),y.iushrn(1),++C;for(var d=y.clone(),k=m.clone();!m.isZero();){for(var nt=0,Q=1;0==(m.words[0]&Q)&&nt<26;++nt,Q<<=1);if(nt>0)for(m.iushrn(nt);nt-- >0;)(v.isOdd()||M.isOdd())&&(v.iadd(d),M.isub(k)),v.iushrn(1),M.iushrn(1);for(var J=0,xt=1;0==(y.words[0]&xt)&&J<26;++J,xt<<=1);if(J>0)for(y.iushrn(J);J-- >0;)(S.isOdd()||P.isOdd())&&(S.iadd(d),P.isub(k)),S.iushrn(1),P.iushrn(1);m.cmp(y)>=0?(m.isub(y),v.isub(S),M.isub(P)):(y.isub(m),S.isub(v),P.isub(M))}return{a:S,b:P,gcd:y.iushln(C)}},D.prototype._invmp=function(h){ht(0===h.negative),ht(!h.isZero());var nt,m=this,y=h.clone();m=0!==m.negative?m.umod(h):m.clone();for(var v=new D(1),M=new D(0),S=y.clone();m.cmpn(1)>0&&y.cmpn(1)>0;){for(var P=0,C=1;0==(m.words[0]&C)&&P<26;++P,C<<=1);if(P>0)for(m.iushrn(P);P-- >0;)v.isOdd()&&v.iadd(S),v.iushrn(1);for(var d=0,k=1;0==(y.words[0]&k)&&d<26;++d,k<<=1);if(d>0)for(y.iushrn(d);d-- >0;)M.isOdd()&&M.iadd(S),M.iushrn(1);m.cmp(y)>=0?(m.isub(y),v.isub(M)):(y.isub(m),M.isub(v))}return(nt=0===m.cmpn(1)?v:M).cmpn(0)<0&&nt.iadd(h),nt},D.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var m=this.clone(),y=h.clone();m.negative=0,y.negative=0;for(var v=0;m.isEven()&&y.isEven();v++)m.iushrn(1),y.iushrn(1);for(;;){for(;m.isEven();)m.iushrn(1);for(;y.isEven();)y.iushrn(1);var M=m.cmp(y);if(M<0){var S=m;m=y,y=S}else if(0===M||0===y.cmpn(1))break;m.isub(y)}return y.iushln(v)},D.prototype.invm=function(h){return this.egcd(h).a.umod(h)},D.prototype.isEven=function(){return 0==(1&this.words[0])},D.prototype.isOdd=function(){return 1==(1&this.words[0])},D.prototype.andln=function(h){return this.words[0]&h},D.prototype.bincn=function(h){ht("number"==typeof h);var m=h%26,y=(h-m)/26,v=1<<m;if(this.length<=y)return this._expand(y+1),this.words[y]|=v,this;for(var M=v,S=y;0!==M&&S<this.length;S++){var P=0|this.words[S];M=(P+=M)>>>26,this.words[S]=P&=67108863}return 0!==M&&(this.words[S]=M,this.length++),this},D.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},D.prototype.cmpn=function(h){var y,m=h<0;if(0!==this.negative&&!m)return-1;if(0===this.negative&&m)return 1;if(this.strip(),this.length>1)y=1;else{m&&(h=-h),ht(h<=67108863,"Number is too big");var v=0|this.words[0];y=v===h?0:v<h?-1:1}return 0!==this.negative?0|-y:y},D.prototype.cmp=function(h){if(0!==this.negative&&0===h.negative)return-1;if(0===this.negative&&0!==h.negative)return 1;var m=this.ucmp(h);return 0!==this.negative?0|-m:m},D.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var m=0,y=this.length-1;y>=0;y--){var v=0|this.words[y],M=0|h.words[y];if(v!==M){v<M?m=-1:v>M&&(m=1);break}}return m},D.prototype.gtn=function(h){return 1===this.cmpn(h)},D.prototype.gt=function(h){return 1===this.cmp(h)},D.prototype.gten=function(h){return this.cmpn(h)>=0},D.prototype.gte=function(h){return this.cmp(h)>=0},D.prototype.ltn=function(h){return-1===this.cmpn(h)},D.prototype.lt=function(h){return-1===this.cmp(h)},D.prototype.lten=function(h){return this.cmpn(h)<=0},D.prototype.lte=function(h){return this.cmp(h)<=0},D.prototype.eqn=function(h){return 0===this.cmpn(h)},D.prototype.eq=function(h){return 0===this.cmp(h)},D.red=function(h){return new Dt(h)},D.prototype.toRed=function(h){return ht(!this.red,"Already a number in reduction context"),ht(0===this.negative,"red works only with positives"),h.convertTo(this)._forceRed(h)},D.prototype.fromRed=function(){return ht(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},D.prototype._forceRed=function(h){return this.red=h,this},D.prototype.forceRed=function(h){return ht(!this.red,"Already a number in reduction context"),this._forceRed(h)},D.prototype.redAdd=function(h){return ht(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},D.prototype.redIAdd=function(h){return ht(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},D.prototype.redSub=function(h){return ht(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},D.prototype.redISub=function(h){return ht(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},D.prototype.redShl=function(h){return ht(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},D.prototype.redMul=function(h){return ht(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},D.prototype.redIMul=function(h){return ht(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},D.prototype.redSqr=function(){return ht(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},D.prototype.redISqr=function(){return ht(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},D.prototype.redSqrt=function(){return ht(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},D.prototype.redInvm=function(){return ht(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},D.prototype.redNeg=function(){return ht(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},D.prototype.redPow=function(h){return ht(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var Z={k256:null,p224:null,p192:null,p25519:null};function et(T,h){this.name=T,this.p=new D(h,16),this.n=this.p.bitLength(),this.k=new D(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function rt(){et.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function mt(){et.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function gt(){et.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Et(){et.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Dt(T){if("string"==typeof T){var h=D._prime(T);this.m=h.p,this.prime=h}else ht(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}function Mt(T){Dt.call(this,T),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new D(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}et.prototype._tmp=function(){var h=new D(null);return h.words=new Array(Math.ceil(this.n/13)),h},et.prototype.ireduce=function(h){var y,m=h;do{this.split(m,this.tmp),y=(m=(m=this.imulK(m)).iadd(this.tmp)).bitLength()}while(y>this.n);var v=y<this.n?-1:m.ucmp(this.p);return 0===v?(m.words[0]=0,m.length=1):v>0?m.isub(this.p):void 0!==m.strip?m.strip():m._strip(),m},et.prototype.split=function(h,m){h.iushrn(this.n,0,m)},et.prototype.imulK=function(h){return h.imul(this.k)},ct(rt,et),rt.prototype.split=function(h,m){for(var y=4194303,v=Math.min(h.length,9),M=0;M<v;M++)m.words[M]=h.words[M];if(m.length=v,h.length<=9)return h.words[0]=0,void(h.length=1);var S=h.words[9];for(m.words[m.length++]=S&y,M=10;M<h.length;M++){var P=0|h.words[M];h.words[M-10]=(P&y)<<4|S>>>22,S=P}h.words[M-10]=S>>>=22,h.length-=0===S&&h.length>10?10:9},rt.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var m=0,y=0;y<h.length;y++){var v=0|h.words[y];h.words[y]=67108863&(m+=977*v),m=64*v+(m/67108864|0)}return 0===h.words[h.length-1]&&(h.length--,0===h.words[h.length-1]&&h.length--),h},ct(mt,et),ct(gt,et),ct(Et,et),Et.prototype.imulK=function(h){for(var m=0,y=0;y<h.length;y++){var v=19*(0|h.words[y])+m,M=67108863&v;v>>>=26,h.words[y]=M,m=v}return 0!==m&&(h.words[h.length++]=m),h},D._prime=function(h){if(Z[h])return Z[h];var m;if("k256"===h)m=new rt;else if("p224"===h)m=new mt;else if("p192"===h)m=new gt;else{if("p25519"!==h)throw new Error("Unknown prime "+h);m=new Et}return Z[h]=m,m},Dt.prototype._verify1=function(h){ht(0===h.negative,"red works only with positives"),ht(h.red,"red works only with red numbers")},Dt.prototype._verify2=function(h,m){ht(0==(h.negative|m.negative),"red works only with positives"),ht(h.red&&h.red===m.red,"red works only with red numbers")},Dt.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):h.umod(this.m)._forceRed(this)},Dt.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},Dt.prototype.add=function(h,m){this._verify2(h,m);var y=h.add(m);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},Dt.prototype.iadd=function(h,m){this._verify2(h,m);var y=h.iadd(m);return y.cmp(this.m)>=0&&y.isub(this.m),y},Dt.prototype.sub=function(h,m){this._verify2(h,m);var y=h.sub(m);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},Dt.prototype.isub=function(h,m){this._verify2(h,m);var y=h.isub(m);return y.cmpn(0)<0&&y.iadd(this.m),y},Dt.prototype.shl=function(h,m){return this._verify1(h),this.imod(h.ushln(m))},Dt.prototype.imul=function(h,m){return this._verify2(h,m),this.imod(h.imul(m))},Dt.prototype.mul=function(h,m){return this._verify2(h,m),this.imod(h.mul(m))},Dt.prototype.isqr=function(h){return this.imul(h,h.clone())},Dt.prototype.sqr=function(h){return this.mul(h,h)},Dt.prototype.sqrt=function(h){if(h.isZero())return h.clone();var m=this.m.andln(3);if(ht(m%2==1),3===m){var y=this.m.add(new D(1)).iushrn(2);return this.pow(h,y)}for(var v=this.m.subn(1),M=0;!v.isZero()&&0===v.andln(1);)M++,v.iushrn(1);ht(!v.isZero());var S=new D(1).toRed(this),P=S.redNeg(),C=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new D(2*d*d).toRed(this);0!==this.pow(d,C).cmp(P);)d.redIAdd(P);for(var k=this.pow(d,v),nt=this.pow(h,v.addn(1).iushrn(1)),Q=this.pow(h,v),J=M;0!==Q.cmp(S);){for(var xt=Q,wt=0;0!==xt.cmp(S);wt++)xt=xt.redSqr();ht(wt<J);var Ft=this.pow(k,new D(1).iushln(J-wt-1));nt=nt.redMul(Ft),k=Ft.redSqr(),Q=Q.redMul(k),J=wt}return nt},Dt.prototype.invm=function(h){var m=h._invmp(this.m);return 0!==m.negative?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},Dt.prototype.pow=function(h,m){if(m.isZero())return new D(1).toRed(this);if(0===m.cmpn(1))return h.clone();var v=new Array(16);v[0]=new D(1).toRed(this),v[1]=h;for(var M=2;M<v.length;M++)v[M]=this.mul(v[M-1],h);var S=v[0],P=0,C=0,d=m.bitLength()%26;for(0===d&&(d=26),M=m.length-1;M>=0;M--){for(var k=m.words[M],nt=d-1;nt>=0;nt--){var Q=k>>nt&1;S!==v[0]&&(S=this.sqr(S)),0!==Q||0!==P?(P<<=1,P|=Q,(4==++C||0===M&&0===nt)&&(S=this.mul(S,v[P]),C=0,P=0)):C=0}d=26}return S},Dt.prototype.convertTo=function(h){var m=h.umod(this.m);return m===h?m.clone():m},Dt.prototype.convertFrom=function(h){var m=h.clone();return m.red=null,m},D.mont=function(h){return new Mt(h)},ct(Mt,Dt),Mt.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},Mt.prototype.convertFrom=function(h){var m=this.imod(h.mul(this.rinv));return m.red=null,m},Mt.prototype.imul=function(h,m){if(h.isZero()||m.isZero())return h.words[0]=0,h.length=1,h;var y=h.imul(m),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(v).iushrn(this.shift),S=M;return M.cmp(this.m)>=0?S=M.isub(this.m):M.cmpn(0)<0&&(S=M.iadd(this.m)),S._forceRed(this)},Mt.prototype.mul=function(h,m){if(h.isZero()||m.isZero())return new D(0)._forceRed(this);var y=h.mul(m),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(v).iushrn(this.shift),S=M;return M.cmp(this.m)>=0?S=M.isub(this.m):M.cmpn(0)<0&&(S=M.iadd(this.m)),S._forceRed(this)},Mt.prototype.invm=function(h){return this.imod(h._invmp(this.m).mul(this.r2))._forceRed(this)}}(fe=kt.nmd(fe),this)},4725:fe=>{function ot(kt,Tt){if(!kt)throw new Error(Tt||"Assertion failed")}fe.exports=ot,ot.equal=function(Tt,Pt,ht){if(Tt!=Pt)throw new Error(ht||"Assertion failed: "+Tt+" != "+Pt)}},1171:(fe,ot)=>{"use strict";var kt=ot;function Pt(ct){return 1===ct.length?"0"+ct:ct}function ht(ct){for(var D="",$=0;$<ct.length;$++)D+=Pt(ct[$].toString(16));return D}kt.toArray=function(ct,D){if(Array.isArray(ct))return ct.slice();if(!ct)return[];var $=[];if("string"!=typeof ct){for(var X=0;X<ct.length;X++)$[X]=0|ct[X];return $}if("hex"===D)for((ct=ct.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(ct="0"+ct),X=0;X<ct.length;X+=2)$.push(parseInt(ct[X]+ct[X+1],16));else for(X=0;X<ct.length;X++){var it=ct.charCodeAt(X),K=it>>8,W=255&it;K?$.push(K,W):$.push(W)}return $},kt.zero2=Pt,kt.toHex=ht,kt.encode=function(D,$){return"hex"===$?ht(D):D}},9817:(fe,ot,kt)=>{"use strict";var Tt=kt(46);ot.certificate=kt(191);var Pt=Tt.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});ot.RSAPrivateKey=Pt;var ht=Tt.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});ot.RSAPublicKey=ht;var ct=Tt.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(D),this.key("subjectPublicKey").bitstr())});ot.PublicKey=ct;var D=Tt.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),$=Tt.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(D),this.key("subjectPrivateKey").octstr())});ot.PrivateKey=$;var X=Tt.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});ot.EncryptedPrivateKey=X;var it=Tt.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});ot.DSAPrivateKey=it,ot.DSAparam=Tt.define("DSAparam",function(){this.int()});var K=Tt.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(W),this.key("publicKey").optional().explicit(1).bitstr())});ot.ECPrivateKey=K;var W=Tt.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});ot.signature=Tt.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},191:(fe,ot,kt)=>{"use strict";var Tt=kt(46),Pt=Tt.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),ht=Tt.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),ct=Tt.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),D=Tt.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(ct),this.key("subjectPublicKey").bitstr())}),$=Tt.define("RelativeDistinguishedName",function(){this.setof(ht)}),X=Tt.define("RDNSequence",function(){this.seqof($)}),it=Tt.define("Name",function(){this.choice({rdnSequence:this.use(X)})}),K=Tt.define("Validity",function(){this.seq().obj(this.key("notBefore").use(Pt),this.key("notAfter").use(Pt))}),W=Tt.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),j=Tt.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(ct),this.key("issuer").use(it),this.key("validity").use(K),this.key("subject").use(it),this.key("subjectPublicKeyInfo").use(D),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(W).optional())}),tt=Tt.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(j),this.key("signatureAlgorithm").use(ct),this.key("signatureValue").bitstr())});fe.exports=tt},5380:(fe,ot,kt)=>{var Tt=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,Pt=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,ht=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,ct=kt(4539),D=kt(8809),$=kt(4615).Buffer;fe.exports=function(X,it){var j,K=X.toString(),W=K.match(Tt);if(W){var N="aes"+W[1],U=$.from(W[2],"hex"),z=$.from(W[3].replace(/[\r\n]/g,""),"base64"),Y=ct(it,U.slice(0,8),parseInt(W[1],10)).key,q=[],V=D.createDecipheriv(N,Y,U);q.push(V.update(z)),q.push(V.final()),j=$.concat(q)}else{var tt=K.match(ht);j=$.from(tt[2].replace(/[\r\n]/g,""),"base64")}return{tag:K.match(Pt)[1],data:j}}},347:(fe,ot,kt)=>{var Tt=kt(9817),Pt=kt(2562),ht=kt(5380),ct=kt(8809),D=kt(6556),$=kt(4615).Buffer;function X(K){var W;"object"==typeof K&&!$.isBuffer(K)&&(W=K.passphrase,K=K.key),"string"==typeof K&&(K=$.from(K));var U,z,j=ht(K,W),tt=j.tag,N=j.data;switch(tt){case"CERTIFICATE":z=Tt.certificate.decode(N,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(z||(z=Tt.PublicKey.decode(N,"der")),U=z.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return Tt.RSAPublicKey.decode(z.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return z.subjectPrivateKey=z.subjectPublicKey,{type:"ec",data:z};case"1.2.840.10040.4.1":return z.algorithm.params.pub_key=Tt.DSAparam.decode(z.subjectPublicKey.data,"der"),{type:"dsa",data:z.algorithm.params};default:throw new Error("unknown key id "+U)}case"ENCRYPTED PRIVATE KEY":N=function(K,W){var j=K.algorithm.decrypt.kde.kdeparams.salt,tt=parseInt(K.algorithm.decrypt.kde.kdeparams.iters.toString(),10),N=Pt[K.algorithm.decrypt.cipher.algo.join(".")],U=K.algorithm.decrypt.cipher.iv,z=K.subjectPrivateKey,Y=parseInt(N.split("-")[1],10)/8,q=D.pbkdf2Sync(W,j,tt,Y,"sha1"),V=ct.createDecipheriv(N,q,U),Z=[];return Z.push(V.update(z)),Z.push(V.final()),$.concat(Z)}(N=Tt.EncryptedPrivateKey.decode(N,"der"),W);case"PRIVATE KEY":switch(U=(z=Tt.PrivateKey.decode(N,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return Tt.RSAPrivateKey.decode(z.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:z.algorithm.curve,privateKey:Tt.ECPrivateKey.decode(z.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return z.algorithm.params.priv_key=Tt.DSAparam.decode(z.subjectPrivateKey,"der"),{type:"dsa",params:z.algorithm.params};default:throw new Error("unknown key id "+U)}case"RSA PUBLIC KEY":return Tt.RSAPublicKey.decode(N,"der");case"RSA PRIVATE KEY":return Tt.RSAPrivateKey.decode(N,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:Tt.DSAPrivateKey.decode(N,"der")};case"EC PRIVATE KEY":return{curve:(N=Tt.ECPrivateKey.decode(N,"der")).parameters.value,privateKey:N.privateKey};default:throw new Error("unknown key type "+tt)}}fe.exports=X,X.signature=Tt.signature},6556:(fe,ot,kt)=>{ot.pbkdf2=kt(3373),ot.pbkdf2Sync=kt(9791)},3373:(fe,ot,kt)=>{var $,j,Tt=kt(4615).Buffer,Pt=kt(3605),ht=kt(8184),ct=kt(9791),D=kt(474),X=global.crypto&&global.crypto.subtle,it={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},K=[];function tt(){return j||(j=global.process&&global.process.nextTick?global.process.nextTick:global.queueMicrotask?global.queueMicrotask:global.setImmediate?global.setImmediate:global.setTimeout)}function N(z,Y,q,V,Z){return X.importKey("raw",z,{name:"PBKDF2"},!1,["deriveBits"]).then(function(et){return X.deriveBits({name:"PBKDF2",salt:Y,iterations:q,hash:{name:Z}},et,V<<3)}).then(function(et){return Tt.from(et)})}fe.exports=function(z,Y,q,V,Z,et){"function"==typeof Z&&(et=Z,Z=void 0);var rt=it[(Z=Z||"sha1").toLowerCase()];if(rt&&"function"==typeof global.Promise){if(Pt(q,V),z=D(z,ht,"Password"),Y=D(Y,ht,"Salt"),"function"!=typeof et)throw new Error("No callback provided to pbkdf2");!function(z,Y){z.then(function(q){tt()(function(){Y(null,q)})},function(q){tt()(function(){Y(q)})})}(function(z){if(global.process&&!global.process.browser||!X||!X.importKey||!X.deriveBits)return Promise.resolve(!1);if(void 0!==K[z])return K[z];var Y=N($=$||Tt.alloc(8),$,10,128,z).then(function(){return!0}).catch(function(){return!1});return K[z]=Y,Y}(rt).then(function(mt){return mt?N(z,Y,q,V,rt):ct(z,Y,q,V,Z)}),et)}else tt()(function(){var mt;try{mt=ct(z,Y,q,V,Z)}catch(gt){return et(gt)}et(null,mt)})}},8184:fe=>{var ot;ot=global.process&&global.process.browser?"utf-8":global.process&&global.process.version?parseInt(process.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",fe.exports=ot},3605:fe=>{var ot=Math.pow(2,30)-1;fe.exports=function(kt,Tt){if("number"!=typeof kt)throw new TypeError("Iterations not a number");if(kt<0)throw new TypeError("Bad iterations");if("number"!=typeof Tt)throw new TypeError("Key length not a number");if(Tt<0||Tt>ot||Tt!=Tt)throw new TypeError("Bad key length")}},9791:(fe,ot,kt)=>{var Tt=kt(4936),Pt=kt(7447),ht=kt(6010),ct=kt(4615).Buffer,D=kt(3605),$=kt(8184),X=kt(474),it=ct.alloc(128),K={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function W(N,U,z){var Y=function(N){return"rmd160"===N||"ripemd160"===N?function(Y){return(new Pt).update(Y).digest()}:"md5"===N?Tt:function(Y){return ht(N).update(Y).digest()}}(N),q="sha512"===N||"sha384"===N?128:64;U.length>q?U=Y(U):U.length<q&&(U=ct.concat([U,it],q));for(var V=ct.allocUnsafe(q+K[N]),Z=ct.allocUnsafe(q+K[N]),et=0;et<q;et++)V[et]=54^U[et],Z[et]=92^U[et];var rt=ct.allocUnsafe(q+z+4);V.copy(rt,0,0,q),this.ipad1=rt,this.ipad2=V,this.opad=Z,this.alg=N,this.blocksize=q,this.hash=Y,this.size=K[N]}W.prototype.run=function(N,U){return N.copy(U,this.blocksize),this.hash(U).copy(this.opad,this.blocksize),this.hash(this.opad)},fe.exports=function(N,U,z,Y,q){D(z,Y);var V=new W(q=q||"sha1",N=X(N,$,"Password"),(U=X(U,$,"Salt")).length),Z=ct.allocUnsafe(Y),et=ct.allocUnsafe(U.length+4);U.copy(et,0,0,U.length);for(var rt=0,mt=K[q],gt=Math.ceil(Y/mt),Et=1;Et<=gt;Et++){et.writeUInt32BE(Et,U.length);for(var Dt=V.run(et,V.ipad1),Mt=Dt,T=1;T<z;T++){Mt=V.run(Mt,V.ipad2);for(var h=0;h<mt;h++)Dt[h]^=Mt[h]}Dt.copy(Z,rt),rt+=mt}return Z}},474:(fe,ot,kt)=>{var Tt=kt(4615).Buffer;fe.exports=function(Pt,ht,ct){if(Tt.isBuffer(Pt))return Pt;if("string"==typeof Pt)return Tt.from(Pt,ht);if(ArrayBuffer.isView(Pt))return Tt.from(Pt.buffer);throw new TypeError(ct+" must be a string, a Buffer, a typed array or a DataView")}},2914:(fe,ot,kt)=>{ot.publicEncrypt=kt(793),ot.privateDecrypt=kt(3009),ot.privateEncrypt=function(Pt,ht){return ot.publicEncrypt(Pt,ht,!0)},ot.publicDecrypt=function(Pt,ht){return ot.privateDecrypt(Pt,ht,!0)}},9129:(fe,ot,kt)=>{var Tt=kt(4979),Pt=kt(4615).Buffer;function ht(ct){var D=Pt.allocUnsafe(4);return D.writeUInt32BE(ct,0),D}fe.exports=function(ct,D){for(var it,$=Pt.alloc(0),X=0;$.length<D;)it=ht(X++),$=Pt.concat([$,Tt("sha1").update(ct).update(it).digest()]);return $.slice(0,D)}},8847:function(fe,ot,kt){!function(Tt,Pt){"use strict";function ht(T,h){if(!T)throw new Error(h||"Assertion failed")}function ct(T,h){T.super_=h;var m=function(){};m.prototype=h.prototype,T.prototype=new m,T.prototype.constructor=T}function D(T,h,m){if(D.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,null!==T&&(("le"===h||"be"===h)&&(m=h,h=10),this._init(T||0,h||10,m||"be"))}var $;"object"==typeof Tt?Tt.exports=D:Pt.BN=D,D.BN=D,D.wordSize=26;try{$="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:kt(7108).Buffer}catch(T){}function X(T,h){var m=T.charCodeAt(h);return m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:m-48&15}function it(T,h,m){var y=X(T,m);return m-1>=h&&(y|=X(T,m-1)<<4),y}function K(T,h,m,y){for(var v=0,M=Math.min(T.length,m),S=h;S<M;S++){var P=T.charCodeAt(S)-48;v*=y,v+=P>=49?P-49+10:P>=17?P-17+10:P}return v}D.isBN=function(h){return h instanceof D||null!==h&&"object"==typeof h&&h.constructor.wordSize===D.wordSize&&Array.isArray(h.words)},D.max=function(h,m){return h.cmp(m)>0?h:m},D.min=function(h,m){return h.cmp(m)<0?h:m},D.prototype._init=function(h,m,y){if("number"==typeof h)return this._initNumber(h,m,y);if("object"==typeof h)return this._initArray(h,m,y);"hex"===m&&(m=16),ht(m===(0|m)&&m>=2&&m<=36);var v=0;"-"===(h=h.toString().replace(/\s+/g,""))[0]&&(v++,this.negative=1),v<h.length&&(16===m?this._parseHex(h,v,y):(this._parseBase(h,m,v),"le"===y&&this._initArray(this.toArray(),m,y)))},D.prototype._initNumber=function(h,m,y){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[67108863&h],this.length=1):h<4503599627370496?(this.words=[67108863&h,h/67108864&67108863],this.length=2):(ht(h<9007199254740992),this.words=[67108863&h,h/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),m,y)},D.prototype._initArray=function(h,m,y){if(ht("number"==typeof h.length),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var M,S,P=0;if("be"===y)for(v=h.length-1,M=0;v>=0;v-=3)this.words[M]|=(S=h[v]|h[v-1]<<8|h[v-2]<<16)<<P&67108863,this.words[M+1]=S>>>26-P&67108863,(P+=24)>=26&&(P-=26,M++);else if("le"===y)for(v=0,M=0;v<h.length;v+=3)this.words[M]|=(S=h[v]|h[v+1]<<8|h[v+2]<<16)<<P&67108863,this.words[M+1]=S>>>26-P&67108863,(P+=24)>=26&&(P-=26,M++);return this.strip()},D.prototype._parseHex=function(h,m,y){this.length=Math.ceil((h.length-m)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var P,M=0,S=0;if("be"===y)for(v=h.length-1;v>=m;v-=2)P=it(h,m,v)<<M,this.words[S]|=67108863&P,M>=18?(M-=18,this.words[S+=1]|=P>>>26):M+=8;else for(v=(h.length-m)%2==0?m+1:m;v<h.length;v+=2)P=it(h,m,v)<<M,this.words[S]|=67108863&P,M>=18?(M-=18,this.words[S+=1]|=P>>>26):M+=8;this.strip()},D.prototype._parseBase=function(h,m,y){this.words=[0],this.length=1;for(var v=0,M=1;M<=67108863;M*=m)v++;v--,M=M/m|0;for(var S=h.length-y,P=S%v,C=Math.min(S,S-P)+y,d=0,k=y;k<C;k+=v)d=K(h,k,k+v,m),this.imuln(M),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==P){var nt=1;for(d=K(h,k,h.length,m),k=0;k<P;k++)nt*=m;this.imuln(nt),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},D.prototype.copy=function(h){h.words=new Array(this.length);for(var m=0;m<this.length;m++)h.words[m]=this.words[m];h.length=this.length,h.negative=this.negative,h.red=this.red},D.prototype.clone=function(){var h=new D(null);return this.copy(h),h},D.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},D.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},D.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},D.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var W=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],j=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],tt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function U(T,h,m){m.negative=h.negative^T.negative;var y=T.length+h.length|0;m.length=y,y=y-1|0;var v=0|T.words[0],M=0|h.words[0],S=v*M,C=S/67108864|0;m.words[0]=67108863&S;for(var d=1;d<y;d++){for(var k=C>>>26,nt=67108863&C,Q=Math.min(d,h.length-1),J=Math.max(0,d-T.length+1);J<=Q;J++)k+=(S=(v=0|T.words[d-J|0])*(M=0|h.words[J])+nt)/67108864|0,nt=67108863&S;m.words[d]=0|nt,C=0|k}return 0!==C?m.words[d]=0|C:m.length--,m.strip()}D.prototype.toString=function(h,m){var y;if(m=0|m||1,16===(h=h||10)||"hex"===h){y="";for(var v=0,M=0,S=0;S<this.length;S++){var P=this.words[S],C=(16777215&(P<<v|M)).toString(16);y=0!=(M=P>>>24-v&16777215)||S!==this.length-1?W[6-C.length]+C+y:C+y,(v+=2)>=26&&(v-=26,S--)}for(0!==M&&(y=M.toString(16)+y);y.length%m!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(h===(0|h)&&h>=2&&h<=36){var d=j[h],k=tt[h];y="";var nt=this.clone();for(nt.negative=0;!nt.isZero();){var Q=nt.modn(k).toString(h);y=(nt=nt.idivn(k)).isZero()?Q+y:W[d-Q.length]+Q+y}for(this.isZero()&&(y="0"+y);y.length%m!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}ht(!1,"Base should be between 2 and 36")},D.prototype.toNumber=function(){var h=this.words[0];return 2===this.length?h+=67108864*this.words[1]:3===this.length&&1===this.words[2]?h+=4503599627370496+67108864*this.words[1]:this.length>2&&ht(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-h:h},D.prototype.toJSON=function(){return this.toString(16)},D.prototype.toBuffer=function(h,m){return ht(void 0!==$),this.toArrayLike($,h,m)},D.prototype.toArray=function(h,m){return this.toArrayLike(Array,h,m)},D.prototype.toArrayLike=function(h,m,y){var v=this.byteLength(),M=y||Math.max(1,v);ht(v<=M,"byte array longer than desired length"),ht(M>0,"Requested array length <= 0"),this.strip();var C,d,S="le"===m,P=new h(M),k=this.clone();if(S){for(d=0;!k.isZero();d++)C=k.andln(255),k.iushrn(8),P[d]=C;for(;d<M;d++)P[d]=0}else{for(d=0;d<M-v;d++)P[d]=0;for(d=0;!k.isZero();d++)C=k.andln(255),k.iushrn(8),P[M-d-1]=C}return P},D.prototype._countBits=Math.clz32?function(h){return 32-Math.clz32(h)}:function(h){var m=h,y=0;return m>=4096&&(y+=13,m>>>=13),m>=64&&(y+=7,m>>>=7),m>=8&&(y+=4,m>>>=4),m>=2&&(y+=2,m>>>=2),y+m},D.prototype._zeroBits=function(h){if(0===h)return 26;var m=h,y=0;return 0==(8191&m)&&(y+=13,m>>>=13),0==(127&m)&&(y+=7,m>>>=7),0==(15&m)&&(y+=4,m>>>=4),0==(3&m)&&(y+=2,m>>>=2),0==(1&m)&&y++,y},D.prototype.bitLength=function(){var m=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+m},D.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,m=0;m<this.length;m++){var y=this._zeroBits(this.words[m]);if(h+=y,26!==y)break}return h},D.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},D.prototype.toTwos=function(h){return 0!==this.negative?this.abs().inotn(h).iaddn(1):this.clone()},D.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},D.prototype.isNeg=function(){return 0!==this.negative},D.prototype.neg=function(){return this.clone().ineg()},D.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},D.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var m=0;m<h.length;m++)this.words[m]=this.words[m]|h.words[m];return this.strip()},D.prototype.ior=function(h){return ht(0==(this.negative|h.negative)),this.iuor(h)},D.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},D.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},D.prototype.iuand=function(h){var m;m=this.length>h.length?h:this;for(var y=0;y<m.length;y++)this.words[y]=this.words[y]&h.words[y];return this.length=m.length,this.strip()},D.prototype.iand=function(h){return ht(0==(this.negative|h.negative)),this.iuand(h)},D.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},D.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},D.prototype.iuxor=function(h){var m,y;this.length>h.length?(m=this,y=h):(m=h,y=this);for(var v=0;v<y.length;v++)this.words[v]=m.words[v]^y.words[v];if(this!==m)for(;v<m.length;v++)this.words[v]=m.words[v];return this.length=m.length,this.strip()},D.prototype.ixor=function(h){return ht(0==(this.negative|h.negative)),this.iuxor(h)},D.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},D.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},D.prototype.inotn=function(h){ht("number"==typeof h&&h>=0);var m=0|Math.ceil(h/26),y=h%26;this._expand(m),y>0&&m--;for(var v=0;v<m;v++)this.words[v]=67108863&~this.words[v];return y>0&&(this.words[v]=~this.words[v]&67108863>>26-y),this.strip()},D.prototype.notn=function(h){return this.clone().inotn(h)},D.prototype.setn=function(h,m){ht("number"==typeof h&&h>=0);var y=h/26|0,v=h%26;return this._expand(y+1),this.words[y]=m?this.words[y]|1<<v:this.words[y]&~(1<<v),this.strip()},D.prototype.iadd=function(h){var m,y,v;if(0!==this.negative&&0===h.negative)return this.negative=0,m=this.isub(h),this.negative^=1,this._normSign();if(0===this.negative&&0!==h.negative)return h.negative=0,m=this.isub(h),h.negative=1,m._normSign();this.length>h.length?(y=this,v=h):(y=h,v=this);for(var M=0,S=0;S<v.length;S++)this.words[S]=67108863&(m=(0|y.words[S])+(0|v.words[S])+M),M=m>>>26;for(;0!==M&&S<y.length;S++)this.words[S]=67108863&(m=(0|y.words[S])+M),M=m>>>26;if(this.length=y.length,0!==M)this.words[this.length]=M,this.length++;else if(y!==this)for(;S<y.length;S++)this.words[S]=y.words[S];return this},D.prototype.add=function(h){var m;return 0!==h.negative&&0===this.negative?(h.negative=0,m=this.sub(h),h.negative^=1,m):0===h.negative&&0!==this.negative?(this.negative=0,m=h.sub(this),this.negative=1,m):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},D.prototype.isub=function(h){if(0!==h.negative){h.negative=0;var m=this.iadd(h);return h.negative=1,m._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var v,M,y=this.cmp(h);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(v=this,M=h):(v=h,M=this);for(var S=0,P=0;P<M.length;P++)S=(m=(0|v.words[P])-(0|M.words[P])+S)>>26,this.words[P]=67108863&m;for(;0!==S&&P<v.length;P++)S=(m=(0|v.words[P])+S)>>26,this.words[P]=67108863&m;if(0===S&&P<v.length&&v!==this)for(;P<v.length;P++)this.words[P]=v.words[P];return this.length=Math.max(this.length,P),v!==this&&(this.negative=1),this.strip()},D.prototype.sub=function(h){return this.clone().isub(h)};var z=function(h,m,y){var C,d,k,v=h.words,M=m.words,S=y.words,P=0,nt=0|v[0],Q=8191&nt,J=nt>>>13,xt=0|v[1],wt=8191&xt,Ft=xt>>>13,Gt=0|v[2],It=8191&Gt,_t=Gt>>>13,Zt=0|v[3],Ot=8191&Zt,At=Zt>>>13,jt=0|v[4],Kt=8191&jt,Vt=jt>>>13,Ce=0|v[5],Ht=8191&Ce,ge=Ce>>>13,yi=0|v[6],we=8191&yi,de=yi>>>13,Fe=0|v[7],Yt=8191&Fe,ee=Fe>>>13,Re=0|v[8],Nt=8191&Re,vt=Re>>>13,at=0|v[9],qt=8191&at,he=at>>>13,Xe=0|M[0],ve=8191&Xe,Te=Xe>>>13,Qi=0|M[1],ni=8191&Qi,ei=Qi>>>13,Ui=0|M[2],mi=8191&Ui,bi=Ui>>>13,En=0|M[3],_i=8191&En,He=En>>>13,on=0|M[4],Di=8191&on,Pe=on>>>13,ri=0|M[5],Ee=8191&ri,ne=ri>>>13,Se=0|M[6],ae=8191&Se,Me=Se>>>13,$e=0|M[7],te=8191&$e,Ie=$e>>>13,tn=0|M[8],qe=8191&tn,ci=tn>>>13,Pn=0|M[9],ui=8191&Pn,oi=Pn>>>13;y.negative=h.negative^m.negative,y.length=19;var en=(P+(C=Math.imul(Q,ve))|0)+((8191&(d=(d=Math.imul(Q,Te))+Math.imul(J,ve)|0))<<13)|0;P=((k=Math.imul(J,Te))+(d>>>13)|0)+(en>>>26)|0,en&=67108863,C=Math.imul(wt,ve),d=(d=Math.imul(wt,Te))+Math.imul(Ft,ve)|0,k=Math.imul(Ft,Te);var sn=(P+(C=C+Math.imul(Q,ni)|0)|0)+((8191&(d=(d=d+Math.imul(Q,ei)|0)+Math.imul(J,ni)|0))<<13)|0;P=((k=k+Math.imul(J,ei)|0)+(d>>>13)|0)+(sn>>>26)|0,sn&=67108863,C=Math.imul(It,ve),d=(d=Math.imul(It,Te))+Math.imul(_t,ve)|0,k=Math.imul(_t,Te),C=C+Math.imul(wt,ni)|0,d=(d=d+Math.imul(wt,ei)|0)+Math.imul(Ft,ni)|0,k=k+Math.imul(Ft,ei)|0;var Tn=(P+(C=C+Math.imul(Q,mi)|0)|0)+((8191&(d=(d=d+Math.imul(Q,bi)|0)+Math.imul(J,mi)|0))<<13)|0;P=((k=k+Math.imul(J,bi)|0)+(d>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,C=Math.imul(Ot,ve),d=(d=Math.imul(Ot,Te))+Math.imul(At,ve)|0,k=Math.imul(At,Te),C=C+Math.imul(It,ni)|0,d=(d=d+Math.imul(It,ei)|0)+Math.imul(_t,ni)|0,k=k+Math.imul(_t,ei)|0,C=C+Math.imul(wt,mi)|0,d=(d=d+Math.imul(wt,bi)|0)+Math.imul(Ft,mi)|0,k=k+Math.imul(Ft,bi)|0;var Er=(P+(C=C+Math.imul(Q,_i)|0)|0)+((8191&(d=(d=d+Math.imul(Q,He)|0)+Math.imul(J,_i)|0))<<13)|0;P=((k=k+Math.imul(J,He)|0)+(d>>>13)|0)+(Er>>>26)|0,Er&=67108863,C=Math.imul(Kt,ve),d=(d=Math.imul(Kt,Te))+Math.imul(Vt,ve)|0,k=Math.imul(Vt,Te),C=C+Math.imul(Ot,ni)|0,d=(d=d+Math.imul(Ot,ei)|0)+Math.imul(At,ni)|0,k=k+Math.imul(At,ei)|0,C=C+Math.imul(It,mi)|0,d=(d=d+Math.imul(It,bi)|0)+Math.imul(_t,mi)|0,k=k+Math.imul(_t,bi)|0,C=C+Math.imul(wt,_i)|0,d=(d=d+Math.imul(wt,He)|0)+Math.imul(Ft,_i)|0,k=k+Math.imul(Ft,He)|0;var In=(P+(C=C+Math.imul(Q,Di)|0)|0)+((8191&(d=(d=d+Math.imul(Q,Pe)|0)+Math.imul(J,Di)|0))<<13)|0;P=((k=k+Math.imul(J,Pe)|0)+(d>>>13)|0)+(In>>>26)|0,In&=67108863,C=Math.imul(Ht,ve),d=(d=Math.imul(Ht,Te))+Math.imul(ge,ve)|0,k=Math.imul(ge,Te),C=C+Math.imul(Kt,ni)|0,d=(d=d+Math.imul(Kt,ei)|0)+Math.imul(Vt,ni)|0,k=k+Math.imul(Vt,ei)|0,C=C+Math.imul(Ot,mi)|0,d=(d=d+Math.imul(Ot,bi)|0)+Math.imul(At,mi)|0,k=k+Math.imul(At,bi)|0,C=C+Math.imul(It,_i)|0,d=(d=d+Math.imul(It,He)|0)+Math.imul(_t,_i)|0,k=k+Math.imul(_t,He)|0,C=C+Math.imul(wt,Di)|0,d=(d=d+Math.imul(wt,Pe)|0)+Math.imul(Ft,Di)|0,k=k+Math.imul(Ft,Pe)|0;var Yn=(P+(C=C+Math.imul(Q,Ee)|0)|0)+((8191&(d=(d=d+Math.imul(Q,ne)|0)+Math.imul(J,Ee)|0))<<13)|0;P=((k=k+Math.imul(J,ne)|0)+(d>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,C=Math.imul(we,ve),d=(d=Math.imul(we,Te))+Math.imul(de,ve)|0,k=Math.imul(de,Te),C=C+Math.imul(Ht,ni)|0,d=(d=d+Math.imul(Ht,ei)|0)+Math.imul(ge,ni)|0,k=k+Math.imul(ge,ei)|0,C=C+Math.imul(Kt,mi)|0,d=(d=d+Math.imul(Kt,bi)|0)+Math.imul(Vt,mi)|0,k=k+Math.imul(Vt,bi)|0,C=C+Math.imul(Ot,_i)|0,d=(d=d+Math.imul(Ot,He)|0)+Math.imul(At,_i)|0,k=k+Math.imul(At,He)|0,C=C+Math.imul(It,Di)|0,d=(d=d+Math.imul(It,Pe)|0)+Math.imul(_t,Di)|0,k=k+Math.imul(_t,Pe)|0,C=C+Math.imul(wt,Ee)|0,d=(d=d+Math.imul(wt,ne)|0)+Math.imul(Ft,Ee)|0,k=k+Math.imul(Ft,ne)|0;var nn=(P+(C=C+Math.imul(Q,ae)|0)|0)+((8191&(d=(d=d+Math.imul(Q,Me)|0)+Math.imul(J,ae)|0))<<13)|0;P=((k=k+Math.imul(J,Me)|0)+(d>>>13)|0)+(nn>>>26)|0,nn&=67108863,C=Math.imul(Yt,ve),d=(d=Math.imul(Yt,Te))+Math.imul(ee,ve)|0,k=Math.imul(ee,Te),C=C+Math.imul(we,ni)|0,d=(d=d+Math.imul(we,ei)|0)+Math.imul(de,ni)|0,k=k+Math.imul(de,ei)|0,C=C+Math.imul(Ht,mi)|0,d=(d=d+Math.imul(Ht,bi)|0)+Math.imul(ge,mi)|0,k=k+Math.imul(ge,bi)|0,C=C+Math.imul(Kt,_i)|0,d=(d=d+Math.imul(Kt,He)|0)+Math.imul(Vt,_i)|0,k=k+Math.imul(Vt,He)|0,C=C+Math.imul(Ot,Di)|0,d=(d=d+Math.imul(Ot,Pe)|0)+Math.imul(At,Di)|0,k=k+Math.imul(At,Pe)|0,C=C+Math.imul(It,Ee)|0,d=(d=d+Math.imul(It,ne)|0)+Math.imul(_t,Ee)|0,k=k+Math.imul(_t,ne)|0,C=C+Math.imul(wt,ae)|0,d=(d=d+Math.imul(wt,Me)|0)+Math.imul(Ft,ae)|0,k=k+Math.imul(Ft,Me)|0;var Or=(P+(C=C+Math.imul(Q,te)|0)|0)+((8191&(d=(d=d+Math.imul(Q,Ie)|0)+Math.imul(J,te)|0))<<13)|0;P=((k=k+Math.imul(J,Ie)|0)+(d>>>13)|0)+(Or>>>26)|0,Or&=67108863,C=Math.imul(Nt,ve),d=(d=Math.imul(Nt,Te))+Math.imul(vt,ve)|0,k=Math.imul(vt,Te),C=C+Math.imul(Yt,ni)|0,d=(d=d+Math.imul(Yt,ei)|0)+Math.imul(ee,ni)|0,k=k+Math.imul(ee,ei)|0,C=C+Math.imul(we,mi)|0,d=(d=d+Math.imul(we,bi)|0)+Math.imul(de,mi)|0,k=k+Math.imul(de,bi)|0,C=C+Math.imul(Ht,_i)|0,d=(d=d+Math.imul(Ht,He)|0)+Math.imul(ge,_i)|0,k=k+Math.imul(ge,He)|0,C=C+Math.imul(Kt,Di)|0,d=(d=d+Math.imul(Kt,Pe)|0)+Math.imul(Vt,Di)|0,k=k+Math.imul(Vt,Pe)|0,C=C+Math.imul(Ot,Ee)|0,d=(d=d+Math.imul(Ot,ne)|0)+Math.imul(At,Ee)|0,k=k+Math.imul(At,ne)|0,C=C+Math.imul(It,ae)|0,d=(d=d+Math.imul(It,Me)|0)+Math.imul(_t,ae)|0,k=k+Math.imul(_t,Me)|0,C=C+Math.imul(wt,te)|0,d=(d=d+Math.imul(wt,Ie)|0)+Math.imul(Ft,te)|0,k=k+Math.imul(Ft,Ie)|0;var fr=(P+(C=C+Math.imul(Q,qe)|0)|0)+((8191&(d=(d=d+Math.imul(Q,ci)|0)+Math.imul(J,qe)|0))<<13)|0;P=((k=k+Math.imul(J,ci)|0)+(d>>>13)|0)+(fr>>>26)|0,fr&=67108863,C=Math.imul(qt,ve),d=(d=Math.imul(qt,Te))+Math.imul(he,ve)|0,k=Math.imul(he,Te),C=C+Math.imul(Nt,ni)|0,d=(d=d+Math.imul(Nt,ei)|0)+Math.imul(vt,ni)|0,k=k+Math.imul(vt,ei)|0,C=C+Math.imul(Yt,mi)|0,d=(d=d+Math.imul(Yt,bi)|0)+Math.imul(ee,mi)|0,k=k+Math.imul(ee,bi)|0,C=C+Math.imul(we,_i)|0,d=(d=d+Math.imul(we,He)|0)+Math.imul(de,_i)|0,k=k+Math.imul(de,He)|0,C=C+Math.imul(Ht,Di)|0,d=(d=d+Math.imul(Ht,Pe)|0)+Math.imul(ge,Di)|0,k=k+Math.imul(ge,Pe)|0,C=C+Math.imul(Kt,Ee)|0,d=(d=d+Math.imul(Kt,ne)|0)+Math.imul(Vt,Ee)|0,k=k+Math.imul(Vt,ne)|0,C=C+Math.imul(Ot,ae)|0,d=(d=d+Math.imul(Ot,Me)|0)+Math.imul(At,ae)|0,k=k+Math.imul(At,Me)|0,C=C+Math.imul(It,te)|0,d=(d=d+Math.imul(It,Ie)|0)+Math.imul(_t,te)|0,k=k+Math.imul(_t,Ie)|0,C=C+Math.imul(wt,qe)|0,d=(d=d+Math.imul(wt,ci)|0)+Math.imul(Ft,qe)|0,k=k+Math.imul(Ft,ci)|0;var dr=(P+(C=C+Math.imul(Q,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Q,oi)|0)+Math.imul(J,ui)|0))<<13)|0;P=((k=k+Math.imul(J,oi)|0)+(d>>>13)|0)+(dr>>>26)|0,dr&=67108863,C=Math.imul(qt,ni),d=(d=Math.imul(qt,ei))+Math.imul(he,ni)|0,k=Math.imul(he,ei),C=C+Math.imul(Nt,mi)|0,d=(d=d+Math.imul(Nt,bi)|0)+Math.imul(vt,mi)|0,k=k+Math.imul(vt,bi)|0,C=C+Math.imul(Yt,_i)|0,d=(d=d+Math.imul(Yt,He)|0)+Math.imul(ee,_i)|0,k=k+Math.imul(ee,He)|0,C=C+Math.imul(we,Di)|0,d=(d=d+Math.imul(we,Pe)|0)+Math.imul(de,Di)|0,k=k+Math.imul(de,Pe)|0,C=C+Math.imul(Ht,Ee)|0,d=(d=d+Math.imul(Ht,ne)|0)+Math.imul(ge,Ee)|0,k=k+Math.imul(ge,ne)|0,C=C+Math.imul(Kt,ae)|0,d=(d=d+Math.imul(Kt,Me)|0)+Math.imul(Vt,ae)|0,k=k+Math.imul(Vt,Me)|0,C=C+Math.imul(Ot,te)|0,d=(d=d+Math.imul(Ot,Ie)|0)+Math.imul(At,te)|0,k=k+Math.imul(At,Ie)|0,C=C+Math.imul(It,qe)|0,d=(d=d+Math.imul(It,ci)|0)+Math.imul(_t,qe)|0,k=k+Math.imul(_t,ci)|0;var Un=(P+(C=C+Math.imul(wt,ui)|0)|0)+((8191&(d=(d=d+Math.imul(wt,oi)|0)+Math.imul(Ft,ui)|0))<<13)|0;P=((k=k+Math.imul(Ft,oi)|0)+(d>>>13)|0)+(Un>>>26)|0,Un&=67108863,C=Math.imul(qt,mi),d=(d=Math.imul(qt,bi))+Math.imul(he,mi)|0,k=Math.imul(he,bi),C=C+Math.imul(Nt,_i)|0,d=(d=d+Math.imul(Nt,He)|0)+Math.imul(vt,_i)|0,k=k+Math.imul(vt,He)|0,C=C+Math.imul(Yt,Di)|0,d=(d=d+Math.imul(Yt,Pe)|0)+Math.imul(ee,Di)|0,k=k+Math.imul(ee,Pe)|0,C=C+Math.imul(we,Ee)|0,d=(d=d+Math.imul(we,ne)|0)+Math.imul(de,Ee)|0,k=k+Math.imul(de,ne)|0,C=C+Math.imul(Ht,ae)|0,d=(d=d+Math.imul(Ht,Me)|0)+Math.imul(ge,ae)|0,k=k+Math.imul(ge,Me)|0,C=C+Math.imul(Kt,te)|0,d=(d=d+Math.imul(Kt,Ie)|0)+Math.imul(Vt,te)|0,k=k+Math.imul(Vt,Ie)|0,C=C+Math.imul(Ot,qe)|0,d=(d=d+Math.imul(Ot,ci)|0)+Math.imul(At,qe)|0,k=k+Math.imul(At,ci)|0;var xo=(P+(C=C+Math.imul(It,ui)|0)|0)+((8191&(d=(d=d+Math.imul(It,oi)|0)+Math.imul(_t,ui)|0))<<13)|0;P=((k=k+Math.imul(_t,oi)|0)+(d>>>13)|0)+(xo>>>26)|0,xo&=67108863,C=Math.imul(qt,_i),d=(d=Math.imul(qt,He))+Math.imul(he,_i)|0,k=Math.imul(he,He),C=C+Math.imul(Nt,Di)|0,d=(d=d+Math.imul(Nt,Pe)|0)+Math.imul(vt,Di)|0,k=k+Math.imul(vt,Pe)|0,C=C+Math.imul(Yt,Ee)|0,d=(d=d+Math.imul(Yt,ne)|0)+Math.imul(ee,Ee)|0,k=k+Math.imul(ee,ne)|0,C=C+Math.imul(we,ae)|0,d=(d=d+Math.imul(we,Me)|0)+Math.imul(de,ae)|0,k=k+Math.imul(de,Me)|0,C=C+Math.imul(Ht,te)|0,d=(d=d+Math.imul(Ht,Ie)|0)+Math.imul(ge,te)|0,k=k+Math.imul(ge,Ie)|0,C=C+Math.imul(Kt,qe)|0,d=(d=d+Math.imul(Kt,ci)|0)+Math.imul(Vt,qe)|0,k=k+Math.imul(Vt,ci)|0;var ki=(P+(C=C+Math.imul(Ot,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Ot,oi)|0)+Math.imul(At,ui)|0))<<13)|0;P=((k=k+Math.imul(At,oi)|0)+(d>>>13)|0)+(ki>>>26)|0,ki&=67108863,C=Math.imul(qt,Di),d=(d=Math.imul(qt,Pe))+Math.imul(he,Di)|0,k=Math.imul(he,Pe),C=C+Math.imul(Nt,Ee)|0,d=(d=d+Math.imul(Nt,ne)|0)+Math.imul(vt,Ee)|0,k=k+Math.imul(vt,ne)|0,C=C+Math.imul(Yt,ae)|0,d=(d=d+Math.imul(Yt,Me)|0)+Math.imul(ee,ae)|0,k=k+Math.imul(ee,Me)|0,C=C+Math.imul(we,te)|0,d=(d=d+Math.imul(we,Ie)|0)+Math.imul(de,te)|0,k=k+Math.imul(de,Ie)|0,C=C+Math.imul(Ht,qe)|0,d=(d=d+Math.imul(Ht,ci)|0)+Math.imul(ge,qe)|0,k=k+Math.imul(ge,ci)|0;var hn=(P+(C=C+Math.imul(Kt,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Kt,oi)|0)+Math.imul(Vt,ui)|0))<<13)|0;P=((k=k+Math.imul(Vt,oi)|0)+(d>>>13)|0)+(hn>>>26)|0,hn&=67108863,C=Math.imul(qt,Ee),d=(d=Math.imul(qt,ne))+Math.imul(he,Ee)|0,k=Math.imul(he,ne),C=C+Math.imul(Nt,ae)|0,d=(d=d+Math.imul(Nt,Me)|0)+Math.imul(vt,ae)|0,k=k+Math.imul(vt,Me)|0,C=C+Math.imul(Yt,te)|0,d=(d=d+Math.imul(Yt,Ie)|0)+Math.imul(ee,te)|0,k=k+Math.imul(ee,Ie)|0,C=C+Math.imul(we,qe)|0,d=(d=d+Math.imul(we,ci)|0)+Math.imul(de,qe)|0,k=k+Math.imul(de,ci)|0;var ar=(P+(C=C+Math.imul(Ht,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Ht,oi)|0)+Math.imul(ge,ui)|0))<<13)|0;P=((k=k+Math.imul(ge,oi)|0)+(d>>>13)|0)+(ar>>>26)|0,ar&=67108863,C=Math.imul(qt,ae),d=(d=Math.imul(qt,Me))+Math.imul(he,ae)|0,k=Math.imul(he,Me),C=C+Math.imul(Nt,te)|0,d=(d=d+Math.imul(Nt,Ie)|0)+Math.imul(vt,te)|0,k=k+Math.imul(vt,Ie)|0,C=C+Math.imul(Yt,qe)|0,d=(d=d+Math.imul(Yt,ci)|0)+Math.imul(ee,qe)|0,k=k+Math.imul(ee,ci)|0;var bn=(P+(C=C+Math.imul(we,ui)|0)|0)+((8191&(d=(d=d+Math.imul(we,oi)|0)+Math.imul(de,ui)|0))<<13)|0;P=((k=k+Math.imul(de,oi)|0)+(d>>>13)|0)+(bn>>>26)|0,bn&=67108863,C=Math.imul(qt,te),d=(d=Math.imul(qt,Ie))+Math.imul(he,te)|0,k=Math.imul(he,Ie),C=C+Math.imul(Nt,qe)|0,d=(d=d+Math.imul(Nt,ci)|0)+Math.imul(vt,qe)|0,k=k+Math.imul(vt,ci)|0;var vo=(P+(C=C+Math.imul(Yt,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Yt,oi)|0)+Math.imul(ee,ui)|0))<<13)|0;P=((k=k+Math.imul(ee,oi)|0)+(d>>>13)|0)+(vo>>>26)|0,vo&=67108863,C=Math.imul(qt,qe),d=(d=Math.imul(qt,ci))+Math.imul(he,qe)|0,k=Math.imul(he,ci);var Ao=(P+(C=C+Math.imul(Nt,ui)|0)|0)+((8191&(d=(d=d+Math.imul(Nt,oi)|0)+Math.imul(vt,ui)|0))<<13)|0;P=((k=k+Math.imul(vt,oi)|0)+(d>>>13)|0)+(Ao>>>26)|0,Ao&=67108863;var Vi=(P+(C=Math.imul(qt,ui))|0)+((8191&(d=(d=Math.imul(qt,oi))+Math.imul(he,ui)|0))<<13)|0;return P=((k=Math.imul(he,oi))+(d>>>13)|0)+(Vi>>>26)|0,Vi&=67108863,S[0]=en,S[1]=sn,S[2]=Tn,S[3]=Er,S[4]=In,S[5]=Yn,S[6]=nn,S[7]=Or,S[8]=fr,S[9]=dr,S[10]=Un,S[11]=xo,S[12]=ki,S[13]=hn,S[14]=ar,S[15]=bn,S[16]=vo,S[17]=Ao,S[18]=Vi,0!==P&&(S[19]=P,y.length++),y};function q(T,h,m){return(new V).mulp(T,h,m)}function V(T,h){this.x=T,this.y=h}Math.imul||(z=U),D.prototype.mulTo=function(h,m){var y,v=this.length+h.length;return y=10===this.length&&10===h.length?z(this,h,m):v<63?U(this,h,m):v<1024?function(T,h,m){m.negative=h.negative^T.negative,m.length=T.length+h.length;for(var y=0,v=0,M=0;M<m.length-1;M++){var S=v;v=0;for(var P=67108863&y,C=Math.min(M,h.length-1),d=Math.max(0,M-T.length+1);d<=C;d++){var J=(0|T.words[M-d])*(0|h.words[d]),xt=67108863&J;P=67108863&(xt=xt+P|0),v+=(S=(S=S+(J/67108864|0)|0)+(xt>>>26)|0)>>>26,S&=67108863}m.words[M]=P,y=S,S=v}return 0!==y?m.words[M]=y:m.length--,m.strip()}(this,h,m):q(this,h,m),y},V.prototype.makeRBT=function(h){for(var m=new Array(h),y=D.prototype._countBits(h)-1,v=0;v<h;v++)m[v]=this.revBin(v,y,h);return m},V.prototype.revBin=function(h,m,y){if(0===h||h===y-1)return h;for(var v=0,M=0;M<m;M++)v|=(1&h)<<m-M-1,h>>=1;return v},V.prototype.permute=function(h,m,y,v,M,S){for(var P=0;P<S;P++)v[P]=m[h[P]],M[P]=y[h[P]]},V.prototype.transform=function(h,m,y,v,M,S){this.permute(S,h,m,y,v,M);for(var P=1;P<M;P<<=1)for(var C=P<<1,d=Math.cos(2*Math.PI/C),k=Math.sin(2*Math.PI/C),nt=0;nt<M;nt+=C)for(var Q=d,J=k,xt=0;xt<P;xt++){var wt=y[nt+xt],Ft=v[nt+xt],Gt=y[nt+xt+P],It=v[nt+xt+P],_t=Q*Gt-J*It;It=Q*It+J*Gt,y[nt+xt]=wt+(Gt=_t),v[nt+xt]=Ft+It,y[nt+xt+P]=wt-Gt,v[nt+xt+P]=Ft-It,xt!==C&&(_t=d*Q-k*J,J=d*J+k*Q,Q=_t)}},V.prototype.guessLen13b=function(h,m){var y=1|Math.max(m,h),v=1&y,M=0;for(y=y/2|0;y;y>>>=1)M++;return 1<<M+1+v},V.prototype.conjugate=function(h,m,y){if(!(y<=1))for(var v=0;v<y/2;v++){var M=h[v];h[v]=h[y-v-1],h[y-v-1]=M,M=m[v],m[v]=-m[y-v-1],m[y-v-1]=-M}},V.prototype.normalize13b=function(h,m){for(var y=0,v=0;v<m/2;v++){var M=8192*Math.round(h[2*v+1]/m)+Math.round(h[2*v]/m)+y;h[v]=67108863&M,y=M<67108864?0:M/67108864|0}return h},V.prototype.convert13b=function(h,m,y,v){for(var M=0,S=0;S<m;S++)y[2*S]=8191&(M+=0|h[S]),y[2*S+1]=8191&(M>>>=13),M>>>=13;for(S=2*m;S<v;++S)y[S]=0;ht(0===M),ht(0==(-8192&M))},V.prototype.stub=function(h){for(var m=new Array(h),y=0;y<h;y++)m[y]=0;return m},V.prototype.mulp=function(h,m,y){var v=2*this.guessLen13b(h.length,m.length),M=this.makeRBT(v),S=this.stub(v),P=new Array(v),C=new Array(v),d=new Array(v),k=new Array(v),nt=new Array(v),Q=new Array(v),J=y.words;J.length=v,this.convert13b(h.words,h.length,P,v),this.convert13b(m.words,m.length,k,v),this.transform(P,S,C,d,v,M),this.transform(k,S,nt,Q,v,M);for(var xt=0;xt<v;xt++){var wt=C[xt]*nt[xt]-d[xt]*Q[xt];d[xt]=C[xt]*Q[xt]+d[xt]*nt[xt],C[xt]=wt}return this.conjugate(C,d,v),this.transform(C,d,J,S,v,M),this.conjugate(J,S,v),this.normalize13b(J,v),y.negative=h.negative^m.negative,y.length=h.length+m.length,y.strip()},D.prototype.mul=function(h){var m=new D(null);return m.words=new Array(this.length+h.length),this.mulTo(h,m)},D.prototype.mulf=function(h){var m=new D(null);return m.words=new Array(this.length+h.length),q(this,h,m)},D.prototype.imul=function(h){return this.clone().mulTo(h,this)},D.prototype.imuln=function(h){ht("number"==typeof h),ht(h<67108864);for(var m=0,y=0;y<this.length;y++){var v=(0|this.words[y])*h,M=(67108863&v)+(67108863&m);m>>=26,m+=v/67108864|0,m+=M>>>26,this.words[y]=67108863&M}return 0!==m&&(this.words[y]=m,this.length++),this},D.prototype.muln=function(h){return this.clone().imuln(h)},D.prototype.sqr=function(){return this.mul(this)},D.prototype.isqr=function(){return this.imul(this.clone())},D.prototype.pow=function(h){var m=function(T){for(var h=new Array(T.bitLength()),m=0;m<h.length;m++){var v=m%26;h[m]=(T.words[m/26|0]&1<<v)>>>v}return h}(h);if(0===m.length)return new D(1);for(var y=this,v=0;v<m.length&&0===m[v];v++,y=y.sqr());if(++v<m.length)for(var M=y.sqr();v<m.length;v++,M=M.sqr())0!==m[v]&&(y=y.mul(M));return y},D.prototype.iushln=function(h){ht("number"==typeof h&&h>=0);var M,m=h%26,y=(h-m)/26,v=67108863>>>26-m<<26-m;if(0!==m){var S=0;for(M=0;M<this.length;M++){var P=this.words[M]&v;this.words[M]=(0|this.words[M])-P<<m|S,S=P>>>26-m}S&&(this.words[M]=S,this.length++)}if(0!==y){for(M=this.length-1;M>=0;M--)this.words[M+y]=this.words[M];for(M=0;M<y;M++)this.words[M]=0;this.length+=y}return this.strip()},D.prototype.ishln=function(h){return ht(0===this.negative),this.iushln(h)},D.prototype.iushrn=function(h,m,y){var v;ht("number"==typeof h&&h>=0),v=m?(m-m%26)/26:0;var M=h%26,S=Math.min((h-M)/26,this.length),P=67108863^67108863>>>M<<M,C=y;if(v-=S,v=Math.max(0,v),C){for(var d=0;d<S;d++)C.words[d]=this.words[d];C.length=S}if(0!==S)if(this.length>S)for(this.length-=S,d=0;d<this.length;d++)this.words[d]=this.words[d+S];else this.words[0]=0,this.length=1;var k=0;for(d=this.length-1;d>=0&&(0!==k||d>=v);d--){var nt=0|this.words[d];this.words[d]=k<<26-M|nt>>>M,k=nt&P}return C&&0!==k&&(C.words[C.length++]=k),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},D.prototype.ishrn=function(h,m,y){return ht(0===this.negative),this.iushrn(h,m,y)},D.prototype.shln=function(h){return this.clone().ishln(h)},D.prototype.ushln=function(h){return this.clone().iushln(h)},D.prototype.shrn=function(h){return this.clone().ishrn(h)},D.prototype.ushrn=function(h){return this.clone().iushrn(h)},D.prototype.testn=function(h){ht("number"==typeof h&&h>=0);var m=h%26,y=(h-m)/26;return!(this.length<=y||!(this.words[y]&1<<m))},D.prototype.imaskn=function(h){ht("number"==typeof h&&h>=0);var m=h%26,y=(h-m)/26;return ht(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==m&&y++,this.length=Math.min(y,this.length),0!==m&&(this.words[this.length-1]&=67108863^67108863>>>m<<m),this.strip())},D.prototype.maskn=function(h){return this.clone().imaskn(h)},D.prototype.iaddn=function(h){return ht("number"==typeof h),ht(h<67108864),h<0?this.isubn(-h):0!==this.negative?1===this.length&&(0|this.words[0])<h?(this.words[0]=h-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},D.prototype._iaddn=function(h){this.words[0]+=h;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},D.prototype.isubn=function(h){if(ht("number"==typeof h),ht(h<67108864),h<0)return this.iaddn(-h);if(0!==this.negative)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this.strip()},D.prototype.addn=function(h){return this.clone().iaddn(h)},D.prototype.subn=function(h){return this.clone().isubn(h)},D.prototype.iabs=function(){return this.negative=0,this},D.prototype.abs=function(){return this.clone().iabs()},D.prototype._ishlnsubmul=function(h,m,y){var M;this._expand(h.length+y);var S,P=0;for(M=0;M<h.length;M++){S=(0|this.words[M+y])+P;var C=(0|h.words[M])*m;P=((S-=67108863&C)>>26)-(C/67108864|0),this.words[M+y]=67108863&S}for(;M<this.length-y;M++)P=(S=(0|this.words[M+y])+P)>>26,this.words[M+y]=67108863&S;if(0===P)return this.strip();for(ht(-1===P),P=0,M=0;M<this.length;M++)P=(S=-(0|this.words[M])+P)>>26,this.words[M]=67108863&S;return this.negative=1,this.strip()},D.prototype._wordDiv=function(h,m){var y,v=this.clone(),M=h,S=0|M.words[M.length-1];0!=(y=26-this._countBits(S))&&(M=M.ushln(y),v.iushln(y),S=0|M.words[M.length-1]);var d,C=v.length-M.length;if("mod"!==m){(d=new D(null)).length=C+1,d.words=new Array(d.length);for(var k=0;k<d.length;k++)d.words[k]=0}var nt=v.clone()._ishlnsubmul(M,1,C);0===nt.negative&&(v=nt,d&&(d.words[C]=1));for(var Q=C-1;Q>=0;Q--){var J=67108864*(0|v.words[M.length+Q])+(0|v.words[M.length+Q-1]);for(J=Math.min(J/S|0,67108863),v._ishlnsubmul(M,J,Q);0!==v.negative;)J--,v.negative=0,v._ishlnsubmul(M,1,Q),v.isZero()||(v.negative^=1);d&&(d.words[Q]=J)}return d&&d.strip(),v.strip(),"div"!==m&&0!==y&&v.iushrn(y),{div:d||null,mod:v}},D.prototype.divmod=function(h,m,y){return ht(!h.isZero()),this.isZero()?{div:new D(0),mod:new D(0)}:0!==this.negative&&0===h.negative?(S=this.neg().divmod(h,m),"mod"!==m&&(v=S.div.neg()),"div"!==m&&(M=S.mod.neg(),y&&0!==M.negative&&M.iadd(h)),{div:v,mod:M}):0===this.negative&&0!==h.negative?(S=this.divmod(h.neg(),m),"mod"!==m&&(v=S.div.neg()),{div:v,mod:S.mod}):0!=(this.negative&h.negative)?(S=this.neg().divmod(h.neg(),m),"div"!==m&&(M=S.mod.neg(),y&&0!==M.negative&&M.isub(h)),{div:S.div,mod:M}):h.length>this.length||this.cmp(h)<0?{div:new D(0),mod:this}:1===h.length?"div"===m?{div:this.divn(h.words[0]),mod:null}:"mod"===m?{div:null,mod:new D(this.modn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new D(this.modn(h.words[0]))}:this._wordDiv(h,m);var v,M,S},D.prototype.div=function(h){return this.divmod(h,"div",!1).div},D.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},D.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},D.prototype.divRound=function(h){var m=this.divmod(h);if(m.mod.isZero())return m.div;var y=0!==m.div.negative?m.mod.isub(h):m.mod,v=h.ushrn(1),M=h.andln(1),S=y.cmp(v);return S<0||1===M&&0===S?m.div:0!==m.div.negative?m.div.isubn(1):m.div.iaddn(1)},D.prototype.modn=function(h){ht(h<=67108863);for(var m=(1<<26)%h,y=0,v=this.length-1;v>=0;v--)y=(m*y+(0|this.words[v]))%h;return y},D.prototype.idivn=function(h){ht(h<=67108863);for(var m=0,y=this.length-1;y>=0;y--){var v=(0|this.words[y])+67108864*m;this.words[y]=v/h|0,m=v%h}return this.strip()},D.prototype.divn=function(h){return this.clone().idivn(h)},D.prototype.egcd=function(h){ht(0===h.negative),ht(!h.isZero());var m=this,y=h.clone();m=0!==m.negative?m.umod(h):m.clone();for(var v=new D(1),M=new D(0),S=new D(0),P=new D(1),C=0;m.isEven()&&y.isEven();)m.iushrn(1),y.iushrn(1),++C;for(var d=y.clone(),k=m.clone();!m.isZero();){for(var nt=0,Q=1;0==(m.words[0]&Q)&&nt<26;++nt,Q<<=1);if(nt>0)for(m.iushrn(nt);nt-- >0;)(v.isOdd()||M.isOdd())&&(v.iadd(d),M.isub(k)),v.iushrn(1),M.iushrn(1);for(var J=0,xt=1;0==(y.words[0]&xt)&&J<26;++J,xt<<=1);if(J>0)for(y.iushrn(J);J-- >0;)(S.isOdd()||P.isOdd())&&(S.iadd(d),P.isub(k)),S.iushrn(1),P.iushrn(1);m.cmp(y)>=0?(m.isub(y),v.isub(S),M.isub(P)):(y.isub(m),S.isub(v),P.isub(M))}return{a:S,b:P,gcd:y.iushln(C)}},D.prototype._invmp=function(h){ht(0===h.negative),ht(!h.isZero());var nt,m=this,y=h.clone();m=0!==m.negative?m.umod(h):m.clone();for(var v=new D(1),M=new D(0),S=y.clone();m.cmpn(1)>0&&y.cmpn(1)>0;){for(var P=0,C=1;0==(m.words[0]&C)&&P<26;++P,C<<=1);if(P>0)for(m.iushrn(P);P-- >0;)v.isOdd()&&v.iadd(S),v.iushrn(1);for(var d=0,k=1;0==(y.words[0]&k)&&d<26;++d,k<<=1);if(d>0)for(y.iushrn(d);d-- >0;)M.isOdd()&&M.iadd(S),M.iushrn(1);m.cmp(y)>=0?(m.isub(y),v.isub(M)):(y.isub(m),M.isub(v))}return(nt=0===m.cmpn(1)?v:M).cmpn(0)<0&&nt.iadd(h),nt},D.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var m=this.clone(),y=h.clone();m.negative=0,y.negative=0;for(var v=0;m.isEven()&&y.isEven();v++)m.iushrn(1),y.iushrn(1);for(;;){for(;m.isEven();)m.iushrn(1);for(;y.isEven();)y.iushrn(1);var M=m.cmp(y);if(M<0){var S=m;m=y,y=S}else if(0===M||0===y.cmpn(1))break;m.isub(y)}return y.iushln(v)},D.prototype.invm=function(h){return this.egcd(h).a.umod(h)},D.prototype.isEven=function(){return 0==(1&this.words[0])},D.prototype.isOdd=function(){return 1==(1&this.words[0])},D.prototype.andln=function(h){return this.words[0]&h},D.prototype.bincn=function(h){ht("number"==typeof h);var m=h%26,y=(h-m)/26,v=1<<m;if(this.length<=y)return this._expand(y+1),this.words[y]|=v,this;for(var M=v,S=y;0!==M&&S<this.length;S++){var P=0|this.words[S];M=(P+=M)>>>26,this.words[S]=P&=67108863}return 0!==M&&(this.words[S]=M,this.length++),this},D.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},D.prototype.cmpn=function(h){var y,m=h<0;if(0!==this.negative&&!m)return-1;if(0===this.negative&&m)return 1;if(this.strip(),this.length>1)y=1;else{m&&(h=-h),ht(h<=67108863,"Number is too big");var v=0|this.words[0];y=v===h?0:v<h?-1:1}return 0!==this.negative?0|-y:y},D.prototype.cmp=function(h){if(0!==this.negative&&0===h.negative)return-1;if(0===this.negative&&0!==h.negative)return 1;var m=this.ucmp(h);return 0!==this.negative?0|-m:m},D.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var m=0,y=this.length-1;y>=0;y--){var v=0|this.words[y],M=0|h.words[y];if(v!==M){v<M?m=-1:v>M&&(m=1);break}}return m},D.prototype.gtn=function(h){return 1===this.cmpn(h)},D.prototype.gt=function(h){return 1===this.cmp(h)},D.prototype.gten=function(h){return this.cmpn(h)>=0},D.prototype.gte=function(h){return this.cmp(h)>=0},D.prototype.ltn=function(h){return-1===this.cmpn(h)},D.prototype.lt=function(h){return-1===this.cmp(h)},D.prototype.lten=function(h){return this.cmpn(h)<=0},D.prototype.lte=function(h){return this.cmp(h)<=0},D.prototype.eqn=function(h){return 0===this.cmpn(h)},D.prototype.eq=function(h){return 0===this.cmp(h)},D.red=function(h){return new Dt(h)},D.prototype.toRed=function(h){return ht(!this.red,"Already a number in reduction context"),ht(0===this.negative,"red works only with positives"),h.convertTo(this)._forceRed(h)},D.prototype.fromRed=function(){return ht(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},D.prototype._forceRed=function(h){return this.red=h,this},D.prototype.forceRed=function(h){return ht(!this.red,"Already a number in reduction context"),this._forceRed(h)},D.prototype.redAdd=function(h){return ht(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},D.prototype.redIAdd=function(h){return ht(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},D.prototype.redSub=function(h){return ht(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},D.prototype.redISub=function(h){return ht(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},D.prototype.redShl=function(h){return ht(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},D.prototype.redMul=function(h){return ht(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},D.prototype.redIMul=function(h){return ht(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},D.prototype.redSqr=function(){return ht(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},D.prototype.redISqr=function(){return ht(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},D.prototype.redSqrt=function(){return ht(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},D.prototype.redInvm=function(){return ht(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},D.prototype.redNeg=function(){return ht(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},D.prototype.redPow=function(h){return ht(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var Z={k256:null,p224:null,p192:null,p25519:null};function et(T,h){this.name=T,this.p=new D(h,16),this.n=this.p.bitLength(),this.k=new D(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function rt(){et.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function mt(){et.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function gt(){et.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Et(){et.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Dt(T){if("string"==typeof T){var h=D._prime(T);this.m=h.p,this.prime=h}else ht(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}function Mt(T){Dt.call(this,T),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new D(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}et.prototype._tmp=function(){var h=new D(null);return h.words=new Array(Math.ceil(this.n/13)),h},et.prototype.ireduce=function(h){var y,m=h;do{this.split(m,this.tmp),y=(m=(m=this.imulK(m)).iadd(this.tmp)).bitLength()}while(y>this.n);var v=y<this.n?-1:m.ucmp(this.p);return 0===v?(m.words[0]=0,m.length=1):v>0?m.isub(this.p):void 0!==m.strip?m.strip():m._strip(),m},et.prototype.split=function(h,m){h.iushrn(this.n,0,m)},et.prototype.imulK=function(h){return h.imul(this.k)},ct(rt,et),rt.prototype.split=function(h,m){for(var y=4194303,v=Math.min(h.length,9),M=0;M<v;M++)m.words[M]=h.words[M];if(m.length=v,h.length<=9)return h.words[0]=0,void(h.length=1);var S=h.words[9];for(m.words[m.length++]=S&y,M=10;M<h.length;M++){var P=0|h.words[M];h.words[M-10]=(P&y)<<4|S>>>22,S=P}h.words[M-10]=S>>>=22,h.length-=0===S&&h.length>10?10:9},rt.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var m=0,y=0;y<h.length;y++){var v=0|h.words[y];h.words[y]=67108863&(m+=977*v),m=64*v+(m/67108864|0)}return 0===h.words[h.length-1]&&(h.length--,0===h.words[h.length-1]&&h.length--),h},ct(mt,et),ct(gt,et),ct(Et,et),Et.prototype.imulK=function(h){for(var m=0,y=0;y<h.length;y++){var v=19*(0|h.words[y])+m,M=67108863&v;v>>>=26,h.words[y]=M,m=v}return 0!==m&&(h.words[h.length++]=m),h},D._prime=function(h){if(Z[h])return Z[h];var m;if("k256"===h)m=new rt;else if("p224"===h)m=new mt;else if("p192"===h)m=new gt;else{if("p25519"!==h)throw new Error("Unknown prime "+h);m=new Et}return Z[h]=m,m},Dt.prototype._verify1=function(h){ht(0===h.negative,"red works only with positives"),ht(h.red,"red works only with red numbers")},Dt.prototype._verify2=function(h,m){ht(0==(h.negative|m.negative),"red works only with positives"),ht(h.red&&h.red===m.red,"red works only with red numbers")},Dt.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):h.umod(this.m)._forceRed(this)},Dt.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},Dt.prototype.add=function(h,m){this._verify2(h,m);var y=h.add(m);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},Dt.prototype.iadd=function(h,m){this._verify2(h,m);var y=h.iadd(m);return y.cmp(this.m)>=0&&y.isub(this.m),y},Dt.prototype.sub=function(h,m){this._verify2(h,m);var y=h.sub(m);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},Dt.prototype.isub=function(h,m){this._verify2(h,m);var y=h.isub(m);return y.cmpn(0)<0&&y.iadd(this.m),y},Dt.prototype.shl=function(h,m){return this._verify1(h),this.imod(h.ushln(m))},Dt.prototype.imul=function(h,m){return this._verify2(h,m),this.imod(h.imul(m))},Dt.prototype.mul=function(h,m){return this._verify2(h,m),this.imod(h.mul(m))},Dt.prototype.isqr=function(h){return this.imul(h,h.clone())},Dt.prototype.sqr=function(h){return this.mul(h,h)},Dt.prototype.sqrt=function(h){if(h.isZero())return h.clone();var m=this.m.andln(3);if(ht(m%2==1),3===m){var y=this.m.add(new D(1)).iushrn(2);return this.pow(h,y)}for(var v=this.m.subn(1),M=0;!v.isZero()&&0===v.andln(1);)M++,v.iushrn(1);ht(!v.isZero());var S=new D(1).toRed(this),P=S.redNeg(),C=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new D(2*d*d).toRed(this);0!==this.pow(d,C).cmp(P);)d.redIAdd(P);for(var k=this.pow(d,v),nt=this.pow(h,v.addn(1).iushrn(1)),Q=this.pow(h,v),J=M;0!==Q.cmp(S);){for(var xt=Q,wt=0;0!==xt.cmp(S);wt++)xt=xt.redSqr();ht(wt<J);var Ft=this.pow(k,new D(1).iushln(J-wt-1));nt=nt.redMul(Ft),k=Ft.redSqr(),Q=Q.redMul(k),J=wt}return nt},Dt.prototype.invm=function(h){var m=h._invmp(this.m);return 0!==m.negative?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},Dt.prototype.pow=function(h,m){if(m.isZero())return new D(1).toRed(this);if(0===m.cmpn(1))return h.clone();var v=new Array(16);v[0]=new D(1).toRed(this),v[1]=h;for(var M=2;M<v.length;M++)v[M]=this.mul(v[M-1],h);var S=v[0],P=0,C=0,d=m.bitLength()%26;for(0===d&&(d=26),M=m.length-1;M>=0;M--){for(var k=m.words[M],nt=d-1;nt>=0;nt--){var Q=k>>nt&1;S!==v[0]&&(S=this.sqr(S)),0!==Q||0!==P?(P<<=1,P|=Q,(4==++C||0===M&&0===nt)&&(S=this.mul(S,v[P]),C=0,P=0)):C=0}d=26}return S},Dt.prototype.convertTo=function(h){var m=h.umod(this.m);return m===h?m.clone():m},Dt.prototype.convertFrom=function(h){var m=h.clone();return m.red=null,m},D.mont=function(h){return new Mt(h)},ct(Mt,Dt),Mt.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},Mt.prototype.convertFrom=function(h){var m=this.imod(h.mul(this.rinv));return m.red=null,m},Mt.prototype.imul=function(h,m){if(h.isZero()||m.isZero())return h.words[0]=0,h.length=1,h;var y=h.imul(m),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(v).iushrn(this.shift),S=M;return M.cmp(this.m)>=0?S=M.isub(this.m):M.cmpn(0)<0&&(S=M.iadd(this.m)),S._forceRed(this)},Mt.prototype.mul=function(h,m){if(h.isZero()||m.isZero())return new D(0)._forceRed(this);var y=h.mul(m),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(v).iushrn(this.shift),S=M;return M.cmp(this.m)>=0?S=M.isub(this.m):M.cmpn(0)<0&&(S=M.iadd(this.m)),S._forceRed(this)},Mt.prototype.invm=function(h){return this.imod(h._invmp(this.m).mul(this.r2))._forceRed(this)}}(fe=kt.nmd(fe),this)},3009:(fe,ot,kt)=>{var Tt=kt(347),Pt=kt(9129),ht=kt(4137),ct=kt(8847),D=kt(5269),$=kt(4979),X=kt(2900),it=kt(4615).Buffer;fe.exports=function(N,U,z){var Y;Y=N.padding?N.padding:z?1:4;var Z,q=Tt(N),V=q.modulus.byteLength();if(U.length>V||new ct(U).cmp(q.modulus)>=0)throw new Error("decryption error");Z=z?X(new ct(U),q):D(U,q);var et=it.alloc(V-Z.length);if(Z=it.concat([et,Z],V),4===Y)return function(tt,N){var U=tt.modulus.byteLength(),z=$("sha1").update(it.alloc(0)).digest(),Y=z.length;if(0!==N[0])throw new Error("decryption error");var q=N.slice(1,Y+1),V=N.slice(Y+1),Z=ht(q,Pt(V,Y)),et=ht(V,Pt(Z,U-Y-1));if(function(tt,N){tt=it.from(tt),N=it.from(N);var U=0,z=tt.length;tt.length!==N.length&&(U++,z=Math.min(tt.length,N.length));for(var Y=-1;++Y<z;)U+=tt[Y]^N[Y];return U}(z,et.slice(0,Y)))throw new Error("decryption error");for(var rt=Y;0===et[rt];)rt++;if(1!==et[rt++])throw new Error("decryption error");return et.slice(rt)}(q,Z);if(1===Y)return function(tt,N,U){for(var z=N.slice(0,2),Y=2,q=0;0!==N[Y++];)if(Y>=N.length){q++;break}var V=N.slice(2,Y-1);if(("0002"!==z.toString("hex")&&!U||"0001"!==z.toString("hex")&&U)&&q++,V.length<8&&q++,q)throw new Error("decryption error");return N.slice(Y)}(0,Z,z);if(3===Y)return Z;throw new Error("unknown padding")}},793:(fe,ot,kt)=>{var Tt=kt(347),Pt=kt(8747),ht=kt(4979),ct=kt(9129),D=kt(4137),$=kt(8847),X=kt(2900),it=kt(5269),K=kt(4615).Buffer;fe.exports=function(U,z,Y){var q;q=U.padding?U.padding:Y?1:4;var Z,V=Tt(U);if(4===q)Z=function(N,U){var z=N.modulus.byteLength(),Y=U.length,q=ht("sha1").update(K.alloc(0)).digest(),V=q.length,Z=2*V;if(Y>z-Z-2)throw new Error("message too long");var et=K.alloc(z-Y-Z-2),rt=z-V-1,mt=Pt(V),gt=D(K.concat([q,et,K.alloc(1,1),U],rt),ct(mt,rt)),Et=D(mt,ct(gt,V));return new $(K.concat([K.alloc(1),Et,gt],z))}(V,z);else if(1===q)Z=function(N,U,z){var V,Y=U.length,q=N.modulus.byteLength();if(Y>q-11)throw new Error("message too long");return V=z?K.alloc(q-Y-3,255):function(N){for(var V,U=K.allocUnsafe(N),z=0,Y=Pt(2*N),q=0;z<N;)q===Y.length&&(Y=Pt(2*N),q=0),(V=Y[q++])&&(U[z++]=V);return U}(q-Y-3),new $(K.concat([K.from([0,z?1:2]),V,K.alloc(1),U],q))}(V,z,Y);else{if(3!==q)throw new Error("unknown padding");if((Z=new $(z)).cmp(V.modulus)>=0)throw new Error("data too long for modulus")}return Y?it(Z,V):X(Z,V)}},2900:(fe,ot,kt)=>{var Tt=kt(8847),Pt=kt(4615).Buffer;fe.exports=function(ct,D){return Pt.from(ct.toRed(Tt.mont(D.modulus)).redPow(new Tt(D.publicExponent)).fromRed().toArray())}},4137:fe=>{fe.exports=function(kt,Tt){for(var Pt=kt.length,ht=-1;++ht<Pt;)kt[ht]^=Tt[ht];return kt}},8747:(fe,ot,kt)=>{"use strict";var ct=kt(4615).Buffer,D=global.crypto||global.msCrypto;fe.exports=D&&D.getRandomValues?function(X,it){if(X>4294967295)throw new RangeError("requested too many random bytes");var K=ct.allocUnsafe(X);if(X>0)if(X>65536)for(var W=0;W<X;W+=65536)D.getRandomValues(K.slice(W,W+65536));else D.getRandomValues(K);return"function"==typeof it?process.nextTick(function(){it(null,K)}):K}:function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},1766:(fe,ot,kt)=>{"use strict";function Tt(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var Pt=kt(4615),ht=kt(8747),ct=Pt.Buffer,D=Pt.kMaxLength,$=global.crypto||global.msCrypto,X=Math.pow(2,32)-1;function it(N,U){if("number"!=typeof N||N!=N)throw new TypeError("offset must be a number");if(N>X||N<0)throw new TypeError("offset must be a uint32");if(N>D||N>U)throw new RangeError("offset out of range")}function K(N,U,z){if("number"!=typeof N||N!=N)throw new TypeError("size must be a number");if(N>X||N<0)throw new TypeError("size must be a uint32");if(N+U>z||N>D)throw new RangeError("buffer too small")}function j(N,U,z,Y){if(process.browser){var V=new Uint8Array(N.buffer,U,z);return $.getRandomValues(V),Y?void process.nextTick(function(){Y(null,N)}):N}if(!Y)return ht(z).copy(N,U),N;ht(z,function(et,rt){if(et)return Y(et);rt.copy(N,U),Y(null,N)})}$&&$.getRandomValues||!process.browser?(ot.randomFill=function(N,U,z,Y){if(!(ct.isBuffer(N)||N instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof U)Y=U,U=0,z=N.length;else if("function"==typeof z)Y=z,z=N.length-U;else if("function"!=typeof Y)throw new TypeError('"cb" argument must be a function');return it(U,N.length),K(z,U,N.length),j(N,U,z,Y)},ot.randomFillSync=function(N,U,z){if(void 0===U&&(U=0),!(ct.isBuffer(N)||N instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return it(U,N.length),void 0===z&&(z=N.length-U),K(z,U,N.length),j(N,U,z)}):(ot.randomFill=Tt,ot.randomFillSync=Tt)},4621:fe=>{"use strict";var kt={};function Tt($,X,it){it||(it=Error);var W=function(j){function tt(N,U,z){return j.call(this,function(j,tt,N){return"string"==typeof X?X:X(j,tt,N)}(N,U,z))||this}return function($,X){$.prototype=Object.create(X.prototype),$.prototype.constructor=$,$.__proto__=X}(tt,j),tt}(it);W.prototype.name=it.name,W.prototype.code=$,kt[$]=W}function Pt($,X){if(Array.isArray($)){var it=$.length;return $=$.map(function(K){return String(K)}),it>2?"one of ".concat(X," ").concat($.slice(0,it-1).join(", "),", or ")+$[it-1]:2===it?"one of ".concat(X," ").concat($[0]," or ").concat($[1]):"of ".concat(X," ").concat($[0])}return"of ".concat(X," ").concat(String($))}Tt("ERR_INVALID_OPT_VALUE",function($,X){return'The value "'+X+'" is invalid for option "'+$+'"'},TypeError),Tt("ERR_INVALID_ARG_TYPE",function($,X,it){var K,W;if("string"==typeof X&&function($,X,it){return $.substr(0,X.length)===X}(X,"not ")?(K="must not be",X=X.replace(/^not /,"")):K="must be",function($,X,it){return(void 0===it||it>$.length)&&(it=$.length),$.substring(it-X.length,it)===X}($," argument"))W="The ".concat($," ").concat(K," ").concat(Pt(X,"type"));else{var j=function($,X,it){return"number"!=typeof it&&(it=0),!(it+".".length>$.length)&&-1!==$.indexOf(".",it)}($)?"property":"argument";W='The "'.concat($,'" ').concat(j," ").concat(K," ").concat(Pt(X,"type"))}return W+". Received type ".concat(typeof it)},TypeError),Tt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),Tt("ERR_METHOD_NOT_IMPLEMENTED",function($){return"The "+$+" method is not implemented"}),Tt("ERR_STREAM_PREMATURE_CLOSE","Premature close"),Tt("ERR_STREAM_DESTROYED",function($){return"Cannot call "+$+" after a stream was destroyed"}),Tt("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),Tt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),Tt("ERR_STREAM_WRITE_AFTER_END","write after end"),Tt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),Tt("ERR_UNKNOWN_ENCODING",function($){return"Unknown encoding: "+$},TypeError),Tt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),fe.exports.q=kt},9617:(fe,ot,kt)=>{"use strict";var Tt=Object.keys||function(W){var j=[];for(var tt in W)j.push(tt);return j};fe.exports=X;var Pt=kt(7619),ht=kt(8956);kt(3516)(X,Pt);for(var ct=Tt(ht.prototype),D=0;D<ct.length;D++){var $=ct[D];X.prototype[$]||(X.prototype[$]=ht.prototype[$])}function X(W){if(!(this instanceof X))return new X(W);Pt.call(this,W),ht.call(this,W),this.allowHalfOpen=!0,W&&(!1===W.readable&&(this.readable=!1),!1===W.writable&&(this.writable=!1),!1===W.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",it)))}function it(){this._writableState.ended||process.nextTick(K,this)}function K(W){W.end()}Object.defineProperty(X.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(X.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(X.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(X.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(j){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=j,this._writableState.destroyed=j)}})},1833:(fe,ot,kt)=>{"use strict";fe.exports=Pt;var Tt=kt(8329);function Pt(ht){if(!(this instanceof Pt))return new Pt(ht);Tt.call(this,ht)}kt(3516)(Pt,Tt),Pt.prototype._transform=function(ht,ct,D){D(null,ht)}},7619:(fe,ot,kt)=>{"use strict";var Tt;fe.exports=T,T.ReadableState=Mt,kt(7703);var W,ht=function(jt,Kt){return jt.listeners(Kt).length},ct=kt(3183),D=kt(3847).Buffer,$=global.Uint8Array||function(){},K=kt(4616);W=K&&K.debuglog?K.debuglog("stream"):function(){};var et,rt,mt,j=kt(7081),tt=kt(9405),U=kt(7411).getHighWaterMark,z=kt(4621).q,Y=z.ERR_INVALID_ARG_TYPE,q=z.ERR_STREAM_PUSH_AFTER_EOF,V=z.ERR_METHOD_NOT_IMPLEMENTED,Z=z.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;kt(3516)(T,ct);var gt=tt.errorOrDestroy,Et=["error","close","destroy","pause","resume"];function Mt(At,jt,Kt){Tt=Tt||kt(9617),"boolean"!=typeof Kt&&(Kt=jt instanceof Tt),this.objectMode=!!(At=At||{}).objectMode,Kt&&(this.objectMode=this.objectMode||!!At.readableObjectMode),this.highWaterMark=U(this,At,"readableHighWaterMark",Kt),this.buffer=new j,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==At.emitClose,this.autoDestroy=!!At.autoDestroy,this.destroyed=!1,this.defaultEncoding=At.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,At.encoding&&(et||(et=kt(3033).s),this.decoder=new et(At.encoding),this.encoding=At.encoding)}function T(At){if(Tt=Tt||kt(9617),!(this instanceof T))return new T(At);this._readableState=new Mt(At,this,this instanceof Tt),this.readable=!0,At&&("function"==typeof At.read&&(this._read=At.read),"function"==typeof At.destroy&&(this._destroy=At.destroy)),ct.call(this)}function h(At,jt,Kt,Vt,Ce){W("readableAddChunk",jt);var ge,Ht=At._readableState;if(null===jt)Ht.reading=!1,function(At,jt){if(W("onEofChunk"),!jt.ended){if(jt.decoder){var Kt=jt.decoder.end();Kt&&Kt.length&&(jt.buffer.push(Kt),jt.length+=jt.objectMode?1:Kt.length)}jt.ended=!0,jt.sync?C(At):(jt.needReadable=!1,jt.emittedReadable||(jt.emittedReadable=!0,d(At)))}}(At,Ht);else if(Ce||(ge=function(At,jt){var Kt;return!function(At){return D.isBuffer(At)||At instanceof $}(jt)&&"string"!=typeof jt&&void 0!==jt&&!At.objectMode&&(Kt=new Y("chunk",["string","Buffer","Uint8Array"],jt)),Kt}(Ht,jt)),ge)gt(At,ge);else if(Ht.objectMode||jt&&jt.length>0)if("string"!=typeof jt&&!Ht.objectMode&&Object.getPrototypeOf(jt)!==D.prototype&&(jt=function(At){return D.from(At)}(jt)),Vt)Ht.endEmitted?gt(At,new Z):m(At,Ht,jt,!0);else if(Ht.ended)gt(At,new q);else{if(Ht.destroyed)return!1;Ht.reading=!1,Ht.decoder&&!Kt?(jt=Ht.decoder.write(jt),Ht.objectMode||0!==jt.length?m(At,Ht,jt,!1):k(At,Ht)):m(At,Ht,jt,!1)}else Vt||(Ht.reading=!1,k(At,Ht));return!Ht.ended&&(Ht.length<Ht.highWaterMark||0===Ht.length)}function m(At,jt,Kt,Vt){jt.flowing&&0===jt.length&&!jt.sync?(jt.awaitDrain=0,At.emit("data",Kt)):(jt.length+=jt.objectMode?1:Kt.length,Vt?jt.buffer.unshift(Kt):jt.buffer.push(Kt),jt.needReadable&&C(At)),k(At,jt)}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(jt){!this._readableState||(this._readableState.destroyed=jt)}}),T.prototype.destroy=tt.destroy,T.prototype._undestroy=tt.undestroy,T.prototype._destroy=function(At,jt){jt(At)},T.prototype.push=function(At,jt){var Vt,Kt=this._readableState;return Kt.objectMode?Vt=!0:"string"==typeof At&&((jt=jt||Kt.defaultEncoding)!==Kt.encoding&&(At=D.from(At,jt),jt=""),Vt=!0),h(this,At,jt,!1,Vt)},T.prototype.unshift=function(At){return h(this,At,null,!0,!1)},T.prototype.isPaused=function(){return!1===this._readableState.flowing},T.prototype.setEncoding=function(At){et||(et=kt(3033).s);var jt=new et(At);this._readableState.decoder=jt,this._readableState.encoding=this._readableState.decoder.encoding;for(var Kt=this._readableState.buffer.head,Vt="";null!==Kt;)Vt+=jt.write(Kt.data),Kt=Kt.next;return this._readableState.buffer.clear(),""!==Vt&&this._readableState.buffer.push(Vt),this._readableState.length=Vt.length,this};var v=1073741824;function S(At,jt){return At<=0||0===jt.length&&jt.ended?0:jt.objectMode?1:At!=At?jt.flowing&&jt.length?jt.buffer.head.data.length:jt.length:(At>jt.highWaterMark&&(jt.highWaterMark=function(At){return At>=v?At=v:(At--,At|=At>>>1,At|=At>>>2,At|=At>>>4,At|=At>>>8,At|=At>>>16,At++),At}(At)),At<=jt.length?At:jt.ended?jt.length:(jt.needReadable=!0,0))}function C(At){var jt=At._readableState;W("emitReadable",jt.needReadable,jt.emittedReadable),jt.needReadable=!1,jt.emittedReadable||(W("emitReadable",jt.flowing),jt.emittedReadable=!0,process.nextTick(d,At))}function d(At){var jt=At._readableState;W("emitReadable_",jt.destroyed,jt.length,jt.ended),!jt.destroyed&&(jt.length||jt.ended)&&(At.emit("readable"),jt.emittedReadable=!1),jt.needReadable=!jt.flowing&&!jt.ended&&jt.length<=jt.highWaterMark,Gt(At)}function k(At,jt){jt.readingMore||(jt.readingMore=!0,process.nextTick(nt,At,jt))}function nt(At,jt){for(;!jt.reading&&!jt.ended&&(jt.length<jt.highWaterMark||jt.flowing&&0===jt.length);){var Kt=jt.length;if(W("maybeReadMore read 0"),At.read(0),Kt===jt.length)break}jt.readingMore=!1}function J(At){var jt=At._readableState;jt.readableListening=At.listenerCount("readable")>0,jt.resumeScheduled&&!jt.paused?jt.flowing=!0:At.listenerCount("data")>0&&At.resume()}function xt(At){W("readable nexttick read 0"),At.read(0)}function Ft(At,jt){W("resume",jt.reading),jt.reading||At.read(0),jt.resumeScheduled=!1,At.emit("resume"),Gt(At),jt.flowing&&!jt.reading&&At.read(0)}function Gt(At){var jt=At._readableState;for(W("flow",jt.flowing);jt.flowing&&null!==At.read(););}function It(At,jt){return 0===jt.length?null:(jt.objectMode?Kt=jt.buffer.shift():!At||At>=jt.length?(Kt=jt.decoder?jt.buffer.join(""):1===jt.buffer.length?jt.buffer.first():jt.buffer.concat(jt.length),jt.buffer.clear()):Kt=jt.buffer.consume(At,jt.decoder),Kt);var Kt}function _t(At){var jt=At._readableState;W("endReadable",jt.endEmitted),jt.endEmitted||(jt.ended=!0,process.nextTick(Zt,jt,At))}function Zt(At,jt){if(W("endReadableNT",At.endEmitted,At.length),!At.endEmitted&&0===At.length&&(At.endEmitted=!0,jt.readable=!1,jt.emit("end"),At.autoDestroy)){var Kt=jt._writableState;(!Kt||Kt.autoDestroy&&Kt.finished)&&jt.destroy()}}function Ot(At,jt){for(var Kt=0,Vt=At.length;Kt<Vt;Kt++)if(At[Kt]===jt)return Kt;return-1}T.prototype.read=function(At){W("read",At),At=parseInt(At,10);var jt=this._readableState,Kt=At;if(0!==At&&(jt.emittedReadable=!1),0===At&&jt.needReadable&&((0!==jt.highWaterMark?jt.length>=jt.highWaterMark:jt.length>0)||jt.ended))return W("read: emitReadable",jt.length,jt.ended),0===jt.length&&jt.ended?_t(this):C(this),null;if(0===(At=S(At,jt))&&jt.ended)return 0===jt.length&&_t(this),null;var Ce,Vt=jt.needReadable;return W("need readable",Vt),(0===jt.length||jt.length-At<jt.highWaterMark)&&W("length less than watermark",Vt=!0),jt.ended||jt.reading?W("reading or ended",Vt=!1):Vt&&(W("do read"),jt.reading=!0,jt.sync=!0,0===jt.length&&(jt.needReadable=!0),this._read(jt.highWaterMark),jt.sync=!1,jt.reading||(At=S(Kt,jt))),null===(Ce=At>0?It(At,jt):null)?(jt.needReadable=jt.length<=jt.highWaterMark,At=0):(jt.length-=At,jt.awaitDrain=0),0===jt.length&&(jt.ended||(jt.needReadable=!0),Kt!==At&&jt.ended&&_t(this)),null!==Ce&&this.emit("data",Ce),Ce},T.prototype._read=function(At){gt(this,new V("_read()"))},T.prototype.pipe=function(At,jt){var Kt=this,Vt=this._readableState;switch(Vt.pipesCount){case 0:Vt.pipes=At;break;case 1:Vt.pipes=[Vt.pipes,At];break;default:Vt.pipes.push(At)}Vt.pipesCount+=1,W("pipe count=%d opts=%j",Vt.pipesCount,jt);var Ht=jt&&!1===jt.end||At===process.stdout||At===process.stderr?vt:yi;function yi(){W("onend"),At.end()}Vt.endEmitted?process.nextTick(Ht):Kt.once("end",Ht),At.on("unpipe",function ge(at,qt){W("onunpipe"),at===Kt&&qt&&!1===qt.hasUnpiped&&(qt.hasUnpiped=!0,W("cleanup"),At.removeListener("close",Re),At.removeListener("finish",Nt),At.removeListener("drain",we),At.removeListener("error",ee),At.removeListener("unpipe",ge),Kt.removeListener("end",yi),Kt.removeListener("end",vt),Kt.removeListener("data",Yt),de=!0,Vt.awaitDrain&&(!At._writableState||At._writableState.needDrain)&&we())});var we=function(At){return function(){var Kt=At._readableState;W("pipeOnDrain",Kt.awaitDrain),Kt.awaitDrain&&Kt.awaitDrain--,0===Kt.awaitDrain&&ht(At,"data")&&(Kt.flowing=!0,Gt(At))}}(Kt);At.on("drain",we);var de=!1;function Yt(at){W("ondata");var qt=At.write(at);W("dest.write",qt),!1===qt&&((1===Vt.pipesCount&&Vt.pipes===At||Vt.pipesCount>1&&-1!==Ot(Vt.pipes,At))&&!de&&(W("false write response, pause",Vt.awaitDrain),Vt.awaitDrain++),Kt.pause())}function ee(at){W("onerror",at),vt(),At.removeListener("error",ee),0===ht(At,"error")&&gt(At,at)}function Re(){At.removeListener("finish",Nt),vt()}function Nt(){W("onfinish"),At.removeListener("close",Re),vt()}function vt(){W("unpipe"),Kt.unpipe(At)}return Kt.on("data",Yt),function(At,jt,Kt){if("function"==typeof At.prependListener)return At.prependListener(jt,Kt);At._events&&At._events[jt]?Array.isArray(At._events[jt])?At._events[jt].unshift(Kt):At._events[jt]=[Kt,At._events[jt]]:At.on(jt,Kt)}(At,"error",ee),At.once("close",Re),At.once("finish",Nt),At.emit("pipe",Kt),Vt.flowing||(W("pipe resume"),Kt.resume()),At},T.prototype.unpipe=function(At){var jt=this._readableState,Kt={hasUnpiped:!1};if(0===jt.pipesCount)return this;if(1===jt.pipesCount)return At&&At!==jt.pipes||(At||(At=jt.pipes),jt.pipes=null,jt.pipesCount=0,jt.flowing=!1,At&&At.emit("unpipe",this,Kt)),this;if(!At){var Vt=jt.pipes,Ce=jt.pipesCount;jt.pipes=null,jt.pipesCount=0,jt.flowing=!1;for(var Ht=0;Ht<Ce;Ht++)Vt[Ht].emit("unpipe",this,{hasUnpiped:!1});return this}var ge=Ot(jt.pipes,At);return-1===ge||(jt.pipes.splice(ge,1),jt.pipesCount-=1,1===jt.pipesCount&&(jt.pipes=jt.pipes[0]),At.emit("unpipe",this,Kt)),this},T.prototype.addListener=T.prototype.on=function(At,jt){var Kt=ct.prototype.on.call(this,At,jt),Vt=this._readableState;return"data"===At?(Vt.readableListening=this.listenerCount("readable")>0,!1!==Vt.flowing&&this.resume()):"readable"===At&&!Vt.endEmitted&&!Vt.readableListening&&(Vt.readableListening=Vt.needReadable=!0,Vt.flowing=!1,Vt.emittedReadable=!1,W("on readable",Vt.length,Vt.reading),Vt.length?C(this):Vt.reading||process.nextTick(xt,this)),Kt},T.prototype.removeListener=function(At,jt){var Kt=ct.prototype.removeListener.call(this,At,jt);return"readable"===At&&process.nextTick(J,this),Kt},T.prototype.removeAllListeners=function(At){var jt=ct.prototype.removeAllListeners.apply(this,arguments);return("readable"===At||void 0===At)&&process.nextTick(J,this),jt},T.prototype.resume=function(){var At=this._readableState;return At.flowing||(W("resume"),At.flowing=!At.readableListening,function(At,jt){jt.resumeScheduled||(jt.resumeScheduled=!0,process.nextTick(Ft,At,jt))}(this,At)),At.paused=!1,this},T.prototype.pause=function(){return W("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(W("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},T.prototype.wrap=function(At){var jt=this,Kt=this._readableState,Vt=!1;for(var Ce in At.on("end",function(){if(W("wrapped end"),Kt.decoder&&!Kt.ended){var ge=Kt.decoder.end();ge&&ge.length&&jt.push(ge)}jt.push(null)}),At.on("data",function(ge){W("wrapped data"),Kt.decoder&&(ge=Kt.decoder.write(ge)),Kt.objectMode&&null==ge||!(Kt.objectMode||ge&&ge.length)||jt.push(ge)||(Vt=!0,At.pause())}),At)void 0===this[Ce]&&"function"==typeof At[Ce]&&(this[Ce]=function(yi){return function(){return At[yi].apply(At,arguments)}}(Ce));for(var Ht=0;Ht<Et.length;Ht++)At.on(Et[Ht],this.emit.bind(this,Et[Ht]));return this._read=function(ge){W("wrapped _read",ge),Vt&&(Vt=!1,At.resume())},this},"function"==typeof Symbol&&(T.prototype[Symbol.asyncIterator]=function(){return void 0===rt&&(rt=kt(6924)),rt(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(jt){this._readableState&&(this._readableState.flowing=jt)}}),T._fromList=It,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(T.from=function(At,jt){return void 0===mt&&(mt=kt(9742)),mt(T,At,jt)})},8329:(fe,ot,kt)=>{"use strict";fe.exports=it;var Tt=kt(4621).q,Pt=Tt.ERR_METHOD_NOT_IMPLEMENTED,ht=Tt.ERR_MULTIPLE_CALLBACK,ct=Tt.ERR_TRANSFORM_ALREADY_TRANSFORMING,D=Tt.ERR_TRANSFORM_WITH_LENGTH_0,$=kt(9617);function X(j,tt){var N=this._transformState;N.transforming=!1;var U=N.writecb;if(null===U)return this.emit("error",new ht);N.writechunk=null,N.writecb=null,null!=tt&&this.push(tt),U(j);var z=this._readableState;z.reading=!1,(z.needReadable||z.length<z.highWaterMark)&&this._read(z.highWaterMark)}function it(j){if(!(this instanceof it))return new it(j);$.call(this,j),this._transformState={afterTransform:X.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,j&&("function"==typeof j.transform&&(this._transform=j.transform),"function"==typeof j.flush&&(this._flush=j.flush)),this.on("prefinish",K)}function K(){var j=this;"function"!=typeof this._flush||this._readableState.destroyed?W(this,null,null):this._flush(function(tt,N){W(j,tt,N)})}function W(j,tt,N){if(tt)return j.emit("error",tt);if(null!=N&&j.push(N),j._writableState.length)throw new D;if(j._transformState.transforming)throw new ct;return j.push(null)}kt(3516)(it,$),it.prototype.push=function(j,tt){return this._transformState.needTransform=!1,$.prototype.push.call(this,j,tt)},it.prototype._transform=function(j,tt,N){N(new Pt("_transform()"))},it.prototype._write=function(j,tt,N){var U=this._transformState;if(U.writecb=N,U.writechunk=j,U.writeencoding=tt,!U.transforming){var z=this._readableState;(U.needTransform||z.needReadable||z.length<z.highWaterMark)&&this._read(z.highWaterMark)}},it.prototype._read=function(j){var tt=this._transformState;null===tt.writechunk||tt.transforming?tt.needTransform=!0:(tt.transforming=!0,this._transform(tt.writechunk,tt.writeencoding,tt.afterTransform))},it.prototype._destroy=function(j,tt){$.prototype._destroy.call(this,j,function(N){tt(N)})}},8956:(fe,ot,kt)=>{"use strict";function Pt(Gt){var It=this;this.next=null,this.entry=null,this.finish=function(){!function(Gt,It,_t){var Zt=Gt.entry;for(Gt.entry=null;Zt;){var Ot=Zt.callback;It.pendingcb--,Ot(undefined),Zt=Zt.next}It.corkedRequestsFree.next=Gt}(It,Gt)}}var ht;fe.exports=Mt,Mt.WritableState=Et;var Dt,ct={deprecate:kt(5832)},D=kt(3183),$=kt(3847).Buffer,X=global.Uint8Array||function(){},W=kt(9405),tt=kt(7411).getHighWaterMark,N=kt(4621).q,U=N.ERR_INVALID_ARG_TYPE,z=N.ERR_METHOD_NOT_IMPLEMENTED,Y=N.ERR_MULTIPLE_CALLBACK,q=N.ERR_STREAM_CANNOT_PIPE,V=N.ERR_STREAM_DESTROYED,Z=N.ERR_STREAM_NULL_VALUES,et=N.ERR_STREAM_WRITE_AFTER_END,rt=N.ERR_UNKNOWN_ENCODING,mt=W.errorOrDestroy;function gt(){}function Et(Gt,It,_t){ht=ht||kt(9617),"boolean"!=typeof _t&&(_t=It instanceof ht),this.objectMode=!!(Gt=Gt||{}).objectMode,_t&&(this.objectMode=this.objectMode||!!Gt.writableObjectMode),this.highWaterMark=tt(this,Gt,"writableHighWaterMark",_t),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===Gt.decodeStrings),this.defaultEncoding=Gt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ot){!function(Gt,It){var _t=Gt._writableState,Zt=_t.sync,Ot=_t.writecb;if("function"!=typeof Ot)throw new Y;if(function(Gt){Gt.writing=!1,Gt.writecb=null,Gt.length-=Gt.writelen,Gt.writelen=0}(_t),It)!function(Gt,It,_t,Zt,Ot){--It.pendingcb,_t?(process.nextTick(Ot,Zt),process.nextTick(xt,Gt,It),Gt._writableState.errorEmitted=!0,mt(Gt,Zt)):(Ot(Zt),Gt._writableState.errorEmitted=!0,mt(Gt,Zt),xt(Gt,It))}(Gt,_t,Zt,It,Ot);else{var At=nt(_t)||Gt.destroyed;!At&&!_t.corked&&!_t.bufferProcessing&&_t.bufferedRequest&&k(Gt,_t),Zt?process.nextTick(C,Gt,_t,At,Ot):C(Gt,_t,At,Ot)}}(It,Ot)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==Gt.emitClose,this.autoDestroy=!!Gt.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Pt(this)}function Mt(Gt){var It=this instanceof(ht=ht||kt(9617));if(!It&&!Dt.call(Mt,this))return new Mt(Gt);this._writableState=new Et(Gt,this,It),this.writable=!0,Gt&&("function"==typeof Gt.write&&(this._write=Gt.write),"function"==typeof Gt.writev&&(this._writev=Gt.writev),"function"==typeof Gt.destroy&&(this._destroy=Gt.destroy),"function"==typeof Gt.final&&(this._final=Gt.final)),D.call(this)}function v(Gt,It,_t,Zt,Ot,At,jt){It.writelen=Zt,It.writecb=jt,It.writing=!0,It.sync=!0,It.destroyed?It.onwrite(new V("write")):_t?Gt._writev(Ot,It.onwrite):Gt._write(Ot,At,It.onwrite),It.sync=!1}function C(Gt,It,_t,Zt){_t||function(Gt,It){0===It.length&&It.needDrain&&(It.needDrain=!1,Gt.emit("drain"))}(Gt,It),It.pendingcb--,Zt(),xt(Gt,It)}function k(Gt,It){It.bufferProcessing=!0;var _t=It.bufferedRequest;if(Gt._writev&&_t&&_t.next){var Ot=new Array(It.bufferedRequestCount),At=It.corkedRequestsFree;At.entry=_t;for(var jt=0,Kt=!0;_t;)Ot[jt]=_t,_t.isBuf||(Kt=!1),_t=_t.next,jt+=1;Ot.allBuffers=Kt,v(Gt,It,!0,It.length,Ot,"",At.finish),It.pendingcb++,It.lastBufferedRequest=null,At.next?(It.corkedRequestsFree=At.next,At.next=null):It.corkedRequestsFree=new Pt(It),It.bufferedRequestCount=0}else{for(;_t;){var Vt=_t.chunk;if(v(Gt,It,!1,It.objectMode?1:Vt.length,Vt,_t.encoding,_t.callback),_t=_t.next,It.bufferedRequestCount--,It.writing)break}null===_t&&(It.lastBufferedRequest=null)}It.bufferedRequest=_t,It.bufferProcessing=!1}function nt(Gt){return Gt.ending&&0===Gt.length&&null===Gt.bufferedRequest&&!Gt.finished&&!Gt.writing}function Q(Gt,It){Gt._final(function(_t){It.pendingcb--,_t&&mt(Gt,_t),It.prefinished=!0,Gt.emit("prefinish"),xt(Gt,It)})}function xt(Gt,It){var _t=nt(It);if(_t&&(function(Gt,It){!It.prefinished&&!It.finalCalled&&("function"!=typeof Gt._final||It.destroyed?(It.prefinished=!0,Gt.emit("prefinish")):(It.pendingcb++,It.finalCalled=!0,process.nextTick(Q,Gt,It)))}(Gt,It),0===It.pendingcb&&(It.finished=!0,Gt.emit("finish"),It.autoDestroy))){var Zt=Gt._readableState;(!Zt||Zt.autoDestroy&&Zt.endEmitted)&&Gt.destroy()}return _t}kt(3516)(Mt,D),Et.prototype.getBuffer=function(){for(var It=this.bufferedRequest,_t=[];It;)_t.push(It),It=It.next;return _t},function(){try{Object.defineProperty(Et.prototype,"buffer",{get:ct.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(Gt){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(Dt=Function.prototype[Symbol.hasInstance],Object.defineProperty(Mt,Symbol.hasInstance,{value:function(It){return!!Dt.call(this,It)||this===Mt&&It&&It._writableState instanceof Et}})):Dt=function(It){return It instanceof this},Mt.prototype.pipe=function(){mt(this,new q)},Mt.prototype.write=function(Gt,It,_t){var Zt=this._writableState,Ot=!1,At=!Zt.objectMode&&function(Gt){return $.isBuffer(Gt)||Gt instanceof X}(Gt);return At&&!$.isBuffer(Gt)&&(Gt=function(Gt){return $.from(Gt)}(Gt)),"function"==typeof It&&(_t=It,It=null),At?It="buffer":It||(It=Zt.defaultEncoding),"function"!=typeof _t&&(_t=gt),Zt.ending?function(Gt,It){var _t=new et;mt(Gt,_t),process.nextTick(It,_t)}(this,_t):(At||function(Gt,It,_t,Zt){var Ot;return null===_t?Ot=new Z:"string"!=typeof _t&&!It.objectMode&&(Ot=new U("chunk",["string","Buffer"],_t)),!Ot||(mt(Gt,Ot),process.nextTick(Zt,Ot),!1)}(this,Zt,Gt,_t))&&(Zt.pendingcb++,Ot=function(Gt,It,_t,Zt,Ot,At){if(!_t){var jt=function(Gt,It,_t){return!Gt.objectMode&&!1!==Gt.decodeStrings&&"string"==typeof It&&(It=$.from(It,_t)),It}(It,Zt,Ot);Zt!==jt&&(_t=!0,Ot="buffer",Zt=jt)}var Kt=It.objectMode?1:Zt.length;It.length+=Kt;var Vt=It.length<It.highWaterMark;if(Vt||(It.needDrain=!0),It.writing||It.corked){var Ce=It.lastBufferedRequest;It.lastBufferedRequest={chunk:Zt,encoding:Ot,isBuf:_t,callback:At,next:null},Ce?Ce.next=It.lastBufferedRequest:It.bufferedRequest=It.lastBufferedRequest,It.bufferedRequestCount+=1}else v(Gt,It,!1,Kt,Zt,Ot,At);return Vt}(this,Zt,At,Gt,It,_t)),Ot},Mt.prototype.cork=function(){this._writableState.corked++},Mt.prototype.uncork=function(){var Gt=this._writableState;Gt.corked&&(Gt.corked--,!Gt.writing&&!Gt.corked&&!Gt.bufferProcessing&&Gt.bufferedRequest&&k(this,Gt))},Mt.prototype.setDefaultEncoding=function(It){if("string"==typeof It&&(It=It.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((It+"").toLowerCase())>-1))throw new rt(It);return this._writableState.defaultEncoding=It,this},Object.defineProperty(Mt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Mt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Mt.prototype._write=function(Gt,It,_t){_t(new z("_write()"))},Mt.prototype._writev=null,Mt.prototype.end=function(Gt,It,_t){var Zt=this._writableState;return"function"==typeof Gt?(_t=Gt,Gt=null,It=null):"function"==typeof It&&(_t=It,It=null),null!=Gt&&this.write(Gt,It),Zt.corked&&(Zt.corked=1,this.uncork()),Zt.ending||function(Gt,It,_t){It.ending=!0,xt(Gt,It),_t&&(It.finished?process.nextTick(_t):Gt.once("finish",_t)),It.ended=!0,Gt.writable=!1}(this,Zt,_t),this},Object.defineProperty(Mt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Mt.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(It){!this._writableState||(this._writableState.destroyed=It)}}),Mt.prototype.destroy=W.destroy,Mt.prototype._undestroy=W.undestroy,Mt.prototype._destroy=function(Gt,It){It(Gt)}},6924:(fe,ot,kt)=>{"use strict";var Tt;function Pt(V,Z,et){return Z in V?Object.defineProperty(V,Z,{value:et,enumerable:!0,configurable:!0,writable:!0}):V[Z]=et,V}var ht=kt(616),ct=Symbol("lastResolve"),D=Symbol("lastReject"),$=Symbol("error"),X=Symbol("ended"),it=Symbol("lastPromise"),K=Symbol("handlePromise"),W=Symbol("stream");function j(V,Z){return{value:V,done:Z}}function tt(V){var Z=V[ct];if(null!==Z){var et=V[W].read();null!==et&&(V[it]=null,V[ct]=null,V[D]=null,Z(j(et,!1)))}}function N(V){process.nextTick(tt,V)}var z=Object.getPrototypeOf(function(){}),Y=Object.setPrototypeOf((Pt(Tt={get stream(){return this[W]},next:function(){var Z=this,et=this[$];if(null!==et)return Promise.reject(et);if(this[X])return Promise.resolve(j(void 0,!0));if(this[W].destroyed)return new Promise(function(Et,Dt){process.nextTick(function(){Z[$]?Dt(Z[$]):Et(j(void 0,!0))})});var mt,rt=this[it];if(rt)mt=new Promise(function(V,Z){return function(et,rt){V.then(function(){Z[X]?et(j(void 0,!0)):Z[K](et,rt)},rt)}}(rt,this));else{var gt=this[W].read();if(null!==gt)return Promise.resolve(j(gt,!1));mt=new Promise(this[K])}return this[it]=mt,mt}},Symbol.asyncIterator,function(){return this}),Pt(Tt,"return",function(){var Z=this;return new Promise(function(et,rt){Z[W].destroy(null,function(mt){mt?rt(mt):et(j(void 0,!0))})})}),Tt),z);fe.exports=function(Z){var et,rt=Object.create(Y,(Pt(et={},W,{value:Z,writable:!0}),Pt(et,ct,{value:null,writable:!0}),Pt(et,D,{value:null,writable:!0}),Pt(et,$,{value:null,writable:!0}),Pt(et,X,{value:Z._readableState.endEmitted,writable:!0}),Pt(et,K,{value:function(gt,Et){var Dt=rt[W].read();Dt?(rt[it]=null,rt[ct]=null,rt[D]=null,gt(j(Dt,!1))):(rt[ct]=gt,rt[D]=Et)},writable:!0}),et));return rt[it]=null,ht(Z,function(mt){if(mt&&"ERR_STREAM_PREMATURE_CLOSE"!==mt.code){var gt=rt[D];return null!==gt&&(rt[it]=null,rt[ct]=null,rt[D]=null,gt(mt)),void(rt[$]=mt)}var Et=rt[ct];null!==Et&&(rt[it]=null,rt[ct]=null,rt[D]=null,Et(j(void 0,!0))),rt[X]=!0}),Z.on("readable",N.bind(null,rt)),rt}},7081:(fe,ot,kt)=>{"use strict";function Tt(N,U){var z=Object.keys(N);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(N);U&&(Y=Y.filter(function(q){return Object.getOwnPropertyDescriptor(N,q).enumerable})),z.push.apply(z,Y)}return z}function ht(N,U,z){return U in N?Object.defineProperty(N,U,{value:z,enumerable:!0,configurable:!0,writable:!0}):N[U]=z,N}function D(N,U){for(var z=0;z<U.length;z++){var Y=U[z];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(N,Y.key,Y)}}var it=kt(3847).Buffer,W=kt(2361).inspect,j=W&&W.custom||"inspect";function tt(N,U,z){it.prototype.copy.call(N,U,z)}fe.exports=function(){function N(){(function(N,U){if(!(N instanceof U))throw new TypeError("Cannot call a class as a function")})(this,N),this.head=null,this.tail=null,this.length=0}return function(N,U,z){U&&D(N.prototype,U)}(N,[{key:"push",value:function(z){var Y={data:z,next:null};this.length>0?this.tail.next=Y:this.head=Y,this.tail=Y,++this.length}},{key:"unshift",value:function(z){var Y={data:z,next:this.head};0===this.length&&(this.tail=Y),this.head=Y,++this.length}},{key:"shift",value:function(){if(0!==this.length){var z=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,z}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(z){if(0===this.length)return"";for(var Y=this.head,q=""+Y.data;Y=Y.next;)q+=z+Y.data;return q}},{key:"concat",value:function(z){if(0===this.length)return it.alloc(0);for(var Y=it.allocUnsafe(z>>>0),q=this.head,V=0;q;)tt(q.data,Y,V),V+=q.data.length,q=q.next;return Y}},{key:"consume",value:function(z,Y){var q;return z<this.head.data.length?(q=this.head.data.slice(0,z),this.head.data=this.head.data.slice(z)):q=z===this.head.data.length?this.shift():Y?this._getString(z):this._getBuffer(z),q}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(z){var Y=this.head,q=1,V=Y.data;for(z-=V.length;Y=Y.next;){var Z=Y.data,et=z>Z.length?Z.length:z;if(V+=et===Z.length?Z:Z.slice(0,z),0==(z-=et)){et===Z.length?(++q,this.head=Y.next?Y.next:this.tail=null):(this.head=Y,Y.data=Z.slice(et));break}++q}return this.length-=q,V}},{key:"_getBuffer",value:function(z){var Y=it.allocUnsafe(z),q=this.head,V=1;for(q.data.copy(Y),z-=q.data.length;q=q.next;){var Z=q.data,et=z>Z.length?Z.length:z;if(Z.copy(Y,Y.length-z,0,et),0==(z-=et)){et===Z.length?(++V,this.head=q.next?q.next:this.tail=null):(this.head=q,q.data=Z.slice(et));break}++V}return this.length-=V,Y}},{key:j,value:function(z,Y){return W(this,function(N){for(var U=1;U<arguments.length;U++){var z=null!=arguments[U]?arguments[U]:{};U%2?Tt(Object(z),!0).forEach(function(Y){ht(N,Y,z[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(z)):Tt(Object(z)).forEach(function(Y){Object.defineProperty(N,Y,Object.getOwnPropertyDescriptor(z,Y))})}return N}({},Y,{depth:0,customInspect:!1}))}}]),N}()},9405:fe=>{"use strict";function kt(D,$){ht(D,$),Tt(D)}function Tt(D){D._writableState&&!D._writableState.emitClose||D._readableState&&!D._readableState.emitClose||D.emit("close")}function ht(D,$){D.emit("error",$)}fe.exports={destroy:function(D,$){var X=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?($?$(D):D&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(ht,this,D)):process.nextTick(ht,this,D)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(D||null,function(W){!$&&W?X._writableState?X._writableState.errorEmitted?process.nextTick(Tt,X):(X._writableState.errorEmitted=!0,process.nextTick(kt,X,W)):process.nextTick(kt,X,W):$?(process.nextTick(Tt,X),$(W)):process.nextTick(Tt,X)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(D,$){var X=D._readableState,it=D._writableState;X&&X.autoDestroy||it&&it.autoDestroy?D.destroy($):D.emit("error",$)}}},616:(fe,ot,kt)=>{"use strict";var Tt=kt(4621).q.ERR_STREAM_PREMATURE_CLOSE;function ht(){}fe.exports=function D($,X,it){if("function"==typeof X)return D($,null,X);X||(X={}),it=function($){var X=!1;return function(){if(!X){X=!0;for(var it=arguments.length,K=new Array(it),W=0;W<it;W++)K[W]=arguments[W];$.apply(this,K)}}}(it||ht);var K=X.readable||!1!==X.readable&&$.readable,W=X.writable||!1!==X.writable&&$.writable,j=function(){$.writable||N()},tt=$._writableState&&$._writableState.finished,N=function(){W=!1,tt=!0,K||it.call($)},U=$._readableState&&$._readableState.endEmitted,z=function(){K=!1,U=!0,W||it.call($)},Y=function(et){it.call($,et)},q=function(){var et;return K&&!U?((!$._readableState||!$._readableState.ended)&&(et=new Tt),it.call($,et)):W&&!tt?((!$._writableState||!$._writableState.ended)&&(et=new Tt),it.call($,et)):void 0},V=function(){$.req.on("finish",N)};return function($){return $.setHeader&&"function"==typeof $.abort}($)?($.on("complete",N),$.on("abort",q),$.req?V():$.on("request",V)):W&&!$._writableState&&($.on("end",j),$.on("close",j)),$.on("end",z),$.on("finish",N),!1!==X.error&&$.on("error",Y),$.on("close",q),function(){$.removeListener("complete",N),$.removeListener("abort",q),$.removeListener("request",V),$.req&&$.req.removeListener("finish",N),$.removeListener("end",j),$.removeListener("close",j),$.removeListener("finish",N),$.removeListener("end",z),$.removeListener("error",Y),$.removeListener("close",q)}}},9742:fe=>{fe.exports=function(){throw new Error("Readable.from is not available in the browser")}},2580:(fe,ot,kt)=>{"use strict";var Tt,ht=kt(4621).q,ct=ht.ERR_MISSING_ARGS,D=ht.ERR_STREAM_DESTROYED;function $(N){if(N)throw N}function it(N,U,z,Y){Y=function(N){var U=!1;return function(){U||(U=!0,N.apply(void 0,arguments))}}(Y);var q=!1;N.on("close",function(){q=!0}),void 0===Tt&&(Tt=kt(616)),Tt(N,{readable:U,writable:z},function(Z){if(Z)return Y(Z);q=!0,Y()});var V=!1;return function(Z){if(!q&&!V){if(V=!0,function(N){return N.setHeader&&"function"==typeof N.abort}(N))return N.abort();if("function"==typeof N.destroy)return N.destroy();Y(Z||new D("pipe"))}}}function K(N){N()}function W(N,U){return N.pipe(U)}function j(N){return N.length&&"function"==typeof N[N.length-1]?N.pop():$}fe.exports=function(){for(var N=arguments.length,U=new Array(N),z=0;z<N;z++)U[z]=arguments[z];var Y=j(U);if(Array.isArray(U[0])&&(U=U[0]),U.length<2)throw new ct("streams");var q,V=U.map(function(Z,et){var rt=et<U.length-1;return it(Z,rt,et>0,function(gt){q||(q=gt),gt&&V.forEach(K),!rt&&(V.forEach(K),Y(q))})});return U.reduce(W)}},7411:(fe,ot,kt)=>{"use strict";var Tt=kt(4621).q.ERR_INVALID_OPT_VALUE;fe.exports={getHighWaterMark:function(ct,D,$,X){var it=function(ct,D,$){return null!=ct.highWaterMark?ct.highWaterMark:D?ct[$]:null}(D,X,$);if(null!=it){if(!isFinite(it)||Math.floor(it)!==it||it<0)throw new Tt(X?$:"highWaterMark",it);return Math.floor(it)}return ct.objectMode?16:16384}}},3183:(fe,ot,kt)=>{fe.exports=kt(7703).EventEmitter},8792:(fe,ot,kt)=>{(ot=fe.exports=kt(7619)).Stream=ot,ot.Readable=ot,ot.Writable=kt(8956),ot.Duplex=kt(9617),ot.Transform=kt(8329),ot.PassThrough=kt(1833),ot.finished=kt(616),ot.pipeline=kt(2580)},7447:(fe,ot,kt)=>{"use strict";var Tt=kt(3847).Buffer,Pt=kt(3516),ht=kt(740),ct=new Array(16),D=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],$=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],X=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],it=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],K=[0,1518500249,1859775393,2400959708,2840853838],W=[1352829926,1548603684,1836072691,2053994217,0];function j(){ht.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function tt(V,Z){return V<<Z|V>>>32-Z}function N(V,Z,et,rt,mt,gt,Et,Dt){return tt(V+(Z^et^rt)+gt+Et|0,Dt)+mt|0}function U(V,Z,et,rt,mt,gt,Et,Dt){return tt(V+(Z&et|~Z&rt)+gt+Et|0,Dt)+mt|0}function z(V,Z,et,rt,mt,gt,Et,Dt){return tt(V+((Z|~et)^rt)+gt+Et|0,Dt)+mt|0}function Y(V,Z,et,rt,mt,gt,Et,Dt){return tt(V+(Z&rt|et&~rt)+gt+Et|0,Dt)+mt|0}function q(V,Z,et,rt,mt,gt,Et,Dt){return tt(V+(Z^(et|~rt))+gt+Et|0,Dt)+mt|0}Pt(j,ht),j.prototype._update=function(){for(var V=ct,Z=0;Z<16;++Z)V[Z]=this._block.readInt32LE(4*Z);for(var et=0|this._a,rt=0|this._b,mt=0|this._c,gt=0|this._d,Et=0|this._e,Dt=0|this._a,Mt=0|this._b,T=0|this._c,h=0|this._d,m=0|this._e,y=0;y<80;y+=1){var v,M;y<16?(v=N(et,rt,mt,gt,Et,V[D[y]],K[0],X[y]),M=q(Dt,Mt,T,h,m,V[$[y]],W[0],it[y])):y<32?(v=U(et,rt,mt,gt,Et,V[D[y]],K[1],X[y]),M=Y(Dt,Mt,T,h,m,V[$[y]],W[1],it[y])):y<48?(v=z(et,rt,mt,gt,Et,V[D[y]],K[2],X[y]),M=z(Dt,Mt,T,h,m,V[$[y]],W[2],it[y])):y<64?(v=Y(et,rt,mt,gt,Et,V[D[y]],K[3],X[y]),M=U(Dt,Mt,T,h,m,V[$[y]],W[3],it[y])):(v=q(et,rt,mt,gt,Et,V[D[y]],K[4],X[y]),M=N(Dt,Mt,T,h,m,V[$[y]],W[4],it[y])),et=Et,Et=gt,gt=tt(mt,10),mt=rt,rt=v,Dt=m,m=h,h=tt(T,10),T=Mt,Mt=M}var S=this._b+mt+h|0;this._b=this._c+gt+m|0,this._c=this._d+Et+Dt|0,this._d=this._e+et+Mt|0,this._e=this._a+rt+T|0,this._a=S},j.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var V=Tt.alloc?Tt.alloc(20):new Tt(20);return V.writeInt32LE(this._a,0),V.writeInt32LE(this._b,4),V.writeInt32LE(this._c,8),V.writeInt32LE(this._d,12),V.writeInt32LE(this._e,16),V},fe.exports=j},4615:(fe,ot,kt)=>{var Tt=kt(3847),Pt=Tt.Buffer;function ht(D,$){for(var X in D)$[X]=D[X]}function ct(D,$,X){return Pt(D,$,X)}Pt.from&&Pt.alloc&&Pt.allocUnsafe&&Pt.allocUnsafeSlow?fe.exports=Tt:(ht(Tt,ot),ot.Buffer=ct),ht(Pt,ct),ct.from=function(D,$,X){if("number"==typeof D)throw new TypeError("Argument must not be a number");return Pt(D,$,X)},ct.alloc=function(D,$,X){if("number"!=typeof D)throw new TypeError("Argument must be a number");var it=Pt(D);return void 0!==$?"string"==typeof X?it.fill($,X):it.fill($):it.fill(0),it},ct.allocUnsafe=function(D){if("number"!=typeof D)throw new TypeError("Argument must be a number");return Pt(D)},ct.allocUnsafeSlow=function(D){if("number"!=typeof D)throw new TypeError("Argument must be a number");return Tt.SlowBuffer(D)}},7356:(fe,ot,kt)=>{"use strict";var ct,Tt=kt(3847),Pt=Tt.Buffer,ht={};for(ct in Tt)!Tt.hasOwnProperty(ct)||"SlowBuffer"===ct||"Buffer"===ct||(ht[ct]=Tt[ct]);var D=ht.Buffer={};for(ct in Pt)!Pt.hasOwnProperty(ct)||"allocUnsafe"===ct||"allocUnsafeSlow"===ct||(D[ct]=Pt[ct]);if(ht.Buffer.prototype=Pt.prototype,(!D.from||D.from===Uint8Array.from)&&(D.from=function($,X,it){if("number"==typeof $)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof $);if($&&void 0===$.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $);return Pt($,X,it)}),D.alloc||(D.alloc=function($,X,it){if("number"!=typeof $)throw new TypeError('The "size" argument must be of type number. Received type '+typeof $);if($<0||$>=2*(1<<30))throw new RangeError('The value "'+$+'" is invalid for option "size"');var K=Pt($);return X&&0!==X.length?"string"==typeof it?K.fill(X,it):K.fill(X):K.fill(0),K}),!ht.kStringMaxLength)try{ht.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch($){}ht.constants||(ht.constants={MAX_LENGTH:ht.kMaxLength},ht.kStringMaxLength&&(ht.constants.MAX_STRING_LENGTH=ht.kStringMaxLength)),fe.exports=ht},1587:(fe,ot,kt)=>{var Tt=kt(4615).Buffer;function Pt(ht,ct){this._block=Tt.alloc(ht),this._finalSize=ct,this._blockSize=ht,this._len=0}Pt.prototype.update=function(ht,ct){"string"==typeof ht&&(ht=Tt.from(ht,ct=ct||"utf8"));for(var D=this._block,$=this._blockSize,X=ht.length,it=this._len,K=0;K<X;){for(var W=it%$,j=Math.min(X-K,$-W),tt=0;tt<j;tt++)D[W+tt]=ht[K+tt];K+=j,(it+=j)%$==0&&this._update(D)}return this._len+=X,this},Pt.prototype.digest=function(ht){var ct=this._len%this._blockSize;this._block[ct]=128,this._block.fill(0,ct+1),ct>=this._finalSize&&(this._update(this._block),this._block.fill(0));var D=8*this._len;if(D<=4294967295)this._block.writeUInt32BE(D,this._blockSize-4);else{var $=(4294967295&D)>>>0;this._block.writeUInt32BE((D-$)/4294967296,this._blockSize-8),this._block.writeUInt32BE($,this._blockSize-4)}this._update(this._block);var it=this._hash();return ht?it.toString(ht):it},Pt.prototype._update=function(){throw new Error("_update must be implemented by subclass")},fe.exports=Pt},6010:(fe,ot,kt)=>{var Tt=fe.exports=function(ht){ht=ht.toLowerCase();var ct=Tt[ht];if(!ct)throw new Error(ht+" is not supported (we accept pull requests)");return new ct};Tt.sha=kt(8924),Tt.sha1=kt(1278),Tt.sha224=kt(4607),Tt.sha256=kt(8107),Tt.sha384=kt(3640),Tt.sha512=kt(5455)},8924:(fe,ot,kt)=>{var Tt=kt(3516),Pt=kt(1587),ht=kt(4615).Buffer,ct=[1518500249,1859775393,-1894007588,-899497514],D=new Array(80);function $(){this.init(),this._w=D,Pt.call(this,64,56)}function X(W){return W<<5|W>>>27}function it(W){return W<<30|W>>>2}function K(W,j,tt,N){return 0===W?j&tt|~j&N:2===W?j&tt|j&N|tt&N:j^tt^N}Tt($,Pt),$.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},$.prototype._update=function(W){for(var j=this._w,tt=0|this._a,N=0|this._b,U=0|this._c,z=0|this._d,Y=0|this._e,q=0;q<16;++q)j[q]=W.readInt32BE(4*q);for(;q<80;++q)j[q]=j[q-3]^j[q-8]^j[q-14]^j[q-16];for(var V=0;V<80;++V){var Z=~~(V/20),et=X(tt)+K(Z,N,U,z)+Y+j[V]+ct[Z]|0;Y=z,z=U,U=it(N),N=tt,tt=et}this._a=tt+this._a|0,this._b=N+this._b|0,this._c=U+this._c|0,this._d=z+this._d|0,this._e=Y+this._e|0},$.prototype._hash=function(){var W=ht.allocUnsafe(20);return W.writeInt32BE(0|this._a,0),W.writeInt32BE(0|this._b,4),W.writeInt32BE(0|this._c,8),W.writeInt32BE(0|this._d,12),W.writeInt32BE(0|this._e,16),W},fe.exports=$},1278:(fe,ot,kt)=>{var Tt=kt(3516),Pt=kt(1587),ht=kt(4615).Buffer,ct=[1518500249,1859775393,-1894007588,-899497514],D=new Array(80);function $(){this.init(),this._w=D,Pt.call(this,64,56)}function X(j){return j<<1|j>>>31}function it(j){return j<<5|j>>>27}function K(j){return j<<30|j>>>2}function W(j,tt,N,U){return 0===j?tt&N|~tt&U:2===j?tt&N|tt&U|N&U:tt^N^U}Tt($,Pt),$.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},$.prototype._update=function(j){for(var tt=this._w,N=0|this._a,U=0|this._b,z=0|this._c,Y=0|this._d,q=0|this._e,V=0;V<16;++V)tt[V]=j.readInt32BE(4*V);for(;V<80;++V)tt[V]=X(tt[V-3]^tt[V-8]^tt[V-14]^tt[V-16]);for(var Z=0;Z<80;++Z){var et=~~(Z/20),rt=it(N)+W(et,U,z,Y)+q+tt[Z]+ct[et]|0;q=Y,Y=z,z=K(U),U=N,N=rt}this._a=N+this._a|0,this._b=U+this._b|0,this._c=z+this._c|0,this._d=Y+this._d|0,this._e=q+this._e|0},$.prototype._hash=function(){var j=ht.allocUnsafe(20);return j.writeInt32BE(0|this._a,0),j.writeInt32BE(0|this._b,4),j.writeInt32BE(0|this._c,8),j.writeInt32BE(0|this._d,12),j.writeInt32BE(0|this._e,16),j},fe.exports=$},4607:(fe,ot,kt)=>{var Tt=kt(3516),Pt=kt(8107),ht=kt(1587),ct=kt(4615).Buffer,D=new Array(64);function $(){this.init(),this._w=D,ht.call(this,64,56)}Tt($,Pt),$.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},$.prototype._hash=function(){var X=ct.allocUnsafe(28);return X.writeInt32BE(this._a,0),X.writeInt32BE(this._b,4),X.writeInt32BE(this._c,8),X.writeInt32BE(this._d,12),X.writeInt32BE(this._e,16),X.writeInt32BE(this._f,20),X.writeInt32BE(this._g,24),X},fe.exports=$},8107:(fe,ot,kt)=>{var Tt=kt(3516),Pt=kt(1587),ht=kt(4615).Buffer,ct=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],D=new Array(64);function $(){this.init(),this._w=D,Pt.call(this,64,56)}function X(N,U,z){return z^N&(U^z)}function it(N,U,z){return N&U|z&(N|U)}function K(N){return(N>>>2|N<<30)^(N>>>13|N<<19)^(N>>>22|N<<10)}function W(N){return(N>>>6|N<<26)^(N>>>11|N<<21)^(N>>>25|N<<7)}function j(N){return(N>>>7|N<<25)^(N>>>18|N<<14)^N>>>3}function tt(N){return(N>>>17|N<<15)^(N>>>19|N<<13)^N>>>10}Tt($,Pt),$.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},$.prototype._update=function(N){for(var U=this._w,z=0|this._a,Y=0|this._b,q=0|this._c,V=0|this._d,Z=0|this._e,et=0|this._f,rt=0|this._g,mt=0|this._h,gt=0;gt<16;++gt)U[gt]=N.readInt32BE(4*gt);for(;gt<64;++gt)U[gt]=tt(U[gt-2])+U[gt-7]+j(U[gt-15])+U[gt-16]|0;for(var Et=0;Et<64;++Et){var Dt=mt+W(Z)+X(Z,et,rt)+ct[Et]+U[Et]|0,Mt=K(z)+it(z,Y,q)|0;mt=rt,rt=et,et=Z,Z=V+Dt|0,V=q,q=Y,Y=z,z=Dt+Mt|0}this._a=z+this._a|0,this._b=Y+this._b|0,this._c=q+this._c|0,this._d=V+this._d|0,this._e=Z+this._e|0,this._f=et+this._f|0,this._g=rt+this._g|0,this._h=mt+this._h|0},$.prototype._hash=function(){var N=ht.allocUnsafe(32);return N.writeInt32BE(this._a,0),N.writeInt32BE(this._b,4),N.writeInt32BE(this._c,8),N.writeInt32BE(this._d,12),N.writeInt32BE(this._e,16),N.writeInt32BE(this._f,20),N.writeInt32BE(this._g,24),N.writeInt32BE(this._h,28),N},fe.exports=$},3640:(fe,ot,kt)=>{var Tt=kt(3516),Pt=kt(5455),ht=kt(1587),ct=kt(4615).Buffer,D=new Array(160);function $(){this.init(),this._w=D,ht.call(this,128,112)}Tt($,Pt),$.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},$.prototype._hash=function(){var X=ct.allocUnsafe(48);function it(K,W,j){X.writeInt32BE(K,j),X.writeInt32BE(W,j+4)}return it(this._ah,this._al,0),it(this._bh,this._bl,8),it(this._ch,this._cl,16),it(this._dh,this._dl,24),it(this._eh,this._el,32),it(this._fh,this._fl,40),X},fe.exports=$},5455:(fe,ot,kt)=>{var Tt=kt(3516),Pt=kt(1587),ht=kt(4615).Buffer,ct=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],D=new Array(160);function $(){this.init(),this._w=D,Pt.call(this,128,112)}function X(Y,q,V){return V^Y&(q^V)}function it(Y,q,V){return Y&q|V&(Y|q)}function K(Y,q){return(Y>>>28|q<<4)^(q>>>2|Y<<30)^(q>>>7|Y<<25)}function W(Y,q){return(Y>>>14|q<<18)^(Y>>>18|q<<14)^(q>>>9|Y<<23)}function j(Y,q){return(Y>>>1|q<<31)^(Y>>>8|q<<24)^Y>>>7}function tt(Y,q){return(Y>>>1|q<<31)^(Y>>>8|q<<24)^(Y>>>7|q<<25)}function N(Y,q){return(Y>>>19|q<<13)^(q>>>29|Y<<3)^Y>>>6}function U(Y,q){return(Y>>>19|q<<13)^(q>>>29|Y<<3)^(Y>>>6|q<<26)}function z(Y,q){return Y>>>0<q>>>0?1:0}Tt($,Pt),$.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},$.prototype._update=function(Y){for(var q=this._w,V=0|this._ah,Z=0|this._bh,et=0|this._ch,rt=0|this._dh,mt=0|this._eh,gt=0|this._fh,Et=0|this._gh,Dt=0|this._hh,Mt=0|this._al,T=0|this._bl,h=0|this._cl,m=0|this._dl,y=0|this._el,v=0|this._fl,M=0|this._gl,S=0|this._hl,P=0;P<32;P+=2)q[P]=Y.readInt32BE(4*P),q[P+1]=Y.readInt32BE(4*P+4);for(;P<160;P+=2){var C=q[P-30],d=q[P-30+1],k=j(C,d),nt=tt(d,C),Q=N(C=q[P-4],d=q[P-4+1]),J=U(d,C),Ft=q[P-32],Gt=q[P-32+1],It=nt+q[P-14+1]|0,_t=k+q[P-14]+z(It,nt)|0;_t=(_t=_t+Q+z(It=It+J|0,J)|0)+Ft+z(It=It+Gt|0,Gt)|0,q[P]=_t,q[P+1]=It}for(var Zt=0;Zt<160;Zt+=2){_t=q[Zt],It=q[Zt+1];var Ot=it(V,Z,et),At=it(Mt,T,h),jt=K(V,Mt),Kt=K(Mt,V),Vt=W(mt,y),Ce=W(y,mt),Ht=ct[Zt],ge=ct[Zt+1],yi=X(mt,gt,Et),we=X(y,v,M),de=S+Ce|0,Fe=Dt+Vt+z(de,S)|0;Fe=(Fe=(Fe=Fe+yi+z(de=de+we|0,we)|0)+Ht+z(de=de+ge|0,ge)|0)+_t+z(de=de+It|0,It)|0;var Yt=Kt+At|0,ee=jt+Ot+z(Yt,Kt)|0;Dt=Et,S=M,Et=gt,M=v,gt=mt,v=y,mt=rt+Fe+z(y=m+de|0,m)|0,rt=et,m=h,et=Z,h=T,Z=V,T=Mt,V=Fe+ee+z(Mt=de+Yt|0,de)|0}this._al=this._al+Mt|0,this._bl=this._bl+T|0,this._cl=this._cl+h|0,this._dl=this._dl+m|0,this._el=this._el+y|0,this._fl=this._fl+v|0,this._gl=this._gl+M|0,this._hl=this._hl+S|0,this._ah=this._ah+V+z(this._al,Mt)|0,this._bh=this._bh+Z+z(this._bl,T)|0,this._ch=this._ch+et+z(this._cl,h)|0,this._dh=this._dh+rt+z(this._dl,m)|0,this._eh=this._eh+mt+z(this._el,y)|0,this._fh=this._fh+gt+z(this._fl,v)|0,this._gh=this._gh+Et+z(this._gl,M)|0,this._hh=this._hh+Dt+z(this._hl,S)|0},$.prototype._hash=function(){var Y=ht.allocUnsafe(64);function q(V,Z,et){Y.writeInt32BE(V,et),Y.writeInt32BE(Z,et+4)}return q(this._ah,this._al,0),q(this._bh,this._bl,8),q(this._ch,this._cl,16),q(this._dh,this._dl,24),q(this._eh,this._el,32),q(this._fh,this._fl,40),q(this._gh,this._gl,48),q(this._hh,this._hl,56),Y},fe.exports=$},5089:(fe,ot,kt)=>{fe.exports=ht;var Tt=kt(7703).EventEmitter;function ht(){Tt.call(this)}kt(3516)(ht,Tt),ht.Readable=kt(7619),ht.Writable=kt(8956),ht.Duplex=kt(9617),ht.Transform=kt(8329),ht.PassThrough=kt(1833),ht.finished=kt(616),ht.pipeline=kt(2580),ht.Stream=ht,ht.prototype.pipe=function(ct,D){var $=this;function X(U){ct.writable&&!1===ct.write(U)&&$.pause&&$.pause()}function it(){$.readable&&$.resume&&$.resume()}$.on("data",X),ct.on("drain",it),!ct._isStdio&&(!D||!1!==D.end)&&($.on("end",W),$.on("close",j));var K=!1;function W(){K||(K=!0,ct.end())}function j(){K||(K=!0,"function"==typeof ct.destroy&&ct.destroy())}function tt(U){if(N(),0===Tt.listenerCount(this,"error"))throw U}function N(){$.removeListener("data",X),ct.removeListener("drain",it),$.removeListener("end",W),$.removeListener("close",j),$.removeListener("error",tt),ct.removeListener("error",tt),$.removeListener("end",N),$.removeListener("close",N),ct.removeListener("close",N)}return $.on("error",tt),ct.on("error",tt),$.on("end",N),$.on("close",N),ct.on("close",N),ct.emit("pipe",$),ct}},3033:(fe,ot,kt)=>{"use strict";var Tt=kt(1381).Buffer,Pt=Tt.isEncoding||function(V){switch((V=""+V)&&V.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function D(V){var Z;switch(this.encoding=function(V){var Z=function(V){if(!V)return"utf8";for(var Z;;)switch(V){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return V;default:if(Z)return;V=(""+V).toLowerCase(),Z=!0}}(V);if("string"!=typeof Z&&(Tt.isEncoding===Pt||!Pt(V)))throw new Error("Unknown encoding: "+V);return Z||V}(V),this.encoding){case"utf16le":this.text=tt,this.end=N,Z=4;break;case"utf8":this.fillLast=K,Z=4;break;case"base64":this.text=U,this.end=z,Z=3;break;default:return this.write=Y,void(this.end=q)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Tt.allocUnsafe(Z)}function $(V){return V<=127?0:V>>5==6?2:V>>4==14?3:V>>3==30?4:V>>6==2?-1:-2}function K(V){var Z=this.lastTotal-this.lastNeed,et=function(V,Z,et){if(128!=(192&Z[0]))return V.lastNeed=0,"\ufffd";if(V.lastNeed>1&&Z.length>1){if(128!=(192&Z[1]))return V.lastNeed=1,"\ufffd";if(V.lastNeed>2&&Z.length>2&&128!=(192&Z[2]))return V.lastNeed=2,"\ufffd"}}(this,V);return void 0!==et?et:this.lastNeed<=V.length?(V.copy(this.lastChar,Z,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(V.copy(this.lastChar,Z,0,V.length),void(this.lastNeed-=V.length))}function tt(V,Z){if((V.length-Z)%2==0){var et=V.toString("utf16le",Z);if(et){var rt=et.charCodeAt(et.length-1);if(rt>=55296&&rt<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=V[V.length-2],this.lastChar[1]=V[V.length-1],et.slice(0,-1)}return et}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=V[V.length-1],V.toString("utf16le",Z,V.length-1)}function N(V){var Z=V&&V.length?this.write(V):"";return this.lastNeed?Z+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):Z}function U(V,Z){var et=(V.length-Z)%3;return 0===et?V.toString("base64",Z):(this.lastNeed=3-et,this.lastTotal=3,1===et?this.lastChar[0]=V[V.length-1]:(this.lastChar[0]=V[V.length-2],this.lastChar[1]=V[V.length-1]),V.toString("base64",Z,V.length-et))}function z(V){var Z=V&&V.length?this.write(V):"";return this.lastNeed?Z+this.lastChar.toString("base64",0,3-this.lastNeed):Z}function Y(V){return V.toString(this.encoding)}function q(V){return V&&V.length?this.write(V):""}ot.s=D,D.prototype.write=function(V){if(0===V.length)return"";var Z,et;if(this.lastNeed){if(void 0===(Z=this.fillLast(V)))return"";et=this.lastNeed,this.lastNeed=0}else et=0;return et<V.length?Z?Z+this.text(V,et):this.text(V,et):Z||""},D.prototype.end=function(V){var Z=V&&V.length?this.write(V):"";return this.lastNeed?Z+"\ufffd":Z},D.prototype.text=function(V,Z){var et=function(V,Z,et){var rt=Z.length-1;if(rt<et)return 0;var mt=$(Z[rt]);return mt>=0?(mt>0&&(V.lastNeed=mt-1),mt):--rt<et||-2===mt?0:(mt=$(Z[rt]))>=0?(mt>0&&(V.lastNeed=mt-2),mt):--rt<et||-2===mt?0:(mt=$(Z[rt]))>=0?(mt>0&&(2===mt?mt=0:V.lastNeed=mt-3),mt):0}(this,V,Z);if(!this.lastNeed)return V.toString("utf8",Z);this.lastTotal=et;var rt=V.length-(et-this.lastNeed);return V.copy(this.lastChar,0,rt),V.toString("utf8",Z,rt)},D.prototype.fillLast=function(V){if(this.lastNeed<=V.length)return V.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);V.copy(this.lastChar,this.lastTotal-this.lastNeed,0,V.length),this.lastNeed-=V.length}},1381:(fe,ot,kt)=>{var Tt=kt(3847),Pt=Tt.Buffer;function ht(D,$){for(var X in D)$[X]=D[X]}function ct(D,$,X){return Pt(D,$,X)}Pt.from&&Pt.alloc&&Pt.allocUnsafe&&Pt.allocUnsafeSlow?fe.exports=Tt:(ht(Tt,ot),ot.Buffer=ct),ct.prototype=Object.create(Pt.prototype),ht(Pt,ct),ct.from=function(D,$,X){if("number"==typeof D)throw new TypeError("Argument must not be a number");return Pt(D,$,X)},ct.alloc=function(D,$,X){if("number"!=typeof D)throw new TypeError("Argument must be a number");var it=Pt(D);return void 0!==$?"string"==typeof X?it.fill($,X):it.fill($):it.fill(0),it},ct.allocUnsafe=function(D){if("number"!=typeof D)throw new TypeError("Argument must be a number");return Pt(D)},ct.allocUnsafeSlow=function(D){if("number"!=typeof D)throw new TypeError("Argument must be a number");return Tt.SlowBuffer(D)}},5832:fe=>{function kt(Tt){try{if(!global.localStorage)return!1}catch(ht){return!1}var Pt=global.localStorage[Tt];return null!=Pt&&"true"===String(Pt).toLowerCase()}fe.exports=function(Tt,Pt){if(kt("noDeprecation"))return Tt;var ht=!1;return function(){if(!ht){if(kt("throwDeprecation"))throw new Error(Pt);kt("traceDeprecation")?console.trace(Pt):console.warn(Pt),ht=!0}return Tt.apply(this,arguments)}}},7655:(fe,ot,kt)=>{"use strict";function Tt(r){return"function"==typeof r}function Pt(r){const i=r(s=>{Error.call(s),s.stack=(new Error).stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}const ht=Pt(r=>function(i){r(this),this.message=i?`${i.length} errors occurred during unsubscription:\n${i.map((s,l)=>`${l+1}) ${s.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=i});function ct(r,n){if(r){const i=r.indexOf(n);0<=i&&r.splice(i,1)}}class D{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(const p of i)p.remove(this);else i.remove(this);const{initialTeardown:s}=this;if(Tt(s))try{s()}catch(p){n=p instanceof ht?p.errors:[p]}const{_teardowns:l}=this;if(l){this._teardowns=null;for(const p of l)try{it(p)}catch(b){n=null!=n?n:[],b instanceof ht?n=[...n,...b.errors]:n.push(b)}}if(n)throw new ht(n)}}add(n){var i;if(n&&n!==this)if(this.closed)it(n);else{if(n instanceof D){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._teardowns=null!==(i=this._teardowns)&&void 0!==i?i:[]).push(n)}}_hasParent(n){const{_parentage:i}=this;return i===n||Array.isArray(i)&&i.includes(n)}_addParent(n){const{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(n),i):i?[i,n]:n}_removeParent(n){const{_parentage:i}=this;i===n?this._parentage=null:Array.isArray(i)&&ct(i,n)}remove(n){const{_teardowns:i}=this;i&&ct(i,n),n instanceof D&&n._removeParent(this)}}D.EMPTY=(()=>{const r=new D;return r.closed=!0,r})();const $=D.EMPTY;function X(r){return r instanceof D||r&&"closed"in r&&Tt(r.remove)&&Tt(r.add)&&Tt(r.unsubscribe)}function it(r){Tt(r)?r():r.unsubscribe()}const K={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},W={setTimeout(...r){const{delegate:n}=W;return((null==n?void 0:n.setTimeout)||setTimeout)(...r)},clearTimeout(r){const{delegate:n}=W;return((null==n?void 0:n.clearTimeout)||clearTimeout)(r)},delegate:void 0};function j(r){W.setTimeout(()=>{const{onUnhandledError:n}=K;if(!n)throw r;n(r)})}function tt(){}const N=Y("C",void 0,void 0);function Y(r,n,i){return{kind:r,value:n,error:i}}let q=null;function V(r){if(K.useDeprecatedSynchronousErrorHandling){const n=!q;if(n&&(q={errorThrown:!1,error:null}),r(),n){const{errorThrown:i,error:s}=q;if(q=null,i)throw s}}else r()}class et extends D{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,X(n)&&n.add(this)):this.destination=Dt}static create(n,i,s){return new rt(n,i,s)}next(n){this.isStopped?Et(Y("N",n,void 0),this):this._next(n)}error(n){this.isStopped?Et(Y("E",void 0,n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Et(N,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class rt extends et{constructor(n,i,s){let l;if(super(),Tt(n))l=n;else if(n){let p;({next:l,error:i,complete:s}=n),this&&K.useDeprecatedNextContext?(p=Object.create(n),p.unsubscribe=()=>this.unsubscribe()):p=n,l=null==l?void 0:l.bind(p),i=null==i?void 0:i.bind(p),s=null==s?void 0:s.bind(p)}this.destination={next:l?mt(l):tt,error:mt(null!=i?i:gt),complete:s?mt(s):tt}}}function mt(r,n){return(...i)=>{try{r(...i)}catch(s){K.useDeprecatedSynchronousErrorHandling?function(r){K.useDeprecatedSynchronousErrorHandling&&q&&(q.errorThrown=!0,q.error=r)}(s):j(s)}}}function gt(r){throw r}function Et(r,n){const{onStoppedNotification:i}=K;i&&W.setTimeout(()=>i(r,n))}const Dt={closed:!0,next:tt,error:gt,complete:tt},Mt="function"==typeof Symbol&&Symbol.observable||"@@observable";function T(r){return r}let y=(()=>{class r{constructor(i){i&&(this._subscribe=i)}lift(i){const s=new r;return s.source=this,s.operator=i,s}subscribe(i,s,l){const p=function(r){return r&&r instanceof et||function(r){return r&&Tt(r.next)&&Tt(r.error)&&Tt(r.complete)}(r)&&X(r)}(i)?i:new rt(i,s,l);return V(()=>{const{operator:b,source:R}=this;p.add(b?b.call(p,R):R?this._subscribe(p):this._trySubscribe(p))}),p}_trySubscribe(i){try{return this._subscribe(i)}catch(s){i.error(s)}}forEach(i,s){return new(s=v(s))((l,p)=>{let b;b=this.subscribe(R=>{try{i(R)}catch(G){p(G),null==b||b.unsubscribe()}},p,l)})}_subscribe(i){var s;return null===(s=this.source)||void 0===s?void 0:s.subscribe(i)}[Mt](){return this}pipe(...i){return function(r){return 0===r.length?T:1===r.length?r[0]:function(i){return r.reduce((s,l)=>l(s),i)}}(i)(this)}toPromise(i){return new(i=v(i))((s,l)=>{let p;this.subscribe(b=>p=b,b=>l(b),()=>s(p))})}}return r.create=n=>new r(n),r})();function v(r){var n;return null!==(n=null!=r?r:K.Promise)&&void 0!==n?n:Promise}const P=Pt(r=>function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let C=(()=>{class r extends y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){const s=new d(this,this);return s.operator=i,s}_throwIfClosed(){if(this.closed)throw new P}next(i){V(()=>{if(this._throwIfClosed(),!this.isStopped){const s=this.observers.slice();for(const l of s)l.next(i)}})}error(i){V(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;const{observers:s}=this;for(;s.length;)s.shift().error(i)}})}complete(){V(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var i;return(null===(i=this.observers)||void 0===i?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){const{hasError:s,isStopped:l,observers:p}=this;return s||l?$:(p.push(i),new D(()=>ct(p,i)))}_checkFinalizedStatuses(i){const{hasError:s,thrownError:l,isStopped:p}=this;s?i.error(l):p&&i.complete()}asObservable(){const i=new y;return i.source=this,i}}return r.create=(n,i)=>new d(n,i),r})();class d extends C{constructor(n,i){super(),this.destination=n,this.source=i}next(n){var i,s;null===(s=null===(i=this.destination)||void 0===i?void 0:i.next)||void 0===s||s.call(i,n)}error(n){var i,s;null===(s=null===(i=this.destination)||void 0===i?void 0:i.error)||void 0===s||s.call(i,n)}complete(){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===i||i.call(n)}_subscribe(n){var i,s;return null!==(s=null===(i=this.source)||void 0===i?void 0:i.subscribe(n))&&void 0!==s?s:$}}function k(r){return Tt(null==r?void 0:r.lift)}function nt(r){return n=>{if(k(n))return n.lift(function(i){try{return r(i,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}class Q extends et{constructor(n,i,s,l,p){super(n),this.onFinalize=p,this._next=i?function(b){try{i(b)}catch(R){n.error(R)}}:super._next,this._error=l?function(b){try{l(b)}catch(R){n.error(R)}finally{this.unsubscribe()}}:super._error,this._complete=s?function(){try{s()}catch(b){n.error(b)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;const{closed:i}=this;super.unsubscribe(),!i&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}function J(r,n){return nt((i,s)=>{let l=0;i.subscribe(new Q(s,p=>{s.next(r.call(n,p,l++))}))})}function we(r){return this instanceof we?(this.v=r,this):new we(r)}function de(r,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,s=i.apply(r,n||[]),p=[];return l={},b("next"),b("throw"),b("return"),l[Symbol.asyncIterator]=function(){return this},l;function b(Jt){s[Jt]&&(l[Jt]=function(se){return new Promise(function(pe,Ue){p.push([Jt,se,pe,Ue])>1||R(Jt,se)})})}function R(Jt,se){try{!function(Jt){Jt.value instanceof we?Promise.resolve(Jt.value.v).then(ut,St):Ut(p[0][2],Jt)}(s[Jt](se))}catch(pe){Ut(p[0][3],pe)}}function ut(Jt){R("next",Jt)}function St(Jt){R("throw",Jt)}function Ut(Jt,se){Jt(se),p.shift(),p.length&&R(p[0][0],p[0][1])}}function Yt(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=r[Symbol.asyncIterator];return n?n.call(r):(r=function(r){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&r[n],s=0;if(i)return i.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(p){i[p]=r[p]&&function(b){return new Promise(function(R,G){!function(p,b,R,G){Promise.resolve(G).then(function(ut){p({value:ut,done:R})},b)}(R,G,(b=r[p](b)).done,b.value)})}}}const he=r=>r&&"number"==typeof r.length&&"function"!=typeof r;function Xe(r){return Tt(null==r?void 0:r.then)}function ve(r){return Tt(r[Mt])}function Te(r){return Symbol.asyncIterator&&Tt(null==r?void 0:r[Symbol.asyncIterator])}function Qi(r){return new TypeError(`You provided ${null!==r&&"object"==typeof r?"an invalid object":`'${r}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ei="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Ui(r){return Tt(null==r?void 0:r[ei])}function mi(r){return de(this,arguments,function*(){const i=r.getReader();try{for(;;){const{value:s,done:l}=yield we(i.read());if(l)return yield we(void 0);yield yield we(s)}}finally{i.releaseLock()}})}function bi(r){return Tt(null==r?void 0:r.getReader)}function En(r){if(r instanceof y)return r;if(null!=r){if(ve(r))return function(r){return new y(n=>{const i=r[Mt]();if(Tt(i.subscribe))return i.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(r);if(he(r))return function(r){return new y(n=>{for(let i=0;i<r.length&&!n.closed;i++)n.next(r[i]);n.complete()})}(r);if(Xe(r))return function(r){return new y(n=>{r.then(i=>{n.closed||(n.next(i),n.complete())},i=>n.error(i)).then(null,j)})}(r);if(Te(r))return Pe(r);if(Ui(r))return function(r){return new y(n=>{for(const i of r)if(n.next(i),n.closed)return;n.complete()})}(r);if(bi(r))return function(r){return Pe(mi(r))}(r)}throw Qi(r)}function Pe(r){return new y(n=>{(function(r,n){var i,s,l,p;return function(r,n,i,s){return new(i||(i=Promise))(function(p,b){function R(St){try{ut(s.next(St))}catch(Ut){b(Ut)}}function G(St){try{ut(s.throw(St))}catch(Ut){b(Ut)}}function ut(St){St.done?p(St.value):function(p){return p instanceof i?p:new i(function(b){b(p)})}(St.value).then(R,G)}ut((s=s.apply(r,n||[])).next())})}(this,void 0,void 0,function*(){try{for(i=Yt(r);!(s=yield i.next()).done;)if(n.next(s.value),n.closed)return}catch(b){l={error:b}}finally{try{s&&!s.done&&(p=i.return)&&(yield p.call(i))}finally{if(l)throw l.error}}n.complete()})})(r,n).catch(i=>n.error(i))})}function ne(r,n,i,s=0,l=!1){const p=n.schedule(function(){i(),l?r.add(this.schedule(null,s)):this.unsubscribe()},s);if(r.add(p),!l)return p}function ae(r,n,i=1/0){return Tt(n)?ae((s,l)=>J((p,b)=>n(s,p,l,b))(En(r(s,l))),i):("number"==typeof n&&(i=n),nt((s,l)=>function(r,n,i,s,l,p,b,R){const G=[];let ut=0,St=0,Ut=!1;const Jt=()=>{Ut&&!G.length&&!ut&&n.complete()},se=Ue=>ut<s?pe(Ue):G.push(Ue),pe=Ue=>{ut++;let Ge=!1;En(i(Ue,St++)).subscribe(new Q(n,vi=>{n.next(vi)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(ut--;G.length&&ut<s;){const vi=G.shift();pe(vi)}Jt()}catch(vi){n.error(vi)}}))};return r.subscribe(new Q(n,se,()=>{Ut=!0,Jt()})),()=>{}}(s,l,r,i)))}function Me(r=1/0){return ae(T,r)}const $e=new y(r=>r.complete());function tn(r){return r&&Tt(r.schedule)}function qe(r){return r[r.length-1]}function ci(r){return Tt(qe(r))?r.pop():void 0}function Pn(r){return tn(qe(r))?r.pop():void 0}function oi(r,n=0){return nt((i,s)=>{i.subscribe(new Q(s,l=>ne(s,r,()=>s.next(l),n),()=>ne(s,r,()=>s.complete(),n),l=>ne(s,r,()=>s.error(l),n)))})}function en(r,n=0){return nt((i,s)=>{s.add(r.schedule(()=>i.subscribe(s),n))})}function Yn(r,n){if(!r)throw new Error("Iterable cannot be null");return new y(i=>{ne(i,n,()=>{const s=r[Symbol.asyncIterator]();ne(i,n,()=>{s.next().then(l=>{l.done?i.complete():i.next(l.value)})},0,!0)})})}function fr(r,n){return n?function(r,n){if(null!=r){if(ve(r))return function(r,n){return En(r).pipe(en(n),oi(n))}(r,n);if(he(r))return function(r,n){return new y(i=>{let s=0;return n.schedule(function(){s===r.length?i.complete():(i.next(r[s++]),i.closed||this.schedule())})})}(r,n);if(Xe(r))return function(r,n){return En(r).pipe(en(n),oi(n))}(r,n);if(Te(r))return Yn(r,n);if(Ui(r))return function(r,n){return new y(i=>{let s;return ne(i,n,()=>{s=r[ei](),ne(i,n,()=>{let l,p;try{({value:l,done:p}=s.next())}catch(b){return void i.error(b)}p?i.complete():i.next(l)},0,!0)}),()=>Tt(null==s?void 0:s.return)&&s.return()})}(r,n);if(bi(r))return function(r,n){return Yn(mi(r),n)}(r,n)}throw Qi(r)}(r,n):En(r)}function dr(...r){const n=Pn(r),i=function(r,n){return"number"==typeof qe(r)?r.pop():1/0}(r),s=r;return s.length?1===s.length?En(s[0]):Me(i)(fr(s,n)):$e}function Un(r){return r<=0?()=>$e:nt((n,i)=>{let s=0;n.subscribe(new Q(i,l=>{++s<=r&&(i.next(l),r<=s&&i.complete())}))})}function xo(r={}){const{connector:n=(()=>new C),resetOnError:i=!0,resetOnComplete:s=!0,resetOnRefCountZero:l=!0}=r;return p=>{let b=null,R=null,G=null,ut=0,St=!1,Ut=!1;const Jt=()=>{null==R||R.unsubscribe(),R=null},se=()=>{Jt(),b=G=null,St=Ut=!1},pe=()=>{const Ue=b;se(),null==Ue||Ue.unsubscribe()};return nt((Ue,Ge)=>{ut++,!Ut&&!St&&Jt();const vi=G=null!=G?G:n();Ge.add(()=>{ut--,0===ut&&!Ut&&!St&&(R=ki(pe,l))}),vi.subscribe(Ge),b||(b=new rt({next:gi=>vi.next(gi),error:gi=>{Ut=!0,Jt(),R=ki(se,i,gi),vi.error(gi)},complete:()=>{St=!0,Jt(),R=ki(se,s),vi.complete()}}),fr(Ue).subscribe(b))})(p)}}function ki(r,n,...i){return!0===n?(r(),null):!1===n?null:n(...i).pipe(Un(1)).subscribe(()=>r())}function hn(r){for(let n in r)if(r[n]===hn)return n;throw Error("Could not find renamed property on target object.")}function ar(r,n){for(const i in n)n.hasOwnProperty(i)&&!r.hasOwnProperty(i)&&(r[i]=n[i])}function bn(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(bn).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const n=r.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function vo(r,n){return null==r||""===r?null===n?"":n:null==n||""===n?r:r+" "+n}const Ao=hn({__forward_ref__:hn});function Vi(r){return r.__forward_ref__=Vi,r.toString=function(){return bn(this())},r}function Fn(r){return ph(r)?r():r}function ph(r){return"function"==typeof r&&r.hasOwnProperty(Ao)&&r.__forward_ref__===Vi}class Ha extends Error{constructor(n,i){super(function(r,n){return`${r?`NG0${r}: `:""}${n}`}(n,i)),this.code=n}}function pr(r){return"string"==typeof r?r:null==r?"":String(r)}function sa(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():pr(r)}function mh(r,n){const i=n?` in ${n}`:"";throw new Ha("201",`No provider for ${sa(r)} found${i}`)}function Ko(r,n){null==r&&function(r,n,i,s){throw new Error(`ASSERTION ERROR: ${r}`+(null==s?"":` [Expected=> ${i} ${s} ${n} <=Actual]`))}(n,r,null,"!=")}function Ki(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Zn(r){return{providers:r.providers||[],imports:r.imports||[]}}function Uu(r){return cn(r,Hp)||cn(r,Nd)}function cn(r,n){return r.hasOwnProperty(n)?r[n]:null}function pn(r){return r&&(r.hasOwnProperty(Z0)||r.hasOwnProperty(cx))?r[Z0]:null}const Hp=hn({\u0275prov:hn}),Z0=hn({\u0275inj:hn}),Nd=hn({ngInjectableDef:hn}),cx=hn({ngInjectorDef:hn});var or=(()=>((or=or||{})[or.Default=0]="Default",or[or.Host=1]="Host",or[or.Self=2]="Self",or[or.SkipSelf=4]="SkipSelf",or[or.Optional=8]="Optional",or))();let q0;function Gc(r){const n=q0;return q0=r,n}function dl(r,n,i){const s=Uu(r);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:i&or.Optional?null:void 0!==n?n:void mh(bn(r),"Injector")}function To(r){return{toString:r}.toString()}var rs=(()=>((rs=rs||{})[rs.OnPush=0]="OnPush",rs[rs.Default=1]="Default",rs))(),Ms=(()=>{return(r=Ms||(Ms={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",Ms;var r})();const qo="undefined"!=typeof globalThis&&globalThis,Vn="undefined"!=typeof window&&window,Ua="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Br=qo||"undefined"!=typeof global&&global||Vn||Ua,Sa={},jn=[],qs=hn({\u0275cmp:hn}),Cs=hn({\u0275dir:hn}),tc=hn({\u0275pipe:hn}),jr=hn({\u0275mod:hn}),Ss=hn({\u0275fac:hn}),_r=hn({__NG_ELEMENT_ID__:hn});let Io=0;function fn(r){return To(()=>{const i={},s={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===rs.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||jn,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||Ms.Emulated,id:"c",styles:r.styles||jn,_:null,setInput:null,schemas:r.schemas||null,tView:null},l=r.directives,p=r.features,b=r.pipes;return s.id+=Io++,s.inputs=xy(r.inputs,i),s.outputs=xy(r.outputs),p&&p.forEach(R=>R(s)),s.directiveDefs=l?()=>("function"==typeof l?l():l).map(to):null,s.pipeDefs=b?()=>("function"==typeof b?b():b).map(Ff):null,s})}function to(r){return el(r)||function(r){return r[Cs]||null}(r)}function Ff(r){return function(r){return r[tc]||null}(r)}const Rn={};function sr(r){return To(()=>{const n={type:r.type,bootstrap:r.bootstrap||jn,declarations:r.declarations||jn,imports:r.imports||jn,exports:r.exports||jn,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(Rn[r.id]=r.type),n})}function xy(r,n){if(null==r)return Sa;const i={};for(const s in r)if(r.hasOwnProperty(s)){let l=r[s],p=l;Array.isArray(l)&&(p=l[1],l=l[0]),i[l]=s,n&&(n[l]=p)}return i}const an=fn;function la(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function el(r){return r[qs]||null}function ml(r,n){const i=r[jr]||null;if(!i&&!0===n)throw new Error(`Type ${bn(r)} does not have '\u0275mod' property.`);return i}function yh(r){return Array.isArray(r)&&"object"==typeof r[1]}function os(r){return Array.isArray(r)&&!0===r[1]}function Og(r){return 0!=(8&r.flags)}function wo(r){return 2==(2&r.flags)}function Xc(r){return 1==(1&r.flags)}function bu(r){return null!==r.template}function Vd(r){return 0!=(512&r[2])}function Uf(r,n){return r.hasOwnProperty(Ss)?r[Ss]:null}class Lg{constructor(n,i,s){this.previousValue=n,this.currentValue=i,this.firstChange=s}isFirstChange(){return this.firstChange}}function Hr(){return Yp}function Yp(r){return r.type.prototype.ngOnChanges&&(r.setInput=em),Fg}function Fg(){const r=Bg(this),n=null==r?void 0:r.current;if(n){const i=r.previous;if(i===Sa)r.previous=n;else for(let s in n)i[s]=n[s];r.current=null,this.ngOnChanges(n)}}function em(r,n,i,s){const l=Bg(r)||function(r,n){return r[_y]=n}(r,{previous:Sa,current:null}),p=l.current||(l.current={}),b=l.previous,R=this.declaredInputs[i],G=b[R];p[R]=new Lg(G&&G.currentValue,n,b===Sa),r[s]=n}Hr.ngInherit=!0;const _y="__ngSimpleChanges__";function Bg(r){return r[_y]||null}const Vg="http://www.w3.org/2000/svg";let Mo;function yr(r){return!!r.listen}const kn={createRenderer:(r,n)=>void 0!==Mo?Mo:"undefined"!=typeof document?document:void 0};function ua(r){for(;Array.isArray(r);)r=r[0];return r}function tu(r,n){return ua(n[r])}function ha(r,n){return ua(n[r.index])}function Xp(r,n){return r.data[n]}function Gd(r,n){return r[n]}function yl(r,n){const i=n[r];return yh(i)?i:i[0]}function nm(r){return 4==(4&r[2])}function Kp(r){return 128==(128&r[2])}function Qc(r,n){return null==n?null:r[n]}function ks(r){r[18]=0}function Gf(r,n){r[5]+=n;let i=r,s=r[3];for(;null!==s&&(1===n&&1===i[5]||-1===n&&0===i[5]);)s[5]+=n,i=s,s=s[3]}const Mr={lFrame:Xd(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Cy(){return Mr.bindingsEnabled}function Wi(){return Mr.lFrame.lView}function Rr(){return Mr.lFrame.tView}function Qo(r){return Mr.lFrame.contextLView=r,r[8]}function Us(){let r=xs();for(;null!==r&&64===r.type;)r=r.parent;return r}function xs(){return Mr.lFrame.currentTNode}function _u(r,n){const i=Mr.lFrame;i.currentTNode=r,i.isParent=n}function Wd(){return Mr.lFrame.isParent}function ke(){Mr.lFrame.isParent=!1}function Yd(){return Mr.isInCheckNoChangesMode}function tf(r){Mr.isInCheckNoChangesMode=r}function Ho(){const r=Mr.lFrame;let n=r.bindingRootIndex;return-1===n&&(n=r.bindingRootIndex=r.tView.bindingStartIndex),n}function Wf(){return Mr.lFrame.bindingIndex++}function ec(r){const n=Mr.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+r,i}function Cu(r,n){const i=Mr.lFrame;i.bindingIndex=i.bindingRootIndex=r,eu(n)}function eu(r){Mr.lFrame.currentDirectiveIndex=r}function ef(r){const n=Mr.lFrame.currentDirectiveIndex;return-1===n?null:r[n]}function $d(){return Mr.lFrame.currentQueryIndex}function om(r){Mr.lFrame.currentQueryIndex=r}function db(r){const n=r[1];return 2===n.type?n.declTNode:1===n.type?r[6]:null}function Sy(r,n,i){if(i&or.SkipSelf){let l=n,p=r;for(;!(l=l.parent,null!==l||i&or.Host||(l=db(p),null===l||(p=p[15],10&l.type))););if(null===l)return!1;n=l,r=p}const s=Mr.lFrame=Yf();return s.currentTNode=n,s.lView=r,!0}function iu(r){const n=Yf(),i=r[1];Mr.lFrame=n,n.currentTNode=i.firstChild,n.lView=r,n.tView=i,n.contextLView=r,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function Yf(){const r=Mr.lFrame,n=null===r?null:r.child;return null===n?Xd(r):n}function Xd(r){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=n),n}function Hg(){const r=Mr.lFrame;return Mr.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Qp=Hg;function rl(){const r=Hg();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function xl(){return Mr.lFrame.selectedIndex}function Su(r){Mr.lFrame.selectedIndex=r}function jo(){const r=Mr.lFrame;return Xp(r.tView,r.selectedIndex)}function sm(){Mr.lFrame.currentNamespace=Vg}function t0(){Mr.lFrame.currentNamespace=null}function Yu(r,n){for(let i=n.directiveStart,s=n.directiveEnd;i<s;i++){const p=r.data[i].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:R,ngAfterViewInit:G,ngAfterViewChecked:ut,ngOnDestroy:St}=p;b&&(r.contentHooks||(r.contentHooks=[])).push(-i,b),R&&((r.contentHooks||(r.contentHooks=[])).push(i,R),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(i,R)),G&&(r.viewHooks||(r.viewHooks=[])).push(-i,G),ut&&((r.viewHooks||(r.viewHooks=[])).push(i,ut),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(i,ut)),null!=St&&(r.destroyHooks||(r.destroyHooks=[])).push(i,St)}}function Du(r,n,i){Wg(r,n,3,i)}function $f(r,n,i,s){(3&r[2])===i&&Wg(r,n,i,s)}function Gg(r,n){let i=r[2];(3&i)===n&&(i&=2047,i+=1,r[2]=i)}function Wg(r,n,i,s){const p=null!=s?s:-1,b=n.length-1;let R=0;for(let G=void 0!==s?65535&r[18]:0;G<b;G++)if("number"==typeof n[G+1]){if(R=n[G],null!=s&&R>=s)break}else n[G]<0&&(r[18]+=65536),(R<p||-1==p)&&(Yg(r,i,n,G),r[18]=(4294901760&r[18])+G+2),G++}function Yg(r,n,i,s){const l=i[s]<0,p=i[s+1],R=r[l?-i[s]:i[s]];if(l){if(r[2]>>11<r[18]>>16&&(3&r[2])===n){r[2]+=2048;try{p.call(R)}finally{}}}else try{p.call(R)}finally{}}class nc{constructor(n,i,s){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=s}}function n0(r,n,i){const s=yr(r);let l=0;for(;l<i.length;){const p=i[l];if("number"==typeof p){if(0!==p)break;l++;const b=i[l++],R=i[l++],G=i[l++];s?r.setAttribute(n,R,G,b):n.setAttributeNS(b,R,G)}else{const b=p,R=i[++l];Xg(b)?s&&r.setProperty(n,b,R):s?r.setAttribute(n,b,R):n.setAttribute(b,R),l++}}return l}function vx(r){return 3===r||4===r||6===r}function Xg(r){return 64===r.charCodeAt(0)}function rf(r,n){if(null!==n&&0!==n.length)if(null===r||0===r.length)r=n.slice();else{let i=-1;for(let s=0;s<n.length;s++){const l=n[s];"number"==typeof l?i=l:0===i||lm(r,i,l,null,-1===i||2===i?n[++s]:null)}}return r}function lm(r,n,i,s,l){let p=0,b=r.length;if(-1===n)b=-1;else for(;p<r.length;){const R=r[p++];if("number"==typeof R){if(R===n){b=-1;break}if(R>n){b=p-1;break}}}for(;p<r.length;){const R=r[p];if("number"==typeof R)break;if(R===i){if(null===s)return void(null!==l&&(r[p+1]=l));if(s===r[p+1])return void(r[p+2]=l)}p++,null!==s&&p++,null!==l&&p++}-1!==b&&(r.splice(b,0,n),p=b+1),r.splice(p++,0,i),null!==s&&r.splice(p++,0,s),null!==l&&r.splice(p++,0,l)}function um(r){return-1!==r}function no(r){return 32767&r}function sf(r,n){let i=function(r){return r>>16}(r),s=n;for(;i>0;)s=s[15],i--;return s}let Kd=!0;function hm(r){const n=Kd;return Kd=r,n}let r0=0;function Ls(r,n){const i=o0(r,n);if(-1!==i)return i;const s=n[1];s.firstCreatePass&&(r.injectorIndex=n.length,qd(s.data,r),qd(n,null),qd(s.blueprint,null));const l=oc(r,n),p=r.injectorIndex;if(um(l)){const b=no(l),R=sf(l,n),G=R[1].data;for(let ut=0;ut<8;ut++)n[p+ut]=R[b+ut]|G[b+ut]}return n[p+8]=l,p}function qd(r,n){r.push(0,0,0,0,0,0,0,0,n)}function o0(r,n){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===n[r.injectorIndex+8]?-1:r.injectorIndex}function oc(r,n){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let i=0,s=null,l=n;for(;null!==l;){const p=l[1],b=p.type;if(s=2===b?p.declTNode:1===b?l[6]:null,null===s)return-1;if(i++,l=l[15],-1!==s.injectorIndex)return s.injectorIndex|i<<16}return-1}function fm(r,n,i){!function(r,n,i){let s;"string"==typeof i?s=i.charCodeAt(0)||0:i.hasOwnProperty(_r)&&(s=i[_r]),null==s&&(s=i[_r]=r0++);const l=255&s;n.data[r+(l>>5)]|=1<<l}(r,n,i)}function dm(r,n,i){if(i&or.Optional)return r;mh(n,"NodeInjector")}function ky(r,n,i,s){if(i&or.Optional&&void 0===s&&(s=null),0==(i&(or.Self|or.Host))){const l=r[9],p=Gc(void 0);try{return l?l.get(n,s,i&or.Optional):dl(n,s,i&or.Optional)}finally{Gc(p)}}return dm(s,n,i)}function sc(r,n,i,s=or.Default,l){if(null!==r){const p=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const n=r.hasOwnProperty(_r)?r[_r]:void 0;return"number"==typeof n?n>=0?255&n:Ch:n}(i);if("function"==typeof p){if(!Sy(n,r,s))return s&or.Host?dm(l,i,s):ky(n,i,s,l);try{const b=p(s);if(null!=b||s&or.Optional)return b;mh(i)}finally{Qp()}}else if("number"==typeof p){let b=null,R=o0(r,n),G=-1,ut=s&or.Host?n[16][6]:null;for((-1===R||s&or.SkipSelf)&&(G=-1===R?oc(r,n):n[R+8],-1!==G&&Zg(s,!1)?(b=n[1],R=no(G),n=sf(G,n)):R=-1);-1!==R;){const St=n[1];if(a0(p,R,St.data)){const Ut=ca(R,n,i,b,s,ut);if(Ut!==ol)return Ut}G=n[R+8],-1!==G&&Zg(s,n[1].data[R+8]===ut)&&a0(p,R,n)?(b=St,R=no(G),n=sf(G,n)):R=-1}}}return ky(n,i,s,l)}const ol={};function Ch(){return new Zf(Us(),Wi())}function ca(r,n,i,s,l,p){const b=n[1],R=b.data[r+8],St=Fs(R,b,i,null==s?wo(R)&&Kd:s!=b&&0!=(3&R.type),l&or.Host&&p===R);return null!==St?Sh(n,b,St,R):ol}function Fs(r,n,i,s,l){const p=r.providerIndexes,b=n.data,R=1048575&p,G=r.directiveStart,St=p>>20,Jt=l?R+St:r.directiveEnd;for(let se=s?R:R+St;se<Jt;se++){const pe=b[se];if(se<G&&i===pe||se>=G&&pe.type===i)return se}if(l){const se=b[G];if(se&&bu(se)&&se.type===i)return G}return null}function Sh(r,n,i,s){let l=r[i];const p=n.data;if(function(r){return r instanceof nc}(l)){const b=l;b.resolving&&function(r,n){throw new Ha("200",`Circular dependency in DI detected for ${r}`)}(sa(p[i]));const R=hm(b.canSeeViewProviders);b.resolving=!0;const G=b.injectImpl?Gc(b.injectImpl):null;Sy(r,s,or.Default);try{l=r[i]=b.factory(void 0,p,r,s),n.firstCreatePass&&i>=s.directiveStart&&function(r,n,i){const{ngOnChanges:s,ngOnInit:l,ngDoCheck:p}=n.type.prototype;if(s){const b=Yp(n);(i.preOrderHooks||(i.preOrderHooks=[])).push(r,b),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(r,b)}l&&(i.preOrderHooks||(i.preOrderHooks=[])).push(0-r,l),p&&((i.preOrderHooks||(i.preOrderHooks=[])).push(r,p),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(r,p))}(i,p[i],n)}finally{null!==G&&Gc(G),hm(R),b.resolving=!1,Qp()}}return l}function a0(r,n,i){return!!(i[n+(r>>5)]&1<<r)}function Zg(r,n){return!(r&or.Self||r&or.Host&&n)}class Zf{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,s){return sc(this._tNode,this._lView,n,s,i)}}function po(r){return To(()=>{const n=r.prototype.constructor,i=n[Ss]||Uo(n),s=Object.prototype;let l=Object.getPrototypeOf(r.prototype).constructor;for(;l&&l!==s;){const p=l[Ss]||Uo(l);if(p&&p!==i)return p;l=Object.getPrototypeOf(l)}return p=>new p})}function Uo(r){return ph(r)?()=>{const n=Uo(Fn(r));return n&&n()}:Uf(r)}function Eu(r){return function(r,n){if("class"===n)return r.classes;if("style"===n)return r.styles;const i=r.attrs;if(i){const s=i.length;let l=0;for(;l<s;){const p=i[l];if(vx(p))break;if(0===p)l+=2;else if("number"==typeof p)for(l++;l<s&&"string"==typeof i[l];)l++;else{if(p===n)return i[l+1];l+=2}}}return null}(Us(),r)}const qf="__parameters__";function lc(r,n,i){return To(()=>{const s=function(r){return function(...i){if(r){const s=r(...i);for(const l in s)this[l]=s[l]}}}(n);function l(...p){if(this instanceof l)return s.apply(this,p),this;const b=new l(...p);return R.annotation=b,R;function R(G,ut,St){const Ut=G.hasOwnProperty(qf)?G[qf]:Object.defineProperty(G,qf,{value:[]})[qf];for(;Ut.length<=St;)Ut.push(null);return(Ut[St]=Ut[St]||[]).push(b),G}}return i&&(l.prototype=Object.create(i.prototype)),l.prototype.ngMetadataName=r,l.annotationCls=l,l})}class un{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Ki({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}toString(){return`InjectionToken ${this._desc}`}}const vm=new un("AnalyzeForEntryComponents");function Bs(r,n){void 0===n&&(n=r);for(let i=0;i<r.length;i++){let s=r[i];Array.isArray(s)?(n===r&&(n=r.slice(0,i)),Bs(s,n)):n!==r&&n.push(s)}return n}function Ri(r,n){r.forEach(i=>Array.isArray(i)?Ri(i,n):n(i))}function qr(r,n,i){n>=r.length?r.push(i):r.splice(n,0,i)}function qn(r,n){return n>=r.length-1?r.pop():r.splice(n,1)[0]}function Vs(r,n){const i=[];for(let s=0;s<r;s++)i.push(n);return i}function ta(r,n,i){let s=Au(r,n);return s>=0?r[1|s]=i:(s=~s,function(r,n,i,s){let l=r.length;if(l==n)r.push(i,s);else if(1===l)r.push(s,r[0]),r[0]=i;else{for(l--,r.push(r[l-1],r[l]);l>n;)r[l]=r[l-2],l--;r[n]=i,r[n+1]=s}}(r,s,n,i)),s}function js(r,n){const i=Au(r,n);if(i>=0)return r[1|i]}function Au(r,n){return function(r,n,i){let s=0,l=r.length>>i;for(;l!==s;){const p=s+(l-s>>1),b=r[p<<i];if(n===b)return p<<i;b>n?l=p:s=p+1}return~(l<<i)}(r,n,1)}const Jf={},uf="__NG_DI_FLAG__",td="ngTempTokenPath",fc=/\n/gm,Aa="__source",Wa=hn({provide:String,useValue:hn});let Tu;function Pu(r){const n=Tu;return Tu=r,n}function bx(r,n=or.Default){if(void 0===Tu)throw new Error("inject() must be called from an injection context");return null===Tu?dl(r,void 0,n):Tu.get(r,n&or.Optional?null:void 0,n)}function pi(r,n=or.Default){return(q0||bx)(Fn(r),n)}const Iu=pi;function pc(r){const n=[];for(let i=0;i<r.length;i++){const s=Fn(r[i]);if(Array.isArray(s)){if(0===s.length)throw new Error("Arguments array must have arguments.");let l,p=or.Default;for(let b=0;b<s.length;b++){const R=s[b],G=nv(R);"number"==typeof G?-1===G?l=R.token:p|=G:l=R}n.push(pi(l,p))}else n.push(pi(s))}return n}function hf(r,n){return r[uf]=n,r.prototype[uf]=n,r}function nv(r){return r[uf]}function ed(r,n,i,s){const l=r[td];throw n[Aa]&&l.unshift(n[Aa]),r.message=function(r,n,i,s=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let l=bn(n);if(Array.isArray(n))l=n.map(bn).join(" -> ");else if("object"==typeof n){let p=[];for(let b in n)if(n.hasOwnProperty(b)){let R=n[b];p.push(b+":"+("string"==typeof R?JSON.stringify(R):bn(R)))}l=`{${p.join(", ")}}`}return`${i}${s?"("+s+")":""}[${l}]: ${r.replace(fc,"\n  ")}`}("\n"+r.message,l,i,s),r.ngTokenPath=l,r[td]=null,r}const bl=hf(lc("Inject",r=>({token:r})),-1),Jo=hf(lc("Optional"),8),Hl=hf(lc("SkipSelf"),4);let Jd;function Zu(r){var n;return(null==(n=function(){if(void 0===Jd&&(Jd=null,Br.trustedTypes))try{Jd=Br.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Jd}())?void 0:n.createHTML(r))||r}class fs{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class gc extends fs{getTypeName(){return"HTML"}}class Ah extends fs{getTypeName(){return"Style"}}class Th extends fs{getTypeName(){return"Script"}}class ma extends fs{getTypeName(){return"URL"}}class Ph extends fs{getTypeName(){return"ResourceURL"}}function ga(r){return r instanceof fs?r.changingThisBreaksApplicationSecurity:r}function Qu(r,n){const i=Wo(r);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see https://g.co/ng/security#xss)`)}return i===n}function Wo(r){return r instanceof fs&&r.getTypeName()||null}class lv{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(Zu(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch(i){return null}}}class uv{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const i=this.inertDocument.createElement("html");this.inertDocument.appendChild(i);const s=this.inertDocument.createElement("body");i.appendChild(s)}}getInertBodyElement(n){const i=this.inertDocument.createElement("template");if("content"in i)return i.innerHTML=Zu(n),i;const s=this.inertDocument.createElement("body");return s.innerHTML=Zu(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(s),s}stripCustomNsAttrs(n){const i=n.attributes;for(let l=i.length-1;0<l;l--){const b=i.item(l).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&n.removeAttribute(b)}let s=n.firstChild;for(;s;)s.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(s),s=s.nextSibling}}const Cm=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Sm=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function p0(r){return(r=String(r)).match(Cm)||r.match(Sm)?r:"unsafe:"+r}function Ke(r){const n={};for(const i of r.split(","))n[i]=!0;return n}function g0(...r){const n={};for(const i of r)for(const s in i)i.hasOwnProperty(s)&&(n[s]=!0);return n}const Oy=Ke("area,br,col,hr,img,wbr"),Dm=Ke("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ff=Ke("rp,rt"),Ny=g0(Oy,g0(Dm,Ke("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),g0(ff,Ke("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),g0(ff,Dm)),ad=Ke("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ip=Ke("srcset"),cv=g0(ad,ip,Ke("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ke("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ly=Ke("script,style,template");class Fy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,s=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?s=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,s&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let l=this.checkClobberedElement(i,i.nextSibling);if(l){i=l;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!Ny.hasOwnProperty(i))return this.sanitizedSomething=!0,!Ly.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const s=n.attributes;for(let l=0;l<s.length;l++){const p=s.item(l),b=p.name,R=b.toLowerCase();if(!cv.hasOwnProperty(R)){this.sanitizedSomething=!0;continue}let G=p.value;ad[R]&&(G=p0(G)),ip[R]&&(r=G,G=(r=String(r)).split(",").map(n=>p0(n.trim())).join(", ")),this.buf.push(" ",b,'="',By(G),'"')}var r;return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();Ny.hasOwnProperty(i)&&!Oy.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(By(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const Cx=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sx=/([^\#-~ |!])/g;function By(r){return r.replace(/&/g,"&amp;").replace(Cx,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Sx,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let va;function Dx(r,n){let i=null;try{va=va||function(r){const n=new uv(r);return function(){try{return!!(new window.DOMParser).parseFromString(Zu(""),"text/html")}catch(r){return!1}}()?new lv(n):n}(r);let s=n?String(n):"";i=va.getInertBodyElement(s);let l=5,p=s;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,s=p,p=i.innerHTML,i=va.getInertBodyElement(s)}while(s!==p);return Zu((new Fy).sanitizeChildren(v0(i)||i))}finally{if(i){const s=v0(i)||i;for(;s.firstChild;)s.removeChild(s.firstChild)}}}function v0(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var xr=(()=>((xr=xr||{})[xr.NONE=0]="NONE",xr[xr.HTML=1]="HTML",xr[xr.STYLE=2]="STYLE",xr[xr.SCRIPT=3]="SCRIPT",xr[xr.URL=4]="URL",xr[xr.RESOURCE_URL=5]="RESOURCE_URL",xr))();function _l(r){const n=function(){const r=Wi();return r&&r[12]}();return n?n.sanitize(xr.URL,r)||"":Qu(r,"URL")?ga(r):p0(pr(r))}const np="__ngContext__";function Fo(r,n){r[np]=n}function y0(r){const n=function(r){return r[np]||null}(r);return n?Array.isArray(n)?n:n.lView:null}function x0(r){return r.ngOriginalError}function vv(r,...n){r.error(...n)}class Ur{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n),s=this._findContext(n),l=(r=n)&&r.ngErrorLogger||vv;var r;l(this._console,"ERROR",n),i&&l(this._console,"ORIGINAL ERROR",i),s&&l(this._console,"ERROR CONTEXT",s)}_findContext(n){return n?n.ngDebugContext||this._findContext(x0(n)):null}_findOriginalError(n){let i=n&&x0(n);for(;i&&x0(i);)i=x0(i);return i||null}}const Ws=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Br))();function f(r){return r instanceof Function?r():r}var F=(()=>((F=F||{})[F.Important=1]="Important",F[F.DashCase=2]="DashCase",F))();function ft(r,n){return undefined(r,n)}function Ct(r){const n=r[3];return os(n)?n[3]:n}function Wt(r){return Qt(r[13])}function Bt(r){return Qt(r[4])}function Qt(r){for(;null!==r&&!os(r);)r=r[4];return r}function le(r,n,i,s,l){if(null!=s){let p,b=!1;os(s)?p=s:yh(s)&&(b=!0,s=s[0]);const R=ua(s);0===r&&null!==i?null==l?si(n,i,R):Ei(n,i,R,l||null,!0):1===r&&null!==i?Ei(n,i,R,l||null,!0):2===r?function(r,n,i){const s=zi(r,n);s&&function(r,n,i,s){yr(r)?r.removeChild(n,i,s):n.removeChild(i)}(r,s,n,i)}(n,R,b):3===r&&n.destroyNode(R),null!=p&&function(r,n,i,s,l){const p=i[7];p!==ua(i)&&le(n,r,s,p,l);for(let R=10;R<i.length;R++){const G=i[R];An(G[1],G,r,n,s,p)}}(n,r,p,i,l)}}function je(r,n,i){return yr(r)?r.createElement(n,i):null===i?r.createElement(n):r.createElementNS(i,n)}function Ze(r,n){const i=r[9],s=i.indexOf(n),l=n[3];1024&n[2]&&(n[2]&=-1025,Gf(l,-1)),i.splice(s,1)}function Le(r,n){if(r.length<=10)return;const i=10+n,s=r[i];if(s){const l=s[17];null!==l&&l!==r&&Ze(l,s),n>0&&(r[i-1][4]=s[4]);const p=qn(r,10+n);!function(r,n){An(r,n,n[11],2,null,null),n[0]=null,n[6]=null}(s[1],s);const b=p[19];null!==b&&b.detachView(p[1]),s[3]=null,s[4]=null,s[2]&=-129}return s}function Mi(r,n){if(!(256&n[2])){const i=n[11];yr(i)&&i.destroyNode&&An(r,n,i,3,null,null),function(r){let n=r[13];if(!n)return hi(r[1],r);for(;n;){let i=null;if(yh(n))i=n[13];else{const s=n[10];s&&(i=s)}if(!i){for(;n&&!n[4]&&n!==r;)yh(n)&&hi(n[1],n),n=n[3];null===n&&(n=r),yh(n)&&hi(n[1],n),i=n&&n[4]}n=i}}(n)}}function hi(r,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(r,n){let i;if(null!=r&&null!=(i=r.destroyHooks))for(let s=0;s<i.length;s+=2){const l=n[i[s]];if(!(l instanceof nc)){const p=i[s+1];if(Array.isArray(p))for(let b=0;b<p.length;b+=2){const R=l[p[b]],G=p[b+1];try{G.call(R)}finally{}}else try{p.call(l)}finally{}}}}(r,n),function(r,n){const i=r.cleanup,s=n[7];let l=-1;if(null!==i)for(let p=0;p<i.length-1;p+=2)if("string"==typeof i[p]){const b=i[p+1],R="function"==typeof b?b(n):ua(n[b]),G=s[l=i[p+2]],ut=i[p+3];"boolean"==typeof ut?R.removeEventListener(i[p],G,ut):ut>=0?s[l=ut]():s[l=-ut].unsubscribe(),p+=2}else{const b=s[l=i[p+1]];i[p].call(b)}if(null!==s){for(let p=l+1;p<s.length;p++)s[p]();n[7]=null}}(r,n),1===n[1].type&&yr(n[11])&&n[11].destroy();const i=n[17];if(null!==i&&os(n[3])){i!==n[3]&&Ze(i,n);const s=n[19];null!==s&&s.detachView(r)}}}function xi(r,n,i){return function(r,n,i){let s=n;for(;null!==s&&40&s.type;)s=(n=s).parent;if(null===s)return i[0];if(2&s.flags){const l=r.data[s.directiveStart].encapsulation;if(l===Ms.None||l===Ms.Emulated)return null}return ha(s,i)}(r,n.parent,i)}function Ei(r,n,i,s,l){yr(r)?r.insertBefore(n,i,s,l):n.insertBefore(i,s,l)}function si(r,n,i){yr(r)?r.appendChild(n,i):n.appendChild(i)}function Hi(r,n,i,s,l){null!==s?Ei(r,n,i,s,l):si(r,n,i)}function zi(r,n){return yr(r)?r.parentNode(n):n.parentNode}function wi(r,n,i){return Gi(r,n,i)}let Gi=function(r,n,i){return 40&r.type?ha(r,i):null};function mr(r,n,i,s){const l=xi(r,s,n),p=n[11],R=wi(s.parent||n[6],s,n);if(null!=l)if(Array.isArray(i))for(let G=0;G<i.length;G++)Hi(p,l,i[G],R,!1);else Hi(p,l,i,R,!1)}function wr(r,n){if(null!==n){const i=n.type;if(3&i)return ha(n,r);if(4&i)return dn(-1,r[n.index]);if(8&i){const s=n.child;if(null!==s)return wr(r,s);{const l=r[n.index];return os(l)?dn(-1,l):ua(l)}}if(32&i)return ft(n,r)()||ua(r[n.index]);{const s=Sn(r,n);return null!==s?Array.isArray(s)?s[0]:wr(Ct(r[16]),s):wr(r,n.next)}}return null}function Sn(r,n){return null!==n?r[16][6].projection[n.projection]:null}function dn(r,n){const i=10+r+1;if(i<n.length){const s=n[i],l=s[1].firstChild;if(null!==l)return wr(s,l)}return n[7]}function Xn(r,n,i,s,l,p,b){for(;null!=i;){const R=s[i.index],G=i.type;if(b&&0===n&&(R&&Fo(ua(R),s),i.flags|=4),64!=(64&i.flags))if(8&G)Xn(r,n,i.child,s,l,p,!1),le(n,r,l,R,p);else if(32&G){const ut=ft(i,s);let St;for(;St=ut();)le(n,r,l,St,p);le(n,r,l,R,p)}else 16&G?Co(r,n,s,i,l,p):le(n,r,l,R,p);i=b?i.projectionNext:i.next}}function An(r,n,i,s,l,p){Xn(i,s,r.firstChild,n,l,p,!1)}function Co(r,n,i,s,l,p){const b=i[16],G=b[6].projection[s.projection];if(Array.isArray(G))for(let ut=0;ut<G.length;ut++)le(n,r,l,G[ut],p);else Xn(r,n,G,b[3],l,p,!0)}function ai(r,n,i){yr(r)?r.setAttribute(n,"style",i):n.style.cssText=i}function Ae(r,n,i){yr(r)?""===i?r.removeAttribute(n,"class"):r.setAttribute(n,"class",i):n.className=i}function Ii(r,n,i){let s=r.length;for(;;){const l=r.indexOf(n,i);if(-1===l)return l;if(0===l||r.charCodeAt(l-1)<=32){const p=n.length;if(l+p===s||r.charCodeAt(l+p)<=32)return l}i=l+1}}const Bi="ng-template";function Ni(r,n,i){let s=0;for(;s<r.length;){let l=r[s++];if(i&&"class"===l){if(l=r[s],-1!==Ii(l.toLowerCase(),n,0))return!0}else if(1===l){for(;s<r.length&&"string"==typeof(l=r[s++]);)if(l.toLowerCase()===n)return!0;return!1}}return!1}function We(r){return 4===r.type&&r.value!==Bi}function Xi(r,n,i){return n===(4!==r.type||i?r.value:Bi)}function Nn(r,n,i){let s=4;const l=r.attrs||[],p=function(r){for(let n=0;n<r.length;n++)if(vx(r[n]))return n;return r.length}(l);let b=!1;for(let R=0;R<n.length;R++){const G=n[R];if("number"!=typeof G){if(!b)if(4&s){if(s=2|1&s,""!==G&&!Xi(r,G,i)||""===G&&1===n.length){if(nr(s))return!1;b=!0}}else{const ut=8&s?G:n[++R];if(8&s&&null!==r.attrs){if(!Ni(r.attrs,ut,i)){if(nr(s))return!1;b=!0}continue}const Ut=Oo(8&s?"class":G,l,We(r),i);if(-1===Ut){if(nr(s))return!1;b=!0;continue}if(""!==ut){let Jt;Jt=Ut>p?"":l[Ut+1].toLowerCase();const se=8&s?Jt:null;if(se&&-1!==Ii(se,ut,0)||2&s&&ut!==Jt){if(nr(s))return!1;b=!0}}}}else{if(!b&&!nr(s)&&!nr(G))return!1;if(b&&nr(G))continue;b=!1,s=G|1&s}}return nr(s)||b}function nr(r){return 0==(1&r)}function Oo(r,n,i,s){if(null===n)return-1;let l=0;if(s||!i){let p=!1;for(;l<n.length;){const b=n[l];if(b===r)return l;if(3===b||6===b)p=!0;else{if(1===b||2===b){let R=n[++l];for(;"string"==typeof R;)R=n[++l];continue}if(4===b)break;if(0===b){l+=4;continue}}l+=p?1:2}return-1}return function(r,n){let i=r.indexOf(4);if(i>-1)for(i++;i<r.length;){const s=r[i];if("number"==typeof s)return-1;if(s===n)return i;i++}return-1}(n,r)}function Gr(r,n,i=!1){for(let s=0;s<n.length;s++)if(Nn(r,n[s],i))return!0;return!1}function ws(r,n){t:for(let i=0;i<n.length;i++){const s=n[i];if(r.length===s.length){for(let l=0;l<r.length;l++)if(r[l]!==s[l])continue t;return!0}}return!1}function xa(r,n){return r?":not("+n.trim()+")":n}function au(r){let n=r[0],i=1,s=2,l="",p=!1;for(;i<r.length;){let b=r[i];if("string"==typeof b)if(2&s){const R=r[++i];l+="["+b+(R.length>0?'="'+R+'"':"")+"]"}else 8&s?l+="."+b:4&s&&(l+=" "+b);else""!==l&&!nr(b)&&(n+=xa(p,l),l=""),s=b,p=p||!nr(s);i++}return""!==l&&(n+=xa(p,l)),n}const Gn={};function Ai(r){xc(Rr(),Wi(),xl()+r,Yd())}function xc(r,n,i,s){if(!s)if(3==(3&n[2])){const p=r.preOrderCheckHooks;null!==p&&Du(n,p,i)}else{const p=r.preOrderHooks;null!==p&&$f(n,p,0,i)}Su(i)}function Xa(r,n){return r<<17|n<<2}function Ka(r){return r>>17&32767}function bc(r){return 2|r}function na(r){return(131068&r)>>2}function Ys(r,n){return-131069&r|n<<2}function Sl(r){return 1|r}function fd(r,n){const i=r.contentQueries;if(null!==i)for(let s=0;s<i.length;s+=2){const l=i[s],p=i[s+1];if(-1!==p){const b=r.data[p];om(l),b.contentQueries(2,n[p],p)}}}function _v(r,n,i,s,l,p,b,R,G,ut){const St=n.blueprint.slice();return St[0]=l,St[2]=140|s,ks(St),St[3]=St[15]=r,St[8]=i,St[10]=b||r&&r[10],St[11]=R||r&&r[11],St[12]=G||r&&r[12]||null,St[9]=ut||r&&r[9]||null,St[6]=p,St[16]=2==n.type?r[16]:St,St}function mp(r,n,i,s,l){let p=r.data[n];if(null===p)p=function(r,n,i,s,l){const p=xs(),b=Wd(),G=r.data[n]=function(r,n,i,s,l,p){return{type:i,index:s,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?p:p&&p.parent,i,n,s,l);return null===r.firstChild&&(r.firstChild=G),null!==p&&(b?null==p.child&&null!==G.parent&&(p.child=G):null===p.next&&(p.next=G)),G}(r,n,i,s,l),Mr.lFrame.inI18n&&(p.flags|=64);else if(64&p.type){p.type=i,p.value=s,p.attrs=l;const b=function(){const r=Mr.lFrame,n=r.currentTNode;return r.isParent?n:n.parent}();p.injectorIndex=null===b?-1:b.injectorIndex}return _u(p,!0),p}function Fm(r,n,i,s){if(0===i)return-1;const l=n.length;for(let p=0;p<i;p++)n.push(s),r.blueprint.push(s),r.data.push(null);return l}function Mv(r,n,i){iu(n);try{const s=r.viewQuery;null!==s&&$x(1,s,i);const l=r.template;null!==l&&Mb(r,n,l,1,i),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&fd(r,n),r.staticViewQueries&&$x(2,r.viewQuery,i);const p=r.components;null!==p&&function(r,n){for(let i=0;i<n.length;i++)RM(r,n[i])}(n,p)}catch(s){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),s}finally{n[2]&=-5,rl()}}function Bm(r,n,i,s){const l=n[2];if(256==(256&l))return;iu(n);const p=Yd();try{ks(n),function(r){Mr.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==i&&Mb(r,n,i,2,s);const b=3==(3&l);if(!p)if(b){const ut=r.preOrderCheckHooks;null!==ut&&Du(n,ut,null)}else{const ut=r.preOrderHooks;null!==ut&&$f(n,ut,0,null),Gg(n,0)}if(function(r){for(let n=Wt(r);null!==n;n=Bt(n)){if(!n[2])continue;const i=n[9];for(let s=0;s<i.length;s++){const l=i[s],p=l[3];0==(1024&l[2])&&Gf(p,1),l[2]|=1024}}}(n),function(r){for(let n=Wt(r);null!==n;n=Bt(n))for(let i=10;i<n.length;i++){const s=n[i],l=s[1];Kp(s)&&Bm(l,s,l.template,s[8])}}(n),null!==r.contentQueries&&fd(r,n),!p)if(b){const ut=r.contentCheckHooks;null!==ut&&Du(n,ut)}else{const ut=r.contentHooks;null!==ut&&$f(n,ut,1),Gg(n,1)}!function(r,n){const i=r.hostBindingOpCodes;if(null!==i)try{for(let s=0;s<i.length;s++){const l=i[s];if(l<0)Su(~l);else{const p=l,b=i[++s],R=i[++s];Cu(b,p),R(2,n[p])}}}finally{Su(-1)}}(r,n);const R=r.components;null!==R&&function(r,n){for(let i=0;i<n.length;i++)C0(r,n[i])}(n,R);const G=r.viewQuery;if(null!==G&&$x(2,G,s),!p)if(b){const ut=r.viewCheckHooks;null!==ut&&Du(n,ut)}else{const ut=r.viewHooks;null!==ut&&$f(n,ut,2),Gg(n,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),p||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,Gf(n[3],-1))}finally{rl()}}function Cv(r,n,i,s){const l=n[10],p=!Yd(),b=nm(n);try{p&&!b&&l.begin&&l.begin(),b&&Mv(r,n,s),Bm(r,n,i,s)}finally{p&&!b&&l.end&&l.end()}}function Mb(r,n,i,s,l){const p=xl(),b=2&s;try{Su(-1),b&&n.length>20&&xc(r,n,20,Yd()),i(s,l)}finally{Su(p)}}function Cb(r,n,i){if(Og(n)){const l=n.directiveEnd;for(let p=n.directiveStart;p<l;p++){const b=r.data[p];b.contentQueries&&b.contentQueries(1,i[p],p)}}}function Sb(r,n,i){!Cy()||(function(r,n,i,s){const l=i.directiveStart,p=i.directiveEnd;r.firstCreatePass||Ls(i,n),Fo(s,n);const b=i.initialInputs;for(let R=l;R<p;R++){const G=r.data[R],ut=bu(G);ut&&PM(n,i,G);const St=Sh(n,r,R,i);Fo(St,n),null!==b&&Hx(0,R-l,St,G,0,b),ut&&(yl(i.index,n)[8]=St)}}(r,n,i,ha(i,n)),128==(128&i.flags)&&function(r,n,i){const s=i.directiveStart,l=i.directiveEnd,b=i.index,R=Mr.lFrame.currentDirectiveIndex;try{Su(b);for(let G=s;G<l;G++){const ut=r.data[G],St=n[G];eu(G),(null!==ut.hostBindings||0!==ut.hostVars||null!==ut.hostAttrs)&&jx(ut,St)}}finally{Su(-1),eu(R)}}(r,n,i))}function rr(r,n,i=ha){const s=n.localNames;if(null!==s){let l=n.index+1;for(let p=0;p<s.length;p+=2){const b=s[p+1],R=-1===b?i(n,r):r[b];r[l++]=R}}}function Db(r){const n=r.tView;return null===n||n.incompleteFirstPass?r.tView=Sv(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):n}function Sv(r,n,i,s,l,p,b,R,G,ut){const St=20+s,Ut=St+l,Jt=function(r,n){const i=[];for(let s=0;s<n;s++)i.push(s<r?null:Gn);return i}(St,Ut),se="function"==typeof ut?ut():ut;return Jt[1]={type:r,blueprint:Jt,template:i,queries:null,viewQuery:R,declTNode:n,data:Jt.slice().fill(null,St),bindingStartIndex:St,expandoStartIndex:Ut,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:G,consts:se,incompleteFirstPass:!1}}function Lx(r,n,i,s){const l=Lu(n);null===i?l.push(s):(l.push(i),r.firstCreatePass&&Av(r).push(s,l.length-1))}function ss(r,n,i){for(let s in r)if(r.hasOwnProperty(s)){const l=r[s];(i=null===i?{}:i).hasOwnProperty(s)?i[s].push(n,l):i[s]=[n,l]}return i}function Ul(r,n,i,s,l,p,b,R){const G=ha(n,i);let St,ut=n.inputs;!R&&null!=ut&&(St=ut[s])?(Vm(r,i,St,s,l),wo(n)&&function(r,n){const i=yl(n,r);16&i[2]||(i[2]|=64)}(i,n.index)):3&n.type&&(s=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(s),l=null!=b?b(l,n.value||"",s):l,yr(p)?p.setProperty(G,s,l):Xg(s)||(G.setProperty?G.setProperty(s,l):G[s]=l))}function Vx(r,n,i,s){let l=!1;if(Cy()){const p=function(r,n,i){const s=r.directiveRegistry;let l=null;if(s)for(let p=0;p<s.length;p++){const b=s[p];Gr(i,b.selectors,!1)&&(l||(l=[]),fm(Ls(i,n),r,b.type),bu(b)?(Rb(r,i),l.unshift(b)):l.push(b))}return l}(r,n,i),b=null===s?null:{"":-1};if(null!==p){l=!0,Yo(i,r.data.length,p.length);for(let St=0;St<p.length;St++){const Ut=p[St];Ut.providersResolver&&Ut.providersResolver(Ut)}let R=!1,G=!1,ut=Fm(r,n,p.length,null);for(let St=0;St<p.length;St++){const Ut=p[St];i.mergedAttrs=rf(i.mergedAttrs,Ut.hostAttrs),Ob(r,i,n,ut,Ut),TM(ut,Ut,b),null!==Ut.contentQueries&&(i.flags|=8),(null!==Ut.hostBindings||null!==Ut.hostAttrs||0!==Ut.hostVars)&&(i.flags|=128);const Jt=Ut.type.prototype;!R&&(Jt.ngOnChanges||Jt.ngOnInit||Jt.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(i.index),R=!0),!G&&(Jt.ngOnChanges||Jt.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(i.index),G=!0),ut++}!function(r,n){const s=n.directiveEnd,l=r.data,p=n.attrs,b=[];let R=null,G=null;for(let ut=n.directiveStart;ut<s;ut++){const St=l[ut],Ut=St.inputs,Jt=null===p||We(n)?null:Ti(Ut,p);b.push(Jt),R=ss(Ut,ut,R),G=ss(St.outputs,ut,G)}null!==R&&(R.hasOwnProperty("class")&&(n.flags|=16),R.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=b,n.inputs=R,n.outputs=G}(r,i)}b&&function(r,n,i){if(n){const s=r.localNames=[];for(let l=0;l<n.length;l+=2){const p=i[n[l+1]];if(null==p)throw new Ha("301",`Export of name '${n[l+1]}' not found!`);s.push(n[l],p)}}}(i,s,b)}return i.mergedAttrs=rf(i.mergedAttrs,i.attrs),l}function Tb(r,n,i,s,l,p){const b=p.hostBindings;if(b){let R=r.hostBindingOpCodes;null===R&&(R=r.hostBindingOpCodes=[]);const G=~n.index;(function(r){let n=r.length;for(;n>0;){const i=r[--n];if("number"==typeof i&&i<0)return i}return 0})(R)!=G&&R.push(G),R.push(s,l,b)}}function jx(r,n){null!==r.hostBindings&&r.hostBindings(1,n)}function Rb(r,n){n.flags|=2,(r.components||(r.components=[])).push(n.index)}function TM(r,n,i){if(i){if(n.exportAs)for(let s=0;s<n.exportAs.length;s++)i[n.exportAs[s]]=r;bu(n)&&(i[""]=r)}}function Yo(r,n,i){r.flags|=1,r.directiveStart=n,r.directiveEnd=n+i,r.providerIndexes=n}function Ob(r,n,i,s,l){r.data[s]=l;const p=l.factory||(l.factory=Uf(l.type)),b=new nc(p,bu(l),null);r.blueprint[s]=b,i[s]=b,Tb(r,n,0,s,Fm(r,i,l.hostVars,Gn),l)}function PM(r,n,i){const s=ha(n,r),l=Db(i),p=r[10],b=El(r,_v(r,l,null,i.onPush?64:16,s,n,p,p.createRenderer(s,i),null,null));r[n.index]=b}function vf(r,n,i,s,l,p){const b=ha(r,n);!function(r,n,i,s,l,p,b){if(null==p)yr(r)?r.removeAttribute(n,l,i):n.removeAttribute(l);else{const R=null==b?pr(p):b(p,s||"",l);yr(r)?r.setAttribute(n,l,R,i):i?n.setAttributeNS(i,l,R):n.setAttribute(l,R)}}(n[11],b,p,r.value,i,s,l)}function Hx(r,n,i,s,l,p){const b=p[n];if(null!==b){const R=s.setInput;for(let G=0;G<b.length;){const ut=b[G++],St=b[G++],Ut=b[G++];null!==R?s.setInput(i,Ut,ut,St):i[St]=Ut}}}function Ti(r,n){let i=null,s=0;for(;s<n.length;){const l=n[s];if(0!==l)if(5!==l){if("number"==typeof l)break;r.hasOwnProperty(l)&&(null===i&&(i=[]),i.push(l,r[l],n[s+1])),s+=2}else s+=2;else s+=4}return i}function Ux(r,n,i,s){return new Array(r,!0,!1,n,null,0,s,i,null,null)}function C0(r,n){const i=yl(n,r);if(Kp(i)){const s=i[1];80&i[2]?Bm(s,i,s.template,i[8]):i[5]>0&&Gx(i)}}function Gx(r){for(let s=Wt(r);null!==s;s=Bt(s))for(let l=10;l<s.length;l++){const p=s[l];if(1024&p[2]){const b=p[1];Bm(b,p,b.template,p[8])}else p[5]>0&&Gx(p)}const i=r[1].components;if(null!==i)for(let s=0;s<i.length;s++){const l=yl(i[s],r);Kp(l)&&l[5]>0&&Gx(l)}}function RM(r,n){const i=yl(n,r),s=i[1];(function(r,n){for(let i=n.length;i<r.blueprint.length;i++)n.push(r.blueprint[i])})(s,i),Mv(s,i,i[8])}function El(r,n){return r[13]?r[14][4]=n:r[13]=n,r[14]=n,n}function kv(r){for(;r;){r[2]|=64;const n=Ct(r);if(Vd(r)&&!n)return r;r=n}return null}function $s(r,n,i){const s=n[10];s.begin&&s.begin();try{Bm(r,n,r.template,i)}catch(l){throw Xx(n,l),l}finally{s.end&&s.end()}}function OM(r){!function(r){for(let n=0;n<r.components.length;n++){const i=r.components[n],s=y0(i),l=s[1];Cv(l,s,l.template,i)}}(r[8])}function $x(r,n,i){om(0),n(r,i)}const eh=(()=>Promise.resolve(null))();function Lu(r){return r[7]||(r[7]=[])}function Av(r){return r.cleanup||(r.cleanup=[])}function Jy(r,n,i){return(null===r||bu(r))&&(i=function(r){for(;Array.isArray(r);){if("object"==typeof r[1])return r;r=r[0]}return null}(i[n.index])),i[11]}function Xx(r,n){const i=r[9],s=i?i.get(Ur,null):null;s&&s.handleError(n)}function Vm(r,n,i,s,l){for(let p=0;p<i.length;){const b=i[p++],R=i[p++],G=n[b],ut=r.data[b];null!==ut.setInput?ut.setInput(G,l,s,R):G[R]=l}}function yf(r,n,i){const s=tu(n,r);!function(r,n,i){yr(r)?r.setValue(n,i):n.textContent=i}(r[11],s,i)}function ho(r,n,i){let s=i?r.styles:null,l=i?r.classes:null,p=0;if(null!==n)for(let b=0;b<n.length;b++){const R=n[b];"number"==typeof R?p=R:1==p?l=vo(l,R):2==p&&(s=vo(s,R+": "+n[++b]+";"))}i?r.styles=s:r.stylesWithoutHost=s,i?r.classes=l:r.classesWithoutHost=l}const yo=new un("INJECTOR",-1);class Nb{get(n,i=Jf){if(i===Jf){const s=new Error(`NullInjectorError: No provider for ${bn(n)}!`);throw s.name="NullInjectorError",s}return i}}const t1=new un("Set Injector scope."),Tv={},Kx={};let vn;function Lb(){return void 0===vn&&(vn=new Nb),vn}function jm(r,n=null,i=null,s){return new Zx(r,i,n||Lb(),s)}class Zx{constructor(n,i,s,l=null){this.parent=s,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];i&&Ri(i,R=>this.processProvider(R,n,i)),Ri([n],R=>this.processInjectorType(R,[],p)),this.records.set(yo,zm(void 0,this));const b=this.records.get(t1);this.scope=null!=b?b.value:null,this.source=l||("object"==typeof n?null:bn(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,i=Jf,s=or.Default){this.assertNotDestroyed();const l=Pu(this),p=Gc(void 0);try{if(!(s&or.SkipSelf)){let R=this.records.get(n);if(void 0===R){const G=("function"==typeof(r=n)||"object"==typeof r&&r instanceof un)&&Uu(n);R=G&&this.injectableDefInScope(G)?zm(S0(n),Tv):null,this.records.set(n,R)}if(null!=R)return this.hydrate(n,R)}return(s&or.Self?Lb():this.parent).get(n,i=s&or.Optional&&i===Jf?null:i)}catch(b){if("NullInjectorError"===b.name){if((b[td]=b[td]||[]).unshift(bn(n)),l)throw b;return ed(b,n,"R3InjectorError",this.source)}throw b}finally{Gc(p),Pu(l)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((s,l)=>n.push(bn(l))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,i,s){if(!(n=Fn(n)))return!1;let l=pn(n);const p=null==l&&n.ngModule||void 0,b=void 0===p?n:p,R=-1!==s.indexOf(b);if(void 0!==p&&(l=pn(p)),null==l)return!1;if(null!=l.imports&&!R){let St;s.push(b);try{Ri(l.imports,Ut=>{this.processInjectorType(Ut,i,s)&&(void 0===St&&(St=[]),St.push(Ut))})}finally{}if(void 0!==St)for(let Ut=0;Ut<St.length;Ut++){const{ngModule:Jt,providers:se}=St[Ut];Ri(se,pe=>this.processProvider(pe,Jt,se||jn))}}this.injectorDefTypes.add(b);const G=Uf(b)||(()=>new b);this.records.set(b,zm(G,Tv));const ut=l.providers;if(null!=ut&&!R){const St=n;Ri(ut,Ut=>this.processProvider(Ut,St,ut))}return void 0!==p&&void 0!==n.providers}processProvider(n,i,s){let l=dd(n=Fn(n))?n:Fn(n&&n.provide);const p=(r=n,e1(r)?zm(void 0,r.useValue):zm(qx(r),Tv));var r;if(dd(n)||!0!==n.multi)this.records.get(l);else{let b=this.records.get(l);b||(b=zm(void 0,Tv,!0),b.factory=()=>pc(b.multi),this.records.set(l,b)),l=n,b.multi.push(n)}this.records.set(l,p)}hydrate(n,i){return i.value===Tv&&(i.value=Kx,i.value=i.factory()),"object"==typeof i.value&&i.value&&null!==(r=i.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(i.value),i.value;var r}injectableDefInScope(n){if(!n.providedIn)return!1;const i=Fn(n.providedIn);return"string"==typeof i?"any"===i||i===this.scope:this.injectorDefTypes.has(i)}}function S0(r){const n=Uu(r),i=null!==n?n.factory:Uf(r);if(null!==i)return i;if(r instanceof un)throw new Error(`Token ${bn(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const n=r.length;if(n>0){const s=Vs(n,"?");throw new Error(`Can't resolve all parameters for ${bn(r)}: (${s.join(", ")}).`)}const i=function(r){const n=r&&(r[Hp]||r[Nd]);if(n){const i=function(r){if(r.hasOwnProperty("name"))return r.name;const n=(""+r).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${i}" class.`),n}return null}(r);return null!==i?()=>i.factory(r):()=>new r}(r);throw new Error("unreachable")}function qx(r,n,i){let s;if(dd(r)){const l=Fn(r);return Uf(l)||S0(l)}if(e1(r))s=()=>Fn(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))s=()=>r.useFactory(...pc(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))s=()=>pi(Fn(r.useExisting));else{const l=Fn(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return Uf(l)||S0(l);s=()=>new l(...pc(r.deps))}return s}function zm(r,n,i=!1){return{factory:r,value:n,multi:i?[]:void 0}}function e1(r){return null!==r&&"object"==typeof r&&Wa in r}function dd(r){return"function"==typeof r}const Fb=function(r,n,i){return function(r,n=null,i=null,s){const l=jm(r,n,i,s);return l._resolveInjectorDefTypes(),l}({name:i},n,r,i)};let Eo=(()=>{class r{static create(i,s){return Array.isArray(i)?Fb(i,s,""):Fb(i.providers,i.parent,i.name||"")}}return r.THROW_IF_NOT_FOUND=Jf,r.NULL=new Nb,r.\u0275prov=Ki({token:r,providedIn:"any",factory:()=>pi(yo)}),r.__NG_ELEMENT_ID__=-1,r})();function Ra(r,n){Yu(y0(r)[1],Us())}function Qn(r){let n=function(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),i=!0;const s=[r];for(;n;){let l;if(bu(r))l=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");l=n.\u0275dir}if(l){if(i){s.push(l);const b=r;b.inputs=ew(r.inputs),b.declaredInputs=ew(r.declaredInputs),b.outputs=ew(r.outputs);const R=l.hostBindings;R&&FS(r,R);const G=l.viewQuery,ut=l.contentQueries;if(G&&c1(r,G),ut&&Ub(r,ut),ar(r.inputs,l.inputs),ar(r.declaredInputs,l.declaredInputs),ar(r.outputs,l.outputs),bu(l)&&l.data.animation){const St=r.data;St.animation=(St.animation||[]).concat(l.data.animation)}}const p=l.features;if(p)for(let b=0;b<p.length;b++){const R=p[b];R&&R.ngInherit&&R(r),R===Qn&&(i=!1)}}n=Object.getPrototypeOf(n)}!function(r){let n=0,i=null;for(let s=r.length-1;s>=0;s--){const l=r[s];l.hostVars=n+=l.hostVars,l.hostAttrs=rf(l.hostAttrs,i=rf(i,l.hostAttrs))}}(s)}function ew(r){return r===Sa?{}:r===jn?[]:r}function c1(r,n){const i=r.viewQuery;r.viewQuery=i?(s,l)=>{n(s,l),i(s,l)}:n}function Ub(r,n){const i=r.contentQueries;r.contentQueries=i?(s,l,p)=>{n(s,l,p),i(s,l,p)}:n}function FS(r,n){const i=r.hostBindings;r.hostBindings=i?(s,l)=>{n(s,l),i(s,l)}:n}let f1=null;function Um(){if(!f1){const r=Br.Symbol;if(r&&r.iterator)f1=r.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let i=0;i<n.length;++i){const s=n[i];"entries"!==s&&"size"!==s&&Map.prototype[s]===Map.prototype.entries&&(f1=s)}}}return f1}function Fv(r){return!!iw(r)&&(Array.isArray(r)||!(r instanceof Map)&&Um()in r)}function iw(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Rh(r,n,i){return r[n]=i}function Oa(r,n,i){return!Object.is(r[n],i)&&(r[n]=i,!0)}function Pr(r,n,i,s){const l=Wi();return Oa(l,Wf(),n)&&(Rr(),vf(jo(),l,r,n,i,s)),Pr}function Ym(r,n,i,s){return Oa(r,Wf(),i)?n+pr(i)+s:Gn}function Mn(r,n,i,s,l,p,b,R){const G=Wi(),ut=Rr(),St=r+20,Ut=ut.firstCreatePass?function(r,n,i,s,l,p,b,R,G){const ut=n.consts,St=mp(n,r,4,b||null,Qc(ut,R));Vx(n,i,St,Qc(ut,G)),Yu(n,St);const Ut=St.tViews=Sv(2,St,s,l,p,n.directiveRegistry,n.pipeRegistry,null,n.schemas,ut);return null!==n.queries&&(n.queries.template(n,St),Ut.queries=n.queries.embeddedTView(St)),St}(St,ut,G,n,i,s,l,p,b):ut.data[St];_u(Ut,!1);const Jt=G[11].createComment("");mr(ut,G,Jt,Ut),Fo(Jt,G),El(G,G[St]=Ux(Jt,G,Jt,Ut)),Xc(Ut)&&Sb(ut,G,Ut),null!=b&&rr(G,Ut,R)}function Oh(r){return Gd(Mr.lFrame.contextLView,20+r)}function be(r,n=or.Default){const i=Wi();return null===i?pi(r,n):sc(Us(),i,Fn(r),n)}function A0(){throw new Error("invalid")}function Pi(r,n,i){const s=Wi();return Oa(s,Wf(),n)&&Ul(Rr(),jo(),s,r,n,s[11],i,!1),Pi}function w1(r,n,i,s,l){const b=l?"class":"style";Vm(r,i,n.inputs[b],b,s)}function Qe(r,n,i,s){const l=Wi(),p=Rr(),b=20+r,R=l[11],G=l[b]=je(R,n,Mr.lFrame.currentNamespace),ut=p.firstCreatePass?function(r,n,i,s,l,p,b){const R=n.consts,ut=mp(n,r,2,l,Qc(R,p));return Vx(n,i,ut,Qc(R,b)),null!==ut.attrs&&ho(ut,ut.attrs,!1),null!==ut.mergedAttrs&&ho(ut,ut.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,ut),ut}(b,p,l,0,n,i,s):p.data[b];_u(ut,!0);const St=ut.mergedAttrs;null!==St&&n0(R,G,St);const Ut=ut.classes;null!==Ut&&Ae(R,G,Ut);const Jt=ut.styles;null!==Jt&&ai(R,G,Jt),64!=(64&ut.flags)&&mr(p,l,G,ut),0===Mr.lFrame.elementDepthCount&&Fo(G,l),Mr.lFrame.elementDepthCount++,Xc(ut)&&(Sb(p,l,ut),Cb(p,ut,l)),null!==s&&rr(l,ut)}function ti(){let r=Us();Wd()?ke():(r=r.parent,_u(r,!1));const n=r;Mr.lFrame.elementDepthCount--;const i=Rr();i.firstCreatePass&&(Yu(i,r),Og(r)&&i.queries.elementEnd(r)),null!=n.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(n)&&w1(i,n,Wi(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(n)&&w1(i,n,Wi(),n.stylesWithoutHost,!1)}function On(r,n,i,s){Qe(r,n,i,s),ti()}function T0(r,n,i){const s=Wi(),l=Rr(),p=r+20,b=l.firstCreatePass?function(r,n,i,s,l){const p=n.consts,b=Qc(p,s),R=mp(n,r,8,"ng-container",b);return null!==b&&ho(R,b,!0),Vx(n,i,R,Qc(p,l)),null!==n.queries&&n.queries.elementStart(n,R),R}(p,l,s,n,i):l.data[p];_u(b,!0);const R=s[p]=s[11].createComment("");mr(l,s,R,b),Fo(R,s),Xc(b)&&(Sb(l,s,b),Cb(l,b,s)),null!=i&&rr(s,b)}function bf(){let r=Us();const n=Rr();Wd()?ke():(r=r.parent,_u(r,!1)),n.firstCreatePass&&(Yu(n,r),Og(r)&&n.queries.elementEnd(r))}function Qa(){return Wi()}function P0(r){return!!r&&"function"==typeof r.then}function b1(r){return!!r&&"function"==typeof r.subscribe}const t=b1;function e(r,n,i,s){const l=Wi(),p=Rr(),b=Us();return u(p,l,l[11],b,r,n,!!i,s),e}function o(r,n){const i=Us(),s=Wi(),l=Rr();return u(l,s,Jy(ef(l.data),i,s),i,r,n,!1),o}function u(r,n,i,s,l,p,b,R){const G=Xc(s),St=r.firstCreatePass&&Av(r),Ut=n[8],Jt=Lu(n);let se=!0;if(3&s.type||R){const Ge=ha(s,n),vi=R?R(Ge):Ge,gi=Jt.length,Zi=R?ln=>R(ua(ln[s.index])):s.index;if(yr(i)){let ln=null;if(!R&&G&&(ln=function(r,n,i,s){const l=r.cleanup;if(null!=l)for(let p=0;p<l.length-1;p+=2){const b=l[p];if(b===i&&l[p+1]===s){const R=n[7],G=l[p+2];return R.length>G?R[G]:null}"string"==typeof b&&(p+=2)}return null}(r,n,l,s.index)),null!==ln)(ln.__ngLastListenerFn__||ln).__ngNextListenerFn__=p,ln.__ngLastListenerFn__=p,se=!1;else{p=g(s,n,Ut,p,!1);const Fr=i.listen(vi,l,p);Jt.push(p,Fr),St&&St.push(l,Zi,gi,gi+1)}}else p=g(s,n,Ut,p,!0),vi.addEventListener(l,p,b),Jt.push(p),St&&St.push(l,Zi,gi,b)}else p=g(s,n,Ut,p,!1);const pe=s.outputs;let Ue;if(se&&null!==pe&&(Ue=pe[l])){const Ge=Ue.length;if(Ge)for(let vi=0;vi<Ge;vi+=2){const vs=n[Ue[vi]][Ue[vi+1]].subscribe(p),Rs=Jt.length;Jt.push(p,vs),St&&St.push(l,s.index,Rs,-(Rs+1))}}}function c(r,n,i,s){try{return!1!==i(s)}catch(l){return Xx(r,l),!1}}function g(r,n,i,s,l){return function p(b){if(b===Function)return s;const R=2&r.flags?yl(r.index,n):n;0==(32&n[2])&&kv(R);let G=c(n,0,s,b),ut=p.__ngNextListenerFn__;for(;ut;)G=c(n,0,ut,b)&&G,ut=ut.__ngNextListenerFn__;return l&&!1===G&&(b.preventDefault(),b.returnValue=!1),G}}function _(r=1){return function(r){return(Mr.lFrame.contextLView=function(r,n){for(;r>0;)n=n[15],r--;return n}(r,Mr.lFrame.contextLView))[8]}(r)}function A(r,n){let i=null;const s=function(r){const n=r.attrs;if(null!=n){const i=n.indexOf(5);if(0==(1&i))return n[i+1]}return null}(r);for(let l=0;l<n.length;l++){const p=n[l];if("*"!==p){if(null===s?Gr(r,p,!0):ws(s,p))return l}else i=l}return i}function I(r){const n=Wi()[16][6];if(!n.projection){const s=n.projection=Vs(r?r.length:1,null),l=s.slice();let p=n.child;for(;null!==p;){const b=r?A(p,r):0;null!==b&&(l[b]?l[b].projectionNext=p:s[b]=p,l[b]=p),p=p.next}}}function B(r,n=0,i){const s=Wi(),l=Rr(),p=mp(l,20+r,16,null,i||null);null===p.projection&&(p.projection=n),ke(),64!=(64&p.flags)&&function(r,n,i){Co(n[11],0,n,i,xi(r,i,n),wi(i.parent||n[6],i,n))}(l,s,p)}function li(r,n,i,s,l){const p=r[i+1],b=null===n;let R=s?Ka(p):na(p),G=!1;for(;0!==R&&(!1===G||b);){const St=r[R+1];Fi(r[R],n)&&(G=!0,r[R+1]=s?Sl(St):bc(St)),R=s?Ka(St):na(St)}G&&(r[i+1]=s?bc(p):Sl(p))}function Fi(r,n){return null===r||null==n||(Array.isArray(r)?r[1]:r)===n||!(!Array.isArray(r)||"string"!=typeof n)&&Au(r,n)>=0}const di={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ii(r){return r.substring(di.key,di.keyEnd)}function Hn(r,n){const i=di.textEnd;return i===n?-1:(n=di.keyEnd=function(r,n,i){for(;n<i&&r.charCodeAt(n)>32;)n++;return n}(r,di.key=n,i),Sr(r,n,i))}function Sr(r,n,i){for(;n<i&&r.charCodeAt(n)<=32;)n++;return n}function cu(r,n,i){return fu(r,n,i,!1),cu}function Dr(r,n){return fu(r,n,null,!0),Dr}function Bu(r,n){for(let i=function(r){return function(r){di.key=0,di.keyEnd=0,di.value=0,di.valueEnd=0,di.textEnd=r.length}(r),Hn(r,Sr(r,0,di.textEnd))}(n);i>=0;i=Hn(n,i))ta(r,ii(n),!0)}function fu(r,n,i,s){const l=Wi(),p=Rr(),b=ec(2);p.firstUpdatePass&&_1(p,r,b,s),n!==Gn&&Oa(l,b,n)&&kc(p,p.data[xl()],l,l[11],r,l[b+1]=function(r,n){return null==r||("string"==typeof n?r+=n:"object"==typeof r&&(r=bn(ga(r)))),r}(n,i),s,b)}function Gv(r,n){return n>=r.expandoStartIndex}function _1(r,n,i,s){const l=r.data;if(null===l[i+1]){const p=l[xl()],b=Gv(r,i);Ac(p,s)&&null===n&&!b&&(n=!1),n=function(r,n,i,s){const l=ef(r);let p=s?n.residualClasses:n.residualStyles;if(null===l)0===(s?n.classBindings:n.styleBindings)&&(i=_f(i=Ja(null,r,n,i,s),n.attrs,s),p=null);else{const b=n.directiveStylingLast;if(-1===b||r[b]!==l)if(i=Ja(l,r,n,i,s),null===p){let G=function(r,n,i){const s=i?n.classBindings:n.styleBindings;if(0!==na(s))return r[Ka(s)]}(r,n,s);void 0!==G&&Array.isArray(G)&&(G=Ja(null,r,n,G[1],s),G=_f(G,n.attrs,s),function(r,n,i,s){r[Ka(i?n.classBindings:n.styleBindings)]=s}(r,n,s,G))}else p=function(r,n,i){let s;const l=n.directiveEnd;for(let p=1+n.directiveStylingLast;p<l;p++)s=_f(s,r[p].hostAttrs,i);return _f(s,n.attrs,i)}(r,n,s)}return void 0!==p&&(s?n.residualClasses=p:n.residualStyles=p),i}(l,p,n,s),function(r,n,i,s,l,p){let b=p?n.classBindings:n.styleBindings,R=Ka(b),G=na(b);r[s]=i;let St,ut=!1;if(Array.isArray(i)){const Ut=i;St=Ut[1],(null===St||Au(Ut,St)>0)&&(ut=!0)}else St=i;if(l)if(0!==G){const Jt=Ka(r[R+1]);r[s+1]=Xa(Jt,R),0!==Jt&&(r[Jt+1]=Ys(r[Jt+1],s)),r[R+1]=function(r,n){return 131071&r|n<<17}(r[R+1],s)}else r[s+1]=Xa(R,0),0!==R&&(r[R+1]=Ys(r[R+1],s)),R=s;else r[s+1]=Xa(G,0),0===R?R=s:r[G+1]=Ys(r[G+1],s),G=s;ut&&(r[s+1]=bc(r[s+1])),li(r,St,s,!0),li(r,St,s,!1),function(r,n,i,s,l){const p=l?r.residualClasses:r.residualStyles;null!=p&&"string"==typeof n&&Au(p,n)>=0&&(i[s+1]=Sl(i[s+1]))}(n,St,r,s,p),b=Xa(R,G),p?n.classBindings=b:n.styleBindings=b}(l,p,n,i,b,s)}}function Ja(r,n,i,s,l){let p=null;const b=i.directiveEnd;let R=i.directiveStylingLast;for(-1===R?R=i.directiveStart:R++;R<b&&(p=n[R],s=_f(s,p.hostAttrs,l),p!==r);)R++;return null!==r&&(i.directiveStylingLast=R),s}function _f(r,n,i){const s=i?1:2;let l=-1;if(null!==n)for(let p=0;p<n.length;p++){const b=n[p];"number"==typeof b?l=b:l===s&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),ta(r,b,!!i||n[++p]))}return void 0===r?null:r}function kc(r,n,i,s,l,p,b,R){if(!(3&n.type))return;const G=r.data,ut=G[R+1];yd(function(r){return 1==(1&r)}(ut)?R0(G,n,i,l,na(ut),b):void 0)||(yd(p)||function(r){return 2==(2&r)}(ut)&&(p=R0(G,null,i,l,R,b)),function(r,n,i,s,l){const p=yr(r);if(n)l?p?r.addClass(i,s):i.classList.add(s):p?r.removeClass(i,s):i.classList.remove(s);else{let b=-1===s.indexOf("-")?void 0:F.DashCase;if(null==l)p?r.removeStyle(i,s,b):i.style.removeProperty(s);else{const R="string"==typeof l&&l.endsWith("!important");R&&(l=l.slice(0,-10),b|=F.Important),p?r.setStyle(i,s,l,b):i.style.setProperty(s,l,R?"important":"")}}}(s,b,tu(xl(),i),l,p))}function R0(r,n,i,s,l,p){const b=null===n;let R;for(;l>0;){const G=r[l],ut=Array.isArray(G),St=ut?G[1]:G,Ut=null===St;let Jt=i[l+1];Jt===Gn&&(Jt=Ut?jn:void 0);let se=Ut?js(Jt,s):St===s?Jt:void 0;if(ut&&!yd(se)&&(se=js(G,s)),yd(se)&&(R=se,b))return R;const pe=r[l+1];l=b?Ka(pe):na(pe)}if(null!==n){let G=p?n.residualClasses:n.residualStyles;null!=G&&(R=js(G,s))}return R}function yd(r){return void 0!==r}function Ac(r,n){return 0!=(r.flags&(n?16:32))}function Ji(r,n=""){const i=Wi(),s=Rr(),l=r+20,p=s.firstCreatePass?mp(s,l,1,n,null):s.data[l],b=i[l]=function(r,n){return yr(r)?r.createText(n):r.createTextNode(n)}(i[11],n);mr(s,i,b,p),_u(p,!1)}function Ps(r){return oa("",r,""),Ps}function oa(r,n,i){const s=Wi(),l=Ym(s,r,n,i);return l!==Gn&&yf(s,xl(),l),oa}function Xs(r,n,i){!function(r,n,i,s){const l=Rr(),p=ec(2);l.firstUpdatePass&&_1(l,null,p,s);const b=Wi();if(i!==Gn&&Oa(b,p,i)){const R=l.data[xl()];if(Ac(R,s)&&!Gv(l,p)){let G=s?R.classesWithoutHost:R.stylesWithoutHost;null!==G&&(i=vo(G,i||"")),w1(l,R,b,i,s)}else!function(r,n,i,s,l,p,b,R){l===Gn&&(l=jn);let G=0,ut=0,St=0<l.length?l[0]:null,Ut=0<p.length?p[0]:null;for(;null!==St||null!==Ut;){const Jt=G<l.length?l[G+1]:void 0,se=ut<p.length?p[ut+1]:void 0;let Ue,pe=null;St===Ut?(G+=2,ut+=2,Jt!==se&&(pe=Ut,Ue=se)):null===Ut||null!==St&&St<Ut?(G+=2,pe=St):(ut+=2,pe=Ut,Ue=se),null!==pe&&kc(r,n,i,s,pe,Ue,b,R),St=G<l.length?l[G]:null,Ut=ut<p.length?p[ut]:null}}(l,R,b,b[11],b[p+1],b[p+1]=function(r,n,i){if(null==i||""===i)return jn;const s=[],l=ga(i);if(Array.isArray(l))for(let p=0;p<l.length;p++)r(s,l[p],!0);else if("object"==typeof l)for(const p in l)l.hasOwnProperty(p)&&r(s,p,l[p]);else"string"==typeof l&&n(s,l);return s}(r,n,i),s,p)}}(ta,Bu,Ym(Wi(),r,n,i),!0)}function ju(r,n,i){const s=Wi();return Oa(s,Wf(),n)&&Ul(Rr(),jo(),s,r,n,s[11],i,!0),ju}function bd(r,n,i){const s=Wi();if(Oa(s,Wf(),n)){const p=Rr(),b=jo();Ul(p,b,s,r,n,Jy(ef(p.data),b,s),i,!0)}return bd}const pu=void 0;var Ep=["en",[["a","p"],["AM","PM"],pu],[["AM","PM"],pu,pu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pu,"{1} 'at' {0}",pu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const i=Math.floor(Math.abs(r)),s=r.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===s?1:5}];let Cf={};function Va(r){const n=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let i=Fc(n);if(i)return i;const s=n.split("-")[0];if(i=Fc(s),i)return i;if("en"===s)return Ep;throw new Error(`Missing locale data for the locale "${r}".`)}function Fc(r){return r in Cf||(Cf[r]=Br.ng&&Br.ng.common&&Br.ng.common.locales&&Br.ng.common.locales[r]),Cf[r]}var mn=(()=>((mn=mn||{})[mn.LocaleId=0]="LocaleId",mn[mn.DayPeriodsFormat=1]="DayPeriodsFormat",mn[mn.DayPeriodsStandalone=2]="DayPeriodsStandalone",mn[mn.DaysFormat=3]="DaysFormat",mn[mn.DaysStandalone=4]="DaysStandalone",mn[mn.MonthsFormat=5]="MonthsFormat",mn[mn.MonthsStandalone=6]="MonthsStandalone",mn[mn.Eras=7]="Eras",mn[mn.FirstDayOfWeek=8]="FirstDayOfWeek",mn[mn.WeekendRange=9]="WeekendRange",mn[mn.DateFormat=10]="DateFormat",mn[mn.TimeFormat=11]="TimeFormat",mn[mn.DateTimeFormat=12]="DateTimeFormat",mn[mn.NumberSymbols=13]="NumberSymbols",mn[mn.NumberFormats=14]="NumberFormats",mn[mn.CurrencyCode=15]="CurrencyCode",mn[mn.CurrencySymbol=16]="CurrencySymbol",mn[mn.CurrencyName=17]="CurrencyName",mn[mn.Currencies=18]="Currencies",mn[mn.Directionality=19]="Directionality",mn[mn.PluralCase=20]="PluralCase",mn[mn.ExtraData=21]="ExtraData",mn))();const O0="en-US";let o2=O0;function YS(r,n,i,s,l){if(r=Fn(r),Array.isArray(r))for(let p=0;p<r.length;p++)YS(r[p],n,i,s,l);else{const p=Rr(),b=Wi();let R=dd(r)?r:Fn(r.provide),G=qx(r);const ut=Us(),St=1048575&ut.providerIndexes,Ut=ut.directiveStart,Jt=ut.providerIndexes>>20;if(dd(r)||!r.multi){const se=new nc(G,l,be),pe=XS(R,n,l?St:St+Jt,Ut);-1===pe?(fm(Ls(ut,b),p,R),$S(p,r,n.length),n.push(R),ut.directiveStart++,ut.directiveEnd++,l&&(ut.providerIndexes+=1048576),i.push(se),b.push(se)):(i[pe]=se,b[pe]=se)}else{const se=XS(R,n,St+Jt,Ut),pe=XS(R,n,St,St+Jt),Ue=se>=0&&i[se],Ge=pe>=0&&i[pe];if(l&&!Ge||!l&&!Ue){fm(Ls(ut,b),p,R);const vi=function(r,n,i,s,l){const p=new nc(r,i,be);return p.multi=[],p.index=n,p.componentProviders=0,hT(p,l,s&&!i),p}(l?MO:_O,i.length,l,s,G);!l&&Ge&&(i[pe].providerFactory=vi),$S(p,r,n.length,0),n.push(R),ut.directiveStart++,ut.directiveEnd++,l&&(ut.providerIndexes+=1048576),i.push(vi),b.push(vi)}else $S(p,r,se>-1?se:pe,hT(i[l?pe:se],G,!l&&s));!l&&s&&Ge&&i[pe].componentProviders++}}}function $S(r,n,i,s){const l=dd(n);if(l||function(r){return!!r.useClass}(n)){const b=(n.useClass||n).prototype.ngOnDestroy;if(b){const R=r.destroyHooks||(r.destroyHooks=[]);if(!l&&n.multi){const G=R.indexOf(i);-1===G?R.push(i,[s,b]):R[G+1].push(s,b)}else R.push(i,b)}}}function hT(r,n,i){return i&&r.componentProviders++,r.multi.push(n)-1}function XS(r,n,i,s){for(let l=i;l<s;l++)if(n[l]===r)return l;return-1}function _O(r,n,i,s){return KS(this.multi,[])}function MO(r,n,i,s){const l=this.multi;let p;if(this.providerFactory){const b=this.providerFactory.componentProviders,R=Sh(i,i[1],this.providerFactory.index,s);p=R.slice(0,b),KS(l,p);for(let G=b;G<R.length;G++)p.push(R[G])}else p=[],KS(l,p);return p}function KS(r,n){for(let i=0;i<r.length;i++)n.push((0,r[i])());return n}function lo(r,n=[]){return i=>{i.providersResolver=(s,l)=>function(r,n,i){const s=Rr();if(s.firstCreatePass){const l=bu(r);YS(i,s.data,s.blueprint,l,!0),YS(n,s.data,s.blueprint,l,!1)}}(s,l?l(r):r,n)}}class cT{}const dT="ngComponent";class DO{resolveComponentFactory(n){throw function(r){const n=Error(`No component factory found for ${bn(r)}. Did you add it to @NgModule.entryComponents?`);return n[dT]=r,n}(n)}}let ag=(()=>{class r{}return r.NULL=new DO,r})();function h2(...r){}function _w(r,n){return new cr(ha(r,n))}const AO=function(){return _w(Us(),Wi())};let cr=(()=>{class r{constructor(i){this.nativeElement=i}}return r.__NG_ELEMENT_ID__=AO,r})();function pT(r){return r instanceof cr?r.nativeElement:r}class A1{}let lg=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>PO(),r})();const PO=function(){const r=Wi(),i=yl(Us().index,r);return function(r){return r[11]}(yh(i)?i:r)};let qS=(()=>{class r{}return r.\u0275prov=Ki({token:r,providedIn:"root",factory:()=>null}),r})();class Zv{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const mT=new Zv("13.0.0"),Mw={};function c2(r,n,i,s,l=!1){for(;null!==i;){const p=n[i.index];if(null!==p&&s.push(ua(p)),os(p))for(let R=10;R<p.length;R++){const G=p[R],ut=G[1].firstChild;null!==ut&&c2(G[1],G,ut,s)}const b=i.type;if(8&b)c2(r,n,i.child,s);else if(32&b){const R=ft(i,n);let G;for(;G=R();)s.push(G)}else if(16&b){const R=Sn(n,i);if(Array.isArray(R))s.push(...R);else{const G=Ct(n[16]);c2(G[1],G,R,s,!0)}}i=l?i.projectionNext:i.next}return s}class n_{constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,i=n[1];return c2(i,n,i.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(os(n)){const i=n[8],s=i?i.indexOf(this):-1;s>-1&&(Le(n,s),qn(i,s))}this._attachedToViewContainer=!1}Mi(this._lView[1],this._lView)}onDestroy(n){Lx(this._lView[1],this._lView,null,n)}markForCheck(){kv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){$s(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,n,i){tf(!0);try{$s(r,n,i)}finally{tf(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,An(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class OO extends n_{constructor(n){super(n),this._view=n}detectChanges(){OM(this._view)}checkNoChanges(){!function(r){tf(!0);try{OM(r)}finally{tf(!1)}}(this._view)}get context(){return null}}class gT extends ag{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=el(n);return new QS(i,this.ngModule)}}function vT(r){const n=[];for(let i in r)r.hasOwnProperty(i)&&n.push({propName:r[i],templateName:i});return n}const LO=new un("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ws});class QS extends cT{constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=n.selectors.map(au).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}get inputs(){return vT(this.componentDef.inputs)}get outputs(){return vT(this.componentDef.outputs)}create(n,i,s,l){const p=(l=l||this.ngModule)?function(r,n){return{get:(i,s,l)=>{const p=r.get(i,Mw,l);return p!==Mw||s===Mw?p:n.get(i,s,l)}}}(n,l.injector):n,b=p.get(A1,kn),R=p.get(qS,null),G=b.createRenderer(null,this.componentDef),ut=this.componentDef.selectors[0][0]||"div",St=s?function(r,n,i){if(yr(r))return r.selectRootElement(n,i===Ms.ShadowDom);let s="string"==typeof n?r.querySelector(n):n;return s.textContent="",s}(G,s,this.componentDef.encapsulation):je(b.createRenderer(null,this.componentDef),ut,function(r){const n=r.toLowerCase();return"svg"===n?Vg:"math"===n?"http://www.w3.org/1998/MathML/":null}(ut)),Ut=this.componentDef.onPush?576:528,Jt=function(r,n){return{components:[],scheduler:r||Ws,clean:eh,playerHandler:n||null,flags:0}}(),se=Sv(0,null,null,1,0,null,null,null,null,null),pe=_v(null,se,Jt,Ut,null,null,b,G,R,p);let Ue,Ge;iu(pe);try{const vi=function(r,n,i,s,l,p){const b=i[1];i[20]=r;const G=mp(b,20,2,"#host",null),ut=G.mergedAttrs=n.hostAttrs;null!==ut&&(ho(G,ut,!0),null!==r&&(n0(l,r,ut),null!==G.classes&&Ae(l,r,G.classes),null!==G.styles&&ai(l,r,G.styles)));const St=s.createRenderer(r,n),Ut=_v(i,Db(n),null,n.onPush?64:16,i[20],G,s,St,p||null,null);return b.firstCreatePass&&(fm(Ls(G,i),b,n.type),Rb(b,G),Yo(G,i.length,1)),El(i,Ut),i[20]=Ut}(St,this.componentDef,pe,b,G);if(St)if(s)n0(G,St,["ng-version",mT.full]);else{const{attrs:gi,classes:Zi}=function(r){const n=[],i=[];let s=1,l=2;for(;s<r.length;){let p=r[s];if("string"==typeof p)2===l?""!==p&&n.push(p,r[++s]):8===l&&i.push(p);else{if(!nr(l))break;l=p}s++}return{attrs:n,classes:i}}(this.componentDef.selectors[0]);gi&&n0(G,St,gi),Zi&&Zi.length>0&&Ae(G,St,Zi.join(" "))}if(Ge=Xp(se,20),void 0!==i){const gi=Ge.projection=[];for(let Zi=0;Zi<this.ngContentSelectors.length;Zi++){const ln=i[Zi];gi.push(null!=ln?Array.from(ln):null)}}Ue=function(r,n,i,s,l){const p=i[1],b=function(r,n,i){const s=Us();r.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),Ob(r,s,n,Fm(r,n,1,null),i));const l=Sh(n,r,s.directiveStart,s);Fo(l,n);const p=ha(s,n);return p&&Fo(p,n),l}(p,i,n);if(s.components.push(b),r[8]=b,l&&l.forEach(G=>G(b,n)),n.contentQueries){const G=Us();n.contentQueries(1,b,G.directiveStart)}const R=Us();return!p.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Su(R.index),Tb(i[1],R,0,R.directiveStart,R.directiveEnd,n),jx(n,b)),b}(vi,this.componentDef,pe,Jt,[Ra]),Mv(se,pe,null)}finally{rl()}return new VO(this.componentType,Ue,_w(Ge,pe),pe,Ge)}}class VO extends class{}{constructor(n,i,s,l,p){super(),this.location=s,this._rootLView=l,this._tNode=p,this.instance=i,this.hostView=this.changeDetectorRef=new OO(l),this.componentType=n}get injector(){return new Zf(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class L0{}class yT{}const Cw=new Map;class wT extends L0{constructor(n,i){super(),this._parent=i,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new gT(this);const s=ml(n);this._bootstrapComponents=f(s.bootstrap),this._r3Injector=jm(n,i,[{provide:L0,useValue:this},{provide:ag,useValue:this.componentFactoryResolver}],bn(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,i=Eo.THROW_IF_NOT_FOUND,s=or.Default){return n===Eo||n===L0||n===yo?this:this._r3Injector.get(n,i,s)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class tD extends yT{constructor(n){super(),this.moduleType=n,null!==ml(n)&&function(r){const n=new Set;!function i(s){const l=ml(s,!0),p=l.id;null!==p&&(function(r,n,i){if(n&&n!==i)throw new Error(`Duplicate module registered for ${r} - ${bn(n)} vs ${bn(n.name)}`)}(p,Cw.get(p),s),Cw.set(p,s));const b=f(l.imports);for(const R of b)n.has(R)||(n.add(R),i(R))}(r)}(n)}create(n){return new wT(this.moduleType,n)}}function r_(r,n){const i=r[n];return i===Gn?void 0:i}function _T(r,n,i,s,l,p){const b=n+i;return Oa(r,b,l)?Rh(r,b+1,p?s.call(p,l):s(l)):r_(r,b+1)}function MT(r,n,i,s,l,p,b){const R=n+i;return function(r,n,i,s){const l=Oa(r,n,i);return Oa(r,n+1,s)||l}(r,R,l,p)?Rh(r,R+2,b?s.call(b,l,p):s(l,p)):r_(r,R+2)}function T1(r,n){const i=Rr();let s;const l=r+20;i.firstCreatePass?(s=function(r,n){if(n)for(let i=n.length-1;i>=0;i--){const s=n[i];if(r===s.name)return s}throw new Ha("302",`The pipe '${r}' could not be found!`)}(n,i.pipeRegistry),i.data[l]=s,s.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(l,s.onDestroy)):s=i.data[l];const p=s.factory||(s.factory=Uf(s.type)),b=Gc(be);try{const R=hm(!1),G=p();return hm(R),function(r,n,i,s){i>=r.data.length&&(r.data[i]=null,r.blueprint[i]=null),n[i]=s}(i,Wi(),l,G),G}finally{Gc(b)}}function Sw(r,n,i){const s=r+20,l=Wi(),p=Gd(l,s);return o_(l,s)?_T(l,Ho(),n,p.transform,i,p):p.transform(i)}function o_(r,n){return r[1].data[n].pure}function eD(r){return n=>{setTimeout(r,void 0,n)}}const xn=class extends C{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,s){var G,ut,St;let l=n,p=i||(()=>null),b=s;if(n&&"object"==typeof n){const Ut=n;l=null==(G=Ut.next)?void 0:G.bind(Ut),p=null==(ut=Ut.error)?void 0:ut.bind(Ut),b=null==(St=Ut.complete)?void 0:St.bind(Ut)}this.__isAsync&&(p=eD(p),l&&(l=eD(l)),b&&(b=eD(b)));const R=super.subscribe({next:l,error:p,complete:b});return n instanceof D&&n.add(R),R}};function iN(){return this._results[Um()]()}class P1{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Um(),s=P1.prototype;s[i]||(s[i]=iN)}get changes(){return this._changes||(this._changes=new xn)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const s=this;s.dirty=!1;const l=Bs(n);(this._changesDetected=!function(r,n,i){if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++){let l=r[s],p=n[s];if(i&&(l=i(l),p=i(p)),p!==l)return!1}return!0}(s._results,l,i))&&(s._results=l,s.length=l.length,s.last=l[this.length-1],s.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;const rN=function(){return f2(Us(),Wi())};let Ef=(()=>{class r{}return r.__NG_ELEMENT_ID__=rN,r})();const oN=Ef,sN=class extends oN{constructor(n,i,s){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=s}createEmbeddedView(n){const i=this._declarationTContainer.tViews,s=_v(this._declarationLView,i,n,16,null,i.declTNode,null,null,null,null);s[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(s[19]=p.createEmbeddedView(i)),Mv(i,s,n),new n_(s)}};function f2(r,n){return 4&r.type?new sN(n,r,_w(r,n)):null}const uN=function(){return TT(Us(),Wi())};let lh=(()=>{class r{}return r.__NG_ELEMENT_ID__=uN,r})();const cN=lh,kT=class extends cN{constructor(n,i,s){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=s}get element(){return _w(this._hostTNode,this._hostLView)}get injector(){return new Zf(this._hostTNode,this._hostLView)}get parentInjector(){const n=oc(this._hostTNode,this._hostLView);if(um(n)){const i=sf(n,this._hostLView),s=no(n);return new Zf(i[1].data[s+8],i)}return new Zf(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=AT(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,i,s){const l=n.createEmbeddedView(i||{});return this.insert(l,s),l}createComponent(n,i,s,l,p){const b=n&&!("function"==typeof n);let R;if(b)R=i;else{const Ut=i||{};R=Ut.index,s=Ut.injector,l=Ut.projectableNodes,p=Ut.ngModuleRef}const G=b?n:new QS(el(n)),ut=s||this.parentInjector;if(!p&&null==G.ngModule&&ut){const Ut=ut.get(L0,null);Ut&&(p=Ut)}const St=G.create(ut,l,void 0,p);return this.insert(St.hostView,R),St}insert(n,i){const s=n._lView,l=s[1];if(os(s[3])){const St=this.indexOf(n);if(-1!==St)this.detach(St);else{const Ut=s[3],Jt=new kT(Ut,Ut[6],Ut[3]);Jt.detach(Jt.indexOf(n))}}const p=this._adjustIndex(i),b=this._lContainer;!function(r,n,i,s){const l=10+s,p=i.length;s>0&&(i[l-1][4]=n),s<p-10?(n[4]=i[l],qr(i,10+s,n)):(i.push(n),n[4]=null),n[3]=i;const b=n[17];null!==b&&i!==b&&function(r,n){const i=r[9];n[16]!==n[3][3][16]&&(r[2]=!0),null===i?r[9]=[n]:i.push(n)}(b,n);const R=n[19];null!==R&&R.insertView(r),n[2]|=128}(l,s,b,p);const R=dn(p,b),G=s[11],ut=zi(G,b[7]);return null!==ut&&function(r,n,i,s,l,p){s[0]=l,s[6]=n,An(r,s,i,1,l,p)}(l,b[6],G,s,ut,R),n.attachToViewContainerRef(),qr(iD(b),p,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=AT(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),s=Le(this._lContainer,i);s&&(qn(iD(this._lContainer),i),Mi(s[1],s))}detach(n){const i=this._adjustIndex(n,-1),s=Le(this._lContainer,i);return s&&null!=qn(iD(this._lContainer),i)?new n_(s):null}_adjustIndex(n,i=0){return null==n?this.length+i:n}};function AT(r){return r[8]}function iD(r){return r[8]||(r[8]=[])}function TT(r,n){let i;const s=n[r.index];if(os(s))i=s;else{let l;if(8&r.type)l=ua(s);else{const p=n[11];l=p.createComment("");const b=ha(r,n);Ei(p,zi(p,b),l,function(r,n){return yr(r)?r.nextSibling(n):n.nextSibling}(p,b),!1)}n[r.index]=i=Ux(s,n,l,r),El(n,i)}return new kT(i,r,n)}class nD{constructor(n){this.queryList=n,this.matches=null}clone(){return new nD(this.queryList)}setDirty(){this.queryList.setDirty()}}class rD{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const s=null!==n.contentQueries?n.contentQueries[0]:i.length,l=[];for(let p=0;p<s;p++){const b=i.getByIndex(p);l.push(this.queries[b.indexInDeclarationView].clone())}return new rD(l)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==NT(n,i).matches&&this.queries[i].setDirty()}}class PT{constructor(n,i,s=null){this.predicate=n,this.flags=i,this.read=s}}class oD{constructor(n=[]){this.queries=n}elementStart(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let s=0;s<this.length;s++){const l=null!==i?i.length:0,p=this.getByIndex(s).embeddedTView(n,l);p&&(p.indexInDeclarationView=s,null!==i?i.push(p):i=[p])}return null!==i?new oD(i):null}template(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class sD{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new sD(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let s=n.parent;for(;null!==s&&8&s.type&&s.index!==i;)s=s.parent;return i===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const s=this.metadata.predicate;if(Array.isArray(s))for(let l=0;l<s.length;l++){const p=s[l];this.matchTNodeWithReadOption(n,i,pN(i,p)),this.matchTNodeWithReadOption(n,i,Fs(i,n,p,!1,!1))}else s===Ef?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Fs(i,n,s,!1,!1))}matchTNodeWithReadOption(n,i,s){if(null!==s){const l=this.metadata.read;if(null!==l)if(l===cr||l===lh||l===Ef&&4&i.type)this.addMatch(i.index,-2);else{const p=Fs(i,n,l,!1,!1);null!==p&&this.addMatch(i.index,p)}else this.addMatch(i.index,s)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function pN(r,n){const i=r.localNames;if(null!==i)for(let s=0;s<i.length;s+=2)if(i[s]===n)return i[s+1];return null}function gN(r,n,i,s){return-1===i?function(r,n){return 11&r.type?_w(r,n):4&r.type?f2(r,n):null}(n,r):-2===i?function(r,n,i){return i===cr?_w(n,r):i===Ef?f2(n,r):i===lh?TT(n,r):void 0}(r,n,s):Sh(r,r[1],i,n)}function IT(r,n,i,s){const l=n[19].queries[s];if(null===l.matches){const p=r.data,b=i.matches,R=[];for(let G=0;G<b.length;G+=2){const ut=b[G];R.push(ut<0?null:gN(n,p[ut],b[G+1],i.metadata.read))}l.matches=R}return l.matches}function aD(r,n,i,s){const l=r.queries.getByIndex(i),p=l.matches;if(null!==p){const b=IT(r,n,l,i);for(let R=0;R<p.length;R+=2){const G=p[R];if(G>0)s.push(b[R/2]);else{const ut=p[R+1],St=n[-G];for(let Ut=10;Ut<St.length;Ut++){const Jt=St[Ut];Jt[17]===Jt[3]&&aD(Jt[1],Jt,ut,s)}if(null!==St[9]){const Ut=St[9];for(let Jt=0;Jt<Ut.length;Jt++){const se=Ut[Jt];aD(se[1],se,ut,s)}}}}}return s}function Jn(r){const n=Wi(),i=Rr(),s=$d();om(s+1);const l=NT(i,s);if(r.dirty&&nm(n)===(2==(2&l.metadata.flags))){if(null===l.matches)r.reset([]);else{const p=l.crossesNgTemplate?aD(i,n,s,[]):IT(i,n,l,s);r.reset(p,pT),r.notifyOnChanges()}return!0}return!1}function ms(r,n,i){const s=Rr();s.firstCreatePass&&(OT(s,new PT(r,n,i),-1),2==(2&n)&&(s.staticViewQueries=!0)),RT(s,Wi(),n)}function as(r,n,i,s){const l=Rr();if(l.firstCreatePass){const p=Us();OT(l,new PT(n,i,s),p.index),function(r,n){const i=r.contentQueries||(r.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(r.queries.length-1,n)}(l,r),2==(2&i)&&(l.staticContentQueries=!0)}RT(l,Wi(),i)}function tr(){return r=Wi(),n=$d(),r[19].queries[n].queryList;var r,n}function RT(r,n,i){const s=new P1(4==(4&i));Lx(r,n,s,s.destroy),null===n[19]&&(n[19]=new rD),n[19].queries.push(new nD(s))}function OT(r,n,i){null===r.queries&&(r.queries=new oD),r.queries.track(new sD(n,i))}function NT(r,n){return r.queries.getByIndex(n)}const a_=new un("Application Initializer");let Ew=(()=>{class r{constructor(i){this.appInits=i,this.resolve=h2,this.reject=h2,this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,l)=>{this.resolve=s,this.reject=l})}runInitializers(){if(this.initialized)return;const i=[],s=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const p=this.appInits[l]();if(P0(p))i.push(p);else if(t(p)){const b=new Promise((R,G)=>{p.subscribe({complete:R,error:G})});i.push(b)}}Promise.all(i).then(()=>{s()}).catch(l=>{this.reject(l)}),0===i.length&&s(),this.initialized=!0}}return r.\u0275fac=function(i){return new(i||r)(pi(a_,8))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})();const l_=new un("AppId"),$N={provide:l_,useFactory:function(){return`${dD()}${dD()}${dD()}`},deps:[]};function dD(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const JT=new un("Platform Initializer"),I1=new un("Platform ID"),t3=new un("appBootstrapListener");let m2=(()=>{class r{log(i){console.log(i)}warn(i){console.warn(i)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})();const ug=new un("LocaleId"),e3=new un("DefaultCurrencyCode");class KN{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}const pD=function(r){return new tD(r)},ZN=pD,qN=function(r){return Promise.resolve(pD(r))},n3=function(r){const n=pD(r),s=f(ml(r).declarations).reduce((l,p)=>{const b=el(p);return b&&l.push(new QS(b)),l},[]);return new KN(n,s)},QN=n3,JN=function(r){return Promise.resolve(n3(r))};let g2=(()=>{class r{constructor(){this.compileModuleSync=ZN,this.compileModuleAsync=qN,this.compileModuleAndAllComponentsSync=QN,this.compileModuleAndAllComponentsAsync=JN}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})();const iL=(()=>Promise.resolve(0))();function mD(r){"undefined"==typeof Zone?iL.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class gr{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xn(!1),this.onMicrotaskEmpty=new xn(!1),this.onStable=new xn(!1),this.onError=new xn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!s&&i,l.shouldCoalesceRunChangeDetection=s,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){let r=Br.requestAnimationFrame,n=Br.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&n){const i=r[Zone.__symbol__("OriginalDelegate")];i&&(r=i);const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(r){const n=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Br,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,vD(r),r.isCheckStableRunning=!0,gD(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),vD(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,s,l,p,b,R)=>{try{return r3(r),i.invokeTask(l,p,b,R)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||r.shouldCoalesceRunChangeDetection)&&n(),o3(r)}},onInvoke:(i,s,l,p,b,R,G)=>{try{return r3(r),i.invoke(l,p,b,R,G)}finally{r.shouldCoalesceRunChangeDetection&&n(),o3(r)}},onHasTask:(i,s,l,p)=>{i.hasTask(l,p),s===l&&("microTask"==p.change?(r._hasPendingMicrotasks=p.microTask,vD(r),gD(r)):"macroTask"==p.change&&(r.hasPendingMacrotasks=p.macroTask))},onHandleError:(i,s,l,p)=>(i.handleError(l,p),r.runOutsideAngular(()=>r.onError.emit(p)),!1)})}(l)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(gr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,i,s){return this._inner.run(n,i,s)}runTask(n,i,s,l){const p=this._inner,b=p.scheduleEventTask("NgZoneEvent: "+l,n,rL,h2,h2);try{return p.runTask(b,i,s)}finally{p.cancelTask(b)}}runGuarded(n,i,s){return this._inner.runGuarded(n,i,s)}runOutsideAngular(n){return this._outer.run(n)}}const rL={};function gD(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function vD(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function r3(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function o3(r){r._nesting--,gD(r)}class aL{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xn,this.onMicrotaskEmpty=new xn,this.onStable=new xn,this.onError=new xn}run(n,i,s){return n.apply(i,s)}runGuarded(n,i,s){return n.apply(i,s)}runOutsideAngular(n){return n()}runTask(n,i,s,l){return n.apply(i,s)}}let yD=(()=>{class r{constructor(i){this._ngZone=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gr.assertNotInAngularZone(),mD(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())mD(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(i)||(clearTimeout(s.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,s,l){let p=-1;s&&s>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==p),i(this._didWork,this.getPendingTasks())},s)),this._callbacks.push({doneCb:i,timeoutId:p,updateCb:l})}whenStable(i,s,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,s,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(i,s,l){return[]}}return r.\u0275fac=function(i){return new(i||r)(pi(gr))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})(),s3=(()=>{class r{constructor(){this._applications=new Map,xD.addToWindow(this)}registerApplication(i,s){this._applications.set(i,s)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,s=!0){return xD.findTestabilityInTree(this,i,s)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})();class lL{addToWindow(n){}findTestabilityInTree(n,i,s){return null}}let xD=new lL,a3=!0,l3=!1;function wD(){return l3=!0,a3}let Ap;const u3=new un("AllowMultipleToken");class bD{constructor(n,i){this.name=n,this.token=i}}function h3(r,n,i=[]){const s=`Platform: ${n}`,l=new un(s);return(p=[])=>{let b=c3();if(!b||b.injector.get(u3,!1))if(r)r(i.concat(p).concat({provide:l,useValue:!0}));else{const R=i.concat(p).concat({provide:l,useValue:!0},{provide:t1,useValue:"platform"});!function(r){if(Ap&&!Ap.destroyed&&!Ap.injector.get(u3,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ap=r.get(f3);const n=r.get(JT,null);n&&n.forEach(i=>i())}(Eo.create({providers:R,name:s}))}return function(r){const n=c3();if(!n)throw new Error("No platform exists!");if(!n.injector.get(r,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return n}(l)}}function c3(){return Ap&&!Ap.destroyed?Ap:null}let f3=(()=>{class r{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,s){const R=function(r,n){let i;return i="noop"===r?new aL:("zone.js"===r?void 0:r)||new gr({enableLongStackTrace:wD(),shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),i}(s?s.ngZone:void 0,{ngZoneEventCoalescing:s&&s.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:s&&s.ngZoneRunCoalescing||!1}),G=[{provide:gr,useValue:R}];return R.run(()=>{const ut=Eo.create({providers:G,parent:this.injector,name:i.moduleType.name}),St=i.create(ut),Ut=St.injector.get(Ur,null);if(!Ut)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return R.runOutsideAngular(()=>{const Jt=R.onError.subscribe({next:se=>{Ut.handleError(se)}});St.onDestroy(()=>{_D(this._modules,St),Jt.unsubscribe()})}),function(r,n,i){try{const s=i();return P0(s)?s.catch(l=>{throw n.runOutsideAngular(()=>r.handleError(l)),l}):s}catch(s){throw n.runOutsideAngular(()=>r.handleError(s)),s}}(Ut,R,()=>{const Jt=St.injector.get(Ew);return Jt.runInitializers(),Jt.donePromise.then(()=>(function(r){Ko(r,"Expected localeId to be defined"),"string"==typeof r&&(o2=r.toLowerCase().replace(/_/g,"-"))}(St.injector.get(ug,O0)||O0),this._moduleDoBootstrap(St),St))})})}bootstrapModule(i,s=[]){const l=d3({},s);return function(r,n,i){const s=new tD(i);return Promise.resolve(s)}(0,0,i).then(p=>this.bootstrapModuleFactory(p,l))}_moduleDoBootstrap(i){const s=i.injector.get(R1);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(l=>s.bootstrap(l));else{if(!i.instance.ngDoBootstrap)throw new Error(`The module ${bn(i.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);i.instance.ngDoBootstrap(s)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(i){return new(i||r)(pi(Eo))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})();function d3(r,n){return Array.isArray(n)?n.reduce(d3,r):wn(wn({},r),n)}let R1=(()=>{class r{constructor(i,s,l,p,b){this._zone=i,this._injector=s,this._exceptionHandler=l,this._componentFactoryResolver=p,this._initStatus=b,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const R=new y(ut=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{ut.next(this._stable),ut.complete()})}),G=new y(ut=>{let St;this._zone.runOutsideAngular(()=>{St=this._zone.onStable.subscribe(()=>{gr.assertNotInAngularZone(),mD(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,ut.next(!0))})})});const Ut=this._zone.onUnstable.subscribe(()=>{gr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{ut.next(!1)}))});return()=>{St.unsubscribe(),Ut.unsubscribe()}});this.isStable=dr(R,G.pipe(xo()))}bootstrap(i,s){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let l;l=i instanceof cT?i:this._componentFactoryResolver.resolveComponentFactory(i),this.componentTypes.push(l.componentType);const p=function(r){return r.isBoundToModule}(l)?void 0:this._injector.get(L0),R=l.create(Eo.NULL,[],s||l.selector,p),G=R.location.nativeElement,ut=R.injector.get(yD,null),St=ut&&R.injector.get(s3);return ut&&St&&St.registerApplication(G,ut),R.onDestroy(()=>{this.detachView(R.hostView),_D(this.components,R),St&&St.unregisterApplication(G)}),this._loadComponent(R),R}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(i))}finally{this._runningTick=!1}}attachView(i){const s=i;this._views.push(s),s.attachToAppRef(this)}detachView(i){const s=i;_D(this._views,s),s.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i),this._injector.get(t3,[]).concat(this._bootstrapListeners).forEach(l=>l(i))}ngOnDestroy(){this._views.slice().forEach(i=>i.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(i){return new(i||r)(pi(gr),pi(Eo),pi(Ur),pi(ag),pi(Ew))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})();function _D(r,n){const i=r.indexOf(n);i>-1&&r.splice(i,1)}const ML=function(r){return function(r,n,i){if(wo(r)&&!i){const s=yl(r.index,n);return new n_(s,s)}return 47&r.type?new n_(n[16],n):null}(Us(),Wi(),16==(16&r))};let Ks=(()=>{class r{}return r.__NG_ELEMENT_ID__=ML,r})();class w3{constructor(){}supports(n){return Fv(n)}create(n){return new LL(n)}}const NL=(r,n)=>n;class LL{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||NL}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,s=this._removalsHead,l=0,p=null;for(;i||s;){const b=!s||i&&i.currentIndex<_3(s,l,p)?i:s,R=_3(b,l,p),G=b.currentIndex;if(b===s)l--,s=s._nextRemoved;else if(i=i._next,null==b.previousIndex)l++;else{p||(p=[]);const ut=R-l,St=G-l;if(ut!=St){for(let Jt=0;Jt<ut;Jt++){const se=Jt<p.length?p[Jt]:p[Jt]=0,pe=se+Jt;St<=pe&&pe<ut&&(p[Jt]=se+1)}p[b.previousIndex]=St-ut}}R!==G&&n(b,R,G)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!Fv(n))throw new Error(`Error trying to diff '${bn(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let l,p,b,i=this._itHead,s=!1;if(Array.isArray(n)){this.length=n.length;for(let R=0;R<this.length;R++)p=n[R],b=this._trackByFn(R,p),null!==i&&Object.is(i.trackById,b)?(s&&(i=this._verifyReinsertion(i,p,b,R)),Object.is(i.item,p)||this._addIdentityChange(i,p)):(i=this._mismatch(i,p,b,R),s=!0),i=i._next}else l=0,function(r,n){if(Array.isArray(r))for(let i=0;i<r.length;i++)n(r[i]);else{const i=r[Um()]();let s;for(;!(s=i.next()).done;)n(s.value)}}(n,R=>{b=this._trackByFn(l,R),null!==i&&Object.is(i.trackById,b)?(s&&(i=this._verifyReinsertion(i,R,b,l)),Object.is(i.item,R)||this._addIdentityChange(i,R)):(i=this._mismatch(i,R,b,l),s=!0),i=i._next,l++}),this.length=l;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,s,l){let p;return null===n?p=this._itTail:(p=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,p,l)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(s,l))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,p,l)):n=this._addAfter(new FL(i,s),p,l),n}_verifyReinsertion(n,i,s,l){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==p?n=this._reinsertAfter(p,n._prev,l):n.currentIndex!=l&&(n.currentIndex=l,this._addToMoves(n,l)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const l=n._prevRemoved,p=n._nextRemoved;return null===l?this._removalsHead=p:l._nextRemoved=p,null===p?this._removalsTail=l:p._prevRemoved=l,this._insertAfter(n,i,s),this._addToMoves(n,s),n}_moveAfter(n,i,s){return this._unlink(n),this._insertAfter(n,i,s),this._addToMoves(n,s),n}_addAfter(n,i,s){return this._insertAfter(n,i,s),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,s){const l=null===i?this._itHead:i._next;return n._next=l,n._prev=i,null===l?this._itTail=n:l._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new b3),this._linkedRecords.put(n),n.currentIndex=s,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,s=n._next;return null===i?this._itHead=s:i._next=s,null===s?this._itTail=i:s._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new b3),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class FL{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class BL{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===i||i<=s.currentIndex)&&Object.is(s.trackById,n))return s;return null}remove(n){const i=n._prevDup,s=n._nextDup;return null===i?this._head=s:i._nextDup=s,null===s?this._tail=i:s._prevDup=i,null===this._head}}class b3{constructor(){this.map=new Map}put(n){const i=n.trackById;let s=this.map.get(i);s||(s=new BL,this.map.set(i,s)),s.add(n)}get(n,i){const l=this.map.get(n);return l?l.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _3(r,n,i){const s=r.previousIndex;if(null===s)return s;let l=0;return i&&s<i.length&&(l=i[s]),s+n+l}class M3{constructor(){}supports(n){return n instanceof Map||iw(n)}create(){return new VL}}class VL{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||iw(n)))throw new Error(`Error trying to diff '${bn(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(s,l)=>{if(i&&i.key===l)this._maybeAddToChanges(i,s),this._appendAfter=i,i=i._next;else{const p=this._getOrCreateRecordForKey(l,s);i=this._insertBeforeOrAppend(i,p)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let s=i;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const s=n._prev;return i._next=n,i._prev=s,n._prev=i,s&&(s._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const l=this._records.get(n);this._maybeAddToChanges(l,i);const p=l._prev,b=l._next;return p&&(p._next=b),b&&(b._prev=p),l._next=null,l._prev=null,l}const s=new jL(n);return this._records.set(n,s),s.currentValue=i,this._addToAdditions(s),s}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(s=>i(n[s],s))}}class jL{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function C3(){return new u_([new w3])}let u_=(()=>{class r{constructor(i){this.factories=i}static create(i,s){if(null!=s){const l=s.factories.slice();i=i.concat(l)}return new r(i)}static extend(i){return{provide:r,useFactory:s=>r.create(i,s||C3()),deps:[[r,new Hl,new Jo]]}}find(i){const s=this.factories.find(l=>l.supports(i));if(null!=s)return s;throw new Error(`Cannot find a differ supporting object '${i}' of type '${function(r){return r.name||typeof r}(i)}'`)}}return r.\u0275prov=Ki({token:r,providedIn:"root",factory:C3}),r})();function S3(){return new kw([new M3])}let kw=(()=>{class r{constructor(i){this.factories=i}static create(i,s){if(s){const l=s.factories.slice();i=i.concat(l)}return new r(i)}static extend(i){return{provide:r,useFactory:s=>r.create(i,s||S3()),deps:[[r,new Hl,new Jo]]}}find(i){const s=this.factories.find(l=>l.supports(i));if(s)return s;throw new Error(`Cannot find a differ supporting object '${i}'`)}}return r.\u0275prov=Ki({token:r,providedIn:"root",factory:S3}),r})();const HL=[new M3],GL=new u_([new w3]),WL=new kw(HL),YL=h3(null,"core",[{provide:I1,useValue:"unknown"},{provide:f3,deps:[Eo]},{provide:s3,deps:[]},{provide:m2,deps:[]}]),qL=[{provide:R1,useClass:R1,deps:[gr,Eo,Ur,ag,Ew]},{provide:LO,deps:[gr],useFactory:function(r){let n=[];return r.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(i){n.push(i)}}},{provide:Ew,useClass:Ew,deps:[[new Jo,a_]]},{provide:g2,useClass:g2,deps:[]},$N,{provide:u_,useFactory:function(){return GL},deps:[]},{provide:kw,useFactory:function(){return WL},deps:[]},{provide:ug,useFactory:function(r){return r||"undefined"!=typeof $localize&&$localize.locale||O0},deps:[[new bl(ug),new Jo,new Hl]]},{provide:e3,useValue:"USD"}];let JL=(()=>{class r{constructor(i){}}return r.\u0275fac=function(i){return new(i||r)(pi(R1))},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({providers:qL}),r})(),T2=null;function F0(){return T2}const Nr=new un("DocumentToken");let B1=(()=>{class r{historyGo(i){throw new Error("Not implemented")}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ki({token:r,factory:function(){return pi(uP)},providedIn:"platform"}),r})();const $B=new un("Location Initialized");let uP=(()=>{class r extends B1{constructor(i){super(),this._doc=i,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F0().getBaseHref(this._doc)}onPopState(i){const s=F0().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",i,!1),()=>s.removeEventListener("popstate",i)}onHashChange(i){const s=F0().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",i,!1),()=>s.removeEventListener("hashchange",i)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(i){this.location.pathname=i}pushState(i,s,l){hP()?this._history.pushState(i,s,l):this.location.hash=l}replaceState(i,s,l){hP()?this._history.replaceState(i,s,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return r.\u0275fac=function(i){return new(i||r)(pi(Nr))},r.\u0275prov=Ki({token:r,factory:function(){return new uP(pi(Nr))},providedIn:"platform"}),r})();function hP(){return!!window.history.pushState}function ZD(r,n){if(0==r.length)return n;if(0==n.length)return r;let i=0;return r.endsWith("/")&&i++,n.startsWith("/")&&i++,2==i?r+n.substring(1):1==i?r+n:r+"/"+n}function cP(r){const n=r.match(/#|\?|$/),i=n&&n.index||r.length;return r.slice(0,i-("/"===r[i-1]?1:0))+r.slice(i)}function cg(r){return r&&"?"!==r[0]?"?"+r:r}let Ow=(()=>{class r{historyGo(i){throw new Error("Not implemented")}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ki({token:r,factory:function(){return function(r){const n=pi(Nr).location;return new fP(pi(B1),n&&n.origin||"")}()},providedIn:"root"}),r})();const qD=new un("appBaseHref");let fP=(()=>{class r extends Ow{constructor(i,s){if(super(),this._platformLocation=i,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return ZD(this._baseHref,i)}path(i=!1){const s=this._platformLocation.pathname+cg(this._platformLocation.search),l=this._platformLocation.hash;return l&&i?`${s}${l}`:s}pushState(i,s,l,p){const b=this.prepareExternalUrl(l+cg(p));this._platformLocation.pushState(i,s,b)}replaceState(i,s,l,p){const b=this.prepareExternalUrl(l+cg(p));this._platformLocation.replaceState(i,s,b)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var s,l;null==(l=(s=this._platformLocation).historyGo)||l.call(s,i)}}return r.\u0275fac=function(i){return new(i||r)(pi(B1),pi(qD,8))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})(),ZB=(()=>{class r extends Ow{constructor(i,s){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(i){const s=ZD(this._baseHref,i);return s.length>0?"#"+s:s}pushState(i,s,l,p){let b=this.prepareExternalUrl(l+cg(p));0==b.length&&(b=this._platformLocation.pathname),this._platformLocation.pushState(i,s,b)}replaceState(i,s,l,p){let b=this.prepareExternalUrl(l+cg(p));0==b.length&&(b=this._platformLocation.pathname),this._platformLocation.replaceState(i,s,b)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var s,l;null==(l=(s=this._platformLocation).historyGo)||l.call(s,i)}}return r.\u0275fac=function(i){return new(i||r)(pi(B1),pi(qD,8))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})(),P2=(()=>{class r{constructor(i,s){this._subject=new xn,this._urlChangeListeners=[],this._platformStrategy=i;const l=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=cP(dP(l)),this._platformStrategy.onPopState(p=>{this._subject.emit({url:this.path(!0),pop:!0,state:p.state,type:p.type})})}path(i=!1){return this.normalize(this._platformStrategy.path(i))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(i,s=""){return this.path()==this.normalize(i+cg(s))}normalize(i){return r.stripTrailingSlash(function(r,n){return r&&n.startsWith(r)?n.substring(r.length):n}(this._baseHref,dP(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._platformStrategy.prepareExternalUrl(i)}go(i,s="",l=null){this._platformStrategy.pushState(l,"",i,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+cg(s)),l)}replaceState(i,s="",l=null){this._platformStrategy.replaceState(l,"",i,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+cg(s)),l)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(i=0){var s,l;null==(l=(s=this._platformStrategy).historyGo)||l.call(s,i)}onUrlChange(i){this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(i="",s){this._urlChangeListeners.forEach(l=>l(i,s))}subscribe(i,s,l){return this._subject.subscribe({next:i,error:s,complete:l})}}return r.normalizeQueryParams=cg,r.joinWithSlash=ZD,r.stripTrailingSlash=cP,r.\u0275fac=function(i){return new(i||r)(pi(Ow),pi(B1))},r.\u0275prov=Ki({token:r,factory:function(){return new P2(pi(Ow),pi(B1))},providedIn:"root"}),r})();function dP(r){return r.replace(/\/index.html$/,"")}var Pl=(()=>((Pl=Pl||{})[Pl.Zero=0]="Zero",Pl[Pl.One=1]="One",Pl[Pl.Two=2]="Two",Pl[Pl.Few=3]="Few",Pl[Pl.Many=4]="Many",Pl[Pl.Other=5]="Other",Pl))(),fl=(()=>((fl=fl||{})[fl.Format=0]="Format",fl[fl.Standalone=1]="Standalone",fl))(),Po=(()=>((Po=Po||{})[Po.Narrow=0]="Narrow",Po[Po.Abbreviated=1]="Abbreviated",Po[Po.Wide=2]="Wide",Po[Po.Short=3]="Short",Po))(),za=(()=>((za=za||{})[za.Short=0]="Short",za[za.Medium=1]="Medium",za[za.Long=2]="Long",za[za.Full=3]="Full",za))(),Ir=(()=>((Ir=Ir||{})[Ir.Decimal=0]="Decimal",Ir[Ir.Group=1]="Group",Ir[Ir.List=2]="List",Ir[Ir.PercentSign=3]="PercentSign",Ir[Ir.PlusSign=4]="PlusSign",Ir[Ir.MinusSign=5]="MinusSign",Ir[Ir.Exponential=6]="Exponential",Ir[Ir.SuperscriptingExponent=7]="SuperscriptingExponent",Ir[Ir.PerMille=8]="PerMille",Ir[Ir.Infinity=9]="Infinity",Ir[Ir.NaN=10]="NaN",Ir[Ir.TimeSeparator=11]="TimeSeparator",Ir[Ir.CurrencyDecimal=12]="CurrencyDecimal",Ir[Ir.CurrencyGroup=13]="CurrencyGroup",Ir))();function I2(r,n){return Ed(Va(r)[mn.DateFormat],n)}function R2(r,n){return Ed(Va(r)[mn.TimeFormat],n)}function O2(r,n){return Ed(Va(r)[mn.DateTimeFormat],n)}function Dd(r,n){const i=Va(r),s=i[mn.NumberSymbols][n];if(void 0===s){if(n===Ir.CurrencyDecimal)return i[mn.NumberSymbols][Ir.Decimal];if(n===Ir.CurrencyGroup)return i[mn.NumberSymbols][Ir.Group]}return s}const o9=function(r){return Va(r)[mn.PluralCase]};function mP(r){if(!r[mn.ExtraData])throw new Error(`Missing extra locale data for the locale "${r[mn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ed(r,n){for(let i=n;i>-1;i--)if(void 0!==r[i])return r[i];throw new Error("Locale data API: locale data undefined")}function JD(r){const[n,i]=r.split(":");return{hours:+n,minutes:+i}}const c9=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,b_={},f9=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Xl=(()=>((Xl=Xl||{})[Xl.Short=0]="Short",Xl[Xl.ShortGMT=1]="ShortGMT",Xl[Xl.Long=2]="Long",Xl[Xl.Extended=3]="Extended",Xl))(),Lr=(()=>((Lr=Lr||{})[Lr.FullYear=0]="FullYear",Lr[Lr.Month=1]="Month",Lr[Lr.Date=2]="Date",Lr[Lr.Hours=3]="Hours",Lr[Lr.Minutes=4]="Minutes",Lr[Lr.Seconds=5]="Seconds",Lr[Lr.FractionalSeconds=6]="FractionalSeconds",Lr[Lr.Day=7]="Day",Lr))(),go=(()=>((go=go||{})[go.DayPeriods=0]="DayPeriods",go[go.Days=1]="Days",go[go.Months=2]="Months",go[go.Eras=3]="Eras",go))();function d9(r,n,i,s){let l=function(r){if(yP(r))return r;if("number"==typeof r&&!isNaN(r))return new Date(r);if("string"==typeof r){if(r=r.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(r)){const[l,p=1,b=1]=r.split("-").map(R=>+R);return N2(l,p-1,b)}const i=parseFloat(r);if(!isNaN(r-i))return new Date(i);let s;if(s=r.match(c9))return function(r){const n=new Date(0);let i=0,s=0;const l=r[8]?n.setUTCFullYear:n.setFullYear,p=r[8]?n.setUTCHours:n.setHours;r[9]&&(i=Number(r[9]+r[10]),s=Number(r[9]+r[11])),l.call(n,Number(r[1]),Number(r[2])-1,Number(r[3]));const b=Number(r[4]||0)-i,R=Number(r[5]||0)-s,G=Number(r[6]||0),ut=Math.floor(1e3*parseFloat("0."+(r[7]||0)));return p.call(n,b,R,G,ut),n}(s)}const n=new Date(r);if(!yP(n))throw new Error(`Unable to convert "${r}" into a date`);return n}(r);n=fg(i,n)||n;let R,b=[];for(;n;){if(R=f9.exec(n),!R){b.push(n);break}{b=b.concat(R.slice(1));const St=b.pop();if(!St)break;n=St}}let G=l.getTimezoneOffset();s&&(G=vP(s,G),l=function(r,n,i){const l=r.getTimezoneOffset();return function(r,n){return(r=new Date(r.getTime())).setMinutes(r.getMinutes()+n),r}(r,-1*(vP(n,l)-l))}(l,s));let ut="";return b.forEach(St=>{const Ut=function(r){if(eE[r])return eE[r];let n;switch(r){case"G":case"GG":case"GGG":n=Zs(go.Eras,Po.Abbreviated);break;case"GGGG":n=Zs(go.Eras,Po.Wide);break;case"GGGGG":n=Zs(go.Eras,Po.Narrow);break;case"y":n=Il(Lr.FullYear,1,0,!1,!0);break;case"yy":n=Il(Lr.FullYear,2,0,!0,!0);break;case"yyy":n=Il(Lr.FullYear,3,0,!1,!0);break;case"yyyy":n=Il(Lr.FullYear,4,0,!1,!0);break;case"Y":n=V2(1);break;case"YY":n=V2(2,!0);break;case"YYY":n=V2(3);break;case"YYYY":n=V2(4);break;case"M":case"L":n=Il(Lr.Month,1,1);break;case"MM":case"LL":n=Il(Lr.Month,2,1);break;case"MMM":n=Zs(go.Months,Po.Abbreviated);break;case"MMMM":n=Zs(go.Months,Po.Wide);break;case"MMMMM":n=Zs(go.Months,Po.Narrow);break;case"LLL":n=Zs(go.Months,Po.Abbreviated,fl.Standalone);break;case"LLLL":n=Zs(go.Months,Po.Wide,fl.Standalone);break;case"LLLLL":n=Zs(go.Months,Po.Narrow,fl.Standalone);break;case"w":n=tE(1);break;case"ww":n=tE(2);break;case"W":n=tE(1,!0);break;case"d":n=Il(Lr.Date,1);break;case"dd":n=Il(Lr.Date,2);break;case"c":case"cc":n=Il(Lr.Day,1);break;case"ccc":n=Zs(go.Days,Po.Abbreviated,fl.Standalone);break;case"cccc":n=Zs(go.Days,Po.Wide,fl.Standalone);break;case"ccccc":n=Zs(go.Days,Po.Narrow,fl.Standalone);break;case"cccccc":n=Zs(go.Days,Po.Short,fl.Standalone);break;case"E":case"EE":case"EEE":n=Zs(go.Days,Po.Abbreviated);break;case"EEEE":n=Zs(go.Days,Po.Wide);break;case"EEEEE":n=Zs(go.Days,Po.Narrow);break;case"EEEEEE":n=Zs(go.Days,Po.Short);break;case"a":case"aa":case"aaa":n=Zs(go.DayPeriods,Po.Abbreviated);break;case"aaaa":n=Zs(go.DayPeriods,Po.Wide);break;case"aaaaa":n=Zs(go.DayPeriods,Po.Narrow);break;case"b":case"bb":case"bbb":n=Zs(go.DayPeriods,Po.Abbreviated,fl.Standalone,!0);break;case"bbbb":n=Zs(go.DayPeriods,Po.Wide,fl.Standalone,!0);break;case"bbbbb":n=Zs(go.DayPeriods,Po.Narrow,fl.Standalone,!0);break;case"B":case"BB":case"BBB":n=Zs(go.DayPeriods,Po.Abbreviated,fl.Format,!0);break;case"BBBB":n=Zs(go.DayPeriods,Po.Wide,fl.Format,!0);break;case"BBBBB":n=Zs(go.DayPeriods,Po.Narrow,fl.Format,!0);break;case"h":n=Il(Lr.Hours,1,-12);break;case"hh":n=Il(Lr.Hours,2,-12);break;case"H":n=Il(Lr.Hours,1);break;case"HH":n=Il(Lr.Hours,2);break;case"m":n=Il(Lr.Minutes,1);break;case"mm":n=Il(Lr.Minutes,2);break;case"s":n=Il(Lr.Seconds,1);break;case"ss":n=Il(Lr.Seconds,2);break;case"S":n=Il(Lr.FractionalSeconds,1);break;case"SS":n=Il(Lr.FractionalSeconds,2);break;case"SSS":n=Il(Lr.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=F2(Xl.Short);break;case"ZZZZZ":n=F2(Xl.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=F2(Xl.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=F2(Xl.Long);break;default:return null}return eE[r]=n,n}(St);ut+=Ut?Ut(l,i,G):"''"===St?"'":St.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ut}function N2(r,n,i){const s=new Date(0);return s.setFullYear(r,n,i),s.setHours(0,0,0),s}function fg(r,n){const i=function(r){return Va(r)[mn.LocaleId]}(r);if(b_[i]=b_[i]||{},b_[i][n])return b_[i][n];let s="";switch(n){case"shortDate":s=I2(r,za.Short);break;case"mediumDate":s=I2(r,za.Medium);break;case"longDate":s=I2(r,za.Long);break;case"fullDate":s=I2(r,za.Full);break;case"shortTime":s=R2(r,za.Short);break;case"mediumTime":s=R2(r,za.Medium);break;case"longTime":s=R2(r,za.Long);break;case"fullTime":s=R2(r,za.Full);break;case"short":const l=fg(r,"shortTime"),p=fg(r,"shortDate");s=L2(O2(r,za.Short),[l,p]);break;case"medium":const b=fg(r,"mediumTime"),R=fg(r,"mediumDate");s=L2(O2(r,za.Medium),[b,R]);break;case"long":const G=fg(r,"longTime"),ut=fg(r,"longDate");s=L2(O2(r,za.Long),[G,ut]);break;case"full":const St=fg(r,"fullTime"),Ut=fg(r,"fullDate");s=L2(O2(r,za.Full),[St,Ut])}return s&&(b_[i][n]=s),s}function L2(r,n){return n&&(r=r.replace(/\{([^}]+)}/g,function(i,s){return null!=n&&s in n?n[s]:i})),r}function Op(r,n,i="-",s,l){let p="";(r<0||l&&r<=0)&&(l?r=1-r:(r=-r,p=i));let b=String(r);for(;b.length<n;)b="0"+b;return s&&(b=b.substr(b.length-n)),p+b}function Il(r,n,i=0,s=!1,l=!1){return function(p,b){let R=function(r,n){switch(r){case Lr.FullYear:return n.getFullYear();case Lr.Month:return n.getMonth();case Lr.Date:return n.getDate();case Lr.Hours:return n.getHours();case Lr.Minutes:return n.getMinutes();case Lr.Seconds:return n.getSeconds();case Lr.FractionalSeconds:return n.getMilliseconds();case Lr.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${r}".`)}}(r,p);if((i>0||R>-i)&&(R+=i),r===Lr.Hours)0===R&&-12===i&&(R=12);else if(r===Lr.FractionalSeconds)return function(r,n){return Op(r,3).substr(0,n)}(R,n);const G=Dd(b,Ir.MinusSign);return Op(R,n,G,s,l)}}function Zs(r,n,i=fl.Format,s=!1){return function(l,p){return function(r,n,i,s,l,p){switch(i){case go.Months:return function(r,n,i){const s=Va(r),p=Ed([s[mn.MonthsFormat],s[mn.MonthsStandalone]],n);return Ed(p,i)}(n,l,s)[r.getMonth()];case go.Days:return function(r,n,i){const s=Va(r),p=Ed([s[mn.DaysFormat],s[mn.DaysStandalone]],n);return Ed(p,i)}(n,l,s)[r.getDay()];case go.DayPeriods:const b=r.getHours(),R=r.getMinutes();if(p){const ut=function(r){const n=Va(r);return mP(n),(n[mn.ExtraData][2]||[]).map(s=>"string"==typeof s?JD(s):[JD(s[0]),JD(s[1])])}(n),St=function(r,n,i){const s=Va(r);mP(s);const p=Ed([s[mn.ExtraData][0],s[mn.ExtraData][1]],n)||[];return Ed(p,i)||[]}(n,l,s),Ut=ut.findIndex(Jt=>{if(Array.isArray(Jt)){const[se,pe]=Jt,Ue=b>=se.hours&&R>=se.minutes,Ge=b<pe.hours||b===pe.hours&&R<pe.minutes;if(se.hours<pe.hours){if(Ue&&Ge)return!0}else if(Ue||Ge)return!0}else if(Jt.hours===b&&Jt.minutes===R)return!0;return!1});if(-1!==Ut)return St[Ut]}return function(r,n,i){const s=Va(r),p=Ed([s[mn.DayPeriodsFormat],s[mn.DayPeriodsStandalone]],n);return Ed(p,i)}(n,l,s)[b<12?0:1];case go.Eras:return function(r,n){return Ed(Va(r)[mn.Eras],n)}(n,s)[r.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${i}`)}}(l,p,r,n,i,s)}}function F2(r){return function(n,i,s){const l=-1*s,p=Dd(i,Ir.MinusSign),b=l>0?Math.floor(l/60):Math.ceil(l/60);switch(r){case Xl.Short:return(l>=0?"+":"")+Op(b,2,p)+Op(Math.abs(l%60),2,p);case Xl.ShortGMT:return"GMT"+(l>=0?"+":"")+Op(b,1,p);case Xl.Long:return"GMT"+(l>=0?"+":"")+Op(b,2,p)+":"+Op(Math.abs(l%60),2,p);case Xl.Extended:return 0===s?"Z":(l>=0?"+":"")+Op(b,2,p)+":"+Op(Math.abs(l%60),2,p);default:throw new Error(`Unknown zone width "${r}"`)}}}function gP(r){return N2(r.getFullYear(),r.getMonth(),r.getDate()+(4-r.getDay()))}function tE(r,n=!1){return function(i,s){let l;if(n){const p=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,b=i.getDate();l=1+Math.floor((b+p)/7)}else{const p=gP(i),b=function(r){const n=N2(r,0,1).getDay();return N2(r,0,1+(n<=4?4:11)-n)}(p.getFullYear()),R=p.getTime()-b.getTime();l=1+Math.round(R/6048e5)}return Op(l,r,Dd(s,Ir.MinusSign))}}function V2(r,n=!1){return function(i,s){return Op(gP(i).getFullYear(),r,Dd(s,Ir.MinusSign),n)}}const eE={};function vP(r,n){r=r.replace(/:/g,"");const i=Date.parse("Jan 01, 1970 00:00:00 "+r)/6e4;return isNaN(i)?n:i}function yP(r){return r instanceof Date&&!isNaN(r.valueOf())}class z2{}let O9=(()=>{class r extends z2{constructor(i){super(),this.locale=i}getPluralCategory(i,s){switch(o9(s||this.locale)(i)){case Pl.Zero:return"zero";case Pl.One:return"one";case Pl.Two:return"two";case Pl.Few:return"few";case Pl.Many:return"many";default:return"other"}}}return r.\u0275fac=function(i){return new(i||r)(pi(ug))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})();function _P(r,n){n=encodeURIComponent(n);for(const i of r.split(";")){const s=i.indexOf("="),[l,p]=-1==s?[i,""]:[i.slice(0,s),i.slice(s+1)];if(l.trim()===n)return decodeURIComponent(p)}return null}let M_=(()=>{class r{constructor(i,s,l,p){this._iterableDiffers=i,this._keyValueDiffers=s,this._ngEl=l,this._renderer=p,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(i){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof i?i.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(i){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof i?i.split(/\s+/):i,this._rawClass&&(Fv(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const i=this._iterableDiffer.diff(this._rawClass);i&&this._applyIterableChanges(i)}else if(this._keyValueDiffer){const i=this._keyValueDiffer.diff(this._rawClass);i&&this._applyKeyValueChanges(i)}}_applyKeyValueChanges(i){i.forEachAddedItem(s=>this._toggleClass(s.key,s.currentValue)),i.forEachChangedItem(s=>this._toggleClass(s.key,s.currentValue)),i.forEachRemovedItem(s=>{s.previousValue&&this._toggleClass(s.key,!1)})}_applyIterableChanges(i){i.forEachAddedItem(s=>{if("string"!=typeof s.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${bn(s.item)}`);this._toggleClass(s.item,!0)}),i.forEachRemovedItem(s=>this._toggleClass(s.item,!1))}_applyClasses(i){i&&(Array.isArray(i)||i instanceof Set?i.forEach(s=>this._toggleClass(s,!0)):Object.keys(i).forEach(s=>this._toggleClass(s,!!i[s])))}_removeClasses(i){i&&(Array.isArray(i)||i instanceof Set?i.forEach(s=>this._toggleClass(s,!1)):Object.keys(i).forEach(s=>this._toggleClass(s,!1)))}_toggleClass(i,s){(i=i.trim())&&i.split(/\s+/g).forEach(l=>{s?this._renderer.addClass(this._ngEl.nativeElement,l):this._renderer.removeClass(this._ngEl.nativeElement,l)})}}return r.\u0275fac=function(i){return new(i||r)(be(u_),be(kw),be(cr),be(lg))},r.\u0275dir=an({type:r,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),r})();class L9{constructor(n,i,s,l){this.$implicit=n,this.ngForOf=i,this.index=s,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Jv=(()=>{class r{constructor(i,s,l){this._viewContainer=i,this._template=s,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;if(!this._differ&&i)try{this._differ=this._differs.find(i).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${i}' of type '${function(r){return r.name||typeof r}(i)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const s=[];i.forEachOperation((l,p,b)=>{if(null==l.previousIndex){const R=this._viewContainer.createEmbeddedView(this._template,new L9(null,this._ngForOf,-1,-1),null===b?void 0:b),G=new MP(l,R);s.push(G)}else if(null==b)this._viewContainer.remove(null===p?void 0:p);else if(null!==p){const R=this._viewContainer.get(p);this._viewContainer.move(R,b);const G=new MP(l,R);s.push(G)}});for(let l=0;l<s.length;l++)this._perViewChange(s[l].view,s[l].record);for(let l=0,p=this._viewContainer.length;l<p;l++){const b=this._viewContainer.get(l);b.context.index=l,b.context.count=p,b.context.ngForOf=this._ngForOf}i.forEachIdentityChange(l=>{this._viewContainer.get(l.currentIndex).context.$implicit=l.item})}_perViewChange(i,s){i.context.$implicit=s.item}static ngTemplateContextGuard(i,s){return!0}}return r.\u0275fac=function(i){return new(i||r)(be(lh),be(Ef),be(u_))},r.\u0275dir=an({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),r})();class MP{constructor(n,i){this.record=n,this.view=i}}let Yh=(()=>{class r{constructor(i,s){this._viewContainer=i,this._context=new B9,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){CP("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){CP("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,s){return!0}}return r.\u0275fac=function(i){return new(i||r)(be(lh),be(Ef))},r.\u0275dir=an({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),r})();class B9{constructor(){this.$implicit=null,this.ngIf=null}}function CP(r,n){if(n&&!n.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${bn(n)}'.`)}class sE{constructor(n,i){this._viewContainerRef=n,this._templateRef=i,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let Nw=(()=>{class r{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(i){this._ngSwitch=i,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(i){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(i)}_matchCase(i){const s=i==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||s,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),s}_updateDefaultCases(i){if(this._defaultViews&&i!==this._defaultUsed){this._defaultUsed=i;for(let s=0;s<this._defaultViews.length;s++)this._defaultViews[s].enforceState(i)}}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=an({type:r,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),r})(),H2=(()=>{class r{constructor(i,s,l){this.ngSwitch=l,l._addCase(),this._view=new sE(i,s)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return r.\u0275fac=function(i){return new(i||r)(be(lh),be(Ef),be(Nw,9))},r.\u0275dir=an({type:r,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),r})(),SP=(()=>{class r{constructor(i,s,l){l._addDefault(new sE(i,s))}}return r.\u0275fac=function(i){return new(i||r)(be(lh),be(Ef),be(Nw,9))},r.\u0275dir=an({type:r,selectors:[["","ngSwitchDefault",""]]}),r})(),EP=(()=>{class r{constructor(i,s,l){this._ngEl=i,this._differs=s,this._renderer=l,this._ngStyle=null,this._differ=null}set ngStyle(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}ngDoCheck(){if(this._differ){const i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}_setStyle(i,s){const[l,p]=i.split(".");null!=(s=null!=s&&p?`${s}${p}`:s)?this._renderer.setStyle(this._ngEl.nativeElement,l,s):this._renderer.removeStyle(this._ngEl.nativeElement,l)}_applyChanges(i){i.forEachRemovedItem(s=>this._setStyle(s.key,null)),i.forEachAddedItem(s=>this._setStyle(s.key,s.currentValue)),i.forEachChangedItem(s=>this._setStyle(s.key,s.currentValue))}}return r.\u0275fac=function(i){return new(i||r)(be(cr),be(kw),be(lg))},r.\u0275dir=an({type:r,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),r})();function Np(r,n){return Error(`InvalidPipeArgument: '${n}' for pipe '${bn(r)}'`)}class z9{createSubscription(n,i){return n.subscribe({next:i,error:s=>{throw s}})}dispose(n){n.unsubscribe()}onDestroy(n){n.unsubscribe()}}class H9{createSubscription(n,i){return n.then(i,s=>{throw s})}dispose(n){}onDestroy(n){}}const U9=new H9,G9=new z9;let aE=(()=>{class r{constructor(i){this._ref=i,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(i){return this._obj?i!==this._obj?(this._dispose(),this.transform(i)):this._latestValue:(i&&this._subscribe(i),this._latestValue)}_subscribe(i){this._obj=i,this._strategy=this._selectStrategy(i),this._subscription=this._strategy.createSubscription(i,s=>this._updateLatestValue(i,s))}_selectStrategy(i){if(P0(i))return U9;if(b1(i))return G9;throw Np(r,i)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(i,s){i===this._obj&&(this._latestValue=s,this._ref.markForCheck())}}return r.\u0275fac=function(i){return new(i||r)(be(Ks,16))},r.\u0275pipe=la({name:"async",type:r,pure:!1}),r})();const K9=new un("DATE_PIPE_DEFAULT_TIMEZONE");let kP=(()=>{class r{constructor(i,s){this.locale=i,this.defaultTimezone=s}transform(i,s="mediumDate",l,p){var b;if(null==i||""===i||i!=i)return null;try{return d9(i,s,p||this.locale,null!=(b=null!=l?l:this.defaultTimezone)?b:void 0)}catch(R){throw Np(r,R.message)}}}return r.\u0275fac=function(i){return new(i||r)(be(ug,16),be(K9,24))},r.\u0275pipe=la({name:"date",type:r,pure:!0}),r})(),Lp=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({providers:[{provide:z2,useClass:O9}]}),r})();const TP="browser";function Lw(r){return r===TP}let u7=(()=>{class r{}return r.\u0275prov=Ki({token:r,providedIn:"root",factory:()=>new h7(pi(Nr),window)}),r})();class h7{constructor(n,i){this.document=n,this.window=i,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const i=function(r,n){const i=r.getElementById(n)||r.getElementsByName(n)[0];if(i)return i;if("function"==typeof r.createTreeWalker&&r.body&&(r.body.createShadowRoot||r.body.attachShadow)){const s=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let l=s.currentNode;for(;l;){const p=l.shadowRoot;if(p){const b=p.getElementById(n)||p.querySelector(`[name="${n}"]`);if(b)return b}l=s.nextNode()}}return null}(this.document,n);i&&(this.scrollToElement(i),this.attemptFocus(i))}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const i=this.window.history;i&&i.scrollRestoration&&(i.scrollRestoration=n)}}scrollToElement(n){const i=n.getBoundingClientRect(),s=i.left+this.window.pageXOffset,l=i.top+this.window.pageYOffset,p=this.offset();this.window.scrollTo(s-p[0],l-p[1])}attemptFocus(n){return n.focus(),this.document.activeElement===n}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=PP(this.window.history)||PP(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function PP(r){return Object.getOwnPropertyDescriptor(r,"scrollRestoration")}class IP{}class hE extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var r;r=new hE,T2||(T2=r)}onAndCancel(n,i,s){return n.addEventListener(i,s,!1),()=>{n.removeEventListener(i,s,!1)}}dispatchEvent(n,i){n.dispatchEvent(i)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,i){return(i=i||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,i){return"window"===i?window:"document"===i?n:"body"===i?n.body:null}getBaseHref(n){const i=(C_=C_||document.querySelector("base"),C_?C_.getAttribute("href"):null);return null==i?null:function(r){U2=U2||document.createElement("a"),U2.setAttribute("href",r);const n=U2.pathname;return"/"===n.charAt(0)?n:`/${n}`}(i)}resetBaseElement(){C_=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return _P(document.cookie,n)}}let U2,C_=null;const RP=new un("TRANSITION_ID"),g7=[{provide:a_,useFactory:function(r,n,i){return()=>{i.get(Ew).donePromise.then(()=>{const s=F0(),l=n.querySelectorAll(`style[ng-transition="${r}"]`);for(let p=0;p<l.length;p++)s.remove(l[p])})}},deps:[RP,Nr,Eo],multi:!0}];class cE{static init(){var r;r=new cE,xD=r}addToWindow(n){Br.getAngularTestability=(s,l=!0)=>{const p=n.findTestabilityInTree(s,l);if(null==p)throw new Error("Could not find testability for element.");return p},Br.getAllAngularTestabilities=()=>n.getAllTestabilities(),Br.getAllAngularRootElements=()=>n.getAllRootElements(),Br.frameworkStabilizers||(Br.frameworkStabilizers=[]),Br.frameworkStabilizers.push(s=>{const l=Br.getAllAngularTestabilities();let p=l.length,b=!1;const R=function(G){b=b||G,p--,0==p&&s(b)};l.forEach(function(G){G.whenStable(R)})})}findTestabilityInTree(n,i,s){if(null==i)return null;const l=n.getTestability(i);return null!=l?l:s?F0().isShadowRoot(i)?this.findTestabilityInTree(n,i.host,!0):this.findTestabilityInTree(n,i.parentElement,!0):null}}let v7=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})();const S_=new un("EventManagerPlugins");let W2=(()=>{class r{constructor(i,s){this._zone=s,this._eventNameToPlugin=new Map,i.forEach(l=>l.manager=this),this._plugins=i.slice().reverse()}addEventListener(i,s,l){return this._findPluginFor(s).addEventListener(i,s,l)}addGlobalEventListener(i,s,l){return this._findPluginFor(s).addGlobalEventListener(i,s,l)}getZone(){return this._zone}_findPluginFor(i){const s=this._eventNameToPlugin.get(i);if(s)return s;const l=this._plugins;for(let p=0;p<l.length;p++){const b=l[p];if(b.supports(i))return this._eventNameToPlugin.set(i,b),b}throw new Error(`No event manager plugin found for event ${i}`)}}return r.\u0275fac=function(i){return new(i||r)(pi(S_),pi(gr))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})();class fE{constructor(n){this._doc=n}addGlobalEventListener(n,i,s){const l=F0().getGlobalEventTarget(this._doc,n);if(!l)throw new Error(`Unsupported event target ${l} for event ${i}`);return this.addEventListener(l,i,s)}}let NP=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(i){const s=new Set;i.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),s.add(l))}),this.onStylesAdded(s)}onStylesAdded(i){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})(),D_=(()=>{class r extends NP{constructor(i){super(),this._doc=i,this._hostNodes=new Map,this._hostNodes.set(i.head,[])}_addStylesToHost(i,s,l){i.forEach(p=>{const b=this._doc.createElement("style");b.textContent=p,l.push(s.appendChild(b))})}addHost(i){const s=[];this._addStylesToHost(this._stylesSet,i,s),this._hostNodes.set(i,s)}removeHost(i){const s=this._hostNodes.get(i);s&&s.forEach(LP),this._hostNodes.delete(i)}onStylesAdded(i){this._hostNodes.forEach((s,l)=>{this._addStylesToHost(i,l,s)})}ngOnDestroy(){this._hostNodes.forEach(i=>i.forEach(LP))}}return r.\u0275fac=function(i){return new(i||r)(pi(Nr))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})();function LP(r){F0().remove(r)}const dE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},pE=/%COMP%/g;function Y2(r,n,i){for(let s=0;s<n.length;s++){let l=n[s];Array.isArray(l)?Y2(r,l,i):(l=l.replace(pE,r),i.push(l))}return i}function VP(r){return n=>{if("__ngUnwrap__"===n)return r;!1===r(n)&&(n.preventDefault(),n.returnValue=!1)}}let $2=(()=>{class r{constructor(i,s,l){this.eventManager=i,this.sharedStylesHost=s,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new mE(i)}createRenderer(i,s){if(!i||!s)return this.defaultRenderer;switch(s.encapsulation){case Ms.Emulated:{let l=this.rendererByCompId.get(s.id);return l||(l=new I7(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,l)),l.applyToHost(i),l}case 1:case Ms.ShadowDom:return new R7(this.eventManager,this.sharedStylesHost,i,s);default:if(!this.rendererByCompId.has(s.id)){const l=Y2(s.id,s.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(i){return new(i||r)(pi(W2),pi(D_),pi(l_))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})();class mE{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,i){return i?document.createElementNS(dE[i]||i,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,i){n.appendChild(i)}insertBefore(n,i,s){n&&n.insertBefore(i,s)}removeChild(n,i){n&&n.removeChild(i)}selectRootElement(n,i){let s="string"==typeof n?document.querySelector(n):n;if(!s)throw new Error(`The selector "${n}" did not match any elements`);return i||(s.textContent=""),s}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,i,s,l){if(l){i=l+":"+i;const p=dE[l];p?n.setAttributeNS(p,i,s):n.setAttribute(i,s)}else n.setAttribute(i,s)}removeAttribute(n,i,s){if(s){const l=dE[s];l?n.removeAttributeNS(l,i):n.removeAttribute(`${s}:${i}`)}else n.removeAttribute(i)}addClass(n,i){n.classList.add(i)}removeClass(n,i){n.classList.remove(i)}setStyle(n,i,s,l){l&(F.DashCase|F.Important)?n.style.setProperty(i,s,l&F.Important?"important":""):n.style[i]=s}removeStyle(n,i,s){s&F.DashCase?n.style.removeProperty(i):n.style[i]=""}setProperty(n,i,s){n[i]=s}setValue(n,i){n.nodeValue=i}listen(n,i,s){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,i,VP(s)):this.eventManager.addEventListener(n,i,VP(s))}}class I7 extends mE{constructor(n,i,s,l){super(n),this.component=s;const p=Y2(l+"-"+s.id,s.styles,[]);i.addStyles(p),this.contentAttr="_ngcontent-%COMP%".replace(pE,l+"-"+s.id),this.hostAttr="_nghost-%COMP%".replace(pE,l+"-"+s.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,i){const s=super.createElement(n,i);return super.setAttribute(s,this.contentAttr,""),s}}class R7 extends mE{constructor(n,i,s,l){super(n),this.sharedStylesHost=i,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const p=Y2(l.id,l.styles,[]);for(let b=0;b<p.length;b++){const R=document.createElement("style");R.textContent=p[b],this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,i){return super.appendChild(this.nodeOrShadowRoot(n),i)}insertBefore(n,i,s){return super.insertBefore(this.nodeOrShadowRoot(n),i,s)}removeChild(n,i){return super.removeChild(this.nodeOrShadowRoot(n),i)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let O7=(()=>{class r extends fE{constructor(i){super(i)}supports(i){return!0}addEventListener(i,s,l){return i.addEventListener(s,l,!1),()=>this.removeEventListener(i,s,l)}removeEventListener(i,s,l){return i.removeEventListener(s,l)}}return r.\u0275fac=function(i){return new(i||r)(pi(Nr))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})();const HP=["alt","control","meta","shift"],z7={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},UP={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},H7={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let U7=(()=>{class r extends fE{constructor(i){super(i)}supports(i){return null!=r.parseEventName(i)}addEventListener(i,s,l){const p=r.parseEventName(s),b=r.eventCallback(p.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F0().onAndCancel(i,p.domEventName,b))}static parseEventName(i){const s=i.toLowerCase().split("."),l=s.shift();if(0===s.length||"keydown"!==l&&"keyup"!==l)return null;const p=r._normalizeKey(s.pop());let b="";if(HP.forEach(G=>{const ut=s.indexOf(G);ut>-1&&(s.splice(ut,1),b+=G+".")}),b+=p,0!=s.length||0===p.length)return null;const R={};return R.domEventName=l,R.fullKey=b,R}static getEventFullKey(i){let s="",l=function(r){let n=r.key;if(null==n){if(n=r.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===r.location&&UP.hasOwnProperty(n)&&(n=UP[n]))}return z7[n]||n}(i);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),HP.forEach(p=>{p!=l&&H7[p](i)&&(s+=p+".")}),s+=l,s}static eventCallback(i,s,l){return p=>{r.getEventFullKey(p)===i&&l.runGuarded(()=>s(p))}}static _normalizeKey(i){return"esc"===i?"escape":i}}return r.\u0275fac=function(i){return new(i||r)(pi(Nr))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})(),V1=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ki({token:r,factory:function(i){let s=null;return s=i?new(i||r):pi(vE),s},providedIn:"root"}),r})(),vE=(()=>{class r extends V1{constructor(i){super(),this._doc=i}sanitize(i,s){if(null==s)return null;switch(i){case xr.NONE:return s;case xr.HTML:return Qu(s,"HTML")?ga(s):Dx(this._doc,String(s)).toString();case xr.STYLE:return Qu(s,"Style")?ga(s):s;case xr.SCRIPT:if(Qu(s,"Script"))return ga(s);throw new Error("unsafe value used in a script context");case xr.URL:return Wo(s),Qu(s,"URL")?ga(s):p0(String(s));case xr.RESOURCE_URL:if(Qu(s,"ResourceURL"))return ga(s);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${i} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(i){return function(r){return new gc(r)}(i)}bypassSecurityTrustStyle(i){return function(r){return new Ah(r)}(i)}bypassSecurityTrustScript(i){return function(r){return new Th(r)}(i)}bypassSecurityTrustUrl(i){return function(r){return new ma(r)}(i)}bypassSecurityTrustResourceUrl(i){return function(r){return new Ph(r)}(i)}}return r.\u0275fac=function(i){return new(i||r)(pi(Nr))},r.\u0275prov=Ki({token:r,factory:function(i){let s=null;return s=i?new i:function(r){return new vE(r.get(Nr))}(pi(Eo)),s},providedIn:"root"}),r})();const q7=h3(YL,"browser",[{provide:I1,useValue:TP},{provide:JT,useValue:function(){hE.makeCurrent(),cE.init()},multi:!0},{provide:Nr,useFactory:function(){return r=document,Mo=r,document;var r},deps:[]}]),Q7=[[],{provide:t1,useValue:"root"},{provide:Ur,useFactory:function(){return new Ur},deps:[]},{provide:S_,useClass:O7,multi:!0,deps:[Nr,gr,I1]},{provide:S_,useClass:U7,multi:!0,deps:[Nr]},[],{provide:$2,useClass:$2,deps:[W2,D_,l_]},{provide:A1,useExisting:$2},{provide:NP,useExisting:D_},{provide:D_,useClass:D_,deps:[Nr]},{provide:yD,useClass:yD,deps:[gr]},{provide:W2,useClass:W2,deps:[S_,gr]},{provide:IP,useClass:v7,deps:[]},[]];let GP=(()=>{class r{constructor(i){if(i)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(i){return{ngModule:r,providers:[{provide:l_,useValue:i.appId},{provide:RP,useExisting:l_},g7]}}}return r.\u0275fac=function(i){return new(i||r)(pi(r,12))},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({providers:Q7,imports:[Lp,JL]}),r})();function Yr(r){return null!=r&&"false"!=`${r}`}function ey(r,n=0){return function(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}(r)?Number(r):n}function X2(r){return Array.isArray(r)?r:[r]}function Rl(r){return null==r?"":"string"==typeof r?r:`${r}px`}function dg(r){return r instanceof cr?r.nativeElement:r}function YP(r,n=/\s+/){const i=[];if(null!=r){const s=Array.isArray(r)?r:`${r}`.split(n);for(const l of s){const p=`${l}`.trim();p&&i.push(p)}}return i}"undefined"!=typeof window&&window;const{isArray:aV}=Array,{getPrototypeOf:lV,prototype:uV,keys:hV}=Object;function $P(r){if(1===r.length){const n=r[0];if(aV(n))return{args:n,keys:null};if(function(r){return r&&"object"==typeof r&&lV(r)===uV}(n)){const i=hV(n);return{args:i.map(s=>n[s]),keys:i}}}return{args:r,keys:null}}const{isArray:fV}=Array;function xE(r){return J(n=>function(r,n){return fV(n)?r(...n):r(n)}(r,n))}function XP(r,n){return r.reduce((i,s,l)=>(i[s]=n[l],i),{})}function KP(...r){const n=Pn(r),i=ci(r),{args:s,keys:l}=$P(r);if(0===s.length)return fr([],n);const p=new y(function(r,n,i=T){return s=>{ZP(n,()=>{const{length:l}=r,p=new Array(l);let b=l,R=l;for(let G=0;G<l;G++)ZP(n,()=>{const ut=fr(r[G],n);let St=!1;ut.subscribe(new Q(s,Ut=>{p[G]=Ut,St||(St=!0,R--),R||s.next(i(p.slice()))},()=>{--b||s.complete()}))},s)},s)}}(s,n,l?b=>XP(l,b):T));return i?p.pipe(xE(i)):p}function ZP(r,n,i){r?ne(i,r,n):n()}function E_(...r){return Me(1)(fr(r,Pn(r)))}function Hs(r,n){return nt((i,s)=>{let l=0;i.subscribe(new Q(s,p=>r.call(n,p,l++)&&s.next(p)))})}function qP(r){return Hs((n,i)=>r<=i)}class gV extends D{constructor(n,i){super()}schedule(n,i=0){return this}}const K2={setInterval(...r){const{delegate:n}=K2;return((null==n?void 0:n.setInterval)||setInterval)(...r)},clearInterval(r){const{delegate:n}=K2;return((null==n?void 0:n.clearInterval)||clearInterval)(r)},delegate:void 0};class wE extends gV{constructor(n,i){super(n,i),this.scheduler=n,this.work=i,this.pending=!1}schedule(n,i=0){if(this.closed)return this;this.state=n;const s=this.id,l=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(l,s,i)),this.pending=!0,this.delay=i,this.id=this.id||this.requestAsyncId(l,this.id,i),this}requestAsyncId(n,i,s=0){return K2.setInterval(n.flush.bind(n,this),s)}recycleAsyncId(n,i,s=0){if(null!=s&&this.delay===s&&!1===this.pending)return i;K2.clearInterval(i)}execute(n,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(n,i);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,i){let l,s=!1;try{this.work(n)}catch(p){s=!0,l=p||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),l}unsubscribe(){if(!this.closed){const{id:n,scheduler:i}=this,{actions:s}=i;this.work=this.state=this.scheduler=null,this.pending=!1,ct(s,this),null!=n&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,super.unsubscribe()}}}const bE={now:()=>(bE.delegate||Date).now(),delegate:void 0};class k_{constructor(n,i=k_.now){this.schedulerActionCtor=n,this.now=i}schedule(n,i=0,s){return new this.schedulerActionCtor(this,n).schedule(s,i)}}k_.now=bE.now;class _E extends k_{constructor(n,i=k_.now){super(n,i),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:i}=this;if(this._active)return void i.push(n);let s;this._active=!0;do{if(s=n.execute(n.state,n.delay))break}while(n=i.shift());if(this._active=!1,s){for(;n=i.shift();)n.unsubscribe();throw s}}}const ME=new _E(wE),QP=ME;function Z2(r,n=ME){return nt((i,s)=>{let l=null,p=null,b=null;const R=()=>{if(l){l.unsubscribe(),l=null;const ut=p;p=null,s.next(ut)}};function G(){const ut=b+r,St=n.now();if(St<ut)return l=this.schedule(void 0,ut-St),void s.add(l);R()}i.subscribe(new Q(s,ut=>{p=ut,b=n.now(),l||(l=n.schedule(G,r),s.add(l))},()=>{R(),s.complete()},void 0,()=>{p=l=null}))})}function $h(...r){const n=Pn(r);return nt((i,s)=>{(n?E_(r,i,n):E_(r,i)).subscribe(s)})}function ls(r){return nt((n,i)=>{En(r).subscribe(new Q(i,()=>i.complete(),tt)),!i.closed&&n.subscribe(i)})}let CE;try{CE="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(r){CE=!1}let Bw,Ol=(()=>{class r{constructor(i){this._platformId=i,this.isBrowser=this._platformId?Lw(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!CE)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return r.\u0275fac=function(i){return new(i||r)(pi(I1))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Fw=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({}),r})();const JP=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function t4(){if(Bw)return Bw;if("object"!=typeof document||!document)return Bw=new Set(JP),Bw;let r=document.createElement("input");return Bw=new Set(JP.filter(n=>(r.setAttribute("type",n),r.type===n))),Bw}let A_,Q2,j1,SE,Fp;function q2(r){return function(){if(null==A_&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>A_=!0}))}finally{A_=A_||!1}return A_}()?r:!!r.capture}function e4(){if(null==j1){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return j1=!1,j1;if("scrollBehavior"in document.documentElement.style)j1=!0;else{const r=Element.prototype.scrollTo;j1=!!r&&!/\{\s*\[native code\]\s*\}/.test(r.toString())}}return j1}function T_(){if("object"!=typeof document||!document)return 0;if(null==Q2){const r=document.createElement("div"),n=r.style;r.dir="rtl",n.width="1px",n.overflow="auto",n.visibility="hidden",n.pointerEvents="none",n.position="absolute";const i=document.createElement("div"),s=i.style;s.width="2px",s.height="1px",r.appendChild(i),document.body.appendChild(r),Q2=0,0===r.scrollLeft&&(r.scrollLeft=1,Q2=0===r.scrollLeft?1:2),r.remove()}return Q2}function n4(){let r="undefined"!=typeof document&&document?document.activeElement:null;for(;r&&r.shadowRoot;){const n=r.shadowRoot.activeElement;if(n===r)break;r=n}return r}function iy(r){return r.composedPath?r.composedPath()[0]:r.target}function DE(){return void 0!==Fp.__karma__&&!!Fp.__karma__||void 0!==Fp.jasmine&&!!Fp.jasmine||void 0!==Fp.jest&&!!Fp.jest||void 0!==Fp.Mocha&&!!Fp.Mocha}Fp="undefined"!=typeof global?global:"undefined"!=typeof window?window:{};let wV=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({}),r})();const r4=new Set;let Vw,bV=(()=>{class r{constructor(i){this._platform=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):MV}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&function(r){if(!r4.has(r))try{Vw||(Vw=document.createElement("style"),Vw.setAttribute("type","text/css"),document.head.appendChild(Vw)),Vw.sheet&&(Vw.sheet.insertRule(`@media ${r} {body{ }}`,0),r4.add(r))}catch(n){console.error(n)}}(i),this._matchMedia(i)}}return r.\u0275fac=function(i){return new(i||r)(pi(Ol))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function MV(r){return{matches:"all"===r||""===r,media:r,addListener:()=>{},removeListener:()=>{}}}let o4=(()=>{class r{constructor(i,s){this._mediaMatcher=i,this._zone=s,this._queries=new Map,this._destroySubject=new C}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return s4(X2(i)).some(l=>this._registerQuery(l).mql.matches)}observe(i){let p=KP(s4(X2(i)).map(b=>this._registerQuery(b).observable));return p=E_(p.pipe(Un(1)),p.pipe(qP(1),Z2(0))),p.pipe(J(b=>{const R={matches:!1,breakpoints:{}};return b.forEach(({matches:G,query:ut})=>{R.matches=R.matches||G,R.breakpoints[ut]=G}),R}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);const s=this._mediaMatcher.matchMedia(i),p={observable:new y(b=>{const R=G=>this._zone.run(()=>b.next(G));return s.addListener(R),()=>{s.removeListener(R)}}).pipe($h(s),J(({matches:b})=>({query:i,matches:b})),ls(this._destroySubject)),mql:s};return this._queries.set(i,p),p}}return r.\u0275fac=function(i){return new(i||r)(pi(bV),pi(gr))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function s4(r){return r.map(n=>n.split(",")).reduce((n,i)=>n.concat(i)).map(n=>n.trim())}function EE(...r){const n=ci(r),{args:i,keys:s}=$P(r),l=new y(p=>{const{length:b}=i;if(!b)return void p.complete();const R=new Array(b);let G=b,ut=b;for(let St=0;St<b;St++){let Ut=!1;En(i[St]).subscribe(new Q(p,Jt=>{Ut||(Ut=!0,ut--),R[St]=Jt},()=>G--,void 0,()=>{(!G||!Ut)&&(ut||p.next(s?XP(s,R):R),p.complete())}))}});return n?l.pipe(xE(n)):l}let l4=(()=>{class r{constructor(i,s){this._renderer=i,this._elementRef=s,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(i,s){this._renderer.setProperty(this._elementRef.nativeElement,i,s)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}}return r.\u0275fac=function(i){return new(i||r)(be(lg),be(cr))},r.\u0275dir=an({type:r}),r})(),z1=(()=>{class r extends l4{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=po(r)))(s||r)}}(),r.\u0275dir=an({type:r,features:[Qn]}),r})();const Vc=new un("NgValueAccessor"),SV={provide:Vc,useExisting:Vi(()=>jw),multi:!0},EV=new un("CompositionEventMode");let jw=(()=>{class r extends l4{constructor(i,s,l){super(i,s),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const r=F0()?F0().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(i){this.setProperty("value",null==i?"":i)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}}return r.\u0275fac=function(i){return new(i||r)(be(lg),be(cr),be(EV,8))},r.\u0275dir=an({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){1&i&&e("input",function(p){return s._handleInput(p.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(p){return s._compositionEnd(p.target.value)})},features:[lo([SV]),Qn]}),r})();function ny(r){return null==r||0===r.length}function h4(r){return null!=r&&"number"==typeof r.length}const yu=new un("NgValidators"),ry=new un("NgAsyncValidators"),kV=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class zw{static min(n){return r=n,n=>{if(ny(n.value)||ny(r))return null;const i=parseFloat(n.value);return!isNaN(i)&&i<r?{min:{min:r,actual:n.value}}:null};var r}static max(n){return r=n,n=>{if(ny(n.value)||ny(r))return null;const i=parseFloat(n.value);return!isNaN(i)&&i>r?{max:{max:r,actual:n.value}}:null};var r}static required(n){return ny(n.value)?{required:!0}:null}static requiredTrue(n){return!0===n.value?null:{required:!0}}static email(n){return ny((r=n).value)||kV.test(r.value)?null:{email:!0};var r}static minLength(n){return r=n,n=>ny(n.value)||!h4(n.value)?null:n.value.length<r?{minlength:{requiredLength:r,actualLength:n.value.length}}:null;var r}static maxLength(n){return r=n,n=>h4(n.value)&&n.value.length>r?{maxlength:{requiredLength:r,actualLength:n.value.length}}:null;var r}static pattern(n){return function(r){if(!r)return pg;let n,i;return"string"==typeof r?(i="","^"!==r.charAt(0)&&(i+="^"),i+=r,"$"!==r.charAt(r.length-1)&&(i+="$"),n=new RegExp(i)):(i=r.toString(),n=r),s=>{if(ny(s.value))return null;const l=s.value;return n.test(l)?null:{pattern:{requiredPattern:i,actualValue:l}}}}(n)}static nullValidator(n){return null}static compose(n){return C4(n)}static composeAsync(n){return S4(n)}}function pg(r){return null}function x4(r){return null!=r}function w4(r){const n=P0(r)?fr(r):r;return t(n),n}function b4(r){let n={};return r.forEach(i=>{n=null!=i?wn(wn({},n),i):n}),0===Object.keys(n).length?null:n}function _4(r,n){return n.map(i=>i(r))}function M4(r){return r.map(n=>function(r){return!r.validate}(n)?n:i=>n.validate(i))}function C4(r){if(!r)return null;const n=r.filter(x4);return 0==n.length?null:function(i){return b4(_4(i,n))}}function kE(r){return null!=r?C4(M4(r)):null}function S4(r){if(!r)return null;const n=r.filter(x4);return 0==n.length?null:function(i){return EE(_4(i,n).map(w4)).pipe(J(b4))}}function AE(r){return null!=r?S4(M4(r)):null}function D4(r,n){return null===r?[n]:Array.isArray(r)?[...r,n]:[r,n]}function E4(r){return r._rawValidators}function k4(r){return r._rawAsyncValidators}function TE(r){return r?Array.isArray(r)?r:[r]:[]}function J2(r,n){return Array.isArray(r)?r.includes(n):r===n}function A4(r,n){const i=TE(n);return TE(r).forEach(l=>{J2(i,l)||i.push(l)}),i}function T4(r,n){return TE(n).filter(i=>!J2(r,i))}class P4{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=kE(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=AE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,i){return!!this.control&&this.control.hasError(n,i)}getError(n,i){return this.control?this.control.getError(n,i):null}}class Xh extends P4{get formDirective(){return null}get path(){return null}}class B0 extends P4{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class I4{constructor(n){this._cd=n}is(n){var i,s,l;return"submitted"===n?!!(null==(i=this._cd)?void 0:i.submitted):!!(null==(l=null==(s=this._cd)?void 0:s.control)?void 0:l[n])}}let P_=(()=>{class r extends I4{constructor(i){super(i)}}return r.\u0275fac=function(i){return new(i||r)(be(B0,2))},r.\u0275dir=an({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){2&i&&Dr("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[Qn]}),r})(),I_=(()=>{class r extends I4{constructor(i){super(i)}}return r.\u0275fac=function(i){return new(i||r)(be(Xh,10))},r.\u0275dir=an({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){2&i&&Dr("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[Qn]}),r})();function eC(r,n){return[...n.path,r]}function R_(r,n){RE(r,n),n.valueAccessor.writeValue(r.value),function(r,n){n.valueAccessor.registerOnChange(i=>{r._pendingValue=i,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&R4(r,n)})}(r,n),function(r,n){const i=(s,l)=>{n.valueAccessor.writeValue(s),l&&n.viewToModelUpdate(s)};r.registerOnChange(i),n._registerOnDestroy(()=>{r._unregisterOnChange(i)})}(r,n),function(r,n){n.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&R4(r,n),"submit"!==r.updateOn&&r.markAsTouched()})}(r,n),function(r,n){if(n.valueAccessor.setDisabledState){const i=s=>{n.valueAccessor.setDisabledState(s)};r.registerOnDisabledChange(i),n._registerOnDestroy(()=>{r._unregisterOnDisabledChange(i)})}}(r,n)}function iC(r,n,i=!0){const s=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(s),n.valueAccessor.registerOnTouched(s)),rC(r,n),r&&(n._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function nC(r,n){r.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(n)})}function RE(r,n){const i=E4(r);null!==n.validator?r.setValidators(D4(i,n.validator)):"function"==typeof i&&r.setValidators([i]);const s=k4(r);null!==n.asyncValidator?r.setAsyncValidators(D4(s,n.asyncValidator)):"function"==typeof s&&r.setAsyncValidators([s]);const l=()=>r.updateValueAndValidity();nC(n._rawValidators,l),nC(n._rawAsyncValidators,l)}function rC(r,n){let i=!1;if(null!==r){if(null!==n.validator){const l=E4(r);if(Array.isArray(l)&&l.length>0){const p=l.filter(b=>b!==n.validator);p.length!==l.length&&(i=!0,r.setValidators(p))}}if(null!==n.asyncValidator){const l=k4(r);if(Array.isArray(l)&&l.length>0){const p=l.filter(b=>b!==n.asyncValidator);p.length!==l.length&&(i=!0,r.setAsyncValidators(p))}}}const s=()=>{};return nC(n._rawValidators,s),nC(n._rawAsyncValidators,s),i}function R4(r,n){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function O4(r,n){RE(r,n)}function N4(r,n){r._syncPendingControls(),n.forEach(i=>{const s=i.control;"submit"===s.updateOn&&s._pendingChange&&(i.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function oC(r,n){const i=r.indexOf(n);i>-1&&r.splice(i,1)}const O_="VALID",sC="INVALID",Hw="PENDING",N_="DISABLED";function LE(r){return(BE(r)?r.validators:r)||null}function L4(r){return Array.isArray(r)?kE(r):r||null}function FE(r,n){return(BE(n)?n.asyncValidators:r)||null}function F4(r){return Array.isArray(r)?AE(r):r||null}function BE(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}class VE{constructor(n,i){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=i,this._composedValidatorFn=L4(this._rawValidators),this._composedAsyncValidatorFn=F4(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===O_}get invalid(){return this.status===sC}get pending(){return this.status==Hw}get disabled(){return this.status===N_}get enabled(){return this.status!==N_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=L4(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=F4(n)}addValidators(n){this.setValidators(A4(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(A4(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(T4(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(T4(n,this._rawAsyncValidators))}hasValidator(n){return J2(this._rawValidators,n)}hasAsyncValidator(n){return J2(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Hw,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const i=this._parentMarkedDirty(n.onlySelf);this.status=N_,this.errors=null,this._forEachChild(s=>{s.disable(Fl(wn({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Fl(wn({},n),{skipPristineCheck:i})),this._onDisabledChange.forEach(s=>s(!0))}enable(n={}){const i=this._parentMarkedDirty(n.onlySelf);this.status=O_,this._forEachChild(s=>{s.enable(Fl(wn({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Fl(wn({},n),{skipPristineCheck:i})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===O_||this.status===Hw)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?N_:O_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Hw,this._hasOwnPendingAsyncValidator=!0;const i=w4(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,i={}){this.errors=n,this._updateControlsErrors(!1!==i.emitEvent)}get(n){return function(r,n,i){if(null==n||(Array.isArray(n)||(n=n.split(".")),Array.isArray(n)&&0===n.length))return null;let s=r;return n.forEach(l=>{s=s instanceof oy?s.controls.hasOwnProperty(l)?s.controls[l]:null:s instanceof B4&&s.at(l)||null}),s}(this,n)}getError(n,i){const s=i?this.get(i):this;return s&&s.errors?s.errors[n]:null}hasError(n,i){return!!this.getError(n,i)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new xn,this.statusChanges=new xn}_calculateStatus(){return this._allControlsDisabled()?N_:this.errors?sC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hw)?Hw:this._anyControlsHaveStatus(sC)?sC:O_}_anyControlsHaveStatus(n){return this._anyControls(i=>i.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){BE(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ns extends VE{constructor(n=null,i,s){super(LE(i),FE(s,i)),this._onChange=[],this._applyFormState(n),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(n,i={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(n,i={}){this.setValue(n,i)}reset(n=null,i={}){this._applyFormState(n),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){oC(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){oC(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class oy extends VE{constructor(n,i,s){super(LE(i),FE(s,i)),this.controls=n,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,i){return this.controls[n]?this.controls[n]:(this.controls[n]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(n,i,s={}){this.registerControl(n,i),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(n,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(n,i,s={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],i&&this.registerControl(n,i),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,i={}){this._checkAllValuesPresent(n),Object.keys(n).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(n[s],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(n,i={}){null!=n&&(Object.keys(n).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(n[s],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(n={},i={}){this._forEachChild((s,l)=>{s.reset(n[l],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(n,i,s)=>(n[s]=i instanceof ns?i.value:i.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(i,s)=>!!s._syncPendingControls()||i);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error(`Cannot find form control with name: ${n}.`)}_forEachChild(n){Object.keys(this.controls).forEach(i=>{const s=this.controls[i];s&&n(s,i)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const i of Object.keys(this.controls)){const s=this.controls[i];if(this.contains(i)&&n(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,i,s)=>((i.enabled||this.disabled)&&(n[s]=i.value),n))}_reduceChildren(n,i){let s=n;return this._forEachChild((l,p)=>{s=i(s,l,p)}),s}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(n){this._forEachChild((i,s)=>{if(void 0===n[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class B4 extends VE{constructor(n,i,s){super(LE(i),FE(s,i)),this.controls=n,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,i={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(n,i,s={}){this.controls.splice(n,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(n,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(n,i,s={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),i&&(this.controls.splice(n,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,i={}){this._checkAllValuesPresent(n),n.forEach((s,l)=>{this._throwIfControlMissing(l),this.at(l).setValue(s,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(n,i={}){null!=n&&(n.forEach((s,l)=>{this.at(l)&&this.at(l).patchValue(s,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(n=[],i={}){this._forEachChild((s,l)=>{s.reset(n[l],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(n=>n instanceof ns?n.value:n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((i,s)=>!!s._syncPendingControls()||i,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error(`Cannot find form control at index ${n}`)}_forEachChild(n){this.controls.forEach((i,s)=>{n(i,s)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(i=>i.enabled&&n(i))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_checkAllValuesPresent(n){this._forEachChild((i,s)=>{if(void 0===n[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}const zV={provide:Xh,useExisting:Vi(()=>F_)},L_=(()=>Promise.resolve(null))();let F_=(()=>{class r extends Xh{constructor(i,s){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new xn,this.form=new oy({},kE(i),AE(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){L_.then(()=>{const s=this._findContainer(i.path);i.control=s.registerControl(i.name,i.control),R_(i.control,i),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){L_.then(()=>{const s=this._findContainer(i.path);s&&s.removeControl(i.name),oC(this._directives,i)})}addFormGroup(i){L_.then(()=>{const s=this._findContainer(i.path),l=new oy({});O4(l,i),s.registerControl(i.name,l),l.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){L_.then(()=>{const s=this._findContainer(i.path);s&&s.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,s){L_.then(()=>{this.form.get(i.path).setValue(s)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,N4(this.form,this._directives),this.ngSubmit.emit(i),!1}onReset(){this.resetForm()}resetForm(i){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}}return r.\u0275fac=function(i){return new(i||r)(be(yu,10),be(ry,10))},r.\u0275dir=an({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){1&i&&e("submit",function(p){return s.onSubmit(p)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[lo([zV]),Qn]}),r})(),V4=(()=>{class r extends Xh{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return eC(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=po(r)))(s||r)}}(),r.\u0275dir=an({type:r,features:[Qn]}),r})(),B_=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=an({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),r})();const GV={provide:Vc,useExisting:Vi(()=>jE),multi:!0};let jE=(()=>{class r extends z1{writeValue(i){this.setProperty("value",null==i?"":i)}registerOnChange(i){this.onChange=s=>{i(""==s?null:parseFloat(s))}}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=po(r)))(s||r)}}(),r.\u0275dir=an({type:r,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){1&i&&e("input",function(p){return s.onChange(p.target.value)})("blur",function(){return s.onTouched()})},features:[lo([GV]),Qn]}),r})(),U4=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({}),r})();const zE=new un("NgModelWithFormControlWarning"),KV={provide:Xh,useExisting:Vi(()=>mg)};let mg=(()=>{class r extends Xh{constructor(i,s){super(),this.validators=i,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new xn,this._setValidators(i),this._setAsyncValidators(s)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(rC(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){const s=this.form.get(i.path);return R_(s,i),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),s}getControl(i){return this.form.get(i.path)}removeControl(i){iC(i.control||null,i,!1),oC(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,s){this.form.get(i.path).setValue(s)}onSubmit(i){return this.submitted=!0,N4(this.form,this.directives),this.ngSubmit.emit(i),!1}onReset(){this.resetForm()}resetForm(i){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{const s=i.control,l=this.form.get(i.path);s!==l&&(iC(s||null,i),l instanceof ns&&(R_(l,i),i.control=l))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){const s=this.form.get(i.path);O4(s,i),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){const s=this.form.get(i.path);s&&function(r,n){return rC(r,n)}(s,i)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){RE(this.form,this),this._oldForm&&rC(this._oldForm,this)}_checkFormPresent(){}}return r.\u0275fac=function(i){return new(i||r)(be(yu,10),be(ry,10))},r.\u0275dir=an({type:r,selectors:[["","formGroup",""]],hostBindings:function(i,s){1&i&&e("submit",function(p){return s.onSubmit(p)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[lo([KV]),Qn,Hr]}),r})();const ZV={provide:Xh,useExisting:Vi(()=>aC)};let aC=(()=>{class r extends V4{constructor(i,s,l){super(),this._parent=i,this._setValidators(s),this._setAsyncValidators(l)}_checkParentType(){$4(this._parent)}}return r.\u0275fac=function(i){return new(i||r)(be(Xh,13),be(yu,10),be(ry,10))},r.\u0275dir=an({type:r,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[lo([ZV]),Qn]}),r})();const qV={provide:Xh,useExisting:Vi(()=>lC)};let lC=(()=>{class r extends Xh{constructor(i,s,l){super(),this._parent=i,this._setValidators(s),this._setAsyncValidators(l)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return eC(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){$4(this._parent)}}return r.\u0275fac=function(i){return new(i||r)(be(Xh,13),be(yu,10),be(ry,10))},r.\u0275dir=an({type:r,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[lo([qV]),Qn]}),r})();function $4(r){return!(r instanceof aC||r instanceof mg||r instanceof lC)}const QV={provide:B0,useExisting:Vi(()=>Uw)};let Uw=(()=>{class r extends B0{constructor(i,s,l,p,b){super(),this._ngModelWarningConfig=b,this._added=!1,this.update=new xn,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(s),this._setAsyncValidators(l),this.valueAccessor=function(r,n){if(!n)return null;let i,s,l;return Array.isArray(n),n.forEach(p=>{p.constructor===jw?i=p:function(r){return Object.getPrototypeOf(r.constructor)===z1}(p)?s=p:l=p}),l||s||i||null}(0,p)}set isDisabled(i){}ngOnChanges(i){this._added||this._setUpControl(),function(r,n){if(!r.hasOwnProperty("model"))return!1;const i=r.model;return!!i.isFirstChange()||!Object.is(n,i.currentValue)}(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return eC(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return r._ngModelWarningSentOnce=!1,r.\u0275fac=function(i){return new(i||r)(be(Xh,13),be(yu,10),be(ry,10),be(Vc,10),be(zE,8))},r.\u0275dir=an({type:r,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[lo([QV]),Qn,Hr]}),r})(),dj=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({imports:[[U4]]}),r})(),pj=(()=>{class r{static withConfig(i){return{ngModule:r,providers:[{provide:zE,useValue:i.warnOnNgModelWithFormControl}]}}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({imports:[dj]}),r})();class Kh extends C{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const i=super._subscribe(n);return!i.closed&&n.next(this._value),i}getValue(){const{hasError:n,thrownError:i,_value:s}=this;if(n)throw i;return this._throwIfClosed(),s}next(n){super.next(this._value=n)}}function vr(...r){return fr(r,Pn(r))}function Zh(r,...n){return n.length?n.some(i=>r[i]):r.altKey||r.shiftKey||r.ctrlKey||r.metaKey}function Nl(r,n,i){const s=Tt(r)||n||i?{next:r,error:n,complete:i}:r;return s?nt((l,p)=>{var b;null===(b=s.subscribe)||void 0===b||b.call(s);let R=!0;l.subscribe(new Q(p,G=>{var ut;null===(ut=s.next)||void 0===ut||ut.call(s,G),p.next(G)},()=>{var G;R=!1,null===(G=s.complete)||void 0===G||G.call(s),p.complete()},G=>{var ut;R=!1,null===(ut=s.error)||void 0===ut||ut.call(s,G),p.error(G)},()=>{var G,ut;R&&(null===(G=s.unsubscribe)||void 0===G||G.call(s)),null===(ut=s.finalize)||void 0===ut||ut.call(s)}))}):T}function cC(r,n=T){return r=null!=r?r:Mj,nt((i,s)=>{let l,p=!0;i.subscribe(new Q(s,b=>{const R=n(b);(p||!r(l,R))&&(p=!1,l=R,s.next(b))}))})}function Mj(r,n){return r===n}let s6=(()=>{class r{create(i){return"undefined"==typeof MutationObserver?null:new MutationObserver(i)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),a6=(()=>{class r{constructor(i){this._mutationObserverFactory=i,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((i,s)=>this._cleanupObserver(s))}observe(i){const s=dg(i);return new y(l=>{const b=this._observeElement(s).subscribe(l);return()=>{b.unsubscribe(),this._unobserveElement(s)}})}_observeElement(i){if(this._observedElements.has(i))this._observedElements.get(i).count++;else{const s=new C,l=this._mutationObserverFactory.create(p=>s.next(p));l&&l.observe(i,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(i,{observer:l,stream:s,count:1})}return this._observedElements.get(i).stream}_unobserveElement(i){this._observedElements.has(i)&&(this._observedElements.get(i).count--,this._observedElements.get(i).count||this._cleanupObserver(i))}_cleanupObserver(i){if(this._observedElements.has(i)){const{observer:s,stream:l}=this._observedElements.get(i);s&&s.disconnect(),l.complete(),this._observedElements.delete(i)}}}return r.\u0275fac=function(i){return new(i||r)(pi(s6))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),l6=(()=>{class r{constructor(i,s,l){this._contentObserver=i,this._elementRef=s,this._ngZone=l,this.event=new xn,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(i){this._disabled=Yr(i),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(i){this._debounce=ey(i),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const i=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?i.pipe(Z2(this.debounce)):i).subscribe(this.event)})}_unsubscribe(){var i;null==(i=this._currentSubscription)||i.unsubscribe()}}return r.\u0275fac=function(i){return new(i||r)(be(a6),be(cr),be(gr))},r.\u0275dir=an({type:r,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),r})(),KE=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({providers:[s6]}),r})();class f6 extends class{constructor(n){this._items=n,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new C,this._typeaheadSubscription=D.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=i=>i.disabled,this._pressedLetters=[],this.tabOut=new C,this.change=new C,n instanceof P1&&n.changes.subscribe(i=>{if(this._activeItem){const l=i.toArray().indexOf(this._activeItem);l>-1&&l!==this._activeItemIndex&&(this._activeItemIndex=l)}})}skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Nl(i=>this._pressedLetters.push(i)),Z2(n),Hs(()=>this._pressedLetters.length>0),J(()=>this._pressedLetters.join(""))).subscribe(i=>{const s=this._getItemsArray();for(let l=1;l<s.length+1;l++){const p=(this._activeItemIndex+l)%s.length,b=s[p];if(!this._skipPredicateFn(b)&&0===b.getLabel().toUpperCase().trim().indexOf(i)){this.setActiveItem(p);break}}this._pressedLetters=[]}),this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}setActiveItem(n){const i=this._activeItem;this.updateActiveItem(n),this._activeItem!==i&&this.change.next(this._activeItemIndex)}onKeydown(n){const i=n.keyCode,l=["altKey","ctrlKey","metaKey","shiftKey"].every(p=>!n[p]||this._allowedModifierKeys.indexOf(p)>-1);switch(i){case 9:return void this.tabOut.next();case 40:if(this._vertical&&l){this.setNextItemActive();break}return;case 38:if(this._vertical&&l){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&l){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&l){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&l){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&l){this.setLastItemActive();break}return;default:return void((l||Zh(n,"shiftKey"))&&(n.key&&1===n.key.length?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(i>=65&&i<=90||i>=48&&i<=57)&&this._letterKeyStream.next(String.fromCharCode(i))))}this._pressedLetters=[],n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){const i=this._getItemsArray(),s="number"==typeof n?n:i.indexOf(n),l=i[s];this._activeItem=null==l?null:l,this._activeItemIndex=s}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){const i=this._getItemsArray();for(let s=1;s<=i.length;s++){const l=(this._activeItemIndex+n*s+i.length)%i.length;if(!this._skipPredicateFn(i[l]))return void this.setActiveItem(l)}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,i){const s=this._getItemsArray();if(s[n]){for(;this._skipPredicateFn(s[n]);)if(!s[n+=i])return;this.setActiveItem(n)}}_getItemsArray(){return this._items instanceof P1?this._items.toArray():this._items}}{setActiveItem(n){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(n),this.activeItem&&this.activeItem.setActiveStyles()}}let d6=(()=>{class r{constructor(i){this._platform=i}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return function(r){return!!(r.offsetWidth||r.offsetHeight||"function"==typeof r.getClientRects&&r.getClientRects().length)}(i)&&"visible"===getComputedStyle(i).visibility}isTabbable(i){if(!this._platform.isBrowser)return!1;const s=function(r){try{return r.frameElement}catch(n){return null}}(function(r){return r.ownerDocument&&r.ownerDocument.defaultView||window}(i));if(s&&(-1===m6(s)||!this.isVisible(s)))return!1;let l=i.nodeName.toLowerCase(),p=m6(i);return i.hasAttribute("contenteditable")?-1!==p:!("iframe"===l||"object"===l||this._platform.WEBKIT&&this._platform.IOS&&!function(r){let n=r.nodeName.toLowerCase(),i="input"===n&&r.type;return"text"===i||"password"===i||"select"===n||"textarea"===n}(i))&&("audio"===l?!!i.hasAttribute("controls")&&-1!==p:"video"===l?-1!==p&&(null!==p||this._platform.FIREFOX||i.hasAttribute("controls")):i.tabIndex>=0)}isFocusable(i,s){return function(r){return!function(r){return function(r){return"input"==r.nodeName.toLowerCase()}(r)&&"hidden"==r.type}(r)&&(function(r){let n=r.nodeName.toLowerCase();return"input"===n||"select"===n||"button"===n||"textarea"===n}(r)||function(r){return function(r){return"a"==r.nodeName.toLowerCase()}(r)&&r.hasAttribute("href")}(r)||r.hasAttribute("contenteditable")||p6(r))}(i)&&!this.isDisabled(i)&&((null==s?void 0:s.ignoreVisibility)||this.isVisible(i))}}return r.\u0275fac=function(i){return new(i||r)(pi(Ol))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function p6(r){if(!r.hasAttribute("tabindex")||void 0===r.tabIndex)return!1;let n=r.getAttribute("tabindex");return!(!n||isNaN(parseInt(n,10)))}function m6(r){if(!p6(r))return null;const n=parseInt(r.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}class Fj{constructor(n,i,s,l,p=!1){this._element=n,this._checker=i,this._ngZone=s,this._document=l,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,p||this.attachAnchors()}get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}destroy(){const n=this._startAnchor,i=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.remove()),i&&(i.removeEventListener("focus",this.endAnchorListener),i.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){let i=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);for(let s=0;s<i.length;s++)i[s].hasAttribute(`cdk-focus-${n}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${n}', use 'cdkFocusRegion${n}' instead. The deprecated attribute will be removed in 8.0.0.`,i[s]):i[s].hasAttribute(`cdk-focus-region-${n}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${n}', use 'cdkFocusRegion${n}' instead. The deprecated attribute will be removed in 8.0.0.`,i[s]);return"start"==n?i.length?i[0]:this._getFirstTabbableElement(this._element):i.length?i[i.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){const i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(i.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",i),!this._checker.isFocusable(i)){const s=this._getFirstTabbableElement(i);return null==s||s.focus(n),!!s}return i.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){const i=this._getRegionBoundary("start");return i&&i.focus(n),!!i}focusLastTabbableElement(n){const i=this._getRegionBoundary("end");return i&&i.focus(n),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const i=n.children;for(let s=0;s<i.length;s++){const l=i[s].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(i[s]):null;if(l)return l}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const i=n.children;for(let s=i.length-1;s>=0;s--){const l=i[s].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(i[s]):null;if(l)return l}return null}_createAnchor(){const n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,i){n?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._ngZone.isStable?n():this._ngZone.onStable.pipe(Un(1)).subscribe(n)}}let g6=(()=>{class r{constructor(i,s,l){this._checker=i,this._ngZone=s,this._document=l}create(i,s=!1){return new Fj(i,this._checker,this._ngZone,this._document,s)}}return r.\u0275fac=function(i){return new(i||r)(pi(d6),pi(gr),pi(Nr))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Bj=(()=>{class r{constructor(i,s,l){this._elementRef=i,this._focusTrapFactory=s,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(i){this.focusTrap.enabled=Yr(i)}get autoCapture(){return this._autoCapture}set autoCapture(i){this._autoCapture=Yr(i)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(i){const s=i.autoCapture;s&&!s.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=n4(),this.focusTrap.focusInitialElementWhenReady()}}return r.\u0275fac=function(i){return new(i||r)(be(cr),be(g6),be(Nr))},r.\u0275dir=an({type:r,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[Hr]}),r})();function v6(r){return 0===r.offsetX&&0===r.offsetY}function y6(r){const n=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const Vj=new un("cdk-input-modality-detector-options"),jj={ignoreKeys:[18,17,224,91,16]},Ww=q2({passive:!0,capture:!0});let zj=(()=>{class r{constructor(i,s,l,p){this._platform=i,this._mostRecentTarget=null,this._modality=new Kh(null),this._lastTouchMs=0,this._onKeydown=b=>{var R,G;(null==(G=null==(R=this._options)?void 0:R.ignoreKeys)?void 0:G.some(ut=>ut===b.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=iy(b))},this._onMousedown=b=>{Date.now()-this._lastTouchMs<650||(this._modality.next(v6(b)?"keyboard":"mouse"),this._mostRecentTarget=iy(b))},this._onTouchstart=b=>{y6(b)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=iy(b))},this._options=wn(wn({},jj),p),this.modalityDetected=this._modality.pipe(qP(1)),this.modalityChanged=this.modalityDetected.pipe(cC()),i.isBrowser&&s.runOutsideAngular(()=>{l.addEventListener("keydown",this._onKeydown,Ww),l.addEventListener("mousedown",this._onMousedown,Ww),l.addEventListener("touchstart",this._onTouchstart,Ww)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ww),document.removeEventListener("mousedown",this._onMousedown,Ww),document.removeEventListener("touchstart",this._onTouchstart,Ww))}}return r.\u0275fac=function(i){return new(i||r)(pi(Ol),pi(gr),pi(Nr),pi(Vj,8))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Hj=new un("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Gj=new un("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let ZE=(()=>{class r{constructor(i,s,l,p){this._ngZone=s,this._defaultOptions=p,this._document=l,this._liveElement=i||this._createLiveElement()}announce(i,...s){const l=this._defaultOptions;let p,b;return 1===s.length&&"number"==typeof s[0]?b=s[0]:[p,b]=s,this.clear(),clearTimeout(this._previousTimeout),p||(p=l&&l.politeness?l.politeness:"polite"),null==b&&l&&(b=l.duration),this._liveElement.setAttribute("aria-live",p),this._ngZone.runOutsideAngular(()=>new Promise(R=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=i,R(),"number"==typeof b&&(this._previousTimeout=setTimeout(()=>this.clear(),b))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var i;clearTimeout(this._previousTimeout),null==(i=this._liveElement)||i.remove(),this._liveElement=null}_createLiveElement(){const i="cdk-live-announcer-element",s=this._document.getElementsByClassName(i),l=this._document.createElement("div");for(let p=0;p<s.length;p++)s[p].remove();return l.classList.add(i),l.classList.add("cdk-visually-hidden"),l.setAttribute("aria-atomic","true"),l.setAttribute("aria-live","polite"),this._document.body.appendChild(l),l}}return r.\u0275fac=function(i){return new(i||r)(pi(Hj,8),pi(gr),pi(Nr),pi(Gj,8))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Wj=(()=>{class r{constructor(i,s,l,p){this._elementRef=i,this._liveAnnouncer=s,this._contentObserver=l,this._ngZone=p,this._politeness="polite"}get politeness(){return this._politeness}set politeness(i){this._politeness="off"===i||"assertive"===i?i:"polite","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const s=this._elementRef.nativeElement.textContent;s!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(s,this._politeness),this._previousAnnouncedText=s)})))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return r.\u0275fac=function(i){return new(i||r)(be(cr),be(ZE),be(a6),be(gr))},r.\u0275dir=an({type:r,selectors:[["","cdkAriaLive",""]],inputs:{politeness:["cdkAriaLive","politeness"]},exportAs:["cdkAriaLive"]}),r})();const Yj=new un("cdk-focus-monitor-default-options"),fC=q2({passive:!0,capture:!0});let Yw=(()=>{class r{constructor(i,s,l,p,b){this._ngZone=i,this._platform=s,this._inputModalityDetector=l,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new C,this._rootNodeFocusAndBlurListener=R=>{const G=iy(R),ut="focus"===R.type?this._onFocus:this._onBlur;for(let St=G;St;St=St.parentElement)ut.call(this,R,St)},this._document=p,this._detectionMode=(null==b?void 0:b.detectionMode)||0}monitor(i,s=!1){const l=dg(i);if(!this._platform.isBrowser||1!==l.nodeType)return vr(null);const p=function(r){if(function(){if(null==SE){const r="undefined"!=typeof document?document.head:null;SE=!(!r||!r.createShadowRoot&&!r.attachShadow)}return SE}()){const n=r.getRootNode?r.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}(l)||this._getDocument(),b=this._elementInfo.get(l);if(b)return s&&(b.checkChildren=!0),b.subject;const R={checkChildren:s,subject:new C,rootNode:p};return this._elementInfo.set(l,R),this._registerGlobalListeners(R),R.subject}stopMonitoring(i){const s=dg(i),l=this._elementInfo.get(s);l&&(l.subject.complete(),this._setClasses(s),this._elementInfo.delete(s),this._removeGlobalListeners(l))}focusVia(i,s,l){const p=dg(i);p===this._getDocument().activeElement?this._getClosestElementsInfo(p).forEach(([R,G])=>this._originChanged(R,s,G)):(this._setOrigin(s),"function"==typeof p.focus&&p.focus(l))}ngOnDestroy(){this._elementInfo.forEach((i,s)=>this.stopMonitoring(s))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(i){return 1===this._detectionMode||!!(null==i?void 0:i.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(i,s){i.classList.toggle("cdk-focused",!!s),i.classList.toggle("cdk-touch-focused","touch"===s),i.classList.toggle("cdk-keyboard-focused","keyboard"===s),i.classList.toggle("cdk-mouse-focused","mouse"===s),i.classList.toggle("cdk-program-focused","program"===s)}_setOrigin(i,s=!1){this._ngZone.runOutsideAngular(()=>{this._origin=i,this._originFromTouchInteraction="touch"===i&&s,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(i,s){const l=this._elementInfo.get(s),p=iy(i);!l||!l.checkChildren&&s!==p||this._originChanged(s,this._getFocusOrigin(p),l)}_onBlur(i,s){const l=this._elementInfo.get(s);!l||l.checkChildren&&i.relatedTarget instanceof Node&&s.contains(i.relatedTarget)||(this._setClasses(s),this._emitOrigin(l.subject,null))}_emitOrigin(i,s){this._ngZone.run(()=>i.next(s))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;const s=i.rootNode,l=this._rootNodeFocusListenerCount.get(s)||0;l||this._ngZone.runOutsideAngular(()=>{s.addEventListener("focus",this._rootNodeFocusAndBlurListener,fC),s.addEventListener("blur",this._rootNodeFocusAndBlurListener,fC)}),this._rootNodeFocusListenerCount.set(s,l+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ls(this._stopInputModalityDetector)).subscribe(p=>{this._setOrigin(p,!0)}))}_removeGlobalListeners(i){const s=i.rootNode;if(this._rootNodeFocusListenerCount.has(s)){const l=this._rootNodeFocusListenerCount.get(s);l>1?this._rootNodeFocusListenerCount.set(s,l-1):(s.removeEventListener("focus",this._rootNodeFocusAndBlurListener,fC),s.removeEventListener("blur",this._rootNodeFocusAndBlurListener,fC),this._rootNodeFocusListenerCount.delete(s))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,s,l){this._setClasses(i,s),this._emitOrigin(l.subject,s),this._lastFocusOrigin=s}_getClosestElementsInfo(i){const s=[];return this._elementInfo.forEach((l,p)=>{(p===i||l.checkChildren&&p.contains(i))&&s.push([p,l])}),s}}return r.\u0275fac=function(i){return new(i||r)(pi(gr),pi(Ol),pi(zj),pi(Nr,8),pi(Yj,8))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),$j=(()=>{class r{constructor(i,s){this._elementRef=i,this._focusMonitor=s,this.cdkFocusChange=new xn}ngAfterViewInit(){const i=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(i,1===i.nodeType&&i.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(s=>this.cdkFocusChange.emit(s))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return r.\u0275fac=function(i){return new(i||r)(be(cr),be(Yw))},r.\u0275dir=an({type:r,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),r})();const w6="cdk-high-contrast-black-on-white",b6="cdk-high-contrast-white-on-black",qE="cdk-high-contrast-active";let _6=(()=>{class r{constructor(i,s){this._platform=i,this._document=s}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);const s=this._document.defaultView||window,l=s&&s.getComputedStyle?s.getComputedStyle(i):null,p=(l&&l.backgroundColor||"").replace(/ /g,"");switch(i.remove(),p){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const i=this._document.body.classList;i.remove(qE),i.remove(w6),i.remove(b6),this._hasCheckedHighContrastMode=!0;const s=this.getHighContrastMode();1===s?(i.add(qE),i.add(w6)):2===s&&(i.add(qE),i.add(b6))}}}return r.\u0275fac=function(i){return new(i||r)(pi(Ol),pi(Nr))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Xj=(()=>{class r{constructor(i){i._applyBodyHighContrastModeCssClasses()}}return r.\u0275fac=function(i){return new(i||r)(pi(_6))},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({imports:[[Fw,KE]]}),r})();const Kj=new un("cdk-dir-doc",{providedIn:"root",factory:function(){return Iu(Nr)}});let Vp=(()=>{class r{constructor(i){if(this.value="ltr",this.change=new xn,i){const l=i.documentElement?i.documentElement.dir:null,p=(i.body?i.body.dir:null)||l;this.value="ltr"===p||"rtl"===p?p:"ltr"}}ngOnDestroy(){this.change.complete()}}return r.\u0275fac=function(i){return new(i||r)(pi(Kj,8))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),z_=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({}),r})();const M6=new Zv("13.0.0");class C6{}const vg="*";function yg(r,n){return{type:7,name:r,definitions:n,options:{}}}function kf(r,n=null){return{type:4,styles:n,timings:r}}function S6(r,n=null){return{type:2,steps:r,options:n}}function Ma(r){return{type:6,styles:r,offset:null}}function jc(r,n,i){return{type:0,name:r,styles:n,options:i}}function D6(r){return{type:5,steps:r}}function zc(r,n,i=null){return{type:1,expr:r,animation:n,options:i}}function Qj(r=null){return{type:9,options:r}}function Jj(r,n,i=null){return{type:11,selector:r,animation:n,options:i}}function E6(r){Promise.resolve(null).then(r)}class $w{constructor(n=0,i=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+i}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){E6(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const i="start"==n?this._onStartFns:this._onDoneFns;i.forEach(s=>s()),i.length=0}}class k6{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let i=0,s=0,l=0;const p=this.players.length;0==p?E6(()=>this._onFinish()):this.players.forEach(b=>{b.onDone(()=>{++i==p&&this._onFinish()}),b.onDestroy(()=>{++s==p&&this._onDestroy()}),b.onStart(()=>{++l==p&&this._onStart()})}),this.totalTime=this.players.reduce((b,R)=>Math.max(b,R.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const i=n*this.totalTime;this.players.forEach(s=>{const l=s.totalTime?Math.min(1,i/s.totalTime):1;s.setPosition(l)})}getPosition(){const n=this.players.reduce((i,s)=>null===i||s.totalTime>i.totalTime?s:i,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const i="start"==n?this._onStartFns:this._onDoneFns;i.forEach(s=>s()),i.length=0}}function A6(){return"undefined"!=typeof window&&void 0!==window.document}function JE(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function sy(r){switch(r.length){case 0:return new $w;case 1:return r[0];default:return new k6(r)}}function T6(r,n,i,s,l={},p={}){const b=[],R=[];let G=-1,ut=null;if(s.forEach(St=>{const Ut=St.offset,Jt=Ut==G,se=Jt&&ut||{};Object.keys(St).forEach(pe=>{let Ue=pe,Ge=St[pe];if("offset"!==pe)switch(Ue=n.normalizePropertyName(Ue,b),Ge){case"!":Ge=l[pe];break;case vg:Ge=p[pe];break;default:Ge=n.normalizeStyleValue(pe,Ue,Ge,b)}se[Ue]=Ge}),Jt||R.push(se),ut=se,G=Ut}),b.length){const St="\n - ";throw new Error(`Unable to animate due to the following errors:${St}${b.join(St)}`)}return R}function tk(r,n,i,s){switch(n){case"start":r.onStart(()=>s(i&&ek(i,"start",r)));break;case"done":r.onDone(()=>s(i&&ek(i,"done",r)));break;case"destroy":r.onDestroy(()=>s(i&&ek(i,"destroy",r)))}}function ek(r,n,i){const s=i.totalTime,p=ik(r.element,r.triggerName,r.fromState,r.toState,n||r.phaseName,null==s?r.totalTime:s,!!i.disabled),b=r._data;return null!=b&&(p._data=b),p}function ik(r,n,i,s,l="",p=0,b){return{element:r,triggerName:n,fromState:i,toState:s,phaseName:l,totalTime:p,disabled:!!b}}function Af(r,n,i){let s;return r instanceof Map?(s=r.get(n),s||r.set(n,s=i)):(s=r[n],s||(s=r[n]=i)),s}function P6(r){const n=r.indexOf(":");return[r.substring(1,n),r.substr(n+1)]}let nk=(r,n)=>!1,rk=(r,n)=>!1,I6=(r,n,i)=>[];const R6=JE();(R6||"undefined"!=typeof Element)&&(nk=A6()?(r,n)=>{for(;n&&n!==document.documentElement;){if(n===r)return!0;n=n.parentNode||n.host}return!1}:(r,n)=>r.contains(n),rk=(()=>{if(R6||Element.prototype.matches)return(r,n)=>r.matches(n);{const r=Element.prototype,n=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector;return n?(i,s)=>n.apply(i,[s]):rk}})(),I6=(r,n,i)=>{let s=[];if(i){const l=r.querySelectorAll(n);for(let p=0;p<l.length;p++)s.push(l[p])}else{const l=r.querySelector(n);l&&s.push(l)}return s});let H1=null,O6=!1;function ok(r){H1||(H1=("undefined"!=typeof document?document.body:null)||{},O6=!!H1.style&&"WebkitAppearance"in H1.style);let n=!0;return H1.style&&!function(r){return"ebkit"==r.substring(1,6)}(r)&&(n=r in H1.style,!n&&O6&&(n="Webkit"+r.charAt(0).toUpperCase()+r.substr(1)in H1.style)),n}const sk=rk,ak=nk,lk=I6;function N6(r){const n={};return Object.keys(r).forEach(i=>{const s=i.replace(/([a-z])([A-Z])/g,"$1-$2");n[s]=r[i]}),n}let L6=(()=>{class r{validateStyleProperty(i){return ok(i)}matchesElement(i,s){return sk(i,s)}containsElement(i,s){return ak(i,s)}query(i,s,l){return lk(i,s,l)}computeStyle(i,s,l){return l||""}animate(i,s,l,p,b,R=[],G){return new $w(l,p)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})(),uk=(()=>{class r{}return r.NOOP=new L6,r})();const hk="ng-enter",dC="ng-leave",pC="ng-trigger",mC=".ng-trigger",B6="ng-animating",ck=".ng-animating";function U1(r){if("number"==typeof r)return r;const n=r.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:fk(parseFloat(n[1]),n[2])}function fk(r,n){return"s"===n?1e3*r:r}function gC(r,n,i){return r.hasOwnProperty("duration")?r:function(r,n,i){let l,p=0,b="";if("string"==typeof r){const R=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===R)return n.push(`The provided timing value "${r}" is invalid.`),{duration:0,delay:0,easing:""};l=fk(parseFloat(R[1]),R[2]);const G=R[3];null!=G&&(p=fk(parseFloat(G),R[4]));const ut=R[5];ut&&(b=ut)}else l=r;if(!i){let R=!1,G=n.length;l<0&&(n.push("Duration values below 0 are not allowed for this animation step."),R=!0),p<0&&(n.push("Delay values below 0 are not allowed for this animation step."),R=!0),R&&n.splice(G,0,`The provided timing value "${r}" is invalid.`)}return{duration:l,delay:p,easing:b}}(r,n,i)}function Xw(r,n={}){return Object.keys(r).forEach(i=>{n[i]=r[i]}),n}function ay(r,n,i={}){if(n)for(let s in r)i[s]=r[s];else Xw(r,i);return i}function j6(r,n,i){return i?n+":"+i+";":""}function z6(r){let n="";for(let i=0;i<r.style.length;i++){const s=r.style.item(i);n+=j6(0,s,r.style.getPropertyValue(s))}for(const i in r.style)r.style.hasOwnProperty(i)&&!i.startsWith("_")&&(n+=j6(0,az(i),r.style[i]));r.setAttribute("style",n)}function j0(r,n,i){r.style&&(Object.keys(n).forEach(s=>{const l=pk(s);i&&!i.hasOwnProperty(s)&&(i[s]=r.style[l]),r.style[l]=n[s]}),JE()&&z6(r))}function G1(r,n){r.style&&(Object.keys(n).forEach(i=>{const s=pk(i);r.style[s]=""}),JE()&&z6(r))}function H_(r){return Array.isArray(r)?1==r.length?r[0]:S6(r):r}const dk=new RegExp("{{\\s*(.+?)\\s*}}","g");function H6(r){let n=[];if("string"==typeof r){let i;for(;i=dk.exec(r);)n.push(i[1]);dk.lastIndex=0}return n}function vC(r,n,i){const s=r.toString(),l=s.replace(dk,(p,b)=>{let R=n[b];return n.hasOwnProperty(b)||(i.push(`Please provide a value for the animation param ${b}`),R=""),R.toString()});return l==s?r:l}function yC(r){const n=[];let i=r.next();for(;!i.done;)n.push(i.value),i=r.next();return n}const sz=/-+([a-z0-9])/g;function pk(r){return r.replace(sz,(...n)=>n[1].toUpperCase())}function az(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function U6(r,n){return 0===r||0===n}function G6(r,n,i){const s=Object.keys(i);if(s.length&&n.length){let p=n[0],b=[];if(s.forEach(R=>{p.hasOwnProperty(R)||b.push(R),p[R]=i[R]}),b.length)for(var l=1;l<n.length;l++){let R=n[l];b.forEach(function(G){R[G]=mk(r,G)})}}return n}function Tf(r,n,i){switch(n.type){case 7:return r.visitTrigger(n,i);case 0:return r.visitState(n,i);case 1:return r.visitTransition(n,i);case 2:return r.visitSequence(n,i);case 3:return r.visitGroup(n,i);case 4:return r.visitAnimate(n,i);case 5:return r.visitKeyframes(n,i);case 6:return r.visitStyle(n,i);case 8:return r.visitReference(n,i);case 9:return r.visitAnimateChild(n,i);case 10:return r.visitAnimateRef(n,i);case 11:return r.visitQuery(n,i);case 12:return r.visitStagger(n,i);default:throw new Error(`Unable to resolve animation metadata node #${n.type}`)}}function mk(r,n){return window.getComputedStyle(r)[n]}function lz(r,n){const i=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(s=>function(r,n,i){if(":"==r[0]){const G=function(r,n){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,s)=>parseFloat(s)>parseFloat(i);case":decrement":return(i,s)=>parseFloat(s)<parseFloat(i);default:return n.push(`The transition alias value "${r}" is not supported`),"* => *"}}(r,i);if("function"==typeof G)return void n.push(G);r=G}const s=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return i.push(`The provided transition expression "${r}" is not supported`),n;const l=s[1],p=s[2],b=s[3];n.push(W6(l,b));"<"==p[0]&&!("*"==l&&"*"==b)&&n.push(W6(b,l))}(s,i,n)):i.push(r),i}const wC=new Set(["true","1"]),bC=new Set(["false","0"]);function W6(r,n){const i=wC.has(r)||bC.has(r),s=wC.has(n)||bC.has(n);return(l,p)=>{let b="*"==r||r==l,R="*"==n||n==p;return!b&&i&&"boolean"==typeof l&&(b=l?wC.has(r):bC.has(r)),!R&&s&&"boolean"==typeof p&&(R=p?wC.has(n):bC.has(n)),b&&R}}const cz=new RegExp("s*:selfs*,?","g");function gk(r,n,i){return new fz(r).build(n,i)}class fz{constructor(n){this._driver=n}build(n,i){const s=new mz(i);return this._resetContextStyleTimingState(s),Tf(this,H_(n),s)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles={},n.collectedStyles[""]={},n.currentTime=0}visitTrigger(n,i){let s=i.queryCount=0,l=i.depCount=0;const p=[],b=[];return"@"==n.name.charAt(0)&&i.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),n.definitions.forEach(R=>{if(this._resetContextStyleTimingState(i),0==R.type){const G=R,ut=G.name;ut.toString().split(/\s*,\s*/).forEach(St=>{G.name=St,p.push(this.visitState(G,i))}),G.name=ut}else if(1==R.type){const G=this.visitTransition(R,i);s+=G.queryCount,l+=G.depCount,b.push(G)}else i.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:n.name,states:p,transitions:b,queryCount:s,depCount:l,options:null}}visitState(n,i){const s=this.visitStyle(n.styles,i),l=n.options&&n.options.params||null;if(s.containsDynamicStyles){const p=new Set,b=l||{};if(s.styles.forEach(R=>{if(_C(R)){const G=R;Object.keys(G).forEach(ut=>{H6(G[ut]).forEach(St=>{b.hasOwnProperty(St)||p.add(St)})})}}),p.size){const R=yC(p.values());i.errors.push(`state("${n.name}", ...) must define default values for all the following style substitutions: ${R.join(", ")}`)}}return{type:0,name:n.name,style:s,options:l?{params:l}:null}}visitTransition(n,i){i.queryCount=0,i.depCount=0;const s=Tf(this,H_(n.animation),i);return{type:1,matchers:lz(n.expr,i.errors),animation:s,queryCount:i.queryCount,depCount:i.depCount,options:W1(n.options)}}visitSequence(n,i){return{type:2,steps:n.steps.map(s=>Tf(this,s,i)),options:W1(n.options)}}visitGroup(n,i){const s=i.currentTime;let l=0;const p=n.steps.map(b=>{i.currentTime=s;const R=Tf(this,b,i);return l=Math.max(l,i.currentTime),R});return i.currentTime=l,{type:3,steps:p,options:W1(n.options)}}visitAnimate(n,i){const s=function(r,n){let i=null;if(r.hasOwnProperty("duration"))i=r;else if("number"==typeof r)return vk(gC(r,n).duration,0,"");const s=r;if(s.split(/\s+/).some(p=>"{"==p.charAt(0)&&"{"==p.charAt(1))){const p=vk(0,0,"");return p.dynamic=!0,p.strValue=s,p}return i=i||gC(s,n),vk(i.duration,i.delay,i.easing)}(n.timings,i.errors);i.currentAnimateTimings=s;let l,p=n.styles?n.styles:Ma({});if(5==p.type)l=this.visitKeyframes(p,i);else{let b=n.styles,R=!1;if(!b){R=!0;const ut={};s.easing&&(ut.easing=s.easing),b=Ma(ut)}i.currentTime+=s.duration+s.delay;const G=this.visitStyle(b,i);G.isEmptyStep=R,l=G}return i.currentAnimateTimings=null,{type:4,timings:s,style:l,options:null}}visitStyle(n,i){const s=this._makeStyleAst(n,i);return this._validateStyleAst(s,i),s}_makeStyleAst(n,i){const s=[];Array.isArray(n.styles)?n.styles.forEach(b=>{"string"==typeof b?b==vg?s.push(b):i.errors.push(`The provided style string value ${b} is not allowed.`):s.push(b)}):s.push(n.styles);let l=!1,p=null;return s.forEach(b=>{if(_C(b)){const R=b,G=R.easing;if(G&&(p=G,delete R.easing),!l)for(let ut in R)if(R[ut].toString().indexOf("{{")>=0){l=!0;break}}}),{type:6,styles:s,easing:p,offset:n.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(n,i){const s=i.currentAnimateTimings;let l=i.currentTime,p=i.currentTime;s&&p>0&&(p-=s.duration+s.delay),n.styles.forEach(b=>{"string"!=typeof b&&Object.keys(b).forEach(R=>{if(!this._driver.validateStyleProperty(R))return void i.errors.push(`The provided animation property "${R}" is not a supported CSS property for animations`);const G=i.collectedStyles[i.currentQuerySelector],ut=G[R];let St=!0;ut&&(p!=l&&p>=ut.startTime&&l<=ut.endTime&&(i.errors.push(`The CSS property "${R}" that exists between the times of "${ut.startTime}ms" and "${ut.endTime}ms" is also being animated in a parallel animation between the times of "${p}ms" and "${l}ms"`),St=!1),p=ut.startTime),St&&(G[R]={startTime:p,endTime:l}),i.options&&function(r,n,i){const s=n.params||{},l=H6(r);l.length&&l.forEach(p=>{s.hasOwnProperty(p)||i.push(`Unable to resolve the local animation param ${p} in the given list of values`)})}(b[R],i.options,i.errors)})})}visitKeyframes(n,i){const s={type:5,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push("keyframes() must be placed inside of a call to animate()"),s;let p=0;const b=[];let R=!1,G=!1,ut=0;const St=n.steps.map(vi=>{const gi=this._makeStyleAst(vi,i);let Zi=null!=gi.offset?gi.offset:function(r){if("string"==typeof r)return null;let n=null;if(Array.isArray(r))r.forEach(i=>{if(_C(i)&&i.hasOwnProperty("offset")){const s=i;n=parseFloat(s.offset),delete s.offset}});else if(_C(r)&&r.hasOwnProperty("offset")){const i=r;n=parseFloat(i.offset),delete i.offset}return n}(gi.styles),ln=0;return null!=Zi&&(p++,ln=gi.offset=Zi),G=G||ln<0||ln>1,R=R||ln<ut,ut=ln,b.push(ln),gi});G&&i.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),R&&i.errors.push("Please ensure that all keyframe offsets are in order");const Ut=n.steps.length;let Jt=0;p>0&&p<Ut?i.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==p&&(Jt=1/(Ut-1));const se=Ut-1,pe=i.currentTime,Ue=i.currentAnimateTimings,Ge=Ue.duration;return St.forEach((vi,gi)=>{const Zi=Jt>0?gi==se?1:Jt*gi:b[gi],ln=Zi*Ge;i.currentTime=pe+Ue.delay+ln,Ue.duration=ln,this._validateStyleAst(vi,i),vi.offset=Zi,s.styles.push(vi)}),s}visitReference(n,i){return{type:8,animation:Tf(this,H_(n.animation),i),options:W1(n.options)}}visitAnimateChild(n,i){return i.depCount++,{type:9,options:W1(n.options)}}visitAnimateRef(n,i){return{type:10,animation:this.visitReference(n.animation,i),options:W1(n.options)}}visitQuery(n,i){const s=i.currentQuerySelector,l=n.options||{};i.queryCount++,i.currentQuery=n;const[p,b]=function(r){const n=!!r.split(/\s*,\s*/).find(i=>":self"==i);return n&&(r=r.replace(cz,"")),r=r.replace(/@\*/g,mC).replace(/@\w+/g,i=>mC+"-"+i.substr(1)).replace(/:animating/g,ck),[r,n]}(n.selector);i.currentQuerySelector=s.length?s+" "+p:p,Af(i.collectedStyles,i.currentQuerySelector,{});const R=Tf(this,H_(n.animation),i);return i.currentQuery=null,i.currentQuerySelector=s,{type:11,selector:p,limit:l.limit||0,optional:!!l.optional,includeSelf:b,animation:R,originalSelector:n.selector,options:W1(n.options)}}visitStagger(n,i){i.currentQuery||i.errors.push("stagger() can only be used inside of query()");const s="full"===n.timings?{duration:0,delay:0,easing:"full"}:gC(n.timings,i.errors,!0);return{type:12,animation:Tf(this,H_(n.animation),i),timings:s,options:null}}}class mz{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function _C(r){return!Array.isArray(r)&&"object"==typeof r}function W1(r){return r?(r=Xw(r)).params&&(r.params=function(r){return r?Xw(r):null}(r.params)):r={},r}function vk(r,n,i){return{duration:r,delay:n,easing:i}}function yk(r,n,i,s,l,p,b=null,R=!1){return{type:1,element:r,keyframes:n,preStyleProps:i,postStyleProps:s,duration:l,delay:p,totalTime:l+p,easing:b,subTimeline:R}}class MC{constructor(){this._map=new Map}consume(n){let i=this._map.get(n);return i?this._map.delete(n):i=[],i}append(n,i){let s=this._map.get(n);s||this._map.set(n,s=[]),s.push(...i)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const wz=new RegExp(":enter","g"),_z=new RegExp(":leave","g");function xk(r,n,i,s,l,p={},b={},R,G,ut=[]){return(new Mz).buildKeyframes(r,n,i,s,l,p,b,R,G,ut)}class Mz{buildKeyframes(n,i,s,l,p,b,R,G,ut,St=[]){ut=ut||new MC;const Ut=new wk(n,i,ut,l,p,St,[]);Ut.options=G,Ut.currentTimeline.setStyles([b],null,Ut.errors,G),Tf(this,s,Ut);const Jt=Ut.timelines.filter(se=>se.containsAnimation());if(Jt.length&&Object.keys(R).length){const se=Jt[Jt.length-1];se.allowOnlyTimelineStyles()||se.setStyles([R],null,Ut.errors,G)}return Jt.length?Jt.map(se=>se.buildKeyframes()):[yk(i,[],[],[],0,0,"",!1)]}visitTrigger(n,i){}visitState(n,i){}visitTransition(n,i){}visitAnimateChild(n,i){const s=i.subInstructions.consume(i.element);if(s){const l=i.createSubContext(n.options),p=i.currentTimeline.currentTime,b=this._visitSubInstructions(s,l,l.options);p!=b&&i.transformIntoNewTimeline(b)}i.previousNode=n}visitAnimateRef(n,i){const s=i.createSubContext(n.options);s.transformIntoNewTimeline(),this.visitReference(n.animation,s),i.transformIntoNewTimeline(s.currentTimeline.currentTime),i.previousNode=n}_visitSubInstructions(n,i,s){let p=i.currentTimeline.currentTime;const b=null!=s.duration?U1(s.duration):null,R=null!=s.delay?U1(s.delay):null;return 0!==b&&n.forEach(G=>{const ut=i.appendInstructionToTimeline(G,b,R);p=Math.max(p,ut.duration+ut.delay)}),p}visitReference(n,i){i.updateOptions(n.options,!0),Tf(this,n.animation,i),i.previousNode=n}visitSequence(n,i){const s=i.subContextCount;let l=i;const p=n.options;if(p&&(p.params||p.delay)&&(l=i.createSubContext(p),l.transformIntoNewTimeline(),null!=p.delay)){6==l.previousNode.type&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=CC);const b=U1(p.delay);l.delayNextStep(b)}n.steps.length&&(n.steps.forEach(b=>Tf(this,b,l)),l.currentTimeline.applyStylesToKeyframe(),l.subContextCount>s&&l.transformIntoNewTimeline()),i.previousNode=n}visitGroup(n,i){const s=[];let l=i.currentTimeline.currentTime;const p=n.options&&n.options.delay?U1(n.options.delay):0;n.steps.forEach(b=>{const R=i.createSubContext(n.options);p&&R.delayNextStep(p),Tf(this,b,R),l=Math.max(l,R.currentTimeline.currentTime),s.push(R.currentTimeline)}),s.forEach(b=>i.currentTimeline.mergeTimelineCollectedStyles(b)),i.transformIntoNewTimeline(l),i.previousNode=n}_visitTiming(n,i){if(n.dynamic){const s=n.strValue;return gC(i.params?vC(s,i.params,i.errors):s,i.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,i){const s=i.currentAnimateTimings=this._visitTiming(n.timings,i),l=i.currentTimeline;s.delay&&(i.incrementTime(s.delay),l.snapshotCurrentStyles());const p=n.style;5==p.type?this.visitKeyframes(p,i):(i.incrementTime(s.duration),this.visitStyle(p,i),l.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=n}visitStyle(n,i){const s=i.currentTimeline,l=i.currentAnimateTimings;!l&&s.getCurrentStyleProperties().length&&s.forwardFrame();const p=l&&l.easing||n.easing;n.isEmptyStep?s.applyEmptyStep(p):s.setStyles(n.styles,p,i.errors,i.options),i.previousNode=n}visitKeyframes(n,i){const s=i.currentAnimateTimings,l=i.currentTimeline.duration,p=s.duration,R=i.createSubContext().currentTimeline;R.easing=s.easing,n.styles.forEach(G=>{R.forwardTime((G.offset||0)*p),R.setStyles(G.styles,G.easing,i.errors,i.options),R.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(R),i.transformIntoNewTimeline(l+p),i.previousNode=n}visitQuery(n,i){const s=i.currentTimeline.currentTime,l=n.options||{},p=l.delay?U1(l.delay):0;p&&(6===i.previousNode.type||0==s&&i.currentTimeline.getCurrentStyleProperties().length)&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=CC);let b=s;const R=i.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!l.optional,i.errors);i.currentQueryTotal=R.length;let G=null;R.forEach((ut,St)=>{i.currentQueryIndex=St;const Ut=i.createSubContext(n.options,ut);p&&Ut.delayNextStep(p),ut===i.element&&(G=Ut.currentTimeline),Tf(this,n.animation,Ut),Ut.currentTimeline.applyStylesToKeyframe(),b=Math.max(b,Ut.currentTimeline.currentTime)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(b),G&&(i.currentTimeline.mergeTimelineCollectedStyles(G),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=n}visitStagger(n,i){const s=i.parentContext,l=i.currentTimeline,p=n.timings,b=Math.abs(p.duration),R=b*(i.currentQueryTotal-1);let G=b*i.currentQueryIndex;switch(p.duration<0?"reverse":p.easing){case"reverse":G=R-G;break;case"full":G=s.currentStaggerTime}const St=i.currentTimeline;G&&St.delayNextStep(G);const Ut=St.currentTime;Tf(this,n.animation,i),i.previousNode=n,s.currentStaggerTime=l.currentTime-Ut+(l.startTime-s.currentTimeline.startTime)}}const CC={};class wk{constructor(n,i,s,l,p,b,R,G){this._driver=n,this.element=i,this.subInstructions=s,this._enterClassName=l,this._leaveClassName=p,this.errors=b,this.timelines=R,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=CC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=G||new SC(this._driver,i,0),R.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,i){if(!n)return;const s=n;let l=this.options;null!=s.duration&&(l.duration=U1(s.duration)),null!=s.delay&&(l.delay=U1(s.delay));const p=s.params;if(p){let b=l.params;b||(b=this.options.params={}),Object.keys(p).forEach(R=>{(!i||!b.hasOwnProperty(R))&&(b[R]=vC(p[R],b,this.errors))})}}_copyOptions(){const n={};if(this.options){const i=this.options.params;if(i){const s=n.params={};Object.keys(i).forEach(l=>{s[l]=i[l]})}}return n}createSubContext(n=null,i,s){const l=i||this.element,p=new wk(this._driver,l,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(l,s||0));return p.previousNode=this.previousNode,p.currentAnimateTimings=this.currentAnimateTimings,p.options=this._copyOptions(),p.updateOptions(n),p.currentQueryIndex=this.currentQueryIndex,p.currentQueryTotal=this.currentQueryTotal,p.parentContext=this,this.subContextCount++,p}transformIntoNewTimeline(n){return this.previousNode=CC,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,i,s){const l={duration:null!=i?i:n.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+n.delay,easing:""},p=new Cz(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,l,n.stretchStartingKeyframe);return this.timelines.push(p),l}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,i,s,l,p,b){let R=[];if(l&&R.push(this.element),n.length>0){n=(n=n.replace(wz,"."+this._enterClassName)).replace(_z,"."+this._leaveClassName);let ut=this._driver.query(this.element,n,1!=s);0!==s&&(ut=s<0?ut.slice(ut.length+s,ut.length):ut.slice(0,s)),R.push(...ut)}return!p&&0==R.length&&b.push(`\`query("${i}")\` returned zero elements. (Use \`query("${i}", { optional: true })\` if you wish to allow this.)`),R}}class SC{constructor(n,i,s,l){this._driver=n,this.element=i,this.startTime=s,this._elementTimelineStylesLookup=l,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const i=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||i?(this.forwardTime(this.currentTime+n),i&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,i){return this.applyStylesToKeyframe(),new SC(this._driver,n,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,i){this._localTimelineStyles[n]=i,this._globalTimelineStyles[n]=i,this._styleSummary[n]={time:this.currentTime,value:i}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&(this._previousKeyframe.easing=n),Object.keys(this._globalTimelineStyles).forEach(i=>{this._backFill[i]=this._globalTimelineStyles[i]||vg,this._currentKeyframe[i]=vg}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,i,s,l){i&&(this._previousKeyframe.easing=i);const p=l&&l.params||{},b=function(r,n){const i={};let s;return r.forEach(l=>{"*"===l?(s=s||Object.keys(n),s.forEach(p=>{i[p]=vg})):ay(l,!1,i)}),i}(n,this._globalTimelineStyles);Object.keys(b).forEach(R=>{const G=vC(b[R],p,s);this._pendingStyles[R]=G,this._localTimelineStyles.hasOwnProperty(R)||(this._backFill[R]=this._globalTimelineStyles.hasOwnProperty(R)?this._globalTimelineStyles[R]:vg),this._updateStyle(R,G)})}applyStylesToKeyframe(){const n=this._pendingStyles,i=Object.keys(n);0!=i.length&&(this._pendingStyles={},i.forEach(s=>{this._currentKeyframe[s]=n[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(n=>{const i=this._localTimelineStyles[n];this._pendingStyles[n]=i,this._updateStyle(n,i)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let i in this._currentKeyframe)n.push(i);return n}mergeTimelineCollectedStyles(n){Object.keys(n._styleSummary).forEach(i=>{const s=this._styleSummary[i],l=n._styleSummary[i];(!s||l.time>s.time)&&this._updateStyle(i,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,i=new Set,s=1===this._keyframes.size&&0===this.duration;let l=[];this._keyframes.forEach((R,G)=>{const ut=ay(R,!0);Object.keys(ut).forEach(St=>{const Ut=ut[St];"!"==Ut?n.add(St):Ut==vg&&i.add(St)}),s||(ut.offset=G/this.duration),l.push(ut)});const p=n.size?yC(n.values()):[],b=i.size?yC(i.values()):[];if(s){const R=l[0],G=Xw(R);R.offset=0,G.offset=1,l=[R,G]}return yk(this.element,l,p,b,this.duration,this.startTime,this.easing,!1)}}class Cz extends SC{constructor(n,i,s,l,p,b,R=!1){super(n,i,b.delay),this.keyframes=s,this.preStyleProps=l,this.postStyleProps=p,this._stretchStartingKeyframe=R,this.timings={duration:b.duration,delay:b.delay,easing:b.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:i,duration:s,easing:l}=this.timings;if(this._stretchStartingKeyframe&&i){const p=[],b=s+i,R=i/b,G=ay(n[0],!1);G.offset=0,p.push(G);const ut=ay(n[0],!1);ut.offset=X6(R),p.push(ut);const St=n.length-1;for(let Ut=1;Ut<=St;Ut++){let Jt=ay(n[Ut],!1);Jt.offset=X6((i+Jt.offset*s)/b),p.push(Jt)}s=b,i=0,l="",n=p}return yk(this.element,n,this.preStyleProps,this.postStyleProps,s,i,l,!0)}}function X6(r,n=3){const i=Math.pow(10,n-1);return Math.round(r*i)/i}class bk{}class Dz extends bk{normalizePropertyName(n,i){return pk(n)}normalizeStyleValue(n,i,s,l){let p="";const b=s.toString().trim();if(Ez[i]&&0!==s&&"0"!==s)if("number"==typeof s)p="px";else{const R=s.match(/^[+-]?[\d\.]+([a-z]*)$/);R&&0==R[1].length&&l.push(`Please provide a CSS unit value for ${n}:${s}`)}return b+p}}const Ez=(()=>function(r){const n={};return r.forEach(i=>n[i]=!0),n}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function K6(r,n,i,s,l,p,b,R,G,ut,St,Ut,Jt){return{type:0,element:r,triggerName:n,isRemovalTransition:l,fromState:i,fromStyles:p,toState:s,toStyles:b,timelines:R,queriedElements:G,preStyleProps:ut,postStyleProps:St,totalTime:Ut,errors:Jt}}const _k={};class Z6{constructor(n,i,s){this._triggerName=n,this.ast=i,this._stateStyles=s}match(n,i,s,l){return function(r,n,i,s,l){return r.some(p=>p(n,i,s,l))}(this.ast.matchers,n,i,s,l)}buildStyles(n,i,s){const l=this._stateStyles["*"],p=this._stateStyles[n],b=l?l.buildStyles(i,s):{};return p?p.buildStyles(i,s):b}build(n,i,s,l,p,b,R,G,ut,St){const Ut=[],Jt=this.ast.options&&this.ast.options.params||_k,pe=this.buildStyles(s,R&&R.params||_k,Ut),Ue=G&&G.params||_k,Ge=this.buildStyles(l,Ue,Ut),vi=new Set,gi=new Map,Zi=new Map,ln="void"===l,Fr={params:wn(wn({},Jt),Ue)},vs=St?[]:xk(n,i,this.ast.animation,p,b,pe,Ge,Fr,ut,Ut);let Rs=0;if(vs.forEach(fh=>{Rs=Math.max(fh.duration+fh.delay,Rs)}),Ut.length)return K6(i,this._triggerName,s,l,ln,pe,Ge,[],[],gi,Zi,Rs,Ut);vs.forEach(fh=>{const dh=fh.element,Ag=Af(gi,dh,{});fh.preStyleProps.forEach(zp=>Ag[zp]=!0);const Tg=Af(Zi,dh,{});fh.postStyleProps.forEach(zp=>Tg[zp]=!0),dh!==i&&vi.add(dh)});const qh=yC(vi.values());return K6(i,this._triggerName,s,l,ln,pe,Ge,vs,qh,gi,Zi,Rs)}}class Tz{constructor(n,i,s){this.styles=n,this.defaultParams=i,this.normalizer=s}buildStyles(n,i){const s={},l=Xw(this.defaultParams);return Object.keys(n).forEach(p=>{const b=n[p];null!=b&&(l[p]=b)}),this.styles.styles.forEach(p=>{if("string"!=typeof p){const b=p;Object.keys(b).forEach(R=>{let G=b[R];G.length>1&&(G=vC(G,l,i));const ut=this.normalizer.normalizePropertyName(R,i);G=this.normalizer.normalizeStyleValue(R,ut,G,i),s[ut]=G})}}),s}}class Iz{constructor(n,i,s){this.name=n,this.ast=i,this._normalizer=s,this.transitionFactories=[],this.states={},i.states.forEach(l=>{this.states[l.name]=new Tz(l.style,l.options&&l.options.params||{},s)}),q6(this.states,"true","1"),q6(this.states,"false","0"),i.transitions.forEach(l=>{this.transitionFactories.push(new Z6(n,l,this.states))}),this.fallbackTransition=function(r,n,i){return new Z6(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(b,R)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,i,s,l){return this.transitionFactories.find(b=>b.match(n,i,s,l))||null}matchStyles(n,i,s){return this.fallbackTransition.buildStyles(n,i,s)}}function q6(r,n,i){r.hasOwnProperty(n)?r.hasOwnProperty(i)||(r[i]=r[n]):r.hasOwnProperty(i)&&(r[n]=r[i])}const Oz=new MC;class Nz{constructor(n,i,s){this.bodyNode=n,this._driver=i,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(n,i){const s=[],l=gk(this._driver,i,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[n]=l}_buildPlayer(n,i,s){const l=n.element,p=T6(0,this._normalizer,0,n.keyframes,i,s);return this._driver.animate(l,p,n.duration,n.delay,n.easing,[],!0)}create(n,i,s={}){const l=[],p=this._animations[n];let b;const R=new Map;if(p?(b=xk(this._driver,i,p,hk,dC,{},{},s,Oz,l),b.forEach(St=>{const Ut=Af(R,St.element,{});St.postStyleProps.forEach(Jt=>Ut[Jt]=null)})):(l.push("The requested animation doesn't exist or has already been destroyed"),b=[]),l.length)throw new Error(`Unable to create the animation due to the following errors: ${l.join("\n")}`);R.forEach((St,Ut)=>{Object.keys(St).forEach(Jt=>{St[Jt]=this._driver.computeStyle(Ut,Jt,vg)})});const ut=sy(b.map(St=>{const Ut=R.get(St.element);return this._buildPlayer(St,{},Ut)}));return this._playersById[n]=ut,ut.onDestroy(()=>this.destroy(n)),this.players.push(ut),ut}destroy(n){const i=this._getPlayer(n);i.destroy(),delete this._playersById[n];const s=this.players.indexOf(i);s>=0&&this.players.splice(s,1)}_getPlayer(n){const i=this._playersById[n];if(!i)throw new Error(`Unable to find the timeline player referenced by ${n}`);return i}listen(n,i,s,l){const p=ik(i,"","","");return tk(this._getPlayer(n),s,p,l),()=>{}}command(n,i,s,l){if("register"==s)return void this.register(n,l[0]);if("create"==s)return void this.create(n,i,l[0]||{});const p=this._getPlayer(n);switch(s){case"play":p.play();break;case"pause":p.pause();break;case"reset":p.reset();break;case"restart":p.restart();break;case"finish":p.finish();break;case"init":p.init();break;case"setPosition":p.setPosition(parseFloat(l[0]));break;case"destroy":this.destroy(n)}}}const Q6="ng-animate-queued",J6="ng-animate-disabled",tI=".ng-animate-disabled",Vz=[],eI={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},jz={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ad="__ng_removed";class Mk{constructor(n,i=""){this.namespaceId=i;const s=n&&n.hasOwnProperty("value");if(this.value=null!=(r=s?n.value:n)?r:null,s){const p=Xw(n);delete p.value,this.options=p}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(n){const i=n.params;if(i){const s=this.options.params;Object.keys(i).forEach(l=>{null==s[l]&&(s[l]=i[l])})}}}const U_="void",Ck=new Mk(U_);class zz{constructor(n,i,s){this.id=n,this.hostElement=i,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Td(i,this._hostClassName)}listen(n,i,s,l){if(!this._triggers.hasOwnProperty(i))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${i}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${i}" because the provided event is undefined!`);if("start"!=(r=s)&&"done"!=r)throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${i}" is not supported!`);var r;const p=Af(this._elementListeners,n,[]),b={name:i,phase:s,callback:l};p.push(b);const R=Af(this._engine.statesByElement,n,{});return R.hasOwnProperty(i)||(Td(n,pC),Td(n,pC+"-"+i),R[i]=Ck),()=>{this._engine.afterFlush(()=>{const G=p.indexOf(b);G>=0&&p.splice(G,1),this._triggers[i]||delete R[i]})}}register(n,i){return!this._triggers[n]&&(this._triggers[n]=i,!0)}_getTrigger(n){const i=this._triggers[n];if(!i)throw new Error(`The provided animation trigger "${n}" has not been registered!`);return i}trigger(n,i,s,l=!0){const p=this._getTrigger(i),b=new Sk(this.id,i,n);let R=this._engine.statesByElement.get(n);R||(Td(n,pC),Td(n,pC+"-"+i),this._engine.statesByElement.set(n,R={}));let G=R[i];const ut=new Mk(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&G&&ut.absorbOptions(G.options),R[i]=ut,G||(G=Ck),ut.value!==U_&&G.value===ut.value){if(!function(r,n){const i=Object.keys(r),s=Object.keys(n);if(i.length!=s.length)return!1;for(let l=0;l<i.length;l++){const p=i[l];if(!n.hasOwnProperty(p)||r[p]!==n[p])return!1}return!0}(G.params,ut.params)){const Ue=[],Ge=p.matchStyles(G.value,G.params,Ue),vi=p.matchStyles(ut.value,ut.params,Ue);Ue.length?this._engine.reportError(Ue):this._engine.afterFlush(()=>{G1(n,Ge),j0(n,vi)})}return}const Jt=Af(this._engine.playersByElement,n,[]);Jt.forEach(Ue=>{Ue.namespaceId==this.id&&Ue.triggerName==i&&Ue.queued&&Ue.destroy()});let se=p.matchTransition(G.value,ut.value,n,ut.params),pe=!1;if(!se){if(!l)return;se=p.fallbackTransition,pe=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:i,transition:se,fromState:G,toState:ut,player:b,isFallbackTransition:pe}),pe||(Td(n,Q6),b.onStart(()=>{Kw(n,Q6)})),b.onDone(()=>{let Ue=this.players.indexOf(b);Ue>=0&&this.players.splice(Ue,1);const Ge=this._engine.playersByElement.get(n);if(Ge){let vi=Ge.indexOf(b);vi>=0&&Ge.splice(vi,1)}}),this.players.push(b),Jt.push(b),b}deregister(n){delete this._triggers[n],this._engine.statesByElement.forEach((i,s)=>{delete i[n]}),this._elementListeners.forEach((i,s)=>{this._elementListeners.set(s,i.filter(l=>l.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const i=this._engine.playersByElement.get(n);i&&(i.forEach(s=>s.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,i){const s=this._engine.driver.query(n,mC,!0);s.forEach(l=>{if(l[Ad])return;const p=this._engine.fetchNamespacesByElement(l);p.size?p.forEach(b=>b.triggerLeaveAnimation(l,i,!1,!0)):this.clearElementCache(l)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(l=>this.clearElementCache(l)))}triggerLeaveAnimation(n,i,s,l){const p=this._engine.statesByElement.get(n);if(p){const b=[];if(Object.keys(p).forEach(R=>{if(this._triggers[R]){const G=this.trigger(n,R,U_,l);G&&b.push(G)}}),b.length)return this._engine.markElementAsRemoved(this.id,n,!0,i),s&&sy(b).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const i=this._elementListeners.get(n),s=this._engine.statesByElement.get(n);if(i&&s){const l=new Set;i.forEach(p=>{const b=p.name;if(l.has(b))return;l.add(b);const G=this._triggers[b].fallbackTransition,ut=s[b]||Ck,St=new Mk(U_),Ut=new Sk(this.id,b,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:b,transition:G,fromState:ut,toState:St,player:Ut,isFallbackTransition:!0})})}}removeNode(n,i){const s=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,i),this.triggerLeaveAnimation(n,i,!0))return;let l=!1;if(s.totalAnimations){const p=s.players.length?s.playersByQueriedElement.get(n):[];if(p&&p.length)l=!0;else{let b=n;for(;b=b.parentNode;)if(s.statesByElement.get(b)){l=!0;break}}}if(this.prepareLeaveAnimationListeners(n),l)s.markElementAsRemoved(this.id,n,!1,i);else{const p=n[Ad];(!p||p===eI)&&(s.afterFlush(()=>this.clearElementCache(n)),s.destroyInnerAnimations(n),s._onRemovalComplete(n,i))}}insertNode(n,i){Td(n,this._hostClassName)}drainQueuedTransitions(n){const i=[];return this._queue.forEach(s=>{const l=s.player;if(l.destroyed)return;const p=s.element,b=this._elementListeners.get(p);b&&b.forEach(R=>{if(R.name==s.triggerName){const G=ik(p,s.triggerName,s.fromState.value,s.toState.value);G._data=n,tk(s.player,R.phase,G,R.callback)}}),l.markedForDestroy?this._engine.afterFlush(()=>{l.destroy()}):i.push(s)}),this._queue=[],i.sort((s,l)=>{const p=s.transition.ast.depCount,b=l.transition.ast.depCount;return 0==p||0==b?p-b:this._engine.driver.containsElement(s.element,l.element)?1:-1})}destroy(n){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let i=!1;return this._elementListeners.has(n)&&(i=!0),i=!!this._queue.find(s=>s.element===n)||i,i}}class Hz{constructor(n,i,s){this.bodyNode=n,this.driver=i,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(l,p)=>{}}_onRemovalComplete(n,i){this.onRemovalComplete(n,i)}get queuedPlayers(){const n=[];return this._namespaceList.forEach(i=>{i.players.forEach(s=>{s.queued&&n.push(s)})}),n}createNamespace(n,i){const s=new zz(n,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(s,i):(this.newHostElements.set(i,s),this.collectEnterElement(i)),this._namespaceLookup[n]=s}_balanceNamespaceList(n,i){const s=this._namespaceList.length-1;if(s>=0){let l=!1;for(let p=s;p>=0;p--)if(this.driver.containsElement(this._namespaceList[p].hostElement,i)){this._namespaceList.splice(p+1,0,n),l=!0;break}l||this._namespaceList.splice(0,0,n)}else this._namespaceList.push(n);return this.namespacesByHostElement.set(i,n),n}register(n,i){let s=this._namespaceLookup[n];return s||(s=this.createNamespace(n,i)),s}registerTrigger(n,i,s){let l=this._namespaceLookup[n];l&&l.register(i,s)&&this.totalAnimations++}destroy(n,i){if(!n)return;const s=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[n];const l=this._namespaceList.indexOf(s);l>=0&&this._namespaceList.splice(l,1)}),this.afterFlushAnimationsDone(()=>s.destroy(i))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const i=new Set,s=this.statesByElement.get(n);if(s){const l=Object.keys(s);for(let p=0;p<l.length;p++){const b=s[l[p]].namespaceId;if(b){const R=this._fetchNamespace(b);R&&i.add(R)}}}return i}trigger(n,i,s,l){if(DC(i)){const p=this._fetchNamespace(n);if(p)return p.trigger(i,s,l),!0}return!1}insertNode(n,i,s,l){if(!DC(i))return;const p=i[Ad];if(p&&p.setForRemoval){p.setForRemoval=!1,p.setForMove=!0;const b=this.collectedLeaveElements.indexOf(i);b>=0&&this.collectedLeaveElements.splice(b,1)}if(n){const b=this._fetchNamespace(n);b&&b.insertNode(i,s)}l&&this.collectEnterElement(i)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,i){i?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Td(n,J6)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Kw(n,J6))}removeNode(n,i,s,l){if(DC(i)){const p=n?this._fetchNamespace(n):null;if(p?p.removeNode(i,l):this.markElementAsRemoved(n,i,!1,l),s){const b=this.namespacesByHostElement.get(i);b&&b.id!==n&&b.removeNode(i,l)}}else this._onRemovalComplete(i,l)}markElementAsRemoved(n,i,s,l){this.collectedLeaveElements.push(i),i[Ad]={namespaceId:n,setForRemoval:l,hasAnimation:s,removedBeforeQueried:!1}}listen(n,i,s,l,p){return DC(i)?this._fetchNamespace(n).listen(i,s,l,p):()=>{}}_buildInstruction(n,i,s,l,p){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,s,l,n.fromState.options,n.toState.options,i,p)}destroyInnerAnimations(n){let i=this.driver.query(n,mC,!0);i.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(i=this.driver.query(n,ck,!0),i.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(n){const i=this.playersByElement.get(n);i&&i.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(n){const i=this.playersByQueriedElement.get(n);i&&i.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return sy(this.players).onDone(()=>n());n()})}processLeaveNode(n){const i=n[Ad];if(i&&i.setForRemoval){if(n[Ad]=eI,i.namespaceId){this.destroyInnerAnimations(n);const s=this._fetchNamespace(i.namespaceId);s&&s.clearElementCache(n)}this._onRemovalComplete(n,i.setForRemoval)}this.driver.matchesElement(n,tI)&&this.markElementAsDisabled(n,!1),this.driver.query(n,tI,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(n=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,l)=>this._balanceNamespaceList(s,l)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)Td(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{i=this._flushAnimations(s,n)}finally{for(let l=0;l<s.length;l++)s[l]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],i.length?sy(i).onDone(()=>{s.forEach(l=>l())}):s.forEach(l=>l())}}reportError(n){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${n.join("\n")}`)}_flushAnimations(n,i){const s=new MC,l=[],p=new Map,b=[],R=new Map,G=new Map,ut=new Map,St=new Set;this.disabledNodes.forEach(Bn=>{St.add(Bn);const br=this.driver.query(Bn,".ng-animate-queued",!0);for(let Jr=0;Jr<br.length;Jr++)St.add(br[Jr])});const Ut=this.bodyNode,Jt=Array.from(this.statesByElement.keys()),se=rI(Jt,this.collectedEnterElements),pe=new Map;let Ue=0;se.forEach((Bn,br)=>{const Jr=hk+Ue++;pe.set(br,Jr),Bn.forEach(Xo=>Td(Xo,Jr))});const Ge=[],vi=new Set,gi=new Set;for(let Bn=0;Bn<this.collectedLeaveElements.length;Bn++){const br=this.collectedLeaveElements[Bn],Jr=br[Ad];Jr&&Jr.setForRemoval&&(Ge.push(br),vi.add(br),Jr.hasAnimation?this.driver.query(br,".ng-star-inserted",!0).forEach(Xo=>vi.add(Xo)):gi.add(br))}const Zi=new Map,ln=rI(Jt,Array.from(vi));ln.forEach((Bn,br)=>{const Jr=dC+Ue++;Zi.set(br,Jr),Bn.forEach(Xo=>Td(Xo,Jr))}),n.push(()=>{se.forEach((Bn,br)=>{const Jr=pe.get(br);Bn.forEach(Xo=>Kw(Xo,Jr))}),ln.forEach((Bn,br)=>{const Jr=Zi.get(br);Bn.forEach(Xo=>Kw(Xo,Jr))}),Ge.forEach(Bn=>{this.processLeaveNode(Bn)})});const Fr=[],vs=[];for(let Bn=this._namespaceList.length-1;Bn>=0;Bn--)this._namespaceList[Bn].drainQueuedTransitions(i).forEach(Jr=>{const Xo=Jr.player,xu=Jr.element;if(Fr.push(Xo),this.collectedEnterElements.length){const Y0=xu[Ad];if(Y0&&Y0.setForMove)return void Xo.destroy()}const W0=!Ut||!this.driver.containsElement(Ut,xu),Of=Zi.get(xu),my=pe.get(xu),tl=this._buildInstruction(Jr,s,my,Of,W0);if(tl.errors&&tl.errors.length)vs.push(tl);else{if(W0)return Xo.onStart(()=>G1(xu,tl.fromStyles)),Xo.onDestroy(()=>j0(xu,tl.toStyles)),void l.push(Xo);if(Jr.isFallbackTransition)return Xo.onStart(()=>G1(xu,tl.fromStyles)),Xo.onDestroy(()=>j0(xu,tl.toStyles)),void l.push(Xo);tl.timelines.forEach(Y0=>Y0.stretchStartingKeyframe=!0),s.append(xu,tl.timelines),b.push({instruction:tl,player:Xo,element:xu}),tl.queriedElements.forEach(Y0=>Af(R,Y0,[]).push(Xo)),tl.preStyleProps.forEach((Y0,MM)=>{const TS=Object.keys(Y0);if(TS.length){let rx=G.get(MM);rx||G.set(MM,rx=new Set),TS.forEach(WA=>rx.add(WA))}}),tl.postStyleProps.forEach((Y0,MM)=>{const TS=Object.keys(Y0);let rx=ut.get(MM);rx||ut.set(MM,rx=new Set),TS.forEach(WA=>rx.add(WA))})}});if(vs.length){const Bn=[];vs.forEach(br=>{Bn.push(`@${br.triggerName} has failed due to:\n`),br.errors.forEach(Jr=>Bn.push(`- ${Jr}\n`))}),Fr.forEach(br=>br.destroy()),this.reportError(Bn)}const Rs=new Map,qh=new Map;b.forEach(Bn=>{const br=Bn.element;s.has(br)&&(qh.set(br,br),this._beforeAnimationBuild(Bn.player.namespaceId,Bn.instruction,Rs))}),l.forEach(Bn=>{const br=Bn.element;this._getPreviousPlayers(br,!1,Bn.namespaceId,Bn.triggerName,null).forEach(Xo=>{Af(Rs,br,[]).push(Xo),Xo.destroy()})});const fh=Ge.filter(Bn=>sI(Bn,G,ut)),dh=new Map;nI(dh,this.driver,gi,ut,vg).forEach(Bn=>{sI(Bn,G,ut)&&fh.push(Bn)});const Tg=new Map;se.forEach((Bn,br)=>{nI(Tg,this.driver,new Set(Bn),G,"!")}),fh.forEach(Bn=>{const br=dh.get(Bn),Jr=Tg.get(Bn);dh.set(Bn,wn(wn({},br),Jr))});const zp=[],sb=[],ab={};b.forEach(Bn=>{const{element:br,player:Jr,instruction:Xo}=Bn;if(s.has(br)){if(St.has(br))return Jr.onDestroy(()=>j0(br,Xo.toStyles)),Jr.disabled=!0,Jr.overrideTotalTime(Xo.totalTime),void l.push(Jr);let xu=ab;if(qh.size>1){let Of=br;const my=[];for(;Of=Of.parentNode;){const tl=qh.get(Of);if(tl){xu=tl;break}my.push(Of)}my.forEach(tl=>qh.set(tl,xu))}const W0=this._buildAnimation(Jr.namespaceId,Xo,Rs,p,Tg,dh);if(Jr.setRealPlayer(W0),xu===ab)zp.push(Jr);else{const Of=this.playersByElement.get(xu);Of&&Of.length&&(Jr.parentPlayer=sy(Of)),l.push(Jr)}}else G1(br,Xo.fromStyles),Jr.onDestroy(()=>j0(br,Xo.toStyles)),sb.push(Jr),St.has(br)&&l.push(Jr)}),sb.forEach(Bn=>{const br=p.get(Bn.element);if(br&&br.length){const Jr=sy(br);Bn.setRealPlayer(Jr)}}),l.forEach(Bn=>{Bn.parentPlayer?Bn.syncPlayerEvents(Bn.parentPlayer):Bn.destroy()});for(let Bn=0;Bn<Ge.length;Bn++){const br=Ge[Bn],Jr=br[Ad];if(Kw(br,dC),Jr&&Jr.hasAnimation)continue;let Xo=[];if(R.size){let W0=R.get(br);W0&&W0.length&&Xo.push(...W0);let Of=this.driver.query(br,ck,!0);for(let my=0;my<Of.length;my++){let tl=R.get(Of[my]);tl&&tl.length&&Xo.push(...tl)}}const xu=Xo.filter(W0=>!W0.destroyed);xu.length?Yz(this,br,xu):this.processLeaveNode(br)}return Ge.length=0,zp.forEach(Bn=>{this.players.push(Bn),Bn.onDone(()=>{Bn.destroy();const br=this.players.indexOf(Bn);this.players.splice(br,1)}),Bn.play()}),zp}elementContainsData(n,i){let s=!1;const l=i[Ad];return l&&l.setForRemoval&&(s=!0),this.playersByElement.has(i)&&(s=!0),this.playersByQueriedElement.has(i)&&(s=!0),this.statesByElement.has(i)&&(s=!0),this._fetchNamespace(n).elementContainsData(i)||s}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,i,s,l,p){let b=[];if(i){const R=this.playersByQueriedElement.get(n);R&&(b=R)}else{const R=this.playersByElement.get(n);if(R){const G=!p||p==U_;R.forEach(ut=>{ut.queued||!G&&ut.triggerName!=l||b.push(ut)})}}return(s||l)&&(b=b.filter(R=>!(s&&s!=R.namespaceId||l&&l!=R.triggerName))),b}_beforeAnimationBuild(n,i,s){const p=i.element,b=i.isRemovalTransition?void 0:n,R=i.isRemovalTransition?void 0:i.triggerName;for(const G of i.timelines){const ut=G.element,St=ut!==p,Ut=Af(s,ut,[]);this._getPreviousPlayers(ut,St,b,R,i.toState).forEach(se=>{const pe=se.getRealPlayer();pe.beforeDestroy&&pe.beforeDestroy(),se.destroy(),Ut.push(se)})}G1(p,i.fromStyles)}_buildAnimation(n,i,s,l,p,b){const R=i.triggerName,G=i.element,ut=[],St=new Set,Ut=new Set,Jt=i.timelines.map(pe=>{const Ue=pe.element;St.add(Ue);const Ge=Ue[Ad];if(Ge&&Ge.removedBeforeQueried)return new $w(pe.duration,pe.delay);const vi=Ue!==G,gi=function(r){const n=[];return oI(r,n),n}((s.get(Ue)||Vz).map(Rs=>Rs.getRealPlayer())).filter(Rs=>!!Rs.element&&Rs.element===Ue),Zi=p.get(Ue),ln=b.get(Ue),Fr=T6(0,this._normalizer,0,pe.keyframes,Zi,ln),vs=this._buildPlayer(pe,Fr,gi);if(pe.subTimeline&&l&&Ut.add(Ue),vi){const Rs=new Sk(n,R,Ue);Rs.setRealPlayer(vs),ut.push(Rs)}return vs});ut.forEach(pe=>{Af(this.playersByQueriedElement,pe.element,[]).push(pe),pe.onDone(()=>function(r,n,i){let s;if(r instanceof Map){if(s=r.get(n),s){if(s.length){const l=s.indexOf(i);s.splice(l,1)}0==s.length&&r.delete(n)}}else if(s=r[n],s){if(s.length){const l=s.indexOf(i);s.splice(l,1)}0==s.length&&delete r[n]}return s}(this.playersByQueriedElement,pe.element,pe))}),St.forEach(pe=>Td(pe,B6));const se=sy(Jt);return se.onDestroy(()=>{St.forEach(pe=>Kw(pe,B6)),j0(G,i.toStyles)}),Ut.forEach(pe=>{Af(l,pe,[]).push(se)}),se}_buildPlayer(n,i,s){return i.length>0?this.driver.animate(n.element,i,n.duration,n.delay,n.easing,s):new $w(n.duration,n.delay)}}class Sk{constructor(n,i,s){this.namespaceId=n,this.triggerName=i,this.element=s,this._player=new $w,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,Object.keys(this._queuedCallbacks).forEach(i=>{this._queuedCallbacks[i].forEach(s=>tk(n,i,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const i=this._player;i.triggerCallback&&n.onStart(()=>i.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,i){Af(this._queuedCallbacks,n,[]).push(i)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const i=this._player;i.triggerCallback&&i.triggerCallback(n)}}function DC(r){return r&&1===r.nodeType}function iI(r,n){const i=r.style.display;return r.style.display=null!=n?n:"none",i}function nI(r,n,i,s,l){const p=[];i.forEach(G=>p.push(iI(G)));const b=[];s.forEach((G,ut)=>{const St={};G.forEach(Ut=>{const Jt=St[Ut]=n.computeStyle(ut,Ut,l);(!Jt||0==Jt.length)&&(ut[Ad]=jz,b.push(ut))}),r.set(ut,St)});let R=0;return i.forEach(G=>iI(G,p[R++])),b}function rI(r,n){const i=new Map;if(r.forEach(R=>i.set(R,[])),0==n.length)return i;const l=new Set(n),p=new Map;function b(R){if(!R)return 1;let G=p.get(R);if(G)return G;const ut=R.parentNode;return G=i.has(ut)?ut:l.has(ut)?1:b(ut),p.set(R,G),G}return n.forEach(R=>{const G=b(R);1!==G&&i.get(G).push(R)}),i}const EC="$$classes";function Td(r,n){if(r.classList)r.classList.add(n);else{let i=r[EC];i||(i=r[EC]={}),i[n]=!0}}function Kw(r,n){if(r.classList)r.classList.remove(n);else{let i=r[EC];i&&delete i[n]}}function Yz(r,n,i){sy(i).onDone(()=>r.processLeaveNode(n))}function oI(r,n){for(let i=0;i<r.length;i++){const s=r[i];s instanceof k6?oI(s.players,n):n.push(s)}}function sI(r,n,i){const s=i.get(r);if(!s)return!1;let l=n.get(r);return l?s.forEach(p=>l.add(p)):n.set(r,s),i.delete(r),!0}class kC{constructor(n,i,s){this.bodyNode=n,this._driver=i,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(l,p)=>{},this._transitionEngine=new Hz(n,i,s),this._timelineEngine=new Nz(n,i,s),this._transitionEngine.onRemovalComplete=(l,p)=>this.onRemovalComplete(l,p)}registerTrigger(n,i,s,l,p){const b=n+"-"+l;let R=this._triggerCache[b];if(!R){const G=[],ut=gk(this._driver,p,G);if(G.length)throw new Error(`The animation trigger "${l}" has failed to build due to the following errors:\n - ${G.join("\n - ")}`);R=function(r,n,i){return new Iz(r,n,i)}(l,ut,this._normalizer),this._triggerCache[b]=R}this._transitionEngine.registerTrigger(i,l,R)}register(n,i){this._transitionEngine.register(n,i)}destroy(n,i){this._transitionEngine.destroy(n,i)}onInsert(n,i,s,l){this._transitionEngine.insertNode(n,i,s,l)}onRemove(n,i,s,l){this._transitionEngine.removeNode(n,i,l||!1,s)}disableAnimations(n,i){this._transitionEngine.markElementAsDisabled(n,i)}process(n,i,s,l){if("@"==s.charAt(0)){const[p,b]=P6(s);this._timelineEngine.command(p,i,b,l)}else this._transitionEngine.trigger(n,i,s,l)}listen(n,i,s,l,p){if("@"==s.charAt(0)){const[b,R]=P6(s);return this._timelineEngine.listen(b,i,R,p)}return this._transitionEngine.listen(n,i,s,l,p)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function aI(r,n){let i=null,s=null;return Array.isArray(n)&&n.length?(i=Dk(n[0]),n.length>1&&(s=Dk(n[n.length-1]))):n&&(i=Dk(n)),i||s?new Kz(r,i,s):null}let Kz=(()=>{class r{constructor(i,s,l){this._element=i,this._startStyles=s,this._endStyles=l,this._state=0;let p=r.initialStylesByElement.get(i);p||r.initialStylesByElement.set(i,p={}),this._initialStyles=p}start(){this._state<1&&(this._startStyles&&j0(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(j0(this._element,this._initialStyles),this._endStyles&&(j0(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(G1(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(G1(this._element,this._endStyles),this._endStyles=null),j0(this._element,this._initialStyles),this._state=3)}}return r.initialStylesByElement=new WeakMap,r})();function Dk(r){let n=null;const i=Object.keys(r);for(let s=0;s<i.length;s++){const l=i[s];Zz(l)&&(n=n||{},n[l]=r[l])}return n}function Zz(r){return"display"===r||"position"===r}const lI="animation",uI="animationend";class Jz{constructor(n,i,s,l,p,b,R){this._element=n,this._name=i,this._duration=s,this._delay=l,this._easing=p,this._fillMode=b,this._onDoneFn=R,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=G=>this._handleCallback(G)}apply(){(function(r,n){const i=kk(r,"").trim();let s=0;i.length&&(function(r,n){let i=0;for(let s=0;s<r.length;s++)","===r.charAt(s)&&i++;return i}(i)+1,n=`${i}, ${n}`),AC(r,"",n)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),fI(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){hI(this._element,this._name,"paused")}resume(){hI(this._element,this._name,"running")}setPosition(n){const i=cI(this._element,this._name);this._position=n*this._duration,AC(this._element,"Delay",`-${this._position}ms`,i)}getPosition(){return this._position}_handleCallback(n){const i=n._ngTestManualTimestamp||Date.now(),s=1e3*parseFloat(n.elapsedTime.toFixed(3));n.animationName==this._name&&Math.max(i-this._startTime,0)>=this._delay&&s>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),fI(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(r,n){const s=kk(r,"").split(","),l=Ek(s,n);l>=0&&(s.splice(l,1),AC(r,"",s.join(",")))}(this._element,this._name))}}function hI(r,n,i){AC(r,"PlayState",i,cI(r,n))}function cI(r,n){const i=kk(r,"");return i.indexOf(",")>0?Ek(i.split(","),n):Ek([i],n)}function Ek(r,n){for(let i=0;i<r.length;i++)if(r[i].indexOf(n)>=0)return i;return-1}function fI(r,n,i){i?r.removeEventListener(uI,n):r.addEventListener(uI,n)}function AC(r,n,i,s){const l=lI+n;if(null!=s){const p=r.style[l];if(p.length){const b=p.split(",");b[s]=i,i=b.join(",")}}r.style[l]=i}function kk(r,n){return r.style[lI+n]||""}class dI{constructor(n,i,s,l,p,b,R,G){this.element=n,this.keyframes=i,this.animationName=s,this._duration=l,this._delay=p,this._finalStyles=R,this._specialStyles=G,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=b||"linear",this.totalTime=l+p,this._buildStyler()}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(n=>n()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(n){this._styler.setPosition(n)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Jz(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(n){const i="start"==n?this._onStartFns:this._onDoneFns;i.forEach(s=>s()),i.length=0}beforeDestroy(){this.init();const n={};if(this.hasStarted()){const i=this._state>=3;Object.keys(this._finalStyles).forEach(s=>{"offset"!=s&&(n[s]=i?this._finalStyles[s]:mk(this.element,s))})}this.currentSnapshot=n}}class oH extends $w{constructor(n,i){super(),this.element=n,this._startingStyles={},this.__initialized=!1,this._styles=N6(i)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(n=>{this._startingStyles[n]=this.element.style[n]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(n=>this.element.style.setProperty(n,this._styles[n])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(n=>{const i=this._startingStyles[n];i?this.element.style.setProperty(n,i):this.element.style.removeProperty(n)}),this._startingStyles=null,super.destroy())}}class mI{constructor(){this._count=0}validateStyleProperty(n){return ok(n)}matchesElement(n,i){return sk(n,i)}containsElement(n,i){return ak(n,i)}query(n,i,s){return lk(n,i,s)}computeStyle(n,i,s){return window.getComputedStyle(n)[i]}buildKeyframeElement(n,i,s){s=s.map(R=>N6(R));let l=`@keyframes ${i} {\n`,p="";s.forEach(R=>{p=" ";const G=parseFloat(R.offset);l+=`${p}${100*G}% {\n`,p+=" ",Object.keys(R).forEach(ut=>{const St=R[ut];switch(ut){case"offset":return;case"easing":return void(St&&(l+=`${p}animation-timing-function: ${St};\n`));default:return void(l+=`${p}${ut}: ${St};\n`)}}),l+=`${p}}\n`}),l+="}\n";const b=document.createElement("style");return b.textContent=l,b}animate(n,i,s,l,p,b=[],R){const G=b.filter(Ge=>Ge instanceof dI),ut={};U6(s,l)&&G.forEach(Ge=>{let vi=Ge.currentSnapshot;Object.keys(vi).forEach(gi=>ut[gi]=vi[gi])});const St=function(r){let n={};return r&&(Array.isArray(r)?r:[r]).forEach(s=>{Object.keys(s).forEach(l=>{"offset"==l||"easing"==l||(n[l]=s[l])})}),n}(i=G6(n,i,ut));if(0==s)return new oH(n,St);const Ut="gen_css_kf_"+this._count++,Jt=this.buildKeyframeElement(n,Ut,i);(function(r){var i;const n=null==(i=r.getRootNode)?void 0:i.call(r);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(n).appendChild(Jt);const pe=aI(n,i),Ue=new dI(n,i,Ut,s,l,p,St,pe);return Ue.onDestroy(()=>{var r;(r=Jt).parentNode.removeChild(r)}),Ue}}class vI{constructor(n,i,s,l){this.element=n,this.keyframes=i,this.options=s,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(n,i,s){return n.animate(i,s)}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(i=>{"offset"!=i&&(n[i]=this._finished?this._finalKeyframe[i]:mk(this.element,i))}),this.currentSnapshot=n}triggerCallback(n){const i="start"==n?this._onStartFns:this._onDoneFns;i.forEach(s=>s()),i.length=0}}class hH{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(yI().toString()),this._cssKeyframesDriver=new mI}validateStyleProperty(n){return ok(n)}matchesElement(n,i){return sk(n,i)}containsElement(n,i){return ak(n,i)}query(n,i,s){return lk(n,i,s)}computeStyle(n,i,s){return window.getComputedStyle(n)[i]}overrideWebAnimationsSupport(n){this._isNativeImpl=n}animate(n,i,s,l,p,b=[],R){if(!R&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(n,i,s,l,p,b);const St={duration:s,delay:l,fill:0==l?"both":"forwards"};p&&(St.easing=p);const Ut={},Jt=b.filter(pe=>pe instanceof vI);U6(s,l)&&Jt.forEach(pe=>{let Ue=pe.currentSnapshot;Object.keys(Ue).forEach(Ge=>Ut[Ge]=Ue[Ge])});const se=aI(n,i=G6(n,i=i.map(pe=>ay(pe,!1)),Ut));return new vI(n,i,St,se)}}function yI(){return A6()&&Element.prototype.animate||{}}let fH=(()=>{class r extends C6{constructor(i,s){super(),this._nextAnimationId=0,this._renderer=i.createRenderer(s.body,{id:"0",encapsulation:Ms.None,styles:[],data:{animation:[]}})}build(i){const s=this._nextAnimationId.toString();this._nextAnimationId++;const l=Array.isArray(i)?S6(i):i;return xI(this._renderer,null,s,"register",[l]),new dH(s,this._renderer)}}return r.\u0275fac=function(i){return new(i||r)(pi(A1),pi(Nr))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})();class dH extends class{}{constructor(n,i){super(),this._id=n,this._renderer=i}create(n,i){return new pH(this._id,n,i||{},this._renderer)}}class pH{constructor(n,i,s,l){this.id=n,this.element=i,this._renderer=l,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(n,i){return this._renderer.listen(this.element,`@@${this.id}:${n}`,i)}_command(n,...i){return xI(this._renderer,this.element,this.id,n,i)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){var n,i;return null!=(i=null==(n=this._renderer.engine.players[+this.id])?void 0:n.getPosition())?i:0}}function xI(r,n,i,s,l){return r.setProperty(n,`@@${i}:${s}`,l)}const wI="@.disabled";let mH=(()=>{class r{constructor(i,s,l){this.delegate=i,this.engine=s,this._zone=l,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(p,b)=>{b&&b.parentNode(p)&&b.removeChild(p.parentNode,p)}}createRenderer(i,s){const p=this.delegate.createRenderer(i,s);if(!(i&&s&&s.data&&s.data.animation)){let St=this._rendererCache.get(p);return St||(St=new bI("",p,this.engine),this._rendererCache.set(p,St)),St}const b=s.id,R=s.id+"-"+this._currentId;this._currentId++,this.engine.register(R,i);const G=St=>{Array.isArray(St)?St.forEach(G):this.engine.registerTrigger(b,R,i,St.name,St)};return s.data.animation.forEach(G),new gH(this,R,p,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(i,s,l){i>=0&&i<this._microtaskId?this._zone.run(()=>s(l)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(p=>{const[b,R]=p;b(R)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,l]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return r.\u0275fac=function(i){return new(i||r)(pi(A1),pi(kC),pi(gr))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})();class bI{constructor(n,i,s){this.namespaceId=n,this.delegate=i,this.engine=s,this.destroyNode=this.delegate.destroyNode?l=>i.destroyNode(l):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(n,i){return this.delegate.createElement(n,i)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,i){this.delegate.appendChild(n,i),this.engine.onInsert(this.namespaceId,i,n,!1)}insertBefore(n,i,s,l=!0){this.delegate.insertBefore(n,i,s),this.engine.onInsert(this.namespaceId,i,n,l)}removeChild(n,i,s){this.engine.onRemove(this.namespaceId,i,this.delegate,s)}selectRootElement(n,i){return this.delegate.selectRootElement(n,i)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,i,s,l){this.delegate.setAttribute(n,i,s,l)}removeAttribute(n,i,s){this.delegate.removeAttribute(n,i,s)}addClass(n,i){this.delegate.addClass(n,i)}removeClass(n,i){this.delegate.removeClass(n,i)}setStyle(n,i,s,l){this.delegate.setStyle(n,i,s,l)}removeStyle(n,i,s){this.delegate.removeStyle(n,i,s)}setProperty(n,i,s){"@"==i.charAt(0)&&i==wI?this.disableAnimations(n,!!s):this.delegate.setProperty(n,i,s)}setValue(n,i){this.delegate.setValue(n,i)}listen(n,i,s){return this.delegate.listen(n,i,s)}disableAnimations(n,i){this.engine.disableAnimations(n,i)}}class gH extends bI{constructor(n,i,s,l){super(i,s,l),this.factory=n,this.namespaceId=i}setProperty(n,i,s){"@"==i.charAt(0)?"."==i.charAt(1)&&i==wI?this.disableAnimations(n,s=void 0===s||!!s):this.engine.process(this.namespaceId,n,i.substr(1),s):this.delegate.setProperty(n,i,s)}listen(n,i,s){if("@"==i.charAt(0)){const l=function(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(n);let p=i.substr(1),b="";return"@"!=p.charAt(0)&&([p,b]=function(r){const n=r.indexOf(".");return[r.substring(0,n),r.substr(n+1)]}(p)),this.engine.listen(this.namespaceId,l,p,b,R=>{this.factory.scheduleListenerCallback(R._data||-1,s,R)})}return this.delegate.listen(n,i,s)}}let xH=(()=>{class r extends kC{constructor(i,s,l){super(i.body,s,l)}ngOnDestroy(){this.flush()}}return r.\u0275fac=function(i){return new(i||r)(pi(Nr),pi(uk),pi(bk))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})();const Pd=new un("AnimationModuleType"),_I=[{provide:C6,useClass:fH},{provide:bk,useFactory:function(){return new Dz}},{provide:kC,useClass:xH},{provide:A1,useFactory:function(r,n,i){return new mH(r,n,i)},deps:[$2,kC,gr]}],MI=[{provide:uk,useFactory:function(){return"function"==typeof yI()?new hH:new mI}},{provide:Pd,useValue:"BrowserAnimations"},..._I],MH=[{provide:uk,useClass:L6},{provide:Pd,useValue:"NoopAnimations"},..._I];let CH=(()=>{class r{static withConfig(i){return{ngModule:r,providers:i.disableAnimations?MH:MI}}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({providers:MI,imports:[GP]}),r})();const SH=["*",[["mat-option"],["ng-container"]]],DH=["*","mat-option, ng-container"];function EH(r,n){if(1&r&&On(0,"mat-pseudo-checkbox",4),2&r){const i=_();Pi("state",i.selected?"checked":"unchecked")("disabled",i.disabled)}}function kH(r,n){if(1&r&&(Qe(0,"span",5),Ji(1),ti()),2&r){const i=_();Ai(1),oa("(",i.group.label,")")}}const AH=["*"],CI=new Zv("13.0.0"),PH=new un("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Bo=(()=>{class r{constructor(i,s,l){this._hasDoneGlobalChecks=!1,this._document=l,i._applyBodyHighContrastModeCssClasses(),this._sanityChecks=s,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return!(!wD()||DE())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[i])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const i=this._document.createElement("div");i.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(i);const s=getComputedStyle(i);s&&"none"!==s.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),i.remove()}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&CI.full!==M6.full&&console.warn("The Angular Material version ("+CI.full+") does not match the Angular CDK version ("+M6.full+").\nPlease ensure the versions of these two packages exactly match.")}}return r.\u0275fac=function(i){return new(i||r)(pi(_6),pi(PH,8),pi(Nr))},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({imports:[[z_],z_]}),r})();function G_(r){return class extends r{constructor(...n){super(...n),this._disabled=!1}get disabled(){return this._disabled}set disabled(n){this._disabled=Yr(n)}}}function Y1(r,n){return class extends r{constructor(...i){super(...i),this.defaultColor=n,this.color=n}get color(){return this._color}set color(i){const s=i||this.defaultColor;s!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),s&&this._elementRef.nativeElement.classList.add(`mat-${s}`),this._color=s)}}}function ly(r){return class extends r{constructor(...n){super(...n),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=Yr(n)}}}function Ak(r,n=0){return class extends r{constructor(...i){super(...i),this._tabIndex=n,this.defaultTabIndex=n}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(i){this._tabIndex=null!=i?ey(i):this.defaultTabIndex}}}function SI(r){return class extends r{constructor(...n){super(...n),this.stateChanges=new C,this.errorState=!1}updateErrorState(){const n=this.errorState,p=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);p!==n&&(this.errorState=p,this.stateChanges.next())}}}const DI=new un("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return Iu(ug)}});class zu{constructor(){this._localeChanges=new C,this.localeChanges=this._localeChanges}getValidDateOrNull(n){return this.isDateInstance(n)&&this.isValid(n)?n:null}deserialize(n){return null==n||this.isDateInstance(n)&&this.isValid(n)?n:this.invalid()}setLocale(n){this.locale=n,this._localeChanges.next()}compareDate(n,i){return this.getYear(n)-this.getYear(i)||this.getMonth(n)-this.getMonth(i)||this.getDate(n)-this.getDate(i)}sameDate(n,i){if(n&&i){let s=this.isValid(n),l=this.isValid(i);return s&&l?!this.compareDate(n,i):s==l}return n==i}clampDate(n,i,s){return i&&this.compareDate(n,i)<0?i:s&&this.compareDate(n,s)>0?s:n}}const $1=new un("mat-date-formats"),RH=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Tk(r,n){const i=Array(r);for(let s=0;s<r;s++)i[s]=n(s);return i}let OH=(()=>{class r extends zu{constructor(i,s){super(),this.useUtcForDisplay=!1,super.setLocale(i)}getYear(i){return i.getFullYear()}getMonth(i){return i.getMonth()}getDate(i){return i.getDate()}getDayOfWeek(i){return i.getDay()}getMonthNames(i){const s=new Intl.DateTimeFormat(this.locale,{month:i,timeZone:"utc"});return Tk(12,l=>this._format(s,new Date(2017,l,1)))}getDateNames(){const i=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Tk(31,s=>this._format(i,new Date(2017,0,s+1)))}getDayOfWeekNames(i){const s=new Intl.DateTimeFormat(this.locale,{weekday:i,timeZone:"utc"});return Tk(7,l=>this._format(s,new Date(2017,0,l+1)))}getYearName(i){const s=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(s,i)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(i){return this.getDate(this._createDateWithOverflow(this.getYear(i),this.getMonth(i)+1,0))}clone(i){return new Date(i.getTime())}createDate(i,s,l){let p=this._createDateWithOverflow(i,s,l);return p.getMonth(),p}today(){return new Date}parse(i){return"number"==typeof i?new Date(i):i?new Date(Date.parse(i)):null}format(i,s){if(!this.isValid(i))throw Error("NativeDateAdapter: Cannot format invalid date.");const l=new Intl.DateTimeFormat(this.locale,Fl(wn({},s),{timeZone:"utc"}));return this._format(l,i)}addCalendarYears(i,s){return this.addCalendarMonths(i,12*s)}addCalendarMonths(i,s){let l=this._createDateWithOverflow(this.getYear(i),this.getMonth(i)+s,this.getDate(i));return this.getMonth(l)!=((this.getMonth(i)+s)%12+12)%12&&(l=this._createDateWithOverflow(this.getYear(l),this.getMonth(l),0)),l}addCalendarDays(i,s){return this._createDateWithOverflow(this.getYear(i),this.getMonth(i),this.getDate(i)+s)}toIso8601(i){return[i.getUTCFullYear(),this._2digit(i.getUTCMonth()+1),this._2digit(i.getUTCDate())].join("-")}deserialize(i){if("string"==typeof i){if(!i)return null;if(RH.test(i)){let s=new Date(i);if(this.isValid(s))return s}}return super.deserialize(i)}isDateInstance(i){return i instanceof Date}isValid(i){return!isNaN(i.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(i,s,l){const p=new Date;return p.setFullYear(i,s,l),p.setHours(0,0,0,0),p}_2digit(i){return("00"+i).slice(-2)}_format(i,s){const l=new Date;return l.setUTCFullYear(s.getFullYear(),s.getMonth(),s.getDate()),l.setUTCHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()),i.format(l)}}return r.\u0275fac=function(i){return new(i||r)(pi(DI,8),pi(Ol))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})();const NH={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let LH=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({providers:[{provide:zu,useClass:OH}],imports:[[Fw]]}),r})(),FH=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({providers:[{provide:$1,useValue:NH}],imports:[[LH]]}),r})(),Pk=(()=>{class r{isErrorState(i,s){return!!(i&&i.invalid&&(i.touched||s&&s.submitted))}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),EI=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=an({type:r,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),r})();function W_(r,n,i){r.nativeElement.classList.toggle(n,i)}let AI=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({imports:[[Bo],Bo]}),r})();class BH{constructor(n,i,s){this._renderer=n,this.element=i,this.config=s,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const TI={enterDuration:225,exitDuration:150},Ik=q2({passive:!0}),PI=["mousedown","touchstart"],II=["mouseup","mouseleave","touchend","touchcancel"];class jH{constructor(n,i,s,l){this._target=n,this._ngZone=i,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,l.isBrowser&&(this._containerElement=dg(s))}fadeInRipple(n,i,s={}){const l=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),p=wn(wn({},TI),s.animation);s.centered&&(n=l.left+l.width/2,i=l.top+l.height/2);const b=s.radius||function(r,n,i){const s=Math.max(Math.abs(r-i.left),Math.abs(r-i.right)),l=Math.max(Math.abs(n-i.top),Math.abs(n-i.bottom));return Math.sqrt(s*s+l*l)}(n,i,l),R=n-l.left,G=i-l.top,ut=p.enterDuration,St=document.createElement("div");St.classList.add("mat-ripple-element"),St.style.left=R-b+"px",St.style.top=G-b+"px",St.style.height=2*b+"px",St.style.width=2*b+"px",null!=s.color&&(St.style.backgroundColor=s.color),St.style.transitionDuration=`${ut}ms`,this._containerElement.appendChild(St),window.getComputedStyle(St).getPropertyValue("opacity"),St.style.transform="scale(1)";const Ut=new BH(this,St,s);return Ut.state=0,this._activeRipples.add(Ut),s.persistent||(this._mostRecentTransientRipple=Ut),this._runTimeoutOutsideZone(()=>{const Jt=Ut===this._mostRecentTransientRipple;Ut.state=1,!s.persistent&&(!Jt||!this._isPointerDown)&&Ut.fadeOut()},ut),Ut}fadeOutRipple(n){const i=this._activeRipples.delete(n);if(n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!i)return;const s=n.element,l=wn(wn({},TI),n.config.animation);s.style.transitionDuration=`${l.exitDuration}ms`,s.style.opacity="0",n.state=2,this._runTimeoutOutsideZone(()=>{n.state=3,s.remove()},l.exitDuration)}fadeOutAll(){this._activeRipples.forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const i=dg(n);!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,this._registerEvents(PI))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(II),this._pointerUpEventsRegistered=!0)}_onMousedown(n){const i=v6(n),s=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!i&&!s&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!y6(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const i=n.changedTouches;for(let s=0;s<i.length;s++)this.fadeInRipple(i[s].clientX,i[s].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_runTimeoutOutsideZone(n,i=0){this._ngZone.runOutsideAngular(()=>setTimeout(n,i))}_registerEvents(n){this._ngZone.runOutsideAngular(()=>{n.forEach(i=>{this._triggerElement.addEventListener(i,this,Ik)})})}_removeTriggerEvents(){this._triggerElement&&(PI.forEach(n=>{this._triggerElement.removeEventListener(n,this,Ik)}),this._pointerUpEventsRegistered&&II.forEach(n=>{this._triggerElement.removeEventListener(n,this,Ik)}))}}const UH=new un("mat-ripple-global-options");let X1=(()=>{class r{constructor(i,s,l,p,b){this._elementRef=i,this._animationMode=b,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=p||{},this._rippleRenderer=new jH(this,s,i,l)}get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:wn(wn(wn({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,s=0,l){return"number"==typeof i?this._rippleRenderer.fadeInRipple(i,s,wn(wn({},this.rippleConfig),l)):this._rippleRenderer.fadeInRipple(0,0,wn(wn({},this.rippleConfig),i))}}return r.\u0275fac=function(i){return new(i||r)(be(cr),be(gr),be(Ol),be(UH,8),be(Pd,8))},r.\u0275dir=an({type:r,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,s){2&i&&Dr("mat-ripple-unbounded",s.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),r})(),PC=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({imports:[[Bo,Fw],Bo]}),r})(),RI=(()=>{class r{constructor(i){this._animationMode=i,this.state="unchecked",this.disabled=!1}}return r.\u0275fac=function(i){return new(i||r)(be(Pd,8))},r.\u0275cmp=fn({type:r,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(i,s){2&i&&Dr("mat-pseudo-checkbox-indeterminate","indeterminate"===s.state)("mat-pseudo-checkbox-checked","checked"===s.state)("mat-pseudo-checkbox-disabled",s.disabled)("_mat-animation-noopable","NoopAnimations"===s._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(i,s){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),r})(),Rk=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({imports:[[Bo]]}),r})();const IC=new un("MAT_OPTION_PARENT_COMPONENT"),GH=G_(class{});let WH=0,YH=(()=>{class r extends GH{constructor(i){var s;super(),this._labelId="mat-optgroup-label-"+WH++,this._inert=null!=(s=null==i?void 0:i.inertGroups)&&s}}return r.\u0275fac=function(i){return new(i||r)(be(IC,8))},r.\u0275dir=an({type:r,inputs:{label:"label"},features:[Qn]}),r})();const RC=new un("MatOptgroup");let OI=(()=>{class r extends YH{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=po(r)))(s||r)}}(),r.\u0275cmp=fn({type:r,selectors:[["mat-optgroup"]],hostAttrs:[1,"mat-optgroup"],hostVars:5,hostBindings:function(i,s){2&i&&(Pr("role",s._inert?null:"group")("aria-disabled",s._inert?null:s.disabled.toString())("aria-labelledby",s._inert?null:s._labelId),Dr("mat-optgroup-disabled",s.disabled))},inputs:{disabled:"disabled"},exportAs:["matOptgroup"],features:[lo([{provide:RC,useExisting:r}]),Qn],ngContentSelectors:DH,decls:4,vars:2,consts:[["aria-hidden","true",1,"mat-optgroup-label",3,"id"]],template:function(i,s){1&i&&(I(SH),Qe(0,"span",0),Ji(1),B(2),ti(),B(3,1)),2&i&&(Pi("id",s._labelId),Ai(1),oa("",s.label," "))},styles:[".mat-optgroup-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup-label[disabled]{cursor:default}[dir=rtl] .mat-optgroup-label{text-align:right}.mat-optgroup-label .mat-icon{margin-right:16px;vertical-align:middle}.mat-optgroup-label .mat-icon svg{vertical-align:top}[dir=rtl] .mat-optgroup-label .mat-icon{margin-left:16px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),r})(),$H=0;class NI{constructor(n,i=!1){this.source=n,this.isUserInput=i}}let XH=(()=>{class r{constructor(i,s,l,p){this._element=i,this._changeDetectorRef=s,this._parent=l,this.group=p,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+$H++,this.onSelectionChange=new xn,this._stateChanges=new C}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(i){this._disabled=Yr(i)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(i,s){const l=this._getHostElement();"function"==typeof l.focus&&l.focus(s)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(i){(13===i.keyCode||32===i.keyCode)&&!Zh(i)&&(this._selectViaInteraction(),i.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const i=this.viewValue;i!==this._mostRecentViewValue&&(this._mostRecentViewValue=i,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(i=!1){this.onSelectionChange.emit(new NI(this,i))}}return r.\u0275fac=function(i){A0()},r.\u0275dir=an({type:r,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),r})(),Y_=(()=>{class r extends XH{constructor(i,s,l,p){super(i,s,l,p)}}return r.\u0275fac=function(i){return new(i||r)(be(cr),be(Ks),be(IC,8),be(RC,8))},r.\u0275cmp=fn({type:r,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(i,s){1&i&&e("click",function(){return s._selectViaInteraction()})("keydown",function(p){return s._handleKeydown(p)}),2&i&&(ju("id",s.id),Pr("tabindex",s._getTabIndex())("aria-selected",s._getAriaSelected())("aria-disabled",s.disabled.toString()),Dr("mat-selected",s.selected)("mat-option-multiple",s.multiple)("mat-active",s.active)("mat-option-disabled",s.disabled))},exportAs:["matOption"],features:[Qn],ngContentSelectors:AH,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(i,s){1&i&&(I(),Mn(0,EH,1,2,"mat-pseudo-checkbox",0),Qe(1,"span",1),B(2),ti(),Mn(3,kH,2,1,"span",2),On(4,"div",3)),2&i&&(Pi("ngIf",s.multiple),Ai(3),Pi("ngIf",s.group&&s.group._inert),Ai(1),Pi("matRippleTrigger",s._getHostElement())("matRippleDisabled",s.disabled||s.disableRipple))},directives:[Yh,X1,RI],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),r})();function Ok(r,n,i){if(i.length){let s=n.toArray(),l=i.toArray(),p=0;for(let b=0;b<r+1;b++)s[b].group&&s[b].group===l[p]&&p++;return p}return 0}function LI(r,n,i,s){return r<i?r:r+n>i+s?Math.max(0,r-s+n):i}let OC=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({imports:[[PC,Lp,Bo,Rk]]}),r})();const KH=["mat-button",""],ZH=["*"],QH=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],JH=Y1(G_(ly(class{constructor(r){this._elementRef=r}})));let uy=(()=>{class r extends JH{constructor(i,s,l){super(i),this._focusMonitor=s,this._animationMode=l,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const p of QH)this._hasHostAttributes(p)&&this._getHostElement().classList.add(p);i.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(i,s){i?this._focusMonitor.focusVia(this._getHostElement(),i,s):this._getHostElement().focus(s)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...i){return i.some(s=>this._getHostElement().hasAttribute(s))}}return r.\u0275fac=function(i){return new(i||r)(be(cr),be(Yw),be(Pd,8))},r.\u0275cmp=fn({type:r,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(i,s){if(1&i&&ms(X1,5),2&i){let l;Jn(l=tr())&&(s.ripple=l.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(i,s){2&i&&(Pr("disabled",s.disabled||null),Dr("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-button-disabled",s.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Qn],attrs:KH,ngContentSelectors:ZH,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(i,s){1&i&&(I(),Qe(0,"span",0),B(1),ti(),On(2,"span",1),On(3,"span",2)),2&i&&(Ai(2),Dr("mat-button-ripple-round",s.isRoundButton||s.isIconButton),Pi("matRippleDisabled",s._isRippleDisabled())("matRippleCentered",s.isIconButton)("matRippleTrigger",s._getHostElement()))},directives:[X1],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),r})(),Nk=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({imports:[[PC,Bo],Bo]}),r})();const tU=["*",[["mat-card-footer"]]],eU=["*","mat-card-footer"];let iU=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=an({type:r,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),r})(),nU=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=an({type:r,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),r})(),rU=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=an({type:r,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),r})(),oU=(()=>{class r{constructor(){this.align="start"}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=an({type:r,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(i,s){2&i&&Dr("mat-card-actions-align-end","end"===s.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),r})(),sU=(()=>{class r{constructor(i){this._animationMode=i}}return r.\u0275fac=function(i){return new(i||r)(be(Pd,8))},r.\u0275cmp=fn({type:r,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(i,s){2&i&&Dr("_mat-animation-noopable","NoopAnimations"===s._animationMode)},exportAs:["matCard"],ngContentSelectors:eU,decls:2,vars:0,template:function(i,s){1&i&&(I(tU),B(0),B(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),r})(),aU=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({imports:[[Bo],Bo]}),r})();const lU=["input"],uU=function(r){return{enterDuration:r}},hU=["*"],cU=new un("mat-checkbox-default-options",{providedIn:"root",factory:FI});function FI(){return{color:"accent",clickAction:"check-indeterminate"}}let fU=0;const BI=FI(),dU={provide:Vc,useExisting:Vi(()=>VI),multi:!0};class pU{}const mU=Ak(Y1(ly(G_(class{constructor(r){this._elementRef=r}}))));let VI=(()=>{class r extends mU{constructor(i,s,l,p,b,R,G){super(i),this._changeDetectorRef=s,this._focusMonitor=l,this._ngZone=p,this._animationMode=R,this._options=G,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++fU,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new xn,this.indeterminateChange=new xn,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||BI,this.color=this.defaultColor=this._options.color||BI.color,this.tabIndex=parseInt(b)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(i){this._required=Yr(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(i=>{i||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(i){i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(i){const s=Yr(i);s!==this.disabled&&(this._disabled=s,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(i){const s=i!=this._indeterminate;this._indeterminate=Yr(i),s&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(i){this.checked=!!i}registerOnChange(i){this._controlValueAccessorChangeFn=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(i){let s=this._currentCheckState,l=this._elementRef.nativeElement;if(s!==i&&(this._currentAnimationClass.length>0&&l.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(s,i),this._currentCheckState=i,this._currentAnimationClass.length>0)){l.classList.add(this._currentAnimationClass);const p=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{l.classList.remove(p)},1e3)})}}_emitChangeEvent(){const i=new pU;i.source=this,i.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(i),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked}_onInputClick(i){var l;const s=null==(l=this._options)?void 0:l.clickAction;i.stopPropagation(),this.disabled||"noop"===s?!this.disabled&&"noop"===s&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==s&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(i,s){i?this._focusMonitor.focusVia(this._inputElement,i,s):this._inputElement.nativeElement.focus(s)}_onInteractionEvent(i){i.stopPropagation()}_getAnimationClassForCheckStateTransition(i,s){if("NoopAnimations"===this._animationMode)return"";let l="";switch(i){case 0:if(1===s)l="unchecked-checked";else{if(3!=s)return"";l="unchecked-indeterminate"}break;case 2:l=1===s?"unchecked-checked":"unchecked-indeterminate";break;case 1:l=2===s?"checked-unchecked":"checked-indeterminate";break;case 3:l=1===s?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${l}`}_syncIndeterminate(i){const s=this._inputElement;s&&(s.nativeElement.indeterminate=i)}}return r.\u0275fac=function(i){return new(i||r)(be(cr),be(Ks),be(Yw),be(gr),Eu("tabindex"),be(Pd,8),be(cU,8))},r.\u0275cmp=fn({type:r,selectors:[["mat-checkbox"]],viewQuery:function(i,s){if(1&i&&(ms(lU,5),ms(X1,5)),2&i){let l;Jn(l=tr())&&(s._inputElement=l.first),Jn(l=tr())&&(s.ripple=l.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(i,s){2&i&&(ju("id",s.id),Pr("tabindex",null),Dr("mat-checkbox-indeterminate",s.indeterminate)("mat-checkbox-checked",s.checked)("mat-checkbox-disabled",s.disabled)("mat-checkbox-label-before","before"==s.labelPosition)("_mat-animation-noopable","NoopAnimations"===s._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[lo([dU]),Qn],ngContentSelectors:hU,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(i,s){if(1&i&&(I(),Qe(0,"label",0,1),Qe(2,"span",2),Qe(3,"input",3,4),e("change",function(p){return s._onInteractionEvent(p)})("click",function(p){return s._onInputClick(p)}),ti(),Qe(5,"span",5),On(6,"span",6),ti(),On(7,"span",7),Qe(8,"span",8),sm(),Qe(9,"svg",9),On(10,"path",10),ti(),t0(),On(11,"span",11),ti(),ti(),Qe(12,"span",12,13),e("cdkObserveContent",function(){return s._onLabelTextChange()}),Qe(14,"span",14),Ji(15,"\xa0"),ti(),B(16),ti(),ti()),2&i){const l=Oh(1),p=Oh(13);Pr("for",s.inputId),Ai(2),Dr("mat-checkbox-inner-container-no-side-margin",!p.textContent||!p.textContent.trim()),Ai(1),Pi("id",s.inputId)("required",s.required)("checked",s.checked)("disabled",s.disabled)("tabIndex",s.tabIndex),Pr("value",s.value)("name",s.name)("aria-label",s.ariaLabel||null)("aria-labelledby",s.ariaLabelledby)("aria-checked",s._getAriaChecked())("aria-describedby",s.ariaDescribedby),Ai(2),Pi("matRippleTrigger",l)("matRippleDisabled",s._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",function(r,n,i,s){return _T(Wi(),Ho(),r,n,i,s)}(19,uU,"NoopAnimations"===s._animationMode?0:150))}},directives:[X1,l6],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),r})(),jI=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({}),r})(),yU=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({imports:[[PC,Bo,KE,jI],Bo,jI]}),r})();const xU=["addListener","removeListener"],wU=["addEventListener","removeEventListener"],bU=["on","off"];function jp(r,n,i,s){if(Tt(i)&&(s=i,i=void 0),s)return jp(r,n,i).pipe(xE(s));const[l,p]=function(r){return Tt(r.addEventListener)&&Tt(r.removeEventListener)}(r)?wU.map(b=>R=>r[b](n,R,i)):function(r){return Tt(r.addListener)&&Tt(r.removeListener)}(r)?xU.map(zI(r,n)):function(r){return Tt(r.on)&&Tt(r.off)}(r)?bU.map(zI(r,n)):[];if(!l&&he(r))return ae(b=>jp(b,n,i))(En(r));if(!l)throw new TypeError("Invalid event target");return new y(b=>{const R=(...G)=>b.next(1<G.length?G:G[0]);return l(R),()=>p(R)})}function zI(r,n){return i=>s=>r[i](n,s)}const $_={schedule(r){let n=requestAnimationFrame,i=cancelAnimationFrame;const{delegate:s}=$_;s&&(n=s.requestAnimationFrame,i=s.cancelAnimationFrame);const l=n(p=>{i=void 0,r(p)});return new D(()=>null==i?void 0:i(l))},requestAnimationFrame(...r){const{delegate:n}=$_;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame)(...r)},cancelAnimationFrame(...r){const{delegate:n}=$_;return((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame)(...r)},delegate:void 0};new class extends _E{flush(n){this._active=!0,this._scheduled=void 0;const{actions:i}=this;let s,l=-1;n=n||i.shift();const p=i.length;do{if(s=n.execute(n.state,n.delay))break}while(++l<p&&(n=i.shift()));if(this._active=!1,s){for(;++l<p&&(n=i.shift());)n.unsubscribe();throw s}}}(class extends wE{constructor(n,i){super(n,i),this.scheduler=n,this.work=i}requestAsyncId(n,i,s=0){return null!==s&&s>0?super.requestAsyncId(n,i,s):(n.actions.push(this),n._scheduled||(n._scheduled=$_.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,i,s=0){if(null!=s&&s>0||null==s&&this.delay>0)return super.recycleAsyncId(n,i,s);0===n.actions.length&&($_.cancelAnimationFrame(i),n._scheduled=void 0)}});let Lk,kU=1;const NC={};function HI(r){return r in NC&&(delete NC[r],!0)}const AU={setImmediate(r){const n=kU++;return NC[n]=!0,Lk||(Lk=Promise.resolve()),Lk.then(()=>HI(n)&&r()),n},clearImmediate(r){HI(r)}},{setImmediate:TU,clearImmediate:PU}=AU,LC={setImmediate(...r){const{delegate:n}=LC;return((null==n?void 0:n.setImmediate)||TU)(...r)},clearImmediate(r){const{delegate:n}=LC;return((null==n?void 0:n.clearImmediate)||PU)(r)},delegate:void 0};new class extends _E{flush(n){this._active=!0,this._scheduled=void 0;const{actions:i}=this;let s,l=-1;n=n||i.shift();const p=i.length;do{if(s=n.execute(n.state,n.delay))break}while(++l<p&&(n=i.shift()));if(this._active=!1,s){for(;++l<p&&(n=i.shift());)n.unsubscribe();throw s}}}(class extends wE{constructor(n,i){super(n,i),this.scheduler=n,this.work=i}requestAsyncId(n,i,s=0){return null!==s&&s>0?super.requestAsyncId(n,i,s):(n.actions.push(this),n._scheduled||(n._scheduled=LC.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,i,s=0){if(null!=s&&s>0||null==s&&this.delay>0)return super.recycleAsyncId(n,i,s);0===n.actions.length&&(LC.clearImmediate(i),n._scheduled=void 0)}});function UI(r=0,n,i=QP){let s=-1;return null!=n&&(tn(n)?i=n:s=n),new y(l=>{let p=function(r){return r instanceof Date&&!isNaN(r)}(r)?+r-i.now():r;p<0&&(p=0);let b=0;return i.schedule(function(){l.closed||(l.next(b++),0<=s?this.schedule(void 0,s):l.complete())},p)})}function Fk(r,n=QP){return function(r){return nt((n,i)=>{let s=!1,l=null,p=null,b=!1;const R=()=>{if(null==p||p.unsubscribe(),p=null,s){s=!1;const ut=l;l=null,i.next(ut)}b&&i.complete()},G=()=>{p=null,b&&i.complete()};n.subscribe(new Q(i,ut=>{s=!0,l=ut,p||En(r()).subscribe(p=new Q(i,R,G))},()=>{b=!0,(!s||!p||p.closed)&&i.complete()}))})}(()=>UI(r,n))}let FC=(()=>{class r{constructor(i,s,l){this._ngZone=i,this._platform=s,this._scrolled=new C,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=l}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){const s=this.scrollContainers.get(i);s&&(s.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=20){return this._platform.isBrowser?new y(s=>{this._globalSubscription||this._addGlobalListener();const l=i>0?this._scrolled.pipe(Fk(i)).subscribe(s):this._scrolled.subscribe(s);return this._scrolledCount++,()=>{l.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):vr()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,s)=>this.deregister(s)),this._scrolled.complete()}ancestorScrolled(i,s){const l=this.getAncestorScrollContainers(i);return this.scrolled(s).pipe(Hs(p=>!p||l.indexOf(p)>-1))}getAncestorScrollContainers(i){const s=[];return this.scrollContainers.forEach((l,p)=>{this._scrollableContainsElement(p,i)&&s.push(p)}),s}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,s){let l=dg(s),p=i.getElementRef().nativeElement;do{if(l==p)return!0}while(l=l.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>jp(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return r.\u0275fac=function(i){return new(i||r)(pi(gr),pi(Ol),pi(Nr,8))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),BC=(()=>{class r{constructor(i,s,l,p){this.elementRef=i,this.scrollDispatcher=s,this.ngZone=l,this.dir=p,this._destroyed=new C,this._elementScrolled=new y(b=>this.ngZone.runOutsideAngular(()=>jp(this.elementRef.nativeElement,"scroll").pipe(ls(this._destroyed)).subscribe(b)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(i){const s=this.elementRef.nativeElement,l=this.dir&&"rtl"==this.dir.value;null==i.left&&(i.left=l?i.end:i.start),null==i.right&&(i.right=l?i.start:i.end),null!=i.bottom&&(i.top=s.scrollHeight-s.clientHeight-i.bottom),l&&0!=T_()?(null!=i.left&&(i.right=s.scrollWidth-s.clientWidth-i.left),2==T_()?i.left=i.right:1==T_()&&(i.left=i.right?-i.right:i.right)):null!=i.right&&(i.left=s.scrollWidth-s.clientWidth-i.right),this._applyScrollToOptions(i)}_applyScrollToOptions(i){const s=this.elementRef.nativeElement;e4()?s.scrollTo(i):(null!=i.top&&(s.scrollTop=i.top),null!=i.left&&(s.scrollLeft=i.left))}measureScrollOffset(i){const s="left",l="right",p=this.elementRef.nativeElement;if("top"==i)return p.scrollTop;if("bottom"==i)return p.scrollHeight-p.clientHeight-p.scrollTop;const b=this.dir&&"rtl"==this.dir.value;return"start"==i?i=b?l:s:"end"==i&&(i=b?s:l),b&&2==T_()?i==s?p.scrollWidth-p.clientWidth-p.scrollLeft:p.scrollLeft:b&&1==T_()?i==s?p.scrollLeft+p.scrollWidth-p.clientWidth:-p.scrollLeft:i==s?p.scrollLeft:p.scrollWidth-p.clientWidth-p.scrollLeft}}return r.\u0275fac=function(i){return new(i||r)(be(cr),be(FC),be(gr),be(Vp,8))},r.\u0275dir=an({type:r,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),r})(),X_=(()=>{class r{constructor(i,s,l){this._platform=i,this._change=new C,this._changeListener=p=>{this._change.next(p)},this._document=l,s.runOutsideAngular(()=>{if(i.isBrowser){const p=this._getWindow();p.addEventListener("resize",this._changeListener),p.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){const i=this.getViewportScrollPosition(),{width:s,height:l}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+l,right:i.left+s,height:l,width:s}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const i=this._document,s=this._getWindow(),l=i.documentElement,p=l.getBoundingClientRect();return{top:-p.top||i.body.scrollTop||s.scrollY||l.scrollTop||0,left:-p.left||i.body.scrollLeft||s.scrollX||l.scrollLeft||0}}change(i=20){return i>0?this._change.pipe(Fk(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}}return r.\u0275fac=function(i){return new(i||r)(pi(Ol),pi(gr),pi(Nr,8))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),K1=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({}),r})(),GI=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({imports:[[z_,Fw,K1],z_,K1]}),r})();function jU(r,n){return function(i,s){n(i,s,r)}}function zU(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)}class Vk{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class K_ extends Vk{constructor(n,i,s,l){super(),this.component=n,this.viewContainerRef=i,this.injector=s,this.componentFactoryResolver=l}}class Z_ extends Vk{constructor(n,i,s){super(),this.templateRef=n,this.viewContainerRef=i,this.context=s}get origin(){return this.templateRef.elementRef}attach(n,i=this.context){return this.context=i,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class GU extends Vk{constructor(n){super(),this.element=n instanceof cr?n.nativeElement:n}}class jk{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof K_?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof Z_?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof GU?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class WU extends jk{constructor(n,i,s,l,p){super(),this.outletElement=n,this._componentFactoryResolver=i,this._appRef=s,this._defaultInjector=l,this.attachDomPortal=b=>{const R=b.element,G=this._document.createComment("dom-portal");R.parentNode.insertBefore(G,R),this.outletElement.appendChild(R),this._attachedPortal=b,super.setDisposeFn(()=>{G.parentNode&&G.parentNode.replaceChild(R,G)})},this._document=p}attachComponentPortal(n){const s=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let l;return n.viewContainerRef?(l=n.viewContainerRef.createComponent(s,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector),this.setDisposeFn(()=>l.destroy())):(l=s.create(n.injector||this._defaultInjector),this._appRef.attachView(l.hostView),this.setDisposeFn(()=>{this._appRef.detachView(l.hostView),l.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(l)),this._attachedPortal=n,l}attachTemplatePortal(n){let i=n.viewContainerRef,s=i.createEmbeddedView(n.templateRef,n.context);return s.rootNodes.forEach(l=>this.outletElement.appendChild(l)),s.detectChanges(),this.setDisposeFn(()=>{let l=i.indexOf(s);-1!==l&&i.remove(l)}),this._attachedPortal=n,s}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let q_=(()=>{class r extends jk{constructor(i,s,l){super(),this._componentFactoryResolver=i,this._viewContainerRef=s,this._isInitialized=!1,this.attached=new xn,this.attachDomPortal=p=>{const b=p.element,R=this._document.createComment("dom-portal");p.setAttachedHost(this),b.parentNode.insertBefore(R,b),this._getRootNode().appendChild(b),this._attachedPortal=p,super.setDisposeFn(()=>{R.parentNode&&R.parentNode.replaceChild(b,R)})},this._document=l}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(i){i.setAttachedHost(this);const s=null!=i.viewContainerRef?i.viewContainerRef:this._viewContainerRef,p=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component),b=s.createComponent(p,s.length,i.injector||s.injector);return s!==this._viewContainerRef&&this._getRootNode().appendChild(b.hostView.rootNodes[0]),super.setDisposeFn(()=>b.destroy()),this._attachedPortal=i,this._attachedRef=b,this.attached.emit(b),b}attachTemplatePortal(i){i.setAttachedHost(this);const s=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=s,this.attached.emit(s),s}_getRootNode(){const i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}}return r.\u0275fac=function(i){return new(i||r)(be(ag),be(lh),be(Nr))},r.\u0275dir=an({type:r,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Qn]}),r})(),jC=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({}),r})();const XI=e4();class $U{constructor(n,i){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=Rl(-this._previousScrollPosition.left),n.style.top=Rl(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,s=n.style,l=this._document.body.style,p=s.scrollBehavior||"",b=l.scrollBehavior||"";this._isEnabled=!1,s.left=this._previousHTMLStyles.left,s.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),XI&&(s.scrollBehavior=l.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),XI&&(s.scrollBehavior=p,l.scrollBehavior=b)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const i=this._document.body,s=this._viewportRuler.getViewportSize();return i.scrollHeight>s.height||i.scrollWidth>s.width}}class XU{constructor(n,i,s,l){this._scrollDispatcher=n,this._ngZone=i,this._viewportRuler=s,this._config=l,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class KI{enable(){}disable(){}attach(){}}function zk(r,n){return n.some(i=>r.bottom<i.top||r.top>i.bottom||r.right<i.left||r.left>i.right)}function ZI(r,n){return n.some(i=>r.top<i.top||r.bottom>i.bottom||r.left<i.left||r.right>i.right)}class KU{constructor(n,i,s,l){this._scrollDispatcher=n,this._viewportRuler=i,this._ngZone=s,this._config=l,this._scrollSubscription=null}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:s,height:l}=this._viewportRuler.getViewportSize();zk(i,[{width:s,height:l,bottom:l,right:s,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ZU=(()=>{class r{constructor(i,s,l,p){this._scrollDispatcher=i,this._viewportRuler=s,this._ngZone=l,this.noop=()=>new KI,this.close=b=>new XU(this._scrollDispatcher,this._ngZone,this._viewportRuler,b),this.block=()=>new $U(this._viewportRuler,this._document),this.reposition=b=>new KU(this._scrollDispatcher,this._viewportRuler,this._ngZone,b),this._document=p}}return r.\u0275fac=function(i){return new(i||r)(pi(FC),pi(X_),pi(gr),pi(Nr))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class Q_{constructor(n){if(this.scrollStrategy=new KI,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){const i=Object.keys(n);for(const s of i)void 0!==n[s]&&(this[s]=n[s])}}}class qU{constructor(n,i,s,l,p){this.offsetX=s,this.offsetY=l,this.panelClass=p,this.originX=n.originX,this.originY=n.originY,this.overlayX=i.overlayX,this.overlayY=i.overlayY}}class QU{}let JU=(()=>{let r=class{constructor(i,s){this.connectionPair=i,this.scrollableViewProperties=s}};return r=function(r,n,i,s){var b,l=arguments.length,p=l<3?n:null===s?s=Object.getOwnPropertyDescriptor(n,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(r,n,i,s);else for(var R=r.length-1;R>=0;R--)(b=r[R])&&(p=(l<3?b(p):l>3?b(n,i,p):b(n,i))||p);return l>3&&p&&Object.defineProperty(n,i,p),p}([jU(1,Jo()),zU("design:paramtypes",[qU,QU])],r),r})(),qI=(()=>{class r{constructor(i){this._attachedOverlays=[],this._document=i}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){const s=this._attachedOverlays.indexOf(i);s>-1&&this._attachedOverlays.splice(s,1),0===this._attachedOverlays.length&&this.detach()}}return r.\u0275fac=function(i){return new(i||r)(pi(Nr))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),tG=(()=>{class r extends qI{constructor(i){super(i),this._keydownListener=s=>{const l=this._attachedOverlays;for(let p=l.length-1;p>-1;p--)if(l[p]._keydownEvents.observers.length>0){l[p]._keydownEvents.next(s);break}}}add(i){super.add(i),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return r.\u0275fac=function(i){return new(i||r)(pi(Nr))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),eG=(()=>{class r extends qI{constructor(i,s){super(i),this._platform=s,this._cursorStyleIsSet=!1,this._pointerDownListener=l=>{this._pointerDownEventTarget=iy(l)},this._clickListener=l=>{const p=iy(l),b="click"===l.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:p;this._pointerDownEventTarget=null;const R=this._attachedOverlays.slice();for(let G=R.length-1;G>-1;G--){const ut=R[G];if(!(ut._outsidePointerEvents.observers.length<1)&&ut.hasAttached()){if(ut.overlayElement.contains(p)||ut.overlayElement.contains(b))break;ut._outsidePointerEvents.next(l)}}}}add(i){if(super.add(i),!this._isAttached){const s=this._document.body;s.addEventListener("pointerdown",this._pointerDownListener,!0),s.addEventListener("click",this._clickListener,!0),s.addEventListener("auxclick",this._clickListener,!0),s.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=s.style.cursor,s.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const i=this._document.body;i.removeEventListener("pointerdown",this._pointerDownListener,!0),i.removeEventListener("click",this._clickListener,!0),i.removeEventListener("auxclick",this._clickListener,!0),i.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(i.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return r.\u0275fac=function(i){return new(i||r)(pi(Nr),pi(Ol))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),QI=(()=>{class r{constructor(i,s){this._platform=s,this._document=i}ngOnDestroy(){var i;null==(i=this._containerElement)||i.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const i="cdk-overlay-container";if(this._platform.isBrowser||DE()){const l=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let p=0;p<l.length;p++)l[p].remove()}const s=this._document.createElement("div");s.classList.add(i),DE()?s.setAttribute("platform","test"):this._platform.isBrowser||s.setAttribute("platform","server"),this._document.body.appendChild(s),this._containerElement=s}}return r.\u0275fac=function(i){return new(i||r)(pi(Nr),pi(Ol))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class iG{constructor(n,i,s,l,p,b,R,G,ut){this._portalOutlet=n,this._host=i,this._pane=s,this._config=l,this._ngZone=p,this._keyboardDispatcher=b,this._document=R,this._location=G,this._outsideClickDispatcher=ut,this._backdropElement=null,this._backdropClick=new C,this._attachments=new C,this._detachments=new C,this._locationChanges=D.EMPTY,this._backdropClickHandler=St=>this._backdropClick.next(St),this._keydownEvents=new C,this._outsidePointerEvents=new C,l.scrollStrategy&&(this._scrollStrategy=l.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=l.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){let i=this._portalOutlet.attach(n);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Un(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){var i;const n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null==(i=this._host)||i.remove(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config=wn(wn({},this._config),n),this._updateElementSize()}setDirection(n){this._config=Fl(wn({},this._config),{direction:n}),this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=Rl(this._config.width),n.height=Rl(this._config.height),n.minWidth=Rl(this._config.minWidth),n.minHeight=Rl(this._config.minHeight),n.maxWidth=Rl(this._config.maxWidth),n.maxHeight=Rl(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const n=this._backdropElement;if(!n)return;let i;const s=()=>{n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",s),this._disposeBackdrop(n)),this._config.backdropClass&&this._toggleClasses(n,this._config.backdropClass,!1),clearTimeout(i)};n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",s)}),n.style.pointerEvents="none",i=this._ngZone.runOutsideAngular(()=>setTimeout(s,500))}_toggleClasses(n,i,s){const l=X2(i||[]).filter(p=>!!p);l.length&&(s?n.classList.add(...l):n.classList.remove(...l))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const n=this._ngZone.onStable.pipe(ls(dr(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.remove(),this._backdropElement===n&&(this._backdropElement=null))}}const JI="cdk-overlay-connected-position-bounding-box",nG=/([A-Za-z%]+)$/;class t8{constructor(n,i,s,l,p){this._viewportRuler=i,this._document=s,this._platform=l,this._overlayContainer=p,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new C,this._resizeSubscription=D.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}get positions(){return this._preferredPositions}attach(n){this._validatePositions(),n.hostElement.classList.add(JI),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const n=this._originRect,i=this._overlayRect,s=this._viewportRect,l=[];let p;for(let b of this._preferredPositions){let R=this._getOriginPoint(n,b),G=this._getOverlayPoint(R,i,b),ut=this._getOverlayFit(G,i,s,b);if(ut.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(b,R);this._canFitWithFlexibleDimensions(ut,G,s)?l.push({position:b,origin:R,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(R,b)}):(!p||p.overlayFit.visibleArea<ut.visibleArea)&&(p={overlayFit:ut,overlayPoint:G,originPoint:R,position:b,overlayRect:i})}if(l.length){let b=null,R=-1;for(const G of l){const ut=G.boundingBoxRect.width*G.boundingBoxRect.height*(G.position.weight||1);ut>R&&(R=ut,b=G)}return this._isPushed=!1,void this._applyPosition(b.position,b.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(p.position,p.originPoint);this._applyPosition(p.position,p.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Z1(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(JI),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const n=this._lastPosition||this._preferredPositions[0],i=this._getOriginPoint(this._originRect,n);this._applyPosition(n,i)}}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,i){let s,l;if("center"==i.originX)s=n.left+n.width/2;else{const p=this._isRtl()?n.right:n.left,b=this._isRtl()?n.left:n.right;s="start"==i.originX?p:b}return l="center"==i.originY?n.top+n.height/2:"top"==i.originY?n.top:n.bottom,{x:s,y:l}}_getOverlayPoint(n,i,s){let l,p;return l="center"==s.overlayX?-i.width/2:"start"===s.overlayX?this._isRtl()?-i.width:0:this._isRtl()?0:-i.width,p="center"==s.overlayY?-i.height/2:"top"==s.overlayY?0:-i.height,{x:n.x+l,y:n.y+p}}_getOverlayFit(n,i,s,l){const p=i8(i);let{x:b,y:R}=n,G=this._getOffset(l,"x"),ut=this._getOffset(l,"y");G&&(b+=G),ut&&(R+=ut);let Jt=0-R,se=R+p.height-s.height,pe=this._subtractOverflows(p.width,0-b,b+p.width-s.width),Ue=this._subtractOverflows(p.height,Jt,se),Ge=pe*Ue;return{visibleArea:Ge,isCompletelyWithinViewport:p.width*p.height===Ge,fitsInViewportVertically:Ue===p.height,fitsInViewportHorizontally:pe==p.width}}_canFitWithFlexibleDimensions(n,i,s){if(this._hasFlexibleDimensions){const l=s.bottom-i.y,p=s.right-i.x,b=e8(this._overlayRef.getConfig().minHeight),R=e8(this._overlayRef.getConfig().minWidth),ut=n.fitsInViewportHorizontally||null!=R&&R<=p;return(n.fitsInViewportVertically||null!=b&&b<=l)&&ut}return!1}_pushOverlayOnScreen(n,i,s){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const l=i8(i),p=this._viewportRect,b=Math.max(n.x+l.width-p.width,0),R=Math.max(n.y+l.height-p.height,0),G=Math.max(p.top-s.top-n.y,0),ut=Math.max(p.left-s.left-n.x,0);let St=0,Ut=0;return St=l.width<=p.width?ut||-b:n.x<this._viewportMargin?p.left-s.left-n.x:0,Ut=l.height<=p.height?G||-R:n.y<this._viewportMargin?p.top-s.top-n.y:0,this._previousPushAmount={x:St,y:Ut},{x:n.x+St,y:n.y+Ut}}_applyPosition(n,i){if(this._setTransformOrigin(n),this._setOverlayElementStyles(i,n),this._setBoundingBoxStyles(i,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._lastPosition=n,this._positionChanges.observers.length){const s=this._getScrollVisibility(),l=new JU(n,s);this._positionChanges.next(l)}this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const i=this._boundingBox.querySelectorAll(this._transformOriginSelector);let s,l=n.overlayY;s="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let p=0;p<i.length;p++)i[p].style.transformOrigin=`${s} ${l}`}_calculateBoundingBoxRect(n,i){const s=this._viewportRect,l=this._isRtl();let p,b,R,St,Ut,Jt;if("top"===i.overlayY)b=n.y,p=s.height-b+this._viewportMargin;else if("bottom"===i.overlayY)R=s.height-n.y+2*this._viewportMargin,p=s.height-R+this._viewportMargin;else{const se=Math.min(s.bottom-n.y+s.top,n.y),pe=this._lastBoundingBoxSize.height;p=2*se,b=n.y-se,p>pe&&!this._isInitialRender&&!this._growAfterOpen&&(b=n.y-pe/2)}if("end"===i.overlayX&&!l||"start"===i.overlayX&&l)Jt=s.width-n.x+this._viewportMargin,St=n.x-this._viewportMargin;else if("start"===i.overlayX&&!l||"end"===i.overlayX&&l)Ut=n.x,St=s.right-n.x;else{const se=Math.min(s.right-n.x+s.left,n.x),pe=this._lastBoundingBoxSize.width;St=2*se,Ut=n.x-se,St>pe&&!this._isInitialRender&&!this._growAfterOpen&&(Ut=n.x-pe/2)}return{top:b,left:Ut,bottom:R,right:Jt,width:St,height:p}}_setBoundingBoxStyles(n,i){const s=this._calculateBoundingBoxRect(n,i);!this._isInitialRender&&!this._growAfterOpen&&(s.height=Math.min(s.height,this._lastBoundingBoxSize.height),s.width=Math.min(s.width,this._lastBoundingBoxSize.width));const l={};if(this._hasExactPosition())l.top=l.left="0",l.bottom=l.right=l.maxHeight=l.maxWidth="",l.width=l.height="100%";else{const p=this._overlayRef.getConfig().maxHeight,b=this._overlayRef.getConfig().maxWidth;l.height=Rl(s.height),l.top=Rl(s.top),l.bottom=Rl(s.bottom),l.width=Rl(s.width),l.left=Rl(s.left),l.right=Rl(s.right),l.alignItems="center"===i.overlayX?"center":"end"===i.overlayX?"flex-end":"flex-start",l.justifyContent="center"===i.overlayY?"center":"bottom"===i.overlayY?"flex-end":"flex-start",p&&(l.maxHeight=Rl(p)),b&&(l.maxWidth=Rl(b))}this._lastBoundingBoxSize=s,Z1(this._boundingBox.style,l)}_resetBoundingBoxStyles(){Z1(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Z1(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,i){const s={},l=this._hasExactPosition(),p=this._hasFlexibleDimensions,b=this._overlayRef.getConfig();if(l){const St=this._viewportRuler.getViewportScrollPosition();Z1(s,this._getExactOverlayY(i,n,St)),Z1(s,this._getExactOverlayX(i,n,St))}else s.position="static";let R="",G=this._getOffset(i,"x"),ut=this._getOffset(i,"y");G&&(R+=`translateX(${G}px) `),ut&&(R+=`translateY(${ut}px)`),s.transform=R.trim(),b.maxHeight&&(l?s.maxHeight=Rl(b.maxHeight):p&&(s.maxHeight="")),b.maxWidth&&(l?s.maxWidth=Rl(b.maxWidth):p&&(s.maxWidth="")),Z1(this._pane.style,s)}_getExactOverlayY(n,i,s){let l={top:"",bottom:""},p=this._getOverlayPoint(i,this._overlayRect,n);this._isPushed&&(p=this._pushOverlayOnScreen(p,this._overlayRect,s));let b=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return p.y-=b,"bottom"===n.overlayY?l.bottom=this._document.documentElement.clientHeight-(p.y+this._overlayRect.height)+"px":l.top=Rl(p.y),l}_getExactOverlayX(n,i,s){let b,l={left:"",right:""},p=this._getOverlayPoint(i,this._overlayRect,n);return this._isPushed&&(p=this._pushOverlayOnScreen(p,this._overlayRect,s)),b=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===b?l.right=this._document.documentElement.clientWidth-(p.x+this._overlayRect.width)+"px":l.left=Rl(p.x),l}_getScrollVisibility(){const n=this._getOriginRect(),i=this._pane.getBoundingClientRect(),s=this._scrollables.map(l=>l.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ZI(n,s),isOriginOutsideView:zk(n,s),isOverlayClipped:ZI(i,s),isOverlayOutsideView:zk(i,s)}}_subtractOverflows(n,...i){return i.reduce((s,l)=>s-Math.max(l,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,s=this._viewportRuler.getViewportScrollPosition();return{top:s.top+this._viewportMargin,left:s.left+this._viewportMargin,right:s.left+n-this._viewportMargin,bottom:s.top+i-this._viewportMargin,width:n-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,i){return"x"===i?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&X2(n).forEach(i=>{""!==i&&-1===this._appliedPanelClasses.indexOf(i)&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof cr)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const i=n.width||0,s=n.height||0;return{top:n.y,bottom:n.y+s,left:n.x,right:n.x+i,height:s,width:i}}}function Z1(r,n){for(let i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);return r}function e8(r){if("number"!=typeof r&&null!=r){const[n,i]=r.split(nG);return i&&"px"!==i?null:parseFloat(n)}return r||null}function i8(r){return{top:Math.floor(r.top),right:Math.floor(r.right),bottom:Math.floor(r.bottom),left:Math.floor(r.left),width:Math.floor(r.width),height:Math.floor(r.height)}}const n8="cdk-global-overlay-wrapper";class rG{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(n){const i=n.getConfig();this._overlayRef=n,this._width&&!i.width&&n.updateSize({width:this._width}),this._height&&!i.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(n8),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._rightOffset="",this._leftOffset=n,this._justifyContent="flex-start",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._leftOffset="",this._rightOffset=n,this._justifyContent="flex-end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._justifyContent="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,s=this._overlayRef.getConfig(),{width:l,height:p,maxWidth:b,maxHeight:R}=s,G=!("100%"!==l&&"100vw"!==l||b&&"100%"!==b&&"100vw"!==b),ut=!("100%"!==p&&"100vh"!==p||R&&"100%"!==R&&"100vh"!==R);n.position=this._cssPosition,n.marginLeft=G?"0":this._leftOffset,n.marginTop=ut?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=this._rightOffset,G?i.justifyContent="flex-start":"center"===this._justifyContent?i.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?i.justifyContent="flex-end":"flex-end"===this._justifyContent&&(i.justifyContent="flex-start"):i.justifyContent=this._justifyContent,i.alignItems=ut?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,s=i.style;i.classList.remove(n8),s.justifyContent=s.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let oG=(()=>{class r{constructor(i,s,l,p){this._viewportRuler=i,this._document=s,this._platform=l,this._overlayContainer=p}global(){return new rG}flexibleConnectedTo(i){return new t8(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return r.\u0275fac=function(i){return new(i||r)(pi(X_),pi(Nr),pi(Ol),pi(QI))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),sG=0,xg=(()=>{class r{constructor(i,s,l,p,b,R,G,ut,St,Ut,Jt){this.scrollStrategies=i,this._overlayContainer=s,this._componentFactoryResolver=l,this._positionBuilder=p,this._keyboardDispatcher=b,this._injector=R,this._ngZone=G,this._document=ut,this._directionality=St,this._location=Ut,this._outsideClickDispatcher=Jt}create(i){const s=this._createHostElement(),l=this._createPaneElement(s),p=this._createPortalOutlet(l),b=new Q_(i);return b.direction=b.direction||this._directionality.value,new iG(p,s,l,b,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(i){const s=this._document.createElement("div");return s.id="cdk-overlay-"+sG++,s.classList.add("cdk-overlay-pane"),i.appendChild(s),s}_createHostElement(){const i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(R1)),new WU(i,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return r.\u0275fac=function(i){return new(i||r)(pi(ZU),pi(QI),pi(ag),pi(oG),pi(tG),pi(Eo),pi(gr),pi(Nr),pi(Vp),pi(P2),pi(eG))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})();const aG=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r8=new un("cdk-connected-overlay-scroll-strategy");let o8=(()=>{class r{constructor(i){this.elementRef=i}}return r.\u0275fac=function(i){return new(i||r)(be(cr))},r.\u0275dir=an({type:r,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),r})(),s8=(()=>{class r{constructor(i,s,l,p,b){this._overlay=i,this._dir=b,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=D.EMPTY,this._attachSubscription=D.EMPTY,this._detachSubscription=D.EMPTY,this._positionSubscription=D.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new xn,this.positionChange=new xn,this.attach=new xn,this.detach=new xn,this.overlayKeydown=new xn,this.overlayOutsideClick=new xn,this._templatePortal=new Z_(s,l),this._scrollStrategyFactory=p,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(i){this._offsetX=i,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(i){this._offsetY=i,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(i){this._hasBackdrop=Yr(i)}get lockPosition(){return this._lockPosition}set lockPosition(i){this._lockPosition=Yr(i)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(i){this._flexibleDimensions=Yr(i)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(i){this._growAfterOpen=Yr(i)}get push(){return this._push}set push(i){this._push=Yr(i)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(i){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),i.origin&&this.open&&this._position.apply()),i.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=aG);const i=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=i.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=i.detachments().subscribe(()=>this.detach.emit()),i.keydownEvents().subscribe(s=>{this.overlayKeydown.next(s),27===s.keyCode&&!this.disableClose&&!Zh(s)&&(s.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(s=>{this.overlayOutsideClick.next(s)})}_buildConfig(){const i=this._position=this.positionStrategy||this._createPositionStrategy(),s=new Q_({direction:this._dir,positionStrategy:i,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(s.width=this.width),(this.height||0===this.height)&&(s.height=this.height),(this.minWidth||0===this.minWidth)&&(s.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(s.minHeight=this.minHeight),this.backdropClass&&(s.backdropClass=this.backdropClass),this.panelClass&&(s.panelClass=this.panelClass),s}_updatePositionStrategy(i){const s=this.positions.map(l=>({originX:l.originX,originY:l.originY,overlayX:l.overlayX,overlayY:l.overlayY,offsetX:l.offsetX||this.offsetX,offsetY:l.offsetY||this.offsetY,panelClass:l.panelClass||void 0}));return i.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(s).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const i=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(i),i}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof o8?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(i=>{this.backdropClick.emit(i)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(r,n=!1){return nt((i,s)=>{let l=0;i.subscribe(new Q(s,p=>{const b=r(p,l++);(b||n)&&s.next(p),!b&&s.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(i=>{this.positionChange.emit(i),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return r.\u0275fac=function(i){return new(i||r)(be(xg),be(Ef),be(lh),be(r8),be(Vp,8))},r.\u0275dir=an({type:r,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Hr]}),r})();const uG={provide:r8,deps:[xg],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let zC=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({providers:[xg,uG],imports:[[z_,jC,GI],GI]}),r})();const hG=["connectionContainer"],cG=["inputContainer"],fG=["label"];function dG(r,n){1&r&&(T0(0),Qe(1,"div",14),On(2,"div",15),On(3,"div",16),On(4,"div",17),ti(),Qe(5,"div",18),On(6,"div",15),On(7,"div",16),On(8,"div",17),ti(),bf())}function pG(r,n){1&r&&(Qe(0,"div",19),B(1,1),ti())}function mG(r,n){if(1&r&&(T0(0),B(1,2),Qe(2,"span"),Ji(3),ti(),bf()),2&r){const i=_(2);Ai(3),Ps(i._control.placeholder)}}function gG(r,n){1&r&&B(0,3,["*ngSwitchCase","true"])}function vG(r,n){1&r&&(Qe(0,"span",23),Ji(1," *"),ti())}function yG(r,n){if(1&r){const i=Qa();Qe(0,"label",20,21),e("cdkObserveContent",function(){return Qo(i),_().updateOutlineGap()}),Mn(2,mG,4,1,"ng-container",12),Mn(3,gG,1,0,"ng-content",12),Mn(4,vG,2,0,"span",22),ti()}if(2&r){const i=_();Dr("mat-empty",i._control.empty&&!i._shouldAlwaysFloat())("mat-form-field-empty",i._control.empty&&!i._shouldAlwaysFloat())("mat-accent","accent"==i.color)("mat-warn","warn"==i.color),Pi("cdkObserveContentDisabled","outline"!=i.appearance)("id",i._labelId)("ngSwitch",i._hasLabel()),Pr("for",i._control.id)("aria-owns",i._control.id),Ai(2),Pi("ngSwitchCase",!1),Ai(1),Pi("ngSwitchCase",!0),Ai(1),Pi("ngIf",!i.hideRequiredMarker&&i._control.required&&!i._control.disabled)}}function xG(r,n){1&r&&(Qe(0,"div",24),B(1,4),ti())}function wG(r,n){if(1&r&&(Qe(0,"div",25),On(1,"span",26),ti()),2&r){const i=_();Ai(1),Dr("mat-accent","accent"==i.color)("mat-warn","warn"==i.color)}}function bG(r,n){1&r&&(Qe(0,"div"),B(1,5),ti()),2&r&&Pi("@transitionMessages",_()._subscriptAnimationState)}function _G(r,n){if(1&r&&(Qe(0,"div",30),Ji(1),ti()),2&r){const i=_(2);Pi("id",i._hintLabelId),Ai(1),Ps(i.hintLabel)}}function MG(r,n){if(1&r&&(Qe(0,"div",27),Mn(1,_G,2,2,"div",28),B(2,6),On(3,"div",29),B(4,7),ti()),2&r){const i=_();Pi("@transitionMessages",i._subscriptAnimationState),Ai(1),Pi("ngIf",i.hintLabel)}}const CG=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],SG=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let DG=0;const a8=new un("MatError");let EG=(()=>{class r{constructor(i,s){this.id="mat-error-"+DG++,i||s.nativeElement.setAttribute("aria-live","polite")}}return r.\u0275fac=function(i){return new(i||r)(Eu("aria-live"),be(cr))},r.\u0275dir=an({type:r,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(i,s){2&i&&Pr("id",s.id)},inputs:{id:"id"},features:[lo([{provide:a8,useExisting:r}])]}),r})();const kG={transitionMessages:yg("transitionMessages",[jc("enter",Ma({opacity:1,transform:"translateY(0%)"})),zc("void => enter",[Ma({opacity:0,transform:"translateY(-5px)"}),kf("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let HC=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=an({type:r}),r})();const AG=new un("MatHint");let Zw=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=an({type:r,selectors:[["mat-label"]]}),r})(),TG=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=an({type:r,selectors:[["mat-placeholder"]]}),r})();const PG=new un("MatPrefix"),l8=new un("MatSuffix");let IG=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=an({type:r,selectors:[["","matSuffix",""]],features:[lo([{provide:l8,useExisting:r}])]}),r})(),u8=0;const OG=Y1(class{constructor(r){this._elementRef=r}},"primary"),NG=new un("MAT_FORM_FIELD_DEFAULT_OPTIONS"),J_=new un("MatFormField");let UC=(()=>{class r extends OG{constructor(i,s,l,p,b,R,G){super(i),this._changeDetectorRef=s,this._dir=l,this._defaults=p,this._platform=b,this._ngZone=R,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new C,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+u8++,this._labelId="mat-form-field-label-"+u8++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==G,this.appearance=p&&p.appearance?p.appearance:"legacy",this._hideRequiredMarker=!(!p||null==p.hideRequiredMarker)&&p.hideRequiredMarker}get appearance(){return this._appearance}set appearance(i){const s=this._appearance;this._appearance=i||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&s!==i&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(i){this._hideRequiredMarker=Yr(i)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(i){this._hintLabel=i,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(i){i!==this._floatLabel&&(this._floatLabel=i||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(i){this._explicitFormFieldControl=i}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const i=this._control;i.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${i.controlType}`),i.stateChanges.pipe($h(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),i.ngControl&&i.ngControl.valueChanges&&i.ngControl.valueChanges.pipe(ls(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ls(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),dr(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe($h(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe($h(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(ls(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(i){const s=this._control?this._control.ngControl:null;return s&&s[i]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,jp(this._label.nativeElement,"transitionend").pipe(Un(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let i=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&i.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const s=this._hintChildren?this._hintChildren.find(p=>"start"===p.align):null,l=this._hintChildren?this._hintChildren.find(p=>"end"===p.align):null;s?i.push(s.id):this._hintLabel&&i.push(this._hintLabelId),l&&i.push(l.id)}else this._errorChildren&&i.push(...this._errorChildren.map(s=>s.id));this._control.setDescribedByIds(i)}}_validateControlChild(){}updateOutlineGap(){const i=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&i&&i.children.length&&i.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let s=0,l=0;const p=this._connectionContainerRef.nativeElement,b=p.querySelectorAll(".mat-form-field-outline-start"),R=p.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const G=p.getBoundingClientRect();if(0===G.width&&0===G.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const ut=this._getStartEnd(G),St=i.children,Ut=this._getStartEnd(St[0].getBoundingClientRect());let Jt=0;for(let se=0;se<St.length;se++)Jt+=St[se].offsetWidth;s=Math.abs(Ut-ut)-5,l=Jt>0?.75*Jt+10:0}for(let G=0;G<b.length;G++)b[G].style.width=`${s}px`;for(let G=0;G<R.length;G++)R[G].style.width=`${l}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(i){return this._dir&&"rtl"===this._dir.value?i.right:i.left}_isAttachedToDOM(){const i=this._elementRef.nativeElement;if(i.getRootNode){const s=i.getRootNode();return s&&s!==i}return document.documentElement.contains(i)}}return r.\u0275fac=function(i){return new(i||r)(be(cr),be(Ks),be(Vp,8),be(NG,8),be(Ol),be(gr),be(Pd,8))},r.\u0275cmp=fn({type:r,selectors:[["mat-form-field"]],contentQueries:function(i,s,l){if(1&i&&(as(l,HC,5),as(l,HC,7),as(l,Zw,5),as(l,Zw,7),as(l,TG,5),as(l,a8,5),as(l,AG,5),as(l,PG,5),as(l,l8,5)),2&i){let p;Jn(p=tr())&&(s._controlNonStatic=p.first),Jn(p=tr())&&(s._controlStatic=p.first),Jn(p=tr())&&(s._labelChildNonStatic=p.first),Jn(p=tr())&&(s._labelChildStatic=p.first),Jn(p=tr())&&(s._placeholderChild=p.first),Jn(p=tr())&&(s._errorChildren=p),Jn(p=tr())&&(s._hintChildren=p),Jn(p=tr())&&(s._prefixChildren=p),Jn(p=tr())&&(s._suffixChildren=p)}},viewQuery:function(i,s){if(1&i&&(ms(hG,7),ms(cG,5),ms(fG,5)),2&i){let l;Jn(l=tr())&&(s._connectionContainerRef=l.first),Jn(l=tr())&&(s._inputContainerRef=l.first),Jn(l=tr())&&(s._label=l.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(i,s){2&i&&Dr("mat-form-field-appearance-standard","standard"==s.appearance)("mat-form-field-appearance-fill","fill"==s.appearance)("mat-form-field-appearance-outline","outline"==s.appearance)("mat-form-field-appearance-legacy","legacy"==s.appearance)("mat-form-field-invalid",s._control.errorState)("mat-form-field-can-float",s._canLabelFloat())("mat-form-field-should-float",s._shouldLabelFloat())("mat-form-field-has-label",s._hasFloatingLabel())("mat-form-field-hide-placeholder",s._hideControlPlaceholder())("mat-form-field-disabled",s._control.disabled)("mat-form-field-autofilled",s._control.autofilled)("mat-focused",s._control.focused)("ng-untouched",s._shouldForward("untouched"))("ng-touched",s._shouldForward("touched"))("ng-pristine",s._shouldForward("pristine"))("ng-dirty",s._shouldForward("dirty"))("ng-valid",s._shouldForward("valid"))("ng-invalid",s._shouldForward("invalid"))("ng-pending",s._shouldForward("pending"))("_mat-animation-noopable",!s._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[lo([{provide:J_,useExisting:r}]),Qn],ngContentSelectors:SG,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(i,s){1&i&&(I(CG),Qe(0,"div",0),Qe(1,"div",1,2),e("click",function(p){return s._control.onContainerClick&&s._control.onContainerClick(p)}),Mn(3,dG,9,0,"ng-container",3),Mn(4,pG,2,0,"div",4),Qe(5,"div",5,6),B(7),Qe(8,"span",7),Mn(9,yG,5,16,"label",8),ti(),ti(),Mn(10,xG,2,0,"div",9),ti(),Mn(11,wG,2,4,"div",10),Qe(12,"div",11),Mn(13,bG,2,1,"div",12),Mn(14,MG,5,2,"div",13),ti(),ti()),2&i&&(Ai(3),Pi("ngIf","outline"==s.appearance),Ai(1),Pi("ngIf",s._prefixChildren.length),Ai(5),Pi("ngIf",s._hasFloatingLabel()),Ai(1),Pi("ngIf",s._suffixChildren.length),Ai(1),Pi("ngIf","outline"!=s.appearance),Ai(1),Pi("ngSwitch",s._getDisplayedMessages()),Ai(1),Pi("ngSwitchCase","error"),Ai(1),Pi("ngSwitchCase","hint"))},directives:[Yh,Nw,H2,l6],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[kG.transitionMessages]},changeDetection:0}),r})(),GC=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({imports:[[Lp,Bo,KE],Bo]}),r})();const c8=q2({passive:!0});let LG=(()=>{class r{constructor(i,s){this._platform=i,this._ngZone=s,this._monitoredElements=new Map}monitor(i){if(!this._platform.isBrowser)return $e;const s=dg(i),l=this._monitoredElements.get(s);if(l)return l.subject;const p=new C,b="cdk-text-field-autofilled",R=G=>{"cdk-text-field-autofill-start"!==G.animationName||s.classList.contains(b)?"cdk-text-field-autofill-end"===G.animationName&&s.classList.contains(b)&&(s.classList.remove(b),this._ngZone.run(()=>p.next({target:G.target,isAutofilled:!1}))):(s.classList.add(b),this._ngZone.run(()=>p.next({target:G.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{s.addEventListener("animationstart",R,c8),s.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(s,{subject:p,unlisten:()=>{s.removeEventListener("animationstart",R,c8)}}),p}stopMonitoring(i){const s=dg(i),l=this._monitoredElements.get(s);l&&(l.unlisten(),l.subject.complete(),s.classList.remove("cdk-text-field-autofill-monitored"),s.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(s))}ngOnDestroy(){this._monitoredElements.forEach((i,s)=>this.stopMonitoring(s))}}return r.\u0275fac=function(i){return new(i||r)(pi(Ol),pi(gr))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),FG=(()=>{class r{constructor(i,s,l,p){this._elementRef=i,this._platform=s,this._ngZone=l,this._destroyed=new C,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=b=>{this._hasFocus="focus"===b.type},this._document=p,this._textareaElement=this._elementRef.nativeElement}get minRows(){return this._minRows}set minRows(i){this._minRows=ey(i),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(i){this._maxRows=ey(i),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(i){i=Yr(i),this._enabled!==i&&((this._enabled=i)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(i){this._cachedPlaceholderHeight=void 0,this._textareaElement.placeholder=i,this._cacheTextareaPlaceholderHeight()}_setMinHeight(){const i=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;i&&(this._textareaElement.style.minHeight=i)}_setMaxHeight(){const i=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;i&&(this._textareaElement.style.maxHeight=i)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{jp(this._getWindow(),"resize").pipe(Fk(16),ls(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let i=this._textareaElement.cloneNode(!1);i.rows=1,i.style.position="absolute",i.style.visibility="hidden",i.style.border="none",i.style.padding="0",i.style.height="",i.style.minHeight="",i.style.maxHeight="",i.style.overflow="hidden",this._textareaElement.parentNode.appendChild(i),this._cachedLineHeight=i.clientHeight,i.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){const i=this._textareaElement,s=i.style.marginBottom||"",l=this._platform.FIREFOX,p=l&&this._hasFocus,b=l?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";p&&(i.style.marginBottom=`${i.clientHeight}px`),i.classList.add(b);const R=i.scrollHeight-4;return i.classList.remove(b),p&&(i.style.marginBottom=s),R}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||null!=this._cachedPlaceholderHeight)return;if(!this.placeholder)return void(this._cachedPlaceholderHeight=0);const i=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=i}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(i=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;const s=this._elementRef.nativeElement,l=s.value;if(!i&&this._minRows===this._previousMinRows&&l===this._previousValue)return;const p=this._measureScrollHeight(),b=Math.max(p,this._cachedPlaceholderHeight||0);s.style.height=`${b}px`,this._ngZone.runOutsideAngular(()=>{"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(()=>this._scrollToCaretPosition(s)):setTimeout(()=>this._scrollToCaretPosition(s))}),this._previousValue=l,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(i){const{selectionStart:s,selectionEnd:l}=i;!this._destroyed.isStopped&&this._hasFocus&&i.setSelectionRange(s,l)}}return r.\u0275fac=function(i){return new(i||r)(be(cr),be(Ol),be(gr),be(Nr,8))},r.\u0275dir=an({type:r,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(i,s){1&i&&e("input",function(){return s._noopInputHandler()})},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]}),r})(),f8=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({imports:[[Fw]]}),r})();const d8=new un("MAT_INPUT_VALUE_ACCESSOR"),BG=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let VG=0;const jG=SI(class{constructor(r,n,i,s){this._defaultErrorStateMatcher=r,this._parentForm=n,this._parentFormGroup=i,this.ngControl=s}});let Hk=(()=>{class r extends jG{constructor(i,s,l,p,b,R,G,ut,St,Ut){super(R,p,b,l),this._elementRef=i,this._platform=s,this._autofillMonitor=ut,this._formField=Ut,this._uid="mat-input-"+VG++,this.focused=!1,this.stateChanges=new C,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(pe=>t4().has(pe));const Jt=this._elementRef.nativeElement,se=Jt.nodeName.toLowerCase();this._inputValueAccessor=G||Jt,this._previousNativeValue=this.value,this.id=this.id,s.IOS&&St.runOutsideAngular(()=>{i.nativeElement.addEventListener("keyup",pe=>{const Ue=pe.target;!Ue.value&&0===Ue.selectionStart&&0===Ue.selectionEnd&&(Ue.setSelectionRange(1,1),Ue.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===se,this._isTextarea="textarea"===se,this._isInFormField=!!Ut,this._isNativeSelect&&(this.controlType=Jt.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(i){this._disabled=Yr(i),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(i){this._id=i||this._uid}get required(){var i,s,l,p;return null!=(p=null!=(l=this._required)?l:null==(s=null==(i=this.ngControl)?void 0:i.control)?void 0:s.hasValidator(zw.required))&&p}set required(i){this._required=Yr(i)}get type(){return this._type}set type(i){this._type=i||"text",this._validateType(),!this._isTextarea&&t4().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(i){i!==this.value&&(this._inputValueAccessor.value=i,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(i){this._readonly=Yr(i)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(i=>{this.autofilled=i.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(i){this._elementRef.nativeElement.focus(i)}_focusChanged(i){i!==this.focused&&(this.focused=i,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var s,l;const i=(null==(l=null==(s=this._formField)?void 0:s._hideControlPlaceholder)?void 0:l.call(s))?null:this.placeholder;if(i!==this._previousPlaceholder){const p=this._elementRef.nativeElement;this._previousPlaceholder=i,i?p.setAttribute("placeholder",i):p.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const i=this._elementRef.nativeElement.value;this._previousNativeValue!==i&&(this._previousNativeValue=i,this.stateChanges.next())}_validateType(){BG.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let i=this._elementRef.nativeElement.validity;return i&&i.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const i=this._elementRef.nativeElement,s=i.options[0];return this.focused||i.multiple||!this.empty||!!(i.selectedIndex>-1&&s&&s.label)}return this.focused||!this.empty}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const i=this._elementRef.nativeElement;return this._isNativeSelect&&(i.multiple||i.size>1)}}return r.\u0275fac=function(i){return new(i||r)(be(cr),be(Ol),be(B0,10),be(F_,8),be(mg,8),be(Pk),be(d8,10),be(LG),be(gr),be(J_,8))},r.\u0275dir=an({type:r,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(i,s){1&i&&e("focus",function(){return s._focusChanged(!0)})("blur",function(){return s._focusChanged(!1)})("input",function(){return s._onInput()}),2&i&&(ju("disabled",s.disabled)("required",s.required),Pr("id",s.id)("data-placeholder",s.placeholder)("readonly",s.readonly&&!s._isNativeSelect||null)("aria-invalid",s.empty&&s.required?null:s.errorState)("aria-required",s.required),Dr("mat-input-server",s._isServer)("mat-native-select-inline",s._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[lo([{provide:HC,useExisting:r}]),Qn,Hr]}),r})(),zG=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({providers:[Pk],imports:[[f8,GC,Bo],f8,GC]}),r})();const HG=["mat-calendar-body",""];function UG(r,n){if(1&r&&(Qe(0,"tr",2),Qe(1,"td",3),Ji(2),ti(),ti()),2&r){const i=_();Ai(1),cu("padding-top",i._cellPadding)("padding-bottom",i._cellPadding),Pr("colspan",i.numCols),Ai(1),oa(" ",i.label," ")}}function GG(r,n){if(1&r&&(Qe(0,"td",3),Ji(1),ti()),2&r){const i=_(2);cu("padding-top",i._cellPadding)("padding-bottom",i._cellPadding),Pr("colspan",i._firstRowOffset),Ai(1),oa(" ",i._firstRowOffset>=i.labelMinRequiredCells?i.label:""," ")}}function WG(r,n){if(1&r){const i=Qa();Qe(0,"td",7),e("click",function(l){const b=Qo(i).$implicit;return _(2)._cellClicked(b,l)}),Qe(1,"div",8),Ji(2),ti(),On(3,"div",9),ti()}if(2&r){const i=n.$implicit,s=n.index,l=_().index,p=_();cu("width",p._cellWidth)("padding-top",p._cellPadding)("padding-bottom",p._cellPadding),Dr("mat-calendar-body-disabled",!i.enabled)("mat-calendar-body-active",p._isActiveCell(l,s))("mat-calendar-body-range-start",p._isRangeStart(i.compareValue))("mat-calendar-body-range-end",p._isRangeEnd(i.compareValue))("mat-calendar-body-in-range",p._isInRange(i.compareValue))("mat-calendar-body-comparison-bridge-start",p._isComparisonBridgeStart(i.compareValue,l,s))("mat-calendar-body-comparison-bridge-end",p._isComparisonBridgeEnd(i.compareValue,l,s))("mat-calendar-body-comparison-start",p._isComparisonStart(i.compareValue))("mat-calendar-body-comparison-end",p._isComparisonEnd(i.compareValue))("mat-calendar-body-in-comparison-range",p._isInComparisonRange(i.compareValue))("mat-calendar-body-preview-start",p._isPreviewStart(i.compareValue))("mat-calendar-body-preview-end",p._isPreviewEnd(i.compareValue))("mat-calendar-body-in-preview",p._isInPreview(i.compareValue)),Pi("ngClass",i.cssClasses)("tabindex",p._isActiveCell(l,s)?0:-1),Pr("data-mat-row",l)("data-mat-col",s)("aria-label",i.ariaLabel)("aria-disabled",!i.enabled||null)("aria-selected",p._isSelected(i.compareValue)),Ai(1),Dr("mat-calendar-body-selected",p._isSelected(i.compareValue))("mat-calendar-body-comparison-identical",p._isComparisonIdentical(i.compareValue))("mat-calendar-body-today",p.todayValue===i.compareValue),Ai(1),oa(" ",i.displayValue," ")}}function YG(r,n){if(1&r&&(Qe(0,"tr",4),Mn(1,GG,2,6,"td",5),Mn(2,WG,4,46,"td",6),ti()),2&r){const i=n.$implicit,s=n.index,l=_();Ai(1),Pi("ngIf",0===s&&l._firstRowOffset),Ai(1),Pi("ngForOf",i)}}function $G(r,n){if(1&r&&(Qe(0,"th",5),Qe(1,"abbr",6),Ji(2),ti(),ti()),2&r){const i=n.$implicit;Pr("aria-label",i.long),Ai(1),Pr("title",i.long),Ai(1),Ps(i.narrow)}}const XG=["*"];function KG(r,n){}function ZG(r,n){if(1&r){const i=Qa();Qe(0,"mat-month-view",5),e("activeDateChange",function(l){return Qo(i),_().activeDate=l})("_userSelection",function(l){return Qo(i),_()._dateSelected(l)}),ti()}if(2&r){const i=_();Pi("activeDate",i.activeDate)("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)}}function qG(r,n){if(1&r){const i=Qa();Qe(0,"mat-year-view",6),e("activeDateChange",function(l){return Qo(i),_().activeDate=l})("monthSelected",function(l){return Qo(i),_()._monthSelectedInYearView(l)})("selectedChange",function(l){return Qo(i),_()._goToDateInView(l,"month")}),ti()}if(2&r){const i=_();Pi("activeDate",i.activeDate)("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)}}function QG(r,n){if(1&r){const i=Qa();Qe(0,"mat-multi-year-view",7),e("activeDateChange",function(l){return Qo(i),_().activeDate=l})("yearSelected",function(l){return Qo(i),_()._yearSelectedInMultiYearView(l)})("selectedChange",function(l){return Qo(i),_()._goToDateInView(l,"year")}),ti()}if(2&r){const i=_();Pi("activeDate",i.activeDate)("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)}}function JG(r,n){}const tW=["button"];function eW(r,n){1&r&&(sm(),Qe(0,"svg",3),On(1,"path",4),ti())}const iW=[[["","matDatepickerToggleIcon",""]]],nW=["[matDatepickerToggleIcon]"];let tM=(()=>{class r{constructor(){this.changes=new C,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(i,s){return`${i} \u2013 ${s}`}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class Uk{constructor(n,i,s,l,p={},b=n,R){this.value=n,this.displayValue=i,this.ariaLabel=s,this.enabled=l,this.cssClasses=p,this.compareValue=b,this.rawValue=R}}let qw=(()=>{class r{constructor(i,s){this._elementRef=i,this._ngZone=s,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new xn,this.previewChange=new xn,this._enterHandler=l=>{if(this._skipNextFocus&&"focus"===l.type)this._skipNextFocus=!1;else if(l.target&&this.isRange){const p=this._getCellFromElement(l.target);p&&this._ngZone.run(()=>this.previewChange.emit({value:p.enabled?p:null,event:l}))}},this._leaveHandler=l=>{null!==this.previewEnd&&this.isRange&&l.target&&Gk(l.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:l}))},s.runOutsideAngular(()=>{const l=i.nativeElement;l.addEventListener("mouseenter",this._enterHandler,!0),l.addEventListener("focus",this._enterHandler,!0),l.addEventListener("mouseleave",this._leaveHandler,!0),l.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(i,s){i.enabled&&this.selectedValueChange.emit({value:i.value,event:s})}_isSelected(i){return this.startValue===i||this.endValue===i}ngOnChanges(i){const s=i.numCols,{rows:l,numCols:p}=this;(i.rows||s)&&(this._firstRowOffset=l&&l.length&&l[0].length?p-l[0].length:0),(i.cellAspectRatio||s||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/p+"%"),(s||!this._cellWidth)&&(this._cellWidth=100/p+"%")}ngOnDestroy(){const i=this._elementRef.nativeElement;i.removeEventListener("mouseenter",this._enterHandler,!0),i.removeEventListener("focus",this._enterHandler,!0),i.removeEventListener("mouseleave",this._leaveHandler,!0),i.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(i,s){let l=i*this.numCols+s;return i&&(l-=this._firstRowOffset),l==this.activeCell}_focusActiveCell(i=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Un(1)).subscribe(()=>{const s=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");s&&(i||(this._skipNextFocus=!0),s.focus())})})}_isRangeStart(i){return Wk(i,this.startValue,this.endValue)}_isRangeEnd(i){return Yk(i,this.startValue,this.endValue)}_isInRange(i){return $k(i,this.startValue,this.endValue,this.isRange)}_isComparisonStart(i){return Wk(i,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(i,s,l){if(!this._isComparisonStart(i)||this._isRangeStart(i)||!this._isInRange(i))return!1;let p=this.rows[s][l-1];if(!p){const b=this.rows[s-1];p=b&&b[b.length-1]}return p&&!this._isRangeEnd(p.compareValue)}_isComparisonBridgeEnd(i,s,l){if(!this._isComparisonEnd(i)||this._isRangeEnd(i)||!this._isInRange(i))return!1;let p=this.rows[s][l+1];if(!p){const b=this.rows[s+1];p=b&&b[0]}return p&&!this._isRangeStart(p.compareValue)}_isComparisonEnd(i){return Yk(i,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(i){return $k(i,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(i){return this.comparisonStart===this.comparisonEnd&&i===this.comparisonStart}_isPreviewStart(i){return Wk(i,this.previewStart,this.previewEnd)}_isPreviewEnd(i){return Yk(i,this.previewStart,this.previewEnd)}_isInPreview(i){return $k(i,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(i){let s;if(Gk(i)?s=i:Gk(i.parentNode)&&(s=i.parentNode),s){const l=s.getAttribute("data-mat-row"),p=s.getAttribute("data-mat-col");if(l&&p)return this.rows[parseInt(l)][parseInt(p)]}return null}}return r.\u0275fac=function(i){return new(i||r)(be(cr),be(gr))},r.\u0275cmp=fn({type:r,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[Hr],attrs:HG,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell",3,"ngClass","tabindex","mat-calendar-body-disabled","mat-calendar-body-active","mat-calendar-body-range-start","mat-calendar-body-range-end","mat-calendar-body-in-range","mat-calendar-body-comparison-bridge-start","mat-calendar-body-comparison-bridge-end","mat-calendar-body-comparison-start","mat-calendar-body-comparison-end","mat-calendar-body-in-comparison-range","mat-calendar-body-preview-start","mat-calendar-body-preview-end","mat-calendar-body-in-preview","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],[1,"mat-calendar-body-cell-preview"]],template:function(i,s){1&i&&(Mn(0,UG,3,6,"tr",0),Mn(1,YG,3,2,"tr",1)),2&i&&(Pi("ngIf",s._firstRowOffset<s.labelMinRequiredCells),Ai(1),Pi("ngForOf",s.rows))},directives:[Yh,Jv,M_],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:none;cursor:pointer}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}@media(hover: none){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){background-color:transparent}}\n'],encapsulation:2,changeDetection:0}),r})();function Gk(r){return"TD"===r.nodeName}function Wk(r,n,i){return null!==i&&n!==i&&r<i&&r===n}function Yk(r,n,i){return null!==n&&n!==i&&r>=n&&r===i}function $k(r,n,i,s){return s&&null!==n&&null!==i&&n!==i&&r>=n&&r<=i}class Hc{constructor(n,i){this.start=n,this.end=i}}let hy=(()=>{class r{constructor(i,s){this.selection=i,this._adapter=s,this._selectionChanged=new C,this.selectionChanged=this._selectionChanged,this.selection=i}updateSelection(i,s){const l=this.selection;this.selection=i,this._selectionChanged.next({selection:i,source:s,oldValue:l})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(i){return this._adapter.isDateInstance(i)&&this._adapter.isValid(i)}}return r.\u0275fac=function(i){A0()},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})(),rW=(()=>{class r extends hy{constructor(i){super(null,i)}add(i){super.updateSelection(i,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const i=new r(this._adapter);return i.updateSelection(this.selection,this),i}}return r.\u0275fac=function(i){return new(i||r)(pi(zu))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})();const p8={provide:hy,deps:[[new Jo,new Hl,hy],zu],useFactory:function(r,n){return r||new rW(n)}},WC=new un("MAT_DATE_RANGE_SELECTION_STRATEGY");let m8=(()=>{class r{constructor(i,s,l,p,b){this._changeDetectorRef=i,this._dateFormats=s,this._dateAdapter=l,this._dir=p,this._rangeStrategy=b,this._rerenderSubscription=D.EMPTY,this.selectedChange=new xn,this._userSelection=new xn,this.activeDateChange=new xn,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(i){const s=this._activeDate,l=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(l,this.minDate,this.maxDate),this._hasSameMonthAndYear(s,this._activeDate)||this._init()}get selected(){return this._selected}set selected(i){this._selected=i instanceof Hc?i:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe($h(null)).subscribe(()=>this._init())}ngOnChanges(i){const s=i.comparisonStart||i.comparisonEnd;s&&!s.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(i){const s=i.value,l=this._dateAdapter.getYear(this.activeDate),p=this._dateAdapter.getMonth(this.activeDate),b=this._dateAdapter.createDate(l,p,s);let R,G;this._selected instanceof Hc?(R=this._getDateInCurrentMonth(this._selected.start),G=this._getDateInCurrentMonth(this._selected.end)):R=G=this._getDateInCurrentMonth(this._selected),(R!==s||G!==s)&&this.selectedChange.emit(b),this._userSelection.emit({value:b,event:i.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_handleCalendarBodyKeydown(i){const s=this._activeDate,l=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,l?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,l?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=i.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=i.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&i.preventDefault());case 27:return void(null!=this._previewEnd&&!Zh(i)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:i}),i.preventDefault(),i.stopPropagation()));default:return}this._dateAdapter.compareDate(s,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),i.preventDefault()}_handleCalendarBodyKeyup(i){(32===i.keyCode||13===i.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(i)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(i){this._matCalendarBody._focusActiveCell(i)}_previewChanged({event:i,value:s}){if(this._rangeStrategy){const p=this._rangeStrategy.createPreview(s?s.rawValue:null,this.selected,i);this._previewStart=this._getCellCompareValue(p.start),this._previewEnd=this._getCellCompareValue(p.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const i=this._dateAdapter.getFirstDayOfWeek(),s=this._dateAdapter.getDayOfWeekNames("narrow");let p=this._dateAdapter.getDayOfWeekNames("long").map((b,R)=>({long:b,narrow:s[R]}));this._weekdays=p.slice(i).concat(p.slice(0,i))}_createWeekCells(){const i=this._dateAdapter.getNumDaysInMonth(this.activeDate),s=this._dateAdapter.getDateNames();this._weeks=[[]];for(let l=0,p=this._firstWeekOffset;l<i;l++,p++){7==p&&(this._weeks.push([]),p=0);const b=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),l+1),R=this._shouldEnableDate(b),G=this._dateAdapter.format(b,this._dateFormats.display.dateA11yLabel),ut=this.dateClass?this.dateClass(b,"month"):void 0;this._weeks[this._weeks.length-1].push(new Uk(l+1,s[l],G,R,ut,this._getCellCompareValue(b),b))}}_shouldEnableDate(i){return!!i&&(!this.minDate||this._dateAdapter.compareDate(i,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(i,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(i))}_getDateInCurrentMonth(i){return i&&this._hasSameMonthAndYear(i,this.activeDate)?this._dateAdapter.getDate(i):null}_hasSameMonthAndYear(i,s){return!(!i||!s||this._dateAdapter.getMonth(i)!=this._dateAdapter.getMonth(s)||this._dateAdapter.getYear(i)!=this._dateAdapter.getYear(s))}_getCellCompareValue(i){if(i){const s=this._dateAdapter.getYear(i),l=this._dateAdapter.getMonth(i),p=this._dateAdapter.getDate(i);return new Date(s,l,p).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(i){i instanceof Hc?(this._rangeStart=this._getCellCompareValue(i.start),this._rangeEnd=this._getCellCompareValue(i.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(i),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(i){return!this.dateFilter||this.dateFilter(i)}}return r.\u0275fac=function(i){return new(i||r)(be(Ks),be($1,8),be(zu,8),be(Vp,8),be(WC,8))},r.\u0275cmp=fn({type:r,selectors:[["mat-month-view"]],viewQuery:function(i,s){if(1&i&&ms(qw,5),2&i){let l;Jn(l=tr())&&(s._matCalendarBody=l.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[Hr],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keyup","keydown"],["scope","col"],[1,"mat-calendar-abbr"]],template:function(i,s){1&i&&(Qe(0,"table",0),Qe(1,"thead",1),Qe(2,"tr"),Mn(3,$G,3,3,"th",2),ti(),Qe(4,"tr"),On(5,"th",3),ti(),ti(),Qe(6,"tbody",4),e("selectedValueChange",function(p){return s._dateSelected(p)})("previewChange",function(p){return s._previewChanged(p)})("keyup",function(p){return s._handleCalendarBodyKeyup(p)})("keydown",function(p){return s._handleCalendarBodyKeydown(p)}),ti(),ti()),2&i&&(Ai(3),Pi("ngForOf",s._weekdays),Ai(3),Pi("label",s._monthLabel)("rows",s._weeks)("todayValue",s._todayDate)("startValue",s._rangeStart)("endValue",s._rangeEnd)("comparisonStart",s._comparisonRangeStart)("comparisonEnd",s._comparisonRangeEnd)("previewStart",s._previewStart)("previewEnd",s._previewEnd)("isRange",s._isRange)("labelMinRequiredCells",3)("activeCell",s._dateAdapter.getDate(s.activeDate)-1))},directives:[Jv,qw],encapsulation:2,changeDetection:0}),r})(),g8=(()=>{class r{constructor(i,s,l){this._changeDetectorRef=i,this._dateAdapter=s,this._dir=l,this._rerenderSubscription=D.EMPTY,this.selectedChange=new xn,this.yearSelected=new xn,this.activeDateChange=new xn,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(i){let s=this._activeDate;const l=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(l,this.minDate,this.maxDate),v8(this._dateAdapter,s,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(i){this._selected=i instanceof Hc?i:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setSelectedYear(i)}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe($h(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const s=this._dateAdapter.getYear(this._activeDate)-eM(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let l=0,p=[];l<24;l++)p.push(s+l),4==p.length&&(this._years.push(p.map(b=>this._createCellForYear(b))),p=[]);this._changeDetectorRef.markForCheck()}_yearSelected(i){const s=i.value;this.yearSelected.emit(this._dateAdapter.createDate(s,0,1));let l=this._dateAdapter.getMonth(this.activeDate),p=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(s,l,1));this.selectedChange.emit(this._dateAdapter.createDate(s,l,Math.min(this._dateAdapter.getDate(this.activeDate),p)))}_handleCalendarBodyKeydown(i){const s=this._activeDate,l=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,l?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,l?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-eM(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-eM(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(s,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),i.preventDefault()}_handleCalendarBodyKeyup(i){(32===i.keyCode||13===i.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_getActiveCell(){return eM(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(i){const s=this._dateAdapter.createDate(i,0,1),l=this._dateAdapter.getYearName(s),p=this.dateClass?this.dateClass(s,"multi-year"):void 0;return new Uk(i,l,l,this._shouldEnableYear(i),p)}_shouldEnableYear(i){if(null==i||this.maxDate&&i>this._dateAdapter.getYear(this.maxDate)||this.minDate&&i<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let l=this._dateAdapter.createDate(i,0,1);this._dateAdapter.getYear(l)==i;l=this._dateAdapter.addCalendarDays(l,1))if(this.dateFilter(l))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(i){if(this._selectedYear=null,i instanceof Hc){const s=i.start||i.end;s&&(this._selectedYear=this._dateAdapter.getYear(s))}else i&&(this._selectedYear=this._dateAdapter.getYear(i))}}return r.\u0275fac=function(i){return new(i||r)(be(Ks),be(zu,8),be(Vp,8))},r.\u0275cmp=fn({type:r,selectors:[["mat-multi-year-view"]],viewQuery:function(i,s){if(1&i&&ms(qw,5),2&i){let l;Jn(l=tr())&&(s._matCalendarBody=l.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(i,s){1&i&&(Qe(0,"table",0),Qe(1,"thead",1),Qe(2,"tr"),On(3,"th",2),ti(),ti(),Qe(4,"tbody",3),e("selectedValueChange",function(p){return s._yearSelected(p)})("keyup",function(p){return s._handleCalendarBodyKeyup(p)})("keydown",function(p){return s._handleCalendarBodyKeydown(p)}),ti(),ti()),2&i&&(Ai(4),Pi("rows",s._years)("todayValue",s._todayYear)("startValue",s._selectedYear)("endValue",s._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",s._getActiveCell()))},directives:[qw],encapsulation:2,changeDetection:0}),r})();function v8(r,n,i,s,l){const p=r.getYear(n),b=r.getYear(i),R=y8(r,s,l);return Math.floor((p-R)/24)===Math.floor((b-R)/24)}function eM(r,n,i,s){return function(r,n){return(r%24+24)%24}(r.getYear(n)-y8(r,i,s))}function y8(r,n,i){let s=0;return i?s=r.getYear(i)-24+1:n&&(s=r.getYear(n)),s}let x8=(()=>{class r{constructor(i,s,l,p){this._changeDetectorRef=i,this._dateFormats=s,this._dateAdapter=l,this._dir=p,this._rerenderSubscription=D.EMPTY,this.selectedChange=new xn,this.monthSelected=new xn,this.activeDateChange=new xn,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(i){let s=this._activeDate;const l=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(l,this.minDate,this.maxDate),this._dateAdapter.getYear(s)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(i){this._selected=i instanceof Hc?i:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setSelectedMonth(i)}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe($h(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(i){const s=i.value,l=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),s,1);this.monthSelected.emit(l);const p=this._dateAdapter.getNumDaysInMonth(l);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),s,Math.min(this._dateAdapter.getDate(this.activeDate),p)))}_handleCalendarBodyKeydown(i){const s=this._activeDate,l=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,l?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,l?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(s,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),i.preventDefault()}_handleCalendarBodyKeyup(i){(32===i.keyCode||13===i.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let i=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(s=>s.map(l=>this._createCellForMonth(l,i[l]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(i){return i&&this._dateAdapter.getYear(i)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(i):null}_createCellForMonth(i,s){const l=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1),p=this._dateAdapter.format(l,this._dateFormats.display.monthYearA11yLabel),b=this.dateClass?this.dateClass(l,"year"):void 0;return new Uk(i,s.toLocaleUpperCase(),p,this._shouldEnableMonth(i),b)}_shouldEnableMonth(i){const s=this._dateAdapter.getYear(this.activeDate);if(null==i||this._isYearAndMonthAfterMaxDate(s,i)||this._isYearAndMonthBeforeMinDate(s,i))return!1;if(!this.dateFilter)return!0;for(let p=this._dateAdapter.createDate(s,i,1);this._dateAdapter.getMonth(p)==i;p=this._dateAdapter.addCalendarDays(p,1))if(this.dateFilter(p))return!0;return!1}_isYearAndMonthAfterMaxDate(i,s){if(this.maxDate){const l=this._dateAdapter.getYear(this.maxDate),p=this._dateAdapter.getMonth(this.maxDate);return i>l||i===l&&s>p}return!1}_isYearAndMonthBeforeMinDate(i,s){if(this.minDate){const l=this._dateAdapter.getYear(this.minDate),p=this._dateAdapter.getMonth(this.minDate);return i<l||i===l&&s<p}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(i){this._selectedMonth=i instanceof Hc?this._getMonthInCurrentYear(i.start)||this._getMonthInCurrentYear(i.end):this._getMonthInCurrentYear(i)}}return r.\u0275fac=function(i){return new(i||r)(be(Ks),be($1,8),be(zu,8),be(Vp,8))},r.\u0275cmp=fn({type:r,selectors:[["mat-year-view"]],viewQuery:function(i,s){if(1&i&&ms(qw,5),2&i){let l;Jn(l=tr())&&(s._matCalendarBody=l.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(i,s){1&i&&(Qe(0,"table",0),Qe(1,"thead",1),Qe(2,"tr"),On(3,"th",2),ti(),ti(),Qe(4,"tbody",3),e("selectedValueChange",function(p){return s._monthSelected(p)})("keyup",function(p){return s._handleCalendarBodyKeyup(p)})("keydown",function(p){return s._handleCalendarBodyKeydown(p)}),ti(),ti()),2&i&&(Ai(4),Pi("label",s._yearLabel)("rows",s._months)("todayValue",s._todayMonth)("startValue",s._selectedMonth)("endValue",s._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",s._dateAdapter.getMonth(s.activeDate)))},directives:[qw],encapsulation:2,changeDetection:0}),r})(),cW=0,fW=(()=>{class r{constructor(i,s,l,p,b){this._intl=i,this.calendar=s,this._dateAdapter=l,this._dateFormats=p,this._buttonDescriptionId="mat-calendar-button-"+cW++,this.calendar.stateChanges.subscribe(()=>b.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const s=this._dateAdapter.getYear(this.calendar.activeDate)-eM(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),l=s+24-1,p=this._dateAdapter.getYearName(this._dateAdapter.createDate(s,0,1)),b=this._dateAdapter.getYearName(this._dateAdapter.createDate(l,0,1));return this._intl.formatYearRange(p,b)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(i,s){return"month"==this.calendar.currentView?this._dateAdapter.getYear(i)==this._dateAdapter.getYear(s)&&this._dateAdapter.getMonth(i)==this._dateAdapter.getMonth(s):"year"==this.calendar.currentView?this._dateAdapter.getYear(i)==this._dateAdapter.getYear(s):v8(this._dateAdapter,i,s,this.calendar.minDate,this.calendar.maxDate)}}return r.\u0275fac=function(i){return new(i||r)(be(tM),be(Vi(()=>Zk)),be(zu,8),be($1,8),be(Ks))},r.\u0275cmp=fn({type:r,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:XG,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","cdkAriaLive","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(i,s){1&i&&(I(),Qe(0,"div",0),Qe(1,"div",1),Qe(2,"button",2),e("click",function(){return s.currentPeriodClicked()}),Qe(3,"span"),Ji(4),ti(),sm(),Qe(5,"svg",3),On(6,"polygon",4),ti(),ti(),t0(),On(7,"div",5),B(8),Qe(9,"button",6),e("click",function(){return s.previousClicked()}),ti(),Qe(10,"button",7),e("click",function(){return s.nextClicked()}),ti(),ti(),ti()),2&i&&(Ai(2),Pr("aria-label",s.periodButtonLabel)("aria-describedby",s._buttonDescriptionId),Ai(1),Pr("id",s._buttonDescriptionId),Ai(1),Ps(s.periodButtonText),Ai(1),Dr("mat-calendar-invert","month"!==s.calendar.currentView),Ai(4),Pi("disabled",!s.previousEnabled()),Pr("aria-label",s.prevButtonLabel),Ai(1),Pi("disabled",!s.nextEnabled()),Pr("aria-label",s.nextButtonLabel))},directives:[uy,Wj],encapsulation:2,changeDetection:0}),r})(),Zk=(()=>{class r{constructor(i,s,l,p){this._dateAdapter=s,this._dateFormats=l,this._changeDetectorRef=p,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new xn,this.yearSelected=new xn,this.monthSelected=new xn,this.viewChanged=new xn(!0),this._userSelection=new xn,this.stateChanges=new C,this._intlChanges=i.changes.subscribe(()=>{p.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(i){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get selected(){return this._selected}set selected(i){this._selected=i instanceof Hc?i:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get activeDate(){return this._clampedActiveDate}set activeDate(i){this._clampedActiveDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(i){const s=this._currentView!==i?i:null;this._currentView=i,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),s&&this.viewChanged.emit(s)}ngAfterContentInit(){this._calendarHeaderPortal=new K_(this.headerComponent||fW),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(i){const s=i.minDate||i.maxDate||i.dateFilter;if(s&&!s.firstChange){const l=this._getCurrentViewComponent();l&&(this._changeDetectorRef.detectChanges(),l._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(i){const s=i.value;(this.selected instanceof Hc||s&&!this._dateAdapter.sameDate(s,this.selected))&&this.selectedChange.emit(s),this._userSelection.emit(i)}_yearSelectedInMultiYearView(i){this.yearSelected.emit(i)}_monthSelectedInYearView(i){this.monthSelected.emit(i)}_goToDateInView(i,s){this.activeDate=i,this.currentView=s}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return r.\u0275fac=function(i){return new(i||r)(be(tM),be(zu,8),be($1,8),be(Ks))},r.\u0275cmp=fn({type:r,selectors:[["mat-calendar"]],viewQuery:function(i,s){if(1&i&&(ms(m8,5),ms(x8,5),ms(g8,5)),2&i){let l;Jn(l=tr())&&(s.monthView=l.first),Jn(l=tr())&&(s.yearView=l.first),Jn(l=tr())&&(s.multiYearView=l.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[lo([p8]),Hr],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(i,s){1&i&&(Mn(0,KG,0,0,"ng-template",0),Qe(1,"div",1),Mn(2,ZG,1,8,"mat-month-view",2),Mn(3,qG,1,6,"mat-year-view",3),Mn(4,QG,1,6,"mat-multi-year-view",4),ti()),2&i&&(Pi("cdkPortalOutlet",s._calendarHeaderPortal),Ai(1),Pi("ngSwitch",s.currentView),Ai(1),Pi("ngSwitchCase","month"),Ai(1),Pi("ngSwitchCase","year"),Ai(1),Pi("ngSwitchCase","multi-year"))},directives:[q_,$j,Nw,H2,m8,x8,g8],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-abbr{text-decoration:none}\n'],encapsulation:2,changeDetection:0}),r})();const w8={transformPanel:yg("transformPanel",[zc("void => enter-dropdown",kf("120ms cubic-bezier(0, 0, 0.2, 1)",D6([Ma({opacity:0,transform:"scale(1, 0.8)"}),Ma({opacity:1,transform:"scale(1, 1)"})]))),zc("void => enter-dialog",kf("150ms cubic-bezier(0, 0, 0.2, 1)",D6([Ma({opacity:0,transform:"scale(0.7)"}),Ma({transform:"none",opacity:1})]))),zc("* => void",kf("100ms linear",Ma({opacity:0})))]),fadeInCalendar:yg("fadeInCalendar",[jc("void",Ma({opacity:0})),jc("enter",Ma({opacity:1})),zc("void => *",kf("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let dW=0;const b8=new un("mat-datepicker-scroll-strategy"),mW={provide:b8,deps:[xg],useFactory:function(r){return()=>r.scrollStrategies.reposition()}},gW=Y1(class{constructor(r){this._elementRef=r}});let vW=(()=>{class r extends gW{constructor(i,s,l,p,b,R){super(i),this._changeDetectorRef=s,this._globalModel=l,this._dateAdapter=p,this._rangeSelectionStrategy=b,this._subscriptions=new D,this._animationDone=new C,this._actionsPortal=null,this._closeButtonText=R.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(i){const s=this._model.selection,l=i.value,p=s instanceof Hc;if(p&&this._rangeSelectionStrategy){const b=this._rangeSelectionStrategy.selectionFinished(l,s,i.event);this._model.updateSelection(b,this)}else l&&(p||!this._dateAdapter.sameDate(l,s))&&this._model.add(l);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return r.\u0275fac=function(i){return new(i||r)(be(cr),be(Ks),be(hy),be(zu),be(WC,8),be(tM))},r.\u0275cmp=fn({type:r,selectors:[["mat-datepicker-content"]],viewQuery:function(i,s){if(1&i&&ms(Zk,5),2&i){let l;Jn(l=tr())&&(s._calendar=l.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(i,s){1&i&&o("@transformPanel.done",function(){return s._animationDone.next()}),2&i&&(bd("@transformPanel",s._animationState),Dr("mat-datepicker-content-touch",s.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[Qn],decls:5,vars:20,consts:[["cdkTrapFocus","",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(i,s){1&i&&(Qe(0,"div",0),Qe(1,"mat-calendar",1),e("yearSelected",function(p){return s.datepicker._selectYear(p)})("monthSelected",function(p){return s.datepicker._selectMonth(p)})("viewChanged",function(p){return s.datepicker._viewChanged(p)})("_userSelection",function(p){return s._handleUserSelection(p)}),ti(),Mn(2,JG,0,0,"ng-template",2),Qe(3,"button",3),e("focus",function(){return s._closeButtonFocused=!0})("blur",function(){return s._closeButtonFocused=!1})("click",function(){return s.datepicker.close()}),Ji(4),ti(),ti()),2&i&&(Dr("mat-datepicker-content-container-with-actions",s._actionsPortal),Ai(1),Pi("id",s.datepicker.id)("ngClass",s.datepicker.panelClass)("startAt",s.datepicker.startAt)("startView",s.datepicker.startView)("minDate",s.datepicker._getMinDate())("maxDate",s.datepicker._getMaxDate())("dateFilter",s.datepicker._getDateFilter())("headerComponent",s.datepicker.calendarHeaderComponent)("selected",s._getSelected())("dateClass",s.datepicker.dateClass)("comparisonStart",s.comparisonStart)("comparisonEnd",s.comparisonEnd)("@fadeInCalendar","enter"),Ai(1),Pi("cdkPortalOutlet",s._actionsPortal),Ai(1),Dr("cdk-visually-hidden",!s._closeButtonFocused),Pi("color",s.color||"primary"),Ai(1),Ps(s._closeButtonText))},directives:[Bj,Zk,M_,q_,uy],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[w8.transformPanel,w8.fadeInCalendar]},changeDetection:0}),r})(),_8=(()=>{class r{constructor(i,s,l,p,b,R,G){this._overlay=i,this._ngZone=s,this._viewContainerRef=l,this._dateAdapter=b,this._dir=R,this._model=G,this._inputStateChanges=D.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new xn,this.monthSelected=new xn,this.viewChanged=new xn(!0),this.openedStream=new xn,this.closedStream=new xn,this._opened=!1,this.id="mat-datepicker-"+dW++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new C,this._scrollStrategy=p}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(i){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(i){this._color=i}get touchUi(){return this._touchUi}set touchUi(i){this._touchUi=Yr(i)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(i){const s=Yr(i);s!==this._disabled&&(this._disabled=s,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(i){this._restoreFocus=Yr(i)}get panelClass(){return this._panelClass}set panelClass(i){this._panelClass=YP(i)}get opened(){return this._opened}set opened(i){Yr(i)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(i){const s=i.xPosition||i.yPosition;if(s&&!s.firstChange&&this._overlayRef){const l=this._overlayRef.getConfig().positionStrategy;l instanceof t8&&(this._setConnectedPositions(l),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(i){this._model.add(i)}_selectYear(i){this.yearSelected.emit(i)}_selectMonth(i){this.monthSelected.emit(i)}_viewChanged(i){this.viewChanged.emit(i)}registerInput(i){return this._inputStateChanges.unsubscribe(),this.datepickerInput=i,this._inputStateChanges=i.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(i){this._actionsPortal=i}removeActions(i){i===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=n4(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const s=this._componentRef.instance;s._startExitAnimation(),s._animationDone.pipe(Un(1)).subscribe(()=>this._destroyOverlay())}const i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(i)):i()}_applyPendingSelection(){var i,s;null==(s=null==(i=this._componentRef)?void 0:i.instance)||s._applyPendingSelection()}_forwardContentValues(i){i.datepicker=this,i.color=this.color,i._actionsPortal=this._actionsPortal}_openOverlay(){this._destroyOverlay();const i=this.touchUi,s=this.datepickerInput.getOverlayLabelId(),l=new K_(vW,this._viewContainerRef),p=this._overlayRef=this._overlay.create(new Q_({positionStrategy:i?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[i?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:i?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(i?"dialog":"popup")})),b=p.overlayElement;b.setAttribute("role","dialog"),s&&b.setAttribute("aria-labelledby",s),i&&b.setAttribute("aria-modal","true"),this._getCloseStream(p).subscribe(R=>{R&&R.preventDefault(),this.close()}),this._componentRef=p.attach(l),this._forwardContentValues(this._componentRef.instance),i||this._ngZone.onStable.pipe(Un(1)).subscribe(()=>p.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const i=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(i)}_setConnectedPositions(i){const s="end"===this.xPosition?"end":"start",l="start"===s?"end":"start",p="above"===this.yPosition?"bottom":"top",b="top"===p?"bottom":"top";return i.withPositions([{originX:s,originY:b,overlayX:s,overlayY:p},{originX:s,originY:p,overlayX:s,overlayY:b},{originX:l,originY:b,overlayX:l,overlayY:p},{originX:l,originY:p,overlayX:l,overlayY:b}])}_getCloseStream(i){return dr(i.backdropClick(),i.detachments(),i.keydownEvents().pipe(Hs(s=>27===s.keyCode&&!Zh(s)||this.datepickerInput&&Zh(s,"altKey")&&38===s.keyCode)))}}return r.\u0275fac=function(i){return new(i||r)(be(xg),be(gr),be(lh),be(b8),be(zu,8),be(Vp,8),be(hy))},r.\u0275dir=an({type:r,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[Hr]}),r})(),yW=(()=>{class r extends _8{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=po(r)))(s||r)}}(),r.\u0275cmp=fn({type:r,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[lo([p8,{provide:_8,useExisting:r}]),Qn],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0}),r})();class YC{constructor(n,i){this.target=n,this.targetElement=i,this.value=this.target.value}}let xW=(()=>{class r{constructor(i,s,l){this._elementRef=i,this._dateAdapter=s,this._dateFormats=l,this.dateChange=new xn,this.dateInput=new xn,this.stateChanges=new C,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=D.EMPTY,this._localeSubscription=D.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=p=>{const b=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(p.value));return!b||this._matchesFilter(b)?null:{matDatepickerFilter:!0}},this._minValidator=p=>{const b=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(p.value)),R=this._getMinDate();return!R||!b||this._dateAdapter.compareDate(R,b)<=0?null:{matDatepickerMin:{min:R,actual:b}}},this._maxValidator=p=>{const b=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(p.value)),R=this._getMaxDate();return!R||!b||this._dateAdapter.compareDate(R,b)>=0?null:{matDatepickerMax:{max:R,actual:b}}},this._lastValueValid=!1,this._localeSubscription=s.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(i){this._assignValueProgrammatically(i)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(i){const s=Yr(i),l=this._elementRef.nativeElement;this._disabled!==s&&(this._disabled=s,this.stateChanges.next(void 0)),s&&this._isInitialized&&l.blur&&l.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(i){this._model=i,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(s=>{if(this._shouldHandleChangeEvent(s)){const l=this._getValueFromModel(s.selection);this._lastValueValid=this._isValidValue(l),this._cvaOnChange(l),this._onTouched(),this._formatValue(l),this.dateInput.emit(new YC(this,this._elementRef.nativeElement)),this.dateChange.emit(new YC(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(i){(function(r,n){const i=Object.keys(r);for(let s of i){const{previousValue:l,currentValue:p}=r[s];if(!n.isDateInstance(l)||!n.isDateInstance(p))return!0;if(!n.sameDate(l,p))return!0}return!1})(i,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(i){this._validatorOnChange=i}validate(i){return this._validator?this._validator(i):null}writeValue(i){this._assignValueProgrammatically(i)}registerOnChange(i){this._cvaOnChange=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i}_onKeydown(i){i.altKey&&40===i.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),i.preventDefault())}_onInput(i){const s=this._lastValueValid;let l=this._dateAdapter.parse(i,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(l),l=this._dateAdapter.getValidDateOrNull(l),this._dateAdapter.sameDate(l,this.value)?(i&&!this.value&&this._cvaOnChange(l),s!==this._lastValueValid&&this._validatorOnChange()):(this._assignValue(l),this._cvaOnChange(l),this.dateInput.emit(new YC(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new YC(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(i){this._elementRef.nativeElement.value=i?this._dateAdapter.format(i,this._dateFormats.display.dateInput):""}_assignValue(i){this._model?(this._assignValueToModel(i),this._pendingValue=null):this._pendingValue=i}_isValidValue(i){return!i||this._dateAdapter.isValid(i)}_parentDisabled(){return!1}_assignValueProgrammatically(i){i=this._dateAdapter.deserialize(i),this._lastValueValid=this._isValidValue(i),i=this._dateAdapter.getValidDateOrNull(i),this._assignValue(i),this._formatValue(i)}_matchesFilter(i){const s=this._getDateFilter();return!s||s(i)}}return r.\u0275fac=function(i){return new(i||r)(be(cr),be(zu,8),be($1,8))},r.\u0275dir=an({type:r,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[Hr]}),r})();const bW={provide:Vc,useExisting:Vi(()=>qk),multi:!0},_W={provide:yu,useExisting:Vi(()=>qk),multi:!0};let qk=(()=>{class r extends xW{constructor(i,s,l,p){super(i,s,l),this._formField=p,this._closedSubscription=D.EMPTY,this._validator=zw.compose(super._getValidators())}set matDatepicker(i){i&&(this._datepicker=i,this._closedSubscription=i.closedStream.subscribe(()=>this._onTouched()),this._registerModel(i.registerInput(this)))}get min(){return this._min}set min(i){const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i));this._dateAdapter.sameDate(s,this._min)||(this._min=s,this._validatorOnChange())}get max(){return this._max}set max(i){const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i));this._dateAdapter.sameDate(s,this._max)||(this._max=s,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(i){const s=this._matchesFilter(this.value);this._dateFilter=i,this._matchesFilter(this.value)!==s&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(i){return i}_assignValueToModel(i){this._model&&this._model.updateSelection(i,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(i){return i.source!==this}}return r.\u0275fac=function(i){return new(i||r)(be(cr),be(zu,8),be($1,8),be(J_,8))},r.\u0275dir=an({type:r,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(i,s){1&i&&e("input",function(p){return s._onInput(p.target.value)})("change",function(){return s._onChange()})("blur",function(){return s._onBlur()})("keydown",function(p){return s._onKeydown(p)}),2&i&&(ju("disabled",s.disabled),Pr("aria-haspopup",s._datepicker?"dialog":null)("aria-owns",(null==s._datepicker?null:s._datepicker.opened)&&s._datepicker.id||null)("min",s.min?s._dateAdapter.toIso8601(s.min):null)("max",s.max?s._dateAdapter.toIso8601(s.max):null)("data-mat-calendar",s._datepicker?s._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[lo([bW,_W,{provide:d8,useExisting:r}]),Qn]}),r})(),MW=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=an({type:r,selectors:[["","matDatepickerToggleIcon",""]]}),r})(),CW=(()=>{class r{constructor(i,s,l){this._intl=i,this._changeDetectorRef=s,this._stateChanges=D.EMPTY;const p=Number(l);this.tabIndex=p||0===p?p:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(i){this._disabled=Yr(i)}ngOnChanges(i){i.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(i){this.datepicker&&!this.disabled&&(this.datepicker.open(),i.stopPropagation())}_watchStateChanges(){const i=this.datepicker?this.datepicker.stateChanges:vr(),s=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:vr(),l=this.datepicker?dr(this.datepicker.openedStream,this.datepicker.closedStream):vr();this._stateChanges.unsubscribe(),this._stateChanges=dr(this._intl.changes,i,s,l).subscribe(()=>this._changeDetectorRef.markForCheck())}}return r.\u0275fac=function(i){return new(i||r)(be(tM),be(Ks),Eu("tabindex"))},r.\u0275cmp=fn({type:r,selectors:[["mat-datepicker-toggle"]],contentQueries:function(i,s,l){if(1&i&&as(l,MW,5),2&i){let p;Jn(p=tr())&&(s._customIcon=p.first)}},viewQuery:function(i,s){if(1&i&&ms(tW,5),2&i){let l;Jn(l=tr())&&(s._button=l.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(i,s){1&i&&e("click",function(p){return s._open(p)}),2&i&&(Pr("tabindex",null)("data-mat-calendar",s.datepicker?s.datepicker.id:null),Dr("mat-datepicker-toggle-active",s.datepicker&&s.datepicker.opened)("mat-accent",s.datepicker&&"accent"===s.datepicker.color)("mat-warn",s.datepicker&&"warn"===s.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[Hr],ngContentSelectors:nW,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(i,s){1&i&&(I(iW),Qe(0,"button",0,1),Mn(2,eW,2,0,"svg",2),B(3),ti()),2&i&&(Pi("disabled",s.disabled)("disableRipple",s.disableRipple),Pr("aria-haspopup",s.datepicker?"dialog":null)("aria-label",s.ariaLabel||s._intl.openCalendarLabel)("tabindex",s.disabled?-1:s.tabIndex),Ai(2),Pi("ngIf",!s._customIcon))},directives:[uy,Yh],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),r})(),SW=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({providers:[tM,mW],imports:[[Lp,Nk,zC,Xj,jC,Bo],K1]}),r})();function wg(r){return nt((n,i)=>{let p,s=null,l=!1;s=n.subscribe(new Q(i,void 0,void 0,b=>{p=En(r(b,wg(r)(n))),s?(s.unsubscribe(),s=null,p.subscribe(i)):l=!0})),l&&(s.unsubscribe(),s=null,p.subscribe(i))})}function M8(r){return nt((n,i)=>{try{n.subscribe(i)}finally{i.add(r)}})}function Qw(r,n){return Tt(n)?ae(r,n,1):ae(r,1)}class C8{}class S8{}class bg{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(i=>{const s=i.indexOf(":");if(s>0){const l=i.slice(0,s),p=l.toLowerCase(),b=i.slice(s+1).trim();this.maybeSetNormalizedName(l,p),this.headers.has(p)?this.headers.get(p).push(b):this.headers.set(p,[b])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(i=>{let s=n[i];const l=i.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(l,s),this.maybeSetNormalizedName(i,l))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const i=this.headers.get(n.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,i){return this.clone({name:n,value:i,op:"a"})}set(n,i){return this.clone({name:n,value:i,op:"s"})}delete(n,i){return this.clone({name:n,value:i,op:"d"})}maybeSetNormalizedName(n,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,n)}init(){this.lazyInit&&(this.lazyInit instanceof bg?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(i=>{this.headers.set(i,n.headers.get(i)),this.normalizedNames.set(i,n.normalizedNames.get(i))})}clone(n){const i=new bg;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof bg?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([n]),i}applyUpdate(n){const i=n.name.toLowerCase();switch(n.op){case"a":case"s":let s=n.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(n.name,i);const l=("a"===n.op?this.headers.get(i):void 0)||[];l.push(...s),this.headers.set(i,l);break;case"d":const p=n.value;if(p){let b=this.headers.get(i);if(!b)return;b=b.filter(R=>-1===p.indexOf(R)),0===b.length?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,b)}else this.headers.delete(i),this.normalizedNames.delete(i)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>n(this.normalizedNames.get(i),this.headers.get(i)))}}class EW{encodeKey(n){return D8(n)}encodeValue(n){return D8(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const AW=/%(\d[a-f0-9])/gi,TW={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function D8(r){return encodeURIComponent(r).replace(AW,(n,i)=>{var s;return null!=(s=TW[i])?s:n})}function E8(r){return`${r}`}class cy{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new EW,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(r,n){const i=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(l=>{const p=l.indexOf("="),[b,R]=-1==p?[n.decodeKey(l),""]:[n.decodeKey(l.slice(0,p)),n.decodeValue(l.slice(p+1))],G=i.get(b)||[];G.push(R),i.set(b,G)}),i}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(i=>{const s=n.fromObject[i];this.map.set(i,Array.isArray(s)?s:[s])})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const i=this.map.get(n);return i?i[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,i){return this.clone({param:n,value:i,op:"a"})}appendAll(n){const i=[];return Object.keys(n).forEach(s=>{const l=n[s];Array.isArray(l)?l.forEach(p=>{i.push({param:s,value:p,op:"a"})}):i.push({param:s,value:l,op:"a"})}),this.clone(i)}set(n,i){return this.clone({param:n,value:i,op:"s"})}delete(n,i){return this.clone({param:n,value:i,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const i=this.encoder.encodeKey(n);return this.map.get(n).map(s=>i+"="+this.encoder.encodeValue(s)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const i=new cy({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(n),i}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const i=("a"===n.op?this.map.get(n.param):void 0)||[];i.push(E8(n.value)),this.map.set(n.param,i);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let s=this.map.get(n.param)||[];const l=s.indexOf(E8(n.value));-1!==l&&s.splice(l,1),s.length>0?this.map.set(n.param,s):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class PW{constructor(){this.map=new Map}set(n,i){return this.map.set(n,i),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}keys(){return this.map.keys()}}function k8(r){return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer}function A8(r){return"undefined"!=typeof Blob&&r instanceof Blob}function T8(r){return"undefined"!=typeof FormData&&r instanceof FormData}class iM{constructor(n,i,s,l){let p;if(this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||l?(this.body=void 0!==s?s:null,p=l):p=s,p&&(this.reportProgress=!!p.reportProgress,this.withCredentials=!!p.withCredentials,p.responseType&&(this.responseType=p.responseType),p.headers&&(this.headers=p.headers),p.context&&(this.context=p.context),p.params&&(this.params=p.params)),this.headers||(this.headers=new bg),this.context||(this.context=new PW),this.params){const b=this.params.toString();if(0===b.length)this.urlWithParams=i;else{const R=i.indexOf("?");this.urlWithParams=i+(-1===R?"?":R<i.length-1?"&":"")+b}}else this.params=new cy,this.urlWithParams=i}serializeBody(){return null===this.body?null:k8(this.body)||A8(this.body)||T8(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof cy?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||T8(this.body)?null:A8(this.body)?this.body.type||null:k8(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof cy?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var Ut;const i=n.method||this.method,s=n.url||this.url,l=n.responseType||this.responseType,p=void 0!==n.body?n.body:this.body,b=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,R=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let G=n.headers||this.headers,ut=n.params||this.params;const St=null!=(Ut=n.context)?Ut:this.context;return void 0!==n.setHeaders&&(G=Object.keys(n.setHeaders).reduce((Jt,se)=>Jt.set(se,n.setHeaders[se]),G)),n.setParams&&(ut=Object.keys(n.setParams).reduce((Jt,se)=>Jt.set(se,n.setParams[se]),ut)),new iM(i,s,p,{params:ut,headers:G,context:St,reportProgress:R,responseType:l,withCredentials:b})}}var Ll=(()=>((Ll=Ll||{})[Ll.Sent=0]="Sent",Ll[Ll.UploadProgress=1]="UploadProgress",Ll[Ll.ResponseHeader=2]="ResponseHeader",Ll[Ll.DownloadProgress=3]="DownloadProgress",Ll[Ll.Response=4]="Response",Ll[Ll.User=5]="User",Ll))();class Qk{constructor(n,i=200,s="OK"){this.headers=n.headers||new bg,this.status=void 0!==n.status?n.status:i,this.statusText=n.statusText||s,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class Jk extends Qk{constructor(n={}){super(n),this.type=Ll.ResponseHeader}clone(n={}){return new Jk({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class $C extends Qk{constructor(n={}){super(n),this.type=Ll.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new $C({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class P8 extends Qk{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function tA(r,n){return{body:n,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let Jw=(()=>{class r{constructor(i){this.handler=i}request(i,s,l={}){let p;if(i instanceof iM)p=i;else{let G,ut;G=l.headers instanceof bg?l.headers:new bg(l.headers),l.params&&(ut=l.params instanceof cy?l.params:new cy({fromObject:l.params})),p=new iM(i,s,void 0!==l.body?l.body:null,{headers:G,context:l.context,params:ut,reportProgress:l.reportProgress,responseType:l.responseType||"json",withCredentials:l.withCredentials})}const b=vr(p).pipe(Qw(G=>this.handler.handle(G)));if(i instanceof iM||"events"===l.observe)return b;const R=b.pipe(Hs(G=>G instanceof $C));switch(l.observe||"body"){case"body":switch(p.responseType){case"arraybuffer":return R.pipe(J(G=>{if(null!==G.body&&!(G.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return G.body}));case"blob":return R.pipe(J(G=>{if(null!==G.body&&!(G.body instanceof Blob))throw new Error("Response is not a Blob.");return G.body}));case"text":return R.pipe(J(G=>{if(null!==G.body&&"string"!=typeof G.body)throw new Error("Response is not a string.");return G.body}));default:return R.pipe(J(G=>G.body))}case"response":return R;default:throw new Error(`Unreachable: unhandled observe type ${l.observe}}`)}}delete(i,s={}){return this.request("DELETE",i,s)}get(i,s={}){return this.request("GET",i,s)}head(i,s={}){return this.request("HEAD",i,s)}jsonp(i,s){return this.request("JSONP",i,{params:(new cy).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,s={}){return this.request("OPTIONS",i,s)}patch(i,s,l={}){return this.request("PATCH",i,tA(l,s))}post(i,s,l={}){return this.request("POST",i,tA(l,s))}put(i,s,l={}){return this.request("PUT",i,tA(l,s))}}return r.\u0275fac=function(i){return new(i||r)(pi(C8))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})();class I8{constructor(n,i){this.next=n,this.interceptor=i}handle(n){return this.interceptor.intercept(n,this.next)}}const R8=new un("HTTP_INTERCEPTORS");let OW=(()=>{class r{intercept(i,s){return s.handle(i)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})();const NW=/^\)\]\}',?\n/;let O8=(()=>{class r{constructor(i){this.xhrFactory=i}handle(i){if("JSONP"===i.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new y(s=>{const l=this.xhrFactory.build();if(l.open(i.method,i.urlWithParams),i.withCredentials&&(l.withCredentials=!0),i.headers.forEach((se,pe)=>l.setRequestHeader(se,pe.join(","))),i.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){const se=i.detectContentTypeHeader();null!==se&&l.setRequestHeader("Content-Type",se)}if(i.responseType){const se=i.responseType.toLowerCase();l.responseType="json"!==se?se:"text"}const p=i.serializeBody();let b=null;const R=()=>{if(null!==b)return b;const se=1223===l.status?204:l.status,pe=l.statusText||"OK",Ue=new bg(l.getAllResponseHeaders()),Ge=function(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(l)||i.url;return b=new Jk({headers:Ue,status:se,statusText:pe,url:Ge}),b},G=()=>{let{headers:se,status:pe,statusText:Ue,url:Ge}=R(),vi=null;204!==pe&&(vi=void 0===l.response?l.responseText:l.response),0===pe&&(pe=vi?200:0);let gi=pe>=200&&pe<300;if("json"===i.responseType&&"string"==typeof vi){const Zi=vi;vi=vi.replace(NW,"");try{vi=""!==vi?JSON.parse(vi):null}catch(ln){vi=Zi,gi&&(gi=!1,vi={error:ln,text:vi})}}gi?(s.next(new $C({body:vi,headers:se,status:pe,statusText:Ue,url:Ge||void 0})),s.complete()):s.error(new P8({error:vi,headers:se,status:pe,statusText:Ue,url:Ge||void 0}))},ut=se=>{const{url:pe}=R(),Ue=new P8({error:se,status:l.status||0,statusText:l.statusText||"Unknown Error",url:pe||void 0});s.error(Ue)};let St=!1;const Ut=se=>{St||(s.next(R()),St=!0);let pe={type:Ll.DownloadProgress,loaded:se.loaded};se.lengthComputable&&(pe.total=se.total),"text"===i.responseType&&!!l.responseText&&(pe.partialText=l.responseText),s.next(pe)},Jt=se=>{let pe={type:Ll.UploadProgress,loaded:se.loaded};se.lengthComputable&&(pe.total=se.total),s.next(pe)};return l.addEventListener("load",G),l.addEventListener("error",ut),l.addEventListener("timeout",ut),l.addEventListener("abort",ut),i.reportProgress&&(l.addEventListener("progress",Ut),null!==p&&l.upload&&l.upload.addEventListener("progress",Jt)),l.send(p),s.next({type:Ll.Sent}),()=>{l.removeEventListener("error",ut),l.removeEventListener("abort",ut),l.removeEventListener("load",G),l.removeEventListener("timeout",ut),i.reportProgress&&(l.removeEventListener("progress",Ut),null!==p&&l.upload&&l.upload.removeEventListener("progress",Jt)),l.readyState!==l.DONE&&l.abort()}})}}return r.\u0275fac=function(i){return new(i||r)(pi(IP))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})();const eA=new un("XSRF_COOKIE_NAME"),iA=new un("XSRF_HEADER_NAME");class N8{}let FW=(()=>{class r{constructor(i,s,l){this.doc=i,this.platform=s,this.cookieName=l,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=_P(i,this.cookieName),this.lastCookieString=i),this.lastToken}}return r.\u0275fac=function(i){return new(i||r)(pi(Nr),pi(I1),pi(eA))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})(),nA=(()=>{class r{constructor(i,s){this.tokenService=i,this.headerName=s}intercept(i,s){const l=i.url.toLowerCase();if("GET"===i.method||"HEAD"===i.method||l.startsWith("http://")||l.startsWith("https://"))return s.handle(i);const p=this.tokenService.getToken();return null!==p&&!i.headers.has(this.headerName)&&(i=i.clone({headers:i.headers.set(this.headerName,p)})),s.handle(i)}}return r.\u0275fac=function(i){return new(i||r)(pi(N8),pi(iA))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})(),BW=(()=>{class r{constructor(i,s){this.backend=i,this.injector=s,this.chain=null}handle(i){if(null===this.chain){const s=this.injector.get(R8,[]);this.chain=s.reduceRight((l,p)=>new I8(l,p),this.backend)}return this.chain.handle(i)}}return r.\u0275fac=function(i){return new(i||r)(pi(S8),pi(Eo))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})(),VW=(()=>{class r{static disable(){return{ngModule:r,providers:[{provide:nA,useClass:OW}]}}static withOptions(i={}){return{ngModule:r,providers:[i.cookieName?{provide:eA,useValue:i.cookieName}:[],i.headerName?{provide:iA,useValue:i.headerName}:[]]}}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({providers:[nA,{provide:R8,useExisting:nA,multi:!0},{provide:N8,useClass:FW},{provide:eA,useValue:"XSRF-TOKEN"},{provide:iA,useValue:"X-XSRF-TOKEN"}]}),r})(),jW=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({providers:[Jw,{provide:C8,useClass:BW},O8,{provide:S8,useExisting:O8}],imports:[[VW.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),r})();const zW=["*"];let XC;function nM(r){var n;return(null==(n=function(){if(void 0===XC&&(XC=null,"undefined"!=typeof window)){const r=window;void 0!==r.trustedTypes&&(XC=r.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return XC}())?void 0:n.createHTML(r))||r}function L8(r){return Error(`Unable to find icon with the name "${r}"`)}function F8(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function B8(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}class q1{constructor(n,i,s){this.url=n,this.svgText=i,this.options=s}}let KC=(()=>{class r{constructor(i,s,l,p){this._httpClient=i,this._sanitizer=s,this._errorHandler=p,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=l}addSvgIcon(i,s,l){return this.addSvgIconInNamespace("",i,s,l)}addSvgIconLiteral(i,s,l){return this.addSvgIconLiteralInNamespace("",i,s,l)}addSvgIconInNamespace(i,s,l,p){return this._addSvgIconConfig(i,s,new q1(l,null,p))}addSvgIconResolver(i){return this._resolvers.push(i),this}addSvgIconLiteralInNamespace(i,s,l,p){const b=this._sanitizer.sanitize(xr.HTML,l);if(!b)throw B8(l);const R=nM(b);return this._addSvgIconConfig(i,s,new q1("",R,p))}addSvgIconSet(i,s){return this.addSvgIconSetInNamespace("",i,s)}addSvgIconSetLiteral(i,s){return this.addSvgIconSetLiteralInNamespace("",i,s)}addSvgIconSetInNamespace(i,s,l){return this._addSvgIconSetConfig(i,new q1(s,null,l))}addSvgIconSetLiteralInNamespace(i,s,l){const p=this._sanitizer.sanitize(xr.HTML,s);if(!p)throw B8(s);const b=nM(p);return this._addSvgIconSetConfig(i,new q1("",b,l))}registerFontClassAlias(i,s=i){return this._fontCssClassesByAlias.set(i,s),this}classNameForFontAlias(i){return this._fontCssClassesByAlias.get(i)||i}setDefaultFontSetClass(i){return this._defaultFontSetClass=i,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(i){const s=this._sanitizer.sanitize(xr.RESOURCE_URL,i);if(!s)throw F8(i);const l=this._cachedIconsByUrl.get(s);return l?vr(ZC(l)):this._loadSvgIconFromConfig(new q1(i,null)).pipe(Nl(p=>this._cachedIconsByUrl.set(s,p)),J(p=>ZC(p)))}getNamedSvgIcon(i,s=""){const l=V8(s,i);let p=this._svgIconConfigs.get(l);if(p)return this._getSvgFromConfig(p);if(p=this._getIconConfigFromResolvers(s,i),p)return this._svgIconConfigs.set(l,p),this._getSvgFromConfig(p);const b=this._iconSetConfigs.get(s);return b?this._getSvgFromIconSetConfigs(i,b):function(r,n){const i=Tt(r)?r:()=>r,s=l=>l.error(i());return new y(s)}(L8(l))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(i){return i.svgText?vr(ZC(this._svgElementFromConfig(i))):this._loadSvgIconFromConfig(i).pipe(J(s=>ZC(s)))}_getSvgFromIconSetConfigs(i,s){const l=this._extractIconWithNameFromAnySet(i,s);return l?vr(l):EE(s.filter(b=>!b.svgText).map(b=>this._loadSvgIconSetFromConfig(b).pipe(wg(R=>{const ut=`Loading icon set URL: ${this._sanitizer.sanitize(xr.RESOURCE_URL,b.url)} failed: ${R.message}`;return this._errorHandler.handleError(new Error(ut)),vr(null)})))).pipe(J(()=>{const b=this._extractIconWithNameFromAnySet(i,s);if(!b)throw L8(i);return b}))}_extractIconWithNameFromAnySet(i,s){for(let l=s.length-1;l>=0;l--){const p=s[l];if(p.svgText&&p.svgText.toString().indexOf(i)>-1){const b=this._svgElementFromConfig(p),R=this._extractSvgIconFromSet(b,i,p.options);if(R)return R}}return null}_loadSvgIconFromConfig(i){return this._fetchIcon(i).pipe(Nl(s=>i.svgText=s),J(()=>this._svgElementFromConfig(i)))}_loadSvgIconSetFromConfig(i){return i.svgText?vr(null):this._fetchIcon(i).pipe(Nl(s=>i.svgText=s))}_extractSvgIconFromSet(i,s,l){const p=i.querySelector(`[id="${s}"]`);if(!p)return null;const b=p.cloneNode(!0);if(b.removeAttribute("id"),"svg"===b.nodeName.toLowerCase())return this._setSvgAttributes(b,l);if("symbol"===b.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(b),l);const R=this._svgElementFromString(nM("<svg></svg>"));return R.appendChild(b),this._setSvgAttributes(R,l)}_svgElementFromString(i){const s=this._document.createElement("DIV");s.innerHTML=i;const l=s.querySelector("svg");if(!l)throw Error("<svg> tag not found");return l}_toSvgElement(i){const s=this._svgElementFromString(nM("<svg></svg>")),l=i.attributes;for(let p=0;p<l.length;p++){const{name:b,value:R}=l[p];"id"!==b&&s.setAttribute(b,R)}for(let p=0;p<i.childNodes.length;p++)i.childNodes[p].nodeType===this._document.ELEMENT_NODE&&s.appendChild(i.childNodes[p].cloneNode(!0));return s}_setSvgAttributes(i,s){return i.setAttribute("fit",""),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.setAttribute("preserveAspectRatio","xMidYMid meet"),i.setAttribute("focusable","false"),s&&s.viewBox&&i.setAttribute("viewBox",s.viewBox),i}_fetchIcon(i){var ut;const{url:s,options:l}=i,p=null!=(ut=null==l?void 0:l.withCredentials)&&ut;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==s)throw Error(`Cannot fetch icon from URL "${s}".`);const b=this._sanitizer.sanitize(xr.RESOURCE_URL,s);if(!b)throw F8(s);const R=this._inProgressUrlFetches.get(b);if(R)return R;const G=this._httpClient.get(b,{responseType:"text",withCredentials:p}).pipe(J(St=>nM(St)),M8(()=>this._inProgressUrlFetches.delete(b)),xo());return this._inProgressUrlFetches.set(b,G),G}_addSvgIconConfig(i,s,l){return this._svgIconConfigs.set(V8(i,s),l),this}_addSvgIconSetConfig(i,s){const l=this._iconSetConfigs.get(i);return l?l.push(s):this._iconSetConfigs.set(i,[s]),this}_svgElementFromConfig(i){if(!i.svgElement){const s=this._svgElementFromString(i.svgText);this._setSvgAttributes(s,i.options),i.svgElement=s}return i.svgElement}_getIconConfigFromResolvers(i,s){for(let l=0;l<this._resolvers.length;l++){const p=this._resolvers[l](s,i);if(p)return WW(p)?new q1(p.url,null,p.options):new q1(p,null)}}}return r.\u0275fac=function(i){return new(i||r)(pi(Jw,8),pi(V1),pi(Nr,8),pi(Ur))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function ZC(r){return r.cloneNode(!0)}function V8(r,n){return r+":"+n}function WW(r){return!(!r.url||!r.options)}const YW=Y1(class{constructor(r){this._elementRef=r}}),$W=new un("mat-icon-location",{providedIn:"root",factory:function(){const r=Iu(Nr),n=r?r.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),j8=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],KW=j8.map(r=>`[${r}]`).join(", "),ZW=/^url\(['"]?#(.*?)['"]?\)$/;let z8=(()=>{class r extends YW{constructor(i,s,l,p,b){super(i),this._iconRegistry=s,this._location=p,this._errorHandler=b,this._inline=!1,this._currentIconFetch=D.EMPTY,l||i.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(i){this._inline=Yr(i)}get svgIcon(){return this._svgIcon}set svgIcon(i){i!==this._svgIcon&&(i?this._updateSvgIcon(i):this._svgIcon&&this._clearSvgElement(),this._svgIcon=i)}get fontSet(){return this._fontSet}set fontSet(i){const s=this._cleanupFontValue(i);s!==this._fontSet&&(this._fontSet=s,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(i){const s=this._cleanupFontValue(i);s!==this._fontIcon&&(this._fontIcon=s,this._updateFontIconClasses())}_splitIconName(i){if(!i)return["",""];const s=i.split(":");switch(s.length){case 1:return["",s[0]];case 2:return s;default:throw Error(`Invalid icon name: "${i}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const i=this._elementsWithExternalReferences;if(i&&i.size){const s=this._location.getPathname();s!==this._previousPath&&(this._previousPath=s,this._prependPathToReferences(s))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(i){this._clearSvgElement();const s=i.querySelectorAll("style");for(let p=0;p<s.length;p++)s[p].textContent+=" ";const l=this._location.getPathname();this._previousPath=l,this._cacheChildrenWithExternalReferences(i),this._prependPathToReferences(l),this._elementRef.nativeElement.appendChild(i)}_clearSvgElement(){const i=this._elementRef.nativeElement;let s=i.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();s--;){const l=i.childNodes[s];(1!==l.nodeType||"svg"===l.nodeName.toLowerCase())&&l.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const i=this._elementRef.nativeElement,s=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();s!=this._previousFontSetClass&&(this._previousFontSetClass&&i.classList.remove(this._previousFontSetClass),s&&i.classList.add(s),this._previousFontSetClass=s),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&i.classList.remove(this._previousFontIconClass),this.fontIcon&&i.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(i){return"string"==typeof i?i.trim().split(" ")[0]:i}_prependPathToReferences(i){const s=this._elementsWithExternalReferences;s&&s.forEach((l,p)=>{l.forEach(b=>{p.setAttribute(b.name,`url('${i}#${b.value}')`)})})}_cacheChildrenWithExternalReferences(i){const s=i.querySelectorAll(KW),l=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let p=0;p<s.length;p++)j8.forEach(b=>{const R=s[p],G=R.getAttribute(b),ut=G?G.match(ZW):null;if(ut){let St=l.get(R);St||(St=[],l.set(R,St)),St.push({name:b,value:ut[1]})}})}_updateSvgIcon(i){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),i){const[s,l]=this._splitIconName(i);s&&(this._svgNamespace=s),l&&(this._svgName=l),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(l,s).pipe(Un(1)).subscribe(p=>this._setSvgElement(p),p=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${s}:${l}! ${p.message}`))})}}}return r.\u0275fac=function(i){return new(i||r)(be(cr),be(KC),Eu("aria-hidden"),be($W),be(Ur))},r.\u0275cmp=fn({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(i,s){2&i&&(Pr("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet),Dr("mat-icon-inline",s.inline)("mat-icon-no-color","primary"!==s.color&&"accent"!==s.color&&"warn"!==s.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Qn],ngContentSelectors:zW,decls:1,vars:0,template:function(i,s){1&i&&(I(),B(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),r})(),qW=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({imports:[[Bo],Bo]}),r})();class rA{constructor(n=!1,i,s=!0){this._multiple=n,this._emitChanges=s,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new C,i&&i.length&&(n?i.forEach(l=>this._markSelected(l)):this._markSelected(i[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...n){this._verifyValueAssignment(n),n.forEach(i=>this._markSelected(i)),this._emitChangeEvent()}deselect(...n){this._verifyValueAssignment(n),n.forEach(i=>this._unmarkSelected(i)),this._emitChangeEvent()}toggle(n){this.isSelected(n)?this.deselect(n):this.select(n)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(n){return this._selection.has(n)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){this.isSelected(n)||(this._multiple||this._unmarkAll(),this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){}}let H8=(()=>{class r{constructor(){this._listeners=[]}notify(i,s){for(let l of this._listeners)l(i,s)}listen(i){return this._listeners.push(i),()=>{this._listeners=this._listeners.filter(s=>i!==s)}}ngOnDestroy(){this._listeners=[]}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),QW=(()=>{class r{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(i){this._vertical=Yr(i)}get inset(){return this._inset}set inset(i){this._inset=Yr(i)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=fn({type:r,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,s){2&i&&(Pr("aria-orientation",s.vertical?"vertical":"horizontal"),Dr("mat-divider-vertical",s.vertical)("mat-divider-horizontal",!s.vertical)("mat-divider-inset",s.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(i,s){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),r})(),JW=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({imports:[[Bo],Bo]}),r})();const U8=["*"],eY=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],iY=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],aY=G_(ly(class{})),lY=ly(class{}),uY=new un("MatList"),G8=new un("MatNavList");let hY=(()=>{class r extends aY{constructor(){super(...arguments),this._stateChanges=new C}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=po(r)))(s||r)}}(),r.\u0275cmp=fn({type:r,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[lo([{provide:G8,useExisting:r}]),Qn,Hr],ngContentSelectors:U8,decls:1,vars:0,template:function(i,s){1&i&&(I(),B(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),r})(),W8=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=an({type:r,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),r})(),Y8=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=an({type:r,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),r})(),cY=(()=>{class r extends lY{constructor(i,s,l,p){super(),this._element=i,this._isInteractiveList=!1,this._destroyed=new C,this._disabled=!1,this._isInteractiveList=!!(l||p&&"action-list"===p._getListType()),this._list=l||p;const b=this._getHostElement();"button"===b.nodeName.toLowerCase()&&!b.hasAttribute("type")&&b.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(ls(this._destroyed)).subscribe(()=>{s.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(i){this._disabled=Yr(i)}ngAfterContentInit(){!function(r,n,i="mat"){r.changes.pipe($h(r)).subscribe(({length:s})=>{W_(n,`${i}-2-line`,!1),W_(n,`${i}-3-line`,!1),W_(n,`${i}-multi-line`,!1),2===s||3===s?W_(n,`${i}-${s}-line`,!0):s>3&&W_(n,`${i}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return r.\u0275fac=function(i){return new(i||r)(be(cr),be(Ks),be(G8,8),be(uY,8))},r.\u0275cmp=fn({type:r,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,s,l){if(1&i&&(as(l,W8,5),as(l,Y8,5),as(l,EI,5)),2&i){let p;Jn(p=tr())&&(s._avatar=p.first),Jn(p=tr())&&(s._icon=p.first),Jn(p=tr())&&(s._lines=p)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(i,s){2&i&&Dr("mat-list-item-disabled",s.disabled)("mat-list-item-avatar",s._avatar||s._icon)("mat-list-item-with-avatar",s._avatar||s._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[Qn],ngContentSelectors:iY,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(i,s){1&i&&(I(eY),Qe(0,"div",0),On(1,"div",1),B(2),Qe(3,"div",2),B(4,1),ti(),B(5,2),ti()),2&i&&(Ai(1),Pi("matRippleTrigger",s._getHostElement())("matRippleDisabled",s._isRippleDisabled()))},directives:[X1],encapsulation:2,changeDetection:0}),r})(),vY=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({imports:[[AI,PC,Bo,Rk,Lp],AI,Bo,Rk,JW]}),r})();function qC(r){return new y(n=>{En(r()).subscribe(n)})}function ch(r,n){return nt((i,s)=>{let l=null,p=0,b=!1;const R=()=>b&&!l&&s.complete();i.subscribe(new Q(s,G=>{null==l||l.unsubscribe();let ut=0;const St=p++;En(r(G,St)).subscribe(l=new Q(s,Ut=>s.next(n?n(G,Ut,St,ut++):Ut),()=>{l=null,R()}))},()=>{b=!0,R()}))})}const yY=["trigger"],xY=["panel"];function wY(r,n){if(1&r&&(Qe(0,"span",8),Ji(1),ti()),2&r){const i=_();Ai(1),Ps(i.placeholder)}}function bY(r,n){if(1&r&&(Qe(0,"span",12),Ji(1),ti()),2&r){const i=_(2);Ai(1),Ps(i.triggerValue)}}function _Y(r,n){1&r&&B(0,0,["*ngSwitchCase","true"])}function MY(r,n){1&r&&(Qe(0,"span",9),Mn(1,bY,2,1,"span",10),Mn(2,_Y,1,0,"ng-content",11),ti()),2&r&&(Pi("ngSwitch",!!_().customTrigger),Ai(2),Pi("ngSwitchCase",!0))}function CY(r,n){if(1&r){const i=Qa();Qe(0,"div",13),Qe(1,"div",14,15),e("@transformPanel.done",function(l){return Qo(i),_()._panelDoneAnimatingStream.next(l.toState)})("keydown",function(l){return Qo(i),_()._handleKeydown(l)}),B(3,1),ti(),ti()}if(2&r){const i=_();Pi("@transformPanelWrap",void 0),Ai(1),Xs("mat-select-panel ",i._getPanelTheme(),""),cu("transform-origin",i._transformOrigin)("font-size",i._triggerFontSize,"px"),Pi("ngClass",i.panelClass)("@transformPanel",i.multiple?"showing-multiple":"showing"),Pr("id",i.id+"-panel")("aria-multiselectable",i.multiple)("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby())}}const SY=[[["mat-select-trigger"]],"*"],DY=["mat-select-trigger","*"],X8={transformPanelWrap:yg("transformPanelWrap",[zc("* => void",Jj("@transformPanel",[Qj()],{optional:!0}))]),transformPanel:yg("transformPanel",[jc("void",Ma({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),jc("showing",Ma({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),jc("showing-multiple",Ma({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),zc("void => *",kf("120ms cubic-bezier(0, 0, 0.2, 1)")),zc("* => void",kf("100ms 25ms linear",Ma({opacity:0})))])};let K8=0;const q8=new un("mat-select-scroll-strategy"),TY=new un("MAT_SELECT_CONFIG"),PY={provide:q8,deps:[xg],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};class IY{constructor(n,i){this.source=n,this.value=i}}const RY=ly(Ak(G_(SI(class{constructor(r,n,i,s,l){this._elementRef=r,this._defaultErrorStateMatcher=n,this._parentForm=i,this._parentFormGroup=s,this.ngControl=l}})))),OY=new un("MatSelectTrigger");let NY=(()=>{class r extends RY{constructor(i,s,l,p,b,R,G,ut,St,Ut,Jt,se,pe,Ue){var Ge,vi,gi;super(b,p,G,ut,Ut),this._viewportRuler=i,this._changeDetectorRef=s,this._ngZone=l,this._dir=R,this._parentFormField=St,this._liveAnnouncer=pe,this._defaultOptions=Ue,this._panelOpen=!1,this._compareWith=(Zi,ln)=>Zi===ln,this._uid="mat-select-"+K8++,this._triggerAriaLabelledBy=null,this._destroy=new C,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+K8++,this._panelDoneAnimatingStream=new C,this._overlayPanelClass=(null==(Ge=this._defaultOptions)?void 0:Ge.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!=(gi=null==(vi=this._defaultOptions)?void 0:vi.disableOptionCentering)&&gi,this.ariaLabel="",this.optionSelectionChanges=qC(()=>{const Zi=this.options;return Zi?Zi.changes.pipe($h(Zi),ch(()=>dr(...Zi.map(ln=>ln.onSelectionChange)))):this._ngZone.onStable.pipe(Un(1),ch(()=>this.optionSelectionChanges))}),this.openedChange=new xn,this._openedStream=this.openedChange.pipe(Hs(Zi=>Zi),J(()=>{})),this._closedStream=this.openedChange.pipe(Hs(Zi=>!Zi),J(()=>{})),this.selectionChange=new xn,this.valueChange=new xn,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==Ue?void 0:Ue.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=Ue.typeaheadDebounceInterval),this._scrollStrategyFactory=se,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(Jt)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(i){this._placeholder=i,this.stateChanges.next()}get required(){var i,s,l,p;return null!=(p=null!=(l=this._required)?l:null==(s=null==(i=this.ngControl)?void 0:i.control)?void 0:s.hasValidator(zw.required))&&p}set required(i){this._required=Yr(i),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(i){this._multiple=Yr(i)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(i){this._disableOptionCentering=Yr(i)}get compareWith(){return this._compareWith}set compareWith(i){this._compareWith=i,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(i){(i!==this._value||this._multiple&&Array.isArray(i))&&(this.options&&this._setSelectionByValue(i),this._value=i)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(i){this._typeaheadDebounceInterval=ey(i)}get id(){return this._id}set id(i){this._id=i||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new rA(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(cC(),ls(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(ls(this._destroy)).subscribe(i=>{i.added.forEach(s=>s.select()),i.removed.forEach(s=>s.deselect())}),this.options.changes.pipe($h(null),ls(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const i=this._getTriggerAriaLabelledby();if(i!==this._triggerAriaLabelledBy){const s=this._elementRef.nativeElement;this._triggerAriaLabelledBy=i,i?s.setAttribute("aria-labelledby",i):s.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(i){i.disabled&&this.stateChanges.next(),i.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(i){this.value=i}registerOnChange(i){this._onChange=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var i,s;return this.multiple?(null==(i=this._selectionModel)?void 0:i.selected)||[]:null==(s=this._selectionModel)?void 0:s.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const i=this._selectionModel.selected.map(s=>s.viewValue);return this._isRtl()&&i.reverse(),i.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(i){this.disabled||(this.panelOpen?this._handleOpenKeydown(i):this._handleClosedKeydown(i))}_handleClosedKeydown(i){const s=i.keyCode,l=40===s||38===s||37===s||39===s,p=13===s||32===s,b=this._keyManager;if(!b.isTyping()&&p&&!Zh(i)||(this.multiple||i.altKey)&&l)i.preventDefault(),this.open();else if(!this.multiple){const R=this.selected;b.onKeydown(i);const G=this.selected;G&&R!==G&&this._liveAnnouncer.announce(G.viewValue,1e4)}}_handleOpenKeydown(i){const s=this._keyManager,l=i.keyCode,p=40===l||38===l,b=s.isTyping();if(p&&i.altKey)i.preventDefault(),this.close();else if(b||13!==l&&32!==l||!s.activeItem||Zh(i))if(!b&&this._multiple&&65===l&&i.ctrlKey){i.preventDefault();const R=this.options.some(G=>!G.disabled&&!G.selected);this.options.forEach(G=>{G.disabled||(R?G.select():G.deselect())})}else{const R=s.activeItemIndex;s.onKeydown(i),this._multiple&&p&&i.shiftKey&&s.activeItem&&s.activeItemIndex!==R&&s.activeItem._selectViaInteraction()}else i.preventDefault(),s.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Un(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(i){if(this._selectionModel.selected.forEach(s=>s.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&i)Array.isArray(i),i.forEach(s=>this._selectValue(s)),this._sortValues();else{const s=this._selectValue(i);s?this._keyManager.updateActiveItem(s):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(i){const s=this.options.find(l=>{if(this._selectionModel.isSelected(l))return!1;try{return null!=l.value&&this._compareWith(l.value,i)}catch(p){return!1}});return s&&this._selectionModel.select(s),s}_initKeyManager(){this._keyManager=new f6(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(ls(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(ls(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const i=dr(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(ls(i)).subscribe(s=>{this._onSelect(s.source,s.isUserInput),s.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),dr(...this.options.map(s=>s._stateChanges)).pipe(ls(i)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(i,s){const l=this._selectionModel.isSelected(i);null!=i.value||this._multiple?(l!==i.selected&&(i.selected?this._selectionModel.select(i):this._selectionModel.deselect(i)),s&&this._keyManager.setActiveItem(i),this.multiple&&(this._sortValues(),s&&this.focus())):(i.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(i.value)),l!==this._selectionModel.isSelected(i)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const i=this.options.toArray();this._selectionModel.sort((s,l)=>this.sortComparator?this.sortComparator(s,l,i):i.indexOf(s)-i.indexOf(l)),this.stateChanges.next()}}_propagateChanges(i){let s=null;s=this.multiple?this.selected.map(l=>l.value):this.selected?this.selected.value:i,this._value=s,this.valueChange.emit(s),this._onChange(s),this.selectionChange.emit(this._getChangeEvent(s)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var i;return!this._panelOpen&&!this.disabled&&(null==(i=this.options)?void 0:i.length)>0}focus(i){this._elementRef.nativeElement.focus(i)}_getPanelAriaLabelledby(){var l;if(this.ariaLabel)return null;const i=null==(l=this._parentFormField)?void 0:l.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var l;if(this.ariaLabel)return null;const i=null==(l=this._parentFormField)?void 0:l.getLabelId();let s=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(s+=" "+this.ariaLabelledby),s}_panelDoneAnimating(i){this.openedChange.emit(i)}setDescribedByIds(i){this._ariaDescribedby=i.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return r.\u0275fac=function(i){return new(i||r)(be(X_),be(Ks),be(gr),be(Pk),be(cr),be(Vp,8),be(F_,8),be(mg,8),be(J_,8),be(B0,10),Eu("tabindex"),be(q8),be(ZE),be(TY,8))},r.\u0275dir=an({type:r,viewQuery:function(i,s){if(1&i&&(ms(yY,5),ms(xY,5),ms(s8,5)),2&i){let l;Jn(l=tr())&&(s.trigger=l.first),Jn(l=tr())&&(s.panel=l.first),Jn(l=tr())&&(s._overlayDir=l.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[Qn,Hr]}),r})(),oA=(()=>{class r extends NY{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(i,s,l){const p=this._getItemHeight();return Math.min(Math.max(0,p*i-s+p/2),l)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(ls(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Un(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(i){const s=Ok(i,this.options,this.optionGroups),l=this._getItemHeight();this.panel.nativeElement.scrollTop=0===i&&1===s?0:LI((i+s)*l,l,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(i){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(i)}_getChangeEvent(i){return new IY(this,i)}_calculateOverlayOffsetX(){const i=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),s=this._viewportRuler.getViewportSize(),l=this._isRtl(),p=this.multiple?56:32;let b;if(this.multiple)b=40;else if(this.disableOptionCentering)b=16;else{let ut=this._selectionModel.selected[0]||this.options.first;b=ut&&ut.group?32:16}l||(b*=-1);const R=0-(i.left+b-(l?p:0)),G=i.right+b-s.width+(l?0:p);R>0?b+=R+8:G>0&&(b-=G+8),this._overlayDir.offsetX=Math.round(b),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(i,s,l){const p=this._getItemHeight(),b=(p-this._triggerRect.height)/2,R=Math.floor(256/p);let G;return this.disableOptionCentering?0:(G=0===this._scrollTop?i*p:this._scrollTop===l?(i-(this._getItemCount()-R))*p+(p-(this._getItemCount()*p-256)%p):s-p/2,Math.round(-1*G-b))}_checkOverlayWithinViewport(i){const s=this._getItemHeight(),l=this._viewportRuler.getViewportSize(),p=this._triggerRect.top-8,b=l.height-this._triggerRect.bottom-8,R=Math.abs(this._offsetY),ut=Math.min(this._getItemCount()*s,256)-R-this._triggerRect.height;ut>b?this._adjustPanelUp(ut,b):R>p?this._adjustPanelDown(R,p,i):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(i,s){const l=Math.round(i-s);this._scrollTop-=l,this._offsetY-=l,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(i,s,l){const p=Math.round(i-s);if(this._scrollTop+=p,this._offsetY+=p,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=l)return this._scrollTop=l,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const i=this._getItemHeight(),s=this._getItemCount(),l=Math.min(s*i,256),b=s*i-l;let R;R=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),R+=Ok(R,this.options,this.optionGroups);const G=l/2;this._scrollTop=this._calculateOverlayScroll(R,G,b),this._offsetY=this._calculateOverlayOffsetY(R,G,b),this._checkOverlayWithinViewport(b)}_getOriginBasedOnOption(){const i=this._getItemHeight(),s=(i-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-s+i/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=po(r)))(s||r)}}(),r.\u0275cmp=fn({type:r,selectors:[["mat-select"]],contentQueries:function(i,s,l){if(1&i&&(as(l,OY,5),as(l,Y_,5),as(l,RC,5)),2&i){let p;Jn(p=tr())&&(s.customTrigger=p.first),Jn(p=tr())&&(s.options=p),Jn(p=tr())&&(s.optionGroups=p)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(i,s){1&i&&e("keydown",function(p){return s._handleKeydown(p)})("focus",function(){return s._onFocus()})("blur",function(){return s._onBlur()}),2&i&&(Pr("id",s.id)("tabindex",s.tabIndex)("aria-controls",s.panelOpen?s.id+"-panel":null)("aria-expanded",s.panelOpen)("aria-label",s.ariaLabel||null)("aria-required",s.required.toString())("aria-disabled",s.disabled.toString())("aria-invalid",s.errorState)("aria-describedby",s._ariaDescribedby||null)("aria-activedescendant",s._getAriaActiveDescendant()),Dr("mat-select-disabled",s.disabled)("mat-select-invalid",s.errorState)("mat-select-required",s.required)("mat-select-empty",s.empty)("mat-select-multiple",s.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[lo([{provide:HC,useExisting:r},{provide:IC,useExisting:r}]),Qn],ngContentSelectors:DY,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(i,s){if(1&i&&(I(SY),Qe(0,"div",0,1),e("click",function(){return s.toggle()}),Qe(3,"div",2),Mn(4,wY,2,1,"span",3),Mn(5,MY,3,2,"span",4),ti(),Qe(6,"div",5),On(7,"div",6),ti(),ti(),Mn(8,CY,4,14,"ng-template",7),e("backdropClick",function(){return s.close()})("attach",function(){return s._onAttached()})("detach",function(){return s.close()})),2&i){const l=Oh(1);Pr("aria-owns",s.panelOpen?s.id+"-panel":null),Ai(3),Pi("ngSwitch",s.empty),Pr("id",s._valueId),Ai(1),Pi("ngSwitchCase",!0),Ai(1),Pi("ngSwitchCase",!1),Ai(3),Pi("cdkConnectedOverlayPanelClass",s._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",s._scrollStrategy)("cdkConnectedOverlayOrigin",l)("cdkConnectedOverlayOpen",s.panelOpen)("cdkConnectedOverlayPositions",s._positions)("cdkConnectedOverlayMinWidth",null==s._triggerRect?null:s._triggerRect.width)("cdkConnectedOverlayOffsetY",s._offsetY)}},directives:[o8,Nw,H2,s8,SP,M_],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[X8.transformPanelWrap,X8.transformPanel]},changeDetection:0}),r})(),LY=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({providers:[PY],imports:[[Lp,zC,OC,Bo],K1,GC,OC,Bo]}),r})();function sA(r){return J(()=>r)}const JC=["*"];function FY(r,n){if(1&r){const i=Qa();Qe(0,"div",2),e("click",function(){return Qo(i),_()._onBackdropClicked()}),ti()}2&r&&Dr("mat-drawer-shown",_()._isShowingBackdrop())}function BY(r,n){1&r&&(Qe(0,"mat-drawer-content"),B(1,2),ti())}const VY=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],jY=["mat-drawer","mat-drawer-content","*"];function zY(r,n){if(1&r){const i=Qa();Qe(0,"div",2),e("click",function(){return Qo(i),_()._onBackdropClicked()}),ti()}2&r&&Dr("mat-drawer-shown",_()._isShowingBackdrop())}function HY(r,n){1&r&&(Qe(0,"mat-sidenav-content",3),B(1,2),ti())}const UY=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],GY=["mat-sidenav","mat-sidenav-content","*"],Q8={transformDrawer:yg("transform",[jc("open, open-instant",Ma({transform:"none",visibility:"visible"})),jc("void",Ma({"box-shadow":"none",visibility:"hidden"})),zc("void => open-instant",kf("0ms")),zc("void <=> open, open-instant => void",kf("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},YY=new un("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),aA=new un("MAT_DRAWER_CONTAINER");let tS=(()=>{class r extends BC{constructor(i,s,l,p,b){super(l,p,b),this._changeDetectorRef=i,this._container=s}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return r.\u0275fac=function(i){return new(i||r)(be(Ks),be(Vi(()=>tR)),be(cr),be(FC),be(gr))},r.\u0275cmp=fn({type:r,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,s){2&i&&cu("margin-left",s._container._contentMargins.left,"px")("margin-right",s._container._contentMargins.right,"px")},features:[Qn],ngContentSelectors:JC,decls:1,vars:0,template:function(i,s){1&i&&(I(),B(0))},encapsulation:2,changeDetection:0}),r})(),J8=(()=>{class r{constructor(i,s,l,p,b,R,G,ut){this._elementRef=i,this._focusTrapFactory=s,this._focusMonitor=l,this._platform=p,this._ngZone=b,this._interactivityChecker=R,this._doc=G,this._container=ut,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new C,this._animationEnd=new C,this._animationState="void",this.openedChange=new xn(!0),this._openedStream=this.openedChange.pipe(Hs(St=>St),J(()=>{})),this.openedStart=this._animationStarted.pipe(Hs(St=>St.fromState!==St.toState&&0===St.toState.indexOf("open")),sA(void 0)),this._closedStream=this.openedChange.pipe(Hs(St=>!St),J(()=>{})),this.closedStart=this._animationStarted.pipe(Hs(St=>St.fromState!==St.toState&&"void"===St.toState),sA(void 0)),this._destroyed=new C,this.onPositionChanged=new xn,this._modeChanged=new C,this.openedChange.subscribe(St=>{St?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{jp(this._elementRef.nativeElement,"keydown").pipe(Hs(St=>27===St.keyCode&&!this.disableClose&&!Zh(St)),ls(this._destroyed)).subscribe(St=>this._ngZone.run(()=>{this.close(),St.stopPropagation(),St.preventDefault()}))}),this._animationEnd.pipe(cC((St,Ut)=>St.fromState===Ut.fromState&&St.toState===Ut.toState)).subscribe(St=>{const{fromState:Ut,toState:Jt}=St;(0===Jt.indexOf("open")&&"void"===Ut||"void"===Jt&&0===Ut.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(i){(i="end"===i?"end":"start")!=this._position&&(this._position=i,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(i){this._mode=i,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(i){this._disableClose=Yr(i)}get autoFocus(){const i=this._autoFocus;return null==i?"side"===this.mode?"dialog":"first-tabbable":i}set autoFocus(i){("true"===i||"false"===i)&&(i=Yr(i)),this._autoFocus=i}get opened(){return this._opened}set opened(i){this.toggle(Yr(i))}_forceFocus(i,s){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{i.addEventListener("blur",()=>i.removeAttribute("tabindex")),i.addEventListener("mousedown",()=>i.removeAttribute("tabindex"))})),i.focus(s)}_focusByCssSelector(i,s){let l=this._elementRef.nativeElement.querySelector(i);l&&this._forceFocus(l,s)}_takeFocus(){if(!this._focusTrap)return;const i=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(s=>{!s&&"function"==typeof this._elementRef.nativeElement.focus&&i.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(i){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,i):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){var s;const i=null==(s=this._doc)?void 0:s.activeElement;return!!i&&this._elementRef.nativeElement.contains(i)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(i){return this.toggle(!0,i)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(i=!this.opened,s){i&&s&&(this._openedVia=s);const l=this._setOpen(i,!i&&this._isFocusWithinDrawer(),this._openedVia||"program");return i||(this._openedVia=null),l}_setOpen(i,s,l){return this._opened=i,i?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",s&&this._restoreFocus(l)),this._updateFocusTrapState(),new Promise(p=>{this.openedChange.pipe(Un(1)).subscribe(b=>p(b?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(i){this._animationStarted.next(i)}_animationDoneListener(i){this._animationEnd.next(i)}}return r.\u0275fac=function(i){return new(i||r)(be(cr),be(g6),be(Yw),be(Ol),be(gr),be(d6),be(Nr,8),be(aA,8))},r.\u0275cmp=fn({type:r,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(i,s){1&i&&o("@transform.start",function(p){return s._animationStartListener(p)})("@transform.done",function(p){return s._animationDoneListener(p)}),2&i&&(Pr("align",null),bd("@transform",s._animationState),Dr("mat-drawer-end","end"===s.position)("mat-drawer-over","over"===s.mode)("mat-drawer-push","push"===s.mode)("mat-drawer-side","side"===s.mode)("mat-drawer-opened",s.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:JC,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,s){1&i&&(I(),Qe(0,"div",0),B(1),ti())},directives:[BC],encapsulation:2,data:{animation:[Q8.transformDrawer]},changeDetection:0}),r})(),tR=(()=>{class r{constructor(i,s,l,p,b,R=!1,G){this._dir=i,this._element=s,this._ngZone=l,this._changeDetectorRef=p,this._animationMode=G,this._drawers=new P1,this.backdropClick=new xn,this._destroyed=new C,this._doCheckSubject=new C,this._contentMargins={left:null,right:null},this._contentMarginChanges=new C,i&&i.change.pipe(ls(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),b.change().pipe(ls(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=R}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(i){this._autosize=Yr(i)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(i){this._backdropOverride=null==i?null:Yr(i)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe($h(this._allDrawers),ls(this._destroyed)).subscribe(i=>{this._drawers.reset(i.filter(s=>!s._container||s._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe($h(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(i=>{this._watchDrawerToggle(i),this._watchDrawerPosition(i),this._watchDrawerMode(i)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Z2(10),ls(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(i=>i.open())}close(){this._drawers.forEach(i=>i.close())}updateContentMargins(){let i=0,s=0;if(this._left&&this._left.opened)if("side"==this._left.mode)i+=this._left._getWidth();else if("push"==this._left.mode){const l=this._left._getWidth();i+=l,s-=l}if(this._right&&this._right.opened)if("side"==this._right.mode)s+=this._right._getWidth();else if("push"==this._right.mode){const l=this._right._getWidth();s+=l,i-=l}i=i||null,s=s||null,(i!==this._contentMargins.left||s!==this._contentMargins.right)&&(this._contentMargins={left:i,right:s},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(i){i._animationStarted.pipe(Hs(s=>s.fromState!==s.toState),ls(this._drawers.changes)).subscribe(s=>{"open-instant"!==s.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==i.mode&&i.openedChange.pipe(ls(this._drawers.changes)).subscribe(()=>this._setContainerClass(i.opened))}_watchDrawerPosition(i){!i||i.onPositionChanged.pipe(ls(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Un(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(i){i&&i._modeChanged.pipe(ls(dr(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(i){const s=this._element.nativeElement.classList,l="mat-drawer-container-has-open";i?s.add(l):s.remove(l)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(i=>{"end"==i.position?this._end=i:this._start=i}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(i=>i&&!i.disableClose&&this._canHaveBackdrop(i)).forEach(i=>i._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(i){return"side"!==i.mode||!!this._backdropOverride}_isDrawerOpen(i){return null!=i&&i.opened}}return r.\u0275fac=function(i){return new(i||r)(be(Vp,8),be(cr),be(gr),be(Ks),be(X_),be(YY),be(Pd,8))},r.\u0275cmp=fn({type:r,selectors:[["mat-drawer-container"]],contentQueries:function(i,s,l){if(1&i&&(as(l,tS,5),as(l,J8,5)),2&i){let p;Jn(p=tr())&&(s._content=p.first),Jn(p=tr())&&(s._allDrawers=p)}},viewQuery:function(i,s){if(1&i&&ms(tS,5),2&i){let l;Jn(l=tr())&&(s._userContent=l.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,s){2&i&&Dr("mat-drawer-container-explicit-backdrop",s._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[lo([{provide:aA,useExisting:r}])],ngContentSelectors:jY,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,s){1&i&&(I(VY),Mn(0,FY,1,2,"div",0),B(1),B(2,1),Mn(3,BY,2,0,"mat-drawer-content",1)),2&i&&(Pi("ngIf",s.hasBackdrop),Ai(3),Pi("ngIf",!s._content))},directives:[Yh,tS],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),r})(),lA=(()=>{class r extends tS{constructor(i,s,l,p,b){super(i,s,l,p,b)}}return r.\u0275fac=function(i){return new(i||r)(be(Ks),be(Vi(()=>iR)),be(cr),be(FC),be(gr))},r.\u0275cmp=fn({type:r,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(i,s){2&i&&cu("margin-left",s._container._contentMargins.left,"px")("margin-right",s._container._contentMargins.right,"px")},features:[Qn],ngContentSelectors:JC,decls:1,vars:0,template:function(i,s){1&i&&(I(),B(0))},encapsulation:2,changeDetection:0}),r})(),eR=(()=>{class r extends J8{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(i){this._fixedInViewport=Yr(i)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(i){this._fixedTopGap=ey(i)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(i){this._fixedBottomGap=ey(i)}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=po(r)))(s||r)}}(),r.\u0275cmp=fn({type:r,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(i,s){2&i&&(Pr("align",null),cu("top",s.fixedInViewport?s.fixedTopGap:null,"px")("bottom",s.fixedInViewport?s.fixedBottomGap:null,"px"),Dr("mat-drawer-end","end"===s.position)("mat-drawer-over","over"===s.mode)("mat-drawer-push","push"===s.mode)("mat-drawer-side","side"===s.mode)("mat-drawer-opened",s.opened)("mat-sidenav-fixed",s.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[Qn],ngContentSelectors:JC,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,s){1&i&&(I(),Qe(0,"div",0),B(1),ti())},directives:[BC],encapsulation:2,data:{animation:[Q8.transformDrawer]},changeDetection:0}),r})(),iR=(()=>{class r extends tR{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=po(r)))(s||r)}}(),r.\u0275cmp=fn({type:r,selectors:[["mat-sidenav-container"]],contentQueries:function(i,s,l){if(1&i&&(as(l,lA,5),as(l,eR,5)),2&i){let p;Jn(p=tr())&&(s._content=p.first),Jn(p=tr())&&(s._allDrawers=p)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(i,s){2&i&&Dr("mat-drawer-container-explicit-backdrop",s._backdropOverride)},exportAs:["matSidenavContainer"],features:[lo([{provide:aA,useExisting:r}]),Qn],ngContentSelectors:GY,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(i,s){1&i&&(I(UY),Mn(0,zY,1,2,"div",0),B(1),B(2,1),Mn(3,HY,2,0,"mat-sidenav-content",1)),2&i&&(Pi("ngIf",s.hasBackdrop),Ai(3),Pi("ngIf",!s._content))},directives:[Yh,lA,BC],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),r})(),XY=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({imports:[[Lp,Bo,Fw,K1],K1,Bo]}),r})();const KY=["*",[["mat-toolbar-row"]]],ZY=["*","mat-toolbar-row"],qY=Y1(class{constructor(r){this._elementRef=r}});let QY=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=an({type:r,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),r})(),JY=(()=>{class r extends qY{constructor(i,s,l){super(i),this._platform=s,this._document=l}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return r.\u0275fac=function(i){return new(i||r)(be(cr),be(Ol),be(Nr))},r.\u0275cmp=fn({type:r,selectors:[["mat-toolbar"]],contentQueries:function(i,s,l){if(1&i&&as(l,QY,5),2&i){let p;Jn(p=tr())&&(s._toolbarRows=p)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,s){2&i&&Dr("mat-toolbar-multiple-rows",s._toolbarRows.length>0)("mat-toolbar-single-row",0===s._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Qn],ngContentSelectors:ZY,decls:2,vars:0,template:function(i,s){1&i&&(I(KY),B(0),B(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),r})(),t$=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({imports:[[Bo],Bo]}),r})(),nR=(()=>{class r{constructor(i,s){this.document=i,this.platformId=s,this.documentIsAccessible=Lw(this.platformId)}static getCookieRegExp(i){const s=i.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+s+"|;\\s*"+s+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(i){try{return decodeURIComponent(i)}catch(s){return i}}check(i){return!!this.documentIsAccessible&&(i=encodeURIComponent(i),r.getCookieRegExp(i).test(this.document.cookie))}get(i){if(this.documentIsAccessible&&this.check(i)){i=encodeURIComponent(i);const l=r.getCookieRegExp(i).exec(this.document.cookie);return l[1]?r.safeDecodeURIComponent(l[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const i={},s=this.document;return s.cookie&&""!==s.cookie&&s.cookie.split(";").forEach(l=>{const[p,b]=l.split("=");i[r.safeDecodeURIComponent(p.replace(/^ /,""))]=r.safeDecodeURIComponent(b)}),i}set(i,s,l,p,b,R,G){if(!this.documentIsAccessible)return;if("number"==typeof l||l instanceof Date||p||b||R||G)return void this.set(i,s,{expires:l,path:p,domain:b,secure:R,sameSite:G||"Lax"});let ut=encodeURIComponent(i)+"="+encodeURIComponent(s)+";";const St=l||{};St.expires&&(ut+="number"==typeof St.expires?"expires="+new Date((new Date).getTime()+1e3*St.expires*60*60*24).toUTCString()+";":"expires="+St.expires.toUTCString()+";"),St.path&&(ut+="path="+St.path+";"),St.domain&&(ut+="domain="+St.domain+";"),!1===St.secure&&"None"===St.sameSite&&(St.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${i} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),St.secure&&(ut+="secure;"),St.sameSite||(St.sameSite="Lax"),ut+="sameSite="+St.sameSite+";",this.document.cookie=ut}delete(i,s,l,p,b="Lax"){if(!this.documentIsAccessible)return;const R=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(i,"",{expires:R,path:s,domain:l,secure:p,sameSite:b})}deleteAll(i,s,l,p="Lax"){if(!this.documentIsAccessible)return;const b=this.getAll();for(const R in b)b.hasOwnProperty(R)&&this.delete(R,i,s,l,p)}}return r.\u0275fac=function(i){return new(i||r)(pi(Nr),pi(I1))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const oM=Pt(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});function rR(){return nt((r,n)=>{let i=null;r._refCount++;const s=new Q(n,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount)return void(i=null);const l=r._connection,p=i;i=null,l&&(!p||l===p)&&l.unsubscribe(),n.unsubscribe()});r.subscribe(s),s.closed||(i=r.connect())})}class e$ extends y{constructor(n,i){super(),this.source=n,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,k(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,null==n||n.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new D;const i=this.getSubject();n.add(this.source.subscribe(new Q(i,void 0,()=>{this._teardown(),i.complete()},s=>{this._teardown(),i.error(s)},()=>this._teardown()))),n.closed&&(this._connection=null,n=D.EMPTY)}return n}refCount(){return rR()(this)}}function i$(r,n,i,s,l){return(p,b)=>{let R=i,G=n,ut=0;p.subscribe(new Q(b,St=>{const Ut=ut++;G=R?r(G,St,Ut):(R=!0,St),s&&b.next(G)},l&&(()=>{R&&b.next(G),b.complete()})))}}function oR(r,n){return nt(i$(r,n,arguments.length>=2,!0))}function uA(r){return r<=0?()=>$e:nt((n,i)=>{let s=[];n.subscribe(new Q(i,l=>{s.push(l),r<s.length&&s.shift()},()=>{for(const l of s)i.next(l);i.complete()},void 0,()=>{s=null}))})}function sR(r=n$){return nt((n,i)=>{let s=!1;n.subscribe(new Q(i,l=>{s=!0,i.next(l)},()=>s?i.complete():i.error(r())))})}function n$(){return new oM}function aR(r){return nt((n,i)=>{let s=!1;n.subscribe(new Q(i,l=>{s=!0,i.next(l)},()=>{s||i.next(r),i.complete()}))})}function Q1(r,n){const i=arguments.length>=2;return s=>s.pipe(r?Hs((l,p)=>r(l,p,s)):T,Un(1),i?aR(n):sR(()=>new oM))}class _g{constructor(n,i){this.id=n,this.url=i}}class hA extends _g{constructor(n,i,s="imperative",l=null){super(n,i),this.navigationTrigger=s,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class sM extends _g{constructor(n,i,s){super(n,i),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class lR extends _g{constructor(n,i,s){super(n,i),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class o$ extends _g{constructor(n,i,s){super(n,i),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class s$ extends _g{constructor(n,i,s,l){super(n,i),this.urlAfterRedirects=s,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a$ extends _g{constructor(n,i,s,l){super(n,i),this.urlAfterRedirects=s,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class l$ extends _g{constructor(n,i,s,l,p){super(n,i),this.urlAfterRedirects=s,this.state=l,this.shouldActivate=p}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class u$ extends _g{constructor(n,i,s,l){super(n,i),this.urlAfterRedirects=s,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class h$ extends _g{constructor(n,i,s,l){super(n,i),this.urlAfterRedirects=s,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uR{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hR{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class c${constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class f${constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d${constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class p${constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cR{constructor(n,i,s){this.routerEvent=n,this.position=i,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ko="primary";class m${constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const i=this.params[n];return Array.isArray(i)?i[0]:i}return null}getAll(n){if(this.has(n)){const i=this.params[n];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function eb(r){return new m$(r)}const fR="ngNavigationCancelingError";function cA(r){const n=Error("NavigationCancelingError: "+r);return n[fR]=!0,n}function v$(r,n,i){const s=i.path.split("/");if(s.length>r.length||"full"===i.pathMatch&&(n.hasChildren()||s.length<r.length))return null;const l={};for(let p=0;p<s.length;p++){const b=s[p],R=r[p];if(b.startsWith(":"))l[b.substring(1)]=R;else if(b!==R.path)return null}return{consumed:r.slice(0,s.length),posParams:l}}function z0(r,n){const i=r?Object.keys(r):void 0,s=n?Object.keys(n):void 0;if(!i||!s||i.length!=s.length)return!1;let l;for(let p=0;p<i.length;p++)if(l=i[p],!dR(r[l],n[l]))return!1;return!0}function dR(r,n){if(Array.isArray(r)&&Array.isArray(n)){if(r.length!==n.length)return!1;const i=[...r].sort(),s=[...n].sort();return i.every((l,p)=>s[p]===l)}return r===n}function pR(r){return Array.prototype.concat.apply([],r)}function mR(r){return r.length>0?r[r.length-1]:null}function Hu(r,n){for(const i in r)r.hasOwnProperty(i)&&n(r[i],i)}function H0(r){return t(r)?r:P0(r)?fr(Promise.resolve(r)):vr(r)}const w$={exact:function yR(r,n,i){if(!tx(r.segments,n.segments)||!eS(r.segments,n.segments,i)||r.numberOfChildren!==n.numberOfChildren)return!1;for(const s in n.children)if(!r.children[s]||!yR(r.children[s],n.children[s],i))return!1;return!0},subset:xR},gR={exact:function(r,n){return z0(r,n)},subset:function(r,n){return Object.keys(n).length<=Object.keys(r).length&&Object.keys(n).every(i=>dR(r[i],n[i]))},ignored:()=>!0};function vR(r,n,i){return w$[i.paths](r.root,n.root,i.matrixParams)&&gR[i.queryParams](r.queryParams,n.queryParams)&&!("exact"===i.fragment&&r.fragment!==n.fragment)}function xR(r,n,i){return wR(r,n,n.segments,i)}function wR(r,n,i,s){if(r.segments.length>i.length){const l=r.segments.slice(0,i.length);return!(!tx(l,i)||n.hasChildren()||!eS(l,i,s))}if(r.segments.length===i.length){if(!tx(r.segments,i)||!eS(r.segments,i,s))return!1;for(const l in n.children)if(!r.children[l]||!xR(r.children[l],n.children[l],s))return!1;return!0}{const l=i.slice(0,r.segments.length),p=i.slice(r.segments.length);return!!(tx(r.segments,l)&&eS(r.segments,l,s)&&r.children[ko])&&wR(r.children[ko],n,p,s)}}function eS(r,n,i){return n.every((s,l)=>gR[i](r[l].parameters,s.parameters))}class J1{constructor(n,i,s){this.root=n,this.queryParams=i,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=eb(this.queryParams)),this._queryParamMap}toString(){return S$.serialize(this)}}class Lo{constructor(n,i){this.segments=n,this.children=i,this.parent=null,Hu(i,(s,l)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return iS(this)}}class aM{constructor(n,i){this.path=n,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=eb(this.parameters)),this._parameterMap}toString(){return SR(this)}}function tx(r,n){return r.length===n.length&&r.every((i,s)=>i.path===n[s].path)}class bR{}class _R{parse(n){const i=new O$(n);return new J1(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(n){const i=`/${lM(n.root,!0)}`,s=function(r){const n=Object.keys(r).map(i=>{const s=r[i];return Array.isArray(s)?s.map(l=>`${nS(i)}=${nS(l)}`).join("&"):`${nS(i)}=${nS(s)}`}).filter(i=>!!i);return n.length?`?${n.join("&")}`:""}(n.queryParams);var r;return`${i}${s}${"string"==typeof n.fragment?`#${r=n.fragment,encodeURI(r)}`:""}`}}const S$=new _R;function iS(r){return r.segments.map(n=>SR(n)).join("/")}function lM(r,n){if(!r.hasChildren())return iS(r);if(n){const i=r.children[ko]?lM(r.children[ko],!1):"",s=[];return Hu(r.children,(l,p)=>{p!==ko&&s.push(`${p}:${lM(l,!1)}`)}),s.length>0?`${i}(${s.join("//")})`:i}{const i=function(r,n){let i=[];return Hu(r.children,(s,l)=>{l===ko&&(i=i.concat(n(s,l)))}),Hu(r.children,(s,l)=>{l!==ko&&(i=i.concat(n(s,l)))}),i}(r,(s,l)=>l===ko?[lM(r.children[ko],!1)]:[`${l}:${lM(s,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[ko]?`${iS(r)}/${i[0]}`:`${iS(r)}/(${i.join("//")})`}}function MR(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nS(r){return MR(r).replace(/%3B/gi,";")}function fA(r){return MR(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rS(r){return decodeURIComponent(r)}function CR(r){return rS(r.replace(/\+/g,"%20"))}function SR(r){return`${fA(r.path)}${function(r){return Object.keys(r).map(n=>`;${fA(n)}=${fA(r[n])}`).join("")}(r.parameters)}`}const A$=/^[^\/()?;=#]+/;function oS(r){const n=r.match(A$);return n?n[0]:""}const T$=/^[^=?&#]+/,I$=/^[^&#]+/;class O${constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lo([],{}):new Lo([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(n.length>0||Object.keys(i).length>0)&&(s[ko]=new Lo(n,i)),s}parseSegment(){const n=oS(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new aM(rS(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const i=oS(this.remaining);if(!i)return;this.capture(i);let s="";if(this.consumeOptional("=")){const l=oS(this.remaining);l&&(s=l,this.capture(s))}n[rS(i)]=rS(s)}parseQueryParam(n){const i=function(r){const n=r.match(T$);return n?n[0]:""}(this.remaining);if(!i)return;this.capture(i);let s="";if(this.consumeOptional("=")){const b=function(r){const n=r.match(I$);return n?n[0]:""}(this.remaining);b&&(s=b,this.capture(s))}const l=CR(i),p=CR(s);if(n.hasOwnProperty(l)){let b=n[l];Array.isArray(b)||(b=[b],n[l]=b),b.push(p)}else n[l]=p}parseParens(n){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=oS(this.remaining),l=this.remaining[s.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let p;s.indexOf(":")>-1?(p=s.substr(0,s.indexOf(":")),this.capture(p),this.capture(":")):n&&(p=ko);const b=this.parseChildren();i[p]=1===Object.keys(b).length?b[ko]:new Lo([],b),this.consumeOptional("//")}return i}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class DR{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const i=this.pathFromRoot(n);return i.length>1?i[i.length-2]:null}children(n){const i=dA(n,this._root);return i?i.children.map(s=>s.value):[]}firstChild(n){const i=dA(n,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(n){const i=pA(n,this._root);return i.length<2?[]:i[i.length-2].children.map(l=>l.value).filter(l=>l!==n)}pathFromRoot(n){return pA(n,this._root).map(i=>i.value)}}function dA(r,n){if(r===n.value)return n;for(const i of n.children){const s=dA(r,i);if(s)return s}return null}function pA(r,n){if(r===n.value)return[n];for(const i of n.children){const s=pA(r,i);if(s.length)return s.unshift(n),s}return[]}class Mg{constructor(n,i){this.value=n,this.children=i}toString(){return`TreeNode(${this.value})`}}function ib(r){const n={};return r&&r.children.forEach(i=>n[i.value.outlet]=i),n}class ER extends DR{constructor(n,i){super(n),this.snapshot=i,mA(this,n)}toString(){return this.snapshot.toString()}}function kR(r,n){const i=function(r,n){const b=new sS([],{},{},"",{},ko,n,null,r.root,-1,{});return new TR("",new Mg(b,[]))}(r,n),s=new Kh([new aM("",{})]),l=new Kh({}),p=new Kh({}),b=new Kh({}),R=new Kh(""),G=new U0(s,l,b,R,p,ko,n,i.root);return G.snapshot=i.root,new ER(new Mg(G,[]),i)}class U0{constructor(n,i,s,l,p,b,R,G){this.url=n,this.params=i,this.queryParams=s,this.fragment=l,this.data=p,this.outlet=b,this.component=R,this._futureSnapshot=G}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(J(n=>eb(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(J(n=>eb(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function AR(r,n="emptyOnly"){const i=r.pathFromRoot;let s=0;if("always"!==n)for(s=i.length-1;s>=1;){const l=i[s],p=i[s-1];if(l.routeConfig&&""===l.routeConfig.path)s--;else{if(p.component)break;s--}}return function(r){return r.reduce((n,i)=>({params:wn(wn({},n.params),i.params),data:wn(wn({},n.data),i.data),resolve:wn(wn({},n.resolve),i._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(s))}class sS{constructor(n,i,s,l,p,b,R,G,ut,St,Ut){this.url=n,this.params=i,this.queryParams=s,this.fragment=l,this.data=p,this.outlet=b,this.component=R,this.routeConfig=G,this._urlSegment=ut,this._lastPathIndex=St,this._resolve=Ut}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=eb(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=eb(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class TR extends DR{constructor(n,i){super(i),this.url=n,mA(this,i)}toString(){return PR(this._root)}}function mA(r,n){n.value._routerState=r,n.children.forEach(i=>mA(r,i))}function PR(r){const n=r.children.length>0?` { ${r.children.map(PR).join(", ")} } `:"";return`${r.value}${n}`}function gA(r){if(r.snapshot){const n=r.snapshot,i=r._futureSnapshot;r.snapshot=i,z0(n.queryParams,i.queryParams)||r.queryParams.next(i.queryParams),n.fragment!==i.fragment&&r.fragment.next(i.fragment),z0(n.params,i.params)||r.params.next(i.params),function(r,n){if(r.length!==n.length)return!1;for(let i=0;i<r.length;++i)if(!z0(r[i],n[i]))return!1;return!0}(n.url,i.url)||r.url.next(i.url),z0(n.data,i.data)||r.data.next(i.data)}else r.snapshot=r._futureSnapshot,r.data.next(r._futureSnapshot.data)}function vA(r,n){const i=z0(r.params,n.params)&&function(r,n){return tx(r,n)&&r.every((i,s)=>z0(i.parameters,n[s].parameters))}(r.url,n.url);return i&&!(!r.parent!=!n.parent)&&(!r.parent||vA(r.parent,n.parent))}function uM(r,n,i){if(i&&r.shouldReuseRoute(n.value,i.value.snapshot)){const s=i.value;s._futureSnapshot=n.value;const l=function(r,n,i){return n.children.map(s=>{for(const l of i.children)if(r.shouldReuseRoute(s.value,l.value.snapshot))return uM(r,s,l);return uM(r,s)})}(r,n,i);return new Mg(s,l)}{if(r.shouldAttach(n.value)){const p=r.retrieve(n.value);if(null!==p){const b=p.route;return b.value._futureSnapshot=n.value,b.children=n.children.map(R=>uM(r,R)),b}}const s=function(r){return new U0(new Kh(r.url),new Kh(r.params),new Kh(r.queryParams),new Kh(r.fragment),new Kh(r.data),r.outlet,r.component,r)}(n.value),l=n.children.map(p=>uM(r,p));return new Mg(s,l)}}function aS(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function hM(r){return"object"==typeof r&&null!=r&&r.outlets}function yA(r,n,i,s,l){let p={};return s&&Hu(s,(b,R)=>{p[R]=Array.isArray(b)?b.map(G=>`${G}`):`${b}`}),new J1(i.root===r?n:IR(i.root,r,n),p,l)}function IR(r,n,i){const s={};return Hu(r.children,(l,p)=>{s[p]=l===n?i:IR(l,n,i)}),new Lo(r.segments,s)}class RR{constructor(n,i,s){if(this.isAbsolute=n,this.numberOfDoubleDots=i,this.commands=s,n&&s.length>0&&aS(s[0]))throw new Error("Root segment cannot have matrix parameters");const l=s.find(hM);if(l&&l!==mR(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xA{constructor(n,i,s){this.segmentGroup=n,this.processChildren=i,this.index=s}}function OR(r,n,i){if(r||(r=new Lo([],{})),0===r.segments.length&&r.hasChildren())return lS(r,n,i);const s=function(r,n,i){let s=0,l=n;const p={match:!1,pathIndex:0,commandIndex:0};for(;l<r.segments.length;){if(s>=i.length)return p;const b=r.segments[l],R=i[s];if(hM(R))break;const G=`${R}`,ut=s<i.length-1?i[s+1]:null;if(l>0&&void 0===G)break;if(G&&ut&&"object"==typeof ut&&void 0===ut.outlets){if(!LR(G,ut,b))return p;s+=2}else{if(!LR(G,{},b))return p;s++}l++}return{match:!0,pathIndex:l,commandIndex:s}}(r,n,i),l=i.slice(s.commandIndex);if(s.match&&s.pathIndex<r.segments.length){const p=new Lo(r.segments.slice(0,s.pathIndex),{});return p.children[ko]=new Lo(r.segments.slice(s.pathIndex),r.children),lS(p,0,l)}return s.match&&0===l.length?new Lo(r.segments,{}):s.match&&!r.hasChildren()?wA(r,n,i):s.match?lS(r,0,l):wA(r,n,i)}function lS(r,n,i){if(0===i.length)return new Lo(r.segments,{});{const s=function(r){return hM(r[0])?r[0].outlets:{[ko]:r}}(i),l={};return Hu(s,(p,b)=>{"string"==typeof p&&(p=[p]),null!==p&&(l[b]=OR(r.children[b],n,p))}),Hu(r.children,(p,b)=>{void 0===s[b]&&(l[b]=p)}),new Lo(r.segments,l)}}function wA(r,n,i){const s=r.segments.slice(0,n);let l=0;for(;l<i.length;){const p=i[l];if(hM(p)){const G=Y$(p.outlets);return new Lo(s,G)}if(0===l&&aS(i[0])){s.push(new aM(r.segments[n].path,NR(i[0]))),l++;continue}const b=hM(p)?p.outlets[ko]:`${p}`,R=l<i.length-1?i[l+1]:null;b&&R&&aS(R)?(s.push(new aM(b,NR(R))),l+=2):(s.push(new aM(b,{})),l++)}return new Lo(s,{})}function Y$(r){const n={};return Hu(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(n[s]=wA(new Lo([],{}),0,i))}),n}function NR(r){const n={};return Hu(r,(i,s)=>n[s]=`${i}`),n}function LR(r,n,i){return r==i.path&&z0(n,i.parameters)}class X${constructor(n,i,s,l){this.routeReuseStrategy=n,this.futureState=i,this.currState=s,this.forwardEvent=l}activate(n){const i=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,s,n),gA(this.futureState.root),this.activateChildRoutes(i,s,n)}deactivateChildRoutes(n,i,s){const l=ib(i);n.children.forEach(p=>{const b=p.value.outlet;this.deactivateRoutes(p,l[b],s),delete l[b]}),Hu(l,(p,b)=>{this.deactivateRouteAndItsChildren(p,s)})}deactivateRoutes(n,i,s){const l=n.value,p=i?i.value:null;if(l===p)if(l.component){const b=s.getContext(l.outlet);b&&this.deactivateChildRoutes(n,i,b.children)}else this.deactivateChildRoutes(n,i,s);else p&&this.deactivateRouteAndItsChildren(i,s)}deactivateRouteAndItsChildren(n,i){this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,i):this.deactivateRouteAndOutlet(n,i)}detachAndStoreRouteSubtree(n,i){const s=i.getContext(n.value.outlet),l=s&&n.value.component?s.children:i,p=ib(n);for(const b of Object.keys(p))this.deactivateRouteAndItsChildren(p[b],l);if(s&&s.outlet){const b=s.outlet.detach(),R=s.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:b,route:n,contexts:R})}}deactivateRouteAndOutlet(n,i){const s=i.getContext(n.value.outlet),l=s&&n.value.component?s.children:i,p=ib(n);for(const b of Object.keys(p))this.deactivateRouteAndItsChildren(p[b],l);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(n,i,s){const l=ib(i);n.children.forEach(p=>{this.activateRoutes(p,l[p.value.outlet],s),this.forwardEvent(new p$(p.value.snapshot))}),n.children.length&&this.forwardEvent(new f$(n.value.snapshot))}activateRoutes(n,i,s){const l=n.value,p=i?i.value:null;if(gA(l),l===p)if(l.component){const b=s.getOrCreateContext(l.outlet);this.activateChildRoutes(n,i,b.children)}else this.activateChildRoutes(n,i,s);else if(l.component){const b=s.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const R=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),b.children.onOutletReAttached(R.contexts),b.attachRef=R.componentRef,b.route=R.route.value,b.outlet&&b.outlet.attach(R.componentRef,R.route.value),gA(R.route.value),this.activateChildRoutes(n,null,b.children)}else{const R=function(r){for(let n=r.parent;n;n=n.parent){const i=n.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig;if(i&&i.component)return null}return null}(l.snapshot),G=R?R.module.componentFactoryResolver:null;b.attachRef=null,b.route=l,b.resolver=G,b.outlet&&b.outlet.activateWith(l,G),this.activateChildRoutes(n,null,b.children)}}else this.activateChildRoutes(n,null,s)}}class bA{constructor(n,i){this.routes=n,this.module=i}}function fy(r){return"function"==typeof r}function ex(r){return r instanceof J1}const cM=Symbol("INITIAL_VALUE");function fM(){return ch(r=>KP(r.map(n=>n.pipe(Un(1),$h(cM)))).pipe(oR((n,i)=>{let s=!1;return i.reduce((l,p,b)=>l!==cM?l:(p===cM&&(s=!0),s||!1!==p&&b!==i.length-1&&!ex(p)?l:p),n)},cM),Hs(n=>n!==cM),J(n=>ex(n)?n:!0===n),Un(1)))}class eX{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new dM,this.attachRef=null}}class dM{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){const s=this.getOrCreateContext(n);s.outlet=i,this.contexts.set(n,s)}onChildOutletDestroyed(n){const i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new eX,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}}let _A=(()=>{class r{constructor(i,s,l,p,b){this.parentContexts=i,this.location=s,this.resolver=l,this.changeDetector=b,this.activated=null,this._activatedRoute=null,this.activateEvents=new xn,this.deactivateEvents=new xn,this.attachEvents=new xn,this.detachEvents=new xn,this.name=p||ko,i.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const i=this.parentContexts.getContext(this.name);i&&i.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,s){this.activated=i,this._activatedRoute=s,this.location.insert(i.hostView),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=i;const b=(s=s||this.resolver).resolveComponentFactory(i._futureSnapshot.routeConfig.component),R=this.parentContexts.getOrCreateContext(this.name).children,G=new iX(i,R,this.location.injector);this.activated=this.location.createComponent(b,this.location.length,G),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return r.\u0275fac=function(i){return new(i||r)(be(dM),be(lh),be(ag),Eu("name"),be(Ks))},r.\u0275dir=an({type:r,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),r})();class iX{constructor(n,i,s){this.route=n,this.childContexts=i,this.parent=s}get(n,i){return n===U0?this.route:n===dM?this.childContexts:this.parent.get(n,i)}}let FR=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=fn({type:r,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,s){1&i&&On(0,"router-outlet")},directives:[_A],encapsulation:2}),r})();function BR(r,n=""){for(let i=0;i<r.length;i++){const s=r[i];nX(s,rX(n,s))}}function nX(r,n){r.children&&BR(r.children,n)}function rX(r,n){return n?r||n.path?r&&!n.path?`${r}/`:!r&&n.path?n.path:`${r}/${n.path}`:"":r}function MA(r){const n=r.children&&r.children.map(MA),i=n?Fl(wn({},r),{children:n}):wn({},r);return!i.component&&(n||i.loadChildren)&&i.outlet&&i.outlet!==ko&&(i.component=FR),i}function Id(r){return r.outlet||ko}function VR(r,n){const i=r.filter(s=>Id(s)===n);return i.push(...r.filter(s=>Id(s)!==n)),i}const jR={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function uS(r,n,i){var R;if(""===n.path)return"full"===n.pathMatch&&(r.hasChildren()||i.length>0)?wn({},jR):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(n.matcher||v$)(i,r,n);if(!l)return wn({},jR);const p={};Hu(l.posParams,(G,ut)=>{p[ut]=G.path});const b=l.consumed.length>0?wn(wn({},p),l.consumed[l.consumed.length-1].parameters):p;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:b,positionalParamSegments:null!=(R=l.posParams)?R:{}}}function hS(r,n,i,s,l="corrected"){if(i.length>0&&function(r,n,i){return i.some(s=>cS(r,n,s)&&Id(s)!==ko)}(r,i,s)){const b=new Lo(n,function(r,n,i,s){const l={};l[ko]=s,s._sourceSegment=r,s._segmentIndexShift=n.length;for(const p of i)if(""===p.path&&Id(p)!==ko){const b=new Lo([],{});b._sourceSegment=r,b._segmentIndexShift=n.length,l[Id(p)]=b}return l}(r,n,s,new Lo(i,r.children)));return b._sourceSegment=r,b._segmentIndexShift=n.length,{segmentGroup:b,slicedSegments:[]}}if(0===i.length&&function(r,n,i){return i.some(s=>cS(r,n,s))}(r,i,s)){const b=new Lo(r.segments,function(r,n,i,s,l,p){const b={};for(const R of s)if(cS(r,i,R)&&!l[Id(R)]){const G=new Lo([],{});G._sourceSegment=r,G._segmentIndexShift="legacy"===p?r.segments.length:n.length,b[Id(R)]=G}return wn(wn({},l),b)}(r,n,i,s,r.children,l));return b._sourceSegment=r,b._segmentIndexShift=n.length,{segmentGroup:b,slicedSegments:i}}const p=new Lo(r.segments,r.children);return p._sourceSegment=r,p._segmentIndexShift=n.length,{segmentGroup:p,slicedSegments:i}}function cS(r,n,i){return(!(r.hasChildren()||n.length>0)||"full"!==i.pathMatch)&&""===i.path}function zR(r,n,i,s){return!!(Id(r)===s||s!==ko&&cS(n,i,r))&&("**"===r.path||uS(n,r,i).matched)}function HR(r,n,i){return 0===n.length&&!r.children[i]}class pM{constructor(n){this.segmentGroup=n||null}}class UR{constructor(n){this.urlTree=n}}function fS(r){return new y(n=>n.error(new pM(r)))}function GR(r){return new y(n=>n.error(new UR(r)))}function uX(r){return new y(n=>n.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${r}'`)))}class fX{constructor(n,i,s,l,p){this.configLoader=i,this.urlSerializer=s,this.urlTree=l,this.config=p,this.allowRedirects=!0,this.ngModule=n.get(L0)}apply(){const n=hS(this.urlTree.root,[],[],this.config).segmentGroup,i=new Lo(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,i,ko).pipe(J(p=>this.createUrlTree(CA(p),this.urlTree.queryParams,this.urlTree.fragment))).pipe(wg(p=>{if(p instanceof UR)return this.allowRedirects=!1,this.match(p.urlTree);throw p instanceof pM?this.noMatchError(p):p}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,ko).pipe(J(l=>this.createUrlTree(CA(l),n.queryParams,n.fragment))).pipe(wg(l=>{throw l instanceof pM?this.noMatchError(l):l}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,i,s){const l=n.segments.length>0?new Lo([],{[ko]:n}):n;return new J1(l,i,s)}expandSegmentGroup(n,i,s,l){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(n,i,s).pipe(J(p=>new Lo([],p))):this.expandSegment(n,s,i,s.segments,l,!0)}expandChildren(n,i,s){const l=[];for(const p of Object.keys(s.children))"primary"===p?l.unshift(p):l.push(p);return fr(l).pipe(Qw(p=>{const b=s.children[p],R=VR(i,p);return this.expandSegmentGroup(n,R,b,p).pipe(J(G=>({segment:G,outlet:p})))}),oR((p,b)=>(p[b.outlet]=b.segment,p),{}),function(r,n){const i=arguments.length>=2;return s=>s.pipe(r?Hs((l,p)=>r(l,p,s)):T,uA(1),i?aR(n):sR(()=>new oM))}())}expandSegment(n,i,s,l,p,b){return fr(s).pipe(Qw(R=>this.expandSegmentAgainstRoute(n,i,s,R,l,p,b).pipe(wg(ut=>{if(ut instanceof pM)return vr(null);throw ut}))),Q1(R=>!!R),wg((R,G)=>{if(R instanceof oM||"EmptyError"===R.name){if(HR(i,l,p))return vr(new Lo([],{}));throw new pM(i)}throw R}))}expandSegmentAgainstRoute(n,i,s,l,p,b,R){return zR(l,i,p,b)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(n,i,l,p,b):R&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,i,s,l,p,b):fS(i):fS(i)}expandSegmentAgainstRouteUsingRedirect(n,i,s,l,p,b){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,s,l,b):this.expandRegularSegmentAgainstRouteUsingRedirect(n,i,s,l,p,b)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,s,l){const p=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?GR(p):this.lineralizeSegments(s,p).pipe(ae(b=>{const R=new Lo(b,{});return this.expandSegment(n,R,i,b,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,i,s,l,p,b){const{matched:R,consumedSegments:G,lastChild:ut,positionalParamSegments:St}=uS(i,l,p);if(!R)return fS(i);const Ut=this.applyRedirectCommands(G,l.redirectTo,St);return l.redirectTo.startsWith("/")?GR(Ut):this.lineralizeSegments(l,Ut).pipe(ae(Jt=>this.expandSegment(n,i,s,Jt.concat(p.slice(ut)),b,!1)))}matchSegmentAgainstRoute(n,i,s,l,p){if("**"===s.path)return s.loadChildren?(s._loadedConfig?vr(s._loadedConfig):this.configLoader.load(n.injector,s)).pipe(J(Jt=>(s._loadedConfig=Jt,new Lo(l,{})))):vr(new Lo(l,{}));const{matched:b,consumedSegments:R,lastChild:G}=uS(i,s,l);if(!b)return fS(i);const ut=l.slice(G);return this.getChildConfig(n,s,l).pipe(ae(Ut=>{const Jt=Ut.module,se=Ut.routes,{segmentGroup:pe,slicedSegments:Ue}=hS(i,R,ut,se),Ge=new Lo(pe.segments,pe.children);if(0===Ue.length&&Ge.hasChildren())return this.expandChildren(Jt,se,Ge).pipe(J(ln=>new Lo(R,ln)));if(0===se.length&&0===Ue.length)return vr(new Lo(R,{}));const vi=Id(s)===p;return this.expandSegment(Jt,Ge,se,Ue,vi?ko:p,!0).pipe(J(Zi=>new Lo(R.concat(Zi.segments),Zi.children)))}))}getChildConfig(n,i,s){return i.children?vr(new bA(i.children,n)):i.loadChildren?void 0!==i._loadedConfig?vr(i._loadedConfig):this.runCanLoadGuards(n.injector,i,s).pipe(ae(l=>{return l?this.configLoader.load(n.injector,i).pipe(J(p=>(i._loadedConfig=p,p))):(r=i,new y(n=>n.error(cA(`Cannot load children because the guard of the route "path: '${r.path}'" returned false`))));var r})):vr(new bA([],n))}runCanLoadGuards(n,i,s){const l=i.canLoad;return l&&0!==l.length?vr(l.map(b=>{const R=n.get(b);let G;if((r=R)&&fy(r.canLoad))G=R.canLoad(i,s);else{if(!fy(R))throw new Error("Invalid CanLoad guard");G=R(i,s)}var r;return H0(G)})).pipe(fM(),Nl(b=>{if(!ex(b))return;const R=cA(`Redirecting to "${this.urlSerializer.serialize(b)}"`);throw R.url=b,R}),J(b=>!0===b)):vr(!0)}lineralizeSegments(n,i){let s=[],l=i.root;for(;;){if(s=s.concat(l.segments),0===l.numberOfChildren)return vr(s);if(l.numberOfChildren>1||!l.children[ko])return uX(n.redirectTo);l=l.children[ko]}}applyRedirectCommands(n,i,s){return this.applyRedirectCreatreUrlTree(i,this.urlSerializer.parse(i),n,s)}applyRedirectCreatreUrlTree(n,i,s,l){const p=this.createSegmentGroup(n,i.root,s,l);return new J1(p,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(n,i){const s={};return Hu(n,(l,p)=>{if("string"==typeof l&&l.startsWith(":")){const R=l.substring(1);s[p]=i[R]}else s[p]=l}),s}createSegmentGroup(n,i,s,l){const p=this.createSegments(n,i.segments,s,l);let b={};return Hu(i.children,(R,G)=>{b[G]=this.createSegmentGroup(n,R,s,l)}),new Lo(p,b)}createSegments(n,i,s,l){return i.map(p=>p.path.startsWith(":")?this.findPosParam(n,p,l):this.findOrReturn(p,s))}findPosParam(n,i,s){const l=s[i.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${n}'. Cannot find '${i.path}'.`);return l}findOrReturn(n,i){let s=0;for(const l of i){if(l.path===n.path)return i.splice(s),l;s++}return n}}function CA(r){const n={};for(const s of Object.keys(r.children)){const p=CA(r.children[s]);(p.segments.length>0||p.hasChildren())&&(n[s]=p)}return function(r){if(1===r.numberOfChildren&&r.children[ko]){const n=r.children[ko];return new Lo(r.segments.concat(n.segments),n.children)}return r}(new Lo(r.segments,n))}class WR{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class dS{constructor(n,i){this.component=n,this.route=i}}function mX(r,n,i){const s=r._root;return mM(s,n?n._root:null,i,[s.value])}function pS(r,n,i){const s=function(r){if(!r)return null;for(let n=r.parent;n;n=n.parent){const i=n.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig}return null}(n);return(s?s.module.injector:i).get(r)}function mM(r,n,i,s,l={canDeactivateChecks:[],canActivateChecks:[]}){const p=ib(n);return r.children.forEach(b=>{(function(r,n,i,s,l={canDeactivateChecks:[],canActivateChecks:[]}){const p=r.value,b=n?n.value:null,R=i?i.getContext(r.value.outlet):null;if(b&&p.routeConfig===b.routeConfig){const G=function(r,n,i){if("function"==typeof i)return i(r,n);switch(i){case"pathParamsChange":return!tx(r.url,n.url);case"pathParamsOrQueryParamsChange":return!tx(r.url,n.url)||!z0(r.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vA(r,n)||!z0(r.queryParams,n.queryParams);default:return!vA(r,n)}}(b,p,p.routeConfig.runGuardsAndResolvers);G?l.canActivateChecks.push(new WR(s)):(p.data=b.data,p._resolvedData=b._resolvedData),mM(r,n,p.component?R?R.children:null:i,s,l),G&&R&&R.outlet&&R.outlet.isActivated&&l.canDeactivateChecks.push(new dS(R.outlet.component,b))}else b&&gM(n,R,l),l.canActivateChecks.push(new WR(s)),mM(r,null,p.component?R?R.children:null:i,s,l)})(b,p[b.value.outlet],i,s.concat([b.value]),l),delete p[b.value.outlet]}),Hu(p,(b,R)=>gM(b,i.getContext(R),l)),l}function gM(r,n,i){const s=ib(r),l=r.value;Hu(s,(p,b)=>{gM(p,l.component?n?n.children.getContext(b):null:n,i)}),i.canDeactivateChecks.push(new dS(l.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,l))}class kX{}function YR(r){return new y(n=>n.error(r))}class TX{constructor(n,i,s,l,p,b){this.rootComponentType=n,this.config=i,this.urlTree=s,this.url=l,this.paramsInheritanceStrategy=p,this.relativeLinkResolution=b}recognize(){const n=hS(this.urlTree.root,[],[],this.config.filter(b=>void 0===b.redirectTo),this.relativeLinkResolution).segmentGroup,i=this.processSegmentGroup(this.config,n,ko);if(null===i)return null;const s=new sS([],Object.freeze({}),Object.freeze(wn({},this.urlTree.queryParams)),this.urlTree.fragment,{},ko,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new Mg(s,i),p=new TR(this.url,l);return this.inheritParamsAndData(p._root),p}inheritParamsAndData(n){const i=n.value,s=AR(i,this.paramsInheritanceStrategy);i.params=Object.freeze(s.params),i.data=Object.freeze(s.data),n.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(n,i,s){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,i):this.processSegment(n,i,i.segments,s)}processChildren(n,i){const s=[];for(const p of Object.keys(i.children)){const b=i.children[p],R=VR(n,p),G=this.processSegmentGroup(R,b,p);if(null===G)return null;s.push(...G)}const l=$R(s);return l.sort((n,i)=>n.value.outlet===ko?-1:i.value.outlet===ko?1:n.value.outlet.localeCompare(i.value.outlet)),l}processSegment(n,i,s,l){for(const p of n){const b=this.processSegmentAgainstRoute(p,i,s,l);if(null!==b)return b}return HR(i,s,l)?[]:null}processSegmentAgainstRoute(n,i,s,l){if(n.redirectTo||!zR(n,i,s,l))return null;let p,b=[],R=[];if("**"===n.path){const se=s.length>0?mR(s).parameters:{};p=new sS(s,se,Object.freeze(wn({},this.urlTree.queryParams)),this.urlTree.fragment,ZR(n),Id(n),n.component,n,XR(i),KR(i)+s.length,qR(n))}else{const se=uS(i,n,s);if(!se.matched)return null;b=se.consumedSegments,R=s.slice(se.lastChild),p=new sS(b,se.parameters,Object.freeze(wn({},this.urlTree.queryParams)),this.urlTree.fragment,ZR(n),Id(n),n.component,n,XR(i),KR(i)+b.length,qR(n))}const G=(r=n).children?r.children:r.loadChildren?r._loadedConfig.routes:[],{segmentGroup:ut,slicedSegments:St}=hS(i,b,R,G.filter(se=>void 0===se.redirectTo),this.relativeLinkResolution);var r;if(0===St.length&&ut.hasChildren()){const se=this.processChildren(G,ut);return null===se?null:[new Mg(p,se)]}if(0===G.length&&0===St.length)return[new Mg(p,[])];const Ut=Id(n)===l,Jt=this.processSegment(G,ut,St,Ut?ko:l);return null===Jt?null:[new Mg(p,Jt)]}}function RX(r){const n=r.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function $R(r){const n=[],i=new Set;for(const s of r){if(!RX(s)){n.push(s);continue}const l=n.find(p=>s.value.routeConfig===p.value.routeConfig);void 0!==l?(l.children.push(...s.children),i.add(l)):n.push(s)}for(const s of i){const l=$R(s.children);n.push(new Mg(s.value,l))}return n.filter(s=>!i.has(s))}function XR(r){let n=r;for(;n._sourceSegment;)n=n._sourceSegment;return n}function KR(r){let n=r,i=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,i+=n._segmentIndexShift?n._segmentIndexShift:0;return i-1}function ZR(r){return r.data||{}}function qR(r){return r.resolve||{}}function SA(r){return ch(n=>{const i=r(n);return i?fr(i).pipe(J(()=>n)):vr(n)})}class zX extends class{shouldDetach(n){return!1}store(n,i){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,i){return n.routeConfig===i.routeConfig}}{}const DA=new un("ROUTES");class QR{constructor(n,i,s,l){this.injector=n,this.compiler=i,this.onLoadStartListener=s,this.onLoadEndListener=l}load(n,i){if(i._loader$)return i._loader$;this.onLoadStartListener&&this.onLoadStartListener(i);const l=this.loadModuleFactory(i.loadChildren).pipe(J(p=>{this.onLoadEndListener&&this.onLoadEndListener(i);const b=p.create(n);return new bA(pR(b.injector.get(DA,void 0,or.Self|or.Optional)).map(MA),b)}),wg(p=>{throw i._loader$=void 0,p}));return i._loader$=new e$(l,()=>new C).pipe(rR()),i._loader$}loadModuleFactory(n){return H0(n()).pipe(ae(i=>i instanceof yT?vr(i):fr(this.compiler.compileModuleAsync(i))))}}class UX{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}}function GX(r){throw r}function WX(r,n,i){return n.parse("/")}function JR(r,n){return vr(null)}const YX={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$X={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Kl=(()=>{class r{constructor(i,s,l,p,b,R,G){this.rootComponentType=i,this.urlSerializer=s,this.rootContexts=l,this.location=p,this.config=G,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new C,this.errorHandler=GX,this.malformedUriErrorHandler=WX,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:JR,afterPreactivation:JR},this.urlHandlingStrategy=new UX,this.routeReuseStrategy=new zX,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=b.get(L0),this.console=b.get(m2);const Ut=b.get(gr);this.isNgZoneEnabled=Ut instanceof gr&&gr.isInAngularZone(),this.resetConfig(G),this.currentUrlTree=new J1(new Lo([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new QR(b,R,Jt=>this.triggerEvent(new uR(Jt)),Jt=>this.triggerEvent(new hR(Jt))),this.routerState=kR(this.currentUrlTree,this.rootComponentType),this.transitions=new Kh({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var i;return null==(i=this.location.getState())?void 0:i.\u0275routerPageId}setupNavigations(i){const s=this.events;return i.pipe(Hs(l=>0!==l.id),J(l=>Fl(wn({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),ch(l=>{let p=!1,b=!1;return vr(l).pipe(Nl(R=>{this.currentNavigation={id:R.id,initialUrl:R.currentRawUrl,extractedUrl:R.extractedUrl,trigger:R.source,extras:R.extras,previousNavigation:this.lastSuccessfulNavigation?Fl(wn({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ch(R=>{const G=this.browserUrlTree.toString(),ut=!this.navigated||R.extractedUrl.toString()!==G||G!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||ut)&&this.urlHandlingStrategy.shouldProcessUrl(R.rawUrl))return mS(R.source)&&(this.browserUrlTree=R.extractedUrl),vr(R).pipe(ch(Ut=>{const Jt=this.transitions.getValue();return s.next(new hA(Ut.id,this.serializeUrl(Ut.extractedUrl),Ut.source,Ut.restoredState)),Jt!==this.transitions.getValue()?$e:Promise.resolve(Ut)}),function(r,n,i,s){return ch(l=>function(r,n,i,s,l){return new fX(r,n,i,s,l).apply()}(r,n,i,l.extractedUrl,s).pipe(J(p=>Fl(wn({},l),{urlAfterRedirects:p}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Nl(Ut=>{this.currentNavigation=Fl(wn({},this.currentNavigation),{finalUrl:Ut.urlAfterRedirects})}),function(r,n,i,s,l){return ae(p=>function(r,n,i,s,l="emptyOnly",p="legacy"){try{const b=new TX(r,n,i,s,l,p).recognize();return null===b?YR(new kX):vr(b)}catch(b){return YR(b)}}(r,n,p.urlAfterRedirects,i(p.urlAfterRedirects),s,l).pipe(J(b=>Fl(wn({},p),{targetSnapshot:b}))))}(this.rootComponentType,this.config,Ut=>this.serializeUrl(Ut),this.paramsInheritanceStrategy,this.relativeLinkResolution),Nl(Ut=>{if("eager"===this.urlUpdateStrategy){if(!Ut.extras.skipLocationChange){const se=this.urlHandlingStrategy.merge(Ut.urlAfterRedirects,Ut.rawUrl);this.setBrowserUrl(se,Ut)}this.browserUrlTree=Ut.urlAfterRedirects}const Jt=new s$(Ut.id,this.serializeUrl(Ut.extractedUrl),this.serializeUrl(Ut.urlAfterRedirects),Ut.targetSnapshot);s.next(Jt)}));if(ut&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Jt,extractedUrl:se,source:pe,restoredState:Ue,extras:Ge}=R,vi=new hA(Jt,this.serializeUrl(se),pe,Ue);s.next(vi);const gi=kR(se,this.rootComponentType).snapshot;return vr(Fl(wn({},R),{targetSnapshot:gi,urlAfterRedirects:se,extras:Fl(wn({},Ge),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=R.rawUrl,R.resolve(null),$e}),SA(R=>{const{targetSnapshot:G,id:ut,extractedUrl:St,rawUrl:Ut,extras:{skipLocationChange:Jt,replaceUrl:se}}=R;return this.hooks.beforePreactivation(G,{navigationId:ut,appliedUrlTree:St,rawUrlTree:Ut,skipLocationChange:!!Jt,replaceUrl:!!se})}),Nl(R=>{const G=new a$(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);this.triggerEvent(G)}),J(R=>Fl(wn({},R),{guards:mX(R.targetSnapshot,R.currentSnapshot,this.rootContexts)})),function(r,n){return ae(i=>{const{targetSnapshot:s,currentSnapshot:l,guards:{canActivateChecks:p,canDeactivateChecks:b}}=i;return 0===b.length&&0===p.length?vr(Fl(wn({},i),{guardsResult:!0})):function(r,n,i,s){return fr(r).pipe(ae(l=>function(r,n,i,s,l){const p=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return p&&0!==p.length?vr(p.map(R=>{const G=pS(R,n,l);let ut;if(function(r){return r&&fy(r.canDeactivate)}(G))ut=H0(G.canDeactivate(r,n,i,s));else{if(!fy(G))throw new Error("Invalid CanDeactivate guard");ut=H0(G(r,n,i,s))}return ut.pipe(Q1())})).pipe(fM()):vr(!0)}(l.component,l.route,i,n,s)),Q1(l=>!0!==l,!0))}(b,s,l,r).pipe(ae(R=>R&&function(r){return"boolean"==typeof r}(R)?function(r,n,i,s){return fr(n).pipe(Qw(l=>E_(function(r,n){return null!==r&&n&&n(new c$(r)),vr(!0)}(l.route.parent,s),function(r,n){return null!==r&&n&&n(new d$(r)),vr(!0)}(l.route,s),function(r,n,i){const s=n[n.length-1],p=n.slice(0,n.length-1).reverse().map(b=>function(r){const n=r.routeConfig?r.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:r,guards:n}:null}(b)).filter(b=>null!==b).map(b=>qC(()=>vr(b.guards.map(G=>{const ut=pS(G,b.node,i);let St;if(function(r){return r&&fy(r.canActivateChild)}(ut))St=H0(ut.canActivateChild(s,r));else{if(!fy(ut))throw new Error("Invalid CanActivateChild guard");St=H0(ut(s,r))}return St.pipe(Q1())})).pipe(fM())));return vr(p).pipe(fM())}(r,l.path,i),function(r,n,i){const s=n.routeConfig?n.routeConfig.canActivate:null;if(!s||0===s.length)return vr(!0);const l=s.map(p=>qC(()=>{const b=pS(p,n,i);let R;if(function(r){return r&&fy(r.canActivate)}(b))R=H0(b.canActivate(n,r));else{if(!fy(b))throw new Error("Invalid CanActivate guard");R=H0(b(n,r))}return R.pipe(Q1())}));return vr(l).pipe(fM())}(r,l.route,i))),Q1(l=>!0!==l,!0))}(s,p,r,n):vr(R)),J(R=>Fl(wn({},i),{guardsResult:R})))})}(this.ngModule.injector,R=>this.triggerEvent(R)),Nl(R=>{if(ex(R.guardsResult)){const ut=cA(`Redirecting to "${this.serializeUrl(R.guardsResult)}"`);throw ut.url=R.guardsResult,ut}const G=new l$(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot,!!R.guardsResult);this.triggerEvent(G)}),Hs(R=>!!R.guardsResult||(this.restoreHistory(R),this.cancelNavigationTransition(R,""),!1)),SA(R=>{if(R.guards.canActivateChecks.length)return vr(R).pipe(Nl(G=>{const ut=new u$(G.id,this.serializeUrl(G.extractedUrl),this.serializeUrl(G.urlAfterRedirects),G.targetSnapshot);this.triggerEvent(ut)}),ch(G=>{let ut=!1;return vr(G).pipe(function(r,n){return ae(i=>{const{targetSnapshot:s,guards:{canActivateChecks:l}}=i;if(!l.length)return vr(i);let p=0;return fr(l).pipe(Qw(b=>function(r,n,i,s){return function(r,n,i,s){const l=Object.keys(r);if(0===l.length)return vr({});const p={};return fr(l).pipe(ae(b=>function(r,n,i,s){const l=pS(r,n,s);return H0(l.resolve?l.resolve(n,i):l(n,i))}(r[b],n,i,s).pipe(Nl(R=>{p[b]=R}))),uA(1),ae(()=>Object.keys(p).length===l.length?vr(p):$e))}(r._resolve,r,n,s).pipe(J(p=>(r._resolvedData=p,r.data=wn(wn({},r.data),AR(r,i).resolve),null)))}(b.route,s,r,n)),Nl(()=>p++),uA(1),ae(b=>p===l.length?vr(i):$e))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Nl({next:()=>ut=!0,complete:()=>{ut||(this.restoreHistory(G),this.cancelNavigationTransition(G,"At least one route resolver didn't emit any value."))}}))}),Nl(G=>{const ut=new h$(G.id,this.serializeUrl(G.extractedUrl),this.serializeUrl(G.urlAfterRedirects),G.targetSnapshot);this.triggerEvent(ut)}))}),SA(R=>{const{targetSnapshot:G,id:ut,extractedUrl:St,rawUrl:Ut,extras:{skipLocationChange:Jt,replaceUrl:se}}=R;return this.hooks.afterPreactivation(G,{navigationId:ut,appliedUrlTree:St,rawUrlTree:Ut,skipLocationChange:!!Jt,replaceUrl:!!se})}),J(R=>{const G=function(r,n,i){const s=uM(r,n._root,i?i._root:void 0);return new ER(s,n)}(this.routeReuseStrategy,R.targetSnapshot,R.currentRouterState);return Fl(wn({},R),{targetRouterState:G})}),Nl(R=>{this.currentUrlTree=R.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl),this.routerState=R.targetRouterState,"deferred"===this.urlUpdateStrategy&&(R.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,R),this.browserUrlTree=R.urlAfterRedirects)}),((r,n,i)=>J(s=>(new X$(n,s.targetRouterState,s.currentRouterState,i).activate(r),s)))(this.rootContexts,this.routeReuseStrategy,R=>this.triggerEvent(R)),Nl({next(){p=!0},complete(){p=!0}}),M8(()=>{var R;p||b||this.cancelNavigationTransition(l,`Navigation ID ${l.id} is not equal to the current navigation id ${this.navigationId}`),(null==(R=this.currentNavigation)?void 0:R.id)===l.id&&(this.currentNavigation=null)}),wg(R=>{if(b=!0,function(r){return r&&r[fR]}(R)){const G=ex(R.url);G||(this.navigated=!0,this.restoreHistory(l,!0));const ut=new lR(l.id,this.serializeUrl(l.extractedUrl),R.message);s.next(ut),G?setTimeout(()=>{const St=this.urlHandlingStrategy.merge(R.url,this.rawUrlTree),Ut={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||mS(l.source)};this.scheduleNavigation(St,"imperative",null,Ut,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{this.restoreHistory(l,!0);const G=new o$(l.id,this.serializeUrl(l.extractedUrl),R);s.next(G);try{l.resolve(this.errorHandler(R))}catch(ut){l.reject(ut)}}return $e}))}))}resetRootComponentType(i){this.rootComponentType=i,this.routerState.root.component=this.rootComponentType}setTransition(i){this.transitions.next(wn(wn({},this.transitions.value),i))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const s="popstate"===i.type?"popstate":"hashchange";"popstate"===s&&setTimeout(()=>{var R;const l={replaceUrl:!0},p=(null==(R=i.state)?void 0:R.navigationId)?i.state:null;if(p){const G=wn({},p);delete G.navigationId,delete G.\u0275routerPageId,0!==Object.keys(G).length&&(l.state=G)}const b=this.parseUrl(i.url);this.scheduleNavigation(b,s,p,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(i){this.events.next(i)}resetConfig(i){BR(i),this.config=i.map(MA),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,s={}){const{relativeTo:l,queryParams:p,fragment:b,queryParamsHandling:R,preserveFragment:G}=s,ut=l||this.routerState.root,St=G?this.currentUrlTree.fragment:b;let Ut=null;switch(R){case"merge":Ut=wn(wn({},this.currentUrlTree.queryParams),p);break;case"preserve":Ut=this.currentUrlTree.queryParams;break;default:Ut=p||null}return null!==Ut&&(Ut=this.removeEmptyProps(Ut)),function(r,n,i,s,l){if(0===i.length)return yA(n.root,n.root,n,s,l);const p=function(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new RR(!0,0,r);let n=0,i=!1;const s=r.reduce((l,p,b)=>{if("object"==typeof p&&null!=p){if(p.outlets){const R={};return Hu(p.outlets,(G,ut)=>{R[ut]="string"==typeof G?G.split("/"):G}),[...l,{outlets:R}]}if(p.segmentPath)return[...l,p.segmentPath]}return"string"!=typeof p?[...l,p]:0===b?(p.split("/").forEach((R,G)=>{0==G&&"."===R||(0==G&&""===R?i=!0:".."===R?n++:""!=R&&l.push(R))}),l):[...l,p]},[]);return new RR(i,n,s)}(i);if(p.toRoot())return yA(n.root,new Lo([],{}),n,s,l);const b=function(r,n,i){if(r.isAbsolute)return new xA(n.root,!0,0);if(-1===i.snapshot._lastPathIndex){const p=i.snapshot._urlSegment;return new xA(p,p===n.root,0)}const s=aS(r.commands[0])?0:1;return function(r,n,i){let s=r,l=n,p=i;for(;p>l;){if(p-=l,s=s.parent,!s)throw new Error("Invalid number of '../'");l=s.segments.length}return new xA(s,!1,l-p)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+s,r.numberOfDoubleDots)}(p,n,r),R=b.processChildren?lS(b.segmentGroup,b.index,p.commands):OR(b.segmentGroup,b.index,p.commands);return yA(b.segmentGroup,R,n,s,l)}(ut,this.currentUrlTree,i,Ut,null!=St?St:null)}navigateByUrl(i,s={skipLocationChange:!1}){const l=ex(i)?i:this.parseUrl(i),p=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(p,"imperative",null,s)}navigate(i,s={skipLocationChange:!1}){return function(r){for(let n=0;n<r.length;n++){const i=r[n];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${n}`)}}(i),this.navigateByUrl(this.createUrlTree(i,s),s)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let s;try{s=this.urlSerializer.parse(i)}catch(l){s=this.malformedUriErrorHandler(l,this.urlSerializer,i)}return s}isActive(i,s){let l;if(l=!0===s?wn({},YX):!1===s?wn({},$X):s,ex(i))return vR(this.currentUrlTree,i,l);const p=this.parseUrl(i);return vR(this.currentUrlTree,p,l)}removeEmptyProps(i){return Object.keys(i).reduce((s,l)=>{const p=i[l];return null!=p&&(s[l]=p),s},{})}processNavigations(){this.navigations.subscribe(i=>{this.navigated=!0,this.lastSuccessfulId=i.id,this.currentPageId=i.targetPageId,this.events.next(new sM(i.id,this.serializeUrl(i.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,i.resolve(!0)},i=>{this.console.warn(`Unhandled Navigation Error: ${i}`)})}scheduleNavigation(i,s,l,p,b){var vi,gi,Zi;if(this.disposed)return Promise.resolve(!1);const R=this.transitions.value,G=mS(s)&&R&&!mS(R.source),ut=R.rawUrl.toString()===i.toString(),St=R.id===(null==(vi=this.currentNavigation)?void 0:vi.id);if(G&&ut&&St)return Promise.resolve(!0);let Jt,se,pe;b?(Jt=b.resolve,se=b.reject,pe=b.promise):pe=new Promise((ln,Fr)=>{Jt=ln,se=Fr});const Ue=++this.navigationId;let Ge;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),Ge=l&&l.\u0275routerPageId?l.\u0275routerPageId:p.replaceUrl||p.skipLocationChange?null!=(gi=this.browserPageId)?gi:0:(null!=(Zi=this.browserPageId)?Zi:0)+1):Ge=0,this.setTransition({id:Ue,targetPageId:Ge,source:s,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:i,extras:p,resolve:Jt,reject:se,promise:pe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),pe.catch(ln=>Promise.reject(ln))}setBrowserUrl(i,s){const l=this.urlSerializer.serialize(i),p=wn(wn({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(l)||s.extras.replaceUrl?this.location.replaceState(l,"",p):this.location.go(l,"",p)}restoreHistory(i,s=!1){var l,p;if("computed"===this.canceledNavigationResolution){const b=this.currentPageId-i.targetPageId;"popstate"!==i.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(l=this.currentNavigation)?void 0:l.finalUrl)||0===b?this.currentUrlTree===(null==(p=this.currentNavigation)?void 0:p.finalUrl)&&0===b&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(b)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(i,s){const l=new lR(i.id,this.serializeUrl(i.extractedUrl),s);this.triggerEvent(l),i.resolve(!1)}generateNgRouterState(i,s){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:s}:{navigationId:i}}}return r.\u0275fac=function(i){A0()},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})();function mS(r){return"imperative"!==r}let gS=(()=>{class r{constructor(i,s,l,p,b){this.router=i,this.route=s,this.tabIndexAttribute=l,this.renderer=p,this.el=b,this.commands=null,this.onChanges=new C,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){if(null!=this.tabIndexAttribute)return;const s=this.renderer,l=this.el.nativeElement;null!==i?s.setAttribute(l,"tabindex",i):s.removeAttribute(l,"tabindex")}ngOnChanges(i){this.onChanges.next(this)}set routerLink(i){null!=i?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const i={skipLocationChange:nb(this.skipLocationChange),replaceUrl:nb(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:nb(this.preserveFragment)})}}return r.\u0275fac=function(i){return new(i||r)(be(Kl),be(U0),Eu("tabindex"),be(lg),be(cr))},r.\u0275dir=an({type:r,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(i,s){1&i&&e("click",function(){return s.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Hr]}),r})(),vS=(()=>{class r{constructor(i,s,l){this.router=i,this.route=s,this.locationStrategy=l,this.commands=null,this.href=null,this.onChanges=new C,this.subscription=i.events.subscribe(p=>{p instanceof sM&&this.updateTargetUrlAndHref()})}set routerLink(i){this.commands=null!=i?Array.isArray(i)?i:[i]:null}ngOnChanges(i){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(i,s,l,p,b){if(0!==i||s||l||p||b||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const R={skipLocationChange:nb(this.skipLocationChange),replaceUrl:nb(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,R),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:nb(this.preserveFragment)})}}return r.\u0275fac=function(i){return new(i||r)(be(Kl),be(U0),be(Ow))},r.\u0275dir=an({type:r,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(i,s){1&i&&e("click",function(p){return s.onClick(p.button,p.ctrlKey,p.shiftKey,p.altKey,p.metaKey)}),2&i&&Pr("target",s.target)("href",s.href,_l)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Hr]}),r})();function nb(r){return""===r||!!r}class t5{}class e5{preload(n,i){return vr(null)}}let i5=(()=>{class r{constructor(i,s,l,p){this.router=i,this.injector=l,this.preloadingStrategy=p,this.loader=new QR(l,s,G=>i.triggerEvent(new uR(G)),G=>i.triggerEvent(new hR(G)))}setUpPreloading(){this.subscription=this.router.events.pipe(Hs(i=>i instanceof sM),Qw(()=>this.preload())).subscribe(()=>{})}preload(){const i=this.injector.get(L0);return this.processRoutes(i,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,s){const l=[];for(const p of s)if(p.loadChildren&&!p.canLoad&&p._loadedConfig){const b=p._loadedConfig;l.push(this.processRoutes(b.module,b.routes))}else p.loadChildren&&!p.canLoad?l.push(this.preloadConfig(i,p)):p.children&&l.push(this.processRoutes(i,p.children));return fr(l).pipe(Me(),J(p=>{}))}preloadConfig(i,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?vr(s._loadedConfig):this.loader.load(i.injector,s)).pipe(ae(p=>(s._loadedConfig=p,this.processRoutes(p.module,p.routes)))))}}return r.\u0275fac=function(i){return new(i||r)(pi(Kl),pi(g2),pi(Eo),pi(t5))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})(),EA=(()=>{class r{constructor(i,s,l={}){this.router=i,this.viewportScroller=s,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(i=>{i instanceof hA?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof sM&&(this.lastId=i.id,this.scheduleScrollEvent(i,this.router.parseUrl(i.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(i=>{i instanceof cR&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,s){this.router.triggerEvent(new cR(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return r.\u0275fac=function(i){A0()},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})();const ix=new un("ROUTER_CONFIGURATION"),n5=new un("ROUTER_FORROOT_GUARD"),QX=[P2,{provide:bR,useClass:_R},{provide:Kl,useFactory:function(r,n,i,s,l,p,b={},R,G){const ut=new Kl(null,r,n,i,s,l,pR(p));return R&&(ut.urlHandlingStrategy=R),G&&(ut.routeReuseStrategy=G),function(r,n){r.errorHandler&&(n.errorHandler=r.errorHandler),r.malformedUriErrorHandler&&(n.malformedUriErrorHandler=r.malformedUriErrorHandler),r.onSameUrlNavigation&&(n.onSameUrlNavigation=r.onSameUrlNavigation),r.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=r.paramsInheritanceStrategy),r.relativeLinkResolution&&(n.relativeLinkResolution=r.relativeLinkResolution),r.urlUpdateStrategy&&(n.urlUpdateStrategy=r.urlUpdateStrategy),r.canceledNavigationResolution&&(n.canceledNavigationResolution=r.canceledNavigationResolution)}(b,ut),b.enableTracing&&ut.events.subscribe(St=>{var Ut,Jt;null==(Ut=console.group)||Ut.call(console,`Router Event: ${St.constructor.name}`),console.log(St.toString()),console.log(St),null==(Jt=console.groupEnd)||Jt.call(console)}),ut},deps:[bR,dM,P2,Eo,g2,DA,ix,[class{},new Jo],[class{},new Jo]]},dM,{provide:U0,useFactory:function(r){return r.routerState.root},deps:[Kl]},i5,e5,class{preload(n,i){return i().pipe(wg(()=>vr(null)))}},{provide:ix,useValue:{enableTracing:!1}}];function JX(){return new bD("Router",Kl)}let r5=(()=>{class r{constructor(i,s){}static forRoot(i,s){return{ngModule:r,providers:[QX,o5(i),{provide:n5,useFactory:iK,deps:[[Kl,new Jo,new Hl]]},{provide:ix,useValue:s||{}},{provide:Ow,useFactory:eK,deps:[B1,[new bl(qD),new Jo],ix]},{provide:EA,useFactory:tK,deps:[Kl,u7,ix]},{provide:t5,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:e5},{provide:bD,multi:!0,useFactory:JX},[kA,{provide:a_,multi:!0,useFactory:sK,deps:[kA]},{provide:s5,useFactory:aK,deps:[kA]},{provide:t3,multi:!0,useExisting:s5}]]}}static forChild(i){return{ngModule:r,providers:[o5(i)]}}}return r.\u0275fac=function(i){return new(i||r)(pi(n5,8),pi(Kl,8))},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({}),r})();function tK(r,n,i){return i.scrollOffset&&n.setOffset(i.scrollOffset),new EA(r,n,i)}function eK(r,n,i={}){return i.useHash?new ZB(r,n):new fP(r,n)}function iK(r){return"guarded"}function o5(r){return[{provide:vm,multi:!0,useValue:r},{provide:DA,multi:!0,useValue:r}]}let kA=(()=>{class r{constructor(i){this.injector=i,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new C}appInitializer(){return this.injector.get($B,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const l=new Promise(R=>s=R),p=this.injector.get(Kl),b=this.injector.get(ix);return"disabled"===b.initialNavigation?(p.setUpLocationChangeListener(),s(!0)):"enabled"===b.initialNavigation||"enabledBlocking"===b.initialNavigation?(p.hooks.afterPreactivation=()=>this.initNavigation?vr(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),p.initialNavigation()):s(!0),l})}bootstrapListener(i){const s=this.injector.get(ix),l=this.injector.get(i5),p=this.injector.get(EA),b=this.injector.get(Kl),R=this.injector.get(R1);i===R.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&b.initialNavigation(),l.setUpPreloading(),p.init(),b.resetRootComponentType(R.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return r.\u0275fac=function(i){return new(i||r)(pi(Eo))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})();function sK(r){return r.appInitializer.bind(r)}function aK(r){return r.bootstrapListener.bind(r)}const s5=new un("Router Initializer");let uK=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=fn({type:r,selectors:[["ng-component"]],decls:2,vars:0,template:function(i,s){1&i&&(Qe(0,"p"),Ji(1,"dance-cards-page works!"),ti())},styles:[""]}),r})();function a5(r,n,i,s,l,p,b){try{var R=r[p](b),G=R.value}catch(ut){return void i(ut)}R.done?n(G):Promise.resolve(G).then(s,l)}function Rd(r){return function(){var n=this,i=arguments;return new Promise(function(s,l){var p=r.apply(n,i);function b(G){a5(p,s,l,b,R,"next",G)}function R(G){a5(p,s,l,b,R,"throw",G)}b(void 0)})}}function yS(r,n){const i="object"==typeof n;return new Promise((s,l)=>{const p=new rt({next:b=>{s(b),p.unsubscribe()},error:l,complete:()=>{i?s(n.defaultValue):l(new oM)}});r.subscribe(p)})}const hK=/([0-9]{2})\.([0-9]{2})\.([0-9]{4})/,cK=/[A-Za-z0-9\s]+\![A-Z]+[0-9]+\:[A-Z]+([0-9]+)/,AA=r=>{r=null==r?void 0:r.trim();const n=hK.exec(r);n&&(r=`${n[3]}-${n[2]}-${n[1]}`);const i=new Date(r);return"Invalid Date"==(null==i?void 0:i.toString())?null:i},l5=r=>(console.log(r),!r||isNaN(r.getTime())?"":`${r.getDate()}.${r.getMonth()+1}.${r.getFullYear()}`),u5=r=>"true"==(r=null==r?void 0:r.toLowerCase())||"wahr"==r,fK=r=>new Promise(n=>setTimeout(n,r)),h5=r=>{r=null==r?void 0:r.trim();const n=cK.exec(r);return n?(console.log(n),Number(n[1])):NaN};var If=(()=>{return(r=If||(If={})).start="start",r.end="end",r.related="related",r.otherDance="other dance",If;var r})(),Cg=(()=>{return(r=Cg||(Cg={})).highchartsNetworkgraph="highcharts networkgraph",r.gojsConceptMap="gojs conceptMap",r.cytoscape="cytoscape",Cg;var r})(),dK=kt(3783),wS=kt(7908);let vM=(()=>{class r{constructor(i,s,l){this.route=i,this.cookies=s,this.http=l,this.isStarted=!1,this.isStarting=new C}fetchSettings(){this.http.get("assets/secret-write.txt"),this.route.queryParams.subscribe(i=>{this.initSettings(i)})}loading(){var i=this;return Rd(function*(){i.isStarted||(yield yS(i.isStarting))})()}initSettings(i){this.secretReadString=this.getSetting(i,"secret"),this.secretWriteString=this.getSetting(i,"secret-write"),this.secretReadString&&this.http.get("assets/secret-read.txt",{responseType:"text"}).subscribe(s=>{const l=wS.AES.decrypt(s,this.secretReadString);this.secret=JSON.parse(l.toString(wS.enc.Utf8)),this.isStarting.next(!1),this.isStarted=!0}),this.secretWriteString&&this.http.get("assets/secret-write.txt",{responseType:"text"}).subscribe(s=>{const l=wS.AES.decrypt(s,this.secretWriteString);this.secretWrite=JSON.parse(l.toString(wS.enc.Utf8))})}getSetting(i,s){let l=i[s];return l?this.cookies.set(s,l,new Date(Date.now()+864e6)):l=this.cookies.get(s),l}}return r.\u0275fac=function(i){return new(i||r)(pi(U0),pi(nR),pi(Jw))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),pK=(()=>{class r{constructor(i,s){this.settingsService=i,this.http=s,this.movesKeys=new Array,this.courseDatesKeys=new Array}getMoves(){var i=this;return Rd(function*(){var s;yield i.settingsService.loading();const l=new Array;return yS(i.spreadsheetsGet(null===(s=i.settingsService.secret)||void 0===s?void 0:s.movesSheetId,"Tanzfiguren!A1:S500").pipe(J(b=>{const R=null==b?void 0:b.values;if(R.length>0){i.movesKeys=R[0];for(let ut=1;ut<R.length;ut++){var G=R[ut];G[0]&&l.push(i.createMovesDto(G,ut))}}return l})))})()}getCourseDates(){var i=this;return Rd(function*(){var s;yield i.settingsService.loading();const l=new Array;return yS(i.spreadsheetsGet(null===(s=i.settingsService.secret)||void 0===s?void 0:s.courseDatesSheetId,"Course Dates!A1:C1000").pipe(J(b=>{const R=null==b?void 0:b.values;if(R.length>0){i.courseDatesKeys=R[0];for(let ut=1;ut<R.length;ut++){var G=R[ut];G[0]&&l.push(i.createCourseDateDto(G,ut))}}return l})))})()}appendData(i){var s;const p={values:[this.moveToLine(i)]};return this.spreadsheetsPost(null===(s=this.settingsService.secret)||void 0===s?void 0:s.movesSheetId,"Tanzfiguren!A400:U400",p,":append")}patchData(i){var s;const l=`Tanzfiguren!A${i.row}:U${i.row}`,p={values:[this.moveToLine(i)]};return this.spreadsheetsPut(null===(s=this.settingsService.secret)||void 0===s?void 0:s.movesSheetId,l,p)}appendCourseDate(i){var s;const p={values:[this.courseDateToLine(i)]};return this.spreadsheetsPost(null===(s=this.settingsService.secret)||void 0===s?void 0:s.courseDatesSheetId,"Course Dates!A400:C400",p,":append")}patchCourseDate(i){var s;const l=`Course Dates!A${i.row}:C${i.row}`,p={values:[this.courseDateToLine(i)]};return this.spreadsheetsPut(null===(s=this.settingsService.secret)||void 0===s?void 0:s.courseDatesSheetId,l,p)}spreadsheetsGet(i,s){var l;return this.http.get(`https://content-sheets.googleapis.com/v4/spreadsheets/${i}/values/${encodeURI(s)}`,{params:{key:null===(l=this.settingsService.secret)||void 0===l?void 0:l.apiKey}})}spreadsheetsPost(i,s,l,p=""){return this.loginWrite().pipe(ch(b=>this.http.post(`https://content-sheets.googleapis.com/v4/spreadsheets/${i}/values/${encodeURI(s)}${p}`,l,{headers:{Authorization:`Bearer ${b.access_token}`},params:{valueInputOption:"USER_ENTERED"}})))}spreadsheetsPut(i,s,l,p=""){return this.loginWrite().pipe(ch(b=>this.http.put(`https://content-sheets.googleapis.com/v4/spreadsheets/${i}/values/${encodeURI(s)}${p}`,l,{headers:{Authorization:`Bearer ${b.access_token}`},params:{valueInputOption:"USER_ENTERED"}})))}loginWrite(){if(!this.settingsService.secretWrite)return vr({});if(this.writeToken&&this.lastUpdated&&this.nowInSec()-this.lastUpdated<this.writeToken.expires_in-100)return vr(this.writeToken);const i=this.createJwt();return this.lastUpdated=this.nowInSec(),this.http.post("https://oauth2.googleapis.com/token",{grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:i}).pipe(Nl(s=>this.writeToken=s))}nowInSec(){return Date.now()/1e3}createJwt(){const i=this.settingsService.secretWrite,s=Date.now()/1e3;return dK.encode({iss:i.client_email,sub:i.client_email,scope:"https://www.googleapis.com/auth/spreadsheets",aud:i.token_uri,iat:s,exp:s+3600},i.private_key,"RS256",{header:{kid:i.private_key_id}})}createCourseDateDto(i,s){return{date:AA(i[0]),course:i[1],moveName:i[2],row:s+1}}createMovesDto(i,s){return{name:i[0],dance:i[1],description:i[2],date:AA(i[3]),order:i[4],count:i[5],nameVerified:u5(i[6]),type:i[7],startMove:this.stringToArray(i[8]),endMove:this.stringToArray(i[9]),relatedMoves:this.stringToArray(i[10]),relatedMovesOtherDances:this.stringToArray(i[11]),videoname:i[12],links:i[13],toDo:i[14],row:s+1,courseDates:[]}}stringToArray(i){return(i=null==i?void 0:i.trim())?Array.from(new Set(i.split(",").map(s=>s.trim()).filter(s=>Boolean(s))).values()):[]}moveToLine(i){var s,l,p,b;return[i.name,i.dance,i.description,l5(i.date),i.order,i.count,String(i.nameVerified),i.type,null===(s=i.startMove)||void 0===s?void 0:s.join(","),null===(l=i.endMove)||void 0===l?void 0:l.join(","),null===(p=i.relatedMoves)||void 0===p?void 0:p.join(","),null===(b=i.relatedMovesOtherDances)||void 0===b?void 0:b.join(","),i.videoname,i.links,i.toDo]}courseDateToLine(i){return[l5(i.date),i.course,i.moveName]}}return r.\u0275fac=function(i){return new(i||r)(pi(vM),pi(Jw))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function mK(r,n){if(1&r){const i=Qa();Qe(0,"div",1),Qe(1,"button",2),e("click",function(){return Qo(i),_().action()}),Ji(2),ti(),ti()}if(2&r){const i=_();Ai(2),Ps(i.data.action)}}function gK(r,n){}const c5=new un("MatSnackBarData");class bS{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const vK=Math.pow(2,31)-1;class TA{constructor(n,i){this._overlayRef=i,this._afterDismissed=new C,this._afterOpened=new C,this._onAction=new C,this._dismissedByAction=!1,this.containerInstance=n,this.onAction().subscribe(()=>this.dismiss()),n._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(n){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(n,vK))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let yK=(()=>{class r{constructor(i,s){this.snackBarRef=i,this.data=s}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return r.\u0275fac=function(i){return new(i||r)(be(TA),be(c5))},r.\u0275cmp=fn({type:r,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(i,s){1&i&&(Qe(0,"span"),Ji(1),ti(),Mn(2,mK,3,1,"div",0)),2&i&&(Ai(1),Ps(s.data.message),Ai(1),Pi("ngIf",s.hasAction))},directives:[Yh,uy],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),r})();const xK={snackBarState:yg("state",[jc("void, hidden",Ma({transform:"scale(0.8)",opacity:0})),jc("visible",Ma({transform:"scale(1)",opacity:1})),zc("* => visible",kf("150ms cubic-bezier(0, 0, 0.2, 1)")),zc("* => void, * => hidden",kf("75ms cubic-bezier(0.4, 0.0, 1, 1)",Ma({opacity:0})))])};let wK=(()=>{class r extends jk{constructor(i,s,l,p,b){super(),this._ngZone=i,this._elementRef=s,this._changeDetectorRef=l,this._platform=p,this.snackBarConfig=b,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new C,this._onExit=new C,this._onEnter=new C,this._animationState="void",this.attachDomPortal=R=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(R)),this._live="assertive"!==b.politeness||b.announcementMessage?"off"===b.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(i){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(i)}attachTemplatePortal(i){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(i)}onAnimationEnd(i){const{fromState:s,toState:l}=i;if(("void"===l&&"void"!==s||"hidden"===l)&&this._completeExit(),"visible"===l){const p=this._onEnter;this._ngZone.run(()=>{p.next(),p.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Un(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const i=this._elementRef.nativeElement,s=this.snackBarConfig.panelClass;s&&(Array.isArray(s)?s.forEach(l=>i.classList.add(l)):i.classList.add(s)),"center"===this.snackBarConfig.horizontalPosition&&i.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&i.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector("[aria-hidden]"),s=this._elementRef.nativeElement.querySelector("[aria-live]");if(i&&s){let l=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&i.contains(document.activeElement)&&(l=document.activeElement),i.removeAttribute("aria-hidden"),s.appendChild(i),null==l||l.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return r.\u0275fac=function(i){return new(i||r)(be(gr),be(cr),be(Ks),be(Ol),be(bS))},r.\u0275cmp=fn({type:r,selectors:[["snack-bar-container"]],viewQuery:function(i,s){if(1&i&&ms(q_,7),2&i){let l;Jn(l=tr())&&(s._portalOutlet=l.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(i,s){1&i&&o("@state.done",function(p){return s.onAnimationEnd(p)}),2&i&&bd("@state",s._animationState)},features:[Qn],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,s){1&i&&(Qe(0,"div",0),Mn(1,gK,0,0,"ng-template",1),ti(),On(2,"div")),2&i&&(Ai(2),Pr("aria-live",s._live)("role",s._role))},directives:[q_],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[xK.snackBarState]}}),r})(),f5=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({imports:[[zC,jC,Lp,Nk,Bo],Bo]}),r})();const bK=new un("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new bS}});let MK=(()=>{class r{constructor(i,s,l,p,b,R){this._overlay=i,this._live=s,this._injector=l,this._breakpointObserver=p,this._parentSnackBar=b,this._defaultConfig=R,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=yK,this.snackBarContainerComponent=wK,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const i=this._parentSnackBar;return i?i._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(i){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=i:this._snackBarRefAtThisLevel=i}openFromComponent(i,s){return this._attach(i,s)}openFromTemplate(i,s){return this._attach(i,s)}open(i,s="",l){const p=wn(wn({},this._defaultConfig),l);return p.data={message:i,action:s},p.announcementMessage===i&&(p.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,p)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(i,s){const p=Eo.create({parent:s&&s.viewContainerRef&&s.viewContainerRef.injector||this._injector,providers:[{provide:bS,useValue:s}]}),b=new K_(this.snackBarContainerComponent,s.viewContainerRef,p),R=i.attach(b);return R.instance.snackBarConfig=s,R.instance}_attach(i,s){const l=wn(wn(wn({},new bS),this._defaultConfig),s),p=this._createOverlay(l),b=this._attachSnackBarContainer(p,l),R=new TA(b,p);if(i instanceof Ef){const G=new Z_(i,null,{$implicit:l.data,snackBarRef:R});R.instance=b.attachTemplatePortal(G)}else{const G=this._createInjector(l,R),ut=new K_(i,void 0,G),St=b.attachComponentPortal(ut);R.instance=St.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(ls(p.detachments())).subscribe(G=>{p.overlayElement.classList.toggle(this.handsetCssClass,G.matches)}),l.announcementMessage&&b._onAnnounce.subscribe(()=>{this._live.announce(l.announcementMessage,l.politeness)}),this._animateSnackBar(R,l),this._openedSnackBarRef=R,this._openedSnackBarRef}_animateSnackBar(i,s){i.afterDismissed().subscribe(()=>{this._openedSnackBarRef==i&&(this._openedSnackBarRef=null),s.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{i.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):i.containerInstance.enter(),s.duration&&s.duration>0&&i.afterOpened().subscribe(()=>i._dismissAfter(s.duration))}_createOverlay(i){const s=new Q_;s.direction=i.direction;let l=this._overlay.position().global();const p="rtl"===i.direction,b="left"===i.horizontalPosition||"start"===i.horizontalPosition&&!p||"end"===i.horizontalPosition&&p,R=!b&&"center"!==i.horizontalPosition;return b?l.left("0"):R?l.right("0"):l.centerHorizontally(),"top"===i.verticalPosition?l.top("0"):l.bottom("0"),s.positionStrategy=l,this._overlay.create(s)}_createInjector(i,s){return Eo.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:TA,useValue:s},{provide:c5,useValue:i.data}]})}}return r.\u0275fac=function(i){return new(i||r)(pi(xg),pi(ZE),pi(Eo),pi(o4),pi(r,12),pi(bK))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:f5}),r})(),nx=(()=>{class r{constructor(i,s,l,p){this.apiclientService=i,this.snackBar=s,this.route=l,this.router=p,this.movesSubject=new Kh(new Array),this.movesObservable=this.movesSubject.asObservable(),this.searchFilterObservable=new Kh({}),this.relationsSelectionObservable=new Kh({}),this.isStarted=!1,this.isStarting=new C,this.groupByDance=b=>b.reduce((R,G)=>(R[G.dance]||(R[G.dance]=[]),R[G.dance].push(G.name),R),{}),this.tapRequest=Nl({next:b=>{console.log(b)},error:b=>{var R,G;console.log(b),this.snackBar.open(`error:${null===(G=null===(R=null==b?void 0:b.result)||void 0===R?void 0:R.error)||void 0===G?void 0:G.message}`,"OK")}}),this.saveOrCreateCourseDates=b=>EE(b.courseDates.filter(R=>R.course||R.date).map(R=>(R.moveName=b.name,R)).map(this.saveOrCreateCourseDate)).pipe(J(R=>(b.courseDates=R,b))),this.saveOrCreateCourseDate=b=>b.row?this.apiclientService.patchCourseDate(b).pipe(J(R=>b),this.tapRequest):this.apiclientService.appendCourseDate(b).pipe(J(R=>(b.row=h5(R.updates.updatedRange),b)),this.tapRequest),this.updateMoveData=b=>{let R=JSON.parse(JSON.stringify(this.movesSubject.value));return R=R.filter(G=>G.name!=b.name),R.push(b),this.movesSubject.next(R),this.router.navigate(["move",b.name],{queryParamsHandling:"merge"}),b},this.route.queryParams.subscribe(b=>{var R;(b.dance||b.move||b.course||b.type)&&this.searchFilterObservable.next({dance:b.dance,move:b.move,course:b.course,type:b.type});let G=b.relationTypes;G?"string"==typeof G&&(G=[G]):G=[If.start,If.end];let ut=null===(R=b.displayType)||void 0===R?void 0:R.trim();ut||(ut=Cg.cytoscape),this.relationsSelectionObservable.next({relationTypes:G,displayType:ut})})}start(){this.refresh()}refresh(){var i=this;return Rd(function*(){const s=yield i.apiclientService.getMoves(),l=yield i.apiclientService.getCourseDates();for(const p of s)p.courseDates=l.filter(b=>b.moveName==p.name);i.movesSubject.next(s),i.isStarting.next(!1),i.isStarted=!0})()}loading(){var i=this;return Rd(function*(){!i.isStarted&&(yield yS(i.isStarting))})()}getMove(i){const s=this.movesSubject.value.filter(l=>l.name==i);if(s.length>0)return s[0]}getGroupedMoveNames(){return this.movesSubject.asObservable().pipe(J(i=>Object.entries(this.groupByDance(i)).map(([s,l])=>({dance:s,names:l}))))}getMovesNamesOf(i){return new Set(this.movesSubject.value.filter(s=>!i||s.dance==i).map(s=>s.name))}getMovesNames(){return new Set(this.movesSubject.value.map(i=>i.name))}getDances(){return new Set(this.movesSubject.value.map(i=>i.dance))}getCourseNames(){return new Set(this.movesSubject.value.flatMap(i=>i.courseDates.map(s=>s.course)))}getTypes(){return new Set(this.movesSubject.value.map(i=>i.type).sort())}getRelationPairs(i){return this.searchFilterObservable.pipe(J(s=>{const l=new Array,p=this.selectMoves(this.movesSubject.value,this.getDances(),s);for(const b of p)i.includes(If.start)&&b.startMove.filter(R=>R).forEach(R=>l.push({to:b.name,from:R})),i.includes(If.end)&&b.endMove.filter(R=>R).forEach(R=>l.push({from:b.name,to:R})),i.includes(If.related)&&b.relatedMoves.filter(R=>R).forEach(R=>l.push({from:b.name,to:R})),i.includes(If.otherDance)&&b.relatedMovesOtherDances.filter(R=>R).forEach(R=>l.push({from:b.name,to:R}));return l}))}selectMoves(i,s,l){return i.filter(p=>!s.has(l.dance)||p.dance==l.dance).filter(p=>!l.move||p.name.includes(l.move)).filter(p=>!l.course||p.courseDates.map(b=>b.course).includes(l.course)).filter(p=>!l.type||p.type.includes(l.type))}saveOrCreate(i){return i.row?this.apiclientService.patchData(i).pipe(J(s=>i),this.tapRequest,ch(this.saveOrCreateCourseDates),J(this.updateMoveData)):this.apiclientService.appendData(i).pipe(J(s=>(i.row=h5(s.updates.updatedRange),i)),this.tapRequest,ch(this.saveOrCreateCourseDates),J(this.updateMoveData))}normalize(){var i=this;return Rd(function*(){console.log("normalize");for(const s of i.movesSubject.value)s.description&&(console.log(s),i.saveOrCreate(s),yield fK(1e3))})()}}return r.\u0275fac=function(i){return new(i||r)(pi(pK),pi(MK),pi(U0),pi(Kl))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const CK=["primaryValueBar"],SK=Y1(class{constructor(r){this._elementRef=r}},"primary"),DK=new un("mat-progress-bar-location",{providedIn:"root",factory:function(){const r=Iu(Nr),n=r?r.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),kK=new un("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let AK=0,PA=(()=>{class r extends SK{constructor(i,s,l,p,b){super(i),this._ngZone=s,this._animationMode=l,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new xn,this._animationEndSubscription=D.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+AK++;const R=p?p.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${R}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===l,b&&(b.color&&(this.color=this.defaultColor=b.color),this.mode=b.mode||this.mode)}get value(){return this._value}set value(i){this._value=d5(ey(i)||0)}get bufferValue(){return this._bufferValue}set bufferValue(i){this._bufferValue=d5(i||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const i=this._primaryValueBar.nativeElement;this._animationEndSubscription=jp(i,"transitionend").pipe(Hs(s=>s.target===i)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return r.\u0275fac=function(i){return new(i||r)(be(cr),be(gr),be(Pd,8),be(DK,8),be(kK,8))},r.\u0275cmp=fn({type:r,selectors:[["mat-progress-bar"]],viewQuery:function(i,s){if(1&i&&ms(CK,5),2&i){let l;Jn(l=tr())&&(s._primaryValueBar=l.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(i,s){2&i&&(Pr("aria-valuenow","indeterminate"===s.mode||"query"===s.mode?null:s.value)("mode",s.mode),Dr("_mat-animation-noopable",s._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[Qn],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(i,s){1&i&&(Qe(0,"div",0),sm(),Qe(1,"svg",1),Qe(2,"defs"),Qe(3,"pattern",2),On(4,"circle",3),ti(),ti(),On(5,"rect",4),ti(),t0(),On(6,"div",5),On(7,"div",6,7),On(9,"div",8),ti()),2&i&&(Ai(3),Pi("id",s.progressbarId),Ai(2),Pr("fill",s._rectangleFillValue),Ai(1),Pi("ngStyle",s._bufferTransform()),Ai(1),Pi("ngStyle",s._primaryTransform()))},directives:[EP],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),r})();function d5(r,n=0,i=100){return Math.max(n,Math.min(i,r))}let TK=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({imports:[[Lp,Bo],Bo]}),r})();function PK(r,n){if(1&r&&(Qe(0,"span"),Ji(1),T1(2,"date"),ti()),2&r){const i=_().$implicit;Ai(1),oa("",function(r,n,i,s){const l=r+20,p=Wi(),b=Gd(p,l);return o_(p,l)?MT(p,Ho(),n,b.transform,i,s,b):b.transform(i,s)}(2,1,i.date,"dd.MM.yyyy"),"\xa0")}}function IK(r,n){if(1&r&&(Qe(0,"div"),Mn(1,PK,3,4,"span",3),Qe(2,"span"),Ji(3),ti(),ti()),2&r){const i=n.$implicit,s=_();Ai(1),Pi("ngIf",s.isDateValid(i)),Ai(2),Ps(i.course)}}let RK=(()=>{class r{constructor(i){this.router=i}ngOnInit(){}openDetails(){this.router.navigate(["move",encodeURI(this.moveDto.name)])}isDateValid(i){var s;return(null==i?void 0:i.date)&&"Invalid Date"!==(null===(s=null==i?void 0:i.date)||void 0===s?void 0:s.toString())}}return r.\u0275fac=function(i){return new(i||r)(be(Kl))},r.\u0275cmp=fn({type:r,selectors:[["app-move-card"]],inputs:{moveDto:["move-dto","moveDto"]},decls:11,vars:3,consts:[[4,"ngFor","ngForOf"],["align","end"],["mat-button","",3,"click"],[4,"ngIf"]],template:function(i,s){1&i&&(Qe(0,"mat-card"),Qe(1,"mat-card-title"),Ji(2),ti(),Qe(3,"mat-card-subtitle"),Ji(4),ti(),Qe(5,"mat-card-content"),Mn(6,IK,4,2,"div",0),ti(),Qe(7,"mat-card-actions",1),Qe(8,"button",2),e("click",function(){return s.openDetails()}),Ji(9,"Details"),ti(),ti(),ti(),On(10,"mat-divider")),2&i&&(Ai(2),Ps(s.moveDto.name),Ai(2),Ps(s.moveDto.dance),Ai(2),Pi("ngForOf",s.moveDto.courseDates))},directives:[sU,nU,rU,iU,Jv,oU,uy,QW,Yh],pipes:[kP],styles:[""]}),r})();function OK(r,n){1&r&&On(0,"mat-progress-bar",2)}function NK(r,n){if(1&r&&(T0(0),On(1,"app-move-card",3),bf()),2&r){const i=n.$implicit;Ai(1),Pi("move-dto",i)}}let LK=(()=>{class r{constructor(i){this.dataManagerService=i,this.moves=[],this.allMoves=[],this.loaded=!1}ngOnInit(){var i=this;return Rd(function*(){yield i.dataManagerService.loading(),i.dataManagerService.movesObservable.subscribe(s=>{i.moves=s.sort(i.generateSortFn([{name:"dance"},{name:"order"}])),i.allMoves=JSON.parse(JSON.stringify(i.moves)),(null==s?void 0:s.length)>0&&(i.loaded=!0)}),i.dataManagerService.searchFilterObservable.subscribe(s=>i.moves=i.dataManagerService.selectMoves(i.allMoves,i.dataManagerService.getDances(),s))})()}generateSortFn(i){return(s,l)=>{for(var p=0;p<i.length;p++){var b=i[p],R=b.name,G=b.reverse;if(s[R]<l[R])return G?1:-1;if(s[R]>l[R])return G?-1:1}return 0}}}return r.\u0275fac=function(i){return new(i||r)(be(nx))},r.\u0275cmp=fn({type:r,selectors:[["app-move-cards-page"]],decls:2,vars:2,consts:[["mode","indeterminate",4,"ngIf"],[4,"ngFor","ngForOf"],["mode","indeterminate"],[3,"move-dto"]],template:function(i,s){1&i&&(Mn(0,OK,1,0,"mat-progress-bar",0),Mn(1,NK,2,1,"ng-container",1)),2&i&&(Pi("ngIf",!s.loaded),Ai(1),Pi("ngForOf",s.moves))},directives:[Yh,Jv,PA,RK],styles:[""]}),r})();var p5=kt(7674);const FK=["*"];var yM=(()=>{return(r=yM||(yM={})).CommandLine="command-line",r.LineHighlight="line-highlight",r.LineNumbers="line-numbers",yM;var r})();class VK{}const m5=new un("SECURITY_CONTEXT");let IA=(()=>{class r{constructor(i,s,l,p,b){this.platform=i,this.securityContext=s,this.http=l,this.sanitizer=b,this.initialMarkedOptions={renderer:new p5.Renderer},this.options=p}get options(){return this._options}set options(i){this._options=wn(wn({},this.initialMarkedOptions),i)}get renderer(){return this.options.renderer}set renderer(i){this.options.renderer=i}compile(i,s=!1,l=!1,p=this.options){const b=this.trimIndentation(i),R=s?this.decodeHtml(b):b,G=l?this.renderEmoji(R):R,ut=p5.parse(G,p);return this.sanitizer.sanitize(this.securityContext,ut)||""}getSource(i){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(i,{responseType:"text"}).pipe(J(s=>this.handleExtension(i,s)))}highlight(i){if(Lw(this.platform)&&"undefined"!=typeof Prism){i||(i=document);const s=i.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(s,l=>l.classList.add("language-none")),Prism.highlightAllUnder(i)}}renderKatex(i,s){if(!Lw(this.platform))return i;if("undefined"==typeof katex||void 0===katex.renderToString)throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");return i.replace(/\$([^\s][^$]*?[^\s])\$/gm,(l,p)=>katex.renderToString(p,s))}decodeHtml(i){if(!Lw(this.platform))return i;const s=document.createElement("textarea");return s.innerHTML=i,s.value}handleExtension(i,s){const l=i?i.split("?")[0].split(".").splice(-1).join():"";return"md"!==l?"```"+l+"\n"+s+"\n```":s}renderEmoji(i){if(!Lw(this.platform))return i;if("undefined"==typeof joypixels||void 0===joypixels.shortnameToUnicode)throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(i)}trimIndentation(i){if(!i)return"";let s;return i.split("\n").map(l=>{let p=s;return l.length>0&&(p=isNaN(p)?l.search(/\S|$/):Math.min(l.search(/\S|$/),p)),isNaN(s)&&(s=p),p?l.substring(p):l}).join("\n")}}return r.\u0275fac=function(i){return new(i||r)(pi(I1),pi(m5),pi(Jw,8),pi(VK,8),pi(V1))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})(),g5=(()=>{class r{constructor(i,s){this.element=i,this.markdownService=s,this.error=new xn,this.load=new xn,this.ready=new xn,this._commandLine=!1,this._emoji=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1}get emoji(){return this._emoji}set emoji(i){this._emoji=this.coerceBooleanProperty(i)}get katex(){return this._katex}set katex(i){this._katex=this.coerceBooleanProperty(i)}get lineHighlight(){return this._lineHighlight}set lineHighlight(i){this._lineHighlight=this.coerceBooleanProperty(i)}get lineNumbers(){return this._lineNumbers}set lineNumbers(i){this._lineNumbers=this.coerceBooleanProperty(i)}get commandLine(){return this._commandLine}set commandLine(i){this._commandLine=this.coerceBooleanProperty(i)}ngOnChanges(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion()}render(i,s=!1){let l=this.markdownService.compile(i,s,this.emoji);l=this.katex?this.markdownService.renderKatex(l,this.katexOptions):l,this.element.nativeElement.innerHTML=l,this.handlePlugins(),this.markdownService.highlight(this.element.nativeElement),this.ready.emit()}coerceBooleanProperty(i){return null!=i&&"false"!=`${String(i)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe(i=>{this.render(i),this.load.emit(i)},i=>this.error.emit(i))}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,yM.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,yM.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(i,s){const l=i.querySelectorAll("pre");for(let p=0;p<l.length;p++){const b=s instanceof Array?s:[s];l.item(p).classList.add(...b)}}setPluginOptions(i,s){const l=i.querySelectorAll("pre");for(let p=0;p<l.length;p++)Object.keys(s).forEach(b=>{const R=s[b];if(R){const G=this.toLispCase(b);l.item(p).setAttribute(G,R.toString())}})}toLispCase(i){const s=i.match(/([A-Z])/g);if(!s)return i;let l=i.toString();for(let p=0,b=s.length;p<b;p++)l=l.replace(new RegExp(s[p]),"-"+s[p].toLowerCase());return"-"===l.slice(0,1)&&(l=l.slice(1)),l}}return r.\u0275fac=function(i){return new(i||r)(be(cr),be(IA))},r.\u0275cmp=fn({type:r,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[Hr],ngContentSelectors:FK,decls:1,vars:0,template:function(i,s){1&i&&(I(),B(0))},encapsulation:2}),r})(),GK=(()=>{class r{static forRoot(i){return{ngModule:r,providers:[IA,i&&i.loader||[],i&&i.markedOptions||[],{provide:m5,useValue:i&&null!=i.sanitize?i.sanitize:xr.HTML}]}}static forChild(){return{ngModule:r}}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({}),r})();function WK(r,n){1&r&&On(0,"mat-progress-bar",2)}function YK(r,n){1&r&&(Qe(0,"mat-error"),Ji(1," Name must be unique "),ti())}function $K(r,n){1&r&&(Qe(0,"mat-error"),Ji(1," Name is "),Qe(2,"strong"),Ji(3,"required"),ti(),ti())}function XK(r,n){if(1&r&&(Qe(0,"mat-option",28),Ji(1),ti()),2&r){const i=n.$implicit;Pi("value",i),Ai(1),Ps(i)}}function KK(r,n){if(1&r&&(Qe(0,"mat-option",28),Ji(1),ti()),2&r){const i=n.$implicit;Pi("value",i),Ai(1),Ps(i)}}function ZK(r,n){if(1&r&&(Qe(0,"mat-option",28),Ji(1),ti()),2&r){const i=n.$implicit;Pi("value",i),Ai(1),oa(" ",i," ")}}function qK(r,n){if(1&r&&(Qe(0,"mat-option",28),Ji(1),ti()),2&r){const i=n.$implicit;Pi("value",i),Ai(1),oa(" ",i," ")}}function QK(r,n){if(1&r&&(Qe(0,"mat-option",28),Ji(1),ti()),2&r){const i=n.$implicit;Pi("value",i),Ai(1),oa(" ",i," ")}}function JK(r,n){if(1&r&&(Qe(0,"mat-option",28),Ji(1),ti()),2&r){const i=n.$implicit;Pi("value",i),Ai(1),oa(" ",i," ")}}function tZ(r,n){if(1&r&&(Qe(0,"mat-optgroup",29),Mn(1,JK,2,2,"mat-option",8),ti()),2&r){const i=n.$implicit;Pi("label",i.dance),Ai(1),Pi("ngForOf",i.names)}}function eZ(r,n){1&r&&(Qe(0,"mat-form-field",4),Qe(1,"mat-label"),Ji(2,"ToDo"),ti(),On(3,"input",30),ti())}function iZ(r,n){if(1&r&&(Qe(0,"mat-option",28),Ji(1),ti()),2&r){const i=n.$implicit;Pi("value",i),Ai(1),Ps(i)}}function nZ(r,n){if(1&r&&(Qe(0,"div",31),Qe(1,"mat-form-field",9),Qe(2,"mat-label"),Ji(3),ti(),Qe(4,"mat-select",32),Qe(5,"mat-option"),Ji(6,"None"),ti(),Mn(7,iZ,2,2,"mat-option",8),ti(),ti(),Qe(8,"mat-form-field",9),Qe(9,"mat-label"),Ji(10),ti(),On(11,"input",33),On(12,"mat-datepicker-toggle",34),On(13,"mat-datepicker",null,35),ti(),ti()),2&r){const i=n.index,s=Oh(14),l=_(2);Pi("formGroupName",i),Ai(3),oa("Course ",i,""),Ai(4),Pi("ngForOf",l.courseNames),Ai(3),oa("Date ",i,""),Ai(1),Pi("matDatepicker",s),Ai(1),Pi("for",s)}}function rZ(r,n){if(1&r){const i=Qa();Qe(0,"button",36),e("click",function(){return Qo(i),_(2).addCourseDateForm()}),Qe(1,"mat-icon"),Ji(2,"add_circle_outline"),ti(),Ji(3,"Add Course Date "),ti()}}function oZ(r,n){1&r&&(Qe(0,"mat-form-field",37),Qe(1,"mat-label"),Ji(2,"Description"),ti(),On(3,"textarea",38),ti())}function sZ(r,n){1&r&&(Qe(0,"button",39),Ji(1,"Save"),ti()),2&r&&Pi("disabled",_(2).moveForm.invalid)}function aZ(r,n){if(1&r){const i=Qa();Qe(0,"form",3),e("ngSubmit",function(){return Qo(i),_().onSubmit()}),Qe(1,"mat-form-field",4),Qe(2,"mat-label"),Ji(3,"Name"),ti(),On(4,"input",5),Mn(5,YK,2,0,"mat-error",6),Mn(6,$K,4,0,"mat-error",6),ti(),Qe(7,"mat-form-field",4),Qe(8,"mat-label"),Ji(9,"Dance"),ti(),Qe(10,"mat-select",7),Mn(11,XK,2,2,"mat-option",8),ti(),ti(),Qe(12,"mat-form-field",9),Qe(13,"mat-label"),Ji(14,"Order"),ti(),On(15,"input",10),ti(),Qe(16,"mat-form-field",9),Qe(17,"mat-label"),Ji(18,"Count"),ti(),On(19,"input",11),ti(),Qe(20,"mat-form-field",9),Qe(21,"mat-label"),Ji(22,"Type"),ti(),Qe(23,"mat-select",12),Mn(24,KK,2,2,"mat-option",8),ti(),ti(),Qe(25,"mat-checkbox",13),Ji(26,"Name Verified"),ti(),Qe(27,"mat-form-field",4),Qe(28,"mat-label"),Ji(29,"Start Move"),ti(),Qe(30,"mat-select",14),Mn(31,ZK,2,2,"mat-option",8),ti(),ti(),Qe(32,"mat-form-field",4),Qe(33,"mat-label"),Ji(34,"End Move"),ti(),Qe(35,"mat-select",15),Mn(36,qK,2,2,"mat-option",8),ti(),ti(),Qe(37,"mat-form-field",4),Qe(38,"mat-label"),Ji(39,"Related Moves"),ti(),Qe(40,"mat-select",16),Mn(41,QK,2,2,"mat-option",8),ti(),ti(),Qe(42,"mat-form-field",4),Qe(43,"mat-label"),Ji(44,"Related Moves Other Dances"),ti(),Qe(45,"mat-select",17),Mn(46,tZ,2,2,"mat-optgroup",18),ti(),ti(),Mn(47,eZ,4,0,"mat-form-field",19),Qe(48,"mat-form-field",4),Qe(49,"mat-label"),Ji(50,"links"),ti(),On(51,"input",20),ti(),Qe(52,"div",21),Mn(53,nZ,15,6,"div",22),Mn(54,rZ,4,0,"button",23),ti(),Qe(55,"mat-form-field",4),Qe(56,"mat-label"),Ji(57,"videoname"),ti(),Qe(58,"textarea",24),Ji(59,'    </mat-form-field>\n   \n    <mat-form-field *ngIf="!readonly">\n        <mat-label>the field that nobody sees</mat-label>\n        <textarea>'),ti(),ti(),Mn(60,oZ,4,0,"mat-form-field",25),On(61,"div",26),Mn(62,sZ,2,1,"button",27),ti()}if(2&r){const i=_();let s,l;Pi("formGroup",i.moveForm),Ai(5),Pi("ngIf",(null==(s=i.moveForm.get("name"))?null:s.hasError("nameExists"))&&!(null!=(s=i.moveForm.get("name"))&&s.hasError("required"))),Ai(1),Pi("ngIf",null==(l=i.moveForm.get("name"))?null:l.hasError("required")),Ai(5),Pi("ngForOf",i.dances),Ai(13),Pi("ngForOf",i.types),Ai(7),Pi("ngForOf",i.danceMovesNames),Ai(5),Pi("ngForOf",i.danceMovesNames),Ai(5),Pi("ngForOf",i.danceMovesNames),Ai(5),Pi("ngForOf",i.movesGroup),Ai(1),Pi("ngIf",!i.readonly),Ai(6),Pi("ngForOf",i.getCourseDateControls()),Ai(1),Pi("ngIf",!i.readonly),Ai(6),Pi("ngIf",!i.readonly),Ai(1),Pi("data",i.moveForm.value.description),Ai(1),Pi("ngIf",!i.readonly)}}let lZ=(()=>{class r{constructor(i,s,l){this.route=i,this.dataManager=s,this.settings=l,this.dances=new Set,this.types=new Set,this.courseNames=new Set,this.moveForm=new oy({name:new ns("",[zw.required,this.nameExistsValidator()]),dance:new ns("",zw.required),date:new ns(null),order:new ns(""),count:new ns(""),nameVerified:new ns(""),type:new ns("Figur",zw.required),startMove:new ns([]),endMove:new ns([]),relatedMoves:new ns([]),relatedMovesOtherDances:new ns([]),videoname:new ns(""),description:new ns(""),toDo:new ns(""),links:new ns(""),row:new ns(""),courseDates:new B4([])}),this.otherMovesNames=new Set,this.danceMovesNames=new Set,this.loaded=!1,this.nameParam="",this.readonly=!1,this.createCourseDateForm=()=>new oy({course:new ns(""),date:new ns(null),row:new ns("")}),this.addCourseDateForm=()=>{this.moveForm.get("courseDates").push(this.createCourseDateForm())},this.removeOrClearCourseDate=p=>{const b=this.moveForm.get("courseDates");b.length>1?b.removeAt(p):b.reset()}}ngOnInit(){this.route.paramMap.subscribe(i=>{this.init(i)}),this.moveForm.valueChanges.subscribe(i=>{console.log(i)}),this.dataManager.getGroupedMoveNames().subscribe(i=>{this.movesGroup=i})}init(i){var s=this;return Rd(function*(){yield s.dataManager.loading(),s.dances=s.dataManager.getDances(),s.types=s.dataManager.getTypes(),s.courseNames=s.dataManager.getCourseNames(),s.otherMovesNames=s.dataManager.getMovesNames(),s.otherMovesNames.add("new"),i.has("name")&&(s.nameParam=i.get("name"),s.nameParam=decodeURI(s.nameParam),"new"==s.nameParam?s.move&&(s.moveForm.reset(),s.move=JSON.parse(JSON.stringify(s.move)),s.move&&(s.move.row=NaN)):(s.move=s.dataManager.getMove(s.nameParam),s.move&&(s.move.courseDates.forEach(s.addCourseDateForm),s.otherMovesNames.delete(s.move.name))),s.moveForm.valueChanges.subscribe(l=>{var p;s.move=l,s.danceMovesNames=s.dataManager.getMovesNamesOf(null===(p=s.move)||void 0===p?void 0:p.dance)}),s.move&&s.moveForm.patchValue(s.move),s.moveForm.updateValueAndValidity(),s.settings.secretWrite||(s.moveForm.disable(),s.readonly=!0),s.loaded=!0)})()}getCourseDateControls(){return this.moveForm.get("courseDates").controls}onSubmit(){this.moveForm.valid&&this.move&&(this.loaded=!1,this.readonly=!0,this.moveForm.disable(),this.dataManager.saveOrCreate(this.move).subscribe(i=>{this.moveForm.patchValue(i),this.loaded=!0,this.readonly=!1,this.moveForm.enable()}))}nameExistsValidator(){return i=>{var s;return(null===(s=this.otherMovesNames)||void 0===s?void 0:s.has(i.value))?{nameExists:{value:i.value}}:null}}}return r.\u0275fac=function(i){return new(i||r)(be(U0),be(nx),be(vM))},r.\u0275cmp=fn({type:r,selectors:[["app-move-page"]],decls:2,vars:2,consts:[["mode","indeterminate",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],["mode","indeterminate"],[3,"formGroup","ngSubmit"],["appearance","fill",1,"full-width-adaptive"],["matInput","","formControlName","name"],[4,"ngIf"],["formControlName","dance"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill",1,"half-width"],["type","number","matInput","","formControlName","order"],["type","number","matInput","","formControlName","count"],["formControlName","type"],["formControlName","nameVerified",1,"half-width"],["formControlName","startMove","multiple",""],["formControlName","endMove","multiple",""],["formControlName","relatedMoves","multiple",""],["formControlName","relatedMovesOtherDances","multiple",""],[3,"label",4,"ngFor","ngForOf"],["appearance","fill","class","full-width-adaptive",4,"ngIf"],["matInput","","formControlName","links"],["formArrayName","courseDates"],["class","full-width",3,"formGroupName",4,"ngFor","ngForOf"],["mat-icon-button","","color","primary","type","button","aria-label","Add","matTooltip","Add Course Date",3,"click",4,"ngIf"],["cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","100","matInput","","formControlName","videoname"],["appearance","fill","class","full-width",4,"ngIf"],["markdown","",3,"data"],["mat-raised-button","","color","primary","type","submit",3,"disabled",4,"ngIf"],[3,"value"],[3,"label"],["matInput","","formControlName","toDo"],[1,"full-width",3,"formGroupName"],["formControlName","course"],["matInput","","formControlName","date",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["mat-icon-button","","color","primary","type","button","aria-label","Add","matTooltip","Add Course Date",3,"click"],["appearance","fill",1,"full-width"],["cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","100","matInput","","formControlName","description"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(i,s){1&i&&(Mn(0,WK,1,0,"mat-progress-bar",0),Mn(1,aZ,63,15,"form",1)),2&i&&(Pi("ngIf",!s.loaded),Ai(1),Pi("ngIf",s.loaded||s.move))},directives:[Yh,PA,B_,I_,mg,UC,Zw,Hk,jw,P_,Uw,oA,Jv,jE,VI,lC,FG,g5,EG,Y_,OI,aC,qk,CW,IG,yW,uy,z8],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.full-width-adaptive[_ngcontent-%COMP%]{width:100%;max-width:500px}.half-width[_ngcontent-%COMP%]{width:50%;max-width:250px}.mat-input-element[_ngcontent-%COMP%]:disabled, .mat-form-field-type-mat-native-select.mat-form-field-disabled[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]:after{color:#fff}.mat-select-disabled[_ngcontent-%COMP%]     .mat-select-value{color:#fff}"]}),r})();var uZ=kt(6912),Is=kt(6961),v5=kt(4317);function Zl(r){for(var n=arguments.length,i=Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];throw Error("[Immer] minified error nr: "+r+(i.length?" "+i.map(function(b){return"'"+b+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Sg(r){return!!r&&!!r[co]}function G0(r){return!!r&&(function(n){if(!n||"object"!=typeof n)return!1;var i=Object.getPrototypeOf(n);if(null===i)return!0;var s=Object.hasOwnProperty.call(i,"constructor")&&i.constructor;return s===Object||"function"==typeof s&&Function.toString.call(s)===yZ}(r)||Array.isArray(r)||!!r[_M]||!!r.constructor[_M]||MS(r)||CS(r))}function Dg(r,n,i){void 0===i&&(i=!1),0===dy(r)?(i?Object.keys:rb)(r).forEach(function(s){i&&"symbol"==typeof s||n(s,r[s],r)}):r.forEach(function(s,l){return n(l,s,r)})}function dy(r){var n=r[co];return n?n.i>3?n.i-4:n.i:Array.isArray(r)?1:MS(r)?2:CS(r)?3:0}function py(r,n){return 2===dy(r)?r.has(n):Object.prototype.hasOwnProperty.call(r,n)}function y5(r,n,i){var s=dy(r);2===s?r.set(n,i):3===s?(r.delete(n),r.add(i)):r[n]=i}function MS(r){return gZ&&r instanceof Map}function CS(r){return vZ&&r instanceof Set}function ql(r){return r.o||r.t}function RA(r){if(Array.isArray(r))return Array.prototype.slice.call(r);var n=D5(r);delete n[co];for(var i=rb(n),s=0;s<i.length;s++){var l=i[s],p=n[l];!1===p.writable&&(p.writable=!0,p.configurable=!0),(p.get||p.set)&&(n[l]={configurable:!0,writable:!0,enumerable:p.enumerable,value:r[l]})}return Object.create(Object.getPrototypeOf(r),n)}function OA(r,n){return void 0===n&&(n=!1),NA(r)||Sg(r)||!G0(r)||(dy(r)>1&&(r.set=r.add=r.clear=r.delete=hZ),Object.freeze(r),n&&Dg(r,function(i,s){return OA(s,!0)},!0)),r}function hZ(){Zl(2)}function NA(r){return null==r||"object"!=typeof r||Object.isFrozen(r)}function Eg(r){var n=GA[r];return n||Zl(18,r),n}function xM(){return bM}function FA(r,n){n&&(Eg("Patches"),r.u=[],r.s=[],r.v=n)}function SS(r){BA(r),r.p.forEach(cZ),r.p=null}function BA(r){r===bM&&(bM=r.l)}function w5(r){return bM={p:[],l:bM,h:r,m:!0,_:0}}function cZ(r){var n=r[co];0===n.i||1===n.i?n.j():n.O=!0}function VA(r,n){n._=n.p.length;var i=n.p[0],s=void 0!==r&&r!==i;return n.h.g||Eg("ES5").S(n,r,s),s?(i[co].P&&(SS(n),Zl(4)),G0(r)&&(r=DS(n,r),n.l||ES(n,r)),n.u&&Eg("Patches").M(i[co],r,n.u,n.s)):r=DS(n,i,[]),SS(n),n.u&&n.v(n.u,n.s),r!==UA?r:void 0}function DS(r,n,i){if(NA(n))return n;var s=n[co];if(!s)return Dg(n,function(p,b){return b5(r,s,n,p,b,i)},!0),n;if(s.A!==r)return n;if(!s.P)return ES(r,s.t,!0),s.t;if(!s.I){s.I=!0,s.A._--;var l=4===s.i||5===s.i?s.o=RA(s.k):s.o;Dg(3===s.i?new Set(l):l,function(p,b){return b5(r,s,l,p,b,i)}),ES(r,l,!1),i&&r.u&&Eg("Patches").R(s,i,r.u,r.s)}return s.o}function b5(r,n,i,s,l,p){if(Sg(l)){var b=DS(r,l,p&&n&&3!==n.i&&!py(n.D,s)?p.concat(s):void 0);if(y5(i,s,b),!Sg(b))return;r.m=!1}if(G0(l)&&!NA(l)){if(!r.h.F&&r._<1)return;DS(r,l),n&&n.A.l||ES(r,l)}}function ES(r,n,i){void 0===i&&(i=!1),r.h.F&&r.m&&OA(n,i)}function jA(r,n){var i=r[co];return(i?ql(i):r)[n]}function _5(r,n){if(n in r)for(var i=Object.getPrototypeOf(r);i;){var s=Object.getOwnPropertyDescriptor(i,n);if(s)return s;i=Object.getPrototypeOf(i)}}function Uc(r){r.P||(r.P=!0,r.l&&Uc(r.l))}function zA(r){r.o||(r.o=RA(r.t))}function wM(r,n,i){var s=MS(n)?Eg("MapSet").N(n,i):CS(n)?Eg("MapSet").T(n,i):r.g?function(l,p){var b=Array.isArray(l),R={i:b?1:0,A:p?p.A:xM(),P:!1,I:!1,D:{},l:p,t:l,k:null,o:null,j:null,C:!1},G=R,ut=ob;b&&(G=[R],ut=AS);var St=Proxy.revocable(G,ut),Ut=St.revoke,Jt=St.proxy;return R.k=Jt,R.j=Ut,Jt}(n,i):Eg("ES5").J(n,i);return(i?i.A:xM()).p.push(s),s}function M5(r,n){switch(n){case 2:return new Map(r);case 3:return Array.from(r)}return RA(r)}var C5,bM,HA="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),gZ="undefined"!=typeof Map,vZ="undefined"!=typeof Set,S5="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,UA=HA?Symbol.for("immer-nothing"):((C5={})["immer-nothing"]=!0,C5),_M=HA?Symbol.for("immer-draftable"):"__$immer_draftable",co=HA?Symbol.for("immer-state"):"__$immer_state",yZ=("undefined"!=typeof Symbol&&Symbol,""+Object.prototype.constructor),rb="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:Object.getOwnPropertyNames,D5=Object.getOwnPropertyDescriptors||function(r){var n={};return rb(r).forEach(function(i){n[i]=Object.getOwnPropertyDescriptor(r,i)}),n},GA={},ob={get:function(r,n){if(n===co)return r;var l,R,G,i=ql(r);if(!py(i,n))return l=r,(G=_5(i,n))?"value"in G?G.value:null===(R=G.get)||void 0===R?void 0:R.call(l.k):void 0;var s=i[n];return r.I||!G0(s)?s:s===jA(r.t,n)?(zA(r),r.o[n]=wM(r.A.h,s,r)):s},has:function(r,n){return n in ql(r)},ownKeys:function(r){return Reflect.ownKeys(ql(r))},set:function(r,n,i){var s=_5(ql(r),n);if(null==s?void 0:s.set)return s.set.call(r.k,i),!0;if(!r.P){var l=jA(ql(r),n),p=null==l?void 0:l[co];if(p&&p.t===i)return r.o[n]=i,r.D[n]=!1,!0;if(function(r,n){return r===n?0!==r||1/r==1/n:r!=r&&n!=n}(i,l)&&(void 0!==i||py(r.t,n)))return!0;zA(r),Uc(r)}return r.o[n]===i&&"number"!=typeof i&&(void 0!==i||n in r.o)||(r.o[n]=i,r.D[n]=!0,!0)},deleteProperty:function(r,n){return void 0!==jA(r.t,n)||n in r.t?(r.D[n]=!1,zA(r),Uc(r)):delete r.D[n],r.o&&delete r.o[n],!0},getOwnPropertyDescriptor:function(r,n){var i=ql(r),s=Reflect.getOwnPropertyDescriptor(i,n);return s&&{writable:!0,configurable:1!==r.i||"length"!==n,enumerable:s.enumerable,value:i[n]}},defineProperty:function(){Zl(11)},getPrototypeOf:function(r){return Object.getPrototypeOf(r.t)},setPrototypeOf:function(){Zl(12)}},AS={};Dg(ob,function(r,n){AS[r]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}}),AS.deleteProperty=function(r,n){return ob.deleteProperty.call(this,r[0],n)},AS.set=function(r,n,i){return ob.set.call(this,r[0],n,i,r[0])};var Rf=new(function(){function r(i){var s=this;this.g=S5,this.F=!0,this.produce=function(l,p,b){if("function"==typeof l&&"function"!=typeof p){var R=p;p=l;var G=s;return function(se){var pe=this;void 0===se&&(se=R);for(var Ue=arguments.length,Ge=Array(Ue>1?Ue-1:0),vi=1;vi<Ue;vi++)Ge[vi-1]=arguments[vi];return G.produce(se,function(gi){var Zi;return(Zi=p).call.apply(Zi,[pe,gi].concat(Ge))})}}var ut;if("function"!=typeof p&&Zl(6),void 0!==b&&"function"!=typeof b&&Zl(7),G0(l)){var St=w5(s),Ut=wM(s,l,void 0),Jt=!0;try{ut=p(Ut),Jt=!1}finally{Jt?SS(St):BA(St)}return"undefined"!=typeof Promise&&ut instanceof Promise?ut.then(function(se){return FA(St,b),VA(se,St)},function(se){throw SS(St),se}):(FA(St,b),VA(ut,St))}if(!l||"object"!=typeof l)return(ut=p(l))===UA?void 0:(void 0===ut&&(ut=l),s.F&&OA(ut,!0),ut);Zl(21,l)},this.produceWithPatches=function(l,p){return"function"==typeof l?function(G){for(var ut=arguments.length,St=Array(ut>1?ut-1:0),Ut=1;Ut<ut;Ut++)St[Ut-1]=arguments[Ut];return s.produceWithPatches(G,function(Jt){return l.apply(void 0,[Jt].concat(St))})}:[s.produce(l,p,function(G,ut){b=G,R=ut}),b,R];var b,R},"boolean"==typeof(null==i?void 0:i.useProxies)&&this.setUseProxies(i.useProxies),"boolean"==typeof(null==i?void 0:i.autoFreeze)&&this.setAutoFreeze(i.autoFreeze)}var n=r.prototype;return n.createDraft=function(i){G0(i)||Zl(8),Sg(i)&&(i=function(r){return Sg(r)||Zl(22,r),function n(i){if(!G0(i))return i;var s,l=i[co],p=dy(i);if(l){if(!l.P&&(l.i<4||!Eg("ES5").K(l)))return l.t;l.I=!0,s=M5(i,p),l.I=!1}else s=M5(i,p);return Dg(s,function(b,R){l&&function(r,n){return 2===dy(r)?r.get(n):r[n]}(l.t,b)===R||y5(s,b,n(R))}),3===p?new Set(s):s}(r)}(i));var s=w5(this),l=wM(this,i,void 0);return l[co].C=!0,BA(s),l},n.finishDraft=function(i,s){var p=(i&&i[co]).A;return FA(p,s),VA(void 0,p)},n.setAutoFreeze=function(i){this.F=i},n.setUseProxies=function(i){i&&!S5&&Zl(20),this.g=i},n.applyPatches=function(i,s){var l;for(l=s.length-1;l>=0;l--){var p=s[l];if(0===p.path.length&&"replace"===p.op){i=p.value;break}}l>-1&&(s=s.slice(l+1));var b=Eg("Patches").$;return Sg(i)?b(i,s):this.produce(i,function(R){return b(R,s)})},r}()),wZ=Rf.produce;Rf.produceWithPatches.bind(Rf),Rf.setAutoFreeze.bind(Rf),Rf.setUseProxies.bind(Rf),Rf.applyPatches.bind(Rf),Rf.createDraft.bind(Rf),Rf.finishDraft.bind(Rf);const E5=wZ,bZ=["ngDiagram"];class kg{constructor(){}static makeMouseMoveRunOutsideAngularZone(n,i){n.addEventListener=(s,l,p,b)=>{const R=Is.Diagram.prototype.addEventListener;"mousemove"===l?i.runOutsideAngular(()=>R.call(this,s,l,p,b)):i.run(()=>{R.call(this,s,l,p,b)})}}static initializeModel(n,i,s,l){n.delayInitialization(()=>{n.model.commit(b=>{l&&b.assignAllDataProperties(b.modelData,l),b.mergeNodeDataArray(b.cloneDeep(i)),s&&b instanceof Is.GraphLinksModel&&b.mergeLinkDataArray(b.cloneDeep(s))},null)})}static initializeModelChangedListener(n){var i=null;!n.hasOwnProperty("diagram")&&!n.hasOwnProperty("palette")||(n.hasOwnProperty("diagram")&&(i=n.diagram),n.hasOwnProperty("palette")&&(i=n.palette),n.modelChangedListener=s=>{s.isTransactionFinished&&s.model&&!s.model.isReadOnly&&n.modelChange&&n.zone.run(()=>{const l=s.model.toIncrementalData(s);null!==l&&n.modelChange.emit(l)})},i.addModelChangedListener(n.modelChangedListener))}static mergeAppDataWithModel(n,i){var s=null;n.hasOwnProperty("diagram")&&(s=n.diagram),n.hasOwnProperty("palette")&&(s=n.palette),s.model.commit(l=>{i&&(s.model.modelData={}),s.model.assignAllDataProperties(s.model.modelData,n.modelData),i&&(s.model.nodeDataArray=[]),s.model.mergeNodeDataArray(n.nodeDataArray),n.linkDataArray&&s.model instanceof Is.GraphLinksModel&&(i&&(s.model.linkDataArray=[]),s.model.mergeLinkDataArray(n.linkDataArray))},i?null:"update data")}}let CZ=(()=>{class r{constructor(i){this.zone=i,this.linkDataArray=null,this.modelData=null,this.modelChangedListener=null,this.skipsDiagramUpdate=!1,this.modelChange=new xn,this.diagram=null,this.wasCleared=!1}ngAfterViewInit(){if(!this.diagramDiv)throw new Error("diagramDiv is not defined");if(this.diagram=this.initDiagram(),!(this.diagram instanceof Is.Diagram))throw new Error("initDiagram function did not return a go.Diagram");kg.makeMouseMoveRunOutsideAngularZone(this.diagram,this.zone);const i=this.diagramDiv.nativeElement;null!==i&&(this.diagram.div=i,kg.initializeModel(this.diagram,this.nodeDataArray,this.linkDataArray,this.modelData),kg.initializeModelChangedListener(this))}ngOnChanges(){!this.diagram||!this.diagram.model||this.skipsDiagramUpdate||(this.wasCleared?(this.diagram.delayInitialization(()=>{kg.mergeAppDataWithModel(this,!0)}),this.wasCleared=!1):kg.mergeAppDataWithModel(this))}clear(){const i=this.diagram;null!==i&&(i.clear(),this.wasCleared=!0)}ngOnDestroy(){this.diagram.div=null}}return r.\u0275fac=function(i){return new(i||r)(be(gr))},r.\u0275cmp=fn({type:r,selectors:[["gojs-diagram"]],viewQuery:function(i,s){if(1&i&&ms(bZ,7),2&i){let l;Jn(l=tr())&&(s.diagramDiv=l.first)}},inputs:{linkDataArray:"linkDataArray",modelData:"modelData",skipsDiagramUpdate:"skipsDiagramUpdate",initDiagram:"initDiagram",nodeDataArray:"nodeDataArray",divClassName:"divClassName"},outputs:{modelChange:"modelChange"},features:[Hr],decls:2,vars:1,consts:[[3,"className"],["ngDiagram",""]],template:function(i,s){1&i&&On(0,"div",0,1),2&i&&Pi("className",s.divClassName)},encapsulation:2}),r})(),SZ=(()=>{class r{static syncNodeData(i,s,l){if(!i||!i.modifiedNodeData&&!i.insertedNodeKeys&&!i.removedNodeKeys)return s;const p=new Is.Map;return E5(s,R=>{if(i.modifiedNodeData&&i.modifiedNodeData.forEach(G=>{const ut=l?l.getKeyForNodeData(G):G.key;p.set(ut,G);for(let St=0;St<s.length;St++){const Ut=s[St];(l?l.getKeyForNodeData(Ut):Ut.key)===ut&&(R[St]=G)}}),i.insertedNodeKeys&&i.insertedNodeKeys.forEach(G=>{const ut=p.get(G);ut&&R.push(ut)}),i.removedNodeKeys)return R.filter(G=>{const ut=l?l.getKeyForNodeData(G):G.key;return!i.removedNodeKeys.includes(ut)})})}static syncLinkData(i,s,l){if(!i||!i.modifiedLinkData&&!i.insertedLinkKeys&&!i.removedLinkKeys)return s;const p=new Is.Map;return s=E5(s,b=>{if(i.modifiedLinkData&&i.modifiedLinkData.forEach(R=>{const G=l?l.getKeyForLinkData(R):R.key;p.set(G,R);for(let ut=0;ut<s.length;ut++){const St=s[ut];(l?l.getKeyForLinkData(St):St.key)===G&&(b[ut]=R)}}),i.insertedLinkKeys&&i.insertedLinkKeys.forEach(R=>{const G=p.get(R);G&&b.push(G)}),i.removedLinkKeys)return b.filter(R=>{const G=l?l.getKeyForLinkData(R):R.key;return!i.removedLinkKeys.includes(G)})})}static syncModelData(i,s){return i&&i.modelData?i.modelData?i.modelData:void 0:s}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=Ki({token:r,factory:r.\u0275fac}),r})(),DZ=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({providers:[SZ],imports:[[]]}),r})();const EZ=["chartHighchart"],kZ=["chartCytoscape"];function AZ(r,n){1&r&&On(0,"mat-progress-bar",5)}function TZ(r,n){if(1&r){const i=Qa();Qe(0,"gojs-diagram",6),e("modelChange",function(l){return Qo(i),_().diagramModelChange(l)}),ti()}if(2&r){const i=_();Pi("initDiagram",i.createGojsDiagram)("nodeDataArray",i.gojsState.diagramNodeData)("linkDataArray",i.gojsState.diagramLinkData)("modelData",i.gojsState.diagramModelData)("skipsDiagramUpdate",i.gojsState.skipsDiagramUpdate)}}let PZ=(()=>{class r{constructor(i,s){this.dataManagerService=i,this.router=s,this.loaded=!1,this.show="",this.gojsState={diagramNodeData:[],diagramLinkData:[],diagramModelData:{prop:"value"},skipsDiagramUpdate:!1},this.diagramModelChange=function(l){console.log(l)},kt(742)(v5)}ngOnInit(){var i=this;return Rd(function*(){yield i.dataManagerService.loading(),i.loaded=!0,i.valueChangesSubscription=i.dataManagerService.relationsSelectionObservable.pipe(ch(s=>i.dataManagerService.getRelationPairs(s.relationTypes))).subscribe(s=>{i.dataManagerService.relationsSelectionObservable.value.displayType===Cg.highchartsNetworkgraph?(i.show="Highchart",i.createHighchart(s)):i.dataManagerService.relationsSelectionObservable.value.displayType===Cg.cytoscape?(i.show="Cytoscape",i.createCytoscape(s)):(i.show="Gojs",i.updateGojsDiagram(s))})})()}createHighchart(i){v5.chart(this.chartViewChildHighchart.nativeElement,{chart:{type:"networkgraph",plotBorderWidth:0,backgroundColor:"transparent"},title:{text:"Relations",style:{fontFamily:"monospace",color:"#fff"}},plotOptions:{networkgraph:{keys:["from","to"],layoutAlgorithm:{enableSimulation:!1,integration:"verlet",linkLength:100}}},series:[{name:"K8",marker:{radius:20,fillColor:"#c2185b"},dataLabels:{enabled:!0,textPath:{enabled:!0,attributes:{dy:9,startOffset:"45%",fill:"#fff"}},style:{fontSize:"9",fontWeight:"100"},linkFormat:"",allowOverlap:!0},data:i}]})}updateGojsDiagram(i){const s=Array.from(new Set(i.flatMap(p=>[p.from,p.to])).values()).map(p=>({id:p,text:p}));this.gojsState={diagramNodeData:s,diagramLinkData:i,diagramModelData:{prop:"value"},skipsDiagramUpdate:!1},console.log(this.gojsState)}createGojsDiagram(){const i=Is.GraphObject.make,s=i(Is.Diagram,{"undoManager.isEnabled":!0,model:i(Is.GraphLinksModel,{nodeKeyProperty:"id",linkKeyProperty:"key"}),initialAutoScale:Is.Diagram.Uniform,contentAlignment:Is.Spot.Center,layout:i(Is.ForceDirectedLayout,{maxIterations:200,defaultSpringLength:30,defaultElectricalCharge:100})});return s.nodeTemplate=i(Is.Node,"Auto",{locationSpot:Is.Spot.Center},i(Is.Shape,"Rectangle",{fill:i(Is.Brush,"Linear",{0:"#c2185b",1:"#c2185b"})}),i(Is.TextBlock,{font:"bold 10pt helvetica, bold arial, sans-serif",margin:4},new Is.Binding("text","text"))),s.linkTemplate=i(Is.Link,i(Is.Shape,{stroke:"white"}),i(Is.Shape,{toArrow:"standard",stroke:"white"}),i(Is.Panel,"Auto",i(Is.TextBlock,{textAlign:"center",font:"10pt helvetica, arial, sans-serif",stroke:"#555555",margin:4},new Is.Binding("text","text")))),s}createCytoscape(i){const s=Array.from(new Set(i.flatMap(b=>[b.from,b.to])).values()).map(b=>({data:{id:b,width:10*b.length}})),l=i.map(b=>({data:{id:b.from+b.to,source:b.from,target:b.to}})),p={container:this.chartViewChildCytoscape.nativeElement,elements:[...s,...l],style:[{selector:"node",style:{label:"data(id)",height:30,width:"data(width)","border-color":"#000","border-width":3,"border-opacity":.5,"background-color":"#c2185b",color:"#ccc","text-wrap":"wrap","text-halign":"center","text-valign":"center",shape:"roundrectangle"}},{selector:"edge",style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}}],layout:{name:"cose",nodeDimensionsIncludeLabels:!0,nodeRepulsion:b=>1e7}};if(this.cy)return this.cy.json(p),void this.cy.layout(p.layout).run();this.cy=uZ(p),this.cy.on("tap","node",b=>{this.router.navigate(["move",b.target.id()],{queryParamsHandling:"merge"})})}ngOnDestroy(){var i;null===(i=this.valueChangesSubscription)||void 0===i||i.unsubscribe()}}return r.\u0275fac=function(i){return new(i||r)(be(nx),be(Kl))},r.\u0275cmp=fn({type:r,selectors:[["ng-component"]],viewQuery:function(i,s){if(1&i&&(ms(EZ,5),ms(kZ,5)),2&i){let l;Jn(l=tr())&&(s.chartViewChildHighchart=l.first),Jn(l=tr())&&(s.chartViewChildCytoscape=l.first)}},decls:6,vars:4,consts:[["mode","indeterminate",4,"ngIf"],[1,"chart-container",3,"hidden"],["chartHighchart",""],["chartCytoscape",""],["divClassName","gojsDiv",3,"initDiagram","nodeDataArray","linkDataArray","modelData","skipsDiagramUpdate","modelChange",4,"ngIf"],["mode","indeterminate"],["divClassName","gojsDiv",3,"initDiagram","nodeDataArray","linkDataArray","modelData","skipsDiagramUpdate","modelChange"]],template:function(i,s){1&i&&(Mn(0,AZ,1,0,"mat-progress-bar",0),On(1,"div",1,2),On(3,"div",1,3),Mn(5,TZ,1,5,"gojs-diagram",4)),2&i&&(Pi("ngIf",!s.loaded),Ai(1),Pi("hidden","Highchart"!=s.show),Ai(2),Pi("hidden","Cytoscape"!=s.show),Ai(2),Pi("ngIf","Gojs"==s.show))},directives:[Yh,PA,CZ],styles:[".chart-container{width:100%;margin:0 auto;height:93%}.full-width-adaptive{width:100%;max-width:500px}.gojsDiv{width:100%;margin:0 auto;height:100%}\n"],encapsulation:2}),r})();class IZ{constructor(n,i){this._document=i;const s=this._textarea=this._document.createElement("textarea"),l=s.style;l.position="fixed",l.top=l.opacity="0",l.left="-999em",s.setAttribute("aria-hidden","true"),s.value=n,this._document.body.appendChild(s)}copy(){const n=this._textarea;let i=!1;try{if(n){const s=this._document.activeElement;n.select(),n.setSelectionRange(0,n.value.length),i=this._document.execCommand("copy"),s&&s.focus()}}catch(s){}return i}destroy(){const n=this._textarea;n&&(n.remove(),this._textarea=void 0)}}let RZ=(()=>{class r{constructor(i){this._document=i}copy(i){const s=this.beginCopy(i),l=s.copy();return s.destroy(),l}beginCopy(i){return new IZ(i,this._document)}}return r.\u0275fac=function(i){return new(i||r)(pi(Nr))},r.\u0275prov=Ki({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const OZ=new un("CDK_COPY_TO_CLIPBOARD_CONFIG");let NZ=(()=>{class r{constructor(i,s,l){this._clipboard=i,this._ngZone=s,this.text="",this.attempts=1,this.copied=new xn,this._pending=new Set,l&&null!=l.attempts&&(this.attempts=l.attempts)}copy(i=this.attempts){if(i>1){let s=i;const l=this._clipboard.beginCopy(this.text);this._pending.add(l);const p=()=>{const b=l.copy();b||!--s||this._destroyed?(this._currentTimeout=null,this._pending.delete(l),l.destroy(),this.copied.emit(b)):this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(p,1))};p()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(i=>i.destroy()),this._pending.clear(),this._destroyed=!0}}return r.\u0275fac=function(i){return new(i||r)(be(RZ),be(gr),be(OZ,8))},r.\u0275dir=an({type:r,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(i,s){1&i&&e("click",function(){return s.copy()})},inputs:{text:["cdkCopyToClipboard","text"],attempts:["cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}}),r})(),LZ=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({}),r})();const FZ=[{path:"",redirectTo:"moves",pathMatch:"full"},{path:"settings",component:(()=>{class r{constructor(i,s){this.settings=i,this.router=s,this.settingsForm=new oy({secretRead:new ns(""),secretWrite:new ns("")}),this.url=this.createUrl()}ngOnInit(){this.settingsForm.patchValue({secretRead:this.settings.secretReadString,secretWrite:this.settings.secretWriteString}),this.settingsForm.valueChanges.subscribe(i=>{this.router.navigate([],{queryParams:{secret:i.secretRead,"secret-write":i.secretWrite},queryParamsHandling:"merge"}),this.url=this.createUrl()})}createUrl(){const i=[];return this.settings.secretReadString&&i.push(`secret=${this.settings.secretReadString}`),this.settings.secretWriteString&&i.push(`secret-write=${this.settings.secretWriteString}`),i.length>0?`${document.baseURI}?${i.join("&")}`:document.baseURI}onSubmit(){}}return r.\u0275fac=function(i){return new(i||r)(be(vM),be(Kl))},r.\u0275cmp=fn({type:r,selectors:[["ng-component"]],decls:15,vars:3,consts:[[3,"formGroup","ngSubmit"],["appearance","fill",1,"full-width-adaptive"],["matInput","","formControlName","secretRead"],["matInput","","formControlName","secretWrite"],["readonly","","matInput","",3,"value"],["mat-raised-button","","color","primary",3,"cdkCopyToClipboard"]],template:function(i,s){1&i&&(Qe(0,"form",0),e("ngSubmit",function(){return s.onSubmit()}),Qe(1,"mat-form-field",1),Qe(2,"mat-label"),Ji(3,"Secret for reading"),ti(),On(4,"input",2),ti(),Qe(5,"mat-form-field",1),Qe(6,"mat-label"),Ji(7,"Secret for writing"),ti(),On(8,"input",3),ti(),Qe(9,"mat-form-field",1),Qe(10,"mat-label"),Ji(11,"Resulting Url"),ti(),On(12,"input",4),ti(),Qe(13,"button",5),Ji(14,"Copy Url"),ti(),ti()),2&i&&(Pi("formGroup",s.settingsForm),Ai(12),Pi("value",s.url),Ai(1),Pi("cdkCopyToClipboard",s.url))},directives:[B_,I_,mg,UC,Zw,Hk,jw,P_,Uw,uy,NZ],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.full-width-adaptive[_ngcontent-%COMP%]{width:100%;max-width:500px}.half-width[_ngcontent-%COMP%]{width:50%;max-width:250px}"]}),r})()},{path:"dances",component:uK},{path:"moves",component:LK},{path:"move/:name",component:lZ},{path:"relations",component:PZ}];let BZ=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({imports:[[r5.forRoot(FZ)],r5]}),r})();class VZ extends C{constructor(n=1/0,i=1/0,s=bE){super(),this._bufferSize=n,this._windowTime=i,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=i===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,i)}next(n){const{isStopped:i,_buffer:s,_infiniteTimeWindow:l,_timestampProvider:p,_windowTime:b}=this;i||(s.push(n),!l&&s.push(p.now()+b)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const i=this._innerSubscribe(n),{_infiniteTimeWindow:s,_buffer:l}=this,p=l.slice();for(let b=0;b<p.length&&!n.closed;b+=s?1:2)n.next(p[b]);return this._checkFinalizedStatuses(n),i}_trimBuffer(){const{_bufferSize:n,_timestampProvider:i,_buffer:s,_infiniteTimeWindow:l}=this,p=(l?1:2)*n;if(n<1/0&&p<s.length&&s.splice(0,s.length-p),!l){const b=i.now();let R=0;for(let G=1;G<s.length&&s[G]<=b;G+=2)R=G;R&&s.splice(0,R+1)}}}const k5=new un("CdkAccordion");let zZ=0,HZ=(()=>{class r{constructor(i,s,l){this.accordion=i,this._changeDetectorRef=s,this._expansionDispatcher=l,this._openCloseAllSubscription=D.EMPTY,this.closed=new xn,this.opened=new xn,this.destroyed=new xn,this.expandedChange=new xn,this.id="cdk-accordion-child-"+zZ++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=l.listen((p,b)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===b&&this.id!==p&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(i){i=Yr(i),this._expanded!==i&&(this._expanded=i,this.expandedChange.emit(i),i?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(i){this._disabled=Yr(i)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(i=>{this.disabled||(this.expanded=i)})}}return r.\u0275fac=function(i){return new(i||r)(be(k5,12),be(Ks),be(H8))},r.\u0275dir=an({type:r,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[lo([{provide:k5,useValue:void 0}])]}),r})(),UZ=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({}),r})();const GZ=["body"];function WZ(r,n){}const YZ=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],$Z=["mat-expansion-panel-header","*","mat-action-row"];function XZ(r,n){1&r&&On(0,"span",2),2&r&&Pi("@indicatorRotate",_()._getExpandedState())}const KZ=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],ZZ=["mat-panel-title","mat-panel-description","*"],A5=new un("MAT_ACCORDION"),T5="225ms cubic-bezier(0.4,0.0,0.2,1)",P5={indicatorRotate:yg("indicatorRotate",[jc("collapsed, void",Ma({transform:"rotate(0deg)"})),jc("expanded",Ma({transform:"rotate(180deg)"})),zc("expanded <=> collapsed, void => collapsed",kf(T5))]),bodyExpansion:yg("bodyExpansion",[jc("collapsed, void",Ma({height:"0px",visibility:"hidden"})),jc("expanded",Ma({height:"*",visibility:"visible"})),zc("expanded <=> collapsed, void => collapsed",kf(T5))])};let qZ=(()=>{class r{constructor(i){this._template=i}}return r.\u0275fac=function(i){return new(i||r)(be(Ef))},r.\u0275dir=an({type:r,selectors:[["ng-template","matExpansionPanelContent",""]]}),r})(),QZ=0;const I5=new un("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let R5=(()=>{class r extends HZ{constructor(i,s,l,p,b,R,G){super(i,s,l),this._viewContainerRef=p,this._animationMode=R,this._hideToggle=!1,this.afterExpand=new xn,this.afterCollapse=new xn,this._inputChanges=new C,this._headerId="mat-expansion-panel-header-"+QZ++,this._bodyAnimationDone=new C,this.accordion=i,this._document=b,this._bodyAnimationDone.pipe(cC((ut,St)=>ut.fromState===St.fromState&&ut.toState===St.toState)).subscribe(ut=>{"void"!==ut.fromState&&("expanded"===ut.toState?this.afterExpand.emit():"collapsed"===ut.toState&&this.afterCollapse.emit())}),G&&(this.hideToggle=G.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(i){this._hideToggle=Yr(i)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(i){this._togglePosition=i}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe($h(null),Hs(()=>this.expanded&&!this._portal),Un(1)).subscribe(()=>{this._portal=new Z_(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(i){this._inputChanges.next(i)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const i=this._document.activeElement,s=this._body.nativeElement;return i===s||s.contains(i)}return!1}}return r.\u0275fac=function(i){return new(i||r)(be(A5,12),be(Ks),be(H8),be(lh),be(Nr),be(Pd,8),be(I5,8))},r.\u0275cmp=fn({type:r,selectors:[["mat-expansion-panel"]],contentQueries:function(i,s,l){if(1&i&&as(l,qZ,5),2&i){let p;Jn(p=tr())&&(s._lazyContent=p.first)}},viewQuery:function(i,s){if(1&i&&ms(GZ,5),2&i){let l;Jn(l=tr())&&(s._body=l.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(i,s){2&i&&Dr("mat-expanded",s.expanded)("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-expansion-panel-spacing",s._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[lo([{provide:A5,useValue:void 0}]),Qn,Hr],ngContentSelectors:$Z,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,s){1&i&&(I(YZ),B(0),Qe(1,"div",0,1),e("@bodyExpansion.done",function(p){return s._bodyAnimationDone.next(p)}),Qe(3,"div",2),B(4,1),Mn(5,WZ,0,0,"ng-template",3),ti(),B(6,2),ti()),2&i&&(Ai(1),Pi("@bodyExpansion",s._getExpandedState())("id",s.id),Pr("aria-labelledby",s._headerId),Ai(4),Pi("cdkPortalOutlet",s._portal))},directives:[q_],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[P5.bodyExpansion]},changeDetection:0}),r})();class JZ{}const tq=Ak(JZ);let eq=(()=>{class r extends tq{constructor(i,s,l,p,b,R,G){super(),this.panel=i,this._element=s,this._focusMonitor=l,this._changeDetectorRef=p,this._animationMode=R,this._parentChangeSubscription=D.EMPTY;const ut=i.accordion?i.accordion._stateChanges.pipe(Hs(St=>!(!St.hideToggle&&!St.togglePosition))):$e;this.tabIndex=parseInt(G||"")||0,this._parentChangeSubscription=dr(i.opened,i.closed,ut,i._inputChanges.pipe(Hs(St=>!!(St.hideToggle||St.disabled||St.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),i.closed.pipe(Hs(()=>i._containsFocus())).subscribe(()=>l.focusVia(s,"program")),b&&(this.expandedHeight=b.expandedHeight,this.collapsedHeight=b.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const i=this._isExpanded();return i&&this.expandedHeight?this.expandedHeight:!i&&this.collapsedHeight?this.collapsedHeight:null}_keydown(i){switch(i.keyCode){case 32:case 13:Zh(i)||(i.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(i))}}focus(i,s){i?this._focusMonitor.focusVia(this._element,i,s):this._element.nativeElement.focus(s)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(i=>{i&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return r.\u0275fac=function(i){return new(i||r)(be(R5,1),be(cr),be(Yw),be(Ks),be(I5,8),be(Pd,8),Eu("tabindex"))},r.\u0275cmp=fn({type:r,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(i,s){1&i&&e("click",function(){return s._toggle()})("keydown",function(p){return s._keydown(p)}),2&i&&(Pr("id",s.panel._headerId)("tabindex",s.tabIndex)("aria-controls",s._getPanelId())("aria-expanded",s._isExpanded())("aria-disabled",s.panel.disabled),cu("height",s._getHeaderHeight()),Dr("mat-expanded",s._isExpanded())("mat-expansion-toggle-indicator-after","after"===s._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===s._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===s._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[Qn],ngContentSelectors:ZZ,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(i,s){1&i&&(I(KZ),Qe(0,"span",0),B(1),B(2,1),B(3,2),ti(),Mn(4,XZ,1,1,"span",1)),2&i&&(Ai(4),Pi("ngIf",s._showToggle()))},directives:[Yh],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}\n'],encapsulation:2,data:{animation:[P5.indicatorRotate]},changeDetection:0}),r})(),iq=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=an({type:r,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),r})(),nq=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({imports:[[Lp,Bo,UZ,jC]]}),r})();function O5(r,n){return n?i=>E_(n.pipe(Un(1),nt((r,n)=>{r.subscribe(new Q(n,tt))})),i.pipe(O5(r))):ae((i,s)=>r(i,s).pipe(Un(1),sA(i)))}const sq=["panel"];function aq(r,n){if(1&r&&(Qe(0,"div",0,1),B(2),ti()),2&r){const i=n.id,s=_();Pi("id",s.id)("ngClass",s._classList),Pr("aria-label",s.ariaLabel||null)("aria-labelledby",s._getPanelAriaLabelledby(i))}}const lq=["*"];let uq=0;class hq{constructor(n,i){this.source=n,this.option=i}}const cq=ly(class{}),N5=new un("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}});let dq=(()=>{class r extends cq{constructor(i,s,l,p){super(),this._changeDetectorRef=i,this._elementRef=s,this._activeOptionChanges=D.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new xn,this.opened=new xn,this.closed=new xn,this.optionActivated=new xn,this._classList={},this.id="mat-autocomplete-"+uq++,this.inertGroups=(null==p?void 0:p.SAFARI)||!1,this._autoActiveFirstOption=!!l.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(i){this._autoActiveFirstOption=Yr(i)}set classList(i){this._classList=i&&i.length?YP(i).reduce((s,l)=>(s[l]=!0,s),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new f6(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(i=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[i]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(i){this.panel&&(this.panel.nativeElement.scrollTop=i)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(i){const s=new hq(this,i);this.optionSelected.emit(s)}_getPanelAriaLabelledby(i){return this.ariaLabel?null:this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_setVisibilityClasses(i){i[this._visibleClass]=this.showPanel,i[this._hiddenClass]=!this.showPanel}}return r.\u0275fac=function(i){return new(i||r)(be(Ks),be(cr),be(N5),be(Ol))},r.\u0275dir=an({type:r,viewQuery:function(i,s){if(1&i&&(ms(Ef,7),ms(sq,5)),2&i){let l;Jn(l=tr())&&(s.template=l.first),Jn(l=tr())&&(s.panel=l.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[Qn]}),r})(),pq=(()=>{class r extends dq{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=po(r)))(s||r)}}(),r.\u0275cmp=fn({type:r,selectors:[["mat-autocomplete"]],contentQueries:function(i,s,l){if(1&i&&(as(l,RC,5),as(l,Y_,5)),2&i){let p;Jn(p=tr())&&(s.optionGroups=p),Jn(p=tr())&&(s.options=p)}},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[lo([{provide:IC,useExisting:r}]),Qn],ngContentSelectors:lq,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(i,s){1&i&&(I(),Mn(0,aq,3,4,"ng-template"))},directives:[M_],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}\n"],encapsulation:2,changeDetection:0}),r})();const L5=new un("mat-autocomplete-scroll-strategy"),gq={provide:L5,deps:[xg],useFactory:function(r){return()=>r.scrollStrategies.reposition()}},vq={provide:Vc,useExisting:Vi(()=>F5),multi:!0};let yq=(()=>{class r{constructor(i,s,l,p,b,R,G,ut,St,Ut,Jt){this._element=i,this._overlay=s,this._viewContainerRef=l,this._zone=p,this._changeDetectorRef=b,this._dir=G,this._formField=ut,this._document=St,this._viewportRuler=Ut,this._defaults=Jt,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=D.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new C,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=qC(()=>this.autocomplete&&this.autocomplete.options?dr(...this.autocomplete.options.map(se=>se.onSelectionChange)):this._zone.onStable.pipe(Un(1),ch(()=>this.optionSelections))),this._scrollStrategy=R}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(i){this._autocompleteDisabled=Yr(i)}ngAfterViewInit(){const i=this._getWindow();void 0!==i&&this._zone.runOutsideAngular(()=>i.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(i){i.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const i=this._getWindow();void 0!==i&&i.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return dr(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Hs(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Hs(()=>this._overlayAttached)):vr()).pipe(J(i=>i instanceof NI?i:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return dr(jp(this._document,"click"),jp(this._document,"auxclick"),jp(this._document,"touchend")).pipe(Hs(i=>{const s=iy(i),l=this._formField?this._formField._elementRef.nativeElement:null,p=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&s!==this._element.nativeElement&&(!l||!l.contains(s))&&(!p||!p.contains(s))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(s)}))}writeValue(i){Promise.resolve(null).then(()=>this._setTriggerValue(i))}registerOnChange(i){this._onChange=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this._element.nativeElement.disabled=i}_handleKeydown(i){const s=i.keyCode;if(27===s&&!Zh(i)&&i.preventDefault(),this.activeOption&&13===s&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),i.preventDefault();else if(this.autocomplete){const l=this.autocomplete._keyManager.activeItem,p=38===s||40===s;this.panelOpen||9===s?this.autocomplete._keyManager.onKeydown(i):p&&this._canOpen()&&this.openPanel(),(p||this.autocomplete._keyManager.activeItem!==l)&&this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0)}}_handleInput(i){let s=i.target,l=s.value;"number"===s.type&&(l=""==l?null:parseFloat(l)),this._previousValue!==l&&(this._previousValue=l,this._onChange(l),this._canOpen()&&this._document.activeElement===i.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_floatLabel(i=!1){this._formField&&"auto"===this._formField.floatLabel&&(i?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const i=this._zone.onStable.pipe(Un(1)),s=this.autocomplete.options.changes.pipe(Nl(()=>this._positionStrategy.reapplyLastPosition()),function(r,n=ME){const i=UI(0,n);return O5(()=>i)}());return dr(i,s).pipe(ch(()=>{const l=this.panelOpen;return this._resetActiveItem(),this.autocomplete._setVisibility(),this.panelOpen&&(this._overlayRef.updatePosition(),l!==this.panelOpen&&this.autocomplete.opened.emit()),this.panelClosingActions}),Un(1)).subscribe(l=>this._setValueAndClose(l))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(i){const s=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(i):i,l=null!=s?s:"";this._formField?this._formField._control.value=l:this._element.nativeElement.value=l,this._previousValue=l}_setValueAndClose(i){i&&i.source&&(this._clearPreviousSelectedOption(i.source),this._setTriggerValue(i.source.value),this._onChange(i.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(i.source)),this.closePanel()}_clearPreviousSelectedOption(i){this.autocomplete.options.forEach(s=>{s!==i&&s.selected&&s.deselect()})}_attachOverlay(){var l;let i=this._overlayRef;i?(this._positionStrategy.setOrigin(this._getConnectedElement()),i.updateSize({width:this._getPanelWidth()})):(this._portal=new Z_(this.autocomplete.template,this._viewContainerRef,{id:null==(l=this._formField)?void 0:l.getLabelId()}),i=this._overlay.create(this._getOverlayConfig()),this._overlayRef=i,i.keydownEvents().subscribe(p=>{(27===p.keyCode&&!Zh(p)||38===p.keyCode&&Zh(p,"altKey"))&&(this._closeKeyEventStream.next(),this._resetActiveItem(),p.stopPropagation(),p.preventDefault())}),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&i&&i.updateSize({width:this._getPanelWidth()})})),i&&!i.hasAttached()&&(i.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const s=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&s!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){var i;return new Q_({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:null==(i=this._defaults)?void 0:i.overlayPanelClass})}_getOverlayPosition(){const i=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(i),this._positionStrategy=i,i}_setStrategyPositions(i){const s=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],l=this._aboveClass,p=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:l},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:l}];let b;b="above"===this.position?p:"below"===this.position?s:[...s,...p],i.withPositions(b)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const i=this.autocomplete;i.autoActiveFirstOption?i._keyManager.setFirstItemActive():i._keyManager.setActiveItem(-1)}_canOpen(){const i=this._element.nativeElement;return!i.readOnly&&!i.disabled&&!this._autocompleteDisabled}_getWindow(){var i;return(null==(i=this._document)?void 0:i.defaultView)||window}_scrollToOption(i){const s=this.autocomplete,l=Ok(i,s.options,s.optionGroups);if(0===i&&1===l)s._setScrollTop(0);else if(s.panel){const p=s.options.toArray()[i];if(p){const b=p._getHostElement(),R=LI(b.offsetTop,b.offsetHeight,s._getScrollTop(),s.panel.nativeElement.offsetHeight);s._setScrollTop(R)}}}}return r.\u0275fac=function(i){return new(i||r)(be(cr),be(xg),be(lh),be(gr),be(Ks),be(L5),be(Vp,8),be(J_,9),be(Nr,8),be(X_),be(N5,8))},r.\u0275dir=an({type:r,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[Hr]}),r})(),F5=(()=>{class r extends yq{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=po(r)))(s||r)}}(),r.\u0275dir=an({type:r,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(i,s){1&i&&e("focusin",function(){return s._handleFocus()})("blur",function(){return s._onTouched()})("input",function(p){return s._handleInput(p)})("keydown",function(p){return s._handleKeydown(p)}),2&i&&Pr("autocomplete",s.autocompleteAttribute)("role",s.autocompleteDisabled?null:"combobox")("aria-autocomplete",s.autocompleteDisabled?null:"list")("aria-activedescendant",s.panelOpen&&s.activeOption?s.activeOption.id:null)("aria-expanded",s.autocompleteDisabled?null:s.panelOpen.toString())("aria-owns",s.autocompleteDisabled||!s.panelOpen||null==s.autocomplete?null:s.autocomplete.id)("aria-haspopup",!s.autocompleteDisabled)},exportAs:["matAutocompleteTrigger"],features:[lo([vq]),Qn]}),r})(),xq=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r}),r.\u0275inj=Zn({providers:[gq],imports:[[zC,OC,Bo,Lp],K1,OC,Bo]}),r})();function wq(r,n){if(1&r&&(Qe(0,"mat-option",9),Ji(1),ti()),2&r){const i=n.$implicit;Pi("value",i),Ai(1),Ps(i)}}function bq(r,n){if(1&r&&(Qe(0,"mat-option",9),Ji(1),ti()),2&r){const i=n.$implicit;Pi("value",i),Ai(1),oa(" ",i," ")}}function _q(r,n){if(1&r&&(Qe(0,"mat-optgroup",10),Mn(1,bq,2,2,"mat-option",3),ti()),2&r){const i=n.$implicit;Pi("label",i.dance),Ai(1),Pi("ngForOf",i.names)}}function Mq(r,n){if(1&r&&(Qe(0,"mat-option",9),Ji(1),ti()),2&r){const i=n.$implicit;Pi("value",i),Ai(1),Ps(i)}}function Cq(r,n){if(1&r&&(Qe(0,"mat-option",9),Ji(1),ti()),2&r){const i=n.$implicit;Pi("value",i),Ai(1),Ps(i)}}let Sq=(()=>{class r{constructor(i,s){this.dataManagerService=i,this.router=s,this.dances=new Set,this.courseNames=new Set,this.types=new Set,this.movesGroup=[],this.loading=!0,this.moveSearch=new ns(""),this.searchForm=new oy({dance:new ns(""),move:new ns(""),course:new ns(""),type:new ns("")})}ngOnInit(){var i=this;return Rd(function*(){yield i.dataManagerService.loading(),i.dataManagerService.movesObservable.subscribe(s=>{i.dances=i.dataManagerService.getDances(),i.courseNames=i.dataManagerService.getCourseNames(),i.types=i.dataManagerService.getTypes(),(null==s?void 0:s.length)>0&&(i.loading=!1)}),i.dataManagerService.getGroupedMoveNames().subscribe(s=>{i.movesGroup=s,i.movesGroupOptions=i.dataManagerService.searchFilterObservable.pipe(J(l=>i.filterGroup(l)))}),i.dataManagerService.searchFilterObservable.subscribe(s=>{JSON.stringify(s)!==JSON.stringify(i.searchForm.value)&&i.searchForm.patchValue(s),i.router.navigate([],{queryParams:s,queryParamsHandling:"merge"})}),i.searchForm.valueChanges.subscribe(s=>i.dataManagerService.searchFilterObservable.next(s))})()}filterGroup(i){return i.move||i.dance?this.movesGroup.filter(s=>!this.dances.has(i.dance)||s.dance==i.dance).map(s=>({dance:s.dance,names:s.names.filter(l=>{var p,b;return null===(p=null==l?void 0:l.toLowerCase())||void 0===p?void 0:p.includes(null===(b=i.move)||void 0===b?void 0:b.toLowerCase())})})).filter(s=>s.names.length>0):this.movesGroup}}return r.\u0275fac=function(i){return new(i||r)(be(nx),be(Kl))},r.\u0275cmp=fn({type:r,selectors:[["app-dance-move-selection"]],decls:30,vars:8,consts:[[3,"formGroup"],["appearance","fill",1,"full-width"],["formControlName","dance"],[3,"value",4,"ngFor","ngForOf"],["type","text","matInput","","formControlName","move",3,"matAutocomplete"],["autoGroup","matAutocomplete"],[3,"label",4,"ngFor","ngForOf"],["formControlName","course"],["formControlName","type"],[3,"value"],[3,"label"]],template:function(i,s){if(1&i&&(Qe(0,"form",0),Qe(1,"mat-form-field",1),Qe(2,"mat-label"),Ji(3,"Dance"),ti(),Qe(4,"mat-select",2),Qe(5,"mat-option"),Ji(6,"None"),ti(),Mn(7,wq,2,2,"mat-option",3),ti(),ti(),Qe(8,"mat-form-field",1),Qe(9,"mat-label"),Ji(10,"Name"),ti(),On(11,"input",4),Qe(12,"mat-autocomplete",null,5),Mn(14,_q,2,2,"mat-optgroup",6),T1(15,"async"),ti(),ti(),Qe(16,"mat-form-field",1),Qe(17,"mat-label"),Ji(18,"Course"),ti(),Qe(19,"mat-select",7),Qe(20,"mat-option"),Ji(21,"None"),ti(),Mn(22,Mq,2,2,"mat-option",3),ti(),ti(),Qe(23,"mat-form-field",1),Qe(24,"mat-label"),Ji(25,"Type"),ti(),Qe(26,"mat-select",8),Qe(27,"mat-option"),Ji(28,"None"),ti(),Mn(29,Cq,2,2,"mat-option",3),ti(),ti(),ti()),2&i){const l=Oh(13);Pi("formGroup",s.searchForm),Ai(7),Pi("ngForOf",s.dances),Ai(4),Pi("matAutocomplete",l),Ai(3),Pi("ngForOf",Sw(15,6,s.movesGroupOptions)),Ai(8),Pi("ngForOf",s.courseNames),Ai(7),Pi("ngForOf",s.types)}},directives:[B_,I_,mg,UC,Zw,oA,P_,Uw,Y_,Jv,Hk,jw,F5,pq,OI],pipes:[aE],styles:[".full-width[_ngcontent-%COMP%]{width:100%}"]}),r})();function Dq(r,n){if(1&r&&(Qe(0,"mat-option",5),Ji(1),ti()),2&r){const i=n.$implicit;Pi("value",i),Ai(1),oa(" ",i," ")}}function Eq(r,n){if(1&r&&(Qe(0,"mat-option",5),Ji(1),ti()),2&r){const i=n.$implicit;Pi("value",i),Ai(1),oa(" ",i," ")}}let kq=(()=>{class r{constructor(i,s,l){this.dataManagerService=i,this.route=s,this.router=l,this.relationTypes=[If.start,If.end,If.related,If.otherDance],this.displayTypes=[Cg.cytoscape,Cg.highchartsNetworkgraph,Cg.gojsConceptMap],this.relationsForm=new oy({relationTypes:new ns([]),displayType:new ns("")})}ngOnInit(){var i=this;return Rd(function*(){yield i.dataManagerService.loading(),i.dataManagerService.relationsSelectionObservable.subscribe(s=>{i.relationsForm.patchValue(s)}),i.relationsForm.valueChanges.subscribe(s=>i.router.navigate([],{queryParams:s,queryParamsHandling:"merge"}))})()}}return r.\u0275fac=function(i){return new(i||r)(be(nx),be(U0),be(Kl))},r.\u0275cmp=fn({type:r,selectors:[["app-relations-selection"]],decls:11,vars:3,consts:[[3,"formGroup"],["appearance","fill",1,"full-width"],["formControlName","relationTypes","multiple",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","displayType"],[3,"value"]],template:function(i,s){1&i&&(Qe(0,"form",0),Qe(1,"mat-form-field",1),Qe(2,"mat-label"),Ji(3,"Relation Types"),ti(),Qe(4,"mat-select",2),Mn(5,Dq,2,2,"mat-option",3),ti(),ti(),Qe(6,"mat-form-field",1),Qe(7,"mat-label"),Ji(8,"Display Type"),ti(),Qe(9,"mat-select",4),Mn(10,Eq,2,2,"mat-option",3),ti(),ti(),ti()),2&i&&(Pi("formGroup",s.relationsForm),Ai(5),Pi("ngForOf",s.relationTypes),Ai(5),Pi("ngForOf",s.displayTypes))},directives:[B_,I_,mg,UC,Zw,oA,P_,Uw,Jv,Y_],styles:[".full-width[_ngcontent-%COMP%]{width:100%}"]}),r})();function Aq(r,n){if(1&r){const i=Qa();Qe(0,"button",13),e("click",function(){return Qo(i),_(),Oh(2).toggle()}),Qe(1,"mat-icon",14),Ji(2,"menu"),ti(),ti()}}function Tq(r,n){if(1&r){const i=Qa();Qe(0,"button",15),e("click",function(){return Qo(i),_().normalize()}),Qe(1,"mat-icon"),Ji(2,"list"),ti(),ti()}}function Pq(r,n){1&r&&(Qe(0,"button",16),Qe(1,"mat-icon",17),Ji(2,"add_circle_outline"),ti(),ti())}let Iq=(()=>{class r{constructor(i,s,l){this.breakpointObserver=i,this.dataManager=s,this.settingsService=l,this.devMode=!1,this.readonly=!0,this.headline="Dancing Moves",this.isHandset$=this.breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)").pipe(J(p=>p.matches),function(r,n,i){let p,b=!1;return p=1/0,xo({connector:()=>new VZ(p,n,i),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:b})}())}ngOnInit(){var i=this;return Rd(function*(){yield i.settingsService.loading(),i.readonly=!i.settingsService.secretWriteString})()}normalize(){this.dataManager.normalize()}setHeadline(i){this.headline=i}}return r.\u0275fac=function(i){return new(i||r)(be(o4),be(nx),be(vM))},r.\u0275cmp=fn({type:r,selectors:[["app-nav"]],decls:39,vars:18,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],[3,"expanded"],["mat-list-item","","routerLink","dances","queryParamsHandling","merge",3,"click"],["mat-list-item","","routerLink","moves","queryParamsHandling","merge",3,"click"],["mat-list-item","","routerLink","relations","queryParamsHandling","merge",3,"click"],["mat-list-item","","routerLink","settings","queryParamsHandling","merge",3,"click"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],[1,"spacer"],["mat-mini-fab","","color","primary","aria-label","normalize",3,"click",4,"ngIf"],["mat-mini-fab","","color","primary","aria-label","create new move",4,"ngIf"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"],["mat-mini-fab","","color","primary","aria-label","normalize",3,"click"],["mat-mini-fab","","color","primary","aria-label","create new move"],["routerLink","/move/new"]],template:function(i,s){1&i&&(Qe(0,"mat-sidenav-container",0),Qe(1,"mat-sidenav",1,2),T1(3,"async"),T1(4,"async"),T1(5,"async"),Qe(6,"mat-nav-list"),Qe(7,"mat-expansion-panel",3),Qe(8,"mat-expansion-panel-header"),Qe(9,"mat-panel-title"),Ji(10," Pages "),ti(),ti(),Qe(11,"a",4),e("click",function(){return s.setHeadline("Dances")}),Ji(12,"Dances"),ti(),Qe(13,"a",5),e("click",function(){return s.setHeadline("Dancing Moves")}),Ji(14,"Dancing Moves"),ti(),Qe(15,"a",6),e("click",function(){return s.setHeadline("Relations")}),Ji(16,"Relations"),ti(),Qe(17,"a",7),e("click",function(){return s.setHeadline("Settings")}),Ji(18,"Settings"),ti(),ti(),Qe(19,"mat-expansion-panel",3),Qe(20,"mat-expansion-panel-header"),Qe(21,"mat-panel-title"),Ji(22," Dance Move Selection "),ti(),ti(),On(23,"app-dance-move-selection"),ti(),Qe(24,"mat-expansion-panel",3),Qe(25,"mat-expansion-panel-header"),Qe(26,"mat-panel-title"),Ji(27," Relations Selection "),ti(),ti(),On(28,"app-relations-selection"),ti(),ti(),ti(),Qe(29,"mat-sidenav-content"),Qe(30,"mat-toolbar",8),Mn(31,Aq,3,0,"button",9),T1(32,"async"),Qe(33,"span"),Ji(34),ti(),On(35,"span",10),Mn(36,Tq,3,0,"button",11),Mn(37,Pq,3,0,"button",12),ti(),On(38,"router-outlet"),ti(),ti()),2&i&&(Ai(1),Pi("mode",Sw(4,12,s.isHandset$)?"over":"side")("opened",!1===Sw(5,14,s.isHandset$)),Pr("role",Sw(3,10,s.isHandset$)?"dialog":"navigation"),Ai(6),Pi("expanded",!0),Ai(12),Pi("expanded",!0),Ai(5),Pi("expanded",!0),Ai(7),Pi("ngIf",Sw(32,16,s.isHandset$)),Ai(3),Ps(s.headline),Ai(2),Pi("ngIf",s.devMode&&!s.readonly),Ai(1),Pi("ngIf",!s.readonly))},directives:[iR,eR,hY,R5,eq,iq,cY,vS,Sq,kq,lA,JY,Yh,_A,uy,z8,gS],pipes:[aE],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:300px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),r})(),Rq=(()=>{class r{constructor(i,s){this.settingsService=i,this.dataManagerService=s,this.title="dancing-moves"}ngOnInit(){this.settingsService.fetchSettings(),this.dataManagerService.start()}}return r.\u0275fac=function(i){return new(i||r)(be(vM),be(nx))},r.\u0275cmp=fn({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(i,s){1&i&&On(0,"app-nav")},directives:[Iq],styles:[""]}),r})(),Oq=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=sr({type:r,bootstrap:[Rq]}),r.\u0275inj=Zn({providers:[nR,{provide:DI,useValue:"de-DE"}],imports:[[GP,CH,wV,t$,Nk,XY,qW,vY,aU,GC,LY,zG,SW,BZ,pj,FH,yU,xq,jW,LZ,TK,f5,nq,DZ,GK.forRoot()]]}),r})();(function(){if(l3)throw new Error("Cannot enable prod mode after platform setup.");a3=!1})(),q7().bootstrapModule(Oq).catch(r=>console.error(r))},950:()=>{},6601:()=>{},8623:()=>{},7748:()=>{},5568:()=>{},6619:()=>{},7108:()=>{},2361:()=>{},4616:()=>{},4946:fe=>{"use strict";fe.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},5207:fe=>{"use strict";fe.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},1308:fe=>{"use strict";fe.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},9799:fe=>{"use strict";fe.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},8597:fe=>{"use strict";fe.exports={i8:"6.5.4"}},2562:fe=>{"use strict";fe.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},fe=>{fe(fe.s=7655)}]);