var SE=Object.defineProperty,EE=Object.defineProperties,DE=Object.getOwnPropertyDescriptors,fM=Object.getOwnPropertySymbols,AE=Object.prototype.hasOwnProperty,kE=Object.prototype.propertyIsEnumerable,dM=(Ee,Q,ut)=>Q in Ee?SE(Ee,Q,{enumerable:!0,configurable:!0,writable:!0,value:ut}):Ee[Q]=ut,Er=(Ee,Q)=>{for(var ut in Q||(Q={}))AE.call(Q,ut)&&dM(Ee,ut,Q[ut]);if(fM)for(var ut of fM(Q))kE.call(Q,ut)&&dM(Ee,ut,Q[ut]);return Ee},Gu=(Ee,Q)=>EE(Ee,DE(Q));(self.webpackChunkdancing_moves=self.webpackChunkdancing_moves||[]).push([[179],{46:(Ee,Q,ut)=>{"use strict";const ct=Q;ct.bignum=ut(5314),ct.define=ut(3147).define,ct.base=ut(8305),ct.constants=ut(8563),ct.decoders=ut(3435),ct.encoders=ut(9589)},3147:(Ee,Q,ut)=>{"use strict";const ct=ut(9589),f=ut(3435),J=ut(3516);function b(W,G){this.name=W,this.body=G,this.decoders={},this.encoders={}}Q.define=function(G,rt){return new b(G,rt)},b.prototype._createNamed=function(G){const rt=this.name;function Z(H){this._initNamed(H,rt)}return J(Z,G),Z.prototype._initNamed=function(F,et){G.call(this,F,et)},new Z(this)},b.prototype._getDecoder=function(G){return this.decoders.hasOwnProperty(G=G||"der")||(this.decoders[G]=this._createNamed(f[G])),this.decoders[G]},b.prototype.decode=function(G,rt,Z){return this._getDecoder(rt).decode(G,Z)},b.prototype._getEncoder=function(G){return this.encoders.hasOwnProperty(G=G||"der")||(this.encoders[G]=this._createNamed(ct[G])),this.encoders[G]},b.prototype.encode=function(G,rt,Z){return this._getEncoder(rt).encode(G,Z)}},2995:(Ee,Q,ut)=>{"use strict";const ct=ut(3516),f=ut(5610).b,J=ut(7356).Buffer;function tt(W,G){f.call(this,G),J.isBuffer(W)?(this.base=W,this.offset=0,this.length=W.length):this.error("Input not Buffer")}function b(W,G){if(Array.isArray(W))this.length=0,this.value=W.map(function(rt){return b.isEncoderBuffer(rt)||(rt=new b(rt,G)),this.length+=rt.length,rt},this);else if("number"==typeof W){if(!(0<=W&&W<=255))return G.error("non-byte EncoderBuffer value");this.value=W,this.length=1}else if("string"==typeof W)this.value=W,this.length=J.byteLength(W);else{if(!J.isBuffer(W))return G.error("Unsupported type: "+typeof W);this.value=W,this.length=W.length}}ct(tt,f),Q.C=tt,tt.isDecoderBuffer=function(G){return G instanceof tt||"object"==typeof G&&J.isBuffer(G.base)&&"DecoderBuffer"===G.constructor.name&&"number"==typeof G.offset&&"number"==typeof G.length&&"function"==typeof G.save&&"function"==typeof G.restore&&"function"==typeof G.isEmpty&&"function"==typeof G.readUInt8&&"function"==typeof G.skip&&"function"==typeof G.raw},tt.prototype.save=function(){return{offset:this.offset,reporter:f.prototype.save.call(this)}},tt.prototype.restore=function(G){const rt=new tt(this.base);return rt.offset=G.offset,rt.length=this.offset,this.offset=G.offset,f.prototype.restore.call(this,G.reporter),rt},tt.prototype.isEmpty=function(){return this.offset===this.length},tt.prototype.readUInt8=function(G){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(G||"DecoderBuffer overrun")},tt.prototype.skip=function(G,rt){if(!(this.offset+G<=this.length))return this.error(rt||"DecoderBuffer overrun");const Z=new tt(this.base);return Z._reporterState=this._reporterState,Z.offset=this.offset,Z.length=this.offset+G,this.offset+=G,Z},tt.prototype.raw=function(G){return this.base.slice(G?G.offset:this.offset,this.length)},Q.R=b,b.isEncoderBuffer=function(G){return G instanceof b||"object"==typeof G&&"EncoderBuffer"===G.constructor.name&&"number"==typeof G.length&&"function"==typeof G.join},b.prototype.join=function(G,rt){return G||(G=J.alloc(this.length)),rt||(rt=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function(Z){Z.join(G,rt),rt+=Z.length}):("number"==typeof this.value?G[rt]=this.value:"string"==typeof this.value?G.write(this.value,rt):J.isBuffer(this.value)&&this.value.copy(G,rt),rt+=this.length)),G}},8305:(Ee,Q,ut)=>{"use strict";const ct=Q;ct.Reporter=ut(5610).b,ct.DecoderBuffer=ut(2995).C,ct.EncoderBuffer=ut(2995).R,ct.Node=ut(4878)},4878:(Ee,Q,ut)=>{"use strict";const ct=ut(5610).b,f=ut(2995).R,J=ut(2995).C,tt=ut(4725),b=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],W=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(b);function rt(H,F,et){const B={};this._baseState=B,B.name=et,B.enc=H,B.parent=F||null,B.children=null,B.tag=null,B.args=null,B.reverseArgs=null,B.choice=null,B.optional=!1,B.any=!1,B.obj=!1,B.use=null,B.useDecoder=null,B.key=null,B.default=null,B.explicit=null,B.implicit=null,B.contains=null,B.parent||(B.children=[],this._wrap())}Ee.exports=rt;const Z=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];rt.prototype.clone=function(){const F=this._baseState,et={};Z.forEach(function(X){et[X]=F[X]});const B=new this.constructor(et.parent);return B._baseState=et,B},rt.prototype._wrap=function(){const F=this._baseState;W.forEach(function(et){this[et]=function(){const X=new this.constructor(this);return F.children.push(X),X[et].apply(X,arguments)}},this)},rt.prototype._init=function(F){const et=this._baseState;tt(null===et.parent),F.call(this),et.children=et.children.filter(function(B){return B._baseState.parent===this},this),tt.equal(et.children.length,1,"Root node can have only one child")},rt.prototype._useArgs=function(F){const et=this._baseState,B=F.filter(function(X){return X instanceof this.constructor},this);F=F.filter(function(X){return!(X instanceof this.constructor)},this),0!==B.length&&(tt(null===et.children),et.children=B,B.forEach(function(X){X._baseState.parent=this},this)),0!==F.length&&(tt(null===et.args),et.args=F,et.reverseArgs=F.map(function(X){if("object"!=typeof X||X.constructor!==Object)return X;const z={};return Object.keys(X).forEach(function(Y){Y==(0|Y)&&(Y|=0),z[X[Y]]=Y}),z}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(H){rt.prototype[H]=function(){throw new Error(H+" not implemented for encoding: "+this._baseState.enc)}}),b.forEach(function(H){rt.prototype[H]=function(){const et=this._baseState,B=Array.prototype.slice.call(arguments);return tt(null===et.tag),et.tag=H,this._useArgs(B),this}}),rt.prototype.use=function(F){tt(F);const et=this._baseState;return tt(null===et.use),et.use=F,this},rt.prototype.optional=function(){return this._baseState.optional=!0,this},rt.prototype.def=function(F){const et=this._baseState;return tt(null===et.default),et.default=F,et.optional=!0,this},rt.prototype.explicit=function(F){const et=this._baseState;return tt(null===et.explicit&&null===et.implicit),et.explicit=F,this},rt.prototype.implicit=function(F){const et=this._baseState;return tt(null===et.explicit&&null===et.implicit),et.implicit=F,this},rt.prototype.obj=function(){const F=this._baseState,et=Array.prototype.slice.call(arguments);return F.obj=!0,0!==et.length&&this._useArgs(et),this},rt.prototype.key=function(F){const et=this._baseState;return tt(null===et.key),et.key=F,this},rt.prototype.any=function(){return this._baseState.any=!0,this},rt.prototype.choice=function(F){const et=this._baseState;return tt(null===et.choice),et.choice=F,this._useArgs(Object.keys(F).map(function(B){return F[B]})),this},rt.prototype.contains=function(F){const et=this._baseState;return tt(null===et.use),et.contains=F,this},rt.prototype._decode=function(F,et){const B=this._baseState;if(null===B.parent)return F.wrapResult(B.children[0]._decode(F,et));let q,X=B.default,z=!0,Y=null;if(null!==B.key&&(Y=F.enterKey(B.key)),B.optional){let U=null;if(null!==B.explicit?U=B.explicit:null!==B.implicit?U=B.implicit:null!==B.tag&&(U=B.tag),null!==U||B.any){if(z=this._peekTag(F,U,B.any),F.isError(z))return z}else{const it=F.save();try{null===B.choice?this._decodeGeneric(B.tag,F,et):this._decodeChoice(F,et),z=!0}catch(ot){z=!1}F.restore(it)}}if(B.obj&&z&&(q=F.enterObject()),z){if(null!==B.explicit){const it=this._decodeTag(F,B.explicit);if(F.isError(it))return it;F=it}const U=F.offset;if(null===B.use&&null===B.choice){let it;B.any&&(it=F.save());const ot=this._decodeTag(F,null!==B.implicit?B.implicit:B.tag,B.any);if(F.isError(ot))return ot;B.any?X=F.raw(it):F=ot}if(et&&et.track&&null!==B.tag&&et.track(F.path(),U,F.length,"tagged"),et&&et.track&&null!==B.tag&&et.track(F.path(),F.offset,F.length,"content"),B.any||(X=null===B.choice?this._decodeGeneric(B.tag,F,et):this._decodeChoice(F,et)),F.isError(X))return X;if(!B.any&&null===B.choice&&null!==B.children&&B.children.forEach(function(ot){ot._decode(F,et)}),B.contains&&("octstr"===B.tag||"bitstr"===B.tag)){const it=new J(X);X=this._getUse(B.contains,F._reporterState.obj)._decode(it,et)}}return B.obj&&z&&(X=F.leaveObject(q)),null===B.key||null===X&&!0!==z?null!==Y&&F.exitKey(Y):F.leaveKey(Y,B.key,X),X},rt.prototype._decodeGeneric=function(F,et,B){const X=this._baseState;return"seq"===F||"set"===F?null:"seqof"===F||"setof"===F?this._decodeList(et,F,X.args[0],B):/str$/.test(F)?this._decodeStr(et,F,B):"objid"===F&&X.args?this._decodeObjid(et,X.args[0],X.args[1],B):"objid"===F?this._decodeObjid(et,null,null,B):"gentime"===F||"utctime"===F?this._decodeTime(et,F,B):"null_"===F?this._decodeNull(et,B):"bool"===F?this._decodeBool(et,B):"objDesc"===F?this._decodeStr(et,F,B):"int"===F||"enum"===F?this._decodeInt(et,X.args&&X.args[0],B):null!==X.use?this._getUse(X.use,et._reporterState.obj)._decode(et,B):et.error("unknown tag: "+F)},rt.prototype._getUse=function(F,et){const B=this._baseState;return B.useDecoder=this._use(F,et),tt(null===B.useDecoder._baseState.parent),B.useDecoder=B.useDecoder._baseState.children[0],B.implicit!==B.useDecoder._baseState.implicit&&(B.useDecoder=B.useDecoder.clone(),B.useDecoder._baseState.implicit=B.implicit),B.useDecoder},rt.prototype._decodeChoice=function(F,et){const B=this._baseState;let X=null,z=!1;return Object.keys(B.choice).some(function(Y){const q=F.save(),U=B.choice[Y];try{const it=U._decode(F,et);if(F.isError(it))return!1;X={type:Y,value:it},z=!0}catch(it){return F.restore(q),!1}return!0},this),z?X:F.error("Choice not matched")},rt.prototype._createEncoderBuffer=function(F){return new f(F,this.reporter)},rt.prototype._encode=function(F,et,B){const X=this._baseState;if(null!==X.default&&X.default===F)return;const z=this._encodeValue(F,et,B);return void 0===z||this._skipDefault(z,et,B)?void 0:z},rt.prototype._encodeValue=function(F,et,B){const X=this._baseState;if(null===X.parent)return X.children[0]._encode(F,et||new ct);let z=null;if(this.reporter=et,X.optional&&void 0===F){if(null===X.default)return;F=X.default}let Y=null,q=!1;if(X.any)z=this._createEncoderBuffer(F);else if(X.choice)z=this._encodeChoice(F,et);else if(X.contains)Y=this._getUse(X.contains,B)._encode(F,et),q=!0;else if(X.children)Y=X.children.map(function(U){if("null_"===U._baseState.tag)return U._encode(null,et,F);if(null===U._baseState.key)return et.error("Child should have a key");const it=et.enterKey(U._baseState.key);if("object"!=typeof F)return et.error("Child expected, but input is not object");const ot=U._encode(F[U._baseState.key],et,F);return et.leaveKey(it),ot},this).filter(function(U){return U}),Y=this._createEncoderBuffer(Y);else if("seqof"===X.tag||"setof"===X.tag){if(!X.args||1!==X.args.length)return et.error("Too many args for : "+X.tag);if(!Array.isArray(F))return et.error("seqof/setof, but data is not Array");const U=this.clone();U._baseState.implicit=null,Y=this._createEncoderBuffer(F.map(function(it){return this._getUse(this._baseState.args[0],F)._encode(it,et)},U))}else null!==X.use?z=this._getUse(X.use,B)._encode(F,et):(Y=this._encodePrimitive(X.tag,F),q=!0);if(!X.any&&null===X.choice){const U=null!==X.implicit?X.implicit:X.tag,it=null===X.implicit?"universal":"context";null===U?null===X.use&&et.error("Tag could be omitted only for .use()"):null===X.use&&(z=this._encodeComposite(U,q,it,Y))}return null!==X.explicit&&(z=this._encodeComposite(X.explicit,!1,"context",z)),z},rt.prototype._encodeChoice=function(F,et){const B=this._baseState,X=B.choice[F.type];return X||tt(!1,F.type+" not found in "+JSON.stringify(Object.keys(B.choice))),X._encode(F.value,et)},rt.prototype._encodePrimitive=function(F,et){const B=this._baseState;if(/str$/.test(F))return this._encodeStr(et,F);if("objid"===F&&B.args)return this._encodeObjid(et,B.reverseArgs[0],B.args[1]);if("objid"===F)return this._encodeObjid(et,null,null);if("gentime"===F||"utctime"===F)return this._encodeTime(et,F);if("null_"===F)return this._encodeNull();if("int"===F||"enum"===F)return this._encodeInt(et,B.args&&B.reverseArgs[0]);if("bool"===F)return this._encodeBool(et);if("objDesc"===F)return this._encodeStr(et,F);throw new Error("Unsupported tag: "+F)},rt.prototype._isNumstr=function(F){return/^[0-9 ]*$/.test(F)},rt.prototype._isPrintstr=function(F){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(F)}},5610:(Ee,Q,ut)=>{"use strict";const ct=ut(3516);function f(tt){this._reporterState={obj:null,path:[],options:tt||{},errors:[]}}function J(tt,b){this.path=tt,this.rethrow(b)}Q.b=f,f.prototype.isError=function(b){return b instanceof J},f.prototype.save=function(){const b=this._reporterState;return{obj:b.obj,pathLen:b.path.length}},f.prototype.restore=function(b){const W=this._reporterState;W.obj=b.obj,W.path=W.path.slice(0,b.pathLen)},f.prototype.enterKey=function(b){return this._reporterState.path.push(b)},f.prototype.exitKey=function(b){const W=this._reporterState;W.path=W.path.slice(0,b-1)},f.prototype.leaveKey=function(b,W,G){const rt=this._reporterState;this.exitKey(b),null!==rt.obj&&(rt.obj[W]=G)},f.prototype.path=function(){return this._reporterState.path.join("/")},f.prototype.enterObject=function(){const b=this._reporterState,W=b.obj;return b.obj={},W},f.prototype.leaveObject=function(b){const W=this._reporterState,G=W.obj;return W.obj=b,G},f.prototype.error=function(b){let W;const G=this._reporterState,rt=b instanceof J;if(W=rt?b:new J(G.path.map(function(Z){return"["+JSON.stringify(Z)+"]"}).join(""),b.message||b,b.stack),!G.options.partial)throw W;return rt||G.errors.push(W),W},f.prototype.wrapResult=function(b){const W=this._reporterState;return W.options.partial?{result:this.isError(b)?null:b,errors:W.errors}:b},ct(J,Error),J.prototype.rethrow=function(b){if(this.message=b+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,J),!this.stack)try{throw new Error(this.message)}catch(W){this.stack=W.stack}return this}},6596:(Ee,Q)=>{"use strict";function ut(ct){const f={};return Object.keys(ct).forEach(function(J){(0|J)==J&&(J|=0),f[ct[J]]=J}),f}Q.tagClass={0:"universal",1:"application",2:"context",3:"private"},Q.tagClassByName=ut(Q.tagClass),Q.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},Q.tagByName=ut(Q.tag)},8563:(Ee,Q,ut)=>{"use strict";const ct=Q;ct._reverse=function(J){const tt={};return Object.keys(J).forEach(function(b){(0|b)==b&&(b|=0),tt[J[b]]=b}),tt},ct.der=ut(6596)},7115:(Ee,Q,ut)=>{"use strict";const ct=ut(3516),f=ut(5314),J=ut(2995).C,tt=ut(4878),b=ut(6596);function W(H){this.enc="der",this.name=H.name,this.entity=H,this.tree=new G,this.tree._init(H.body)}function G(H){tt.call(this,"der",H)}function rt(H,F){let et=H.readUInt8(F);if(H.isError(et))return et;const B=b.tagClass[et>>6],X=0==(32&et);if(31==(31&et)){let Y=et;for(et=0;128==(128&Y);){if(Y=H.readUInt8(F),H.isError(Y))return Y;et<<=7,et|=127&Y}}else et&=31;return{cls:B,primitive:X,tag:et,tagStr:b.tag[et]}}function Z(H,F,et){let B=H.readUInt8(et);if(H.isError(B))return B;if(!F&&128===B)return null;if(0==(128&B))return B;const X=127&B;if(X>4)return H.error("length octect is too long");B=0;for(let z=0;z<X;z++){B<<=8;const Y=H.readUInt8(et);if(H.isError(Y))return Y;B|=Y}return B}Ee.exports=W,W.prototype.decode=function(F,et){return J.isDecoderBuffer(F)||(F=new J(F,et)),this.tree._decode(F,et)},ct(G,tt),G.prototype._peekTag=function(F,et,B){if(F.isEmpty())return!1;const X=F.save(),z=rt(F,'Failed to peek tag: "'+et+'"');return F.isError(z)?z:(F.restore(X),z.tag===et||z.tagStr===et||z.tagStr+"of"===et||B)},G.prototype._decodeTag=function(F,et,B){const X=rt(F,'Failed to decode tag of "'+et+'"');if(F.isError(X))return X;let z=Z(F,X.primitive,'Failed to get length of "'+et+'"');if(F.isError(z))return z;if(!B&&X.tag!==et&&X.tagStr!==et&&X.tagStr+"of"!==et)return F.error('Failed to match tag: "'+et+'"');if(X.primitive||null!==z)return F.skip(z,'Failed to match body of: "'+et+'"');const Y=F.save(),q=this._skipUntilEnd(F,'Failed to skip indefinite length body: "'+this.tag+'"');return F.isError(q)?q:(z=F.offset-Y.offset,F.restore(Y),F.skip(z,'Failed to match body of: "'+et+'"'))},G.prototype._skipUntilEnd=function(F,et){for(;;){const B=rt(F,et);if(F.isError(B))return B;const X=Z(F,B.primitive,et);if(F.isError(X))return X;let z;if(z=B.primitive||null!==X?F.skip(X):this._skipUntilEnd(F,et),F.isError(z))return z;if("end"===B.tagStr)break}},G.prototype._decodeList=function(F,et,B,X){const z=[];for(;!F.isEmpty();){const Y=this._peekTag(F,"end");if(F.isError(Y))return Y;const q=B.decode(F,"der",X);if(F.isError(q)&&Y)break;z.push(q)}return z},G.prototype._decodeStr=function(F,et){if("bitstr"===et){const B=F.readUInt8();return F.isError(B)?B:{unused:B,data:F.raw()}}if("bmpstr"===et){const B=F.raw();if(B.length%2==1)return F.error("Decoding of string type: bmpstr length mismatch");let X="";for(let z=0;z<B.length/2;z++)X+=String.fromCharCode(B.readUInt16BE(2*z));return X}if("numstr"===et){const B=F.raw().toString("ascii");return this._isNumstr(B)?B:F.error("Decoding of string type: numstr unsupported characters")}if("octstr"===et)return F.raw();if("objDesc"===et)return F.raw();if("printstr"===et){const B=F.raw().toString("ascii");return this._isPrintstr(B)?B:F.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(et)?F.raw().toString():F.error("Decoding of string type: "+et+" unsupported")},G.prototype._decodeObjid=function(F,et,B){let X;const z=[];let Y=0,q=0;for(;!F.isEmpty();)q=F.readUInt8(),Y<<=7,Y|=127&q,0==(128&q)&&(z.push(Y),Y=0);if(128&q&&z.push(Y),X=B?z:[z[0]/40|0,z[0]%40].concat(z.slice(1)),et){let ot=et[X.join(" ")];void 0===ot&&(ot=et[X.join(".")]),void 0!==ot&&(X=ot)}return X},G.prototype._decodeTime=function(F,et){const B=F.raw().toString();let X,z,Y,q,U,it;if("gentime"===et)X=0|B.slice(0,4),z=0|B.slice(4,6),Y=0|B.slice(6,8),q=0|B.slice(8,10),U=0|B.slice(10,12),it=0|B.slice(12,14);else{if("utctime"!==et)return F.error("Decoding "+et+" time is not supported yet");X=0|B.slice(0,2),z=0|B.slice(2,4),Y=0|B.slice(4,6),q=0|B.slice(6,8),U=0|B.slice(8,10),it=0|B.slice(10,12),X=X<70?2e3+X:1900+X}return Date.UTC(X,z-1,Y,q,U,it,0)},G.prototype._decodeNull=function(){return null},G.prototype._decodeBool=function(F){const et=F.readUInt8();return F.isError(et)?et:0!==et},G.prototype._decodeInt=function(F,et){const B=F.raw();let X=new f(B);return et&&(X=et[X.toString(10)]||X),X},G.prototype._use=function(F,et){return"function"==typeof F&&(F=F(et)),F._getDecoder("der").tree}},3435:(Ee,Q,ut)=>{"use strict";const ct=Q;ct.der=ut(7115),ct.pem=ut(9796)},9796:(Ee,Q,ut)=>{"use strict";const ct=ut(3516),f=ut(7356).Buffer,J=ut(7115);function tt(b){J.call(this,b),this.enc="pem"}ct(tt,J),Ee.exports=tt,tt.prototype.decode=function(W,G){const rt=W.toString().split(/[\r\n]+/g),Z=G.label.toUpperCase(),H=/^-----(BEGIN|END) ([^-]+)-----$/;let F=-1,et=-1;for(let z=0;z<rt.length;z++){const Y=rt[z].match(H);if(null!==Y&&Y[2]===Z){if(-1!==F){if("END"!==Y[1])break;et=z;break}if("BEGIN"!==Y[1])break;F=z}}if(-1===F||-1===et)throw new Error("PEM section not found for: "+Z);const B=rt.slice(F+1,et).join("");B.replace(/[^a-z0-9+/=]+/gi,"");const X=f.from(B,"base64");return J.prototype.decode.call(this,X,G)}},4857:(Ee,Q,ut)=>{"use strict";const ct=ut(3516),f=ut(7356).Buffer,J=ut(4878),tt=ut(6596);function b(Z){this.enc="der",this.name=Z.name,this.entity=Z,this.tree=new W,this.tree._init(Z.body)}function W(Z){J.call(this,"der",Z)}function G(Z){return Z<10?"0"+Z:Z}Ee.exports=b,b.prototype.encode=function(H,F){return this.tree._encode(H,F).join()},ct(W,J),W.prototype._encodeComposite=function(H,F,et,B){const X=function(Z,H,F,et){let B;if("seqof"===Z?Z="seq":"setof"===Z&&(Z="set"),tt.tagByName.hasOwnProperty(Z))B=tt.tagByName[Z];else{if("number"!=typeof Z||(0|Z)!==Z)return et.error("Unknown tag: "+Z);B=Z}return B>=31?et.error("Multi-octet tag encoding unsupported"):(H||(B|=32),B|=tt.tagClassByName[F||"universal"]<<6,B)}(H,F,et,this.reporter);if(B.length<128){const q=f.alloc(2);return q[0]=X,q[1]=B.length,this._createEncoderBuffer([q,B])}let z=1;for(let q=B.length;q>=256;q>>=8)z++;const Y=f.alloc(2+z);Y[0]=X,Y[1]=128|z;for(let q=1+z,U=B.length;U>0;q--,U>>=8)Y[q]=255&U;return this._createEncoderBuffer([Y,B])},W.prototype._encodeStr=function(H,F){if("bitstr"===F)return this._createEncoderBuffer([0|H.unused,H.data]);if("bmpstr"===F){const et=f.alloc(2*H.length);for(let B=0;B<H.length;B++)et.writeUInt16BE(H.charCodeAt(B),2*B);return this._createEncoderBuffer(et)}return"numstr"===F?this._isNumstr(H)?this._createEncoderBuffer(H):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===F?this._isPrintstr(H)?this._createEncoderBuffer(H):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(F)||"objDesc"===F?this._createEncoderBuffer(H):this.reporter.error("Encoding of string type: "+F+" unsupported")},W.prototype._encodeObjid=function(H,F,et){if("string"==typeof H){if(!F)return this.reporter.error("string objid given, but no values map found");if(!F.hasOwnProperty(H))return this.reporter.error("objid not found in values map");H=F[H].split(/[\s.]+/g);for(let Y=0;Y<H.length;Y++)H[Y]|=0}else if(Array.isArray(H)){H=H.slice();for(let Y=0;Y<H.length;Y++)H[Y]|=0}if(!Array.isArray(H))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(H));if(!et){if(H[1]>=40)return this.reporter.error("Second objid identifier OOB");H.splice(0,2,40*H[0]+H[1])}let B=0;for(let Y=0;Y<H.length;Y++){let q=H[Y];for(B++;q>=128;q>>=7)B++}const X=f.alloc(B);let z=X.length-1;for(let Y=H.length-1;Y>=0;Y--){let q=H[Y];for(X[z--]=127&q;(q>>=7)>0;)X[z--]=128|127&q}return this._createEncoderBuffer(X)},W.prototype._encodeTime=function(H,F){let et;const B=new Date(H);return"gentime"===F?et=[G(B.getUTCFullYear()),G(B.getUTCMonth()+1),G(B.getUTCDate()),G(B.getUTCHours()),G(B.getUTCMinutes()),G(B.getUTCSeconds()),"Z"].join(""):"utctime"===F?et=[G(B.getUTCFullYear()%100),G(B.getUTCMonth()+1),G(B.getUTCDate()),G(B.getUTCHours()),G(B.getUTCMinutes()),G(B.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+F+" time is not supported yet"),this._encodeStr(et,"octstr")},W.prototype._encodeNull=function(){return this._createEncoderBuffer("")},W.prototype._encodeInt=function(H,F){if("string"==typeof H){if(!F)return this.reporter.error("String int or enum given, but no values map");if(!F.hasOwnProperty(H))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(H));H=F[H]}if("number"!=typeof H&&!f.isBuffer(H)){const X=H.toArray();!H.sign&&128&X[0]&&X.unshift(0),H=f.from(X)}if(f.isBuffer(H)){let X=H.length;0===H.length&&X++;const z=f.alloc(X);return H.copy(z),0===H.length&&(z[0]=0),this._createEncoderBuffer(z)}if(H<128)return this._createEncoderBuffer(H);if(H<256)return this._createEncoderBuffer([0,H]);let et=1;for(let X=H;X>=256;X>>=8)et++;const B=new Array(et);for(let X=B.length-1;X>=0;X--)B[X]=255&H,H>>=8;return 128&B[0]&&B.unshift(0),this._createEncoderBuffer(f.from(B))},W.prototype._encodeBool=function(H){return this._createEncoderBuffer(H?255:0)},W.prototype._use=function(H,F){return"function"==typeof H&&(H=H(F)),H._getEncoder("der").tree},W.prototype._skipDefault=function(H,F,et){const B=this._baseState;let X;if(null===B.default)return!1;const z=H.join();if(void 0===B.defaultBuffer&&(B.defaultBuffer=this._encodeValue(B.default,F,et).join()),z.length!==B.defaultBuffer.length)return!1;for(X=0;X<z.length;X++)if(z[X]!==B.defaultBuffer[X])return!1;return!0}},9589:(Ee,Q,ut)=>{"use strict";const ct=Q;ct.der=ut(4857),ct.pem=ut(5695)},5695:(Ee,Q,ut)=>{"use strict";const ct=ut(3516),f=ut(4857);function J(tt){f.call(this,tt),this.enc="pem"}ct(J,f),Ee.exports=J,J.prototype.encode=function(b,W){const rt=f.prototype.encode.call(this,b).toString("base64"),Z=["-----BEGIN "+W.label+"-----"];for(let H=0;H<rt.length;H+=64)Z.push(rt.slice(H,H+64));return Z.push("-----END "+W.label+"-----"),Z.join("\n")}},5314:function(Ee,Q,ut){!function(ct,f){"use strict";function J(A,o){if(!A)throw new Error(o||"Assertion failed")}function tt(A,o){A.super_=o;var c=function(){};c.prototype=o.prototype,A.prototype=new c,A.prototype.constructor=A}function b(A,o,c){if(b.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,null!==A&&(("le"===o||"be"===o)&&(c=o,o=10),this._init(A||0,o||10,c||"be"))}var W;"object"==typeof ct?ct.exports=b:f.BN=b,b.BN=b,b.wordSize=26;try{W="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:ut(950).Buffer}catch(A){}function G(A,o){var c=A.charCodeAt(o);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function rt(A,o,c){var g=G(A,c);return c-1>=o&&(g|=G(A,c-1)<<4),g}function Z(A,o,c,g){for(var p=0,w=Math.min(A.length,c),S=o;S<w;S++){var T=A.charCodeAt(S)-48;p*=g,p+=T>=49?T-49+10:T>=17?T-17+10:T}return p}b.isBN=function(o){return o instanceof b||null!==o&&"object"==typeof o&&o.constructor.wordSize===b.wordSize&&Array.isArray(o.words)},b.max=function(o,c){return o.cmp(c)>0?o:c},b.min=function(o,c){return o.cmp(c)<0?o:c},b.prototype._init=function(o,c,g){if("number"==typeof o)return this._initNumber(o,c,g);if("object"==typeof o)return this._initArray(o,c,g);"hex"===c&&(c=16),J(c===(0|c)&&c>=2&&c<=36);var p=0;"-"===(o=o.toString().replace(/\s+/g,""))[0]&&(p++,this.negative=1),p<o.length&&(16===c?this._parseHex(o,p,g):(this._parseBase(o,c,p),"le"===g&&this._initArray(this.toArray(),c,g)))},b.prototype._initNumber=function(o,c,g){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[67108863&o],this.length=1):o<4503599627370496?(this.words=[67108863&o,o/67108864&67108863],this.length=2):(J(o<9007199254740992),this.words=[67108863&o,o/67108864&67108863,1],this.length=3),"le"===g&&this._initArray(this.toArray(),c,g)},b.prototype._initArray=function(o,c,g){if(J("number"==typeof o.length),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var w,S,T=0;if("be"===g)for(p=o.length-1,w=0;p>=0;p-=3)this.words[w]|=(S=o[p]|o[p-1]<<8|o[p-2]<<16)<<T&67108863,this.words[w+1]=S>>>26-T&67108863,(T+=24)>=26&&(T-=26,w++);else if("le"===g)for(p=0,w=0;p<o.length;p+=3)this.words[w]|=(S=o[p]|o[p+1]<<8|o[p+2]<<16)<<T&67108863,this.words[w+1]=S>>>26-T&67108863,(T+=24)>=26&&(T-=26,w++);return this.strip()},b.prototype._parseHex=function(o,c,g){this.length=Math.ceil((o.length-c)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var T,w=0,S=0;if("be"===g)for(p=o.length-1;p>=c;p-=2)T=rt(o,c,p)<<w,this.words[S]|=67108863&T,w>=18?(w-=18,this.words[S+=1]|=T>>>26):w+=8;else for(p=(o.length-c)%2==0?c+1:c;p<o.length;p+=2)T=rt(o,c,p)<<w,this.words[S]|=67108863&T,w>=18?(w-=18,this.words[S+=1]|=T>>>26):w+=8;this.strip()},b.prototype._parseBase=function(o,c,g){this.words=[0],this.length=1;for(var p=0,w=1;w<=67108863;w*=c)p++;p--,w=w/c|0;for(var S=o.length-g,T=S%p,C=Math.min(S,S-T)+g,h=0,k=g;k<C;k+=p)h=Z(o,k,k+p,c),this.imuln(w),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==T){var ft=1;for(h=Z(o,k,o.length,c),k=0;k<T;k++)ft*=c;this.imuln(ft),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},b.prototype.copy=function(o){o.words=new Array(this.length);for(var c=0;c<this.length;c++)o.words[c]=this.words[c];o.length=this.length,o.negative=this.negative,o.red=this.red},b.prototype.clone=function(){var o=new b(null);return this.copy(o),o},b.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},b.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},b.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},b.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var H=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],F=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],et=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function X(A,o,c){c.negative=o.negative^A.negative;var g=A.length+o.length|0;c.length=g,g=g-1|0;var p=0|A.words[0],w=0|o.words[0],S=p*w,C=S/67108864|0;c.words[0]=67108863&S;for(var h=1;h<g;h++){for(var k=C>>>26,ft=67108863&C,at=Math.min(h,o.length-1),st=Math.max(0,h-A.length+1);st<=at;st++)k+=(S=(p=0|A.words[h-st|0])*(w=0|o.words[st])+ft)/67108864|0,ft=67108863&S;c.words[h]=0|ft,C=0|k}return 0!==C?c.words[h]=0|C:c.length--,c.strip()}b.prototype.toString=function(o,c){var g;if(c=0|c||1,16===(o=o||10)||"hex"===o){g="";for(var p=0,w=0,S=0;S<this.length;S++){var T=this.words[S],C=(16777215&(T<<p|w)).toString(16);g=0!=(w=T>>>24-p&16777215)||S!==this.length-1?H[6-C.length]+C+g:C+g,(p+=2)>=26&&(p-=26,S--)}for(0!==w&&(g=w.toString(16)+g);g.length%c!=0;)g="0"+g;return 0!==this.negative&&(g="-"+g),g}if(o===(0|o)&&o>=2&&o<=36){var h=F[o],k=et[o];g="";var ft=this.clone();for(ft.negative=0;!ft.isZero();){var at=ft.modn(k).toString(o);g=(ft=ft.idivn(k)).isZero()?at+g:H[h-at.length]+at+g}for(this.isZero()&&(g="0"+g);g.length%c!=0;)g="0"+g;return 0!==this.negative&&(g="-"+g),g}J(!1,"Base should be between 2 and 36")},b.prototype.toNumber=function(){var o=this.words[0];return 2===this.length?o+=67108864*this.words[1]:3===this.length&&1===this.words[2]?o+=4503599627370496+67108864*this.words[1]:this.length>2&&J(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-o:o},b.prototype.toJSON=function(){return this.toString(16)},b.prototype.toBuffer=function(o,c){return J(void 0!==W),this.toArrayLike(W,o,c)},b.prototype.toArray=function(o,c){return this.toArrayLike(Array,o,c)},b.prototype.toArrayLike=function(o,c,g){var p=this.byteLength(),w=g||Math.max(1,p);J(p<=w,"byte array longer than desired length"),J(w>0,"Requested array length <= 0"),this.strip();var C,h,S="le"===c,T=new o(w),k=this.clone();if(S){for(h=0;!k.isZero();h++)C=k.andln(255),k.iushrn(8),T[h]=C;for(;h<w;h++)T[h]=0}else{for(h=0;h<w-p;h++)T[h]=0;for(h=0;!k.isZero();h++)C=k.andln(255),k.iushrn(8),T[w-h-1]=C}return T},b.prototype._countBits=Math.clz32?function(o){return 32-Math.clz32(o)}:function(o){var c=o,g=0;return c>=4096&&(g+=13,c>>>=13),c>=64&&(g+=7,c>>>=7),c>=8&&(g+=4,c>>>=4),c>=2&&(g+=2,c>>>=2),g+c},b.prototype._zeroBits=function(o){if(0===o)return 26;var c=o,g=0;return 0==(8191&c)&&(g+=13,c>>>=13),0==(127&c)&&(g+=7,c>>>=7),0==(15&c)&&(g+=4,c>>>=4),0==(3&c)&&(g+=2,c>>>=2),0==(1&c)&&g++,g},b.prototype.bitLength=function(){var c=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+c},b.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,c=0;c<this.length;c++){var g=this._zeroBits(this.words[c]);if(o+=g,26!==g)break}return o},b.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},b.prototype.toTwos=function(o){return 0!==this.negative?this.abs().inotn(o).iaddn(1):this.clone()},b.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},b.prototype.isNeg=function(){return 0!==this.negative},b.prototype.neg=function(){return this.clone().ineg()},b.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},b.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var c=0;c<o.length;c++)this.words[c]=this.words[c]|o.words[c];return this.strip()},b.prototype.ior=function(o){return J(0==(this.negative|o.negative)),this.iuor(o)},b.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},b.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},b.prototype.iuand=function(o){var c;c=this.length>o.length?o:this;for(var g=0;g<c.length;g++)this.words[g]=this.words[g]&o.words[g];return this.length=c.length,this.strip()},b.prototype.iand=function(o){return J(0==(this.negative|o.negative)),this.iuand(o)},b.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},b.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},b.prototype.iuxor=function(o){var c,g;this.length>o.length?(c=this,g=o):(c=o,g=this);for(var p=0;p<g.length;p++)this.words[p]=c.words[p]^g.words[p];if(this!==c)for(;p<c.length;p++)this.words[p]=c.words[p];return this.length=c.length,this.strip()},b.prototype.ixor=function(o){return J(0==(this.negative|o.negative)),this.iuxor(o)},b.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},b.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},b.prototype.inotn=function(o){J("number"==typeof o&&o>=0);var c=0|Math.ceil(o/26),g=o%26;this._expand(c),g>0&&c--;for(var p=0;p<c;p++)this.words[p]=67108863&~this.words[p];return g>0&&(this.words[p]=~this.words[p]&67108863>>26-g),this.strip()},b.prototype.notn=function(o){return this.clone().inotn(o)},b.prototype.setn=function(o,c){J("number"==typeof o&&o>=0);var g=o/26|0,p=o%26;return this._expand(g+1),this.words[g]=c?this.words[g]|1<<p:this.words[g]&~(1<<p),this.strip()},b.prototype.iadd=function(o){var c,g,p;if(0!==this.negative&&0===o.negative)return this.negative=0,c=this.isub(o),this.negative^=1,this._normSign();if(0===this.negative&&0!==o.negative)return o.negative=0,c=this.isub(o),o.negative=1,c._normSign();this.length>o.length?(g=this,p=o):(g=o,p=this);for(var w=0,S=0;S<p.length;S++)this.words[S]=67108863&(c=(0|g.words[S])+(0|p.words[S])+w),w=c>>>26;for(;0!==w&&S<g.length;S++)this.words[S]=67108863&(c=(0|g.words[S])+w),w=c>>>26;if(this.length=g.length,0!==w)this.words[this.length]=w,this.length++;else if(g!==this)for(;S<g.length;S++)this.words[S]=g.words[S];return this},b.prototype.add=function(o){var c;return 0!==o.negative&&0===this.negative?(o.negative=0,c=this.sub(o),o.negative^=1,c):0===o.negative&&0!==this.negative?(this.negative=0,c=o.sub(this),this.negative=1,c):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},b.prototype.isub=function(o){if(0!==o.negative){o.negative=0;var c=this.iadd(o);return o.negative=1,c._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var p,w,g=this.cmp(o);if(0===g)return this.negative=0,this.length=1,this.words[0]=0,this;g>0?(p=this,w=o):(p=o,w=this);for(var S=0,T=0;T<w.length;T++)S=(c=(0|p.words[T])-(0|w.words[T])+S)>>26,this.words[T]=67108863&c;for(;0!==S&&T<p.length;T++)S=(c=(0|p.words[T])+S)>>26,this.words[T]=67108863&c;if(0===S&&T<p.length&&p!==this)for(;T<p.length;T++)this.words[T]=p.words[T];return this.length=Math.max(this.length,T),p!==this&&(this.negative=1),this.strip()},b.prototype.sub=function(o){return this.clone().isub(o)};var z=function(o,c,g){var C,h,k,p=o.words,w=c.words,S=g.words,T=0,ft=0|p[0],at=8191&ft,st=ft>>>13,Mt=0|p[1],St=8191&Mt,Xt=Mt>>>13,te=0|p[2],Vt=8191&te,Dt=te>>>13,ve=0|p[3],Gt=8191&ve,Nt=ve>>>13,Kt=0|p[4],fe=8191&Kt,zt=Kt>>>13,Ne=0|p[5],Pt=8191&Ne,Se=Ne>>>13,Fi=0|p[6],Ge=8191&Fi,_e=Fi>>>13,Ce=0|p[7],Bt=8191&Ce,re=Ce>>>13,Ye=0|p[8],jt=8191&Ye,yt=Ye>>>13,ht=0|p[9],ce=8191&ht,ke=ht>>>13,Pi=0|w[0],We=8191&Pi,si=Pi>>>13,bn=0|w[1],wi=8191&bn,je=bn>>>13,ci=0|w[2],Oe=8191&ci,oi=ci>>>13,Vn=0|w[3],ei=8191&Vn,De=Vn>>>13,qe=0|w[4],ni=8191&qe,ne=qe>>>13,Qt=0|w[5],Zt=8191&Qt,Ut=Qt>>>13,xe=0|w[6],ue=8191&xe,Re=xe>>>13,pi=0|w[7],he=8191&pi,$e=pi>>>13,_n=0|w[8],Ei=8191&_n,zi=_n>>>13,ir=0|w[9],bi=8191&ir,Li=ir>>>13;g.negative=o.negative^c.negative,g.length=19;var Ln=(T+(C=Math.imul(at,We))|0)+((8191&(h=(h=Math.imul(at,si))+Math.imul(st,We)|0))<<13)|0;T=((k=Math.imul(st,si))+(h>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,C=Math.imul(St,We),h=(h=Math.imul(St,si))+Math.imul(Xt,We)|0,k=Math.imul(Xt,si);var Kn=(T+(C=C+Math.imul(at,wi)|0)|0)+((8191&(h=(h=h+Math.imul(at,je)|0)+Math.imul(st,wi)|0))<<13)|0;T=((k=k+Math.imul(st,je)|0)+(h>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,C=Math.imul(Vt,We),h=(h=Math.imul(Vt,si))+Math.imul(Dt,We)|0,k=Math.imul(Dt,si),C=C+Math.imul(St,wi)|0,h=(h=h+Math.imul(St,je)|0)+Math.imul(Xt,wi)|0,k=k+Math.imul(Xt,je)|0;var pr=(T+(C=C+Math.imul(at,Oe)|0)|0)+((8191&(h=(h=h+Math.imul(at,oi)|0)+Math.imul(st,Oe)|0))<<13)|0;T=((k=k+Math.imul(st,oi)|0)+(h>>>13)|0)+(pr>>>26)|0,pr&=67108863,C=Math.imul(Gt,We),h=(h=Math.imul(Gt,si))+Math.imul(Nt,We)|0,k=Math.imul(Nt,si),C=C+Math.imul(Vt,wi)|0,h=(h=h+Math.imul(Vt,je)|0)+Math.imul(Dt,wi)|0,k=k+Math.imul(Dt,je)|0,C=C+Math.imul(St,Oe)|0,h=(h=h+Math.imul(St,oi)|0)+Math.imul(Xt,Oe)|0,k=k+Math.imul(Xt,oi)|0;var Jn=(T+(C=C+Math.imul(at,ei)|0)|0)+((8191&(h=(h=h+Math.imul(at,De)|0)+Math.imul(st,ei)|0))<<13)|0;T=((k=k+Math.imul(st,De)|0)+(h>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,C=Math.imul(fe,We),h=(h=Math.imul(fe,si))+Math.imul(zt,We)|0,k=Math.imul(zt,si),C=C+Math.imul(Gt,wi)|0,h=(h=h+Math.imul(Gt,je)|0)+Math.imul(Nt,wi)|0,k=k+Math.imul(Nt,je)|0,C=C+Math.imul(Vt,Oe)|0,h=(h=h+Math.imul(Vt,oi)|0)+Math.imul(Dt,Oe)|0,k=k+Math.imul(Dt,oi)|0,C=C+Math.imul(St,ei)|0,h=(h=h+Math.imul(St,De)|0)+Math.imul(Xt,ei)|0,k=k+Math.imul(Xt,De)|0;var Ni=(T+(C=C+Math.imul(at,ni)|0)|0)+((8191&(h=(h=h+Math.imul(at,ne)|0)+Math.imul(st,ni)|0))<<13)|0;T=((k=k+Math.imul(st,ne)|0)+(h>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,C=Math.imul(Pt,We),h=(h=Math.imul(Pt,si))+Math.imul(Se,We)|0,k=Math.imul(Se,si),C=C+Math.imul(fe,wi)|0,h=(h=h+Math.imul(fe,je)|0)+Math.imul(zt,wi)|0,k=k+Math.imul(zt,je)|0,C=C+Math.imul(Gt,Oe)|0,h=(h=h+Math.imul(Gt,oi)|0)+Math.imul(Nt,Oe)|0,k=k+Math.imul(Nt,oi)|0,C=C+Math.imul(Vt,ei)|0,h=(h=h+Math.imul(Vt,De)|0)+Math.imul(Dt,ei)|0,k=k+Math.imul(Dt,De)|0,C=C+Math.imul(St,ni)|0,h=(h=h+Math.imul(St,ne)|0)+Math.imul(Xt,ni)|0,k=k+Math.imul(Xt,ne)|0;var xi=(T+(C=C+Math.imul(at,Zt)|0)|0)+((8191&(h=(h=h+Math.imul(at,Ut)|0)+Math.imul(st,Zt)|0))<<13)|0;T=((k=k+Math.imul(st,Ut)|0)+(h>>>13)|0)+(xi>>>26)|0,xi&=67108863,C=Math.imul(Ge,We),h=(h=Math.imul(Ge,si))+Math.imul(_e,We)|0,k=Math.imul(_e,si),C=C+Math.imul(Pt,wi)|0,h=(h=h+Math.imul(Pt,je)|0)+Math.imul(Se,wi)|0,k=k+Math.imul(Se,je)|0,C=C+Math.imul(fe,Oe)|0,h=(h=h+Math.imul(fe,oi)|0)+Math.imul(zt,Oe)|0,k=k+Math.imul(zt,oi)|0,C=C+Math.imul(Gt,ei)|0,h=(h=h+Math.imul(Gt,De)|0)+Math.imul(Nt,ei)|0,k=k+Math.imul(Nt,De)|0,C=C+Math.imul(Vt,ni)|0,h=(h=h+Math.imul(Vt,ne)|0)+Math.imul(Dt,ni)|0,k=k+Math.imul(Dt,ne)|0,C=C+Math.imul(St,Zt)|0,h=(h=h+Math.imul(St,Ut)|0)+Math.imul(Xt,Zt)|0,k=k+Math.imul(Xt,Ut)|0;var Je=(T+(C=C+Math.imul(at,ue)|0)|0)+((8191&(h=(h=h+Math.imul(at,Re)|0)+Math.imul(st,ue)|0))<<13)|0;T=((k=k+Math.imul(st,Re)|0)+(h>>>13)|0)+(Je>>>26)|0,Je&=67108863,C=Math.imul(Bt,We),h=(h=Math.imul(Bt,si))+Math.imul(re,We)|0,k=Math.imul(re,si),C=C+Math.imul(Ge,wi)|0,h=(h=h+Math.imul(Ge,je)|0)+Math.imul(_e,wi)|0,k=k+Math.imul(_e,je)|0,C=C+Math.imul(Pt,Oe)|0,h=(h=h+Math.imul(Pt,oi)|0)+Math.imul(Se,Oe)|0,k=k+Math.imul(Se,oi)|0,C=C+Math.imul(fe,ei)|0,h=(h=h+Math.imul(fe,De)|0)+Math.imul(zt,ei)|0,k=k+Math.imul(zt,De)|0,C=C+Math.imul(Gt,ni)|0,h=(h=h+Math.imul(Gt,ne)|0)+Math.imul(Nt,ni)|0,k=k+Math.imul(Nt,ne)|0,C=C+Math.imul(Vt,Zt)|0,h=(h=h+Math.imul(Vt,Ut)|0)+Math.imul(Dt,Zt)|0,k=k+Math.imul(Dt,Ut)|0,C=C+Math.imul(St,ue)|0,h=(h=h+Math.imul(St,Re)|0)+Math.imul(Xt,ue)|0,k=k+Math.imul(Xt,Re)|0;var Ui=(T+(C=C+Math.imul(at,he)|0)|0)+((8191&(h=(h=h+Math.imul(at,$e)|0)+Math.imul(st,he)|0))<<13)|0;T=((k=k+Math.imul(st,$e)|0)+(h>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,C=Math.imul(jt,We),h=(h=Math.imul(jt,si))+Math.imul(yt,We)|0,k=Math.imul(yt,si),C=C+Math.imul(Bt,wi)|0,h=(h=h+Math.imul(Bt,je)|0)+Math.imul(re,wi)|0,k=k+Math.imul(re,je)|0,C=C+Math.imul(Ge,Oe)|0,h=(h=h+Math.imul(Ge,oi)|0)+Math.imul(_e,Oe)|0,k=k+Math.imul(_e,oi)|0,C=C+Math.imul(Pt,ei)|0,h=(h=h+Math.imul(Pt,De)|0)+Math.imul(Se,ei)|0,k=k+Math.imul(Se,De)|0,C=C+Math.imul(fe,ni)|0,h=(h=h+Math.imul(fe,ne)|0)+Math.imul(zt,ni)|0,k=k+Math.imul(zt,ne)|0,C=C+Math.imul(Gt,Zt)|0,h=(h=h+Math.imul(Gt,Ut)|0)+Math.imul(Nt,Zt)|0,k=k+Math.imul(Nt,Ut)|0,C=C+Math.imul(Vt,ue)|0,h=(h=h+Math.imul(Vt,Re)|0)+Math.imul(Dt,ue)|0,k=k+Math.imul(Dt,Re)|0,C=C+Math.imul(St,he)|0,h=(h=h+Math.imul(St,$e)|0)+Math.imul(Xt,he)|0,k=k+Math.imul(Xt,$e)|0;var on=(T+(C=C+Math.imul(at,Ei)|0)|0)+((8191&(h=(h=h+Math.imul(at,zi)|0)+Math.imul(st,Ei)|0))<<13)|0;T=((k=k+Math.imul(st,zi)|0)+(h>>>13)|0)+(on>>>26)|0,on&=67108863,C=Math.imul(ce,We),h=(h=Math.imul(ce,si))+Math.imul(ke,We)|0,k=Math.imul(ke,si),C=C+Math.imul(jt,wi)|0,h=(h=h+Math.imul(jt,je)|0)+Math.imul(yt,wi)|0,k=k+Math.imul(yt,je)|0,C=C+Math.imul(Bt,Oe)|0,h=(h=h+Math.imul(Bt,oi)|0)+Math.imul(re,Oe)|0,k=k+Math.imul(re,oi)|0,C=C+Math.imul(Ge,ei)|0,h=(h=h+Math.imul(Ge,De)|0)+Math.imul(_e,ei)|0,k=k+Math.imul(_e,De)|0,C=C+Math.imul(Pt,ni)|0,h=(h=h+Math.imul(Pt,ne)|0)+Math.imul(Se,ni)|0,k=k+Math.imul(Se,ne)|0,C=C+Math.imul(fe,Zt)|0,h=(h=h+Math.imul(fe,Ut)|0)+Math.imul(zt,Zt)|0,k=k+Math.imul(zt,Ut)|0,C=C+Math.imul(Gt,ue)|0,h=(h=h+Math.imul(Gt,Re)|0)+Math.imul(Nt,ue)|0,k=k+Math.imul(Nt,Re)|0,C=C+Math.imul(Vt,he)|0,h=(h=h+Math.imul(Vt,$e)|0)+Math.imul(Dt,he)|0,k=k+Math.imul(Dt,$e)|0,C=C+Math.imul(St,Ei)|0,h=(h=h+Math.imul(St,zi)|0)+Math.imul(Xt,Ei)|0,k=k+Math.imul(Xt,zi)|0;var nr=(T+(C=C+Math.imul(at,bi)|0)|0)+((8191&(h=(h=h+Math.imul(at,Li)|0)+Math.imul(st,bi)|0))<<13)|0;T=((k=k+Math.imul(st,Li)|0)+(h>>>13)|0)+(nr>>>26)|0,nr&=67108863,C=Math.imul(ce,wi),h=(h=Math.imul(ce,je))+Math.imul(ke,wi)|0,k=Math.imul(ke,je),C=C+Math.imul(jt,Oe)|0,h=(h=h+Math.imul(jt,oi)|0)+Math.imul(yt,Oe)|0,k=k+Math.imul(yt,oi)|0,C=C+Math.imul(Bt,ei)|0,h=(h=h+Math.imul(Bt,De)|0)+Math.imul(re,ei)|0,k=k+Math.imul(re,De)|0,C=C+Math.imul(Ge,ni)|0,h=(h=h+Math.imul(Ge,ne)|0)+Math.imul(_e,ni)|0,k=k+Math.imul(_e,ne)|0,C=C+Math.imul(Pt,Zt)|0,h=(h=h+Math.imul(Pt,Ut)|0)+Math.imul(Se,Zt)|0,k=k+Math.imul(Se,Ut)|0,C=C+Math.imul(fe,ue)|0,h=(h=h+Math.imul(fe,Re)|0)+Math.imul(zt,ue)|0,k=k+Math.imul(zt,Re)|0,C=C+Math.imul(Gt,he)|0,h=(h=h+Math.imul(Gt,$e)|0)+Math.imul(Nt,he)|0,k=k+Math.imul(Nt,$e)|0,C=C+Math.imul(Vt,Ei)|0,h=(h=h+Math.imul(Vt,zi)|0)+Math.imul(Dt,Ei)|0,k=k+Math.imul(Dt,zi)|0;var mr=(T+(C=C+Math.imul(St,bi)|0)|0)+((8191&(h=(h=h+Math.imul(St,Li)|0)+Math.imul(Xt,bi)|0))<<13)|0;T=((k=k+Math.imul(Xt,Li)|0)+(h>>>13)|0)+(mr>>>26)|0,mr&=67108863,C=Math.imul(ce,Oe),h=(h=Math.imul(ce,oi))+Math.imul(ke,Oe)|0,k=Math.imul(ke,oi),C=C+Math.imul(jt,ei)|0,h=(h=h+Math.imul(jt,De)|0)+Math.imul(yt,ei)|0,k=k+Math.imul(yt,De)|0,C=C+Math.imul(Bt,ni)|0,h=(h=h+Math.imul(Bt,ne)|0)+Math.imul(re,ni)|0,k=k+Math.imul(re,ne)|0,C=C+Math.imul(Ge,Zt)|0,h=(h=h+Math.imul(Ge,Ut)|0)+Math.imul(_e,Zt)|0,k=k+Math.imul(_e,Ut)|0,C=C+Math.imul(Pt,ue)|0,h=(h=h+Math.imul(Pt,Re)|0)+Math.imul(Se,ue)|0,k=k+Math.imul(Se,Re)|0,C=C+Math.imul(fe,he)|0,h=(h=h+Math.imul(fe,$e)|0)+Math.imul(zt,he)|0,k=k+Math.imul(zt,$e)|0,C=C+Math.imul(Gt,Ei)|0,h=(h=h+Math.imul(Gt,zi)|0)+Math.imul(Nt,Ei)|0,k=k+Math.imul(Nt,zi)|0;var Ar=(T+(C=C+Math.imul(Vt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Vt,Li)|0)+Math.imul(Dt,bi)|0))<<13)|0;T=((k=k+Math.imul(Dt,Li)|0)+(h>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,C=Math.imul(ce,ei),h=(h=Math.imul(ce,De))+Math.imul(ke,ei)|0,k=Math.imul(ke,De),C=C+Math.imul(jt,ni)|0,h=(h=h+Math.imul(jt,ne)|0)+Math.imul(yt,ni)|0,k=k+Math.imul(yt,ne)|0,C=C+Math.imul(Bt,Zt)|0,h=(h=h+Math.imul(Bt,Ut)|0)+Math.imul(re,Zt)|0,k=k+Math.imul(re,Ut)|0,C=C+Math.imul(Ge,ue)|0,h=(h=h+Math.imul(Ge,Re)|0)+Math.imul(_e,ue)|0,k=k+Math.imul(_e,Re)|0,C=C+Math.imul(Pt,he)|0,h=(h=h+Math.imul(Pt,$e)|0)+Math.imul(Se,he)|0,k=k+Math.imul(Se,$e)|0,C=C+Math.imul(fe,Ei)|0,h=(h=h+Math.imul(fe,zi)|0)+Math.imul(zt,Ei)|0,k=k+Math.imul(zt,zi)|0;var hn=(T+(C=C+Math.imul(Gt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Gt,Li)|0)+Math.imul(Nt,bi)|0))<<13)|0;T=((k=k+Math.imul(Nt,Li)|0)+(h>>>13)|0)+(hn>>>26)|0,hn&=67108863,C=Math.imul(ce,ni),h=(h=Math.imul(ce,ne))+Math.imul(ke,ni)|0,k=Math.imul(ke,ne),C=C+Math.imul(jt,Zt)|0,h=(h=h+Math.imul(jt,Ut)|0)+Math.imul(yt,Zt)|0,k=k+Math.imul(yt,Ut)|0,C=C+Math.imul(Bt,ue)|0,h=(h=h+Math.imul(Bt,Re)|0)+Math.imul(re,ue)|0,k=k+Math.imul(re,Re)|0,C=C+Math.imul(Ge,he)|0,h=(h=h+Math.imul(Ge,$e)|0)+Math.imul(_e,he)|0,k=k+Math.imul(_e,$e)|0,C=C+Math.imul(Pt,Ei)|0,h=(h=h+Math.imul(Pt,zi)|0)+Math.imul(Se,Ei)|0,k=k+Math.imul(Se,zi)|0;var xr=(T+(C=C+Math.imul(fe,bi)|0)|0)+((8191&(h=(h=h+Math.imul(fe,Li)|0)+Math.imul(zt,bi)|0))<<13)|0;T=((k=k+Math.imul(zt,Li)|0)+(h>>>13)|0)+(xr>>>26)|0,xr&=67108863,C=Math.imul(ce,Zt),h=(h=Math.imul(ce,Ut))+Math.imul(ke,Zt)|0,k=Math.imul(ke,Ut),C=C+Math.imul(jt,ue)|0,h=(h=h+Math.imul(jt,Re)|0)+Math.imul(yt,ue)|0,k=k+Math.imul(yt,Re)|0,C=C+Math.imul(Bt,he)|0,h=(h=h+Math.imul(Bt,$e)|0)+Math.imul(re,he)|0,k=k+Math.imul(re,$e)|0,C=C+Math.imul(Ge,Ei)|0,h=(h=h+Math.imul(Ge,zi)|0)+Math.imul(_e,Ei)|0,k=k+Math.imul(_e,zi)|0;var Hr=(T+(C=C+Math.imul(Pt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Pt,Li)|0)+Math.imul(Se,bi)|0))<<13)|0;T=((k=k+Math.imul(Se,Li)|0)+(h>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,C=Math.imul(ce,ue),h=(h=Math.imul(ce,Re))+Math.imul(ke,ue)|0,k=Math.imul(ke,Re),C=C+Math.imul(jt,he)|0,h=(h=h+Math.imul(jt,$e)|0)+Math.imul(yt,he)|0,k=k+Math.imul(yt,$e)|0,C=C+Math.imul(Bt,Ei)|0,h=(h=h+Math.imul(Bt,zi)|0)+Math.imul(re,Ei)|0,k=k+Math.imul(re,zi)|0;var so=(T+(C=C+Math.imul(Ge,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Ge,Li)|0)+Math.imul(_e,bi)|0))<<13)|0;T=((k=k+Math.imul(_e,Li)|0)+(h>>>13)|0)+(so>>>26)|0,so&=67108863,C=Math.imul(ce,he),h=(h=Math.imul(ce,$e))+Math.imul(ke,he)|0,k=Math.imul(ke,$e),C=C+Math.imul(jt,Ei)|0,h=(h=h+Math.imul(jt,zi)|0)+Math.imul(yt,Ei)|0,k=k+Math.imul(yt,zi)|0;var Vr=(T+(C=C+Math.imul(Bt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Bt,Li)|0)+Math.imul(re,bi)|0))<<13)|0;T=((k=k+Math.imul(re,Li)|0)+(h>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,C=Math.imul(ce,Ei),h=(h=Math.imul(ce,zi))+Math.imul(ke,Ei)|0,k=Math.imul(ke,zi);var Pr=(T+(C=C+Math.imul(jt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(jt,Li)|0)+Math.imul(yt,bi)|0))<<13)|0;T=((k=k+Math.imul(yt,Li)|0)+(h>>>13)|0)+(Pr>>>26)|0,Pr&=67108863;var ar=(T+(C=Math.imul(ce,bi))|0)+((8191&(h=(h=Math.imul(ce,Li))+Math.imul(ke,bi)|0))<<13)|0;return T=((k=Math.imul(ke,Li))+(h>>>13)|0)+(ar>>>26)|0,ar&=67108863,S[0]=Ln,S[1]=Kn,S[2]=pr,S[3]=Jn,S[4]=Ni,S[5]=xi,S[6]=Je,S[7]=Ui,S[8]=on,S[9]=nr,S[10]=mr,S[11]=Ar,S[12]=hn,S[13]=xr,S[14]=Hr,S[15]=so,S[16]=Vr,S[17]=Pr,S[18]=ar,0!==T&&(S[19]=T,g.length++),g};function q(A,o,c){return(new U).mulp(A,o,c)}function U(A,o){this.x=A,this.y=o}Math.imul||(z=X),b.prototype.mulTo=function(o,c){var g,p=this.length+o.length;return g=10===this.length&&10===o.length?z(this,o,c):p<63?X(this,o,c):p<1024?function(A,o,c){c.negative=o.negative^A.negative,c.length=A.length+o.length;for(var g=0,p=0,w=0;w<c.length-1;w++){var S=p;p=0;for(var T=67108863&g,C=Math.min(w,o.length-1),h=Math.max(0,w-A.length+1);h<=C;h++){var st=(0|A.words[w-h])*(0|o.words[h]),Mt=67108863&st;T=67108863&(Mt=Mt+T|0),p+=(S=(S=S+(st/67108864|0)|0)+(Mt>>>26)|0)>>>26,S&=67108863}c.words[w]=T,g=S,S=p}return 0!==g?c.words[w]=g:c.length--,c.strip()}(this,o,c):q(this,o,c),g},U.prototype.makeRBT=function(o){for(var c=new Array(o),g=b.prototype._countBits(o)-1,p=0;p<o;p++)c[p]=this.revBin(p,g,o);return c},U.prototype.revBin=function(o,c,g){if(0===o||o===g-1)return o;for(var p=0,w=0;w<c;w++)p|=(1&o)<<c-w-1,o>>=1;return p},U.prototype.permute=function(o,c,g,p,w,S){for(var T=0;T<S;T++)p[T]=c[o[T]],w[T]=g[o[T]]},U.prototype.transform=function(o,c,g,p,w,S){this.permute(S,o,c,g,p,w);for(var T=1;T<w;T<<=1)for(var C=T<<1,h=Math.cos(2*Math.PI/C),k=Math.sin(2*Math.PI/C),ft=0;ft<w;ft+=C)for(var at=h,st=k,Mt=0;Mt<T;Mt++){var St=g[ft+Mt],Xt=p[ft+Mt],te=g[ft+Mt+T],Vt=p[ft+Mt+T],Dt=at*te-st*Vt;Vt=at*Vt+st*te,g[ft+Mt]=St+(te=Dt),p[ft+Mt]=Xt+Vt,g[ft+Mt+T]=St-te,p[ft+Mt+T]=Xt-Vt,Mt!==C&&(Dt=h*at-k*st,st=h*st+k*at,at=Dt)}},U.prototype.guessLen13b=function(o,c){var g=1|Math.max(c,o),p=1&g,w=0;for(g=g/2|0;g;g>>>=1)w++;return 1<<w+1+p},U.prototype.conjugate=function(o,c,g){if(!(g<=1))for(var p=0;p<g/2;p++){var w=o[p];o[p]=o[g-p-1],o[g-p-1]=w,w=c[p],c[p]=-c[g-p-1],c[g-p-1]=-w}},U.prototype.normalize13b=function(o,c){for(var g=0,p=0;p<c/2;p++){var w=8192*Math.round(o[2*p+1]/c)+Math.round(o[2*p]/c)+g;o[p]=67108863&w,g=w<67108864?0:w/67108864|0}return o},U.prototype.convert13b=function(o,c,g,p){for(var w=0,S=0;S<c;S++)g[2*S]=8191&(w+=0|o[S]),g[2*S+1]=8191&(w>>>=13),w>>>=13;for(S=2*c;S<p;++S)g[S]=0;J(0===w),J(0==(-8192&w))},U.prototype.stub=function(o){for(var c=new Array(o),g=0;g<o;g++)c[g]=0;return c},U.prototype.mulp=function(o,c,g){var p=2*this.guessLen13b(o.length,c.length),w=this.makeRBT(p),S=this.stub(p),T=new Array(p),C=new Array(p),h=new Array(p),k=new Array(p),ft=new Array(p),at=new Array(p),st=g.words;st.length=p,this.convert13b(o.words,o.length,T,p),this.convert13b(c.words,c.length,k,p),this.transform(T,S,C,h,p,w),this.transform(k,S,ft,at,p,w);for(var Mt=0;Mt<p;Mt++){var St=C[Mt]*ft[Mt]-h[Mt]*at[Mt];h[Mt]=C[Mt]*at[Mt]+h[Mt]*ft[Mt],C[Mt]=St}return this.conjugate(C,h,p),this.transform(C,h,st,S,p,w),this.conjugate(st,S,p),this.normalize13b(st,p),g.negative=o.negative^c.negative,g.length=o.length+c.length,g.strip()},b.prototype.mul=function(o){var c=new b(null);return c.words=new Array(this.length+o.length),this.mulTo(o,c)},b.prototype.mulf=function(o){var c=new b(null);return c.words=new Array(this.length+o.length),q(this,o,c)},b.prototype.imul=function(o){return this.clone().mulTo(o,this)},b.prototype.imuln=function(o){J("number"==typeof o),J(o<67108864);for(var c=0,g=0;g<this.length;g++){var p=(0|this.words[g])*o,w=(67108863&p)+(67108863&c);c>>=26,c+=p/67108864|0,c+=w>>>26,this.words[g]=67108863&w}return 0!==c&&(this.words[g]=c,this.length++),this},b.prototype.muln=function(o){return this.clone().imuln(o)},b.prototype.sqr=function(){return this.mul(this)},b.prototype.isqr=function(){return this.imul(this.clone())},b.prototype.pow=function(o){var c=function(A){for(var o=new Array(A.bitLength()),c=0;c<o.length;c++){var p=c%26;o[c]=(A.words[c/26|0]&1<<p)>>>p}return o}(o);if(0===c.length)return new b(1);for(var g=this,p=0;p<c.length&&0===c[p];p++,g=g.sqr());if(++p<c.length)for(var w=g.sqr();p<c.length;p++,w=w.sqr())0!==c[p]&&(g=g.mul(w));return g},b.prototype.iushln=function(o){J("number"==typeof o&&o>=0);var w,c=o%26,g=(o-c)/26,p=67108863>>>26-c<<26-c;if(0!==c){var S=0;for(w=0;w<this.length;w++){var T=this.words[w]&p;this.words[w]=(0|this.words[w])-T<<c|S,S=T>>>26-c}S&&(this.words[w]=S,this.length++)}if(0!==g){for(w=this.length-1;w>=0;w--)this.words[w+g]=this.words[w];for(w=0;w<g;w++)this.words[w]=0;this.length+=g}return this.strip()},b.prototype.ishln=function(o){return J(0===this.negative),this.iushln(o)},b.prototype.iushrn=function(o,c,g){var p;J("number"==typeof o&&o>=0),p=c?(c-c%26)/26:0;var w=o%26,S=Math.min((o-w)/26,this.length),T=67108863^67108863>>>w<<w,C=g;if(p-=S,p=Math.max(0,p),C){for(var h=0;h<S;h++)C.words[h]=this.words[h];C.length=S}if(0!==S)if(this.length>S)for(this.length-=S,h=0;h<this.length;h++)this.words[h]=this.words[h+S];else this.words[0]=0,this.length=1;var k=0;for(h=this.length-1;h>=0&&(0!==k||h>=p);h--){var ft=0|this.words[h];this.words[h]=k<<26-w|ft>>>w,k=ft&T}return C&&0!==k&&(C.words[C.length++]=k),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},b.prototype.ishrn=function(o,c,g){return J(0===this.negative),this.iushrn(o,c,g)},b.prototype.shln=function(o){return this.clone().ishln(o)},b.prototype.ushln=function(o){return this.clone().iushln(o)},b.prototype.shrn=function(o){return this.clone().ishrn(o)},b.prototype.ushrn=function(o){return this.clone().iushrn(o)},b.prototype.testn=function(o){J("number"==typeof o&&o>=0);var c=o%26,g=(o-c)/26;return!(this.length<=g||!(this.words[g]&1<<c))},b.prototype.imaskn=function(o){J("number"==typeof o&&o>=0);var c=o%26,g=(o-c)/26;return J(0===this.negative,"imaskn works only with positive numbers"),this.length<=g?this:(0!==c&&g++,this.length=Math.min(g,this.length),0!==c&&(this.words[this.length-1]&=67108863^67108863>>>c<<c),this.strip())},b.prototype.maskn=function(o){return this.clone().imaskn(o)},b.prototype.iaddn=function(o){return J("number"==typeof o),J(o<67108864),o<0?this.isubn(-o):0!==this.negative?1===this.length&&(0|this.words[0])<o?(this.words[0]=o-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},b.prototype._iaddn=function(o){this.words[0]+=o;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},b.prototype.isubn=function(o){if(J("number"==typeof o),J(o<67108864),o<0)return this.iaddn(-o);if(0!==this.negative)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this.strip()},b.prototype.addn=function(o){return this.clone().iaddn(o)},b.prototype.subn=function(o){return this.clone().isubn(o)},b.prototype.iabs=function(){return this.negative=0,this},b.prototype.abs=function(){return this.clone().iabs()},b.prototype._ishlnsubmul=function(o,c,g){var w;this._expand(o.length+g);var S,T=0;for(w=0;w<o.length;w++){S=(0|this.words[w+g])+T;var C=(0|o.words[w])*c;T=((S-=67108863&C)>>26)-(C/67108864|0),this.words[w+g]=67108863&S}for(;w<this.length-g;w++)T=(S=(0|this.words[w+g])+T)>>26,this.words[w+g]=67108863&S;if(0===T)return this.strip();for(J(-1===T),T=0,w=0;w<this.length;w++)T=(S=-(0|this.words[w])+T)>>26,this.words[w]=67108863&S;return this.negative=1,this.strip()},b.prototype._wordDiv=function(o,c){var g,p=this.clone(),w=o,S=0|w.words[w.length-1];0!=(g=26-this._countBits(S))&&(w=w.ushln(g),p.iushln(g),S=0|w.words[w.length-1]);var h,C=p.length-w.length;if("mod"!==c){(h=new b(null)).length=C+1,h.words=new Array(h.length);for(var k=0;k<h.length;k++)h.words[k]=0}var ft=p.clone()._ishlnsubmul(w,1,C);0===ft.negative&&(p=ft,h&&(h.words[C]=1));for(var at=C-1;at>=0;at--){var st=67108864*(0|p.words[w.length+at])+(0|p.words[w.length+at-1]);for(st=Math.min(st/S|0,67108863),p._ishlnsubmul(w,st,at);0!==p.negative;)st--,p.negative=0,p._ishlnsubmul(w,1,at),p.isZero()||(p.negative^=1);h&&(h.words[at]=st)}return h&&h.strip(),p.strip(),"div"!==c&&0!==g&&p.iushrn(g),{div:h||null,mod:p}},b.prototype.divmod=function(o,c,g){return J(!o.isZero()),this.isZero()?{div:new b(0),mod:new b(0)}:0!==this.negative&&0===o.negative?(S=this.neg().divmod(o,c),"mod"!==c&&(p=S.div.neg()),"div"!==c&&(w=S.mod.neg(),g&&0!==w.negative&&w.iadd(o)),{div:p,mod:w}):0===this.negative&&0!==o.negative?(S=this.divmod(o.neg(),c),"mod"!==c&&(p=S.div.neg()),{div:p,mod:S.mod}):0!=(this.negative&o.negative)?(S=this.neg().divmod(o.neg(),c),"div"!==c&&(w=S.mod.neg(),g&&0!==w.negative&&w.isub(o)),{div:S.div,mod:w}):o.length>this.length||this.cmp(o)<0?{div:new b(0),mod:this}:1===o.length?"div"===c?{div:this.divn(o.words[0]),mod:null}:"mod"===c?{div:null,mod:new b(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new b(this.modn(o.words[0]))}:this._wordDiv(o,c);var p,w,S},b.prototype.div=function(o){return this.divmod(o,"div",!1).div},b.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},b.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},b.prototype.divRound=function(o){var c=this.divmod(o);if(c.mod.isZero())return c.div;var g=0!==c.div.negative?c.mod.isub(o):c.mod,p=o.ushrn(1),w=o.andln(1),S=g.cmp(p);return S<0||1===w&&0===S?c.div:0!==c.div.negative?c.div.isubn(1):c.div.iaddn(1)},b.prototype.modn=function(o){J(o<=67108863);for(var c=(1<<26)%o,g=0,p=this.length-1;p>=0;p--)g=(c*g+(0|this.words[p]))%o;return g},b.prototype.idivn=function(o){J(o<=67108863);for(var c=0,g=this.length-1;g>=0;g--){var p=(0|this.words[g])+67108864*c;this.words[g]=p/o|0,c=p%o}return this.strip()},b.prototype.divn=function(o){return this.clone().idivn(o)},b.prototype.egcd=function(o){J(0===o.negative),J(!o.isZero());var c=this,g=o.clone();c=0!==c.negative?c.umod(o):c.clone();for(var p=new b(1),w=new b(0),S=new b(0),T=new b(1),C=0;c.isEven()&&g.isEven();)c.iushrn(1),g.iushrn(1),++C;for(var h=g.clone(),k=c.clone();!c.isZero();){for(var ft=0,at=1;0==(c.words[0]&at)&&ft<26;++ft,at<<=1);if(ft>0)for(c.iushrn(ft);ft-- >0;)(p.isOdd()||w.isOdd())&&(p.iadd(h),w.isub(k)),p.iushrn(1),w.iushrn(1);for(var st=0,Mt=1;0==(g.words[0]&Mt)&&st<26;++st,Mt<<=1);if(st>0)for(g.iushrn(st);st-- >0;)(S.isOdd()||T.isOdd())&&(S.iadd(h),T.isub(k)),S.iushrn(1),T.iushrn(1);c.cmp(g)>=0?(c.isub(g),p.isub(S),w.isub(T)):(g.isub(c),S.isub(p),T.isub(w))}return{a:S,b:T,gcd:g.iushln(C)}},b.prototype._invmp=function(o){J(0===o.negative),J(!o.isZero());var ft,c=this,g=o.clone();c=0!==c.negative?c.umod(o):c.clone();for(var p=new b(1),w=new b(0),S=g.clone();c.cmpn(1)>0&&g.cmpn(1)>0;){for(var T=0,C=1;0==(c.words[0]&C)&&T<26;++T,C<<=1);if(T>0)for(c.iushrn(T);T-- >0;)p.isOdd()&&p.iadd(S),p.iushrn(1);for(var h=0,k=1;0==(g.words[0]&k)&&h<26;++h,k<<=1);if(h>0)for(g.iushrn(h);h-- >0;)w.isOdd()&&w.iadd(S),w.iushrn(1);c.cmp(g)>=0?(c.isub(g),p.isub(w)):(g.isub(c),w.isub(p))}return(ft=0===c.cmpn(1)?p:w).cmpn(0)<0&&ft.iadd(o),ft},b.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var c=this.clone(),g=o.clone();c.negative=0,g.negative=0;for(var p=0;c.isEven()&&g.isEven();p++)c.iushrn(1),g.iushrn(1);for(;;){for(;c.isEven();)c.iushrn(1);for(;g.isEven();)g.iushrn(1);var w=c.cmp(g);if(w<0){var S=c;c=g,g=S}else if(0===w||0===g.cmpn(1))break;c.isub(g)}return g.iushln(p)},b.prototype.invm=function(o){return this.egcd(o).a.umod(o)},b.prototype.isEven=function(){return 0==(1&this.words[0])},b.prototype.isOdd=function(){return 1==(1&this.words[0])},b.prototype.andln=function(o){return this.words[0]&o},b.prototype.bincn=function(o){J("number"==typeof o);var c=o%26,g=(o-c)/26,p=1<<c;if(this.length<=g)return this._expand(g+1),this.words[g]|=p,this;for(var w=p,S=g;0!==w&&S<this.length;S++){var T=0|this.words[S];w=(T+=w)>>>26,this.words[S]=T&=67108863}return 0!==w&&(this.words[S]=w,this.length++),this},b.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},b.prototype.cmpn=function(o){var g,c=o<0;if(0!==this.negative&&!c)return-1;if(0===this.negative&&c)return 1;if(this.strip(),this.length>1)g=1;else{c&&(o=-o),J(o<=67108863,"Number is too big");var p=0|this.words[0];g=p===o?0:p<o?-1:1}return 0!==this.negative?0|-g:g},b.prototype.cmp=function(o){if(0!==this.negative&&0===o.negative)return-1;if(0===this.negative&&0!==o.negative)return 1;var c=this.ucmp(o);return 0!==this.negative?0|-c:c},b.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var c=0,g=this.length-1;g>=0;g--){var p=0|this.words[g],w=0|o.words[g];if(p!==w){p<w?c=-1:p>w&&(c=1);break}}return c},b.prototype.gtn=function(o){return 1===this.cmpn(o)},b.prototype.gt=function(o){return 1===this.cmp(o)},b.prototype.gten=function(o){return this.cmpn(o)>=0},b.prototype.gte=function(o){return this.cmp(o)>=0},b.prototype.ltn=function(o){return-1===this.cmpn(o)},b.prototype.lt=function(o){return-1===this.cmp(o)},b.prototype.lten=function(o){return this.cmpn(o)<=0},b.prototype.lte=function(o){return this.cmp(o)<=0},b.prototype.eqn=function(o){return 0===this.cmpn(o)},b.prototype.eq=function(o){return 0===this.cmp(o)},b.red=function(o){return new Tt(o)},b.prototype.toRed=function(o){return J(!this.red,"Already a number in reduction context"),J(0===this.negative,"red works only with positives"),o.convertTo(this)._forceRed(o)},b.prototype.fromRed=function(){return J(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},b.prototype._forceRed=function(o){return this.red=o,this},b.prototype.forceRed=function(o){return J(!this.red,"Already a number in reduction context"),this._forceRed(o)},b.prototype.redAdd=function(o){return J(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},b.prototype.redIAdd=function(o){return J(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},b.prototype.redSub=function(o){return J(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},b.prototype.redISub=function(o){return J(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},b.prototype.redShl=function(o){return J(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},b.prototype.redMul=function(o){return J(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},b.prototype.redIMul=function(o){return J(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},b.prototype.redSqr=function(){return J(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},b.prototype.redISqr=function(){return J(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},b.prototype.redSqrt=function(){return J(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},b.prototype.redInvm=function(){return J(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},b.prototype.redNeg=function(){return J(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},b.prototype.redPow=function(o){return J(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var it={k256:null,p224:null,p192:null,p25519:null};function ot(A,o){this.name=A,this.p=new b(o,16),this.n=this.p.bitLength(),this.k=new b(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function lt(){ot.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function wt(){ot.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function xt(){ot.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Ot(){ot.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Tt(A){if("string"==typeof A){var o=b._prime(A);this.m=o.p,this.prime=o}else J(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}function Et(A){Tt.call(this,A),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new b(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ot.prototype._tmp=function(){var o=new b(null);return o.words=new Array(Math.ceil(this.n/13)),o},ot.prototype.ireduce=function(o){var g,c=o;do{this.split(c,this.tmp),g=(c=(c=this.imulK(c)).iadd(this.tmp)).bitLength()}while(g>this.n);var p=g<this.n?-1:c.ucmp(this.p);return 0===p?(c.words[0]=0,c.length=1):p>0?c.isub(this.p):void 0!==c.strip?c.strip():c._strip(),c},ot.prototype.split=function(o,c){o.iushrn(this.n,0,c)},ot.prototype.imulK=function(o){return o.imul(this.k)},tt(lt,ot),lt.prototype.split=function(o,c){for(var g=4194303,p=Math.min(o.length,9),w=0;w<p;w++)c.words[w]=o.words[w];if(c.length=p,o.length<=9)return o.words[0]=0,void(o.length=1);var S=o.words[9];for(c.words[c.length++]=S&g,w=10;w<o.length;w++){var T=0|o.words[w];o.words[w-10]=(T&g)<<4|S>>>22,S=T}o.words[w-10]=S>>>=22,o.length-=0===S&&o.length>10?10:9},lt.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var c=0,g=0;g<o.length;g++){var p=0|o.words[g];o.words[g]=67108863&(c+=977*p),c=64*p+(c/67108864|0)}return 0===o.words[o.length-1]&&(o.length--,0===o.words[o.length-1]&&o.length--),o},tt(wt,ot),tt(xt,ot),tt(Ot,ot),Ot.prototype.imulK=function(o){for(var c=0,g=0;g<o.length;g++){var p=19*(0|o.words[g])+c,w=67108863&p;p>>>=26,o.words[g]=w,c=p}return 0!==c&&(o.words[o.length++]=c),o},b._prime=function(o){if(it[o])return it[o];var c;if("k256"===o)c=new lt;else if("p224"===o)c=new wt;else if("p192"===o)c=new xt;else{if("p25519"!==o)throw new Error("Unknown prime "+o);c=new Ot}return it[o]=c,c},Tt.prototype._verify1=function(o){J(0===o.negative,"red works only with positives"),J(o.red,"red works only with red numbers")},Tt.prototype._verify2=function(o,c){J(0==(o.negative|c.negative),"red works only with positives"),J(o.red&&o.red===c.red,"red works only with red numbers")},Tt.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},Tt.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},Tt.prototype.add=function(o,c){this._verify2(o,c);var g=o.add(c);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},Tt.prototype.iadd=function(o,c){this._verify2(o,c);var g=o.iadd(c);return g.cmp(this.m)>=0&&g.isub(this.m),g},Tt.prototype.sub=function(o,c){this._verify2(o,c);var g=o.sub(c);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},Tt.prototype.isub=function(o,c){this._verify2(o,c);var g=o.isub(c);return g.cmpn(0)<0&&g.iadd(this.m),g},Tt.prototype.shl=function(o,c){return this._verify1(o),this.imod(o.ushln(c))},Tt.prototype.imul=function(o,c){return this._verify2(o,c),this.imod(o.imul(c))},Tt.prototype.mul=function(o,c){return this._verify2(o,c),this.imod(o.mul(c))},Tt.prototype.isqr=function(o){return this.imul(o,o.clone())},Tt.prototype.sqr=function(o){return this.mul(o,o)},Tt.prototype.sqrt=function(o){if(o.isZero())return o.clone();var c=this.m.andln(3);if(J(c%2==1),3===c){var g=this.m.add(new b(1)).iushrn(2);return this.pow(o,g)}for(var p=this.m.subn(1),w=0;!p.isZero()&&0===p.andln(1);)w++,p.iushrn(1);J(!p.isZero());var S=new b(1).toRed(this),T=S.redNeg(),C=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new b(2*h*h).toRed(this);0!==this.pow(h,C).cmp(T);)h.redIAdd(T);for(var k=this.pow(h,p),ft=this.pow(o,p.addn(1).iushrn(1)),at=this.pow(o,p),st=w;0!==at.cmp(S);){for(var Mt=at,St=0;0!==Mt.cmp(S);St++)Mt=Mt.redSqr();J(St<st);var Xt=this.pow(k,new b(1).iushln(st-St-1));ft=ft.redMul(Xt),k=Xt.redSqr(),at=at.redMul(k),st=St}return ft},Tt.prototype.invm=function(o){var c=o._invmp(this.m);return 0!==c.negative?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},Tt.prototype.pow=function(o,c){if(c.isZero())return new b(1).toRed(this);if(0===c.cmpn(1))return o.clone();var p=new Array(16);p[0]=new b(1).toRed(this),p[1]=o;for(var w=2;w<p.length;w++)p[w]=this.mul(p[w-1],o);var S=p[0],T=0,C=0,h=c.bitLength()%26;for(0===h&&(h=26),w=c.length-1;w>=0;w--){for(var k=c.words[w],ft=h-1;ft>=0;ft--){var at=k>>ft&1;S!==p[0]&&(S=this.sqr(S)),0!==at||0!==T?(T<<=1,T|=at,(4==++C||0===w&&0===ft)&&(S=this.mul(S,p[T]),C=0,T=0)):C=0}h=26}return S},Tt.prototype.convertTo=function(o){var c=o.umod(this.m);return c===o?c.clone():c},Tt.prototype.convertFrom=function(o){var c=o.clone();return c.red=null,c},b.mont=function(o){return new Et(o)},tt(Et,Tt),Et.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Et.prototype.convertFrom=function(o){var c=this.imod(o.mul(this.rinv));return c.red=null,c},Et.prototype.imul=function(o,c){if(o.isZero()||c.isZero())return o.words[0]=0,o.length=1,o;var g=o.imul(c),p=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=g.isub(p).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},Et.prototype.mul=function(o,c){if(o.isZero()||c.isZero())return new b(0)._forceRed(this);var g=o.mul(c),p=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=g.isub(p).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},Et.prototype.invm=function(o){return this.imod(o._invmp(this.m).mul(this.r2))._forceRed(this)}}(Ee=ut.nmd(Ee),this)},6193:(Ee,Q)=>{"use strict";Q.byteLength=function(B){var X=W(B),Y=X[1];return 3*(X[0]+Y)/4-Y},Q.toByteArray=function(B){var X,lt,z=W(B),Y=z[0],q=z[1],U=new f(function(B,X,z){return 3*(X+z)/4-z}(0,Y,q)),it=0,ot=q>0?Y-4:Y;for(lt=0;lt<ot;lt+=4)X=ct[B.charCodeAt(lt)]<<18|ct[B.charCodeAt(lt+1)]<<12|ct[B.charCodeAt(lt+2)]<<6|ct[B.charCodeAt(lt+3)],U[it++]=X>>16&255,U[it++]=X>>8&255,U[it++]=255&X;return 2===q&&(X=ct[B.charCodeAt(lt)]<<2|ct[B.charCodeAt(lt+1)]>>4,U[it++]=255&X),1===q&&(X=ct[B.charCodeAt(lt)]<<10|ct[B.charCodeAt(lt+1)]<<4|ct[B.charCodeAt(lt+2)]>>2,U[it++]=X>>8&255,U[it++]=255&X),U},Q.fromByteArray=function(B){for(var X,z=B.length,Y=z%3,q=[],U=16383,it=0,ot=z-Y;it<ot;it+=U)q.push(F(B,it,it+U>ot?ot:it+U));return 1===Y?q.push(ut[(X=B[z-1])>>2]+ut[X<<4&63]+"=="):2===Y&&q.push(ut[(X=(B[z-2]<<8)+B[z-1])>>10]+ut[X>>4&63]+ut[X<<2&63]+"="),q.join("")};for(var ut=[],ct=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,J="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tt=0,b=J.length;tt<b;++tt)ut[tt]=J[tt],ct[J.charCodeAt(tt)]=tt;function W(B){var X=B.length;if(X%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var z=B.indexOf("=");return-1===z&&(z=X),[z,z===X?0:4-z%4]}function H(B){return ut[B>>18&63]+ut[B>>12&63]+ut[B>>6&63]+ut[63&B]}function F(B,X,z){for(var q=[],U=X;U<z;U+=3)q.push(H((B[U]<<16&16711680)+(B[U+1]<<8&65280)+(255&B[U+2])));return q.join("")}ct["-".charCodeAt(0)]=62,ct["_".charCodeAt(0)]=63},2963:function(Ee,Q,ut){!function(ct,f){"use strict";function J(g,p){if(!g)throw new Error(p||"Assertion failed")}function tt(g,p){g.super_=p;var w=function(){};w.prototype=p.prototype,g.prototype=new w,g.prototype.constructor=g}function b(g,p,w){if(b.isBN(g))return g;this.negative=0,this.words=null,this.length=0,this.red=null,null!==g&&(("le"===p||"be"===p)&&(w=p,p=10),this._init(g||0,p||10,w||"be"))}var W;"object"==typeof ct?ct.exports=b:f.BN=b,b.BN=b,b.wordSize=26;try{W="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:ut(6601).Buffer}catch(g){}function G(g,p){var w=g.charCodeAt(p);return w>=48&&w<=57?w-48:w>=65&&w<=70?w-55:w>=97&&w<=102?w-87:void J(!1,"Invalid character in "+g)}function rt(g,p,w){var S=G(g,w);return w-1>=p&&(S|=G(g,w-1)<<4),S}function Z(g,p,w,S){for(var T=0,C=0,h=Math.min(g.length,w),k=p;k<h;k++){var ft=g.charCodeAt(k)-48;T*=S,C=ft>=49?ft-49+10:ft>=17?ft-17+10:ft,J(ft>=0&&C<S,"Invalid character"),T+=C}return T}function H(g,p){g.words=p.words,g.length=p.length,g.negative=p.negative,g.red=p.red}if(b.isBN=function(p){return p instanceof b||null!==p&&"object"==typeof p&&p.constructor.wordSize===b.wordSize&&Array.isArray(p.words)},b.max=function(p,w){return p.cmp(w)>0?p:w},b.min=function(p,w){return p.cmp(w)<0?p:w},b.prototype._init=function(p,w,S){if("number"==typeof p)return this._initNumber(p,w,S);if("object"==typeof p)return this._initArray(p,w,S);"hex"===w&&(w=16),J(w===(0|w)&&w>=2&&w<=36);var T=0;"-"===(p=p.toString().replace(/\s+/g,""))[0]&&(T++,this.negative=1),T<p.length&&(16===w?this._parseHex(p,T,S):(this._parseBase(p,w,T),"le"===S&&this._initArray(this.toArray(),w,S)))},b.prototype._initNumber=function(p,w,S){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[67108863&p],this.length=1):p<4503599627370496?(this.words=[67108863&p,p/67108864&67108863],this.length=2):(J(p<9007199254740992),this.words=[67108863&p,p/67108864&67108863,1],this.length=3),"le"===S&&this._initArray(this.toArray(),w,S)},b.prototype._initArray=function(p,w,S){if(J("number"==typeof p.length),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var C,h,k=0;if("be"===S)for(T=p.length-1,C=0;T>=0;T-=3)this.words[C]|=(h=p[T]|p[T-1]<<8|p[T-2]<<16)<<k&67108863,this.words[C+1]=h>>>26-k&67108863,(k+=24)>=26&&(k-=26,C++);else if("le"===S)for(T=0,C=0;T<p.length;T+=3)this.words[C]|=(h=p[T]|p[T+1]<<8|p[T+2]<<16)<<k&67108863,this.words[C+1]=h>>>26-k&67108863,(k+=24)>=26&&(k-=26,C++);return this._strip()},b.prototype._parseHex=function(p,w,S){this.length=Math.ceil((p.length-w)/6),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var k,C=0,h=0;if("be"===S)for(T=p.length-1;T>=w;T-=2)k=rt(p,w,T)<<C,this.words[h]|=67108863&k,C>=18?(C-=18,this.words[h+=1]|=k>>>26):C+=8;else for(T=(p.length-w)%2==0?w+1:w;T<p.length;T+=2)k=rt(p,w,T)<<C,this.words[h]|=67108863&k,C>=18?(C-=18,this.words[h+=1]|=k>>>26):C+=8;this._strip()},b.prototype._parseBase=function(p,w,S){this.words=[0],this.length=1;for(var T=0,C=1;C<=67108863;C*=w)T++;T--,C=C/w|0;for(var h=p.length-S,k=h%T,ft=Math.min(h,h-k)+S,at=0,st=S;st<ft;st+=T)at=Z(p,st,st+T,w),this.imuln(C),this.words[0]+at<67108864?this.words[0]+=at:this._iaddn(at);if(0!==k){var Mt=1;for(at=Z(p,st,p.length,w),st=0;st<k;st++)Mt*=w;this.imuln(Mt),this.words[0]+at<67108864?this.words[0]+=at:this._iaddn(at)}this._strip()},b.prototype.copy=function(p){p.words=new Array(this.length);for(var w=0;w<this.length;w++)p.words[w]=this.words[w];p.length=this.length,p.negative=this.negative,p.red=this.red},b.prototype._move=function(p){H(p,this)},b.prototype.clone=function(){var p=new b(null);return this.copy(p),p},b.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},b.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},b.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{b.prototype[Symbol.for("nodejs.util.inspect.custom")]=F}catch(g){b.prototype.inspect=F}else b.prototype.inspect=F;function F(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var et=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],B=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function q(g,p,w){w.negative=p.negative^g.negative;var S=g.length+p.length|0;w.length=S,S=S-1|0;var T=0|g.words[0],C=0|p.words[0],h=T*C,ft=h/67108864|0;w.words[0]=67108863&h;for(var at=1;at<S;at++){for(var st=ft>>>26,Mt=67108863&ft,St=Math.min(at,p.length-1),Xt=Math.max(0,at-g.length+1);Xt<=St;Xt++)st+=(h=(T=0|g.words[at-Xt|0])*(C=0|p.words[Xt])+Mt)/67108864|0,Mt=67108863&h;w.words[at]=0|Mt,ft=0|st}return 0!==ft?w.words[at]=0|ft:w.length--,w._strip()}b.prototype.toString=function(p,w){var S;if(w=0|w||1,16===(p=p||10)||"hex"===p){S="";for(var T=0,C=0,h=0;h<this.length;h++){var k=this.words[h],ft=(16777215&(k<<T|C)).toString(16);S=0!=(C=k>>>24-T&16777215)||h!==this.length-1?et[6-ft.length]+ft+S:ft+S,(T+=2)>=26&&(T-=26,h--)}for(0!==C&&(S=C.toString(16)+S);S.length%w!=0;)S="0"+S;return 0!==this.negative&&(S="-"+S),S}if(p===(0|p)&&p>=2&&p<=36){var at=B[p],st=X[p];S="";var Mt=this.clone();for(Mt.negative=0;!Mt.isZero();){var St=Mt.modrn(st).toString(p);S=(Mt=Mt.idivn(st)).isZero()?St+S:et[at-St.length]+St+S}for(this.isZero()&&(S="0"+S);S.length%w!=0;)S="0"+S;return 0!==this.negative&&(S="-"+S),S}J(!1,"Base should be between 2 and 36")},b.prototype.toNumber=function(){var p=this.words[0];return 2===this.length?p+=67108864*this.words[1]:3===this.length&&1===this.words[2]?p+=4503599627370496+67108864*this.words[1]:this.length>2&&J(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-p:p},b.prototype.toJSON=function(){return this.toString(16,2)},W&&(b.prototype.toBuffer=function(p,w){return this.toArrayLike(W,p,w)}),b.prototype.toArray=function(p,w){return this.toArrayLike(Array,p,w)},b.prototype.toArrayLike=function(p,w,S){this._strip();var T=this.byteLength(),C=S||Math.max(1,T);J(T<=C,"byte array longer than desired length"),J(C>0,"Requested array length <= 0");var h=function(p,w){return p.allocUnsafe?p.allocUnsafe(w):new p(w)}(p,C);return this["_toArrayLike"+("le"===w?"LE":"BE")](h,T),h},b.prototype._toArrayLikeLE=function(p,w){for(var S=0,T=0,C=0,h=0;C<this.length;C++){var k=this.words[C]<<h|T;p[S++]=255&k,S<p.length&&(p[S++]=k>>8&255),S<p.length&&(p[S++]=k>>16&255),6===h?(S<p.length&&(p[S++]=k>>24&255),T=0,h=0):(T=k>>>24,h+=2)}if(S<p.length)for(p[S++]=T;S<p.length;)p[S++]=0},b.prototype._toArrayLikeBE=function(p,w){for(var S=p.length-1,T=0,C=0,h=0;C<this.length;C++){var k=this.words[C]<<h|T;p[S--]=255&k,S>=0&&(p[S--]=k>>8&255),S>=0&&(p[S--]=k>>16&255),6===h?(S>=0&&(p[S--]=k>>24&255),T=0,h=0):(T=k>>>24,h+=2)}if(S>=0)for(p[S--]=T;S>=0;)p[S--]=0},b.prototype._countBits=Math.clz32?function(p){return 32-Math.clz32(p)}:function(p){var w=p,S=0;return w>=4096&&(S+=13,w>>>=13),w>=64&&(S+=7,w>>>=7),w>=8&&(S+=4,w>>>=4),w>=2&&(S+=2,w>>>=2),S+w},b.prototype._zeroBits=function(p){if(0===p)return 26;var w=p,S=0;return 0==(8191&w)&&(S+=13,w>>>=13),0==(127&w)&&(S+=7,w>>>=7),0==(15&w)&&(S+=4,w>>>=4),0==(3&w)&&(S+=2,w>>>=2),0==(1&w)&&S++,S},b.prototype.bitLength=function(){var w=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+w},b.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,w=0;w<this.length;w++){var S=this._zeroBits(this.words[w]);if(p+=S,26!==S)break}return p},b.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},b.prototype.toTwos=function(p){return 0!==this.negative?this.abs().inotn(p).iaddn(1):this.clone()},b.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},b.prototype.isNeg=function(){return 0!==this.negative},b.prototype.neg=function(){return this.clone().ineg()},b.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},b.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var w=0;w<p.length;w++)this.words[w]=this.words[w]|p.words[w];return this._strip()},b.prototype.ior=function(p){return J(0==(this.negative|p.negative)),this.iuor(p)},b.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},b.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},b.prototype.iuand=function(p){var w;w=this.length>p.length?p:this;for(var S=0;S<w.length;S++)this.words[S]=this.words[S]&p.words[S];return this.length=w.length,this._strip()},b.prototype.iand=function(p){return J(0==(this.negative|p.negative)),this.iuand(p)},b.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},b.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},b.prototype.iuxor=function(p){var w,S;this.length>p.length?(w=this,S=p):(w=p,S=this);for(var T=0;T<S.length;T++)this.words[T]=w.words[T]^S.words[T];if(this!==w)for(;T<w.length;T++)this.words[T]=w.words[T];return this.length=w.length,this._strip()},b.prototype.ixor=function(p){return J(0==(this.negative|p.negative)),this.iuxor(p)},b.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},b.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},b.prototype.inotn=function(p){J("number"==typeof p&&p>=0);var w=0|Math.ceil(p/26),S=p%26;this._expand(w),S>0&&w--;for(var T=0;T<w;T++)this.words[T]=67108863&~this.words[T];return S>0&&(this.words[T]=~this.words[T]&67108863>>26-S),this._strip()},b.prototype.notn=function(p){return this.clone().inotn(p)},b.prototype.setn=function(p,w){J("number"==typeof p&&p>=0);var S=p/26|0,T=p%26;return this._expand(S+1),this.words[S]=w?this.words[S]|1<<T:this.words[S]&~(1<<T),this._strip()},b.prototype.iadd=function(p){var w,S,T;if(0!==this.negative&&0===p.negative)return this.negative=0,w=this.isub(p),this.negative^=1,this._normSign();if(0===this.negative&&0!==p.negative)return p.negative=0,w=this.isub(p),p.negative=1,w._normSign();this.length>p.length?(S=this,T=p):(S=p,T=this);for(var C=0,h=0;h<T.length;h++)this.words[h]=67108863&(w=(0|S.words[h])+(0|T.words[h])+C),C=w>>>26;for(;0!==C&&h<S.length;h++)this.words[h]=67108863&(w=(0|S.words[h])+C),C=w>>>26;if(this.length=S.length,0!==C)this.words[this.length]=C,this.length++;else if(S!==this)for(;h<S.length;h++)this.words[h]=S.words[h];return this},b.prototype.add=function(p){var w;return 0!==p.negative&&0===this.negative?(p.negative=0,w=this.sub(p),p.negative^=1,w):0===p.negative&&0!==this.negative?(this.negative=0,w=p.sub(this),this.negative=1,w):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},b.prototype.isub=function(p){if(0!==p.negative){p.negative=0;var w=this.iadd(p);return p.negative=1,w._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var T,C,S=this.cmp(p);if(0===S)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(T=this,C=p):(T=p,C=this);for(var h=0,k=0;k<C.length;k++)h=(w=(0|T.words[k])-(0|C.words[k])+h)>>26,this.words[k]=67108863&w;for(;0!==h&&k<T.length;k++)h=(w=(0|T.words[k])+h)>>26,this.words[k]=67108863&w;if(0===h&&k<T.length&&T!==this)for(;k<T.length;k++)this.words[k]=T.words[k];return this.length=Math.max(this.length,k),T!==this&&(this.negative=1),this._strip()},b.prototype.sub=function(p){return this.clone().isub(p)};var U=function(p,w,S){var ft,at,st,T=p.words,C=w.words,h=S.words,k=0,Mt=0|T[0],St=8191&Mt,Xt=Mt>>>13,te=0|T[1],Vt=8191&te,Dt=te>>>13,ve=0|T[2],Gt=8191&ve,Nt=ve>>>13,Kt=0|T[3],fe=8191&Kt,zt=Kt>>>13,Ne=0|T[4],Pt=8191&Ne,Se=Ne>>>13,Fi=0|T[5],Ge=8191&Fi,_e=Fi>>>13,Ce=0|T[6],Bt=8191&Ce,re=Ce>>>13,Ye=0|T[7],jt=8191&Ye,yt=Ye>>>13,ht=0|T[8],ce=8191&ht,ke=ht>>>13,Pi=0|T[9],We=8191&Pi,si=Pi>>>13,bn=0|C[0],wi=8191&bn,je=bn>>>13,ci=0|C[1],Oe=8191&ci,oi=ci>>>13,Vn=0|C[2],ei=8191&Vn,De=Vn>>>13,qe=0|C[3],ni=8191&qe,ne=qe>>>13,Qt=0|C[4],Zt=8191&Qt,Ut=Qt>>>13,xe=0|C[5],ue=8191&xe,Re=xe>>>13,pi=0|C[6],he=8191&pi,$e=pi>>>13,_n=0|C[7],Ei=8191&_n,zi=_n>>>13,ir=0|C[8],bi=8191&ir,Li=ir>>>13,Ln=0|C[9],Kn=8191&Ln,pr=Ln>>>13;S.negative=p.negative^w.negative,S.length=19;var Jn=(k+(ft=Math.imul(St,wi))|0)+((8191&(at=(at=Math.imul(St,je))+Math.imul(Xt,wi)|0))<<13)|0;k=((st=Math.imul(Xt,je))+(at>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,ft=Math.imul(Vt,wi),at=(at=Math.imul(Vt,je))+Math.imul(Dt,wi)|0,st=Math.imul(Dt,je);var Ni=(k+(ft=ft+Math.imul(St,Oe)|0)|0)+((8191&(at=(at=at+Math.imul(St,oi)|0)+Math.imul(Xt,Oe)|0))<<13)|0;k=((st=st+Math.imul(Xt,oi)|0)+(at>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,ft=Math.imul(Gt,wi),at=(at=Math.imul(Gt,je))+Math.imul(Nt,wi)|0,st=Math.imul(Nt,je),ft=ft+Math.imul(Vt,Oe)|0,at=(at=at+Math.imul(Vt,oi)|0)+Math.imul(Dt,Oe)|0,st=st+Math.imul(Dt,oi)|0;var xi=(k+(ft=ft+Math.imul(St,ei)|0)|0)+((8191&(at=(at=at+Math.imul(St,De)|0)+Math.imul(Xt,ei)|0))<<13)|0;k=((st=st+Math.imul(Xt,De)|0)+(at>>>13)|0)+(xi>>>26)|0,xi&=67108863,ft=Math.imul(fe,wi),at=(at=Math.imul(fe,je))+Math.imul(zt,wi)|0,st=Math.imul(zt,je),ft=ft+Math.imul(Gt,Oe)|0,at=(at=at+Math.imul(Gt,oi)|0)+Math.imul(Nt,Oe)|0,st=st+Math.imul(Nt,oi)|0,ft=ft+Math.imul(Vt,ei)|0,at=(at=at+Math.imul(Vt,De)|0)+Math.imul(Dt,ei)|0,st=st+Math.imul(Dt,De)|0;var Je=(k+(ft=ft+Math.imul(St,ni)|0)|0)+((8191&(at=(at=at+Math.imul(St,ne)|0)+Math.imul(Xt,ni)|0))<<13)|0;k=((st=st+Math.imul(Xt,ne)|0)+(at>>>13)|0)+(Je>>>26)|0,Je&=67108863,ft=Math.imul(Pt,wi),at=(at=Math.imul(Pt,je))+Math.imul(Se,wi)|0,st=Math.imul(Se,je),ft=ft+Math.imul(fe,Oe)|0,at=(at=at+Math.imul(fe,oi)|0)+Math.imul(zt,Oe)|0,st=st+Math.imul(zt,oi)|0,ft=ft+Math.imul(Gt,ei)|0,at=(at=at+Math.imul(Gt,De)|0)+Math.imul(Nt,ei)|0,st=st+Math.imul(Nt,De)|0,ft=ft+Math.imul(Vt,ni)|0,at=(at=at+Math.imul(Vt,ne)|0)+Math.imul(Dt,ni)|0,st=st+Math.imul(Dt,ne)|0;var Ui=(k+(ft=ft+Math.imul(St,Zt)|0)|0)+((8191&(at=(at=at+Math.imul(St,Ut)|0)+Math.imul(Xt,Zt)|0))<<13)|0;k=((st=st+Math.imul(Xt,Ut)|0)+(at>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,ft=Math.imul(Ge,wi),at=(at=Math.imul(Ge,je))+Math.imul(_e,wi)|0,st=Math.imul(_e,je),ft=ft+Math.imul(Pt,Oe)|0,at=(at=at+Math.imul(Pt,oi)|0)+Math.imul(Se,Oe)|0,st=st+Math.imul(Se,oi)|0,ft=ft+Math.imul(fe,ei)|0,at=(at=at+Math.imul(fe,De)|0)+Math.imul(zt,ei)|0,st=st+Math.imul(zt,De)|0,ft=ft+Math.imul(Gt,ni)|0,at=(at=at+Math.imul(Gt,ne)|0)+Math.imul(Nt,ni)|0,st=st+Math.imul(Nt,ne)|0,ft=ft+Math.imul(Vt,Zt)|0,at=(at=at+Math.imul(Vt,Ut)|0)+Math.imul(Dt,Zt)|0,st=st+Math.imul(Dt,Ut)|0;var on=(k+(ft=ft+Math.imul(St,ue)|0)|0)+((8191&(at=(at=at+Math.imul(St,Re)|0)+Math.imul(Xt,ue)|0))<<13)|0;k=((st=st+Math.imul(Xt,Re)|0)+(at>>>13)|0)+(on>>>26)|0,on&=67108863,ft=Math.imul(Bt,wi),at=(at=Math.imul(Bt,je))+Math.imul(re,wi)|0,st=Math.imul(re,je),ft=ft+Math.imul(Ge,Oe)|0,at=(at=at+Math.imul(Ge,oi)|0)+Math.imul(_e,Oe)|0,st=st+Math.imul(_e,oi)|0,ft=ft+Math.imul(Pt,ei)|0,at=(at=at+Math.imul(Pt,De)|0)+Math.imul(Se,ei)|0,st=st+Math.imul(Se,De)|0,ft=ft+Math.imul(fe,ni)|0,at=(at=at+Math.imul(fe,ne)|0)+Math.imul(zt,ni)|0,st=st+Math.imul(zt,ne)|0,ft=ft+Math.imul(Gt,Zt)|0,at=(at=at+Math.imul(Gt,Ut)|0)+Math.imul(Nt,Zt)|0,st=st+Math.imul(Nt,Ut)|0,ft=ft+Math.imul(Vt,ue)|0,at=(at=at+Math.imul(Vt,Re)|0)+Math.imul(Dt,ue)|0,st=st+Math.imul(Dt,Re)|0;var nr=(k+(ft=ft+Math.imul(St,he)|0)|0)+((8191&(at=(at=at+Math.imul(St,$e)|0)+Math.imul(Xt,he)|0))<<13)|0;k=((st=st+Math.imul(Xt,$e)|0)+(at>>>13)|0)+(nr>>>26)|0,nr&=67108863,ft=Math.imul(jt,wi),at=(at=Math.imul(jt,je))+Math.imul(yt,wi)|0,st=Math.imul(yt,je),ft=ft+Math.imul(Bt,Oe)|0,at=(at=at+Math.imul(Bt,oi)|0)+Math.imul(re,Oe)|0,st=st+Math.imul(re,oi)|0,ft=ft+Math.imul(Ge,ei)|0,at=(at=at+Math.imul(Ge,De)|0)+Math.imul(_e,ei)|0,st=st+Math.imul(_e,De)|0,ft=ft+Math.imul(Pt,ni)|0,at=(at=at+Math.imul(Pt,ne)|0)+Math.imul(Se,ni)|0,st=st+Math.imul(Se,ne)|0,ft=ft+Math.imul(fe,Zt)|0,at=(at=at+Math.imul(fe,Ut)|0)+Math.imul(zt,Zt)|0,st=st+Math.imul(zt,Ut)|0,ft=ft+Math.imul(Gt,ue)|0,at=(at=at+Math.imul(Gt,Re)|0)+Math.imul(Nt,ue)|0,st=st+Math.imul(Nt,Re)|0,ft=ft+Math.imul(Vt,he)|0,at=(at=at+Math.imul(Vt,$e)|0)+Math.imul(Dt,he)|0,st=st+Math.imul(Dt,$e)|0;var mr=(k+(ft=ft+Math.imul(St,Ei)|0)|0)+((8191&(at=(at=at+Math.imul(St,zi)|0)+Math.imul(Xt,Ei)|0))<<13)|0;k=((st=st+Math.imul(Xt,zi)|0)+(at>>>13)|0)+(mr>>>26)|0,mr&=67108863,ft=Math.imul(ce,wi),at=(at=Math.imul(ce,je))+Math.imul(ke,wi)|0,st=Math.imul(ke,je),ft=ft+Math.imul(jt,Oe)|0,at=(at=at+Math.imul(jt,oi)|0)+Math.imul(yt,Oe)|0,st=st+Math.imul(yt,oi)|0,ft=ft+Math.imul(Bt,ei)|0,at=(at=at+Math.imul(Bt,De)|0)+Math.imul(re,ei)|0,st=st+Math.imul(re,De)|0,ft=ft+Math.imul(Ge,ni)|0,at=(at=at+Math.imul(Ge,ne)|0)+Math.imul(_e,ni)|0,st=st+Math.imul(_e,ne)|0,ft=ft+Math.imul(Pt,Zt)|0,at=(at=at+Math.imul(Pt,Ut)|0)+Math.imul(Se,Zt)|0,st=st+Math.imul(Se,Ut)|0,ft=ft+Math.imul(fe,ue)|0,at=(at=at+Math.imul(fe,Re)|0)+Math.imul(zt,ue)|0,st=st+Math.imul(zt,Re)|0,ft=ft+Math.imul(Gt,he)|0,at=(at=at+Math.imul(Gt,$e)|0)+Math.imul(Nt,he)|0,st=st+Math.imul(Nt,$e)|0,ft=ft+Math.imul(Vt,Ei)|0,at=(at=at+Math.imul(Vt,zi)|0)+Math.imul(Dt,Ei)|0,st=st+Math.imul(Dt,zi)|0;var Ar=(k+(ft=ft+Math.imul(St,bi)|0)|0)+((8191&(at=(at=at+Math.imul(St,Li)|0)+Math.imul(Xt,bi)|0))<<13)|0;k=((st=st+Math.imul(Xt,Li)|0)+(at>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,ft=Math.imul(We,wi),at=(at=Math.imul(We,je))+Math.imul(si,wi)|0,st=Math.imul(si,je),ft=ft+Math.imul(ce,Oe)|0,at=(at=at+Math.imul(ce,oi)|0)+Math.imul(ke,Oe)|0,st=st+Math.imul(ke,oi)|0,ft=ft+Math.imul(jt,ei)|0,at=(at=at+Math.imul(jt,De)|0)+Math.imul(yt,ei)|0,st=st+Math.imul(yt,De)|0,ft=ft+Math.imul(Bt,ni)|0,at=(at=at+Math.imul(Bt,ne)|0)+Math.imul(re,ni)|0,st=st+Math.imul(re,ne)|0,ft=ft+Math.imul(Ge,Zt)|0,at=(at=at+Math.imul(Ge,Ut)|0)+Math.imul(_e,Zt)|0,st=st+Math.imul(_e,Ut)|0,ft=ft+Math.imul(Pt,ue)|0,at=(at=at+Math.imul(Pt,Re)|0)+Math.imul(Se,ue)|0,st=st+Math.imul(Se,Re)|0,ft=ft+Math.imul(fe,he)|0,at=(at=at+Math.imul(fe,$e)|0)+Math.imul(zt,he)|0,st=st+Math.imul(zt,$e)|0,ft=ft+Math.imul(Gt,Ei)|0,at=(at=at+Math.imul(Gt,zi)|0)+Math.imul(Nt,Ei)|0,st=st+Math.imul(Nt,zi)|0,ft=ft+Math.imul(Vt,bi)|0,at=(at=at+Math.imul(Vt,Li)|0)+Math.imul(Dt,bi)|0,st=st+Math.imul(Dt,Li)|0;var hn=(k+(ft=ft+Math.imul(St,Kn)|0)|0)+((8191&(at=(at=at+Math.imul(St,pr)|0)+Math.imul(Xt,Kn)|0))<<13)|0;k=((st=st+Math.imul(Xt,pr)|0)+(at>>>13)|0)+(hn>>>26)|0,hn&=67108863,ft=Math.imul(We,Oe),at=(at=Math.imul(We,oi))+Math.imul(si,Oe)|0,st=Math.imul(si,oi),ft=ft+Math.imul(ce,ei)|0,at=(at=at+Math.imul(ce,De)|0)+Math.imul(ke,ei)|0,st=st+Math.imul(ke,De)|0,ft=ft+Math.imul(jt,ni)|0,at=(at=at+Math.imul(jt,ne)|0)+Math.imul(yt,ni)|0,st=st+Math.imul(yt,ne)|0,ft=ft+Math.imul(Bt,Zt)|0,at=(at=at+Math.imul(Bt,Ut)|0)+Math.imul(re,Zt)|0,st=st+Math.imul(re,Ut)|0,ft=ft+Math.imul(Ge,ue)|0,at=(at=at+Math.imul(Ge,Re)|0)+Math.imul(_e,ue)|0,st=st+Math.imul(_e,Re)|0,ft=ft+Math.imul(Pt,he)|0,at=(at=at+Math.imul(Pt,$e)|0)+Math.imul(Se,he)|0,st=st+Math.imul(Se,$e)|0,ft=ft+Math.imul(fe,Ei)|0,at=(at=at+Math.imul(fe,zi)|0)+Math.imul(zt,Ei)|0,st=st+Math.imul(zt,zi)|0,ft=ft+Math.imul(Gt,bi)|0,at=(at=at+Math.imul(Gt,Li)|0)+Math.imul(Nt,bi)|0,st=st+Math.imul(Nt,Li)|0;var xr=(k+(ft=ft+Math.imul(Vt,Kn)|0)|0)+((8191&(at=(at=at+Math.imul(Vt,pr)|0)+Math.imul(Dt,Kn)|0))<<13)|0;k=((st=st+Math.imul(Dt,pr)|0)+(at>>>13)|0)+(xr>>>26)|0,xr&=67108863,ft=Math.imul(We,ei),at=(at=Math.imul(We,De))+Math.imul(si,ei)|0,st=Math.imul(si,De),ft=ft+Math.imul(ce,ni)|0,at=(at=at+Math.imul(ce,ne)|0)+Math.imul(ke,ni)|0,st=st+Math.imul(ke,ne)|0,ft=ft+Math.imul(jt,Zt)|0,at=(at=at+Math.imul(jt,Ut)|0)+Math.imul(yt,Zt)|0,st=st+Math.imul(yt,Ut)|0,ft=ft+Math.imul(Bt,ue)|0,at=(at=at+Math.imul(Bt,Re)|0)+Math.imul(re,ue)|0,st=st+Math.imul(re,Re)|0,ft=ft+Math.imul(Ge,he)|0,at=(at=at+Math.imul(Ge,$e)|0)+Math.imul(_e,he)|0,st=st+Math.imul(_e,$e)|0,ft=ft+Math.imul(Pt,Ei)|0,at=(at=at+Math.imul(Pt,zi)|0)+Math.imul(Se,Ei)|0,st=st+Math.imul(Se,zi)|0,ft=ft+Math.imul(fe,bi)|0,at=(at=at+Math.imul(fe,Li)|0)+Math.imul(zt,bi)|0,st=st+Math.imul(zt,Li)|0;var Hr=(k+(ft=ft+Math.imul(Gt,Kn)|0)|0)+((8191&(at=(at=at+Math.imul(Gt,pr)|0)+Math.imul(Nt,Kn)|0))<<13)|0;k=((st=st+Math.imul(Nt,pr)|0)+(at>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,ft=Math.imul(We,ni),at=(at=Math.imul(We,ne))+Math.imul(si,ni)|0,st=Math.imul(si,ne),ft=ft+Math.imul(ce,Zt)|0,at=(at=at+Math.imul(ce,Ut)|0)+Math.imul(ke,Zt)|0,st=st+Math.imul(ke,Ut)|0,ft=ft+Math.imul(jt,ue)|0,at=(at=at+Math.imul(jt,Re)|0)+Math.imul(yt,ue)|0,st=st+Math.imul(yt,Re)|0,ft=ft+Math.imul(Bt,he)|0,at=(at=at+Math.imul(Bt,$e)|0)+Math.imul(re,he)|0,st=st+Math.imul(re,$e)|0,ft=ft+Math.imul(Ge,Ei)|0,at=(at=at+Math.imul(Ge,zi)|0)+Math.imul(_e,Ei)|0,st=st+Math.imul(_e,zi)|0,ft=ft+Math.imul(Pt,bi)|0,at=(at=at+Math.imul(Pt,Li)|0)+Math.imul(Se,bi)|0,st=st+Math.imul(Se,Li)|0;var so=(k+(ft=ft+Math.imul(fe,Kn)|0)|0)+((8191&(at=(at=at+Math.imul(fe,pr)|0)+Math.imul(zt,Kn)|0))<<13)|0;k=((st=st+Math.imul(zt,pr)|0)+(at>>>13)|0)+(so>>>26)|0,so&=67108863,ft=Math.imul(We,Zt),at=(at=Math.imul(We,Ut))+Math.imul(si,Zt)|0,st=Math.imul(si,Ut),ft=ft+Math.imul(ce,ue)|0,at=(at=at+Math.imul(ce,Re)|0)+Math.imul(ke,ue)|0,st=st+Math.imul(ke,Re)|0,ft=ft+Math.imul(jt,he)|0,at=(at=at+Math.imul(jt,$e)|0)+Math.imul(yt,he)|0,st=st+Math.imul(yt,$e)|0,ft=ft+Math.imul(Bt,Ei)|0,at=(at=at+Math.imul(Bt,zi)|0)+Math.imul(re,Ei)|0,st=st+Math.imul(re,zi)|0,ft=ft+Math.imul(Ge,bi)|0,at=(at=at+Math.imul(Ge,Li)|0)+Math.imul(_e,bi)|0,st=st+Math.imul(_e,Li)|0;var Vr=(k+(ft=ft+Math.imul(Pt,Kn)|0)|0)+((8191&(at=(at=at+Math.imul(Pt,pr)|0)+Math.imul(Se,Kn)|0))<<13)|0;k=((st=st+Math.imul(Se,pr)|0)+(at>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,ft=Math.imul(We,ue),at=(at=Math.imul(We,Re))+Math.imul(si,ue)|0,st=Math.imul(si,Re),ft=ft+Math.imul(ce,he)|0,at=(at=at+Math.imul(ce,$e)|0)+Math.imul(ke,he)|0,st=st+Math.imul(ke,$e)|0,ft=ft+Math.imul(jt,Ei)|0,at=(at=at+Math.imul(jt,zi)|0)+Math.imul(yt,Ei)|0,st=st+Math.imul(yt,zi)|0,ft=ft+Math.imul(Bt,bi)|0,at=(at=at+Math.imul(Bt,Li)|0)+Math.imul(re,bi)|0,st=st+Math.imul(re,Li)|0;var Pr=(k+(ft=ft+Math.imul(Ge,Kn)|0)|0)+((8191&(at=(at=at+Math.imul(Ge,pr)|0)+Math.imul(_e,Kn)|0))<<13)|0;k=((st=st+Math.imul(_e,pr)|0)+(at>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,ft=Math.imul(We,he),at=(at=Math.imul(We,$e))+Math.imul(si,he)|0,st=Math.imul(si,$e),ft=ft+Math.imul(ce,Ei)|0,at=(at=at+Math.imul(ce,zi)|0)+Math.imul(ke,Ei)|0,st=st+Math.imul(ke,zi)|0,ft=ft+Math.imul(jt,bi)|0,at=(at=at+Math.imul(jt,Li)|0)+Math.imul(yt,bi)|0,st=st+Math.imul(yt,Li)|0;var ar=(k+(ft=ft+Math.imul(Bt,Kn)|0)|0)+((8191&(at=(at=at+Math.imul(Bt,pr)|0)+Math.imul(re,Kn)|0))<<13)|0;k=((st=st+Math.imul(re,pr)|0)+(at>>>13)|0)+(ar>>>26)|0,ar&=67108863,ft=Math.imul(We,Ei),at=(at=Math.imul(We,zi))+Math.imul(si,Ei)|0,st=Math.imul(si,zi),ft=ft+Math.imul(ce,bi)|0,at=(at=at+Math.imul(ce,Li)|0)+Math.imul(ke,bi)|0,st=st+Math.imul(ke,Li)|0;var Vs=(k+(ft=ft+Math.imul(jt,Kn)|0)|0)+((8191&(at=(at=at+Math.imul(jt,pr)|0)+Math.imul(yt,Kn)|0))<<13)|0;k=((st=st+Math.imul(yt,pr)|0)+(at>>>13)|0)+(Vs>>>26)|0,Vs&=67108863,ft=Math.imul(We,bi),at=(at=Math.imul(We,Li))+Math.imul(si,bi)|0,st=Math.imul(si,Li);var qs=(k+(ft=ft+Math.imul(ce,Kn)|0)|0)+((8191&(at=(at=at+Math.imul(ce,pr)|0)+Math.imul(ke,Kn)|0))<<13)|0;k=((st=st+Math.imul(ke,pr)|0)+(at>>>13)|0)+(qs>>>26)|0,qs&=67108863;var js=(k+(ft=Math.imul(We,Kn))|0)+((8191&(at=(at=Math.imul(We,pr))+Math.imul(si,Kn)|0))<<13)|0;return k=((st=Math.imul(si,pr))+(at>>>13)|0)+(js>>>26)|0,js&=67108863,h[0]=Jn,h[1]=Ni,h[2]=xi,h[3]=Je,h[4]=Ui,h[5]=on,h[6]=nr,h[7]=mr,h[8]=Ar,h[9]=hn,h[10]=xr,h[11]=Hr,h[12]=so,h[13]=Vr,h[14]=Pr,h[15]=ar,h[16]=Vs,h[17]=qs,h[18]=js,0!==k&&(h[19]=k,S.length++),S};function it(g,p,w){w.negative=p.negative^g.negative,w.length=g.length+p.length;for(var S=0,T=0,C=0;C<w.length-1;C++){var h=T;T=0;for(var k=67108863&S,ft=Math.min(C,p.length-1),at=Math.max(0,C-g.length+1);at<=ft;at++){var Xt=(0|g.words[C-at])*(0|p.words[at]),te=67108863&Xt;k=67108863&(te=te+k|0),T+=(h=(h=h+(Xt/67108864|0)|0)+(te>>>26)|0)>>>26,h&=67108863}w.words[C]=k,S=h,h=T}return 0!==S?w.words[C]=S:w.length--,w._strip()}function ot(g,p,w){return it(g,p,w)}function lt(g,p){this.x=g,this.y=p}Math.imul||(U=q),b.prototype.mulTo=function(p,w){var T=this.length+p.length;return 10===this.length&&10===p.length?U(this,p,w):T<63?q(this,p,w):T<1024?it(this,p,w):ot(this,p,w)},lt.prototype.makeRBT=function(p){for(var w=new Array(p),S=b.prototype._countBits(p)-1,T=0;T<p;T++)w[T]=this.revBin(T,S,p);return w},lt.prototype.revBin=function(p,w,S){if(0===p||p===S-1)return p;for(var T=0,C=0;C<w;C++)T|=(1&p)<<w-C-1,p>>=1;return T},lt.prototype.permute=function(p,w,S,T,C,h){for(var k=0;k<h;k++)T[k]=w[p[k]],C[k]=S[p[k]]},lt.prototype.transform=function(p,w,S,T,C,h){this.permute(h,p,w,S,T,C);for(var k=1;k<C;k<<=1)for(var ft=k<<1,at=Math.cos(2*Math.PI/ft),st=Math.sin(2*Math.PI/ft),Mt=0;Mt<C;Mt+=ft)for(var St=at,Xt=st,te=0;te<k;te++){var Vt=S[Mt+te],Dt=T[Mt+te],ve=S[Mt+te+k],Gt=T[Mt+te+k],Nt=St*ve-Xt*Gt;Gt=St*Gt+Xt*ve,S[Mt+te]=Vt+(ve=Nt),T[Mt+te]=Dt+Gt,S[Mt+te+k]=Vt-ve,T[Mt+te+k]=Dt-Gt,te!==ft&&(Nt=at*St-st*Xt,Xt=at*Xt+st*St,St=Nt)}},lt.prototype.guessLen13b=function(p,w){var S=1|Math.max(w,p),T=1&S,C=0;for(S=S/2|0;S;S>>>=1)C++;return 1<<C+1+T},lt.prototype.conjugate=function(p,w,S){if(!(S<=1))for(var T=0;T<S/2;T++){var C=p[T];p[T]=p[S-T-1],p[S-T-1]=C,C=w[T],w[T]=-w[S-T-1],w[S-T-1]=-C}},lt.prototype.normalize13b=function(p,w){for(var S=0,T=0;T<w/2;T++){var C=8192*Math.round(p[2*T+1]/w)+Math.round(p[2*T]/w)+S;p[T]=67108863&C,S=C<67108864?0:C/67108864|0}return p},lt.prototype.convert13b=function(p,w,S,T){for(var C=0,h=0;h<w;h++)S[2*h]=8191&(C+=0|p[h]),S[2*h+1]=8191&(C>>>=13),C>>>=13;for(h=2*w;h<T;++h)S[h]=0;J(0===C),J(0==(-8192&C))},lt.prototype.stub=function(p){for(var w=new Array(p),S=0;S<p;S++)w[S]=0;return w},lt.prototype.mulp=function(p,w,S){var T=2*this.guessLen13b(p.length,w.length),C=this.makeRBT(T),h=this.stub(T),k=new Array(T),ft=new Array(T),at=new Array(T),st=new Array(T),Mt=new Array(T),St=new Array(T),Xt=S.words;Xt.length=T,this.convert13b(p.words,p.length,k,T),this.convert13b(w.words,w.length,st,T),this.transform(k,h,ft,at,T,C),this.transform(st,h,Mt,St,T,C);for(var te=0;te<T;te++){var Vt=ft[te]*Mt[te]-at[te]*St[te];at[te]=ft[te]*St[te]+at[te]*Mt[te],ft[te]=Vt}return this.conjugate(ft,at,T),this.transform(ft,at,Xt,h,T,C),this.conjugate(Xt,h,T),this.normalize13b(Xt,T),S.negative=p.negative^w.negative,S.length=p.length+w.length,S._strip()},b.prototype.mul=function(p){var w=new b(null);return w.words=new Array(this.length+p.length),this.mulTo(p,w)},b.prototype.mulf=function(p){var w=new b(null);return w.words=new Array(this.length+p.length),ot(this,p,w)},b.prototype.imul=function(p){return this.clone().mulTo(p,this)},b.prototype.imuln=function(p){var w=p<0;w&&(p=-p),J("number"==typeof p),J(p<67108864);for(var S=0,T=0;T<this.length;T++){var C=(0|this.words[T])*p,h=(67108863&C)+(67108863&S);S>>=26,S+=C/67108864|0,S+=h>>>26,this.words[T]=67108863&h}return 0!==S&&(this.words[T]=S,this.length++),w?this.ineg():this},b.prototype.muln=function(p){return this.clone().imuln(p)},b.prototype.sqr=function(){return this.mul(this)},b.prototype.isqr=function(){return this.imul(this.clone())},b.prototype.pow=function(p){var w=function(g){for(var p=new Array(g.bitLength()),w=0;w<p.length;w++)p[w]=g.words[w/26|0]>>>w%26&1;return p}(p);if(0===w.length)return new b(1);for(var S=this,T=0;T<w.length&&0===w[T];T++,S=S.sqr());if(++T<w.length)for(var C=S.sqr();T<w.length;T++,C=C.sqr())0!==w[T]&&(S=S.mul(C));return S},b.prototype.iushln=function(p){J("number"==typeof p&&p>=0);var C,w=p%26,S=(p-w)/26,T=67108863>>>26-w<<26-w;if(0!==w){var h=0;for(C=0;C<this.length;C++){var k=this.words[C]&T;this.words[C]=(0|this.words[C])-k<<w|h,h=k>>>26-w}h&&(this.words[C]=h,this.length++)}if(0!==S){for(C=this.length-1;C>=0;C--)this.words[C+S]=this.words[C];for(C=0;C<S;C++)this.words[C]=0;this.length+=S}return this._strip()},b.prototype.ishln=function(p){return J(0===this.negative),this.iushln(p)},b.prototype.iushrn=function(p,w,S){var T;J("number"==typeof p&&p>=0),T=w?(w-w%26)/26:0;var C=p%26,h=Math.min((p-C)/26,this.length),k=67108863^67108863>>>C<<C,ft=S;if(T-=h,T=Math.max(0,T),ft){for(var at=0;at<h;at++)ft.words[at]=this.words[at];ft.length=h}if(0!==h)if(this.length>h)for(this.length-=h,at=0;at<this.length;at++)this.words[at]=this.words[at+h];else this.words[0]=0,this.length=1;var st=0;for(at=this.length-1;at>=0&&(0!==st||at>=T);at--){var Mt=0|this.words[at];this.words[at]=st<<26-C|Mt>>>C,st=Mt&k}return ft&&0!==st&&(ft.words[ft.length++]=st),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},b.prototype.ishrn=function(p,w,S){return J(0===this.negative),this.iushrn(p,w,S)},b.prototype.shln=function(p){return this.clone().ishln(p)},b.prototype.ushln=function(p){return this.clone().iushln(p)},b.prototype.shrn=function(p){return this.clone().ishrn(p)},b.prototype.ushrn=function(p){return this.clone().iushrn(p)},b.prototype.testn=function(p){J("number"==typeof p&&p>=0);var w=p%26,S=(p-w)/26;return!(this.length<=S||!(this.words[S]&1<<w))},b.prototype.imaskn=function(p){J("number"==typeof p&&p>=0);var w=p%26,S=(p-w)/26;return J(0===this.negative,"imaskn works only with positive numbers"),this.length<=S?this:(0!==w&&S++,this.length=Math.min(S,this.length),0!==w&&(this.words[this.length-1]&=67108863^67108863>>>w<<w),this._strip())},b.prototype.maskn=function(p){return this.clone().imaskn(p)},b.prototype.iaddn=function(p){return J("number"==typeof p),J(p<67108864),p<0?this.isubn(-p):0!==this.negative?1===this.length&&(0|this.words[0])<=p?(this.words[0]=p-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},b.prototype._iaddn=function(p){this.words[0]+=p;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},b.prototype.isubn=function(p){if(J("number"==typeof p),J(p<67108864),p<0)return this.iaddn(-p);if(0!==this.negative)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},b.prototype.addn=function(p){return this.clone().iaddn(p)},b.prototype.subn=function(p){return this.clone().isubn(p)},b.prototype.iabs=function(){return this.negative=0,this},b.prototype.abs=function(){return this.clone().iabs()},b.prototype._ishlnsubmul=function(p,w,S){var C;this._expand(p.length+S);var h,k=0;for(C=0;C<p.length;C++){h=(0|this.words[C+S])+k;var ft=(0|p.words[C])*w;k=((h-=67108863&ft)>>26)-(ft/67108864|0),this.words[C+S]=67108863&h}for(;C<this.length-S;C++)k=(h=(0|this.words[C+S])+k)>>26,this.words[C+S]=67108863&h;if(0===k)return this._strip();for(J(-1===k),k=0,C=0;C<this.length;C++)k=(h=-(0|this.words[C])+k)>>26,this.words[C]=67108863&h;return this.negative=1,this._strip()},b.prototype._wordDiv=function(p,w){var S,T=this.clone(),C=p,h=0|C.words[C.length-1];0!=(S=26-this._countBits(h))&&(C=C.ushln(S),T.iushln(S),h=0|C.words[C.length-1]);var at,ft=T.length-C.length;if("mod"!==w){(at=new b(null)).length=ft+1,at.words=new Array(at.length);for(var st=0;st<at.length;st++)at.words[st]=0}var Mt=T.clone()._ishlnsubmul(C,1,ft);0===Mt.negative&&(T=Mt,at&&(at.words[ft]=1));for(var St=ft-1;St>=0;St--){var Xt=67108864*(0|T.words[C.length+St])+(0|T.words[C.length+St-1]);for(Xt=Math.min(Xt/h|0,67108863),T._ishlnsubmul(C,Xt,St);0!==T.negative;)Xt--,T.negative=0,T._ishlnsubmul(C,1,St),T.isZero()||(T.negative^=1);at&&(at.words[St]=Xt)}return at&&at._strip(),T._strip(),"div"!==w&&0!==S&&T.iushrn(S),{div:at||null,mod:T}},b.prototype.divmod=function(p,w,S){return J(!p.isZero()),this.isZero()?{div:new b(0),mod:new b(0)}:0!==this.negative&&0===p.negative?(h=this.neg().divmod(p,w),"mod"!==w&&(T=h.div.neg()),"div"!==w&&(C=h.mod.neg(),S&&0!==C.negative&&C.iadd(p)),{div:T,mod:C}):0===this.negative&&0!==p.negative?(h=this.divmod(p.neg(),w),"mod"!==w&&(T=h.div.neg()),{div:T,mod:h.mod}):0!=(this.negative&p.negative)?(h=this.neg().divmod(p.neg(),w),"div"!==w&&(C=h.mod.neg(),S&&0!==C.negative&&C.isub(p)),{div:h.div,mod:C}):p.length>this.length||this.cmp(p)<0?{div:new b(0),mod:this}:1===p.length?"div"===w?{div:this.divn(p.words[0]),mod:null}:"mod"===w?{div:null,mod:new b(this.modrn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new b(this.modrn(p.words[0]))}:this._wordDiv(p,w);var T,C,h},b.prototype.div=function(p){return this.divmod(p,"div",!1).div},b.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},b.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},b.prototype.divRound=function(p){var w=this.divmod(p);if(w.mod.isZero())return w.div;var S=0!==w.div.negative?w.mod.isub(p):w.mod,T=p.ushrn(1),C=p.andln(1),h=S.cmp(T);return h<0||1===C&&0===h?w.div:0!==w.div.negative?w.div.isubn(1):w.div.iaddn(1)},b.prototype.modrn=function(p){var w=p<0;w&&(p=-p),J(p<=67108863);for(var S=(1<<26)%p,T=0,C=this.length-1;C>=0;C--)T=(S*T+(0|this.words[C]))%p;return w?-T:T},b.prototype.modn=function(p){return this.modrn(p)},b.prototype.idivn=function(p){var w=p<0;w&&(p=-p),J(p<=67108863);for(var S=0,T=this.length-1;T>=0;T--){var C=(0|this.words[T])+67108864*S;this.words[T]=C/p|0,S=C%p}return this._strip(),w?this.ineg():this},b.prototype.divn=function(p){return this.clone().idivn(p)},b.prototype.egcd=function(p){J(0===p.negative),J(!p.isZero());var w=this,S=p.clone();w=0!==w.negative?w.umod(p):w.clone();for(var T=new b(1),C=new b(0),h=new b(0),k=new b(1),ft=0;w.isEven()&&S.isEven();)w.iushrn(1),S.iushrn(1),++ft;for(var at=S.clone(),st=w.clone();!w.isZero();){for(var Mt=0,St=1;0==(w.words[0]&St)&&Mt<26;++Mt,St<<=1);if(Mt>0)for(w.iushrn(Mt);Mt-- >0;)(T.isOdd()||C.isOdd())&&(T.iadd(at),C.isub(st)),T.iushrn(1),C.iushrn(1);for(var Xt=0,te=1;0==(S.words[0]&te)&&Xt<26;++Xt,te<<=1);if(Xt>0)for(S.iushrn(Xt);Xt-- >0;)(h.isOdd()||k.isOdd())&&(h.iadd(at),k.isub(st)),h.iushrn(1),k.iushrn(1);w.cmp(S)>=0?(w.isub(S),T.isub(h),C.isub(k)):(S.isub(w),h.isub(T),k.isub(C))}return{a:h,b:k,gcd:S.iushln(ft)}},b.prototype._invmp=function(p){J(0===p.negative),J(!p.isZero());var Mt,w=this,S=p.clone();w=0!==w.negative?w.umod(p):w.clone();for(var T=new b(1),C=new b(0),h=S.clone();w.cmpn(1)>0&&S.cmpn(1)>0;){for(var k=0,ft=1;0==(w.words[0]&ft)&&k<26;++k,ft<<=1);if(k>0)for(w.iushrn(k);k-- >0;)T.isOdd()&&T.iadd(h),T.iushrn(1);for(var at=0,st=1;0==(S.words[0]&st)&&at<26;++at,st<<=1);if(at>0)for(S.iushrn(at);at-- >0;)C.isOdd()&&C.iadd(h),C.iushrn(1);w.cmp(S)>=0?(w.isub(S),T.isub(C)):(S.isub(w),C.isub(T))}return(Mt=0===w.cmpn(1)?T:C).cmpn(0)<0&&Mt.iadd(p),Mt},b.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var w=this.clone(),S=p.clone();w.negative=0,S.negative=0;for(var T=0;w.isEven()&&S.isEven();T++)w.iushrn(1),S.iushrn(1);for(;;){for(;w.isEven();)w.iushrn(1);for(;S.isEven();)S.iushrn(1);var C=w.cmp(S);if(C<0){var h=w;w=S,S=h}else if(0===C||0===S.cmpn(1))break;w.isub(S)}return S.iushln(T)},b.prototype.invm=function(p){return this.egcd(p).a.umod(p)},b.prototype.isEven=function(){return 0==(1&this.words[0])},b.prototype.isOdd=function(){return 1==(1&this.words[0])},b.prototype.andln=function(p){return this.words[0]&p},b.prototype.bincn=function(p){J("number"==typeof p);var w=p%26,S=(p-w)/26,T=1<<w;if(this.length<=S)return this._expand(S+1),this.words[S]|=T,this;for(var C=T,h=S;0!==C&&h<this.length;h++){var k=0|this.words[h];C=(k+=C)>>>26,this.words[h]=k&=67108863}return 0!==C&&(this.words[h]=C,this.length++),this},b.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},b.prototype.cmpn=function(p){var S,w=p<0;if(0!==this.negative&&!w)return-1;if(0===this.negative&&w)return 1;if(this._strip(),this.length>1)S=1;else{w&&(p=-p),J(p<=67108863,"Number is too big");var T=0|this.words[0];S=T===p?0:T<p?-1:1}return 0!==this.negative?0|-S:S},b.prototype.cmp=function(p){if(0!==this.negative&&0===p.negative)return-1;if(0===this.negative&&0!==p.negative)return 1;var w=this.ucmp(p);return 0!==this.negative?0|-w:w},b.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var w=0,S=this.length-1;S>=0;S--){var T=0|this.words[S],C=0|p.words[S];if(T!==C){T<C?w=-1:T>C&&(w=1);break}}return w},b.prototype.gtn=function(p){return 1===this.cmpn(p)},b.prototype.gt=function(p){return 1===this.cmp(p)},b.prototype.gten=function(p){return this.cmpn(p)>=0},b.prototype.gte=function(p){return this.cmp(p)>=0},b.prototype.ltn=function(p){return-1===this.cmpn(p)},b.prototype.lt=function(p){return-1===this.cmp(p)},b.prototype.lten=function(p){return this.cmpn(p)<=0},b.prototype.lte=function(p){return this.cmp(p)<=0},b.prototype.eqn=function(p){return 0===this.cmpn(p)},b.prototype.eq=function(p){return 0===this.cmp(p)},b.red=function(p){return new o(p)},b.prototype.toRed=function(p){return J(!this.red,"Already a number in reduction context"),J(0===this.negative,"red works only with positives"),p.convertTo(this)._forceRed(p)},b.prototype.fromRed=function(){return J(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},b.prototype._forceRed=function(p){return this.red=p,this},b.prototype.forceRed=function(p){return J(!this.red,"Already a number in reduction context"),this._forceRed(p)},b.prototype.redAdd=function(p){return J(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},b.prototype.redIAdd=function(p){return J(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},b.prototype.redSub=function(p){return J(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},b.prototype.redISub=function(p){return J(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},b.prototype.redShl=function(p){return J(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},b.prototype.redMul=function(p){return J(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},b.prototype.redIMul=function(p){return J(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},b.prototype.redSqr=function(){return J(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},b.prototype.redISqr=function(){return J(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},b.prototype.redSqrt=function(){return J(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},b.prototype.redInvm=function(){return J(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},b.prototype.redNeg=function(){return J(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},b.prototype.redPow=function(p){return J(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var wt={k256:null,p224:null,p192:null,p25519:null};function xt(g,p){this.name=g,this.p=new b(p,16),this.n=this.p.bitLength(),this.k=new b(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function Ot(){xt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function Tt(){xt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function Et(){xt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){xt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function o(g){if("string"==typeof g){var p=b._prime(g);this.m=p.p,this.prime=p}else J(g.gtn(1),"modulus must be greater than 1"),this.m=g,this.prime=null}function c(g){o.call(this,g),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new b(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}xt.prototype._tmp=function(){var p=new b(null);return p.words=new Array(Math.ceil(this.n/13)),p},xt.prototype.ireduce=function(p){var S,w=p;do{this.split(w,this.tmp),S=(w=(w=this.imulK(w)).iadd(this.tmp)).bitLength()}while(S>this.n);var T=S<this.n?-1:w.ucmp(this.p);return 0===T?(w.words[0]=0,w.length=1):T>0?w.isub(this.p):void 0!==w.strip?w.strip():w._strip(),w},xt.prototype.split=function(p,w){p.iushrn(this.n,0,w)},xt.prototype.imulK=function(p){return p.imul(this.k)},tt(Ot,xt),Ot.prototype.split=function(p,w){for(var S=4194303,T=Math.min(p.length,9),C=0;C<T;C++)w.words[C]=p.words[C];if(w.length=T,p.length<=9)return p.words[0]=0,void(p.length=1);var h=p.words[9];for(w.words[w.length++]=h&S,C=10;C<p.length;C++){var k=0|p.words[C];p.words[C-10]=(k&S)<<4|h>>>22,h=k}p.words[C-10]=h>>>=22,p.length-=0===h&&p.length>10?10:9},Ot.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var w=0,S=0;S<p.length;S++){var T=0|p.words[S];p.words[S]=67108863&(w+=977*T),w=64*T+(w/67108864|0)}return 0===p.words[p.length-1]&&(p.length--,0===p.words[p.length-1]&&p.length--),p},tt(Tt,xt),tt(Et,xt),tt(A,xt),A.prototype.imulK=function(p){for(var w=0,S=0;S<p.length;S++){var T=19*(0|p.words[S])+w,C=67108863&T;T>>>=26,p.words[S]=C,w=T}return 0!==w&&(p.words[p.length++]=w),p},b._prime=function(p){if(wt[p])return wt[p];var w;if("k256"===p)w=new Ot;else if("p224"===p)w=new Tt;else if("p192"===p)w=new Et;else{if("p25519"!==p)throw new Error("Unknown prime "+p);w=new A}return wt[p]=w,w},o.prototype._verify1=function(p){J(0===p.negative,"red works only with positives"),J(p.red,"red works only with red numbers")},o.prototype._verify2=function(p,w){J(0==(p.negative|w.negative),"red works only with positives"),J(p.red&&p.red===w.red,"red works only with red numbers")},o.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):(H(p,p.umod(this.m)._forceRed(this)),p)},o.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},o.prototype.add=function(p,w){this._verify2(p,w);var S=p.add(w);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},o.prototype.iadd=function(p,w){this._verify2(p,w);var S=p.iadd(w);return S.cmp(this.m)>=0&&S.isub(this.m),S},o.prototype.sub=function(p,w){this._verify2(p,w);var S=p.sub(w);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},o.prototype.isub=function(p,w){this._verify2(p,w);var S=p.isub(w);return S.cmpn(0)<0&&S.iadd(this.m),S},o.prototype.shl=function(p,w){return this._verify1(p),this.imod(p.ushln(w))},o.prototype.imul=function(p,w){return this._verify2(p,w),this.imod(p.imul(w))},o.prototype.mul=function(p,w){return this._verify2(p,w),this.imod(p.mul(w))},o.prototype.isqr=function(p){return this.imul(p,p.clone())},o.prototype.sqr=function(p){return this.mul(p,p)},o.prototype.sqrt=function(p){if(p.isZero())return p.clone();var w=this.m.andln(3);if(J(w%2==1),3===w){var S=this.m.add(new b(1)).iushrn(2);return this.pow(p,S)}for(var T=this.m.subn(1),C=0;!T.isZero()&&0===T.andln(1);)C++,T.iushrn(1);J(!T.isZero());var h=new b(1).toRed(this),k=h.redNeg(),ft=this.m.subn(1).iushrn(1),at=this.m.bitLength();for(at=new b(2*at*at).toRed(this);0!==this.pow(at,ft).cmp(k);)at.redIAdd(k);for(var st=this.pow(at,T),Mt=this.pow(p,T.addn(1).iushrn(1)),St=this.pow(p,T),Xt=C;0!==St.cmp(h);){for(var te=St,Vt=0;0!==te.cmp(h);Vt++)te=te.redSqr();J(Vt<Xt);var Dt=this.pow(st,new b(1).iushln(Xt-Vt-1));Mt=Mt.redMul(Dt),st=Dt.redSqr(),St=St.redMul(st),Xt=Vt}return Mt},o.prototype.invm=function(p){var w=p._invmp(this.m);return 0!==w.negative?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},o.prototype.pow=function(p,w){if(w.isZero())return new b(1).toRed(this);if(0===w.cmpn(1))return p.clone();var T=new Array(16);T[0]=new b(1).toRed(this),T[1]=p;for(var C=2;C<T.length;C++)T[C]=this.mul(T[C-1],p);var h=T[0],k=0,ft=0,at=w.bitLength()%26;for(0===at&&(at=26),C=w.length-1;C>=0;C--){for(var st=w.words[C],Mt=at-1;Mt>=0;Mt--){var St=st>>Mt&1;h!==T[0]&&(h=this.sqr(h)),0!==St||0!==k?(k<<=1,k|=St,(4==++ft||0===C&&0===Mt)&&(h=this.mul(h,T[k]),ft=0,k=0)):ft=0}at=26}return h},o.prototype.convertTo=function(p){var w=p.umod(this.m);return w===p?w.clone():w},o.prototype.convertFrom=function(p){var w=p.clone();return w.red=null,w},b.mont=function(p){return new c(p)},tt(c,o),c.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},c.prototype.convertFrom=function(p){var w=this.imod(p.mul(this.rinv));return w.red=null,w},c.prototype.imul=function(p,w){if(p.isZero()||w.isZero())return p.words[0]=0,p.length=1,p;var S=p.imul(w),T=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=S.isub(T).iushrn(this.shift),h=C;return C.cmp(this.m)>=0?h=C.isub(this.m):C.cmpn(0)<0&&(h=C.iadd(this.m)),h._forceRed(this)},c.prototype.mul=function(p,w){if(p.isZero()||w.isZero())return new b(0)._forceRed(this);var S=p.mul(w),T=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=S.isub(T).iushrn(this.shift),h=C;return C.cmp(this.m)>=0?h=C.isub(this.m):C.cmpn(0)<0&&(h=C.iadd(this.m)),h._forceRed(this)},c.prototype.invm=function(p){return this.imod(p._invmp(this.m).mul(this.r2))._forceRed(this)}}(Ee=ut.nmd(Ee),this)},3550:(Ee,Q,ut)=>{var ct;function f(tt){this.rand=tt}if(Ee.exports=function(b){return ct||(ct=new f(null)),ct.generate(b)},Ee.exports.Rand=f,f.prototype.generate=function(b){return this._rand(b)},f.prototype._rand=function(b){if(this.rand.getBytes)return this.rand.getBytes(b);for(var W=new Uint8Array(b),G=0;G<W.length;G++)W[G]=this.rand.getByte();return W},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?f.prototype._rand=function(b){var W=new Uint8Array(b);return self.crypto.getRandomValues(W),W}:self.msCrypto&&self.msCrypto.getRandomValues?f.prototype._rand=function(b){var W=new Uint8Array(b);return self.msCrypto.getRandomValues(W),W}:"object"==typeof window&&(f.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var J=ut(7702);if("function"!=typeof J.randomBytes)throw new Error("Not supported");f.prototype._rand=function(b){return J.randomBytes(b)}}catch(tt){}},8541:(Ee,Q,ut)=>{var ct=ut(4615).Buffer;function f(rt){ct.isBuffer(rt)||(rt=ct.from(rt));for(var Z=rt.length/4|0,H=new Array(Z),F=0;F<Z;F++)H[F]=rt.readUInt32BE(4*F);return H}function J(rt){for(;0<rt.length;rt++)rt[0]=0}function tt(rt,Z,H,F,et){for(var lt,wt,xt,Ot,B=H[0],X=H[1],z=H[2],Y=H[3],q=rt[0]^Z[0],U=rt[1]^Z[1],it=rt[2]^Z[2],ot=rt[3]^Z[3],Tt=4,Et=1;Et<et;Et++)lt=B[q>>>24]^X[U>>>16&255]^z[it>>>8&255]^Y[255&ot]^Z[Tt++],wt=B[U>>>24]^X[it>>>16&255]^z[ot>>>8&255]^Y[255&q]^Z[Tt++],xt=B[it>>>24]^X[ot>>>16&255]^z[q>>>8&255]^Y[255&U]^Z[Tt++],Ot=B[ot>>>24]^X[q>>>16&255]^z[U>>>8&255]^Y[255&it]^Z[Tt++],q=lt,U=wt,it=xt,ot=Ot;return lt=(F[q>>>24]<<24|F[U>>>16&255]<<16|F[it>>>8&255]<<8|F[255&ot])^Z[Tt++],wt=(F[U>>>24]<<24|F[it>>>16&255]<<16|F[ot>>>8&255]<<8|F[255&q])^Z[Tt++],xt=(F[it>>>24]<<24|F[ot>>>16&255]<<16|F[q>>>8&255]<<8|F[255&U])^Z[Tt++],Ot=(F[ot>>>24]<<24|F[q>>>16&255]<<16|F[U>>>8&255]<<8|F[255&it])^Z[Tt++],[lt>>>=0,wt>>>=0,xt>>>=0,Ot>>>=0]}var b=[0,1,2,4,8,16,32,64,128,27,54],W=function(){for(var rt=new Array(256),Z=0;Z<256;Z++)rt[Z]=Z<128?Z<<1:Z<<1^283;for(var H=[],F=[],et=[[],[],[],[]],B=[[],[],[],[]],X=0,z=0,Y=0;Y<256;++Y){var q=z^z<<1^z<<2^z<<3^z<<4;H[X]=q=q>>>8^255&q^99,F[q]=X;var U=rt[X],it=rt[U],ot=rt[it],lt=257*rt[q]^16843008*q;et[0][X]=lt<<24|lt>>>8,et[1][X]=lt<<16|lt>>>16,et[2][X]=lt<<8|lt>>>24,et[3][X]=lt,B[0][q]=(lt=16843009*ot^65537*it^257*U^16843008*X)<<24|lt>>>8,B[1][q]=lt<<16|lt>>>16,B[2][q]=lt<<8|lt>>>24,B[3][q]=lt,0===X?X=z=1:(X=U^rt[rt[rt[ot^U]]],z^=rt[rt[z]])}return{SBOX:H,INV_SBOX:F,SUB_MIX:et,INV_SUB_MIX:B}}();function G(rt){this._key=f(rt),this._reset()}G.blockSize=16,G.keySize=32,G.prototype.blockSize=G.blockSize,G.prototype.keySize=G.keySize,G.prototype._reset=function(){for(var rt=this._key,Z=rt.length,H=Z+6,F=4*(H+1),et=[],B=0;B<Z;B++)et[B]=rt[B];for(B=Z;B<F;B++){var X=et[B-1];B%Z==0?(X=W.SBOX[(X=X<<8|X>>>24)>>>24]<<24|W.SBOX[X>>>16&255]<<16|W.SBOX[X>>>8&255]<<8|W.SBOX[255&X],X^=b[B/Z|0]<<24):Z>6&&B%Z==4&&(X=W.SBOX[X>>>24]<<24|W.SBOX[X>>>16&255]<<16|W.SBOX[X>>>8&255]<<8|W.SBOX[255&X]),et[B]=et[B-Z]^X}for(var z=[],Y=0;Y<F;Y++){var q=F-Y,U=et[q-(Y%4?0:4)];z[Y]=Y<4||q<=4?U:W.INV_SUB_MIX[0][W.SBOX[U>>>24]]^W.INV_SUB_MIX[1][W.SBOX[U>>>16&255]]^W.INV_SUB_MIX[2][W.SBOX[U>>>8&255]]^W.INV_SUB_MIX[3][W.SBOX[255&U]]}this._nRounds=H,this._keySchedule=et,this._invKeySchedule=z},G.prototype.encryptBlockRaw=function(rt){return tt(rt=f(rt),this._keySchedule,W.SUB_MIX,W.SBOX,this._nRounds)},G.prototype.encryptBlock=function(rt){var Z=this.encryptBlockRaw(rt),H=ct.allocUnsafe(16);return H.writeUInt32BE(Z[0],0),H.writeUInt32BE(Z[1],4),H.writeUInt32BE(Z[2],8),H.writeUInt32BE(Z[3],12),H},G.prototype.decryptBlock=function(rt){var Z=(rt=f(rt))[1];rt[1]=rt[3],rt[3]=Z;var H=tt(rt,this._invKeySchedule,W.INV_SUB_MIX,W.INV_SBOX,this._nRounds),F=ct.allocUnsafe(16);return F.writeUInt32BE(H[0],0),F.writeUInt32BE(H[3],4),F.writeUInt32BE(H[2],8),F.writeUInt32BE(H[1],12),F},G.prototype.scrub=function(){J(this._keySchedule),J(this._invKeySchedule),J(this._key)},Ee.exports.AES=G},1707:(Ee,Q,ut)=>{var ct=ut(8541),f=ut(4615).Buffer,J=ut(8672),tt=ut(3516),b=ut(3727),W=ut(2818),G=ut(9636);function H(F,et,B,X){J.call(this);var z=f.alloc(4,0);this._cipher=new ct.AES(et);var Y=this._cipher.encryptBlock(z);this._ghash=new b(Y),B=function(F,et,B){if(12===et.length)return F._finID=f.concat([et,f.from([0,0,0,1])]),f.concat([et,f.from([0,0,0,2])]);var X=new b(B),z=et.length,Y=z%16;X.update(et),Y&&X.update(f.alloc(Y=16-Y,0)),X.update(f.alloc(8,0));var q=8*z,U=f.alloc(8);U.writeUIntBE(q,0,8),X.update(U),F._finID=X.state;var it=f.from(F._finID);return G(it),it}(this,B,Y),this._prev=f.from(B),this._cache=f.allocUnsafe(0),this._secCache=f.allocUnsafe(0),this._decrypt=X,this._alen=0,this._len=0,this._mode=F,this._authTag=null,this._called=!1}tt(H,J),H.prototype._update=function(F){if(!this._called&&this._alen){var et=16-this._alen%16;et<16&&(et=f.alloc(et,0),this._ghash.update(et))}this._called=!0;var B=this._mode.encrypt(this,F);return this._ghash.update(this._decrypt?F:B),this._len+=F.length,B},H.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var F=W(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(F,et){var B=0;F.length!==et.length&&B++;for(var X=Math.min(F.length,et.length),z=0;z<X;++z)B+=F[z]^et[z];return B}(F,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=F,this._cipher.scrub()},H.prototype.getAuthTag=function(){if(this._decrypt||!f.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},H.prototype.setAuthTag=function(et){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=et},H.prototype.setAAD=function(et){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(et),this._alen+=et.length},Ee.exports=H},8809:(Ee,Q,ut)=>{var ct=ut(11),f=ut(3441),J=ut(4946);Q.createCipher=Q.Cipher=ct.createCipher,Q.createCipheriv=Q.Cipheriv=ct.createCipheriv,Q.createDecipher=Q.Decipher=f.createDecipher,Q.createDecipheriv=Q.Decipheriv=f.createDecipheriv,Q.listCiphers=Q.getCiphers=function(){return Object.keys(J)}},3441:(Ee,Q,ut)=>{var ct=ut(1707),f=ut(4615).Buffer,J=ut(4470),tt=ut(7217),b=ut(8672),W=ut(8541),G=ut(4539);function Z(X,z,Y){b.call(this),this._cache=new H,this._last=void 0,this._cipher=new W.AES(z),this._prev=f.from(Y),this._mode=X,this._autopadding=!0}function H(){this.cache=f.allocUnsafe(0)}function et(X,z,Y){var q=J[X.toLowerCase()];if(!q)throw new TypeError("invalid suite type");if("string"==typeof Y&&(Y=f.from(Y)),"GCM"!==q.mode&&Y.length!==q.iv)throw new TypeError("invalid iv length "+Y.length);if("string"==typeof z&&(z=f.from(z)),z.length!==q.key/8)throw new TypeError("invalid key length "+z.length);return"stream"===q.type?new tt(q.module,z,Y,!0):"auth"===q.type?new ct(q.module,z,Y,!0):new Z(q.module,z,Y)}ut(3516)(Z,b),Z.prototype._update=function(X){this._cache.add(X);for(var z,Y,q=[];z=this._cache.get(this._autopadding);)Y=this._mode.decrypt(this,z),q.push(Y);return f.concat(q)},Z.prototype._final=function(){var X=this._cache.flush();if(this._autopadding)return function(X){var z=X[15];if(z<1||z>16)throw new Error("unable to decrypt data");for(var Y=-1;++Y<z;)if(X[Y+(16-z)]!==z)throw new Error("unable to decrypt data");if(16!==z)return X.slice(0,16-z)}(this._mode.decrypt(this,X));if(X)throw new Error("data not multiple of block length")},Z.prototype.setAutoPadding=function(X){return this._autopadding=!!X,this},H.prototype.add=function(X){this.cache=f.concat([this.cache,X])},H.prototype.get=function(X){var z;if(X){if(this.cache.length>16)return z=this.cache.slice(0,16),this.cache=this.cache.slice(16),z}else if(this.cache.length>=16)return z=this.cache.slice(0,16),this.cache=this.cache.slice(16),z;return null},H.prototype.flush=function(){if(this.cache.length)return this.cache},Q.createDecipher=function(X,z){var Y=J[X.toLowerCase()];if(!Y)throw new TypeError("invalid suite type");var q=G(z,!1,Y.key,Y.iv);return et(X,q.key,q.iv)},Q.createDecipheriv=et},11:(Ee,Q,ut)=>{var ct=ut(4470),f=ut(1707),J=ut(4615).Buffer,tt=ut(7217),b=ut(8672),W=ut(8541),G=ut(4539);function Z(X,z,Y){b.call(this),this._cache=new F,this._cipher=new W.AES(z),this._prev=J.from(Y),this._mode=X,this._autopadding=!0}ut(3516)(Z,b),Z.prototype._update=function(X){this._cache.add(X);for(var z,Y,q=[];z=this._cache.get();)Y=this._mode.encrypt(this,z),q.push(Y);return J.concat(q)};var H=J.alloc(16,16);function F(){this.cache=J.allocUnsafe(0)}function et(X,z,Y){var q=ct[X.toLowerCase()];if(!q)throw new TypeError("invalid suite type");if("string"==typeof z&&(z=J.from(z)),z.length!==q.key/8)throw new TypeError("invalid key length "+z.length);if("string"==typeof Y&&(Y=J.from(Y)),"GCM"!==q.mode&&Y.length!==q.iv)throw new TypeError("invalid iv length "+Y.length);return"stream"===q.type?new tt(q.module,z,Y):"auth"===q.type?new f(q.module,z,Y):new Z(q.module,z,Y)}Z.prototype._final=function(){var X=this._cache.flush();if(this._autopadding)return X=this._mode.encrypt(this,X),this._cipher.scrub(),X;if(!X.equals(H))throw this._cipher.scrub(),new Error("data not multiple of block length")},Z.prototype.setAutoPadding=function(X){return this._autopadding=!!X,this},F.prototype.add=function(X){this.cache=J.concat([this.cache,X])},F.prototype.get=function(){if(this.cache.length>15){var X=this.cache.slice(0,16);return this.cache=this.cache.slice(16),X}return null},F.prototype.flush=function(){for(var X=16-this.cache.length,z=J.allocUnsafe(X),Y=-1;++Y<X;)z.writeUInt8(X,Y);return J.concat([this.cache,z])},Q.createCipheriv=et,Q.createCipher=function(X,z){var Y=ct[X.toLowerCase()];if(!Y)throw new TypeError("invalid suite type");var q=G(z,!1,Y.key,Y.iv);return et(X,q.key,q.iv)}},3727:(Ee,Q,ut)=>{var ct=ut(4615).Buffer,f=ct.alloc(16,0);function tt(W){var G=ct.allocUnsafe(16);return G.writeUInt32BE(W[0]>>>0,0),G.writeUInt32BE(W[1]>>>0,4),G.writeUInt32BE(W[2]>>>0,8),G.writeUInt32BE(W[3]>>>0,12),G}function b(W){this.h=W,this.state=ct.alloc(16,0),this.cache=ct.allocUnsafe(0)}b.prototype.ghash=function(W){for(var G=-1;++G<W.length;)this.state[G]^=W[G];this._multiply()},b.prototype._multiply=function(){for(var rt,H,W=function(W){return[W.readUInt32BE(0),W.readUInt32BE(4),W.readUInt32BE(8),W.readUInt32BE(12)]}(this.h),G=[0,0,0,0],F=-1;++F<128;){for(0!=(this.state[~~(F/8)]&1<<7-F%8)&&(G[0]^=W[0],G[1]^=W[1],G[2]^=W[2],G[3]^=W[3]),H=0!=(1&W[3]),rt=3;rt>0;rt--)W[rt]=W[rt]>>>1|(1&W[rt-1])<<31;W[0]=W[0]>>>1,H&&(W[0]=W[0]^225<<24)}this.state=tt(G)},b.prototype.update=function(W){this.cache=ct.concat([this.cache,W]);for(var G;this.cache.length>=16;)G=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(G)},b.prototype.final=function(W,G){return this.cache.length&&this.ghash(ct.concat([this.cache,f],16)),this.ghash(tt([0,W,0,G])),this.state},Ee.exports=b},9636:Ee=>{Ee.exports=function(ut){for(var f,ct=ut.length;ct--;){if(255!==(f=ut.readUInt8(ct))){f++,ut.writeUInt8(f,ct);break}ut.writeUInt8(0,ct)}}},2642:(Ee,Q,ut)=>{var ct=ut(2818);Q.encrypt=function(f,J){var tt=ct(J,f._prev);return f._prev=f._cipher.encryptBlock(tt),f._prev},Q.decrypt=function(f,J){var tt=f._prev;f._prev=J;var b=f._cipher.decryptBlock(J);return ct(b,tt)}},7925:(Ee,Q,ut)=>{var ct=ut(4615).Buffer,f=ut(2818);function J(tt,b,W){var G=b.length,rt=f(b,tt._cache);return tt._cache=tt._cache.slice(G),tt._prev=ct.concat([tt._prev,W?b:rt]),rt}Q.encrypt=function(tt,b,W){for(var rt,G=ct.allocUnsafe(0);b.length;){if(0===tt._cache.length&&(tt._cache=tt._cipher.encryptBlock(tt._prev),tt._prev=ct.allocUnsafe(0)),!(tt._cache.length<=b.length)){G=ct.concat([G,J(tt,b,W)]);break}G=ct.concat([G,J(tt,b.slice(0,rt=tt._cache.length),W)]),b=b.slice(rt)}return G}},1866:(Ee,Q,ut)=>{var ct=ut(4615).Buffer;function f(tt,b,W){for(var F,et,rt=-1,H=0;++rt<8;)H+=(128&(et=tt._cipher.encryptBlock(tt._prev)[0]^(F=b&1<<7-rt?128:0)))>>rt%8,tt._prev=J(tt._prev,W?F:et);return H}function J(tt,b){var W=tt.length,G=-1,rt=ct.allocUnsafe(tt.length);for(tt=ct.concat([tt,ct.from([b])]);++G<W;)rt[G]=tt[G]<<1|tt[G+1]>>7;return rt}Q.encrypt=function(tt,b,W){for(var G=b.length,rt=ct.allocUnsafe(G),Z=-1;++Z<G;)rt[Z]=f(tt,b[Z],W);return rt}},2374:(Ee,Q,ut)=>{var ct=ut(4615).Buffer;function f(J,tt,b){var G=J._cipher.encryptBlock(J._prev)[0]^tt;return J._prev=ct.concat([J._prev.slice(1),ct.from([b?tt:G])]),G}Q.encrypt=function(J,tt,b){for(var W=tt.length,G=ct.allocUnsafe(W),rt=-1;++rt<W;)G[rt]=f(J,tt[rt],b);return G}},3971:(Ee,Q,ut)=>{var ct=ut(2818),f=ut(4615).Buffer,J=ut(9636);function tt(W){var G=W._cipher.encryptBlockRaw(W._prev);return J(W._prev),G}Q.encrypt=function(W,G){var rt=Math.ceil(G.length/16),Z=W._cache.length;W._cache=f.concat([W._cache,f.allocUnsafe(16*rt)]);for(var H=0;H<rt;H++){var F=tt(W),et=Z+16*H;W._cache.writeUInt32BE(F[0],et+0),W._cache.writeUInt32BE(F[1],et+4),W._cache.writeUInt32BE(F[2],et+8),W._cache.writeUInt32BE(F[3],et+12)}var B=W._cache.slice(0,G.length);return W._cache=W._cache.slice(G.length),ct(G,B)}},5321:(Ee,Q)=>{Q.encrypt=function(ut,ct){return ut._cipher.encryptBlock(ct)},Q.decrypt=function(ut,ct){return ut._cipher.decryptBlock(ct)}},4470:(Ee,Q,ut)=>{var ct={ECB:ut(5321),CBC:ut(2642),CFB:ut(7925),CFB8:ut(2374),CFB1:ut(1866),OFB:ut(7633),CTR:ut(3971),GCM:ut(3971)},f=ut(4946);for(var J in f)f[J].module=ct[f[J].mode];Ee.exports=f},7633:(Ee,Q,ut)=>{var ct=ut(2818);function f(J){return J._prev=J._cipher.encryptBlock(J._prev),J._prev}Q.encrypt=function(J,tt){for(;J._cache.length<tt.length;)J._cache=Buffer.concat([J._cache,f(J)]);var b=J._cache.slice(0,tt.length);return J._cache=J._cache.slice(tt.length),ct(tt,b)}},7217:(Ee,Q,ut)=>{var ct=ut(8541),f=ut(4615).Buffer,J=ut(8672);function b(W,G,rt,Z){J.call(this),this._cipher=new ct.AES(G),this._prev=f.from(rt),this._cache=f.allocUnsafe(0),this._secCache=f.allocUnsafe(0),this._decrypt=Z,this._mode=W}ut(3516)(b,J),b.prototype._update=function(W){return this._mode.encrypt(this,W,this._decrypt)},b.prototype._final=function(){this._cipher.scrub()},Ee.exports=b},5828:(Ee,Q,ut)=>{var ct=ut(4848),f=ut(8809),J=ut(4470),tt=ut(1580),b=ut(4539);function rt(F,et,B){if(F=F.toLowerCase(),J[F])return f.createCipheriv(F,et,B);if(tt[F])return new ct({key:et,iv:B,mode:F});throw new TypeError("invalid suite type")}function Z(F,et,B){if(F=F.toLowerCase(),J[F])return f.createDecipheriv(F,et,B);if(tt[F])return new ct({key:et,iv:B,mode:F,decrypt:!0});throw new TypeError("invalid suite type")}Q.createCipher=Q.Cipher=function(F,et){var B,X;if(F=F.toLowerCase(),J[F])B=J[F].key,X=J[F].iv;else{if(!tt[F])throw new TypeError("invalid suite type");B=8*tt[F].key,X=tt[F].iv}var z=b(et,!1,B,X);return rt(F,z.key,z.iv)},Q.createCipheriv=Q.Cipheriv=rt,Q.createDecipher=Q.Decipher=function(F,et){var B,X;if(F=F.toLowerCase(),J[F])B=J[F].key,X=J[F].iv;else{if(!tt[F])throw new TypeError("invalid suite type");B=8*tt[F].key,X=tt[F].iv}var z=b(et,!1,B,X);return Z(F,z.key,z.iv)},Q.createDecipheriv=Q.Decipheriv=Z,Q.listCiphers=Q.getCiphers=function(){return Object.keys(tt).concat(f.getCiphers())}},4848:(Ee,Q,ut)=>{var ct=ut(8672),f=ut(1511),J=ut(3516),tt=ut(4615).Buffer,b={"des-ede3-cbc":f.CBC.instantiate(f.EDE),"des-ede3":f.EDE,"des-ede-cbc":f.CBC.instantiate(f.EDE),"des-ede":f.EDE,"des-cbc":f.CBC.instantiate(f.DES),"des-ecb":f.DES};function W(G){ct.call(this);var H,rt=G.mode.toLowerCase(),Z=b[rt];H=G.decrypt?"decrypt":"encrypt";var F=G.key;tt.isBuffer(F)||(F=tt.from(F)),("des-ede"===rt||"des-ede-cbc"===rt)&&(F=tt.concat([F,F.slice(0,8)]));var et=G.iv;tt.isBuffer(et)||(et=tt.from(et)),this._des=Z.create({key:F,iv:et,type:H})}b.des=b["des-cbc"],b.des3=b["des-ede3-cbc"],Ee.exports=W,J(W,ct),W.prototype._update=function(G){return tt.from(this._des.update(G))},W.prototype._final=function(){return tt.from(this._des.final())}},1580:(Ee,Q)=>{Q["des-ecb"]={key:8,iv:0},Q["des-cbc"]=Q.des={key:8,iv:8},Q["des-ede3-cbc"]=Q.des3={key:24,iv:8},Q["des-ede3"]={key:24,iv:0},Q["des-ede-cbc"]={key:16,iv:8},Q["des-ede"]={key:16,iv:0}},5269:(Ee,Q,ut)=>{var ct=ut(2963),f=ut(8747);function tt(W){var rt,G=W.modulus.byteLength();do{rt=new ct(f(G))}while(rt.cmp(W.modulus)>=0||!rt.umod(W.prime1)||!rt.umod(W.prime2));return rt}function b(W,G){var rt=function(W){var G=tt(W);return{blinder:G.toRed(ct.mont(W.modulus)).redPow(new ct(W.publicExponent)).fromRed(),unblinder:G.invm(W.modulus)}}(G),Z=G.modulus.byteLength(),H=new ct(W).mul(rt.blinder).umod(G.modulus),F=H.toRed(ct.mont(G.prime1)),et=H.toRed(ct.mont(G.prime2)),B=G.coefficient,X=G.prime1,z=G.prime2,Y=F.redPow(G.exponent1).fromRed(),q=et.redPow(G.exponent2).fromRed(),U=Y.isub(q).imul(B).umod(X).imul(z);return q.iadd(U).imul(rt.unblinder).umod(G.modulus).toArrayLike(Buffer,"be",Z)}b.getr=tt,Ee.exports=b},6850:(Ee,Q,ut)=>{Ee.exports=ut(5207)},5822:(Ee,Q,ut)=>{var ct=ut(8190).Buffer,f=ut(4979),J=ut(8792),tt=ut(3516),b=ut(8279),W=ut(3709),G=ut(5207);function rt(et){J.Writable.call(this);var B=G[et];if(!B)throw new Error("Unknown message digest");this._hashType=B.hash,this._hash=f(B.hash),this._tag=B.id,this._signType=B.sign}function Z(et){J.Writable.call(this);var B=G[et];if(!B)throw new Error("Unknown message digest");this._hash=f(B.hash),this._tag=B.id,this._signType=B.sign}function H(et){return new rt(et)}function F(et){return new Z(et)}Object.keys(G).forEach(function(et){G[et].id=ct.from(G[et].id,"hex"),G[et.toLowerCase()]=G[et]}),tt(rt,J.Writable),rt.prototype._write=function(B,X,z){this._hash.update(B),z()},rt.prototype.update=function(B,X){return"string"==typeof B&&(B=ct.from(B,X)),this._hash.update(B),this},rt.prototype.sign=function(B,X){this.end();var z=this._hash.digest(),Y=b(z,B,this._hashType,this._signType,this._tag);return X?Y.toString(X):Y},tt(Z,J.Writable),Z.prototype._write=function(B,X,z){this._hash.update(B),z()},Z.prototype.update=function(B,X){return"string"==typeof B&&(B=ct.from(B,X)),this._hash.update(B),this},Z.prototype.verify=function(B,X,z){"string"==typeof X&&(X=ct.from(X,z)),this.end();var Y=this._hash.digest();return W(X,Y,B,this._signType,this._tag)},Ee.exports={Sign:H,Verify:F,createSign:H,createVerify:F}},8279:(Ee,Q,ut)=>{var ct=ut(8190).Buffer,f=ut(3927),J=ut(5269),tt=ut(3059).ec,b=ut(2963),W=ut(347),G=ut(1308);function et(q,U,it,ot){if((q=ct.from(q.toArray())).length<U.byteLength()){var lt=ct.alloc(U.byteLength()-q.length);q=ct.concat([lt,q])}var wt=it.length,xt=function(q,U){q=(q=B(q,U)).mod(U);var it=ct.from(q.toArray());if(it.length<U.byteLength()){var ot=ct.alloc(U.byteLength()-it.length);it=ct.concat([ot,it])}return it}(it,U),Ot=ct.alloc(wt);Ot.fill(1);var Tt=ct.alloc(wt);return Tt=f(ot,Tt).update(Ot).update(ct.from([0])).update(q).update(xt).digest(),Ot=f(ot,Tt).update(Ot).digest(),{k:Tt=f(ot,Tt).update(Ot).update(ct.from([1])).update(q).update(xt).digest(),v:Ot=f(ot,Tt).update(Ot).digest()}}function B(q,U){var it=new b(q),ot=(q.length<<3)-U.bitLength();return ot>0&&it.ishrn(ot),it}function z(q,U,it){var ot,lt;do{for(ot=ct.alloc(0);8*ot.length<q.bitLength();)U.v=f(it,U.k).update(U.v).digest(),ot=ct.concat([ot,U.v]);lt=B(ot,q),U.k=f(it,U.k).update(U.v).update(ct.from([0])).digest(),U.v=f(it,U.k).update(U.v).digest()}while(-1!==lt.cmp(q));return lt}function Y(q,U,it,ot){return q.toRed(b.mont(it)).redPow(U).fromRed().mod(ot)}Ee.exports=function(q,U,it,ot,lt){var wt=W(U);if(wt.curve){if("ecdsa"!==ot&&"ecdsa/rsa"!==ot)throw new Error("wrong private key type");return function(q,U){var it=G[U.curve.join(".")];if(!it)throw new Error("unknown curve "+U.curve.join("."));var wt=new tt(it).keyFromPrivate(U.privateKey).sign(q);return ct.from(wt.toDER())}(q,wt)}if("dsa"===wt.type){if("dsa"!==ot)throw new Error("wrong private key type");return function(q,U,it){for(var Tt,ot=U.params.priv_key,lt=U.params.p,wt=U.params.q,xt=U.params.g,Ot=new b(0),Et=B(q,wt).mod(wt),A=!1,o=et(ot,wt,q,it);!1===A;)Ot=Y(xt,Tt=z(wt,o,it),lt,wt),0===(A=Tt.invm(wt).imul(Et.add(ot.mul(Ot))).mod(wt)).cmpn(0)&&(A=!1,Ot=new b(0));return function(q,U){q=q.toArray(),U=U.toArray(),128&q[0]&&(q=[0].concat(q)),128&U[0]&&(U=[0].concat(U));var ot=[48,q.length+U.length+4,2,q.length];return ot=ot.concat(q,[2,U.length],U),ct.from(ot)}(Ot,A)}(q,wt,it)}if("rsa"!==ot&&"ecdsa/rsa"!==ot)throw new Error("wrong private key type");q=ct.concat([lt,q]);for(var xt=wt.modulus.byteLength(),Ot=[0,1];q.length+Ot.length+1<xt;)Ot.push(255);Ot.push(0);for(var Tt=-1;++Tt<q.length;)Ot.push(q[Tt]);return J(Ot,wt)},Ee.exports.getKey=et,Ee.exports.makeKey=z},3709:(Ee,Q,ut)=>{var ct=ut(8190).Buffer,f=ut(2963),J=ut(3059).ec,tt=ut(347),b=ut(1308);function Z(H,F){if(H.cmpn(0)<=0)throw new Error("invalid sig");if(H.cmp(F)>=F)throw new Error("invalid sig")}Ee.exports=function(H,F,et,B,X){var z=tt(et);if("ec"===z.type){if("ecdsa"!==B&&"ecdsa/rsa"!==B)throw new Error("wrong public key type");return function(H,F,et){var B=b[et.data.algorithm.curve.join(".")];if(!B)throw new Error("unknown curve "+et.data.algorithm.curve.join("."));return new J(B).verify(F,H,et.data.subjectPrivateKey.data)}(H,F,z)}if("dsa"===z.type){if("dsa"!==B)throw new Error("wrong public key type");return function(H,F,et){var B=et.data.p,X=et.data.q,z=et.data.g,Y=et.data.pub_key,q=tt.signature.decode(H,"der"),U=q.s,it=q.r;Z(U,X),Z(it,X);var ot=f.mont(B),lt=U.invm(X);return 0===z.toRed(ot).redPow(new f(F).mul(lt).mod(X)).fromRed().mul(Y.toRed(ot).redPow(it.mul(lt).mod(X)).fromRed()).mod(B).mod(X).cmp(it)}(H,F,z)}if("rsa"!==B&&"ecdsa/rsa"!==B)throw new Error("wrong public key type");F=ct.concat([X,F]);for(var Y=z.modulus.byteLength(),q=[1],U=0;F.length+q.length+2<Y;)q.push(255),U++;q.push(0);for(var it=-1;++it<F.length;)q.push(F[it]);q=ct.from(q);var ot=f.mont(z.modulus);H=(H=new f(H).toRed(ot)).redPow(new f(z.publicExponent)),H=ct.from(H.fromRed().toArray());var lt=U<8?1:0;for(Y=Math.min(H.length,q.length),H.length!==q.length&&(lt=1),it=-1;++it<Y;)lt|=H[it]^q[it];return 0===lt}},8190:(Ee,Q,ut)=>{var ct=ut(3847),f=ct.Buffer;function J(b,W){for(var G in b)W[G]=b[G]}function tt(b,W,G){return f(b,W,G)}f.from&&f.alloc&&f.allocUnsafe&&f.allocUnsafeSlow?Ee.exports=ct:(J(ct,Q),Q.Buffer=tt),tt.prototype=Object.create(f.prototype),J(f,tt),tt.from=function(b,W,G){if("number"==typeof b)throw new TypeError("Argument must not be a number");return f(b,W,G)},tt.alloc=function(b,W,G){if("number"!=typeof b)throw new TypeError("Argument must be a number");var rt=f(b);return void 0!==W?"string"==typeof G?rt.fill(W,G):rt.fill(W):rt.fill(0),rt},tt.allocUnsafe=function(b){if("number"!=typeof b)throw new TypeError("Argument must be a number");return f(b)},tt.allocUnsafeSlow=function(b){if("number"!=typeof b)throw new TypeError("Argument must be a number");return ct.SlowBuffer(b)}},2818:Ee=>{Ee.exports=function(ut,ct){for(var f=Math.min(ut.length,ct.length),J=new Buffer(f),tt=0;tt<f;++tt)J[tt]=ut[tt]^ct[tt];return J}},3847:(Ee,Q,ut)=>{"use strict";const ct=ut(6193),f=ut(1208),J="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;Q.Buffer=G,Q.SlowBuffer=function(jt){return+jt!=jt&&(jt=0),G.alloc(+jt)},Q.INSPECT_MAX_BYTES=50;const tt=2147483647;function W(jt){if(jt>tt)throw new RangeError('The value "'+jt+'" is invalid for option "size"');const yt=new Uint8Array(jt);return Object.setPrototypeOf(yt,G.prototype),yt}function G(jt,yt,ht){if("number"==typeof jt){if("string"==typeof yt)throw new TypeError('The "string" argument must be of type string. Received type number');return F(jt)}return rt(jt,yt,ht)}function rt(jt,yt,ht){if("string"==typeof jt)return function(jt,yt){if(("string"!=typeof yt||""===yt)&&(yt="utf8"),!G.isEncoding(yt))throw new TypeError("Unknown encoding: "+yt);const ht=0|it(jt,yt);let ce=W(ht);const ke=ce.write(jt,yt);return ke!==ht&&(ce=ce.slice(0,ke)),ce}(jt,yt);if(ArrayBuffer.isView(jt))return function(jt){if(_e(jt,Uint8Array)){const yt=new Uint8Array(jt);return z(yt.buffer,yt.byteOffset,yt.byteLength)}return B(jt)}(jt);if(null==jt)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof jt);if(_e(jt,ArrayBuffer)||jt&&_e(jt.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(_e(jt,SharedArrayBuffer)||jt&&_e(jt.buffer,SharedArrayBuffer)))return z(jt,yt,ht);if("number"==typeof jt)throw new TypeError('The "value" argument must not be of type number. Received type number');const ce=jt.valueOf&&jt.valueOf();if(null!=ce&&ce!==jt)return G.from(ce,yt,ht);const ke=function(jt){if(G.isBuffer(jt)){const yt=0|q(jt.length),ht=W(yt);return 0===ht.length||jt.copy(ht,0,0,yt),ht}return void 0!==jt.length?"number"!=typeof jt.length||Ce(jt.length)?W(0):B(jt):"Buffer"===jt.type&&Array.isArray(jt.data)?B(jt.data):void 0}(jt);if(ke)return ke;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof jt[Symbol.toPrimitive])return G.from(jt[Symbol.toPrimitive]("string"),yt,ht);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof jt)}function Z(jt){if("number"!=typeof jt)throw new TypeError('"size" argument must be of type number');if(jt<0)throw new RangeError('The value "'+jt+'" is invalid for option "size"')}function F(jt){return Z(jt),W(jt<0?0:0|q(jt))}function B(jt){const yt=jt.length<0?0:0|q(jt.length),ht=W(yt);for(let ce=0;ce<yt;ce+=1)ht[ce]=255&jt[ce];return ht}function z(jt,yt,ht){if(yt<0||jt.byteLength<yt)throw new RangeError('"offset" is outside of buffer bounds');if(jt.byteLength<yt+(ht||0))throw new RangeError('"length" is outside of buffer bounds');let ce;return ce=void 0===yt&&void 0===ht?new Uint8Array(jt):void 0===ht?new Uint8Array(jt,yt):new Uint8Array(jt,yt,ht),Object.setPrototypeOf(ce,G.prototype),ce}function q(jt){if(jt>=tt)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+tt.toString(16)+" bytes");return 0|jt}function it(jt,yt){if(G.isBuffer(jt))return jt.length;if(ArrayBuffer.isView(jt)||_e(jt,ArrayBuffer))return jt.byteLength;if("string"!=typeof jt)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof jt);const ht=jt.length,ce=arguments.length>2&&!0===arguments[2];if(!ce&&0===ht)return 0;let ke=!1;for(;;)switch(yt){case"ascii":case"latin1":case"binary":return ht;case"utf8":case"utf-8":return Ne(jt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ht;case"hex":return ht>>>1;case"base64":return Fi(jt).length;default:if(ke)return ce?-1:Ne(jt).length;yt=(""+yt).toLowerCase(),ke=!0}}function ot(jt,yt,ht){let ce=!1;if((void 0===yt||yt<0)&&(yt=0),yt>this.length||((void 0===ht||ht>this.length)&&(ht=this.length),ht<=0)||(ht>>>=0)<=(yt>>>=0))return"";for(jt||(jt="utf8");;)switch(jt){case"hex":return C(this,yt,ht);case"utf8":case"utf-8":return g(this,yt,ht);case"ascii":return S(this,yt,ht);case"latin1":case"binary":return T(this,yt,ht);case"base64":return c(this,yt,ht);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h(this,yt,ht);default:if(ce)throw new TypeError("Unknown encoding: "+jt);jt=(jt+"").toLowerCase(),ce=!0}}function lt(jt,yt,ht){const ce=jt[yt];jt[yt]=jt[ht],jt[ht]=ce}function wt(jt,yt,ht,ce,ke){if(0===jt.length)return-1;if("string"==typeof ht?(ce=ht,ht=0):ht>2147483647?ht=2147483647:ht<-2147483648&&(ht=-2147483648),Ce(ht=+ht)&&(ht=ke?0:jt.length-1),ht<0&&(ht=jt.length+ht),ht>=jt.length){if(ke)return-1;ht=jt.length-1}else if(ht<0){if(!ke)return-1;ht=0}if("string"==typeof yt&&(yt=G.from(yt,ce)),G.isBuffer(yt))return 0===yt.length?-1:xt(jt,yt,ht,ce,ke);if("number"==typeof yt)return yt&=255,"function"==typeof Uint8Array.prototype.indexOf?ke?Uint8Array.prototype.indexOf.call(jt,yt,ht):Uint8Array.prototype.lastIndexOf.call(jt,yt,ht):xt(jt,[yt],ht,ce,ke);throw new TypeError("val must be string, number or Buffer")}function xt(jt,yt,ht,ce,ke){let wi,Pi=1,We=jt.length,si=yt.length;if(void 0!==ce&&("ucs2"===(ce=String(ce).toLowerCase())||"ucs-2"===ce||"utf16le"===ce||"utf-16le"===ce)){if(jt.length<2||yt.length<2)return-1;Pi=2,We/=2,si/=2,ht/=2}function bn(je,ci){return 1===Pi?je[ci]:je.readUInt16BE(ci*Pi)}if(ke){let je=-1;for(wi=ht;wi<We;wi++)if(bn(jt,wi)===bn(yt,-1===je?0:wi-je)){if(-1===je&&(je=wi),wi-je+1===si)return je*Pi}else-1!==je&&(wi-=wi-je),je=-1}else for(ht+si>We&&(ht=We-si),wi=ht;wi>=0;wi--){let je=!0;for(let ci=0;ci<si;ci++)if(bn(jt,wi+ci)!==bn(yt,ci)){je=!1;break}if(je)return wi}return-1}function Ot(jt,yt,ht,ce){ht=Number(ht)||0;const ke=jt.length-ht;ce?(ce=Number(ce))>ke&&(ce=ke):ce=ke;const Pi=yt.length;let We;for(ce>Pi/2&&(ce=Pi/2),We=0;We<ce;++We){const si=parseInt(yt.substr(2*We,2),16);if(Ce(si))return We;jt[ht+We]=si}return We}function Tt(jt,yt,ht,ce){return Ge(Ne(yt,jt.length-ht),jt,ht,ce)}function Et(jt,yt,ht,ce){return Ge(function(jt){const yt=[];for(let ht=0;ht<jt.length;++ht)yt.push(255&jt.charCodeAt(ht));return yt}(yt),jt,ht,ce)}function A(jt,yt,ht,ce){return Ge(Fi(yt),jt,ht,ce)}function o(jt,yt,ht,ce){return Ge(function(jt,yt){let ht,ce,ke;const Pi=[];for(let We=0;We<jt.length&&!((yt-=2)<0);++We)ht=jt.charCodeAt(We),ce=ht>>8,ke=ht%256,Pi.push(ke),Pi.push(ce);return Pi}(yt,jt.length-ht),jt,ht,ce)}function c(jt,yt,ht){return ct.fromByteArray(0===yt&&ht===jt.length?jt:jt.slice(yt,ht))}function g(jt,yt,ht){ht=Math.min(jt.length,ht);const ce=[];let ke=yt;for(;ke<ht;){const Pi=jt[ke];let We=null,si=Pi>239?4:Pi>223?3:Pi>191?2:1;if(ke+si<=ht){let bn,wi,je,ci;switch(si){case 1:Pi<128&&(We=Pi);break;case 2:bn=jt[ke+1],128==(192&bn)&&(ci=(31&Pi)<<6|63&bn,ci>127&&(We=ci));break;case 3:bn=jt[ke+1],wi=jt[ke+2],128==(192&bn)&&128==(192&wi)&&(ci=(15&Pi)<<12|(63&bn)<<6|63&wi,ci>2047&&(ci<55296||ci>57343)&&(We=ci));break;case 4:bn=jt[ke+1],wi=jt[ke+2],je=jt[ke+3],128==(192&bn)&&128==(192&wi)&&128==(192&je)&&(ci=(15&Pi)<<18|(63&bn)<<12|(63&wi)<<6|63&je,ci>65535&&ci<1114112&&(We=ci))}}null===We?(We=65533,si=1):We>65535&&(We-=65536,ce.push(We>>>10&1023|55296),We=56320|1023&We),ce.push(We),ke+=si}return function(jt){const yt=jt.length;if(yt<=p)return String.fromCharCode.apply(String,jt);let ht="",ce=0;for(;ce<yt;)ht+=String.fromCharCode.apply(String,jt.slice(ce,ce+=p));return ht}(ce)}Q.kMaxLength=tt,!(G.TYPED_ARRAY_SUPPORT=function(){try{const jt=new Uint8Array(1),yt={foo:function(){return 42}};return Object.setPrototypeOf(yt,Uint8Array.prototype),Object.setPrototypeOf(jt,yt),42===jt.foo()}catch(jt){return!1}}())&&"undefined"!=typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(G.prototype,"parent",{enumerable:!0,get:function(){if(G.isBuffer(this))return this.buffer}}),Object.defineProperty(G.prototype,"offset",{enumerable:!0,get:function(){if(G.isBuffer(this))return this.byteOffset}}),G.poolSize=8192,G.from=function(jt,yt,ht){return rt(jt,yt,ht)},Object.setPrototypeOf(G.prototype,Uint8Array.prototype),Object.setPrototypeOf(G,Uint8Array),G.alloc=function(jt,yt,ht){return function(jt,yt,ht){return Z(jt),jt<=0?W(jt):void 0!==yt?"string"==typeof ht?W(jt).fill(yt,ht):W(jt).fill(yt):W(jt)}(jt,yt,ht)},G.allocUnsafe=function(jt){return F(jt)},G.allocUnsafeSlow=function(jt){return F(jt)},G.isBuffer=function(yt){return null!=yt&&!0===yt._isBuffer&&yt!==G.prototype},G.compare=function(yt,ht){if(_e(yt,Uint8Array)&&(yt=G.from(yt,yt.offset,yt.byteLength)),_e(ht,Uint8Array)&&(ht=G.from(ht,ht.offset,ht.byteLength)),!G.isBuffer(yt)||!G.isBuffer(ht))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(yt===ht)return 0;let ce=yt.length,ke=ht.length;for(let Pi=0,We=Math.min(ce,ke);Pi<We;++Pi)if(yt[Pi]!==ht[Pi]){ce=yt[Pi],ke=ht[Pi];break}return ce<ke?-1:ke<ce?1:0},G.isEncoding=function(yt){switch(String(yt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},G.concat=function(yt,ht){if(!Array.isArray(yt))throw new TypeError('"list" argument must be an Array of Buffers');if(0===yt.length)return G.alloc(0);let ce;if(void 0===ht)for(ht=0,ce=0;ce<yt.length;++ce)ht+=yt[ce].length;const ke=G.allocUnsafe(ht);let Pi=0;for(ce=0;ce<yt.length;++ce){let We=yt[ce];if(_e(We,Uint8Array))Pi+We.length>ke.length?(G.isBuffer(We)||(We=G.from(We)),We.copy(ke,Pi)):Uint8Array.prototype.set.call(ke,We,Pi);else{if(!G.isBuffer(We))throw new TypeError('"list" argument must be an Array of Buffers');We.copy(ke,Pi)}Pi+=We.length}return ke},G.byteLength=it,G.prototype._isBuffer=!0,G.prototype.swap16=function(){const yt=this.length;if(yt%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let ht=0;ht<yt;ht+=2)lt(this,ht,ht+1);return this},G.prototype.swap32=function(){const yt=this.length;if(yt%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let ht=0;ht<yt;ht+=4)lt(this,ht,ht+3),lt(this,ht+1,ht+2);return this},G.prototype.swap64=function(){const yt=this.length;if(yt%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let ht=0;ht<yt;ht+=8)lt(this,ht,ht+7),lt(this,ht+1,ht+6),lt(this,ht+2,ht+5),lt(this,ht+3,ht+4);return this},G.prototype.toLocaleString=G.prototype.toString=function(){const yt=this.length;return 0===yt?"":0===arguments.length?g(this,0,yt):ot.apply(this,arguments)},G.prototype.equals=function(yt){if(!G.isBuffer(yt))throw new TypeError("Argument must be a Buffer");return this===yt||0===G.compare(this,yt)},G.prototype.inspect=function(){let yt="";const ht=Q.INSPECT_MAX_BYTES;return yt=this.toString("hex",0,ht).replace(/(.{2})/g,"$1 ").trim(),this.length>ht&&(yt+=" ... "),"<Buffer "+yt+">"},J&&(G.prototype[J]=G.prototype.inspect),G.prototype.compare=function(yt,ht,ce,ke,Pi){if(_e(yt,Uint8Array)&&(yt=G.from(yt,yt.offset,yt.byteLength)),!G.isBuffer(yt))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof yt);if(void 0===ht&&(ht=0),void 0===ce&&(ce=yt?yt.length:0),void 0===ke&&(ke=0),void 0===Pi&&(Pi=this.length),ht<0||ce>yt.length||ke<0||Pi>this.length)throw new RangeError("out of range index");if(ke>=Pi&&ht>=ce)return 0;if(ke>=Pi)return-1;if(ht>=ce)return 1;if(this===yt)return 0;let We=(Pi>>>=0)-(ke>>>=0),si=(ce>>>=0)-(ht>>>=0);const bn=Math.min(We,si),wi=this.slice(ke,Pi),je=yt.slice(ht,ce);for(let ci=0;ci<bn;++ci)if(wi[ci]!==je[ci]){We=wi[ci],si=je[ci];break}return We<si?-1:si<We?1:0},G.prototype.includes=function(yt,ht,ce){return-1!==this.indexOf(yt,ht,ce)},G.prototype.indexOf=function(yt,ht,ce){return wt(this,yt,ht,ce,!0)},G.prototype.lastIndexOf=function(yt,ht,ce){return wt(this,yt,ht,ce,!1)},G.prototype.write=function(yt,ht,ce,ke){if(void 0===ht)ke="utf8",ce=this.length,ht=0;else if(void 0===ce&&"string"==typeof ht)ke=ht,ce=this.length,ht=0;else{if(!isFinite(ht))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ht>>>=0,isFinite(ce)?(ce>>>=0,void 0===ke&&(ke="utf8")):(ke=ce,ce=void 0)}const Pi=this.length-ht;if((void 0===ce||ce>Pi)&&(ce=Pi),yt.length>0&&(ce<0||ht<0)||ht>this.length)throw new RangeError("Attempt to write outside buffer bounds");ke||(ke="utf8");let We=!1;for(;;)switch(ke){case"hex":return Ot(this,yt,ht,ce);case"utf8":case"utf-8":return Tt(this,yt,ht,ce);case"ascii":case"latin1":case"binary":return Et(this,yt,ht,ce);case"base64":return A(this,yt,ht,ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o(this,yt,ht,ce);default:if(We)throw new TypeError("Unknown encoding: "+ke);ke=(""+ke).toLowerCase(),We=!0}},G.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const p=4096;function S(jt,yt,ht){let ce="";ht=Math.min(jt.length,ht);for(let ke=yt;ke<ht;++ke)ce+=String.fromCharCode(127&jt[ke]);return ce}function T(jt,yt,ht){let ce="";ht=Math.min(jt.length,ht);for(let ke=yt;ke<ht;++ke)ce+=String.fromCharCode(jt[ke]);return ce}function C(jt,yt,ht){const ce=jt.length;(!yt||yt<0)&&(yt=0),(!ht||ht<0||ht>ce)&&(ht=ce);let ke="";for(let Pi=yt;Pi<ht;++Pi)ke+=Bt[jt[Pi]];return ke}function h(jt,yt,ht){const ce=jt.slice(yt,ht);let ke="";for(let Pi=0;Pi<ce.length-1;Pi+=2)ke+=String.fromCharCode(ce[Pi]+256*ce[Pi+1]);return ke}function k(jt,yt,ht){if(jt%1!=0||jt<0)throw new RangeError("offset is not uint");if(jt+yt>ht)throw new RangeError("Trying to access beyond buffer length")}function ft(jt,yt,ht,ce,ke,Pi){if(!G.isBuffer(jt))throw new TypeError('"buffer" argument must be a Buffer instance');if(yt>ke||yt<Pi)throw new RangeError('"value" argument is out of bounds');if(ht+ce>jt.length)throw new RangeError("Index out of range")}function at(jt,yt,ht,ce,ke){Gt(yt,ce,ke,jt,ht,7);let Pi=Number(yt&BigInt(4294967295));jt[ht++]=Pi,Pi>>=8,jt[ht++]=Pi,Pi>>=8,jt[ht++]=Pi,Pi>>=8,jt[ht++]=Pi;let We=Number(yt>>BigInt(32)&BigInt(4294967295));return jt[ht++]=We,We>>=8,jt[ht++]=We,We>>=8,jt[ht++]=We,We>>=8,jt[ht++]=We,ht}function st(jt,yt,ht,ce,ke){Gt(yt,ce,ke,jt,ht,7);let Pi=Number(yt&BigInt(4294967295));jt[ht+7]=Pi,Pi>>=8,jt[ht+6]=Pi,Pi>>=8,jt[ht+5]=Pi,Pi>>=8,jt[ht+4]=Pi;let We=Number(yt>>BigInt(32)&BigInt(4294967295));return jt[ht+3]=We,We>>=8,jt[ht+2]=We,We>>=8,jt[ht+1]=We,We>>=8,jt[ht]=We,ht+8}function Mt(jt,yt,ht,ce,ke,Pi){if(ht+ce>jt.length)throw new RangeError("Index out of range");if(ht<0)throw new RangeError("Index out of range")}function St(jt,yt,ht,ce,ke){return yt=+yt,ht>>>=0,ke||Mt(jt,0,ht,4),f.write(jt,yt,ht,ce,23,4),ht+4}function Xt(jt,yt,ht,ce,ke){return yt=+yt,ht>>>=0,ke||Mt(jt,0,ht,8),f.write(jt,yt,ht,ce,52,8),ht+8}G.prototype.slice=function(yt,ht){const ce=this.length;(yt=~~yt)<0?(yt+=ce)<0&&(yt=0):yt>ce&&(yt=ce),(ht=void 0===ht?ce:~~ht)<0?(ht+=ce)<0&&(ht=0):ht>ce&&(ht=ce),ht<yt&&(ht=yt);const ke=this.subarray(yt,ht);return Object.setPrototypeOf(ke,G.prototype),ke},G.prototype.readUintLE=G.prototype.readUIntLE=function(yt,ht,ce){yt>>>=0,ht>>>=0,ce||k(yt,ht,this.length);let ke=this[yt],Pi=1,We=0;for(;++We<ht&&(Pi*=256);)ke+=this[yt+We]*Pi;return ke},G.prototype.readUintBE=G.prototype.readUIntBE=function(yt,ht,ce){yt>>>=0,ht>>>=0,ce||k(yt,ht,this.length);let ke=this[yt+--ht],Pi=1;for(;ht>0&&(Pi*=256);)ke+=this[yt+--ht]*Pi;return ke},G.prototype.readUint8=G.prototype.readUInt8=function(yt,ht){return yt>>>=0,ht||k(yt,1,this.length),this[yt]},G.prototype.readUint16LE=G.prototype.readUInt16LE=function(yt,ht){return yt>>>=0,ht||k(yt,2,this.length),this[yt]|this[yt+1]<<8},G.prototype.readUint16BE=G.prototype.readUInt16BE=function(yt,ht){return yt>>>=0,ht||k(yt,2,this.length),this[yt]<<8|this[yt+1]},G.prototype.readUint32LE=G.prototype.readUInt32LE=function(yt,ht){return yt>>>=0,ht||k(yt,4,this.length),(this[yt]|this[yt+1]<<8|this[yt+2]<<16)+16777216*this[yt+3]},G.prototype.readUint32BE=G.prototype.readUInt32BE=function(yt,ht){return yt>>>=0,ht||k(yt,4,this.length),16777216*this[yt]+(this[yt+1]<<16|this[yt+2]<<8|this[yt+3])},G.prototype.readBigUInt64LE=re(function(yt){Nt(yt>>>=0,"offset");const ht=this[yt],ce=this[yt+7];(void 0===ht||void 0===ce)&&Kt(yt,this.length-8);const ke=ht+256*this[++yt]+65536*this[++yt]+this[++yt]*2**24,Pi=this[++yt]+256*this[++yt]+65536*this[++yt]+ce*2**24;return BigInt(ke)+(BigInt(Pi)<<BigInt(32))}),G.prototype.readBigUInt64BE=re(function(yt){Nt(yt>>>=0,"offset");const ht=this[yt],ce=this[yt+7];(void 0===ht||void 0===ce)&&Kt(yt,this.length-8);const ke=ht*2**24+65536*this[++yt]+256*this[++yt]+this[++yt],Pi=this[++yt]*2**24+65536*this[++yt]+256*this[++yt]+ce;return(BigInt(ke)<<BigInt(32))+BigInt(Pi)}),G.prototype.readIntLE=function(yt,ht,ce){yt>>>=0,ht>>>=0,ce||k(yt,ht,this.length);let ke=this[yt],Pi=1,We=0;for(;++We<ht&&(Pi*=256);)ke+=this[yt+We]*Pi;return Pi*=128,ke>=Pi&&(ke-=Math.pow(2,8*ht)),ke},G.prototype.readIntBE=function(yt,ht,ce){yt>>>=0,ht>>>=0,ce||k(yt,ht,this.length);let ke=ht,Pi=1,We=this[yt+--ke];for(;ke>0&&(Pi*=256);)We+=this[yt+--ke]*Pi;return Pi*=128,We>=Pi&&(We-=Math.pow(2,8*ht)),We},G.prototype.readInt8=function(yt,ht){return yt>>>=0,ht||k(yt,1,this.length),128&this[yt]?-1*(255-this[yt]+1):this[yt]},G.prototype.readInt16LE=function(yt,ht){yt>>>=0,ht||k(yt,2,this.length);const ce=this[yt]|this[yt+1]<<8;return 32768&ce?4294901760|ce:ce},G.prototype.readInt16BE=function(yt,ht){yt>>>=0,ht||k(yt,2,this.length);const ce=this[yt+1]|this[yt]<<8;return 32768&ce?4294901760|ce:ce},G.prototype.readInt32LE=function(yt,ht){return yt>>>=0,ht||k(yt,4,this.length),this[yt]|this[yt+1]<<8|this[yt+2]<<16|this[yt+3]<<24},G.prototype.readInt32BE=function(yt,ht){return yt>>>=0,ht||k(yt,4,this.length),this[yt]<<24|this[yt+1]<<16|this[yt+2]<<8|this[yt+3]},G.prototype.readBigInt64LE=re(function(yt){Nt(yt>>>=0,"offset");const ht=this[yt],ce=this[yt+7];return(void 0===ht||void 0===ce)&&Kt(yt,this.length-8),(BigInt(this[yt+4]+256*this[yt+5]+65536*this[yt+6]+(ce<<24))<<BigInt(32))+BigInt(ht+256*this[++yt]+65536*this[++yt]+this[++yt]*2**24)}),G.prototype.readBigInt64BE=re(function(yt){Nt(yt>>>=0,"offset");const ht=this[yt],ce=this[yt+7];(void 0===ht||void 0===ce)&&Kt(yt,this.length-8);const ke=(ht<<24)+65536*this[++yt]+256*this[++yt]+this[++yt];return(BigInt(ke)<<BigInt(32))+BigInt(this[++yt]*2**24+65536*this[++yt]+256*this[++yt]+ce)}),G.prototype.readFloatLE=function(yt,ht){return yt>>>=0,ht||k(yt,4,this.length),f.read(this,yt,!0,23,4)},G.prototype.readFloatBE=function(yt,ht){return yt>>>=0,ht||k(yt,4,this.length),f.read(this,yt,!1,23,4)},G.prototype.readDoubleLE=function(yt,ht){return yt>>>=0,ht||k(yt,8,this.length),f.read(this,yt,!0,52,8)},G.prototype.readDoubleBE=function(yt,ht){return yt>>>=0,ht||k(yt,8,this.length),f.read(this,yt,!1,52,8)},G.prototype.writeUintLE=G.prototype.writeUIntLE=function(yt,ht,ce,ke){yt=+yt,ht>>>=0,ce>>>=0,ke||ft(this,yt,ht,ce,Math.pow(2,8*ce)-1,0);let Pi=1,We=0;for(this[ht]=255&yt;++We<ce&&(Pi*=256);)this[ht+We]=yt/Pi&255;return ht+ce},G.prototype.writeUintBE=G.prototype.writeUIntBE=function(yt,ht,ce,ke){yt=+yt,ht>>>=0,ce>>>=0,ke||ft(this,yt,ht,ce,Math.pow(2,8*ce)-1,0);let Pi=ce-1,We=1;for(this[ht+Pi]=255&yt;--Pi>=0&&(We*=256);)this[ht+Pi]=yt/We&255;return ht+ce},G.prototype.writeUint8=G.prototype.writeUInt8=function(yt,ht,ce){return yt=+yt,ht>>>=0,ce||ft(this,yt,ht,1,255,0),this[ht]=255&yt,ht+1},G.prototype.writeUint16LE=G.prototype.writeUInt16LE=function(yt,ht,ce){return yt=+yt,ht>>>=0,ce||ft(this,yt,ht,2,65535,0),this[ht]=255&yt,this[ht+1]=yt>>>8,ht+2},G.prototype.writeUint16BE=G.prototype.writeUInt16BE=function(yt,ht,ce){return yt=+yt,ht>>>=0,ce||ft(this,yt,ht,2,65535,0),this[ht]=yt>>>8,this[ht+1]=255&yt,ht+2},G.prototype.writeUint32LE=G.prototype.writeUInt32LE=function(yt,ht,ce){return yt=+yt,ht>>>=0,ce||ft(this,yt,ht,4,4294967295,0),this[ht+3]=yt>>>24,this[ht+2]=yt>>>16,this[ht+1]=yt>>>8,this[ht]=255&yt,ht+4},G.prototype.writeUint32BE=G.prototype.writeUInt32BE=function(yt,ht,ce){return yt=+yt,ht>>>=0,ce||ft(this,yt,ht,4,4294967295,0),this[ht]=yt>>>24,this[ht+1]=yt>>>16,this[ht+2]=yt>>>8,this[ht+3]=255&yt,ht+4},G.prototype.writeBigUInt64LE=re(function(yt,ht=0){return at(this,yt,ht,BigInt(0),BigInt("0xffffffffffffffff"))}),G.prototype.writeBigUInt64BE=re(function(yt,ht=0){return st(this,yt,ht,BigInt(0),BigInt("0xffffffffffffffff"))}),G.prototype.writeIntLE=function(yt,ht,ce,ke){if(yt=+yt,ht>>>=0,!ke){const bn=Math.pow(2,8*ce-1);ft(this,yt,ht,ce,bn-1,-bn)}let Pi=0,We=1,si=0;for(this[ht]=255&yt;++Pi<ce&&(We*=256);)yt<0&&0===si&&0!==this[ht+Pi-1]&&(si=1),this[ht+Pi]=(yt/We>>0)-si&255;return ht+ce},G.prototype.writeIntBE=function(yt,ht,ce,ke){if(yt=+yt,ht>>>=0,!ke){const bn=Math.pow(2,8*ce-1);ft(this,yt,ht,ce,bn-1,-bn)}let Pi=ce-1,We=1,si=0;for(this[ht+Pi]=255&yt;--Pi>=0&&(We*=256);)yt<0&&0===si&&0!==this[ht+Pi+1]&&(si=1),this[ht+Pi]=(yt/We>>0)-si&255;return ht+ce},G.prototype.writeInt8=function(yt,ht,ce){return yt=+yt,ht>>>=0,ce||ft(this,yt,ht,1,127,-128),yt<0&&(yt=255+yt+1),this[ht]=255&yt,ht+1},G.prototype.writeInt16LE=function(yt,ht,ce){return yt=+yt,ht>>>=0,ce||ft(this,yt,ht,2,32767,-32768),this[ht]=255&yt,this[ht+1]=yt>>>8,ht+2},G.prototype.writeInt16BE=function(yt,ht,ce){return yt=+yt,ht>>>=0,ce||ft(this,yt,ht,2,32767,-32768),this[ht]=yt>>>8,this[ht+1]=255&yt,ht+2},G.prototype.writeInt32LE=function(yt,ht,ce){return yt=+yt,ht>>>=0,ce||ft(this,yt,ht,4,2147483647,-2147483648),this[ht]=255&yt,this[ht+1]=yt>>>8,this[ht+2]=yt>>>16,this[ht+3]=yt>>>24,ht+4},G.prototype.writeInt32BE=function(yt,ht,ce){return yt=+yt,ht>>>=0,ce||ft(this,yt,ht,4,2147483647,-2147483648),yt<0&&(yt=4294967295+yt+1),this[ht]=yt>>>24,this[ht+1]=yt>>>16,this[ht+2]=yt>>>8,this[ht+3]=255&yt,ht+4},G.prototype.writeBigInt64LE=re(function(yt,ht=0){return at(this,yt,ht,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),G.prototype.writeBigInt64BE=re(function(yt,ht=0){return st(this,yt,ht,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),G.prototype.writeFloatLE=function(yt,ht,ce){return St(this,yt,ht,!0,ce)},G.prototype.writeFloatBE=function(yt,ht,ce){return St(this,yt,ht,!1,ce)},G.prototype.writeDoubleLE=function(yt,ht,ce){return Xt(this,yt,ht,!0,ce)},G.prototype.writeDoubleBE=function(yt,ht,ce){return Xt(this,yt,ht,!1,ce)},G.prototype.copy=function(yt,ht,ce,ke){if(!G.isBuffer(yt))throw new TypeError("argument should be a Buffer");if(ce||(ce=0),!ke&&0!==ke&&(ke=this.length),ht>=yt.length&&(ht=yt.length),ht||(ht=0),ke>0&&ke<ce&&(ke=ce),ke===ce||0===yt.length||0===this.length)return 0;if(ht<0)throw new RangeError("targetStart out of bounds");if(ce<0||ce>=this.length)throw new RangeError("Index out of range");if(ke<0)throw new RangeError("sourceEnd out of bounds");ke>this.length&&(ke=this.length),yt.length-ht<ke-ce&&(ke=yt.length-ht+ce);const Pi=ke-ce;return this===yt&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(ht,ce,ke):Uint8Array.prototype.set.call(yt,this.subarray(ce,ke),ht),Pi},G.prototype.fill=function(yt,ht,ce,ke){if("string"==typeof yt){if("string"==typeof ht?(ke=ht,ht=0,ce=this.length):"string"==typeof ce&&(ke=ce,ce=this.length),void 0!==ke&&"string"!=typeof ke)throw new TypeError("encoding must be a string");if("string"==typeof ke&&!G.isEncoding(ke))throw new TypeError("Unknown encoding: "+ke);if(1===yt.length){const We=yt.charCodeAt(0);("utf8"===ke&&We<128||"latin1"===ke)&&(yt=We)}}else"number"==typeof yt?yt&=255:"boolean"==typeof yt&&(yt=Number(yt));if(ht<0||this.length<ht||this.length<ce)throw new RangeError("Out of range index");if(ce<=ht)return this;let Pi;if(ht>>>=0,ce=void 0===ce?this.length:ce>>>0,yt||(yt=0),"number"==typeof yt)for(Pi=ht;Pi<ce;++Pi)this[Pi]=yt;else{const We=G.isBuffer(yt)?yt:G.from(yt,ke),si=We.length;if(0===si)throw new TypeError('The value "'+yt+'" is invalid for argument "value"');for(Pi=0;Pi<ce-ht;++Pi)this[Pi+ht]=We[Pi%si]}return this};const te={};function Vt(jt,yt,ht){te[jt]=class extends ht{constructor(){super(),Object.defineProperty(this,"message",{value:yt.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${jt}]`,delete this.name}get code(){return jt}set code(ke){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ke,writable:!0})}toString(){return`${this.name} [${jt}]: ${this.message}`}}}function Dt(jt){let yt="",ht=jt.length;const ce="-"===jt[0]?1:0;for(;ht>=ce+4;ht-=3)yt=`_${jt.slice(ht-3,ht)}${yt}`;return`${jt.slice(0,ht)}${yt}`}function Gt(jt,yt,ht,ce,ke,Pi){if(jt>ht||jt<yt){const We="bigint"==typeof yt?"n":"";let si;throw si=Pi>3?0===yt||yt===BigInt(0)?`>= 0${We} and < 2${We} ** ${8*(Pi+1)}${We}`:`>= -(2${We} ** ${8*(Pi+1)-1}${We}) and < 2 ** ${8*(Pi+1)-1}${We}`:`>= ${yt}${We} and <= ${ht}${We}`,new te.ERR_OUT_OF_RANGE("value",si,jt)}!function(jt,yt,ht){Nt(yt,"offset"),(void 0===jt[yt]||void 0===jt[yt+ht])&&Kt(yt,jt.length-(ht+1))}(ce,ke,Pi)}function Nt(jt,yt){if("number"!=typeof jt)throw new te.ERR_INVALID_ARG_TYPE(yt,"number",jt)}function Kt(jt,yt,ht){throw Math.floor(jt)!==jt?(Nt(jt,ht),new te.ERR_OUT_OF_RANGE(ht||"offset","an integer",jt)):yt<0?new te.ERR_BUFFER_OUT_OF_BOUNDS:new te.ERR_OUT_OF_RANGE(ht||"offset",`>= ${ht?1:0} and <= ${yt}`,jt)}Vt("ERR_BUFFER_OUT_OF_BOUNDS",function(jt){return jt?`${jt} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Vt("ERR_INVALID_ARG_TYPE",function(jt,yt){return`The "${jt}" argument must be of type number. Received type ${typeof yt}`},TypeError),Vt("ERR_OUT_OF_RANGE",function(jt,yt,ht){let ce=`The value of "${jt}" is out of range.`,ke=ht;return Number.isInteger(ht)&&Math.abs(ht)>2**32?ke=Dt(String(ht)):"bigint"==typeof ht&&(ke=String(ht),(ht>BigInt(2)**BigInt(32)||ht<-(BigInt(2)**BigInt(32)))&&(ke=Dt(ke)),ke+="n"),ce+=` It must be ${yt}. Received ${ke}`,ce},RangeError);const fe=/[^+/0-9A-Za-z-_]/g;function Ne(jt,yt){let ht;yt=yt||1/0;const ce=jt.length;let ke=null;const Pi=[];for(let We=0;We<ce;++We){if(ht=jt.charCodeAt(We),ht>55295&&ht<57344){if(!ke){if(ht>56319){(yt-=3)>-1&&Pi.push(239,191,189);continue}if(We+1===ce){(yt-=3)>-1&&Pi.push(239,191,189);continue}ke=ht;continue}if(ht<56320){(yt-=3)>-1&&Pi.push(239,191,189),ke=ht;continue}ht=65536+(ke-55296<<10|ht-56320)}else ke&&(yt-=3)>-1&&Pi.push(239,191,189);if(ke=null,ht<128){if((yt-=1)<0)break;Pi.push(ht)}else if(ht<2048){if((yt-=2)<0)break;Pi.push(ht>>6|192,63&ht|128)}else if(ht<65536){if((yt-=3)<0)break;Pi.push(ht>>12|224,ht>>6&63|128,63&ht|128)}else{if(!(ht<1114112))throw new Error("Invalid code point");if((yt-=4)<0)break;Pi.push(ht>>18|240,ht>>12&63|128,ht>>6&63|128,63&ht|128)}}return Pi}function Fi(jt){return ct.toByteArray(function(jt){if((jt=(jt=jt.split("=")[0]).trim().replace(fe,"")).length<2)return"";for(;jt.length%4!=0;)jt+="=";return jt}(jt))}function Ge(jt,yt,ht,ce){let ke;for(ke=0;ke<ce&&!(ke+ht>=yt.length||ke>=jt.length);++ke)yt[ke+ht]=jt[ke];return ke}function _e(jt,yt){return jt instanceof yt||null!=jt&&null!=jt.constructor&&null!=jt.constructor.name&&jt.constructor.name===yt.name}function Ce(jt){return jt!=jt}const Bt=function(){const jt="0123456789abcdef",yt=new Array(256);for(let ht=0;ht<16;++ht){const ce=16*ht;for(let ke=0;ke<16;++ke)yt[ce+ke]=jt[ht]+jt[ke]}return yt}();function re(jt){return"undefined"==typeof BigInt?Ye:jt}function Ye(){throw new Error("BigInt not supported")}},8672:(Ee,Q,ut)=>{var ct=ut(4615).Buffer,f=ut(5089).Transform,J=ut(3033).s;function b(W){f.call(this),this.hashMode="string"==typeof W,this.hashMode?this[W]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}ut(3516)(b,f),b.prototype.update=function(W,G,rt){"string"==typeof W&&(W=ct.from(W,G));var Z=this._update(W);return this.hashMode?this:(rt&&(Z=this._toString(Z,rt)),Z)},b.prototype.setAutoPadding=function(){},b.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},b.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},b.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},b.prototype._transform=function(W,G,rt){var Z;try{this.hashMode?this._update(W):this.push(this._update(W))}catch(H){Z=H}finally{rt(Z)}},b.prototype._flush=function(W){var G;try{this.push(this.__final())}catch(rt){G=rt}W(G)},b.prototype._finalOrDigest=function(W){var G=this.__final()||ct.alloc(0);return W&&(G=this._toString(G,W,!0)),G},b.prototype._toString=function(W,G,rt){if(this._decoder||(this._decoder=new J(G),this._encoding=G),this._encoding!==G)throw new Error("can't switch encodings");var Z=this._decoder.write(W);return rt&&(Z+=this._decoder.end()),Z},Ee.exports=b},4523:(Ee,Q,ut)=>{var ct=ut(3059),f=ut(6867);Ee.exports=function(G){return new tt(G)};var J={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function tt(W){this.curveType=J[W],this.curveType||(this.curveType={name:W}),this.curve=new ct.ec(this.curveType.name),this.keys=void 0}function b(W,G,rt){Array.isArray(W)||(W=W.toArray());var Z=new Buffer(W);if(rt&&Z.length<rt){var H=new Buffer(rt-Z.length);H.fill(0),Z=Buffer.concat([H,Z])}return G?Z.toString(G):Z}J.p224=J.secp224r1,J.p256=J.secp256r1=J.prime256v1,J.p192=J.secp192r1=J.prime192v1,J.p384=J.secp384r1,J.p521=J.secp521r1,tt.prototype.generateKeys=function(W,G){return this.keys=this.curve.genKeyPair(),this.getPublicKey(W,G)},tt.prototype.computeSecret=function(W,G,rt){return G=G||"utf8",Buffer.isBuffer(W)||(W=new Buffer(W,G)),b(this.curve.keyFromPublic(W).getPublic().mul(this.keys.getPrivate()).getX(),rt,this.curveType.byteLength)},tt.prototype.getPublicKey=function(W,G){var rt=this.keys.getPublic("compressed"===G,!0);return"hybrid"===G&&(rt[0]=rt[rt.length-1]%2?7:6),b(rt,W)},tt.prototype.getPrivateKey=function(W){return b(this.keys.getPrivate(),W)},tt.prototype.setPublicKey=function(W,G){return G=G||"utf8",Buffer.isBuffer(W)||(W=new Buffer(W,G)),this.keys._importPublic(W),this},tt.prototype.setPrivateKey=function(W,G){G=G||"utf8",Buffer.isBuffer(W)||(W=new Buffer(W,G));var rt=new f(W);return rt=rt.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(rt),this}},6867:function(Ee,Q,ut){!function(ct,f){"use strict";function J(A,o){if(!A)throw new Error(o||"Assertion failed")}function tt(A,o){A.super_=o;var c=function(){};c.prototype=o.prototype,A.prototype=new c,A.prototype.constructor=A}function b(A,o,c){if(b.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,null!==A&&(("le"===o||"be"===o)&&(c=o,o=10),this._init(A||0,o||10,c||"be"))}var W;"object"==typeof ct?ct.exports=b:f.BN=b,b.BN=b,b.wordSize=26;try{W="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:ut(8623).Buffer}catch(A){}function G(A,o){var c=A.charCodeAt(o);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function rt(A,o,c){var g=G(A,c);return c-1>=o&&(g|=G(A,c-1)<<4),g}function Z(A,o,c,g){for(var p=0,w=Math.min(A.length,c),S=o;S<w;S++){var T=A.charCodeAt(S)-48;p*=g,p+=T>=49?T-49+10:T>=17?T-17+10:T}return p}b.isBN=function(o){return o instanceof b||null!==o&&"object"==typeof o&&o.constructor.wordSize===b.wordSize&&Array.isArray(o.words)},b.max=function(o,c){return o.cmp(c)>0?o:c},b.min=function(o,c){return o.cmp(c)<0?o:c},b.prototype._init=function(o,c,g){if("number"==typeof o)return this._initNumber(o,c,g);if("object"==typeof o)return this._initArray(o,c,g);"hex"===c&&(c=16),J(c===(0|c)&&c>=2&&c<=36);var p=0;"-"===(o=o.toString().replace(/\s+/g,""))[0]&&(p++,this.negative=1),p<o.length&&(16===c?this._parseHex(o,p,g):(this._parseBase(o,c,p),"le"===g&&this._initArray(this.toArray(),c,g)))},b.prototype._initNumber=function(o,c,g){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[67108863&o],this.length=1):o<4503599627370496?(this.words=[67108863&o,o/67108864&67108863],this.length=2):(J(o<9007199254740992),this.words=[67108863&o,o/67108864&67108863,1],this.length=3),"le"===g&&this._initArray(this.toArray(),c,g)},b.prototype._initArray=function(o,c,g){if(J("number"==typeof o.length),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var w,S,T=0;if("be"===g)for(p=o.length-1,w=0;p>=0;p-=3)this.words[w]|=(S=o[p]|o[p-1]<<8|o[p-2]<<16)<<T&67108863,this.words[w+1]=S>>>26-T&67108863,(T+=24)>=26&&(T-=26,w++);else if("le"===g)for(p=0,w=0;p<o.length;p+=3)this.words[w]|=(S=o[p]|o[p+1]<<8|o[p+2]<<16)<<T&67108863,this.words[w+1]=S>>>26-T&67108863,(T+=24)>=26&&(T-=26,w++);return this.strip()},b.prototype._parseHex=function(o,c,g){this.length=Math.ceil((o.length-c)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var T,w=0,S=0;if("be"===g)for(p=o.length-1;p>=c;p-=2)T=rt(o,c,p)<<w,this.words[S]|=67108863&T,w>=18?(w-=18,this.words[S+=1]|=T>>>26):w+=8;else for(p=(o.length-c)%2==0?c+1:c;p<o.length;p+=2)T=rt(o,c,p)<<w,this.words[S]|=67108863&T,w>=18?(w-=18,this.words[S+=1]|=T>>>26):w+=8;this.strip()},b.prototype._parseBase=function(o,c,g){this.words=[0],this.length=1;for(var p=0,w=1;w<=67108863;w*=c)p++;p--,w=w/c|0;for(var S=o.length-g,T=S%p,C=Math.min(S,S-T)+g,h=0,k=g;k<C;k+=p)h=Z(o,k,k+p,c),this.imuln(w),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==T){var ft=1;for(h=Z(o,k,o.length,c),k=0;k<T;k++)ft*=c;this.imuln(ft),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},b.prototype.copy=function(o){o.words=new Array(this.length);for(var c=0;c<this.length;c++)o.words[c]=this.words[c];o.length=this.length,o.negative=this.negative,o.red=this.red},b.prototype.clone=function(){var o=new b(null);return this.copy(o),o},b.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},b.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},b.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},b.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var H=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],F=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],et=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function X(A,o,c){c.negative=o.negative^A.negative;var g=A.length+o.length|0;c.length=g,g=g-1|0;var p=0|A.words[0],w=0|o.words[0],S=p*w,C=S/67108864|0;c.words[0]=67108863&S;for(var h=1;h<g;h++){for(var k=C>>>26,ft=67108863&C,at=Math.min(h,o.length-1),st=Math.max(0,h-A.length+1);st<=at;st++)k+=(S=(p=0|A.words[h-st|0])*(w=0|o.words[st])+ft)/67108864|0,ft=67108863&S;c.words[h]=0|ft,C=0|k}return 0!==C?c.words[h]=0|C:c.length--,c.strip()}b.prototype.toString=function(o,c){var g;if(c=0|c||1,16===(o=o||10)||"hex"===o){g="";for(var p=0,w=0,S=0;S<this.length;S++){var T=this.words[S],C=(16777215&(T<<p|w)).toString(16);g=0!=(w=T>>>24-p&16777215)||S!==this.length-1?H[6-C.length]+C+g:C+g,(p+=2)>=26&&(p-=26,S--)}for(0!==w&&(g=w.toString(16)+g);g.length%c!=0;)g="0"+g;return 0!==this.negative&&(g="-"+g),g}if(o===(0|o)&&o>=2&&o<=36){var h=F[o],k=et[o];g="";var ft=this.clone();for(ft.negative=0;!ft.isZero();){var at=ft.modn(k).toString(o);g=(ft=ft.idivn(k)).isZero()?at+g:H[h-at.length]+at+g}for(this.isZero()&&(g="0"+g);g.length%c!=0;)g="0"+g;return 0!==this.negative&&(g="-"+g),g}J(!1,"Base should be between 2 and 36")},b.prototype.toNumber=function(){var o=this.words[0];return 2===this.length?o+=67108864*this.words[1]:3===this.length&&1===this.words[2]?o+=4503599627370496+67108864*this.words[1]:this.length>2&&J(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-o:o},b.prototype.toJSON=function(){return this.toString(16)},b.prototype.toBuffer=function(o,c){return J(void 0!==W),this.toArrayLike(W,o,c)},b.prototype.toArray=function(o,c){return this.toArrayLike(Array,o,c)},b.prototype.toArrayLike=function(o,c,g){var p=this.byteLength(),w=g||Math.max(1,p);J(p<=w,"byte array longer than desired length"),J(w>0,"Requested array length <= 0"),this.strip();var C,h,S="le"===c,T=new o(w),k=this.clone();if(S){for(h=0;!k.isZero();h++)C=k.andln(255),k.iushrn(8),T[h]=C;for(;h<w;h++)T[h]=0}else{for(h=0;h<w-p;h++)T[h]=0;for(h=0;!k.isZero();h++)C=k.andln(255),k.iushrn(8),T[w-h-1]=C}return T},b.prototype._countBits=Math.clz32?function(o){return 32-Math.clz32(o)}:function(o){var c=o,g=0;return c>=4096&&(g+=13,c>>>=13),c>=64&&(g+=7,c>>>=7),c>=8&&(g+=4,c>>>=4),c>=2&&(g+=2,c>>>=2),g+c},b.prototype._zeroBits=function(o){if(0===o)return 26;var c=o,g=0;return 0==(8191&c)&&(g+=13,c>>>=13),0==(127&c)&&(g+=7,c>>>=7),0==(15&c)&&(g+=4,c>>>=4),0==(3&c)&&(g+=2,c>>>=2),0==(1&c)&&g++,g},b.prototype.bitLength=function(){var c=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+c},b.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,c=0;c<this.length;c++){var g=this._zeroBits(this.words[c]);if(o+=g,26!==g)break}return o},b.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},b.prototype.toTwos=function(o){return 0!==this.negative?this.abs().inotn(o).iaddn(1):this.clone()},b.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},b.prototype.isNeg=function(){return 0!==this.negative},b.prototype.neg=function(){return this.clone().ineg()},b.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},b.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var c=0;c<o.length;c++)this.words[c]=this.words[c]|o.words[c];return this.strip()},b.prototype.ior=function(o){return J(0==(this.negative|o.negative)),this.iuor(o)},b.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},b.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},b.prototype.iuand=function(o){var c;c=this.length>o.length?o:this;for(var g=0;g<c.length;g++)this.words[g]=this.words[g]&o.words[g];return this.length=c.length,this.strip()},b.prototype.iand=function(o){return J(0==(this.negative|o.negative)),this.iuand(o)},b.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},b.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},b.prototype.iuxor=function(o){var c,g;this.length>o.length?(c=this,g=o):(c=o,g=this);for(var p=0;p<g.length;p++)this.words[p]=c.words[p]^g.words[p];if(this!==c)for(;p<c.length;p++)this.words[p]=c.words[p];return this.length=c.length,this.strip()},b.prototype.ixor=function(o){return J(0==(this.negative|o.negative)),this.iuxor(o)},b.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},b.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},b.prototype.inotn=function(o){J("number"==typeof o&&o>=0);var c=0|Math.ceil(o/26),g=o%26;this._expand(c),g>0&&c--;for(var p=0;p<c;p++)this.words[p]=67108863&~this.words[p];return g>0&&(this.words[p]=~this.words[p]&67108863>>26-g),this.strip()},b.prototype.notn=function(o){return this.clone().inotn(o)},b.prototype.setn=function(o,c){J("number"==typeof o&&o>=0);var g=o/26|0,p=o%26;return this._expand(g+1),this.words[g]=c?this.words[g]|1<<p:this.words[g]&~(1<<p),this.strip()},b.prototype.iadd=function(o){var c,g,p;if(0!==this.negative&&0===o.negative)return this.negative=0,c=this.isub(o),this.negative^=1,this._normSign();if(0===this.negative&&0!==o.negative)return o.negative=0,c=this.isub(o),o.negative=1,c._normSign();this.length>o.length?(g=this,p=o):(g=o,p=this);for(var w=0,S=0;S<p.length;S++)this.words[S]=67108863&(c=(0|g.words[S])+(0|p.words[S])+w),w=c>>>26;for(;0!==w&&S<g.length;S++)this.words[S]=67108863&(c=(0|g.words[S])+w),w=c>>>26;if(this.length=g.length,0!==w)this.words[this.length]=w,this.length++;else if(g!==this)for(;S<g.length;S++)this.words[S]=g.words[S];return this},b.prototype.add=function(o){var c;return 0!==o.negative&&0===this.negative?(o.negative=0,c=this.sub(o),o.negative^=1,c):0===o.negative&&0!==this.negative?(this.negative=0,c=o.sub(this),this.negative=1,c):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},b.prototype.isub=function(o){if(0!==o.negative){o.negative=0;var c=this.iadd(o);return o.negative=1,c._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var p,w,g=this.cmp(o);if(0===g)return this.negative=0,this.length=1,this.words[0]=0,this;g>0?(p=this,w=o):(p=o,w=this);for(var S=0,T=0;T<w.length;T++)S=(c=(0|p.words[T])-(0|w.words[T])+S)>>26,this.words[T]=67108863&c;for(;0!==S&&T<p.length;T++)S=(c=(0|p.words[T])+S)>>26,this.words[T]=67108863&c;if(0===S&&T<p.length&&p!==this)for(;T<p.length;T++)this.words[T]=p.words[T];return this.length=Math.max(this.length,T),p!==this&&(this.negative=1),this.strip()},b.prototype.sub=function(o){return this.clone().isub(o)};var z=function(o,c,g){var C,h,k,p=o.words,w=c.words,S=g.words,T=0,ft=0|p[0],at=8191&ft,st=ft>>>13,Mt=0|p[1],St=8191&Mt,Xt=Mt>>>13,te=0|p[2],Vt=8191&te,Dt=te>>>13,ve=0|p[3],Gt=8191&ve,Nt=ve>>>13,Kt=0|p[4],fe=8191&Kt,zt=Kt>>>13,Ne=0|p[5],Pt=8191&Ne,Se=Ne>>>13,Fi=0|p[6],Ge=8191&Fi,_e=Fi>>>13,Ce=0|p[7],Bt=8191&Ce,re=Ce>>>13,Ye=0|p[8],jt=8191&Ye,yt=Ye>>>13,ht=0|p[9],ce=8191&ht,ke=ht>>>13,Pi=0|w[0],We=8191&Pi,si=Pi>>>13,bn=0|w[1],wi=8191&bn,je=bn>>>13,ci=0|w[2],Oe=8191&ci,oi=ci>>>13,Vn=0|w[3],ei=8191&Vn,De=Vn>>>13,qe=0|w[4],ni=8191&qe,ne=qe>>>13,Qt=0|w[5],Zt=8191&Qt,Ut=Qt>>>13,xe=0|w[6],ue=8191&xe,Re=xe>>>13,pi=0|w[7],he=8191&pi,$e=pi>>>13,_n=0|w[8],Ei=8191&_n,zi=_n>>>13,ir=0|w[9],bi=8191&ir,Li=ir>>>13;g.negative=o.negative^c.negative,g.length=19;var Ln=(T+(C=Math.imul(at,We))|0)+((8191&(h=(h=Math.imul(at,si))+Math.imul(st,We)|0))<<13)|0;T=((k=Math.imul(st,si))+(h>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,C=Math.imul(St,We),h=(h=Math.imul(St,si))+Math.imul(Xt,We)|0,k=Math.imul(Xt,si);var Kn=(T+(C=C+Math.imul(at,wi)|0)|0)+((8191&(h=(h=h+Math.imul(at,je)|0)+Math.imul(st,wi)|0))<<13)|0;T=((k=k+Math.imul(st,je)|0)+(h>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,C=Math.imul(Vt,We),h=(h=Math.imul(Vt,si))+Math.imul(Dt,We)|0,k=Math.imul(Dt,si),C=C+Math.imul(St,wi)|0,h=(h=h+Math.imul(St,je)|0)+Math.imul(Xt,wi)|0,k=k+Math.imul(Xt,je)|0;var pr=(T+(C=C+Math.imul(at,Oe)|0)|0)+((8191&(h=(h=h+Math.imul(at,oi)|0)+Math.imul(st,Oe)|0))<<13)|0;T=((k=k+Math.imul(st,oi)|0)+(h>>>13)|0)+(pr>>>26)|0,pr&=67108863,C=Math.imul(Gt,We),h=(h=Math.imul(Gt,si))+Math.imul(Nt,We)|0,k=Math.imul(Nt,si),C=C+Math.imul(Vt,wi)|0,h=(h=h+Math.imul(Vt,je)|0)+Math.imul(Dt,wi)|0,k=k+Math.imul(Dt,je)|0,C=C+Math.imul(St,Oe)|0,h=(h=h+Math.imul(St,oi)|0)+Math.imul(Xt,Oe)|0,k=k+Math.imul(Xt,oi)|0;var Jn=(T+(C=C+Math.imul(at,ei)|0)|0)+((8191&(h=(h=h+Math.imul(at,De)|0)+Math.imul(st,ei)|0))<<13)|0;T=((k=k+Math.imul(st,De)|0)+(h>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,C=Math.imul(fe,We),h=(h=Math.imul(fe,si))+Math.imul(zt,We)|0,k=Math.imul(zt,si),C=C+Math.imul(Gt,wi)|0,h=(h=h+Math.imul(Gt,je)|0)+Math.imul(Nt,wi)|0,k=k+Math.imul(Nt,je)|0,C=C+Math.imul(Vt,Oe)|0,h=(h=h+Math.imul(Vt,oi)|0)+Math.imul(Dt,Oe)|0,k=k+Math.imul(Dt,oi)|0,C=C+Math.imul(St,ei)|0,h=(h=h+Math.imul(St,De)|0)+Math.imul(Xt,ei)|0,k=k+Math.imul(Xt,De)|0;var Ni=(T+(C=C+Math.imul(at,ni)|0)|0)+((8191&(h=(h=h+Math.imul(at,ne)|0)+Math.imul(st,ni)|0))<<13)|0;T=((k=k+Math.imul(st,ne)|0)+(h>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,C=Math.imul(Pt,We),h=(h=Math.imul(Pt,si))+Math.imul(Se,We)|0,k=Math.imul(Se,si),C=C+Math.imul(fe,wi)|0,h=(h=h+Math.imul(fe,je)|0)+Math.imul(zt,wi)|0,k=k+Math.imul(zt,je)|0,C=C+Math.imul(Gt,Oe)|0,h=(h=h+Math.imul(Gt,oi)|0)+Math.imul(Nt,Oe)|0,k=k+Math.imul(Nt,oi)|0,C=C+Math.imul(Vt,ei)|0,h=(h=h+Math.imul(Vt,De)|0)+Math.imul(Dt,ei)|0,k=k+Math.imul(Dt,De)|0,C=C+Math.imul(St,ni)|0,h=(h=h+Math.imul(St,ne)|0)+Math.imul(Xt,ni)|0,k=k+Math.imul(Xt,ne)|0;var xi=(T+(C=C+Math.imul(at,Zt)|0)|0)+((8191&(h=(h=h+Math.imul(at,Ut)|0)+Math.imul(st,Zt)|0))<<13)|0;T=((k=k+Math.imul(st,Ut)|0)+(h>>>13)|0)+(xi>>>26)|0,xi&=67108863,C=Math.imul(Ge,We),h=(h=Math.imul(Ge,si))+Math.imul(_e,We)|0,k=Math.imul(_e,si),C=C+Math.imul(Pt,wi)|0,h=(h=h+Math.imul(Pt,je)|0)+Math.imul(Se,wi)|0,k=k+Math.imul(Se,je)|0,C=C+Math.imul(fe,Oe)|0,h=(h=h+Math.imul(fe,oi)|0)+Math.imul(zt,Oe)|0,k=k+Math.imul(zt,oi)|0,C=C+Math.imul(Gt,ei)|0,h=(h=h+Math.imul(Gt,De)|0)+Math.imul(Nt,ei)|0,k=k+Math.imul(Nt,De)|0,C=C+Math.imul(Vt,ni)|0,h=(h=h+Math.imul(Vt,ne)|0)+Math.imul(Dt,ni)|0,k=k+Math.imul(Dt,ne)|0,C=C+Math.imul(St,Zt)|0,h=(h=h+Math.imul(St,Ut)|0)+Math.imul(Xt,Zt)|0,k=k+Math.imul(Xt,Ut)|0;var Je=(T+(C=C+Math.imul(at,ue)|0)|0)+((8191&(h=(h=h+Math.imul(at,Re)|0)+Math.imul(st,ue)|0))<<13)|0;T=((k=k+Math.imul(st,Re)|0)+(h>>>13)|0)+(Je>>>26)|0,Je&=67108863,C=Math.imul(Bt,We),h=(h=Math.imul(Bt,si))+Math.imul(re,We)|0,k=Math.imul(re,si),C=C+Math.imul(Ge,wi)|0,h=(h=h+Math.imul(Ge,je)|0)+Math.imul(_e,wi)|0,k=k+Math.imul(_e,je)|0,C=C+Math.imul(Pt,Oe)|0,h=(h=h+Math.imul(Pt,oi)|0)+Math.imul(Se,Oe)|0,k=k+Math.imul(Se,oi)|0,C=C+Math.imul(fe,ei)|0,h=(h=h+Math.imul(fe,De)|0)+Math.imul(zt,ei)|0,k=k+Math.imul(zt,De)|0,C=C+Math.imul(Gt,ni)|0,h=(h=h+Math.imul(Gt,ne)|0)+Math.imul(Nt,ni)|0,k=k+Math.imul(Nt,ne)|0,C=C+Math.imul(Vt,Zt)|0,h=(h=h+Math.imul(Vt,Ut)|0)+Math.imul(Dt,Zt)|0,k=k+Math.imul(Dt,Ut)|0,C=C+Math.imul(St,ue)|0,h=(h=h+Math.imul(St,Re)|0)+Math.imul(Xt,ue)|0,k=k+Math.imul(Xt,Re)|0;var Ui=(T+(C=C+Math.imul(at,he)|0)|0)+((8191&(h=(h=h+Math.imul(at,$e)|0)+Math.imul(st,he)|0))<<13)|0;T=((k=k+Math.imul(st,$e)|0)+(h>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,C=Math.imul(jt,We),h=(h=Math.imul(jt,si))+Math.imul(yt,We)|0,k=Math.imul(yt,si),C=C+Math.imul(Bt,wi)|0,h=(h=h+Math.imul(Bt,je)|0)+Math.imul(re,wi)|0,k=k+Math.imul(re,je)|0,C=C+Math.imul(Ge,Oe)|0,h=(h=h+Math.imul(Ge,oi)|0)+Math.imul(_e,Oe)|0,k=k+Math.imul(_e,oi)|0,C=C+Math.imul(Pt,ei)|0,h=(h=h+Math.imul(Pt,De)|0)+Math.imul(Se,ei)|0,k=k+Math.imul(Se,De)|0,C=C+Math.imul(fe,ni)|0,h=(h=h+Math.imul(fe,ne)|0)+Math.imul(zt,ni)|0,k=k+Math.imul(zt,ne)|0,C=C+Math.imul(Gt,Zt)|0,h=(h=h+Math.imul(Gt,Ut)|0)+Math.imul(Nt,Zt)|0,k=k+Math.imul(Nt,Ut)|0,C=C+Math.imul(Vt,ue)|0,h=(h=h+Math.imul(Vt,Re)|0)+Math.imul(Dt,ue)|0,k=k+Math.imul(Dt,Re)|0,C=C+Math.imul(St,he)|0,h=(h=h+Math.imul(St,$e)|0)+Math.imul(Xt,he)|0,k=k+Math.imul(Xt,$e)|0;var on=(T+(C=C+Math.imul(at,Ei)|0)|0)+((8191&(h=(h=h+Math.imul(at,zi)|0)+Math.imul(st,Ei)|0))<<13)|0;T=((k=k+Math.imul(st,zi)|0)+(h>>>13)|0)+(on>>>26)|0,on&=67108863,C=Math.imul(ce,We),h=(h=Math.imul(ce,si))+Math.imul(ke,We)|0,k=Math.imul(ke,si),C=C+Math.imul(jt,wi)|0,h=(h=h+Math.imul(jt,je)|0)+Math.imul(yt,wi)|0,k=k+Math.imul(yt,je)|0,C=C+Math.imul(Bt,Oe)|0,h=(h=h+Math.imul(Bt,oi)|0)+Math.imul(re,Oe)|0,k=k+Math.imul(re,oi)|0,C=C+Math.imul(Ge,ei)|0,h=(h=h+Math.imul(Ge,De)|0)+Math.imul(_e,ei)|0,k=k+Math.imul(_e,De)|0,C=C+Math.imul(Pt,ni)|0,h=(h=h+Math.imul(Pt,ne)|0)+Math.imul(Se,ni)|0,k=k+Math.imul(Se,ne)|0,C=C+Math.imul(fe,Zt)|0,h=(h=h+Math.imul(fe,Ut)|0)+Math.imul(zt,Zt)|0,k=k+Math.imul(zt,Ut)|0,C=C+Math.imul(Gt,ue)|0,h=(h=h+Math.imul(Gt,Re)|0)+Math.imul(Nt,ue)|0,k=k+Math.imul(Nt,Re)|0,C=C+Math.imul(Vt,he)|0,h=(h=h+Math.imul(Vt,$e)|0)+Math.imul(Dt,he)|0,k=k+Math.imul(Dt,$e)|0,C=C+Math.imul(St,Ei)|0,h=(h=h+Math.imul(St,zi)|0)+Math.imul(Xt,Ei)|0,k=k+Math.imul(Xt,zi)|0;var nr=(T+(C=C+Math.imul(at,bi)|0)|0)+((8191&(h=(h=h+Math.imul(at,Li)|0)+Math.imul(st,bi)|0))<<13)|0;T=((k=k+Math.imul(st,Li)|0)+(h>>>13)|0)+(nr>>>26)|0,nr&=67108863,C=Math.imul(ce,wi),h=(h=Math.imul(ce,je))+Math.imul(ke,wi)|0,k=Math.imul(ke,je),C=C+Math.imul(jt,Oe)|0,h=(h=h+Math.imul(jt,oi)|0)+Math.imul(yt,Oe)|0,k=k+Math.imul(yt,oi)|0,C=C+Math.imul(Bt,ei)|0,h=(h=h+Math.imul(Bt,De)|0)+Math.imul(re,ei)|0,k=k+Math.imul(re,De)|0,C=C+Math.imul(Ge,ni)|0,h=(h=h+Math.imul(Ge,ne)|0)+Math.imul(_e,ni)|0,k=k+Math.imul(_e,ne)|0,C=C+Math.imul(Pt,Zt)|0,h=(h=h+Math.imul(Pt,Ut)|0)+Math.imul(Se,Zt)|0,k=k+Math.imul(Se,Ut)|0,C=C+Math.imul(fe,ue)|0,h=(h=h+Math.imul(fe,Re)|0)+Math.imul(zt,ue)|0,k=k+Math.imul(zt,Re)|0,C=C+Math.imul(Gt,he)|0,h=(h=h+Math.imul(Gt,$e)|0)+Math.imul(Nt,he)|0,k=k+Math.imul(Nt,$e)|0,C=C+Math.imul(Vt,Ei)|0,h=(h=h+Math.imul(Vt,zi)|0)+Math.imul(Dt,Ei)|0,k=k+Math.imul(Dt,zi)|0;var mr=(T+(C=C+Math.imul(St,bi)|0)|0)+((8191&(h=(h=h+Math.imul(St,Li)|0)+Math.imul(Xt,bi)|0))<<13)|0;T=((k=k+Math.imul(Xt,Li)|0)+(h>>>13)|0)+(mr>>>26)|0,mr&=67108863,C=Math.imul(ce,Oe),h=(h=Math.imul(ce,oi))+Math.imul(ke,Oe)|0,k=Math.imul(ke,oi),C=C+Math.imul(jt,ei)|0,h=(h=h+Math.imul(jt,De)|0)+Math.imul(yt,ei)|0,k=k+Math.imul(yt,De)|0,C=C+Math.imul(Bt,ni)|0,h=(h=h+Math.imul(Bt,ne)|0)+Math.imul(re,ni)|0,k=k+Math.imul(re,ne)|0,C=C+Math.imul(Ge,Zt)|0,h=(h=h+Math.imul(Ge,Ut)|0)+Math.imul(_e,Zt)|0,k=k+Math.imul(_e,Ut)|0,C=C+Math.imul(Pt,ue)|0,h=(h=h+Math.imul(Pt,Re)|0)+Math.imul(Se,ue)|0,k=k+Math.imul(Se,Re)|0,C=C+Math.imul(fe,he)|0,h=(h=h+Math.imul(fe,$e)|0)+Math.imul(zt,he)|0,k=k+Math.imul(zt,$e)|0,C=C+Math.imul(Gt,Ei)|0,h=(h=h+Math.imul(Gt,zi)|0)+Math.imul(Nt,Ei)|0,k=k+Math.imul(Nt,zi)|0;var Ar=(T+(C=C+Math.imul(Vt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Vt,Li)|0)+Math.imul(Dt,bi)|0))<<13)|0;T=((k=k+Math.imul(Dt,Li)|0)+(h>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,C=Math.imul(ce,ei),h=(h=Math.imul(ce,De))+Math.imul(ke,ei)|0,k=Math.imul(ke,De),C=C+Math.imul(jt,ni)|0,h=(h=h+Math.imul(jt,ne)|0)+Math.imul(yt,ni)|0,k=k+Math.imul(yt,ne)|0,C=C+Math.imul(Bt,Zt)|0,h=(h=h+Math.imul(Bt,Ut)|0)+Math.imul(re,Zt)|0,k=k+Math.imul(re,Ut)|0,C=C+Math.imul(Ge,ue)|0,h=(h=h+Math.imul(Ge,Re)|0)+Math.imul(_e,ue)|0,k=k+Math.imul(_e,Re)|0,C=C+Math.imul(Pt,he)|0,h=(h=h+Math.imul(Pt,$e)|0)+Math.imul(Se,he)|0,k=k+Math.imul(Se,$e)|0,C=C+Math.imul(fe,Ei)|0,h=(h=h+Math.imul(fe,zi)|0)+Math.imul(zt,Ei)|0,k=k+Math.imul(zt,zi)|0;var hn=(T+(C=C+Math.imul(Gt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Gt,Li)|0)+Math.imul(Nt,bi)|0))<<13)|0;T=((k=k+Math.imul(Nt,Li)|0)+(h>>>13)|0)+(hn>>>26)|0,hn&=67108863,C=Math.imul(ce,ni),h=(h=Math.imul(ce,ne))+Math.imul(ke,ni)|0,k=Math.imul(ke,ne),C=C+Math.imul(jt,Zt)|0,h=(h=h+Math.imul(jt,Ut)|0)+Math.imul(yt,Zt)|0,k=k+Math.imul(yt,Ut)|0,C=C+Math.imul(Bt,ue)|0,h=(h=h+Math.imul(Bt,Re)|0)+Math.imul(re,ue)|0,k=k+Math.imul(re,Re)|0,C=C+Math.imul(Ge,he)|0,h=(h=h+Math.imul(Ge,$e)|0)+Math.imul(_e,he)|0,k=k+Math.imul(_e,$e)|0,C=C+Math.imul(Pt,Ei)|0,h=(h=h+Math.imul(Pt,zi)|0)+Math.imul(Se,Ei)|0,k=k+Math.imul(Se,zi)|0;var xr=(T+(C=C+Math.imul(fe,bi)|0)|0)+((8191&(h=(h=h+Math.imul(fe,Li)|0)+Math.imul(zt,bi)|0))<<13)|0;T=((k=k+Math.imul(zt,Li)|0)+(h>>>13)|0)+(xr>>>26)|0,xr&=67108863,C=Math.imul(ce,Zt),h=(h=Math.imul(ce,Ut))+Math.imul(ke,Zt)|0,k=Math.imul(ke,Ut),C=C+Math.imul(jt,ue)|0,h=(h=h+Math.imul(jt,Re)|0)+Math.imul(yt,ue)|0,k=k+Math.imul(yt,Re)|0,C=C+Math.imul(Bt,he)|0,h=(h=h+Math.imul(Bt,$e)|0)+Math.imul(re,he)|0,k=k+Math.imul(re,$e)|0,C=C+Math.imul(Ge,Ei)|0,h=(h=h+Math.imul(Ge,zi)|0)+Math.imul(_e,Ei)|0,k=k+Math.imul(_e,zi)|0;var Hr=(T+(C=C+Math.imul(Pt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Pt,Li)|0)+Math.imul(Se,bi)|0))<<13)|0;T=((k=k+Math.imul(Se,Li)|0)+(h>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,C=Math.imul(ce,ue),h=(h=Math.imul(ce,Re))+Math.imul(ke,ue)|0,k=Math.imul(ke,Re),C=C+Math.imul(jt,he)|0,h=(h=h+Math.imul(jt,$e)|0)+Math.imul(yt,he)|0,k=k+Math.imul(yt,$e)|0,C=C+Math.imul(Bt,Ei)|0,h=(h=h+Math.imul(Bt,zi)|0)+Math.imul(re,Ei)|0,k=k+Math.imul(re,zi)|0;var so=(T+(C=C+Math.imul(Ge,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Ge,Li)|0)+Math.imul(_e,bi)|0))<<13)|0;T=((k=k+Math.imul(_e,Li)|0)+(h>>>13)|0)+(so>>>26)|0,so&=67108863,C=Math.imul(ce,he),h=(h=Math.imul(ce,$e))+Math.imul(ke,he)|0,k=Math.imul(ke,$e),C=C+Math.imul(jt,Ei)|0,h=(h=h+Math.imul(jt,zi)|0)+Math.imul(yt,Ei)|0,k=k+Math.imul(yt,zi)|0;var Vr=(T+(C=C+Math.imul(Bt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Bt,Li)|0)+Math.imul(re,bi)|0))<<13)|0;T=((k=k+Math.imul(re,Li)|0)+(h>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,C=Math.imul(ce,Ei),h=(h=Math.imul(ce,zi))+Math.imul(ke,Ei)|0,k=Math.imul(ke,zi);var Pr=(T+(C=C+Math.imul(jt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(jt,Li)|0)+Math.imul(yt,bi)|0))<<13)|0;T=((k=k+Math.imul(yt,Li)|0)+(h>>>13)|0)+(Pr>>>26)|0,Pr&=67108863;var ar=(T+(C=Math.imul(ce,bi))|0)+((8191&(h=(h=Math.imul(ce,Li))+Math.imul(ke,bi)|0))<<13)|0;return T=((k=Math.imul(ke,Li))+(h>>>13)|0)+(ar>>>26)|0,ar&=67108863,S[0]=Ln,S[1]=Kn,S[2]=pr,S[3]=Jn,S[4]=Ni,S[5]=xi,S[6]=Je,S[7]=Ui,S[8]=on,S[9]=nr,S[10]=mr,S[11]=Ar,S[12]=hn,S[13]=xr,S[14]=Hr,S[15]=so,S[16]=Vr,S[17]=Pr,S[18]=ar,0!==T&&(S[19]=T,g.length++),g};function q(A,o,c){return(new U).mulp(A,o,c)}function U(A,o){this.x=A,this.y=o}Math.imul||(z=X),b.prototype.mulTo=function(o,c){var g,p=this.length+o.length;return g=10===this.length&&10===o.length?z(this,o,c):p<63?X(this,o,c):p<1024?function(A,o,c){c.negative=o.negative^A.negative,c.length=A.length+o.length;for(var g=0,p=0,w=0;w<c.length-1;w++){var S=p;p=0;for(var T=67108863&g,C=Math.min(w,o.length-1),h=Math.max(0,w-A.length+1);h<=C;h++){var st=(0|A.words[w-h])*(0|o.words[h]),Mt=67108863&st;T=67108863&(Mt=Mt+T|0),p+=(S=(S=S+(st/67108864|0)|0)+(Mt>>>26)|0)>>>26,S&=67108863}c.words[w]=T,g=S,S=p}return 0!==g?c.words[w]=g:c.length--,c.strip()}(this,o,c):q(this,o,c),g},U.prototype.makeRBT=function(o){for(var c=new Array(o),g=b.prototype._countBits(o)-1,p=0;p<o;p++)c[p]=this.revBin(p,g,o);return c},U.prototype.revBin=function(o,c,g){if(0===o||o===g-1)return o;for(var p=0,w=0;w<c;w++)p|=(1&o)<<c-w-1,o>>=1;return p},U.prototype.permute=function(o,c,g,p,w,S){for(var T=0;T<S;T++)p[T]=c[o[T]],w[T]=g[o[T]]},U.prototype.transform=function(o,c,g,p,w,S){this.permute(S,o,c,g,p,w);for(var T=1;T<w;T<<=1)for(var C=T<<1,h=Math.cos(2*Math.PI/C),k=Math.sin(2*Math.PI/C),ft=0;ft<w;ft+=C)for(var at=h,st=k,Mt=0;Mt<T;Mt++){var St=g[ft+Mt],Xt=p[ft+Mt],te=g[ft+Mt+T],Vt=p[ft+Mt+T],Dt=at*te-st*Vt;Vt=at*Vt+st*te,g[ft+Mt]=St+(te=Dt),p[ft+Mt]=Xt+Vt,g[ft+Mt+T]=St-te,p[ft+Mt+T]=Xt-Vt,Mt!==C&&(Dt=h*at-k*st,st=h*st+k*at,at=Dt)}},U.prototype.guessLen13b=function(o,c){var g=1|Math.max(c,o),p=1&g,w=0;for(g=g/2|0;g;g>>>=1)w++;return 1<<w+1+p},U.prototype.conjugate=function(o,c,g){if(!(g<=1))for(var p=0;p<g/2;p++){var w=o[p];o[p]=o[g-p-1],o[g-p-1]=w,w=c[p],c[p]=-c[g-p-1],c[g-p-1]=-w}},U.prototype.normalize13b=function(o,c){for(var g=0,p=0;p<c/2;p++){var w=8192*Math.round(o[2*p+1]/c)+Math.round(o[2*p]/c)+g;o[p]=67108863&w,g=w<67108864?0:w/67108864|0}return o},U.prototype.convert13b=function(o,c,g,p){for(var w=0,S=0;S<c;S++)g[2*S]=8191&(w+=0|o[S]),g[2*S+1]=8191&(w>>>=13),w>>>=13;for(S=2*c;S<p;++S)g[S]=0;J(0===w),J(0==(-8192&w))},U.prototype.stub=function(o){for(var c=new Array(o),g=0;g<o;g++)c[g]=0;return c},U.prototype.mulp=function(o,c,g){var p=2*this.guessLen13b(o.length,c.length),w=this.makeRBT(p),S=this.stub(p),T=new Array(p),C=new Array(p),h=new Array(p),k=new Array(p),ft=new Array(p),at=new Array(p),st=g.words;st.length=p,this.convert13b(o.words,o.length,T,p),this.convert13b(c.words,c.length,k,p),this.transform(T,S,C,h,p,w),this.transform(k,S,ft,at,p,w);for(var Mt=0;Mt<p;Mt++){var St=C[Mt]*ft[Mt]-h[Mt]*at[Mt];h[Mt]=C[Mt]*at[Mt]+h[Mt]*ft[Mt],C[Mt]=St}return this.conjugate(C,h,p),this.transform(C,h,st,S,p,w),this.conjugate(st,S,p),this.normalize13b(st,p),g.negative=o.negative^c.negative,g.length=o.length+c.length,g.strip()},b.prototype.mul=function(o){var c=new b(null);return c.words=new Array(this.length+o.length),this.mulTo(o,c)},b.prototype.mulf=function(o){var c=new b(null);return c.words=new Array(this.length+o.length),q(this,o,c)},b.prototype.imul=function(o){return this.clone().mulTo(o,this)},b.prototype.imuln=function(o){J("number"==typeof o),J(o<67108864);for(var c=0,g=0;g<this.length;g++){var p=(0|this.words[g])*o,w=(67108863&p)+(67108863&c);c>>=26,c+=p/67108864|0,c+=w>>>26,this.words[g]=67108863&w}return 0!==c&&(this.words[g]=c,this.length++),this},b.prototype.muln=function(o){return this.clone().imuln(o)},b.prototype.sqr=function(){return this.mul(this)},b.prototype.isqr=function(){return this.imul(this.clone())},b.prototype.pow=function(o){var c=function(A){for(var o=new Array(A.bitLength()),c=0;c<o.length;c++){var p=c%26;o[c]=(A.words[c/26|0]&1<<p)>>>p}return o}(o);if(0===c.length)return new b(1);for(var g=this,p=0;p<c.length&&0===c[p];p++,g=g.sqr());if(++p<c.length)for(var w=g.sqr();p<c.length;p++,w=w.sqr())0!==c[p]&&(g=g.mul(w));return g},b.prototype.iushln=function(o){J("number"==typeof o&&o>=0);var w,c=o%26,g=(o-c)/26,p=67108863>>>26-c<<26-c;if(0!==c){var S=0;for(w=0;w<this.length;w++){var T=this.words[w]&p;this.words[w]=(0|this.words[w])-T<<c|S,S=T>>>26-c}S&&(this.words[w]=S,this.length++)}if(0!==g){for(w=this.length-1;w>=0;w--)this.words[w+g]=this.words[w];for(w=0;w<g;w++)this.words[w]=0;this.length+=g}return this.strip()},b.prototype.ishln=function(o){return J(0===this.negative),this.iushln(o)},b.prototype.iushrn=function(o,c,g){var p;J("number"==typeof o&&o>=0),p=c?(c-c%26)/26:0;var w=o%26,S=Math.min((o-w)/26,this.length),T=67108863^67108863>>>w<<w,C=g;if(p-=S,p=Math.max(0,p),C){for(var h=0;h<S;h++)C.words[h]=this.words[h];C.length=S}if(0!==S)if(this.length>S)for(this.length-=S,h=0;h<this.length;h++)this.words[h]=this.words[h+S];else this.words[0]=0,this.length=1;var k=0;for(h=this.length-1;h>=0&&(0!==k||h>=p);h--){var ft=0|this.words[h];this.words[h]=k<<26-w|ft>>>w,k=ft&T}return C&&0!==k&&(C.words[C.length++]=k),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},b.prototype.ishrn=function(o,c,g){return J(0===this.negative),this.iushrn(o,c,g)},b.prototype.shln=function(o){return this.clone().ishln(o)},b.prototype.ushln=function(o){return this.clone().iushln(o)},b.prototype.shrn=function(o){return this.clone().ishrn(o)},b.prototype.ushrn=function(o){return this.clone().iushrn(o)},b.prototype.testn=function(o){J("number"==typeof o&&o>=0);var c=o%26,g=(o-c)/26;return!(this.length<=g||!(this.words[g]&1<<c))},b.prototype.imaskn=function(o){J("number"==typeof o&&o>=0);var c=o%26,g=(o-c)/26;return J(0===this.negative,"imaskn works only with positive numbers"),this.length<=g?this:(0!==c&&g++,this.length=Math.min(g,this.length),0!==c&&(this.words[this.length-1]&=67108863^67108863>>>c<<c),this.strip())},b.prototype.maskn=function(o){return this.clone().imaskn(o)},b.prototype.iaddn=function(o){return J("number"==typeof o),J(o<67108864),o<0?this.isubn(-o):0!==this.negative?1===this.length&&(0|this.words[0])<o?(this.words[0]=o-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},b.prototype._iaddn=function(o){this.words[0]+=o;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},b.prototype.isubn=function(o){if(J("number"==typeof o),J(o<67108864),o<0)return this.iaddn(-o);if(0!==this.negative)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this.strip()},b.prototype.addn=function(o){return this.clone().iaddn(o)},b.prototype.subn=function(o){return this.clone().isubn(o)},b.prototype.iabs=function(){return this.negative=0,this},b.prototype.abs=function(){return this.clone().iabs()},b.prototype._ishlnsubmul=function(o,c,g){var w;this._expand(o.length+g);var S,T=0;for(w=0;w<o.length;w++){S=(0|this.words[w+g])+T;var C=(0|o.words[w])*c;T=((S-=67108863&C)>>26)-(C/67108864|0),this.words[w+g]=67108863&S}for(;w<this.length-g;w++)T=(S=(0|this.words[w+g])+T)>>26,this.words[w+g]=67108863&S;if(0===T)return this.strip();for(J(-1===T),T=0,w=0;w<this.length;w++)T=(S=-(0|this.words[w])+T)>>26,this.words[w]=67108863&S;return this.negative=1,this.strip()},b.prototype._wordDiv=function(o,c){var g,p=this.clone(),w=o,S=0|w.words[w.length-1];0!=(g=26-this._countBits(S))&&(w=w.ushln(g),p.iushln(g),S=0|w.words[w.length-1]);var h,C=p.length-w.length;if("mod"!==c){(h=new b(null)).length=C+1,h.words=new Array(h.length);for(var k=0;k<h.length;k++)h.words[k]=0}var ft=p.clone()._ishlnsubmul(w,1,C);0===ft.negative&&(p=ft,h&&(h.words[C]=1));for(var at=C-1;at>=0;at--){var st=67108864*(0|p.words[w.length+at])+(0|p.words[w.length+at-1]);for(st=Math.min(st/S|0,67108863),p._ishlnsubmul(w,st,at);0!==p.negative;)st--,p.negative=0,p._ishlnsubmul(w,1,at),p.isZero()||(p.negative^=1);h&&(h.words[at]=st)}return h&&h.strip(),p.strip(),"div"!==c&&0!==g&&p.iushrn(g),{div:h||null,mod:p}},b.prototype.divmod=function(o,c,g){return J(!o.isZero()),this.isZero()?{div:new b(0),mod:new b(0)}:0!==this.negative&&0===o.negative?(S=this.neg().divmod(o,c),"mod"!==c&&(p=S.div.neg()),"div"!==c&&(w=S.mod.neg(),g&&0!==w.negative&&w.iadd(o)),{div:p,mod:w}):0===this.negative&&0!==o.negative?(S=this.divmod(o.neg(),c),"mod"!==c&&(p=S.div.neg()),{div:p,mod:S.mod}):0!=(this.negative&o.negative)?(S=this.neg().divmod(o.neg(),c),"div"!==c&&(w=S.mod.neg(),g&&0!==w.negative&&w.isub(o)),{div:S.div,mod:w}):o.length>this.length||this.cmp(o)<0?{div:new b(0),mod:this}:1===o.length?"div"===c?{div:this.divn(o.words[0]),mod:null}:"mod"===c?{div:null,mod:new b(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new b(this.modn(o.words[0]))}:this._wordDiv(o,c);var p,w,S},b.prototype.div=function(o){return this.divmod(o,"div",!1).div},b.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},b.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},b.prototype.divRound=function(o){var c=this.divmod(o);if(c.mod.isZero())return c.div;var g=0!==c.div.negative?c.mod.isub(o):c.mod,p=o.ushrn(1),w=o.andln(1),S=g.cmp(p);return S<0||1===w&&0===S?c.div:0!==c.div.negative?c.div.isubn(1):c.div.iaddn(1)},b.prototype.modn=function(o){J(o<=67108863);for(var c=(1<<26)%o,g=0,p=this.length-1;p>=0;p--)g=(c*g+(0|this.words[p]))%o;return g},b.prototype.idivn=function(o){J(o<=67108863);for(var c=0,g=this.length-1;g>=0;g--){var p=(0|this.words[g])+67108864*c;this.words[g]=p/o|0,c=p%o}return this.strip()},b.prototype.divn=function(o){return this.clone().idivn(o)},b.prototype.egcd=function(o){J(0===o.negative),J(!o.isZero());var c=this,g=o.clone();c=0!==c.negative?c.umod(o):c.clone();for(var p=new b(1),w=new b(0),S=new b(0),T=new b(1),C=0;c.isEven()&&g.isEven();)c.iushrn(1),g.iushrn(1),++C;for(var h=g.clone(),k=c.clone();!c.isZero();){for(var ft=0,at=1;0==(c.words[0]&at)&&ft<26;++ft,at<<=1);if(ft>0)for(c.iushrn(ft);ft-- >0;)(p.isOdd()||w.isOdd())&&(p.iadd(h),w.isub(k)),p.iushrn(1),w.iushrn(1);for(var st=0,Mt=1;0==(g.words[0]&Mt)&&st<26;++st,Mt<<=1);if(st>0)for(g.iushrn(st);st-- >0;)(S.isOdd()||T.isOdd())&&(S.iadd(h),T.isub(k)),S.iushrn(1),T.iushrn(1);c.cmp(g)>=0?(c.isub(g),p.isub(S),w.isub(T)):(g.isub(c),S.isub(p),T.isub(w))}return{a:S,b:T,gcd:g.iushln(C)}},b.prototype._invmp=function(o){J(0===o.negative),J(!o.isZero());var ft,c=this,g=o.clone();c=0!==c.negative?c.umod(o):c.clone();for(var p=new b(1),w=new b(0),S=g.clone();c.cmpn(1)>0&&g.cmpn(1)>0;){for(var T=0,C=1;0==(c.words[0]&C)&&T<26;++T,C<<=1);if(T>0)for(c.iushrn(T);T-- >0;)p.isOdd()&&p.iadd(S),p.iushrn(1);for(var h=0,k=1;0==(g.words[0]&k)&&h<26;++h,k<<=1);if(h>0)for(g.iushrn(h);h-- >0;)w.isOdd()&&w.iadd(S),w.iushrn(1);c.cmp(g)>=0?(c.isub(g),p.isub(w)):(g.isub(c),w.isub(p))}return(ft=0===c.cmpn(1)?p:w).cmpn(0)<0&&ft.iadd(o),ft},b.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var c=this.clone(),g=o.clone();c.negative=0,g.negative=0;for(var p=0;c.isEven()&&g.isEven();p++)c.iushrn(1),g.iushrn(1);for(;;){for(;c.isEven();)c.iushrn(1);for(;g.isEven();)g.iushrn(1);var w=c.cmp(g);if(w<0){var S=c;c=g,g=S}else if(0===w||0===g.cmpn(1))break;c.isub(g)}return g.iushln(p)},b.prototype.invm=function(o){return this.egcd(o).a.umod(o)},b.prototype.isEven=function(){return 0==(1&this.words[0])},b.prototype.isOdd=function(){return 1==(1&this.words[0])},b.prototype.andln=function(o){return this.words[0]&o},b.prototype.bincn=function(o){J("number"==typeof o);var c=o%26,g=(o-c)/26,p=1<<c;if(this.length<=g)return this._expand(g+1),this.words[g]|=p,this;for(var w=p,S=g;0!==w&&S<this.length;S++){var T=0|this.words[S];w=(T+=w)>>>26,this.words[S]=T&=67108863}return 0!==w&&(this.words[S]=w,this.length++),this},b.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},b.prototype.cmpn=function(o){var g,c=o<0;if(0!==this.negative&&!c)return-1;if(0===this.negative&&c)return 1;if(this.strip(),this.length>1)g=1;else{c&&(o=-o),J(o<=67108863,"Number is too big");var p=0|this.words[0];g=p===o?0:p<o?-1:1}return 0!==this.negative?0|-g:g},b.prototype.cmp=function(o){if(0!==this.negative&&0===o.negative)return-1;if(0===this.negative&&0!==o.negative)return 1;var c=this.ucmp(o);return 0!==this.negative?0|-c:c},b.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var c=0,g=this.length-1;g>=0;g--){var p=0|this.words[g],w=0|o.words[g];if(p!==w){p<w?c=-1:p>w&&(c=1);break}}return c},b.prototype.gtn=function(o){return 1===this.cmpn(o)},b.prototype.gt=function(o){return 1===this.cmp(o)},b.prototype.gten=function(o){return this.cmpn(o)>=0},b.prototype.gte=function(o){return this.cmp(o)>=0},b.prototype.ltn=function(o){return-1===this.cmpn(o)},b.prototype.lt=function(o){return-1===this.cmp(o)},b.prototype.lten=function(o){return this.cmpn(o)<=0},b.prototype.lte=function(o){return this.cmp(o)<=0},b.prototype.eqn=function(o){return 0===this.cmpn(o)},b.prototype.eq=function(o){return 0===this.cmp(o)},b.red=function(o){return new Tt(o)},b.prototype.toRed=function(o){return J(!this.red,"Already a number in reduction context"),J(0===this.negative,"red works only with positives"),o.convertTo(this)._forceRed(o)},b.prototype.fromRed=function(){return J(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},b.prototype._forceRed=function(o){return this.red=o,this},b.prototype.forceRed=function(o){return J(!this.red,"Already a number in reduction context"),this._forceRed(o)},b.prototype.redAdd=function(o){return J(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},b.prototype.redIAdd=function(o){return J(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},b.prototype.redSub=function(o){return J(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},b.prototype.redISub=function(o){return J(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},b.prototype.redShl=function(o){return J(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},b.prototype.redMul=function(o){return J(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},b.prototype.redIMul=function(o){return J(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},b.prototype.redSqr=function(){return J(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},b.prototype.redISqr=function(){return J(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},b.prototype.redSqrt=function(){return J(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},b.prototype.redInvm=function(){return J(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},b.prototype.redNeg=function(){return J(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},b.prototype.redPow=function(o){return J(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var it={k256:null,p224:null,p192:null,p25519:null};function ot(A,o){this.name=A,this.p=new b(o,16),this.n=this.p.bitLength(),this.k=new b(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function lt(){ot.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function wt(){ot.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function xt(){ot.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Ot(){ot.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Tt(A){if("string"==typeof A){var o=b._prime(A);this.m=o.p,this.prime=o}else J(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}function Et(A){Tt.call(this,A),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new b(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ot.prototype._tmp=function(){var o=new b(null);return o.words=new Array(Math.ceil(this.n/13)),o},ot.prototype.ireduce=function(o){var g,c=o;do{this.split(c,this.tmp),g=(c=(c=this.imulK(c)).iadd(this.tmp)).bitLength()}while(g>this.n);var p=g<this.n?-1:c.ucmp(this.p);return 0===p?(c.words[0]=0,c.length=1):p>0?c.isub(this.p):void 0!==c.strip?c.strip():c._strip(),c},ot.prototype.split=function(o,c){o.iushrn(this.n,0,c)},ot.prototype.imulK=function(o){return o.imul(this.k)},tt(lt,ot),lt.prototype.split=function(o,c){for(var g=4194303,p=Math.min(o.length,9),w=0;w<p;w++)c.words[w]=o.words[w];if(c.length=p,o.length<=9)return o.words[0]=0,void(o.length=1);var S=o.words[9];for(c.words[c.length++]=S&g,w=10;w<o.length;w++){var T=0|o.words[w];o.words[w-10]=(T&g)<<4|S>>>22,S=T}o.words[w-10]=S>>>=22,o.length-=0===S&&o.length>10?10:9},lt.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var c=0,g=0;g<o.length;g++){var p=0|o.words[g];o.words[g]=67108863&(c+=977*p),c=64*p+(c/67108864|0)}return 0===o.words[o.length-1]&&(o.length--,0===o.words[o.length-1]&&o.length--),o},tt(wt,ot),tt(xt,ot),tt(Ot,ot),Ot.prototype.imulK=function(o){for(var c=0,g=0;g<o.length;g++){var p=19*(0|o.words[g])+c,w=67108863&p;p>>>=26,o.words[g]=w,c=p}return 0!==c&&(o.words[o.length++]=c),o},b._prime=function(o){if(it[o])return it[o];var c;if("k256"===o)c=new lt;else if("p224"===o)c=new wt;else if("p192"===o)c=new xt;else{if("p25519"!==o)throw new Error("Unknown prime "+o);c=new Ot}return it[o]=c,c},Tt.prototype._verify1=function(o){J(0===o.negative,"red works only with positives"),J(o.red,"red works only with red numbers")},Tt.prototype._verify2=function(o,c){J(0==(o.negative|c.negative),"red works only with positives"),J(o.red&&o.red===c.red,"red works only with red numbers")},Tt.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},Tt.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},Tt.prototype.add=function(o,c){this._verify2(o,c);var g=o.add(c);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},Tt.prototype.iadd=function(o,c){this._verify2(o,c);var g=o.iadd(c);return g.cmp(this.m)>=0&&g.isub(this.m),g},Tt.prototype.sub=function(o,c){this._verify2(o,c);var g=o.sub(c);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},Tt.prototype.isub=function(o,c){this._verify2(o,c);var g=o.isub(c);return g.cmpn(0)<0&&g.iadd(this.m),g},Tt.prototype.shl=function(o,c){return this._verify1(o),this.imod(o.ushln(c))},Tt.prototype.imul=function(o,c){return this._verify2(o,c),this.imod(o.imul(c))},Tt.prototype.mul=function(o,c){return this._verify2(o,c),this.imod(o.mul(c))},Tt.prototype.isqr=function(o){return this.imul(o,o.clone())},Tt.prototype.sqr=function(o){return this.mul(o,o)},Tt.prototype.sqrt=function(o){if(o.isZero())return o.clone();var c=this.m.andln(3);if(J(c%2==1),3===c){var g=this.m.add(new b(1)).iushrn(2);return this.pow(o,g)}for(var p=this.m.subn(1),w=0;!p.isZero()&&0===p.andln(1);)w++,p.iushrn(1);J(!p.isZero());var S=new b(1).toRed(this),T=S.redNeg(),C=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new b(2*h*h).toRed(this);0!==this.pow(h,C).cmp(T);)h.redIAdd(T);for(var k=this.pow(h,p),ft=this.pow(o,p.addn(1).iushrn(1)),at=this.pow(o,p),st=w;0!==at.cmp(S);){for(var Mt=at,St=0;0!==Mt.cmp(S);St++)Mt=Mt.redSqr();J(St<st);var Xt=this.pow(k,new b(1).iushln(st-St-1));ft=ft.redMul(Xt),k=Xt.redSqr(),at=at.redMul(k),st=St}return ft},Tt.prototype.invm=function(o){var c=o._invmp(this.m);return 0!==c.negative?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},Tt.prototype.pow=function(o,c){if(c.isZero())return new b(1).toRed(this);if(0===c.cmpn(1))return o.clone();var p=new Array(16);p[0]=new b(1).toRed(this),p[1]=o;for(var w=2;w<p.length;w++)p[w]=this.mul(p[w-1],o);var S=p[0],T=0,C=0,h=c.bitLength()%26;for(0===h&&(h=26),w=c.length-1;w>=0;w--){for(var k=c.words[w],ft=h-1;ft>=0;ft--){var at=k>>ft&1;S!==p[0]&&(S=this.sqr(S)),0!==at||0!==T?(T<<=1,T|=at,(4==++C||0===w&&0===ft)&&(S=this.mul(S,p[T]),C=0,T=0)):C=0}h=26}return S},Tt.prototype.convertTo=function(o){var c=o.umod(this.m);return c===o?c.clone():c},Tt.prototype.convertFrom=function(o){var c=o.clone();return c.red=null,c},b.mont=function(o){return new Et(o)},tt(Et,Tt),Et.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Et.prototype.convertFrom=function(o){var c=this.imod(o.mul(this.rinv));return c.red=null,c},Et.prototype.imul=function(o,c){if(o.isZero()||c.isZero())return o.words[0]=0,o.length=1,o;var g=o.imul(c),p=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=g.isub(p).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},Et.prototype.mul=function(o,c){if(o.isZero()||c.isZero())return new b(0)._forceRed(this);var g=o.mul(c),p=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=g.isub(p).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},Et.prototype.invm=function(o){return this.imod(o._invmp(this.m).mul(this.r2))._forceRed(this)}}(Ee=ut.nmd(Ee),this)},4979:(Ee,Q,ut)=>{"use strict";var ct=ut(3516),f=ut(2996),J=ut(7447),tt=ut(6010),b=ut(8672);function W(G){b.call(this,"digest"),this._hash=G}ct(W,b),W.prototype._update=function(G){this._hash.update(G)},W.prototype._final=function(){return this._hash.digest()},Ee.exports=function(rt){return"md5"===(rt=rt.toLowerCase())?new f:"rmd160"===rt||"ripemd160"===rt?new J:new W(tt(rt))}},4936:(Ee,Q,ut)=>{var ct=ut(2996);Ee.exports=function(f){return(new ct).update(f).digest()}},3927:(Ee,Q,ut)=>{"use strict";var ct=ut(3516),f=ut(3107),J=ut(8672),tt=ut(4615).Buffer,b=ut(4936),W=ut(7447),G=ut(6010),rt=tt.alloc(128);function Z(H,F){J.call(this,"digest"),"string"==typeof F&&(F=tt.from(F));var et="sha512"===H||"sha384"===H?128:64;this._alg=H,this._key=F,F.length>et?F=("rmd160"===H?new W:G(H)).update(F).digest():F.length<et&&(F=tt.concat([F,rt],et));for(var X=this._ipad=tt.allocUnsafe(et),z=this._opad=tt.allocUnsafe(et),Y=0;Y<et;Y++)X[Y]=54^F[Y],z[Y]=92^F[Y];this._hash="rmd160"===H?new W:G(H),this._hash.update(X)}ct(Z,J),Z.prototype._update=function(H){this._hash.update(H)},Z.prototype._final=function(){var H=this._hash.digest();return("rmd160"===this._alg?new W:G(this._alg)).update(this._opad).update(H).digest()},Ee.exports=function(F,et){return"rmd160"===(F=F.toLowerCase())||"ripemd160"===F?new Z("rmd160",et):"md5"===F?new f(b,et):new Z(F,et)}},3107:(Ee,Q,ut)=>{"use strict";var ct=ut(3516),f=ut(4615).Buffer,J=ut(8672),tt=f.alloc(128),b=64;function W(G,rt){J.call(this,"digest"),"string"==typeof rt&&(rt=f.from(rt)),this._alg=G,this._key=rt,rt.length>b?rt=G(rt):rt.length<b&&(rt=f.concat([rt,tt],b));for(var Z=this._ipad=f.allocUnsafe(b),H=this._opad=f.allocUnsafe(b),F=0;F<b;F++)Z[F]=54^rt[F],H[F]=92^rt[F];this._hash=[Z]}ct(W,J),W.prototype._update=function(G){this._hash.push(G)},W.prototype._final=function(){var G=this._alg(f.concat(this._hash));return this._alg(f.concat([this._opad,G]))},Ee.exports=W},7702:(Ee,Q,ut)=>{"use strict";Q.randomBytes=Q.rng=Q.pseudoRandomBytes=Q.prng=ut(8747),Q.createHash=Q.Hash=ut(4979),Q.createHmac=Q.Hmac=ut(3927);var ct=ut(6850),f=Object.keys(ct),J=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(f);Q.getHashes=function(){return J};var tt=ut(6556);Q.pbkdf2=tt.pbkdf2,Q.pbkdf2Sync=tt.pbkdf2Sync;var b=ut(5828);Q.Cipher=b.Cipher,Q.createCipher=b.createCipher,Q.Cipheriv=b.Cipheriv,Q.createCipheriv=b.createCipheriv,Q.Decipher=b.Decipher,Q.createDecipher=b.createDecipher,Q.Decipheriv=b.Decipheriv,Q.createDecipheriv=b.createDecipheriv,Q.getCiphers=b.getCiphers,Q.listCiphers=b.listCiphers;var W=ut(1198);Q.DiffieHellmanGroup=W.DiffieHellmanGroup,Q.createDiffieHellmanGroup=W.createDiffieHellmanGroup,Q.getDiffieHellman=W.getDiffieHellman,Q.createDiffieHellman=W.createDiffieHellman,Q.DiffieHellman=W.DiffieHellman;var G=ut(5822);Q.createSign=G.createSign,Q.Sign=G.Sign,Q.createVerify=G.createVerify,Q.Verify=G.Verify,Q.createECDH=ut(4523);var rt=ut(2914);Q.publicEncrypt=rt.publicEncrypt,Q.privateEncrypt=rt.privateEncrypt,Q.publicDecrypt=rt.publicDecrypt,Q.privateDecrypt=rt.privateDecrypt;var Z=ut(1766);Q.randomFill=Z.randomFill,Q.randomFillSync=Z.randomFillSync,Q.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},Q.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},6912:(Ee,Q,ut)=>{"use strict";function ct(x){return x&&"object"==typeof x&&"default"in x?x.default:x}var f=ct(ut(5122)),J=ct(ut(8221));function tt(x){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(x)}function b(x,u){if(!(x instanceof u))throw new TypeError("Cannot call a class as a function")}function W(x,u){for(var y=0;y<u.length;y++){var E=u[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}function G(x,u,y){return u&&W(x.prototype,u),y&&W(x,y),x}function rt(x,u,y){return u in x?Object.defineProperty(x,u,{value:y,enumerable:!0,configurable:!0,writable:!0}):x[u]=y,x}function Z(x,u){return function(x){if(Array.isArray(x))return x}(x)||function(x,u){var y=[],E=!0,R=!1,N=void 0;try{for(var dt,j=x[Symbol.iterator]();!(E=(dt=j.next()).done)&&(y.push(dt.value),!u||y.length!==u);E=!0);}catch(gt){R=!0,N=gt}finally{try{!E&&null!=j.return&&j.return()}finally{if(R)throw N}}return y}(x,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var B="undefined"==typeof window?null:window,X=B?B.navigator:null,Y=tt(""),q=tt({}),U=tt(function(){}),it="undefined"==typeof HTMLElement?"undefined":tt(HTMLElement),ot=function(u){return u&&u.instanceString&&wt(u.instanceString)?u.instanceString():null},lt=function(u){return null!=u&&tt(u)==Y},wt=function(u){return null!=u&&tt(u)===U},xt=function(u){return!c(u)&&(Array.isArray?Array.isArray(u):null!=u&&u instanceof Array)},Ot=function(u){return null!=u&&tt(u)===q&&!xt(u)&&u.constructor===Object},Et=function(u){return null!=u&&tt(u)===tt(1)&&!isNaN(u)},o=function(u){if("undefined"!==it)return null!=u&&u instanceof HTMLElement},c=function(u){return g(u)||p(u)},g=function(u){return"collection"===ot(u)&&u._private.single},p=function(u){return"collection"===ot(u)&&!u._private.single},w=function(u){return"core"===ot(u)},S=function(u){return"stylesheet"===ot(u)},C=function(u){return null==u||!(""!==u&&!u.match(/^\s+$/))},ft=function(u){return function(u){return null!=u&&tt(u)===q}(u)&&wt(u.then)},st=function(u,y){y||(y=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var N=[],j=0;j<arguments.length;j++)N.push(arguments[j]);return N.join("$")});var E=function R(){var dt,N=this,j=arguments,gt=y.apply(N,j),pt=R.cache;return(dt=pt[gt])||(dt=pt[gt]=u.apply(N,j)),dt};return E.cache={},E},Mt=st(function(x){return x.replace(/([A-Z])/g,function(u){return"-"+u.toLowerCase()})}),St=st(function(x){return x.replace(/(-\w)/g,function(u){return u[1].toUpperCase()})}),Xt=st(function(x,u){return x+u[0].toUpperCase()+u.substring(1)},function(x,u){return x+"$"+u}),te=function(u){return C(u)?u:u.charAt(0).toUpperCase()+u.substring(1)},Vt="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",zt=function(u,y){return u<y?-1:u>y?1:0},Pt=null!=Object.assign?Object.assign.bind(Object):function(x){for(var u=arguments,y=1;y<u.length;y++){var E=u[y];if(null!=E)for(var R=Object.keys(E),N=0;N<R.length;N++){var j=R[N];x[j]=E[j]}}return x},Bt={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},re=function(u){for(var y=u.map,E=u.keys,R=E.length,N=0;N<R;N++){var j=E[N];if(Ot(j))throw Error("Tried to set map with object key");N<E.length-1?(null==y[j]&&(y[j]={}),y=y[j]):y[j]=u.value}},Ye=function(u){for(var y=u.map,E=u.keys,R=E.length,N=0;N<R;N++){var j=E[N];if(Ot(j))throw Error("Tried to get map with object key");if(null==(y=y[j]))return y}return y},jt=B?B.performance:null,yt=jt&&jt.now?function(){return jt.now()}:function(){return Date.now()},ht=function(){if(B){if(B.requestAnimationFrame)return function(x){B.requestAnimationFrame(x)};if(B.mozRequestAnimationFrame)return function(x){B.mozRequestAnimationFrame(x)};if(B.webkitRequestAnimationFrame)return function(x){B.webkitRequestAnimationFrame(x)};if(B.msRequestAnimationFrame)return function(x){B.msRequestAnimationFrame(x)}}return function(x){x&&setTimeout(function(){x(yt())},1e3/60)}}(),ce=function(u){return ht(u)},ke=yt,Pi=9261,We=65599,si=5381,bn=function(u){for(var R,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pi,E=y;!(R=u.next()).done;)E=E*We+R.value|0;return E},wi=function(u){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pi;return y*We+u|0},je=function(u){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:si;return(y<<5)+y+u|0},Oe=function(u){return 2097152*u[0]+u[1]},oi=function(u,y){return[wi(u[0],y[0]),je(u[1],y[1])]},ei=function(u,y){var E={value:0,done:!1},R=0,N=u.length;return bn({next:function(){return R<N?E.value=u.charCodeAt(R++):E.done=!0,E}},y)},De=function(){return qe(arguments)},qe=function(u){for(var y,E=0;E<u.length;E++){var R=u[E];y=0===E?ei(R):ei(R,y)}return y},ni=!0,ne=null!=console.warn,Qt=null!=console.trace,Zt=Number.MAX_SAFE_INTEGER||9007199254740991,Ut=function(){return!0},xe=function(){return!1},ue=function(){return 0},Re=function(){},pi=function(u){throw new Error(u)},he=function(u){if(void 0===u)return ni;ni=!!u},$e=function(u){!he()||(ne?console.warn(u):(console.log(u),Qt&&console.trace()))},Ei=function(u){return null==u?u:xt(u)?u.slice():Ot(u)?function(u){return Pt({},u)}(u):u},ir=function(u,y){for(y=u="";u++<36;y+=51*u&52?(15^u?8^Math.random()*(20^u?16:4):4).toString(16):"-");return y},bi={},Li=function(){return bi},Ln=function(u){var y=Object.keys(u);return function(E){for(var R={},N=0;N<y.length;N++){var j=y[N],dt=null==E?void 0:E[j];R[j]=void 0===dt?u[j]:dt}return R}},Kn=function(u,y,E){for(var R=u.length-1;R>=0&&(u[R]!==y||(u.splice(R,1),!E));R--);},pr=function(u){u.splice(0,u.length)},Ni=function(u,y,E){return E&&(y=Xt(E,y)),u[y]},xi=function(u,y,E,R){E&&(y=Xt(E,y)),u[y]=R},Ui="undefined"!=typeof Map?Map:function(){function x(){b(this,x),this._obj={}}return G(x,[{key:"set",value:function(y,E){return this._obj[y]=E,this}},{key:"delete",value:function(y){return this._obj[y]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(y){return void 0!==this._obj[y]}},{key:"get",value:function(y){return this._obj[y]}}]),x}(),nr=function(){function x(u){if(b(this,x),this._obj=Object.create(null),this.size=0,null!=u){var y;y=null!=u.instanceString&&u.instanceString()===this.instanceString()?u.toArray():u;for(var E=0;E<y.length;E++)this.add(y[E])}}return G(x,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(y){var E=this._obj;1!==E[y]&&(E[y]=1,this.size++)}},{key:"delete",value:function(y){var E=this._obj;1===E[y]&&(E[y]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(y){return 1===this._obj[y]}},{key:"toArray",value:function(){var y=this;return Object.keys(this._obj).filter(function(E){return y.has(E)})}},{key:"forEach",value:function(y,E){return this.toArray().forEach(y,E)}}]),x}(),mr="undefined"!==("undefined"==typeof Set?"undefined":tt(Set))?Set:nr,Ar=function(u,y){var E=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==u&&void 0!==y&&w(u)){var R=y.group;if(null==R&&(R=y.data&&null!=y.data.source&&null!=y.data.target?"edges":"nodes"),"nodes"===R||"edges"===R){this.length=1,this[0]=this;var N=this._private={cy:u,single:!0,data:y.data||{},position:y.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:R,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!y.selected,selectable:void 0===y.selectable||!!y.selectable,locked:!!y.locked,grabbed:!1,grabbable:void 0===y.grabbable||!!y.grabbable,pannable:void 0===y.pannable?"edges"===R:!!y.pannable,active:!1,classes:new mr,animation:{current:[],queue:[]},rscratch:{},scratch:y.scratch||{},edges:[],children:[],parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==N.position.x&&(N.position.x=0),null==N.position.y&&(N.position.y=0),y.renderedPosition){var j=y.renderedPosition,dt=u.pan(),gt=u.zoom();N.position={x:(j.x-dt.x)/gt,y:(j.y-dt.y)/gt}}var pt=[];xt(y.classes)?pt=y.classes:lt(y.classes)&&(pt=y.classes.split(/\s+/));for(var Ct=0,Rt=pt.length;Ct<Rt;Ct++){var $t=pt[Ct];!$t||""===$t||N.classes.add($t)}this.createEmitter();var ee=y.style||y.css;ee&&($e("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(ee)),(void 0===E||E)&&this.restore()}else pi("An element must be of type `nodes` or `edges`; you specified `"+R+"`")}else pi("An element must have a core reference and parameters set")},hn=function(u){return u={bfs:u.bfs||!u.dfs,dfs:u.dfs||!u.bfs},function(E,R,N){var j;Ot(E)&&!c(E)&&(E=(j=E).roots||j.root,R=j.visit,N=j.directed),N=2!==arguments.length||wt(R)?N:R,R=wt(R)?R:function(){};for(var qt,dt=this._private.cy,gt=E=lt(E)?this.filter(E):E,pt=[],Ct=[],Rt={},$t={},ee={},se=0,ge=this.byGroup(),Ae=ge.nodes,He=ge.edges,ze=0;ze<gt.length;ze++){var ri=gt[ze],ki=ri.id();ri.isNode()&&(pt.unshift(ri),u.bfs&&(ee[ki]=!0,Ct.push(ri)),$t[ki]=0)}var Oi=function(){var Ki=u.bfs?pt.shift():pt.pop(),Ai=Ki.id();if(u.dfs){if(ee[Ai])return"continue";ee[Ai]=!0,Ct.push(Ki)}var Nn,mn=$t[Ai],ln=Rt[Ai],dn=null!=ln?ln.source():null,un=null!=ln?ln.target():null,fn=null==ln?void 0:Ki.same(dn)?un[0]:dn[0];if(!0===(Nn=R(Ki,ln,fn,se++,mn)))return qt=Ki,"break";if(!1===Nn)return"break";for(var Cn=Ki.connectedEdges().filter(function(Wn){return(!N||Wn.source().same(Ki))&&He.has(Wn)}),Ji=0;Ji<Cn.length;Ji++){var Hn=Cn[Ji],Si=Hn.connectedNodes().filter(function(Wn){return!Wn.same(Ki)&&Ae.has(Wn)}),Zn=Si.id();0!==Si.length&&!ee[Zn]&&(pt.push(Si=Si[0]),u.bfs&&(ee[Zn]=!0,Ct.push(Si)),Rt[Zn]=Hn,$t[Zn]=$t[Ai]+1)}};t:for(;0!==pt.length;){var ii=Oi();switch(ii){case"continue":continue;case"break":break t}}for(var Ti=dt.collection(),fi=0;fi<Ct.length;fi++){var Ri=Ct[fi],Ii=Rt[Ri.id()];null!=Ii&&Ti.push(Ii),Ti.push(Ri)}return{path:dt.collection(Ti),found:dt.collection(qt)}}},xr={breadthFirstSearch:hn({bfs:!0}),depthFirstSearch:hn({dfs:!0})};xr.bfs=xr.breadthFirstSearch,xr.dfs=xr.depthFirstSearch;var Hr=Ln({root:null,weight:function(u){return 1},directed:!1}),so={dijkstra:function(u){if(!Ot(u)){var y=arguments;u={root:y[0],weight:y[1],directed:y[2]}}var E=Hr(u),R=E.root,N=E.weight,j=E.directed,dt=this,gt=N,pt=lt(R)?this.filter(R)[0]:R[0],Ct={},Rt={},$t={},ee=this.byGroup(),se=ee.nodes,qt=ee.edges;qt.unmergeBy(function(mn){return mn.isLoop()});for(var ge=function(ln){return Ct[ln.id()]},Ae=function(ln,dn){Ct[ln.id()]=dn,He.updateItem(ln)},He=new J(function(mn,ln){return ge(mn)-ge(ln)}),ze=0;ze<se.length;ze++){var ri=se[ze];Ct[ri.id()]=ri.same(pt)?0:1/0,He.push(ri)}for(var ki=function(ln,dn){for(var Nn,un=(j?ln.edgesTo(dn):ln.edgesWith(dn)).intersect(qt),fn=1/0,Cn=0;Cn<un.length;Cn++){var Ji=un[Cn],Hn=gt(Ji);(Hn<fn||!Nn)&&(fn=Hn,Nn=Ji)}return{edge:Nn,dist:fn}};He.size()>0;){var Oi=He.pop(),ii=ge(Oi),Ti=Oi.id();if($t[Ti]=ii,ii!==1/0)for(var fi=Oi.neighborhood().intersect(se),Ri=0;Ri<fi.length;Ri++){var Ii=fi[Ri],Ci=Ii.id(),Ki=ki(Oi,Ii),Ai=ii+Ki.dist;Ai<ge(Ii)&&(Ae(Ii,Ai),Rt[Ci]={node:Oi,edge:Ki.edge})}}return{distanceTo:function(ln){var dn=lt(ln)?se.filter(ln)[0]:ln[0];return $t[dn.id()]},pathTo:function(ln){var dn=lt(ln)?se.filter(ln)[0]:ln[0],un=[],fn=dn,Nn=fn.id();if(dn.length>0)for(un.unshift(dn);Rt[Nn];){var Cn=Rt[Nn];un.unshift(Cn.edge),un.unshift(Cn.node),Nn=(fn=Cn.node).id()}return dt.spawn(un)}}}},Vr={kruskal:function(u){u=u||function(ze){return 1};for(var y=this.byGroup(),E=y.nodes,R=y.edges,N=E.length,j=new Array(N),dt=E,gt=function(ri){for(var ki=0;ki<j.length;ki++)if(j[ki].has(ri))return ki},pt=0;pt<N;pt++)j[pt]=this.spawn(E[pt]);for(var Ct=R.sort(function(ze,ri){return u(ze)-u(ri)}),Rt=0;Rt<Ct.length;Rt++){var $t=Ct[Rt],ee=$t.source()[0],se=$t.target()[0],qt=gt(ee),ge=gt(se),Ae=j[qt],He=j[ge];qt!==ge&&(dt.merge($t),Ae.merge(He),j.splice(ge,1))}return dt}},Pr=Ln({root:null,goal:null,weight:function(u){return 1},heuristic:function(u){return 0},directed:!1}),ar={aStar:function(u){var y=this.cy(),E=Pr(u),R=E.root,N=E.goal,j=E.heuristic,dt=E.directed,gt=E.weight;R=y.collection(R)[0],N=y.collection(N)[0];var ze,ri,pt=R.id(),Ct=N.id(),Rt={},$t={},ee={},se=new J(function(Nn,Cn){return $t[Nn.id()]-$t[Cn.id()]}),qt=new mr,ge={},Ae={},He=function(Cn,Ji){se.push(Cn),qt.add(Ji)};He(R,pt),Rt[pt]=0,$t[pt]=j(R);for(var ii=0;se.size()>0;){if(ri=(ze=se.pop()).id(),qt.delete(ri),ii++,ri===Ct){for(var Ti=[],fi=N,Ri=Ct,Ii=Ae[Ri];Ti.unshift(fi),null!=Ii&&Ti.unshift(Ii),null!=(fi=ge[Ri]);)Ii=Ae[Ri=fi.id()];return{found:!0,distance:Rt[ri],path:this.spawn(Ti),steps:ii}}ee[ri]=!0;for(var Ci=ze._private.edges,Ki=0;Ki<Ci.length;Ki++){var Ai=Ci[Ki];if(this.hasElementWithId(Ai.id())&&(!dt||Ai.data("source")===ri)){var mn=Ai.source(),ln=Ai.target(),dn=mn.id()!==ri?mn:ln,un=dn.id();if(this.hasElementWithId(un)&&!ee[un]){var fn=Rt[ri]+gt(Ai);if(!qt.has(un)){Rt[un]=fn,$t[un]=fn+j(dn),He(dn,un),ge[un]=ze,Ae[un]=Ai;continue}fn<Rt[un]&&(Rt[un]=fn,$t[un]=fn+j(dn),ge[un]=ze,Ae[un]=Ai)}}}}return{found:!1,distance:void 0,path:void 0,steps:ii}}},Vs=Ln({weight:function(u){return 1},directed:!1}),qs={floydWarshall:function(u){for(var y=this.cy(),E=Vs(u),N=E.directed,j=E.weight,dt=this.byGroup(),gt=dt.nodes,pt=dt.edges,Ct=gt.length,Rt=Ct*Ct,$t=function(Hn){return gt.indexOf(Hn)},ee=function(Hn){return gt[Hn]},se=new Array(Rt),qt=0;qt<Rt;qt++){var ge=qt%Ct;se[qt]=(qt-ge)/Ct===ge?0:1/0}for(var He=new Array(Rt),ze=new Array(Rt),ri=0;ri<pt.length;ri++){var ki=pt[ri],Oi=ki.source()[0],ii=ki.target()[0];if(Oi!==ii){var Ti=$t(Oi),fi=$t(ii),Ri=Ti*Ct+fi,Ii=j(ki);if(se[Ri]>Ii&&(se[Ri]=Ii,He[Ri]=fi,ze[Ri]=ki),!N){var Ci=fi*Ct+Ti;!N&&se[Ci]>Ii&&(se[Ci]=Ii,He[Ci]=Ti,ze[Ci]=ki)}}}for(var Ki=0;Ki<Ct;Ki++)for(var Ai=0;Ai<Ct;Ai++)for(var mn=Ai*Ct+Ki,ln=0;ln<Ct;ln++){var dn=Ai*Ct+ln,un=Ki*Ct+ln;se[mn]+se[un]<se[dn]&&(se[dn]=se[mn]+se[un],He[dn]=He[mn])}var Nn=function(Hn){return $t(function(Hn){return(lt(Hn)?y.filter(Hn):Hn)[0]}(Hn))};return{distance:function(Hn,Si){var Zn=Nn(Hn),Wn=Nn(Si);return se[Zn*Ct+Wn]},path:function(Hn,Si){var Zn=Nn(Hn),Wn=Nn(Si),pn=ee(Zn);if(Zn===Wn)return pn.collection();if(null==He[Zn*Ct+Wn])return y.collection();var kn=y.collection();for(kn.merge(pn);Zn!==Wn;)kn.merge(ze[Zn*Ct+(Zn=He[Zn*Ct+Wn])]),kn.merge(ee(Zn));return kn}}}},js=Ln({weight:function(u){return 1},directed:!1,root:null}),Zo={bellmanFord:function(u){var y=this,E=js(u),N=E.directed,j=E.root,dt=E.weight,gt=this,pt=this.cy(),Ct=this.byGroup(),Rt=Ct.edges,$t=Ct.nodes,ee=$t.length,se=new Ui,qt=!1;j=pt.collection(j)[0],Rt.unmergeBy(function(Wn){return Wn.isLoop()});for(var Ae=Rt.length,He=function(pn){var kn=se.get(pn.id());return kn||(kn={},se.set(pn.id(),kn)),kn},ze=function(pn){return(lt(pn)?pt.$(pn):pn)[0]},Oi=0;Oi<ee;Oi++){var ii=$t[Oi],Ti=He(ii);Ti.dist=ii.same(j)?0:1/0,Ti.pred=null,Ti.edge=null}for(var fi=!1,Ri=function(pn,kn,Qn,rr,_r,go){var yo=rr.dist+go;yo<_r.dist&&!Qn.same(rr.edge)&&(_r.dist=yo,_r.pred=pn,_r.edge=Qn,fi=!0)},Ii=1;Ii<ee;Ii++){fi=!1;for(var Ci=0;Ci<Ae;Ci++){var Ki=Rt[Ci],Ai=Ki.source(),mn=Ki.target(),ln=dt(Ki),dn=He(Ai),un=He(mn);Ri(Ai,0,Ki,dn,un,ln),N||Ri(mn,0,Ki,un,dn,ln)}if(!fi)break}if(fi)for(var fn=0;fn<Ae;fn++){var Nn=Rt[fn],Cn=Nn.source(),Ji=Nn.target(),Hn=dt(Nn),Si=He(Cn).dist,Zn=He(Ji).dist;if(Si+Hn<Zn||!N&&Zn+Hn<Si){$e("Graph contains a negative weight cycle for Bellman-Ford"),qt=!0;break}}return{distanceTo:function(pn){return He(ze(pn)).dist},pathTo:function(pn){for(var kn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j,Qn=ze(pn),rr=[],_r=Qn;;){if(null==_r)return y.spawn();var go=He(_r),yo=go.edge,Tr=go.pred;if(rr.unshift(_r[0]),_r.same(kn)&&rr.length>0)break;null!=yo&&rr.unshift(yo),_r=Tr}return gt.spawn(rr)},hasNegativeWeightCycle:qt,negativeWeightCycles:[]}}},ds=Math.sqrt(2),Gr=function(u,y,E){0===E.length&&pi("Karger-Stein must be run on a connected (sub)graph");for(var R=E[u],dt=y[R[1]],gt=y[R[2]],pt=E,Ct=pt.length-1;Ct>=0;Ct--){var Rt=pt[Ct],$t=Rt[1],ee=Rt[2];(y[$t]===dt&&y[ee]===gt||y[$t]===gt&&y[ee]===dt)&&pt.splice(Ct,1)}for(var se=0;se<pt.length;se++){var qt=pt[se];qt[1]===gt?(pt[se]=qt.slice(),pt[se][1]=dt):qt[2]===gt&&(pt[se]=qt.slice(),pt[se][2]=dt)}for(var ge=0;ge<y.length;ge++)y[ge]===gt&&(y[ge]=dt);return pt},qo=function(u,y,E,R){for(;E>R;){var N=Math.floor(Math.random()*y.length);y=Gr(N,u,y),E--}return y},as={kargerStein:function(){var u=this,y=this.byGroup(),E=y.nodes,R=y.edges;R.unmergeBy(function(un){return un.isLoop()});var N=E.length,j=R.length,dt=Math.ceil(Math.pow(Math.log(N)/Math.LN2,2)),gt=Math.floor(N/ds);if(!(N<2)){for(var pt=[],Ct=0;Ct<j;Ct++){var Rt=R[Ct];pt.push([Ct,E.indexOf(Rt.source()),E.indexOf(Rt.target())])}for(var $t=1/0,ee=[],se=new Array(N),qt=new Array(N),ge=new Array(N),Ae=function(fn,Nn){for(var Cn=0;Cn<N;Cn++)Nn[Cn]=fn[Cn]},He=0;He<=dt;He++){for(var ze=0;ze<N;ze++)qt[ze]=ze;var ri=qo(qt,pt.slice(),N,gt),ki=ri.slice();Ae(qt,ge);var Oi=qo(qt,ri,gt,2),ii=qo(ge,ki,gt,2);Oi.length<=ii.length&&Oi.length<$t?($t=Oi.length,ee=Oi,Ae(qt,se)):ii.length<=Oi.length&&ii.length<$t&&($t=ii.length,ee=ii,Ae(ge,se))}for(var Ti=this.spawn(ee.map(function(un){return R[un[0]]})),fi=this.spawn(),Ri=this.spawn(),Ii=se[0],Ci=0;Ci<se.length;Ci++){var Ai=E[Ci];se[Ci]===Ii?fi.merge(Ai):Ri.merge(Ai)}var mn=function(fn){var Nn=u.spawn();return fn.forEach(function(Cn){Nn.merge(Cn),Cn.connectedEdges().forEach(function(Ji){u.contains(Ji)&&!Ti.contains(Ji)&&Nn.merge(Ji)})}),Nn},ln=[mn(fi),mn(Ri)];return{cut:Ti,components:ln,partition1:fi,partition2:Ri}}pi("At least 2 nodes are required for Karger-Stein algorithm")}},Ho=function(u,y,E){return{x:u.x*y+E.x,y:u.y*y+E.y}},ea=function(u,y,E){return{x:(u.x-E.x)/y,y:(u.y-E.y)/y}},Qr=function(u){return{x:u[0],y:u[1]}},Xl=function(u,y){return Math.atan2(y,u)-Math.PI/2},Tl=Math.log2||function(x){return Math.log(x)/Math.log(2)},us=function(u){return u>0?1:u<0?-1:0},Pl=function(u,y){return Math.sqrt(ia(u,y))},ia=function(u,y){var E=y.x-u.x,R=y.y-u.y;return E*E+R*R},Zl=function(u){for(var y=u.length,E=0,R=0;R<y;R++)E+=u[R];for(var N=0;N<y;N++)u[N]=u[N]/E;return u},Go=function(u,y,E,R){return(1-R)*(1-R)*u+2*(1-R)*R*y+R*R*E},ns=function(u,y,E,R){return{x:Go(u.x,y.x,E.x,R),y:Go(u.y,y.y,E.y,R)}},xs=function(u,y,E){return Math.max(u,Math.min(E,y))},ko=function(u){if(null==u)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=u.x1&&null!=u.y1){if(null!=u.x2&&null!=u.y2&&u.x2>=u.x1&&u.y2>=u.y1)return{x1:u.x1,y1:u.y1,x2:u.x2,y2:u.y2,w:u.x2-u.x1,h:u.y2-u.y1};if(null!=u.w&&null!=u.h&&u.w>=0&&u.h>=0)return{x1:u.x1,y1:u.y1,x2:u.x1+u.w,y2:u.y1+u.h,w:u.w,h:u.h}}},Rs=function(u,y){u.x1=Math.min(u.x1,y.x1),u.x2=Math.max(u.x2,y.x2),u.w=u.x2-u.x1,u.y1=Math.min(u.y1,y.y1),u.y2=Math.max(u.y2,y.y2),u.h=u.y2-u.y1},Ou=function(u,y,E){u.x1=Math.min(u.x1,y),u.x2=Math.max(u.x2,y),u.w=u.x2-u.x1,u.y1=Math.min(u.y1,E),u.y2=Math.max(u.y2,E),u.h=u.y2-u.y1},ja=function(u){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return u.x1-=y,u.x2+=y,u.y1-=y,u.y2+=y,u.w=u.x2-u.x1,u.h=u.y2-u.y1,u},ql=function(u){var E,R,N,j,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===y.length)E=R=N=j=y[0];else if(2===y.length)E=N=y[0],j=R=y[1];else if(4===y.length){var dt=Z(y,4);E=dt[0],R=dt[1],N=dt[2],j=dt[3]}return u.x1-=j,u.x2+=R,u.y1-=E,u.y2+=N,u.w=u.x2-u.x1,u.h=u.y2-u.y1,u},or=function(u,y){u.x1=y.x1,u.y1=y.y1,u.x2=y.x2,u.y2=y.y2,u.w=u.x2-u.x1,u.h=u.y2-u.y1},hh=function(u,y){return!(u.x1>y.x2||y.x1>u.x2||u.x2<y.x1||y.x2<u.x1||u.y2<y.y1||y.y2<u.y1||u.y1>y.y2||y.y1>u.y2)},ti=function(u,y,E){return u.x1<=y&&y<=u.x2&&u.y1<=E&&E<=u.y2},hr=function(u,y){return ti(u,y.x,y.y)},Iu=function(u,y){return ti(u,y.x1,y.y1)&&ti(u,y.x2,y.y2)},za=function(u,y,E,R,N,j,dt){var Rt,gt=vi(N,j),pt=N/2,Ct=j/2,ee=R-Ct-dt;if((Rt=Dn(u,y,E,R,E-pt+gt-dt,ee,E+pt-gt+dt,ee,!1)).length>0)return Rt;var ge=E+pt+dt;if((Rt=Dn(u,y,E,R,ge,R-Ct+gt-dt,ge,R+Ct-gt+dt,!1)).length>0)return Rt;var ki=R+Ct+dt;if((Rt=Dn(u,y,E,R,E-pt+gt-dt,ki,E+pt-gt+dt,ki,!1)).length>0)return Rt;var Ci,Ti=E-pt-dt;if((Rt=Dn(u,y,E,R,Ti,R-Ct+gt-dt,Ti,R+Ct-gt+dt,!1)).length>0)return Rt;var Ki=E-pt+gt,Ai=R-Ct+gt;if((Ci=an(u,y,E,R,Ki,Ai,gt+dt)).length>0&&Ci[0]<=Ki&&Ci[1]<=Ai)return[Ci[0],Ci[1]];var mn=E+pt-gt,ln=R-Ct+gt;if((Ci=an(u,y,E,R,mn,ln,gt+dt)).length>0&&Ci[0]>=mn&&Ci[1]<=ln)return[Ci[0],Ci[1]];var dn=E+pt-gt,un=R+Ct-gt;if((Ci=an(u,y,E,R,dn,un,gt+dt)).length>0&&Ci[0]>=dn&&Ci[1]>=un)return[Ci[0],Ci[1]];var fn=E-pt+gt,Nn=R+Ct-gt;return(Ci=an(u,y,E,R,fn,Nn,gt+dt)).length>0&&Ci[0]<=fn&&Ci[1]>=Nn?[Ci[0],Ci[1]]:[]},pa=function(u,y,E,R,N,j,dt){var gt=dt,pt=Math.min(E,N),Ct=Math.max(E,N),Rt=Math.min(R,j),$t=Math.max(R,j);return pt-gt<=u&&u<=Ct+gt&&Rt-gt<=y&&y<=$t+gt},ch=function(u,y,E,R,N,j,dt,gt,pt){var Ct_x1=Math.min(E,dt,N)-pt,Ct_x2=Math.max(E,dt,N)+pt,Ct_y1=Math.min(R,gt,j)-pt,Ct_y2=Math.max(R,gt,j)+pt;return!(u<Ct_x1||u>Ct_x2||y<Ct_y1||y>Ct_y2)},fu=function(u,y,E,R,N,j,dt,gt){var ee=[];!function(u,y,E,R,N){var dt,gt,pt,Ct,Rt,$t,ee,se;0===u&&(u=1e-5),pt=-27*(R/=u)+(y/=u)*(9*(E/=u)-y*y*2),dt=(gt=(3*E-y*y)/9)*gt*gt+(pt/=54)*pt,N[1]=0,ee=y/3,dt>0?(Rt=(Rt=pt+Math.sqrt(dt))<0?-Math.pow(-Rt,1/3):Math.pow(Rt,1/3),$t=($t=pt-Math.sqrt(dt))<0?-Math.pow(-$t,1/3):Math.pow($t,1/3),N[0]=-ee+Rt+$t,N[4]=N[2]=-(ee+=(Rt+$t)/2),ee=Math.sqrt(3)*(-$t+Rt)/2,N[3]=ee,N[5]=-ee):(N[5]=N[3]=0,0===dt?(se=pt<0?-Math.pow(-pt,1/3):Math.pow(pt,1/3),N[0]=2*se-ee,N[4]=N[2]=-(se+ee)):(Ct=(gt=-gt)*gt*gt,Ct=Math.acos(pt/Math.sqrt(Ct)),se=2*Math.sqrt(gt),N[0]=-ee+se*Math.cos(Ct/3),N[2]=-ee+se*Math.cos((Ct+2*Math.PI)/3),N[4]=-ee+se*Math.cos((Ct+4*Math.PI)/3)))}(1*E*E-4*E*N+2*E*dt+4*N*N-4*N*dt+dt*dt+R*R-4*R*j+2*R*gt+4*j*j-4*j*gt+gt*gt,9*E*N-3*E*E-3*E*dt-6*N*N+3*N*dt+9*R*j-3*R*R-3*R*gt-6*j*j+3*j*gt,3*E*E-6*E*N+E*dt-E*u+2*N*N+2*N*u-dt*u+3*R*R-6*R*j+R*gt-R*y+2*j*j+2*j*y-gt*y,1*E*N-E*E+E*u-N*u+R*j-R*R+R*y-j*y,ee);for(var qt=[],ge=0;ge<6;ge+=2)Math.abs(ee[ge+1])<1e-7&&ee[ge]>=0&&ee[ge]<=1&&qt.push(ee[ge]);qt.push(1),qt.push(0);for(var He,ze,ri,Ae=-1,ki=0;ki<qt.length;ki++)He=Math.pow(1-qt[ki],2)*E+2*(1-qt[ki])*qt[ki]*N+qt[ki]*qt[ki]*dt,ze=Math.pow(1-qt[ki],2)*R+2*(1-qt[ki])*qt[ki]*j+qt[ki]*qt[ki]*gt,ri=Math.pow(He-u,2)+Math.pow(ze-y,2),Ae>=0?ri<Ae&&(Ae=ri):Ae=ri;return Ae},Yu=function(u,y,E,R,N,j){var dt=[u-E,y-R],gt=[N-E,j-R],pt=gt[0]*gt[0]+gt[1]*gt[1],Ct=dt[0]*dt[0]+dt[1]*dt[1],Rt=dt[0]*gt[0]+dt[1]*gt[1],$t=Rt*Rt/pt;return Rt<0?Ct:$t>pt?(u-N)*(u-N)+(y-j)*(y-j):Ct-$t},_i=function(u,y,E){for(var R,N,j,dt,pt=0,Ct=0;Ct<E.length/2;Ct++)if(N=E[2*Ct+1],Ct+1<E.length/2?(j=E[2*(Ct+1)],dt=E[2*(Ct+1)+1]):(j=E[2*(Ct+1-E.length/2)],dt=E[2*(Ct+1-E.length/2)+1]),(R=E[2*Ct])!=u||j!=u){if(!(R>=u&&u>=j||R<=u&&u<=j))continue;(u-R)/(j-R)*(dt-N)+N>y&&pt++}return pt%2!=0},be=function(u,y,E,R,N,j,dt,gt,pt){var Rt,qt,Ct=new Array(E.length);null!=gt[0]?(Rt=Math.atan(gt[1]/gt[0]),gt[0]<0?Rt+=Math.PI/2:Rt=-Rt-Math.PI/2):Rt=gt;for(var $t=Math.cos(-Rt),ee=Math.sin(-Rt),se=0;se<Ct.length/2;se++)Ct[2*se]=j/2*(E[2*se]*$t-E[2*se+1]*ee),Ct[2*se+1]=dt/2*(E[2*se+1]*$t+E[2*se]*ee),Ct[2*se]+=R,Ct[2*se+1]+=N;if(pt>0){var ge=Qe(Ct,-pt);qt=Be(ge)}else qt=Ct;return _i(u,y,qt)},Be=function(u){for(var dt,gt,pt,Ct,y=new Array(u.length/2),Rt=0;Rt<u.length/4;Rt++){Rt<u.length/4-1?(dt=u[4*(Rt+1)],gt=u[4*(Rt+1)+1],pt=u[4*(Rt+1)+2],Ct=u[4*(Rt+1)+3]):(dt=u[0],gt=u[1],pt=u[2],Ct=u[3]);var $t=Dn(u[4*Rt],u[4*Rt+1],u[4*Rt+2],u[4*Rt+3],dt,gt,pt,Ct,!0);y[2*Rt]=$t[0],y[2*Rt+1]=$t[1]}return y},Qe=function(u,y){for(var R,N,j,dt,E=new Array(2*u.length),gt=0;gt<u.length/2;gt++){gt<u.length/2-1?(j=u[2*(gt+1)],dt=u[2*(gt+1)+1]):(j=u[0],dt=u[1]);var pt=dt-(N=u[2*gt+1]),Ct=-(j-(R=u[2*gt])),Rt=Math.sqrt(pt*pt+Ct*Ct),$t=pt/Rt,ee=Ct/Rt;E[4*gt]=R+$t*y,E[4*gt+1]=N+ee*y,E[4*gt+2]=j+$t*y,E[4*gt+3]=dt+ee*y}return E},qi=function(u,y,E,R,N,j,dt){return u-=N,y-=j,(u/=E/2+dt)*u+(y/=R/2+dt)*y<=1},an=function(u,y,E,R,N,j,dt){var gt=[E-u,R-y],pt=[u-N,y-j],Ct=gt[0]*gt[0]+gt[1]*gt[1],Rt=2*(pt[0]*gt[0]+pt[1]*gt[1]),ee=Rt*Rt-4*Ct*(pt[0]*pt[0]+pt[1]*pt[1]-dt*dt);if(ee<0)return[];var se=(-Rt+Math.sqrt(ee))/(2*Ct),qt=(-Rt-Math.sqrt(ee))/(2*Ct),ge=Math.min(se,qt),Ae=Math.max(se,qt),He=[];if(ge>=0&&ge<=1&&He.push(ge),Ae>=0&&Ae<=1&&He.push(Ae),0===He.length)return[];var ze=He[0]*gt[0]+u,ri=He[0]*gt[1]+y;return He.length>1?He[0]==He[1]?[ze,ri]:[ze,ri,He[1]*gt[0]+u,He[1]*gt[1]+y]:[ze,ri]},nn=function(u,y,E){return y<=u&&u<=E||E<=u&&u<=y?u:u<=y&&y<=E||E<=y&&y<=u?y:E},Dn=function(u,y,E,R,N,j,dt,gt,pt){var Ct=u-N,Rt=E-u,$t=dt-N,ee=y-j,se=R-y,qt=gt-j,ge=$t*ee-qt*Ct,Ae=Rt*ee-se*Ct,He=qt*Rt-$t*se;if(0!==He){var ze=ge/He,ri=Ae/He;return-.001<=ze&&ze<=1.001&&-.001<=ri&&ri<=1.001||pt?[u+ze*Rt,y+ze*se]:[]}return 0===ge||0===Ae?nn(u,E,dt)===dt?[dt,gt]:nn(u,E,N)===N?[N,j]:nn(N,dt,E)===E?[E,R]:[]:[]},Pn=function(u,y,E,R,N,j,dt,gt){var Ct,ee,pt=[],Rt=new Array(E.length),$t=!0;if(null==j&&($t=!1),$t){for(var se=0;se<Rt.length/2;se++)Rt[2*se]=E[2*se]*j+R,Rt[2*se+1]=E[2*se+1]*dt+N;if(gt>0){var qt=Qe(Rt,-gt);ee=Be(qt)}else ee=Rt}else ee=E;for(var He,ze,ri=0;ri<ee.length/2;ri++)ri<ee.length/2-1?(He=ee[2*(ri+1)],ze=ee[2*(ri+1)+1]):(He=ee[0],ze=ee[1]),0!==(Ct=Dn(u,y,R,N,ee[2*ri],ee[2*ri+1],He,ze)).length&&pt.push(Ct[0],Ct[1]);return pt},ie=function(u,y,E){var R=[u[0]-y[0],u[1]-y[1]],N=Math.sqrt(R[0]*R[0]+R[1]*R[1]),j=(N-E)/N;return j<0&&(j=1e-5),[y[0]+j*R[0],y[1]+j*R[1]]},Le=function(u,y){var E=Ve(u,y);return me(E)},me=function(u){for(var y,E,R=u.length/2,N=1/0,j=1/0,dt=-1/0,gt=-1/0,pt=0;pt<R;pt++)y=u[2*pt],E=u[2*pt+1],N=Math.min(N,y),dt=Math.max(dt,y),j=Math.min(j,E),gt=Math.max(gt,E);for(var Ct=2/(dt-N),Rt=2/(gt-j),$t=0;$t<R;$t++)y=u[2*$t]=u[2*$t]*Ct,E=u[2*$t+1]=u[2*$t+1]*Rt,N=Math.min(N,y),dt=Math.max(dt,y),j=Math.min(j,E),gt=Math.max(gt,E);if(j<-1)for(var ee=0;ee<R;ee++)E=u[2*ee+1]=u[2*ee+1]+(-1-j);return u},Ve=function(u,y){var E=1/u*2*Math.PI,R=u%2==0?Math.PI/2+E/2:Math.PI/2;R+=y;for(var j,N=new Array(2*u),dt=0;dt<u;dt++)j=dt*E+R,N[2*dt]=Math.cos(j),N[2*dt+1]=Math.sin(-j);return N},vi=function(u,y){return Math.min(u/4,y/4,8)},yi=function(u,y){return Math.min(u/10,y/10,8)},Cr=function(u,y){return{heightOffset:Math.min(15,.05*y),widthOffset:Math.min(100,.25*u),ctrlPtOffsetPct:.05}},rn=Ln({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(u){return 1}}),gn={pageRank:function(u){for(var y=rn(u),E=y.dampingFactor,R=y.precision,N=y.iterations,j=y.weight,dt=this._private.cy,gt=this.byGroup(),pt=gt.nodes,Ct=gt.edges,Rt=pt.length,ee=Ct.length,se=new Array(Rt*Rt),qt=new Array(Rt),ge=(1-E)/Rt,Ae=0;Ae<Rt;Ae++){for(var He=0;He<Rt;He++)se[Ae*Rt+He]=0;qt[Ae]=0}for(var ri=0;ri<ee;ri++){var ki=Ct[ri],Oi=ki.data("source"),ii=ki.data("target");if(Oi!==ii){var Ti=pt.indexOfId(Oi),fi=pt.indexOfId(ii),Ri=j(ki);se[fi*Rt+Ti]+=Ri,qt[Ti]+=Ri}}for(var Ci=1/Rt+ge,Ki=0;Ki<Rt;Ki++)if(0===qt[Ki])for(var Ai=0;Ai<Rt;Ai++)se[Ai*Rt+Ki]=Ci;else for(var ln=0;ln<Rt;ln++){var dn=ln*Rt+Ki;se[dn]=se[dn]/qt[Ki]+ge}for(var Nn,un=new Array(Rt),fn=new Array(Rt),Cn=0;Cn<Rt;Cn++)un[Cn]=1;for(var Ji=0;Ji<N;Ji++){for(var Hn=0;Hn<Rt;Hn++)fn[Hn]=0;for(var Si=0;Si<Rt;Si++)for(var Zn=0;Zn<Rt;Zn++)fn[Si]+=se[Si*Rt+Zn]*un[Zn];Zl(fn),Nn=un,un=fn,fn=Nn;for(var pn=0,kn=0;kn<Rt;kn++){var Qn=Nn[kn]-un[kn];pn+=Qn*Qn}if(pn<R)break}return{rank:function(go){return go=dt.collection(go)[0],un[pt.indexOf(go)]}}}},wn=Ln({root:null,weight:function(u){return 1},directed:!1,alpha:0}),Mn={degreeCentralityNormalized:function(u){u=wn(u);var y=this.cy(),E=this.nodes(),R=E.length;if(u.directed){for(var Ct={},Rt={},$t=0,ee=0,se=0;se<R;se++){var qt=E[se],ge=qt.id();u.root=qt;var Ae=this.degreeCentrality(u);$t<Ae.indegree&&($t=Ae.indegree),ee<Ae.outdegree&&(ee=Ae.outdegree),Ct[ge]=Ae.indegree,Rt[ge]=Ae.outdegree}return{indegree:function(ze){return 0==$t?0:(lt(ze)&&(ze=y.filter(ze)),Ct[ze.id()]/$t)},outdegree:function(ze){return 0===ee?0:(lt(ze)&&(ze=y.filter(ze)),Rt[ze.id()]/ee)}}}for(var N={},j=0,dt=0;dt<R;dt++){var gt=E[dt];u.root=gt;var pt=this.degreeCentrality(u);j<pt.degree&&(j=pt.degree),N[gt.id()]=pt.degree}return{degree:function(ze){return 0===j?0:(lt(ze)&&(ze=y.filter(ze)),N[ze.id()]/j)}}},degreeCentrality:function(u){u=wn(u);var y=this.cy(),E=this,N=u.root,j=u.weight,dt=u.directed,gt=u.alpha;if(N=y.collection(N)[0],dt){for(var ee=N.connectedEdges(),se=ee.filter(function(Oi){return Oi.target().same(N)&&E.has(Oi)}),qt=ee.filter(function(Oi){return Oi.source().same(N)&&E.has(Oi)}),ge=se.length,Ae=qt.length,He=0,ze=0,ri=0;ri<se.length;ri++)He+=j(se[ri]);for(var ki=0;ki<qt.length;ki++)ze+=j(qt[ki]);return{indegree:Math.pow(ge,1-gt)*Math.pow(He,gt),outdegree:Math.pow(Ae,1-gt)*Math.pow(ze,gt)}}for(var pt=N.connectedEdges().intersection(E),Ct=pt.length,Rt=0,$t=0;$t<pt.length;$t++)Rt+=j(pt[$t]);return{degree:Math.pow(Ct,1-gt)*Math.pow(Rt,gt)}}};Mn.dc=Mn.degreeCentrality,Mn.dcn=Mn.degreeCentralityNormalised=Mn.degreeCentralityNormalized;var vr=Ln({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Qo={closenessCentralityNormalized:function(u){for(var y=vr(u),E=y.harmonic,R=y.weight,N=y.directed,j=this.cy(),dt={},gt=0,pt=this.nodes(),Ct=this.floydWarshall({weight:R,directed:N}),Rt=0;Rt<pt.length;Rt++){for(var $t=0,ee=pt[Rt],se=0;se<pt.length;se++)if(Rt!==se){var qt=Ct.distance(ee,pt[se]);$t+=E?1/qt:qt}E||($t=1/$t),gt<$t&&(gt=$t),dt[ee.id()]=$t}return{closeness:function(Ae){return 0==gt?0:(Ae=lt(Ae)?j.filter(Ae)[0].id():Ae.id(),dt[Ae]/gt)}}},closenessCentrality:function(u){var y=vr(u),E=y.root,R=y.weight,N=y.directed,j=y.harmonic;E=this.filter(E)[0];for(var dt=this.dijkstra({root:E,weight:R,directed:N}),gt=0,pt=this.nodes(),Ct=0;Ct<pt.length;Ct++){var Rt=pt[Ct];if(!Rt.same(E)){var $t=dt.distanceTo(Rt);gt+=j?1/$t:$t}}return j?gt:1/gt}};Qo.cc=Qo.closenessCentrality,Qo.ccn=Qo.closenessCentralityNormalised=Qo.closenessCentralityNormalized;var zn=Ln({weight:null,directed:!1}),Ls={betweennessCentrality:function(u){for(var y=zn(u),E=y.directed,R=y.weight,N=null!=R,j=this.cy(),dt=this.nodes(),gt={},pt={},Ct=0,Rt={set:function(ze,ri){pt[ze]=ri,ri>Ct&&(Ct=ri)},get:function(ze){return pt[ze]}},$t=0;$t<dt.length;$t++){var ee=dt[$t],se=ee.id();gt[se]=E?ee.outgoers().nodes():ee.openNeighborhood().nodes(),Rt.set(se,0)}for(var qt=function(ze){for(var ri=dt[ze].id(),ki=[],Oi={},ii={},Ti={},fi=new J(function(Zn,Wn){return Ti[Zn]-Ti[Wn]}),Ri=0;Ri<dt.length;Ri++){var Ii=dt[Ri].id();Oi[Ii]=[],ii[Ii]=0,Ti[Ii]=1/0}for(ii[ri]=1,Ti[ri]=0,fi.push(ri);!fi.empty();){var Ci=fi.pop();if(ki.push(Ci),N)for(var Ki=0;Ki<gt[Ci].length;Ki++){var ln,Ai=gt[Ci][Ki],mn=j.getElementById(Ci);ln=mn.edgesTo(Ai).length>0?mn.edgesTo(Ai)[0]:Ai.edgesTo(mn)[0];var dn=R(ln);Ai=Ai.id(),Ti[Ai]>Ti[Ci]+dn&&(Ti[Ai]=Ti[Ci]+dn,fi.nodes.indexOf(Ai)<0?fi.push(Ai):fi.updateItem(Ai),ii[Ai]=0,Oi[Ai]=[]),Ti[Ai]==Ti[Ci]+dn&&(ii[Ai]=ii[Ai]+ii[Ci],Oi[Ai].push(Ci))}else for(var un=0;un<gt[Ci].length;un++){var fn=gt[Ci][un].id();Ti[fn]==1/0&&(fi.push(fn),Ti[fn]=Ti[Ci]+1),Ti[fn]==Ti[Ci]+1&&(ii[fn]=ii[fn]+ii[Ci],Oi[fn].push(Ci))}}for(var Nn={},Cn=0;Cn<dt.length;Cn++)Nn[dt[Cn].id()]=0;for(;ki.length>0;){for(var Ji=ki.pop(),Hn=0;Hn<Oi[Ji].length;Hn++){var Si=Oi[Ji][Hn];Nn[Si]=Nn[Si]+ii[Si]/ii[Ji]*(1+Nn[Ji])}Ji!=dt[ze].id()&&Rt.set(Ji,Rt.get(Ji)+Nn[Ji])}},ge=0;ge<dt.length;ge++)qt(ge);var Ae={betweenness:function(ze){var ri=j.collection(ze).id();return Rt.get(ri)},betweennessNormalized:function(ze){if(0==Ct)return 0;var ri=j.collection(ze).id();return Rt.get(ri)/Ct}};return Ae.betweennessNormalised=Ae.betweennessNormalized,Ae}};Ls.bc=Ls.betweennessCentrality;var jr=Ln({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(x){return 1}]}),ka=function(u,y){for(var E=0,R=0;R<y.length;R++)E+=y[R](u);return E},Qa=function(u,y){for(var E,R=0;R<y;R++){E=0;for(var N=0;N<y;N++)E+=u[N*y+R];for(var j=0;j<y;j++)u[j*y+R]=u[j*y+R]/E}},Ac=function(u,y,E){for(var R=new Array(E*E),N=0;N<E;N++){for(var j=0;j<E;j++)R[N*E+j]=0;for(var dt=0;dt<E;dt++)for(var gt=0;gt<E;gt++)R[N*E+gt]+=u[N*E+dt]*y[dt*E+gt]}return R},Yn=function(u,y,E){for(var R=u.slice(0),N=1;N<E;N++)u=Ac(u,R,y);return u},no=function(u,y,E){for(var R=new Array(y*y),N=0;N<y*y;N++)R[N]=Math.pow(u[N],E);return Qa(R,y),R},Jr=function(u,y,E,R){for(var N=0;N<E;N++)if(Math.round(u[N]*Math.pow(10,R))/Math.pow(10,R)!=Math.round(y[N]*Math.pow(10,R))/Math.pow(10,R))return!1;return!0},Us=function(u,y){for(var E=0;E<u.length;E++)if(!y[E]||u[E].id()!==y[E].id())return!1;return!0},Fe=function(u){for(var y=this.nodes(),E=this.edges(),R=this.cy(),N=function(u){return jr(u)}(u),j={},dt=0;dt<y.length;dt++)j[y[dt].id()]=dt;for(var Rt,gt=y.length,pt=gt*gt,Ct=new Array(pt),$t=0;$t<pt;$t++)Ct[$t]=0;for(var ee=0;ee<E.length;ee++){var se=E[ee],qt=j[se.source().id()],ge=j[se.target().id()],Ae=ka(se,N.attributes);Ct[qt*gt+ge]+=Ae,Ct[ge*gt+qt]+=Ae}(function(u,y,E){for(var R=0;R<y;R++)u[R*y+R]=E})(Ct,gt,N.multFactor),Qa(Ct,gt);for(var He=!0,ze=0;He&&ze<N.maxIterations;)He=!1,Rt=Yn(Ct,gt,N.expandFactor),Ct=no(Rt,gt,N.inflateFactor),Jr(Ct,Rt,pt,4)||(He=!0),ze++;var ri=function(u,y,E,R){for(var N=[],j=0;j<y;j++){for(var dt=[],gt=0;gt<y;gt++)Math.round(1e3*u[j*y+gt])/1e3>0&&dt.push(E[gt]);0!==dt.length&&N.push(R.collection(dt))}return N}(Ct,gt,y,R);return ri=function(u){for(var y=0;y<u.length;y++)for(var E=0;E<u.length;E++)y!=E&&Us(u[y],u[E])&&u.splice(E,1);return u}(ri),ri},It={markovClustering:Fe,mcl:Fe},Lt=function(u){return u},ae=function(u,y){return Math.abs(y-u)},Ue=function(u,y,E){return u+ae(y,E)},li=function(u,y,E){return u+Math.pow(E-y,2)},Vi=function(u){return Math.sqrt(u)},Hi=function(u,y,E){return Math.max(u,ae(y,E))},cn=function(u,y,E,R,N){for(var j=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Lt,dt=R,Ct=0;Ct<u;Ct++)dt=N(dt,y(Ct),E(Ct));return j(dt)},Fn={euclidean:function(u,y,E){return u>=2?cn(u,y,E,0,li,Vi):cn(u,y,E,0,Ue)},squaredEuclidean:function(u,y,E){return cn(u,y,E,0,li)},manhattan:function(u,y,E){return cn(u,y,E,0,Ue)},max:function(u,y,E){return cn(u,y,E,-1/0,Hi)}};function cr(x,u,y,E,R,N){var j;return j=wt(x)?x:Fn[x]||Fn.euclidean,0===u&&wt(x)?j(R,N):j(u,y,E,R,N)}Fn["squared-euclidean"]=Fn.squaredEuclidean,Fn.squaredeuclidean=Fn.squaredEuclidean;var Mr=Ln({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),uo=function(u){return Mr(u)},xo=function(u,y,E,R,N){var dt="kMedoids"!==N?function(Rt){return E[Rt]}:function(Rt){return R[Rt](E)};return cr(u,R.length,dt,function($t){return R[$t](y)},E,y)},Yr=function(u,y,E){for(var R=E.length,N=new Array(R),j=new Array(R),dt=new Array(y),gt=null,pt=0;pt<R;pt++)N[pt]=u.min(E[pt]).value,j[pt]=u.max(E[pt]).value;for(var Ct=0;Ct<y;Ct++){gt=[];for(var Rt=0;Rt<R;Rt++)gt[Rt]=Math.random()*(j[Rt]-N[Rt])+N[Rt];dt[Ct]=gt}return dt},eo=function(u,y,E,R,N){for(var j=1/0,dt=0,gt=0;gt<y.length;gt++){var pt=xo(E,u,y[gt],R,N);pt<j&&(j=pt,dt=gt)}return dt},yr=function(u,y,E){for(var R=[],N=null,j=0;j<y.length;j++)E[(N=y[j]).id()]===u&&R.push(N);return R},Co=function(u,y,E){return Math.abs(y-u)<=E},Or=function(u,y,E){for(var R=0;R<u.length;R++)for(var N=0;N<u[R].length;N++)if(Math.abs(u[R][N]-y[R][N])>E)return!1;return!0},ro=function(u,y,E){for(var R=0;R<E;R++)if(u===y[R])return!0;return!1},To=function(u,y){var E=new Array(y);if(u.length<50)for(var R=0;R<y;R++){for(var N=u[Math.floor(Math.random()*u.length)];ro(N,E,R);)N=u[Math.floor(Math.random()*u.length)];E[R]=N}else for(var j=0;j<y;j++)E[j]=u[Math.floor(Math.random()*u.length)];return E},Hs=function(u,y,E){for(var R=0,N=0;N<y.length;N++)R+=xo("manhattan",y[N],u,E,"kMedoids");return R},Es=function(u,y,E,R,N){for(var j,dt,gt=0;gt<y.length;gt++)for(var pt=0;pt<u.length;pt++)R[gt][pt]=Math.pow(E[gt][pt],N.m);for(var Ct=0;Ct<u.length;Ct++)for(var Rt=0;Rt<N.attributes.length;Rt++){j=0,dt=0;for(var $t=0;$t<y.length;$t++)j+=R[$t][Ct]*N.attributes[Rt](y[$t]),dt+=R[$t][Ct];u[Ct][Rt]=j/dt}},ps=function(u,y,E,R,N){for(var j=0;j<u.length;j++)y[j]=u[j].slice();for(var dt,gt,pt,Ct=2/(N.m-1),Rt=0;Rt<E.length;Rt++)for(var $t=0;$t<R.length;$t++){dt=0;for(var ee=0;ee<E.length;ee++)gt=xo(N.distance,R[$t],E[Rt],N.attributes,"cmeans"),pt=xo(N.distance,R[$t],E[ee],N.attributes,"cmeans"),dt+=Math.pow(gt/pt,Ct);u[$t][Rt]=1/dt}},bo=function(u){var N,j,dt,gt,pt,y=this.cy(),E=this.nodes(),R=uo(u);gt=new Array(E.length);for(var Ct=0;Ct<E.length;Ct++)gt[Ct]=new Array(R.k);dt=new Array(E.length);for(var Rt=0;Rt<E.length;Rt++)dt[Rt]=new Array(R.k);for(var $t=0;$t<E.length;$t++){for(var ee=0,se=0;se<R.k;se++)dt[$t][se]=Math.random(),ee+=dt[$t][se];for(var qt=0;qt<R.k;qt++)dt[$t][qt]=dt[$t][qt]/ee}j=new Array(R.k);for(var ge=0;ge<R.k;ge++)j[ge]=new Array(R.attributes.length);pt=new Array(E.length);for(var Ae=0;Ae<E.length;Ae++)pt[Ae]=new Array(R.k);for(var He=!0,ze=0;He&&ze<R.maxIterations;)He=!1,Es(j,E,dt,pt,R),ps(dt,gt,j,E,R),Or(dt,gt,R.sensitivityThreshold)||(He=!0),ze++;return N=function(u,y,E,R){for(var N=new Array(E.k),j=0;j<N.length;j++)N[j]=[];for(var dt,gt,pt=0;pt<y.length;pt++){dt=-1/0,gt=-1;for(var Ct=0;Ct<y[0].length;Ct++)y[pt][Ct]>dt&&(dt=y[pt][Ct],gt=Ct);N[gt].push(u[pt])}for(var Rt=0;Rt<N.length;Rt++)N[Rt]=R.collection(N[Rt]);return N}(E,dt,R,y),{clusters:N,degreeOfMembership:dt}},Ds={kMeans:function(u){var gt,y=this.cy(),E=this.nodes(),R=null,N=uo(u),j=new Array(N.k),dt={};gt=N.testMode?"number"==typeof N.testCentroids?Yr(E,N.k,N.attributes):"object"===tt(N.testCentroids)?N.testCentroids:Yr(E,N.k,N.attributes):Yr(E,N.k,N.attributes);for(var pt=!0,Ct=0;pt&&Ct<N.maxIterations;){for(var Rt=0;Rt<E.length;Rt++)dt[(R=E[Rt]).id()]=eo(R,gt,N.distance,N.attributes,"kMeans");pt=!1;for(var $t=0;$t<N.k;$t++){var ee=yr($t,E,dt);if(0!==ee.length){for(var se=N.attributes.length,qt=gt[$t],ge=new Array(se),Ae=new Array(se),He=0;He<se;He++){Ae[He]=0;for(var ze=0;ze<ee.length;ze++)Ae[He]+=N.attributes[He](R=ee[ze]);ge[He]=Ae[He]/ee.length,Co(ge[He],qt[He],N.sensitivityThreshold)||(pt=!0)}gt[$t]=ge,j[$t]=y.collection(ee)}}Ct++}return j},kMedoids:function(u){var dt,pt,y=this.cy(),E=this.nodes(),R=null,N=uo(u),j=new Array(N.k),gt={},Ct=new Array(N.k);N.testMode?"number"==typeof N.testCentroids||(dt="object"===tt(N.testCentroids)?N.testCentroids:To(E,N.k)):dt=To(E,N.k);for(var Rt=!0,$t=0;Rt&&$t<N.maxIterations;){for(var ee=0;ee<E.length;ee++)gt[(R=E[ee]).id()]=eo(R,dt,N.distance,N.attributes,"kMedoids");Rt=!1;for(var se=0;se<dt.length;se++){var qt=yr(se,E,gt);if(0!==qt.length){Ct[se]=Hs(dt[se],qt,N.attributes);for(var ge=0;ge<qt.length;ge++)(pt=Hs(qt[ge],qt,N.attributes))<Ct[se]&&(Ct[se]=pt,dt[se]=qt[ge],Rt=!0);j[se]=y.collection(qt)}}$t++}return j},fuzzyCMeans:bo,fcm:bo},qn=Ln({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),hs={single:"min",complete:"max"},ur=function(u,y,E,R,N){for(var gt,j=0,dt=1/0,pt=N.attributes,Ct=function(fi,Ri){return cr(N.distance,pt.length,function(Ii){return pt[Ii](fi)},function(Ii){return pt[Ii](Ri)},fi,Ri)},Rt=0;Rt<u.length;Rt++){var $t=u[Rt].key,ee=E[$t][R[$t]];ee<dt&&(j=$t,dt=ee)}if("threshold"===N.mode&&dt>=N.threshold||"dendrogram"===N.mode&&1===u.length)return!1;var ge,se=y[j],qt=y[R[j]];ge="dendrogram"===N.mode?{left:se,right:qt,key:se.key}:{value:se.value.concat(qt.value),key:se.key},u[se.index]=ge,u.splice(qt.index,1),y[se.key]=ge;for(var Ae=0;Ae<u.length;Ae++){var He=u[Ae];se.key===He.key?gt=1/0:"min"===N.linkage?(gt=E[se.key][He.key],E[se.key][He.key]>E[qt.key][He.key]&&(gt=E[qt.key][He.key])):"max"===N.linkage?(gt=E[se.key][He.key],E[se.key][He.key]<E[qt.key][He.key]&&(gt=E[qt.key][He.key])):gt="mean"===N.linkage?(E[se.key][He.key]*se.size+E[qt.key][He.key]*qt.size)/(se.size+qt.size):"dendrogram"===N.mode?Ct(He.value,se.value):Ct(He.value[0],se.value[0]),E[se.key][He.key]=E[He.key][se.key]=gt}for(var ze=0;ze<u.length;ze++){var ri=u[ze].key;if(R[ri]===se.key||R[ri]===qt.key){for(var ki=ri,Oi=0;Oi<u.length;Oi++){var ii=u[Oi].key;E[ri][ii]<E[ri][ki]&&(ki=ii)}R[ri]=ki}u[ze].index=ze}return se.key=qt.key=se.index=qt.index=null,!0},Ir=function x(u,y,E){!u||(u.value?y.push(u.value):(u.left&&x(u.left,y),u.right&&x(u.right,y)))},ao=function x(u,y){if(!u)return"";if(u.left&&u.right){var E=x(u.left,y),R=x(u.right,y),N=y.add({group:"nodes",data:{id:E+","+R}});return y.add({group:"edges",data:{source:E,target:N.id()}}),y.add({group:"edges",data:{source:R,target:N.id()}}),N.id()}return u.value?u.value.id():void 0},kr=function x(u,y,E){if(!u)return[];var R=[],N=[],j=[];return 0===y?(u.left&&Ir(u.left,R),u.right&&Ir(u.right,N),j=R.concat(N),[E.collection(j)]):1===y?u.value?[E.collection(u.value)]:(u.left&&Ir(u.left,R),u.right&&Ir(u.right,N),[E.collection(R),E.collection(N)]):u.value?[E.collection(u.value)]:(u.left&&(R=x(u.left,y-1,E)),u.right&&(N=x(u.right,y-1,E)),R.concat(N))},Lo=function(u){for(var y=this.cy(),E=this.nodes(),R=function(u){var y=qn(u),E=hs[y.linkage];return null!=E&&(y.linkage=E),y}(u),N=R.attributes,j=function(ze,ri){return cr(R.distance,N.length,function(ki){return N[ki](ze)},function(ki){return N[ki](ri)},ze,ri)},dt=[],gt=[],pt=[],Ct=[],Rt=0;Rt<E.length;Rt++){var $t={value:"dendrogram"===R.mode?E[Rt]:[E[Rt]],key:Rt,index:Rt};dt[Rt]=$t,Ct[Rt]=$t,gt[Rt]=[],pt[Rt]=0}for(var ee=0;ee<dt.length;ee++)for(var se=0;se<=ee;se++){var qt;qt="dendrogram"===R.mode?ee===se?1/0:j(dt[ee].value,dt[se].value):ee===se?1/0:j(dt[ee].value[0],dt[se].value[0]),gt[ee][se]=qt,gt[se][ee]=qt,qt<gt[ee][pt[ee]]&&(pt[ee]=se)}for(var ge=ur(dt,Ct,gt,pt,R);ge;)ge=ur(dt,Ct,gt,pt,R);var Ae;return"dendrogram"===R.mode?(Ae=kr(dt[0],R.dendrogramDepth,y),R.addDendrogram&&ao(dt[0],y)):(Ae=new Array(dt.length),dt.forEach(function(He,ze){He.key=He.index=null,Ae[ze]=y.collection(He.value)})),Ae},na={hierarchicalClustering:Lo,hca:Lo},Ns=Ln({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Mo=function(u,y,E,R){var N=function(dt,gt){return R[gt](dt)};return-cr(u,R.length,function(j){return N(y,j)},function(j){return N(E,j)},y,E)},oa=function(u,y,E){for(var R=[],N=0;N<u;N++){for(var j=-1,dt=-1/0,gt=0;gt<E.length;gt++){var pt=E[gt];y[N*u+pt]>dt&&(j=pt,dt=y[N*u+pt])}j>0&&R.push(j)}for(var Ct=0;Ct<E.length;Ct++)R[E[Ct]]=E[Ct];return R},Ua=function(u){for(var y=this.cy(),E=this.nodes(),R=function(u){var y=u.damping,E=u.preference;.5<=y&&y<1||pi("Damping must range on [0.5, 1).  Got: ".concat(y));var R=["median","mean","min","max"];return R.some(function(N){return N===E})||Et(E)||pi("Preference must be one of [".concat(R.map(function(N){return"'".concat(N,"'")}).join(", "),"] or a number.  Got: ").concat(E)),Ns(u)}(u),N={},j=0;j<E.length;j++)N[E[j].id()]=j;var dt,gt,pt,Ct,Rt,$t,fi;gt=(dt=E.length)*dt,pt=new Array(gt);for(var ee=0;ee<gt;ee++)pt[ee]=-1/0;for(var se=0;se<dt;se++)for(var qt=0;qt<dt;qt++)se!==qt&&(pt[se*dt+qt]=Mo(R.distance,E[se],E[qt],R.attributes));Ct=function(u,y){var E;return E="median"===y?function(u){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.length,N=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],j=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(E<u.length&&u.splice(E,u.length-E),y>0&&u.splice(0,y)):u=u.slice(y,E);for(var dt=0,gt=u.length-1;gt>=0;gt--)j?isFinite(u[gt])||(u[gt]=-1/0,dt++):u.splice(gt,1);N&&u.sort(function($t,ee){return $t-ee});var Ct=u.length,Rt=Math.floor(Ct/2);return Ct%2!=0?u[Rt+1+dt]:(u[Rt-1+dt]+u[Rt+dt])/2}(u):"mean"===y?function(u){for(var E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.length,R=0,N=0,j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;j<E;j++){var dt=u[j];isFinite(dt)&&(R+=dt,N++)}return R/N}(u):"min"===y?function(u){for(var E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.length,R=1/0,N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;N<E;N++){var j=u[N];isFinite(j)&&(R=Math.min(j,R))}return R}(u):"max"===y?function(u){for(var E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.length,R=-1/0,N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;N<E;N++){var j=u[N];isFinite(j)&&(R=Math.max(j,R))}return R}(u):y,E}(pt,R.preference);for(var ge=0;ge<dt;ge++)pt[ge*dt+ge]=Ct;Rt=new Array(gt);for(var Ae=0;Ae<gt;Ae++)Rt[Ae]=0;$t=new Array(gt);for(var He=0;He<gt;He++)$t[He]=0;for(var ze=new Array(dt),ri=new Array(dt),ki=new Array(dt),Oi=0;Oi<dt;Oi++)ze[Oi]=0,ri[Oi]=0,ki[Oi]=0;for(var ii=new Array(dt*R.minIterations),Ti=0;Ti<ii.length;Ti++)ii[Ti]=0;for(fi=0;fi<R.maxIterations;fi++){for(var Ri=0;Ri<dt;Ri++){for(var Ii=-1/0,Ci=-1/0,Ki=-1,Ai=0,mn=0;mn<dt;mn++)ze[mn]=Rt[Ri*dt+mn],(Ai=$t[Ri*dt+mn]+pt[Ri*dt+mn])>=Ii?(Ci=Ii,Ii=Ai,Ki=mn):Ai>Ci&&(Ci=Ai);for(var ln=0;ln<dt;ln++)Rt[Ri*dt+ln]=(1-R.damping)*(pt[Ri*dt+ln]-Ii)+R.damping*ze[ln];Rt[Ri*dt+Ki]=(1-R.damping)*(pt[Ri*dt+Ki]-Ci)+R.damping*ze[Ki]}for(var dn=0;dn<dt;dn++){for(var un=0,fn=0;fn<dt;fn++)ze[fn]=$t[fn*dt+dn],ri[fn]=Math.max(0,Rt[fn*dt+dn]),un+=ri[fn];un-=ri[dn],ri[dn]=Rt[dn*dt+dn],un+=ri[dn];for(var Nn=0;Nn<dt;Nn++)$t[Nn*dt+dn]=(1-R.damping)*Math.min(0,un-ri[Nn])+R.damping*ze[Nn];$t[dn*dt+dn]=(1-R.damping)*(un-ri[dn])+R.damping*ze[dn]}for(var Cn=0,Ji=0;Ji<dt;Ji++){var Hn=$t[Ji*dt+Ji]+Rt[Ji*dt+Ji]>0?1:0;ii[fi%R.minIterations*dt+Ji]=Hn,Cn+=Hn}if(Cn>0&&(fi>=R.minIterations-1||fi==R.maxIterations-1)){for(var Si=0,Zn=0;Zn<dt;Zn++){ki[Zn]=0;for(var Wn=0;Wn<R.minIterations;Wn++)ki[Zn]+=ii[Wn*dt+Zn];(0===ki[Zn]||ki[Zn]===R.minIterations)&&Si++}if(Si===dt)break}}for(var pn=function(u,y,E){for(var R=[],N=0;N<u;N++)y[N*u+N]+E[N*u+N]>0&&R.push(N);return R}(dt,Rt,$t),kn=function(u,y,E){for(var R=oa(u,y,E),N=0;N<E.length;N++){for(var j=[],dt=0;dt<R.length;dt++)R[dt]===E[N]&&j.push(dt);for(var gt=-1,pt=-1/0,Ct=0;Ct<j.length;Ct++){for(var Rt=0,$t=0;$t<j.length;$t++)Rt+=y[j[$t]*u+j[Ct]];Rt>pt&&(gt=Ct,pt=Rt)}E[N]=j[gt]}return oa(u,y,E)}(dt,pt,pn),Qn={},rr=0;rr<pn.length;rr++)Qn[pn[rr]]=[];for(var _r=0;_r<E.length;_r++){var yo=kn[N[E[_r].id()]];null!=yo&&Qn[yo].push(E[_r])}for(var Tr=new Array(pn.length),wr=0;wr<pn.length;wr++)Tr[wr]=y.collection(Qn[pn[wr]]);return Tr},Ru={affinityPropagation:Ua,ap:Ua},Od=Ln({root:void 0,directed:!1}),xm={hierholzer:function(u){if(!Ot(u)){var y=arguments;u={root:y[0],directed:y[1]}}var gt,pt,Ct,E=Od(u),R=E.root,N=E.directed,j=this,dt=!1;R&&(Ct=lt(R)?this.filter(R)[0].id():R[0].id());var Rt={},$t={};j.forEach(N?function(He){var ze=He.id();if(He.isNode()){var ri=He.indegree(!0),ki=He.outdegree(!0),Oi=ri-ki,ii=ki-ri;1==Oi?gt?dt=!0:gt=ze:1==ii?pt?dt=!0:pt=ze:(ii>1||Oi>1)&&(dt=!0),Rt[ze]=[],He.outgoers().forEach(function(Ti){Ti.isEdge()&&Rt[ze].push(Ti.id())})}else $t[ze]=[void 0,He.target().id()]}:function(He){var ze=He.id();He.isNode()?(He.degree(!0)%2&&(gt?pt?dt=!0:pt=ze:gt=ze),Rt[ze]=[],He.connectedEdges().forEach(function(ki){return Rt[ze].push(ki.id())})):$t[ze]=[He.source().id(),He.target().id()]});var ee={found:!1,trail:void 0};if(dt)return ee;if(pt&&gt)if(N){if(Ct&&pt!=Ct)return ee;Ct=pt}else{if(Ct&&pt!=Ct&&gt!=Ct)return ee;Ct||(Ct=pt)}else Ct||(Ct=j[0].id());var se=function(ze){for(var Oi,ii,Ti,ri=ze,ki=[ze];Rt[ri].length;)Oi=Rt[ri].shift(),ii=$t[Oi][0],ri!=(Ti=$t[Oi][1])?(Rt[Ti]=Rt[Ti].filter(function(fi){return fi!=Oi}),ri=Ti):!N&&ri!=ii&&(Rt[ii]=Rt[ii].filter(function(fi){return fi!=Oi}),ri=ii),ki.unshift(Oi),ki.unshift(ri);return ki},qt=[],ge=[];for(ge=se(Ct);1!=ge.length;)0==Rt[ge[0]].length?(qt.unshift(j.getElementById(ge.shift())),qt.unshift(j.getElementById(ge.shift()))):ge=se(ge.shift()).concat(ge);for(var Ae in qt.unshift(j.getElementById(ge.shift())),Rt)if(Rt[Ae].length)return ee;return ee.found=!0,ee.trail=this.spawn(qt,!0),ee}},Ol=function(){var u=this,y={},E=0,R=0,N=[],j=[],dt={},pt=function Rt($t,ee,se){$t===se&&(R+=1),y[ee]={id:E,low:E++,cutVertex:!1};var ge,Ae,He,ze,qt=u.getElementById(ee).connectedEdges().intersection(u);0===qt.size()?N.push(u.spawn(u.getElementById(ee))):qt.forEach(function(ri){ge=ri.source().id(),Ae=ri.target().id(),(He=ge===ee?Ae:ge)!==se&&(ze=ri.id(),dt[ze]||(dt[ze]=!0,j.push({x:ee,y:He,edge:ri})),He in y?y[ee].low=Math.min(y[ee].low,y[He].id):(Rt($t,He,ee),y[ee].low=Math.min(y[ee].low,y[He].low),y[ee].id<=y[He].low&&(y[ee].cutVertex=!0,function($t,ee){for(var se=j.length-1,qt=[],ge=u.spawn();j[se].x!=$t||j[se].y!=ee;)qt.push(j.pop().edge),se--;qt.push(j.pop().edge),qt.forEach(function(Ae){var He=Ae.connectedNodes().intersection(u);ge.merge(Ae),He.forEach(function(ze){var ri=ze.id(),ki=ze.connectedEdges().intersection(u);ge.merge(ze),ge.merge(y[ri].cutVertex?ki.filter(function(Oi){return Oi.isLoop()}):ki)})}),N.push(ge)}(ee,He))))})};u.forEach(function(Rt){if(Rt.isNode()){var $t=Rt.id();$t in y||(R=0,pt($t,$t),y[$t].cutVertex=R>1)}});var Ct=Object.keys(y).filter(function(Rt){return y[Rt].cutVertex}).map(function(Rt){return u.getElementById(Rt)});return{cut:u.spawn(Ct),components:N}},ff=function(){var u=this,y={},E=0,R=[],N=[],j=u.spawn(u),dt=function gt(pt){if(N.push(pt),y[pt]={index:E,low:E++,explored:!1},u.getElementById(pt).connectedEdges().intersection(u).forEach(function(qt){var ge=qt.target().id();ge!==pt&&(ge in y||gt(ge),y[ge].explored||(y[pt].low=Math.min(y[pt].low,y[ge].low)))}),y[pt].index===y[pt].low){for(var Rt=u.spawn();;){var $t=N.pop();if(Rt.merge(u.getElementById($t)),y[$t].low=y[pt].index,y[$t].explored=!0,$t===pt)break}var ee=Rt.edgesWith(Rt),se=Rt.merge(ee);R.push(se),j=j.difference(se)}};return u.forEach(function(gt){if(gt.isNode()){var pt=gt.id();pt in y||dt(pt)}}),{cut:j,components:R}},Id={};[xr,so,Vr,ar,qs,Zo,as,gn,Mn,Qo,Ls,It,Ds,na,Ru,xm,{hopcroftTarjanBiconnected:Ol,htbc:Ol,htb:Ol,hopcroftTarjanBiconnectedComponents:Ol},{tarjanStronglyConnected:ff,tsc:ff,tscc:ff,tarjanStronglyConnectedComponents:ff}].forEach(function(x){Pt(Id,x)});var du=function x(u){if(!(this instanceof x))return new x(u);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof u&&u.call(this,this.fulfill.bind(this),this.reject.bind(this))};du.prototype={fulfill:function(u){return kc(this,1,"fulfillValue",u)},reject:function(u){return kc(this,2,"rejectReason",u)},then:function(u,y){var E=this,R=new du;return E.onFulfilled.push(Ih(u,R,"fulfill")),E.onRejected.push(Ih(y,R,"reject")),fh(E),R.proxy}};var kc=function(u,y,E,R){return 0===u.state&&(u.state=y,u[E]=R,fh(u)),u},fh=function(u){1===u.state?df(u,"onFulfilled",u.fulfillValue):2===u.state&&df(u,"onRejected",u.rejectReason)},df=function(u,y,E){if(0!==u[y].length){var R=u[y];u[y]=[];var N=function(){for(var dt=0;dt<R.length;dt++)R[dt](E)};"function"==typeof setImmediate?setImmediate(N):setTimeout(N,0)}},Ih=function(u,y,E){return function(R){if("function"!=typeof u)y[E].call(y,R);else{var N;try{N=u(R)}catch(j){return void y.reject(j)}F0(y,N)}}},F0=function x(u,y){if(u!==y&&u.proxy!==y){var E;if("object"===tt(y)&&null!==y||"function"==typeof y)try{E=y.then}catch(N){return void u.reject(N)}if("function"!=typeof E)u.fulfill(y);else{var R=!1;try{E.call(y,function(N){R||(R=!0,N===y?u.reject(new TypeError("circular thenable chain")):x(u,N))},function(N){R||(R=!0,u.reject(N))})}catch(N){R||u.reject(N)}}}else u.reject(new TypeError("cannot resolve promise with itself"))};du.all=function(x){return new du(function(u,y){for(var E=new Array(x.length),R=0,N=function(gt,pt){E[gt]=pt,++R===x.length&&u(E)},j=0;j<x.length;j++)!function(dt){var gt=x[dt];null!=gt&&null!=gt.then?gt.then(function(Rt){N(dt,Rt)},function(Rt){y(Rt)}):N(dt,gt)}(j)})},du.resolve=function(x){return new du(function(u,y){u(x)})},du.reject=function(x){return new du(function(u,y){y(x)})};var pu="undefined"!=typeof Promise?Promise:du,dh=function(u,y,E){var R=w(u),N=!R,j=this._private=Pt({duration:1e3},y,E);if(j.target=u,j.style=j.style||j.css,j.started=!1,j.playing=!1,j.hooked=!1,j.applying=!1,j.progress=0,j.completes=[],j.frames=[],j.complete&&wt(j.complete)&&j.completes.push(j.complete),N){var dt=u.position();j.startPosition=j.startPosition||{x:dt.x,y:dt.y},j.startStyle=j.startStyle||u.cy().style().getAnimationStartStyle(u,j.style)}if(R){var gt=u.pan();j.startPan={x:gt.x,y:gt.y},j.startZoom=u.zoom()}this.length=1,this[0]=this},Il=dh.prototype;Pt(Il,{instanceString:function(){return"animation"},hook:function(){var u=this._private;if(!u.hooked){var E=u.target._private.animation;(u.queue?E.queue:E.current).push(this),c(u.target)&&u.target.cy().addToAnimationPool(u.target),u.hooked=!0}return this},play:function(){var u=this._private;return 1===u.progress&&(u.progress=0),u.playing=!0,u.started=!1,u.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var u=this._private;return u.applying=!0,u.started=!1,u.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var u=this._private;return u.playing=!1,u.started=!1,this},stop:function(){var u=this._private;return u.playing=!1,u.started=!1,u.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(u){var y=this._private;return void 0===u?y.progress*y.duration:this.progress(u/y.duration)},progress:function(u){var y=this._private,E=y.playing;return void 0===u?y.progress:(E&&this.pause(),y.progress=u,y.started=!1,E&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var u=this._private,y=u.playing;y&&this.pause(),u.progress=1-u.progress,u.started=!1;var E=function(pt,Ct){var Rt=u[pt];null!=Rt&&(u[pt]=u[Ct],u[Ct]=Rt)};if(E("zoom","startZoom"),E("pan","startPan"),E("position","startPosition"),u.style)for(var R=0;R<u.style.length;R++){var N=u.style[R],j=N.name,dt=u.startStyle[j];u.startStyle[j]=N,u.style[R]=dt}return y&&this.play(),this},promise:function(u){var E,y=this._private;return E="frame"===u?y.frames:y.completes,new pu(function(R,N){E.push(function(){R()})})}}),Il.complete=Il.completed,Il.run=Il.play,Il.running=Il.playing;var oe={data:function(u){return u=Pt({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(R){},beforeSet:function(R,N){},onSet:function(R){},canSet:function(R){return!0}},u),function(R,N){var j=u,dt=this,gt=void 0!==dt.length,pt=gt?dt:[dt],Ct=gt?dt[0]:dt;if(lt(R)){var Rt;if(j.allowGetting&&void 0===N)return Ct&&(j.beforeGet(Ct),Rt=Ct._private[j.field][R]),Rt;if(j.allowSetting&&void 0!==N&&!j.immutableKeys[R]){var ee=rt({},R,N);j.beforeSet(dt,ee);for(var se=0,qt=pt.length;se<qt;se++){var ge=pt[se];j.canSet(ge)&&(ge._private[j.field][R]=N)}j.updateStyle&&dt.updateStyle(),j.onSet(dt),j.settingTriggersEvent&&dt[j.triggerFnName](j.settingEvent)}}else if(j.allowSetting&&Ot(R)){var He,ze,Ae=R,ri=Object.keys(Ae);j.beforeSet(dt,Ae);for(var ki=0;ki<ri.length;ki++)if(ze=Ae[He=ri[ki]],!j.immutableKeys[He])for(var ii=0;ii<pt.length;ii++){var Ti=pt[ii];j.canSet(Ti)&&(Ti._private[j.field][He]=ze)}j.updateStyle&&dt.updateStyle(),j.onSet(dt),j.settingTriggersEvent&&dt[j.triggerFnName](j.settingEvent)}else if(j.allowBinding&&wt(R))dt.on(j.bindingEvent,R);else if(j.allowGetting&&void 0===R){var Ri;return Ct&&(j.beforeGet(Ct),Ri=Ct._private[j.field]),Ri}return dt}},removeData:function(u){return u=Pt({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},u),function(R){var N=u,j=this,gt=void 0!==j.length?j:[j];if(lt(R)){for(var pt=R.split(/\s+/),Ct=pt.length,Rt=0;Rt<Ct;Rt++){var $t=pt[Rt];if(!C($t)&&!N.immutableKeys[$t])for(var se=0,qt=gt.length;se<qt;se++)gt[se]._private[N.field][$t]=void 0}N.triggerEvent&&j[N.triggerFnName](N.event)}else if(void 0===R){for(var ge=0,Ae=gt.length;ge<Ae;ge++)for(var He=gt[ge]._private[N.field],ze=Object.keys(He),ri=0;ri<ze.length;ri++){var ki=ze[ri];!N.immutableKeys[ki]&&(He[ki]=void 0)}N.triggerEvent&&j[N.triggerFnName](N.event)}return j}}},Yt={eventAliasesOn:function(u){var y=u;y.addListener=y.listen=y.bind=y.on,y.unlisten=y.unbind=y.off=y.removeListener,y.trigger=y.emit,y.pon=y.promiseOn=function(E,R){var N=this,j=Array.prototype.slice.call(arguments,0);return new pu(function(dt,gt){var Ct=j.concat([function(ee){N.off.apply(N,Rt),dt(ee)}]),Rt=Ct.concat([]);N.on.apply(N,Ct)})}}},Ft={};[{animated:function(){return function(){var y=this,R=void 0!==y.length?y:[y];if(!(this._private.cy||this).styleEnabled())return!1;var j=R[0];return j?j._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var y=this,R=void 0!==y.length?y:[y];if(!(this._private.cy||this).styleEnabled())return this;for(var j=0;j<R.length;j++)R[j]._private.animation.queue=[];return this}},delay:function(){return function(y,E){return(this._private.cy||this).styleEnabled()?this.animate({delay:y,duration:y,complete:E}):this}},delayAnimation:function(){return function(y,E){return(this._private.cy||this).styleEnabled()?this.animation({delay:y,duration:y,complete:E}):this}},animation:function(){return function(y,E){var R=this,N=void 0!==R.length,j=N?R:[R],dt=this._private.cy||this,gt=!N,pt=!gt;if(!dt.styleEnabled())return this;var Ct=dt.style();if(y=Pt({},y,E),0===Object.keys(y).length)return new dh(j[0],y);switch(void 0===y.duration&&(y.duration=400),y.duration){case"slow":y.duration=600;break;case"fast":y.duration=200}if(pt&&(y.style=Ct.getPropsList(y.style||y.css),y.css=void 0),pt&&null!=y.renderedPosition){var $t=y.renderedPosition,ee=dt.pan(),se=dt.zoom();y.position=ea($t,se,ee)}if(gt&&null!=y.panBy){var qt=y.panBy,ge=dt.pan();y.pan={x:ge.x+qt.x,y:ge.y+qt.y}}var Ae=y.center||y.centre;if(gt&&null!=Ae){var He=dt.getCenterPan(Ae.eles,y.zoom);null!=He&&(y.pan=He)}if(gt&&null!=y.fit){var ze=y.fit,ri=dt.getFitViewport(ze.eles||ze.boundingBox,ze.padding);null!=ri&&(y.pan=ri.pan,y.zoom=ri.zoom)}if(gt&&Ot(y.zoom)){var ki=dt.getZoomedViewport(y.zoom);null!=ki?(ki.zoomed&&(y.zoom=ki.zoom),ki.panned&&(y.pan=ki.pan)):y.zoom=null}return new dh(j[0],y)}},animate:function(){return function(y,E){var R=this,j=void 0!==R.length?R:[R];if(!(this._private.cy||this).styleEnabled())return this;E&&(y=Pt({},y,E));for(var gt=0;gt<j.length;gt++){var pt=j[gt],Ct=pt.animated()&&(void 0===y.queue||y.queue);pt.animation(y,Ct?{queue:!0}:void 0).play()}return this}},stop:function(){return function(y,E){var R=this,j=void 0!==R.length?R:[R],dt=this._private.cy||this;if(!dt.styleEnabled())return this;for(var gt=0;gt<j.length;gt++){for(var Ct=j[gt]._private,Rt=Ct.animation.current,$t=0;$t<Rt.length;$t++)E&&(Rt[$t]._private.duration=0);y&&(Ct.animation.queue=[]),E||(Ct.animation.current=[])}return dt.notify("draw"),this}}},oe,Yt].forEach(function(x){Pt(Ft,x)});var ye={animate:Ft.animate(),animation:Ft.animation(),animated:Ft.animated(),clearQueue:Ft.clearQueue(),delay:Ft.delay(),delayAnimation:Ft.delayAnimation(),stop:Ft.stop()},Me={classes:function(u){var y=this;if(void 0===u){var E=[];return y[0]._private.classes.forEach(function(se){return E.push(se)}),E}xt(u)||(u=(u||"").match(/\S+/g)||[]);for(var R=[],N=new mr(u),j=0;j<y.length;j++){for(var dt=y[j],gt=dt._private,pt=gt.classes,Ct=!1,Rt=0;Rt<u.length;Rt++)if(!pt.has(u[Rt])){Ct=!0;break}Ct||(Ct=pt.size!==u.length),Ct&&(gt.classes=N,R.push(dt))}return R.length>0&&this.spawn(R).updateStyle().emit("class"),y},addClass:function(u){return this.toggleClass(u,!0)},hasClass:function(u){var y=this[0];return null!=y&&y._private.classes.has(u)},toggleClass:function(u,y){xt(u)||(u=u.match(/\S+/g)||[]);for(var E=this,R=void 0===y,N=[],j=0,dt=E.length;j<dt;j++)for(var gt=E[j],pt=gt._private.classes,Ct=!1,Rt=0;Rt<u.length;Rt++){var $t=u[Rt],ee=pt.has($t),se=!1;y||R&&!ee?(pt.add($t),se=!0):(!y||R&&ee)&&(pt.delete($t),se=!0),!Ct&&se&&(N.push(gt),Ct=!0)}return N.length>0&&this.spawn(N).updateStyle().emit("class"),E},removeClass:function(u){return this.toggleClass(u,!1)},flashClass:function(u,y){var E=this;if(null==y)y=250;else if(0===y)return E;return E.addClass(u),setTimeout(function(){E.removeClass(u)},y),E}};Me.className=Me.classNames=Me.classes;var Xe={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:Vt,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Xe.variable="(?:[\\w-]|(?:\\\\"+Xe.metaChar+"))+",Xe.value=Xe.string+"|"+Xe.number,Xe.className=Xe.variable,Xe.id=Xe.variable,function(){var x,u,y;for(x=Xe.comparatorOp.split("|"),y=0;y<x.length;y++)Xe.comparatorOp+="|@"+(u=x[y]);for(x=Xe.comparatorOp.split("|"),y=0;y<x.length;y++)!((u=x[y]).indexOf("!")>=0)&&"="!==u&&(Xe.comparatorOp+="|\\!"+u)}();var In=[{selector:":selected",matches:function(u){return u.selected()}},{selector:":unselected",matches:function(u){return!u.selected()}},{selector:":selectable",matches:function(u){return u.selectable()}},{selector:":unselectable",matches:function(u){return!u.selectable()}},{selector:":locked",matches:function(u){return u.locked()}},{selector:":unlocked",matches:function(u){return!u.locked()}},{selector:":visible",matches:function(u){return u.visible()}},{selector:":hidden",matches:function(u){return!u.visible()}},{selector:":transparent",matches:function(u){return u.transparent()}},{selector:":grabbed",matches:function(u){return u.grabbed()}},{selector:":free",matches:function(u){return!u.grabbed()}},{selector:":removed",matches:function(u){return u.removed()}},{selector:":inside",matches:function(u){return!u.removed()}},{selector:":grabbable",matches:function(u){return u.grabbable()}},{selector:":ungrabbable",matches:function(u){return!u.grabbable()}},{selector:":animated",matches:function(u){return u.animated()}},{selector:":unanimated",matches:function(u){return!u.animated()}},{selector:":parent",matches:function(u){return u.isParent()}},{selector:":childless",matches:function(u){return u.isChildless()}},{selector:":child",matches:function(u){return u.isChild()}},{selector:":orphan",matches:function(u){return u.isOrphan()}},{selector:":nonorphan",matches:function(u){return u.isChild()}},{selector:":compound",matches:function(u){return u.isNode()?u.isParent():u.source().isParent()||u.target().isParent()}},{selector:":loop",matches:function(u){return u.isLoop()}},{selector:":simple",matches:function(u){return u.isSimple()}},{selector:":active",matches:function(u){return u.active()}},{selector:":inactive",matches:function(u){return!u.active()}},{selector:":backgrounding",matches:function(u){return u.backgrounding()}},{selector:":nonbackgrounding",matches:function(u){return!u.backgrounding()}}].sort(function(x,u){return function(u,y){return-1*zt(u,y)}(x.selector,u.selector)}),Nr=function(){for(var u,x={},y=0;y<In.length;y++)x[(u=In[y]).selector]=u.matches;return x}(),Xr="("+In.map(function(x){return x.selector}).join("|")+")",So=function(u){return u.replace(new RegExp("\\\\("+Xe.metaChar+")","g"),function(y,E){return E})},Vo=function(u,y,E){u[u.length-1]=E},mu=[{name:"group",query:!0,regex:"("+Xe.group+")",populate:function(u,y,E){var N=Z(E,1)[0];y.checks.push({type:0,value:"*"===N?N:N+"s"})}},{name:"state",query:!0,regex:Xr,populate:function(u,y,E){var R=Z(E,1);y.checks.push({type:7,value:R[0]})}},{name:"id",query:!0,regex:"\\#("+Xe.id+")",populate:function(u,y,E){var R=Z(E,1);y.checks.push({type:8,value:So(R[0])})}},{name:"className",query:!0,regex:"\\.("+Xe.className+")",populate:function(u,y,E){var R=Z(E,1);y.checks.push({type:9,value:So(R[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Xe.variable+")\\s*\\]",populate:function(u,y,E){var R=Z(E,1);y.checks.push({type:4,field:So(R[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Xe.variable+")\\s*("+Xe.comparatorOp+")\\s*("+Xe.value+")\\s*\\]",populate:function(u,y,E){var R=Z(E,3),N=R[0],j=R[1],dt=R[2];dt=null!=new RegExp("^"+Xe.string+"$").exec(dt)?dt.substring(1,dt.length-1):parseFloat(dt),y.checks.push({type:3,field:So(N),operator:j,value:dt})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Xe.boolOp+")\\s*("+Xe.variable+")\\s*\\]",populate:function(u,y,E){var R=Z(E,2),N=R[0];y.checks.push({type:5,field:So(R[1]),operator:N})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Xe.meta+")\\s*("+Xe.comparatorOp+")\\s*("+Xe.number+")\\s*\\]\\]",populate:function(u,y,E){var R=Z(E,3),j=R[1],dt=R[2];y.checks.push({type:6,field:So(R[0]),operator:j,value:parseFloat(dt)})}},{name:"nextQuery",separator:!0,regex:Xe.separator,populate:function(u,y){var E=u.currentSubject,R=u.edgeCount,N=u.compoundCount,j=u[u.length-1];return null!=E&&(j.subject=E,u.currentSubject=null),j.edgeCount=R,j.compoundCount=N,u.edgeCount=0,u.compoundCount=0,u[u.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:Xe.directedEdge,populate:function(u,y){if(null==u.currentSubject){var E={checks:[]},N={checks:[]};return E.checks.push({type:11,source:y,target:N}),Vo(u,0,E),u.edgeCount++,N}var j={checks:[]},gt={checks:[]};return j.checks.push({type:12,source:y,target:gt}),Vo(u,0,j),u.edgeCount++,gt}},{name:"undirectedEdge",separator:!0,regex:Xe.undirectedEdge,populate:function(u,y){if(null==u.currentSubject){var E={checks:[]},N={checks:[]};return E.checks.push({type:10,nodes:[y,N]}),Vo(u,0,E),u.edgeCount++,N}var j={checks:[]},gt={checks:[]};return j.checks.push({type:14,node:y,neighbor:gt}),Vo(u,0,j),gt}},{name:"child",separator:!0,regex:Xe.child,populate:function(u,y){if(null==u.currentSubject){var E={checks:[]},R={checks:[]};return E.checks.push({type:15,parent:u[u.length-1],child:R}),Vo(u,0,E),u.compoundCount++,R}if(u.currentSubject===y){var j={checks:[]},gt={checks:[]},pt={checks:[]},Ct={checks:[]},Rt={checks:[]};return j.checks.push({type:19,left:u[u.length-1],right:gt,subject:pt}),pt.checks=y.checks,y.checks=[{type:20}],Rt.checks.push({type:20}),gt.checks.push({type:17,parent:Rt,child:Ct}),Vo(u,0,j),u.currentSubject=pt,u.compoundCount++,Ct}var $t={checks:[]},ee={checks:[]},se=[{type:17,parent:$t,child:ee}];return $t.checks=y.checks,y.checks=se,u.compoundCount++,ee}},{name:"descendant",separator:!0,regex:Xe.descendant,populate:function(u,y){if(null==u.currentSubject){var E={checks:[]},R={checks:[]};return E.checks.push({type:16,ancestor:u[u.length-1],descendant:R}),Vo(u,0,E),u.compoundCount++,R}if(u.currentSubject===y){var j={checks:[]},gt={checks:[]},pt={checks:[]},Ct={checks:[]},Rt={checks:[]};return j.checks.push({type:19,left:u[u.length-1],right:gt,subject:pt}),pt.checks=y.checks,y.checks=[{type:20}],Rt.checks.push({type:20}),gt.checks.push({type:18,ancestor:Rt,descendant:Ct}),Vo(u,0,j),u.currentSubject=pt,u.compoundCount++,Ct}var $t={checks:[]},ee={checks:[]},se=[{type:18,ancestor:$t,descendant:ee}];return $t.checks=y.checks,y.checks=se,u.compoundCount++,ee}},{name:"subject",modifier:!0,regex:Xe.subject,populate:function(u,y){if(null!=u.currentSubject&&u.currentSubject!==y)return $e("Redefinition of subject in selector `"+u.toString()+"`"),!1;u.currentSubject=y;var R=u[u.length-1].checks[0],N=null==R?null:R.type;11===N?R.type=13:10===N&&(R.type=14,R.node=R.nodes[1],R.neighbor=R.nodes[0],R.nodes=null)}}];mu.forEach(function(x){return x.regexObj=new RegExp("^"+x.regex)});var ph=function(u){for(var y,E,R,N=0;N<mu.length;N++){var j=mu[N],dt=j.name,gt=u.match(j.regexObj);if(null!=gt){E=gt,y=j,R=dt,u=u.substring(gt[0].length);break}}return{expr:y,match:E,name:R,remaining:u}},gh={parse:function(u){var y=this,E=y.inputText=u,R=y[0]={checks:[]};for(y.length=1,E=function(u){var y=u.match(/^\s+/);return y&&(u=u.substring(y[0].length)),u}(E);;){var N=ph(E);if(null==N.expr)return $e("The selector `"+u+"`is invalid"),!1;var j=N.match.slice(1),dt=N.expr.populate(y,R,j);if(!1===dt)return!1;if(null!=dt&&(R=dt),(E=N.remaining).match(/^\s*$/))break}var gt=y[y.length-1];null!=y.currentSubject&&(gt.subject=y.currentSubject),gt.edgeCount=y.edgeCount,gt.compoundCount=y.compoundCount;for(var pt=0;pt<y.length;pt++){var Ct=y[pt];if(Ct.compoundCount>0&&Ct.edgeCount>0)return $e("The selector `"+u+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(Ct.edgeCount>1)return $e("The selector `"+u+"` is invalid because it uses multiple edge selectors"),!1;1===Ct.edgeCount&&$e("The selector `"+u+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var u=function(Ct){return null==Ct?"":Ct},y=function(Ct){return lt(Ct)?'"'+Ct+'"':u(Ct)},E=function(Ct){return" "+Ct+" "},N=function(Ct,Rt){return Ct.checks.reduce(function($t,ee,se){return $t+(Rt===Ct&&0===se?"$":"")+function(Ct,Rt){var ee=Ct.value;switch(Ct.type){case 0:var se=u(ee);return se.substring(0,se.length-1);case 3:return"["+Ct.field+E(u(Ct.operator))+y(ee)+"]";case 5:var He=Ct.field;return"["+u(Ct.operator)+He+"]";case 4:return"["+Ct.field+"]";case 6:return"[["+Ct.field+E(u(Ct.operator))+y(ee)+"]]";case 7:return ee;case 8:return"#"+ee;case 9:return"."+ee;case 17:case 15:return N(Ct.parent,Rt)+E(">")+N(Ct.child,Rt);case 18:case 16:return N(Ct.ancestor,Rt)+" "+N(Ct.descendant,Rt);case 19:var Oi=N(Ct.left,Rt),ii=N(Ct.subject,Rt),Ti=N(Ct.right,Rt);return Oi+(Oi.length>0?" ":"")+ii+Ti;case 20:return""}}(ee,Rt)},"")},j="",dt=0;dt<this.length;dt++){var gt=this[dt];j+=N(gt,gt.subject),this.length>1&&dt<this.length-1&&(j+=", ")}return this.toStringCache=j,j}},Rh=function(u,y,E){var R,gt,pt,N=lt(u),j=Et(u),dt=lt(E),Ct=!1,Rt=!1,$t=!1;switch(y.indexOf("!")>=0&&(y=y.replace("!",""),Rt=!0),y.indexOf("@")>=0&&(y=y.replace("@",""),Ct=!0),(N||dt||Ct)&&(gt=N||j?""+u:"",pt=""+E),Ct&&(u=gt=gt.toLowerCase(),E=pt=pt.toLowerCase()),y){case"*=":R=gt.indexOf(pt)>=0;break;case"$=":R=gt.indexOf(pt,gt.length-pt.length)>=0;break;case"^=":R=0===gt.indexOf(pt);break;case"=":R=u===E;break;case">":$t=!0,R=u>E;break;case">=":$t=!0,R=u>=E;break;case"<":$t=!0,R=u<E;break;case"<=":$t=!0,R=u<=E;break;default:R=!1}return Rt&&(null!=u||!$t)&&(R=!R),R},pf=function(u,y){return u.data(y)},ms=[],bs=function(u,y){return u.checks.every(function(E){return ms[E.type](E,y)})};ms[0]=function(x,u){var y=x.value;return"*"===y||y===u.group()},ms[7]=function(x,u){return function(u,y){return Nr[u](y)}(x.value,u)},ms[8]=function(x,u){var y=x.value;return u.id()===y},ms[9]=function(x,u){return u.hasClass(x.value)},ms[6]=function(x,u){var E=x.operator,R=x.value;return Rh(function(u,y){return u[y]()}(u,x.field),E,R)},ms[3]=function(x,u){var E=x.operator,R=x.value;return Rh(pf(u,x.field),E,R)},ms[5]=function(x,u){var E=x.operator;return function(u,y){switch(y){case"?":return!!u;case"!":return!u;case"^":return void 0===u}}(pf(u,x.field),E)},ms[4]=function(x,u){return function(u){return void 0!==u}(pf(u,x.field))},ms[10]=function(x,u){var y=x.nodes[0],E=x.nodes[1],R=u.source(),N=u.target();return bs(y,R)&&bs(E,N)||bs(E,R)&&bs(y,N)},ms[14]=function(x,u){return bs(x.node,u)&&u.neighborhood().some(function(y){return y.isNode()&&bs(x.neighbor,y)})},ms[11]=function(x,u){return bs(x.source,u.source())&&bs(x.target,u.target())},ms[12]=function(x,u){return bs(x.source,u)&&u.outgoers().some(function(y){return y.isNode()&&bs(x.target,y)})},ms[13]=function(x,u){return bs(x.target,u)&&u.incomers().some(function(y){return y.isNode()&&bs(x.source,y)})},ms[15]=function(x,u){return bs(x.child,u)&&bs(x.parent,u.parent())},ms[17]=function(x,u){return bs(x.parent,u)&&u.children().some(function(y){return bs(x.child,y)})},ms[16]=function(x,u){return bs(x.descendant,u)&&u.ancestors().some(function(y){return bs(x.ancestor,y)})},ms[18]=function(x,u){return bs(x.ancestor,u)&&u.descendants().some(function(y){return bs(x.descendant,y)})},ms[19]=function(x,u){return bs(x.subject,u)&&bs(x.left,u)&&bs(x.right,u)},ms[20]=function(){return!0},ms[1]=function(x,u){return x.value.has(u)},ms[2]=function(x,u){return(0,x.value)(u)};var V0={matches:function(u){for(var E=0;E<this.length;E++)if(bs(this[E],u))return!0;return!1},filter:function(u){var y=this;if(1===y.length&&1===y[0].checks.length&&8===y[0].checks[0].type)return u.getElementById(y[0].checks[0].value).collection();var E=function(N){for(var j=0;j<y.length;j++)if(bs(y[j],N))return!0;return!1};return null==y.text()&&(E=function(){return!0}),u.filter(E)}},vu=function(u){this.inputText=u,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==u||lt(u)&&u.match(/^\s*$/)||(c(u)?this.addQuery({checks:[{type:1,value:u.collection()}]}):wt(u)?this.addQuery({checks:[{type:2,value:u}]}):lt(u)?this.parse(u)||(this.invalid=!0):pi("A selector must be created from a string; found "))},yl=vu.prototype;[gh,V0].forEach(function(x){return Pt(yl,x)}),yl.text=function(){return this.inputText},yl.size=function(){return this.length},yl.eq=function(x){return this[x]},yl.sameText=function(x){return!this.invalid&&!x.invalid&&this.text()===x.text()},yl.addQuery=function(x){this[this.length++]=x},yl.selector=yl.toString;var Zf={allAre:function(u){var y=new vu(u);return this.every(function(E){return y.matches(E)})},is:function(u){var y=new vu(u);return this.some(function(E){return y.matches(E)})},some:function(u,y){for(var E=0;E<this.length;E++)if(y?u.apply(y,[this[E],E,this]):u(this[E],E,this))return!0;return!1},every:function(u,y){for(var E=0;E<this.length;E++)if(!(y?u.apply(y,[this[E],E,this]):u(this[E],E,this)))return!1;return!0},same:function(u){if(this===u)return!0;u=this.cy().collection(u);var y=this.length;return y===u.length&&(1===y?this[0]===u[0]:this.every(function(R){return u.hasElementWithId(R.id())}))},anySame:function(u){return u=this.cy().collection(u),this.some(function(y){return u.hasElementWithId(y.id())})},allAreNeighbors:function(u){u=this.cy().collection(u);var y=this.neighborhood();return u.every(function(E){return y.hasElementWithId(E.id())})},contains:function(u){u=this.cy().collection(u);var y=this;return u.every(function(E){return y.hasElementWithId(E.id())})}};Zf.allAreNeighbours=Zf.allAreNeighbors,Zf.has=Zf.contains,Zf.equal=Zf.equals=Zf.same;var wm,di,Wu=function(u,y){return function(R,N,j,dt){var Ct,gt=R;if(null==gt?Ct="":c(gt)&&1===gt.length&&(Ct=gt.id()),1===this.length&&Ct){var Rt=this[0]._private,$t=Rt.traversalCache=Rt.traversalCache||{},ee=$t[y]=$t[y]||[],se=ei(Ct);return ee[se]||(ee[se]=u.call(this,R,N,j,dt))}return u.call(this,R,N,j,dt)}},qf={parent:function(u){var y=[];if(1===this.length){var E=this[0]._private.parent;if(E)return E}for(var R=0;R<this.length;R++){var j=this[R]._private.parent;j&&y.push(j)}return this.spawn(y,!0).filter(u)},parents:function(u){for(var y=[],E=this.parent();E.nonempty();){for(var R=0;R<E.length;R++)y.push(E[R]);E=E.parent()}return this.spawn(y,!0).filter(u)},commonAncestors:function(u){for(var y,E=0;E<this.length;E++){var N=this[E].parents();y=(y=y||N).intersect(N)}return y.filter(u)},orphans:function(u){return this.stdFilter(function(y){return y.isOrphan()}).filter(u)},nonorphans:function(u){return this.stdFilter(function(y){return y.isChild()}).filter(u)},children:Wu(function(x){for(var u=[],y=0;y<this.length;y++)for(var R=this[y]._private.children,N=0;N<R.length;N++)u.push(R[N]);return this.spawn(u,!0).filter(x)},"children"),siblings:function(u){return this.parent().children().not(this).filter(u)},isParent:function(){var u=this[0];if(u)return u.isNode()&&0!==u._private.children.length},isChildless:function(){var u=this[0];if(u)return u.isNode()&&0===u._private.children.length},isChild:function(){var u=this[0];if(u)return u.isNode()&&null!=u._private.parent},isOrphan:function(){var u=this[0];if(u)return u.isNode()&&null==u._private.parent},descendants:function(u){var y=[];return function E(R){for(var N=0;N<R.length;N++){var j=R[N];y.push(j),j.children().nonempty()&&E(j.children())}}(this.children()),this.spawn(y,!0).filter(u)}};function j0(x,u,y,E){for(var R=[],N=new mr,dt=x.cy().hasCompoundNodes(),gt=0;gt<x.length;gt++){var pt=x[gt];y?R.push(pt):dt&&E(R,N,pt)}for(;R.length>0;){var Ct=R.shift();u(Ct),N.add(Ct.id()),dt&&E(R,N,Ct)}return x}function Eo(x,u,y){if(y.isParent())for(var E=y._private.children,R=0;R<E.length;R++){var N=E[R];u.has(N.id())||x.push(N)}}function Nd(x,u,y){if(y.isChild()){var E=y._private.parent;u.has(E.id())||x.push(E)}}function pg(x,u,y){Nd(x,u,y),Eo(x,u,y)}qf.forEachDown=function(x){var u=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return j0(this,x,u,Eo)},qf.forEachUp=function(x){var u=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return j0(this,x,u,Nd)},qf.forEachUpAndDown=function(x){var u=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return j0(this,x,u,pg)},qf.ancestors=qf.parents,wm=di={data:Ft.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Ft.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Ft.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Ft.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Ft.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Ft.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var u=this[0];if(u)return u._private.data.id}},wm.attr=wm.data,wm.removeAttr=wm.removeData;var _m=di,nc={};function Ip(x){return function(u){var y=this;if(void 0===u&&(u=!0),0===y.length);else if(y.isNode()&&!y.removed()){for(var E=0,R=y[0],N=R._private.edges,j=0;j<N.length;j++){var dt=N[j];!u&&dt.isLoop()||(E+=x(R,dt))}return E}}}function vh(x,u){return function(y){for(var E,R=this.nodes(),N=0;N<R.length;N++){var dt=R[N][x](y);void 0!==dt&&(void 0===E||u(dt,E))&&(E=dt)}return E}}Pt(nc,{degree:Ip(function(x,u){return u.source().same(u.target())?2:1}),indegree:Ip(function(x,u){return u.target().same(x)?1:0}),outdegree:Ip(function(x,u){return u.source().same(x)?1:0})}),Pt(nc,{minDegree:vh("degree",function(x,u){return x<u}),maxDegree:vh("degree",function(x,u){return x>u}),minIndegree:vh("indegree",function(x,u){return x<u}),maxIndegree:vh("indegree",function(x,u){return x>u}),minOutdegree:vh("outdegree",function(x,u){return x<u}),maxOutdegree:vh("outdegree",function(x,u){return x>u})}),Pt(nc,{totalDegree:function(u){for(var y=0,E=this.nodes(),R=0;R<E.length;R++)y+=E[R].degree(u);return y}});var Jl,aa,el=function(u,y,E){for(var R=0;R<u.length;R++){var N=u[R];if(!N.locked()){var j=N._private.position,dt={x:null!=y.x?y.x-j.x:0,y:null!=y.y?y.y-j.y:0};N.isParent()&&!(0===dt.x&&0===dt.y)&&N.children().shift(dt,E),N.dirtyBoundingBoxCache()}}},Lu={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(u){u.updateCompoundBounds()},beforeSet:function(u,y){el(u,y,!1)},onSet:function(u){u.dirtyCompoundBoundsCache()},canSet:function(u){return!u.locked()}};Jl=aa={position:Ft.data(Lu),silentPosition:Ft.data(Pt({},Lu,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(u,y){el(u,y,!0)},onSet:function(u){u.dirtyCompoundBoundsCache()}})),positions:function(u,y){if(Ot(u))y?this.silentPosition(u):this.position(u);else if(wt(u)){var E=u,R=this.cy();R.startBatch();for(var N=0;N<this.length;N++){var dt,j=this[N];(dt=E(j,N))&&(y?j.silentPosition(dt):j.position(dt))}R.endBatch()}return this},silentPositions:function(u){return this.positions(u,!0)},shift:function(u,y,E){var R;if(Ot(u)?(R={x:Et(u.x)?u.x:0,y:Et(u.y)?u.y:0},E=y):lt(u)&&Et(y)&&((R={x:0,y:0})[u]=y),null!=R){var N=this.cy();N.startBatch();for(var j=0;j<this.length;j++){var dt=this[j],gt=dt.position(),pt={x:gt.x+R.x,y:gt.y+R.y};E?dt.silentPosition(pt):dt.position(pt)}N.endBatch()}return this},silentShift:function(u,y){return Ot(u)?this.shift(u,!0):lt(u)&&Et(y)&&this.shift(u,y,!0),this},renderedPosition:function(u,y){var E=this[0],R=this.cy(),N=R.zoom(),j=R.pan(),dt=Ot(u)?u:void 0,gt=void 0!==dt||void 0!==y&&lt(u);if(E&&E.isNode()){if(!gt){var Rt=E.position();return dt=Ho(Rt,N,j),void 0===u?dt:dt[u]}for(var pt=0;pt<this.length;pt++){var Ct=this[pt];void 0!==y?Ct.position(u,(y-j[u])/N):void 0!==dt&&Ct.position(ea(dt,N,j))}}else if(!gt)return;return this},relativePosition:function(u,y){var E=this[0],R=this.cy(),N=Ot(u)?u:void 0,j=void 0!==N||void 0!==y&&lt(u),dt=R.hasCompoundNodes();if(E&&E.isNode()){if(!j){var se=E.position(),qt=dt?E.parent():null,ge=qt&&qt.length>0;ge&&(qt=qt[0]);var He=ge?qt.position():{x:0,y:0};return N={x:se.x-He.x,y:se.y-He.y},void 0===u?N:N[u]}for(var gt=0;gt<this.length;gt++){var pt=this[gt],Ct=dt?pt.parent():null,Rt=Ct&&Ct.length>0;Rt&&(Ct=Ct[0]);var ee=Rt?Ct.position():{x:0,y:0};void 0!==y?pt.position(u,y+ee[u]):void 0!==N&&pt.position({x:N.x+ee.x,y:N.y+ee.y})}}else if(!j)return;return this}},Jl.modelPosition=Jl.point=Jl.position,Jl.modelPositions=Jl.points=Jl.positions,Jl.renderedPoint=Jl.renderedPosition,Jl.relativePoint=Jl.relativePosition;var Fd,Ha,ov=aa;Fd=Ha={},Ha.renderedBoundingBox=function(x){var u=this.boundingBox(x),y=this.cy(),E=y.zoom(),R=y.pan(),N=u.x1*E+R.x,j=u.x2*E+R.x,dt=u.y1*E+R.y,gt=u.y2*E+R.y;return{x1:N,x2:j,y1:dt,y2:gt,w:j-N,h:gt-dt}},Ha.dirtyCompoundBoundsCache=function(){var x=arguments.length>0&&void 0!==arguments[0]&&arguments[0],u=this.cy();return u.styleEnabled()&&u.hasCompoundNodes()?(this.forEachUp(function(y){if(y.isParent()){var E=y._private;E.compoundBoundsClean=!1,E.bbCache=null,x||y.emitAndNotify("bounds")}}),this):this},Ha.updateCompoundBounds=function(){var x=arguments.length>0&&void 0!==arguments[0]&&arguments[0],u=this.cy();if(!u.styleEnabled()||!u.hasCompoundNodes())return this;if(!x&&u.batching())return this;function y(j){if(j.isParent()){var dt=j._private,gt=j.children(),pt="include"===j.pstyle("compound-sizing-wrt-labels").value,Ct={width:{val:j.pstyle("min-width").pfValue,left:j.pstyle("min-width-bias-left"),right:j.pstyle("min-width-bias-right")},height:{val:j.pstyle("min-height").pfValue,top:j.pstyle("min-height-bias-top"),bottom:j.pstyle("min-height-bias-bottom")}},Rt=gt.boundingBox({includeLabels:pt,includeOverlays:!1,useCache:!1}),$t=dt.position;(0===Rt.w||0===Rt.h)&&((Rt={w:j.pstyle("width").pfValue,h:j.pstyle("height").pfValue}).x1=$t.x-Rt.w/2,Rt.x2=$t.x+Rt.w/2,Rt.y1=$t.y-Rt.h/2,Rt.y2=$t.y+Rt.h/2);var qt=Ct.width.left.value;"px"===Ct.width.left.units&&Ct.width.val>0&&(qt=100*qt/Ct.width.val);var ge=Ct.width.right.value;"px"===Ct.width.right.units&&Ct.width.val>0&&(ge=100*ge/Ct.width.val);var Ae=Ct.height.top.value;"px"===Ct.height.top.units&&Ct.height.val>0&&(Ae=100*Ae/Ct.height.val);var He=Ct.height.bottom.value;"px"===Ct.height.bottom.units&&Ct.height.val>0&&(He=100*He/Ct.height.val);var ze=ee(Ct.width.val-Rt.w,qt,ge),ri=ze.biasDiff,ki=ze.biasComplementDiff,Oi=ee(Ct.height.val-Rt.h,Ae,He),ii=Oi.biasDiff,Ti=Oi.biasComplementDiff;dt.autoPadding=function(fi,Ri,Ii,Ci){if("%"!==Ii.units)return"px"===Ii.units?Ii.pfValue:0;switch(Ci){case"width":return fi>0?Ii.pfValue*fi:0;case"height":return Ri>0?Ii.pfValue*Ri:0;case"average":return fi>0&&Ri>0?Ii.pfValue*(fi+Ri)/2:0;case"min":return fi>0&&Ri>0?fi>Ri?Ii.pfValue*Ri:Ii.pfValue*fi:0;case"max":return fi>0&&Ri>0?fi>Ri?Ii.pfValue*fi:Ii.pfValue*Ri:0;default:return 0}}(Rt.w,Rt.h,j.pstyle("padding"),j.pstyle("padding-relative-to").value),dt.autoWidth=Math.max(Rt.w,Ct.width.val),$t.x=(-ri+Rt.x1+Rt.x2+ki)/2,dt.autoHeight=Math.max(Rt.h,Ct.height.val),$t.y=(-ii+Rt.y1+Rt.y2+Ti)/2}function ee(fi,Ri,Ii){var Ci=0,Ki=0,Ai=Ri+Ii;return fi>0&&Ai>0&&(Ci=Ri/Ai*fi,Ki=Ii/Ai*fi),{biasDiff:Ci,biasComplementDiff:Ki}}}for(var E=0;E<this.length;E++){var R=this[E],N=R._private;(!N.compoundBoundsClean||x)&&(y(R),u.batching()||(N.compoundBoundsClean=!0))}return this};var _a=function(u){return u===1/0||u===-1/0?0:u},Gs=function(u,y,E,R,N){R-y==0||N-E==0||null==y||null==E||null==R||null==N||(u.x1=y<u.x1?y:u.x1,u.x2=R>u.x2?R:u.x2,u.y1=E<u.y1?E:u.y1,u.y2=N>u.y2?N:u.y2,u.w=u.x2-u.x1,u.h=u.y2-u.y1)},Ll=function(u,y){return null==y?u:Gs(u,y.x1,y.y1,y.x2,y.y2)},Nl=function(u,y,E){return Ni(u,y,E)},Jf=function(u,y,E){if(!y.cy().headless()){var gt,pt,R=y._private,N=R.rstyle,j=N.arrowWidth/2;if("none"!==y.pstyle(E+"-arrow-shape").value){"source"===E?(gt=N.srcX,pt=N.srcY):"target"===E?(gt=N.tgtX,pt=N.tgtY):(gt=N.midX,pt=N.midY);var Ct=R.arrowBounds=R.arrowBounds||{},Rt=Ct[E]=Ct[E]||{};Rt.x1=gt-j,Rt.y1=pt-j,Rt.x2=gt+j,Rt.y2=pt+j,Rt.w=Rt.x2-Rt.x1,Rt.h=Rt.y2-Rt.y1,ja(Rt,1),Gs(u,Rt.x1,Rt.y1,Rt.x2,Rt.y2)}}},bm=function(u,y,E){if(!y.cy().headless()){var R,N=y._private,j=N.rstyle;if(y.pstyle((R=E?E+"-":"")+"label").strValue){var Ii,Ci,Ki,Ai,gt=y.pstyle("text-halign"),pt=y.pstyle("text-valign"),Ct=Nl(j,"labelWidth",E),Rt=Nl(j,"labelHeight",E),$t=Nl(j,"labelX",E),ee=Nl(j,"labelY",E),se=y.pstyle(R+"text-margin-x").pfValue,qt=y.pstyle(R+"text-margin-y").pfValue,ge=y.isEdge(),Ae=y.pstyle(R+"text-rotation"),He=y.pstyle("text-outline-width").pfValue,ri=y.pstyle("text-border-width").pfValue/2,ki=y.pstyle("text-background-padding").pfValue,ii=Rt,Ti=Ct,fi=Ti/2,Ri=ii/2;if(ge)Ii=$t-fi,Ci=$t+fi,Ki=ee-Ri,Ai=ee+Ri;else{switch(gt.value){case"left":Ii=$t-Ti,Ci=$t;break;case"center":Ii=$t-fi,Ci=$t+fi;break;case"right":Ii=$t,Ci=$t+Ti}switch(pt.value){case"top":Ki=ee-ii,Ai=ee;break;case"center":Ki=ee-Ri,Ai=ee+Ri;break;case"bottom":Ki=ee,Ai=ee+ii}}Ii+=se-Math.max(He,ri)-ki-2,Ci+=se+Math.max(He,ri)+ki+2,Ki+=qt-Math.max(He,ri)-ki-2,Ai+=qt+Math.max(He,ri)+ki+2;var mn=E||"main",ln=N.labelBounds,dn=ln[mn]=ln[mn]||{};dn.x1=Ii,dn.y1=Ki,dn.x2=Ci,dn.y2=Ai,dn.w=Ci-Ii,dn.h=Ai-Ki;var un=ge&&"autorotate"===Ae.strValue;if(un||null!=Ae.pfValue&&0!==Ae.pfValue){var Nn=un?Nl(N.rstyle,"labelAngle",E):Ae.pfValue,Cn=Math.cos(Nn),Ji=Math.sin(Nn),Hn=(Ii+Ci)/2,Si=(Ki+Ai)/2;if(!ge){switch(gt.value){case"left":Hn=Ci;break;case"right":Hn=Ii}switch(pt.value){case"top":Si=Ai;break;case"bottom":Si=Ki}}var Zn=function(yo,Tr){return{x:(yo-=Hn)*Cn-(Tr-=Si)*Ji+Hn,y:yo*Ji+Tr*Cn+Si}},Wn=Zn(Ii,Ki),pn=Zn(Ii,Ai),kn=Zn(Ci,Ki),Qn=Zn(Ci,Ai);Ii=Math.min(Wn.x,pn.x,kn.x,Qn.x),Ci=Math.max(Wn.x,pn.x,kn.x,Qn.x),Ki=Math.min(Wn.y,pn.y,kn.y,Qn.y),Ai=Math.max(Wn.y,pn.y,kn.y,Qn.y)}var rr=mn+"Rot",_r=ln[rr]=ln[rr]||{};_r.x1=Ii,_r.y1=Ki,_r.x2=Ci,_r.y2=Ai,_r.w=Ci-Ii,_r.h=Ai-Ki,Gs(u,Ii,Ki,Ci,Ai),Gs(N.labelBounds.all,Ii,Ki,Ci,Ai)}return u}},Mm=function(u){var y=0,E=function(j){return(j?1:0)<<y++},R=0;return R+=E(u.incudeNodes),R+=E(u.includeEdges),R+=E(u.includeLabels),R+=E(u.includeMainLabels),R+=E(u.includeSourceLabels),(R+=E(u.includeTargetLabels))+E(u.includeOverlays)},Lh=function(u){if(u.isEdge()){var y=u.source().position(),E=u.target().position(),R=function(j){return Math.round(j)};return function(u,y){var E={value:0,done:!1},R=0,N=u.length;return bn({next:function(){return R<N?E.value=u[R++]:E.done=!0,E}},void 0)}([R(y.x),R(y.y),R(E.x),R(E.y)])}return 0},Ga=function(u,y){var R,E=u._private,N=u.isEdge(),dt=(null==y?Bd:Mm(y))===Bd,gt=Lh(u),pt=E.bbCachePosKey===gt,Ct=y.useCache&&pt,Rt=function(qt){return null==qt._private.bbCache||qt._private.styleDirty};if(!Ct||Rt(u)||N&&Rt(u.source())||Rt(u.target())?(pt||u.recalculateRenderedStyle(Ct),R=function(u,y){var Ct,Rt,$t,ee,se,qt,E=u._private.cy,R=E.styleEnabled(),N=E.headless(),j=ko(),dt=u._private,gt=u.isNode(),pt=u.isEdge(),ge=dt.rstyle,Ae=gt&&R?u.pstyle("bounds-expansion").pfValue:[0],He=function(yo){return"none"!==yo.pstyle("display").value},ze=!R||He(u)&&(!pt||He(u.source())&&He(u.target()));if(ze){var ki=0;R&&y.includeOverlays&&0!==u.pstyle("overlay-opacity").value&&(ki=u.pstyle("overlay-padding").value);var ii=0;if(R&&(ii=u.pstyle("width").pfValue/2),gt&&y.includeNodes){var Ti=u.position();se=Ti.x,qt=Ti.y;var Ri=u.outerWidth()/2,Ci=u.outerHeight()/2;Gs(j,Ct=se-Ri,$t=qt-Ci,Rt=se+Ri,ee=qt+Ci)}else if(pt&&y.includeEdges)if(R&&!N){var Ki=u.pstyle("curve-style").strValue;if(Ct=Math.min(ge.srcX,ge.midX,ge.tgtX),Rt=Math.max(ge.srcX,ge.midX,ge.tgtX),$t=Math.min(ge.srcY,ge.midY,ge.tgtY),ee=Math.max(ge.srcY,ge.midY,ge.tgtY),Gs(j,Ct-=ii,$t-=ii,Rt+=ii,ee+=ii),"haystack"===Ki){var Ai=ge.haystackPts;if(Ai&&2===Ai.length){if((Ct=Ai[0].x)>(Rt=Ai[1].x)){var mn=Ct;Ct=Rt,Rt=mn}if(($t=Ai[0].y)>(ee=Ai[1].y)){var ln=$t;$t=ee,ee=ln}Gs(j,Ct-ii,$t-ii,Rt+ii,ee+ii)}}else if("bezier"===Ki||"unbundled-bezier"===Ki||"segments"===Ki||"taxi"===Ki){var dn;switch(Ki){case"bezier":case"unbundled-bezier":dn=ge.bezierPts;break;case"segments":case"taxi":dn=ge.linePts}if(null!=dn)for(var un=0;un<dn.length;un++){var fn=dn[un];Gs(j,Ct=fn.x-ii,$t=fn.y-ii,Rt=fn.x+ii,ee=fn.y+ii)}}}else{var Cn=u.source().position(),Hn=u.target().position();if((Ct=Cn.x)>(Rt=Hn.x)){var Si=Ct;Ct=Rt,Rt=Si}if(($t=Cn.y)>(ee=Hn.y)){var Zn=$t;$t=ee,ee=Zn}Gs(j,Ct-=ii,$t-=ii,Rt+=ii,ee+=ii)}if(R&&y.includeEdges&&pt&&(Jf(j,u,"mid-source"),Jf(j,u,"mid-target"),Jf(j,u,"source"),Jf(j,u,"target")),R&&"yes"===u.pstyle("ghost").value){var pn=u.pstyle("ghost-offset-x").pfValue,kn=u.pstyle("ghost-offset-y").pfValue;Gs(j,j.x1+pn,j.y1+kn,j.x2+pn,j.y2+kn)}var Qn=dt.bodyBounds=dt.bodyBounds||{};or(Qn,j),ql(Qn,Ae),ja(Qn,1),R&&Gs(j,(Ct=j.x1)-ki,($t=j.y1)-ki,(Rt=j.x2)+ki,(ee=j.y2)+ki);var rr=dt.overlayBounds=dt.overlayBounds||{};or(rr,j),ql(rr,Ae),ja(rr,1);var _r=dt.labelBounds=dt.labelBounds||{};null!=_r.all?function(u){u.x1=1/0,u.y1=1/0,u.x2=-1/0,u.y2=-1/0,u.w=0,u.h=0}(_r.all):_r.all=ko(),R&&y.includeLabels&&(y.includeMainLabels&&bm(j,u,null),pt&&(y.includeSourceLabels&&bm(j,u,"source"),y.includeTargetLabels&&bm(j,u,"target")))}return j.x1=_a(j.x1),j.y1=_a(j.y1),j.x2=_a(j.x2),j.y2=_a(j.y2),j.w=_a(j.x2-j.x1),j.h=_a(j.y2-j.y1),j.w>0&&j.h>0&&ze&&(ql(j,Ae),ja(j,1)),j}(u,Ya),E.bbCache=R,E.bbCachePosKey=gt):R=E.bbCache,!dt){var ee=u.isNode();R=ko(),(y.includeNodes&&ee||y.includeEdges&&!ee)&&Ll(R,y.includeOverlays?E.overlayBounds:E.bodyBounds),y.includeLabels&&(y.includeMainLabels&&(!N||y.includeSourceLabels&&y.includeTargetLabels)?Ll(R,E.labelBounds.all):(y.includeMainLabels&&Ll(R,E.labelBounds.mainRot),y.includeSourceLabels&&Ll(R,E.labelBounds.sourceRot),y.includeTargetLabels&&Ll(R,E.labelBounds.targetRot))),R.w=R.x2-R.x1,R.h=R.y2-R.y1}return R},Ya={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,useCache:!0},Bd=Mm(Ya),Nh=Ln(Ya);Ha.boundingBox=function(x){var u;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==x&&void 0!==x.useCache&&!0!==x.useCache){u=ko();var y=Nh(x=x||Ya),E=this;if(E.cy().styleEnabled())for(var j=0;j<E.length;j++){var dt=E[j],gt=dt._private,pt=Lh(dt);dt.recalculateRenderedStyle(y.useCache&&gt.bbCachePosKey===pt&&!gt.styleDirty)}this.updateCompoundBounds(!x.useCache);for(var $t=0;$t<E.length;$t++)Ll(u,Ga(E[$t],y))}else x=void 0===x?Ya:Nh(x),u=Ga(this[0],x);return u.x1=_a(u.x1),u.y1=_a(u.y1),u.x2=_a(u.x2),u.y2=_a(u.y2),u.w=_a(u.x2-u.x1),u.h=_a(u.y2-u.y1),u},Ha.dirtyBoundingBoxCache=function(){for(var x=0;x<this.length;x++){var u=this[x]._private;u.bbCache=null,u.bbCachePosKey=null,u.bodyBounds=null,u.overlayBounds=null,u.labelBounds.all=null,u.labelBounds.source=null,u.labelBounds.target=null,u.labelBounds.main=null,u.labelBounds.sourceRot=null,u.labelBounds.targetRot=null,u.labelBounds.mainRot=null,u.arrowBounds.source=null,u.arrowBounds.target=null,u.arrowBounds["mid-source"]=null,u.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Ha.boundingBoxAt=function(x){var u=this.nodes(),y=this.cy(),E=y.hasCompoundNodes(),R=y.collection();if(E&&(R=u.filter(function(pt){return pt.isParent()}),u=u.not(R)),Ot(x)){var N=x;x=function(){return N}}y.startBatch(),u.forEach(function(Ct,Rt){return Ct._private.bbAtOldPos=x(Ct,Rt)}).silentPositions(x),E&&(R.dirtyCompoundBoundsCache(),R.dirtyBoundingBoxCache(),R.updateCompoundBounds(!0));var gt=function(u){return{x1:u.x1,x2:u.x2,w:u.w,y1:u.y1,y2:u.y2,h:u.h}}(this.boundingBox({useCache:!1}));return u.silentPositions(function(Ct){return Ct._private.bbAtOldPos}),E&&(R.dirtyCompoundBoundsCache(),R.dirtyBoundingBoxCache(),R.updateCompoundBounds(!0)),y.endBatch(),gt},Fd.boundingbox=Fd.bb=Fd.boundingBox,Fd.renderedBoundingbox=Fd.renderedBoundingBox;var Ku,Vd,Fl=Ha;Ku=Vd={};var Cm=function(u){u.uppercaseName=te(u.name),u.autoName="auto"+u.uppercaseName,u.labelName="label"+u.uppercaseName,u.outerName="outer"+u.uppercaseName,u.uppercaseOuterName=te(u.outerName),Ku[u.name]=function(){var E=this[0],R=E._private;if(E){if(R.cy._private.styleEnabled){if(E.isParent())return E.updateCompoundBounds(),R[u.autoName]||0;var dt=E.pstyle(u.name);return"label"===dt.strValue?(E.recalculateRenderedStyle(),R.rstyle[u.labelName]||0):dt.pfValue}return 1}},Ku["outer"+u.uppercaseName]=function(){var E=this[0];if(E)return E._private.cy._private.styleEnabled?E[u.name]()+E.pstyle("border-width").pfValue+2*E.padding():1},Ku["rendered"+u.uppercaseName]=function(){var E=this[0];if(E)return E[u.name]()*this.cy().zoom()},Ku["rendered"+u.uppercaseOuterName]=function(){var E=this[0];if(E)return E[u.outerName]()*this.cy().zoom()}};Cm({name:"width"}),Cm({name:"height"}),Vd.padding=function(){var x=this[0],u=x._private;return x.isParent()?(x.updateCompoundBounds(),void 0!==u.autoPadding?u.autoPadding:x.pstyle("padding").pfValue):x.pstyle("padding").pfValue},Vd.paddedHeight=function(){var x=this[0];return x.height()+2*x.padding()},Vd.paddedWidth=function(){var x=this[0];return x.width()+2*x.padding()};var jd=Vd,yu={controlPoints:{get:function(u){return u.renderer().getControlPoints(u)},mult:!0},segmentPoints:{get:function(u){return u.renderer().getSegmentPoints(u)},mult:!0},sourceEndpoint:{get:function(u){return u.renderer().getSourceEndpoint(u)}},targetEndpoint:{get:function(u){return u.renderer().getTargetEndpoint(u)}},midpoint:{get:function(u){return u.renderer().getEdgeMidpoint(u)}}},gg=Object.keys(yu).reduce(function(x,u){var y=yu[u],E=function(u){return"rendered"+u[0].toUpperCase()+u.substr(1)}(u);return x[u]=function(){return function(u,y){if(u.isEdge())return y(u)}(this,y.get)},x[E]=y.mult?function(){return function(u,y){if(u.isEdge()){var E=u.cy(),R=E.pan(),N=E.zoom();return y(u).map(function(j){return Ho(j,N,R)})}}(this,y.get)}:function(){return function(u,y){if(u.isEdge()){var E=u.cy();return Ho(y(u),E.zoom(),E.pan())}}(this,y.get)},x},{}),Ud=Pt({},ov,Fl,jd,gg),Hd=function(u,y){this.recycle(u,y)};function Ql(){return!1}function rc(){return!0}Hd.prototype={instanceString:function(){return"event"},recycle:function(u,y){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Ql,null!=u&&u.preventDefault?(this.type=u.type,this.isDefaultPrevented=u.defaultPrevented?rc:Ql):null!=u&&u.type?y=u:this.type=u,null!=y&&(this.originalEvent=y.originalEvent,this.type=null!=y.type?y.type:this.type,this.cy=y.cy,this.target=y.target,this.position=y.position,this.renderedPosition=y.renderedPosition,this.namespace=y.namespace,this.layout=y.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var E=this.position,R=this.cy.zoom(),N=this.cy.pan();this.renderedPosition={x:E.x*R+N.x,y:E.y*R+N.y}}this.timeStamp=u&&u.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=rc;var u=this.originalEvent;!u||u.preventDefault&&u.preventDefault()},stopPropagation:function(){this.isPropagationStopped=rc;var u=this.originalEvent;!u||u.stopPropagation&&u.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=rc,this.stopPropagation()},isDefaultPrevented:Ql,isPropagationStopped:Ql,isImmediatePropagationStopped:Ql};var Ic=/^([^.]+)(\.(?:[^.]+))?$/,ba={qualifierCompare:function(u,y){return u===y},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(u){return u},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Qf=Object.keys(ba),sv={};function Bh(){for(var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sv,u=arguments.length>1?arguments[1]:void 0,y=0;y<Qf.length;y++){var E=Qf[y];this[E]=x[E]||ba[E]}this.context=u||this.context,this.listeners=[],this.emitting=0}var yh=Bh.prototype,oc=function(u,y,E,R,N,j,dt){wt(R)&&(N=R,R=null),dt&&(j=null==j?dt:Pt({},j,dt));for(var gt=xt(E)?E:E.split(/\s+/),pt=0;pt<gt.length;pt++){var Ct=gt[pt];if(!C(Ct)){var Rt=Ct.match(Ic);if(Rt&&!1===y(u,Ct,Rt[1],Rt[2]?Rt[2]:null,R,N,j))break}}},Em=function(u,y){return u.addEventFields(u.context,y),new Hd(y.type,y)};yh.on=yh.addListener=function(x,u,y,E,R){return oc(this,function(N,j,dt,gt,pt,Ct,Rt){wt(Ct)&&N.listeners.push({event:j,callback:Ct,type:dt,namespace:gt,qualifier:pt,conf:Rt})},x,u,y,E,R),this},yh.one=function(x,u,y,E){return this.on(x,u,y,E,{one:!0})},yh.removeListener=yh.off=function(x,u,y,E){var R=this;0!==this.emitting&&(this.listeners=function(u){return u.slice()}(this.listeners));for(var N=this.listeners,j=function(pt){var Ct=N[pt];oc(R,function(Rt,$t,ee,se,qt,ge){if((Ct.type===ee||"*"===x)&&(!se&&".*"!==Ct.namespace||Ct.namespace===se)&&(!qt||Rt.qualifierCompare(Ct.qualifier,qt))&&(!ge||Ct.callback===ge))return N.splice(pt,1),!1},x,u,y,E)},dt=N.length-1;dt>=0;dt--)j(dt);return this},yh.removeAllListeners=function(){return this.removeListener("*")},yh.emit=yh.trigger=function(x,u,y){var E=this.listeners,R=E.length;return this.emitting++,xt(u)||(u=[u]),function(u,y,E){if(function(u){return"event"===ot(u)}(E))y(u,E);else if(Ot(E))y(u,Em(u,E));else for(var R=xt(E)?E:E.split(/\s+/),N=0;N<R.length;N++){var j=R[N];if(!C(j)){var dt=j.match(Ic);dt&&y(u,Em(u,{type:dt[1],namespace:dt[2]?dt[2]:null,target:u.context}))}}}(this,function(N,j){null!=y&&(R=(E=[{event:j.event,type:j.type,namespace:j.namespace,callback:y}]).length);for(var dt=function(Ct){var Rt=E[Ct];if(Rt.type===j.type&&(!Rt.namespace||Rt.namespace===j.namespace||".*"===Rt.namespace)&&N.eventMatches(N.context,Rt,j)){var $t=[j];null!=u&&function(u,y){for(var E=0;E<y.length;E++)u.push(y[E])}($t,u),N.beforeEmit(N.context,Rt,j),Rt.conf&&Rt.conf.one&&(N.listeners=N.listeners.filter(function(qt){return qt!==Rt}));var ee=N.callbackContext(N.context,Rt,j),se=Rt.callback.apply(ee,$t);N.afterEmit(N.context,Rt,j),!1===se&&(j.stopPropagation(),j.preventDefault())}},gt=0;gt<R;gt++)dt(gt);N.bubble(N.context)&&!j.isPropagationStopped()&&N.parent(N.context).emit(j,u)},x),this.emitting--,this};var Gd={qualifierCompare:function(u,y){return null==u||null==y?null==u&&null==y:u.sameText(y)},eventMatches:function(u,y,E){var R=y.qualifier;return null==R||u!==E.target&&g(E.target)&&R.matches(E.target)},addEventFields:function(u,y){y.cy=u.cy(),y.target=u},callbackContext:function(u,y,E){return null!=y.qualifier?E.target:u},beforeEmit:function(u,y){y.conf&&y.conf.once&&y.conf.onceCollection.removeListener(y.event,y.qualifier,y.callback)},bubble:function(){return!0},parent:function(u){return u.isChild()?u.parent():u.cy()}},$u=function(u){return lt(u)?new vu(u):u},Yd={createEmitter:function(){for(var u=0;u<this.length;u++){var y=this[u],E=y._private;E.emitter||(E.emitter=new Bh(Gd,y))}return this},emitter:function(){return this._private.emitter},on:function(u,y,E){for(var R=$u(y),N=0;N<this.length;N++)this[N].emitter().on(u,R,E);return this},removeListener:function(u,y,E){for(var R=$u(y),N=0;N<this.length;N++)this[N].emitter().removeListener(u,R,E);return this},removeAllListeners:function(){for(var u=0;u<this.length;u++)this[u].emitter().removeAllListeners();return this},one:function(u,y,E){for(var R=$u(y),N=0;N<this.length;N++)this[N].emitter().one(u,R,E);return this},once:function(u,y,E){for(var R=$u(y),N=0;N<this.length;N++)this[N].emitter().on(u,R,E,{once:!0,onceCollection:this})},emit:function(u,y){for(var E=0;E<this.length;E++)this[E].emitter().emit(u,y);return this},emitAndNotify:function(u,y){if(0!==this.length)return this.cy().notify(u,this),this.emit(u,y),this}};Ft.eventAliasesOn(Yd);var sc={nodes:function(u){return this.filter(function(y){return y.isNode()}).filter(u)},edges:function(u){return this.filter(function(y){return y.isEdge()}).filter(u)},byGroup:function(){for(var u=this.spawn(),y=this.spawn(),E=0;E<this.length;E++){var R=this[E];R.isNode()?u.push(R):y.push(R)}return{nodes:u,edges:y}},filter:function(u,y){if(void 0===u)return this;if(lt(u)||c(u))return new vu(u).filter(this);if(wt(u)){for(var E=this.spawn(),R=this,N=0;N<R.length;N++){var j=R[N];(y?u.apply(y,[j,N,R]):u(j,N,R))&&E.push(j)}return E}return this.spawn()},not:function(u){if(u){lt(u)&&(u=this.filter(u));for(var y=this.spawn(),E=0;E<this.length;E++){var R=this[E];u.has(R)||y.push(R)}return y}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(u){if(lt(u))return this.filter(u);for(var E=this.spawn(),j=this.length<u.length,dt=j?this:u,gt=j?u:this,pt=0;pt<dt.length;pt++){var Ct=dt[pt];gt.has(Ct)&&E.push(Ct)}return E},xor:function(u){var y=this._private.cy;lt(u)&&(u=y.$(u));var E=this.spawn(),N=u,j=function(gt,pt){for(var Ct=0;Ct<gt.length;Ct++){var Rt=gt[Ct];pt.hasElementWithId(Rt._private.data.id)||E.push(Rt)}};return j(this,N),j(N,this),E},diff:function(u){var y=this._private.cy;lt(u)&&(u=y.$(u));var E=this.spawn(),R=this.spawn(),N=this.spawn(),dt=u,gt=function(Ct,Rt,$t){for(var ee=0;ee<Ct.length;ee++){var se=Ct[ee];Rt.hasElementWithId(se._private.data.id)?N.merge(se):$t.push(se)}};return gt(this,dt,E),gt(dt,this,R),{left:E,right:R,both:N}},add:function(u){var y=this._private.cy;if(!u)return this;if(lt(u)){var E=u;u=y.mutableElements().filter(E)}for(var R=this.spawnSelf(),N=0;N<u.length;N++){var j=u[N];!this.has(j)&&R.push(j)}return R},merge:function(u){var y=this._private,E=y.cy;if(!u)return this;if(u&&lt(u)){var R=u;u=E.mutableElements().filter(R)}for(var N=y.map,j=0;j<u.length;j++){var dt=u[j],gt=dt._private.data.id;if(!N.has(gt)){var Ct=this.length++;this[Ct]=dt,N.set(gt,{ele:dt,index:Ct})}}return this},unmergeAt:function(u){var E=this[u].id(),N=this._private.map;if(this[u]=void 0,N.delete(E),this.length>1&&u!==this.length-1){var dt=this.length-1,gt=this[dt],pt=gt._private.data.id;this[dt]=void 0,this[u]=gt,N.set(pt,{ele:gt,index:u})}return this.length--,this},unmergeOne:function(u){var N=this._private.map.get((u=u[0])._private.data.id);return N?(this.unmergeAt(N.index),this):this},unmerge:function(u){var y=this._private.cy;if(!u)return this;if(u&&lt(u)){var E=u;u=y.mutableElements().filter(E)}for(var R=0;R<u.length;R++)this.unmergeOne(u[R]);return this},unmergeBy:function(u){for(var y=this.length-1;y>=0;y--)u(this[y])&&this.unmergeAt(y);return this},map:function(u,y){for(var E=[],R=this,N=0;N<R.length;N++){var j=R[N],dt=y?u.apply(y,[j,N,R]):u(j,N,R);E.push(dt)}return E},reduce:function(u,y){for(var E=y,R=this,N=0;N<R.length;N++)E=u(E,R[N],N,R);return E},max:function(u,y){for(var R,E=-1/0,N=this,j=0;j<N.length;j++){var dt=N[j],gt=y?u.apply(y,[dt,j,N]):u(dt,j,N);gt>E&&(E=gt,R=dt)}return{value:E,ele:R}},min:function(u,y){for(var R,E=1/0,N=this,j=0;j<N.length;j++){var dt=N[j],gt=y?u.apply(y,[dt,j,N]):u(dt,j,N);gt<E&&(E=gt,R=dt)}return{value:E,ele:R}}},ls=sc;ls.u=ls["|"]=ls["+"]=ls.union=ls.or=ls.add,ls["\\"]=ls["!"]=ls["-"]=ls.difference=ls.relativeComplement=ls.subtract=ls.not,ls.n=ls["&"]=ls["."]=ls.and=ls.intersection=ls.intersect,ls["^"]=ls["(+)"]=ls["(-)"]=ls.symmetricDifference=ls.symdiff=ls.xor,ls.fnFilter=ls.filterFn=ls.stdFilter=ls.filter,ls.complement=ls.abscomp=ls.absoluteComplement;var u,Wd=function(u,y){var R=u.cy().hasCompoundNodes();function N(Ct){var Rt=Ct.pstyle("z-compound-depth");return"auto"===Rt.value?R?Ct.zDepth():0:"bottom"===Rt.value?-1:"top"===Rt.value?Zt:0}var j=N(u)-N(y);if(0!==j)return j;function dt(Ct){return"auto"===Ct.pstyle("z-index-compare").value&&Ct.isNode()?1:0}var gt=dt(u)-dt(y);if(0!==gt)return gt;var pt=u.pstyle("z-index").value-y.pstyle("z-index").value;return 0!==pt?pt:u.poolIndex()-y.poolIndex()},gf={forEach:function(u,y){if(wt(u))for(var E=this.length,R=0;R<E;R++){var N=this[R];if(!1===(y?u.apply(y,[N,R,this]):u(N,R,this)))break}return this},toArray:function(){for(var u=[],y=0;y<this.length;y++)u.push(this[y]);return u},slice:function(u,y){var E=[],R=this.length;null==y&&(y=R),null==u&&(u=0),u<0&&(u=R+u),y<0&&(y=R+y);for(var N=u;N>=0&&N<y&&N<R;N++)E.push(this[N]);return this.spawn(E)},size:function(){return this.length},eq:function(u){return this[u]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(u){if(!wt(u))return this;var y=this.toArray().sort(u);return this.spawn(y)},sortByZIndex:function(){return this.sort(Wd)},zDepth:function(){var u=this[0];if(u){var y=u._private;if("nodes"===y.group){var R=y.data.parent?u.parents().size():0;return u.isParent()?R:Zt-1}var j=y.target,dt=y.source.zDepth(),gt=j.zDepth();return Math.max(dt,gt,0)}}};gf.each=gf.forEach,u="undefined",("undefined"==typeof Symbol?"undefined":tt(Symbol))!=u&&tt(Symbol.iterator)!=u&&(gf[Symbol.iterator]=function(){var E=this,R={value:void 0,done:!1},N=0,j=this.length;return rt({next:function(){return N<j?R.value=E[N++]:(R.value=void 0,R.done=!0),R}},Symbol.iterator,function(){return this})});var Np=Ln({nodeDimensionsIncludeLabels:!1}),Kd={layoutDimensions:function(u){var y;if(u=Np(u),this.takesUpSpace())if(u.nodeDimensionsIncludeLabels){var E=this.boundingBox();y={w:E.w,h:E.h}}else y={w:this.outerWidth(),h:this.outerHeight()};else y={w:0,h:0};return(0===y.w||0===y.h)&&(y.w=y.h=1),y},layoutPositions:function(u,y,E){var R=this.nodes().filter(function(ki){return!ki.isParent()}),N=this.cy(),j=y.eles,dt=function(Oi){return Oi.id()},gt=st(E,dt);u.emit({type:"layoutstart",layout:u}),u.animations=[];var Ct=y.spacingFactor&&1!==y.spacingFactor,$t=function(){if(!Ct)return null;for(var Oi=ko(),ii=0;ii<R.length;ii++){var fi=gt(R[ii],ii);Ou(Oi,fi.x,fi.y)}return Oi}(),ee=st(function(ki,Oi){var ii=gt(ki,Oi);return Ct&&(ii=function(Oi,ii,Ti){var fi_x=ii.x1+ii.w/2,fi_y=ii.y1+ii.h/2;return{x:fi_x+(Ti.x-fi_x)*Oi,y:fi_y+(Ti.y-fi_y)*Oi}}(Math.abs(y.spacingFactor),$t,ii)),null!=y.transform&&(ii=y.transform(ki,ii)),ii},dt);if(y.animate){for(var se=0;se<R.length;se++){var qt=R[se],ge=ee(qt,se);if(null==y.animateFilter||y.animateFilter(qt,se)){var He=qt.animation({position:ge,duration:y.animationDuration,easing:y.animationEasing});u.animations.push(He)}else qt.position(ge)}if(y.fit){var ze=N.animation({fit:{boundingBox:j.boundingBoxAt(ee),padding:y.padding},duration:y.animationDuration,easing:y.animationEasing});u.animations.push(ze)}else if(void 0!==y.zoom&&void 0!==y.pan){var ri=N.animation({zoom:y.zoom,pan:y.pan,duration:y.animationDuration,easing:y.animationEasing});u.animations.push(ri)}u.animations.forEach(function(ki){return ki.play()}),u.one("layoutready",y.ready),u.emit({type:"layoutready",layout:u}),pu.all(u.animations.map(function(ki){return ki.promise()})).then(function(){u.one("layoutstop",y.stop),u.emit({type:"layoutstop",layout:u})})}else R.positions(ee),y.fit&&N.fit(y.eles,y.padding),null!=y.zoom&&N.zoom(y.zoom),y.pan&&N.pan(y.pan),u.one("layoutready",y.ready),u.emit({type:"layoutready",layout:u}),u.one("layoutstop",y.stop),u.emit({type:"layoutstop",layout:u});return this},layout:function(u){return this.cy().makeLayout(Pt({},u,{eles:this}))}};function vf(x,u,y){var N,E=y._private,R=E.styleCache=E.styleCache||[];return null!=(N=R[x])||(N=R[x]=u(y)),N}function Vh(x,u){return x=ei(x),function(E){return vf(x,u,E)}}function yf(x,u){x=ei(x);var y=function(R){return u.call(R)};return function(){var R=this[0];if(R)return vf(x,y,R)}}Kd.createLayout=Kd.makeLayout=Kd.layout;var xl={recalculateRenderedStyle:function(u){var y=this.cy(),E=y.renderer(),R=y.styleEnabled();return E&&R&&E.recalculateRenderedStyle(this,u),this},dirtyStyleCache:function(){var E,u=this.cy(),y=function(N){return N._private.styleCache=null};return u.hasCompoundNodes()?((E=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(E.connectedEdges()),E.forEach(y)):this.forEach(function(R){y(R),R.connectedEdges().forEach(y)}),this},updateStyle:function(u){var y=this._private.cy;if(!y.styleEnabled())return this;if(y.batching())return y._private.batchStyleEles.merge(this),this;var N=this;u=!(!u&&void 0!==u),y.hasCompoundNodes()&&(N=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var j=N;return u?j.emitAndNotify("style"):j.emit("style"),N.forEach(function(dt){return dt._private.styleDirty=!0}),this},cleanStyle:function(){var u=this.cy();if(u.styleEnabled())for(var y=0;y<this.length;y++){var E=this[y];E._private.styleDirty&&(E._private.styleDirty=!1,u.style().apply(E))}},parsedStyle:function(u){var y=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],E=this[0],R=E.cy();if(R.styleEnabled()&&E){this.cleanStyle();var N=E._private.style[u];return null!=N?N:y?R.style().getDefaultProperty(u):null}},numericStyle:function(u){var y=this[0];if(y.cy().styleEnabled()&&y){var E=y.pstyle(u);return void 0!==E.pfValue?E.pfValue:E.value}},numericStyleUnits:function(u){var y=this[0];if(y.cy().styleEnabled()&&y)return y.pstyle(u).units},renderedStyle:function(u){var y=this.cy();if(!y.styleEnabled())return this;var E=this[0];return E?y.style().getRenderedStyle(E,u):void 0},style:function(u,y){var E=this.cy();if(!E.styleEnabled())return this;var N=E.style();if(Ot(u))N.applyBypass(this,u,!1),this.emitAndNotify("style");else if(lt(u)){if(void 0===y){var dt=this[0];return dt?N.getStylePropertyValue(dt,u):void 0}N.applyBypass(this,u,y,!1),this.emitAndNotify("style")}else if(void 0===u){var gt=this[0];return gt?N.getRawStyle(gt):void 0}return this},removeStyle:function(u){var y=this.cy();if(!y.styleEnabled())return this;var R=y.style(),N=this;if(void 0===u)for(var j=0;j<N.length;j++)R.removeAllBypasses(N[j],!1);else{u=u.split(/\s+/);for(var gt=0;gt<N.length;gt++)R.removeBypasses(N[gt],u,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var u=this.cy();if(!u.styleEnabled())return 1;var y=u.hasCompoundNodes(),E=this[0];if(E){var R=E._private,N=E.pstyle("opacity").value;if(!y)return N;var j=R.data.parent?E.parents():null;if(j)for(var dt=0;dt<j.length;dt++)N*=j[dt].pstyle("opacity").value;return N}},transparent:function(){if(!this.cy().styleEnabled())return!1;var y=this[0],E=y.cy().hasCompoundNodes();return y?E?0===y.effectiveOpacity():0===y.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function Rc(x,u){var E=x._private.data.parent?x.parents():null;if(E)for(var R=0;R<E.length;R++)if(!u(E[R]))return!1;return!0}function z0(x){var u=x.ok,y=x.edgeOkViaNode||x.ok,E=x.parentOk||x.ok;return function(){var R=this.cy();if(!R.styleEnabled())return!0;var N=this[0],j=R.hasCompoundNodes();if(N){var dt=N._private;if(!u(N))return!1;if(N.isNode())return!j||Rc(N,E);var gt=dt.source,pt=dt.target;return y(gt)&&(!j||Rc(gt,y))&&(gt===pt||y(pt)&&(!j||Rc(pt,y)))}}}var ac=Vh("eleTakesUpSpace",function(x){return"element"===x.pstyle("display").value&&0!==x.width()&&(!x.isNode()||0!==x.height())});xl.takesUpSpace=yf("takesUpSpace",z0({ok:ac}));var km=Vh("eleInteractive",function(x){return"yes"===x.pstyle("events").value&&"visible"===x.pstyle("visibility").value&&ac(x)}),$d=Vh("parentInteractive",function(x){return"visible"===x.pstyle("visibility").value&&ac(x)});xl.interactive=yf("interactive",z0({ok:km,parentOk:$d,edgeOkViaNode:ac})),xl.noninteractive=function(){var x=this[0];if(x)return!x.interactive()};var Fp=Vh("eleVisible",function(x){return"visible"===x.pstyle("visibility").value&&0!==x.pstyle("opacity").pfValue&&ac(x)});xl.visible=yf("visible",z0({ok:Fp,edgeOkViaNode:ac})),xl.hidden=function(){var x=this[0];if(x)return!x.visible()},xl.isBundledBezier=yf("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),xl.bypass=xl.css=xl.style,xl.renderedCss=xl.renderedStyle,xl.removeBypass=xl.removeCss=xl.removeStyle,xl.pstyle=xl.parsedStyle;var Bl={};function va(x){return function(){var u=arguments,y=[];if(2===u.length){var E=u[0],R=u[1];this.on(x.event,E,R)}else if(1===u.length&&wt(u[0])){var N=u[0];this.on(x.event,N)}else if(0===u.length||1===u.length&&xt(u[0])){for(var j=1===u.length?u[0]:null,dt=0;dt<this.length;dt++){var gt=this[dt],pt=!x.ableField||gt._private[x.ableField],Ct=gt._private[x.field]!=x.value;if(x.overrideAble){var Rt=x.overrideAble(gt);if(void 0!==Rt&&(pt=Rt,!Rt))return this}pt&&(gt._private[x.field]=x.value,Ct&&y.push(gt))}var $t=this.spawn(y);$t.updateStyle(),$t.emit(x.event),j&&$t.emit(j)}return this}}function jh(x){Bl[x.field]=function(){var u=this[0];if(u){if(x.overrideField){var y=x.overrideField(u);if(void 0!==y)return y}return u._private[x.field]}},Bl[x.on]=va({event:x.on,field:x.field,ableField:x.ableField,overrideAble:x.overrideAble,value:!0}),Bl[x.off]=va({event:x.off,field:x.field,ableField:x.ableField,overrideAble:x.overrideAble,value:!1})}jh({field:"locked",overrideField:function(u){return!!u.cy().autolock()||void 0},on:"lock",off:"unlock"}),jh({field:"grabbable",overrideField:function(u){return!u.cy().autoungrabify()&&!u.pannable()&&void 0},on:"grabify",off:"ungrabify"}),jh({field:"selected",ableField:"selectable",overrideAble:function(u){return!u.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),jh({field:"selectable",overrideField:function(u){return!u.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Bl.deselect=Bl.unselect,Bl.grabbed=function(){var x=this[0];if(x)return x._private.grabbed},jh({field:"active",on:"activate",off:"unactivate"}),jh({field:"pannable",on:"panify",off:"unpanify"}),Bl.inactive=function(){var x=this[0];if(x)return!x._private.active};var il={},Ta=function(u){return function(E){for(var N=[],j=0;j<this.length;j++){var dt=this[j];if(dt.isNode()){for(var gt=!1,pt=dt.connectedEdges(),Ct=0;Ct<pt.length;Ct++){var Rt=pt[Ct],$t=Rt.source(),ee=Rt.target();if(u.noIncomingEdges&&ee===dt&&$t!==dt||u.noOutgoingEdges&&$t===dt&&ee!==dt){gt=!0;break}}gt||N.push(dt)}}return this.spawn(N,!0).filter(E)}},zh=function(u){return function(y){for(var R=[],N=0;N<this.length;N++){var j=this[N];if(j.isNode())for(var dt=j.connectedEdges(),gt=0;gt<dt.length;gt++){var pt=dt[gt],Ct=pt.source(),Rt=pt.target();u.outgoing&&Ct===j?(R.push(pt),R.push(Rt)):u.incoming&&Rt===j&&(R.push(pt),R.push(Ct))}}return this.spawn(R,!0).filter(y)}},td=function(u){return function(y){for(var E=this,R=[],N={};;){var j=u.outgoing?E.outgoers():E.incomers();if(0===j.length)break;for(var dt=!1,gt=0;gt<j.length;gt++){var pt=j[gt],Ct=pt.id();N[Ct]||(N[Ct]=!0,R.push(pt),dt=!0)}if(!dt)break;E=j}return this.spawn(R,!0).filter(y)}};function Zd(x){return function(y){for(var E=[],R=0;R<this.length;R++){var j=this[R]._private[x.attr];j&&E.push(j)}return this.spawn(E,!0).filter(y)}}function U0(x){return function(y){var E=[],R=this._private.cy,N=x||{};lt(y)&&(y=R.$(y));for(var j=0;j<y.length;j++)for(var dt=y[j]._private.edges,gt=0;gt<dt.length;gt++){var pt=dt[gt],Ct=pt._private.data,Rt=this.hasElementWithId(Ct.source)&&y.hasElementWithId(Ct.target),$t=y.hasElementWithId(Ct.source)&&this.hasElementWithId(Ct.target);!Rt&&!$t||(N.thisIsSrc||N.thisIsTgt)&&(N.thisIsSrc&&!Rt||N.thisIsTgt&&!$t)||E.push(pt)}return this.spawn(E,!0)}}function H0(x){return x=Pt({},{codirected:!1},x),function(E){for(var R=[],N=this.edges(),j=x,dt=0;dt<N.length;dt++)for(var pt=N[dt]._private,Ct=pt.source,Rt=Ct._private.data.id,$t=pt.data.target,ee=Ct._private.edges,se=0;se<ee.length;se++){var qt=ee[se],ge=qt._private.data,Ae=ge.target,He=ge.source,ze=Ae===$t&&He===Rt;(j.codirected&&ze||!j.codirected&&(ze||Rt===Ae&&$t===He))&&R.push(qt)}return this.spawn(R,!0).filter(E)}}il.clearTraversalCache=function(){for(var x=0;x<this.length;x++)this[x]._private.traversalCache=null},Pt(il,{roots:Ta({noIncomingEdges:!0}),leaves:Ta({noOutgoingEdges:!0}),outgoers:Wu(zh({outgoing:!0}),"outgoers"),successors:td({outgoing:!0}),incomers:Wu(zh({incoming:!0}),"incomers"),predecessors:td({incoming:!0})}),Pt(il,{neighborhood:Wu(function(x){for(var u=[],y=this.nodes(),E=0;E<y.length;E++)for(var R=y[E],N=R.connectedEdges(),j=0;j<N.length;j++){var dt=N[j],gt=dt.source(),pt=dt.target(),Ct=R===gt?pt:gt;Ct.length>0&&u.push(Ct[0]),u.push(dt[0])}return this.spawn(u,!0).filter(x)},"neighborhood"),closedNeighborhood:function(u){return this.neighborhood().add(this).filter(u)},openNeighborhood:function(u){return this.neighborhood(u)}}),il.neighbourhood=il.neighborhood,il.closedNeighbourhood=il.closedNeighborhood,il.openNeighbourhood=il.openNeighborhood,Pt(il,{source:Wu(function(u){var E,y=this[0];return y&&(E=y._private.source||y.cy().collection()),E&&u?E.filter(u):E},"source"),target:Wu(function(u){var E,y=this[0];return y&&(E=y._private.target||y.cy().collection()),E&&u?E.filter(u):E},"target"),sources:Zd({attr:"source"}),targets:Zd({attr:"target"})}),Pt(il,{edgesWith:Wu(U0(),"edgesWith"),edgesTo:Wu(U0({thisIsSrc:!0}),"edgesTo")}),Pt(il,{connectedEdges:Wu(function(x){for(var u=[],E=0;E<this.length;E++){var R=this[E];if(R.isNode())for(var N=R._private.edges,j=0;j<N.length;j++)u.push(N[j])}return this.spawn(u,!0).filter(x)},"connectedEdges"),connectedNodes:Wu(function(x){for(var u=[],E=0;E<this.length;E++){var R=this[E];!R.isEdge()||(u.push(R.source()[0]),u.push(R.target()[0]))}return this.spawn(u,!0).filter(x)},"connectedNodes"),parallelEdges:Wu(H0(),"parallelEdges"),codirectedEdges:Wu(H0({codirected:!0}),"codirectedEdges")}),Pt(il,{components:function(u){var y=this,E=y.cy(),R=E.collection(),N=null==u?y.nodes():u.nodes(),j=[];null!=u&&N.empty()&&(N=u.sources());var dt=function(Ct,Rt){R.merge(Ct),N.unmerge(Ct),Rt.merge(Ct)};if(N.empty())return y.spawn();var gt=function(){var Ct=E.collection();j.push(Ct);var Rt=N[0];dt(Rt,Ct),y.bfs({directed:!1,roots:Rt,visit:function(ee){return dt(ee,Ct)}}),Ct.forEach(function($t){$t.connectedEdges().forEach(function(ee){y.has(ee)&&Ct.has(ee.source())&&Ct.has(ee.target())&&Ct.merge(ee)})})};do{gt()}while(N.length>0);return j},component:function(){var u=this[0];return u.cy().mutableElements().components(u)[0]}}),il.componentsOf=il.components;var la=function(u,y){var E=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0!==u){var R=new Ui,N=!1;if(y){if(y.length>0&&Ot(y[0])&&!g(y[0])){N=!0;for(var j=[],dt=new mr,gt=0,pt=y.length;gt<pt;gt++){var Ct=y[gt];null==Ct.data&&(Ct.data={});var Rt=Ct.data;if(null==Rt.id)Rt.id=ir();else if(u.hasElementWithId(Rt.id)||dt.has(Rt.id))continue;var $t=new Ar(u,Ct,!1);j.push($t),dt.add(Rt.id)}y=j}}else y=[];this.length=0;for(var ee=0,se=y.length;ee<se;ee++){var qt=y[ee][0];if(null!=qt){var ge=qt._private.data.id;(!E||!R.has(ge))&&(E&&R.set(ge,{index:this.length,ele:qt}),this[this.length]=qt,this.length++)}}this._private={eles:this,cy:u,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(Ae){this.lazyMap=Ae},rebuildMap:function(){for(var He=this.lazyMap=new Ui,ze=this.eles,ri=0;ri<ze.length;ri++){var ki=ze[ri];He.set(ki.id(),{index:ri,ele:ki})}}},E&&(this._private.map=R),N&&this.restore()}else pi("A collection must have a reference to the core")},Ws=Ar.prototype=la.prototype=Object.create(Array.prototype);Ws.instanceString=function(){return"collection"},Ws.spawn=function(x,u){return new la(this.cy(),x,u)},Ws.spawnSelf=function(){return this.spawn(this)},Ws.cy=function(){return this._private.cy},Ws.renderer=function(){return this._private.cy.renderer()},Ws.element=function(){return this[0]},Ws.collection=function(){return p(this)?this:new la(this._private.cy,[this])},Ws.unique=function(){return new la(this._private.cy,this,!0)},Ws.hasElementWithId=function(x){return this._private.map.has(x=""+x)},Ws.getElementById=function(x){var u=this._private.cy,y=this._private.map.get(x=""+x);return y?y.ele:new la(u)},Ws.$id=Ws.getElementById,Ws.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},Ws.indexOf=function(x){return this._private.map.get(x[0]._private.data.id).index},Ws.indexOfId=function(x){return this._private.map.get(x=""+x).index},Ws.json=function(x){var u=this.element(),y=this.cy();if(null==u&&x)return this;if(null!=u){var E=u._private;if(Ot(x)){if(y.startBatch(),x.data){u.data(x.data);var R=E.data;if(u.isEdge()){var N=!1,j={},dt=x.data.source,gt=x.data.target;null!=dt&&dt!=R.source&&(j.source=""+dt,N=!0),null!=gt&&gt!=R.target&&(j.target=""+gt,N=!0),N&&(u=u.move(j))}else{var Ct=x.data.parent;"parent"in x.data&&(null!=Ct||null!=R.parent)&&Ct!=R.parent&&(void 0===Ct&&(Ct=null),null!=Ct&&(Ct=""+Ct),u=u.move({parent:Ct}))}}x.position&&u.position(x.position);var Rt=function(qt,ge,Ae){var He=x[qt];null!=He&&He!==E[qt]&&(He?u[ge]():u[Ae]())};return Rt("removed","remove","restore"),Rt("selected","select","unselect"),Rt("selectable","selectify","unselectify"),Rt("locked","lock","unlock"),Rt("grabbable","grabify","ungrabify"),Rt("pannable","panify","unpanify"),null!=x.classes&&u.classes(x.classes),y.endBatch(),this}if(void 0===x){var $t={data:Ei(E.data),position:Ei(E.position),group:E.group,removed:E.removed,selected:E.selected,selectable:E.selectable,locked:E.locked,grabbable:E.grabbable,pannable:E.pannable,classes:""},ee=0;return E.classes.forEach(function(se){return $t.classes+=0==ee++?se:" "+se}),$t}}},Ws.jsons=function(){for(var x=[],u=0;u<this.length;u++){var E=this[u].json();x.push(E)}return x},Ws.clone=function(){for(var x=this.cy(),u=[],y=0;y<this.length;y++){var R=this[y].json(),N=new Ar(x,R,!1);u.push(N)}return new la(x,u)},Ws.copy=Ws.clone,Ws.restore=function(){for(var dt,x=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],u=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],y=this,E=y.cy(),R=E._private,N=[],j=[],gt=0,pt=y.length;gt<pt;gt++){var Ct=y[gt];u&&!Ct.removed()||(Ct.isNode()?N.push(Ct):j.push(Ct))}dt=N.concat(j);var Rt,$t=function(){dt.splice(Rt,1),Rt--};for(Rt=0;Rt<dt.length;Rt++){var ee=dt[Rt],se=ee._private,qt=se.data;if(ee.clearTraversalCache(),u||se.removed)if(void 0===qt.id)qt.id=ir();else if(Et(qt.id))qt.id=""+qt.id;else{if(C(qt.id)||!lt(qt.id)){pi("Can not create element with invalid string ID `"+qt.id+"`"),$t();continue}if(E.hasElementWithId(qt.id)){pi("Can not create second element with ID `"+qt.id+"`"),$t();continue}}var ge=qt.id;if(ee.isNode()){var Ae=se.position;null==Ae.x&&(Ae.x=0),null==Ae.y&&(Ae.y=0)}if(ee.isEdge()){for(var He=ee,ze=["source","target"],ri=ze.length,ki=!1,Oi=0;Oi<ri;Oi++){var ii=ze[Oi],Ti=qt[ii];Et(Ti)&&(Ti=qt[ii]=""+qt[ii]),null==Ti||""===Ti?(pi("Can not create edge `"+ge+"` with unspecified "+ii),ki=!0):E.hasElementWithId(Ti)||(pi("Can not create edge `"+ge+"` with nonexistant "+ii+" `"+Ti+"`"),ki=!0)}if(ki){$t();continue}var fi=E.getElementById(qt.source),Ri=E.getElementById(qt.target);fi.same(Ri)?fi._private.edges.push(He):(fi._private.edges.push(He),Ri._private.edges.push(He)),He._private.source=fi,He._private.target=Ri}se.map=new Ui,se.map.set(ge,{ele:ee,index:0}),se.removed=!1,u&&E.addToPool(ee)}for(var Ii=0;Ii<N.length;Ii++){var Ci=N[Ii],Ki=Ci._private.data;Et(Ki.parent)&&(Ki.parent=""+Ki.parent);var Ai=Ki.parent,mn=null!=Ai;if(mn){var ln=E.getElementById(Ai);if(ln.empty())Ki.parent=void 0;else{for(var dn=!1,un=ln;!un.empty();){if(Ci.same(un)){dn=!0,Ki.parent=void 0;break}un=un.parent()}dn||(ln[0]._private.children.push(Ci),Ci._private.parent=ln[0],R.hasCompoundNodes=!0)}}}if(dt.length>0){for(var fn=dt.length===y.length?y:new la(E,dt),Nn=0;Nn<fn.length;Nn++){var Cn=fn[Nn];Cn.isNode()||(Cn.parallelEdges().clearTraversalCache(),Cn.source().clearTraversalCache(),Cn.target().clearTraversalCache())}(R.hasCompoundNodes?E.collection().merge(fn).merge(fn.connectedNodes()).merge(fn.parent()):fn).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(x),x?fn.emitAndNotify("add"):u&&fn.emit("add")}return y},Ws.removed=function(){var x=this[0];return x&&x._private.removed},Ws.inside=function(){var x=this[0];return x&&!x._private.removed},Ws.remove=function(){var x=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],u=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],y=this,E=[],R={},N=y._private.cy;function j(Ai){for(var mn=Ai._private.edges,ln=0;ln<mn.length;ln++)gt(mn[ln])}function dt(Ai){for(var mn=Ai._private.children,ln=0;ln<mn.length;ln++)gt(mn[ln])}function gt(Ai){var mn=R[Ai.id()];u&&Ai.removed()||mn||(R[Ai.id()]=!0,Ai.isNode()?(E.push(Ai),j(Ai),dt(Ai)):E.unshift(Ai))}for(var pt=0,Ct=y.length;pt<Ct;pt++){var Rt=y[pt];gt(Rt)}function $t(Ai,mn){Kn(Ai._private.edges,mn),Ai.clearTraversalCache()}function ee(Ai){Ai.clearTraversalCache()}var se=[];function qt(Ai,mn){mn=mn[0];var ln=(Ai=Ai[0])._private.children,dn=Ai.id();Kn(ln,mn),mn._private.parent=null,se.ids[dn]||(se.ids[dn]=!0,se.push(Ai))}se.ids={},y.dirtyCompoundBoundsCache(),u&&N.removeFromPool(E);for(var ge=0;ge<E.length;ge++){var Ae=E[ge];if(Ae.isEdge()){var He=Ae.source()[0],ze=Ae.target()[0];$t(He,Ae),$t(ze,Ae);for(var ri=Ae.parallelEdges(),ki=0;ki<ri.length;ki++){var Oi=ri[ki];ee(Oi),Oi.isBundledBezier()&&Oi.dirtyBoundingBoxCache()}}else{var ii=Ae.parent();0!==ii.length&&qt(ii,Ae)}u&&(Ae._private.removed=!0)}var Ti=N._private.elements;N._private.hasCompoundNodes=!1;for(var fi=0;fi<Ti.length;fi++){var Ri=Ti[fi];if(Ri.isParent()){N._private.hasCompoundNodes=!0;break}}var Ii=new la(this.cy(),E);Ii.size()>0&&(x?Ii.emitAndNotify("remove"):u&&Ii.emit("remove"));for(var Ci=0;Ci<se.length;Ci++){var Ki=se[Ci];(!u||!Ki.removed())&&Ki.updateStyle()}return Ii},Ws.move=function(x){var u=this._private.cy,y=this,E=!1,R=!1,N=function(se){return null==se?se:""+se};if(void 0!==x.source||void 0!==x.target){var j=N(x.source),dt=N(x.target),gt=null!=j&&u.hasElementWithId(j),pt=null!=dt&&u.hasElementWithId(dt);(gt||pt)&&(u.batch(function(){y.remove(E,R),y.emitAndNotify("moveout");for(var ee=0;ee<y.length;ee++){var se=y[ee],qt=se._private.data;se.isEdge()&&(gt&&(qt.source=j),pt&&(qt.target=dt))}y.restore(E,R)}),y.emitAndNotify("move"))}else if(void 0!==x.parent){var Ct=N(x.parent);if(null===Ct||u.hasElementWithId(Ct)){var $t=null===Ct?void 0:Ct;u.batch(function(){var ee=y.remove(E,R);ee.emitAndNotify("moveout");for(var se=0;se<y.length;se++){var qt=y[se],ge=qt._private.data;qt.isNode()&&(ge.parent=$t)}ee.restore(E,R)}),y.emitAndNotify("move")}}return this},[Id,ye,Me,Zf,qf,_m,nc,Ud,Yd,sc,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var u=this[0];if(u)return u._private.group}},gf,Kd,xl,Bl,il].forEach(function(x){Pt(Ws,x)});var vg={add:function(u){var y,E=this;if(c(u)){var R=u;if(R._private.cy===E)y=R.restore();else{for(var N=[],j=0;j<R.length;j++)N.push(R[j].json());y=new la(E,N)}}else if(xt(u))y=new la(E,u);else if(Ot(u)&&(xt(u.nodes)||xt(u.edges))){for(var pt=u,Ct=[],Rt=["nodes","edges"],$t=0,ee=Rt.length;$t<ee;$t++){var se=Rt[$t],qt=pt[se];if(xt(qt))for(var ge=0,Ae=qt.length;ge<Ae;ge++){var He=Pt({group:se},qt[ge]);Ct.push(He)}}y=new la(E,Ct)}else y=new Ar(E,u).collection();return y},remove:function(u){return c(u)||lt(u)&&(u=this.$(u)),u.remove()}},Tm=function(){function x(E){return-E.tension*E.x-E.friction*E.v}function u(E,R,N){var j={x:E.x+N.dx*R,v:E.v+N.dv*R,tension:E.tension,friction:E.friction};return{dx:j.v,dv:x(j)}}function y(E,R){var N={dx:E.v,dv:x(E)},j=u(E,.5*R,N),dt=u(E,.5*R,j),gt=u(E,R,dt),Ct=1/6*(N.dv+2*(j.dv+dt.dv)+gt.dv);return E.x=E.x+1/6*(N.dx+2*(j.dx+dt.dx)+gt.dx)*R,E.v=E.v+Ct*R,E}return function E(R,N,j){var $t,ee,se,dt={x:-1,v:0,tension:null,friction:null},gt=[0],pt=0;for(R=parseFloat(R)||500,N=parseFloat(N)||20,j=j||null,dt.tension=R,dt.friction=N,ee=($t=null!==j)?(pt=E(R,N))/j*.016:.016;se=y(se||dt,ee),gt.push(1+se.x),pt+=16,Math.abs(se.x)>1e-4&&Math.abs(se.v)>1e-4;);return $t?function(qt){return gt[qt*(gt.length-1)|0]}:pt}}(),gs=function(u,y,E,R){var N=function(x,u,y,E){var R=4,N=.001,j=1e-7,dt=10,gt=11,pt=1/(gt-1),Ct="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var Rt=0;Rt<4;++Rt)if("number"!=typeof arguments[Rt]||isNaN(arguments[Rt])||!isFinite(arguments[Rt]))return!1;x=Math.min(x,1),y=Math.min(y,1),x=Math.max(x,0),y=Math.max(y,0);var $t=Ct?new Float32Array(gt):new Array(gt);function ee(Ri,Ii){return 1-3*Ii+3*Ri}function se(Ri,Ii){return 3*Ii-6*Ri}function qt(Ri){return 3*Ri}function ge(Ri,Ii,Ci){return((ee(Ii,Ci)*Ri+se(Ii,Ci))*Ri+qt(Ii))*Ri}function Ae(Ri,Ii,Ci){return 3*ee(Ii,Ci)*Ri*Ri+2*se(Ii,Ci)*Ri+qt(Ii)}function He(Ri,Ii){for(var Ci=0;Ci<R;++Ci){var Ki=Ae(Ii,x,y);if(0===Ki)return Ii;Ii-=(ge(Ii,x,y)-Ri)/Ki}return Ii}function ze(){for(var Ri=0;Ri<gt;++Ri)$t[Ri]=ge(Ri*pt,x,y)}function ri(Ri,Ii,Ci){var Ki,Ai,mn=0;do{(Ki=ge(Ai=Ii+(Ci-Ii)/2,x,y)-Ri)>0?Ci=Ai:Ii=Ai}while(Math.abs(Ki)>j&&++mn<dt);return Ai}function ki(Ri){for(var Ii=0,Ci=1,Ki=gt-1;Ci!==Ki&&$t[Ci]<=Ri;++Ci)Ii+=pt;--Ci;var mn=Ii+(Ri-$t[Ci])/($t[Ci+1]-$t[Ci])*pt,ln=Ae(mn,x,y);return ln>=N?He(Ri,mn):0===ln?mn:ri(Ri,Ii,Ii+pt)}var Oi=!1;function ii(){Oi=!0,(x!==u||y!==E)&&ze()}var Ti=function(Ii){return Oi||ii(),x===u&&y===E?Ii:0===Ii?0:1===Ii?1:ge(ki(Ii),u,E)};Ti.getControlPoints=function(){return[{x,y:u},{x:y,y:E}]};var fi="generateBezier("+[x,u,y,E]+")";return Ti.toString=function(){return fi},Ti}(u,y,E,R);return function(j,dt,gt){return j+(dt-j)*N(gt)}},Xu={linear:function(u,y,E){return u+(y-u)*E},ease:gs(.25,.1,.25,1),"ease-in":gs(.42,0,1,1),"ease-out":gs(0,0,.58,1),"ease-in-out":gs(.42,0,.58,1),"ease-in-sine":gs(.47,0,.745,.715),"ease-out-sine":gs(.39,.575,.565,1),"ease-in-out-sine":gs(.445,.05,.55,.95),"ease-in-quad":gs(.55,.085,.68,.53),"ease-out-quad":gs(.25,.46,.45,.94),"ease-in-out-quad":gs(.455,.03,.515,.955),"ease-in-cubic":gs(.55,.055,.675,.19),"ease-out-cubic":gs(.215,.61,.355,1),"ease-in-out-cubic":gs(.645,.045,.355,1),"ease-in-quart":gs(.895,.03,.685,.22),"ease-out-quart":gs(.165,.84,.44,1),"ease-in-out-quart":gs(.77,0,.175,1),"ease-in-quint":gs(.755,.05,.855,.06),"ease-out-quint":gs(.23,1,.32,1),"ease-in-out-quint":gs(.86,0,.07,1),"ease-in-expo":gs(.95,.05,.795,.035),"ease-out-expo":gs(.19,1,.22,1),"ease-in-out-expo":gs(1,0,0,1),"ease-in-circ":gs(.6,.04,.98,.335),"ease-out-circ":gs(.075,.82,.165,1),"ease-in-out-circ":gs(.785,.135,.15,.86),spring:function(u,y,E){if(0===E)return Xu.linear;var R=Tm(u,y,E);return function(N,j,dt){return N+(j-N)*R(dt)}},"cubic-bezier":gs};function xf(x,u,y,E,R){if(1===E||u===y)return y;var N=R(u,y,E);return null==x||((x.roundValue||x.color)&&(N=Math.round(N)),void 0!==x.min&&(N=Math.max(N,x.min)),void 0!==x.max&&(N=Math.min(N,x.max))),N}function G0(x,u){return null!=x.pfValue||null!=x.value?null==x.pfValue||null!=u&&"%"===u.type.units?x.value:x.pfValue:x}function Bp(x,u,y,E,R){var N=null!=R?R.type:null;y<0?y=0:y>1&&(y=1);var j=G0(x,R),dt=G0(u,R);if(Et(j)&&Et(dt))return xf(N,j,dt,y,E);if(xt(j)&&xt(dt)){for(var gt=[],pt=0;pt<dt.length;pt++){var Ct=j[pt],Rt=dt[pt];if(null!=Ct&&null!=Rt){var $t=xf(N,Ct,Rt,y,E);gt.push($t)}else gt.push(Rt)}return gt}}function wf(x,u,y,E){var R=!E,N=x._private,j=u._private,dt=j.easing,gt=j.startTime,Ct=(E?x:x.cy()).style();if(!j.easingImpl)if(null==dt)j.easingImpl=Xu.linear;else{var Rt,ee,se;Rt=lt(dt)?Ct.parse("transition-timing-function",dt).value:dt,lt(Rt)?(ee=Rt,se=[]):(ee=Rt[1],se=Rt.slice(2).map(function(fn){return+fn})),se.length>0?("spring"===ee&&se.push(j.duration),j.easingImpl=Xu[ee].apply(null,se)):j.easingImpl=Xu[ee]}var ge,qt=j.easingImpl;if(ge=0===j.duration?1:(y-gt)/j.duration,j.applying&&(ge=j.progress),ge<0?ge=0:ge>1&&(ge=1),null==j.delay){var Ae=j.startPosition,He=j.position;if(He&&R&&!x.locked()){var ze={};Vp(Ae.x,He.x)&&(ze.x=Bp(Ae.x,He.x,ge,qt)),Vp(Ae.y,He.y)&&(ze.y=Bp(Ae.y,He.y,ge,qt)),x.position(ze)}var ri=j.startPan,ki=j.pan,Oi=N.pan,ii=null!=ki&&E;ii&&(Vp(ri.x,ki.x)&&(Oi.x=Bp(ri.x,ki.x,ge,qt)),Vp(ri.y,ki.y)&&(Oi.y=Bp(ri.y,ki.y,ge,qt)),x.emit("pan"));var Ti=j.startZoom,fi=j.zoom,Ri=null!=fi&&E;Ri&&(Vp(Ti,fi)&&(N.zoom=xs(N.minZoom,Bp(Ti,fi,ge,qt),N.maxZoom)),x.emit("zoom")),(ii||Ri)&&x.emit("viewport");var Ii=j.style;if(Ii&&Ii.length>0&&R){for(var Ci=0;Ci<Ii.length;Ci++){var Ki=Ii[Ci],Ai=Ki.name,ln=j.startStyle[Ai],un=Bp(ln,Ki,ge,qt,Ct.properties[ln.name]);Ct.overrideBypass(x,Ai,un)}x.emit("style")}}return j.progress=ge,ge}function Vp(x,u){return!!(null!=x&&null!=u&&(Et(x)&&Et(u)||x&&u))}function Pm(x,u,y,E){var R=u._private;R.started=!0,R.startTime=y-R.progress*R.duration}function lv(x,u){var y=u._private.aniEles,E=[];function R(Ct,Rt){var $t=Ct._private,ee=$t.animation.current,se=$t.animation.queue,qt=!1;if(0===ee.length){var ge=se.shift();ge&&ee.push(ge)}for(var Ae=function(Oi){for(var ii=Oi.length-1;ii>=0;ii--)(0,Oi[ii])();Oi.splice(0,Oi.length)},He=ee.length-1;He>=0;He--){var ze=ee[He],ri=ze._private;ri.stopped?(ee.splice(He,1),ri.hooked=!1,ri.playing=!1,ri.started=!1,Ae(ri.frames)):!ri.playing&&!ri.applying||(ri.playing&&ri.applying&&(ri.applying=!1),ri.started||Pm(0,ze,x),wf(Ct,ze,x,Rt),ri.applying&&(ri.applying=!1),Ae(ri.frames),null!=ri.step&&ri.step(x),ze.completed()&&(ee.splice(He,1),ri.hooked=!1,ri.playing=!1,ri.started=!1,Ae(ri.completes)),qt=!0)}return!Rt&&0===ee.length&&0===se.length&&E.push(Ct),qt}for(var N=!1,j=0;j<y.length;j++){var gt=R(y[j]);N=N||gt}var pt=R(u,!0);(N||pt)&&(y.length>0?u.notify("draw",y):u.notify("draw")),y.unmerge(E),u.emit("step")}var jp={animate:Ft.animate(),animation:Ft.animation(),animated:Ft.animated(),clearQueue:Ft.clearQueue(),delay:Ft.delay(),delayAnimation:Ft.delayAnimation(),stop:Ft.stop(),addToAnimationPool:function(u){!this.styleEnabled()||this._private.aniEles.merge(u)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var u=this;if(u._private.animationsRunning=!0,u.styleEnabled()){var E=u.renderer();E&&E.beforeRender?E.beforeRender(function(N,j){lv(j,u)},E.beforeRenderPriorities.animations):function y(){!u._private.animationsRunning||ce(function(N){lv(N,u),y()})}()}}},zp={qualifierCompare:function(u,y){return null==u||null==y?null==u&&null==y:u.sameText(y)},eventMatches:function(u,y,E){var R=y.qualifier;return null==R||u!==E.target&&g(E.target)&&R.matches(E.target)},addEventFields:function(u,y){y.cy=u,y.target=u},callbackContext:function(u,y,E){return null!=y.qualifier?E.target:u}},ed=function(u){return lt(u)?new vu(u):u},uc={createEmitter:function(){var u=this._private;return u.emitter||(u.emitter=new Bh(zp,this)),this},emitter:function(){return this._private.emitter},on:function(u,y,E){return this.emitter().on(u,ed(y),E),this},removeListener:function(u,y,E){return this.emitter().removeListener(u,ed(y),E),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(u,y,E){return this.emitter().one(u,ed(y),E),this},once:function(u,y,E){return this.emitter().one(u,ed(y),E),this},emit:function(u,y){return this.emitter().emit(u,y),this},emitAndNotify:function(u,y){return this.emit(u),this.notify(u,y),this}};Ft.eventAliasesOn(uc);var Y0={png:function(u){return this._private.renderer.png(u=u||{})},jpg:function(u){var y=this._private.renderer;return(u=u||{}).bg=u.bg||"#fff",y.jpg(u)}};Y0.jpeg=Y0.jpg;var W0={layout:function(u){var y=this;if(null!=u)if(null!=u.name){var N,E=u.name,R=y.extension("layout",E);if(null!=R)return N=lt(u.eles)?y.$(u.eles):null!=u.eles?u.eles:y.$(),new R(Pt({},u,{cy:y,eles:N}));pi("No such layout `"+E+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else pi("A `name` must be specified to make a layout");else pi("Layout options must be specified to make a layout")}};W0.createLayout=W0.makeLayout=W0.layout;var id={notify:function(u,y){var E=this._private;if(this.batching()){E.batchNotifications=E.batchNotifications||{};var R=E.batchNotifications[u]=E.batchNotifications[u]||this.collection();null!=y&&R.merge(y)}else if(E.notificationsEnabled){var N=this.renderer();this.destroyed()||!N||N.notify(u,y)}},notifications:function(u){var y=this._private;return void 0===u?y.notificationsEnabled:(y.notificationsEnabled=!!u,this)},noNotifications:function(u){this.notifications(!1),u(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var u=this._private;return null==u.batchCount&&(u.batchCount=0),0===u.batchCount&&(u.batchStyleEles=this.collection(),u.batchNotifications={}),u.batchCount++,this},endBatch:function(){var u=this._private;if(0===u.batchCount)return this;if(u.batchCount--,0===u.batchCount){u.batchStyleEles.updateStyle();var y=this.renderer();Object.keys(u.batchNotifications).forEach(function(E){var R=u.batchNotifications[E];R.empty()?y.notify(E):y.notify(E,R)})}return this},batch:function(u){return this.startBatch(),u(),this.endBatch(),this},batchData:function(u){var y=this;return this.batch(function(){for(var E=Object.keys(u),R=0;R<E.length;R++){var N=E[R],j=u[N];y.getElementById(N).data(j)}})}},_f=Ln({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Up={renderTo:function(u,y,E,R){return this._private.renderer.renderTo(u,y,E,R),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(u){var y=this,E=y.extension("renderer",u.name);if(null!=E){void 0!==u.wheelSensitivity&&$e("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var R=_f(u);R.cy=y,y._private.renderer=new E(R),this.notify("init")}else pi("Can not initialise: No such renderer `".concat(u.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var u=this;u.notify("destroy");var y=u.container();if(y)for(y._cyreg=null;y.childNodes.length>0;)y.removeChild(y.childNodes[0]);u._private.renderer=null,u.mutableElements().forEach(function(E){var R=E._private;R.rscratch={},R.rstyle={},R.animation.current=[],R.animation.queue=[]})},onRender:function(u){return this.on("render",u)},offRender:function(u){return this.off("render",u)}};Up.invalidateDimensions=Up.resize;var Ma={collection:function(u,y){return lt(u)?this.$(u):c(u)?u.collection():xt(u)?new la(this,u,y):new la(this)},nodes:function(u){var y=this.$(function(E){return E.isNode()});return u?y.filter(u):y},edges:function(u){var y=this.$(function(E){return E.isEdge()});return u?y.filter(u):y},$:function(u){var y=this._private.elements;return u?y.filter(u):y.spawnSelf()},mutableElements:function(){return this._private.elements}};Ma.elements=Ma.filter=Ma.$;var Ia={apply:function(x){for(var u=this,R=u._private.cy.collection(),N=0;N<x.length;N++){var j=x[N],dt=u.getContextMeta(j);if(!dt.empty){var gt=u.getContextStyle(dt),pt=u.applyContextStyle(dt,gt,j);j._private.appliedInitStyle?u.updateTransitions(j,pt.diffProps):j._private.appliedInitStyle=!0,u.updateStyleHints(j)&&R.push(j)}}return R},getPropertiesDiff:function(x,u){var y=this,E=y._private.propDiffs=y._private.propDiffs||{},R=x+"-"+u,N=E[R];if(N)return N;for(var j=[],dt={},gt=0;gt<y.length;gt++){var pt=y[gt],Rt="t"===u[gt],$t="t"===x[gt]!==Rt,ee=pt.mappedProperties.length>0;if($t||Rt&&ee){var se=void 0;$t&&ee||$t?se=pt.properties:ee&&(se=pt.mappedProperties);for(var qt=0;qt<se.length;qt++){for(var ge=se[qt],Ae=ge.name,He=!1,ze=gt+1;ze<y.length&&("t"!==u[ze]||!(He=null!=y[ze].properties[ge.name]));ze++);!dt[Ae]&&!He&&(dt[Ae]=!0,j.push(Ae))}}}return E[R]=j,j},getContextMeta:function(x){for(var E,u=this,y="",R=x._private.styleCxtKey||"",N=0;N<u.length;N++){var j=u[N];y+=j.selector&&j.selector.matches(x)?"t":"f"}return E=u.getPropertiesDiff(R,y),x._private.styleCxtKey=y,{key:y,diffPropNames:E,empty:0===E.length}},getContextStyle:function(x){var u=x.key,E=this._private.contextStyles=this._private.contextStyles||{};if(E[u])return E[u];for(var R={_private:{key:u}},N=0;N<this.length;N++){var j=this[N];if("t"===u[N])for(var gt=0;gt<j.properties.length;gt++){var pt=j.properties[gt];R[pt.name]=pt}}return E[u]=R,R},applyContextStyle:function(x,u,y){for(var R=x.diffPropNames,N={},j=this.types,dt=0;dt<R.length;dt++){var gt=R[dt],pt=u[gt],Ct=y.pstyle(gt);if(!pt){if(!Ct)continue;pt=Ct.bypass?{name:gt,deleteBypassed:!0}:{name:gt,delete:!0}}if(Ct!==pt){if(pt.mapped===j.fn&&null!=Ct&&null!=Ct.mapping&&Ct.mapping.value===pt.value){var Rt=Ct.mapping;if((Rt.fnValue=pt.value(y))===Rt.prevFnValue)continue}var ee=N[gt]={prev:Ct};this.applyParsedProperty(y,pt),ee.next=y.pstyle(gt),ee.next&&ee.next.bypass&&(ee.next=ee.next.bypassed)}}return{diffProps:N}},updateStyleHints:function(x){var E,u=x._private,y=this,R=y.propertyGroupKeys,N=function(rr,_r,go){return y.getPropertiesHash(rr,_r,go)},j=u.styleKey;if(x.removed())return!1;var rr,dt="nodes"===u.group,gt=x._private.style;E=Object.keys(gt);for(var pt=0;pt<R.length;pt++)u.styleKeys[R[pt]]=[Pi,si];for(var Rt=function(rr,_r){return u.styleKeys[_r][0]=wi(rr,u.styleKeys[_r][0])},$t=function(rr,_r){return u.styleKeys[_r][1]=je(rr,u.styleKeys[_r][1])},ee=function(rr,_r){Rt(rr,_r),$t(rr,_r)},se=function(rr,_r){for(var go=0;go<rr.length;go++){var yo=rr.charCodeAt(go);Rt(yo,_r),$t(yo,_r)}},Ae=0;Ae<E.length;Ae++){var He=E[Ae],ze=gt[He];if(null!=ze){var ri=this.properties[He],ki=ri.type,Oi=ri.groupKey,ii=void 0;null!=ri.hashOverride?ii=ri.hashOverride(x,ze):null!=ze.pfValue&&(ii=ze.pfValue);var Ti=null==ri.enums?ze.value:null,fi=null!=ii,Ci=ze.units;!ki.number||!fi&&null==Ti||ki.multiple?se(ze.strValue,Oi):(ee(-128<(rr=fi?ii:Ti)&&rr<128&&Math.floor(rr)!==rr?2e9-(1024*rr|0):rr,Oi),!fi&&null!=Ci&&se(Ci,Oi))}}for(var Ai=[Pi,si],mn=0;mn<R.length;mn++){var dn=u.styleKeys[R[mn]];Ai[0]=wi(dn[0],Ai[0]),Ai[1]=je(dn[1],Ai[1])}u.styleKey=function(u,y){return 2097152*u+y}(Ai[0],Ai[1]);var un=u.styleKeys;u.labelDimsKey=Oe(un.labelDimensions);var fn=N(x,["label"],un.labelDimensions);if(u.labelKey=Oe(fn),u.labelStyleKey=Oe(oi(un.commonLabel,fn)),!dt){var Nn=N(x,["source-label"],un.labelDimensions);u.sourceLabelKey=Oe(Nn),u.sourceLabelStyleKey=Oe(oi(un.commonLabel,Nn));var Cn=N(x,["target-label"],un.labelDimensions);u.targetLabelKey=Oe(Cn),u.targetLabelStyleKey=Oe(oi(un.commonLabel,Cn))}if(dt){var Ji=u.styleKeys,pn=Ji.pie,kn=[Ji.nodeBody,Ji.nodeBorder,Ji.backgroundImage,Ji.compound,pn].filter(function(Qn){return null!=Qn}).reduce(oi,[Pi,si]);u.nodeKey=Oe(kn),u.hasPie=null!=pn&&pn[0]!==Pi&&pn[1]!==si}return j!==u.styleKey},clearStyleHints:function(x){var u=x._private;u.styleCxtKey="",u.styleKeys={},u.styleKey=null,u.labelKey=null,u.labelStyleKey=null,u.sourceLabelKey=null,u.sourceLabelStyleKey=null,u.targetLabelKey=null,u.targetLabelStyleKey=null,u.nodeKey=null,u.hasPie=null},applyParsedProperty:function(x,u){var N,y=this,E=u,R=x._private.style,j=y.types,dt=y.properties[E.name].type,gt=E.bypass,pt=R[E.name],Ct=pt&&pt.bypass,Rt=x._private,$t="mapping",ee=function(Hn){return null==Hn?null:null!=Hn.pfValue?Hn.pfValue:Hn.value},se=function(){var Hn=ee(pt),Si=ee(E);y.checkTriggers(x,E.name,Hn,Si)};if(E&&"pie"===E.name.substr(0,3)&&$e("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===u.name&&x.isEdge()&&("bezier"!==u.value&&x.isLoop()||"haystack"===u.value&&(x.source().isParent()||x.target().isParent()))&&(E=u=this.parse(u.name,"bezier",gt)),E.delete)return R[E.name]=void 0,se(),!0;if(E.deleteBypassed)return pt?!!pt.bypass&&(pt.bypassed=void 0,se(),!0):(se(),!0);if(E.deleteBypass)return pt?!!pt.bypass&&(R[E.name]=pt.bypassed,se(),!0):(se(),!0);var qt=function(){$e("Do not assign mappings to elements without corresponding data (i.e. ele `"+x.id()+"` has no mapping for property `"+E.name+"` with data field `"+E.field+"`); try a `["+E.field+"]` selector to limit scope to elements with `"+E.field+"` defined")};switch(E.mapped){case j.mapData:for(var ge=E.field.split("."),Ae=Rt.data,He=0;He<ge.length&&Ae;He++)Ae=Ae[ge[He]];if(null==Ae)return qt(),!1;var ri;if(!Et(Ae))return $e("Do not use continuous mappers without specifying numeric data (i.e. `"+E.field+": "+Ae+"` for `"+x.id()+"` is non-numeric)"),!1;var ki=E.fieldMax-E.fieldMin;if((ri=0===ki?0:(Ae-E.fieldMin)/ki)<0?ri=0:ri>1&&(ri=1),dt.color){var Oi=E.valueMin[0],Ti=E.valueMin[1],fi=E.valueMax[1],Ri=E.valueMin[2],Ii=E.valueMax[2],Ci=null==E.valueMin[3]?1:E.valueMin[3],Ki=null==E.valueMax[3]?1:E.valueMax[3],Ai=[Math.round(Oi+(E.valueMax[0]-Oi)*ri),Math.round(Ti+(fi-Ti)*ri),Math.round(Ri+(Ii-Ri)*ri),Math.round(Ci+(Ki-Ci)*ri)];N={bypass:E.bypass,name:E.name,value:Ai,strValue:"rgb("+Ai[0]+", "+Ai[1]+", "+Ai[2]+")"}}else{if(!dt.number)return!1;N=this.parse(E.name,E.valueMin+(E.valueMax-E.valueMin)*ri,E.bypass,$t)}if(!N)return qt(),!1;N.mapping=E,E=N;break;case j.data:for(var ln=E.field.split("."),dn=Rt.data,un=0;un<ln.length&&dn;un++)dn=dn[ln[un]];if(null!=dn&&(N=this.parse(E.name,dn,E.bypass,$t)),!N)return qt(),!1;N.mapping=E,E=N;break;case j.fn:var Cn=null!=E.fnValue?E.fnValue:(0,E.value)(x);if(E.prevFnValue=Cn,null==Cn)return $e("Custom function mappers may not return null (i.e. `"+E.name+"` for ele `"+x.id()+"` is null)"),!1;if(!(N=this.parse(E.name,Cn,E.bypass,$t)))return $e("Custom function mappers may not return invalid values for the property type (i.e. `"+E.name+"` for ele `"+x.id()+"` is invalid)"),!1;N.mapping=Ei(E),E=N;break;case void 0:break;default:return!1}return gt?(E.bypassed=Ct?pt.bypassed:pt,R[E.name]=E):Ct?pt.bypassed=E:R[E.name]=E,se(),!0},cleanElements:function(x,u){for(var y=0;y<x.length;y++){var E=x[y];if(this.clearStyleHints(E),E.dirtyCompoundBoundsCache(),E.dirtyBoundingBoxCache(),u)for(var R=E._private.style,N=Object.keys(R),j=0;j<N.length;j++){var dt=N[j],gt=R[dt];null!=gt&&(gt.bypass?gt.bypassed=null:R[dt]=null)}else E._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(x,u){var y=this,E=x._private,R=x.pstyle("transition-property").value,N=x.pstyle("transition-duration").pfValue,j=x.pstyle("transition-delay").pfValue;if(R.length>0&&N>0){for(var dt={},gt=!1,pt=0;pt<R.length;pt++){var Ct=R[pt],Rt=x.pstyle(Ct),$t=u[Ct];if($t){var se=$t.prev,qt=null!=$t.next?$t.next:Rt,ge=!1,Ae=void 0;!se||(Et(se.pfValue)&&Et(qt.pfValue)?Ae=se.pfValue+1e-6*(ge=qt.pfValue-se.pfValue):Et(se.value)&&Et(qt.value)?Ae=se.value+1e-6*(ge=qt.value-se.value):xt(se.value)&&xt(qt.value)&&(ge=se.value[0]!==qt.value[0]||se.value[1]!==qt.value[1]||se.value[2]!==qt.value[2],Ae=se.strValue),ge&&(dt[Ct]=qt.strValue,this.applyBypass(x,Ct,Ae),gt=!0))}}if(!gt)return;E.transitioning=!0,new pu(function(ze){j>0?x.delayAnimation(j).play().promise().then(ze):ze()}).then(function(){return x.animation({style:dt,duration:N,easing:x.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){y.removeBypasses(x,R),x.emitAndNotify("style"),E.transitioning=!1})}else E.transitioning&&(this.removeBypasses(x,R),x.emitAndNotify("style"),E.transitioning=!1)},checkTrigger:function(x,u,y,E,R,N){var j=this.properties[u],dt=R(j);null!=dt&&dt(y,E)&&N(j)},checkZOrderTrigger:function(x,u,y,E){var R=this;this.checkTrigger(x,u,y,E,function(N){return N.triggersZOrder},function(){R._private.cy.notify("zorder",x)})},checkBoundsTrigger:function(x,u,y,E){this.checkTrigger(x,u,y,E,function(R){return R.triggersBounds},function(R){x.dirtyCompoundBoundsCache(),x.dirtyBoundingBoxCache(),"curve-style"===u&&("bezier"===y||"bezier"===E)&&R.triggersBoundsOfParallelBeziers&&x.parallelEdges().forEach(function(N){N.isBundledBezier()&&N.dirtyBoundingBoxCache()})})},checkTriggers:function(x,u,y,E){x.dirtyStyleCache(),this.checkZOrderTrigger(x,u,y,E),this.checkBoundsTrigger(x,u,y,E)}},Zr={applyBypass:function(x,u,y,E){var N=[];if("*"===u||"**"===u){if(void 0!==y)for(var dt=0;dt<this.properties.length;dt++){var Ct=this.parse(this.properties[dt].name,y,!0);Ct&&N.push(Ct)}}else if(lt(u)){var Rt=this.parse(u,y,!0);Rt&&N.push(Rt)}else{if(!Ot(u))return!1;var $t=u;E=y;for(var ee=Object.keys($t),se=0;se<ee.length;se++){var qt=ee[se],ge=$t[qt];if(void 0===ge&&(ge=$t[St(qt)]),void 0!==ge){var Ae=this.parse(qt,ge,!0);Ae&&N.push(Ae)}}}if(0===N.length)return!1;for(var He=!1,ze=0;ze<x.length;ze++){for(var ri=x[ze],ki={},Oi=void 0,ii=0;ii<N.length;ii++){var Ti=N[ii];if(E){var fi=ri.pstyle(Ti.name);Oi=ki[Ti.name]={prev:fi}}He=this.applyParsedProperty(ri,Ei(Ti))||He,E&&(Oi.next=ri.pstyle(Ti.name))}He&&this.updateStyleHints(ri),E&&this.updateTransitions(ri,ki,!0)}return He},overrideBypass:function(x,u,y){u=Mt(u);for(var E=0;E<x.length;E++){var R=x[E],N=R._private.style[u],j=this.properties[u].type,dt=j.color,gt=j.mutiple,pt=N?null!=N.pfValue?N.pfValue:N.value:null;N&&N.bypass?(N.value=y,null!=N.pfValue&&(N.pfValue=y),N.strValue=dt?"rgb("+y.join(",")+")":gt?y.join(" "):""+y,this.updateStyleHints(R)):this.applyBypass(R,u,y),this.checkTriggers(R,u,pt,y)}},removeAllBypasses:function(x,u){return this.removeBypasses(x,this.propertyNames,u)},removeBypasses:function(x,u,y){for(var R=0;R<x.length;R++){for(var N=x[R],j={},dt=0;dt<u.length;dt++){var gt=u[dt],pt=this.properties[gt],Ct=N.pstyle(pt.name);if(Ct&&Ct.bypass){var $t=this.parse(gt,"",!0),ee=j[pt.name]={prev:Ct};this.applyParsedProperty(N,$t),ee.next=N.pstyle(pt.name)}}this.updateStyleHints(N),y&&this.updateTransitions(N,j,!0)}}},Mf={getEmSizeInPixels:function(){var x=this.containerCss("font-size");return null!=x?parseFloat(x):1},containerCss:function(x){var y=this._private.cy.container();if(B&&y&&B.getComputedStyle)return B.getComputedStyle(y).getPropertyValue(x)}},cc={getRenderedStyle:function(x,u){return u?this.getStylePropertyValue(x,u,!0):this.getRawStyle(x,!0)},getRawStyle:function(x,u){var y=this;if(x=x[0]){for(var E={},R=0;R<y.properties.length;R++){var N=y.properties[R],j=y.getStylePropertyValue(x,N.name,u);null!=j&&(E[N.name]=j,E[St(N.name)]=j)}return E}},getIndexedStyle:function(x,u,y,E){var R=x.pstyle(u)[y][E];return null!=R?R:x.cy().style().getDefaultProperty(u)[y][0]},getStylePropertyValue:function(x,u,y){if(x=x[0]){var R=this.properties[u];R.alias&&(R=R.pointsTo);var N=R.type,j=x.pstyle(R.name);if(j){var dt=j.value,gt=j.units,pt=j.strValue;if(y&&N.number&&null!=dt&&Et(dt)){var Ct=x.cy().zoom(),Rt=function(ge){return ge*Ct},$t=function(ge,Ae){return Rt(ge)+Ae},ee=xt(dt);return(ee?gt.every(function(qt){return null!=qt}):null!=gt)?ee?dt.map(function(qt,ge){return $t(qt,gt[ge])}).join(" "):$t(dt,gt):ee?dt.map(function(qt){return lt(qt)?qt:""+Rt(qt)}).join(" "):""+Rt(dt)}if(null!=pt)return pt}return null}},getAnimationStartStyle:function(x,u){for(var y={},E=0;E<u.length;E++){var N=u[E].name,j=x.pstyle(N);void 0!==j&&(j=Ot(j)?this.parse(N,j.strValue):this.parse(N,j)),j&&(y[N]=j)}return y},getPropsList:function(x){var y=[],E=x,R=this.properties;if(E)for(var N=Object.keys(E),j=0;j<N.length;j++){var dt=N[j],gt=E[dt],pt=R[dt]||R[Mt(dt)],Ct=this.parse(pt.name,gt);Ct&&y.push(Ct)}return y},getNonDefaultPropertiesHash:function(x,u,y){var N,j,dt,gt,pt,E=y.slice();for(gt=0;gt<u.length;gt++)if(null!=(N=x.pstyle(u[gt],!1)))if(null!=N.pfValue)E[0]=wi(dt,E[0]),E[1]=je(dt,E[1]);else for(j=N.strValue,pt=0;pt<j.length;pt++)dt=j.charCodeAt(pt),E[0]=wi(dt,E[0]),E[1]=je(dt,E[1]);return E}};cc.getPropertiesHash=cc.getNonDefaultPropertiesHash;var jn={appendFromJson:function(x){for(var u=this,y=0;y<x.length;y++){var E=x[y],R=E.selector,N=E.style||E.css,j=Object.keys(N);u.selector(R);for(var dt=0;dt<j.length;dt++){var gt=j[dt];u.css(gt,N[gt])}}return u},fromJson:function(x){var u=this;return u.resetToDefault(),u.appendFromJson(x),u},json:function(){for(var x=[],u=this.defaultLength;u<this.length;u++){for(var y=this[u],E=y.selector,R=y.properties,N={},j=0;j<R.length;j++){var dt=R[j];N[dt.name]=dt.strValue}x.push({selector:E?E.toString():"core",style:N})}return x}},No={appendFromString:function(x){var R,N,j,y=this,E=""+x;function dt(){E=E.length>R.length?E.substr(R.length):""}function gt(){N=N.length>j.length?N.substr(j.length):""}for(E=E.replace(/[/][*](\s|.)+?[*][/]/g,"");!E.match(/^\s*$/);){var Ct=E.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!Ct){$e("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+E);break}R=Ct[0];var Rt=Ct[1];if("core"!==Rt&&new vu(Rt).invalid)$e("Skipping parsing of block: Invalid selector found in string stylesheet: "+Rt),dt();else{var ee=Ct[2],se=!1;N=ee;for(var qt=[];!N.match(/^\s*$/);){var Ae=N.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!Ae){$e("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+ee),se=!0;break}j=Ae[0];var He=Ae[1],ze=Ae[2];this.properties[He]?y.parse(He,ze)?(qt.push({name:He,val:ze}),gt()):($e("Skipping property: Invalid property definition in: "+j),gt()):($e("Skipping property: Invalid property name in: "+j),gt())}if(se){dt();break}y.selector(Rt);for(var Oi=0;Oi<qt.length;Oi++){var ii=qt[Oi];y.css(ii.name,ii.val)}dt()}}return y},fromString:function(x){var u=this;return u.resetToDefault(),u.appendFromString(x),u}},ho={};(function(){var x=Vt,N=function(kn){return"^"+kn+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},j=function(kn){var Qn=x+"|\\w+|rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+kn+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+x+")\\s*\\,\\s*("+x+")\\s*,\\s*("+Qn+")\\s*\\,\\s*("+Qn+")\\)$"},dt=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];ho.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:N("data")},layoutData:{mapping:!0,regex:N("layoutData")},scratch:{mapping:!0,regex:N("scratch")},mapData:{mapping:!0,regex:j("mapData")},mapLayoutData:{mapping:!0,regex:j("mapLayoutData")},mapScratch:{mapping:!0,regex:j("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:dt,singleRegexMatchValue:!0},urls:{regexes:dt,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(kn,Qn){switch(kn.length){case 2:return"deg"!==Qn[0]&&"rad"!==Qn[0]&&"deg"!==Qn[1]&&"rad"!==Qn[1];case 1:return lt(kn[0])||"deg"===Qn[0]||"rad"===Qn[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+x+")\\s*,\\s*("+x+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+x+")\\s*,\\s*("+x+")\\s*,\\s*("+x+")\\s*,\\s*("+x+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(kn){var Qn=kn.length;return 1===Qn||2===Qn||4===Qn}}};var gt={zeroNonZero:function(kn,Qn){return(null==kn||null==Qn)&&kn!==Qn||0==kn&&0!=Qn||0!=kn&&0==Qn},any:function(kn,Qn){return kn!=Qn},emptyNonEmpty:function(kn,Qn){var rr=C(kn),_r=C(Qn);return rr&&!_r||!rr&&_r}},pt=ho.types,Ct=[{name:"label",type:pt.text,triggersBounds:gt.any,triggersZOrder:gt.emptyNonEmpty},{name:"text-rotation",type:pt.textRotation,triggersBounds:gt.any},{name:"text-margin-x",type:pt.bidirectionalSize,triggersBounds:gt.any},{name:"text-margin-y",type:pt.bidirectionalSize,triggersBounds:gt.any}],Rt=[{name:"source-label",type:pt.text,triggersBounds:gt.any},{name:"source-text-rotation",type:pt.textRotation,triggersBounds:gt.any},{name:"source-text-margin-x",type:pt.bidirectionalSize,triggersBounds:gt.any},{name:"source-text-margin-y",type:pt.bidirectionalSize,triggersBounds:gt.any},{name:"source-text-offset",type:pt.size,triggersBounds:gt.any}],$t=[{name:"target-label",type:pt.text,triggersBounds:gt.any},{name:"target-text-rotation",type:pt.textRotation,triggersBounds:gt.any},{name:"target-text-margin-x",type:pt.bidirectionalSize,triggersBounds:gt.any},{name:"target-text-margin-y",type:pt.bidirectionalSize,triggersBounds:gt.any},{name:"target-text-offset",type:pt.size,triggersBounds:gt.any}],ee=[{name:"font-family",type:pt.fontFamily,triggersBounds:gt.any},{name:"font-style",type:pt.fontStyle,triggersBounds:gt.any},{name:"font-weight",type:pt.fontWeight,triggersBounds:gt.any},{name:"font-size",type:pt.size,triggersBounds:gt.any},{name:"text-transform",type:pt.textTransform,triggersBounds:gt.any},{name:"text-wrap",type:pt.textWrap,triggersBounds:gt.any},{name:"text-overflow-wrap",type:pt.textOverflowWrap,triggersBounds:gt.any},{name:"text-max-width",type:pt.size,triggersBounds:gt.any},{name:"text-outline-width",type:pt.size,triggersBounds:gt.any},{name:"line-height",type:pt.positiveNumber,triggersBounds:gt.any}],se=[{name:"text-valign",type:pt.valign,triggersBounds:gt.any},{name:"text-halign",type:pt.halign,triggersBounds:gt.any},{name:"color",type:pt.color},{name:"text-outline-color",type:pt.color},{name:"text-outline-opacity",type:pt.zeroOneNumber},{name:"text-background-color",type:pt.color},{name:"text-background-opacity",type:pt.zeroOneNumber},{name:"text-background-padding",type:pt.size,triggersBounds:gt.any},{name:"text-border-opacity",type:pt.zeroOneNumber},{name:"text-border-color",type:pt.color},{name:"text-border-width",type:pt.size,triggersBounds:gt.any},{name:"text-border-style",type:pt.borderStyle,triggersBounds:gt.any},{name:"text-background-shape",type:pt.textBackgroundShape,triggersBounds:gt.any},{name:"text-justification",type:pt.justification}],qt=[{name:"events",type:pt.bool},{name:"text-events",type:pt.bool}],ge=[{name:"display",type:pt.display,triggersZOrder:gt.any,triggersBounds:gt.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:pt.visibility,triggersZOrder:gt.any},{name:"opacity",type:pt.zeroOneNumber,triggersZOrder:gt.zeroNonZero},{name:"text-opacity",type:pt.zeroOneNumber},{name:"min-zoomed-font-size",type:pt.size},{name:"z-compound-depth",type:pt.zCompoundDepth,triggersZOrder:gt.any},{name:"z-index-compare",type:pt.zIndexCompare,triggersZOrder:gt.any},{name:"z-index",type:pt.nonNegativeInt,triggersZOrder:gt.any}],Ae=[{name:"overlay-padding",type:pt.size,triggersBounds:gt.any},{name:"overlay-color",type:pt.color},{name:"overlay-opacity",type:pt.zeroOneNumber,triggersBounds:gt.zeroNonZero},{name:"overlay-shape",type:pt.overlayShape,triggersBounds:gt.any}],He=[{name:"underlay-padding",type:pt.size,triggersBounds:gt.any},{name:"underlay-color",type:pt.color},{name:"underlay-opacity",type:pt.zeroOneNumber,triggersBounds:gt.zeroNonZero},{name:"underlay-shape",type:pt.overlayShape,triggersBounds:gt.any}],ze=[{name:"transition-property",type:pt.propList},{name:"transition-duration",type:pt.time},{name:"transition-delay",type:pt.time},{name:"transition-timing-function",type:pt.easing}],ri=function(kn,Qn){return"label"===Qn.value?-kn.poolIndex():Qn.pfValue},ki=[{name:"height",type:pt.nodeSize,triggersBounds:gt.any,hashOverride:ri},{name:"width",type:pt.nodeSize,triggersBounds:gt.any,hashOverride:ri},{name:"shape",type:pt.nodeShape,triggersBounds:gt.any},{name:"shape-polygon-points",type:pt.polygonPointList,triggersBounds:gt.any},{name:"background-color",type:pt.color},{name:"background-fill",type:pt.fill},{name:"background-opacity",type:pt.zeroOneNumber},{name:"background-blacken",type:pt.nOneOneNumber},{name:"background-gradient-stop-colors",type:pt.colors},{name:"background-gradient-stop-positions",type:pt.percentages},{name:"background-gradient-direction",type:pt.gradientDirection},{name:"padding",type:pt.sizeMaybePercent,triggersBounds:gt.any},{name:"padding-relative-to",type:pt.paddingRelativeTo,triggersBounds:gt.any},{name:"bounds-expansion",type:pt.boundsExpansion,triggersBounds:gt.any}],Oi=[{name:"border-color",type:pt.color},{name:"border-opacity",type:pt.zeroOneNumber},{name:"border-width",type:pt.size,triggersBounds:gt.any},{name:"border-style",type:pt.borderStyle}],ii=[{name:"background-image",type:pt.urls},{name:"background-image-crossorigin",type:pt.bgCrossOrigin},{name:"background-image-opacity",type:pt.zeroOneNumbers},{name:"background-image-containment",type:pt.bgContainment},{name:"background-image-smoothing",type:pt.bools},{name:"background-position-x",type:pt.bgPos},{name:"background-position-y",type:pt.bgPos},{name:"background-width-relative-to",type:pt.bgRelativeTo},{name:"background-height-relative-to",type:pt.bgRelativeTo},{name:"background-repeat",type:pt.bgRepeat},{name:"background-fit",type:pt.bgFit},{name:"background-clip",type:pt.bgClip},{name:"background-width",type:pt.bgWH},{name:"background-height",type:pt.bgWH},{name:"background-offset-x",type:pt.bgPos},{name:"background-offset-y",type:pt.bgPos}],Ti=[{name:"position",type:pt.position,triggersBounds:gt.any},{name:"compound-sizing-wrt-labels",type:pt.compoundIncludeLabels,triggersBounds:gt.any},{name:"min-width",type:pt.size,triggersBounds:gt.any},{name:"min-width-bias-left",type:pt.sizeMaybePercent,triggersBounds:gt.any},{name:"min-width-bias-right",type:pt.sizeMaybePercent,triggersBounds:gt.any},{name:"min-height",type:pt.size,triggersBounds:gt.any},{name:"min-height-bias-top",type:pt.sizeMaybePercent,triggersBounds:gt.any},{name:"min-height-bias-bottom",type:pt.sizeMaybePercent,triggersBounds:gt.any}],fi=[{name:"line-style",type:pt.lineStyle},{name:"line-color",type:pt.color},{name:"line-fill",type:pt.fill},{name:"line-cap",type:pt.lineCap},{name:"line-opacity",type:pt.zeroOneNumber},{name:"line-dash-pattern",type:pt.numbers},{name:"line-dash-offset",type:pt.number},{name:"line-gradient-stop-colors",type:pt.colors},{name:"line-gradient-stop-positions",type:pt.percentages},{name:"curve-style",type:pt.curveStyle,triggersBounds:gt.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:pt.zeroOneNumber,triggersBounds:gt.any},{name:"source-endpoint",type:pt.edgeEndpoint,triggersBounds:gt.any},{name:"target-endpoint",type:pt.edgeEndpoint,triggersBounds:gt.any},{name:"control-point-step-size",type:pt.size,triggersBounds:gt.any},{name:"control-point-distances",type:pt.bidirectionalSizes,triggersBounds:gt.any},{name:"control-point-weights",type:pt.numbers,triggersBounds:gt.any},{name:"segment-distances",type:pt.bidirectionalSizes,triggersBounds:gt.any},{name:"segment-weights",type:pt.numbers,triggersBounds:gt.any},{name:"taxi-turn",type:pt.bidirectionalSizeMaybePercent,triggersBounds:gt.any},{name:"taxi-turn-min-distance",type:pt.size,triggersBounds:gt.any},{name:"taxi-direction",type:pt.axisDirection,triggersBounds:gt.any},{name:"edge-distances",type:pt.edgeDistances,triggersBounds:gt.any},{name:"arrow-scale",type:pt.positiveNumber,triggersBounds:gt.any},{name:"loop-direction",type:pt.angle,triggersBounds:gt.any},{name:"loop-sweep",type:pt.angle,triggersBounds:gt.any},{name:"source-distance-from-node",type:pt.size,triggersBounds:gt.any},{name:"target-distance-from-node",type:pt.size,triggersBounds:gt.any}],Ri=[{name:"ghost",type:pt.bool,triggersBounds:gt.any},{name:"ghost-offset-x",type:pt.bidirectionalSize,triggersBounds:gt.any},{name:"ghost-offset-y",type:pt.bidirectionalSize,triggersBounds:gt.any},{name:"ghost-opacity",type:pt.zeroOneNumber}],Ii=[{name:"selection-box-color",type:pt.color},{name:"selection-box-opacity",type:pt.zeroOneNumber},{name:"selection-box-border-color",type:pt.color},{name:"selection-box-border-width",type:pt.size},{name:"active-bg-color",type:pt.color},{name:"active-bg-opacity",type:pt.zeroOneNumber},{name:"active-bg-size",type:pt.size},{name:"outside-texture-bg-color",type:pt.color},{name:"outside-texture-bg-opacity",type:pt.zeroOneNumber}],Ci=[];ho.pieBackgroundN=16,Ci.push({name:"pie-size",type:pt.sizeMaybePercent});for(var Ki=1;Ki<=ho.pieBackgroundN;Ki++)Ci.push({name:"pie-"+Ki+"-background-color",type:pt.color}),Ci.push({name:"pie-"+Ki+"-background-size",type:pt.percent}),Ci.push({name:"pie-"+Ki+"-background-opacity",type:pt.zeroOneNumber});var Ai=[],mn=ho.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:pt.arrowShape,triggersBounds:gt.any},{name:"arrow-color",type:pt.color},{name:"arrow-fill",type:pt.arrowFill}].forEach(function(pn){mn.forEach(function(kn){Ai.push({name:kn+"-"+pn.name,type:pn.type,triggersBounds:pn.triggersBounds})})},{});var ln=ho.properties=[].concat(qt,ze,ge,Ae,He,Ri,se,ee,Ct,Rt,$t,ki,Oi,ii,Ci,Ti,fi,Ai,Ii),dn=ho.propertyGroups={behavior:qt,transition:ze,visibility:ge,overlay:Ae,underlay:He,ghost:Ri,commonLabel:se,labelDimensions:ee,mainLabel:Ct,sourceLabel:Rt,targetLabel:$t,nodeBody:ki,nodeBorder:Oi,backgroundImage:ii,pie:Ci,compound:Ti,edgeLine:fi,edgeArrow:Ai,core:Ii},un=ho.propertyGroupNames={};(ho.propertyGroupKeys=Object.keys(dn)).forEach(function(pn){un[pn]=dn[pn].map(function(kn){return kn.name}),dn[pn].forEach(function(kn){return kn.groupKey=pn})});var Nn=ho.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];ho.propertyNames=ln.map(function(pn){return pn.name});for(var Cn=0;Cn<ln.length;Cn++){var Ji=ln[Cn];ln[Ji.name]=Ji}for(var Hn=0;Hn<Nn.length;Hn++){var Si=Nn[Hn],Wn={name:Si.name,alias:!0,pointsTo:ln[Si.pointsTo]};ln.push(Wn),ln[Si.name]=Wn}})(),ho.getDefaultProperty=function(x){return this.getDefaultProperties()[x]},ho.getDefaultProperties=function(){var x=this._private;if(null!=x.defaultProperties)return x.defaultProperties;for(var u=Pt({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(gt,pt){for(var Ct=1;Ct<=ho.pieBackgroundN;Ct++)gt[pt.name.replace("{{i}}",Ct)]=pt.value;return gt},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(gt,pt){return ho.arrowPrefixes.forEach(function(Ct){gt[Ct+"-"+pt.name]=pt.value}),gt},{})),y={},E=0;E<this.properties.length;E++){var R=this.properties[E];if(!R.pointsTo){var N=R.name,dt=this.parse(N,u[N]);y[N]=dt}}return x.defaultProperties=y,x.defaultProperties},ho.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var wl={parse:function(x,u,y,E){var R=this;if(wt(u))return R.parseImplWarn(x,u,y,E);var Ct,gt=De(x,""+u,y?"t":"f","mapping"===E||!0===E||!1===E||null==E?"dontcare":E),pt=R.propCache=R.propCache||[];return(Ct=pt[gt])||(Ct=pt[gt]=R.parseImplWarn(x,u,y,E)),(y||"mapping"===E)&&(Ct=Ei(Ct))&&(Ct.value=Ei(Ct.value)),Ct},parseImplWarn:function(x,u,y,E){var R=this.parseImpl(x,u,y,E);return!R&&null!=u&&$e("The style property `".concat(x,": ").concat(u,"` is invalid")),R&&("width"===R.name||"height"===R.name)&&"label"===u&&$e("The style value of `label` is deprecated for `"+R.name+"`"),R}};wl.parseImpl=function(x,u,y,E){var R=this;x=Mt(x);var N=R.properties[x],j=u,dt=R.types;if(!N||void 0===u)return null;N.alias&&(x=(N=N.pointsTo).name);var gt=lt(u);gt&&(u=u.trim());var Ct,Rt,pt=N.type;if(!pt)return null;if(y&&(""===u||null===u))return{name:x,value:u,bypass:!0,deleteBypass:!0};if(wt(u))return{name:x,value:u,strValue:"fn",mapped:dt.fn,bypass:y};if(!(!gt||E||u.length<7||"a"!==u[1])){if(u.length>=7&&"d"===u[0]&&(Ct=new RegExp(dt.data.regex).exec(u)))return!y&&{name:x,value:Ct,strValue:""+u,mapped:dt.data,field:Ct[1],bypass:y};if(u.length>=10&&"m"===u[0]&&(Rt=new RegExp(dt.mapData.regex).exec(u))){if(y||pt.multiple)return!1;var ee=dt.mapData;if(!pt.color&&!pt.number)return!1;var se=this.parse(x,Rt[4]);if(!se||se.mapped)return!1;var qt=this.parse(x,Rt[5]);if(!qt||qt.mapped)return!1;if(se.pfValue===qt.pfValue||se.strValue===qt.strValue)return $e("`"+x+": "+u+"` is not a valid mapper because the output range is zero; converting to `"+x+": "+se.strValue+"`"),this.parse(x,se.strValue);if(pt.color){var ge=se.value,Ae=qt.value;if(!(ge[0]!==Ae[0]||ge[1]!==Ae[1]||ge[2]!==Ae[2]||ge[3]!==Ae[3]&&(null!=ge[3]&&1!==ge[3]||null!=Ae[3]&&1!==Ae[3])))return!1}return{name:x,value:Rt,strValue:""+u,mapped:ee,field:Rt[1],fieldMin:parseFloat(Rt[2]),fieldMax:parseFloat(Rt[3]),valueMin:se.value,valueMax:qt.value,bypass:y}}}if(pt.multiple&&"multiple"!==E){var ze;if(ze=gt?u.split(/\s+/):xt(u)?u:[u],pt.evenMultiple&&ze.length%2!=0)return null;for(var ri=[],ki=[],Oi=[],ii="",Ti=!1,fi=0;fi<ze.length;fi++){var Ri=R.parse(x,ze[fi],y,"multiple");Ti=Ti||lt(Ri.value),ri.push(Ri.value),Oi.push(null!=Ri.pfValue?Ri.pfValue:Ri.value),ki.push(Ri.units),ii+=(fi>0?" ":"")+Ri.strValue}return pt.validate&&!pt.validate(ri,ki)?null:pt.singleEnum&&Ti?1===ri.length&&lt(ri[0])?{name:x,value:ri[0],strValue:ri[0],bypass:y}:null:{name:x,value:ri,pfValue:Oi,strValue:ii,bypass:y,units:ki}}var Ii=function(){for(var Qn=0;Qn<pt.enums.length;Qn++)if(pt.enums[Qn]===u)return{name:x,value:u,strValue:""+u,bypass:y};return null};if(pt.number){var Ci,Ki="px";if(pt.units&&(Ci=pt.units),pt.implicitUnits&&(Ki=pt.implicitUnits),!pt.unitless)if(gt){var Ai="px|em"+(pt.allowPercent?"|\\%":"");Ci&&(Ai=Ci);var mn=u.match("^("+Vt+")("+Ai+")?$");mn&&(u=mn[1],Ci=mn[2]||Ki)}else(!Ci||pt.implicitUnits)&&(Ci=Ki);if(u=parseFloat(u),isNaN(u)&&void 0===pt.enums)return null;if(isNaN(u)&&void 0!==pt.enums)return u=j,Ii();if(pt.integer&&!function(u){return Et(u)&&Math.floor(u)===u}(u)||void 0!==pt.min&&(u<pt.min||pt.strictMin&&u===pt.min)||void 0!==pt.max&&(u>pt.max||pt.strictMax&&u===pt.max))return null;var ln={name:x,value:u,strValue:""+u+(Ci||""),units:Ci,bypass:y};return ln.pfValue=pt.unitless||"px"!==Ci&&"em"!==Ci?u:"px"!==Ci&&Ci?this.getEmSizeInPixels()*u:u,("ms"===Ci||"s"===Ci)&&(ln.pfValue="ms"===Ci?u:1e3*u),("deg"===Ci||"rad"===Ci)&&(ln.pfValue="rad"===Ci?u:function(u){return Math.PI*u/180}(u)),"%"===Ci&&(ln.pfValue=u/100),ln}if(pt.propList){var dn=[],un=""+u;if("none"!==un){for(var fn=un.split(/\s*,\s*|\s+/),Nn=0;Nn<fn.length;Nn++){var Cn=fn[Nn].trim();R.properties[Cn]?dn.push(Cn):$e("`"+Cn+"` is not a valid property name")}if(0===dn.length)return null}return{name:x,value:dn,strValue:0===dn.length?"none":dn.join(" "),bypass:y}}if(pt.color){var Ji=function(u){return(xt(u)?u:null)||function(u){return Bt[u.toLowerCase()]}(u)||function(u){if((4===u.length||7===u.length)&&"#"===u[0]){var E,R,N,j=16;return 4===u.length?(E=parseInt(u[1]+u[1],j),R=parseInt(u[2]+u[2],j),N=parseInt(u[3]+u[3],j)):(E=parseInt(u[1]+u[2],j),R=parseInt(u[3]+u[4],j),N=parseInt(u[5]+u[6],j)),[E,R,N]}}(u)||function(u){var y,E=new RegExp("^rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(u);if(E){y=[];for(var R=[],N=1;N<=3;N++){var j=E[N];if("%"===j[j.length-1]&&(R[N]=!0),j=parseFloat(j),R[N]&&(j=j/100*255),j<0||j>255)return;y.push(Math.floor(j))}if((R[1]||R[2]||R[3])&&!(R[1]&&R[2]&&R[3]))return;var pt=E[4];if(void 0!==pt){if((pt=parseFloat(pt))<0||pt>1)return;y.push(pt)}}return y}(u)||function(u){var y,E,R,N,j,dt,gt,pt;function Ct(se,qt,ge){return ge<0&&(ge+=1),ge>1&&(ge-=1),ge<1/6?se+6*(qt-se)*ge:ge<.5?qt:ge<2/3?se+(qt-se)*(2/3-ge)*6:se}var Rt=new RegExp("^hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(u);if(Rt){if((E=parseInt(Rt[1]))<0?E=(360- -1*E%360)%360:E>360&&(E%=360),E/=360,(R=parseFloat(Rt[2]))<0||R>100||(R/=100,(N=parseFloat(Rt[3]))<0||N>100)||(N/=100,void 0!==(j=Rt[4])&&((j=parseFloat(j))<0||j>1)))return;if(0===R)dt=gt=pt=Math.round(255*N);else{var $t=N<.5?N*(1+R):N+R-N*R,ee=2*N-$t;dt=Math.round(255*Ct(ee,$t,E+1/3)),gt=Math.round(255*Ct(ee,$t,E)),pt=Math.round(255*Ct(ee,$t,E-1/3))}y=[dt,gt,pt,j]}return y}(u)}(u);return Ji?{name:x,value:Ji,pfValue:Ji,strValue:"rgb("+Ji[0]+","+Ji[1]+","+Ji[2]+")",bypass:y}:null}if(pt.regex||pt.regexes){if(pt.enums){var Hn=Ii();if(Hn)return Hn}for(var Si=pt.regexes?pt.regexes:[pt.regex],Zn=0;Zn<Si.length;Zn++){var pn=new RegExp(Si[Zn]).exec(u);if(pn)return{name:x,value:pt.singleRegexMatchValue?pn[1]:pn,strValue:""+u,bypass:y}}return null}return pt.string?{name:x,value:""+u,strValue:""+u,bypass:y}:pt.enums?Ii():null};var Ks=function x(u){if(!(this instanceof x))return new x(u);w(u)?(this._private={cy:u,coreStyle:{}},this.length=0,this.resetToDefault()):pi("A style must have a core reference")},Yo=Ks.prototype;Yo.instanceString=function(){return"style"},Yo.clear=function(){for(var x=this._private,y=x.cy.elements(),E=0;E<this.length;E++)this[E]=void 0;return this.length=0,x.contextStyles={},x.propDiffs={},this.cleanElements(y,!0),y.forEach(function(R){var N=R[0]._private;N.styleDirty=!0,N.appliedInitStyle=!1}),this},Yo.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},Yo.core=function(x){return this._private.coreStyle[x]||this.getDefaultProperty(x)},Yo.selector=function(x){var u="core"===x?null:new vu(x),y=this.length++;return this[y]={selector:u,properties:[],mappedProperties:[],index:y},this},Yo.css=function(){var x=this,u=arguments;if(1===u.length)for(var y=u[0],E=0;E<x.properties.length;E++){var R=x.properties[E],N=y[R.name];void 0===N&&(N=y[St(R.name)]),void 0!==N&&this.cssRule(R.name,N)}else 2===u.length&&this.cssRule(u[0],u[1]);return this},Yo.style=Yo.css,Yo.cssRule=function(x,u){var y=this.parse(x,u);if(y){var E=this.length-1;this[E].properties.push(y),this[E].properties[y.name]=y,y.name.match(/pie-(\d+)-background-size/)&&y.value&&(this._private.hasPie=!0),y.mapped&&this[E].mappedProperties.push(y),!this[E].selector&&(this._private.coreStyle[y.name]=y)}return this},Yo.append=function(x){return S(x)?x.appendToStyle(this):xt(x)?this.appendFromJson(x):lt(x)&&this.appendFromString(x),this},Ks.fromJson=function(x,u){var y=new Ks(x);return y.fromJson(u),y},Ks.fromString=function(x,u){return new Ks(x).fromString(u)},[Ia,Zr,Mf,cc,jn,No,ho,wl].forEach(function(x){Pt(Yo,x)}),Ks.types=Yo.types,Ks.properties=Yo.properties,Ks.propertyGroups=Yo.propertyGroups,Ks.propertyGroupNames=Yo.propertyGroupNames,Ks.propertyGroupKeys=Yo.propertyGroupKeys;var ua={style:function(u){return u&&this.setStyle(u).update(),this._private.style},setStyle:function(u){var y=this._private;return y.style=S(u)?u.generateStyle(this):xt(u)?Ks.fromJson(this,u):lt(u)?Ks.fromString(this,u):Ks(this),y.style},updateStyle:function(){this.mutableElements().updateStyle()}},Uh={autolock:function(u){return void 0===u?this._private.autolock:(this._private.autolock=!!u,this)},autoungrabify:function(u){return void 0===u?this._private.autoungrabify:(this._private.autoungrabify=!!u,this)},autounselectify:function(u){return void 0===u?this._private.autounselectify:(this._private.autounselectify=!!u,this)},selectionType:function(u){var y=this._private;return null==y.selectionType&&(y.selectionType="single"),void 0===u?y.selectionType:(("additive"===u||"single"===u)&&(y.selectionType=u),this)},panningEnabled:function(u){return void 0===u?this._private.panningEnabled:(this._private.panningEnabled=!!u,this)},userPanningEnabled:function(u){return void 0===u?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!u,this)},zoomingEnabled:function(u){return void 0===u?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!u,this)},userZoomingEnabled:function(u){return void 0===u?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!u,this)},boxSelectionEnabled:function(u){return void 0===u?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!u,this)},pan:function(){var E,R,N,j,dt,u=arguments,y=this._private.pan;switch(u.length){case 0:return y;case 1:if(lt(u[0]))return y[E=u[0]];if(Ot(u[0])){if(!this._private.panningEnabled)return this;dt=(N=u[0]).y,Et(j=N.x)&&(y.x=j),Et(dt)&&(y.y=dt),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;R=u[1],("x"===(E=u[0])||"y"===E)&&Et(R)&&(y[E]=R),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(u,y){var N,j,dt,gt,pt,E=arguments,R=this._private.pan;if(!this._private.panningEnabled)return this;switch(E.length){case 1:Ot(u)&&(pt=(dt=E[0]).y,Et(gt=dt.x)&&(R.x+=gt),Et(pt)&&(R.y+=pt),this.emit("pan viewport"));break;case 2:j=y,("x"===(N=u)||"y"===N)&&Et(j)&&(R[N]+=j),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(u,y){var E=this.getFitViewport(u,y);if(E){var R=this._private;R.zoom=E.zoom,R.pan=E.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(u,y){var E;if((Et(u)&&void 0===y&&(y=u,u=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(lt(u)?u=this.$(u):!function(u){return Ot(u)&&Et(u.x1)&&Et(u.x2)&&Et(u.y1)&&Et(u.y2)}(u)?c(u)||(u=this.mutableElements()):((E={x1:u.x1,y1:u.y1,x2:u.x2,y2:u.y2}).w=E.x2-E.x1,E.h=E.y2-E.y1),!c(u)||!u.empty())){E=E||u.boundingBox();var gt,j=this.width(),dt=this.height();if(y=Et(y)?y:0,!isNaN(j)&&!isNaN(dt)&&j>0&&dt>0&&!isNaN(E.w)&&!isNaN(E.h)&&E.w>0&&E.h>0)return{zoom:gt=(gt=(gt=Math.min((j-2*y)/E.w,(dt-2*y)/E.h))>this._private.maxZoom?this._private.maxZoom:gt)<this._private.minZoom?this._private.minZoom:gt,pan:{x:(j-gt*(E.x1+E.x2))/2,y:(dt-gt*(E.y1+E.y2))/2}}}},zoomRange:function(u,y){var E=this._private;if(null==y){var R=u;u=R.min,y=R.max}return Et(u)&&Et(y)&&u<=y?(E.minZoom=u,E.maxZoom=y):Et(u)&&void 0===y&&u<=E.maxZoom?E.minZoom=u:Et(y)&&void 0===u&&y>=E.minZoom&&(E.maxZoom=y),this},minZoom:function(u){return void 0===u?this._private.minZoom:this.zoomRange({min:u})},maxZoom:function(u){return void 0===u?this._private.maxZoom:this.zoomRange({max:u})},getZoomedViewport:function(u){var N,j,y=this._private,E=y.pan,R=y.zoom,dt=!1;return y.zoomingEnabled||(dt=!0),Et(u)?j=u:Ot(u)&&(j=u.level,null!=u.position?N=Ho(u.position,R,E):null!=u.renderedPosition&&(N=u.renderedPosition),null!=N&&!y.panningEnabled&&(dt=!0)),j=(j=j>y.maxZoom?y.maxZoom:j)<y.minZoom?y.minZoom:j,!dt&&Et(j)&&j!==R&&(null==N||Et(N.x)&&Et(N.y))?null!=N?{zoomed:!0,panned:!0,zoom:j,pan:{x:-j/R*(N.x-E.x)+N.x,y:-j/R*(N.y-E.y)+N.y}}:{zoomed:!0,panned:!1,zoom:j,pan:E}:null},zoom:function(u){if(void 0===u)return this._private.zoom;var y=this.getZoomedViewport(u),E=this._private;return null!=y&&y.zoomed?(E.zoom=y.zoom,y.panned&&(E.pan.x=y.pan.x,E.pan.y=y.pan.y),this.emit("zoom"+(y.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(u){var y=this._private,E=!0,R=!0,N=[],j=!1,dt=!1;if(!u)return this;if(Et(u.zoom)||(E=!1),Ot(u.pan)||(R=!1),!E&&!R)return this;if(E){var gt=u.zoom;gt<y.minZoom||gt>y.maxZoom||!y.zoomingEnabled?j=!0:(y.zoom=gt,N.push("zoom"))}if(R&&(!j||!u.cancelOnFailedZoom)&&y.panningEnabled){var pt=u.pan;Et(pt.x)&&(y.pan.x=pt.x,dt=!1),Et(pt.y)&&(y.pan.y=pt.y,dt=!1),dt||N.push("pan")}return N.length>0&&(N.push("viewport"),this.emit(N.join(" ")),this.notify("viewport")),this},center:function(u){var y=this.getCenterPan(u);return y&&(this._private.pan=y,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(u,y){if(this._private.panningEnabled){if(lt(u)){var E=u;u=this.mutableElements().filter(E)}else c(u)||(u=this.mutableElements());if(0!==u.length){var R=u.boundingBox(),N=this.width(),j=this.height();return{x:(N-(y=void 0===y?this._private.zoom:y)*(R.x1+R.x2))/2,y:(j-y*(R.y1+R.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var E,R,u=this._private,y=u.container;return u.sizeCache=u.sizeCache||(y?(E=B.getComputedStyle(y),{width:y.clientWidth-(R=function(j){return parseFloat(E.getPropertyValue(j))})("padding-left")-R("padding-right"),height:y.clientHeight-R("padding-top")-R("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var u=this._private.pan,y=this._private.zoom,E=this.renderedExtent(),R={x1:(E.x1-u.x)/y,x2:(E.x2-u.x)/y,y1:(E.y1-u.y)/y,y2:(E.y2-u.y)/y};return R.w=R.x2-R.x1,R.h=R.y2-R.y1,R},renderedExtent:function(){var u=this.width(),y=this.height();return{x1:0,y1:0,x2:u,y2:y,w:u,h:y}},multiClickDebounceTime:function(u){return u?(this._private.multiClickDebounceTime=u,this):this._private.multiClickDebounceTime}};Uh.centre=Uh.center,Uh.autolockNodes=Uh.autolock,Uh.autoungrabifyNodes=Uh.autoungrabify;var fc={data:Ft.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Ft.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Ft.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Ft.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};fc.attr=fc.data,fc.removeAttr=fc.removeData;var Lc=function(u){var y=this,E=(u=Pt({},u)).container;E&&!o(E)&&o(E[0])&&(E=E[0]);var R=E?E._cyreg:null;(R=R||{})&&R.cy&&(R.cy.destroy(),R={});var N=R.readies=R.readies||[];E&&(E._cyreg=R),R.cy=y;var j=void 0!==B&&void 0!==E&&!u.headless,dt=u;dt.layout=Pt({name:j?"grid":"null"},dt.layout),dt.renderer=Pt({name:j?"canvas":"null"},dt.renderer);var gt=function(se,qt,ge){return void 0!==qt?qt:void 0!==ge?ge:se},pt=this._private={container:E,ready:!1,options:dt,elements:new la(this),listeners:[],aniEles:new la(this),data:dt.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:gt(!0,dt.zoomingEnabled),userZoomingEnabled:gt(!0,dt.userZoomingEnabled),panningEnabled:gt(!0,dt.panningEnabled),userPanningEnabled:gt(!0,dt.userPanningEnabled),boxSelectionEnabled:gt(!0,dt.boxSelectionEnabled),autolock:gt(!1,dt.autolock,dt.autolockNodes),autoungrabify:gt(!1,dt.autoungrabify,dt.autoungrabifyNodes),autounselectify:gt(!1,dt.autounselectify),styleEnabled:void 0===dt.styleEnabled?j:dt.styleEnabled,zoom:Et(dt.zoom)?dt.zoom:1,pan:{x:Ot(dt.pan)&&Et(dt.pan.x)?dt.pan.x:0,y:Ot(dt.pan)&&Et(dt.pan.y)?dt.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:gt(250,dt.multiClickDebounceTime)};this.createEmitter(),this.selectionType(dt.selectionType),this.zoomRange({min:dt.minZoom,max:dt.maxZoom}),pt.styleEnabled&&y.setStyle([]);var Rt=Pt({},dt,dt.renderer);y.initRenderer(Rt),function(se,qt){if(se.some(ft))return pu.all(se).then(qt);qt(se)}([dt.style,dt.elements],function(ee){var se=ee[0],qt=ee[1];pt.styleEnabled&&y.style().append(se),function(se,qt,ge){y.notifications(!1);var Ae=y.mutableElements();Ae.length>0&&Ae.remove(),null!=se&&(Ot(se)||xt(se))&&y.add(se),y.one("layoutready",function(ze){y.notifications(!0),y.emit(ze),y.one("load",qt),y.emitAndNotify("load")}).one("layoutstop",function(){y.one("done",ge),y.emit("done")});var He=Pt({},y._private.options.layout);He.eles=y.elements(),y.layout(He).run()}(qt,function(){y.startAnimationLoop(),pt.ready=!0,wt(dt.ready)&&y.on("ready",dt.ready);for(var ge=0;ge<N.length;ge++)y.on("ready",N[ge]);R&&(R.readies=[]),y.emit("ready")},dt.done)})},Ca=Lc.prototype;Pt(Ca,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(u){return this.isReady()?this.emitter().emit("ready",[],u):this.on("ready",u),this},destroy:function(){var u=this;if(!u.destroyed())return u.stopAnimationLoop(),u.destroyRenderer(),this.emit("destroy"),u._private.destroyed=!0,u},hasElementWithId:function(u){return this._private.elements.hasElementWithId(u)},getElementById:function(u){return this._private.elements.getElementById(u)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(u){return this._private.elements.merge(u),this},removeFromPool:function(u){return this._private.elements.unmerge(u),this},container:function(){return this._private.container||null},mount:function(u){if(null!=u){var y=this,E=y._private,R=E.options;return!o(u)&&o(u[0])&&(u=u[0]),y.stopAnimationLoop(),y.destroyRenderer(),E.container=u,E.styleEnabled=!0,y.invalidateSize(),y.initRenderer(Pt({},R,R.renderer,{name:"null"===R.renderer.name?"canvas":R.renderer.name})),y.startAnimationLoop(),y.style(R.style),y.emit("mount"),y}},unmount:function(){var u=this;return u.stopAnimationLoop(),u.destroyRenderer(),u.initRenderer({name:"null"}),u.emit("unmount"),u},options:function(){return Ei(this._private.options)},json:function(u){var y=this,E=y._private,R=y.mutableElements();if(Ot(u)){if(y.startBatch(),u.elements){var j={},dt=function(ri,ki){for(var Oi=[],ii=[],Ti=0;Ti<ri.length;Ti++){var fi=ri[Ti];if(fi.data.id){var Ri=""+fi.data.id,Ii=y.getElementById(Ri);j[Ri]=!0,0!==Ii.length?ii.push({ele:Ii,json:fi}):(ki&&(fi.group=ki),Oi.push(fi))}else $e("cy.json() cannot handle elements without an ID attribute")}y.add(Oi);for(var Ci=0;Ci<ii.length;Ci++){var Ki=ii[Ci];Ki.ele.json(Ki.json)}};if(xt(u.elements))dt(u.elements);else for(var gt=["nodes","edges"],pt=0;pt<gt.length;pt++){var Ct=gt[pt],Rt=u.elements[Ct];xt(Rt)&&dt(Rt,Ct)}var $t=y.collection();R.filter(function(ze){return!j[ze.id()]}).forEach(function(ze){ze.isParent()?$t.merge(ze):ze.remove()}),$t.forEach(function(ze){return ze.children().move({parent:null})}),$t.forEach(function(ze){return(ri=ze,y.getElementById(ri.id())).remove();var ri})}u.style&&y.style(u.style),null!=u.zoom&&u.zoom!==E.zoom&&y.zoom(u.zoom),u.pan&&(u.pan.x!==E.pan.x||u.pan.y!==E.pan.y)&&y.pan(u.pan),u.data&&y.data(u.data);for(var ee=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],se=0;se<ee.length;se++){var qt=ee[se];null!=u[qt]&&y[qt](u[qt])}return y.endBatch(),this}var Ae={};u?Ae.elements=this.elements().map(function(ze){return ze.json()}):(Ae.elements={},R.forEach(function(ze){var ri=ze.group();Ae.elements[ri]||(Ae.elements[ri]=[]),Ae.elements[ri].push(ze.json())})),this._private.styleEnabled&&(Ae.style=y.style().json()),Ae.data=Ei(y.data());var He=E.options;return Ae.zoomingEnabled=E.zoomingEnabled,Ae.userZoomingEnabled=E.userZoomingEnabled,Ae.zoom=E.zoom,Ae.minZoom=E.minZoom,Ae.maxZoom=E.maxZoom,Ae.panningEnabled=E.panningEnabled,Ae.userPanningEnabled=E.userPanningEnabled,Ae.pan=Ei(E.pan),Ae.boxSelectionEnabled=E.boxSelectionEnabled,Ae.renderer=Ei(He.renderer),Ae.hideEdgesOnViewport=He.hideEdgesOnViewport,Ae.textureOnViewport=He.textureOnViewport,Ae.wheelSensitivity=He.wheelSensitivity,Ae.motionBlur=He.motionBlur,Ae.multiClickDebounceTime=He.multiClickDebounceTime,Ae}}),Ca.$id=Ca.getElementById,[vg,jp,uc,Y0,W0,id,Up,Ma,ua,Uh,fc].forEach(function(x){Pt(Ca,x)});var xu={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(u,y){return!0},ready:void 0,stop:void 0,transform:function(u,y){return y}},nl=function(u){return u.scratch("breadthfirst")},Gp=function(u,y){return u.scratch("breadthfirst",y)};function K0(x){this.options=Pt({},xu,x)}K0.prototype.run=function(){var pt,x=this.options,u=x,y=x.cy,E=u.eles,R=E.nodes().filter(function(Tr){return!Tr.isParent()}),N=E,j=u.directed,dt=u.maximal||u.maximalAdjustments>0,gt=ko(u.boundingBox?u.boundingBox:{x1:0,y1:0,w:y.width(),h:y.height()});if(c(u.roots))pt=u.roots;else if(xt(u.roots)){for(var Ct=[],Rt=0;Rt<u.roots.length;Rt++){var ee=y.getElementById(u.roots[Rt]);Ct.push(ee)}pt=y.collection(Ct)}else if(lt(u.roots))pt=y.$(u.roots);else if(j)pt=R.roots();else{var se=E.components();pt=y.collection();for(var qt=function(wr){var Kr=se[wr],oo=Kr.maxDegree(!1),zr=Kr.filter(function(co){return co.degree(!1)===oo});pt=pt.add(zr)},ge=0;ge<se.length;ge++)qt(ge)}var Ae=[],He={},ze=function(wr,Kr){null==Ae[Kr]&&(Ae[Kr]=[]);var oo=Ae[Kr].length;Ae[Kr].push(wr),Gp(wr,{index:oo,depth:Kr})};N.bfs({roots:pt,directed:u.directed,visit:function(wr,Kr,oo,zr,co){var vs=wr[0],Ko=vs.id();ze(vs,co),He[Ko]=!0}});for(var ki=[],Oi=0;Oi<R.length;Oi++){var ii=R[Oi];He[ii.id()]||ki.push(ii)}var Ti=function(wr){for(var Kr=Ae[wr],oo=0;oo<Kr.length;oo++){var zr=Kr[oo];null!=zr?Gp(zr,{depth:wr,index:oo}):(Kr.splice(oo,1),oo--)}},fi=function(){for(var wr=0;wr<Ae.length;wr++)Ti(wr)},Ri=function(wr,Kr){for(var oo=nl(wr),zr=wr.incomers().filter(function(mi){return mi.isNode()&&E.has(mi)}),co=-1,vs=wr.id(),Ko=0;Ko<zr.length;Ko++){var Qi=nl(zr[Ko]);co=Math.max(co,Qi.depth)}return oo.depth<=co&&(Kr[vs]?null:(function(wr,Kr){var oo=nl(wr);Ae[oo.depth][oo.index]=null,ze(wr,Kr)}(wr,co+1),Kr[vs]=!0,!0))};if(j&&dt){var Ii=[],Ci={},Ki=function(wr){return Ii.push(wr)};for(R.forEach(function(Tr){return Ii.push(Tr)});Ii.length>0;){var mn=Ii.shift(),ln=Ri(mn,Ci);if(ln)mn.outgoers().filter(function(Tr){return Tr.isNode()&&E.has(Tr)}).forEach(Ki);else if(null===ln){$e("Detected double maximal shift for node `"+mn.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}fi();var dn=0;if(u.avoidOverlap)for(var un=0;un<R.length;un++){var Nn=R[un].layoutDimensions(u);dn=Math.max(dn,Nn.w,Nn.h)}for(var Hn={},Si=function(wr){if(Hn[wr.id()])return Hn[wr.id()];for(var Kr=nl(wr).depth,oo=wr.neighborhood(),zr=0,co=0,vs=0;vs<oo.length;vs++){var Ko=oo[vs];if(!Ko.isEdge()&&!Ko.isParent()&&R.has(Ko)){var Fo=nl(Ko);if(null!=Fo){var Qi=Fo.index,mi=Fo.depth;null!=Qi&&null!=mi&&mi<Kr&&(zr+=Qi/Ae[mi].length,co++)}}}return zr/=co=Math.max(1,co),0===co&&(zr=0),Hn[wr.id()]=zr,zr},Zn=function(wr,Kr){var co=Si(wr)-Si(Kr);return 0===co?zt(wr.id(),Kr.id()):co},Wn=0;Wn<Ae.length;Wn++)Ae[Wn].sort(Zn),Ti(Wn);for(var pn=[],kn=0;kn<ki.length;kn++)pn.push(ki[kn]);Ae.unshift(pn),fi();for(var Qn=0,rr=0;rr<Ae.length;rr++)Qn=Math.max(Ae[rr].length,Qn);var _r_x=gt.x1+gt.w/2,_r_y=gt.x1+gt.h/2,go=Ae.reduce(function(Tr,wr){return Math.max(Tr,wr.length)},0);return E.nodes().layoutPositions(this,u,function(wr){var Kr=nl(wr),oo=Kr.depth,zr=Kr.index,co=Ae[oo].length,vs=Math.max(gt.w/((u.grid?go:co)+1),dn),Ko=Math.max(gt.h/(Ae.length+1),dn),Fo=Math.min(gt.w/2/Ae.length,gt.h/2/Ae.length);if(Fo=Math.max(Fo,dn),u.circle){var mi=Fo*oo+Fo-(Ae.length>0&&Ae[0].length<=3?Fo/2:0),En=2*Math.PI/Ae[oo].length*zr;return 0===oo&&1===Ae[0].length&&(mi=1),{x:_r_x+mi*Math.cos(En),y:_r_y+mi*Math.sin(En)}}return{x:_r_x+(zr+1-(co+1)/2)*vs,y:(oo+1)*Ko}}),this};var Sa={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(u,y){return!0},ready:void 0,stop:void 0,transform:function(u,y){return y}};function Wa(x){this.options=Pt({},Sa,x)}Wa.prototype.run=function(){var x=this.options,u=x,y=x.cy,E=u.eles,R=void 0!==u.counterclockwise?!u.counterclockwise:u.clockwise,N=E.nodes().not(":parent");u.sort&&(N=N.sort(u.sort));for(var Ct,j=ko(u.boundingBox?u.boundingBox:{x1:0,y1:0,w:y.width(),h:y.height()}),dt={x:j.x1+j.w/2,y:j.y1+j.h/2},pt=(void 0===u.sweep?2*Math.PI-2*Math.PI/N.length:u.sweep)/Math.max(1,N.length-1),Rt=0,$t=0;$t<N.length;$t++){var se=N[$t].layoutDimensions(u);Rt=Math.max(Rt,se.w,se.h)}if(Ct=Et(u.radius)?u.radius:N.length<=1?0:Math.min(j.h,j.w)/2-Rt,N.length>1&&u.avoidOverlap){Rt*=1.75;var Ae=Math.cos(pt)-Math.cos(0),He=Math.sin(pt)-Math.sin(0),ze=Math.sqrt(Rt*Rt/(Ae*Ae+He*He));Ct=Math.max(ze,Ct)}return E.nodes().layoutPositions(this,u,function(Oi,ii){var Ti=u.startAngle+ii*pt*(R?1:-1),fi=Ct*Math.cos(Ti),Ri=Ct*Math.sin(Ti);return{x:dt.x+fi,y:dt.y+Ri}}),this};var $0={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(u){return u.degree()},levelWidth:function(u){return u.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(u,y){return!0},ready:void 0,stop:void 0,transform:function(u,y){return y}};function qd(x){this.options=Pt({},$0,x)}qd.prototype.run=function(){for(var x=this.options,u=x,y=void 0!==u.counterclockwise?!u.counterclockwise:u.clockwise,E=x.cy,R=u.eles,N=R.nodes().not(":parent"),j=ko(u.boundingBox?u.boundingBox:{x1:0,y1:0,w:E.width(),h:E.height()}),dt={x:j.x1+j.w/2,y:j.y1+j.h/2},gt=[],pt=0,Ct=0;Ct<N.length;Ct++){var $t,Rt=N[Ct];$t=u.concentric(Rt),gt.push({value:$t,node:Rt}),Rt._private.scratch.concentric=$t}N.updateStyle();for(var ee=0;ee<N.length;ee++){var qt=N[ee].layoutDimensions(u);pt=Math.max(pt,qt.w,qt.h)}gt.sort(function(Tr,wr){return wr.value-Tr.value});for(var ge=u.levelWidth(N),Ae=[[]],He=Ae[0],ze=0;ze<gt.length;ze++){var ri=gt[ze];He.length>0&&Math.abs(He[0].value-ri.value)>=ge&&Ae.push(He=[]),He.push(ri)}var Oi=pt+u.minNodeSpacing;if(!u.avoidOverlap){var ii=Ae.length>0&&Ae[0].length>1,Ti=Math.min(j.w,j.h)/2-Oi;Oi=Math.min(Oi,Ti/(Ae.length+ii?1:0))}for(var Ri=0,Ii=0;Ii<Ae.length;Ii++){var Ci=Ae[Ii],Ki=void 0===u.sweep?2*Math.PI-2*Math.PI/Ci.length:u.sweep,Ai=Ci.dTheta=Ki/Math.max(1,Ci.length-1);if(Ci.length>1&&u.avoidOverlap){var mn=Math.cos(Ai)-Math.cos(0),ln=Math.sin(Ai)-Math.sin(0),dn=Math.sqrt(Oi*Oi/(mn*mn+ln*ln));Ri=Math.max(dn,Ri)}Ci.r=Ri,Ri+=Oi}if(u.equidistant){for(var un=0,fn=0,Nn=0;Nn<Ae.length;Nn++)un=Math.max(un,Ae[Nn].r-fn);fn=0;for(var Hn=0;Hn<Ae.length;Hn++){var Si=Ae[Hn];0===Hn&&(fn=Si.r),Si.r=fn,fn+=un}}for(var Zn={},Wn=0;Wn<Ae.length;Wn++)for(var pn=Ae[Wn],kn=pn.dTheta,Qn=pn.r,rr=0;rr<pn.length;rr++){var _r=pn[rr],go=u.startAngle+(y?1:-1)*kn*rr,yo={x:dt.x+Qn*Math.cos(go),y:dt.y+Qn*Math.sin(go)};Zn[_r.node.id()]=yo}return R.nodes().layoutPositions(this,u,function(Tr){var wr=Tr.id();return Zn[wr]}),this};var dc,Nu={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(u,y){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(u){return 2048},nodeOverlap:4,idealEdgeLength:function(u){return 32},edgeElasticity:function(u){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Cf(x){this.options=Pt({},Nu,x),this.options.layout=this}Cf.prototype.run=function(){var x=this.options,u=x.cy,y=this;y.stopped=!1,(!0===x.animate||!1===x.animate)&&y.emit({type:"layoutstart",layout:y}),dc=!0===x.debug;var E=xh(u,y,x);dc&&(void 0)(E),x.randomize&&Qd(E);var R=ke(),N=function(){Ps(E,u,x),!0===x.fit&&u.fit(x.padding)},j=function($t){return!(y.stopped||$t>=x.numIter||(rl(E,x),E.temperature=E.temperature*x.coolingFactor,E.temperature<x.minTemp))},dt=function(){if(!0===x.animate||!1===x.animate)N(),y.one("layoutstop",x.stop),y.emit({type:"layoutstop",layout:y});else{var $t=x.eles.nodes(),ee=_l(E,x,$t);$t.layoutPositions(y,x,ee)}},gt=0,pt=!0;if(!0===x.animate)!function Rt(){for(var $t=0;pt&&$t<x.refresh;)pt=j(gt),gt++,$t++;pt?(ke()-R>=x.animationThreshold&&N(),ce(Rt)):(Sf(E,x),dt())}();else{for(;pt;)pt=j(gt),gt++;Sf(E,x),dt()}return this},Cf.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Cf.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var xh=function(u,y,E){for(var R=E.eles.edges(),N=E.eles.nodes(),j={isCompound:u.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:N.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:R.size(),temperature:E.initialTemp,clientWidth:u.width(),clientHeight:u.width(),boundingBox:ko(E.boundingBox?E.boundingBox:{x1:0,y1:0,w:u.width(),h:u.height()})},dt=E.eles.components(),gt={},pt=0;pt<dt.length;pt++)for(var Ct=dt[pt],Rt=0;Rt<Ct.length;Rt++)gt[Ct[Rt].id()]=pt;for(pt=0;pt<j.nodeSize;pt++){var se=(ee=N[pt]).layoutDimensions(E);(qt={}).isLocked=ee.locked(),qt.id=ee.data("id"),qt.parentId=ee.data("parent"),qt.cmptId=gt[ee.id()],qt.children=[],qt.positionX=ee.position("x"),qt.positionY=ee.position("y"),qt.offsetX=0,qt.offsetY=0,qt.height=se.w,qt.width=se.h,qt.maxX=qt.positionX+qt.width/2,qt.minX=qt.positionX-qt.width/2,qt.maxY=qt.positionY+qt.height/2,qt.minY=qt.positionY-qt.height/2,qt.padLeft=parseFloat(ee.style("padding")),qt.padRight=parseFloat(ee.style("padding")),qt.padTop=parseFloat(ee.style("padding")),qt.padBottom=parseFloat(ee.style("padding")),qt.nodeRepulsion=wt(E.nodeRepulsion)?E.nodeRepulsion(ee):E.nodeRepulsion,j.layoutNodes.push(qt),j.idToIndex[qt.id]=pt}var ge=[],Ae=0,He=-1,ze=[];for(pt=0;pt<j.nodeSize;pt++){var ee,ri=(ee=j.layoutNodes[pt]).parentId;null!=ri?j.layoutNodes[j.idToIndex[ri]].children.push(ee.id):(ge[++He]=ee.id,ze.push(ee.id))}for(j.graphSet.push(ze);Ae<=He;){var ki=ge[Ae++],ii=j.layoutNodes[j.idToIndex[ki]].children;if(ii.length>0)for(j.graphSet.push(ii),pt=0;pt<ii.length;pt++)ge[++He]=ii[pt]}for(pt=0;pt<j.graphSet.length;pt++){var Ti=j.graphSet[pt];for(Rt=0;Rt<Ti.length;Rt++)j.indexToGraph[j.idToIndex[Ti[Rt]]]=pt}for(pt=0;pt<j.edgeSize;pt++){var Ri=R[pt],Ii={};Ii.id=Ri.data("id"),Ii.sourceId=Ri.data("source"),Ii.targetId=Ri.data("target");var Ci=wt(E.idealEdgeLength)?E.idealEdgeLength(Ri):E.idealEdgeLength,Ki=wt(E.edgeElasticity)?E.edgeElasticity(Ri):E.edgeElasticity,Ai=j.idToIndex[Ii.sourceId],mn=j.idToIndex[Ii.targetId];if(j.indexToGraph[Ai]!=j.indexToGraph[mn]){for(var un=Om(Ii.sourceId,Ii.targetId,j),fn=j.graphSet[un],Nn=0,qt=j.layoutNodes[Ai];-1===fn.indexOf(qt.id);)qt=j.layoutNodes[j.idToIndex[qt.parentId]],Nn++;for(qt=j.layoutNodes[mn];-1===fn.indexOf(qt.id);)qt=j.layoutNodes[j.idToIndex[qt.parentId]],Nn++;Ci*=Nn*E.nestingFactor}Ii.idealLength=Ci,Ii.elasticity=Ki,j.layoutEdges.push(Ii)}return j},Om=function(u,y,E){var R=Jd(u,y,0,E);return 2>R.count?0:R.graph},Jd=function x(u,y,E,R){var N=R.graphSet[E];if(-1<N.indexOf(u)&&-1<N.indexOf(y))return{count:2,graph:E};for(var j=0,dt=0;dt<N.length;dt++){var Ct=R.layoutNodes[R.idToIndex[N[dt]]].children;if(0!==Ct.length){var $t=x(u,y,R.indexToGraph[R.idToIndex[Ct[0]]],R);if(0!==$t.count){if(1!==$t.count)return $t;if(2==++j)break}}}return{count:j,graph:E}},Qd=function(u,y){for(var E=u.clientWidth,R=u.clientHeight,N=0;N<u.nodeSize;N++){var j=u.layoutNodes[N];0===j.children.length&&!j.isLocked&&(j.positionX=Math.random()*E,j.positionY=Math.random()*R)}},_l=function(u,y,E){var R=u.boundingBox,N={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return y.boundingBox&&(E.forEach(function(j){var dt=u.layoutNodes[u.idToIndex[j.data("id")]];N.x1=Math.min(N.x1,dt.positionX),N.x2=Math.max(N.x2,dt.positionX),N.y1=Math.min(N.y1,dt.positionY),N.y2=Math.max(N.y2,dt.positionY)}),N.w=N.x2-N.x1,N.h=N.y2-N.y1),function(j,dt){var gt=u.layoutNodes[u.idToIndex[j.data("id")]];return y.boundingBox?{x:R.x1+(gt.positionX-N.x1)/N.w*R.w,y:R.y1+(gt.positionY-N.y1)/N.h*R.h}:{x:gt.positionX,y:gt.positionY}}},Ps=function(u,y,E){var R=E.layout,N=E.eles.nodes(),j=_l(u,E,N);N.positions(j),!0!==u.ready&&(u.ready=!0,R.one("layoutready",E.ready),R.emit({type:"layoutready",layout:this}))},rl=function(u,y,E){Vl(u,y),yg(u),pc(u,y),Yp(u),Wp(u)},Vl=function(u,y){for(var E=0;E<u.graphSet.length;E++)for(var R=u.graphSet[E],N=R.length,j=0;j<N;j++)for(var dt=u.layoutNodes[u.idToIndex[R[j]]],gt=j+1;gt<N;gt++)Js(dt,u.layoutNodes[u.idToIndex[R[gt]]],u,y)},Hh=function(u){return-u+2*u*Math.random()},Js=function(u,y,E,R){if(u.cmptId===y.cmptId||E.isCompound){var dt=y.positionX-u.positionX,gt=y.positionY-u.positionY;0===dt&&0===gt&&(dt=Hh(1),gt=Hh(1));var Ct=nd(u,y,dt,gt);if(Ct>0)var ee=(Rt=R.nodeOverlap*Ct)*dt/($t=Math.sqrt(dt*dt+gt*gt)),se=Rt*gt/$t;else{var Rt,qt=Pa(u,dt,gt),ge=Pa(y,-1*dt,-1*gt),Ae=ge.x-qt.x,He=ge.y-qt.y,ze=Ae*Ae+He*He,$t=Math.sqrt(ze);ee=(Rt=(u.nodeRepulsion+y.nodeRepulsion)/ze)*Ae/$t,se=Rt*He/$t}u.isLocked||(u.offsetX-=ee,u.offsetY-=se),y.isLocked||(y.offsetX+=ee,y.offsetY+=se)}},nd=function(u,y,E,R){if(E>0)var N=u.maxX-y.minX;else N=y.maxX-u.minX;if(R>0)var j=u.maxY-y.minY;else j=y.maxY-u.minY;return N>=0&&j>=0?Math.sqrt(N*N+j*j):0},Pa=function(u,y,E){var R=u.positionX,N=u.positionY,j=u.height||1,dt=u.width||1,gt=E/y,pt=j/dt,Ct={};return 0===y&&0<E||0===y&&0>E?(Ct.x=R,Ct.y=N+j/2,Ct):0<y&&-1*pt<=gt&&gt<=pt?(Ct.x=R+dt/2,Ct.y=N+dt*E/2/y,Ct):0>y&&-1*pt<=gt&&gt<=pt?(Ct.x=R-dt/2,Ct.y=N-dt*E/2/y,Ct):0<E&&(gt<=-1*pt||gt>=pt)?(Ct.x=R+j*y/2/E,Ct.y=N+j/2,Ct):(0>E&&(gt<=-1*pt||gt>=pt)&&(Ct.x=R-j*y/2/E,Ct.y=N-j/2),Ct)},yg=function(u,y){for(var E=0;E<u.edgeSize;E++){var R=u.layoutEdges[E],j=u.layoutNodes[u.idToIndex[R.sourceId]],gt=u.layoutNodes[u.idToIndex[R.targetId]],pt=gt.positionX-j.positionX,Ct=gt.positionY-j.positionY;if(0!==pt||0!==Ct){var Rt=Pa(j,pt,Ct),$t=Pa(gt,-1*pt,-1*Ct),ee=$t.x-Rt.x,se=$t.y-Rt.y,qt=Math.sqrt(ee*ee+se*se),ge=Math.pow(R.idealLength-qt,2)/R.elasticity;if(0!==qt)var Ae=ge*ee/qt,He=ge*se/qt;else Ae=0,He=0;j.isLocked||(j.offsetX+=Ae,j.offsetY+=He),gt.isLocked||(gt.offsetX-=Ae,gt.offsetY-=He)}}},pc=function(u,y){if(0!==y.gravity)for(var R=0;R<u.graphSet.length;R++){var N=u.graphSet[R],j=N.length;if(0===R)var dt=u.clientHeight/2,gt=u.clientWidth/2;else{var Ct=u.layoutNodes[u.idToIndex[u.layoutNodes[u.idToIndex[N[0]]].parentId]];dt=Ct.positionX,gt=Ct.positionY}for(var Rt=0;Rt<j;Rt++){var $t=u.layoutNodes[u.idToIndex[N[Rt]]];if(!$t.isLocked){var ee=dt-$t.positionX,se=gt-$t.positionY,qt=Math.sqrt(ee*ee+se*se);if(qt>1){var Ae=y.gravity*se/qt;$t.offsetX+=y.gravity*ee/qt,$t.offsetY+=Ae}}}}},Yp=function(u,y){var E=[],R=0,N=-1;for(E.push.apply(E,u.graphSet[0]),N+=u.graphSet[0].length;R<=N;){var j=E[R++],gt=u.layoutNodes[u.idToIndex[j]],pt=gt.children;if(0<pt.length&&!gt.isLocked){for(var Ct=gt.offsetX,Rt=gt.offsetY,$t=0;$t<pt.length;$t++){var ee=u.layoutNodes[u.idToIndex[pt[$t]]];ee.offsetX+=Ct,ee.offsetY+=Rt,E[++N]=pt[$t]}gt.offsetX=0,gt.offsetY=0}}},Wp=function(u,y){for(var E=0;E<u.nodeSize;E++)0<(R=u.layoutNodes[E]).children.length&&(R.maxX=void 0,R.minX=void 0,R.maxY=void 0,R.minY=void 0);for(E=0;E<u.nodeSize;E++)if(!(0<(R=u.layoutNodes[E]).children.length||R.isLocked)){var N=Kp(R.offsetX,R.offsetY,u.temperature);R.positionX+=N.x,R.positionY+=N.y,R.offsetX=0,R.offsetY=0,R.minX=R.positionX-R.width,R.maxX=R.positionX+R.width,R.minY=R.positionY-R.height,R.maxY=R.positionY+R.height,tp(R,u)}for(E=0;E<u.nodeSize;E++){var R;0<(R=u.layoutNodes[E]).children.length&&!R.isLocked&&(R.positionX=(R.maxX+R.minX)/2,R.positionY=(R.maxY+R.minY)/2,R.width=R.maxX-R.minX,R.height=R.maxY-R.minY)}},Kp=function(u,y,E){var R=Math.sqrt(u*u+y*y);if(R>E)var N={x:E*u/R,y:E*y/R};else N={x:u,y};return N},tp=function x(u,y){var E=u.parentId;if(null!=E){var R=y.layoutNodes[y.idToIndex[E]],N=!1;if((null==R.maxX||u.maxX+R.padRight>R.maxX)&&(R.maxX=u.maxX+R.padRight,N=!0),(null==R.minX||u.minX-R.padLeft<R.minX)&&(R.minX=u.minX-R.padLeft,N=!0),(null==R.maxY||u.maxY+R.padBottom>R.maxY)&&(R.maxY=u.maxY+R.padBottom,N=!0),(null==R.minY||u.minY-R.padTop<R.minY)&&(R.minY=u.minY-R.padTop,N=!0),N)return x(R,y)}},Sf=function(u,y){for(var E=u.layoutNodes,R=[],N=0;N<E.length;N++){var j=E[N],dt=j.cmptId;(R[dt]=R[dt]||[]).push(j)}var pt=0;for(N=0;N<R.length;N++)if(Ct=R[N]){Ct.x1=1/0,Ct.x2=-1/0,Ct.y1=1/0,Ct.y2=-1/0;for(var Rt=0;Rt<Ct.length;Rt++){var $t=Ct[Rt];Ct.x1=Math.min(Ct.x1,$t.positionX-$t.width/2),Ct.x2=Math.max(Ct.x2,$t.positionX+$t.width/2),Ct.y1=Math.min(Ct.y1,$t.positionY-$t.height/2),Ct.y2=Math.max(Ct.y2,$t.positionY+$t.height/2)}Ct.w=Ct.x2-Ct.x1,Ct.h=Ct.y2-Ct.y1,pt+=Ct.w*Ct.h}R.sort(function(He,ze){return ze.w*ze.h-He.w*He.h});var ee=0,se=0,qt=0,ge=0,Ae=Math.sqrt(pt)*u.clientWidth/u.clientHeight;for(N=0;N<R.length;N++){var Ct;if(Ct=R[N]){for(Rt=0;Rt<Ct.length;Rt++)($t=Ct[Rt]).isLocked||($t.positionX+=ee-Ct.x1,$t.positionY+=se-Ct.y1);ee+=Ct.w+y.componentSpacing,qt+=Ct.w+y.componentSpacing,ge=Math.max(ge,Ct.h),qt>Ae&&(se+=ge+y.componentSpacing,ee=0,qt=0,ge=0)}}},Zu={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(u){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(u,y){return!0},ready:void 0,stop:void 0,transform:function(u,y){return y}};function Ef(x){this.options=Pt({},Zu,x)}Ef.prototype.run=function(){var x=this.options,u=x,y=x.cy,E=u.eles,R=E.nodes().not(":parent");u.sort&&(R=R.sort(u.sort));var N=ko(u.boundingBox?u.boundingBox:{x1:0,y1:0,w:y.width(),h:y.height()});if(0===N.h||0===N.w)E.nodes().layoutPositions(this,u,function(Hn){return{x:N.x1,y:N.y1}});else{var j=R.size(),dt=Math.sqrt(j*N.h/N.w),gt=Math.round(dt),pt=Math.round(N.w/N.h*dt),Ct=function(Si){if(null==Si)return Math.min(gt,pt);Math.min(gt,pt)==gt?gt=Si:pt=Si},Rt=function(Si){if(null==Si)return Math.max(gt,pt);Math.max(gt,pt)==gt?gt=Si:pt=Si},$t=u.rows,ee=null!=u.cols?u.cols:u.columns;if(null!=$t&&null!=ee)gt=$t,pt=ee;else if(null!=$t&&null==ee)gt=$t,pt=Math.ceil(j/gt);else if(null==$t&&null!=ee)pt=ee,gt=Math.ceil(j/pt);else if(pt*gt>j){var se=Ct(),qt=Rt();(se-1)*qt>=j?Ct(se-1):(qt-1)*se>=j&&Rt(qt-1)}else for(;pt*gt<j;){var ge=Ct(),Ae=Rt();(Ae+1)*ge>=j?Rt(Ae+1):Ct(ge+1)}var He=N.w/pt,ze=N.h/gt;if(u.condense&&(He=0,ze=0),u.avoidOverlap)for(var ri=0;ri<R.length;ri++){var ki=R[ri],Oi=ki._private.position;(null==Oi.x||null==Oi.y)&&(Oi.x=0,Oi.y=0);var ii=ki.layoutDimensions(u),Ti=u.avoidOverlapPadding,Ri=ii.h+Ti;He=Math.max(He,ii.w+Ti),ze=Math.max(ze,Ri)}for(var Ii={},Ci=function(Si,Zn){return!!Ii["c-"+Si+"-"+Zn]},Ki=function(Si,Zn){Ii["c-"+Si+"-"+Zn]=!0},Ai=0,mn=0,ln=function(){++mn>=pt&&(mn=0,Ai++)},dn={},un=0;un<R.length;un++){var fn=R[un],Nn=u.position(fn);if(Nn&&(void 0!==Nn.row||void 0!==Nn.col)){var Cn={row:Nn.row,col:Nn.col};if(void 0===Cn.col)for(Cn.col=0;Ci(Cn.row,Cn.col);)Cn.col++;else if(void 0===Cn.row)for(Cn.row=0;Ci(Cn.row,Cn.col);)Cn.row++;dn[fn.id()]=Cn,Ki(Cn.row,Cn.col)}}R.layoutPositions(this,u,function(Si,Zn){var Wn,pn;if(Si.locked()||Si.isParent())return!1;var kn=dn[Si.id()];if(kn)Wn=kn.col*He+He/2+N.x1,pn=kn.row*ze+ze/2+N.y1;else{for(;Ci(Ai,mn);)ln();Wn=mn*He+He/2+N.x1,pn=Ai*ze+ze/2+N.y1,Ki(Ai,mn),ln()}return{x:Wn,y:pn}})}return this};var rd={ready:function(){},stop:function(){}};function $p(x){this.options=Pt({},rd,x)}$p.prototype.run=function(){var x=this.options,u=x.eles,y=this;return y.emit("layoutstart"),u.nodes().positions(function(){return{x:0,y:0}}),y.one("layoutready",x.ready),y.emit("layoutready"),y.one("layoutstop",x.stop),y.emit("layoutstop"),this},$p.prototype.stop=function(){return this};var wu={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(u,y){return!0},ready:void 0,stop:void 0,transform:function(u,y){return y}};function qu(x){this.options=Pt({},wu,x)}qu.prototype.run=function(){var x=this.options,y=x.eles.nodes(),E=wt(x.positions);return y.layoutPositions(this,x,function(N,j){var dt=function(N){if(null==x.positions)return function(u){return{x:u.x,y:u.y}}(N.position());if(E)return x.positions(N);var j=x.positions[N._private.data.id];return null==j?null:j}(N);return!N.locked()&&null!=dt&&dt}),this};var mc={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(u,y){return!0},ready:void 0,stop:void 0,transform:function(u,y){return y}};function tu(x){this.options=Pt({},mc,x)}tu.prototype.run=function(){var x=this.options,u=x.cy,y=x.eles,E=ko(x.boundingBox?x.boundingBox:{x1:0,y1:0,w:u.width(),h:u.height()});return y.nodes().layoutPositions(this,x,function(j,dt){return{x:E.x1+Math.round(Math.random()*E.w),y:E.y1+Math.round(Math.random()*E.h)}}),this};var Nc=[{name:"breadthfirst",impl:K0},{name:"circle",impl:Wa},{name:"concentric",impl:qd},{name:"cose",impl:Cf},{name:"grid",impl:Ef},{name:"null",impl:$p},{name:"preset",impl:qu},{name:"random",impl:tu}];function Xp(x){this.options=x,this.notifications=0}var ep=function(){},Fr=function(){throw new Error("A headless instance can not render images")};Xp.prototype={recalculateRenderedStyle:ep,notify:function(){this.notifications++},init:ep,isHeadless:function(){return!0},png:Fr,jpg:Fr};var Fc={arrowShapeWidth:.3,registerArrowShapes:function(){var x=this.arrowShapes={},u=this,y=function(pt,Ct,Rt,$t,ee,se,qt){return ee.x-Rt/2-qt<=pt&&pt<=ee.x+Rt/2+qt&&ee.y-Rt/2-qt<=Ct&&Ct<=ee.y+Rt/2+qt},E=function(pt,Ct,Rt,$t,ee){var se=pt*Math.cos($t)-Ct*Math.sin($t),qt=pt*Math.sin($t)+Ct*Math.cos($t);return{x:se*Rt+ee.x,y:qt*Rt+ee.y}},R=function(pt,Ct,Rt,$t){for(var ee=[],se=0;se<pt.length;se+=2)ee.push(E(pt[se],pt[se+1],Ct,Rt,$t));return ee},N=function(pt){for(var Ct=[],Rt=0;Rt<pt.length;Rt++){var $t=pt[Rt];Ct.push($t.x,$t.y)}return Ct},j=function(pt){return pt.pstyle("width").pfValue*pt.pstyle("arrow-scale").pfValue*2},dt=function(pt,Ct){lt(Ct)&&(Ct=x[Ct]),x[pt]=Pt({name:pt,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function($t,ee,se,qt,ge,Ae){var He=N(R(this.points,se+2*Ae,qt,ge));return _i($t,ee,He)},roughCollide:y,draw:function($t,ee,se,qt){var ge=R(this.points,ee,se,qt);u.arrowShapeImpl("polygon")($t,ge)},spacing:function($t){return 0},gap:j},Ct)};dt("none",{collide:xe,roughCollide:xe,draw:Re,spacing:ue,gap:ue}),dt("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),dt("arrow","triangle"),dt("triangle-backcurve",{points:x.triangle.points,controlPoint:[0,-.15],roughCollide:y,draw:function(pt,Ct,Rt,$t,ee){var se=R(this.points,Ct,Rt,$t),qt=this.controlPoint,ge=E(qt[0],qt[1],Ct,Rt,$t);u.arrowShapeImpl(this.name)(pt,se,ge)},gap:function(pt){return.8*j(pt)}}),dt("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(pt,Ct,Rt,$t,ee,se,qt){var ge=N(R(this.points,Rt+2*qt,$t,ee)),Ae=N(R(this.pointsTee,Rt+2*qt,$t,ee));return _i(pt,Ct,ge)||_i(pt,Ct,Ae)},draw:function(pt,Ct,Rt,$t,ee){var se=R(this.points,Ct,Rt,$t),qt=R(this.pointsTee,Ct,Rt,$t);u.arrowShapeImpl(this.name)(pt,se,qt)}}),dt("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(pt,Ct,Rt,$t,ee,se,qt){var ge=ee,Ae=Math.pow(ge.x-pt,2)+Math.pow(ge.y-Ct,2)<=Math.pow((Rt+2*qt)*this.radius,2),He=N(R(this.points,Rt+2*qt,$t,ee));return _i(pt,Ct,He)||Ae},draw:function(pt,Ct,Rt,$t,ee){var se=R(this.pointsTr,Ct,Rt,$t);u.arrowShapeImpl(this.name)(pt,se,$t.x,$t.y,this.radius*Ct)},spacing:function(pt){return u.getArrowWidth(pt.pstyle("width").pfValue,pt.pstyle("arrow-scale").value)*this.radius}}),dt("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(pt,Ct){var Rt=this.baseCrossLinePts.slice(),$t=Ct/pt;return Rt[3]=Rt[3]-$t,Rt[5]=Rt[5]-$t,Rt},collide:function(pt,Ct,Rt,$t,ee,se,qt){var ge=N(R(this.points,Rt+2*qt,$t,ee)),Ae=N(R(this.crossLinePts(Rt,se),Rt+2*qt,$t,ee));return _i(pt,Ct,ge)||_i(pt,Ct,Ae)},draw:function(pt,Ct,Rt,$t,ee){var se=R(this.points,Ct,Rt,$t),qt=R(this.crossLinePts(Ct,ee),Ct,Rt,$t);u.arrowShapeImpl(this.name)(pt,se,qt)}}),dt("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(pt){return.525*j(pt)}}),dt("circle",{radius:.15,collide:function(pt,Ct,Rt,$t,ee,se,qt){var ge=ee;return Math.pow(ge.x-pt,2)+Math.pow(ge.y-Ct,2)<=Math.pow((Rt+2*qt)*this.radius,2)},draw:function(pt,Ct,Rt,$t,ee){u.arrowShapeImpl(this.name)(pt,$t.x,$t.y,this.radius*Ct)},spacing:function(pt){return u.getArrowWidth(pt.pstyle("width").pfValue,pt.pstyle("arrow-scale").value)*this.radius}}),dt("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(pt){return 1},gap:function(pt){return 1}}),dt("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),dt("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(pt){return pt.pstyle("width").pfValue*pt.pstyle("arrow-scale").value}}),dt("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(pt){return.95*pt.pstyle("width").pfValue*pt.pstyle("arrow-scale").value}})}},Df={projectIntoViewport:function(x,u){var y=this.cy,E=this.findContainerClientCoords(),R=E[0],N=E[1],j=E[4],dt=y.pan(),gt=y.zoom();return[((x-R)/j-dt.x)/gt,((u-N)/j-dt.y)/gt]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var x=this.container,u=x.getBoundingClientRect(),y=B.getComputedStyle(x),E=function(Ae){return parseFloat(y.getPropertyValue(Ae))},R_left=E("padding-left"),R_right=E("padding-right"),R_top=E("padding-top"),R_bottom=E("padding-bottom"),N_left=E("border-left-width"),N_right=E("border-right-width"),N_top=E("border-top-width"),j=(E("border-bottom-width"),x.clientWidth);return this.containerBB=[u.left+R_left+N_left,u.top+R_top+N_top,j-(R_left+R_right),x.clientHeight-(R_top+R_bottom),u.width/(j+(N_left+N_right))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(x,u,y,E){return this.findNearestElements(x,u,y,E)[0]},findNearestElements:function(x,u,y,E){var se,qt,R=this,N=this,j=N.getCachedZSortedEles(),dt=[],gt=N.cy.zoom(),pt=N.cy.hasCompoundNodes(),Ct=(E?24:8)/gt,Rt=(E?8:2)/gt,$t=(E?8:2)/gt,ee=1/0;function ge(ii,Ti){if(ii.isNode()){if(qt)return;qt=ii,dt.push(ii)}if(ii.isEdge()&&(null==Ti||Ti<ee))if(se){if(se.pstyle("z-compound-depth").value===ii.pstyle("z-compound-depth").value&&se.pstyle("z-compound-depth").value===ii.pstyle("z-compound-depth").value)for(var fi=0;fi<dt.length;fi++)if(dt[fi].isEdge()){dt[fi]=ii,se=ii,ee=null!=Ti?Ti:ee;break}}else dt.push(ii),se=ii,ee=null!=Ti?Ti:ee}function Ae(ii){var Ti=ii.outerWidth()+2*Rt,fi=ii.outerHeight()+2*Rt,Ri=Ti/2,Ii=fi/2,Ci=ii.position();if(Ci.x-Ri<=x&&x<=Ci.x+Ri&&Ci.y-Ii<=u&&u<=Ci.y+Ii&&N.nodeShapes[R.getNodeShape(ii)].checkPoint(x,u,0,Ti,fi,Ci.x,Ci.y))return ge(ii,0),!0}function He(ii){var dn,Ti=ii._private,fi=Ti.rscratch,Ri=ii.pstyle("width").pfValue,Ii=ii.pstyle("arrow-scale").value,Ci=Ri/2+Ct,Ki=Ci*Ci,Ai=2*Ci,mn=Ti.source,ln=Ti.target;if("segments"===fi.edgeType||"straight"===fi.edgeType||"haystack"===fi.edgeType){for(var un=fi.allpts,fn=0;fn+3<un.length;fn+=2)if(pa(x,u,un[fn],un[fn+1],un[fn+2],un[fn+3],Ai)&&Ki>(dn=Yu(x,u,un[fn],un[fn+1],un[fn+2],un[fn+3])))return ge(ii,dn),!0}else if("bezier"===fi.edgeType||"multibezier"===fi.edgeType||"self"===fi.edgeType||"compound"===fi.edgeType)for(un=fi.allpts,fn=0;fn+5<fi.allpts.length;fn+=4)if(ch(x,u,un[fn],un[fn+1],un[fn+2],un[fn+3],un[fn+4],un[fn+5],Ai)&&Ki>(dn=fu(x,u,un[fn],un[fn+1],un[fn+2],un[fn+3],un[fn+4],un[fn+5])))return ge(ii,dn),!0;mn=mn||Ti.source,ln=ln||Ti.target;var Nn=R.getArrowWidth(Ri,Ii),Cn=[{name:"source",x:fi.arrowStartX,y:fi.arrowStartY,angle:fi.srcArrowAngle},{name:"target",x:fi.arrowEndX,y:fi.arrowEndY,angle:fi.tgtArrowAngle},{name:"mid-source",x:fi.midX,y:fi.midY,angle:fi.midsrcArrowAngle},{name:"mid-target",x:fi.midX,y:fi.midY,angle:fi.midtgtArrowAngle}];for(fn=0;fn<Cn.length;fn++){var Ji=Cn[fn],Hn=N.arrowShapes[ii.pstyle(Ji.name+"-arrow-shape").value],Si=ii.pstyle("width").pfValue;if(Hn.roughCollide(x,u,Nn,Ji.angle,{x:Ji.x,y:Ji.y},Si,Ct)&&Hn.collide(x,u,Nn,Ji.angle,{x:Ji.x,y:Ji.y},Si,Ct))return ge(ii),!0}pt&&dt.length>0&&(Ae(mn),Ae(ln))}function ze(ii,Ti,fi){return Ni(ii,Ti,fi)}function ri(ii,Ti){var Ii,fi=ii._private,Ri=$t;Ii=Ti?Ti+"-":"",ii.boundingBox();var Ci=fi.labelBounds[Ti||"main"],Ki=ii.pstyle(Ii+"label").value;if("yes"===ii.pstyle("text-events").strValue&&Ki){var mn=ze(fi.rscratch,"labelX",Ti),ln=ze(fi.rscratch,"labelY",Ti),dn=ze(fi.rscratch,"labelAngle",Ti),un=ii.pstyle(Ii+"text-margin-x").pfValue,fn=ii.pstyle(Ii+"text-margin-y").pfValue,Nn=Ci.x1-Ri-un,Cn=Ci.x2+Ri-un,Ji=Ci.y1-Ri-fn,Hn=Ci.y2+Ri-fn;if(dn){var Si=Math.cos(dn),Zn=Math.sin(dn),Wn=function(yo,Tr){return{x:(yo-=mn)*Si-(Tr-=ln)*Zn+mn,y:yo*Zn+Tr*Si+ln}},pn=Wn(Nn,Ji),kn=Wn(Nn,Hn),Qn=Wn(Cn,Ji),rr=Wn(Cn,Hn);if(_i(x,u,[pn.x+un,pn.y+fn,Qn.x+un,Qn.y+fn,rr.x+un,rr.y+fn,kn.x+un,kn.y+fn]))return ge(ii),!0}else if(ti(Ci,x,u))return ge(ii),!0}}y&&(j=j.interactive);for(var ki=j.length-1;ki>=0;ki--){var Oi=j[ki];Oi.isNode()?Ae(Oi)||ri(Oi):He(Oi)||ri(Oi)||ri(Oi,"source")||ri(Oi,"target")}return dt},getAllInBox:function(x,u,y,E){for(var R=this.getCachedZSortedEles().interactive,N=[],j=Math.min(x,y),dt=Math.max(x,y),gt=Math.min(u,E),pt=Math.max(u,E),Ct=ko({x1:x=j,y1:u=gt,x2:y=dt,y2:E=pt}),Rt=0;Rt<R.length;Rt++){var $t=R[Rt];if($t.isNode()){var ee=$t,se=ee.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});hh(Ct,se)&&!Iu(se,Ct)&&N.push(ee)}else{var qt=$t,ge=qt._private,Ae=ge.rscratch;if(null!=Ae.startX&&null!=Ae.startY&&!ti(Ct,Ae.startX,Ae.startY)||null!=Ae.endX&&null!=Ae.endY&&!ti(Ct,Ae.endX,Ae.endY))continue;if("bezier"===Ae.edgeType||"multibezier"===Ae.edgeType||"self"===Ae.edgeType||"compound"===Ae.edgeType||"segments"===Ae.edgeType||"haystack"===Ae.edgeType){for(var He=ge.rstyle.bezierPts||ge.rstyle.linePts||ge.rstyle.haystackPts,ze=!0,ri=0;ri<He.length;ri++)if(!hr(Ct,He[ri])){ze=!1;break}ze&&N.push(qt)}else("haystack"===Ae.edgeType||"straight"===Ae.edgeType)&&N.push(qt)}}return N}},od={calculateArrowAngles:function(x){var gt,pt,Ct,Rt,$t,ee,u=x._private.rscratch,y="haystack"===u.edgeType,E="bezier"===u.edgeType,R="multibezier"===u.edgeType,N="segments"===u.edgeType,j="compound"===u.edgeType,dt="self"===u.edgeType;y?(Ct=u.haystackPts[0],Rt=u.haystackPts[1],$t=u.haystackPts[2],ee=u.haystackPts[3]):(Ct=u.arrowStartX,Rt=u.arrowStartY,$t=u.arrowEndX,ee=u.arrowEndY),se=u.midX,qt=u.midY,N?(gt=Ct-u.segpts[0],pt=Rt-u.segpts[1]):R||j||dt||E?(gt=Ct-Go((ge=u.allpts)[0],ge[2],ge[4],.1),pt=Rt-Go(ge[1],ge[3],ge[5],.1)):(gt=Ct-se,pt=Rt-qt),u.srcArrowAngle=Xl(gt,pt);var se=u.midX,qt=u.midY;if(y&&(se=(Ct+$t)/2,qt=(Rt+ee)/2),gt=$t-Ct,pt=ee-Rt,N)if((ge=u.allpts).length/2%2==0)gt=ge[ze=ge.length/2]-ge[ri=ze-2],pt=ge[ze+1]-ge[ri+1];else{var ze,ri,ki=2+(ze=ge.length/2-1);gt=ge[ze]-ge[ri=ze-2],pt=ge[ze+1]-ge[ri+1]}else if(R||j||dt){var ii,Ti,fi,Ri,Ci,Ii,Ki,ge=u.allpts;u.ctrlpts.length/2%2==0?(ii=Go(ge[Ii=ge.length/2-1],ge[Ci=Ii+2],ge[Ki=Ci+2],0),Ti=Go(ge[Ii+1],ge[Ci+1],ge[Ki+1],0),fi=Go(ge[Ii],ge[Ci],ge[Ki],1e-4),Ri=Go(ge[Ii+1],ge[Ci+1],ge[Ki+1],1e-4)):(ii=Go(ge[Ii=(Ci=ge.length/2-1)-2],ge[Ci],ge[Ki=Ci+2],.4999),Ti=Go(ge[Ii+1],ge[Ci+1],ge[Ki+1],.4999),fi=Go(ge[Ii],ge[Ci],ge[Ki],.5),Ri=Go(ge[Ii+1],ge[Ci+1],ge[Ki+1],.5)),gt=fi-ii,pt=Ri-Ti}if(u.midtgtArrowAngle=Xl(gt,pt),u.midDispX=gt,u.midDispY=pt,gt*=-1,pt*=-1,N&&(ge=u.allpts).length/2%2!=0&&(gt=-(ge[ki=2+(ze=ge.length/2-1)]-ge[ze]),pt=-(ge[ki+1]-ge[ze+1])),u.midsrcArrowAngle=Xl(gt,pt),N)gt=$t-u.segpts[u.segpts.length-2],pt=ee-u.segpts[u.segpts.length-1];else if(R||j||dt||E){var Ai=(ge=u.allpts).length;gt=$t-Go(ge[Ai-6],ge[Ai-4],ge[Ai-2],.9),pt=ee-Go(ge[Ai-5],ge[Ai-3],ge[Ai-1],.9)}else gt=$t-se,pt=ee-qt;u.tgtArrowAngle=Xl(gt,pt)}};od.getArrowWidth=od.getArrowHeight=function(x,u){var y=this.arrowWidthCache=this.arrowWidthCache||{},E=y[x+", "+u];return E||(E=Math.max(Math.pow(13.37*x,.9),29)*u,y[x+", "+u]=E,E)};var ol={};function sd(x){var u=[];if(null!=x){for(var y=0;y<x.length;y+=2)u.push({x:x[y],y:x[y+1]});return u}}ol.findHaystackPoints=function(x){for(var u=0;u<x.length;u++){var y=x[u],E=y._private,R=E.rscratch;if(!R.haystack){var N=2*Math.random()*Math.PI;R.source={x:Math.cos(N),y:Math.sin(N)},N=2*Math.random()*Math.PI,R.target={x:Math.cos(N),y:Math.sin(N)}}var j=E.source,dt=E.target,gt=j.position(),pt=dt.position(),Ct=j.width(),Rt=dt.width(),$t=j.height(),ee=dt.height(),qt=y.pstyle("haystack-radius").value/2;R.haystackPts=R.allpts=[R.source.x*Ct*qt+gt.x,R.source.y*$t*qt+gt.y,R.target.x*Rt*qt+pt.x,R.target.y*ee*qt+pt.y],R.midX=(R.allpts[0]+R.allpts[2])/2,R.midY=(R.allpts[1]+R.allpts[3])/2,R.edgeType="haystack",R.haystack=!0,this.storeEdgeProjections(y),this.calculateArrowAngles(y),this.recalculateEdgeLabelProjections(y),this.calculateLabelAngles(y)}},ol.findSegmentsPoints=function(x,u){var y=x._private.rscratch,E=u.posPts,R=u.intersectionPts,N=u.vectorNormInverse,j=x.pstyle("edge-distances").value,dt=x.pstyle("segment-weights"),gt=x.pstyle("segment-distances"),pt=Math.min(dt.pfValue.length,gt.pfValue.length);y.edgeType="segments",y.segpts=[];for(var Ct=0;Ct<pt;Ct++){var Rt=dt.pfValue[Ct],$t=gt.pfValue[Ct],ee=1-Rt,qt="node-position"===j?E:R,ge={x:qt.x1*ee+qt.x2*Rt,y:qt.y1*ee+qt.y2*Rt};y.segpts.push(ge.x+N.x*$t,ge.y+N.y*$t)}},ol.findLoopPoints=function(x,u,y,E){var R=x._private.rscratch,N=u.dirCounts,j=u.srcPos,dt=x.pstyle("control-point-distances"),gt=dt?dt.pfValue[0]:void 0,pt=x.pstyle("loop-direction").pfValue,Ct=x.pstyle("loop-sweep").pfValue,Rt=x.pstyle("control-point-step-size").pfValue;R.edgeType="self";var $t=y,ee=Rt;E&&($t=0,ee=gt);var se=pt-Math.PI/2,qt=se-Ct/2,ge=se+Ct/2,Ae=String(pt+"_"+Ct);$t=void 0===N[Ae]?N[Ae]=0:++N[Ae],R.ctrlpts=[j.x+1.4*Math.cos(qt)*ee*($t/3+1),j.y+1.4*Math.sin(qt)*ee*($t/3+1),j.x+1.4*Math.cos(ge)*ee*($t/3+1),j.y+1.4*Math.sin(ge)*ee*($t/3+1)]},ol.findCompoundLoopPoints=function(x,u,y,E){var R=x._private.rscratch;R.edgeType="compound";var N=u.srcPos,j=u.tgtPos,dt=u.srcW,gt=u.srcH,pt=u.tgtW,Ct=u.tgtH,Rt=x.pstyle("control-point-step-size").pfValue,$t=x.pstyle("control-point-distances"),se=y,qt=Rt;E&&(se=0,qt=$t?$t.pfValue[0]:void 0);var Ae={x:N.x-dt/2,y:N.y-gt/2},He={x:j.x-pt/2,y:j.y-Ct/2},ze={x:Math.min(Ae.x,He.x),y:Math.min(Ae.y,He.y)},ki=Math.max(.5,Math.log(.01*dt)),Oi=Math.max(.5,Math.log(.01*pt));R.ctrlpts=[ze.x,ze.y-(1+Math.pow(50,1.12)/100)*qt*(se/3+1)*ki,ze.x-(1+Math.pow(50,1.12)/100)*qt*(se/3+1)*Oi,ze.y]},ol.findStraightEdgePoints=function(x){x._private.rscratch.edgeType="straight"},ol.findBezierPoints=function(x,u,y,E,R){var N=x._private.rscratch,j=u.vectorNormInverse,dt=u.posPts,gt=u.intersectionPts,pt=x.pstyle("edge-distances").value,Ct=x.pstyle("control-point-step-size").pfValue,Rt=x.pstyle("control-point-distances"),$t=x.pstyle("control-point-weights"),ee=Rt&&$t?Math.min(Rt.value.length,$t.value.length):1,se=Rt?Rt.pfValue[0]:void 0,qt=$t.value[0],ge=E;N.edgeType=ge?"multibezier":"bezier",N.ctrlpts=[];for(var Ae=0;Ae<ee;Ae++){var ze,He=(.5-u.eles.length/2+y)*Ct*(R?-1:1),ri=us(He);ge&&(se=Rt?Rt.pfValue[Ae]:Ct,qt=$t.value[Ae]);var ki=void 0!==(ze=E?se:void 0!==se?ri*se:void 0)?ze:He,Oi=1-qt,Ti="node-position"===pt?dt:gt,fi={x:Ti.x1*Oi+Ti.x2*qt,y:Ti.y1*Oi+Ti.y2*qt};N.ctrlpts.push(fi.x+j.x*ki,fi.y+j.y*ki)}},ol.findTaxiPoints=function(x,u){var y=x._private.rscratch;y.edgeType="segments";var E="vertical",R="horizontal",N="leftward",j="rightward",dt="downward",Ct=u.posPts,Rt=u.srcW,$t=u.srcH,ee=u.tgtW,se=u.tgtH,ge="node-position"!==x.pstyle("edge-distances").value,Ae=x.pstyle("taxi-direction").value,He=Ae,ze=x.pstyle("taxi-turn"),ri="%"===ze.units,ki=ze.pfValue,Oi=ki<0,ii=x.pstyle("taxi-turn-min-distance").pfValue,fi=ge?($t+se)/2:0,Ri=Ct.x2-Ct.x1,Ii=Ct.y2-Ct.y1,Ci=function(Ur,Do){return Ur>0?Math.max(Ur-Do,0):Math.min(Ur+Do,0)},Ki=Ci(Ri,ge?(Rt+ee)/2:0),Ai=Ci(Ii,fi),mn=!1;"auto"===He?Ae=Math.abs(Ki)>Math.abs(Ai)?R:E:"upward"===He||He===dt?(Ae=E,mn=!0):(He===N||He===j)&&(Ae=R,mn=!0);var Cn,ln=Ae===E,dn=ln?Ai:Ki,un=ln?Ii:Ri,fn=us(un),Nn=!1;(!mn||!ri&&!Oi)&&(He===dt&&un<0||"upward"===He&&un>0||He===N&&un>0||He===j&&un<0)&&(dn=(fn*=-1)*Math.abs(dn),Nn=!0);var Si=function(Ur){return Math.abs(Ur)<ii||Math.abs(Ur)>=Math.abs(dn)},Zn=Si(Cn=ri?(ki<0?1+ki:ki)*dn:(ki<0?dn:0)+ki*fn),Wn=Si(Math.abs(dn)-Math.abs(Cn));if(!Zn&&!Wn||Nn)if(ln){var mi=Ct.y1+Cn+(ge?$t/2*fn:0);y.segpts=[Ct.x1,mi,Ct.x2,mi]}else{var $n=Ct.x1+Cn+(ge?Rt/2*fn:0);y.segpts=[$n,Ct.y1,$n,Ct.y2]}else if(ln){var kn=Math.abs(un)<=$t/2,Qn=Math.abs(Ri)<=ee/2;if(kn){var rr=(Ct.x1+Ct.x2)/2;y.segpts=[rr,Ct.y1,rr,Ct.y2]}else if(Qn){var yo=(Ct.y1+Ct.y2)/2;y.segpts=[Ct.x1,yo,Ct.x2,yo]}else y.segpts=[Ct.x1,Ct.y2]}else{var Kr=Math.abs(un)<=Rt/2,oo=Math.abs(Ii)<=se/2;if(Kr){var zr=(Ct.y1+Ct.y2)/2;y.segpts=[Ct.x1,zr,Ct.x2,zr]}else if(oo){var Ko=(Ct.x1+Ct.x2)/2;y.segpts=[Ko,Ct.y1,Ko,Ct.y2]}else y.segpts=[Ct.x2,Ct.y1]}},ol.tryToCorrectInvalidPoints=function(x,u){var y=x._private.rscratch;if("bezier"===y.edgeType){var E=u.srcPos,R=u.tgtPos,N=u.srcW,j=u.srcH,dt=u.tgtW,gt=u.tgtH,pt=u.srcShape,Ct=u.tgtShape,Rt=!Et(y.startX)||!Et(y.startY),$t=!Et(y.arrowStartX)||!Et(y.arrowStartY),ee=!Et(y.endX)||!Et(y.endY),se=!Et(y.arrowEndX)||!Et(y.arrowEndY),Ae=this.getArrowWidth(x.pstyle("width").pfValue,x.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,He=Pl({x:y.ctrlpts[0],y:y.ctrlpts[1]},{x:y.startX,y:y.startY}),ze=He<Ae,ri=Pl({x:y.ctrlpts[0],y:y.ctrlpts[1]},{x:y.endX,y:y.endY}),ki=ri<Ae,Oi=!1;if(Rt||$t||ze){Oi=!0;var ii={x:y.ctrlpts[0]-E.x,y:y.ctrlpts[1]-E.y},Ti=Math.sqrt(ii.x*ii.x+ii.y*ii.y),fi={x:ii.x/Ti,y:ii.y/Ti},Ri=Math.max(N,j),Ii={x:y.ctrlpts[0]+2*fi.x*Ri,y:y.ctrlpts[1]+2*fi.y*Ri},Ci=pt.intersectLine(E.x,E.y,N,j,Ii.x,Ii.y,0);ze?(y.ctrlpts[0]=y.ctrlpts[0]+fi.x*(Ae-He),y.ctrlpts[1]=y.ctrlpts[1]+fi.y*(Ae-He)):(y.ctrlpts[0]=Ci[0]+fi.x*Ae,y.ctrlpts[1]=Ci[1]+fi.y*Ae)}if(ee||se||ki){Oi=!0;var Ki={x:y.ctrlpts[0]-R.x,y:y.ctrlpts[1]-R.y},Ai=Math.sqrt(Ki.x*Ki.x+Ki.y*Ki.y),mn={x:Ki.x/Ai,y:Ki.y/Ai},ln=Math.max(N,j),dn={x:y.ctrlpts[0]+2*mn.x*ln,y:y.ctrlpts[1]+2*mn.y*ln},un=Ct.intersectLine(R.x,R.y,dt,gt,dn.x,dn.y,0);ki?(y.ctrlpts[0]=y.ctrlpts[0]+mn.x*(Ae-ri),y.ctrlpts[1]=y.ctrlpts[1]+mn.y*(Ae-ri)):(y.ctrlpts[0]=un[0]+mn.x*Ae,y.ctrlpts[1]=un[1]+mn.y*Ae)}Oi&&this.findEndpoints(x)}},ol.storeAllpts=function(x){var u=x._private.rscratch;if("multibezier"===u.edgeType||"bezier"===u.edgeType||"self"===u.edgeType||"compound"===u.edgeType){u.allpts=[],u.allpts.push(u.startX,u.startY);for(var y=0;y+1<u.ctrlpts.length;y+=2)u.allpts.push(u.ctrlpts[y],u.ctrlpts[y+1]),y+3<u.ctrlpts.length&&u.allpts.push((u.ctrlpts[y]+u.ctrlpts[y+2])/2,(u.ctrlpts[y+1]+u.ctrlpts[y+3])/2);var E;u.allpts.push(u.endX,u.endY),u.ctrlpts.length/2%2==0?(u.midX=u.allpts[E=u.allpts.length/2-1],u.midY=u.allpts[E+1]):(u.midX=Go(u.allpts[E=u.allpts.length/2-3],u.allpts[E+2],u.allpts[E+4],.5),u.midY=Go(u.allpts[E+1],u.allpts[E+3],u.allpts[E+5],.5))}else if("straight"===u.edgeType)u.allpts=[u.startX,u.startY,u.endX,u.endY],u.midX=(u.startX+u.endX+u.arrowStartX+u.arrowEndX)/4,u.midY=(u.startY+u.endY+u.arrowStartY+u.arrowEndY)/4;else if("segments"===u.edgeType)if(u.allpts=[],u.allpts.push(u.startX,u.startY),u.allpts.push.apply(u.allpts,u.segpts),u.allpts.push(u.endX,u.endY),u.segpts.length%4==0){var N=u.segpts.length/2,j=N-2;u.midX=(u.segpts[j]+u.segpts[N])/2,u.midY=(u.segpts[j+1]+u.segpts[N+1])/2}else{var dt=u.segpts.length/2-1;u.midX=u.segpts[dt],u.midY=u.segpts[dt+1]}},ol.checkForInvalidEdgeWarning=function(x){var u=x[0]._private.rscratch;u.nodesOverlap||Et(u.startX)&&Et(u.startY)&&Et(u.endX)&&Et(u.endY)?u.loggedErr=!1:u.loggedErr||(u.loggedErr=!0,$e("Edge `"+x.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},ol.findEdgeControlPoints=function(x){var u=this;if(x&&0!==x.length){for(var y=this,R=y.cy.hasCompoundNodes(),N={map:new Ui,get:function(ii){var Ti=this.map.get(ii[0]);return null!=Ti?Ti.get(ii[1]):null},set:function(ii,Ti){var fi=this.map.get(ii[0]);null==fi&&(fi=new Ui,this.map.set(ii[0],fi)),fi.set(ii[1],Ti)}},j=[],dt=[],gt=0;gt<x.length;gt++){var pt=x[gt],Ct=pt._private,Rt=pt.pstyle("curve-style").value;if(!pt.removed()&&pt.takesUpSpace()){if("haystack"===Rt){dt.push(pt);continue}var $t="unbundled-bezier"===Rt||"segments"===Rt||"straight"===Rt||"straight-triangle"===Rt||"taxi"===Rt,ee="unbundled-bezier"===Rt||"bezier"===Rt,qt=Ct.target,He=[Ct.source.poolIndex(),qt.poolIndex()].sort(),ze=N.get(He);null==ze&&(N.set(He,ze={eles:[]}),j.push(He)),ze.eles.push(pt),$t&&(ze.hasUnbundled=!0),ee&&(ze.hasBezier=!0)}}for(var ri=function(ii){var fi=N.get(j[ii]),Ri=void 0;if(!fi.hasUnbundled){var Ii=fi.eles[0].parallelEdges().filter(function(Qi){return Qi.isBundledBezier()});pr(fi.eles),Ii.forEach(function(Qi){return fi.eles.push(Qi)}),fi.eles.sort(function(Qi,mi){return Qi.poolIndex()-mi.poolIndex()})}var Ci=fi.eles[0],Ki=Ci.source(),Ai=Ci.target();if(Ki.poolIndex()>Ai.poolIndex()){var mn=Ki;Ki=Ai,Ai=mn}var ln=fi.srcPos=Ki.position(),dn=fi.tgtPos=Ai.position(),un=fi.srcW=Ki.outerWidth(),fn=fi.srcH=Ki.outerHeight(),Nn=fi.tgtW=Ai.outerWidth(),Cn=fi.tgtH=Ai.outerHeight(),Ji=fi.srcShape=y.nodeShapes[u.getNodeShape(Ki)],Hn=fi.tgtShape=y.nodeShapes[u.getNodeShape(Ai)];fi.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Si=0;Si<fi.eles.length;Si++){var Zn=fi.eles[Si],Wn=Zn[0]._private.rscratch,pn=Zn.pstyle("curve-style").value,kn="unbundled-bezier"===pn||"segments"===pn||"taxi"===pn,Qn=!Ki.same(Zn.source());if(!fi.calculatedIntersection&&Ki!==Ai&&(fi.hasBezier||fi.hasUnbundled)){fi.calculatedIntersection=!0;var rr=Ji.intersectLine(ln.x,ln.y,un,fn,dn.x,dn.y,0),_r=fi.srcIntn=rr,go=Hn.intersectLine(dn.x,dn.y,Nn,Cn,ln.x,ln.y,0),yo=fi.tgtIntn=go,Tr=fi.intersectionPts={x1:rr[0],x2:go[0],y1:rr[1],y2:go[1]},wr=fi.posPts={x1:ln.x,x2:dn.x,y1:ln.y,y2:dn.y},Kr=go[1]-rr[1],oo=go[0]-rr[0],zr=Math.sqrt(oo*oo+Kr*Kr),co=fi.vector={x:oo,y:Kr},vs=fi.vectorNorm={x:co.x/zr,y:co.y/zr},Ko={x:-vs.y,y:vs.x};fi.nodesOverlap=!Et(zr)||Hn.checkPoint(rr[0],rr[1],0,Nn,Cn,dn.x,dn.y)||Ji.checkPoint(go[0],go[1],0,un,fn,ln.x,ln.y),fi.vectorNormInverse=Ko,Ri={nodesOverlap:fi.nodesOverlap,dirCounts:fi.dirCounts,calculatedIntersection:!0,hasBezier:fi.hasBezier,hasUnbundled:fi.hasUnbundled,eles:fi.eles,srcPos:dn,tgtPos:ln,srcW:Nn,srcH:Cn,tgtW:un,tgtH:fn,srcIntn:yo,tgtIntn:_r,srcShape:Hn,tgtShape:Ji,posPts:{x1:wr.x2,y1:wr.y2,x2:wr.x1,y2:wr.y1},intersectionPts:{x1:Tr.x2,y1:Tr.y2,x2:Tr.x1,y2:Tr.y1},vector:{x:-co.x,y:-co.y},vectorNorm:{x:-vs.x,y:-vs.y},vectorNormInverse:{x:-Ko.x,y:-Ko.y}}}var Fo=Qn?Ri:fi;Wn.nodesOverlap=Fo.nodesOverlap,Wn.srcIntn=Fo.srcIntn,Wn.tgtIntn=Fo.tgtIntn,R&&(Ki.isParent()||Ki.isChild()||Ai.isParent()||Ai.isChild())&&(Ki.parents().anySame(Ai)||Ai.parents().anySame(Ki)||Ki.same(Ai)&&Ki.isParent())?u.findCompoundLoopPoints(Zn,Fo,Si,kn):Ki===Ai?u.findLoopPoints(Zn,Fo,Si,kn):"segments"===pn?u.findSegmentsPoints(Zn,Fo):"taxi"===pn?u.findTaxiPoints(Zn,Fo):"straight"===pn||!kn&&fi.eles.length%2==1&&Si===Math.floor(fi.eles.length/2)?u.findStraightEdgePoints(Zn):u.findBezierPoints(Zn,Fo,Si,kn,Qn),u.findEndpoints(Zn),u.tryToCorrectInvalidPoints(Zn,Fo),u.checkForInvalidEdgeWarning(Zn),u.storeAllpts(Zn),u.storeEdgeProjections(Zn),u.calculateArrowAngles(Zn),u.recalculateEdgeLabelProjections(Zn),u.calculateLabelAngles(Zn)}},ki=0;ki<j.length;ki++)ri(ki);this.findHaystackPoints(dt)}},ol.getSegmentPoints=function(x){var u=x[0]._private.rscratch;if("segments"===u.edgeType)return this.recalculateRenderedStyle(x),sd(u.segpts)},ol.getControlPoints=function(x){var u=x[0]._private.rscratch,y=u.edgeType;if("bezier"===y||"multibezier"===y||"self"===y||"compound"===y)return this.recalculateRenderedStyle(x),sd(u.ctrlpts)},ol.getEdgeMidpoint=function(x){var u=x[0]._private.rscratch;return this.recalculateRenderedStyle(x),{x:u.midX,y:u.midY}};var jl={manualEndptToPx:function(x,u){var E=x.position(),R=x.outerWidth(),N=x.outerHeight();if(2===u.value.length){var j=[u.pfValue[0],u.pfValue[1]];return"%"===u.units[0]&&(j[0]=j[0]*R),"%"===u.units[1]&&(j[1]=j[1]*N),j[0]+=E.x,j[1]+=E.y,j}var dt=u.pfValue[0];dt=-Math.PI/2+dt;var gt=2*Math.max(R,N),pt=[E.x+Math.cos(dt)*gt,E.y+Math.sin(dt)*gt];return this.nodeShapes[this.getNodeShape(x)].intersectLine(E.x,E.y,R,N,pt[0],pt[1],0)},findEndpoints:function(x){var y,Ri,Ii,Ci,Ki,u=this,E=x.source()[0],R=x.target()[0],N=E.position(),j=R.position(),dt=x.pstyle("target-arrow-shape").value,gt=x.pstyle("source-arrow-shape").value,pt=x.pstyle("target-distance-from-node").pfValue,Ct=x.pstyle("source-distance-from-node").pfValue,Rt=x.pstyle("curve-style").value,$t=x._private.rscratch,ee=$t.edgeType,qt="self"===ee||"compound"===ee,ge="bezier"===ee||"multibezier"===ee||qt,Ae="bezier"!==ee,He="straight"===ee||"segments"===ee,ze="segments"===ee,ri=ge||Ae||He,ki=qt||"taxi"===Rt,Oi=x.pstyle("source-endpoint"),ii=ki?"outside-to-node":Oi.value,Ti=x.pstyle("target-endpoint"),fi=ki?"outside-to-node":Ti.value;if($t.srcManEndpt=Oi,$t.tgtManEndpt=Ti,ge){var Ai=[$t.ctrlpts[0],$t.ctrlpts[1]];Ri=Ae?[$t.ctrlpts[$t.ctrlpts.length-2],$t.ctrlpts[$t.ctrlpts.length-1]]:Ai,Ii=Ai}else if(He){var ln=ze?$t.segpts.slice(0,2):[j.x,j.y];Ri=ze?$t.segpts.slice($t.segpts.length-2):[N.x,N.y],Ii=ln}if("inside-to-node"===fi)y=[j.x,j.y];else if(Ti.units)y=this.manualEndptToPx(R,Ti);else if("outside-to-line"===fi)y=$t.tgtIntn;else if("outside-to-node"===fi||"outside-to-node-or-label"===fi?Ci=Ri:("outside-to-line"===fi||"outside-to-line-or-label"===fi)&&(Ci=[N.x,N.y]),y=u.nodeShapes[this.getNodeShape(R)].intersectLine(j.x,j.y,R.outerWidth(),R.outerHeight(),Ci[0],Ci[1],0),"outside-to-node-or-label"===fi||"outside-to-line-or-label"===fi){var un=R._private.rscratch,Cn=un.labelX,Ji=un.labelY,Hn=un.labelWidth/2,Si=un.labelHeight/2,Zn=R.pstyle("text-valign").value;"top"===Zn?Ji-=Si:"bottom"===Zn&&(Ji+=Si);var Wn=R.pstyle("text-halign").value;"left"===Wn?Cn-=Hn:"right"===Wn&&(Cn+=Hn);var pn=Pn(Ci[0],Ci[1],[Cn-Hn,Ji-Si,Cn+Hn,Ji-Si,Cn+Hn,Ji+Si,Cn-Hn,Ji+Si],j.x,j.y);if(pn.length>0){var kn=N,Qn=ia(kn,Qr(y)),rr=ia(kn,Qr(pn)),_r=Qn;rr<Qn&&(y=pn,_r=rr),pn.length>2&&ia(kn,{x:pn[2],y:pn[3]})<_r&&(y=[pn[2],pn[3]])}}var yo=ie(y,Ri,u.arrowShapes[dt].spacing(x)+pt),Tr=ie(y,Ri,u.arrowShapes[dt].gap(x)+pt);if($t.endX=Tr[0],$t.endY=Tr[1],$t.arrowEndX=yo[0],$t.arrowEndY=yo[1],"inside-to-node"===ii)y=[N.x,N.y];else if(Oi.units)y=this.manualEndptToPx(E,Oi);else if("outside-to-line"===ii)y=$t.srcIntn;else if("outside-to-node"===ii||"outside-to-node-or-label"===ii?Ki=Ii:("outside-to-line"===ii||"outside-to-line-or-label"===ii)&&(Ki=[j.x,j.y]),y=u.nodeShapes[this.getNodeShape(E)].intersectLine(N.x,N.y,E.outerWidth(),E.outerHeight(),Ki[0],Ki[1],0),"outside-to-node-or-label"===ii||"outside-to-line-or-label"===ii){var wr=E._private.rscratch,zr=wr.labelX,co=wr.labelY,vs=wr.labelWidth/2,Ko=wr.labelHeight/2,Fo=E.pstyle("text-valign").value;"top"===Fo?co-=Ko:"bottom"===Fo&&(co+=Ko);var Qi=E.pstyle("text-halign").value;"left"===Qi?zr-=vs:"right"===Qi&&(zr+=vs);var mi=Pn(Ki[0],Ki[1],[zr-vs,co-Ko,zr+vs,co-Ko,zr+vs,co+Ko,zr-vs,co+Ko],N.x,N.y);if(mi.length>0){var En=j,tr=ia(En,Qr(y)),$n=ia(En,Qr(mi)),Rn=tr;$n<tr&&(y=[mi[0],mi[1]],Rn=$n),mi.length>2&&ia(En,{x:mi[2],y:mi[3]})<Rn&&(y=[mi[2],mi[3]])}}var er=ie(y,Ii,u.arrowShapes[gt].spacing(x)+Ct),Ur=ie(y,Ii,u.arrowShapes[gt].gap(x)+Ct);$t.startX=Ur[0],$t.startY=Ur[1],$t.arrowStartX=er[0],$t.arrowStartY=er[1],ri&&($t.badLine=!(Et($t.startX)&&Et($t.startY)&&Et($t.endX)&&Et($t.endY)))},getSourceEndpoint:function(x){var u=x[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(x),u.edgeType)?{x:u.haystackPts[0],y:u.haystackPts[1]}:{x:u.arrowStartX,y:u.arrowStartY}},getTargetEndpoint:function(x){var u=x[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(x),u.edgeType)?{x:u.haystackPts[2],y:u.haystackPts[3]}:{x:u.arrowEndX,y:u.arrowEndY}}},Af={};function zl(x,u,y){for(var E=function(pt,Ct,Rt,$t){return Go(pt,Ct,Rt,$t)},N=u._private.rstyle.bezierPts,j=0;j<x.bezierProjPcts.length;j++){var dt=x.bezierProjPcts[j];N.push({x:E(y[0],y[2],y[4],dt),y:E(y[1],y[3],y[5],dt)})}}Af.storeEdgeProjections=function(x){var u=x._private,y=u.rscratch,E=y.edgeType;if(u.rstyle.bezierPts=null,u.rstyle.linePts=null,u.rstyle.haystackPts=null,"multibezier"===E||"bezier"===E||"self"===E||"compound"===E){u.rstyle.bezierPts=[];for(var R=0;R+5<y.allpts.length;R+=4)zl(this,x,y.allpts.slice(R,R+6))}else if("segments"===E){var N=u.rstyle.linePts=[];for(R=0;R+1<y.allpts.length;R+=2)N.push({x:y.allpts[R],y:y.allpts[R+1]})}else if("haystack"===E){var j=y.haystackPts;u.rstyle.haystackPts=[{x:j[0],y:j[1]},{x:j[2],y:j[3]}]}u.rstyle.arrowWidth=this.getArrowWidth(x.pstyle("width").pfValue,x.pstyle("arrow-scale").value)*this.arrowShapeWidth},Af.recalculateEdgeProjections=function(x){this.findEdgeControlPoints(x)};var Fu={recalculateNodeLabelProjection:function(x){var u=x.pstyle("label").strValue;if(!C(u)){var y,E,R=x._private,N=x.width(),j=x.height(),dt=x.padding(),gt=x.position(),pt=x.pstyle("text-halign").strValue,Ct=x.pstyle("text-valign").strValue,Rt=R.rscratch,$t=R.rstyle;switch(pt){case"left":y=gt.x-N/2-dt;break;case"right":y=gt.x+N/2+dt;break;default:y=gt.x}switch(Ct){case"top":E=gt.y-j/2-dt;break;case"bottom":E=gt.y+j/2+dt;break;default:E=gt.y}Rt.labelX=y,Rt.labelY=E,$t.labelX=y,$t.labelY=E,this.calculateLabelAngles(x),this.applyLabelDimensions(x)}}},Zp=function(u,y){var E=Math.atan(y/u);return 0===u&&E<0&&(E*=-1),E},qp=function(u,y){return Zp(y.x-u.x,y.y-u.y)};Fu.recalculateEdgeLabelProjections=function(x){var u,y=x._private,E=y.rscratch,R=this,N={mid:x.pstyle("label").strValue,source:x.pstyle("source-label").strValue,target:x.pstyle("target-label").strValue};if(N.mid||N.source||N.target){var j=function(Rt,$t,ee){xi(y.rscratch,Rt,$t,ee),xi(y.rstyle,Rt,$t,ee)};j("labelX",null,(u={x:E.midX,y:E.midY}).x),j("labelY",null,u.y);var dt=Zp(E.midDispX,E.midDispY);j("labelAutoAngle",null,dt);var gt=function Ct(){if(Ct.cache)return Ct.cache;for(var Rt=[],$t=0;$t+5<E.allpts.length;$t+=4)Rt.push({p0:{x:E.allpts[$t],y:E.allpts[$t+1]},p1:{x:E.allpts[$t+2],y:E.allpts[$t+3]},p2:{x:E.allpts[$t+4],y:E.allpts[$t+5]},startDist:0,length:0,segments:[]});var ge=y.rstyle.bezierPts,Ae=R.bezierProjPcts.length;function He(ii,Ti,fi,Ri,Ii){var Ci=Pl(Ti,fi),Ki=ii.segments[ii.segments.length-1];ii.segments.push({p0:Ti,p1:fi,t0:Ri,t1:Ii,startDist:Ki?Ki.startDist+Ki.length:0,length:Ci}),ii.length+=Ci}for(var ze=0;ze<Rt.length;ze++){var ri=Rt[ze],ki=Rt[ze-1];ki&&(ri.startDist=ki.startDist+ki.length),He(ri,ri.p0,ge[ze*Ae],0,R.bezierProjPcts[0]);for(var Oi=0;Oi<Ae-1;Oi++)He(ri,ge[ze*Ae+Oi],ge[ze*Ae+Oi+1],R.bezierProjPcts[Oi],R.bezierProjPcts[Oi+1]);He(ri,ge[ze*Ae+Ae-1],ri.p2,R.bezierProjPcts[Ae-1],1)}return Ct.cache=Rt},pt=function(Rt){var $t,ee="source"===Rt;if(N[Rt]){var se=x.pstyle(Rt+"-text-offset").pfValue;switch(E.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var ge,qt=gt(),Ae=0,He=0,ze=0;ze<qt.length;ze++){for(var ri=qt[ee?ze:qt.length-1-ze],ki=0;ki<ri.segments.length;ki++){var Oi=ri.segments[ee?ki:ri.segments.length-1-ki];if(Ae=He,(He+=Oi.length)>=se||ze===qt.length-1&&ki===ri.segments.length-1){ge={cp:ri,segment:Oi};break}}if(ge)break}var Ti=ge.cp,fi=ge.segment,Ri=(se-Ae)/fi.length,Ii=fi.t1-fi.t0,Ci=ee?fi.t0+Ii*Ri:fi.t1-Ii*Ri;Ci=xs(0,Ci,1),u=ns(Ti.p0,Ti.p1,Ti.p2,Ci),$t=function(u,y,E,R){var N=xs(0,R-.001,1),j=xs(0,R+.001,1),dt=ns(u,y,E,N),gt=ns(u,y,E,j);return qp(dt,gt)}(Ti.p0,Ti.p1,Ti.p2,Ci);break;case"straight":case"segments":case"haystack":for(var Ai,mn,ln,dn,Ki=0,un=E.allpts.length,fn=0;fn+3<un&&(ee?(ln={x:E.allpts[fn],y:E.allpts[fn+1]},dn={x:E.allpts[fn+2],y:E.allpts[fn+3]}):(ln={x:E.allpts[un-2-fn],y:E.allpts[un-1-fn]},dn={x:E.allpts[un-4-fn],y:E.allpts[un-3-fn]}),mn=Ki,!((Ki+=Ai=Pl(ln,dn))>=se));fn+=2);var Cn=(se-mn)/Ai;Cn=xs(0,Cn,1),u=function(u,y,E,R){var N_x=y.x-u.x,N_y=y.y-u.y,j=Pl(u,y);return E=null==E?0:E,{x:u.x+N_x/j*(R=null!=R?R:E*j),y:u.y+N_y/j*R}}(ln,dn,Cn),$t=qp(ln,dn)}j("labelX",Rt,u.x),j("labelY",Rt,u.y),j("labelAutoAngle",Rt,$t)}};pt("source"),pt("target"),this.applyLabelDimensions(x)}},Fu.applyLabelDimensions=function(x){this.applyPrefixedLabelDimensions(x),x.isEdge()&&(this.applyPrefixedLabelDimensions(x,"source"),this.applyPrefixedLabelDimensions(x,"target"))},Fu.applyPrefixedLabelDimensions=function(x,u){var y=x._private,E=this.getLabelText(x,u),R=this.calculateLabelDimensions(x,E),N=x.pstyle("line-height").pfValue,j=x.pstyle("text-wrap").strValue,dt=Ni(y.rscratch,"labelWrapCachedLines",u)||[],gt="wrap"!==j?1:Math.max(dt.length,1),pt=R.height/gt,Ct=pt*N,Rt=R.width,$t=R.height+(gt-1)*(N-1)*pt;xi(y.rstyle,"labelWidth",u,Rt),xi(y.rscratch,"labelWidth",u,Rt),xi(y.rstyle,"labelHeight",u,$t),xi(y.rscratch,"labelHeight",u,$t),xi(y.rscratch,"labelLineHeight",u,Ct)},Fu.getLabelText=function(x,u){var y=x._private,R=x.pstyle((u?u+"-":"")+"label").strValue,N=x.pstyle("text-transform").value,j=function(Nn,Cn){return Cn?(xi(y.rscratch,Nn,u,Cn),Cn):Ni(y.rscratch,Nn,u)};if(!R)return"";"none"==N||("uppercase"==N?R=R.toUpperCase():"lowercase"==N&&(R=R.toLowerCase()));var dt=x.pstyle("text-wrap").value;if("wrap"===dt){var gt=j("labelKey");if(null!=gt&&j("labelWrapKey")===gt)return j("labelWrapCachedText");for(var Ct=R.split("\n"),Rt=x.pstyle("text-max-width").pfValue,ee="anywhere"===x.pstyle("text-overflow-wrap").value,se=[],qt=/[\s\u200b]+/,ge=ee?"":" ",Ae=0;Ae<Ct.length;Ae++){var He=Ct[Ae],ri=this.calculateLabelDimensions(x,He).width;if(ee){var ki=He.split("").join("\u200b");He=ki}if(ri>Rt){for(var Oi=He.split(qt),ii="",Ti=0;Ti<Oi.length;Ti++){var fi=Oi[Ti];this.calculateLabelDimensions(x,0===ii.length?fi:ii+ge+fi).width<=Rt?ii+=fi+ge:(ii&&se.push(ii),ii=fi+ge)}ii.match(/^[\s\u200b]+$/)||se.push(ii)}else se.push(He)}j("labelWrapCachedLines",se),R=j("labelWrapCachedText",se.join("\n")),j("labelWrapKey",gt)}else if("ellipsis"===dt){var Ki=x.pstyle("text-max-width").pfValue,Ai="",ln=!1;if(this.calculateLabelDimensions(x,R).width<Ki)return R;for(var dn=0;dn<R.length&&!(this.calculateLabelDimensions(x,Ai+R[dn]+"\u2026").width>Ki);dn++)Ai+=R[dn],dn===R.length-1&&(ln=!0);return ln||(Ai+="\u2026"),Ai}return R},Fu.getLabelJustification=function(x){var u=x.pstyle("text-justification").strValue,y=x.pstyle("text-halign").strValue;if("auto"!==u)return u;if(!x.isNode())return"center";switch(y){case"left":return"right";case"right":return"left";default:return"center"}},Fu.calculateLabelDimensions=function(x,u){var E=ei(u,x._private.labelDimsKey),R=this.labelDimCache||(this.labelDimCache=[]),N=R[E];if(null!=N)return N;var dt=x.pstyle("font-style").strValue,gt=x.pstyle("font-size").pfValue,pt=x.pstyle("font-family").strValue,Ct=x.pstyle("font-weight").strValue,Rt=this.labelCalcCanvas,$t=this.labelCalcCanvasContext;if(!Rt){Rt=this.labelCalcCanvas=document.createElement("canvas"),$t=this.labelCalcCanvasContext=Rt.getContext("2d");var ee=Rt.style;ee.position="absolute",ee.left="-9999px",ee.top="-9999px",ee.zIndex="-1",ee.visibility="hidden",ee.pointerEvents="none"}$t.font="".concat(dt," ").concat(Ct," ").concat(gt,"px ").concat(pt);for(var se=0,qt=0,ge=u.split("\n"),Ae=0;Ae<ge.length;Ae++){var ze=$t.measureText(ge[Ae]),ri=Math.ceil(ze.width),ki=gt;se=Math.max(ri,se),qt+=ki}return R[E]={width:se+=0,height:qt+=0}},Fu.calculateLabelAngle=function(x,u){var E=x._private.rscratch,R=x.isEdge(),j=x.pstyle((u?u+"-":"")+"text-rotation"),dt=j.strValue;return"none"===dt?0:R&&"autorotate"===dt?E.labelAutoAngle:"autorotate"===dt?0:j.pfValue},Fu.calculateLabelAngles=function(x){var u=this,y=x.isEdge(),R=x._private.rscratch;R.labelAngle=u.calculateLabelAngle(x),y&&(R.sourceLabelAngle=u.calculateLabelAngle(x,"source"),R.targetLabelAngle=u.calculateLabelAngle(x,"target"))};var ip={},Jp=!1;ip.getNodeShape=function(x){var y=x.pstyle("shape").value;if("cutrectangle"===y&&(x.width()<28||x.height()<28))return Jp||($e("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Jp=!0),"rectangle";if(x.isParent())return"rectangle"===y||"roundrectangle"===y||"round-rectangle"===y||"cutrectangle"===y||"cut-rectangle"===y||"barrel"===y?y:"rectangle";if("polygon"===y){var E=x.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(E).name}return y};var Gh={updateCachedGrabbedEles:function(){var x=this.cachedZSortedEles;if(x){x.drag=[],x.nondrag=[];for(var u=[],y=0;y<x.length;y++){var R=(E=x[y])._private.rscratch;E.grabbed()&&!E.isParent()?u.push(E):R.inDragLayer?x.drag.push(E):x.nondrag.push(E)}for(y=0;y<u.length;y++){var E;x.drag.push(E=u[y])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(x){if(x||!this.cachedZSortedEles){var u=this.cy.mutableElements().toArray();u.sort(Wd),u.interactive=u.filter(function(y){return y.interactive()}),this.cachedZSortedEles=u,this.updateCachedGrabbedEles()}else u=this.cachedZSortedEles;return u}},Wr={};[Df,od,ol,jl,Af,Fu,ip,{registerCalculationListeners:function(){var x=this.cy,u=x.collection(),y=this,E=function(j){var dt=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(u.merge(j),dt)for(var gt=0;gt<j.length;gt++){var pt=j[gt],Ct=pt._private,Rt=Ct.rstyle;Rt.clean=!1,Rt.cleanConnected=!1}};y.binder(x).on("bounds.* dirty.*",function(j){E(j.target)}).on("style.* background.*",function(j){E(j.target,!1)});var R=function(j){if(j){var dt=y.onUpdateEleCalcsFns;u.cleanStyle();for(var gt=0;gt<u.length;gt++){var pt=u[gt],Ct=pt._private.rstyle;pt.isNode()&&!Ct.cleanConnected&&(E(pt.connectedEdges()),Ct.cleanConnected=!0)}if(dt)for(var Rt=0;Rt<dt.length;Rt++)(0,dt[Rt])(j,u);y.recalculateRenderedStyle(u),u=x.collection()}};y.flushRenderedStyleQueue=function(){R(!0)},y.beforeRender(R,y.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(x){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(x)},recalculateRenderedStyle:function(x,u){var y=function(ri){return ri._private.rstyle.cleanConnected},E=[],R=[];if(!this.destroyed){void 0===u&&(u=!0);for(var N=0;N<x.length;N++){var j=x[N],dt=j._private,gt=dt.rstyle;j.isEdge()&&(!y(j.source())||!y(j.target()))&&(gt.clean=!1),!(u&&gt.clean||j.removed())&&"none"!==j.pstyle("display").value&&("nodes"===dt.group?R.push(j):E.push(j),gt.clean=!0)}for(var pt=0;pt<R.length;pt++){var Ct=R[pt],$t=Ct._private.rstyle,ee=Ct.position();this.recalculateNodeLabelProjection(Ct),$t.nodeX=ee.x,$t.nodeY=ee.y,$t.nodeW=Ct.pstyle("width").pfValue,$t.nodeH=Ct.pstyle("height").pfValue}this.recalculateEdgeProjections(E);for(var se=0;se<E.length;se++){var ge=E[se]._private,Ae=ge.rstyle,He=ge.rscratch;Ae.srcX=He.arrowStartX,Ae.srcY=He.arrowStartY,Ae.tgtX=He.arrowEndX,Ae.tgtY=He.arrowEndY,Ae.midX=He.midX,Ae.midY=He.midY,Ae.labelAngle=He.labelAngle,Ae.sourceLabelAngle=He.sourceLabelAngle,Ae.targetLabelAngle=He.targetLabelAngle}}}},Gh].forEach(function(x){Pt(Wr,x)});var bl={getCachedImage:function(x,u,y){var R=this.imageCache=this.imageCache||{},N=R[x];if(N)return N.image.complete||N.image.addEventListener("load",y),N.image;var j=(N=R[x]=R[x]||{}).image=new Image;return j.addEventListener("load",y),j.addEventListener("error",function(){j.error=!0}),"data:"===x.substring(0,"data:".length).toLowerCase()||(j.crossOrigin=u),j.src=x,j}},ha={registerBinding:function(x,u,y,E){var R=Array.prototype.slice.apply(arguments,[1]),N=this.binder(x);return N.on.apply(N,R)},binder:function(x){var u=this,y=x===window||x===document||x===document.body||function(u){return"undefined"!=typeof HTMLElement&&u instanceof HTMLElement}(x);if(null==u.supportsPassiveEvents){var E=!1;try{var R=Object.defineProperty({},"passive",{get:function(){return E=!0,!0}});window.addEventListener("test",null,R)}catch(j){}u.supportsPassiveEvents=E}var N=function(dt,gt,pt){var Ct=Array.prototype.slice.call(arguments);return y&&u.supportsPassiveEvents&&(Ct[2]={capture:null!=pt&&pt,passive:!1,once:!1}),u.bindings.push({target:x,args:Ct}),(x.addEventListener||x.on).apply(x,Ct),this};return{on:N,addEventListener:N,addListener:N,bind:N}},nodeIsDraggable:function(x){return x&&x.isNode()&&!x.locked()&&x.grabbable()},nodeIsGrabbable:function(x){return this.nodeIsDraggable(x)&&x.interactive()}};ha.load=function(){var x=this,u=function(mi){return mi.selected()},y=function(mi,En,tr,$n){null==mi&&(mi=x.cy);for(var Rn=0;Rn<En.length;Rn++)mi.emit({originalEvent:tr,type:En[Rn],position:$n})},E=function(mi){return mi.shiftKey||mi.metaKey||mi.ctrlKey},R=function(mi,En){var tr=!0;if(x.cy.hasCompoundNodes()&&mi&&mi.pannable()){for(var $n=0;En&&$n<En.length;$n++)if((mi=En[$n]).isNode()&&mi.isParent()&&!mi.pannable()){tr=!1;break}}else tr=!0;return tr},dt=function(mi){mi[0]._private.rscratch.inDragLayer=!0},pt=function(mi){mi[0]._private.rscratch.isGrabTarget=!0},Rt=function(mi,En){var tr=En.addToList;tr.has(mi)||(tr.merge(mi),function(mi){mi[0]._private.grabbed=!0}(mi))},ee=function(mi,En){En=En||{};var tr=mi.cy().hasCompoundNodes();En.inDragLayer&&(mi.forEach(dt),mi.neighborhood().stdFilter(function($n){return!tr||$n.isEdge()}).forEach(dt)),En.addToList&&mi.forEach(function($n){Rt($n,En)}),function(mi,En){if(mi.cy().hasCompoundNodes()&&(null!=En.inDragLayer||null!=En.addToList)){var tr=mi.descendants();En.inDragLayer&&(tr.forEach(dt),tr.connectedEdges().forEach(dt)),En.addToList&&En.addToList.unmerge(tr)}}(mi,En),ge(mi,{inDragLayer:En.inDragLayer}),x.updateCachedGrabbedEles()},se=ee,qt=function(mi){!mi||(x.getCachedZSortedEles().forEach(function(En){(function(mi){mi[0]._private.grabbed=!1})(En),function(mi){mi[0]._private.rscratch.inDragLayer=!1}(En),function(mi){mi[0]._private.rscratch.isGrabTarget=!1}(En)}),x.updateCachedGrabbedEles())},ge=function(mi,En){if((null!=En.inDragLayer||null!=En.addToList)&&mi.cy().hasCompoundNodes()){var tr=mi.ancestors().orphans();if(!tr.same(mi)){var $n=tr.descendants().spawnSelf().merge(tr).unmerge(mi).unmerge(mi.descendants()),Rn=$n.connectedEdges();En.inDragLayer&&(Rn.forEach(dt),$n.forEach(dt)),En.addToList&&$n.forEach(function(Bi){Rt(Bi,En)})}}},Ae=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},He="undefined"!=typeof MutationObserver,ze="undefined"!=typeof ResizeObserver;He?(x.removeObserver=new MutationObserver(function(Qi){for(var mi=0;mi<Qi.length;mi++){var tr=Qi[mi].removedNodes;if(tr)for(var $n=0;$n<tr.length;$n++)if(tr[$n]===x.container){x.destroy();break}}}),x.container.parentNode&&x.removeObserver.observe(x.container.parentNode,{childList:!0})):x.registerBinding(x.container,"DOMNodeRemoved",function(Qi){x.destroy()});var ri=f(function(){x.cy.resize()},100);He&&(x.styleObserver=new MutationObserver(ri),x.styleObserver.observe(x.container,{attributes:!0})),x.registerBinding(window,"resize",ri),ze&&(x.resizeObserver=new ResizeObserver(ri),x.resizeObserver.observe(x.container));var Oi=function(){x.invalidateContainerClientCoordsCache()};(function(mi,En){for(;null!=mi;)x.registerBinding(Qi=mi,"transitionend",Oi),x.registerBinding(Qi,"animationend",Oi),x.registerBinding(Qi,"scroll",Oi),mi=mi.parentNode;var Qi})(x.container),x.registerBinding(x.container,"contextmenu",function(Qi){Qi.preventDefault()});var fi,Ri,Ii,Ti=function(mi){for(var En=x.findContainerClientCoords(),tr=En[0],$n=En[1],Rn=En[2],Bi=En[3],er=mi.touches?mi.touches:[mi],Ur=!1,Do=0;Do<er.length;Do++){var ys=er[Do];if(tr<=ys.clientX&&ys.clientX<=tr+Rn&&$n<=ys.clientY&&ys.clientY<=$n+Bi){Ur=!0;break}}if(!Ur)return!1;for(var Oo=x.container,vo=mi.target.parentNode,fo=!1;vo;){if(vo===Oo){fo=!0;break}vo=vo.parentNode}return!!fo};x.registerBinding(x.container,"mousedown",function(mi){if(Ti(mi)){mi.preventDefault(),Ae(),x.hoverData.capture=!0,x.hoverData.which=mi.which;var En=x.cy,tr=[mi.clientX,mi.clientY],$n=x.projectIntoViewport(tr[0],tr[1]),Rn=x.selection,Bi=x.findNearestElements($n[0],$n[1],!0,!1),er=Bi[0],Ur=x.dragData.possibleDragElements;if(x.hoverData.mdownPos=$n,x.hoverData.mdownGPos=tr,3==mi.which){x.hoverData.cxtStarted=!0;var ys={originalEvent:mi,type:"cxttapstart",position:{x:$n[0],y:$n[1]}};er?(er.activate(),er.emit(ys),x.hoverData.down=er):En.emit(ys),x.hoverData.downTime=(new Date).getTime(),x.hoverData.cxtDragged=!1}else if(1==mi.which){if(er&&er.activate(),null!=er&&x.nodeIsGrabbable(er)){var Oo=function($s){return{originalEvent:mi,type:$s,position:{x:$n[0],y:$n[1]}}};if(pt(er),er.selected()){Ur=x.dragData.possibleDragElements=En.collection();var vo=En.$(function(fo){return fo.isNode()&&fo.selected()&&x.nodeIsGrabbable(fo)});ee(vo,{addToList:Ur}),er.emit(Oo("grabon")),vo.forEach(function($s){$s.emit(Oo("grab"))})}else Ur=x.dragData.possibleDragElements=En.collection(),se(er,{addToList:Ur}),er.emit(Oo("grabon")).emit(Oo("grab"));x.redrawHint("eles",!0),x.redrawHint("drag",!0)}x.hoverData.down=er,x.hoverData.downs=Bi,x.hoverData.downTime=(new Date).getTime(),y(er,["mousedown","tapstart","vmousedown"],mi,{x:$n[0],y:$n[1]}),null==er?(Rn[4]=1,x.data.bgActivePosistion={x:$n[0],y:$n[1]},x.redrawHint("select",!0),x.redraw()):er.pannable()&&(Rn[4]=1),x.hoverData.tapholdCancelled=!1,clearTimeout(x.hoverData.tapholdTimeout),x.hoverData.tapholdTimeout=setTimeout(function(){if(!x.hoverData.tapholdCancelled){var $s=x.hoverData.down;$s?$s.emit({originalEvent:mi,type:"taphold",position:{x:$n[0],y:$n[1]}}):En.emit({originalEvent:mi,type:"taphold",position:{x:$n[0],y:$n[1]}})}},x.tapholdDuration)}Rn[0]=Rn[2]=$n[0],Rn[1]=Rn[3]=$n[1]}},!1),x.registerBinding(window,"mousemove",function(mi){var au;if(x.hoverData.capture||Ti(mi)){var tr=!1,$n=x.cy,Rn=$n.zoom(),Bi=[mi.clientX,mi.clientY],er=x.projectIntoViewport(Bi[0],Bi[1]),Ur=x.hoverData.mdownPos,Do=x.hoverData.mdownGPos,ys=x.selection,Oo=null;!x.hoverData.draggingEles&&!x.hoverData.dragging&&!x.hoverData.selecting&&(Oo=x.findNearestElement(er[0],er[1],!0,!1));var $a,ss=x.hoverData.last,vo=x.hoverData.down,fo=[er[0]-ys[2],er[1]-ys[3]],$s=x.dragData.possibleDragElements;if(Do){var Mu=Bi[0]-Do[0],Xa=Bi[1]-Do[1];x.hoverData.isOverThresholdDrag=$a=Mu*Mu+Xa*Xa>=x.desktopTapThreshold2}var xc=E(mi);$a&&(x.hoverData.tapholdCancelled=!0),tr=!0,y(Oo,["mousemove","vmousemove","tapdrag"],mi,{x:er[0],y:er[1]});var Of=function(){x.data.bgActivePosistion=void 0,x.hoverData.selecting||$n.emit({originalEvent:mi,type:"boxstart",position:{x:er[0],y:er[1]}}),ys[4]=1,x.hoverData.selecting=!0,x.redrawHint("select",!0),x.redraw()};if(3===x.hoverData.which){if($a){var If={originalEvent:mi,type:"cxtdrag",position:{x:er[0],y:er[1]}};vo?vo.emit(If):$n.emit(If),x.hoverData.cxtDragged=!0,(!x.hoverData.cxtOver||Oo!==x.hoverData.cxtOver)&&(x.hoverData.cxtOver&&x.hoverData.cxtOver.emit({originalEvent:mi,type:"cxtdragout",position:{x:er[0],y:er[1]}}),x.hoverData.cxtOver=Oo,Oo&&Oo.emit({originalEvent:mi,type:"cxtdragover",position:{x:er[0],y:er[1]}}))}}else if(x.hoverData.dragging){if(tr=!0,$n.panningEnabled()&&$n.userPanningEnabled()){var eh;if(x.hoverData.justStartedPan){var Kc=x.hoverData.mdownPos;eh={x:(er[0]-Kc[0])*Rn,y:(er[1]-Kc[1])*Rn},x.hoverData.justStartedPan=!1}else eh={x:fo[0]*Rn,y:fo[1]*Rn};$n.panBy(eh),$n.emit("dragpan"),x.hoverData.dragged=!0}er=x.projectIntoViewport(mi.clientX,mi.clientY)}else if(1!=ys[4]||null!=vo&&!vo.pannable()){if(vo&&vo.pannable()&&vo.active()&&vo.unactivate(),(!vo||!vo.grabbed())&&Oo!=ss&&(ss&&y(ss,["mouseout","tapdragout"],mi,{x:er[0],y:er[1]}),Oo&&y(Oo,["mouseover","tapdragover"],mi,{x:er[0],y:er[1]}),x.hoverData.last=Oo),vo)if($a){if($n.boxSelectionEnabled()&&xc)vo&&vo.grabbed()&&(qt($s),vo.emit("freeon"),$s.emit("free"),x.dragData.didDrag&&(vo.emit("dragfreeon"),$s.emit("dragfree"))),Of();else if(vo&&vo.grabbed()&&x.nodeIsDraggable(vo)){var Ba=!x.dragData.didDrag;Ba&&x.redrawHint("eles",!0),x.dragData.didDrag=!0;var Hl=$n.collection();x.hoverData.draggingEles||ee($s,{inDragLayer:!0});var Cu={x:0,y:0};if(Et(fo[0])&&Et(fo[1])&&(Cu.x+=fo[0],Cu.y+=fo[1],Ba)){var Rf=x.hoverData.dragDelta;Rf&&Et(Rf[0])&&Et(Rf[1])&&(Cu.x+=Rf[0],Cu.y+=Rf[1])}for(var $c=0;$c<$s.length;$c++){var Fs=$s[$c];x.nodeIsDraggable(Fs)&&Fs.grabbed()&&Hl.push(Fs)}x.hoverData.draggingEles=!0,Hl.silentShift(Cu).emit("position drag"),x.redrawHint("drag",!0),x.redraw()}}else 0===(au=x.hoverData.dragDelta=x.hoverData.dragDelta||[]).length?(au.push(fo[0]),au.push(fo[1])):(au[0]+=fo[0],au[1]+=fo[1]);tr=!0}else $a&&(x.hoverData.dragging||!$n.boxSelectionEnabled()||!xc&&$n.panningEnabled()&&$n.userPanningEnabled()?!x.hoverData.selecting&&$n.panningEnabled()&&$n.userPanningEnabled()&&R(vo,x.hoverData.downs)&&(x.hoverData.dragging=!0,x.hoverData.justStartedPan=!0,ys[4]=0,x.data.bgActivePosistion=Qr(Ur),x.redrawHint("select",!0),x.redraw()):Of(),vo&&vo.pannable()&&vo.active()&&vo.unactivate());if(ys[2]=er[0],ys[3]=er[1],tr)return mi.stopPropagation&&mi.stopPropagation(),mi.preventDefault&&mi.preventDefault(),!1}},!1),x.registerBinding(window,"mouseup",function(mi){if(x.hoverData.capture){x.hoverData.capture=!1;var tr=x.cy,$n=x.projectIntoViewport(mi.clientX,mi.clientY),Rn=x.selection,Bi=x.findNearestElement($n[0],$n[1],!0,!1),er=x.dragData.possibleDragElements,Ur=x.hoverData.down,Do=E(mi);if(x.data.bgActivePosistion&&(x.redrawHint("select",!0),x.redraw()),x.hoverData.tapholdCancelled=!0,x.data.bgActivePosistion=void 0,Ur&&Ur.unactivate(),3===x.hoverData.which){var ys={originalEvent:mi,type:"cxttapend",position:{x:$n[0],y:$n[1]}};if(Ur?Ur.emit(ys):tr.emit(ys),!x.hoverData.cxtDragged){var Oo={originalEvent:mi,type:"cxttap",position:{x:$n[0],y:$n[1]}};Ur?Ur.emit(Oo):tr.emit(Oo)}x.hoverData.cxtDragged=!1,x.hoverData.which=null}else if(1===x.hoverData.which){if(y(Bi,["mouseup","tapend","vmouseup"],mi,{x:$n[0],y:$n[1]}),!x.dragData.didDrag&&!x.hoverData.dragged&&!x.hoverData.selecting&&!x.hoverData.isOverThresholdDrag&&(y(Ur,["click","tap","vclick"],mi,{x:$n[0],y:$n[1]}),Ri=!1,mi.timeStamp-Ii<=tr.multiClickDebounceTime()?(fi&&clearTimeout(fi),Ri=!0,Ii=null,y(Ur,["dblclick","dbltap","vdblclick"],mi,{x:$n[0],y:$n[1]})):(fi=setTimeout(function(){Ri||y(Ur,["oneclick","onetap","voneclick"],mi,{x:$n[0],y:$n[1]})},tr.multiClickDebounceTime()),Ii=mi.timeStamp)),null==Ur&&!x.dragData.didDrag&&!x.hoverData.selecting&&!x.hoverData.dragged&&!E(mi)&&(tr.$(u).unselect(["tapunselect"]),er.length>0&&x.redrawHint("eles",!0),x.dragData.possibleDragElements=er=tr.collection()),Bi==Ur&&!x.dragData.didDrag&&!x.hoverData.selecting&&null!=Bi&&Bi._private.selectable&&(x.hoverData.dragging||("additive"===tr.selectionType()||Do?Bi.selected()?Bi.unselect(["tapunselect"]):Bi.select(["tapselect"]):Do||(tr.$(u).unmerge(Bi).unselect(["tapunselect"]),Bi.select(["tapselect"]))),x.redrawHint("eles",!0)),x.hoverData.selecting){var ss=tr.collection(x.getAllInBox(Rn[0],Rn[1],Rn[2],Rn[3]));x.redrawHint("select",!0),ss.length>0&&x.redrawHint("eles",!0),tr.emit({type:"boxend",originalEvent:mi,position:{x:$n[0],y:$n[1]}}),"additive"===tr.selectionType()||Do||tr.$(u).unmerge(ss).unselect(),ss.emit("box").stdFilter(function($a){return $a.selectable()&&!$a.selected()}).select().emit("boxselect"),x.redraw()}if(x.hoverData.dragging&&(x.hoverData.dragging=!1,x.redrawHint("select",!0),x.redrawHint("eles",!0),x.redraw()),!Rn[4]){x.redrawHint("drag",!0),x.redrawHint("eles",!0);var fo=Ur&&Ur.grabbed();qt(er),fo&&(Ur.emit("freeon"),er.emit("free"),x.dragData.didDrag&&(Ur.emit("dragfreeon"),er.emit("dragfree")))}}Rn[4]=0,x.hoverData.down=null,x.hoverData.cxtStarted=!1,x.hoverData.draggingEles=!1,x.hoverData.selecting=!1,x.hoverData.isOverThresholdDrag=!1,x.dragData.didDrag=!1,x.hoverData.dragged=!1,x.hoverData.dragDelta=[],x.hoverData.mdownPos=null,x.hoverData.mdownGPos=null}},!1);var Ci=function(mi){if(!x.scrollingPage){var En=x.cy,tr=En.zoom(),$n=En.pan(),Rn=x.projectIntoViewport(mi.clientX,mi.clientY),Bi=[Rn[0]*tr+$n.x,Rn[1]*tr+$n.y];if(x.hoverData.draggingEles||x.hoverData.dragging||x.hoverData.cxtStarted||0!==x.selection[4])return void mi.preventDefault();if(En.panningEnabled()&&En.userPanningEnabled()&&En.zoomingEnabled()&&En.userZoomingEnabled()){var er;mi.preventDefault(),x.data.wheelZooming=!0,clearTimeout(x.data.wheelTimeout),x.data.wheelTimeout=setTimeout(function(){x.data.wheelZooming=!1,x.redrawHint("eles",!0),x.redraw()},150),er=null!=mi.deltaY?mi.deltaY/-250:null!=mi.wheelDeltaY?mi.wheelDeltaY/1e3:mi.wheelDelta/1e3,er*=x.wheelSensitivity,1===mi.deltaMode&&(er*=33);var Do=En.zoom()*Math.pow(10,er);"gesturechange"===mi.type&&(Do=x.gestureStartZoom*mi.scale),En.zoom({level:Do,renderedPosition:{x:Bi[0],y:Bi[1]}}),En.emit("gesturechange"===mi.type?"pinchzoom":"scrollzoom")}}};x.registerBinding(x.container,"wheel",Ci,!0),x.registerBinding(window,"scroll",function(mi){x.scrollingPage=!0,clearTimeout(x.scrollingPageTimeout),x.scrollingPageTimeout=setTimeout(function(){x.scrollingPage=!1},250)},!0),x.registerBinding(x.container,"gesturestart",function(mi){x.gestureStartZoom=x.cy.zoom(),x.hasTouchStarted||mi.preventDefault()},!0),x.registerBinding(x.container,"gesturechange",function(Qi){x.hasTouchStarted||Ci(Qi)},!0),x.registerBinding(x.container,"mouseout",function(mi){var En=x.projectIntoViewport(mi.clientX,mi.clientY);x.cy.emit({originalEvent:mi,type:"mouseout",position:{x:En[0],y:En[1]}})},!1),x.registerBinding(x.container,"mouseover",function(mi){var En=x.projectIntoViewport(mi.clientX,mi.clientY);x.cy.emit({originalEvent:mi,type:"mouseover",position:{x:En[0],y:En[1]}})},!1);var Ki,Ai,mn,ln,dn,un,fn,Nn,Cn,Ji,Hn,Si,Zn,kn,Qn,rr,_r,go,yo,Tr,Wn=function(mi,En,tr,$n){return Math.sqrt((tr-mi)*(tr-mi)+($n-En)*($n-En))},pn=function(mi,En,tr,$n){return(tr-mi)*(tr-mi)+($n-En)*($n-En)};if(x.registerBinding(x.container,"touchstart",kn=function(mi){if(x.hasTouchStarted=!0,Ti(mi)){Ae(),x.touchData.capture=!0,x.data.bgActivePosistion=void 0;var En=x.cy,tr=x.touchData.now,$n=x.touchData.earlier;if(mi.touches[0]){var Rn=x.projectIntoViewport(mi.touches[0].clientX,mi.touches[0].clientY);tr[0]=Rn[0],tr[1]=Rn[1]}if(mi.touches[1]&&(Rn=x.projectIntoViewport(mi.touches[1].clientX,mi.touches[1].clientY),tr[2]=Rn[0],tr[3]=Rn[1]),mi.touches[2]&&(Rn=x.projectIntoViewport(mi.touches[2].clientX,mi.touches[2].clientY),tr[4]=Rn[0],tr[5]=Rn[1]),mi.touches[1]){x.touchData.singleTouchMoved=!0,qt(x.dragData.touchDragEles);var Bi=x.findContainerClientCoords();Hn=Bi[2],Si=Bi[3],Ai=mi.touches[0].clientY-(Ji=Bi[1]),mn=mi.touches[1].clientX-(Cn=Bi[0]),ln=mi.touches[1].clientY-Ji,Zn=0<=(Ki=mi.touches[0].clientX-Cn)&&Ki<=Hn&&0<=mn&&mn<=Hn&&0<=Ai&&Ai<=Si&&0<=ln&&ln<=Si;var er=En.pan(),Ur=En.zoom();if(dn=Wn(Ki,Ai,mn,ln),un=pn(Ki,Ai,mn,ln),Nn=[((fn=[(Ki+mn)/2,(Ai+ln)/2])[0]-er.x)/Ur,(fn[1]-er.y)/Ur],un<4e4&&!mi.touches[2]){var Oo=x.findNearestElement(tr[0],tr[1],!0,!0),ss=x.findNearestElement(tr[2],tr[3],!0,!0);return Oo&&Oo.isNode()?(Oo.activate().emit({originalEvent:mi,type:"cxttapstart",position:{x:tr[0],y:tr[1]}}),x.touchData.start=Oo):ss&&ss.isNode()?(ss.activate().emit({originalEvent:mi,type:"cxttapstart",position:{x:tr[0],y:tr[1]}}),x.touchData.start=ss):En.emit({originalEvent:mi,type:"cxttapstart",position:{x:tr[0],y:tr[1]}}),x.touchData.start&&(x.touchData.start._private.grabbed=!1),x.touchData.cxt=!0,x.touchData.cxtDragged=!1,x.data.bgActivePosistion=void 0,void x.redraw()}}if(mi.touches[2])En.boxSelectionEnabled()&&mi.preventDefault();else if(!mi.touches[1]&&mi.touches[0]){var vo=x.findNearestElements(tr[0],tr[1],!0,!0),fo=vo[0];if(null!=fo&&(fo.activate(),x.touchData.start=fo,x.touchData.starts=vo,x.nodeIsGrabbable(fo))){var $s=x.dragData.touchDragEles=En.collection(),$a=null;x.redrawHint("eles",!0),x.redrawHint("drag",!0),fo.selected()?($a=En.$(function(ou){return ou.selected()&&x.nodeIsGrabbable(ou)}),ee($a,{addToList:$s})):se(fo,{addToList:$s}),pt(fo);var Mu=function(xc){return{originalEvent:mi,type:xc,position:{x:tr[0],y:tr[1]}}};fo.emit(Mu("grabon")),$a?$a.forEach(function(ou){ou.emit(Mu("grab"))}):fo.emit(Mu("grab"))}y(fo,["touchstart","tapstart","vmousedown"],mi,{x:tr[0],y:tr[1]}),null==fo&&(x.data.bgActivePosistion={x:Rn[0],y:Rn[1]},x.redrawHint("select",!0),x.redraw()),x.touchData.singleTouchMoved=!1,x.touchData.singleTouchStartTime=+new Date,clearTimeout(x.touchData.tapholdTimeout),x.touchData.tapholdTimeout=setTimeout(function(){!1===x.touchData.singleTouchMoved&&!x.pinching&&!x.touchData.selecting&&y(x.touchData.start,["taphold"],mi,{x:tr[0],y:tr[1]})},x.tapholdDuration)}if(mi.touches.length>=1){for(var Ul=x.touchData.startPosition=[],Xa=0;Xa<tr.length;Xa++)Ul[Xa]=$n[Xa]=tr[Xa];var Ml=mi.touches[0];x.touchData.startGPosition=[Ml.clientX,Ml.clientY]}}},!1),x.registerBinding(window,"touchmove",Qn=function(mi){var En=x.touchData.capture;if(En||Ti(mi)){var tr=x.selection,$n=x.cy,Rn=x.touchData.now,Bi=x.touchData.earlier,er=$n.zoom();if(mi.touches[0]){var Ur=x.projectIntoViewport(mi.touches[0].clientX,mi.touches[0].clientY);Rn[0]=Ur[0],Rn[1]=Ur[1]}mi.touches[1]&&(Ur=x.projectIntoViewport(mi.touches[1].clientX,mi.touches[1].clientY),Rn[2]=Ur[0],Rn[3]=Ur[1]),mi.touches[2]&&(Ur=x.projectIntoViewport(mi.touches[2].clientX,mi.touches[2].clientY),Rn[4]=Ur[0],Rn[5]=Ur[1]);var ys,Do=x.touchData.startGPosition;if(En&&mi.touches[0]&&Do){for(var Oo=[],ss=0;ss<Rn.length;ss++)Oo[ss]=Rn[ss]-Bi[ss];var vo=mi.touches[0].clientX-Do[0],$s=mi.touches[0].clientY-Do[1];ys=vo*vo+$s*$s>=x.touchTapThreshold2}if(En&&x.touchData.cxt){mi.preventDefault();var xc=pn(Ul=mi.touches[0].clientX-Cn,Xa=mi.touches[0].clientY-Ji,Ml=mi.touches[1].clientX-Cn,ou=mi.touches[1].clientY-Ji);if(xc/un>=2.25||xc>=22500){x.touchData.cxt=!1,x.data.bgActivePosistion=void 0,x.redrawHint("select",!0);var ih={originalEvent:mi,type:"cxttapend",position:{x:Rn[0],y:Rn[1]}};x.touchData.start?(x.touchData.start.unactivate().emit(ih),x.touchData.start=null):$n.emit(ih)}}if(En&&x.touchData.cxt){ih={originalEvent:mi,type:"cxtdrag",position:{x:Rn[0],y:Rn[1]}},x.data.bgActivePosistion=void 0,x.redrawHint("select",!0),x.touchData.start?x.touchData.start.emit(ih):$n.emit(ih),x.touchData.start&&(x.touchData.start._private.grabbed=!1),x.touchData.cxtDragged=!0;var Ba=x.findNearestElement(Rn[0],Rn[1],!0,!0);(!x.touchData.cxtOver||Ba!==x.touchData.cxtOver)&&(x.touchData.cxtOver&&x.touchData.cxtOver.emit({originalEvent:mi,type:"cxtdragout",position:{x:Rn[0],y:Rn[1]}}),x.touchData.cxtOver=Ba,Ba&&Ba.emit({originalEvent:mi,type:"cxtdragover",position:{x:Rn[0],y:Rn[1]}}))}else if(En&&mi.touches[2]&&$n.boxSelectionEnabled())mi.preventDefault(),x.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,x.touchData.selecting||$n.emit({originalEvent:mi,type:"boxstart",position:{x:Rn[0],y:Rn[1]}}),x.touchData.selecting=!0,x.touchData.didSelect=!0,tr[4]=1,tr&&0!==tr.length&&void 0!==tr[0]?(tr[2]=(Rn[0]+Rn[2]+Rn[4])/3,tr[3]=(Rn[1]+Rn[3]+Rn[5])/3):(tr[0]=(Rn[0]+Rn[2]+Rn[4])/3,tr[1]=(Rn[1]+Rn[3]+Rn[5])/3,tr[2]=(Rn[0]+Rn[2]+Rn[4])/3+1,tr[3]=(Rn[1]+Rn[3]+Rn[5])/3+1),x.redrawHint("select",!0),x.redraw();else if(En&&mi.touches[1]&&!x.touchData.didSelect&&$n.zoomingEnabled()&&$n.panningEnabled()&&$n.userZoomingEnabled()&&$n.userPanningEnabled()){if(mi.preventDefault(),x.data.bgActivePosistion=void 0,x.redrawHint("select",!0),Hl=x.dragData.touchDragEles){x.redrawHint("drag",!0);for(var Cu=0;Cu<Hl.length;Cu++){var Rf=Hl[Cu]._private;Rf.grabbed=!1,Rf.rscratch.inDragLayer=!1}}var Ul,Xa,Ml,ou,$c=x.touchData.start,Fs=Wn(Ul=mi.touches[0].clientX-Cn,Xa=mi.touches[0].clientY-Ji,Ml=mi.touches[1].clientX-Cn,ou=mi.touches[1].clientY-Ji),cl=Fs/dn;if(Zn){var u0=(Ul-Ki+(Ml-mn))/2,cp=(Xa-Ai+(ou-ln))/2,Gl=$n.zoom(),wc=Gl*cl,fp=$n.pan(),h0=Nn[0]*Gl+fp.x,c0=Nn[1]*Gl+fp.y,Xc={x:-wc/Gl*(h0-fp.x-u0)+h0,y:-wc/Gl*(c0-fp.y-cp)+c0};$c&&$c.active()&&(qt(Hl=x.dragData.touchDragEles),x.redrawHint("drag",!0),x.redrawHint("eles",!0),$c.unactivate().emit("freeon"),Hl.emit("free"),x.dragData.didDrag&&($c.emit("dragfreeon"),Hl.emit("dragfree"))),$n.viewport({zoom:wc,pan:Xc,cancelOnFailedZoom:!0}),$n.emit("pinchzoom"),dn=Fs,Ki=Ul,Ai=Xa,mn=Ml,ln=ou,x.pinching=!0}mi.touches[0]&&(Ur=x.projectIntoViewport(mi.touches[0].clientX,mi.touches[0].clientY),Rn[0]=Ur[0],Rn[1]=Ur[1]),mi.touches[1]&&(Ur=x.projectIntoViewport(mi.touches[1].clientX,mi.touches[1].clientY),Rn[2]=Ur[0],Rn[3]=Ur[1]),mi.touches[2]&&(Ur=x.projectIntoViewport(mi.touches[2].clientX,mi.touches[2].clientY),Rn[4]=Ur[0],Rn[5]=Ur[1])}else if(mi.touches[0]&&!x.touchData.didSelect){var lu=x.touchData.start,Lf=x.touchData.last;if(!x.hoverData.draggingEles&&!x.swipePanning&&(Ba=x.findNearestElement(Rn[0],Rn[1],!0,!0)),En&&null!=lu&&mi.preventDefault(),En&&null!=lu&&x.nodeIsDraggable(lu))if(ys){var Hl=x.dragData.touchDragEles,vd=!x.dragData.didDrag;vd&&ee(Hl,{inDragLayer:!0}),x.dragData.didDrag=!0;var Zc={x:0,y:0};Et(Oo[0])&&Et(Oo[1])&&(Zc.x+=Oo[0],Zc.y+=Oo[1],vd)&&(x.redrawHint("eles",!0),(Su=x.touchData.dragDelta)&&Et(Su[0])&&Et(Su[1])&&(Zc.x+=Su[0],Zc.y+=Su[1])),x.hoverData.draggingEles=!0,Hl.silentShift(Zc).emit("position drag"),x.redrawHint("drag",!0),x.touchData.startPosition[0]==Bi[0]&&x.touchData.startPosition[1]==Bi[1]&&x.redrawHint("eles",!0),x.redraw()}else{var Su;0===(Su=x.touchData.dragDelta=x.touchData.dragDelta||[]).length?(Su.push(Oo[0]),Su.push(Oo[1])):(Su[0]+=Oo[0],Su[1]+=Oo[1])}if(y(lu||Ba,["touchmove","tapdrag","vmousemove"],mi,{x:Rn[0],y:Rn[1]}),(!lu||!lu.grabbed())&&Ba!=Lf&&(Lf&&Lf.emit({originalEvent:mi,type:"tapdragout",position:{x:Rn[0],y:Rn[1]}}),Ba&&Ba.emit({originalEvent:mi,type:"tapdragover",position:{x:Rn[0],y:Rn[1]}})),x.touchData.last=Ba,En)for(Cu=0;Cu<Rn.length;Cu++)Rn[Cu]&&x.touchData.startPosition[Cu]&&ys&&(x.touchData.singleTouchMoved=!0);En&&(null==lu||lu.pannable())&&$n.panningEnabled()&&$n.userPanningEnabled()&&(R(lu,x.touchData.starts)&&(mi.preventDefault(),x.data.bgActivePosistion||(x.data.bgActivePosistion=Qr(x.touchData.startPosition)),x.swipePanning?($n.panBy({x:Oo[0]*er,y:Oo[1]*er}),$n.emit("dragpan")):ys&&(x.swipePanning=!0,$n.panBy({x:vo*er,y:$s*er}),$n.emit("dragpan"),lu&&(lu.unactivate(),x.redrawHint("select",!0),x.touchData.start=null))),Ur=x.projectIntoViewport(mi.touches[0].clientX,mi.touches[0].clientY),Rn[0]=Ur[0],Rn[1]=Ur[1])}for(ss=0;ss<Rn.length;ss++)Bi[ss]=Rn[ss];En&&mi.touches.length>0&&!x.hoverData.draggingEles&&!x.swipePanning&&null!=x.data.bgActivePosistion&&(x.data.bgActivePosistion=void 0,x.redrawHint("select",!0),x.redraw())}},!1),x.registerBinding(window,"touchcancel",rr=function(mi){var En=x.touchData.start;x.touchData.capture=!1,En&&En.unactivate()}),x.registerBinding(window,"touchend",_r=function(mi){var En=x.touchData.start;if(x.touchData.capture){0===mi.touches.length&&(x.touchData.capture=!1),mi.preventDefault();var $n=x.selection;x.swipePanning=!1,x.hoverData.draggingEles=!1;var ys,Rn=x.cy,Bi=Rn.zoom(),er=x.touchData.now,Ur=x.touchData.earlier;if(mi.touches[0]){var Do=x.projectIntoViewport(mi.touches[0].clientX,mi.touches[0].clientY);er[0]=Do[0],er[1]=Do[1]}if(mi.touches[1]&&(Do=x.projectIntoViewport(mi.touches[1].clientX,mi.touches[1].clientY),er[2]=Do[0],er[3]=Do[1]),mi.touches[2]&&(Do=x.projectIntoViewport(mi.touches[2].clientX,mi.touches[2].clientY),er[4]=Do[0],er[5]=Do[1]),En&&En.unactivate(),x.touchData.cxt){if(ys={originalEvent:mi,type:"cxttapend",position:{x:er[0],y:er[1]}},En?En.emit(ys):Rn.emit(ys),!x.touchData.cxtDragged){var Oo={originalEvent:mi,type:"cxttap",position:{x:er[0],y:er[1]}};En?En.emit(Oo):Rn.emit(Oo)}return x.touchData.start&&(x.touchData.start._private.grabbed=!1),x.touchData.cxt=!1,x.touchData.start=null,void x.redraw()}if(!mi.touches[2]&&Rn.boxSelectionEnabled()&&x.touchData.selecting){x.touchData.selecting=!1;var ss=Rn.collection(x.getAllInBox($n[0],$n[1],$n[2],$n[3]));$n[0]=void 0,$n[1]=void 0,$n[2]=void 0,$n[3]=void 0,$n[4]=0,x.redrawHint("select",!0),Rn.emit({type:"boxend",originalEvent:mi,position:{x:er[0],y:er[1]}}),ss.emit("box").stdFilter(function(If){return If.selectable()&&!If.selected()}).select().emit("boxselect"),ss.nonempty()&&x.redrawHint("eles",!0),x.redraw()}if(null!=En&&En.unactivate(),mi.touches[2])x.data.bgActivePosistion=void 0,x.redrawHint("select",!0);else if(!mi.touches[1]&&!mi.touches[0]&&!mi.touches[0]){x.data.bgActivePosistion=void 0,x.redrawHint("select",!0);var fo=x.dragData.touchDragEles;if(null!=En){var $s=En._private.grabbed;qt(fo),x.redrawHint("drag",!0),x.redrawHint("eles",!0),$s&&(En.emit("freeon"),fo.emit("free"),x.dragData.didDrag&&(En.emit("dragfreeon"),fo.emit("dragfree"))),y(En,["touchend","tapend","vmouseup","tapdragout"],mi,{x:er[0],y:er[1]}),En.unactivate(),x.touchData.start=null}else{var $a=x.findNearestElement(er[0],er[1],!0,!0);y($a,["touchend","tapend","vmouseup","tapdragout"],mi,{x:er[0],y:er[1]})}var Mu=x.touchData.startPosition[0]-er[0],Xa=x.touchData.startPosition[1]-er[1],xc=(Mu*Mu+Xa*Xa)*Bi*Bi;x.touchData.singleTouchMoved||(En||Rn.$(":selected").unselect(["tapunselect"]),y(En,["tap","vclick"],mi,{x:er[0],y:er[1]}),go=!1,mi.timeStamp-Tr<=Rn.multiClickDebounceTime()?(yo&&clearTimeout(yo),go=!0,Tr=null,y(En,["dbltap","vdblclick"],mi,{x:er[0],y:er[1]})):(yo=setTimeout(function(){go||y(En,["onetap","voneclick"],mi,{x:er[0],y:er[1]})},Rn.multiClickDebounceTime()),Tr=mi.timeStamp)),null!=En&&!x.dragData.didDrag&&En._private.selectable&&xc<x.touchTapThreshold2&&!x.pinching&&("single"===Rn.selectionType()?(Rn.$(u).unmerge(En).unselect(["tapunselect"]),En.select(["tapselect"])):En.selected()?En.unselect(["tapunselect"]):En.select(["tapselect"]),x.redrawHint("eles",!0)),x.touchData.singleTouchMoved=!0}for(var su=0;su<er.length;su++)Ur[su]=er[su];x.dragData.didDrag=!1,0===mi.touches.length&&(x.touchData.dragDelta=[],x.touchData.startPosition=null,x.touchData.startGPosition=null,x.touchData.didSelect=!1),mi.touches.length<2&&(1===mi.touches.length&&(x.touchData.startGPosition=[mi.touches[0].clientX,mi.touches[0].clientY]),x.pinching=!1,x.redrawHint("eles",!0),x.redraw())}},!1),"undefined"==typeof TouchEvent){var wr=[],Kr=function(mi){return{clientX:mi.clientX,clientY:mi.clientY,force:1,identifier:mi.pointerId,pageX:mi.pageX,pageY:mi.pageY,radiusX:mi.width/2,radiusY:mi.height/2,screenX:mi.screenX,screenY:mi.screenY,target:mi.target}},co=function(mi){for(var En=0;En<wr.length;En++)if(wr[En].event.pointerId===mi.pointerId)return void wr.splice(En,1)},Ko=function(mi){mi.touches=wr.map(function(En){return En.touch})},Fo=function(mi){return"mouse"===mi.pointerType||4===mi.pointerType};x.registerBinding(x.container,"pointerdown",function(Qi){Fo(Qi)||(Qi.preventDefault(),wr.push(function(mi){return{event:mi,touch:Kr(mi)}}(Qi)),Ko(Qi),kn(Qi))}),x.registerBinding(x.container,"pointerup",function(Qi){Fo(Qi)||(co(Qi),Ko(Qi),_r(Qi))}),x.registerBinding(x.container,"pointercancel",function(Qi){Fo(Qi)||(co(Qi),Ko(Qi),rr())}),x.registerBinding(x.container,"pointermove",function(Qi){var mi,En;Fo(Qi)||(Qi.preventDefault(),mi=Qi,(En=wr.filter(function(tr){return tr.event.pointerId===mi.pointerId})[0]).event=mi,En.touch=Kr(mi),Ko(Qi),Qn(Qi))})}};var Ra={generatePolygon:function(x,u){return this.nodeShapes[x]={renderer:this,name:x,points:u,draw:function(E,R,N,j,dt){this.renderer.nodeShapeImpl("polygon",E,R,N,j,dt,this.points)},intersectLine:function(E,R,N,j,dt,gt,pt){return Pn(dt,gt,this.points,E,R,N/2,j/2,pt)},checkPoint:function(E,R,N,j,dt,gt,pt){return be(E,R,this.points,gt,pt,j,dt,[0,-1],N)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(u,y,E,R,N){this.renderer.nodeShapeImpl(this.name,u,y,E,R,N)},intersectLine:function(u,y,E,R,N,j,dt){return function(u,y,E,R,N,j){var dt=E-u,gt=R-y;dt/=N,gt/=j;var pt=Math.sqrt(dt*dt+gt*gt),Ct=pt-1;if(Ct<0)return[];var Rt=Ct/pt;return[(E-u)*Rt+u,(R-y)*Rt+y]}(N,j,u,y,E/2+dt,R/2+dt)},checkPoint:function(u,y,E,R,N,j,dt){return qi(u,y,R,N,j,dt,E)}}},generateRoundPolygon:function(x,u){for(var y=new Array(2*u.length),E=0;E<u.length/2;E++){var N,R=2*E;N=E<u.length/2-1?2*(E+1):0,y[4*E]=u[R],y[4*E+1]=u[R+1];var j=u[N]-u[R],dt=u[N+1]-u[R+1],gt=Math.sqrt(j*j+dt*dt);y[4*E+2]=j/gt,y[4*E+3]=dt/gt}return this.nodeShapes[x]={renderer:this,name:x,points:y,draw:function(Ct,Rt,$t,ee,se){this.renderer.nodeShapeImpl("round-polygon",Ct,Rt,$t,ee,se,this.points)},intersectLine:function(Ct,Rt,$t,ee,se,qt,ge){return function(u,y,E,R,N,j,dt,gt){for(var Ct,pt=[],Rt=new Array(E.length),$t=j/2,ee=dt/2,se=yi(j,dt),qt=0;qt<E.length/4;qt++){var Ae,ge;ge=0===qt?E.length-2:4*qt-2,Ae=4*qt+2;var He=R+$t*E[4*qt],ze=N+ee*E[4*qt+1],ki=se/Math.tan(Math.acos(-E[ge]*E[Ae]-E[ge+1]*E[Ae+1])/2),Oi=He-ki*E[ge],ii=ze-ki*E[ge+1],Ti=He+ki*E[Ae],fi=ze+ki*E[Ae+1];0===qt?(Rt[E.length-2]=Oi,Rt[E.length-1]=ii):(Rt[4*qt-2]=Oi,Rt[4*qt-1]=ii),Rt[4*qt]=Ti,Rt[4*qt+1]=fi;var Ri=E[ge+1],Ii=-E[ge];Ri*E[Ae]+Ii*E[Ae+1]<0&&(Ri*=-1,Ii*=-1),0!==(Ct=an(u,y,R,N,Oi+Ri*se,ii+Ii*se,se)).length&&pt.push(Ct[0],Ct[1])}for(var mn=0;mn<Rt.length/4;mn++)0!==(Ct=Dn(u,y,R,N,Rt[4*mn],Rt[4*mn+1],Rt[4*mn+2],Rt[4*mn+3],!1)).length&&pt.push(Ct[0],Ct[1]);if(pt.length>2){for(var ln=[pt[0],pt[1]],dn=Math.pow(ln[0]-u,2)+Math.pow(ln[1]-y,2),un=1;un<pt.length/2;un++){var fn=Math.pow(pt[2*un]-u,2)+Math.pow(pt[2*un+1]-y,2);fn<=dn&&(ln[0]=pt[2*un],ln[1]=pt[2*un+1],dn=fn)}return ln}return pt}(se,qt,this.points,Ct,Rt,$t,ee)},checkPoint:function(Ct,Rt,$t,ee,se,qt,ge){return function(u,y,E,R,N,j,dt){for(var gt=new Array(E.length),pt=j/2,Ct=dt/2,Rt=yi(j,dt),$t=Rt*Rt,ee=0;ee<E.length/4;ee++){var qt,se;se=0===ee?E.length-2:4*ee-2,qt=4*ee+2;var ge=R+pt*E[4*ee],Ae=N+Ct*E[4*ee+1],ze=Rt/Math.tan(Math.acos(-E[se]*E[qt]-E[se+1]*E[qt+1])/2),ri=ge-ze*E[se],ki=Ae-ze*E[se+1],Oi=ge+ze*E[qt],ii=Ae+ze*E[qt+1];gt[4*ee]=ri,gt[4*ee+1]=ki,gt[4*ee+2]=Oi,gt[4*ee+3]=ii;var Ti=E[se+1],fi=-E[se];Ti*E[qt]+fi*E[qt+1]<0&&(Ti*=-1,fi*=-1);var Ci=ki+fi*Rt;if(Math.pow(ri+Ti*Rt-u,2)+Math.pow(Ci-y,2)<=$t)return!0}return _i(u,y,gt)}(Ct,Rt,this.points,qt,ge,ee,se)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Le(4,0),draw:function(u,y,E,R,N){this.renderer.nodeShapeImpl(this.name,u,y,E,R,N)},intersectLine:function(u,y,E,R,N,j,dt){return za(N,j,u,y,E,R,dt)},checkPoint:function(u,y,E,R,N,j,dt){var gt=vi(R,N),pt=2*gt;return!!(be(u,y,this.points,j,dt,R,N-pt,[0,-1],E)||be(u,y,this.points,j,dt,R-pt,N,[0,-1],E)||qi(u,y,pt,pt,j-R/2+gt,dt-N/2+gt,E)||qi(u,y,pt,pt,j+R/2-gt,dt-N/2+gt,E)||qi(u,y,pt,pt,j+R/2-gt,dt+N/2-gt,E)||qi(u,y,pt,pt,j-R/2+gt,dt+N/2-gt,E))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:Le(4,0),draw:function(u,y,E,R,N){this.renderer.nodeShapeImpl(this.name,u,y,E,R,N)},generateCutTrianglePts:function(u,y,E,R){var N=this.cornerLength,j=y/2,dt=u/2,gt=E-dt,pt=E+dt,Ct=R-j,Rt=R+j;return{topLeft:[gt,Ct+N,gt+N,Ct,gt+N,Ct+N],topRight:[pt-N,Ct,pt,Ct+N,pt-N,Ct+N],bottomRight:[pt,Rt-N,pt-N,Rt,pt-N,Rt-N],bottomLeft:[gt+N,Rt,gt,Rt-N,gt+N,Rt-N]}},intersectLine:function(u,y,E,R,N,j,dt){var gt=this.generateCutTrianglePts(E+2*dt,R+2*dt,u,y),pt=[].concat.apply([],[gt.topLeft.splice(0,4),gt.topRight.splice(0,4),gt.bottomRight.splice(0,4),gt.bottomLeft.splice(0,4)]);return Pn(N,j,pt,u,y)},checkPoint:function(u,y,E,R,N,j,dt){if(be(u,y,this.points,j,dt,R,N-2*this.cornerLength,[0,-1],E)||be(u,y,this.points,j,dt,R-2*this.cornerLength,N,[0,-1],E))return!0;var gt=this.generateCutTrianglePts(R,N,j,dt);return _i(u,y,gt.topLeft)||_i(u,y,gt.topRight)||_i(u,y,gt.bottomRight)||_i(u,y,gt.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Le(4,0),draw:function(u,y,E,R,N){this.renderer.nodeShapeImpl(this.name,u,y,E,R,N)},intersectLine:function(u,y,E,R,N,j,dt){var Rt=this.generateBarrelBezierPts(E+2*dt,R+2*dt,u,y),$t=function(qt){var ge=ns({x:qt[0],y:qt[1]},{x:qt[2],y:qt[3]},{x:qt[4],y:qt[5]},.15),Ae=ns({x:qt[0],y:qt[1]},{x:qt[2],y:qt[3]},{x:qt[4],y:qt[5]},.5),He=ns({x:qt[0],y:qt[1]},{x:qt[2],y:qt[3]},{x:qt[4],y:qt[5]},.85);return[qt[0],qt[1],ge.x,ge.y,Ae.x,Ae.y,He.x,He.y,qt[4],qt[5]]},ee=[].concat($t(Rt.topLeft),$t(Rt.topRight),$t(Rt.bottomRight),$t(Rt.bottomLeft));return Pn(N,j,ee,u,y)},generateBarrelBezierPts:function(u,y,E,R){var N=y/2,j=u/2,dt=E-j,gt=E+j,pt=R-N,Ct=R+N,Rt=Cr(u,y),$t=Rt.heightOffset,ee=Rt.widthOffset,se=Rt.ctrlPtOffsetPct*u,qt={topLeft:[dt,pt+$t,dt+se,pt,dt+ee,pt],topRight:[gt-ee,pt,gt-se,pt,gt,pt+$t],bottomRight:[gt,Ct-$t,gt-se,Ct,gt-ee,Ct],bottomLeft:[dt+ee,Ct,dt+se,Ct,dt,Ct-$t]};return qt.topLeft.isTop=!0,qt.topRight.isTop=!0,qt.bottomLeft.isBottom=!0,qt.bottomRight.isBottom=!0,qt},checkPoint:function(u,y,E,R,N,j,dt){var gt=Cr(R,N),Ct=gt.widthOffset;if(be(u,y,this.points,j,dt,R,N-2*gt.heightOffset,[0,-1],E)||be(u,y,this.points,j,dt,R-2*Ct,N,[0,-1],E))return!0;for(var Rt=this.generateBarrelBezierPts(R,N,j,dt),$t=function(ii,Ti,fi){var Ri=fi[4],Ii=fi[2],Ci=fi[0],Ki=fi[5],Ai=fi[1],mn=Math.min(Ri,Ci),ln=Math.max(Ri,Ci),dn=Math.min(Ki,Ai),un=Math.max(Ki,Ai);if(mn<=ii&&ii<=ln&&dn<=Ti&&Ti<=un){var fn=function(u,y,E){return[u-2*y+E,2*(y-u),u]}(Ri,Ii,Ci),Nn=function(u,y,E,R){var N=y*y-4*u*(E-=R);if(N<0)return[];var j=Math.sqrt(N),dt=2*u;return[(-y+j)/dt,(-y-j)/dt]}(fn[0],fn[1],fn[2],ii),Cn=Nn.filter(function(Ji){return 0<=Ji&&Ji<=1});if(Cn.length>0)return Cn[0]}return null},ee=Object.keys(Rt),se=0;se<ee.length;se++){var ge=Rt[ee[se]],Ae=$t(u,y,ge);if(null!=Ae){var ki=Go(ge[5],ge[3],ge[1],Ae);if(ge.isTop&&ki<=y||ge.isBottom&&y<=ki)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Le(4,0),draw:function(u,y,E,R,N){this.renderer.nodeShapeImpl(this.name,u,y,E,R,N)},intersectLine:function(u,y,E,R,N,j,dt){var pt=y-(R/2+dt),$t=Dn(N,j,u,y,u-(E/2+dt),pt,u+(E/2+dt),pt,!1);return $t.length>0?$t:za(N,j,u,y,E,R,dt)},checkPoint:function(u,y,E,R,N,j,dt){var gt=vi(R,N),pt=2*gt;if(be(u,y,this.points,j,dt,R,N-pt,[0,-1],E)||be(u,y,this.points,j,dt,R-pt,N,[0,-1],E))return!0;var Ct=R/2+2*E,Rt=N/2+2*E;return!!(_i(u,y,[j-Ct,dt-Rt,j-Ct,dt,j+Ct,dt,j+Ct,dt-Rt])||qi(u,y,pt,pt,j+R/2-gt,dt+N/2-gt,E)||qi(u,y,pt,pt,j-R/2+gt,dt+N/2-gt,E))}}},registerNodeShapes:function(){var x=this.nodeShapes={},u=this;this.generateEllipse(),this.generatePolygon("triangle",Le(3,0)),this.generateRoundPolygon("round-triangle",Le(3,0)),this.generatePolygon("rectangle",Le(4,0)),x.square=x.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var y=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",y),this.generateRoundPolygon("round-diamond",y),this.generatePolygon("pentagon",Le(5,0)),this.generateRoundPolygon("round-pentagon",Le(5,0)),this.generatePolygon("hexagon",Le(6,0)),this.generateRoundPolygon("round-hexagon",Le(6,0)),this.generatePolygon("heptagon",Le(7,0)),this.generateRoundPolygon("round-heptagon",Le(7,0)),this.generatePolygon("octagon",Le(8,0)),this.generateRoundPolygon("round-octagon",Le(8,0));var E=new Array(20),R=Ve(5,0),N=Ve(5,Math.PI/5),j=.5*(3-Math.sqrt(5));j*=1.57;for(var dt=0;dt<N.length/2;dt++)N[2*dt]*=j,N[2*dt+1]*=j;for(dt=0;dt<5;dt++)E[4*dt]=R[2*dt],E[4*dt+1]=R[2*dt+1],E[4*dt+2]=N[2*dt],E[4*dt+3]=N[2*dt+1];E=me(E),this.generatePolygon("star",E),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var gt=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",gt),this.generateRoundPolygon("round-tag",gt),x.makePolygon=function(pt){var $t,Rt="polygon-"+pt.join("$");return($t=this[Rt])?$t:u.generatePolygon(Rt,pt)}}},jc={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(x){x=x||Li();var u=this;void 0===u.averageRedrawTime&&(u.averageRedrawTime=0),void 0===u.lastRedrawTime&&(u.lastRedrawTime=0),void 0===u.lastDrawTime&&(u.lastDrawTime=0),u.requestedFrame=!0,u.renderOptions=x},beforeRender:function(x,u){if(!this.destroyed){null==u&&pi("Priority is not optional for beforeRender");var y=this.beforeRenderCallbacks;y.push({fn:x,priority:u}),y.sort(function(E,R){return R.priority-E.priority})}}},Ea=function(u,y,E){for(var R=u.beforeRenderCallbacks,N=0;N<R.length;N++)R[N].fn(y,E)};jc.startRenderLoop=function(){var x=this,u=x.cy;x.renderLoopStarted||(x.renderLoopStarted=!0,ce(function E(R){if(!x.destroyed){if(!u.batching())if(x.requestedFrame&&!x.skipFrame){Ea(x,!0,R);var N=ke();x.render(x.renderOptions);var j=x.lastDrawTime=ke();void 0===x.averageRedrawTime&&(x.averageRedrawTime=j-N),void 0===x.redrawCount&&(x.redrawCount=0),x.redrawCount++,void 0===x.redrawTotalTime&&(x.redrawTotalTime=0);var dt=j-N;x.redrawTotalTime+=dt,x.lastRedrawTime=dt,x.averageRedrawTime=x.averageRedrawTime/2+dt/2,x.requestedFrame=!1}else Ea(x,!1,R);x.skipFrame=!1,ce(E)}}))};var Os=function(u){this.init(u)},al=Os.prototype;al.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],al.init=function(x){var u=this;u.options=x,u.cy=x.cy;var y=u.container=x.cy.container();if(B){var E=B.document,R=E.head,N="__________cytoscape_stylesheet",j="__________cytoscape_container",dt=null!=E.getElementById(N);if(y.className.indexOf(j)<0&&(y.className=(y.className||"")+" "+j),!dt){var gt=E.createElement("style");gt.id=N,gt.innerHTML="."+j+" { position: relative; }",R.insertBefore(gt,R.children[0])}"static"===B.getComputedStyle(y).getPropertyValue("position")&&$e("A Cytoscape container has style position:static and so can not use UI extensions properly")}u.selection=[void 0,void 0,void 0,void 0,0],u.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],u.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},u.dragData={possibleDragElements:[]},u.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},u.redraws=0,u.showFps=x.showFps,u.debug=x.debug,u.hideEdgesOnViewport=x.hideEdgesOnViewport,u.textureOnViewport=x.textureOnViewport,u.wheelSensitivity=x.wheelSensitivity,u.motionBlurEnabled=x.motionBlur,u.forcedPixelRatio=Et(x.pixelRatio)?x.pixelRatio:null,u.motionBlur=x.motionBlur,u.motionBlurOpacity=x.motionBlurOpacity,u.motionBlurTransparency=1-u.motionBlurOpacity,u.motionBlurPxRatio=1,u.mbPxRBlurry=1,u.minMbLowQualFrames=4,u.fullQualityMb=!1,u.clearedForMotionBlur=[],u.desktopTapThreshold=x.desktopTapThreshold,u.desktopTapThreshold2=x.desktopTapThreshold*x.desktopTapThreshold,u.touchTapThreshold=x.touchTapThreshold,u.touchTapThreshold2=x.touchTapThreshold*x.touchTapThreshold,u.tapholdDuration=500,u.bindings=[],u.beforeRenderCallbacks=[],u.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},u.registerNodeShapes(),u.registerArrowShapes(),u.registerCalculationListeners()},al.notify=function(x,u){var y=this,E=y.cy;if(!this.destroyed){if("init"===x)return void y.load();if("destroy"===x)return void y.destroy();("add"===x||"remove"===x||"move"===x&&E.hasCompoundNodes()||"load"===x||"zorder"===x||"mount"===x)&&y.invalidateCachedZSortedEles(),"viewport"===x&&y.redrawHint("select",!0),("load"===x||"resize"===x||"mount"===x)&&(y.invalidateContainerClientCoordsCache(),y.matchCanvasSize(y.container)),y.redrawHint("eles",!0),y.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},al.destroy=function(){var x=this;x.destroyed=!0,x.cy.stopAnimationLoop();for(var u=0;u<x.bindings.length;u++){var y=x.bindings[u],R=y.target;(R.off||R.removeEventListener).apply(R,y.args)}if(x.bindings=[],x.beforeRenderCallbacks=[],x.onUpdateEleCalcsFns=[],x.removeObserver&&x.removeObserver.disconnect(),x.styleObserver&&x.styleObserver.disconnect(),x.resizeObserver&&x.resizeObserver.disconnect(),x.labelCalcDiv)try{document.body.removeChild(x.labelCalcDiv)}catch(N){}},al.isHeadless=function(){return!1},[Fc,Wr,bl,ha,Ra,jc].forEach(function(x){Pt(al,x)});var zc=1e3/60,ad_setupDequeueing=function(u){return function(){var E=this,R=this.renderer;if(!E.dequeueingSetup){E.dequeueingSetup=!0;var N=f(function(){R.redrawHint("eles",!0),R.redrawHint("drag",!0),R.redraw()},u.deqRedrawThreshold);R.beforeRender(function(pt,Ct){var Rt=ke(),$t=R.averageRedrawTime,ee=R.lastRedrawTime,se=[],qt=R.cy.extent(),ge=R.getPixelRatio();for(pt||R.flushRenderedStyleQueue();;){var Ae=ke(),He=Ae-Rt,ze=Ae-Ct;if(ee<zc){if(ze>=u.deqFastCost*(zc-(pt?$t:0)))break}else if(pt){if(He>=u.deqCost*ee||He>=u.deqAvgCost*$t)break}else if(ze>=u.deqNoDrawCost*zc)break;var ki=u.deq(E,ge,qt);if(!(ki.length>0))break;for(var Oi=0;Oi<ki.length;Oi++)se.push(ki[Oi])}se.length>0&&(u.onDeqd(E,se),!pt&&u.shouldRedraw(E,se,ge,qt)&&N())},(u.priority||Re)(E))}}},Is=function(){function x(u){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xe;b(this,x),this.idsByKey=new Ui,this.keyForId=new Ui,this.cachesByLvl=new Ui,this.lvls=[],this.getKey=u,this.doesEleInvalidateKey=y}return G(x,[{key:"getIdsFor",value:function(y){null==y&&pi("Can not get id list for null key");var E=this.idsByKey,R=this.idsByKey.get(y);return R||(R=new mr,E.set(y,R)),R}},{key:"addIdForKey",value:function(y,E){null!=y&&this.getIdsFor(y).add(E)}},{key:"deleteIdForKey",value:function(y,E){null!=y&&this.getIdsFor(y).delete(E)}},{key:"getNumberOfIdsForKey",value:function(y){return null==y?0:this.getIdsFor(y).size}},{key:"updateKeyMappingFor",value:function(y){var E=y.id(),R=this.keyForId.get(E),N=this.getKey(y);this.deleteIdForKey(R,E),this.addIdForKey(N,E),this.keyForId.set(E,N)}},{key:"deleteKeyMappingFor",value:function(y){var E=y.id(),R=this.keyForId.get(E);this.deleteIdForKey(R,E),this.keyForId.delete(E)}},{key:"keyHasChangedFor",value:function(y){var E=y.id();return this.keyForId.get(E)!==this.getKey(y)}},{key:"isInvalid",value:function(y){return this.keyHasChangedFor(y)||this.doesEleInvalidateKey(y)}},{key:"getCachesAt",value:function(y){var E=this.cachesByLvl,R=this.lvls,N=E.get(y);return N||(N=new Ui,E.set(y,N),R.push(y)),N}},{key:"getCache",value:function(y,E){return this.getCachesAt(E).get(y)}},{key:"get",value:function(y,E){var R=this.getKey(y),N=this.getCache(R,E);return null!=N&&this.updateKeyMappingFor(y),N}},{key:"getForCachedKey",value:function(y,E){var R=this.keyForId.get(y.id());return this.getCache(R,E)}},{key:"hasCache",value:function(y,E){return this.getCachesAt(E).has(y)}},{key:"has",value:function(y,E){var R=this.getKey(y);return this.hasCache(R,E)}},{key:"setCache",value:function(y,E,R){R.key=y,this.getCachesAt(E).set(y,R)}},{key:"set",value:function(y,E,R){var N=this.getKey(y);this.setCache(N,E,R),this.updateKeyMappingFor(y)}},{key:"deleteCache",value:function(y,E){this.getCachesAt(E).delete(y)}},{key:"delete",value:function(y,E){var R=this.getKey(y);this.deleteCache(R,E)}},{key:"invalidateKey",value:function(y){var E=this;this.lvls.forEach(function(R){return E.deleteCache(y,R)})}},{key:"invalidate",value:function(y){var E=y.id(),R=this.keyForId.get(E);this.deleteKeyMappingFor(y);var N=this.doesEleInvalidateKey(y);return N&&this.invalidateKey(R),N||0===this.getNumberOfIdsForKey(R)}}]),x}(),yc={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Ju=Ln({getKey:null,doesEleInvalidateKey:xe,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Ut,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),wh=function(u,y){var E=this;E.renderer=u,E.onDequeues=[];var R=Ju(y);Pt(E,R),E.lookup=new Is(R.getKey,R.doesEleInvalidateKey),E.setupDequeueing()},ll=wh.prototype;ll.reasons=yc,ll.getTextureQueue=function(x){var u=this;return u.eleImgCaches=u.eleImgCaches||{},u.eleImgCaches[x]=u.eleImgCaches[x]||[]},ll.getRetiredTextureQueue=function(x){var y=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return y[x]=y[x]||[]},ll.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new J(function(y,E){return E.reqs-y.reqs})},ll.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},ll.getElement=function(x,u,y,E,R){var N=this,j=this.renderer,dt=j.cy.zoom(),gt=this.lookup;if(!u||0===u.w||0===u.h||isNaN(u.w)||isNaN(u.h)||!x.visible()||x.removed()||!N.allowEdgeTxrCaching&&x.isEdge()||!N.allowParentTxrCaching&&x.isParent())return null;if(null==E&&(E=Math.ceil(Tl(dt*y))),E<-4)E=-4;else if(dt>=7.99||E>3)return null;var pt=Math.pow(2,E),Ct=u.h*pt,Rt=u.w*pt,$t=j.eleTextBiggerThanMin(x,pt);if(!this.isVisible(x,$t))return null;var se,ee=gt.get(x,E);if(ee&&ee.invalidated&&(ee.invalidated=!1,ee.texture.invalidatedWidth-=ee.width),ee)return ee;if(se=Ct<=25?25:Ct<=50?50:50*Math.ceil(Ct/50),Ct>1024||Rt>1024)return null;var qt=N.getTextureQueue(se),ge=qt[qt.length-2],Ae=function(){return N.recycleTexture(se,Rt)||N.addTexture(se,Rt)};ge||(ge=qt[qt.length-1]),ge||(ge=Ae()),ge.width-ge.usedWidth<Rt&&(ge=Ae());for(var Oi,He=function(ln){return ln&&ln.scaledLabelShown===$t},ze=R&&R===yc.dequeue,ri=R&&R===yc.highQuality,ki=R&&R===yc.downscale,ii=E+1;ii<=3;ii++){var Ti=gt.get(x,ii);if(Ti){Oi=Ti;break}}var fi=Oi&&Oi.level===E+1?Oi:null,Ri=function(){ge.context.drawImage(fi.texture.canvas,fi.x,0,fi.width,fi.height,ge.usedWidth,0,Rt,Ct)};if(ge.context.setTransform(1,0,0,1,0,0),ge.context.clearRect(ge.usedWidth,0,Rt,se),He(fi))Ri();else if(He(Oi)){if(!ri)return N.queueElement(x,Oi.level-1),Oi;for(var Ii=Oi.level;Ii>E;Ii--)fi=N.getElement(x,u,y,Ii,yc.downscale);Ri()}else{var Ci;if(!ze&&!ri&&!ki)for(var Ki=E-1;Ki>=-4;Ki--){var Ai=gt.get(x,Ki);if(Ai){Ci=Ai;break}}if(He(Ci))return N.queueElement(x,E),Ci;ge.context.translate(ge.usedWidth,0),ge.context.scale(pt,pt),this.drawElement(ge.context,x,u,$t,!1),ge.context.scale(1/pt,1/pt),ge.context.translate(-ge.usedWidth,0)}return ee={x:ge.usedWidth,texture:ge,level:E,scale:pt,width:Rt,height:Ct,scaledLabelShown:$t},ge.usedWidth+=Math.ceil(Rt+8),ge.eleCaches.push(ee),gt.set(x,E,ee),N.checkTextureFullness(ge),ee},ll.invalidateElements=function(x){for(var u=0;u<x.length;u++)this.invalidateElement(x[u])},ll.invalidateElement=function(x){var u=this,y=u.lookup,E=[];if(y.isInvalid(x)){for(var N=-4;N<=3;N++){var j=y.getForCachedKey(x,N);j&&E.push(j)}if(y.invalidate(x))for(var gt=0;gt<E.length;gt++){var pt=E[gt],Ct=pt.texture;Ct.invalidatedWidth+=pt.width,pt.invalidated=!0,u.checkTextureUtility(Ct)}u.removeFromQueue(x)}},ll.checkTextureUtility=function(x){x.invalidatedWidth>=.2*x.width&&this.retireTexture(x)},ll.checkTextureFullness=function(x){var y=this.getTextureQueue(x.height);x.usedWidth/x.width>.8&&x.fullnessChecks>=10?Kn(y,x):x.fullnessChecks++},ll.retireTexture=function(x){var y=x.height,E=this.getTextureQueue(y),R=this.lookup;Kn(E,x),x.retired=!0;for(var N=x.eleCaches,j=0;j<N.length;j++){var dt=N[j];R.deleteCache(dt.key,dt.level)}pr(N),this.getRetiredTextureQueue(y).push(x)},ll.addTexture=function(x,u){var R={};return this.getTextureQueue(x).push(R),R.eleCaches=[],R.height=x,R.width=Math.max(1024,u),R.usedWidth=0,R.invalidatedWidth=0,R.fullnessChecks=0,R.canvas=this.renderer.makeOffscreenCanvas(R.width,R.height),R.context=R.canvas.getContext("2d"),R},ll.recycleTexture=function(x,u){for(var E=this.getTextureQueue(x),R=this.getRetiredTextureQueue(x),N=0;N<R.length;N++){var j=R[N];if(j.width>=u)return j.retired=!1,j.usedWidth=0,j.invalidatedWidth=0,j.fullnessChecks=0,pr(j.eleCaches),j.context.setTransform(1,0,0,1,0,0),j.context.clearRect(0,0,j.width,j.height),Kn(R,j),E.push(j),j}},ll.queueElement=function(x,u){var E=this.getElementQueue(),R=this.getElementKeyToQueue(),N=this.getKey(x),j=R[N];if(j)j.level=Math.max(j.level,u),j.eles.merge(x),j.reqs++,E.updateItem(j);else{var dt={eles:x.spawn().merge(x),level:u,reqs:1,key:N};E.push(dt),R[N]=dt}},ll.dequeue=function(x){for(var u=this,y=u.getElementQueue(),E=u.getElementKeyToQueue(),R=[],N=u.lookup,j=0;j<1&&y.size()>0;j++){var dt=y.pop(),gt=dt.key,pt=dt.eles[0],Ct=N.hasCache(pt,dt.level);if(E[gt]=null,!Ct){R.push(dt);var Rt=u.getBoundingBox(pt);u.getElement(pt,Rt,x,dt.level,yc.dequeue)}}return R},ll.removeFromQueue=function(x){var y=this.getElementQueue(),E=this.getElementKeyToQueue(),R=this.getKey(x),N=E[R];null!=N&&(1===N.eles.length?(N.reqs=Zt,y.updateItem(N),y.pop(),E[R]=null):N.eles.unmerge(x))},ll.onDequeue=function(x){this.onDequeues.push(x)},ll.offDequeue=function(x){Kn(this.onDequeues,x)},ll.setupDequeueing=ad_setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(u,y,E){return u.dequeue(y,E)},onDeqd:function(u,y){for(var E=0;E<u.onDequeues.length;E++)(0,u.onDequeues[E])(y)},shouldRedraw:function(u,y,E,R){for(var N=0;N<y.length;N++)for(var j=y[N].eles,dt=0;dt<j.length;dt++){var gt=j[dt].boundingBox();if(hh(gt,R))return!0}return!1},priority:function(u){return u.renderer.beforeRenderPriorities.eleTxrDeq}});var op=function(u){var y=this,E=y.renderer=u,R=E.cy;y.layersByLevel={},y.firstGet=!0,y.lastInvalidationTime=ke()-500,y.skipping=!1,y.eleTxrDeqs=R.collection(),y.scheduleElementRefinement=f(function(){y.refineElementTextures(y.eleTxrDeqs),y.eleTxrDeqs.unmerge(y.eleTxrDeqs)},50),E.beforeRender(function(j,dt){y.skipping=dt-y.lastInvalidationTime<=250},E.beforeRenderPriorities.lyrTxrSkip),y.layersQueue=new J(function(dt,gt){return gt.reqs-dt.reqs}),y.setupDequeueing()},hl=op.prototype,im=0,nm=Math.pow(2,53)-1;hl.makeLayer=function(x,u){var y=Math.pow(2,u),E=Math.ceil(x.w*y),R=Math.ceil(x.h*y),N=this.renderer.makeOffscreenCanvas(E,R),j={id:im=++im%nm,bb:x,level:u,width:E,height:R,canvas:N,context:N.getContext("2d"),eles:[],elesQueue:[],reqs:0},dt=j.context,gt=-j.bb.x1,pt=-j.bb.y1;return dt.scale(y,y),dt.translate(gt,pt),j},hl.getLayers=function(x,u,y){var E=this,j=E.renderer.cy.zoom(),dt=E.firstGet;if(E.firstGet=!1,null==y)if((y=Math.ceil(Tl(j*u)))<-4)y=-4;else if(j>=3.99||y>2)return null;E.validateLayersElesOrdering(y,x);var Rt,ee,gt=E.layersByLevel,pt=Math.pow(2,y),Ct=gt[y]=gt[y]||[];if(E.levelIsComplete(y,x))return Ct;!function(){var Ri=function(mn){if(E.validateLayersElesOrdering(mn,x),E.levelIsComplete(mn,x))return ee=gt[mn],!0},Ii=function(mn){if(!ee)for(var ln=y+mn;-4<=ln&&ln<=2&&!Ri(ln);ln+=mn);};Ii(1),Ii(-1);for(var Ci=Ct.length-1;Ci>=0;Ci--){var Ki=Ct[Ci];Ki.invalid&&Kn(Ct,Ki)}}();var ge=function(Ri){var Ii=(Ri=Ri||{}).after;if(function(){if(!Rt){Rt=ko();for(var Ri=0;Ri<x.length;Ri++)Rs(Rt,x[Ri].boundingBox())}}(),Rt.w*pt*(Rt.h*pt)>16e6)return null;var Ki=E.makeLayer(Rt,y);if(null!=Ii){var Ai=Ct.indexOf(Ii)+1;Ct.splice(Ai,0,Ki)}else(void 0===Ri.insert||Ri.insert)&&Ct.unshift(Ki);return Ki};if(E.skipping&&!dt)return null;for(var Ae=null,He=x.length/1,ze=!dt,ri=0;ri<x.length;ri++){var ki=x[ri],Oi=ki._private.rscratch,ii=Oi.imgLayerCaches=Oi.imgLayerCaches||{},Ti=ii[y];if(Ti)Ae=Ti;else{if((!Ae||Ae.eles.length>=He||!Iu(Ae.bb,ki.boundingBox()))&&!(Ae=ge({insert:!0,after:Ae})))return null;ee||ze?E.queueLayer(Ae,ki):E.drawEleInLayer(Ae,ki,y,u),Ae.eles.push(ki),ii[y]=Ae}}return ee||(ze?null:Ct)},hl.getEleLevelForLayerLevel=function(x,u){return x},hl.drawEleInLayer=function(x,u,y,E){var N=this.renderer,j=x.context,dt=u.boundingBox();0===dt.w||0===dt.h||!u.visible()||(y=this.getEleLevelForLayerLevel(y,E),N.setImgSmoothing(j,!1),N.drawCachedElement(j,u,null,null,y,!0),N.setImgSmoothing(j,!0))},hl.levelIsComplete=function(x,u){var E=this.layersByLevel[x];if(!E||0===E.length)return!1;for(var R=0,N=0;N<E.length;N++){var j=E[N];if(j.reqs>0||j.invalid)return!1;R+=j.eles.length}return R===u.length},hl.validateLayersElesOrdering=function(x,u){var y=this.layersByLevel[x];if(y)for(var E=0;E<y.length;E++){for(var R=y[E],N=-1,j=0;j<u.length;j++)if(R.eles[0]===u[j]){N=j;break}if(N<0)this.invalidateLayer(R);else{var dt=N;for(j=0;j<R.eles.length;j++)if(R.eles[j]!==u[dt+j]){this.invalidateLayer(R);break}}}},hl.updateElementsInLayers=function(x,u){for(var E=g(x[0]),R=0;R<x.length;R++)for(var N=E?null:x[R],j=E?x[R]:x[R].ele,dt=j._private.rscratch,gt=dt.imgLayerCaches=dt.imgLayerCaches||{},pt=-4;pt<=2;pt++){var Ct=gt[pt];!Ct||N&&this.getEleLevelForLayerLevel(Ct.level)!==N.level||u(Ct,j,N)}},hl.haveLayers=function(){for(var u=!1,y=-4;y<=2;y++){var E=this.layersByLevel[y];if(E&&E.length>0){u=!0;break}}return u},hl.invalidateElements=function(x){var u=this;0!==x.length&&(u.lastInvalidationTime=ke(),0!==x.length&&u.haveLayers()&&u.updateElementsInLayers(x,function(E,R,N){u.invalidateLayer(E)}))},hl.invalidateLayer=function(x){if(this.lastInvalidationTime=ke(),!x.invalid){var u=x.level,y=x.eles;Kn(this.layersByLevel[u],x),x.elesQueue=[],x.invalid=!0,x.replacement&&(x.replacement.invalid=!0);for(var R=0;R<y.length;R++){var N=y[R]._private.rscratch.imgLayerCaches;N&&(N[u]=null)}}},hl.refineElementTextures=function(x){var u=this;u.updateElementsInLayers(x,function(E,R,N){var j=E.replacement;if(j||((j=E.replacement=u.makeLayer(E.bb,E.level)).replaces=E,j.eles=E.eles),!j.reqs)for(var dt=0;dt<j.eles.length;dt++)u.queueLayer(j,j.eles[dt])})},hl.enqueueElementRefinement=function(x){this.eleTxrDeqs.merge(x),this.scheduleElementRefinement()},hl.queueLayer=function(x,u){var E=this.layersQueue,R=x.elesQueue,N=R.hasId=R.hasId||{};if(!x.replacement){if(u){if(N[u.id()])return;R.push(u),N[u.id()]=!0}x.reqs?(x.reqs++,E.updateItem(x)):(x.reqs=1,E.push(x))}},hl.dequeue=function(x){for(var u=this,y=u.layersQueue,E=[],R=0;R<1&&0!==y.size();){var N=y.peek();if(N.replacement)y.pop();else if(N.replaces&&N!==N.replaces.replacement)y.pop();else if(N.invalid)y.pop();else{var j=N.elesQueue.shift();j&&(u.drawEleInLayer(N,j,N.level,x),R++),0===E.length&&E.push(!0),0===N.elesQueue.length&&(y.pop(),N.reqs=0,N.replaces&&u.applyLayerReplacement(N),u.requestRedraw())}}return E},hl.applyLayerReplacement=function(x){var y=this.layersByLevel[x.level],E=x.replaces,R=y.indexOf(E);if(!(R<0||E.invalid)){y[R]=x;for(var N=0;N<x.eles.length;N++){var j=x.eles[N]._private,dt=j.imgLayerCaches=j.imgLayerCaches||{};dt&&(dt[x.level]=x)}this.requestRedraw()}},hl.requestRedraw=f(function(){var x=this.renderer;x.redrawHint("eles",!0),x.redrawHint("drag",!0),x.redraw()},100),hl.setupDequeueing=ad_setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(u,y){return u.dequeue(y)},onDeqd:Re,shouldRedraw:Ut,priority:function(u){return u.renderer.beforeRenderPriorities.lyrTxrDeq}});var cd,eu={};function Cg(x,u){for(var y=0;y<u.length;y++){var E=u[y];x.lineTo(E.x,E.y)}}function _u(x,u,y){for(var E,R=0;R<u.length;R++){var N=u[R];0===R&&(E=N),x.lineTo(N.x,N.y)}x.quadraticCurveTo(y.x,y.y,E.x,E.y)}function rs(x,u,y){x.beginPath&&x.beginPath();for(var E=u,R=0;R<E.length;R++)x.lineTo((N=E[R]).x,N.y);var j=y,dt=y[0];for(x.moveTo(dt.x,dt.y),R=1;R<j.length;R++){var N;x.lineTo((N=j[R]).x,N.y)}x.closePath&&x.closePath()}function rm(x,u,y,E,R){x.beginPath&&x.beginPath(),x.arc(y,E,R,0,2*Math.PI,!1);var N=u,j=N[0];x.moveTo(j.x,j.y);for(var dt=0;dt<N.length;dt++){var gt=N[dt];x.lineTo(gt.x,gt.y)}x.closePath&&x.closePath()}function om(x,u,y,E){x.arc(u,y,E,0,2*Math.PI,!1)}eu.arrowShapeImpl=function(x){return(cd||(cd={polygon:Cg,"triangle-backcurve":_u,"triangle-tee":rs,"circle-triangle":rm,"triangle-cross":rs,circle:om}))[x]};var iu={drawElement:function(x,u,y,E,R,N){u.isNode()?this.drawNode(x,u,y,E,R,N):this.drawEdge(x,u,y,E,R,N)},drawElementOverlay:function(x,u){u.isNode()?this.drawNodeOverlay(x,u):this.drawEdgeOverlay(x,u)},drawElementUnderlay:function(x,u){u.isNode()?this.drawNodeUnderlay(x,u):this.drawEdgeUnderlay(x,u)},drawCachedElementPortion:function(x,u,y,E,R,N,j,dt){var gt=this,pt=y.getBoundingBox(u);if(0!==pt.w&&0!==pt.h){var Ct=y.getElement(u,pt,E,R,N);if(null!=Ct){var Rt=dt(gt,u);if(0===Rt)return;var Ae,He,ze,ri,ki,Ti,$t=j(gt,u),ee=pt.x1,se=pt.y1,qt=pt.w,ge=pt.h;if(0!==$t){var Oi=y.getRotationPoint(u);x.translate(ze=Oi.x,ri=Oi.y),x.rotate($t),(ki=gt.getImgSmoothing(x))||gt.setImgSmoothing(x,!0);var ii=y.getRotationOffset(u);Ae=ii.x,He=ii.y}else Ae=ee,He=se;1!==Rt&&(x.globalAlpha=(Ti=x.globalAlpha)*Rt),x.drawImage(Ct.texture.canvas,Ct.x,0,Ct.width,Ct.height,Ae,He,qt,ge),1!==Rt&&(x.globalAlpha=Ti),0!==$t&&(x.rotate(-$t),x.translate(-ze,-ri),ki||gt.setImgSmoothing(x,!1))}else y.drawElement(x,u)}}},sp=function(){return 0},sr=function(u,y){return u.getTextAngle(y,null)},fd=function(u,y){return u.getTextAngle(y,"source")},Nm=function(u,y){return u.getTextAngle(y,"target")},r0=function(u,y){return y.effectiveOpacity()},ap=function(u,y){return y.pstyle("text-opacity").pfValue*y.effectiveOpacity()};iu.drawCachedElement=function(x,u,y,E,R,N){var j=this,dt=j.data,gt=dt.eleTxrCache,pt=dt.lblTxrCache,Ct=dt.slbTxrCache,Rt=dt.tlbTxrCache,$t=u.boundingBox(),ee=!0===N?gt.reasons.highQuality:null;if(0!==$t.w&&0!==$t.h&&u.visible()&&(!E||hh($t,E))){var se=u.isEdge(),qt=u.element()._private.rscratch.badLine;j.drawElementUnderlay(x,u),j.drawCachedElementPortion(x,u,gt,y,R,ee,sp,r0),(!se||!qt)&&j.drawCachedElementPortion(x,u,pt,y,R,ee,sr,ap),se&&!qt&&(j.drawCachedElementPortion(x,u,Ct,y,R,ee,fd,ap),j.drawCachedElementPortion(x,u,Rt,y,R,ee,Nm,ap)),j.drawElementOverlay(x,u)}},iu.drawElements=function(x,u){for(var E=0;E<u.length;E++)this.drawElement(x,u[E])},iu.drawCachedElements=function(x,u,y,E){for(var N=0;N<u.length;N++)this.drawCachedElement(x,u[N],y,E)},iu.drawCachedNodes=function(x,u,y,E){for(var N=0;N<u.length;N++){var j=u[N];!j.isNode()||this.drawCachedElement(x,j,y,E)}},iu.drawLayeredElements=function(x,u,y,E){var N=this.data.lyrTxrCache.getLayers(u,y);if(N)for(var j=0;j<N.length;j++){var dt=N[j],gt=dt.bb;0===gt.w||0===gt.h||x.drawImage(dt.canvas,gt.x1,gt.y1,gt.w,gt.h)}else this.drawCachedElements(x,u,y,E)};var nu={drawEdge:function(x,u,y){var E=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],R=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],N=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],j=this,dt=u._private.rscratch;if((!N||u.visible())&&!dt.badLine&&null!=dt.allpts&&!isNaN(dt.allpts[0])){var gt;y&&x.translate(-(gt=y).x1,-gt.y1);var pt=N?u.pstyle("opacity").value:1,Ct=N?u.pstyle("line-opacity").value:1,Rt=u.pstyle("curve-style").value,$t=u.pstyle("line-style").value,ee=u.pstyle("width").pfValue,se=u.pstyle("line-cap").value,qt=pt*Ct,ge=pt*Ct,Ae=function(){var Ci=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt;"straight-triangle"===Rt?(j.eleStrokeStyle(x,u,Ci),j.drawEdgeTrianglePath(u,x,dt.allpts)):(x.lineWidth=ee,x.lineCap=se,j.eleStrokeStyle(x,u,Ci),j.drawEdgePath(u,x,dt.allpts,$t),x.lineCap="butt")},He=function(){!R||j.drawEdgeOverlay(x,u)},ze=function(){!R||j.drawEdgeUnderlay(x,u)},ri=function(){var Ci=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge;j.drawArrowheads(x,u,Ci)},ki=function(){j.drawElementText(x,u,null,E)};x.lineJoin="round";var Oi="yes"===u.pstyle("ghost").value;if(Oi){var ii=u.pstyle("ghost-offset-x").pfValue,Ti=u.pstyle("ghost-offset-y").pfValue,fi=u.pstyle("ghost-opacity").value,Ri=qt*fi;x.translate(ii,Ti),Ae(Ri),ri(Ri),x.translate(-ii,-Ti)}ze(),Ae(),ri(),He(),ki(),y&&x.translate(gt.x1,gt.y1)}}},jo=function(u){if(!["overlay","underlay"].includes(u))throw new Error("Invalid state");return function(y,E){if(E.visible()){var R=E.pstyle("".concat(u,"-opacity")).value;if(0!==R){var N=this,j=N.usePaths(),dt=E._private.rscratch,pt=2*E.pstyle("".concat(u,"-padding")).pfValue,Ct=E.pstyle("".concat(u,"-color")).value;y.lineWidth=pt,y.lineCap="self"!==dt.edgeType||j?"round":"butt",N.colorStrokeStyle(y,Ct[0],Ct[1],Ct[2],R),N.drawEdgePath(E,y,dt.allpts,"solid")}}}};nu.drawEdgeOverlay=jo("overlay"),nu.drawEdgeUnderlay=jo("underlay"),nu.drawEdgePath=function(x,u,y,E){var j,R=x._private.rscratch,N=u,dt=!1,gt=this.usePaths(),pt=x.pstyle("line-dash-pattern").pfValue,Ct=x.pstyle("line-dash-offset").pfValue;if(gt){var Rt=y.join("$");R.pathCacheKey&&R.pathCacheKey===Rt?(j=u=R.pathCache,dt=!0):(j=u=new Path2D,R.pathCacheKey=Rt,R.pathCache=j)}if(N.setLineDash)switch(E){case"dotted":N.setLineDash([1,1]);break;case"dashed":N.setLineDash(pt),N.lineDashOffset=Ct;break;case"solid":N.setLineDash([])}if(!dt&&!R.badLine)switch(u.beginPath&&u.beginPath(),u.moveTo(y[0],y[1]),R.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var ee=2;ee+3<y.length;ee+=4)u.quadraticCurveTo(y[ee],y[ee+1],y[ee+2],y[ee+3]);break;case"straight":case"segments":case"haystack":for(var se=2;se+1<y.length;se+=2)u.lineTo(y[se],y[se+1])}u=N,gt?u.stroke(j):u.stroke(),u.setLineDash&&u.setLineDash([])},nu.drawEdgeTrianglePath=function(x,u,y){u.fillStyle=u.strokeStyle;for(var E=x.pstyle("width").pfValue,R=0;R+1<y.length;R+=2){var N=[y[R+2]-y[R],y[R+3]-y[R+1]],j=Math.sqrt(N[0]*N[0]+N[1]*N[1]),dt=[N[1]/j,-N[0]/j],gt=[dt[0]*E/2,dt[1]*E/2];u.beginPath(),u.moveTo(y[R]-gt[0],y[R+1]-gt[1]),u.lineTo(y[R]+gt[0],y[R+1]+gt[1]),u.lineTo(y[R+2],y[R+3]),u.closePath(),u.fill()}},nu.drawArrowheads=function(x,u,y){var E=u._private.rscratch,R="haystack"===E.edgeType;R||this.drawArrowhead(x,u,"source",E.arrowStartX,E.arrowStartY,E.srcArrowAngle,y),this.drawArrowhead(x,u,"mid-target",E.midX,E.midY,E.midtgtArrowAngle,y),this.drawArrowhead(x,u,"mid-source",E.midX,E.midY,E.midsrcArrowAngle,y),R||this.drawArrowhead(x,u,"target",E.arrowEndX,E.arrowEndY,E.tgtArrowAngle,y)},nu.drawArrowhead=function(x,u,y,E,R,N,j){if(!(isNaN(E)||null==E||isNaN(R)||null==R||isNaN(N)||null==N)){var dt=this,gt=u.pstyle(y+"-arrow-shape").value;if("none"!==gt){var pt="hollow"===u.pstyle(y+"-arrow-fill").value?"both":"filled",Ct=u.pstyle(y+"-arrow-fill").value,Rt=u.pstyle("width").pfValue,$t=u.pstyle("opacity").value;void 0===j&&(j=$t);var ee=x.globalCompositeOperation;(1!==j||"hollow"===Ct)&&(x.globalCompositeOperation="destination-out",dt.colorFillStyle(x,255,255,255,1),dt.colorStrokeStyle(x,255,255,255,1),dt.drawArrowShape(u,x,pt,Rt,gt,E,R,N),x.globalCompositeOperation=ee);var se=u.pstyle(y+"-arrow-color").value;dt.colorFillStyle(x,se[0],se[1],se[2],j),dt.colorStrokeStyle(x,se[0],se[1],se[2],j),dt.drawArrowShape(u,x,Ct,Rt,gt,E,R,N)}}},nu.drawArrowShape=function(x,u,y,E,R,N,j,dt){var Rt,pt=this.usePaths()&&"triangle-cross"!==R,Ct=!1,$t=u,ee={x:N,y:j},se=x.pstyle("arrow-scale").value,qt=this.getArrowWidth(E,se),ge=this.arrowShapes[R];if(pt){var Ae=this.arrowPathCache=this.arrowPathCache||[],He=ei(R),ze=Ae[He];null!=ze?(Rt=u=ze,Ct=!0):(Rt=u=new Path2D,Ae[He]=Rt)}Ct||(u.beginPath&&u.beginPath(),pt?ge.draw(u,1,0,{x:0,y:0},1):ge.draw(u,qt,dt,ee,E),u.closePath&&u.closePath()),u=$t,pt&&(u.translate(N,j),u.rotate(dt),u.scale(qt,qt)),("filled"===y||"both"===y)&&(pt?u.fill(Rt):u.fill()),("hollow"===y||"both"===y)&&(u.lineWidth=(ge.matchEdgeWidth?E:1)/(pt?qt:1),u.lineJoin="miter",pt?u.stroke(Rt):u.stroke()),pt&&(u.scale(1/qt,1/qt),u.rotate(-dt),u.translate(-N,-j))};var o0={safeDrawImage:function(x,u,y,E,R,N,j,dt,gt,pt){R<=0||N<=0||gt<=0||pt<=0||x.drawImage(u,y,E,R,N,j,dt,gt,pt)},drawInscribedImage:function(x,u,y,E,R){var N=this,j=y.position(),dt=j.x,gt=j.y,pt=y.cy().style(),Ct=pt.getIndexedStyle.bind(pt),Rt=Ct(y,"background-fit","value",E),$t=Ct(y,"background-repeat","value",E),ee=y.width(),se=y.height(),qt=2*y.padding(),ge=ee+("inner"===Ct(y,"background-width-relative-to","value",E)?0:qt),Ae=se+("inner"===Ct(y,"background-height-relative-to","value",E)?0:qt),He=y._private.rscratch,ri="node"===Ct(y,"background-clip","value",E),ki=Ct(y,"background-image-opacity","value",E)*R,Oi=Ct(y,"background-image-smoothing","value",E),ii=u.width||u.cachedW,Ti=u.height||u.cachedH;(null==ii||null==Ti)&&(document.body.appendChild(u),ii=u.cachedW=u.width||u.offsetWidth,Ti=u.cachedH=u.height||u.offsetHeight,document.body.removeChild(u));var fi=ii,Ri=Ti;if("auto"!==Ct(y,"background-width","value",E)&&(fi="%"===Ct(y,"background-width","units",E)?Ct(y,"background-width","pfValue",E)*ge:Ct(y,"background-width","pfValue",E)),"auto"!==Ct(y,"background-height","value",E)&&(Ri="%"===Ct(y,"background-height","units",E)?Ct(y,"background-height","pfValue",E)*Ae:Ct(y,"background-height","pfValue",E)),0!==fi&&0!==Ri){if("contain"===Rt)fi*=Ii=Math.min(ge/fi,Ae/Ri),Ri*=Ii;else if("cover"===Rt){var Ii;fi*=Ii=Math.max(ge/fi,Ae/Ri),Ri*=Ii}var Ci=dt-ge/2,Ki=Ct(y,"background-position-x","units",E),Ai=Ct(y,"background-position-x","pfValue",E);Ci+="%"===Ki?(ge-fi)*Ai:Ai;var mn=Ct(y,"background-offset-x","units",E),ln=Ct(y,"background-offset-x","pfValue",E);Ci+="%"===mn?(ge-fi)*ln:ln;var dn=gt-Ae/2,un=Ct(y,"background-position-y","units",E),fn=Ct(y,"background-position-y","pfValue",E);dn+="%"===un?(Ae-Ri)*fn:fn;var Nn=Ct(y,"background-offset-y","units",E),Cn=Ct(y,"background-offset-y","pfValue",E);dn+="%"===Nn?(Ae-Ri)*Cn:Cn,He.pathCache&&(Ci-=dt,dn-=gt,dt=0,gt=0);var Ji=x.globalAlpha;x.globalAlpha=ki;var Hn=N.getImgSmoothing(x),Si=!1;if("no"===Oi&&Hn?(N.setImgSmoothing(x,!1),Si=!0):"yes"===Oi&&!Hn&&(N.setImgSmoothing(x,!0),Si=!0),"no-repeat"===$t)ri&&(x.save(),He.pathCache?x.clip(He.pathCache):(N.nodeShapes[N.getNodeShape(y)].draw(x,dt,gt,ge,Ae),x.clip())),N.safeDrawImage(x,u,0,0,ii,Ti,Ci,dn,fi,Ri),ri&&x.restore();else{var Zn=x.createPattern(u,$t);x.fillStyle=Zn,N.nodeShapes[N.getNodeShape(y)].draw(x,dt,gt,ge,Ae),x.translate(Ci,dn),x.fill(),x.translate(-Ci,-dn)}x.globalAlpha=Ji,Si&&N.setImgSmoothing(x,Hn)}}},Da={};function La(x,u,y,E,R){var N=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;x.beginPath(),x.moveTo(u+N,y),x.lineTo(u+E-N,y),x.quadraticCurveTo(u+E,y,u+E,y+N),x.lineTo(u+E,y+R-N),x.quadraticCurveTo(u+E,y+R,u+E-N,y+R),x.lineTo(u+N,y+R),x.quadraticCurveTo(u,y+R,u,y+R-N),x.lineTo(u,y+N),x.quadraticCurveTo(u,y,u+N,y),x.closePath(),x.fill()}Da.eleTextBiggerThanMin=function(x,u){if(!u){var y=x.cy().zoom(),E=this.getPixelRatio(),R=Math.ceil(Tl(y*E));u=Math.pow(2,R)}return!(x.pstyle("font-size").pfValue*u<x.pstyle("min-zoomed-font-size").pfValue)},Da.drawElementText=function(x,u,y,E,R){var N=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],j=this;if(null==E){if(N&&!j.eleTextBiggerThanMin(u))return}else if(!1===E)return;if(u.isNode()){var dt=u.pstyle("label");if(!dt||!dt.value)return;var gt=j.getLabelJustification(u);x.textAlign=gt,x.textBaseline="bottom"}else{var pt=u.element()._private.rscratch.badLine,Ct=u.pstyle("label"),Rt=u.pstyle("source-label"),$t=u.pstyle("target-label");if(pt||(!Ct||!Ct.value)&&(!Rt||!Rt.value)&&(!$t||!$t.value))return;x.textAlign="center",x.textBaseline="bottom"}var se,ee=!y;y&&x.translate(-(se=y).x1,-se.y1),null==R?(j.drawText(x,u,null,ee,N),u.isEdge()&&(j.drawText(x,u,"source",ee,N),j.drawText(x,u,"target",ee,N))):j.drawText(x,u,R,ee,N),y&&x.translate(se.x1,se.y1)},Da.getFontCache=function(x){var u;this.fontCaches=this.fontCaches||[];for(var y=0;y<this.fontCaches.length;y++)if((u=this.fontCaches[y]).context===x)return u;return this.fontCaches.push(u={context:x}),u},Da.setupTextStyle=function(x,u){var y=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],E=u.pstyle("font-style").strValue,R=u.pstyle("font-size").pfValue+"px",N=u.pstyle("font-family").strValue,j=u.pstyle("font-weight").strValue,dt=y?u.effectiveOpacity()*u.pstyle("text-opacity").value:1,gt=u.pstyle("text-outline-opacity").value*dt,pt=u.pstyle("color").value,Ct=u.pstyle("text-outline-color").value;x.font=E+" "+j+" "+R+" "+N,x.lineJoin="round",this.colorFillStyle(x,pt[0],pt[1],pt[2],dt),this.colorStrokeStyle(x,Ct[0],Ct[1],Ct[2],gt)},Da.getTextAngle=function(x,u){var R=x._private.rscratch,j=x.pstyle((u?u+"-":"")+"text-rotation"),dt=Ni(R,"labelAngle",u);return"autorotate"===j.strValue?x.isEdge()?dt:0:"none"===j.strValue?0:j.pfValue},Da.drawText=function(x,u,y){var E=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],R=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],N=u._private,j=N.rscratch,dt=R?u.effectiveOpacity():1;if(!R||0!==dt&&0!==u.pstyle("text-opacity").value){"main"===y&&(y=null);var Ct,Rt,gt=Ni(j,"labelX",y),pt=Ni(j,"labelY",y),$t=this.getLabelText(u,y);if(null!=$t&&""!==$t&&!isNaN(gt)&&!isNaN(pt)){this.setupTextStyle(x,u,R);var ki,ee=y?y+"-":"",se=Ni(j,"labelWidth",y),qt=Ni(j,"labelHeight",y),ge=u.pstyle(ee+"text-margin-x").pfValue,Ae=u.pstyle(ee+"text-margin-y").pfValue,He=u.isEdge(),ze=u.pstyle("text-halign").value,ri=u.pstyle("text-valign").value;switch(He&&(ze="center",ri="center"),gt+=ge,pt+=Ae,0!==(ki=E?this.getTextAngle(u,y):0)&&(x.translate(Ct=gt,Rt=pt),x.rotate(ki),gt=0,pt=0),ri){case"top":break;case"center":pt+=qt/2;break;case"bottom":pt+=qt}var Oi=u.pstyle("text-background-opacity").value,ii=u.pstyle("text-border-opacity").value,Ti=u.pstyle("text-border-width").pfValue,fi=u.pstyle("text-background-padding").pfValue;if(Oi>0||Ti>0&&ii>0){var Ri=gt-fi;switch(ze){case"left":Ri-=se;break;case"center":Ri-=se/2}var Ii=pt-qt-fi,Ci=se+2*fi,Ki=qt+2*fi;if(Oi>0){var Ai=x.fillStyle,mn=u.pstyle("text-background-color").value;x.fillStyle="rgba("+mn[0]+","+mn[1]+","+mn[2]+","+Oi*dt+")";var ln=u.pstyle("text-background-shape").strValue;0===ln.indexOf("round")?La(x,Ri,Ii,Ci,Ki,2):x.fillRect(Ri,Ii,Ci,Ki),x.fillStyle=Ai}if(Ti>0&&ii>0){var dn=x.strokeStyle,un=x.lineWidth,fn=u.pstyle("text-border-color").value,Nn=u.pstyle("text-border-style").value;if(x.strokeStyle="rgba("+fn[0]+","+fn[1]+","+fn[2]+","+ii*dt+")",x.lineWidth=Ti,x.setLineDash)switch(Nn){case"dotted":x.setLineDash([1,1]);break;case"dashed":x.setLineDash([4,2]);break;case"double":x.lineWidth=Ti/4,x.setLineDash([]);break;case"solid":x.setLineDash([])}if(x.strokeRect(Ri,Ii,Ci,Ki),"double"===Nn){var Cn=Ti/2;x.strokeRect(Ri+Cn,Ii+Cn,Ci-2*Cn,Ki-2*Cn)}x.setLineDash&&x.setLineDash([]),x.lineWidth=un,x.strokeStyle=dn}}var Ji=2*u.pstyle("text-outline-width").pfValue;if(Ji>0&&(x.lineWidth=Ji),"wrap"===u.pstyle("text-wrap").value){var Hn=Ni(j,"labelWrapCachedLines",y),Si=Ni(j,"labelLineHeight",y),Zn=se/2,Wn=this.getLabelJustification(u);switch("auto"===Wn||("left"===ze?"left"===Wn?gt+=-se:"center"===Wn&&(gt+=-Zn):"center"===ze?"left"===Wn?gt+=-Zn:"right"===Wn&&(gt+=Zn):"right"===ze&&("center"===Wn?gt+=Zn:"right"===Wn&&(gt+=se))),ri){case"top":case"center":case"bottom":pt-=(Hn.length-1)*Si}for(var pn=0;pn<Hn.length;pn++)Ji>0&&x.strokeText(Hn[pn],gt,pt),x.fillText(Hn[pn],gt,pt),pt+=Si}else Ji>0&&x.strokeText($t,gt,pt),x.fillText($t,gt,pt);0!==ki&&(x.rotate(-ki),x.translate(-Ct,-Rt))}}};var Br={drawNode:function(x,u,y){var dt,gt,E=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],R=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],N=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],j=this,pt=u._private,Ct=pt.rscratch,Rt=u.position();if(Et(Rt.x)&&Et(Rt.y)&&(!N||u.visible())){var se,Ae,$t=N?u.effectiveOpacity():1,ee=j.usePaths(),qt=!1,ge=u.padding();dt=u.width()+2*ge,gt=u.height()+2*ge,y&&x.translate(-(Ae=y).x1,-Ae.y1);for(var He=u.pstyle("background-image"),ze=He.value,ri=new Array(ze.length),ki=new Array(ze.length),Oi=0,ii=0;ii<ze.length;ii++){var Ti=ze[ii],fi=ri[ii]=null!=Ti&&"none"!==Ti;if(fi){var Ri=u.cy().style().getIndexedStyle(u,"background-image-crossorigin","value",ii);Oi++,ki[ii]=j.getCachedImage(Ti,Ri,function(){pt.backgroundTimestamp=Date.now(),u.emitAndNotify("background")})}}var Ii=u.pstyle("background-blacken").value,Ci=u.pstyle("border-width").pfValue,Ki=u.pstyle("background-opacity").value*$t,Ai=u.pstyle("border-color").value,mn=u.pstyle("border-style").value,ln=u.pstyle("border-opacity").value*$t;x.lineJoin="miter";var dn=function(){var zr=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ki;j.eleFillStyle(x,u,zr)},un=function(){var zr=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln;j.colorStrokeStyle(x,Ai[0],Ai[1],Ai[2],zr)},fn=u.pstyle("shape").strValue,Nn=u.pstyle("shape-polygon-points").pfValue;if(ee){x.translate(Rt.x,Rt.y);var Cn=j.nodePathCache=j.nodePathCache||[],Ji=De("polygon"===fn?fn+","+Nn.join(","):fn,""+gt,""+dt),Hn=Cn[Ji];null!=Hn?(qt=!0,Ct.pathCache=se=Hn):(se=new Path2D,Cn[Ji]=Ct.pathCache=se)}var Si=function(){if(!qt){var zr=Rt;ee&&(zr={x:0,y:0}),j.nodeShapes[j.getNodeShape(u)].draw(se||x,zr.x,zr.y,dt,gt)}ee?x.fill(se):x.fill()},Zn=function(){for(var zr=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t,co=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],vs=pt.backgrounding,Ko=0,Fo=0;Fo<ki.length;Fo++){var Qi=u.cy().style().getIndexedStyle(u,"background-image-containment","value",Fo);co&&"over"===Qi||!co&&"inside"===Qi?Ko++:ri[Fo]&&ki[Fo].complete&&!ki[Fo].error&&(Ko++,j.drawInscribedImage(x,ki[Fo],u,Fo,zr))}pt.backgrounding=Ko!==Oi,vs!==pt.backgrounding&&u.updateStyle(!1)},Wn=function(){var zr=arguments.length>0&&void 0!==arguments[0]&&arguments[0],co=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$t;j.hasPie(u)&&(j.drawPie(x,u,co),zr&&(ee||j.nodeShapes[j.getNodeShape(u)].draw(x,Rt.x,Rt.y,dt,gt)))},pn=function(){var zr=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t,co=(Ii>0?Ii:-Ii)*zr,vs=Ii>0?0:255;0!==Ii&&(j.colorFillStyle(x,vs,vs,vs,co),ee?x.fill(se):x.fill())},kn=function(){if(Ci>0){if(x.lineWidth=Ci,x.lineCap="butt",x.setLineDash)switch(mn){case"dotted":x.setLineDash([1,1]);break;case"dashed":x.setLineDash([4,2]);break;case"solid":case"double":x.setLineDash([])}if(ee?x.stroke(se):x.stroke(),"double"===mn){x.lineWidth=Ci/3;var zr=x.globalCompositeOperation;x.globalCompositeOperation="destination-out",ee?x.stroke(se):x.stroke(),x.globalCompositeOperation=zr}x.setLineDash&&x.setLineDash([])}},Qn=function(){R&&j.drawNodeOverlay(x,u,Rt,dt,gt)},rr=function(){R&&j.drawNodeUnderlay(x,u,Rt,dt,gt)},_r=function(){j.drawElementText(x,u,null,E)},go="yes"===u.pstyle("ghost").value;if(go){var yo=u.pstyle("ghost-offset-x").pfValue,Tr=u.pstyle("ghost-offset-y").pfValue,wr=u.pstyle("ghost-opacity").value,Kr=wr*$t;x.translate(yo,Tr),dn(wr*Ki),Si(),Zn(Kr,!0),un(wr*ln),kn(),Wn(0!==Ii||0!==Ci),Zn(Kr,!1),pn(Kr),x.translate(-yo,-Tr)}ee&&x.translate(-Rt.x,-Rt.y),rr(),ee&&x.translate(Rt.x,Rt.y),dn(),Si(),Zn($t,!0),un(),kn(),Wn(0!==Ii||0!==Ci),Zn($t,!1),pn(),ee&&x.translate(-Rt.x,-Rt.y),_r(),Qn(),y&&x.translate(Ae.x1,Ae.y1)}}},_h=function(u){if(!["overlay","underlay"].includes(u))throw new Error("Invalid state");return function(y,E,R,N,j){if(E.visible()){var gt=E.pstyle("".concat(u,"-padding")).pfValue,pt=E.pstyle("".concat(u,"-opacity")).value,Ct=E.pstyle("".concat(u,"-color")).value,Rt=E.pstyle("".concat(u,"-shape")).value;if(pt>0){if(R=R||E.position(),null==N||null==j){var $t=E.padding();N=E.width()+2*$t,j=E.height()+2*$t}this.colorFillStyle(y,Ct[0],Ct[1],Ct[2],pt),this.nodeShapes[Rt].draw(y,R.x,R.y,N+2*gt,j+2*gt),y.fill()}}}};Br.drawNodeOverlay=_h("overlay"),Br.drawNodeUnderlay=_h("underlay"),Br.hasPie=function(x){return(x=x[0])._private.hasPie},Br.drawPie=function(x,u,y,E){u=u[0],E=E||u.position();var R=u.cy().style(),N=u.pstyle("pie-size"),j=E.x,dt=E.y,gt=u.width(),pt=u.height(),Ct=Math.min(gt,pt)/2,Rt=0;this.usePaths()&&(j=0,dt=0),"%"===N.units?Ct*=N.pfValue:void 0!==N.pfValue&&(Ct=N.pfValue/2);for(var ee=1;ee<=R.pieBackgroundN;ee++){var se=u.pstyle("pie-"+ee+"-background-size").value,qt=u.pstyle("pie-"+ee+"-background-color").value,ge=u.pstyle("pie-"+ee+"-background-opacity").value*y,Ae=se/100;Ae+Rt>1&&(Ae=1-Rt);var He=1.5*Math.PI+2*Math.PI*Rt,ri=He+2*Math.PI*Ae;0===se||Rt>=1||Rt+Ae>1||(x.beginPath(),x.moveTo(j,dt),x.arc(j,dt,Ct,He,ri),x.closePath(),this.colorFillStyle(x,qt[0],qt[1],qt[2],ge),x.fill(),Rt+=Ae)}};for(var ru={getPixelRatio:function(){var x=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(x.backingStorePixelRatio||x.webkitBackingStorePixelRatio||x.mozBackingStorePixelRatio||x.msBackingStorePixelRatio||x.oBackingStorePixelRatio||x.backingStorePixelRatio||1)},paintCache:function(x){for(var E,u=this.paintCaches=this.paintCaches||[],y=!0,R=0;R<u.length;R++)if((E=u[R]).context===x){y=!1;break}return y&&u.push(E={context:x}),E},createGradientStyleFor:function(x,u,y,E,R){var N,j=this.usePaths(),dt=y.pstyle(u+"-gradient-stop-colors").value,gt=y.pstyle(u+"-gradient-stop-positions").pfValue;if("radial-gradient"===E)if(y.isEdge()){var pt=y.sourceEndpoint(),Ct=y.targetEndpoint(),Rt=y.midpoint(),$t=Pl(pt,Rt),ee=Pl(Ct,Rt);N=x.createRadialGradient(Rt.x,Rt.y,0,Rt.x,Rt.y,Math.max($t,ee))}else{var se=j?{x:0,y:0}:y.position(),qt=y.paddedWidth(),ge=y.paddedHeight();N=x.createRadialGradient(se.x,se.y,0,se.x,se.y,Math.max(qt,ge))}else if(y.isEdge()){var Ae=y.sourceEndpoint(),He=y.targetEndpoint();N=x.createLinearGradient(Ae.x,Ae.y,He.x,He.y)}else{var ze=j?{x:0,y:0}:y.position(),Oi=y.paddedWidth()/2,ii=y.paddedHeight()/2;switch(y.pstyle("background-gradient-direction").value){case"to-bottom":N=x.createLinearGradient(ze.x,ze.y-ii,ze.x,ze.y+ii);break;case"to-top":N=x.createLinearGradient(ze.x,ze.y+ii,ze.x,ze.y-ii);break;case"to-left":N=x.createLinearGradient(ze.x+Oi,ze.y,ze.x-Oi,ze.y);break;case"to-right":N=x.createLinearGradient(ze.x-Oi,ze.y,ze.x+Oi,ze.y);break;case"to-bottom-right":case"to-right-bottom":N=x.createLinearGradient(ze.x-Oi,ze.y-ii,ze.x+Oi,ze.y+ii);break;case"to-top-right":case"to-right-top":N=x.createLinearGradient(ze.x-Oi,ze.y+ii,ze.x+Oi,ze.y-ii);break;case"to-bottom-left":case"to-left-bottom":N=x.createLinearGradient(ze.x+Oi,ze.y-ii,ze.x-Oi,ze.y+ii);break;case"to-top-left":case"to-left-top":N=x.createLinearGradient(ze.x+Oi,ze.y+ii,ze.x-Oi,ze.y-ii)}}if(!N)return null;for(var fi=gt.length===dt.length,Ri=dt.length,Ii=0;Ii<Ri;Ii++)N.addColorStop(fi?gt[Ii]:Ii/(Ri-1),"rgba("+dt[Ii][0]+","+dt[Ii][1]+","+dt[Ii][2]+","+R+")");return N},gradientFillStyle:function(x,u,y,E){var R=this.createGradientStyleFor(x,"background",u,y,E);if(!R)return null;x.fillStyle=R},colorFillStyle:function(x,u,y,E,R){x.fillStyle="rgba("+u+","+y+","+E+","+R+")"},eleFillStyle:function(x,u,y){var E=u.pstyle("background-fill").value;if("linear-gradient"===E||"radial-gradient"===E)this.gradientFillStyle(x,u,E,y);else{var R=u.pstyle("background-color").value;this.colorFillStyle(x,R[0],R[1],R[2],y)}},gradientStrokeStyle:function(x,u,y,E){var R=this.createGradientStyleFor(x,"line",u,y,E);if(!R)return null;x.strokeStyle=R},colorStrokeStyle:function(x,u,y,E,R){x.strokeStyle="rgba("+u+","+y+","+E+","+R+")"},eleStrokeStyle:function(x,u,y){var E=u.pstyle("line-fill").value;if("linear-gradient"===E||"radial-gradient"===E)this.gradientStrokeStyle(x,u,E,y);else{var R=u.pstyle("line-color").value;this.colorStrokeStyle(x,R[0],R[1],R[2],y)}},matchCanvasSize:function(x){var u=this,y=u.data,E=u.findContainerClientCoords(),R=E[2],N=E[3],j=u.getPixelRatio();(x===u.data.bufferCanvases[u.MOTIONBLUR_BUFFER_NODE]||x===u.data.bufferCanvases[u.MOTIONBLUR_BUFFER_DRAG])&&(j=u.motionBlurPxRatio);var Ct,gt=R*j,pt=N*j;if(gt!==u.canvasWidth||pt!==u.canvasHeight){u.fontCaches=null;var Rt=y.canvasContainer;Rt.style.width=R+"px",Rt.style.height=N+"px";for(var $t=0;$t<u.CANVAS_LAYERS;$t++)(Ct=y.canvases[$t]).width=gt,Ct.height=pt,Ct.style.width=R+"px",Ct.style.height=N+"px";for($t=0;$t<u.BUFFER_COUNT;$t++)(Ct=y.bufferCanvases[$t]).width=gt,Ct.height=pt,Ct.style.width=R+"px",Ct.style.height=N+"px";u.textureMult=1,j<=1&&(Ct=y.bufferCanvases[u.TEXTURE_BUFFER],u.textureMult=2,Ct.width=gt*u.textureMult,Ct.height=pt*u.textureMult),u.canvasWidth=gt,u.canvasHeight=pt}},renderTo:function(x,u,y,E){this.render({forcedContext:x,forcedZoom:u,forcedPan:y,drawAllLayers:!0,forcedPxRatio:E})},render:function(x){var u=(x=x||Li()).forcedContext,y=x.drawAllLayers,E=x.drawOnlyNodeLayer,R=x.forcedZoom,N=x.forcedPan,j=this,dt=void 0===x.forcedPxRatio?this.getPixelRatio():x.forcedPxRatio,gt=j.cy,pt=j.data,Ct=pt.canvasNeedsRedraw,Rt=j.textureOnViewport&&!u&&(j.pinching||j.hoverData.dragging||j.swipePanning||j.data.wheelZooming),$t=void 0!==x.motionBlur?x.motionBlur:j.motionBlur,ee=j.motionBlurPxRatio,se=gt.hasCompoundNodes(),qt=j.hoverData.draggingEles,Ae=$t=$t&&!u&&j.motionBlurEnabled&&!(j.hoverData.selecting||j.touchData.selecting);u||(j.prevPxRatio!==dt&&(j.invalidateContainerClientCoordsCache(),j.matchCanvasSize(j.container),j.redrawHint("eles",!0),j.redrawHint("drag",!0)),j.prevPxRatio=dt),!u&&j.motionBlurTimeout&&clearTimeout(j.motionBlurTimeout),$t&&(null==j.mbFrames&&(j.mbFrames=0),j.mbFrames++,j.mbFrames<3&&(Ae=!1),j.mbFrames>j.minMbLowQualFrames&&(j.motionBlurPxRatio=j.mbPxRBlurry)),j.clearingMotionBlur&&(j.motionBlurPxRatio=1),j.textureDrawLastFrame&&!Rt&&(Ct[j.NODE]=!0,Ct[j.SELECT_BOX]=!0);var He=gt.style(),ze=gt.zoom(),ri=void 0!==R?R:ze,ki=gt.pan(),Oi={x:ki.x,y:ki.y},ii={zoom:ze,pan:{x:ki.x,y:ki.y}},Ti=j.prevViewport;!(void 0===Ti||ii.zoom!==Ti.zoom||ii.pan.x!==Ti.pan.x||ii.pan.y!==Ti.pan.y)&&!(qt&&!se)&&(j.motionBlurPxRatio=1),N&&(Oi=N),ri*=dt,Oi.x*=dt,Oi.y*=dt;var Ri=j.getCachedZSortedEles();function Ii(Tr,wr,Kr,oo,zr){var co=Tr.globalCompositeOperation;Tr.globalCompositeOperation="destination-out",j.colorFillStyle(Tr,255,255,255,j.motionBlurTransparency),Tr.fillRect(wr,Kr,oo,zr),Tr.globalCompositeOperation=co}function Ci(Tr,wr){var Kr,oo,zr,co;j.clearingMotionBlur||Tr!==pt.bufferContexts[j.MOTIONBLUR_BUFFER_NODE]&&Tr!==pt.bufferContexts[j.MOTIONBLUR_BUFFER_DRAG]?(Kr=Oi,oo=ri,zr=j.canvasWidth,co=j.canvasHeight):(Kr={x:ki.x*ee,y:ki.y*ee},oo=ze*ee,zr=j.canvasWidth*ee,co=j.canvasHeight*ee),Tr.setTransform(1,0,0,1,0,0),"motionBlur"===wr?Ii(Tr,0,0,zr,co):!u&&(void 0===wr||wr)&&Tr.clearRect(0,0,zr,co),y||(Tr.translate(Kr.x,Kr.y),Tr.scale(oo,oo)),N&&Tr.translate(N.x,N.y),R&&Tr.scale(R,R)}if(Rt||(j.textureDrawLastFrame=!1),Rt){if(j.textureDrawLastFrame=!0,!j.textureCache){j.textureCache={},j.textureCache.bb=gt.mutableElements().boundingBox(),j.textureCache.texture=j.data.bufferCanvases[j.TEXTURE_BUFFER];var Ki=j.data.bufferContexts[j.TEXTURE_BUFFER];Ki.setTransform(1,0,0,1,0,0),Ki.clearRect(0,0,j.canvasWidth*j.textureMult,j.canvasHeight*j.textureMult),j.render({forcedContext:Ki,drawOnlyNodeLayer:!0,forcedPxRatio:dt*j.textureMult}),(ii=j.textureCache.viewport={zoom:gt.zoom(),pan:gt.pan(),width:j.canvasWidth,height:j.canvasHeight}).mpan={x:(0-ii.pan.x)/ii.zoom,y:(0-ii.pan.y)/ii.zoom}}Ct[j.DRAG]=!1,Ct[j.NODE]=!1;var mn=j.textureCache.texture;ii=j.textureCache.viewport,(Ai=pt.contexts[j.NODE]).setTransform(1,0,0,1,0,0),$t?Ii(Ai,0,0,ii.width,ii.height):Ai.clearRect(0,0,ii.width,ii.height);var ln=He.core("outside-texture-bg-color").value,dn=He.core("outside-texture-bg-opacity").value;j.colorFillStyle(Ai,ln[0],ln[1],ln[2],dn),Ai.fillRect(0,0,ii.width,ii.height),ze=gt.zoom(),Ci(Ai,!1),Ai.clearRect(ii.mpan.x,ii.mpan.y,ii.width/ii.zoom/dt,ii.height/ii.zoom/dt),Ai.drawImage(mn,ii.mpan.x,ii.mpan.y,ii.width/ii.zoom/dt,ii.height/ii.zoom/dt)}else j.textureOnViewport&&!u&&(j.textureCache=null);var un=gt.extent(),fn=j.pinching||j.hoverData.dragging||j.swipePanning||j.data.wheelZooming||j.hoverData.draggingEles||j.cy.animated(),Nn=j.hideEdgesOnViewport&&fn,Cn=[];if(Cn[j.NODE]=!Ct[j.NODE]&&$t&&!j.clearedForMotionBlur[j.NODE]||j.clearingMotionBlur,Cn[j.NODE]&&(j.clearedForMotionBlur[j.NODE]=!0),Cn[j.DRAG]=!Ct[j.DRAG]&&$t&&!j.clearedForMotionBlur[j.DRAG]||j.clearingMotionBlur,Cn[j.DRAG]&&(j.clearedForMotionBlur[j.DRAG]=!0),Ct[j.NODE]||y||E||Cn[j.NODE]){var Ji=$t&&!Cn[j.NODE]&&1!==ee;Ci(Ai=u||(Ji?j.data.bufferContexts[j.MOTIONBLUR_BUFFER_NODE]:pt.contexts[j.NODE]),$t&&!Ji?"motionBlur":void 0),Nn?j.drawCachedNodes(Ai,Ri.nondrag,dt,un):j.drawLayeredElements(Ai,Ri.nondrag,dt,un),j.debug&&j.drawDebugPoints(Ai,Ri.nondrag),!y&&!$t&&(Ct[j.NODE]=!1)}if(!E&&(Ct[j.DRAG]||y||Cn[j.DRAG])&&(Ji=$t&&!Cn[j.DRAG]&&1!==ee,Ci(Ai=u||(Ji?j.data.bufferContexts[j.MOTIONBLUR_BUFFER_DRAG]:pt.contexts[j.DRAG]),$t&&!Ji?"motionBlur":void 0),Nn?j.drawCachedNodes(Ai,Ri.drag,dt,un):j.drawCachedElements(Ai,Ri.drag,dt,un),j.debug&&j.drawDebugPoints(Ai,Ri.drag),!y&&!$t&&(Ct[j.DRAG]=!1)),j.showFps||!E&&Ct[j.SELECT_BOX]&&!y){var Ai;if(Ci(Ai=u||pt.contexts[j.SELECT_BOX]),1==j.selection[4]&&(j.hoverData.selecting||j.touchData.selecting)){ze=j.cy.zoom();var Si=He.core("selection-box-border-width").value/ze;Ai.lineWidth=Si,Ai.fillStyle="rgba("+He.core("selection-box-color").value[0]+","+He.core("selection-box-color").value[1]+","+He.core("selection-box-color").value[2]+","+He.core("selection-box-opacity").value+")",Ai.fillRect(j.selection[0],j.selection[1],j.selection[2]-j.selection[0],j.selection[3]-j.selection[1]),Si>0&&(Ai.strokeStyle="rgba("+He.core("selection-box-border-color").value[0]+","+He.core("selection-box-border-color").value[1]+","+He.core("selection-box-border-color").value[2]+","+He.core("selection-box-opacity").value+")",Ai.strokeRect(j.selection[0],j.selection[1],j.selection[2]-j.selection[0],j.selection[3]-j.selection[1]))}if(pt.bgActivePosistion&&!j.hoverData.selecting){ze=j.cy.zoom();var Zn=pt.bgActivePosistion;Ai.fillStyle="rgba("+He.core("active-bg-color").value[0]+","+He.core("active-bg-color").value[1]+","+He.core("active-bg-color").value[2]+","+He.core("active-bg-opacity").value+")",Ai.beginPath(),Ai.arc(Zn.x,Zn.y,He.core("active-bg-size").pfValue/ze,0,2*Math.PI),Ai.fill()}var Wn=j.lastRedrawTime;if(j.showFps&&Wn){Wn=Math.round(Wn);var pn=Math.round(1e3/Wn);Ai.setTransform(1,0,0,1,0,0),Ai.fillStyle="rgba(255, 0, 0, 0.75)",Ai.strokeStyle="rgba(255, 0, 0, 0.75)",Ai.lineWidth=1,Ai.fillText("1 frame = "+Wn+" ms = "+pn+" fps",0,20),Ai.strokeRect(0,30,250,20),Ai.fillRect(0,30,250*Math.min(pn/60,1),20)}y||(Ct[j.SELECT_BOX]=!1)}if($t&&1!==ee){var _r=pt.contexts[j.DRAG],go=j.data.bufferCanvases[j.MOTIONBLUR_BUFFER_DRAG],yo=function(wr,Kr,oo){wr.setTransform(1,0,0,1,0,0),oo||!Ae?wr.clearRect(0,0,j.canvasWidth,j.canvasHeight):Ii(wr,0,0,j.canvasWidth,j.canvasHeight),wr.drawImage(Kr,0,0,j.canvasWidth*ee,j.canvasHeight*ee,0,0,j.canvasWidth,j.canvasHeight)};(Ct[j.NODE]||Cn[j.NODE])&&(yo(pt.contexts[j.NODE],j.data.bufferCanvases[j.MOTIONBLUR_BUFFER_NODE],Cn[j.NODE]),Ct[j.NODE]=!1),(Ct[j.DRAG]||Cn[j.DRAG])&&(yo(_r,go,Cn[j.DRAG]),Ct[j.DRAG]=!1)}j.prevViewport=ii,j.clearingMotionBlur&&(j.clearingMotionBlur=!1,j.motionBlurCleared=!0,j.motionBlur=!0),$t&&(j.motionBlurTimeout=setTimeout(function(){j.motionBlurTimeout=null,j.clearedForMotionBlur[j.NODE]=!1,j.clearedForMotionBlur[j.DRAG]=!1,j.motionBlur=!1,j.clearingMotionBlur=!Rt,j.mbFrames=0,Ct[j.NODE]=!0,Ct[j.DRAG]=!0,j.redraw()},100)),u||gt.emit("render")}},Ka={drawPolygonPath:function(x,u,y,E,R,N){var j=E/2,dt=R/2;x.beginPath&&x.beginPath(),x.moveTo(u+j*N[0],y+dt*N[1]);for(var gt=1;gt<N.length/2;gt++)x.lineTo(u+j*N[2*gt],y+dt*N[2*gt+1]);x.closePath()},drawRoundPolygonPath:function(x,u,y,E,R,N){var j=E/2,dt=R/2,gt=yi(E,R);x.beginPath&&x.beginPath();for(var pt=0;pt<N.length/4;pt++){var Rt,Ct;Ct=0===pt?N.length-2:4*pt-2,Rt=4*pt+2;var $t=u+j*N[4*pt],ee=y+dt*N[4*pt+1],qt=gt/Math.tan(Math.acos(-N[Ct]*N[Rt]-N[Ct+1]*N[Rt+1])/2),ge=$t-qt*N[Ct],Ae=ee-qt*N[Ct+1],He=$t+qt*N[Rt],ze=ee+qt*N[Rt+1];0===pt?x.moveTo(ge,Ae):x.lineTo(ge,Ae),x.arcTo($t,ee,He,ze,gt)}x.closePath()},drawRoundRectanglePath:function(x,u,y,E,R){var N=E/2,j=R/2,dt=vi(E,R);x.beginPath&&x.beginPath(),x.moveTo(u,y-j),x.arcTo(u+N,y-j,u+N,y,dt),x.arcTo(u+N,y+j,u,y+j,dt),x.arcTo(u-N,y+j,u-N,y,dt),x.arcTo(u-N,y-j,u,y-j,dt),x.lineTo(u,y-j),x.closePath()},drawBottomRoundRectanglePath:function(x,u,y,E,R){var N=E/2,j=R/2,dt=vi(E,R);x.beginPath&&x.beginPath(),x.moveTo(u,y-j),x.lineTo(u+N,y-j),x.lineTo(u+N,y),x.arcTo(u+N,y+j,u,y+j,dt),x.arcTo(u-N,y+j,u-N,y,dt),x.lineTo(u-N,y-j),x.lineTo(u,y-j),x.closePath()},drawCutRectanglePath:function(x,u,y,E,R){var N=E/2,j=R/2;x.beginPath&&x.beginPath(),x.moveTo(u-N+8,y-j),x.lineTo(u+N-8,y-j),x.lineTo(u+N,y-j+8),x.lineTo(u+N,y+j-8),x.lineTo(u+N-8,y+j),x.lineTo(u-N+8,y+j),x.lineTo(u-N,y+j-8),x.lineTo(u-N,y-j+8),x.closePath()},drawBarrelPath:function(x,u,y,E,R){var N=E/2,j=R/2,dt=u-N,gt=u+N,pt=y-j,Ct=y+j,Rt=Cr(E,R),$t=Rt.widthOffset,ee=Rt.heightOffset,se=Rt.ctrlPtOffsetPct*$t;x.beginPath&&x.beginPath(),x.moveTo(dt,pt+ee),x.lineTo(dt,Ct-ee),x.quadraticCurveTo(dt+se,Ct,dt+$t,Ct),x.lineTo(gt-$t,Ct),x.quadraticCurveTo(gt-se,Ct,gt,Ct-ee),x.lineTo(gt,pt+ee),x.quadraticCurveTo(gt-se,pt,gt-$t,pt),x.lineTo(dt+$t,pt),x.quadraticCurveTo(dt+se,pt,dt,pt+ee),x.closePath()}},Aa=Math.sin(0),kf=Math.cos(0),mo={},lp={},Yc=Math.PI/40,bu=0*Math.PI;bu<2*Math.PI;bu+=Yc)mo[bu]=Math.sin(bu),lp[bu]=Math.cos(bu);Ka.drawEllipsePath=function(x,u,y,E,R){if(x.beginPath&&x.beginPath(),x.ellipse)x.ellipse(u,y,E/2,R/2,0,0,2*Math.PI);else for(var N,j,dt=E/2,gt=R/2,pt=0*Math.PI;pt<2*Math.PI;pt+=Yc)N=u-dt*mo[pt]*Aa+dt*lp[pt]*kf,j=y+gt*lp[pt]*Aa+gt*mo[pt]*kf,0===pt?x.moveTo(N,j):x.lineTo(N,j);x.closePath()};var os={};function a0(x){var u=x.indexOf(",");return x.substr(u+1)}function l0(x,u,y){var E=function(){return u.toDataURL(y,x.quality)};switch(x.output){case"blob-promise":return new pu(function(R,N){try{u.toBlob(function(j){null!=j?R(j):N(new Error("`canvas.toBlob()` sent a null value in its callback"))},y,x.quality)}catch(j){N(j)}});case"blob":return function(x,u){for(var y=atob(x),E=new ArrayBuffer(y.length),R=new Uint8Array(E),N=0;N<y.length;N++)R[N]=y.charCodeAt(N);return new Blob([E],{type:u})}(a0(E()),y);case"base64":return a0(E());default:return E()}}os.createBuffer=function(x,u){var y=document.createElement("canvas");return y.width=x,y.height=u,[y,y.getContext("2d")]},os.bufferCanvasImage=function(x){var u=this.cy,E=u.mutableElements().boundingBox(),R=this.findContainerClientCoords(),N=x.full?Math.ceil(E.w):R[2],j=x.full?Math.ceil(E.h):R[3],dt=Et(x.maxWidth)||Et(x.maxHeight),gt=this.getPixelRatio(),pt=1;if(void 0!==x.scale)N*=x.scale,j*=x.scale,pt=x.scale;else if(dt){var Ct=1/0,Rt=1/0;Et(x.maxWidth)&&(Ct=pt*x.maxWidth/N),Et(x.maxHeight)&&(Rt=pt*x.maxHeight/j),N*=pt=Math.min(Ct,Rt),j*=pt}dt||(N*=gt,j*=gt,pt*=gt);var $t=document.createElement("canvas");$t.width=N,$t.height=j,$t.style.width=N+"px",$t.style.height=j+"px";var ee=$t.getContext("2d");if(N>0&&j>0){ee.clearRect(0,0,N,j),ee.globalCompositeOperation="source-over";var se=this.getCachedZSortedEles();if(x.full)ee.translate(-E.x1*pt,-E.y1*pt),ee.scale(pt,pt),this.drawElements(ee,se),ee.scale(1/pt,1/pt),ee.translate(E.x1*pt,E.y1*pt);else{var qt=u.pan(),ge={x:qt.x*pt,y:qt.y*pt};pt*=u.zoom(),ee.translate(ge.x,ge.y),ee.scale(pt,pt),this.drawElements(ee,se),ee.scale(1/pt,1/pt),ee.translate(-ge.x,-ge.y)}x.bg&&(ee.globalCompositeOperation="destination-over",ee.fillStyle=x.bg,ee.rect(0,0,N,j),ee.fill())}return $t},os.png=function(x){return l0(x,this.bufferCanvasImage(x),"image/png")},os.jpg=function(x){return l0(x,this.bufferCanvasImage(x),"image/jpeg")};var Bu=Tf,Jo=Tf.prototype;function Tf(x){var u=this;u.data={canvases:new Array(Jo.CANVAS_LAYERS),contexts:new Array(Jo.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Jo.CANVAS_LAYERS),bufferCanvases:new Array(Jo.BUFFER_COUNT),bufferContexts:new Array(Jo.CANVAS_LAYERS)};var y="-webkit-tap-highlight-color",E="rgba(0,0,0,0)";u.data.canvasContainer=document.createElement("div");var R=u.data.canvasContainer.style;u.data.canvasContainer.style[y]=E,R.position="relative",R.zIndex="0",R.overflow="hidden";var N=x.cy.container();N.appendChild(u.data.canvasContainer),N.style[y]=E;var j={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};X&&X.userAgent.match(/msie|trident|edge/i)&&(j["-ms-touch-action"]="none",j["touch-action"]="none");for(var dt=0;dt<Jo.CANVAS_LAYERS;dt++){var gt=u.data.canvases[dt]=document.createElement("canvas");u.data.contexts[dt]=gt.getContext("2d"),Object.keys(j).forEach(function(Wn){gt.style[Wn]=j[Wn]}),gt.style.position="absolute",gt.setAttribute("data-id","layer"+dt),gt.style.zIndex=String(Jo.CANVAS_LAYERS-dt),u.data.canvasContainer.appendChild(gt),u.data.canvasNeedsRedraw[dt]=!1}for(u.data.topCanvas=u.data.canvases[0],u.data.canvases[Jo.NODE].setAttribute("data-id","layer"+Jo.NODE+"-node"),u.data.canvases[Jo.SELECT_BOX].setAttribute("data-id","layer"+Jo.SELECT_BOX+"-selectbox"),u.data.canvases[Jo.DRAG].setAttribute("data-id","layer"+Jo.DRAG+"-drag"),dt=0;dt<Jo.BUFFER_COUNT;dt++)u.data.bufferCanvases[dt]=document.createElement("canvas"),u.data.bufferContexts[dt]=u.data.bufferCanvases[dt].getContext("2d"),u.data.bufferCanvases[dt].style.position="absolute",u.data.bufferCanvases[dt].setAttribute("data-id","buffer"+dt),u.data.bufferCanvases[dt].style.zIndex=String(-dt-1),u.data.bufferCanvases[dt].style.visibility="hidden";u.pathsEnabled=!0;var pt=ko(),Rt=function(pn){return{x:-pn.w/2,y:-pn.h/2}},ki=function(pn){return pn.boundingBox(),pn[0]._private.bodyBounds},Oi=function(pn){return pn.boundingBox(),pn[0]._private.labelBounds.main||pt},ii=function(pn){return pn.boundingBox(),pn[0]._private.labelBounds.source||pt},Ti=function(pn){return pn.boundingBox(),pn[0]._private.labelBounds.target||pt},fi=function(pn,kn){return kn},Ii=function(pn,kn,Qn){var rr=pn?pn+"-":"";return{x:kn.x+Qn.pstyle(rr+"text-margin-x").pfValue,y:kn.y+Qn.pstyle(rr+"text-margin-y").pfValue}},Ci=function(pn,kn,Qn){var rr=pn[0]._private.rscratch;return{x:rr[kn],y:rr[Qn]}},Nn=u.data.eleTxrCache=new wh(u,{getKey:function(pn){return pn[0]._private.nodeKey},doesEleInvalidateKey:function(pn){var kn=pn[0]._private;return!(kn.oldBackgroundTimestamp===kn.backgroundTimestamp)},drawElement:function(pn,kn,Qn,rr,_r){return u.drawElement(pn,kn,Qn,!1,!1,_r)},getBoundingBox:ki,getRotationPoint:function(pn){return function(pn){return{x:(pn.x1+pn.x2)/2,y:(pn.y1+pn.y2)/2}}(ki(pn))},getRotationOffset:function(pn){return Rt(ki(pn))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),Cn=u.data.lblTxrCache=new wh(u,{getKey:function(pn){return pn[0]._private.labelStyleKey},drawElement:function(pn,kn,Qn,rr,_r){return u.drawElementText(pn,kn,Qn,rr,"main",_r)},getBoundingBox:Oi,getRotationPoint:function(pn){return Ii("",Ci(pn,"labelX","labelY"),pn)},getRotationOffset:function(pn){var kn=Oi(pn),Qn=Rt(Oi(pn));if(pn.isNode()){switch(pn.pstyle("text-halign").value){case"left":Qn.x=-kn.w;break;case"right":Qn.x=0}switch(pn.pstyle("text-valign").value){case"top":Qn.y=-kn.h;break;case"bottom":Qn.y=0}}return Qn},isVisible:fi}),Ji=u.data.slbTxrCache=new wh(u,{getKey:function(pn){return pn[0]._private.sourceLabelStyleKey},drawElement:function(pn,kn,Qn,rr,_r){return u.drawElementText(pn,kn,Qn,rr,"source",_r)},getBoundingBox:ii,getRotationPoint:function(pn){return Ii("source",Ci(pn,"sourceLabelX","sourceLabelY"),pn)},getRotationOffset:function(pn){return Rt(ii(pn))},isVisible:fi}),Hn=u.data.tlbTxrCache=new wh(u,{getKey:function(pn){return pn[0]._private.targetLabelStyleKey},drawElement:function(pn,kn,Qn,rr,_r){return u.drawElementText(pn,kn,Qn,rr,"target",_r)},getBoundingBox:Ti,getRotationPoint:function(pn){return Ii("target",Ci(pn,"targetLabelX","targetLabelY"),pn)},getRotationOffset:function(pn){return Rt(Ti(pn))},isVisible:fi}),Si=u.data.lyrTxrCache=new op(u);u.onUpdateEleCalcs(function(pn,kn){Nn.invalidateElements(kn),Cn.invalidateElements(kn),Ji.invalidateElements(kn),Hn.invalidateElements(kn),Si.invalidateElements(kn);for(var Qn=0;Qn<kn.length;Qn++){var rr=kn[Qn]._private;rr.oldBackgroundTimestamp=rr.backgroundTimestamp}});var Zn=function(pn){for(var kn=0;kn<pn.length;kn++)Si.enqueueElementRefinement(pn[kn].ele)};Nn.onDequeue(Zn),Cn.onDequeue(Zn),Ji.onDequeue(Zn),Hn.onDequeue(Zn)}Jo.CANVAS_LAYERS=3,Jo.SELECT_BOX=0,Jo.DRAG=1,Jo.NODE=2,Jo.BUFFER_COUNT=3,Jo.TEXTURE_BUFFER=0,Jo.MOTIONBLUR_BUFFER_NODE=1,Jo.MOTIONBLUR_BUFFER_DRAG=2,Jo.redrawHint=function(x,u){var y=this;switch(x){case"eles":y.data.canvasNeedsRedraw[Jo.NODE]=u;break;case"drag":y.data.canvasNeedsRedraw[Jo.DRAG]=u;break;case"select":y.data.canvasNeedsRedraw[Jo.SELECT_BOX]=u}};var Sg="undefined"!=typeof Path2D;Jo.path2dEnabled=function(x){if(void 0===x)return this.pathsEnabled;this.pathsEnabled=!!x},Jo.usePaths=function(){return Sg&&this.pathsEnabled},Jo.setImgSmoothing=function(x,u){null!=x.imageSmoothingEnabled?x.imageSmoothingEnabled=u:(x.webkitImageSmoothingEnabled=u,x.mozImageSmoothingEnabled=u,x.msImageSmoothingEnabled=u)},Jo.getImgSmoothing=function(x){return null!=x.imageSmoothingEnabled?x.imageSmoothingEnabled:x.webkitImageSmoothingEnabled||x.mozImageSmoothingEnabled||x.msImageSmoothingEnabled},Jo.makeOffscreenCanvas=function(x,u){var y;return"undefined"!==("undefined"==typeof OffscreenCanvas?"undefined":tt(OffscreenCanvas))?y=new OffscreenCanvas(x,u):((y=document.createElement("canvas")).width=x,y.height=u),y},[eu,iu,nu,o0,Da,Br,ru,Ka,os,{nodeShapeImpl:function(x,u,y,E,R,N,j){switch(x){case"ellipse":return this.drawEllipsePath(u,y,E,R,N);case"polygon":return this.drawPolygonPath(u,y,E,R,N,j);case"round-polygon":return this.drawRoundPolygonPath(u,y,E,R,N,j);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(u,y,E,R,N);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(u,y,E,R,N);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(u,y,E,R,N);case"barrel":return this.drawBarrelPath(u,y,E,R,N)}}}].forEach(function(x){Pt(Jo,x)});var Fm=[{type:"layout",extensions:Nc},{type:"renderer",extensions:[{name:"null",impl:Xp},{name:"base",impl:Os},{name:"canvas",impl:Bu}]}],Vu={},pd={};function Kh(x,u,y){var E=y,R=function(Ti){$e("Can not register `"+u+"` for `"+x+"` since `"+Ti+"` already exists in the prototype and can not be overridden")};if("core"===x){if(Lc.prototype[u])return R(u);Lc.prototype[u]=y}else if("collection"===x){if(la.prototype[u])return R(u);la.prototype[u]=y}else if("layout"===x){for(var N=function(Ti){this.options=Ti,y.call(this,Ti),Ot(this._private)||(this._private={}),this._private.cy=Ti.cy,this._private.listeners=[],this.createEmitter()},j=N.prototype=Object.create(y.prototype),dt=[],gt=0;gt<dt.length;gt++){var pt=dt[gt];j[pt]=j[pt]||function(){return this}}j.start&&!j.run?j.run=function(){return this.start(),this}:!j.start&&j.run&&(j.start=function(){return this.run(),this});var Ct=y.prototype.stop;j.stop=function(){var ii=this.options;if(ii&&ii.animate){var Ti=this.animations;if(Ti)for(var fi=0;fi<Ti.length;fi++)Ti[fi].stop()}return Ct?Ct.call(this):this.emit("layoutstop"),this},j.destroy||(j.destroy=function(){return this}),j.cy=function(){return this._private.cy};var Rt=function(Ti){return Ti._private.cy},$t={addEventFields:function(Ti,fi){fi.layout=Ti,fi.cy=Rt(Ti),fi.target=Ti},bubble:function(){return!0},parent:function(Ti){return Rt(Ti)}};Pt(j,{createEmitter:function(){return this._private.emitter=new Bh($t,this),this},emitter:function(){return this._private.emitter},on:function(Ti,fi){return this.emitter().on(Ti,fi),this},one:function(Ti,fi){return this.emitter().one(Ti,fi),this},once:function(Ti,fi){return this.emitter().one(Ti,fi),this},removeListener:function(Ti,fi){return this.emitter().removeListener(Ti,fi),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(Ti,fi){return this.emitter().emit(Ti,fi),this}}),Ft.eventAliasesOn(j),E=N}else if("renderer"===x&&"null"!==u&&"base"!==u){var ee=Pf("renderer","base"),se=ee.prototype,qt=y,ge=y.prototype,Ae=function(){ee.apply(this,arguments),qt.apply(this,arguments)},He=Ae.prototype;for(var ze in se){var ri=se[ze];if(null!=ge[ze])return R(ze);He[ze]=ri}for(var Oi in ge)He[Oi]=ge[Oi];se.clientFunctions.forEach(function(ii){He[ii]=He[ii]||function(){pi("Renderer does not implement `renderer."+ii+"()` on its prototype")}}),E=Ae}return re({map:Vu,keys:[x,u],value:E})}function Pf(x,u){return Ye({map:Vu,keys:[x,u]})}function Na(x,u,y,E,R){return re({map:pd,keys:[x,u,y,E],value:R})}function md(x,u,y,E){return Ye({map:pd,keys:[x,u,y,E]})}var Wc=function(){return 2===arguments.length?Pf.apply(null,arguments):3===arguments.length?Kh.apply(null,arguments):4===arguments.length?md.apply(null,arguments):5===arguments.length?Na.apply(null,arguments):void pi("Invalid extension access syntax")};Lc.prototype.extension=Wc,Fm.forEach(function(x){x.extensions.forEach(function(u){Kh(x.type,u.name,u.impl)})});var Fa=function x(){if(!(this instanceof x))return new x;this.length=0},ca=Fa.prototype;ca.instanceString=function(){return"stylesheet"},ca.selector=function(x){return this[this.length++]={selector:x,properties:[]},this},ca.css=function(x,u){var y=this.length-1;if(lt(x))this[y].properties.push({name:x,value:u});else if(Ot(x))for(var E=x,R=Object.keys(E),N=0;N<R.length;N++){var j=R[N],dt=E[j];if(null!=dt){var gt=Ks.properties[j]||Ks.properties[St(j)];null!=gt&&this[y].properties.push({name:gt.name,value:dt})}}return this},ca.style=ca.css,ca.generateStyle=function(x){var u=new Ks(x);return this.appendToStyle(u)},ca.appendToStyle=function(x){for(var u=0;u<this.length;u++){var y=this[u],R=y.properties;x.selector(y.selector);for(var N=0;N<R.length;N++){var j=R[N];x.css(j.name,j.value)}}return x};var th=function(u){return void 0===u&&(u={}),Ot(u)?new Lc(u):lt(u)?Wc.apply(Wc,arguments):void 0};th.use=function(x){var u=Array.prototype.slice.call(arguments,1);return u.unshift(th),x.apply(null,u),this},th.warnings=function(x){return he(x)},th.version="3.20.0",th.stylesheet=th.Stylesheet=Fa,Ee.exports=th},1511:(Ee,Q,ut)=>{"use strict";Q.utils=ut(5835),Q.Cipher=ut(88),Q.DES=ut(7630),Q.CBC=ut(9220),Q.EDE=ut(9339)},9220:(Ee,Q,ut)=>{"use strict";var ct=ut(4725),f=ut(3516),J={};function tt(W){ct.equal(W.length,8,"Invalid IV length"),this.iv=new Array(8);for(var G=0;G<this.iv.length;G++)this.iv[G]=W[G]}Q.instantiate=function(W){function G(F){W.call(this,F),this._cbcInit()}f(G,W);for(var rt=Object.keys(J),Z=0;Z<rt.length;Z++){var H=rt[Z];G.prototype[H]=J[H]}return G.create=function(et){return new G(et)},G},J._cbcInit=function(){var G=new tt(this.options.iv);this._cbcState=G},J._update=function(G,rt,Z,H){var et=this.constructor.super_.prototype,B=this._cbcState.iv;if("encrypt"===this.type){for(var X=0;X<this.blockSize;X++)B[X]^=G[rt+X];for(et._update.call(this,B,0,Z,H),X=0;X<this.blockSize;X++)B[X]=Z[H+X]}else{for(et._update.call(this,G,rt,Z,H),X=0;X<this.blockSize;X++)Z[H+X]^=B[X];for(X=0;X<this.blockSize;X++)B[X]=G[rt+X]}}},88:(Ee,Q,ut)=>{"use strict";var ct=ut(4725);function f(J){this.options=J,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}Ee.exports=f,f.prototype._init=function(){},f.prototype.update=function(tt){return 0===tt.length?[]:"decrypt"===this.type?this._updateDecrypt(tt):this._updateEncrypt(tt)},f.prototype._buffer=function(tt,b){for(var W=Math.min(this.buffer.length-this.bufferOff,tt.length-b),G=0;G<W;G++)this.buffer[this.bufferOff+G]=tt[b+G];return this.bufferOff+=W,W},f.prototype._flushBuffer=function(tt,b){return this._update(this.buffer,0,tt,b),this.bufferOff=0,this.blockSize},f.prototype._updateEncrypt=function(tt){var b=0,W=0,rt=new Array(((this.bufferOff+tt.length)/this.blockSize|0)*this.blockSize);0!==this.bufferOff&&(b+=this._buffer(tt,b),this.bufferOff===this.buffer.length&&(W+=this._flushBuffer(rt,W)));for(var Z=tt.length-(tt.length-b)%this.blockSize;b<Z;b+=this.blockSize)this._update(tt,b,rt,W),W+=this.blockSize;for(;b<tt.length;b++,this.bufferOff++)this.buffer[this.bufferOff]=tt[b];return rt},f.prototype._updateDecrypt=function(tt){for(var b=0,W=0,G=Math.ceil((this.bufferOff+tt.length)/this.blockSize)-1,rt=new Array(G*this.blockSize);G>0;G--)b+=this._buffer(tt,b),W+=this._flushBuffer(rt,W);return b+=this._buffer(tt,b),rt},f.prototype.final=function(tt){var b,W;return tt&&(b=this.update(tt)),W="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),b?b.concat(W):W},f.prototype._pad=function(tt,b){if(0===b)return!1;for(;b<tt.length;)tt[b++]=0;return!0},f.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var tt=new Array(this.blockSize);return this._update(this.buffer,0,tt,0),tt},f.prototype._unpad=function(tt){return tt},f.prototype._finalDecrypt=function(){ct.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var tt=new Array(this.blockSize);return this._flushBuffer(tt,0),this._unpad(tt)}},7630:(Ee,Q,ut)=>{"use strict";var ct=ut(4725),f=ut(3516),J=ut(5835),tt=ut(88);function b(){this.tmp=new Array(2),this.keys=null}function W(rt){tt.call(this,rt);var Z=new b;this._desState=Z,this.deriveKeys(Z,rt.key)}f(W,tt),Ee.exports=W,W.create=function(Z){return new W(Z)};var G=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];W.prototype.deriveKeys=function(Z,H){Z.keys=new Array(32),ct.equal(H.length,this.blockSize,"Invalid key length");var F=J.readUInt32BE(H,0),et=J.readUInt32BE(H,4);J.pc1(F,et,Z.tmp,0),F=Z.tmp[0],et=Z.tmp[1];for(var B=0;B<Z.keys.length;B+=2){var X=G[B>>>1];F=J.r28shl(F,X),et=J.r28shl(et,X),J.pc2(F,et,Z.keys,B)}},W.prototype._update=function(Z,H,F,et){var B=this._desState,X=J.readUInt32BE(Z,H),z=J.readUInt32BE(Z,H+4);J.ip(X,z,B.tmp,0),X=B.tmp[0],z=B.tmp[1],"encrypt"===this.type?this._encrypt(B,X,z,B.tmp,0):this._decrypt(B,X,z,B.tmp,0),z=B.tmp[1],J.writeUInt32BE(F,X=B.tmp[0],et),J.writeUInt32BE(F,z,et+4)},W.prototype._pad=function(Z,H){for(var F=Z.length-H,et=H;et<Z.length;et++)Z[et]=F;return!0},W.prototype._unpad=function(Z){for(var H=Z[Z.length-1],F=Z.length-H;F<Z.length;F++)ct.equal(Z[F],H);return Z.slice(0,Z.length-H)},W.prototype._encrypt=function(Z,H,F,et,B){for(var X=H,z=F,Y=0;Y<Z.keys.length;Y+=2){var q=Z.keys[Y],U=Z.keys[Y+1];J.expand(z,Z.tmp,0);var it=J.substitute(q^=Z.tmp[0],U^=Z.tmp[1]),lt=z;z=(X^J.permute(it))>>>0,X=lt}J.rip(z,X,et,B)},W.prototype._decrypt=function(Z,H,F,et,B){for(var X=F,z=H,Y=Z.keys.length-2;Y>=0;Y-=2){var q=Z.keys[Y],U=Z.keys[Y+1];J.expand(X,Z.tmp,0);var it=J.substitute(q^=Z.tmp[0],U^=Z.tmp[1]),lt=X;X=(z^J.permute(it))>>>0,z=lt}J.rip(X,z,et,B)}},9339:(Ee,Q,ut)=>{"use strict";var ct=ut(4725),f=ut(3516),J=ut(88),tt=ut(7630);function b(G,rt){ct.equal(rt.length,24,"Invalid key length");var Z=rt.slice(0,8),H=rt.slice(8,16),F=rt.slice(16,24);this.ciphers="encrypt"===G?[tt.create({type:"encrypt",key:Z}),tt.create({type:"decrypt",key:H}),tt.create({type:"encrypt",key:F})]:[tt.create({type:"decrypt",key:F}),tt.create({type:"encrypt",key:H}),tt.create({type:"decrypt",key:Z})]}function W(G){J.call(this,G);var rt=new b(this.type,this.options.key);this._edeState=rt}f(W,J),Ee.exports=W,W.create=function(rt){return new W(rt)},W.prototype._update=function(rt,Z,H,F){var et=this._edeState;et.ciphers[0]._update(rt,Z,H,F),et.ciphers[1]._update(H,F,H,F),et.ciphers[2]._update(H,F,H,F)},W.prototype._pad=tt.prototype._pad,W.prototype._unpad=tt.prototype._unpad},5835:(Ee,Q)=>{"use strict";Q.readUInt32BE=function(tt,b){return(tt[0+b]<<24|tt[1+b]<<16|tt[2+b]<<8|tt[3+b])>>>0},Q.writeUInt32BE=function(tt,b,W){tt[0+W]=b>>>24,tt[1+W]=b>>>16&255,tt[2+W]=b>>>8&255,tt[3+W]=255&b},Q.ip=function(tt,b,W,G){for(var rt=0,Z=0,H=6;H>=0;H-=2){for(var F=0;F<=24;F+=8)rt<<=1,rt|=b>>>F+H&1;for(F=0;F<=24;F+=8)rt<<=1,rt|=tt>>>F+H&1}for(H=6;H>=0;H-=2){for(F=1;F<=25;F+=8)Z<<=1,Z|=b>>>F+H&1;for(F=1;F<=25;F+=8)Z<<=1,Z|=tt>>>F+H&1}W[G+0]=rt>>>0,W[G+1]=Z>>>0},Q.rip=function(tt,b,W,G){for(var rt=0,Z=0,H=0;H<4;H++)for(var F=24;F>=0;F-=8)rt<<=1,rt|=b>>>F+H&1,rt<<=1,rt|=tt>>>F+H&1;for(H=4;H<8;H++)for(F=24;F>=0;F-=8)Z<<=1,Z|=b>>>F+H&1,Z<<=1,Z|=tt>>>F+H&1;W[G+0]=rt>>>0,W[G+1]=Z>>>0},Q.pc1=function(tt,b,W,G){for(var rt=0,Z=0,H=7;H>=5;H--){for(var F=0;F<=24;F+=8)rt<<=1,rt|=b>>F+H&1;for(F=0;F<=24;F+=8)rt<<=1,rt|=tt>>F+H&1}for(F=0;F<=24;F+=8)rt<<=1,rt|=b>>F+H&1;for(H=1;H<=3;H++){for(F=0;F<=24;F+=8)Z<<=1,Z|=b>>F+H&1;for(F=0;F<=24;F+=8)Z<<=1,Z|=tt>>F+H&1}for(F=0;F<=24;F+=8)Z<<=1,Z|=tt>>F+H&1;W[G+0]=rt>>>0,W[G+1]=Z>>>0},Q.r28shl=function(tt,b){return tt<<b&268435455|tt>>>28-b};var ut=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];Q.pc2=function(tt,b,W,G){for(var rt=0,Z=0,H=ut.length>>>1,F=0;F<H;F++)rt<<=1,rt|=tt>>>ut[F]&1;for(F=H;F<ut.length;F++)Z<<=1,Z|=b>>>ut[F]&1;W[G+0]=rt>>>0,W[G+1]=Z>>>0},Q.expand=function(tt,b,W){var G=0,rt=0;G=(1&tt)<<5|tt>>>27;for(var Z=23;Z>=15;Z-=4)G<<=6,G|=tt>>>Z&63;for(Z=11;Z>=3;Z-=4)rt|=tt>>>Z&63,rt<<=6;rt|=(31&tt)<<1|tt>>>31,b[W+0]=G>>>0,b[W+1]=rt>>>0};var ct=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];Q.substitute=function(tt,b){for(var W=0,G=0;G<4;G++)W<<=4,W|=ct[64*G+(tt>>>18-6*G&63)];for(G=0;G<4;G++)W<<=4,W|=ct[256+64*G+(b>>>18-6*G&63)];return W>>>0};var f=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];Q.permute=function(tt){for(var b=0,W=0;W<f.length;W++)b<<=1,b|=tt>>>f[W]&1;return b>>>0},Q.padSplit=function(tt,b,W){for(var G=tt.toString(2);G.length<b;)G="0"+G;for(var rt=[],Z=0;Z<b;Z+=W)rt.push(G.slice(Z,Z+W));return rt.join(" ")}},1198:(Ee,Q,ut)=>{var ct=ut(6281),f=ut(9799),J=ut(2838),b={binary:!0,hex:!0,base64:!0};Q.DiffieHellmanGroup=Q.createDiffieHellmanGroup=Q.getDiffieHellman=function(G){var rt=new Buffer(f[G].prime,"hex"),Z=new Buffer(f[G].gen,"hex");return new J(rt,Z)},Q.createDiffieHellman=Q.DiffieHellman=function W(G,rt,Z,H){return Buffer.isBuffer(rt)||void 0===b[rt]?W(G,"binary",rt,Z):(rt=rt||"binary",H=H||"binary",Z=Z||new Buffer([2]),Buffer.isBuffer(Z)||(Z=new Buffer(Z,H)),"number"==typeof G?new J(ct(G,Z),Z,!0):(Buffer.isBuffer(G)||(G=new Buffer(G,rt)),new J(G,Z,!0)))}},2838:(Ee,Q,ut)=>{var ct=ut(9723),J=new(ut(2098)),tt=new ct(24),b=new ct(11),W=new ct(10),G=new ct(3),rt=new ct(7),Z=ut(6281),H=ut(8747);function F(q,U){return U=U||"utf8",Buffer.isBuffer(q)||(q=new Buffer(q,U)),this._pub=new ct(q),this}function et(q,U){return U=U||"utf8",Buffer.isBuffer(q)||(q=new Buffer(q,U)),this._priv=new ct(q),this}Ee.exports=z;var B={};function z(q,U,it){this.setGenerator(U),this.__prime=new ct(q),this._prime=ct.mont(this.__prime),this._primeLen=q.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,it?(this.setPublicKey=F,this.setPrivateKey=et):this._primeCode=8}function Y(q,U){var it=new Buffer(q.toArray());return U?it.toString(U):it}Object.defineProperty(z.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(q,U){var it=U.toString("hex"),ot=[it,q.toString(16)].join("_");if(ot in B)return B[ot];var wt,lt=0;if(q.isEven()||!Z.simpleSieve||!Z.fermatTest(q)||!J.test(q))return lt+=1,B[ot]=lt+="02"===it||"05"===it?8:4,lt;switch(J.test(q.shrn(1))||(lt+=2),it){case"02":q.mod(tt).cmp(b)&&(lt+=8);break;case"05":(wt=q.mod(W)).cmp(G)&&wt.cmp(rt)&&(lt+=8);break;default:lt+=4}return B[ot]=lt,lt}(this.__prime,this.__gen)),this._primeCode}}),z.prototype.generateKeys=function(){return this._priv||(this._priv=new ct(H(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},z.prototype.computeSecret=function(q){var U=(q=(q=new ct(q)).toRed(this._prime)).redPow(this._priv).fromRed(),it=new Buffer(U.toArray()),ot=this.getPrime();if(it.length<ot.length){var lt=new Buffer(ot.length-it.length);lt.fill(0),it=Buffer.concat([lt,it])}return it},z.prototype.getPublicKey=function(U){return Y(this._pub,U)},z.prototype.getPrivateKey=function(U){return Y(this._priv,U)},z.prototype.getPrime=function(q){return Y(this.__prime,q)},z.prototype.getGenerator=function(q){return Y(this._gen,q)},z.prototype.setGenerator=function(q,U){return U=U||"utf8",Buffer.isBuffer(q)||(q=new Buffer(q,U)),this.__gen=q,this._gen=new ct(q),this}},6281:(Ee,Q,ut)=>{var ct=ut(8747);Ee.exports=lt,lt.simpleSieve=it,lt.fermatTest=ot;var f=ut(9723),J=new f(24),b=new(ut(2098)),W=new f(1),G=new f(2),rt=new f(5),F=(new f(16),new f(8),new f(10)),et=new f(3),X=(new f(7),new f(11)),z=new f(4),q=(new f(12),null);function it(wt){for(var xt=function(){if(null!==q)return q;var xt=[];xt[0]=2;for(var Ot=1,Tt=3;Tt<1048576;Tt+=2){for(var Et=Math.ceil(Math.sqrt(Tt)),A=0;A<Ot&&xt[A]<=Et&&Tt%xt[A]!=0;A++);Ot!==A&&xt[A]<=Et||(xt[Ot++]=Tt)}return q=xt,xt}(),Ot=0;Ot<xt.length;Ot++)if(0===wt.modn(xt[Ot]))return 0===wt.cmpn(xt[Ot]);return!0}function ot(wt){var xt=f.mont(wt);return 0===G.toRed(xt).redPow(wt.subn(1)).fromRed().cmpn(1)}function lt(wt,xt){if(wt<16)return new f(2===xt||5===xt?[140,123]:[140,39]);xt=new f(xt);for(var Ot,Tt;;){for(Ot=new f(ct(Math.ceil(wt/8)));Ot.bitLength()>wt;)Ot.ishrn(1);if(Ot.isEven()&&Ot.iadd(W),Ot.testn(1)||Ot.iadd(G),xt.cmp(G)){if(!xt.cmp(rt))for(;Ot.mod(F).cmp(et);)Ot.iadd(z)}else for(;Ot.mod(J).cmp(X);)Ot.iadd(z);if(it(Tt=Ot.shrn(1))&&it(Ot)&&ot(Tt)&&ot(Ot)&&b.test(Tt)&&b.test(Ot))return Ot}}},9723:function(Ee,Q,ut){!function(ct,f){"use strict";function J(A,o){if(!A)throw new Error(o||"Assertion failed")}function tt(A,o){A.super_=o;var c=function(){};c.prototype=o.prototype,A.prototype=new c,A.prototype.constructor=A}function b(A,o,c){if(b.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,null!==A&&(("le"===o||"be"===o)&&(c=o,o=10),this._init(A||0,o||10,c||"be"))}var W;"object"==typeof ct?ct.exports=b:f.BN=b,b.BN=b,b.wordSize=26;try{W="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:ut(7748).Buffer}catch(A){}function G(A,o){var c=A.charCodeAt(o);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function rt(A,o,c){var g=G(A,c);return c-1>=o&&(g|=G(A,c-1)<<4),g}function Z(A,o,c,g){for(var p=0,w=Math.min(A.length,c),S=o;S<w;S++){var T=A.charCodeAt(S)-48;p*=g,p+=T>=49?T-49+10:T>=17?T-17+10:T}return p}b.isBN=function(o){return o instanceof b||null!==o&&"object"==typeof o&&o.constructor.wordSize===b.wordSize&&Array.isArray(o.words)},b.max=function(o,c){return o.cmp(c)>0?o:c},b.min=function(o,c){return o.cmp(c)<0?o:c},b.prototype._init=function(o,c,g){if("number"==typeof o)return this._initNumber(o,c,g);if("object"==typeof o)return this._initArray(o,c,g);"hex"===c&&(c=16),J(c===(0|c)&&c>=2&&c<=36);var p=0;"-"===(o=o.toString().replace(/\s+/g,""))[0]&&(p++,this.negative=1),p<o.length&&(16===c?this._parseHex(o,p,g):(this._parseBase(o,c,p),"le"===g&&this._initArray(this.toArray(),c,g)))},b.prototype._initNumber=function(o,c,g){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[67108863&o],this.length=1):o<4503599627370496?(this.words=[67108863&o,o/67108864&67108863],this.length=2):(J(o<9007199254740992),this.words=[67108863&o,o/67108864&67108863,1],this.length=3),"le"===g&&this._initArray(this.toArray(),c,g)},b.prototype._initArray=function(o,c,g){if(J("number"==typeof o.length),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var w,S,T=0;if("be"===g)for(p=o.length-1,w=0;p>=0;p-=3)this.words[w]|=(S=o[p]|o[p-1]<<8|o[p-2]<<16)<<T&67108863,this.words[w+1]=S>>>26-T&67108863,(T+=24)>=26&&(T-=26,w++);else if("le"===g)for(p=0,w=0;p<o.length;p+=3)this.words[w]|=(S=o[p]|o[p+1]<<8|o[p+2]<<16)<<T&67108863,this.words[w+1]=S>>>26-T&67108863,(T+=24)>=26&&(T-=26,w++);return this.strip()},b.prototype._parseHex=function(o,c,g){this.length=Math.ceil((o.length-c)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var T,w=0,S=0;if("be"===g)for(p=o.length-1;p>=c;p-=2)T=rt(o,c,p)<<w,this.words[S]|=67108863&T,w>=18?(w-=18,this.words[S+=1]|=T>>>26):w+=8;else for(p=(o.length-c)%2==0?c+1:c;p<o.length;p+=2)T=rt(o,c,p)<<w,this.words[S]|=67108863&T,w>=18?(w-=18,this.words[S+=1]|=T>>>26):w+=8;this.strip()},b.prototype._parseBase=function(o,c,g){this.words=[0],this.length=1;for(var p=0,w=1;w<=67108863;w*=c)p++;p--,w=w/c|0;for(var S=o.length-g,T=S%p,C=Math.min(S,S-T)+g,h=0,k=g;k<C;k+=p)h=Z(o,k,k+p,c),this.imuln(w),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==T){var ft=1;for(h=Z(o,k,o.length,c),k=0;k<T;k++)ft*=c;this.imuln(ft),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},b.prototype.copy=function(o){o.words=new Array(this.length);for(var c=0;c<this.length;c++)o.words[c]=this.words[c];o.length=this.length,o.negative=this.negative,o.red=this.red},b.prototype.clone=function(){var o=new b(null);return this.copy(o),o},b.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},b.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},b.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},b.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var H=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],F=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],et=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function X(A,o,c){c.negative=o.negative^A.negative;var g=A.length+o.length|0;c.length=g,g=g-1|0;var p=0|A.words[0],w=0|o.words[0],S=p*w,C=S/67108864|0;c.words[0]=67108863&S;for(var h=1;h<g;h++){for(var k=C>>>26,ft=67108863&C,at=Math.min(h,o.length-1),st=Math.max(0,h-A.length+1);st<=at;st++)k+=(S=(p=0|A.words[h-st|0])*(w=0|o.words[st])+ft)/67108864|0,ft=67108863&S;c.words[h]=0|ft,C=0|k}return 0!==C?c.words[h]=0|C:c.length--,c.strip()}b.prototype.toString=function(o,c){var g;if(c=0|c||1,16===(o=o||10)||"hex"===o){g="";for(var p=0,w=0,S=0;S<this.length;S++){var T=this.words[S],C=(16777215&(T<<p|w)).toString(16);g=0!=(w=T>>>24-p&16777215)||S!==this.length-1?H[6-C.length]+C+g:C+g,(p+=2)>=26&&(p-=26,S--)}for(0!==w&&(g=w.toString(16)+g);g.length%c!=0;)g="0"+g;return 0!==this.negative&&(g="-"+g),g}if(o===(0|o)&&o>=2&&o<=36){var h=F[o],k=et[o];g="";var ft=this.clone();for(ft.negative=0;!ft.isZero();){var at=ft.modn(k).toString(o);g=(ft=ft.idivn(k)).isZero()?at+g:H[h-at.length]+at+g}for(this.isZero()&&(g="0"+g);g.length%c!=0;)g="0"+g;return 0!==this.negative&&(g="-"+g),g}J(!1,"Base should be between 2 and 36")},b.prototype.toNumber=function(){var o=this.words[0];return 2===this.length?o+=67108864*this.words[1]:3===this.length&&1===this.words[2]?o+=4503599627370496+67108864*this.words[1]:this.length>2&&J(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-o:o},b.prototype.toJSON=function(){return this.toString(16)},b.prototype.toBuffer=function(o,c){return J(void 0!==W),this.toArrayLike(W,o,c)},b.prototype.toArray=function(o,c){return this.toArrayLike(Array,o,c)},b.prototype.toArrayLike=function(o,c,g){var p=this.byteLength(),w=g||Math.max(1,p);J(p<=w,"byte array longer than desired length"),J(w>0,"Requested array length <= 0"),this.strip();var C,h,S="le"===c,T=new o(w),k=this.clone();if(S){for(h=0;!k.isZero();h++)C=k.andln(255),k.iushrn(8),T[h]=C;for(;h<w;h++)T[h]=0}else{for(h=0;h<w-p;h++)T[h]=0;for(h=0;!k.isZero();h++)C=k.andln(255),k.iushrn(8),T[w-h-1]=C}return T},b.prototype._countBits=Math.clz32?function(o){return 32-Math.clz32(o)}:function(o){var c=o,g=0;return c>=4096&&(g+=13,c>>>=13),c>=64&&(g+=7,c>>>=7),c>=8&&(g+=4,c>>>=4),c>=2&&(g+=2,c>>>=2),g+c},b.prototype._zeroBits=function(o){if(0===o)return 26;var c=o,g=0;return 0==(8191&c)&&(g+=13,c>>>=13),0==(127&c)&&(g+=7,c>>>=7),0==(15&c)&&(g+=4,c>>>=4),0==(3&c)&&(g+=2,c>>>=2),0==(1&c)&&g++,g},b.prototype.bitLength=function(){var c=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+c},b.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,c=0;c<this.length;c++){var g=this._zeroBits(this.words[c]);if(o+=g,26!==g)break}return o},b.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},b.prototype.toTwos=function(o){return 0!==this.negative?this.abs().inotn(o).iaddn(1):this.clone()},b.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},b.prototype.isNeg=function(){return 0!==this.negative},b.prototype.neg=function(){return this.clone().ineg()},b.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},b.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var c=0;c<o.length;c++)this.words[c]=this.words[c]|o.words[c];return this.strip()},b.prototype.ior=function(o){return J(0==(this.negative|o.negative)),this.iuor(o)},b.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},b.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},b.prototype.iuand=function(o){var c;c=this.length>o.length?o:this;for(var g=0;g<c.length;g++)this.words[g]=this.words[g]&o.words[g];return this.length=c.length,this.strip()},b.prototype.iand=function(o){return J(0==(this.negative|o.negative)),this.iuand(o)},b.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},b.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},b.prototype.iuxor=function(o){var c,g;this.length>o.length?(c=this,g=o):(c=o,g=this);for(var p=0;p<g.length;p++)this.words[p]=c.words[p]^g.words[p];if(this!==c)for(;p<c.length;p++)this.words[p]=c.words[p];return this.length=c.length,this.strip()},b.prototype.ixor=function(o){return J(0==(this.negative|o.negative)),this.iuxor(o)},b.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},b.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},b.prototype.inotn=function(o){J("number"==typeof o&&o>=0);var c=0|Math.ceil(o/26),g=o%26;this._expand(c),g>0&&c--;for(var p=0;p<c;p++)this.words[p]=67108863&~this.words[p];return g>0&&(this.words[p]=~this.words[p]&67108863>>26-g),this.strip()},b.prototype.notn=function(o){return this.clone().inotn(o)},b.prototype.setn=function(o,c){J("number"==typeof o&&o>=0);var g=o/26|0,p=o%26;return this._expand(g+1),this.words[g]=c?this.words[g]|1<<p:this.words[g]&~(1<<p),this.strip()},b.prototype.iadd=function(o){var c,g,p;if(0!==this.negative&&0===o.negative)return this.negative=0,c=this.isub(o),this.negative^=1,this._normSign();if(0===this.negative&&0!==o.negative)return o.negative=0,c=this.isub(o),o.negative=1,c._normSign();this.length>o.length?(g=this,p=o):(g=o,p=this);for(var w=0,S=0;S<p.length;S++)this.words[S]=67108863&(c=(0|g.words[S])+(0|p.words[S])+w),w=c>>>26;for(;0!==w&&S<g.length;S++)this.words[S]=67108863&(c=(0|g.words[S])+w),w=c>>>26;if(this.length=g.length,0!==w)this.words[this.length]=w,this.length++;else if(g!==this)for(;S<g.length;S++)this.words[S]=g.words[S];return this},b.prototype.add=function(o){var c;return 0!==o.negative&&0===this.negative?(o.negative=0,c=this.sub(o),o.negative^=1,c):0===o.negative&&0!==this.negative?(this.negative=0,c=o.sub(this),this.negative=1,c):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},b.prototype.isub=function(o){if(0!==o.negative){o.negative=0;var c=this.iadd(o);return o.negative=1,c._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var p,w,g=this.cmp(o);if(0===g)return this.negative=0,this.length=1,this.words[0]=0,this;g>0?(p=this,w=o):(p=o,w=this);for(var S=0,T=0;T<w.length;T++)S=(c=(0|p.words[T])-(0|w.words[T])+S)>>26,this.words[T]=67108863&c;for(;0!==S&&T<p.length;T++)S=(c=(0|p.words[T])+S)>>26,this.words[T]=67108863&c;if(0===S&&T<p.length&&p!==this)for(;T<p.length;T++)this.words[T]=p.words[T];return this.length=Math.max(this.length,T),p!==this&&(this.negative=1),this.strip()},b.prototype.sub=function(o){return this.clone().isub(o)};var z=function(o,c,g){var C,h,k,p=o.words,w=c.words,S=g.words,T=0,ft=0|p[0],at=8191&ft,st=ft>>>13,Mt=0|p[1],St=8191&Mt,Xt=Mt>>>13,te=0|p[2],Vt=8191&te,Dt=te>>>13,ve=0|p[3],Gt=8191&ve,Nt=ve>>>13,Kt=0|p[4],fe=8191&Kt,zt=Kt>>>13,Ne=0|p[5],Pt=8191&Ne,Se=Ne>>>13,Fi=0|p[6],Ge=8191&Fi,_e=Fi>>>13,Ce=0|p[7],Bt=8191&Ce,re=Ce>>>13,Ye=0|p[8],jt=8191&Ye,yt=Ye>>>13,ht=0|p[9],ce=8191&ht,ke=ht>>>13,Pi=0|w[0],We=8191&Pi,si=Pi>>>13,bn=0|w[1],wi=8191&bn,je=bn>>>13,ci=0|w[2],Oe=8191&ci,oi=ci>>>13,Vn=0|w[3],ei=8191&Vn,De=Vn>>>13,qe=0|w[4],ni=8191&qe,ne=qe>>>13,Qt=0|w[5],Zt=8191&Qt,Ut=Qt>>>13,xe=0|w[6],ue=8191&xe,Re=xe>>>13,pi=0|w[7],he=8191&pi,$e=pi>>>13,_n=0|w[8],Ei=8191&_n,zi=_n>>>13,ir=0|w[9],bi=8191&ir,Li=ir>>>13;g.negative=o.negative^c.negative,g.length=19;var Ln=(T+(C=Math.imul(at,We))|0)+((8191&(h=(h=Math.imul(at,si))+Math.imul(st,We)|0))<<13)|0;T=((k=Math.imul(st,si))+(h>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,C=Math.imul(St,We),h=(h=Math.imul(St,si))+Math.imul(Xt,We)|0,k=Math.imul(Xt,si);var Kn=(T+(C=C+Math.imul(at,wi)|0)|0)+((8191&(h=(h=h+Math.imul(at,je)|0)+Math.imul(st,wi)|0))<<13)|0;T=((k=k+Math.imul(st,je)|0)+(h>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,C=Math.imul(Vt,We),h=(h=Math.imul(Vt,si))+Math.imul(Dt,We)|0,k=Math.imul(Dt,si),C=C+Math.imul(St,wi)|0,h=(h=h+Math.imul(St,je)|0)+Math.imul(Xt,wi)|0,k=k+Math.imul(Xt,je)|0;var pr=(T+(C=C+Math.imul(at,Oe)|0)|0)+((8191&(h=(h=h+Math.imul(at,oi)|0)+Math.imul(st,Oe)|0))<<13)|0;T=((k=k+Math.imul(st,oi)|0)+(h>>>13)|0)+(pr>>>26)|0,pr&=67108863,C=Math.imul(Gt,We),h=(h=Math.imul(Gt,si))+Math.imul(Nt,We)|0,k=Math.imul(Nt,si),C=C+Math.imul(Vt,wi)|0,h=(h=h+Math.imul(Vt,je)|0)+Math.imul(Dt,wi)|0,k=k+Math.imul(Dt,je)|0,C=C+Math.imul(St,Oe)|0,h=(h=h+Math.imul(St,oi)|0)+Math.imul(Xt,Oe)|0,k=k+Math.imul(Xt,oi)|0;var Jn=(T+(C=C+Math.imul(at,ei)|0)|0)+((8191&(h=(h=h+Math.imul(at,De)|0)+Math.imul(st,ei)|0))<<13)|0;T=((k=k+Math.imul(st,De)|0)+(h>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,C=Math.imul(fe,We),h=(h=Math.imul(fe,si))+Math.imul(zt,We)|0,k=Math.imul(zt,si),C=C+Math.imul(Gt,wi)|0,h=(h=h+Math.imul(Gt,je)|0)+Math.imul(Nt,wi)|0,k=k+Math.imul(Nt,je)|0,C=C+Math.imul(Vt,Oe)|0,h=(h=h+Math.imul(Vt,oi)|0)+Math.imul(Dt,Oe)|0,k=k+Math.imul(Dt,oi)|0,C=C+Math.imul(St,ei)|0,h=(h=h+Math.imul(St,De)|0)+Math.imul(Xt,ei)|0,k=k+Math.imul(Xt,De)|0;var Ni=(T+(C=C+Math.imul(at,ni)|0)|0)+((8191&(h=(h=h+Math.imul(at,ne)|0)+Math.imul(st,ni)|0))<<13)|0;T=((k=k+Math.imul(st,ne)|0)+(h>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,C=Math.imul(Pt,We),h=(h=Math.imul(Pt,si))+Math.imul(Se,We)|0,k=Math.imul(Se,si),C=C+Math.imul(fe,wi)|0,h=(h=h+Math.imul(fe,je)|0)+Math.imul(zt,wi)|0,k=k+Math.imul(zt,je)|0,C=C+Math.imul(Gt,Oe)|0,h=(h=h+Math.imul(Gt,oi)|0)+Math.imul(Nt,Oe)|0,k=k+Math.imul(Nt,oi)|0,C=C+Math.imul(Vt,ei)|0,h=(h=h+Math.imul(Vt,De)|0)+Math.imul(Dt,ei)|0,k=k+Math.imul(Dt,De)|0,C=C+Math.imul(St,ni)|0,h=(h=h+Math.imul(St,ne)|0)+Math.imul(Xt,ni)|0,k=k+Math.imul(Xt,ne)|0;var xi=(T+(C=C+Math.imul(at,Zt)|0)|0)+((8191&(h=(h=h+Math.imul(at,Ut)|0)+Math.imul(st,Zt)|0))<<13)|0;T=((k=k+Math.imul(st,Ut)|0)+(h>>>13)|0)+(xi>>>26)|0,xi&=67108863,C=Math.imul(Ge,We),h=(h=Math.imul(Ge,si))+Math.imul(_e,We)|0,k=Math.imul(_e,si),C=C+Math.imul(Pt,wi)|0,h=(h=h+Math.imul(Pt,je)|0)+Math.imul(Se,wi)|0,k=k+Math.imul(Se,je)|0,C=C+Math.imul(fe,Oe)|0,h=(h=h+Math.imul(fe,oi)|0)+Math.imul(zt,Oe)|0,k=k+Math.imul(zt,oi)|0,C=C+Math.imul(Gt,ei)|0,h=(h=h+Math.imul(Gt,De)|0)+Math.imul(Nt,ei)|0,k=k+Math.imul(Nt,De)|0,C=C+Math.imul(Vt,ni)|0,h=(h=h+Math.imul(Vt,ne)|0)+Math.imul(Dt,ni)|0,k=k+Math.imul(Dt,ne)|0,C=C+Math.imul(St,Zt)|0,h=(h=h+Math.imul(St,Ut)|0)+Math.imul(Xt,Zt)|0,k=k+Math.imul(Xt,Ut)|0;var Je=(T+(C=C+Math.imul(at,ue)|0)|0)+((8191&(h=(h=h+Math.imul(at,Re)|0)+Math.imul(st,ue)|0))<<13)|0;T=((k=k+Math.imul(st,Re)|0)+(h>>>13)|0)+(Je>>>26)|0,Je&=67108863,C=Math.imul(Bt,We),h=(h=Math.imul(Bt,si))+Math.imul(re,We)|0,k=Math.imul(re,si),C=C+Math.imul(Ge,wi)|0,h=(h=h+Math.imul(Ge,je)|0)+Math.imul(_e,wi)|0,k=k+Math.imul(_e,je)|0,C=C+Math.imul(Pt,Oe)|0,h=(h=h+Math.imul(Pt,oi)|0)+Math.imul(Se,Oe)|0,k=k+Math.imul(Se,oi)|0,C=C+Math.imul(fe,ei)|0,h=(h=h+Math.imul(fe,De)|0)+Math.imul(zt,ei)|0,k=k+Math.imul(zt,De)|0,C=C+Math.imul(Gt,ni)|0,h=(h=h+Math.imul(Gt,ne)|0)+Math.imul(Nt,ni)|0,k=k+Math.imul(Nt,ne)|0,C=C+Math.imul(Vt,Zt)|0,h=(h=h+Math.imul(Vt,Ut)|0)+Math.imul(Dt,Zt)|0,k=k+Math.imul(Dt,Ut)|0,C=C+Math.imul(St,ue)|0,h=(h=h+Math.imul(St,Re)|0)+Math.imul(Xt,ue)|0,k=k+Math.imul(Xt,Re)|0;var Ui=(T+(C=C+Math.imul(at,he)|0)|0)+((8191&(h=(h=h+Math.imul(at,$e)|0)+Math.imul(st,he)|0))<<13)|0;T=((k=k+Math.imul(st,$e)|0)+(h>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,C=Math.imul(jt,We),h=(h=Math.imul(jt,si))+Math.imul(yt,We)|0,k=Math.imul(yt,si),C=C+Math.imul(Bt,wi)|0,h=(h=h+Math.imul(Bt,je)|0)+Math.imul(re,wi)|0,k=k+Math.imul(re,je)|0,C=C+Math.imul(Ge,Oe)|0,h=(h=h+Math.imul(Ge,oi)|0)+Math.imul(_e,Oe)|0,k=k+Math.imul(_e,oi)|0,C=C+Math.imul(Pt,ei)|0,h=(h=h+Math.imul(Pt,De)|0)+Math.imul(Se,ei)|0,k=k+Math.imul(Se,De)|0,C=C+Math.imul(fe,ni)|0,h=(h=h+Math.imul(fe,ne)|0)+Math.imul(zt,ni)|0,k=k+Math.imul(zt,ne)|0,C=C+Math.imul(Gt,Zt)|0,h=(h=h+Math.imul(Gt,Ut)|0)+Math.imul(Nt,Zt)|0,k=k+Math.imul(Nt,Ut)|0,C=C+Math.imul(Vt,ue)|0,h=(h=h+Math.imul(Vt,Re)|0)+Math.imul(Dt,ue)|0,k=k+Math.imul(Dt,Re)|0,C=C+Math.imul(St,he)|0,h=(h=h+Math.imul(St,$e)|0)+Math.imul(Xt,he)|0,k=k+Math.imul(Xt,$e)|0;var on=(T+(C=C+Math.imul(at,Ei)|0)|0)+((8191&(h=(h=h+Math.imul(at,zi)|0)+Math.imul(st,Ei)|0))<<13)|0;T=((k=k+Math.imul(st,zi)|0)+(h>>>13)|0)+(on>>>26)|0,on&=67108863,C=Math.imul(ce,We),h=(h=Math.imul(ce,si))+Math.imul(ke,We)|0,k=Math.imul(ke,si),C=C+Math.imul(jt,wi)|0,h=(h=h+Math.imul(jt,je)|0)+Math.imul(yt,wi)|0,k=k+Math.imul(yt,je)|0,C=C+Math.imul(Bt,Oe)|0,h=(h=h+Math.imul(Bt,oi)|0)+Math.imul(re,Oe)|0,k=k+Math.imul(re,oi)|0,C=C+Math.imul(Ge,ei)|0,h=(h=h+Math.imul(Ge,De)|0)+Math.imul(_e,ei)|0,k=k+Math.imul(_e,De)|0,C=C+Math.imul(Pt,ni)|0,h=(h=h+Math.imul(Pt,ne)|0)+Math.imul(Se,ni)|0,k=k+Math.imul(Se,ne)|0,C=C+Math.imul(fe,Zt)|0,h=(h=h+Math.imul(fe,Ut)|0)+Math.imul(zt,Zt)|0,k=k+Math.imul(zt,Ut)|0,C=C+Math.imul(Gt,ue)|0,h=(h=h+Math.imul(Gt,Re)|0)+Math.imul(Nt,ue)|0,k=k+Math.imul(Nt,Re)|0,C=C+Math.imul(Vt,he)|0,h=(h=h+Math.imul(Vt,$e)|0)+Math.imul(Dt,he)|0,k=k+Math.imul(Dt,$e)|0,C=C+Math.imul(St,Ei)|0,h=(h=h+Math.imul(St,zi)|0)+Math.imul(Xt,Ei)|0,k=k+Math.imul(Xt,zi)|0;var nr=(T+(C=C+Math.imul(at,bi)|0)|0)+((8191&(h=(h=h+Math.imul(at,Li)|0)+Math.imul(st,bi)|0))<<13)|0;T=((k=k+Math.imul(st,Li)|0)+(h>>>13)|0)+(nr>>>26)|0,nr&=67108863,C=Math.imul(ce,wi),h=(h=Math.imul(ce,je))+Math.imul(ke,wi)|0,k=Math.imul(ke,je),C=C+Math.imul(jt,Oe)|0,h=(h=h+Math.imul(jt,oi)|0)+Math.imul(yt,Oe)|0,k=k+Math.imul(yt,oi)|0,C=C+Math.imul(Bt,ei)|0,h=(h=h+Math.imul(Bt,De)|0)+Math.imul(re,ei)|0,k=k+Math.imul(re,De)|0,C=C+Math.imul(Ge,ni)|0,h=(h=h+Math.imul(Ge,ne)|0)+Math.imul(_e,ni)|0,k=k+Math.imul(_e,ne)|0,C=C+Math.imul(Pt,Zt)|0,h=(h=h+Math.imul(Pt,Ut)|0)+Math.imul(Se,Zt)|0,k=k+Math.imul(Se,Ut)|0,C=C+Math.imul(fe,ue)|0,h=(h=h+Math.imul(fe,Re)|0)+Math.imul(zt,ue)|0,k=k+Math.imul(zt,Re)|0,C=C+Math.imul(Gt,he)|0,h=(h=h+Math.imul(Gt,$e)|0)+Math.imul(Nt,he)|0,k=k+Math.imul(Nt,$e)|0,C=C+Math.imul(Vt,Ei)|0,h=(h=h+Math.imul(Vt,zi)|0)+Math.imul(Dt,Ei)|0,k=k+Math.imul(Dt,zi)|0;var mr=(T+(C=C+Math.imul(St,bi)|0)|0)+((8191&(h=(h=h+Math.imul(St,Li)|0)+Math.imul(Xt,bi)|0))<<13)|0;T=((k=k+Math.imul(Xt,Li)|0)+(h>>>13)|0)+(mr>>>26)|0,mr&=67108863,C=Math.imul(ce,Oe),h=(h=Math.imul(ce,oi))+Math.imul(ke,Oe)|0,k=Math.imul(ke,oi),C=C+Math.imul(jt,ei)|0,h=(h=h+Math.imul(jt,De)|0)+Math.imul(yt,ei)|0,k=k+Math.imul(yt,De)|0,C=C+Math.imul(Bt,ni)|0,h=(h=h+Math.imul(Bt,ne)|0)+Math.imul(re,ni)|0,k=k+Math.imul(re,ne)|0,C=C+Math.imul(Ge,Zt)|0,h=(h=h+Math.imul(Ge,Ut)|0)+Math.imul(_e,Zt)|0,k=k+Math.imul(_e,Ut)|0,C=C+Math.imul(Pt,ue)|0,h=(h=h+Math.imul(Pt,Re)|0)+Math.imul(Se,ue)|0,k=k+Math.imul(Se,Re)|0,C=C+Math.imul(fe,he)|0,h=(h=h+Math.imul(fe,$e)|0)+Math.imul(zt,he)|0,k=k+Math.imul(zt,$e)|0,C=C+Math.imul(Gt,Ei)|0,h=(h=h+Math.imul(Gt,zi)|0)+Math.imul(Nt,Ei)|0,k=k+Math.imul(Nt,zi)|0;var Ar=(T+(C=C+Math.imul(Vt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Vt,Li)|0)+Math.imul(Dt,bi)|0))<<13)|0;T=((k=k+Math.imul(Dt,Li)|0)+(h>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,C=Math.imul(ce,ei),h=(h=Math.imul(ce,De))+Math.imul(ke,ei)|0,k=Math.imul(ke,De),C=C+Math.imul(jt,ni)|0,h=(h=h+Math.imul(jt,ne)|0)+Math.imul(yt,ni)|0,k=k+Math.imul(yt,ne)|0,C=C+Math.imul(Bt,Zt)|0,h=(h=h+Math.imul(Bt,Ut)|0)+Math.imul(re,Zt)|0,k=k+Math.imul(re,Ut)|0,C=C+Math.imul(Ge,ue)|0,h=(h=h+Math.imul(Ge,Re)|0)+Math.imul(_e,ue)|0,k=k+Math.imul(_e,Re)|0,C=C+Math.imul(Pt,he)|0,h=(h=h+Math.imul(Pt,$e)|0)+Math.imul(Se,he)|0,k=k+Math.imul(Se,$e)|0,C=C+Math.imul(fe,Ei)|0,h=(h=h+Math.imul(fe,zi)|0)+Math.imul(zt,Ei)|0,k=k+Math.imul(zt,zi)|0;var hn=(T+(C=C+Math.imul(Gt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Gt,Li)|0)+Math.imul(Nt,bi)|0))<<13)|0;T=((k=k+Math.imul(Nt,Li)|0)+(h>>>13)|0)+(hn>>>26)|0,hn&=67108863,C=Math.imul(ce,ni),h=(h=Math.imul(ce,ne))+Math.imul(ke,ni)|0,k=Math.imul(ke,ne),C=C+Math.imul(jt,Zt)|0,h=(h=h+Math.imul(jt,Ut)|0)+Math.imul(yt,Zt)|0,k=k+Math.imul(yt,Ut)|0,C=C+Math.imul(Bt,ue)|0,h=(h=h+Math.imul(Bt,Re)|0)+Math.imul(re,ue)|0,k=k+Math.imul(re,Re)|0,C=C+Math.imul(Ge,he)|0,h=(h=h+Math.imul(Ge,$e)|0)+Math.imul(_e,he)|0,k=k+Math.imul(_e,$e)|0,C=C+Math.imul(Pt,Ei)|0,h=(h=h+Math.imul(Pt,zi)|0)+Math.imul(Se,Ei)|0,k=k+Math.imul(Se,zi)|0;var xr=(T+(C=C+Math.imul(fe,bi)|0)|0)+((8191&(h=(h=h+Math.imul(fe,Li)|0)+Math.imul(zt,bi)|0))<<13)|0;T=((k=k+Math.imul(zt,Li)|0)+(h>>>13)|0)+(xr>>>26)|0,xr&=67108863,C=Math.imul(ce,Zt),h=(h=Math.imul(ce,Ut))+Math.imul(ke,Zt)|0,k=Math.imul(ke,Ut),C=C+Math.imul(jt,ue)|0,h=(h=h+Math.imul(jt,Re)|0)+Math.imul(yt,ue)|0,k=k+Math.imul(yt,Re)|0,C=C+Math.imul(Bt,he)|0,h=(h=h+Math.imul(Bt,$e)|0)+Math.imul(re,he)|0,k=k+Math.imul(re,$e)|0,C=C+Math.imul(Ge,Ei)|0,h=(h=h+Math.imul(Ge,zi)|0)+Math.imul(_e,Ei)|0,k=k+Math.imul(_e,zi)|0;var Hr=(T+(C=C+Math.imul(Pt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Pt,Li)|0)+Math.imul(Se,bi)|0))<<13)|0;T=((k=k+Math.imul(Se,Li)|0)+(h>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,C=Math.imul(ce,ue),h=(h=Math.imul(ce,Re))+Math.imul(ke,ue)|0,k=Math.imul(ke,Re),C=C+Math.imul(jt,he)|0,h=(h=h+Math.imul(jt,$e)|0)+Math.imul(yt,he)|0,k=k+Math.imul(yt,$e)|0,C=C+Math.imul(Bt,Ei)|0,h=(h=h+Math.imul(Bt,zi)|0)+Math.imul(re,Ei)|0,k=k+Math.imul(re,zi)|0;var so=(T+(C=C+Math.imul(Ge,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Ge,Li)|0)+Math.imul(_e,bi)|0))<<13)|0;T=((k=k+Math.imul(_e,Li)|0)+(h>>>13)|0)+(so>>>26)|0,so&=67108863,C=Math.imul(ce,he),h=(h=Math.imul(ce,$e))+Math.imul(ke,he)|0,k=Math.imul(ke,$e),C=C+Math.imul(jt,Ei)|0,h=(h=h+Math.imul(jt,zi)|0)+Math.imul(yt,Ei)|0,k=k+Math.imul(yt,zi)|0;var Vr=(T+(C=C+Math.imul(Bt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Bt,Li)|0)+Math.imul(re,bi)|0))<<13)|0;T=((k=k+Math.imul(re,Li)|0)+(h>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,C=Math.imul(ce,Ei),h=(h=Math.imul(ce,zi))+Math.imul(ke,Ei)|0,k=Math.imul(ke,zi);var Pr=(T+(C=C+Math.imul(jt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(jt,Li)|0)+Math.imul(yt,bi)|0))<<13)|0;T=((k=k+Math.imul(yt,Li)|0)+(h>>>13)|0)+(Pr>>>26)|0,Pr&=67108863;var ar=(T+(C=Math.imul(ce,bi))|0)+((8191&(h=(h=Math.imul(ce,Li))+Math.imul(ke,bi)|0))<<13)|0;return T=((k=Math.imul(ke,Li))+(h>>>13)|0)+(ar>>>26)|0,ar&=67108863,S[0]=Ln,S[1]=Kn,S[2]=pr,S[3]=Jn,S[4]=Ni,S[5]=xi,S[6]=Je,S[7]=Ui,S[8]=on,S[9]=nr,S[10]=mr,S[11]=Ar,S[12]=hn,S[13]=xr,S[14]=Hr,S[15]=so,S[16]=Vr,S[17]=Pr,S[18]=ar,0!==T&&(S[19]=T,g.length++),g};function q(A,o,c){return(new U).mulp(A,o,c)}function U(A,o){this.x=A,this.y=o}Math.imul||(z=X),b.prototype.mulTo=function(o,c){var g,p=this.length+o.length;return g=10===this.length&&10===o.length?z(this,o,c):p<63?X(this,o,c):p<1024?function(A,o,c){c.negative=o.negative^A.negative,c.length=A.length+o.length;for(var g=0,p=0,w=0;w<c.length-1;w++){var S=p;p=0;for(var T=67108863&g,C=Math.min(w,o.length-1),h=Math.max(0,w-A.length+1);h<=C;h++){var st=(0|A.words[w-h])*(0|o.words[h]),Mt=67108863&st;T=67108863&(Mt=Mt+T|0),p+=(S=(S=S+(st/67108864|0)|0)+(Mt>>>26)|0)>>>26,S&=67108863}c.words[w]=T,g=S,S=p}return 0!==g?c.words[w]=g:c.length--,c.strip()}(this,o,c):q(this,o,c),g},U.prototype.makeRBT=function(o){for(var c=new Array(o),g=b.prototype._countBits(o)-1,p=0;p<o;p++)c[p]=this.revBin(p,g,o);return c},U.prototype.revBin=function(o,c,g){if(0===o||o===g-1)return o;for(var p=0,w=0;w<c;w++)p|=(1&o)<<c-w-1,o>>=1;return p},U.prototype.permute=function(o,c,g,p,w,S){for(var T=0;T<S;T++)p[T]=c[o[T]],w[T]=g[o[T]]},U.prototype.transform=function(o,c,g,p,w,S){this.permute(S,o,c,g,p,w);for(var T=1;T<w;T<<=1)for(var C=T<<1,h=Math.cos(2*Math.PI/C),k=Math.sin(2*Math.PI/C),ft=0;ft<w;ft+=C)for(var at=h,st=k,Mt=0;Mt<T;Mt++){var St=g[ft+Mt],Xt=p[ft+Mt],te=g[ft+Mt+T],Vt=p[ft+Mt+T],Dt=at*te-st*Vt;Vt=at*Vt+st*te,g[ft+Mt]=St+(te=Dt),p[ft+Mt]=Xt+Vt,g[ft+Mt+T]=St-te,p[ft+Mt+T]=Xt-Vt,Mt!==C&&(Dt=h*at-k*st,st=h*st+k*at,at=Dt)}},U.prototype.guessLen13b=function(o,c){var g=1|Math.max(c,o),p=1&g,w=0;for(g=g/2|0;g;g>>>=1)w++;return 1<<w+1+p},U.prototype.conjugate=function(o,c,g){if(!(g<=1))for(var p=0;p<g/2;p++){var w=o[p];o[p]=o[g-p-1],o[g-p-1]=w,w=c[p],c[p]=-c[g-p-1],c[g-p-1]=-w}},U.prototype.normalize13b=function(o,c){for(var g=0,p=0;p<c/2;p++){var w=8192*Math.round(o[2*p+1]/c)+Math.round(o[2*p]/c)+g;o[p]=67108863&w,g=w<67108864?0:w/67108864|0}return o},U.prototype.convert13b=function(o,c,g,p){for(var w=0,S=0;S<c;S++)g[2*S]=8191&(w+=0|o[S]),g[2*S+1]=8191&(w>>>=13),w>>>=13;for(S=2*c;S<p;++S)g[S]=0;J(0===w),J(0==(-8192&w))},U.prototype.stub=function(o){for(var c=new Array(o),g=0;g<o;g++)c[g]=0;return c},U.prototype.mulp=function(o,c,g){var p=2*this.guessLen13b(o.length,c.length),w=this.makeRBT(p),S=this.stub(p),T=new Array(p),C=new Array(p),h=new Array(p),k=new Array(p),ft=new Array(p),at=new Array(p),st=g.words;st.length=p,this.convert13b(o.words,o.length,T,p),this.convert13b(c.words,c.length,k,p),this.transform(T,S,C,h,p,w),this.transform(k,S,ft,at,p,w);for(var Mt=0;Mt<p;Mt++){var St=C[Mt]*ft[Mt]-h[Mt]*at[Mt];h[Mt]=C[Mt]*at[Mt]+h[Mt]*ft[Mt],C[Mt]=St}return this.conjugate(C,h,p),this.transform(C,h,st,S,p,w),this.conjugate(st,S,p),this.normalize13b(st,p),g.negative=o.negative^c.negative,g.length=o.length+c.length,g.strip()},b.prototype.mul=function(o){var c=new b(null);return c.words=new Array(this.length+o.length),this.mulTo(o,c)},b.prototype.mulf=function(o){var c=new b(null);return c.words=new Array(this.length+o.length),q(this,o,c)},b.prototype.imul=function(o){return this.clone().mulTo(o,this)},b.prototype.imuln=function(o){J("number"==typeof o),J(o<67108864);for(var c=0,g=0;g<this.length;g++){var p=(0|this.words[g])*o,w=(67108863&p)+(67108863&c);c>>=26,c+=p/67108864|0,c+=w>>>26,this.words[g]=67108863&w}return 0!==c&&(this.words[g]=c,this.length++),this},b.prototype.muln=function(o){return this.clone().imuln(o)},b.prototype.sqr=function(){return this.mul(this)},b.prototype.isqr=function(){return this.imul(this.clone())},b.prototype.pow=function(o){var c=function(A){for(var o=new Array(A.bitLength()),c=0;c<o.length;c++){var p=c%26;o[c]=(A.words[c/26|0]&1<<p)>>>p}return o}(o);if(0===c.length)return new b(1);for(var g=this,p=0;p<c.length&&0===c[p];p++,g=g.sqr());if(++p<c.length)for(var w=g.sqr();p<c.length;p++,w=w.sqr())0!==c[p]&&(g=g.mul(w));return g},b.prototype.iushln=function(o){J("number"==typeof o&&o>=0);var w,c=o%26,g=(o-c)/26,p=67108863>>>26-c<<26-c;if(0!==c){var S=0;for(w=0;w<this.length;w++){var T=this.words[w]&p;this.words[w]=(0|this.words[w])-T<<c|S,S=T>>>26-c}S&&(this.words[w]=S,this.length++)}if(0!==g){for(w=this.length-1;w>=0;w--)this.words[w+g]=this.words[w];for(w=0;w<g;w++)this.words[w]=0;this.length+=g}return this.strip()},b.prototype.ishln=function(o){return J(0===this.negative),this.iushln(o)},b.prototype.iushrn=function(o,c,g){var p;J("number"==typeof o&&o>=0),p=c?(c-c%26)/26:0;var w=o%26,S=Math.min((o-w)/26,this.length),T=67108863^67108863>>>w<<w,C=g;if(p-=S,p=Math.max(0,p),C){for(var h=0;h<S;h++)C.words[h]=this.words[h];C.length=S}if(0!==S)if(this.length>S)for(this.length-=S,h=0;h<this.length;h++)this.words[h]=this.words[h+S];else this.words[0]=0,this.length=1;var k=0;for(h=this.length-1;h>=0&&(0!==k||h>=p);h--){var ft=0|this.words[h];this.words[h]=k<<26-w|ft>>>w,k=ft&T}return C&&0!==k&&(C.words[C.length++]=k),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},b.prototype.ishrn=function(o,c,g){return J(0===this.negative),this.iushrn(o,c,g)},b.prototype.shln=function(o){return this.clone().ishln(o)},b.prototype.ushln=function(o){return this.clone().iushln(o)},b.prototype.shrn=function(o){return this.clone().ishrn(o)},b.prototype.ushrn=function(o){return this.clone().iushrn(o)},b.prototype.testn=function(o){J("number"==typeof o&&o>=0);var c=o%26,g=(o-c)/26;return!(this.length<=g||!(this.words[g]&1<<c))},b.prototype.imaskn=function(o){J("number"==typeof o&&o>=0);var c=o%26,g=(o-c)/26;return J(0===this.negative,"imaskn works only with positive numbers"),this.length<=g?this:(0!==c&&g++,this.length=Math.min(g,this.length),0!==c&&(this.words[this.length-1]&=67108863^67108863>>>c<<c),this.strip())},b.prototype.maskn=function(o){return this.clone().imaskn(o)},b.prototype.iaddn=function(o){return J("number"==typeof o),J(o<67108864),o<0?this.isubn(-o):0!==this.negative?1===this.length&&(0|this.words[0])<o?(this.words[0]=o-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},b.prototype._iaddn=function(o){this.words[0]+=o;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},b.prototype.isubn=function(o){if(J("number"==typeof o),J(o<67108864),o<0)return this.iaddn(-o);if(0!==this.negative)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this.strip()},b.prototype.addn=function(o){return this.clone().iaddn(o)},b.prototype.subn=function(o){return this.clone().isubn(o)},b.prototype.iabs=function(){return this.negative=0,this},b.prototype.abs=function(){return this.clone().iabs()},b.prototype._ishlnsubmul=function(o,c,g){var w;this._expand(o.length+g);var S,T=0;for(w=0;w<o.length;w++){S=(0|this.words[w+g])+T;var C=(0|o.words[w])*c;T=((S-=67108863&C)>>26)-(C/67108864|0),this.words[w+g]=67108863&S}for(;w<this.length-g;w++)T=(S=(0|this.words[w+g])+T)>>26,this.words[w+g]=67108863&S;if(0===T)return this.strip();for(J(-1===T),T=0,w=0;w<this.length;w++)T=(S=-(0|this.words[w])+T)>>26,this.words[w]=67108863&S;return this.negative=1,this.strip()},b.prototype._wordDiv=function(o,c){var g,p=this.clone(),w=o,S=0|w.words[w.length-1];0!=(g=26-this._countBits(S))&&(w=w.ushln(g),p.iushln(g),S=0|w.words[w.length-1]);var h,C=p.length-w.length;if("mod"!==c){(h=new b(null)).length=C+1,h.words=new Array(h.length);for(var k=0;k<h.length;k++)h.words[k]=0}var ft=p.clone()._ishlnsubmul(w,1,C);0===ft.negative&&(p=ft,h&&(h.words[C]=1));for(var at=C-1;at>=0;at--){var st=67108864*(0|p.words[w.length+at])+(0|p.words[w.length+at-1]);for(st=Math.min(st/S|0,67108863),p._ishlnsubmul(w,st,at);0!==p.negative;)st--,p.negative=0,p._ishlnsubmul(w,1,at),p.isZero()||(p.negative^=1);h&&(h.words[at]=st)}return h&&h.strip(),p.strip(),"div"!==c&&0!==g&&p.iushrn(g),{div:h||null,mod:p}},b.prototype.divmod=function(o,c,g){return J(!o.isZero()),this.isZero()?{div:new b(0),mod:new b(0)}:0!==this.negative&&0===o.negative?(S=this.neg().divmod(o,c),"mod"!==c&&(p=S.div.neg()),"div"!==c&&(w=S.mod.neg(),g&&0!==w.negative&&w.iadd(o)),{div:p,mod:w}):0===this.negative&&0!==o.negative?(S=this.divmod(o.neg(),c),"mod"!==c&&(p=S.div.neg()),{div:p,mod:S.mod}):0!=(this.negative&o.negative)?(S=this.neg().divmod(o.neg(),c),"div"!==c&&(w=S.mod.neg(),g&&0!==w.negative&&w.isub(o)),{div:S.div,mod:w}):o.length>this.length||this.cmp(o)<0?{div:new b(0),mod:this}:1===o.length?"div"===c?{div:this.divn(o.words[0]),mod:null}:"mod"===c?{div:null,mod:new b(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new b(this.modn(o.words[0]))}:this._wordDiv(o,c);var p,w,S},b.prototype.div=function(o){return this.divmod(o,"div",!1).div},b.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},b.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},b.prototype.divRound=function(o){var c=this.divmod(o);if(c.mod.isZero())return c.div;var g=0!==c.div.negative?c.mod.isub(o):c.mod,p=o.ushrn(1),w=o.andln(1),S=g.cmp(p);return S<0||1===w&&0===S?c.div:0!==c.div.negative?c.div.isubn(1):c.div.iaddn(1)},b.prototype.modn=function(o){J(o<=67108863);for(var c=(1<<26)%o,g=0,p=this.length-1;p>=0;p--)g=(c*g+(0|this.words[p]))%o;return g},b.prototype.idivn=function(o){J(o<=67108863);for(var c=0,g=this.length-1;g>=0;g--){var p=(0|this.words[g])+67108864*c;this.words[g]=p/o|0,c=p%o}return this.strip()},b.prototype.divn=function(o){return this.clone().idivn(o)},b.prototype.egcd=function(o){J(0===o.negative),J(!o.isZero());var c=this,g=o.clone();c=0!==c.negative?c.umod(o):c.clone();for(var p=new b(1),w=new b(0),S=new b(0),T=new b(1),C=0;c.isEven()&&g.isEven();)c.iushrn(1),g.iushrn(1),++C;for(var h=g.clone(),k=c.clone();!c.isZero();){for(var ft=0,at=1;0==(c.words[0]&at)&&ft<26;++ft,at<<=1);if(ft>0)for(c.iushrn(ft);ft-- >0;)(p.isOdd()||w.isOdd())&&(p.iadd(h),w.isub(k)),p.iushrn(1),w.iushrn(1);for(var st=0,Mt=1;0==(g.words[0]&Mt)&&st<26;++st,Mt<<=1);if(st>0)for(g.iushrn(st);st-- >0;)(S.isOdd()||T.isOdd())&&(S.iadd(h),T.isub(k)),S.iushrn(1),T.iushrn(1);c.cmp(g)>=0?(c.isub(g),p.isub(S),w.isub(T)):(g.isub(c),S.isub(p),T.isub(w))}return{a:S,b:T,gcd:g.iushln(C)}},b.prototype._invmp=function(o){J(0===o.negative),J(!o.isZero());var ft,c=this,g=o.clone();c=0!==c.negative?c.umod(o):c.clone();for(var p=new b(1),w=new b(0),S=g.clone();c.cmpn(1)>0&&g.cmpn(1)>0;){for(var T=0,C=1;0==(c.words[0]&C)&&T<26;++T,C<<=1);if(T>0)for(c.iushrn(T);T-- >0;)p.isOdd()&&p.iadd(S),p.iushrn(1);for(var h=0,k=1;0==(g.words[0]&k)&&h<26;++h,k<<=1);if(h>0)for(g.iushrn(h);h-- >0;)w.isOdd()&&w.iadd(S),w.iushrn(1);c.cmp(g)>=0?(c.isub(g),p.isub(w)):(g.isub(c),w.isub(p))}return(ft=0===c.cmpn(1)?p:w).cmpn(0)<0&&ft.iadd(o),ft},b.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var c=this.clone(),g=o.clone();c.negative=0,g.negative=0;for(var p=0;c.isEven()&&g.isEven();p++)c.iushrn(1),g.iushrn(1);for(;;){for(;c.isEven();)c.iushrn(1);for(;g.isEven();)g.iushrn(1);var w=c.cmp(g);if(w<0){var S=c;c=g,g=S}else if(0===w||0===g.cmpn(1))break;c.isub(g)}return g.iushln(p)},b.prototype.invm=function(o){return this.egcd(o).a.umod(o)},b.prototype.isEven=function(){return 0==(1&this.words[0])},b.prototype.isOdd=function(){return 1==(1&this.words[0])},b.prototype.andln=function(o){return this.words[0]&o},b.prototype.bincn=function(o){J("number"==typeof o);var c=o%26,g=(o-c)/26,p=1<<c;if(this.length<=g)return this._expand(g+1),this.words[g]|=p,this;for(var w=p,S=g;0!==w&&S<this.length;S++){var T=0|this.words[S];w=(T+=w)>>>26,this.words[S]=T&=67108863}return 0!==w&&(this.words[S]=w,this.length++),this},b.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},b.prototype.cmpn=function(o){var g,c=o<0;if(0!==this.negative&&!c)return-1;if(0===this.negative&&c)return 1;if(this.strip(),this.length>1)g=1;else{c&&(o=-o),J(o<=67108863,"Number is too big");var p=0|this.words[0];g=p===o?0:p<o?-1:1}return 0!==this.negative?0|-g:g},b.prototype.cmp=function(o){if(0!==this.negative&&0===o.negative)return-1;if(0===this.negative&&0!==o.negative)return 1;var c=this.ucmp(o);return 0!==this.negative?0|-c:c},b.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var c=0,g=this.length-1;g>=0;g--){var p=0|this.words[g],w=0|o.words[g];if(p!==w){p<w?c=-1:p>w&&(c=1);break}}return c},b.prototype.gtn=function(o){return 1===this.cmpn(o)},b.prototype.gt=function(o){return 1===this.cmp(o)},b.prototype.gten=function(o){return this.cmpn(o)>=0},b.prototype.gte=function(o){return this.cmp(o)>=0},b.prototype.ltn=function(o){return-1===this.cmpn(o)},b.prototype.lt=function(o){return-1===this.cmp(o)},b.prototype.lten=function(o){return this.cmpn(o)<=0},b.prototype.lte=function(o){return this.cmp(o)<=0},b.prototype.eqn=function(o){return 0===this.cmpn(o)},b.prototype.eq=function(o){return 0===this.cmp(o)},b.red=function(o){return new Tt(o)},b.prototype.toRed=function(o){return J(!this.red,"Already a number in reduction context"),J(0===this.negative,"red works only with positives"),o.convertTo(this)._forceRed(o)},b.prototype.fromRed=function(){return J(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},b.prototype._forceRed=function(o){return this.red=o,this},b.prototype.forceRed=function(o){return J(!this.red,"Already a number in reduction context"),this._forceRed(o)},b.prototype.redAdd=function(o){return J(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},b.prototype.redIAdd=function(o){return J(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},b.prototype.redSub=function(o){return J(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},b.prototype.redISub=function(o){return J(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},b.prototype.redShl=function(o){return J(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},b.prototype.redMul=function(o){return J(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},b.prototype.redIMul=function(o){return J(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},b.prototype.redSqr=function(){return J(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},b.prototype.redISqr=function(){return J(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},b.prototype.redSqrt=function(){return J(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},b.prototype.redInvm=function(){return J(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},b.prototype.redNeg=function(){return J(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},b.prototype.redPow=function(o){return J(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var it={k256:null,p224:null,p192:null,p25519:null};function ot(A,o){this.name=A,this.p=new b(o,16),this.n=this.p.bitLength(),this.k=new b(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function lt(){ot.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function wt(){ot.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function xt(){ot.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Ot(){ot.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Tt(A){if("string"==typeof A){var o=b._prime(A);this.m=o.p,this.prime=o}else J(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}function Et(A){Tt.call(this,A),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new b(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ot.prototype._tmp=function(){var o=new b(null);return o.words=new Array(Math.ceil(this.n/13)),o},ot.prototype.ireduce=function(o){var g,c=o;do{this.split(c,this.tmp),g=(c=(c=this.imulK(c)).iadd(this.tmp)).bitLength()}while(g>this.n);var p=g<this.n?-1:c.ucmp(this.p);return 0===p?(c.words[0]=0,c.length=1):p>0?c.isub(this.p):void 0!==c.strip?c.strip():c._strip(),c},ot.prototype.split=function(o,c){o.iushrn(this.n,0,c)},ot.prototype.imulK=function(o){return o.imul(this.k)},tt(lt,ot),lt.prototype.split=function(o,c){for(var g=4194303,p=Math.min(o.length,9),w=0;w<p;w++)c.words[w]=o.words[w];if(c.length=p,o.length<=9)return o.words[0]=0,void(o.length=1);var S=o.words[9];for(c.words[c.length++]=S&g,w=10;w<o.length;w++){var T=0|o.words[w];o.words[w-10]=(T&g)<<4|S>>>22,S=T}o.words[w-10]=S>>>=22,o.length-=0===S&&o.length>10?10:9},lt.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var c=0,g=0;g<o.length;g++){var p=0|o.words[g];o.words[g]=67108863&(c+=977*p),c=64*p+(c/67108864|0)}return 0===o.words[o.length-1]&&(o.length--,0===o.words[o.length-1]&&o.length--),o},tt(wt,ot),tt(xt,ot),tt(Ot,ot),Ot.prototype.imulK=function(o){for(var c=0,g=0;g<o.length;g++){var p=19*(0|o.words[g])+c,w=67108863&p;p>>>=26,o.words[g]=w,c=p}return 0!==c&&(o.words[o.length++]=c),o},b._prime=function(o){if(it[o])return it[o];var c;if("k256"===o)c=new lt;else if("p224"===o)c=new wt;else if("p192"===o)c=new xt;else{if("p25519"!==o)throw new Error("Unknown prime "+o);c=new Ot}return it[o]=c,c},Tt.prototype._verify1=function(o){J(0===o.negative,"red works only with positives"),J(o.red,"red works only with red numbers")},Tt.prototype._verify2=function(o,c){J(0==(o.negative|c.negative),"red works only with positives"),J(o.red&&o.red===c.red,"red works only with red numbers")},Tt.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},Tt.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},Tt.prototype.add=function(o,c){this._verify2(o,c);var g=o.add(c);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},Tt.prototype.iadd=function(o,c){this._verify2(o,c);var g=o.iadd(c);return g.cmp(this.m)>=0&&g.isub(this.m),g},Tt.prototype.sub=function(o,c){this._verify2(o,c);var g=o.sub(c);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},Tt.prototype.isub=function(o,c){this._verify2(o,c);var g=o.isub(c);return g.cmpn(0)<0&&g.iadd(this.m),g},Tt.prototype.shl=function(o,c){return this._verify1(o),this.imod(o.ushln(c))},Tt.prototype.imul=function(o,c){return this._verify2(o,c),this.imod(o.imul(c))},Tt.prototype.mul=function(o,c){return this._verify2(o,c),this.imod(o.mul(c))},Tt.prototype.isqr=function(o){return this.imul(o,o.clone())},Tt.prototype.sqr=function(o){return this.mul(o,o)},Tt.prototype.sqrt=function(o){if(o.isZero())return o.clone();var c=this.m.andln(3);if(J(c%2==1),3===c){var g=this.m.add(new b(1)).iushrn(2);return this.pow(o,g)}for(var p=this.m.subn(1),w=0;!p.isZero()&&0===p.andln(1);)w++,p.iushrn(1);J(!p.isZero());var S=new b(1).toRed(this),T=S.redNeg(),C=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new b(2*h*h).toRed(this);0!==this.pow(h,C).cmp(T);)h.redIAdd(T);for(var k=this.pow(h,p),ft=this.pow(o,p.addn(1).iushrn(1)),at=this.pow(o,p),st=w;0!==at.cmp(S);){for(var Mt=at,St=0;0!==Mt.cmp(S);St++)Mt=Mt.redSqr();J(St<st);var Xt=this.pow(k,new b(1).iushln(st-St-1));ft=ft.redMul(Xt),k=Xt.redSqr(),at=at.redMul(k),st=St}return ft},Tt.prototype.invm=function(o){var c=o._invmp(this.m);return 0!==c.negative?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},Tt.prototype.pow=function(o,c){if(c.isZero())return new b(1).toRed(this);if(0===c.cmpn(1))return o.clone();var p=new Array(16);p[0]=new b(1).toRed(this),p[1]=o;for(var w=2;w<p.length;w++)p[w]=this.mul(p[w-1],o);var S=p[0],T=0,C=0,h=c.bitLength()%26;for(0===h&&(h=26),w=c.length-1;w>=0;w--){for(var k=c.words[w],ft=h-1;ft>=0;ft--){var at=k>>ft&1;S!==p[0]&&(S=this.sqr(S)),0!==at||0!==T?(T<<=1,T|=at,(4==++C||0===w&&0===ft)&&(S=this.mul(S,p[T]),C=0,T=0)):C=0}h=26}return S},Tt.prototype.convertTo=function(o){var c=o.umod(this.m);return c===o?c.clone():c},Tt.prototype.convertFrom=function(o){var c=o.clone();return c.red=null,c},b.mont=function(o){return new Et(o)},tt(Et,Tt),Et.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Et.prototype.convertFrom=function(o){var c=this.imod(o.mul(this.rinv));return c.red=null,c},Et.prototype.imul=function(o,c){if(o.isZero()||c.isZero())return o.words[0]=0,o.length=1,o;var g=o.imul(c),p=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=g.isub(p).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},Et.prototype.mul=function(o,c){if(o.isZero()||c.isZero())return new b(0)._forceRed(this);var g=o.mul(c),p=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=g.isub(p).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},Et.prototype.invm=function(o){return this.imod(o._invmp(this.m).mul(this.r2))._forceRed(this)}}(Ee=ut.nmd(Ee),this)},3059:(Ee,Q,ut)=>{"use strict";var ct=Q;ct.version=ut(8597).i8,ct.utils=ut(5685),ct.rand=ut(3550),ct.curve=ut(2333),ct.curves=ut(2960),ct.ec=ut(4590),ct.eddsa=ut(876)},6462:(Ee,Q,ut)=>{"use strict";var ct=ut(9631),f=ut(5685),J=f.getNAF,tt=f.getJSF,b=f.assert;function W(rt,Z){this.type=rt,this.p=new ct(Z.p,16),this.red=Z.prime?ct.red(Z.prime):ct.mont(this.p),this.zero=new ct(0).toRed(this.red),this.one=new ct(1).toRed(this.red),this.two=new ct(2).toRed(this.red),this.n=Z.n&&new ct(Z.n,16),this.g=Z.g&&this.pointFromJSON(Z.g,Z.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var H=this.n&&this.p.div(this.n);!H||H.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function G(rt,Z){this.curve=rt,this.type=Z,this.precomputed=null}Ee.exports=W,W.prototype.point=function(){throw new Error("Not implemented")},W.prototype.validate=function(){throw new Error("Not implemented")},W.prototype._fixedNafMul=function(Z,H){b(Z.precomputed);var F=Z._getDoubles(),et=J(H,1,this._bitLength),B=(1<<F.step+1)-(F.step%2==0?2:1);B/=3;var z,Y,X=[];for(z=0;z<et.length;z+=F.step){Y=0;for(var q=z+F.step-1;q>=z;q--)Y=(Y<<1)+et[q];X.push(Y)}for(var U=this.jpoint(null,null,null),it=this.jpoint(null,null,null),ot=B;ot>0;ot--){for(z=0;z<X.length;z++)(Y=X[z])===ot?it=it.mixedAdd(F.points[z]):Y===-ot&&(it=it.mixedAdd(F.points[z].neg()));U=U.add(it)}return U.toP()},W.prototype._wnafMul=function(Z,H){for(var F=4,et=Z._getNAFPoints(F),B=et.points,X=J(H,F=et.wnd,this._bitLength),z=this.jpoint(null,null,null),Y=X.length-1;Y>=0;Y--){for(var q=0;Y>=0&&0===X[Y];Y--)q++;if(Y>=0&&q++,z=z.dblp(q),Y<0)break;var U=X[Y];b(0!==U),z="affine"===Z.type?z.mixedAdd(U>0?B[U-1>>1]:B[-U-1>>1].neg()):z.add(U>0?B[U-1>>1]:B[-U-1>>1].neg())}return"affine"===Z.type?z.toP():z},W.prototype._wnafMulAdd=function(Z,H,F,et,B){var U,it,ot,X=this._wnafT1,z=this._wnafT2,Y=this._wnafT3,q=0;for(U=0;U<et;U++){var lt=(ot=H[U])._getNAFPoints(Z);X[U]=lt.wnd,z[U]=lt.points}for(U=et-1;U>=1;U-=2){var wt=U-1,xt=U;if(1===X[wt]&&1===X[xt]){var Ot=[H[wt],null,null,H[xt]];0===H[wt].y.cmp(H[xt].y)?(Ot[1]=H[wt].add(H[xt]),Ot[2]=H[wt].toJ().mixedAdd(H[xt].neg())):0===H[wt].y.cmp(H[xt].y.redNeg())?(Ot[1]=H[wt].toJ().mixedAdd(H[xt]),Ot[2]=H[wt].add(H[xt].neg())):(Ot[1]=H[wt].toJ().mixedAdd(H[xt]),Ot[2]=H[wt].toJ().mixedAdd(H[xt].neg()));var Tt=[-3,-1,-5,-7,0,7,5,1,3],Et=tt(F[wt],F[xt]);for(q=Math.max(Et[0].length,q),Y[wt]=new Array(q),Y[xt]=new Array(q),it=0;it<q;it++)Y[wt][it]=Tt[3*(1+(0|Et[0][it]))+(1+(0|Et[1][it]))],Y[xt][it]=0,z[wt]=Ot}else Y[wt]=J(F[wt],X[wt],this._bitLength),Y[xt]=J(F[xt],X[xt],this._bitLength),q=Math.max(Y[wt].length,q),q=Math.max(Y[xt].length,q)}var c=this.jpoint(null,null,null),g=this._wnafT4;for(U=q;U>=0;U--){for(var p=0;U>=0;){var w=!0;for(it=0;it<et;it++)g[it]=0|Y[it][U],0!==g[it]&&(w=!1);if(!w)break;p++,U--}if(U>=0&&p++,c=c.dblp(p),U<0)break;for(it=0;it<et;it++){var S=g[it];0!==S&&(S>0?ot=z[it][S-1>>1]:S<0&&(ot=z[it][-S-1>>1].neg()),c="affine"===ot.type?c.mixedAdd(ot):c.add(ot))}}for(U=0;U<et;U++)z[U]=null;return B?c:c.toP()},W.BasePoint=G,G.prototype.eq=function(){throw new Error("Not implemented")},G.prototype.validate=function(){return this.curve.validate(this)},W.prototype.decodePoint=function(Z,H){Z=f.toArray(Z,H);var F=this.p.byteLength();if((4===Z[0]||6===Z[0]||7===Z[0])&&Z.length-1==2*F)return 6===Z[0]?b(Z[Z.length-1]%2==0):7===Z[0]&&b(Z[Z.length-1]%2==1),this.point(Z.slice(1,1+F),Z.slice(1+F,1+2*F));if((2===Z[0]||3===Z[0])&&Z.length-1===F)return this.pointFromX(Z.slice(1,1+F),3===Z[0]);throw new Error("Unknown point format")},G.prototype.encodeCompressed=function(Z){return this.encode(Z,!0)},G.prototype._encode=function(Z){var H=this.curve.p.byteLength(),F=this.getX().toArray("be",H);return Z?[this.getY().isEven()?2:3].concat(F):[4].concat(F,this.getY().toArray("be",H))},G.prototype.encode=function(Z,H){return f.encode(this._encode(H),Z)},G.prototype.precompute=function(Z){if(this.precomputed)return this;var H={doubles:null,naf:null,beta:null};return H.naf=this._getNAFPoints(8),H.doubles=this._getDoubles(4,Z),H.beta=this._getBeta(),this.precomputed=H,this},G.prototype._hasDoubles=function(Z){if(!this.precomputed)return!1;var H=this.precomputed.doubles;return!!H&&H.points.length>=Math.ceil((Z.bitLength()+1)/H.step)},G.prototype._getDoubles=function(Z,H){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var F=[this],et=this,B=0;B<H;B+=Z){for(var X=0;X<Z;X++)et=et.dbl();F.push(et)}return{step:Z,points:F}},G.prototype._getNAFPoints=function(Z){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var H=[this],F=(1<<Z)-1,et=1===F?null:this.dbl(),B=1;B<F;B++)H[B]=H[B-1].add(et);return{wnd:Z,points:H}},G.prototype._getBeta=function(){return null},G.prototype.dblp=function(Z){for(var H=this,F=0;F<Z;F++)H=H.dbl();return H}},5837:(Ee,Q,ut)=>{"use strict";var ct=ut(5685),f=ut(9631),J=ut(3516),tt=ut(6462),b=ct.assert;function W(rt){this.twisted=1!=(0|rt.a),this.mOneA=this.twisted&&-1==(0|rt.a),this.extended=this.mOneA,tt.call(this,"edwards",rt),this.a=new f(rt.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new f(rt.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new f(rt.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),b(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|rt.c)}function G(rt,Z,H,F,et){tt.BasePoint.call(this,rt,"projective"),null===Z&&null===H&&null===F?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new f(Z,16),this.y=new f(H,16),this.z=F?new f(F,16):this.curve.one,this.t=et&&new f(et,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}J(W,tt),Ee.exports=W,W.prototype._mulA=function(Z){return this.mOneA?Z.redNeg():this.a.redMul(Z)},W.prototype._mulC=function(Z){return this.oneC?Z:this.c.redMul(Z)},W.prototype.jpoint=function(Z,H,F,et){return this.point(Z,H,F,et)},W.prototype.pointFromX=function(Z,H){(Z=new f(Z,16)).red||(Z=Z.toRed(this.red));var F=Z.redSqr(),et=this.c2.redSub(this.a.redMul(F)),B=this.one.redSub(this.c2.redMul(this.d).redMul(F)),X=et.redMul(B.redInvm()),z=X.redSqrt();if(0!==z.redSqr().redSub(X).cmp(this.zero))throw new Error("invalid point");var Y=z.fromRed().isOdd();return(H&&!Y||!H&&Y)&&(z=z.redNeg()),this.point(Z,z)},W.prototype.pointFromY=function(Z,H){(Z=new f(Z,16)).red||(Z=Z.toRed(this.red));var F=Z.redSqr(),et=F.redSub(this.c2),B=F.redMul(this.d).redMul(this.c2).redSub(this.a),X=et.redMul(B.redInvm());if(0===X.cmp(this.zero)){if(H)throw new Error("invalid point");return this.point(this.zero,Z)}var z=X.redSqrt();if(0!==z.redSqr().redSub(X).cmp(this.zero))throw new Error("invalid point");return z.fromRed().isOdd()!==H&&(z=z.redNeg()),this.point(z,Z)},W.prototype.validate=function(Z){if(Z.isInfinity())return!0;Z.normalize();var H=Z.x.redSqr(),F=Z.y.redSqr(),et=H.redMul(this.a).redAdd(F),B=this.c2.redMul(this.one.redAdd(this.d.redMul(H).redMul(F)));return 0===et.cmp(B)},J(G,tt.BasePoint),W.prototype.pointFromJSON=function(Z){return G.fromJSON(this,Z)},W.prototype.point=function(Z,H,F,et){return new G(this,Z,H,F,et)},G.fromJSON=function(Z,H){return new G(Z,H[0],H[1],H[2])},G.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},G.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},G.prototype._extDbl=function(){var Z=this.x.redSqr(),H=this.y.redSqr(),F=this.z.redSqr();F=F.redIAdd(F);var et=this.curve._mulA(Z),B=this.x.redAdd(this.y).redSqr().redISub(Z).redISub(H),X=et.redAdd(H),z=X.redSub(F),Y=et.redSub(H),q=B.redMul(z),U=X.redMul(Y),it=B.redMul(Y),ot=z.redMul(X);return this.curve.point(q,U,ot,it)},G.prototype._projDbl=function(){var et,B,X,z,Y,q,Z=this.x.redAdd(this.y).redSqr(),H=this.x.redSqr(),F=this.y.redSqr();if(this.curve.twisted){var U=(z=this.curve._mulA(H)).redAdd(F);this.zOne?(et=Z.redSub(H).redSub(F).redMul(U.redSub(this.curve.two)),B=U.redMul(z.redSub(F)),X=U.redSqr().redSub(U).redSub(U)):(Y=this.z.redSqr(),q=U.redSub(Y).redISub(Y),et=Z.redSub(H).redISub(F).redMul(q),B=U.redMul(z.redSub(F)),X=U.redMul(q))}else z=H.redAdd(F),Y=this.curve._mulC(this.z).redSqr(),q=z.redSub(Y).redSub(Y),et=this.curve._mulC(Z.redISub(z)).redMul(q),B=this.curve._mulC(z).redMul(H.redISub(F)),X=z.redMul(q);return this.curve.point(et,B,X)},G.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},G.prototype._extAdd=function(Z){var H=this.y.redSub(this.x).redMul(Z.y.redSub(Z.x)),F=this.y.redAdd(this.x).redMul(Z.y.redAdd(Z.x)),et=this.t.redMul(this.curve.dd).redMul(Z.t),B=this.z.redMul(Z.z.redAdd(Z.z)),X=F.redSub(H),z=B.redSub(et),Y=B.redAdd(et),q=F.redAdd(H),U=X.redMul(z),it=Y.redMul(q),ot=X.redMul(q),lt=z.redMul(Y);return this.curve.point(U,it,lt,ot)},G.prototype._projAdd=function(Z){var it,ot,H=this.z.redMul(Z.z),F=H.redSqr(),et=this.x.redMul(Z.x),B=this.y.redMul(Z.y),X=this.curve.d.redMul(et).redMul(B),z=F.redSub(X),Y=F.redAdd(X),q=this.x.redAdd(this.y).redMul(Z.x.redAdd(Z.y)).redISub(et).redISub(B),U=H.redMul(z).redMul(q);return this.curve.twisted?(it=H.redMul(Y).redMul(B.redSub(this.curve._mulA(et))),ot=z.redMul(Y)):(it=H.redMul(Y).redMul(B.redSub(et)),ot=this.curve._mulC(z).redMul(Y)),this.curve.point(U,it,ot)},G.prototype.add=function(Z){return this.isInfinity()?Z:Z.isInfinity()?this:this.curve.extended?this._extAdd(Z):this._projAdd(Z)},G.prototype.mul=function(Z){return this._hasDoubles(Z)?this.curve._fixedNafMul(this,Z):this.curve._wnafMul(this,Z)},G.prototype.mulAdd=function(Z,H,F){return this.curve._wnafMulAdd(1,[this,H],[Z,F],2,!1)},G.prototype.jmulAdd=function(Z,H,F){return this.curve._wnafMulAdd(1,[this,H],[Z,F],2,!0)},G.prototype.normalize=function(){if(this.zOne)return this;var Z=this.z.redInvm();return this.x=this.x.redMul(Z),this.y=this.y.redMul(Z),this.t&&(this.t=this.t.redMul(Z)),this.z=this.curve.one,this.zOne=!0,this},G.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},G.prototype.getX=function(){return this.normalize(),this.x.fromRed()},G.prototype.getY=function(){return this.normalize(),this.y.fromRed()},G.prototype.eq=function(Z){return this===Z||0===this.getX().cmp(Z.getX())&&0===this.getY().cmp(Z.getY())},G.prototype.eqXToP=function(Z){var H=Z.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(H))return!0;for(var F=Z.clone(),et=this.curve.redN.redMul(this.z);;){if(F.iadd(this.curve.n),F.cmp(this.curve.p)>=0)return!1;if(H.redIAdd(et),0===this.x.cmp(H))return!0}},G.prototype.toP=G.prototype.normalize,G.prototype.mixedAdd=G.prototype.add},2333:(Ee,Q,ut)=>{"use strict";var ct=Q;ct.base=ut(6462),ct.short=ut(5786),ct.mont=ut(9107),ct.edwards=ut(5837)},9107:(Ee,Q,ut)=>{"use strict";var ct=ut(9631),f=ut(3516),J=ut(6462),tt=ut(5685);function b(G){J.call(this,"mont",G),this.a=new ct(G.a,16).toRed(this.red),this.b=new ct(G.b,16).toRed(this.red),this.i4=new ct(4).toRed(this.red).redInvm(),this.two=new ct(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function W(G,rt,Z){J.BasePoint.call(this,G,"projective"),null===rt&&null===Z?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new ct(rt,16),this.z=new ct(Z,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}f(b,J),Ee.exports=b,b.prototype.validate=function(rt){var Z=rt.normalize().x,H=Z.redSqr(),F=H.redMul(Z).redAdd(H.redMul(this.a)).redAdd(Z);return 0===F.redSqrt().redSqr().cmp(F)},f(W,J.BasePoint),b.prototype.decodePoint=function(rt,Z){return this.point(tt.toArray(rt,Z),1)},b.prototype.point=function(rt,Z){return new W(this,rt,Z)},b.prototype.pointFromJSON=function(rt){return W.fromJSON(this,rt)},W.prototype.precompute=function(){},W.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},W.fromJSON=function(rt,Z){return new W(rt,Z[0],Z[1]||rt.one)},W.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},W.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},W.prototype.dbl=function(){var Z=this.x.redAdd(this.z).redSqr(),F=this.x.redSub(this.z).redSqr(),et=Z.redSub(F),B=Z.redMul(F),X=et.redMul(F.redAdd(this.curve.a24.redMul(et)));return this.curve.point(B,X)},W.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},W.prototype.diffAdd=function(rt,Z){var H=this.x.redAdd(this.z),F=this.x.redSub(this.z),et=rt.x.redAdd(rt.z),X=rt.x.redSub(rt.z).redMul(H),z=et.redMul(F),Y=Z.z.redMul(X.redAdd(z).redSqr()),q=Z.x.redMul(X.redISub(z).redSqr());return this.curve.point(Y,q)},W.prototype.mul=function(rt){for(var Z=rt.clone(),H=this,F=this.curve.point(null,null),B=[];0!==Z.cmpn(0);Z.iushrn(1))B.push(Z.andln(1));for(var X=B.length-1;X>=0;X--)0===B[X]?(H=H.diffAdd(F,this),F=F.dbl()):(F=H.diffAdd(F,this),H=H.dbl());return F},W.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},W.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},W.prototype.eq=function(rt){return 0===this.getX().cmp(rt.getX())},W.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},W.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},5786:(Ee,Q,ut)=>{"use strict";var ct=ut(5685),f=ut(9631),J=ut(3516),tt=ut(6462),b=ct.assert;function W(Z){tt.call(this,"short",Z),this.a=new f(Z.a,16).toRed(this.red),this.b=new f(Z.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(Z),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function G(Z,H,F,et){tt.BasePoint.call(this,Z,"affine"),null===H&&null===F?(this.x=null,this.y=null,this.inf=!0):(this.x=new f(H,16),this.y=new f(F,16),et&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function rt(Z,H,F,et){tt.BasePoint.call(this,Z,"jacobian"),null===H&&null===F&&null===et?(this.x=this.curve.one,this.y=this.curve.one,this.z=new f(0)):(this.x=new f(H,16),this.y=new f(F,16),this.z=new f(et,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}J(W,tt),Ee.exports=W,W.prototype._getEndomorphism=function(H){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var F,et;if(H.beta)F=new f(H.beta,16).toRed(this.red);else{var B=this._getEndoRoots(this.p);F=(F=B[0].cmp(B[1])<0?B[0]:B[1]).toRed(this.red)}if(H.lambda)et=new f(H.lambda,16);else{var X=this._getEndoRoots(this.n);0===this.g.mul(X[0]).x.cmp(this.g.x.redMul(F))?et=X[0]:b(0===this.g.mul(et=X[1]).x.cmp(this.g.x.redMul(F)))}return{beta:F,lambda:et,basis:H.basis?H.basis.map(function(Y){return{a:new f(Y.a,16),b:new f(Y.b,16)}}):this._getEndoBasis(et)}}},W.prototype._getEndoRoots=function(H){var F=H===this.p?this.red:f.mont(H),et=new f(2).toRed(F).redInvm(),B=et.redNeg(),X=new f(3).toRed(F).redNeg().redSqrt().redMul(et);return[B.redAdd(X).fromRed(),B.redSub(X).fromRed()]},W.prototype._getEndoBasis=function(H){for(var U,it,ot,lt,wt,xt,Ot,Et,A,F=this.n.ushrn(Math.floor(this.n.bitLength()/2)),et=H,B=this.n.clone(),X=new f(1),z=new f(0),Y=new f(0),q=new f(1),Tt=0;0!==et.cmpn(0);){var o=B.div(et);Et=B.sub(o.mul(et)),A=Y.sub(o.mul(X));var c=q.sub(o.mul(z));if(!ot&&Et.cmp(F)<0)U=Ot.neg(),it=X,ot=Et.neg(),lt=A;else if(ot&&2==++Tt)break;Ot=Et,B=et,et=Et,Y=X,X=A,q=z,z=c}wt=Et.neg(),xt=A;var g=ot.sqr().add(lt.sqr());return wt.sqr().add(xt.sqr()).cmp(g)>=0&&(wt=U,xt=it),ot.negative&&(ot=ot.neg(),lt=lt.neg()),wt.negative&&(wt=wt.neg(),xt=xt.neg()),[{a:ot,b:lt},{a:wt,b:xt}]},W.prototype._endoSplit=function(H){var F=this.endo.basis,et=F[0],B=F[1],X=B.b.mul(H).divRound(this.n),z=et.b.neg().mul(H).divRound(this.n),Y=X.mul(et.a),q=z.mul(B.a),U=X.mul(et.b),it=z.mul(B.b);return{k1:H.sub(Y).sub(q),k2:U.add(it).neg()}},W.prototype.pointFromX=function(H,F){(H=new f(H,16)).red||(H=H.toRed(this.red));var et=H.redSqr().redMul(H).redIAdd(H.redMul(this.a)).redIAdd(this.b),B=et.redSqrt();if(0!==B.redSqr().redSub(et).cmp(this.zero))throw new Error("invalid point");var X=B.fromRed().isOdd();return(F&&!X||!F&&X)&&(B=B.redNeg()),this.point(H,B)},W.prototype.validate=function(H){if(H.inf)return!0;var F=H.x,et=H.y,B=this.a.redMul(F),X=F.redSqr().redMul(F).redIAdd(B).redIAdd(this.b);return 0===et.redSqr().redISub(X).cmpn(0)},W.prototype._endoWnafMulAdd=function(H,F,et){for(var B=this._endoWnafT1,X=this._endoWnafT2,z=0;z<H.length;z++){var Y=this._endoSplit(F[z]),q=H[z],U=q._getBeta();Y.k1.negative&&(Y.k1.ineg(),q=q.neg(!0)),Y.k2.negative&&(Y.k2.ineg(),U=U.neg(!0)),B[2*z]=q,B[2*z+1]=U,X[2*z]=Y.k1,X[2*z+1]=Y.k2}for(var it=this._wnafMulAdd(1,B,X,2*z,et),ot=0;ot<2*z;ot++)B[ot]=null,X[ot]=null;return it},J(G,tt.BasePoint),W.prototype.point=function(H,F,et){return new G(this,H,F,et)},W.prototype.pointFromJSON=function(H,F){return G.fromJSON(this,H,F)},G.prototype._getBeta=function(){if(this.curve.endo){var H=this.precomputed;if(H&&H.beta)return H.beta;var F=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(H){var et=this.curve,B=function(X){return et.point(X.x.redMul(et.endo.beta),X.y)};H.beta=F,F.precomputed={beta:null,naf:H.naf&&{wnd:H.naf.wnd,points:H.naf.points.map(B)},doubles:H.doubles&&{step:H.doubles.step,points:H.doubles.points.map(B)}}}return F}},G.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},G.fromJSON=function(H,F,et){"string"==typeof F&&(F=JSON.parse(F));var B=H.point(F[0],F[1],et);if(!F[2])return B;function X(Y){return H.point(Y[0],Y[1],et)}var z=F[2];return B.precomputed={beta:null,doubles:z.doubles&&{step:z.doubles.step,points:[B].concat(z.doubles.points.map(X))},naf:z.naf&&{wnd:z.naf.wnd,points:[B].concat(z.naf.points.map(X))}},B},G.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},G.prototype.isInfinity=function(){return this.inf},G.prototype.add=function(H){if(this.inf)return H;if(H.inf)return this;if(this.eq(H))return this.dbl();if(this.neg().eq(H))return this.curve.point(null,null);if(0===this.x.cmp(H.x))return this.curve.point(null,null);var F=this.y.redSub(H.y);0!==F.cmpn(0)&&(F=F.redMul(this.x.redSub(H.x).redInvm()));var et=F.redSqr().redISub(this.x).redISub(H.x),B=F.redMul(this.x.redSub(et)).redISub(this.y);return this.curve.point(et,B)},G.prototype.dbl=function(){if(this.inf)return this;var H=this.y.redAdd(this.y);if(0===H.cmpn(0))return this.curve.point(null,null);var F=this.curve.a,et=this.x.redSqr(),B=H.redInvm(),X=et.redAdd(et).redIAdd(et).redIAdd(F).redMul(B),z=X.redSqr().redISub(this.x.redAdd(this.x)),Y=X.redMul(this.x.redSub(z)).redISub(this.y);return this.curve.point(z,Y)},G.prototype.getX=function(){return this.x.fromRed()},G.prototype.getY=function(){return this.y.fromRed()},G.prototype.mul=function(H){return H=new f(H,16),this.isInfinity()?this:this._hasDoubles(H)?this.curve._fixedNafMul(this,H):this.curve.endo?this.curve._endoWnafMulAdd([this],[H]):this.curve._wnafMul(this,H)},G.prototype.mulAdd=function(H,F,et){var B=[this,F],X=[H,et];return this.curve.endo?this.curve._endoWnafMulAdd(B,X):this.curve._wnafMulAdd(1,B,X,2)},G.prototype.jmulAdd=function(H,F,et){var B=[this,F],X=[H,et];return this.curve.endo?this.curve._endoWnafMulAdd(B,X,!0):this.curve._wnafMulAdd(1,B,X,2,!0)},G.prototype.eq=function(H){return this===H||this.inf===H.inf&&(this.inf||0===this.x.cmp(H.x)&&0===this.y.cmp(H.y))},G.prototype.neg=function(H){if(this.inf)return this;var F=this.curve.point(this.x,this.y.redNeg());if(H&&this.precomputed){var et=this.precomputed,B=function(X){return X.neg()};F.precomputed={naf:et.naf&&{wnd:et.naf.wnd,points:et.naf.points.map(B)},doubles:et.doubles&&{step:et.doubles.step,points:et.doubles.points.map(B)}}}return F},G.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},J(rt,tt.BasePoint),W.prototype.jpoint=function(H,F,et){return new rt(this,H,F,et)},rt.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var H=this.z.redInvm(),F=H.redSqr(),et=this.x.redMul(F),B=this.y.redMul(F).redMul(H);return this.curve.point(et,B)},rt.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},rt.prototype.add=function(H){if(this.isInfinity())return H;if(H.isInfinity())return this;var F=H.z.redSqr(),et=this.z.redSqr(),B=this.x.redMul(F),X=H.x.redMul(et),z=this.y.redMul(F.redMul(H.z)),Y=H.y.redMul(et.redMul(this.z)),q=B.redSub(X),U=z.redSub(Y);if(0===q.cmpn(0))return 0!==U.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var it=q.redSqr(),ot=it.redMul(q),lt=B.redMul(it),wt=U.redSqr().redIAdd(ot).redISub(lt).redISub(lt),xt=U.redMul(lt.redISub(wt)).redISub(z.redMul(ot)),Ot=this.z.redMul(H.z).redMul(q);return this.curve.jpoint(wt,xt,Ot)},rt.prototype.mixedAdd=function(H){if(this.isInfinity())return H.toJ();if(H.isInfinity())return this;var F=this.z.redSqr(),et=this.x,B=H.x.redMul(F),X=this.y,z=H.y.redMul(F).redMul(this.z),Y=et.redSub(B),q=X.redSub(z);if(0===Y.cmpn(0))return 0!==q.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var U=Y.redSqr(),it=U.redMul(Y),ot=et.redMul(U),lt=q.redSqr().redIAdd(it).redISub(ot).redISub(ot),wt=q.redMul(ot.redISub(lt)).redISub(X.redMul(it)),xt=this.z.redMul(Y);return this.curve.jpoint(lt,wt,xt)},rt.prototype.dblp=function(H){if(0===H)return this;if(this.isInfinity())return this;if(!H)return this.dbl();var F;if(this.curve.zeroA||this.curve.threeA){var et=this;for(F=0;F<H;F++)et=et.dbl();return et}var B=this.curve.a,X=this.curve.tinv,z=this.x,Y=this.y,q=this.z,U=q.redSqr().redSqr(),it=Y.redAdd(Y);for(F=0;F<H;F++){var ot=z.redSqr(),lt=it.redSqr(),wt=lt.redSqr(),xt=ot.redAdd(ot).redIAdd(ot).redIAdd(B.redMul(U)),Ot=z.redMul(lt),Tt=xt.redSqr().redISub(Ot.redAdd(Ot)),Et=Ot.redISub(Tt),A=xt.redMul(Et);A=A.redIAdd(A).redISub(wt);var o=it.redMul(q);F+1<H&&(U=U.redMul(wt)),z=Tt,q=o,it=A}return this.curve.jpoint(z,it.redMul(X),q)},rt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},rt.prototype._zeroDbl=function(){var H,F,et;if(this.zOne){var B=this.x.redSqr(),X=this.y.redSqr(),z=X.redSqr(),Y=this.x.redAdd(X).redSqr().redISub(B).redISub(z);Y=Y.redIAdd(Y);var q=B.redAdd(B).redIAdd(B),U=q.redSqr().redISub(Y).redISub(Y),it=z.redIAdd(z);it=(it=it.redIAdd(it)).redIAdd(it),H=U,F=q.redMul(Y.redISub(U)).redISub(it),et=this.y.redAdd(this.y)}else{var ot=this.x.redSqr(),lt=this.y.redSqr(),wt=lt.redSqr(),xt=this.x.redAdd(lt).redSqr().redISub(ot).redISub(wt);xt=xt.redIAdd(xt);var Ot=ot.redAdd(ot).redIAdd(ot),Tt=Ot.redSqr(),Et=wt.redIAdd(wt);Et=(Et=Et.redIAdd(Et)).redIAdd(Et),H=Tt.redISub(xt).redISub(xt),F=Ot.redMul(xt.redISub(H)).redISub(Et),et=(et=this.y.redMul(this.z)).redIAdd(et)}return this.curve.jpoint(H,F,et)},rt.prototype._threeDbl=function(){var H,F,et;if(this.zOne){var B=this.x.redSqr(),X=this.y.redSqr(),z=X.redSqr(),Y=this.x.redAdd(X).redSqr().redISub(B).redISub(z);Y=Y.redIAdd(Y);var q=B.redAdd(B).redIAdd(B).redIAdd(this.curve.a),U=q.redSqr().redISub(Y).redISub(Y);H=U;var it=z.redIAdd(z);it=(it=it.redIAdd(it)).redIAdd(it),F=q.redMul(Y.redISub(U)).redISub(it),et=this.y.redAdd(this.y)}else{var ot=this.z.redSqr(),lt=this.y.redSqr(),wt=this.x.redMul(lt),xt=this.x.redSub(ot).redMul(this.x.redAdd(ot));xt=xt.redAdd(xt).redIAdd(xt);var Ot=wt.redIAdd(wt),Tt=(Ot=Ot.redIAdd(Ot)).redAdd(Ot);H=xt.redSqr().redISub(Tt),et=this.y.redAdd(this.z).redSqr().redISub(lt).redISub(ot);var Et=lt.redSqr();Et=(Et=(Et=Et.redIAdd(Et)).redIAdd(Et)).redIAdd(Et),F=xt.redMul(Ot.redISub(H)).redISub(Et)}return this.curve.jpoint(H,F,et)},rt.prototype._dbl=function(){var H=this.curve.a,F=this.x,et=this.y,B=this.z,X=B.redSqr().redSqr(),z=F.redSqr(),Y=et.redSqr(),q=z.redAdd(z).redIAdd(z).redIAdd(H.redMul(X)),U=F.redAdd(F),it=(U=U.redIAdd(U)).redMul(Y),ot=q.redSqr().redISub(it.redAdd(it)),lt=it.redISub(ot),wt=Y.redSqr();wt=(wt=(wt=wt.redIAdd(wt)).redIAdd(wt)).redIAdd(wt);var xt=q.redMul(lt).redISub(wt),Ot=et.redAdd(et).redMul(B);return this.curve.jpoint(ot,xt,Ot)},rt.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var H=this.x.redSqr(),F=this.y.redSqr(),et=this.z.redSqr(),B=F.redSqr(),X=H.redAdd(H).redIAdd(H),z=X.redSqr(),Y=this.x.redAdd(F).redSqr().redISub(H).redISub(B),q=(Y=(Y=(Y=Y.redIAdd(Y)).redAdd(Y).redIAdd(Y)).redISub(z)).redSqr(),U=B.redIAdd(B);U=(U=(U=U.redIAdd(U)).redIAdd(U)).redIAdd(U);var it=X.redIAdd(Y).redSqr().redISub(z).redISub(q).redISub(U),ot=F.redMul(it);ot=(ot=ot.redIAdd(ot)).redIAdd(ot);var lt=this.x.redMul(q).redISub(ot);lt=(lt=lt.redIAdd(lt)).redIAdd(lt);var wt=this.y.redMul(it.redMul(U.redISub(it)).redISub(Y.redMul(q)));wt=(wt=(wt=wt.redIAdd(wt)).redIAdd(wt)).redIAdd(wt);var xt=this.z.redAdd(Y).redSqr().redISub(et).redISub(q);return this.curve.jpoint(lt,wt,xt)},rt.prototype.mul=function(H,F){return H=new f(H,F),this.curve._wnafMul(this,H)},rt.prototype.eq=function(H){if("affine"===H.type)return this.eq(H.toJ());if(this===H)return!0;var F=this.z.redSqr(),et=H.z.redSqr();if(0!==this.x.redMul(et).redISub(H.x.redMul(F)).cmpn(0))return!1;var B=F.redMul(this.z),X=et.redMul(H.z);return 0===this.y.redMul(X).redISub(H.y.redMul(B)).cmpn(0)},rt.prototype.eqXToP=function(H){var F=this.z.redSqr(),et=H.toRed(this.curve.red).redMul(F);if(0===this.x.cmp(et))return!0;for(var B=H.clone(),X=this.curve.redN.redMul(F);;){if(B.iadd(this.curve.n),B.cmp(this.curve.p)>=0)return!1;if(et.redIAdd(X),0===this.x.cmp(et))return!0}},rt.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},rt.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},2960:(Ee,Q,ut)=>{"use strict";var rt,ct=Q,f=ut(4658),J=ut(2333),b=ut(5685).assert;function W(Z){this.curve="short"===Z.type?new J.short(Z):"edwards"===Z.type?new J.edwards(Z):new J.mont(Z),this.g=this.curve.g,this.n=this.curve.n,this.hash=Z.hash,b(this.g.validate(),"Invalid curve"),b(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function G(Z,H){Object.defineProperty(ct,Z,{configurable:!0,enumerable:!0,get:function(){var F=new W(H);return Object.defineProperty(ct,Z,{configurable:!0,enumerable:!0,value:F}),F}})}ct.PresetCurve=W,G("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:f.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),G("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:f.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),G("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:f.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),G("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:f.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),G("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:f.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),G("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:f.sha256,gRed:!1,g:["9"]}),G("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:f.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{rt=ut(1865)}catch(Z){rt=void 0}G("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:f.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",rt]})},4590:(Ee,Q,ut)=>{"use strict";var ct=ut(9631),f=ut(1883),J=ut(5685),tt=ut(2960),b=ut(3550),W=J.assert,G=ut(8668),rt=ut(7285);function Z(H){if(!(this instanceof Z))return new Z(H);"string"==typeof H&&(W(Object.prototype.hasOwnProperty.call(tt,H),"Unknown curve "+H),H=tt[H]),H instanceof tt.PresetCurve&&(H={curve:H}),this.curve=H.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=H.curve.g,this.g.precompute(H.curve.n.bitLength()+1),this.hash=H.hash||H.curve.hash}Ee.exports=Z,Z.prototype.keyPair=function(F){return new G(this,F)},Z.prototype.keyFromPrivate=function(F,et){return G.fromPrivate(this,F,et)},Z.prototype.keyFromPublic=function(F,et){return G.fromPublic(this,F,et)},Z.prototype.genKeyPair=function(F){F||(F={});for(var et=new f({hash:this.hash,pers:F.pers,persEnc:F.persEnc||"utf8",entropy:F.entropy||b(this.hash.hmacStrength),entropyEnc:F.entropy&&F.entropyEnc||"utf8",nonce:this.n.toArray()}),B=this.n.byteLength(),X=this.n.sub(new ct(2));;){var z=new ct(et.generate(B));if(!(z.cmp(X)>0))return z.iaddn(1),this.keyFromPrivate(z)}},Z.prototype._truncateToN=function(F,et){var B=8*F.byteLength()-this.n.bitLength();return B>0&&(F=F.ushrn(B)),!et&&F.cmp(this.n)>=0?F.sub(this.n):F},Z.prototype.sign=function(F,et,B,X){"object"==typeof B&&(X=B,B=null),X||(X={}),et=this.keyFromPrivate(et,B),F=this._truncateToN(new ct(F,16));for(var z=this.n.byteLength(),Y=et.getPrivate().toArray("be",z),q=F.toArray("be",z),U=new f({hash:this.hash,entropy:Y,nonce:q,pers:X.pers,persEnc:X.persEnc||"utf8"}),it=this.n.sub(new ct(1)),ot=0;;ot++){var lt=X.k?X.k(ot):new ct(U.generate(this.n.byteLength()));if(!((lt=this._truncateToN(lt,!0)).cmpn(1)<=0||lt.cmp(it)>=0)){var wt=this.g.mul(lt);if(!wt.isInfinity()){var xt=wt.getX(),Ot=xt.umod(this.n);if(0!==Ot.cmpn(0)){var Tt=lt.invm(this.n).mul(Ot.mul(et.getPrivate()).iadd(F));if(0!==(Tt=Tt.umod(this.n)).cmpn(0)){var Et=(wt.getY().isOdd()?1:0)|(0!==xt.cmp(Ot)?2:0);return X.canonical&&Tt.cmp(this.nh)>0&&(Tt=this.n.sub(Tt),Et^=1),new rt({r:Ot,s:Tt,recoveryParam:Et})}}}}}},Z.prototype.verify=function(F,et,B,X){F=this._truncateToN(new ct(F,16)),B=this.keyFromPublic(B,X);var z=(et=new rt(et,"hex")).r,Y=et.s;if(z.cmpn(1)<0||z.cmp(this.n)>=0||Y.cmpn(1)<0||Y.cmp(this.n)>=0)return!1;var ot,q=Y.invm(this.n),U=q.mul(F).umod(this.n),it=q.mul(z).umod(this.n);return this.curve._maxwellTrick?!(ot=this.g.jmulAdd(U,B.getPublic(),it)).isInfinity()&&ot.eqXToP(z):!(ot=this.g.mulAdd(U,B.getPublic(),it)).isInfinity()&&0===ot.getX().umod(this.n).cmp(z)},Z.prototype.recoverPubKey=function(H,F,et,B){W((3&et)===et,"The recovery param is more than two bits"),F=new rt(F,B);var X=this.n,z=new ct(H),Y=F.r,q=F.s,U=1&et,it=et>>1;if(Y.cmp(this.curve.p.umod(this.curve.n))>=0&&it)throw new Error("Unable to find sencond key candinate");Y=this.curve.pointFromX(it?Y.add(this.curve.n):Y,U);var ot=F.r.invm(X),lt=X.sub(z).mul(ot).umod(X),wt=q.mul(ot).umod(X);return this.g.mulAdd(lt,Y,wt)},Z.prototype.getKeyRecoveryParam=function(H,F,et,B){if(null!==(F=new rt(F,B)).recoveryParam)return F.recoveryParam;for(var X=0;X<4;X++){var z;try{z=this.recoverPubKey(H,F,X)}catch(Y){continue}if(z.eq(et))return X}throw new Error("Unable to find valid recovery factor")}},8668:(Ee,Q,ut)=>{"use strict";var ct=ut(9631),J=ut(5685).assert;function tt(b,W){this.ec=b,this.priv=null,this.pub=null,W.priv&&this._importPrivate(W.priv,W.privEnc),W.pub&&this._importPublic(W.pub,W.pubEnc)}Ee.exports=tt,tt.fromPublic=function(W,G,rt){return G instanceof tt?G:new tt(W,{pub:G,pubEnc:rt})},tt.fromPrivate=function(W,G,rt){return G instanceof tt?G:new tt(W,{priv:G,privEnc:rt})},tt.prototype.validate=function(){var W=this.getPublic();return W.isInfinity()?{result:!1,reason:"Invalid public key"}:W.validate()?W.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},tt.prototype.getPublic=function(W,G){return"string"==typeof W&&(G=W,W=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),G?this.pub.encode(G,W):this.pub},tt.prototype.getPrivate=function(W){return"hex"===W?this.priv.toString(16,2):this.priv},tt.prototype._importPrivate=function(W,G){this.priv=new ct(W,G||16),this.priv=this.priv.umod(this.ec.curve.n)},tt.prototype._importPublic=function(W,G){if(W.x||W.y)return"mont"===this.ec.curve.type?J(W.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&J(W.x&&W.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(W.x,W.y));this.pub=this.ec.curve.decodePoint(W,G)},tt.prototype.derive=function(W){return W.validate()||J(W.validate(),"public point not validated"),W.mul(this.priv).getX()},tt.prototype.sign=function(W,G,rt){return this.ec.sign(W,this,G,rt)},tt.prototype.verify=function(W,G){return this.ec.verify(W,G,this)},tt.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},7285:(Ee,Q,ut)=>{"use strict";var ct=ut(9631),f=ut(5685),J=f.assert;function tt(Z,H){if(Z instanceof tt)return Z;this._importDER(Z,H)||(J(Z.r&&Z.s,"Signature without r or s"),this.r=new ct(Z.r,16),this.s=new ct(Z.s,16),this.recoveryParam=void 0===Z.recoveryParam?null:Z.recoveryParam)}function b(){this.place=0}function W(Z,H){var F=Z[H.place++];if(!(128&F))return F;var et=15&F;if(0===et||et>4)return!1;for(var B=0,X=0,z=H.place;X<et;X++,z++)B<<=8,B|=Z[z],B>>>=0;return!(B<=127)&&(H.place=z,B)}function G(Z){for(var H=0,F=Z.length-1;!Z[H]&&!(128&Z[H+1])&&H<F;)H++;return 0===H?Z:Z.slice(H)}function rt(Z,H){if(H<128)Z.push(H);else{var F=1+(Math.log(H)/Math.LN2>>>3);for(Z.push(128|F);--F;)Z.push(H>>>(F<<3)&255);Z.push(H)}}Ee.exports=tt,tt.prototype._importDER=function(H,F){H=f.toArray(H,F);var et=new b;if(48!==H[et.place++])return!1;var B=W(H,et);if(!1===B||B+et.place!==H.length||2!==H[et.place++])return!1;var X=W(H,et);if(!1===X)return!1;var z=H.slice(et.place,X+et.place);if(et.place+=X,2!==H[et.place++])return!1;var Y=W(H,et);if(!1===Y||H.length!==Y+et.place)return!1;var q=H.slice(et.place,Y+et.place);if(0===z[0]){if(!(128&z[1]))return!1;z=z.slice(1)}if(0===q[0]){if(!(128&q[1]))return!1;q=q.slice(1)}return this.r=new ct(z),this.s=new ct(q),this.recoveryParam=null,!0},tt.prototype.toDER=function(H){var F=this.r.toArray(),et=this.s.toArray();for(128&F[0]&&(F=[0].concat(F)),128&et[0]&&(et=[0].concat(et)),F=G(F),et=G(et);!(et[0]||128&et[1]);)et=et.slice(1);var B=[2];rt(B,F.length),(B=B.concat(F)).push(2),rt(B,et.length);var X=B.concat(et),z=[48];return rt(z,X.length),z=z.concat(X),f.encode(z,H)}},876:(Ee,Q,ut)=>{"use strict";var ct=ut(4658),f=ut(2960),J=ut(5685),tt=J.assert,b=J.parseBytes,W=ut(9517),G=ut(8335);function rt(Z){if(tt("ed25519"===Z,"only tested with ed25519 so far"),!(this instanceof rt))return new rt(Z);this.curve=Z=f[Z].curve,this.g=Z.g,this.g.precompute(Z.n.bitLength()+1),this.pointClass=Z.point().constructor,this.encodingLength=Math.ceil(Z.n.bitLength()/8),this.hash=ct.sha512}Ee.exports=rt,rt.prototype.sign=function(H,F){H=b(H);var et=this.keyFromSecret(F),B=this.hashInt(et.messagePrefix(),H),X=this.g.mul(B),z=this.encodePoint(X),Y=this.hashInt(z,et.pubBytes(),H).mul(et.priv()),q=B.add(Y).umod(this.curve.n);return this.makeSignature({R:X,S:q,Rencoded:z})},rt.prototype.verify=function(H,F,et){H=b(H),F=this.makeSignature(F);var B=this.keyFromPublic(et),X=this.hashInt(F.Rencoded(),B.pubBytes(),H),z=this.g.mul(F.S());return F.R().add(B.pub().mul(X)).eq(z)},rt.prototype.hashInt=function(){for(var H=this.hash(),F=0;F<arguments.length;F++)H.update(arguments[F]);return J.intFromLE(H.digest()).umod(this.curve.n)},rt.prototype.keyFromPublic=function(H){return W.fromPublic(this,H)},rt.prototype.keyFromSecret=function(H){return W.fromSecret(this,H)},rt.prototype.makeSignature=function(H){return H instanceof G?H:new G(this,H)},rt.prototype.encodePoint=function(H){var F=H.getY().toArray("le",this.encodingLength);return F[this.encodingLength-1]|=H.getX().isOdd()?128:0,F},rt.prototype.decodePoint=function(H){var F=(H=J.parseBytes(H)).length-1,et=H.slice(0,F).concat(-129&H[F]),B=0!=(128&H[F]),X=J.intFromLE(et);return this.curve.pointFromY(X,B)},rt.prototype.encodeInt=function(H){return H.toArray("le",this.encodingLength)},rt.prototype.decodeInt=function(H){return J.intFromLE(H)},rt.prototype.isPoint=function(H){return H instanceof this.pointClass}},9517:(Ee,Q,ut)=>{"use strict";var ct=ut(5685),f=ct.assert,J=ct.parseBytes,tt=ct.cachedProperty;function b(W,G){this.eddsa=W,this._secret=J(G.secret),W.isPoint(G.pub)?this._pub=G.pub:this._pubBytes=J(G.pub)}b.fromPublic=function(G,rt){return rt instanceof b?rt:new b(G,{pub:rt})},b.fromSecret=function(G,rt){return rt instanceof b?rt:new b(G,{secret:rt})},b.prototype.secret=function(){return this._secret},tt(b,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),tt(b,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),tt(b,"privBytes",function(){var G=this.eddsa,rt=this.hash(),Z=G.encodingLength-1,H=rt.slice(0,G.encodingLength);return H[0]&=248,H[Z]&=127,H[Z]|=64,H}),tt(b,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),tt(b,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),tt(b,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),b.prototype.sign=function(G){return f(this._secret,"KeyPair can only verify"),this.eddsa.sign(G,this)},b.prototype.verify=function(G,rt){return this.eddsa.verify(G,rt,this)},b.prototype.getSecret=function(G){return f(this._secret,"KeyPair is public only"),ct.encode(this.secret(),G)},b.prototype.getPublic=function(G){return ct.encode(this.pubBytes(),G)},Ee.exports=b},8335:(Ee,Q,ut)=>{"use strict";var ct=ut(9631),f=ut(5685),J=f.assert,tt=f.cachedProperty,b=f.parseBytes;function W(G,rt){this.eddsa=G,"object"!=typeof rt&&(rt=b(rt)),Array.isArray(rt)&&(rt={R:rt.slice(0,G.encodingLength),S:rt.slice(G.encodingLength)}),J(rt.R&&rt.S,"Signature without R or S"),G.isPoint(rt.R)&&(this._R=rt.R),rt.S instanceof ct&&(this._S=rt.S),this._Rencoded=Array.isArray(rt.R)?rt.R:rt.Rencoded,this._Sencoded=Array.isArray(rt.S)?rt.S:rt.Sencoded}tt(W,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),tt(W,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),tt(W,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),tt(W,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),W.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},W.prototype.toHex=function(){return f.encode(this.toBytes(),"hex").toUpperCase()},Ee.exports=W},1865:Ee=>{Ee.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},5685:(Ee,Q,ut)=>{"use strict";var ct=Q,f=ut(9631),J=ut(4725),tt=ut(1171);ct.assert=J,ct.toArray=tt.toArray,ct.zero2=tt.zero2,ct.toHex=tt.toHex,ct.encode=tt.encode,ct.getNAF=function(H,F,et){var B=new Array(Math.max(H.bitLength(),et)+1);B.fill(0);for(var X=1<<F+1,z=H.clone(),Y=0;Y<B.length;Y++){var q,U=z.andln(X-1);z.isOdd()?z.isubn(q=U>(X>>1)-1?(X>>1)-U:U):q=0,B[Y]=q,z.iushrn(1)}return B},ct.getJSF=function(H,F){var et=[[],[]];H=H.clone(),F=F.clone();for(var z,B=0,X=0;H.cmpn(-B)>0||F.cmpn(-X)>0;){var U,it,Y=H.andln(3)+B&3,q=F.andln(3)+X&3;3===Y&&(Y=-1),3===q&&(q=-1),U=0==(1&Y)?0:3!=(z=H.andln(7)+B&7)&&5!==z||2!==q?Y:-Y,et[0].push(U),it=0==(1&q)?0:3!=(z=F.andln(7)+X&7)&&5!==z||2!==Y?q:-q,et[1].push(it),2*B===U+1&&(B=1-B),2*X===it+1&&(X=1-X),H.iushrn(1),F.iushrn(1)}return et},ct.cachedProperty=function(H,F,et){var B="_"+F;H.prototype[F]=function(){return void 0!==this[B]?this[B]:this[B]=et.call(this)}},ct.parseBytes=function(H){return"string"==typeof H?ct.toArray(H,"hex"):H},ct.intFromLE=function(H){return new f(H,"hex","le")}},9631:function(Ee,Q,ut){!function(ct,f){"use strict";function J(A,o){if(!A)throw new Error(o||"Assertion failed")}function tt(A,o){A.super_=o;var c=function(){};c.prototype=o.prototype,A.prototype=new c,A.prototype.constructor=A}function b(A,o,c){if(b.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,null!==A&&(("le"===o||"be"===o)&&(c=o,o=10),this._init(A||0,o||10,c||"be"))}var W;"object"==typeof ct?ct.exports=b:f.BN=b,b.BN=b,b.wordSize=26;try{W="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:ut(5568).Buffer}catch(A){}function G(A,o){var c=A.charCodeAt(o);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function rt(A,o,c){var g=G(A,c);return c-1>=o&&(g|=G(A,c-1)<<4),g}function Z(A,o,c,g){for(var p=0,w=Math.min(A.length,c),S=o;S<w;S++){var T=A.charCodeAt(S)-48;p*=g,p+=T>=49?T-49+10:T>=17?T-17+10:T}return p}b.isBN=function(o){return o instanceof b||null!==o&&"object"==typeof o&&o.constructor.wordSize===b.wordSize&&Array.isArray(o.words)},b.max=function(o,c){return o.cmp(c)>0?o:c},b.min=function(o,c){return o.cmp(c)<0?o:c},b.prototype._init=function(o,c,g){if("number"==typeof o)return this._initNumber(o,c,g);if("object"==typeof o)return this._initArray(o,c,g);"hex"===c&&(c=16),J(c===(0|c)&&c>=2&&c<=36);var p=0;"-"===(o=o.toString().replace(/\s+/g,""))[0]&&(p++,this.negative=1),p<o.length&&(16===c?this._parseHex(o,p,g):(this._parseBase(o,c,p),"le"===g&&this._initArray(this.toArray(),c,g)))},b.prototype._initNumber=function(o,c,g){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[67108863&o],this.length=1):o<4503599627370496?(this.words=[67108863&o,o/67108864&67108863],this.length=2):(J(o<9007199254740992),this.words=[67108863&o,o/67108864&67108863,1],this.length=3),"le"===g&&this._initArray(this.toArray(),c,g)},b.prototype._initArray=function(o,c,g){if(J("number"==typeof o.length),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var w,S,T=0;if("be"===g)for(p=o.length-1,w=0;p>=0;p-=3)this.words[w]|=(S=o[p]|o[p-1]<<8|o[p-2]<<16)<<T&67108863,this.words[w+1]=S>>>26-T&67108863,(T+=24)>=26&&(T-=26,w++);else if("le"===g)for(p=0,w=0;p<o.length;p+=3)this.words[w]|=(S=o[p]|o[p+1]<<8|o[p+2]<<16)<<T&67108863,this.words[w+1]=S>>>26-T&67108863,(T+=24)>=26&&(T-=26,w++);return this.strip()},b.prototype._parseHex=function(o,c,g){this.length=Math.ceil((o.length-c)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var T,w=0,S=0;if("be"===g)for(p=o.length-1;p>=c;p-=2)T=rt(o,c,p)<<w,this.words[S]|=67108863&T,w>=18?(w-=18,this.words[S+=1]|=T>>>26):w+=8;else for(p=(o.length-c)%2==0?c+1:c;p<o.length;p+=2)T=rt(o,c,p)<<w,this.words[S]|=67108863&T,w>=18?(w-=18,this.words[S+=1]|=T>>>26):w+=8;this.strip()},b.prototype._parseBase=function(o,c,g){this.words=[0],this.length=1;for(var p=0,w=1;w<=67108863;w*=c)p++;p--,w=w/c|0;for(var S=o.length-g,T=S%p,C=Math.min(S,S-T)+g,h=0,k=g;k<C;k+=p)h=Z(o,k,k+p,c),this.imuln(w),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==T){var ft=1;for(h=Z(o,k,o.length,c),k=0;k<T;k++)ft*=c;this.imuln(ft),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},b.prototype.copy=function(o){o.words=new Array(this.length);for(var c=0;c<this.length;c++)o.words[c]=this.words[c];o.length=this.length,o.negative=this.negative,o.red=this.red},b.prototype.clone=function(){var o=new b(null);return this.copy(o),o},b.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},b.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},b.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},b.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var H=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],F=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],et=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function X(A,o,c){c.negative=o.negative^A.negative;var g=A.length+o.length|0;c.length=g,g=g-1|0;var p=0|A.words[0],w=0|o.words[0],S=p*w,C=S/67108864|0;c.words[0]=67108863&S;for(var h=1;h<g;h++){for(var k=C>>>26,ft=67108863&C,at=Math.min(h,o.length-1),st=Math.max(0,h-A.length+1);st<=at;st++)k+=(S=(p=0|A.words[h-st|0])*(w=0|o.words[st])+ft)/67108864|0,ft=67108863&S;c.words[h]=0|ft,C=0|k}return 0!==C?c.words[h]=0|C:c.length--,c.strip()}b.prototype.toString=function(o,c){var g;if(c=0|c||1,16===(o=o||10)||"hex"===o){g="";for(var p=0,w=0,S=0;S<this.length;S++){var T=this.words[S],C=(16777215&(T<<p|w)).toString(16);g=0!=(w=T>>>24-p&16777215)||S!==this.length-1?H[6-C.length]+C+g:C+g,(p+=2)>=26&&(p-=26,S--)}for(0!==w&&(g=w.toString(16)+g);g.length%c!=0;)g="0"+g;return 0!==this.negative&&(g="-"+g),g}if(o===(0|o)&&o>=2&&o<=36){var h=F[o],k=et[o];g="";var ft=this.clone();for(ft.negative=0;!ft.isZero();){var at=ft.modn(k).toString(o);g=(ft=ft.idivn(k)).isZero()?at+g:H[h-at.length]+at+g}for(this.isZero()&&(g="0"+g);g.length%c!=0;)g="0"+g;return 0!==this.negative&&(g="-"+g),g}J(!1,"Base should be between 2 and 36")},b.prototype.toNumber=function(){var o=this.words[0];return 2===this.length?o+=67108864*this.words[1]:3===this.length&&1===this.words[2]?o+=4503599627370496+67108864*this.words[1]:this.length>2&&J(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-o:o},b.prototype.toJSON=function(){return this.toString(16)},b.prototype.toBuffer=function(o,c){return J(void 0!==W),this.toArrayLike(W,o,c)},b.prototype.toArray=function(o,c){return this.toArrayLike(Array,o,c)},b.prototype.toArrayLike=function(o,c,g){var p=this.byteLength(),w=g||Math.max(1,p);J(p<=w,"byte array longer than desired length"),J(w>0,"Requested array length <= 0"),this.strip();var C,h,S="le"===c,T=new o(w),k=this.clone();if(S){for(h=0;!k.isZero();h++)C=k.andln(255),k.iushrn(8),T[h]=C;for(;h<w;h++)T[h]=0}else{for(h=0;h<w-p;h++)T[h]=0;for(h=0;!k.isZero();h++)C=k.andln(255),k.iushrn(8),T[w-h-1]=C}return T},b.prototype._countBits=Math.clz32?function(o){return 32-Math.clz32(o)}:function(o){var c=o,g=0;return c>=4096&&(g+=13,c>>>=13),c>=64&&(g+=7,c>>>=7),c>=8&&(g+=4,c>>>=4),c>=2&&(g+=2,c>>>=2),g+c},b.prototype._zeroBits=function(o){if(0===o)return 26;var c=o,g=0;return 0==(8191&c)&&(g+=13,c>>>=13),0==(127&c)&&(g+=7,c>>>=7),0==(15&c)&&(g+=4,c>>>=4),0==(3&c)&&(g+=2,c>>>=2),0==(1&c)&&g++,g},b.prototype.bitLength=function(){var c=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+c},b.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,c=0;c<this.length;c++){var g=this._zeroBits(this.words[c]);if(o+=g,26!==g)break}return o},b.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},b.prototype.toTwos=function(o){return 0!==this.negative?this.abs().inotn(o).iaddn(1):this.clone()},b.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},b.prototype.isNeg=function(){return 0!==this.negative},b.prototype.neg=function(){return this.clone().ineg()},b.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},b.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var c=0;c<o.length;c++)this.words[c]=this.words[c]|o.words[c];return this.strip()},b.prototype.ior=function(o){return J(0==(this.negative|o.negative)),this.iuor(o)},b.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},b.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},b.prototype.iuand=function(o){var c;c=this.length>o.length?o:this;for(var g=0;g<c.length;g++)this.words[g]=this.words[g]&o.words[g];return this.length=c.length,this.strip()},b.prototype.iand=function(o){return J(0==(this.negative|o.negative)),this.iuand(o)},b.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},b.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},b.prototype.iuxor=function(o){var c,g;this.length>o.length?(c=this,g=o):(c=o,g=this);for(var p=0;p<g.length;p++)this.words[p]=c.words[p]^g.words[p];if(this!==c)for(;p<c.length;p++)this.words[p]=c.words[p];return this.length=c.length,this.strip()},b.prototype.ixor=function(o){return J(0==(this.negative|o.negative)),this.iuxor(o)},b.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},b.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},b.prototype.inotn=function(o){J("number"==typeof o&&o>=0);var c=0|Math.ceil(o/26),g=o%26;this._expand(c),g>0&&c--;for(var p=0;p<c;p++)this.words[p]=67108863&~this.words[p];return g>0&&(this.words[p]=~this.words[p]&67108863>>26-g),this.strip()},b.prototype.notn=function(o){return this.clone().inotn(o)},b.prototype.setn=function(o,c){J("number"==typeof o&&o>=0);var g=o/26|0,p=o%26;return this._expand(g+1),this.words[g]=c?this.words[g]|1<<p:this.words[g]&~(1<<p),this.strip()},b.prototype.iadd=function(o){var c,g,p;if(0!==this.negative&&0===o.negative)return this.negative=0,c=this.isub(o),this.negative^=1,this._normSign();if(0===this.negative&&0!==o.negative)return o.negative=0,c=this.isub(o),o.negative=1,c._normSign();this.length>o.length?(g=this,p=o):(g=o,p=this);for(var w=0,S=0;S<p.length;S++)this.words[S]=67108863&(c=(0|g.words[S])+(0|p.words[S])+w),w=c>>>26;for(;0!==w&&S<g.length;S++)this.words[S]=67108863&(c=(0|g.words[S])+w),w=c>>>26;if(this.length=g.length,0!==w)this.words[this.length]=w,this.length++;else if(g!==this)for(;S<g.length;S++)this.words[S]=g.words[S];return this},b.prototype.add=function(o){var c;return 0!==o.negative&&0===this.negative?(o.negative=0,c=this.sub(o),o.negative^=1,c):0===o.negative&&0!==this.negative?(this.negative=0,c=o.sub(this),this.negative=1,c):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},b.prototype.isub=function(o){if(0!==o.negative){o.negative=0;var c=this.iadd(o);return o.negative=1,c._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var p,w,g=this.cmp(o);if(0===g)return this.negative=0,this.length=1,this.words[0]=0,this;g>0?(p=this,w=o):(p=o,w=this);for(var S=0,T=0;T<w.length;T++)S=(c=(0|p.words[T])-(0|w.words[T])+S)>>26,this.words[T]=67108863&c;for(;0!==S&&T<p.length;T++)S=(c=(0|p.words[T])+S)>>26,this.words[T]=67108863&c;if(0===S&&T<p.length&&p!==this)for(;T<p.length;T++)this.words[T]=p.words[T];return this.length=Math.max(this.length,T),p!==this&&(this.negative=1),this.strip()},b.prototype.sub=function(o){return this.clone().isub(o)};var z=function(o,c,g){var C,h,k,p=o.words,w=c.words,S=g.words,T=0,ft=0|p[0],at=8191&ft,st=ft>>>13,Mt=0|p[1],St=8191&Mt,Xt=Mt>>>13,te=0|p[2],Vt=8191&te,Dt=te>>>13,ve=0|p[3],Gt=8191&ve,Nt=ve>>>13,Kt=0|p[4],fe=8191&Kt,zt=Kt>>>13,Ne=0|p[5],Pt=8191&Ne,Se=Ne>>>13,Fi=0|p[6],Ge=8191&Fi,_e=Fi>>>13,Ce=0|p[7],Bt=8191&Ce,re=Ce>>>13,Ye=0|p[8],jt=8191&Ye,yt=Ye>>>13,ht=0|p[9],ce=8191&ht,ke=ht>>>13,Pi=0|w[0],We=8191&Pi,si=Pi>>>13,bn=0|w[1],wi=8191&bn,je=bn>>>13,ci=0|w[2],Oe=8191&ci,oi=ci>>>13,Vn=0|w[3],ei=8191&Vn,De=Vn>>>13,qe=0|w[4],ni=8191&qe,ne=qe>>>13,Qt=0|w[5],Zt=8191&Qt,Ut=Qt>>>13,xe=0|w[6],ue=8191&xe,Re=xe>>>13,pi=0|w[7],he=8191&pi,$e=pi>>>13,_n=0|w[8],Ei=8191&_n,zi=_n>>>13,ir=0|w[9],bi=8191&ir,Li=ir>>>13;g.negative=o.negative^c.negative,g.length=19;var Ln=(T+(C=Math.imul(at,We))|0)+((8191&(h=(h=Math.imul(at,si))+Math.imul(st,We)|0))<<13)|0;T=((k=Math.imul(st,si))+(h>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,C=Math.imul(St,We),h=(h=Math.imul(St,si))+Math.imul(Xt,We)|0,k=Math.imul(Xt,si);var Kn=(T+(C=C+Math.imul(at,wi)|0)|0)+((8191&(h=(h=h+Math.imul(at,je)|0)+Math.imul(st,wi)|0))<<13)|0;T=((k=k+Math.imul(st,je)|0)+(h>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,C=Math.imul(Vt,We),h=(h=Math.imul(Vt,si))+Math.imul(Dt,We)|0,k=Math.imul(Dt,si),C=C+Math.imul(St,wi)|0,h=(h=h+Math.imul(St,je)|0)+Math.imul(Xt,wi)|0,k=k+Math.imul(Xt,je)|0;var pr=(T+(C=C+Math.imul(at,Oe)|0)|0)+((8191&(h=(h=h+Math.imul(at,oi)|0)+Math.imul(st,Oe)|0))<<13)|0;T=((k=k+Math.imul(st,oi)|0)+(h>>>13)|0)+(pr>>>26)|0,pr&=67108863,C=Math.imul(Gt,We),h=(h=Math.imul(Gt,si))+Math.imul(Nt,We)|0,k=Math.imul(Nt,si),C=C+Math.imul(Vt,wi)|0,h=(h=h+Math.imul(Vt,je)|0)+Math.imul(Dt,wi)|0,k=k+Math.imul(Dt,je)|0,C=C+Math.imul(St,Oe)|0,h=(h=h+Math.imul(St,oi)|0)+Math.imul(Xt,Oe)|0,k=k+Math.imul(Xt,oi)|0;var Jn=(T+(C=C+Math.imul(at,ei)|0)|0)+((8191&(h=(h=h+Math.imul(at,De)|0)+Math.imul(st,ei)|0))<<13)|0;T=((k=k+Math.imul(st,De)|0)+(h>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,C=Math.imul(fe,We),h=(h=Math.imul(fe,si))+Math.imul(zt,We)|0,k=Math.imul(zt,si),C=C+Math.imul(Gt,wi)|0,h=(h=h+Math.imul(Gt,je)|0)+Math.imul(Nt,wi)|0,k=k+Math.imul(Nt,je)|0,C=C+Math.imul(Vt,Oe)|0,h=(h=h+Math.imul(Vt,oi)|0)+Math.imul(Dt,Oe)|0,k=k+Math.imul(Dt,oi)|0,C=C+Math.imul(St,ei)|0,h=(h=h+Math.imul(St,De)|0)+Math.imul(Xt,ei)|0,k=k+Math.imul(Xt,De)|0;var Ni=(T+(C=C+Math.imul(at,ni)|0)|0)+((8191&(h=(h=h+Math.imul(at,ne)|0)+Math.imul(st,ni)|0))<<13)|0;T=((k=k+Math.imul(st,ne)|0)+(h>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,C=Math.imul(Pt,We),h=(h=Math.imul(Pt,si))+Math.imul(Se,We)|0,k=Math.imul(Se,si),C=C+Math.imul(fe,wi)|0,h=(h=h+Math.imul(fe,je)|0)+Math.imul(zt,wi)|0,k=k+Math.imul(zt,je)|0,C=C+Math.imul(Gt,Oe)|0,h=(h=h+Math.imul(Gt,oi)|0)+Math.imul(Nt,Oe)|0,k=k+Math.imul(Nt,oi)|0,C=C+Math.imul(Vt,ei)|0,h=(h=h+Math.imul(Vt,De)|0)+Math.imul(Dt,ei)|0,k=k+Math.imul(Dt,De)|0,C=C+Math.imul(St,ni)|0,h=(h=h+Math.imul(St,ne)|0)+Math.imul(Xt,ni)|0,k=k+Math.imul(Xt,ne)|0;var xi=(T+(C=C+Math.imul(at,Zt)|0)|0)+((8191&(h=(h=h+Math.imul(at,Ut)|0)+Math.imul(st,Zt)|0))<<13)|0;T=((k=k+Math.imul(st,Ut)|0)+(h>>>13)|0)+(xi>>>26)|0,xi&=67108863,C=Math.imul(Ge,We),h=(h=Math.imul(Ge,si))+Math.imul(_e,We)|0,k=Math.imul(_e,si),C=C+Math.imul(Pt,wi)|0,h=(h=h+Math.imul(Pt,je)|0)+Math.imul(Se,wi)|0,k=k+Math.imul(Se,je)|0,C=C+Math.imul(fe,Oe)|0,h=(h=h+Math.imul(fe,oi)|0)+Math.imul(zt,Oe)|0,k=k+Math.imul(zt,oi)|0,C=C+Math.imul(Gt,ei)|0,h=(h=h+Math.imul(Gt,De)|0)+Math.imul(Nt,ei)|0,k=k+Math.imul(Nt,De)|0,C=C+Math.imul(Vt,ni)|0,h=(h=h+Math.imul(Vt,ne)|0)+Math.imul(Dt,ni)|0,k=k+Math.imul(Dt,ne)|0,C=C+Math.imul(St,Zt)|0,h=(h=h+Math.imul(St,Ut)|0)+Math.imul(Xt,Zt)|0,k=k+Math.imul(Xt,Ut)|0;var Je=(T+(C=C+Math.imul(at,ue)|0)|0)+((8191&(h=(h=h+Math.imul(at,Re)|0)+Math.imul(st,ue)|0))<<13)|0;T=((k=k+Math.imul(st,Re)|0)+(h>>>13)|0)+(Je>>>26)|0,Je&=67108863,C=Math.imul(Bt,We),h=(h=Math.imul(Bt,si))+Math.imul(re,We)|0,k=Math.imul(re,si),C=C+Math.imul(Ge,wi)|0,h=(h=h+Math.imul(Ge,je)|0)+Math.imul(_e,wi)|0,k=k+Math.imul(_e,je)|0,C=C+Math.imul(Pt,Oe)|0,h=(h=h+Math.imul(Pt,oi)|0)+Math.imul(Se,Oe)|0,k=k+Math.imul(Se,oi)|0,C=C+Math.imul(fe,ei)|0,h=(h=h+Math.imul(fe,De)|0)+Math.imul(zt,ei)|0,k=k+Math.imul(zt,De)|0,C=C+Math.imul(Gt,ni)|0,h=(h=h+Math.imul(Gt,ne)|0)+Math.imul(Nt,ni)|0,k=k+Math.imul(Nt,ne)|0,C=C+Math.imul(Vt,Zt)|0,h=(h=h+Math.imul(Vt,Ut)|0)+Math.imul(Dt,Zt)|0,k=k+Math.imul(Dt,Ut)|0,C=C+Math.imul(St,ue)|0,h=(h=h+Math.imul(St,Re)|0)+Math.imul(Xt,ue)|0,k=k+Math.imul(Xt,Re)|0;var Ui=(T+(C=C+Math.imul(at,he)|0)|0)+((8191&(h=(h=h+Math.imul(at,$e)|0)+Math.imul(st,he)|0))<<13)|0;T=((k=k+Math.imul(st,$e)|0)+(h>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,C=Math.imul(jt,We),h=(h=Math.imul(jt,si))+Math.imul(yt,We)|0,k=Math.imul(yt,si),C=C+Math.imul(Bt,wi)|0,h=(h=h+Math.imul(Bt,je)|0)+Math.imul(re,wi)|0,k=k+Math.imul(re,je)|0,C=C+Math.imul(Ge,Oe)|0,h=(h=h+Math.imul(Ge,oi)|0)+Math.imul(_e,Oe)|0,k=k+Math.imul(_e,oi)|0,C=C+Math.imul(Pt,ei)|0,h=(h=h+Math.imul(Pt,De)|0)+Math.imul(Se,ei)|0,k=k+Math.imul(Se,De)|0,C=C+Math.imul(fe,ni)|0,h=(h=h+Math.imul(fe,ne)|0)+Math.imul(zt,ni)|0,k=k+Math.imul(zt,ne)|0,C=C+Math.imul(Gt,Zt)|0,h=(h=h+Math.imul(Gt,Ut)|0)+Math.imul(Nt,Zt)|0,k=k+Math.imul(Nt,Ut)|0,C=C+Math.imul(Vt,ue)|0,h=(h=h+Math.imul(Vt,Re)|0)+Math.imul(Dt,ue)|0,k=k+Math.imul(Dt,Re)|0,C=C+Math.imul(St,he)|0,h=(h=h+Math.imul(St,$e)|0)+Math.imul(Xt,he)|0,k=k+Math.imul(Xt,$e)|0;var on=(T+(C=C+Math.imul(at,Ei)|0)|0)+((8191&(h=(h=h+Math.imul(at,zi)|0)+Math.imul(st,Ei)|0))<<13)|0;T=((k=k+Math.imul(st,zi)|0)+(h>>>13)|0)+(on>>>26)|0,on&=67108863,C=Math.imul(ce,We),h=(h=Math.imul(ce,si))+Math.imul(ke,We)|0,k=Math.imul(ke,si),C=C+Math.imul(jt,wi)|0,h=(h=h+Math.imul(jt,je)|0)+Math.imul(yt,wi)|0,k=k+Math.imul(yt,je)|0,C=C+Math.imul(Bt,Oe)|0,h=(h=h+Math.imul(Bt,oi)|0)+Math.imul(re,Oe)|0,k=k+Math.imul(re,oi)|0,C=C+Math.imul(Ge,ei)|0,h=(h=h+Math.imul(Ge,De)|0)+Math.imul(_e,ei)|0,k=k+Math.imul(_e,De)|0,C=C+Math.imul(Pt,ni)|0,h=(h=h+Math.imul(Pt,ne)|0)+Math.imul(Se,ni)|0,k=k+Math.imul(Se,ne)|0,C=C+Math.imul(fe,Zt)|0,h=(h=h+Math.imul(fe,Ut)|0)+Math.imul(zt,Zt)|0,k=k+Math.imul(zt,Ut)|0,C=C+Math.imul(Gt,ue)|0,h=(h=h+Math.imul(Gt,Re)|0)+Math.imul(Nt,ue)|0,k=k+Math.imul(Nt,Re)|0,C=C+Math.imul(Vt,he)|0,h=(h=h+Math.imul(Vt,$e)|0)+Math.imul(Dt,he)|0,k=k+Math.imul(Dt,$e)|0,C=C+Math.imul(St,Ei)|0,h=(h=h+Math.imul(St,zi)|0)+Math.imul(Xt,Ei)|0,k=k+Math.imul(Xt,zi)|0;var nr=(T+(C=C+Math.imul(at,bi)|0)|0)+((8191&(h=(h=h+Math.imul(at,Li)|0)+Math.imul(st,bi)|0))<<13)|0;T=((k=k+Math.imul(st,Li)|0)+(h>>>13)|0)+(nr>>>26)|0,nr&=67108863,C=Math.imul(ce,wi),h=(h=Math.imul(ce,je))+Math.imul(ke,wi)|0,k=Math.imul(ke,je),C=C+Math.imul(jt,Oe)|0,h=(h=h+Math.imul(jt,oi)|0)+Math.imul(yt,Oe)|0,k=k+Math.imul(yt,oi)|0,C=C+Math.imul(Bt,ei)|0,h=(h=h+Math.imul(Bt,De)|0)+Math.imul(re,ei)|0,k=k+Math.imul(re,De)|0,C=C+Math.imul(Ge,ni)|0,h=(h=h+Math.imul(Ge,ne)|0)+Math.imul(_e,ni)|0,k=k+Math.imul(_e,ne)|0,C=C+Math.imul(Pt,Zt)|0,h=(h=h+Math.imul(Pt,Ut)|0)+Math.imul(Se,Zt)|0,k=k+Math.imul(Se,Ut)|0,C=C+Math.imul(fe,ue)|0,h=(h=h+Math.imul(fe,Re)|0)+Math.imul(zt,ue)|0,k=k+Math.imul(zt,Re)|0,C=C+Math.imul(Gt,he)|0,h=(h=h+Math.imul(Gt,$e)|0)+Math.imul(Nt,he)|0,k=k+Math.imul(Nt,$e)|0,C=C+Math.imul(Vt,Ei)|0,h=(h=h+Math.imul(Vt,zi)|0)+Math.imul(Dt,Ei)|0,k=k+Math.imul(Dt,zi)|0;var mr=(T+(C=C+Math.imul(St,bi)|0)|0)+((8191&(h=(h=h+Math.imul(St,Li)|0)+Math.imul(Xt,bi)|0))<<13)|0;T=((k=k+Math.imul(Xt,Li)|0)+(h>>>13)|0)+(mr>>>26)|0,mr&=67108863,C=Math.imul(ce,Oe),h=(h=Math.imul(ce,oi))+Math.imul(ke,Oe)|0,k=Math.imul(ke,oi),C=C+Math.imul(jt,ei)|0,h=(h=h+Math.imul(jt,De)|0)+Math.imul(yt,ei)|0,k=k+Math.imul(yt,De)|0,C=C+Math.imul(Bt,ni)|0,h=(h=h+Math.imul(Bt,ne)|0)+Math.imul(re,ni)|0,k=k+Math.imul(re,ne)|0,C=C+Math.imul(Ge,Zt)|0,h=(h=h+Math.imul(Ge,Ut)|0)+Math.imul(_e,Zt)|0,k=k+Math.imul(_e,Ut)|0,C=C+Math.imul(Pt,ue)|0,h=(h=h+Math.imul(Pt,Re)|0)+Math.imul(Se,ue)|0,k=k+Math.imul(Se,Re)|0,C=C+Math.imul(fe,he)|0,h=(h=h+Math.imul(fe,$e)|0)+Math.imul(zt,he)|0,k=k+Math.imul(zt,$e)|0,C=C+Math.imul(Gt,Ei)|0,h=(h=h+Math.imul(Gt,zi)|0)+Math.imul(Nt,Ei)|0,k=k+Math.imul(Nt,zi)|0;var Ar=(T+(C=C+Math.imul(Vt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Vt,Li)|0)+Math.imul(Dt,bi)|0))<<13)|0;T=((k=k+Math.imul(Dt,Li)|0)+(h>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,C=Math.imul(ce,ei),h=(h=Math.imul(ce,De))+Math.imul(ke,ei)|0,k=Math.imul(ke,De),C=C+Math.imul(jt,ni)|0,h=(h=h+Math.imul(jt,ne)|0)+Math.imul(yt,ni)|0,k=k+Math.imul(yt,ne)|0,C=C+Math.imul(Bt,Zt)|0,h=(h=h+Math.imul(Bt,Ut)|0)+Math.imul(re,Zt)|0,k=k+Math.imul(re,Ut)|0,C=C+Math.imul(Ge,ue)|0,h=(h=h+Math.imul(Ge,Re)|0)+Math.imul(_e,ue)|0,k=k+Math.imul(_e,Re)|0,C=C+Math.imul(Pt,he)|0,h=(h=h+Math.imul(Pt,$e)|0)+Math.imul(Se,he)|0,k=k+Math.imul(Se,$e)|0,C=C+Math.imul(fe,Ei)|0,h=(h=h+Math.imul(fe,zi)|0)+Math.imul(zt,Ei)|0,k=k+Math.imul(zt,zi)|0;var hn=(T+(C=C+Math.imul(Gt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Gt,Li)|0)+Math.imul(Nt,bi)|0))<<13)|0;T=((k=k+Math.imul(Nt,Li)|0)+(h>>>13)|0)+(hn>>>26)|0,hn&=67108863,C=Math.imul(ce,ni),h=(h=Math.imul(ce,ne))+Math.imul(ke,ni)|0,k=Math.imul(ke,ne),C=C+Math.imul(jt,Zt)|0,h=(h=h+Math.imul(jt,Ut)|0)+Math.imul(yt,Zt)|0,k=k+Math.imul(yt,Ut)|0,C=C+Math.imul(Bt,ue)|0,h=(h=h+Math.imul(Bt,Re)|0)+Math.imul(re,ue)|0,k=k+Math.imul(re,Re)|0,C=C+Math.imul(Ge,he)|0,h=(h=h+Math.imul(Ge,$e)|0)+Math.imul(_e,he)|0,k=k+Math.imul(_e,$e)|0,C=C+Math.imul(Pt,Ei)|0,h=(h=h+Math.imul(Pt,zi)|0)+Math.imul(Se,Ei)|0,k=k+Math.imul(Se,zi)|0;var xr=(T+(C=C+Math.imul(fe,bi)|0)|0)+((8191&(h=(h=h+Math.imul(fe,Li)|0)+Math.imul(zt,bi)|0))<<13)|0;T=((k=k+Math.imul(zt,Li)|0)+(h>>>13)|0)+(xr>>>26)|0,xr&=67108863,C=Math.imul(ce,Zt),h=(h=Math.imul(ce,Ut))+Math.imul(ke,Zt)|0,k=Math.imul(ke,Ut),C=C+Math.imul(jt,ue)|0,h=(h=h+Math.imul(jt,Re)|0)+Math.imul(yt,ue)|0,k=k+Math.imul(yt,Re)|0,C=C+Math.imul(Bt,he)|0,h=(h=h+Math.imul(Bt,$e)|0)+Math.imul(re,he)|0,k=k+Math.imul(re,$e)|0,C=C+Math.imul(Ge,Ei)|0,h=(h=h+Math.imul(Ge,zi)|0)+Math.imul(_e,Ei)|0,k=k+Math.imul(_e,zi)|0;var Hr=(T+(C=C+Math.imul(Pt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Pt,Li)|0)+Math.imul(Se,bi)|0))<<13)|0;T=((k=k+Math.imul(Se,Li)|0)+(h>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,C=Math.imul(ce,ue),h=(h=Math.imul(ce,Re))+Math.imul(ke,ue)|0,k=Math.imul(ke,Re),C=C+Math.imul(jt,he)|0,h=(h=h+Math.imul(jt,$e)|0)+Math.imul(yt,he)|0,k=k+Math.imul(yt,$e)|0,C=C+Math.imul(Bt,Ei)|0,h=(h=h+Math.imul(Bt,zi)|0)+Math.imul(re,Ei)|0,k=k+Math.imul(re,zi)|0;var so=(T+(C=C+Math.imul(Ge,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Ge,Li)|0)+Math.imul(_e,bi)|0))<<13)|0;T=((k=k+Math.imul(_e,Li)|0)+(h>>>13)|0)+(so>>>26)|0,so&=67108863,C=Math.imul(ce,he),h=(h=Math.imul(ce,$e))+Math.imul(ke,he)|0,k=Math.imul(ke,$e),C=C+Math.imul(jt,Ei)|0,h=(h=h+Math.imul(jt,zi)|0)+Math.imul(yt,Ei)|0,k=k+Math.imul(yt,zi)|0;var Vr=(T+(C=C+Math.imul(Bt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Bt,Li)|0)+Math.imul(re,bi)|0))<<13)|0;T=((k=k+Math.imul(re,Li)|0)+(h>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,C=Math.imul(ce,Ei),h=(h=Math.imul(ce,zi))+Math.imul(ke,Ei)|0,k=Math.imul(ke,zi);var Pr=(T+(C=C+Math.imul(jt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(jt,Li)|0)+Math.imul(yt,bi)|0))<<13)|0;T=((k=k+Math.imul(yt,Li)|0)+(h>>>13)|0)+(Pr>>>26)|0,Pr&=67108863;var ar=(T+(C=Math.imul(ce,bi))|0)+((8191&(h=(h=Math.imul(ce,Li))+Math.imul(ke,bi)|0))<<13)|0;return T=((k=Math.imul(ke,Li))+(h>>>13)|0)+(ar>>>26)|0,ar&=67108863,S[0]=Ln,S[1]=Kn,S[2]=pr,S[3]=Jn,S[4]=Ni,S[5]=xi,S[6]=Je,S[7]=Ui,S[8]=on,S[9]=nr,S[10]=mr,S[11]=Ar,S[12]=hn,S[13]=xr,S[14]=Hr,S[15]=so,S[16]=Vr,S[17]=Pr,S[18]=ar,0!==T&&(S[19]=T,g.length++),g};function q(A,o,c){return(new U).mulp(A,o,c)}function U(A,o){this.x=A,this.y=o}Math.imul||(z=X),b.prototype.mulTo=function(o,c){var g,p=this.length+o.length;return g=10===this.length&&10===o.length?z(this,o,c):p<63?X(this,o,c):p<1024?function(A,o,c){c.negative=o.negative^A.negative,c.length=A.length+o.length;for(var g=0,p=0,w=0;w<c.length-1;w++){var S=p;p=0;for(var T=67108863&g,C=Math.min(w,o.length-1),h=Math.max(0,w-A.length+1);h<=C;h++){var st=(0|A.words[w-h])*(0|o.words[h]),Mt=67108863&st;T=67108863&(Mt=Mt+T|0),p+=(S=(S=S+(st/67108864|0)|0)+(Mt>>>26)|0)>>>26,S&=67108863}c.words[w]=T,g=S,S=p}return 0!==g?c.words[w]=g:c.length--,c.strip()}(this,o,c):q(this,o,c),g},U.prototype.makeRBT=function(o){for(var c=new Array(o),g=b.prototype._countBits(o)-1,p=0;p<o;p++)c[p]=this.revBin(p,g,o);return c},U.prototype.revBin=function(o,c,g){if(0===o||o===g-1)return o;for(var p=0,w=0;w<c;w++)p|=(1&o)<<c-w-1,o>>=1;return p},U.prototype.permute=function(o,c,g,p,w,S){for(var T=0;T<S;T++)p[T]=c[o[T]],w[T]=g[o[T]]},U.prototype.transform=function(o,c,g,p,w,S){this.permute(S,o,c,g,p,w);for(var T=1;T<w;T<<=1)for(var C=T<<1,h=Math.cos(2*Math.PI/C),k=Math.sin(2*Math.PI/C),ft=0;ft<w;ft+=C)for(var at=h,st=k,Mt=0;Mt<T;Mt++){var St=g[ft+Mt],Xt=p[ft+Mt],te=g[ft+Mt+T],Vt=p[ft+Mt+T],Dt=at*te-st*Vt;Vt=at*Vt+st*te,g[ft+Mt]=St+(te=Dt),p[ft+Mt]=Xt+Vt,g[ft+Mt+T]=St-te,p[ft+Mt+T]=Xt-Vt,Mt!==C&&(Dt=h*at-k*st,st=h*st+k*at,at=Dt)}},U.prototype.guessLen13b=function(o,c){var g=1|Math.max(c,o),p=1&g,w=0;for(g=g/2|0;g;g>>>=1)w++;return 1<<w+1+p},U.prototype.conjugate=function(o,c,g){if(!(g<=1))for(var p=0;p<g/2;p++){var w=o[p];o[p]=o[g-p-1],o[g-p-1]=w,w=c[p],c[p]=-c[g-p-1],c[g-p-1]=-w}},U.prototype.normalize13b=function(o,c){for(var g=0,p=0;p<c/2;p++){var w=8192*Math.round(o[2*p+1]/c)+Math.round(o[2*p]/c)+g;o[p]=67108863&w,g=w<67108864?0:w/67108864|0}return o},U.prototype.convert13b=function(o,c,g,p){for(var w=0,S=0;S<c;S++)g[2*S]=8191&(w+=0|o[S]),g[2*S+1]=8191&(w>>>=13),w>>>=13;for(S=2*c;S<p;++S)g[S]=0;J(0===w),J(0==(-8192&w))},U.prototype.stub=function(o){for(var c=new Array(o),g=0;g<o;g++)c[g]=0;return c},U.prototype.mulp=function(o,c,g){var p=2*this.guessLen13b(o.length,c.length),w=this.makeRBT(p),S=this.stub(p),T=new Array(p),C=new Array(p),h=new Array(p),k=new Array(p),ft=new Array(p),at=new Array(p),st=g.words;st.length=p,this.convert13b(o.words,o.length,T,p),this.convert13b(c.words,c.length,k,p),this.transform(T,S,C,h,p,w),this.transform(k,S,ft,at,p,w);for(var Mt=0;Mt<p;Mt++){var St=C[Mt]*ft[Mt]-h[Mt]*at[Mt];h[Mt]=C[Mt]*at[Mt]+h[Mt]*ft[Mt],C[Mt]=St}return this.conjugate(C,h,p),this.transform(C,h,st,S,p,w),this.conjugate(st,S,p),this.normalize13b(st,p),g.negative=o.negative^c.negative,g.length=o.length+c.length,g.strip()},b.prototype.mul=function(o){var c=new b(null);return c.words=new Array(this.length+o.length),this.mulTo(o,c)},b.prototype.mulf=function(o){var c=new b(null);return c.words=new Array(this.length+o.length),q(this,o,c)},b.prototype.imul=function(o){return this.clone().mulTo(o,this)},b.prototype.imuln=function(o){J("number"==typeof o),J(o<67108864);for(var c=0,g=0;g<this.length;g++){var p=(0|this.words[g])*o,w=(67108863&p)+(67108863&c);c>>=26,c+=p/67108864|0,c+=w>>>26,this.words[g]=67108863&w}return 0!==c&&(this.words[g]=c,this.length++),this},b.prototype.muln=function(o){return this.clone().imuln(o)},b.prototype.sqr=function(){return this.mul(this)},b.prototype.isqr=function(){return this.imul(this.clone())},b.prototype.pow=function(o){var c=function(A){for(var o=new Array(A.bitLength()),c=0;c<o.length;c++){var p=c%26;o[c]=(A.words[c/26|0]&1<<p)>>>p}return o}(o);if(0===c.length)return new b(1);for(var g=this,p=0;p<c.length&&0===c[p];p++,g=g.sqr());if(++p<c.length)for(var w=g.sqr();p<c.length;p++,w=w.sqr())0!==c[p]&&(g=g.mul(w));return g},b.prototype.iushln=function(o){J("number"==typeof o&&o>=0);var w,c=o%26,g=(o-c)/26,p=67108863>>>26-c<<26-c;if(0!==c){var S=0;for(w=0;w<this.length;w++){var T=this.words[w]&p;this.words[w]=(0|this.words[w])-T<<c|S,S=T>>>26-c}S&&(this.words[w]=S,this.length++)}if(0!==g){for(w=this.length-1;w>=0;w--)this.words[w+g]=this.words[w];for(w=0;w<g;w++)this.words[w]=0;this.length+=g}return this.strip()},b.prototype.ishln=function(o){return J(0===this.negative),this.iushln(o)},b.prototype.iushrn=function(o,c,g){var p;J("number"==typeof o&&o>=0),p=c?(c-c%26)/26:0;var w=o%26,S=Math.min((o-w)/26,this.length),T=67108863^67108863>>>w<<w,C=g;if(p-=S,p=Math.max(0,p),C){for(var h=0;h<S;h++)C.words[h]=this.words[h];C.length=S}if(0!==S)if(this.length>S)for(this.length-=S,h=0;h<this.length;h++)this.words[h]=this.words[h+S];else this.words[0]=0,this.length=1;var k=0;for(h=this.length-1;h>=0&&(0!==k||h>=p);h--){var ft=0|this.words[h];this.words[h]=k<<26-w|ft>>>w,k=ft&T}return C&&0!==k&&(C.words[C.length++]=k),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},b.prototype.ishrn=function(o,c,g){return J(0===this.negative),this.iushrn(o,c,g)},b.prototype.shln=function(o){return this.clone().ishln(o)},b.prototype.ushln=function(o){return this.clone().iushln(o)},b.prototype.shrn=function(o){return this.clone().ishrn(o)},b.prototype.ushrn=function(o){return this.clone().iushrn(o)},b.prototype.testn=function(o){J("number"==typeof o&&o>=0);var c=o%26,g=(o-c)/26;return!(this.length<=g||!(this.words[g]&1<<c))},b.prototype.imaskn=function(o){J("number"==typeof o&&o>=0);var c=o%26,g=(o-c)/26;return J(0===this.negative,"imaskn works only with positive numbers"),this.length<=g?this:(0!==c&&g++,this.length=Math.min(g,this.length),0!==c&&(this.words[this.length-1]&=67108863^67108863>>>c<<c),this.strip())},b.prototype.maskn=function(o){return this.clone().imaskn(o)},b.prototype.iaddn=function(o){return J("number"==typeof o),J(o<67108864),o<0?this.isubn(-o):0!==this.negative?1===this.length&&(0|this.words[0])<o?(this.words[0]=o-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},b.prototype._iaddn=function(o){this.words[0]+=o;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},b.prototype.isubn=function(o){if(J("number"==typeof o),J(o<67108864),o<0)return this.iaddn(-o);if(0!==this.negative)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this.strip()},b.prototype.addn=function(o){return this.clone().iaddn(o)},b.prototype.subn=function(o){return this.clone().isubn(o)},b.prototype.iabs=function(){return this.negative=0,this},b.prototype.abs=function(){return this.clone().iabs()},b.prototype._ishlnsubmul=function(o,c,g){var w;this._expand(o.length+g);var S,T=0;for(w=0;w<o.length;w++){S=(0|this.words[w+g])+T;var C=(0|o.words[w])*c;T=((S-=67108863&C)>>26)-(C/67108864|0),this.words[w+g]=67108863&S}for(;w<this.length-g;w++)T=(S=(0|this.words[w+g])+T)>>26,this.words[w+g]=67108863&S;if(0===T)return this.strip();for(J(-1===T),T=0,w=0;w<this.length;w++)T=(S=-(0|this.words[w])+T)>>26,this.words[w]=67108863&S;return this.negative=1,this.strip()},b.prototype._wordDiv=function(o,c){var g,p=this.clone(),w=o,S=0|w.words[w.length-1];0!=(g=26-this._countBits(S))&&(w=w.ushln(g),p.iushln(g),S=0|w.words[w.length-1]);var h,C=p.length-w.length;if("mod"!==c){(h=new b(null)).length=C+1,h.words=new Array(h.length);for(var k=0;k<h.length;k++)h.words[k]=0}var ft=p.clone()._ishlnsubmul(w,1,C);0===ft.negative&&(p=ft,h&&(h.words[C]=1));for(var at=C-1;at>=0;at--){var st=67108864*(0|p.words[w.length+at])+(0|p.words[w.length+at-1]);for(st=Math.min(st/S|0,67108863),p._ishlnsubmul(w,st,at);0!==p.negative;)st--,p.negative=0,p._ishlnsubmul(w,1,at),p.isZero()||(p.negative^=1);h&&(h.words[at]=st)}return h&&h.strip(),p.strip(),"div"!==c&&0!==g&&p.iushrn(g),{div:h||null,mod:p}},b.prototype.divmod=function(o,c,g){return J(!o.isZero()),this.isZero()?{div:new b(0),mod:new b(0)}:0!==this.negative&&0===o.negative?(S=this.neg().divmod(o,c),"mod"!==c&&(p=S.div.neg()),"div"!==c&&(w=S.mod.neg(),g&&0!==w.negative&&w.iadd(o)),{div:p,mod:w}):0===this.negative&&0!==o.negative?(S=this.divmod(o.neg(),c),"mod"!==c&&(p=S.div.neg()),{div:p,mod:S.mod}):0!=(this.negative&o.negative)?(S=this.neg().divmod(o.neg(),c),"div"!==c&&(w=S.mod.neg(),g&&0!==w.negative&&w.isub(o)),{div:S.div,mod:w}):o.length>this.length||this.cmp(o)<0?{div:new b(0),mod:this}:1===o.length?"div"===c?{div:this.divn(o.words[0]),mod:null}:"mod"===c?{div:null,mod:new b(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new b(this.modn(o.words[0]))}:this._wordDiv(o,c);var p,w,S},b.prototype.div=function(o){return this.divmod(o,"div",!1).div},b.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},b.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},b.prototype.divRound=function(o){var c=this.divmod(o);if(c.mod.isZero())return c.div;var g=0!==c.div.negative?c.mod.isub(o):c.mod,p=o.ushrn(1),w=o.andln(1),S=g.cmp(p);return S<0||1===w&&0===S?c.div:0!==c.div.negative?c.div.isubn(1):c.div.iaddn(1)},b.prototype.modn=function(o){J(o<=67108863);for(var c=(1<<26)%o,g=0,p=this.length-1;p>=0;p--)g=(c*g+(0|this.words[p]))%o;return g},b.prototype.idivn=function(o){J(o<=67108863);for(var c=0,g=this.length-1;g>=0;g--){var p=(0|this.words[g])+67108864*c;this.words[g]=p/o|0,c=p%o}return this.strip()},b.prototype.divn=function(o){return this.clone().idivn(o)},b.prototype.egcd=function(o){J(0===o.negative),J(!o.isZero());var c=this,g=o.clone();c=0!==c.negative?c.umod(o):c.clone();for(var p=new b(1),w=new b(0),S=new b(0),T=new b(1),C=0;c.isEven()&&g.isEven();)c.iushrn(1),g.iushrn(1),++C;for(var h=g.clone(),k=c.clone();!c.isZero();){for(var ft=0,at=1;0==(c.words[0]&at)&&ft<26;++ft,at<<=1);if(ft>0)for(c.iushrn(ft);ft-- >0;)(p.isOdd()||w.isOdd())&&(p.iadd(h),w.isub(k)),p.iushrn(1),w.iushrn(1);for(var st=0,Mt=1;0==(g.words[0]&Mt)&&st<26;++st,Mt<<=1);if(st>0)for(g.iushrn(st);st-- >0;)(S.isOdd()||T.isOdd())&&(S.iadd(h),T.isub(k)),S.iushrn(1),T.iushrn(1);c.cmp(g)>=0?(c.isub(g),p.isub(S),w.isub(T)):(g.isub(c),S.isub(p),T.isub(w))}return{a:S,b:T,gcd:g.iushln(C)}},b.prototype._invmp=function(o){J(0===o.negative),J(!o.isZero());var ft,c=this,g=o.clone();c=0!==c.negative?c.umod(o):c.clone();for(var p=new b(1),w=new b(0),S=g.clone();c.cmpn(1)>0&&g.cmpn(1)>0;){for(var T=0,C=1;0==(c.words[0]&C)&&T<26;++T,C<<=1);if(T>0)for(c.iushrn(T);T-- >0;)p.isOdd()&&p.iadd(S),p.iushrn(1);for(var h=0,k=1;0==(g.words[0]&k)&&h<26;++h,k<<=1);if(h>0)for(g.iushrn(h);h-- >0;)w.isOdd()&&w.iadd(S),w.iushrn(1);c.cmp(g)>=0?(c.isub(g),p.isub(w)):(g.isub(c),w.isub(p))}return(ft=0===c.cmpn(1)?p:w).cmpn(0)<0&&ft.iadd(o),ft},b.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var c=this.clone(),g=o.clone();c.negative=0,g.negative=0;for(var p=0;c.isEven()&&g.isEven();p++)c.iushrn(1),g.iushrn(1);for(;;){for(;c.isEven();)c.iushrn(1);for(;g.isEven();)g.iushrn(1);var w=c.cmp(g);if(w<0){var S=c;c=g,g=S}else if(0===w||0===g.cmpn(1))break;c.isub(g)}return g.iushln(p)},b.prototype.invm=function(o){return this.egcd(o).a.umod(o)},b.prototype.isEven=function(){return 0==(1&this.words[0])},b.prototype.isOdd=function(){return 1==(1&this.words[0])},b.prototype.andln=function(o){return this.words[0]&o},b.prototype.bincn=function(o){J("number"==typeof o);var c=o%26,g=(o-c)/26,p=1<<c;if(this.length<=g)return this._expand(g+1),this.words[g]|=p,this;for(var w=p,S=g;0!==w&&S<this.length;S++){var T=0|this.words[S];w=(T+=w)>>>26,this.words[S]=T&=67108863}return 0!==w&&(this.words[S]=w,this.length++),this},b.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},b.prototype.cmpn=function(o){var g,c=o<0;if(0!==this.negative&&!c)return-1;if(0===this.negative&&c)return 1;if(this.strip(),this.length>1)g=1;else{c&&(o=-o),J(o<=67108863,"Number is too big");var p=0|this.words[0];g=p===o?0:p<o?-1:1}return 0!==this.negative?0|-g:g},b.prototype.cmp=function(o){if(0!==this.negative&&0===o.negative)return-1;if(0===this.negative&&0!==o.negative)return 1;var c=this.ucmp(o);return 0!==this.negative?0|-c:c},b.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var c=0,g=this.length-1;g>=0;g--){var p=0|this.words[g],w=0|o.words[g];if(p!==w){p<w?c=-1:p>w&&(c=1);break}}return c},b.prototype.gtn=function(o){return 1===this.cmpn(o)},b.prototype.gt=function(o){return 1===this.cmp(o)},b.prototype.gten=function(o){return this.cmpn(o)>=0},b.prototype.gte=function(o){return this.cmp(o)>=0},b.prototype.ltn=function(o){return-1===this.cmpn(o)},b.prototype.lt=function(o){return-1===this.cmp(o)},b.prototype.lten=function(o){return this.cmpn(o)<=0},b.prototype.lte=function(o){return this.cmp(o)<=0},b.prototype.eqn=function(o){return 0===this.cmpn(o)},b.prototype.eq=function(o){return 0===this.cmp(o)},b.red=function(o){return new Tt(o)},b.prototype.toRed=function(o){return J(!this.red,"Already a number in reduction context"),J(0===this.negative,"red works only with positives"),o.convertTo(this)._forceRed(o)},b.prototype.fromRed=function(){return J(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},b.prototype._forceRed=function(o){return this.red=o,this},b.prototype.forceRed=function(o){return J(!this.red,"Already a number in reduction context"),this._forceRed(o)},b.prototype.redAdd=function(o){return J(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},b.prototype.redIAdd=function(o){return J(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},b.prototype.redSub=function(o){return J(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},b.prototype.redISub=function(o){return J(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},b.prototype.redShl=function(o){return J(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},b.prototype.redMul=function(o){return J(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},b.prototype.redIMul=function(o){return J(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},b.prototype.redSqr=function(){return J(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},b.prototype.redISqr=function(){return J(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},b.prototype.redSqrt=function(){return J(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},b.prototype.redInvm=function(){return J(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},b.prototype.redNeg=function(){return J(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},b.prototype.redPow=function(o){return J(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var it={k256:null,p224:null,p192:null,p25519:null};function ot(A,o){this.name=A,this.p=new b(o,16),this.n=this.p.bitLength(),this.k=new b(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function lt(){ot.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function wt(){ot.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function xt(){ot.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Ot(){ot.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Tt(A){if("string"==typeof A){var o=b._prime(A);this.m=o.p,this.prime=o}else J(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}function Et(A){Tt.call(this,A),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new b(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ot.prototype._tmp=function(){var o=new b(null);return o.words=new Array(Math.ceil(this.n/13)),o},ot.prototype.ireduce=function(o){var g,c=o;do{this.split(c,this.tmp),g=(c=(c=this.imulK(c)).iadd(this.tmp)).bitLength()}while(g>this.n);var p=g<this.n?-1:c.ucmp(this.p);return 0===p?(c.words[0]=0,c.length=1):p>0?c.isub(this.p):void 0!==c.strip?c.strip():c._strip(),c},ot.prototype.split=function(o,c){o.iushrn(this.n,0,c)},ot.prototype.imulK=function(o){return o.imul(this.k)},tt(lt,ot),lt.prototype.split=function(o,c){for(var g=4194303,p=Math.min(o.length,9),w=0;w<p;w++)c.words[w]=o.words[w];if(c.length=p,o.length<=9)return o.words[0]=0,void(o.length=1);var S=o.words[9];for(c.words[c.length++]=S&g,w=10;w<o.length;w++){var T=0|o.words[w];o.words[w-10]=(T&g)<<4|S>>>22,S=T}o.words[w-10]=S>>>=22,o.length-=0===S&&o.length>10?10:9},lt.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var c=0,g=0;g<o.length;g++){var p=0|o.words[g];o.words[g]=67108863&(c+=977*p),c=64*p+(c/67108864|0)}return 0===o.words[o.length-1]&&(o.length--,0===o.words[o.length-1]&&o.length--),o},tt(wt,ot),tt(xt,ot),tt(Ot,ot),Ot.prototype.imulK=function(o){for(var c=0,g=0;g<o.length;g++){var p=19*(0|o.words[g])+c,w=67108863&p;p>>>=26,o.words[g]=w,c=p}return 0!==c&&(o.words[o.length++]=c),o},b._prime=function(o){if(it[o])return it[o];var c;if("k256"===o)c=new lt;else if("p224"===o)c=new wt;else if("p192"===o)c=new xt;else{if("p25519"!==o)throw new Error("Unknown prime "+o);c=new Ot}return it[o]=c,c},Tt.prototype._verify1=function(o){J(0===o.negative,"red works only with positives"),J(o.red,"red works only with red numbers")},Tt.prototype._verify2=function(o,c){J(0==(o.negative|c.negative),"red works only with positives"),J(o.red&&o.red===c.red,"red works only with red numbers")},Tt.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},Tt.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},Tt.prototype.add=function(o,c){this._verify2(o,c);var g=o.add(c);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},Tt.prototype.iadd=function(o,c){this._verify2(o,c);var g=o.iadd(c);return g.cmp(this.m)>=0&&g.isub(this.m),g},Tt.prototype.sub=function(o,c){this._verify2(o,c);var g=o.sub(c);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},Tt.prototype.isub=function(o,c){this._verify2(o,c);var g=o.isub(c);return g.cmpn(0)<0&&g.iadd(this.m),g},Tt.prototype.shl=function(o,c){return this._verify1(o),this.imod(o.ushln(c))},Tt.prototype.imul=function(o,c){return this._verify2(o,c),this.imod(o.imul(c))},Tt.prototype.mul=function(o,c){return this._verify2(o,c),this.imod(o.mul(c))},Tt.prototype.isqr=function(o){return this.imul(o,o.clone())},Tt.prototype.sqr=function(o){return this.mul(o,o)},Tt.prototype.sqrt=function(o){if(o.isZero())return o.clone();var c=this.m.andln(3);if(J(c%2==1),3===c){var g=this.m.add(new b(1)).iushrn(2);return this.pow(o,g)}for(var p=this.m.subn(1),w=0;!p.isZero()&&0===p.andln(1);)w++,p.iushrn(1);J(!p.isZero());var S=new b(1).toRed(this),T=S.redNeg(),C=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new b(2*h*h).toRed(this);0!==this.pow(h,C).cmp(T);)h.redIAdd(T);for(var k=this.pow(h,p),ft=this.pow(o,p.addn(1).iushrn(1)),at=this.pow(o,p),st=w;0!==at.cmp(S);){for(var Mt=at,St=0;0!==Mt.cmp(S);St++)Mt=Mt.redSqr();J(St<st);var Xt=this.pow(k,new b(1).iushln(st-St-1));ft=ft.redMul(Xt),k=Xt.redSqr(),at=at.redMul(k),st=St}return ft},Tt.prototype.invm=function(o){var c=o._invmp(this.m);return 0!==c.negative?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},Tt.prototype.pow=function(o,c){if(c.isZero())return new b(1).toRed(this);if(0===c.cmpn(1))return o.clone();var p=new Array(16);p[0]=new b(1).toRed(this),p[1]=o;for(var w=2;w<p.length;w++)p[w]=this.mul(p[w-1],o);var S=p[0],T=0,C=0,h=c.bitLength()%26;for(0===h&&(h=26),w=c.length-1;w>=0;w--){for(var k=c.words[w],ft=h-1;ft>=0;ft--){var at=k>>ft&1;S!==p[0]&&(S=this.sqr(S)),0!==at||0!==T?(T<<=1,T|=at,(4==++C||0===w&&0===ft)&&(S=this.mul(S,p[T]),C=0,T=0)):C=0}h=26}return S},Tt.prototype.convertTo=function(o){var c=o.umod(this.m);return c===o?c.clone():c},Tt.prototype.convertFrom=function(o){var c=o.clone();return c.red=null,c},b.mont=function(o){return new Et(o)},tt(Et,Tt),Et.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Et.prototype.convertFrom=function(o){var c=this.imod(o.mul(this.rinv));return c.red=null,c},Et.prototype.imul=function(o,c){if(o.isZero()||c.isZero())return o.words[0]=0,o.length=1,o;var g=o.imul(c),p=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=g.isub(p).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},Et.prototype.mul=function(o,c){if(o.isZero()||c.isZero())return new b(0)._forceRed(this);var g=o.mul(c),p=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=g.isub(p).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},Et.prototype.invm=function(o){return this.imod(o._invmp(this.m).mul(this.r2))._forceRed(this)}}(Ee=ut.nmd(Ee),this)},7703:Ee=>{"use strict";var ct,Q="object"==typeof Reflect?Reflect:null,ut=Q&&"function"==typeof Q.apply?Q.apply:function(ot,lt,wt){return Function.prototype.apply.call(ot,lt,wt)};ct=Q&&"function"==typeof Q.ownKeys?Q.ownKeys:Object.getOwnPropertySymbols?function(ot){return Object.getOwnPropertyNames(ot).concat(Object.getOwnPropertySymbols(ot))}:function(ot){return Object.getOwnPropertyNames(ot)};var J=Number.isNaN||function(ot){return ot!=ot};function tt(){tt.init.call(this)}Ee.exports=tt,Ee.exports.once=function(it,ot){return new Promise(function(lt,wt){function xt(Tt){it.removeListener(ot,Ot),wt(Tt)}function Ot(){"function"==typeof it.removeListener&&it.removeListener("error",xt),lt([].slice.call(arguments))}U(it,ot,Ot,{once:!0}),"error"!==ot&&function(it,ot,lt){"function"==typeof it.on&&U(it,"error",ot,{once:!0})}(it,xt)})},tt.EventEmitter=tt,tt.prototype._events=void 0,tt.prototype._eventsCount=0,tt.prototype._maxListeners=void 0;var b=10;function W(it){if("function"!=typeof it)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof it)}function G(it){return void 0===it._maxListeners?tt.defaultMaxListeners:it._maxListeners}function rt(it,ot,lt,wt){var xt,Ot,Tt;if(W(lt),void 0===(Ot=it._events)?(Ot=it._events=Object.create(null),it._eventsCount=0):(void 0!==Ot.newListener&&(it.emit("newListener",ot,lt.listener?lt.listener:lt),Ot=it._events),Tt=Ot[ot]),void 0===Tt)Tt=Ot[ot]=lt,++it._eventsCount;else if("function"==typeof Tt?Tt=Ot[ot]=wt?[lt,Tt]:[Tt,lt]:wt?Tt.unshift(lt):Tt.push(lt),(xt=G(it))>0&&Tt.length>xt&&!Tt.warned){Tt.warned=!0;var Et=new Error("Possible EventEmitter memory leak detected. "+Tt.length+" "+String(ot)+" listeners added. Use emitter.setMaxListeners() to increase limit");Et.name="MaxListenersExceededWarning",Et.emitter=it,Et.type=ot,Et.count=Tt.length,function(it){console&&console.warn&&console.warn(it)}(Et)}return it}function Z(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function H(it,ot,lt){var wt={fired:!1,wrapFn:void 0,target:it,type:ot,listener:lt},xt=Z.bind(wt);return xt.listener=lt,wt.wrapFn=xt,xt}function F(it,ot,lt){var wt=it._events;if(void 0===wt)return[];var xt=wt[ot];return void 0===xt?[]:"function"==typeof xt?lt?[xt.listener||xt]:[xt]:lt?function(it){for(var ot=new Array(it.length),lt=0;lt<ot.length;++lt)ot[lt]=it[lt].listener||it[lt];return ot}(xt):B(xt,xt.length)}function et(it){var ot=this._events;if(void 0!==ot){var lt=ot[it];if("function"==typeof lt)return 1;if(void 0!==lt)return lt.length}return 0}function B(it,ot){for(var lt=new Array(ot),wt=0;wt<ot;++wt)lt[wt]=it[wt];return lt}function U(it,ot,lt,wt){if("function"==typeof it.on)wt.once?it.once(ot,lt):it.on(ot,lt);else{if("function"!=typeof it.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof it);it.addEventListener(ot,function xt(Ot){wt.once&&it.removeEventListener(ot,xt),lt(Ot)})}}Object.defineProperty(tt,"defaultMaxListeners",{enumerable:!0,get:function(){return b},set:function(it){if("number"!=typeof it||it<0||J(it))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+it+".");b=it}}),tt.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},tt.prototype.setMaxListeners=function(ot){if("number"!=typeof ot||ot<0||J(ot))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+ot+".");return this._maxListeners=ot,this},tt.prototype.getMaxListeners=function(){return G(this)},tt.prototype.emit=function(ot){for(var lt=[],wt=1;wt<arguments.length;wt++)lt.push(arguments[wt]);var xt="error"===ot,Ot=this._events;if(void 0!==Ot)xt=xt&&void 0===Ot.error;else if(!xt)return!1;if(xt){var Tt;if(lt.length>0&&(Tt=lt[0]),Tt instanceof Error)throw Tt;var Et=new Error("Unhandled error."+(Tt?" ("+Tt.message+")":""));throw Et.context=Tt,Et}var A=Ot[ot];if(void 0===A)return!1;if("function"==typeof A)ut(A,this,lt);else{var o=A.length,c=B(A,o);for(wt=0;wt<o;++wt)ut(c[wt],this,lt)}return!0},tt.prototype.on=tt.prototype.addListener=function(ot,lt){return rt(this,ot,lt,!1)},tt.prototype.prependListener=function(ot,lt){return rt(this,ot,lt,!0)},tt.prototype.once=function(ot,lt){return W(lt),this.on(ot,H(this,ot,lt)),this},tt.prototype.prependOnceListener=function(ot,lt){return W(lt),this.prependListener(ot,H(this,ot,lt)),this},tt.prototype.off=tt.prototype.removeListener=function(ot,lt){var wt,xt,Ot,Tt,Et;if(W(lt),void 0===(xt=this._events))return this;if(void 0===(wt=xt[ot]))return this;if(wt===lt||wt.listener===lt)0==--this._eventsCount?this._events=Object.create(null):(delete xt[ot],xt.removeListener&&this.emit("removeListener",ot,wt.listener||lt));else if("function"!=typeof wt){for(Ot=-1,Tt=wt.length-1;Tt>=0;Tt--)if(wt[Tt]===lt||wt[Tt].listener===lt){Et=wt[Tt].listener,Ot=Tt;break}if(Ot<0)return this;0===Ot?wt.shift():function(it,ot){for(;ot+1<it.length;ot++)it[ot]=it[ot+1];it.pop()}(wt,Ot),1===wt.length&&(xt[ot]=wt[0]),void 0!==xt.removeListener&&this.emit("removeListener",ot,Et||lt)}return this},tt.prototype.removeAllListeners=function(ot){var lt,wt,xt;if(void 0===(wt=this._events))return this;if(void 0===wt.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==wt[ot]&&(0==--this._eventsCount?this._events=Object.create(null):delete wt[ot]),this;if(0===arguments.length){var Tt,Ot=Object.keys(wt);for(xt=0;xt<Ot.length;++xt)"removeListener"!==(Tt=Ot[xt])&&this.removeAllListeners(Tt);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(lt=wt[ot]))this.removeListener(ot,lt);else if(void 0!==lt)for(xt=lt.length-1;xt>=0;xt--)this.removeListener(ot,lt[xt]);return this},tt.prototype.listeners=function(ot){return F(this,ot,!0)},tt.prototype.rawListeners=function(ot){return F(this,ot,!1)},tt.listenerCount=function(it,ot){return"function"==typeof it.listenerCount?it.listenerCount(ot):et.call(it,ot)},tt.prototype.listenerCount=et,tt.prototype.eventNames=function(){return this._eventsCount>0?ct(this._events):[]}},4539:(Ee,Q,ut)=>{var ct=ut(4615).Buffer,f=ut(2996);Ee.exports=function(tt,b,W,G){if(ct.isBuffer(tt)||(tt=ct.from(tt,"binary")),b&&(ct.isBuffer(b)||(b=ct.from(b,"binary")),8!==b.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var rt=W/8,Z=ct.alloc(rt),H=ct.alloc(G||0),F=ct.alloc(0);rt>0||G>0;){var et=new f;et.update(F),et.update(tt),b&&et.update(b),F=et.digest();var B=0;if(rt>0){var X=Z.length-rt;B=Math.min(rt,F.length),F.copy(Z,X,0,B),rt-=B}if(B<F.length&&G>0){var z=H.length-G,Y=Math.min(G,F.length-B);F.copy(H,z,B,B+Y),G-=Y}}return F.fill(0),{key:Z,iv:H}}},6961:Ee=>{!function(){var Q;function ut(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function ct(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:ut(t)}}function f(t){for(var e,i=[];!(e=t.next()).done;)i.push(e.value);return i}var tt,J="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e};if("function"==typeof Object.setPrototypeOf)tt=Object.setPrototypeOf;else{var b;t:{var G={};try{G.__proto__={a:!0},b=G.a;break t}catch(t){}b=!1}tt=b?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var rt=tt;function Z(t,e){if(t.prototype=J(e.prototype),t.prototype.constructor=t,rt)rt(t,e);else for(var i in e)if("prototype"!=i)if(Object.defineProperties){var n=Object.getOwnPropertyDescriptor(e,i);n&&Object.defineProperty(t,i,n)}else t[i]=e[i];t.BB=e.prototype}var H="undefined"!=typeof window&&window===self?self:"undefined"!=typeof global&&null!=global?global:self,F="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,i){t!=Array.prototype&&t!=Object.prototype&&(t[e]=i.value)};!function(t){if(t){for(var e=H,i=["Array","prototype","fill"],n=0;n<i.length-1;n++){var r=i[n];r in e||(e[r]={}),e=e[r]}(t=t(n=e[i=i[i.length-1]]))!=n&&null!=t&&F(e,i,{writable:!0,value:t})}}(function(t){return t||function(e,i,n){var r=this.length||0;for(0>i&&(i=Math.max(0,r+i)),(null==n||n>r)&&(n=r),0>(n=Number(n))&&(n=Math.max(0,r+n)),i=Number(i||0);i<n;i++)this[i]=e;return this}});var B="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||"object"==typeof window&&window.window===window&&window||{};function X(){}function z(t,e){var i=-1;return function(){var n=this,r=arguments;-1!==i&&B.clearTimeout(i),i=Y(function(){i=-1,t.apply(n,r)},e)}}function Y(t,e){return B.setTimeout(t,e)}function q(t){return B.document.createElement(t)}function U(t){throw Error(t)}function it(t,e){t="The object is frozen, so its properties cannot be set: "+t.toString(),void 0!==e&&(t+="  to value: "+e),U(t)}function ot(t,e,i,n){i=null===i?"*":"string"==typeof i?i:"function"==typeof i&&"string"==typeof i.className?i.className:"",void 0!==n&&(i+="."+n),U(i+" is not in the range "+e+": "+t)}function lt(t){B.console&&B.console.log(t)}function wt(){B.console&&B.console.log("Warning: List/Map/Set constructors no longer take an argument that enforces type.Instead they take an optional collection of Values to add to the collection. See 2.0 changelog for details.")}function xt(t){return"object"==typeof t&&null!==t}function Ot(t){return Array.isArray(t)||B.NodeList&&t instanceof B.NodeList||B.HTMLCollection&&t instanceof B.HTMLCollection}function Tt(t){return Array.prototype.slice.call(t)}function Et(t,e,i){Array.isArray(t)?e>=t.length?t.push(i):t.splice(e,0,i):U("Cannot insert an object into an HTMLCollection or NodeList: "+i+" at "+e)}function A(t,e){Array.isArray(t)?e>=t.length?t.pop():t.splice(e,1):U("Cannot remove an object from an HTMLCollection or NodeList at "+e)}function o(){var t=Mt.pop();return void 0===t?[]:t}function c(t){t.length=0,Mt.push(t)}function g(t){if("function"==typeof t){if(t.className)return t.className;if(t.name)return t.name;var e=t.toString();if(""!==(e=e.substring(9,e.indexOf("(")).trim()))return t._className=e}else if(xt(t)&&t.constructor)return g(t.constructor);return typeof t}function p(t){var e=t;return xt(t)&&(t.text?e=t.text:t.name?e=t.name:void 0!==t.key?e=t.key:void 0!==t.id?e=t.id:t.constructor===Object&&(t.Text?e=t.Text:t.Name?e=t.Name:void 0!==t.Key?e=t.Key:void 0!==t.Id?e=t.Id:void 0!==t.ID&&(e=t.ID))),void 0===e?"undefined":null===e?"null":e.toString()}function w(t,e){if(t.hasOwnProperty(e))return!0;for(t=Object.getPrototypeOf(t);t&&t!==Function;){if(t.hasOwnProperty(e))return!0;var i=t.nB;if(i&&i[e])return!0;t=Object.getPrototypeOf(t)}return!1}function S(t,e,i){Object.defineProperty(jr.prototype,t,{get:e,set:i})}function T(t){for(var e=[],i=0;256>i;i++)e["0123456789abcdef".charAt(i>>4)+"0123456789abcdef".charAt(15&i)]=String.fromCharCode(i);t.length%2&&(t="0"+t),i=[];for(var n=0,r=0;r<t.length;r+=2)i[n++]=e[t.substr(r,2)];for(t=""===(t=i.join(""))?"0":t,e=[],i=0;256>i;i++)e[i]=i;for(i=n=0;256>i;i++)r=e[i],e[i]=e[n=(n+e[i]+119)%256],e[n]=r;n=i=0;for(var l="",v=0;v<t.length;v++)r=e[i=(i+1)%256],e[i]=e[n=(n+e[i])%256],e[n]=r,l+=String.fromCharCode(t.charCodeAt(v)^e[(e[i]+e[n])%256]);return l}void 0===B.requestAnimationFrame&&(B.requestAnimationFrame=void 0===B.setImmediate?function(t){B.setTimeout(t,0)}:B.setImmediate);var C=void 0!==B.navigator&&0<B.navigator.userAgent.indexOf("MSIE 9.0"),h=void 0!==B.navigator&&0<B.navigator.userAgent.indexOf("MSIE 10.0"),k=void 0!==B.navigator&&0<B.navigator.userAgent.indexOf("Trident/7"),ft=void 0!==B.navigator&&0<B.navigator.userAgent.indexOf("Edge/"),at=void 0!==B.navigator&&void 0!==B.navigator.platform&&0<=B.navigator.platform.toUpperCase().indexOf("MAC"),st=void 0!==B.navigator&&void 0!==B.navigator.platform&&null!==B.navigator.platform.match(/(iPhone|iPod|iPad)/i),Mt=[];function St(t,e,i){Se(this),this.l=t,this.oa=e,this.u=i}function Xt(t,e){return null==e||""===e?null:t[e]}function te(){this.qx=[]}function Vt(){}Object.freeze([]),X.className="Util",X.Dx="32ab5ff3b26f42dc0ed90f21452913b5",X.adym="gojs.net",X.vfo="28e647fdb662",X.className="Util",St.prototype.toString=function(){return"EnumValue."+this.oa},H.Object.defineProperties(St.prototype,{classType:{get:function(){return this.l}},name:{get:function(){return this.oa}},value:{get:function(){return this.u}}}),St.className="EnumValue",te.prototype.toString=function(){return this.qx.join("")},te.prototype.add=function(t){""!==t&&this.qx.push(t)},te.className="StringBuilder",Vt.className="PropertyCollection";var Gt,Dt={pB:!1,uB:!1,rB:!1,tB:!1,zB:!1,xB:!1,my:!1,qB:null,trace:function(t){B.console&&B.console.log(t)},sB:function(t,e,i,n){t.strokeStyle="red",t.fillStyle="red",t.font="8px sans-serif",t.beginPath(),t.moveTo(-10,0),t.lineTo(10,0),t.moveTo(0,-10),t.lineTo(0,10),t.stroke(),t.setTransform(1,0,0,1,0,0),t.scale(i,i),t.transform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy),t.lineWidth=2,t.beginPath(),t.moveTo(n.left,n.top+20),t.lineTo(n.left,n.top),t.lineTo(n.left+20,n.top),t.moveTo(n.right,n.bottom-20),t.lineTo(n.right,n.bottom),t.lineTo(n.right-20,n.bottom),t.stroke(),t.fillText("DB: "+Math.round(n.x)+", "+Math.round(n.y)+", "+Math.round(n.width)+", "+Math.round(n.height),n.left,n.top-5)},oB:function(t){var i,e={};for(i in t){if(e.x=i,"licenseKey"!==e.x){var n=t[e.x];if(void 0!==n.prototype){e.Jm=Object.getOwnPropertyNames(n.prototype);for(var r={Ak:0};r.Ak<e.Jm.length;(r={Ak:r.Ak}).Ak++){var l=Object.getOwnPropertyDescriptor(n.prototype,e.Jm[r.Ak]);void 0!==l.get&&void 0===l.set&&Object.defineProperty(n.prototype,e.Jm[r.Ak],{set:function(v,_){return function(){throw Error("Property "+v.Jm[_.Ak]+" of "+v.x+" is read-only.")}}(e,r)})}}}e={Jm:e.Jm,x:e.x}}}};function ve(){}function Nt(t){this.key=-1,this.value=t}function Kt(t){this.ub=t,this.ff=null,t.Ha=null,this.ia=t.Ba,this.Ra=-1}function fe(t){this.ub=t,t.gh=null,this.ia=t.Ba,this.Ra=t.j.length}function zt(t){Se(this),this.v=!1,this.j=[],this.Ba=0,this.gh=this.Ha=null,void 0!==t&&("function"==typeof t||"string"==typeof t?wt():this.addAll(t))}function Ne(t){this.tg=t,t.Ha=null,this.ia=t.Ba,this.ka=null}function Pt(t){Se(this),this.v=!1,this.Hb={},this.Fb=0,this.Ha=null,this.Ba=0,this.$e=this.ba=null,void 0!==t&&("function"==typeof t||"string"==typeof t?wt():this.addAll(t))}function Se(t){t.__gohashid=_e++}function Fi(t){var e=t.__gohashid;return void 0===e&&(e=_e++,t.__gohashid=e),e}function Ge(t){return t.__gohashid}ve.prototype.reset=function(){},ve.prototype.next=function(){return!1},ve.prototype.rd=function(){return!1},ve.prototype.first=function(){return null},ve.prototype.any=function(){return!1},ve.prototype.all=function(){return!0},ve.prototype.each=function(){return this},ve.prototype.map=function(){return this},ve.prototype.filter=function(){return this},ve.prototype.Sd=function(){},ve.prototype.toString=function(){return"EmptyIterator"},H.Object.defineProperties(ve.prototype,{iterator:{get:function(){return this}},count:{get:function(){return 0}}}),ve.prototype.first=ve.prototype.first,ve.prototype.hasNext=ve.prototype.rd,ve.prototype.next=ve.prototype.next,ve.prototype.reset=ve.prototype.reset,ve.className="EmptyIterator",Gt=new ve,Nt.prototype.reset=function(){this.key=-1},Nt.prototype.next=function(){return-1===this.key&&(this.key=0,!0)},Nt.prototype.rd=function(){return this.next()},Nt.prototype.first=function(){return this.key=0,this.value},Nt.prototype.any=function(t){return this.key=-1,t(this.value)},Nt.prototype.all=function(t){return this.key=-1,t(this.value)},Nt.prototype.each=function(t){return this.key=-1,t(this.value),this},Nt.prototype.map=function(t){return new Nt(t(this.value))},Nt.prototype.filter=function(t){return t(this.value)?new Nt(this.value):Gt},Nt.prototype.Sd=function(){this.value=null},Nt.prototype.toString=function(){return"SingletonIterator("+this.value+")"},H.Object.defineProperties(Nt.prototype,{iterator:{get:function(){return this}},count:{get:function(){return 1}}}),Nt.prototype.first=Nt.prototype.first,Nt.prototype.hasNext=Nt.prototype.rd,Nt.prototype.next=Nt.prototype.next,Nt.prototype.reset=Nt.prototype.reset,Nt.className="SingletonIterator",Kt.prototype.reset=function(){var t=this.ub;t.Ha=null,this.ia=t.Ba,this.Ra=-1},Kt.prototype.next=function(){var t=this.ub;if(t.Ba!==this.ia&&0>this.key)return!1;var e=(t=t.j).length,i=++this.Ra,n=this.ff;if(null!==n)for(;i<e;){var r=t[i];if(n(r))return this.key=this.Ra=i,this.value=r,!0;i++}else{if(i<e)return this.key=i,this.value=t[i],!0;this.Sd()}return!1},Kt.prototype.rd=function(){return this.next()},Kt.prototype.first=function(){var t=this.ub;this.ia=t.Ba,this.Ra=0;var e=(t=t.j).length,i=this.ff;if(null!==i){for(var n=0;n<e;){var r=t[n];if(i(r))return this.key=this.Ra=n,this.value=r;n++}return null}return 0<e?(t=t[0],this.key=0,this.value=t):null},Kt.prototype.any=function(t){var e=this.ub;e.Ha=null,this.Ra=-1;for(var i=(e=e.j).length,n=this.ff,r=0;r<i;r++){var l=e[r];if((null===n||n(l))&&t(l))return!0}return!1},Kt.prototype.all=function(t){var e=this.ub;e.Ha=null,this.Ra=-1;for(var i=(e=e.j).length,n=this.ff,r=0;r<i;r++){var l=e[r];if((null===n||n(l))&&!t(l))return!1}return!0},Kt.prototype.each=function(t){var e=this.ub;e.Ha=null,this.Ra=-1;for(var i=(e=e.j).length,n=this.ff,r=0;r<i;r++){var l=e[r];(null===n||n(l))&&t(l)}return this},Kt.prototype.map=function(t){var e=this.ub;e.Ha=null,this.Ra=-1;for(var i=[],n=(e=e.j).length,r=this.ff,l=0;l<n;l++){var v=e[l];(null===r||r(v))&&i.push(t(v))}return(t=new zt).j=i,t.pb(),t.iterator},Kt.prototype.filter=function(t){var e=this.ub;e.Ha=null,this.Ra=-1;for(var i=[],n=(e=e.j).length,r=this.ff,l=0;l<n;l++){var v=e[l];(null===r||r(v))&&t(v)&&i.push(v)}return(t=new zt).j=i,t.pb(),t.iterator},Kt.prototype.Sd=function(){this.key=-1,this.value=null,this.ia=-1,this.ff=null,this.ub.Ha=this},Kt.prototype.toString=function(){return"ListIterator@"+this.Ra+"/"+this.ub.count},H.Object.defineProperties(Kt.prototype,{iterator:{get:function(){return this}},predicate:{get:function(){return this.ff},set:function(t){this.ff=t}},count:{get:function(){var t=this.ff;if(null!==t){for(var e=0,i=this.ub.j,n=i.length,r=0;r<n;r++)t(i[r])&&e++;return e}return this.ub.j.length}}}),Kt.prototype.first=Kt.prototype.first,Kt.prototype.hasNext=Kt.prototype.rd,Kt.prototype.next=Kt.prototype.next,Kt.prototype.reset=Kt.prototype.reset,Kt.className="ListIterator",fe.prototype.reset=function(){var t=this.ub;t.gh=null,this.ia=t.Ba,this.Ra=t.j.length},fe.prototype.next=function(){var t=this.ub;if(t.Ba!==this.ia&&0>this.key)return!1;var e=--this.Ra;return 0<=e?(this.key=e,this.value=t.j[e],!0):(this.Sd(),!1)},fe.prototype.rd=function(){return this.next()},fe.prototype.first=function(){var t=this.ub;this.ia=t.Ba;var e=t.j;return this.Ra=t=e.length-1,0<=t?(e=e[t],this.key=t,this.value=e):null},fe.prototype.any=function(t){var e=this.ub;e.gh=null;var i=(e=e.j).length;for(this.Ra=i,--i;0<=i;i--)if(t(e[i]))return!0;return!1},fe.prototype.all=function(t){var e=this.ub;e.gh=null;var i=(e=e.j).length;for(this.Ra=i,--i;0<=i;i--)if(!t(e[i]))return!1;return!0},fe.prototype.each=function(t){var e=this.ub;e.gh=null;var i=(e=e.j).length;for(this.Ra=i,--i;0<=i;i--)t(e[i]);return this},fe.prototype.map=function(t){var e=this.ub;e.gh=null;var i=[],n=(e=e.j).length;for(this.Ra=n,--n;0<=n;n--)i.push(t(e[n]));return(t=new zt).j=i,t.pb(),t.iterator},fe.prototype.filter=function(t){var e=this.ub;e.gh=null;var i=[],n=(e=e.j).length;for(this.Ra=n,--n;0<=n;n--){var r=e[n];t(r)&&i.push(r)}return(t=new zt).j=i,t.pb(),t.iterator},fe.prototype.Sd=function(){this.key=-1,this.value=null,this.ia=-1,this.ub.gh=this},fe.prototype.toString=function(){return"ListIteratorBackwards("+this.Ra+"/"+this.ub.count+")"},H.Object.defineProperties(fe.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ub.j.length}}}),fe.prototype.first=fe.prototype.first,fe.prototype.hasNext=fe.prototype.rd,fe.prototype.next=fe.prototype.next,fe.prototype.reset=fe.prototype.reset,fe.className="ListIteratorBackwards",(Q=zt.prototype).pb=function(){var t=this.Ba;999999999<++t&&(t=0),this.Ba=t},Q.freeze=function(){return this.v=!0,this},Q.ea=function(){return this.v=!1,this},Q.toString=function(){return"List()#"+Ge(this)},Q.add=function(t){return null===t||(this.v&&it(this,t),this.j.push(t),this.pb()),this},Q.push=function(t){this.add(t)},Q.addAll=function(t){if(null===t)return this;this.v&&it(this);var e=this.j;if(Ot(t))for(var i=t.length,n=0;n<i;n++)e.push(t[n]);else for(t=t.iterator;t.next();)e.push(t.value);return this.pb(),this},Q.clear=function(){this.v&&it(this),this.j.length=0,this.pb()},Q.contains=function(t){return null!==t&&-1!==this.j.indexOf(t)},Q.has=function(t){return this.contains(t)},Q.indexOf=function(t){return null===t?-1:this.j.indexOf(t)},Q.J=function(t){var e=this.j;return(0>t||t>=e.length)&&ot(t,"0 <= i < length",zt,"elt:i"),e[t]},Q.get=function(t){return this.J(t)},Q.Pc=function(t,e){var i=this.j;(0>t||t>=i.length)&&ot(t,"0 <= i < length",zt,"setElt:i"),this.v&&it(this,t),i[t]=e},Q.set=function(t,e){this.Pc(t,e)},Q.first=function(){var t=this.j;return 0===t.length?null:t[0]},Q.Xb=function(){var t=this.j,e=t.length;return 0<e?t[e-1]:null},Q.pop=function(){this.v&&it(this);var t=this.j;return 0<t.length?t.pop():null},zt.prototype.any=function(t){for(var e=this.j,i=e.length,n=0;n<i;n++)if(t(e[n]))return!0;return!1},zt.prototype.all=function(t){for(var e=this.j,i=e.length,n=0;n<i;n++)if(!t(e[n]))return!1;return!0},zt.prototype.each=function(t){for(var e=this.j,i=e.length,n=0;n<i;n++)t(e[n]);return this},zt.prototype.map=function(t){for(var e=new zt,i=[],n=this.j,r=n.length,l=0;l<r;l++)i.push(t(n[l]));return e.j=i,e.pb(),e},zt.prototype.filter=function(t){for(var e=new zt,i=[],n=this.j,r=n.length,l=0;l<r;l++){var v=n[l];t(v)&&i.push(v)}return e.j=i,e.pb(),e},(Q=zt.prototype).wb=function(t,e){0>t&&ot(t,">= 0",zt,"insertAt:i"),this.v&&it(this,t);var i=this.j;t>=i.length?i.push(e):i.splice(t,0,e),this.pb()},Q.remove=function(t){if(null===t)return!1;this.v&&it(this,t);var e=this.j;return-1!==(t=e.indexOf(t))&&(t===e.length-1?e.pop():e.splice(t,1),this.pb(),!0)},Q.delete=function(t){return this.remove(t)},Q.cb=function(t){var e=this.j;(0>t||t>=e.length)&&ot(t,"0 <= i < length",zt,"removeAt:i"),this.v&&it(this,t),t===e.length-1?e.pop():e.splice(t,1),this.pb()},Q.removeRange=function(t,e){var i=this.j,n=i.length;if(0>t)t=0;else if(t>=n)return this;if(0>e)return this;if(e>=n&&(e=n-1),t>e)return this;this.v&&it(this);for(var r=t,l=e+1;l<n;)i[r++]=i[l++];return i.length=n-(e-t+1),this.pb(),this},zt.prototype.copy=function(){var t=new zt,e=this.j;return 0<e.length&&(t.j=Array.prototype.slice.call(e)),t},(Q=zt.prototype).ma=function(){for(var t=this.j,e=this.count,i=Array(e),n=0;n<e;n++)i[n]=t[n];return i},Q.Lw=function(){for(var t=new Pt,e=this.j,i=this.count,n=0;n<i;n++)t.add(e[n]);return t},Q.sort=function(t){return this.v&&it(this),this.j.sort(t),this.pb(),this},Q.uj=function(t,e,i){var n=this.j,r=n.length;void 0===e&&(e=0),void 0===i&&(i=r),this.v&&it(this);var l=i-e;if(1>=l)return this;if((0>e||e>=r-1)&&ot(e,"0 <= from < length",zt,"sortRange:from"),2===l)return 0<t(i=n[e],r=n[e+1])&&(n[e]=r,n[e+1]=i,this.pb()),this;if(0===e)if(i>=r)n.sort(t);else for((e=n.slice(0,i)).sort(t),t=0;t<i;t++)n[t]=e[t];else if(i>=r)for((i=n.slice(e)).sort(t),t=e;t<r;t++)n[t]=i[t-e];else for((r=n.slice(e,i)).sort(t),t=e;t<i;t++)n[t]=r[t-e];return this.pb(),this},Q.reverse=function(){return this.v&&it(this),this.j.reverse(),this.pb(),this},H.Object.defineProperties(zt.prototype,{_dataArray:{get:function(){return this.j}},count:{get:function(){return this.j.length}},size:{get:function(){return this.j.length}},length:{get:function(){return this.j.length}},iterator:{get:function(){if(0>=this.j.length)return Gt;var t=this.Ha;return null!==t?(t.reset(),t):new Kt(this)}},iteratorBackwards:{get:function(){if(0>=this.j.length)return Gt;var t=this.gh;return null!==t?(t.reset(),t):new fe(this)}}}),zt.prototype.reverse=zt.prototype.reverse,zt.prototype.sortRange=zt.prototype.uj,zt.prototype.sort=zt.prototype.sort,zt.prototype.toSet=zt.prototype.Lw,zt.prototype.toArray=zt.prototype.ma,zt.prototype.removeRange=zt.prototype.removeRange,zt.prototype.removeAt=zt.prototype.cb,zt.prototype.delete=zt.prototype.delete,zt.prototype.remove=zt.prototype.remove,zt.prototype.insertAt=zt.prototype.wb,zt.prototype.pop=zt.prototype.pop,zt.prototype.last=zt.prototype.Xb,zt.prototype.first=zt.prototype.first,zt.prototype.set=zt.prototype.set,zt.prototype.setElt=zt.prototype.Pc,zt.prototype.get=zt.prototype.get,zt.prototype.elt=zt.prototype.J,zt.prototype.indexOf=zt.prototype.indexOf,zt.prototype.has=zt.prototype.has,zt.prototype.contains=zt.prototype.contains,zt.prototype.clear=zt.prototype.clear,zt.prototype.addAll=zt.prototype.addAll,zt.prototype.push=zt.prototype.push,zt.prototype.add=zt.prototype.add,zt.prototype.thaw=zt.prototype.ea,zt.prototype.freeze=zt.prototype.freeze,zt.className="List",Ne.prototype.reset=function(){var t=this.tg;t.Ha=null,this.ia=t.Ba,this.ka=null},Ne.prototype.next=function(){var t=this.tg;if(t.Ba!==this.ia&&null===this.key)return!1;var e=this.ka;return null!==(e=null===e?t.ba:e.pa)?(this.ka=e,this.value=e.value,this.key=e.key,!0):(this.Sd(),!1)},Ne.prototype.rd=function(){return this.next()},Ne.prototype.first=function(){var t=this.tg;if(this.ia=t.Ba,null!==(t=t.ba)){this.ka=t;var e=t.value;return this.key=t.key,this.value=e}return null},Ne.prototype.any=function(t){var e=this.tg;for(this.ka=e.Ha=null,e=e.ba;null!==e;){if(t(e.value))return!0;e=e.pa}return!1},Ne.prototype.all=function(t){var e=this.tg;for(this.ka=e.Ha=null,e=e.ba;null!==e;){if(!t(e.value))return!1;e=e.pa}return!0},Ne.prototype.each=function(t){var e=this.tg;for(this.ka=e.Ha=null,e=e.ba;null!==e;)t(e.value),e=e.pa;return this},Ne.prototype.map=function(t){var e=this.tg;e.Ha=null;var i=new zt;for(e=e.ba;null!==e;)i.add(t(e.value)),e=e.pa;return i.iterator},Ne.prototype.filter=function(t){var e=this.tg;e.Ha=null;var i=new zt;for(e=e.ba;null!==e;){var n=e.value;t(n)&&i.add(n),e=e.pa}return i.iterator},Ne.prototype.Sd=function(){this.value=this.key=null,this.ia=-1,this.tg.Ha=this},Ne.prototype.toString=function(){return null!==this.ka?"SetIterator@"+this.ka.value:"SetIterator"},H.Object.defineProperties(Ne.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.tg.Fb}}}),Ne.prototype.first=Ne.prototype.first,Ne.prototype.hasNext=Ne.prototype.rd,Ne.prototype.next=Ne.prototype.next,Ne.prototype.reset=Ne.prototype.reset,Ne.className="SetIterator",(Q=Pt.prototype).pb=function(){var t=this.Ba;999999999<++t&&(t=0),this.Ba=t},Q.freeze=function(){return this.v=!0,this},Q.ea=function(){return this.v=!1,this},Q.toString=function(){return"Set()#"+Ge(this)},Q.add=function(t){if(null===t)return this;this.v&&it(this,t);var e=t;return xt(t)&&(e=Fi(t)),void 0===this.Hb[e]&&(this.Fb++,t=new Ye(t,t),this.Hb[e]=t,null===(e=this.$e)?this.ba=t:(t.Xl=e,e.pa=t),this.$e=t,this.pb()),this},Q.addAll=function(t){if(null===t)return this;if(this.v&&it(this),Ot(t))for(var e=t.length,i=0;i<e;i++)this.add(t[i]);else for(t=t.iterator;t.next();)this.add(t.value);return this},Q.contains=function(t){if(null===t)return!1;var e=t;return(!xt(t)||void 0!==(e=Ge(t)))&&void 0!==this.Hb[e]},Q.has=function(t){return this.contains(t)},Q.Ez=function(t){if(null===t)return!0;for(t=t.iterator;t.next();)if(!this.contains(t.value))return!1;return!0},Q.Fz=function(t){if(null===t)return!0;for(t=t.iterator;t.next();)if(this.contains(t.value))return!0;return!1},Q.first=function(){var t=this.ba;return null===t?null:t.value},Pt.prototype.any=function(t){for(var e=this.ba;null!==e;){if(t(e.value))return!0;e=e.pa}return!1},Pt.prototype.all=function(t){for(var e=this.ba;null!==e;){if(!t(e.value))return!1;e=e.pa}return!0},Pt.prototype.each=function(t){for(var e=this.ba;null!==e;)t(e.value),e=e.pa;return this},Pt.prototype.map=function(t){for(var e=new Pt,i=this.ba;null!==i;)e.add(t(i.value)),i=i.pa;return e},Pt.prototype.filter=function(t){for(var e=new Pt,i=this.ba;null!==i;){var n=i.value;t(n)&&e.add(n),i=i.pa}return e},(Q=Pt.prototype).remove=function(t){if(null===t)return!1;this.v&&it(this,t);var e=t;if(xt(t)&&void 0===(e=Ge(t))||void 0===(t=this.Hb[e]))return!1;var i=t.pa,n=t.Xl;return null!==i&&(i.Xl=n),null!==n&&(n.pa=i),this.ba===t&&(this.ba=i),this.$e===t&&(this.$e=n),delete this.Hb[e],this.Fb--,this.pb(),!0},Q.delete=function(t){return this.remove(t)},Q.Zq=function(t){if(null===t)return this;if(this.v&&it(this),Ot(t))for(var e=t.length,i=0;i<e;i++)this.remove(t[i]);else for(t=t.iterator;t.next();)this.remove(t.value);return this},Q.YA=function(t){if(null===t||0===this.count)return this;this.v&&it(this);var e=new Pt;e.addAll(t),t=[];for(var i=this.iterator;i.next();){var n=i.value;e.contains(n)||t.push(n)}return this.Zq(t),this},Q.clear=function(){this.v&&it(this),this.Hb={},this.Fb=0,null!==this.Ha&&this.Ha.reset(),this.$e=this.ba=null,this.pb()},Pt.prototype.copy=function(){var i,t=new Pt,e=this.Hb;for(i in e)t.add(e[i].value);return t},Pt.prototype.ma=function(){var n,t=Array(this.Fb),e=this.Hb,i=0;for(n in e)t[i]=e[n].value,i++;return t},Pt.prototype.Kw=function(){var i,t=new zt,e=this.Hb;for(i in e)t.add(e[i].value);return t},H.Object.defineProperties(Pt.prototype,{count:{get:function(){return this.Fb}},size:{get:function(){return this.Fb}},iterator:{get:function(){if(0>=this.Fb)return Gt;var t=this.Ha;return null!==t?(t.reset(),t):new Ne(this)}}}),Pt.prototype.toList=Pt.prototype.Kw,Pt.prototype.toArray=Pt.prototype.ma,Pt.prototype.clear=Pt.prototype.clear,Pt.prototype.retainAll=Pt.prototype.YA,Pt.prototype.removeAll=Pt.prototype.Zq,Pt.prototype.delete=Pt.prototype.delete,Pt.prototype.remove=Pt.prototype.remove,Pt.prototype.first=Pt.prototype.first,Pt.prototype.containsAny=Pt.prototype.Fz,Pt.prototype.containsAll=Pt.prototype.Ez,Pt.prototype.has=Pt.prototype.has,Pt.prototype.contains=Pt.prototype.contains,Pt.prototype.addAll=Pt.prototype.addAll,Pt.prototype.add=Pt.prototype.add,Pt.prototype.thaw=Pt.prototype.ea,Pt.prototype.freeze=Pt.prototype.freeze;var _e=1;function Ce(t){this.ga=t,this.ia=t.Ba,this.ka=null}function Bt(t){Pt.call(this),Se(this),this.v=!0,this.ga=t}function re(t){this.ga=t,t.Ze=null,this.ia=t.Ba,this.ka=null}function Ye(t,e){this.key=t,this.value=e,this.Xl=this.pa=null}function jt(t){this.ga=t,t.Ha=null,this.ia=t.Ba,this.ka=null}function yt(t){Se(this),this.v=!1,this.Hb={},this.Fb=0,this.Ze=this.Ha=null,this.Ba=0,this.$e=this.ba=null,void 0!==t&&("function"==typeof t||"string"==typeof t?wt():this.addAll(t))}function ht(t,e){void 0===t?this.y=this.x=0:"number"==typeof t&&"number"==typeof e?(this.x=t,this.y=e):U("Invalid arguments to Point constructor: "+t+", "+e),this.v=!1}function ce(t){if("string"==typeof t){t=t.split(" ");for(var e=0,i=0;""===t[e];)e++;var n=t[e++];n&&(i=parseFloat(n));for(var r=0;""===t[e];)e++;return(n=t[e++])&&(r=parseFloat(n)),new ht(i,r)}return new ht}function ke(t){return t.x.toString()+" "+t.y.toString()}function Pi(t,e){if(0===t)return 0<e?90:0>e?270:0;if(0===e)return 0<t?0:180;if(isNaN(t)||isNaN(e))return 0;var i=180*Math.atan(Math.abs(e/t))/Math.PI;return 0>t?i=0>e?i+180:180-i:0>e&&(i=360-i),i}function We(t,e){return e.Jd(t),t}function si(t,e,i,n,r,l){var v=r-i,_=l-n,D=v*v+_*_,O=-(i-=t)*v-(n-=e)*_;return 0>=O||O>=D?(v=r-t,_=l-e,Math.min(i*i+n*n,v*v+_*_)):(t=v*n-_*i)*t/D}function bn(t,e,i,n){return(t=i-t)*t+(e=n-e)*e}function wi(t,e,i,n){return e=n-e,0==(t=i-t)?0<e?90:0>e?270:0:0===e?0<t?0:180:isNaN(t)||isNaN(e)?0:(n=180*Math.atan(Math.abs(e/t))/Math.PI,0>t?n=0>e?n+180:180-n:0>e&&(n=360-n),n)}Pt.className="Set",Pt.uniqueHash=Se,Pt.hashIdUnique=Fi,Pt.hashId=Ge,Ce.prototype.reset=function(){this.ia=this.ga.Ba,this.ka=null},Ce.prototype.next=function(){var t=this.ga;if(t.Ba!==this.ia&&null===this.key)return!1;var e=this.ka;return null!==(e=null===e?t.ba:e.pa)?(this.ka=e,this.value=this.key=t=e.key,!0):(this.Sd(),!1)},Ce.prototype.rd=function(){return this.next()},Ce.prototype.first=function(){var t=this.ga;return this.ia=t.Ba,null!==(t=t.ba)?(this.ka=t,this.value=this.key=t=t.key):null},Ce.prototype.any=function(t){var e=this.ga;for(this.ka=null,e=e.ba;null!==e;){if(t(e.key))return!0;e=e.pa}return!1},Ce.prototype.all=function(t){var e=this.ga;for(this.ka=null,e=e.ba;null!==e;){if(!t(e.key))return!1;e=e.pa}return!0},Ce.prototype.each=function(t){var e=this.ga;for(this.ka=null,e=e.ba;null!==e;)t(e.key),e=e.pa;return this},Ce.prototype.map=function(t){var e=this.ga;this.ka=null;var i=new zt;for(e=e.ba;null!==e;)i.add(t(e.key)),e=e.pa;return i.iterator},Ce.prototype.filter=function(t){var e=this.ga;this.ka=null;var i=new zt;for(e=e.ba;null!==e;){var n=e.key;t(n)&&i.add(n),e=e.pa}return i.iterator},Ce.prototype.Sd=function(){this.value=this.key=null,this.ia=-1},Ce.prototype.toString=function(){return null!==this.ka?"MapKeySetIterator@"+this.ka.value:"MapKeySetIterator"},H.Object.defineProperties(Ce.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ga.Fb}}}),Ce.prototype.first=Ce.prototype.first,Ce.prototype.hasNext=Ce.prototype.rd,Ce.prototype.next=Ce.prototype.next,Ce.prototype.reset=Ce.prototype.reset,Ce.className="MapKeySetIterator",Z(Bt,Pt),(Q=Bt.prototype).freeze=function(){return this},Q.ea=function(){return this},Q.toString=function(){return"MapKeySet("+this.ga.toString()+")"},Q.add=function(){return U("This Set is read-only: "+this.toString()),this},Q.contains=function(t){return this.ga.contains(t)},Q.has=function(t){return this.contains(t)},Q.remove=function(){return U("This Set is read-only: "+this.toString()),!1},Q.delete=function(t){return this.remove(t)},Q.clear=function(){U("This Set is read-only: "+this.toString())},Q.first=function(){var t=this.ga.ba;return null!==t?t.key:null},Bt.prototype.any=function(t){for(var e=this.ga.ba;null!==e;){if(t(e.key))return!0;e=e.pa}return!1},Bt.prototype.all=function(t){for(var e=this.ga.ba;null!==e;){if(!t(e.key))return!1;e=e.pa}return!0},Bt.prototype.each=function(t){for(var e=this.ga.ba;null!==e;)t(e.key),e=e.pa;return this},Bt.prototype.map=function(t){for(var e=new Pt,i=this.ga.ba;null!==i;)e.add(t(i.key)),i=i.pa;return e},Bt.prototype.filter=function(t){for(var e=new Pt,i=this.ga.ba;null!==i;){var n=i.key;t(n)&&e.add(n),i=i.pa}return e},Bt.prototype.copy=function(){return new Bt(this.ga)},Bt.prototype.Lw=function(){var i,t=new Pt,e=this.ga.Hb;for(i in e)t.add(e[i].key);return t},Bt.prototype.ma=function(){var n,t=this.ga.Hb,e=Array(this.ga.Fb),i=0;for(n in t)e[i]=t[n].key,i++;return e},Bt.prototype.Kw=function(){var i,t=new zt,e=this.ga.Hb;for(i in e)t.add(e[i].key);return t},H.Object.defineProperties(Bt.prototype,{count:{get:function(){return this.ga.Fb}},size:{get:function(){return this.ga.Fb}},iterator:{get:function(){return 0>=this.ga.Fb?Gt:new Ce(this.ga)}}}),Bt.prototype.toList=Bt.prototype.Kw,Bt.prototype.toArray=Bt.prototype.ma,Bt.prototype.toSet=Bt.prototype.Lw,Bt.prototype.first=Bt.prototype.first,Bt.prototype.clear=Bt.prototype.clear,Bt.prototype.delete=Bt.prototype.delete,Bt.prototype.remove=Bt.prototype.remove,Bt.prototype.has=Bt.prototype.has,Bt.prototype.contains=Bt.prototype.contains,Bt.prototype.add=Bt.prototype.add,Bt.prototype.thaw=Bt.prototype.ea,Bt.prototype.freeze=Bt.prototype.freeze,Bt.className="MapKeySet",re.prototype.reset=function(){var t=this.ga;t.Ze=null,this.ia=t.Ba,this.ka=null},re.prototype.next=function(){var t=this.ga;if(t.Ba!==this.ia&&null===this.key)return!1;var e=this.ka;return null!==(e=null===e?t.ba:e.pa)?(this.ka=e,this.value=e.value,this.key=e.key,!0):(this.Sd(),!1)},re.prototype.rd=function(){return this.next()},re.prototype.first=function(){var t=this.ga;if(this.ia=t.Ba,null!==(t=t.ba)){this.ka=t;var e=t.value;return this.key=t.key,this.value=e}return null},re.prototype.any=function(t){var e=this.ga;for(this.ka=e.Ze=null,e=e.ba;null!==e;){if(t(e.value))return!0;e=e.pa}return!1},re.prototype.all=function(t){var e=this.ga;for(this.ka=e.Ze=null,e=e.ba;null!==e;){if(!t(e.value))return!1;e=e.pa}return!0},re.prototype.each=function(t){var e=this.ga;for(this.ka=e.Ze=null,e=e.ba;null!==e;)t(e.value),e=e.pa;return this},re.prototype.map=function(t){var e=this.ga;this.ka=e.Ze=null;var i=new zt;for(e=e.ba;null!==e;)i.add(t(e.value)),e=e.pa;return i.iterator},re.prototype.filter=function(t){var e=this.ga;this.ka=e.Ze=null;var i=new zt;for(e=e.ba;null!==e;){var n=e.value;t(n)&&i.add(n),e=e.pa}return i.iterator},re.prototype.Sd=function(){this.value=this.key=null,this.ia=-1,this.ga.Ze=this},re.prototype.toString=function(){return null!==this.ka?"MapValueSetIterator@"+this.ka.value:"MapValueSetIterator"},H.Object.defineProperties(re.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ga.Fb}}}),re.prototype.first=re.prototype.first,re.prototype.hasNext=re.prototype.rd,re.prototype.next=re.prototype.next,re.prototype.reset=re.prototype.reset,re.className="MapValueSetIterator",Ye.prototype.toString=function(){return"{"+this.key+":"+this.value+"}"},Ye.className="KeyValuePair",jt.prototype.reset=function(){var t=this.ga;t.Ha=null,this.ia=t.Ba,this.ka=null},jt.prototype.next=function(){var t=this.ga;if(t.Ba!==this.ia&&null===this.key)return!1;var e=this.ka;return null!==(e=null===e?t.ba:e.pa)?(this.ka=e,this.key=e.key,this.value=e.value,!0):(this.Sd(),!1)},jt.prototype.rd=function(){return this.next()},jt.prototype.first=function(){var t=this.ga;return this.ia=t.Ba,null!==(t=t.ba)?(this.ka=t,this.key=t.key,this.value=t.value,t):null},jt.prototype.any=function(t){var e=this.ga;for(this.ka=e.Ha=null,e=e.ba;null!==e;){if(t(e))return!0;e=e.pa}return!1},jt.prototype.all=function(t){var e=this.ga;for(this.ka=e.Ha=null,e=e.ba;null!==e;){if(!t(e))return!1;e=e.pa}return!0},jt.prototype.each=function(t){var e=this.ga;for(this.ka=e.Ha=null,e=e.ba;null!==e;)t(e),e=e.pa;return this},jt.prototype.map=function(t){var e=this.ga;this.ka=e.Ha=null;var i=new zt;for(e=e.ba;null!==e;)i.add(t(e)),e=e.pa;return i.iterator},jt.prototype.filter=function(t){var e=this.ga;this.ka=e.Ha=null;var i=new zt;for(e=e.ba;null!==e;)t(e)&&i.add(e),e=e.pa;return i.iterator},jt.prototype.Sd=function(){this.value=this.key=null,this.ia=-1,this.ga.Ha=this},jt.prototype.toString=function(){return null!==this.ka?"MapIterator@"+this.ka:"MapIterator"},H.Object.defineProperties(jt.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ga.Fb}}}),jt.prototype.first=jt.prototype.first,jt.prototype.hasNext=jt.prototype.rd,jt.prototype.next=jt.prototype.next,jt.prototype.reset=jt.prototype.reset,jt.className="MapIterator",(Q=yt.prototype).pb=function(){var t=this.Ba;999999999<++t&&(t=0),this.Ba=t},Q.freeze=function(){return this.v=!0,this},Q.ea=function(){return this.v=!1,this},Q.toString=function(){return"Map()#"+Ge(this)},Q.add=function(t,e){this.v&&it(this,t);var i=t;xt(t)&&(i=Fi(t));var n=this.Hb[i];return void 0===n?(this.Fb++,t=new Ye(t,e),this.Hb[i]=t,null===(i=this.$e)?this.ba=t:(t.Xl=i,i.pa=t),this.$e=t,this.pb()):n.value=e,this},Q.set=function(t,e){return this.add(t,e)},Q.addAll=function(t){if(null===t)return this;if(Ot(t))for(var e=t.length,i=0;i<e;i++){var n=t[i];this.add(n.key,n.value)}else if(t instanceof yt)for(t=t.iterator;t.next();)this.add(t.key,t.value);else for(t=t.iterator;t.next();)this.add((e=t.value).key,e.value);return this},Q.first=function(){return this.ba},yt.prototype.any=function(t){for(var e=this.ba;null!==e;){if(t(e))return!0;e=e.pa}return!1},yt.prototype.all=function(t){for(var e=this.ba;null!==e;){if(!t(e))return!1;e=e.pa}return!0},yt.prototype.each=function(t){for(var e=this.ba;null!==e;)t(e),e=e.pa;return this},yt.prototype.map=function(t){for(var e=new yt,i=this.ba;null!==i;)e.add(i.key,t(i)),i=i.pa;return e},yt.prototype.filter=function(t){for(var e=new yt,i=this.ba;null!==i;)t(i)&&e.add(i.key,i.value),i=i.pa;return e},(Q=yt.prototype).contains=function(t){var e=t;return(!xt(t)||void 0!==(e=Ge(t)))&&void 0!==this.Hb[e]},Q.has=function(t){return this.contains(t)},Q.G=function(t){var e=t;return xt(t)&&void 0===(e=Ge(t))||void 0===(t=this.Hb[e])?null:t.value},Q.get=function(t){return this.G(t)},Q.remove=function(t){if(null===t)return!1;this.v&&it(this,t);var e=t;if(xt(t)&&void 0===(e=Ge(t))||void 0===(t=this.Hb[e]))return!1;var i=t.pa,n=t.Xl;return null!==i&&(i.Xl=n),null!==n&&(n.pa=i),this.ba===t&&(this.ba=i),this.$e===t&&(this.$e=n),delete this.Hb[e],this.Fb--,this.pb(),!0},Q.delete=function(t){return this.remove(t)},Q.clear=function(){this.v&&it(this),this.Hb={},this.Fb=0,null!==this.Ha&&this.Ha.reset(),null!==this.Ze&&this.Ze.reset(),this.$e=this.ba=null,this.pb()},yt.prototype.copy=function(){var i,t=new yt,e=this.Hb;for(i in e){var n=e[i];t.add(n.key,n.value)}return t},yt.prototype.ma=function(){var n,t=this.Hb,e=Array(this.Fb),i=0;for(n in t){var r=t[n];e[i]=new Ye(r.key,r.value),i++}return e},yt.prototype.Kf=function(){return new Bt(this)},H.Object.defineProperties(yt.prototype,{count:{get:function(){return this.Fb}},size:{get:function(){return this.Fb}},iterator:{get:function(){if(0>=this.count)return Gt;var t=this.Ha;return null!==t?(t.reset(),t):new jt(this)}},iteratorKeys:{get:function(){return 0>=this.count?Gt:new Ce(this)}},iteratorValues:{get:function(){if(0>=this.count)return Gt;var t=this.Ze;return null!==t?(t.reset(),t):new re(this)}}}),yt.prototype.toKeySet=yt.prototype.Kf,yt.prototype.toArray=yt.prototype.ma,yt.prototype.clear=yt.prototype.clear,yt.prototype.delete=yt.prototype.delete,yt.prototype.remove=yt.prototype.remove,yt.prototype.get=yt.prototype.get,yt.prototype.getValue=yt.prototype.G,yt.prototype.has=yt.prototype.has,yt.prototype.contains=yt.prototype.contains,yt.prototype.first=yt.prototype.first,yt.prototype.addAll=yt.prototype.addAll,yt.prototype.set=yt.prototype.set,yt.prototype.add=yt.prototype.add,yt.prototype.thaw=yt.prototype.ea,yt.prototype.freeze=yt.prototype.freeze,yt.className="Map",ht.prototype.assign=function(t){return this.x=t.x,this.y=t.y,this},ht.prototype.h=function(t,e){return this.x=t,this.y=e,this},ht.prototype.Ig=function(t,e){return this.x=t,this.y=e,this},ht.prototype.set=function(t){return this.x=t.x,this.y=t.y,this},ht.prototype.copy=function(){var t=new ht;return t.x=this.x,t.y=this.y,t},(Q=ht.prototype).ca=function(){return this.v=!0,Object.freeze(this),this},Q.H=function(){return this.v||Object.isFrozen(this)?this:this.copy().freeze()},Q.freeze=function(){return this.v=!0,this},Q.ea=function(){return Object.isFrozen(this)&&U("cannot thaw constant: "+this),this.v=!1,this},Q.toString=function(){return"Point("+this.x+","+this.y+")"},Q.w=function(t){return t instanceof ht&&this.x===t.x&&this.y===t.y},Q.fj=function(t,e){return this.x===t&&this.y===e},Q.Qa=function(t){return ti.A(this.x,t.x)&&ti.A(this.y,t.y)},Q.add=function(t){return this.x+=t.x,this.y+=t.y,this},Q.ge=function(t){return this.x-=t.x,this.y-=t.y,this},Q.offset=function(t,e){return this.x+=t,this.y+=e,this},ht.prototype.rotate=function(t){if(0===t)return this;var e=this.x,i=this.y;if(0===e&&0===i)return this;if(360<=t?t-=360:0>t&&(t+=360),90===t){t=0;var n=1}else 180===t?(t=-1,n=0):270===t?(t=0,n=-1):(n=t*Math.PI/180,t=Math.cos(n),n=Math.sin(n));return this.x=t*e-n*i,this.y=n*e+t*i,this},(Q=ht.prototype).scale=function(t,e){return this.x*=t,this.y*=e,this},Q.Ie=function(t){var e=t.x-this.x;return e*e+(t=t.y-this.y)*t},Q.qd=function(t,e){return(t-=this.x)*t+(e-=this.y)*e},Q.normalize=function(){var t=this.x,e=this.y,i=Math.sqrt(t*t+e*e);return 0<i&&(this.x=t/i,this.y=e/i),this},Q.Pa=function(t){return Pi(t.x-this.x,t.y-this.y)},Q.direction=function(t,e){return Pi(t-this.x,e-this.y)},Q.OA=function(t,e,i,n){return ti.Qh(t,e,i,n,this.x,this.y,this),this},Q.PA=function(t,e){return ti.Qh(t.x,t.y,e.x,e.y,this.x,this.y,this),this},Q.cB=function(t,e,i,n){return ti.Gq(this.x,this.y,t,e,i,n,this),this},Q.dB=function(t,e){return ti.Gq(this.x,this.y,t.x,t.y,e.width,e.height,this),this},Q.tj=function(t,e){return this.x=t.x+e.x*t.width+e.offsetX,this.y=t.y+e.y*t.height+e.offsetY,this},Q.Uk=function(t,e,i,n,r){return this.x=t+r.x*i+r.offsetX,this.y=e+r.y*n+r.offsetY,this},Q.transform=function(t){return t.ta(this),this},Q.o=function(){return isFinite(this.x)&&isFinite(this.y)},ht.alloc=function(){var t=ei.pop();return void 0===t?new ht:t},ht.allocAt=function(t,e){var i=ei.pop();return void 0===i?new ht(t,e):(i.x=t,i.y=e,i)},ht.free=function(t){ei.push(t)},ht.prototype.isReal=ht.prototype.o,ht.prototype.setSpot=ht.prototype.Uk,ht.prototype.setRectSpot=ht.prototype.tj,ht.prototype.snapToGridPoint=ht.prototype.dB,ht.prototype.snapToGrid=ht.prototype.cB,ht.prototype.projectOntoLineSegmentPoint=ht.prototype.PA,ht.prototype.projectOntoLineSegment=ht.prototype.OA,ht.intersectingLineSegments=function(t,e,i,n,r,l,v,_){return ti.Cm(t,e,i,n,r,l,v,_)},ht.prototype.direction=ht.prototype.direction,ht.prototype.directionPoint=ht.prototype.Pa,ht.prototype.normalize=ht.prototype.normalize,ht.prototype.distanceSquared=ht.prototype.qd,ht.prototype.distanceSquaredPoint=ht.prototype.Ie,ht.prototype.scale=ht.prototype.scale,ht.prototype.rotate=ht.prototype.rotate,ht.prototype.offset=ht.prototype.offset,ht.prototype.subtract=ht.prototype.ge,ht.prototype.add=ht.prototype.add,ht.prototype.equalsApprox=ht.prototype.Qa,ht.prototype.equalTo=ht.prototype.fj,ht.prototype.equals=ht.prototype.w,ht.prototype.set=ht.prototype.set,ht.prototype.setTo=ht.prototype.Ig;var je,ci,Oe,oi,Vn,qe,ni,ne,Qt,Zt,Ut,xe,ei=[];function De(t,e){void 0===t?this.height=this.width=0:"number"==typeof t&&(0<=t||isNaN(t))&&"number"==typeof e&&(0<=e||isNaN(e))?(this.width=t,this.height=e):U("Invalid arguments to Size constructor: "+t+", "+e),this.v=!1}function ue(t){if("string"==typeof t){t=t.split(" ");for(var e=0,i=0;""===t[e];)e++;var n=t[e++];n&&(i=parseFloat(n));for(var r=0;""===t[e];)e++;return(n=t[e++])&&(r=parseFloat(n)),new De(i,r)}return new De}function Re(t){return t.width.toString()+" "+t.height.toString()}ht.className="Point",ht.parse=ce,ht.stringify=ke,ht.distanceLineSegmentSquared=si,ht.distanceSquared=bn,ht.direction=wi,ht.Origin=je=new ht(0,0).ca(),ht.InfiniteTopLeft=ci=new ht(-1/0,-1/0).ca(),ht.InfiniteBottomRight=Oe=new ht(1/0,1/0).ca(),ht.SixPoint=oi=new ht(6,6).ca(),ht.NoPoint=Vn=new ht(NaN,NaN).ca(),ht.parse=ce,ht.stringify=ke,ht.distanceLineSegmentSquared=si,ht.distanceSquared=bn,ht.direction=wi,De.prototype.assign=function(t){return this.width=t.width,this.height=t.height,this},De.prototype.h=function(t,e){return this.width=t,this.height=e,this},De.prototype.Ig=function(t,e){return this.width=t,this.height=e,this},De.prototype.set=function(t){return this.width=t.width,this.height=t.height,this},De.prototype.copy=function(){var t=new De;return t.width=this.width,t.height=this.height,t},(Q=De.prototype).ca=function(){return this.v=!0,Object.freeze(this),this},Q.H=function(){return this.v||Object.isFrozen(this)?this:this.copy().freeze()},Q.freeze=function(){return this.v=!0,this},Q.ea=function(){return Object.isFrozen(this)&&U("cannot thaw constant: "+this),this.v=!1,this},Q.toString=function(){return"Size("+this.width+","+this.height+")"},Q.w=function(t){return t instanceof De&&this.width===t.width&&this.height===t.height},Q.fj=function(t,e){return this.width===t&&this.height===e},Q.Qa=function(t){return ti.A(this.width,t.width)&&ti.A(this.height,t.height)},Q.o=function(){return isFinite(this.width)&&isFinite(this.height)},De.alloc=function(){var t=pi.pop();return void 0===t?new De:t},De.free=function(t){pi.push(t)},De.prototype.isReal=De.prototype.o,De.prototype.equalsApprox=De.prototype.Qa,De.prototype.equalTo=De.prototype.fj,De.prototype.equals=De.prototype.w,De.prototype.set=De.prototype.set,De.prototype.setTo=De.prototype.Ig;var pi=[];function he(t,e,i,n){void 0===t?this.height=this.width=this.y=this.x=0:t instanceof ht?(i=t.x,t=t.y,e instanceof ht?(n=e.x,e=e.y,this.x=Math.min(i,n),this.y=Math.min(t,e),this.width=Math.abs(i-n),this.height=Math.abs(t-e)):e instanceof De?(this.x=i,this.y=t,this.width=e.width,this.height=e.height):U("Incorrect arguments supplied to Rect constructor")):"number"==typeof t&&"number"==typeof e&&"number"==typeof i&&(0<=i||isNaN(i))&&"number"==typeof n&&(0<=n||isNaN(n))?(this.x=t,this.y=e,this.width=i,this.height=n):U("Invalid arguments to Rect constructor: "+t+", "+e+", "+i+", "+n),this.v=!1}function $e(t,e,i){t.width=e,t.height=i}function _n(t){if("string"==typeof t){t=t.split(" ");for(var e=0,i=0;""===t[e];)e++;var n=t[e++];n&&(i=parseFloat(n));for(var r=0;""===t[e];)e++;(n=t[e++])&&(r=parseFloat(n));for(var l=0;""===t[e];)e++;(n=t[e++])&&(l=parseFloat(n));for(var v=0;""===t[e];)e++;return(n=t[e++])&&(v=parseFloat(n)),new he(i,r,l,v)}return new he}function Ei(t){return t.x.toString()+" "+t.y.toString()+" "+t.width.toString()+" "+t.height.toString()}function zi(t,e){return ti.aa(t.x,e.x)&&ti.aa(t.y,e.y)&&ti.aa(t.width,e.width)&&ti.aa(t.height,e.height)}function ir(t,e,i,n,r){var l=t.width;return i+r<=-l?(t.x+=l/2,t.width=0):(t.x-=r,t.width+=i+r),e+n<=-(i=t.height)?(t.y+=i/2,t.height=0):(t.y-=e,t.height+=e+n),t}function bi(t,e,i,n,r){var l=Math.max(t.x,e),v=Math.max(t.y,i);return e=Math.min(t.x+t.width,e+n),i=Math.min(t.y+t.height,i+r),t.x=l,t.y=v,t.width=Math.max(0,e-l),t.height=Math.max(0,i-v),t}function Li(t,e){var i=t.width,n=t.x,r=e.x-10;return!(n>e.width+10+10+r||r>i+n||(i=t.height,(t=t.y)>e.height+10+10+(n=e.y-10)||n>i+t))}function Ln(t,e,i,n,r){var l=Math.min(t.x,e),v=Math.min(t.y,i);return e=Math.max(t.x+t.width,e+n),i=Math.max(t.y+t.height,i+r),t.x=l,t.y=v,t.width=e-l,t.height=i-v,t}function Kn(t,e,i,n,r,l,v,_){return void 0===v&&(v=0),void 0===_&&(_=0),t<=r&&r+v<=t+i&&e<=l&&l+_<=e+n}function pr(t,e,i,n,r,l,v,_){return!(t>v+r||r>i+t||e>_+l||l>n+e)}De.className="Size",De.parse=ue,De.stringify=Re,De.ZeroSize=qe=new De(0,0).ca(),De.OneSize=ni=new De(1,1).ca(),De.SixSize=ne=new De(6,6).ca(),De.EightSize=Qt=new De(8,8).ca(),De.TenSize=Zt=new De(10,10).ca(),De.InfiniteSize=Ut=new De(1/0,1/0).ca(),De.NoSize=xe=new De(NaN,NaN).ca(),De.parse=ue,De.stringify=Re,(Q=he.prototype).assign=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},Q.h=function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},Q.Ig=function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},Q.set=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},Q.Qc=function(t){return this.x=t.x,this.y=t.y,this},Q.bB=function(t){return this.width=t.width,this.height=t.height,this},he.prototype.copy=function(){var t=new he;return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},(Q=he.prototype).ca=function(){return this.v=!0,Object.freeze(this),this},Q.H=function(){return this.v||Object.isFrozen(this)?this:this.copy().freeze()},Q.freeze=function(){return this.v=!0,this},Q.ea=function(){return Object.isFrozen(this)&&U("cannot thaw constant: "+this),this.v=!1,this},Q.toString=function(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"},Q.w=function(t){return t instanceof he&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},Q.fj=function(t,e,i,n){return this.x===t&&this.y===e&&this.width===i&&this.height===n},Q.Qa=function(t){return ti.A(this.x,t.x)&&ti.A(this.y,t.y)&&ti.A(this.width,t.width)&&ti.A(this.height,t.height)},Q.$=function(t){return this.x<=t.x&&this.x+this.width>=t.x&&this.y<=t.y&&this.y+this.height>=t.y},Q.Ge=function(t){return this.x<=t.x&&t.x+t.width<=this.x+this.width&&this.y<=t.y&&t.y+t.height<=this.y+this.height},Q.contains=function(t,e,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),this.x<=t&&t+i<=this.x+this.width&&this.y<=e&&e+n<=this.y+this.height},Q.offset=function(t,e){return this.x+=t,this.y+=e,this},Q.Jc=function(t,e){return ir(this,e,t,e,t)},Q.uq=function(t){return ir(this,t.top,t.right,t.bottom,t.left)},Q.Jw=function(t){return ir(this,-t.top,-t.right,-t.bottom,-t.left)},Q.sA=function(t,e,i,n){return ir(this,t,e,i,n)},Q.Dy=function(t){return bi(this,t.x,t.y,t.width,t.height)},Q.bw=function(t,e,i,n){return bi(this,t,e,i,n)},Q.Mc=function(t){return this.cw(t.x,t.y,t.width,t.height)},Q.cw=function(t,e,i,n){var r=this.width,l=this.x;return!(r!==1/0&&i!==1/0&&(r+=l,i+=t,isNaN(i)||isNaN(r)||l>i||t>r)||(i=this.y,(t=this.height)!==1/0&&n!==1/0&&(t+=i,n+=e,isNaN(n)||isNaN(t)||i>n||e>t)))},Q.Oe=function(t){return Ln(this,t.x,t.y,0,0)},Q.Rc=function(t){return Ln(this,t.x,t.y,t.width,t.height)},Q.Rw=function(t,e,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),Ln(this,t,e,i,n)},Q.Uk=function(t,e,i){return this.x=t-i.offsetX-i.x*this.width,this.y=e-i.offsetY-i.y*this.height,this},Q.o=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},Q.yA=function(){return 0===this.width&&0===this.height},he.alloc=function(){var t=xi.pop();return void 0===t?new he:t},he.allocAt=function(t,e,i,n){var r=xi.pop();return void 0===r?new he(t,e,i,n):r.h(t,e,i,n)},he.free=function(t){xi.push(t)},H.Object.defineProperties(he.prototype,{left:{get:function(){return this.x},set:function(t){this.x=t}},top:{get:function(){return this.y},set:function(t){this.y=t}},right:{get:function(){return this.x+this.width},set:function(t){this.x+=t-(this.x+this.width)}},bottom:{get:function(){return this.y+this.height},set:function(t){this.y+=t-(this.y+this.height)}},position:{get:function(){return new ht(this.x,this.y)},set:function(t){this.x=t.x,this.y=t.y}},size:{get:function(){return new De(this.width,this.height)},set:function(t){this.width=t.width,this.height=t.height}},center:{get:function(){return new ht(this.x+this.width/2,this.y+this.height/2)},set:function(t){this.x=t.x-this.width/2,this.y=t.y-this.height/2}},centerX:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}}),he.prototype.isEmpty=he.prototype.yA,he.prototype.isReal=he.prototype.o,he.intersectsLineSegment=function(t,e,i,n,r,l,v,_){return ti.Ey(t,e,i,n,r,l,v,_)},he.prototype.setSpot=he.prototype.Uk,he.prototype.union=he.prototype.Rw,he.prototype.unionRect=he.prototype.Rc,he.prototype.unionPoint=he.prototype.Oe,he.prototype.intersects=he.prototype.cw,he.prototype.intersectsRect=he.prototype.Mc,he.prototype.intersect=he.prototype.bw,he.prototype.intersectRect=he.prototype.Dy,he.prototype.grow=he.prototype.sA,he.prototype.subtractMargin=he.prototype.Jw,he.prototype.addMargin=he.prototype.uq,he.prototype.inflate=he.prototype.Jc,he.prototype.offset=he.prototype.offset,he.prototype.contains=he.prototype.contains,he.prototype.containsRect=he.prototype.Ge,he.prototype.containsPoint=he.prototype.$,he.prototype.equalsApprox=he.prototype.Qa,he.prototype.equalTo=he.prototype.fj,he.prototype.equals=he.prototype.w,he.prototype.setSize=he.prototype.bB,he.prototype.setPoint=he.prototype.Qc,he.prototype.set=he.prototype.set,he.prototype.setTo=he.prototype.Ig;var Jn,Ni,xi=[];function Je(t,e,i,n){void 0===t?this.left=this.bottom=this.right=this.top=0:void 0===e?this.left=this.bottom=this.right=this.top=t:void 0===i?(this.top=t,this.right=e,this.bottom=t,this.left=e):void 0!==n?(this.top=t,this.right=e,this.bottom=i,this.left=n):U("Invalid arguments to Margin constructor: "+t+", "+e+", "+i+", "+n),this.v=!1}function Ui(t){if("string"==typeof t){t=t.split(" ");for(var e=0,i=NaN;""===t[e];)e++;var n=t[e++];if(n&&(i=parseFloat(n)),isNaN(i))return new Je;for(var r=NaN;""===t[e];)e++;if((n=t[e++])&&(r=parseFloat(n)),isNaN(r))return new Je(i);for(var l=NaN;""===t[e];)e++;if((n=t[e++])&&(l=parseFloat(n)),isNaN(l))return new Je(i,r);for(var v=NaN;""===t[e];)e++;return(n=t[e++])&&(v=parseFloat(n)),isNaN(v)?new Je(i,r):new Je(i,r,l,v)}return new Je}function on(t){return t.top.toString()+" "+t.right.toString()+" "+t.bottom.toString()+" "+t.left.toString()}he.className="Rect",he.parse=_n,he.stringify=Ei,he.contains=Kn,he.intersects=pr,he.ZeroRect=Jn=new he(0,0,0,0).ca(),he.NoRect=Ni=new he(NaN,NaN,NaN,NaN).ca(),he.parse=_n,he.stringify=Ei,he.contains=Kn,he.intersects=pr,Je.prototype.assign=function(t){return this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left,this},Je.prototype.Ig=function(t,e,i,n){return this.top=t,this.right=e,this.bottom=i,this.left=n,this},Je.prototype.set=function(t){return this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left,this},Je.prototype.copy=function(){var t=new Je;return t.top=this.top,t.right=this.right,t.bottom=this.bottom,t.left=this.left,t},(Q=Je.prototype).ca=function(){return this.v=!0,Object.freeze(this),this},Q.H=function(){return this.v||Object.isFrozen(this)?this:this.copy().freeze()},Q.freeze=function(){return this.v=!0,this},Q.ea=function(){return Object.isFrozen(this)&&U("cannot thaw constant: "+this),this.v=!1,this},Q.toString=function(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"},Q.w=function(t){return t instanceof Je&&this.top===t.top&&this.right===t.right&&this.bottom===t.bottom&&this.left===t.left},Q.fj=function(t,e,i,n){return this.top===t&&this.right===e&&this.bottom===i&&this.left===n},Q.Qa=function(t){return ti.A(this.top,t.top)&&ti.A(this.right,t.right)&&ti.A(this.bottom,t.bottom)&&ti.A(this.left,t.left)},Q.o=function(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)},Je.alloc=function(){var t=Ar.pop();return void 0===t?new Je:t},Je.free=function(t){Ar.push(t)},Je.prototype.isReal=Je.prototype.o,Je.prototype.equalsApprox=Je.prototype.Qa,Je.prototype.equalTo=Je.prototype.fj,Je.prototype.equals=Je.prototype.w,Je.prototype.set=Je.prototype.set,Je.prototype.setTo=Je.prototype.Ig;var nr,mr,xr,Hr,so,Vr,Pr,ar,Vs,qs,js,Zo,ds,Gr,qo,as,wa,Ho,ea,Qr,Oa,zs,Va,kh,ks,Xl,Tl,us,Pl,ia,Zl,Go,ns,Ts,xs,ko,Th,Ph,Ar=[];function hn(t,e,i,n){void 0===t?this.offsetY=this.offsetX=this.y=this.x=0:(void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=t,this.y=e,this.offsetX=i,this.offsetY=n),this.v=!1}function Rs(t,e){return t.x=NaN,t.y=NaN,t.offsetX=e,t}function Ou(t){if("string"==typeof t){if("None"===(t=t.trim()))return xr;if("TopLeft"===t)return Hr;if("Top"===t||"TopCenter"===t||"MiddleTop"===t)return so;if("TopRight"===t)return Vr;if("Left"===t||"LeftCenter"===t||"MiddleLeft"===t)return Pr;if("Center"===t)return ar;if("Right"===t||"RightCenter"===t||"MiddleRight"===t)return Vs;if("BottomLeft"===t)return qs;if("Bottom"===t||"BottomCenter"===t||"MiddleBottom"===t)return js;if("BottomRight"===t)return Zo;if("TopSide"===t)return ds;if("LeftSide"===t)return Gr;if("RightSide"===t)return qo;if("BottomSide"===t)return as;if("TopBottomSides"===t)return wa;if("LeftRightSides"===t)return Ho;if("TopLeftSides"===t)return ea;if("TopRightSides"===t)return Qr;if("BottomLeftSides"===t)return Oa;if("BottomRightSides"===t)return zs;if("NotTopSide"===t)return Va;if("NotLeftSide"===t)return kh;if("NotRightSide"===t)return ks;if("NotBottomSide"===t)return Xl;if("AllSides"===t)return Tl;if("Default"===t)return us;t=t.split(" ");for(var e=0,i=0;""===t[e];)e++;var n=t[e++];void 0!==n&&0<n.length&&(i=parseFloat(n));for(var r=0;""===t[e];)e++;void 0!==(n=t[e++])&&0<n.length&&(r=parseFloat(n));for(var l=0;""===t[e];)e++;void 0!==(n=t[e++])&&0<n.length&&(l=parseFloat(n));for(var v=0;""===t[e];)e++;return void 0!==(n=t[e++])&&0<n.length&&(v=parseFloat(n)),new hn(i,r,l,v)}return new hn}function ja(t){return t.kb()?t.x.toString()+" "+t.y.toString()+" "+t.offsetX.toString()+" "+t.offsetY.toString():t.toString()}Je.className="Margin",Je.parse=Ui,Je.stringify=on,Je.ZeroMargin=nr=new Je(0,0,0,0).ca(),Je.TwoMargin=mr=new Je(2,2,2,2).ca(),Je.parse=Ui,Je.stringify=on,hn.prototype.assign=function(t){return this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this},hn.prototype.Ig=function(t,e,i,n){return this.x=t,this.y=e,this.offsetX=i,this.offsetY=n,this},hn.prototype.set=function(t){return this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this},hn.prototype.copy=function(){var t=new hn;return t.x=this.x,t.y=this.y,t.offsetX=this.offsetX,t.offsetY=this.offsetY,t},(Q=hn.prototype).ca=function(){return this.v=!0,Object.freeze(this),this},Q.H=function(){return this.v||Object.isFrozen(this)?this:this.copy().freeze()},Q.freeze=function(){return this.v=!0,this},Q.ea=function(){return Object.isFrozen(this)&&U("cannot thaw constant: "+this),this.v=!1,this},Q.toString=function(){return this.kb()?0===this.offsetX&&0===this.offsetY?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.w(xr)?"None":this.w(Hr)?"TopLeft":this.w(so)?"Top":this.w(Vr)?"TopRight":this.w(Pr)?"Left":this.w(ar)?"Center":this.w(Vs)?"Right":this.w(qs)?"BottomLeft":this.w(js)?"Bottom":this.w(Zo)?"BottomRight":this.w(ds)?"TopSide":this.w(Gr)?"LeftSide":this.w(qo)?"RightSide":this.w(as)?"BottomSide":this.w(wa)?"TopBottomSides":this.w(Ho)?"LeftRightSides":this.w(ea)?"TopLeftSides":this.w(Qr)?"TopRightSides":this.w(Oa)?"BottomLeftSides":this.w(zs)?"BottomRightSides":this.w(Va)?"NotTopSide":this.w(kh)?"NotLeftSide":this.w(ks)?"NotRightSide":this.w(Xl)?"NotBottomSide":this.w(Tl)?"AllSides":this.w(us)?"Default":"None"},Q.w=function(t){return t instanceof hn&&(this.x===t.x||isNaN(this.x)&&isNaN(t.x))&&(this.y===t.y||isNaN(this.y)&&isNaN(t.y))&&this.offsetX===t.offsetX&&this.offsetY===t.offsetY},Q.mw=function(){return new hn(.5-(this.x-.5),.5-(this.y-.5),-this.offsetX,-this.offsetY)},Q.Ef=function(t){if(!this.Oc())return!1;if(!t.Oc())if(t.w(Pl))t=Gr;else if(t.w(ia))t=qo;else if(t.w(Zl))t=ds;else{if(!t.w(Go))return!1;t=as}return(this.offsetY&(t=t.offsetY))===t},Q.kb=function(){return!isNaN(this.x)&&!isNaN(this.y)},Q.nc=function(){return isNaN(this.x)||isNaN(this.y)},Q.Oc=function(){return isNaN(this.x)&&isNaN(this.y)&&1===this.offsetX&&0!==this.offsetY},Q.Vt=function(){return isNaN(this.x)&&isNaN(this.y)&&0===this.offsetX&&0===this.offsetY},Q.Mb=function(){return isNaN(this.x)&&isNaN(this.y)&&-1===this.offsetX&&0===this.offsetY},hn.alloc=function(){var t=ql.pop();return void 0===t?new hn:t},hn.free=function(t){ql.push(t)},hn.prototype.isDefault=hn.prototype.Mb,hn.prototype.isNone=hn.prototype.Vt,hn.prototype.isSide=hn.prototype.Oc,hn.prototype.isNoSpot=hn.prototype.nc,hn.prototype.isSpot=hn.prototype.kb,hn.prototype.includesSide=hn.prototype.Ef,hn.prototype.opposite=hn.prototype.mw,hn.prototype.equals=hn.prototype.w,hn.prototype.set=hn.prototype.set,hn.prototype.setTo=hn.prototype.Ig;var ql=[];function or(){this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0}hn.className="Spot",hn.parse=Ou,hn.stringify=ja,hn.None=xr=Rs(new hn(0,0,0,0),0).ca(),hn.Default=us=Rs(new hn(0,0,-1,0),-1).ca(),hn.TopLeft=Hr=new hn(0,0,0,0).ca(),hn.TopCenter=so=new hn(.5,0,0,0).ca(),hn.TopRight=Vr=new hn(1,0,0,0).ca(),hn.LeftCenter=Pr=new hn(0,.5,0,0).ca(),hn.Center=ar=new hn(.5,.5,0,0).ca(),hn.RightCenter=Vs=new hn(1,.5,0,0).ca(),hn.BottomLeft=qs=new hn(0,1,0,0).ca(),hn.BottomCenter=js=new hn(.5,1,0,0).ca(),hn.BottomRight=Zo=new hn(1,1,0,0).ca(),hn.MiddleTop=ns=so,hn.MiddleLeft=Ts=Pr,hn.MiddleRight=xs=Vs,hn.MiddleBottom=ko=js,hn.Top=Zl=so,hn.Left=Pl=Pr,hn.Right=ia=Vs,hn.Bottom=Go=js,hn.TopSide=ds=Rs(new hn(0,0,1,1),1).ca(),hn.LeftSide=Gr=Rs(new hn(0,0,1,2),1).ca(),hn.RightSide=qo=Rs(new hn(0,0,1,4),1).ca(),hn.BottomSide=as=Rs(new hn(0,0,1,8),1).ca(),hn.TopBottomSides=wa=Rs(new hn(0,0,1,9),1).ca(),hn.LeftRightSides=Ho=Rs(new hn(0,0,1,6),1).ca(),hn.TopLeftSides=ea=Rs(new hn(0,0,1,3),1).ca(),hn.TopRightSides=Qr=Rs(new hn(0,0,1,5),1).ca(),hn.BottomLeftSides=Oa=Rs(new hn(0,0,1,10),1).ca(),hn.BottomRightSides=zs=Rs(new hn(0,0,1,12),1).ca(),hn.NotTopSide=Va=Rs(new hn(0,0,1,14),1).ca(),hn.NotLeftSide=kh=Rs(new hn(0,0,1,13),1).ca(),hn.NotRightSide=ks=Rs(new hn(0,0,1,11),1).ca(),hn.NotBottomSide=Xl=Rs(new hn(0,0,1,7),1).ca(),hn.AllSides=Tl=Rs(new hn(0,0,1,15),1).ca(),Th=new hn(.156,.156).ca(),Ph=new hn(.844,.844).ca(),hn.parse=Ou,hn.stringify=ja,or.prototype.set=function(t){return this.m11=t.m11,this.m12=t.m12,this.m21=t.m21,this.m22=t.m22,this.dx=t.dx,this.dy=t.dy,this},or.prototype.copy=function(){var t=new or;return t.m11=this.m11,t.m12=this.m12,t.m21=this.m21,t.m22=this.m22,t.dx=this.dx,t.dy=this.dy,t},or.prototype.toString=function(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"},or.prototype.w=function(t){return this.m11===t.m11&&this.m12===t.m12&&this.m21===t.m21&&this.m22===t.m22&&this.dx===t.dx&&this.dy===t.dy},or.prototype.Tt=function(){return 0===this.dx&&0===this.dy&&1===this.m11&&0===this.m12&&0===this.m21&&1===this.m22},or.prototype.reset=function(){return this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0,this},or.prototype.multiply=function(t){var e=this.m11*t.m11+this.m21*t.m12,i=this.m12*t.m11+this.m22*t.m12,n=this.m11*t.m21+this.m21*t.m22,r=this.m12*t.m21+this.m22*t.m22;return this.dx=this.m11*t.dx+this.m21*t.dy+this.dx,this.dy=this.m12*t.dx+this.m22*t.dy+this.dy,this.m11=e,this.m12=i,this.m21=n,this.m22=r,this},or.prototype.jw=function(t){var e=1/(t.m11*t.m22-t.m12*t.m21),i=t.m22*e,n=-t.m12*e,r=-t.m21*e,l=t.m11*e,v=e*(t.m21*t.dy-t.m22*t.dx);return t=e*(t.m12*t.dx-t.m11*t.dy),e=this.m11*i+this.m21*n,i=this.m12*i+this.m22*n,n=this.m11*r+this.m21*l,r=this.m12*r+this.m22*l,this.dx=this.m11*v+this.m21*t+this.dx,this.dy=this.m12*v+this.m22*t+this.dy,this.m11=e,this.m12=i,this.m21=n,this.m22=r,this},or.prototype.St=function(){var t=1/(this.m11*this.m22-this.m12*this.m21),e=-this.m12*t,i=-this.m21*t,n=this.m11*t,r=t*(this.m21*this.dy-this.m22*this.dx),l=t*(this.m12*this.dx-this.m11*this.dy);return this.m11=this.m22*t,this.m12=e,this.m21=i,this.m22=n,this.dx=r,this.dy=l,this},or.prototype.rotate=function(t,e,i){if(360<=t?t-=360:0>t&&(t+=360),0===t)return this;if(this.translate(e,i),90===t){t=0;var n=1}else 180===t?(t=-1,n=0):270===t?(t=0,n=-1):(n=t*Math.PI/180,t=Math.cos(n),n=Math.sin(n));var r=this.m12*t+this.m22*n,l=this.m11*-n+this.m21*t,v=this.m12*-n+this.m22*t;return this.m11=this.m11*t+this.m21*n,this.m12=r,this.m21=l,this.m22=v,this.translate(-e,-i),this},(Q=or.prototype).translate=function(t,e){return this.dx+=this.m11*t+this.m21*e,this.dy+=this.m12*t+this.m22*e,this},Q.scale=function(t,e){return void 0===e&&(e=t),this.m11*=t,this.m12*=t,this.m21*=e,this.m22*=e,this},Q.ta=function(t){var e=t.x,i=t.y;return t.h(e*this.m11+i*this.m21+this.dx,e*this.m12+i*this.m22+this.dy)},Q.Jd=function(t){var e=1/(this.m11*this.m22-this.m12*this.m21),i=t.x,n=t.y;return t.h(i*this.m22*e+n*-this.m21*e+e*(this.m21*this.dy-this.m22*this.dx),i*-this.m12*e+n*this.m11*e+e*(this.m12*this.dx-this.m11*this.dy))},Q.Zx=function(t){var e=1/(this.m11*this.m22-this.m12*this.m21),i=1.25*t.x,n=1.2*t.y;return t.h(i*this.m22*e+n*-this.m21*e+e*(this.m21*this.dy-this.m22*this.dx),i*-this.m12*e+n*this.m11*e+e*(this.m12*this.dx-this.m11*this.dy))},Q.Pw=function(t){var e=t.x,i=t.y,n=e+t.width,r=i+t.height,l=this.m11,v=this.m12,_=this.m21,D=this.m22,O=this.dx,V=this.dy,$=e*l+i*_+O,vt=e*v+i*D+V,kt=n*l+i*_+O,bt=n*v+i*D+V;return i=e*l+r*_+O,e=e*v+r*D+V,l=n*l+r*_+O,n=n*v+r*D+V,r=Math.min($,kt),$=Math.max($,kt),kt=Math.min(vt,bt),vt=Math.max(vt,bt),r=Math.min(r,i),$=Math.max($,i),kt=Math.min(kt,e),vt=Math.max(vt,e),r=Math.min(r,l),$=Math.max($,l),kt=Math.min(kt,n),vt=Math.max(vt,n),t.h(r,kt,$-r,vt-kt),t},or.alloc=function(){var t=hh.pop();return void 0===t?new or:t},or.free=function(t){hh.push(t)},or.prototype.transformRect=or.prototype.Pw,or.prototype.transformPoint=or.prototype.ta,or.prototype.scale=or.prototype.scale,or.prototype.translate=or.prototype.translate,or.prototype.rotate=or.prototype.rotate,or.prototype.invert=or.prototype.St,or.prototype.multiplyInverted=or.prototype.jw,or.prototype.multiply=or.prototype.multiply,or.prototype.reset=or.prototype.reset,or.prototype.isIdentity=or.prototype.Tt,or.prototype.equals=or.prototype.w,or.prototype.set=or.prototype.set;var hh=[];or.className="Transform",or.xF="54a702f3e53909c447824c6706603faf4c";var ti={lB:"7da71ca0ad381e90",Kg:(Math.sqrt(2)-1)/3*4,jx:null,sqrt:function(t){if(0>=t)return 0;var e=ti.jx;if(null===e){e=[];for(var i=0;2e3>=i;i++)e[i]=Math.sqrt(i);ti.jx=e}return 1>t?2e3>=(i=1/t)?1/e[0|i]:Math.sqrt(t):2e3>=t?e[0|t]:Math.sqrt(t)},A:function(t,e){return.5>(t-=e)&&-.5<t},aa:function(t,e){return 5e-8>(t-=e)&&-5e-8<t},Nb:function(t,e,i,n,r,l,v){if(0>=r&&(r=1e-6),t<i)var _=t,D=i;else _=i,D=t;if(e<n)var O=e,V=n;else O=n,V=e;if(t===i)return O<=v&&v<=V&&t-r<=l&&l<=t+r;if(e===n)return _<=l&&l<=D&&e-r<=v&&v<=e+r;if(D+=r,(_-=r)<=l&&l<=D&&(V+=r,(O-=r)<=v&&v<=V))if(D-_>V-O){if(!(t-i>r||i-t>r))return!0;if((l=(n-e)/(i-t)*(l-t)+e)-r<=v&&v<=l+r)return!0}else{if(!(e-n>r||n-e>r))return!0;if((v=(i-t)/(n-e)*(v-e)+t)-r<=l&&l<=v+r)return!0}return!1},yt:function(t,e,i,n,r,l,v,_,D,O,V,$){if(ti.Nb(t,e,v,_,$,i,n)&&ti.Nb(t,e,v,_,$,r,l))return ti.Nb(t,e,v,_,$,O,V);var vt=(t+i)/2,kt=(e+n)/2,bt=(i+r)/2,Wt=(n+l)/2,de=((n=(vt+bt)/2)+(bt=(bt+(r=(r+v)/2))/2))/2,le=((i=(kt+Wt)/2)+(Wt=(Wt+(l=(l+_)/2))/2))/2;return ti.yt(t,e,vt,kt,n,i,de,le,D,O,V,$)||ti.yt(de,le,bt,Wt,r,l,v,_,D,O,V,$)},yz:function(t,e,i,n,r,l,v,_,D){var O=(i+r)/2,V=(n+l)/2;return D.h((((t+i)/2+O)/2+(O+(r+v)/2)/2)/2,(((e+n)/2+V)/2+(V+(l+_)/2)/2)/2),D},xz:function(t,e,i,n,r,l,v,_){var D=(i+r)/2,O=(n+l)/2;return wi(((t+i)/2+D)/2,((e+n)/2+O)/2,(D+(r+v)/2)/2,(O+(l+_)/2)/2)},vm:function(t,e,i,n,r,l,v,_,D,O){if(ti.Nb(t,e,v,_,D,i,n)&&ti.Nb(t,e,v,_,D,r,l))Ln(O,t,e,0,0),Ln(O,v,_,0,0);else{var V=(t+i)/2,$=(e+n)/2,vt=(i+r)/2,kt=(n+l)/2,bt=((n=(V+vt)/2)+(vt=(vt+(r=(r+v)/2))/2))/2,Wt=((i=($+kt)/2)+(kt=(kt+(l=(l+_)/2))/2))/2;ti.vm(t,e,V,$,n,i,bt,Wt,D,O),ti.vm(bt,Wt,vt,kt,r,l,v,_,D,O)}return O},Fe:function(t,e,i,n,r,l,v,_,D,O){if(ti.Nb(t,e,v,_,D,i,n)&&ti.Nb(t,e,v,_,D,r,l))0===O.length&&(O.push(t),O.push(e)),O.push(v),O.push(_);else{var V=(t+i)/2,$=(e+n)/2,vt=(i+r)/2,kt=(n+l)/2,bt=((n=(V+vt)/2)+(vt=(vt+(r=(r+v)/2))/2))/2,Wt=((i=($+kt)/2)+(kt=(kt+(l=(l+_)/2))/2))/2;ti.Fe(t,e,V,$,n,i,bt,Wt,D,O),ti.Fe(bt,Wt,vt,kt,r,l,v,_,D,O)}return O},qw:function(t,e,i,n,r,l,v,_,D,O){if(ti.Nb(t,e,r,l,O,i,n))return ti.Nb(t,e,r,l,O,_,D);var V=(t+i)/2,$=(e+n)/2,vt=(V+(i=(i+r)/2))/2,kt=($+(n=(n+l)/2))/2;return ti.qw(t,e,V,$,vt,kt,v,_,D,O)||ti.qw(vt,kt,i,n,r,l,v,_,D,O)},AB:function(t,e,i,n,r,l,v){return v.h(((t+i)/2+(i+r)/2)/2,((e+n)/2+(n+l)/2)/2),v},pw:function(t,e,i,n,r,l,v,_){if(ti.Nb(t,e,r,l,v,i,n))Ln(_,t,e,0,0),Ln(_,r,l,0,0);else{var D=(t+i)/2,O=(e+n)/2,V=(D+(i=(i+r)/2))/2,$=(O+(n=(n+l)/2))/2;ti.pw(t,e,D,O,V,$,v,_),ti.pw(V,$,i,n,r,l,v,_)}return _},Vq:function(t,e,i,n,r,l,v,_){if(ti.Nb(t,e,r,l,v,i,n))0===_.length&&(_.push(t),_.push(e)),_.push(r),_.push(l);else{var D=(t+i)/2,O=(e+n)/2,V=(D+(i=(i+r)/2))/2,$=(O+(n=(n+l)/2))/2;ti.Vq(t,e,D,O,V,$,v,_),ti.Vq(V,$,i,n,r,l,v,_)}return _},wq:function(t,e,i,n,r,l,v,_,D,O,V,$,vt,kt){if(ti.Nb(t,e,v,_,vt,i,n)&&ti.Nb(t,e,v,_,vt,r,l))return!(!ti.Cm(t,e,v,_,D,O,V,$)||(vt=(t-v)*(O-$)-(e-_)*(D-V),0===vt)||(kt.h(((t*_-e*v)*(D-V)-(t-v)*(D*$-O*V))/vt,((t*_-e*v)*(O-$)-(e-_)*(D*$-O*V))/vt),0));var bt=(t+i)/2,Wt=(e+n)/2,de=(i+r)/2,le=(n+l)/2,we=((n=(bt+de)/2)+(de=(de+(r=(r+v)/2))/2))/2,Pe=((i=(Wt+le)/2)+(le=(le+(l=(l+_)/2))/2))/2,Ke=1/0,ui=!1,$i=0,vn=0;return ti.wq(t,e,bt,Wt,n,i,we,Pe,D,O,V,$,vt,kt)&&(t=(kt.x-D)*(kt.x-D)+(kt.y-O)*(kt.y-O))<Ke&&(Ke=t,ui=!0,$i=kt.x,vn=kt.y),ti.wq(we,Pe,de,le,r,l,v,_,D,O,V,$,vt,kt)&&(kt.x-D)*(kt.x-D)+(kt.y-O)*(kt.y-O)<Ke&&(ui=!0,$i=kt.x,vn=kt.y),ui&&(kt.x=$i,kt.y=vn),ui},xq:function(t,e,i,n,r,l,v,_,D,O,V,$,vt){var kt=0;if(ti.Nb(t,e,v,_,vt,i,n)&&ti.Nb(t,e,v,_,vt,r,l)){if(0==(vt=(t-v)*(O-$)-(e-_)*(D-V)))return kt;var bt=((t*_-e*v)*(D-V)-(t-v)*(D*$-O*V))/vt,Wt=((t*_-e*v)*(O-$)-(e-_)*(D*$-O*V))/vt;if(bt>=V)return kt;if((D>V?D-V:V-D)<(O>$?O-$:$-O)){if(e<_?(t=e,e=_):t=_,Wt<t||Wt>e)return kt}else if(t<v?(e=t,t=v):e=v,bt<e||bt>t)return kt;0<vt?kt++:0>vt&&kt--}else{Wt=(e+n)/2;var de=(i+r)/2,le=(n+l)/2,we=((n=((bt=(t+i)/2)+de)/2)+(de=(de+(r=(r+v)/2))/2))/2,Pe=((i=(Wt+le)/2)+(le=(le+(l=(l+_)/2))/2))/2;kt+=ti.xq(t,e,bt,Wt,n,i,we,Pe,D,O,V,$,vt),kt+=ti.xq(we,Pe,de,le,r,l,v,_,D,O,V,$,vt)}return kt},Qh:function(t,e,i,n,r,l,v){return ti.aa(t,i)?(e<n?(i=e,e=n):i=n,l<i?(v.h(t,i),!1):l>e?(v.h(t,e),!1):(v.h(t,l),!0)):ti.aa(e,n)?(t<i?(n=t,t=i):n=i,r<n?(v.h(n,e),!1):r>t?(v.h(t,e),!1):(v.h(r,e),!0)):-5e-6>(r=((t-r)*(t-i)+(e-l)*(e-n))/((i-t)*(i-t)+(n-e)*(n-e)))?(v.h(t,e),!1):1.000005<r?(v.h(i,n),!1):(v.h(t+r*(i-t),e+r*(n-e)),!0)},Me:function(t,e,i,n,r,l,v,_,D){return ti.A(t,i)&&ti.A(e,n)?(D.h(t,e),!1):ti.aa(r,v)?ti.aa(t,i)?(ti.Qh(t,e,i,n,r,l,D),!1):ti.Qh(t,e,i,n,r,(n-e)/(i-t)*(r-t)+e,D):(_=(_-l)/(v-r),ti.aa(t,i)?(i=_*(t-r)+l,e<n?(r=e,e=n):r=n,i<r?(D.h(t,r),!1):i>e?(D.h(t,e),!1):(D.h(t,i),!0)):ti.aa(_,v=(n-e)/(i-t))?(ti.Qh(t,e,i,n,r,l,D),!1):(r=(v*t-_*r+l-e)/(v-_),ti.aa(v,0)?(t<i?(n=t,t=i):n=i,r<n?(D.h(n,e),!1):r>t?(D.h(t,e),!1):(D.h(r,e),!0)):ti.Qh(t,e,i,n,r,v*(r-t)+e,D)))},yB:function(t,e,i,n,r){return ti.Me(i.x,i.y,n.x,n.y,t.x,t.y,e.x,e.y,r)},wB:function(t,e,i,n,r,l,v,_,D,O){function V(de,le){var we=(de-t)*(de-t)+(le-e)*(le-e);we<$&&($=we,D.h(de,le))}var $=1/0;V(D.x,D.y);var vt=0,kt=0,bt=0,Wt=0;if(r<v?(vt=r,kt=v):(vt=v,kt=r),l<_?(bt=r,Wt=v):(bt=v,Wt=r),vt=(kt-vt)/2+O,O=(Wt-bt)/2+O,r=(r+v)/2,l=(l+_)/2,0===vt||0===O)return D;if(.5>(i>t?i-t:t-i)){if(0>(vt=1-(i-r)*(i-r)/(vt*vt)))return D;n=-O*(vt=Math.sqrt(vt))+l,V(i,O*vt+l),V(i,n)}else{if(0>(vt=(_=2*(i=(n-e)/(i-t))*(e-i*t)/(O*O)-2*i*l/(O*O)-2*r/(vt*vt))*_-4*(n=1/(vt*vt)+i*i/(O*O))*(2*i*t*l/(O*O)-2*e*l/(O*O)+l*l/(O*O)+r*r/(vt*vt)-1+(e-i*t)*(e-i*t)/(O*O))))return D;V(O=(-_+(vt=Math.sqrt(vt)))/(2*n),i*O-i*t+e),V(vt=(-_-vt)/(2*n),i*vt-i*t+e)}return D},Cf:function(t,e,i,n,r,l,v,_,D){var O=1e21,V=t,$=e;if(ti.Me(t,e,t,n,r,l,v,_,D)){var vt=(D.x-r)*(D.x-r)+(D.y-l)*(D.y-l);vt<O&&(O=vt,V=D.x,$=D.y)}return ti.Me(i,e,i,n,r,l,v,_,D)&&(vt=(D.x-r)*(D.x-r)+(D.y-l)*(D.y-l))<O&&(O=vt,V=D.x,$=D.y),ti.Me(t,e,i,e,r,l,v,_,D)&&(e=(D.x-r)*(D.x-r)+(D.y-l)*(D.y-l))<O&&(O=e,V=D.x,$=D.y),ti.Me(t,n,i,n,r,l,v,_,D)&&(t=(D.x-r)*(D.x-r)+(D.y-l)*(D.y-l))<O&&(O=t,V=D.x,$=D.y),D.h(V,$),1e21>O},vB:function(t,e,i,n,r,l,v,_,D){return v=r-v,r=0==(i=t-i)||0===v?0===i?(e=(l-_)/v)*(_=t)+(l-e*r):(l=(e-n)/i)*(_=r)+(e-l*t):(n=(e-n)/i)*(_=(l-(_=(l-_)/v)*r-(t=e-n*t))/(n-_))+t,D.h(_,r),D},Qt:function(t,e,i){return ti.Ey(t.x,t.y,t.width,t.height,e.x,e.y,i.x,i.y)},Ey:function(t,e,i,n,r,l,v,_){var D=t+i,O=e+n;return r===v?(l<_?(v=l,l=_):v=_,t<=r&&r<=D&&v<=O&&l>=e):l===_?(r<v?(_=r,r=v):_=v,e<=l&&l<=O&&_<=D&&r>=t):!!(Kn(t,e,i,n,r,l)||Kn(t,e,i,n,v,_)||ti.Cm(t,e,D,e,r,l,v,_)||ti.Cm(D,e,D,O,r,l,v,_)||ti.Cm(D,O,t,O,r,l,v,_)||ti.Cm(t,O,t,e,r,l,v,_))},Cm:function(t,e,i,n,r,l,v,_){return 0>=ti.Bt(t,e,i,n,r,l)*ti.Bt(t,e,i,n,v,_)&&0>=ti.Bt(r,l,v,_,t,e)*ti.Bt(r,l,v,_,i,n)},Bt:function(t,e,i,n,r,l){return i-=t,0==(l=(t=r-t)*(n-=e)-(e=l-e)*i)&&0<(l=t*i+e*n)&&0>(l=(t-i)*i+(e-n)*n)&&(l=0),0>l?-1:0<l?1:0},Tq:function(t){return 0>t&&(t+=360),360<=t&&(t-=360),t},hy:function(t,e,i,n,r,l){var v=Math.PI;l||(n*=v/180,r*=v/180);var _=n>r?-1:1;l=[];var D=v/2,O=n;if(1e-5>(n=Math.min(2*v,Math.abs(r-n))))return D=O+_*Math.min(n,D),_=t+i*Math.cos(O),O=e+i*Math.sin(O),t+=i*Math.cos(D),e+=i*Math.sin(D),l.push([_,O,i=(_+t)/2,D=(O+e)/2,i,D,t,e]),l;for(;1e-5<n;)r=O+_*Math.min(n,D),l.push(ti.Hz(i,O,r,t,e)),n-=Math.abs(r-O),O=r;return l},Hz:function(t,e,i,n,r){var l=(i-e)/2,v=t*Math.cos(l),_=t*Math.sin(l),D=-_,O=v*v+D*D,V=O+v*v+D*_;return _=v-(O=4/3*(Math.sqrt(2*O*V)-V)/(v*_-D*v))*D,D=-(v=D+O*v),O=l+e,l=Math.cos(O),O=Math.sin(O),[n+t*Math.cos(e),r+t*Math.sin(e),n+_*l-v*O,r+_*O+v*l,n+_*l-D*O,r+_*O+D*l,n+t*Math.cos(i),r+t*Math.sin(i)]},Gq:function(t,e,i,n,r,l,v){var _=i=Math.floor((t-i)/r)*r+i;return i+r-t<r/2&&(_=i+r),t=n=Math.floor((e-n)/l)*l+n,n+l-e<l/2&&(t=n+l),v.h(_,t),v},uy:function(t,e){var n,i=Math.max(t,e);t=Math.min(t,e);do{e=i%t,i=n=t,t=e}while(0<e);return n},Mz:function(t,e,i,n){var r=0>i,l=0>n;if(t<e)var v=1,_=0;else v=0,_=1;var D=0===v?t:e,O=0===v?i:n;return(0===v?r:l)&&(O=-O),i=0===(v=_)?i:n,(0===v?r:l)&&(i=-i),ti.Nz(D,0===v?t:e,O,i,0,0)},Nz:function(t,e,i,n,r,l){if(0<n)if(0<i){r=t*t,t*=i;var v=e*n,_=-(l=e*e)+v,D=-l+Math.sqrt(t*t+v*v);e=_;for(var O=0;9999999999>O&&(e=.5*(_+D))!==_&&e!==D;++O){var V=t/(e+r),$=v/(e+l);if(0<(V=V*V+$*$-1))_=e;else{if(!(0>V))break;D=e}}i=r*i/(e+r)-i,n=l*n/(e+l)-n,i=Math.sqrt(i*i+n*n)}else i=Math.abs(n-e);else(l=t*i)<(n=t*t-e*e)?(n=l/n,l=e*Math.sqrt(Math.abs(1-n*n)),i=t*n-i,i=Math.sqrt(i*i+l*l)):i=Math.abs(i-t);return i},Qe:new Vt,dn:new Vt,Uh:new Vt,Vh:0};function hr(t){Se(this),this.v=!1,void 0===t&&(t=hi),this.qa=t,this.oc=this.hc=this.dd=this.cd=0,this.Jj=new zt,this.Xr=this.Jj.Ba,this.Fr=(new he).freeze(),this.ra=!0,this.ln=this.al=null,this.mn=NaN,this.pf=Hr,this.qf=Zo,this.Cl=this.Dl=NaN,this.Sf=No}function Iu(t,e){return t.type===Ie&&e.type===hi&&!!(1===e.figures.count&&(e=e.figures.J(0),1===e.segments.count&&ti.A(t.startX,e.startX)&&ti.A(t.startY,e.startY)&&(e=e.segments.J(0),e.type===ie&&ti.A(t.endX,e.endX)&&ti.A(t.endY,e.endY))))}function za(t){return t.toString()}function pa(t,e){function i(){return Wt>=Ke-1||null!==$[Wt+1].match(ui)}function n(){return Wt++,$[Wt]}function r(Zi){var Dr=parseFloat(n()),dr=parseFloat(n());de===de.toLowerCase()&&(Dr=Pe.x+Dr,dr=Pe.y+dr),Zi.h(Dr,dr)}function l(){return r(Pe),Pe}function v(){return r(we),we}function _(){var Zi=le.toLowerCase();return"c"!==Zi&&"s"!==Zi&&"q"!==Zi&&"t"!==Zi?Pe:new ht(2*Pe.x-we.x,2*Pe.y-we.y)}void 0===e&&(e=!1);var D=new RegExp("(["+qi+"])(["+qi+"])","gm"),O=new RegExp("(["+qi+"])([^s])","gm"),V=new RegExp("([^s])(["+qi+"])","gm"),$=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/,/gm," ")).replace(D,"$1 $2")).replace(D,"$1 $2")).replace(O,"$1 $2")).replace(V,"$1 $2")).replace(/([0-9])([+\-])/gm,"$1 $2")).replace(/[\s\r\t\n]+/gm," ")).replace(/^\s+|\s+$/g,"")).split(" ");for(t=0;t<$.length;t++)if(null!==(O=$[t]).match(/(\.[0-9]*)(\.)/gm)){D=o(),V="";for(var vt=!1,kt=0;kt<O.length;kt++){var bt=O[kt];"."!==bt||vt?"."===bt?(D.push(V),V="."):V+=bt:(vt=!0,V+=bt)}for(D.push(V),$.splice(t,1),O=0;O<D.length;O++)$.splice(t+O,0,D[O]);t+=D.length-1,c(D)}var Wt=-1,de="",le="";D=new ht(0,0);var we=new ht(0,0),Pe=new ht(0,0),Ke=$.length;t=$t(null),V=O=!1,vt=!0,kt=null;for(var ui=new RegExp("["+qi+"]");!(Wt>=Ke-1);)if(le=de,""!==(de=n()))switch(de.toUpperCase()){case"X":vt=!0,V=O=!1;break;case"M":for(kt=l(),null===t.ic||!0===vt?(dt(t,kt.x,kt.y,O,!V),vt=!1):t.moveTo(kt.x,kt.y),D.assign(Pe);!i();)kt=l(),t.lineTo(kt.x,kt.y);break;case"L":for(;!i();)kt=l(),t.lineTo(kt.x,kt.y);break;case"H":for(;!i();)Pe=new ht((de===de.toLowerCase()?Pe.x:0)+parseFloat(n()),Pe.y),t.lineTo(Pe.x,Pe.y);break;case"V":for(;!i();)Pe=new ht(Pe.x,(de===de.toLowerCase()?Pe.y:0)+parseFloat(n())),t.lineTo(Pe.x,Pe.y);break;case"C":for(;!i();){r(kt=new ht),bt=v();var $i=l();pt(t,kt.x,kt.y,bt.x,bt.y,$i.x,$i.y)}break;case"S":for(;!i();)kt=_(),bt=v(),$i=l(),pt(t,kt.x,kt.y,bt.x,bt.y,$i.x,$i.y);break;case"Q":for(;!i();)kt=v(),bt=l(),Ct(t,kt.x,kt.y,bt.x,bt.y);break;case"T":for(;!i();)we=kt=_(),bt=l(),Ct(t,kt.x,kt.y,bt.x,bt.y);break;case"B":for(;!i();){kt=parseFloat(n()),bt=parseFloat(n()),$i=parseFloat(n());var vn=parseFloat(n()),tn=parseFloat(n()),Bn=tn,yn=!1;i()||(Bn=parseFloat(n()),i()||(yn=0!==parseFloat(n()))),de===de.toLowerCase()&&($i+=Pe.x,vn+=Pe.y),t.arcTo(kt,bt,$i,vn,tn,Bn,yn)}break;case"A":for(;!i();)kt=Math.abs(parseFloat(n())),bt=Math.abs(parseFloat(n())),$i=parseFloat(n()),tn=vn=!1,yn=Bn=0,1===(Bn=n()).length?(vn=!!parseFloat(Bn),tn=!!parseFloat(n()),Bn=parseFloat(n())):2===Bn.length?(vn=!!parseFloat(Bn[0]),tn=!!parseFloat(Bn[1]),Bn=parseFloat(n())):(vn=!!parseFloat(Bn[0]),tn=!!parseFloat(Bn[1]),Bn=parseFloat(Bn.slice(2))),yn=parseFloat(n()),de===de.toLowerCase()&&(Bn=Pe.x+Bn,yn=Pe.y+yn),Pe.h(Bn,yn),Rt(t,kt,bt,$i,vn,tn,Bn,yn);break;case"Z":gt(t),Pe.assign(D);break;case"F":for(kt="",bt=1;$[Wt+bt];)if(null!==$[Wt+bt].match(/[Uu]/))bt++;else{if(null!==$[Wt+bt].match(ui)){kt=$[Wt+bt];break}bt++}kt.match(/[Mm]/)?O=!0:0<t.ic.segments.length&&(t.ic.isFilled=!0);break;case"U":for(kt="",bt=1;$[Wt+bt];)if(null!==$[Wt+bt].match(/[Ff]/))bt++;else{if(null!==$[Wt+bt].match(ui)){kt=$[Wt+bt];break}bt++}kt.match(/[Mm]/)?V=!0:t.Ym(!1)}if(D=t.Kt,ee=t,e)for(e=D.figures.iterator;e.next();)e.value.isFilled=!0;return D}function ch(t,e){for(var i=t.length,n=ht.alloc(),r=0;r<i;r++){var l=t[r];n.x=l[0],n.y=l[1],e.ta(n),l[0]=n.x,l[1]=n.y,n.x=l[2],n.y=l[3],e.ta(n),l[2]=n.x,l[3]=n.y,n.x=l[4],n.y=l[5],e.ta(n),l[4]=n.x,l[5]=n.y,n.x=l[6],n.y=l[7],e.ta(n),l[6]=n.x,l[7]=n.y}ht.free(n)}function ml(t,e,i){switch(t.type){case Ie:case Be:case Qe:i?e.h(t.cd,t.dd,0,0):Ln(e,t.cd,t.dd,0,0),Ln(e,t.hc,t.oc,0,0);break;case hi:var n=t.figures;t=n.j,n=n.length;for(var r=0;r<n;r++){var l=t[r];i&&0===r?e.h(l.startX,l.startY,0,0):Ln(e,l.startX,l.startY,0,0);for(var v=l.segments.j,_=v.length,D=l.startX,O=l.startY,V=0;V<_;V++){var $=v[V];switch($.type){case ie:case lr:Ln(e,D=$.endX,O=$.endY,0,0);break;case Le:ti.vm(D,O,$.point1X,$.point1Y,$.point2X,$.point2Y,$.endX,$.endY,.5,e),D=$.endX,O=$.endY;break;case me:ti.pw(D,O,$.point1X,$.point1Y,$.endX,$.endY,.5,e),D=$.endX,O=$.endY;break;case Ve:case vi:var vt=$.type===Ve?Dn($,l):Pn($,l,D,O),kt=vt.length;if(0===kt){Ln(e,D=$.type===Ve?$.centerX:$.endX,O=$.type===Ve?$.centerY:$.endY,0,0);break}$=null;for(var bt=0;bt<kt;bt++)ti.vm(($=vt[bt])[0],$[1],$[2],$[3],$[4],$[5],$[6],$[7],.5,e);null!==$&&(D=$[6],O=$[7]);break;default:U("Unknown Segment type: "+$.type)}}}break;default:U("Unknown Geometry type: "+t.type)}}function gl(t,e,i,n,r){var l=e.x;e=e.y;for(var D,O,V,$,v=t.bounds.x-20,_=0,vt=t.figures.j,kt=vt.length,bt=0;bt<kt;bt++){var Wt=vt[bt];if(Wt.isFilled){if(n&&Wt.$(l,e,i))return!0;for(var de=Wt.segments,le=D=Wt.startX,we=O=Wt.startY,Pe=de.j,Ke=0;Ke<=de.length;Ke++){var ui=void 0;if(Ke!==de.length){var $i=(ui=Pe[Ke]).type;t=ui.endX,$=ui.endY}else $i=ie,t=le,$=we;switch($i){case lr:if(le=fu(l,e,v,e,D,O,le,we),isNaN(le))return!0;_+=le,le=t,we=$;break;case ie:if(D=fu(l,e,v,e,D,O,t,$),isNaN(D))return!0;_+=D;break;case Le:_+=V=ti.xq(D,O,ui.point1X,ui.point1Y,ui.point2X,ui.point2Y,t,$,v,e,l,e,.5);break;case me:_+=V=ti.xq(D,O,(D+2*ui.point1X)/3,(O+2*ui.point1Y)/3,(2*ui.point1X+t)/3,(2*ui.point1Y+$)/3,t,$,v,e,l,e,.5);break;case Ve:case vi:var vn=($i=ui.type===Ve?Dn(ui,Wt):Pn(ui,Wt,D,O)).length;if(0===vn){if(D=fu(l,e,v,e,D,O,ui.type===Ve?ui.centerX:ui.endX,ui.type===Ve?ui.centerY:ui.endY),isNaN(D))return!0;_+=D;break}ui=null;for(var tn=0;tn<vn;tn++){if(ui=$i[tn],0===tn){if(V=fu(l,e,v,e,D,O,ui[0],ui[1]),isNaN(V))return!0;_+=V}_+=V=ti.xq(ui[0],ui[1],ui[2],ui[3],ui[4],ui[5],ui[6],ui[7],v,e,l,e,.5)}null!==ui&&(t=ui[6],$=ui[7]);break;default:U("Unknown Segment type: "+ui.type)}D=t,O=$}if(0!==_)return!0;_=0}else if(Wt.$(l,e,r?i:i+2))return!0}return 0!==_}function fu(t,e,i,n,r,l,v,_){if(ti.Nb(r,l,v,_,.05,t,e))return NaN;var D=(t-i)*(l-_);if(0===D)return 0;var O=((t*n-e*i)*(r-v)-(t-i)*(r*_-l*v))/D;if(e=(t*n-e*i)*(l-_)/D,O>=t)return 0;if((r>v?r-v:v-r)<(l>_?l-_:_-l)){if(l<_){if(e<l||e>_)return 0}else if(e<_||e>l)return 0}else if(r<v){if(O<r||O>v)return 0}else if(O<v||O>r)return 0;return 0<D?1:-1}function Yu(t,e,i,n){for(var r=(t=t.figures.j).length,l=0;l<r;l++)if(t[l].$(e,i,n))return!0;return!1}function _i(t){if(null===t.al){var e=t.al=[],i=t.ln=[],n=[],r=[];if(t.type===Ie)n.push(t.startX),n.push(t.startY),n.push(t.endX),n.push(t.endY),e.push(n),r.push(Math.sqrt((t.startX-t.endX)*(t.startX-t.endX)+(t.startY-t.endY)*(t.startY-t.endY))),i.push(r);else if(t.type===Be)n.push(t.startX),n.push(t.startY),n.push(t.endX),n.push(t.startY),n.push(t.endX),n.push(t.endY),n.push(t.startX),n.push(t.endY),n.push(t.startX),n.push(t.startY),e.push(n),r.push(Math.abs(t.startX-t.endX)),r.push(Math.abs(t.startY-t.endY)),r.push(Math.abs(t.startX-t.endX)),r.push(Math.abs(t.startY-t.endY)),i.push(r);else if(t.type===Qe){var l=new an;l.startX=t.endX,l.startY=(t.startY+t.endY)/2;var v=new nn(Ve);if(v.startAngle=0,v.sweepAngle=360,v.centerX=(t.startX+t.endX)/2,v.centerY=(t.startY+t.endY)/2,v.radiusX=Math.abs(t.startX-t.endX)/2,v.radiusY=Math.abs(t.startY-t.endY)/2,l.add(v),0===(r=(t=Dn(v,l)).length))n.push(v.centerX),n.push(v.centerY);else{v=l.startX,l=l.startY;for(var _=0;_<r;_++){var D=t[_];ti.Fe(v,l,D[2],D[3],D[4],D[5],D[6],D[7],.5,n),v=D[6],l=D[7]}}e.push(n),i.push(be(n))}else for(t=t.figures.iterator;t.next();){(n=[]).push((r=t.value).startX),n.push(r.startY),_=v=r.startX,D=l=r.startY;for(var O=r.segments.j,V=O.length,$=0;$<V;$++){var vt=O[$];switch(vt.type){case lr:4<=n.length&&(e.push(n),i.push(be(n))),(n=[]).push(vt.endX),n.push(vt.endY),_=v=vt.endX,D=l=vt.endY;break;case ie:n.push(vt.endX),n.push(vt.endY),v=vt.endX,l=vt.endY;break;case Le:ti.Fe(v,l,vt.point1X,vt.point1Y,vt.point2X,vt.point2Y,vt.endX,vt.endY,.5,n),v=vt.endX,l=vt.endY;break;case me:ti.Vq(v,l,vt.point1X,vt.point1Y,vt.endX,vt.endY,.5,n),v=vt.endX,l=vt.endY;break;case Ve:var kt=Dn(vt,r),bt=kt.length;if(0===bt){n.push(vt.centerX),n.push(vt.centerY),v=vt.centerX,l=vt.centerY;break}for(var Wt=0;Wt<bt;Wt++){var de=kt[Wt];ti.Fe(v,l,de[2],de[3],de[4],de[5],de[6],de[7],.5,n),v=de[6],l=de[7]}break;case vi:if(kt=Pn(vt,r,v,l),Wt=vt.endX,de=vt.endY,0===(bt=kt.length)){n.push(Wt),n.push(de),v=Wt,l=de;break}for(Wt=0;Wt<bt;Wt++)ti.Fe(v,l,(de=kt[Wt])[2],de[3],de[4],de[5],de[6],de[7],.5,n),v=de[6],l=de[7];break;default:U("Segment not of valid type: "+vt.type)}vt.isClosed&&(n.push(_),n.push(D))}4<=n.length&&(e.push(n),i.push(be(n)))}}}function be(t){for(var e=[],i=0,n=0,r=t.length,l=0;l<r;l+=2){var v=t[l],_=t[l+1];0!==l&&e.push(Math.sqrt(bn(i,n,v,_))),i=v,n=_}return e}ti.za=ti.lB,hr.prototype.copy=function(){var t=new hr;t.qa=this.qa,t.cd=this.cd,t.dd=this.dd,t.hc=this.hc,t.oc=this.oc;for(var e=this.Jj.j,i=e.length,n=t.Jj,r=0;r<i;r++){var l=e[r].copy();n.add(l)}return t.Xr=this.Xr,t.Fr.assign(this.Fr),t.ra=this.ra,t.al=this.al,t.ln=this.ln,t.mn=this.mn,t.pf=this.pf.H(),t.qf=this.qf.H(),t.Dl=this.Dl,t.Cl=this.Cl,t.Sf=this.Sf,t},(Q=hr.prototype).ca=function(){return this.freeze(),Object.freeze(this),this},Q.freeze=function(){this.v=!0;var t=this.figures;t.freeze();for(var e=(t=t.j).length,i=0;i<e;i++)t[i].freeze();return this},Q.ea=function(){Object.isFrozen(this)&&U("cannot thaw constant: "+this),this.v=!1;var t=this.figures;t.ea();for(var e=(t=t.j).length,i=0;i<e;i++)t[i].ea();return this},Q.Qa=function(t){if(!(t instanceof hr))return!1;if(this.type!==t.type)return this.type===Ie&&t.type===hi?Iu(this,t):t.type===Ie&&this.type===hi&&Iu(t,this);if(this.type===hi){var e=this.figures.j,i=e.length;if(i!==(t=t.figures.j).length)return!1;for(var n=0;n<i;n++)if(!e[n].Qa(t[n]))return!1;return!0}return ti.A(this.startX,t.startX)&&ti.A(this.startY,t.startY)&&ti.A(this.endX,t.endX)&&ti.A(this.endY,t.endY)},Q.jb=function(t){t.classType===hr&&(this.type=t)},Q.toString=function(t){switch(void 0===t&&(t=-1),this.type){case Ie:return 0>t?"M"+this.startX.toString()+" "+this.startY.toString()+"L"+this.endX.toString()+" "+this.endY.toString():"M"+this.startX.toFixed(t)+" "+this.startY.toFixed(t)+"L"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);case Be:var e=new he(this.startX,this.startY,0,0);return e.Rw(this.endX,this.endY,0,0),0>t?"M"+e.x.toString()+" "+e.y.toString()+"H"+e.right.toString()+"V"+e.bottom.toString()+"H"+e.left.toString()+"z":"M"+e.x.toFixed(t)+" "+e.y.toFixed(t)+"H"+e.right.toFixed(t)+"V"+e.bottom.toFixed(t)+"H"+e.left.toFixed(t)+"z";case Qe:if((e=new he(this.startX,this.startY,0,0)).Rw(this.endX,this.endY,0,0),0>t)return"M"+(t=e.left.toString()+" "+(e.y+e.height/2).toString())+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+e.right.toString()+" "+(e.y+e.height/2).toString()+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+t;var i=e.left.toFixed(t)+" "+(e.y+e.height/2).toFixed(t);return"M"+i+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+e.right.toFixed(t)+" "+(e.y+e.height/2).toFixed(t)+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+i;case hi:e="";for(var n=(i=this.figures.j).length,r=0;r<n;r++){var l=i[r];0<r&&(e+=" x "),l.isFilled&&(e+="F "),e+=l.toString(t)}return e;default:return this.type.toString()}},Q.gw=function(){if(this.ra||this.Xr!==this.figures.Ba)return!0;for(var t=this.figures.j,e=t.length,i=0;i<e;i++)if(t[i].gw())return!0;return!1},hr.prototype.computeBounds=function(){this.ra=!1,this.ln=this.al=null,this.mn=NaN,this.Xr=this.figures.Ba;for(var t=this.figures.j,e=t.length,i=0;i<e;i++){var n=t[i];n.ra=!1;var r=n.segments;n.bt=r.Ba,r=(n=r.j).length;for(var l=0;l<r;l++){var v=n[l];v.ra=!1,v.Qd=null}}(t=this.Fr).ea(),isNaN(this.Dl)||isNaN(this.Cl)?t.h(0,0,0,0):t.h(0,0,this.Dl,this.Cl),ml(this,t,!1),Ln(t,0,0,0,0),t.freeze()},hr.prototype.ey=function(){var t=new he;return ml(this,t,!0),t},hr.prototype.normalize=function(){this.v&&it(this);var t=this.ey();return this.offset(-t.x,-t.y),new ht(-t.x,-t.y)},hr.prototype.offset=function(t,e){return this.v&&it(this),this.transform(1,0,0,1,t,e),this},hr.prototype.scale=function(t,e){return this.v&&it(this),this.transform(t,0,0,e,0,0),this},hr.prototype.rotate=function(t,e,i){this.v&&it(this),void 0===e&&(e=0),void 0===i&&(i=0);var n=or.alloc();return n.reset(),n.rotate(t,e,i),this.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),or.free(n),this},(Q=hr.prototype).transform=function(t,e,i,n,r,l){switch(this.type){case Ie:case Be:case Qe:var v=this.cd,_=this.dd;this.cd=v*t+_*i+r,this.dd=v*e+_*n+l,this.hc=(v=this.hc)*t+(_=this.oc)*i+r,this.oc=v*e+_*n+l;break;case hi:for(var D=this.figures.j,O=D.length,V=0;V<O;V++){var $=D[V];$.startX=(v=$.startX)*t+(_=$.startY)*i+r,$.startY=v*e+_*n+l;for(var vt=($=$.segments.j).length,kt=0;kt<vt;kt++){var bt=$[kt];switch(bt.type){case ie:case lr:bt.endX=(v=bt.endX)*t+(_=bt.endY)*i+r,bt.endY=v*e+_*n+l;break;case Le:bt.point1X=(v=bt.point1X)*t+(_=bt.point1Y)*i+r,bt.point1Y=v*e+_*n+l,bt.point2X=(v=bt.point2X)*t+(_=bt.point2Y)*i+r,bt.point2Y=v*e+_*n+l,bt.endX=(v=bt.endX)*t+(_=bt.endY)*i+r,bt.endY=v*e+_*n+l;break;case me:bt.point1X=(v=bt.point1X)*t+(_=bt.point1Y)*i+r,bt.point1Y=v*e+_*n+l,bt.endX=(v=bt.endX)*t+(_=bt.endY)*i+r,bt.endY=v*e+_*n+l;break;case Ve:bt.centerX=(v=bt.centerX)*t+(_=bt.centerY)*i+r,bt.centerY=v*e+_*n+l,0!==e&&(0>(v=180*Math.atan2(e,t)/Math.PI)&&(v+=360),bt.startAngle+=v),0>t&&(bt.startAngle=180-bt.startAngle,bt.sweepAngle=-bt.sweepAngle),0>n&&(bt.startAngle=-bt.startAngle,bt.sweepAngle=-bt.sweepAngle),bt.radiusX*=Math.sqrt(t*t+i*i),void 0!==bt.radiusY&&(bt.radiusY*=Math.sqrt(e*e+n*n));break;case vi:if(bt.endX=(v=bt.endX)*t+(_=bt.endY)*i+r,bt.endY=v*e+_*n+l,0===bt.radiusX||0===bt.radiusY)break;0!==e&&(0>(v=180*Math.atan2(e,t)/Math.PI)&&(v+=360),bt.xAxisRotation+=v),0>t&&(bt.xAxisRotation=180-bt.xAxisRotation,bt.isClockwiseArc=!bt.isClockwiseArc),0>n&&(bt.xAxisRotation=-bt.xAxisRotation,bt.isClockwiseArc=!bt.isClockwiseArc),bt.radiusX*=Math.sqrt(t*t+i*i),bt.radiusY*=Math.sqrt(e*e+n*n);break;default:U("Unknown Segment type: "+bt.type)}}}}return this.ra=!0,this},Q.$=function(t,e){void 0===e&&(e=0);var i=this.cd,n=this.dd,r=this.hc,l=this.oc;switch(this.type){case Ie:return ti.Nb(i,n,r,l,e,t.x,t.y);case Be:var v=he.allocAt(Math.min(i,r)-e,Math.min(n,l)-e,Math.abs(r-i)+2*e,Math.abs(l-n)+2*e);return t=v.$(t),he.free(v),t;case Qe:v=Math.min(i,r)-e;var _=Math.min(n,l)-e;return i=(Math.abs(r-i)+2*e)/2,e=(Math.abs(l-n)+2*e)/2,!(0>=i||0>=e)&&1>=(v=t.x-(v+i))*v/(i*i)+(_=t.y-(_+e))*_/(e*e);case hi:return gl(this,t,e,!0,!1);default:return!1}},Q.Xv=function(t,e){if(0>t?t=0:1<t&&(t=1),void 0===e&&(e=new ht),this.type===Ie)return e.h(this.startX+t*(this.endX-this.startX),this.startY+t*(this.endY-this.startY)),e;for(var i=this.flattenedSegments,n=this.flattenedLengths,r=i.length,l=this.flattenedTotalLength*t,v=0,_=0;_<r;_++){var D=n[_],O=D.length;for(t=0;t<O;t++){var V=D[t];if(v+V>=l)return n=l-v,e.h((_=(i=i[_])[2*t])+(i[2*t+2]-_)*(n=0===V?0:n/V),(r=i[2*t+1])+(i[2*t+3]-r)*n),e;v+=V}}return e},Q.vy=function(t){if(0>t?t=0:1<t&&(t=1),this.type===Ie)return 180*Math.atan2(this.endY-this.startY,this.endX-this.startX)/Math.PI;for(var e=this.flattenedSegments,i=this.flattenedLengths,n=e.length,r=this.flattenedTotalLength*t,l=0,v=0;v<n;v++){var _=i[v],D=_.length;for(t=0;t<D;t++){var O=_[t];if(l+O>=r)return e=(r=e[v])[2*t],i=r[2*t+1],n=r[2*t+2],t=r[2*t+3],1>Math.abs(n-e)&&1>Math.abs(t-i)?0:1>Math.abs(n-e)?0<=t-i?90:270:1>Math.abs(t-i)?0<=n-e?0:180:180*Math.atan2(t-i,n-e)/Math.PI;l+=O}}return NaN},Q.Yv=function(t,e){if(0>t?t=0:1<t&&(t=1),void 0===e&&(e=[]),e.length=3,this.type===Ie)return e[0]=this.startX+t*(this.endX-this.startX),e[1]=this.startY+t*(this.endY-this.startY),e[2]=180*Math.atan2(this.endY-this.startY,this.endX-this.startX)/Math.PI,e;for(var i=this.flattenedSegments,n=this.flattenedLengths,r=i.length,l=this.flattenedTotalLength*t,v=0,_=0;_<r;_++){var D=n[_],O=D.length;for(t=0;t<O;t++){var V=D[t];if(v+V>=l)return n=l-v,n=0===V?0:n/V,i=(V=i[_])[2*t],_=V[2*t+1],r=V[2*t+2],t=V[2*t+3],e[0]=i+(r-i)*n,e[1]=_+(t-_)*n,e[2]=1>Math.abs(r-i)&&1>Math.abs(t-_)?0:1>Math.abs(r-i)?0<=t-_?90:270:1>Math.abs(t-_)?0<=r-i?0:180:180*Math.atan2(t-_,r-i)/Math.PI,e;v+=V}}return e},Q.wy=function(t){if(this.type===Ie){var e=this.startX,i=this.startY,n=this.endX,r=this.endY;if(e!==n||i!==r){var l=t.x;if(t=t.y,e===n){if(i<r){var v=i;n=r}else v=r,n=i;return t<=v?v===i?0:1:t>=n?n===i?0:1:Math.abs(t-i)/(n-v)}if(i===r)return e<n?v=e:(v=n,n=e),l<=v?v===e?0:1:l>=n?n===e?0:1:Math.abs(l-e)/(n-v);v=(n-e)*(n-e)+(r-i)*(r-i);var _=ht.alloc();return ti.Qh(e,i,n,r,l,t,_),t=_.x,l=_.y,ht.free(_),Math.sqrt(((t-e)*(t-e)+(l-i)*(l-i))/v)}}else{if(this.type!==Be){e=this.flattenedSegments,i=this.flattenedLengths,l=this.flattenedTotalLength,n=ht.alloc(),r=1/0,_=v=0,D=e.length;for(var V=O=0,$=0;$<D;$++)for(var vt=e[$],kt=i[$],bt=vt.length,Wt=0;Wt<bt;Wt+=2){var de=vt[Wt],le=vt[Wt+1];if(0!==Wt){ti.Qh(O,V,de,le,t.x,t.y,n);var we=(n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y);we<r&&(r=we,v=_,v+=Math.sqrt((n.x-O)*(n.x-O)+(n.y-V)*(n.y-V))),_+=kt[(Wt-2)/2]}O=de,V=le}return ht.free(n),0>(t=v/l)?0:1<t?1:t}_=this.startY;var D=this.endX;if(r=this.endY,(v=this.startX)!==D||_!==r){l=2*(e=D-v)+2*(i=r-_),n=t.x,t=t.y,n=Math.min(Math.max(n,v),D),t=Math.min(Math.max(t,_),r),v=Math.abs(n-v),D=Math.abs(n-D),_=Math.abs(t-_),r=Math.abs(t-r);var O=Math.min(v,D,_,r);if(O===_)return n/l;if(O===D)return(e+t)/l;if(O===r)return(2*e+i-n)/l;if(O===v)return(2*e+2*i-t)/l}}return 0},Q.add=function(t){return this.Jj.add(t),this},Q.Zm=function(t,e,i,n,r,l,v,_){return this.v&&it(this),this.pf=new hn(t,e,r,l).freeze(),this.qf=new hn(i,n,v,_).freeze(),this},H.Object.defineProperties(hr.prototype,{flattenedSegments:{get:function(){return _i(this),this.al}},flattenedLengths:{get:function(){return _i(this),this.ln}},flattenedTotalLength:{get:function(){var t=this.mn;if(isNaN(t)){if(this.type===Ie){t=Math.abs(this.endX-this.startX);var e=Math.abs(this.endY-this.startY);t=Math.sqrt(t*t+e*e)}else if(this.type===Be)t=2*Math.abs(this.endX-this.startX)+2*Math.abs(this.endY-this.startY);else for(var i=(e=this.flattenedLengths).length,n=t=0;n<i;n++)for(var r=e[n],l=r.length,v=0;v<l;v++)t+=r[v];this.mn=t}return t}},type:{get:function(){return this.qa},set:function(t){this.qa!==t&&(this.v&&it(this,t),this.qa=t,this.ra=!0)}},startX:{get:function(){return this.cd},set:function(t){this.cd!==t&&(this.v&&it(this,t),this.cd=t,this.ra=!0)}},startY:{get:function(){return this.dd},set:function(t){this.dd!==t&&(this.v&&it(this,t),this.dd=t,this.ra=!0)}},endX:{get:function(){return this.hc},set:function(t){this.hc!==t&&(this.v&&it(this,t),this.hc=t,this.ra=!0)}},endY:{get:function(){return this.oc},set:function(t){this.oc!==t&&(this.v&&it(this,t),this.oc=t,this.ra=!0)}},figures:{get:function(){return this.Jj},set:function(t){this.Jj!==t&&(this.v&&it(this,t),this.Jj=t,this.ra=!0)}},spot1:{get:function(){return this.pf},set:function(t){this.v&&it(this,t),this.pf=t.H()}},spot2:{get:function(){return this.qf},set:function(t){this.v&&it(this,t),this.qf=t.H()}},defaultStretch:{get:function(){return this.Sf},set:function(t){this.v&&it(this,t),this.Sf=t}},bounds:{get:function(){return this.gw()&&this.computeBounds(),this.Fr}}}),hr.prototype.setSpots=hr.prototype.Zm,hr.prototype.add=hr.prototype.add,hr.prototype.getFractionForPoint=hr.prototype.wy,hr.prototype.getPointAndAngleAlongPath=hr.prototype.Yv,hr.prototype.getAngleAlongPath=hr.prototype.vy,hr.prototype.getPointAlongPath=hr.prototype.Xv,hr.prototype.containsPoint=hr.prototype.$,hr.prototype.transform=hr.prototype.transform,hr.prototype.rotate=hr.prototype.rotate,hr.prototype.scale=hr.prototype.scale,hr.prototype.offset=hr.prototype.offset,hr.prototype.normalize=hr.prototype.normalize,hr.prototype.computeBoundsWithoutOrigin=hr.prototype.ey,hr.prototype.equalsApprox=hr.prototype.Qa;var Ie=new St(hr,"Line",0),Be=new St(hr,"Rectangle",1),Qe=new St(hr,"Ellipse",2),hi=new St(hr,"Path",3),qi="UuBbMmZzLlHhVvCcSsQqTtAaFfXx";function an(t,e,i,n){Se(this),this.sx=null,this.v=!1,void 0===i&&(i=!0),this.js=i,void 0===n&&(n=!0),this.os=n,this.cd=void 0!==t?t:0,this.dd=void 0!==e?e:0,this.dm=new zt,this.bt=this.dm.Ba,this.ra=!0}function nn(t,e,i,n,r,l,v,_){Se(this),this.v=!1,void 0===t&&(t=ie),this.qa=t,this.hc=void 0!==e?e:0,this.oc=void 0!==i?i:0,void 0===n&&(n=0),void 0===r&&(r=0),void 0===l&&(l=0),void 0===v&&(v=0),t===vi?(0>(t=l%360)&&(t+=360),this.Ce=t,this.Qi=0,this.Ri=Math.max(n,0),this.qh=Math.max(r,0),this.Ll="boolean"==typeof v?v:"number"==typeof v&&!!v,this.el=!!_):(this.Ce=n,this.Qi=r,t===Ve&&(l=Math.max(l,0)),this.Ri=l,"number"==typeof v?(t===Ve&&(v=Math.max(v,0)),this.qh=v):this.qh=0,this.el=this.Ll=!1),this.Oj=!1,this.ra=!0,this.Qd=null}function Dn(t,e){if(null!==t.Qd&&!1===e.ra)return t.Qd;var i=t.radiusX,n=t.radiusY;if(void 0===n&&(n=i),0===i||0===n)return t.Qd=[],t.Qd;e=t.Ce;var r=t.Qi,l=ti.hy(0,0,i<n?i:n,t.startAngle,t.startAngle+t.sweepAngle,!1);if(i!==n){var v=or.alloc();v.reset(),i<n?v.scale(1,n/i):v.scale(i/n,1),ch(l,v),or.free(v)}for(i=l.length,n=0;n<i;n++)(v=l[n])[0]+=e,v[1]+=r,v[2]+=e,v[3]+=r,v[4]+=e,v[5]+=r,v[6]+=e,v[7]+=r;return t.Qd=l,t.Qd}function Pn(t,e,i,n){function r(Wt,de,le,we){return(Wt*we<de*le?-1:1)*Math.acos((Wt*le+de*we)/(Math.sqrt(Wt*Wt+de*de)*Math.sqrt(le*le+we*we)))}if(null!==t.Qd&&!1===e.ra)return t.Qd;if(0===t.radiusX||0===t.radiusY)return t.Qd=[],t.Qd;var l=t.qh;0===(e=t.Ri)&&(e=1e-4),0===l&&(l=1e-4);var v=Math.PI/180*t.Ce,_=t.Ll,D=t.el,O=t.hc,V=t.oc,$=Math.cos(v),vt=Math.sin(v),kt=$*(i-O)/2+vt*(n-V)/2,bt=kt*kt/(e*e)+(v=-vt*(i-O)/2+$*(n-V)/2)*v/(l*l);return 1<bt&&(e*=Math.sqrt(bt),l*=Math.sqrt(bt)),bt=(_===D?-1:1)*Math.sqrt((e*e*l*l-e*e*v*v-l*l*kt*kt)/(e*e*v*v+l*l*kt*kt)),isNaN(bt)&&(bt=0),_=bt*e*v/l,bt=bt*-l*kt/e,isNaN(_)&&(_=0),isNaN(bt)&&(bt=0),i=(i+O)/2+$*_-vt*bt,n=(n+V)/2+vt*_+$*bt,V=r(1,0,(kt-_)/e,(v-bt)/l),v=r($=(kt-_)/e,O=(v-bt)/l,kt=(-kt-_)/e,_=(-v-bt)/l),-1>=(kt=($*kt+O*_)/(Math.sqrt($*$+O*O)*Math.sqrt(kt*kt+_*_)))?v=Math.PI:1<=kt&&(v=0),!D&&0<v&&(v-=2*Math.PI),D&&0>v&&(v+=2*Math.PI),D=e>l?1:e/l,kt=e>l?l/e:1,e=ti.hy(0,0,e>l?e:l,V,V+v,!0),(l=or.alloc()).reset(),l.translate(i,n),l.rotate(t.Ce,0,0),l.scale(D,kt),ch(e,l),or.free(l),t.Qd=e,t.Qd}hr.className="Geometry",hr.stringify=za,hr.fillPath=function(t){for(var e=(t=t.split(/[Xx]/)).length,i="",n=0;n<e;n++){var r=t[n];i=null!==r.match(/[Ff]/)?0===n?i+r:i+"X"+(" "===r[0]?"":" ")+r:i+(0===n?"":"X ")+"F"+(" "===r[0]?"":" ")+r}return i},hr.parse=pa,hr.Line=Ie,hr.Rectangle=Be,hr.Ellipse=Qe,hr.Path=hi,an.prototype.copy=function(){var t=new an;t.js=this.js,t.os=this.os,t.cd=this.cd,t.dd=this.dd;for(var e=this.dm.j,i=e.length,n=t.dm,r=0;r<i;r++){var l=e[r].copy();n.add(l)}return t.bt=this.bt,t.ra=this.ra,t.sx=this.sx,t},(Q=an.prototype).Qa=function(t){if(!(t instanceof an&&ti.A(this.startX,t.startX)&&ti.A(this.startY,t.startY)))return!1;var e=this.segments.j,i=e.length;if(i!==(t=t.segments.j).length)return!1;for(var n=0;n<i;n++)if(!e[n].Qa(t[n]))return!1;return!0},Q.toString=function(t){void 0===t&&(t=-1);for(var e=0>t?"M"+this.startX.toString()+" "+this.startY.toString():"M"+this.startX.toFixed(t)+" "+this.startY.toFixed(t),i=this.segments.j,n=i.length,r=0;r<n;r++)e+=" "+i[r].toString(t);return e},Q.freeze=function(){this.v=!0;var t=this.segments;t.freeze();var e=t.j;t=t.length;for(var i=0;i<t;i++)e[i].freeze();return this},Q.ea=function(){this.v=!1;var t=this.segments;t.ea();for(var e=(t=t.j).length,i=0;i<e;i++)t[i].ea();return this},Q.gw=function(){if(this.ra)return!0;var t=this.segments;if(this.bt!==t.Ba)return!0;for(var e=(t=t.j).length,i=0;i<e;i++)if(t[i].ra)return!0;return!1},Q.add=function(t){return this.dm.add(t),this},Q.$=function(t,e,i){for(var n=this.startX,r=this.startY,l=n,v=r,_=this.segments.j,D=_.length,O=0;O<D;O++){var V=_[O];switch(V.type){case lr:l=V.endX,v=V.endY,n=V.endX,r=V.endY;break;case ie:if(ti.Nb(n,r,V.endX,V.endY,i,t,e))return!0;n=V.endX,r=V.endY;break;case Le:if(ti.yt(n,r,V.point1X,V.point1Y,V.point2X,V.point2Y,V.endX,V.endY,.5,t,e,i))return!0;n=V.endX,r=V.endY;break;case me:if(ti.qw(n,r,V.point1X,V.point1Y,V.endX,V.endY,.5,t,e,i))return!0;n=V.endX,r=V.endY;break;case Ve:case vi:var $=V.type===Ve?Dn(V,this):Pn(V,this,n,r),vt=$.length,kt=V.type===Ve?V.centerX:V.endX,bt=V.type===Ve?V.centerY:V.endY;if(0===vt){if(ti.Nb(n,r,kt,bt,i,t,e))return!0;n=kt,r=bt;break}for(kt=null,bt=0;bt<vt;bt++)if(kt=$[bt],0===bt&&ti.Nb(n,r,kt[0],kt[1],i,t,e)||ti.yt(kt[0],kt[1],kt[2],kt[3],kt[4],kt[5],kt[6],kt[7],.5,t,e,i))return!0;null!==kt&&(n=kt[6],r=kt[7]);break;default:U("Unknown Segment type: "+V.type)}if(V.isClosed&&(n!==l||r!==v)&&ti.Nb(n,r,l,v,i,t,e))return!0}return!1},H.Object.defineProperties(an.prototype,{isFilled:{get:function(){return this.js},set:function(t){this.v&&it(this,t),this.js=t}},isShadowed:{get:function(){return this.os},set:function(t){this.v&&it(this,t),this.os=t}},startX:{get:function(){return this.cd},set:function(t){this.v&&it(this,t),this.cd=t,this.ra=!0}},startY:{get:function(){return this.dd},set:function(t){this.v&&it(this,t),this.dd=t,this.ra=!0}},segments:{get:function(){return this.dm},set:function(t){this.v&&it(this,t),this.dm=t,this.ra=!0}}}),an.prototype.add=an.prototype.add,an.prototype.equalsApprox=an.prototype.Qa,an.className="PathFigure",nn.prototype.copy=function(){var t=new nn;return t.qa=this.qa,t.hc=this.hc,t.oc=this.oc,t.Ce=this.Ce,t.Qi=this.Qi,t.Ri=this.Ri,t.qh=this.qh,t.Ll=this.Ll,t.el=this.el,t.Oj=this.Oj,t.ra=this.ra,t},(Q=nn.prototype).Qa=function(t){if(!(t instanceof nn)||this.type!==t.type||this.isClosed!==t.isClosed)return!1;switch(this.type){case lr:case ie:return ti.A(this.endX,t.endX)&&ti.A(this.endY,t.endY);case Le:return ti.A(this.endX,t.endX)&&ti.A(this.endY,t.endY)&&ti.A(this.point1X,t.point1X)&&ti.A(this.point1Y,t.point1Y)&&ti.A(this.point2X,t.point2X)&&ti.A(this.point2Y,t.point2Y);case me:return ti.A(this.endX,t.endX)&&ti.A(this.endY,t.endY)&&ti.A(this.point1X,t.point1X)&&ti.A(this.point1Y,t.point1Y);case Ve:return ti.A(this.startAngle,t.startAngle)&&ti.A(this.sweepAngle,t.sweepAngle)&&ti.A(this.centerX,t.centerX)&&ti.A(this.centerY,t.centerY)&&ti.A(this.radiusX,t.radiusX)&&ti.A(this.radiusY,t.radiusY);case vi:return this.isClockwiseArc===t.isClockwiseArc&&this.isLargeArc===t.isLargeArc&&ti.A(this.xAxisRotation,t.xAxisRotation)&&ti.A(this.endX,t.endX)&&ti.A(this.endY,t.endY)&&ti.A(this.radiusX,t.radiusX)&&ti.A(this.radiusY,t.radiusY);default:return!1}},Q.jb=function(t){t.classType===nn&&(this.type=t)},Q.toString=function(t){switch(void 0===t&&(t=-1),this.type){case lr:t=0>t?"M"+this.endX.toString()+" "+this.endY.toString():"M"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case ie:t=0>t?"L"+this.endX.toString()+" "+this.endY.toString():"L"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case Le:t=0>t?"C"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.point2X.toString()+" "+this.point2Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():"C"+this.point1X.toFixed(t)+" "+this.point1Y.toFixed(t)+" "+this.point2X.toFixed(t)+" "+this.point2Y.toFixed(t)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case me:t=0>t?"Q"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():"Q"+this.point1X.toFixed(t)+" "+this.point1Y.toFixed(t)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case Ve:t=0>t?"B"+this.startAngle.toString()+" "+this.sweepAngle.toString()+" "+this.centerX.toString()+" "+this.centerY.toString()+" "+this.radiusX.toString()+" "+this.radiusY.toString():"B"+this.startAngle.toFixed(t)+" "+this.sweepAngle.toFixed(t)+" "+this.centerX.toFixed(t)+" "+this.centerY.toFixed(t)+" "+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t);break;case vi:t=0>t?"A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.xAxisRotation.toString()+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toString()+" "+this.endY.toString():"A"+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t)+" "+this.xAxisRotation.toFixed(t)+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;default:t=this.type.toString()}return t+(this.Oj?"z":"")},Q.freeze=function(){return this.v=!0,this},Q.ea=function(){return this.v=!1,this},Q.close=function(){return this.Oj=!0,this},H.Object.defineProperties(nn.prototype,{isClosed:{get:function(){return this.Oj},set:function(t){this.Oj!==t&&(this.Oj=t,this.ra=!0)}},type:{get:function(){return this.qa},set:function(t){this.v&&it(this,t),this.qa=t,this.ra=!0}},endX:{get:function(){return this.hc},set:function(t){this.v&&it(this,t),this.hc=t,this.ra=!0}},endY:{get:function(){return this.oc},set:function(t){this.v&&it(this,t),this.oc=t,this.ra=!0}},point1X:{get:function(){return this.Ce},set:function(t){this.v&&it(this,t),this.Ce=t,this.ra=!0}},point1Y:{get:function(){return this.Qi},set:function(t){this.v&&it(this,t),this.Qi=t,this.ra=!0}},point2X:{get:function(){return this.Ri},set:function(t){this.v&&it(this,t),this.Ri=t,this.ra=!0}},point2Y:{get:function(){return this.qh},set:function(t){this.v&&it(this,t),this.qh=t,this.ra=!0}},centerX:{get:function(){return this.Ce},set:function(t){this.v&&it(this,t),this.Ce=t,this.ra=!0}},centerY:{get:function(){return this.Qi},set:function(t){this.v&&it(this,t),this.Qi=t,this.ra=!0}},radiusX:{get:function(){return this.Ri},set:function(t){0>t&&ot(t,">= zero",nn,"radiusX"),this.v&&it(this,t),this.Ri=t,this.ra=!0}},radiusY:{get:function(){return this.qh},set:function(t){0>t&&ot(t,">= zero",nn,"radiusY"),this.v&&it(this,t),this.qh=t,this.ra=!0}},startAngle:{get:function(){return this.hc},set:function(t){this.hc!==t&&(this.v&&it(this,t),0>(t%=360)&&(t+=360),this.hc=t,this.ra=!0)}},sweepAngle:{get:function(){return this.oc},set:function(t){this.v&&it(this,t),360<t&&(t=360),-360>t&&(t=-360),this.oc=t,this.ra=!0}},isClockwiseArc:{get:function(){return this.el},set:function(t){this.v&&it(this,t),this.el=t,this.ra=!0}},isLargeArc:{get:function(){return this.Ll},set:function(t){this.v&&it(this,t),this.Ll=t,this.ra=!0}},xAxisRotation:{get:function(){return this.Ce},set:function(t){0>(t%=360)&&(t+=360),this.v&&it(this,t),this.Ce=t,this.ra=!0}}}),nn.prototype.equalsApprox=nn.prototype.Qa;var lr=new St(nn,"Move",0),ie=new St(nn,"Line",1),Le=new St(nn,"Bezier",2),me=new St(nn,"QuadraticBezier",3),Ve=new St(nn,"Arc",4),vi=new St(nn,"SvgArc",4);function yi(){this.B=null,this.yv=new ht(0,0).freeze(),this.Iu=new ht(0,0).freeze(),this.xr=this.zs=0,this.yr=1,this.Di="",this.st=this.Rr=!1,this.Or=this.Ar=0,this.Pg=this.bs=this.ms=!1,this.Wr=null,this.nt=0,this.pd=this.mt=null}function An(){this.B=null,this.oa="",this.Js=this.kt=null}function On(){this.wn=rn,this.gf=this.ys="",this.hp=this.ip=this.op=this.pp=this.np=this.B=this.cc=null}nn.className="PathSegment",nn.Move=lr,nn.Line=ie,nn.Bezier=Le,nn.QuadraticBezier=me,nn.Arc=Ve,nn.SvgArc=vi,yi.prototype.copy=function(){var t=new yi;return this.clone(t)},yi.prototype.clone=function(t){return t.B=this.B,t.yv.assign(this.viewPoint),t.Iu.assign(this.documentPoint),t.zs=this.zs,t.xr=this.xr,t.yr=this.yr,t.Di=this.Di,t.Rr=this.Rr,t.st=this.st,t.Ar=this.Ar,t.Or=this.Or,t.ms=this.ms,t.bs=this.bs,t.Pg=this.Pg,t.Wr=this.Wr,t.nt=this.nt,t.mt=this.mt,t.pd=this.pd,t},yi.prototype.toString=function(){var t="^";return 0!==this.modifiers&&(t+="M:"+this.modifiers),0!==this.button&&(t+="B:"+this.button),""!==this.key&&(t+="K:"+this.key),0!==this.clickCount&&(t+="C:"+this.clickCount),0!==this.delta&&(t+="D:"+this.delta),this.handled&&(t+="h"),this.bubbles&&(t+="b"),null!==this.documentPoint&&(t+="@"+this.documentPoint.toString()),t},yi.prototype.Jq=function(t,e){var i=this.diagram;return null===i||Vd(i,this.event,t,e),e},yi.prototype.mA=function(t,e){var i=this.diagram;return null===i||(Vd(i,this.event,t,e),e.assign(i.ou(e))),e},H.Object.defineProperties(yi.prototype,{diagram:{get:function(){return this.B},set:function(t){this.B=t}},viewPoint:{get:function(){return this.yv},set:function(t){this.yv.assign(t)}},documentPoint:{get:function(){return this.Iu},set:function(t){this.Iu.assign(t)}},modifiers:{get:function(){return this.zs},set:function(t){this.zs=t}},button:{get:function(){return this.xr},set:function(t){if(this.xr=t,null===this.event)switch(t){case 0:this.buttons=1;break;case 1:this.buttons=4;break;case 2:this.buttons=2}}},buttons:{get:function(){return this.yr},set:function(t){this.yr=t}},key:{get:function(){return this.Di},set:function(t){this.Di=t}},down:{get:function(){return this.Rr},set:function(t){this.Rr=t}},up:{get:function(){return this.st},set:function(t){this.st=t}},clickCount:{get:function(){return this.Ar},set:function(t){this.Ar=t}},delta:{get:function(){return this.Or},set:function(t){this.Or=t}},isMultiTouch:{get:function(){return this.ms},set:function(t){this.ms=t}},handled:{get:function(){return this.bs},set:function(t){this.bs=t}},bubbles:{get:function(){return this.Pg},set:function(t){this.Pg=t}},event:{get:function(){return this.Wr},set:function(t){this.Wr=t}},isTouchEvent:{get:function(){var t=B.TouchEvent,e=this.event;return!!(t&&e instanceof t)||(t=B.PointerEvent)&&e instanceof t&&("touch"===e.pointerType||"pen"===e.pointerType)}},timestamp:{get:function(){return this.nt},set:function(t){this.nt=t}},targetDiagram:{get:function(){return this.mt},set:function(t){this.mt=t}},targetObject:{get:function(){return this.pd},set:function(t){this.pd=t}},control:{get:function(){return 0!=(1&this.modifiers)},set:function(t){this.modifiers=t?1|this.modifiers:-2&this.modifiers}},shift:{get:function(){return 0!=(4&this.modifiers)},set:function(t){this.modifiers=t?4|this.modifiers:-5&this.modifiers}},alt:{get:function(){return 0!=(2&this.modifiers)},set:function(t){this.modifiers=t?2|this.modifiers:-3&this.modifiers}},meta:{get:function(){return 0!=(8&this.modifiers)},set:function(t){this.modifiers=t?8|this.modifiers:-9&this.modifiers}},left:{get:function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!=(1&this.buttons):0===this.button},set:function(t){this.buttons=t?1|this.buttons:-2&this.buttons}},right:{get:function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!=(2&this.buttons):2===this.button},set:function(t){this.buttons=t?2|this.buttons:-3&this.buttons}},middle:{get:function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!=(4&this.buttons):1===this.button},set:function(t){this.buttons=t?4|this.buttons:-5&this.buttons}}}),yi.prototype.getMultiTouchDocumentPoint=yi.prototype.mA,yi.prototype.getMultiTouchViewPoint=yi.prototype.Jq,yi.className="InputEvent",An.prototype.copy=function(){var t=new An;return t.B=this.B,t.oa=this.oa,t.kt=this.kt,t.Js=this.Js,t},An.prototype.toString=function(){var t="*"+this.name;return null!==this.subject&&(t+=":"+this.subject.toString()),null!==this.parameter&&(t+="("+this.parameter.toString()+")"),t},H.Object.defineProperties(An.prototype,{diagram:{get:function(){return this.B},set:function(t){this.B=t}},name:{get:function(){return this.oa},set:function(t){this.oa=t}},subject:{get:function(){return this.kt},set:function(t){this.kt=t}},parameter:{get:function(){return this.Js},set:function(t){this.Js=t}}}),An.className="DiagramEvent",On.prototype.clear=function(){this.hp=this.ip=this.op=this.pp=this.np=this.B=this.cc=null},On.prototype.copy=function(){var t=new On;t.wn=this.wn,t.ys=this.ys,t.gf=this.gf,t.cc=this.cc,t.B=this.B,t.np=this.np;var e=this.pp;return t.pp=xt(e)&&"function"==typeof e.H?e.H():e,t.op=xt(e=this.op)&&"function"==typeof e.H?e.H():e,t.ip=xt(e=this.ip)&&"function"==typeof e.H?e.H():e,t.hp=xt(e=this.hp)&&"function"==typeof e.H?e.H():e,t},On.prototype.jb=function(t){t.classType===On&&(this.change=t)},On.prototype.toString=function(){var t="";return t=this.change===Cr?t+"* ":this.change===rn?t+(null!==this.model?"!m":"!d"):t+(null!==this.model?"!m":"!d")+this.change,this.propertyName&&"string"==typeof this.propertyName&&(t+=" "+this.propertyName),this.modelChange&&this.modelChange!==this.propertyName&&(t+=" "+this.modelChange),t+=": ",this.change===Cr?null!==this.oldValue&&(t+=" "+this.oldValue):(null!==this.object&&(t+=p(this.object)),null!==this.oldValue&&(t+="  old: "+p(this.oldValue)),null!==this.oldParam&&(t+=" "+this.oldParam),null!==this.newValue&&(t+="  new: "+p(this.newValue)),null!==this.newParam&&(t+=" "+this.newParam)),t},On.prototype.G=function(t){return t?this.oldValue:this.newValue},On.prototype.oA=function(t){return t?this.oldParam:this.newParam},On.prototype.canUndo=function(){return null!==this.model||null!==this.diagram},On.prototype.undo=function(){this.canUndo()&&(null!==this.model?this.model.changeState(this,!0):null!==this.diagram&&this.diagram.changeState(this,!0))},On.prototype.canRedo=function(){return null!==this.model||null!==this.diagram},On.prototype.redo=function(){this.canRedo()&&(null!==this.model?this.model.changeState(this,!1):null!==this.diagram&&this.diagram.changeState(this,!1))},H.Object.defineProperties(On.prototype,{model:{get:function(){return this.cc},set:function(t){this.cc=t}},diagram:{get:function(){return this.B},set:function(t){this.B=t}},change:{get:function(){return this.wn},set:function(t){this.wn=t}},modelChange:{get:function(){return this.ys},set:function(t){this.ys=t}},propertyName:{get:function(){return this.gf},set:function(t){this.gf=t}},isTransactionFinished:{get:function(){return this.wn===Cr&&("CommittedTransaction"===this.gf||"FinishedUndo"===this.gf||"FinishedRedo"===this.gf)}},object:{get:function(){return this.np},set:function(t){this.np=t}},oldValue:{get:function(){return this.pp},set:function(t){this.pp=t}},oldParam:{get:function(){return this.op},set:function(t){this.op=t}},newValue:{get:function(){return this.ip},set:function(t){this.ip=t}},newParam:{get:function(){return this.hp},set:function(t){this.hp=t}}}),On.prototype.redo=On.prototype.redo,On.prototype.canRedo=On.prototype.canRedo,On.prototype.undo=On.prototype.undo,On.prototype.canUndo=On.prototype.canUndo,On.prototype.getParam=On.prototype.oA,On.prototype.getValue=On.prototype.G,On.prototype.clear=On.prototype.clear;var Cr=new St(On,"Transaction",-1),rn=new St(On,"Property",0),gn=new St(On,"Insert",1),wn=new St(On,"Remove",2);function Mn(){this.u=(new zt).freeze(),this.oa="",this.l=!1}function vr(){this.gv=new Pt,this.md=!1,this.I=(new zt).freeze(),this.Xd=-1,this.u=999,this.se=!1,this.Lr=null,this.Yi=0,this.l=!1,this.ye=(new zt).freeze(),this.Tl=new zt,this.Qu=!0,this.Wu=this.ks=this.$u=this.Zu=!1}function Qo(t,e,i){if(t.isUndoingRedoing)return!1;t.checksTransactionLevel&&1>t.transactionLevel&&lt("Ending transaction without having started a transaction: "+i);var n=1===t.transactionLevel,r=t.currentTransaction;n&&e&&(t.isInternalTransaction||t.Bb("CommittingTransaction",i,r));var l=0;if(0<t.transactionLevel&&(t.Yi--,t.isEnabled)){var v=t.ye.count;0<v&&(""===i&&(i=t.ye.J(0)),t.ye.ea(),t.ye.cb(v-1),t.ye.freeze()),0<(v=t.Tl.count)&&(l=t.Tl.J(v-1),t.Tl.cb(v-1))}if(n){if(e){if(t.ks=!1,null===r&&""!==i&&(r=t.currentTransaction),t.isEnabled&&null!==r){for(r.isComplete||(r.isComplete=!0,r.name=i),(e=t.history).ea(),n=e.count-1;n>t.historyIndex;n--)null!==(l=e.J(n))&&l.clear(),e.cb(n),t.ks=!0;0<=(n=t.maxHistoryLength)&&(0===n?e.clear():e.count>=n&&(null!==(l=e.J(0))&&l.clear(),e.cb(0),t.Xd--)),0===n||0!==e.count&&e.get(e.count-1)===r||(e.add(r),t.Xd++),e.freeze()}t.isInternalTransaction||t.Bb("CommittedTransaction",i,r)}else{t.se=!0;try{t.isEnabled&&null!==r&&(r.isComplete=!0,r.undo())}finally{t.isInternalTransaction||t.Bb("RolledBackTransaction",i,r),t.se=!1}null!==r&&r.clear()}return t.Lr=null,t.isPendingClear&&t.clear(),t.isPendingClear=!1,t.isPendingUnmodified=!1,!0}if(t.isEnabled&&!e&&null!==r){for(t=l,r=(i=r.changes).count-1;r>=t;r--)null!==(e=i.J(r))&&e.undo(),i.ea(),i.cb(r);i.freeze()}return!1}function zn(){Se(this),this.B=$d,this.oa="",this.md=!0,this.Sc=!1,this.ix=null,this.lz=new yi,this.vt=-1}function jr(){zn.call(this),this.name="ToolManager",this.Cc=new zt,this.Tc=new zt,this.Od=new zt,this.T=this.Ka=850,this.u=new De(2,2).ca(),this.eb=5e3,this.La=ka,this.I=Ac,this.Kr=this.l=null,this.ik=-1}function vl(t,e){t.standardMouseOver(),t.isBeyondDragSize()&&t.standardWaitAfter(t.isActive?t.holdDelay:t.hoverDelay,e.lastInput)}On.className="ChangedEvent",On.Transaction=Cr,On.Property=rn,On.Insert=gn,On.Remove=wn,Mn.prototype.toString=function(t){var e="Transaction: "+this.name+" "+this.changes.count.toString()+(this.isComplete?"":", incomplete");if(void 0!==t&&0<t){t=this.changes.count;for(var i=0;i<t;i++){var n=this.changes.J(i);null!==n&&(e+="\n  "+n.toString())}}return e},Mn.prototype.clear=function(){var t=this.changes;t.ea();for(var e=t.count-1;0<=e;e--){var i=t.J(e);null!==i&&i.clear()}t.clear(),t.freeze()},Mn.prototype.canUndo=function(){return this.isComplete},Mn.prototype.undo=function(){if(this.canUndo())for(var t=this.changes.count-1;0<=t;t--){var e=this.changes.J(t);null!==e&&e.undo()}},Mn.prototype.canRedo=function(){return this.isComplete},Mn.prototype.redo=function(){if(this.canRedo())for(var t=this.changes.count,e=0;e<t;e++){var i=this.changes.J(e);null!==i&&i.redo()}},Mn.prototype.nw=function(){if(this.isComplete){var t=this.changes;t.ea();for(var e=new yt,i=0;i<t.count;i++){var n=t.J(i);if(null!==n&&n.change===rn&&n.object){var r=e.get(n.object);r||(r=new yt,e.set(n.object,r));var l=r.get(n.propertyName);null===l?r.set(n.propertyName,-1):(0<l&&t.Pc(l,null),r.set(n.propertyName,i))}}for(i=e=0;i<t.count;i++)null!==(n=t.J(i))&&(i>e&&t.Pc(e,n),e++);for(;t.length>e;)t.pop();t.freeze()}},H.Object.defineProperties(Mn.prototype,{changes:{get:function(){return this.u}},name:{get:function(){return this.oa},set:function(t){this.oa=t}},isComplete:{get:function(){return this.l},set:function(t){this.l=t}}}),Mn.prototype.optimize=Mn.prototype.nw,Mn.prototype.redo=Mn.prototype.redo,Mn.prototype.canRedo=Mn.prototype.canRedo,Mn.prototype.undo=Mn.prototype.undo,Mn.prototype.canUndo=Mn.prototype.canUndo,Mn.prototype.clear=Mn.prototype.clear,Mn.className="Transaction",vr.prototype.toString=function(t){var e="UndoManager "+this.historyIndex+"<"+this.history.count+"<="+this.maxHistoryLength;e+="[";for(var i=this.nestedTransactionNames.count,n=0;n<i;n++)0<n&&(e+=" "),e+=this.nestedTransactionNames.J(n);if(e+="]",void 0!==t&&0<t)for(i=this.history.count,n=0;n<i;n++)e+="\n "+this.history.J(n).toString(t-1);return e},vr.prototype.clear=function(){var t=this.history;t.ea();for(var e=t.count-1;0<=e;e--){var i=t.J(e);null!==i&&i.clear()}t.clear(),this.Xd=-1,t.freeze(),this.se=!1,this.Lr=null,this.Yi=0,this.ye.ea(),this.ye.clear(),this.ye.freeze(),this.Tl.clear(),this.Wu=this.ks=this.$u=this.Zu=!1},vr.prototype.copyProperties=function(t){this.isEnabled=t.isEnabled,this.maxHistoryLength=t.maxHistoryLength,this.checksTransactionLevel=t.checksTransactionLevel},(Q=vr.prototype).Vx=function(t){this.gv.add(t)},Q.Py=function(t){this.gv.remove(t)},Q.xa=function(t){if(void 0===t&&(t=""),null===t&&(t=""),this.isUndoingRedoing)return!1;!0===this.Qu&&(this.Qu=!1,this.Yi++,this.isInternalTransaction||this.Bb("StartingFirstTransaction",t,this.currentTransaction),0<this.Yi&&this.Yi--),this.isEnabled&&(this.ye.ea(),this.ye.add(t),this.ye.freeze(),this.Tl.add(null===this.currentTransaction?0:this.currentTransaction.changes.count)),this.Yi++;var e=1===this.transactionLevel;return e&&(this.isInternalTransaction||this.Bb("StartedTransaction",t,this.currentTransaction)),e},Q.Xa=function(t){return void 0===t&&(t=""),Qo(this,!0,t)},Q.If=function(){return Qo(this,!1,"")},vr.prototype.canUndo=function(){if(!this.isEnabled||0<this.transactionLevel)return!1;var t=this.transactionToUndo;return!(null===t||!t.canUndo())},vr.prototype.undo=function(){if(this.canUndo()){var t=this.transactionToUndo;try{this.se=!0,this.Bb("StartingUndo","Undo",t),this.Xd--,t.undo()}catch(e){lt("undo error: "+e.toString())}finally{this.Bb("FinishedUndo","Undo",t),this.se=!1}}},vr.prototype.canRedo=function(){if(!this.isEnabled||0<this.transactionLevel)return!1;var t=this.transactionToRedo;return!(null===t||!t.canRedo())},vr.prototype.redo=function(){if(this.canRedo()){var t=this.transactionToRedo;try{this.se=!0,this.Bb("StartingRedo","Redo",t),this.Xd++,t.redo()}catch(e){lt("redo error: "+e.toString())}finally{this.Bb("FinishedRedo","Redo",t),this.se=!1}}},vr.prototype.Bb=function(t,e,i){void 0===i&&(i=null);var n=new On;for(n.change=Cr,n.propertyName=t,n.object=i,n.oldValue=e,t=this.models;t.next();)n.model=e=t.value,e.zt(n)},vr.prototype.aw=function(t){if(this.isEnabled&&!this.isUndoingRedoing&&!this.skipsEvent(t)){var e=this.currentTransaction;null===e&&(this.Lr=e=new Mn);var i=t.copy();(e=e.changes).ea(),e.add(i),e.freeze(),this.checksTransactionLevel&&0>=this.transactionLevel&&!this.Qu&&(null!==(t=t.diagram)&&!1===t.pj||lt("Change not within a transaction: "+i.toString()))}},vr.prototype.skipsEvent=function(t){if(null===t||0>t.change.value)return!0;if(null===(t=t.object))return!1;if(void 0!==t.layer){if(null!==(t=t.layer)&&t.isTemporary)return!0}else if(t.isTemporary)return!0;return!1},H.Object.defineProperties(vr.prototype,{models:{get:function(){return this.gv.iterator}},isEnabled:{get:function(){return this.md},set:function(t){this.md=t}},transactionToUndo:{get:function(){return 0<=this.historyIndex&&this.historyIndex<=this.history.count-1?this.history.J(this.historyIndex):null}},transactionToRedo:{get:function(){return this.historyIndex<this.history.count-1?this.history.J(this.historyIndex+1):null}},isUndoingRedoing:{get:function(){return this.se}},history:{get:function(){return this.I}},maxHistoryLength:{get:function(){return this.u},set:function(t){this.u=t}},historyIndex:{get:function(){return this.Xd}},currentTransaction:{get:function(){return this.Lr}},transactionLevel:{get:function(){return this.Yi}},isInTransaction:{get:function(){return 0<this.Yi}},checksTransactionLevel:{get:function(){return this.l},set:function(t){this.l=t}},nestedTransactionNames:{get:function(){return this.ye}},isPendingClear:{get:function(){return this.Zu},set:function(t){this.Zu=t}},isPendingUnmodified:{get:function(){return this.$u},set:function(t){this.$u=t}},isInternalTransaction:{get:function(){return this.Wu},set:function(t){this.Wu=t}},isJustDiscarded:{get:function(){return this.ks}}}),vr.prototype.handleChanged=vr.prototype.aw,vr.prototype.redo=vr.prototype.redo,vr.prototype.undo=vr.prototype.undo,vr.prototype.canUndo=vr.prototype.canUndo,vr.prototype.rollbackTransaction=vr.prototype.If,vr.prototype.commitTransaction=vr.prototype.Xa,vr.prototype.startTransaction=vr.prototype.xa,vr.prototype.removeModel=vr.prototype.Py,vr.prototype.addModel=vr.prototype.Vx,vr.prototype.clear=vr.prototype.clear,vr.className="UndoManager",zn.prototype.toString=function(){return""!==this.name?this.name+" Tool":g(this.constructor)},zn.prototype.updateAdornments=function(){},zn.prototype.canStart=function(){return this.isEnabled},zn.prototype.doStart=function(){},zn.prototype.doActivate=function(){this.isActive=!0},zn.prototype.doDeactivate=function(){this.isActive=!1},zn.prototype.doStop=function(){},zn.prototype.doCancel=function(){this.transactionResult=null,this.stopTool()},zn.prototype.stopTool=function(){var t=this.diagram;t.currentTool===this&&(t.currentTool=null,t.currentCursor="")},zn.prototype.doMouseDown=function(){!this.isActive&&this.canStart()&&this.doActivate()},zn.prototype.doMouseMove=function(){},zn.prototype.doMouseUp=function(){this.stopTool()},zn.prototype.doMouseWheel=function(){},zn.prototype.canStartMultiTouch=function(){return!0},zn.prototype.standardPinchZoomStart=function(){var t=this.diagram,e=t.lastInput,i=e.Jq(0,ht.allocAt(NaN,NaN)),n=e.Jq(1,ht.allocAt(NaN,NaN));if(i.o()&&n.o()&&(this.doCancel(),t.Bm("hasGestureZoom"))){t.Vl=t.scale;var r=n.x-i.x,l=n.y-i.y;t.sv=Math.sqrt(r*r+l*l),e.bubbles=!1}ht.free(i),ht.free(n)},zn.prototype.standardPinchZoomMove=function(){var t=this.diagram,e=t.lastInput,i=e.Jq(0,ht.allocAt(NaN,NaN)),n=e.Jq(1,ht.allocAt(NaN,NaN));if(i.o()&&n.o()&&(this.doCancel(),t.Bm("hasGestureZoom"))){var r=n.x-i.x,l=n.y-i.y;l=Math.sqrt(r*r+l*l)/t.sv,r=new ht((Math.min(n.x,i.x)+Math.max(n.x,i.x))/2,(Math.min(n.y,i.y)+Math.max(n.y,i.y))/2);var v=t.commandHandler;if((l*=t.Vl)!==t.scale&&v.canResetZoom(l)){var _=t.zoomPoint;t.zoomPoint=r,v.resetZoom(l),t.zoomPoint=_}e.bubbles=!1}ht.free(i),ht.free(n)},zn.prototype.doKeyDown=function(){"Esc"===this.diagram.lastInput.key&&this.doCancel()},zn.prototype.doKeyUp=function(){},zn.prototype.xa=function(t){return void 0===t&&(t=this.name),this.transactionResult=null,this.diagram.xa(t)},zn.prototype.Jg=function(){var t=this.diagram;return null===this.transactionResult?t.If():t.Xa(this.transactionResult)},zn.prototype.standardMouseSelect=function(){var t=this.diagram;if(t.allowSelect){var e=t.lastInput,i=t.zm(e.documentPoint,!1);if(null!==i){if(at?e.meta:e.control){for(t.R("ChangingSelection",t.selection),e=i;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&(e.isSelected=!e.isSelected),t.R("ChangedSelection",t.selection)}else if(e.shift){if(!i.isSelected){for(t.R("ChangingSelection",t.selection),e=i;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&(e.isSelected=!0),t.R("ChangedSelection",t.selection)}}else if(!i.isSelected){for(e=i;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&t.select(e)}}else!e.left||(at?e.meta:e.control)||e.shift||t.clearSelection()}},zn.prototype.standardMouseClick=function(t,e){void 0===t&&(t=null),void 0===e&&(e=function(r){return!r.layer.isTemporary});var i=this.diagram,n=i.lastInput;return t=i.Vb(n.documentPoint,t,e),n.targetObject=t,function(t,e,i){if(e.handled=!1,null===t||t.Hg()){var n=0;e.left?n=1===e.clickCount?1:2===e.clickCount?2:1:e.right&&1===e.clickCount&&(n=3);var r="ObjectSingleClicked";if(null!==t){switch(n){case 1:r="ObjectSingleClicked";break;case 2:r="ObjectDoubleClicked";break;case 3:r="ObjectContextClicked"}0!==n&&i.R(r,t)}else{switch(n){case 1:r="BackgroundSingleClicked";break;case 2:r="BackgroundDoubleClicked";break;case 3:r="BackgroundContextClicked"}0!==n&&i.R(r)}if(null!==t)for(;null!==t;){switch(i=null,n){case 1:i=t.click;break;case 2:i=t.doubleClick?t.doubleClick:t.click;break;case 3:i=t.contextClick}if(null!==i&&(i(e,t),e.handled))break;t=t.panel}else{switch(t=null,n){case 1:t=i.click;break;case 2:t=i.doubleClick?i.doubleClick:i.click;break;case 3:t=i.contextClick}null!==t&&t(e)}}}(t,n,i),n.handled},zn.prototype.standardMouseOver=function(){var t=this.diagram,e=t.lastInput;if(!0!==t.animationManager.sc){var i=t.skipsUndoManager;t.skipsUndoManager=!0;var n=t.viewportBounds.$(e.documentPoint)?t.Vb(e.documentPoint,null,null):null;e.targetObject=n;var r=!1;if(n!==t.Ej){var l=t.Ej,v=l;for(t.Ej=n,this.doCurrentObjectChanged(l,n),e.handled=!1;null!==l;){var _=l.mouseLeave;if(null!==_&&(n===l||null!==n&&n.Gg(l)||(_(e,l,n),r=!0,e.handled)))break;l=l.panel}for(l=v,e.handled=!1;null!==n&&(null===(v=n.mouseEnter)||!(l===n||null!==l&&l.Gg(n)||(v(e,n,l),r=!0,e.handled)));)n=n.panel;n=t.Ej}if(null!==n){for(l=n,v="";null!==l&&""===(v=l.cursor);)l=l.panel;for(t.currentCursor=v,e.handled=!1,l=n;null!==l&&(null===(n=l.mouseOver)||(n(e,l),r=!0,!e.handled));)l=l.panel}else t.currentCursor="",null!==(n=t.mouseOver)&&(n(e),r=!0);r&&t.Db(),t.skipsUndoManager=i}},zn.prototype.doCurrentObjectChanged=function(){},zn.prototype.standardMouseWheel=function(){var t=this.diagram,e=t.lastInput,i=e.delta;if(0!==i&&t.documentBounds.o()){var n=t.commandHandler,r=t.toolManager.mouseWheelBehavior;if(null!==n&&(r===Ja&&!e.shift||r===ka&&e.control))(0<i?n.canIncreaseZoom():n.canDecreaseZoom())&&(r=t.zoomPoint,t.zoomPoint=e.viewPoint,0<i?n.increaseZoom():n.decreaseZoom(),t.zoomPoint=r),e.bubbles=!1;else if(r===Ja&&e.shift||r===ka&&!e.control){n=t.position.copy();var l=0<i?i:-i,v=e.event,_=v.deltaMode;if(r=v.deltaX,v=v.deltaY,(h||k||ft)&&(_=1,0<r&&(r=3),0>r&&(r=-3),0<v&&(v=3),0>v&&(v=-3)),void 0===_||void 0===r||void 0===v||0===r&&0===v||e.shift)!e.shift&&t.allowVerticalScroll?t.scroll("pixel",0<i?"up":"down",l=3*l*t.scrollVerticalLineChange):e.shift&&t.allowHorizontalScroll&&t.scroll("pixel",0<i?"left":"right",l=3*l*t.scrollHorizontalLineChange);else{switch(_){default:i="pixel";break;case 1:i="line";break;case 2:i="page"}0!==r&&t.allowHorizontalScroll&&(0<(r*=t.scrollHorizontalLineChange/16)?t.scroll(i,"left",-r):t.scroll(i,"right",r)),0!==v&&t.allowVerticalScroll&&(0<(v*=t.scrollVerticalLineChange/16)?t.scroll(i,"up",-v):t.scroll(i,"down",v))}t.position.w(n)||(e.bubbles=!1)}}},zn.prototype.standardWaitAfter=function(t,e){void 0===e&&(e=this.diagram.lastInput),this.cancelWaitAfter();var i=this,n=e.clone(this.lz);this.vt=Y(function(){i.doWaitAfter(n)},t)},zn.prototype.cancelWaitAfter=function(){-1!==this.vt&&B.clearTimeout(this.vt),this.vt=-1},zn.prototype.doWaitAfter=function(){},zn.prototype.findToolHandleAt=function(t,e){return null===(t=this.diagram.Vb(t,function(i){for(;null!==i&&!(i.panel instanceof Ji);)i=i.panel;return i}))?null:t.part.category===e?t:null},zn.prototype.isBeyondDragSize=function(t,e){var i=this.diagram;void 0===t&&(t=i.firstInput.viewPoint),void 0===e&&(e=i.lastInput.viewPoint);var n=i.toolManager.dragSize,r=n.width;return n=n.height,i.firstInput.isTouchEvent&&(r+=6,n+=6),Math.abs(e.x-t.x)>r||Math.abs(e.y-t.y)>n},H.Object.defineProperties(zn.prototype,{diagram:{get:function(){return this.B},set:function(t){t instanceof di&&(this.B=t)}},name:{get:function(){return this.oa},set:function(t){this.oa=t}},isEnabled:{get:function(){return this.md},set:function(t){this.md=t}},isActive:{get:function(){return this.Sc},set:function(t){this.Sc=t}},transactionResult:{get:function(){return this.ix},set:function(t){this.ix=t}}}),zn.prototype.stopTransaction=zn.prototype.Jg,zn.prototype.startTransaction=zn.prototype.xa,zn.className="Tool",Z(jr,zn),jr.prototype.initializeStandardTools=function(){},jr.prototype.updateAdornments=function(t){var e=this.currentToolTip;if(e instanceof Ji&&this.Kr===t){var i=e.adornedObject;(null!==t?i.part===t:null===i)?this.showToolTip(e,i):this.hideToolTip()}},jr.prototype.doMouseDown=function(){var t=this.diagram,e=t.lastInput;if(e.isTouchEvent&&this.gestureBehavior===Yn&&(e.bubbles=!1),e.isMultiTouch){if(this.cancelWaitAfter(),this.gestureBehavior===no)return void(e.bubbles=!0);if(this.gestureBehavior===Yn)return;if(t.currentTool.canStartMultiTouch())return void t.currentTool.standardPinchZoomStart()}for(var i=this.mouseDownTools.length,n=0;n<i;n++){var r=this.mouseDownTools.J(n);if(r.diagram=this.diagram,r.canStart())return t.doFocus(),t.currentTool=r,void(t.currentTool===r&&(r.isActive||r.doActivate(),r.doMouseDown()))}1===t.lastInput.button&&(this.mouseWheelBehavior===ka?this.mouseWheelBehavior=Ja:this.mouseWheelBehavior===Ja&&(this.mouseWheelBehavior=ka)),this.doActivate(),this.standardWaitAfter(this.holdDelay,e)},jr.prototype.doMouseMove=function(){var t=this.diagram,e=t.lastInput;if(e.isMultiTouch){if(this.gestureBehavior===no)return void(e.bubbles=!0);if(this.gestureBehavior===Yn)return;if(t.currentTool.canStartMultiTouch())return void t.currentTool.standardPinchZoomMove()}if(this.isActive)for(var i=this.mouseMoveTools.length,n=0;n<i;n++){var r=this.mouseMoveTools.J(n);if(r.diagram=this.diagram,r.canStart())return t.doFocus(),t.currentTool=r,void(t.currentTool===r&&(r.isActive||r.doActivate(),r.doMouseMove()))}vl(this,t),null===(t=e.event)||"mousemove"!==t.type&&"pointermove"!==t.type&&t.cancelable||(e.bubbles=!0)},jr.prototype.doCurrentObjectChanged=function(t,e){null===(t=this.currentToolTip)||null!==e&&t instanceof Ji&&(e===t||e.Gg(t))||this.hideToolTip()},jr.prototype.doWaitAfter=function(t){var e=this.diagram;e.ya&&(this.doMouseHover(),this.isActive||this.doToolTip(),t.isTouchEvent&&!e.lastInput.handled&&((t=t.copy()).button=2,t.buttons=2,e.lastInput=t,e.hk=!0,e.doMouseUp()))},jr.prototype.doMouseHover=function(){var t=this.diagram,e=t.lastInput;null===e.targetObject&&(e.targetObject=t.Vb(e.documentPoint,null,null));var i=e.targetObject;if(null!==i)for(e.handled=!1;null!==i&&(null===(t=this.isActive?i.mouseHold:i.mouseHover)||(t(e,i),!e.handled));)i=i.panel;else null!==(i=this.isActive?t.mouseHold:t.mouseHover)&&i(e)},jr.prototype.doToolTip=function(){var t=this.diagram,e=t.lastInput;if(null===e.targetObject&&(e.targetObject=t.Vb(e.documentPoint,null,null)),null!==(e=e.targetObject)){if(!((t=this.currentToolTip)instanceof Ji)||e!==t&&!e.Gg(t)){for(;null!==e;){if(null!==(t=e.toolTip))return void this.showToolTip(t,e);e=e.panel}this.hideToolTip()}}else null!==(e=t.toolTip)?this.showToolTip(e,null):this.hideToolTip()},jr.prototype.showToolTip=function(t,e){var i=this.diagram;if(t!==this.currentToolTip&&this.hideToolTip(),t instanceof Ji){t.layerName="Tool",t.selectable=!1,t.scale=1/i.scale,t.category="ToolTip",null!==t.placeholder&&(t.placeholder.scale=i.scale);var n=t.diagram;null!==n&&n!==i&&n.remove(t),i.add(t),null!==e?t.adornedObject=e:t.data=i.model,t.Ta(),this.positionToolTip(t,e)}else t instanceof ra&&t!==this.currentToolTip&&t.show(e,i,this);if(this.currentToolTip=t,-1!==this.ik&&(B.clearTimeout(this.ik),this.ik=-1),0<(t=this.toolTipDuration)&&t!==1/0){var r=this;this.ik=Y(function(){r.hideToolTip()},t)}},jr.prototype.positionToolTip=function(t){if(null===t.placeholder){var e=this.diagram,i=e.lastInput.documentPoint.copy(),n=t.measuredBounds,r=e.viewportBounds;e.lastInput.isTouchEvent&&(i.x-=n.width),i.x+n.width>r.right&&(i.x-=n.width+5/e.scale),i.x<r.x&&(i.x=r.x),i.y=i.y+20/e.scale+n.height>r.bottom?i.y-(n.height+5/e.scale):i.y+20/e.scale,i.y<r.y&&(i.y=r.y),t.position=i}},jr.prototype.hideToolTip=function(){-1!==this.ik&&(B.clearTimeout(this.ik),this.ik=-1);var t=this.diagram,e=this.currentToolTip;null!==e&&(e instanceof Ji?(t.remove(e),null!==this.Kr&&this.Kr.Hf(e.category),e.data=null,e.adornedObject=null):e instanceof ra&&null!==e.hide&&e.hide(t,this),this.currentToolTip=null)},jr.prototype.doMouseUp=function(){this.cancelWaitAfter();var t=this.diagram;if(this.isActive)for(var e=this.mouseUpTools.length,i=0;i<e;i++){var n=this.mouseUpTools.J(i);if(n.diagram=this.diagram,n.canStart())return t.doFocus(),t.currentTool=n,void(t.currentTool===n&&(n.isActive||n.doActivate(),n.doMouseUp()))}t.doFocus(),this.doDeactivate()},jr.prototype.doMouseWheel=function(){this.standardMouseWheel()},jr.prototype.doKeyDown=function(){var t=this.diagram;null!==t.commandHandler&&t.commandHandler.doKeyDown()},jr.prototype.doKeyUp=function(){var t=this.diagram;null!==t.commandHandler&&t.commandHandler.doKeyUp()},jr.prototype.findTool=function(t){for(var e=this.mouseDownTools.length,i=0;i<e;i++){var n=this.mouseDownTools.J(i);if(n.name===t)return n}for(e=this.mouseMoveTools.length,i=0;i<e;i++)if((n=this.mouseMoveTools.J(i)).name===t)return n;for(e=this.mouseUpTools.length,i=0;i<e;i++)if((n=this.mouseUpTools.J(i)).name===t)return n;return null},jr.prototype.replaceTool=function(t,e){null!==e&&(e.diagram=this.diagram);for(var i=this.mouseDownTools.length,n=0;n<i;n++){var r=this.mouseDownTools.J(n);if(r.name===t)return null!==e?this.mouseDownTools.Pc(n,e):this.mouseDownTools.cb(n),r}for(i=this.mouseMoveTools.length,n=0;n<i;n++)if((r=this.mouseMoveTools.J(n)).name===t)return null!==e?this.mouseMoveTools.Pc(n,e):this.mouseMoveTools.cb(n),r;for(i=this.mouseUpTools.length,n=0;n<i;n++)if((r=this.mouseUpTools.J(n)).name===t)return null!==e?this.mouseUpTools.Pc(n,e):this.mouseUpTools.cb(n),r;return null},jr.prototype.Ya=function(t,e,i){null!==e&&(e.name=t,e.diagram=this.diagram),this.findTool(t)?this.replaceTool(t,e):null!==e&&i.add(e)},H.Object.defineProperties(jr.prototype,{mouseWheelBehavior:{get:function(){return this.La},set:function(t){this.La=t}},gestureBehavior:{get:function(){return this.I},set:function(t){this.I=t}},currentToolTip:{get:function(){return this.l},set:function(t){this.l=t,this.Kr=null!==t&&t instanceof Ji?t.adornedPart:null}},mouseDownTools:{get:function(){return this.Cc}},mouseMoveTools:{get:function(){return this.Tc}},mouseUpTools:{get:function(){return this.Od}},hoverDelay:{get:function(){return this.Ka},set:function(t){this.Ka=t}},holdDelay:{get:function(){return this.T},set:function(t){this.T=t}},dragSize:{get:function(){return this.u},set:function(t){this.u=t.H()}},toolTipDuration:{get:function(){return this.eb},set:function(t){this.eb=t}}}),jr.prototype.replaceStandardTool=jr.prototype.Ya;var ka=new St(jr,"WheelScroll",0),Ja=new St(jr,"WheelZoom",1),Qa=new St(jr,"WheelNone",2),Ac=new St(jr,"GestureZoom",3),Yn=new St(jr,"GestureCancel",4),no=new St(jr,"GestureNone",5);function Jr(){zn.call(this),this.name="Dragging",this.I=this.Tc=!0,this.u=this.eb=this.Ka=this.qg=null,this.Tn=this.Od=!1,this.jm=new ht(NaN,NaN),this.it=new ht,this.Cc=!0,this.pl=100,this.Xg=[],this.lr=(new Pt).freeze(),this.La=new id,this.Fo=null,this.T="copy",this.Wh="",this.Xh="no-drop"}function Ss(t,e){if(t.dragsLink){var i=t.diagram;i.allowRelink&&(i.model.Ck()&&1===e.count&&e.first()instanceof Bi?(t.draggedLink=e.first(),t.draggedLink.canRelinkFrom()&&t.draggedLink.canRelinkTo()&&t.draggedLink.nk(),t.qg=i.toolManager.findTool("Relinking"),null===t.qg&&(t.qg=new bo,t.qg.diagram=i)):(t.draggedLink=null,t.qg=null))}}function Us(t){var e=t.diagram,i=e.skipsUndoManager;e.skipsUndoManager=!0,Vi(t,e.lastInput,null),e.skipsUndoManager=i,t.Xg.length=0}function to(){var t=yr;It(t),Ue(t);var e=t.diagram;t.jm.o()&&(e.position=t.jm),e.Jf()}function Fe(t,e){if(null===t.copiedParts){var i=t.diagram;if((!e||!i.isReadOnly&&!i.isModelReadOnly)&&null!==t.draggedParts){var n=i.undoManager;for(n.isEnabled&&n.isInTransaction?null!==n.currentTransaction&&0<n.currentTransaction.changes.count&&(i.undoManager.If(),i.xa("Drag")):Ue(t),i.skipsUndoManager=!e,i.partManager.addsToTemporaryLayer=!e,t.startPoint=i.firstInput.documentPoint,e=t.copiesEffectiveCollection?t.draggedParts.Kf():i.selection,e=i.tk(e,i,!0),i=new yt,n=t.draggedParts.iterator;n.next();){var r=n.key;if(r.Nc()&&r.canCopy()){var l=e.G(r);null!==l&&(l.location=r.location,l.Ta(),i.add(l,t.Cd(l.location)))}}for(e=e.iterator;e.next();)(n=e.value)instanceof Bi&&n.canCopy()&&i.add(n,t.Cd());t.copiedParts=i,Ss(t,i.Kf()),null!==t.draggedLink&&Do(i=t.draggedLink,t.startPoint.x-((e=i.routeBounds).x+e.width/2),t.startPoint.y-(e.y+e.height/2))}}}function It(t){var e=t.diagram;if(null!==t.copiedParts&&(e.gu(t.copiedParts.Kf(),!1),t.copiedParts=null,null!==t.draggedParts))for(var i=t.draggedParts.iterator;i.next();)i.key instanceof Bi&&(i.value.point=new ht(0,0));e.skipsUndoManager=!1,e.partManager.addsToTemporaryLayer=!1,t.startPoint=e.firstInput.documentPoint}function Lt(t){if(null!==t.draggedLink){if(t.dragsLink&&null!==t.qg){var e=t.qg;e.diagram.remove(e.temporaryFromNode),e.diagram.remove(e.temporaryToNode)}t.draggedLink=null,t.qg=null}}function ae(t,e,i){var n=t.diagram,r=t.startPoint,l=ht.alloc();l.assign(n.lastInput.documentPoint),t.moveParts(e,l.ge(r),i),ht.free(l),!0===n.Ke("temporaryPixelRatio")&&null===n.yh&&30<n.Yx&&(Jl(n),n.Yq())}function Ue(t){if(null!==t.draggedParts){for(var e=t.diagram,i=t.draggedParts.iterator;i.next();){var n=i.key;n.Nc()&&(n.location=i.value.point)}for(i=t.draggedParts.iterator;i.next();)if((n=i.key)instanceof Bi&&n.suspendsRouting){var r=i.value.point;t.draggedParts.add(n,t.Cd()),Do(n,-r.x,-r.y)}e.hd()}}function li(t,e){var i=t.diagram;t.dragsLink&&(null!==t.draggedLink&&(t.draggedLink.fromNode=null,t.draggedLink.toNode=null),Fn(t,!1));var n=t.findDragOverObject(e),r=i.lastInput;r.targetObject=n,t.doUpdateCursor(n);var l=i.skipsUndoManager,v=!1;try{if(i.skipsUndoManager=!0,v=Vi(t,r,n),!t.isActive&&null===yr)return;var _=null!==n?n.part:null;if(null===_||i.handlesDragDropForTopLevelParts&&_.isTopLevel&&!(_ instanceof Qi)){var D=i.mouseDragOver;null!==D&&(D(r),v=!0)}if(!t.isActive&&null===yr||(t.doDragOver(e,n),!t.isActive&&null===yr))return}finally{i.skipsUndoManager=l,v&&i.hd()}t.Fo=n,i.isReadOnly||!i.allowMove&&!i.allowCopy||!i.allowHorizontalScroll&&!i.allowVerticalScroll||i.Et(r.viewPoint)}function Vi(t,e,i){var n=!1,r=t.Xg.length,l=0<r?t.Xg[0]:null;if(i===l)return!1;e.handled=!1;for(var v=0;v<r;v++){var _=t.Xg[v],D=_.mouseDragLeave;if(null!==D&&(D(e,_,i),n=!0,e.handled))break}if(t.Xg.length=0,!t.isActive&&null===yr||null===i)return n;for(e.handled=!1,r=i;null!==r;)t.Xg.push(r),r=Hi(r);for(r=t.Xg.length,i=0;i<r&&(null===(_=(v=t.Xg[i]).mouseDragEnter)||(_(e,v,l),n=!0,!e.handled));i++);return n}function Hi(t){var e=t.panel;return null!==e?e:t instanceof qt&&!(t instanceof Qi)&&null!==(t=t.containingGroup)&&t.handlesDragDropForMembers?t:null}function cn(t,e,i){var n=t.qg;if(null===n)return null;var r=t.diagram.Eg(e,n.portGravity,function(O){return n.findValidLinkablePort(O,i)});t=ht.alloc();var l=1/0,v=null;for(r=r.iterator;r.next();){var _=r.value;if(null!==_.part){var D=_.da(ar,t);(D=e.Ie(D))<l&&(v=_,l=D)}}return ht.free(t),v}function Fn(t,e){var i=t.draggedLink;if(null!==i&&!(2>i.pointsCount)){var n=t.diagram;if(!n.isReadOnly){var r=t.qg;if(null!==r){var l=null,v=null;null===i.fromNode&&null!==(l=cn(t,i.i(0),!1))&&(v=l.part);var _=null,D=null;null===i.toNode&&null!==(_=cn(t,i.i(i.pointsCount-1),!0))&&(D=_.part),r.isValidLink(v,l,D,_)?e?(i.defaultFromPoint=i.i(0),i.defaultToPoint=i.i(i.pointsCount-1),i.suspendsRouting=!1,i.fromNode=v,null!==l&&(i.fromPortId=l.portId),i.toNode=D,null!==_&&(i.toPortId=_.portId),i.fromPort!==n.Ky&&n.R("LinkRelinked",i,n.Ky),i.toPort!==n.Ly&&n.R("LinkRelinked",i,n.Ly)):Ds(r,v,l,D,_):Ds(r,null,null,null,null)}}}}function cr(t,e){var i=t.diagram;t.dragsLink&&Fn(t,!0),Us(t);var n=t.findDragOverObject(e),r=i.lastInput;if(r.targetObject=n,null!==n){r.handled=!1;for(var l=n;null!==l;){var v=l.mouseDrop;if(null!==v&&(v(r,l),r.handled))break;Mr(t,r,l),l=Hi(l)}}else null!==(l=i.mouseDrop)&&l(r);if(t.isActive||null!==yr){for(r=(t.copiedParts||t.draggedParts).iterator;r.next();)(l=r.key)instanceof Si&&l.linksConnected.each(function(_){_.suspendsRouting=!1});if(t.doDropOnto(e,n),t.isActive||null!==yr){for(t=he.alloc(),e=i.selection.iterator;e.next();)(n=e.value)instanceof Si&&uo(i,n,t);he.free(t)}}}function Mr(t,e,i){i=i.part,!(t=t.diagram).handlesDragDropForTopLevelParts||!i.isTopLevel||i instanceof Qi||null!==(i=t.mouseDrop)&&i(e)}function uo(t,e,i){var n=!1;if(e.getAvoidableRect(i),t.viewportBounds.Ge(i)&&(n=!0),0!==(t=t.Vv(i,function(r){return r.part},function(r){return r instanceof Bi},!0,function(r){return r instanceof Bi},n)).count)for(t=t.iterator;t.next();)!(i=t.value).Kd(e)&&i.isAvoiding&&i.Ua()}function Yr(t,e,i,n){if(null===t.copiedParts){var r=t.diagram;if(!r.isReadOnly&&!r.isModelReadOnly){r.skipsUndoManager=!i,r.partManager.addsToTemporaryLayer=!i,t.startPoint=n.documentPoint,i=r.tk(e,r,!0);var l=he.alloc();r=n=1/0;for(var v=-1/0,_=-1/0,D=e.iterator;D.next();){var O=D.value;if(O.isVisible()){var V=O.location;O=V.x,V=V.y,isNaN(O)||isNaN(V)||(O<n&&(n=O),V<r&&(r=V),O>v&&(v=O),V>_&&(_=V))}}for(n===1/0?l.h(0,0,0,0):l.h(n,r,v-n,_-r),n=l.x+l.width/2,r=l.y+l.height/2,he.free(l),l=t.it,v=new yt,_=ht.alloc(),D=e.iterator;D.next();)(O=D.value)instanceof Bi&&O.canCopy()&&null!==(V=i.G(O))&&(V.points=O.points,Do(V,l.x-n,l.y-r),V.suspendsRouting=!0,v.add(V,t.Cd()));for(e=e.iterator;e.next();)(O=e.value).Nc()&&O.canCopy()&&null!==(D=i.G(O))&&(_.h(l.x-(n-(O=O.location).x),l.y-(r-O.y)),D.location=_,D.Ta(),v.add(D,t.Cd(_)));ht.free(_),t.copiedParts=v,Ss(t,v.Kf()),null!==t.draggedLink&&Do(i=t.draggedLink,t.startPoint.x-((e=i.routeBounds).x+e.width/2),t.startPoint.y-(e.y+e.height/2))}}}jr.className="ToolManager",jr.WheelScroll=ka,jr.WheelZoom=Ja,jr.WheelNone=Qa,jr.GestureZoom=Ac,jr.GestureCancel=Yn,jr.GestureNone=no,Z(Jr,zn),Jr.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(t.isReadOnly&&!t.allowDragOut||!t.allowMove&&!t.allowCopy&&!t.allowDragOut||!t.allowSelect)return!1;var e=t.lastInput;return!(!e.left||t.currentTool!==this&&(!this.isBeyondDragSize()||e.isTouchEvent&&e.timestamp-t.firstInput.timestamp<this.pl))&&null!==this.findDraggablePart()},Jr.prototype.findDraggablePart=function(){var t=this.diagram;if(null===(t=t.zm(t.firstInput.documentPoint,!1)))return null;for(;null!==t&&!t.canSelect();)t=t.containingGroup;return null!==t&&(t.canMove()||t.canCopy())?t:null},Jr.prototype.standardMouseSelect=function(){var t=this.diagram;if(t.allowSelect){var e=t.zm(t.firstInput.documentPoint,!1);if(null!==e){for(;null!==e&&!e.canSelect();)e=e.containingGroup;this.currentPart=e,null===this.currentPart||this.currentPart.isSelected||(t.R("ChangingSelection",t.selection),e=t.lastInput,(at?e.meta:e.control)||e.shift||t.clearSelection(!0),this.currentPart.isSelected=!0,t.R("ChangedSelection",t.selection))}}},Jr.prototype.doActivate=function(){var t=this.diagram;this.Fo=null,null===this.currentPart&&this.standardMouseSelect();var e=this.currentPart;null!==e&&(e.canMove()||e.canCopy())&&(yr=null,this.isActive=!0,this.jm.set(t.position),Ss(this,t.selection),this.Xg.length=0,t.animationManager.Bc(),this.draggedParts=this.computeEffectiveCollection(t.selection,this.dragOptions),t.mu=!0,!0===t.Ke("temporaryPixelRatio")&&30<t.Yx&&Jl(t),ba(t,this.draggedParts),this.xa("Drag"),this.startPoint=t.firstInput.documentPoint,t.isMouseCaptured=!0,t.allowDragOut&&(this.isDragOutStarted=!0,this.Tn=!1,yr=this,Co=this.diagram,this.doSimulatedDragOut()))},Jr.prototype.computeEffectiveCollection=function(t,e){return this.diagram.commandHandler.computeEffectiveCollection(t,e)},Jr.prototype.Cd=function(t){return new uc(void 0===t?je:this.isGridSnapEnabled?new ht(Math.round(1e3*t.x)/1e3,Math.round(1e3*t.y)/1e3):t.copy())},Jr.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;if(t.Jf(),Us(this),Qf(t,this.draggedParts),this.draggedParts=this.currentPart=this.Fo=null,this.Tn=this.isDragOutStarted=!1,0<eo.count){for(var e=eo,i=e.length,n=0;n<i;n++){var r=e.J(n);Lt(r),It(r),Us(r),r.diagram.Jf()}e.clear()}Lt(this),this.jm.h(NaN,NaN),yr=Co=null,It(this),t.isMouseCaptured=!1,t.currentCursor="",t.mu=!1,this.Jg(),aa(t,!0)},Jr.prototype.doCancel=function(){It(this),Ue(this);var t=this.diagram;this.jm.o()&&(t.position=this.jm),this.stopTool()},Jr.prototype.doKeyDown=function(){var t=this.diagram,e=t.lastInput;this.isActive&&("Esc"===e.key?this.doCancel():e.key!==t.previousInput.key&&this.doMouseMove())},Jr.prototype.doKeyUp=function(){this.isActive&&this.doMouseMove()},Jr.prototype.moveParts=function(t,e,i){void 0===i&&(i=!1);var n=this.diagram;null!==n&&rc(n,t,e,this.dragOptions,i)},Jr.prototype.findDragOverObject=function(t){var e=this;return Jf(this.diagram,t,null,function(i){return!(i=null===i||!!(null===(i=i.part)||i instanceof Ji||i.layer.isTemporary||e.draggedParts&&e.draggedParts.contains(i)||e.copiedParts&&e.copiedParts.contains(i)))})},Jr.prototype.doUpdateCursor=function(t){var e=this.diagram;this.Fo!==t&&(!this.diagram.currentTool.isActive||this.mayCopy()?e.currentCursor=this.copyCursor:this.mayMove()?e.currentCursor=this.moveCursor:this.mayDragOut()&&(e.currentCursor=this.nodropCursor))},Jr.prototype.doDragOver=function(){},Jr.prototype.doDropOnto=function(){},Jr.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram,e=t.lastInput;this.simulatedMouseMove(e.event,e.documentPoint,e.targetDiagram)||null===this.currentPart||null===this.draggedParts||(this.mayCopy()?(Fe(this,!1),ba(t,this.copiedParts),ae(this,this.copiedParts,!1),Qf(t,this.copiedParts)):this.mayMove()?(It(this),ae(this,this.draggedParts,!0)):this.mayDragOut()?(Fe(this,!1),ae(this,this.copiedParts,!1)):It(this),li(this,t.lastInput.documentPoint))}},Jr.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram,e=t.lastInput;if(!this.simulatedMouseUp(e.event,e.documentPoint,e.targetDiagram)){e=!1;var i=this.mayCopy();if(i&&null!==this.copiedParts?(It(this),Fe(this,!0),ba(t,this.copiedParts),ae(this,this.copiedParts,!1),Qf(t,this.copiedParts),null!==this.copiedParts&&(t.R("ChangingSelection",t.selection),t.clearSelection(!0),this.copiedParts.iteratorKeys.each(function(r){r.isSelected=!0}))):(e=!0,It(this),this.mayMove()&&(ae(this,this.draggedParts,!0),li(this,t.lastInput.documentPoint))),this.Tn=!0,cr(this,t.lastInput.documentPoint),this.isActive){var n=i?this.copiedParts.Kf():this.draggedParts.Kf();this.copiedParts=null,e&&function(t){if(null!==t.draggedParts)for(var e=t.draggedParts.iterator;e.next();){var i=e.key;i instanceof Si&&(null===(i=i.containingGroup)||null===i.placeholder||t.draggedParts.contains(i)||i.placeholder.s())}}(this),t.Na(),Qf(t,this.draggedParts),this.transactionResult=i?"Copy":"Move",t.R(i?"SelectionCopied":"SelectionMoved",n)}this.stopTool(),i&&t.R("ChangedSelection",t.selection)}}},Jr.prototype.simulatedMouseMove=function(t,e,i){if(null===yr)return!1;var n=yr.diagram;i instanceof di||(i=null);var r=Co;return i!==r&&(null!==r&&r!==n&&(r.Jf(),yr.isDragOutStarted=!1,null!==(r=r.toolManager.findTool("Dragging"))&&r.doSimulatedDragLeave()),Co=i,null!==i&&i!==n&&(to(),null!==(r=i.toolManager.findTool("Dragging"))&&(eo.contains(r)||eo.add(r),r.doSimulatedDragEnter()))),!(null===i||i===n||!i.allowDrop||i.isReadOnly||!i.allowInsert||(null!==(n=i.toolManager.findTool("Dragging"))&&(null!==t&&(void 0!==t.targetTouches&&(0<t.targetTouches.length?t=t.targetTouches[0]:0<t.changedTouches.length&&(t=t.changedTouches[0])),e=i.getMouse(t)),i.lastInput.documentPoint=e,i.lastInput.viewPoint=i.gr(e),i.lastInput.down=!1,i.lastInput.up=!1,n.doSimulatedDragOver()),0))},Jr.prototype.simulatedMouseUp=function(t,e,i){if(null===yr)return!1;var n=Co,r=yr.diagram;if(null===i)return yr.doCancel(),!0;if(i!==n){var l=n.toolManager.findTool("Dragging");if(null!==n&&n!==r&&null!==l)return n.Jf(),yr.isDragOutStarted=!1,l.doSimulatedDragLeave(),!1;Co=i,null!==(n=i.toolManager.findTool("Dragging"))&&(to(),eo.contains(n)||eo.add(n),n.doSimulatedDragEnter())}return i!==this.diagram&&(null!==t?(void 0!==t.targetTouches&&(0<t.targetTouches.length?t=t.targetTouches[0]:0<t.changedTouches.length&&(t=t.changedTouches[0])),e=i.getMouse(t)):null===e&&(e=new ht),i.lastInput.documentPoint=e,i.lastInput.viewPoint=i.gr(e),i.lastInput.down=!1,i.lastInput.up=!0,null!==(t=i.toolManager.findTool("Dragging"))&&t.doSimulatedDrop(),null!==(t=yr)&&(i=t.mayCopy(),t.transactionResult=i?"Copy":"Move",t.stopTool()),!0)},Jr.prototype.mayCopy=function(){if(!this.isCopyEnabled)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowCopy||(at?!t.lastInput.alt:!t.lastInput.control))return!1;for(t=t.selection.iterator;t.next();)if(t.value.canCopy())return!0;return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canCopy())},Jr.prototype.mayDragOut=function(){if(!this.isCopyEnabled)return!1;var t=this.diagram;if(!t.allowDragOut||!t.allowCopy||t.allowMove)return!1;for(t=t.selection.iterator;t.next();)if(t.value.canCopy())return!0;return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canCopy())},Jr.prototype.mayMove=function(){var t=this.diagram;if(t.isReadOnly||!t.allowMove)return!1;for(t=t.selection.iterator;t.next();)if(t.value.canMove())return!0;return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canMove())},Jr.prototype.computeBorder=function(t,e,i){return this.Tn||null===this.draggedParts||this.draggedParts.contains(t)?null:i.assign(e)},Jr.prototype.lA=function(){return yr},Jr.prototype.mayDragIn=function(){var t=this.diagram;return!(!t.allowDrop||t.isReadOnly||t.isModelReadOnly||!t.allowInsert)&&!(null===yr||yr.diagram.model.dataFormat!==t.model.dataFormat)},Jr.prototype.doSimulatedDragEnter=function(){if(this.mayDragIn()){var t=this.diagram;t.animationManager.Bc(),Pc(t),t.animationManager.Bc(),null!==yr&&(yr.diagram.mu=!1),this.doUpdateCursor(t.grid)}},Jr.prototype.doSimulatedDragLeave=function(){null!==yr&&yr.doSimulatedDragOut(),this.doCancel()},Jr.prototype.doSimulatedDragOver=function(){var t=this.diagram;t.animationManager.tn=!0;var e=yr;if(null!==e&&null!==e.draggedParts){if(!this.mayDragIn())return;Yr(this,e.draggedParts.Kf(),!1,t.firstInput),ae(this,this.copiedParts,!1),li(this,t.lastInput.documentPoint)}t.animationManager.tn=!1},Jr.prototype.doSimulatedDrop=function(){var t=this.diagram,e=yr;if(null!==e){var i=e.diagram;if(e.Tn=!0,It(this),!this.mayDragIn())return;t.animationManager.tn=!0,t.R("ChangingSelection",t.selection),this.xa("Drop"),Yr(this,e.draggedParts.Kf(),!0,t.lastInput),ae(this,this.copiedParts,!1),null!==this.copiedParts&&(t.clearSelection(!0),this.copiedParts.iteratorKeys.each(function(n){n.isSelected=!0})),cr(this,t.lastInput.documentPoint),t.Na(),e=t.selection,null!==this.copiedParts?this.transactionResult="ExternalCopy":e=new Pt,this.copiedParts=null,t.doFocus(),t.R("ExternalObjectsDropped",e,i),this.Jg(),t.R("ChangedSelection",t.selection)}t.animationManager.tn=!1},Jr.prototype.doSimulatedDragOut=function(){var t=this.diagram;t.mu=!1,t.currentCursor=this.mayCopy()||this.mayMove()?"":this.nodropCursor,this.Fo=null},Jr.prototype.computeMove=function(t,e,i,n){return null!==(i=this.diagram)?i.computeMove(t,e,this.dragOptions,n):new ht},H.Object.defineProperties(Jr.prototype,{isCopyEnabled:{get:function(){return this.Tc},set:function(t){this.Tc=t}},copiesEffectiveCollection:{get:function(){return this.I},set:function(t){this.I=t}},dragOptions:{get:function(){return this.La},set:function(t){this.La=t}},isGridSnapEnabled:{get:function(){return this.dragOptions.isGridSnapEnabled},set:function(t){this.dragOptions.isGridSnapEnabled=t}},isComplexRoutingRealtime:{get:function(){return this.Cc},set:function(t){this.Cc=t}},isGridSnapRealtime:{get:function(){return this.dragOptions.isGridSnapRealtime},set:function(t){this.dragOptions.isGridSnapRealtime=t}},gridSnapCellSize:{get:function(){return this.dragOptions.gridSnapCellSize},set:function(t){this.dragOptions.gridSnapCellSize.w(t)||(t=t.H(),this.dragOptions.gridSnapCellSize=t)}},gridSnapCellSpot:{get:function(){return this.dragOptions.gridSnapCellSpot},set:function(t){this.dragOptions.gridSnapCellSpot.w(t)||(t=t.H(),this.dragOptions.gridSnapCellSpot=t)}},gridSnapOrigin:{get:function(){return this.dragOptions.gridSnapOrigin},set:function(t){this.dragOptions.gridSnapOrigin.w(t)||(t=t.H(),this.dragOptions.gridSnapOrigin=t)}},dragsLink:{get:function(){return this.dragOptions.dragsLink},set:function(t){this.dragOptions.dragsLink=t}},dragsTree:{get:function(){return this.dragOptions.dragsTree},set:function(t){this.dragOptions.dragsTree=t}},copyCursor:{get:function(){return this.T},set:function(t){this.T=t}},moveCursor:{get:function(){return this.Wh},set:function(t){this.Wh=t}},nodropCursor:{get:function(){return this.Xh},set:function(t){this.Xh=t}},currentPart:{get:function(){return this.Ka},set:function(t){this.Ka=t}},copiedParts:{get:function(){return this.u},set:function(t){this.u=t}},draggedParts:{get:function(){return this.eb},set:function(t){this.eb=t}},draggingParts:{get:function(){return null!==this.copiedParts?this.copiedParts.Kf():null!==this.draggedParts?this.draggedParts.Kf():this.lr}},draggedLink:{get:function(){return this.diagram.draggedLink},set:function(t){this.diagram.draggedLink=t}},isDragOutStarted:{get:function(){return this.Od},set:function(t){this.Od=t}},startPoint:{get:function(){return this.it},set:function(t){this.it.w(t)||this.it.assign(t)}},delay:{get:function(){return this.pl},set:function(t){this.pl=t}}}),Jr.prototype.getDraggingSource=Jr.prototype.lA;var eo=null,yr=null,Co=null;function Or(){zn.call(this),this.Xh=100,this.La=!1,this.oi="pointer";var t=new Bi,e=new sr;e.isPanelMain=!0,e.stroke="blue",t.add(e),(e=new sr).toArrow="Standard",e.fill="blue",e.stroke="blue",t.add(e),t.layerName="Tool",this.gx=t,t=new Si,(e=new sr).portId="",e.figure="Rectangle",e.fill=null,e.stroke="magenta",e.strokeWidth=2,e.desiredSize=ni,t.add(e),t.selectable=!1,t.layerName="Tool",this.ex=t,this.l=e,t=new Si,(e=new sr).portId="",e.figure="Rectangle",e.fill=null,e.stroke="magenta",e.strokeWidth=2,e.desiredSize=ni,t.add(e),t.selectable=!1,t.layerName="Tool",this.hx=t,this.u=e,this.Wh=this.Od=this.Cc=this.eb=this.Tc=null,this.Ka=!0,this.cz=new yt,this.lr=this.Ii=this.bx=null}function ro(t,e,i,n){if(e===i)return!0;var r=e.fromNode;return!(null===r||!r.isLinkLabel||(n.add(r),!ro(t,r.labeledLink,i,n)))||!(null===(e=e.toNode)||!e.isLinkLabel||(n.add(e),!ro(t,e.labeledLink,i,n)))}function To(t,e,i,n,r){if(e===i)return!0;if(null===e||null===i)return!1;for(var l=e.linksConnected;l.next();){var v=l.value;if(v!==n&&(!r||v.isTreeLink)&&v.toNode===e&&(v=v.fromNode)!==e&&To(t,v,i,n,r))return!0}return!1}function Hs(t,e,i,n,r){if(i===n)return!0;if(null===i||null===n||e.contains(i))return!1;e.add(i);for(var l=i.linksConnected;l.next();){var v=l.value;if(v!==r&&v.toNode===i&&(v=v.fromNode)!==i&&Hs(t,e,v,n,r))return!0}return!1}function ws(t,e,i,n,r){if(i===n)return!0;if(null===i||null===n||e.contains(i))return!1;e.add(i);for(var l=i.linksConnected;l.next();){var v=l.value;if(v!==r){var _=v.fromNode;if(v=v.toNode,(_=_===i?v:_)!==i&&ws(t,e,_,n,r))return!0}}return!1}function Gn(){Or.call(this),this.name="Linking",this.T={},this.I=null,this.K=Es,this.en=null}Jr.className="DraggingTool",eo=new zt,S("draggingTool",function(){return this.findTool("Dragging")},function(t){this.Ya("Dragging",t,this.mouseMoveTools)}),jr.prototype.doCancel=function(){null!==yr&&yr.doCancel(),zn.prototype.doCancel.call(this)},Z(Or,zn),Or.prototype.doStop=function(){this.diagram.Jf(),this.originalToPort=this.originalToNode=this.originalFromPort=this.originalFromNode=this.originalLink=null,this.validPortsCache.clear(),this.targetPort=null},Or.prototype.copyPortProperties=function(t,e,i,n,r){if(null!==t&&null!==e&&null!==i&&null!==n){var l=e.Af(),v=De.alloc();v.width=e.naturalBounds.width*l,v.height=e.naturalBounds.height*l,n.desiredSize=v,De.free(v),r?(n.toSpot=e.toSpot,n.toEndSegmentLength=e.toEndSegmentLength):(n.fromSpot=e.fromSpot,n.fromEndSegmentLength=e.fromEndSegmentLength),i.locationSpot=ar,l=ht.alloc(),i.location=e.da(ar,l),ht.free(l),n.angle=e.lj(),null!==this.portTargeted&&this.portTargeted(t,e,i,n,r)}},Or.prototype.setNoTargetPortProperties=function(t,e,i){null!==e&&(e.desiredSize=ni,e.fromSpot=xr,e.toSpot=xr),null!==t&&(t.location=this.diagram.lastInput.documentPoint),null!==this.portTargeted&&this.portTargeted(null,null,t,e,i)},Or.prototype.doMouseDown=function(){this.isActive&&this.doMouseMove()},Or.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram;if(this.targetPort=this.findTargetPort(this.isForwards),null!==this.targetPort&&this.targetPort.part instanceof Si){var e=this.targetPort.part;this.isForwards?this.copyPortProperties(e,this.targetPort,this.temporaryToNode,this.temporaryToPort,!0):this.copyPortProperties(e,this.targetPort,this.temporaryFromNode,this.temporaryFromPort,!1)}else this.isForwards?this.setNoTargetPortProperties(this.temporaryToNode,this.temporaryToPort,!0):this.setNoTargetPortProperties(this.temporaryFromNode,this.temporaryFromPort,!1);(t.allowHorizontalScroll||t.allowVerticalScroll)&&t.Et(t.lastInput.viewPoint)}},Or.prototype.findValidLinkablePort=function(t,e){if(null===t)return null;var i=t.part;if(!(i instanceof Si))return null;for(;null!==t;){var n=e?t.toLinkable:t.fromLinkable;if(!0===n&&(null!==t.portId||t instanceof Si)&&(e?this.isValidTo(i,t):this.isValidFrom(i,t)))return t;if(!1===n)break;t=t.panel}return null},Or.prototype.findTargetPort=function(t){var e=this.diagram,i=e.lastInput.documentPoint,n=this.portGravity;0>=n&&(n=.1);var r=this,l=e.Eg(i,n,function($){return r.findValidLinkablePort($,t)},null,!0);for(n=1/0,e=null,l=l.iterator;l.next();){var v=l.value,_=v.part;if(_ instanceof Si){var D=v.da(ar,ht.alloc()),O=i.x-D.x,V=i.y-D.y;ht.free(D),(D=O*O+V*V)<n&&(null!==(O=this.validPortsCache.G(v))?O&&(e=v,n=D):t&&this.isValidLink(this.originalFromNode,this.originalFromPort,_,v)||!t&&this.isValidLink(_,v,this.originalToNode,this.originalToPort)?(this.validPortsCache.add(v,!0),e=v,n=D):this.validPortsCache.add(v,!1))}}return null!==e&&(i=e.part)instanceof Si&&(null===i.layer||i.layer.allowLink)?e:null},Or.prototype.isValidFrom=function(t,e){if(null===t||null===e)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(null!==t.layer&&!t.layer.allowLink||!0!==e.fromLinkable))return!1;var i=e.fromMaxLinks;if(1/0>i){if(null!==this.originalLink&&t===this.originalFromNode&&e===this.originalFromPort)return!0;if(null===(e=e.portId)&&(e=""),t.Fq(e).count>=i)return!1}return!0},Or.prototype.isValidTo=function(t,e){if(null===t||null===e)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(null!==t.layer&&!t.layer.allowLink||!0!==e.toLinkable))return!1;var i=e.toMaxLinks;if(1/0>i){if(null!==this.originalLink&&t===this.originalToNode&&e===this.originalToPort)return!0;if(null===(e=e.portId)&&(e=""),t.Hd(e).count>=i)return!1}return!0},Or.prototype.isInSameNode=function(t,e){return null!==t&&null!==e&&(t===e||(e=e.part,null!==(t=t.part)&&t===e))},Or.prototype.isLinked=function(t,e){if(null===t||null===e)return!1;var i=t.part;if(!(i instanceof Si))return!1;null===(t=t.portId)&&(t="");var n=e.part;if(!(n instanceof Si))return!1;for(null===(e=e.portId)&&(e=""),e=n.Hd(e);e.next();)if((n=e.value).fromNode===i&&n.fromPortId===t)return!0;return!1},Or.prototype.isValidLink=function(t,e,i,n){if(!this.isValidFrom(t,e)||!this.isValidTo(i,n)||!(null===e||null===n||(e.fromLinkableSelfNode&&n.toLinkableSelfNode||!this.isInSameNode(e,n))&&(e.fromLinkableDuplicates&&n.toLinkableDuplicates||!this.isLinked(e,n)))||null!==this.originalLink&&(null!==t&&this.isLabelDependentOnLink(t,this.originalLink)||null!==i&&this.isLabelDependentOnLink(i,this.originalLink))||null!==t&&null!==i&&(null===t.data&&null!==i.data||null!==t.data&&null===i.data)||!this.isValidCycle(t,i,this.originalLink))return!1;if(null!==t){var r=t.linkValidation;if(null!==r&&!r(t,e,i,n,this.originalLink))return!1}return!(null!==i&&(r=i.linkValidation,null!==r&&!r(t,e,i,n,this.originalLink)))&&(null===(r=this.linkValidation)||r(t,e,i,n,this.originalLink))},Or.prototype.isLabelDependentOnLink=function(t,e){if(null===t)return!1;var i=t.labeledLink;if(null===i)return!1;if(i===e)return!0;var n=new Pt;return n.add(t),ro(this,i,e,n)},Or.prototype.isValidCycle=function(t,e,i){if(void 0===i&&(i=null),null===t||null===e)return this.isUnconnectedLinkValid;var n=this.diagram.validCycle;if(n!==Zd){if(n===Ws){if(null!==(n=i||this.temporaryLink)&&!n.isTreeLink)return!0;for(n=e.linksConnected;n.next();){var r=n.value;if(r!==i&&r.isTreeLink&&r.toNode===e)return!1}return!To(this,t,e,i,!0)}if(n===vg){if(null!==(n=i||this.temporaryLink)&&!n.isTreeLink)return!0;for(n=t.linksConnected;n.next();)if((r=n.value)!==i&&r.isTreeLink&&r.fromNode===t)return!1;return!To(this,t,e,i,!0)}if(n===U0)return t===e?t=!0:((n=new Pt).add(e),t=Hs(this,n,t,e,i)),!t;if(n===H0)return!To(this,t,e,i,!1);if(n===la)return t===e?t=!0:((n=new Pt).add(e),t=ws(this,n,t,e,i)),!t}return!0},H.Object.defineProperties(Or.prototype,{portGravity:{get:function(){return this.Xh},set:function(t){0<=t&&(this.Xh=t)}},isUnconnectedLinkValid:{get:function(){return this.La},set:function(t){this.La=t}},linkingCursor:{get:function(){return this.oi},set:function(t){this.oi=t}},temporaryLink:{get:function(){return this.gx},set:function(t){this.gx=t}},temporaryFromNode:{get:function(){return this.ex},set:function(t){(this.ex=t)&&(this.l=t.port)}},temporaryFromPort:{get:function(){return this.l},set:function(t){if(null!==this.l){var e=this.l.panel;if(null!==e){var i=e.W.indexOf(this.l);e.cb(i),e.wb(i,t)}}this.l=t}},temporaryToNode:{get:function(){return this.hx},set:function(t){(this.hx=t)&&(this.u=t.port)}},temporaryToPort:{get:function(){return this.u},set:function(t){if(null!==this.u){var e=this.u.panel;if(null!==e){var i=e.W.indexOf(this.u);e.cb(i),e.wb(i,t)}}this.u=t}},originalLink:{get:function(){return this.Tc},set:function(t){this.Tc=t}},originalFromNode:{get:function(){return this.eb},set:function(t){this.eb=t}},originalFromPort:{get:function(){return this.Cc},set:function(t){this.Cc=t}},originalToNode:{get:function(){return this.Od},set:function(t){this.Od=t}},originalToPort:{get:function(){return this.Wh},set:function(t){this.Wh=t}},isForwards:{get:function(){return this.Ka},set:function(t){this.Ka=t}},validPortsCache:{get:function(){return this.cz}},targetPort:{get:function(){return this.bx},set:function(t){this.bx=t}},linkValidation:{get:function(){return this.Ii},set:function(t){this.Ii=t}},portTargeted:{get:function(){return this.lr},set:function(t){this.lr=t}}}),Or.className="LinkingBaseTool",Z(Gn,Or),Gn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowLink||!t.model.Ut()||!t.lastInput.left||t.currentTool!==this&&!this.isBeyondDragSize())&&null!==this.findLinkablePort()},Gn.prototype.findLinkablePort=function(){var t=this.diagram,e=this.startObject;if(null===e&&(e=t.Vb(t.firstInput.documentPoint,null,null)),null===e||!((t=e.part)instanceof Si))return null;var i=this.direction;if(i===Es||i===ps){var n=this.findValidLinkablePort(e,!1);if(null!==n||this.startObject===t&&this.findValidLinkablePort(n=t.port,!1))return this.isForwards=!0,n}return i!==Es&&i!==_s||!(null!==(e=this.findValidLinkablePort(e,!0))||this.startObject===t&&this.findValidLinkablePort(e=t.port,!0))?null:(this.isForwards=!1,e)},Gn.prototype.doActivate=function(){var t=this.diagram,e=this.findLinkablePort();null===e?this.stopTool():(this.xa(this.name),t.isMouseCaptured=!0,t.currentCursor=this.linkingCursor,this.isForwards?(null===this.temporaryToNode||this.temporaryToNode.location.o()||(this.temporaryToNode.location=t.lastInput.documentPoint),this.originalFromPort=e,(e=this.originalFromPort.part)instanceof Si&&(this.originalFromNode=e),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1)):(null===this.temporaryFromNode||this.temporaryFromNode.location.o()||(this.temporaryFromNode.location=t.lastInput.documentPoint),this.originalToPort=e,(e=this.originalToPort.part)instanceof Si&&(this.originalToNode=e),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0)),t.add(this.temporaryFromNode),t.add(this.temporaryToNode),null!==this.temporaryLink&&(null!==this.temporaryFromNode&&(this.temporaryLink.fromNode=this.temporaryFromNode),null!==this.temporaryToNode&&(this.temporaryLink.toNode=this.temporaryToNode),this.temporaryLink.isTreeLink=this.isNewTreeLink(),this.temporaryLink.Ua(),t.add(this.temporaryLink)),this.isActive=!0)},Gn.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;t.remove(this.temporaryLink),t.remove(this.temporaryFromNode),t.remove(this.temporaryToNode),t.isMouseCaptured=!1,t.currentCursor="",this.Jg()},Gn.prototype.doStop=function(){Or.prototype.doStop.call(this),this.startObject=null},Gn.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){var e=this.transactionResult=null,i=null,n=null,r=null,l=null;try{var v=this.targetPort=this.findTargetPort(this.isForwards);if(null!==v){var _=v.part;_ instanceof Si&&(this.isForwards?(null!==this.originalFromNode&&(e=this.originalFromNode,i=this.originalFromPort),n=_,r=v):(e=_,i=v,null!==this.originalToNode&&(n=this.originalToNode,r=this.originalToPort)))}else this.isForwards?null!==this.originalFromNode&&this.isUnconnectedLinkValid&&(e=this.originalFromNode,i=this.originalFromPort):null!==this.originalToNode&&this.isUnconnectedLinkValid&&(n=this.originalToNode,r=this.originalToPort);null!==e||null!==n?null!==(l=this.insertLink(e,i,n,r))?(null===v&&(this.isForwards?l.defaultToPoint=t.lastInput.documentPoint.copy():l.defaultFromPoint=t.lastInput.documentPoint.copy()),t.allowSelect&&(t.R("ChangingSelection",t.selection),t.clearSelection(!0),l.isSelected=!0),this.transactionResult=this.name,t.R("LinkDrawn",l)):this.doNoLink(e,i,n,r):this.isForwards?this.doNoLink(this.originalFromNode,this.originalFromPort,null,null):this.doNoLink(null,null,this.originalToNode,this.originalToPort)}finally{this.stopTool(),l&&t.allowSelect&&t.R("ChangedSelection",t.selection)}}},Gn.prototype.isNewTreeLink=function(){var t=this.archetypeLinkData;if(null===t)return!0;if(t instanceof Bi)return t.isTreeLink;var e=this.diagram;return null===e||(t=e.partManager.getLinkCategoryForData(t),null===(e=e.partManager.findLinkTemplateForCategory(t))||e.isTreeLink)},Gn.prototype.insertLink=function(t,e,i,n){return this.diagram.partManager.insertLink(t,e,i,n)},Gn.prototype.doNoLink=function(){},H.Object.defineProperties(Gn.prototype,{archetypeLinkData:{get:function(){return this.T},set:function(t){this.T=t}},archetypeLabelNodeData:{get:function(){return this.I},set:function(t){this.I=t}},direction:{get:function(){return this.K},set:function(t){this.K=t}},startObject:{get:function(){return this.en},set:function(t){this.en=t}}});var Es=new St(Gn,"Either",0),ps=new St(Gn,"ForwardsOnly",0),_s=new St(Gn,"BackwardsOnly",0);function bo(){Or.call(this),this.name="Relinking";var t=new sr;t.figure="Diamond",t.desiredSize=Qt,t.fill="lightblue",t.stroke="dodgerblue",t.cursor=this.linkingCursor,t.segmentIndex=0,this.T=t,(t=new sr).figure="Diamond",t.desiredSize=Qt,t.fill="lightblue",t.stroke="dodgerblue",t.cursor=this.linkingCursor,t.segmentIndex=-1,this.en=t,this.I=null,this.Hx=new he}function Ds(t,e,i,n,r){null!==e?(t.copyPortProperties(e,i,t.temporaryFromNode,t.temporaryFromPort,!1),t.diagram.add(t.temporaryFromNode)):t.diagram.remove(t.temporaryFromNode),null!==n?(t.copyPortProperties(n,r,t.temporaryToNode,t.temporaryToPort,!0),t.diagram.add(t.temporaryToNode)):t.diagram.remove(t.temporaryToNode)}function qn(){zn.call(this),this.name="LinkReshaping";var t=new sr;t.figure="Rectangle",t.desiredSize=ne,t.fill="lightblue",t.stroke="dodgerblue",this.u=t,(t=new sr).figure="Diamond",t.desiredSize=Qt,t.fill="lightblue",t.stroke="dodgerblue",t.cursor="move",this.I=t,this.T=3,this.wu=this.l=null,this.Ix=new ht,this.Is=new zt}function hs(t,e,i,n,r,l){return l?Math.abs(e.y-i.y)<t.resegmentingDistance&&Math.abs(i.y-n.y)<t.resegmentingDistance&&Math.abs(n.y-r.y)<t.resegmentingDistance:Math.abs(e.x-i.x)<t.resegmentingDistance&&Math.abs(i.x-n.x)<t.resegmentingDistance&&Math.abs(n.x-r.x)<t.resegmentingDistance}Gn.className="LinkingTool",Gn.Either=Es,Gn.ForwardsOnly=ps,Gn.BackwardsOnly=_s,Z(bo,Or),bo.prototype.updateAdornments=function(t){if(null!==t&&t instanceof Bi){var e="RelinkFrom",i=null;if(t.isSelected&&!this.diagram.isReadOnly){var n=t.selectionObject;null!==n&&t.canRelinkFrom()&&t.actualBounds.o()&&t.isVisible()&&n.actualBounds.o()&&n.Gf()&&null===(i=t.wk(e))&&(i=this.makeAdornment(n,!1),t.Gh(e,i))}null===i&&t.Hf(e),e="RelinkTo",i=null,t.isSelected&&!this.diagram.isReadOnly&&null!==(n=t.selectionObject)&&t.canRelinkTo()&&t.actualBounds.o()&&t.isVisible()&&n.actualBounds.o()&&n.Gf()&&(null===(i=t.wk(e))?(i=this.makeAdornment(n,!0),t.Gh(e,i)):i.s()),null===i&&t.Hf(e)}},bo.prototype.makeAdornment=function(t,e){var i=new Ji;return i.type=Xi.Link,null!==(e=e?this.toHandleArchetype:this.fromHandleArchetype)&&i.add(e.copy()),i.adornedObject=t,i},bo.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowRelink||!t.model.Ut()||!t.lastInput.left)return!1;var e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkFrom");return null===e&&(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkTo")),null!==e},bo.prototype.doActivate=function(){var t=this.diagram;if(null===this.originalLink){var e=this.handle;if(null===e&&null===(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkFrom"))&&(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkTo")),null===e)return;var i=e.part;if(!(i instanceof Ji&&i.adornedPart instanceof Bi))return;this.handle=e,this.isForwards=null===i||"RelinkTo"===i.category,this.originalLink=i.adornedPart}this.xa(this.name),t.isMouseCaptured=!0,t.currentCursor=this.linkingCursor,this.originalFromPort=this.originalLink.fromPort,this.originalFromNode=this.originalLink.fromNode,this.originalToPort=this.originalLink.toPort,this.originalToNode=this.originalLink.toNode,this.Hx.set(this.originalLink.actualBounds),null!==this.originalLink&&0<this.originalLink.pointsCount&&(null===this.originalLink.fromNode&&(null!==this.temporaryFromPort&&(this.temporaryFromPort.desiredSize=qe),null!==this.temporaryFromNode&&(this.temporaryFromNode.location=this.originalLink.i(0))),null===this.originalLink.toNode&&(null!==this.temporaryToPort&&(this.temporaryToPort.desiredSize=qe),null!==this.temporaryToNode&&(this.temporaryToNode.location=this.originalLink.i(this.originalLink.pointsCount-1)))),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0),t.add(this.temporaryFromNode),t.add(this.temporaryToNode),null!==this.temporaryLink&&(null!==this.temporaryFromNode&&(this.temporaryLink.fromNode=this.temporaryFromNode),null!==this.temporaryToNode&&(this.temporaryLink.toNode=this.temporaryToNode),this.copyLinkProperties(this.originalLink,this.temporaryLink),this.temporaryLink.Ua(),t.add(this.temporaryLink)),this.isActive=!0},bo.prototype.copyLinkProperties=function(t,e){if(null!==t&&null!==e){e.adjusting=t.adjusting,e.corner=t.corner;var i=t.curve;(i===gd||i===au)&&(i=Fs),e.curve=i,e.curviness=t.curviness,e.isTreeLink=t.isTreeLink,e.points=t.points,e.routing=t.routing,e.smoothness=t.smoothness,e.fromSpot=t.fromSpot,e.fromEndSegmentLength=t.fromEndSegmentLength,e.fromShortLength=t.fromShortLength,e.toSpot=t.toSpot,e.toEndSegmentLength=t.toEndSegmentLength,e.toShortLength=t.toShortLength}},bo.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;t.remove(this.temporaryLink),t.remove(this.temporaryFromNode),t.remove(this.temporaryToNode),t.isMouseCaptured=!1,t.currentCursor="",this.Jg()},bo.prototype.doStop=function(){Or.prototype.doStop.call(this),this.handle=null},bo.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram;this.transactionResult=null;var e=this.originalFromNode,i=this.originalFromPort,n=this.originalToNode,r=this.originalToPort,l=this.originalLink;if(this.targetPort=this.findTargetPort(this.isForwards),null!==this.targetPort){var v=this.targetPort.part;v instanceof Si&&(this.isForwards?(n=v,r=this.targetPort):(e=v,i=this.targetPort))}else this.isUnconnectedLinkValid?this.isForwards?r=n=null:i=e=null:l=null;null!==l?(this.reconnectLink(l,this.isForwards?n:e,this.isForwards?r:i,this.isForwards),null===this.targetPort&&(this.isForwards?l.defaultToPoint=t.lastInput.documentPoint.copy():l.defaultFromPoint=t.lastInput.documentPoint.copy(),l.Ua()),this.transactionResult=this.name,t.R("LinkRelinked",l,this.isForwards?this.originalToPort:this.originalFromPort)):this.doNoRelink(this.originalLink,this.isForwards),this.originalLink.Oq(this.Hx)}this.stopTool()},bo.prototype.reconnectLink=function(t,e,i,n){return i=null!==i&&null!==i.portId?i.portId:"",n?(t.toNode=e,t.toPortId=i):(t.fromNode=e,t.fromPortId=i),!0},bo.prototype.doNoRelink=function(){},H.Object.defineProperties(bo.prototype,{fromHandleArchetype:{get:function(){return this.T},set:function(t){this.T=t}},toHandleArchetype:{get:function(){return this.en},set:function(t){this.en=t}},handle:{get:function(){return this.I},set:function(t){if(null!==t&&!(t.part instanceof Ji))throw Error("new handle is not in an Adornment: "+t);this.I=t}}}),bo.className="RelinkingTool",S("linkingTool",function(){return this.findTool("Linking")},function(t){this.Ya("Linking",t,this.mouseMoveTools)}),S("relinkingTool",function(){return this.findTool("Relinking")},function(t){this.Ya("Relinking",t,this.mouseDownTools)}),Z(qn,zn),qn.prototype.Zv=function(t){return t&&t.Os&&0!==t.Os.value?t.Os:Po},qn.prototype.Xm=function(t,e){t.Os=e},qn.prototype.updateAdornments=function(t){if(null!==t&&t instanceof Bi){var e=null;if(t.isSelected&&!this.diagram.isReadOnly){var i=t.path;null!==i&&t.canReshape()&&t.actualBounds.o()&&t.isVisible()&&i.actualBounds.o()&&i.Gf()&&(null===(e=t.wk(this.name))||e.Ex!==t.pointsCount||e.Sx!==t.resegmentable)&&null!==(e=this.makeAdornment(i))&&(e.Ex=t.pointsCount,e.Sx=t.resegmentable,t.Gh(this.name,e))}null===e&&t.Hf(this.name)}},qn.prototype.makeAdornment=function(t){var e=t.part,i=e.pointsCount,n=e.isOrthogonal,r=null;if(null!==e.points&&1<i){(r=new Ji).type=Xi.Link,i=e.firstPickIndex;var l=e.lastPickIndex,v=n?1:0;if(e.resegmentable&&e.computeCurve()!==cl)for(var _=i+v;_<l-v;_++){var D=this.makeResegmentHandle(t,_);null!==D&&(D.segmentIndex=_,D.segmentFraction=.5,D.fromMaxLinks=999,r.add(D))}for(v=i+1;v<l;v++)if(null!==(_=this.makeHandle(t,v))){if(_.segmentIndex=v,v!==i)if(v===i+1&&n){D=e.i(i);var O=e.i(i+1);ti.A(D.x,O.x)&&ti.A(D.y,O.y)&&(O=e.i(i-1)),ti.A(D.x,O.x)?(this.Xm(_,Ir),_.cursor="n-resize"):ti.A(D.y,O.y)&&(this.Xm(_,ur),_.cursor="w-resize")}else v===l-1&&n?(D=e.i(l-1),O=e.i(l),ti.A(D.x,O.x)&&ti.A(D.y,O.y)&&(D=e.i(l+1)),ti.A(D.x,O.x)?(this.Xm(_,Ir),_.cursor="n-resize"):ti.A(D.y,O.y)&&(this.Xm(_,ur),_.cursor="w-resize")):v!==l&&(this.Xm(_,ao),_.cursor="move");r.add(_)}r.adornedObject=t}return r},qn.prototype.makeHandle=function(){var t=this.handleArchetype;return null===t?null:t.copy()},qn.prototype.makeResegmentHandle=function(){var t=this.midHandleArchetype;return null===t?null:t.copy()},qn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||!t.allowReshape||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)},qn.prototype.doActivate=function(){var t=this.diagram;if(null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null!==this.handle){var e=this.handle.part.adornedPart;if(e instanceof Bi){if(this.wu=e,t.isMouseCaptured=!0,this.xa(this.name),e.resegmentable&&999===this.handle.fromMaxLinks){var i=e.points.copy(),n=this.getResegmentingPoint();if(i.wb(this.handle.segmentIndex+1,n),e.isOrthogonal&&i.wb(this.handle.segmentIndex+1,n),e.points=i,e.Lb(),e.updateAdornments(),this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name),null===this.handle)return void this.doDeactivate()}this.Ix=e.i(this.handle.segmentIndex),this.Is=e.points.copy(),this.isActive=!0}}},qn.prototype.doDeactivate=function(){this.Jg(),this.wu=this.handle=null,this.isActive=this.diagram.isMouseCaptured=!1},qn.prototype.doCancel=function(){var t=this.adornedLink;null!==t&&(t.points=this.Is),this.stopTool()},qn.prototype.getResegmentingPoint=function(){return this.handle.da(ar)},qn.prototype.doMouseMove=function(){var t=this.diagram;this.isActive&&(t=this.computeReshape(t.lastInput.documentPoint),this.reshape(t))},qn.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){var e=this.computeReshape(t.lastInput.documentPoint);if(this.reshape(e),null!==(e=this.adornedLink)&&e.resegmentable){var i=this.handle.segmentIndex,n=e.i(i-1),r=e.i(i),l=e.i(i+1);if(e.isOrthogonal){if(i>e.firstPickIndex+1&&i<e.lastPickIndex-1){var v=e.i(i-2);if(Math.abs(n.x-r.x)<this.resegmentingDistance&&Math.abs(n.y-r.y)<this.resegmentingDistance&&(hs(this,v,n,r,l,!0)||hs(this,v,n,r,l,!1))){var _=e.points.copy();hs(this,v,n,r,l,!0)?(_.Pc(i-2,new ht(v.x,(l.y+v.y)/2)),_.Pc(i+1,new ht(l.x,(l.y+v.y)/2))):(_.Pc(i-2,new ht((l.x+v.x)/2,v.y)),_.Pc(i+1,new ht((l.x+v.x)/2,l.y))),_.cb(i),_.cb(i-1),e.points=_,e.Lb()}else v=e.i(i+2),Math.abs(r.x-l.x)<this.resegmentingDistance&&Math.abs(r.y-l.y)<this.resegmentingDistance&&(hs(this,n,r,l,v,!0)||hs(this,n,r,l,v,!1))&&(_=e.points.copy(),hs(this,n,r,l,v,!0)?(_.Pc(i-1,new ht(n.x,(n.y+v.y)/2)),_.Pc(i+2,new ht(v.x,(n.y+v.y)/2))):(_.Pc(i-1,new ht((n.x+v.x)/2,n.y)),_.Pc(i+2,new ht((n.x+v.x)/2,v.y))),_.cb(i+1),_.cb(i),e.points=_,e.Lb())}}else v=ht.alloc(),ti.Qh(n.x,n.y,l.x,l.y,r.x,r.y,v)&&v.Ie(r)<this.resegmentingDistance*this.resegmentingDistance&&((n=e.points.copy()).cb(i),e.points=n,e.Lb()),ht.free(v)}t.Na(),this.transactionResult=this.name,t.R("LinkReshaped",this.adornedLink,this.Is)}this.stopTool()},qn.prototype.reshape=function(t){var e=this.adornedLink;e.Th();var i=this.handle.segmentIndex,n=this.Zv(this.handle);if(e.isOrthogonal)if(i===e.firstPickIndex+1)i=e.firstPickIndex+1,n===Ir?(e.L(i,e.i(i-1).x,t.y),e.L(i+1,e.i(i+2).x,t.y)):n===ur&&(e.L(i,t.x,e.i(i-1).y),e.L(i+1,t.x,e.i(i+2).y));else if(i===e.lastPickIndex-1)i=e.lastPickIndex-1,n===Ir?(e.L(i-1,e.i(i-2).x,t.y),e.L(i,e.i(i+1).x,t.y)):n===ur&&(e.L(i-1,t.x,e.i(i-2).y),e.L(i,t.x,e.i(i+1).y));else{var r=e.i(n=i),l=e.i(n-1),v=e.i(n+1);ti.A(l.x,r.x)&&ti.A(r.y,v.y)?(ti.A(l.x,e.i(n-2).x)&&!ti.A(l.y,e.i(n-2).y)?(e.m(n,t.x,l.y),i++,n++):e.L(n-1,t.x,l.y),ti.A(v.y,e.i(n+2).y)&&!ti.A(v.x,e.i(n+2).x)?e.m(n+1,v.x,t.y):e.L(n+1,v.x,t.y)):ti.A(l.y,r.y)&&ti.A(r.x,v.x)?(ti.A(l.y,e.i(n-2).y)&&!ti.A(l.x,e.i(n-2).x)?(e.m(n,l.x,t.y),i++,n++):e.L(n-1,l.x,t.y),ti.A(v.x,e.i(n+2).x)&&!ti.A(v.y,e.i(n+2).y)?e.m(n+1,t.x,v.y):e.L(n+1,t.x,v.y)):ti.A(l.x,r.x)&&ti.A(r.x,v.x)?(ti.A(l.x,e.i(n-2).x)&&!ti.A(l.y,e.i(n-2).y)?(e.m(n,t.x,l.y),i++,n++):e.L(n-1,t.x,l.y),ti.A(v.x,e.i(n+2).x)&&!ti.A(v.y,e.i(n+2).y)?e.m(n+1,t.x,v.y):e.L(n+1,t.x,v.y)):ti.A(l.y,r.y)&&ti.A(r.y,v.y)&&(ti.A(l.y,e.i(n-2).y)&&!ti.A(l.x,e.i(n-2).x)?(e.m(n,l.x,t.y),i++,n++):e.L(n-1,l.x,t.y),ti.A(v.y,e.i(n+2).y)&&!ti.A(v.x,e.i(n+2).x)?e.m(n+1,v.x,t.y):e.L(n+1,v.x,t.y)),e.L(i,t.x,t.y)}else e.L(i,t.x,t.y),r=e.fromPort,null!==(n=e.fromNode)&&null!==(l=n.findVisibleNode())&&l!==n&&(r=(n=l).port),1===i&&e.computeSpot(!0,r).nc()&&(l=r.da(ar,ht.alloc()),n=e.getLinkPointFromPoint(n,r,l,t,!0,ht.alloc()),e.L(0,n.x,n.y),ht.free(l),ht.free(n)),r=e.toPort,null!==(n=e.toNode)&&null!==(l=n.findVisibleNode())&&l!==n&&(r=(n=l).port),i===e.pointsCount-2&&e.computeSpot(!1,r).nc()&&(i=r.da(ar,ht.alloc()),t=e.getLinkPointFromPoint(n,r,i,t,!1,ht.alloc()),e.L(e.pointsCount-1,t.x,t.y),ht.free(i),ht.free(t));e.xf()},qn.prototype.computeReshape=function(t){var e=this.adornedLink,i=this.handle.segmentIndex;switch(this.Zv(this.handle)){case ao:return t;case Ir:return new ht(e.i(i).x,t.y);case ur:return new ht(t.x,e.i(i).y);default:return e.i(i)}},H.Object.defineProperties(qn.prototype,{handleArchetype:{get:function(){return this.u},set:function(t){this.u=t}},midHandleArchetype:{get:function(){return this.I},set:function(t){this.I=t}},handle:{get:function(){return this.l},set:function(t){if(null!==t&&!(t.part instanceof Ji))throw Error("new handle is not in an Adornment: "+t);this.l=t}},adornedLink:{get:function(){return this.wu}},resegmentingDistance:{get:function(){return this.T},set:function(t){this.T=t}},originalPoint:{get:function(){return this.Ix}},originalPoints:{get:function(){return this.Is}}}),qn.prototype.setReshapingBehavior=qn.prototype.Xm,qn.prototype.getReshapingBehavior=qn.prototype.Zv;var Po=new St(qn,"None",0),ur=new St(qn,"Horizontal",1),Ir=new St(qn,"Vertical",2),ao=new St(qn,"All",3);function kr(){zn.call(this),this.name="Resizing",this.fg=new De(1,1).freeze(),this.eg=new De(9999,9999).freeze(),this.Qg=new De(NaN,NaN).freeze(),this.I=!1,this.T=!0,this.ie=null;var t=new sr;t.alignmentFocus=ar,t.figure="Rectangle",t.desiredSize=ne,t.fill="lightblue",t.stroke="dodgerblue",t.strokeWidth=1,t.cursor="pointer",this.u=t,this.l=null,this.Hs=new ht,this.Gx=new De,this.qp=new ht,this.Nu=new De(0,0),this.Mu=new De(1/0,1/0),this.Lu=new De(1,1)}function Lo(){zn.call(this),this.name="Rotating",this.La=45,this.Ka=2,this.qp=new ht,this.ie=null;var t=new sr;t.figure="Ellipse",t.desiredSize=Qt,t.fill="lightblue",t.stroke="dodgerblue",t.strokeWidth=1,t.cursor="pointer",this.u=t,this.l=null,this.Fx=0,this.Ps=new ht(NaN,NaN),this.I=0,this.T=50}function na(){zn.call(this),this.name="ClickSelecting"}function Ns(){zn.call(this),this.name="Action",this.Xk=null}function ma(){zn.call(this),this.name="ClickCreating",this.Aj=null,this.u=!0,this.l=!1,this.xx=new ht(0,0)}function Mo(){zn.call(this),this.name="DragSelecting",this.pl=175,this.u=!1;var t=new qt;t.layerName="Tool",t.selectable=!1;var e=new sr;e.name="SHAPE",e.figure="Rectangle",e.fill=null,e.stroke="magenta",t.add(e),this.l=t}function tl(){zn.call(this),this.name="Panning",this.kv=new ht,this.kz=new ht,this.Pg=!1;var t=this;this.Lx=function(){var e=t.diagram;null!==e&&e.removeEventListener(B.document,"scroll",t.Lx,!1),t.stopTool()}}function ra(){this.T=this.I=this.l=this.u=null}function oa(t,e,i){this.text=t,this.by=e,this.visible=i}function sa(){zn.call(this),this.name="ContextMenu",this.u=this.Cu=this.l=null,this.Cx=new ht,this.Du=null,this.Yu=!1;var t=this;this.wv=function(){t.stopTool()}}function Ru(t){return t.preventDefault(),!1}function Od(t){var e=t.diagram;if(t.isActive){var i=t.currentContextMenu;if(null!==i){if(!(i instanceof ra)){var n=e.Vb(e.lastInput.documentPoint,null,null);null!==n&&n.Gg(i)&&t.standardMouseClick(null,null)}t.stopTool(),t.canStart()&&(e.currentTool=t,t.doMouseUp())}}else t.canStart()&&(xm(t,!0),t.isActive||t.stopTool())}function xm(t,e,i){if(void 0===i&&(i=null),!t.Yu&&(t.Yu=!0,e&&t.standardMouseSelect(),e=t.standardMouseClick(),t.Yu=!1,!e)){if(t.isActive=!0,e=Oh,null===i&&(i=t.findObjectWithContextMenu()),null!==i){var n=i.contextMenu;null!==n?(t.currentObject=i instanceof jn?i:null,t.showContextMenu(n,t.currentObject)):null!==e&&t.showContextMenu(e,t.currentObject)}else null!==e&&t.showContextMenu(e,null);t.currentContextMenu instanceof Ji&&!t.currentContextMenu.visible&&t.stopTool()}}qn.className="LinkReshapingTool",qn.None=Po,qn.Horizontal=ur,qn.Vertical=Ir,qn.All=ao,S("linkReshapingTool",function(){return this.findTool("LinkReshaping")},function(t){this.Ya("LinkReshaping",t,this.mouseDownTools)}),Z(kr,zn),kr.prototype.updateAdornments=function(t){if(!(null===t||t instanceof Bi)){if(t.isSelected&&!this.diagram.isReadOnly){var e=t.resizeObject,i=t.wk(this.name);if(null!==e&&t.canResize()&&t.actualBounds.o()&&t.isVisible()&&e.actualBounds.o()&&e.Gf()&&((null===i||i.adornedObject!==e)&&(i=this.makeAdornment(e)),null!==i))return e=e.lj(),Ai(t)&&this.updateResizeHandles(i,e),void t.Gh(this.name,i)}t.Hf(this.name)}},kr.prototype.makeAdornment=function(t){var e=t.part.resizeAdornmentTemplate;if(null===e){(e=new Ji).type=Xi.Spot,e.locationSpot=ar;var i=new Rn;i.isPanelMain=!0,e.add(i),e.add(this.makeHandle(t,Hr)),e.add(this.makeHandle(t,Vr)),e.add(this.makeHandle(t,Zo)),e.add(this.makeHandle(t,qs)),e.add(this.makeHandle(t,ns)),e.add(this.makeHandle(t,xs)),e.add(this.makeHandle(t,ko)),e.add(this.makeHandle(t,Ts))}else if(ul(e),null===(e=e.copy()))return null;return e.adornedObject=t,e},kr.prototype.makeHandle=function(t,e){return null===(t=this.handleArchetype)?null:((t=t.copy()).alignment=e,t)},kr.prototype.updateResizeHandles=function(t,e){if(null!==t)if(!t.alignment.Mb()&&("pointer"===t.cursor||0<t.cursor.indexOf("resize")))t:{var i=t.alignment;if(i.nc()&&(i=ar),0>=i.x)e=0>=i.y?e+225:1<=i.y?e+135:e+180;else if(1<=i.x)0>=i.y?e+=315:1<=i.y&&(e+=45);else if(0>=i.y)e+=270;else{if(!(1<=i.y))break t;e+=90}0>e?e+=360:360<=e&&(e-=360),t.cursor=22.5>e?"e-resize":67.5>e?"se-resize":112.5>e?"s-resize":157.5>e?"sw-resize":202.5>e?"w-resize":247.5>e?"nw-resize":292.5>e?"n-resize":337.5>e?"ne-resize":"e-resize"}else if(t instanceof Xi)for(t=t.elements;t.next();)this.updateResizeHandles(t.value,e)},kr.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||!t.allowResize||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)},kr.prototype.doActivate=function(){var t=this.diagram;null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null!==this.handle&&(this.adornedObject=this.handle.part.adornedObject,null!==this.adornedObject&&(t.isMouseCaptured=!0,t.animationManager.Bc(),this.xa(this.name),this.Hs.set(this.adornedObject.da(this.handle.alignment.mw())),this.qp.set(this.adornedObject.part.location),this.Gx.set(this.adornedObject.desiredSize),this.Lu=this.computeCellSize(),this.Nu=this.computeMinSize(),this.Mu=this.computeMaxSize(),this.isActive=!0))},kr.prototype.doDeactivate=function(){var t=this.diagram;this.Jg(),this.ie=this.handle=null,this.isActive=t.isMouseCaptured=!1},kr.prototype.doCancel=function(){null!==this.adornedObject&&(this.adornedObject.desiredSize=this.originalDesiredSize,this.adornedObject.part.location=this.originalLocation),this.stopTool()},kr.prototype.doMouseMove=function(){var t=this.diagram;if(this.isActive){var e=this.Nu,i=this.Mu,n=this.Lu,r=this.adornedObject.Mt(t.lastInput.documentPoint,ht.alloc()),l=this.computeReshape();e=this.computeResize(r,this.handle.alignment,e,i,n,l),this.resize(e),t.hd(),ht.free(r)}},kr.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){var e=this.Nu,i=this.Mu,n=this.Lu,r=this.adornedObject.Mt(t.lastInput.documentPoint,ht.alloc()),l=this.computeReshape();e=this.computeResize(r,this.handle.alignment,e,i,n,l),this.resize(e),ht.free(r),t.Na(),this.transactionResult=this.name,t.R("PartResized",this.adornedObject,this.originalDesiredSize)}this.stopTool()},kr.prototype.resize=function(t){var e=this.diagram,i=this.adornedObject;if(null!==i){if(i.desiredSize=t.size,(t=i.part).Ta(),i=i.da(this.handle.alignment.mw()),t instanceof Qi){var n=new zt;if(n.add(t),!this.dragsMembers&&null===t.placeholder){var r=new id;r.dragsMembers=!1}e.moveParts(n,this.oppositePoint.copy().ge(i),!0,r)}else t.location=t.location.copy().ge(i).add(this.oppositePoint);e.hd()}},kr.prototype.computeResize=function(t,e,i,n,r,l){e.nc()&&(e=ar);var v=this.adornedObject.naturalBounds,_=v.x,D=v.y,O=v.x+v.width,V=v.y+v.height,$=1;if(!l){var vt=v.height;0>=($=v.width)&&($=1),0>=vt&&(vt=1),$=vt/$}return vt=ht.alloc(),ti.Gq(t.x,t.y,_,D,r.width,r.height,vt),t=v.copy(),0>=e.x?0>=e.y?(t.x=Math.max(vt.x,O-n.width),t.x=Math.min(t.x,O-i.width),t.width=Math.max(O-t.x,i.width),t.y=Math.max(vt.y,V-n.height),t.y=Math.min(t.y,V-i.height),t.height=Math.max(V-t.y,i.height),l||(1<=t.height/t.width?(t.height=Math.max(Math.min($*t.width,n.height),i.height),t.width=t.height/$):(t.width=Math.max(Math.min(t.height/$,n.width),i.width),t.height=$*t.width),t.x=O-t.width,t.y=V-t.height)):1<=e.y?(t.x=Math.max(vt.x,O-n.width),t.x=Math.min(t.x,O-i.width),t.width=Math.max(O-t.x,i.width),t.height=Math.max(Math.min(vt.y-D,n.height),i.height),l||(1<=t.height/t.width?(t.height=Math.max(Math.min($*t.width,n.height),i.height),t.width=t.height/$):(t.width=Math.max(Math.min(t.height/$,n.width),i.width),t.height=$*t.width),t.x=O-t.width)):(t.x=Math.max(vt.x,O-n.width),t.x=Math.min(t.x,O-i.width),t.width=O-t.x,l||(t.height=Math.max(Math.min($*t.width,n.height),i.height),t.width=t.height/$,t.y=D+.5*(V-D-t.height))):1<=e.x?0>=e.y?(t.width=Math.max(Math.min(vt.x-_,n.width),i.width),t.y=Math.max(vt.y,V-n.height),t.y=Math.min(t.y,V-i.height),t.height=Math.max(V-t.y,i.height),l||(1<=t.height/t.width?(t.height=Math.max(Math.min($*t.width,n.height),i.height),t.width=t.height/$):(t.width=Math.max(Math.min(t.height/$,n.width),i.width),t.height=$*t.width),t.y=V-t.height)):1<=e.y?(t.width=Math.max(Math.min(vt.x-_,n.width),i.width),t.height=Math.max(Math.min(vt.y-D,n.height),i.height),l||(1<=t.height/t.width?(t.height=Math.max(Math.min($*t.width,n.height),i.height),t.width=t.height/$):(t.width=Math.max(Math.min(t.height/$,n.width),i.width),t.height=$*t.width))):(t.width=Math.max(Math.min(vt.x-_,n.width),i.width),l||(t.height=Math.max(Math.min($*t.width,n.height),i.height),t.width=t.height/$,t.y=D+.5*(V-D-t.height))):0>=e.y?(t.y=Math.max(vt.y,V-n.height),t.y=Math.min(t.y,V-i.height),t.height=V-t.y,l||(t.width=Math.max(Math.min(t.height/$,n.width),i.width),t.height=$*t.width,t.x=_+.5*(O-_-t.width))):1<=e.y&&(t.height=Math.max(Math.min(vt.y-D,n.height),i.height),l||(t.width=Math.max(Math.min(t.height/$,n.width),i.width),t.height=$*t.width,t.x=_+.5*(O-_-t.width))),ht.free(vt),t},kr.prototype.computeReshape=function(){var t=ho;return this.adornedObject instanceof sr&&(t=Nm(this.adornedObject)),!(t===wl||this.diagram.lastInput.shift)},kr.prototype.computeMinSize=function(){var t=this.adornedObject.minSize.copy(),e=this.minSize;return!isNaN(e.width)&&e.width>t.width&&(t.width=e.width),!isNaN(e.height)&&e.height>t.height&&(t.height=e.height),t},kr.prototype.computeMaxSize=function(){var t=this.adornedObject.maxSize.copy(),e=this.maxSize;return!isNaN(e.width)&&e.width<t.width&&(t.width=e.width),!isNaN(e.height)&&e.height<t.height&&(t.height=e.height),t},kr.prototype.computeCellSize=function(){var t=new De(NaN,NaN),e=this.adornedObject.part;return null!==e&&(e=e.resizeCellSize,!isNaN(e.width)&&0<e.width&&(t.width=e.width),!isNaN(e.height)&&0<e.height&&(t.height=e.height)),e=this.cellSize,isNaN(t.width)&&!isNaN(e.width)&&0<e.width&&(t.width=e.width),isNaN(t.height)&&!isNaN(e.height)&&0<e.height&&(t.height=e.height),e=this.diagram,(isNaN(t.width)||isNaN(t.height))&&e&&null!==(e=e.grid)&&e.visible&&this.isGridSnapEnabled&&(e=e.gridCellSize,isNaN(t.width)&&!isNaN(e.width)&&0<e.width&&(t.width=e.width),isNaN(t.height)&&!isNaN(e.height)&&0<e.height&&(t.height=e.height)),(isNaN(t.width)||0===t.width||t.width===1/0)&&(t.width=1),(isNaN(t.height)||0===t.height||t.height===1/0)&&(t.height=1),t},H.Object.defineProperties(kr.prototype,{handleArchetype:{get:function(){return this.u},set:function(t){this.u=t}},handle:{get:function(){return this.l},set:function(t){if(null!==t&&!(t.part instanceof Ji))throw Error("new handle is not in an Adornment: "+t);this.l=t}},adornedObject:{get:function(){return this.ie},set:function(t){if(null!==t&&t.part instanceof Ji)throw Error("new handle must not be in an Adornment: "+t);this.ie=t}},minSize:{get:function(){return this.fg},set:function(t){if(!this.fg.w(t)){var e=t.width;isNaN(e)&&(e=0),t=t.height,isNaN(t)&&(t=0),this.fg.h(e,t)}}},maxSize:{get:function(){return this.eg},set:function(t){if(!this.eg.w(t)){var e=t.width;isNaN(e)&&(e=1/0),t=t.height,isNaN(t)&&(t=1/0),this.eg.h(e,t)}}},cellSize:{get:function(){return this.Qg},set:function(t){this.Qg.w(t)||this.Qg.assign(t)}},isGridSnapEnabled:{get:function(){return this.I},set:function(t){this.I=t}},dragsMembers:{get:function(){return this.T},set:function(t){this.T=t}},oppositePoint:{get:function(){return this.Hs},set:function(t){this.Hs.w(t)||this.Hs.assign(t)}},originalDesiredSize:{get:function(){return this.Gx}},originalLocation:{get:function(){return this.qp}}}),kr.className="ResizingTool",S("resizingTool",function(){return this.findTool("Resizing")},function(t){this.Ya("Resizing",t,this.mouseDownTools)}),Z(Lo,zn),Lo.prototype.updateAdornments=function(t){if(null!==t){if(t.Ph()){var e=t.rotateObject;if(e===t||e===t.path||e.isPanelMain)return}if(t.isSelected&&!this.diagram.isReadOnly&&null!==(e=t.rotateObject)&&t.canRotate()&&t.actualBounds.o()&&t.isVisible()&&e.actualBounds.o()&&e.Gf()){var i=t.wk(this.name);if((null===i||i.adornedObject!==e)&&(i=this.makeAdornment(e)),null!==i)return i.angle=e.lj(),null===i.placeholder&&(i.location=this.computeAdornmentLocation(e)),void t.Gh(this.name,i)}t.Hf(this.name)}},Lo.prototype.makeAdornment=function(t){var e=t.part.rotateAdornmentTemplate;if(null===e){(e=new Ji).type=Xi.Position,e.locationSpot=ar;var i=this.handleArchetype;null!==i&&e.add(i.copy())}else if(ul(e),null===(e=e.copy()))return null;return e.adornedObject=t,e},Lo.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||!t.allowRotate||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)},Lo.prototype.doActivate=function(){var t=this.diagram;if(null===this.adornedObject){if(null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null===this.handle)return;this.adornedObject=this.handle.part.adornedObject}null!==this.adornedObject&&(t.isMouseCaptured=!0,t.delaysLayout=!0,this.xa(this.name),this.Fx=this.adornedObject.angle,this.Ps=this.computeRotationPoint(this.adornedObject),this.qp=this.adornedObject.part.location.copy(),this.isActive=!0)},Lo.prototype.computeRotationPoint=function(t){var e=t.part,i=e.locationObject;return e.rotationSpot.kb()?t.da(e.rotationSpot):t===e||t===i?i.da(e.locationSpot):t.da(ar)},Lo.prototype.computeAdornmentLocation=function(t){var e=this.rotationPoint;e.o()||(e=this.computeRotationPoint(t)),e=t.Mt(e);var i=this.handleAngle;0>i?i+=360:360<=i&&(i-=360),i=Math.round(45*Math.round(i/45));var n=this.handleDistance;return 0===i?e.x=t.naturalBounds.width+n:45===i?(e.x=t.naturalBounds.width+n,e.y=t.naturalBounds.height+n):90===i?e.y=t.naturalBounds.height+n:135===i?(e.x=-n,e.y=t.naturalBounds.height+n):180===i?e.x=-n:225===i?(e.x=-n,e.y=-n):270===i?e.y=-n:315===i&&(e.x=t.naturalBounds.width+n,e.y=-n),t.da(e)},Lo.prototype.doDeactivate=function(){var t=this.diagram;this.Jg(),this.ie=this.handle=null,this.Ps=new ht(NaN,NaN),this.isActive=t.isMouseCaptured=!1},Lo.prototype.doCancel=function(){this.diagram.delaysLayout=!1,this.rotate(this.originalAngle),this.stopTool()},Lo.prototype.doMouseMove=function(){var t=this.diagram;this.isActive&&(t=this.computeRotate(t.lastInput.documentPoint),this.rotate(t))},Lo.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){t.delaysLayout=!1;var e=this.computeRotate(t.lastInput.documentPoint);this.rotate(e),t.Na(),this.transactionResult=this.name,t.R("PartRotated",this.adornedObject,this.originalAngle)}this.stopTool()},Lo.prototype.rotate=function(t){var e=this.adornedObject;if(null!==e){e.angle=t,(e=e.part).Ta();var i=e.locationObject,n=e.rotateObject;(i===n||i.Gg(n))&&(i=this.qp.copy(),e.location=i.ge(this.rotationPoint).rotate(t-this.originalAngle).add(this.rotationPoint)),this.diagram.hd()}},Lo.prototype.computeRotate=function(t){t=this.rotationPoint.Pa(t)-this.handleAngle;var e=this.adornedObject.panel;null!==e&&(t-=e.lj()),360<=t?t-=360:0>t&&(t+=360),e=Math.min(Math.abs(this.snapAngleMultiple),180);var i=Math.min(Math.abs(this.snapAngleEpsilon),e/2);return!this.diagram.lastInput.shift&&0<e&&0<i&&(t%e<i?t=Math.floor(t/e)*e:t%e>e-i&&(t=(Math.floor(t/e)+1)*e)),360<=t?t-=360:0>t&&(t+=360),t},H.Object.defineProperties(Lo.prototype,{handleArchetype:{get:function(){return this.u},set:function(t){this.u=t}},handle:{get:function(){return this.l},set:function(t){if(null!==t&&!(t.part instanceof Ji))throw Error("new handle is not in an Adornment: "+t);this.l=t}},adornedObject:{get:function(){return this.ie},set:function(t){if(null!==t&&t.part instanceof Ji)throw Error("new handle must not be in an Adornment: "+t);this.ie=t}},snapAngleMultiple:{get:function(){return this.La},set:function(t){this.La=t}},snapAngleEpsilon:{get:function(){return this.Ka},set:function(t){this.Ka=t}},originalAngle:{get:function(){return this.Fx}},rotationPoint:{get:function(){return this.Ps},set:function(t){this.Ps=t.copy()}},handleAngle:{get:function(){return this.I},set:function(t){this.I=t}},handleDistance:{get:function(){return this.T},set:function(t){this.T=t}}}),Lo.className="RotatingTool",S("rotatingTool",function(){return this.findTool("Rotating")},function(t){this.Ya("Rotating",t,this.mouseDownTools)}),Z(na,zn),na.prototype.canStart=function(){return!(!this.isEnabled||this.isBeyondDragSize())},na.prototype.doMouseUp=function(){this.isActive&&(this.standardMouseSelect(),!this.standardMouseClick()&&this.diagram.lastInput.isTouchEvent&&this.diagram.toolManager.doToolTip()),this.stopTool()},na.className="ClickSelectingTool",Z(Ns,zn),Ns.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram,e=t.lastInput,i=t.Vb(e.documentPoint,function(n){for(;null!==n.panel&&!n.isActionable;)n=n.panel;return n});return!(null===i||!i.isActionable||(this.Xk=i,t.Ej=t.Vb(e.documentPoint,null,null),0))},Ns.prototype.doMouseDown=function(){if(this.isActive){var t=this.diagram.lastInput,e=this.Xk;null!==e&&(t.targetObject=e,null!==e.actionDown&&e.actionDown(t,e))}else this.canStart()&&this.doActivate()},Ns.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram.lastInput,e=this.Xk;null!==e&&(t.targetObject=e,null!==e.actionMove&&e.actionMove(t,e))}},Ns.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram.lastInput,e=this.Xk;if(null===e)return;t.targetObject=e,null!==e.actionUp&&e.actionUp(t,e),this.standardMouseClick(function(i){for(;null!==i.panel&&(!i.isActionable||i!==e);)i=i.panel;return i},function(i){return i===e})}this.stopTool()},Ns.prototype.doCancel=function(){var t=this.diagram.lastInput,e=this.Xk;null!==e&&(t.targetObject=e,null!==e.actionCancel&&e.actionCancel(t,e),this.stopTool())},Ns.prototype.doStop=function(){this.Xk=null},Ns.className="ActionTool",Z(ma,zn),ma.prototype.canStart=function(){if(!this.isEnabled||null===this.archetypeNodeData)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.lastInput.left||this.isBeyondDragSize())return!1;if(this.isDoubleClick){if(1===t.lastInput.clickCount&&(this.xx=t.lastInput.viewPoint.copy()),2!==t.lastInput.clickCount||this.isBeyondDragSize(this.xx))return!1}else if(1!==t.lastInput.clickCount)return!1;return!(t.currentTool!==this&&null!==t.zm(t.lastInput.documentPoint,!0))},ma.prototype.doMouseUp=function(){this.isActive&&this.insertPart(this.diagram.lastInput.documentPoint),this.stopTool()},ma.prototype.insertPart=function(t){var e=this.diagram,i=this.archetypeNodeData;if(null===i)return null;var n=null;try{if(e.R("ChangingSelection",e.selection),this.xa(this.name),i instanceof qt)i.Nc()&&(ul(i),null!==(n=i.copy())&&e.add(n));else if(null!==i){var r=e.model.copyNodeData(i);xt(r)&&(e.model.uf(r),n=e.zc(r))}if(null!==n){var l=ht.allocAt(t.x,t.y);this.isGridSnapEnabled&&Lp(this.diagram,n,t,l),n.location=l,e.allowSelect&&(e.clearSelection(!0),n.isSelected=!0),ht.free(l)}e.Na(),this.transactionResult=this.name,e.R("PartCreated",n)}finally{this.Jg(),e.R("ChangedSelection",e.selection)}return n},H.Object.defineProperties(ma.prototype,{archetypeNodeData:{get:function(){return this.Aj},set:function(t){this.Aj=t}},isDoubleClick:{get:function(){return this.u},set:function(t){this.u=t}},isGridSnapEnabled:{get:function(){return this.l},set:function(t){this.l=t}}}),ma.className="ClickCreatingTool",Z(Mo,zn),Mo.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(!t.allowSelect)return!1;var e=t.lastInput;return!(!e.left||t.currentTool!==this&&(!this.isBeyondDragSize()||e.timestamp-t.firstInput.timestamp<this.delay||null!==t.zm(e.documentPoint,!0)))},Mo.prototype.doActivate=function(){var t=this.diagram;this.isActive=!0,t.isMouseCaptured=!0,t.skipsUndoManager=!0,t.add(this.box),this.doMouseMove()},Mo.prototype.doDeactivate=function(){var t=this.diagram;t.Jf(),t.remove(this.box),t.skipsUndoManager=!1,this.isActive=t.isMouseCaptured=!1},Mo.prototype.doMouseMove=function(){var t=this.diagram;if(this.isActive&&null!==this.box){var e=this.computeBoxBounds(),i=this.box.bb("SHAPE");null===i&&(i=this.box.tb());var n=De.alloc().h(e.width,e.height);e=ht.allocAt(e.x,e.y),i.desiredSize=n,this.box.position=e,De.free(n),ht.free(e),(t.allowHorizontalScroll||t.allowVerticalScroll)&&t.Et(t.lastInput.viewPoint)}},Mo.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram;t.remove(this.box);try{t.currentCursor="wait",t.R("ChangingSelection",t.selection),this.selectInRect(this.computeBoxBounds()),t.R("ChangedSelection",t.selection)}finally{t.currentCursor=""}}this.stopTool()},Mo.prototype.computeBoxBounds=function(){var t=this.diagram;return new he(t.firstInput.documentPoint,t.lastInput.documentPoint)},Mo.prototype.selectInRect=function(t){var e=this.diagram,i=e.lastInput;if(t=e.ty(t,this.isPartialInclusion),at?i.meta:i.control)if(i.shift)for(t=t.iterator;t.next();)(e=t.value).isSelected&&(e.isSelected=!1);else for(t=t.iterator;t.next();)(e=t.value).isSelected=!e.isSelected;else if(i.shift)for(t=t.iterator;t.next();)(e=t.value).isSelected||(e.isSelected=!0);else{for(i=new zt,e=e.selection.iterator;e.next();){var n=e.value;t.contains(n)||i.add(n)}for(e=i.iterator;e.next();)e.value.isSelected=!1;for(t=t.iterator;t.next();)(e=t.value).isSelected||(e.isSelected=!0)}},H.Object.defineProperties(Mo.prototype,{delay:{get:function(){return this.pl},set:function(t){this.pl=t}},isPartialInclusion:{get:function(){return this.u},set:function(t){this.u=t}},box:{get:function(){return this.l},set:function(t){this.l=t}}}),Mo.className="DragSelectingTool",Z(tl,zn),tl.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(!t.allowHorizontalScroll&&!t.allowVerticalScroll||!t.lastInput.left||t.currentTool!==this&&!this.isBeyondDragSize())},tl.prototype.doActivate=function(){var t=this.diagram;this.Pg?(t.lastInput.bubbles=!0,t.addEventListener(B.document,"scroll",this.Lx,!1)):(t.currentCursor="move",t.isMouseCaptured=!0,this.kv.assign(t.position)),this.isActive=!0},tl.prototype.doDeactivate=function(){var t=this.diagram;t.currentCursor="",this.isActive=t.isMouseCaptured=!1},tl.prototype.doCancel=function(){var t=this.diagram;t.position=this.kv,t.isMouseCaptured=!1,this.stopTool()},tl.prototype.doMouseMove=function(){this.move()},tl.prototype.doMouseUp=function(){this.move(),this.stopTool()},tl.prototype.move=function(){var t=this.diagram;if(this.isActive&&t)if(this.Pg)t.lastInput.bubbles=!0;else{var e=t.position,i=t.firstInput.documentPoint,n=t.lastInput.documentPoint,r=e.x+i.x-n.x;i=e.y+i.y-n.y,t.allowHorizontalScroll||(r=e.x),t.allowVerticalScroll||(i=e.y),t.position=this.kz.h(r,i)}},H.Object.defineProperties(tl.prototype,{bubbles:{get:function(){return this.Pg},set:function(t){this.Pg=t}},originalPosition:{get:function(){return this.kv}}}),tl.className="PanningTool",S("clickCreatingTool",function(){return this.findTool("ClickCreating")},function(t){this.Ya("ClickCreating",t,this.mouseUpTools)}),S("clickSelectingTool",function(){return this.findTool("ClickSelecting")},function(t){this.Ya("ClickSelecting",t,this.mouseUpTools)}),S("panningTool",function(){return this.findTool("Panning")},function(t){this.Ya("Panning",t,this.mouseMoveTools)}),S("dragSelectingTool",function(){return this.findTool("DragSelecting")},function(t){this.Ya("DragSelecting",t,this.mouseMoveTools)}),S("actionTool",function(){return this.findTool("Action")},function(t){this.Ya("Action",t,this.mouseDownTools)}),H.Object.defineProperties(ra.prototype,{mainElement:{get:function(){return this.I},set:function(t){this.I=t}},show:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},hide:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t)}},valueFunction:{get:function(){return this.T},set:function(t){this.T=t}}}),ra.className="HTMLInfo",oa.className="ContextMenuButtonInfo",Z(sa,zn),sa.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(this.isBeyondDragSize()||!t.lastInput.right||1<t.lastInput.clickCount||!(t.lastInput.isTouchEvent&&null!==this.defaultTouchContextMenu||null!==this.findObjectWithContextMenu()))},sa.prototype.doStart=function(){this.Cx.set(this.diagram.firstInput.documentPoint)},sa.prototype.doStop=function(){this.hideContextMenu(),this.currentObject=null},sa.prototype.findObjectWithContextMenu=function(t){void 0===t&&(t=null);var e=this.diagram,n=null;if(t instanceof di||(n=t instanceof jn?t:e.Vb(e.lastInput.documentPoint,null,function(r){return!r.layer.isTemporary})),null!==n){for(t=n;null!==t;){if(null!==t.contextMenu)return t;t=t.panel}if(e.lastInput.isTouchEvent&&this.defaultTouchContextMenu)return n.part}else if(null!==e.contextMenu)return e;return null},sa.prototype.doActivate=function(){},sa.prototype.doMouseDown=function(){if(zn.prototype.doMouseDown.call(this),this.isActive&&this.currentContextMenu instanceof Ji){var t=this.diagram.toolManager.findTool("Action");null!==t&&t.canStart()&&(t.doActivate(),t.doMouseDown(),t.doDeactivate())}this.diagram.toolManager.mouseDownTools.contains(this)&&Od(this)},sa.prototype.doMouseUp=function(){if(this.isActive&&this.currentContextMenu instanceof Ji){var t=this.diagram.toolManager.findTool("Action");null!==t&&t.canStart()&&(t.doActivate(),t.doCancel(),t.doDeactivate())}Od(this)},sa.prototype.doMouseMove=function(){var t=this.diagram.toolManager.findTool("Action");null!==t&&t.doMouseMove(),this.isActive&&this.diagram.toolManager.doMouseMove()},sa.prototype.showContextMenu=function(t,e){var i=this.diagram;if(t!==this.currentContextMenu&&this.hideContextMenu(),t instanceof Ji){t.layerName="Tool",t.selectable=!1,t.scale=1/i.scale,t.category=this.name,null!==t.placeholder&&(t.placeholder.scale=i.scale);var n=t.diagram;null!==n&&n!==i&&n.remove(t),i.add(t),null!==e?t.adornedObject=e:t.data=i.model,t.Ta(),this.positionContextMenu(t,e)}else t instanceof ra&&t.show(e,i,this);this.currentContextMenu=t},sa.prototype.positionContextMenu=function(t){if(null===t.placeholder){var e=this.diagram,i=e.lastInput.documentPoint.copy(),n=t.measuredBounds,r=e.viewportBounds;e.lastInput.isTouchEvent&&(i.x-=n.width),i.x+n.width>r.right&&(i.x-=n.width+5/e.scale),i.x<r.x&&(i.x=r.x),i.y+n.height>r.bottom&&(i.y-=n.height+5/e.scale),i.y<r.y&&(i.y=r.y),t.position=i}},sa.prototype.hideContextMenu=function(){var t=this.diagram,e=this.currentContextMenu;null!==e&&(e instanceof Ji?(t.remove(e),null!==this.Cu&&this.Cu.Hf(e.category),e.data=null,e.adornedObject=null):e instanceof ra&&(null!==e.hide?e.hide(t,this):null!==e.mainElement&&(e.mainElement.style.display="none")),this.currentContextMenu=null,this.standardMouseOver())},sa.prototype.showDefaultContextMenu=function(){var t=this.diagram;null===this.Du&&(this.Du=function(t){var e=new zt;return e.add(new oa("Copy",function(i){i.commandHandler.copySelection()},function(i){return i.commandHandler.canCopySelection()})),e.add(new oa("Cut",function(i){i.commandHandler.cutSelection()},function(i){return i.commandHandler.canCutSelection()})),e.add(new oa("Delete",function(i){i.commandHandler.deleteSelection()},function(i){return i.commandHandler.canDeleteSelection()})),e.add(new oa("Paste",function(i){i.commandHandler.pasteSelection(t.mouseDownPoint)},function(i){return i.commandHandler.canPasteSelection(t.mouseDownPoint)})),e.add(new oa("Select All",function(i){i.commandHandler.selectAll()},function(i){return i.commandHandler.canSelectAll()})),e.add(new oa("Undo",function(i){i.commandHandler.undo()},function(i){return i.commandHandler.canUndo()})),e.add(new oa("Redo",function(i){i.commandHandler.redo()},function(i){return i.commandHandler.canRedo()})),e.add(new oa("Scroll To Part",function(i){i.commandHandler.scrollToPart()},function(i){return i.commandHandler.canScrollToPart()})),e.add(new oa("Zoom To Fit",function(i){i.commandHandler.zoomToFit()},function(i){return i.commandHandler.canZoomToFit()})),e.add(new oa("Reset Zoom",function(i){i.commandHandler.resetZoom()},function(i){return i.commandHandler.canResetZoom()})),e.add(new oa("Group Selection",function(i){i.commandHandler.groupSelection()},function(i){return i.commandHandler.canGroupSelection()})),e.add(new oa("Ungroup Selection",function(i){i.commandHandler.ungroupSelection()},function(i){return i.commandHandler.canUngroupSelection()})),e.add(new oa("Edit Text",function(i){i.commandHandler.editTextBlock()},function(i){return i.commandHandler.canEditTextBlock()})),e}(this)),Id.innerHTML="",ic.addEventListener("click",this.wv,!1);var e=this,i=q("ul");i.className="goCXul",Id.appendChild(i),i.innerHTML="";for(var n=this.Du.iterator;n.next();){var r=n.value,l=r.visible;if("function"==typeof r.by&&("function"!=typeof l||l(t))){(l=q("li")).className="goCXli";var v=q("a");v.className="goCXa",v.href="#",v.dz=r.by,v.addEventListener("click",function(_){return this.dz(t),e.stopTool(),_.preventDefault(),!1},!1),v.textContent=r.text,l.appendChild(v),i.appendChild(l)}}Id.style.display="block",ic.style.display="block"},sa.prototype.hideDefaultContextMenu=function(){if(null!==this.currentContextMenu&&this.currentContextMenu===Oh){Id.style.display="none",ic.style.display="none";var t=this.diagram;null!==t&&t.removeEventListener(ic,"click",this.wv,!1),this.currentContextMenu=null}},H.Object.defineProperties(sa.prototype,{currentContextMenu:{get:function(){return this.l},set:function(t){this.l=t,this.Cu=t instanceof Ji?t.adornedPart:null}},defaultTouchContextMenu:{get:function(){return!1===ff&&null===Oh&&va&&function(t){var e=new ra;e.show=function(r,l,v){v.showDefaultContextMenu()},e.hide=function(r,l){l.hideDefaultContextMenu()},Oh=e,t.wv=function(){t.stopTool()},e=q("div");var i=q("div");e.style.cssText="top: 0px;z-index:10002;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px",i.style.cssText="z-index:10001;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;opacity: 0.8;";var n=q("style");B.document.getElementsByTagName("head")[0].appendChild(n),n.sheet.insertRule(".goCXul { list-style: none; }",0),n.sheet.insertRule(".goCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0),n.sheet.insertRule(".goCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0),null!==(n=t.diagram)&&(n.addEventListener(e,"contextmenu",Ru,!1),n.addEventListener(e,"selectstart",Ru,!1),n.addEventListener(i,"contextmenu",Ru,!1)),e.className="goCXforeground",i.className="goCXbackground",B.document.body&&(B.document.body.appendChild(e),B.document.body.appendChild(i)),Id=e,ic=i,ff=!0}(this),Oh},set:function(t){null===t&&(ff=!0),Oh=t}},currentObject:{get:function(){return this.u},set:function(t){this.u=t}},mouseDownPoint:{get:function(){return this.Cx}}});var Oh=null,ff=!1,ic=null,Id=null;function po(){zn.call(this),this.name="TextEditing",this.zh=new Br,this.La=null,this.Ka=F0,this.Wi=null,this.ia=dh,this.I=1,this.T=!0,this.u=null,this.l=new ra,this.Hu=null,function(t,e){if(va){var i=q("textarea");t.Hu=i,i.addEventListener("input",function(){if(null!==t.textBlock){var n=t.Jy(this.value);this.style.width=20+n.measuredBounds.width*this.eB+"px",this.rows=n.lineCount}},!1),i.addEventListener("keydown",function(n){if(null!==t.textBlock){var r=n.key;"Enter"===r?(!1===t.textBlock.isMultiline&&n.preventDefault(),t.acceptText(df)):"Tab"===r?(t.acceptText(fh),n.preventDefault()):"Escape"===r&&(t.doCancel(),null!==t.diagram&&t.diagram.doFocus())}},!1),i.addEventListener("focus",function(){if(null!==t.currentTextEditor&&t.state!==dh){var n=t.Hu;t.ia===Il&&(t.ia=B0),"function"==typeof n.select&&t.selectsTextOnActivate&&(n.select(),n.setSelectionRange(0,9999))}},!1),i.addEventListener("blur",function(){if(null!==t.currentTextEditor&&t.state!==dh){var n=t.Hu;"function"==typeof n.focus&&n.focus(),"function"==typeof n.select&&t.selectsTextOnActivate&&(n.select(),n.setSelectionRange(0,9999))}},!1),e.valueFunction=function(){return i.value},e.mainElement=i,e.show=function(n,r,l){if(n instanceof Br&&l instanceof po)if(l.state===Yt)i.style.border="3px solid red",i.focus();else{var v=n.da(ar),_=r.position,D=r.scale,O=n.Af()*D;O<l.minimumEditorScale&&(O=l.minimumEditorScale);var V=n.naturalBounds.width*O+6,$=n.naturalBounds.height*O+2,vt=(v.x-_.x)*D;v=(v.y-_.y)*D,i.value=n.text,r.div.style.font=n.font,i.style.position="absolute",i.style.zIndex="100",i.style.font="inherit",i.style.fontSize=100*O+"%",i.style.lineHeight="normal",i.style.width=V+"px",i.style.left=(vt-V/2|0)-1+"px",i.style.top=(v-$/2|0)-1+"px",i.style.textAlign=n.textAlign,i.style.margin="0",i.style.padding="1px",i.style.border="0",i.style.outline="none",i.style.whiteSpace="pre-wrap",i.style.overflow="hidden",i.rows=n.lineCount,i.eB=O,i.className="goTXarea",r.div.appendChild(i),i.focus(),l.selectsTextOnActivate&&(i.select(),i.setSelectionRange(0,9999))}},e.hide=function(n){n.div.removeChild(i)}}}(this,this.l)}function Pp(t){var e=t.textBlock,i=t.diagram,n=t.currentTextEditor;if(null!==e&&null!==n){var r=e.text,l="";null!==n.valueFunction&&(l=n.valueFunction()),t.isValidText(e,r,l)?(t.xa(t.name),t.ia=Ft,t.transactionResult=t.name,e.text=l,t.doSuccess(r,l),null!==i&&i.R("TextEdited",e,r),t.Jg(),t.stopTool(),null!==i&&i.doFocus()):(t.ia=Yt,t.doError(r,l))}}sa.className="ContextMenuTool",S("contextMenuTool",function(){return this.findTool("ContextMenu")},function(t){this.Ya("ContextMenu",t,this.mouseUpTools)}),Z(po,zn),po.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(null===t||t.isReadOnly||ye&&ye!==this&&(ye.acceptText(kc),ye&&ye!==this)||!t.lastInput.left||this.isBeyondDragSize())return!1;var e=t.Vb(t.lastInput.documentPoint);return!!(null!==e&&e instanceof Br&&e.editable&&e.part.canEdit())&&!(null===(e=e.part)||this.starting===F0&&!e.isSelected||this.starting===pu&&2>t.lastInput.clickCount)},po.prototype.doStart=function(){ye=this,null!==this.textBlock&&this.doActivate()},po.prototype.doActivate=function(){if(!this.isActive){var t=this.diagram;if(null!==t){var e=this.textBlock;if(null===e&&(e=t.Vb(t.lastInput.documentPoint)),null!==e&&e instanceof Br&&(this.textBlock=e,null!==e.part)){this.isActive=!0,this.ia=Il;var i=this.defaultTextEditor;null!==e.textEditor&&(i=e.textEditor),this.zh=this.textBlock.copy();var n=new he(this.textBlock.da(Hr),this.textBlock.da(Zo));t.Aw(n),i.show(e,t,this),this.currentTextEditor=i}}}},po.prototype.doCancel=function(){this.stopTool()},po.prototype.doMouseUp=function(){this.canStart()&&this.doActivate()},po.prototype.doMouseDown=function(){this.isActive&&this.acceptText(kc)},po.prototype.acceptText=function(t){switch(t){case kc:this.ia===Ft?this.currentTextEditor instanceof HTMLElement&&this.currentTextEditor.focus():(this.ia===Il||this.ia===Yt||this.ia===B0)&&(this.ia=oe,Pp(this));break;case du:case df:case fh:(df!==t||!0!==this.textBlock.isMultiline)&&(this.ia===Il||this.ia===Yt||this.ia===B0)&&(this.ia=oe,Pp(this))}},po.prototype.doError=function(t,e){var i=this.textBlock;null!==i.errorFunction&&i.errorFunction(this,t,e),(t=this.currentTextEditor)&&t.show(i,this.diagram,this)},po.prototype.doSuccess=function(t,e){var i=this.textBlock;null!==i.textEdited&&i.textEdited(i,t,e)},po.prototype.doDeactivate=function(){var t=this.diagram;null!==t&&(this.ia=dh,this.textBlock=null,null!==this.currentTextEditor&&this.currentTextEditor.hide(t,this),this.isActive=!1)},po.prototype.doStop=function(){ye=null},po.prototype.isValidText=function(t,e,i){var n=this.textValidation;return!(null!==n&&!n(t,e,i)||null!==(n=t.textValidation)&&!n(t,e,i))},po.prototype.Jy=function(t){var e=this.zh;return e.text=t,e.measure(this.textBlock.Ei,1/0),e},H.Object.defineProperties(po.prototype,{textBlock:{get:function(){return this.La},set:function(t){this.La=t}},currentTextEditor:{get:function(){return this.u},set:function(t){this.u=t}},defaultTextEditor:{get:function(){return this.l},set:function(t){this.l=t}},starting:{get:function(){return this.Ka},set:function(t){this.Ka=t}},textValidation:{get:function(){return this.Wi},set:function(t){this.Wi=t}},minimumEditorScale:{get:function(){return this.I},set:function(t){this.I=t}},selectsTextOnActivate:{get:function(){return this.T},set:function(t){this.T=t}},state:{get:function(){return this.ia},set:function(t){this.ia!==t&&(this.ia=t)}}}),po.prototype.measureTemporaryTextBlock=po.prototype.Jy;var du=new St(po,"LostFocus",0),kc=new St(po,"MouseDown",1),fh=new St(po,"Tab",2),df=new St(po,"Enter",3),Ih=new St(po,"SingleClick",0),F0=new St(po,"SingleClickSelected",1),pu=new St(po,"DoubleClick",2),dh=new St(po,"StateNone",0),Il=new St(po,"StateActive",1),B0=new St(po,"StateEditing",2),oe=new St(po,"StateValidating",3),Yt=new St(po,"StateInvalid",4),Ft=new St(po,"StateValidated",5),ye=null;function Me(){mh||(Rl(),mh=!0),this.B=$d,this.zl=this.ef=this.sc=this.ps=this.jc=!1,this.Qx=!0,this.Al=gh,this.tn=!1,this.zi=this.md=!0,this.Yg=600,this.ox=this.Px=!1,this.Re=new Pt,this.Rd=new ga,this.Rd.Uc=this,this.yj=new Pt,this.tv=new Pt,this.ot=new Pt,this.$l=new Pt}function Xe(t,e){Di(t,e)&&(t.ef=!0)}function Di(t,e){return!(!t.md||!t.canStart(e))&&(t.Re.add(e),t.defaultAnimation.isAnimating&&t.Bc(),Ys(t.B),t.sc=!0)}function Mi(t){if(t.md&&t.sc){var e=t.Rd,i=t.B,n=t.Re.contains("Model");n&&(t.zl=!0,t.Al===gh?(e.isViewportUnconstrained=!0,e.lc.clear(),e.add(i,"position",i.position.copy().offset(0,-200),i.position),e.add(i,"opacity",0,1)):t.Al===Tc&&e.lc.clear(),t.Qx=!(t.Al!==Rh||!i.Ts.w(i.la)),i.R("InitialAnimationStarting",t)),n&&!t.zi||0===e.lc.count?(t.Re.clear(),t.sc=!1,t.ef=!1,e.lc.clear(),pf(e,i),t.zl=!1,i.M()):(t.Re.clear(),i.Ee=!1,n=e.lc.get(i),i.autoScale!==Ta&&null!==n&&(delete n.start.scale,delete n.end.scale),B.requestAnimationFrame(function(){!1===t.sc||e.jc||(i.Ke("temporaryPixelRatio")&&Jl(i),el(i),t.sc=!1,t.ef=!1,e.start(),Xr(t),i.Na(),Xf(e,0),Pc(i,!0),So(t),i.R("AnimationStarting",t))}))}}function In(t,e,i,n){t.isTicking||e instanceof Bi&&(null!==e.fromNode||null!==e.toNode)||t.Rd.add(e,"position",i,n,!1)}function Xr(t){if(!t.ps){var e=t.B;t.Px=e.skipsUndoManager,t.ox=e.skipsModelSourceBindings,e.skipsUndoManager=!0,e.skipsModelSourceBindings=!0,t.ps=!0}}function So(t){var e=t.B;e.skipsUndoManager=t.Px,e.skipsModelSourceBindings=t.ox,t.ps=!1}function Vo(t,e,i){t.ef&&!e.w(i)&&(t.B.pj||(e=i.copy()),Op(t.Rd,t.B,"position",e,i))}function mu(t,e){for(e=e.findLinksConnected();e.next();){var i=e.value;i.jf=i.points.copy(),t.$l.add(i)}}function ph(t,e,i,n,r){null===t&&(t=[0,0,0,0]),null===e&&(e=[0,0,0,0]);var l=t[0],v=t[1],_=t[2];t=t[3];var D=e[0],O=e[1],V=e[2];return e=e[3],0===_||100===_?(l=D,v=O):(0===V||100===V)&&(D=l,O=v),180<Math.abs(D-l)&&(D>l?l+=360:D+=360),"hsla("+(l=r(i,l,D-l,n)%360)+", "+(v=r(i,v,O-v,n))+"%, "+(_=r(i,_,V-_,n))+"%, "+(i=r(i,t,e-t,n))+")"}function Rl(){function t(i,n,r,l,v,_){i.position=new ht(l(v,n.x,r.x-n.x,_),l(v,n.y,r.y-n.y,_))}var e=new yt;e.add("position:diagram",t),e.add("position",t),e.add("position:part",function(i,n,r,l,v,_){v<_?i.er(l(v,n.x,r.x-n.x,_),l(v,n.y,r.y-n.y,_),!1):i.position=new ht(l(v,n.x,r.x-n.x,_),l(v,n.y,r.y-n.y,_))}),e.add("location",function(i,n,r,l,v,_){v<_?i.er(l(v,n.x,r.x-n.x,_),l(v,n.y,r.y-n.y,_),!0):i.location=new ht(l(v,n.x,r.x-n.x,_),l(v,n.y,r.y-n.y,_))}),e.add("position:placeholder",function(i,n,r,l,v,_){v<_?i.er(l(v,n.x,r.x-n.x,_),l(v,n.y,r.y-n.y,_),!1):i.position=new ht(l(v,n.x,r.x-n.x,_),l(v,n.y,r.y-n.y,_))}),e.add("position:nodeCollapse",function(i,n,r,l,v,_){var D=i.actualBounds,O=r.actualBounds;r=O.x+O.width/2-D.width/2,D=O.y+O.height/2-D.height/2,v<_?i.er(l(v,n.x,r-n.x,_),l(v,n.y,D-n.y,_),!1):i.position=new ht(l(v,n.x,r-n.x,_),l(v,n.y,D-n.y,_))}),e.add("desiredSize",function(i,n,r,l,v,_){i.desiredSize=new he(l(v,n.width,r.width-n.width,_),l(v,n.height,r.height-n.height,_))}),e.add("width",function(i,n,r,l,v,_){i.width=l(v,n,r-n,_)}),e.add("height",function(i,n,r,l,v,_){i.height=l(v,n,r-n,_)}),e.add("fill",function(i,n,r,l,v,_){i.fill=ph(n,r,v,_,l)}),e.add("stroke",function(i,n,r,l,v,_){i.stroke=ph(n,r,v,_,l)}),e.add("strokeWidth",function(i,n,r,l,v,_){i.strokeWidth=l(v,n,r-n,_)}),e.add("strokeDashOffset",function(i,n,r,l,v,_){i.strokeDashOffset=l(v,n,r-n,_)}),e.add("background",function(i,n,r,l,v,_){i.background=ph(n,r,v,_,l)}),e.add("areaBackground",function(i,n,r,l,v,_){i.areaBackground=ph(n,r,v,_,l)}),e.add("opacity",function(i,n,r,l,v,_){i.opacity=l(v,n,r-n,_)}),e.add("scale",function(i,n,r,l,v,_){i.scale=l(v,n,r-n,_)}),e.add("angle",function(i,n,r,l,v,_){i.angle=l(v,n,r-n,_)}),gu=e}po.className="TextEditingTool",po.LostFocus=du,po.MouseDown=kc,po.Tab=fh,po.Enter=df,po.SingleClick=Ih,po.SingleClickSelected=F0,po.DoubleClick=pu,po.StateNone=dh,po.StateActive=Il,po.StateEditing=B0,po.StateValidating=oe,po.StateInvalid=Yt,po.StateValidated=Ft,S("textEditingTool",function(){return this.findTool("TextEditing")},function(t){this.Ya("TextEditing",t,this.mouseUpTools)}),Me.prototype.ee=function(t){this.B=t},Me.prototype.canStart=function(){return!0},(Q=Me.prototype).cu=function(t){return this.Rd.cu(t)},Q.ew=function(t){return this.Rd.ew(t)},Q.Bc=function(t){var e=this.Rd;if(!0===this.sc&&(this.zl=this.ef=this.sc=!1,this.Re.clear(),0<e.lc.count&&this.B.Db()),this.jc){if(e.xm(!0),e.lc.clear(),pf(e,null),!0===t)for(t=this.yj.ma(),e=0;e<t.length;e++)t[e].xm(!0)}else e.lc.clear(),pf(e,this.B)},Q.xm=function(t){t===this.defaultAnimation&&this.defaultAnimation.lc.clear(),this.yj.remove(t),0===this.yj.count&&(this.jc=!1,this.B.Db()),t===this.defaultAnimation&&(this.defaultAnimation.lc.clear(),this.B.R("AnimationFinished",this))},Q.lk=function(t,e){this.ef&&(this.Re.contains("Expand Tree")||this.Re.contains("Expand SubGraph"))&&(this.Rd.lk(t,e),mu(this,t))},Q.jk=function(t,e){this.ef&&(this.Re.contains("Collapse Tree")||this.Re.contains("Collapse SubGraph"))&&(this.Rd.jk(t,e),Op(this.Rd,e,"position",e.position,e.position),mu(this,t))},H.Object.defineProperties(Me.prototype,{animationReasons:{get:function(){return this.Re}},isEnabled:{get:function(){return this.md},set:function(t){(this.md=t)&&this.yj.each(function(e){e.isAnimating||e.runCount!==1/0||e.start()})}},duration:{get:function(){return this.Yg},set:function(t){1>t&&ot(t,">= 1",Me,"duration"),this.Yg=t}},isAnimating:{get:function(){return this.jc}},isTicking:{get:function(){return this.ps}},isInitial:{get:function(){return this.zi},set:function(t){this.zi=t}},defaultAnimation:{get:function(){return this.Rd}},activeAnimations:{get:function(){return this.yj}},initialAnimationStyle:{get:function(){return this.Al},set:function(t){this.Al=t}}}),Me.prototype.stopAnimation=Me.prototype.Bc;var gu=null,mh=!1,gh=new St(Me,"Default",1),Rh=new St(Me,"AnimateLocations",2),Tc=new St(Me,"None",3);function ga(){this.xv=this.Ox=this.Uc=this.B=null,this.Il=this.jc=this.l=!1,this.Zn=this.Dd=0,this.Ir=this.Ku=Ld,this.Hl=this.Fp=!1,this.nv=1,this.mv=0,this.vd=this.Yg=NaN,this.tx=0,this.$n=null,this.u=je,this.lc=new yt,this.iv=new yt,this.qm=new Pt,this.jv=new Pt,this.px=lc}function pf(t,e){if(t.iv.clear(),t.Hl=!1,t.mv=0,t.vd=NaN,0<t.qm.count&&t.qm.clear(),0<t.jv.count&&t.jv.clear(),null!==e)for(t=e.links;t.next();)t.value.jf=null}function Op(t,e,i,n,r,l){var v=t.lc;if(e instanceof di&&"position"===i&&(i="position:diagram"),("fill"===i||"stroke"===i||"background"===i||"areaBackground"===i)&&(jl(n),Af(),n=[bl.l,bl.I,bl.u,bl.T],jl(r),Af(),r=[bl.l,bl.I,bl.u,bl.T]),v.contains(e)){var _=v.G(e),D=_.start,O=_.end;void 0===D[i]&&(D[i]=ms(n)),O[i]=ms(r)}else O={},(D={})[i]=ms(n),O[i]=ms(r),_=D.position,e instanceof jn&&_ instanceof ht&&!_.o()&&e.diagram.animationManager.Re.contains("Expand SubGraph")&&_.assign(O.position),_=new vu(D,O,l),v.add(e,_);(v=D[i])instanceof ht&&!v.o()&&v.assign(t.u),l&&0===i.indexOf("position:")&&e instanceof qt?_.Qv.location=ms(e.location):l&&(_.Qv[i]=ms(n))}function ms(t){return t instanceof ht||t instanceof De?t.copy():t}function bs(t,e){if(!t.Il||e){var i=t.Uc;if(!1!==t.jc){var n=+new Date,r=n>t.Zn?t.vd:n-t.Dd;e&&((r=t.tx)<t.vd?(t.Dd=+new Date-r,t.Zn=t.Dd+t.vd):r=t.vd),Xr(i),Xf(t,r),Pc(t.B,!0),So(i),n>t.Zn&&(t.Fp&&!t.Hl?(t.Dd=+new Date,t.Zn=t.Dd+t.vd,t.Hl=!0):t.xm(!1))}}}function Xf(t,e){for(var i=t.vd,n=t.lc.iterator,r=t.Hl;n.next();){var l=n.key;if(!(l instanceof jn&&null===l.diagram)){var v=n.value,_=r?v.end:v.start;v=r?v.start:v.end;var O,D=gu;for(O in v)"position"===O&&(v["position:placeholder"]||v["position:nodeCollapse"])||null===D.get(O)||D.get(O)(l,_[O],v[O],t.Ir,e,i,t)}}}function Ld(t,e,i,n){return 1>(t/=n/2)?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e}function V0(t,e,i,n){return t===n?e+i:i*(1-Math.pow(2,-10*t/n))+e}function vu(t,e,i){this.start=t,this.end=e,this.Qv={},this.Kv=i,this.sw=!1}function yl(t,e,i){this.pd=null,this.gf=t,this.cq=i||Wu,this.bl=null,void 0!==e&&(this.bl=e,void 0===i&&(this.cq=qf))}Me.className="AnimationManager",Me.defineAnimationEffect=function(t,e){mh||(Rl(),mh=!0),gu.add(t,e)},Me.Default=gh,Me.AnimateLocations=Rh,Me.None=Tc,ga.prototype.suspend=function(){this.Il=!0},ga.prototype.advanceTo=function(t,e){e&&(this.Il=!1),this.Fp&&t>=this.vd&&(this.Hl=!0,t-=this.vd),this.tx=t,bs(this,!0),Xr(this.Uc),Pc(this.B),So(this.Uc),this.B.redraw()},(Q=ga.prototype).start=function(){if(0!==this.lc.count&&!this.jc){for(var t=this.B,e=this.lc.iterator;e.next();){var i=e.value.end,n=e.key;if(i["position:placeholder"]){var r=n.findVisibleNode();if(r instanceof Qi&&null!==r.placeholder){var l=r.placeholder;(r=l.da(Hr)).x+=(l=l.padding).left,r.y+=l.top,i["position:placeholder"]=r}}null===t&&(n instanceof di?t=n:n instanceof jn&&(t=n.diagram))}null!==t&&(this.B=t,!1!==(e=this.Uc=t.animationManager).isEnabled&&(this.vd=isNaN(this.Yg)?e.duration:this.Yg,this.Ir=this.Ku,e.zl&&e.Al===gh&&this===e.defaultAnimation&&(this.Ir=V0,this.vd=isNaN(this.Yg)?600===e.duration?900:e.duration:this.Yg),this.px=t.scrollMode,this.isViewportUnconstrained&&(t.Ti=Tm),Xr(e),this.qm.each(function(v){v.data=null,t.add(v)}),So(e),this.jc=!0,this.Dd=+new Date,this.Zn=this.Dd+this.vd,function(t,e){function i(){if(0<r.ot.count&&(n.addAll(r.ot),r.ot.clear(),r.jc=!0),!1!==r.jc&&0!==n.count){r.tv.addAll(n);for(var l=r.tv.iterator;l.next();){var v=l.value;if(!1!==v.jc){t:if(0<v.qm.count)var _=!0;else{for(_=v.lc.iterator;_.next();){var D=_.key;if(D instanceof jn&&null!==D.diagram||D instanceof di){_=!0;break t}}_=!1}_?bs(v,!1):v.Il=!0}}r.tv.clear(),Xr(r),Pc(r.B),So(r),B.requestAnimationFrame(i)}}var n=t.yj,r=t;t.jc?t.ot.add(e):(t.jc=!0,n.add(e),B.requestAnimationFrame(function(){i()}))}(e,this)))}},Q.sz=function(t,e){t.Nc()&&(this.qm.add(t),this.B=e)},Q.add=function(t,e,i,n,r){if("position"!==e||!i.w(n)){if(null===this.B&&(t instanceof di?this.B=t:t instanceof jn&&null!==t.diagram&&(this.B=t.diagram)),t instanceof qt){if(!t.isAnimated)return;"position"===e&&(e="position:part")}Op(this,t,e,i,n,r)}},Q.cu=function(t){return!!this.jc&&null!==(t=this.lc.G(t))&&t.sw},Q.ew=function(t){return!!this.jc&&null!==(t=this.lc.G(t))&&(t.start.position||t.start.location)},Q.stop=function(){this.jc&&this.xm(!0)},Q.xm=function(t){if(null!==this.xv&&this.xv.Mp.remove(this.Ox),this.jc){var e=this.B,i=this.Uc;this.Il=this.jc=i.zl=!1,Xr(i);for(var n=this.lc,r=this.qm.iterator;r.next();)e.remove(r.value);for(r=this.jv.iterator;r.next();)r.value.s();r=this.Fp,n=n.iterator;for(var l=gu;n.next();){var $,v=n.key,_=n.value,D=r?_.end:_.start,O=r?_.start:_.end,V=_.Qv;for($ in O)if(null!==l.get($)){var vt=$;!_.Kv||"position:nodeCollapse"!==vt&&"position:placeholder"!==vt||(vt="position"),l.get(vt)(v,D[$],void 0!==V[$]?V[$]:_.Kv?D[$]:O[$],this.Ir,this.vd,this.vd,this)}_.Kv&&void 0!==V.location&&v instanceof qt&&(v.location=V.location),_.sw&&v instanceof qt&&v.Ob(!1)}if(e.Yt.clear(),aa(e,!1),e.Na(),e.M(),Pc(e,!0),i.defaultAnimation===this){for($=i.$l.iterator;$.next();)null!==(r=$.value).jf&&(r.points=r.jf,r.jf=null);i.$l.clear()}this.isViewportUnconstrained&&(e.scrollMode=this.px),So(i),this.mv++,!t&&this.nv>this.mv?(this.Hl=!1,this.start()):(this.$n&&this.$n(this),pf(this,null),i.xm(this),e.Db())}},Q.lk=function(t,e){var i=e.actualBounds,n=null;if(e instanceof Qi&&(n=e.placeholder),null!==n?((i=n.da(Hr)).x+=(n=n.padding).left,i.y+=n.top,this.add(t,"position",i,t.position,!1)):this.add(t,"position",new ht(i.x+i.width/2,i.y+i.height/2),t.position,!1),this.add(t,"scale",.01,t.scale,!1),t instanceof Qi)for(t=t.memberParts;t.next();)(n=t.value)instanceof Si&&this.lk(n,e)},Q.jk=function(t,e){if(t.isVisible()){var i=null;if(e instanceof Qi&&(i=e.placeholder),null!==i?this.add(t,"position:placeholder",t.position,i,!0):this.add(t,"position:nodeCollapse",t.position,e,!0),this.add(t,"scale",t.scale,.01,!0),(i=this.lc).contains(t)&&(i.G(t).sw=!0),t instanceof Qi)for(t=t.memberParts;t.next();)(i=t.value)instanceof Si&&this.jk(i,e)}},Q.pA=function(t){var e=this.iv.get(t);return null===e&&this.iv.add(t,e={}),e},H.Object.defineProperties(ga.prototype,{duration:{get:function(){return this.Yg},set:function(t){1>t&&ot(t,">= 1",ga,"duration"),this.Yg=t}},reversible:{get:function(){return this.Fp},set:function(t){this.Fp=t}},runCount:{get:function(){return this.nv},set:function(t){0<t?this.nv=t:U("Animation.runCount value must be a positive integer.")}},finished:{get:function(){return this.$n},set:function(t){this.$n!==t&&(this.$n=t)}},easing:{get:function(){return this.Ku},set:function(t){this.Ku=t}},isViewportUnconstrained:{get:function(){return this.l},set:function(t){this.l=t}},isAnimating:{get:function(){return this.jc}}}),ga.prototype.getTemporaryState=ga.prototype.pA,ga.prototype.stop=ga.prototype.stop,ga.prototype.add=ga.prototype.add,ga.prototype.addTemporaryPart=ga.prototype.sz,ga.className="Animation",ga.EaseLinear=function(t,e,i,n){return i*t/n+e},ga.EaseInOutQuad=Ld,ga.EaseInQuad=function(t,e,i,n){return i*(t/=n)*t+e},ga.EaseOutQuad=function(t,e,i,n){return-i*(t/=n)*(t-2)+e},ga.EaseInExpo=function(t,e,i,n){return 0===t?e:i*Math.pow(2,10*(t/n-1))+e},ga.EaseOutExpo=V0,vu.className="AnimationState",yl.prototype.copy=function(){var t=new yl(this.gf);t.cq=this.cq;var e=this.bl;if(null!==e){var i={};void 0!==e.duration&&(i.ny=e.duration),void 0!==e.finished&&(i.ny=e.finished),void 0!==e.easing&&(i.ny=e.easing),t.bl=i}return t},H.Object.defineProperties(yl.prototype,{propertyName:{get:function(){return this.gf},set:function(t){this.gf=t}},animationSettings:{get:function(){return this.bl},set:function(t){this.bl=t}},startCondition:{get:function(){return this.cq},set:function(t){this.cq=t}}});var Wu=new St(yl,"Default",1),qf=new St(yl,"Immediate",2),j0=new St(yl,"Bundled",3);function Eo(){Se(this),this.B=null,this.Fa=new zt,this.oa="",this.hb=1,this.u=!1,this.l=this.Pi=this.I=this.ii=this.hi=this.gi=this.fi=this.di=this.ei=this.ci=this.ki=this.bi=this.ji=this.ai=this.$h=!0,this.rp=[]}function Nd(t,e){var i=1;return 1!==t.hb&&(e.globalAlpha=(i=e.globalAlpha)*t.hb),i}function pg(t,e,i){if(e=function(t,e,i){var n=i.zOrder;if(isNaN(n))return e;var r=(t=t.Fa).count;if(1>=r)return e;if(0>e&&(e=t.indexOf(i)),0>e)return-1;for(var l=e-1,v=NaN;0<=l&&(v=t.J(l).zOrder,isNaN(v));)l--;for(var _=e+1,D=NaN;_<r&&(D=t.J(_).zOrder,isNaN(D));)_++;if(!isNaN(v)&&v>n)for(;;){if(-1===l||v<=n){if(++l===e)break;return t.cb(e),t.wb(l,i),l}for(v=NaN;0<=--l&&(v=t.J(l).zOrder,isNaN(v)););}else if(!isNaN(D)&&D<n)for(;;){if(_===r||D>=n){if(--_===e)break;return t.cb(e),t.wb(_,i),_}for(D=NaN;++_<r&&(D=t.J(_).zOrder,isNaN(D)););}return e}(t,e,i),i instanceof Qi&&null!==i&&isNaN(i.zOrder)){if(0!==i.memberParts.count){for(var n=-1,r=t.Fa.j,l=r.length,v=0;v<l;v++){var _=r[v];if(_===i&&(e=v,0<=n)||0>n&&_.containingGroup===i&&(n=v,0<=e))break}!(0>n)&&n<e&&((r=t.Fa).cb(e),r.wb(n,i))}null!==(i=i.containingGroup)&&pg(t,-1,i)}}function di(t){if(1<arguments.length&&U("Diagram constructor can only take one optional argument, the DIV HTML element or its id."),Pm||(lv(),Pm=!0),Se(this),$d=this,this.Sb=!0,this.Uc=new Me,this.Uc.ee(this),this.rb=17,this.Gl=this.pv=!1,this.Ss="default",this.Da=null,va){var e=this,i=function(){e.removeEventListener(B.document,"DOMContentLoaded",i,!1),e.setRTL()};null!==B.document.body?this.setRTL():e.addEventListener(B.document,"DOMContentLoaded",i,!1)}this.Ma=new zt,this.ua=this.va=0,this.Zl=this.ya=null,this.Kx=new yt,this.hf=this.Gb=null,this.xw(),this.Nj=null,this.ww(),this.hb=1,this.la=new ht(NaN,NaN).freeze(),this.Ts=new ht(NaN,NaN),this.Qn=this.Aa=1,this.es=new ht(NaN,NaN).freeze(),this.fs=NaN,this.xs=1e-4,this.vs=100,this.sb=new or,this.xt=new ht(NaN,NaN).freeze(),this.Zr=new he(NaN,NaN,NaN,NaN).freeze(),this.Si=new Je(0,0,0,0).freeze(),this.Ti=lc,this.at=!1,this.Us=this.Ns=null,this.Og=Ta,this.Dj=us,this.Yf=Ta,this.to=us,this.gs=this.ds=Hr,this.Dc=!0,this.El=!1,this.wd=new Pt,this.Vg=new yt,this.rl=!0,this.qn=250,this.Bj=-1,this.sn=new Je(16,16,16,16).freeze(),this.Hj=this.Ee=!1,this.Kj=!0,this.Wf=new yi,this.Wf.diagram=this,this.od=new yi,this.od.diagram=this,this.hh=new yi,this.hh.diagram=this,this.we=this.Of=null,this.hk=!1,this.Pr=this.Qr=null,this.zj=B.PointerEvent&&(h||k||ft)&&B.navigator&&!1!==B.navigator.msPointerEnabled,Am(this),this.Dh=new Pt,this.qs=!0,this.rt=gs,this.Uu=!1,this.tt=Zd,this.La=null,Fp.add("Model",qr),this.Jr=this.Mr=this.pt=null,this.Pn=this.Hr="auto",this.gg=this.As=this.ig=this.jg=this.lg=this.Qf=this.Uf=this.Pf=null,this.cs=!1,this.Rf=this.wg=this.kg=this.hg=null,this.Bs=!1,this.Ls={},this.bk=[null,null],this.Br=null,this.Nr=this.gt=this.rv=this.vg=!1,this.av=!0,this.yi=this.ac=!1,this.cc=null;var n=this;this.Cc=function(r){var l=n.partManager;if(r.model===l.diagram.model&&l.diagram.Z){l.diagram.Z=!1;try{""===r.modelChange&&r.change===rn&&l.updateDataBindings(r.object,r.propertyName)}finally{l.diagram.Z=!0}}},this.Tc=function(r){n.partManager.doModelChanged(r)},this.zv=!0,this.Xd=-2,this.pg=new yt,this.Wl=new zt,this.$f=!1,this.ai=this.$h=this.nr=this.md=!0,this.pr=!1,this.vr=this.tr=this.ii=this.hi=this.gi=this.fi=this.di=this.ei=this.ci=this.sr=this.ki=this.bi=this.ji=this.qr=!0,this.Zf=this.Xu=!1,this.ur=this.rr=this.wl=this.vl=!0,this.$s=this.Ws=16,this.Vs=this.Op=!1,this.Pp=this.Ys=null,this.Xs=this.Zs=0,this.ib=new Je(5).freeze(),this.qv=(new Pt).freeze(),this.ws=999999999,this.Su=(new Pt).freeze(),this.xi=this.wi=this.vi=!0,this.Ye=this.pe=!1,this.kc=null,this.Ng=!0,this.qe=!1,this.Ax=new Pt,this.Tu=new Pt,this.Gc=null,this.Vl=1,this.sv=0,this.Ic={scale:1,position:new ht,bounds:new he,Gv:new De,kw:new De,hw:!1},this.Rx=new he(NaN,NaN,NaN,NaN).freeze(),this.sm=new De(NaN,NaN).freeze(),this.Rn=new he(NaN,NaN,NaN,NaN).freeze(),this.rs=!1,this.Lo=this.qo=this.kp=this.Fu=this.Eu=this.Gu=this.bg=this.fh=this.df=this.Tr=null,Ip(this),this.Ib=null,this.po=!1,this.Ej=null,this.partManager=new qr,this.toolManager=new jr,this.toolManager.initializeStandardTools(),this.currentTool=this.defaultTool=this.toolManager,this.Sr=null,this.kl=new id,this.Gs=this.Fs=null,this.fq=!1,this.commandHandler=nc(),this.model=lm(),this.vg=!0,Lu(this),this.layout=new Rr,this.vg=!1,this.ux=this.Ju=null,this.Tb=1,this.yh=null,this.Xo=1,this.cp=0,this.hv=[0,0,0,0,0],this.ep=0,this.xd=1,this.Sj=0,this.Go=new ht,this.qt=500,this.rn=new ht,this.re=!1,this.Qk=this.Rk=this.Pk=this.Ok=this.Jk=this.Lk=this.Kk=this.Hk=this.Ik=this.Ww=this.Mw=this.Nw=this.Ow=null,this.Yq=function(){},this.preventDefault=null,this.wo=!1,this.ui=new jp,this.gq=!1,void 0!==t&&ed(this,t),this.ao=null,this.bo=Vn,this.Sb=!1}function _m(t,e){t.animationManager.Bc(!0),t.qv=(new Pt).freeze(),t.Su=(new Pt).freeze();var i=t.skipsUndoManager;null!==t.model&&(t.skipsUndoManager=!0);var n=null;null!==t.Ib&&null!==(n=t.Ib.part)&&t.remove(n);var r=[],l=t.Ma.length;if(e){for(e=0;e<l;e++)for(var v=t.Ma.j[e].parts;v.next();){var _=v.value;_!==n&&null===_.data&&r.push(_)}for(e=0;e<r.length;e++)t.remove(r[e])}for(e=0;e<l;e++)t.Ma.j[e].clear();return t.partManager.clear(),t.wd.clear(),t.Vg.clear(),t.Dh.clear(),t.Ej=null,t.Wl.clear(),ca(),t.pg.clear(),Mt=[],null!==n&&(t.add(n),t.partManager.parts.remove(n)),null!==t.model&&(t.skipsUndoManager=i),r}function nc(){return null}function Ip(t){t.df=new yt;var e=new Si,i=new Br;i.bind(new Ms("text","",p)),e.add(i),t.Gu=e,t.df.add("",e),e=new Si,(i=new Br).stroke="brown",i.bind(new Ms("text","",p)),e.add(i),t.df.add("Comment",e),(e=new Si).selectable=!1,e.avoidable=!1,(i=new sr).figure="Ellipse",i.fill="black",i.stroke=null,i.desiredSize=new De(3,3).ca(),e.add(i),t.df.add("LinkLabel",e),t.fh=new yt,(e=new Qi).selectionObjectName="GROUPPANEL",e.type=Xi.Vertical,(i=new Br).font="bold 12pt sans-serif",i.bind(new Ms("text","",p)),e.add(i),(i=new Xi(Xi.Auto)).name="GROUPPANEL";var n=new sr;n.figure="Rectangle",n.fill="rgba(128,128,128,0.2)",n.stroke="black",i.add(n),(n=new Rn).padding=new Je(5,5,5,5).ca(),i.add(n),e.add(i),t.Eu=e,t.fh.add("",e),t.bg=new yt,e=new Bi,(i=new sr).isPanelMain=!0,e.add(i),(i=new sr).toArrow="Standard",i.fill="black",i.stroke=null,i.strokeWidth=0,e.add(i),t.Fu=e,t.bg.add("",e),e=new Bi,(i=new sr).isPanelMain=!0,i.stroke="brown",e.add(i),t.bg.add("Comment",e),(e=new Ji).type=Xi.Auto,(i=new sr).fill=null,i.stroke="dodgerblue",i.strokeWidth=3,e.add(i),(i=new Rn).margin=new Je(1.5,1.5,1.5,1.5).ca(),e.add(i),t.kp=e,t.qo=e,(e=new Ji).type=Xi.Link,(i=new sr).isPanelMain=!0,i.fill=null,i.stroke="dodgerblue",i.strokeWidth=3,e.add(i),t.Lo=e}function Jl(t){30<t.cp&&(t.yh=1)}function aa(t,e){null!==t.yh&&(t.yh=null,e&&t.Yq(),Dt&&Dt.my||(t.cp=0,t.hv=[0,0,0,0,0],t.ep=0))}function el(t){if(null!==t.ya){var e=t.Da;if(0!==e.clientWidth&&0!==e.clientHeight){t.pv||t.setScrollWidth();var i=t.Ye?t.rb:0,n=t.pe?t.rb:0,r=t.Tb;t.Tb=t.computePixelRatio(),t.Tb!==r&&(t.El=!0,t.Db()),(e.clientWidth!==t.va+i||e.clientHeight!==t.ua+n)&&(t.wi=!0,t.Dc=!0,null!==(e=t.layout)&&e.isViewportSized&&t.autoScale===Ta&&(t.Hj=!0,e.C()),t.ac||t.Db())}}}function Lu(t){var e=new Eo;e.name="Background",t.um(e),(e=new Eo).name="",t.um(e),(e=new Eo).name="Foreground",t.um(e),(e=new Eo).name="Adornment",e.isTemporary=!0,e.isInDocumentBounds=!1,t.um(e),(e=new Eo).name="Tool",e.isTemporary=!0,e.isInDocumentBounds=!0,t.um(e),(e=new Eo).name="Grid",e.allowSelect=!1,e.pickable=!1,e.isTemporary=!0,e.isInDocumentBounds=!1,t.Ux(e,t.xk("Background"))}function ov(t){t.Ib=new Xi(Xi.Grid),t.Ib.name="GRID";var e=new sr;e.figure="LineH",e.stroke="lightgray",e.strokeWidth=.5,e.interval=1,t.Ib.add(e),(e=new sr).figure="LineH",e.stroke="gray",e.strokeWidth=.5,e.interval=5,t.Ib.add(e),(e=new sr).figure="LineH",e.stroke="gray",e.strokeWidth=1,e.interval=10,t.Ib.add(e),(e=new sr).figure="LineV",e.stroke="lightgray",e.strokeWidth=.5,e.interval=1,t.Ib.add(e),(e=new sr).figure="LineV",e.stroke="gray",e.strokeWidth=.5,e.interval=5,t.Ib.add(e),(e=new sr).figure="LineV",e.stroke="gray",e.strokeWidth=1,e.interval=10,t.Ib.add(e),(e=new qt).add(t.Ib),e.layerName="Grid",e.zOrder=0,e.isInDocumentBounds=!1,e.isAnimated=!1,e.pickable=!1,e.locationObjectName="GRID",t.add(e),t.partManager.parts.remove(e),t.Ib.visible=!1}function Fd(){this.B.Vs?this.B.Vs=!1:this.B.isEnabled?this.B.iy(this):Ud(this.B)}function Ha(t){this.B.isEnabled?(this.B.Zs=t.target.scrollTop,this.B.Xs=t.target.scrollLeft):Ud(this.B)}function _a(t){if(t.fixedBounds.o()){var e=t.fixedBounds.copy();return e.uq(t.ib),e}for(var i=!0,n=t.Ma.j,r=n.length,l=0;l<r;l++){var v=n[l];if(v.visible&&v.isInDocumentBounds)for(var _=(v=v.Fa.j).length,D=0;D<_;D++){var O=v[D];O.isInDocumentBounds&&O.isVisible()&&(O=O.actualBounds).o()&&(i?(i=!1,e=O.copy()):e.Rc(O))}}return i&&(e=new he(0,0,0,0)),e.uq(t.ib),e}function Gs(t,e){if((e||t.qe)&&!t.Sb&&null!==t.ya&&t.documentBounds.o()){if(e){var i=t.initialPosition;if(i.o())return void(t.position=i);(i=ht.alloc()).tj(t.documentBounds,t.initialDocumentSpot);var n=t.viewportBounds;n=he.allocAt(0,0,n.width,n.height);var r=ht.alloc();r.tj(n,t.initialViewportSpot),r.h(i.x-r.x,i.y-r.y),t.position=r,he.free(n),ht.free(r),ht.free(i)}t.Sb=!0,i=t.Og,e&&t.Yf!==Ta&&(i=t.Yf),n=i!==Ta?Ll(t,i):t.scale,i=t.viewportBounds.copy(),r=t.va/n;var l=t.ua/n,v=t.Dj,_=t.to;e&&!v.kb()&&(_.kb()||_.Mb())&&(v=_.Mb()?ar:_),Nl(t,t.documentBounds,r,l,v,e),e=t.scale,t.scale=n,t.Sb=!1,(n=t.viewportBounds).Qa(i)||t.onViewportBoundsChanged(i,n,e,!1),Fh(t),jd(t,!0,!1)}}function Ll(t,e){var i=t.Qn;if(null===t.ya)return i;t.Ta();var n=t.documentBounds;if(!n.o())return i;var r=n.width,l=t.va+(t.Ye?t.rb:0),v=t.ua+(t.pe?t.rb:0),_=l/r,D=v/(n=n.height);return e===zh?((e=Math.min(D,_))>i&&(e=i),e<t.minScale&&(e=t.minScale),e>t.maxScale&&(e=t.maxScale),e):e===td?((e=D>_?(v-t.rb)/n:(l-t.rb)/r)>i&&(e=i),e<t.minScale&&(e=t.minScale),e>t.maxScale&&(e=t.maxScale),e):t.scale}function Nl(t,e,i,n,r,l){var v=ht.allocAt(t.la.x,t.la.y),_=v.x,D=v.y;if(null!==t.ao){var O=ht.alloc();_=(O=t.ao.da(Hr,O)).x-t.bo.x/t.scale,D=O.y-t.bo.y/t.scale,r=xr,ht.free(O)}(l||t.scrollMode===lc)&&(r.kb()&&(i>e.width&&(_=e.x+(r.x*e.width+r.offsetX)-(r.x*i-r.offsetX)),n>e.height&&(D=e.y+(r.y*e.height+r.offsetY)-(r.y*n-r.offsetY))),l=i-e.width,i<e.width+(r=t.Si).left+r.right?(_=Math.min(_+i/2,e.right+Math.max(l,r.right)-i/2),_=Math.max(_,e.left-Math.max(l,r.left)+i/2),_-=i/2):_>e.left?_=e.left:_<e.right-i&&(_=e.right-i),i=n-e.height,n<e.height+r.top+r.bottom?(D=Math.min(D+n/2,e.bottom+Math.max(i,r.bottom)-n/2),D=Math.max(D,e.top-Math.max(i,r.top)+n/2),D-=n/2):D>e.top?D=e.top:D<e.bottom-n&&(D=e.bottom-n)),v.x=isFinite(_)?_:-t.ib.left,v.y=isFinite(D)?D:-t.ib.top,null!==t.positionComputation&&(e=t.positionComputation(t,v),v.x=e.x,v.y=e.y),t.Uc.sc&&Vo(t.Uc,t.la,v),t.la.h(v.x,v.y),ht.free(v)}function Jf(t,e,i,n){for(void 0===i&&(i=null),void 0===n&&(n=null),Ys(t),t=t.Ma.iteratorBackwards;t.next();){var r=t.value;if(r.visible&&!r.isTemporary&&null!==(r=r.Vb(e,i,n)))return r}return null}function Lh(t,e,i){var n=t.od;return t.od=t.hh,t.hh=n,n.diagram=t,n.event=e,i?Ku(t,e,n):(n.viewPoint=t.od.viewPoint,n.documentPoint=t.od.documentPoint),t=0,e.ctrlKey&&(t+=1),e.altKey&&(t+=2),e.shiftKey&&(t+=4),e.metaKey&&(t+=8),n.modifiers=t,n.button=e.button,void 0===e.buttons||C||(n.buttons=e.buttons),at&&0===e.button&&e.ctrlKey&&(n.button=2),n.down=!1,n.up=!1,n.clickCount=1,n.delta=0,n.handled=!1,n.bubbles=!1,n.timestamp=e.timeStamp,n.isMultiTouch=!1,n.targetDiagram=Ga(e),n.targetObject=null,n}function Ga(t){var e=t.target.B;if(!e){var i=t.path;i||"function"!=typeof t.composedPath||(i=t.composedPath()),i&&i[0]&&(e=i[0].B)}return e||null}function Ya(t,e,i,n){var r=Nh(t,e,!0,!1,!0,n);return Ku(t,i,r),r.targetDiagram=Ga(e),r.targetObject=null,n||r.clone(t.Wf),r}function Bd(t,e,i,n){if(n=Nh(t,e,!1,!1,!1,n),null!==i){var r=B.document.elementFromPoint(i.clientX,i.clientY);null!==r&&null!=r.shadowRoot&&(r=r.shadowRoot.elementFromPoint(i.clientX,i.clientY)),r&&r.B?(e=i,i=r.B):(e=void 0!==e.targetTouches?e.targetTouches[0]:e,i=t),n.targetDiagram=i,Ku(t,e,n)}else null!==t.od?(n.documentPoint=t.od.documentPoint,n.viewPoint=t.od.viewPoint,n.targetDiagram=t.od.targetDiagram):null!==t.Wf&&(n.documentPoint=t.Wf.documentPoint,n.viewPoint=t.Wf.viewPoint,n.targetDiagram=t.Wf.targetDiagram);return n.targetObject=null,n}function Nh(t,e,i,n,r,l){var v=t.od;t.od=t.hh,t.hh=v,v.diagram=t,v.clickCount=1;var _=v.delta=0;return e.ctrlKey&&(_+=1),e.altKey&&(_+=2),e.shiftKey&&(_+=4),e.metaKey&&(_+=8),v.modifiers=_,v.button=0,v.buttons=1,v.event=e,v.timestamp=e.timeStamp,t.zj&&e instanceof B.PointerEvent&&"touch"!==e.pointerType&&(v.button=e.button,void 0===e.buttons||C||(v.buttons=e.buttons),at&&0===e.button&&e.ctrlKey&&(v.button=2)),v.down=i,v.up=n,v.handled=!1,v.bubbles=r,v.isMultiTouch=l,v}function Fl(t,e){return!!t.bubbles||(void 0!==e.stopPropagation&&e.stopPropagation(),!1!==e.cancelable&&e.preventDefault(),e.cancelBubble=!0,!1)}function Ku(t,e,i){var n=t.ya,r=t.va,l=t.ua,v=0,_=0;null!==n&&(n=n.getBoundingClientRect(),v=e.clientX-r/n.width*n.left,_=e.clientY-l/n.height*n.top),i.viewPoint.h(v,_),null!==t.sb?(e=ht.allocAt(v,_),t.sb.Jd(e),i.documentPoint.assign(e),ht.free(e)):i.documentPoint.h(v,_)}function Vd(t,e,i,n){if(void 0!==e.targetTouches){if(2>e.targetTouches.length)return;e=e.targetTouches[i]}else{if(null===t.bk[0])return;e=t.bk[i]}null!==(i=t.ya)&&(i=i.getBoundingClientRect(),n.h(e.clientX-t.va/i.width*i.left,e.clientY-t.ua/i.height*i.top))}function jd(t,e,i){t.animationManager.defaultAnimation.isAnimating||t.Sb||!t.wi||Ud(t)||(e&&Ys(t),i&&Gs(t,!1))}function Pc(t,e){if(!t.ac&&(t.Ee=!1,null!==t.Da||t.sm.o())){t.ac=!0;var i=t.animationManager,n=t.Wl;if(!i.isAnimating&&0!==n.length){for(var r=n.j,l=r.length,v=0;v<l;v++){var _=r[v];rl(_,!1),_.s()}n.clear()}0<(n=t.Tu).count&&(n.each(function(D){D.Vw()}),n.clear()),r=n=!1,i.defaultAnimation.isAnimating&&(r=!0,n=t.skipsUndoManager,t.skipsUndoManager=!0),i.sc||el(t),jd(t,!1,!0),null!==t.Ib&&(t.Ib.visible&&!t.po&&(oc(t),t.po=!0),!t.Ib.visible&&t.po&&(t.po=!1)),Ys(t),l=!1,(!t.qe||t.Ng)&&(t.qe?Wd(t,!t.Hj):(t.xa("Initial Layout"),!1===i.isEnabled&&i.Bc(),Wd(t,!1)),l=!0),t.Hj=!1,Ys(t),t.gt||function(t){t.ac||Ys(t),t.Ta()}(t),jd(t,!0,!1),v=!1,l?((i=he.alloc()).assign(t.viewportBounds),t.qe||(v=t.qe=!0,t.skipsUndoManager||(t.undoManager.isPendingClear=!0),t.undoManager.isPendingUnmodified=!0,function(t){var e=t.Aa;if(t.Yf!==Ta)t.scale=Ll(t,t.Yf);else if(t.Og!==Ta)t.scale=Ll(t,t.Og);else{var i=t.initialScale;isFinite(i)&&0<i&&(t.scale=i)}t.Aa!==e&&(Fh(t),jd(t,!0,!1)),Gs(t,!0),t.Nd(e=t.Ma.j,e.length,t),t.R("InitialLayoutCompleted"),t.Ts.assign(t.la),oc(t)}(t)),t.R("LayoutCompleted"),i.w(t.viewportBounds)||jd(t,!0,!1),he.free(i)):i.zl&&i.Qx&&(t.Yf!==Ta?t.scale=Ll(t,t.Yf):t.Og!==Ta?t.scale=Ll(t,t.Og):(i=t.initialScale,isFinite(i)&&0<i&&(t.scale=i)),Gs(t,!0)),Ys(t),l&&v&&t.Xa("Initial Layout"),t.Hv(),e||t.mc(t.Gb),r&&(t.skipsUndoManager=n),t.ac=!1}}function Ys(t){if((t.ac||!t.animationManager.isTicking)&&0!==t.wd.count){for(var e=0;23>e;e++){var i=t.wd.iterator;if(null===i||0===t.wd.count)break;t.wd=new Pt,t.Vw(i,t.wd)}t.nodes.each(function(n){n instanceof Qi&&0!=(65536&n.P)&&(n.P=65536^n.P)})}}function Rp(t,e){for(var i=o(),n=o(),r=e.memberParts;r.next();){var l=r.value;l.isVisible()&&(l instanceof Qi?(Ps(l)||Vl(l)||Ii(l))&&Rp(t,l):l instanceof Bi?l.fromNode===e||l.toNode===e?n.push(l):i.push(l):(l.measure(1/0,1/0),l.arrange()))}for(t=i.length,r=0;r<t;r++)(l=i[r]).measure(1/0,1/0),l.arrange();for(c(i),e.measure(1/0,1/0),e.arrange(),t=n.length,e=0;e<t;e++)(i=n[e]).measure(1/0,1/0),i.arrange();c(n)}function mf(t,e,i,n,r,l,v,_,D,O){if(null!==t.Da){null===t.ya&&U("No canvas specified"),void 0===v&&(v=null),void 0===_&&(_=null),void 0===D&&(D=!1),void 0===O&&(O=!1),zd(t),t.Gb.uc(!0),yu(t),t.yi=!0;var V=t.Aa;t.Aa=r;var $=t.Ma.j,vt=$.length;try{var kt=new he(l.x,l.y,n.width/r,n.height/r),bt=kt.copy();bt.uq(i),oc(t,bt),Ys(t),t.Nd($,vt,t,kt),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,n.width,n.height),null!==_&&""!==_&&(e.fillStyle=_,e.fillRect(0,0,n.width,n.height));var Wt=t.Tb;e.scale(Wt,Wt);var de=or.alloc();de.reset(),de.translate(i.left,i.top),de.scale(r),0===l.x&&0===l.y||de.translate(-l.x,-l.y),e.setTransform(de.m11,de.m12,de.m21,de.m22,de.dx,de.dy),or.free(de),mg(t,e),e.globalAlpha=t.hb;var le=t.xk("Grid");if(v){var we=new Pt,Pe=v.iterator;for(Pe.reset();Pe.next();){var Ke=Pe.value;Ke instanceof qt&&(O||Ke.layer!==le)&&we.add(Ke)}for(O=0;O<vt;O++){var ui=$[O];le=e;var $i=t;if(ui.visible&&0!==ui.hb&&(D||!ui.isTemporary)){var vn=ui.Fa.j,tn=vn.length;if(0!==tn){var Bn=Nd(ui,le),yn=ui.rp;yn.length=0;var Zi=$i.scale,Dr=he.alloc();for(i=0;i<tn;i++){var dr=vn[i];we.contains(dr)&&ui.dj(le,dr,$i,yn,Zi,Dr,!1)}he.free(Dr),le.globalAlpha=Bn}}}}else for(we=0;we<vt;we++)($i=$[we])===le?O&&$i.mc(e,t,!0):$i.mc(e,t,D);t.yi=!1,t.ui&&zp(t.ui,t)&&t.Tr()}finally{t.Aa=V,t.Gb.uc(!0),yu(t),t.Nd($,vt,t),oc(t)}}}function mg(t,e){null!==(t=t.hf)&&(void 0!==t.imageSmoothingEnabled&&e.Sy(!!t.imageSmoothingEnabled),null!=(t=t.defaultFont)&&(e.font=t))}function Oc(t,e){var r,i=t instanceof Xi,n=t instanceof di;for(r in e){""===r&&U("Setting properties requires non-empty property names");var l=t,v=r;if(i||n){var _=r.indexOf(".");if(0<_){var D=r.substring(0,_);i?l=t.bb(D):null==(l=t[D])&&(l=t.toolManager[D]),xt(l)?v=r.substr(_+1):U("Unable to find object named: "+D+" in "+t.toString()+" when trying to set property: "+r)}}if("_"!==v[0]&&!w(l,v)){if(n&&"ModelChanged"===v){t.Wx(e[v]);continue}if(n&&"Changed"===v){t.Hh(e[v]);continue}if(n&&w(t.toolManager,v))l=t.toolManager;else{if(n&&Np(t,v)){t.kk(v,e[v]);continue}if(t instanceof Sn&&"Changed"===v){t.Hh(e[v]);continue}U('Trying to set undefined property "'+v+'" on object: '+l.toString())}}l[v]=e[r],"_"===v[0]&&l instanceof jn&&l.Tx(v)}}function Fh(t){!1===t.wi&&(t.wi=!0)}function yu(t){!1===t.xi&&(t.xi=!0)}function zd(t){!1!==t.El&&(t.El=!1,gg(t,t.va,t.ua))}function gg(t,e,i){var n=t.Tb;t.ya.resize(e*n,i*n,e,i)&&(t.Dc=!0,t.Gb.uc(!0))}function Ud(t){var e=t.ya;if(null===e||t.sm.o())return!0;var i=t.Da,n=t.va,r=t.ua,l=t.viewportBounds.copy();if(!l.o())return!0;var v=!1,_=t.Ye?t.rb:0,D=t.pe?t.rb:0,O=i.clientWidth||n+_,V=i.clientHeight||r+D;if((O!==n+_||V!==r+D)&&(t.Ye=!1,t.pe=!1,D=_=0,t.va=O,t.ua=V,v=t.El=!0),!(v||t.Ye||t.pe||t.vl||t.wl))return!0;t.wi=!1;var $=t.viewportBounds,vt=t.documentBounds,kt=0,bt=0,Wt=0,de=0;i=$.width;var le=$.height,we=t.Si;t.contentAlignment.kb()?(vt.width>i&&(kt=we.left,bt=we.right),vt.height>le&&(Wt=we.top,de=we.bottom)):(kt=we.left,bt=we.right,Wt=we.top,de=we.bottom),we=vt.width+kt+bt;var Pe=vt.height+Wt+de;kt=vt.x-kt;var Ke=$.x;bt=vt.right+bt;var ui=$.right+_;Wt=vt.y-Wt;var $i=$.y;vt=vt.bottom+de,$=$.bottom+D;var vn="1px",tn="1px";if(O=we>O/(de=t.scale),V=Pe>V/de,t.scrollMode===lc&&(O||V)&&(O&&t.hasHorizontalScrollbar&&t.allowHorizontalScroll&&(O=1,kt+1<Ke&&(O=Math.max((Ke-kt)*de+t.va,O)),bt>ui+1&&(O=Math.max((bt-ui)*de+t.va,O)),i+_+1<we&&(O=Math.max((we-i)*de+t.va,O)),vn=O.toString()+"px"),V&&t.hasVerticalScrollbar&&t.allowVerticalScroll&&(O=1,Wt+1<$i&&(O=Math.max(($i-Wt)*de+t.ua,O)),vt>$+1&&(O=Math.max((vt-$)*de+t.ua,O)),le+D+1<Pe&&(O=Math.max((Pe-le)*de+t.ua,O)),tn=O.toString()+"px")),V="1px"!==tn,(O="1px"!==vn)&&V||!O&&!V||(V&&(ui-=t.rb),O&&($-=t.rb),we<i+_||!t.hasHorizontalScrollbar||!t.allowHorizontalScroll||(_=1,kt+1<Ke&&(_=Math.max((Ke-kt)*de+t.va,_)),bt>ui+1&&(_=Math.max((bt-ui)*de+t.va,_)),i+1<we&&(_=Math.max((we-i)*de+t.va,_)),vn=_.toString()+"px"),_=t.ua,(O="1px"!==vn)!==t.pe&&(_=O?t.ua-t.rb:t.ua+t.rb),Pe<le+D||!t.hasVerticalScrollbar||!t.allowVerticalScroll||(D=1,Wt+1<$i&&(D=Math.max(($i-Wt)*de+_,D)),vt>$+1&&(D=Math.max((vt-$)*de+_,D)),le+1<Pe&&(D=Math.max((Pe-le)*de+_,D)),tn=D.toString()+"px"),V="1px"!==tn),t.Op&&O===t.pe&&V===t.Ye)return n===t.va&&r===t.ua||t.hd(),!1;if(O!==t.pe&&(t.ua="1px"===vn?t.ua+t.rb:Math.max(t.ua-t.rb,1),v=!0),t.pe=O,t.Pp.style.width=vn,V!==t.Ye&&(t.va="1px"===tn?t.va+t.rb:Math.max(t.va-t.rb,1),v=!0,t.Gl&&(D=ht.alloc(),V?(e.style.left=t.rb+"px",t.position=D.h(t.la.x+t.rb/t.scale,t.la.y)):(e.style.left="0px",t.position=D.h(t.la.x-t.rb/t.scale,t.la.y)),ht.free(D))),t.Ye=V,t.Pp.style.height=tn,t.Vs=!0,v&&(t.El=!0),D=(e=t.Ys).scrollLeft,t.hasHorizontalScrollbar&&t.allowHorizontalScroll&&(i+1<we?D=(t.position.x-kt)*de:kt+1<Ke?D=e.scrollWidth-e.clientWidth:bt>ui+1&&(D=t.position.x*de)),t.Gl)switch(t.Ss){case"negative":D=-(e.scrollWidth-D-e.clientWidth);break;case"reverse":D=e.scrollWidth-D-e.clientWidth}return e.scrollLeft=D,t.hasVerticalScrollbar&&t.allowVerticalScroll&&(le+1<Pe?e.scrollTop=(t.position.y-Wt)*de:Wt+1<$i?e.scrollTop=e.scrollHeight-e.clientHeight:vt>$+1&&(e.scrollTop=t.position.y*de)),V=t.ua,e.style.width=(O=t.va)+(t.Ye?t.rb:0)+"px",e.style.height=V+(t.pe?t.rb:0)+"px",n===O&&r===V&&!t.animationManager.sc||(t.onViewportBoundsChanged(l,t.viewportBounds,de,v),!1)}function Hd(t,e,i){var n=e.layer;null!==n&&n.diagram===t&&(e.isSelected=!1,e.isHighlighted=!1,e.C(2),i&&e.uk(),0<=(i=n.Lc(-1,e,!1))&&t.Va(wn,"parts",n,e,null,i,null),null!==(t=e.layerChanged)&&t(e,n,null))}function Ql(t,e,i,n,r,l){if(!e.contains(i)&&(void 0===l&&(l=!1),!n||l||i.canMove()||i.canCopy()))if(void 0===r&&(r=Ic(t)),i instanceof Si){if(e.add(i,t.Cd(r,i,i.location)),i instanceof Qi&&(null!==i.placeholder||r.dragsMembers))for(l=i.memberParts;l.next();)Ql(t,e,l.value,n,r,r.groupsAlwaysMove);for(l=i.linksConnected;l.next();){var v=l.value;if(!e.contains(v)){var _=v.fromNode,D=v.toNode;null!==_&&e.contains(_)&&null!==D&&e.contains(D)&&Ql(t,e,v,n,r)}}if(r.dragsTree)for(i=i.Wv();i.next();)Ql(t,e,i.value,n,r)}else if(i instanceof Bi)for(e.add(i,t.Cd(r,i)),i=i.labelNodes;i.next();)Ql(t,e,i.value,n,r);else i instanceof Ji||e.add(i,t.Cd(r,i,i.location))}function rc(t,e,i,n,r){if(null!==e&&0!==e.count){var l=ht.alloc(),v=ht.alloc();v.assign(i),isNaN(v.x)&&(v.x=0),isNaN(v.y)&&(v.y=0),(i=t.fq)||ba(t,e);for(var _=o(),D=o(),O=e.iterator,V=ht.alloc();O.next();){var $=O.key,vt=O.value;if($.Nc()){var kt=sv(t,$,e);null!==kt?_.push(new W0($,vt,kt)):(!r||$.canMove())&&(l.assign(kt=vt.point),t.computeMove($,l.add(v),n,V),$.location=V,void 0===vt.shifted&&(vt.shifted=new ht),vt.shifted.assign(V.ge(kt)))}else O.key instanceof Bi&&D.push(O.ka)}for(ht.free(V),r=_.length,O=0;O<r;O++)l.assign(($=_[O]).info.point),void 0===$.$v.shifted&&($.$v.shifted=new ht),$.node.location=l.add($.$v.shifted);for(r=ht.alloc(),O=ht.alloc(),$=D.length,vt=0;vt<$;vt++){var bt=D[vt];if((kt=bt.key)instanceof Bi)if(kt.suspendsRouting){kt.jf=null,V=kt.fromNode;var Wt=kt.toNode;if(null!==t.draggedLink&&n.dragsLink)if(Wt=bt.value.point,null===kt.dragComputation)e.add(kt,t.Cd(n,kt,v)),Do(kt,v.x-Wt.x,v.y-Wt.y);else{bt=ht.allocAt(0,0),(V=kt.i(0))&&V.o()&&bt.assign(V);var de=V=ht.alloc().assign(bt).add(v);n.isGridSnapEnabled&&(n.isGridSnapRealtime||t.lastInput.up)&&Lp(t,kt,V,de=ht.alloc(),n),V.assign(kt.dragComputation(kt,V,de)).ge(bt),e.add(kt,t.Cd(n,kt,V)),Do(kt,V.x-Wt.x,V.y-Wt.y),ht.free(bt),ht.free(V),de!==V&&ht.free(de)}else null!==V&&(r.assign(V.location),null!==(de=e.G(V))&&r.ge(de.point)),null!==Wt&&(O.assign(Wt.location),null!==(de=e.G(Wt))&&O.ge(de.point)),null!==V&&null!==Wt?r.Qa(O)?(V=bt.value.point,(Wt=l).assign(r),Wt.ge(V),e.add(kt,t.Cd(n,kt,r)),Do(kt,Wt.x,Wt.y)):(kt.suspendsRouting=!1,kt.Ua()):(bt=bt.value.point,e.add(kt,t.Cd(n,kt,V=null!==V?r:null!==Wt?O:v)),Do(kt,V.x-bt.x,V.y-bt.y))}else(null===kt.fromNode||null===kt.toNode)&&(V=bt.value.point,e.add(kt,t.Cd(n,kt,v)),Do(kt,v.x-V.x,v.y-V.y))}ht.free(l),ht.free(v),ht.free(r),ht.free(O),c(_),c(D),i||(Ys(t),Qf(t,e))}}function Ic(t){var e=t.toolManager.findTool("Dragging");return null!==e?e.dragOptions:t.kl}function Lp(t,e,i,n,r){if(void 0===r&&(r=Ic(t)),n.assign(i),null!==e){var l=t.grid;t=(e=r.gridSnapCellSize).width,e=e.height;var v=r.gridSnapOrigin,_=v.x;if(v=v.y,r=r.gridSnapCellSpot,null!==l){var D=l.gridCellSize;isNaN(t)&&(t=D.width),isNaN(e)&&(e=D.height),l=l.gridOrigin,isNaN(_)&&(_=l.x),isNaN(v)&&(v=l.y)}(l=ht.allocAt(0,0)).Uk(0,0,t,e,r),ti.Gq(i.x,i.y,_+l.x,v+l.y,t,e,n),ht.free(l)}}function ba(t,e){if(null!==e)for(t.fq=!0,t=e.iterator;t.next();)(e=t.key)instanceof Bi&&(e.suspendsRouting=!0)}function Qf(t,e){if(null!==e){for(e=e.iterator;e.next();){var i=e.key;i instanceof Bi&&(i.suspendsRouting=!1,$s(i)&&i.Ua())}t.fq=!1}}function sv(t,e,i){return null===(e=e.containingGroup)||null===(t=sv(t,e,i))&&null===(t=i.G(e))?null:t}function Bh(t,e,i){if(null!==e.diagram&&e.diagram!==t&&U("Cannot share a Layer with another Diagram: "+e+" of "+e.diagram),null===i?null!==e.diagram&&U("Cannot add an existing Layer to this Diagram again: "+e):(i.diagram!==t&&U("Existing Layer must be in this Diagram: "+i+" not in "+i.diagram),e===i&&U("Cannot move a Layer before or after itself: "+e)),e.diagram!==t){e=e.name,i=(t=t.Ma).count;for(var n=0;n<i;n++)t.J(n).name===e&&U("Cannot add Layer with the name '"+e+"'; a Layer with the same name is already present in this Diagram.")}}function yh(t,e,i){var n=t.animationManager;if(t.Sb||t.ac)t.Aa=i,n.ef&&n.Rd.add(n.B,"scale",e,t.Aa);else if(null===t.ya)t.Aa=i;else{t.Sb=!0;var r=t.viewportBounds.copy(),l=t.va,v=t.ua;r.width=t.va/e,r.height=t.ua/e;var _=t.zoomPoint.x,D=t.zoomPoint.y,O=t.contentAlignment;isNaN(_)&&(O.Oc()?O.Ef(Gr)?_=0:O.Ef(qo)&&(_=l-1):_=O.kb()?O.x*(l-1):l/2),isNaN(D)&&(O.Oc()?O.Ef(ds)?D=0:O.Ef(as)&&(D=v-1):D=O.kb()?O.y*(v-1):v/2),null===t.scaleComputation||t.animationManager.defaultAnimation.isAnimating||(i=t.scaleComputation(t,i)),i<t.minScale&&(i=t.minScale),i>t.maxScale&&(i=t.maxScale),l=ht.allocAt(t.la.x+_/e-_/i,t.la.y+D/e-D/i),t.position=l,ht.free(l),t.Aa=i,t.onViewportBoundsChanged(r,t.viewportBounds,e,!1),t.Sb=!1,Gs(t,!1),n.ef&&n.Rd.add(n.B,"scale",e,t.Aa),t.M(),Fh(t)}}function oc(t,e){void 0===e&&(e=null);var i=t.Ib;if(null!==i&&i.visible){for(var n=De.alloc(),r=1,l=1,v=i.W.j,_=v.length,D=0;D<_;D++){var O=v[D],V=Math.abs(O.interval);2>V||(yc(O.figure)?l=l*V/ti.uy(l,V):r=r*V/ti.uy(r,V))}if(n.h(l*(v=i.gridCellSize).width,r*v.height),null!==e)r=e.width,l=e.height,t=e.x,v=e.y;else{if((e=he.alloc()).h((t=t.viewportBounds).x,t.y,t.width,t.height),!e.o())return void he.free(e);r=e.width,l=e.height,t=e.x,v=e.y,he.free(e)}i.width=r+2*n.width,i.height=l+2*n.height,e=ht.alloc(),ti.Gq(t,v,0,0,n.width,n.height,e),e.offset(-n.width,-n.height),De.free(n),i.part.location=e,ht.free(e)}}function Em(t){var e=t.isModified;t.zv!==e&&(t.zv=e,t.R("Modified"))}function Gd(t,e){for(var i=(e=e.W.j).length,n=0;n<i;n++)$u(t,e[n])}function $u(t,e){if(e instanceof Fa){var i=e.element;if(null!==i&&i instanceof HTMLImageElement){i.Wg instanceof Pt&&i.Wg.add(t);var n=e.Zg;if(null!==n&&!0===n.ls&&null!==e.diagram&&e.diagram.Wl.add(e),i.io)if(i=i.getAttribute("src"),null===(n=t.pg.G(i)))(n=[]).push(e),t.pg.add(i,n);else{for(t=0;t<n.length;t++)if(n[t]===e)return;n.push(e)}}}}function Yd(t,e){if(e instanceof Fa){var i=e.element;if(null!==i&&i instanceof HTMLImageElement&&(i.Wg instanceof Pt&&i.Wg.remove(t),th(i),i.io)){i=i.getAttribute("src");var n=t.pg.G(i);if(null!==n)for(var r=0;r<n.length;r++)if(n[r]===e){n.splice(r,1),0===n.length&&(t.pg.remove(i),ca(i));break}}}}function sc(t,e){t.vi=!1;var i=t.Rn;i.w(e)||(e=e.H(),t.Rn=e,Gs(t,!1),t.R("DocumentBoundsChanged",null,i.copy()),Fh(t))}function ls(t,e){for(var i=t.Dh.iterator;i.next();)Dm(t,i.value,e);null!==t.layout&&(e?t.layout.isValidLayout=!1:t.layout.C())}function Dm(t,e,i){if(null!==e){for(var n=e.Sl.iterator;n.next();)Dm(t,n.value,i);null!==e.layout&&(i?e.layout.isValidLayout=!1:e.layout.C())}}function Wd(t,e){if(t.Ng&&!t.Nr){var i=t.Z;t.Z=!0;var n=t.undoManager.transactionLevel,r=t.layout,l=t.animationManager;try{0===n&&(t.undoManager.isInternalTransaction=!0,t.xa("Layout")),1>=n&&!l.defaultAnimation.isAnimating&&!l.sc&&(e||Xe(l,"Layout")),t.Ng=!1;for(var v=t.Dh.iterator;v.next();)gf(t,v.value,e,n);r.isValidLayout||(!e||r.isRealtime||null===r.isRealtime||0===n?(r.doLayout(t),Ys(t),r.isValidLayout=!0):t.Ng=!0)}finally{e=t.undoManager.isInternalTransaction,0===n&&(t.Xa("Layout"),t.undoManager.isInternalTransaction=!1),!e||0!==n&&1!==n||Mi(l),t.Z=i}}}function gf(t,e,i,n){if(null!==e){for(var r=e.Sl.iterator;r.next();)gf(t,r.value,i,n);null===(r=e.layout)||r.isValidLayout||(!i||r.isRealtime||0===n?(e.Rh=!e.location.o(),r.doLayout(e),e.C(32),Rp(t,e),r.isValidLayout=!0):t.Ng=!0)}}function Am(t){function e(r){var l=r.toLowerCase(),v=new zt;i.add(r,v),i.add(l,v),n.add(r,r),n.add(l,r)}var i=new yt,n=new yt;e("InitialAnimationStarting"),e("AnimationStarting"),e("AnimationFinished"),e("BackgroundSingleClicked"),e("BackgroundDoubleClicked"),e("BackgroundContextClicked"),e("ClipboardChanged"),e("ClipboardPasted"),e("DocumentBoundsChanged"),e("ExternalObjectsDropped"),e("GainedFocus"),e("InitialLayoutCompleted"),e("LayoutCompleted"),e("LinkDrawn"),e("LinkRelinked"),e("LinkReshaped"),e("LostFocus"),e("Modified"),e("ObjectSingleClicked"),e("ObjectDoubleClicked"),e("ObjectContextClicked"),e("PartCreated"),e("PartResized"),e("PartRotated"),e("SelectionMoved"),e("SelectionCopied"),e("SelectionDeleting"),e("SelectionDeleted"),e("SelectionGrouped"),e("SelectionUngrouped"),e("ChangingSelection"),e("ChangedSelection"),e("SubGraphCollapsed"),e("SubGraphExpanded"),e("TextEdited"),e("TreeCollapsed"),e("TreeExpanded"),e("ViewportBoundsChanged"),e("InvalidateDraw"),t.Qr=i,t.Pr=n}function Np(t,e){var i=t.Pr.G(e);return null!==i?i:t.Pr.G(e.toLowerCase())}function Kd(t,e){var i=t.Qr.G(e);if(null!==i||null!==(i=t.Qr.G(e.toLowerCase())))return i;U("Unknown DiagramEvent name: "+e)}function vf(t){if(t.animationManager.isTicking)return!1;var e=t.currentTool;return e!==t.toolManager.findTool("Dragging")||!t.fq||e.isComplexRoutingRealtime}function Vh(t,e,i,n){if(null===t.Gc&&(t.Gc=new f0),t.Gc.Rt||t.Gc.group!==i||t.Gc.Vy!==n){if(null!==i&&(i=yf(t,i)),null===i){(e=t.computeOccupiedArea()).Jc(100,100),t.Gc.initialize(e),e=he.alloc();for(var r=t.nodes;r.next();){var l=r.value,v=l.layer;null!==v&&v.visible&&!v.isTemporary&&xl(t,l,n,e)}he.free(e)}else{for(0<i.memberParts.count&&((e=t.computePartsBounds(i.memberParts,!1)).Jc(20,20),t.Gc.initialize(e)),e=he.alloc(),r=i.memberParts;r.next();)(l=r.value)instanceof Si&&xl(t,l,n,e);he.free(e)}t.Gc.group=i,t.Gc.Vy=n,t.Gc.Rt=!1}else e&&ty(t.Gc);return t.Gc}function yf(t,e){return e.avoidable&&!e.isLinkLabel?e:null!==e.containingGroup?yf(t,e.containingGroup):null}function xl(t,e,i,n){if(e!==i&&e.isVisible())if(e.avoidable&&!e.isLinkLabel){var r=(e=e.getAvoidableRect(n)).x,l=e.y;if(d0(t=t.Gc,r,l))for(i=(l-t.Bd)/t.gc|0,n=Math.min((r+e.width-t.Ad)/t.fc|0,t.Zi),e=Math.min((l+e.height-t.Bd)/t.gc|0,t.$i),r=(r-t.Ad)/t.fc|0;r<=n;r++)if((l=t.Rb[r]).fill)l.fill(qc,i,e+1);else for(var v=i;v<=e;v++)l[v]=qc}else if(e instanceof Qi)for(e=e.memberParts;e.next();)(r=e.value)instanceof Si&&xl(t,r,i,n)}function Rc(t,e){null!==t.Gc&&!t.Gc.Rt&&(void 0===e&&(e=null),null===e||e.avoidable&&!e.isLinkLabel)&&(t.Gc.Rt=!0)}function z0(t){-1===t.Bj&&(t.Bj=Y(function(){if(-1!==t.Bj&&(t.Jf(),null!==t.lastInput.event)){var e=t.computeAutoScrollPosition(t.rn);e.Qa(t.position)||(t.position=e,t.lastInput.documentPoint=t.ou(t.rn),t.doMouseMove(),t.vi=!0,sc(t,t.documentBounds.copy().Rc(t.computeBounds())),t.Dc=!0,t.hd(),z0(t))}},t.qn))}function ac(t,e,i){function n(){var V=+new Date;for(l=!0,v.reset();v.next();)if(!v.value[0].Ol){l=!1;break}l||V-O>D?e(i,r,_):B.requestAnimationFrame(n)}for(var r=i.callback,l=!0,v=t.pg.iterator;v.next();)if(!v.value[0].Ol){l=!1;break}if("function"!=typeof r||l)return e(i,r,t);var _=t,D=i.callbackTimeout||300,O=+new Date;return B.requestAnimationFrame(function(){n()}),null}function km(t,e,i,n){if(t.animationManager.Bc(),t.hd(),null===t.ya)return null;"object"!=typeof e&&U("properties argument must be an Object.");var r=e.size||null,l=e.scale||null;void 0!==e.scale&&isNaN(e.scale)&&(l="NaN");var v=e.maxSize;void 0===e.maxSize&&(v="SVG"===i?new De(1/0,1/0):new De(2e3,2e3));var _=e.position||null,D=e.parts||null,O=void 0===e.padding?1:e.padding,V=e.background||null,$=e.omitTemporary;void 0===$&&($=!0);var vt=e.document||document,kt=e.elementFinished||null,bt=e.showTemporary;void 0===bt&&(bt=!$),void 0===(e=e.showGrid)&&(e=bt),null!==r&&isNaN(r.width)&&isNaN(r.height)&&(r=null),"number"==typeof O?O=new Je(O):O instanceof Je||U("MakeImage padding must be a Margin or a number."),O.left=Math.max(O.left,0),O.right=Math.max(O.right,0),O.top=Math.max(O.top,0),O.bottom=Math.max(O.bottom,0),t.Gb.uc(!0);var Wt=($=new tu(null,vt)).context;if(!(r||l||D||_))return $.width=t.va+Math.ceil(O.left+O.right),$.height=t.ua+Math.ceil(O.top+O.bottom),"SVG"===i?null===n?null:(n.resize($.width,$.height,$.width,$.height),n.ownerDocument=vt,n.Dq=kt,mf(t,n.context,O,new De($.width,$.height),t.Aa,t.la,D,V,bt,e),n.context):(t.rl=!1,mf(t,Wt,O,new De($.width,$.height),t.Aa,t.la,D,V,bt,e),t.rl=!0,$.context);var de=t.Qn,le=t.documentBounds.copy();if(le.Jw(t.ib),bt)for(var we=t.Ma.j,Pe=we.length,Ke=0;Ke<Pe;Ke++){var ui=we[Ke];if(ui.visible&&ui.isTemporary)for(var $i=(ui=ui.Fa.j).length,vn=0;vn<$i;vn++){var tn=ui[vn];tn.isInDocumentBounds&&tn.isVisible()&&(tn=tn.actualBounds).o()&&le.Rc(tn)}}if(we=new ht(le.x,le.y),null!==D){for(Pe=!0,(Ke=D.iterator).reset();Ke.next();)if((ui=Ke.value)instanceof qt&&(null===($i=ui.layer)||$i.visible)&&(null===$i||bt||!$i.isTemporary)&&ui.isVisible()&&(ui=ui.actualBounds).o())if(Pe){Pe=!1;var Bn=ui.copy()}else Bn.Rc(ui);Pe&&(Bn=new he(0,0,0,0)),le.width=Bn.width,le.height=Bn.height,we.x=Bn.x,we.y=Bn.y}return null!==_&&_.o()&&(we=_,l||(l=de)),Bn=_=0,null!==O&&(_=O.left+O.right,Bn=O.top+O.bottom),Pe=Ke=0,null!==r&&(Ke=r.width,Pe=r.height,isFinite(Ke)&&(Ke=Math.max(0,Ke-_)),isFinite(Pe)&&(Pe=Math.max(0,Pe-Bn))),null!==r&&null!==l?("NaN"===l&&(l=de),r.o()?(r=Ke,le=Pe):isNaN(Pe)?(r=Ke,le=le.height*l):(r=le.width*l,le=Pe)):null!==r?r.o()?(l=Math.min(Ke/le.width,Pe/le.height),r=Ke,le=Pe):isNaN(Pe)?(r=Ke,le=le.height*(l=Ke/le.width)):(r=le.width*(l=Pe/le.height),le=Pe):null!==l?"NaN"===l&&v.o()?(l=Math.min((v.width-_)/le.width,(v.height-Bn)/le.height))>de?(l=de,r=le.width,le=le.height):(r=v.width,le=v.height):(r=le.width*l,le=le.height*l):(l=de,r=le.width,le=le.height),null!==O?(r+=_,le+=Bn):O=new Je(0),null!==v&&(de=v.width,v=v.height,isNaN(de)&&(de=2e3),isNaN(v)&&(v=2e3),isFinite(de)&&(r=Math.min(r,de)),isFinite(v)&&(le=Math.min(le,v))),$.width=Math.ceil(r),$.height=Math.ceil(le),"SVG"===i?null===n?null:(n.resize($.width,$.height,$.width,$.height),n.ownerDocument=vt,n.Dq=kt,mf(t,n.context,O,new De(Math.ceil(r),Math.ceil(le)),l,we,D,V,bt,e),n.context):(t.rl=!1,mf(t,Wt,O,new De(Math.ceil(r),Math.ceil(le)),l,we,D,V,bt,e),t.rl=!0,$.context)}yl.className="AnimationTrigger",yl.Default=Wu,yl.Immediate=qf,yl.Bundled=j0,(Q=Eo.prototype).clear=function(){this.Fa.clear(),this.rp.length=0},Q.ee=function(t){this.B=t},Q.toString=function(t){void 0===t&&(t=0);var e='Layer "'+this.name+'"';if(0>=t)return e;for(var i=0,n=0,r=0,l=0,v=0,_=this.Fa.iterator;_.next();){var D=_.value;D instanceof Qi?r++:D instanceof Si?n++:D instanceof Bi?l++:D instanceof Ji?v++:i++}if(_="",0<i&&(_+=i+" Parts "),0<n&&(_+=n+" Nodes "),0<r&&(_+=r+" Groups "),0<l&&(_+=l+" Links "),0<v&&(_+=v+" Adornments "),1<t)for(t=this.Fa.iterator;t.next();)_+="\n    "+(i=t.value).toString(),null!==(n=i.data)&&Ge(n)&&(_+=" #"+Ge(n)),i instanceof Si?_+=" "+p(n):i instanceof Bi&&(_+=" "+p(i.fromNode)+" "+p(i.toNode));return e+" "+this.Fa.count+": "+_},Q.Vb=function(t,e,i){if(void 0===e&&(e=null),void 0===i&&(i=null),!1===this.Pi)return null;var n=!1;null!==this.diagram&&this.diagram.viewportBounds.$(t)&&(n=!0);for(var r=ht.alloc(),l=this.Fa.j,v=l.length;v--;){var _=l[v];if((!0!==n||!1!==Ai(_))&&_.isVisible()&&(r.assign(t),We(r,_.Fd),null!==(_=_.Vb(r,e,i))&&(null!==e&&(_=e(_)),null!==_&&(null===i||i(_)))))return ht.free(r),_}return ht.free(r),null},Q.hj=function(t,e,i,n){if(void 0===e&&(e=null),void 0===i&&(i=null),n instanceof zt||n instanceof Pt||(n=new Pt),!1===this.Pi)return n;var r=!1;null!==this.diagram&&this.diagram.viewportBounds.$(t)&&(r=!0);for(var l=ht.alloc(),v=this.Fa.j,_=v.length;_--;){var D=v[_];if((!0!==r||!1!==Ai(D))&&D.isVisible()){l.assign(t),We(l,D.Fd);var O=D;D.hj(l,e,i,n)&&(null!==e&&(O=e(O)),null===O||null!==i&&!i(O)||n.add(O))}}return ht.free(l),n},Q.zf=function(t,e,i,n,r){if(void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=!1),r instanceof zt||r instanceof Pt||(r=new Pt),!1===this.Pi)return r;var l=!1;null!==this.diagram&&this.diagram.viewportBounds.Ge(t)&&(l=!0);for(var v=this.Fa.j,_=v.length;_--;){var D=v[_];if((!0!==l||!1!==Ai(D))&&D.isVisible()){var O=D;D.zf(t,e,i,n,r)&&(null!==e&&(O=e(O)),null===O||null!==i&&!i(O)||r.add(O))}}return r},Q.Vv=function(t,e,i,n,r,l,v){if(!1===this.Pi)return r;for(var _=this.Fa.j,D=_.length;D--;){var O=_[D];if((!0!==v||!1!==Ai(O))&&l(O)&&O.isVisible()){var V=O;O.zf(t,e,i,n,r)&&(null!==e&&(V=e(V)),null===V||null!==i&&!i(V)||r.add(V))}}return r},Q.Eg=function(t,e,i,n,r,l){if(void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=!0),!1!==r&&!0!==r&&((r instanceof zt||r instanceof Pt)&&(l=r),r=!0),l instanceof zt||l instanceof Pt||(l=new Pt),!1===this.Pi)return l;var v=!1;null!==this.diagram&&this.diagram.viewportBounds.$(t)&&(v=!0);for(var _=ht.alloc(),D=ht.alloc(),O=this.Fa.j,V=O.length;V--;){var $=O[V];if((!0!==v||!1!==Ai($))&&$.isVisible()){_.assign(t),We(_,$.Fd),D.h(t.x+e,t.y),We(D,$.Fd);var vt=$;$.Eg(_,D,i,n,r,l)&&(null!==i&&(vt=i(vt)),null===vt||null!==n&&!n(vt)||l.add(vt))}}return ht.free(_),ht.free(D),l},Q.Nd=function(t,e){if(this.visible){var i=this.Fa.j,n=i.length;if(0!==n){t=o();for(var r=o(),l=0;l<n;l++){var v=i[l];if(v.zx=l,v instanceof Bi){if(!1===v.ud)continue}else if(v instanceof Ji&&null!==v.adornedPart)continue;Li(v.actualBounds,e)?(v.Nd(!0),t.push(v)):(v.Nd(!1),null!==v.adornments&&0<v.adornments.count&&r.push(v))}for(e=0;e<t.length;e++)for(ge(i=t[e]),i=i.adornments;i.next();)(n=i.value).measure(1/0,1/0),n.arrange(),n.Nd(!0);for(e=0;e<r.length;e++)ge(r[e]);c(t),c(r)}}},Q.mc=function(t,e,i){if(this.visible&&0!==this.hb&&(void 0===i&&(i=!0),i||!this.isTemporary)){var n=(i=this.Fa.j).length;if(0!==n){var r=Nd(this,t),l=this.rp;l.length=0;for(var v=e.scale,_=he.alloc(),D=0;D<n;D++)this.dj(t,i[D],e,l,v,_,!0);he.free(_),t.globalAlpha=r}}},Q.dj=function(t,e,i,n,r,l,v){if(!v||Ai(e)){if(null!==n&&e instanceof Bi&&(e.isOrthogonal&&n.push(e),!1===e.ud))return;for(v=!1,n=e.containingGroup;null!==n;)v?null!==n.Za&&l.Dy(n.Za):null!==n.Za&&(v=!0,l.assign(n.Za)),n=n.containingGroup;var _=e.actualBounds;if(n=!1,v&&e.isVisible()){if(!l.Mc(_))return;n=!l.Ge(_)}n&&(t.save(),t.beginPath(),t.rect(l.x,l.y,l.width,l.height),t.clip()),_.width*r>i.Xo||_.height*r>i.Xo?e.mc(t,i):(l=e.naturalBounds,0===(r=e.actualBounds).width||0===r.height||isNaN(r.x)||isNaN(r.y)||!e.isVisible()||(i=e.transform,null!==e.areaBackground&&(Wa(e,t,e.areaBackground,!0,!0,l,r),t.fillRect(r.x,r.y,r.width,r.height)),null===e.areaBackground&&null===e.background&&(Wa(e,t,"rgba(0,0,0,0.3)",!0,!1,l,r),t.fillRect(r.x,r.y,r.width,r.height)),null!==e.background&&(t.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),Wa(e,t,e.background,!0,!1,l,r),t.fillRect(0,0,l.width/2,l.height/2),i.Tt()||t.transform(i.m22*(e=1/(i.m11*i.m22-i.m12*i.m21)),-i.m12*e,-i.m21*e,i.m11*e,e*(i.m21*i.dy-i.m22*i.dx),e*(i.m12*i.dx-i.m11*i.dy))))),n&&(t.restore(),t.uc(!0))}},Q.g=function(t,e,i,n,r){var l=this.diagram;null!==l&&l.Va(rn,t,this,e,i,n,r)},Q.oj=function(t,e,i){var n=this.Fa;if(e.Fi=this,t>=n.count)t=n.count;else if(n.J(t)===e)return-1;return n.wb(t,e),e.Mq(i),null!==(n=this.diagram)&&(i?n.M():n.oj(e)),pg(this,t,e),t},Q.Lc=function(t,e,i){if(!i&&e.layer!==this&&null!==e.layer)return e.layer.Lc(t,e,i);var n=this.Fa;if(0>t||t>=n.length){if(0>(t=n.indexOf(e)))return-1}else if(n.J(t)!==e&&0>(t=n.indexOf(e)))return-1;return e.Nq(i),n.cb(t),null!==(n=this.diagram)&&(i?n.M():n.Lc(e)),e.Fi=null,t},H.Object.defineProperties(Eo.prototype,{parts:{get:function(){return this.Fa.iterator}},partsBackwards:{get:function(){return this.Fa.iteratorBackwards}},diagram:{get:function(){return this.B}},name:{get:function(){return this.oa},set:function(t){var e=this.oa;if(e!==t){var i=this.diagram;if(null!==i)for(""===e&&U("Cannot rename default Layer to: "+t),i=i.layers;i.next();)i.value.name===t&&U("Layer.name is already present in this diagram: "+t);for(this.oa=t,this.g("name",e,t),t=this.Fa.iterator;t.next();)t.value.layerName=this.oa}}},opacity:{get:function(){return this.hb},set:function(t){var e=this.hb;e!==t&&((0>t||1<t)&&ot(t,"0 <= value <= 1",Eo,"opacity"),this.hb=t,this.g("opacity",e,t),null!==(t=this.diagram)&&t.M())}},isTemporary:{get:function(){return this.u},set:function(t){var e=this.u;e!==t&&(this.u=t,this.isInDocumentBounds=!1,this.g("isTemporary",e,t))}},visible:{get:function(){return this.I},set:function(t){var e=this.I;if(e!==t){for(this.I=t,this.g("visible",e,t),e=this.Fa.iterator;e.next();)e.value.Ob(t);null!==(t=this.diagram)&&t.M()}}},pickable:{get:function(){return this.Pi},set:function(t){var e=this.Pi;e!==t&&(this.Pi=t,this.g("pickable",e,t))}},isInDocumentBounds:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t,null!==this.diagram&&this.diagram.Na())}},allowCopy:{get:function(){return this.$h},set:function(t){var e=this.$h;e!==t&&(this.$h=t,this.g("allowCopy",e,t))}},allowDelete:{get:function(){return this.ai},set:function(t){var e=this.ai;e!==t&&(this.ai=t,this.g("allowDelete",e,t))}},allowTextEdit:{get:function(){return this.ji},set:function(t){var e=this.ji;e!==t&&(this.ji=t,this.g("allowTextEdit",e,t))}},allowGroup:{get:function(){return this.bi},set:function(t){var e=this.bi;e!==t&&(this.bi=t,this.g("allowGroup",e,t))}},allowUngroup:{get:function(){return this.ki},set:function(t){var e=this.ki;e!==t&&(this.ki=t,this.g("allowUngroup",e,t))}},allowLink:{get:function(){return this.ci},set:function(t){var e=this.ci;e!==t&&(this.ci=t,this.g("allowLink",e,t))}},allowRelink:{get:function(){return this.ei},set:function(t){var e=this.ei;e!==t&&(this.ei=t,this.g("allowRelink",e,t))}},allowMove:{get:function(){return this.di},set:function(t){var e=this.di;e!==t&&(this.di=t,this.g("allowMove",e,t))}},allowReshape:{get:function(){return this.fi},set:function(t){var e=this.fi;e!==t&&(this.fi=t,this.g("allowReshape",e,t))}},allowResize:{get:function(){return this.gi},set:function(t){var e=this.gi;e!==t&&(this.gi=t,this.g("allowResize",e,t))}},allowRotate:{get:function(){return this.hi},set:function(t){var e=this.hi;e!==t&&(this.hi=t,this.g("allowRotate",e,t))}},allowSelect:{get:function(){return this.ii},set:function(t){var e=this.ii;e!==t&&(this.ii=t,this.g("allowSelect",e,t))}}}),Eo.prototype.findObjectsNear=Eo.prototype.Eg,Eo.prototype.findObjectsIn=Eo.prototype.zf,Eo.prototype.findObjectsAt=Eo.prototype.hj,Eo.prototype.findObjectAt=Eo.prototype.Vb,Eo.className="Layer",di.prototype.clear=function(){this.animationManager.Bc(),this.model.clear(),jh=null,il="",_m(this,!1),this.Wl.clear(),ca(),this.pg.clear(),this.Na(),this.Ta(),this.M()},di.prototype.reset=function(){this.clear(),this.Sb=!0,this.Uc=new Me,this.Uc.ee(this),this.rb=17,this.Gl=this.pv=!1,this.Ss="default",this.Ma=new zt,this.Kx=new yt,this.hf=null,this.xw(),this.Nj=null,this.ww(),this.hb=1,this.la=new ht(NaN,NaN).freeze(),this.Ts=new ht(NaN,NaN),this.Qn=this.Aa=1,this.es=new ht(NaN,NaN).freeze(),this.fs=NaN,this.xs=1e-4,this.vs=100,this.sb=new or,this.xt=new ht(NaN,NaN).freeze(),this.Zr=new he(NaN,NaN,NaN,NaN).freeze(),this.Si=new Je(0,0,0,0).freeze(),this.Ti=lc,this.at=!1,this.Us=this.Ns=null,this.Og=Ta,this.Dj=us,this.Yf=Ta,this.to=us,this.gs=this.ds=Hr,this.Dc=!0,this.El=!1,this.wd=new Pt,this.Vg=new yt,this.rl=!0,this.qn=250,this.Bj=-1,this.sn=new Je(16,16,16,16).freeze(),this.Hj=this.Ee=!1,this.Kj=!0,this.Wf=new yi,this.Wf.diagram=this,this.od=new yi,this.od.diagram=this,this.hh=new yi,this.hh.diagram=this,this.we=this.Of=null,this.hk=!1,this.Pr=this.Qr=null,this.zj=B.PointerEvent&&(h||k||ft)&&B.navigator&&!1!==B.navigator.msPointerEnabled,Am(this),this.Dh=new Pt,this.qs=!0,this.rt=gs,this.Uu=!1,this.tt=Zd,this.Jr=this.Mr=this.pt=null,this.Pn=this.Hr="auto",this.gg=this.As=this.ig=this.jg=this.lg=this.Qf=this.Uf=this.Pf=null,this.cs=!1,this.Rf=this.wg=this.kg=this.hg=null,this.Bs=!1,this.Ls={},this.bk=[null,null],this.Br=null,this.Nr=this.gt=this.rv=this.vg=!1,this.av=!0,this.yi=this.ac=!1,this.zv=!0,this.Xd=-2,this.pg=new yt,this.Wl=new zt,this.$f=!1,this.ai=this.$h=this.nr=this.md=!0,this.pr=!1,this.vr=this.tr=this.ii=this.hi=this.gi=this.fi=this.di=this.ei=this.ci=this.sr=this.ki=this.bi=this.ji=this.qr=!0,this.Zf=this.Xu=!1,this.ur=this.rr=this.wl=this.vl=!0,this.$s=this.Ws=16,this.Vs=this.Op=!1,this.Xs=this.Zs=0,this.ib=new Je(5).freeze(),this.qv=(new Pt).freeze(),this.ws=999999999,this.Su=(new Pt).freeze(),this.xi=this.wi=this.vi=!0,this.Ye=this.pe=!1,this.kc=null,this.Ng=!0,this.qe=!1,this.Ax=new Pt,this.Tu=new Pt,this.Gc=null,this.Vl=1,this.sv=0,this.Ic={scale:1,position:new ht,bounds:new he,Gv:new De,kw:new De,hw:!1},this.Rx=new he(NaN,NaN,NaN,NaN).freeze(),this.sm=new De(NaN,NaN).freeze(),this.Rn=new he(NaN,NaN,NaN,NaN).freeze(),this.rs=!1,this.Lo=this.qo=this.kp=this.Fu=this.Eu=this.Gu=this.bg=this.fh=this.df=null,Ip(this),this.Ib=null,this.po=!1,this.Ej=null,this.partManager=new qr,this.toolManager=new jr,this.toolManager.initializeStandardTools(),this.currentTool=this.defaultTool=this.toolManager,this.Sr=null,this.kl=new id,this.Gs=this.Fs=null,this.fq=!1,this.commandHandler=nc(),this.vg=!0,Lu(this),this.layout=new Rr,this.vg=!1,this.model=lm(),this.model.undoManager=new vr,this.qe=!1,this.Kj=!0,this.Ee=!1,this.Tb=1,this.yh=null,this.Xo=1,this.cp=0,this.hv=[0,0,0,0,0],this.ep=0,this.xd=1,this.Sj=0,this.Go=new ht,this.qt=500,this.rn=new ht,this.gq=this.wo=this.re=!1,this.ao=null,this.bo=Vn,this.Sb=!1,this.M()},di.prototype.setRTL=function(t){null===(t=void 0===t?this.div:t)&&(t=B.document.body);var e=q("div");e.dir="rtl",e.style.cssText="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll;",e.textContent="A",t.appendChild(e);var i="reverse";0<e.scrollLeft?i="default":(e.scrollLeft=1,0===e.scrollLeft&&(i="negative")),t.removeChild(e),this.Ss=i},di.prototype.setScrollWidth=function(t){null===(t=void 0===t?this.div:t)&&(t=B.document.body);var e=0;if(va){var i=Bl;e=Xd,null===i&&((i=Bl=q("p")).style.width="100%",i.style.height="200px",i.style.boxSizing="content-box",(e=Xd=q("div")).style.position="absolute",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.boxSizing="content-box",e.appendChild(i)),e.style.overflow="hidden",t.appendChild(e);var n=i.offsetWidth;e.style.overflow="scroll",n===(i=i.offsetWidth)&&(i=e.clientWidth),t.removeChild(e),0!=(e=n-i)||st||(e=11)}this.rb=e,this.pv=!0},di.prototype.jb=function(t){t.classType===di&&(this.autoScale=t)},di.prototype.toString=function(t){void 0===t&&(t=0);var e="";if(this.div&&this.div.id&&(e=this.div.id),e='Diagram "'+e+'"',0>=t)return e;for(var i=this.Ma.iterator;i.next();)e+="\n  "+i.value.toString(t-1);return e},di.prototype.addEventListener=function(t,e,i,n){t.addEventListener(e,i,{capture:n,passive:!1})},di.prototype.removeEventListener=function(t,e,i,n){t.removeEventListener(e,i,{capture:n})},di.prototype.computePixelRatio=function(){return null!==this.yh?this.yh:B.devicePixelRatio||1},di.prototype.doMouseMove=function(){this.currentTool.doMouseMove()},di.prototype.doMouseDown=function(){this.currentTool.doMouseDown()},di.prototype.doMouseUp=function(){this.currentTool.doMouseUp()},di.prototype.doMouseWheel=function(){this.currentTool.doMouseWheel()},di.prototype.doKeyDown=function(){this.currentTool.doKeyDown()},di.prototype.doKeyUp=function(){this.currentTool.doKeyUp()},di.prototype.doFocus=function(){this.focus()},di.prototype.focus=function(){if(this.ya)if(this.scrollsPageOnFocus)this.ya.focus();else{var t=B.scrollX||B.pageXOffset,e=B.scrollY||B.pageYOffset;this.ya.focus(),B.scrollTo(t,e)}},di.prototype.Bz=function(){this.B.R("GainedFocus")},di.prototype.Az=function(){this.B.R("LostFocus")},di.prototype.iy=function(t){if(null!==this.ya){this.Op=!0;var e=this.documentBounds,i=this.viewportBounds,n=this.Si,r=e.x-n.left,l=e.y-n.top,v=e.width+n.left+n.right,_=e.height+n.top+n.bottom,D=e.right+n.right;n=e.bottom+n.bottom;var O=i.x;e=i.y;var V=i.width,$=i.height,vt=i.right,kt=i.bottom;i=this.scale;var bt=t.scrollLeft;if(this.Gl)switch(this.Ss){case"negative":bt=bt+t.scrollWidth-t.clientWidth;break;case"reverse":bt=t.scrollWidth-bt-t.clientWidth}var Wt=bt;V<v||$<_?(bt=ht.allocAt(this.position.x,this.position.y),this.allowHorizontalScroll&&this.Xs!==Wt&&(bt.x=Wt/i+r,this.Xs=Wt),this.allowVerticalScroll&&this.Zs!==t.scrollTop&&(bt.y=t.scrollTop/i+l,this.Zs=t.scrollTop),this.position=bt,ht.free(bt),this.wi=this.Op=!1):(bt=ht.alloc(),t.hz&&this.allowHorizontalScroll&&(r<O&&(this.position=bt.h(Wt+r,this.position.y)),D>vt&&(this.position=bt.h(-(this.Ys.scrollWidth-this.va)+Wt-this.va/i+D,this.position.y))),t.iz&&this.allowVerticalScroll&&(l<e&&(this.position=bt.h(this.position.x,t.scrollTop+l)),n>kt&&(this.position=bt.h(this.position.x,-(this.Ys.scrollHeight-this.ua)+t.scrollTop-this.ua/i+n))),ht.free(bt),yu(this),this.wi=this.Op=!1,D=(e=this.documentBounds).right,vt=(i=this.viewportBounds).right,n=e.bottom,kt=i.bottom,r=e.x,O=i.x,l=e.y,e=i.y,V>=v&&r>=O&&D<=vt&&(this.Pp.style.width="1px"),$>=_&&l>=e&&n<=kt&&(this.Pp.style.height="1px"))}},di.prototype.computeBounds=function(){return 0<this.wd.count&&Ys(this),_a(this)},di.prototype.computePartsBounds=function(t,e){void 0===e&&(e=!1);var i=null;if(Ot(t))for(var n=0;n<t.length;n++){var r=t[n];!e&&r instanceof Bi||(r.Ta(),null===i?i=r.actualBounds.copy():i.Rc(r.actualBounds))}else for(t=t.iterator;t.next();)n=t.value,!e&&n instanceof Bi||(n.Ta(),null===i?i=n.actualBounds.copy():i.Rc(n.actualBounds));return null===i?new he(NaN,NaN,0,0):i},di.prototype.zoomToFit=function(){var t=this.Ti;this.Ti=lc,this.scale=Ll(this,zh),t!==lc&&(Gs(this,!1),Nl(this,this.documentBounds,this.va/this.Aa,this.ua/this.Aa,this.Dj,!1)),this.Ti=t},(Q=di.prototype).mB=function(t,e){void 0===e&&(e=zh);var i=t.width,n=t.height;if(!(0===i||0===n||isNaN(i)&&isNaN(n))){var r=1;if(e===zh||e===td)if(isNaN(i))r=this.viewportBounds.height*this.scale/n;else if(isNaN(n))r=this.viewportBounds.width*this.scale/i;else{r=this.va;var l=this.ua;r=e===td?l/n>r/i?(l-(this.pe?this.rb:0))/n:(r-(this.Ye?this.rb:0))/i:Math.min(l/n,r/i)}this.scale=r,this.position=new ht(t.x,t.y)}},Q.uz=function(t,e){this.Ta();var i=this.documentBounds,n=this.viewportBounds;this.position=new ht(i.x+(t.x*i.width+t.offsetX)-(e.x*n.width-e.offsetX),i.y+(t.y*i.height+t.offsetY)-(e.y*n.height-e.offsetY))},Q.kA=function(t){if(t instanceof jn){this.ao=t;var e=ht.alloc();this.bo=this.gr(t.da(Hr,e)),ht.free(e)}else this.ao=null,this.bo=Vn},Q.zm=function(t,e){if(void 0===e&&(e=!0),e){if((t=Jf(this,t,function(i){return i.part},function(i){return i.canSelect()}))instanceof qt)return t}else if((t=Jf(this,t,function(i){return i.part}))instanceof qt)return t;return null},Q.Vb=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null),Ys(this);for(var n=this.Ma.iteratorBackwards;n.next();){var r=n.value;if(r.visible&&null!==(r=r.Vb(t,e,i)))return r}return null},Q.Zz=function(t,e,i){return void 0===e&&(e=!0),function(t,e,i,n,r){for(void 0===i&&(i=null),void 0===n&&(n=null),r instanceof zt||r instanceof Pt||(r=new Pt),Ys(t),t=t.Ma.iteratorBackwards;t.next();){var l=t.value;l.visible&&!l.isTemporary&&l.hj(e,i,n,r)}return r}(this,t,function(n){return n.part},e?function(n){return n instanceof qt&&n.canSelect()}:null,i)},Q.hj=function(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=null),n instanceof zt||n instanceof Pt||(n=new Pt),Ys(this);for(var r=this.Ma.iteratorBackwards;r.next();){var l=r.value;l.visible&&l.hj(t,e,i,n)}return n},Q.ty=function(t,e,i,n){return void 0===e&&(e=!1),void 0===i&&(i=!0),function(t,e,i,n,r){var l=null;for(void 0===l&&(l=null),void 0===i&&(i=null),void 0===n&&(n=!1),r instanceof zt||r instanceof Pt||(r=new Pt),Ys(t),t=t.Ma.iteratorBackwards;t.next();){var v=t.value;v.visible&&!v.isTemporary&&v.zf(e,l,i,n,r)}return r}(this,t,function(r){return r instanceof qt&&(!i||r.canSelect())},e,n)},Q.zf=function(t,e,i,n,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=!1),r instanceof zt||r instanceof Pt||(r=new Pt),Ys(this);for(var l=this.Ma.iteratorBackwards;l.next();){var v=l.value;v.visible&&v.zf(t,e,i,n,r)}return r},Q.Vv=function(t,e,i,n,r,l){var v=new Pt;Ys(this);for(var _=this.Ma.iteratorBackwards;_.next();){var D=_.value;D.visible&&D.Vv(t,e,i,n,v,r,l)}return v},Q.$z=function(t,e,i,n,r){return void 0===i&&(i=!0),void 0===n&&(n=!0),function(t,e,i,n,r,l){var v=null;for(void 0===v&&(v=null),void 0===n&&(n=null),void 0===r&&(r=!0),!1!==r&&!0!==r&&((r instanceof zt||r instanceof Pt)&&(l=r),r=!0),l instanceof zt||l instanceof Pt||(l=new Pt),Ys(t),t=t.Ma.iteratorBackwards;t.next();){var _=t.value;_.visible&&!_.isTemporary&&_.Eg(e,i,v,n,r,l)}return l}(this,t,e,function(l){return l instanceof qt&&(!n||l.canSelect())},i,r)},Q.Eg=function(t,e,i,n,r,l){void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=!0),!1!==r&&!0!==r&&((r instanceof zt||r instanceof Pt)&&(l=r),r=!0),l instanceof zt||l instanceof Pt||(l=new Pt),Ys(this);for(var v=this.Ma.iteratorBackwards;v.next();){var _=v.value;_.visible&&_.Eg(t,e,i,n,r,l)}return l},di.prototype.acceptEvent=function(t){return Lh(this,t,t instanceof MouseEvent)},di.prototype.BA=function(t){var e=this.B;if(!this.B.isEnabled)return!1;var i=Lh(e,t,!1);switch(i.key=String.fromCharCode(t.which),i.down=!0,t.which){case 8:i.key="Backspace";break;case 33:i.key="PageUp";break;case 34:i.key="PageDown";break;case 35:i.key="End";break;case 36:i.key="Home";break;case 37:i.key="Left";break;case 38:i.key="Up";break;case 39:i.key="Right";break;case 40:i.key="Down";break;case 45:i.key="Insert";break;case 46:i.key="Del";break;case 48:i.key="0";break;case 187:case 61:case 107:i.key="Add";break;case 189:case 173:case 109:i.key="Subtract";break;case 27:i.key="Esc"}return e.doKeyDown(),Fl(i,t)},di.prototype.CA=function(t){var e=this.B;if(!e.isEnabled)return!1;var i=Lh(e,t,!1);switch(i.key=String.fromCharCode(t.which),i.up=!0,t.which){case 8:i.key="Backspace";break;case 33:i.key="PageUp";break;case 34:i.key="PageDown";break;case 35:i.key="End";break;case 36:i.key="Home";break;case 37:i.key="Left";break;case 38:i.key="Up";break;case 39:i.key="Right";break;case 40:i.key="Down";break;case 45:i.key="Insert";break;case 46:i.key="Del"}return e.doKeyUp(),Fl(i,t)},di.prototype.Oz=function(t){var e=this.B;if(!e.isEnabled)return!1;var i=Lh(e,t,!0);return null!==e.mouseEnter&&e.mouseEnter(i),Fl(i,t)},di.prototype.Pz=function(t){var e=this.B;if(!e.isEnabled)return!1;var i=Lh(e,t,!0);return null!==e.mouseLeave&&e.mouseLeave(i),Fl(i,t)},di.prototype.getMouse=function(t){var e=this.ya;if(null===e)return new ht(0,0);var i=e.getBoundingClientRect();return e=t.clientX-this.va/i.width*i.left,t=t.clientY-this.ua/i.height*i.top,null!==this.sb?We(new ht(e,t),this.sb):new ht(e,t)},di.prototype.Na=function(){this.vi||(this.vi=!0,this.Db(!0))},di.prototype.redraw=function(){this.Sb||this.ac||(this.M(),Fh(this),yu(this),this.Na(),this.hd())},(Q=di.prototype).AA=function(){return this.Ee},Q.Jz=function(t){void 0===t&&(t=null);var e=this.animationManager,i=e.isEnabled;e.Bc(),e.isEnabled=!1,Pc(this),this.qe=!1,this.Ts=new ht(NaN,NaN),e.isEnabled=i,this.ac=!0;var n=this;null!==t&&Y(function(){n.ac=!1,Xe(e,"Model"),t(n)},1)},Q.Db=function(t){if(void 0===t&&(t=!1),!0!==this.Ee&&!(this.Sb||!1===t&&this.ac)){this.Ee=!0;var e=this;B.requestAnimationFrame(function(){e.Ee&&e.hd()})}},Q.hd=function(){(!this.Kj||this.Ee)&&(this.Kj&&(this.Kj=!1),Pc(this))},Q.Vw=function(t,e){for(t.reset();t.next();){var i=t.value;!i.Nc()||i instanceof Qi||(i.rj()?(i.measure(1/0,1/0),i.arrange()):e.add(i))}for(t.reset();t.next();)(i=t.value)instanceof Qi&&i.isVisible()&&Rp(this,i);for(t.reset();t.next();)(i=t.value)instanceof Bi&&i.isVisible()&&(i.rj()?(i.measure(1/0,1/0),i.arrange()):e.add(i));for(t.reset();t.next();)(i=t.value)instanceof Ji&&i.isVisible()&&(i.rj()?(i.measure(1/0,1/0),i.arrange()):e.add(i))},Q.Nd=function(t,e,i,n){if(this.xi||this.animationManager.isAnimating){void 0===n&&(n=i.viewportBounds);for(var r=0;r<e;r++)t[r].Nd(i,n)}},Q.mc=function(t,e){if(void 0===e&&(e=null),null!==this.Da){null===this.ya&&U("No canvas specified");var i=this.animationManager;if(!i.sc&&(!i.isAnimating||i.isTicking)){var n=new Date;if(zd(this),"0"!==this.Da.style.opacity){var r=t!==this.Gb,l=this.Ma.j,v=l.length,_=this;if(this.Nd(l,v,_),r)t.uc(!0),yu(this);else if(!this.Dc&&null===e&&!i.isAnimating)return;v=this.la;var D=this.Aa,O=Math.round(v.x*D)/D,V=Math.round(v.y*D)/D;for((i=this.sb).reset(),1!==D&&i.scale(D),0===v.x&&0===v.y||i.translate(-O,-V),D=this.Tb,t.setTransform(1,0,0,1,0,0),t.scale(D,D),t.clearRect(0,0,this.va,this.ua),1!==this.hb&&(t.globalAlpha=this.hb),mg(this,t),O=null!==e?function($){var vt=e;if($.visible&&0!==$.hb){var kt=$.Fa.j,bt=kt.length;if(0!==bt){var Wt=Nd($,t),de=$.rp;de.length=0;for(var le=_.scale,we=he.alloc(),Pe=0;Pe<bt;Pe++){var Ke=kt[Pe];vt.contains(Ke)||$.dj(t,Ke,_,de,le,we,!0)}he.free(we),t.globalAlpha=Wt}}}:function($){$.mc(t,_)},v=l.length,V=0;V<v;V++)t.setTransform(1,0,0,1,0,0),t.scale(D,D),t.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),O(l[V]);if(l=!1,this.ui?zp(this.ui,this)&&(l=this.Tr()):l=!0,l&&(or.prototype.Jd=or.prototype.Zx),r?(this.Gb.uc(!0),yu(this)):this.Dc=this.xi=!1,l=+new Date-+n,n=this.hv,(r=Dt&&Dt.my)||null===this.yh){for(n[this.ep]=l,this.ep=(this.ep+1)%n.length,i=l=0;i<n.length;i++)l+=n[i];this.cp=l/n.length}if(1!==this.hb&&(t.globalAlpha=1),r)for(t.setTransform(1,0,0,1,0,0),r=0;r<n.length;r++)t.fillText(n[r].toString(),20,150+20*r)}}}},Q.Ke=function(t){return this.hf[t]},Q.Ty=function(t,e){"minDrawingLength"===t&&(this.Xo=e),this.hf[t]=e,this.redraw()},Q.xw=function(){this.hf=new Vt,this.hf.drawShadows=!0,this.hf.textGreeking=!0,this.hf.viewportOptimizations=!(st||h||k),this.hf.temporaryPixelRatio=!0,this.hf.pictureRatioOptimization=!0,this.Xo=this.hf.minDrawingLength=1},Q.Bm=function(t){return this.Nj[t]},Q.aB=function(t,e){this.Nj[t]=e},Q.ww=function(){this.Nj=new Vt,this.Nj.extraTouchArea=10,this.Nj.extraTouchThreshold=10,this.Nj.hasGestureZoom=!0},Q.Fw=function(t){Oc(this,t)},Q.Hv=function(){if(0===this.undoManager.transactionLevel&&0!==this.Vg.count){for(;0<this.Vg.count;){var t=this.Vg;for(this.Vg=new yt,t=t.iterator;t.next();){var e=t.key;e.Oq(t.value),e.dc()}}this.M()}},Q.M=function(t){if(void 0===t&&(t=null),null===t)this.Dc=!0,this.Db();else{var e=this.viewportBounds;null!==t&&t.o()&&e.Mc(t)&&(this.Dc=!0,this.Db())}this.R("InvalidateDraw")},di.prototype.invalidateViewport=function(t,e){if(!0!==this.Dc){this.Dc=!0;var i=!0===this.Ke("temporaryPixelRatio");if(!0===this.Ke("viewportOptimizations")&&this.scrollMode!==Tm&&this.Si.fj(0,0,0,0)&&e.width===t.width&&e.height===t.height){var n=this.scale,r=Math.max(t.x,e.x),l=Math.max(t.y,e.y);if(n=he.allocAt(r,l,Math.max(0,Math.min(t.x+t.width,e.x+e.width)-r)*n,Math.max(0,Math.min(t.y+t.height,e.y+e.height)-l)*n),!this.gq&&0<n.width&&0<n.height){if(!(this.ac||(this.Ee=!1,null===this.Da||(this.ac=!0,this.Hv(),this.documentBounds.o()||sc(this,this.computeBounds()),r=this.ya,null===r||r instanceof Zu)))){var v=this.Tb;l=this.va*v;var _=this.ua*v,D=this.scale*v,O=Math.round(Math.round(e.x*D)-Math.round(t.x*D));e=Math.round(Math.round(e.y*D)-Math.round(t.y*D)),t=this.ux,(D=this.Ju).width!==l&&(D.width=l),D.height!==_&&(D.height=_),t.clearRect(0,0,l,_),D=190*v;var V=70*v,$=Math.max(O,0),vt=Math.max(e,0),kt=Math.floor(l-$),bt=Math.floor(_-vt);t.drawImage(r.Ja,$,vt,kt,bt,0,0,kt,bt),zp(this.ui,this)&&t.clearRect(0,0,D,V),r=o(),t=o(),bt=Math.abs(O),kt=Math.abs(e);var Wt=0===$?0:l-bt;$=ht.allocAt(Wt,0),bt=ht.allocAt(bt+Wt,_),t.push(new he(Math.min($.x,bt.x),Math.min($.y,bt.y),Math.abs($.x-bt.x),Math.abs($.y-bt.y)));var de=this.sb;if(de.reset(),de.scale(v,v),1!==this.Aa&&de.scale(this.Aa),(0!==(v=this.la).x||0!==v.y)&&isFinite(v.x)&&isFinite(v.y)&&de.translate(-v.x,-v.y),We($,de),We(bt,de),r.push(new he(Math.min($.x,bt.x),Math.min($.y,bt.y),Math.abs($.x-bt.x),Math.abs($.y-bt.y))),$.h(0,Wt=0===vt?0:_-kt),bt.h(l,kt+Wt),t.push(new he(Math.min($.x,bt.x),Math.min($.y,bt.y),Math.abs($.x-bt.x),Math.abs($.y-bt.y))),We($,de),We(bt,de),r.push(new he(Math.min($.x,bt.x),Math.min($.y,bt.y),Math.abs($.x-bt.x),Math.abs($.y-bt.y))),zp(this.ui,this)&&($.h(l=0<O?0:-O,_=0<e?0:-e),bt.h(D+l,V+_),t.push(new he(Math.min($.x,bt.x),Math.min($.y,bt.y),Math.abs($.x-bt.x),Math.abs($.y-bt.y))),We($,de),We(bt,de),r.push(new he(Math.min($.x,bt.x),Math.min($.y,bt.y),Math.abs($.x-bt.x),Math.abs($.y-bt.y)))),ht.free($),ht.free(bt),jd(this,!1,!0),null===this.Da&&U("No div specified"),null===this.ya&&U("No canvas specified"),!this.animationManager.sc&&(l=this.Gb,this.Dc)){for(zd(this),_=this.Tb,l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,this.va*_,this.ua*_),l.drawImage(this.Ju.Ja,0<O?0:Math.round(-O),0<e?0:Math.round(-e)),O=this.la,v=this.Aa,D=Math.round(O.x*v)/v,V=Math.round(O.y*v)/v,(e=this.sb).reset(),1!==v&&e.scale(v),0===O.x&&0===O.y||e.translate(-D,-V),l.save(),l.beginPath(),O=t.length,v=0;v<O;v++)0!==(D=t[v]).width&&0!==D.height&&l.rect(Math.floor(D.x),Math.floor(D.y),Math.ceil(D.width),Math.ceil(D.height));for(l.clip(),l.setTransform(1,0,0,1,0,0),l.scale(_,_),l.transform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy),this.Nd(e=this.Ma.j,O=e.length,this),mg(this,l),l.globalAlpha=this.hb,_=0;_<O;_++)if(D=r,(v=e[_]).visible&&0!==v.hb){V=Nd(v,l),(vt=v.rp).length=0,$=this.scale,kt=he.alloc(),de=(bt=v.Fa.j).length,Wt=D.length;for(var le=0;le<de;le++){var we=bt[le],Pe=ri(we,we.actualBounds);t:{for(var Ke=2/$,ui=4/$,$i=0;$i<Wt;$i++){var vn=D[$i];if(0!==vn.width&&0!==vn.height&&Pe.cw(vn.x-Ke,vn.y-Ke,vn.width+ui,vn.height+ui)){Pe=!0;break t}}Pe=!1}Pe&&v.dj(l,we,this,vt,$,kt,!0)}he.free(kt),l.globalAlpha=V}l.restore(),l.uc(!0),this.ui&&zp(this.ui,this)&&this.Tr(),this.Dc=this.xi=!1,this.Yq()}c(r),c(t),this.ac=!1}}else this.hd();he.free(n),i&&(Jl(this),this.hd(),aa(this,!0))}else i?(Jl(this),this.hd(),aa(this,!0)):this.hd()}},(Q=di.prototype).add=function(t){var e=t.diagram;if(e!==this&&(null!==e&&U("Cannot add part "+t.toString()+" to "+this.toString()+". It is already a part of "+e.toString()),null===(e=this.xk(t.layerName))&&(e=this.xk("")),null===e&&U('Cannot add a Part when unable find a Layer named "'+t.layerName+'" and there is no default Layer'),t.layer!==e)){var i=e.oj(99999999,t,t.diagram===this);0<=i&&this.Va(gn,"parts",e,null,t,null,i),e.isTemporary||this.Na(),t.C(1),null!==(i=t.layerChanged)&&i(t,null,e)}},Q.oj=function(t){this.partManager.oj(t);var e=this;wh(t,function(i){Gd(e,i)}),(t instanceof Ji||t instanceof Qi&&null!==t.placeholder)&&t.s(),null!==t.data&&wh(t,function(i){rx(e.partManager,i)}),!0!==Vl(t)&&!0!==Ii(t)||this.wd.add(t),fi(t,!0,this),fn(t)?(t.actualBounds.o()&&this.M(ri(t,t.actualBounds)),this.Na()):t.isVisible()&&t.actualBounds.o()&&this.M(ri(t,t.actualBounds)),this.Db()},Q.Lc=function(t){t.nk(),this.partManager.Lc(t);var e=this;null!==t.data&&wh(t,function(i){oy(e.partManager,i,e)}),this.wd.remove(t),fn(t)?(t.actualBounds.o()&&this.M(ri(t,t.actualBounds)),this.Na()):t.isVisible()&&t.actualBounds.o()&&this.M(ri(t,t.actualBounds)),this.Db()},Q.remove=function(t){Hd(this,t,!0)},Q.gu=function(t,e){if(void 0===e&&(e=!1),Ot(t))for(var i=t.length,n=0;n<i;n++){var r=t[n];e&&!r.canDelete()||this.remove(r)}else for((i=new Pt).addAll(t),t=i.iterator;t.next();)i=t.value,e&&!i.canDelete()||this.remove(i)},Q.tk=function(t,e,i){return void 0===i&&(i=!1),this.partManager.tk(t,e,i)},di.prototype.moveParts=function(t,e,i,n){if(void 0===i&&(i=!1),void 0===n&&(n=Ic(this)),null!==this.toolManager){var r=new yt;if(null!==t)if(Ot(t))for(var l=0;l<t.length;l++)Ql(this,r,t[l],i,n);else for(t=t.iterator;t.next();)Ql(this,r,t.value,i,n);else{for(t=this.parts;t.next();)Ql(this,r,t.value,i,n);for(t=this.nodes;t.next();)Ql(this,r,t.value,i,n);for(t=this.links;t.next();)Ql(this,r,t.value,i,n)}rc(this,r,e,n,i)}},di.prototype.computeMove=function(t,e,i,n){if(void 0===n&&(n=new ht),n.assign(e),null===t)return n;var r=e,l=i.isGridSnapEnabled;l&&(i.isGridSnapRealtime||this.lastInput.up)&&Lp(this,t,e,r=ht.alloc(),i),i=null!==t.dragComputation?t.dragComputation(t,e,r):r;var v=t.minLocation,_=v.x;isNaN(_)&&(_=l?Math.round(1e3*t.location.x)/1e3:t.location.x),v=v.y,isNaN(v)&&(v=l?Math.round(1e3*t.location.y)/1e3:t.location.y);var D=t.maxLocation,O=D.x;return isNaN(O)&&(O=l?Math.round(1e3*t.location.x)/1e3:t.location.x),D=D.y,isNaN(D)&&(D=l?Math.round(1e3*t.location.y)/1e3:t.location.y),n.h(Math.max(_,Math.min(i.x,O)),Math.max(v,Math.min(i.y,D))),r!==e&&ht.free(r),n},(Q=di.prototype).Cd=function(t,e,i){if(void 0===i)return new uc(je);var n=t.isGridSnapEnabled;return t.groupsSnapMembers||null===e.containingGroup||(n=!1),new uc(n?new ht(Math.round(1e3*i.x)/1e3,Math.round(1e3*i.y)/1e3):i.copy())},Q.um=function(t){Bh(this,t,null),t.ee(this);var e=this.Ma,i=e.count-1;if(!t.isTemporary)for(;0<=i&&e.J(i).isTemporary;)i--;e.wb(i+1,t),null!==this.cc&&this.Va(gn,"layers",this,null,t,null,i+1),this.M(),this.Na()},Q.Ux=function(t,e){Bh(this,t,e),t.ee(this);var i=this.Ma,n=i.indexOf(t);0<=n&&(i.remove(t),null!==this.cc&&this.Va(wn,"layers",this,t,null,n,null));var l,r=i.count;for(l=0;l<r;l++)if(i.J(l)===e){i.wb(l,t);break}null!==this.cc&&this.Va(gn,"layers",this,null,t,null,l),this.M(),0>n&&this.Na()},Q.nz=function(t,e){Bh(this,t,e),t.ee(this);var i=this.Ma,n=i.indexOf(t);0<=n&&(i.remove(t),null!==this.cc&&this.Va(wn,"layers",this,t,null,n,null));var l,r=i.count;for(l=0;l<r;l++)if(i.J(l)===e){i.wb(l+1,t);break}null!==this.cc&&this.Va(gn,"layers",this,null,t,null,l+1),this.M(),0>n&&this.Na()},Q.TA=function(t){if(t.diagram!==this&&U("Cannot remove a Layer from another Diagram: "+t+" of "+t.diagram),""!==t.name){var e=this.Ma,i=e.indexOf(t);if(e.remove(t)){for(e=t.Fa.copy().iterator;e.next();){var n=e.value,r=n.layerName;n.layerName=r!==t.name?r:""}null!==this.cc&&this.Va(wn,"layers",this,t,null,i,null),this.M(),this.Na()}}},Q.xk=function(t){for(var e=this.layers;e.next();){var i=e.value;if(i.name===t)return i}return null},Q.Wx=function(t){null===this.we&&(this.we=new zt),this.we.add(t),this.model.Hh(t)},Q.VA=function(t){null!==this.we&&(this.we.remove(t),0===this.we.count&&(this.we=null)),this.model.Tk(t)},Q.Hh=function(t){null===this.Of&&(this.Of=new zt),this.Of.add(t)},Q.Tk=function(t){null!==this.Of&&(this.Of.remove(t),0===this.Of.count&&(this.Of=null))},Q.zt=function(t){if(this.skipsUndoManager||this.model.skipsUndoManager||this.model.undoManager.aw(t),t.change!==Cr&&(this.isModified=!0),null!==this.Of)for(var e=this.Of,i=e.length,n=0;n<i;n++)e.J(n)(t)},Q.Va=function(t,e,i,n,r,l,v){void 0===l&&(l=null),void 0===v&&(v=null);var _=new On;_.diagram=this,_.change=t,_.propertyName=e,_.object=i,_.oldValue=n,_.oldParam=l,_.newValue=r,_.newParam=v,this.zt(_)},Q.g=function(t,e,i,n,r){this.Va(rn,t,this,e,i,n,r)},di.prototype.changeState=function(t,e){if(null!==t&&t.diagram===this){var i=this.skipsModelSourceBindings;try{this.skipsModelSourceBindings=!0;var n=t.change;if(n===rn){var r=t.object;if(_o(r,t.propertyName,t.G(e)),r instanceof jn){var l=r.part;null!==l&&l.Lb()}this.isModified=!0}else if(n===gn){var v=t.object,_=t.newParam,D=t.newValue;if(v instanceof Xi)if("number"==typeof _&&D instanceof jn){e?v.Lc(_):v.wb(_,D);var O=v.part;null!==O&&O.Lb()}else"number"==typeof _&&D instanceof rs&&(D.isRow?em(v,_,e?void 0:D):Lm(v,_,e?void 0:D));else if(v instanceof Eo){var V=!0===t.oldParam;"number"==typeof _&&D instanceof qt&&(e?(D.isSelected=!1,D.isHighlighted=!1,D.Lb(),v.Lc(V?_:-1,D,V)):v.oj(_,D,V))}else v instanceof di?"number"==typeof _&&D instanceof Eo&&(e?this.Ma.cb(_):(D.ee(this),this.Ma.wb(_,D))):U("unknown ChangedEvent.Insert object: "+t.toString());this.isModified=!0}else if(n===wn){var $=t.object,vt=t.oldParam,kt=t.oldValue;if($ instanceof Xi)"number"==typeof vt&&kt instanceof jn?e?$.wb(vt,kt):$.Lc(vt):"number"==typeof vt&&kt instanceof rs&&(kt.isRow?em($,vt,e?kt:void 0):Lm($,vt,e?kt:void 0));else if($ instanceof Eo){var bt=!0===t.newParam;"number"==typeof vt&&kt instanceof qt&&(e?0>$.Fa.indexOf(kt)&&$.oj(vt,kt,bt):(kt.isSelected=!1,kt.isHighlighted=!1,kt.Lb(),$.Lc(bt?vt:-1,kt,bt)))}else $ instanceof di?"number"==typeof vt&&kt instanceof Eo&&(e?(kt.ee(this),this.Ma.wb(vt,kt)):this.Ma.cb(vt)):U("unknown ChangedEvent.Remove object: "+t.toString());this.isModified=!0}else n!==Cr&&U("unknown ChangedEvent: "+t.toString())}finally{this.skipsModelSourceBindings=i}}},di.prototype.xa=function(t){return this.undoManager.xa(t)},di.prototype.Xa=function(t){return this.undoManager.Xa(t)},di.prototype.If=function(){return this.undoManager.If()},di.prototype.commit=function(t,e){void 0===e&&(e="");var i=this.skipsUndoManager;null===e&&(this.skipsUndoManager=!0,e=""),this.undoManager.xa(e);var n=!1;try{t(this),n=!0}finally{n?this.undoManager.Xa(e):this.undoManager.If(),this.skipsUndoManager=i}},di.prototype.updateAllTargetBindings=function(t){this.partManager.updateAllTargetBindings(t)},di.prototype.ir=function(){this.partManager.ir()},di.prototype.onViewportBoundsChanged=function(t,e,i,n){if(!t.w(e)){void 0===n&&(n=!1),n||Fh(this),yu(this);var r=this.layout;null===r||!r.isViewportSized||this.autoScale!==Ta||n||t.width===e.width&&t.height===e.height||r.C(),r=this.currentTool,!0===this.Zf&&r instanceof jr&&(this.lastInput.documentPoint=this.ou(this.lastInput.viewPoint),vl(r,this)),this.Sb||this.invalidateViewport(t,e),oc(this),this.Ic.scale=i,this.Ic.position.x=t.x,this.Ic.position.y=t.y,this.Ic.bounds.assign(t),this.Ic.Gv.width=Math.round(t.width*i),this.Ic.Gv.height=Math.round(t.height*i),this.Ic.kw.width=this.va,this.Ic.kw.height=this.ua,this.Ic.hw=n,this.R("ViewportBoundsChanged",this.Ic,t),this.isVirtualized&&this.links.each(function(l){l.isAvoiding&&l.actualBounds.Mc(e)&&l.Ua()})}},di.prototype.clearSelection=function(t){void 0===t&&(t=!1);var e=this.selection;if(0!==e.count){t||this.R("ChangingSelection",e);for(var i=e.ma(),n=i.length,r=0;r<n;r++)i[r].isSelected=!1;e.ea(),e.clear(),e.freeze(),t||this.R("ChangedSelection",e)}},di.prototype.select=function(t){null!==t&&t.layer.diagram===this&&(!t.isSelected||1<this.selection.count)&&(this.R("ChangingSelection",this.selection),this.clearSelection(!0),t.isSelected=!0,this.R("ChangedSelection",this.selection))},di.prototype.$A=function(t){if(this.R("ChangingSelection",this.selection),this.clearSelection(!0),Ot(t))for(var e=t.length,i=0;i<e;i++){var n=t[i];n instanceof qt||U("Diagram.selectCollection given something that is not a Part: "+n),n.isSelected=!0}else for(t=t.iterator;t.next();)(e=t.value)instanceof qt||U("Diagram.selectCollection given something that is not a Part: "+e),e.isSelected=!0;this.R("ChangedSelection",this.selection)},di.prototype.clearHighlighteds=function(){var t=this.highlighteds;if(0<t.count){for(var e=t.ma(),i=e.length,n=0;n<i;n++)e[n].isHighlighted=!1;t.ea(),t.clear(),t.freeze()}},(Q=di.prototype).uA=function(t){null!==t&&t.layer.diagram===this&&(!t.isHighlighted||1<this.highlighteds.count)&&(this.clearHighlighteds(),t.isHighlighted=!0)},Q.vA=function(t){t=(new Pt).addAll(t);for(var e=this.highlighteds.copy().Zq(t).iterator;e.next();)e.value.isHighlighted=!1;for(t=t.iterator;t.next();)(e=t.value)instanceof qt||U("Diagram.highlightCollection given something that is not a Part: "+e),e.isHighlighted=!0},Q.scroll=function(t,e,i){void 0===i&&(i=1);var n="up"===e||"down"===e,r=0;if("pixel"===t)r=i;else if("line"===t)r=i*(n?this.scrollVerticalLineChange:this.scrollHorizontalLineChange);else if("page"===t)t=n?this.viewportBounds.height:this.viewportBounds.width,0!=(t*=this.scale)&&(r=i*Math.max(t-(n?this.scrollVerticalLineChange:this.scrollHorizontalLineChange),0));else{if("document"===t)return r=this.documentBounds,i=this.viewportBounds,n=ht.alloc(),"up"===e?this.position=n.h(i.x,r.y):"left"===e?this.position=n.h(r.x,i.y):"down"===e?this.position=n.h(i.x,r.bottom-i.height):"right"===e&&(this.position=n.h(r.right-i.width,i.y)),void ht.free(n);U("scrolling unit must be 'pixel', 'line', 'page', or 'document', not: "+t)}r/=this.scale,i=this.position.copy(),"up"===e?i.y=this.position.y-r:"down"===e?i.y=this.position.y+r:"left"===e?i.x=this.position.x-r:"right"===e?i.x=this.position.x+r:U("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+e),this.position=i},Q.Aw=function(t){var e=this.viewportBounds;e.Ge(t)||((t=t.center).x-=e.width/2,t.y-=e.height/2,this.position=t)},Q.At=function(t){var e=this.viewportBounds;(t=t.center).x-=e.width/2,t.y-=e.height/2,this.position=t},Q.gr=function(t){var e=this.sb;e.reset(),1!==this.Aa&&e.scale(this.Aa);var i=this.la;return(0!==i.x||0!==i.y)&&isFinite(i.x)&&isFinite(i.y)&&e.translate(-i.x,-i.y),t.copy().transform(this.sb)},Q.iB=function(t){var e=this.sb,i=t.x,n=t.y,r=i+t.width,l=n+t.height,v=e.m11,_=e.m12,D=e.m21,O=e.m22,V=e.dx,$=e.dy,vt=i*v+n*D+V;e=i*_+n*O+$;var kt=r*v+n*D+V;return t=r*_+n*O+$,n=i*v+l*D+V,i=i*_+l*O+$,v=r*v+l*D+V,r=r*_+l*O+$,l=Math.min(vt,kt),vt=Math.max(vt,kt),kt=Math.min(e,t),e=Math.max(e,t),l=Math.min(l,n),vt=Math.max(vt,n),kt=Math.min(kt,i),e=Math.max(e,i),l=Math.min(l,v),vt=Math.max(vt,v),new he(l,kt=Math.min(kt,r),vt-l,(e=Math.max(e,r))-kt)},Q.ou=function(t){var e=this.sb;e.reset(),1!==this.Aa&&e.scale(this.Aa);var i=this.la;return(0!==i.x||0!==i.y)&&isFinite(i.x)&&isFinite(i.y)&&e.translate(-i.x,-i.y),We(t.copy(),this.sb)},di.prototype.doModelChanged=function(t){var e=this;if(t.model===this.model){var i=t.change,n=t.propertyName;if(i===Cr&&"S"===n[0])if("StartingFirstTransaction"===n){var r=this;(t=this.toolManager).mouseDownTools.each(function(D){D.diagram=r}),t.mouseMoveTools.each(function(D){D.diagram=r}),t.mouseUpTools.each(function(D){D.diagram=r}),this.ac||this.qe||(this.Hj=!0,this.Kj&&(this.Ee=!0))}else"StartingUndo"===n||"StartingRedo"===n?((t=this.animationManager).defaultAnimation.isAnimating&&!this.skipsUndoManager&&t.Bc(),this.R("ChangingSelection",this.selection)):"StartedTransaction"===n&&(t=this.animationManager).defaultAnimation.isAnimating&&!this.skipsUndoManager&&t.Bc();else if(this.Z){this.Z=!1;try{if(""===t.modelChange&&i===Cr){("FinishedUndo"===n||"FinishedRedo"===n)&&(this.R("ChangedSelection",this.selection),Ys(this));var l=this.animationManager;"RolledBackTransaction"===n&&l.Bc(),this.Hj=!0,this.hd(),0!==this.undoManager.transactionLevel&&1!==this.undoManager.transactionLevel||Mi(l),"CommittedTransaction"===n&&this.undoManager.isJustDiscarded&&(this.Xd=Math.min(this.Xd,this.undoManager.historyIndex-1)),"CommittedTransaction"!==n&&"RolledBackTransaction"!==n||!this.undoManager.isPendingUnmodified||setTimeout(function(){e.isModified=!1},1);var v=t.isTransactionFinished;if(v&&(Em(this),this.Yt.clear(),function(t){for(t=t.yj.iterator;t.next();)t.value.Il=!1}(this.animationManager)),!this.Bs&&v&&this.lastInput.targetDiagram){this.Bs=!0;var _=this;Y(function(){_.currentTool.standardMouseOver(),_.Bs=!1},10)}}}finally{this.Z=!0}}}},di.prototype.Md=function(){this.partManager.Md()},di.prototype.jk=function(t,e){this.Uc.jk(t,e)},di.prototype.lk=function(t,e){this.Uc.lk(t,e)},di.prototype.findPartForKey=function(t){return this.partManager.findPartForKey(t)},di.prototype.Cb=function(t){return this.partManager.Cb(t)},di.prototype.findLinkForKey=function(t){return this.partManager.findLinkForKey(t)},(Q=di.prototype).zc=function(t){return this.partManager.zc(t)},Q.gj=function(t){return this.partManager.gj(t)},Q.yc=function(t){return this.partManager.yc(t)},Q.It=function(t){for(var e=[],i=0;i<arguments.length;++i)e[i]=arguments[i];return this.partManager.It.apply(this.partManager,e instanceof Array?e:f(ct(e)))},Q.Ht=function(t){for(var e=[],i=0;i<arguments.length;++i)e[i]=arguments[i];return this.partManager.Ht.apply(this.partManager,e instanceof Array?e:f(ct(e)))},Q.Ta=function(){this.vi&&sc(this,this.computeBounds())},Q.dA=function(){for(var t=new Pt,e=this.nodes;e.next();){var i=e.value;i.isTopLevel&&t.add(i)}for(e=this.links;e.next();)(i=e.value).isTopLevel&&t.add(i);return t.iterator},Q.cA=function(){return this.Dh.iterator},Q.EA=function(t){Ys(this),t&&ls(this,!0),this.ac?Wd(this,!1):(this.Hj=!0,Pc(this))},Q.jA=function(){for(var t=new zt,e=this.nodes;e.next();){var i=e.value;i.isTopLevel&&null===i.jj()&&t.add(i)}return t.iterator},Q.kk=function(t,e){null!==(t=Kd(this,t))&&t.add(e)},Q.Lm=function(t,e){null!==(t=Kd(this,t))&&t.remove(e)},Q.R=function(t,e,i){var n=Kd(this,t),r=new An;if(r.diagram=this,null!==(t=Np(this,t))&&(r.name=t),void 0!==e&&(r.subject=e),void 0!==i&&(r.parameter=i),1===(e=n.length))n.J(0)(r);else if(0!==e)for(n=n.ma(),i=0;i<e;i++)(0,n[i])(r)},Q.Ek=function(t,e){return void 0===e&&(e=null),Vh(this,!1,null,e).Ek(t.x,t.y,t.width,t.height)},di.prototype.computeOccupiedArea=function(){return this.isVirtualized?this.viewportBounds.copy():this.vi?_a(this):this.documentBounds.copy()},di.prototype.Et=function(t){this.rn.assign(t),this.computeAutoScrollPosition(this.rn).Qa(this.position)?this.Jf():z0(this)},di.prototype.Jf=function(){-1!==this.Bj&&(B.clearTimeout(this.Bj),this.Bj=-1)},di.prototype.computeAutoScrollPosition=function(t){var e=this.position,i=this.sn;if(0>=i.top&&0>=i.left&&0>=i.right&&0>=i.bottom)return e;var n=this.viewportBounds,r=this.scale;n=he.allocAt(0,0,n.width*r,n.height*r);var l=ht.allocAt(0,0);if(t.x>=n.x&&t.x<n.x+i.left&&this.allowHorizontalScroll){var v=Math.max(this.scrollHorizontalLineChange,1);l.x-=v|=0,t.x<n.x+i.left/2&&(l.x-=v),t.x<n.x+i.left/4&&(l.x-=4*v)}else t.x<=n.x+n.width&&t.x>n.x+n.width-i.right&&this.allowHorizontalScroll&&(v=Math.max(this.scrollHorizontalLineChange,1),l.x+=v|=0,t.x>n.x+n.width-i.right/2&&(l.x+=v),t.x>n.x+n.width-i.right/4&&(l.x+=4*v));return t.y>=n.y&&t.y<n.y+i.top&&this.allowVerticalScroll?(v=Math.max(this.scrollVerticalLineChange,1),l.y-=v|=0,t.y<n.y+i.top/2&&(l.y-=v),t.y<n.y+i.top/4&&(l.y-=4*v)):t.y<=n.y+n.height&&t.y>n.y+n.height-i.bottom&&this.allowVerticalScroll&&(v=Math.max(this.scrollVerticalLineChange,1),l.y+=v|=0,t.y>n.y+n.height-i.bottom/2&&(l.y+=v),t.y>n.y+n.height-i.bottom/4&&(l.y+=4*v)),l.Qa(je)||(e=new ht(e.x+l.x/r,e.y+l.y/r)),he.free(n),ht.free(l),e},(Q=di.prototype).$t=function(){return null},Q.iw=function(){return null},Q.rz=function(t,e){this.Kx.add(t,e)},Q.GA=function(t){return va?(void 0===t&&(t=new Vt),t.returnType="Image",this.Hy(t)):null},Q.Hy=function(t){return void 0===t&&(t=new Vt),ac(this,this.HA,t)},Q.HA=function(t,e,i){var n=km(i,t,"canvas",null);if(null===n)return null;var r=null;if(null!==(i=n.Y.canvas))switch(r=t.returnType,r=void 0===r?"string":r.toLowerCase(),r){case wf+"data":r=n.getImageData(0,0,i.width,i.height);break;case wf:(n=(t.document||document).createElement("img")).src=i.toDataURL(t.type,t.details),r=n;break;case"blob":return"function"!=typeof e&&U('Error: Diagram.makeImageData called with "returnType: toBlob", but no required "callback" function property defined.'),"function"==typeof i.toBlob?(i.toBlob(e,t.type,t.details),"toBlob"):"function"==typeof i.msToBlob?(e(i.msToBlob()),"msToBlob"):(e(null),null);default:r=i.toDataURL(t.type,t.details)}return"function"==typeof e?(e(r),null):r},H.Object.defineProperties(di.prototype,{div:{get:function(){return this.Da},set:function(t){if(this.Da!==t){var e=this.Da;null!==e?(e.B=void 0,e.goDiagram=void 0,e.innerHTML="",null!==this.ya&&(e=this.ya.Ja,this.zj?(this.removeEventListener(e,"pointermove",this.Pk,!1),this.removeEventListener(e,"pointerdown",this.Ok,!1),this.removeEventListener(e,"pointerup",this.Rk,!1),this.removeEventListener(e,"pointerout",this.Qk,!1)):(this.removeEventListener(e,"touchstart",this.Ow,!1),this.removeEventListener(e,"touchmove",this.Nw,!1),this.removeEventListener(e,"touchend",this.Mw,!1)),this.ya.ky()),this.Zl&&(this.Zl.disconnect(),this.Zl=null),null!==(e=this.toolManager)&&(e.mouseDownTools.each(function(i){i.cancelWaitAfter()}),e.mouseMoveTools.each(function(i){i.cancelWaitAfter()}),e.mouseUpTools.each(function(i){i.cancelWaitAfter()})),e.cancelWaitAfter(),this.currentTool.doCancel(),this.Gb=this.ya=null,this.removeEventListener(B,"resize",this.Ww,!1),this.zj||(this.removeEventListener(B,"mousemove",this.Ik,!0),this.removeEventListener(B,"mousedown",this.Hk,!0),this.removeEventListener(B,"mouseup",this.Kk,!0),this.removeEventListener(B,"mouseout",this.Jk,!0)),this.removeEventListener(B,"wheel",this.Lk,!0),$d===this&&($d=null)):this.qe=!1,this.Da=null,null!==t&&((e=t.B)&&(e.div=null),ed(this,t),this.redraw())}}},Yx:{get:function(){return this.cp}},pj:{get:function(){return this.qe}},draggedLink:{get:function(){return this.Sr},set:function(t){this.Sr!==t&&(this.Sr=t,null!==t&&(this.Fs=t.fromPort,this.Gs=t.toPort))}},Ky:{get:function(){return this.Fs},set:function(t){this.Fs=t}},Ly:{get:function(){return this.Gs},set:function(t){this.Gs=t}},animationManager:{get:function(){return this.Uc}},undoManager:{get:function(){return this.cc.undoManager}},skipsUndoManager:{get:function(){return this.vg},set:function(t){this.vg=t,this.cc.skipsUndoManager=t}},delaysLayout:{get:function(){return this.Nr},set:function(t){this.Nr=t}},opacity:{get:function(){return this.hb},set:function(t){var e=this.hb;e!==t&&((0>t||1<t)&&ot(t,"0 <= value <= 1",di,"opacity"),this.hb=t,this.g("opacity",e,t),this.M())}},validCycle:{get:function(){return this.tt},set:function(t){var e=this.tt;e!==t&&(this.tt=t,this.g("validCycle",e,t))}},layers:{get:function(){return this.Ma.iterator}},isModelReadOnly:{get:function(){var t=this.cc;return null!==t&&t.isReadOnly},set:function(t){var e=this.cc;null!==e&&(e.isReadOnly=t)}},isReadOnly:{get:function(){return this.$f},set:function(t){var e=this.$f;e!==t&&(this.$f=t,this.g("isReadOnly",e,t))}},isEnabled:{get:function(){return this.md},set:function(t){var e=this.md;e!==t&&(this.md=t,this.g("isEnabled",e,t))}},allowClipboard:{get:function(){return this.nr},set:function(t){var e=this.nr;e!==t&&(this.nr=t,this.g("allowClipboard",e,t))}},allowCopy:{get:function(){return this.$h},set:function(t){var e=this.$h;e!==t&&(this.$h=t,this.g("allowCopy",e,t))}},allowDelete:{get:function(){return this.ai},set:function(t){var e=this.ai;e!==t&&(this.ai=t,this.g("allowDelete",e,t))}},allowDragOut:{get:function(){return this.pr},set:function(t){var e=this.pr;e!==t&&(this.pr=t,this.g("allowDragOut",e,t))}},allowDrop:{get:function(){return this.qr},set:function(t){var e=this.qr;e!==t&&(this.qr=t,this.g("allowDrop",e,t))}},allowTextEdit:{get:function(){return this.ji},set:function(t){var e=this.ji;e!==t&&(this.ji=t,this.g("allowTextEdit",e,t))}},allowGroup:{get:function(){return this.bi},set:function(t){var e=this.bi;e!==t&&(this.bi=t,this.g("allowGroup",e,t))}},allowUngroup:{get:function(){return this.ki},set:function(t){var e=this.ki;e!==t&&(this.ki=t,this.g("allowUngroup",e,t))}},allowInsert:{get:function(){return this.sr},set:function(t){var e=this.sr;e!==t&&(this.sr=t,this.g("allowInsert",e,t))}},allowLink:{get:function(){return this.ci},set:function(t){var e=this.ci;e!==t&&(this.ci=t,this.g("allowLink",e,t))}},allowRelink:{get:function(){return this.ei},set:function(t){var e=this.ei;e!==t&&(this.ei=t,this.g("allowRelink",e,t))}},allowMove:{get:function(){return this.di},set:function(t){var e=this.di;e!==t&&(this.di=t,this.g("allowMove",e,t))}},allowReshape:{get:function(){return this.fi},set:function(t){var e=this.fi;e!==t&&(this.fi=t,this.g("allowReshape",e,t))}},allowResize:{get:function(){return this.gi},set:function(t){var e=this.gi;e!==t&&(this.gi=t,this.g("allowResize",e,t))}},allowRotate:{get:function(){return this.hi},set:function(t){var e=this.hi;e!==t&&(this.hi=t,this.g("allowRotate",e,t))}},allowSelect:{get:function(){return this.ii},set:function(t){var e=this.ii;e!==t&&(this.ii=t,this.g("allowSelect",e,t))}},allowUndo:{get:function(){return this.tr},set:function(t){var e=this.tr;e!==t&&(this.tr=t,this.g("allowUndo",e,t))}},allowZoom:{get:function(){return this.vr},set:function(t){var e=this.vr;e!==t&&(this.vr=t,this.g("allowZoom",e,t))}},hasVerticalScrollbar:{get:function(){return this.wl},set:function(t){var e=this.wl;e!==t&&(this.wl=t,Fh(this),this.M(),this.g("hasVerticalScrollbar",e,t),Gs(this,!1))}},hasHorizontalScrollbar:{get:function(){return this.vl},set:function(t){var e=this.vl;e!==t&&(this.vl=t,Fh(this),this.M(),this.g("hasHorizontalScrollbar",e,t),Gs(this,!1))}},allowHorizontalScroll:{get:function(){return this.rr},set:function(t){var e=this.rr;e!==t&&(this.rr=t,this.g("allowHorizontalScroll",e,t),Gs(this,!1))}},allowVerticalScroll:{get:function(){return this.ur},set:function(t){var e=this.ur;e!==t&&(this.ur=t,this.g("allowVerticalScroll",e,t),Gs(this,!1))}},scrollHorizontalLineChange:{get:function(){return this.Ws},set:function(t){var e=this.Ws;e!==t&&(0>t&&ot(t,">= 0",di,"scrollHorizontalLineChange"),this.Ws=t,this.g("scrollHorizontalLineChange",e,t))}},scrollVerticalLineChange:{get:function(){return this.$s},set:function(t){var e=this.$s;e!==t&&(0>t&&ot(t,">= 0",di,"scrollVerticalLineChange"),this.$s=t,this.g("scrollVerticalLineChange",e,t))}},lastInput:{get:function(){return this.hh},set:function(t){this.hh=t}},previousInput:{get:function(){return this.od},set:function(t){this.od=t}},firstInput:{get:function(){return this.Wf},set:function(t){this.Wf=t}},currentCursor:{get:function(){return this.Hr},set:function(t){if(""===t&&(t=this.Pn),this.Hr!==t){var e=this.ya,i=this.Da;if(null!==e){this.Hr=t;var n=e.style.cursor;e.style.cursor=t,i.style.cursor=t,e.style.cursor===n&&(e.style.cursor="-webkit-"+t,i.style.cursor="-webkit-"+t,e.style.cursor===n&&(e.style.cursor="-moz-"+t,i.style.cursor="-moz-"+t,e.style.cursor===n&&(e.style.cursor=t,i.style.cursor=t)))}}}},defaultCursor:{get:function(){return this.Pn},set:function(t){""===t&&(t="auto");var e=this.Pn;e!==t&&(this.Pn=t,this.g("defaultCursor",e,t))}},click:{get:function(){return this.Pf},set:function(t){var e=this.Pf;e!==t&&(this.Pf=t,this.g("click",e,t))}},doubleClick:{get:function(){return this.Uf},set:function(t){var e=this.Uf;e!==t&&(this.Uf=t,this.g("doubleClick",e,t))}},contextClick:{get:function(){return this.Qf},set:function(t){var e=this.Qf;e!==t&&(this.Qf=t,this.g("contextClick",e,t))}},mouseOver:{get:function(){return this.lg},set:function(t){var e=this.lg;e!==t&&(this.lg=t,this.g("mouseOver",e,t))}},mouseHover:{get:function(){return this.jg},set:function(t){var e=this.jg;e!==t&&(this.jg=t,this.g("mouseHover",e,t))}},mouseHold:{get:function(){return this.ig},set:function(t){var e=this.ig;e!==t&&(this.ig=t,this.g("mouseHold",e,t))}},mouseDragOver:{get:function(){return this.As},set:function(t){var e=this.As;e!==t&&(this.As=t,this.g("mouseDragOver",e,t))}},mouseDrop:{get:function(){return this.gg},set:function(t){var e=this.gg;e!==t&&(this.gg=t,this.g("mouseDrop",e,t))}},handlesDragDropForTopLevelParts:{get:function(){return this.cs},set:function(t){var e=this.cs;e!==t&&(this.cs=t,this.g("handlesDragDropForTopLevelParts",e,t))}},mouseEnter:{get:function(){return this.hg},set:function(t){var e=this.hg;e!==t&&(this.hg=t,this.g("mouseEnter",e,t))}},mouseLeave:{get:function(){return this.kg},set:function(t){var e=this.kg;e!==t&&(this.kg=t,this.g("mouseLeave",e,t))}},toolTip:{get:function(){return this.wg},set:function(t){var e=this.wg;e!==t&&(this.wg=t,this.g("toolTip",e,t))}},contextMenu:{get:function(){return this.Rf},set:function(t){var e=this.Rf;e!==t&&(this.Rf=t,this.g("contextMenu",e,t))}},commandHandler:{get:function(){return this.Br},set:function(t){this.Br!==t&&(this.Br=t,t.ee(this))}},toolManager:{get:function(){return this.pt},set:function(t){this.pt!==t&&(this.pt=t,t.diagram=this)}},defaultTool:{get:function(){return this.Mr},set:function(t){var e=this.Mr;e!==t&&(this.Mr=t,t.diagram=this,this.currentTool===e&&(this.currentTool=t))}},currentTool:{get:function(){return this.Jr},set:function(t){var e=this.Jr;null!==e&&(e.isActive&&e.doDeactivate(),e.cancelWaitAfter(),e.doStop()),null===t&&(t=this.defaultTool),null!==t&&(this.Jr=t,t.diagram=this,t.doStart())}},selection:{get:function(){return this.qv}},maxSelectionCount:{get:function(){return this.ws},set:function(t){var e=this.ws;if(e!==t)if(0<=t&&!isNaN(t)){if(this.ws=t,this.g("maxSelectionCount",e,t),!this.undoManager.isUndoingRedoing&&0<(t=this.selection.count-t)){this.R("ChangingSelection",this.selection),e=this.selection.ma();for(var i=0;i<t;i++)e[i].isSelected=!1;this.R("ChangedSelection",this.selection)}}else ot(t,">= 0",di,"maxSelectionCount")}},nodeSelectionAdornmentTemplate:{get:function(){return this.kp},set:function(t){var e=this.kp;e!==t&&(this.kp=t,this.g("nodeSelectionAdornmentTemplate",e,t))}},groupSelectionAdornmentTemplate:{get:function(){return this.qo},set:function(t){var e=this.qo;e!==t&&(this.qo=t,this.g("groupSelectionAdornmentTemplate",e,t))}},linkSelectionAdornmentTemplate:{get:function(){return this.Lo},set:function(t){var e=this.Lo;e!==t&&(this.Lo=t,this.g("linkSelectionAdornmentTemplate",e,t))}},highlighteds:{get:function(){return this.Su}},isModified:{get:function(){var t=this.undoManager;return t.isEnabled?null!==t.currentTransaction||this.wo&&this.Xd!==t.historyIndex:this.wo},set:function(t){if(this.wo!==t){this.wo=t;var e=this.undoManager;!t&&e.isEnabled&&(this.Xd=e.historyIndex),t||Em(this)}}},model:{get:function(){return this.cc},set:function(t){var e=this.cc;if(e!==t){this.currentTool.doCancel(),null!==e&&e.undoManager!==t.undoManager&&e.undoManager.isInTransaction&&U("Do not replace a Diagram.model while a transaction is in progress."),this.animationManager.Bc(!0);var i=_m(this,!0);this.qe=!1,this.Kj=!0,this.Xd=-2,this.Ee=!1;var n=this.ac;this.ac=!0,Xe(this.animationManager,"Model"),null!==e&&(null!==this.we&&this.we.each(function(l){e.Tk(l)}),e.Tk(this.Tc)),this.cc=t,this.partManager=function(t){return null!==(t=Fp.get(t))?new t:new qr}(this.cc.type);for(var r=0;r<i.length;r++)this.add(i[r]);t.Hh(this.Cc),this.partManager.addAllModeledParts(),t.Tk(this.Cc),t.Hh(this.Tc),null!==this.we&&this.we.each(function(l){t.Hh(l)}),this.ac=n,this.Na(),this.Sb||this.M(),null!==e&&t.undoManager.copyProperties(e.undoManager)}}},Z:{get:function(){return this.av},set:function(t){this.av=t}},Yt:{get:function(){return this.Ax}},skipsModelSourceBindings:{get:function(){return this.rv},set:function(t){this.rv=t}},mu:{get:function(){return this.gt},set:function(t){this.gt=t}},nodeTemplate:{get:function(){return this.df.G("")},set:function(t){var e=this.df.G("");e!==t&&(this.df.add("",t),this.g("nodeTemplate",e,t),this.undoManager.isUndoingRedoing||this.Md())}},nodeTemplateMap:{get:function(){return this.df},set:function(t){var e=this.df;e!==t&&(this.df=t,this.g("nodeTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.Md())}},groupTemplate:{get:function(){return this.fh.G("")},set:function(t){var e=this.fh.G("");e!==t&&(this.fh.add("",t),this.g("groupTemplate",e,t),this.undoManager.isUndoingRedoing||this.Md())}},groupTemplateMap:{get:function(){return this.fh},set:function(t){var e=this.fh;e!==t&&(this.fh=t,this.g("groupTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.Md())}},linkTemplate:{get:function(){return this.bg.G("")},set:function(t){var e=this.bg.G("");e!==t&&(this.bg.add("",t),this.g("linkTemplate",e,t),this.undoManager.isUndoingRedoing||this.Md())}},linkTemplateMap:{get:function(){return this.bg},set:function(t){var e=this.bg;e!==t&&(this.bg=t,this.g("linkTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.Md())}},isMouseCaptured:{get:function(){return this.Xu},set:function(t){var e=this.ya;null!==e&&((e=e.Ja)instanceof SVGElement||(t?(this.lastInput.bubbles=!1,this.zj?(this.removeEventListener(e,"pointermove",this.Pk,!1),this.removeEventListener(e,"pointerdown",this.Ok,!1),this.removeEventListener(e,"pointerup",this.Rk,!1),this.removeEventListener(e,"pointerout",this.Qk,!1),this.addEventListener(B,"pointermove",this.Pk,!0),this.addEventListener(B,"pointerdown",this.Ok,!0),this.addEventListener(B,"pointerup",this.Rk,!0),this.addEventListener(B,"pointerout",this.Qk,!0)):(this.removeEventListener(e,"mousemove",this.Ik,!1),this.removeEventListener(e,"mousedown",this.Hk,!1),this.removeEventListener(e,"mouseup",this.Kk,!1),this.removeEventListener(e,"mouseout",this.Jk,!1),this.addEventListener(B,"mousemove",this.Ik,!0),this.addEventListener(B,"mousedown",this.Hk,!0),this.addEventListener(B,"mouseup",this.Kk,!0),this.addEventListener(B,"mouseout",this.Jk,!0)),this.removeEventListener(e,"wheel",this.Lk,!1),this.addEventListener(B,"wheel",this.Lk,!0),this.addEventListener(B,"selectstart",this.preventDefault,!1)):(this.zj?(this.removeEventListener(B,"pointermove",this.Pk,!0),this.removeEventListener(B,"pointerdown",this.Ok,!0),this.removeEventListener(B,"pointerup",this.Rk,!0),this.removeEventListener(B,"pointerout",this.Qk,!0),this.addEventListener(e,"pointermove",this.Pk,!1),this.addEventListener(e,"pointerdown",this.Ok,!1),this.addEventListener(e,"pointerup",this.Rk,!1),this.addEventListener(e,"pointerout",this.Qk,!1)):(this.removeEventListener(B,"mousemove",this.Ik,!0),this.removeEventListener(B,"mousedown",this.Hk,!0),this.removeEventListener(B,"mouseup",this.Kk,!0),this.removeEventListener(B,"mouseout",this.Jk,!0),this.addEventListener(e,"mousemove",this.Ik,!1),this.addEventListener(e,"mousedown",this.Hk,!1),this.addEventListener(e,"mouseup",this.Kk,!1),this.addEventListener(e,"mouseout",this.Jk,!1)),this.removeEventListener(B,"wheel",this.Lk,!0),this.removeEventListener(B,"selectstart",this.preventDefault,!1),this.addEventListener(e,"wheel",this.Lk,!1)),this.Xu=t))}},position:{get:function(){return this.la},set:function(t){var e=ht.alloc().assign(this.la);if(!e.w(t)){var i=this.viewportBounds.copy();this.la.assign(t),Vo(this.animationManager,e,this.la),this.Sb||null===this.ya&&!this.sm.o()||(this.Sb=!0,Nl(this,this.Rn,this.va/(t=this.scale),this.ua/t,this.Dj,!1),this.Sb=!1),this.Sb||this.onViewportBoundsChanged(i,this.viewportBounds,this.Aa,!1)}ht.free(e)}},initialPosition:{get:function(){return this.es},set:function(t){this.es.w(t)||(this.es=t.H())}},initialScale:{get:function(){return this.fs},set:function(t){this.fs!==t&&(this.fs=t)}},grid:{get:function(){return null===this.Ib&&ov(this),this.Ib},set:function(t){var e=this.Ib;if(e!==t){null===e&&(ov(this),e=this.Ib),t.type!==Xi.Grid&&U("Diagram.grid must be a Panel of type Panel.Grid");var i=e.panel;null!==i&&i.remove(e),this.Ib=t,t.name="GRID",null!==i&&i.add(t),oc(this),this.M(),this.g("grid",e,t)}}},viewportBounds:{get:function(){var t=this.Rx,e=this.la,i=this.Aa;return t.h(e.x,e.y,Math.max(this.va,0)/i,Math.max(this.ua,0)/i),t}},viewSize:{get:function(){return this.sm},set:function(t){var e=this.viewSize;e.w(t)||(this.sm=t=t.H(),this.ua=this.va=0,t.o()?(this.va=t.width,this.ua=t.height):null!==this.Da&&(this.va=this.Da.clientWidth||1,this.ua=this.Da.clientHeight||1),this.Na(),this.g("viewSize",e,t),this.redraw())}},fixedBounds:{get:function(){return this.Zr},set:function(t){var e=this.Zr;e.w(t)||(t.width!==-1/0&&t.height!==1/0&&t.height!==-1/0||U("fixedBounds width/height must not be Infinity"),this.Zr=t=t.H(),this.Na(),this.g("fixedBounds",e,t))}},scrollMargin:{get:function(){return this.Si},set:function(t){"number"==typeof t&&(t=new Je(t));var e=this.Si;e.w(t)||(this.Si=t=t.H(),this.g("scrollMargin",e,t),this.Yq())}},scrollMode:{get:function(){return this.Ti},set:function(t){var e=this.Ti;e!==t&&(this.Ti=t,t===lc&&Gs(this,!1),this.g("scrollMode",e,t),this.M())}},scrollsPageOnFocus:{get:function(){return this.at},set:function(t){var e=this.at;e!==t&&(this.at=t,this.g("scrollsPageOnFocus",e,t))}},positionComputation:{get:function(){return this.Ns},set:function(t){var e=this.Ns;e!==t&&(this.Ns=t,Gs(this,!1),this.g("positionComputation",e,t))}},scaleComputation:{get:function(){return this.Us},set:function(t){var e=this.Us;e!==t&&(this.Us=t,yh(this,this.scale,this.scale),this.g("scaleComputation",e,t))}},documentBounds:{get:function(){return this.Rn}},isVirtualized:{get:function(){return this.rs},set:function(t){var e=this.rs;e!==t&&(this.rs=t,this.g("isVirtualized",e,t))}},scale:{get:function(){return this.Aa},set:function(t){var e=this.Aa;e!==t&&yh(this,e,t)}},defaultScale:{get:function(){return this.Qn},set:function(t){this.Qn=t}},autoScale:{get:function(){return this.Og},set:function(t){var e=this.Og;e!==t&&(this.Og=t,this.g("autoScale",e,t),t!==Ta&&Gs(this,!1))}},initialAutoScale:{get:function(){return this.Yf},set:function(t){var e=this.Yf;e!==t&&(this.Yf=t,this.g("initialAutoScale",e,t))}},initialViewportSpot:{get:function(){return this.gs},set:function(t){var e=this.gs;e!==t&&(t.kb()||U("initialViewportSpot must be a specific Spot: "+t),this.gs=t,this.g("initialViewportSpot",e,t))}},initialDocumentSpot:{get:function(){return this.ds},set:function(t){var e=this.ds;e!==t&&(t.kb()||U("initialViewportSpot must be a specific Spot: "+t),this.ds=t,this.g("initialDocumentSpot",e,t))}},minScale:{get:function(){return this.xs},set:function(t){var e=this.xs;e!==t&&(0<t?(this.xs=t,this.g("minScale",e,t),t>this.scale&&(this.scale=t)):ot(t,"> 0",di,"minScale"))}},maxScale:{get:function(){return this.vs},set:function(t){var e=this.vs;e!==t&&(0<t?(this.vs=t,this.g("maxScale",e,t),t<this.scale&&(this.scale=t)):ot(t,"> 0",di,"maxScale"))}},zoomPoint:{get:function(){return this.xt},set:function(t){this.xt.w(t)||(this.xt=t=t.H())}},contentAlignment:{get:function(){return this.Dj},set:function(t){var e=this.Dj;e.w(t)||(this.Dj=t=t.H(),this.g("contentAlignment",e,t),Gs(this,!1))}},initialContentAlignment:{get:function(){return this.to},set:function(t){var e=this.to;e.w(t)||(this.to=t=t.H(),this.g("initialContentAlignment",e,t))}},padding:{get:function(){return this.ib},set:function(t){"number"==typeof t&&(t=new Je(t));var e=this.ib;e.w(t)||(this.ib=t=t.H(),this.Na(),this.g("padding",e,t))}},partManager:{get:function(){return this.La},set:function(t){var e=this.La;e!==t&&(null!==t.diagram&&U("Cannot share PartManagers between Diagrams: "+t.toString()),null!==e&&e.ee(null),this.La=t,t.ee(this))}},nodes:{get:function(){return this.partManager.nodes.iterator}},links:{get:function(){return this.partManager.links.iterator}},parts:{get:function(){return this.partManager.parts.iterator}},layout:{get:function(){return this.kc},set:function(t){var e=this.kc;e!==t&&(this.kc=t,t.diagram=this,t.group=null,this.Ng=!0,this.g("layout",e,t),this.Db())}},isTreePathToChildren:{get:function(){return this.qs},set:function(t){var e=this.qs;if(e!==t&&(this.qs=t,this.g("isTreePathToChildren",e,t),!this.undoManager.isUndoingRedoing))for(t=this.nodes;t.next();)go(t.value)}},treeCollapsePolicy:{get:function(){return this.rt},set:function(t){var e=this.rt;e!==t&&(t!==gs&&t!==Xu&&t!==xf&&U("Unknown Diagram.treeCollapsePolicy: "+t),this.rt=t,this.g("treeCollapsePolicy",e,t))}},Le:{get:function(){return this.Uu},set:function(t){this.Uu=t}},autoScrollInterval:{get:function(){return this.qn},set:function(t){var e=this.qn;e!==t&&(this.qn=t,this.g("autoScrollInterval",e,t))}},autoScrollRegion:{get:function(){return this.sn},set:function(t){"number"==typeof t&&(t=new Je(t));var e=this.sn;e.w(t)||(this.sn=t=t.H(),this.Na(),this.g("autoScrollRegion",e,t))}}}),H.Object.defineProperties(di,{licenseKey:{get:function(){return G0.Xb()},set:function(t){G0.add(t)}},version:{get:function(){return Bp}}}),di.prototype.makeImageData=di.prototype.Hy,di.prototype.makeImage=di.prototype.GA,di.prototype.addRenderer=di.prototype.rz,di.prototype.makeSVG=di.prototype.iw,di.prototype.makeSvg=di.prototype.$t,di.prototype.stopAutoScroll=di.prototype.Jf,di.prototype.doAutoScroll=di.prototype.Et,di.prototype.isUnoccupied=di.prototype.Ek,di.prototype.raiseDiagramEvent=di.prototype.R,di.prototype.removeDiagramListener=di.prototype.Lm,di.prototype.addDiagramListener=di.prototype.kk,di.prototype.findTreeRoots=di.prototype.jA,di.prototype.layoutDiagram=di.prototype.EA,di.prototype.findTopLevelGroups=di.prototype.cA,di.prototype.findTopLevelNodesAndLinks=di.prototype.dA,di.prototype.ensureBounds=di.prototype.Ta,di.prototype.findLinksByExample=di.prototype.Ht,di.prototype.findNodesByExample=di.prototype.It,di.prototype.findLinkForData=di.prototype.yc,di.prototype.findNodeForData=di.prototype.gj,di.prototype.findPartForData=di.prototype.zc,di.prototype.findLinkForKey=di.prototype.findLinkForKey,di.prototype.findNodeForKey=di.prototype.Cb,di.prototype.findPartForKey=di.prototype.findPartForKey,di.prototype.rebuildParts=di.prototype.Md,di.prototype.transformViewToDoc=di.prototype.ou,di.prototype.transformRectDocToView=di.prototype.iB,di.prototype.transformDocToView=di.prototype.gr,di.prototype.centerRect=di.prototype.At,di.prototype.scrollToRect=di.prototype.Aw,di.prototype.scroll=di.prototype.scroll,di.prototype.highlightCollection=di.prototype.vA,di.prototype.highlight=di.prototype.uA,di.prototype.selectCollection=di.prototype.$A,di.prototype.select=di.prototype.select,di.prototype.updateAllRelationshipsFromData=di.prototype.ir,di.prototype.updateAllTargetBindings=di.prototype.updateAllTargetBindings,di.prototype.commit=di.prototype.commit,di.prototype.rollbackTransaction=di.prototype.If,di.prototype.commitTransaction=di.prototype.Xa,di.prototype.startTransaction=di.prototype.xa,di.prototype.raiseChanged=di.prototype.g,di.prototype.raiseChangedEvent=di.prototype.Va,di.prototype.removeChangedListener=di.prototype.Tk,di.prototype.addChangedListener=di.prototype.Hh,di.prototype.removeModelChangedListener=di.prototype.VA,di.prototype.addModelChangedListener=di.prototype.Wx,di.prototype.findLayer=di.prototype.xk,di.prototype.removeLayer=di.prototype.TA,di.prototype.addLayerAfter=di.prototype.nz,di.prototype.addLayerBefore=di.prototype.Ux,di.prototype.addLayer=di.prototype.um,di.prototype.moveParts=di.prototype.moveParts,di.prototype.copyParts=di.prototype.tk,di.prototype.removeParts=di.prototype.gu,di.prototype.remove=di.prototype.remove,di.prototype.add=di.prototype.add,di.prototype.clearDelayedGeometries=di.prototype.Hv,di.prototype.setProperties=di.prototype.Fw,di.prototype.resetInputOptions=di.prototype.ww,di.prototype.setInputOption=di.prototype.aB,di.prototype.getInputOption=di.prototype.Bm,di.prototype.resetRenderingHints=di.prototype.xw,di.prototype.setRenderingHint=di.prototype.Ty,di.prototype.getRenderingHint=di.prototype.Ke,di.prototype.maybeUpdate=di.prototype.hd,di.prototype.requestUpdate=di.prototype.Db,di.prototype.delayInitialization=di.prototype.Jz,di.prototype.isUpdateRequested=di.prototype.AA,di.prototype.invalidateDocumentBounds=di.prototype.Na,di.prototype.findObjectsNear=di.prototype.Eg,di.prototype.findPartsNear=di.prototype.$z,di.prototype.findObjectsIn=di.prototype.zf,di.prototype.findPartsIn=di.prototype.ty,di.prototype.findObjectsAt=di.prototype.hj,di.prototype.findPartsAt=di.prototype.Zz,di.prototype.findObjectAt=di.prototype.Vb,di.prototype.findPartAt=di.prototype.zm,di.prototype.focusObject=di.prototype.kA,di.prototype.alignDocument=di.prototype.uz,di.prototype.zoomToRect=di.prototype.mB,di.prototype.zoomToFit=di.prototype.zoomToFit,di.prototype.diagramScroll=di.prototype.iy,di.prototype.focus=di.prototype.focus,di.useDOM=function(t){va=!!t&&void 0!==B.document},di.isUsingDOM=function(){return va};var $d=null,Fp=new yt,Xd=null,Bl=null,va=void 0!==B.document,jh=null,il="",Ta=new St(di,"None",0),zh=new St(di,"Uniform",1),td=new St(di,"UniformToFill",2),Zd=new St(di,"CycleAll",10),U0=new St(di,"CycleNotDirected",11),H0=new St(di,"CycleNotDirectedFast",12),la=new St(di,"CycleNotUndirected",13),Ws=new St(di,"CycleDestinationTree",14),vg=new St(di,"CycleSourceTree",15),lc=new St(di,"DocumentScroll",1),Tm=new St(di,"InfiniteScroll",2),gs=new St(di,"TreeParentCollapsed",21),Xu=new St(di,"AllParentsCollapsed",22),xf=new St(di,"AnyParentsCollapsed",23),G0=new zt,Bp="2.1.54",wf="image",Vp=null,Pm=!1;function lv(){if(va){var t=B.document.createElement("canvas"),e=t.getContext("2d"),i=T("7ca11abfd022028846");e[i]=T("398c3597c01238");for(var n=["5da73c80a36455d5038e4972187c3cae51fd22",X.Dx+"4ae6247590da4bb21c324ba3a84e385776",or.xF+"fb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387",ti.za],r=1;5>r;r++)e[T("7ca11abfd7330390")](T(n[r-1]),10,15*r);for(e[i]=T("39f046ebb36e4b"),i=1;5>i;i++)e[T("7ca11abfd7330390")](T(n[i-1]),10,15*i);(4!==n.length||"5"!==n[0][0]||"7"!==n[3][0])&&(or.prototype.Jd=or.prototype.Zx),Vp=t}}function jp(){this.jz=null,this.l="zz@orderNum",this.Ve="63ad05bbe23a1786468a4c741b6d2"===this._tk?this.l=!0:null}function zp(t,e){if(e.Gb.setTransform(e.Tb,0,0,e.Tb,0,0),null===t.Ve)t:{e="f";var i=B[T("76a715b2f73f148a")][T("72ba13b5")];if(t.Ve=!0,va){var n=di[T("76a115b6ed251eaf4692")];if(n)for(var r=G0.iterator;r.next()&&!(6>(n=T(n=r.value).split(T("39e9"))).length);){var l=T(n[1]).split(".");if("7da71ca0"!==n[4])break;var v=T(X[T("6cae19")]).split(".");if(l[0]>v[0]||l[0]===v[0]&&l[1]>=v[1]){for(l=i[T("76ad18b4f73e")],v=i[T("73a612b6fb191d")](T("35e7"))+2;v<l;v++)e+=i[v];if(0>(l=e[T("73a612b6fb191d")](T(n[2])))&&T(n[2])!==T("7da71ca0ad381e90")&&(l=e[T("73a612b6fb191d")](T("76a715b2ef3e149757"))),0>l&&(l=e[T("73a612b6fb191d")](T("76a715b2ef3e149757"))),0>l&&(l=i[T("73a612b6fb191d")](T("7baa19a6f76c1988428554"))),t.Ve=!(0<=l&&l<e[T("73a612b6fb191d")](T("35"))||-1===e[T("73a612b6fb191d")](T("35"))),!t.Ve)break;if("#"===(l=T(n[2]))[0]){v=B.document.createElement("div");for(var _=n[0].replace(/[A-Za-z]/g,"");4>_.length;)_+="9";if(_=_.substr(_.length-4),n="",n+=["gsh","gsf"][parseInt(_.substr(0,1),10)%2],n+=["Header","Background","Display","Feedback"][parseInt(_.substr(0,1),10)%4],v[T("79a417a0f0181a8946")]=n,B.document[T("78a712aa")]){if(B.document[T("78a712aa")][T("7bb806b6ed32388c4a875b")](v),_=B.getComputedStyle(v).getPropertyValue(T("78a704b7e62456904c9b12701b6532a8")),B.document[T("78a712aa")][T("68ad1bbcf533388c4a875b")](v),_){if(-1!==_.indexOf(parseInt(l[1]+l[2],16))&&-1!==_.indexOf(parseInt(l[3]+l[4],16))){t.Ve=!1;break}if(C||h||k||ft)for(n="."+n,l=0;l<document.styleSheets.length;l++)for(var D in v=document.styleSheets[l].rules||document.styleSheets[l].cssRules)if(n===v[D].selectorText){t.Ve=!1;break t}}}else t.Ve=null,t.Ve=!1}}}else{for(D=i[T("76ad18b4f73e")],r=i[T("73a612b6fb191d")](T("35e7"))+2;r<D;r++)e+=i[r];i=e[T("73a612b6fb191d")](T("7da71ca0ad381e90")),t.Ve=!(0<=i&&i<e[T("73a612b6fb191d")](T("35")))}}}return 0<t.Ve&&t!==t.jz}function ed(t,e){if(va){if(null!=e||U("Diagram setup requires an argument DIV."),null!==t.Da&&U("Diagram has already completed setup."),"string"==typeof e?t.Da=B.document.getElementById(e):e instanceof HTMLDivElement?t.Da=e:U("No DIV or DIV id supplied: "+e),null===t.Da&&U("Invalid DIV id; could not get element with id: "+e),void 0!==t.Da.B&&U("Invalid div id; div already has a Diagram associated with it."),!t.Zl&&B.ResizeObserver){var i=z(function(){t.Db()},250);t.Zl=new B.ResizeObserver(function(){i()}),t.Zl.observe(t.Da)}"static"===B.getComputedStyle(t.Da,null).position&&(t.Da.style.position="relative");var n="rgba(2"+(e=5)+"5, 255, 255, 0)";e--,t.Da.style["-webkit-tap-highlight-color"]=n,t.Da.style["-ms-touch-action"]="none",t.Da.innerHTML="",t.Da.B=t,t.Da.goDiagram=t,t.Da.go=B.go;var r=t.gq?new Zu(t):new tu(t);if(void 0!==r.style&&(r.style.position="absolute",r.style.top="0px",r.style.left="0px","rtl"===B.getComputedStyle(t.Da,null).getPropertyValue("direction")&&(t.Gl=!0),r.style.zIndex="2",r.style.userSelect="none",r.style.MozUserSelect="none"),t.ya=r,t.Gb=r.context,n=t.Gb,t.Tb=t.computePixelRatio(),t.viewSize.o()||(t.va=t.Da.clientWidth||1,t.ua=t.Da.clientHeight||1),gg(t,t.va,t.ua),t.Da.insertBefore(r.Ja,t.Da.firstChild),(r=new tu(null)).width=1,r.height=1,t.Ju=r,t.ux=r.context,va){r=q("div");var l=q("div");r.style.position="absolute",r.style.overflow="auto",r.style.width=t.va+"px",r.style.height=t.ua+"px",r.style.zIndex="1",l.style.position="absolute",l.style.width="1px",l.style.height="1px",t.Da.appendChild(r),r.appendChild(l),r.onscroll=Fd,r.addEventListener("mousedown",Ha),r.addEventListener("touchstart",Ha,{passive:!0}),r.B=t,r.hz=!0,r.iz=!0,t.Ys=r,t.Pp=l}t.Yq=z(function(){t.yh=null,t.M()},300),t.Ww=z(function(){el(t)},250),t.preventDefault=function(v){return v.preventDefault(),!1},t.Ik=function(v){if(t.isEnabled){t.Zf=!0;var _=Lh(t,v,!0);t.doMouseMove(),t.currentTool.isBeyondDragSize()&&(t.xd=0),Fl(_,v)}},t.Hk=function(v){if(t.isEnabled)if(t.Zf=!0,t.re)v.preventDefault();else{var _=Lh(t,v,!0);_.down=!0,_.clickCount=v.detail,(h||k)&&(v.timeStamp-t.Sj<t.qt&&!t.currentTool.isBeyondDragSize()?t.xd++:t.xd=1,t.Sj=v.timeStamp,_.clickCount=t.xd),_.clone(t.firstInput),t.doMouseDown(),1===v.button?v.preventDefault():Fl(_,v)}},t.Kk=function(v){if(t.isEnabled)if(t.re&&2===v.button)v.preventDefault();else if(t.re&&0===v.button&&(t.re=!1),t.hk)v.preventDefault();else{t.Zf=!0;var _=Lh(t,v,!0);_.up=!0,_.clickCount=v.detail,(h||k)&&(_.clickCount=t.xd),_.bubbles=v.bubbles,_.targetDiagram=Ga(v),t.doMouseUp(),t.Jf(),Fl(_,v)}},t.Lk=function(v){if(t.isEnabled){var _=Lh(t,v,!0);_.bubbles=!0;var D=0,O=0;_.delta=0,void 0!==v.deltaX?(0!==v.deltaX&&(D=0<v.deltaX?1:-1),0!==v.deltaY&&(O=0<v.deltaY?1:-1),_.delta=Math.abs(v.deltaX)>Math.abs(v.deltaY)?-D:-O):void 0!==v.wheelDeltaX?(0!==v.wheelDeltaX&&(D=0<v.wheelDeltaX?-1:1),0!==v.wheelDeltaY&&(O=0<v.wheelDeltaY?-1:1),_.delta=Math.abs(v.wheelDeltaX)>Math.abs(v.wheelDeltaY)?-D:-O):void 0!==v.wheelDelta&&0!==v.wheelDelta&&(_.delta=0<v.wheelDelta?1:-1),t.doMouseWheel(),Fl(_,v)}},t.Jk=function(v){t.isEnabled&&(t.Zf=!1,Lh(t,v,!0),(v=t.currentTool).cancelWaitAfter(),v.standardMouseOver())},t.Ow=function(v){if(t.isEnabled){t.hk=!1,t.re=!0;var _=Ya(t,v,v.targetTouches[0],1<v.touches.length),D=null;if(0<v.targetTouches.length?D=v.targetTouches[0]:0<v.changedTouches.length&&(D=v.changedTouches[0]),null!==D){var O=D.screenX;D=D.screenY;var V=t.Go;v.timeStamp-t.Sj<t.qt&&!(25<Math.abs(V.x-O)||25<Math.abs(V.y-D))?t.xd++:t.xd=1,_.clickCount=t.xd,t.Sj=v.timeStamp,t.Go.h(O,D)}t.doMouseDown(),Fl(_,v)}},t.Nw=function(v){if(t.isEnabled){var _=null;0<v.targetTouches.length?_=v.targetTouches[0]:0<v.changedTouches.length&&(_=v.changedTouches[0]),_=Bd(t,v,_,1<v.touches.length),t.doMouseMove(),Fl(_,v)}},t.Mw=function(v){if(t.isEnabled)if(t.hk)v.preventDefault();else if(!(1<v.touches.length)){var _=null,D=null;0<v.targetTouches.length?D=v.targetTouches[0]:0<v.changedTouches.length&&(D=v.changedTouches[0]);var O=Nh(t,v,!1,!0,!1,!1);null!==D&&(null!==(_=B.document.elementFromPoint(D.clientX,D.clientY))&&void 0!==_.shadowRoot&&null!==_&&null!==_.shadowRoot&&(_=_.shadowRoot.elementFromPoint(D.clientX,D.clientY)),null!==_&&_.B instanceof di&&_.B!==t&&Ku(_.B,D,O),Ku(t,D,O),O.clickCount=t.xd),O.targetDiagram=null===_?Ga(v):_.B?_.B:null,O.targetObject=null,t.doMouseUp(),Fl(O,v),t.re=!1}},t.Ok=function(v){if(t.isEnabled){t.Zf=!0;var _=t.Ls;void 0===_[v.pointerId]&&(_[v.pointerId]=v);var D=!1;if(null!==(_=t.bk)[0]&&_[0].pointerId===v.pointerId)_[0]=v;else if(null!==_[1]&&_[1].pointerId===v.pointerId)_[1]=v,D=!0;else if(null===_[0])_[0]=v;else{if(null!==_[1])return void v.preventDefault();_[1]=v,D=!0}("touch"===v.pointerType||"pen"===v.pointerType)&&(t.hk=!1,t.re=!0),_=Ya(t,v,v,D),D=t.Go;var O="touch"===v.pointerType||"pen"===v.pointerType?25:10;v.timeStamp-t.Sj<t.qt&&!(Math.abs(D.x-v.screenX)>O||Math.abs(D.y-v.screenY)>O)?t.xd++:t.xd=1,_.clickCount=t.xd,t.Sj=v.timeStamp,t.Go.Ig(v.screenX,v.screenY),t.doMouseDown(),1===v.button?v.preventDefault():Fl(_,v)}},t.Pk=function(v){if(t.isEnabled){t.Zf=!0;var _=t.bk;if(null!==_[0]&&_[0].pointerId===v.pointerId)_[0]=v;else{if(null!==_[1]&&_[1].pointerId===v.pointerId)return void(_[1]=v);if(null!==_[0])return;_[0]=v}_[0].pointerId===v.pointerId&&((_=Bd(t,v,v,null!==_[1])).targetDiagram=Ga(v),t.doMouseMove(),Fl(_,v))}},t.Rk=function(v){if(t.isEnabled){t.Zf=!0;var _="touch"===v.pointerType||"pen"===v.pointerType,D=t.Ls;if(_&&t.hk)delete D[v.pointerId],v.preventDefault();else if(null!==(D=t.bk)[0]&&D[0].pointerId===v.pointerId){D[0]=null,D=Nh(t,v,!1,!0,!0,!1);var O=B.document.elementFromPoint(v.clientX,v.clientY);null!==O&&O.B instanceof di&&O.B!==t&&Ku(O.B,v,D),Ku(t,v,D),D.clickCount=t.xd,D.targetDiagram=null===O?Ga(v):O.B?O.B:null,D.targetObject=null,t.doMouseUp(),Fl(D,v),_&&(t.re=!1)}else null!==D[1]&&D[1].pointerId===v.pointerId&&(D[1]=null)}},t.Qk=function(v){if(t.isEnabled){t.Zf=!1;var _=t.Ls;_[v.pointerId]&&delete _[v.pointerId],null!==(_=t.bk)[0]&&_[0].pointerId===v.pointerId&&(_[0]=null),null!==_[1]&&_[1].pointerId===v.pointerId&&(_[1]=null),"touch"!==v.pointerType&&"pen"!==v.pointerType&&((v=t.currentTool).cancelWaitAfter(),v.standardMouseOver())}},t.Tr=n.Y["d"+Y0[1]+Y0[2]+"wI"+wf.slice(1,5)]["b"+lx.slice(1,e)](n.Y,Vp,e,e),n.uc(!0),function(t){var e=t.ya.Ja;e instanceof HTMLCanvasElement&&(t.zj?(t.addEventListener(e,"pointerdown",t.Ok,!1),t.addEventListener(e,"pointermove",t.Pk,!1),t.addEventListener(e,"pointerup",t.Rk,!1),t.addEventListener(e,"pointerout",t.Qk,!1)):(t.addEventListener(e,"touchstart",t.Ow,!1),t.addEventListener(e,"touchmove",t.Nw,!1),t.addEventListener(e,"touchend",t.Mw,!1),t.addEventListener(e,"mousemove",t.Ik,!1),t.addEventListener(e,"mousedown",t.Hk,!1),t.addEventListener(e,"mouseup",t.Kk,!1),t.addEventListener(e,"mouseout",t.Jk,!1)),t.addEventListener(e,"mouseenter",t.Oz,!1),t.addEventListener(e,"mouseleave",t.Pz,!1),t.addEventListener(e,"wheel",t.Lk,!1),t.addEventListener(e,"keydown",t.BA,!1),t.addEventListener(e,"keyup",t.CA,!1),t.addEventListener(e,"blur",t.Az,!1),t.addEventListener(e,"focus",t.Bz,!1),t.addEventListener(e,"selectstart",function(i){return i.preventDefault(),!1},!1),t.addEventListener(e,"contextmenu",function(i){return i.preventDefault(),!1},!1),t.addEventListener(e,"gesturestart",function(i){t.toolManager.gestureBehavior!==no&&(t.toolManager.gestureBehavior===Yn?i.preventDefault():t.re&&t.lastInput.handled||(i.preventDefault(),t.Vl=t.scale,t.currentTool.doCancel()))},!1),t.addEventListener(e,"gesturechange",function(i){if(t.toolManager.gestureBehavior!==no)if(t.toolManager.gestureBehavior===Yn)i.preventDefault();else if(!t.re||!t.lastInput.handled){i.preventDefault();var n=i.scale;if(null!==t.Vl){var r=t.ya.getBoundingClientRect();if(i=new ht(i.pageX-B.scrollX-t.va/r.width*r.left,i.pageY-B.scrollY-t.ua/r.height*r.top),r=t.commandHandler,(n*=t.Vl)!==t.scale&&r.canResetZoom(n)){var l=t.zoomPoint;t.zoomPoint=i,r.resetZoom(n),t.zoomPoint=l}}}},!1),t.addEventListener(B,"resize",t.Ww,!1))}(t)}}function uc(t){this.l=void 0===t?new ht:t,this.u=new ht}di.className="Diagram",di.fromDiv=function(t){var e=t;return"string"==typeof t&&(e=B.document.getElementById(t)),e instanceof HTMLDivElement&&e.B instanceof di?e.B:null},di.inherit=function(t,e){function i(){}if(Object.getPrototypeOf(t).prototype)throw Error("Used go.Diagram.inherit defining already defined class \n"+t);i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t},di.None=Ta,di.Uniform=zh,di.UniformToFill=td,di.CycleAll=Zd,di.CycleNotDirected=U0,di.CycleNotDirectedFast=H0,di.CycleNotUndirected=la,di.CycleDestinationTree=Ws,di.CycleSourceTree=vg,di.DocumentScroll=lc,di.InfiniteScroll=Tm,di.TreeParentCollapsed=gs,di.AllParentsCollapsed=Xu,di.AnyParentsCollapsed=xf,jp.className="DiagramHelper",H.Object.defineProperties(uc.prototype,{point:{get:function(){return this.l},set:function(t){this.l=t}},shifted:{get:function(){return this.u},set:function(t){this.u=t}}});var No,ho,wl,Ks,Yo,ua,Hp,Uh,fc,Lc,Y0="DraggingInfo";function W0(t,e,i){this.node=t,this.info=e,this.$v=i}function id(){this.reset()}function _f(t){1<arguments.length&&U("Palette constructor can only take one optional argument, the DIV HTML element or its id."),di.call(this,t),Up(this)}function Up(t){t.allowDragOut=!0,t.allowMove=!1,t.isReadOnly=!0,t.contentAlignment=so,t.layout=new fr}function Ma(t){1<arguments.length&&U("Overview constructor can only take one optional argument, the DIV HTML element or its id."),di.call(this,t);var e=this;this.animationManager.isEnabled=!1,this.Sb=!0,this.Ka=null,this.wl=this.vl=!1,this.I=this.T=!0,this.eb=0,this.u=!1,this.fm=null,this.Ty("drawShadows",!1);var i=new qt,n=new sr;n.stroke="magenta",n.strokeWidth=2,n.fill="transparent",n.name="BOXSHAPE",i.selectable=!0,i.selectionAdorned=!1,i.selectionObjectName="BOXSHAPE",i.locationObjectName="BOXSHAPE",i.resizeObjectName="BOXSHAPE",i.cursor="move",i.add(n),this.l=i,this.allowDelete=this.allowCopy=!1,this.allowSelect=!0,this.autoScrollRegion=new Je(0,0,0,0),this.la.h(0,0),this.toolManager.Ya("Dragging",new bf,this.toolManager.mouseMoveTools),this.click=function(){var r=e.observed;if(null!==r){var l=r.viewportBounds,v=e.lastInput.documentPoint;r.position=new ht(v.x-l.width/2,v.y-l.height/2)}},this.Xh=function(){e.Na(),hc(e)},this.Wh=function(){null!==e.observed&&(e.Na(),e.M())},this.Sc=function(){1>e.updateDelay?e.M():e.u||(e.u=!0,setTimeout(function(){return e.redraw()},e.updateDelay))},this.Od=function(){null!==e.observed&&hc(e)},this.autoScale=zh,this.Sb=!1}function Ia(t){var e=t.observed;if(null!==e){var i=t.drawsTemporaryLayers,n=t.drawsGrid&&i,r=e.grid;n&&null!==r&&r.visible&&!isNaN(r.width)&&!isNaN(r.height)&&(oc(e,r=he.alloc().assign(t.viewportBounds).Rc(e.viewportBounds)),he.free(r),Ys(e));var l=t.sb;l.reset(),1!==t.scale&&l.scale(t.scale),0===t.position.x&&0===t.position.y||l.translate(-t.position.x,-t.position.y),(r=t.Gb).scale(t.Tb,t.Tb),r.transform(l.m11,l.m12,l.m21,l.m22,l.dx,l.dy),l=(e=e.Ma.j).length;for(var v=0;v<l;v++){var _=e[v],D=t;if(_.visible&&0!==_.opacity){var O=_.diagram.grid.part;if(!i&&_.isTemporary)n&&O.layer===_&&(_=Nd(_,r),O.mc(r,D),r.globalAlpha=_);else{for(var V=Nd(_,r),$=D.scale,vt=he.alloc(),kt=_.Fa.j,bt=kt.length,Wt=0;Wt<bt;Wt++){var de=kt[Wt];(n||de!==O)&&_.dj(r,de,D,null,$,vt,!1)}he.free(vt),r.globalAlpha=V}}}}}function hc(t){var e=t.box;if(null!==e){var i=t.observed;if(null!==i){t.Dc=!0,i=i.viewportBounds;var n=e.selectionObject,r=De.alloc();r.h(i.width,i.height),n.desiredSize=r,De.free(r),t=2/t.scale,n instanceof sr&&(n.strokeWidth=t),e.location=new ht(i.x-t/2,i.y-t/2),e.isSelected=!0}}}function bf(){Jr.call(this),this.l=null}function Zr(){Se(this),this.B=$d,this.eb=this.I=this.u=!0,this.T=this.Ka=this.Sc=this.La=!1,this.Ki=this.l=null,this.Od=1.05,this.bv=NaN,this.yx=null,this.Bv=NaN,this.Av=Jn,this.Cc=!0,this.rg=null,this.Tc=200}function Mf(t,e,i){if(e.isVisible())return i;if(e instanceof Ji)Mf(t,e.adornedPart,i);else if(e instanceof Bi){var n=e.fromNode;null!==n&&Mf(t,n,i),null!==(e=e.toNode)&&Mf(t,e,i)}else e instanceof Si&&(null!==(n=e.labeledLink)&&Mf(t,n,i),null!==(n=e.Fg())&&(n.isTreeExpanded||n.wasTreeExpanded||i.push(n),Mf(t,n,i))),null!==(e=e.containingGroup)&&(e.isSubGraphExpanded||e.wasSubGraphExpanded||i.push(e),Mf(t,e,i));return i}function cc(t){var e=o();for(t=t.iterator;t.next();){var i=t.value;i instanceof Bi||e.push(i)}t=new Pt,i=e.length;for(var n=0;n<i;n++){for(var r=e[n],l=!0,v=0;v<i;v++)if(r.Kd(e[v])){l=!1;break}l&&t.add(r)}return c(e),t}function jn(){Se(this),this.F=4225027,this.hb=1,this.og=null,this.oa="",this.ec=this.mb=null,this.la=new ht(NaN,NaN).freeze(),this.Xc=xe,this.fg=qe,this.eg=Ut,this.sb=new or,this.Zh=new or,this.cg=new or,this.Aa=this.ql=1,this.Yb=0,this.De=Ks,this.jh=nr,this.qc=new he(NaN,NaN,NaN,NaN).freeze(),this.xb=new he(NaN,NaN,NaN,NaN).freeze(),this.rc=new he(0,0,NaN,NaN).freeze(),this.O=this.xp=this.yp=null,this.$k=this.yb=us,this.Jp=0,this.Kp=1,this.Rg=0,this.zn=1,this.aq=null,this.Qp=-1/0,this.am=0,this.bm=je,this.cm=Fs,this.oi="",this.fb=this.N=null,this.dl=-1,this.em=this.Za=this.ni=this.im=null,this.Os=ho,this.Mp=this.Mg=this.ak=null}function Ca(t){null===t.N&&(t.N=new Kp)}function xu(t,e,i){var n=t.ij();if(null!==n)for(var r=t.fb.iterator;r.next();){var l=r.value,v=null;if(null!==l.sourceName){if(null===(v=o1(l,n,t)))continue;l.jr(t,v,i,null)}else if(l.isToModel){var _=e.diagram;null===_||_.skipsModelSourceBindings||l.jr(t,_.model.modelData,i,n)}else{if(null===(_=n.data))continue;var D=e.diagram;null===D||D.skipsModelSourceBindings||l.jr(t,_,i,n)}v===t&&null!==(_=n.Gt(l.wj))&&l.Tw(_,v,i)}}function nl(t,e,i,n,r){var l=t.qc,v=t.cg;v.reset(),qd(t,v,e,i,n,r),t.cg=v,l.h(e,i,n,r),v.Tt()||v.Pw(l)}function Gp(t,e,i,n){return!1!==t.pickable&&(n.multiply(t.transform),i?t.Mc(e,n):t.Jh(e,n))}function K0(t,e,i,n,r){if(t.xb.h(e,i,n,r),!t.desiredSize.o()){var l=t.qc,v=(i=t.jh).top+i.bottom;switch(i=l.width+(e=i.right+i.left),l=l.height+v,n+=e,r+=v,e=Nu(t,!0),i===n&&l===r&&(e=ho),e){case ho:(i>n||l>r)&&(rl(t,!0),t.measure(i>n?n:i,l>r?r:l,0,0));break;case No:rl(t,!0),t.measure(n,r,0,0);break;case Yo:rl(t,!0),t.measure(n,l,0,0);break;case ua:rl(t,!0),t.measure(i,r,0,0)}}}function Sa(t,e,i){var n=t.xb,r=t.rc;null!==t.ec&&(Wa(t,e,t.ec,!0,!0,r,n),t.ec instanceof Fr&&t.ec.type===Os?(e.beginPath(),e.rect(n.x,n.y,n.width,n.height),e.Je(t.ec)):e.fillRect(n.x,n.y,n.width,n.height)),null!==t.mb&&(Wa(t,e,t.mb,!0,!1,r,n),t.mb instanceof Fr&&t.mb.type===Os?(e.beginPath(),e.rect(n.x,n.y,n.width,n.height),e.Je(t.mb)):e.fillRect(n.x,n.y,n.width,n.height)),t.ej(e,i)}function Wa(t,e,i,n,r,l,v){if(null!==i){var _=1,D=1;if("string"==typeof i)n?e.fillStyle=i:e.strokeStyle=i;else if(i.type===Ea)n?e.fillStyle=i.color:e.strokeStyle=i.color;else{var O=0;if(t instanceof sr&&(O=t.strokeWidth),_=l.width,D=l.height,r?(_=v.width,D=v.height):n||(_+=O,D+=O),(l=e instanceof Nc)&&i.ke&&(i.type===al||i.gl===_&&i.Au===D))var V=i.ke;else{var $=0,vt=0,kt=0,bt=0,Wt=0,de=0;if(de=Wt=0,r?(Wt=v.x,de=v.y):n||(Wt-=O/2,de-=O/2),$=i.start.x*_+i.start.offsetX,vt=i.start.y*D+i.start.offsetY,kt=i.end.x*_+i.end.offsetX,bt=i.end.y*D+i.end.offsetY,$+=Wt,kt+=Wt,vt+=de,bt+=de,i.type===sl)V=e.createLinearGradient($,vt,kt,bt);else if(i.type===Os)de=isNaN(i.endRadius)?Math.max(_,D)/2:i.endRadius,isNaN(i.startRadius)?(Wt=0,de=Math.max(_,D)/2):Wt=i.startRadius,V=e.createRadialGradient($,vt,Wt,kt,bt,de);else if(i.type===al)try{V=e.createPattern(i.pattern,"repeat")}catch(we){V=null}if(i.type!==al&&null!==(r=i.colorStops))for(r=r.iterator;r.next();)V.addColorStop(r.key,r.value);if(l&&(i.ke=V,null!==V&&(i.gl=_,i.Au=D),null===V&&i.type===al&&-1!==i.gl)){i.gl=-1;var le=t.diagram;null!==le&&-1===i.gl&&Y(function(){le.redraw()},600)}}n?e.fillStyle=V:e.strokeStyle=V}}}function $0(t){if(0!=(2048&t.F)){var e=t.sb;if(e.reset(),!t.xb.o()||!t.qc.o())return void Qd(t,!1);if(e.translate(t.xb.x-t.qc.x,t.xb.y-t.qc.y),1!==t.scale||0!==t.angle){var i=t.naturalBounds;qd(t,e,i.x,i.y,i.width,i.height)}Qd(t,!1),_l(t,!0)}0!=(4096&t.F)&&(null===(e=t.panel)?(t.Zh.set(t.sb),t.ql=t.scale,_l(t,!1)):null!==e.Fd&&((i=t.Zh).reset(),e.he()?i.multiply(e.Zh):null!==e.panel&&i.multiply(e.panel.Zh),i.multiply(t.sb),t.ql=t.scale*e.ql,_l(t,!1)))}function qd(t,e,i,n,r,l){if(1!==t.scale&&e.scale(t.scale),0!==t.Yb){var v=ar;t.Ff()&&t.locationSpot.kb()&&(v=t.locationSpot);var _=ht.alloc();if(t instanceof qt&&t.locationObject!==t)for(_.Uk((n=(i=t.locationObject).naturalBounds).x,n.y,n.width,n.height,v),i.cg.ta(_),_.offset(-i.measuredBounds.x,-i.measuredBounds.y),v=i.panel;null!==v&&v!==t;)v.cg.ta(_),_.offset(-v.measuredBounds.x,-v.measuredBounds.y),v=v.panel;else _.Uk(i,n,r,l,v);e.rotate(t.Yb,_.x,_.y),ht.free(_)}}function dc(t){if(!Vl(t)){var e=t.panel;null!==e?e.s():t.Ff()&&null!==(e=t.diagram)&&(e.wd.add(t),t instanceof Si&&t.sd(),e.Db()),Hh(t,!0)}}function Nu(t,e){var i=t.stretch,n=t.panel;return null!==n&&n.type===Xi.Table?Cf(t,n.getRowDefinition(t.row),n.getColumnDefinition(t.column),e):null!==n&&n.type===Xi.Auto&&n.tb()===t?xh(t,No,e):i===Ks?null!==n?n.type===Xi.Spot&&n.tb()===t?xh(t,No,e):xh(t,(i=n.defaultStretch)===Ks?ho:i,e):xh(t,ho,e):xh(t,i,e)}function Cf(t,e,i,n){var r=t.stretch;if(r!==Ks)return xh(t,r,n);var l=r=null;switch(e.stretch){case ua:case No:l=!0}switch(i.stretch){case Yo:case No:r=!0}return e=t.panel.defaultStretch,null===r&&(r=e===Yo||e===No),null===l&&(l=e===ua||e===No),xh(t,!0===r&&!0===l?No:!0===r?Yo:!0===l?ua:ho,n)}function xh(t,e,i){if(i)return e;if(e===ho||(i=t.desiredSize).o())return ho;if(t=t.angle,!isNaN(i.width))if(90!==t&&270!==t){if(e===Yo)return ho;if(e===No)return ua}else{if(e===ua)return ho;if(e===No)return Yo}if(!isNaN(i.height))if(90!==t&&270!==t){if(e===ua)return ho;if(e===No)return Yo}else{if(e===Yo)return ho;if(e===No)return ua}return e}function Om(t,e){t.F=e?512|t.F:-513&t.F}function Jd(t){return 0!=(1024&t.F)}function uv(t,e){t.F=e?1024|t.F:-1025&t.F}function Qd(t,e){t.F=e?2048|t.F:-2049&t.F}function _l(t,e){t.F=e?4096|t.F:-4097&t.F}function Ps(t){return 0!=(8192&t.F)}function rl(t,e){t.F=e?8192|t.F:-8193&t.F}function Vl(t){return 0!=(16384&t.F)}function Hh(t,e){t.F=e?16384|t.F:-16385&t.F}function Js(t){var e=t.part;if(e instanceof Si&&(null!==t.portId||t===e.port)){var i=e.diagram;null===i||i.undoManager.isUndoingRedoing||pn(e,t)}}function nd(t){var e=t.diagram;null===e||e.undoManager.isUndoingRedoing||(t instanceof Xi?t instanceof Si?t.sd():t.an(t,function(i){Js(i)}):Js(t))}function Pa(t,e){for(var i=1;i<arguments.length;++i);i=arguments;var n=null,r=null;if("function"==typeof t)r=t;else if("string"==typeof t){var l=Wp.G(t);"function"==typeof l?xt(n=l(i=Tt(arguments)))||U('GraphObject.make invoked object builder "'+t+'", but it did not return an Object'):r=B.go[t]}if(null===n&&(null!=r&&r.constructor||U("GraphObject.make requires a class function or GoJS class name or name of an object builder, not: "+t),n=new r),r=1,n instanceof di&&1<i.length){l=n;var v=i[1];("string"==typeof v||v instanceof HTMLDivElement)&&(ed(l,v),r++)}for(;r<i.length;r++)void 0===(l=i[r])?U("Undefined value at argument "+r+" for object being constructed by GraphObject.make: "+n):yg(n,l);return n}function yg(t,e){if("string"==typeof e)if(t instanceof Br)t.text=e;else if(t instanceof sr)t.figure=e;else if(t instanceof Fa)t.source=e;else if(t instanceof Xi)null!==(e=_u.G(e))&&(t.type=e);else if(t instanceof Fr){var i=Xt(Fr,e);null!==i?t.type=i:U("Unknown Brush type as an argument to GraphObject.make: "+e)}else t instanceof hr?null!==(e=Xt(hr,e))&&(t.type=e):t instanceof nn&&null!==(e=Xt(nn,e))&&(t.type=e);else if(e instanceof jn)t instanceof Xi||U("A GraphObject can only be added to a Panel, not to: "+t),t.add(e);else if(e instanceof rs){var n;e.isRow&&"function"==typeof t.getRowDefinition?n=t.getRowDefinition(e.index):e.isRow||"function"!=typeof t.getColumnDefinition||(n=t.getColumnDefinition(e.index)),n instanceof rs?n.gy(e):U("A RowColumnDefinition can only be added to an object that implements getRowDefinition/getColumnDefinition, not to: "+t)}else if(e instanceof St)"function"==typeof t.jb&&t.jb(e);else if(e instanceof Is)t.type=e;else if(e instanceof Ms)t instanceof jn||t instanceof rs?t.bind(e):U("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+t);else if(e instanceof yl)t instanceof jn?t.Qw(e):U("An AnimationTrigger can only be applied to a GraphObject, not to: "+t);else if(e instanceof an)t instanceof hr?t.figures.add(e):U("A PathFigure can only be added to a Geometry, not to: "+t);else if(e instanceof nn)t instanceof an?t.segments.add(e):U("A PathSegment can only be added to a PathFigure, not to: "+t);else if(e instanceof Rr)t instanceof di||t instanceof Qi?t.layout=e:U("A Layout can only be assigned to a Diagram or a Group, not to: "+t);else if(Array.isArray(e))for(i=0;i<e.length;i++)yg(t,e[i]);else if("object"==typeof e&&null!==e)if(t instanceof Fr){for(var r in i=new Vt,e)n=parseFloat(r),isNaN(n)?i[r]=e[r]:t.addColorStop(n,e[r]);Oc(t,i)}else if(t instanceof rs){for(i in void 0!==e.row?((null==(r=e.row)||r===1/0||isNaN(r)||0>r)&&U("Must specify non-negative integer row for RowColumnDefinition "+e+", not: "+r),t.isRow=!0,t.index=r):void 0!==e.column&&((null==(r=e.column)||r===1/0||isNaN(r)||0>r)&&U("Must specify non-negative integer column for RowColumnDefinition "+e+", not: "+r),t.isRow=!1,t.index=r),r=new Vt,e)"row"!==i&&"column"!==i&&(r[i]=e[i]);Oc(t,r)}else Oc(t,e);else U('Unknown initializer "'+e+'" for object being constructed by GraphObject.make: '+t)}function pc(t,e){Wp.add(t,e)}function Yp(t,e,i){void 0===i&&(i=null);var n=t[1];if("function"==typeof i?i(n):"string"==typeof n)return t.splice(1,1),n;if(void 0===e)throw Error("no "+("function"==typeof i?"satisfactory":"string")+" argument for GraphObject builder "+t[0]);return e}uc.className="DraggingInfo",W0.className="DraggingNodeInfoPair",id.prototype.reset=function(){this.isGridSnapEnabled=!1,this.isGridSnapRealtime=!0,this.gridSnapCellSize=new De(NaN,NaN).freeze(),this.gridSnapCellSpot=Hr,this.gridSnapOrigin=new ht(NaN,NaN).freeze(),this.groupsSnapMembers=this.dragsTree=this.dragsLink=!1,this.dragsMembers=this.groupsAlwaysMove=!0},id.className="DraggingOptions",Z(_f,di),_f.prototype.reset=function(){di.prototype.reset.call(this),Up(this)},_f.className="Palette",Z(Ma,di),Ma.prototype.computePixelRatio=function(){return 1},Ma.prototype.redraw=function(){if(this.u&&1<=this.updateDelay){this.u=!1;var t=this.ya,e=this.Gb;if(null!==t&&null!==e){if(zd(this),null===this.fm){var i=new tu(null);i.width=t.width,i.height=t.height,this.fm=i}try{this.ya=this.fm,this.Gb=this.ya.context,this.Gb.uc(!0),this.Gb.setTransform(1,0,0,1,0,0),this.Gb.clearRect(0,0,this.ya.width,this.ya.height),Ia(this)}finally{this.ya=t,this.Gb=e}}}di.prototype.redraw.call(this)},Ma.prototype.mc=function(){if(null===this.Da&&U("No div specified"),null===this.ya&&U("No canvas specified"),!(this.ya instanceof Zu)&&(ge(this.box),this.Dc)){var t=this.observed;if(null!==t&&!t.animationManager.defaultAnimation.isAnimating&&t.pj){zd(this);var e=this.ya;(t=this.Gb).uc(!0),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),1>this.updateDelay?Ia(this):null!==this.fm&&(t.drawImage(this.fm.Ja,0,0),(e=this.sb).reset(),1!==this.scale&&e.scale(this.scale),0===this.position.x&&0===this.position.y||e.translate(-this.position.x,-this.position.y),t.scale(this.Tb,this.Tb),t.transform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy));for(var i=(e=this.Ma.j).length,n=0;n<i;n++)e[n].mc(t,this);this.Dc=this.xi=!1}}},Ma.prototype.computeBounds=function(){var t=this.observed;if(null===t)return Jn;var e=t.documentBounds.copy();return e.Rc(t.viewportBounds),e},Ma.prototype.invalidateViewport=function(){!0!==this.Dc&&(this.Dc=!0,this.Db())},Ma.prototype.onViewportBoundsChanged=function(t,e,i,n){this.Sb||(yu(this),this.M(),Fh(this),this.Na(),hc(this),this.Ic.scale=i,this.Ic.position.x=t.x,this.Ic.position.y=t.y,this.Ic.bounds.assign(t),this.Ic.hw=n,this.R("ViewportBoundsChanged",this.Ic,t))},H.Object.defineProperties(Ma.prototype,{observed:{get:function(){return this.Ka},set:function(t){var e=this.Ka;if(t instanceof Ma&&U("Overview.observed Diagram may not be an Overview itself: "+t),e!==t){if(null!==e&&(this.remove(this.box),e.Lm("ViewportBoundsChanged",this.Xh),e.Lm("DocumentBoundsChanged",this.Wh),e.Lm("InvalidateDraw",this.Sc),e.Lm("AnimationFinished",this.Od)),this.Ka=t,null!==t&&(t.kk("ViewportBoundsChanged",this.Xh),t.kk("DocumentBoundsChanged",this.Wh),t.kk("InvalidateDraw",this.Sc),t.kk("AnimationFinished",this.Od),this.add(this.box)),this.Na(),null===t){this.fm=null;var i=this.ya,n=this.Gb;i&&n&&(n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,i.width,i.height))}else this.Sc(null),hc(this),this.M();this.g("observed",e,t)}}},box:{get:function(){return this.l},set:function(t){var e=this.l;e!==t&&(this.l=t,this.remove(e),this.add(this.l),hc(this),this.g("box",e,t))}},drawsTemporaryLayers:{get:function(){return this.T},set:function(t){this.T!==t&&(this.T=t,this.redraw())}},drawsGrid:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t,this.redraw())}},updateDelay:{get:function(){return this.eb},set:function(t){0>t&&(t=0),this.eb!==t&&(this.eb=t)}}}),Ma.className="Overview",Z(bf,Jr),bf.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(null===t||!t.allowMove||!t.allowSelect)return!1;var e=t.observed;if(null===e)return!1;var i=t.lastInput;return!(!i.left||t.currentTool!==this&&(!this.isBeyondDragSize()||i.isTouchEvent&&i.timestamp-t.firstInput.timestamp<this.delay)||(null===this.findDraggablePart()&&(this.l=new ht((i=e.viewportBounds).width/2,i.height/2),e.position=new ht((t=t.firstInput.documentPoint).x-this.l.x,t.y-this.l.y)),0))},bf.prototype.doActivate=function(){this.l=null,Jr.prototype.doActivate.call(this)},bf.prototype.doUpdateCursor=function(){var t=this.diagram,e=t.box;null!==e&&e.cursor&&(t.currentCursor=e.cursor)},bf.prototype.moveParts=function(){var t=this.diagram,e=t.observed;if(null!==e){var i=t.box;if(null!==i){if(null===this.l){var n=t.firstInput.documentPoint;this.l=new ht(n.x-(i=i.location).x,n.y-i.y)}e.position=new ht((t=t.lastInput.documentPoint).x-this.l.x,t.y-this.l.y)}}},bf.className="OverviewDraggingTool",Zr.prototype.toString=function(){return"CommandHandler"},Zr.prototype.ee=function(t){this.B=t},Zr.prototype.doKeyDown=function(){var t=this.diagram,e=t.lastInput,i=at?e.meta:e.control,n=e.shift,r=e.alt,l=e.key;!i||"C"!==l&&"Insert"!==l?i&&"X"===l||n&&"Del"===l?this.canCutSelection()&&this.cutSelection():i&&"V"===l||n&&"Insert"===l?this.canPasteSelection()&&this.pasteSelection():i&&"Y"===l||r&&n&&"Backspace"===l?this.canRedo()&&this.redo():i&&"Z"===l||r&&"Backspace"===l?this.canUndo()&&this.undo():"Del"===l||"Backspace"===l?this.canDeleteSelection()&&this.deleteSelection():i&&"A"===l?this.canSelectAll()&&this.selectAll():"Esc"===l?this.canStopCommand()&&this.stopCommand():"Up"===l?t.allowVerticalScroll&&t.scroll(i?"pixel":"line","up"):"Down"===l?t.allowVerticalScroll&&t.scroll(i?"pixel":"line","down"):"Left"===l?t.allowHorizontalScroll&&t.scroll(i?"pixel":"line","left"):"Right"===l?t.allowHorizontalScroll&&t.scroll(i?"pixel":"line","right"):"PageUp"===l?n&&t.allowHorizontalScroll?t.scroll("page","left"):t.allowVerticalScroll&&t.scroll("page","up"):"PageDown"===l?n&&t.allowHorizontalScroll?t.scroll("page","right"):t.allowVerticalScroll&&t.scroll("page","down"):"Home"===l?i&&t.allowVerticalScroll?t.scroll("document","up"):!i&&t.allowHorizontalScroll&&t.scroll("document","left"):"End"===l?i&&t.allowVerticalScroll?t.scroll("document","down"):!i&&t.allowHorizontalScroll&&t.scroll("document","right"):" "===l?this.canScrollToPart()&&this.scrollToPart():"Subtract"===l?this.canDecreaseZoom()&&this.decreaseZoom():"Add"===l?this.canIncreaseZoom()&&this.increaseZoom():i&&"0"===l?this.canResetZoom()&&this.resetZoom():n&&"Z"===l?this.canZoomToFit()&&this.zoomToFit():i&&!n&&"G"===l?this.canGroupSelection()&&this.groupSelection():i&&n&&"G"===l?this.canUngroupSelection()&&this.ungroupSelection():"F2"===l||e.event&&"F2"===e.event.key?this.canEditTextBlock()&&this.editTextBlock():"ContextMenu"===l||e.event&&"ContextMenu"===e.event.key?this.canShowContextMenu()&&this.showContextMenu():e.bubbles=!0:this.canCopySelection()&&this.copySelection()},Zr.prototype.doKeyUp=function(){this.diagram.lastInput.bubbles=!0},Zr.prototype.stopCommand=function(){var t=this.diagram,e=t.currentTool;e instanceof jr&&t.allowSelect&&t.clearSelection(),null!==e&&e.doCancel()},Zr.prototype.canStopCommand=function(){return!0},Zr.prototype.selectAll=function(){var t=this.diagram;t.M();try{t.currentCursor="wait",t.R("ChangingSelection",t.selection);for(var e=t.parts;e.next();)e.value.isSelected=!0;for(var i=t.nodes;i.next();)i.value.isSelected=!0;for(var n=t.links;n.next();)n.value.isSelected=!0}finally{t.R("ChangedSelection",t.selection),t.currentCursor=""}},Zr.prototype.canSelectAll=function(){return this.diagram.allowSelect},Zr.prototype.deleteSelection=function(){var t=this.diagram;try{t.currentCursor="wait",t.R("ChangingSelection",t.selection),t.xa("Delete"),t.R("SelectionDeleting",t.selection);for(var e=new Pt,i=t.selection.iterator;i.next();)Nn(e,i.value,!0,this.deletesTree?1/0:0,!!this.deletesConnectedLinks&&null,function(n){return n.canDelete()});t.gu(e,!0),t.R("SelectionDeleted",e)}finally{t.Xa("Delete"),t.R("ChangedSelection",t.selection),t.currentCursor=""}},Zr.prototype.canDeleteSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowDelete||0===t.selection.count)},Zr.prototype.copySelection=function(){var t=this.diagram,e=new Pt;for(t=t.selection.iterator;t.next();)Nn(e,t.value,!0,this.copiesTree?1/0:0,this.copiesConnectedLinks,function(i){return i.canCopy()});this.copyToClipboard(e)},Zr.prototype.canCopySelection=function(){var t=this.diagram;return!(!t.allowCopy||!t.allowClipboard||0===t.selection.count)},Zr.prototype.cutSelection=function(){this.copySelection(),this.deleteSelection()},Zr.prototype.canCutSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowCopy||!t.allowDelete||!t.allowClipboard||0===t.selection.count)},Zr.prototype.copyToClipboard=function(t){var e=this.diagram,i=null;if(null===t)jh=null,il="";else{i=e.model;var n=!1,r=!1,l=null;try{i.Em()&&(n=i.sk,i.sk=this.copiesParentKey),i.Ck()&&(r=i.rk,i.rk=this.copiesGroupKey),l=e.tk(t,null,!0)}finally{i.Em()&&(i.sk=n),i.Ck()&&(i.rk=r),(i=new zt).addAll(l),jh=i,il=e.model.dataFormat}}e.R("ClipboardChanged",i)},Zr.prototype.pasteFromClipboard=function(){var t=new Pt,e=jh;if(null===e)return t;var i=this.diagram;if(il!==i.model.dataFormat)return t;var n=i.model,r=!1,l=!1,v=null;try{n.Em()&&(r=n.sk,n.sk=this.copiesParentKey),n.Ck()&&(l=n.rk,n.rk=this.copiesGroupKey),v=i.tk(e,i,!1)}finally{for(n.Em()&&(n.sk=r),n.Ck()&&(n.rk=l),e=v.iterator;e.next();)n=e.key,(i=e.value).location.o()||(n.location.o()?i.location=n.location:!i.position.o()&&n.position.o()&&(i.position=n.position)),t.add(i)}return t},Zr.prototype.pasteSelection=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.currentCursor="wait",e.R("ChangingSelection",e.selection),e.xa("Paste");var i=this.pasteFromClipboard();0<i.count&&e.clearSelection(!0);for(var n=i.iterator;n.next();)n.value.isSelected=!0;if(null!==t){var r=e.computePartsBounds(e.selection);r.o()&&rc(e,this.computeEffectiveCollection(e.selection,e.kl),new ht(t.x-r.centerX,t.y-r.centerY),e.kl,!1)}e.R("ClipboardPasted",i)}finally{e.Xa("Paste"),e.R("ChangedSelection",e.selection),e.currentCursor=""}},Zr.prototype.canPasteSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowClipboard||null===jh||0===jh.count||il!==t.model.dataFormat)},Zr.prototype.undo=function(){this.diagram.undoManager.undo()},Zr.prototype.canUndo=function(){var t=this.diagram;return!t.isReadOnly&&!t.isModelReadOnly&&t.allowUndo&&t.undoManager.canUndo()},Zr.prototype.redo=function(){this.diagram.undoManager.redo()},Zr.prototype.canRedo=function(){var t=this.diagram;return!t.isReadOnly&&!t.isModelReadOnly&&t.allowUndo&&t.undoManager.canRedo()},Zr.prototype.decreaseZoom=function(t){void 0===t&&(t=1/this.zoomFactor);var e=this.diagram;e.autoScale===Ta&&((t*=e.scale)<e.minScale||t>e.maxScale||(e.scale=t))},Zr.prototype.canDecreaseZoom=function(t){void 0===t&&(t=1/this.zoomFactor);var e=this.diagram;return e.autoScale===Ta&&!((t*=e.scale)<e.minScale||t>e.maxScale)&&e.allowZoom},Zr.prototype.increaseZoom=function(t){void 0===t&&(t=this.zoomFactor);var e=this.diagram;e.autoScale===Ta&&((t*=e.scale)<e.minScale||t>e.maxScale||(e.scale=t))},Zr.prototype.canIncreaseZoom=function(t){void 0===t&&(t=this.zoomFactor);var e=this.diagram;return e.autoScale===Ta&&!((t*=e.scale)<e.minScale||t>e.maxScale)&&e.allowZoom},Zr.prototype.resetZoom=function(t){void 0===t&&(t=this.defaultScale);var e=this.diagram;t<e.minScale||t>e.maxScale||(e.scale=t)},Zr.prototype.canResetZoom=function(t){void 0===t&&(t=this.defaultScale);var e=this.diagram;return!(t<e.minScale||t>e.maxScale)&&e.allowZoom},Zr.prototype.zoomToFit=function(){var t=this.diagram,e=t.animationManager;e.Bc(),t.redraw();var i=t.position,n=t.scale;Xe(e,"Zoom To Fit"),this.isZoomToFitRestoreEnabled&&n===this.Bv&&!isNaN(this.bv)&&t.documentBounds.w(this.Av)?(t.scale=this.bv,t.position=this.yx,this.Bv=NaN,this.Av=Jn):(this.bv=n,this.yx=i.copy(),t.zoomToFit(),this.Bv=t.scale,this.Av=t.documentBounds.copy()),Mi(e)},Zr.prototype.canZoomToFit=function(){return this.diagram.allowZoom},Zr.prototype.scrollToPart=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.Ta(),null===t){try{null!==this.rg&&(this.rg.next()?t=this.rg.value:this.rg=null)}catch(D){this.rg=null}null===t&&(0<e.highlighteds.count?this.rg=e.highlighteds.iterator:0<e.selection.count&&(this.rg=e.selection.iterator),null!==this.rg&&this.rg.next()&&(t=this.rg.value))}if(null!==t){var i=e.animationManager;Xe(i,"Scroll To Part");var n=this.scrollToPartPause;if(0<n){var r=Mf(this,t,[t]);if(1===r.length)e.xa(),e.At(t.actualBounds),e.Xa("Scroll To Part");else{var l=function(){e.xa();for(var D=r.pop();0<r.length&&D instanceof Si&&D.isTreeExpanded&&(!(D instanceof Qi)||D.isSubGraphExpanded);)D=r.pop();0<r.length?(D instanceof qt&&e.Aw(D.actualBounds),D instanceof Si&&!D.isTreeExpanded&&(D.isTreeExpanded=!0),D instanceof Qi&&!D.isSubGraphExpanded&&(D.isSubGraphExpanded=!0)):(D instanceof qt&&e.At(D.actualBounds),e.Lm("LayoutCompleted",v)),e.Xa("Scroll To Part")},v=function(){Y(l,(i.isEnabled?i.duration:0)+n)};e.kk("LayoutCompleted",v),l()}}else{var _=e.position.copy();e.At(t.actualBounds),_.Qa(e.position)&&i.Bc()}}},Zr.prototype.canScrollToPart=function(t){return void 0===t&&(t=null),(null===t||t instanceof qt)&&(0!==(t=this.diagram).selection.count||0!==t.highlighteds.count)&&t.allowHorizontalScroll&&t.allowVerticalScroll},Zr.prototype.collapseTree=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.xa("Collapse Tree"),Xe(e.animationManager,"Collapse Tree");var i=new zt;if(null!==t&&t.isTreeExpanded)t.collapseTree(),i.add(t);else if(null===t)for(var n=e.selection.iterator;n.next();){var r=n.value;r instanceof Si&&r.isTreeExpanded&&(r.collapseTree(),i.add(r))}e.R("TreeCollapsed",i)}finally{e.Xa("Collapse Tree")}},Zr.prototype.canCollapseTree=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t){if(!(t instanceof Si&&t.isTreeExpanded))return!1;if(0<t.Hq().count)return!0}else for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof Si&&e.isTreeExpanded&&0<e.Hq().count)return!0;return!1},Zr.prototype.expandTree=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.xa("Expand Tree"),Xe(e.animationManager,"Expand Tree");var i=new zt;if(null===t||t.isTreeExpanded){if(null===t)for(var n=e.selection.iterator;n.next();){var r=n.value;r instanceof Si&&!r.isTreeExpanded&&(r.expandTree(),i.add(r))}}else t.expandTree(),i.add(t);e.R("TreeExpanded",i)}finally{e.Xa("Expand Tree")}},Zr.prototype.canExpandTree=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t){if(!(t instanceof Si)||t.isTreeExpanded)return!1;if(0<t.Hq().count)return!0}else for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof Si&&!e.isTreeExpanded&&0<e.Hq().count)return!0;return!1},Zr.prototype.groupSelection=function(){var t=this.diagram,e=t.model;if(e.Dk()){var i=this.archetypeGroupData;if(null!==i){var n=null;try{t.currentCursor="wait",t.R("ChangingSelection",t.selection),t.xa("Group");for(var r=new zt,l=t.selection.iterator;l.next();){var v=l.value;v.Nc()&&v.canGroup()&&r.add(v)}for(var _=new zt,D=r.iterator;D.next();){var O=D.value;l=!1;for(var V=r.iterator;V.next();)if(O.Kd(V.value)){l=!0;break}l||_.add(O)}if(0<_.count){var $=_.first().containingGroup;if(null!==$)for(;null!==$;){r=!1;for(var vt=_.iterator;vt.next();)if(!vt.value.Kd($)){r=!0;break}if(!r)break;$=$.containingGroup}if(i instanceof Qi)ul(i),null!==(n=i.copy())&&t.add(n);else if(e.fw(i)){var kt=e.copyNodeData(i);xt(kt)&&(e.uf(kt),n=t.gj(kt))}if(null!==n){null!==$&&this.isValidMember($,n)&&(n.containingGroup=$);for(var bt=_.iterator;bt.next();){var Wt=bt.value;this.isValidMember(n,Wt)&&(Wt.containingGroup=n)}t.clearSelection(!0),n.isSelected=!0}}t.R("SelectionGrouped",n)}finally{t.Xa("Group"),t.R("ChangedSelection",t.selection),t.currentCursor=""}}}},Zr.prototype.canGroupSelection=function(){var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowGroup||!t.model.Dk()||null===this.archetypeGroupData)return!1;for(t=t.selection.iterator;t.next();){var e=t.value;if(e.Nc()&&e.canGroup())return!0}return!1},Zr.prototype.isValidMember=function(t,e){if(null===e||t===e||e instanceof Bi)return!1;if(null!==t){if(t===e||t.Kd(e))return!1;var i=t.memberValidation;if(null!==i&&!i(t,e)||null===t.data&&null!==e.data||null!==t.data&&null===e.data)return!1}return null===(i=this.memberValidation)||i(t,e)},Zr.prototype.ungroupSelection=function(t){void 0===t&&(t=null);var e=this.diagram,i=e.model;if(i.Dk())try{e.currentCursor="wait",e.R("ChangingSelection",e.selection),e.xa("Ungroup");var n=new zt;if(null!==t)n.add(t);else for(var r=e.selection.iterator;r.next();){var l=r.value;l instanceof Qi&&l.canUngroup()&&n.add(l)}var v=new zt;if(0<n.count){e.clearSelection(!0);for(var _=n.iterator;_.next();){var D=_.value;D.expandSubGraph();var O=D.containingGroup,V=null!==O&&null!==O.data?i.ja(O.data):void 0;v.addAll(D.memberParts);for(var $=v.iterator;$.next();){var vt=$.value;if(vt.isSelected=!0,!(vt instanceof Bi)){var kt=vt.data;null!==kt?i.dr(kt,V):vt.containingGroup=O}}e.remove(D)}}e.R("SelectionUngrouped",n,v)}finally{e.Xa("Ungroup"),e.R("ChangedSelection",e.selection),e.currentCursor=""}},Zr.prototype.canUngroupSelection=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowDelete||!e.allowUngroup||!e.model.Dk())return!1;if(null!==t){if(!(t instanceof Qi))return!1;if(t.canUngroup())return!0}else for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof Qi&&e.canUngroup())return!0;return!1},Zr.prototype.addTopLevelParts=function(t,e){var i=!0;for(t=cc(t).iterator;t.next();){var n=t.value;null!==n.containingGroup&&(!e||this.isValidMember(null,n)?n.containingGroup=null:i=!1)}return i},Zr.prototype.collapseSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.xa("Collapse SubGraph"),Xe(e.animationManager,"Collapse SubGraph");var i=new zt;if(null!==t&&t.isSubGraphExpanded)t.collapseSubGraph(),i.add(t);else if(null===t)for(var n=e.selection.iterator;n.next();){var r=n.value;r instanceof Qi&&r.isSubGraphExpanded&&(r.collapseSubGraph(),i.add(r))}e.R("SubGraphCollapsed",i)}finally{e.Xa("Collapse SubGraph")}},Zr.prototype.canCollapseSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t)return!!(t instanceof Qi&&t.isSubGraphExpanded);for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof Qi&&e.isSubGraphExpanded)return!0;return!1},Zr.prototype.expandSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.xa("Expand SubGraph"),Xe(e.animationManager,"Expand SubGraph");var i=new zt;if(null===t||t.isSubGraphExpanded){if(null===t)for(var n=e.selection.iterator;n.next();){var r=n.value;r instanceof Qi&&!r.isSubGraphExpanded&&(r.expandSubGraph(),i.add(r))}}else t.expandSubGraph(),i.add(t);e.R("SubGraphExpanded",i)}finally{e.Xa("Expand SubGraph")}},Zr.prototype.canExpandSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t)return t instanceof Qi&&!t.isSubGraphExpanded;for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof Qi&&!e.isSubGraphExpanded)return!0;return!1},Zr.prototype.editTextBlock=function(t){void 0===t&&(t=null);var e=this.diagram,i=e.toolManager.findTool("TextEditing");if(null!==i){if(null===t){t=null;for(var n=e.selection.iterator;n.next();){var r=n.value;if(r.canEdit()){t=r;break}}if(null===t)return;t=t.ym(function(l){return l instanceof Br&&l.editable})}null!==t&&(e.currentTool=null,i.textBlock=t,e.currentTool=i)}},Zr.prototype.canEditTextBlock=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowTextEdit||null===e.toolManager.findTool("TextEditing"))return!1;if(null!==t){if(!(t instanceof Br))return!1;if(null!==(t=t.part)&&t.canEdit())return!0}else for(e=e.selection.iterator;e.next();)if((t=e.value).canEdit()&&null!==(t=t.ym(function(i){return i instanceof Br&&i.editable})))return!0;return!1},Zr.prototype.showContextMenu=function(t){var e=this.diagram,i=e.toolManager.findTool("ContextMenu");if(null!==i&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null!==(t=i.findObjectWithContextMenu(t)))){var n=e.lastInput,r=null;t instanceof jn?r=t.da(ar):e.viewportBounds.$(n.documentPoint)||(r=new ht((r=e.viewportBounds).x+r.width/2,r.y+r.height/2)),null!==r&&(n.viewPoint=e.gr(r),n.documentPoint=r,n.left=!1,n.right=!0,n.up=!0),e.currentTool=i,xm(i,!1,t)}},Zr.prototype.canShowContextMenu=function(t){var e=this.diagram,i=e.toolManager.findTool("ContextMenu");return null!==i&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null!==i.findObjectWithContextMenu(t))},Zr.prototype.computeEffectiveCollection=function(t,e){var i=this.diagram,n=i.toolManager.findTool("Dragging"),r=i.currentTool===n;if(void 0===e&&(e=r?n.dragOptions:i.kl),n=new yt,null===t)return n;for(var l=t.iterator;l.next();)Ql(i,n,l.value,r,e);if(null!==i.draggedLink&&e.dragsLink)return n;for(l=t.iterator;l.next();)(t=l.value)instanceof Bi&&((null===(e=t.fromNode)||n.contains(e))&&(null===(e=t.toNode)||n.contains(e))||n.remove(t));return n},H.Object.defineProperties(Zr.prototype,{diagram:{get:function(){return this.B}},copiesClipboardData:{get:function(){return this.u},set:function(t){this.u=t}},copiesConnectedLinks:{get:function(){return this.I},set:function(t){this.I=t}},deletesConnectedLinks:{get:function(){return this.eb},set:function(t){this.eb=t}},copiesTree:{get:function(){return this.La},set:function(t){this.La=t}},deletesTree:{get:function(){return this.Sc},set:function(t){this.Sc=t}},copiesParentKey:{get:function(){return this.Ka},set:function(t){this.Ka=t}},copiesGroupKey:{get:function(){return this.T},set:function(t){this.T=t}},archetypeGroupData:{get:function(){return this.l},set:function(t){this.l=t}},memberValidation:{get:function(){return this.Ki},set:function(t){this.Ki=t}},defaultScale:{get:function(){return this.diagram.defaultScale},set:function(t){this.diagram.defaultScale=t}},zoomFactor:{get:function(){return this.Od},set:function(t){1<t||U("zoomFactor must be larger than 1.0, not: "+t),this.Od=t}},isZoomToFitRestoreEnabled:{get:function(){return this.Cc},set:function(t){this.Cc=t}},scrollToPartPause:{get:function(){return this.Tc},set:function(t){this.Tc=t}}}),Zr.className="CommandHandler",nc=function(){return new Zr},jn.prototype.cloneProtected=function(t){t.F=6144|this.F,t.hb=this.hb,t.oa=this.oa,t.mb=this.mb,t.ec=this.ec,t.Mg=this.Mg,t.la.assign(this.la),t.Xc=this.Xc.H(),t.fg=this.fg.H(),t.eg=this.eg.H(),t.cg=this.cg.copy(),t.Aa=this.Aa,t.Yb=this.Yb,t.De=this.De,t.jh=this.jh.H(),t.qc.assign(this.qc),t.xb.assign(this.xb),t.rc.assign(this.rc),t.xp=this.xp,null!==this.O&&(t.O=this.O.copy()),t.yb=this.yb.H(),t.$k=this.$k.H(),t.Jp=this.Jp,t.Kp=this.Kp,t.Rg=this.Rg,t.zn=this.zn,t.aq=this.aq,t.Qp=this.Qp,t.am=this.am,t.bm=this.bm.H(),t.cm=this.cm,t.oi=this.oi,null!==this.N&&(t.N=this.N.copy()),t.fb=this.fb,t.dl=this.dl,null!==this.ni&&(t.ni=Tt(this.ni)),null!==this.Za&&(t.Za=this.Za.copy()),t.em=this.em},jn.prototype.Tx=function(t){var e=this.ni;if(Ot(e)){for(var i=0;i<e.length;i++)if(e[i]===t)return}else this.ni=e=[];e.push(t)},jn.prototype.yf=function(t){t.yp=null,t.ak=null,t.s()},jn.prototype.clone=function(){var t=new this.constructor;if(this.cloneProtected(t),null!==this.ni)for(var e=0;e<this.ni.length;e++){var i=this.ni[e];t[i]=this[i]}return t},jn.prototype.copy=function(){return this.clone()},(Q=jn.prototype).jb=function(t){t.classType===Bi?0===t.name.indexOf("Orient")?this.segmentOrientation=t:U("Unknown Link enum value for GraphObject.segmentOrientation property: "+t):t.classType===jn&&(this.stretch=t)},Q.toString=function(){return g(this.constructor)+"#"+Ge(this)},Q.Kc=function(){if(null===this.O){var t=new Vm;t.bh=xr,t.Ch=xr,t.$g=10,t.Ah=10,t.ah=0,t.Bh=0,this.O=t}},Q.Va=function(t,e,i,n,r,l,v){var _=this.part;if(null!==_&&(_.Sk(t,e,i,n,r,l,v),i===this&&t===rn&&Jd(this)&&xu(this,_,e),l=this.diagram,null===this.Mg||null===l||!l.pj||l.undoManager.isUndoingRedoing||l.currentTool!==l.toolManager||l.animationManager.tn||null!==(t=this.Mg.get(e))&&l.animationManager.isEnabled&&!l.animationManager.isTicking&&(null===this.Mp&&(this.Mp=new yt),v=0===l.undoManager.transactionLevel,t.startCondition===qf?v=!0:t.startCondition===j0&&(v=!1),v?(function(t,e){null!==(t=t.bl)&&(t.duration&&(e.duration=t.duration),t.finished&&(e.finished=t.finished),t.easing&&(e.easing=t.easing))}(t,l=new ga),null!==(v=this.Mp.get(t))&&v.stop(),this.Mp.add(t,l),l.xv=this,l.Ox=t,l.add(this,e,n,r),l.start()):(Di(l.animationManager,"Trigger"),l.animationManager.defaultAnimation.add(this,e,n,r))),this instanceof Xi&&i===_&&0!=(16777216&_.F)&&null!==_.data))for(n=(i=this.W.j).length,r=0;r<n;r++)(_=i[r])instanceof Xi&&wh(_,function(D){null!==D.data&&0!=(16777216&D.F)&&D.Ea(e)})},Q.Gt=function(t){return this.dl===t?this:null},Q.g=function(t,e,i){this.Va(rn,t,this,e,i)},Q.sy=function(t,e,i){if(!1===this.pickable)return!1;var n=this.naturalBounds;return e=t.Ie(e),i?si(t.x,t.y,0,0,0,n.height)<=e||si(t.x,t.y,0,n.height,n.width,n.height)<=e||si(t.x,t.y,n.width,n.height,n.width,0)<=e||si(t.x,t.y,n.width,0,0,0)<=e:t.qd(0,0)<=e&&t.qd(0,n.height)<=e&&t.qd(n.width,0)<=e&&t.qd(n.width,n.height)<=e},Q.he=function(){return!0},Q.$=function(t){var e=ht.alloc();e.assign(t),this.transform.ta(e);var i=this.actualBounds;if(!i.o())return ht.free(e),!1;var n=this.diagram;if(null!==n&&n.re){var r=n.Bm("extraTouchThreshold"),l=n.Bm("extraTouchArea"),v=l/2,_=this.naturalBounds,D=1/(n=this.Af()*n.scale);if(_.width*n<r&&_.height*n<r)return t=Kn(i.x-v*D,i.y-v*D,i.width+l*D,i.height+l*D,e.x,e.y),ht.free(e),t}return r=!1,(this instanceof Ji||this instanceof sr?Kn(i.x-5,i.y-5,i.width+10,i.height+10,e.x,e.y):i.$(e))&&(r=!(this.Za&&!this.Za.$(e))&&(!!(null!==this.ec&&i.$(e)||null!==this.mb&&this.rc.$(t))||this.Kh(t))),ht.free(e),r},Q.Kh=function(t){var e=this.naturalBounds;return Kn(0,0,e.width,e.height,t.x,t.y)},Q.Ge=function(t){if(0===this.angle)return this.actualBounds.Ge(t);var e=this.naturalBounds;e=he.allocAt(0,0,e.width,e.height);var i=this.transform,n=!1,r=ht.allocAt(t.x,t.y);return e.$(i.Jd(r))&&(r.h(t.x,t.bottom),e.$(i.Jd(r))&&(r.h(t.right,t.bottom),e.$(i.Jd(r))&&(r.h(t.right,t.y),e.$(i.Jd(r))&&(n=!0)))),ht.free(r),he.free(e),n},Q.Jh=function(t,e){if(void 0===e)return t.Ge(this.actualBounds);var i=this.naturalBounds,n=!1,r=ht.allocAt(0,0);return t.$(e.ta(r))&&(r.h(0,i.height),t.$(e.ta(r))&&(r.h(i.width,i.height),t.$(e.ta(r))&&(r.h(i.width,0),t.$(e.ta(r))&&(n=!0)))),ht.free(r),n},Q.Mc=function(t,e){if(void 0===e&&(e=this.transform,0===this.angle))return t.Mc(this.actualBounds);var i=this.naturalBounds,n=ht.allocAt(0,0),r=ht.allocAt(0,i.height),l=ht.allocAt(i.width,i.height),v=ht.allocAt(i.width,0),_=!1;if(t.$(e.ta(n))||t.$(e.ta(r))||t.$(e.ta(l))||t.$(e.ta(v)))_=!0;else{i=he.allocAt(0,0,i.width,i.height);var D=ht.allocAt(t.x,t.y);i.$(e.Jd(D))?_=!0:(D.h(t.x,t.bottom),i.$(e.Jd(D))?_=!0:(D.h(t.right,t.bottom),i.$(e.Jd(D))?_=!0:(D.h(t.right,t.y),i.$(e.Jd(D))&&(_=!0)))),ht.free(D),he.free(i),!_&&(ti.Qt(t,n,r)||ti.Qt(t,r,l)||ti.Qt(t,l,v)||ti.Qt(t,v,n))&&(_=!0)}return ht.free(n),ht.free(r),ht.free(l),ht.free(v),_},Q.da=function(t,e){if(void 0===e&&(e=new ht),t instanceof hn){var i=this.naturalBounds;e.h(t.x*i.width+t.offsetX,t.y*i.height+t.offsetY)}else e.set(t);return this.Fd.ta(e),e},Q.mj=function(t){void 0===t&&(t=new he);var e=this.naturalBounds,i=this.Fd,n=ht.allocAt(0,0).transform(i);return t.h(n.x,n.y,0,0),n.h(e.width,0).transform(i),Ln(t,n.x,n.y,0,0),n.h(e.width,e.height).transform(i),Ln(t,n.x,n.y,0,0),n.h(0,e.height).transform(i),Ln(t,n.x,n.y,0,0),ht.free(n),t},Q.lj=function(){var t=this.Fd;return 1===t.m11&&0===t.m12?t=0:0>(t=180*Math.atan2(t.m12,t.m11)/Math.PI)&&(t+=360),t},Q.Af=function(){if(0==(4096&this.F))return this.ql;var t=this.Aa;return null!==this.panel?t*this.panel.Af():t},Q.Mt=function(t,e){return void 0===e&&(e=new ht),e.assign(t),this.Fd.Jd(e),e},Q.Nt=function(t,e,i){return this.zk(t.x,t.y,e.x,e.y,i)},Q.zk=function(t,e,i,n,r){var l=this.transform,v=1/(l.m11*l.m22-l.m12*l.m21),_=l.m22*v,D=-l.m12*v,O=-l.m21*v,V=l.m11*v,$=v*(l.m21*l.dy-l.m22*l.dx),vt=v*(l.m12*l.dx-l.m11*l.dy);return null!==this.areaBackground?ti.Cf((l=this.actualBounds).left,l.top,l.right,l.bottom,t,e,i,n,r):(v=t*_+e*O+$,t=t*D+e*V+vt,e=i*_+n*O+$,i=i*D+n*V+vt,r.h(0,0),i=ti.Cf(0,0,(n=this.naturalBounds).width,n.height,v,t,e,i,r),r.transform(l),i)},jn.prototype.measure=function(t,e,i,n){if(!1!==Ps(this)){var r=this.jh,l=r.right+r.left;r=r.top+r.bottom,t=Math.max(t-l,0),e=Math.max(e-r,0),i=Math.max((i||0)-l,0),n=Math.max((n||0)-r,0),r=this.desiredSize;var v=0;this instanceof sr&&(v=this.strokeWidth),90===(l=this.angle)||270===l?(t=isFinite(r.height)?r.height+v:t,e=isFinite(r.width)?r.width+v:e):(t=isFinite(r.width)?r.width+v:t,e=isFinite(r.height)?r.height+v:e),r=i||0,v=n||0;var _=this instanceof Xi;switch(Nu(this,!0)){case ho:v=r=0,_&&(e=t=1/0);break;case No:isFinite(t)&&t>i&&(r=t),isFinite(e)&&e>n&&(v=e);break;case Yo:isFinite(t)&&t>i&&(r=t),v=0,_&&(e=1/0);break;case ua:isFinite(e)&&e>n&&(v=e),r=0,_&&(t=1/0)}var D=this.minSize;r>(_=this.maxSize).width&&D.width<_.width&&(r=_.width),v>_.height&&D.height<_.height&&(v=_.height),i=Math.max(r/this.scale,D.width),n=Math.max(v/this.scale,D.height),_.width<i&&(i=Math.min(D.width,i)),_.height<n&&(n=Math.min(D.height,n)),t=Math.min(_.width,t),e=Math.min(_.height,e),t=Math.max(i,t),e=Math.max(n,e),(90===l||270===l)&&(l=t,t=e,e=l,l=i,i=n,n=l),this.qc.ea(),this.Hm(t,e,i,n),this.qc.freeze(),this.qc.o()||U("Non-real measuredBounds has been set. Object "+this+", measuredBounds: "+this.qc.toString()),rl(this,!1)}},jn.prototype.Hm=function(){},jn.prototype.Ff=function(){return!1},jn.prototype.arrange=function(t,e,i,n,r){this.Fl();var l=he.alloc();l.assign(this.xb),this.xb.ea(),!1===Vl(this)?this.xb.h(t,e,i,n):this.Ih(t,e,i,n),this.xb.freeze(),this.Za=void 0===r?null:r,i=!1,void 0!==r?i=!0:(null===(r=this.panel)||r.type!==Xi.TableRow&&r.type!==Xi.TableColumn||(r=r.panel),null!==r&&(r=r.rc,n=this.measuredBounds,null!==this.areaBackground&&(n=this.xb),i=e+n.height,n=t+n.width,i=!(0<=t+.05&&n<=r.width+.05&&0<=e+.05&&i<=r.height+.05),this instanceof Br&&(this.us>(t=this.naturalBounds).height||this.vb>t.width))&&(i=!0)),this.F=i?256|this.F:-257&this.F,this.xb.o()||U("Non-real actualBounds has been set. Object "+this+", actualBounds: "+this.xb.toString()),this.Im(l,this.xb),Hh(this,!1),he.free(l)},(Q=jn.prototype).Ih=function(){},Q.Im=function(t,e){var i=this.part;null!==i&&null!==i.diagram&&(i.selectionObject!==this&&i.resizeObject!==this&&i.rotateObject!==this||Ki(i,!0),this.M(),zi(t,e)||(i.Oh(),this.mp(i)))},Q.mp=function(t){null!==this.portId&&(Ki(t,!0),t instanceof Si&&pn(t,this))},Q.mc=function(t,e){if(this.visible){var i=this instanceof Xi&&(this.type===Xi.TableRow||this.type===Xi.TableColumn),n=this.xb;if(i||0!==n.width&&0!==n.height&&!isNaN(n.x)&&!isNaN(n.y)){var r=this.opacity;if(0!==r){var l=1;if(1!==r&&(t.globalAlpha=(l=t.globalAlpha)*r),!this.ly(t,e))if(i)Sa(this,t,e);else{this instanceof Bi&&this.Gk(!1),i=this.transform;var v=this.panel;0!=(4096&this.F)&&$0(this);var _=this.part,D=!1,O=0;if(_&&e.Ke("drawShadows")&&(D=_.isShadowed)){var V=_.shadowOffset;O=Math.max(V.y,V.x)*e.scale*e.Tb}if(!(V=e.yi||!this.Ff())){var we,$=this.naturalBounds,vt=(V=this.Zh).m11,kt=V.m21,bt=V.dx,Wt=V.m12,de=V.m22,le=V.dy,Pe=we=0;V=we*vt+Pe*kt+bt;var Ke=we*Wt+Pe*de+le,ui=(we=$.width+O)*vt+(Pe=0)*kt+bt;we=we*Wt+Pe*de+le,Pe=Math.min(V,ui);var $i=Math.min(Ke,we),vn=Math.max(V+0,ui)-Pe,tn=Math.max(Ke+0,we)-$i;V=Pe,Ke=$i,ui=(we=$.width+O)*vt+(Pe=$.height+O)*kt+bt,we=we*Wt+Pe*de+le,Pe=Math.min(V,ui),$i=Math.min(Ke,we),vn=Math.max(V+vn,ui)-Pe,tn=Math.max(Ke+tn,we)-$i,V=Pe,Ke=$i,ui=(we=0)*vt+(Pe=$.height+O)*kt+bt,we=we*Wt+Pe*de+le,Pe=Math.min(V,ui),$i=Math.min(Ke,we),vn=Math.max(V+vn,ui)-Pe,tn=Math.max(Ke+tn,we)-$i,Ke=$i,vt=(O=e.viewportBounds).y,V=!((V=Pe)>O.width+($=O.x)||$>vn+V||Ke>O.height+vt||vt>tn+Ke)}if(V){if(V=0!=(256&this.F),t.clipInsteadOfFill&&(V=!1),this instanceof Br&&(t.font=this.font),V){if(Ke=v.he()?v.naturalBounds:v.actualBounds,null!==this.Za?(vn=($=this.Za).x,tn=$.y,O=$.width,$=$.height):(vn=Math.max(n.x,Ke.x),tn=Math.max(n.y,Ke.y),O=Math.min(n.right,Ke.right)-vn,$=Math.min(n.bottom,Ke.bottom)-tn),vn>n.width+n.x||n.x>Ke.width+Ke.x)return void(1!==r&&(t.globalAlpha=l));t.save(),t.beginPath(),t.rect(vn,tn,O,$),t.clip()}if(this.Ff()){if(!_.isVisible())return void(1!==r&&(t.globalAlpha=l));D&&(t.Iw((Ke=_.shadowOffset).x*e.scale*e.Tb,Ke.y*e.scale*e.Tb,_.shadowBlur),mc(t),t.shadowColor=_.shadowColor)}D&&!0===this.shadowVisible?mc(t):D&&!1===this.shadowVisible&&qu(t),_=this.naturalBounds,null!==this.ec&&(Wa(this,t,this.ec,!0,!0,_,n),this.ec instanceof Fr&&this.ec.type===Os?(t.beginPath(),t.rect(n.x,n.y,n.width,n.height),t.Je(this.ec)):t.fillRect(n.x,n.y,n.width,n.height)),t.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),D&&(null!==v&&0!=(512&v.F)||null!==v&&(v.type===Xi.Auto||v.type===Xi.Spot)&&v.tb()!==this)&&null===this.shadowVisible&&qu(t),null!==this.mb&&(vn=Ke=0,tn=(O=this.naturalBounds).width,O=O.height,$=0,this instanceof sr&&(Ke=(O=this.na.bounds).x,vn=O.y,tn=O.width,O=O.height,$=this.strokeWidth),Wa(this,t,this.mb,!0,!1,_,n),this.mb instanceof Fr&&this.mb.type===Os?(t.beginPath(),t.rect(Ke-$/2,vn-$/2,tn+$,O+$),t.Je(this.mb)):t.fillRect(Ke-$/2,vn-$/2,tn+$,O+$)),D&&(null!==this.mb||null!==this.ec||null!==v&&0!=(512&v.F)||null!==v&&(v.type===Xi.Auto||v.type===Xi.Spot)&&v.tb()!==this)?(Om(this,!0),null===this.shadowVisible&&qu(t)):Om(this,!1),this.ej(t,e),D&&0!=(512&this.F)&&mc(t),this.Ff()&&D&&qu(t),V?(t.restore(),t.uc(this instanceof Xi)):i.Tt()||t.transform(i.m22*(e=1/(i.m11*i.m22-i.m12*i.m21)),-i.m12*e,-i.m21*e,i.m11*e,e*(i.m21*i.dy-i.m22*i.dx),e*(i.m12*i.dx-i.m11*i.dy))}}1!==r&&(t.globalAlpha=l)}}}},Q.ly=function(){return!1},Q.ej=function(){},Q.Gg=function(t){if(t instanceof Xi)t:{if(this!==t&&null!==t)for(var e=this.panel;null!==e;){if(e===t){t=!0;break t}e=e.panel}t=!1}else t=!1;return t},Q.Gf=function(){if(!this.visible)return!1;var t=this.panel;return null===t||t.Gf()},Q.Hg=function(){for(var t=this instanceof Xi?this:this.panel;null!==t&&t.isEnabled;)t=t.panel;return null===t},Q.s=function(t){if(!Ps(this)){void 0===t&&(t=!1),rl(this,!0),Hh(this,!0);var e=this.panel;null===e||t||e.s()}},Q.Bk=function(){Ps(this)||(rl(this,!0),Hh(this,!0))},Q.Fl=function(){0==(2048&this.F)&&(Qd(this,!0),_l(this,!0))},Q.dw=function(){_l(this,!0)},Q.M=function(){var t=this.part;null!==t&&t.M()},Q.sj=function(t){this.og=t},Q.lu=function(){},Q.Ew=function(t){return this.la.assign(t),dc(this),!0},Q.er=function(t,e){(this.la.x!==t||this.la.y!==e)&&(this.la.h(t,e),this.Fl())},Q.bind=function(t){t.pd=this;var e=this.ij();null!==e&&bg(e)&&U("Cannot add a Binding to a template that has already been copied: "+t),null===this.fb&&(this.fb=new zt),this.fb.add(t)},Q.ij=function(){for(var t=this instanceof Xi?this:this.panel;null!==t;){if(null!==t.li)return t;t=t.panel}return null},Q.Fw=function(t){Oc(this,t)},Q.Qw=function(t){t.pd=this,null===this.Mg&&(this.Mg=new yt),this.Mg.add(t.propertyName,t)},H.Object.defineProperties(jn.prototype,{shadowVisible:{get:function(){return this.em},set:function(t){var e=this.em;e!==t&&(this.em=t,this.M(),this.g("shadowVisible",e,t))}},enabledChanged:{get:function(){return null!==this.N?this.N.Wn:null},set:function(t){Ca(this);var e=this.N.Wn;e!==t&&(this.N.Wn=t,this.g("enabledChanged",e,t))}},segmentOrientation:{get:function(){return this.cm},set:function(t){var e=this.cm;e!==t&&(this.cm=t,this.s(),this.g("segmentOrientation",e,t),t===Fs&&(this.angle=0))}},segmentIndex:{get:function(){return this.Qp},set:function(t){t=Math.round(t);var e=this.Qp;e!==t&&(this.Qp=t,this.s(),this.g("segmentIndex",e,t))}},segmentFraction:{get:function(){return this.am},set:function(t){isNaN(t)||0>t?t=0:1<t&&(t=1);var e=this.am;e!==t&&(this.am=t,this.s(),this.g("segmentFraction",e,t))}},segmentOffset:{get:function(){return this.bm},set:function(t){var e=this.bm;e.w(t)||(this.bm=t=t.H(),this.s(),this.g("segmentOffset",e,t))}},stretch:{get:function(){return this.De},set:function(t){var e=this.De;e!==t&&(this.De=t,this.s(),this.g("stretch",e,t))}},name:{get:function(){return this.oa},set:function(t){var e=this.oa;e!==t&&(this.oa=t,null!==this.part&&(this.part.Xj=null),this.g("name",e,t))}},opacity:{get:function(){return this.hb},set:function(t){var e=this.hb;e!==t&&((0>t||1<t)&&ot(t,"0 <= value <= 1",jn,"opacity"),this.hb=t,this.g("opacity",e,t),e=this.part,null!==(t=this.diagram)&&null!==e&&t.M(ri(e,e.actualBounds)))}},visible:{get:function(){return 0!=(1&this.F)},set:function(t){var e=0!=(1&this.F);e!==t&&(this.F^=1,this.g("visible",e,t),null!==(e=this.panel)?e.s():this.Ff()&&this.Ob(t),this.M(),nd(this))}},pickable:{get:function(){return 0!=(2&this.F)},set:function(t){var e=0!=(2&this.F);e!==t&&(this.F^=2,this.g("pickable",e,t))}},fromLinkableDuplicates:{get:function(){return 0!=(4&this.F)},set:function(t){var e=0!=(4&this.F);e!==t&&(this.F^=4,this.g("fromLinkableDuplicates",e,t))}},fromLinkableSelfNode:{get:function(){return 0!=(8&this.F)},set:function(t){var e=0!=(8&this.F);e!==t&&(this.F^=8,this.g("fromLinkableSelfNode",e,t))}},toLinkableDuplicates:{get:function(){return 0!=(16&this.F)},set:function(t){var e=0!=(16&this.F);e!==t&&(this.F^=16,this.g("toLinkableDuplicates",e,t))}},toLinkableSelfNode:{get:function(){return 0!=(32&this.F)},set:function(t){var e=0!=(32&this.F);e!==t&&(this.F^=32,this.g("toLinkableSelfNode",e,t))}},isPanelMain:{get:function(){return 0!=(64&this.F)},set:function(t){var e=0!=(64&this.F);e!==t&&(this.F^=64,this.s(),this.g("isPanelMain",e,t))}},isActionable:{get:function(){return 0!=(128&this.F)},set:function(t){var e=0!=(128&this.F);e!==t&&(this.F^=128,this.g("isActionable",e,t))}},areaBackground:{get:function(){return this.ec},set:function(t){var e=this.ec;e!==t&&(null!==t&&Bc(t,"GraphObject.areaBackground"),t instanceof Fr&&t.freeze(),this.ec=t,this.M(),this.g("areaBackground",e,t))}},background:{get:function(){return this.mb},set:function(t){var e=this.mb;e!==t&&(null!==t&&Bc(t,"GraphObject.background"),t instanceof Fr&&t.freeze(),this.mb=t,this.M(),this.g("background",e,t))}},part:{get:function(){if(this.Ff())return this;if(null!==this.ak)return this.ak;var t;for(t=this.panel;t;){if(t instanceof qt)return this.ak=t;t=t.panel}return null}},svg:{get:function(){return this.gq},set:function(t){this.gq=t}},panel:{get:function(){return this.og}},layer:{get:function(){var t=this.part;return null!==t?t.layer:null}},diagram:{get:function(){var t=this.part;return null!==t?t.diagram:null}},position:{get:function(){return this.la},set:function(t){var e=t.x,i=t.y,n=this.la,r=n.x,l=n.y;(r===e||isNaN(r)&&isNaN(e))&&(l===i||isNaN(l)&&isNaN(i))?this.lu():(t=t.copy(),this.Ew(t,n)&&this.g("position",n.copy(),t.copy()))}},actualBounds:{get:function(){return this.xb}},scale:{get:function(){return this.Aa},set:function(t){var e=this.Aa;e!==t&&(0>=t&&U("GraphObject.scale for "+this+" must be greater than zero, not: "+t),this.Aa=t,this.s(),this.g("scale",e,t))}},angle:{get:function(){return this.Yb},set:function(t){var e=this.Yb;e!==t&&(0>(t%=360)&&(t+=360),e!==t&&(this.Yb=t,nd(this),this.s(),this.g("angle",e,t)))}},desiredSize:{get:function(){return this.Xc},set:function(t){var e=t.width,i=t.height,n=this.Xc,r=n.width,l=n.height;(r===e||isNaN(r)&&isNaN(e))&&(l===i||isNaN(l)&&isNaN(i))||(this.Xc=t=t.H(),this.s(),this instanceof sr&&this.dc(),this.g("desiredSize",n,t),Jd(this)&&null!==(t=this.part)&&(xu(this,t,"width"),xu(this,t,"height")))}},width:{get:function(){return this.Xc.width},set:function(t){var e=this.Xc.width;e===t||isNaN(e)&&isNaN(t)||(e=this.Xc,this.Xc=t=new De(t,this.Xc.height).freeze(),this.s(),this instanceof sr&&this.dc(),this.g("desiredSize",e,t),Jd(this)&&null!==(t=this.part)&&xu(this,t,"width"))}},height:{get:function(){return this.Xc.height},set:function(t){var e=this.Xc.height;e===t||isNaN(e)&&isNaN(t)||(e=this.Xc,this.Xc=t=new De(this.Xc.width,t).freeze(),this.s(),this instanceof sr&&this.dc(),this.g("desiredSize",e,t),Jd(this)&&null!==(t=this.part)&&xu(this,t,"height"))}},minSize:{get:function(){return this.fg},set:function(t){var e=this.fg;e.w(t)||(t=t.copy(),isNaN(t.width)&&(t.width=0),isNaN(t.height)&&(t.height=0),t.freeze(),this.fg=t,this.s(),this.g("minSize",e,t))}},maxSize:{get:function(){return this.eg},set:function(t){var e=this.eg;e.w(t)||(t=t.copy(),isNaN(t.width)&&(t.width=1/0),isNaN(t.height)&&(t.height=1/0),t.freeze(),this.eg=t,this.s(),this.g("maxSize",e,t))}},measuredBounds:{get:function(){return this.qc}},naturalBounds:{get:function(){return this.rc}},margin:{get:function(){return this.jh},set:function(t){"number"==typeof t&&(t=new Je(t));var e=this.jh;e.w(t)||(this.jh=t=t.H(),this.s(),this.g("margin",e,t))}},transform:{get:function(){return 0!=(2048&this.F)&&$0(this),this.sb}},Fd:{get:function(){return 0!=(4096&this.F)&&$0(this),this.Zh}},alignment:{get:function(){return this.yb},set:function(t){var e=this.yb;e.w(t)||(t.nc()&&!t.Mb()&&U("GraphObject.alignment for "+this+" must be a real Spot or Spot.Default, not: "+t),this.yb=t=t.H(),dc(this),this.g("alignment",e,t))}},column:{get:function(){return this.Rg},set:function(t){t=Math.round(t);var e=this.Rg;e!==t&&(0>t&&ot(t,">= 0",jn,"column"),this.Rg=t,this.s(),this.g("column",e,t))}},columnSpan:{get:function(){return this.zn},set:function(t){t=Math.round(t);var e=this.zn;e!==t&&(1>t&&ot(t,">= 1",jn,"columnSpan"),this.zn=t,this.s(),this.g("columnSpan",e,t))}},row:{get:function(){return this.Jp},set:function(t){t=Math.round(t);var e=this.Jp;e!==t&&(0>t&&ot(t,">= 0",jn,"row"),this.Jp=t,this.s(),this.g("row",e,t))}},rowSpan:{get:function(){return this.Kp},set:function(t){t=Math.round(t);var e=this.Kp;e!==t&&(1>t&&ot(t,">= 1",jn,"rowSpan"),this.Kp=t,this.s(),this.g("rowSpan",e,t))}},spanAllocation:{get:function(){return this.aq},set:function(t){var e=this.aq;e!==t&&(this.aq=t,this.s(),this.g("spanAllocation",e,t))}},alignmentFocus:{get:function(){return this.$k},set:function(t){var e=this.$k;e.w(t)||(this.$k=t=t.H(),this.s(),this.g("alignmentFocus",e,t))}},portId:{get:function(){return this.xp},set:function(t){var e=this.xp;if(e!==t){var i=this.part;null===i||i instanceof Si||(U("Cannot set portID on a Link: "+t),i=null),null!==e&&null!==i&&wr(i,this),this.xp=t,null!==t&&null!==i&&(i.Nh=!0,Tr(i,this)),this.g("portId",e,t)}}},toSpot:{get:function(){return null!==this.O?this.O.Ch:xr},set:function(t){this.Kc();var e=this.O.Ch;e.w(t)||(t=t.H(),this.O.Ch=t,this.g("toSpot",e,t),Js(this))}},toEndSegmentLength:{get:function(){return null!==this.O?this.O.Ah:10},set:function(t){this.Kc();var e=this.O.Ah;e!==t&&(0>t&&ot(t,">= 0",jn,"toEndSegmentLength"),this.O.Ah=t,this.g("toEndSegmentLength",e,t),Js(this))}},toShortLength:{get:function(){return null!==this.O?this.O.Bh:0},set:function(t){this.Kc();var e=this.O.Bh;e!==t&&(this.O.Bh=t,this.g("toShortLength",e,t),Js(this))}},toLinkable:{get:function(){return null!==this.O?this.O.kq:null},set:function(t){this.Kc();var e=this.O.kq;e!==t&&(this.O.kq=t,this.g("toLinkable",e,t))}},toMaxLinks:{get:function(){return null!==this.O?this.O.lq:1/0},set:function(t){this.Kc();var e=this.O.lq;e!==t&&(0>t&&ot(t,">= 0",jn,"toMaxLinks"),this.O.lq=t,this.g("toMaxLinks",e,t))}},fromSpot:{get:function(){return null!==this.O?this.O.bh:xr},set:function(t){this.Kc();var e=this.O.bh;e.w(t)||(t=t.H(),this.O.bh=t,this.g("fromSpot",e,t),Js(this))}},fromEndSegmentLength:{get:function(){return null!==this.O?this.O.$g:10},set:function(t){this.Kc();var e=this.O.$g;e!==t&&(0>t&&ot(t,">= 0",jn,"fromEndSegmentLength"),this.O.$g=t,this.g("fromEndSegmentLength",e,t),Js(this))}},fromShortLength:{get:function(){return null!==this.O?this.O.ah:0},set:function(t){this.Kc();var e=this.O.ah;e!==t&&(this.O.ah=t,this.g("fromShortLength",e,t),Js(this))}},fromLinkable:{get:function(){return null!==this.O?this.O.co:null},set:function(t){this.Kc();var e=this.O.co;e!==t&&(this.O.co=t,this.g("fromLinkable",e,t))}},fromMaxLinks:{get:function(){return null!==this.O?this.O.eo:1/0},set:function(t){this.Kc();var e=this.O.eo;e!==t&&(0>t&&ot(t,">= 0",jn,"fromMaxLinks"),this.O.eo=t,this.g("fromMaxLinks",e,t))}},cursor:{get:function(){return this.oi},set:function(t){var e=this.oi;e!==t&&(this.oi=t,this.g("cursor",e,t))}},click:{get:function(){return null!==this.N?this.N.Pf:null},set:function(t){Ca(this);var e=this.N.Pf;e!==t&&(this.N.Pf=t,this.g("click",e,t))}},doubleClick:{get:function(){return null!==this.N?this.N.Uf:null},set:function(t){Ca(this);var e=this.N.Uf;e!==t&&(this.N.Uf=t,this.g("doubleClick",e,t))}},contextClick:{get:function(){return null!==this.N?this.N.Qf:null},set:function(t){Ca(this);var e=this.N.Qf;e!==t&&(this.N.Qf=t,this.g("contextClick",e,t))}},mouseEnter:{get:function(){return null!==this.N?this.N.hg:null},set:function(t){Ca(this);var e=this.N.hg;e!==t&&(this.N.hg=t,this.g("mouseEnter",e,t))}},mouseLeave:{get:function(){return null!==this.N?this.N.kg:null},set:function(t){Ca(this);var e=this.N.kg;e!==t&&(this.N.kg=t,this.g("mouseLeave",e,t))}},mouseOver:{get:function(){return null!==this.N?this.N.lg:null},set:function(t){Ca(this);var e=this.N.lg;e!==t&&(this.N.lg=t,this.g("mouseOver",e,t))}},mouseHover:{get:function(){return null!==this.N?this.N.jg:null},set:function(t){Ca(this);var e=this.N.jg;e!==t&&(this.N.jg=t,this.g("mouseHover",e,t))}},mouseHold:{get:function(){return null!==this.N?this.N.ig:null},set:function(t){Ca(this);var e=this.N.ig;e!==t&&(this.N.ig=t,this.g("mouseHold",e,t))}},mouseDragEnter:{get:function(){return null!==this.N?this.N.$o:null},set:function(t){Ca(this);var e=this.N.$o;e!==t&&(this.N.$o=t,this.g("mouseDragEnter",e,t))}},mouseDragLeave:{get:function(){return null!==this.N?this.N.ap:null},set:function(t){Ca(this);var e=this.N.ap;e!==t&&(this.N.ap=t,this.g("mouseDragLeave",e,t))}},mouseDrop:{get:function(){return null!==this.N?this.N.gg:null},set:function(t){Ca(this);var e=this.N.gg;e!==t&&(this.N.gg=t,this.g("mouseDrop",e,t))}},actionDown:{get:function(){return null!==this.N?this.N.gn:null},set:function(t){Ca(this);var e=this.N.gn;e!==t&&(this.N.gn=t,this.g("actionDown",e,t))}},actionMove:{get:function(){return null!==this.N?this.N.hn:null},set:function(t){Ca(this);var e=this.N.hn;e!==t&&(this.N.hn=t,this.g("actionMove",e,t))}},actionUp:{get:function(){return null!==this.N?this.N.jn:null},set:function(t){Ca(this);var e=this.N.jn;e!==t&&(this.N.jn=t,this.g("actionUp",e,t))}},actionCancel:{get:function(){return null!==this.N?this.N.fn:null},set:function(t){Ca(this);var e=this.N.fn;e!==t&&(this.N.fn=t,this.g("actionCancel",e,t))}},toolTip:{get:function(){return null!==this.N?this.N.wg:null},set:function(t){Ca(this);var e=this.N.wg;e!==t&&(this.N.wg=t,this.g("toolTip",e,t))}},contextMenu:{get:function(){return null!==this.N?this.N.Rf:null},set:function(t){Ca(this);var e=this.N.Rf;e!==t&&(this.N.Rf=t,this.g("contextMenu",e,t))}}}),jn.prototype.trigger=jn.prototype.Qw,jn.prototype.setProperties=jn.prototype.Fw,jn.prototype.findTemplateBinder=jn.prototype.ij,jn.prototype.bind=jn.prototype.bind,jn.prototype.isEnabledObject=jn.prototype.Hg,jn.prototype.isVisibleObject=jn.prototype.Gf,jn.prototype.isContainedBy=jn.prototype.Gg,jn.prototype.getNearestIntersectionPoint=jn.prototype.Nt,jn.prototype.getLocalPoint=jn.prototype.Mt,jn.prototype.getDocumentScale=jn.prototype.Af,jn.prototype.getDocumentAngle=jn.prototype.lj,jn.prototype.getDocumentBounds=jn.prototype.mj,jn.prototype.getDocumentPoint=jn.prototype.da,jn.prototype.intersectsRect=jn.prototype.Mc,jn.prototype.containedInRect=jn.prototype.Jh,jn.prototype.containsRect=jn.prototype.Ge,jn.prototype.containsPoint=jn.prototype.$,jn.prototype.raiseChanged=jn.prototype.g,jn.prototype.raiseChangedEvent=jn.prototype.Va,jn.prototype.addCopyProperty=jn.prototype.Tx;var Wp=null;function Kp(){this.Wn=this.Rf=this.wg=this.fn=this.jn=this.hn=this.gn=this.gg=this.ap=this.$o=this.ig=this.jg=this.lg=this.kg=this.hg=this.Qf=this.Uf=this.Pf=null}function tp(){this.Oa=[1,0,0,1,0,0]}function Sf(t){this.type=t,this.r2=this.y2=this.x2=this.r1=this.y1=this.x1=0,this.ay=[],this.pattern=null}function Zu(t,e){this.ownerDocument=t=void 0===e?B.document:e,this.LA="http://www.w3.org/2000/svg",void 0!==t&&(this.Ja=this.Pb("svg",{width:"1px",height:"1px",viewBox:"0 0 1 1"}),this.Ja.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),this.Ja.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink")),this.Dq=null,this.context=new Ef(this)}function Ef(t){this.nu=t,this.svg=t.Ja,this.stack=[],this.gd=[],this.fillStyle="#000000",this.font="10px sans-serif",this.globalAlpha=1,this.lineCap="butt",this.lineDashOffset=0,this.lineJoin="miter",this.lineWidth=1,this.miterLimit=10,this.shadowBlur=0,this.shadowColor="rgba(0, 0, 0, 0)",this.shadowOffsetY=this.shadowOffsetX=0,this.strokeStyle="#000000",this.textAlign="start",this.clipInsteadOfFill=!1,this.ug=this.ft=this.et=0,this.Wt=null,this.path=[],this.Vu=!1,this.uh=null,this.vh=0,this.He=new tp,wu(this,1,0,0,1,0,0);var e=_e++,i=this.Pb("clipPath",{id:"mainClip"+e});i.appendChild(this.Pb("rect",{x:0,y:0,width:t.width,height:t.height})),this.Bx=i,this.nu.Ja.appendChild(i),this.gd[0].setAttributeNS(null,"clip-path","url(#mainClip"+e+")"),this.NA={}}function rd(t,e,i,n,r){1!==t.globalAlpha&&(i.opacity=t.globalAlpha),"fill"===e?(t.fillStyle instanceof Sf?i.fill=$p(t,t.fillStyle):/^rgba\(/.test(t.fillStyle)?(t=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.fillStyle),i.fill="rgb("+t[1]+","+t[2]+","+t[3]+")",i["fill-opacity"]=t[4]):i.fill=t.fillStyle,i.stroke="none"):"stroke"===e&&(i.fill="none",t.strokeStyle instanceof Sf?i.stroke=$p(t,t.strokeStyle):/^rgba\(/.test(t.strokeStyle)?(e=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.strokeStyle),i.stroke="rgb("+e[1]+","+e[2]+","+e[3]+")",i["stroke-opacity"]=e[4]):i.stroke=t.strokeStyle,i["stroke-width"]=t.lineWidth,i["stroke-linecap"]=t.lineCap,i["stroke-linejoin"]=t.lineJoin,i["stroke-miterlimit"]=t.miterLimit),n="matrix("+(n=n.Oa)[0]+", "+n[1]+", "+n[2]+", "+n[3]+", "+n[4]+", "+n[5]+")",void 0!==r&&(n+=r),i.transform=n}function $p(t,e){var i="GRAD"+_e++;if("linear"===e.type)var n=t.Pb("linearGradient",{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,id:i,gradientUnits:"userSpaceOnUse"});else{if("radial"!==e.type)throw Error("invalid gradient");n=t.Pb("radialGradient",{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,r1:e.r1,r2:e.r2,id:i})}var r=e.ay;e=r.length;for(var l=[],v=0;v<e;v++){var _=r[v],D=_.color;_={offset:_.offset,"stop-color":D},/^rgba\(/.test(D)&&(D=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(D),_["stop-color"]="rgb("+D[1]+","+D[2]+","+D[3]+")",_["stop-opacity"]=D[4]),l.push(_)}for(l.sort(function(O,V){return O.offset>V.offset?1:-1}),r=0;r<e;r++)n.appendChild(t.Pb("stop",l[r]));return t.svg.appendChild(n),"url(#"+i+")"}function wu(t,e,i,n,r,l,v){var _=new tp;_.Oa=[e,i,n,r,l,v],rd(t,"g",e={},_),_=t.addElement("g",e),t.gd.push(_)}function qu(t){t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0}function mc(t){t.shadowOffsetX=t.et,t.shadowOffsetY=t.ft,t.shadowBlur=t.ug}function tu(t,e){this.ownerDocument=e=void 0===e?B.document:e,this.Dq=null,(e=e.createElement("canvas")).tabIndex=0,this.Ja=e,this.Ja.innerHTML="This text is displayed if your browser does not support the Canvas HTML element.",this.context=new Nc(e),e.B=t}function Nc(t){t.getContext&&t.getContext("2d")||U("Browser does not support HTML Canvas Element"),this.Y=t.getContext("2d"),this.xu=this.zu=this.yu="",this.yn=!1,this.ug=this.ft=this.et=0}jn.className="GraphObject",Wp=new yt,pc("Button",function(){function t(i,n){return null!==i.diagram.Vb(i.documentPoint,function(r){for(;null!==r.panel&&!r.isActionable;)r=r.panel;return r},function(r){return r===n})}var e=Pa(Xi,Xi.Auto,{isActionable:!0,enabledChanged:function(i,n){if(i instanceof Xi){var r=i.bb("ButtonBorder");null!==r&&(r.fill=n?i._buttonFillNormal:i._buttonFillDisabled)}},cursor:"pointer",_buttonFillNormal:"#F5F5F5",_buttonStrokeNormal:"#BDBDBD",_buttonFillOver:"#E0E0E0",_buttonStrokeOver:"#9E9E9E",_buttonFillPressed:"#BDBDBD",_buttonStrokePressed:"#9E9E9E",_buttonFillDisabled:"#E5E5E5"},Pa(sr,{name:"ButtonBorder",figure:"RoundedRectangle",spot1:new hn(0,0,2.76142374915397,2.761423749153969),spot2:new hn(1,1,-2.76142374915397,-2.761423749153969),parameter1:2,parameter2:2,fill:"#F5F5F5",stroke:"#BDBDBD"}));return e.mouseEnter=function(i,n){if(n.Hg()&&n instanceof Xi&&(i=n.bb("ButtonBorder"))instanceof sr){var r=n._buttonFillOver;n._buttonFillNormal=i.fill,i.fill=r,r=n._buttonStrokeOver,n._buttonStrokeNormal=i.stroke,i.stroke=r}},e.mouseLeave=function(i,n){n.Hg()&&n instanceof Xi&&(i=n.bb("ButtonBorder"))instanceof sr&&(i.fill=n._buttonFillNormal,i.stroke=n._buttonStrokeNormal)},e.actionDown=function(i,n){if(n.Hg()&&n instanceof Xi&&null!==n._buttonFillPressed&&0===i.button){var r=n.bb("ButtonBorder");if(r instanceof sr){var l=(i=i.diagram).skipsUndoManager;i.skipsUndoManager=!0;var v=n._buttonFillPressed;n._buttonFillOver=r.fill,r.fill=v,v=n._buttonStrokePressed,n._buttonStrokeOver=r.stroke,r.stroke=v,i.skipsUndoManager=l}}},e.actionUp=function(i,n){if(n.Hg()&&n instanceof Xi&&null!==n._buttonFillPressed&&0===i.button){var r=n.bb("ButtonBorder");if(r instanceof sr){var l=i.diagram,v=l.skipsUndoManager;l.skipsUndoManager=!0,t(i,n)?(r.fill=n._buttonFillOver,r.stroke=n._buttonStrokeOver):(r.fill=n._buttonFillNormal,r.stroke=n._buttonStrokeNormal),l.skipsUndoManager=v}}},e.actionCancel=function(i,n){if(n.Hg()&&n instanceof Xi&&null!==n._buttonFillPressed){var r=n.bb("ButtonBorder");if(r instanceof sr){var l=i.diagram,v=l.skipsUndoManager;l.skipsUndoManager=!0,t(i,n)?(r.fill=n._buttonFillOver,r.stroke=n._buttonStrokeOver):(r.fill=n._buttonFillNormal,r.stroke=n._buttonStrokeNormal),l.skipsUndoManager=v}}},e.actionMove=function(i,n){if(n.Hg()&&n instanceof Xi&&null!==n._buttonFillPressed){var r=i.diagram;if(0===r.firstInput.button&&(r.currentTool.standardMouseOver(),t(i,n)&&(i=n.bb("ButtonBorder"))instanceof sr)){var l=r.skipsUndoManager;r.skipsUndoManager=!0;var v=n._buttonFillPressed;i.fill!==v&&(i.fill=v),i.stroke!==(v=n._buttonStrokePressed)&&(i.stroke=v),r.skipsUndoManager=l}}},e}),pc("TreeExpanderButton",function(){var t=Pa("Button",{_treeExpandedFigure:"MinusLine",_treeCollapsedFigure:"PlusLine"},Pa(sr,{name:"ButtonIcon",figure:"MinusLine",stroke:"#424242",strokeWidth:2,desiredSize:Qt},new Ms("figure","isTreeExpanded",function(e,i){return i=i.panel,e?i._treeExpandedFigure:i._treeCollapsedFigure}).Uq()),{visible:!1},new Ms("visible","isTreeLeaf",function(e){return!e}).Uq());return t.click=function(e,i){if((i=i.part)instanceof Ji&&(i=i.adornedPart),i instanceof Si){var n=i.diagram;if(null!==n){if(n=n.commandHandler,i.isTreeExpanded){if(!n.canCollapseTree(i))return}else if(!n.canExpandTree(i))return;e.handled=!0,i.isTreeExpanded?n.collapseTree(i):n.expandTree(i)}}},t}),pc("SubGraphExpanderButton",function(){var t=Pa("Button",{_subGraphExpandedFigure:"MinusLine",_subGraphCollapsedFigure:"PlusLine"},Pa(sr,{name:"ButtonIcon",figure:"MinusLine",stroke:"#424242",strokeWidth:2,desiredSize:Qt},new Ms("figure","isSubGraphExpanded",function(e,i){return i=i.panel,e?i._subGraphExpandedFigure:i._subGraphCollapsedFigure}).Uq()));return t.click=function(e,i){if((i=i.part)instanceof Ji&&(i=i.adornedPart),i instanceof Qi){var n=i.diagram;if(null!==n){if(n=n.commandHandler,i.isSubGraphExpanded){if(!n.canCollapseSubGraph(i))return}else if(!n.canExpandSubGraph(i))return;e.handled=!0,i.isSubGraphExpanded?n.collapseSubGraph(i):n.expandSubGraph(i)}}},t}),pc("ToolTip",function(){return Pa(Ji,Xi.Auto,{isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new ht(0,3),shadowBlur:5},Pa(sr,{name:"Border",figure:"RoundedRectangle",parameter1:1,parameter2:1,fill:"#F5F5F5",stroke:"#F0F0F0",spot1:new hn(0,0,4,6),spot2:new hn(1,1,-4,-4)}))}),pc("ContextMenu",function(){return Pa(Ji,Xi.Vertical,{background:"#F5F5F5",isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new ht(0,3),shadowBlur:5},new Ms("background","",function(t){return null!==t.adornedPart&&null!==t.placeholder?null:"#F5F5F5"}))}),pc("ContextMenuButton",function(){var t=Pa("Button");t.stretch=Yo;var e=t.bb("ButtonBorder");return e instanceof sr&&(e.figure="Rectangle",e.strokeWidth=0,e.spot1=new hn(0,0,2,3),e.spot2=new hn(1,1,-2,-2)),t}),pc("PanelExpanderButton",function(t){var e=Yp(t,"COLLAPSIBLE"),i=Pa("Button",{_buttonExpandedFigure:"M0 0 M0 6 L4 2 8 6 M8 8",_buttonCollapsedFigure:"M0 0 M0 2 L4 6 8 2 M8 8",_buttonFillNormal:"rgba(0, 0, 0, 0)",_buttonStrokeNormal:null,_buttonFillOver:"rgba(0, 0, 0, .2)",_buttonStrokeOver:null,_buttonFillPressed:"rgba(0, 0, 0, .4)",_buttonStrokePressed:null},Pa(sr,{name:"ButtonIcon",strokeWidth:2},new Ms("geometryString","visible",function(n){return n?i._buttonExpandedFigure:i._buttonCollapsedFigure}).Uq(e)));return(t=i.bb("ButtonBorder"))instanceof sr&&(t.stroke=null,t.fill="rgba(0, 0, 0, 0)"),i.click=function(n,r){var l=r.diagram;if(null!==l&&!l.isReadOnly){var v=r.ij();null===v&&(v=r.part),null!==v&&null!==(r=v.bb(e))&&(n.handled=!0,l.xa("Collapse/Expand Panel"),r.visible=!r.visible,l.Xa("Collapse/Expand Panel"))}},i}),pc("CheckBoxButton",function(t){var e=Yp(t);return(t=Pa("Button",{desiredSize:new De(14,14)},Pa(sr,{name:"ButtonIcon",geometryString:"M0 0 M0 8.85 L4.9 13.75 16.2 2.45 M16.2 16.2",strokeWidth:2,stretch:No,geometryStretch:wl,visible:!1},""!==e?new Ms("visible",e).Iy():[]))).click=function(i,n){if(n instanceof Xi){var r=i.diagram;if(!(null===r||r.isReadOnly||""!==e&&r.model.isReadOnly)){i.handled=!0;var l=n.bb("ButtonIcon");r.xa("checkbox"),l.visible=!l.visible,"function"==typeof n._doClick&&n._doClick(i,n),r.Xa("checkbox")}}},t}),pc("CheckBox",function(t){t=Pa("CheckBoxButton",t=Yp(t),{name:"Button",isActionable:!1,margin:new Je(0,1,0,0)});var e=Pa(Xi,"Horizontal",t,{isActionable:!0,cursor:t.cursor,margin:1,_buttonFillNormal:t._buttonFillNormal,_buttonStrokeNormal:t._buttonStrokeNormal,_buttonFillOver:t._buttonFillOver,_buttonStrokeOver:t._buttonStrokeOver,_buttonFillPressed:t._buttonFillPressed,_buttonStrokePressed:t._buttonStrokePressed,_buttonFillDisabled:t._buttonFillDisabled,mouseEnter:t.mouseEnter,mouseLeave:t.mouseLeave,actionDown:t.actionDown,actionUp:t.actionUp,actionCancel:t.actionCancel,actionMove:t.actionMove,click:t.click,_buttonClick:t.click});return t.mouseEnter=null,t.mouseLeave=null,t.actionDown=null,t.actionUp=null,t.actionCancel=null,t.actionMove=null,t.click=null,e}),jn.None=ho=new St(jn,"None",0),jn.Default=Ks=new St(jn,"Default",0),jn.Vertical=ua=new St(jn,"Vertical",4),jn.Horizontal=Yo=new St(jn,"Horizontal",5),jn.Fill=No=new St(jn,"Fill",3),jn.Uniform=wl=new St(jn,"Uniform",1),jn.UniformToFill=Hp=new St(jn,"UniformToFill",2),jn.FlipVertical=Uh=new St(jn,"FlipVertical",1),jn.FlipHorizontal=fc=new St(jn,"FlipHorizontal",2),jn.FlipBoth=Lc=new St(jn,"FlipBoth",3),jn.make=Pa,jn.getBuilders=function(){var e,t=new yt;for(e in Wp)if(e!==e.toLowerCase()){var i=Wp.G(e);"function"==typeof i&&t.add(e,i)}return t.freeze(),t},jn.defineBuilder=pc,jn.takeBuilderArgument=Yp,Kp.prototype.copy=function(){var t=new Kp;return t.Pf=this.Pf,t.Uf=this.Uf,t.Qf=this.Qf,t.hg=this.hg,t.kg=this.kg,t.lg=this.lg,t.jg=this.jg,t.ig=this.ig,t.$o=this.$o,t.ap=this.ap,t.gg=this.gg,t.gn=this.gn,t.hn=this.hn,t.jn=this.jn,t.fn=this.fn,t.wg=this.wg,t.Rf=this.Rf,t.Wn=this.Wn,t},Kp.className="GraphObjectEventHandlers",tp.prototype.copy=function(){var t=new tp;return t.Oa[0]=this.Oa[0],t.Oa[1]=this.Oa[1],t.Oa[2]=this.Oa[2],t.Oa[3]=this.Oa[3],t.Oa[4]=this.Oa[4],t.Oa[5]=this.Oa[5],t},tp.prototype.translate=function(t,e){this.Oa[4]+=this.Oa[0]*t+this.Oa[2]*e,this.Oa[5]+=this.Oa[1]*t+this.Oa[3]*e},tp.prototype.scale=function(t,e){this.Oa[0]*=t,this.Oa[1]*=t,this.Oa[2]*=e,this.Oa[3]*=e},tp.className="STransform",Sf.prototype.addColorStop=function(t,e){this.ay.push({offset:t,color:e})},Sf.className="SGradient",Zu.prototype.resize=function(t,e,i,n){return(this.width!==t||this.height!==e)&&(this.style.width=i+"px",this.style.height=n+"px",this.Ja.setAttributeNS(null,"width",i+"px"),this.Ja.setAttributeNS(null,"height",n+"px"),this.Ja.setAttributeNS(null,"viewBox","0 0 "+i+" "+n),this.context.Bx.firstElementChild.setAttributeNS(null,"width",i+"px"),this.context.Bx.firstElementChild.setAttributeNS(null,"height",n+"px"),!0)},Zu.prototype.Pb=function(t,e,i){if(t=this.ownerDocument.createElementNS(this.LA,t),xt(e))for(var n in e)t.setAttributeNS("href"===n?"http://www.w3.org/1999/xlink":"",n,e[n]);return void 0!==i&&(t.textContent=i),t},Zu.prototype.getBoundingClientRect=function(){return this.Ja.getBoundingClientRect()},Zu.prototype.focus=function(){this.Ja.focus()},Zu.prototype.ky=function(){this.ownerDocument=null},H.Object.defineProperties(Zu.prototype,{width:{get:function(){return this.Ja.width.baseVal.value},set:function(t){this.Ja.width=t}},height:{get:function(){return this.Ja.height.baseVal.value},set:function(t){this.Ja.height=t}},style:{get:function(){return this.Ja.style}}}),Zu.className="SVGSurface",(Q=Ef.prototype).arc=function(t,e,i,n,r,l,v,_){var D=2*Math.PI,O=D-1e-6,V=i*Math.cos(n),$=i*Math.sin(n),vt=t+V,kt=e+$,bt=l?0:1;n=l?n-r:r-n,(1e-6<Math.abs(v-vt)||1e-6<Math.abs(_-kt))&&this.path.push(["L",vt,+kt]),0>n&&(n=n%D+D),n>O?(this.path.push(["A",i,i,0,1,bt,t-V,e-$]),this.path.push(["A",i,i,0,1,bt,vt,kt])):1e-6<n&&this.path.push(["A",i,i,0,+(n>=Math.PI),bt,t+i*Math.cos(r),e+i*Math.sin(r)])},Q.beginPath=function(){this.path=[]},Q.bezierCurveTo=function(t,e,i,n,r,l){this.path.push(["C",t,e,i,n,r,l])},Q.clearRect=function(){},Q.clip=function(){this.addPath("clipPath",this.path,this.He)},Q.closePath=function(){this.path.push(["z"])},Q.createLinearGradient=function(t,e,i,n){var r=new Sf("linear");return r.x1=t,r.y1=e,r.x2=i,r.y2=n,r},Q.createPattern=function(t){var e="";t instanceof HTMLCanvasElement&&(e=t.toDataURL()),t instanceof HTMLImageElement&&(e=t.getAttribute("src"));var i=this.NA;if(i[e])return"url(#"+i[e]+")";var n="PATTERN"+_e++,r={x:0,y:0,width:t.width,height:t.height,href:e};return(t=this.Pb("pattern",{width:t.width,height:t.height,id:n,patternUnits:"userSpaceOnUse"})).appendChild(this.Pb(wf,r)),this.svg.appendChild(t),i[e]=n,"url(#"+n+")"},Q.createRadialGradient=function(t,e,i,n,r,l){var v=new Sf("radial");return v.x1=t,v.y1=e,v.r1=i,v.x2=n,v.y2=r,v.r2=l,v},Q.drawImage=function(t,e,i,n,r,l,v,_,D){var O="";t instanceof HTMLCanvasElement&&(O=t.toDataURL()),t instanceof HTMLImageElement&&(O=t.getAttribute("src"));var V=t instanceof HTMLImageElement?t.naturalWidth:t.width,$=t instanceof HTMLImageElement?t.naturalHeight:t.height;void 0===n&&(l=e,v=i,_=n=V,D=r=$),n=n||0,r=r||0,l=l||0,v=v||0,D=D||0,t={x:0,y:0,width:V||n,height:$||r,href:O},ti.aa(n,_=_||0)&&ti.aa(r,D)?-1===O.toLowerCase().indexOf(".svg")&&-1===O.toLowerCase().indexOf("data:image/svg")&&(t.preserveAspectRatio="xMidYMid slice"):t.preserveAspectRatio="none",O="",D/=r,(0!==l||0!==v)&&(O+=" translate("+l+", "+v+")"),(1!=(_/=n)||1!==D)&&(O+=" scale("+_+", "+D+")"),(0!==e||0!==i)&&(O+=" translate("+-e+", "+-i+")"),(0!==e||0!==i||n!==V||r!==$)&&(l="CLIP"+_e++,(v=this.Pb("clipPath",{id:l})).appendChild(this.Pb("rect",{x:e,y:i,width:n,height:r})),this.svg.appendChild(v),t["clip-path"]="url(#"+l+")"),rd(this,wf,t,this.He,O),this.addElement(wf,t)},Q.fill=function(){this.addPath("fill",this.path,this.He)},Q.Je=function(){this.clipInsteadOfFill?this.clip():this.fill()},Q.fillRect=function(t,e,i,n){rd(this,"fill",t={x:(t=[t,e,i,n])[0],y:t[1],width:t[2],height:t[3]},this.He),this.addElement("rect",t)},Q.fillText=function(t,e,i){t=[t,e,i],"left"===(e=this.textAlign)?e="start":"right"===e?e="end":"center"===e&&(e="middle"),rd(this,"fill",e={x:t[1],y:t[2],style:"font: "+this.font,"text-anchor":e},this.He),this.addElement("text",e,t[0])},Q.lineTo=function(t,e){this.path.push(["L",t,e])},Q.moveTo=function(t,e){this.path.push(["M",t,e])},Q.quadraticCurveTo=function(t,e,i,n){this.path.push(["Q",t,e,i,n])},Q.rect=function(t,e,i,n){this.path.push(["M",t,e],["L",t+i,e],["L",t+i,e+n],["L",t,e+n],["z"])},Q.restore=function(){this.He=this.stack.pop(),this.path=this.stack.pop();var t=this.stack.pop();this.fillStyle=t.fillStyle,this.font=t.font,this.globalAlpha=t.globalAlpha,this.lineCap=t.lineCap,this.lineDashOffset=t.lineDashOffset,this.lineJoin=t.lineJoin,this.lineWidth=t.lineWidth,this.miterLimit=t.miterLimit,this.shadowBlur=t.shadowBlur,this.shadowColor=t.shadowColor,this.shadowOffsetX=t.shadowOffsetX,this.shadowOffsetY=t.shadowOffsetY,this.strokeStyle=t.strokeStyle,this.textAlign=t.textAlign},Q.save=function(){this.stack.push({fillStyle:this.fillStyle,font:this.font,globalAlpha:this.globalAlpha,lineCap:this.lineCap,lineDashOffset:this.lineDashOffset,lineJoin:this.lineJoin,lineWidth:this.lineWidth,miterLimit:this.miterLimit,shadowBlur:this.shadowBlur,shadowColor:this.shadowColor,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,strokeStyle:this.strokeStyle,textAlign:this.textAlign});for(var t=[],e=0;e<this.path.length;e++)t.push(this.path[e]);this.stack.push(t),this.stack.push(this.He.copy())},Q.setTransform=function(t,e,i,n,r,l){1===t&&0===e&&0===i&&1===n&&0===r&&0===l||wu(this,t,e,i,n,r,l)},Q.scale=function(t,e){this.He.scale(t,e)},Q.translate=function(t,e){this.He.translate(t,e)},Q.transform=function(){},Q.stroke=function(){this.addPath("stroke",this.path,this.He)},Q.vj=function(){this.clipInsteadOfFill||this.stroke()},Q.Pb=function(t,e,i){return this.nu.Pb(t,e,i)},Q.addElement=function(t,e,i){return t=this.Pb(t,e,i),0<this.gd.length?this.gd[this.gd.length-1].appendChild(t):this.svg.appendChild(t),this.Wt=t},Q.addPath=function(t,e,i){for(var n=[],r=0;r<e.length;r++){var l=Tt(e[r]),v=[l.shift()];if("A"===v[0])v.push(l.shift()+","+l.shift(),l.shift(),l.shift()+","+l.shift(),l.shift()+","+l.shift());else for(;l.length;)v.push(l.shift()+","+l.shift());n.push(v.join(" "))}e={d:n.join(" ")},"stroke"===t&&this.Vu&&(e["stroke-dasharray"]=this.uh.toString(),e["stroke-dashoffset"]=this.vh),rd(this,t,e,i),"clipPath"===t?(t="CLIP"+_e++,(i=this.Pb("clipPath",{id:t})).appendChild(this.Pb("path",e)),this.svg.appendChild(i),0<this.gd.length&&this.gd[this.gd.length-1].setAttributeNS(null,"clip-path","url(#"+t+")")):this.addElement("path",e)},Q.Ym=function(t){if(0!==this.shadowOffsetX||0!==this.shadowOffsetY||0!==this.shadowBlur){var e="SHADOW"+_e++,i=this.addElement("filter",{id:e,x:"-100%",y:"-100%",width:"300%",height:"300%"},null),n=t.computePixelRatio();t=this.Pb("feGaussianBlur",{in:"SourceAlpha",result:"blur",stdDeviation:this.shadowBlur/2/n});var r=this.Pb("feFlood",{in:"blur",result:"flood","flood-color":this.shadowColor}),l=this.Pb("feComposite",{in:"flood",in2:"blur",operator:"in",result:"comp"});n=this.Pb("feOffset",{in:"comp",result:"offsetBlur",dx:this.shadowOffsetX/n,dy:this.shadowOffsetY/n});var v=this.Pb("feMerge",{});v.appendChild(this.Pb("feMergeNode",{in:"offsetBlur"})),v.appendChild(this.Pb("feMergeNode",{in:"SourceGraphic"})),i.appendChild(t),i.appendChild(r),i.appendChild(l),i.appendChild(n),i.appendChild(v),0<this.gd.length&&this.gd[this.gd.length-1].setAttributeNS(null,"filter","url(#"+e+")")}},Q.Iw=function(t,e,i){this.et=t,this.ft=e,this.ug=i},Q.Ft=function(t,e){this.Vu=!0,this.uh=t,this.vh=e},Q.Dt=function(){this.Vu=!1},Q.uc=function(){},Q.Sy=function(){},Ef.prototype.rotate=function(){},Ef.prototype.getImageData=function(){return null},Ef.prototype.measureText=function(){return null},Ef.className="SVGContext",di.prototype.makeSvg=di.prototype.$t=function(t){var e=new Zu(this,B.document);void 0===t&&(t=new Vt);var i=this;return ac(this,function(n,r){return n=null!==(n=km(i,n,"SVG",e))?n.svg:null,"function"==typeof r?(r(n),null):n},t)},di.prototype.makeSVG=di.prototype.iw=function(t){return this.$t(t)},jn.prototype.ly=function(t,e){if(!(t instanceof Ef))return!1;if(!this.visible)return!0;var i=null,n=t.Wt;if(this instanceof Xi&&(this.type===Xi.TableRow||this.type===Xi.TableColumn))return Sa(this,t,e),!0;var r=this.xb;if(0===r.width||0===r.height||isNaN(r.x)||isNaN(r.y))return!0;var l=this.transform,v=this.panel;0!=(4096&this.F)&&$0(this);var _=0!=(256&this.F);t.clipInsteadOfFill&&(_=!1);var D=!1;if(this instanceof Br&&(t.font=this.font),_){if(D=v.he()?v.naturalBounds:v.actualBounds,null!==this.Za){var O=this.Za,V=O.x,$=O.y,vt=O.width;O=O.height}else V=Math.max(r.x,D.x),$=Math.max(r.y,D.y),vt=Math.min(r.right,D.right)-V,O=Math.min(r.bottom,D.bottom)-$;if(V>r.width+r.x||r.x>D.width+D.x||$>r.height+r.y||r.y>D.height+D.y)return!0;D=!0,wu(t,1,0,0,1,0,0),t.save(),t.beginPath(),t.rect(V,$,vt,O),t.clip()}if(this.Ff()&&!this.isVisible())return!0;if(t.He.Oa=[1,0,0,1,0,0],(this instanceof Br&&1<this.lineCount||this instanceof sr&&1<this.geometry.figures.length)&&wu(t,1,0,0,1,0,0),V=!1,this.Ff()&&this.isShadowed&&e.Ke("drawShadows")&&(t.Iw(($=this.shadowOffset).x*e.scale*e.Tb,$.y*e.scale*e.Tb,this.shadowBlur),mc(t),t.shadowColor=this.shadowColor),$=!1,this.part&&e.Ke("drawShadows")&&($=this.part.isShadowed),t.clipInsteadOfFill&&($=!1),!0===this.shadowVisible?(mc(t),!1===V&&$&&(wu(t,1,0,0,1,0,0),t.Ym(e),V=!0)):!1===this.shadowVisible&&qu(t),vt=this.naturalBounds,null!==this.areaBackground&&(Wa(this,t,this.areaBackground,!0,!0,vt,r),!1===V&&$&&(wu(t,1,0,0,1,0,0),t.Ym(e),V=!0),this.areaBackground instanceof Fr&&this.areaBackground.type===Os?(t.beginPath(),t.rect(r.x,r.y,r.width,r.height),t.Je(this.areaBackground)):t.fillRect(r.x,r.y,r.width,r.height)),this instanceof Xi?wu(t,l.m11,l.m12,l.m21,l.m22,l.dx,l.dy):(t.He.Oa=[l.m11,l.m12,l.m21,l.m22,l.dx,l.dy],!1===V&&$&&(wu(t,1,0,0,1,0,0),t.Ym(e),V=!0)),null!==this.background){!1===V&&$&&(wu(t,1,0,0,1,0,0),t.Ym(e),V=!0);var kt=this.naturalBounds;O=l=0;var bt=kt.width;kt=kt.height;var Wt=0;this instanceof sr&&(l=(kt=this.geometry.bounds).x,O=kt.y,bt=kt.width,kt=kt.height,Wt=this.strokeWidth),Wa(this,t,this.background,!0,!1,vt,r),this.background instanceof Fr&&this.background.type===Os?(t.beginPath(),t.rect(l-Wt/2,O-Wt/2,bt+Wt,kt+Wt),t.Je(this.background)):t.fillRect(l-Wt/2,O-Wt/2,bt+Wt,kt+Wt)}return $&&(null!==this.background||null!==this.areaBackground||null!==v&&0!=(512&v.F)||null!==v&&(v.type===Xi.Auto||v.type===Xi.Spot)&&v.tb()!==this)?(Om(this,!0),null===this.shadowVisible&&qu(t)):Om(this,!1),this.ej(t,e),$&&0!=(512&this.F)&&mc(t),this.Ff()&&$&&qu(t),_&&(t.restore(),D&&t.gd.pop()),this instanceof Xi&&(i=t.gd.pop()),!0===V&&t.gd.pop(),(this instanceof Br&&1<this.lineCount||this instanceof sr&&1<this.geometry.figures.length)&&(i=t.gd.pop()),null!==t.nu.Dq&&(null===i&&(n===t.Wt?(wu(t,1,0,0,1,0,0),i=t.gd.pop()):i=t.Wt),t.nu.Dq(this,i)),this.svg=i,!0},tu.prototype.resize=function(t,e,i,n){return(this.width!==t||this.height!==e)&&(this.width=t,this.height=e,this.style.width=i+"px",this.style.height=n+"px",!0)},tu.prototype.toDataURL=function(t,e){return this.Ja.toDataURL(t,e)},tu.prototype.getBoundingClientRect=function(){return this.Ja.getBoundingClientRect()},tu.prototype.focus=function(){this.Ja.focus()},tu.prototype.ky=function(){this.ownerDocument=this.Ja.B=null},H.Object.defineProperties(tu.prototype,{width:{get:function(){return this.Ja.width},set:function(t){this.Ja.width=t}},height:{get:function(){return this.Ja.height},set:function(t){this.Ja.height=t}},style:{get:function(){return this.Ja.style}}}),tu.className="CanvasSurface",(Q=Nc.prototype).Sy=function(t){this.Y.imageSmoothingEnabled=t},Q.arc=function(t,e,i,n,r,l){this.Y.arc(t,e,i,n,r,l)},Q.beginPath=function(){this.Y.beginPath()},Q.bezierCurveTo=function(t,e,i,n,r,l){this.Y.bezierCurveTo(t,e,i,n,r,l)},Q.clearRect=function(t,e,i,n){this.Y.clearRect(t,e,i,n)},Q.clip=function(){this.Y.clip()},Q.closePath=function(){this.Y.closePath()},Q.createLinearGradient=function(t,e,i,n){return this.Y.createLinearGradient(t,e,i,n)},Q.createPattern=function(t,e){return this.Y.createPattern(t,e)},Q.createRadialGradient=function(t,e,i,n,r,l){return this.Y.createRadialGradient(t,e,i,n,r,l)},Q.drawImage=function(t,e,i,n,r,l,v,_,D){void 0===n?this.Y.drawImage(t,e,i):this.Y.drawImage(t,e,i,n,r,l,v,_,D)},Q.fill=function(){this.Y.fill()},Q.fillRect=function(t,e,i,n){this.Y.fillRect(t,e,i,n)},Q.fillText=function(t,e,i){this.Y.fillText(t,e,i)},Q.getImageData=function(t,e,i,n){return this.Y.getImageData(t,e,i,n)},Q.lineTo=function(t,e){this.Y.lineTo(t,e)},Q.measureText=function(t){return this.Y.measureText(t)},Q.moveTo=function(t,e){this.Y.moveTo(t,e)},Q.quadraticCurveTo=function(t,e,i,n){this.Y.quadraticCurveTo(t,e,i,n)},Q.rect=function(t,e,i,n){this.Y.rect(t,e,i,n)},Q.restore=function(){this.Y.restore()},Nc.prototype.rotate=function(t){this.Y.rotate(t)},(Q=Nc.prototype).save=function(){this.Y.save()},Q.setTransform=function(t,e,i,n,r,l){this.Y.setTransform(t,e,i,n,r,l)},Q.scale=function(t,e){this.Y.scale(t,e)},Q.stroke=function(){this.Y.stroke()},Q.transform=function(t,e,i,n,r,l){1===t&&0===e&&0===i&&1===n&&0===r&&0===l||this.Y.transform(t,e,i,n,r,l)},Q.translate=function(t,e){this.Y.translate(t,e)},Q.Je=function(t){if(t instanceof Fr&&t.type===Os){var e=t.gl;(t=t.Au)>e?(this.scale(e/t,1),this.translate((t-e)/2,0)):e>t&&(this.scale(1,t/e),this.translate(0,(e-t)/2)),this.yn?this.clip():this.fill(),t>e?(this.translate(-(t-e)/2,0),this.scale(1/(e/t),1)):e>t&&(this.translate(0,-(e-t)/2),this.scale(1,1/(t/e)))}else this.yn?this.clip():this.fill()},Q.vj=function(){this.yn||this.stroke()},Q.Iw=function(t,e,i){this.et=t,this.ft=e,this.ug=i},Q.Ft=function(t,e){var i=this.Y;void 0!==i.setLineDash&&(i.setLineDash(t),i.lineDashOffset=e)},Q.Dt=function(){var t=this.Y;void 0!==t.setLineDash&&(t.setLineDash(Xp),t.lineDashOffset=0)},Q.uc=function(t){t&&(this.yu=""),this.xu=this.zu=""},H.Object.defineProperties(Nc.prototype,{fillStyle:{get:function(){return this.Y.fillStyle},set:function(t){this.xu!==t&&(this.xu=this.Y.fillStyle=t)}},font:{get:function(){return this.Y.font},set:function(t){this.yu!==t&&(this.yu=this.Y.font=t)}},globalAlpha:{get:function(){return this.Y.globalAlpha},set:function(t){this.Y.globalAlpha=t}},lineCap:{get:function(){return this.Y.lineCap},set:function(t){this.Y.lineCap=t}},lineDashOffset:{get:function(){return this.Y.lineDashOffset},set:function(t){this.Y.lineDashOffset=t}},lineJoin:{get:function(){return this.Y.lineJoin},set:function(t){this.Y.lineJoin=t}},lineWidth:{get:function(){return this.Y.lineWidth},set:function(t){this.Y.lineWidth=t}},miterLimit:{get:function(){return this.Y.miterLimit},set:function(t){this.Y.miterLimit=t}},shadowBlur:{get:function(){return this.Y.shadowBlur},set:function(t){this.Y.shadowBlur=t}},shadowColor:{get:function(){return this.Y.shadowColor},set:function(t){this.Y.shadowColor=t}},shadowOffsetX:{get:function(){return this.Y.shadowOffsetX},set:function(t){this.Y.shadowOffsetX=t}},shadowOffsetY:{get:function(){return this.Y.shadowOffsetY},set:function(t){this.Y.shadowOffsetY=t}},strokeStyle:{get:function(){return this.Y.strokeStyle},set:function(t){this.zu!==t&&(this.zu=this.Y.strokeStyle=t)}},textAlign:{get:function(){return this.Y.textAlign},set:function(t){this.Y.textAlign=t}},imageSmoothingEnabled:{get:function(){return this.Y.imageSmoothingEnabled},set:function(t){this.Y.imageSmoothingEnabled=t}},clipInsteadOfFill:{get:function(){return this.yn},set:function(t){this.yn=t}}});var Xp=Object.freeze([]);function ep(){this.T=this.u=this.I=this.l=0}function Fr(t){jc||(ip(),jc=!0),Se(this),this.v=!1,void 0===t?(this.qa=Ea,this.fl="black"):"string"==typeof t?(this.qa=Ea,this.fl=t):(this.qa=t,this.fl="black"),(t=this.qa)===sl?(this.Dd=so,this.sl=js):this.sl=this.Dd=t===Os?ar:xr,this.jt=0,this.Vr=NaN,this.ke=this.Ks=this.je=null,this.Au=this.gl=0}function Fc(t,e,i){return e=void 0===e||"number"!=typeof e?.2:e,i=void 0===i?zc:i,jl(t),sd(e,i)}function Df(t,e,i){return e=void 0===e||"number"!=typeof e?.2:e,i=void 0===i?zc:i,jl(t),sd(-e,i)}function od(t,e,i){jl(t),t=Wr.l;var n=Wr.I,r=Wr.u,l=Wr.T;return jl(e),void 0===i&&(i=.5),"rgba("+Math.round((Wr.l-t)*i+t)+", "+Math.round((Wr.I-n)*i+n)+", "+Math.round((Wr.u-r)*i+r)+", "+Math.round((Wr.T-l)*i+l)+")"}function ol(t){return!!t&&(t instanceof Fr?t.Fy():(jl(t),128>(299*Wr.l+587*Wr.I+114*Wr.u)/1e3))}function sd(t,e){switch(e){case zc:e=100*zl(Wr.l);var i=100*zl(Wr.I),n=100*zl(Wr.u);return ha.l=.4124564*e+.3575761*i+.1804375*n,ha.I=.2126729*e+.7151522*i+.072175*n,ha.u=.0193339*e+.119192*i+.9503041*n,ha.T=Wr.T,e=Zp(ha.l/Vc[0]),i=Zp(ha.I/Vc[1]),n=Zp(ha.u/Vc[2]),Ra.l=116*i-16,Ra.I=500*(e-i),Ra.u=200*(i-n),Ra.T=ha.T,Ra.l=Math.min(100,Math.max(0,Ra.l+100*t)),e=(t=(Ra.l+16)/116)-Ra.u/200,ha.l=Vc[0]*qp(Ra.I/500+t),ha.I=Vc[1]*(Ra.l>Jp*X0?Math.pow(t,3):Ra.l/Jp),ha.u=Vc[2]*qp(e),ha.T=Ra.T,t=-.969266*ha.l+1.8760108*ha.I+.041556*ha.u,e=.0556434*ha.l+-.2040259*ha.I+1.0572252*ha.u,Wr.l=255*Fu((3.2404542*ha.l+-1.5371385*ha.I+-.4985314*ha.u)/100),Wr.I=255*Fu(t/100),Wr.u=255*Fu(e/100),Wr.T=ha.T,Wr.l=Math.round(Wr.l),255<Wr.l?Wr.l=255:0>Wr.l&&(Wr.l=0),Wr.I=Math.round(Wr.I),255<Wr.I?Wr.I=255:0>Wr.I&&(Wr.I=0),Wr.u=Math.round(Wr.u),255<Wr.u?Wr.u=255:0>Wr.u&&(Wr.u=0),"rgba("+Wr.l+", "+Wr.I+", "+Wr.u+", "+Wr.T+")";case ad:return Af(),bl.u=Math.min(100,Math.max(0,bl.u+100*t)),"hsla("+bl.l+", "+bl.I+"%, "+bl.u+"%, "+bl.T+")";default:return U("Unknown color space: "+e),"rgba(0, 0, 0, 1)"}}function jl(t){jc||(ip(),jc=!0);var e=Gh;if(null!==e){e.clearRect(0,0,1,1),e.fillStyle="#000000";var i=e.fillStyle;e.fillStyle=t,e.fillStyle!==i?(e.fillRect(0,0,1,1),t=e.getImageData(0,0,1,1).data,Wr.l=t[0],Wr.I=t[1],Wr.u=t[2],Wr.T=t[3]/255):(e.fillStyle="#FFFFFF",e.fillStyle=t,Wr.l=0,Wr.I=0,Wr.u=0,Wr.T=1)}}function Af(){var t=Wr.l/255,e=Wr.I/255,i=Wr.u/255,n=Math.max(t,e,i),r=Math.min(t,e,i),l=n-r;if(r=(n+r)/2,0===l)var v=t=0;else{switch(n){case t:v=(e-i)/l%6;break;case e:v=(i-t)/l+2;break;case i:v=(t-e)/l+4}0>(v*=60)&&(v+=360),t=l/(1-Math.abs(2*r-1))}bl.l=Math.round(v),bl.I=Math.round(100*t),bl.u=Math.round(100*r),bl.T=Wr.T}function zl(t){return.04045>=(t/=255)?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Fu(t){return.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055}function Zp(t){return t>X0?Math.pow(t,1/3):(Jp*t+16)/116}function qp(t){var e=t*t*t;return e>X0?e:(116*t-16)/Jp}function Bc(t,e){"string"!=typeof t&&(t instanceof Fr||U("Value for "+e+" must be a color string or a Brush, not "+t))}function ip(){Gh=va?new tu(null).context:null}Nc.className="CanvasSurfaceContext",ep.className="ColorNumbers",Fr.prototype.copy=function(){var t=new Fr;return t.qa=this.qa,t.fl=this.fl,t.Dd=this.Dd.H(),t.sl=this.sl.H(),t.jt=this.jt,t.Vr=this.Vr,null!==this.je&&(t.je=this.je.copy()),t.Ks=this.Ks,t},(Q=Fr.prototype).freeze=function(){return this.v=!0,null!==this.je&&this.je.freeze(),this},Q.ea=function(){return Object.isFrozen(this)&&U("cannot thaw constant: "+this),this.v=!1,null!==this.je&&this.je.ea(),this},Q.jb=function(t){t.classType===Fr&&(this.type=t)},Q.toString=function(){var t="Brush(";if(this.type===Ea)t+=this.color;else if(t=this.type===sl?t+"Linear ":this.type===Os?t+"Radial ":this.type===al?t+"Pattern ":t+"(unknown) ",t+=this.start+" "+this.end,null!==this.colorStops)for(var e=this.colorStops.iterator;e.next();)t+=" "+e.key+":"+e.value;return t+")"},Q.addColorStop=function(t,e){return this.v&&it(this),("number"!=typeof t||!isFinite(t)||1<t||0>t)&&ot(t,"0 <= loc <= 1",Fr,"addColorStop:loc"),null===this.je&&(this.je=new yt),this.je.add(t,e),this.qa===Ea&&(this.type=sl),this.ke=null,this},Q.FA=function(t,e){if(this.v&&it(this),t=void 0===t||"number"!=typeof t?.2:t,e=void 0===e?zc:e,this.type===Ea)jl(this.color),this.color=sd(t,e);else if((this.type===sl||this.type===Os)&&null!==this.colorStops)for(var i=this.colorStops.iterator;i.next();)jl(i.value),this.addColorStop(i.key,sd(t,e));return this},Q.Iz=function(t,e){if(this.v&&it(this),t=void 0===t||"number"!=typeof t?.2:t,e=void 0===e?zc:e,this.type===Ea)jl(this.color),this.color=sd(-t,e);else if((this.type===sl||this.type===Os)&&null!==this.colorStops)for(var i=this.colorStops.iterator;i.next();)jl(i.value),this.addColorStop(i.key,sd(-t,e));return this},Q.Fy=function(){if(this.type===Ea)return ol(this.color);if((this.type===sl||this.type===Os)&&null!==this.colorStops){var t=this.colorStops;if(this.type===Os)return ol(t.first().value);if(null!==t.get(.5))return ol(t.get(.5));if(2===t.count)return ol(od((t=t.ma())[0].value,t[1].value));for(var e=t.iterator,i=-1,n=-1,r=1,l=1;e.next();){var v=e.key,_=Math.abs(.5-e.key);r>l&&_<r?(i=v,r=_):l>=r&&_<l&&(n=v,l=_)}return i>n&&(l=i,i=n,n=l,l=r),r=n-i,ol(od(t.get(i),t.get(n),1-l/r))}return!1},H.Object.defineProperties(Fr.prototype,{type:{get:function(){return this.qa},set:function(t){this.v&&it(this,t),this.qa=t,this.start.nc()&&(t===sl?this.start=so:t===Os&&(this.start=ar)),this.end.nc()&&(t===sl?this.end=js:t===Os&&(this.end=ar)),this.ke=null}},color:{get:function(){return this.fl},set:function(t){this.v&&it(this,t),this.fl=t,this.ke=null}},start:{get:function(){return this.Dd},set:function(t){this.v&&it(this,t),this.Dd=t.H(),this.ke=null}},end:{get:function(){return this.sl},set:function(t){this.v&&it(this,t),this.sl=t.H(),this.ke=null}},startRadius:{get:function(){return this.jt},set:function(t){this.v&&it(this,t),0>t&&ot(t,">= zero",Fr,"startRadius"),this.jt=t,this.ke=null}},endRadius:{get:function(){return this.Vr},set:function(t){this.v&&it(this,t),0>t&&ot(t,">= zero",Fr,"endRadius"),this.Vr=t,this.ke=null}},colorStops:{get:function(){return this.je},set:function(t){this.v&&it(this,t),this.je=t,this.ke=null}},pattern:{get:function(){return this.Ks},set:function(t){this.v&&it(this,t),this.Ks=t,this.ke=null}}}),Fr.prototype.isDark=Fr.prototype.Fy,Fr.prototype.darkenBy=Fr.prototype.Iz,Fr.prototype.lightenBy=Fr.prototype.FA,Fr.prototype.addColorStop=Fr.prototype.addColorStop;var Ea,sl,Os,al,zc,ad,X0=216/24389,Jp=24389/27,Vc=[95.047,100,108.883],Gh=null,Wr=new ep,bl=new ep,ha=new ep,Ra=new ep,jc=!1;function Is(){this.oa="Base"}function np(){this.oa="Base"}function Uc(){this.oa="Base"}function Hc(){this.oa="Base"}function gc(){this.oa="Base"}function Z0(){this.oa="Base"}function Gc(){this.oa="Base",this.name="Table"}function rp(){this.oa="Base"}function Qp(){this.oa="Base"}function q0(){this.oa="Base"}function ld(){this.oa="Base"}function J0(t,e,i,n){if(0>e)return t%e===i;if(t%e!==i)return!1;e=n.length;for(var r=0;r<e;r++)if(t%n[r]===i)return!1;return!0}function t0(){this.oa="Base"}function xg(t,e,i,n){if(!1!==Ps(n)){var r=n.strokeWidth;0===r&&t instanceof Ji&&t.type===Xi.Link&&t.adornedObject instanceof sr&&(r=t.adornedObject.strokeWidth),r*=n.Aa,t instanceof Bi&&null!==t.na?nl(n,(t=t.na.bounds).x-r/2,t.y-r/2,t.width+r,t.height+r):t instanceof Ji&&null!==t.adornedPart.na?nl(n,(t=t.adornedPart.na.bounds).x-r/2,t.y-r/2,t.width+r,t.height+r):nl(n,-r/2,-r/2,e+r,i+r),rl(n,!1)}}function e0(){this.oa="Base"}function Xi(t){jn.call(this),this.qa=void 0===t?Xi.Position:t,null===this.qa&&U("Panel type not specified or PanelLayout not loaded: "+t),this.W=new zt,this.ib=nr,this.qa===Xi.Grid&&(this.isAtomic=!0),this.Mn=us,this.Sf=Ks,this.qa===Xi.Table&&wg(this),this.pq=wl,this.no=Zt,this.oo=je,this.ko=0,this.jo=100,this.mo=10,this.lo=0,this.li=this.ob=this.eh=this.dh=this.Mj=null,this.Do=NaN,this.te=this.Ci=null,this.Jl="category",this.Zd=null,this.xg=new he(NaN,NaN,NaN,NaN),this.zh=this.Lp=this.Ui=null,this.Lg=""}function wg(t){t.Fj=nr,t.Ug=1,t.si=null,t.ri=null,t.Tg=1,t.Sg=null,t.pi=null,t.qb=[],t.nb=[],t.dk=sp,t.Cj=sp,t.Xi=0,t.Gi=0}function Q0(t,e,i,n){for(var r=n.length,l=t.actualBounds,v=t.naturalBounds,_=!0,D=0;D<r;D++){var O=n[D];if(void 0!==O)if(_)_=!1;else if(0!==O.actual){if(i){if(O.position>l.height)continue}else if(O.position>l.width)continue;var V=O.separatorStrokeWidth;isNaN(V)&&(V=i?t.Ug:t.Tg);var $=O.separatorStroke;if(null===$&&($=i?t.si:t.Sg),0!==V&&null!==$){Wa(t,e,$,!1,!1,v,l),$=!1;var vt=O.separatorDashArray;null===vt&&(vt=i?t.ri:t.pi),null!==vt&&($=!0,e.Ft(vt,0)),e.beginPath(),vt=O.position+V,i?vt>l.height&&(V-=vt-l.height):vt>l.width&&(V-=vt-l.width),O=O.position+V/2,e.lineWidth=V,V=t.ib,i?(vt=l.width-V.right,e.moveTo(V.left,O+=V.top),e.lineTo(vt,O)):(vt=l.height-V.bottom,e.moveTo(O+=V.left,V.top),e.lineTo(O,vt)),e.stroke(),$&&e.Dt()}}}}function vc(t,e,i,n,r){for(var l=n.length,v=t.actualBounds,_=t.naturalBounds,D=0;D<l;D++){var O=n[D];if(void 0!==O&&null!==O.background&&O.coversSeparators!==r&&0!==O.actual){var V=i?v.height:v.width;if(!(O.position>V)){var $=O.wc(),vt=O.separatorStrokeWidth;isNaN(vt)&&(vt=i?t.Ug:t.Tg);var kt=O.separatorStroke;null===kt&&(kt=i?t.si:t.Sg),null===kt&&(vt=0),$-=vt,(vt=O.position+vt)+($+=O.actual)>V&&($=V-vt),0>=$||(V=t.ib,Wa(t,e,O.background,!0,!1,_,v),i?e.fillRect(V.left,vt+V.top,v.width-(V.left+V.right),$):e.fillRect(vt+V.left,V.top,$,v.height-(V.top+V.bottom)))}}}}function yc(t){return"LineV"===t||"BarV"===t}function Ju(t){return null!==t.part?t.part.locationObject:null}function wh(t,e){ll(t,t,e)}function ll(t,e,i){i(e);for(var n=(e=e.W.j).length,r=0;r<n;r++){var l=e[r];l instanceof Xi&&ll(t,l,i)}}function _g(t,e){Yh(t,t,e)}function Yh(t,e,i){if(i(e),e instanceof Xi)for(var n=(e=e.W.j).length,r=0;r<n;r++)Yh(t,e[r],i)}function Wh(t,e,i){if(i(e))return e;if(e instanceof Xi)for(var n=(e=e.W.j).length,r=0;r<n;r++){var l=Wh(t,e[r],i);if(null!==l)return l}return null}function Im(t){for(var e=(t=t.W.j).length,i=0,n=0;n<e;n++){var r=t[n];r instanceof Xi?i=Math.max(i,Im(r)):r instanceof sr&&(i=Math.max(i,r.wh/2*r.gk*r.Af()))}return i}function tm(t,e,i,n){for(var r=t.W.j,l=r.length;l--;){var v=r[l];if(v.visible){var _=v.actualBounds,D=t.naturalBounds;_.x>D.width||_.y>D.height||0>_.x+_.width||0>_.y+_.height||(v instanceof Xi&&tm(v,e,i,n),null!==e&&(v=e(v)),null===v||null!==i&&!i(v)||n.add(v))}}}function Rm(t){var e=null;return t instanceof sr&&((e=t.spot1)===us&&(e=null),null!==(t=t.geometry)&&null===e&&(e=t.spot1)),null===e&&(e=Hr),e}function ud(t){var e=null;return t instanceof sr&&((e=t.spot2)===us&&(e=null),null!==(t=t.geometry)&&null===e&&(e=t.spot2)),null===e&&(e=Zo),e}function n0(t,e){t.F=e?16777216|t.F:-16777217&t.F}function em(t,e,i){var n=t.qb;if(n&&!(0>e)){if(n[e]=i instanceof rs?i:void 0,!i)for(e=n.length-1;0<=e&&void 0===n[e--];)n.length--;t.s()}}function Lm(t,e,i){var n=t.nb;if(n&&!(0>e)){if(n[e]=i instanceof rs?i:void 0,!i)for(e=n.length-1;0<=e&&void 0===n[e--];)n.length--;t.s()}}function bg(t){return null!==(t=t.li)&&t.v}function ul(t){var e=t.li;if(null===e)null!==t.data&&U("Template cannot have .data be non-null: "+t),t.li=e=new zt;else if(e.v)return;var i=new zt;n0(t,!1),t.an(t,function(O,V){var $=V.fb;if(null!==$)for(uv(V,!1),$=$.iterator;$.next();){var vt=$.value;vt.mode===mv&&uv(V,!0);var kt=vt.sourceName;null!==kt&&("/"===kt&&n0(O,!0),null!==(kt=o1(vt,O,V))&&(i.add(kt),null===kt.im&&(kt.im=new zt),kt.im.add(vt))),e.add(vt)}if(V instanceof Xi&&V.type===Xi.Table){if(0<V.qb.length)for($=(O=V.qb).length,vt=0;vt<$;vt++)if(void 0!==(kt=O[vt])&&null!==kt.fb)for(var bt=kt.fb.iterator;bt.next();){var Wt=bt.value;Wt.pd=kt,Wt.hq=2,Wt.om=kt.index,e.add(Wt)}if(0<V.nb.length)for(O=(V=V.nb).length,$=0;$<O;$++)if(void 0!==(vt=V[$])&&null!==vt.fb)for(kt=vt.fb.iterator;kt.next();)(bt=kt.value).pd=vt,bt.hq=1,bt.om=vt.index,e.add(bt)}});for(var n=i.iterator;n.next();){var r=n.value;if(null!==r.im){uv(r,!0);for(var l=r.im.iterator;l.next();){var v=l.value;null===r.fb&&(r.fb=new zt),r.fb.add(v)}}r.im=null}for(n=e.iterator;n.next();)if(null!==(l=(r=n.value).pd)){r.pd=null;var _=r.targetProperty,D=_.indexOf(".");0<D&&l instanceof Xi&&(v=_.substring(0,D),_=_.substr(D+1),null!==(D=l.bb(v))?(l=D,r.targetProperty=_):lt('Warning: unable to find GraphObject named "'+v+'" for Binding: '+r.toString())),l instanceof rs?(v=Ge(l.panel),r.wj=void 0===v?-1:v,l.panel.dl=r.wj):l instanceof jn?(v=Ge(l),r.wj=void 0===v?-1:v,l.dl=r.wj):U("Unknown type of binding target: "+l)}e.freeze(),t instanceof qt&&t.Nc()&&t.Ta()}function hd(t){if(t.type===Xi.Spot||t.type===Xi.Auto)return Math.min(t.W.length,1);if(t.type===Xi.Link){for(var e=(t=t.W).length,i=0;i<e;i++){var n=t.J(i);if(!(n instanceof sr&&n.isPanelMain))break}return i}return t.type===Xi.Table&&0<t.W.length&&(t=t.W.J(0)).isPanelMain&&t instanceof Xi&&(t.type===Xi.TableRow||t.type===Xi.TableColumn)?1:0}function op(t,e,i){if(!(null==e||0>i)){var n=function(t,e){if(null===e)return"";if("function"==typeof(t=t.Jl))t=t(e);else{if("string"!=typeof t||"object"!=typeof e)return"";if(""===t)return"";t=$o(e,t)}return void 0===t?"":"string"==typeof t?t:(U("Panel.getCategoryForItemData found a non-string category for "+e+": "+t),"")}(t,e),r=t.itemTemplateMap,l=null;null!==r&&(l=r.G(n)),null===l&&(null!==r&&(l=r.G("")),null===l&&(cd||(cd=!0,lt('No item template Panel found for category "'+n+'" on '+t),lt("  Using default item template."),n=new Xi,(r=new Br).bind(new Ms("text","",p)),n.add(r),Cg=n),l=Cg)),null!==(n=l)&&(ul(n),0!=(16777216&(n=n.copy()).F)&&null!==(r=t.ij())&&n0(r,!0),"object"==typeof e&&(null===t.Zd&&(t.Zd=new yt),t.Zd.add(e,n)),r=i+hd(t),t.wb(r,n),n.ob=e,hl(t,r,i),n.ob=null,n.data=e)}}function hl(t,e,i){for(t=t.W;e<t.length;){var n=t.J(e);if(n instanceof Xi){var r=e,l=i;n.type===Xi.TableRow?n.row=r:n.type===Xi.TableColumn&&(n.column=r),n.itemIndex=l}e++,i++}}function nm(t,e,i){var n=e.enabledChanged;if(null!==n&&n(e,i),e instanceof Xi){n=(e=e.W.j).length;for(var r=0;r<n;r++){var l=e[r];i&&l instanceof Xi&&!l.isEnabled||nm(t,l,i)}}}function eu(t,e){e.name=t,_u.add(t,e)}Fr.className="Brush",Fr.Solid=Ea=new St(Fr,"Solid",0),Fr.Linear=sl=new St(Fr,"Linear",1),Fr.Radial=Os=new St(Fr,"Radial",2),Fr.Pattern=al=new St(Fr,"Pattern",4),Fr.Lab=zc=new St(Fr,"Lab",5),Fr.HSL=ad=new St(Fr,"HSL",6),Fr.randomColor=function(t,e){void 0===t&&(t=128),void 0===e&&(e=Math.max(t,255));var i=Math.abs(e-t);e=Math.floor(t+Math.random()*i).toString(16);var n=Math.floor(t+Math.random()*i).toString(16);return t=Math.floor(t+Math.random()*i).toString(16),2>e.length&&(e="0"+e),2>n.length&&(n="0"+n),2>t.length&&(t="0"+t),"#"+e+n+t},Fr.isValidColor=function(t){if("black"===t)return!0;if(""===t)return!1;jc||(ip(),jc=!0);var e=Gh;if(null===e)return!0;e.fillStyle="#000000";var i=e.fillStyle;return e.fillStyle=t,e.fillStyle!==i||(e.fillStyle="#FFFFFF",i=e.fillStyle,e.fillStyle=t,e.fillStyle!==i)},Fr.lighten=function(t){return Fc(t)},Fr.lightenBy=Fc,Fr.darken=function(t){return Df(t)},Fr.darkenBy=Df,Fr.mix=od,Fr.isDark=ol,Is.prototype.measure=function(){},Is.prototype.IA=function(t,e,i,n,r){t.measure(e,i,n,r)},Is.prototype.arrange=function(){},Is.prototype.wz=function(t,e,i,n,r,l){t.arrange(e,i,n,r,l)},Is.prototype.RA=function(t){t.Bk()},Is.prototype.mc=function(){},H.Object.defineProperties(Is.prototype,{name:{get:function(){return this.oa},set:function(t){this.oa=t}},classType:{get:function(){return Xi}}}),Is.prototype.remeasureObject=Is.prototype.RA,Is.prototype.arrangeElement=Is.prototype.wz,Is.prototype.measureElement=Is.prototype.IA,Is.className="PanelLayout",Z(np,Is),np.prototype.measure=function(t,e,i,n,r,l,v){var _=n.length;t=Ju(t);for(var D=0;D<_;D++){var O=n[D];if(O.visible||O===t){var V=O.margin,$=V.right+V.left;V=V.top+V.bottom,O.measure(e,i,l,v);var vt=O.measuredBounds;$=Math.max(vt.width+$,0),V=Math.max(vt.height+V,0),vt=O.position.x;var kt=O.position.y;isFinite(vt)||(vt=0),isFinite(kt)||(kt=0),O instanceof sr&&O.isGeometryPositioned&&(vt-=O=O.strokeWidth/2,kt-=O),Ln(r,vt,kt,$,V)}}},np.prototype.arrange=function(t,e,i){var n=e.length,r=t.padding;for(t=i.x-r.left,i=i.y-r.top,r=0;r<n;r++){var l=e[r],v=l.measuredBounds,_=l.margin,D=l.position.x,O=l.position.y;if(D=isNaN(D)?-t:D-t,O=isNaN(O)?-i:O-i,l instanceof sr&&l.isGeometryPositioned){var V=l.strokeWidth/2;D-=V,O-=V}l.visible&&l.arrange(D+_.left,O+_.top,v.width,v.height)}},Z(Uc,Is),Uc.prototype.measure=function(t,e,i,n,r,l,v){var _=n.length;e=o(),l=Ju(t);for(var D=0;D<_;D++){var O=n[D];if(O.visible||O===l){var V=Nu(O,!1);if(V!==ho&&V!==Yo)e.push(O);else{O.measure(1/0,i,0,v),V=O.margin,O=O.measuredBounds;var $=Math.max(O.height+V.top+V.bottom,0);r.width+=Math.max(O.width+V.right+V.left,0),r.height=Math.max(r.height,$)}}}for(n=e.length,t.desiredSize.height?i=Math.min(t.desiredSize.height,t.maxSize.height):0!==r.height&&(i=Math.min(r.height,t.maxSize.height)),t=0;t<n;t++)((D=e[t]).visible||D===l)&&(_=(V=D.margin).right+V.left,V=V.top+V.bottom,D.measure(1/0,i,0,v),D=D.measuredBounds,V=Math.max(D.height+V,0),r.width+=Math.max(D.width+_,0),r.height=Math.max(r.height,V));c(e)},Uc.prototype.arrange=function(t,e,i){for(var n=e.length,r=t.padding,l=r.top,v=t.isOpposite,_=v?i.width:r.left,D=0;D<n;D++){var O=l,V=e[D];if(V.visible){var $=V.measuredBounds,vt=V.margin,kt=vt.top+vt.bottom,bt=l+r.bottom,Wt=$.height,de=Nu(V,!1);(isNaN(V.desiredSize.height)&&de===No||de===ua)&&(Wt=Math.max(i.height-kt-bt,0)),kt=Wt+kt+bt,(bt=V.alignment).Mb()&&(bt=t.defaultAlignment),bt.kb()||(bt=ar),v&&(_-=$.width+vt.left+vt.right),V.arrange(_+bt.offsetX+vt.left,O+bt.offsetY+vt.top+(i.height*bt.y-kt*bt.y),$.width,Wt),v||(_+=$.width+vt.left+vt.right)}}},Z(Hc,Is),Hc.prototype.measure=function(t,e,i,n,r,l){var v=n.length;i=o();for(var _=Ju(t),D=0;D<v;D++){var O=n[D];if(O.visible||O===_){var V=Nu(O,!1);if(V!==ho&&V!==ua)i.push(O);else{var $=O.margin;V=$.right+$.left,$=$.top+$.bottom,O.measure(e,1/0,l,0),O=O.measuredBounds,$e(r,Math.max(r.width,Math.max(O.width+V,0)),r.height+Math.max(O.height+$,0))}}}if(0!==(n=i.length)){for(t.desiredSize.width?e=Math.min(t.desiredSize.width,t.maxSize.width):0!==r.width&&(e=Math.min(r.width,t.maxSize.width)),t=0;t<n;t++)((D=i[t]).visible||D===_)&&(v=(O=D.margin).right+O.left,O=O.top+O.bottom,D.measure(e,1/0,l,0),D=D.measuredBounds,O=Math.max(D.height+O,0),r.width=Math.max(r.width,Math.max(D.width+v,0)),r.height+=O);c(i)}},Hc.prototype.arrange=function(t,e,i){for(var n=e.length,r=t.padding,l=r.left,v=t.isOpposite,_=v?i.height:r.top,D=0;D<n;D++){var O=l,V=e[D];if(V.visible){var $=V.measuredBounds,vt=V.margin,kt=vt.left+vt.right,bt=l+r.right,Wt=$.width,de=Nu(V,!1);(isNaN(V.desiredSize.width)&&de===No||de===Yo)&&(Wt=Math.max(i.width-kt-bt,0)),kt=Wt+kt+bt,(bt=V.alignment).Mb()&&(bt=t.defaultAlignment),bt.kb()||(bt=ar),v&&(_-=$.height+vt.bottom+vt.top),V.arrange(O+bt.offsetX+vt.left+(i.width*bt.x-kt*bt.x),_+bt.offsetY+vt.top,Wt,$.height),v||(_+=$.height+vt.bottom+vt.top)}}},Z(gc,Is),gc.prototype.measure=function(t,e,i,n,r,l,v){var _=n.length,D=t.tb(),O=D.margin,V=O.right+O.left,$=O.top+O.bottom;D.measure(e,i,l,v);var vt=D.measuredBounds;l=vt.width,v=vt.height;for(var kt=Math.max(l+V,0),bt=Math.max(v+$,0),Wt=t.isClipping,de=he.allocAt(-O.left,-O.top,kt,bt),le=!0,we=Ju(t),Pe=0;Pe<_;Pe++){var Ke=n[Pe];if(Ke!==D&&(Ke.visible||Ke===we)){switch(kt=(O=Ke.margin).right+O.left,bt=O.top+O.bottom,vt=Nu(Ke,!1)){case No:e=l,i=v;break;case Yo:e=l;break;case ua:i=v}Ke.measure(e,i,0,0),vt=Ke.measuredBounds,kt=Math.max(vt.width+kt,0),bt=Math.max(vt.height+bt,0);var ui=Ke.alignment;ui.Mb()&&(ui=t.defaultAlignment),ui.kb()||(ui=ar);var $i=Ke.alignmentFocus;$i.Mb()&&($i=ar);var vn=null;if(Ke instanceof Xi&&""!==Ke.Lg&&(Ke.arrange(0,0,vt.width,vt.height),(vn=Ke.bb(Ke.Lg))===Ke&&(vn=null)),null!==vn){for(O=ht.allocAt($i.x*(O=vn.naturalBounds).width-$i.offsetX-(vt=vn.margin).left,$i.y*O.height-$i.offsetY-vt.top);vn!==Ke;)vn.transform.ta(O),vn=vn.panel;Ke=ui.x*l+ui.offsetX-O.x,vt=ui.y*v+ui.offsetY-O.y,ht.free(O)}else Ke=ui.x*l+ui.offsetX-($i.x*vt.width+$i.offsetX)-O.left,vt=ui.y*v+ui.offsetY-($i.y*vt.height+$i.offsetY)-O.top;le?(le=!1,r.h(Ke,vt,kt,bt)):Ln(r,Ke,vt,kt,bt)}}switch(le?r.assign(de):Wt?r.bw(de.x,de.y,de.width,de.height):Ln(r,de.x,de.y,de.width,de.height),he.free(de),(vt=D.stretch)===Ks&&(vt=Nu(D,!1)),vt){case ho:return;case No:if(!isFinite(e)&&!isFinite(i))return;break;case Yo:if(!isFinite(e))return;break;case ua:if(!isFinite(i))return}for(l=(vt=D.measuredBounds).width,v=vt.height,kt=Math.max(l+V,0),bt=Math.max(v+$,0),de=he.allocAt(-(O=D.margin).left,-O.top,kt,bt),e=0;e<_;e++)(i=n[e])===D||!i.visible&&i!==we||(kt=(O=i.margin).right+O.left,bt=O.top+O.bottom,vt=i.measuredBounds,kt=Math.max(vt.width+kt,0),bt=Math.max(vt.height+bt,0),(V=i.alignment).Mb()&&(V=t.defaultAlignment),V.kb()||(V=ar),(i=i.alignmentFocus).Mb()&&(i=ar),le?(le=!1,r.h(V.x*l+V.offsetX-(i.x*vt.width+i.offsetX)-O.left,V.y*v+V.offsetY-(i.y*vt.height+i.offsetY)-O.top,kt,bt)):Ln(r,V.x*l+V.offsetX-(i.x*vt.width+i.offsetX)-O.left,V.y*v+V.offsetY-(i.y*vt.height+i.offsetY)-O.top,kt,bt));le?r.assign(de):Wt?r.bw(de.x,de.y,de.width,de.height):Ln(r,de.x,de.y,de.width,de.height),he.free(de)},gc.prototype.arrange=function(t,e,i){var n=e.length,r=t.tb(),l=r.measuredBounds,v=l.width,_=t.padding,D=_.left,O=D-i.x,V=(_=_.top)-i.y;r.arrange(O,V,v,l=l.height);for(var $=0;$<n;$++){var vt=e[$];if(vt!==r){var kt=vt.measuredBounds,bt=kt.width;kt=kt.height,(V=vt.alignment).Mb()&&(V=t.defaultAlignment),V.kb()||(V=ar);var Wt=vt.alignmentFocus;if(Wt.Mb()&&(Wt=ar),O=null,vt instanceof Xi&&""!==vt.Lg&&(O=vt.bb(vt.Lg))===vt&&(O=null),null!==O){var de=O.naturalBounds;for(Wt=ht.allocAt(Wt.x*de.width-Wt.offsetX,Wt.y*de.height-Wt.offsetY);O!==vt;)O.transform.ta(Wt),O=O.panel;O=V.x*v+V.offsetX-Wt.x,V=V.y*l+V.offsetY-Wt.y,ht.free(Wt)}else O=V.x*v+V.offsetX-(Wt.x*bt+Wt.offsetX),V=V.y*l+V.offsetY-(Wt.y*kt+Wt.offsetY);O-=i.x,V-=i.y,vt.visible&&vt.arrange(D+O,_+V,bt,kt)}}},Z(Z0,Is),Z0.prototype.measure=function(t,e,i,n,r,l,v){var _=n.length,D=t.tb(),O=D.margin,V=e,$=i,vt=O.right+O.left,kt=O.top+O.bottom;D.measure(e,i,l,v),O=D.measuredBounds;var bt=0,Wt=null;D instanceof sr&&(bt=(Wt=D).strokeWidth*Wt.scale);var de=Math.max(O.width+vt,0);O=Math.max(O.height+kt,0);var le=Rm(D),we=le.x*de+le.offsetX;le=le.y*O+le.offsetY;var Pe=ud(D),Ke=Pe.x*de+Pe.offsetX;for(Pe=Pe.y*O+Pe.offsetY,isFinite(e)&&(V=Math.max(Math.abs(we-Ke)-bt,0)),isFinite(i)&&($=Math.max(Math.abs(le-Pe)-bt,0)),(bt=De.alloc()).h(0,0),t=Ju(t),Pe=0;Pe<_;Pe++)(le=n[Pe])===D||!le.visible&&le!==t||(de=(O=le.margin).right+O.left,we=O.top+O.bottom,le.measure(V,$,0,0),O=le.measuredBounds,de=Math.max(O.width+de,0),O=Math.max(O.height+we,0),bt.h(Math.max(de,bt.width),Math.max(O,bt.height)));if(1===_)r.width=de,r.height=O,De.free(bt);else{switch(le=Rm(D),_=n=0,(Pe=ud(D)).x!==le.x&&Pe.y!==le.y&&(n=bt.width/Math.abs(Pe.x-le.x),_=bt.height/Math.abs(Pe.y-le.y)),De.free(bt),bt=0,null!==Wt&&(bt=Wt.strokeWidth*Wt.scale,Nm(Wt)===wl&&(n=_=Math.max(n,_))),n+=Math.abs(le.offsetX)+Math.abs(Pe.offsetX)+bt,_+=Math.abs(le.offsetY)+Math.abs(Pe.offsetY)+bt,(Wt=D.stretch)===Ks&&(Wt=Nu(D,!1)),Wt){case ho:v=l=0;break;case No:isFinite(e)&&(n=e),isFinite(i)&&(_=i);break;case Yo:isFinite(e)&&(n=e),v=0;break;case ua:l=0,isFinite(i)&&(_=i)}D.Bk(),D.measure(n,_,l,v),r.width=D.measuredBounds.width+vt,r.height=D.measuredBounds.height+kt}},Z0.prototype.arrange=function(t,e){var i=e.length,n=t.tb(),r=n.measuredBounds,l=he.alloc();l.h(0,0,1,1);var v=n.margin,_=v.left,D=t.padding,O=D.left;n.arrange(O+_,(D=D.top)+(v=v.top),r.width,r.height);var V=Rm(n),$=ud(n),vt=V.y*r.height+V.offsetY,kt=$.x*r.width+$.offsetX;for($=$.y*r.height+$.offsetY,l.x=V.x*r.width+V.offsetX,l.y=vt,Ln(l,kt,$,0,0),l.x+=_+O,l.y+=v+D,r=0;r<i;r++)(_=e[r])!==n&&(O=_.measuredBounds,v=_.margin,D=Math.max(O.width+v.right+v.left,0),V=Math.max(O.height+v.top+v.bottom,0),(vt=_.alignment).Mb()&&(vt=t.defaultAlignment),vt.kb()||(vt=ar),D=l.width*vt.x+vt.offsetX-D*vt.x+v.left+l.x,v=l.height*vt.y+vt.offsetY-V*vt.y+v.top+l.y,_.visible&&(Kn(l.x,l.y,l.width,l.height,D,v,O.width,O.height)?_.arrange(D,v,O.width,O.height):_.arrange(D,v,O.width,O.height,new he(l.x,l.y,l.width,l.height))));he.free(l)},Z(Gc,Is),Gc.prototype.measure=function(t,e,i,n,r){for(var l=n.length,v=o(),_=o(),D=0;D<l;D++){var O=n[D],V=O instanceof Xi?O:null;if(null===V||V.type!==Xi.TableRow&&V.type!==Xi.TableColumn||!O.visible)v.push(O);else{_.push(V);for(var $=V.W.j,vt=$.length,kt=0;kt<vt;kt++){var bt=$[kt];V.type===Xi.TableRow?bt.row=O.row:V.type===Xi.TableColumn&&(bt.column=O.column),v.push(bt)}}}0===(l=v.length)&&(t.getRowDefinition(0),t.getColumnDefinition(0));for(var Wt=[],de=0;de<l;de++){var le=v[de];rl(le,!0),Hh(le,!0),Wt[le.row]||(Wt[le.row]=[]),Wt[le.row][le.column]||(Wt[le.row][le.column]=[]),Wt[le.row][le.column].push(le)}c(v);var we=o(),Pe=o(),Ke=o(),ui={count:0},$i={count:0},vn=e,tn=i,Bn=t.qb;l=Bn.length;for(var yn=0;yn<l;yn++){var Zi=Bn[yn];void 0!==Zi&&(Zi.actual=0)}l=(Bn=t.nb).length;for(var Dr=0;Dr<l;Dr++)void 0!==(Zi=Bn[Dr])&&(Zi.actual=0);for(var dr=Wt.length,$r=0,Xo=0;Xo<dr;Xo++)Wt[Xo]&&($r=Math.max($r,Wt[Xo].length));var Qs=Math.min(t.topIndex,dr-1),Bo=Math.min(t.leftIndex,$r-1),Ao=0;dr=Wt.length;for(var Mc=Ju(t),Dl=0;Dl<dr;Dl++)if(Wt[Dl]){$r=Wt[Dl].length;var Al=t.getRowDefinition(Dl);Al.actual=0;for(var ta=Al.bc=0;ta<$r;ta++)if(Wt[Dl][ta]){var ah=t.getColumnDefinition(ta);void 0===we[ta]&&(ah.actual=0,ah.bc=0,we[ta]=!0);for(var Cd=Wt[Dl][ta],Jm=Cd.length,bp=0;bp<Jm;bp++){var dl=Cd[bp];if(dl.visible||dl===Mc){var Qm=1<dl.rowSpan||1<dl.columnSpan;Qm&&(Dl<Qs||ta<Bo||Pe.push(dl));var pm=dl.margin,tg=pm.right+pm.left,$g=pm.top+pm.bottom,Bs=Cf(dl,Al,ah,!1),zv=dl.desiredSize,Ny=!isNaN(zv.height),Xg=!isNaN(zv.width)&&Ny;if(Qm||Bs===ho||Xg||Dl<Qs||ta<Bo||(void 0!==ui[ta]||Bs!==No&&Bs!==Yo||(ui[ta]=-1,ui.count++),void 0!==$i[Dl]||Bs!==No&&Bs!==ua||($i[Dl]=-1,$i.count++),Ke.push(dl)),dl.measure(1/0,1/0,0,0),!(Dl<Qs||ta<Bo)){var rf=dl.measuredBounds,ju=Math.max(rf.width+tg,0),eg=Math.max(rf.height+$g,0);if(1===dl.rowSpan&&(Bs===ho||Bs===Yo)){var Tu=(Zi=t.getRowDefinition(Dl)).wc();(Ao=Math.max(eg-Zi.actual,0))+Tu>tn&&(Ao=Math.max(tn-Tu,0));var Mp=0===Zi.ha;Zi.bc=Zi.bc+Ao,Zi.actual=Zi.ha+Ao,tn=Math.max(tn-(Ao+(Mp?Tu:0)),0)}if(1===dl.columnSpan&&(Bs===ho||Bs===ua)){var Zg=(Zi=t.getColumnDefinition(ta)).wc();(Ao=Math.max(ju-Zi.actual,0))+Zg>vn&&(Ao=Math.max(vn-Zg,0));var R1=0===Zi.ha;Zi.bc=Zi.bc+Ao,Zi.actual=Zi.ha+Ao,vn=Math.max(vn-(Ao+(R1?Zg:0)),0)}Qm&&dl.Bk()}}}}}c(we);var sf=0,Zh=0;l=t.columnCount;for(var ig=0;ig<l;ig++){var ng=t.nb[ig];void 0!==ng&&(sf+=ng.bc,0!==ng.bc&&(sf+=ng.wc()))}l=t.rowCount;for(var qh=0;qh<l;qh++){var Sd=t.qb[qh];void 0!==Sd&&(Zh+=Sd.bc,0!==Sd.bc&&(Zh+=Sd.wc()))}vn=Math.max(e-sf,0);var hu=tn=Math.max(i-Zh,0),rg=vn;l=Ke.length;for(var qg=0;qg<l;qg++){var Jh=Ke[qg],Cp=t.getRowDefinition(Jh.row),Ed=t.getColumnDefinition(Jh.column),Sp=Jh.measuredBounds,af=Jh.margin,L1=af.top+af.bottom;ui[Jh.column]=0===Ed.bc&&void 0!==ui[Jh.column]?Math.max(Sp.width+(af.right+af.left),ui[Jh.column]):null,$i[Jh.row]=0===Cp.bc&&void 0!==$i[Jh.row]?Math.max(Sp.height+L1,$i[Jh.row]):null}var Cc,A0=0,pl=0;for(Cc in $i)"count"!==Cc&&(A0+=$i[Cc]);for(Cc in ui)"count"!==Cc&&(pl+=ui[Cc]);for(var ya=De.alloc(),Jg=0;Jg<l;Jg++){var kl=Ke[Jg];if(kl.visible||kl===Mc){var zu=t.getRowDefinition(kl.row),Pu=t.getColumnDefinition(kl.column),jf=0;isFinite(Pu.width)?jf=Pu.width:(jf=isFinite(vn)&&null!==ui[kl.column]?0===pl?Pu.actual+vn:ui[kl.column]/pl*rg:null!==ui[kl.column]?vn:Pu.actual||vn,jf=Math.max(0,jf-Pu.wc()));var Sc=0;switch(isFinite(zu.height)?Sc=zu.height:(Sc=isFinite(tn)&&null!==$i[kl.row]?0===A0?zu.actual+tn:$i[kl.row]/A0*hu:null!==$i[kl.row]?tn:zu.actual||tn,Sc=Math.max(0,Sc-zu.wc())),ya.h(Math.max(Pu.minimum,Math.min(jf,Pu.maximum)),Math.max(zu.minimum,Math.min(Sc,zu.maximum))),Bs=Cf(kl,zu,Pu,!1)){case Yo:ya.height=Math.max(ya.height,zu.actual+tn);break;case ua:ya.width=Math.max(ya.width,Pu.actual+vn)}var og=kl.margin,Uu=og.right+og.left,Qg=og.top+og.bottom;kl.Bk(),kl.measure(ya.width,ya.height,Pu.minimum,zu.minimum);var sg=kl.measuredBounds,zf=Math.max(sg.width+Uu,0),tv=Math.max(sg.height+Qg,0);isFinite(vn)&&(zf=Math.min(zf,ya.width)),isFinite(tn)&&(tv=Math.min(tv,ya.height));var k0=0;k0=zu.actual,zu.actual=Math.max(zu.actual,tv),zu.bc=Math.max(zu.bc,tv),Ao=zu.actual-k0,tn=Math.max(tn-Ao,0),null===$i[kl.row]&&(hu=Math.max(hu-Ao,0)),k0=Pu.actual,Pu.actual=Math.max(Pu.actual,zf),Pu.bc=Math.max(Pu.bc,zf),Ao=Pu.actual-k0,vn=Math.max(vn-Ao,0),null===ui[kl.column]&&(rg=Math.max(rg-Ao,0))}}c(Ke);var Ep=De.alloc(),Uf=o(),Hf=o();if(0!==(l=Pe.length))for(var Dd=0;Dd<dr;Dd++)if(Wt[Dd]){$r=Wt[Dd].length;var ag=t.getRowDefinition(Dd);Uf[Dd]=ag.actual;for(var Ad=0;Ad<$r;Ad++)if(Wt[Dd][Ad]){var N1=t.getColumnDefinition(Ad);Hf[Ad]=N1.actual}}for(var Kl=0;Kl<l;Kl++){var is=Pe[Kl];if(is.visible||is===Mc){var cu=t.getRowDefinition(is.row),Gf=t.getColumnDefinition(is.column);switch(ya.h(Math.max(Gf.minimum,Math.min(e,Gf.maximum)),Math.max(cu.minimum,Math.min(i,cu.maximum))),Bs=Cf(is,cu,Gf,!1)){case No:0!==Hf[Gf.index]&&(ya.width=Math.min(ya.width,Hf[Gf.index])),0!==Uf[cu.index]&&(ya.height=Math.min(ya.height,Uf[cu.index]));break;case Yo:0!==Hf[Gf.index]&&(ya.width=Math.min(ya.width,Hf[Gf.index]));break;case ua:0!==Uf[cu.index]&&(ya.height=Math.min(ya.height,Uf[cu.index]))}isFinite(Gf.width)&&(ya.width=Gf.width),isFinite(cu.height)&&(ya.height=cu.height),Ep.h(0,0);for(var Yf=Gf.minimum,mm=cu.minimum,kd=1;kd<is.rowSpan&&!(is.row+kd>=t.rowCount);kd++)Zi=t.getRowDefinition(is.row+kd),Ao=0,Ao=Bs===No||Bs===ua?Math.max(Zi.minimum,0===Uf[is.row+kd]?Zi.maximum:Math.min(Uf[is.row+kd],Zi.maximum)):Math.max(Zi.minimum,isNaN(Zi.ad)?Zi.maximum:Math.min(Zi.ad,Zi.maximum)),Ep.height+=Ao,mm+=Zi.minimum;for(var Hu=1;Hu<is.columnSpan&&!(is.column+Hu>=t.columnCount);Hu++)Zi=t.getColumnDefinition(is.column+Hu),Ao=0,Ao=Bs===No||Bs===Yo?Math.max(Zi.minimum,0===Hf[is.column+Hu]?Zi.maximum:Math.min(Hf[is.column+Hu],Zi.maximum)):Math.max(Zi.minimum,isNaN(Zi.ad)?Zi.maximum:Math.min(Zi.ad,Zi.maximum)),Ep.width+=Ao,Yf+=Zi.minimum;ya.width+=Ep.width,ya.height+=Ep.height;var T0=is.margin,ev=T0.right+T0.left,Hv=T0.top+T0.bottom;is.measure(ya.width,ya.height,Yf,mm);for(var lg=is.measuredBounds,Qh=Math.max(lg.width+ev,0),Wf=Math.max(lg.height+Hv,0),Kf=0,$f=0;$f<is.rowSpan&&!(is.row+$f>=t.rowCount);$f++)Kf+=(Zi=t.getRowDefinition(is.row+$f)).total||0;if(Kf<Wf){var lf=Wf-Kf,Dp=Wf-Kf;if(null!==is.spanAllocation)for(var Fy=is.spanAllocation,tc=0;tc<is.rowSpan&&!(0>=lf)&&!(is.row+tc>=t.rowCount);tc++){var By=(Zi=t.getRowDefinition(is.row+tc)).ha||0,Gv=Fy(is,Zi,Dp);Zi.actual=Math.min(Zi.maximum,By+Gv),Zi.ha!==By&&(lf-=Zi.ha-By)}for(;0<lf;){var lh=Zi.ha||0;if(isNaN(Zi.height)&&Zi.maximum>lh&&(Zi.actual=Math.min(Zi.maximum,lh+lf),Zi.ha!==lh&&(lf-=Zi.ha-lh)),0===Zi.index)break;Zi=t.getRowDefinition(Zi.index-1)}}for(var gm=0,Td=0;Td<is.columnSpan&&!(is.column+Td>=t.columnCount);Td++)gm+=(Zi=t.getColumnDefinition(is.column+Td)).total||0;if(gm<Qh){var ug=Qh-gm,u_=Qh-gm;if(null!==is.spanAllocation)for(var nw=is.spanAllocation,uf=0;uf<is.columnSpan&&!(0>=ug)&&!(is.column+uf>=t.columnCount);uf++){var Vy=(Zi=t.getColumnDefinition(is.column+uf)).ha||0,h_=nw(is,Zi,u_);Zi.actual=Math.min(Zi.maximum,Vy+h_),Zi.ha!==Vy&&(ug-=Zi.ha-Vy)}for(;0<ug;){var hg=Zi.ha||0;if(isNaN(Zi.width)&&Zi.maximum>hg&&(Zi.actual=Math.min(Zi.maximum,hg+ug),Zi.ha!==hg&&(ug-=Zi.ha-hg)),0===Zi.index)break;Zi=t.getColumnDefinition(Zi.index-1)}}}}c(Pe),De.free(Ep),De.free(ya),void 0!==Uf&&c(Uf),void 0!==Hf&&c(Hf);var cg=0,fg=0,F1=t.desiredSize,Ax=t.maxSize;Bs=Nu(t,!0);var Yv=Zh=sf=0,Wv=0;l=t.columnCount;for(var iv=0;iv<l;iv++)void 0!==t.nb[iv]&&(Zi=t.getColumnDefinition(iv),isFinite(Zi.width)?(Yv+=Zi.width,Yv+=Zi.wc()):rm(Zi)===iu?(Yv+=Zi.ha,Yv+=Zi.wc()):0!==Zi.ha&&(sf+=Zi.ha,sf+=Zi.wc()));cg=isFinite(F1.width)?Math.min(F1.width,Ax.width):Bs!==ho&&isFinite(e)?e:sf,cg=Math.max(cg,t.minSize.width),cg=Math.max(cg-Yv,0);for(var kx=0===sf?1:Math.max(cg/sf,1),Kv=0;Kv<l;Kv++)void 0!==t.nb[Kv]&&(Zi=t.getColumnDefinition(Kv),isFinite(Zi.width)||rm(Zi)===iu||(Zi.actual=Zi.ha*kx),Zi.position=r.width,0!==Zi.ha&&(r.width+=Zi.ha,r.width+=Zi.wc()));l=t.rowCount;for(var P0=0;P0<l;P0++)void 0!==t.qb[P0]&&(Zi=t.getRowDefinition(P0),isFinite(Zi.height)?(Wv+=Zi.height,Wv+=Zi.wc()):rm(Zi)===iu?(Wv+=Zi.ha,Wv+=Zi.wc()):0!==Zi.ha&&(Zh+=Zi.ha,0!==Zi.ha&&(Zh+=Zi.wc())));fg=isFinite(F1.height)?Math.min(F1.height,Ax.height):Bs!==ho&&isFinite(i)?i:Zh,fg=Math.max(fg,t.minSize.height),fg=Math.max(fg-Wv,0);for(var jy=0===Zh?1:Math.max(fg/Zh,1),vm=0;vm<l;vm++)void 0!==t.qb[vm]&&(Zi=t.getRowDefinition(vm),isFinite(Zi.height)||rm(Zi)===iu||(Zi.actual=Zi.ha*jy),Zi.position=r.height,0!==Zi.ha&&(r.height+=Zi.ha,0!==Zi.ha&&(r.height+=Zi.wc())));l=_.length;for(var B1=0;B1<l;B1++){var ec=_[B1],zy=0,V1=0;ec.type===Xi.TableRow?(zy=r.width,V1=(Zi=t.getRowDefinition(ec.row)).actual):(zy=(Zi=t.getColumnDefinition(ec.column)).actual,V1=r.height),ec.measuredBounds.h(0,0,zy,V1),rl(ec,!1),Wt[ec.row]||(Wt[ec.row]=[]),Wt[ec.row][ec.column]||(Wt[ec.row][ec.column]=[]),Wt[ec.row][ec.column].push(ec)}c(_),t.Lp=Wt},Gc.prototype.arrange=function(t,e,i){var n=e.length,r=t.padding,l=r.left;r=r.top;for(var _,D,v=t.Lp,O=v.length,V=0,$=0;$<O;$++)v[$]&&(V=Math.max(V,v[$].length));for($=Math.min(t.topIndex,O-1);$!==O&&(void 0===t.qb[$]||0===t.qb[$].ha);)$++;for($=Math.min($,O-1),$=-t.qb[$].position,_=Math.min(t.leftIndex,V-1);_!==V&&(void 0===t.nb[_]||0===t.nb[_].ha);)_++;_=Math.min(_,V-1);for(var vt=-t.nb[_].position,kt=De.alloc(),bt=0;bt<O;bt++)if(v[bt]){V=v[bt].length;var Wt=t.getRowDefinition(bt);D=Wt.position+$+r,0!==Wt.ha&&(D+=Wt.Jv());for(var de=0;de<V;de++)if(v[bt][de]){var le=t.getColumnDefinition(de);_=le.position+vt+l,0!==le.ha&&(_+=le.Jv());for(var we=v[bt][de],Pe=we.length,Ke=0;Ke<Pe;Ke++){var ui=we[Ke],$i=ui.measuredBounds,vn=ui instanceof Xi?ui:null;if(null===vn||vn.type!==Xi.TableRow&&vn.type!==Xi.TableColumn){kt.h(0,0);for(var tn=1;tn<ui.rowSpan&&!(bt+tn>=t.rowCount);tn++)vn=t.getRowDefinition(bt+tn),kt.height+=vn.total;for(tn=1;tn<ui.columnSpan&&!(de+tn>=t.columnCount);tn++)vn=t.getColumnDefinition(de+tn),kt.width+=vn.total;var Bn=le.ha+kt.width,yn=Wt.ha+kt.height;tn=_,vn=D;var Zi=Bn,Dr=yn,dr=_,$r=D,Xo=Bn,Qs=yn;_+Bn>i.width&&(Xo=Math.max(i.width-_,0)),D+yn>i.height&&(Qs=Math.max(i.height-D,0));var Bo=ui.alignment;if(Bo.Mb()){(Bo=t.defaultAlignment).kb()||(Bo=ar);var Ao=Bo.x,Mc=Bo.y,Dl=Bo.offsetX;Bo=Bo.offsetY;var Al=le.alignment,ta=Wt.alignment;Al.kb()&&(Ao=Al.x,Dl=Al.offsetX),ta.kb()&&(Mc=ta.y,Bo=ta.offsetY)}else Ao=Bo.x,Mc=Bo.y,Dl=Bo.offsetX,Bo=Bo.offsetY;(isNaN(Ao)||isNaN(Mc))&&(Mc=Ao=.5,Bo=Dl=0),Al=$i.width,ta=$i.height;var ah=ui.margin,Cd=ah.left+ah.right,Jm=ah.top+ah.bottom,bp=Cf(ui,Wt,le,!1);!isNaN(ui.desiredSize.width)||bp!==No&&bp!==Yo||(Al=Math.max(Bn-Cd,0)),!isNaN(ui.desiredSize.height)||bp!==No&&bp!==ua||(ta=Math.max(yn-Jm,0)),Bn=ui.maxSize,yn=ui.minSize,Al=Math.min(Bn.width,Al),ta=Math.min(Bn.height,ta),Al=Math.max(yn.width,Al),ta=Math.max(yn.height,ta),tn+=Zi*Ao-(Al+Cd)*Ao+Dl+ah.left,vn+=Dr*Mc-(Bn=ta+Jm)*Mc+Bo+ah.top,ui.visible&&(Kn(dr,$r,Xo,Qs,tn,vn,$i.width,$i.height)?ui.arrange(tn,vn,Al,ta):ui.arrange(tn,vn,Al,ta,new he(dr,$r,Xo,Qs)))}else ui.Fl(),ui.actualBounds.ea(),tn=he.allocAt((Zi=ui.actualBounds).x,Zi.y,Zi.width,Zi.height),Zi.x=vn.type===Xi.TableRow?l:_,Zi.y=vn.type===Xi.TableColumn?r:D,Zi.width=$i.width,Zi.height=$i.height,ui.actualBounds.freeze(),Hh(ui,!1),zi(tn,Zi)||null!==($i=ui.part)&&($i.Oh(),ui.mp($i)),he.free(tn)}}}for(De.free(kt),t=0;t<n;t++)null===(l=(i=e[t])instanceof Xi?i:null)||l.type!==Xi.TableRow&&l.type!==Xi.TableColumn||(l=i.actualBounds,i.naturalBounds.ea(),i.naturalBounds.h(0,0,l.width,l.height),i.naturalBounds.freeze())},Z(rp,Is),rp.prototype.measure=function(){},rp.prototype.arrange=function(){},Z(Qp,Is),Qp.prototype.measure=function(){},Qp.prototype.arrange=function(){},Z(q0,Is),q0.prototype.measure=function(t,e,i,n,r,l,v){1<n.length&&U("Viewbox Panel cannot contain more than one GraphObject."),(n=n[0]).Aa=1,n.Bk(),n.measure(1/0,1/0,l,v);var _=n.measuredBounds,D=n.margin,O=D.right+D.left;if(D=D.top+D.bottom,isFinite(e)||isFinite(i)){var V=n.scale,$=_.width;_=_.height;var vt=Math.max(e-O,0),kt=Math.max(i-D,0),bt=1;t.viewboxStretch===wl?0!==$&&0!==_&&(bt=Math.min(vt/$,kt/_)):0!==$&&0!==_&&(bt=Math.max(vt/$,kt/_)),0===bt&&(bt=1e-4),n.Aa*=bt,V!==n.scale&&(rl(n,!0),n.measure(1/0,1/0,l,v))}_=n.measuredBounds,r.width=isFinite(e)?e:Math.max(_.width+O,0),r.height=isFinite(i)?i:Math.max(_.height+D,0)},q0.prototype.arrange=function(t,e,i){var n=(e=e[0]).measuredBounds,r=e.margin,l=Math.max(n.width+(r.right+r.left),0);r=Math.max(n.height+(r.top+r.bottom),0);var v=e.alignment;v.Mb()&&(v=t.defaultAlignment),v.kb()||(v=ar),e.arrange(i.width*v.x-l*v.x+v.offsetX,i.height*v.y-r*v.y+v.offsetY,n.width,n.height)},Z(ld,Is),ld.prototype.measure=function(){},ld.prototype.arrange=function(){},ld.prototype.mc=function(t,e,i){0>=(i=t.Af()*i.scale)&&(i=1);var n=t.gridCellSize,r=n.width;n=n.height;var l=t.naturalBounds,v=t.actualBounds,_=l.width,D=l.height,O=Math.ceil(_/r),V=Math.ceil(D/n),$=t.gridOrigin,vt=$.x;$=$.y,e.save(),e.beginPath(),e.rect(0,0,_,D),e.clip();for(var kt=[],bt=t.W.j,Wt=bt.length,de=0;de<Wt;de++){var le=bt[de],we=[];if(kt.push(we),le.visible){var Pe=le.interval;if(!(0>Pe)){le=yc(le.figure);for(var Ke=0;Ke<Wt;Ke++)if(Ke!==de){var ui=bt[Ke];ui.visible&&yc(ui.figure)===le&&(ui=ui.interval)>Pe&&we.push(ui)}}}}for(Wt=(bt=t.W.j).length,de=0;de<Wt;de++){var $i=bt[de];if($i.visible&&(we=$i.interval||1,!(2>r*(le=Math.abs(we))*i))){if(Pe=$i.segmentIndex,(!isFinite(Pe)||isNaN(Pe))&&(Pe=0),0>Pe&&(Pe=le-Math.min(-Pe,le)),Pe=Math.round(Pe%le),Ke=1,1!==(le=$i.opacity)){if(0===le)continue;e.globalAlpha=(Ke=e.globalAlpha)*le}ui=kt[de];var vn=!1,tn=$i.strokeDashArray;if(null!==tn&&(vn=!0,e.Ft(tn,$i.strokeDashOffset)),"LineV"===$i.figure&&null!==$i.stroke&&0<$i.strokeWidth){for(e.lineWidth=$i.strokeWidth,Wa(t,e,$i.stroke,!1,!1,l,v),e.beginPath(),tn=$i=Math.floor((vt-r)/r);tn<=$i+O;tn++){var Bn=tn*r+vt;0<=Bn&&Bn<=_&&J0(tn,we,Pe,ui)&&(e.moveTo(Bn,0),e.lineTo(Bn,D))}e.stroke()}else if("LineH"===$i.figure&&null!==$i.stroke&&0<$i.strokeWidth){for(e.lineWidth=$i.strokeWidth,Wa(t,e,$i.stroke,!1,!1,l,v),e.beginPath(),tn=$i=Math.floor(($-n)/n);tn<=$i+V;tn++)0<=(Bn=tn*n+$)&&Bn<=D&&J0(tn,we,Pe,ui)&&(e.moveTo(0,Bn),e.lineTo(_,Bn));e.stroke()}else if("BarV"===$i.figure&&null!==$i.fill)for(Wa(t,e,$i.fill,!0,!1,l,v),$i=$i.width,isNaN($i)&&($i=r),Bn=tn=Math.floor((vt-r)/r);Bn<=tn+O;Bn++){var yn=Bn*r+vt;0<=yn+$i&&yn<=_&&J0(Bn,we,Pe,ui)&&e.fillRect(yn,0,$i,D)}else if("BarH"===$i.figure&&null!==$i.fill)for(Wa(t,e,$i.fill,!0,!1,l,v),$i=$i.height,isNaN($i)&&($i=n),Bn=tn=Math.floor(($-n)/n);Bn<=tn+V;Bn++)0<=(yn=Bn*n+$)+$i&&yn<=D&&J0(Bn,we,Pe,ui)&&e.fillRect(0,yn,_,$i);vn&&e.Dt(),1!==le&&(e.globalAlpha=Ke)}}e.restore(),e.uc(!1)},Z(t0,Is),t0.prototype.measure=function(t,e,i,n,r){if(i=n.length,t instanceof Ji||t instanceof Bi){var l=null,v=null,_=null;if(t instanceof Bi&&(v=l=t),t instanceof Ji&&(l=(_=t).adornedPart),l instanceof Bi){var D=l;if(0===i)$e(t.naturalBounds,0,0),t.measuredBounds.h(0,0,0,0);else{var O=t instanceof Ji?null:l.path,V=l.routeBounds;(e=t.xg).h(0,0,V.width,V.height);var $=D.points;l=l.pointsCount,null!==_?_.Gk(!1):null!==v&&v.Gk(!1);var vt=V.width,kt=V.height;t.location.h(V.x,V.y),t.l.length=0,null!==O&&(xg(t,vt,kt,O),e.Rc(_=O.measuredBounds),t.l.push(_)),_=or.alloc();for(var bt=ht.alloc(),Wt=ht.alloc(),de=0;de<i;de++){var le=n[de];if(le!==O)if(le.isPanelMain&&le instanceof sr){xg(t,vt,kt,le);var we=le.measuredBounds;e.Rc(we),t.l.push(we)}else if(2>l)le.measure(1/0,1/0,0,0),e.Rc(we=le.measuredBounds),t.l.push(we);else{var Pe=le.segmentIndex,Ke=le.segmentFraction,ui=le.alignmentFocus;ui.nc()&&(ui=ar);var $i=le.segmentOrientation,vn=le.segmentOffset;if(isNaN(Pe)){var tn=D.na;we=o(),tn.Yv(Ke,we);var Bn=ht.allocAt(we[0],we[1]);if(Bn.add(D.i(0)),tn.type===Ie||(tn=tn.figures.first()),Bn.offset(-tn.startX,-tn.startY),tn=we[2],$i!==Fs){var yn=D.computeAngle(le,$i,tn);le.Yb=yn}yn=Bn.x-V.x;var Zi=Bn.y-V.y;ht.free(Bn),c(we)}else if(Pe<-l||Pe>=l)Zi=D.midPoint,tn=D.midAngle,$i!==Fs&&(yn=D.computeAngle(le,$i,tn),le.Yb=yn),yn=Zi.x-V.x,Zi=Zi.y-V.y;else{if(yn=0,0<=Pe?(Zi=$.J(Pe),we=Pe<l-1?$.J(Pe+1):Zi):(Zi=$.J(yn=l+Pe),we=0<yn?$.J(yn-1):Zi),Zi.Qa(we)){0<=Pe?(tn=0<Pe?$.J(Pe-1):Zi,yn=Pe<l-2?$.J(Pe+2):we):(tn=yn<l-1?$.J(yn+1):Zi,yn=1<yn?$.J(yn-2):we),Bn=tn.Ie(Zi);var Dr=we.Ie(yn);tn=Bn>Dr+10?0<=Pe?tn.Pa(Zi):Zi.Pa(tn):Dr>Bn+10?0<=Pe?we.Pa(yn):yn.Pa(we):0<=Pe?tn.Pa(yn):yn.Pa(tn)}else tn=0<=Pe?Zi.Pa(we):we.Pa(Zi);$i!==Fs&&(yn=D.computeAngle(le,$i,tn),le.Yb=yn),yn=Zi.x+(we.x-Zi.x)*Ke-V.x,Zi=Zi.y+(we.y-Zi.y)*Ke-V.y}le.measure(1/0,1/0,0,0),we=le.measuredBounds;var dr=0;le instanceof sr&&(dr=le.strokeWidth),Dr=(Bn=le.naturalBounds).width+dr;var $r=Bn.height+dr;_.reset(),_.translate(-we.x,-we.y),_.scale(le.scale,le.scale),_.rotate($i===Fs?le.angle:tn,Dr/2,$r/2),$i!==Gl&&$i!==c0||_.rotate(90,Dr/2,$r/2),$i!==wc&&$i!==Xc||_.rotate(-90,Dr/2,$r/2),$i===lu&&(45<tn&&135>tn||225<tn&&315>tn)&&_.rotate(-tn,Dr/2,$r/2),Bn=new he(0,0,Dr,$r),bt.tj(Bn,ui),_.ta(bt),ui=dr/2*le.scale-bt.x,le=dr/2*le.scale-bt.y,Wt.assign(vn),dr=isNaN(vn.x);var Xo=isNaN(vn.y);if(dr||Xo){Dr=Dr/2+3,$r=$r/2+3;var Qs=45<=tn&&135>=tn,Bo=225<=tn&&315>=tn;$i===Fs&&(Qs||Bo)?(Wt.x=Xo?Dr:vn.y,Wt.y=dr?$r:vn.x,Qs?0<=Pe||isNaN(Pe)&&.5>Ke||!dr||(Wt.y=-$r):Bo&&((0<=Pe||isNaN(Pe)&&.5>Ke)&&dr&&(Wt.y=-$r),Xo&&(Wt.x=-Dr))):(dr&&(Wt.x=0<=Pe||isNaN(Pe)&&.5>Ke?Dr:-Dr),Xo&&(Wt.y=-$r),Wt.rotate(tn))}else Wt.rotate(tn);yn+=Wt.x,Zi+=Wt.y,Bn.set(we),Bn.h(yn+ui,Zi+le,we.width,we.height),t.l.push(Bn),e.Rc(Bn)}}if(null!==v)for(n=v.labelNodes;n.next();)n.value.measure(1/0,1/0);t.xg=e,(t=t.location).h(t.x+e.x,t.y+e.y),$e(r,e.width||0,e.height||0),or.free(_),ht.free(bt),ht.free(Wt)}}}},t0.prototype.arrange=function(t,e){var i=e.length;if(t instanceof Ji||t instanceof Bi){var n=null,r=null,l=null;t instanceof Bi&&(r=n=t),t instanceof Ji&&(n=(l=t).adornedPart);var v=t instanceof Ji?null:n.path;if(0!==t.l.length){var _=t.l,D=0;if(null!==v&&D<t.l.length){var O=_[D];D++,v.arrange(O.x-t.xg.x,O.y-t.xg.y,O.width,O.height)}for(O=0;O<i;O++){var V=e[O];if(V!==v&&D<t.l.length){var $=_[D];D++,V.arrange($.x-t.xg.x,$.y-t.xg.y,$.width,$.height)}}}if(2<=(i=(e=n.points).count)&&t instanceof Bi)for(n=t.labelNodes;n.next();){var vt=t;_=(v=n.value).segmentIndex,D=v.segmentFraction;var kt=v.alignmentFocus;if(O=v.segmentOrientation,V=v.segmentOffset,isNaN(_)){$=vt.na;var bt=o();$.Yv(D,bt);var Wt=ht.allocAt(bt[0],bt[1]);Wt.add(vt.i(0)),$.type===Ie||($=$.figures.first()),Wt.offset(-$.startX,-$.startY),$=bt[2],O!==Fs&&(vt=vt.computeAngle(v,O,$),v.angle=vt),vt=Wt.x;var de=Wt.y;ht.free(Wt),c(bt)}else if(_<-i||_>=i)de=vt.midPoint,$=vt.midAngle,O!==Fs&&(vt=vt.computeAngle(v,O,$),v.angle=vt),vt=de.x,de=de.y;else{if(Wt=0,0<=_?(bt=e.j[_],de=_<i-1?e.j[_+1]:bt):(bt=e.j[Wt=i+_],de=0<Wt?e.j[Wt-1]:bt),bt.Qa(de)){0<=_?($=0<_?e.j[_-1]:bt,Wt=_<i-2?e.j[_+2]:de):($=Wt<i-1?e.j[Wt+1]:bt,Wt=1<Wt?e.j[Wt-2]:de);var le=$.Ie(bt),we=de.Ie(Wt);$=le>we+10?0<=_?$.Pa(bt):bt.Pa($):we>le+10?0<=_?de.Pa(Wt):Wt.Pa(de):0<=_?$.Pa(Wt):Wt.Pa($)}else $=0<=_?bt.Pa(de):de.Pa(bt);O!==Fs&&(vt=vt.computeAngle(v,O,$),v.angle=vt),vt=bt.x+(de.x-bt.x)*D,de=bt.y+(de.y-bt.y)*D}if(kt.Vt())v.location=new ht(vt,de);else{kt.nc()&&(kt=ar),(bt=or.alloc()).reset(),bt.scale(v.scale,v.scale),bt.rotate(v.angle,0,0);var Pe=v.naturalBounds;Wt=he.allocAt(0,0,Pe.width,Pe.height),(le=ht.alloc()).tj(Wt,kt),bt.ta(le),kt=-le.x,we=-le.y;var Ke=Pe.width,ui=Pe.height;(Pe=ht.alloc()).assign(V);var $i=isNaN(V.x),vn=isNaN(V.y);if($i||vn){Ke=Ke/2+3,ui=ui/2+3;var tn=45<=$&&135>=$,Bn=225<=$&&315>=$;O===Fs&&(tn||Bn)?(Pe.x=vn?Ke:V.y,Pe.y=$i?ui:V.x,tn?0<=_||isNaN(_)&&.5>D||!$i||(Pe.y=-ui):Bn&&((0<=_||isNaN(_)&&.5>D)&&$i&&(Pe.y=-ui),vn&&(Pe.x=-Ke))):($i&&(Pe.x=0<=_||isNaN(_)&&.5>D?Ke:-Ke),vn&&(Pe.y=-ui),Pe.rotate($))}else Pe.rotate($);vt+=Pe.x,de+=Pe.y,bt.Pw(Wt),_=ht.allocAt(vt+(kt+=Wt.x),de+(we+=Wt.y)),v.move(_),ht.free(_),ht.free(Pe),ht.free(le),he.free(Wt),or.free(bt)}}null!==l?l.Gk(!1):null!==r&&r.Gk(!1)}},Z(e0,Is),e0.prototype.measure=function(t,e,i,n,r,l,v){var _=t.tb();t.dh=[];var D=_.margin,O=D.right+D.left,V=D.top+D.bottom;_.measure(e,i,l,v);var $=_.measuredBounds,vt=new he(-D.left,-D.top,Math.max($.width+O,0),Math.max($.height+V,0));t.dh.push(vt),r.assign(vt);for(var kt=_.geometry,bt=_.strokeWidth,Wt=kt.flattenedSegments,de=kt.flattenedLengths,le=kt.flattenedTotalLength,we=Wt.length,Pe=0,Ke=0,ui=o(),$i=0;$i<we;$i++){var vn=Wt[$i],tn=[];Ke=Pe=0;for(var Bn=vn.length,yn=0;yn<Bn;yn+=2){var Zi=vn[yn],Dr=vn[yn+1];if(0!==yn){var dr=180*Math.atan2(Dr-Ke,Zi-Pe)/Math.PI;0>dr&&(dr+=360),tn.push(dr)}Pe=Zi,Ke=Dr}ui.push(tn)}if(null===t.eh){for(var $r=[],Xo=t.W.j,Qs=Xo.length,Bo=0;Bo<Qs;Bo++){var Ao=Xo[Bo],Mc=[];if($r.push(Mc),Ao.visible){var Dl=Ao.interval;if(!(0>Dl))for(var Al=0;Al<Qs;Al++)if(Al!==Bo){var ta=Xo[Al];if(ta.visible&&Ao.constructor===ta.constructor){var ah=ta.interval;ah>Dl&&Mc.push(ah)}}}}t.eh=$r}var Cd=t.eh,Jm=t.W.j,bp=Jm.length,dl=0,Qm=0,pm=le;t.Mj=[];for(var tg,$g=0;$g<bp;$g++){var Bs=Jm[$g];if(tg=[],Bs.visible&&Bs!==_){var zv=Math.abs(Bs.interval),Ny=t.graduatedTickUnit;if(!(2>Ny*zv*le/t.graduatedRange)){var Xg=de[0][0],rf=0,ju=0;Qm=le*Bs.graduatedStart-1e-4,pm=le*Bs.graduatedEnd+1e-4;var eg=Ny*zv,Tu=t.graduatedTickBase;if(Tu<t.graduatedMin){var Mp=(t.graduatedMin-Tu)/eg;Tu+=(Mp=Mp%1==0?Mp:Math.floor(Mp+1))*eg}else Tu>t.graduatedMin+eg&&(Tu-=Math.floor((Tu-t.graduatedMin)/eg)*eg);for(var Zg=Cd[$g],R1=Tu,sf=1;Tu<t.graduatedMax+5e-8;sf++){t:{for(var Zh=Zg.length,ig=0;ig<Zh;ig++)if(ti.aa((Tu-t.graduatedTickBase)%(Zg[ig]*t.graduatedTickUnit),0)){var ng=!1;break t}ng=!0}if(ng&&(null===Bs.graduatedSkip||!Bs.graduatedSkip(Tu))&&((dl=(Tu-t.graduatedMin)*le/t.graduatedRange)>le&&(dl=le),Qm<=dl&&dl<=pm)){for(var qh=ui[rf][ju],Sd=de[rf][ju];rf<de.length;){for(;dl>Xg&&ju<de[rf].length-1;)ju++,qh=ui[rf][ju],Xg+=Sd=de[rf][ju];if(dl<=Xg)break;qh=ui[++rf][ju=0],Xg+=Sd=de[rf][ju]}var hu=Wt[rf],rg=hu[2*ju],qg=hu[2*ju+1],Jh=(dl-(Xg-Sd))/Sd,Cp=new ht(rg+(hu[2*ju+2]-rg)*Jh+bt/2-kt.bounds.x,qg+(hu[2*ju+3]-qg)*Jh+bt/2-kt.bounds.y);Cp.scale(_.scale,_.scale);var Ed=qh,Sp=ui[rf];if(1e-4>Jh?0<ju?Ed=Sp[ju-1]:ti.aa(hu[0],hu[hu.length-2])&&ti.aa(hu[1],hu[hu.length-1])&&(Ed=Sp[Sp.length-1]):.9999<Jh&&(ju+1<Sp.length?Ed=Sp[ju+1]:ti.aa(hu[0],hu[hu.length-2])&&ti.aa(hu[1],hu[hu.length-1])&&(Ed=Sp[0])),qh!==Ed&&(180<Math.abs(qh-Ed)&&(qh<Ed?qh+=360:Ed+=360),qh=(qh+Ed)/2%360),Bs instanceof Br){var af="";""!==(af=null!==Bs.graduatedFunction?null!=(af=Bs.graduatedFunction(Tu))?af.toString():"":(+Tu.toFixed(2)).toString())&&tg.push({Km:Cp,angle:qh,text:af})}else tg.push({Km:Cp,angle:qh})}Tu=R1+sf*eg}}}t.Mj.push(tg)}c(ui);var Uv=t.Mj;if(null!==Uv)for(var L1=n.length,A0=0;A0<L1;A0++){var pl=n[A0],Cc=Uv[A0];if(pl.visible&&pl!==_&&0!==Cc.length){if(pl instanceof sr){var ya=t,Jg=r,kl=pl.alignmentFocus;kl.nc()&&(kl=so);var zu=pl.angle;pl.Yb=0,pl.measure(1/0,1/0,0,0),pl.Yb=zu;var Pu=pl.measuredBounds,jf=Pu.width,Sc=Pu.height,og=he.allocAt(0,0,jf,Sc),Uu=ht.alloc();Uu.tj(og,kl),he.free(og);for(var Qg=-Uu.x,sg=-Uu.y,zf=new he,tv=Cc.length,k0=0;k0<tv;k0++)for(var Ep=Cc[k0],Uf=Ep.Km.x,Hf=Ep.Km.y,Dd=Ep.angle,ag=0;4>ag;ag++){switch(ag){case 0:Uu.h(Qg,sg);break;case 1:Uu.h(Qg+jf,sg);break;case 2:Uu.h(Qg,sg+Sc);break;case 3:Uu.h(Qg+jf,sg+Sc)}Uu.rotate(Dd+pl.angle),Uu.offset(Uf,Hf),0===k0&&0===ag?zf.h(Uu.x,Uu.y,0,0):zf.Oe(Uu),Uu.offset(-Uf,-Hf),Uu.rotate(-Dd-pl.angle)}ht.free(Uu),null!==ya.dh&&ya.dh.push(zf),Ln(Jg,zf.x,zf.y,zf.width,zf.height)}else if(pl instanceof Br){var Ad=t,N1=r;null===Ad.zh&&(Ad.zh=new Br);var Kl=Ad.zh;_h(Kl,pl);var is=pl.alignmentFocus;is.nc()&&(is=so);for(var cu=pl.segmentOrientation,Gf=pl.segmentOffset,Yf=new he,mm=0,kd=0,Hu=0,T0=0,ev=0,Hv=Cc.length,lg=0;lg<Hv;lg++){var Qh=Cc[lg];mm=Qh.Km.x,kd=Qh.Km.y,Hu=Qh.angle,ev=T0=pl.angle,cu!==Fs&&(T0=Bi.computeAngle(cu,ev=cu===cp||cu===h0?Hu+pl.angle:Hu)),Kl.Yb=T0,Kl.text=Qh.text||"",Kl.measure(1/0,1/0,0,0);var Wf=Kl.measuredBounds,Kf=Kl.naturalBounds,$f=Kf.width,lf=Kf.height,Dp=or.alloc();Dp.reset(),Dp.translate(-Wf.x,-Wf.y),Dp.scale(Kl.scale,Kl.scale),Dp.rotate(ev,$f/2,lf/2),cu!==Gl&&cu!==c0||Dp.rotate(90,$f/2,lf/2),cu!==wc&&cu!==Xc||Dp.rotate(-90,$f/2,lf/2),cu===lu&&(45<Hu&&135>Hu||225<Hu&&315>Hu)&&Dp.rotate(-Hu,$f/2,lf/2);var Fy=he.allocAt(0,0,$f,lf),tc=ht.alloc();tc.tj(Fy,is),Dp.ta(tc);var By=-tc.x,Gv=-tc.y,lh=ht.alloc();lh.assign(Gf),isNaN(lh.x)&&(lh.x=$f/2+3),isNaN(lh.y)&&(lh.y=-(lf/2+3)),lh.rotate(Hu);var gm=new he(mm+=lh.x+By,kd+=lh.y+Gv,Wf.width,Wf.height),Td=new he(Wf.x,Wf.y,Wf.width,Wf.height),ug=new he(Kf.x,Kf.y,Kf.width,Kf.height);Qh.DA=T0,Qh.lineCount=Kl.lineCount,Qh.lines=[Kl.vb,Kl.Ei,Kl.oe,Kl.Be,Kl.Qb,Kl.lb,Kl.me],Qh.actualBounds=gm,Qh.measuredBounds=Td,Qh.naturalBounds=ug,0===lg?Yf.assign(gm):Yf.Rc(gm),ht.free(lh),ht.free(tc),he.free(Fy),or.free(Dp)}null!==Ad.dh&&Ad.dh.push(Yf),Ln(N1,Yf.x,Yf.y,Yf.width,Yf.height)}rl(pl,!1)}}},e0.prototype.arrange=function(t,e,i){if(null!==t.dh){var n=t.tb(),r=t.Mj;if(null!==r){var l=t.dh,v=0,_=l[v];v++,null!==n&&n.arrange(_.x-i.x,_.y-i.y,_.width,_.height);for(var D=e.length,O=0;O<D;O++){var V=e[O];_=r[O],V.visible&&V!==n&&0!==_.length&&(_=l[v],v++,V.arrange(_.x-i.x,_.y-i.y,_.width,_.height))}t.dh=null}}},e0.prototype.mc=function(t,e,i){var n=i.yi;i.yi=!0;var r=t.naturalBounds,l=r.width;r=r.height,e.save(),e.beginPath(),e.rect(-1,-1,l+1,r+1),e.clip(),(l=t.tb()).mc(e,i),0>=(r=t.Af()*i.scale)&&(r=1);for(var v=l.actualBounds,_=t.W.j,D=t.Mj,O=_.length,V=0;V<O;V++){var $=_[V],vt=D[V],kt=vt.length;if($.visible&&$!==l&&0!==vt.length)if($ instanceof sr){if(!(2>t.graduatedTickUnit*$.interval*l.geometry.flattenedTotalLength/t.graduatedRange*r)){var bt=$.measuredBounds,Wt=$.strokeWidth*$.scale,de=$.alignmentFocus;de.nc()&&(de=so);for(var le=0;le<kt;le++){var we=vt[le].Km,Pe=vt[le].angle,Ke=de,ui=$.sb;ui.reset(),ui.translate(we.x+v.x,we.y+v.y),ui.rotate(Pe+$.angle,0,0),ui.translate(-bt.width*Ke.x+Ke.offsetX+Wt/2,-bt.height*Ke.y+Ke.offsetY+Wt/2),ui.scale($.scale,$.scale),Qd($,!1),$.Zh.set($.sb),$.ql=$.scale,_l($,!1),$.mc(e,i),$.sb.reset()}}}else if($ instanceof Br)for(null===t.zh&&(t.zh=new Br),_h(bt=t.zh,$),$=0;$<kt;$++)(Wt=vt[$]).actualBounds&&Wt.measuredBounds&&Wt.naturalBounds&&(bt.Ub=Wt.text||"",bt.Yb=Wt.DA||0,bt.Zc=Wt.lineCount||0,void 0!==(de=Wt.lines)&&(bt.vb=de[0],bt.Ei=de[1],bt.oe=de[2],bt.Be=de[3],bt.Qb=de[4],bt.lb=de[5],bt.me=de[6]),Wt.naturalBounds&&(bt.rc=Wt.naturalBounds),Wt.actualBounds&&bt.arrange((de=Wt.actualBounds).x,de.y,de.width,de.height),bt.arrange((de=Wt.actualBounds).x,de.y,de.width,de.height),le=Wt.measuredBounds,Wt=Wt.naturalBounds,(we=bt.sb).reset(),we.translate(de.x+v.x,de.y+v.y),we.translate(-le.x,-le.y),qd(bt,we,Wt.x,Wt.y,Wt.width,Wt.height),Qd(bt,!1),bt.Zh.set(bt.sb),bt.ql=bt.scale,_l(bt,!1),bt.mc(e,i))}i.yi=n,e.restore(),e.uc(!0)},Z(Xi,jn),Xi.prototype.cloneProtected=function(t){if(jn.prototype.cloneProtected.call(this,t),t.qa=this.qa,t.ib=this.ib.H(),t.Mn=this.Mn.H(),t.Sf=this.Sf,t.qa===Xi.Table){t.Fj=this.Fj.H(),t.Ug=this.Ug,t.si=this.si,t.ri=this.ri,t.Tg=this.Tg,t.Sg=this.Sg,t.pi=this.pi;var e=[];if(0<this.qb.length)for(var i=this.qb,n=i.length,r=0;r<n;r++)if(void 0!==i[r]){var l=i[r].copy();l.sj(t),e[r]=l}if(t.qb=e,e=[],0<this.nb.length)for(n=(i=this.nb).length,r=0;r<n;r++)void 0!==i[r]&&((l=i[r].copy()).sj(t),e[r]=l);t.nb=e,t.dk=this.dk,t.Cj=this.Cj,t.Xi=this.Xi,t.Gi=this.Gi}t.pq=this.pq,t.no=this.no.H(),t.oo=this.oo.H(),t.ko=this.ko,t.jo=this.jo,t.mo=this.mo,t.lo=this.lo,t.Mj=this.Mj,t.eh=this.eh,t.ob=this.ob,t.li=this.li,t.Do=this.Do,t.Ci=this.Ci,t.te=this.te,t.Jl=this.Jl,t.xg.assign(this.xg),t.Lg=this.Lg,null!==this.Lp&&(t.Lp=this.Lp)},Xi.prototype.yf=function(t){jn.prototype.yf.call(this,t),t.W=this.W;for(var e=t.W.j,i=e.length,n=0;n<i;n++)e[n].og=t;t.Ui=null},Xi.prototype.copy=function(){var t=jn.prototype.copy.call(this);if(null!==t){for(var e=this.W.j,i=e.length,n=0;n<i;n++){var r=e[n].copy();r.sj(t),r.ak=null;var l=t.W,v=l.count;if(l.wb(v,r),null!==(l=t.part)){l.Xj=null,null!==r.portId&&l instanceof Si&&(l.Nh=!0);var _=t.diagram;null!==_&&_.undoManager.isUndoingRedoing||l.Va(gn,"elements",t,null,r,null,v)}}return t}return null},(Q=Xi.prototype).toString=function(){return"Panel("+this.type.name+")#"+Ge(this)},Q.mp=function(t){jn.prototype.mp.call(this,t);for(var e=this.W.j,i=e.length,n=0;n<i;n++)e[n].mp(t)},Q.ej=function(t,e){if(this.qa===Xi.Grid)this.qa.mc(this,t,e);else if(this.qa===Xi.Graduated)this.qa.mc(this,t,e);else{this.qa===Xi.Table&&(t.lineCap="butt",vc(this,t,!0,this.qb,!0),vc(this,t,!1,this.nb,!0),Q0(this,t,!0,this.qb),Q0(this,t,!1,this.nb),vc(this,t,!0,this.qb,!1),vc(this,t,!1,this.nb,!1));var i=this.isClipping&&this.qa===Xi.Spot;i&&t.save();for(var n=this.tb(),r=this.W.j,l=r.length,v=0;v<l;v++){var _=r[v];i&&_===n&&(t.clipInsteadOfFill=!0),_.mc(t,e),i&&_===n&&(t.clipInsteadOfFill=!1)}i&&(t.restore(),t.uc(!0))}},Q.zk=function(t,e,i,n,r){var l=this.he(),v=this.transform,_=1/(v.m11*v.m22-v.m12*v.m21),D=v.m22*_,O=-v.m12*_,V=-v.m21*_,$=v.m11*_,vt=_*(v.m21*v.dy-v.m22*v.dx),kt=_*(v.m12*v.dx-v.m11*v.dy);if(null!==this.areaBackground)return ti.Cf((v=this.actualBounds).left,v.top,v.right,v.bottom,t,e,i,n,r);if(null!==this.background)return l=t*D+e*V+vt,_=t*O+e*$+kt,t=i*D+n*V+vt,D=i*O+n*$+kt,r.h(0,0),l=ti.Cf(0,0,(i=this.naturalBounds).width,i.height,l,_,t,D,r),r.transform(v),l;l||(D=1,V=O=0,$=1,kt=vt=0),_=t*D+e*V+vt,t=t*O+e*$+kt,r.h(D=i*D+n*V+vt,i=i*O+n*$+kt),n=(D-_)*(D-_)+(i-t)*(i-t),O=!1,kt=($=this.W.j).length,V=ht.alloc(),vt=null,e=1/0;var bt=null,Wt=this.isClipping&&this.qa===Xi.Spot;Wt&&(bt=ht.alloc(),(O=(vt=this.tb()).zk(_,t,D,i,bt))&&(e=(_-bt.x)*(_-bt.x)+(t-bt.y)*(t-bt.y)));for(var de=0;de<kt;de++){var le=$[de];le.visible&&le!==vt&&le.zk(_,t,D,i,V)&&(O=!0,(le=(_-V.x)*(_-V.x)+(t-V.y)*(t-V.y))<n&&(n=le,r.set(V)))}return Wt&&(e>n&&r.set(bt),ht.free(bt)),ht.free(V),l&&r.transform(v),O},Q.s=function(t){if(!Ps(this)){jn.prototype.s.call(this,t),t=null,(this.qa===Xi.Auto||this.qa===Xi.Link)&&(t=this.tb());for(var e=this.W.j,i=e.length,n=0;n<i;n++){var r=e[n];if((r===t||r.isPanelMain)&&r.s(!0),!r.desiredSize.o()){var l=Nu(r,!1);(r instanceof Rn||r instanceof Xi||r instanceof Br||l!==ho)&&r.s(!0)}}}},Q.Bk=function(){if(!Ps(this)){rl(this,!0),Hh(this,!0);for(var t=this.W.j,e=t.length,i=0;i<e;i++)t[i].Bk()}},Q.Fl=function(){if(0==(2048&this.F)){Qd(this,!0),_l(this,!0);for(var t=this.W.j,e=t.length,i=0;i<e;i++)t[i].dw()}},Q.dw=function(){_l(this,!0);for(var t=this.W.j,e=t.length,i=0;i<e;i++)t[i].dw()},Q.Hm=function(t,e,i,n){var r=this.xg;r.h(0,0,0,0);var l=this.desiredSize,v=this.minSize;void 0===i&&(i=v.width,n=v.height),i=Math.max(i,v.width),n=Math.max(n,v.height);var _=this.maxSize;isNaN(l.width)||(t=Math.min(l.width,_.width)),isNaN(l.height)||(e=Math.min(l.height,_.height)),t=Math.max(i,t),e=Math.max(n,e);var D=this.ib;t=Math.max(t-D.left-D.right,0),e=Math.max(e-D.top-D.bottom,0);var O=this.W.j;0!==O.length&&this.qa.measure(this,t,e,O,r,i,n),t=r.width+D.left+D.right,D=r.height+D.top+D.bottom,isFinite(l.width)&&(t=l.width),isFinite(l.height)&&(D=l.height),t=Math.min(_.width,t),D=Math.min(_.height,D),t=Math.max(v.width,t),D=Math.max(v.height,D),$e(r,t=Math.max(i,t),D=Math.max(n,D)),$e(this.naturalBounds,t,D),nl(this,0,0,t,D)},Q.tb=function(){if(null===this.Ui){var t=this.W.j,e=t.length;if(0===e)return null;for(var i=0;i<e;i++){var n=t[i];if(!0===n.isPanelMain)return this.Ui=n}this.Ui=t[0]}return this.Ui},Q.Ih=function(t,e,i,n){var r=this.W.j;if(this.actualBounds.h(t,e,i,n),0!==r.length){if(!this.desiredSize.o()){t=Nu(this,!0);var l=this.measuredBounds;e=l.width,l=l.height;var v=this.jh,_=v.left+v.right;switch(v=v.top+v.bottom,e===i&&l===n&&(t=ho),t){case ho:(e>i||l>n)&&(this.s(),this.measure(e>i?i:e,l>n?n:l,0,0));break;case No:this.s(!0),this.measure(i+_,n+v,0,0);break;case Yo:this.s(!0),this.measure(i+_,l+v,0,0);break;case ua:this.s(!0),this.measure(e+_,n+v,0,0)}}this.qa.arrange(this,r,this.xg)}},Q.Kh=function(t){var e=this.naturalBounds,i=Ju(this);if(Kn(0,0,e.width,e.height,t.x,t.y)){for(var n=(e=this.W.j).length,r=ht.allocAt(0,0);n--;){var l=e[n];if((l.visible||l===i)&&(We(r.set(t),l.transform),l.$(r)))return ht.free(r),!0}return ht.free(r),!(null===this.mb&&null===this.ec)}return!1},Q.Gt=function(t){if(this.dl===t)return this;for(var e=this.W.j,i=e.length,n=0;n<i;n++){var r=e[n].Gt(t);if(null!==r)return r}return null},Q.an=function(t,e){if(e(this,t),t instanceof Xi)for(var i=(t=t.W.j).length,n=0;n<i;n++)this.an(t[n],e)},Q.ym=function(t){return Wh(this,this,t)},Q.bb=function(t){if(this.name===t)return this;var e=this.W.j,i=e.length;null===this.Ci&&null===this.te||(i=hd(this));for(var n=0;n<i;n++){var r=e[n];if(r instanceof Xi){var l=r.bb(t);if(null!==l)return l}if(r.name===t)return r}return null},Q.he=function(){return!(this.type===Xi.TableRow||this.type===Xi.TableColumn)},Q.Vb=function(t,e,i){if(!1===this.pickable||(void 0===e&&(e=null),void 0===i&&(i=null),Vl(this)))return null;var n=this.naturalBounds,r=1/this.Af(),l=this.he(),v=l?t:We(ht.allocAt(t.x,t.y),this.transform),_=this.diagram,D=10,O=5;if(null!==_&&(O=(D=_.Bm("extraTouchArea"))/2),Kn(-O*r,-O*r,n.width+D*r,n.height+D*r,v.x,v.y)){if(!this.isAtomic){var V=(r=this.W.j).length;if(_=ht.alloc(),O=(D=this.isClipping&&this.qa===Xi.Spot)?this.tb():null,D&&(O.he()?We(_.set(t),O.transform):_.set(t),!O.$(_)))return ht.free(_),l||ht.free(v),null;for(var $=Ju(this);V--;){var vt=r[V];if((vt.visible||vt===$)&&(vt.he()?We(_.set(t),vt.transform):_.set(t),!D||vt!==O)){var kt=null;if(vt instanceof Xi?kt=vt.Vb(_,e,i):!0===vt.pickable&&vt.$(_)&&(kt=vt),null!==kt&&(null!==e&&(kt=e(kt)),null!==kt&&(null===i||i(kt))))return ht.free(_),l||ht.free(v),kt}}ht.free(_)}return null===this.background&&null===this.areaBackground?(l||ht.free(v),null):(t=Kn(0,0,n.width,n.height,v.x,v.y)?this:null,l||ht.free(v),t)}return l||ht.free(v),null},Q.hj=function(t,e,i,n){if(!1===this.pickable)return!1;void 0===e&&(e=null),void 0===i&&(i=null);var r=this.naturalBounds,l=this.he(),v=l?t:We(ht.allocAt(t.x,t.y),this.transform);if(r=Kn(0,0,r.width,r.height,v.x,v.y),this.type===Xi.TableRow||this.type===Xi.TableColumn||r){if(!this.isAtomic){for(var _=this.W.j,D=_.length,O=ht.alloc(),V=Ju(this);D--;){var $=_[D];if($.visible||$===V){$.he()?We(O.set(t),$.transform):O.set(t);var vt=$;(null!==($=$ instanceof Xi?$:null)?$.hj(O,e,i,n):vt.$(O))&&!1!==vt.pickable&&(null!==e&&(vt=e(vt)),null===vt||null!==i&&!i(vt)||n.add(vt))}}ht.free(O)}return l||ht.free(v),r&&(null!==this.background||null!==this.areaBackground)}return l||ht.free(v),!1},Q.zf=function(t,e,i,n,r,l){if(!1===this.pickable)return!1;void 0===e&&(e=null),void 0===i&&(i=null);var v=l;if(void 0===l&&(v=or.alloc()).reset(),v.multiply(this.transform),this.Jh(t,v))return tm(this,e,i,r),void 0===l&&or.free(v),!0;if(this.Mc(t,v)){if(!this.isAtomic)for(var _=Ju(this),D=this.W.j,O=D.length;O--;){var V=D[O];if(V.visible||V===_){var $=V.actualBounds,vt=this.naturalBounds;$.x>vt.width||$.y>vt.height||0>$.x+$.width||0>$.y+$.height||($=V,V=V instanceof Xi?V:null,(vt=or.alloc()).set(v),(null!==V?V.zf(t,e,i,n,r,vt):Gp($,t,n,vt))&&(null!==e&&($=e($)),null===$||null!==i&&!i($)||r.add($)),or.free(vt))}}return void 0===l&&or.free(v),n}return void 0===l&&or.free(v),!1},Q.Eg=function(t,e,i,n,r,l){if(!1===this.pickable)return!1;void 0===i&&(i=null),void 0===n&&(n=null);var v=this.naturalBounds,_=this.he(),D=_?t:We(ht.allocAt(t.x,t.y),this.transform),O=_?e:We(ht.allocAt(e.x,e.y),this.transform),V=D.Ie(O),$=0<D.x&&D.x<v.width&&0<D.y&&D.y<v.height||si(D.x,D.y,0,0,0,v.height)<=V||si(D.x,D.y,0,v.height,v.width,v.height)<=V||si(D.x,D.y,v.width,v.height,v.width,0)<=V||si(D.x,D.y,v.width,0,0,0)<=V;if(v=D.qd(0,0)<=V&&D.qd(0,v.height)<=V&&D.qd(v.width,0)<=V&&D.qd(v.width,v.height)<=V,_||(ht.free(D),ht.free(O)),$){if(!this.isAtomic){D=ht.alloc(),O=ht.alloc(),V=Ju(this);for(var vt=this.W.j,kt=vt.length;kt--;){var bt=vt[kt];if(bt.visible||bt===V){var Wt=bt.actualBounds,de=this.naturalBounds;(!_||!(Wt.x>de.width||Wt.y>de.height||0>Wt.x+Wt.width||0>Wt.y+Wt.height))&&(bt.he()?(Wt=bt.transform,We(D.set(t),Wt),We(O.set(e),Wt)):(D.set(t),O.set(e)),Wt=bt,(null!==(bt=bt instanceof Xi?bt:null)?bt.Eg(D,O,i,n,r,l):Wt.sy(D,O,r))&&(null!==i&&(Wt=i(Wt)),null===Wt||null!==n&&!n(Wt)||l.add(Wt)))}}ht.free(D),ht.free(O)}return r?$:v}return!1},Q.add=function(t){this.wb(this.W.count,t)},Q.J=function(t){return this.W.J(t)},Q.wb=function(t,e){e instanceof qt&&U("Cannot add a Part to a Panel: "+e+"; use a Panel instead"),(this===e||this.Gg(e))&&(this===e&&U("Cannot make a Panel contain itself: "+this.toString()),U("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+e.toString()));var i=e.panel;if(null!==i&&i!==this&&U("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+e.toString()+", already contained by "+i.toString()+", cannot be shared by this Panel: "+this.toString()),this.qa!==Xi.Grid||e instanceof sr||U("Can only add Shapes to a Grid Panel, not: "+e),this.qa!==Xi.Graduated||e instanceof sr||e instanceof Br||U("Can only add Shapes or TextBlocks to a Graduated Panel, not: "+e),e.sj(this),e.ak=null,null!==this.itemArray){var n=e.data;null!==n&&"object"==typeof n&&(null===this.Zd&&(this.Zd=new yt),this.Zd.add(n,e))}var r=this.W;if(n=-1,i===this){for(var l=-1,v=this.W.j,_=v.length,D=0;D<_;D++)if(v[D]===e){l=D;break}if(-1!==l){if(l===t||l+1>=r.count&&t>=r.count)return;r.cb(l),n=l}else U("element "+e.toString()+" has panel "+i.toString()+" but is not contained by it.")}(0>t||t>r.count)&&(t=r.count),r.wb(t,e),(0===t||e.isPanelMain)&&(this.Ui=null),Ps(this)||this.s(),e.s(!1),(null!==e.portId||e instanceof Xi&&!0===e.Nh)&&(this.Nh=!0),this.eh=null,null!==(i=this.part)&&(i.Xj=null,i.kh=NaN,this.Nh&&i instanceof Si&&(i.Nh=!0),i.Nh&&i instanceof Si&&(i.tc=null),null!==(r=this.diagram)&&r.undoManager.isUndoingRedoing||(-1!==n&&i.Va(wn,"elements",this,e,null,n,null),i.Va(gn,"elements",this,null,e,null,t),this.Hg()||nm(this,e,!1)))},Q.remove=function(t){for(var e=this.W.j,i=e.length,n=-1,r=0;r<i;r++)if(e[r]===t){n=r;break}-1!==n&&this.Lc(n,!0)},Q.cb=function(t){0<=t&&this.Lc(t,!0)},Q.Lc=function(t,e){var i=this.W,n=i.J(t);if(n.ak=null,n.sj(null),null!==this.Zd){var r=n.data;"object"==typeof r&&this.Zd.remove(r)}i.cb(t),rl(this,!1),this.s(),this.Ui===n&&(this.Ui=null),this.eh=null;var l=this.part;null!==l&&(l.Xj=null,l.kh=NaN,l.Lb(),l instanceof Si&&(n instanceof Xi?n.an(n,function(v,_){wr(l,_,e)}):wr(l,n,e)),null!==(i=this.diagram)&&i.undoManager.isUndoingRedoing||l.Va(wn,"elements",this,n,null,t,null))},Xi.prototype.getRowDefinition=function(t){0>t&&ot(t,">= 0",Xi,"getRowDefinition:idx"),t=Math.round(t);var e=this.qb;if(void 0===e)return null;if(void 0===e[t]){var i=new rs;i.sj(this),i.isRow=!0,i.index=t,e[t]=i,this.Va(gn,"rowdefs",this,null,i,null,t)}return e[t]},Xi.prototype.XA=function(t){0>t&&ot(t,">= 0",Xi,"removeRowDefinition:idx"),t=Math.round(t);var e=this.qb;if(void 0!==e){var i=e[t];if(i){e[t]=void 0;for(var n=e.length-1;0<=n&&void 0===e[n--];)e.length--;this.Va(wn,"rowdefs",this,i,null,t,null),this.s()}}},Xi.prototype.getColumnDefinition=function(t){0>t&&ot(t,">= 0",Xi,"getColumnDefinition:idx"),t=Math.round(t);var e=this.nb;if(void 0===e)return null;if(void 0===e[t]){var i=new rs;i.sj(this),i.isRow=!1,i.index=t,e[t]=i,this.Va(gn,"coldefs",this,null,i,null,t)}return e[t]},(Q=Xi.prototype).SA=function(t){0>t&&ot(t,">= 0",Xi,"removeColumnDefinition:idx"),t=Math.round(t);var e=this.nb;if(void 0!==e){var i=e[t];if(i){e[t]=void 0;for(var n=e.length-1;0<=n&&void 0===e[n--];)e.length--;this.Va(wn,"coldefs",this,i,null,t,null),this.s()}}},Q.aA=function(t){if(0>t||this.type!==Xi.Table)return-1;for(var e=0,i=this.qb,n=i.length,r=this.Xi;r<n;r++){var l=i[r];if(void 0!==l&&t<(e+=l.total))break}return r},Q.Tz=function(t){if(0>t||this.type!==Xi.Table)return-1;for(var e=0,i=this.nb,n=i.length,r=this.Gi;r<n;r++){var l=i[r];if(void 0!==l&&t<(e+=l.total))break}return r},Q.qA=function(t,e){if(void 0===e&&(e=new ht(NaN,NaN)),this.type!==Xi.Graduated)return e.h(NaN,NaN),e;t=Math.min(Math.max(t,this.graduatedMin),this.graduatedMax);var i=this.tb();return i.geometry.Xv((t-this.graduatedMin)/this.graduatedRange,e),i.transform.ta(e)},Q.rA=function(t){if(this.type!==Xi.Graduated)return NaN;var e=this.tb();return e.transform.Jd(t),e.geometry.wy(t)*this.graduatedRange+this.graduatedMin},Q.Gz=function(t){void 0===t&&(t=!1);var e=this.copy();return _g(e,function(i){i instanceof Xi&&(i.li=null,i.ob=null);var n=i.fb;null!==n&&(i.fb=null,n.each(function(r){i.bind(r.copy())})),null!==(n=i.Mg)&&(i.Mg=null,n.each(function(r){i.Qw(r.value.copy())}))}),t&&ul(e),e},Q.Ea=function(t){var e=this.li;if(null!==e)for(void 0===t&&(t=""),e=e.iterator;e.next();){var i=e.value,n=i.sourceProperty;if((""===t||""===n||n===t)&&(n=i.targetProperty,null!==i.converter||""!==n)){n=this.data;var r=i.sourceName;if(null!==r){if(""===r)n=this;else if("/"===r)n=this;else if("."===r)n=this;else if(".."===r)n=this;else if(null===(n=this.bb(r)))continue}else if(i.isToModel){if(null===(n=this.diagram))continue;n=n.model.modelData}var l=this,v=i.wj;if(-1!==v){if(null===(l=this.Gt(v)))continue}else null!==i.pd&&(l=i.pd);if("/"===r?n=l.part:"."===r?n=l:".."===r&&(n=l.panel),0!==(r=i.hq)){if(!(l instanceof Xi))continue;1===r?l=l.getColumnDefinition(i.om):2===r&&(l=l.getRowDefinition(i.om))}void 0!==l&&i.Tw(l,n)}}},Q.eu=function(){for(var t=hd(this);this.W.length>t;)this.Lc(this.W.length-1,!1);if(null!==(t=this.itemArray))for(var e=t.length,i=0;i<e;i++)op(this,t[i],i)},Q.qy=function(t){return null==t||null===this.Zd?null:this.Zd.G(t)},H.Object.defineProperties(Xi.prototype,{type:{get:function(){return this.qa},set:function(t){var e=this.qa;e!==t&&(this.qa=t,this.qa===Xi.Grid?this.isAtomic=!0:this.qa===Xi.Table&&wg(this),this.s(),this.g("type",e,t))}},elements:{get:function(){return this.W.iterator}},naturalBounds:{get:function(){return this.rc}},padding:{get:function(){return this.ib},set:function(t){"number"==typeof t?(0>t&&ot(t,">= 0",Xi,"padding"),t=new Je(t)):(0>t.left&&ot(t.left,">= 0",Xi,"padding:value.left"),0>t.right&&ot(t.right,">= 0",Xi,"padding:value.right"),0>t.top&&ot(t.top,">= 0",Xi,"padding:value.top"),0>t.bottom&&ot(t.bottom,">= 0",Xi,"padding:value.bottom"));var e=this.ib;e.w(t)||(this.ib=t=t.H(),this.s(),this.g("padding",e,t))}},defaultAlignment:{get:function(){return this.Mn},set:function(t){var e=this.Mn;e.w(t)||(this.Mn=t=t.H(),this.s(),this.g("defaultAlignment",e,t))}},defaultStretch:{get:function(){return this.Sf},set:function(t){var e=this.Sf;e!==t&&(this.Sf=t,this.s(),this.g("defaultStretch",e,t))}},defaultSeparatorPadding:{get:function(){return void 0===this.Fj?nr:this.Fj},set:function(t){if(void 0!==this.Fj){"number"==typeof t&&(t=new Je(t));var e=this.Fj;e.w(t)||(this.Fj=t=t.H(),this.s(),this.g("defaultSeparatorPadding",e,t))}}},defaultRowSeparatorStroke:{get:function(){return void 0===this.si?null:this.si},set:function(t){var e=this.si;e!==t&&(null===t||"string"==typeof t||t instanceof Fr)&&(t instanceof Fr&&t.freeze(),this.si=t,this.M(),this.g("defaultRowSeparatorStroke",e,t))}},defaultRowSeparatorStrokeWidth:{get:function(){return void 0===this.Ug?1:this.Ug},set:function(t){if(void 0!==this.Ug){var e=this.Ug;e!==t&&isFinite(t)&&0<=t&&(this.Ug=t,this.s(),this.g("defaultRowSeparatorStrokeWidth",e,t))}}},defaultRowSeparatorDashArray:{get:function(){return void 0===this.ri?null:this.ri},set:function(t){if(void 0!==this.ri){var e=this.ri;if(e!==t){if(null!==t){for(var i=t.length,n=0,r=0;r<i;r++){var l=t[r];"number"==typeof l&&0<=l&&isFinite(l)||U("defaultRowSeparatorDashArray value "+l+" at index "+r+" must be a positive number or zero."),n+=l}if(0===n){if(null===e)return;t=null}}this.ri=t,this.M(),this.g("defaultRowSeparatorDashArray",e,t)}}}},defaultColumnSeparatorStroke:{get:function(){return void 0===this.Sg?null:this.Sg},set:function(t){if(void 0!==this.Sg){var e=this.Sg;e!==t&&(null===t||"string"==typeof t||t instanceof Fr)&&(t instanceof Fr&&t.freeze(),this.Sg=t,this.M(),this.g("defaultColumnSeparatorStroke",e,t))}}},defaultColumnSeparatorStrokeWidth:{get:function(){return void 0===this.Tg?1:this.Tg},set:function(t){if(void 0!==this.Tg){var e=this.Tg;e!==t&&isFinite(t)&&0<=t&&(this.Tg=t,this.s(),this.g("defaultColumnSeparatorStrokeWidth",e,t))}}},defaultColumnSeparatorDashArray:{get:function(){return void 0===this.pi?null:this.pi},set:function(t){if(void 0!==this.pi){var e=this.pi;if(e!==t){if(null!==t){for(var i=t.length,n=0,r=0;r<i;r++){var l=t[r];"number"==typeof l&&0<=l&&isFinite(l)||U("defaultColumnSeparatorDashArray value "+l+" at index "+r+" must be a positive number or zero."),n+=l}if(0===n){if(null===e)return;t=null}}this.pi=t,this.M(),this.g("defaultColumnSeparatorDashArray",e,t)}}}},viewboxStretch:{get:function(){return this.pq},set:function(t){var e=this.pq;e!==t&&(this.pq=t,this.s(),this.g("viewboxStretch",e,t))}},gridCellSize:{get:function(){return this.no},set:function(t){var e=this.no;if(!e.w(t)){t.o()&&0!==t.width&&0!==t.height||U("Invalid Panel.gridCellSize: "+t),this.no=t.H();var i=this.diagram;null!==i&&this===i.grid&&oc(i),this.M(),this.g("gridCellSize",e,t)}}},gridOrigin:{get:function(){return this.oo},set:function(t){var e=this.oo;if(!e.w(t)){t.o()||U("Invalid Panel.gridOrigin: "+t),this.oo=t.H();var i=this.diagram;null!==i&&this===i.grid&&oc(i),this.M(),this.g("gridOrigin",e,t)}}},graduatedMin:{get:function(){return this.ko},set:function(t){var e=this.ko;e!==t&&(this.ko=t,this.s(),this.g("graduatedMin",e,t),Jd(this)&&null!==(t=this.part)&&xu(this,t,"graduatedRange"))}},graduatedMax:{get:function(){return this.jo},set:function(t){var e=this.jo;e!==t&&(this.jo=t,this.s(),this.g("graduatedMax",e,t),Jd(this)&&null!==(t=this.part)&&xu(this,t,"graduatedRange"))}},graduatedRange:{get:function(){return this.graduatedMax-this.graduatedMin}},graduatedTickUnit:{get:function(){return this.mo},set:function(t){var e=this.mo;e!==t&&0<t&&(this.mo=t,this.s(),this.g("graduatedTickUnit",e,t))}},graduatedTickBase:{get:function(){return this.lo},set:function(t){var e=this.lo;e!==t&&(this.lo=t,this.s(),this.g("graduatedTickBase",e,t))}},Nh:{get:function(){return 0!=(8388608&this.F)},set:function(t){0!=(8388608&this.F)!==t&&(this.F^=8388608)}},rowCount:{get:function(){return void 0===this.qb?0:this.qb.length}},columnCount:{get:function(){return void 0===this.nb?0:this.nb.length}},rowSizing:{get:function(){return void 0===this.dk?sp:this.dk},set:function(t){if(void 0!==this.dk){var e=this.dk;e!==t&&(this.dk=t,this.s(),this.g("rowSizing",e,t))}}},columnSizing:{get:function(){return void 0===this.Cj?sp:this.Cj},set:function(t){if(void 0!==this.Cj){var e=this.Cj;e!==t&&(this.Cj=t,this.s(),this.g("columnSizing",e,t))}}},topIndex:{get:function(){return void 0===this.Xi?0:this.Xi},set:function(t){if(void 0!==this.Xi){var e=this.Xi;e!==t&&((!isFinite(t)||0>t)&&U("Panel.topIndex must be greater than zero and a real number, not: "+t),this.Xi=t,this.s(),this.g("topIndex",e,t))}}},leftIndex:{get:function(){return void 0===this.Gi?0:this.Gi},set:function(t){if(void 0!==this.Gi){var e=this.Gi;e!==t&&((!isFinite(t)||0>t)&&U("Panel.leftIndex must be greater than zero and a real number, not: "+t),this.Gi=t,this.s(),this.g("leftIndex",e,t))}}},data:{get:function(){return this.ob},set:function(t){var e=this.ob;if(e!==t){var i=this instanceof qt&&!(this instanceof Ji);ul(this),this.ob=t;var n=this.diagram;null!==n&&(i?(i=n.partManager,this instanceof Bi?(null!==e&&i.Te.remove(e),null!==t&&i.Te.add(t,this)):this instanceof qt&&(null!==e&&i.Ue.remove(e),null!==t&&i.Ue.add(t,this))):null!==(i=this.panel)&&null!==i.Zd&&(null!==e&&i.Zd.remove(e),null!==t&&i.Zd.add(t,this))),this.g("data",e,t),null!==n&&n.undoManager.isUndoingRedoing||null!==t&&this.Ea()}}},itemIndex:{get:function(){return this.Do},set:function(t){var e=this.Do;e!==t&&(this.Do=t,this.g("itemIndex",e,t))}},itemArray:{get:function(){return this.Ci},set:function(t){var e=this.Ci;if(e!==t||null!==t&&function(t,e){for(var i=(t=t.W.j).length,n=e.length,r=0,l=null;r<i&&!((l=t[r])instanceof Xi&&null!==l.data);)l=t[++r];if(i-r!==n)return!0;if(null===l)return 0<n;for(var v=0;r<i&&v<n;){if(!((l=t[r])instanceof Xi)||l.data!==e[v])return!0;r++,v++}return!1}(this,t)){var i=this.diagram;e!==t&&(null!==i&&null!==e&&oy(i.partManager,this,i),this.Ci=t,null!==i&&null!==t&&rx(i.partManager,this)),this.g("itemArray",e,t),null!==i&&i.undoManager.isUndoingRedoing||this.eu()}}},itemTemplate:{get:function(){return null===this.te?null:this.te.G("")},set:function(t){if(null===this.te){if(null===t)return;this.te=new yt}var e=this.te.G("");e!==t&&((t instanceof qt||t.isPanelMain)&&U("Panel.itemTemplate must not be a Part or be Panel.isPanelMain: "+t),this.te.add("",t),this.g("itemTemplate",e,t),null!==(t=this.diagram)&&t.undoManager.isUndoingRedoing||this.eu())}},itemTemplateMap:{get:function(){return this.te},set:function(t){var e=this.te;if(e!==t){for(var i=t.iterator;i.next(););this.te=t,this.g("itemTemplateMap",e,t),null!==(t=this.diagram)&&t.undoManager.isUndoingRedoing||this.eu()}}},itemCategoryProperty:{get:function(){return this.Jl},set:function(t){var e=this.Jl;e!==t&&(this.Jl=t,this.g("itemCategoryProperty",e,t))}},isAtomic:{get:function(){return 0!=(1048576&this.F)},set:function(t){var e=0!=(1048576&this.F);e!==t&&(this.F^=1048576,this.g("isAtomic",e,t))}},isClipping:{get:function(){return 0!=(2097152&this.F)},set:function(t){var e=0!=(2097152&this.F);e!==t&&(!t||this.type===Xi.Spot||this instanceof Qi||lt("Warning: Panel.isClipping set on non-Spot Panel: "+this.toString()),this.F^=2097152,this instanceof Qi&&(this.Za=null),this.s(),this.g("isClipping",e,t))}},isOpposite:{get:function(){return 0!=(33554432&this.F)},set:function(t){var e=0!=(33554432&this.F);e!==t&&(this.F^=33554432,this.s(),this.g("isOpposite",e,t))}},isEnabled:{get:function(){return 0!=(4194304&this.F)},set:function(t){var e=0!=(4194304&this.F);if(e!==t){var i=null===this.panel||this.panel.Hg();this.F^=4194304,this.g("isEnabled",e,t),null!==(e=this.diagram)&&e.undoManager.isUndoingRedoing||i&&nm(this,this,t)}}},alignmentFocusName:{get:function(){return this.Lg},set:function(t){var e=this.Lg;e!==t&&(this.Lg=t,this.s(),this.g("alignmentFocusName",e,t))}}}),H.Object.defineProperties(Xi,{Position:{get:function(){return _u.G("Position")}},Horizontal:{get:function(){return _u.G("Horizontal")}},Vertical:{get:function(){return _u.G("Vertical")}},Spot:{get:function(){return _u.G("Spot")}},Auto:{get:function(){return _u.G("Auto")}},Table:{get:function(){return _u.G("Table")}},Viewbox:{get:function(){return _u.G("Viewbox")}},TableRow:{get:function(){return _u.G("TableRow")}},TableColumn:{get:function(){return _u.G("TableColumn")}},Link:{get:function(){return _u.G("Link")}},Grid:{get:function(){return _u.G("Grid")}},Graduated:{get:function(){return _u.G("Graduated")}}}),Xi.prototype.findItemPanelForData=Xi.prototype.qy,Xi.prototype.rebuildItemElements=Xi.prototype.eu,Xi.prototype.updateTargetBindings=Xi.prototype.Ea,Xi.prototype.copyTemplate=Xi.prototype.Gz,Xi.prototype.graduatedValueForPoint=Xi.prototype.rA,Xi.prototype.graduatedPointForValue=Xi.prototype.qA,Xi.prototype.findColumnForLocalX=Xi.prototype.Tz,Xi.prototype.findRowForLocalY=Xi.prototype.aA,Xi.prototype.removeColumnDefinition=Xi.prototype.SA,Xi.prototype.removeRowDefinition=Xi.prototype.XA,Xi.prototype.removeAt=Xi.prototype.cb,Xi.prototype.remove=Xi.prototype.remove,Xi.prototype.insertAt=Xi.prototype.wb,Xi.prototype.elt=Xi.prototype.J,Xi.prototype.add=Xi.prototype.add,Xi.prototype.findObject=Xi.prototype.bb,Xi.prototype.findInVisualTree=Xi.prototype.ym,Xi.prototype.walkVisualTreeFrom=Xi.prototype.an,Xi.prototype.findMainElement=Xi.prototype.tb;var cd=!1,Cg=null,_u=new yt;function rs(){Se(this),this.og=null,this.ns=!0,this.Ra=0,this.ad=NaN,this.nh=0,this.lh=1/0,this.yb=us,this.la=this.bc=this.ha=0,this.fb=null,this.Yp=om,this.De=Ks,this.Up=this.sg=null,this.Vp=NaN,this.mb=this.fk=null,this.In=!1}function rm(t){if(t.sizing===om){var e=t.og;return t.isRow?e.rowSizing:e.columnSizing}return t.sizing}Xi.className="Panel",Xi.definePanelLayout=eu,eu("Position",new np),eu("Vertical",new Hc),eu("Auto",new Z0),eu("Link",new t0),rs.prototype.copy=function(){var t=new rs;return t.ns=this.ns,t.Ra=this.Ra,t.ad=this.ad,t.nh=this.nh,t.lh=this.lh,t.yb=this.yb,t.ha=this.ha,t.bc=this.bc,t.la=this.la,t.De=this.De,t.Yp=this.Yp,t.sg=null===this.sg?null:this.sg.H(),t.Up=this.Up,t.Vp=this.Vp,t.fk=null,null!==this.fk&&(t.separatorDashArray=Tt(this.separatorDashArray)),t.mb=this.mb,t.In=this.In,t.fb=this.fb,t},(Q=rs.prototype).gy=function(t){t.isRow?this.height=t.height:this.width=t.width,this.minimum=t.minimum,this.maximum=t.maximum,this.alignment=t.alignment,this.stretch=t.stretch,this.sizing=t.sizing,this.sg=null===t.separatorPadding?null:t.separatorPadding.H(),this.separatorStroke=t.separatorStroke,this.separatorStrokeWidth=t.separatorStrokeWidth,this.fk=null,t.separatorDashArray&&(this.fk=Tt(t.separatorDashArray)),this.background=t.background,this.coversSeparators=t.coversSeparators,this.fb=t.fb},Q.jb=function(t){t.classType===rs&&(this.sizing=t)},Q.toString=function(){return"RowColumnDefinition "+(this.isRow?"(Row ":"(Column ")+this.index+") #"+Ge(this)},Q.sj=function(t){this.og=t},Q.Jv=function(){var t=0,e=0,i=this.og,n=this.isRow;if(null!==i&&i.type===Xi.Table)for(var r=n?i.qb.length:i.nb.length,l=0;l<r;l++){var v=n?i.qb[l]:i.nb[l];if(void 0!==v){e=v.index;break}}if(this.index!==e&&(null===(e=this.separatorStroke)&&null!==i&&(e=this.isRow?i.defaultRowSeparatorStroke:i.defaultColumnSeparatorStroke),null!==e&&(t=this.separatorStrokeWidth,isNaN(t)&&(t=null!==i?this.isRow?i.defaultRowSeparatorStrokeWidth:i.defaultColumnSeparatorStrokeWidth:0))),null===(e=this.sg)){if(null===i)return t;e=i.defaultSeparatorPadding}return t+(this.isRow?e.top:e.left)},Q.wc=function(){var t=0,e=this.og,i=0,n=this.isRow;if(null!==e&&e.type===Xi.Table)for(var r=n?e.qb.length:e.nb.length,l=0;l<r;l++){var v=n?e.qb[l]:e.nb[l];if(void 0!==v){i=v.index;break}}if(this.index!==i&&(null===(i=this.separatorStroke)&&null!==e&&(i=n?e.defaultRowSeparatorStroke:e.defaultColumnSeparatorStroke),null!==i&&(t=this.separatorStrokeWidth,isNaN(t)&&(t=null!==e?n?e.defaultRowSeparatorStrokeWidth:e.defaultColumnSeparatorStrokeWidth:0))),null===(n=this.sg)){if(null===e)return t;n=e.defaultSeparatorPadding}return t+(this.isRow?n.top+n.bottom:n.left+n.right)},Q.Bb=function(t,e,i){var n=this.og;if(null!==n&&(n.Va(rn,t,this,e,i,void 0,void 0),null!==this.fb&&null!==(e=n.diagram)&&!e.skipsModelSourceBindings&&null!==(n=n.ij())&&null!==(e=n.data)))for(i=this.fb.iterator;i.next();)i.value.jr(this,e,t,n)},Q.bind=function(t){t.pd=this;var e=this.panel;if(null!==e){var i=e.ij();null!==i&&bg(i)&&U("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+t+" on "+e)}null===this.fb&&(this.fb=new zt),this.fb.add(t)},H.Object.defineProperties(rs.prototype,{panel:{get:function(){return this.og}},isRow:{get:function(){return this.ns},set:function(t){this.ns=t}},index:{get:function(){return this.Ra},set:function(t){this.Ra=t}},height:{get:function(){return this.ad},set:function(t){var e=this.ad;e!==t&&(0>t&&ot(t,">= 0",rs,"height"),this.ad=t,this.actual=this.ha,null!==this.panel&&this.panel.s(),this.Bb("height",e,t))}},width:{get:function(){return this.ad},set:function(t){var e=this.ad;e!==t&&(0>t&&ot(t,">= 0",rs,"width"),this.ad=t,this.actual=this.ha,null!==this.panel&&this.panel.s(),this.Bb("width",e,t))}},minimum:{get:function(){return this.nh},set:function(t){var e=this.nh;e!==t&&((0>t||!isFinite(t))&&ot(t,">= 0",rs,"minimum"),this.nh=t,this.actual=this.ha,null!==this.panel&&this.panel.s(),this.Bb("minimum",e,t))}},maximum:{get:function(){return this.lh},set:function(t){var e=this.lh;e!==t&&(0>t&&ot(t,">= 0",rs,"maximum"),this.lh=t,this.actual=this.ha,null!==this.panel&&this.panel.s(),this.Bb("maximum",e,t))}},alignment:{get:function(){return this.yb},set:function(t){var e=this.yb;e.w(t)||(this.yb=t.H(),null!==this.panel&&this.panel.s(),this.Bb("alignment",e,t))}},stretch:{get:function(){return this.De},set:function(t){var e=this.De;e!==t&&(this.De=t,null!==this.panel&&this.panel.s(),this.Bb("stretch",e,t))}},separatorPadding:{get:function(){return this.sg},set:function(t){"number"==typeof t&&(t=new Je(t));var e=this.sg;null!==t&&null!==e&&e.w(t)||(null!==t&&(t=t.H()),this.sg=t,null!==this.panel&&this.panel.s(),this.Bb("separatorPadding",e,t))}},separatorStroke:{get:function(){return this.Up},set:function(t){var e=this.Up;e!==t&&(null!==t&&Bc(t,"RowColumnDefinition.separatorStroke"),t instanceof Fr&&t.freeze(),this.Up=t,null!==this.panel&&this.panel.s(),this.Bb("separatorStroke",e,t))}},separatorStrokeWidth:{get:function(){return this.Vp},set:function(t){var e=this.Vp;e!==t&&(this.Vp=t,null!==this.panel&&this.panel.s(),this.Bb("separatorStrokeWidth",e,t))}},separatorDashArray:{get:function(){return this.fk},set:function(t){var e=this.fk;if(e!==t){if(null!==t){for(var i=t.length,n=0,r=0;r<i;r++){var l=t[r];"number"==typeof l&&0<=l&&isFinite(l)||U("separatorDashArray value "+l+" at index "+r+" must be a positive number or zero."),n+=l}if(0===n){if(null===e)return;t=null}}this.fk=t,null!==this.panel&&this.panel.M(),this.Bb("separatorDashArray",e,t)}}},background:{get:function(){return this.mb},set:function(t){var e=this.mb;e!==t&&(null!==t&&Bc(t,"RowColumnDefinition.background"),t instanceof Fr&&t.freeze(),this.mb=t,null!==this.panel&&this.panel.M(),this.Bb("background",e,t))}},coversSeparators:{get:function(){return this.In},set:function(t){var e=this.In;e!==t&&(this.In=t,null!==this.panel&&this.panel.M(),this.Bb("coversSeparators",e,t))}},sizing:{get:function(){return this.Yp},set:function(t){var e=this.Yp;e!==t&&(this.Yp=t,null!==this.panel&&this.panel.s(),this.Bb("sizing",e,t))}},actual:{get:function(){return this.ha},set:function(t){this.ha=isNaN(this.ad)?Math.max(Math.min(this.lh,t),this.nh):Math.max(Math.min(this.lh,this.ad),this.nh)}},measured:{get:function(){return this.bc},set:function(t){this.bc=t}},total:{get:function(){return this.ha+this.wc()},set:function(t){this.ha=isNaN(this.ad)?Math.max(Math.min(this.lh,t),this.nh):Math.max(Math.min(this.lh,this.ad),this.nh),this.ha=Math.max(0,this.ha-this.wc())}},position:{get:function(){return this.la},set:function(t){this.la=t}}}),rs.prototype.bind=rs.prototype.bind,rs.prototype.computeEffectiveSpacing=rs.prototype.wc,rs.prototype.computeEffectiveSpacingTop=rs.prototype.Jv;var om=new St(rs,"Default",0),iu=new St(rs,"None",1),sp=new St(rs,"ProportionalExtra",2);function sr(){jn.call(this),this.Ed=this.na=null,this.Yn="None",this.ho=Ks,this.Hc=this.tl="black",this.wh=1,this.km="butt",this.lm="miter",this.gk=10,this.uh=null,this.vh=0,this.qf=this.pf=us,this.tp=this.sp=NaN,this.vo=!1,this.wp=null,this.ul=this.rm="None",this.Yd=1,this.Wd=0,this.Ud=1,this.Vd=null}function fd(t,e,i,n){var r=i.length;if(!(4>r)){var l=n.measuredBounds,v=Math.max(1,l.width);l=l.height;for(var O,V,$,vt,kt,bt,_=i[0],D=i[1],Wt=0,de=o(),le=2;le<r;le+=2)0==($=(O=i[le])-_)&&($=.001),vt=(_=(V=i[le+1])-D)/$,kt=Math.atan2(_,$),bt=Math.sqrt($*$+_*_),de.push([$,kt,vt,bt]),Wt+=bt,_=O,D=V;_=i[0],D=i[1],$=n.measuredBounds.width,n instanceof sr&&($-=n.strokeWidth),1>$&&($=1),r=i=$,V=0!=(O=v/2),$=(bt=de[le=0])[0],kt=bt[1],vt=bt[2],bt=bt[3];for(var we=0;.1<=Wt;){if(0===we&&(V?(r=i,r-=O,Wt-=O,V=!1):r=i,0===r&&(r=1)),r>Wt)return void c(de);r>bt?(we=r-bt,r=bt):we=0;var Pe=Math.sqrt(r*r/(1+vt*vt));if(0>$&&(Pe=-Pe),t.translate(_+=Pe,D+=vt*Pe),t.rotate(kt),t.translate(-v/2,-l/2),0===we&&n.ej(t,e),t.translate(v/2,l/2),t.rotate(-kt),t.translate(-_,-D),Wt-=r,bt-=r,0!==we){if(++le===de.length)return void c(de);$=(bt=de[le])[0],kt=bt[1],vt=bt[2],bt=bt[3],r=we}}c(de)}}function Nm(t){var e=t.geometryStretch;return null!==t.Ed?e===Ks?No:e:e===Ks?La[t.figure].defaultStretch:e}function r0(t,e,i,n,r){return(e=(t=i.x-t)*t+(e=i.y-e)*e)<n?(r.x=i.x,r.y=i.y,e):n}function ap(t,e,i,n,r,l,v,_,D){var O=!1,V=(r-v)*(e-n)-(l-_)*(t-i);return 0!==V&&(D.x=((r*_-l*v)*(t-i)-(r-v)*(t*n-e*i))/V,D.y=((r*_-l*v)*(e-n)-(l-_)*(t*n-e*i))/V,(t>i?t-i:i-t)<(e>n?e-n:n-e)?(t=e<n?e:n,e=e<n?n:e,(D.y>t||ti.aa(D.y,t))&&(D.y<e||ti.aa(D.y,e))&&(O=!0)):(e=t<i?t:i,t=t<i?i:t,(D.x>e||ti.aa(D.x,e))&&(D.x<t||ti.aa(D.x,t))&&(O=!0)),O)}function nu(t,e,i,n){if(!t.Nt(e,i,n))return!1;t=e.x,e=e.y;var r=i.x,l=i.y;return i=n.x,n=n.y,t===r?(e<l?(t=e,e=l):t=l,n>=t&&n<=e):(t<r?(n=t,t=r):n=r,i>=n&&i<=t)}function jo(t){var e=t.diagram;null!==e&&e.undoManager.isUndoingRedoing||(t.segmentOrientation=cp,"None"!==t.rm?(t.segmentIndex=-1,t.alignmentFocus=xs):"None"!==t.ul&&(t.segmentIndex=0,t.alignmentFocus=new hn(1-xs.x,xs.y)))}function o0(t){var e=Da[t];if(void 0===e){var i=t.toLowerCase();if("none"===i)return"None";if(void 0===(e=Da[i])){var r,n=null;for(r in ti.dn)if(r.toLowerCase()===i){n=r;break}if(null!==n)return t=pa(ti.dn[n],!1),Da[n]=t,i!==n&&(Da[i]=n),n}}return"string"==typeof e?e:e instanceof hr?t:null}rs.className="RowColumnDefinition",rs.Default=om,rs.None=iu,rs.ProportionalExtra=sp,Z(sr,jn),sr.prototype.cloneProtected=function(t){jn.prototype.cloneProtected.call(this,t),t.na=this.na,t.Yn=this.Yn,t.ho=this.ho,t.Ed=this.Ed,t.tl=this.tl,t.Hc=this.Hc,t.wh=this.wh,t.km=this.km,t.lm=this.lm,t.gk=this.gk,null!==this.uh&&(t.uh=Tt(this.uh)),t.vh=this.vh,t.pf=this.pf.H(),t.qf=this.qf.H(),t.sp=this.sp,t.tp=this.tp,t.vo=this.vo,t.wp=this.wp,t.rm=this.rm,t.ul=this.ul,t.Yd=this.Yd,t.Wd=this.Wd,t.Ud=this.Ud,t.Vd=this.Vd},(Q=sr.prototype).jb=function(t){t===ho||t===wl||t===Hp||t===Ks?this.geometryStretch=t:jn.prototype.jb.call(this,t)},Q.toString=function(){return"Shape("+("None"!==this.figure?this.figure:"None"!==this.toArrow?this.toArrow:this.fromArrow)+")#"+Ge(this)},Q.ej=function(t,e){var i=this.Hc,n=this.tl;if(null!==i||null!==n){var r=this.actualBounds,l=this.naturalBounds;null!==n&&Wa(this,t,n,!0,!1,l,r);var v=this.part,_=this.wh;null===i||0!==_||null===v||!this.isPanelMain&&v.tb()!==this||(_=v.type===Xi.Link&&v instanceof Ji&&"Selection"===v.category&&v.adornedObject instanceof sr&&v.adornedPart.tb()===v.adornedObject?v.adornedObject.strokeWidth:0),0===_&&(i=null),null!==i&&0!==_&&(Wa(this,t,i,!1,!1,l,r),t.lineWidth=_,t.lineJoin=this.lm,t.lineCap=this.km,t.miterLimit=this.gk),r=!1,v&&e.Ke("drawShadows")&&(r=v.isShadowed),v=!0,null===i||null!==n&&"transparent"!==n||(v=!1),l=!1,null!==(_=this.strokeDashArray)&&(l=!0,t.Ft(_,this.vh));var D=this.na;if(null!==D){if(D.type===Ie)t.beginPath(),t.moveTo(D.startX,D.startY),t.lineTo(D.endX,D.endY),null!==i&&t.vj();else if(D.type===Be){var O=D.startX;_=D.startY;var V=D.endX,$=D.endY;D=Math.min(O,V);var vt=Math.min(_,$);O=Math.abs(V-O),_=Math.abs($-_),t.beginPath(),t.rect(D,vt,O,_),null!==n&&t.Je(n),null!==i&&(v&&r&&qu(t),(0===O||0===_)&&(t.beginPath(),t.rect(D,vt,Math.max(O,.1),Math.max(_,.1))),t.vj(),v&&r&&mc(t))}else if(D.type===Qe)O=D.startX,_=D.startY,V=D.endX,$=D.endY,D=Math.abs(V-O)/2,vt=Math.abs($-_)/2,O=Math.min(O,V)+D,_=Math.min(_,$)+vt,t.beginPath(),t.moveTo(O,_-vt),t.bezierCurveTo(O+ti.Kg*D,_-vt,O+D,_-ti.Kg*vt,O+D,_),t.bezierCurveTo(O+D,_+ti.Kg*vt,O+ti.Kg*D,_+vt,O,_+vt),t.bezierCurveTo(O-ti.Kg*D,_+vt,O-D,_+ti.Kg*vt,O-D,_),t.bezierCurveTo(O-D,_-ti.Kg*vt,O-ti.Kg*D,_-vt,O,_-vt),t.closePath(),null!==n&&t.Je(n),null!==i&&(v&&r?(qu(t),t.vj(),mc(t)):t.vj());else if(D.type===hi)for(D=(_=D.figures).length,vt=0;vt<D;vt++){O=_.j[vt],t.beginPath(),t.moveTo(O.startX,O.startY),$=(V=O.segments.j).length;for(var kt=null,bt=0;bt<$;bt++){var Wt=V[bt];switch(Wt.type){case lr:t.moveTo(Wt.endX,Wt.endY);break;case ie:t.lineTo(Wt.endX,Wt.endY);break;case Le:t.bezierCurveTo(Wt.point1X,Wt.point1Y,Wt.point2X,Wt.point2Y,Wt.endX,Wt.endY);break;case me:t.quadraticCurveTo(Wt.point1X,Wt.point1Y,Wt.endX,Wt.endY);break;case Ve:if(Wt.radiusX===Wt.radiusY){var de=Math.PI/180;t.arc(Wt.point1X,Wt.point1Y,Wt.radiusX,Wt.startAngle*de,(Wt.startAngle+Wt.sweepAngle)*de,0>Wt.sweepAngle,null!==kt?kt.endX:O.startX,null!==kt?kt.endY:O.startY)}else if(0===(de=(kt=Dn(Wt,O)).length))t.lineTo(Wt.centerX,Wt.centerY);else for(var le=0;le<de;le++){var we=kt[le];0===le&&t.lineTo(we[0],we[1]),t.bezierCurveTo(we[2],we[3],we[4],we[5],we[6],we[7])}break;case vi:if(le=de=0,null!==kt&&kt.type===Ve){if(0===(we=(kt=Dn(kt,O)).length)){t.lineTo(Wt.endX,Wt.endY);break}null!==(kt=kt[we-1]||null)&&(de=kt[6],le=kt[7])}else de=null!==kt?kt.endX:O.startX,le=null!==kt?kt.endY:O.startY;if(0===(de=(kt=Pn(Wt,O,de,le)).length)){t.lineTo(Wt.endX,Wt.endY);break}for(le=0;le<de;le++)t.bezierCurveTo((we=kt[le])[2],we[3],we[4],we[5],we[6],we[7]);break;default:U("Segment not of valid type: "+Wt.type)}Wt.isClosed&&t.closePath(),kt=Wt}V=O.isFilled,r?O.isShadowed?(!0===V&&"transparent"!==n&&null!==n&&t.Je(n),null!==i&&(V&&v&&qu(t),t.vj(),V&&v&&mc(t))):(qu(t),V&&"transparent"!==n&&null!==n&&t.Je(n),null!==i&&t.vj(),mc(t)):(V&&null!==n&&t.Je(n),null!==i&&t.vj())}if(l&&t.Dt(),null!==this.pathPattern){if((i=this.pathPattern).measure(1/0,1/0),i.arrange(0,0,(n=i.measuredBounds).width,n.height),r=this.geometry,t.save(),t.beginPath(),n=o(),r.type===Ie)n.push(r.startX),n.push(r.startY),n.push(r.endX),n.push(r.endY),fd(t,e,n,i);else if(r.type===hi)for(r=r.figures.iterator;r.next();){for(v=r.value,n.length=0,n.push(v.startX),n.push(v.startY),D=l=v.startX,vt=_=v.startY,V=(O=v.segments.j).length,$=0;$<V;$++){switch((bt=O[$]).type){case lr:fd(t,e,n,i),n.length=0,n.push(bt.endX),n.push(bt.endY),D=l=bt.endX,vt=_=bt.endY;break;case ie:n.push(bt.endX),n.push(bt.endY),l=bt.endX,_=bt.endY;break;case Le:ti.Fe(l,_,bt.point1X,bt.point1Y,bt.point2X,bt.point2Y,bt.endX,bt.endY,.5,n),l=bt.endX,_=bt.endY;break;case me:ti.Vq(l,_,bt.point1X,bt.point1Y,bt.endX,bt.endY,.5,n),l=bt.endX,_=bt.endY;break;case Ve:if(0===(kt=(Wt=Dn(bt,v)).length)){n.push(bt.centerX),n.push(bt.centerY),l=bt.centerX,_=bt.centerY;break}for(de=0;de<kt;de++)ti.Fe(l,_,(le=Wt[de])[2],le[3],le[4],le[5],le[6],le[7],.5,n),l=le[6],_=le[7];break;case vi:if(0===(kt=(Wt=Pn(bt,v,l,_)).length)){n.push(bt.endX),n.push(bt.endY),l=bt.endX,_=bt.endY;break}for(de=0;de<kt;de++)ti.Fe(l,_,(le=Wt[de])[2],le[3],le[4],le[5],le[6],le[7],.5,n),l=le[6],_=le[7];break;default:U("Segment not of valid type: "+bt.type)}bt.isClosed&&(n.push(D),n.push(vt),fd(t,e,n,i))}fd(t,e,n,i)}else if(r.type===Be)n.push(r.startX),n.push(r.startY),n.push(r.endX),n.push(r.startY),n.push(r.endX),n.push(r.endY),n.push(r.startX),n.push(r.endY),n.push(r.startX),n.push(r.startY),fd(t,e,n,i);else if(r.type===Qe){if((_=new an).startX=r.endX,_.startY=(r.startY+r.endY)/2,(l=new nn(Ve)).startAngle=0,l.sweepAngle=360,l.centerX=(r.startX+r.endX)/2,l.centerY=(r.startY+r.endY)/2,l.radiusX=Math.abs(r.startX-r.endX)/2,l.radiusY=Math.abs(r.startY-r.endY)/2,_.add(l),0===(v=(r=Dn(l,_)).length))n.push(l.centerX),n.push(l.centerY);else for(l=_.startX,_=_.startY,D=0;D<v;D++)ti.Fe(l,_,(vt=r[D])[2],vt[3],vt[4],vt[5],vt[6],vt[7],.5,n),l=vt[6],_=vt[7];fd(t,e,n,i)}c(n),t.restore(),t.uc(!1)}}}},Q.da=function(t,e){if(void 0===e&&(e=new ht),t instanceof hn){t.nc()&&U("getDocumentPoint Spot must be a real, specific Spot, not: "+t.toString());var i=this.naturalBounds,n=this.strokeWidth;e.h(t.x*(i.width+n)-n/2+i.x+t.offsetX,t.y*(i.height+n)-n/2+i.y+t.offsetY)}else e.set(t);return this.Fd.ta(e),e},Q.mj=function(t){void 0===t&&(t=new he);var e=this.naturalBounds,i=this.Fd;e=he.allocAt(e.x,e.y,e.width,e.height);var n=this.strokeWidth;return e.Jc(n/2,n/2),n=ht.allocAt(e.x,e.y).transform(i),t.h(n.x,n.y,0,0),n.h(e.right,e.y).transform(i),Ln(t,n.x,n.y,0,0),n.h(e.right,e.bottom).transform(i),Ln(t,n.x,n.y,0,0),n.h(e.x,e.bottom).transform(i),Ln(t,n.x,n.y,0,0),he.free(e),ht.free(n),t},Q.Kh=function(t,e){var i=this.geometry;if(null===i||null===this.fill&&null===this.stroke)return!1;var n=i.bounds,r=this.strokeWidth/2;i.type!==Ie||e||(r+=2);var l=he.alloc();if(l.assign(n),l.Jc(r+2,r+2),!l.$(t))return he.free(l),!1;if(n=r+1e-4,i.type===Ie)return!(null===this.stroke||(n=(i.endX-i.startX)*(t.x-i.startX)+(i.endY-i.startY)*(t.y-i.startY),0>(i.startX-i.endX)*(t.x-i.endX)+(i.startY-i.endY)*(t.y-i.endY)||0>n))&&(he.free(l),ti.Nb(i.startX,i.startY,i.endX,i.endY,r,t.x,t.y));if(i.type===Be){e=i.startX;var v=i.startY,_=i.endX;if(i=i.endY,l.x=Math.min(e,_),l.y=Math.min(v,i),l.width=Math.abs(_-e),l.height=Math.abs(i-v),null===this.fill){if(l.Jc(-n,-n),l.$(t))return he.free(l),!1;l.Jc(n,n)}return null!==this.stroke&&l.Jc(r,r),t=l.$(t),he.free(l),t}if(i.type===Qe){v=i.startX,r=i.startY,_=i.endX;var D=i.endY;if(i=Math.min(v,_),e=Math.min(r,D),v=Math.abs(_-v)/2,r=Math.abs(D-r)/2,i=t.x-(i+v),e=t.y-(e+r),null===this.fill){if(r-=n,0>=(v-=n)||0>=r||1>=i*i/(v*v)+e*e/(r*r))return he.free(l),!1;v+=n,r+=n}return null!==this.stroke&&(v+=n,r+=n),he.free(l),!(0>=v||0>=r)&&1>=i*i/(v*v)+e*e/(r*r)}return i.type===hi?(he.free(l),null===this.fill?Yu(i,t.x,t.y,r):gl(i,t,r,1<this.strokeWidth,e)):(U("Unknown Geometry type: "+i.type),!1)},Q.Hm=function(t,e,i,n){var r=this.desiredSize,l=this.wh;if(t=Math.max(t,0),e=Math.max(e,0),null!==this.Ed)var v=this.geometry.bounds;else{var _=this.figure,D=La[_];if(void 0===D){var O=ti.Qe[_];"string"==typeof O&&(O=ti.Qe[O]),"function"==typeof O?(D=O(null,100,100),La[_]=D):U("Unsupported Figure: "+_)}v=D.bounds}_=v.width,D=v.height,O=v.width;var V=v.height;switch(Nu(this,!0)){case ho:n=i=0;break;case No:O=Math.max(t-l,0),V=Math.max(e-l,0);break;case Yo:O=Math.max(t-l,0),n=0;break;case ua:i=0,V=Math.max(e-l,0)}switch(isFinite(r.width)&&(O=r.width),isFinite(r.height)&&(V=r.height),r=this.maxSize,v=this.minSize,i=Math.max(i-l,v.width),n=Math.max(n-l,v.height),O=Math.min(r.width,O),V=Math.min(r.height,V),O=isFinite(O)?Math.max(i,O):Math.max(_,i),V=isFinite(V)?Math.max(n,V):Math.max(D,n),i=Nm(this)){case ho:break;case No:_=O,D=V;break;case wl:i=Math.min(O/_,V/D),isFinite(i)||(i=1),_*=i,D*=i;break;default:U(i+" is not a valid geometryStretch.")}null!==this.Ed?(0===_&&(_=.001),0===D&&(D=.001),n=_/(r=(i=null!==this.Ed?this.Ed:this.na).bounds).width,r=D/r.height,isFinite(n)||(n=1),isFinite(r)||(r=1),this.na=1===n&&1===r?i:i.copy().scale(n,r)):null!==this.na&&ti.aa(this.na.Dl,t-l)&&ti.aa(this.na.Cl,e-l)||(this.na=sr.makeGeometry(this,_,D)),v=this.na.bounds,t===1/0||e===1/0?nl(this,v.x-l/2,v.y-l/2,0===t&&0===_?0:v.width+l,0===e&&0===D?0:v.height+l):nl(this,-l/2,-l/2,O+l,V+l)},Q.Ih=function(t,e,i,n){K0(this,t,e,i,n)},Q.Nt=function(t,e,i){return this.zk(t.x,t.y,e.x,e.y,i)},Q.zk=function(t,e,i,n,r){var l=this.transform,v=1/(l.m11*l.m22-l.m12*l.m21),_=l.m22*v,D=-l.m12*v,O=-l.m21*v,V=l.m11*v,$=v*(l.m21*l.dy-l.m22*l.dx),vt=v*(l.m12*l.dx-l.m11*l.dy);l=t*_+e*O+$,v=t*D+e*V+vt,_=i*_+n*O+$,D=i*D+n*V+vt,$=this.wh/2,null===(O=this.na)&&(this.measure(1/0,1/0),O=this.na);var kt=O.bounds;if(V=!1,O.type===Ie)if(1.5>=this.strokeWidth)V=ti.Me(O.startX,O.startY,O.endX,O.endY,l,v,_,D,r);else{if(O.startX===O.endX?(n=$,V=0):(e=(O.endY-O.startY)/(O.endX-O.startX),n=(V=$/Math.sqrt(1+e*e))*e),e=o(),t=new ht,ti.Me(O.startX+n,O.startY+V,O.endX+n,O.endY+V,l,v,_,D,t)&&e.push(t),t=new ht,ti.Me(O.startX-n,O.startY-V,O.endX-n,O.endY-V,l,v,_,D,t)&&e.push(t),t=new ht,ti.Me(O.startX+n,O.startY+V,O.startX-n,O.startY-V,l,v,_,D,t)&&e.push(t),t=new ht,ti.Me(O.endX+n,O.endY+V,O.endX-n,O.endY-V,l,v,_,D,t)&&e.push(t),0===(_=e.length))return c(e),!1;for(V=!0,D=1/0,n=0;n<_;n++)(i=((t=e[n]).x-l)*(t.x-l)+(t.y-v)*(t.y-v))<D&&(D=i,r.x=t.x,r.y=t.y);c(e)}else if(O.type===Be)V=ti.Cf(kt.x-$,kt.y-$,kt.x+kt.width+$,kt.y+kt.height+$,l,v,_,D,r);else if(O.type===Qe){t:if(0===(e=he.allocAt(kt.x,kt.y,kt.width,kt.height).Jc($,$)).width)V=ti.Me(e.x,e.y,e.x,e.y+e.height,l,v,_,D,r);else if(0===e.height)V=ti.Me(e.x,e.y,e.x+e.width,e.y,l,v,_,D,r);else{if(n=e.x+(t=e.width/2),V=e.y+(O=e.height/2),i=9999,l!==_&&(i=(v-D)/(l-_)),9999>Math.abs(i)){if(0>t*t*i*i+O*O-(D=v-V-i*(l-n))*D){r.x=NaN,r.y=NaN,V=!1;break t}_=(-t*t*i*D+t*O*($=Math.sqrt(t*t*i*i+O*O-D*D)))/(O*O+t*t*i*i)+n,t=(-t*t*i*D-t*O*$)/(O*O+t*t*i*i)+n,O=i*(_-n)+D+V,D=i*(t-n)+D+V,Math.abs((l-_)*(l-_))+Math.abs((v-O)*(v-O))<Math.abs((l-t)*(l-t))+Math.abs((v-D)*(v-D))?(r.x=_,r.y=O):(r.x=t,r.y=D)}else{if(_=O*O,0>(_-=_/(t*t)*(D=l-n)*D)){r.x=NaN,r.y=NaN,V=!1;break t}_=V+(D=Math.sqrt(_)),D=V-D,Math.abs(_-v)<Math.abs(D-v)?(r.x=l,r.y=_):(r.x=l,r.y=D)}V=!0}he.free(e)}else if(O.type===hi){vt=ht.alloc();var bt=_-l,Wt=D-v,de=bt*bt+Wt*Wt,le=l,we=v;if(0<de&&kt.contains(le,we)&&(vt.x=le,vt.y=we,this.$(vt)))for(0!==bt&&.5>Math.abs(bt)?(Wt*=.5/bt,bt=.5):0!==Wt&&.5>Math.abs(Wt)&&(bt*=.5/Wt,Wt=.5),le-=bt,we-=Wt;kt.contains(le,we);)le-=bt,we-=Wt;for(r.x=_,r.y=D,Wt=0;Wt<O.figures.count;Wt++)for(var Pe=O.figures.j[Wt],Ke=Pe.isFilled?le:l,ui=Pe.isFilled?we:v,$i=Pe.segments,vn=kt=Pe.startX,tn=bt=Pe.startY,Bn=0;Bn<$i.count;Bn++){var yn=$i.j[Bn],Zi=yn.type,Dr=yn.endX,dr=yn.endY,$r=!1;switch(Zi){case lr:vn=Dr,tn=dr;break;case ie:$r=ap(kt,bt,Dr,dr,Ke,ui,_,D,vt);break;case Le:$r=ti.wq(kt,bt,yn.point1X,yn.point1Y,yn.point2X,yn.point2Y,Dr,dr,Ke,ui,_,D,.6,vt);break;case me:$r=ti.wq(kt,bt,kt+2/3*(yn.point1X-kt),bt+2/3*(yn.point1Y-bt),Dr+2/3*(yn.point1X-Dr),dr+2/3*(yn.point1Y-dr),Dr,dr,Ke,ui,_,D,.6,vt);break;case Ve:case vi:var Xo=(Zi=yn.type===Ve?Dn(yn,Pe):Pn(yn,Pe,kt,bt)).length;if(0===Xo){$r=ap(kt,bt,yn.type===Ve?yn.centerX:yn.endX,yn.type===Ve?yn.centerY:yn.endY,Ke,ui,_,D,vt);break}for(dr=null,Dr=0;Dr<Xo;Dr++){if(dr=Zi[Dr],0===Dr&&ap(kt,bt,dr[0],dr[1],Ke,ui,_,D,vt)){var Qs=r0(Ke,ui,vt,de,r);Qs<de&&(de=Qs,V=!0)}ti.wq(dr[0],dr[1],dr[2],dr[3],dr[4],dr[5],dr[6],dr[7],Ke,ui,_,D,.6,vt)&&(Qs=r0(Ke,ui,vt,de,r))<de&&(de=Qs,V=!0)}Dr=dr[6],dr=dr[7];break;default:U("Unknown Segment type: "+Zi)}kt=Dr,bt=dr,$r&&($r=r0(Ke,ui,vt,de,r))<de&&(de=$r,V=!0),yn.isClosed&&ap(kt,bt,Dr=vn,dr=tn,Ke,ui,_,D,vt)&&(yn=r0(Ke,ui,vt,de,r))<de&&(de=yn,V=!0)}l=i-t,v=n-e,0!==(_=Math.sqrt(l*l+v*v))&&(l/=_,v/=_),r.x-=l*$,r.y-=v*$,ht.free(vt)}else U("Unknown Geometry type: "+O.type);return!!V&&(this.transform.ta(r),!0)},Q.Jh=function(t,e){if(void 0===e)return t.Ge(this.actualBounds);var i=this.na;null===i&&(this.measure(1/0,1/0),i=this.na),i=i.bounds;var n=this.strokeWidth/2,r=!1,l=ht.alloc();return l.h(i.x-n,i.y-n),t.$(e.ta(l))&&(l.h(i.x-n,i.bottom+n),t.$(e.ta(l))&&(l.h(i.right+n,i.bottom+n),t.$(e.ta(l))&&(l.h(i.right+n,i.y-n),t.$(e.ta(l))&&(r=!0)))),ht.free(l),r},Q.Mc=function(t,e){if(this.Jh(t,e)||void 0===e&&(e=this.transform,t.Ge(this.actualBounds)))return!0;var i=or.alloc();i.set(e),i.St();var n=t.left,r=t.right,l=t.top;t=t.bottom;var v=ht.alloc();if(v.h(n,l),i.ta(v),this.Kh(v,!0)||(v.h(r,l),i.ta(v),this.Kh(v,!0))||(v.h(n,t),i.ta(v),this.Kh(v,!0))||(v.h(r,t),i.ta(v),this.Kh(v,!0)))return ht.free(v),!0;var _=ht.alloc(),D=ht.alloc();return i.set(e),i.jw(this.transform),i.St(),_.x=r,_.y=l,_.transform(i),v.x=n,v.y=l,v.transform(i),e=!1,nu(this,v,_,D)?e=!0:(v.x=r,v.y=t,v.transform(i),nu(this,v,_,D)?e=!0:(_.x=n,_.y=t,_.transform(i),nu(this,v,_,D)?e=!0:(v.x=n,v.y=l,v.transform(i),nu(this,v,_,D)&&(e=!0)))),ht.free(v),or.free(i),ht.free(_),ht.free(D),e},Q.sy=function(t,e,i){function n(de,le){for(var we=de.length,Pe=0;Pe<we;Pe+=2)if(le.qd(de[Pe],de[Pe+1])>r)return!0;return!1}if(i&&null!==this.fill&&this.Kh(t,!0))return!0;var r=t.Ie(e),l=r;if(1.5<this.strokeWidth&&(r=this.strokeWidth/2+Math.sqrt(r),r*=r),null===(e=this.na)&&(this.measure(1/0,1/0),null===(e=this.na)))return!1;if(!i){var v=e.bounds,_=v.x,D=v.y,O=v.x+v.width;if(v=v.y+v.height,bn(t.x,t.y,_,D)<=r&&bn(t.x,t.y,O,D)<=r&&bn(t.x,t.y,_,v)<=r&&bn(t.x,t.y,O,v)<=r)return!0}if(_=e.startX,D=e.startY,O=e.endX,v=e.endY,e.type===Ie){if(i=(_-O)*(t.x-O)+(D-v)*(t.y-v),si(t.x,t.y,_,D,O,v)<=(0<=(O-_)*(t.x-_)+(v-D)*(t.y-D)&&0<=i?r:l))return!0}else{if(e.type===Be)return e=!1,i&&(e=si(t.x,t.y,_,D,_,v)<=r||si(t.x,t.y,_,D,O,D)<=r||si(t.x,t.y,O,D,O,v)<=r||si(t.x,t.y,_,v,O,v)<=r),e;if(e.type===Qe){e=t.x-(_+O)/2,l=t.y-(D+v)/2;var V=Math.abs(O-_)/2,$=Math.abs(v-D)/2;if(0===V||0===$)return si(t.x,t.y,_,D,O,v)<=r;if(!i)return!(bn(e,l,-V,0)>=r||bn(e,l,0,-$)>=r||bn(e,l,0,$)>=r||bn(e,l,V,0)>=r);if((t=ti.Mz(V,$,e,l))*t<=r)return!0}else if(e.type===hi){if(l=(O=e.bounds).x,_=O.y,D=O.x+O.width,O=O.y+O.height,t.x>D&&t.x<l&&t.y>O&&t.y<_&&si(t.x,t.y,l,_,l,O)>r&&si(t.x,t.y,l,_,D,_)>r&&si(t.x,t.y,D,O,l,O)>r&&si(t.x,t.y,D,O,D,_)>r)return!1;if(l=Math.sqrt(r),!i){for(i=e.figures,e=0;e<i.count;e++){if(t.qd(v=(l=i.j[e]).startX,V=l.startY)>r)return!1;for(D=(_=l.segments.j).length,O=0;O<D;O++)switch($=_[O],$.type){case lr:case ie:if(t.qd(v=$.endX,V=$.endY)>r)return!1;break;case Le:var vt=o();if(ti.Fe(v,V,$.point1X,$.point1Y,$.point2X,$.point2Y,$.endX,$.endY,.8,vt),v=n(vt,t),c(vt),v||t.qd(v=$.endX,V=$.endY)>r)return!1;break;case me:if(vt=o(),ti.Vq(v,V,$.point1X,$.point1Y,$.endX,$.endY,.8,vt),v=n(vt,t),c(vt),v||t.qd(v=$.endX,V=$.endY)>r)return!1;break;case Ve:case vi:var kt=(vt=$.type===Ve?Dn($,l):Pn($,l,v,V)).length;if(0===kt){if(t.qd(v=$.type===Ve?$.centerX:$.endX,V=$.type===Ve?$.centerY:$.endY)>r)return!1;break}$=null;for(var bt=o(),Wt=0;Wt<kt;Wt++)if($=vt[Wt],bt.length=0,ti.Fe($[0],$[1],$[2],$[3],$[4],$[5],$[6],$[7],.8,bt),n(bt,t))return c(bt),!1;c(bt),null!==$&&(v=$[6],V=$[7]);break;default:U("Unknown Segment type: "+$.type)}}return!0}if(null===this.fill?Yu(e,t.x,t.y,l):gl(e,t,l,!0,!1))return!0}}return!1},Q.dc=function(){this.na=null},sr.makeGeometry=function(t,e,i){if("None"!==t.toArrow)var n=Da[t.toArrow];else"None"!==t.fromArrow?n=Da[t.fromArrow]:("string"==typeof(n=ti.Qe[t.figure])&&(n=ti.Qe[n]),void 0===n&&U("Unknown Shape.figure: "+t.figure),(n=n(t,e,i)).Dl=e,n.Cl=i);if(null===n){var r=ti.Qe.Rectangle;"function"==typeof r&&(n=r(t,e,i))}return n},H.Object.defineProperties(sr.prototype,{geometry:{get:function(){return null!==this.na?this.na:this.Ed},set:function(t){var e=this.na,i=this.Ed;if(e!==t){this.Ed=this.na=null!==t?t.freeze():null;var n=this.part;null!==n&&(n.kh=NaN),this.s(),this.g("geometry",e||i,t),Jd(this)&&null!==(t=this.part)&&xu(this,t,"geometryString")}}},geometryString:{get:function(){return null===this.geometry?"":this.geometry.toString()},set:function(t){var e=(t=pa(t)).normalize();this.geometry=t,this.position=t=ht.allocAt(-e.x,-e.y),ht.free(t)}},isGeometryPositioned:{get:function(){return this.vo},set:function(t){var e=this.vo;e!==t&&(this.vo=t,this.s(),this.g("isGeometryPositioned",e,t))}},fill:{get:function(){return this.tl},set:function(t){var e=this.tl;e!==t&&(null!==t&&Bc(t,"Shape.fill"),t instanceof Fr&&t.freeze(),this.tl=t,this.M(),this.g("fill",e,t))}},stroke:{get:function(){return this.Hc},set:function(t){var e=this.Hc;e!==t&&(null!==t&&Bc(t,"Shape.stroke"),t instanceof Fr&&t.freeze(),this.Hc=t,this.M(),this.g("stroke",e,t))}},strokeWidth:{get:function(){return this.wh},set:function(t){var e=this.wh;if(e!==t)if(0<=t){this.wh=t,this.s();var i=this.part;null!==i&&(i.kh=NaN),this.g("strokeWidth",e,t)}else ot(t,"value >= 0",sr,"strokeWidth:value")}},strokeCap:{get:function(){return this.km},set:function(t){var e=this.km;e!==t&&("string"!=typeof t||"butt"!==t&&"round"!==t&&"square"!==t?ot(t,'"butt", "round", or "square"',sr,"strokeCap"):(this.km=t,this.M(),this.g("strokeCap",e,t)))}},strokeJoin:{get:function(){return this.lm},set:function(t){var e=this.lm;e!==t&&("string"!=typeof t||"miter"!==t&&"bevel"!==t&&"round"!==t?ot(t,'"miter", "bevel", or "round"',sr,"strokeJoin"):(this.lm=t,this.M(),this.g("strokeJoin",e,t)))}},strokeMiterLimit:{get:function(){return this.gk},set:function(t){var e=this.gk;if(e!==t&&1<=t){this.gk=t,this.M();var i=this.part;null!==i&&(i.kh=NaN),this.g("strokeMiterLimit",e,t)}}},strokeDashArray:{get:function(){return this.uh},set:function(t){var e=this.uh;if(e!==t){if(null!==t){for(var i=t.length,n=0,r=0;r<i;r++){var l=t[r];0<=l&&isFinite(l)||U("strokeDashArray:value "+l+" at index "+r+" must be a positive number or zero."),n+=l}if(0===n){if(null===e)return;t=null}}this.uh=t,this.M(),this.g("strokeDashArray",e,t)}}},strokeDashOffset:{get:function(){return this.vh},set:function(t){var e=this.vh;e!==t&&0<=t&&(this.vh=t,this.M(),this.g("strokeDashOffset",e,t))}},figure:{get:function(){return this.Yn},set:function(t){var e=this.Yn;if(e!==t){var i=ti.Qe[t];"function"==typeof i?i=t:(i=ti.Qe[t.toLowerCase()])||U("Unknown Shape.figure: "+t),e!==i&&(null!==(t=this.part)&&(t.kh=NaN),this.Yn=i,this.Ed=null,this.dc(),this.s(),this.g("figure",e,i))}}},toArrow:{get:function(){return this.rm},set:function(t){var e=this.rm;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){var i=o0(t);null===i?U("Unknown Shape.toArrow: "+t):e!==i&&(this.rm=i,this.Ed=null,this.dc(),this.s(),jo(this),this.g("toArrow",e,i))}}},fromArrow:{get:function(){return this.ul},set:function(t){var e=this.ul;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){var i=o0(t);null===i?U("Unknown Shape.fromArrow: "+t):e!==i&&(this.ul=i,this.Ed=null,this.dc(),this.s(),jo(this),this.g("fromArrow",e,i))}}},spot1:{get:function(){return this.pf},set:function(t){var e=this.pf;e.w(t)||(this.pf=t=t.H(),this.s(),this.g("spot1",e,t))}},spot2:{get:function(){return this.qf},set:function(t){var e=this.qf;e.w(t)||(this.qf=t=t.H(),this.s(),this.g("spot2",e,t))}},parameter1:{get:function(){return this.sp},set:function(t){var e=this.sp;e!==t&&(this.sp=t,this.dc(),this.s(),this.g("parameter1",e,t))}},parameter2:{get:function(){return this.tp},set:function(t){var e=this.tp;e!==t&&(this.tp=t,this.dc(),this.s(),this.g("parameter2",e,t))}},naturalBounds:{get:function(){var t=this.desiredSize;return t.o()||null===this.na?new he(0,0,t.width,t.height):(this.rc.assign(this.na.bounds),this.rc)}},pathPattern:{get:function(){return this.wp},set:function(t){var e=this.wp;e!==t&&(this.wp=t,this.M(),this.g("pathPattern",e,t))}},geometryStretch:{get:function(){return this.ho},set:function(t){var e=this.ho;e!==t&&(this.ho=t,this.s(),this.g("geometryStretch",e,t))}},interval:{get:function(){return this.Yd},set:function(t){var e=this.Yd;if(e!==(t=Math.round(t))&&0!==t&&isFinite(t)){this.Yd=t;var i=this.diagram;null!==i&&this.panel===i.grid&&oc(i),this.s(),null!==(i=this.panel)&&(i.eh=null),this.g("interval",e,t)}}},graduatedStart:{get:function(){return this.Wd},set:function(t){var e=this.Wd;e!==t&&(0>t?t=0:1<t&&(t=1),this.Wd=t,this.s(),this.g("graduatedStart",e,t))}},graduatedEnd:{get:function(){return this.Ud},set:function(t){var e=this.Ud;e!==t&&(0>t?t=0:1<t&&(t=1),this.Ud=t,this.s(),this.g("graduatedEnd",e,t))}},graduatedSkip:{get:function(){return this.Vd},set:function(t){var e=this.Vd;e!==t&&(this.Vd=t,this.s(),this.g("graduatedSkip",e,t))}}}),sr.prototype.intersectsRect=sr.prototype.Mc,sr.prototype.containedInRect=sr.prototype.Jh,sr.prototype.getNearestIntersectionPoint=sr.prototype.Nt,sr.prototype.getDocumentBounds=sr.prototype.mj,sr.prototype.getDocumentPoint=sr.prototype.da;var Da=new Vt,La=new Vt;function Br(){jn.call(this),md||(Na=va?new tu(null).context:null,md=!0),this.Jx=this.Ub="",this.Hc="black",this.ne="13px sans-serif",this.Vi="start",this.Td=ho,this.aj=Zl,this.Pj=!0,this.Ai=this.Bi=!1,this.mg=Qu,this.zg=a0,this.us=this.vb=this.Zc=0,this.ev=this.fv=null,this.Vn=!1,this.ld=this.xn=this.iq=this.Wi=this.jq=null,this.nf=this.mf=0,this.ti=Jo,this.ve=1/0,this.Ei=0,this.oe=null,this.Be=0,this.me=this.lb=this.Qb=null,this.Yd=1,this.Wd=0,this.Ud=1,this.Vd=this.Lj=null}function _h(t,e){t.F=6144|e.F,t.hb=e.opacity,t.mb=e.background,t.ec=e.areaBackground,t.Xc=e.desiredSize.H(),t.fg=e.minSize.H(),t.eg=e.maxSize.H(),t.cg=e.cg.copy(),t.Aa=e.scale,t.Yb=e.angle,t.De=e.stretch,t.jh=e.margin.H(),t.yb=e.alignment.H(),t.$k=e.alignmentFocus.H(),t.am=e.segmentFraction,t.bm=e.segmentOffset.H(),t.cm=e.segmentOrientation,null!==e.Za&&(t.Za=e.Za.copy()),t.em=e.shadowVisible,e instanceof Br&&(t.Ub=e.Ub,t.Hc=e.Hc,t.ne=e.ne,t.Vi=e.Vi,t.Td=e.Td,t.aj=e.aj,t.Pj=e.Pj,t.Bi=e.Bi,t.Ai=e.Ai,t.mg=e.mg,t.zg=e.zg,t.oe=null,t.mf=e.mf,t.nf=e.nf,t.ve=e.ve,t.Ei=e.Ei,t.Yd=e.Yd,t.Wd=e.Wd,t.Ud=e.Ud,t.Lj=e.Lj,t.Vd=e.Vd)}function ru(t,e,i){null===t.me?(t.me=e,t.vb=i):((null===t.lb||null===t.Qb)&&(t.lb=[],t.Qb=[],t.lb.push(t.me),t.Qb.push(t.vb)),t.lb.push(e),t.Qb.push(i))}function bh(t,e,i,n){var r=t.ti===Jo;r&&(e=e.trim());var l=0,v=t.ne,_=t.mf+t.nf;_=Math.max(0,kf(t)+_);var D=t.mg===Bu?mo(v):0;if(t.Zc>=t.ve)null!==n&&n.h(0,_);else if(v=e,t.zg===os){t.Be=1;var O=Aa(e);if(0===D||O<=i)t.vb=Math.max(t.vb,O),ru(t,e,t.vb),null!==n&&n.h(O,_);else{for(O=Aa((l=Ka(t,v))+(e=Ka(t,v=v.substr(l.length))));0<e.length&&O<=i;)O=(l+=e)+(e=Ka(t,v=v.substr(e.length))),r&&(O=O.trim()),O=Aa(O);for(r&&(e=e.trim()),l+=e,i=Math.max(1,i-D);Aa(l)>i&&1<l.length;)l=l.substr(0,l.length-1);var V=Aa(l+=Kh);t.vb=V,ru(t,l,V),null!==n&&n.h(V,_)}}else{for(D=0,0===v.length&&(D=1,ru(t,v,0));0<v.length;){for(e=Ka(t,v),v=v.substr(e.length);Aa(e)>i;){var $=1;for(O=Aa(e.substr(0,$)),V=0;O<=i;)$++,V=O,O=Aa(e.substr(0,$));if(1===$){var vt=O;l=Math.max(l,O)}else vt=V,l=Math.max(l,V);if(1>--$&&($=1),ru(t,e.substr(0,$),vt),D++,e=e.substr($),t.Zc+D>t.ve)break}for(O=Aa(e+(V=Ka(t,v)));0<V.length&&O<=i;)O=(e+=V)+(V=Ka(t,v=v.substr(V.length))),r&&(O=O.trim()),O=Aa(O);if(r&&(e=e.trim()),""!==e&&("\xad"===e[e.length-1]&&(e=e.substring(0,e.length-1)+"\u2010"),0===V.length?($=O,l=Math.max(l,O)):($=V=Aa(e),l=Math.max(l,V)),ru(t,e,$),D++,t.Zc+D>t.ve))break}t.Be=Math.min(t.ve,D),t.vb=Math.max(t.vb,l),null!==n&&n.h(t.vb,_*t.Be)}}function Ka(t,e){if(t.zg===l0)return e.substr(0,1);for(var i=e.length,n=0,r=Sg;n<i&&!r.test(e.charAt(n));)n++;for(t.ti===Tf&&(i=Math.min(i,n+1));n<i&&r.test(e.charAt(n));)n++;return n>=e.length?e:e.substr(0,n)}function Aa(t){return null===Na?8*t.length:Na.measureText(t).width}function kf(t){if(null!==t.oe)return t.oe;var e=t.ne;if(null===Na){var i=16;return t.oe=i}return void 0!==dd[e]&&5e3>Fm?i=dd[e]:(i=1.3*Na.measureText("M").width,dd[e]=i,Fm++),t.oe=i}function mo(t){if(null===Na)return 6;if(void 0!==Vu[t]&&5e3>pd)var e=Vu[t];else e=Na.measureText(Kh).width,Vu[t]=e,pd++;return e}function lp(t,e){var i=t.Ub.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),n=t.mf+t.nf;if(n=Math.max(0,kf(t)+n),0===i.length)return t.vb=0,t.Zc=1,n;if(!t.isMultiline){var r=i.indexOf("\n",0);0<=r&&(i=i.substr(0,r))}r=0;for(var v,l=t.Zc=0,_=!1;!_;){if(-1===(v=i.indexOf("\n",l))&&(v=i.length,_=!0),l<=v){if(l=i.substr(l,v-l),t.zg!==os){t.Be=0;var D=De.alloc();bh(t,l,e,D),r+=D.height,De.free(D),t.Zc+=t.Be}else bh(t,l,e,null),r+=n,t.Zc++;t.Zc===t.ve&&(_=!0)}l=v+1}return t.us=r}sr.className="Shape",sr.getFigureGenerators=function(){var e,t=new yt;for(e in ti.Qe)e!==e.toLowerCase()&&t.add(e,ti.Qe[e]);return t.freeze(),t},sr.defineFigureGenerator=function(t,e){var i=t.toLowerCase(),n=ti.Qe;n[t]=e,n[i]=t},sr.getArrowheadGeometries=function(){var t=new yt;for(n in ti.dn)if(void 0===Da[n]){var e=pa(ti.dn[n],!1);Da[n]=e,(e=n.toLowerCase())!==n&&(Da[e]=n)}for(var i in Da)if(i!==i.toLowerCase()){var n=Da[i];n instanceof hr&&t.add(i,n)}return t.freeze(),t},sr.defineArrowheadGeometry=function(t,e){var i;i="string"==typeof e?pa(e,!1):e,"none"!==(e=t.toLowerCase())&&t!==e||U("Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: "+t);var n=Da;n[t]=i,n[e]=t},Z(Br,jn),Br.prototype.cloneProtected=function(t){jn.prototype.cloneProtected.call(this,t),t.Ub=this.Ub,t.Jx=this.Jx,t.Hc=this.Hc,t.ne=this.ne,t.Vi=this.Vi,t.Td=this.Td,t.aj=this.aj,t.Pj=this.Pj,t.Bi=this.Bi,t.Ai=this.Ai,t.mg=this.mg,t.zg=this.zg,t.Zc=this.Zc,t.us=this.us,t.vb=this.vb,t.fv=this.fv,t.ev=this.ev,t.Vn=this.Vn,t.jq=this.jq,t.Wi=this.Wi,t.iq=this.iq,t.xn=this.xn,t.ld=this.ld,t.mf=this.mf,t.nf=this.nf,t.ti=this.ti,t.ve=this.ve,t.oe=this.oe,t.Be=this.Be,t.Qb=this.Qb,t.lb=this.lb,t.me=this.me,t.Ei=this.Ei,t.Yd=this.Yd,t.Wd=this.Wd,t.Ud=this.Ud,t.Lj=this.Lj,t.Vd=this.Vd},(Q=Br.prototype).jb=function(t){t.classType===Br?this.wrap=t:jn.prototype.jb.call(this,t)},Q.toString=function(){return 22<this.Ub.length?'TextBlock("'+this.Ub.substring(0,20)+'"...)':'TextBlock("'+this.Ub+'")'},Q.s=function(){jn.prototype.s.call(this),this.ev=this.fv=null},Q.ej=function(t,e){if(null!==this.Hc&&0!==this.Ub.length&&null!==this.ne){var i=this.naturalBounds,n=this.actualBounds,r=i.width,l=i.height,v=kf(this),_=t.textAlign=this.Vi,D=e.Gl;"start"===_?_=D?"right":"left":"end"===_&&(_=D?"left":"right"),D=this.Bi;var O=this.Ai;Wa(this,t,this.Hc,!0,!1,i,n),(D||O)&&Wa(this,t,this.Hc,!1,!1,i,n),n=0,i=!1;var V=ht.allocAt(0,0);this.Fd.ta(V);var $=ht.allocAt(0,v);this.Fd.ta($);var vt=V.Ie($);switch(ht.free(V),ht.free($),8>vt*(V=e.scale)*V&&(i=!0),e.Gb!==t&&(i=!1),!1===e.Ke("textGreeking")&&(i=!1),e=this.mf,vt=this.nf,this.flip){case fc:t.translate(r,0),t.scale(-1,1);break;case Uh:t.translate(0,l),t.scale(1,-1);break;case Lc:t.translate(r,l),t.scale(-1,-1)}if(l>($=(e+v+vt)*(V=this.Zc))&&(n=(n=this.aj).y*l-n.y*$+n.offsetY),1===V&&null!==this.me)(vt=this.vb)>r&&(vt=r),this.dj(this.me,t,0,n+e,r,v,vt,i,_,D,O);else if(null!==this.Qb&&null!==this.lb)for($=0;$<V;$++){var kt=this.Qb[$];kt>r&&(kt=r),this.dj(this.lb[$],t,0,n+=e,r,v,kt,i,_,D,O),n+=v+vt}switch(this.flip){case fc:t.scale(-1,1),t.translate(-r,0);break;case Uh:t.scale(1,-1),t.translate(0,-l);break;case Lc:t.scale(-1,-1),t.translate(-r,-l)}}},Q.dj=function(t,e,i,n,r,l,v,_,D,O,V){var $=0;_?("left"===D?$=0:"right"===D?$=r-v:"center"===D&&($=(r-v)/2),e.fillRect(i+$,n+.25*l,v,1)):("left"===D?$=0:"right"===D?$=r:"center"===D&&($=r/2),r=null!==Yc?Yc(this,l):.75*l,e.fillText(t,i+$,n+r),0==(t=l/20|0)&&(t=1),"right"===D?$-=v:"center"===D&&($-=v/2),O&&(D=null!==bu?bu(this,l):.8*l,e.beginPath(),e.lineWidth=t,e.moveTo(i+$,n+D),e.lineTo(i+$+v,n+D),e.stroke()),V&&(e.beginPath(),e.lineWidth=t,n=n+l-l/2.2|0,t%2!=0&&(n+=.5),e.moveTo(i+$,n),e.lineTo(i+$+v,n),e.stroke()))},Q.Hm=function(t,e,i,n){this.Ei=t;var l,r=this.ne;if(null!==Na&&Pf!==r&&(Pf=Na.font=r),this.vb=this.Be=0,this.me=this.lb=this.Qb=this.oe=null,isNaN(this.desiredSize.width)){if(0===(r=this.Ub.replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length)r=0;else if(this.isMultiline){for(var v=l=0,_=!1;!_;){var D=r.indexOf("\n",v);-1===D&&(D=r.length,_=!0),v=r.substr(v,D-v),this.ti===Jo&&(v=v.trim()),l=Math.max(l,Aa(v)),v=D+1}r=l}else 0<=(l=r.indexOf("\n",0))&&(r=r.substr(0,l)),r=Aa(r);r=Math.min(r,t/this.scale),r=Math.max(8,r)}else r=this.desiredSize.width;if(null!==this.panel&&(r=Math.min(r,this.panel.maxSize.width)),l=lp(this,r),_=l=isNaN(this.desiredSize.height)?Math.min(l,e/this.scale):this.desiredSize.height,0!==this.vb&&null!==this.Qb&&null!==this.lb&&this.mg===Bu&&(e=this.ne,e=this.mg===Bu?mo(e):0,D=this.mf+this.nf,D=Math.max(0,kf(this)+D),!((_=Math.min(this.maxLines-1,Math.max(Math.floor(_/D+.01)-1,0)))+1>=this.lb.length))){for(D=this.lb[_],e=Math.max(1,t-e);Aa(D)>e&&1<D.length;)D=D.substr(0,D.length-1);e=Aa(D+=Kh),this.lb[_]=D,this.lb=this.lb.slice(0,_+1),this.Qb[_]=e,this.Qb=this.Qb.slice(0,_+1),this.Be=this.lb.length,this.vb=Math.max(this.vb,e),this.Zc=this.Be,1===this.Zc&&(this.me=this.lb[0])}(this.wrap===s0||isNaN(this.desiredSize.width))&&(r=isNaN(t)?this.vb:Math.min(t,this.vb),isNaN(this.desiredSize.width)&&(r=Math.max(8,r))),r=Math.max(i,r),l=Math.max(n,l),$e(this.rc,r,l),nl(this,0,0,r,l)},Q.Ih=function(t,e,i,n){K0(this,t,e,i,n)},H.Object.defineProperties(Br.prototype,{font:{get:function(){return this.ne},set:function(t){var e=this.ne;e!==t&&(this.ne=t,this.oe=null,this.s(),this.g("font",e,t))}},text:{get:function(){return this.Ub},set:function(t){var e=this.Ub;e!==(t=null!=t?t.toString():"")&&(this.Ub=t,this.s(),this.g("text",e,t))}},textAlign:{get:function(){return this.Vi},set:function(t){var e=this.Vi;e===t||"start"!==t&&"end"!==t&&"left"!==t&&"right"!==t&&"center"!==t||(this.Vi=t,this.M(),this.g("textAlign",e,t))}},flip:{get:function(){return this.Td},set:function(t){var e=this.Td;e!==t&&(this.Td=t,this.M(),this.g("flip",e,t))}},verticalAlignment:{get:function(){return this.aj},set:function(t){var e=this.aj;e.w(t)||(this.aj=t=t.H(),dc(this),this.g("verticalAlignment",e,t))}},naturalBounds:{get:function(){if(!this.rc.o()){var t=De.alloc();bh(this,this.Ub,999999,t);var e=t.width;De.free(t),t=lp(this,e);var i=this.desiredSize;isNaN(i.width)||(e=i.width),isNaN(i.height)||(t=i.height),$e(this.rc,e,t)}return this.rc}},isMultiline:{get:function(){return this.Pj},set:function(t){var e=this.Pj;e!==t&&(this.Pj=t,this.s(),this.g("isMultiline",e,t))}},isUnderline:{get:function(){return this.Bi},set:function(t){var e=this.Bi;e!==t&&(this.Bi=t,this.M(),this.g("isUnderline",e,t))}},isStrikethrough:{get:function(){return this.Ai},set:function(t){var e=this.Ai;e!==t&&(this.Ai=t,this.M(),this.g("isStrikethrough",e,t))}},wrap:{get:function(){return this.zg},set:function(t){var e=this.zg;e!==t&&(this.zg=t,this.s(),this.g("wrap",e,t))}},overflow:{get:function(){return this.mg},set:function(t){var e=this.mg;e!==t&&(this.mg=t,this.s(),this.g("overflow",e,t))}},stroke:{get:function(){return this.Hc},set:function(t){var e=this.Hc;e!==t&&(null!==t&&Bc(t,"TextBlock.stroke"),t instanceof Fr&&t.freeze(),this.Hc=t,this.M(),this.g("stroke",e,t))}},lineCount:{get:function(){return this.Zc}},editable:{get:function(){return this.Vn},set:function(t){var e=this.Vn;e!==t&&(this.Vn=t,this.g("editable",e,t))}},textEditor:{get:function(){return this.jq},set:function(t){var e=this.jq;e!==t&&(this.jq=t,this.g("textEditor",e,t))}},errorFunction:{get:function(){return this.ld},set:function(t){var e=this.ld;e!==t&&(this.ld=t,this.g("errorFunction",e,t))}},interval:{get:function(){return this.Yd},set:function(t){var e=this.Yd;if(e!==(t=Math.round(t))&&0!==t&&isFinite(t)){this.Yd=t,this.s();var i=this.panel;null!==i&&(i.eh=null),this.g("interval",e,t)}}},graduatedStart:{get:function(){return this.Wd},set:function(t){var e=this.Wd;e!==t&&(0>t?t=0:1<t&&(t=1),this.Wd=t,this.s(),this.g("graduatedStart",e,t))}},graduatedEnd:{get:function(){return this.Ud},set:function(t){var e=this.Ud;e!==t&&(0>t?t=0:1<t&&(t=1),this.Ud=t,this.s(),this.g("graduatedEnd",e,t))}},graduatedFunction:{get:function(){return this.Lj},set:function(t){var e=this.Lj;e!==t&&(this.Lj=t,this.s(),this.g("graduatedFunction",e,t))}},graduatedSkip:{get:function(){return this.Vd},set:function(t){var e=this.Vd;e!==t&&(this.Vd=t,this.s(),this.g("graduatedSkip",e,t))}},textValidation:{get:function(){return this.Wi},set:function(t){var e=this.Wi;e!==t&&(this.Wi=t,this.g("textValidation",e,t))}},textEdited:{get:function(){return this.iq},set:function(t){var e=this.iq;e!==t&&(this.iq=t,this.g("textEdited",e,t))}},spacingAbove:{get:function(){return this.mf},set:function(t){var e=this.mf;e!==t&&(this.mf=t,this.s(),this.g("spacingAbove",e,t))}},spacingBelow:{get:function(){return this.nf},set:function(t){var e=this.nf;e!==t&&(this.nf=t,this.s(),this.g("spacingBelow",e,t))}},formatting:{get:function(){return this.ti},set:function(t){var e=this.ti;e!==t&&(this.ti=t,this.s(),this.g("formatting",e,t))}},maxLines:{get:function(){return this.ve},set:function(t){var e=this.ve;e!==t&&(0>=(t=Math.floor(t))&&ot(t,"> 0",Br,"maxLines"),this.ve=t,this.s(),this.g("maxLines",e,t))}},metrics:{get:function(){return{arrSize:null!==this.Qb?this.Qb:[this.vb],arrText:null!==this.lb?this.lb:[this.me],maxLineWidth:this.vb,fontHeight:this.oe}}},choices:{get:function(){return this.xn},set:function(t){var e=this.xn;e!==t&&(this.xn=t,this.g("choices",e,t))}}});var Yc=null,bu=null,os=new St(Br,"None",0),s0=new St(Br,"WrapFit",1),a0=new St(Br,"WrapDesiredSize",2),l0=new St(Br,"WrapBreakAll",3),Qu=new St(Br,"OverflowClip",0),Bu=new St(Br,"OverflowEllipsis",1),Jo=new St(Br,"FormatTrim",0),Tf=new St(Br,"FormatNone",0),Sg=/[ \u200b\u00ad]/,dd=new Vt,Fm=0,Vu=new Vt,pd=0,Kh="...",Pf="",Na=null,md=!1;function Wc(){this.Qb=[],this.lb=[]}function Fa(){jn.call(this),this.Zg=null,this.$p="",this.th=Ni,this.yl=No,this.xh=this.ld=null,this.xl=ar,this.Td=ho,this.nm=null,this.uo=!1,this.Yr=!0,this.Ol=!1,this.gm=null}function ca(t){void 0===t&&(t=""),""!==t?x[t]&&(delete x[t],u--):(x=new Vt,u=0)}function Bm(t,e){e.fz||(e.dv=function(i){e.ls=!0,e.ro=!1;var n=e.Wg.copy();if(null!=n){for(n=n.iterator;n.next();){var r=n.value,l=e.getAttribute("src"),v=r.pg.G(l);if(null!==v)for(var _=v.length,D=0;D<_;D++)r.Wl.add(l=v[D]),r.Db(),e.io&&(void 0===e.ov&&(e.ov=i),null!==l.xh&&l.xh(l,i))}e.Wg=null}t.desiredSize.o()||(rl(t,!1),t.s())},e.Pu=function(i){e.ro=i;var n=e.Wg.copy();if(null!=n){for(n=n.iterator;n.next();){var r=n.value,l=e.getAttribute("src"),v=r.pg.G(l);if(null!==v){r=v.length,l=o();for(var _=0;_<r;_++)l.push(v[_]);if(e.io)for(_=0;_<r;_++)null!==(v=l[_]).ld&&v.ld(v,i);c(l)}}e.Wg=null}},e.addEventListener("load",e.dv),e.addEventListener("error",e.Pu),e.fz=!0)}function th(t){t.removeEventListener("load",t.dv),t.removeEventListener("error",t.Pu),delete t.dv,delete t.Pu}Br.className="TextBlock",Br.getEllipsis=function(){return Kh},Br.setEllipsis=function(t){Kh=t,Vu=new Vt,pd=0},Br.getBaseline=function(){return Yc},Br.setBaseline=function(t){Yc=t},Br.getUnderline=function(){return bu},Br.setUnderline=function(t){bu=t},Br.isValidFont=function(t){if(md||(Na=va?new tu(null).context:null,md=!0),null===Na)return!0;var e=Na.font;if(t===e||"10px sans-serif"===t)return!0;Na.font="10px sans-serif",Na.font=t;var i=Na.font;if("10px sans-serif"!==i)return Na.font=e,!0;Na.font="19px serif";var n=Na.font;return Na.font=t,i=Na.font,Na.font=e,i!==n},Br.None=os,Br.WrapFit=s0,Br.WrapDesiredSize=a0,Br.WrapBreakAll=l0,Br.OverflowClip=Qu,Br.OverflowEllipsis=Bu,Wc.prototype.reset=function(){this.Qb=[],this.lb=[]},Wc.prototype.gy=function(t){this.Qb=Tt(t.Qb),this.lb=Tt(t.lb)},Wc.className="TextBlockMetrics",Z(Fa,jn),Fa.prototype.cloneProtected=function(t){jn.prototype.cloneProtected.call(this,t),t.element=this.Zg,t.$p=this.$p,t.th=this.th.H(),t.yl=this.yl,t.Td=this.Td,t.ld=this.ld,t.xh=this.xh,t.xl=this.xl.H(),t.Yr=this.Yr,t.gm=this.gm},Fa.prototype.jb=function(t){t===ho||t===wl||t===Hp?this.imageStretch=t:jn.prototype.jb.call(this,t)},Fa.prototype.toString=function(){return"Picture("+this.source+")#"+Ge(this)},Fa.prototype.QA=function(){if(""!==this.source){ca(this.source);var t=this.source;this.source="",this.source=t}},Fa.prototype.redraw=function(){this.M()},Fa.prototype.ej=function(t,e){var i=this.Zg;if(null!==i){var n=i.getAttribute("src");if(!(i instanceof HTMLImageElement&&(null===n||""===n)||i.ro instanceof Event&&t instanceof Nc)){n=this.naturalBounds;var r=0,l=0,v=this.uo,_=v?+i.width:i.naturalWidth;if(void 0===_&&i.videoWidth&&(_=i.videoWidth),void 0===(v=v?+i.height:i.naturalHeight)&&i.videoHeight&&(v=i.videoHeight),v=v||n.height,0!==(_=_||n.width)&&0!==v){var D=_,O=v;this.sourceRect.o()&&(r=this.th.x,l=this.th.y,_=this.th.width,v=this.th.height);var V=_,$=v,vt=this.yl,kt=this.xl;switch(vt){case ho:if(this.sourceRect.o())break;V>=n.width&&(r=r+kt.offsetX+(V*kt.x-n.width*kt.x)),$>=n.height&&(l=l+kt.offsetY+($*kt.y-n.height*kt.y)),_=Math.min(n.width,V),v=Math.min(n.height,$);break;case No:V=n.width,$=n.height;break;case wl:case Hp:vt===wl?(V*=vt=Math.min(n.height/$,n.width/V),$*=vt):vt===Hp&&((V*=vt=Math.max(n.height/$,n.width/V))>=n.width&&(r=(r+kt.offsetX+(V*kt.x-n.width*kt.x)/V)*_),($*=vt)>=n.height&&(l=(l+kt.offsetY+($*kt.y-n.height*kt.y)/$)*v),_*=1/(V/n.width),v*=1/($/n.height),V=n.width,$=n.height)}var bt=V*(vt=this.Af()*e.scale)*$*vt,Wt=_*v/bt,de=i.__goCache;if(vt=null,i.ls&&void 0!==de&&4<bt&&Wt>y*y)for(null===de.cj&&(R(de,4,D,O,i),R(de,16,D,O,i)),O=(D=de.cj).length,bt=0;bt<O&&D[bt].ratio*D[bt].ratio<Wt;bt++)vt=D[bt];if(!e.rl){if(null===this.nm)if(null===this.Zg)this.nm=!1;else{(D=new tu(null).context).drawImage(this.Zg,0,0);try{D.getImageData(0,0,1,1).data[3]&&(this.nm=!1),this.nm=!1}catch(we){this.nm=!0}}if(this.nm)return}switch(D=0,V<n.width&&(D=kt.offsetX+(n.width*kt.x-V*kt.x)),O=0,$<n.height&&(O=kt.offsetY+(n.height*kt.y-$*kt.y)),this.flip){case fc:t.translate(Math.min(n.width,V),0),t.scale(-1,1);break;case Uh:t.translate(0,Math.min(n.height,$)),t.scale(1,-1);break;case Lc:t.translate(Math.min(n.width,V),Math.min(n.height,$)),t.scale(-1,-1)}if(e.Ke("pictureRatioOptimization")&&!e.yi&&void 0!==de&&null!==vt&&1!==vt.ratio){t.save(),e=vt.ratio;try{t.drawImage(vt.source,r/e,l/e,Math.min(vt.source.width,_/e),Math.min(vt.source.height,v/e),D,O,Math.min(n.width,V),Math.min(n.height,$))}catch(we){this.Yr=!1}t.restore()}else try{t.drawImage(i,r,l,_,v,D,O,Math.min(n.width,V),Math.min(n.height,$))}catch(we){this.Yr=!1}switch(this.flip){case fc:t.scale(-1,1),t.translate(-Math.min(n.width,V),0);break;case Uh:t.scale(1,-1),t.translate(0,-Math.min(n.height,$));break;case Lc:t.scale(-1,-1),t.translate(-Math.min(n.width,V),-Math.min(n.height,$))}}}}},Fa.prototype.Hm=function(t,e,i,n){var r=this.desiredSize,l=Nu(this,!0),v=this.Zg,_=this.uo;(_||!this.Ol&&v&&v.complete)&&(this.Ol=!0),null===v&&(isFinite(r.width)||(t=0),isFinite(r.height)||(e=0)),isFinite(r.width)||l===No||l===Yo?(isFinite(t)||(t=this.sourceRect.o()?this.sourceRect.width:_?+v.width:v.naturalWidth),i=0):null!==v&&!1!==this.Ol&&(t=this.sourceRect.o()?this.sourceRect.width:_?+v.width:v.naturalWidth),isFinite(r.height)||l===No||l===ua?(isFinite(e)||(e=this.sourceRect.o()?this.sourceRect.height:_?+v.height:v.naturalHeight),n=0):null!==v&&!1!==this.Ol&&(e=this.sourceRect.o()?this.sourceRect.height:_?+v.height:v.naturalHeight),isFinite(r.width)&&(t=r.width),isFinite(r.height)&&(e=r.height),r=this.maxSize,l=this.minSize,i=Math.max(i,l.width),n=Math.max(n,l.height),t=Math.min(r.width,t),e=Math.min(r.height,e),t=Math.max(i,t),e=Math.max(n,e),null===v||v.complete||(isFinite(t)||(t=0),isFinite(e)||(e=0)),$e(this.rc,t,e),nl(this,0,0,t,e)},Fa.prototype.Ih=function(t,e,i,n){K0(this,t,e,i,n)},H.Object.defineProperties(Fa.prototype,{element:{get:function(){return this.Zg},set:function(t){var e=this.Zg;if(e!==t){this.uo=t instanceof HTMLCanvasElement;var i=t instanceof HTMLImageElement;e instanceof HTMLImageElement&&th(e),null===t||i||t instanceof HTMLVideoElement||this.uo||U("Picture.element must be an instance of Image, Canvas, or Video, not: "+t);var n=this.diagram;null!==n&&Yd(n,this),this.Zg=t,null!==t&&i&&void 0===t.Wg&&(t.Wg=new Pt),null!==n&&i&&$u(n,this),null!==t&&(this.uo||!0===t.complete?(t.io&&(t.ro instanceof Event&&null!==this.ld?this.ld(this,t.ro):!0===t.ls&&!t.ro&&null!==this.xh&&t.ov&&this.xh(this,t.ov)),t.ls=!0,this.desiredSize.o()||(rl(this,!1),this.s())):i&&Bm(this,t)),this.g("element",e,t),this.M()}}},source:{get:function(){return this.$p},set:function(t){var e=this.$p;if(e!==t){this.$p=t;var i=x;if(va){var n=null;if(void 0!==i[t])n=i[t];else if(""!==t){30<u&&(ca(),i=x),(n=q("img")).io=!0,Bm(this,n);var r=this.gm;null!==r&&(n.crossOrigin=r(this)),n.src=t,i[t]=n,u++}this.element=n,null!==n&&void 0===n.__goCache&&(n.__goCache=new E),this.s(),this.M()}this.g("source",e,t)}}},sourceCrossOrigin:{get:function(){return this.gm},set:function(t){if(this.gm!==t&&(this.gm=t,null!==this.element)){var e=this.element.getAttribute("src");null===t&&"string"==typeof e?this.element.crossOrigin=null:null!==t&&(this.element.crossOrigin=t(this)),this.element.src=e}}},sourceRect:{get:function(){return this.th},set:function(t){var e=this.th;e.w(t)||(this.th=t=t.H(),this.M(),this.g("sourceRect",e,t))}},imageStretch:{get:function(){return this.yl},set:function(t){var e=this.yl;e!==t&&(this.yl=t,this.M(),this.g("imageStretch",e,t))}},flip:{get:function(){return this.Td},set:function(t){var e=this.Td;e!==t&&(this.Td=t,this.M(),this.g("flip",e,t))}},imageAlignment:{get:function(){return this.xl},set:function(t){var e=this.xl;e.w(t)||(this.xl=t=t.H(),this.M(),this.g("imageAlignment",e,t))}},errorFunction:{get:function(){return this.ld},set:function(t){var e=this.ld;e!==t&&(this.ld=t,this.g("errorFunction",e,t))}},successFunction:{get:function(){return this.xh},set:function(t){var e=this.xh;e!==t&&(this.xh=t,this.g("successFunction",e,t))}},naturalBounds:{get:function(){return this.rc}}}),Fa.prototype.redraw=Fa.prototype.redraw,Fa.prototype.reloadSource=Fa.prototype.QA;var x=null,u=0,y=4;function E(){this.cj=null}function R(t,e,i,n,r){null===t.cj&&(t.cj=[]);var l=new tu(null),v=l.context,_=1/e;l.width=i/e,l.height=n/e,0!==l.width&&0!==l.height&&(e=new N(l.Ja,e),i=1,0<t.cj.length&&(r=(i=t.cj[t.cj.length-1]).source,i=i.ratio),v.setTransform(_*i,0,0,_*i,0,0),v.drawImage(r,0,0),t.cj.push(e))}function N(t,e){this.source=t,this.ratio=e}function j(){this.Kt=new hr,this.ic=null}function dt(t,e,i,n,r){t.ic=new an,t.ic.startX=e,t.ic.startY=i,t.ic.isFilled=n,t.Kt.figures.add(t.ic),void 0!==r&&(t.ic.isShadowed=r)}function gt(t){var e=t.ic.segments.length;0<e&&t.ic.segments.J(e-1).close()}function pt(t,e,i,n,r,l,v){var _;void 0===_&&(_=!1);var D=new nn(Le);D.point1X=e,D.point1Y=i,D.point2X=n,D.point2Y=r,D.endX=l,D.endY=v,_&&D.close(),t.ic.segments.add(D)}function Ct(t,e,i,n,r){var l;void 0===l&&(l=!1);var v=new nn(me);v.point1X=e,v.point1Y=i,v.endX=n,v.endY=r,l&&v.close(),t.ic.segments.add(v)}function Rt(t,e,i,n,r,l,v,_){var D;void 0===D&&(D=!1),e=new nn(vi,v,_,e,i,n,r,l),D&&e.close(),t.ic.segments.add(e)}function $t(t){var e=ee;return null!==e?(ee=null,e.reset(t),e):((e=new j).reset(t),e)}Fa.className="Picture",x=new Vt,Fa.clearCache=ca,E.className="PictureCacheArray",N.className="PictureCacheInstance",j.prototype.reset=function(t){null!==t?(t.ea(),this.Kt=t,t.figures.clear()):this.Kt=new hr,this.ic=null},j.prototype.Ym=function(t){this.ic.isShadowed=t},j.prototype.moveTo=function(t,e,i){void 0===i&&(i=!1);var n=new nn(lr);n.endX=t,n.endY=e,i&&n.close(),this.ic.segments.add(n)},j.prototype.lineTo=function(t,e,i){void 0===i&&(i=!1);var n=new nn(ie);n.endX=t,n.endY=e,i&&n.close(),this.ic.segments.add(n)},j.prototype.arcTo=function(t,e,i,n,r,l,v){void 0===l&&(l=0),void 0===v&&(v=!1);var _=new nn(Ve);_.startAngle=t,_.sweepAngle=e,_.centerX=i,_.centerY=n,_.radiusX=r,_.radiusY=0!==l?l:r,v&&_.close(),this.ic.segments.add(_)};var ee=null;function se(t,e){var i=t.toLowerCase(),n=ti.Qe;n[t]=e,n[i]=t}function qt(t){Xi.call(this,t),this.D=2408959,this.ih=this.Nf="",this.Gp=this.Cp=this.Rp=this.Ho=null,this.Tp="",this.Lf=this.so=this.Sp=this.sh=null,this.Ep="",this.Dp=xe,this.Ub=this.Hp="",this.Fi=this.An=this.mi=null,this.dg=new ht(NaN,NaN).freeze(),this.Oo="",this.cf=null,this.Po=Hr,this.Ip=us,this.Yo=ci,this.Qo=Oe,this.Sn=null,this.Io=127,this.Xp=oi,this.Wp="gray",this.ug=4,this.zx=-1,this.tq=NaN,this.ez=new he,this.Xj=null,this.kh=NaN}function ge(t){0!=(16384&t.D)&&(t.updateAdornments(),t.D&=-16385)}function He(t){if(!1===Ii(t)){Ci(t,!0),t.Fl();var e=t.diagram;null!==e&&(e.wd.add(t),e.Db())}}function ze(t){if(t.D|=2097152,!1!==Ii(t)){var e=t.position,i=t.location;i.o()&&e.o()||Oi(t,e,i),i=t.xb;var n=he.alloc().assign(i);i.ea(),i.x=e.x,i.y=e.y,i.freeze(),t.Im(n,i),he.free(n),Ci(t,!1)}}function ri(t,e){var i=t.ez;isNaN(t.kh)&&(t.kh=Im(t));var n=t.kh,r=2*n;if(!t.isShadowed)return i.h(e.x-1-n,e.y-1-n,e.width+2+r,e.height+2+r),i;n=e.x,r=e.y;var l=e.width;e=e.height;var v=t.shadowBlur;return l+=v,e+=v,n-=v/2,r-=v/2,0<(t=t.shadowOffset).x?l+=t.x:(n+=t.x,l-=t.x),0<t.y?e+=t.y:(r+=t.y,e-=t.y),i.h(n-1,r-1,l+2,e+2),i}function ki(t,e,i,n){null===e||t instanceof Ji||(e=e.animationManager).ef&&In(e,t,n.copy(),i.copy())}function Oi(t,e,i){var n=ht.alloc(),r=t.locationSpot,l=t.locationObject;r.nc()&&U("determineOffset: Part's locationSpot must be real: "+r.toString());var v=l.naturalBounds,_=l instanceof sr?l.strokeWidth:0;if(n.Uk(0,0,v.width+_,v.height+_,r),l!==t)for(n.offset(-_/2,-_/2),l.transform.ta(n),r=l.panel;null!==r&&r!==t;)r.transform.ta(n),r=r.panel;t.cg.ta(n),n.offset(-t.qc.x,-t.qc.y),r=t.diagram,l=i.o(),v=e.o(),l&&v?0!=(2097152&t.D)?ii(t,e,i,r,n):Ti(t,e,i,r,n):l?ii(t,e,i,r,n):v&&Ti(t,e,i,r,n),t.D|=2097152,ht.free(n),t.Fl()}function ii(t,e,i,n,r){var l=e.x,v=e.y;e.h(i.x-r.x,i.y-r.y),null!==n&&((n=(i=n.animationManager).defaultAnimation.isAnimating)||!i.ef||t instanceof Ji||In(i,t,new ht(l,v),e),n||e.x===l&&e.y===v||t.g("position",new ht(l,v),e.copy()))}function Ti(t,e,i,n,r){var l=i.copy();i.h(e.x+r.x,e.y+r.y),i.w(l)||null===n||t.g("location",l,i.copy())}function fi(t,e,i){Ki(t,!1),t instanceof Si&&Rc(i,t),t.layer.isTemporary||e||i.Na(),e=t.xb;var n=i.viewportBounds;n.o()?Ai(t)?(Li(e,n)||t.Nd(!1),t.updateAdornments()):e.Mc(n)?(t.Nd(!0),t.updateAdornments()):t.Lb():i.xi=!0}function Ri(t,e,i,n){e.constructor===t.constructor||Cn||(Cn=!0,lt('Should not change the class of the Part when changing category from "'+i+'" to "'+n+'"'),lt("  Old class: "+g(t.constructor)+", new class: "+g(e.constructor)+", part: "+t.toString())),t.nk();var r=t.data;i=t.layerName;var l=t.isSelected,v=t.isHighlighted,_=!0,D=!0,O=!1;t instanceof Si&&(_=t.isTreeLeaf,D=t.isTreeExpanded,O=t.wasTreeExpanded),e.yf(t),e.cloneProtected(t),t.Nf=n,t.s(),t.M(),n=!0,null!==(e=t.diagram)&&(n=e.skipsUndoManager,e.skipsUndoManager=!0),t.ob=r,t.D=l?4096|t.D:-4097&t.D,t.D=v?524288|t.D:-524289&t.D,t instanceof Si&&(t.P=_?4|t.P:-5&t.P,t.P=D?1|t.P:-2&t.P,t.P=O?2|t.P:-3&t.P),null!==r&&t.Ea(),(r=t.layerName)!==i&&(t.ih=i,t.layerName=r),null!==e&&(e.skipsUndoManager=n),t.Nc()&&t.C(64)}function Ii(t){return 0!=(32768&t.D)}function Ci(t,e){t.D=e?32768|t.D:-32769&t.D}function Ki(t,e){t.D=e?65536|t.D:-65537&t.D}function Ai(t){return 0!=(131072&t.D)}function mn(t,e){t.D=e?1048576|t.D:-1048577&t.D}function ln(t,e){var i=e.containingGroup;return null!==i?1+ln(t,i):e instanceof Si&&null!==(e=e.labeledLink)?ln(t,e):0}function dn(t,e){var i=e.containingGroup;return null!==i||e instanceof Si&&null!==(i=e.labeledLink)?dn(t,i):e}function un(t,e,i){if(e===i||null===i)return!1;var n=e.containingGroup;return!(null===n||n!==i&&!un(t,n,i))||e instanceof Si&&null!==(e=e.labeledLink)&&un(t,e,i)}function fn(t){return!(!t.isVisible()||null!==(t=t.layer)&&t.isTemporary)}function Nn(t,e,i,n,r,l){if(void 0===l&&(l=null),!(t.contains(e)||null!==l&&!l(e)||e instanceof Ji))if(t.add(e),e instanceof Si){if(i&&e instanceof Qi)for(var v=e.memberParts;v.next();)Nn(t,v.value,i,n,r,l);if(!1!==r)for(v=e.linksConnected;v.next();){var _=v.value;if(!t.contains(_)){var D=_.fromNode,O=_.toNode;D=null===D||t.contains(D),O=null===O||t.contains(O),(r?D&&O:D||O)&&Nn(t,_,i,n,r,l)}}if(1<n)for(e=e.Wv();e.next();)Nn(t,e.value,i,n-1,r,l)}else if(e instanceof Bi)for(e=e.labelNodes;e.next();)Nn(t,e.value,i,n,r,l)}j.className="StreamGeometryContext",se("Rectangle",function(t,e,i){var n=ti.Uh[t="r"+e+","+i];return void 0!==n||((n=new hr(Be)).endX=e,n.endY=i,50>ti.Vh&&(ti.Uh[t]=n,ti.Vh++)),n}),se("Square",function(t,e,i){var n=ti.Uh[t="s"+e+","+i];return void 0!==n||((n=new hr(Be)).endX=e,n.endY=i,n.defaultStretch=wl,50>ti.Vh&&(ti.Uh[t]=n,ti.Vh++)),n}),se("RoundedRectangle",function(t,e,i){var n=t?t.parameter1:NaN;return(isNaN(n)||0>n)&&(n=5),n=Math.min(n,e/3),t=(n=Math.min(n,i/3))*ti.Kg,e=(new hr).add(new an(n,0,!0).add(new nn(ie,e-n,0)).add(new nn(Le,e,n,e-t,0,e,t)).add(new nn(ie,e,i-n)).add(new nn(Le,e-n,i,e,i-t,e-t,i)).add(new nn(ie,n,i)).add(new nn(Le,0,i-n,t,i,0,i-t)).add(new nn(ie,0,n)).add(new nn(Le,n,0,0,t,t,0).close())),1<t&&(e.spot1=new hn(0,0,t,t),e.spot2=new hn(1,1,-t,-t)),e}),se("Border","RoundedRectangle"),se("Ellipse",function(t,e,i){var n=ti.Uh[t="e"+e+","+i];return void 0!==n||((n=new hr(Qe)).endX=e,n.endY=i,n.spot1=Th,n.spot2=Ph,50>ti.Vh&&(ti.Uh[t]=n,ti.Vh++)),n}),se("Circle",function(t,e,i){var n=ti.Uh[t="c"+e+","+i];return void 0!==n||((n=new hr(Qe)).endX=e,n.endY=i,n.spot1=Th,n.spot2=Ph,n.defaultStretch=wl,50>ti.Vh&&(ti.Uh[t]=n,ti.Vh++)),n}),se("TriangleRight",function(t,e,i){return(new hr).add(new an(0,0).add(new nn(ie,e,.5*i)).add(new nn(ie,0,i).close())).Zm(0,.25,.5,.75)}),se("TriangleDown",function(t,e,i){return(new hr).add(new an(0,0).add(new nn(ie,e,0)).add(new nn(ie,.5*e,i).close())).Zm(.25,0,.75,.5)}),se("TriangleLeft",function(t,e,i){return(new hr).add(new an(e,i).add(new nn(ie,0,.5*i)).add(new nn(ie,e,0).close())).Zm(.5,.25,1,.75)}),se("TriangleUp",function(t,e,i){return(new hr).add(new an(e,i).add(new nn(ie,0,i)).add(new nn(ie,.5*e,0).close())).Zm(.25,.5,.75,1)}),se("Triangle","TriangleUp"),se("Diamond",function(t,e,i){return(new hr).add(new an(.5*e,0).add(new nn(ie,0,.5*i)).add(new nn(ie,.5*e,i)).add(new nn(ie,e,.5*i).close())).Zm(.25,.25,.75,.75)}),se("LineH",function(t,e,i){return(t=new hr(Ie)).startX=0,t.startY=i/2,t.endX=e,t.endY=i/2,t}),se("LineV",function(t,e,i){return(t=new hr(Ie)).startX=e/2,t.startY=0,t.endX=e/2,t.endY=i,t}),se("None","Rectangle"),se("BarH","Rectangle"),se("BarV","Rectangle"),se("MinusLine","LineH"),se("PlusLine",function(t,e,i){return(new hr).add(new an(0,i/2,!1).add(new nn(ie,e,i/2)).add(new nn(lr,e/2,0)).add(new nn(ie,e/2,i)))}),se("XLine",function(t,e,i){return(new hr).add(new an(0,i,!1).add(new nn(ie,e,0)).add(new nn(lr,0,0)).add(new nn(ie,e,i)))}),ti.dn={"":"",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z"},Z(qt,Xi),qt.prototype.cloneProtected=function(t){Xi.prototype.cloneProtected.call(this,t),t.D=-4097&this.D|49152,t.Nf=this.Nf,t.ih=this.ih,t.Ho=this.Ho,t.Rp=this.Rp,t.Cp=this.Cp,t.Gp=this.Gp,t.Tp=this.Tp,t.Sp=this.Sp,t.so=this.so,t.Lf=null,t.Ep=this.Ep,t.Dp=this.Dp.H(),t.Hp=this.Hp,t.Ip=this.Ip.H(),t.Ub=this.Ub,t.An=this.An,t.dg.assign(this.dg),t.Oo=this.Oo,t.Po=this.Po.H(),t.Yo=this.Yo.H(),t.Qo=this.Qo.H(),t.Sn=this.Sn,t.Io=this.Io,t.Xp=this.Xp.H(),t.Wp=this.Wp,t.ug=this.ug,t.tq=this.tq},qt.prototype.yf=function(t){Xi.prototype.yf.call(this,t),t.Oh(),t.sh=null,t.cf=null,t.Xj=null},qt.prototype.toString=function(){var t=g(this.constructor)+"#"+Ge(this);return null!==this.data&&(t+="("+p(this.data)+")"),t},qt.prototype.Sk=function(t,e,i,n,r,l,v){var _=this.diagram;null!==_&&(t===gn&&"elements"===e?r instanceof Xi?wh(r,function(D){rx(_.partManager,D),Gd(_,D)}):$u(_,r):t===wn&&"elements"===e&&(r instanceof Xi?wh(r,function(D){oy(_.partManager,D,_)}):Yd(_,r)),_.Va(t,e,i,n,r,l,v))},qt.prototype.Ea=function(t){if(Xi.prototype.Ea.call(this,t),null!==this.data){for(var e=this.W.j,i=e.length,n=0;n<i;n++){var r=e[n];r instanceof Xi&&wh(r,function(l){null!==l.data&&l.Ea()})}for(e=this.adornments;e.next();)e.value.Ea(t)}},qt.prototype.updateRelationshipsFromData=function(){null!==this.data&&this.diagram.partManager.updateRelationshipsFromData(this)},qt.prototype.wk=function(t){var e=this.Lf;return null===e?null:e.G(t)},qt.prototype.Gh=function(t,e){if(null!==e){var i=null,n=this.Lf;if(null!==n&&(i=n.G(t)),i!==e){if(null!==i){var r=i.diagram;null!==r&&r.remove(i)}null===n&&(this.Lf=n=new yt),e.Nf!==t&&(e.category=t),n.add(t,e),null!==(t=this.diagram)&&(t.add(e),null!==(t=e.adornedObject)&&null!==(t=t.ij())&&(e.data=t.data))}}},qt.prototype.Hf=function(t){var e=this.Lf;if(null!==e){var i=e.G(t);if(null!==i){var n=i.diagram;null!==n&&n.remove(i)}e.remove(t),0===e.count&&(this.Lf=null)}},qt.prototype.nk=function(){var t=this.Lf;if(null!==t){var e=o();for(t=t.iterator;t.next();)e.push(t.key);t=e.length;for(var i=0;i<t;i++)this.Hf(e[i]);c(e)}},qt.prototype.updateAdornments=function(){var t=this.diagram;if(null!==t){for(var e=this.adornments;e.next();){var i=e.value;i.s(),i.placeholder&&i.placeholder.s()}t:{if(this.isSelected&&this.selectionAdorned&&null!==(e=this.selectionObject)&&this.actualBounds.o()&&this.isVisible()&&e.Gf()&&e.actualBounds.o()){if(null===(i=this.wk("Selection"))){if(null===(i=this.selectionAdornmentTemplate)&&(i=this.Ph()?t.linkSelectionAdornmentTemplate:this instanceof Qi?t.groupSelectionAdornmentTemplate:t.nodeSelectionAdornmentTemplate),!(i instanceof Ji))break t;ul(i),null!==(i=i.copy())&&(this.Ph()&&this.selectionObject===this.path&&(i.type=Xi.Link),i.adornedObject=e)}if(null!==i){i.type===Xi.Link&&i.s(),this.Gh("Selection",i);break t}}this.Hf("Selection")}for(function(t,e){e.toolManager.mouseDownTools.each(function(i){i.isEnabled&&i.updateAdornments(t)}),e.toolManager.updateAdornments(t)}(this,t),e=this.adornments;e.next();)e.value.Ea()}},qt.prototype.Lb=function(){var t=this.diagram;null!==t&&(yu(t),0==(16384&this.D)&&(this.D|=16384,t.Db()))},qt.prototype.move=function(t,e){!0===e?this.location=t:this.position=t},qt.prototype.moveTo=function(t,e,i){t=ht.allocAt(t,e),this.move(t,i),ht.free(t)},qt.prototype.isVisible=function(){if(!this.visible)return!1;var t=this.layer;if(null!==t){if(!t.visible)return!1;if(null!==(t=t.diagram)&&t.animationManager.cu(this))return!0}return!!(null===(t=this.containingGroup)||t.isSubGraphExpanded&&t.isVisible())},(Q=qt.prototype).Ob=function(t){var e=this.diagram;t?(this.C(4),this.Lb(),null!==e&&e.wd.add(this)):(this.C(8),this.nk()),this.Oh(),null!==e&&(e.Na(),e.M())},Q.bb=function(t){if(this.name===t)return this;var e=this.Xj;if(null===e&&(this.Xj=e=new yt),null!==e.G(t))return e.G(t);var i=Xi.prototype.bb.call(this,t);return null!==i?(e.set(t,i),i):(e.set(t,null),null)},Q.Df=function(t,e,i){void 0===i&&(i=new ht),e=e.nc()?ar:e;var n=t.naturalBounds;if(i.h(n.width*e.x+e.offsetX,n.height*e.y+e.offsetY),null===t||t===this)return i;for(t.transform.ta(i),t=t.panel;null!==t&&t!==this;)t.transform.ta(i),t=t.panel;return this.cg.ta(i),i.offset(-this.qc.x,-this.qc.y),i},Q.mj=function(t){return void 0===t&&(t=new he),t.assign(this.actualBounds)},Q.Ta=function(){!0===Ps(this)&&this.measure(1/0,1/0),this.arrange()},qt.prototype.arrange=function(){if(!1===Vl(this))ze(this);else{Hh(this,!1);var t=this.xb,e=he.alloc();e.assign(t);var i=Ai(this);this.Ih(0,0,this.qc.width,this.qc.height);var n=this.position;Oi(this,n,this.location),t.ea(),t.x=n.x,t.y=n.y,t.freeze(),this.Im(e,t),e.w(t)?this.Nd(i):!this.Nc()||ti.A(e.width,t.width)&&ti.A(e.height,t.height)||0<=this.zx&&this.C(16),he.free(e),Ci(this,!1)}},(Q=qt.prototype).Im=function(t,e){var i=this.diagram;if(null!==i){var n=!1;if(!1===i.vi&&t.o()){var r=he.alloc();r.assign(i.documentBounds),r.Jw(i.padding),t.x>r.x&&t.y>r.y&&t.right<r.right&&t.bottom<r.bottom&&e.x>r.x&&e.y>r.y&&e.right<r.right&&e.bottom<r.bottom&&(n=!0),he.free(r)}0==(65536&this.D)&&t.w(e)||fi(this,n,i),i.M(),!t.o()&&!e.o()||zi(t,e)||(this instanceof Si&&!i.undoManager.isUndoingRedoing&&this.sd(),this.Oh())}},Q.Ew=function(t,e){if(this.Ph()||!t.o())return!1;var i=this.diagram;null!==i&&ki(this,i,t,e),this.la=t,this.D&=-2097153;var n=this.dg;return!n.o()||null!==i&&!i.animationManager.isTicking&&i.undoManager.isUndoingRedoing||(i=n.copy(),n.h(n.x+(t.x-e.x),n.y+(t.y-e.y)),this.g("location",i,n.copy())),!1===Ii(this)&&!1===Vl(this)&&(He(this),ze(this)),!0},Q.er=function(t,e,i){var n=this.dg,r=this.la;if(i){if(n.x===t&&n.y===e)return;Ii(this)||Vl(this)?r.h(NaN,NaN):r.h(r.x+t-n.x,r.y+e-n.y),n.h(t,e)}else{if(r.x===t&&r.y===e)return;Ii(this)||Vl(this)?this.lu():n.h(n.x+t-r.x,n.y+e-r.y),r.h(t,e)}He(this)},Q.lu=function(){this.D&=-2097153,He(this)},Q.rj=function(){return!0},Q.Nc=function(){return!0},Q.Ph=function(){return!1},Q.Ff=function(){return!0},qt.prototype.canCopy=function(){if(!this.copyable)return!1;var t=this.layer;return null===t||!!t.allowCopy&&(null===(t=t.diagram)||!!t.allowCopy)},qt.prototype.canDelete=function(){if(!this.deletable)return!1;var t=this.layer;return null===t||!!t.allowDelete&&(null===(t=t.diagram)||!!t.allowDelete)},qt.prototype.canEdit=function(){if(!this.textEditable)return!1;var t=this.layer;return null===t||!!t.allowTextEdit&&(null===(t=t.diagram)||!!t.allowTextEdit)},qt.prototype.canGroup=function(){if(!this.groupable)return!1;var t=this.layer;return null===t||!!t.allowGroup&&(null===(t=t.diagram)||!!t.allowGroup)},qt.prototype.canMove=function(){if(!this.movable)return!1;var t=this.layer;return null===t||!!t.allowMove&&(null===(t=t.diagram)||!!t.allowMove)},qt.prototype.canReshape=function(){if(!this.reshapable)return!1;var t=this.layer;return null===t||!!t.allowReshape&&(null===(t=t.diagram)||!!t.allowReshape)},qt.prototype.canResize=function(){if(!this.resizable)return!1;var t=this.layer;return null===t||!!t.allowResize&&(null===(t=t.diagram)||!!t.allowResize)},qt.prototype.canRotate=function(){if(!this.rotatable)return!1;var t=this.layer;return null===t||!!t.allowRotate&&(null===(t=t.diagram)||!!t.allowRotate)},qt.prototype.canSelect=function(){if(!this.selectable)return!1;var t=this.layer;return null===t||!!t.allowSelect&&(null===(t=t.diagram)||!!t.allowSelect)},(Q=qt.prototype).Nd=function(t){this.D=t?131072|this.D:-131073&this.D},Q.Oh=function(){var t=this.containingGroup;null!==t&&(t.s(),null!==t.placeholder&&t.placeholder.s(),t.sd())},Q.M=function(){var t=this.diagram;null!==t&&!Vl(this)&&!Ii(this)&&this.isVisible()&&this.xb.o()&&t.M(ri(this,this.xb))},Q.s=function(){Xi.prototype.s.call(this);var t=this.diagram;null!==t&&(t.wd.add(this),this instanceof Si&&null!==this.labeledLink&&dc(this.labeledLink),t.Db(!0))},Q.Mq=function(t){t||null!==(t=this.mi)&&mi(t,this)},Q.Nq=function(t){t||null!==(t=this.mi)&&En(t,this)},Q.uk=function(){var t=this.data;if(null!==t){var e=this.diagram;null!==e&&null!==(e=e.model)&&e.Nm(t)}},Q.bA=function(){return ln(this,this)},Q.eA=function(){return dn(this,this)},Q.Kd=function(t){return t instanceof Qi&&un(this,this,t)},Q.oy=function(t){if(null===t)return null;if(this===t)return this.containingGroup;for(var e=this;null!==e;){if(e instanceof Qi&&mn(e,!0),e instanceof Si){var i=e.labeledLink;null!==i&&(e=i)}e=e.containingGroup}for(i=null,e=t;null!==e;){if(0!=(1048576&e.D)){i=e;break}e instanceof Si&&null!==(t=e.labeledLink)&&(e=t),e=e.containingGroup}for(e=this;null!==e;)e instanceof Qi&&mn(e,!1),e instanceof Si&&null!==(t=e.labeledLink)&&(e=t),e=e.containingGroup;return i},qt.prototype.canLayout=function(){if(!this.isLayoutPositioned||!this.isVisible())return!1;var t=this.layer;return!(null!==t&&t.isTemporary||this instanceof Si&&this.isLinkLabel)},qt.prototype.C=function(t){if(void 0===t&&(t=16777215),this.isLayoutPositioned&&0!=(t&this.layoutConditions)){var e=this.layer;e=!(null!==e&&e.isTemporary||this instanceof Si&&this.isLinkLabel)&&!(null!==(e=this.diagram)&&e.undoManager.isUndoingRedoing)}else e=!1;if(e)if(null!==(e=this.mi)){var i=e.layout;null!==i?i.C():e.C(t)}else null!==(t=this.diagram)&&null!==(t=t.layout)&&t.C()},H.Object.defineProperties(qt.prototype,{key:{get:function(){var t=this.diagram;if(null!==t)return t.model.ja(this.data)}},adornments:{get:function(){return null===this.Lf?Gt:this.Lf.iteratorValues}},layer:{get:function(){return this.Fi}},diagram:{get:function(){var t=this.Fi;return null!==t?t.diagram:null}},layerName:{get:function(){return this.ih},set:function(t){var e=this.ih;if(e!==t){var i=this.diagram;if((null===i||null!==i.xk(t)&&!i.partManager.addsToTemporaryLayer)&&(this.ih=t,null!==i&&i.Na(),this.g("layerName",e,t),null!==(e=this.layer)&&e.name!==t&&null!==(i=e.diagram)&&null!==(t=i.xk(t))&&t!==e)){var n=e.Lc(-1,this,!0);if(0<=n&&i.Va(wn,"parts",e,this,null,n,!0),n=t.oj(99999999,this,!0),e.visible!==t.visible&&this.Ob(t.visible),0<=n&&i.Va(gn,"parts",t,null,this,!0,n),null!==(n=this.layerChanged)){var r=i.Z;i.Z=!0,n(this,e,t),i.Z=r}}}}},layerChanged:{get:function(){return this.Ho},set:function(t){var e=this.Ho;e!==t&&(this.Ho=t,this.g("layerChanged",e,t))}},zOrder:{get:function(){return this.tq},set:function(t){var e=this.tq;if(e!==t){this.tq=t;var i=this.layer;null!==i&&pg(i,-1,this),this.g("zOrder",e,t),null!==(t=this.diagram)&&t.M()}}},locationObject:{get:function(){if(null===this.cf){var t=this.locationObjectName;""!==t?(t=this.bb(t),this.cf=null!==t?t:this):this.cf=this instanceof Ji&&this.type!==Xi.Link&&null!==this.placeholder?this.placeholder:this}return this.cf.visible?this.cf:this}},minLocation:{get:function(){return this.Yo},set:function(t){var e=this.Yo;e.w(t)||(this.Yo=t=t.H(),this.g("minLocation",e,t))}},maxLocation:{get:function(){return this.Qo},set:function(t){var e=this.Qo;e.w(t)||(this.Qo=t=t.H(),this.g("maxLocation",e,t))}},locationObjectName:{get:function(){return this.Oo},set:function(t){var e=this.Oo;e!==t&&(this.Oo=t,this.cf=null,this.s(),this.g("locationObjectName",e,t))}},locationSpot:{get:function(){return this.Po},set:function(t){var e=this.Po;e.w(t)||(this.Po=t=t.H(),this.s(),this.g("locationSpot",e,t))}},location:{get:function(){return this.dg},set:function(t){var e=t.x,i=t.y,n=this.dg,r=n.x,l=n.y;(r===e||isNaN(r)&&isNaN(e))&&(l===i||isNaN(l)&&isNaN(i))||(e=t=t.copy(),this.Ph()?e=!1:(this.dg=e,this.D|=2097152,!1===Vl(this)&&(He(this),(i=this.la).o()&&(null===(r=this.diagram)||r.animationManager.isTicking||!r.undoManager.isUndoingRedoing))&&(l=i.copy(),i.h(i.x+(e.x-n.x),i.y+(e.y-n.y)),ki(this,r,i,l),this.g("position",l,i.copy())),e=!0),e&&this.g("location",n.copy(),t.copy()))}},category:{get:function(){return this.Nf},set:function(t){var e=this.Nf;if(e!==t){var i=this.diagram,n=this.data,r=null;if(null!==i&&null!==n&&!(this instanceof Ji)){var l=i.model.undoManager;l.isEnabled&&!l.isUndoingRedoing&&(r=this.clone()).W.addAll(this.W)}this.Nf=t,this.g("category",e,t),null===i||null===n||this instanceof Ji?this instanceof Ji&&null!==(r=this.adornedPart)&&(null!==(t=r.Lf)&&t.remove(e),r.Gh(this.category,this)):(l=i.model).undoManager.isUndoingRedoing||(this.Ph()?(i.partManager.setLinkCategoryForData(n,t),null!==(i=i.partManager.findLinkTemplateForCategory(t))&&(ul(i),null!==(i=i.copy())&&Ri(this,i,e,t))):(null!==l&&l.Um(n,t),null!==(i=Zx(i.partManager,n,t))&&(ul(i),null===(i=i.copy())||i instanceof Bi||(n=this.location.copy(),Ri(this,i,e,t),this.location.o()||(this.location=n)))),null!==r&&((e=this.clone()).W.addAll(this.W),this.g("self",r,e)))}}},self:{get:function(){return this},set:function(t){Ri(this,t,this.category,t.category)}},copyable:{get:function(){return 0!=(1&this.D)},set:function(t){var e=0!=(1&this.D);e!==t&&(this.D^=1,this.g("copyable",e,t))}},deletable:{get:function(){return 0!=(2&this.D)},set:function(t){var e=0!=(2&this.D);e!==t&&(this.D^=2,this.g("deletable",e,t))}},textEditable:{get:function(){return 0!=(4&this.D)},set:function(t){var e=0!=(4&this.D);e!==t&&(this.D^=4,this.g("textEditable",e,t),this.Lb())}},groupable:{get:function(){return 0!=(8&this.D)},set:function(t){var e=0!=(8&this.D);e!==t&&(this.D^=8,this.g("groupable",e,t))}},movable:{get:function(){return 0!=(16&this.D)},set:function(t){var e=0!=(16&this.D);e!==t&&(this.D^=16,this.g("movable",e,t))}},selectionAdorned:{get:function(){return 0!=(32&this.D)},set:function(t){var e=0!=(32&this.D);e!==t&&(this.D^=32,this.g("selectionAdorned",e,t),this.Lb())}},isInDocumentBounds:{get:function(){return 0!=(64&this.D)},set:function(t){var e=0!=(64&this.D);if(e!==t){this.D^=64;var i=this.diagram;null!==i&&i.Na(),this.g("isInDocumentBounds",e,t)}}},isLayoutPositioned:{get:function(){return 0!=(128&this.D)},set:function(t){var e=0!=(128&this.D);e!==t&&(this.D^=128,this.g("isLayoutPositioned",e,t),this.C(t?4:8))}},selectable:{get:function(){return 0!=(256&this.D)},set:function(t){var e=0!=(256&this.D);e!==t&&(this.D^=256,this.g("selectable",e,t),this.Lb())}},reshapable:{get:function(){return 0!=(512&this.D)},set:function(t){var e=0!=(512&this.D);e!==t&&(this.D^=512,this.g("reshapable",e,t),this.Lb())}},resizable:{get:function(){return 0!=(1024&this.D)},set:function(t){var e=0!=(1024&this.D);e!==t&&(this.D^=1024,this.g("resizable",e,t),this.Lb())}},rotatable:{get:function(){return 0!=(2048&this.D)},set:function(t){var e=0!=(2048&this.D);e!==t&&(this.D^=2048,this.g("rotatable",e,t),this.Lb())}},isSelected:{get:function(){return 0!=(4096&this.D)},set:function(t){var e=0!=(4096&this.D);if(e!==t){var i=this.diagram;if(!t||this.canSelect()&&!(null!==i&&i.selection.count>=i.maxSelectionCount)){this.D^=4096;var n=!1;if(null!==i){n=i.skipsUndoManager,i.skipsUndoManager=!0;var r=i.selection;r.ea(),t?r.add(this):r.remove(this),r.freeze()}this.g("isSelected",e,t),this.Lb(),null!==(t=this.selectionChanged)&&t(this),null!==i&&(i.Db(),i.skipsUndoManager=n)}}}},isHighlighted:{get:function(){return 0!=(524288&this.D)},set:function(t){var e=0!=(524288&this.D);if(e!==t){this.D^=524288;var i=this.diagram;null!==i&&((i=i.highlighteds).ea(),t?i.add(this):i.remove(this),i.freeze()),this.g("isHighlighted",e,t),this.M(),null!==(t=this.highlightedChanged)&&t(this)}}},isShadowed:{get:function(){return 0!=(8192&this.D)},set:function(t){var e=0!=(8192&this.D);e!==t&&(this.D^=8192,this.g("isShadowed",e,t),this.M())}},isAnimated:{get:function(){return 0!=(262144&this.D)},set:function(t){var e=0!=(262144&this.D);e!==t&&(this.D^=262144,this.g("isAnimated",e,t))}},highlightedChanged:{get:function(){return this.so},set:function(t){var e=this.so;e!==t&&(this.so=t,this.g("highlightedChanged",e,t))}},selectionObjectName:{get:function(){return this.Tp},set:function(t){var e=this.Tp;e!==t&&(this.Tp=t,this.sh=null,this.g("selectionObjectName",e,t))}},selectionAdornmentTemplate:{get:function(){return this.Rp},set:function(t){var e=this.Rp;e!==t&&(this.Rp=t,this.g("selectionAdornmentTemplate",e,t))}},selectionObject:{get:function(){if(null===this.sh){var t=this.selectionObjectName;null!==t&&""!==t?(t=this.bb(t),this.sh=null!==t?t:this):this.sh=this instanceof Bi&&null!==(t=this.path)?t:this}return this.sh}},selectionChanged:{get:function(){return this.Sp},set:function(t){var e=this.Sp;e!==t&&(this.Sp=t,this.g("selectionChanged",e,t))}},resizeAdornmentTemplate:{get:function(){return this.Cp},set:function(t){var e=this.Cp;e!==t&&(this.Cp=t,this.g("resizeAdornmentTemplate",e,t))}},resizeObjectName:{get:function(){return this.Ep},set:function(t){var e=this.Ep;e!==t&&(this.Ep=t,this.g("resizeObjectName",e,t))}},resizeObject:{get:function(){var t=this.resizeObjectName;return""!==t&&null!==(t=this.bb(t))?t:this}},resizeCellSize:{get:function(){return this.Dp},set:function(t){var e=this.Dp;e.w(t)||(this.Dp=t=t.H(),this.g("resizeCellSize",e,t))}},rotateAdornmentTemplate:{get:function(){return this.Gp},set:function(t){var e=this.Gp;e!==t&&(this.Gp=t,this.g("rotateAdornmentTemplate",e,t))}},rotateObjectName:{get:function(){return this.Hp},set:function(t){var e=this.Hp;e!==t&&(this.Hp=t,this.g("rotateObjectName",e,t))}},rotateObject:{get:function(){var t=this.rotateObjectName;return""!==t&&null!==(t=this.bb(t))?t:this}},rotationSpot:{get:function(){return this.Ip},set:function(t){var e=this.Ip;e.w(t)||(this.Ip=t=t.H(),this.g("rotationSpot",e,t))}},text:{get:function(){return this.Ub},set:function(t){var e=this.Ub;e!==t&&(this.Ub=t,this.g("text",e,t))}},containingGroup:{get:function(){return this.mi},set:function(t){if(this.Nc()){var e=this.mi;if(e!==t){null===t||this!==t&&!t.Kd(this)||(this===t&&U("Cannot make a Group a member of itself: "+this.toString()),U("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+t.toString())),this.C(2);var i=this.diagram;if(null!==e?En(e,this):this instanceof Qi&&null!==i&&i.Dh.remove(this),this.mi=t,null!==t?mi(t,this):this instanceof Qi&&null!==i&&i.Dh.add(this),this.C(1),null!==i&&i.Z){var n=this.data,r=i.model;if(null!==n&&r.Dk()){var l=r.ja(null!==t?t.data:null);r.dr(n,l)}}if(null!==(n=this.containingGroupChanged)&&(r=!0,null!==i&&(r=i.Z,i.Z=!0),n(this,e,t),null!==i&&(i.Z=r)),this instanceof Qi)for(Nn(i=new Pt,this,!0,0,!0),i=i.iterator;i.next();)if((n=i.value)instanceof Si)for(n=n.linksConnected;n.next();)er(n.value);if(this instanceof Si){for(i=this.linksConnected;i.next();)er(i.value);null!==(i=this.labeledLink)&&er(i)}this.g("containingGroup",e,t),null!==t&&null!==(e=t.layer)&&pg(e,-1,t)}}else U("cannot set the Part.containingGroup of a Link or Adornment")}},containingGroupChanged:{get:function(){return this.An},set:function(t){var e=this.An;e!==t&&(this.An=t,this.g("containingGroupChanged",e,t))}},isTopLevel:{get:function(){return!(null!==this.containingGroup||this instanceof Si&&null!==this.labeledLink)}},layoutConditions:{get:function(){return this.Io},set:function(t){var e=this.Io;e!==t&&(this.Io=t,this.g("layoutConditions",e,t))}},dragComputation:{get:function(){return this.Sn},set:function(t){var e=this.Sn;e!==t&&(this.Sn=t,this.g("dragComputation",e,t))}},shadowOffset:{get:function(){return this.Xp},set:function(t){var e=this.Xp;e.w(t)||(this.Xp=t=t.H(),this.M(),this.g("shadowOffset",e,t))}},shadowColor:{get:function(){return this.Wp},set:function(t){var e=this.Wp;e!==t&&(this.Wp=t,this.M(),this.g("shadowColor",e,t))}},shadowBlur:{get:function(){return this.ug},set:function(t){var e=this.ug;e!==t&&(this.ug=t,this.M(),this.g("shadowBlur",e,t))}}}),qt.prototype.invalidateLayout=qt.prototype.C,qt.prototype.findCommonContainingGroup=qt.prototype.oy,qt.prototype.isMemberOf=qt.prototype.Kd,qt.prototype.findTopLevelPart=qt.prototype.eA,qt.prototype.findSubGraphLevel=qt.prototype.bA,qt.prototype.ensureBounds=qt.prototype.Ta,qt.prototype.getDocumentBounds=qt.prototype.mj,qt.prototype.getRelativePoint=qt.prototype.Df,qt.prototype.findObject=qt.prototype.bb,qt.prototype.moveTo=qt.prototype.moveTo,qt.prototype.invalidateAdornments=qt.prototype.Lb,qt.prototype.clearAdornments=qt.prototype.nk,qt.prototype.removeAdornment=qt.prototype.Hf,qt.prototype.addAdornment=qt.prototype.Gh,qt.prototype.findAdornment=qt.prototype.wk,qt.prototype.updateTargetBindings=qt.prototype.Ea;var Cn=!1;function Ji(t){qt.call(this,t),this.D&=-257,this.ih="Adornment",this.ie=null,this.Ex=0,this.Sx=!1,this.l=t instanceof t0?[]:Hn,this.Sa=null}qt.className="Part",qt.LayoutNone=0,qt.LayoutAdded=1,qt.LayoutRemoved=2,qt.LayoutShown=4,qt.LayoutHidden=8,qt.LayoutNodeSized=16,qt.LayoutGroupLayout=32,qt.LayoutNodeReplaced=64,qt.LayoutStandard=127,qt.LayoutAll=16777215,Z(Ji,qt),Ji.prototype.toString=function(){var t=this.adornedPart;return"Adornment("+this.category+")"+(null!==t?t.toString():"")},Ji.prototype.updateRelationshipsFromData=function(){},Ji.prototype.Gk=function(t){var e=this.adornedObject.part;if(e instanceof Bi&&this.adornedObject instanceof sr){var i=e.path;e.Gk(t),t=i.geometry,i=(e=this.W.j).length;for(var n=0;n<i;n++){var r=e[n];r.isPanelMain&&r instanceof sr&&(r.na=t)}}},Ji.prototype.rj=function(){var t=this.ie;return null===t||null===(t=t.part)||!Vl(t)},Ji.prototype.Nc=function(){return!1},Ji.prototype.Sk=function(t,e,i,n,r,l,v){if(t===gn&&"elements"===e){if(r instanceof Rn)null===this.Sa&&(this.Sa=r);else if(r instanceof Xi){var _=r.ym(function(D){return D instanceof Rn});_ instanceof Rn&&null===this.Sa&&(this.Sa=_)}}else t===wn&&"elements"===e&&null!==this.Sa&&(n===this.Sa||n instanceof Xi&&this.Sa.Gg(n))&&(this.Sa=null);qt.prototype.Sk.call(this,t,e,i,n,r,l,v)},Ji.prototype.updateAdornments=function(){},Ji.prototype.uk=function(){},H.Object.defineProperties(Ji.prototype,{placeholder:{get:function(){return this.Sa}},adornedObject:{get:function(){return this.ie},set:function(t){var e=this.adornedPart,i=null;null!==t&&(i=t.part),null===e||null!==t&&e===i||e.Hf(this.category),this.ie=t,null!==i&&i.Gh(this.category,this)}},adornedPart:{get:function(){var t=this.ie;return null!==t?t.part:null}},containingGroup:{get:function(){return null}}});var Hn=[];function Si(t){qt.call(this,t),this.P=13,this.$a=new zt,this.nq=this.Kl=this.Ii=this.Ko=this.Jo=null,this.cl=mr,this.tc=this.Se=null,this.zp=Ko,this.Eh=!1}function Zn(t,e){null!==e&&(null===t.Se&&(t.Se=new Pt),t.Se.add(e))}function Wn(t,e,i,n){if(null===e||null===t.Se)return null;for(var r=t.Se.iterator;r.next();){var l=r.value;if(l.au===t&&l.lw===e&&l.My===i&&l.Ny===n||l.au===e&&l.lw===t&&l.My===n&&l.Ny===i)return l}return null}function pn(t,e){for(t=t.linksConnected;t.next();){var i=t.value;(i.fromPort===e||i.toPort===e)&&(kn(i.fromPort),kn(i.toPort),i.Ua())}}function kn(t){if(null!==t){var e=t.yp;null!==e&&e.Dm(),null===(e=(t=t.part).containingGroup)||t.isVisible()||kn(e.port)}}function Qn(t,e,i,n){if(null!==e&&!i.has(e)){i.add(e);var r=!0,l=t.diagram;null!==l&&(r=l.isTreePathToChildren),e.linksConnected.each(function(v){v.isTreeLink?(r?v.fromNode===e:v.toNode===e)&&Qn(t,r?v.toNode:v.fromNode,i,n):n.add(v)})}}function rr(t,e,i){kn(i);var n=t.$a.contains(e);if(n||t.$a.add(e),!n||e.fromNode===e.toNode){var r=t.linkConnected;if(null!==r){var l=!0,v=t.diagram;null!==v&&(l=v.Z,v.Z=!0),r(t,e,i),null!==v&&(v.Z=l)}}!n&&e.isTreeLink&&(i=e.fromNode,e=e.toNode,null!==i&&null!==e&&i!==e&&(n=!0,null!==(t=t.diagram)&&(n=t.isTreePathToChildren),l=n?i:e,(r=n?e:i).Eh||(r.Eh=l),!l.isTreeLeaf||null!==t&&t.undoManager.isUndoingRedoing||(n?i===l&&(l.isTreeLeaf=!1):e===l&&(l.isTreeLeaf=!1))))}function _r(t,e,i){kn(i);var n=t.$a.remove(e),r=null;if(n||e.toNode===e.fromNode){var l=t.linkDisconnected;if(r=t.diagram,null!==l){var v=!0;null!==r&&(v=r.Z,r.Z=!0),l(t,e,i),null!==r&&(r.Z=v)}}n&&e.isTreeLink&&(i=!0,null!==r&&(i=r.isTreePathToChildren),t=i?e.toNode:e.fromNode,e=i?e.fromNode:e.toNode,null!==t&&(t.Eh=!1),null===e||e.isTreeLeaf||(0===e.$a.count?(e.Eh=null,null!==r&&r.undoManager.isUndoingRedoing||(e.isTreeLeaf=!0)):go(e)))}function go(t){if(t.Eh=!1,0!==t.$a.count){var e=!0,i=t.diagram;if(null===i||!i.undoManager.isUndoingRedoing){for(null!==i&&(e=i.isTreePathToChildren),i=t.$a.iterator;i.next();){var n=i.value;if(n.isTreeLink)if(e){if(n.fromNode===t)return void(t.isTreeLeaf=!1)}else if(n.toNode===t)return void(t.isTreeLeaf=!1)}t.isTreeLeaf=!0}}}function yo(t){null===t.tc?t.tc=new yt:t.tc.clear(),t.an(t,function(e,i){Tr(e,i)}),0===t.tc.count&&t.tc.add("",t)}function Tr(t,e){var i=e.portId;null!==i&&null!==t.tc&&t.tc.add(i,e)}function wr(t,e,i){var n=e.portId;if(null!==n&&(null!==t.tc&&t.tc.remove(n),null!==(e=t.diagram)&&i)){for(i=null,t=t.findLinksConnected(n);t.next();)n=t.value,null===i&&(i=o()),i.push(n);if(null!==i){for(t=0;t<i.length;t++)e.remove(i[t]);c(i)}}}function Kr(t,e){return null===(e=e.Fg())?0:1+Kr(t,e)}function oo(t,e,i,n,r,l,v){if(1<n)for(var _=i?t.Fq():t.Hd();_.next();){var D=_.value;D.isTreeLink&&(null===(D=D.Kq(t))||D===t||e.contains(D)||(e.add(D),oo(D,e,i,n-1,r,l,v)))}else zr(t,e,i,r,l,v)}function zr(t,e,i,n,r,l){for(var v=r===t||t.isTreeExpanded,_=i?t.Fq():t.Hd();_.next();){var D=_.value;if(D.isTreeLink&&null!==(D=D.Kq(t))&&D!==t){var O=e.contains(D);O||e.add(D),v&&(l&&n.jk(D,r),D.Oh(),D.Ob(!1)),D.isTreeExpanded&&(D.wasTreeExpanded=D.isTreeExpanded,O||zr(D,e,i,n,r,l))}}t.isTreeExpanded=!1}function co(t,e,i,n,r,l,v){for(var _=l!==t&&t.isTreeExpanded,D=i?t.Fq():t.Hd();D.next();){var O=D.value;O.isTreeLink&&(_||O.ud||O.Ua(),null!==(O=O.Kq(t))&&O!==t&&!e.contains(O)&&(e.add(O),_||(O.Ob(!0),O.Oh(),v&&r.lk(O,l)),2<n||O.wasTreeExpanded))&&(O.wasTreeExpanded=!1,co(O,e,i,n-1,r,l,v))}t.isTreeExpanded=!0}Ji.className="Adornment",Z(Si,qt),Si.prototype.cloneProtected=function(t){qt.prototype.cloneProtected.call(this,t),t.P=this.P,t.P=-17&this.P,t.Jo=this.Jo,t.Ko=this.Ko,t.Ii=this.Ii,t.nq=this.nq,t.cl=this.cl.H(),t.zp=this.zp},(Q=Si.prototype).yf=function(t){qt.prototype.yf.call(this,t),t.sd(),t.Se=this.Se,t.tc=null},Q.xA=function(t,e,i){null==e&&(e=""),null==i&&(i=""),null!==(t=Wn(this,t,e,i))&&t.Dm()},Q.Sk=function(t,e,i,n,r,l,v){(t===gn&&"elements"===e||t===wn&&"elements"===e)&&(this.tc=null),qt.prototype.Sk.call(this,t,e,i,n,r,l,v)},Q.sd=function(t){void 0===t&&(t=null);for(var e=this.linksConnected;e.next();){var i=e.value;null!==t&&t.contains(i)||(kn(i.fromPort),kn(i.toPort),i.Ua())}},Q.rj=function(){return!0},Si.prototype.getAvoidableRect=function(t){return t.set(this.actualBounds),t.uq(this.cl),t},Si.prototype.findVisibleNode=function(){for(var t=this;null!==t&&!t.isVisible();)t=t.containingGroup;return t},Si.prototype.isVisible=function(){if(!qt.prototype.isVisible.call(this))return!1;var t=!0,e=gs,i=this.diagram;if(null!==i){if(i.animationManager.cu(this))return!0;t=i.isTreePathToChildren,e=i.treeCollapsePolicy}if(e===gs){if(null!==(t=this.Fg())&&!t.isTreeExpanded)return!1}else if(e===Xu){if(0<(t=t?this.Tv():this.Uv()).count&&t.all(function(n){return!n.isTreeExpanded}))return!1}else if(e===xf&&0<(t=t?this.Tv():this.Uv()).count&&t.any(function(n){return!n.isTreeExpanded}))return!1;return null===(t=this.labeledLink)||t.isVisible()},Si.prototype.Ob=function(t){qt.prototype.Ob.call(this,t);for(var e=this.linksConnected;e.next();){var i=e.value;if(t&&null!==this.containingGroup){var n=i.Kq(this);null===n||n.Kd(this.containingGroup)||i.Ua()}i.Ob(t)}},Si.prototype.py=function(){var t=new Pt,e=new Pt;return Qn(this,this,t,e),e.iterator},Si.prototype.findLinksConnected=function(t){if(void 0===t&&(t=null),null===t)return this.$a.iterator;var e=new Kt(this.$a),i=this;return e.predicate=function(n){return n.fromNode===i&&n.fromPortId===t||n.toNode===i&&n.toPortId===t},e},(Q=Si.prototype).Fq=function(t){void 0===t&&(t=null);var e=new Kt(this.$a),i=this;return e.predicate=function(n){return n.fromNode===i&&(null===t||n.fromPortId===t)},e},Q.Hd=function(t){void 0===t&&(t=null);var e=new Kt(this.$a),i=this;return e.predicate=function(n){return n.toNode===i&&(null===t||n.toPortId===t)},e},Q.Sv=function(t){void 0===t&&(t=null);for(var e=null,i=null,n=this.$a.iterator;n.next();){var r=n.value;r.fromNode===this?(null===t||r.fromPortId===t)&&(r=r.toNode,null!==e?e.add(r):null!==i&&i!==r?((e=new Pt).add(i),e.add(r)):i=r):r.toNode!==this||null!==t&&r.toPortId!==t||(r=r.fromNode,null!==e?e.add(r):null!==i&&i!==r?((e=new Pt).add(i),e.add(r)):i=r)}return null!==e?e.iterator:null!==i?new Nt(i):Gt},Q.Uv=function(t){void 0===t&&(t=null);for(var e=null,i=null,n=this.$a.iterator;n.next();){var r=n.value;r.fromNode!==this||null!==t&&r.fromPortId!==t||(r=r.toNode,null!==e?e.add(r):null!==i&&i!==r?((e=new Pt).add(i),e.add(r)):i=r)}return null!==e?e.iterator:null!==i?new Nt(i):Gt},Q.Tv=function(t){void 0===t&&(t=null);for(var e=null,i=null,n=this.$a.iterator;n.next();){var r=n.value;r.toNode!==this||null!==t&&r.toPortId!==t||(r=r.fromNode,null!==e?e.add(r):null!==i&&i!==r?((e=new Pt).add(i),e.add(r)):i=r)}return null!==e?e.iterator:null!==i?new Nt(i):Gt},Q.Xz=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null);var n=new Kt(this.$a),r=this;return n.predicate=function(l){return!((l.fromNode!==r||l.toNode!==t||null!==e&&l.fromPortId!==e||null!==i&&l.toPortId!==i)&&(l.fromNode!==t||l.toNode!==r||null!==i&&l.fromPortId!==i||null!==e&&l.toPortId!==e))},n},Q.Yz=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null);var n=new Kt(this.$a),r=this;return n.predicate=function(l){return!(l.fromNode!==r||l.toNode!==t||null!==e&&l.fromPortId!==e||null!==i&&l.toPortId!==i)},n},Si.prototype.updateRelationshipsFromData=function(){var t=this.diagram;null!==t&&t.partManager.updateRelationshipsFromData(this)},(Q=Si.prototype).Mq=function(t){qt.prototype.Mq.call(this,t),t||(go(this),null!==(t=this.Kl)&&Ur(t,this))},Q.Nq=function(t){qt.prototype.Nq.call(this,t),t||null!==(t=this.Kl)&&null!==t.nd&&(t.nd.remove(this),t.s())},Q.uk=function(){if(0<this.$a.count){var t=this.diagram;if(null!==t)for(var e=null===t.commandHandler||t.commandHandler.deletesConnectedLinks,i=this.$a.copy().iterator;i.next();){var n=i.value;e?t.remove(n):(n.fromNode===this&&(n.fromNode=null),n.toNode===this&&(n.toNode=null))}}this.labeledLink=null,qt.prototype.uk.call(this)},Q.Jt=function(t){if(null===this.tc){if(""===t&&!1===this.Nh)return this;yo(this)}var e=this.tc.G(t);return null!==e||""!==t&&null!==(e=this.tc.G(""))?e:this},Q.zA=function(t){if(null===t||t===this)return!1;var e=!0,i=this.diagram;if(null!==i&&(e=i.isTreePathToChildren),i=this,e)for(;i!==t;){e=null;for(var n=i.$a.iterator;n.next();){var r=n.value;if(r.isTreeLink&&(e=r.fromNode)!==i&&e!==this)break}if(e===this||null===e||e===i)return!1;i=e}else for(;i!==t;){for(e=null,n=i.$a.iterator;n.next()&&(!(r=n.value).isTreeLink||(e=r.toNode)===i||e===this););if(e===this||null===e||e===i)return!1;i=e}return!0},Q.iA=function(){var t=!0,e=this.diagram;if(null!==e&&(t=e.isTreePathToChildren),e=this,t)for(;;){t=null;for(var i=e.$a.iterator;i.next();){var n=i.value;if(n.isTreeLink&&(t=n.fromNode)!==e&&t!==this)break}if(t===this)return this;if(null===t||t===e)return e;e=t}else for(;;){for(t=null,i=e.$a.iterator;i.next()&&(!(n=i.value).isTreeLink||(t=n.toNode)===e||t===this););if(t===this)return this;if(null===t||t===e)return e;e=t}},Q.Uz=function(t){if(null===t)return null;if(this===t)return this;for(var e=this;null!==e;)mn(e,!0),e=e.Fg();var i=null;for(e=t;null!==e;){if(0!=(1048576&e.D)){i=e;break}e=e.Fg()}for(e=this;null!==e;)mn(e,!1),e=e.Fg();return i},Q.jj=function(){var t=!0,e=this.diagram;if(null!==e&&(t=e.isTreePathToChildren),e=this.$a.iterator,t){for(;e.next();)if((t=e.value).isTreeLink&&t.fromNode!==this)return t}else for(;e.next();)if((t=e.value).isTreeLink&&t.toNode!==this)return t;return null},Q.Fg=function(){var t=this.Eh;if(null===t)return null;if(t instanceof Si)return t;var e=!0;if(null!==(t=this.diagram)&&(e=t.isTreePathToChildren),t=this.$a.iterator,e){for(;t.next();)if((e=t.value).isTreeLink&&(e=e.fromNode)!==this)return this.Eh=e}else for(;t.next();)if((e=t.value).isTreeLink&&(e=e.toNode)!==this)return this.Eh=e;return this.Eh=null},Q.gA=function(){var e=new Pt;return function t(i,n){if(null!==i){n.add(i);var r=i.jj();null!==r&&(n.add(r),t(i.Fg(),n))}}(this,e),e},Q.fA=function(){return Kr(this,this)},Q.Hq=function(){var t=!0,e=this.diagram;null!==e&&(t=e.isTreePathToChildren),e=new Kt(this.$a);var i=this;return e.predicate=t?function(n){return!(!n.isTreeLink||n.fromNode!==i)}:function(n){return!(!n.isTreeLink||n.toNode!==i)},e},Q.Wv=function(){var t=!0,e=this.diagram;null!==e&&(t=e.isTreePathToChildren);var i=e=null,n=this.$a.iterator;if(t)for(;n.next();)(t=n.value).isTreeLink&&t.fromNode===this&&(t=t.toNode,null!==e?e.add(t):null!==i&&i!==t?((e=new zt).add(i),e.add(t)):i=t);else for(;n.next();)(t=n.value).isTreeLink&&t.toNode===this&&(t=t.fromNode,null!==e?e.add(t):null!==i&&i!==t?((e=new zt).add(i),e.add(t)):i=t);return null!==e?e.iterator:null!==i?new Nt(i):Gt},Q.hA=function(t){void 0===t&&(t=1/0);var e=new Pt;return Nn(e,this,!1,t,!0),e},Si.prototype.collapseTree=function(t){void 0===t&&(t=1),1>t&&(t=1);var e=this.diagram;if(null!==e&&!e.Le){e.Le=!0;var i=new Pt;i.add(this),oo(this,i,e.isTreePathToChildren,t,e,this,e.treeCollapsePolicy===gs),e.Le=!1}},Si.prototype.expandTree=function(t){void 0===t&&(t=2),2>t&&(t=2);var e=this.diagram;if(null!==e&&!e.Le){e.Le=!0;var i=new Pt;i.add(this),co(this,i,e.isTreePathToChildren,t,e,this,e.treeCollapsePolicy===gs),e.Le=!1}},H.Object.defineProperties(Si.prototype,{portSpreading:{get:function(){return this.zp},set:function(t){var e=this.zp;e!==t&&(this.zp=t,this.g("portSpreading",e,t),null!==(t=this.diagram)&&t.undoManager.isUndoingRedoing||this.sd())}},avoidable:{get:function(){return 0!=(8&this.P)},set:function(t){var e=0!=(8&this.P);if(e!==t){this.P^=8;var i=this.diagram;null!==i&&Rc(i,this),this.g("avoidable",e,t)}}},avoidableMargin:{get:function(){return this.cl},set:function(t){"number"==typeof t&&(t=new Je(t));var e=this.cl;if(!e.w(t)){this.cl=t=t.H();var i=this.diagram;null!==i&&Rc(i,this),this.g("avoidableMargin",e,t)}}},linksConnected:{get:function(){return this.$a.iterator}},linkConnected:{get:function(){return this.Jo},set:function(t){var e=this.Jo;e!==t&&(this.Jo=t,this.g("linkConnected",e,t))}},linkDisconnected:{get:function(){return this.Ko},set:function(t){var e=this.Ko;e!==t&&(this.Ko=t,this.g("linkDisconnected",e,t))}},linkValidation:{get:function(){return this.Ii},set:function(t){var e=this.Ii;e!==t&&(this.Ii=t,this.g("linkValidation",e,t))}},isLinkLabel:{get:function(){return null!==this.Kl}},labeledLink:{get:function(){return this.Kl},set:function(t){var e=this.Kl;if(e!==t){var i=this.diagram,n=this.data;if(null!==e){if(null!==e.nd&&(e.nd.remove(this),e.s()),null!==i&&null!==n&&!i.undoManager.isUndoingRedoing){var r=e.data,l=i.model;if(null!==r&&l.qj()){var v=l.ja(n);void 0!==v&&l.Oy(r,v)}}this.containingGroup=null}this.Kl=t,null!==t&&(Ur(t,this),null===i||null===n||i.undoManager.isUndoingRedoing||(i=i.model,null!==(r=t.data)&&i.qj()&&void 0!==(n=i.ja(n))&&i.Dv(r,n)),this.containingGroup=t.containingGroup),dc(this),this.g("labeledLink",e,t)}}},port:{get:function(){return this.Jt("")}},ports:{get:function(){return null===this.tc&&yo(this),this.tc.iteratorValues}},isTreeExpanded:{get:function(){return 0!=(1&this.P)},set:function(t){var e=0!=(1&this.P);if(e!==t){this.P^=1;var i=this.diagram;if(this.g("isTreeExpanded",e,t),null!==(e=this.treeExpandedChanged)){var n=!0;null!==i&&(n=i.Z,i.Z=!0),e(this),null!==i&&(i.Z=n)}null!==i&&i.undoManager.isUndoingRedoing?this.Ob(t):t?this.expandTree():this.collapseTree()}}},wasTreeExpanded:{get:function(){return 0!=(2&this.P)},set:function(t){var e=0!=(2&this.P);e!==t&&(this.P^=2,this.g("wasTreeExpanded",e,t))}},treeExpandedChanged:{get:function(){return this.nq},set:function(t){var e=this.nq;e!==t&&(this.nq=t,this.g("treeExpandedChanged",e,t))}},isTreeLeaf:{get:function(){return 0!=(4&this.P)},set:function(t){var e=0!=(4&this.P);e!==t&&(this.P^=4,this.g("isTreeLeaf",e,t))}}}),Si.prototype.expandTree=Si.prototype.expandTree,Si.prototype.collapseTree=Si.prototype.collapseTree,Si.prototype.findTreeParts=Si.prototype.hA,Si.prototype.findTreeChildrenNodes=Si.prototype.Wv,Si.prototype.findTreeChildrenLinks=Si.prototype.Hq,Si.prototype.findTreeLevel=Si.prototype.fA,Si.prototype.findTreeParentChain=Si.prototype.gA,Si.prototype.findTreeParentNode=Si.prototype.Fg,Si.prototype.findTreeParentLink=Si.prototype.jj,Si.prototype.findCommonTreeParent=Si.prototype.Uz,Si.prototype.findTreeRoot=Si.prototype.iA,Si.prototype.isInTreeOf=Si.prototype.zA,Si.prototype.findPort=Si.prototype.Jt,Si.prototype.findLinksTo=Si.prototype.Yz,Si.prototype.findLinksBetween=Si.prototype.Xz,Si.prototype.findNodesInto=Si.prototype.Tv,Si.prototype.findNodesOutOf=Si.prototype.Uv,Si.prototype.findNodesConnected=Si.prototype.Sv,Si.prototype.findLinksInto=Si.prototype.Hd,Si.prototype.findLinksOutOf=Si.prototype.Fq,Si.prototype.findExternalTreeLinksConnected=Si.prototype.py,Si.prototype.invalidateConnectedLinks=Si.prototype.sd,Si.prototype.invalidateLinkBundle=Si.prototype.xA;var vs=new St(Si,"SpreadingNone",10),Ko=new St(Si,"SpreadingEvenly",11),Fo=new St(Si,"SpreadingPacked",12);function Qi(t){Si.call(this,t),this.P|=4608,this.Vo=new Pt,this.Sl=new Pt,this.Sa=this.eq=this.Ki=this.Wo=this.Uo=this.Za=null,this.kc=new Rr,this.kc.group=this}function mi(t,e){if(t.Vo.add(e)){e instanceof Qi&&t.Sl.add(e);var i=t.memberAdded;if(null!==i){var n=!0,r=t.diagram;null!==r&&(n=r.Z,r.Z=!0),i(t,e),null!==r&&(r.Z=n)}t.isVisible()&&t.isSubGraphExpanded||e.Ob(!1)}e instanceof Bi&&!t.computesBoundsIncludingLinks||(null===(e=t.Sa)&&(e=t),e.s())}function En(t,e){if(t.Vo.remove(e)){e instanceof Qi&&t.Sl.remove(e);var i=t.memberRemoved;if(null!==i){var n=!0,r=t.diagram;null!==r&&(n=r.Z,r.Z=!0),i(t,e),null!==r&&(r.Z=n)}t.isVisible()&&t.isSubGraphExpanded||e.Ob(!0)}e instanceof Bi&&!t.computesBoundsIncludingLinks||(null===(e=t.Sa)&&(e=t),e.s())}function tr(t,e,i,n){for(var r=t.memberParts;r.next();){var l=r.value;if(l.Ob(!1),l instanceof Qi&&l.isSubGraphExpanded&&(l.wasSubGraphExpanded=l.isSubGraphExpanded,tr(l,e,i,n)),l instanceof Si)l.sd(e),i.jk(l,n);else if(l instanceof Bi)for(l=l.labelNodes;l.next();)l.value.sd(e)}t.isSubGraphExpanded=!1}function $n(t,e,i,n){for(var r=t.memberParts;r.next();){var l=r.value;if(l.Ob(!0),l instanceof Qi&&l.wasSubGraphExpanded&&(l.wasSubGraphExpanded=!1,$n(l,e,i,n)),l instanceof Si)l.sd(e),i.lk(l,n);else if(l instanceof Bi)for(l=l.labelNodes;l.next();)l.value.sd(e)}t.isSubGraphExpanded=!0}function Rn(){jn.call(this),this.ib=nr,this.Np=new he(NaN,NaN,NaN,NaN)}function Bi(){qt.call(this,Xi.Link),this.Ga=8,this.We=null,this.Xe="",this.rf=this.fo=null,this.sf="",this.mq=null,this.Yk=Fs,this.Hn=0,this.Jn=Fs,this.Kn=NaN,this.ck=Hl,this.Zp=.5,this.nd=null,this.Ab=(new zt).freeze(),this.jf=this.ph=null,this.Yl=new he,this.na=new hr,this.I=this.u=this.Mf=this.Vf=null,this.l=[],this.vv=new ht,this.$r=this.Nx=this.Mx=null,this.Ru=NaN,this.O=null}function er(t){var n,e=t.fromNode,i=t.toNode;if(n=null!==e?null!==i?e.oy(i):e.containingGroup:null!==i?i.containingGroup:null,(i=t.mi)!==(e=n)){null!==i&&En(i,t),t.mi=e,null!==e&&mi(e,t);var r=t.containingGroupChanged;if(null!==r){var l=!0,v=t.diagram;null!==v&&(l=v.Z,v.Z=!0),r(t,i,e),null!==v&&(v.Z=l)}!t.ud||t.Mx!==i&&t.Nx!==i||t.Ua()}if(t.isLabeledLink)for(t=t.labelNodes;t.next();)t.value.containingGroup=n}function Ur(t,e){null===t.nd&&(t.nd=new Pt),t.nd.add(e),t.s()}function Do(t,e,i){if(0!==e||0!==i)if(0===t.pointsCount)t.defaultFromPoint&&t.defaultFromPoint.copy().offset(e,i),t.defaultToPoint&&t.defaultToPoint.copy().offset(e,i);else{for(var n=t.ud,r=new zt,l=t.Ab.iterator;l.next();){var v=l.value;r.add(new ht(v.x+e,v.y+i).freeze())}r.freeze(),l=t.Ab,t.Ab=r,v=t.diagram,isNaN(e)||isNaN(i)||null!==v&&v.animationManager.sc?t.s():(t.dg.h(t.dg.x+e,t.dg.y+i),t.la.h(t.la.x+e,t.la.y+i),dc(t)),n?ys(t):(t.defaultFromPoint&&(t.defaultFromPoint=t.i(0)),t.defaultToPoint&&(t.defaultToPoint=t.i(t.pointsCount-1))),null!==v&&v.animationManager.sc&&(e=v.animationManager,t.jf=r,e.$l.add(t)),t.g("points",l,r)}}function ys(t){0===t.Ab.count?t.ud=!1:(t.ud=!0,t.$r=null,t.Ru=NaN,t.defaultFromPoint=t.i(0),t.defaultToPoint=t.i(t.pointsCount-1),Of(t,!1))}function Oo(t,e){return Math.abs(e.x-t.x)>Math.abs(e.y-t.y)?(e.x=e.x>=t.x?t.x+9e9:t.x-9e9,e.y=t.y):(e.y=e.y>=t.y?t.y+9e9:t.y-9e9,e.x=t.x),e}function ss(t,e){var i=e.yp;return null===i&&((i=new m0).port=e,i.node=e.part,e.yp=i),ey(i,t)}function vo(t){return t===xr||.5===t.x&&.5===t.y}function fo(t){return.5===t.x&&.5===t.y?t:ar}function $s(t){if(null===t.diagram||!t.isAvoiding||!vf(t.diagram))return!1;var e=t.points.j,i=e.length;if(4>i)return!1;t=Vh(t.diagram,!0,t.containingGroup,null);for(var n=1;n<i-2;n++){var r=e[n],l=e[n+1];if(!t.Ek(Math.min(r.x,l.x),Math.min(r.y,l.y),Math.abs(r.x-l.x),Math.abs(r.y-l.y)))return!0}return!1}function $a(t,e,i,n,r,l,v){var _=e.zq,D=e.yq,O=$h(e,i,n),V=i,$=n;for(0===r?V+=_:90===r?$+=D:180===r?V-=_:$-=D,r!==v&&O>dp&&$h(e,V,$)!==O-1&&($h(e,i-_,n)===O-1?(r=180,V=i-_,$=n):$h(e,i+_,n)===O-1?(r=0,V=i+_,$=n):$h(e,i,n-D)===O-1?(r=270,V=i,$=n-D):$h(e,i,n+D)===O-1&&(r=90,V=i,$=n+D));O>dp&&$h(e,V,$)===O-1;)i=V,n=$,0===r?V+=_:90===r?$+=D:180===r?V-=_:$-=D,--O;l?O>dp&&(180===r||0===r?i=Math.floor(i/_)*_+_/2:(90===r||270===r)&&(n=Math.floor(n/D)*D+D/2)):(i=Math.floor(i/_)*_+_/2,n=Math.floor(n/D)*D+D/2),O>dp&&(l=r,v=i,V=n,0===r?(l=90,V+=D):90===r?(l=180,v-=_):180===r?(l=270,V-=D):270===r&&(l=0,v+=_),$h(e,v,V)===O-1?$a(t,e,v,V,l,!1,l):(v=i,V=n,0===r?(l=270,V-=D):90===r?(l=0,v+=_):180===r?(l=90,V+=D):270===r&&(l=180,v-=_),$h(e,v,V)===O-1&&$a(t,e,v,V,l,!1,l))),t.vf(i,n)}function Mu(t,e,i,n){return t=i-t,isNaN(t)||t===1/0||t===-1/0?NaN:(0>t&&(t=-t),e=n-e,isNaN(e)||e===1/0||e===-1/0?NaN:(0>e&&(e=-e),ti.aa(t,0)?e:ti.aa(e,0)?t:Math.sqrt(t*t+e*e)))}function Ul(t,e,i,n){var r=t.pointsCount;if(2>r)return e;if(i){var l=t.i(1);if(0===(n=Mu(e.x,e.y,i=l.x-n.x,l=l.y-n.y)))return e;r=2===r?.5*n:n,(t=t.computeShortLength(!0))>r&&(t=r),r=t*(l-e.y)/n,e.x+=t*(i-e.x)/n,e.y+=r}else{if(l=t.i(r-2),0===(n=Mu(e.x,e.y,i=l.x-n.x,l=l.y-n.y)))return e;r=2===r?.5*n:n,(t=t.computeShortLength(!1))>r&&(t=r),r=t*(e.y-l)/n,e.x-=t*(e.x-i)/n,e.y-=r}return e}function Xa(t,e,i,n){for(var r=t.pointsCount,l=e;ti.aa(e.x,l.x)&&ti.aa(e.y,l.y);){if(i>=r)return r-1;l=t.i(i++)}if(!ti.aa(e.x,l.x)&&!ti.aa(e.y,l.y))return i-1;for(var v=l;ti.aa(e.x,l.x)&&ti.aa(l.x,v.x)&&(!n||(e.y>=l.y?l.y>=v.y:l.y<=v.y))||ti.aa(e.y,l.y)&&ti.aa(l.y,v.y)&&(!n||(e.x>=l.x?l.x>=v.x:l.x<=v.x));){if(i>=r)return r-1;v=t.i(i++)}return i-2}function Ml(t,e,i,n,r,l,v){if(!v&&su(t)){var _=(v=t.computeJumpLength())/2,D=[],O=0;if(t.isVisible()&&(O=function(t,e,i,n){var r=t.diagram;if(null===r||e.w(i))return 0;for(r=r.layers;r.next();){var l=r.value;if(null!==l&&l.visible)for(var v=(l=l.Fa.j).length,_=0;_<v;_++){var D=l[_];if(D instanceof Bi){if(D===t)return 0<n.length&&n.sort(function(V,$){return V-$}),n.length;if(D.isVisible()&&su(D)){var O=D.routeBounds;O.o()&&t.routeBounds.Mc(O)&&!t.usesSamePort(D)&&null!==(O=D.path)&&O.Gf()&&xc(e,i,n,D)}}}}return 0<n.length&&n.sort(function(V,$){return V-$}),n.length}(t,r,l,D)),0<O)if(ti.A(r.y,l.y))if(r.x<l.x)for(var V=0;V<O;){var $=Math.max(r.x,Math.min(D[V++]-_,l.x-v));e.lineTo($+i,l.y+n);for(var vt=$+i,kt=Math.min($+v,l.x);V<O&&($=D[V])<kt+v;)V++,kt=Math.min($+_,l.x);$=l.y-v+n,kt+=i;var bt=l.y+n;t.curve===au?dt(e,kt,bt,!1):pt(e,vt,$,kt,$,kt,bt)}else for(--O;0<=O;){for(V=Math.min(r.x,Math.max(D[O--]+_,l.x+v)),e.lineTo(V+i,l.y+n),vt=V+i,$=Math.max(V-v,l.x);0<=O&&(V=D[O])>$-v;)O--,$=Math.max(V-_,l.x);V=l.y-v+n,$+=i,kt=l.y+n,t.curve===au?dt(e,$,kt,!1):pt(e,vt,V,$,V,$,kt)}else if(ti.A(r.x,l.x))if(r.y<l.y)for(V=0;V<O;){for($=Math.max(r.y,Math.min(D[V++]-_,l.y-v)),e.lineTo(l.x+i,$+n),vt=$+n,$=Math.min($+v,l.y);V<O&&(kt=D[V])<$+v;)V++,$=Math.min(kt+_,l.y);kt=l.x-v+i,bt=l.x+i,$+=n,t.curve===au?dt(e,bt,$,!1):pt(e,kt,vt,kt,$,bt,$)}else for(--O;0<=O;){for(V=Math.min(r.y,Math.max(D[O--]+_,l.y+v)),e.lineTo(l.x+i,V+n),vt=V+n,V=Math.max(V-v,l.y);0<=O&&($=D[O])>V-v;)O--,V=Math.max($-_,l.y);$=l.x-v+i,kt=l.x+i,V+=n,t.curve===au?dt(e,kt,V,!1):pt(e,$,vt,$,V,kt,V)}}e.lineTo(l.x+i,l.y+n)}function xc(t,e,i,n){for(var r=ti.A(t.y,e.y),l=n.pointsCount,v=n.i(0),_=ht.alloc(),D=1;D<l;D++){var O=n.i(D);if(D<l-1){var V=n.i(D+1);if(v.y===O.y&&O.y===V.y){if(O.x>v.x&&V.x>=O.x||O.x<v.x&&V.x<=O.x)continue}else if(v.x===O.x&&O.x===V.x&&(O.y>v.y&&V.y>=O.y||O.y<v.y&&V.y<=O.y))continue}t:{var $=t.y,vt=e.x,kt=e.y,bt=v.x;v=v.y;var Wt=O.x,de=O.y;if(ti.A(V=t.x,vt)){if(!ti.A($,kt)&&ti.A(v,de)&&Math.min($,kt)<v&&Math.max($,kt)>v&&Math.min(bt,Wt)<V&&Math.max(bt,Wt)>V&&!ti.A(bt,Wt)){_.x=V,_.y=v,V=!0;break t}}else if(ti.A($,kt)&&ti.A(bt,Wt)&&Math.min(V,vt)<bt&&Math.max(V,vt)>bt&&Math.min(v,de)<$&&Math.max(v,de)>$&&!ti.A(v,de)){_.x=bt,_.y=$,V=!0;break t}_.x=0,_.y=0,V=!1}V&&i.push(r?_.x:_.y),v=O}ht.free(_)}function su(t){return(t=t.curve)===gd||t===au}function Of(t,e){(e||su(t))&&(null===(e=t.diagram)||e.animationManager.isTicking||e.Vg.contains(t)||0===t.Yl.width&&0===t.Yl.height||e.Vg.add(t,t.Yl.copy()))}function If(t,e,i){if(null!==e&&e.$m&&e.ud&&su(e)){var n=e.routeBounds;n.o()&&(t.routeBounds.Mc(n)||i.Mc(n))&&(t.usesSamePort(e)||e.dc())}}function eh(t){var e=t.We;if(null!==e){var i=t.rf;if(null!==i&&isNaN(t.curviness)){for(var n=t.Xe,r=t.sf,l=t=null,v=e.$a.j,_=v.length,D=0;D<_;D++){var O=v[D];(O.We===e&&O.Xe===n&&O.rf===i&&O.sf===r||O.We===i&&O.Xe===r&&O.rf===e&&O.sf===n)&&(null===l?l=O:(null===t&&(t=[]).push(l),t.push(O)))}if(null!==t){for(null===(l=Wn(e,i,n,r))&&(Zn(e,l=new Su(e,n,i,r)),Zn(i,l)),l.links=t,e=0;e<t.length;e++)t[e].Mf=l;l.Dm()}}}}function Kc(t){var e=t.Mf;null!==e&&isNaN(t.curviness)&&(t.Mf=null,0<=(t=e.links.indexOf(t))&&(A(e.links,t),e.Dm()))}Si.className="Node",Si.SpreadingNone=vs,Si.SpreadingEvenly=Ko,Si.SpreadingPacked=Fo,Z(Qi,Si),Qi.prototype.cloneProtected=function(t){Si.prototype.cloneProtected.call(this,t),this.P=-32769&this.P,null!==this.Za&&(t.Za=this.Za.copy()),t.Uo=this.Uo,t.Wo=this.Wo,t.Ki=this.Ki,t.eq=this.eq;var e=t.ym(function(i){return i instanceof Rn});t.Sa=e instanceof Rn?e:null,null!==this.kc?(t.kc=this.kc.copy(),t.kc.group=t):(null!==t.kc&&(t.kc.group=null),t.kc=null)},(Q=Qi.prototype).yf=function(t){Si.prototype.yf.call(this,t);var e=t.yk();for(t=t.memberParts;t.next();){var i=t.value;if(i.s(),i.C(8),i.nk(),i instanceof Si)i.sd(e);else if(i instanceof Bi)for(i=i.labelNodes;i.next();)i.value.sd(e)}},Q.Sk=function(t,e,i,n,r,l,v){if(t===gn&&"elements"===e){if(r instanceof Rn)null===this.Sa?this.Sa=r:this.Sa!==r&&U("Cannot insert a second Placeholder into the visual tree of a Group.");else if(r instanceof Xi){var _=r.ym(function(D){return D instanceof Rn});_ instanceof Rn&&(null===this.Sa?this.Sa=_:this.Sa!==_&&U("Cannot insert a second Placeholder into the visual tree of a Group."))}}else t===wn&&"elements"===e&&null!==this.Sa&&(n===this.Sa||n instanceof Xi&&this.Sa.Gg(n))&&(this.Sa=null);Si.prototype.Sk.call(this,t,e,i,n,r,l,v)},Q.Im=function(t,e){Si.prototype.Im.call(this,t,e),this.isClipping&&this.type!==Xi.Spot&&((t=this.resizeObject)instanceof Xi&&(t=t.tb()),null===this.Za&&(this.Za=new he),t.mj(this.Za),t instanceof sr&&this.Za.Jc(-t.strokeWidth,-t.strokeWidth))},Q.Ih=function(t,e,i,n){this.cf=this.Sa,Si.prototype.Ih.call(this,t,e,i,n)},Q.Ta=function(){var t=this;t.isSubGraphExpanded&&this.memberParts.each(function(e){!t.computesBoundsIncludingLinks&&e instanceof Bi||e.Ta()}),Si.prototype.Ta.call(this)},Q.rj=function(){if(!Si.prototype.rj.call(this))return!1;for(var t=this.memberParts;t.next();){var e=t.value;if(e instanceof Si){if(e.isVisible()&&Vl(e))return!1}else if(e instanceof Bi&&e.isVisible()&&Vl(e)&&e.fromNode!==this&&e.toNode!==this)return!1}return!0},Q.uk=function(){if(0<this.Vo.count){var t=this.diagram;if(null!==t)for(var e=this.Vo.copy().iterator;e.next();)t.remove(e.value)}Si.prototype.uk.call(this)},Qi.prototype.canAddMembers=function(t){var e=this.diagram;if(null===e)return!1;for(e=e.commandHandler,t=cc(t).iterator;t.next();)if(!e.isValidMember(this,t.value))return!1;return!0},Qi.prototype.addMembers=function(t,e){var i=this.diagram;if(null===i)return!1;i=i.commandHandler;var n=!0;for(t=cc(t).iterator;t.next();){var r=t.value;!e||i.isValidMember(this,r)?r.containingGroup=this:n=!1}return n},Qi.prototype.canUngroup=function(){if(!this.ungroupable)return!1;var t=this.layer;return!(null!==t&&!t.allowUngroup||null!==(t=t.diagram)&&!t.allowUngroup)},(Q=Qi.prototype).sd=function(t){void 0===t&&(t=null);var e=0!=(65536&this.P);if(Si.prototype.sd.call(this,t),!e)for(0==(65536&this.P)&&(this.P=65536^this.P),e=this.Rv();e.next();){var i=e.value;if(null===t||!t.contains(i)){var n=i.fromNode;(null!==n&&n!==this&&n.Kd(this)&&!n.isVisible()||null!==(n=i.toNode)&&n!==this&&n.Kd(this)&&!n.isVisible())&&(kn(i.fromPort),kn(i.toPort),i.Ua())}}},Q.Rv=function(){var t=this.yk();t.add(this);for(var e=new Pt,i=t.iterator;i.next();){var n=i.value;if(n instanceof Si)for(n=n.linksConnected;n.next();){var r=n.value;t.contains(r)||e.add(r)}}return e.iterator},Q.Wz=function(){var t=this.yk();t.add(this);for(var e=new Pt,i=t.iterator;i.next();){var n=i.value;if(n instanceof Si)for(n=n.linksConnected;n.next();){var r=n.value,l=r.fromNode;null===l||t.contains(l)&&l!==this||e.add(l),null===(r=r.toNode)||t.contains(r)&&r!==this||e.add(r)}}return e.iterator},Q.Vz=function(){var e=new Pt;return function t(i,n){null!==i&&(n.add(i),t(i.containingGroup,n))}(this,e),e},Q.yk=function(){var t=new Pt;return Nn(t,this,!0,0,!0),t.remove(this),t},Q.Ob=function(t){Si.prototype.Ob.call(this,t);for(var e=this.memberParts;e.next();)e.value.Ob(t)},Qi.prototype.collapseSubGraph=function(){var t=this.diagram;null===t||t.Le||(t.Le=!0,tr(this,this.yk(),t,this),t.Le=!1)},Qi.prototype.expandSubGraph=function(){var t=this.diagram;null===t||t.Le||(t.Le=!0,$n(this,this.yk(),t,this),t.Le=!1)},Qi.prototype.move=function(t,e){void 0===e&&(e=!1);var i=e?this.location:this.position,n=i.x;i=i.y;var r=t.x,l=t.y;if(!(n===r||isNaN(n)&&isNaN(r))||!(i===l||isNaN(i)&&isNaN(l))){for(n=r-(isNaN(n)?0:n),i=l-(isNaN(i)?0:i),l=ht.alloc(),Si.prototype.move.call(this,t,e),t=new Pt,e=this.yk().iterator;e.next();)(r=e.value)instanceof Bi&&(r.suspendsRouting&&t.add(r),r.ud||r.fromNode!==this&&r.toNode!==this)&&(r.suspendsRouting=!0);for(e.reset();e.next();)if(!((r=e.value).Ph()||r instanceof Si&&r.isLinkLabel)){var v=r.position,_=r.location;v.o()?(l.x=v.x+n,l.y=v.y+i,r.position=l):_.o()&&(l.x=_.x+n,l.y=_.y+i,r.location=l)}for(e.reset();e.next();)(r=e.value)instanceof Bi&&(r.suspendsRouting=t.contains(r),r.ud||r.fromNode!==this&&r.toNode!==this)&&(l.x=(v=r.position).x+n,l.y=v.y+i,l.o()?r.move(l):r.Ua(),$s(r)&&r.Ua());ht.free(l)}},H.Object.defineProperties(Qi.prototype,{placeholder:{get:function(){return this.Sa}},computesBoundsAfterDrag:{get:function(){return 0!=(2048&this.P)},set:function(t){var e=0!=(2048&this.P);e!==t&&(this.P^=2048,this.g("computesBoundsAfterDrag",e,t))}},computesBoundsIncludingLinks:{get:function(){return 0!=(4096&this.P)},set:function(t){var e=0!=(4096&this.P);e!==t&&(this.P^=4096,this.g("computesBoundsIncludingLinks",e,t))}},computesBoundsIncludingLocation:{get:function(){return 0!=(8192&this.P)},set:function(t){var e=0!=(8192&this.P);e!==t&&(this.P^=8192,this.g("computesBoundsIncludingLocation",e,t))}},handlesDragDropForMembers:{get:function(){return 0!=(16384&this.P)},set:function(t){var e=0!=(16384&this.P);e!==t&&(this.P^=16384,this.g("handlesDragDropForMembers",e,t))}},memberParts:{get:function(){return this.Vo.iterator}},layout:{get:function(){return this.kc},set:function(t){var e=this.kc;if(e!==t){null!==e&&(e.diagram=null,e.group=null),this.kc=t;var i=this.diagram;null!==t&&(t.diagram=i,t.group=this),null!==i&&(i.Ng=!0),this.g("layout",e,t),null!==i&&i.Db()}}},memberAdded:{get:function(){return this.Uo},set:function(t){var e=this.Uo;e!==t&&(this.Uo=t,this.g("memberAdded",e,t))}},memberRemoved:{get:function(){return this.Wo},set:function(t){var e=this.Wo;e!==t&&(this.Wo=t,this.g("memberRemoved",e,t))}},memberValidation:{get:function(){return this.Ki},set:function(t){var e=this.Ki;e!==t&&(this.Ki=t,this.g("memberValidation",e,t))}},ungroupable:{get:function(){return 0!=(256&this.P)},set:function(t){var e=0!=(256&this.P);e!==t&&(this.P^=256,this.g("ungroupable",e,t))}},isSubGraphExpanded:{get:function(){return 0!=(512&this.P)},set:function(t){var e=0!=(512&this.P);if(e!==t){this.P^=512;var i=this.diagram;if(this.g("isSubGraphExpanded",e,t),null!==(e=this.subGraphExpandedChanged)){var n=!0;null!==i&&(n=i.Z,i.Z=!0),e(this),null!==i&&(i.Z=n)}null!==i&&i.undoManager.isUndoingRedoing?(null!==this.Sa&&this.Sa.s(),this.memberParts.each(function(r){r.updateAdornments()})):t?this.expandSubGraph():this.collapseSubGraph()}}},wasSubGraphExpanded:{get:function(){return 0!=(1024&this.P)},set:function(t){var e=0!=(1024&this.P);e!==t&&(this.P^=1024,this.g("wasSubGraphExpanded",e,t))}},subGraphExpandedChanged:{get:function(){return this.eq},set:function(t){var e=this.eq;e!==t&&(this.eq=t,this.g("subGraphExpandedChanged",e,t))}},Rh:{get:function(){return 0!=(32768&this.P)},set:function(t){0!=(32768&this.P)!==t&&(this.P^=32768)}}}),Qi.prototype.expandSubGraph=Qi.prototype.expandSubGraph,Qi.prototype.collapseSubGraph=Qi.prototype.collapseSubGraph,Qi.prototype.findSubGraphParts=Qi.prototype.yk,Qi.prototype.findContainingGroupChain=Qi.prototype.Vz,Qi.prototype.findExternalNodesConnected=Qi.prototype.Wz,Qi.prototype.findExternalLinksConnected=Qi.prototype.Rv,Qi.prototype.ensureBounds=Qi.prototype.Ta,Qi.className="Group",Z(Rn,jn),Rn.prototype.cloneProtected=function(t){jn.prototype.cloneProtected.call(this,t),t.ib=this.ib.H(),t.Np=this.Np.copy()},Rn.prototype.Kh=function(t){if(null===this.background&&null===this.areaBackground)return!1;var e=this.naturalBounds;return Kn(0,0,e.width,e.height,t.x,t.y)},Rn.prototype.Hm=function(){var t=this.part;if(null!==t&&(t instanceof Qi||t instanceof Ji)||U("Placeholder is not inside a Group or Adornment."),t instanceof Qi){var e=this.computeBorder(this.Np),i=this.minSize,n=this.rc;for($e(n,(isFinite(i.width)?Math.max(i.width,e.width):e.width)||0,(isFinite(i.height)?Math.max(i.height,e.height):e.height)||0),nl(this,0,0,n.width,n.height),n=t.memberParts,i=!1;n.next();)if(n.value.isVisible()){i=!0;break}n=t.diagram,!i||null===n||n.animationManager.ew(t)||isNaN(e.x)||isNaN(e.y)||((i=ht.alloc()).tj(e,t.locationSpot),i.w(t.location)||(t.location=new ht(i.x,i.y)),ht.free(i))}else{e=this.rc,n=(i=this.ib).left+i.right;var r=i.top+i.bottom,l=t.adornedObject;t.angle=l.lj();var v=0;l instanceof sr&&(v=l.strokeWidth);var _=l.Af(),D=l.naturalBounds,O=(D.width+v)*_;v=(D.height+v)*_,t.type!==Xi.Link&&(l=l.da("Selection"===t.category?Hr:t.locationSpot,ht.alloc()),t.location=l,ht.free(l)),isNaN(O)||isNaN(v)?(O=(t=t.adornedObject).da(Hr,ht.alloc()),(l=he.allocAt(O.x,O.y,0,0)).Oe(t.da(Zo,O)),l.Oe(t.da(Vr,O)),l.Oe(t.da(qs,O)),$e(e,l.width+n||0,l.height+r||0),nl(this,-i.left,-i.top,e.width,e.height),ht.free(O),he.free(l)):($e(e,O+n||0,v+r||0),nl(this,-i.left,-i.top,e.width,e.height))}},Rn.prototype.Ih=function(t,e,i,n){this.actualBounds.h(t,e,i,n)},Rn.prototype.computeBorder=function(t){var e=this.part,i=e.diagram;if(null!==i&&e instanceof Qi&&!e.layer.isTemporary&&e.computesBoundsAfterDrag&&this.Np.o()){var n=i.toolManager.findTool("Dragging");if(n===i.currentTool&&null!==(i=n.computeBorder(e,this.Np,t)))return i}i=he.alloc(),n=this.computeMemberBounds(i);var r=this.ib;return e instanceof Qi&&!e.isSubGraphExpanded?t.h(n.x-r.left,n.y-r.top,0,0):t.h(n.x-r.left,n.y-r.top,Math.max(n.width+r.left+r.right,0),Math.max(n.height+r.top+r.bottom,0)),he.free(i),e instanceof Qi&&e.computesBoundsIncludingLocation&&e.location.o()&&t.Oe(e.location),t},Rn.prototype.computeMemberBounds=function(t){if(!(this.part instanceof Qi))return t.h(0,0,0,0),t;for(var e=this.part,i=1/0,n=1/0,r=-1/0,l=-1/0,v=e.memberParts;v.next();){var _=v.value;if(_.isVisible()){if(_ instanceof Bi&&(!e.computesBoundsIncludingLinks||Ps(_)||_.fromNode===e||_.toNode===e))continue;(_=_.actualBounds).left<i&&(i=_.left),_.top<n&&(n=_.top),_.right>r&&(r=_.right),_.bottom>l&&(l=_.bottom)}}return isFinite(i)&&isFinite(n)?t.h(i,n,r-i,l-n):t.h((e=e.location).x,e.y,0,0),t},H.Object.defineProperties(Rn.prototype,{padding:{get:function(){return this.ib},set:function(t){"number"==typeof t&&(t=new Je(t));var e=this.ib;e.w(t)||(this.ib=t=t.H(),this.g("padding",e,t),this.s())}}}),Rn.className="Placeholder",Z(Bi,qt),Bi.prototype.cloneProtected=function(t){qt.prototype.cloneProtected.call(this,t),t.Ga=-113&this.Ga,t.Xe=this.Xe,t.fo=this.fo,t.sf=this.sf,t.mq=this.mq,t.Yk=this.Yk,t.Hn=this.Hn,t.Jn=this.Jn,t.Kn=this.Kn,t.ck=this.ck,t.Zp=this.Zp,null!==this.O&&(t.O=this.O.copy())},(Q=Bi.prototype).yf=function(t){qt.prototype.yf.call(this,t),this.Xe=t.Xe,this.sf=t.sf,t.ph=null,t.Ua(),t.Mf=this.Mf;var e=t.fromPort;null!==e&&kn(e),null!==(t=t.toPort)&&kn(t)},Q.jb=function(t){t.classType===Bi?2==(2&t.value)?this.routing=t:t===cl||t===au||t===gd?this.curve=t:t===up||t===hp||t===u0?this.adjusting=t:t!==Hl&&t!==Fs&&U("Unknown Link enum value for a Link property: "+t):qt.prototype.jb.call(this,t)},Q.Kc=function(){null===this.O&&(this.O=new Vm)},Q.rj=function(){var t=this.fromNode;if(null!==t){var e=t.findVisibleNode();if(null!==e&&(t=e),Vl(t)||Ii(t))return!1}return!(null!==(t=this.toNode)&&(e=t.findVisibleNode(),null!==e&&(t=e),Vl(t)||Ii(t)))},Q.Ew=function(){return!1},Q.lu=function(){},Q.Nc=function(){return!1},Bi.prototype.computeAngle=function(t,e,i){return Bi.computeAngle(e,i)},Bi.computeAngle=function(t,e){switch(t){default:t=0;break;case cp:t=e;break;case Gl:t=e+90;break;case wc:t=e-90;break;case fp:t=e+180;break;case h0:90<(t=ti.Tq(e))&&270>t&&(t-=180);break;case c0:90<(t=ti.Tq(e+90))&&270>t&&(t-=180);break;case Xc:90<(t=ti.Tq(e-90))&&270>t&&(t-=180);break;case lu:if(45<(t=ti.Tq(e))&&135>t||225<t&&315>t)return 0;90<t&&270>t&&(t-=180)}return ti.Tq(t)},(Q=Bi.prototype).Oh=function(){var t=this.containingGroup;null!==t&&this.fromNode!==t&&this.toNode!==t&&t.computesBoundsIncludingLinks&&qt.prototype.Oh.call(this)},Q.Kq=function(t){var e=this.fromNode;return t===e?this.toNode:e},Q.nA=function(t){var e=this.fromPort;return t===e?this.toPort:e},Q.Mq=function(t){if(qt.prototype.Mq.call(this,t),su(this)&&this.Oq(this.actualBounds),!t){var e=null;null!==(t=this.We)&&rr(t,this,e=this.fromPort);var i=this.rf;if(null!==i){var n=this.toPort;i===t&&n===e||rr(i,this,n)}eh(this)}},Q.Nq=function(t){if(qt.prototype.Nq.call(this,t),su(this)&&this.Oq(this.actualBounds),!t){var e=null;null!==(t=this.We)&&_r(t,this,e=this.fromPort);var i=this.rf;if(null!==i){var n=this.toPort;i===t&&n===e||_r(i,this,n)}Kc(this)}},Q.uk=function(){if(this.ud=!0,null!==this.nd){var t=this.diagram;if(null!==t)for(var e=this.nd.copy().iterator;e.next();)t.remove(e.value)}null!==this.data&&null!==(t=this.diagram)&&t.partManager.removeDataForLink(this)},Bi.prototype.updateRelationshipsFromData=function(){if(null!==this.data){var t=this.diagram;null!==t&&t.partManager.updateRelationshipsFromData(this)}},Bi.prototype.move=function(t,e){var i=e?this.location:this.position,n=i.x;isNaN(n)&&(n=0);var r=i.y;for(isNaN(r)&&(r=0),n=t.x-n,r=t.y-r,!0===e?qt.prototype.move.call(this,t,!1):(t=ht.allocAt(i.x+n,i.y+r),qt.prototype.move.call(this,t,!1),ht.free(t)),Do(this,n,r),t=this.labelNodes;t.next();)(e=t.value).moveTo((i=e.position).x+n,i.y+r)},Bi.prototype.canRelinkFrom=function(){if(!this.relinkableFrom)return!1;var t=this.layer;return null===t||!!t.allowRelink&&!(null!==(t=t.diagram)&&!t.allowRelink)},Bi.prototype.canRelinkTo=function(){if(!this.relinkableTo)return!1;var t=this.layer;return null===t||!!t.allowRelink&&!(null!==(t=t.diagram)&&!t.allowRelink)},Bi.prototype.computeMidPoint=function(t){var e=this.pointsCount;if(0===e)return t.assign(Vn),t;if(1===e)return t.assign(this.i(0)),t;if(2===e){var i=this.i(0),n=this.i(1);return t.h((i.x+n.x)/2,(i.y+n.y)/2),t}if(this.isOrthogonal&&(15<=this.computeCorner()||this.computeCurve()===cl))return this.na.Xv(.5,t),t.add(this.i(0)),i=this.na.figures.first(),t.offset(-i.startX,-i.startY),t;if(this.computeCurve()===cl){if(3===e)return this.i(1);if(i=3*((n=(e-1)/3|0)/2|0),n%2==1){n=this.i(i);var r=this.i(i+1),l=this.i(i+2);i=this.i(i+3),ti.yz(n.x,n.y,r.x,r.y,l.x,l.y,i.x,i.y,t)}else t.assign(this.i(i));return t}var v=this.flattenedLengths;for(i=this.flattenedTotalLength,r=l=n=0;n<i/2&&l<e&&!(n+(r=v[l])>i/2);)n+=r,l++;return e=this.i(l),l=this.i(l+1),1>Math.abs(e.x-l.x)?t.h(e.x,e.y>l.y?e.y-(i/2-n):e.y+(i/2-n)):1>Math.abs(e.y-l.y)?t.h(e.x>l.x?e.x-(i/2-n):e.x+(i/2-n),e.y):t.h(e.x+(i=(i/2-n)/r)*(l.x-e.x),e.y+i*(l.y-e.y)),t},Bi.prototype.computeMidAngle=function(){var t=this.pointsCount;if(2>t)return NaN;if(2===t)return this.i(0).Pa(this.i(1));if(this.isOrthogonal&&(15<=this.computeCorner()||this.computeCurve()===cl))return this.na.vy(.5);if(this.computeCurve()===cl&&4<=t){var e=(t-1)/3|0,i=3*(e/2|0);if(e%2==1){i=Math.floor(i),t=this.i(i),e=this.i(i+1);var n=this.i(i+2);return i=this.i(i+3),ti.xz(t.x,t.y,e.x,e.y,n.x,n.y,i.x,i.y)}if(0<i&&i+1<t)return this.i(i-1).Pa(this.i(i+1))}e=this.flattenedLengths,n=this.flattenedTotalLength;var l,r=0;for(i=0;r<n/2&&i<t&&!(r+(l=e[i])>n/2);)r+=l,i++;if(e=this.i(i),n=this.i(i+1),1>Math.abs(e.x-n.x)&&1>Math.abs(e.y-n.y)){if(0<i&&i+2<t)return this.i(i-1).Pa(this.i(i+2))}else{if(1>Math.abs(e.x-n.x))return e.y>n.y?270:90;if(1>Math.abs(e.y-n.y))return e.x>n.x?180:0}return e.Pa(n)},(Q=Bi.prototype).i=function(t){return this.Ab.j[t]},Q.Qc=function(t,e){this.Ab.Pc(t,e)},Q.L=function(t,e,i){this.Ab.Pc(t,new ht(e,i))},Q.wA=function(t,e){this.Ab.wb(t,e)},Q.m=function(t,e,i){this.Ab.wb(t,new ht(e,i))},Q.ce=function(t){this.Ab.add(t)},Q.vf=function(t,e){this.Ab.add(new ht(t,e))},Q.uw=function(t){this.Ab.cb(t)},Q.pk=function(){this.Ab.clear()},Q.Th=function(){null===this.ph&&(this.ph=this.Ab,this.Ab=this.Ab.copy())},Q.xf=function(){if(null!==this.ph){for(var t=this.ph,e=this.Ab,i=1/0,n=1/0,r=t.j,l=r.length,v=0;v<l;v++){var _=r[v];i=Math.min(_.x,i),n=Math.min(_.y,n)}_=v=1/0;for(var D=e.j,O=D.length,V=0;V<O;V++){var $=D[V];v=Math.min($.x,v),_=Math.min($.y,_),$.freeze()}if(e.freeze(),O===l){for(l=0;l<O;l++)if((V=r[l]).x-i!=($=D[l]).x-v||V.y-n!=$.y-_){this.dc();break}}else this.dc();this.ph=null,null!==(i=this.diagram)&&i.animationManager.sc&&(i=i.animationManager,this.jf=e,i.$l.add(this)),ys(this),this.g("points",t,e)}},Q.yw=function(){null!==this.ph&&(this.Ab=this.ph,this.ph=null)},Q.Ua=function(){if(!this.suspendsRouting){var t=this.diagram;if(t){if(t.Yt.contains(this)||t.undoManager.isUndoingRedoing||(t=t.animationManager).isTicking&&!t.isAnimating)return;null!==this.jf&&!t.isTicking&&t.isAnimating&&(this.jf=null)}null!==(t=this.path)&&(this.ud=!1,this.s(),t.s())}},Q.xj=function(){if(!this.ud&&!this.Ct){var t=!0;try{this.Ct=!0,this.Th(),t=this.computePoints()}catch(e){this.Ct=!1,this.yw()}finally{this.Ct=!1,t?this.xf():this.yw()}}},Bi.prototype.computePoints=function(){if(null===this.diagram)return!1;var t=this.fromNode,e=null;if(null===t?(ih||((ih=new Si).desiredSize=qe,ih.Ta()),this.defaultFromPoint&&(ih.location=this.defaultFromPoint,ih.Ta(),e=t=ih)):e=this.fromPort,null!==e&&!t.isVisible()){var i=t.findVisibleNode();null!==i&&i!==t?(t=i,e=i.port):t=i}if(this.Mx=t,null===t||!t.location.o())return!1;for(;!(null===e||e.actualBounds.o()&&e.Gf());)e=e.panel;if(null===e)return!1;var n=this.toNode,r=null;if(null===n?(Ba||((Ba=new Si).desiredSize=qe,Ba.Ta()),this.defaultToPoint&&(Ba.location=this.defaultToPoint,Ba.Ta(),r=n=Ba)):r=this.toPort,null===r||n.isVisible()||(null!==(i=n.findVisibleNode())&&i!==n?(n=i,r=i.port):n=i),this.Nx=n,null===n||!n.location.o())return!1;for(;!(null===r||r.actualBounds.o()&&r.Gf());)r=r.panel;if(null===r)return!1;var l=this.pointsCount,v=this.computeSpot(!0,e);i=this.computeSpot(!1,r);var _=vo(v),D=vo(i),O=e===r&&null!==e,V=this.isOrthogonal,$=this.curve===cl;this.Vf=!(!O||V)&&($=!0);var vt=this.computeAdjusting()===Fs||O;if(!V&&!O&&_&&D){if(_=!1,!vt&&3<=l&&(vt=this.getLinkPoint(t,e,v,!0,!1,n,r),D=this.getLinkPoint(n,r,i,!1,!1,t,e),_=this.adjustPoints(0,vt,l-1,D))&&(vt=this.getLinkPoint(t,e,v,!0,!1,n,r),D=this.getLinkPoint(n,r,i,!1,!1,t,e),this.adjustPoints(0,vt,l-1,D)),!_)if(this.pk(),$){l=this.getLinkPoint(t,e,v,!0,!1,n,r),_=(vt=this.getLinkPoint(n,r,i,!1,!1,t,e)).x-l.x,D=vt.y-l.y,O=this.computeCurviness(),$=V=0;var kt=l.x+_/3,bt=l.y+D/3,Wt=kt,de=bt;ti.A(D,0)?de=0<_?de-O:de+O:(V=-_/D,$=Math.sqrt(O*O/(V*V+1)),0>O&&($=-$),de=V*((Wt=(0>D?-1:1)*$+kt)-kt)+bt);var le=kt=l.x+2*_/3,we=bt=l.y+2*D/3;we=ti.A(D,0)?0<_?we-O:we+O:V*((le=(0>D?-1:1)*$+kt)-kt)+bt,this.pk(),this.ce(l),this.vf(Wt,de),this.vf(le,we),this.ce(vt),this.Qc(0,this.getLinkPoint(t,e,v,!0,!1,n,r)),this.Qc(3,this.getLinkPoint(n,r,i,!1,!1,t,e))}else n=this.getLinkPoint(t,e,v,!0,!1,l=n,vt=r),r=this.getLinkPoint(l,vt,i,!1,!1,t,e),this.hasCurviness()?(vt=r.x-n.x,i=r.y-n.y,v=this.computeCurviness(),l=t=n.x+vt/2,_=e=n.y+i/2,ti.A(i,0)?_=0<vt?_-v:_+v:(vt=-vt/i,l=Math.sqrt(v*v/(vt*vt+1)),0>v&&(l=-l),_=vt*((l=(0>i?-1:1)*l+t)-t)+e),this.ce(n),this.vf(l,_),this.ce(r)):(this.ce(n),this.ce(r),_=he.alloc(),e.mj(_),D=_.$(r),vt.mj(_),O=_.$(n),(D||O)&&(v=e.da(fo(v),new ht),this.Qc(0,this.getLinkPointFromPoint(t,e,v,r,!0,v)),i=vt.da(fo(i),new ht),this.Qc(1,this.getLinkPointFromPoint(l,vt,i,n,!1,i))),he.free(_))}else{$=this.isAvoiding,vt&&(V&&$||O)&&this.pk();var Pe=O?this.computeCurviness():0;$=this.getLinkPoint(t,e,v,!0,V,n,r),kt=Wt=bt=0,(V||!_||O)&&(de=this.computeEndSegmentLength(t,e,v,!0),kt=this.getLinkDirection(t,e,$,v,!0,V,n,r),O&&(_||v.w(i)||!V&&v.x+i.x===1&&v.y+i.y===1)&&(kt-=V?90:30,0>Pe&&(kt-=180)),0>kt?kt+=360:360<=kt&&(kt-=360),O&&(de+=Math.abs(Pe)*(V?1:2)),0===kt?bt=de:90===kt?Wt=de:180===kt?bt=-de:270===kt?Wt=-de:(bt=de*Math.cos(kt*Math.PI/180),Wt=de*Math.sin(kt*Math.PI/180)),v.nc()&&O&&(de=e.da(ar,ht.alloc()),le=ht.allocAt(de.x+1e3*bt,de.y+1e3*Wt),this.getLinkPointFromPoint(t,e,de,le,!0,$),ht.free(de),ht.free(le))),de=this.getLinkPoint(n,r,i,!1,V,t,e);var Ke=we=le=0;if(V||!D||O){var ui=this.computeEndSegmentLength(n,r,i,!1);Ke=this.getLinkDirection(n,r,de,i,!1,V,t,e),O&&(D||v.w(i)||!V&&v.x+i.x===1&&v.y+i.y===1)&&(Ke+=V?0:30,0>Pe&&(Ke+=180)),0>Ke?Ke+=360:360<=Ke&&(Ke-=360),O&&(ui+=Math.abs(Pe)*(V?1:2)),0===Ke?le=ui:90===Ke?we=ui:180===Ke?le=-ui:270===Ke?we=-ui:(le=ui*Math.cos(Ke*Math.PI/180),we=ui*Math.sin(Ke*Math.PI/180)),i.nc()&&O&&(i=r.da(ar,ht.alloc()),v=ht.allocAt(i.x+1e3*le,i.y+1e3*we),this.getLinkPointFromPoint(n,r,i,v,!1,de),ht.free(i),ht.free(v))}i=$,(V||!_||O)&&(i=new ht($.x+bt,$.y+Wt)),v=de,(V||!D||O)&&(v=new ht(de.x+le,de.y+we)),!vt&&!V&&_&&3<l&&this.adjustPoints(0,$,l-2,v)?this.Qc(l-1,de):!vt&&!V&&D&&3<l&&this.adjustPoints(1,i,l-1,de)?this.Qc(0,$):!vt&&(V?6<=l:4<l)&&this.adjustPoints(1,i,l-2,v)?(this.Qc(0,$),this.Qc(l-1,de)):(this.pk(),this.ce($),(V||!_||O)&&this.ce(i),V&&this.addOrthoPoints(i,kt,v,Ke,t,n),(V||!D||O)&&this.ce(v),this.ce(de))}return!0},Bi.prototype.getLinkPointFromPoint=function(t,e,i,n,r,l){if(void 0===l&&(l=new ht),null===t||null===e)return l.assign(i),l;if(t.isVisible()||null!==(r=t.findVisibleNode())&&r!==t&&(e=r.port),t=null,null===(r=e.panel)||r.he()||(r=r.panel),null===r){r=n.x,n=n.y;var v=i.x;i=i.y}else{var _=-(t=r.Fd).m12*(r=1/(t.m11*t.m22-t.m12*t.m21)),D=-t.m21*r,O=t.m11*r,V=r*(t.m21*t.dy-t.m22*t.dx),$=r*(t.m12*t.dx-t.m11*t.dy);r=n.x*(v=t.m22*r)+n.y*D+V,n=n.x*_+n.y*O+$,v=i.x*v+i.y*D+V,i=i.x*_+i.y*O+$}return e.zk(r,n,v,i,l),null!==t&&l.transform(t),l},Bi.prototype.getLinkPoint=function(t,e,i,n,r,l,v,_){if(void 0===_&&(_=new ht),i.kb()&&!vo(i))return e.da(i,_),_;if(i.Oc()){var D=ss(this,e);if(null!==D){if(_.assign(D.Qq),r&&this.routing===$c){var O=ss(this,v);if(null!==O&&D.wm<O.wm){D=ht.alloc(),O=ht.alloc();var V=new he(e.da(Hr,D),e.da(Zo,O)),$=this.computeSpot(!n,v);t=this.getLinkPoint(l,v,$,!n,r,t,e,O),(i.Ef(Gr)||i.Ef(qo))&&t.y>=V.y&&t.y<=V.y+V.height?_.y=t.y:(i.Ef(ds)||i.Ef(as))&&t.x>=V.x&&t.x<=V.x+V.width&&(_.x=t.x),ht.free(D),ht.free(O)}}return _}}return i=e.da(fo(i),ht.alloc()),this.pointsCount>(r?6:2)?(v=this.i(n?1:this.pointsCount-2),r&&(v=Oo(i,v.copy()))):(D=this.computeSpot(!n,v),l=ht.alloc(),v=v.da(fo(D),l),r&&(v=Oo(i,v)),ht.free(l)),this.getLinkPointFromPoint(t,e,i,v,n,_),ht.free(i),_},Bi.prototype.getLinkDirection=function(t,e,i,n,r,l,v,_){t:if(n.kb())var D=n.x>n.y?n.x>1-n.y?0:n.x<1-n.y?270:315:n.x<n.y?n.x>1-n.y?90:n.x<1-n.y?180:135:.5>n.x?225:.5<n.x?45:0;else{if(n.Oc()&&null!==(D=ss(this,e)))switch(D.Ac){case 1:D=270;break t;case 2:D=180;break t;default:D=0;break t;case 8:D=90;break t}D=e.da(ar,ht.alloc()),this.pointsCount>(l?6:2)?(_=this.i(r?1:this.pointsCount-2),_=l?Oo(D,_.copy()):i):(i=ht.alloc(),_=_.da(ar,i),ht.free(i)),i=Math.abs(_.x-D.x)>Math.abs(_.y-D.y)?_.x>=D.x?0:180:_.y>=D.y?90:270,ht.free(D),D=i}return n.nc()&&v.Kd(t)&&360<=(D+=180)&&(D-=360),vo(n)||0===(t=e.lj())||(45<=t&&135>t?D+=90:135<=t&&225>t?D+=180:225<=t&&315>t&&(D+=270),360<=D&&(D-=360)),D},Bi.prototype.computeEndSegmentLength=function(t,e,i,n){return null!==e&&i.Oc()&&null!==(t=ss(this,e))?t.Pv:(t=n?this.fromEndSegmentLength:this.toEndSegmentLength,null!==e&&isNaN(t)&&(t=n?e.fromEndSegmentLength:e.toEndSegmentLength),isNaN(t)&&(t=10),t)},Bi.prototype.computeSpot=function(t,e){return void 0===e&&(e=null),t?null===(t=e||this.fromPort)?t=ar:((e=this.fromSpot).Mb()&&(e=t.fromSpot),t=e===us?xr:e):null===(t=e||this.toPort)?t=ar:((e=this.toSpot).Mb()&&(e=t.toSpot),t=e===us?xr:e),t},Bi.prototype.computeOtherPoint=function(t,e){return this.computeAdjusting()!==Fs&&4<this.pointsCount?this.computeMidPoint(new ht):null!==(t=null!==(t=e.yp)?ey(t,this):null)?t.Qq:e.da(ar)},Bi.prototype.computeShortLength=function(t){if(t){if(t=this.fromShortLength,isNaN(t)){var e=this.fromPort;null!==e&&(t=e.fromShortLength)}return isNaN(t)?0:t}return t=this.toShortLength,isNaN(t)&&null!==(e=this.toPort)&&(t=e.toShortLength),isNaN(t)?0:t},Bi.prototype.zf=function(t,e,i,n,r,l){if(!1===this.pickable)return!1;void 0===e&&(e=null),void 0===i&&(i=null);var v=l;if(void 0===l&&(v=or.alloc()).reset(),v.multiply(this.transform),this.Jh(t,v))return tm(this,e,i,r),void 0===l&&or.free(v),!0;if(this.Mc(t,v)){var _=!1;if(!this.isAtomic)for(var D=this.W.j,O=D.length;O--;){var V=D[O];if(V.visible||V===this.locationObject){var $=V.actualBounds,vt=this.naturalBounds;if(!($.x>vt.width||$.y>vt.height||0>$.x+$.width||0>$.y+$.height)){if(($=or.alloc()).set(v),V instanceof Xi)_=V.zf(t,e,i,n,r,$);else if(this.path===V){if(V instanceof sr)if(_=t,vt=n,!1===V.pickable)_=!1;else if($.multiply(V.transform),vt)t:{var kt=_,bt=$;if(V.Jh(kt,bt))_=!0;else{if(void 0===bt&&(bt=V.transform,kt.Ge(V.actualBounds))){_=!0;break t}_=kt.left,vt=kt.right;var Wt=kt.top;kt=kt.bottom;var de=ht.alloc(),le=ht.alloc(),we=ht.alloc(),Pe=or.alloc();Pe.set(bt),Pe.jw(V.transform),Pe.St(),le.x=vt,le.y=Wt,le.transform(Pe),de.x=_,de.y=Wt,de.transform(Pe),bt=!1,nu(V,de,le,we)?bt=!0:(de.x=vt,de.y=kt,de.transform(Pe),nu(V,de,le,we)?bt=!0:(le.x=_,le.y=kt,le.transform(Pe),nu(V,de,le,we)?bt=!0:(de.x=_,de.y=Wt,de.transform(Pe),nu(V,de,le,we)&&(bt=!0)))),or.free(Pe),ht.free(de),ht.free(le),ht.free(we),_=bt}}else _=V.Jh(_,$)}else _=Gp(V,t,n,$);_&&(vt=V,null!==e&&(vt=e(V)),vt&&(null===i||i(vt))&&r.add(vt)),or.free($)}}}return void 0===l&&or.free(v),_||null!==this.background||null!==this.areaBackground}return void 0===l&&or.free(v),!1},Bi.prototype.computeCurve=function(){if(null===this.Vf){var t=this.fromPort;this.Vf=null!==t&&t===this.toPort&&!this.isOrthogonal}return this.Vf?cl:this.curve},Bi.prototype.computeCorner=function(){if(this.curve===cl)return 0;var t=this.corner;return(isNaN(t)||0>t)&&(t=10),t},Bi.prototype.findMidLabel=function(){for(var t=this.path,e=this.W.j,i=e.length,n=0;n<i;n++){var r=e[n];if(r!==t&&!r.isPanelMain&&(r.segmentIndex===-1/0||isNaN(r.segmentIndex)))return r}for(t=this.labelNodes;t.next();)if((e=t.value).segmentIndex===-1/0||isNaN(e.segmentIndex))return e;return null},Bi.prototype.computeSpacing=function(){if(!this.isVisible())return 0;var t=vd;t=Math.max(t,this.computeThickness());var e=this.fromPort,i=this.toPort;if(null!==e&&null!==i){var n=this.findMidLabel();if(null!==n){var r=n.naturalBounds,l=n.margin,v=isNaN(r.width)?30:r.width*n.scale+l.left+l.right;r=isNaN(r.height)?14:r.height*n.scale+l.top+l.bottom,(n=n.segmentOrientation)===cp||n===h0||n===fp?t=Math.max(t,r):n===wc||n===Xc||n===Gl||n===c0?t=Math.max(t,v):(e=e.da(ar).Pa(i.da(ar))/180*Math.PI,t=Math.max(t,Math.abs(Math.sin(e)*v)+Math.abs(Math.cos(e)*r)+1)),this.curve===cl&&(t*=1.333)}}return t},Bi.prototype.arrangeBundledLinks=function(t,e){if(e)for(e=0;e<t.length;e++){var i=t[e];i.computeAdjusting()===Fs&&i.Ua()}},Bi.prototype.computeCurviness=function(){var t=this.curviness;if(isNaN(t)){t=Lf;var e=this.Mf;if(null!==e){for(var i=o(),n=0,r=e.links,l=0;l<r.length;l++){var v=r[l].computeSpacing();i.push(v),n+=v}for(n=-n/2,l=0;l<r.length;l++){if(r[l]===this){t=n+i[l]/2;break}n+=i[l]}e.au===this.fromNode&&(t=-t),c(i)}}return t},Bi.prototype.computeThickness=function(){if(!this.isVisible())return 0;var t=this.path;return null!==t?Math.max(t.strokeWidth,1):1},Bi.prototype.hasCurviness=function(){return!isNaN(this.curviness)||null!==this.Mf},Bi.prototype.adjustPoints=function(t,e,i,n){var r=this.computeAdjusting();if(this.isOrthogonal){if(r===hp)return!1;r===u0&&(r=up)}switch(r){case hp:var l=this.i(t),v=this.i(i);if(!l.Qa(e)||!v.Qa(n)){var _=v.x-(r=l.x),D=v.y-(l=l.y),O=Math.sqrt(_*_+D*D);if(!ti.aa(O,0)){if(ti.aa(_,0))var V=0>D?-Math.PI/2:Math.PI/2;else V=Math.atan(D/Math.abs(_)),0>_&&(V=Math.PI-V);var $=e.y;_=n.x-(v=e.x);var vt=n.y-$;for(D=Math.sqrt(_*_+vt*vt),ti.aa(_,0)?vt=0>vt?-Math.PI/2:Math.PI/2:(vt=Math.atan(vt/Math.abs(_)),0>_&&(vt=Math.PI-vt)),O=D/O,V=vt-V,this.Qc(t,e),t+=1;t<i;t++)_=(e=this.i(t)).x-r,D=e.y-l,e=Math.sqrt(_*_+D*D),ti.aa(e,0)||(ti.aa(_,0)?D=0>D?-Math.PI/2:Math.PI/2:(D=Math.atan(D/Math.abs(_)),0>_&&(D=Math.PI-D)),_=D+V,this.L(t,v+(e*=O)*Math.cos(_),$+e*Math.sin(_)));this.Qc(i,n)}}return!0;case u0:if(l=this.i(t),$=this.i(i),!l.Qa(e)||!$.Qa(n)){O=((v=$.x)-(r=l.x))*(v-r)+(($=$.y)-(l=l.y))*($-l),V=e.y,vt=n.y;var kt=1;if((D=n.x)-(_=e.x)!=0){var bt=(vt-V)/(D-_);kt=Math.sqrt(1+1/(bt*bt))}else bt=9e9;for(this.Qc(t,e),t+=1;t<i;t++){var Wt=(e=this.i(t)).x,de=e.y,le=.5;0!==O&&(le=((r-Wt)*(r-v)+(l-de)*(l-$))/O);var we=r+le*(v-r),Pe=l+le*($-l);e=Math.sqrt((Wt-we)*(Wt-we)+(de-Pe)*(de-Pe)),de<bt*(Wt-we)+Pe&&(e=-e),0<bt&&(e=-e),Wt=_+le*(D-_),le=V+le*(vt-V),0!==bt?this.L(t,e=Wt+e/kt,le-(e-Wt)/bt):this.L(t,Wt,le+e)}this.Qc(i,n)}return!0;case up:return this.isOrthogonal&&(r=this.i(t),l=this.i(t+1),v=this.i(t+2),$=_=l.x,O=V=l.y,ti.A(r.y,l.y)?ti.A(l.x,v.x)?V=e.y:ti.A(l.y,v.y)&&(_=e.x):ti.A(r.x,l.x)&&(ti.A(l.y,v.y)?_=e.x:ti.A(l.x,v.x)&&(V=e.y)),this.L(t+1,_,V),r=this.i(i),l=this.i(i-1),v=this.i(i-2),D=_=l.x,vt=V=l.y,ti.A(r.y,l.y)?ti.A(l.x,v.x)?V=n.y:ti.A(l.y,v.y)&&(_=n.x):ti.A(r.x,l.x)&&(ti.A(l.y,v.y)?_=n.x:ti.A(l.x,v.x)&&(V=n.y)),this.L(i-1,_,V),$s(this))?(this.L(t+1,$,O),this.L(i-1,D,vt),i=!1):(this.Qc(t,e),this.Qc(i,n),i=!0),i;default:return!1}},Bi.prototype.addOrthoPoints=function(t,e,i,n,r,l){0>e?e+=360:360<=e&&(e-=360),0>n?n+=360:360<=n&&(n-=360);var v=n;e=315<=e||45>e?0:45<=e&&135>e?90:135<=e&&225>e?180:270,n=315<=n||45>n?0:45<=n&&135>n?90:135<=n&&225>n?180:270;var _=r.actualBounds.copy(),D=l.actualBounds.copy();if(_.o()&&D.o()){if(_.Jc(Zc,Zc),D.Jc(Zc,Zc),_.Oe(t),D.Oe(i),0===e)if(i.x>t.x||270===n&&i.y<t.y&&D.right>t.x||90===n&&i.y>t.y&&D.right>t.x){var O=new ht(i.x,t.y),V=new ht(i.x,(t.y+i.y)/2);180===n?(O.x=this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!1),V.x=O.x,V.y=i.y):270===n&&i.y<t.y||90===n&&i.y>t.y?(O.x=t.x<D.left?this.computeMidOrthoPosition(t.x,t.y,D.left,i.y,!1):t.x<D.right&&(270===n&&t.y<D.top||90===n&&t.y>D.bottom)?this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!1):D.right,V.x=O.x,V.y=i.y):0===n&&t.x<D.left&&t.y>D.top&&t.y<D.bottom&&(O.x=t.x,O.y=t.y<i.y?Math.min(i.y,D.top):Math.max(i.y,D.bottom),V.y=O.y)}else O=new ht(t.x,i.y),V=new ht((t.x+i.x)/2,i.y),(180===n||90===n&&i.y<_.top||270===n&&i.y>_.bottom)&&(180===n&&(D.$(t)||_.$(i))?O.y=this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!0):i.y<t.y&&(180===n||90===n)?O.y=this.computeMidOrthoPosition(t.x,_.top,i.x,Math.max(i.y,D.bottom),!0):i.y>t.y&&(180===n||270===n)&&(O.y=this.computeMidOrthoPosition(t.x,_.bottom,i.x,Math.min(i.y,D.top),!0)),V.x=i.x,V.y=O.y),O.y>_.top&&O.y<_.bottom&&(i.x>=_.left&&i.x<=t.x||t.x<=D.right&&t.x>=i.x?(90===n||270===n)&&(O=new ht(Math.max((t.x+i.x)/2,t.x),t.y),V=new ht(O.x,i.y)):(O.y=270===n||(0===n||180===n)&&i.y<t.y?Math.min(i.y,0===n?_.top:Math.min(_.top,D.top)):Math.max(i.y,0===n?_.bottom:Math.max(_.bottom,D.bottom)),V.x=i.x,V.y=O.y));else 180===e?i.x<t.x||270===n&&i.y<t.y&&D.left<t.x||90===n&&i.y>t.y&&D.left<t.x?(O=new ht(i.x,t.y),V=new ht(i.x,(t.y+i.y)/2),0===n?(O.x=this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!1),V.x=O.x,V.y=i.y):270===n&&i.y<t.y||90===n&&i.y>t.y?(O.x=t.x>D.right?this.computeMidOrthoPosition(t.x,t.y,D.right,i.y,!1):t.x>D.left&&(270===n&&t.y<D.top||90===n&&t.y>D.bottom)?this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!1):D.left,V.x=O.x,V.y=i.y):180===n&&t.x>D.right&&t.y>D.top&&t.y<D.bottom&&(O.x=t.x,O.y=t.y<i.y?Math.min(i.y,D.top):Math.max(i.y,D.bottom),V.y=O.y)):(O=new ht(t.x,i.y),V=new ht((t.x+i.x)/2,i.y),(0===n||90===n&&i.y<_.top||270===n&&i.y>_.bottom)&&(0===n&&(D.$(t)||_.$(i))?O.y=this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!0):i.y<t.y&&(0===n||90===n)?O.y=this.computeMidOrthoPosition(t.x,_.top,i.x,Math.max(i.y,D.bottom),!0):i.y>t.y&&(0===n||270===n)&&(O.y=this.computeMidOrthoPosition(t.x,_.bottom,i.x,Math.min(i.y,D.top),!0)),V.x=i.x,V.y=O.y),O.y>_.top&&O.y<_.bottom&&(i.x<=_.right&&i.x>=t.x||t.x>=D.left&&t.x<=i.x?(90===n||270===n)&&(O=new ht(Math.min((t.x+i.x)/2,t.x),t.y),V=new ht(O.x,i.y)):(O.y=270===n||(0===n||180===n)&&i.y<t.y?Math.min(i.y,180===n?_.top:Math.min(_.top,D.top)):Math.max(i.y,180===n?_.bottom:Math.max(_.bottom,D.bottom)),V.x=i.x,V.y=O.y))):90===e?i.y>t.y||180===n&&i.x<t.x&&D.bottom>t.y||0===n&&i.x>t.x&&D.bottom>t.y?(O=new ht(t.x,i.y),V=new ht((t.x+i.x)/2,i.y),270===n?(O.y=this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!0),V.x=i.x,V.y=O.y):180===n&&i.x<t.x||0===n&&i.x>t.x?(O.y=t.y<D.top?this.computeMidOrthoPosition(t.x,t.y,i.x,D.top,!0):t.y<D.bottom&&(180===n&&t.x<D.left||0===n&&t.x>D.right)?this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!0):D.bottom,V.x=i.x,V.y=O.y):90===n&&t.y<D.top&&t.x>D.left&&t.x<D.right&&(O.x=t.x<i.x?Math.min(i.x,D.left):Math.max(i.x,D.right),O.y=t.y,V.x=O.x)):(O=new ht(i.x,t.y),V=new ht(i.x,(t.y+i.y)/2),(270===n||0===n&&i.x<_.left||180===n&&i.x>_.right)&&(270===n&&(D.$(t)||_.$(i))?O.x=this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!1):i.x<t.x&&(270===n||0===n)?O.x=this.computeMidOrthoPosition(_.left,t.y,Math.max(i.x,D.right),i.y,!1):i.x>t.x&&(270===n||180===n)&&(O.x=this.computeMidOrthoPosition(_.right,t.y,Math.min(i.x,D.left),i.y,!1)),V.x=O.x,V.y=i.y),O.x>_.left&&O.x<_.right&&(i.y>=_.top&&i.y<=t.y||t.y<=D.bottom&&t.y>=i.y?(0===n||180===n)&&(O=new ht(t.x,Math.max((t.y+i.y)/2,t.y)),V=new ht(i.x,O.y)):(O.x=180===n||(90===n||270===n)&&i.x<t.x?Math.min(i.x,90===n?_.left:Math.min(_.left,D.left)):Math.max(i.x,90===n?_.right:Math.max(_.right,D.right)),V.x=O.x,V.y=i.y))):i.y<t.y||180===n&&i.x<t.x&&D.top<t.y||0===n&&i.x>t.x&&D.top<t.y?(O=new ht(t.x,i.y),V=new ht((t.x+i.x)/2,i.y),90===n?(O.y=this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!0),V.x=i.x,V.y=O.y):180===n&&i.x<t.x||0===n&&i.x>=t.x?(O.y=t.y>D.bottom?this.computeMidOrthoPosition(t.x,t.y,i.x,D.bottom,!0):t.y>D.top&&(180===n&&t.x<D.left||0===n&&t.x>D.right)?this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!0):D.top,V.x=i.x,V.y=O.y):270===n&&t.y>D.bottom&&t.x>D.left&&t.x<D.right&&(O.x=t.x<i.x?Math.min(i.x,D.left):Math.max(i.x,D.right),O.y=t.y,V.x=O.x)):(O=new ht(i.x,t.y),V=new ht(i.x,(t.y+i.y)/2),(90===n||0===n&&i.x<_.left||180===n&&i.x>_.right)&&(90===n&&(D.$(t)||_.$(i))?O.x=this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!1):i.x<t.x&&(90===n||0===n)?O.x=this.computeMidOrthoPosition(_.left,t.y,Math.max(i.x,D.right),i.y,!1):i.x>t.x&&(90===n||180===n)&&(O.x=this.computeMidOrthoPosition(_.right,t.y,Math.min(i.x,D.left),i.y,!1)),V.x=O.x,V.y=i.y),O.x>_.left&&O.x<_.right&&(i.y<=_.bottom&&i.y>=t.y||t.y>=D.top&&t.y<=i.y?(0===n||180===n)&&(O=new ht(t.x,Math.min((t.y+i.y)/2,t.y)),V=new ht(i.x,O.y)):(O.x=180===n||(90===n||270===n)&&i.x<t.x?Math.min(i.x,270===n?_.left:Math.min(_.left,D.left)):Math.max(i.x,270===n?_.right:Math.max(_.right,D.right)),V.x=O.x,V.y=i.y)));var $=O,vt=V,kt=i;if(this.isAvoiding){var bt=this.diagram;if(null===bt||r===l||this.layer.isTemporary||!vf(bt)||_.$(kt)&&!l.Kd(r)||D.$(t)&&!r.Kd(l))e=!1;else{var Wt=Vh(bt,!0,this.containingGroup,null);if(17!==this.segmentIndex&&Wt.Ek(Math.min(t.x,$.x),Math.min(t.y,$.y),Math.abs(t.x-$.x),Math.abs(t.y-$.y))&&Wt.Ek(Math.min($.x,vt.x),Math.min($.y,vt.y),Math.abs($.x-vt.x),Math.abs($.y-vt.y))&&Wt.Ek(Math.min(vt.x,kt.x),Math.min(vt.y,kt.y),Math.abs(vt.x-kt.x),Math.abs(vt.y-kt.y)))e=!1;else{r=t,l=kt;var de=i=null;if(bt.isVirtualized){(bt=Wt.bounds.copy()).Jc(-Wt.zq,-Wt.yq);var le=ht.alloc();d0(Wt,t.x,t.y)||(ti.Cf(bt.x,bt.y,bt.x+bt.width,bt.y+bt.height,t.x,t.y,$.x,$.y,le)?(i=t=le.copy(),e=le.Pa($)):ti.Cf(bt.x,bt.y,bt.x+bt.width,bt.y+bt.height,$.x,$.y,vt.x,vt.y,le)?(i=t=le.copy(),e=le.Pa(vt)):ti.Cf(bt.x,bt.y,bt.x+bt.width,bt.y+bt.height,vt.x,vt.y,kt.x,kt.y,le)&&(i=t=le.copy(),e=le.Pa(kt))),d0(Wt,kt.x,kt.y)||(ti.Cf(bt.x,bt.y,bt.x+bt.width,bt.y+bt.height,kt.x,kt.y,vt.x,vt.y,le)?(de=kt=le.copy(),n=vt.Pa(le)):ti.Cf(bt.x,bt.y,bt.x+bt.width,bt.y+bt.height,vt.x,vt.y,$.x,$.y,le)?(de=kt=le.copy(),n=$.Pa(le)):ti.Cf(bt.x,bt.y,bt.x+bt.width,bt.y+bt.height,$.x,$.y,t.x,t.y,le)&&(de=kt=le.copy(),n=t.Pa(le))),ht.free(le)}(_=_.copy().Rc(D)).Jc(Wt.zq*Wt.Wy,Wt.yq*Wt.Wy),Dg(Wt,t,e,kt,n,_,!0),D=$h(Wt,kt.x,kt.y),!Wt.abort&&D>=sm&&(ty(Wt),_.Jc(Wt.zq*Wt.Gy,Wt.yq*Wt.Gy),Dg(Wt,t,e,kt,n,_,!1),D=$h(Wt,kt.x,kt.y)),!Wt.abort&&D<sm&&$h(Wt,kt.x,kt.y)!==qc?($a(this,Wt,kt.x,kt.y,n,!0,v),_=this.i(2),4>this.pointsCount?(0===e||180===e?(_.x=t.x,_.y=kt.y):(_.x=kt.x,_.y=t.y),this.L(2,_.x,_.y),this.m(3,_.x,_.y)):(v=this.i(3),0===e||180===e?ti.A(_.x,v.x)?(_=0===e?Math.max(_.x,t.x):Math.min(_.x,t.x),this.L(2,_,t.y),this.L(3,_,v.y)):ti.A(_.y,v.y)?(Math.abs(t.y-_.y)<=Wt.yq/2&&(this.L(2,_.x,t.y),this.L(3,v.x,t.y)),this.m(2,_.x,t.y)):this.L(2,t.x,_.y):(90===e||270===e)&&(ti.A(_.y,v.y)?(_=90===e?Math.max(_.y,t.y):Math.min(_.y,t.y),this.L(2,t.x,_),this.L(3,v.x,_)):ti.A(_.x,v.x)?(Math.abs(t.x-_.x)<=Wt.zq/2&&(this.L(2,t.x,_.y),this.L(3,t.x,v.y)),this.m(2,t.x,_.y)):this.L(2,_.x,t.y))),null!==i&&(t=this.i(1),v=this.i(2),t.x!==v.x&&t.y!==v.y?0===e||180===e?this.m(2,t.x,v.y):this.m(2,v.x,t.y):0===e||180===e?this.m(2,r.x,i.y):this.m(2,i.x,r.y)),null!==de&&(0===n||180===n?this.vf(l.x,de.y):this.vf(de.x,l.y)),e=!0):e=!1}}}else e=!1;e||(this.ce(O),this.ce(V))}},Bi.prototype.computeMidOrthoPosition=function(t,e,i,n,r){var l=0;return!this.hasCurviness()||this.computeSpot(!0,this.fromPort).Oc()||this.computeSpot(!1,this.toPort).Oc()||(l=this.computeCurviness()),r?(e+n)/2+l:(t+i)/2+l},Bi.prototype.Sz=function(t){var e=t.x;t=t.y;for(var i=this.i(0),n=this.i(1),r=si(e,t,i.x,i.y,n.x,n.y),l=0,v=1;v<this.pointsCount-1;v++){i=this.i(v+1);var _=si(e,t,n.x,n.y,i.x,i.y);n=i,_<r&&(l=v,r=_)}return l},Bi.prototype.dc=function(){this.$m=!1,this.s()},Bi.prototype.Gk=function(t){if((t||!1!==this.ud&&(t=this.tb(),!this.$m||null!==t&&null===t.geometry))&&(this.na=this.makeGeometry(),null!==(t=this.path))){t.na=this.na;for(var e=this.W.j,i=e.length,n=0;n<i;n++){var r=e[n];r!==t&&r.isPanelMain&&r instanceof sr&&(r.na=this.na)}}},Bi.prototype.makeGeometry=function(){var t=this.na,e=this.pointsCount;if(2>e)return t.type=Ie,this.$m=!0,t;var i=!1,n=this.diagram;null!==n&&su(this)&&n.Vg.contains(this)&&(0!==this.Yl.width||0!==this.Yl.height)&&(i=!0);var r=this.i(0).copy(),l=r.copy();n=this.Ab.j;var v=this.computeCurve();if(v===cl&&3<=e&&!ti.aa(this.smoothness,0))if(3===e){var _=this.i(1);n=Math.min(r.x,_.x);var D=Math.min(r.y,_.y);_=this.i(2),n=Math.min(n,_.x),D=Math.min(D,_.y)}else{if(this.isOrthogonal)for(D=0;D<e;D++)_=n[D],l.x=Math.min(_.x,l.x),l.y=Math.min(_.y,l.y);else for(n=3;n<e;n+=3)n+3>=e&&(n=e-1),D=this.i(n),l.x=Math.min(D.x,l.x),l.y=Math.min(D.y,l.y);n=l.x,D=l.y}else{for(D=0;D<e;D++)_=n[D],l.x=Math.min(_.x,l.x),l.y=Math.min(_.y,l.y);n=l.x,D=l.y}if(D-=this.vv.y,r.x-=n-=this.vv.x,r.y-=D,2!==e||su(this)){if(t.type=hi,_=$t(t),0!==this.computeShortLength(!0)&&(r=Ul(this,r,!0,l)),dt(_,r.x,r.y,!1),v===cl&&3<=e&&!ti.aa(this.smoothness,0))if(3===e)e=(i=this.i(1)).x-n,i=i.y-D,(r=this.i(2).copy()).x-=n,r.y-=D,0!==this.computeShortLength(!1)&&(r=Ul(this,r,!1,l)),pt(_,e,i,e,i,r.x,r.y);else if(this.isOrthogonal){l=new ht(n,D),r=this.i(1).copy(),v=new ht(n,D),e=new ht(n,D),i=this.i(0);for(var O,V=this.smoothness/3,$=1;$<this.pointsCount-1;$++){var vt=i,kt=O=this.i($),bt=this.i(Xa(this,O,$,!1));if(!(ti.aa(vt.x,kt.x)&&ti.aa(kt.x,bt.x)||ti.aa(vt.y,kt.y)&&ti.aa(kt.y,bt.y))){var Wt=V;isNaN(Wt)&&(Wt=this.smoothness/3);var de=vt.x,le=kt.x,we=bt.x;bt=bt.y;var Pe=Wt*Mu(de,vt=vt.y,le,kt=kt.y);Wt*=Mu(le,kt,we,bt),ti.aa(vt,kt)&&ti.aa(le,we)&&(le>de?bt>kt?(v.x=le-Pe,v.y=kt-Pe,e.x=le+Wt,e.y=kt+Wt):(v.x=le-Pe,v.y=kt+Pe,e.x=le+Wt,e.y=kt-Wt):bt>kt?(v.x=le+Pe,v.y=kt-Pe,e.x=le-Wt,e.y=kt+Wt):(v.x=le+Pe,v.y=kt+Pe,e.x=le-Wt,e.y=kt-Wt)),ti.aa(de,le)&&ti.aa(kt,bt)&&(kt>vt?(we>le?(v.x=le-Pe,v.y=kt-Pe,e.x=le+Wt):(v.x=le+Pe,v.y=kt-Pe,e.x=le-Wt),e.y=kt+Wt):(we>le?(v.x=le-Pe,v.y=kt+Pe,e.x=le+Wt):(v.x=le+Pe,v.y=kt+Pe,e.x=le-Wt),e.y=kt-Wt)),(ti.aa(de,le)&&ti.aa(le,we)||ti.aa(vt,kt)&&ti.aa(kt,bt))&&(vt=.5*(vt+bt),v.x=de=.5*(de+we),v.y=vt,e.x=de,e.y=vt),(1===$||2===$&&ti.aa(i.x,this.i(0).x)&&ti.aa(i.y,this.i(0).y))&&(r.x=.5*(i.x+O.x),r.y=.5*(i.y+O.y)),pt(_,r.x-n,r.y-D,v.x-n,v.y-D,O.x-n,O.y-D),l.set(v),r.set(e),i=O}}l=i.x,i=i.y,r=this.i(this.pointsCount-1),0!==this.computeShortLength(!1)&&(r=Ul(this,r.copy(),!1,je)),pt(_,e.x-n,e.y-D,(l=.5*(l+r.x))-n,(i=.5*(i+r.y))-D,r.x-n,r.y-D)}else for(i=3;i<e;i+=3)l=this.i(i-2),i+3>=e&&(i=e-1),r=this.i(i-1),v=this.i(i),i===e-1&&0!==this.computeShortLength(!1)&&(v=Ul(this,v.copy(),!1,je)),pt(_,l.x-n,l.y-D,r.x-n,r.y-D,v.x-n,v.y-D);else{for((l=ht.alloc()).assign(this.i(0)),(r=ht.alloc()).assign(l),v=this.computeCorner(),$=1,O=0;$<e;){if($=Xa(this,l,$,1<$),V=this.i($),$>=e-1){if(l.w(V)){if(0===O)for($=1;$<e;)r.assign(l),Ml(this,_,-n,-D,l,V=this.i($++),i),l.assign(V)}else 0!==this.computeShortLength(!1)&&(V=Ul(this,V.copy(),!1,je)),Ml(this,_,-n,-D,l,V,i);break}if(O=Xa(this,V,$+1,$<e-3),$=-n,de=-D,vt=V,Wt=this.i(O),le=i,ti.A(l.y,vt.y)&&ti.A(vt.x,Wt.x))if(kt=Math.min(v,Math.abs(vt.x-r.x)/2),kt=we=Math.min(kt,Math.abs(Wt.y-vt.y)/2),ti.A(kt,0))Ml(this,_,$,de,l,vt,le),l.assign(vt);else{var Ke=bt=vt.x,ui=Pe=vt.y;ui=Wt.y>vt.y?vt.y+we:vt.y-we,Ml(this,_,$,de,l,new ht(bt=vt.x>l.x?vt.x-kt:vt.x+kt,Pe),le),Ct(_,vt.x+$,vt.y+de,Ke+$,ui+de),l.h(Ke,ui)}else ti.A(l.x,vt.x)&&ti.A(vt.y,Wt.y)?(kt=Math.min(v,Math.abs(vt.y-r.y)/2),kt=we=Math.min(kt,Math.abs(Wt.x-vt.x)/2),ti.A(we,0)?(Ml(this,_,$,de,l,vt,le),l.assign(vt)):(Ke=bt=vt.x,ui=Pe=vt.y,Ke=Wt.x>vt.x?vt.x+we:vt.x-we,Ml(this,_,$,de,l,new ht(bt,Pe=vt.y>l.y?vt.y-kt:vt.y+kt),le),Ct(_,vt.x+$,vt.y+de,Ke+$,ui+de),l.h(Ke,ui))):(Ml(this,_,$,de,l,vt,le),l.assign(vt));r.assign(V),$=O}ht.free(l)}ee=_}else(_=this.i(1).copy()).x-=n,_.y-=D,0!==this.computeShortLength(!0)&&(r=Ul(this,r,!0,l)),0!==this.computeShortLength(!1)&&(_=Ul(this,_,!1,l)),t.type=Ie,t.startX=r.x,t.startY=r.y,t.endX=_.x,t.endY=_.y;return this.$m=!0,t},Bi.prototype.computeJumpLength=function(){return 10},Bi.prototype.Oq=function(t){var e=this.layer;if(null!==e&&e.visible&&!e.isTemporary){var i=e.diagram;if(null!==i&&!i.animationManager.isTicking){var n=!1;for(i=i.layers;i.next();){var r=i.value;if(r.visible)if(r===e){n=!0;for(var l=!1,v=(r=r.Fa.j).length,_=0;_<v;_++){var D=r[_];D instanceof Bi&&(D===this?l=!0:l&&If(this,D,t))}}else if(n)for(r=(l=r.Fa.j).length,v=0;v<r;v++)(_=l[v])instanceof Bi&&If(this,_,t)}}}},Bi.prototype.usesSamePort=function(t){var e=this.pointsCount,i=t.pointsCount;if(0<e&&0<i){var n=this.i(0),r=t.i(0);if(n.Qa(r)||(e=this.i(e-1),t=t.i(i-1),e.Qa(t)||n.Qa(t)||e.Qa(r)))return!0}else if(this.fromNode===t.fromNode||this.toNode===t.toNode||this.fromNode===t.toNode||this.toNode===t.fromNode)return!0;return!1},Bi.prototype.isVisible=function(){if(!qt.prototype.isVisible.call(this))return!1;var t=this.containingGroup,e=!0,i=this.diagram;if(null!==i&&(e=i.isTreePathToChildren),null!==(i=this.fromNode)){if(this.isTreeLink&&e&&!i.isTreeExpanded)return!1;if(i===t)return!0;for(var n=i;null!==n;){if(n.labeledLink===this)return!0;n=n.containingGroup}if(null===(i=i.findVisibleNode())||i===t)return!1}if(null!==(i=this.toNode)){if(this.isTreeLink&&!e&&!i.isTreeExpanded)return!1;if(i===t)return!0;for(e=i;null!==e;){if(e.labeledLink===this)return!0;e=e.containingGroup}if(null===(e=i.findVisibleNode())||e===t)return!1}return!0},Bi.prototype.Ob=function(t){if(qt.prototype.Ob.call(this,t),null!==this.Mf&&this.Mf.Dm(),null!==this.nd)for(var e=this.nd.iterator;e.next();)e.value.Ob(t)},Bi.prototype.computeAdjusting=function(){return this.isAvoiding&&null!==this.diagram&&this.diagram.animationManager.defaultAnimation.isAnimating?up:this.Yk},Bi.prototype.Ph=function(){return!0},H.Object.defineProperties(Bi.prototype,{fromNode:{get:function(){return this.We},set:function(t){var e=this.We;if(e!==t){var i=this.fromPort;null!==e&&(this.rf!==e&&_r(e,this,i),Kc(this),this.C(2)),this.We=t,null!==t&&this.Ob(t.isVisible()),this.Vf=null,this.Ua();var n=this.diagram;null!==n&&n.Z&&n.partManager.setFromNodeForLink(this,t,e);var r=this.fromPort,l=this.fromPortChanged;if(null!==l){var v=!0;null!==n&&(v=n.Z,n.Z=!0),l(this,i,r),null!==n&&(n.Z=v)}null!==t&&(this.rf!==t&&rr(t,this,r),eh(this),this.C(1)),this.g("fromNode",e,t),er(this)}}},fromPortId:{get:function(){return this.Xe},set:function(t){var e=this.Xe;if(e!==t){var i=this.fromPort;null!==i&&kn(i),Kc(this),this.Xe=t;var n=this.fromPort;null!==n&&kn(n);var r=this.diagram;if(null!==r){var l=this.data,v=r.model;null!==l&&v.qj()&&v.Cw(l,t)}i!==n&&(this.Vf=null,this.Ua(),null!==(l=this.fromPortChanged)&&(v=!0,null!==r&&(v=r.Z,r.Z=!0),l(this,i,n),null!==r&&(r.Z=v))),eh(this),this.g("fromPortId",e,t)}}},fromPort:{get:function(){var t=this.We;return null===t?null:t.Jt(this.Xe)}},fromPortChanged:{get:function(){return this.fo},set:function(t){var e=this.fo;e!==t&&(this.fo=t,this.g("fromPortChanged",e,t))}},toNode:{get:function(){return this.rf},set:function(t){var e=this.rf;if(e!==t){var i=this.toPort;null!==e&&(this.We!==e&&_r(e,this,i),Kc(this),this.C(2)),this.rf=t,null!==t&&this.Ob(t.isVisible()),this.Vf=null,this.Ua();var n=this.diagram;null!==n&&n.Z&&n.partManager.setToNodeForLink(this,t,e);var r=this.toPort,l=this.toPortChanged;if(null!==l){var v=!0;null!==n&&(v=n.Z,n.Z=!0),l(this,i,r),null!==n&&(n.Z=v)}null!==t&&(this.We!==t&&rr(t,this,r),eh(this),this.C(1)),this.g("toNode",e,t),er(this)}}},toPortId:{get:function(){return this.sf},set:function(t){var e=this.sf;if(e!==t){var i=this.toPort;null!==i&&kn(i),Kc(this),this.sf=t;var n=this.toPort;null!==n&&kn(n);var r=this.diagram;if(null!==r){var l=this.data,v=r.model;null!==l&&v.qj()&&v.Hw(l,t)}i!==n&&(this.Vf=null,this.Ua(),null!==(l=this.toPortChanged)&&(v=!0,null!==r&&(v=r.Z,r.Z=!0),l(this,i,n),null!==r&&(r.Z=v))),eh(this),this.g("toPortId",e,t)}}},toPort:{get:function(){var t=this.rf;return null===t?null:t.Jt(this.sf)}},toPortChanged:{get:function(){return this.mq},set:function(t){var e=this.mq;e!==t&&(this.mq=t,this.g("toPortChanged",e,t))}},fromSpot:{get:function(){return null!==this.O?this.O.bh:us},set:function(t){this.Kc();var e=this.O.bh;e.w(t)||(t=t.H(),this.O.bh=t,this.g("fromSpot",e,t),(e.Oc()||t.Oc())&&null!==this.fromNode&&kn(this.fromPort),this.Ua())}},fromEndSegmentLength:{get:function(){return null!==this.O?this.O.$g:NaN},set:function(t){this.Kc();var e=this.O.$g;e!==t&&(0>t&&ot(t,">= 0",Bi,"fromEndSegmentLength"),this.O.$g=t,this.g("fromEndSegmentLength",e,t),this.Ua())}},fromShortLength:{get:function(){return null!==this.O?this.O.ah:NaN},set:function(t){this.Kc();var e=this.O.ah;e!==t&&(this.O.ah=t,this.dc(),this.g("fromShortLength",e,t))}},toSpot:{get:function(){return null!==this.O?this.O.Ch:us},set:function(t){this.Kc();var e=this.O.Ch;e.w(t)||(t=t.H(),this.O.Ch=t,this.g("toSpot",e,t),(e.Oc()||t.Oc())&&null!==this.toNode&&kn(this.toPort),this.Ua())}},toEndSegmentLength:{get:function(){return null!==this.O?this.O.Ah:NaN},set:function(t){this.Kc();var e=this.O.Ah;e!==t&&(0>t&&ot(t,">= 0",Bi,"toEndSegmentLength"),this.O.Ah=t,this.g("toEndSegmentLength",e,t),this.Ua())}},toShortLength:{get:function(){return null!==this.O?this.O.Bh:NaN},set:function(t){this.Kc();var e=this.O.Bh;e!==t&&(this.O.Bh=t,this.dc(),this.g("toShortLength",e,t))}},isLabeledLink:{get:function(){return null!==this.nd&&0<this.nd.count}},labelNodes:{get:function(){return null===this.nd?Gt:this.nd.iterator}},relinkableFrom:{get:function(){return 0!=(1&this.Ga)},set:function(t){var e=0!=(1&this.Ga);e!==t&&(this.Ga^=1,this.g("relinkableFrom",e,t),this.Lb())}},relinkableTo:{get:function(){return 0!=(2&this.Ga)},set:function(t){var e=0!=(2&this.Ga);e!==t&&(this.Ga^=2,this.g("relinkableTo",e,t),this.Lb())}},resegmentable:{get:function(){return 0!=(4&this.Ga)},set:function(t){var e=0!=(4&this.Ga);e!==t&&(this.Ga^=4,this.g("resegmentable",e,t),this.Lb())}},isTreeLink:{get:function(){return 0!=(8&this.Ga)},set:function(t){var e=0!=(8&this.Ga);e!==t&&(this.Ga^=8,this.g("isTreeLink",e,t),null!==this.fromNode&&go(this.fromNode),null!==this.toNode&&go(this.toNode))}},path:{get:function(){var t=this.tb();return t instanceof sr?t:null}},routeBounds:{get:function(){this.xj();var t=this.Yl,e=1/0,i=1/0,n=this.pointsCount;if(0===n)t.h(NaN,NaN,0,0);else{if(1===n)n=this.i(0),e=Math.min(n.x,e),i=Math.min(n.y,i),t.h(n.x,n.y,0,0);else if(2===n){n=this.i(0);var r=this.i(1);e=Math.min(n.x,r.x),i=Math.min(n.y,r.y),t.h(n.x,n.y,0,0),t.Oe(r)}else if(this.computeCurve()===cl&&3<=n&&!this.isOrthogonal)if(r=this.i(0),t.h(e=r.x,i=r.y,0,0),3===n){n=this.i(1),e=Math.min(n.x,e),i=Math.min(n.y,i);var l=this.i(2);e=Math.min(l.x,e),i=Math.min(l.y,i),ti.vm(r.x,r.y,n.x,n.y,n.x,n.y,l.x,l.y,.5,t)}else for(l=3;l<n;l+=3){var v=this.i(l-2);l+3>=n&&(l=n-1);var _=this.i(l-1),D=this.i(l);ti.vm(r.x,r.y,v.x,v.y,_.x,_.y,D.x,D.y,.5,t),e=Math.min(D.x,e),i=Math.min(D.y,i),r=D}else for(r=this.i(0),l=this.i(1),e=Math.min(r.x,l.x),i=Math.min(r.y,l.y),t.h(r.x,r.y,0,0),t.Oe(l),r=2;r<n;r++)l=this.i(r),e=Math.min(l.x,e),i=Math.min(l.y,i),t.Oe(l);this.vv.h(e-t.x,i-t.y)}return t}},midPoint:{get:function(){return this.xj(),this.computeMidPoint(new ht)}},midAngle:{get:function(){return this.xj(),this.computeMidAngle()}},flattenedLengths:{get:function(){if(null===this.$r){this.ud||ys(this);for(var t=this.$r=[],e=this.pointsCount,i=0;i<e-1;i++){var n=this.i(i),r=this.i(i+1);ti.aa(n.x,r.x)?0>(n=r.y-n.y)&&(n=-n):ti.aa(n.y,r.y)?0>(n=r.x-n.x)&&(n=-n):n=Math.sqrt(n.Ie(r)),t.push(n)}}return this.$r}},flattenedTotalLength:{get:function(){var t=this.Ru;if(isNaN(t)){for(var e=this.flattenedLengths,i=e.length,n=t=0;n<i;n++)t+=e[n];this.Ru=t}return t}},points:{get:function(){return this.Ab},set:function(t){var e=this.Ab;if(e!==t){var i=null;if(Array.isArray(t)){var n=t.length%2==0;if(n)for(var r=0;r<t.length;r++)if("number"!=typeof t[r]||isNaN(t[r])){n=!1;break}if(n)for(i=new zt,n=0;n<t.length/2;n++)r=new ht(t[2*n],t[2*n+1]).freeze(),i.add(r);else{for(n=!0,r=0;r<t.length;r++){var l=t[r];if(!xt(l)||"number"!=typeof l.x||isNaN(l.x)||"number"!=typeof l.y||isNaN(l.y)){n=!1;break}}if(n)for(i=new zt,n=0;n<t.length;n++)i.add(new ht((r=t[n]).x,r.y).freeze())}}else if(t instanceof zt)for(i=t.copy(),t=i.iterator;t.next();)t.value.freeze();else U("Link.points value is not an instance of List or Array: "+t);i.freeze(),this.Ab=i,this.dc(),ys(this),null!==(t=this.diagram)&&(t.pj||t.undoManager.isUndoingRedoing||t.Yt.add(this),t.animationManager.sc&&(t=t.animationManager,this.jf=i,t.$l.add(this))),this.g("points",e,i)}}},pointsCount:{get:function(){return this.Ab.count}},ud:{get:function(){return 0!=(16&this.Ga)},set:function(t){0!=(16&this.Ga)!==t&&(this.Ga^=16)}},suspendsRouting:{get:function(){return 0!=(32&this.Ga)},set:function(t){0!=(32&this.Ga)!==t&&(this.Ga^=32)}},Ct:{get:function(){return 0!=(64&this.Ga)},set:function(t){0!=(64&this.Ga)!==t&&(this.Ga^=64)}},defaultFromPoint:{get:function(){return this.u},set:function(t){this.u=t.copy()}},defaultToPoint:{get:function(){return this.I},set:function(t){this.I=t.copy()}},isOrthogonal:{get:function(){return 2==(2&this.ck.value)}},isAvoiding:{get:function(){return 4==(4&this.ck.value)}},$m:{get:function(){return 0!=(128&this.Ga)},set:function(t){0!=(128&this.Ga)!==t&&(this.Ga^=128)}},geometry:{get:function(){return this.$m||(this.xj(),this.na=this.makeGeometry()),this.na}},firstPickIndex:{get:function(){return 2>=this.pointsCount?0:this.isOrthogonal||!vo(this.computeSpot(!0))?1:0}},lastPickIndex:{get:function(){var t=this.pointsCount;return 0===t?0:2>=t?t-1:this.isOrthogonal||!vo(this.computeSpot(!1))?t-2:t-1}},adjusting:{get:function(){return this.Yk},set:function(t){var e=this.Yk;e!==t&&(this.Yk=t,this.g("adjusting",e,t))}},corner:{get:function(){return this.Hn},set:function(t){var e=this.Hn;e!==t&&(this.Hn=t,this.dc(),this.g("corner",e,t))}},curve:{get:function(){return this.Jn},set:function(t){var e=this.Jn;e!==t&&(this.Jn=t,this.Ua(),this.dc(),Of(this,e===au||e===gd||t===au||t===gd),this.g("curve",e,t))}},curviness:{get:function(){return this.Kn},set:function(t){var e=this.Kn;e!==t&&(this.Kn=t,this.Ua(),this.dc(),this.g("curviness",e,t))}},routing:{get:function(){return this.ck},set:function(t){var e=this.ck;e!==t&&(this.ck=t,this.Vf=null,this.Ua(),Of(this,2==(2&e.value)||2==(2&t.value)),this.g("routing",e,t))}},smoothness:{get:function(){return this.Zp},set:function(t){var e=this.Zp;e!==t&&(this.Zp=t,this.dc(),this.g("smoothness",e,t))}},key:{get:function(){var t=this.diagram;if(null!==t&&t.model.qj())return t.model.Wb(this.data)}}}),Bi.prototype.invalidateOtherJumpOvers=Bi.prototype.Oq,Bi.prototype.findClosestSegment=Bi.prototype.Sz,Bi.prototype.updateRoute=Bi.prototype.xj,Bi.prototype.invalidateRoute=Bi.prototype.Ua,Bi.prototype.rollbackRoute=Bi.prototype.yw,Bi.prototype.commitRoute=Bi.prototype.xf,Bi.prototype.startRoute=Bi.prototype.Th,Bi.prototype.clearPoints=Bi.prototype.pk,Bi.prototype.removePoint=Bi.prototype.uw,Bi.prototype.addPointAt=Bi.prototype.vf,Bi.prototype.addPoint=Bi.prototype.ce,Bi.prototype.insertPointAt=Bi.prototype.m,Bi.prototype.insertPoint=Bi.prototype.wA,Bi.prototype.setPointAt=Bi.prototype.L,Bi.prototype.setPoint=Bi.prototype.Qc,Bi.prototype.getPoint=Bi.prototype.i,Bi.prototype.getOtherPort=Bi.prototype.nA,Bi.prototype.getOtherNode=Bi.prototype.Kq;var ih=null,Ba=null,Hl=new St(Bi,"Normal",1),Cu=new St(Bi,"Orthogonal",2),Rf=new St(Bi,"AvoidsNodes",6),$c=new St(Bi,"AvoidsNodesStraight",7),Fs=new St(Bi,"None",0),cl=new St(Bi,"Bezier",9),au=new St(Bi,"JumpGap",10),gd=new St(Bi,"JumpOver",11),up=new St(Bi,"End",17),hp=new St(Bi,"Scale",18),u0=new St(Bi,"Stretch",19),cp=new St(Bi,"OrientAlong",21),Gl=new St(Bi,"OrientPlus90",22),wc=new St(Bi,"OrientMinus90",23),fp=new St(Bi,"OrientOpposite",24),h0=new St(Bi,"OrientUpright",25),c0=new St(Bi,"OrientPlus90Upright",26),Xc=new St(Bi,"OrientMinus90Upright",27),lu=new St(Bi,"OrientUpright45",28),Lf=16,vd=14,Zc=8;function Su(t,e,i,n){Se(this),this.se=this.hs=!1,this.au=t,this.My=e,this.lw=i,this.Ny=n,this.links=[]}function f0(){Se(this),this.Vy=this.group=null,this.Rt=!0,this.abort=!1,this.Bd=this.Ad=1,this.So=this.Ro=-1,this.gc=this.fc=8,this.Rb=null,this.$i=this.Zi=0,this.Wy=11,this.Gy=124}function d0(t,e,i){return t.Ad<=e&&e<=t.Ro&&t.Bd<=i&&i<=t.So}function $h(t,e,i){return d0(t,e,i)?(e-=t.Ad,i-=t.Bd,t.Rb[0|(e/=t.fc)][0|(i/=t.gc)]):pp}function ty(t){if(null!==t.Rb)for(var e=0;e<=t.Zi;e++)for(var i=t.Rb[e],n=0;n<=t.$i;n++)i[n]>=dp&&(i[n]=pp)}function Mh(t,e,i,n,r,l,v,_,D){if(!(e<l||e>v||i<_||i>D)){var O=0|e,V=0|i,$=t.Rb[O][V];if($>=dp&&$<sm)for(r?V+=n:O+=n,$+=1;l<=O&&O<=v&&_<=V&&V<=D&&!($>=t.Rb[O][V]);)t.Rb[O][V]=$,$+=1,r?V+=n:O+=n;if(O=r?V:O,r)if(0<n)for(i+=n;i<O;i+=n)Mh(t,e,i,1,!r,l,v,_,D),Mh(t,e,i,-1,!r,l,v,_,D);else for(i+=n;i>O;i+=n)Mh(t,e,i,1,!r,l,v,_,D),Mh(t,e,i,-1,!r,l,v,_,D);else if(0<n)for(e+=n;e<O;e+=n)Mh(t,e,i,1,!r,l,v,_,D),Mh(t,e,i,-1,!r,l,v,_,D);else for(e+=n;e>O;e+=n)Mh(t,e,i,1,!r,l,v,_,D),Mh(t,e,i,-1,!r,l,v,_,D)}}function hv(t,e,i,n,r,l,v,_,D){var O=qc,V=dp;for(t.Rb[e|=0][i|=0]=V;O===qc&&e>l&&e<v&&i>_&&i<D;)t.Rb[e][i]=V+=1,r?i+=n:e+=n,O=t.Rb[e][i]}function Eg(t,e,i,n,r,l,v,_,D){var O=qc,V=sm;for(t.Rb[e|=0][i|=0]=V;O===qc&&e>l&&e<v&&i>_&&i<D;)t.Rb[e][i]=V,r?i+=n:e+=n,O=t.Rb[e][i]}function Dg(t,e,i,n,r,l,v){if(null!==t.Rb){t.abort=!1;var _=e.x,D=e.y;if(d0(t,_,D)){_-=t.Ad,_/=t.fc,D-=t.Bd,D/=t.gc;var O=n.x,V=n.y;if(d0(t,O,V))if(O-=t.Ad,O/=t.fc,V-=t.Bd,V/=t.gc,1>=Math.abs(_-O)&&1>=Math.abs(D-V))t.abort=!0;else{var $=l.x;n=l.y,e=l.x+l.width;var vt=l.y+l.height;$-=t.Ad,$/=t.fc,n-=t.Bd,n/=t.gc,e-=t.Ad,e/=t.fc,vt-=t.Bd,vt/=t.gc,l=Math.max(0,Math.min(t.Zi,0|$)),e=Math.min(t.Zi,Math.max(0,0|e)),$=Math.max(0,Math.min(t.$i,0|n)),vt=Math.min(t.$i,Math.max(0,0|vt)),O|=0,V|=0;var kt=0===i||90===i?1:-1;if(i=90===i||270===i,(n=t.Rb)[_|=0][D|=0]===qc?(hv(t,_,D,kt,i,l,e,$,vt),hv(t,_,D,1,!i,l,e,$,vt),hv(t,_,D,-1,!i,l,e,$,vt)):hv(t,_,D,kt,i,_,D,_,D),n[O][V]===qc?(Eg(t,O,V,0===r||90===r?1:-1,90===r||270===r,l,e,$,vt),Eg(t,O,V,1,!(90===r||270===r),l,e,$,vt),Eg(t,O,V,-1,!(90===r||270===r),l,e,$,vt)):Eg(t,O,V,kt,i,O,V,O,V),i=o(),v&&p0(t,O,V,r,_,D,i))for((i[0]!==O||i[1]!==V)&&(i.unshift(V),i.unshift(O)),(i[i.length-2]!==_||i[i.length-1]!==D)&&(i.push(_),i.push(D)),t=dp,n[r=i[i.length-2]][v=i[i.length-1]]=t++,l=i.length-4;0<=l;l-=2)for(r=i[l+2],v=i[l+3],e=i[l],O=i[l+1];e>r?r++:e<r?r--:O>v?v++:O<v&&v--,n[r][v]=t++,r!==e||v!==O;);else Mh(t,_,D,1,!1,l,e,$,vt),Mh(t,_,D,-1,!1,l,e,$,vt),Mh(t,_,D,1,!0,l,e,$,vt),Mh(t,_,D,-1,!0,l,e,$,vt);c(i)}}}}function p0(t,e,i,n,r,l,v){for(var _=t.Rb,D=e,O=i;;){if(D===r&&O===l)return!0;var V=D,$=O;if(0===n){if(!(V<r))break;V++}else if(90===n){if(!($<l))break;$++}else if(180===n){if(!(V>r))break;V--}else{if(!($>l))break;$--}var vt=_[V][$];if(0===vt||vt===cv)break;D=V,O=$}for(;;){if(V=n,$=D,vt=O,0===n?vt<l?(V=90,vt++):vt>l&&(V=270,vt--):90===n?$<r?(V=0,$++):$>r&&(V=180,$--):180===n?vt<l?(V=90,vt++):vt>l&&(V=270,vt--):$<r?(V=0,$++):$>r&&(V=180,$--),$=_[$][vt],V!==n&&0!==$&&$!==cv){if(v.push(D),v.push(O),p0(t,D,O,V,r,l,v))return!0;v.pop(),v.pop()}if(_[D][O]=cv,0===n){if(D===e)return!1;D--}else if(90===n){if(O===i)return!1;O--}else if(180===n){if(D===e)return!1;D++}else{if(O===i)return!1;O++}}}Bi.className="Link",Bi.Normal=Hl,Bi.Orthogonal=Cu,Bi.AvoidsNodes=Rf,Bi.AvoidsNodesStraight=$c,Bi.None=Fs,Bi.Bezier=cl,Bi.JumpGap=au,Bi.JumpOver=gd,Bi.End=up,Bi.Scale=hp,Bi.Stretch=u0,Bi.OrientAlong=cp,Bi.OrientPlus90=Gl,Bi.OrientMinus90=wc,Bi.OrientOpposite=fp,Bi.OrientUpright=h0,Bi.OrientPlus90Upright=c0,Bi.OrientMinus90Upright=Xc,Bi.OrientUpright45=lu,Bi.EndSegmentStep=8,Bi.CurvinessStart=Lf,Bi.SpacingMin=vd,Bi.OrthoShortCut=Zc,Bi.AvoidanceCell=8,Bi.AvoidanceLimit=999,Su.prototype.Dm=function(){if(!this.hs){var t=this.links;0<t.length&&null!==(t=t[0].diagram)&&(t.Tu.add(this),this.se=t.undoManager.isUndoingRedoing)}this.hs=!0},Su.prototype.Vw=function(){if(this.hs){this.hs=!1;var t=this.links;if(0<t.length){var e=t[0],i=e.diagram;i=null===i||i.pj&&!this.se,this.se=!1,e.arrangeBundledLinks(t,i),1===t.length&&(e.Mf=null,t.length=0)}0===t.length&&(t=this.au,null!==this&&null!==t.Se&&t.Se.remove(this),t=this.lw,null!==this&&null!==t.Se&&t.Se.remove(this))}},Su.className="LinkBundle",f0.prototype.initialize=function(t){if(!(0>=t.width||0>=t.height)){var e=t.y,i=t.x+t.width,n=t.y+t.height;if(this.Ad=Math.floor((t.x-this.fc)/this.fc)*this.fc,this.Bd=Math.floor((e-this.gc)/this.gc)*this.gc,this.Ro=Math.ceil((i+2*this.fc)/this.fc)*this.fc,this.So=Math.ceil((n+2*this.gc)/this.gc)*this.gc,t=1+(0|Math.ceil((this.Ro-this.Ad)/this.fc)),e=1+(0|Math.ceil((this.So-this.Bd)/this.gc)),null===this.Rb||this.Zi<t-1||this.$i<e-1){for(i=[],n=0;n<=t;n++)i[n]=new Uint32Array(e);this.Rb=i,this.Zi=t-1,this.$i=e-1}if(t=pp,null!==this.Rb)for(e=0;e<=this.Zi;e++)if((i=this.Rb[e]).fill)i.fill(t);else for(n=0;n<=this.$i;n++)i[n]=t}},f0.prototype.Ek=function(t,e,i,n){if(t>this.Ro||t+i<this.Ad||e>this.So||e+n<this.Bd)return!0;t=(t-this.Ad)/this.fc|0,e=(e-this.Bd)/this.gc|0,i=Math.max(0,i)/this.fc+1|0;var r=Math.max(0,n)/this.gc+1|0;if(0>t&&(i+=t,t=0),0>e&&(r+=e,e=0),0>i||0>r)return!0;for(n=0|Math.min(t+i-1,this.Zi),i=0|Math.min(e+r-1,this.$i);t<=n;t++){r=this.Rb[t];for(var l=e;l<=i;l++)if(r[l]===qc)return!1}return!0},H.Object.defineProperties(f0.prototype,{bounds:{get:function(){return new he(this.Ad,this.Bd,this.Ro-this.Ad,this.So-this.Bd)}},zq:{get:function(){return this.fc},set:function(t){0<t&&t!==this.fc&&(this.fc=t,this.initialize(this.bounds))}},yq:{get:function(){return this.gc},set:function(t){0<t&&t!==this.gc&&(this.gc=t,this.initialize(this.bounds))}}});var qc=0,dp=1,sm=999999,pp=sm+1,cv=sm+2;function m0(){Se(this),this.port=this.node=null,this.de=[],this.Sq=!1}function Qy(t,e,i,n){switch(e=e.offsetY){case 8:return 90;case 2:return 180;case 1:return 270;case 4:return 0}switch(e){case 9:return 180<i?270:90;case 6:return 90<i&&270>=i?180:0}switch(t=180*Math.atan2(t.height,t.width)/Math.PI,e){case 3:return i>t&&i<=180+t?180:270;case 5:return i>180-t&&i<=360-t?270:0;case 12:return i>t&&i<=180+t?90:0;case 10:return i>180-t&&i<=360-t?180:90;case 7:return 90<i&&i<=180+t?180:i>180+t&&i<=360-t?270:0;case 13:return 180<i&&i<=360-t?270:i>t&&180>=i?90:0;case 14:return i>t&&i<=180-t?90:i>180-t&&270>=i?180:0;case 11:return i>180-t&&i<=180+t?180:i>180+t?270:90}return n&&15!==e&&0>(i-=15)&&(i+=360),i>t&&i<180-t?90:i>=180-t&&i<=180+t?180:i>180+t&&i<360-t?270:0}function ey(t,e){var i=t.de;if(0===i.length){t:if(!t.Sq){i=t.Sq,t.Sq=!0;var n=null,r=t.node,l=r instanceof Qi?r:null;if(null===l||l.isSubGraphExpanded)var v=r.isTreeExpanded?r.findLinksConnected(t.port.portId):r.py();else{if(!l.actualBounds.o()){t.Sq=i;break t}v=(n=l).Rv()}l=t.de.length=0;var _=t.port.da(Hr,ht.alloc()),D=t.port.da(Zo,ht.alloc());for((r=he.allocAt(_.x,_.y,0,0)).Oe(D),ht.free(_),ht.free(D),_=ht.allocAt(r.x+r.width/2,r.y+r.height/2),D=t.port.lj(),v=v.iterator;v.next();){var O=v.value;if(O.isVisible()&&O.fromPort!==O.toPort){var V=O.fromPort===t.port||null!==O.fromNode&&O.fromNode.Kd(n),$=O.computeSpot(V,t.port);if($.Oc()){var vt=V?O.toPort:O.fromPort;if(null!==vt&&null!==(V=vt.part)){var kt=V.findVisibleNode();null!==kt&&kt!==V&&(vt=(V=kt).port),V=O.computeOtherPoint(V,vt),vt=_.Pa(vt.da(ar)),vt+=(_.Pa(V)-vt)/360,0>(vt-=D)?vt+=360:360<=vt&&(vt-=360),0===($=Qy(r,$,vt,O.isOrthogonal))?($=4,180<vt&&(vt-=360)):90===$?($=8,270<vt&&(vt-=360)):180===$?$=2:($=1,90>vt&&(vt+=360)),void 0===(kt=t.de[l])?(kt=new iy(O,vt,$),t.de[l]=kt):(kt.link=O,kt.angle=vt,kt.Ac=$),kt.ow.set(V),l++}}}}for(ht.free(_),t.de.sort(m0.prototype.l),D=t.de.length,n=-1,l=_=0;l<D;l++)void 0!==(v=t.de[l])&&(v.Ac!==n&&(n=v.Ac,_=0),v.Lq=_,_++);for(n=-1,_=0,l=D-1;0<=l;l--)void 0!==(D=t.de[l])&&(D.Ac!==n&&(n=D.Ac,_=D.Lq+1),D.wm=_);if(l=t.de,$=t.port,n=t.node.portSpreading,_=ht.alloc(),D=ht.alloc(),v=ht.alloc(),O=ht.alloc(),$.da(Hr,_),$.da(Vr,D),$.da(Zo,v),$.da(qs,O),kt=vt=V=$=0,n===Fo)for(var bt=0;bt<l.length;bt++){var Wt=l[bt];if(null!==Wt){var de=Wt.link.computeThickness();switch(Wt.Ac){case 8:vt+=de;break;case 2:kt+=de;break;case 1:$+=de;break;default:V+=de}}}var le=bt=0,we=1,Pe=Wt=0;for(de=0;de<l.length;de++){var Ke=l[de];if(null!==Ke){if(bt!==Ke.Ac){switch(bt=Ke.Ac){case 8:var ui=v;le=O;break;case 2:ui=O,le=_;break;case 1:ui=_,le=D;break;default:ui=D,le=v}switch(Wt=le.x-ui.x,Pe=le.y-ui.y,bt){case 8:vt>Math.abs(Wt)?(we=Math.abs(Wt)/vt,vt=Math.abs(Wt)):we=1;break;case 2:kt>Math.abs(Pe)?(we=Math.abs(Pe)/kt,kt=Math.abs(Pe)):we=1;break;case 1:$>Math.abs(Wt)?(we=Math.abs(Wt)/$,$=Math.abs(Wt)):we=1;break;default:V>Math.abs(Pe)?(we=Math.abs(Pe)/V,V=Math.abs(Pe)):we=1}le=0}var $i=Ke.Qq;if(n===Fo){switch(Ke=Ke.link.computeThickness(),Ke*=we,$i.set(ui),bt){case 8:$i.x=ui.x+Wt/2+vt/2-le-Ke/2;break;case 2:$i.y=ui.y+Pe/2+kt/2-le-Ke/2;break;case 1:$i.x=ui.x+Wt/2-$/2+le+Ke/2;break;default:$i.y=ui.y+Pe/2-V/2+le+Ke/2}le+=Ke}else{var vn=.5;n===Ko&&(vn=(Ke.Lq+1)/(Ke.wm+1)),$i.x=ui.x+Wt*vn,$i.y=ui.y+Pe*vn}}}for(ht.free(_),ht.free(D),ht.free(v),ht.free(O),ui=t.de,l=0;l<ui.length;l++)null!==(n=ui[l])&&(n.Pv=t.computeEndSegmentLength(n));t.Sq=i,he.free(r)}i=t.de}for(t=0;t<i.length;t++)if(null!==(r=i[t])&&r.link===e)return r;return null}function iy(t,e,i){this.link=t,this.angle=e,this.Ac=i,this.ow=new ht,this.wm=this.Lq=0,this.Qq=new ht,this.Pv=0}function Vm(){this.Ch=this.bh=us,this.Bh=this.ah=this.Ah=this.$g=NaN,this.kq=this.co=null,this.lq=this.eo=1/0}function Rr(){Se(this),this.u=this.B=null,this.zi=this.xo=!0,this.Co=!1,this.nn=new ht(0,0).freeze(),this.zo=!0,this.vn=this.yo=null,this.Bo=!1,this.l=null,this.I=0,this.To=this.qq=null,this.wt=!1,this.yg=this.ek=null,this.lt=!1}function As(t,e,i,n,r,l,v,_){for(i=i.iterator;i.next();){var D=i.value;n&&!D.isTopLevel||null!==r&&!r(D)||!D.canLayout()||(l&&D instanceof Si?D.isLinkLabel||(D instanceof Qi&&null===D.layout?As(t,e,D.memberParts,!1,r,l,v,_):(g0(D),e.add(D))):v&&D instanceof Bi?e.add(D):!_||!D.Nc()||D instanceof Si||(g0(D),e.add(D)))}}function g0(t){var e=t.actualBounds;(0===e.width||0===e.height||isNaN(e.width)||isNaN(e.height))&&t.Ta()}function _c(t,e){if(null!==t.workerStateChanged){var i={key:t.group?t.group.key:null};void 0!==e&&(i.time=e),null!==t.ek&&(i.running=Ag(t.ek)),null!==t.yg&&(i.waiting=Ag(t.yg)),t.workerStateChanged(i,t)}}function Ag(t){return{vertexes:t.vertexes.count,edges:t.edges.count}}function am(t,e){var i=jm(t);if(!i)throw Error("Unknown Layout class: "+t);if(e)for(var n in e)i[n]=e[n]}function jm(t){var e=null;if("function"==typeof t){if(!(e=v0.get(t))){var i=g(t);(e=v0.get(i))||((e=new d).Lv=t,e.name=i,e.l=t.name,e.Cy=L,v0.set(i,e),v0.set(t,e),v0.set(t.name,e))}}else"string"==typeof t&&(e=v0.get(t));return e}function ny(t,e){t.wt=!0;var i=jm(t.constructor),n=fv(t,e,!0);n._GoJS="_GoJS",i.Pe.postMessage(n),i.Fm.set(Ge(t),t),t.ek=e}function fv(t,e,i){t.onNetworkSerialization(1,i,e,null);var n={};t.serializeLayoutProperties(n,i);var r=[];e.vertexes.each(function(v){var _={};v.serializeVertexProperties(_,i),r.push(_)});var l=[];return e.edges.each(function(v){var _={};v.serializeEdgeProperties(_,i),l.push(_)}),n={id:i?Ge(t):t.id,layout:g(t.constructor),p:n,jB:r,Qz:l},t.onNetworkSerialization(2,i,e,n),n}function dv(t,e,i){i&&(t.id=e.id);var n=t.diagram,r=t.createNetwork();t.onNetworkSerialization(3,i,r,e);var l=e.jB,v=new yt;l&&l.forEach(function(O){var V=null;null===O.key||null===n||i||(V=n.Cb(O.key)),null!==V?V=r.mk(V):(V=r.createVertex(),r.Bg(V)),i&&null!==O.key&&(V.data={Di:O.key}),v.set(O.id,V)});var _=e.Qz,D=new yt;return _&&_.forEach(function(O){var V=null;null===O.key||null===n||i||(V=n.findLinkForKey(O.key));var $=r.createEdge();r.tm($),$.link=V,i&&null!==O.key&&($.data={Di:O.key}),D.set(O.id,$)}),l&&l.forEach(function(O){var V=v.get(O.id);V&&V.Cq(O,v,D,i)}),_&&_.forEach(function(O){var V=D.get(O.id);V&&V.deserializeEdgeProperties(O,v,D,i)}),t.deserializeLayoutProperties(e.p,v,D,i,r),t.onNetworkSerialization(4,i,r,e),r}f0.className="PositionArray",m0.prototype.toString=function(){for(var t=this.de,e=this.node.toString()+" "+t.length.toString()+":",i=0;i<t.length;i++){var n=t[i];null!==n&&(e+="\n  "+n.toString())}return e},m0.prototype.Dm=function(){this.de.length=0},m0.prototype.l=function(t,e){return t===e?0:null===t?-1:null===e?1:t.Ac<e.Ac?-1:t.Ac>e.Ac?1:t.angle<e.angle?-1:t.angle>e.angle?1:0},m0.prototype.computeEndSegmentLength=function(t){var e=t.link,i=e.computeEndSegmentLength(this.node,this.port,xr,e.fromPort===this.port),n=t.Lq;if(0>n)return i;var r=t.wm;if(1>=r||!e.isOrthogonal)return i;e=t.ow;var l=t.Qq;return(2===t.Ac||8===t.Ac)&&(n=r-1-n),((t=2===t.Ac||4===t.Ac)?e.y<l.y:e.x<l.x)?i+8*n:(t?e.y===l.y:e.x===l.x)?i:i+8*(r-1-n)},m0.className="Knot",iy.prototype.toString=function(){return this.link.toString()+" "+this.angle.toString()+" "+this.Ac.toString()+":"+this.Lq.toString()+"/"+this.wm.toString()+" "+this.Qq.toString()+" "+this.Pv.toString()+" "+this.ow.toString()},iy.className="LinkInfo",Vm.prototype.copy=function(){var t=new Vm;return t.bh=this.bh.H(),t.Ch=this.Ch.H(),t.$g=this.$g,t.Ah=this.Ah,t.ah=this.ah,t.Bh=this.Bh,t.co=this.co,t.kq=this.kq,t.eo=this.eo,t.lq=this.lq,t},Vm.className="LinkSettings",Rr.prototype.cloneProtected=function(t){t.xo=this.xo,t.zi=this.zi,t.Co=this.Co,t.nn.assign(this.nn),t.zo=this.zo,t.yo=this.yo,t.vn=this.vn,t.Bo=!0,t.To=this.To,t.qq=this.qq},Rr.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},Rr.prototype.serializeLayoutProperties=function(t){t.arrangementOrigin={x:this.arrangementOrigin.x,y:this.arrangementOrigin.y},t.isRouting=this.isRouting},Rr.prototype.deserializeLayoutProperties=function(t){null!==t&&(this.arrangementOrigin=new ht(t.arrangementOrigin.x,t.arrangementOrigin.y),this.isRouting=t.isRouting)},Rr.prototype.jb=function(){},Rr.prototype.toString=function(){var t=g(this.constructor);return t+="(",null!==this.group&&(t+=" in "+this.group),null!==this.diagram&&(t+=" for "+this.diagram),t+")"},Rr.prototype.C=function(){if(this.isValidLayout){var t=this.diagram;if(null!==t&&!t.undoManager.isUndoingRedoing){var e=t.animationManager;!e.isTicking&&(e.defaultAnimation.isAnimating&&e.Bc(),this.isOngoing&&t.pj||this.isInitial&&!t.pj)&&(this.isValidLayout=!1,t.Db())}}},Rr.prototype.createNetwork=function(){return new P(this)},Rr.prototype.makeNetwork=function(t){var e=this.createNetwork();return t instanceof di?(e.Ag(t.nodes,!0),e.Ag(t.links,!0)):e.Ag(t instanceof Qi?t.memberParts:t.iterator),e},Rr.prototype.updateParts=function(){if(this.isValidLayout=!0,!this.workerLayout()){var t=this.diagram;if(null===t&&null!==this.network)for(var e=this.network.vertexes.iterator;e.next();){var i=e.value.node;if(null!==i&&null!==(t=i.diagram))break}try{null!==t&&t.xa("Layout"),this.commitLayout()}finally{null!==t&&t.Xa("Layout")}}},Rr.prototype.commitLayout=function(){if(null!==this.network){for(var t=this.network.vertexes.iterator;t.next();)t.value.commit();if(this.isRouting)for(t=this.network.edges.iterator;t.next();)t.value.commit()}},Rr.prototype.doLayout=function(t){var e=new Pt;t instanceof di?(As(this,e,t.nodes,!0,this.Rh,!0,!1,!0),As(this,e,t.parts,!0,this.Rh,!0,!1,!0)):t instanceof Qi?As(this,e,t.memberParts,!1,this.Rh,!0,!1,!0):e.addAll(t.iterator),0<e.count&&(null!==(t=this.diagram)&&t.xa("Layout"),this.doMinimalNoNetworkLayout(e),null!==t&&t.Xa("Layout")),this.isValidLayout=!0},Rr.prototype.doMinimalNoNetworkLayout=function(t){var e=Math.ceil(Math.sqrt(t.count));this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);var i=this.arrangementOrigin.x,n=i,r=this.arrangementOrigin.y,l=0,v=0;for(t=t.iterator;t.next();){var _=t.value;g0(_);var D=_.measuredBounds,O=D.width;D=D.height,_.moveTo(n,r),_ instanceof Qi&&(_.Rh=!1),n+=Math.max(O,50)+20,v=Math.max(v,Math.max(D,50)),l>=e-1?(l=0,n=i,r+=v+20,v=0):l++}},Rr.prototype.doMinimalNetworkLayout=function(){var t=Math.ceil(Math.sqrt(this.network.vertexes.count));this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);for(var e=this.arrangementOrigin.x,i=e,n=this.arrangementOrigin.y,r=0,l=0,v=this.network.vertexes.iterator;v.next();){var _=v.value.node;if(!(null===_||_ instanceof Bi)&&(g0(_),this.Rh(_))){var D=_.measuredBounds,O=D.width;D=D.height,_.moveTo(i,n),_ instanceof Qi&&(_.Rh=!1),i+=Math.max(O,50)+20,l=Math.max(l,Math.max(D,50)),r>=t-1?(r=0,i=e,n+=l+20,l=0):r++}}},Rr.prototype.Rh=function(t){return!(t.location.o()&&!(t instanceof Qi&&t.Rh))},Rr.prototype.nj=function(t,e){var i=this.boundsComputation;return null!==i?(e||(e=new he),i(t,this,e)):e?(e.set(t.actualBounds),e):t.actualBounds},Rr.prototype.$x=function(t){var e=new Pt;return t instanceof di?(As(this,e,t.nodes,!0,null,!0,!0,!0),As(this,e,t.links,!0,null,!0,!0,!0),As(this,e,t.parts,!0,null,!0,!0,!0)):As(this,e,t instanceof Qi?t.memberParts:t.iterator,!1,null,!0,!0,!0),e},Rr.prototype.initialOrigin=function(t){var e=this.group;if(null!==e){var i=e.position.copy();return(isNaN(i.x)||isNaN(i.y))&&i.set(t),null!==(e=e.placeholder)&&(i=e.da(Hr),(isNaN(i.x)||isNaN(i.y))&&i.set(t),i.x+=(t=e.padding).left,i.y+=t.top),i}return t},Rr.prototype.mayUseWorker=function(){return!!this.mayUseWorkerFunction&&this.mayUseWorkerFunction(this)},Rr.prototype.workerLayout=function(){return!1},Rr.prototype.zz=function(){var t=jm(this.constructor);t&&(null!==t.Pe&&t.Pe.terminate(),t.Pe=null,t.Fm.iteratorValues.each(function(e){e.wt=!1,e.ek=null,e.yg=null,e.lt=!1,_c(e)}),t.Fm.clear())},Rr.prototype.Uw=function(){if("undefined"==typeof Worker||!nt||"undefined"==typeof self||void 0!==self.DedicatedWorkerGlobalScope)return!1;if(!this.mayUseWorker())return this.wt&&(this.lt=!0,this.yg=this.ek=null,_c(this)),!1;var t=jm(this.constructor);return null!==t&&(null===t.Pe&&(t.Pe=new Worker(nt),t.Pe.onerror=function(e){e.preventDefault(),lt("Worker Error at: "+e.filename+" "+e.lineno+" "+e.colno+"\n  "+e.message)},t.Pe.l=function(e){lt("Worker serialization error: "+e)},t.Pe.onmessage=function(e){var i=e.data;if("_GoJS"===i._GoJS)if(i.version&&di.version&&i.version!==di.version)lt("Failure: GoJS v"+di.version+"  Worker v"+i.version);else if(e=t.Fm.get(i.id)){if(t.Fm.remove(i.id),e.wt=!1,e.ek=null,e.lt)e.lt=!1,e.yg=null;else{var n=dv(e,i,!1);e.network=n,e.updateParts(),e.network=null,e.isValidLayout=!0}if(_c(e,i.time),null!==(i=e.yg))e.yg=null;else for(n=t.Fm.iteratorValues;n.next();){var r=n.value;if(null!==(i=r.yg)){r.yg=null;break}}null!==i&&ny(e,i)}},t.Pe.postMessage({_GoJS:"_GoJS",url:t.Cy}),Array.isArray(t.scripts)&&t.scripts.forEach(function(e){t.Pe.postMessage({_GoJS:"_GoJS",url:e})}),t.Pe.postMessage({_GoJS:"_GoJS",version:-1})),null!==this.ek?this.yg=this.network:ny(this,this.network),_c(this),this.doMinimalNetworkLayout(),this.network=null,this.isValidLayout=!0)},Rr.prototype.onNetworkSerialization=function(){},H.Object.defineProperties(Rr.prototype,{diagram:{get:function(){return this.B},set:function(t){this.B=t}},group:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t,null!==t&&(this.B=t.diagram))}},isOngoing:{get:function(){return this.xo},set:function(t){this.xo!==t&&(this.xo=t)}},isInitial:{get:function(){return this.zi},set:function(t){this.zi=t,t||(this.Bo=!0)}},isViewportSized:{get:function(){return this.Co},set:function(t){this.Co!==t&&(this.Co=t)&&this.C()}},isRouting:{get:function(){return this.zo},set:function(t){this.zo!==t&&(this.zo=t)}},isRealtime:{get:function(){return this.yo},set:function(t){this.yo!==t&&(this.yo=t)}},isValidLayout:{get:function(){return this.Bo},set:function(t){this.Bo!==t&&(this.Bo=t,t||null!==(t=this.diagram)&&(t.Ng=!0))}},network:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t,null!==t&&(t.layout=this))}},boundsComputation:{get:function(){return this.vn},set:function(t){this.vn!==t&&(this.vn=t,this.C())}},arrangementOrigin:{get:function(){return this.nn},set:function(t){this.nn.w(t)||(this.nn.assign(t),this.C())}},id:{get:function(){return this.I},set:function(t){this.I=t}},mayUseWorkerFunction:{get:function(){return this.To},set:function(t){this.To!==t&&(this.To=t)}},workerStateChanged:{get:function(){return this.qq},set:function(t){this.qq!==t&&(this.qq=t)}}}),Rr.prototype.useWorker=Rr.prototype.Uw,Rr.declareWorkerLayout=am,Rr.prototype.cancelWorker=Rr.prototype.zz,Rr.prototype.collectParts=Rr.prototype.$x,Rr.prototype.getLayoutBounds=Rr.prototype.nj,Rr.prototype.invalidateLayout=Rr.prototype.C;var v0=new yt,L="object"==typeof B.document&&B.document.currentScript?B.document.currentScript.src:"",nt="undefined"!=typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof Blob?URL.createObjectURL(new Blob(["self.onmessage=function(e){if(e.data.url){\nimportScripts(e.data.url);}}"],{type:"text/javascript"})):"";function d(){this.Lv=null,this.Cy=this.l=this.name="",this.scripts=[],this.Pe=null,this.Fm=new yt}function P(t){Se(this),this.kc=t,this.tf=new Pt,this.le=new Pt,this.bu=new yt,this.Xt=new yt}function _t(t,e){if(null===e)return!1;var i=t.tf.remove(e);return i&&null!==(e=e.node)&&t.bu.remove(e),i}function Jt(t,e){if(null!==e){t.le.add(e);var i=e.link;null!==i&&null===t.Eq(i)&&t.Xt.add(i,e),e.network=t}}function Ze(t,e){null!==e&&t.le.remove(e)&&null!==(e=e.link)&&t.Xt.remove(e)}function Wi(t,e,i){if(null!==i&&i.network!==e){_t(t,i),e.Bg(i);for(var n=i.sourceEdges;n.next();){var r=n.value;r.network!==e&&(Ze(t,r),Jt(e,r),Wi(t,e,r.fromVertex))}for(n=i.destinationEdges;n.next();)(i=n.value).network!==e&&(Ze(t,i),Jt(e,i),Wi(t,e,i.toVertex))}}function Gi(t){Se(this),this.Tc=t,this.l=new he(0,0,10,10).freeze(),this.u=new ht(5,5).freeze(),this.Mi=this.ob=null,this.td=new zt,this.Gd=new zt}function sn(t,e){return e=e.Mi,(t=t.Mi)?e?(t=t.text)<(e=e.text)?-1:t>e?1:0:1:null!==e?-1:0}function Un(t){Se(this),this.Sc=t,this.ed=this.Yc=this.Nl=this.ob=null}function fr(){Rr.call(this),this.isViewportSized=!0,this.rq=this.sq=NaN,this.Qg=new De(NaN,NaN).freeze(),this.lf=new De(10,10).freeze(),this.yb=Ro,this.Eb=fa,this.bd=Cl,this.Wc=Lr}function Lr(t,e){return(t=t.text)<(e=e.text)?-1:t>e?1:0}Rr.className="Layout",Rr.GoJSScriptURL=L,Rr.declareWorkerLayout=am,"undefined"!=typeof self&&void 0!==self.DedicatedWorkerGlobalScope&&"undefined"!=typeof self&&void 0!==self.DedicatedWorkerGlobalScope&&(self.onmessage=function(t){if("_GoJS"===(t=t.data)._GoJS)if(t.url)importScripts(t.url);else if(t.version)self.postMessage({_GoJS:"_GoJS",version:di.version},void 0);else{var e=performance.now(),i=null;t.layout&&(i=jm(t.layout));var n=null;if(i&&i.Lv&&(n=new i.Lv),!n)throw Error("no registered Worker Layout: "+t.layout);n.network=dv(n,t,!0),n.workerLayout=function(){var r=fv(n,n.network,!1);return r._GoJS="_GoJS",r.time=performance.now()-e,self.postMessage(r,void 0),!0},n.doLayout(new zt)}}),P.prototype.clear=function(){if(this.tf)for(var t=this.tf.iterator;t.next();)t.value.clear();if(this.le)for(t=this.le.iterator;t.next();)t.value.clear();this.tf=new Pt,this.le=new Pt,this.bu=new yt,this.Xt=new yt},P.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutNetwork"+(null!==this.layout?"("+this.layout.toString()+")":"");if(0>=t)return e;if(e+=" vertexes: "+this.tf.count+" edges: "+this.le.count,1<t){for(var i=this.tf.iterator;i.next();)e+="\n    "+i.value.toString(t-1);for(i=this.le.iterator;i.next();)e+="\n    "+i.value.toString(t-1)}return e},P.prototype.createVertex=function(){return new Gi(this)},P.prototype.createEdge=function(){return new Un(this)},P.prototype.Ag=function(t,e,i){if(null!==t){for(void 0===e&&(e=!1),void 0===i&&(i=null),null===i&&(i=function(v){if(v instanceof Si)return!v.isLinkLabel;if(v instanceof Bi){var _=v.fromNode;return null!==_&&!_.isLinkLabel&&!(null===(v=v.toNode)||v.isLinkLabel)}return!1}),t=t.iterator;t.next();){var n=t.value;if(n instanceof Si&&(!e||n.isTopLevel)&&n.canLayout()&&i(n))if(n instanceof Qi&&null===n.layout)this.Ag(n.memberParts,!1);else if(null===this.kj(n)){var r=this.createVertex();r.node=n,this.Bg(r)}}for(t.reset();t.next();)if((n=t.value)instanceof Bi&&(!e||n.isTopLevel)&&n.canLayout()&&i(n)&&null===this.Eq(n)){var l=n.fromNode;r=n.toNode,null!==l&&null!==r&&l!==r&&(l=this.findGroupVertex(l),r=this.findGroupVertex(r),null!==l&&null!==r&&this.Fk(l,r,n))}}},P.prototype.findGroupVertex=function(t){if(null===t)return null;var e=t.findVisibleNode();if(null===e)return null;if(null!==(t=this.kj(e)))return t;for(e=e.containingGroup;null!==e;){if(null!==(t=this.kj(e)))return t;e=e.containingGroup}return null},(Q=P.prototype).Bg=function(t){if(null!==t){this.tf.add(t);var e=t.node;null!==e&&this.bu.add(e,t),t.network=this}},Q.mk=function(t){if(null===t)return null;var e=this.kj(t);return null===e&&((e=this.createVertex()).node=t,this.Bg(e)),e},Q.Ov=function(t){if(null!==t&&_t(this,t)){for(var e=t.td,i=e.count-1;0<=i;i--){var n=e.J(i);this.vk(n)}for(t=(e=t.Gd).count-1;0<=t;t--)i=e.J(t),this.vk(i)}},Q.Lz=function(t){null!==t&&null!==(t=this.kj(t))&&this.Ov(t)},Q.kj=function(t){return null===t?null:this.bu.G(t)},Q.tm=function(t){if(null!==t){Jt(this,t);var e=t.toVertex;null!==e&&e.Ev(t),null!==(e=t.fromVertex)&&e.Cv(t)}},Q.oz=function(t){if(null===t)return null;var e=t.fromNode,i=t.toNode,n=this.Eq(t);return null===n?((n=this.createEdge()).link=t,null!==e&&(n.fromVertex=this.mk(e)),null!==i&&(n.toVertex=this.mk(i)),this.tm(n)):(n.fromVertex=null!==e?this.mk(e):null,n.toVertex=null!==i?this.mk(i):null),n},Q.vk=function(t){if(null!==t){var e=t.toVertex;null!==e&&e.Nv(t),null!==(e=t.fromVertex)&&e.Mv(t),Ze(this,t)}},Q.Kz=function(t){null!==t&&null!==(t=this.Eq(t))&&this.vk(t)},Q.Eq=function(t){return null===t?null:this.Xt.G(t)},Q.Fk=function(t,e,i){if(null===t||null===e)return null;if(t.network===this&&e.network===this){var n=this.createEdge();return n.link=i,n.fromVertex=t,n.toVertex=e,this.tm(n),n}return null},Q.Rm=function(t){if(null!==t){var e=t.fromVertex,i=t.toVertex;null!==e&&null!==i&&(e.Mv(t),i.Nv(t),t.Rm(),e.Ev(t),i.Cv(t))}},Q.Bq=function(){for(var t=o(),e=this.le.iterator;e.next();){var i=e.value;i.fromVertex===i.toVertex&&t.push(i)}for(e=t.length,i=0;i<e;i++)this.vk(t[i]);c(t)},P.prototype.deleteArtificialVertexes=function(){for(var t=o(),e=this.tf.iterator;e.next();){var i=e.value;null===i.node&&null===i.data&&t.push(i)}for(i=t.length,e=0;e<i;e++)this.Ov(t[e]);for(e=o(),i=this.le.iterator;i.next();){var n=i.value;null===n.link&&null===n.data&&e.push(n)}for(i=e.length,n=0;n<i;n++)this.vk(e[n]);c(t),c(e)},P.prototype.Xy=function(t){void 0===t&&(t=!0),t&&(this.deleteArtificialVertexes(),function(t){for(var e=o(),i=t.le.iterator;i.next();){var n=i.value;null!==n.fromVertex&&null!==n.toVertex||e.push(n)}for(i=e.length,n=0;n<i;n++)t.vk(e[n]);c(e)}(this),this.Bq()),t=new zt;for(var e=!0;e;){e=!1;for(var i=this.tf.iterator;i.next();){var n=i.value;if(0<n.td.count||0<n.Gd.count){e=this.layout.createNetwork(),t.add(e),Wi(this,e,n),e=!0;break}}}return t.sort(function(r,l){return null===r||null===l||r===l?0:l.vertexes.count-r.vertexes.count}),t},P.prototype.Rz=function(){for(var t=new Pt,e=this.tf.iterator;e.next();)t.add(e.value.node);for(e=this.le.iterator;e.next();)t.add(e.value.link);return t},H.Object.defineProperties(P.prototype,{layout:{get:function(){return this.kc},set:function(t){null!==t&&(this.kc=t)}},vertexes:{get:function(){return this.tf}},edges:{get:function(){return this.le}}}),P.prototype.findAllParts=P.prototype.Rz,P.prototype.splitIntoSubNetworks=P.prototype.Xy,P.prototype.deleteSelfEdges=P.prototype.Bq,P.prototype.reverseEdge=P.prototype.Rm,P.prototype.linkVertexes=P.prototype.Fk,P.prototype.findEdge=P.prototype.Eq,P.prototype.deleteLink=P.prototype.Kz,P.prototype.deleteEdge=P.prototype.vk,P.prototype.addLink=P.prototype.oz,P.prototype.addEdge=P.prototype.tm,P.prototype.findVertex=P.prototype.kj,P.prototype.deleteNode=P.prototype.Lz,P.prototype.deleteVertex=P.prototype.Ov,P.prototype.addNode=P.prototype.mk,P.prototype.addVertex=P.prototype.Bg,P.prototype.addParts=P.prototype.Ag,P.className="LayoutNetwork",Gi.prototype.serializeVertexProperties=function(t){t.id=Ge(this),t.key=this.node?this.node.key:this.data?this.data.Di:void 0,void 0===t.key&&(t.key=null),t.x=this.bounds.x,t.y=this.bounds.y,t.kB=this.bounds.width,t.tA=this.bounds.height,t.fx=this.focus.x,t.fy=this.focus.y;var e=[];this.td.each(function(n){e.push(Ge(n))}),t.Uy=e;var i=[];this.Gd.each(function(n){i.push(Ge(n))}),t.jy=i},Gi.prototype.Cq=function(t,e,i){if(null!==t){this.x=t.x,this.y=t.y,this.width=t.kB,this.height=t.tA,this.focusX=t.fx,this.focusY=t.fy;var n=this;t.Uy&&t.Uy.forEach(function(r){(r=i.get(r))&&n.td.add(r)}),t.jy&&t.jy.forEach(function(r){(r=i.get(r))&&n.Gd.add(r)})}},Gi.prototype.clear=function(){this.Mi=this.ob=null,this.td=new zt,this.Gd=new zt},Gi.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutVertex#"+Ge(this);if(0<t&&(e+=null!==this.node?"("+this.node.toString()+")":"",1<t)){t="";for(var i=!0,n=this.td.iterator;n.next();){var r=n.value;i?i=!1:t+=",",t+=r.toString(0)}for(r="",i=!0,n=this.Gd.iterator;n.next();)i?i=!1:r+=",",r+=n.value.toString(0);e+=" sources: "+t+" destinations: "+r}return e},Gi.prototype.commit=function(){var t=this.ob;if(null!==t){var e=this.bounds,i=t.bounds;xt(i)?(i.x=e.x,i.y=e.y,i.width=e.width,i.height=e.height):t.bounds=e.copy()}else if(null!==(t=this.node)){if(e=this.bounds,!(t instanceof Qi)){i=he.alloc();var n=this.network.layout.nj(t,i),r=t.locationObject.da(ar);if(n.o()&&r.o())return t.moveTo(e.x+this.focusX-(r.x-n.x),e.y+this.focusY-(r.y-n.y)),void he.free(i);he.free(i)}t.moveTo(e.x,e.y)}},Gi.prototype.Ev=function(t){null!==t&&(this.td.contains(t)||this.td.add(t))},Gi.prototype.Nv=function(t){null!==t&&this.td.remove(t)},Gi.prototype.Cv=function(t){null!==t&&(this.Gd.contains(t)||this.Gd.add(t))},Gi.prototype.Mv=function(t){null!==t&&this.Gd.remove(t)},H.Object.defineProperties(Gi.prototype,{sourceEdgesArrayAccess:{get:function(){return this.td._dataArray}},destinationEdgesArrayAccess:{get:function(){return this.Gd._dataArray}},data:{get:function(){return this.ob},set:function(t){if(this.ob=t,null!==t&&t.bounds){var e=t.bounds;t=e.x;var i=e.y,n=e.width;this.u.h(n/2,(e=e.height)/2),this.l.h(t,i,n,e)}}},node:{get:function(){return this.Mi},set:function(t){if(this.Mi!==t){this.Mi=t,t.Ta();var e=this.network.layout,i=he.alloc(),n=e.nj(t,i);e=n.x;var r=n.y,l=n.width;if(n=n.height,isNaN(e)&&(e=0),isNaN(r)&&(r=0),this.l.h(e,r,l,n),he.free(i),!(t instanceof Qi)&&(t=t.locationObject.da(ar)).o())return void this.u.h(t.x-e,t.y-r);this.u.h(l/2,n/2)}}},bounds:{get:function(){return this.l},set:function(t){this.l.w(t)||this.l.assign(t)}},focus:{get:function(){return this.u},set:function(t){this.u.w(t)||this.u.assign(t)}},centerX:{get:function(){return this.l.x+this.u.x},set:function(t){var e=this.l;e.x+this.u.x!==t&&(e.ea(),e.x=t-this.u.x,e.freeze())}},centerY:{get:function(){return this.l.y+this.u.y},set:function(t){var e=this.l;e.y+this.u.y!==t&&(e.ea(),e.y=t-this.u.y,e.freeze())}},focusX:{get:function(){return this.u.x},set:function(t){var e=this.u;e.x!==t&&(e.ea(),e.x=t,e.freeze())}},focusY:{get:function(){return this.u.y},set:function(t){var e=this.u;e.y!==t&&(e.ea(),e.y=t,e.freeze())}},x:{get:function(){return this.l.x},set:function(t){var e=this.l;e.x!==t&&(e.ea(),e.x=t,e.freeze())}},y:{get:function(){return this.l.y},set:function(t){var e=this.l;e.y!==t&&(e.ea(),e.y=t,e.freeze())}},width:{get:function(){return this.l.width},set:function(t){var e=this.l;e.width!==t&&(e.ea(),e.width=t,e.freeze())}},height:{get:function(){return this.l.height},set:function(t){var e=this.l;e.height!==t&&(e.ea(),e.height=t,e.freeze())}},network:{get:function(){return this.Tc},set:function(t){this.Tc=t}},sourceVertexes:{get:function(){for(var t=new Pt,e=this.sourceEdges;e.next();)t.add(e.value.fromVertex);return t.iterator}},destinationVertexes:{get:function(){for(var t=new Pt,e=this.destinationEdges;e.next();)t.add(e.value.toVertex);return t.iterator}},vertexes:{get:function(){for(var t=new Pt,e=this.sourceEdges;e.next();)t.add(e.value.fromVertex);for(e=this.destinationEdges;e.next();)t.add(e.value.toVertex);return t.iterator}},sourceEdges:{get:function(){return this.td.iterator}},destinationEdges:{get:function(){return this.Gd.iterator}},edges:{get:function(){for(var t=new zt,e=this.sourceEdges;e.next();)t.add(e.value);for(e=this.destinationEdges;e.next();)t.add(e.value);return t.iterator}},edgesCount:{get:function(){return this.td.count+this.Gd.count}}}),Gi.prototype.deleteDestinationEdge=Gi.prototype.Mv,Gi.prototype.addDestinationEdge=Gi.prototype.Cv,Gi.prototype.deleteSourceEdge=Gi.prototype.Nv,Gi.prototype.addSourceEdge=Gi.prototype.Ev,Gi.className="LayoutVertex",Gi.standardComparer=sn,Gi.smartComparer=function(t,e){if(null!==t){if(null!==e){var i=e.Mi;if(null!==(t=t.Mi)){if(null!==i){for(e=t.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),t=i.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),i=0;i<e.length;i++)if(""!==t[i]&&void 0!==t[i]){var n=parseFloat(e[i]),r=parseFloat(t[i]);if(isNaN(n)){if(!isNaN(r))return 1;if(0!==e[i].localeCompare(t[i]))return e[i].localeCompare(t[i])}else{if(isNaN(r))return-1;if(n-r!=0)return n-r}}else if(""!==e[i])return 1;return""!==t[i]&&void 0!==t[i]?-1:0}return 1}return null!==i?-1:0}return 1}return null!==e?-1:0},Un.prototype.clear=function(){this.ed=this.Yc=this.Nl=this.ob=null},Un.prototype.serializeEdgeProperties=function(t){t.id=Ge(this),t.key=this.link?this.link.key:this.data?this.data.Di:void 0,void 0===t.key&&(t.key=null),t.from=this.fromVertex?Ge(this.fromVertex):null,t.fB=this.toVertex?Ge(this.toVertex):null},Un.prototype.deserializeEdgeProperties=function(t,e){if(null!==t){var i=e.get(t.from);i&&(this.fromVertex=i),(t=e.get(t.fB))&&(this.toVertex=t)}},Un.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutEdge#"+Ge(this);return 0<t&&(e+=null!==this.Nl?"("+this.Nl.toString()+")":"",1<t&&(e+=" "+(this.Yc?this.Yc.toString():"null")+" --\x3e "+(this.ed?this.ed.toString():"null"))),e},Un.prototype.Rm=function(){var t=this.Yc;this.Yc=this.ed,this.ed=t},Un.prototype.commit=function(){},Un.prototype.zy=function(t){return this.ed===t?this.Yc:this.Yc===t?this.ed:null},H.Object.defineProperties(Un.prototype,{network:{get:function(){return this.Sc},set:function(t){this.Sc=t}},data:{get:function(){return this.ob},set:function(t){this.ob!==t&&(this.ob=t)}},link:{get:function(){return this.Nl},set:function(t){this.Nl!==t&&(this.Nl=t)}},fromVertex:{get:function(){return this.Yc},set:function(t){this.Yc!==t&&(this.Yc=t)}},toVertex:{get:function(){return this.ed},set:function(t){this.ed!==t&&(this.ed=t)}}}),Un.prototype.getOtherVertex=Un.prototype.zy,Un.className="LayoutEdge",Z(fr,Rr),fr.prototype.cloneProtected=function(t){Rr.prototype.cloneProtected.call(this,t),t.sq=this.sq,t.rq=this.rq,t.Qg.assign(this.Qg),t.lf.assign(this.lf),t.yb=this.yb,t.Eb=this.Eb,t.bd=this.bd,t.Wc=this.Wc},fr.prototype.jb=function(t){t.classType===fr?t===Cl||t===ry||t===Za||t===qa?this.sorting=t:t===fa||t===es?this.arrangement=t:t===Ro||t===wo?this.alignment=t:U("Unknown enum value: "+t):Rr.prototype.jb.call(this,t)},fr.prototype.doLayout=function(t){this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);var e=this.$x(t);t=this.diagram;for(var i=e.copy().iterator;i.next();){var n=i.value;if(!n.Ph()||null===n.fromNode&&null===n.toNode){if(n.Ta(),n instanceof Qi)for(n=n.memberParts;n.next();)e.remove(n.value)}else e.remove(n)}var r=e.ma();if(0!==r.length){switch(this.sorting){case qa:r.reverse();break;case Cl:r.sort(this.comparer);break;case ry:r.sort(this.comparer),r.reverse()}var l=this.wrappingColumn;isNaN(l)&&(l=0);var v=this.wrappingWidth;switch(isNaN(v)&&null!==t?(e=t.padding,v=Math.max(t.viewportBounds.width-e.left-e.right,0)):v=Math.max(this.wrappingWidth,0),0>=l&&0>=v&&(l=1),e=this.spacing.width,isFinite(e)||(e=0),i=this.spacing.height,isFinite(i)||(i=0),null!==t&&t.xa("Layout"),n=[],this.alignment){case wo:var _=e,D=i,O=he.alloc(),V=Math.max(this.cellSize.width,1);if(!isFinite(V))for(var $=V=0;$<r.length;$++){var vt=this.nj(r[$],O);V=Math.max(V,vt.width)}if(V=Math.max(V+_,1),$=Math.max(this.cellSize.height,1),!isFinite($))for(vt=$=0;vt<r.length;vt++){var kt=this.nj(r[vt],O);$=Math.max($,kt.height)}$=Math.max($+D,1),vt=this.arrangement;for(var bt=kt=this.arrangementOrigin.x,Wt=this.arrangementOrigin.y,de=0,le=0,we=0;we<r.length;we++){var Pe=r[we],Ke=this.nj(Pe,O),ui=Math.ceil((Ke.width+_)/V)*V,$i=Math.ceil((Ke.height+D)/$)*$;if(vt===es)var vn=Math.abs(bt-Ke.width);else vn=bt+Ke.width;(0<l&&de>l-1||0<v&&0<de&&vn-kt>v)&&(n.push(new he(0,Wt,v+_,le)),de=0,bt=kt,Wt+=le,le=0),le=Math.max(le,$i),Pe.moveTo(bt+(Ke=vt===es?-Ke.width:0),Wt),vt===es?bt-=ui:bt+=ui,de++}n.push(new he(0,Wt,v+_,le)),he.free(O);break;case Ro:for(D=v,V=l,$=e,vt=i,v=he.alloc(),kt=Math.max(this.cellSize.width,1),l=Wt=O=0,_=ht.alloc(),bt=0;bt<r.length;bt++)de=this.nj(le=r[bt],v),le=le.Df(le.locationObject,le.locationSpot,_),O=Math.max(O,le.x),Wt=Math.max(Wt,de.width-le.x),l=Math.max(l,le.y);(bt=this.arrangement)===es?O+=$:Wt+=$,kt=isFinite(kt)?Math.max(kt+$,1):Math.max(O+Wt,1);var tn=le=this.arrangementOrigin.x;for(we=this.arrangementOrigin.y,Wt=0,D>=O&&(D-=O),O=Pe=0,ui=Math.max(this.cellSize.height,1),Ke=l=0,$i=!0,de=ht.alloc(),vn=0;vn<r.length;vn++){var Bn=r[vn],yn=this.nj(Bn,v),Zi=Bn.Df(Bn.locationObject,Bn.locationSpot,_);if(0<Wt?bt===es?(tn=(tn-le-(yn.width-Zi.x))/kt,tn=(tn=ti.aa(Math.round(tn),tn)?Math.round(tn):Math.floor(tn))*kt+le):(tn=(tn-le+Zi.x)/kt,tn=(tn=ti.aa(Math.round(tn),tn)?Math.round(tn):Math.ceil(tn))*kt+le):Pe=bt===es?tn+Zi.x+yn.width:tn-Zi.x,bt===es)var Dr=-(tn+Zi.x)+Pe;else Dr=tn+yn.width-Zi.x-Pe;if(0<V&&Wt>V-1||0<D&&0<Wt&&Dr>D){for(n.push(new he(0,$i?we-l:we,D+$,Ke+l+vt)),tn=0;tn<Wt&&vn!==Wt;tn++){var dr=(Dr=r[vn-Wt+tn]).Df(Dr.locationObject,Dr.locationSpot,de);Dr.moveTo(Dr.position.x,Dr.position.y+l-dr.y)}Ke+=vt,we=$i?we+Ke:we+(Ke+l),Wt=Ke=l=0,tn=le,$i=!1}tn===le&&(O=bt===es?Math.max(O,yn.width-Zi.x):Math.min(O,-Zi.x)),l=Math.max(l,Zi.y),Ke=Math.max(Ke,yn.height-Zi.y),isFinite(ui)&&(Ke=Math.max(Ke,Math.max(yn.height,ui)-Zi.y)),Bn.moveTo(tn-Zi.x,$i?we-Zi.y:we),bt===es?tn-=Zi.x+$:tn+=yn.width-Zi.x+$,Wt++}if(n.push(new he(0,we,D+$,($i?Ke:Ke+l)+vt)),r.length!==Wt)for(D=0;D<Wt;D++)$=(V=r[r.length-Wt+D]).Df(V.locationObject,V.locationSpot,_),V.moveTo(V.position.x,V.position.y+l-$.y);if(ht.free(_),ht.free(de),bt===es)for(r=0;r<n.length;r++)(l=n[r]).width+=O,l.x-=O;else for(r=0;r<n.length;r++)(l=n[r]).x>O&&(l.width+=l.x-O,l.x=O);he.free(v)}for(_=l=v=r=0;_<n.length;_++)D=n[_],r=Math.min(r,D.x),v=Math.min(v,D.y),l=Math.max(l,D.x+D.width);this.commitLayers(n,new ht(this.arrangement===es?r+e/2-(l+r):r-e/2,v-i/2)),null!==t&&t.Xa("Layout"),this.isValidLayout=!0}},fr.prototype.commitLayers=function(){},H.Object.defineProperties(fr.prototype,{wrappingWidth:{get:function(){return this.sq},set:function(t){this.sq!==t&&(0<t||isNaN(t))&&(this.sq=t,this.isViewportSized=isNaN(t),this.C())}},wrappingColumn:{get:function(){return this.rq},set:function(t){this.rq!==t&&(0<t||isNaN(t))&&(this.rq=t,this.C())}},cellSize:{get:function(){return this.Qg},set:function(t){this.Qg.w(t)||(this.Qg.assign(t),this.C())}},spacing:{get:function(){return this.lf},set:function(t){this.lf.w(t)||(this.lf.assign(t),this.C())}},alignment:{get:function(){return this.yb},set:function(t){this.yb===t||t!==Ro&&t!==wo||(this.yb=t,this.C())}},arrangement:{get:function(){return this.Eb},set:function(t){this.Eb===t||t!==fa&&t!==es||(this.Eb=t,this.C())}},sorting:{get:function(){return this.bd},set:function(t){this.bd===t||t!==Za&&t!==qa&&t!==Cl&&t!==ry||(this.bd=t,this.C())}},comparer:{get:function(){return this.Wc},set:function(t){this.Wc!==t&&(this.Wc=t,this.C())}}});var wo=new St(fr,"Position",0),Ro=new St(fr,"Location",1),fa=new St(fr,"LeftToRight",2),es=new St(fr,"RightToLeft",3),Za=new St(fr,"Forward",4),qa=new St(fr,"Reverse",5),Cl=new St(fr,"Ascending",6),ry=new St(fr,"Descending",7);function qr(){this.lp=new Pt,this.No=new Pt,this.Fa=new Pt,this.Ue=new yt,this.Te=new yt,this.Qj=new yt,this.B=null,this.mr=!1}function t1(t,e,i){if(null!=e&&!t.diagram.undoManager.isUndoingRedoing&&!t.Ue.contains(e)){void 0===i&&(i=!0);t:{if(null!=e&&!t.B.undoManager.isUndoingRedoing&&!t.Ue.contains(e)){var n=t.Iq(e),r=Zx(t,e,n);if(null!==r&&(ul(r),null!==(r=r.copy()))){var l=t.diagram.skipsModelSourceBindings;t.diagram.skipsModelSourceBindings=!0,r.Nf=n,r.ob=e,t.mr&&(r.ih="Tool"),t.diagram.add(r),r.ob=null,r.data=e,t.diagram.skipsModelSourceBindings=l,n=r;break t}}n=null}null!==n&&i&&t.resolveReferencesForData(e)}}function Zx(t,e,i){var n=(t=t.B).model;return n.Dk()&&n.fw(e)?null===(e=t.groupTemplateMap.G(i))&&null===(e=t.groupTemplateMap.G(""))&&(ox||(ox=!0,lt('No Group template found for category "'+i+'"'),lt("  Using default group template")),e=t.Eu):null===(e=t.nodeTemplateMap.G(i))&&null===(e=t.nodeTemplateMap.G(""))&&(e1||(e1=!0,lt('No Node template found for category "'+i+'"'),lt("  Using default node template")),e=t.Gu),e}function Jc(t,e,i){for(var n in i){var r=e[n],l=i[n];if(Ot(l)){if(!Ot(r)||r.length<l.length)return!1;for(var v=0;v<r.length;v++){var _=l[v];if(void 0!==_&&!qx(t,r[v],_))return!1}}else if(!qx(t,r,l))return!1}return!0}function qx(t,e,i){if("function"==typeof i){if(!i(e))return!1}else if(i instanceof RegExp){if(!e||!i.test(e.toString()))return!1}else if(xt(e)&&xt(i)){if(!Jc(t,e,i))return!1}else if(e!==i)return!1;return!0}function rx(t,e){var i=e.Ci;if(Ot(i)){var n=t.Qj.G(i);if(null===n)(n=[]).push(e),t.Qj.add(i,n);else{for(t=0;t<n.length;t++)if(n[t]===e)return;n.push(e)}}}function oy(t,e,i){wh(e,function(v){for(var _=(v=v.W.j).length,D=0;D<_;D++)Yd(i,v[D])});var n=e.Ci;if(Ot(n)){var r=t.Qj.G(n);if(null!==r)for(var l=0;l<r.length;l++)if(r[l]===e){r.splice(l,1),0===r.length&&t.Qj.remove(n);break}}}function pv(t,e,i,n,r){if(null===e||r&&!e.canCopy())return null;if(n.contains(e))return n.G(e);var l=t.copyPartData(e,i);if(!(l instanceof qt))return null;if(l.isSelected=!1,l.isHighlighted=!1,n.add(e,l),e instanceof Si){for(var v=e.linksConnected;v.next();){var _=v.value;if(_.fromNode===e){var D=n.G(_);null!==D&&(D.fromNode=l)}_.toNode===e&&null!==(_=n.G(_))&&(_.toNode=l)}if(e instanceof Qi&&l instanceof Qi)for(e=e.memberParts;e.next();)(v=pv(t,e.value,i,n,r))instanceof Bi||null===v||(v.containingGroup=l)}else if(e instanceof Bi&&l instanceof Bi)for(null!==(v=e.fromNode)&&null!==(v=n.G(v))&&(l.fromNode=v),null!==(v=e.toNode)&&null!==(v=n.G(v))&&(l.toNode=v),e=e.labelNodes;e.next();)null!==(v=pv(t,e.value,i,n,r))&&v instanceof Si&&(v.labeledLink=l);return l}fr.className="GridLayout",fr.standardComparer=Lr,fr.smartComparer=function(t,e){if(null!==t){if(null!==e){t=t.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),e=e.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/);for(var i=0;i<t.length;i++)if(""!==e[i]&&void 0!==e[i]){var n=parseFloat(t[i]),r=parseFloat(e[i]);if(isNaN(n)){if(!isNaN(r))return 1;if(0!==t[i].localeCompare(e[i]))return t[i].localeCompare(e[i])}else{if(isNaN(r))return-1;if(n-r!=0)return n-r}}else if(""!==t[i])return 1;return""!==e[i]&&void 0!==e[i]?-1:0}return 1}return null!==e?-1:0},fr.Position=wo,fr.Location=Ro,fr.LeftToRight=fa,fr.RightToLeft=es,fr.Forward=Za,fr.Reverse=qa,fr.Ascending=Cl,fr.Descending=ry,(Q=qr.prototype).clear=function(){this.lp.clear(),this.No.clear(),this.Fa.clear(),this.Ue.clear(),this.Te.clear(),this.Qj.clear()},Q.ee=function(t){this.B=t},Q.oj=function(t){if(t instanceof Si){if(this.lp.add(t),t instanceof Qi){var e=t.containingGroup;null===e?this.B.Dh.add(t):e.Sl.add(t),null!==(e=t.layout)&&(e.diagram=this.B)}}else t instanceof Bi?this.No.add(t):t instanceof Ji||this.Fa.add(t);null===(e=t.data)||t instanceof Ji||(t instanceof Bi?this.Te.add(e,t):this.Ue.add(e,t))},Q.Lc=function(t){if(t.nk(),t instanceof Si){if(this.lp.remove(t),t instanceof Qi){var e=t.containingGroup;null===e?this.B.Dh.remove(t):e.Sl.remove(t),null!==(e=t.layout)&&(e.diagram=null)}}else t instanceof Bi?this.No.remove(t):t instanceof Ji||this.Fa.remove(t);null===(e=t.data)||t instanceof Ji||(t instanceof Bi?this.Te.remove(e):this.Ue.remove(e))},Q.Md=function(){for(var t=this.B.nodeTemplateMap.iterator;t.next();){var e=t.value,i=t.key;(!e.Nc()||e instanceof Qi)&&U('Invalid node template in Diagram.nodeTemplateMap: template for "'+i+'" must be a Node or a simple Part, not a Group or Link: '+e)}for(t=this.B.groupTemplateMap.iterator;t.next();)i=t.key,(e=t.value)instanceof Qi||U('Invalid group template in Diagram.groupTemplateMap: template for "'+i+'" must be a Group, not a normal Node or Link: '+e);for(t=this.B.linkTemplateMap.iterator;t.next();)i=t.key,(e=t.value)instanceof Bi||U('Invalid link template in Diagram.linkTemplateMap: template for "'+i+'" must be a Link, not a normal Node or simple Part: '+e);for(t=o(),e=this.B.selection.iterator;e.next();)(i=e.value.data)&&t.push(i);for(e=o(),i=this.B.highlighteds.iterator;i.next();){var n=i.value.data;n&&e.push(n)}for(i=o(),n=this.nodes.iterator;n.next();){var r=n.value;null!==r.data&&(i.push(r.data),i.push(r.location))}for(n=this.links.iterator;n.next();)null!==(r=n.value).data&&(i.push(r.data),i.push(r.location));for(n=this.parts.iterator;n.next();)null!==(r=n.value).data&&(i.push(r.data),i.push(r.location));for(this.removeAllModeledParts(),this.addAllModeledParts(),n=0;n<t.length;n++)null!==(r=this.zc(t[n]))&&(r.isSelected=!0);for(n=0;n<e.length;n++)null!==(r=this.zc(e[n]))&&(r.isHighlighted=!0);for(n=0;n<i.length;n+=2)null!==(r=this.zc(i[n]))&&(r.location=i[n+1]);c(t),c(e),c(i)},qr.prototype.addAllModeledParts=function(){this.addModeledParts(this.diagram.model.nodeDataArray)},qr.prototype.addModeledParts=function(t,e){var i=this,n=this.diagram.model;t.forEach(function(r){n.ab(r)&&t1(i,r,!1)}),t.forEach(function(r){n.ab(r)&&i.resolveReferencesForData(r)}),!1!==e&&ls(this.diagram,!1)},qr.prototype.insertLink=function(){return null},qr.prototype.resolveReferencesForData=function(){},qr.prototype.Iq=function(t){return this.B.model.Iq(t)},qr.prototype.getLinkCategoryForData=function(){return""},qr.prototype.setLinkCategoryForData=function(){},qr.prototype.setFromNodeForLink=function(){},qr.prototype.setToNodeForLink=function(){},qr.prototype.findLinkTemplateForCategory=function(t){var e=this.B.linkTemplateMap.G(t);return null===e&&null===(e=this.B.linkTemplateMap.G(""))&&(Jx||(Jx=!0,lt('No Link template found for category "'+t+'"'),lt("  Using default link template")),e=this.B.Fu),e},qr.prototype.removeAllModeledParts=function(){this.fu(this.diagram.model.nodeDataArray)},qr.prototype.fu=function(t){var e=this;t.forEach(function(i){e.$q(i)})},qr.prototype.$q=function(t){null!==(t=this.zc(t))&&(Hd(this.diagram,t,!1),this.unresolveReferencesForPart(t))},qr.prototype.unresolveReferencesForPart=function(){},qr.prototype.removeDataForLink=function(){},qr.prototype.findPartForKey=function(t){return null==t?null:null!==(t=this.B.model.Kb(t))?this.Ue.G(t):null},qr.prototype.Cb=function(t){return null==t||null===(t=this.B.model.Kb(t))?null:(t=this.Ue.G(t))instanceof Si?t:null},qr.prototype.findLinkForKey=function(){return null},(Q=qr.prototype).zc=function(t){if(null===t)return null;var e=this.Ue.G(t);return null!==e?e:e=this.Te.G(t)},Q.gj=function(t){return null===t?null:(t=this.Ue.G(t))instanceof Si?t:null},Q.yc=function(t){return null===t?null:this.Te.G(t)},Q.It=function(t){for(var e=0;e<arguments.length;++e);e=new Pt;for(var i=this.lp.iterator;i.next();){var n=i.value,r=n.data;if(null!==r)for(var l=0;l<arguments.length;l++){var v=arguments[l];if(xt(v)&&Jc(this,r,v)){e.add(n);break}}}return e.iterator},Q.Ht=function(t){for(var e=0;e<arguments.length;++e);e=new Pt;for(var i=this.No.iterator;i.next();){var n=i.value,r=n.data;if(null!==r)for(var l=0;l<arguments.length;l++){var v=arguments[l];if(xt(v)&&Jc(this,r,v)){e.add(n);break}}}return e.iterator},qr.prototype.doModelChanged=function(t){if(this.B){var e=this.B;if(t.model===e.model){var i=t.change;if(e.doModelChanged(t),e.Z){e.Z=!1;try{var n=t.modelChange;if(""!==n)if(i===rn){if("nodeCategory"===n){var r=this.zc(t.object),l=t.newValue;null!==r&&"string"==typeof l&&(r.category=l)}else"nodeDataArray"===n&&(this.fu(t.oldValue),this.addModeledParts(t.newValue));e.isModified=!0}else if(i===gn){var v=t.newValue;"nodeDataArray"===n&&xt(v)&&t1(this,v),e.isModified=!0}else if(i===wn){var _=t.oldValue;"nodeDataArray"===n&&xt(_)&&this.$q(_),e.isModified=!0}else i===Cr&&("SourceChanged"===n?null!==t.object?this.updateDataBindings(t.object,t.propertyName):(this.ir(),this.updateAllTargetBindings()):"ModelDisplaced"===n&&this.Md());else if(i===rn){var D=t.propertyName,O=t.object;O===e.model?("nodeKeyProperty"===D||"nodeCategoryProperty"===D)&&(e.undoManager.isUndoingRedoing||this.Md()):this.updateDataBindings(O,D),e.isModified=!0}else if(i===gn||i===wn){var V=t.change===gn,$=V?t.newParam:t.oldParam,vt=V?t.newValue:t.oldValue,kt=this.Qj.G(t.object);if(Array.isArray(kt))for(t=0;t<kt.length;t++){var bt=kt[t];if(V)op(bt,vt,$);else if(!(0>$)){var Wt=$+hd(bt);bt.Lc(Wt,!0),hl(bt,Wt,$)}}e.isModified=!0}}finally{e.Z=!0}}}}},qr.prototype.updateAllTargetBindings=function(t){void 0===t&&(t="");for(var e=this.parts.iterator;e.next();)e.value.Ea(t);for(e=this.nodes.iterator;e.next();)e.value.Ea(t);for(e=this.links.iterator;e.next();)e.value.Ea(t)},qr.prototype.ir=function(){for(var t=this.B.model,e=new Pt,i=t.nodeDataArray,n=0;n<i.length;n++)e.add(i[n]);var r=[];for(this.nodes.each(function(v){null===v.data||e.contains(v.data)||r.push(v.data)}),this.parts.each(function(v){null===v.data||e.contains(v.data)||r.push(v.data)}),r.forEach(function(v){Um(t,v,!1)}),n=0;n<i.length;n++){var l=i[n];null===this.zc(l)&&hy(t,l,!1)}for(this.refreshDataBoundLinks(),i=this.parts.iterator;i.next();)i.value.updateRelationshipsFromData();for(i=this.nodes.iterator;i.next();)i.value.updateRelationshipsFromData();for(i=this.links.iterator;i.next();)i.value.updateRelationshipsFromData()},qr.prototype.refreshDataBoundLinks=function(){},qr.prototype.updateRelationshipsFromData=function(){},qr.prototype.updateDataBindings=function(t,e){if("string"==typeof e){var i=this.zc(t);if(null!==i)i.Ea(e);else{i=null;for(var n=this.Qj.iterator;n.next();){for(var r=n.value,l=0;l<r.length;l++){var v=r[l].qy(t);null!==v&&(null===i&&(i=o()),i.push(v))}if(null!==i)break}if(null!==i){for(n=0;n<i.length;n++)i[n].Ea(e);c(i)}}t===this.diagram.model.modelData&&this.updateAllTargetBindings(e)}},qr.prototype.tk=function(t,e,i){void 0===i&&(i=!1);var n=new yt;if(Ot(t))for(var r=0;r<t.length;r++)pv(this,t[r],e,n,i);else for(t=t.iterator;t.next();)pv(this,t.value,e,n,i);if(null!==e){i=e.model,t=null!==(t=e.toolManager.findTool("Dragging"))?t.dragOptions.dragsLink:e.kl.dragsLink,r=new Pt;for(var l=new yt,v=n.iterator;v.next();){var _=v.value;if(_ instanceof Bi)t||null!==_.fromNode&&null!==_.toNode||r.add(_);else if(_ instanceof Si&&null!==_.data&&i.Em()){var D=_,O=(_=v.key).Fg();null!==O&&(null!==(O=n.G(O))?(i.fe(D.data,i.ja(O.data)),D=e.yc(D.data),null!==(_=_.jj())&&null!==D&&l.add(_,D)):i.fe(D.data,void 0))}}if(0<r.count&&e.gu(r,!1),0<l.count)for(i=l.iterator;i.next();)n.add(i.key,i.value)}if(null!==e&&null!==this.B&&null!==(i=(e=e.model).afterCopyFunction)){var V=new yt;n.each(function($){null!==$.key.data&&V.add($.key.data,$.value.data)}),i(V,e,this.B.model)}for(e=n.iterator;e.next();)e.value.Ea();return n},qr.prototype.copyPartData=function(t,e){var i=null,n=t.data;if(null!==n&&null!==e){var r=e.model;t instanceof Bi||xt(n=r.copyNodeData(n))&&(r.uf(n),i=e.zc(n))}else ul(t),null!==(i=t.copy())&&(r=this.B,null!==e?e.add(i):null!==n&&null!==r&&null!==r.commandHandler&&r.commandHandler.copiesClipboardData&&(e=r.model,r=null,i instanceof Bi||(r=e.copyNodeData(n)),xt(r)&&(i.data=r)));return i},H.Object.defineProperties(qr.prototype,{nodes:{get:function(){return this.lp}},links:{get:function(){return this.No}},parts:{get:function(){return this.Fa}},diagram:{get:function(){return this.B}},addsToTemporaryLayer:{get:function(){return this.mr},set:function(t){this.mr=t}}}),qr.prototype.updateAllRelationshipsFromData=qr.prototype.ir,qr.prototype.findLinksByExample=qr.prototype.Ht,qr.prototype.findNodesByExample=qr.prototype.It,qr.prototype.findLinkForData=qr.prototype.yc,qr.prototype.findNodeForData=qr.prototype.gj,qr.prototype.findPartForData=qr.prototype.zc,qr.prototype.findNodeForKey=qr.prototype.Cb,qr.prototype.removeModeledPart=qr.prototype.$q,qr.prototype.removeModeledParts=qr.prototype.fu,qr.prototype.rebuildParts=qr.prototype.Md;var e1=!1,ox=!1,Jx=!1;function Xs(t){qr.apply(this,arguments)}function sy(t,e){e.forEach(function(i){sx(t,i)}),ls(t.diagram,!1)}function sx(t,e){if(null!=e&&!t.diagram.undoManager.isUndoingRedoing&&!t.Te.contains(e)){var i=t.getLinkCategoryForData(e),n=t.findLinkTemplateForCategory(i);if(null!==n){ul(n);var r=n.copy();if(null!==r){n=t.diagram.skipsModelSourceBindings,t.diagram.skipsModelSourceBindings=!0,r.Nf=i,r.ob=e;var l=gv(i=t.diagram.model,e,!0);""!==l&&(r.fromPortId=l),void 0!==(l=Au(i,e,!0))&&(l=t.Cb(l))instanceof Si&&(r.fromNode=l),""!==(l=gv(i,e,!1))&&(r.toPortId=l),void 0!==(l=Au(i,e,!1))&&(l=t.Cb(l))instanceof Si&&(r.toNode=l),i=i.Bf(e),Array.isArray(i)&&i.forEach(function(v){null!==(v=t.Cb(v))&&(v.labeledLink=r)}),t.mr&&(r.ih="Tool"),t.diagram.add(r),r.ob=null,r.data=e,t.diagram.skipsModelSourceBindings=n}}}}function ay(t,e){e.forEach(function(i){t.$q(i)})}function nh(){qr.apply(this,arguments),this.rh=null}function ly(t,e,i){if(null!==e&&null!==i){var n=t.diagram.toolManager.findTool("Linking"),r=e,l=i;if(t.diagram.isTreePathToChildren){for(e=l.linksConnected;e.next();)if(e.value.toNode===l)return}else for(l=e,e=(r=i).linksConnected;e.next();)if(e.value.fromNode===r)return;if((null===n||!To(n,r,l,null,!0))&&(n=t.getLinkCategoryForData(i.data),null!==(e=t.findLinkTemplateForCategory(n))&&(ul(e),null!==(e=e.copy())))){var v=t.diagram.skipsModelSourceBindings;t.diagram.skipsModelSourceBindings=!0,e.Nf=n,e.ob=i.data,e.fromNode=r,e.toNode=l,t.diagram.add(e),e.ob=null,e.data=i.data,t.diagram.skipsModelSourceBindings=v}}}function Sn(t){this.Oi=new Pt,this.Li=new Pt,this.tu=',\n  "insertedNodeKeys": ',this.lx=',\n  "modifiedNodeData": ',this.vu=',\n  "removedNodeKeys": ',this.Yh=null,Se(this),this.Ln=this.oa="",this.$f=!1,this.l={},this.Fc=[],this.Wa=new yt,this.Ni="key",this.il=this.Pl=null,this.Cn=this.Dn=!1,this.Fn=!0,this.kn=null,this.Yj="category",this.Tf=new yt,this.cv=new zt,this.vg=!1,this.u=null,this.undoManager=new vr,void 0!==t&&(this.nodeDataArray=t)}function kg(t,e,i,n,r,l){function v($,vt){_?(void 0===$.__gohashid&&l.push($),n.set($,vt)):($=_e++,n.set($,vt),r.set($,e))}if(!xt(e))return e;l||(l=[]);var _=Object.isExtensible(e);if(n||(n=new yt),_){var D=n.get(e);if(D)return D}else for(r||(r=new yt),D=r.iterator;D.next();){var O=D.key;if(D.value===e&&(O=n.get(O)))return O}if(Array.isArray(e)){v(e,D=[]);for(var V=0;V<e.length;V++)D.push(kg(t,e[V],!1,n,r,l))}else if(e instanceof ht||e instanceof De||e instanceof he||e instanceof Je||e instanceof hn)D=e.copy(),v(e,D);else{if(e instanceof Fr||e instanceof hr||e instanceof St)return e;if(e instanceof zt)D=(new zt).addAll(kg(t,e.ma(),!1,n,r,l)),v(e,D);else if(e instanceof Pt)D=(new Pt).addAll(kg(t,e.ma(),!1,n,r,l)),v(e,D);else if(e instanceof yt)D=(new yt).addAll(kg(t,e.ma(),!1,n,r,l)),v(e,D);else if(e instanceof Date)D=new Date(e.getTime()),v(e,D);else if(e instanceof RegExp)D=new RegExp(e),v(e,D),D.lastIndex=e.lastIndex;else if("function"==typeof e.copy)D=e.copy(),v(e,D);else for(V in v(e,D={}),e)"__gohashid"!==V&&(D[V]=kg(t,e[V],!1,n,r,l))}return i&&l.forEach(function($){delete $.__gohashid}),D}function i1(t){return',\n  "modelData": '+Og(t,t.modelData)}function ax(t,e){xt(e=e.modelData)&&(t.Om(e),t.modelData=e)}function y0(t,e,i,n){if(e===i)return!0;if(typeof e!=typeof i||"function"==typeof e||"function"==typeof i)return!1;if(Array.isArray(e)&&Array.isArray(i)){if(n.G(e)===i)return!0;if(n.add(e,i),e.length!==i.length)return!1;for(var r=0;r<e.length;r++)if(!y0(t,e[r],i[r],n))return!1;return!0}if(xt(e)&&xt(i)){if(n.G(e)===i)return!0;for(var l in n.add(e,i),e){var v=e[l];if(!Pg(l,v)){var _=i[l];if(void 0===_||!y0(t,v,_,n))return!1}}for(r in i)if(!(Pg(r,l=i[r])||void 0!==(v=e[r])&&y0(t,v,l,n)))return!1;return!0}return!1}function Qc(t,e,i){t[i]!==e[i]&&U("Model.computeJsonDifference: Model."+i+' is not the same in both models: "'+t[i]+'" and "'+e[i]+'"')}function n1(t,e){function i(r,l){if((l=l.part)&&r!==(l=l.data)){var v=n.get(r);null===v?((v=new Pt).add(l),n.add(r,v)):v.add(l)}}var n=t.Yh;null===n&&(n=new yt,e.changes.each(function(r){if(null!==r.diagram){var l=r.change;l===rn?(r=r.object.panel)&&(l=r.data)&&i(l,r):(l===gn||l===wn)&&(l=(r=r.object).itemArray)&&i(l,r)}}),t.Yh=n)}function Tg(t,e){for(var i=new Pt,n=0;n<t.nodeDataArray.length;n++){var r=t.nodeDataArray[n];uy(t,e,r,r,i)}return i}function uy(t,e,i,n,r){if(Array.isArray(i))for(var l=0;l<i.length;l++){var v=i[l];if(v===e)return r.add(n),!0;if(uy(t,e,v,n,r))return!0}else if(xt(i)&&Object.getPrototypeOf(i)===Object.prototype)for(l in i){if((v=i[l])===e)return r.add(n),!0;if(uy(t,e,v,n,r))return!0}return!1}function Xh(t,e,i){void 0===i&&(i=!1);var n=e.length;if(0>=n)return"[]";var r=new te;r.add("["),i&&1<n&&r.add("\n");for(var l=0;l<n;l++){var v=e[l];void 0!==v&&(0<l&&(r.add(","),i&&r.add("\n")),r.add(t.bn(v)))}return i&&1<n&&r.add("\n"),r.add("]"),r.toString()}function Pg(t,e){return void 0===e||"__gohashid"===t||"_"===t[0]||"function"==typeof e}function Zs(t){return isNaN(t)?"NaN":t===1/0?"9e9999":t===-1/0?"-9e9999":t}function Og(t,e){var i=e;if(i instanceof ht)e={class:"go.Point",x:Zs(i.x),y:Zs(i.y)};else if(i instanceof De)e={class:"go.Size",width:Zs(i.width),height:Zs(i.height)};else if(i instanceof he)e={class:"go.Rect",x:Zs(i.x),y:Zs(i.y),width:Zs(i.width),height:Zs(i.height)};else if(i instanceof Je)e={class:"go.Margin",top:Zs(i.top),right:Zs(i.right),bottom:Zs(i.bottom),left:Zs(i.left)};else if(i instanceof hn)e=i.kb()?{class:"go.Spot",x:Zs(i.x),y:Zs(i.y),offsetX:Zs(i.offsetX),offsetY:Zs(i.offsetY)}:{class:"go.Spot",enum:i.toString()};else if(i instanceof Fr){if(e={class:"go.Brush",type:i.type.name},i.type===Ea?e.color=i.color:(i.type===sl||i.type===Os)&&(e.start=i.start,e.end=i.end,i.type===Os&&(0!==i.startRadius&&(e.startRadius=Zs(i.startRadius)),isNaN(i.endRadius)||(e.endRadius=Zs(i.endRadius)))),null!==i.colorStops){var n={};for(i=i.colorStops.iterator;i.next();)n[i.key]=i.value;e.colorStops=n}}else i instanceof hr?(e={class:"go.Geometry",type:i.type.name},0!==i.startX&&(e.startX=Zs(i.startX)),0!==i.startY&&(e.startY=Zs(i.startY)),0!==i.endX&&(e.endX=Zs(i.endX)),0!==i.endY&&(e.endY=Zs(i.endY)),i.spot1.w(Hr)||(e.spot1=i.spot1),i.spot2.w(Zo)||(e.spot2=i.spot2),i.type===hi&&(e.path=za(i))):i instanceof St&&(e={class:"go.EnumValue",classType:yd(t,i.classType),name:i.name});for(var r in n="{",i=!0,e){var l=$o(e,r);if(!Pg(r,l))if(i?i=!1:n+=",",n+=JSON.stringify(r)+":","points"===r&&l instanceof zt){var v="[";for(l=l.iterator;l.next();){var _=l.value;1<v.length&&(v+=","),v+=t.bn(_.x),v+=",",v+=t.bn(_.y)}n+=v+="]"}else n+=t.bn(l)}return n+"}"}function cs(t){return"number"==typeof t?t:"NaN"===t?NaN:"9e9999"===t?1/0:"-9e9999"===t?-1/0:parseFloat(t)}function fs(t,e,i,n,r,l,v,_,D){void 0===_&&(_=null),void 0===D&&(D=null);var O=new On;O.model=t,O.change=i,O.modelChange=e,O.propertyName=n,O.object=r,O.oldValue=l,O.oldParam=_,O.newValue=v,O.newParam=D,t.zt(O)}function uu(t){return"number"==typeof t||"string"==typeof t}function hy(t,e,i){var n=t.ja(e);(void 0===n||t.Wa.G(n)!==e)&&(t.Zt(e),void 0===(n=t.ja(e))?U("Model.makeNodeDataKeyUnique failed on "+e+".  Data not added to Model."):(t.Wa.add(n,e),n=null,i&&Et(t.Fc,n=t.Fc.length,e),fs(t,"nodeDataArray",gn,"nodeDataArray",t,null,e,null,n),t.Qm(e),t.Pm(e)))}function Um(t,e,i){var n=t.ja(e);if(void 0!==n&&t.Wa.remove(n),n=null,i){t:if(i=t.Fc,Array.isArray(i))n=i.indexOf(e);else{n=i.length;for(var r=0;r<n;r++)if(i[r]===e){n=r;break t}n=-1}if(0>n)return;A(t.Fc,n)}fs(t,"nodeDataArray",wn,"nodeDataArray",t,e,null,n,null),t.hr(e)}function Eu(t,e,i){if(void 0!==e){var n=t.Tf.G(e);null===n&&(n=new Pt,t.Tf.add(e,n)),n.add(i)}}function Du(t,e,i){if(void 0!==e){var n=t.Tf.G(e);n instanceof Pt&&(null==i?t.Tf.remove(e):(n.remove(i),0===n.count&&t.Tf.remove(e)))}}function mp(t,e){return void 0===e?null:(t=t.Tf.G(e))instanceof Pt?t:null}function x0(t,e,i){if(t.copiesArrays&&Array.isArray(e)){var n=[];for(i=0;i<e.length;i++){var r=x0(t,e[i],t.copiesArrayObjects);n.push(r)}return Se(n),n}if(i&&xt(e)){for(n in i=(i=e.constructor)?new i:{},r=t.copiesKey||"string"!=typeof t.nodeKeyProperty?null:t.nodeKeyProperty,e)if("__gohashid"===n)i.__gohashid=void 0;else if(n===r)i[r]=void 0;else{var l=$o(e,n),v=yd(t,l);"GraphObject"===v||"Diagram"===v||"Layer"===v||"RowColumnDefinition"===v||"AnimationManager"===v||"Tool"===v||"CommandHandler"===v||"Layout"===v||"InputEvent"===v||"DiagramEvent"===v||l instanceof Sn||l instanceof vr||l instanceof Mn||l instanceof On||(l=x0(t,l,!1)),_o(i,n,l)}return Se(i),i}return e instanceof ht||e instanceof De||e instanceof he||e instanceof hn||e instanceof Je?e.copy():e}function lm(){return new Sn}function yd(t,e){if("function"==typeof e){if(e.className)return e.className;if(e.name)return e.name}else if("object"==typeof e&&null!==e&&e.constructor)return yd(t,e.constructor);return typeof e}function um(t){return Ch[t]?Ch[t]:void 0!==B.go&&B.go[t]?B.go[t]:null}function $o(t,e){if(!t||!e)return null;try{if("function"==typeof e)var i=e(t);else"function"==typeof t.getAttribute?null===(i=t.getAttribute(e))&&(i=void 0):i=t[e]}catch(n){}return i}function _o(t,e,i){if(t&&e)try{"function"==typeof e?e(t,i):"function"==typeof t.setAttribute?t.setAttribute(e,i):t[e]=i}catch(n){}}qr.className="PartManager",Z(Xs,qr),Xs.prototype.addAllModeledParts=function(){var t=this.diagram.model;this.addModeledParts(t.nodeDataArray),sy(this,t.linkDataArray)},Xs.prototype.addModeledParts=function(t){for(qr.prototype.addModeledParts.call(this,t,!1),t=this.links.iterator;t.next();)er(t.value);ls(this.diagram,!1)},Xs.prototype.removeAllModeledParts=function(){var t=this.diagram.model;ay(this,t.linkDataArray),this.fu(t.nodeDataArray)},Xs.prototype.getLinkCategoryForData=function(t){return this.diagram.model.Lt(t)},Xs.prototype.setLinkCategoryForData=function(t,e){return this.diagram.model.cr(t,e)},Xs.prototype.setFromNodeForLink=function(t,e){var i=this.diagram.model;i.Bw(t.data,i.ja(null!==e?e.data:null))},Xs.prototype.setToNodeForLink=function(t,e){var i=this.diagram.model;i.Gw(t.data,i.ja(null!==e?e.data:null))},Xs.prototype.removeDataForLink=function(t){this.diagram.model.Mm(t.data)},Xs.prototype.findPartForKey=function(t){var e=qr.prototype.findPartForKey.call(this,t);return null===e&&null!==(t=this.diagram.model.Dg(t))?this.Te.G(t):e},Xs.prototype.findLinkForKey=function(t){return null==t?null:null!==(t=this.diagram.model.Dg(t))?this.Te.G(t):null},Xs.prototype.doModelChanged=function(t){var e=this;if(qr.prototype.doModelChanged.call(this,t),this.diagram){var i=this.diagram;if(t.model===i.model){var n=t.change;if(i.Z){i.Z=!1;try{var r=t.modelChange;if(""!==r){if(n===rn){if("linkFromKey"===r){var l=this.yc(t.object);if(null!==l){var v=this.Cb(t.newValue);l.fromNode=v}}else if("linkToKey"===r){var _=this.yc(t.object);if(null!==_){var D=this.Cb(t.newValue);_.toNode=D}}else if("linkFromPortId"===r){var O=this.yc(t.object);if(null!==O){var V=t.newValue;"string"==typeof V&&(O.fromPortId=V)}}else if("linkToPortId"===r){var $=this.yc(t.object);if(null!==$){var vt=t.newValue;"string"==typeof vt&&($.toPortId=vt)}}else if("nodeGroupKey"===r){var kt=this.zc(t.object);if(null!==kt){var bt=t.newValue;if(void 0!==bt){var Wt=this.Cb(bt);kt.containingGroup=Wt instanceof Qi?Wt:null}else kt.containingGroup=null}}else if("linkLabelKeys"===r){var de=this.yc(t.object);if(null!==de){var le=t.oldValue,we=t.newValue;Array.isArray(le)&&le.forEach(function(Zi){0<=we.indexOf(Zi)||null!==(Zi=e.Cb(Zi))&&(Zi.labeledLink=null)}),Array.isArray(we)&&we.forEach(function(Zi){null!==(Zi=e.Cb(Zi))&&(Zi.labeledLink=de)})}}else if("linkCategory"===r){var Pe=this.yc(t.object),Ke=t.newValue;null!==Pe&&"string"==typeof Ke&&(Pe.category=Ke)}else"linkDataArray"===r&&(ay(this,t.oldValue),sy(this,t.newValue));i.isModified=!0}else if(n===gn){var ui=t.newValue;if("linkDataArray"===r&&"object"==typeof ui&&null!==ui)sx(this,ui);else if("linkLabelKeys"===r&&uu(ui)){var $i=this.yc(t.object),vn=this.Cb(ui);null!==$i&&null!==vn&&(vn.labeledLink=$i)}i.isModified=!0}else if(n===wn){var tn=t.oldValue;if("linkDataArray"===r&&"object"==typeof tn&&null!==tn)this.$q(tn);else if("linkLabelKeys"===r&&uu(tn)){var Bn=this.Cb(tn);null!==Bn&&(Bn.labeledLink=null)}i.isModified=!0}}else if(n===rn){var yn=t.propertyName;t.object!==i.model||"linkFromKeyProperty"!==yn&&"linkToKeyProperty"!==yn&&"linkFromPortIdProperty"!==yn&&"linkToPortIdProperty"!==yn&&"linkLabelKeysProperty"!==yn&&"nodeIsGroupProperty"!==yn&&"nodeGroupKeyProperty"!==yn&&"linkCategoryProperty"!==yn||i.undoManager.isUndoingRedoing||this.Md(),i.isModified=!0}}finally{i.Z=!0}}}}},Xs.prototype.refreshDataBoundLinks=function(){var t=this,e=this.diagram.model,i=new Pt,n=e.linkDataArray;n.forEach(function(l){i.add(l)});var r=[];this.links.each(function(l){null===l.data||i.contains(l.data)||r.push(l.data)}),r.forEach(function(l){cx(e,l,!1)}),n.forEach(function(l){null===t.yc(l)&&hx(e,l,!1)})},Xs.prototype.updateRelationshipsFromData=function(t){var e=t.data;if(null!==e){var i=t.diagram;if(null!==i){var n=i.model;if(t instanceof Bi){var r=Au(n,e,!0);if(r=i.Cb(r),t.fromNode=r,r=Au(n,e,!1),r=i.Cb(r),t.toNode=r,0<(e=n.Bf(e)).length||0<t.labelNodes.count){if(1===e.length&&1===t.labelNodes.count){r=e[0];var l=t.labelNodes.first();if(n.ja(l.data)===r)return}r=(new Pt).addAll(e);var v=new Pt;t.labelNodes.each(function(_){null!==_.data&&void 0!==(_=n.ja(_.data))&&v.add(_)}),(e=v.copy()).Zq(r),(r=r.copy()).Zq(v),(0<e.count||0<r.count)&&(e.each(function(_){null!==(_=i.Cb(_))&&_.labeledLink===t&&(_.labeledLink=null)}),r.each(function(_){null!==(_=i.Cb(_))&&_.labeledLink!==t&&(_.labeledLink=t)}))}}else!(t instanceof Ji)&&(e=n.Lh(e),null===(e=i.findPartForKey(e))||e instanceof Qi)&&(t.containingGroup=e)}}},Xs.prototype.resolveReferencesForData=function(t){var e=this.diagram.model,i=e.ja(t);if(void 0!==i){var n=mp(e,i),r=this.zc(t);if(null!==n&&null!==r){n=n.iterator;for(var l={};n.next();){var v=n.value;e.ab(v)?r instanceof Qi&&e.Lh(v)===i&&null!==(v=this.zc(v))&&(v.containingGroup=r):(l.link=this.yc(v),null!==l.link&&r instanceof Si&&(Au(e,v,!0)===i&&(l.link.fromNode=r),Au(e,v,!1)===i&&(l.link.toNode=r),v=e.Bf(v),Array.isArray(v)&&v.some(function(_){return function(D){return D===i&&(r.labeledLink=_.link,!0)}}(l)))),l={link:l.link}}Du(e,i)}void 0!==(t=e.Lh(t))&&(t=this.Cb(t))instanceof Qi&&(r.containingGroup=t)}},Xs.prototype.unresolveReferencesForPart=function(t){var e=this.diagram.model;if(t instanceof Si){var i=e.ja(t.data);if(void 0!==i){for(var n=t.linksConnected;n.next();)Eu(e,i,n.value.data);if(t.isLinkLabel&&null!==(n=t.labeledLink)&&Eu(e,i,n.data),t instanceof Qi)for(t=t.memberParts;t.next();)e.ab(n=t.value.data)&&Eu(e,i,n)}}},Xs.prototype.copyPartData=function(t,e){var i=qr.prototype.copyPartData.call(this,t,e);if(t instanceof Bi)if(null!==(t=t.data)&&null!==e){var n=e.model;"object"==typeof(t=n.Aq(t))&&null!==t&&(n.bj(t),i=e.yc(t))}else null!==i&&(e=this.diagram,null!==t&&null!==e&&null!==e.commandHandler&&e.commandHandler.copiesClipboardData&&"object"==typeof(e=e.model.Aq(t))&&null!==e&&(i.data=e));return i},Xs.prototype.insertLink=function(t,e,i,n){var r=this.diagram,l=r.model,v=r.toolManager.findTool("Linking"),_="";if(null!==t&&(null===e&&(e=t),null===(_=e.portId)&&(_="")),e="",null!==i&&(null===n&&(n=i),null===(e=n.portId)&&(e="")),(n=v.archetypeLinkData)instanceof Bi){if(ul(n),null!==(l=n.copy()))return l.fromNode=t,l.fromPortId=_,l.toNode=i,l.toPortId=e,r.add(l),(t=v.archetypeLabelNodeData)instanceof Si&&(ul(t),null!==(t=t.copy())&&(t.labeledLink=l,r.add(t))),l}else if(null!==n&&"object"==typeof(n=l.Aq(n))&&null!==n)return null!==t&&Ig(l,n,l.ja(t.data),!0),Hm(l,n,_,!0),null!==i&&Ig(l,n,l.ja(i.data),!1),Hm(l,n,e,!1),l.bj(n),null===(t=v.archetypeLabelNodeData)||t instanceof Si||"object"==typeof(t=l.copyNodeData(t))&&null!==t&&(l.uf(t),void 0!==(t=l.ja(t))&&l.Dv(n,t)),r.yc(n);return null},Xs.prototype.findLinkForKey=Xs.prototype.findLinkForKey,Xs.prototype.findPartForKey=Xs.prototype.findPartForKey,Xs.prototype.removeAllModeledParts=Xs.prototype.removeAllModeledParts,Xs.prototype.addModeledParts=Xs.prototype.addModeledParts,Xs.prototype.addAllModeledParts=Xs.prototype.addAllModeledParts,Xs.className="GraphLinksPartManager",Z(nh,qr),nh.prototype.getLinkCategoryForData=function(t){return this.diagram.model.Ot(t)},nh.prototype.setLinkCategoryForData=function(t,e){this.diagram.model.ku(t,e)},nh.prototype.setFromNodeForLink=function(t,e,i){var n=this.diagram.model;if(void 0===i&&(i=null),e=null!==e?e.data:null,this.diagram.isTreePathToChildren)n.fe(t.data,n.ja(e));else{var r=this.rh;this.rh=t,null!==i&&n.fe(i.data,void 0),n.fe(e,n.ja(null!==t.toNode?t.toNode.data:null)),this.rh=r}},nh.prototype.setToNodeForLink=function(t,e,i){var n=this.diagram.model;if(void 0===i&&(i=null),e=null!==e?e.data:null,this.diagram.isTreePathToChildren){var r=this.rh;this.rh=t,null!==i&&n.fe(i.data,void 0),n.fe(e,n.ja(null!==t.fromNode?t.fromNode.data:null)),this.rh=r}else n.fe(t.data,n.ja(e))},nh.prototype.removeDataForLink=function(t){this.diagram.model.fe(t.data,void 0)},nh.prototype.findLinkForKey=function(t){return null==t?null:null!==(t=this.diagram.model.Kb(t))?this.Te.G(t):null},nh.prototype.doModelChanged=function(t){if(qr.prototype.doModelChanged.call(this,t),this.diagram){var e=this.diagram;if(t.model===e.model){var i=t.change;if(e.Z){e.Z=!1;try{var n=t.modelChange;if(""!==n){if(i===rn){if("nodeParentKey"===n){var r=t.object,l=this.Cb(t.newValue),v=this.gj(r);if(null!==this.rh)null!==l&&(this.rh.data=r,this.rh.category=this.getLinkCategoryForData(r));else if(null!==v){var _=v.jj();null!==_?null===l?e.remove(_):e.isTreePathToChildren?_.fromNode=l:_.toNode=l:ly(this,l,v)}}else if("parentLinkCategory"===n){var D=this.gj(t.object),O=t.newValue;if(null!==D&&"string"==typeof O){var V=D.jj();null!==V&&(V.category=O)}}e.isModified=!0}}else i===rn&&(t.object===e.model&&"nodeParentKeyProperty"===t.propertyName&&(e.undoManager.isUndoingRedoing||this.Md()),e.isModified=!0)}finally{e.Z=!0}}}}},nh.prototype.updateRelationshipsFromData=function(t){var e=t.data;if(null!==e){var i=t.diagram;if(null!==i){var n=i.model;t instanceof Si&&(e=n.Mh(e),(e=i.Cb(e))!==(n=t.Fg())&&(n=t.jj(),null!==e?null!==n?i.isTreePathToChildren?n.fromNode=e:n.toNode=e:ly(this,e,t):null!==n&&Hd(i,n,!1)))}}},nh.prototype.updateDataBindings=function(t,e){qr.prototype.updateDataBindings.call(this,t,e),"string"==typeof e&&null!==this.zc(t)&&null!==(t=this.yc(t))&&t.Ea(e)},nh.prototype.resolveReferencesForData=function(t){var e=this.diagram.model,i=e.ja(t);if(void 0!==i){var n=mp(e,i),r=this.zc(t);if(null!==n&&null!==r){for(n=n.iterator;n.next();){var l=n.value;e.ab(l)&&r instanceof Si&&e.Mh(l)===i&&ly(this,r,this.gj(l))}Du(e,i)}void 0!==(t=e.Mh(t))&&r instanceof Si&&ly(this,t=this.Cb(t),r)}},nh.prototype.unresolveReferencesForPart=function(t){var e=this.diagram.model;if(t instanceof Si){var i=e.ja(t.data),n=this.yc(t.data);if(null!==n){n.isSelected=!1,n.isHighlighted=!1;var r=n.layer;if(null!==r){var l=r.Lc(-1,n,!1);0<=l&&this.diagram.Va(wn,"parts",r,n,null,l,null),null!==(l=n.layerChanged)&&l(n,r,null)}}for(n=this.diagram.isTreePathToChildren,t=t.linksConnected;t.next();)r=t.value,e.ab(r=(n?r.toNode:r.fromNode).data)&&Eu(e,i,r)}},nh.prototype.insertLink=function(t,e,i){e=this.diagram.model;var n=t,r=i;return this.diagram.isTreePathToChildren||(n=i,r=t),null!==n&&null!==r?(e.fe(r.data,e.ja(n.data)),r.jj()):null},nh.prototype.findLinkForKey=nh.prototype.findLinkForKey,nh.className="TreePartManager",Sn.prototype.cloneProtected=function(t){t.oa=this.oa,t.Ln=this.Ln,t.$f=this.$f,t.Ni=this.Ni,t.Pl=this.Pl,t.il=this.il,t.Dn=this.Dn,t.Cn=this.Cn,t.Fn=this.Fn,t.kn=this.kn,t.Yj=this.Yj},Sn.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},Sn.prototype.clear=function(){this.Fc=[],this.Wa.clear(),this.Tf.clear(),this.undoManager.clear()},Sn.prototype.toString=function(t){if(void 0===t&&(t=0),1<t)return this.fr();var e=(""!==this.name?this.name:"")+" Model";if(0<t){e+="\n node data:";for(var i=(t=this.nodeDataArray).length,n=0;n<i;n++){var r=t[n];e+=" "+this.ja(r)+":"+p(r)}}return e},Sn.prototype.gB=function(t){t.change!==Cr&&U("Model.toIncrementalData argument is not a Transaction ChangedEvent:"+t.toString());var e=t.object;return t.isTransactionFinished&&e instanceof Mn?(n1(this,e),t=this.Yw(e,"FinishedUndo"===t.propertyName),this.Yh=null,t):null},Sn.prototype.Yw=function(t,e){var i=this,n=!1,r=new Pt,l=new Pt,v=new Pt,_=this.Yh;t.changes.each(function($){$.model===i&&("nodeDataArray"===$.modelChange?$.change===gn?r.add($.newValue):$.change===wn&&v.add($.oldValue):i.ab($.object)?l.add($.object):$.change!==rn||i.modelData!==$.object&&"modelData"!==$.propertyName?null!==$.object&&(_&&_.contains($.object)?_.get($.object).each(function(vt){i.ab(vt)&&l.add(vt)}):$.object instanceof Sn||i.qj()&&i.xc($.object)||Tg(i,$.object).each(function(vt){l.add(vt)})):n=!0)});var D=this.Li;D.clear(),r.each(function($){D.add(i.ja($)),e||l.add($)});var O=this.Oi;O.clear(),v.each(function($){O.add(i.ja($)),e&&l.add($)}),t=i.cloneDeep(l.ma());var V=null;return n&&(null===V&&(V={}),V.modelData=this.cloneDeep(this.modelData)),0<D.count&&(null===V&&(V={}),e?V.removedNodeKeys=D.ma():V.insertedNodeKeys=D.ma()),0<t.length&&(null===V&&(V={}),V.modifiedNodeData=t),0<O.count&&(null===V&&(V={}),e?V.insertedNodeKeys=O.ma():V.removedNodeKeys=O.ma()),O.clear(),D.clear(),V},Sn.prototype.cloneDeep=function(t){return kg(this,t,!0)},(Q=Sn.prototype).Vk=function(){var t="";return""!==this.name&&(t+=',\n  "name": '+this.quote(this.name)),""!==this.dataFormat&&(t+=',\n  "dataFormat": '+this.quote(this.dataFormat)),this.isReadOnly&&(t+=',\n  "isReadOnly": '+this.isReadOnly),"key"!==this.nodeKeyProperty&&"string"==typeof this.nodeKeyProperty&&(t+=',\n  "nodeKeyProperty": '+this.quote(this.nodeKeyProperty)),this.copiesArrays&&(t+=',\n  "copiesArrays": true'),this.copiesArrayObjects&&(t+=',\n  "copiesArrayObjects": true'),this.copiesKey||(t+=',\n  "copiesKey": false'),"category"!==this.nodeCategoryProperty&&"string"==typeof this.nodeCategoryProperty&&(t+=',\n  "nodeCategoryProperty": '+this.quote(this.nodeCategoryProperty)),t},Q.Xq=function(t){t.name&&(this.name=t.name),t.dataFormat&&(this.dataFormat=t.dataFormat),t.isReadOnly&&(this.isReadOnly=!0),t.nodeKeyProperty&&(this.nodeKeyProperty=t.nodeKeyProperty),t.copiesArrays&&(this.copiesArrays=!0),t.copiesArrayObjects&&(this.copiesArrayObjects=!0),!1===t.copiesKey&&(this.copiesKey=!1),t.nodeCategoryProperty&&(this.nodeCategoryProperty=t.nodeCategoryProperty)},Q.Zw=function(){var i,t=this.modelData,e=!1;for(i in t)if(!Pg(i,t[i])){e=!0;break}return t="",e&&(t=i1(this)),t+',\n  "nodeDataArray": '+Xh(this,this.nodeDataArray,!0)},Q.rw=function(t){ax(this,t),Ot(t=t.nodeDataArray)&&(this.Om(t),this.nodeDataArray=t)},Q.kr=function(t){Qc(this,t,"nodeKeyProperty");var e=this.Li;e.clear();var i=new Pt,n=this.Oi;n.clear(),n.addAll(this.Wa.iteratorKeys);for(var r=new yt,l=t.nodeDataArray,v=l.length,_=0;_<v;_++){var D=l[_],O=t.ja(D);if(void 0!==O){n.remove(O);var V=this.Kb(O);null===V?(e.add(O),i.add(D)):y0(this,V,D,r)||i.add(D)}else this.Zt(D),O=this.ja(D),e.add(O),i.add(D)}return l="",y0(this,this.modelData,t.modelData,r)||(l+=i1(this)),0<e.count&&(l+=this.tu+Xh(this,e.ma(),!0)),0<i.count&&(l+=this.lx+Xh(this,i.ma(),!0)),0<n.count&&(l+=this.vu+Xh(this,n.ma(),!0)),n.clear(),e.clear(),l},Q.Dz=function(t,e){return void 0===e&&(e=yd(this,this)),'{ "class": '+this.quote(e)+', "incremental": 1'+this.Vk()+this.kr(t)+"}"},Q.Xw=function(t,e){var i=this,n=!1,r=new Pt,l=new Pt,v=new Pt,_=this.Yh;t.changes.each(function(V){V.model===i&&("nodeDataArray"===V.modelChange?V.change===gn?r.add(V.newValue):V.change===wn&&v.add(V.oldValue):i.ab(V.object)?l.add(V.object):V.change!==rn||i.modelData!==V.object&&"modelData"!==V.propertyName?null!==V.object&&(_&&_.contains(V.object)?_.get(V.object).each(function($){i.ab($)&&l.add($)}):V.object instanceof Sn||i.qj()&&i.xc(V.object)||Tg(i,V.object).each(function($){l.add($)})):n=!0)});var D=this.Li;D.clear(),r.each(function(V){D.add(i.ja(V)),e||l.add(V)});var O=this.Oi;return O.clear(),v.each(function(V){O.add(i.ja(V)),e&&l.add(V)}),t="",n&&(t+=i1(this)),0<D.count&&(t+=(e?this.vu:this.tu)+Xh(this,D.ma(),!0)),0<l.count&&(t+=this.lx+Xh(this,l.ma(),!0)),0<O.count&&(t+=(e?this.tu:this.vu)+Xh(this,O.ma(),!0)),O.clear(),D.clear(),t},Q.Wq=function(t){(void 0!==t.name&&t.name!==this.name||void 0!==t.dataFormat&&t.dataFormat!==this.dataFormat||void 0!==t.isReadOnly&&t.isReadOnly!==this.isReadOnly||void 0!==t.nodeKeyProperty&&t.nodeKeyProperty!==this.nodeKeyProperty||void 0!==t.copiesArrays&&t.copiesArrays!==this.copiesArrays||void 0!==t.copiesArrayObjects&&t.copiesArrayObjects!==this.copiesArrayObjects||void 0!==t.copiesKey&&t.copiesKey!==this.copiesKey||void 0!==t.nodeCategoryProperty&&t.nodeCategoryProperty!==this.nodeCategoryProperty)&&U("applyIncrementalJson cannot change Model properties"),ax(this,t);var e=t.insertedNodeKeys,i=t.modifiedNodeData,n=new yt;if(Array.isArray(i))for(var r=0;r<i.length;r++){var l=i[r],v=this.ja(l);null!=v&&n.set(v,l)}if(Array.isArray(e))for(r=e.length,l=0;l<r;l++){var _=this.Kb(v=e[l]);null===_&&(_=(_=n.get(v))?_:this.copyNodeData({}),this.Vm(_,v),this.uf(_))}if(Array.isArray(i))for(e=i.length,n=0;n<e;n++)if(l=this.ja(r=i[n]),null!==(l=this.Kb(l))){for(var D in r)"__gohashid"===D||D===this.nodeKeyProperty||this.Ck()&&D===this.nodeIsGroupProperty||this.setDataProperty(l,D,r[D]);this.Wm(r,l)}if(t=t.removedNodeKeys,Array.isArray(t))for(i=t.length,D=0;D<i;D++)null!==(e=this.Kb(t[D]))&&this.Nm(e)},Q.Yy=function(t,e){t.change!==Cr&&U("Model.toIncrementalJson argument is not a Transaction ChangedEvent:"+t.toString());var i=t.object;return t.isTransactionFinished&&i instanceof Mn?(void 0===e&&(e=yd(this,this)),n1(this,i),t=this.Xw(i,"FinishedUndo"===t.propertyName),this.Yh=null,"2"===e?'{ "incremental": 2'+t+"}":'{ "class": '+this.quote(e)+', "incremental": 1'+this.Vk()+t+"}"):'{ "incremental": 0 }'},Q.hB=function(t,e){return this.Yy(t,e)},Q.fr=function(t){return void 0===t&&(t=yd(this,this)),'{ "class": '+this.quote(t)+this.Vk()+this.Zw()+"}"},Q.toJSON=function(t){return this.fr(t)},Q.Xx=function(t){var e=null;if("string"==typeof t)try{e=B.JSON.parse(t)}catch(n){}else"object"==typeof t?e=t:U("Unable to modify a Model from: "+t);var i=e.incremental;"number"!=typeof i&&U("Unable to apply non-incremental changes to Model: "+t),0!==i&&(this.xa("applyIncrementalJson"),this.Wq(e),this.Xa("applyIncrementalJson"))},Q.vz=function(t){return this.Xx(t)},Sn.constructGraphLinksModel=function(){return new Sn},(Q=Sn.prototype).Om=function(t){if(Ot(t))for(var e=t.length,i=0;i<e;i++){var n=t[i];if(xt(n)){var r=i;n=this.Om(n),Array.isArray(t)?t[r]=n:U("Cannot replace an object in an HTMLCollection or NodeList at "+r)}}else if(xt(t)){for(e in t)if(xt(i=t[e])&&(i=this.Om(i),t[e]=i,"points"===e&&Array.isArray(i))){for(r=i.length%2==0,n=0;n<i.length;n++)if("number"!=typeof i[n]){r=!1;break}if(r){for(r=new zt,n=0;n<i.length/2;n++)r.add(new ht(i[2*n],i[2*n+1]));r.freeze(),t[e]=r}}return function(t){if("object"!=typeof t)return t;var e=t.class||"";if("NaN"===e)return NaN;if("Date"===e)return new Date(t.value);if(0!==e.indexOf("go."))return t;var i=t;if("Point"===(e=e.substr(3)))i=new ht(cs(t.x),cs(t.y));else if("Size"===e)i=new De(cs(t.width),cs(t.height));else if("Rect"===e)i=new he(cs(t.x),cs(t.y),cs(t.width),cs(t.height));else if("Margin"===e)i=new Je(cs(t.top),cs(t.right),cs(t.bottom),cs(t.left));else if("Spot"===e)i="string"==typeof t.enum?Ou(t.enum):new hn(cs(t.x),cs(t.y),cs(t.offsetX),cs(t.offsetY));else if("Brush"===e){if((i=new Fr).type=Xt(Fr,t.type),"string"==typeof t.color&&(i.color=t.color),t.start instanceof hn&&(i.start=t.start),t.end instanceof hn&&(i.end=t.end),"number"==typeof t.startRadius&&(i.startRadius=cs(t.startRadius)),"number"==typeof t.endRadius&&(i.endRadius=cs(t.endRadius)),xt(t=t.colorStops))for(var n in t)i.addColorStop(parseFloat(n),t[n])}else"Geometry"===e?(i=null,(i="string"==typeof t.path?pa(t.path):new hr).type=Xt(hr,t.type),"number"==typeof t.startX&&(i.startX=cs(t.startX)),"number"==typeof t.startY&&(i.startY=cs(t.startY)),"number"==typeof t.endX&&(i.endX=cs(t.endX)),"number"==typeof t.endY&&(i.endY=cs(t.endY)),t.spot1 instanceof hn&&(i.spot1=t.spot1),t.spot2 instanceof hn&&(i.spot2=t.spot2)):"EnumValue"===e&&(0===(n=t.classType).indexOf("go.")&&(n=n.substr(3)),"function"==typeof(n=um(n))&&(i=Xt(n,t.name)));return i}(t)}return t},Q.quote=function(t){for(var e="",i=t.length,n=0;n<i;n++){var r=t[n];if('"'===r||"\\"===r)e+="\\"+r;else if("\b"===r)e+="\\b";else if("\f"===r)e+="\\f";else if("\n"===r)e+="\\n";else if("\r"===r)e+="\\r";else if("\t"===r)e+="\\t";else{var l=t.charCodeAt(n);e=16>l?e+"\\u000"+t.charCodeAt(n).toString(16):32>l?e+"\\u00"+t.charCodeAt(n).toString(16):8232===l?e+"\\u2028":8233===l?e+"\\u2029":e+r}}return'"'+e+'"'},Q.bn=function(t){return void 0===t?"undefined":null===t?"null":!0===t?"true":!1===t?"false":"string"==typeof t?this.quote(t):"number"==typeof t?t===1/0?"9e9999":t===-1/0?"-9e9999":isNaN(t)?'{"class":"NaN"}':t.toString():t instanceof Date?'{"class":"Date", "value":"'+t.toJSON()+'"}':t instanceof Number?this.bn(t.valueOf()):Ot(t)?Xh(this,t):xt(t)?Og(this,t):"function"==typeof t?"null":t.toString()},Q.Hh=function(t){this.cv.add(t)},Q.Tk=function(t){this.cv.remove(t)},Q.zt=function(t){this.skipsUndoManager||this.undoManager.aw(t);for(var e=this.cv,i=e.length,n=0;n<i;n++)e.J(n)(t)},Q.Va=function(t,e,i,n,r,l,v){fs(this,"",t,e,i,n,r,l,v)},Q.g=function(t,e,i,n,r){fs(this,"",rn,t,this,e,i,n,r)},Q.du=function(t,e,i,n,r,l){fs(this,"",rn,e,t,i,n,r,l)},Sn.prototype.changeState=function(t,e){if(null!==t&&t.model===this)if(t.change===rn){var i=t.object,n=t.propertyName,r=t.G(e);n===this.nodeKeyProperty&&this.ab(i)&&(void 0!==(e=t.G(!e))&&this.Wa.remove(e),void 0!==r&&this.Wa.add(r,i)),_o(i,n,r)}else t.change===gn?(i=t.newParam,"nodeDataArray"===t.modelChange?xt(t=t.newValue)&&"number"==typeof i&&(n=this.ja(t),e?(this.Fc[i]===t&&A(this.Fc,i),void 0!==n&&this.Wa.remove(n)):(this.Fc[i]!==t&&Et(this.Fc,i,t),void 0!==n&&this.Wa.add(n,t))):""===t.modelChange?((n=t.object)&&!Ot(n)&&t.propertyName&&(n=$o(t.object,t.propertyName)),Ot(n)&&"number"==typeof i&&(t=t.newValue,e?A(n,i):Et(n,i,t))):U("unknown ChangedEvent.Insert modelChange: "+t.toString())):t.change===wn?(i=t.oldParam,"nodeDataArray"===t.modelChange?xt(t=t.oldValue)&&"number"==typeof i&&(n=this.ja(t),e?(this.Fc[i]!==t&&Et(this.Fc,i,t),void 0!==n&&this.Wa.add(n,t)):(this.Fc[i]===t&&A(this.Fc,i),void 0!==n&&this.Wa.remove(n))):""===t.modelChange?((n=t.object)&&!Ot(n)&&t.propertyName&&(n=$o(t.object,t.propertyName)),Ot(n)&&"number"==typeof i&&(t=t.oldValue,e?Et(n,i,t):A(n,i))):U("unknown ChangedEvent.Remove modelChange: "+t.toString())):t.change!==Cr&&U("unknown ChangedEvent: "+t.toString())},Sn.prototype.xa=function(t){return this.undoManager.xa(t)},Sn.prototype.Xa=function(t){return this.undoManager.Xa(t)},Sn.prototype.If=function(){return this.undoManager.If()},Sn.prototype.commit=function(t,e){void 0===e&&(e="");var i=this.skipsUndoManager;null===e&&(this.skipsUndoManager=!0,e=""),this.undoManager.xa(e);var n=!1;try{t(this),n=!0}finally{n?this.undoManager.Xa(e):this.undoManager.If(),this.skipsUndoManager=i}},(Q=Sn.prototype).Ea=function(t,e){void 0===e&&(e=""),fs(this,"SourceChanged",Cr,e,t,null,null)},Q.ja=function(t){if(null!==t){var e=this.Ni;if(""!==e&&void 0!==(e=$o(t,e))){if(uu(e))return e;U("Key value for node data "+t+" is not a number or a string: "+e)}}},Q.Vm=function(t,e){if(null!==t){var i=this.Ni;if(""!==i)if(this.ab(t)){var n=$o(t,i);n!==e&&null===this.Kb(e)&&(_o(t,i,e),void 0!==n&&this.Wa.remove(n),this.Wa.add(e,t),fs(this,"nodeKey",rn,i,t,n,e),"string"==typeof i&&this.Ea(t,i),this.ar(n,e))}else _o(t,i,e)}},Q.ab=function(t){var e=this.ja(t);return void 0!==e&&this.Wa.G(e)===t},Q.Kb=function(t){return null===t&&U("Model.findNodeDataForKey:key must not be null"),void 0!==t&&uu(t)?this.Wa.G(t):null},Q.Zt=function(t){if(null!==t){var e=this.Ni;if(""!==e){var i=this.ja(t);if(void 0===i||this.Wa.contains(i)){var n=this.Pl;if(null!==n&&null!=(i=n(this,t))&&!this.Wa.contains(i))return void _o(t,e,i);if("string"==typeof i){for(n=2;this.Wa.contains(i+n);)n++;_o(t,e,i+n)}else if(void 0===i||"number"==typeof i){for(i=-this.Wa.count-1;this.Wa.contains(i);)i--;_o(t,e,i)}}}}},Q.uf=function(t){null!==t&&(Fi(t),this.ab(t)||hy(this,t,!0))},Q.qz=function(t){if(Ot(t))for(var e=t.length,i=0;i<e;i++)this.uf(t[i]);else for(t=t.iterator;t.next();)this.uf(t.value)},Q.Nm=function(t){null!==t&&Um(this,t,!0)},Q.WA=function(t){if(Ot(t))for(var e=t.length,i=0;i<e;i++)this.Nm(t[i]);else for(t=t.iterator;t.next();)this.Nm(t.value)},Q.KA=function(t){if(t!==this.nodeDataArray&&Ot(t)){var e=this.Oi;e.clear(),e.addAll(this.Wa.iteratorKeys);var i=this.Li;i.clear();for(var n=t.length,r=0;r<n;r++){var l=t[r],v=this.ja(l);if(void 0!==v){i.add(v);var _=this.Kb(v);_!==l&&(null!==_?(this.vq(_,l),this.Wm(l,_)):(l=this.cloneDeep(l),this.Vm(l,v),this.uf(l)))}else v=this.cloneDeep(l),this.uf(v),i.add(this.ja(v))}for(t=e.iterator;t.next();)i.contains(n=t.value)||(n=this.Kb(n))&&this.Nm(n);e.clear(),i.clear()}},Q.ar=function(t,e){void 0!==e&&(t=mp(this,t))instanceof Pt&&this.Tf.add(e,t)},Q.Sw=function(){},Q.Qm=function(){},Q.Pm=function(){},Q.hr=function(){},Q.Cz=function(t){void 0===t?this.Tf.clear():this.Tf.remove(t)},Sn.prototype.copyNodeData=function(t){if(null===t)return null;var e=this.il;return xt(t=null!==e?e(t,this):x0(this,t,!0))&&Se(t),t},Sn.prototype.setDataProperty=function(t,e,i){if(this.ab(t)){if(e===this.nodeKeyProperty)return void this.Vm(t,i);if(e===this.nodeCategoryProperty)return void this.Um(t,i)}else!r1&&t instanceof jn&&(r1=!0,lt('Model.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),lt("  Is that really your intent?"));var n=$o(t,e);n!==i&&(_o(t,e,i),this.du(t,e,n,i))},(Q=Sn.prototype).set=function(t,e,i){this.setDataProperty(t,e,i)},Q.vq=function(t,e){if(e){var n,i=this.ab(t);for(n in e)"__gohashid"===n||i&&n===this.nodeKeyProperty||this.setDataProperty(t,n,e[n])}},Q.mz=function(t,e){this.Pt(t,-1,e)},Q.Pt=function(t,e,i){0>e&&(e=t.length),Et(t,e,i),fs(this,"",gn,"",t,null,i,null,e)},Q.tw=function(t,e){void 0===e&&(e=-1),t===this.Fc&&U("Model.removeArrayItem should not be called on the Model.nodeDataArray"),-1===e&&(e=t.length-1);var i=t[e];A(t,e),fs(this,"",wn,"",t,i,null,e,null)},Q.Iq=function(t){if(null===t)return"";var e=this.Yj;return""===e||void 0===(e=$o(t,e))?"":"string"==typeof e?e:(U("getCategoryForNodeData found a non-string category for "+t+": "+e),"")},Q.Um=function(t,e){if(null!==t){var i=this.Yj;if(""!==i)if(this.ab(t)){var n=$o(t,i);void 0===n&&(n=""),n!==e&&(_o(t,i,e),fs(this,"nodeCategory",rn,i,t,n,e))}else _o(t,i,e)}},Q.Wm=function(t,e){this.Um(e,this.Iq(t))},Q.Em=function(){return!1},Q.Ck=function(){return!1},Q.qj=function(){return!1},Q.Ut=function(){return!1},Q.Dk=function(){return!1},H.Object.defineProperties(Sn.prototype,{name:{get:function(){return this.oa},set:function(t){var e=this.oa;e!==t&&(this.oa=t,this.g("name",e,t))}},dataFormat:{get:function(){return this.Ln},set:function(t){var e=this.Ln;e!==t&&(this.Ln=t,this.g("dataFormat",e,t))}},isReadOnly:{get:function(){return this.$f},set:function(t){var e=this.$f;e!==t&&(this.$f=t,this.g("isReadOnly",e,t))}},modelData:{get:function(){return this.l},set:function(t){var e=this.l;e!==t&&(this.l=t,this.g("modelData",e,t),this.Ea(t))}},undoManager:{get:function(){return this.u},set:function(t){var e=this.u;e!==t&&(null!==e&&e.Py(this),this.u=t,null!==t&&t.Vx(this))}},skipsUndoManager:{get:function(){return this.vg},set:function(t){this.vg=t}},nodeKeyProperty:{get:function(){return this.Ni},set:function(t){var e=this.Ni;e!==t&&(""===t&&U("Model.nodeKeyProperty may not be the empty string"),0<this.Wa.count&&U("Cannot set Model.nodeKeyProperty when there is existing node data"),this.Ni=t,this.g("nodeKeyProperty",e,t))}},makeUniqueKeyFunction:{get:function(){return this.Pl},set:function(t){var e=this.Pl;e!==t&&(this.Pl=t,this.g("makeUniqueKeyFunction",e,t))}},nodeDataArray:{get:function(){return this.Fc},set:function(t){var e=this.Fc;if(e!==t){this.Wa.clear(),this.Sw();for(var i=t.length,n=0;n<i;n++){var r=t[n];if(!xt(r))return void U("Model.nodeDataArray must only contain Objects, not: "+r);Fi(r)}for(this.Fc=t,n=new zt,r=0;r<i;r++){var l=t[r],v=this.ja(l);void 0===v||null!==this.Wa.G(v)?n.add(l):this.Wa.add(v,l)}for(n=n.iterator;n.next();)this.Zt(r=n.value),void 0!==(l=this.ja(r))&&this.Wa.add(l,r);for(fs(this,"nodeDataArray",rn,"nodeDataArray",this,e,t),e=0;e<i;e++)this.Qm(n=t[e]),this.Pm(n);Array.isArray(t)||(this.isReadOnly=!0)}}},copyNodeDataFunction:{get:function(){return this.il},set:function(t){var e=this.il;e!==t&&(this.il=t,this.g("copyNodeDataFunction",e,t))}},copiesArrays:{get:function(){return this.Dn},set:function(t){var e=this.Dn;e!==t&&(this.Dn=t,this.g("copiesArrays",e,t))}},copiesArrayObjects:{get:function(){return this.Cn},set:function(t){var e=this.Cn;e!==t&&(this.Cn=t,this.g("copiesArrayObjects",e,t))}},copiesKey:{get:function(){return this.Fn},set:function(t){var e=this.Fn;e!==t&&(this.Fn=t,this.g("copiesKey",e,t))}},afterCopyFunction:{get:function(){return this.kn},set:function(t){var e=this.kn;e!==t&&(this.kn=t,this.g("afterCopyFunction",e,t))}},nodeCategoryProperty:{get:function(){return this.Yj},set:function(t){var e=this.Yj;e!==t&&(this.Yj=t,this.g("nodeCategoryProperty",e,t))}},type:{get:function(){return"Model"}}}),Sn.prototype.setCategoryForNodeData=Sn.prototype.Um,Sn.prototype.getCategoryForNodeData=Sn.prototype.Iq,Sn.prototype.removeArrayItem=Sn.prototype.tw,Sn.prototype.insertArrayItem=Sn.prototype.Pt,Sn.prototype.addArrayItem=Sn.prototype.mz,Sn.prototype.assignAllDataProperties=Sn.prototype.vq,Sn.prototype.set=Sn.prototype.set,Sn.prototype.clearUnresolvedReferences=Sn.prototype.Cz,Sn.prototype.mergeNodeDataArray=Sn.prototype.KA,Sn.prototype.removeNodeDataCollection=Sn.prototype.WA,Sn.prototype.removeNodeData=Sn.prototype.Nm,Sn.prototype.addNodeDataCollection=Sn.prototype.qz,Sn.prototype.addNodeData=Sn.prototype.uf,Sn.prototype.makeNodeDataKeyUnique=Sn.prototype.Zt,Sn.prototype.findNodeDataForKey=Sn.prototype.Kb,Sn.prototype.containsNodeData=Sn.prototype.ab,Sn.prototype.setKeyForNodeData=Sn.prototype.Vm,Sn.prototype.getKeyForNodeData=Sn.prototype.ja,Sn.prototype.updateTargetBindings=Sn.prototype.Ea,Sn.prototype.commit=Sn.prototype.commit,Sn.prototype.rollbackTransaction=Sn.prototype.If,Sn.prototype.commitTransaction=Sn.prototype.Xa,Sn.prototype.startTransaction=Sn.prototype.xa,Sn.prototype.raiseDataChanged=Sn.prototype.du,Sn.prototype.raiseChanged=Sn.prototype.g,Sn.prototype.raiseChangedEvent=Sn.prototype.Va,Sn.prototype.removeChangedListener=Sn.prototype.Tk,Sn.prototype.addChangedListener=Sn.prototype.Hh,Sn.prototype.writeJsonValue=Sn.prototype.bn,Sn.prototype.replaceJsonObjects=Sn.prototype.Om,Sn.prototype.applyIncrementalJSON=Sn.prototype.vz,Sn.prototype.applyIncrementalJson=Sn.prototype.Xx,Sn.prototype.toJSON=Sn.prototype.toJSON,Sn.prototype.toJson=Sn.prototype.fr,Sn.prototype.toIncrementalJSON=Sn.prototype.hB,Sn.prototype.toIncrementalJson=Sn.prototype.Yy,Sn.prototype.computeJsonDifference=Sn.prototype.Dz,Sn.prototype.toIncrementalData=Sn.prototype.gB,Sn.prototype.clear=Sn.prototype.clear;var r1=!1,Ch={};function Ms(t,e,i){Se(this),this.v=!1,void 0===t&&(t=""),void 0===e&&(e=t),void 0===i&&(i=null),this.l=-1,this.pd=null,this.pm=t,this.om=this.hq=0,this.ht=null,this.Ao=!1,this.hm=e,this.Bn=i,this.Zo=s1,this.un=null,this.Ou=new Pt}function o1(t,e,i){return null===(t=t.sourceName)||""===t?e:"/"===t?i.part:"."===t?i:".."===t?i.panel:e.bb(t)}Sn.className="Model",Sn.fromJSON=Sn.fromJson=function(t,e){void 0===e&&(e=null);var i=null;if("string"==typeof t)try{i=B.JSON.parse(t)}catch(l){}else"object"==typeof t?i=t:U("Unable to construct a Model from: "+t);if(null===e){t=null;var n=i.class;if("string"==typeof n)try{var r=null;0===n.indexOf("go.")?r=um(n=n.substr(3)):null===(r=um(n))&&(r=B[n]),"function"==typeof r&&(t=new r)}catch(l){}null===t||t instanceof Sn?e=t:U("Unable to construct a Model of declared class: "+i.class)}return null===e&&(e=Sn.constructGraphLinksModel()),e.Xq(i),e.rw(i),e},Sn.safePropertyValue=$o,Sn.safePropertySet=_o,Ch.Brush=Fr,Ch.ChangedEvent=On,Ch.Geometry=hr,Ch.Margin=Je,Ch.Panel=Xi,Ch.Point=ht,Ch.Rect=he,Ch.Size=De,Ch.Spot=hn,Ch.Transaction=Mn,Ch.UndoManager=vr,Ms.prototype.copy=function(){var t=new Ms;return t.pm=this.pm,t.hq=this.hq,t.om=this.om,t.ht=this.ht,t.Ao=this.Ao,t.hm=this.hm,t.Bn=this.Bn,t.Zo=this.Zo,t.un=this.un,t},(Q=Ms.prototype).jb=function(t){t.classType===Ms&&(this.mode=t)},Q.toString=function(){return"Binding("+this.targetProperty+":"+this.sourceProperty+(-1!==this.wj?" "+this.wj:"")+" "+this.mode.name+")"},Q.freeze=function(){return this.v=!0,this},Q.ea=function(){return this.v=!1,this},Q.Iy=function(t){return void 0===t&&(t=null),this.mode=mv,this.backConverter=t,this},Q.Uq=function(t){return void 0===t&&(t=""),this.sourceName=t,this.isToModel=!1,this},Q.MA=function(){return this.sourceName=null,this.isToModel=!0,this},Q.Tw=function(t,e,i){var n=this.hm;if(void 0===i||""===n||n===i){i=this.pm;var r=this.Bn;if(null===r&&""===i)lt("Binding error: target property is the empty string: "+this.toString());else{var l=e;if(""!==n&&(l=$o(e,n)),void 0!==l)if(null===r)""!==i&&_o(t,i,l);else try{""!==i?_o(t,i,r(l,t)):r(l,t)}catch(_){}}}},Q.jr=function(t,e,i,n){if(this.Zo===mv){var r=this.pm;if(void 0===i||r===i){i=this.hm;var l=this.un,v=t;if(""!==r&&(v=$o(t,r)),void 0!==v&&!this.Ou.contains(t))try{this.Ou.add(t);var _=null!==n?n.diagram:null,D=null!==_?_.model:null;if(null===l){if(""!==i)null!==D?D.setDataProperty(e,i,v):_o(e,i,v);else if(null!==D&&null!==n&&0<=n.itemIndex&&null!==n.panel&&Array.isArray(n.panel.itemArray)){var O=n.itemIndex,V=n.panel.itemArray;D.tw(V,O),D.Pt(V,O,v)}}else try{if(""!==i){var $=l(v,e,D);null!==D?D.setDataProperty(e,i,$):_o(e,i,$)}else{var vt=l(v,e,D);if(void 0!==vt&&null!==D&&null!==n&&0<=n.itemIndex&&null!==n.panel&&Array.isArray(n.panel.itemArray)){var kt=n.itemIndex,bt=n.panel.itemArray;D.tw(bt,kt),D.Pt(bt,kt,vt)}}}catch(Wt){}}finally{this.Ou.remove(t)}}}},H.Object.defineProperties(Ms.prototype,{wj:{get:function(){return this.l},set:function(t){this.v&&it(this),this.l=t}},targetProperty:{get:function(){return this.pm},set:function(t){this.v&&it(this),this.pm=t}},sourceName:{get:function(){return this.ht},set:function(t){this.v&&it(this),this.ht=t,null!==t&&(this.Ao=!1)}},isToModel:{get:function(){return this.Ao},set:function(t){this.v&&it(this),this.Ao=t}},sourceProperty:{get:function(){return this.hm},set:function(t){this.v&&it(this),this.hm=t}},converter:{get:function(){return this.Bn},set:function(t){this.v&&it(this),this.Bn=t}},backConverter:{get:function(){return this.un},set:function(t){this.v&&it(this),this.un=t}},mode:{get:function(){return this.Zo},set:function(t){this.v&&it(this),this.Zo=t}}}),Ms.prototype.updateSource=Ms.prototype.jr,Ms.prototype.updateTarget=Ms.prototype.Tw,Ms.prototype.ofModel=Ms.prototype.MA,Ms.prototype.ofObject=Ms.prototype.Uq,Ms.prototype.makeTwoWay=Ms.prototype.Iy;var lx="Binding",s1=new St(Ms,"OneWay",1),mv=new St(Ms,"TwoWay",2);function Sr(t,e){Sn.call(this),this.su=',\n  "insertedLinkKeys": ',this.kx=',\n  "modifiedLinkData": ',this.uu=',\n  "removedLinkKeys": ',this.$c=[],this.ag=new Pt,this.gb=new yt,this.Hi="",this.Aj=this.hl=this.Ql=null,this.af="from",this.bf="to",this.Vj=this.Uj="",this.Tj="category",this.ae="",this.Ul="isGroup",this.ze="group",this.En=!1,void 0!==t&&(this.nodeDataArray=t),void 0!==e&&(this.linkDataArray=e)}function ux(t,e){for(var i=new Pt,n=0;n<t.linkDataArray.length;n++){var r=t.linkDataArray[n];uy(t,e,r,r,i)}return i}function Au(t,e,i){if(null!==e&&""!==(t=i?t.af:t.bf)&&void 0!==(t=$o(e,t))){if(uu(t))return t;U((i?"FromKey":"ToKey")+" value for link data "+e+" is not a number or a string: "+t)}}function Ig(t,e,i,n){if(null===i&&(i=void 0),null!==e){var r=n?t.af:t.bf;if(""!==r)if(i=t.Gm(i),t.xc(e)){var l=$o(e,r);l!==i&&(Du(t,l,e),_o(e,r,i),null===t.Kb(i)&&Eu(t,i,e),fs(t,n?"linkFromKey":"linkToKey",rn,r,e,l,i),"string"==typeof r&&t.Ea(e,r))}else _o(e,r,i)}}function gv(t,e,i){return null===e||""===(t=i?t.Uj:t.Vj)||void 0===(e=$o(e,t))?"":e}function Hm(t,e,i,n){if(null!==e){var r=n?t.Uj:t.Vj;if(""!==r)if(t.xc(e)){var l=$o(e,r);void 0===l&&(l=""),l!==i&&(_o(e,r,i),fs(t,n?"linkFromPortId":"linkToPortId",rn,r,e,l,i),"string"==typeof r&&t.Ea(e,r))}else _o(e,r,i)}}function hx(t,e,i){if(""!==t.linkKeyProperty){var n=t.Wb(e);if(void 0!==n&&t.gb.G(n)===e)return;if(t.Rq(e),void 0===(n=t.Wb(e)))return void U("GraphLinksModel.makeLinkDataKeyUnique failed on "+e+". Data not added to model.");t.gb.add(n,e)}t.ag.add(e),n=null,i&&t.$c.splice(n=t.$c.length,0,e),fs(t,"linkDataArray",gn,"linkDataArray",t,null,e,null,n),cy(t,e)}function cx(t,e,i){t.ag.remove(e);var n=t.Wb(e);if(void 0!==n&&t.gb.remove(n),n=null,i){if(0>(n=t.$c.indexOf(e)))return;t.$c.splice(n,1)}if(fs(t,"linkDataArray",wn,"linkDataArray",t,e,null,n,null),Du(t,i=Au(t,e,!0),e),Du(t,i=Au(t,e,!1),e),n=t.Bf(e),Array.isArray(n))for(var r=n.length,l=0;l<r;l++)Du(t,i=n[l],e)}function cy(t,e){var i=Au(t,e,!0);i=t.Gm(i),null===t.Kb(i)&&Eu(t,i,e),i=Au(t,e,!1),i=t.Gm(i),null===t.Kb(i)&&Eu(t,i,e);var n=t.Bf(e);if(Array.isArray(n))for(var r=n.length,l=0;l<r;l++)null===t.Kb(i=n[l])&&Eu(t,i,e)}function fx(t,e,i){t.cr(i,t.Lt(e)),t.Bw(i,t.xy(e)),t.Gw(i,t.Ay(e)),t.ju(i,t.Bf(e)),t.Cw(i,t.yy(e)),t.Hw(i,t.By(e))}Ms.className="Binding",Ms.parseEnum=function(t,e){return function(i){return null===(i=Xt(t,i))?e:i}},Ms.toString=p,Ms.OneWay=s1,Ms.TwoWay=mv,Z(Sr,Sn),Sr.constructGraphLinksModel=Sn.constructGraphLinksModel,Sr.prototype.cloneProtected=function(t){Sn.prototype.cloneProtected.call(this,t),t.Hi=this.Hi,t.Ql=this.Ql,t.hl=this.hl,t.af=this.af,t.bf=this.bf,t.Uj=this.Uj,t.Vj=this.Vj,t.Tj=this.Tj,t.ae=this.ae,t.Ul=this.Ul,t.ze=this.ze,t.En=this.En},(Q=Sr.prototype).clear=function(){Sn.prototype.clear.call(this),this.$c=[],this.gb.clear(),this.ag.clear()},Q.toString=function(t){if(void 0===t&&(t=0),2<=t)return this.fr();var e=(""!==this.name?this.name:"")+" GraphLinksModel";if(0<t){e+="\n node data:";var n,i=(t=this.nodeDataArray).length;for(n=0;n<i;n++){var r=t[n];e+=" "+this.ja(r)+":"+p(r)}for(e+="\n link data:",i=(t=this.linkDataArray).length,n=0;n<i;n++)e+=" "+Au(this,r=t[n],!0)+"--\x3e"+Au(this,r,!1)}return e},Q.Yw=function(t,e){""===this.linkKeyProperty&&U("GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalData() to succeed.");var i=Sn.prototype.Yw.call(this,t,e),n=this,r=new Pt,l=new Pt,v=new Pt,_=this.Yh;t.changes.each(function(V){V.model===n&&("linkDataArray"===V.modelChange?V.change===gn?r.add(V.newValue):V.change===wn&&v.add(V.oldValue):n.xc(V.object)?l.add(V.object):null!==V.object&&(null!==V.object&&_&&_.contains(V.object)?_.get(V.object).each(function($){n.xc($)&&l.add($)}):V.object instanceof Sn||n.ab(V.object)||ux(n,V.object).each(function($){l.add($)})))});var D=this.Li;D.clear(),r.each(function(V){D.add(n.Wb(V)),e||l.add(V)});var O=this.Oi;return O.clear(),v.each(function(V){O.add(n.Wb(V)),e&&l.add(V)}),t=n.cloneDeep(l.ma()),0<D.count&&(null===i&&(i={}),e?i.removedLinkKeys=D.ma():i.insertedLinkKeys=D.ma()),0<t.length&&(null===i&&(i={}),i.modifiedLinkData=t),0<O.count&&(null===i&&(i={}),e?i.insertedLinkKeys=O.ma():i.removedLinkKeys=O.ma()),O.clear(),D.clear(),i},Q.Vk=function(){var t=Sn.prototype.Vk.call(this),e="";return"category"!==this.linkCategoryProperty&&"string"==typeof this.linkCategoryProperty&&(e+=',\n  "linkCategoryProperty": '+this.quote(this.linkCategoryProperty)),""!==this.linkKeyProperty&&"string"==typeof this.linkKeyProperty&&(e+=',\n  "linkKeyProperty": '+this.quote(this.linkKeyProperty)),"from"!==this.linkFromKeyProperty&&"string"==typeof this.linkFromKeyProperty&&(e+=',\n  "linkFromKeyProperty": '+this.quote(this.linkFromKeyProperty)),"to"!==this.linkToKeyProperty&&"string"==typeof this.linkToKeyProperty&&(e+=',\n  "linkToKeyProperty": '+this.quote(this.linkToKeyProperty)),""!==this.linkFromPortIdProperty&&"string"==typeof this.linkFromPortIdProperty&&(e+=',\n  "linkFromPortIdProperty": '+this.quote(this.linkFromPortIdProperty)),""!==this.linkToPortIdProperty&&"string"==typeof this.linkToPortIdProperty&&(e+=',\n  "linkToPortIdProperty": '+this.quote(this.linkToPortIdProperty)),""!==this.linkLabelKeysProperty&&"string"==typeof this.linkLabelKeysProperty&&(e+=',\n  "linkLabelKeysProperty": '+this.quote(this.linkLabelKeysProperty)),"isGroup"!==this.nodeIsGroupProperty&&"string"==typeof this.nodeIsGroupProperty&&(e+=',\n  "nodeIsGroupProperty": '+this.quote(this.nodeIsGroupProperty)),"group"!==this.nodeGroupKeyProperty&&"string"==typeof this.nodeGroupKeyProperty&&(e+=',\n  "nodeGroupKeyProperty": '+this.quote(this.nodeGroupKeyProperty)),t+e},Q.Xq=function(t){Sn.prototype.Xq.call(this,t),t.linkKeyProperty&&(this.linkKeyProperty=t.linkKeyProperty),t.linkFromKeyProperty&&(this.linkFromKeyProperty=t.linkFromKeyProperty),t.linkToKeyProperty&&(this.linkToKeyProperty=t.linkToKeyProperty),t.linkFromPortIdProperty&&(this.linkFromPortIdProperty=t.linkFromPortIdProperty),t.linkToPortIdProperty&&(this.linkToPortIdProperty=t.linkToPortIdProperty),t.linkCategoryProperty&&(this.linkCategoryProperty=t.linkCategoryProperty),t.linkLabelKeysProperty&&(this.linkLabelKeysProperty=t.linkLabelKeysProperty),t.nodeIsGroupProperty&&(this.nodeIsGroupProperty=t.nodeIsGroupProperty),t.nodeGroupKeyProperty&&(this.nodeGroupKeyProperty=t.nodeGroupKeyProperty)},Q.Zw=function(){return Sn.prototype.Zw.call(this)+',\n  "linkDataArray": '+Xh(this,this.linkDataArray,!0)},Q.rw=function(t){Sn.prototype.rw.call(this,t),t=t.linkDataArray,Array.isArray(t)&&(this.Om(t),this.linkDataArray=t)},Q.kr=function(t){if(!(t instanceof Sr))return U("Model.computeJsonDifference: newmodel must be a GraphLinksModel"),"";""===this.linkKeyProperty&&U("GraphLinksModel.linkKeyProperty must not be an empty string for .computeJsonDifference() to succeed.");var e=Sn.prototype.kr.call(this,t);Qc(this,t,"linkKeyProperty"),Qc(this,t,"linkFromKeyProperty"),Qc(this,t,"linkToKeyProperty"),Qc(this,t,"linkLabelKeysProperty"),Qc(this,t,"nodeIsGroupProperty"),Qc(this,t,"nodeGroupKeyProperty");var i=this.Li;i.clear();var n=new Pt,r=this.Oi;r.clear(),r.addAll(this.gb.iteratorKeys);for(var l=new yt,v=t.linkDataArray,_=v.length,D=0;D<_;D++){var O=v[D],V=t.Wb(O);if(void 0!==V){r.remove(V);var $=this.Dg(V);null===$?(i.add(V),n.add(O)):y0(this,$,O,l)||n.add(O)}else this.Rq(O),V=this.Wb(O),i.add(V),n.add(O)}return t=e,0<i.count&&(t+=this.su+Xh(this,i.ma(),!0)),0<n.count&&(t+=this.kx+Xh(this,n.ma(),!0)),0<r.count&&(t+=this.uu+Xh(this,r.ma(),!0)),r.clear(),i.clear(),t},Q.Xw=function(t,e){""===this.linkKeyProperty&&U("GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalJson() to succeed.");var i=Sn.prototype.Xw.call(this,t,e),n=this,r=new Pt,l=new Pt,v=new Pt,_=this.Yh;t.changes.each(function(V){V.model===n&&("linkDataArray"===V.modelChange?V.change===gn?r.add(V.newValue):V.change===wn&&v.add(V.oldValue):n.xc(V.object)?l.add(V.object):null!==V.object&&(null!==V.object&&_&&_.contains(V.object)?_.get(V.object).each(function($){n.xc($)&&l.add($)}):V.object instanceof Sn||n.ab(V.object)||ux(n,V.object).each(function($){l.add($)})))});var D=this.Li;D.clear(),r.each(function(V){D.add(n.Wb(V)),e||l.add(V)});var O=this.Oi;return O.clear(),v.each(function(V){O.add(n.Wb(V)),e&&l.add(V)}),t=i,0<D.count&&(t+=(e?this.uu:this.su)+Xh(this,D.ma(),!0)),0<l.count&&(t+=this.kx+Xh(this,l.ma(),!0)),0<O.count&&(t+=(e?this.su:this.uu)+Xh(this,O.ma(),!0)),O.clear(),D.clear(),t},Q.Wq=function(t){(void 0!==t.linkCategoryProperty&&t.linkCategoryProperty!==this.linkCategoryProperty||void 0!==t.linkKeyProperty&&t.linkKeyProperty!==this.linkKeyProperty||void 0!==t.linkFromKeyProperty&&t.linkFromKeyProperty!==this.linkFromKeyProperty||void 0!==t.linkToKeyProperty&&t.linkToKeyProperty!==this.linkToKeyProperty||void 0!==t.linkFromPortIdProperty&&t.linkFromPortIdProperty!==this.linkFromPortIdProperty||void 0!==t.linkToPortIdProperty&&t.linkToPortIdProperty!==this.linkToPortIdProperty||void 0!==t.linkLabelKeysProperty&&t.linkLabelKeysProperty!==this.linkLabelKeysProperty||void 0!==t.nodeIsGroupProperty&&t.nodeIsGroupProperty!==this.nodeIsGroupProperty||void 0!==t.nodeGroupKeyProperty&&t.nodeGroupKeyProperty!==this.nodeGroupKeyProperty)&&U("applyIncrementalJson cannot change Model properties"),Sn.prototype.Wq.call(this,t);var e=t.insertedLinkKeys;if(Array.isArray(e))for(var i=e.length,n=0;n<i;n++){var r=e[n],l=this.Dg(r);null===l&&(l=this.Aq({}),this.iu(l,r),this.bj(l))}if(e=t.modifiedLinkData,Array.isArray(e))for(i=e.length,n=0;n<i;n++)if(l=this.Wb(r=e[n]),null!==(l=this.Dg(l))){for(var v in r)"__gohashid"!==v&&v!==this.linkKeyProperty&&this.setDataProperty(l,v,r[v]);fx(this,r,l)}if(t=t.removedLinkKeys,Array.isArray(t))for(v=t.length,e=0;e<v;e++)null!==(i=this.Dg(t[e]))&&this.Mm(i)},Sr.prototype.changeState=function(t,e){if(null!==t&&t.model===this){if(t.change===rn){var i=t.object,n=t.propertyName;if(n===this.linkKeyProperty&&this.xc(i)){var r=t.G(e);return void 0!==(e=t.G(!e))&&this.gb.remove(e),void 0!==r&&this.gb.add(r,i),void _o(i,n,r)}}else if(t.change===gn){if(i=t.newParam,"linkDataArray"===t.modelChange)return void(xt(t=t.newValue)&&"number"==typeof i&&(n=this.Wb(t),e?(this.ag.remove(t),this.$c[i]===t&&this.$c.splice(i,1),void 0!==n&&this.gb.remove(n)):(this.ag.add(t),this.$c[i]!==t&&this.$c.splice(i,0,t),void 0!==n&&this.gb.add(n,t))));if("linkLabelKeys"===t.modelChange)return n=this.Bf(t.object),void(Array.isArray(n)&&"number"==typeof i&&(e?(i=n.indexOf(t.newValue),0<=i&&n.splice(i,1)):0>n.indexOf(t.newValue)&&n.splice(i,0,t.newValue)))}else if(t.change===wn){if(i=t.oldParam,"linkDataArray"===t.modelChange)return void(xt(t=t.oldValue)&&"number"==typeof i&&(n=this.Wb(t),e?(this.ag.add(t),this.$c[i]!==t&&this.$c.splice(i,0,t),void 0!==n&&this.gb.add(n,t)):(this.ag.remove(t),this.$c[i]===t&&this.$c.splice(i,1),void 0!==n&&this.gb.remove(n))));if("linkLabelKeys"===t.modelChange)return n=this.Bf(t.object),void(Array.isArray(n)&&"number"==typeof i&&(e?0>n.indexOf(t.newValue)&&n.splice(i,0,t.newValue):(i=n.indexOf(t.newValue),0<=i&&n.splice(i,1))))}Sn.prototype.changeState.call(this,t,e)}},(Q=Sr.prototype).Gm=function(t){if(void 0!==t){var e=this.Aj;if(null!==e){var i=this.Kb(t);null===i&&(_o(i=this.copyNodeData(e),this.nodeKeyProperty,t),this.uf(i))}return t}},Q.xy=function(t){return Au(this,t,!0)},Q.Bw=function(t,e){Ig(this,t,e,!0)},Q.Ay=function(t){return Au(this,t,!1)},Q.Gw=function(t,e){Ig(this,t,e,!1)},Q.yy=function(t){return gv(this,t,!0)},Q.Cw=function(t,e){Hm(this,t,e,!0)},Q.By=function(t){return gv(this,t,!1)},Q.Hw=function(t,e){Hm(this,t,e,!1)},Q.Bf=function(t){if(null===t)return vv;var e=this.ae;return""===e||void 0===(t=$o(t,e))?vv:t},Q.ju=function(t,e){if(null!==t){var i=this.ae;if(""!==i)if(this.xc(t)){var n=$o(t,i);if(void 0===n&&(n=vv),n!==e){if(Array.isArray(n))for(var r=n.length,l=0;l<r;l++)Du(this,n[l],t);for(_o(t,i,e),r=e.length,l=0;l<r;l++){var v=e[l];null===this.Kb(v)&&Eu(this,v,t)}fs(this,"linkLabelKeys",rn,i,t,n,e),"string"==typeof i&&this.Ea(t,i)}}else _o(t,i,e)}},Q.Dv=function(t,e){if(null!=e&&null!==t){var i=this.ae;if(""!==i){var n=$o(t,i);if(void 0===n)(i=[]).push(e),this.ju(t,i);else if(Array.isArray(n)){var r=n.indexOf(e);0<=r||(r=n.length,n.push(e),this.xc(t)&&(null===this.Kb(e)&&Eu(this,e,t),fs(this,"linkLabelKeys",gn,i,t,null,e,null,r)))}else U(i+" property is not an Array; cannot addLabelKeyForLinkData: "+t)}}},Q.Oy=function(t,e){if(null!=e&&null!==t){var i=this.ae;if(""!==i){var n=$o(t,i);if(Array.isArray(n)){var r=n.indexOf(e);0>r||(n.splice(r,1),this.xc(t)&&(Du(this,e,t),fs(this,"linkLabelKeys",wn,i,t,e,null,r,null)))}else void 0!==n&&U(i+" property is not an Array; cannot removeLabelKeyforLinkData: "+t)}}},Q.Wb=function(t){if(null!==t){var e=this.Hi;if(""!==e&&void 0!==(e=$o(t,e))){if(uu(e))return e;U("Key value for link data "+t+" is not a number or a string: "+e)}}},Q.iu=function(t,e){if(null!==t){var i=this.Hi;if(""!==i)if(this.xc(t)){var n=$o(t,i);n!==e&&null===this.Dg(e)&&(_o(t,i,e),void 0!==n&&this.gb.remove(n),this.gb.add(e,t),fs(this,"linkKey",rn,i,t,n,e),"string"==typeof i&&this.Ea(t,i))}else _o(t,i,e)}},Q.Dg=function(t){return null===t&&U("GraphLinksModel.findLinkDataForKey:key must not be null"),void 0!==t&&uu(t)?this.gb.G(t):null},Q.Rq=function(t){if(null!==t){var e=this.Hi;if(""!==e){var i=this.Wb(t);if(void 0===i||this.gb.contains(i)){var n=this.Ql;if(null!==n&&null!=(i=n(this,t))&&!this.gb.contains(i))return void _o(t,e,i);if("string"==typeof i){for(n=2;this.gb.contains(i+n);)n++;_o(t,e,i+n)}else if(void 0===i||"number"==typeof i){for(i=-this.gb.count-1;this.gb.contains(i);)i--;_o(t,e,i)}}}}},Q.xc=function(t){return null!==t&&this.ag.contains(t)},Q.bj=function(t){null!==t&&(Fi(t),this.xc(t)||hx(this,t,!0))},Q.pz=function(t){if(Array.isArray(t))for(var e=t.length,i=0;i<e;i++)this.bj(t[i]);else for(t=t.iterator;t.next();)this.bj(t.value)},Q.Mm=function(t){null!==t&&cx(this,t,!0)},Q.UA=function(t){if(Array.isArray(t))for(var e=t.length,i=0;i<e;i++)this.Mm(t[i]);else for(t=t.iterator;t.next();)this.Mm(t.value)},Q.JA=function(t){if(""===this.linkKeyProperty&&U("GraphLinksModel.linkKeyProperty must not be an empty string for .mergeLinkDataArray() to succeed."),t!==this.linkDataArray&&Ot(t)){var e=this.Oi;e.clear(),e.addAll(this.gb.iteratorKeys);var i=this.Li;i.clear();for(var n=t.length,r=0;r<n;r++){var l=t[r],v=this.Wb(l);if(void 0!==v){i.add(v);var _=this.Dg(v);_!==l&&(null!==_?(this.vq(_,l),fx(this,l,_)):(l=this.cloneDeep(l),this.iu(l,v),this.bj(l)))}else v=this.cloneDeep(l),this.bj(v),i.add(this.Wb(v))}for(t=e.iterator;t.next();)i.contains(n=t.value)||(n=this.Dg(n))&&this.Mm(n);e.clear(),i.clear()}},Q.Aq=function(t){if(null===t)return null;var e=this.hl;return xt(t=null!==e?e(t,this):x0(this,t,!0))&&(Se(t),""!==this.af&&_o(t,this.af,void 0),""!==this.bf&&_o(t,this.bf,void 0),""!==this.ae&&_o(t,this.ae,[])),t},Q.fw=function(t){if(null===t)return!1;var e=this.Ul;return""!==e&&!!$o(t,e)},Q.Lh=function(t){if(null!==t){var e=this.ze;if(""!==e&&void 0!==(e=$o(t,e))){if(uu(e))return e;U("GroupKey value for node data "+t+" is not a number or a string: "+e)}}},Q.dr=function(t,e){if(null===e&&(e=void 0),null!==t){var i=this.ze;if(""!==i)if(this.ab(t)){var n=$o(t,i);n!==e&&(Du(this,n,t),_o(t,i,e),null===this.Kb(e)&&Eu(this,e,t),fs(this,"nodeGroupKey",rn,i,t,n,e),"string"==typeof i&&this.Ea(t,i))}else _o(t,i,e)}},Sr.prototype.copyNodeData=function(t){return null===t?null:(t=Sn.prototype.copyNodeData.call(this,t),this.rk||""===this.ze||void 0===$o(t,this.ze)||_o(t,this.ze,void 0),t)},Sr.prototype.setDataProperty=function(t,e,i){if(this.ab(t)){if(e===this.nodeKeyProperty)return void this.Vm(t,i);if(e===this.nodeCategoryProperty)return void this.Um(t,i);if(e===this.nodeGroupKeyProperty)return void this.dr(t,i)}else if(this.xc(t)){if(e===this.linkFromKeyProperty)return void Ig(this,t,i,!0);if(e===this.linkToKeyProperty)return void Ig(this,t,i,!1);if(e===this.linkFromPortIdProperty)return void Hm(this,t,i,!0);if(e===this.linkToPortIdProperty)return void Hm(this,t,i,!1);if(e===this.linkKeyProperty)return void this.iu(t,i);if(e===this.linkCategoryProperty)return void this.cr(t,i);if(e===this.linkLabelKeysProperty)return void this.ju(t,i)}var n=$o(t,e);n!==i&&(_o(t,e,i),this.du(t,e,n,i))},(Q=Sr.prototype).vq=function(t,e){if(e){var r,i=this.ab(t),n=this.xc(t);for(r in e)"__gohashid"===r||i&&r===this.nodeKeyProperty||i&&r===this.nodeIsGroupProperty&&$o(t,r)===e[r]||n&&r===this.linkKeyProperty||this.setDataProperty(t,r,e[r])}},Q.ar=function(t,e){Sn.prototype.ar.call(this,t,e);for(var i=this.Wa.iterator;i.next();)this.vw(i.value,t,e);for(i=this.ag.iterator;i.next();){var n=i.value,r=t,l=e;if(Au(this,n,!0)===r){var v=this.af;_o(n,v,l),fs(this,"linkFromKey",rn,v,n,r,l),"string"==typeof v&&this.Ea(n,v)}if(Au(this,n,!1)===r&&(_o(n,v=this.bf,l),fs(this,"linkToKey",rn,v,n,r,l),"string"==typeof v&&this.Ea(n,v)),v=this.Bf(n),Array.isArray(v))for(var _=v.length,D=this.ae,O=0;O<_;O++)v[O]===r&&(v[O]=l,fs(this,"linkLabelKeys",gn,D,n,r,l,O,O))}},Q.vw=function(t,e,i){if(this.Lh(t)===e){var n=this.ze;_o(t,n,i),fs(this,"nodeGroupKey",rn,n,t,e,i),"string"==typeof n&&this.Ea(t,n)}},Q.Sw=function(){Sn.prototype.Sw.call(this);for(var t=this.linkDataArray,e=t.length,i=0;i<e;i++)cy(this,t[i])},Q.Qm=function(t){Sn.prototype.Qm.call(this,t);var e=mp(this,t=this.ja(t));if(null!==e){var i=o();for(e=e.iterator;e.next();){var n=e.value;if(this.ab(n)){if(this.Lh(n)===t){var r=this.ze;fs(this,"nodeGroupKey",rn,r,n,t,t),"string"==typeof r&&this.Ea(n,r),i.push(n)}}else if(Au(this,n,!0)===t&&(fs(this,"linkFromKey",rn,r=this.af,n,t,t),"string"==typeof r&&this.Ea(n,r),i.push(n)),Au(this,n,!1)===t&&(fs(this,"linkToKey",rn,r=this.bf,n,t,t),"string"==typeof r&&this.Ea(n,r),i.push(n)),r=this.Bf(n),Array.isArray(r))for(var l=r.length,v=this.ae,_=0;_<l;_++)r[_]===t&&(fs(this,"linkLabelKeys",gn,v,n,t,t,_,_),i.push(n))}for(e=0;e<i.length;e++)Du(this,t,i[e]);c(i)}},Q.Pm=function(t){Sn.prototype.Pm.call(this,t);var e=this.Lh(t);null===this.Kb(e)&&Eu(this,e,t)},Q.hr=function(t){Sn.prototype.hr.call(this,t),Du(this,this.Lh(t),t)},Q.Lt=function(t){if(null===t)return"";var e=this.Tj;return""===e||void 0===(e=$o(t,e))?"":"string"==typeof e?e:(U("getCategoryForLinkData found a non-string category for "+t+": "+e),"")},Sr.prototype.getLinkCategoryForData=function(t){return this.Lt(t)},Sr.prototype.cr=function(t,e){if(null!==t){var i=this.Tj;if(""!==i)if(this.xc(t)){var n=$o(t,i);void 0===n&&(n=""),n!==e&&(_o(t,i,e),fs(this,"linkCategory",rn,i,t,n,e),"string"==typeof i&&this.Ea(t,i))}else _o(t,i,e)}},Sr.prototype.setLinkCategoryForData=function(t,e){this.cr(t,e)},(Q=Sr.prototype).Wm=function(t,e){Sn.prototype.Wm.call(this,t,e),this.dr(e,this.Lh(t))},Q.Ck=function(){return!0},Q.qj=function(){return!0},Q.Ut=function(){return!0},Q.Dk=function(){return!0},H.Object.defineProperties(Sr.prototype,{archetypeNodeData:{get:function(){return this.Aj},set:function(t){var e=this.Aj;e!==t&&(this.Aj=t,this.g("archetypeNodeData",e,t))}},linkFromKeyProperty:{get:function(){return this.af},set:function(t){var e=this.af;e!==t&&(this.af=t,this.g("linkFromKeyProperty",e,t))}},linkToKeyProperty:{get:function(){return this.bf},set:function(t){var e=this.bf;e!==t&&(this.bf=t,this.g("linkToKeyProperty",e,t))}},linkFromPortIdProperty:{get:function(){return this.Uj},set:function(t){var e=this.Uj;e!==t&&(this.Uj=t,this.g("linkFromPortIdProperty",e,t))}},linkToPortIdProperty:{get:function(){return this.Vj},set:function(t){var e=this.Vj;e!==t&&(this.Vj=t,this.g("linkToPortIdProperty",e,t))}},linkLabelKeysProperty:{get:function(){return this.ae},set:function(t){var e=this.ae;e!==t&&(this.ae=t,this.g("linkLabelKeysProperty",e,t))}},linkDataArray:{get:function(){return this.$c},set:function(t){var e=this.$c;if(e!==t){this.gb.clear();for(var i=t.length,n=0;n<i;n++){var r=t[n];if(!xt(r))return void U("GraphLinksModel.linkDataArray must only contain Objects, not: "+r);Fi(r)}if(this.$c=t,""!==this.linkKeyProperty){for(n=new zt,r=0;r<i;r++){var l=t[r],v=this.Wb(l);void 0===v||null!==this.gb.G(v)?n.add(l):this.gb.add(v,l)}for(n=n.iterator;n.next();)this.Rq(r=n.value),void 0!==(l=this.Wb(r))&&this.gb.add(l,r)}for(n=new Pt,r=0;r<i;r++)n.add(t[r]);for(this.ag=n,fs(this,"linkDataArray",rn,"linkDataArray",this,e,t),e=0;e<i;e++)cy(this,t[e])}}},linkKeyProperty:{get:function(){return this.Hi},set:function(t){var e=this.Hi;if(e!==t){this.Hi=t,this.gb.clear();for(var i=this.linkDataArray.length,n=0;n<i;n++){var r=this.linkDataArray[n],l=this.Wb(r);void 0===l&&(this.Rq(r),l=this.Wb(r)),void 0!==l&&this.gb.add(l,r)}this.g("linkKeyProperty",e,t)}}},makeUniqueLinkKeyFunction:{get:function(){return this.Ql},set:function(t){var e=this.Ql;e!==t&&(this.Ql=t,this.g("makeUniqueLinkKeyFunction",e,t))}},copyLinkDataFunction:{get:function(){return this.hl},set:function(t){var e=this.hl;e!==t&&(this.hl=t,this.g("copyLinkDataFunction",e,t))}},nodeIsGroupProperty:{get:function(){return this.Ul},set:function(t){var e=this.Ul;e!==t&&(this.Ul=t,this.g("nodeIsGroupProperty",e,t))}},nodeGroupKeyProperty:{get:function(){return this.ze},set:function(t){var e=this.ze;e!==t&&(this.ze=t,this.g("nodeGroupKeyProperty",e,t))}},rk:{get:function(){return this.En},set:function(t){this.En!==t&&(this.En=t)}},linkCategoryProperty:{get:function(){return this.Tj},set:function(t){var e=this.Tj;e!==t&&(this.Tj=t,this.g("linkCategoryProperty",e,t))}},type:{get:function(){return"GraphLinksModel"}}}),Sr.prototype.setCategoryForLinkData=Sr.prototype.cr,Sr.prototype.getCategoryForLinkData=Sr.prototype.Lt,Sr.prototype.assignAllDataProperties=Sr.prototype.vq,Sr.prototype.setGroupKeyForNodeData=Sr.prototype.dr,Sr.prototype.getGroupKeyForNodeData=Sr.prototype.Lh,Sr.prototype.isGroupForNodeData=Sr.prototype.fw,Sr.prototype.copyLinkData=Sr.prototype.Aq,Sr.prototype.mergeLinkDataArray=Sr.prototype.JA,Sr.prototype.removeLinkDataCollection=Sr.prototype.UA,Sr.prototype.removeLinkData=Sr.prototype.Mm,Sr.prototype.addLinkDataCollection=Sr.prototype.pz,Sr.prototype.addLinkData=Sr.prototype.bj,Sr.prototype.containsLinkData=Sr.prototype.xc,Sr.prototype.makeLinkDataKeyUnique=Sr.prototype.Rq,Sr.prototype.findLinkDataForKey=Sr.prototype.Dg,Sr.prototype.setKeyForLinkData=Sr.prototype.iu,Sr.prototype.getKeyForLinkData=Sr.prototype.Wb,Sr.prototype.removeLabelKeyForLinkData=Sr.prototype.Oy,Sr.prototype.addLabelKeyForLinkData=Sr.prototype.Dv,Sr.prototype.setLabelKeysForLinkData=Sr.prototype.ju,Sr.prototype.getLabelKeysForLinkData=Sr.prototype.Bf,Sr.prototype.setToPortIdForLinkData=Sr.prototype.Hw,Sr.prototype.getToPortIdForLinkData=Sr.prototype.By,Sr.prototype.setFromPortIdForLinkData=Sr.prototype.Cw,Sr.prototype.getFromPortIdForLinkData=Sr.prototype.yy,Sr.prototype.setToKeyForLinkData=Sr.prototype.Gw,Sr.prototype.getToKeyForLinkData=Sr.prototype.Ay,Sr.prototype.setFromKeyForLinkData=Sr.prototype.Bw,Sr.prototype.getFromKeyForLinkData=Sr.prototype.xy,Sr.prototype.clear=Sr.prototype.clear;var vv=Object.freeze([]);function Sl(t){Sn.call(this),this.Ae="parent",this.Gn=!1,this.$j="parentLinkCategory",void 0!==t&&(this.nodeDataArray=t)}function zo(){Rr.call(this),this.wx=this.Un=this.$b=0,this.Ur=360,this.vx=bc,this.Ij=0,this.mx=new ht,this.Gr=this.be=0,this.ut=new Mv,this.Bu=this.Zj=0,this.gz=600,this.Ap=NaN,this.pn=1,this.bq=0,this.mm=360,this.Eb=bc,this.K=Yl,this.bd=Fg,this.Wc=sn,this.lf=6,this.jp=bv}function yv(t,e,i,n,r){var l=t.Ur,v=t.$b;t=t.be,n=n*Math.PI/180,i=i*Math.PI/180;for(var _=e.length,D=0;D<_;D++){var O=n+(r===Yl?D*i/(360<=l?_:_-1):-D*i/_),V=e.J(D),$=v*Math.tan(O)/t;$=Math.sqrt((v*v+t*t*$*$)/(1+$*$)),V.centerX=$*Math.cos(O),V.centerY=$*Math.sin(O),V.actualAngle=180*O/Math.PI}}function Rg(t,e,i,n){var r=t.$b,l=t.be,v=t.Ij;i=i*Math.PI/180;for(var _=e.length,D=0;D<_;D++){var O=e.J(D),V=e.J(D===_-1?0:D+1),$=l*Math.sin(i);O.centerX=r*Math.cos(i),O.centerY=$,O.actualAngle=180*i/Math.PI,isNaN(O.diameter)&&_0(O,0),isNaN(V.diameter)&&_0(V,0),O=dy(t,r,l,n===Yl?i:-i,(O.diameter+V.diameter)/2+v),i+=n===Yl?O:-O}}function fy(t,e,i,n){var r=t.$b,l=t.be,v=t.Gr;i=i*Math.PI/180;for(var _=e.length,D=0;D<_;D++){var O=e.J(D);O.centerX=r*Math.cos(i),O.centerY=l*Math.sin(i),O.actualAngle=180*i/Math.PI,O=dy(t,r,l,n===Yl?i:-i,v),i+=n===Yl?O:-O}}function Qx(t,e,i,n,r){var l=t.Ur;if(t.Zj=0,t.ut=new Mv,360>i){for(l=n+(r===Yl?l:-l);0>l;)l+=360;180<(l%=360)&&(l-=360),l*=Math.PI/180,t.Bu=l,tw(t,e,i,n,r)}else dx(t,e,i,n,r);t.ut.commit(e)}function dx(t,e,i,n,r){var l=t.$b,v=t.Ij,_=t.Un,D=l*Math.cos(n*Math.PI/180),O=t.be*Math.sin(n*Math.PI/180),V=e.ma();if(3===V.length)V[0].centerX=l,V[0].centerY=0,V[1].centerX=V[0].centerX-V[0].width/2-V[1].width/2-v,V[1].y=V[0].y,V[2].centerX=(V[0].centerX+V[1].centerX)/2,V[2].y=V[0].y-V[2].height-v;else if(4===V.length)V[0].centerX=l,V[0].centerY=0,V[2].centerX=-V[0].centerX,V[2].centerY=V[0].centerY,V[1].centerX=0,V[1].y=Math.min(V[0].y,V[2].y)-V[1].height-v,V[3].centerX=0,V[3].y=Math.max(V[0].y+V[0].height+v,V[2].y+V[2].height+v);else{l=ht.alloc();for(var $=0;$<V.length&&(V[$].centerX=D,V[$].centerY=O,!($>=V.length-1));$++)px(t,D,O,V,$,r,l)||mx(t,D,O,V,$,r,l),D=l.x,O=l.y;if(ht.free(l),t.Zj++,!(23<t.Zj)){D=V[0].centerX,O=V[0].centerY,l=V[V.length-1].centerX,$=V[V.length-1].centerY;var vt=Math.abs(D-l)-((V[0].width+V[V.length-1].width)/2+v),kt=Math.abs(O-$)-((V[0].height+V[V.length-1].height)/2+v);v=0,1>Math.abs(kt)?Math.abs(D-l)<(V[0].width+V[V.length-1].width)/2&&(v=0):v=0<kt?kt:1>Math.abs(vt)?0:vt,D=Math.abs(l)>Math.abs($)?0<l!=O>$:0<$!=D<l,(D=r===Yl?D:!D)&&(v=-Math.abs(v),v=Math.min(v,-V[V.length-1].width),v=Math.min(v,-V[V.length-1].height)),t.ut.compare(v,V),1<Math.abs(v)&&(t.$b=8>t.Zj?t.$b-v/(2*Math.PI):5>V.length&&10<v?t.$b/2:t.$b-(0<v?1.7:-2.3),t.be=t.$b*_,dx(t,e,i,n,r))}}}function tw(t,e,i,n,r){for(var l=t.$b,v=t.be,_=t.Un,D=l*Math.cos(n*Math.PI/180),O=v*Math.sin(n*Math.PI/180),V=ht.alloc(),$=e.ma(),vt=0;vt<$.length&&($[vt].centerX=D,$[vt].centerY=O,!(vt>=$.length-1));vt++)px(t,D,O,$,vt,r,V)||mx(t,D,O,$,vt,r,V),D=V.x,O=V.y;if(ht.free(V),t.Zj++,!(23<t.Zj)){if(D=Math.atan2(O,D),D=r===Yl?t.Bu-D:D-t.Bu,l=(D=Math.abs(D)<Math.abs(D-2*Math.PI)?D:D-2*Math.PI)*(l+v)/2,v=t.ut,Math.abs(l)<Math.abs(v.Am))for(v.Am=l,v.Wk=[],v.cn=[],D=0;D<$.length;D++)v.Wk[D]=$[D].bounds.x,v.cn[D]=$[D].bounds.y;1<Math.abs(l)&&(t.$b=8>t.Zj?t.$b-l/(2*Math.PI):t.$b-(0<l?1.7:-2.3),t.be=t.$b*_,tw(t,e,i,n,r))}}function px(t,e,i,n,r,l,v){var _=t.$b,D=t.be,O=0;t=(n[r].width+n[r+1].width)/2+t.Ij;var V=!1;if(0<=i!=(l===Yl)){if((l=e+t)>_){if((l=e-t)<-_)return v.x=l,v.y=O,!1;V=!0}}else if((l=e-t)<-_){if((l=e+t)>_)return v.x=l,v.y=O,!1;V=!0}return O=Math.sqrt(1-Math.min(1,l*l/(_*_)))*D,0>i!==V&&(O=-O),Math.abs(i-O)>(n[r].height+n[r+1].height)/2?(v.x=l,v.y=O,!1):(v.x=l,v.y=O,!0)}function mx(t,e,i,n,r,l,v){var _=t.$b,D=t.be,O=0;if(t=(n[r].height+n[r+1].height)/2+t.Ij,n=!1,0<=e!=(l===Yl)){if((l=i-t)<-D){if((l=i+t)>D)return v.x=O,void(v.y=l);n=!0}}else if((l=i+t)>D){if((l=i-t)<-D)return v.x=O,void(v.y=l);n=!0}O=Math.sqrt(1-Math.min(1,l*l/(D*D)))*_,0>e!==n&&(O=-O),v.x=O,v.y=l}function xv(t,e,i,n,r){var l=t.gz;if(.001>Math.abs(t.Un-1))return void 0!==n&&void 0!==r?r*e:2*Math.PI*e;t=e>i?Math.sqrt(e*e-i*i)/e:Math.sqrt(i*i-e*e)/i;for(var v=0,_=void 0!==n&&void 0!==r?r/(l+1):Math.PI/(2*(l+1)),D=0,O=0;O<=l;O++){D=void 0!==n&&void 0!==r?n+O*r/l:O*Math.PI/(2*l);var V=Math.sin(D);v+=Math.sqrt(1-t*t*V*V)*_}return void 0!==n&&void 0!==r?(e>i?e:i)*v:4*(e>i?e:i)*v}function Lg(t,e,i,n,r){return e/(void 0!==n&&void 0!==r?xv(t,1,i,n,r):xv(t,1,i))}function dy(t,e,i,n,r){if(.001>Math.abs(t.Un-1))return r/e;var l=e>i?Math.sqrt(e*e-i*i)/e:Math.sqrt(i*i-e*e)/i,v=0;t=2*Math.PI/(700*t.network.vertexes.count),e>i&&(n+=Math.PI/2);for(var _=0;;_++){var D=Math.sin(n+_*t);if((v+=(e>i?e:i)*Math.sqrt(1-l*l*D*D)*t)>=r)return _*t}}Sr.className="GraphLinksModel",Ch.GraphLinksModel=Sr,Sn.constructGraphLinksModel=Sn.constructGraphLinksModel=function(){return new Sr},Sn.initDiagramModel=lm=function(){return new Sr},Z(Sl,Sn),Sl.constructGraphLinksModel=Sn.constructGraphLinksModel,Sl.prototype.cloneProtected=function(t){Sn.prototype.cloneProtected.call(this,t),t.Ae=this.Ae,t.Gn=this.Gn,t.$j=this.$j},(Q=Sl.prototype).toString=function(t){if(void 0===t&&(t=0),2<=t)return this.fr();var e=(""!==this.name?this.name:"")+" TreeModel";if(0<t){e+="\n node data:";for(var i=(t=this.nodeDataArray).length,n=0;n<i;n++){var r=t[n];e+=" "+this.ja(r)+":"+p(r)}}return e},Q.Vk=function(){var t=Sn.prototype.Vk.call(this),e="";return"parent"!==this.nodeParentKeyProperty&&"string"==typeof this.nodeParentKeyProperty&&(e+=',\n  "nodeParentKeyProperty": '+this.quote(this.nodeParentKeyProperty)),t+e},Q.Xq=function(t){Sn.prototype.Xq.call(this,t),t.nodeParentKeyProperty&&(this.nodeParentKeyProperty=t.nodeParentKeyProperty)},Q.kr=function(t){return Qc(this,t,"nodeParentKeyProperty"),Sn.prototype.kr.call(this,t)},Q.Wq=function(t){void 0!==t.nodeParentKeyProperty&&t.nodeParentKeyProperty!==this.nodeParentKeyProperty&&U("applyIncrementalJson cannot change Model properties"),Sn.prototype.Wq.call(this,t)},Q.Gm=function(t){return t},Q.Mh=function(t){if(null!==t){var e=this.Ae;if(""!==e&&void 0!==(e=$o(t,e))){if(uu(e))return e;U("ParentKey value for node data "+t+" is not a number or a string: "+e)}}},Q.fe=function(t,e){if(null===e&&(e=void 0),null!==t){var i=this.Ae;if(""!==i)if(e=this.Gm(e),this.ab(t)){var n=$o(t,i);n!==e&&(Du(this,n,t),_o(t,i,e),null===this.Kb(e)&&Eu(this,e,t),fs(this,"nodeParentKey",rn,i,t,n,e),"string"==typeof i&&this.Ea(t,i))}else _o(t,i,e)}},Q.Ot=function(t){if(null===t)return"";var e=this.$j;return""===e||void 0===(e=$o(t,e))?"":"string"==typeof e?e:(U("getParentLinkCategoryForNodeData found a non-string category for "+t+": "+e),"")},Sl.prototype.getLinkCategoryForData=function(t){return this.Ot(t)},Sl.prototype.ku=function(t,e){if(null!==t){var i=this.$j;if(""!==i)if(this.ab(t)){var n=$o(t,i);void 0===n&&(n=""),n!==e&&(_o(t,i,e),fs(this,"parentLinkCategory",rn,i,t,n,e),"string"==typeof i&&this.Ea(t,i))}else _o(t,i,e)}},Sl.prototype.setLinkCategoryForData=function(t,e){this.ku(t,e)},Sl.prototype.copyNodeData=function(t){return null===t?null:(t=Sn.prototype.copyNodeData.call(this,t),this.sk||""===this.Ae||void 0===$o(t,this.Ae)||_o(t,this.Ae,void 0),t)},Sl.prototype.setDataProperty=function(t,e,i){if(this.ab(t)){if(e===this.nodeKeyProperty)return void this.Vm(t,i);if(e===this.nodeCategoryProperty)return void this.Um(t,i);if(e===this.nodeParentKeyProperty)return void this.fe(t,i)}var n=$o(t,e);n!==i&&(_o(t,e,i),this.du(t,e,n,i))},(Q=Sl.prototype).ar=function(t,e){Sn.prototype.ar.call(this,t,e);for(var i=this.Wa.iterator;i.next();)this.vw(i.value,t,e)},Q.vw=function(t,e,i){if(this.Mh(t)===e){var n=this.Ae;_o(t,n,i),fs(this,"nodeParentKey",rn,n,t,e,i),"string"==typeof n&&this.Ea(t,n)}},Q.Qm=function(t){Sn.prototype.Qm.call(this,t);var e=mp(this,t=this.ja(t));if(null!==e){var i=o();for(e=e.iterator;e.next();){var n=e.value;if(this.ab(n)&&this.Mh(n)===t){var r=this.Ae;fs(this,"nodeParentKey",rn,r,n,t,t),"string"==typeof r&&this.Ea(n,r),i.push(n)}}for(e=0;e<i.length;e++)Du(this,t,i[e]);c(i)}},Q.Pm=function(t){Sn.prototype.Pm.call(this,t);var e=this.Mh(t);e=this.Gm(e),null===this.Kb(e)&&Eu(this,e,t)},Q.hr=function(t){Sn.prototype.hr.call(this,t),Du(this,this.Mh(t),t)},Q.Wm=function(t,e){Sn.prototype.Wm.call(this,t,e),this.ku(e,this.Ot(t)),this.fe(e,this.Mh(t))},Q.Em=function(){return!0},Q.Ut=function(){return!0},H.Object.defineProperties(Sl.prototype,{nodeParentKeyProperty:{get:function(){return this.Ae},set:function(t){var e=this.Ae;e!==t&&(this.Ae=t,this.g("nodeParentKeyProperty",e,t))}},sk:{get:function(){return this.Gn},set:function(t){this.Gn!==t&&(this.Gn=t)}},parentLinkCategoryProperty:{get:function(){return this.$j},set:function(t){var e=this.$j;e!==t&&(this.$j=t,this.g("parentLinkCategoryProperty",e,t))}},linkCategoryProperty:{get:function(){return this.parentLinkCategoryProperty},set:function(t){this.parentLinkCategoryProperty=t}},type:{get:function(){return"TreeModel"}}}),Sl.prototype.setParentLinkCategoryForNodeData=Sl.prototype.ku,Sl.prototype.getParentLinkCategoryForNodeData=Sl.prototype.Ot,Sl.prototype.setParentKeyForNodeData=Sl.prototype.fe,Sl.prototype.getParentKeyForNodeData=Sl.prototype.Mh,Sl.className="TreeModel",Ch.TreeModel=Sl,Z(zo,Rr),zo.prototype.cloneProtected=function(t){Rr.prototype.cloneProtected.call(this,t),t.Ap=this.Ap,t.pn=this.pn,t.bq=this.bq,t.mm=this.mm,t.Eb=this.Eb,t.K=this.K,t.bd=this.bd,t.Wc=this.Wc,t.lf=this.lf,t.jp=this.jp},zo.prototype.jb=function(t){t.classType===zo?t===_v||t===Gm||t===wv||t===py||t===Fg?this.sorting=t:t===tf||t===Ng||t===Yl||t===w0?this.direction=t:t===gp||t===hm||t===bc||t===Sh?this.arrangement=t:(t===Ym||t===bv)&&(this.nodeDiameterFormula=t):Rr.prototype.jb.call(this,t)},zo.prototype.createNetwork=function(){return new Bg(this)},zo.prototype.doLayout=function(t){if(null===this.network&&(this.network=this.makeNetwork(t)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),1>=(t=this.network.vertexes).count)1===t.count&&((t=t.first()).centerX=0,t.centerY=0);else{var e=new zt;e.addAll(t.iterator),t=new zt;var r,l,i=new zt,n=this.sort(e),v=this.Gr,_=this.arrangement,D=this.nodeDiameterFormula,O=this.radius;(!isFinite(O)||0>=O)&&(O=NaN);var V=this.aspectRatio;(!isFinite(V)||0>=V)&&(V=1);var $=this.startAngle;isFinite($)||($=0);var vt=this.sweepAngle;if((!isFinite(vt)||360<vt||1>vt)&&(vt=360),e=this.spacing,isFinite(e)||(e=NaN),_===Sh&&D===Ym?_=bc:_===Sh&&D!==Ym&&(_=this.arrangement),(this.direction===tf||this.direction===Ng)&&this.sorting!==Fg){for(D=0;!(D>=n.length||(t.add(n.J(D)),D+1>=n.length));D+=2)i.add(n.J(D+1));this.direction===tf?(this.arrangement===Sh&&t.reverse(),(n=new zt).addAll(t),n.addAll(i)):(this.arrangement===Sh&&i.reverse(),(n=new zt).addAll(i),n.addAll(t))}D=n.length;for(var kt=l=r=0;kt<n.length;kt++){var bt=$+vt*l*(this.direction===Yl?1:-1)/D,Wt=n.J(kt).diameter;isNaN(Wt)&&(Wt=_0(n.J(kt),bt)),360>vt&&(0===kt||kt===n.length-1)&&(Wt/=2),r+=Wt,l++}if(isNaN(O)||_===Sh){if(isNaN(e)&&(e=6),_!==bc&&_!==Sh){for(l=-1/0,v=0;v<D;v++)kt=n.J(v),r=n.J(v===D-1?0:v+1),isNaN(kt.diameter)&&_0(kt,0),isNaN(r.diameter)&&_0(r,0),l=Math.max(l,(kt.diameter+r.diameter)/2);v=l+e,O=_===gp?(l+e)/(2*Math.PI/D):Lg(this,v*(360<=vt?D:D-1),V,$*Math.PI/180,vt*Math.PI/180)}else O=Lg(this,r+(360<=vt?D:D-1)*(_!==Sh?e:1.6*e),V,$*Math.PI/180,vt*Math.PI/180);l=O*V}else if(kt=xv(this,O,l=O*V,$*Math.PI/180,vt*Math.PI/180),isNaN(e))(_===bc||_===Sh)&&(e=(kt-r)/(360<=vt?D:D-1));else if(_===bc||_===Sh)(kt=(kt-r)/(360<=vt?D:D-1))<e?l=(O=Lg(this,r+e*(360<=vt?D:D-1),V,$*Math.PI/180,vt*Math.PI/180))*V:e=kt;else{for(v=-1/0,r=0;r<D;r++)bt=n.J(r),Wt=n.J(r===D-1?0:r+1),isNaN(bt.diameter)&&_0(bt,0),isNaN(Wt.diameter)&&_0(Wt,0),v=Math.max(v,(bt.diameter+Wt.diameter)/2);(r=Lg(this,(v+=e)*(360<=vt?D:D-1),V,$*Math.PI/180,vt*Math.PI/180))>O?l=(O=r)*V:v=kt/(360<=vt?D:D-1)}if(this.vx=_,this.$b=O,this.Un=V,this.wx=$,this.Ur=vt,this.Ij=e,this.be=l,this.Gr=v,e=n,n=this.vx,_=this.$b,O=this.wx,V=this.Ur,$=this.Ij,vt=this.be,D=this.Gr,this.direction!==tf&&this.direction!==Ng||n!==Sh)if(this.direction===tf||this.direction===Ng){switch(v=0,n){case hm:v=180*dy(this,_,vt,O,D)/Math.PI;break;case bc:D=e=0,null!==(v=t.first())&&(e=_0(v,Math.PI/2)),null!==(v=i.first())&&(D=_0(v,Math.PI/2)),v=180*dy(this,_,vt,O,$+(e+D)/2)/Math.PI;break;case gp:v=V/e.length}if(this.direction===tf){switch(n){case hm:fy(this,t,O,w0);break;case bc:Rg(this,t,O,w0);break;case gp:yv(this,t,V/2,O,w0)}switch(n){case hm:fy(this,i,O+v,Yl);break;case bc:Rg(this,i,O+v,Yl);break;case gp:yv(this,i,V/2,O+v,Yl)}}else{switch(n){case hm:fy(this,i,O,w0);break;case bc:Rg(this,i,O,w0);break;case gp:yv(this,i,V/2,O,w0)}switch(n){case hm:fy(this,t,O+v,Yl);break;case bc:Rg(this,t,O+v,Yl);break;case gp:yv(this,t,V/2,O+v,Yl)}}}else switch(n){case hm:fy(this,e,O,this.direction);break;case bc:Rg(this,e,O,this.direction);break;case gp:yv(this,e,V,O,this.direction);break;case Sh:Qx(this,e,V,O,this.direction)}else Qx(this,e,V,O-V/2,Yl)}this.updateParts(),this.network=null,this.isValidLayout=!0},zo.prototype.commitLayout=function(){this.commitNodes(),this.isRouting&&this.commitLinks()},zo.prototype.commitNodes=function(){var t=null!==this.group&&null!==this.group.placeholder&&this.group.isSubGraphExpanded,e=t?this.group.location.copy():null,i=this.actualCenter;t?i=new ht(0,0):(i.x=this.arrangementOrigin.x+this.$b,i.y=this.arrangementOrigin.y+this.be);for(var n=this.network.vertexes.iterator;n.next();){var r=n.value;r.x+=i.x,r.y+=i.y,r.commit()}t&&(this.group.Ta(),t=this.group.position.copy(),i=this.group.location.copy(),e=e.ge(i.ge(t)),this.group.move(e),this.mx=e.ge(t))},zo.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},zo.prototype.sort=function(t){switch(this.sorting){case wv:break;case py:t.reverse();break;case _v:t.sort(this.comparer);break;case Gm:t.sort(this.comparer),t.reverse();break;case Fg:return this.nw(function(t){for(var e=[],i=0;i<t.length;i++)e.push(0);i=new zt;for(var n=0;n<t.length;n++){var r=-1,l=-1;if(0===n)for(var v=0;v<t.length;v++){var _=t.J(v).edgesCount;_>r&&(r=_,l=v)}else for(v=0;v<t.length;v++)(_=e[v])>r&&(r=_,l=v);for(i.add(t.J(l)),e[l]=-1,v=(l=t.J(l)).sourceEdges;v.next();)0>(r=t.indexOf(v.value.fromVertex))||0<=e[r]&&e[r]++;for(l=l.destinationEdges;l.next();)0>(r=t.indexOf(l.value.toVertex))||0<=e[r]&&e[r]++}return i}(t));default:U("Invalid sorting type.")}return t},zo.prototype.nw=function(t){for(var e=[],i=0;i<t.length;i++){var n=t.J(i);e[i]=[];for(var r,l=n.destinationEdges;l.next();)(r=t.indexOf(l.value.toVertex))!==i&&0>e[i].indexOf(r)&&e[i].push(r);for(n=n.sourceEdges;n.next();)(r=t.indexOf(n.value.fromVertex))!==i&&0>e[i].indexOf(r)&&e[i].push(r)}for(l=[],i=0;i<e.length;i++)l[i]=0;i=[];var v=[],_=[];n=[],r=new zt;for(var D=0,O=0;O<e.length;O++){var V=e[O].length;if(1===V)n.push(O);else if(0===V)r.add(t.J(O));else{if(0===D)i.push(O);else{for(var $=V=1/0,vt=-1,kt=[],bt=0;bt<i.length;bt++)0>e[i[bt]].indexOf(i[bt===i.length-1?0:bt+1])&&kt.push(bt===i.length-1?0:bt+1);if(0===kt.length)for(bt=0;bt<i.length;bt++)kt.push(bt);for(bt=0;bt<kt.length;bt++){for(var Wt=kt[bt],de=e[O],le=0,we=0;we<v.length;we++){var Pe=l[v[we]],Ke=l[_[we]];if(Pe<Ke){var ui=Pe;Pe=Ke}else ui=Ke;if(ui<Wt&&Wt<=Pe)for(Ke=0;Ke<de.length;Ke++){var $i=de[Ke];0>i.indexOf($i)||ui<l[$i]&&l[$i]<Pe||ui===l[$i]||Pe===l[$i]||le++}else for(Ke=0;Ke<de.length;Ke++)0>i.indexOf($i=de[Ke])||ui<l[$i]&&l[$i]<Pe&&ui!==l[$i]&&Pe!==l[$i]&&le++}for(de=le,we=le=0;we<e[O].length;we++)0<=(ui=i.indexOf(e[O][we]))&&(le+=(ui=Math.abs(Wt-(ui>=Wt?ui+1:ui)))<i.length+1-ui?ui:i.length+1-ui);for(we=0;we<v.length;we++)(ui=l[v[we]])>=Wt&&ui++,(Pe=l[_[we]])>=Wt&&Pe++,ui>Pe&&(Ke=Pe,Pe=ui,ui=Ke),Pe-ui<(i.length+2)/2==(ui<Wt&&Wt<=Pe)&&le++;(de<V||de===V&&le<$)&&(V=de,$=le,vt=Wt)}for(i.splice(vt,0,O),V=0;V<i.length;V++)l[i[V]]=V;for(V=0;V<e[O].length;V++)0<=i.indexOf($=e[O][V])&&(v.push(O),_.push($))}D++}}for(v=i.length;;){for(l=!0,_=0;_<n.length;_++)if(0<=(V=i.indexOf(O=e[D=n[_]][0]))){for(vt=$=0;vt<e[O].length;vt++)0>(kt=i.indexOf(e[O][vt]))||kt===V||($+=kt<V!=(bt=kt>V?kt-V:V-kt)>v-bt?1:-1);i.splice(0>$?V:V+1,0,D),n.splice(_,1),_--}else l=!1;if(l)break;i.push(n[0]),n.splice(0,1)}for(e=0;e<i.length;e++)r.add(t.J(i[e]));return r},H.Object.defineProperties(zo.prototype,{radius:{get:function(){return this.Ap},set:function(t){this.Ap!==t&&(0<t||isNaN(t))&&(this.Ap=t,this.C())}},aspectRatio:{get:function(){return this.pn},set:function(t){this.pn!==t&&0<t&&(this.pn=t,this.C())}},startAngle:{get:function(){return this.bq},set:function(t){this.bq!==t&&(this.bq=t,this.C())}},sweepAngle:{get:function(){return this.mm},set:function(t){this.mm!==t&&(this.mm=0<t&&360>=t?t:360,this.C())}},arrangement:{get:function(){return this.Eb},set:function(t){this.Eb===t||t!==Sh&&t!==bc&&t!==hm&&t!==gp||(this.Eb=t,this.C())}},direction:{get:function(){return this.K},set:function(t){this.K===t||t!==Yl&&t!==w0&&t!==tf&&t!==Ng||(this.K=t,this.C())}},sorting:{get:function(){return this.bd},set:function(t){this.bd===t||t!==wv&&t!==py&&t!==_v&&!Gm&&t!==Fg||(this.bd=t,this.C())}},comparer:{get:function(){return this.Wc},set:function(t){this.Wc!==t&&(this.Wc=t,this.C())}},spacing:{get:function(){return this.lf},set:function(t){this.lf!==t&&(this.lf=t,this.C())}},nodeDiameterFormula:{get:function(){return this.jp},set:function(t){this.jp===t||t!==bv&&t!==Ym||(this.jp=t,this.C())}},actualXRadius:{get:function(){return this.$b}},actualYRadius:{get:function(){return this.be}},actualSpacing:{get:function(){return this.Ij}},actualCenter:{get:function(){return this.mx}}});var bc=new St(zo,"ConstantSpacing",0),hm=new St(zo,"ConstantDistance",1),gp=new St(zo,"ConstantAngle",2),Sh=new St(zo,"Packed",3),Yl=new St(zo,"Clockwise",4),w0=new St(zo,"Counterclockwise",5),tf=new St(zo,"BidirectionalLeft",6),Ng=new St(zo,"BidirectionalRight",7),wv=new St(zo,"Forwards",8),py=new St(zo,"Reverse",9),_v=new St(zo,"Ascending",10),Gm=new St(zo,"Descending",11),Fg=new St(zo,"Optimized",12),bv=new St(zo,"Pythagorean",13),Ym=new St(zo,"Circular",14);function Mv(){this.Am=-1/0,this.cn=this.Wk=null}function Bg(t){P.call(this,t)}function Cv(t){Gi.call(this,t),this.I=this.Gj=NaN}function _0(t,e){var i=t.network;if(null===i)return NaN;if(null===(i=i.layout))return NaN;if(i.arrangement===Sh)if(i.nodeDiameterFormula===Ym)t.Gj=Math.max(t.width,t.height);else{if(i=Math.abs(Math.sin(e)),e=Math.abs(Math.cos(e)),0===i)return t.width;if(0===e)return t.height;t.Gj=Math.min(t.height/i,t.width/e)}else t.Gj=i.nodeDiameterFormula===Ym?Math.max(t.width,t.height):Math.sqrt(t.width*t.width+t.height*t.height);return t.Gj}function Sv(t){Un.call(this,t)}function da(){Rr.call(this),this.Fh=null,this.Eo=0,this.Pd=new De(100,100).freeze(),this.on=!1,this.kf=!0,this.jd=!1,this.Rl=100,this.Xn=1,this.Xf=1e3,this.bp=10,this.Bp=Math,this.ol=.05,this.nl=50,this.ll=150,this.ml=0,this.On=10,this.Nn=5}function a1(t,e,i){if(function(t,e){if(10<e||3>t.network.vertexes.count)return!1;for(t.Fh=t.network.vertexes.ma(),(t=t.Fh).sort(function(i,n){return null===i||null===n||i===n?0:n.Ld-i.Ld}),e=t.length-1;0<=e&&1>=t[e].Ld;)e--;return 1<t.length-e}(t,e)){var n=t.Xf;t.Xf*=1+1/(e+1);var r=function(t,e){for(var i=t.network,n=new b0(t),r=0;r<t.Fh.length;r++){var l=t.Fh[r];if(!(1<l.Ld))break;n.Bg(l);var v=new my;v.qu=l.Ld,v.ru=l.width,v.pu=l.height,v.$w=l.focus.x,v.ax=l.focus.y,null===l.Ne&&(l.Ne=new zt),l.Ne.add(v),l.zw=l.Ne.count-1}for(l=i.edges.iterator;l.next();){var _=l.value;v=_.toVertex,(r=_.fromVertex).network===n&&v.network===n?n.tm(_):r.network===n?(null===(_=r.qk)&&(_=new zt,r.qk=_),_.add(v),r.Ld--,r.Sh+=v.Sh):v.network===n&&(null===(_=v.qk)&&(_=new zt,v.qk=_),_.add(r),v.Ld--,v.Sh+=r.Sh)}for(r=n.edges.iterator;r.next();)(l=r.value).length*=Math.max(1,ti.sqrt((l.fromVertex.Sh+l.toVertex.Sh)/(4*e+1)));for(e=n.vertexes.iterator;e.next();){var D=(r=e.value).qk;if(null!==D&&0<D.count&&!(0>=(v=r.Ne.J(r.Ne.count-1).qu-r.Ld))){for(var O=_=0,V=D.count-v;V<D.count;V++){var $=D.J(V),vt=null;for(l=$.edges.iterator;l.next();){var kt=l.value;if(kt.zy($)===r){vt=kt;break}}null!==vt&&(O+=vt.length,_+=$.width*$.height)}l=r.centerX,D=r.centerY,vt=r.focus,1>(kt=(V=r.width)*($=r.height))&&(kt=1),_=ti.sqrt((_+kt+O*O*4/(v*v))/kt),r.bounds=new he(l-vt.x-(v=(_-1)*V/2),D-vt.y-(_=(_-1)*$/2),V+2*v,$+2*_),r.focus=new ht(vt.x+v,vt.y+_)}}return t.network=n,i}(t,e),l=Math.max(0,Math.max(Math.min(t.network.vertexes.count,i*(e+1)/11),10));for(t.maxIterations+=l,a1(t,e+1,i),Vg(t,l),function(t,e){for(var i=t.network.vertexes.iterator;i.next();){var n=i.value;if(n.network=e,null!==n.Ne){var r=n.Ne.J(n.zw);n.Ld=r.qu;var l=r.$w,v=r.ax;n.bounds=new he(n.centerX-l,n.centerY-v,r.ru,r.pu),n.focus=new ht(l,v),n.zw--}}for(i=t.network.edges.iterator;i.next();)i.value.network=e;t.network=e}(t,r),(e=r.vertexes.ma()).sort(function(v,_){return null===v||null===_||v===_?0:_.Ld-v.Ld}),i=0;i<e.length;i++)u1(t,e[i]);t.Xf=n}}function u1(t,e){var i=e.qk;if(null!==i&&0!==i.count){var n=e.centerX,r=e.centerY,l=e.width,v=e.height;null!==e.Ne&&0<e.Ne.count&&(l=(v=e.Ne.J(0)).ru,v=v.pu),l=ti.sqrt(l*l+v*v)/2;for(var _=!1,D=v=0,O=0,V=e.vertexes.iterator;V.next();){var $=V.value;1>=$.Ld?D++:(_=!0,O++,v+=Math.atan2(e.centerY-$.centerY,e.centerX-$.centerX))}if(0!==D)for(0<O&&(v/=O),O=e=0,e=_?2*Math.PI/(D+1):2*Math.PI/D,D%2==0&&(O=e/2),1<i.count&&i.sort(function(kt,bt){return null===kt||null===bt||kt===bt?0:bt.width*bt.height-kt.width*kt.height}),_=D%2==0?0:1,i=i.iterator;i.next();)if(!(1<(D=i.value).Ld||t.isFixed(D))){for(V=null,$=D.edges.iterator;$.next();){V=$.value;break}var vt=D.height;$=ti.sqrt(($=D.width)*$+vt*vt)/2,V=l+V.length+$,$=v+(e*(_/2>>1)+O)*(_%2==0?1:-1),D.centerX=n+V*Math.cos($),D.centerY=r+V*Math.sin($),_++}}}function vx(t,e,i,n,r,l,v){var _=9e19,D=-1,O=0;t:for(;O<e;O++){var V=t[O],$=V.x-i,vt=V.y-n;if(($=$*$+vt*vt)<_){for(vt=O-1;0<=vt;vt--)if(t[vt].y>V.y&&t[vt].x-V.x<r+v.width)continue t;for(vt=O+1;vt<e;vt++)if(t[vt].x>V.x&&t[vt].y-V.y<l+v.height)continue t;D=O,_=$}}return D}function ew(t,e){var i=t.bounds,n=i.x;t=i.y;var r=i.width;i=i.height;var l=e.bounds,v=l.x;e=l.y;var _=l.width;return l=l.height,n+r<v?t>e+l?ti.sqrt((i=n+r-v)*i+(t=t-e-l)*t):t+i<e?ti.sqrt((n=n+r-v)*n+(t=t+i-e)*t):v-(n+r):n>v+_?t>e+l?ti.sqrt((i=n-v-_)*i+(t=t-e-l)*t):t+i<e?ti.sqrt((n=n-v-_)*n+(t=t+i-e)*t):n-(v+_):t>e+l?t-(e+l):t+i<e?e-(t+i):.1}function Vg(t,e){for(t.Fh=null,e=t.Eo+e;t.Eo<e&&(t.Eo++,yx(t)););t.Fh=null}function yx(t){null===t.Fh&&(t.Fh=t.network.vertexes.ma());var e=t.Fh;if(0>=e.length)return!1;var i=e[0];i.forceX=0,i.forceY=0;for(var n=i.centerX,r=n,l=i=i.centerY,v=1;v<e.length;v++){var _=e[v];_.forceX=0,_.forceY=0;var D=_.centerX;_=_.centerY,n=Math.min(n,D),r=Math.max(r,D),i=Math.min(i,_),l=Math.max(l,_)}(r=r-n>l-i)?e.sort(function(Wt,de){return null===Wt||null===de||Wt===de?0:Wt.centerX-de.centerX}):e.sort(function(Wt,de){return null===Wt||null===de||Wt===de?0:Wt.centerY-de.centerY}),i=t.Xf;var O=n=_=0;for(l=0;l<e.length;l++){var V=(n=(v=e[l]).bounds).y+(_=v.focus).y;n=v.charge*t.electricalFieldX(D=n.x+_.x,V),O=v.charge*t.electricalFieldY(D,V),n+=v.mass*t.gravitationalFieldX(D,V),O+=v.mass*t.gravitationalFieldY(D,V),v.forceX+=n,v.forceY+=O;for(var $=l+1;$<e.length;$++){var vt=e[$];if(vt!==v){var kt=(n=vt.bounds).y+(_=vt.focus).y;if(D-(O=n.x+_.x)>i||O-D>i){if(r)break}else if(V-kt>i||kt-V>i){if(!r)break}else{var bt=ew(v,vt);1>bt?(null===(n=t.randomNumberGenerator)&&(t.randomNumberGenerator=n=new jg),bt=n.random(),_=n.random(),n=D>O?(1+(n=Math.abs(vt.bounds.right-v.bounds.x)))*bt:D<O?-(1+(n=Math.abs(vt.bounds.x-v.bounds.right)))*bt:(1+(n=Math.max(vt.width,v.width)))*bt-n/2,O=V>kt?(1+(O=Math.abs(vt.bounds.bottom-v.bounds.y)))*_:D<O?-(1+(O=Math.abs(vt.bounds.y-v.bounds.bottom)))*_:(1+(O=Math.max(vt.height,v.height)))*_-O/2):(n=(O-D)/bt*(_=-v.charge*vt.charge/(bt*bt)),O=(kt-V)/bt*_),v.forceX+=n,v.forceY+=O,vt.forceX-=n,vt.forceY-=O}}}}for(r=t.network.edges.iterator;r.next();)n=(v=(i=(_=r.value).fromVertex).bounds).x+(D=i.focus).x,v=v.y+D.y,D=(V=(l=_.toVertex).bounds).x+($=l.focus).x,V=V.y+$.y,1>($=ew(i,l))?(null===($=t.randomNumberGenerator)&&(t.randomNumberGenerator=$=new jg),_=$.random(),$=$.random(),n=(n>D?1:-1)*(1+(l.width>i.width?l.width:i.width))*_,O=(v>V?1:-1)*(1+(l.height>i.height?l.height:i.height))*$):(n=(D-n)/$*(_=_.stiffness*($-_.length)),O=(V-v)/$*_),i.forceX+=n,i.forceY+=O,l.forceX-=n,l.forceY-=O;for(r=n=0;r<e.length;r++)t.isFixed(i=e[r])?t.moveFixedVertex(i):n=Math.max(n,t.moveVertex(i)||0);return n>t.epsilonDistance*t.epsilonDistance}function my(){this.ax=this.$w=this.pu=this.ru=this.qu=0}function b0(t){P.call(this,t)}function Wm(t){Gi.call(this,t),this.La=!1,this.eb=this.I=NaN,this.Sh=this.Ld=this.Ka=this.T=0,this.Ne=this.qk=null,this.zw=0}function M0(t){Un.call(this,t),this.l=this.u=NaN}function jg(){var t=0;void 0===t&&(t=42),this.seed=t,this.Zy=48271,this.az=2147483647,this.Q=44488.07041494893,this.bz=3399,this.$y=1/2147483647,this.random()}function io(){Rr.call(this),this.Zb=this.ue=25,this.K=0,this.jl=Dv,this.Ml=Av,this.Bl=kv,this.Rj=4,this.Zk=E0,this.ng=15,this.kf=!0,this.Mo=4,this.Ca=this.Ji=this.sa=-1,this.pc=this.mh=0,this.Ia=this.yd=this.zd=this.$d=this.zb=null,this.oh=0,this.fp=this.Wj=null,this.Ec=0,this.gp=null,this.Vc=new ht,this.xe=[],this.xe.length=100}function xx(t){var e=t.fromVertex.node||t.fromVertex.data;return t=t.toVertex.node||t.toVertex.data,null===e&&null===t?8:null===e||null===t?4:1}function Wl(t){null===t.Wj&&(t.Wj=[]);for(var e=0,i=t.network.vertexes.iterator;i.next();){var n=i.value;t.Wj[e]=n.layer,e++,t.Wj[e]=n.column,e++,t.Wj[e]=n.index,e++}return t.Wj}function ku(t,e){var i=0;for(t=t.network.vertexes.iterator;t.next();){var n=t.value;n.layer=e[i],i++,n.column=e[i],i++,n.index=e[i],i++}}function gy(t,e,i){var n=C0(t,e),r=t.zb[e];(null===t.fp||t.fp.length<r*r)&&(t.fp=[]);for(var l=t.fp,v=0;v<r;v++){var vt,_=0,D=n[v],O=D.near;if(null!==O&&O.layer===D.layer)if((D=O.index)>v)for(var V=v+1;V<D;V++){var $=n[V];$.near===O&&$.wf===O.wf||_++}else for(V=v-1;V>D;V--)($=n[V]).near===O&&$.wf===O.wf||_++;if(0<=i)for(D=n[v].sourceEdgesArrayAccess,O=0;O<D.length;O++){var kt=D[O];if(kt.valid&&kt.fromVertex.layer!==e)for($=kt.fromVertex.index,V=kt.portToPos,kt=kt.portFromPos,vt=O+1;vt<D.length;vt++){var bt=D[vt];if(bt.valid&&bt.fromVertex.layer!==e){var Wt=bt.fromVertex.index,de=bt.portToPos;bt=bt.portFromPos,V<de&&($>Wt||$===Wt&&kt>bt)&&_++,de<V&&(Wt>$||Wt===$&&bt>kt)&&_++}}}if(0>=i)for(D=n[v].destinationEdgesArrayAccess,O=0;O<D.length;O++)if((kt=D[O]).valid&&kt.toVertex.layer!==e)for($=kt.toVertex.index,V=kt.portToPos,kt=kt.portFromPos,vt=O+1;vt<D.length;vt++)(bt=D[vt]).valid&&bt.toVertex.layer!==e&&(Wt=bt.toVertex.index,de=bt.portToPos,kt<(bt=bt.portFromPos)&&($>Wt||$===Wt&&V>de)&&_++,bt<kt&&(Wt>$||Wt===$&&de>V)&&_++);for(l[v*r+v]=_,D=v+1;D<r;D++){var le=0,we=0;if(0<=i){_=n[v].sourceEdgesArrayAccess;var Pe=n[D].sourceEdgesArrayAccess;for(O=0;O<_.length;O++)if((kt=_[O]).valid&&kt.fromVertex.layer!==e)for($=kt.fromVertex.index,kt=kt.portFromPos,vt=0;vt<Pe.length;vt++)(bt=Pe[vt]).valid&&bt.fromVertex.layer!==e&&(Wt=bt.fromVertex.index,bt=bt.portFromPos,($<Wt||$===Wt&&kt<bt)&&we++,(Wt<$||Wt===$&&bt<kt)&&le++)}if(0>=i)for(_=n[v].destinationEdgesArrayAccess,Pe=n[D].destinationEdgesArrayAccess,O=0;O<_.length;O++)if((kt=_[O]).valid&&kt.toVertex.layer!==e)for($=kt.toVertex.index,V=kt.portToPos,vt=0;vt<Pe.length;vt++)(bt=Pe[vt]).valid&&bt.toVertex.layer!==e&&(de=bt.portToPos,($<(Wt=bt.toVertex.index)||$===Wt&&V<de)&&we++,(Wt<$||Wt===$&&de<V)&&le++);l[v*r+D]=le,l[D*r+v]=we}}return S0(t,e,n),l}function vy(t){for(var e=0,i=0;i<=t.sa;i++){for(var n=t,r=i,l=C0(n,r),v=n.zb[r],_=0,D=0;D<v;D++){var O=l[D].destinationEdgesArrayAccess;if(null!==O)for(var V=0;V<O.length;V++){var $=O[V];$.valid&&$.toVertex.layer!==r&&(_+=(Math.abs($.fromVertex.column+$.portFromColOffset-($.toVertex.column+$.portToColOffset))+1)*xx($))}}S0(n,r,l),e+=_}return e}function yy(t,e,i){for(var n=C0(t,e),r=t.zb[e],l=[],v=0;v<r;v++){var _=n[v],D=null;0>=i&&(D=_.sourceEdgesArrayAccess);var O=null;0<=i&&(O=_.destinationEdgesArrayAccess);var V=0,$=0,vt=_.near;if(null!==vt&&vt.layer===_.layer&&(V+=vt.column-1,$++),null!==D)for(vt=0;vt<D.length;vt++){var kt=(_=D[vt]).fromVertex;_.valid&&!_.rev&&kt.layer!==e&&(V+=kt.column,$++)}if(null!==O)for(D=0;D<O.length;D++)vt=(_=O[D]).toVertex,_.valid&&!_.rev&&vt.layer!==e&&(V+=vt.column,$++);l[v]=0===$?-1:V/$}return S0(t,e,n),l}function xy(t,e,i){for(var n=C0(t,e),r=t.zb[e],l=[],v=0;v<r;v++){var _=n[v],D=null;0>=i&&(D=_.sourceEdgesArrayAccess);var O=null;0<=i&&(O=_.destinationEdgesArrayAccess);var V=0,$=[],vt=_.near;if(null!==vt&&vt.layer===_.layer&&($[V]=vt.column-1,V++),_=void 0,null!==D)for(vt=0;vt<D.length;vt++){var kt=(_=D[vt]).fromVertex;_.valid&&!_.rev&&kt.layer!==e&&($[V]=kt.column+_.portFromColOffset,V++)}if(null!==O)for(D=0;D<O.length;D++)vt=(_=O[D]).toVertex,_.valid&&!_.rev&&vt.layer!==e&&($[V]=vt.column+_.portToColOffset,V++);0===V?l[v]=-1:($.sort(function(bt,Wt){return bt-Wt}),O=V>>1,l[v]=0!=(1&V)?$[O]:$[O-1]+$[O]>>1)}return S0(t,e,n),l}function zg(t,e,i,n,r,l){if(e.component===n){if(e.component=i,r)for(var v=e.destinationEdges;v.next();){var _=v.value,D=_.toVertex,O=e.layer-D.layer;O===(_=t.linkMinLength(_))&&zg(t,D,i,n,r,l)}if(l)for(v=e.sourceEdges;v.next();)(O=(D=(_=v.value).fromVertex).layer-e.layer)===(_=t.linkMinLength(_))&&zg(t,D,i,n,r,l)}}function Ev(t,e,i,n,r,l){if(e.component===n){if(e.component=i,r)for(var v=e.destinationEdges;v.next();)Ev(t,v.value.toVertex,i,n,r,l);if(l)for(e=e.sourceEdges;e.next();)Ev(t,e.value.fromVertex,i,n,r,l)}}function h1(t){for(t=t.vertexes.iterator;t.next();){var e=t.value;if(e.valid)return e}return null}function wy(t){for(t=t.vertexes.iterator;t.next();){var e=t.value;if(e.valid){for(var i=!0,n=e.destinationEdges;n.next();)if(n.value.toVertex.valid){i=!1;break}if(i)return e}}return null}function wx(t){for(t=t.vertexes.iterator;t.next();){var e=t.value;if(e.valid){for(var i=!0,n=e.sourceEdges;n.next();)if(n.value.fromVertex.valid){i=!1;break}if(i)return e}}return null}function _y(t,e){e.Cg=t.oh,t.oh++;for(var i=e.destinationEdges;i.next();){var n=i.value,r=n.toVertex;-1===r.Cg&&(n.forest=!0,_y(t,r))}e.finish=t.oh,t.oh++}function c1(t){for(var e=t.network.vertexes.iterator;e.next();){var i=by(t,e.value);t.sa=Math.max(i,t.sa)}}function by(t,e){var i=0;if(-1===e.layer){for(var n=e.destinationEdges;n.next();){var r=n.value,l=r.toVertex;r=t.linkMinLength(r),i=Math.max(i,by(t,l)+r)}e.layer=i}else i=e.layer;return i}function f1(t,e){var i=0;if(-1===e.layer){for(var n=e.sourceEdges;n.next();){var r=n.value,l=r.fromVertex;r=t.linkMinLength(r),i=Math.max(i,f1(t,l)+r)}e.layer=i}else i=e.layer;return i}function _x(t,e){if(!e.valid){e.valid=!0;for(var i=e.destinationEdges;i.next();)_x(t,i.value.toVertex);for(i=t.network.vertexes.iterator;i.next();)i.value.component=-1;for(var n=e.sourceEdgesArrayAccess,r=n.length,l=0;l<r;l++){var v=n[l],_=v.fromVertex,D=v.toVertex;v=t.linkMinLength(v),_.layer-D.layer>v&&zg(t,_,0,-1,!0,!1)}for(zg(t,e,1,-1,!0,!0);0!==e.component;){for(l=0,n=1/0,_=0,D=null,v=t.network.vertexes.iterator;v.next();){var O=v.value;if(1===O.component){var V=0,$=!1,vt=O.sourceEdgesArrayAccess;r=vt.length;for(var kt=0;kt<r;kt++){var bt=vt[kt],Wt=bt.fromVertex;V+=1,1!==Wt.component&&(l+=1,Wt=Wt.layer-O.layer,bt=t.linkMinLength(bt),n=Math.min(n,Wt-bt))}for(r=(vt=O.destinationEdgesArrayAccess).length,kt=0;kt<r;kt++)--V,1!==(bt=vt[kt].toVertex).component?--l:$=!0;(null===D||V<_)&&!$&&(D=O,_=V)}}if(0<l){for(i.reset();i.next();)1===(r=i.value).component&&(r.layer+=n);e.component=0}else D.component=0}for(i=t.network.vertexes.iterator;i.next();)i.value.component=-1;for(zg(t,e,1,-1,!0,!1);0!==e.component;){for(n=0,r=1/0,l=0,_=null,D=t.network.vertexes.iterator;D.next();)if(1===(v=D.value).component){for(O=0,V=!1,$=(vt=v.sourceEdgesArrayAccess).length,kt=0;kt<$;kt++)O+=1,1!==(bt=vt[kt].fromVertex).component?n+=1:V=!0;for($=(vt=v.destinationEdgesArrayAccess).length,kt=0;kt<$;kt++)--O,1!==(Wt=(bt=vt[kt]).toVertex).component&&(--n,Wt=v.layer-Wt.layer,bt=t.linkMinLength(bt),r=Math.min(r,Wt-bt));(null===_||O>l)&&!V&&(_=v,l=O)}if(0>n){for(i.reset();i.next();)1===(n=i.value).component&&(n.layer-=r);e.component=0}else _.component=0}}}function d1(t,e,i){return 90===t.K?i&&!e.rev||!i&&e.rev?270:90:180===t.K?i&&!e.rev||!i&&e.rev?0:180:270===t.K?i&&!e.rev||!i&&e.rev?90:270:i&&!e.rev||!i&&e.rev?180:0}function p1(t,e){var i=e.layer;for(e.index=t.zb[i],t.zb[i]++,e=e.destinationEdgesArrayAccess,i=!0;i;){i=!1;for(var n=0;n<e.length-1;n++){var r=e[n],l=e[n+1];r.portFromColOffset>l.portFromColOffset&&(i=!0,e[n]=l,e[n+1]=r)}}for(i=0;i<e.length;i++)(n=e[i]).valid&&-1===(n=n.toVertex).index&&p1(t,n)}function m1(t,e){var i=e.layer;e.index=t.zb[i],t.zb[i]++,e=e.sourceEdgesArrayAccess;for(var n=!0;n;)for(n=!1,i=0;i<e.length-1;i++){var r=e[i],l=e[i+1];r.portToColOffset>l.portToColOffset&&(n=!0,e[i]=l,e[i+1]=r)}for(i=0;i<e.length;i++)(n=e[i]).valid&&-1===(n=n.fromVertex).index&&m1(t,n)}function Ug(t,e,i){var n=C0(t,e),r=t.zb[e],l=xy(t,e,i),v=yy(t,e,i);for(i=0;i<r;i++)-1===v[i]&&(v[i]=n[i].column),-1===l[i]&&(l[i]=n[i].column);for(var D,_=!0;_;)for(_=!1,i=0;i<r-1;i++)(l[i+1]<l[i]||l[i+1]===l[i]&&v[i+1]<v[i])&&(_=!0,D=l[i],l[i]=l[i+1],l[i+1]=D,D=v[i],v[i]=v[i+1],v[i+1]=D,D=n[i],n[i]=n[i+1],n[i+1]=D);for(i=l=0;i<r;i++)(D=n[i]).index=i,l+=t.nodeMinColumnSpace(D,!0),D.column=l,l+=1,l+=t.nodeMinColumnSpace(D,!1);S0(t,e,n)}function rh(t,e,i){var n=C0(t,e),r=t.zb[e];i=gy(t,e,i);var l,v=[];for(l=0;l<r;l++)v[l]=-1;var _=[];for(l=0;l<r;l++)_[l]=-1;for(var D=!1,O=!0;O;)for(O=!1,l=0;l<r-1;l++){var V=i[n[l].index*r+n[l+1].index],$=i[n[l+1].index*r+n[l].index],vt=0,kt=0,bt=n[l].column,Wt=n[l+1].column,de=t.nodeMinColumnSpace(n[l],!0),le=t.nodeMinColumnSpace(n[l],!1),we=t.nodeMinColumnSpace(n[l+1],!0),Pe=t.nodeMinColumnSpace(n[l+1],!1);de=bt-de+we,le=Wt-le+Pe;var Ke=n[l].sourceEdges.iterator;for(Ke.reset();Ke.next();)if(Pe=(we=Ke.value).fromVertex,we.valid&&Pe.layer===e){for(we=0;n[we]!==Pe;)we++;we<l&&(vt+=2*(l-we),kt+=2*(l+1-we)),we===l+1&&(vt+=1),we>l+1&&(vt+=4*(we-l),kt+=4*(we-(l+1)))}for((Ke=n[l].destinationEdges.iterator).reset();Ke.next();)if(Pe=(we=Ke.value).toVertex,we.valid&&Pe.layer===e){for(we=0;n[we]!==Pe;)we++;we===l+1&&(kt+=1)}for((Ke=n[l+1].sourceEdges.iterator).reset();Ke.next();)if(Pe=(we=Ke.value).fromVertex,we.valid&&Pe.layer===e){for(we=0;n[we]!==Pe;)we++;we<l&&(vt+=2*(l+1-we),kt+=2*(l-we)),we===l&&(kt+=1),we>l+1&&(vt+=4*(we-(l+1)),kt+=4*(we-l))}for((Ke=n[l+1].destinationEdges.iterator).reset();Ke.next();)if(Pe=(we=Ke.value).toVertex,we.valid&&Pe.layer===e){for(we=0;n[we]!==Pe;)we++;we===l&&(vt+=1)}we=Pe=0;var ui=_[n[l].index],$i=v[n[l+1].index],vn=_[n[l+1].index];-1!==(Ke=v[n[l].index])&&(Pe+=Math.abs(Ke-bt),we+=Math.abs(Ke-le)),-1!==ui&&(Pe+=Math.abs(ui-bt),we+=Math.abs(ui-le)),-1!==$i&&(Pe+=Math.abs($i-Wt),we+=Math.abs($i-de)),-1!==vn&&(Pe+=Math.abs(vn-Wt),we+=Math.abs(vn-de)),(kt<vt-.5||kt===vt&&$<V-.5||kt===vt&&$===V&&we<Pe-.5)&&(O=D=!0,n[l].column=le,n[l+1].column=de,V=n[l],n[l]=n[l+1],n[l+1]=V)}for(l=0;l<r;l++)n[l].index=l;return S0(t,e,n),D}function Km(t,e,i){for(var n=!1;bx(t,e,i);)n=!0;return n}function bx(t,e,i){var n,r=C0(t,e),l=t.zb[e],v=yy(t,e,-1);if(0<i)for(n=0;n<l;n++)v[n]=-1;var _=yy(t,e,1);if(0>i)for(n=0;n<l;n++)_[n]=-1;for(var D=!1,O=!0;O;)for(O=!1,n=0;n<l;n++){var kt,V=r[n].column,$=t.nodeMinColumnSpace(r[n],!0),vt=t.nodeMinColumnSpace(r[n],!1);kt=0>n-1||V-r[n-1].column-1>$+t.nodeMinColumnSpace(r[n-1],!1)?V-1:V,$=n+1>=l||r[n+1].column-V-1>vt+t.nodeMinColumnSpace(r[n+1],!0)?V+1:V;var bt=vt=0,Wt=0;if(0>=i)for(var de=r[n].sourceEdges.iterator;de.next();){var le=de.value,we=le.fromVertex;if(le.valid&&we.layer!==e){var Pe=xx(le),Ke=le.portFromColOffset;le=le.portToColOffset,we=we.column,vt+=(Math.abs(V+le-(we+Ke))+1)*Pe,bt+=(Math.abs(kt+le-(we+Ke))+1)*Pe,Wt+=(Math.abs($+le-(we+Ke))+1)*Pe}}if(0<=i)for(de=r[n].destinationEdges.iterator;de.next();)we=(le=de.value).toVertex,le.valid&&we.layer!==e&&(Pe=xx(le),Ke=le.portFromColOffset,le=le.portToColOffset,we=we.column,vt+=(Math.abs(V+Ke-(we+le))+1)*Pe,bt+=(Math.abs(kt+Ke-(we+le))+1)*Pe,Wt+=(Math.abs($+Ke-(we+le))+1)*Pe);le=Ke=Pe=0,we=_[r[n].index],-1!==(de=v[r[n].index])&&(Pe+=Math.abs(de-V),Ke+=Math.abs(de-kt),le+=Math.abs(de-$)),-1!==we&&(Pe+=Math.abs(we-V),Ke+=Math.abs(we-kt),le+=Math.abs(we-$)),bt<vt||bt===vt&&Ke<Pe?(O=D=!0,r[n].column=kt):(Wt<vt||Wt===vt&&le<Pe)&&(O=D=!0,r[n].column=$)}return S0(t,e,r),t.normalize(),D}function My(t,e,i){var n=C0(t,e),r=t.zb[e],l=xy(t,e,i),v=[];for(i=0;i<r;i++)v[i]=l[i];for(l=!0;l;)for(l=!1,i=0;i<r;i++){var _=n[i].column,D=t.nodeMinColumnSpace(n[i],!0),O=t.nodeMinColumnSpace(n[i],!1),V=0;if(-1===v[i])if(0===i&&i===r-1)V=_;else if(0===i){var $=n[i+1].column;V=$-_===O+t.nodeMinColumnSpace(n[i+1],!0)?_-1:_}else V=i===r-1?_-($=n[i-1].column)===D+t.nodeMinColumnSpace(n[i-1],!1)?_+1:_:((D=($=n[i-1].column)+t.nodeMinColumnSpace(n[i-1],!1)+D+1)+(O=($=n[i+1].column)-t.nodeMinColumnSpace(n[i+1],!0)-O-1))/2|0;else 0===i&&i===r-1?V=v[i]:0===i?(O=($=n[i+1].column)-t.nodeMinColumnSpace(n[i+1],!0)-O-1,V=Math.min(v[i],O)):i===r-1?(D=($=n[i-1].column)+t.nodeMinColumnSpace(n[i-1],!1)+D+1,V=Math.max(v[i],D)):(D=($=n[i-1].column)+t.nodeMinColumnSpace(n[i-1],!1)+D+1,O=($=n[i+1].column)-t.nodeMinColumnSpace(n[i+1],!0)-O-1,D<v[i]&&v[i]<O?V=v[i]:D>=v[i]?V=D:O<=v[i]&&(V=O));V!==_&&(l=!0,n[i].column=V)}S0(t,e,n),t.normalize()}function Mx(t,e){for(var i=!0,n=t.network.vertexes.iterator;n.next();){var r=n.value,l=t.nodeMinColumnSpace(r,!0),v=t.nodeMinColumnSpace(r,!1);if(r.column-l<=e&&r.column+v>=e){i=!1;break}}if(t=!1,i)for(n.reset();n.next();)(i=n.value).column>e&&(--i.column,t=!0);return t}function Cx(t,e){var n,i=e+1,r=[],l=[];for(n=0;n<=t.sa;n++)r[n]=!1,l[n]=!1;for(var v=t.network.vertexes.iterator;v.next();){var _=(n=v.value).column-t.nodeMinColumnSpace(n,!0),D=n.column+t.nodeMinColumnSpace(n,!1);_<=e&&D>=e&&(r[n.layer]=!0),_<=i&&D>=i&&(l[n.layer]=!0)}for(_=!0,i=!1,n=0;n<=t.sa;n++)_=_&&!(r[n]&&l[n]);if(_)for(v.reset();v.next();)(t=v.value).column>e&&(--t.column,i=!0);return i}function g1(t,e){for(var i=0;i<=t.Ca;i++)for(;Mx(t,i););for(t.normalize(),i=0;i<t.Ca;i++)for(;Cx(t,i););var n;if(t.normalize(),0<e)for(i=0;i<=t.Ca;i++){var r=Wl(t),l=vy(t);for(n=l+1;l<n;){n=l,v1(t,i,1);var v=vy(t);v>l?ku(t,r):v<l&&(l=v,r=Wl(t))}}if(0>e)for(i=t.Ca;0<=i;i--)for(r=Wl(t),n=(l=vy(t))+1;l<n;)n=l,v1(t,i,-1),(v=vy(t))>l?ku(t,r):v<l&&(l=v,r=Wl(t));t.normalize()}function v1(t,e,i){t.Ec=0;for(var n=t.network.vertexes.iterator;n.next();)n.value.component=-1;if(0<i)for(n.reset();n.next();){var r=n.value;r.column-t.nodeMinColumnSpace(r,!0)<=e&&(r.component=t.Ec)}if(0>i)for(n.reset();n.next();)(r=n.value).column+t.nodeMinColumnSpace(r,!1)>=e&&(r.component=t.Ec);for(t.Ec++,n.reset();n.next();)-1===(e=n.value).component&&(Ev(t,e,t.Ec,-1,!0,!0),t.Ec++);var l;for(e=[],l=0;l<t.Ec*t.Ec;l++)e[l]=!1;for(r=[],l=0;l<(t.sa+1)*(t.Ca+1);l++)r[l]=-1;for(n.reset();n.next();)for(var v=(l=n.value).layer,_=Math.max(0,l.column-t.nodeMinColumnSpace(l,!0)),D=Math.min(t.Ca,l.column+t.nodeMinColumnSpace(l,!1));_<=D;_++)r[v*(t.Ca+1)+_]=l.component;for(l=0;l<=t.sa;l++){if(0<i)for(v=0;v<t.Ca;v++)-1!==r[l*(t.Ca+1)+v]&&-1!==r[l*(t.Ca+1)+v+1]&&r[l*(t.Ca+1)+v]!==r[l*(t.Ca+1)+v+1]&&(e[r[l*(t.Ca+1)+v]*t.Ec+r[l*(t.Ca+1)+v+1]]=!0);if(0>i)for(v=t.Ca;0<v;v--)-1!==r[l*(t.Ca+1)+v]&&-1!==r[l*(t.Ca+1)+v-1]&&r[l*(t.Ca+1)+v]!==r[l*(t.Ca+1)+v-1]&&(e[r[l*(t.Ca+1)+v]*t.Ec+r[l*(t.Ca+1)+v-1]]=!0)}for(r=[],l=0;l<t.Ec;l++)r[l]=!0;for((v=[]).push(0);0!==v.length;)if(D=v[v.length-1],v.pop(),r[D])for(r[D]=!1,l=0;l<t.Ec;l++)e[D*t.Ec+l]&&v.splice(0,0,l);if(0<i)for(n.reset();n.next();)r[(t=n.value).component]&&--t.column;if(0>i)for(n.reset();n.next();)r[(i=n.value).component]&&(i.column+=1)}function y1(t,e){return 270===t.K?e?ns:ko:90===t.K?e?ko:ns:180===t.K?e?Ts:xs:e?xs:Ts}function C0(t,e){var i=t.zb[e];if(i>=t.xe.length){for(var n=[],r=0;r<t.xe.length;r++)n[r]=t.xe[r];t.xe=n}for(null==t.xe[i]?n=[]:(n=t.xe[i],t.xe[i]=null),t=t.gp[e],e=0;e<t.length;e++)n[(i=t[e]).index]=i;return n}function S0(t,e,i){t.xe[t.zb[e]]=i}zo.className="CircularLayout",zo.ConstantSpacing=bc,zo.ConstantDistance=hm,zo.ConstantAngle=gp,zo.Packed=Sh,zo.Clockwise=Yl,zo.Counterclockwise=w0,zo.BidirectionalLeft=tf,zo.BidirectionalRight=Ng,zo.Forwards=wv,zo.Reverse=py,zo.Ascending=_v,zo.Descending=Gm,zo.Optimized=Fg,zo.Pythagorean=bv,zo.Circular=Ym,Mv.prototype.compare=function(t,e){if(0<t&&0>this.Am||Math.abs(t)<Math.abs(this.Am)&&!(0>t&&0<this.Am))for(this.Am=t,this.Wk=[],this.cn=[],t=0;t<e.length;t++)this.Wk[t]=e[t].bounds.x,this.cn[t]=e[t].bounds.y},Mv.prototype.commit=function(t){if(null!==this.Wk&&null!==this.cn)for(var e=0;e<this.Wk.length;e++){var i=t.J(e);i.x=this.Wk[e],i.y=this.cn[e]}},Mv.className="VertexArrangement",Z(Bg,P),Bg.prototype.createVertex=function(){return new Cv(this)},Bg.prototype.createEdge=function(){return new Sv(this)},Bg.className="CircularNetwork",Z(Cv,Gi),H.Object.defineProperties(Cv.prototype,{diameter:{get:function(){return this.Gj},set:function(t){this.Gj!==t&&(this.Gj=t)}},actualAngle:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t)}}}),Cv.className="CircularVertex",Z(Sv,Un),Sv.className="CircularEdge",Z(da,Rr),da.prototype.cloneProtected=function(t){Rr.prototype.cloneProtected.call(this,t),t.Pd.assign(this.Pd),t.on=this.on,t.kf=this.kf,t.jd=this.jd,t.Rl=this.Rl,t.Xn=this.Xn,t.Xf=this.Xf,t.bp=this.bp,t.Bp=this.Bp,t.ol=this.ol,t.nl=this.nl,t.ll=this.ll,t.ml=this.ml,t.On=this.On,t.Nn=this.Nn},da.prototype.serializeLayoutProperties=function(t,e){Rr.prototype.serializeLayoutProperties.call(this,t,e),t.arrangementSpacing={width:this.arrangementSpacing.width,height:this.arrangementSpacing.height},t.arrangesToOrigin=this.arrangesToOrigin,t.setsPortSpots=this.setsPortSpots,t.comments=this.comments,t.maxIterations=this.maxIterations,t.epsilonDistance=this.epsilonDistance,t.infinityDistance=this.infinityDistance,t.moveLimit=this.moveLimit,t.defaultSpringStiffness=this.defaultSpringStiffness,t.defaultSpringLength=this.defaultSpringLength,t.defaultElectricalCharge=this.defaultElectricalCharge,t.defaultGravitationalMass=this.defaultGravitationalMass,t.defaultCommentSpringLength=this.defaultCommentSpringLength,t.defaultCommentElectricalCharge=this.defaultCommentElectricalCharge},da.prototype.deserializeLayoutProperties=function(t,e,i,n,r){Rr.prototype.deserializeLayoutProperties.call(this,t,e,i,n,r),this.arrangementSpacing=new De(t.arrangementSpacing.width,t.arrangementSpacing.height),this.arrangesToOrigin=t.arrangesToOrigin,this.setsPortSpots=t.setsPortSpots,this.comments=t.comments,this.maxIterations=t.maxIterations,this.epsilonDistance=t.epsilonDistance,this.infinityDistance=t.infinityDistance,this.moveLimit=t.moveLimit,this.defaultSpringStiffness=t.defaultSpringStiffness,this.defaultSpringLength=t.defaultSpringLength,this.defaultElectricalCharge=t.defaultElectricalCharge,this.defaultGravitationalMass=t.defaultGravitationalMass,this.defaultCommentSpringLength=t.defaultCommentSpringLength,this.defaultCommentElectricalCharge=t.defaultCommentElectricalCharge},da.prototype.createNetwork=function(){return new b0(this)},da.prototype.doLayout=function(t){if(null===this.network&&(this.network=this.makeNetwork(t)),!this.Uw()){if(t=this.maxIterations,0<this.network.vertexes.count){this.network.Bq();for(var e=this.network.vertexes.iterator;e.next();){var i=e.value;i.charge=this.electricalCharge(i),i.mass=this.gravitationalMass(i)}for(e=this.network.edges.iterator;e.next();)(i=e.value).stiffness=this.springStiffness(i),i.length=this.springLength(i);if(this.Fv(),this.Eo=0,this.needsClusterLayout()){for(var n=(i=(e=this.network).Xy()).iterator;n.next();){this.network=n.value;for(var r=this.network.vertexes.iterator;r.next();){var l=r.value;l.Ld=l.vertexes.count,l.Sh=1,l.qk=null,l.Ne=null}a1(this,0,t)}this.network=e;var v=n=i.iterator;n=this.arrangementSpacing;var _=v.count,D=!0;l=r=0;for(var O=o(),V=0;V<_+e.vertexes.count+2;V++)O[V]=null;_=0,v.reset();for(var $=he.alloc();v.next();)if(this.computeBounds(V=v.value,$),D)D=!1,r=$.x+$.width/2,l=$.y+$.height/2,O[0]=new ht($.x+$.width+n.width,$.y),O[1]=new ht($.x,$.y+$.height+n.height),_=2;else{var vt=vx(O,_,r,l,$.width,$.height,n),kt=O[vt],bt=new ht(kt.x+$.width+n.width,kt.y),Wt=new ht(kt.x,kt.y+$.height+n.height);for(vt+1<_&&O.splice(vt+1,0,null),O[vt]=bt,O[vt+1]=Wt,_++,vt=kt.x-$.x,kt=kt.y-$.y,V=V.vertexes.iterator;V.next();)(bt=V.value).centerX+=vt,bt.centerY+=kt}for(he.free($),V=e.vertexes.iterator;V.next();)vt=(v=V.value).bounds,2>_?(r=vt.x+vt.width/2,l=vt.y+vt.height/2,O[0]=new ht(vt.x+vt.width+n.width,vt.y),O[1]=new ht(vt.x,vt.y+vt.height+n.height),_=2):(kt=new ht(($=O[D=vx(O,_,r,l,vt.width,vt.height,n)]).x+vt.width+n.width,$.y),vt=new ht($.x,$.y+vt.height+n.height),D+1<_&&O.splice(D+1,0,null),O[D]=kt,O[D+1]=vt,_++,v.centerX=$.x+v.width/2,v.centerY=$.y+v.height/2);for(c(O),n=i.iterator;n.next();){for(r=(i=n.value).vertexes.iterator;r.next();)e.Bg(r.value);for(i=i.edges.iterator;i.next();)e.tm(i.value)}}Vg(this,t),this.updateParts()}this.Rl=t,this.network=null,this.isValidLayout=!0}},da.prototype.needsClusterLayout=function(){if(3>this.network.vertexes.count)return!1;for(var t=0,e=0,i=this.network.vertexes.first().bounds,n=this.network.vertexes.iterator;n.next();){if(n.value.bounds.Mc(i)&&2<++t)return!0;if(10<e)break;e++}return!1},da.prototype.computeBounds=function(t,e){var i=!0;for(t=t.vertexes.iterator;t.next();){var n=t.value;i?(i=!1,e.set(n.bounds)):e.Rc(n.bounds)}return e},da.prototype.Fv=function(){if(this.comments)for(var t=this.network.vertexes.iterator;t.next();)this.addComments(t.value)},da.prototype.addComments=function(t){var e=t.node;if(null!==e)for(e=e.Sv();e.next();){var i=e.value;if("Comment"===i.category&&i.isVisible()){var n=this.network.kj(i);null===n&&(n=this.network.mk(i)),n.charge=this.defaultCommentElectricalCharge,i=null;for(var r=n.destinationEdges;r.next();){var l=r.value;if(l.toVertex===t){i=l;break}}if(null===i)for(r=n.sourceEdges;r.next();)if((l=r.value).fromVertex===t){i=l;break}null===i&&(i=this.network.Fk(t,n,null)),i.length=this.defaultCommentSpringLength}}},da.prototype.moveVertex=function(t){var e=t.forceX,i=t.forceY,n=this.moveLimit;return e<-n?e=-n:e>n&&(e=n),i<-n?i=-n:i>n&&(i=n),t.centerX+=e,t.centerY+=i,e*e+i*i},da.prototype.moveFixedVertex=function(){},da.prototype.commitLayout=function(){this.Dw(),this.commitNodes(),this.isRouting&&this.commitLinks()},da.prototype.Dw=function(){if(this.setsPortSpots)for(var t=this.network.edges.iterator;t.next();){var e=t.value.link;null!==e&&(e.fromSpot=us,e.toSpot=us)}},da.prototype.commitNodes=function(){var t=0,e=0;if(this.arrangesToOrigin){var i=he.alloc();this.computeBounds(this.network,i),t=(e=this.arrangementOrigin).x-i.x,e=e.y-i.y,he.free(i)}i=he.alloc();for(var n=this.network.vertexes.iterator;n.next();){var r=n.value;(0!==t||0!==e)&&(i.assign(r.bounds),i.x+=t,i.y+=e,r.bounds=i),r.commit()}he.free(i)},da.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},da.prototype.springStiffness=function(t){return t=t.stiffness,isNaN(t)?this.ol:t},da.prototype.springLength=function(t){return t=t.length,isNaN(t)?this.nl:t},da.prototype.electricalCharge=function(t){return t=t.charge,isNaN(t)?this.ll:t},da.prototype.electricalFieldX=function(){return 0},da.prototype.electricalFieldY=function(){return 0},da.prototype.gravitationalMass=function(t){return t=t.mass,isNaN(t)?this.ml:t},da.prototype.gravitationalFieldX=function(){return 0},da.prototype.gravitationalFieldY=function(){return 0},da.prototype.isFixed=function(t){return t.isFixed},H.Object.defineProperties(da.prototype,{currentIteration:{get:function(){return this.Eo}},arrangementSpacing:{get:function(){return this.Pd},set:function(t){this.Pd.w(t)||(this.Pd.assign(t),this.C())}},arrangesToOrigin:{get:function(){return this.on},set:function(t){this.on!==t&&(this.on=t,this.C())}},setsPortSpots:{get:function(){return this.kf},set:function(t){this.kf!==t&&(this.kf=t,this.C())}},comments:{get:function(){return this.jd},set:function(t){this.jd!==t&&(this.jd=t,this.C())}},maxIterations:{get:function(){return this.Rl},set:function(t){this.Rl!==t&&0<=t&&(this.Rl=t,this.C())}},epsilonDistance:{get:function(){return this.Xn},set:function(t){this.Xn!==t&&0<t&&(this.Xn=t,this.C())}},infinityDistance:{get:function(){return this.Xf},set:function(t){this.Xf!==t&&1<t&&(this.Xf=t,this.C())}},moveLimit:{get:function(){return this.bp},set:function(t){this.bp!==t&&1<t&&(this.bp=t,this.C())}},randomNumberGenerator:{get:function(){return this.Bp},set:function(t){this.Bp!==t&&(null!==t&&"function"!=typeof t.random&&U('ForceDirectedLayout.randomNumberGenerator must have a "random()" function on it: '+t),this.Bp=t)}},defaultSpringStiffness:{get:function(){return this.ol},set:function(t){this.ol!==t&&(this.ol=t,this.C())}},defaultSpringLength:{get:function(){return this.nl},set:function(t){this.nl!==t&&(this.nl=t,this.C())}},defaultElectricalCharge:{get:function(){return this.ll},set:function(t){this.ll!==t&&(this.ll=t,this.C())}},defaultGravitationalMass:{get:function(){return this.ml},set:function(t){this.ml!==t&&(this.ml=t,this.C())}},defaultCommentSpringLength:{get:function(){return this.On},set:function(t){this.On!==t&&(this.On=t,this.C())}},defaultCommentElectricalCharge:{get:function(){return this.Nn},set:function(t){this.Nn!==t&&(this.Nn=t,this.C())}}}),da.className="ForceDirectedLayout",my.className="ForceDirectedSubnet",Z(b0,P),b0.prototype.createVertex=function(){return new Wm(this)},b0.prototype.createEdge=function(){return new M0(this)},b0.className="ForceDirectedNetwork",Z(Wm,Gi),Wm.prototype.serializeVertexProperties=function(t,e){Gi.prototype.serializeVertexProperties.call(this,t,e),t.isFixed=this.isFixed,t.charge=this.charge,t.mass=this.mass},Wm.prototype.Cq=function(t,e,i,n){Gi.prototype.Cq.call(this,t,e,i,n),this.isFixed=t.isFixed,this.charge=t.charge,this.mass=t.mass},H.Object.defineProperties(Wm.prototype,{isFixed:{get:function(){return this.La},set:function(t){this.La!==t&&(this.La=t)}},charge:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t)}},mass:{get:function(){return this.eb},set:function(t){this.eb!==t&&(this.eb=t)}},forceX:{get:function(){return this.T},set:function(t){this.T!==t&&(this.T=t)}},forceY:{get:function(){return this.Ka},set:function(t){this.Ka!==t&&(this.Ka=t)}}}),Wm.className="ForceDirectedVertex",Z(M0,Un),M0.prototype.serializeEdgeProperties=function(t,e){Un.prototype.serializeEdgeProperties.call(this,t,e),t.stiffness=this.stiffness,t.length=this.length},M0.prototype.deserializeEdgeProperties=function(t,e,i,n){Un.prototype.deserializeEdgeProperties.call(this,t,e,i,n),this.stiffness=t.stiffness,this.length=t.length},H.Object.defineProperties(M0.prototype,{stiffness:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},length:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t)}}}),M0.className="ForceDirectedEdge",jg.prototype.random=function(){var t=this.seed%this.Q*this.Zy-this.seed/this.Q*this.bz;return this.seed=0<t?t:t+this.az,this.seed*this.$y},jg.className="RandomNumberGenerator",Z(io,Rr),io.prototype.cloneProtected=function(t){Rr.prototype.cloneProtected.call(this,t),t.ue=this.ue,t.Zb=this.Zb,t.K=this.K,t.jl=this.jl,t.Ml=this.Ml,t.Bl=this.Bl,t.Rj=this.Rj,t.Zk=this.Zk,t.ng=this.ng,t.kf=this.kf,t.Mo=this.Mo},io.prototype.serializeLayoutProperties=function(t,e){Rr.prototype.serializeLayoutProperties.call(this,t,e),t.layerSpacing=this.layerSpacing,t.columnSpacing=this.columnSpacing,t.direction=this.direction,t.cycleRemoveOption=this.cycleRemoveOption.name,t.layeringOption=this.layeringOption.name,t.initializeOption=this.initializeOption.name,t.iterations=this.iterations,t.aggressiveOption=this.aggressiveOption.name,t.packOption=this.packOption,t.setsPortSpots=this.setsPortSpots,t.linkSpacing=this.linkSpacing,t.sa=this.sa,t.Ji=this.Ji,t.Ca=this.Ca,t.mh=this.mh,t.pc=this.pc,t.zb=this.zb,t.oh=this.oh,t.Ec=this.Ec,t.Vc={x:this.Vc.x,y:this.Vc.y}},io.prototype.deserializeLayoutProperties=function(t,e,i,n,r){Rr.prototype.deserializeLayoutProperties.call(this,t,e,i,n,r),this.layerSpacing=t.layerSpacing,this.columnSpacing=t.columnSpacing,this.direction=t.direction,this.cycleRemoveOption=Xt(io,t.cycleRemoveOption),this.layeringOption=Xt(io,t.layeringOption),this.initializeOption=Xt(io,t.initializeOption),this.iterations=t.iterations,this.aggressiveOption=Xt(io,t.aggressiveOption),this.packOption=t.packOption,this.setsPortSpots=t.setsPortSpots,this.linkSpacing=t.linkSpacing,this.sa=t.sa,this.Ji=t.Ji,this.Ca=t.Ca,this.mh=t.mh,this.pc=t.pc,this.zb=t.zb,this.oh=t.oh,this.Ec=t.Ec,this.Vc=new ht(this.Vc.x,this.Vc.y),r&&!n&&r.edges.each(function(l){if(!l.link&&l.fromVertex&&l.toVertex&&(null===l.fromVertex.node||null===l.toVertex.node)){for(var v=l.fromVertex;null!==v&&null===v.node&&0<v.td.count;){var _=v.td.J(0);if(_.link){l.link=_.link;break}v=_.fromVertex}if(!l.link){for(_=l.toVertex;null!==_&&null===_.node&&0<_.Gd.count;){var D=_.Gd.J(0);if(D.link){l.link=D.link;break}_=D.toVertex}if(!l.link)for(_=_.td.iterator;_.next();)if((D=_.value).link&&D.fromVertex===v){l.link=D.link;break}}}})},io.prototype.jb=function(t){t.classType===io?0===t.name.indexOf("Aggressive")?this.aggressiveOption=t:0===t.name.indexOf("Cycle")?this.cycleRemoveOption=t:0===t.name.indexOf("Init")?this.initializeOption=t:0===t.name.indexOf("Layer")?this.layeringOption=t:U("Unknown enum value: "+t):Rr.prototype.jb.call(this,t)},io.prototype.createNetwork=function(){return new Hg(this)},io.prototype.doLayout=function(t){for(null===this.network&&(this.network=this.makeNetwork(t)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),this.Ji=-1,this.pc=this.mh=0,this.gp=this.fp=this.Wj=null,t=0;t<this.xe.length;t++)this.xe[t]=null;if(0<this.network.vertexes.count){if(this.network.Bq(),this.Uw())return;for(this.cycleRemoveOption!==fl&&this.removeCycles(),t=this.network.vertexes.iterator;t.next();)t.value.layer=-1;for(this.sa=-1,this.assignLayers(),t.reset();t.next();)this.sa=Math.max(this.sa,t.value.layer);this.cycleRemoveOption===fl&&this.removeCycles();for(var e=[],i=(t=this.network).edges.iterator;i.next();){var n=i.value;n.valid=!1,e.push(n)}for(i=0;i<e.length;i++){var r=(n=e[i]).fromVertex,l=n.toVertex;if(!(n.valid||(null===r.node&&null===r.data||null===l.node&&null===l.data)&&r.layer===l.layer)){var v=0,_=0,D=0,O=0;if(null!==n.link){if(null===(_=n.link))continue;var V=r.node;if(v=l.node,null===V||null===v)continue;var $=_.fromNode;D=_.toNode;var vt=_.fromPort;if(_=_.toPort,n.rev){O=$;var kt=vt;$=D,vt=_,D=O,_=kt}var bt=r.focus;O=l.focus;var Wt=n.rev?l.bounds:r.bounds;kt=ht.alloc(),V!==$?Wt.o()&&$.isVisible()?$.actualBounds.o()?($.Df(vt,ar,kt),kt.x+=$.actualBounds.x-Wt.x,kt.y+=$.actualBounds.y-Wt.y):($.Df(vt,ar,kt),kt.o()||kt.assign(bt)):kt.assign(bt):Wt.o()?($.Df(vt,ar,kt),kt.o()||kt.assign(bt)):kt.assign(bt),$=n.rev?r.bounds:l.bounds,V=ht.alloc(),v!==D?$.o()&&D.isVisible()?D.actualBounds.o()?(D.Df(_,ar,V),V.x+=D.actualBounds.x-$.x,V.y+=D.actualBounds.y-$.y):(D.Df(_,ar,V),V.o()||V.assign(O)):V.assign(O):$.o()?(D.Df(_,ar,V),V.o()||V.assign(O)):V.assign(O),90===this.K||270===this.K?(v=Math.round((kt.x-bt.x)/this.Zb),D=kt.x,_=Math.round((V.x-O.x)/this.Zb),O=V.x):(v=Math.round((kt.y-bt.y)/this.Zb),D=kt.y,_=Math.round((V.y-O.y)/this.Zb),O=V.y),ht.free(kt),ht.free(V),n.portFromColOffset=v,n.portFromPos=D,n.portToColOffset=_,n.portToPos=O}else n.portFromColOffset=0,n.portFromPos=0,n.portToColOffset=0,n.portToPos=0;if(kt=r.layer,V=l.layer,$=0,null!==(Wt=n.link)){var de=Wt.fromPort,le=Wt.toPort;if(null!==de&&null!==le){var we=Wt.fromNode;if(vt=Wt.toNode,null!==we&&null!==vt){var Pe=y1(this,!0),Ke=y1(this,!1),ui=this.setsPortSpots?Pe:Wt.computeSpot(!0,de);bt=this.setsPortSpots?Ke:Wt.computeSpot(!1,le);var $i=Wt.isOrthogonal;ui.Oc()&&ui.Ef(Ke)&&bt.Oc()&&bt.Ef(Pe)?$=0:(Pe=Wt.getLinkPoint(we,de,ui,!0,$i,vt,le,ht.alloc()),Ke=Wt.getLinkDirection(we,de,Pe,ui,!0,$i,vt,le),ht.free(Pe),ui.Vt()||Ke!==d1(this,n,!0)?this.setsPortSpots&&null!==we&&1===we.ports.count&&n.rev&&($+=1):$+=1,ui=Wt.getLinkPoint(vt,le,bt,!1,$i,we,de,ht.alloc()),Wt=Wt.getLinkDirection(vt,le,ui,bt,!1,$i,we,de),ht.free(ui),bt.Vt()||Wt!==d1(this,n,!1)?this.setsPortSpots&&null!==vt&&1===vt.ports.count&&n.rev&&($+=2):$+=2)}}}if($=1===(vt=$)||3===vt,(vt=2===vt||3===vt)&&((bt=t.createVertex()).node=null,bt.wf=1,bt.layer=kt,bt.near=r,t.Bg(bt),(r=t.Fk(r,bt,n.link)).valid=!1,r.rev=n.rev,r.portFromColOffset=v,r.portToColOffset=0,r.portFromPos=D,r.portToPos=0,r=bt),Wt=1,$&&Wt--,kt-V>Wt&&0<kt){for(n.valid=!1,(bt=t.createVertex()).node=null,bt.wf=2,bt.layer=kt-1,t.Bg(bt),(r=t.Fk(r,bt,n.link)).valid=!0,r.rev=n.rev,r.portFromColOffset=vt?0:v,r.portToColOffset=0,r.portFromPos=vt?0:D,r.portToPos=0,r=bt,kt--;kt-V>Wt&&0<kt;)(bt=t.createVertex()).node=null,bt.wf=3,bt.layer=kt-1,t.Bg(bt),(r=t.Fk(r,bt,n.link)).valid=!0,r.rev=n.rev,r.portFromColOffset=0,r.portToColOffset=0,r.portFromPos=0,r.portToPos=0,r=bt,kt--;(r=t.Fk(bt,l,n.link)).valid=!$,$&&(bt.near=l),r.rev=n.rev,r.portFromColOffset=0,r.portToColOffset=_,r.portFromPos=0,r.portToPos=O}else n.valid=!0}}for(t=this.zb=[],e=0;e<=this.sa;e++)t[e]=0;for(e=this.network.vertexes.iterator;e.next();)e.value.index=-1;for(this.initializeIndices(),this.Ji=-1,i=this.pc=this.mh=0;i<=this.sa;i++)t[i]>t[this.pc]&&(this.Ji=t[i]-1,this.pc=i),t[i]<t[this.mh]&&(this.mh=i);for(this.gp=[],i=0;i<t.length;i++)this.gp[i]=[];for(e.reset();e.next();)this.gp[(t=e.value).layer][t.index]=t;for(this.Ca=-1,t=0;t<=this.sa;t++){for(e=C0(this,t),i=0,n=this.zb[t],l=0;l<n;l++)i+=this.nodeMinColumnSpace(r=e[l],!0),r.column=i,i+=1,i+=this.nodeMinColumnSpace(r,!1);this.Ca=Math.max(this.Ca,i-1),S0(this,t,e)}this.reduceCrossings(),this.straightenAndPack(),this.updateParts()}this.network=null,this.isValidLayout=!0},io.prototype.linkMinLength=function(){return 1},io.prototype.nodeMinLayerSpace=function(t,e){return null===t.node&&null===t.data?0:90===this.K||270===this.K?e?t.focus.y+10:t.bounds.height-t.focus.y+10:e?t.focus.x+10:t.bounds.width-t.focus.x+10},io.prototype.nodeMinColumnSpace=function(t,e){if(null===t.node&&null===t.data)return 0;var i=e?t.Nk:t.Mk;return null!==i?i:90===(i=this.K)||270===i?e?t.Nk=t.focus.x/this.Zb+1|0:t.Mk=(t.bounds.width-t.focus.x)/this.Zb+1|0:e?t.Nk=t.focus.y/this.Zb+1|0:t.Mk=(t.bounds.height-t.focus.y)/this.Zb+1|0},io.prototype.countCrossings=function(){for(var t=0,e=0;e<=this.sa;e++)for(var i=gy(this,e,1),n=this.zb[e],r=0;r<n;r++)for(var l=r;l<n;l++)t+=i[r*n+l];return t},io.prototype.normalize=function(){var t=1/0;this.Ca=-1;for(var e=this.network.vertexes.iterator;e.next();){var i=e.value;t=Math.min(t,i.column-this.nodeMinColumnSpace(i,!0)),this.Ca=Math.max(this.Ca,i.column+this.nodeMinColumnSpace(i,!1))}for(e.reset();e.next();)e.value.column-=t;this.Ca-=t},io.prototype.removeCycles=function(){for(var t=this.network.edges.iterator;t.next();)t.value.rev=!1;switch(this.jl){default:var e=0,i=(t=this.network).vertexes.count-1,n=[];n.length=i+1;for(var r=t.vertexes.iterator;r.next();)r.value.valid=!0;for(;null!==h1(t);){for(r=wy(t);null!==r;)n[i]=r,i--,r.valid=!1,r=wy(t);for(r=wx(t);null!==r;)n[e]=r,e++,r.valid=!1,r=wx(t);r=null;for(var l=0,v=this.network.vertexes.iterator;v.next();){var _=v.value;if(_.valid){for(var D=0,O=_.destinationEdges;O.next();)O.value.toVertex.valid&&D++;O=0;for(var V=_.sourceEdges;V.next();)V.value.fromVertex.valid&&O++;(null===r||l<D-O)&&(r=_,l=D-O)}}null!==r&&(n[e]=r,e++,r.valid=!1)}for(e=0;e<t.vertexes.count;e++)n[e].index=e;for(n=t.edges.iterator;n.next();)(e=n.value).fromVertex.index>e.toVertex.index&&(t.Rm(e),e.rev=!0);break;case Dv:for(n=this.network.vertexes.iterator;n.next();)(t=n.value).Cg=-1,t.finish=-1;for(t=this.network.edges.iterator;t.next();)t.value.forest=!1;for(this.oh=0,n.reset();n.next();)0===(e=n.value).sourceEdges.count&&_y(this,e);for(n.reset();n.next();)-1===(e=n.value).Cg&&_y(this,e);for(t.reset();t.next();)(n=t.value).forest||(i=(e=n.fromVertex).finish,l=(r=n.toVertex).finish,r.Cg<e.Cg&&i<l&&(this.network.Rm(n),n.rev=!0));break;case fl:for(e=(t=this.network).vertexes.iterator,n=1/0;e.next();)n=Math.min(n,e.value.layer);if(1/0>n){if(0>n)for(e.reset();e.next();)e.value.layer-=n;for(n=[],e.reset();e.next();)void 0===(r=n[(i=e.value).layer])?n[i.layer]=[i]:r.push(i);for(i=e=0;i<n.length;i++)if((r=n[i])&&0!==r.length){if(0<i)for(l=0;l<r.length;l++)r[l].layer-=e}else e++;for(n=t.edges.iterator;n.next();)(e=n.value).fromVertex.layer<e.toVertex.layer&&(t.Rm(e),e.rev=!0)}}},io.prototype.assignLayers=function(){switch(this.Ml){case w1:c1(this);break;case _1:for(var t,e=this.network.vertexes.iterator;e.next();)t=f1(this,e.value),this.sa=Math.max(t,this.sa);for(e.reset();e.next();)(t=e.value).layer=this.sa-t.layer;break;default:for(c1(this),e=this.network.vertexes.iterator;e.next();)e.value.valid=!1;for(e.reset();e.next();)0===(t=e.value).sourceEdges.count&&_x(this,t);for(t=1/0,e.reset();e.next();)t=Math.min(t,e.value.layer);for(this.sa=-1,e.reset();e.next();){var i=e.value;i.layer-=t,this.sa=Math.max(this.sa,i.layer)}}},io.prototype.initializeIndices=function(){switch(this.Bl){default:for(var t=this.network.vertexes.iterator;t.next();){var e=t.value,i=e.layer;e.index=this.zb[i],this.zb[i]++}break;case kv:for(t=this.network.vertexes.iterator,e=this.sa;0<=e;e--)for(t.reset();t.next();)(i=t.value).layer===e&&-1===i.index&&p1(this,i);break;case b1:for(t=this.network.vertexes.iterator,e=0;e<=this.sa;e++)for(t.reset();t.next();)(i=t.value).layer===e&&-1===i.index&&m1(this,i)}},io.prototype.reduceCrossings=function(){var i,n,l,v,_,t=this.countCrossings(),e=Wl(this);for(i=0;i<this.Rj;i++){for(n=0;n<=this.sa;n++)Ug(this,n,1),rh(this,n,1);var r=this.countCrossings();for(r<t&&(t=r,e=Wl(this)),n=this.sa;0<=n;n--)Ug(this,n,-1),rh(this,n,-1);(r=this.countCrossings())<t&&(t=r,e=Wl(this))}for(ku(this,e),i=0;i<this.Rj;i++){for(n=0;n<=this.sa;n++)Ug(this,n,0),rh(this,n,0);for((r=this.countCrossings())<t&&(t=r,e=Wl(this)),n=this.sa;0<=n;n--)Ug(this,n,0),rh(this,n,0);(r=this.countCrossings())<t&&(t=r,e=Wl(this))}switch(ku(this,e),this.Zk){case Sy:break;case M1:for(_=t+1;(n=this.countCrossings())<_;)for(_=n,i=this.sa;0<=i;i--)for(v=0;v<=i;v++){for(l=!0;l;)for(l=!1,n=i;n>=v;n--)l=rh(this,n,-1)||l;for((r=this.countCrossings())>=t?ku(this,e):(t=r,e=Wl(this)),l=!0;l;)for(l=!1,n=i;n>=v;n--)l=rh(this,n,1)||l;for((r=this.countCrossings())>=t?ku(this,e):(t=r,e=Wl(this)),l=!0;l;)for(l=!1,n=v;n<=i;n++)l=rh(this,n,1)||l;for(r>=t?ku(this,e):(t=r,e=Wl(this)),l=!0;l;)for(l=!1,n=v;n<=i;n++)l=rh(this,n,-1)||l;for(r>=t?ku(this,e):(t=r,e=Wl(this)),l=!0;l;)for(l=!1,n=i;n>=v;n--)l=rh(this,n,0)||l;for(r>=t?ku(this,e):(t=r,e=Wl(this)),l=!0;l;)for(l=!1,n=v;n<=i;n++)l=rh(this,n,0)||l;r>=t?ku(this,e):(t=r,e=Wl(this))}break;default:for(i=this.sa,v=0,_=t+1;(n=this.countCrossings())<_;){for(_=n,l=!0;l;)for(l=!1,n=i;n>=v;n--)l=rh(this,n,-1)||l;for((r=this.countCrossings())>=t?ku(this,e):(t=r,e=Wl(this)),l=!0;l;)for(l=!1,n=i;n>=v;n--)l=rh(this,n,1)||l;for((r=this.countCrossings())>=t?ku(this,e):(t=r,e=Wl(this)),l=!0;l;)for(l=!1,n=v;n<=i;n++)l=rh(this,n,1)||l;for(r>=t?ku(this,e):(t=r,e=Wl(this)),l=!0;l;)for(l=!1,n=v;n<=i;n++)l=rh(this,n,-1)||l;for(r>=t?ku(this,e):(t=r,e=Wl(this)),l=!0;l;)for(l=!1,n=i;n>=v;n--)l=rh(this,n,0)||l;for(r>=t?ku(this,e):(t=r,e=Wl(this)),l=!0;l;)for(l=!1,n=v;n<=i;n++)l=rh(this,n,0)||l;r>=t?ku(this,e):(t=r,e=Wl(this))}}ku(this,e)},io.prototype.straightenAndPack=function(){var t=0!=(1&this.ng),e=0!=(this.ng&iw);if(1e3<this.network.edges.count&&e&&(t=!1),t){var i=[];for(e=0;e<=this.sa;e++)i[e]=0;for(var n,r=this.network.vertexes.iterator;r.next();){var l=r.value;e=l.layer,n=l.column,l=this.nodeMinColumnSpace(l,!1),i[e]=Math.max(i[e],n+l)}for(r.reset();r.next();)(l=r.value).column=(8*(this.Ca-i[e=l.layer])>>1)+8*(n=l.column);this.Ca*=8}if(0!=(2&this.ng))for(i=!0;i;){for(i=!1,e=this.pc+1;e<=this.sa;e++)i=Km(this,e,1)||i;for(e=this.pc-1;0<=e;e--)i=Km(this,e,-1)||i;i=Km(this,this.pc,0)||i}if(0!=(4&this.ng)){for(e=this.pc+1;e<=this.sa;e++)My(this,e,1);for(e=this.pc-1;0<=e;e--)My(this,e,-1);My(this,this.pc,0)}if(t&&(g1(this,-1),g1(this,1)),0!=(2&this.ng))for(i=!0;i;){for(i=!1,i=Km(this,this.pc,0)||i,e=this.pc+1;e<=this.sa;e++)i=Km(this,e,0)||i;for(e=this.pc-1;0<=e;e--)i=Km(this,e,0)||i}},io.prototype.commitLayout=function(){if(this.setsPortSpots)for(var t=y1(this,!0),e=y1(this,!1),i=this.network.edges.iterator;i.next();){var n=i.value.link;null!==n&&(n.fromSpot=t,n.toSpot=e)}this.commitNodes(),this.Iv(),this.isRouting&&this.commitLinks()},io.prototype.commitNodes=function(){this.$d=[],this.zd=[],this.yd=[],this.Ia=[];for(var t=0;t<=this.sa;t++)this.$d[t]=0,this.zd[t]=0,this.yd[t]=0,this.Ia[t]=0;for(t=this.network.vertexes.iterator;t.next();){var e=t.value,i=e.layer;this.$d[i]=Math.max(this.$d[i],this.nodeMinLayerSpace(e,!0)),this.zd[i]=Math.max(this.zd[i],this.nodeMinLayerSpace(e,!1))}e=0,i=this.ue;for(var n=0;n<=this.sa;n++){var r=i;0>=this.$d[n]+this.zd[n]&&(r=0),0<n&&(e+=r/2),90===this.K||0===this.K?(this.yd[n]=e+=this.zd[n],e+=this.$d[n]):(this.yd[n]=e+=this.$d[n],e+=this.zd[n]),n<this.sa&&(e+=r/2),this.Ia[n]=e}for(i=e,e=this.arrangementOrigin,n=0;n<=this.sa;n++)270===this.K?this.yd[n]=e.y+this.yd[n]:90===this.K?(this.yd[n]=e.y+i-this.yd[n],this.Ia[n]=i-this.Ia[n]):180===this.K?this.yd[n]=e.x+this.yd[n]:(this.yd[n]=e.x+i-this.yd[n],this.Ia[n]=i-this.Ia[n]);for(t.reset(),i=n=1/0;t.next();){var l=(r=t.value).layer,v=0|r.column;if(270===this.K||90===this.K){var _=e.x+this.Zb*v;l=this.yd[l]}else _=this.yd[l],l=e.y+this.Zb*v;r.centerX=_,r.centerY=l,n=Math.min(r.x,n),i=Math.min(r.y,i)}for(this.Vc=new ht(n=e.x-n,e=e.y-i),t.reset();t.next();)(i=t.value).x+=n,i.y+=e,i.commit()},io.prototype.Iv=function(){for(var t=0,e=this.ue,i=0;i<=this.sa;i++)t+=this.$d[i],t+=this.zd[i];t+=this.sa*e,e=[],i=this.Zb*this.Ca;for(var n=this.maxLayer;0<=n;n--)e.push(270===this.K?0===n?new he(0,0,i,Math.abs(this.Ia[0])):new he(0,this.Ia[n-1],i,Math.abs(this.Ia[n-1]-this.Ia[n])):90===this.K?0===n?new he(0,this.Ia[0],i,Math.abs(this.Ia[0]-t)):new he(0,this.Ia[n],i,Math.abs(this.Ia[n-1]-this.Ia[n])):180===this.K?0===n?new he(0,0,Math.abs(this.Ia[0]),i):new he(this.Ia[n-1],0,Math.abs(this.Ia[n-1]-this.Ia[n]),i):0===n?new he(this.Ia[0],0,Math.abs(this.Ia[0]-t),i):new he(this.Ia[n],0,Math.abs(this.Ia[n-1]-this.Ia[n]),i));this.commitLayers(e,this.Vc)},io.prototype.commitLayers=function(){},io.prototype.commitLinks=function(){for(var e,t=this.network.edges.iterator;t.next();)null!==(e=t.value.link)&&(e.Th(),e.pk(),e.xf());for(t.reset();t.next();)null!==(e=t.value.link)&&e.xj();for(t.reset();t.next();){var i=t.value;if(null!==(e=i.link)){e.Th();var n=e,r=n.fromNode,l=n.toNode,v=n.fromPort,_=n.toPort;if(null!==r){var D=r.findVisibleNode();null!==D&&D!==r&&(r=D,v=D.port)}null!==l&&null!==(D=l.findVisibleNode())&&D!==l&&(l=D,_=D.port);var O=e.computeSpot(!0,v);D=e.computeSpot(!1,_);var V=i.fromVertex,$=i.toVertex;if(i.valid){if(e.curve===cl&&4===e.pointsCount)if(V.column===$.column)i=e.getLinkPoint(r,v,O,!0,!1,l,_),v=e.getLinkPoint(l,_,D,!1,!1,r,v),i.o()||i.set(r.actualBounds.center),v.o()||v.set(l.actualBounds.center),e.pk(),e.vf(i.x,i.y),e.vf((2*i.x+v.x)/3,(2*i.y+v.y)/3),e.vf((i.x+2*v.x)/3,(i.y+2*v.y)/3),e.vf(v.x,v.y);else{var vt=!1,kt=!1;if(null!==v&&O===xr&&(vt=!0),null!==_&&D===xr&&(kt=!0),vt||kt){var bt=e.i(0).x;i=e.i(0).y,V=e.i(3).x,n=e.i(3).y,vt&&(90===this.K||270===this.K?(vt=bt,$=(i+n)/2):(vt=(bt+V)/2,$=i),e.L(1,vt,$),(O=e.getLinkPoint(r,v,O,!0,!1,l,_)).o()||O.set(r.actualBounds.center),e.L(0,O.x,O.y)),kt&&(90===this.K||270===this.K?(O=V,i=(i+n)/2):(O=(bt+V)/2,i=n),e.L(2,O,i),(r=e.getLinkPoint(l,_,D,!1,!1,r,v)).o()||r.set(l.actualBounds.center),e.L(3,r.x,r.y))}}e.xf()}else if(V.layer===$.layer)e.xf();else{if(vt=kt=!1,bt=e.firstPickIndex+1,e.isOrthogonal){vt=!0;var Wt=e.pointsCount;4<Wt&&e.points.removeRange(2,Wt-3)}else if(e.curve===cl)kt=!0,4<(Wt=e.pointsCount)&&e.points.removeRange(2,Wt-3),4===Wt&&(bt=2);else{var de=O===xr,le=D===xr;2<(Wt=e.pointsCount)&&de&&le?e.points.removeRange(1,Wt-2):3<Wt&&de&&!le?e.points.removeRange(1,Wt-3):3<Wt&&!de&&le?e.points.removeRange(2,Wt-2):4<Wt&&!de&&!le&&e.points.removeRange(2,Wt-3)}if(i.rev){for(;null!==$&&V!==$;){var we=Wt=null;for(de=$.sourceEdges.iterator;de.next()&&((le=de.value).link!==i.link||(we=le.toVertex,null!==(Wt=le.fromVertex).node)););if(null===Wt)break;if(Wt!==V){de=e.i(bt-1).x,le=e.i(bt-1).y;var Pe=Wt.centerX,Ke=Wt.centerY;if(vt)180===this.K||0===this.K?bt===e.firstPickIndex+1?(e.m(bt++,de,le),e.m(bt++,de,Ke)):(null!==we?we.centerY:le)!==Ke&&(e.m(bt++,we=this.Ia[Wt.layer-1]+this.Vc.x,le),e.m(bt++,we,Ke)):bt===e.firstPickIndex+1?(e.m(bt++,de,le),e.m(bt++,Pe,le)):(null!==we?we.centerX:de)!==Pe&&(e.m(bt++,de,we=this.Ia[Wt.layer-1]+this.Vc.y),e.m(bt++,Pe,we));else if(bt===e.firstPickIndex+1){we=Math.max(10,this.$d[$.layer]);var ui=Math.max(10,this.zd[$.layer]);if(kt)180===this.K?Pe<=$.bounds.x?(e.m(bt++,($=$.bounds.x)-we,Ke),e.m(bt++,$,Ke),e.m(bt++,$+ui,Ke)):(e.m(bt++,Pe-we,Ke),e.m(bt++,Pe,Ke),e.m(bt++,Pe+ui,Ke)):90===this.K?Ke>=$.bounds.bottom?(e.m(bt++,Pe,($=$.bounds.y+$.bounds.height)+ui),e.m(bt++,Pe,$),e.m(bt++,Pe,$-we)):(e.m(bt++,Pe,Ke+ui),e.m(bt++,Pe,Ke),e.m(bt++,Pe,Ke-we)):270===this.K?Ke<=$.bounds.y?(e.m(bt++,Pe,($=$.bounds.y)-we),e.m(bt++,Pe,$),e.m(bt++,Pe,$+ui)):(e.m(bt++,Pe,Ke-we),e.m(bt++,Pe,Ke),e.m(bt++,Pe,Ke+ui)):0===this.K&&(Pe>=$.bounds.right?(e.m(bt++,($=$.bounds.x+$.bounds.width)+ui,Ke),e.m(bt++,$,Ke),e.m(bt++,$-we,Ke)):(e.m(bt++,Pe+ui,Ke),e.m(bt++,Pe,Ke),e.m(bt++,Pe-we,Ke)));else{e.m(bt++,de,le);var $i=0;180===this.K||0===this.K?((180===this.K?Pe>=$.bounds.right:Pe<=$.bounds.x)&&($i=(0===this.K?-we:ui)/2),e.m(bt++,de+$i,Ke)):((270===this.K?Ke>=$.bounds.bottom:Ke<=$.bounds.y)&&($i=(90===this.K?-we:ui)/2),e.m(bt++,Pe,le+$i)),e.m(bt++,Pe,Ke)}}else we=Math.max(10,this.$d[Wt.layer]),ui=Math.max(10,this.zd[Wt.layer]),180===this.K?(kt&&e.m(bt++,Pe-we,Ke),e.m(bt++,Pe,Ke),kt&&e.m(bt++,Pe+ui,Ke)):90===this.K?(kt&&e.m(bt++,Pe,Ke+ui),e.m(bt++,Pe,Ke),kt&&e.m(bt++,Pe,Ke-we)):270===this.K?(kt&&e.m(bt++,Pe,Ke-we),e.m(bt++,Pe,Ke),kt&&e.m(bt++,Pe,Ke+ui)):(kt&&e.m(bt++,Pe+ui,Ke),e.m(bt++,Pe,Ke),kt&&e.m(bt++,Pe-we,Ke))}$=Wt}(null===_||O!==xr||vt)&&(de=e.i(bt-1).x,le=e.i(bt-1).y,Pe=e.i(bt).x,Ke=e.i(bt).y,vt?($=this.zd[V.layer],180===this.K||0===this.K?((vt=le)>=V.bounds.y&&vt<=V.bounds.bottom&&(180===this.K?Pe>=V.bounds.x:Pe<=V.bounds.right)&&(vt=vt<V.bounds.y+V.bounds.height/2?V.bounds.y-this.Zb/2:V.bounds.bottom+this.Zb/2,e.m(bt++,$=V.centerX+(180===this.K?-$:$),le),e.m(bt++,$,vt)),e.m(bt++,Pe,vt)):((vt=de)>=V.bounds.x&&vt<=V.bounds.right&&(270===this.K?Ke>=V.bounds.y:Ke<=V.bounds.bottom)&&(vt=vt<V.bounds.x+V.bounds.width/2?V.bounds.x-this.Zb/2:V.bounds.right+this.Zb/2,e.m(bt++,de,$=V.centerY+(270===this.K?-$:$)),e.m(bt++,vt,$)),e.m(bt++,vt,Ke)),e.m(bt++,Pe,Ke)):kt?(we=Math.max(10,this.$d[V.layer]),ui=Math.max(10,this.zd[V.layer]),180===this.K&&Pe>=V.bounds.x?(e.L(bt-2,$=V.bounds.x+V.bounds.width,le),e.L(bt-1,$+ui,le)):90===this.K&&Ke<=V.bounds.bottom?(e.L(bt-2,de,$=V.bounds.y),e.L(bt-1,de,$-we)):270===this.K&&Ke>=V.bounds.y?(e.L(bt-2,de,$=V.bounds.y+V.bounds.height),e.L(bt-1,de,$+ui)):0===this.K&&Pe<=V.bounds.right&&(e.L(bt-2,$=V.bounds.x,le),e.L(bt-1,$-we,le))):(we=Math.max(10,this.$d[V.layer]),ui=Math.max(10,this.zd[V.layer]),vt=0,180===this.K||0===this.K?((180===this.K?Pe<=V.bounds.x:Pe>=V.bounds.right)&&(vt=(0===this.K?ui:-we)/2),e.m(bt++,Pe+vt,le)):((270===this.K?Ke<=V.bounds.y:Ke>=V.bounds.bottom)&&(vt=(90===this.K?ui:-we)/2),e.m(bt++,de,Ke+vt)),e.m(bt++,Pe,Ke)))}else{for(;null!==V&&V!==$;){for(we=Wt=null,V=V.destinationEdges.iterator;V.next()&&((de=V.value).link!==i.link||(null!==(we=de.fromVertex).node&&(we=null),null!==(Wt=de.toVertex).node)););if(null===Wt)break;Wt!==$&&(de=e.i(bt-1).x,le=e.i(bt-1).y,Pe=Wt.centerX,Ke=Wt.centerY,vt?180===this.K||0===this.K?(null!==we?we.centerY:le)!==Ke&&(we=this.Ia[Wt.layer]+this.Vc.x,bt===e.firstPickIndex+1&&(we=0===this.K?Math.max(we,de):Math.min(we,de)),e.m(bt++,we,le),e.m(bt++,we,Ke)):(null!==we?we.centerX:de)!==Pe&&(we=this.Ia[Wt.layer]+this.Vc.y,bt===e.firstPickIndex+1&&(we=90===this.K?Math.max(we,le):Math.min(we,le)),e.m(bt++,de,we),e.m(bt++,Pe,we)):(we=Math.max(10,this.$d[Wt.layer]),ui=Math.max(10,this.zd[Wt.layer]),180===this.K?(e.m(bt++,Pe+ui,Ke),kt&&e.m(bt++,Pe,Ke),e.m(bt++,Pe-we,Ke)):90===this.K?(e.m(bt++,Pe,Ke-we),kt&&e.m(bt++,Pe,Ke),e.m(bt++,Pe,Ke+ui)):270===this.K?(e.m(bt++,Pe,Ke+ui),kt&&e.m(bt++,Pe,Ke),e.m(bt++,Pe,Ke-we)):(e.m(bt++,Pe-we,Ke),kt&&e.m(bt++,Pe,Ke),e.m(bt++,Pe+ui,Ke)))),V=Wt}vt&&(de=e.i(bt-1).x,le=e.i(bt-1).y,Pe=e.i(bt).x,Ke=e.i(bt).y,180===this.K||0===this.K?le!==Ke&&(we=0===this.K?Math.min(Math.max((Pe+de)/2,this.Ia[$.layer]+this.Vc.x),Pe):Math.max(Math.min((Pe+de)/2,this.Ia[$.layer]+this.Vc.x),Pe),e.m(bt++,we,le),e.m(bt++,we,Ke)):de!==Pe&&(we=90===this.K?Math.min(Math.max((Ke+le)/2,this.Ia[$.layer]+this.Vc.y),Ke):Math.max(Math.min((Ke+le)/2,this.Ia[$.layer]+this.Vc.y),Ke),e.m(bt++,de,we),e.m(bt++,Pe,we)))}null!==n&&kt&&(null!==v&&(O===xr&&(O=e.i(0),n=e.i(2),O.w(n)||e.L(1,(O.x+n.x)/2,(O.y+n.y)/2)),(O=e.getLinkPoint(r,v,xr,!0,!1,l,_)).o()||O.set(r.actualBounds.center),e.L(0,O.x,O.y)),null!==_&&(D===xr&&(D=e.i(e.pointsCount-1),O=e.i(e.pointsCount-3),D.w(O)||e.L(e.pointsCount-2,(D.x+O.x)/2,(D.y+O.y)/2)),(r=e.getLinkPoint(l,_,xr,!1,!1,r,v)).o()||r.set(l.actualBounds.center),e.L(e.pointsCount-1,r.x,r.y))),e.xf(),i.commit()}}}this.avoidOrthogonalOverlaps()},io.prototype.avoidOrthogonalOverlaps=function(){if(!(0>=this.linkSpacing)){for(var t=new zt,e=this.network.edges.iterator;e.next();){var i=e.value.link;null!==i&&i.isOrthogonal&&!t.contains(i)&&t.add(i)}if(0<t.count)if(90===this.K||270===this.K){for(e=0,i=[],t=t.iterator;t.next();){var n=t.value;if(null!==n&&n.isOrthogonal)for(var r=2;r<n.pointsCount-3;r++){var l=n.i(r),v=n.i(r+1);if(this.A(l.y,v.y)&&!this.A(l.x,v.x)){var _=new vp;_.layer=Math.floor(l.y/2);var D=n.i(0),O=n.i(n.pointsCount-1);if(_.first=D.x*D.x+D.y,_.Xb=O.x*O.x+O.y,_.fd=Math.min(l.x,v.x),_.vc=Math.max(l.x,v.x),_.index=r,_.link=n,r+2<n.pointsCount){D=n.i(r-1),O=n.i(r+2);var V=0;D.y<l.y?V=O.y<l.y?3:l.x<v.x?2:1:D.y>l.y&&(V=O.y>l.y?0:v.x<l.x?2:1),_.l=V}i.push(_)}}}if(1<i.length)for(i.sort(this.Ry),t=0;t<i.length;){for(l=i[t].layer,n=t+1;n<i.length&&i[n].layer===l;)n++;if(1<n-t)for(l=t;l<n;){for(v=i[l].vc,r=t+1;r<n&&i[r].fd<v;)v=Math.max(v,i[r].vc),r++;if(1<(v=r-l)){for(this.uj(i,this.hu,l,l+v),V=1,_=i[l].Xb,D=l;D<r;D++)(O=i[D]).Xb!==_&&(V++,_=O.Xb);this.uj(i,this.Qy,l,l+v);var $=1;for(_=i[l].first,D=l;D<r;D++)(O=i[D]).first!==_&&($++,_=O.first);for(D=!0,O=$,V<$?(D=!1,O=V,_=i[l].Xb,this.uj(i,this.hu,l,l+v)):_=i[l].first,V=0,$=l;$<r;$++){var vt=i[$];(D?vt.first:vt.Xb)!==_&&(V++,_=D?vt.first:vt.Xb);var kt=vt.link;l=kt.i(vt.index),v=kt.i(vt.index+1);var bt=this.linkSpacing*(V-(O-1)/2);e++,kt.Th(),kt.L(vt.index,l.x,l.y+bt),kt.L(vt.index+1,v.x,v.y+bt),kt.xf()}}l=r}t=n}}else{for(e=0,i=[],t=t.iterator;t.next();)if(null!==(n=t.value)&&n.isOrthogonal)for(r=2;r<n.pointsCount-3;r++)l=n.i(r),v=n.i(r+1),this.A(l.x,v.x)&&!this.A(l.y,v.y)&&((_=new vp).layer=Math.floor(l.x/2),D=n.i(0),O=n.i(n.pointsCount-1),_.first=D.x+D.y*D.y,_.Xb=O.x+O.y*O.y,_.fd=Math.min(l.y,v.y),_.vc=Math.max(l.y,v.y),_.index=r,_.link=n,r+2<n.pointsCount&&(D=n.i(r-1),O=n.i(r+2),V=0,D.x<l.x?V=O.x<l.x?3:l.y<v.y?2:1:D.x>l.x&&(V=O.x>l.x?0:v.y<l.y?2:1),_.l=V),i.push(_));if(1<i.length)for(i.sort(this.Ry),t=0;t<i.length;){for(l=i[t].layer,n=t+1;n<i.length&&i[n].layer===l;)n++;if(1<n-t)for(l=t;l<n;){for(v=i[l].vc,r=t+1;r<n&&i[r].fd<v;)v=Math.max(v,i[r].vc),r++;if(1<(v=r-l)){for(this.uj(i,this.hu,l,l+v),V=1,_=i[l].Xb,D=l;D<r;D++)(O=i[D]).Xb!==_&&(V++,_=O.Xb);for(this.uj(i,this.Qy,l,l+v),$=1,_=i[l].first,D=l;D<r;D++)(O=i[D]).first!==_&&($++,_=O.first);for(D=!0,O=$,V<$?(D=!1,O=V,_=i[l].Xb,this.uj(i,this.hu,l,l+v)):_=i[l].first,V=0,$=l;$<r;$++)vt=i[$],(D?vt.first:vt.Xb)!==_&&(V++,_=D?vt.first:vt.Xb),l=(kt=vt.link).i(vt.index),v=kt.i(vt.index+1),bt=this.linkSpacing*(V-(O-1)/2),e++,kt.Th(),kt.L(vt.index,l.x+bt,l.y),kt.L(vt.index+1,v.x+bt,v.y),kt.xf()}l=r}t=n}}}},(Q=io.prototype).Ry=function(t,e){return t instanceof vp&&e instanceof vp&&t!==e?t.layer<e.layer?-1:t.layer>e.layer?1:t.fd<e.fd?-1:t.fd>e.fd?1:t.vc<e.vc?-1:t.vc>e.vc?1:0:0},Q.Qy=function(t,e){return t instanceof vp&&e instanceof vp&&t!==e?t.first<e.first?-1:t.first>e.first||t.l<e.l?1:t.l>e.l||t.fd<e.fd?-1:t.fd>e.fd?1:t.vc<e.vc?-1:t.vc>e.vc?1:0:0},Q.hu=function(t,e){return t instanceof vp&&e instanceof vp&&t!==e?t.Xb<e.Xb?-1:t.Xb>e.Xb||t.l<e.l?1:t.l>e.l||t.fd<e.fd?-1:t.fd>e.fd?1:t.vc<e.vc?-1:t.vc>e.vc?1:0:0},Q.A=function(t,e){return-1<(t-=e)&&1>t},Q.uj=function(t,e,i,n){var r=t.length,l=n-i;if(!(1>=l))if((0>i||i>=r-1)&&U("not in range 0 <= from < length: "+i),2===l)0<e(n=t[i],r=t[i+1])&&(t[i]=r,t[i+1]=n);else if(0===i)if(n>=r)t.sort(e);else for((i=t.slice(0,n)).sort(e),e=0;e<n;e++)t[e]=i[e];else if(n>=r)for((n=t.slice(i)).sort(e),e=i;e<r;e++)t[e]=n[e-i];else for((r=t.slice(i,n)).sort(e),e=i;e<n;e++)t[e]=r[e-i]},H.Object.defineProperties(io.prototype,{layerSpacing:{get:function(){return this.ue},set:function(t){this.ue!==t&&0<=t&&(this.ue=t,this.C())}},columnSpacing:{get:function(){return this.Zb},set:function(t){this.Zb!==t&&0<t&&(this.Zb=t,this.C())}},direction:{get:function(){return this.K},set:function(t){this.K!==t&&(0===t||90===t||180===t||270===t?(this.K=t,this.C()):U("LayeredDigraphLayout.direction must be 0, 90, 180, or 270"))}},cycleRemoveOption:{get:function(){return this.jl},set:function(t){this.jl===t||t!==x1&&t!==Dv&&t!==fl||(this.jl=t,this.C())}},layeringOption:{get:function(){return this.Ml},set:function(t){this.Ml===t||t!==Av&&t!==w1&&t!==_1||(this.Ml=t,this.C())}},initializeOption:{get:function(){return this.Bl},set:function(t){this.Bl===t||t!==kv&&t!==b1&&t!==Cy||(this.Bl=t,this.C())}},iterations:{get:function(){return this.Rj},set:function(t){this.Rj!==t&&0<=t&&(this.Rj=t,this.C())}},aggressiveOption:{get:function(){return this.Zk},set:function(t){this.Zk===t||t!==Sy&&t!==E0&&t!==M1||(this.Zk=t,this.C())}},packOption:{get:function(){return this.ng},set:function(t){this.ng!==t&&0<=t&&8>t&&(this.ng=t,this.C())}},setsPortSpots:{get:function(){return this.kf},set:function(t){this.kf!==t&&(this.kf=t,this.C())}},linkSpacing:{get:function(){return this.Mo},set:function(t){this.Mo!==t&&0<=t&&(this.Mo=t,this.C())}},maxLayer:{get:function(){return this.sa}},maxIndex:{get:function(){return this.Ji}},maxColumn:{get:function(){return this.Ca}},minIndexLayer:{get:function(){return this.mh}},maxIndexLayer:{get:function(){return this.pc}}});var Dv=new St(io,"CycleDepthFirst",0),x1=new St(io,"CycleGreedy",1),fl=new St(io,"CycleFromLayers",2),Av=new St(io,"LayerOptimalLinkLength",0),w1=new St(io,"LayerLongestPathSink",1),_1=new St(io,"LayerLongestPathSource",2),kv=new St(io,"InitDepthFirstOut",0),b1=new St(io,"InitDepthFirstIn",1),Cy=new St(io,"InitNaive",2),Sy=new St(io,"AggressiveNone",0),E0=new St(io,"AggressiveLess",1),M1=new St(io,"AggressiveMore",2),iw=8;function vp(){this.index=this.vc=this.fd=this.Xb=this.first=this.layer=0,this.link=null,this.l=0}function Hg(t){P.call(this,t)}function cm(t){Gi.call(this,t),this.Ra=this.Rg=this.Fi=-1,this.I=NaN,this.T=null,this.valid=!1,this.finish=this.Cg=NaN,this.wf=0,this.Mk=this.Nk=null}function Gg(t){Un.call(this,t),this.l=this.La=this.eb=!1,this.Ka=this.I=NaN,this.T=this.u=0}function br(){Rr.call(this),this.Jb=new Pt,this.vp=Iv,this.kd=nf,this.oq=Oy,this.ts=Ry,this.nx=[],this.jd=!0,this.Eb=Bv,this.Pd=new De(10,10).freeze();var t=new dm(this);this.U=new sh(t),this.V=new sh(t),this.uv=[]}function C1(t){var e=new Pt;for(t=t.iterator;t.next();){var i=t.value;i.initialized||e.add(i)}return e}function xd(t,e){var i=999999,n=null;for(e=e.iterator;e.next();){var r=e.value;switch(t.kd){case nf:r.sourceEdges.count<i&&(i=r.sourceEdges.count,n=r);break;case fm:r.destinationEdges.count<i&&(i=r.destinationEdges.count,n=r);break;default:U("Unhandled path value "+t.kd.toString())}}return n}function S1(t,e){if(null!==e){switch(t.kd){case nf:if(0<e.destinationEdges.count){for(var i=new zt,n=e.destinationVertexes;n.next();){var r=n.value;Sx(t,e,r)&&i.add(r)}0<i.count&&(e.children=i.ma())}break;case fm:if(0<e.sourceEdges.count){for(i=new zt,n=e.sourceVertexes;n.next();)Sx(t,e,r=n.value)&&i.add(r);0<i.count&&(e.children=i.ma())}break;default:U("Unhandled path value"+t.kd.toString())}for(n=(i=e.children).length,r=0;r<n;r++){var l=i[r];l.initialized=!0,l.level=e.level+1,l.parent=e,t.Jb.remove(l)}for(e=0;e<n;e++)S1(t,i[e])}}function Sx(t,e,i){if(i.initialized){if(null===e)var n=!1;else{for(n=e.parent;null!==n&&n!==i;)n=n.parent;n=n===i}if(n||i.level>e.level)return!1;t.removeChild(i.parent,i)}return!0}function wd(t,e){if(null!==e){t.initializeTreeVertexValues(e),e.alignment===Vf&&t.sortTreeVertexChildren(e);for(var i=0,n=e.childrenCount,r=0,l=e.children,v=l.length,_=0;_<v;_++){var D=l[_];wd(t,D),i+=D.descendantCount+1,n=Math.max(n,D.maxChildrenCount),r=Math.max(r,D.maxGenerationCount)}e.descendantCount=i,e.maxChildrenCount=n,e.maxGenerationCount=0<n?r+1:0}}function Nf(t,e){if(null!==e){t.assignTreeVertexValues(e);for(var i=(e=e.children).length,n=0;n<i;n++)Nf(t,e[n])}}function E1(t,e){if(null!==e){e.alignment!==Vf&&t.sortTreeVertexChildren(e);for(var i=(e=e.children).length,n=0;n<i;n++)E1(t,e[n])}}function yp(t){return t===wp||t===Vf||t===_p||t===Md}function Tv(t){return t===wp||t===Vf}function D1(t){var e=t.parent;if(null!==e){var i=e.alignment;if(yp(i)){if(Tv(i)){for(e=e.children,i=0;i<e.length&&t!==e[i];)i++;return i%2==0}if(i===_p)return!0}}return!1}function Ex(t,e){if(0===e.childrenCount){var i=!1,n=0;null!==e.parent&&(n=e.parent.angle,i=yp(i=e.parent.alignment));var r=D1(e);e.S.h(0,0),e.wa.h(e.width,e.height),null===e.parent||null===e.comments||(180!==n&&270!==n||i)&&!r?e.fa.h(0,0):180===n&&!i||(90===n||270===n)&&r?e.fa.h(e.width-2*e.focus.x,0):e.fa.h(0,e.height-2*e.focus.y)}else{i=90===(n=Eh(e))||270===n;for(var l=0,v=(r=e.children).length,_=0;_<v;_++){var D=r[_];l=Math.max(l,i?D.wa.width:D.wa.height)}var O=e.alignment,V=O===Ff,$=O===Bf;_=yp(O);var vt=Math.max(0,e.breadthLimit);D=$m(e);var kt=e.nodeSpacing,bt=bd(e),Wt=V||$?0:bt/2,de=e.rowSpacing,le=0;(V||$||e.Sm||e.Tm&&1===e.maxGenerationCount)&&(le=Math.max(0,e.rowIndent)),V=e.width;var we=e.height,Pe=0,Ke=0,ui=0,$i=0,vn=0,tn=0,Bn=0,yn=0,Zi=0;if(_&&!Tv(O)&&135<n&&r.reverse(),Tv(O))if(1<v)for(var Dr=0;Dr<v;Dr++){var dr=r[Dr],$r=dr.wa;Dr%2==0&&Dr!==v-1&&(Zi=Math.max(Zi,(i?$r.width:$r.height)+ef(dr)-kt))}else 1===v&&(Zi=i?r[0].wa.width:r[0].wa.height);if(_)switch(O){case wp:case Vf:Zi=(Ke=135>n?Dx(e,r,Zi,Pe,Ke):Ey(e,r,Zi,Pe,Ke)).x,Pe=Ke.width,Ke=Ke.height;break;case _p:for(t=0;t<v;t++)Wt=(vt=r[t]).wa,ui=0===Bn?0:de,i?(vt.S.h(l-Wt.width,vn+ui),Pe=Math.max(Pe,Wt.width),Ke=Math.max(Ke,vn+ui+Wt.height),vn+=ui+Wt.height):(vt.S.h($i+ui,l-Wt.height),Pe=Math.max(Pe,$i+ui+Wt.width),Ke=Math.max(Ke,Wt.height),$i+=ui+Wt.width),Bn++;break;case Md:for(l=0;l<v;l++)vt=(t=r[l]).wa,Wt=0===Bn?0:de,i?(t.S.h(kt/2+e.focus.x,vn+Wt),Pe=Math.max(Pe,vt.width),Ke=Math.max(Ke,vn+Wt+vt.height),vn+=Wt+vt.height):(t.S.h($i+Wt,kt/2+e.focus.y),Pe=Math.max(Pe,$i+Wt+vt.width),Ke=Math.max(Ke,vt.height),$i+=Wt+vt.width),Bn++}else for(Dr=0;Dr<v;Dr++){if($r=(dr=r[Dr]).wa,i){0<vt&&0<Bn&&$i+kt+$r.width>vt&&($i<l&&D0(e,O,l-$i,0,yn,Dr-1),tn++,Bn=0,yn=Dr,ui=Ke,$i=0,vn=135<n?-Ke-de:Ke+de);var Xo=0===Bn?Wt:kt;Ty(t,dr,0,vn),dr.S.h($i+Xo,vn),Pe=Math.max(Pe,$i+Xo+$r.width),Ke=Math.max(Ke,ui+(0===tn?0:de)+$r.height),$i+=Xo+$r.width}else 0<vt&&0<Bn&&vn+kt+$r.height>vt&&(vn<l&&D0(e,O,0,l-vn,yn,Dr-1),tn++,Bn=0,yn=Dr,ui=Pe,vn=0,$i=135<n?-Pe-de:Pe+de),Xo=0===Bn?Wt:kt,Ty(t,dr,$i,0),dr.S.h($i,vn+Xo),Ke=Math.max(Ke,vn+Xo+$r.height),Pe=Math.max(Pe,ui+(0===tn?0:de)+$r.width),vn+=Xo+$r.height;Bn++}switch(0<tn&&(i?(Ke+=Math.max(0,D),$i<Pe&&D0(e,O,Pe-$i,0,yn,v-1),0<le&&($||xp(e,le,0,0,v-1),Pe+=le)):(Pe+=Math.max(0,D),vn<Ke&&D0(e,O,0,Ke-vn,yn,v-1),0<le&&($||xp(e,0,le,0,v-1),Ke+=le))),le=$=0,O){case Yg:i?$+=Pe/2-e.focus.x-bt/2:le+=Ke/2-e.focus.y-bt/2;break;case Zm:0<tn?i?$+=Pe/2-e.focus.x-bt/2:le+=Ke/2-e.focus.y-bt/2:i?$+=(O=r[0].S.x+r[0].fa.x)+(r[v-1].S.x+r[v-1].fa.x+2*r[v-1].focus.x-O)/2-e.focus.x-bt/2:le+=(O=r[0].S.y+r[0].fa.y)+(r[v-1].S.y+r[v-1].fa.y+2*r[v-1].focus.y-O)/2-e.focus.y-bt/2;break;case Ff:i?($-=bt,Pe+=bt):(le-=bt,Ke+=bt);break;case Bf:i?($+=Pe-e.width+bt,Pe+=bt):(le+=Ke-e.height+bt,Ke+=bt);break;case wp:case Vf:i?$+=1<v?Zi+kt/2-e.focus.x:r[0].focus.x-e.focus.x+r[0].fa.x:le+=1<v?Zi+kt/2-e.focus.y:r[0].focus.y-e.focus.y+r[0].fa.y;break;case _p:i?$+=Pe+kt/2-e.focus.x:le+=Ke+kt/2-e.focus.y;break;case Md:break;default:U("Unhandled alignment value "+O.toString())}for(bt=0;bt<v;bt++)O=r[bt],i?O.S.h(O.S.x+O.fa.x-$,O.S.y+(135<n?(_?-Ke:-O.wa.height)+O.fa.y-D:we+D+O.fa.y)):O.S.h(O.S.x+(135<n?(_?-Pe:-O.wa.width)+O.fa.x-D:V+D+O.fa.x),O.S.y+O.fa.y-le);i?(Pe=Ay(e,Pe,$),0>$&&($=0),135<n&&(le+=Ke+D),Ke=Math.max(Math.max(Ke,we),Ke+we+D)):(135<n&&($+=Pe+D),Pe=Math.max(Math.max(Pe,V),Pe+V+D),Ke=A1(e,Ke,le),0>le&&(le=0)),e.fa.h($,le),e.wa.h(Pe,Ke)}}function Dx(t,e,i,n,r){var l=e.length;if(0===l)return new he(i,0,n,r);if(1===l)return new he(i,0,n=(t=e[0]).wa.width,r=t.wa.height);for(var v=t.nodeSpacing,_=t.rowSpacing,D=90===Eh(t),O=0,V=0,$=0,vt=0;vt<l;vt++)if(!(vt%2!=0||1<l&&vt===l-1)){var kt=e[vt],bt=kt.wa,Wt=0===O?0:_;if(D){var de=ef(kt)-v;kt.S.h(i-(bt.width+de),$+Wt),n=Math.max(n,bt.width+de),r=Math.max(r,$+Wt+bt.height),$+=Wt+bt.height}else de=ef(kt)-v,kt.S.h(V+Wt,i-(bt.height+de)),r=Math.max(r,bt.height+de),n=Math.max(n,V+Wt+bt.width),V+=Wt+bt.width;O++}for(O=0,kt=V,vt=$,D?(V=i+v,$=0):(V=0,$=i+v),bt=0;bt<l;bt++)if(bt%2!=0){de=(Wt=e[bt]).wa;var le=0===O?0:_;if(D){var we=ef(Wt)-v;Wt.S.h(V+we,$+le),n=Math.max(n,V+de.width+we),r=Math.max(r,$+le+de.height),$+=le+de.height}else we=ef(Wt)-v,Wt.S.h(V+le,$+we),n=Math.max(n,V+le+de.width),r=Math.max(r,$+de.height+we),V+=le+de.width;O++}return 1<l&&l%2==1&&(l=(e=e[l-1]).wa,_=null===e.parent?0:e.parent.rowSpacing,D?(e.S.h(i+v/2-e.focus.x-e.fa.x,r+_),D=i+v/2-e.focus.x-e.fa.x,n=Math.max(n,D+l.width),0>D&&(n-=D),r=Math.max(r,Math.max(vt,$)+_+l.height),0>e.S.x&&(i=Dy(t,e.S.x,!1,i,v))):(e.S.h(n+_,i+v/2-e.focus.y-e.fa.y),n=Math.max(n,Math.max(kt,V)+_+l.width),$=i+v/2-e.focus.y-e.fa.y,r=Math.max(r,$+l.height),0>$&&(r-=$),0>e.S.y&&(i=Dy(t,e.S.y,!0,i,v)))),new he(i,0,n,r)}function Ey(t,e,i,n,r){var l=e.length;if(0===l)return new he(i,0,n,r);if(1===l)return new he(i,0,n=(e=e[0]).wa.width,r=e.wa.height);for(var v=t.nodeSpacing,_=t.rowSpacing,D=270===Eh(t),O=0,V=0,$=0,vt=0;vt<l;vt++)if(!(vt%2!=0||1<l&&vt===l-1)){var kt=e[vt],bt=kt.wa,Wt=0===O?0:_;if(D){var de=ef(kt)-v;kt.S.h(i-(bt.width+de),$-=Wt+bt.height),n=Math.max(n,bt.width+de),r=Math.max(r,Math.abs($))}else de=ef(kt)-v,kt.S.h(V-=Wt+bt.width,i-(bt.height+de)),r=Math.max(r,bt.height+de),n=Math.max(n,Math.abs(V));O++}for(O=0,kt=V,vt=$,D?(V=i+v,$=0):(V=0,$=i+v),bt=0;bt<l;bt++)if(bt%2!=0){de=(Wt=e[bt]).wa;var le=0===O?0:_;if(D){var we=ef(Wt)-v;Wt.S.h(V+we,$-=le+de.height),n=Math.max(n,V+de.width+we),r=Math.max(r,Math.abs($))}else we=ef(Wt)-v,Wt.S.h(V-=le+de.width,$+we),r=Math.max(r,$+de.height+we),n=Math.max(n,Math.abs(V));O++}for(1<l&&l%2==1&&(O=(_=e[l-1]).wa,bt=null===_.parent?0:_.parent.rowSpacing,D?(_.S.h(i+v/2-_.focus.x-_.fa.x,-r-O.height-bt),V=i+v/2-_.focus.x-_.fa.x,n=Math.max(n,V+O.width),0>V&&(n-=V),r=Math.max(r,Math.abs(Math.min(vt,$))+bt+O.height),0>_.S.x&&(i=Dy(t,_.S.x,!1,i,v))):(_.S.h(-n-O.width-bt,i+v/2-_.focus.y-_.fa.y),n=Math.max(n,Math.abs(Math.min(kt,V))+bt+O.width),$=i+v/2-_.focus.y-_.fa.y,r=Math.max(r,$+O.height),0>$&&(r-=$),0>_.S.y&&(i=Dy(t,_.S.y,!0,i,v)))),t=0;t<l;t++)v=e[t],D?v.S.h(v.S.x,v.S.y+r):v.S.h(v.S.x+n,v.S.y);return new he(i,0,n,r)}function ef(t){return null===t.parent?0:t.parent.nodeSpacing}function Dy(t,e,i,n,r){for(var l=(t=t.children).length,v=0;v<l;v++)i?t[v].S.h(t[v].S.x,t[v].S.y-e):t[v].S.h(t[v].S.x-e,t[v].S.y);return e=t[l-1],Math.max(n,i?e.fa.y+e.focus.y-r/2:e.fa.x+e.focus.x-r/2)}function Ay(t,e,i){switch(t.alignment){case Zm:case Yg:return i+t.width>e&&(e=i+t.width),0>i&&(e-=i),e;case Ff:return t.width>e?t.width:e;case Bf:return 2*t.focus.x>e?t.width:e+t.width-2*t.focus.x;case wp:case Vf:return Math.max(t.width,Math.max(e,i+t.width)-Math.min(0,i));case _p:return t.width-t.focus.x+t.nodeSpacing/2+e;case Md:return Math.max(t.width,t.focus.x+t.nodeSpacing/2+e);default:return e}}function A1(t,e,i){switch(t.alignment){case Zm:case Yg:return i+t.height>e&&(e=i+t.height),0>i&&(e-=i),e;case Ff:return t.height>e?t.height:e;case Bf:return 2*t.focus.y>e?t.height:e+t.height-2*t.focus.y;case wp:case Vf:return Math.max(t.height,Math.max(e,i+t.height)-Math.min(0,i));case _p:return t.height-t.focus.y+t.nodeSpacing/2+e;case Md:return Math.max(t.height,t.focus.y+t.nodeSpacing/2+e);default:return e}}function ky(t,e,i){switch(t){case Yg:case Zm:e/=2,i/=2;break;case Ff:i=e=0;break;case Bf:break;default:U("Unhandled alignment value "+t.toString())}return new ht(e,i)}function D0(t,e,i,n,r,l){xp(t,(e=ky(e,i,n)).x,e.y,r,l)}function xp(t,e,i,n,r){if(0!==e||0!==i)for(t=t.children;n<=r;n++){var l=t[n].S;l.x+=e,l.y+=i}}function Ty(t,e,i,n){var r=e.parent;switch(t.kd){case nf:for(t=e.sourceEdges;t.next();)(e=t.value).fromVertex===r&&e.relativePoint.h(i,n);break;case fm:for(t=e.destinationEdges;t.next();)(e=t.value).toVertex===r&&e.relativePoint.h(i,n);break;default:U("Unhandled path value "+t.kd.toString())}}function Pv(t,e,i){for(var n=0;n<t.length;n++){var r=t[n];r.x+=e,r.y+=i}}function k1(t,e,i,n,r,l,v,_){var D=Eh(e),O=90===D||270===D,V=e.nodeSpacing;e=n;var $=r;n=l;var vt=v,kt=i.Pq,bt=i.br;v=i.wa;var Wt=O?Math.max(vt,v.height):Math.max(n,v.width);if((null===kt||D!==Eh(i))&&(kt=El(t,2),bt=El(t,2),O?(kt[0].h(0,0),kt[1].h(0,v.height),bt[0].h(v.width,0),bt[1].h(bt[0].x,kt[1].y)):(kt[0].h(0,0),kt[1].h(v.width,0),bt[0].h(0,v.height),bt[1].h(kt[1].x,bt[0].y))),O){if(vt=9999999,!(null===$||2>$.length||null===kt||2>kt.length))for(r=i=0;i<$.length&&r<kt.length;){var de=kt[r];D=de.x,O=de.y,D+=n;var le=l=$[i];i+1<$.length&&(le=$[i+1]);var we=de;de=we.x,we=we.y,r+1<kt.length&&(de=(we=kt[r+1]).x,we=we.y,de+=n);var Pe=vt;l.y===O?Pe=D-l.x:l.y>O&&l.y<we?Pe=D+(l.y-O)/(we-O)*(de-D)-l.x:O>l.y&&O<le.y&&(Pe=D-(l.x+(O-l.y)/(le.y-l.y)*(le.x-l.x))),Pe<vt&&(vt=Pe),le.y<=l.y?i++:we<=O?r++:(le.y<=we&&i++,we<=le.y&&r++)}if(vt=n-vt,i=kt,r=vt+=V,null===e||2>e.length||null===i||2>i.length)n=null;else{for(V=El(t,e.length+i.length),n=l=D=0;l<i.length&&i[l].y<e[0].y;)O=i[l++],V[n++].h(O.x+r,O.y);for(;D<e.length;)O=e[D++],V[n++].h(O.x,O.y);for(D=e[e.length-1].y;l<i.length&&i[l].y<=D;)l++;for(;l<i.length&&i[l].y>D;)O=i[l++],V[n++].h(O.x+r,O.y);for(i=El(t,n),D=0;D<n;D++)i[D].assign(V[D]);oh(t,V),n=i}if(l=bt,D=vt,null===$||2>$.length||null===l||2>l.length)r=null;else{for(V=El(t,$.length+l.length),r=O=i=0;i<$.length&&$[i].y<l[0].y;)le=$[i++],V[r++].h(le.x,le.y);for(;O<l.length;)le=l[O++],V[r++].h(le.x+D,le.y);for(l=l[l.length-1].y;i<$.length&&$[i].y<=l;)i++;for(;i<$.length&&$[i].y>l;)D=$[i++],V[r++].h(D.x,D.y);for(l=El(t,r),i=0;i<r;i++)l[i].assign(V[i]);oh(t,V),r=l}return l=Math.max(0,vt)+v.width,v=Wt,oh(t,e),oh(t,kt),oh(t,$),oh(t,bt),_[0]=n,_[1]=r,new he(vt,0,l,v)}if(n=9999999,!(null===$||2>$.length||null===kt||2>kt.length))for(r=i=0;i<$.length&&r<kt.length;)D=(de=kt[r]).x,O=de.y,O+=vt,le=l=$[i],i+1<$.length&&(le=$[i+1]),de=(we=de).x,we=we.y,r+1<kt.length&&(de=(we=kt[r+1]).x,we=we.y,we+=vt),Pe=n,l.x===D?Pe=O-l.y:l.x>D&&l.x<de?Pe=O+(l.x-D)/(de-D)*(we-O)-l.y:D>l.x&&D<le.x&&(Pe=O-(l.y+(D-l.x)/(le.x-l.x)*(le.y-l.y))),Pe<n&&(n=Pe),le.x<=l.x?i++:de<=D?r++:(le.x<=de&&i++,de<=le.x&&r++);if(vt-=n,i=kt,r=vt+=V,null===e||2>e.length||null===i||2>i.length)n=null;else{for(V=El(t,e.length+i.length),n=l=D=0;l<i.length&&i[l].x<e[0].x;)O=i[l++],V[n++].h(O.x,O.y+r);for(;D<e.length;)O=e[D++],V[n++].h(O.x,O.y);for(D=e[e.length-1].x;l<i.length&&i[l].x<=D;)l++;for(;l<i.length&&i[l].x>D;)O=i[l++],V[n++].h(O.x,O.y+r);for(i=El(t,n),D=0;D<n;D++)i[D].assign(V[D]);oh(t,V),n=i}if(l=bt,D=vt,null===$||2>$.length||null===l||2>l.length)r=null;else{for(V=El(t,$.length+l.length),r=O=i=0;i<$.length&&$[i].x<l[0].x;)le=$[i++],V[r++].h(le.x,le.y);for(;O<l.length;)le=l[O++],V[r++].h(le.x,le.y+D);for(l=l[l.length-1].x;i<$.length&&$[i].x<=l;)i++;for(;i<$.length&&$[i].x>l;)D=$[i++],V[r++].h(D.x,D.y);for(l=El(t,r),i=0;i<r;i++)l[i].assign(V[i]);oh(t,V),r=l}return l=Wt,v=Math.max(0,vt)+v.height,oh(t,e),oh(t,kt),oh(t,$),oh(t,bt),_[0]=n,_[1]=r,new he(vt,0,l,v)}function El(t,e){if(void 0!==(t=t.uv[e])&&void 0!==(t=t.pop()))return t;t=[];for(var i=0;i<e;i++)t[i]=new ht;return t}function oh(t,e){var i=e.length,n=t.uv[i];void 0===n&&(t.uv[i]=n=[]),n.push(e)}function Ov(t,e,i,n){if(null!==e){e.x=i,e.y=n;for(var r=(e=e.children).length,l=0;l<r;l++){var v=e[l];Ov(t,v,i+v.S.x,n+v.S.y)}}}function T1(t,e){if(null!==e){t.setPortSpots(e);for(var i=(e=e.children).length,n=0;n<i;n++)T1(t,e[n])}}function Eh(t){return 45>=(t=t.angle)?0:135>=t?90:225>=t?180:315>=t?270:0}function $m(t){var e=Eh(t);e=90===e||270===e;var i=t.layerSpacing;if(0<t.layerSpacingParentOverlap){var n=Math.min(1,t.layerSpacingParentOverlap);i-=e?t.height*n:t.width*n}return i<(e?-t.height:-t.width)&&(i=e?-t.height:-t.width),i}function bd(t){var e=Eh(t),i=t.nodeIndent;if(0<t.nodeIndentPastParent){var n=Math.min(1,t.nodeIndentPastParent);i+=90===e||270===e?t.width*n:t.height*n}return Math.max(0,i)}io.className="LayeredDigraphLayout",io.CycleDepthFirst=Dv,io.CycleGreedy=x1,io.CycleFromLayers=fl,io.LayerOptimalLinkLength=Av,io.LayerLongestPathSink=w1,io.LayerLongestPathSource=_1,io.InitDepthFirstOut=kv,io.InitDepthFirstIn=b1,io.InitNaive=Cy,io.AggressiveNone=Sy,io.AggressiveLess=E0,io.AggressiveMore=M1,io.PackNone=0,io.PackExpand=1,io.PackStraighten=2,io.PackMedian=4,io.PackAll=15,vp.className="SegInfo",Z(Hg,P),Hg.prototype.createVertex=function(){return new cm(this)},Hg.prototype.createEdge=function(){return new Gg(this)},Hg.className="LayeredDigraphNetwork",Z(cm,Gi),cm.prototype.serializeVertexProperties=function(t,e){Gi.prototype.serializeVertexProperties.call(this,t,e),t.layer=this.layer,t.column=this.column,t.index=this.index,t.component=this.component,t.near=this.near?Ge(this.near):null,t.valid=this.valid,t.Cg=this.Cg,t.finish=this.finish,t.wf=this.wf,t.Nk=this.Nk,t.Mk=this.Mk},cm.prototype.Cq=function(t,e,i,n){Gi.prototype.Cq.call(this,t,e,i,n),this.layer=t.layer,this.column=t.column,this.index=t.index,this.component=t.component,(e=e.get(t.near))&&(this.near=e),this.valid=t.valid,this.Cg=t.Cg,this.finish=t.finish,this.wf=t.wf,this.Nk=t.Nk,this.Mk=t.Mk},H.Object.defineProperties(cm.prototype,{layer:{get:function(){return this.Fi},set:function(t){this.Fi!==t&&(this.Fi=t)}},column:{get:function(){return this.Rg},set:function(t){this.Rg!==t&&(this.Rg=t)}},index:{get:function(){return this.Ra},set:function(t){this.Ra!==t&&(this.Ra=t)}},component:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t)}},near:{get:function(){return this.T},set:function(t){this.T!==t&&(this.T=t)}}}),cm.className="LayeredDigraphVertex",Z(Gg,Un),Gg.prototype.serializeEdgeProperties=function(t,e){Un.prototype.serializeEdgeProperties.call(this,t,e),t.valid=this.valid,t.rev=this.rev,t.forest=this.forest,t.portFromPos=this.portFromPos,t.portToPos=this.portToPos,t.portFromColOffset=this.portFromColOffset,t.portToColOffset=this.portToColOffset},Gg.prototype.deserializeEdgeProperties=function(t,e,i,n){Un.prototype.deserializeEdgeProperties.call(this,t,e,i,n),this.valid=t.valid,this.rev=t.rev,this.forest=t.forest,this.portFromPos=t.portFromPos,this.portToPos=t.portToPos,this.portFromColOffset=t.portFromColOffset,this.portToColOffset=t.portToColOffset},H.Object.defineProperties(Gg.prototype,{fromVertex:{get:function(){return this.Yc},set:function(t){this.Yc!==t&&(this.Yc=t)}},toVertex:{get:function(){return this.ed},set:function(t){this.ed!==t&&(this.ed=t)}},valid:{get:function(){return this.eb},set:function(t){this.eb!==t&&(this.eb=t)}},rev:{get:function(){return this.La},set:function(t){this.La!==t&&(this.La=t)}},forest:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t)}},portFromPos:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t)}},portToPos:{get:function(){return this.Ka},set:function(t){this.Ka!==t&&(this.Ka=t)}},portFromColOffset:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},portToColOffset:{get:function(){return this.T},set:function(t){this.T!==t&&(this.T=t)}}}),Gg.className="LayeredDigraphEdge",Z(br,Rr),br.prototype.cloneProtected=function(t){Rr.prototype.cloneProtected.call(this,t),t.vp=this.vp,t.oq=this.oq,t.ts=this.ts,t.jd=this.jd,t.Eb=this.Eb,t.Pd.assign(this.Pd),t.U.copyInheritedPropertiesFrom(this.U),t.V.copyInheritedPropertiesFrom(this.V)},br.prototype.jb=function(t){t.classType===br?0===t.name.indexOf("Alignment")?this.alignment=t:0===t.name.indexOf("Arrangement")?this.arrangement=t:0===t.name.indexOf("Compaction")?this.compaction=t:0===t.name.indexOf("Path")?this.path=t:0===t.name.indexOf("Sorting")?this.sorting=t:0===t.name.indexOf("Style")?this.treeStyle=t:U("Unknown enum value: "+t):Rr.prototype.jb.call(this,t)},br.prototype.createNetwork=function(){return new dm(this)},br.prototype.makeNetwork=function(t){function e(n){if(n instanceof Si)return!n.isLinkLabel&&"Comment"!==n.category;if(n instanceof Bi){var r=n.fromNode;return null!==r&&!r.isLinkLabel&&"Comment"!==r.category&&!(null===(n=n.toNode)||n.isLinkLabel||"Comment"===n.category)}return!1}var i=this.createNetwork();return t instanceof di?(i.Ag(t.nodes,!0,e),i.Ag(t.links,!0,e)):i.Ag(t instanceof Qi?t.memberParts:t.iterator,!1,e),i},br.prototype.doLayout=function(t){null===this.network&&(this.network=this.makeNetwork(t)),this.arrangement!==Vv&&(this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin));var e=this.diagram;if(null===e&&t instanceof di&&(e=t),this.kd=this.path===Iv&&null!==e?e.isTreePathToChildren?nf:fm:this.path===Iv?nf:this.path,0<this.network.vertexes.count){for(this.network.Bq(),t=this.network.vertexes.iterator;t.next();)(e=t.value).initialized=!1,e.level=0,e.parent=null,e.children=[];if(0<this.Jb.count){for(t=new Pt,e=this.Jb.iterator;e.next();){var i=e.value;i instanceof Si?null!==(i=this.network.kj(i))&&t.add(i):i instanceof sh&&t.add(i)}this.Jb=t}for(0===this.Jb.count&&this.findRoots(),t=this.Jb.copy().iterator;t.next();)(e=t.value).initialized||(e.initialized=!0,S1(this,e));for(e=this.network.vertexes,t=null;0<(t=C1(e)).count;)null!==(e=xd(this,t))&&this.Jb.add(e),e.initialized=!0,S1(this,e),e=t;for(t=this.Jb.iterator;t.next();)(e=t.value)instanceof sh&&wd(this,e);for(t=this.Jb.iterator;t.next();)(e=t.value)instanceof sh&&Nf(this,e);for(t=this.Jb.iterator;t.next();)(e=t.value)instanceof sh&&E1(this,e);if(this.Fv(),this.layerStyle===jv){for(t=[],e=this.network.vertexes.iterator;e.next();){var n=(i=e.value).parent;null===n&&(n=i),n=0===n.angle||180===n.angle;var r=t[i.level];void 0===r&&(r=0),t[i.level]=Math.max(r,n?i.width:i.height)}for(e=0;e<t.length;e++)void 0===t[e]&&(t[e]=0);for(this.nx=t,e=this.network.vertexes.iterator;e.next();)null===(n=(i=e.value).parent)&&(n=i),0===n.angle||180===n.angle?(180===n.angle&&(i.focusX+=t[i.level]-i.width),i.width=t[i.level]):(270===n.angle&&(i.focusY+=t[i.level]-i.height),i.height=t[i.level])}else if(this.layerStyle===Ly)for(t=this.network.vertexes.iterator;t.next();){for(i=0===(e=t.value).angle||180===e.angle,n=-1,r=0;r<e.children.length;r++){var l=e.children[r];n=Math.max(n,i?l.width:l.height)}if(0<=n)for(r=0;r<e.children.length;r++)l=e.children[r],i?(180===e.angle&&(l.focusX+=n-l.width),l.width=n):(270===e.angle&&(l.focusY+=n-l.height),l.height=n)}for(t=this.Jb.iterator;t.next();)(e=t.value)instanceof sh&&this.layoutTree(e);this.arrangeTrees(),this.updateParts()}this.network=null,this.Jb=new Pt,this.isValidLayout=!0},br.prototype.findRoots=function(){for(var t=this.network.vertexes,e=t.iterator;e.next();){var i=e.value;switch(this.kd){case nf:0===i.sourceEdges.count&&this.Jb.add(i);break;case fm:0===i.destinationEdges.count&&this.Jb.add(i);break;default:U("Unhandled path value "+this.kd.toString())}}0===this.Jb.count&&null!==(t=xd(this,t))&&this.Jb.add(t)},br.prototype.removeChild=function(t,e){if(null!==t&&null!==e){for(var i=t.children,n=0,r=0;r<i.length;r++)i[r]===e&&n++;if(0<n){n=Array(i.length-n);for(var l=r=0;l<i.length;l++)i[l]!==e&&(n[r++]=i[l]);t.children=n}}},br.prototype.initializeTreeVertexValues=function(t){if(t.copyInheritedPropertiesFrom(function(t,e){switch(t.oq){default:return null!==e.parent?e.parent:t.U;case I1:return null===e.parent?t.U:null===e.parent.parent?t.V:e.parent;case O1:return null!==e.parent?null!==e.parent.parent?e.parent.parent:t.V:t.U;case P1:var i=!0;if(0===e.childrenCount)i=!1;else for(var n=e.children,r=n.length,l=0;l<r;l++)if(0<n[l].childrenCount){i=!1;break}return i&&null!==e.parent?t.V:null!==e.parent?e.parent:t.U}}(this,t)),null!==t.parent&&t.parent.alignment===Vf){for(var e=t.angle,i=t.parent.children,n=0;n<i.length&&t!==i[n];)n++;n%2==0?n!==i.length-1&&(e=90===e?180:180===e?270:270===e?180:270):e=90===e?0:180===e?90:270===e?0:90,t.angle=e}t.initialized=!0},br.prototype.assignTreeVertexValues=function(){},br.prototype.sortTreeVertexChildren=function(t){switch(t.sorting){case Xm:break;case Rv:t.children.reverse();break;case Lv:t.children.sort(t.comparer);break;case Nv:t.children.sort(t.comparer),t.children.reverse();break;default:U("Unhandled sorting value "+t.sorting.toString())}},br.prototype.Fv=function(){if(this.comments)for(var t=this.network.vertexes.iterator;t.next();)this.addComments(t.value)},br.prototype.addComments=function(t){var e=t.angle,i=t.parent,n=0,r=!1;null!==i&&(n=i.angle,r=yp(r=i.alignment)),e=90===e||270===e,n=90===n||270===n,i=0===t.childrenCount;var l=0,v=0,_=0,D=t.commentSpacing;if(null!==t.node)for(var O=t.node.Sv();O.next();){var V=O.value;"Comment"===V.category&&V.canLayout()&&(null===t.comments&&(t.comments=[]),t.comments.push(V),V.Ta(),V=V.measuredBounds,e&&!i||!r&&!n&&i||r&&n&&i?(l=Math.max(l,V.width),v+=V.height+Math.abs(_)):(l+=V.width+Math.abs(_),v=Math.max(v,V.height)),_=D)}null!==t.comments&&(e&&!i||!r&&!n&&i||r&&n&&i?(l+=Math.abs(t.commentMargin),v=Math.max(0,v-t.height)):(v+=Math.abs(t.commentMargin),l=Math.max(0,l-t.width)),r=he.allocAt(0,0,t.bounds.width+l,t.bounds.height+v),t.bounds=r,he.free(r))},br.prototype.layoutComments=function(t){if(null!==t.comments){var e=t.node.measuredBounds,i=t.parent,n=t.angle,r=0,l=!1;null!==i&&(r=i.angle,l=yp(l=i.alignment)),n=90===n||270===n,i=90===r||270===r;for(var v=0===t.childrenCount,_=D1(t),D=0,O=t.comments,V=O.length,$=ht.alloc(),vt=0;vt<V;vt++){var kt=O[vt],bt=kt.measuredBounds;if(n&&!v||!l&&!i&&v||l&&i&&v){if(135<r&&!l||i&&_)if(0<=t.commentMargin)for($.h(t.bounds.x-t.commentMargin-bt.width,t.bounds.y+D),kt.move($),kt=kt.Hd();kt.next();){var Wt=kt.value;Wt.fromSpot=Ts,Wt.toSpot=xs}else for($.h(t.bounds.x+2*t.focus.x-t.commentMargin,t.bounds.y+D),kt.move($),kt=kt.Hd();kt.next();)(Wt=kt.value).fromSpot=xs,Wt.toSpot=Ts;else if(0<=t.commentMargin)for($.h(t.bounds.x+2*t.focus.x+t.commentMargin,t.bounds.y+D),kt.move($),kt=kt.Hd();kt.next();)(Wt=kt.value).fromSpot=xs,Wt.toSpot=Ts;else for($.h(t.bounds.x+t.commentMargin-bt.width,t.bounds.y+D),kt.move($),kt=kt.Hd();kt.next();)(Wt=kt.value).fromSpot=Ts,Wt.toSpot=xs;D=0<=t.commentSpacing?D+(bt.height+t.commentSpacing):D+(t.commentSpacing-bt.height)}else{if(135<r&&!l||!i&&_)if(0<=t.commentMargin)for($.h(t.bounds.x+D,t.bounds.y-t.commentMargin-bt.height),kt.move($),kt=kt.Hd();kt.next();)(Wt=kt.value).fromSpot=ns,Wt.toSpot=ko;else for($.h(t.bounds.x+D,t.bounds.y+2*t.focus.y-t.commentMargin),kt.move($),kt=kt.Hd();kt.next();)(Wt=kt.value).fromSpot=ko,Wt.toSpot=ns;else if(0<=t.commentMargin)for($.h(t.bounds.x+D,t.bounds.y+2*t.focus.y+t.commentMargin),kt.move($),kt=kt.Hd();kt.next();)(Wt=kt.value).fromSpot=ko,Wt.toSpot=ns;else for($.h(t.bounds.x+D,t.bounds.y+t.commentMargin-bt.height),kt.move($),kt=kt.Hd();kt.next();)(Wt=kt.value).fromSpot=ns,Wt.toSpot=ko;D=0<=t.commentSpacing?D+(bt.width+t.commentSpacing):D+(t.commentSpacing-bt.width)}}if(ht.free($),e=D-t.commentSpacing-(n?e.height:e.width),this.kd===nf)for(t=t.destinationEdges;t.next();)null===(r=t.value.link)||r.isAvoiding||(r.fromEndSegmentLength=0<e?e:NaN);else for(t=t.sourceEdges;t.next();)null===(r=t.value.link)||r.isAvoiding||(r.toEndSegmentLength=0<e?e:NaN)}},br.prototype.layoutTree=function(t){if(null!==t){for(var e=t.children,i=e.length,n=0;n<i;n++)this.layoutTree(e[n]);switch(t.compaction){case Py:Ex(this,t);break;case Fv:if(t.alignment===Vf)Ex(this,t);else if(0===t.childrenCount)i=!1,e=0,null!==(n=t.parent)&&(e=n.angle,i=yp(i=n.alignment)),n=D1(t),t.S.h(0,0),t.wa.h(t.width,t.height),null===t.parent||null===t.comments||(180!==e&&270!==e||i)&&!n?t.fa.h(0,0):180===e&&!i||(90===e||270===e)&&n?t.fa.h(t.width-2*t.focus.x,0):t.fa.h(0,t.height-2*t.focus.y),t.Pq=null,t.br=null;else{var r=Eh(t);e=90===r||270===r;var l=0,v=t.children,_=v.length;for(i=0;i<_;i++)n=v[i],l=Math.max(l,e?n.wa.width:n.wa.height);var D=t.alignment,O=D===Bf,V=yp(D),$=Math.max(0,t.breadthLimit);i=$m(t);var vt=t.nodeSpacing,kt=bd(t),bt=t.rowSpacing,Wt=0;(D===Ff||O||t.Sm||t.Tm&&1===t.maxGenerationCount)&&(Wt=Math.max(0,t.rowIndent)),n=t.width;var de=t.height,le=0,we=0,Pe=0,Ke=null,ui=null,$i=0,vn=0,tn=0,Bn=0,yn=0,Zi=0,Dr=0,dr=0;if(V&&!Tv(D)&&135<r&&v.reverse(),Tv(D))if(1<_)for(var $r=0;$r<_;$r++)$r%2==0&&$r!==_-1&&(dr=Math.max(dr,e?v[$r].wa.width:v[$r].wa.height));else 1===_&&(dr=e?v[0].wa.width:v[0].wa.height);if(V){switch(D){case wp:dr=(we=135>r?Dx(t,v,dr,le,we):Ey(t,v,dr,le,we)).x,le=we.width,we=we.height;break;case _p:for(Ke=0;Ke<_;Ke++)$=(ui=v[Ke]).wa,Pe=0===Zi?0:bt,e?(ui.S.h(l-$.width,Bn+Pe),le=Math.max(le,$.width),we=Math.max(we,Bn+Pe+$.height),Bn+=Pe+$.height):(ui.S.h(tn+Pe,l-$.height),le=Math.max(le,tn+Pe+$.width),we=Math.max(we,$.height),tn+=Pe+$.width),Zi++;break;case Md:for(Ke=0;Ke<_;Ke++)l=(ui=v[Ke]).wa,$=0===Zi?0:bt,e?(ui.S.h(vt/2+t.focus.x,Bn+$),le=Math.max(le,l.width),we=Math.max(we,Bn+$+l.height),Bn+=$+l.height):(ui.S.h(tn+$,vt/2+t.focus.y),le=Math.max(le,tn+$+l.width),we=Math.max(we,l.height),tn+=$+l.width),Zi++}Ke=El(this,2),ui=El(this,2),e?(Ke[0].h(0,0),Ke[1].h(0,we),ui[0].h(le,0)):(Ke[0].h(0,0),Ke[1].h(le,0),ui[0].h(0,we)),ui[1].h(le,we)}else for($r=0;$r<_;$r++){var Xo=v[$r],Qs=Xo.wa;if(e){0<$&&0<Zi&&tn+vt+Qs.width>$&&(tn<l&&D0(t,D,l-tn,0,Dr,$r-1),yn++,Zi=0,Dr=$r,Pe=we,tn=0,Bn=135<r?-we-bt:we+bt),Ty(this,Xo,0,Bn);var Bo=0;if(0===Zi)ui=Xo.br,$i=Qs.width,vn=Qs.height,(null===(Ke=Xo.Pq)||null===ui||r!==Eh(Xo))&&(Ke=El(this,2),ui=El(this,2),Ke[0].h(0,0),Ke[1].h(0,vn),ui[0].h($i,0),ui[1].h($i,vn));else{var Ao=o();Bo=(vn=k1(this,t,Xo,Ke,ui,$i,vn,Ao)).x,Ke=Ao[0],ui=Ao[1],$i=vn.width,vn=vn.height,c(Ao),tn<Qs.width&&0>Bo&&(xp(t,-Bo,0,Dr,$r-1),Pv(Ke,-Bo,0),Pv(ui,-Bo,0),Bo=0)}Xo.S.h(Bo,Bn),le=Math.max(le,$i),we=Math.max(we,Pe+(0===yn?0:bt)+Qs.height),tn=$i}else 0<$&&0<Zi&&Bn+vt+Qs.height>$&&(Bn<l&&D0(t,D,0,l-Bn,Dr,$r-1),yn++,Zi=0,Dr=$r,Pe=le,Bn=0,tn=135<r?-le-bt:le+bt),Ty(this,Xo,tn,0),Bo=0,0===Zi?(ui=Xo.br,$i=Qs.width,vn=Qs.height,(null===(Ke=Xo.Pq)||null===ui||r!==Eh(Xo))&&(Ke=El(this,2),ui=El(this,2),Ke[0].h(0,0),Ke[1].h($i,0),ui[0].h(0,vn),ui[1].h($i,vn))):(Bo=(vn=k1(this,t,Xo,Ke,ui,$i,vn,Ao=o())).x,Ke=Ao[0],ui=Ao[1],$i=vn.width,vn=vn.height,c(Ao),Bn<Qs.height&&0>Bo&&(xp(t,0,-Bo,Dr,$r-1),Pv(Ke,0,-Bo),Pv(ui,0,-Bo),Bo=0)),Xo.S.h(tn,Bo),we=Math.max(we,vn),le=Math.max(le,Pe+(0===yn?0:bt)+Qs.width),Bn=vn;Zi++}switch(0<yn&&(e?(we+=Math.max(0,i),tn<le&&D0(t,D,le-tn,0,Dr,_-1),0<Wt&&(O||xp(t,Wt,0,0,_-1),le+=Wt)):(le+=Math.max(0,i),Bn<we&&D0(t,D,0,we-Bn,Dr,_-1),0<Wt&&(O||xp(t,0,Wt,0,_-1),we+=Wt))),Wt=O=0,D){case Yg:e?O+=le/2-t.focus.x-kt/2:Wt+=we/2-t.focus.y-kt/2;break;case Zm:0<yn?e?O+=le/2-t.focus.x-kt/2:Wt+=we/2-t.focus.y-kt/2:e?O+=(dr=v[0].S.x+v[0].fa.x)+(v[_-1].S.x+v[_-1].fa.x+2*v[_-1].focus.x-dr)/2-t.focus.x-kt/2:Wt+=(dr=v[0].S.y+v[0].fa.y)+(v[_-1].S.y+v[_-1].fa.y+2*v[_-1].focus.y-dr)/2-t.focus.y-kt/2;break;case Ff:e?(O-=kt,le+=kt):(Wt-=kt,we+=kt);break;case Bf:e?(O+=le-t.width+kt,le+=kt):(Wt+=we-t.height+kt,we+=kt);break;case wp:e?O+=1<_?dr+vt/2-t.focus.x:v[0].focus.x-t.focus.x+v[0].fa.x:Wt+=1<_?dr+vt/2-t.focus.y:v[0].focus.y-t.focus.y+v[0].fa.y;break;case _p:e?O+=le+vt/2-t.focus.x:Wt+=we+vt/2-t.focus.y;break;case Md:break;default:U("Unhandled alignment value "+D.toString())}for(kt=0;kt<_;kt++)dr=v[kt],e?dr.S.h(dr.S.x+dr.fa.x-O,dr.S.y+(135<r?(V?-we:-dr.wa.height)+dr.fa.y-i:de+i+dr.fa.y)):dr.S.h(dr.S.x+(135<r?(V?-le:-dr.wa.width)+dr.fa.x-i:n+i+dr.fa.x),dr.S.y+dr.fa.y-Wt);if(_=v=0,V?e?(le=Ay(t,le,O),0>O&&(O=0),135<r&&(Wt+=we+i),we+=de+i,D===Md&&(v+=vt/2+t.focus.x),_+=de+i):(135<r&&(O+=le+i),le+=n+i,we=A1(t,we,Wt),0>Wt&&(Wt=0),D===Md&&(_+=vt/2+t.focus.y),v+=n+i):e?(null===t.comments?n>le&&(v=(le=ky(D,n-le,0)).x,_=le.y,le=n,O=0):le=Ay(t,le,O),0>O&&(v-=O,O=0),135<r&&(Wt+=we+i),we=Math.max(Math.max(we,de),we+de+i),_+=de+i):(135<r&&(O+=le+i),le=Math.max(Math.max(le,n),le+n+i),null===t.comments?de>we&&(v=(we=ky(D,0,de-we)).x,_=we.y,we=de,Wt=0):we=A1(t,we,Wt),0>Wt&&(_-=Wt,Wt=0),v+=n+i),0<yn)r=El(this,4),yn=El(this,4),e?(r[2].h(0,de+i),r[3].h(r[2].x,we),yn[2].h(le,r[2].y),yn[3].h(yn[2].x,r[3].y)):(r[2].h(n+i,0),r[3].h(le,r[2].y),yn[2].h(r[2].x,we),yn[3].h(r[3].x,yn[2].y));else{for(r=El(this,Ke.length+2),yn=El(this,ui.length+2),D=0;D<Ke.length;D++)r[D+2].h((V=Ke[D]).x+v,V.y+_);for(D=0;D<ui.length;D++)yn[D+2].h((V=ui[D]).x+v,V.y+_)}e?(r[0].h(O,0),r[1].h(r[0].x,de),r[2].y<r[1].y&&(r[2].x>r[0].x?r[2].assign(r[1]):r[1].assign(r[2])),r[3].y<r[2].y&&(r[3].x>r[0].x?r[3].assign(r[2]):r[2].assign(r[3])),yn[0].h(O+n,0),yn[1].h(yn[0].x,de),yn[2].y<yn[1].y&&(yn[2].x<yn[0].x?yn[2].assign(yn[1]):yn[1].assign(yn[2])),yn[3].y<yn[2].y&&(yn[3].x<yn[0].x?yn[3].assign(yn[2]):yn[2].assign(yn[3])),r[2].y-=i/2,yn[2].y-=i/2):(r[0].h(0,Wt),r[1].h(n,r[0].y),r[2].x<r[1].x&&(r[2].y>r[0].y?r[2].assign(r[1]):r[1].assign(r[2])),r[3].x<r[2].x&&(r[3].y>r[0].y?r[3].assign(r[2]):r[2].assign(r[3])),yn[0].h(0,Wt+de),yn[1].h(n,yn[0].y),yn[2].x<yn[1].x&&(yn[2].y<yn[0].y?yn[2].assign(yn[1]):yn[1].assign(yn[2])),yn[3].x<yn[2].x&&(yn[3].y<yn[0].y?yn[3].assign(yn[2]):yn[2].assign(yn[3])),r[2].x-=i/2,yn[2].x-=i/2),oh(this,Ke),oh(this,ui),t.Pq=r,t.br=yn,t.fa.h(O,Wt),t.wa.h(le,we)}break;default:U("Unhandled compaction value "+t.compaction.toString())}}},br.prototype.arrangeTrees=function(){if(this.Eb===Vv)for(var t=this.Jb.iterator;t.next();){var e=t.value;if(e instanceof sh){var i=e.node;if(null!==i){var n=i.position;i=n.x,n=n.y,isFinite(i)||(i=0),isFinite(n)||(n=0),Ov(this,e,i,n)}}}else{for(t=[],e=this.Jb.iterator;e.next();)(i=e.value)instanceof sh&&t.push(i);switch(this.sorting){case Xm:break;case Rv:t.reverse();break;case Lv:t.sort(this.comparer);break;case Nv:t.sort(this.comparer),t.reverse();break;default:U("Unhandled sorting value "+this.sorting.toString())}for(e=(i=this.arrangementOrigin).x,i=i.y,n=0;n<t.length;n++){var r=t[n];switch(Ov(this,r,e+r.fa.x,i+r.fa.y),this.Eb){case Bv:i+=r.wa.height+this.Pd.height;break;case Iy:e+=r.wa.width+this.Pd.width;break;default:U("Unhandled arrangement value "+this.Eb.toString())}}}},br.prototype.commitLayout=function(){this.Dw(),this.commitNodes(),this.Iv(),this.isRouting&&this.commitLinks()},br.prototype.commitNodes=function(){for(var t=this.network.vertexes.iterator;t.next();)t.value.commit();for(t.reset();t.next();)this.layoutComments(t.value)},br.prototype.Iv=function(){if(this.layerStyle===jv){for(var t=this.nx,e=[],i=null,n=this.network.vertexes.iterator;n.next();){var r=n.value;null===i?i=r.bounds.copy():i.Rc(r.bounds);var l=e[r.level];l=void 0===l?$m(r):Math.max(l,$m(r)),e[r.level]=l}for(n=0;n<e.length;n++)void 0===e[n]&&(e[n]=0);if(90===this.angle||270===this.angle?(i.Jc(this.nodeSpacing/2,this.layerSpacing),n=new ht(-this.nodeSpacing/2,-this.layerSpacing/2)):(i.Jc(this.layerSpacing,this.nodeSpacing/2),n=new ht(-this.layerSpacing/2,-this.nodeSpacing/2)),r=[],i=90===this.angle||270===this.angle?i.width:i.height,l=0,180===this.angle||270===this.angle)for(var v=0;v<t.length;v++)l+=t[v]+e[v];for(v=0;v<t.length;v++){var _=t[v]+e[v];270===this.angle?r.push(new he(0,l-=_,i,_)):90===this.angle?(r.push(new he(0,l,i,_)),l+=_):180===this.angle?r.push(new he(l-=_,0,_,i)):(r.push(new he(l,0,_,i)),l+=_)}this.commitLayers(r,n)}},br.prototype.commitLayers=function(){},br.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},br.prototype.Dw=function(){for(var t=this.Jb.iterator;t.next();){var e=t.value;e instanceof sh&&T1(this,e)}},br.prototype.setPortSpots=function(t){var e=t.alignment;if(yp(e)){var i=this.kd===nf,n=Eh(t);switch(n){case 0:var r=xs;break;case 90:r=ko;break;case 180:r=Ts;break;default:r=ns}var l=t.children,v=l.length;switch(e){case wp:case Vf:for(e=0;e<v;e++){var _=l[e];if(null!==(_=(i?_.sourceEdges:_.destinationEdges).first())&&null!==(_=_.link)){var D=90===n||270===n?Ts:ns;if(1===v||e===v-1&&v%2==1)switch(n){case 0:D=Ts;break;case 90:D=ns;break;case 180:D=xs;break;default:D=ko}else e%2==0&&(D=90===n||270===n?xs:ko);i?(t.setsPortSpot&&(_.fromSpot=r),t.setsChildPortSpot&&(_.toSpot=D)):(t.setsPortSpot&&(_.fromSpot=D),t.setsChildPortSpot&&(_.toSpot=r))}}break;case _p:for(n=90===n||270===n?xs:ko,l=i?t.destinationEdges:t.sourceEdges;l.next();)null!==(v=l.value.link)&&(i?(t.setsPortSpot&&(v.fromSpot=r),t.setsChildPortSpot&&(v.toSpot=n)):(t.setsPortSpot&&(v.fromSpot=n),t.setsChildPortSpot&&(v.toSpot=r)));break;case Md:for(n=90===n||270===n?Ts:ns,l=i?t.destinationEdges:t.sourceEdges;l.next();)null!==(v=l.value.link)&&(i?(t.setsPortSpot&&(v.fromSpot=r),t.setsChildPortSpot&&(v.toSpot=n)):(t.setsPortSpot&&(v.fromSpot=n),t.setsChildPortSpot&&(v.toSpot=r)))}}else if(i=Eh(t),this.kd===nf){for(r=t.destinationEdges;r.next();)if(null!==(n=r.value.link)){if(t.setsPortSpot)if(t.portSpot.Mb())switch(i){case 0:n.fromSpot=xs;break;case 90:n.fromSpot=ko;break;case 180:n.fromSpot=Ts;break;default:n.fromSpot=ns}else n.fromSpot=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Mb())switch(i){case 0:n.toSpot=Ts;break;case 90:n.toSpot=ns;break;case 180:n.toSpot=xs;break;default:n.toSpot=ko}else n.toSpot=t.childPortSpot}}else for(r=t.sourceEdges;r.next();)if(null!==(n=r.value.link)){if(t.setsPortSpot)if(t.portSpot.Mb())switch(i){case 0:n.toSpot=xs;break;case 90:n.toSpot=ko;break;case 180:n.toSpot=Ts;break;default:n.toSpot=ns}else n.toSpot=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Mb())switch(i){case 0:n.fromSpot=Ts;break;case 90:n.fromSpot=ns;break;case 180:n.fromSpot=xs;break;default:n.fromSpot=ko}else n.fromSpot=t.childPortSpot}},H.Object.defineProperties(br.prototype,{roots:{get:function(){return this.Jb},set:function(t){this.Jb!==t&&(this.Jb=t,this.C())}},path:{get:function(){return this.vp},set:function(t){this.vp!==t&&(this.vp=t,this.C())}},treeStyle:{get:function(){return this.oq},set:function(t){this.Eb===t||t!==Oy&&t!==O1&&t!==P1&&t!==I1||(this.oq=t,this.C())}},layerStyle:{get:function(){return this.ts},set:function(t){this.Eb===t||t!==Ry&&t!==Ly&&t!==jv||(this.ts=t,this.C())}},comments:{get:function(){return this.jd},set:function(t){this.jd!==t&&(this.jd=t,this.C())}},arrangement:{get:function(){return this.Eb},set:function(t){this.Eb===t||t!==Bv&&t!==Iy&&t!==Vv||(this.Eb=t,this.C())}},arrangementSpacing:{get:function(){return this.Pd},set:function(t){this.Pd.w(t)||(this.Pd.assign(t),this.C())}},rootDefaults:{get:function(){return this.U},set:function(t){this.U!==t&&(this.U=t,this.C())}},alternateDefaults:{get:function(){return this.V},set:function(t){this.V!==t&&(this.V=t,this.C())}},sorting:{get:function(){return this.U.sorting},set:function(t){this.U.sorting===t||t!==Xm&&t!==Rv&&t!==Lv&&!Nv||(this.U.sorting=t,this.C())}},comparer:{get:function(){return this.U.comparer},set:function(t){this.U.comparer!==t&&(this.U.comparer=t,this.C())}},angle:{get:function(){return this.U.angle},set:function(t){this.U.angle!==t&&(0===t||90===t||180===t||270===t?(this.U.angle=t,this.C()):U("TreeLayout.angle must be 0, 90, 180, or 270"))}},alignment:{get:function(){return this.U.alignment},set:function(t){this.U.alignment!==t&&(this.U.alignment=t,this.C())}},nodeIndent:{get:function(){return this.U.nodeIndent},set:function(t){this.U.nodeIndent!==t&&0<=t&&(this.U.nodeIndent=t,this.C())}},nodeIndentPastParent:{get:function(){return this.U.nodeIndentPastParent},set:function(t){this.U.nodeIndentPastParent!==t&&0<=t&&1>=t&&(this.U.nodeIndentPastParent=t,this.C())}},nodeSpacing:{get:function(){return this.U.nodeSpacing},set:function(t){this.U.nodeSpacing!==t&&(this.U.nodeSpacing=t,this.C())}},layerSpacing:{get:function(){return this.U.layerSpacing},set:function(t){this.U.layerSpacing!==t&&(this.U.layerSpacing=t,this.C())}},layerSpacingParentOverlap:{get:function(){return this.U.layerSpacingParentOverlap},set:function(t){this.U.layerSpacingParentOverlap!==t&&0<=t&&1>=t&&(this.U.layerSpacingParentOverlap=t,this.C())}},compaction:{get:function(){return this.U.compaction},set:function(t){this.U.compaction===t||t!==Py&&t!==Fv||(this.U.compaction=t,this.C())}},breadthLimit:{get:function(){return this.U.breadthLimit},set:function(t){this.U.breadthLimit!==t&&0<=t&&(this.U.breadthLimit=t,this.C())}},rowSpacing:{get:function(){return this.U.rowSpacing},set:function(t){this.U.rowSpacing!==t&&(this.U.rowSpacing=t,this.C())}},rowIndent:{get:function(){return this.U.rowIndent},set:function(t){this.U.rowIndent!==t&&0<=t&&(this.U.rowIndent=t,this.C())}},commentSpacing:{get:function(){return this.U.commentSpacing},set:function(t){this.U.commentSpacing!==t&&(this.U.commentSpacing=t,this.C())}},commentMargin:{get:function(){return this.U.commentMargin},set:function(t){this.U.commentMargin!==t&&(this.U.commentMargin=t,this.C())}},setsPortSpot:{get:function(){return this.U.setsPortSpot},set:function(t){this.U.setsPortSpot!==t&&(this.U.setsPortSpot=t,this.C())}},portSpot:{get:function(){return this.U.portSpot},set:function(t){this.U.portSpot.w(t)||(this.U.portSpot=t,this.C())}},setsChildPortSpot:{get:function(){return this.U.setsChildPortSpot},set:function(t){this.U.setsChildPortSpot!==t&&(this.U.setsChildPortSpot=t,this.C())}},childPortSpot:{get:function(){return this.U.childPortSpot},set:function(t){this.U.childPortSpot.w(t)||(this.U.childPortSpot=t,this.C())}},alternateSorting:{get:function(){return this.V.sorting},set:function(t){this.V.sorting===t||t!==Xm&&t!==Rv&&t!==Lv&&!Nv||(this.V.sorting=t,this.C())}},alternateComparer:{get:function(){return this.V.comparer},set:function(t){this.V.comparer!==t&&(this.V.comparer=t,this.C())}},alternateAngle:{get:function(){return this.V.angle},set:function(t){this.V.angle===t||0!==t&&90!==t&&180!==t&&270!==t||(this.V.angle=t,this.C())}},alternateAlignment:{get:function(){return this.V.alignment},set:function(t){this.V.alignment!==t&&(this.V.alignment=t,this.C())}},alternateNodeIndent:{get:function(){return this.V.nodeIndent},set:function(t){this.V.nodeIndent!==t&&0<=t&&(this.V.nodeIndent=t,this.C())}},alternateNodeIndentPastParent:{get:function(){return this.V.nodeIndentPastParent},set:function(t){this.V.nodeIndentPastParent!==t&&0<=t&&1>=t&&(this.V.nodeIndentPastParent=t,this.C())}},alternateNodeSpacing:{get:function(){return this.V.nodeSpacing},set:function(t){this.V.nodeSpacing!==t&&(this.V.nodeSpacing=t,this.C())}},alternateLayerSpacing:{get:function(){return this.V.layerSpacing},set:function(t){this.V.layerSpacing!==t&&(this.V.layerSpacing=t,this.C())}},alternateLayerSpacingParentOverlap:{get:function(){return this.V.layerSpacingParentOverlap},set:function(t){this.V.layerSpacingParentOverlap!==t&&0<=t&&1>=t&&(this.V.layerSpacingParentOverlap=t,this.C())}},alternateCompaction:{get:function(){return this.V.compaction},set:function(t){this.V.compaction===t||t!==Py&&t!==Fv||(this.V.compaction=t,this.C())}},alternateBreadthLimit:{get:function(){return this.V.breadthLimit},set:function(t){this.V.breadthLimit!==t&&0<=t&&(this.V.breadthLimit=t,this.C())}},alternateRowSpacing:{get:function(){return this.V.rowSpacing},set:function(t){this.V.rowSpacing!==t&&(this.V.rowSpacing=t,this.C())}},alternateRowIndent:{get:function(){return this.V.rowIndent},set:function(t){this.V.rowIndent!==t&&0<=t&&(this.V.rowIndent=t,this.C())}},alternateCommentSpacing:{get:function(){return this.V.commentSpacing},set:function(t){this.V.commentSpacing!==t&&(this.V.commentSpacing=t,this.C())}},alternateCommentMargin:{get:function(){return this.V.commentMargin},set:function(t){this.V.commentMargin!==t&&(this.V.commentMargin=t,this.C())}},alternateSetsPortSpot:{get:function(){return this.V.setsPortSpot},set:function(t){this.V.setsPortSpot!==t&&(this.V.setsPortSpot=t,this.C())}},alternatePortSpot:{get:function(){return this.V.portSpot},set:function(t){this.V.portSpot.w(t)||(this.V.portSpot=t,this.C())}},alternateSetsChildPortSpot:{get:function(){return this.V.setsChildPortSpot},set:function(t){this.V.setsChildPortSpot!==t&&(this.V.setsChildPortSpot=t,this.C())}},alternateChildPortSpot:{get:function(){return this.V.childPortSpot},set:function(t){this.V.childPortSpot.w(t)||(this.V.childPortSpot=t,this.C())}}});var Iv=new St(br,"PathDefault",-1),nf=new St(br,"PathDestination",0),fm=new St(br,"PathSource",1),Xm=new St(br,"SortingForwards",10),Rv=new St(br,"SortingReverse",11),Lv=new St(br,"SortingAscending",12),Nv=new St(br,"SortingDescending",13),Yg=new St(br,"AlignmentCenterSubtrees",20),Zm=new St(br,"AlignmentCenterChildren",21),Ff=new St(br,"AlignmentStart",22),Bf=new St(br,"AlignmentEnd",23),wp=new St(br,"AlignmentBus",24),Vf=new St(br,"AlignmentBusBranching",25),_p=new St(br,"AlignmentTopLeftBus",26),Md=new St(br,"AlignmentBottomRightBus",27),Py=new St(br,"CompactionNone",30),Fv=new St(br,"CompactionBlock",31),Oy=new St(br,"StyleLayered",40),P1=new St(br,"StyleLastParents",41),O1=new St(br,"StyleAlternating",42),I1=new St(br,"StyleRootOnly",43),Bv=new St(br,"ArrangementVertical",50),Iy=new St(br,"ArrangementHorizontal",51),Vv=new St(br,"ArrangementFixedRoots",52),Ry=new St(br,"LayerIndividual",60),Ly=new St(br,"LayerSiblings",61),jv=new St(br,"LayerUniform",62);function dm(t){P.call(this,t)}function sh(t){Gi.call(this,t),this.Ka=!1,this.Cc=null,this.I=[],this.Sc=this.eb=this.T=this.La=0,this.jd=null,this.S=new ht(0,0),this.wa=new De(0,0),this.fa=new ht(0,0),this.Tm=this.Sm=this.ZA=!1,this.br=this.Pq=null,this.bd=Xm,this.Wc=sn,this.Yb=0,this.yb=Zm,this.Ds=this.Cs=0,this.Es=20,this.ue=50,this.ss=0,this.Er=Fv,this.wr=0,this.Rs=25,this.Dr=this.Qs=10,this.Cr=20,this.dt=!0,this.Ms=us,this.ct=!0,this.zr=us}function qm(t){Un.call(this,t),this.lv=new ht(0,0)}br.className="TreeLayout",br.PathDefault=Iv,br.PathDestination=nf,br.PathSource=fm,br.SortingForwards=Xm,br.SortingReverse=Rv,br.SortingAscending=Lv,br.SortingDescending=Nv,br.AlignmentCenterSubtrees=Yg,br.AlignmentCenterChildren=Zm,br.AlignmentStart=Ff,br.AlignmentEnd=Bf,br.AlignmentBus=wp,br.AlignmentBusBranching=Vf,br.AlignmentTopLeftBus=_p,br.AlignmentBottomRightBus=Md,br.CompactionNone=Py,br.CompactionBlock=Fv,br.StyleLayered=Oy,br.StyleLastParents=P1,br.StyleAlternating=O1,br.StyleRootOnly=I1,br.ArrangementVertical=Bv,br.ArrangementHorizontal=Iy,br.ArrangementFixedRoots=Vv,br.LayerIndividual=Ry,br.LayerSiblings=Ly,br.LayerUniform=jv,Z(dm,P),dm.prototype.createVertex=function(){return new sh(this)},dm.prototype.createEdge=function(){return new qm(this)},dm.className="TreeNetwork",Z(sh,Gi),sh.prototype.copyInheritedPropertiesFrom=function(t){null!==t&&(this.bd=t.sorting,this.Wc=t.comparer,this.Yb=t.angle,this.yb=t.alignment,this.Cs=t.nodeIndent,this.Ds=t.nodeIndentPastParent,this.Es=t.nodeSpacing,this.ue=t.layerSpacing,this.ss=t.layerSpacingParentOverlap,this.Er=t.compaction,this.wr=t.breadthLimit,this.Rs=t.rowSpacing,this.Qs=t.rowIndent,this.Dr=t.commentSpacing,this.Cr=t.commentMargin,this.dt=t.setsPortSpot,this.Ms=t.portSpot,this.ct=t.setsChildPortSpot,this.zr=t.childPortSpot)},H.Object.defineProperties(sh.prototype,{initialized:{get:function(){return this.Ka},set:function(t){this.Ka!==t&&(this.Ka=t)}},parent:{get:function(){return this.Cc},set:function(t){this.Cc!==t&&(this.Cc=t)}},children:{get:function(){return this.I},set:function(t){if(this.I!==t){if(null!==t)for(var e=t.length,i=0;i<e;i++);this.I=t}}},level:{get:function(){return this.La},set:function(t){this.La!==t&&(this.La=t)}},descendantCount:{get:function(){return this.T},set:function(t){this.T!==t&&(this.T=t)}},maxChildrenCount:{get:function(){return this.eb},set:function(t){this.eb!==t&&(this.eb=t)}},maxGenerationCount:{get:function(){return this.Sc},set:function(t){this.Sc!==t&&(this.Sc=t)}},comments:{get:function(){return this.jd},set:function(t){if(this.jd!==t){if(null!==t)for(var e=t.length,i=0;i<e;i++);this.jd=t}}},sorting:{get:function(){return this.bd},set:function(t){this.bd!==t&&(this.bd=t)}},comparer:{get:function(){return this.Wc},set:function(t){this.Wc!==t&&(this.Wc=t)}},angle:{get:function(){return this.Yb},set:function(t){this.Yb!==t&&(this.Yb=t)}},alignment:{get:function(){return this.yb},set:function(t){this.yb!==t&&(this.yb=t)}},nodeIndent:{get:function(){return this.Cs},set:function(t){this.Cs!==t&&(this.Cs=t)}},nodeIndentPastParent:{get:function(){return this.Ds},set:function(t){this.Ds!==t&&(this.Ds=t)}},nodeSpacing:{get:function(){return this.Es},set:function(t){this.Es!==t&&(this.Es=t)}},layerSpacing:{get:function(){return this.ue},set:function(t){this.ue!==t&&(this.ue=t)}},layerSpacingParentOverlap:{get:function(){return this.ss},set:function(t){this.ss!==t&&(this.ss=t)}},compaction:{get:function(){return this.Er},set:function(t){this.Er!==t&&(this.Er=t)}},breadthLimit:{get:function(){return this.wr},set:function(t){this.wr!==t&&(this.wr=t)}},rowSpacing:{get:function(){return this.Rs},set:function(t){this.Rs!==t&&(this.Rs=t)}},rowIndent:{get:function(){return this.Qs},set:function(t){this.Qs!==t&&(this.Qs=t)}},commentSpacing:{get:function(){return this.Dr},set:function(t){this.Dr!==t&&(this.Dr=t)}},commentMargin:{get:function(){return this.Cr},set:function(t){this.Cr!==t&&(this.Cr=t)}},setsPortSpot:{get:function(){return this.dt},set:function(t){this.dt!==t&&(this.dt=t)}},portSpot:{get:function(){return this.Ms},set:function(t){this.Ms.w(t)||(this.Ms=t)}},setsChildPortSpot:{get:function(){return this.ct},set:function(t){this.ct!==t&&(this.ct=t)}},childPortSpot:{get:function(){return this.zr},set:function(t){this.zr.w(t)||(this.zr=t)}},childrenCount:{get:function(){return this.children.length}},relativePosition:{get:function(){return this.S},set:function(t){this.S.set(t)}},subtreeSize:{get:function(){return this.wa},set:function(t){this.wa.set(t)}},subtreeOffset:{get:function(){return this.fa},set:function(t){this.fa.set(t)}}}),sh.className="TreeVertex",Z(qm,Un),qm.prototype.commit=function(){var t=this.link;if(null!==t&&!t.isAvoiding){var e=this.network.layout,i=null,n=null;switch(e.kd){case nf:i=this.fromVertex,n=this.toVertex;break;case fm:i=this.toVertex,n=this.fromVertex;break;default:U("Unhandled path value "+e.kd.toString())}if(null!==i&&null!==n)if(0!==(e=this.lv).x||0!==e.y||i.ZA){n=i.bounds;var r=Eh(i),l=$m(i),v=i.rowSpacing;t.xj();var O,_=t.curve===cl,D=t.isOrthogonal;if(t.Th(),D||_){for(O=2;4<t.pointsCount;)t.uw(2);var V=t.i(1),$=t.i(2)}else{for(O=1;3<t.pointsCount;)t.uw(1);V=t.i(0),$=t.i(t.pointsCount-1)}var vt=t.i(t.pointsCount-1);0===r?(i.alignment===Bf?(r=n.bottom+e.y,0===e.y&&V.y>vt.y+i.rowIndent&&(r=Math.min(r,Math.max(V.y,r-bd(i))))):i.alignment===Ff?(r=n.top+e.y,0===e.y&&V.y<vt.y-i.rowIndent&&(r=Math.max(r,Math.min(V.y,r+bd(i))))):r=i.Sm||i.Tm&&1===i.maxGenerationCount?n.top-i.fa.y+e.y:n.y+n.height/2+e.y,_?(t.m(O,V.x,r),O++,t.m(O,n.right+l,r),O++,t.m(O,n.right+l+(e.x-v)/3,r),O++,t.m(O,n.right+l+2*(e.x-v)/3,r),O++,t.m(O,n.right+l+(e.x-v),r),O++,t.m(O,$.x,r)):(D&&(t.m(O,n.right+l/2,V.y),O++),t.m(O,n.right+l/2,r),O++,t.m(O,n.right+l+e.x-(D?v/2:v),r),O++,D&&t.m(O,t.i(O-1).x,$.y))):90===r?(i.alignment===Bf?(r=n.right+e.x,0===e.x&&V.x>vt.x+i.rowIndent&&(r=Math.min(r,Math.max(V.x,r-bd(i))))):i.alignment===Ff?(r=n.left+e.x,0===e.x&&V.x<vt.x-i.rowIndent&&(r=Math.max(r,Math.min(V.x,r+bd(i))))):r=i.Sm||i.Tm&&1===i.maxGenerationCount?n.left-i.fa.x+e.x:n.x+n.width/2+e.x,_?(t.m(O,r,V.y),O++,t.m(O,r,n.bottom+l),O++,t.m(O,r,n.bottom+l+(e.y-v)/3),O++,t.m(O,r,n.bottom+l+2*(e.y-v)/3),O++,t.m(O,r,n.bottom+l+(e.y-v)),O++,t.m(O,r,$.y)):(D&&(t.m(O,V.x,n.bottom+l/2),O++),t.m(O,r,n.bottom+l/2),O++,t.m(O,r,n.bottom+l+e.y-(D?v/2:v)),O++,D&&t.m(O,$.x,t.i(O-1).y))):180===r?(i.alignment===Bf?(r=n.bottom+e.y,0===e.y&&V.y>vt.y+i.rowIndent&&(r=Math.min(r,Math.max(V.y,r-bd(i))))):i.alignment===Ff?(r=n.top+e.y,0===e.y&&V.y<vt.y-i.rowIndent&&(r=Math.max(r,Math.min(V.y,r+bd(i))))):r=i.Sm||i.Tm&&1===i.maxGenerationCount?n.top-i.fa.y+e.y:n.y+n.height/2+e.y,_?(t.m(O,V.x,r),O++,t.m(O,n.left-l,r),O++,t.m(O,n.left-l+(e.x+v)/3,r),O++,t.m(O,n.left-l+2*(e.x+v)/3,r),O++,t.m(O,n.left-l+(e.x+v),r),O++,t.m(O,$.x,r)):(D&&(t.m(O,n.left-l/2,V.y),O++),t.m(O,n.left-l/2,r),O++,t.m(O,n.left-l+e.x+(D?v/2:v),r),O++,D&&t.m(O,t.i(O-1).x,$.y))):270===r?(i.alignment===Bf?(r=n.right+e.x,0===e.x&&V.x>vt.x+i.rowIndent&&(r=Math.min(r,Math.max(V.x,r-bd(i))))):i.alignment===Ff?(r=n.left+e.x,0===e.x&&V.x<vt.x-i.rowIndent&&(r=Math.max(r,Math.min(V.x,r+bd(i))))):r=i.Sm||i.Tm&&1===i.maxGenerationCount?n.left-i.fa.x+e.x:n.x+n.width/2+e.x,_?(t.m(O,r,V.y),O++,t.m(O,r,n.top-l),O++,t.m(O,r,n.top-l+(e.y+v)/3),O++,t.m(O,r,n.top-l+2*(e.y+v)/3),O++,t.m(O,r,n.top-l+(e.y+v)),O++,t.m(O,r,$.y)):(D&&(t.m(O,V.x,n.top-l/2),O++),t.m(O,r,n.top-l/2),O++,t.m(O,r,n.top-l+e.y+(D?v/2:v)),O++,D&&t.m(O,$.x,t.i(O-1).y))):U("Invalid angle "+r),t.xf()}else t=this.link,(l=Eh(i))!==Eh(n)&&(v=$m(i),_=i.bounds,i=n.bounds,0===l&&i.left-_.right<v+1||90===l&&i.top-_.bottom<v+1||180===l&&_.left-i.right<v+1||270===l&&_.top-i.bottom<v+1||(t.xj(),i=t.curve===cl,e=t.isOrthogonal,n=yp(this.fromVertex.alignment),t.Th(),0===l?(l=_.right+v/2,i?4===t.pointsCount&&(i=t.i(3).y,t.L(1,l-20,t.i(1).y),t.m(2,l-20,i),t.m(3,l,i),t.m(4,l+20,i),t.L(5,t.i(5).x,i)):e?n?t.L(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.L(2,l,t.i(2).y),t.L(3,l,t.i(3).y)):4===t.pointsCount?t.m(2,l,t.i(2).y):3===t.pointsCount?t.L(1,l,t.i(2).y):2===t.pointsCount&&t.m(1,l,t.i(1).y)):90===l?(l=_.bottom+v/2,i?4===t.pointsCount&&(i=t.i(3).x,t.L(1,t.i(1).x,l-20),t.m(2,i,l-20),t.m(3,i,l),t.m(4,i,l+20),t.L(5,i,t.i(5).y)):e?n?t.L(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.L(2,t.i(2).x,l),t.L(3,t.i(3).x,l)):4===t.pointsCount?t.m(2,t.i(2).x,l):3===t.pointsCount?t.L(1,t.i(2).x,l):2===t.pointsCount&&t.m(1,t.i(1).x,l)):180===l?(l=_.left-v/2,i?4===t.pointsCount&&(i=t.i(3).y,t.L(1,l+20,t.i(1).y),t.m(2,l+20,i),t.m(3,l,i),t.m(4,l-20,i),t.L(5,t.i(5).x,i)):e?n?t.L(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.L(2,l,t.i(2).y),t.L(3,l,t.i(3).y)):4===t.pointsCount?t.m(2,l,t.i(2).y):3===t.pointsCount?t.L(1,l,t.i(2).y):2===t.pointsCount&&t.m(1,l,t.i(1).y)):270===l&&(l=_.top-v/2,i?4===t.pointsCount&&(i=t.i(3).x,t.L(1,t.i(1).x,l+20),t.m(2,i,l+20),t.m(3,i,l),t.m(4,i,l-20),t.L(5,i,t.i(5).y)):e?n?t.L(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.L(2,t.i(2).x,l),t.L(3,t.i(3).x,l)):4===t.pointsCount?t.m(2,t.i(2).x,l):3===t.pointsCount?t.L(1,t.i(2).x,l):2===t.pointsCount&&t.m(1,t.i(1).x,l)),t.xf()))}},H.Object.defineProperties(qm.prototype,{fromVertex:{get:function(){return this.Yc},set:function(t){this.Yc!==t&&(this.Yc=t)}},toVertex:{get:function(){return this.ed},set:function(t){this.ed!==t&&(this.ed=t)}},relativePoint:{get:function(){return this.lv},set:function(t){this.lv.set(t)}}}),qm.className="TreeEdge",jr.prototype.initializeStandardTools=function(){this.Ya("Action",new Ns,this.mouseDownTools),this.Ya("Relinking",new bo,this.mouseDownTools),this.Ya("LinkReshaping",new qn,this.mouseDownTools),this.Ya("Rotating",new Lo,this.mouseDownTools),this.Ya("Resizing",new kr,this.mouseDownTools),this.Ya("Linking",new Gn,this.mouseMoveTools),this.Ya("Dragging",new Jr,this.mouseMoveTools),this.Ya("DragSelecting",new Mo,this.mouseMoveTools),this.Ya("Panning",new tl,this.mouseMoveTools),this.Ya("ContextMenu",new sa,this.mouseUpTools),this.Ya("TextEditing",new po,this.mouseUpTools),this.Ya("ClickCreating",new ma,this.mouseUpTools),this.Ya("ClickSelecting",new na,this.mouseUpTools)},eu("Horizontal",new Uc),eu("Spot",new gc),eu("Table",new Gc),eu("Viewbox",new q0),eu("TableRow",new rp),eu("TableColumn",new Qp),eu("Graduated",new e0),eu("Grid",new ld),Fp.add("GraphLinksModel",Xs),Fp.add("TreeModel",nh),am(da,null),am(io,null);var Wg=B.go,Kg={get licenseKey(){return di.licenseKey},set licenseKey(t){di.licenseKey=t},get version(){return di.version},Group:Qi,EnumValue:St,List:zt,Set:Pt,Map:yt,Point:ht,Size:De,Rect:he,Margin:Je,Spot:hn,Geometry:hr,PathFigure:an,PathSegment:nn,InputEvent:yi,DiagramEvent:An,ChangedEvent:On,Model:Sn,GraphLinksModel:Sr,TreeModel:Sl,Binding:Ms,Transaction:Mn,UndoManager:vr,CommandHandler:Zr,Tool:zn,DraggingTool:Jr,DraggingInfo:uc,DraggingOptions:id,LinkingBaseTool:Or,LinkingTool:Gn,RelinkingTool:bo,LinkReshapingTool:qn,ResizingTool:kr,RotatingTool:Lo,ClickSelectingTool:na,ActionTool:Ns,ClickCreatingTool:ma,HTMLInfo:ra,ContextMenuTool:sa,DragSelectingTool:Mo,PanningTool:tl,TextEditingTool:po,ToolManager:jr,Animation:ga,AnimationManager:Me,AnimationTrigger:yl,Layer:Eo,Diagram:di,Palette:_f,Overview:Ma,Brush:Fr,GraphObject:jn,Panel:Xi,RowColumnDefinition:rs,Shape:sr,TextBlock:Br,TextBlockMetrics:Wc,Picture:Fa,Part:qt,Adornment:Ji,Node:Si,Link:Bi,Placeholder:Rn,Layout:Rr,LayoutNetwork:P,LayoutVertex:Gi,LayoutEdge:Un,GridLayout:fr,PanelLayout:Is,CircularLayout:zo,CircularNetwork:Bg,CircularVertex:Cv,CircularEdge:Sv,ForceDirectedLayout:da,ForceDirectedNetwork:b0,ForceDirectedVertex:Wm,ForceDirectedEdge:M0,LayeredDigraphLayout:io,LayeredDigraphNetwork:Hg,LayeredDigraphVertex:cm,LayeredDigraphEdge:Gg,TreeLayout:br,TreeNetwork:dm,TreeVertex:sh,TreeEdge:qm};"object"==typeof Wg&&Wg.version&&U("WARNING: a `go` object on the root object is already defined.  "+("Debug"in Wg?"debug ":"")+"version: "+Wg.version+", replaced with version: "+Kg.version),di.prototype.go=Kg,B.go=Kg,(void 0===B||void 0===B.module||"object"!=typeof B.module.exports)&&B.define&&"function"==typeof B.define&&B.define.amd&&B.define(Kg),"object"==typeof Ee.exports&&(Ee.exports="undefined"!=typeof global?global.go:self.go)}()},740:(Ee,Q,ut)=>{"use strict";var ct=ut(9126).Buffer,f=ut(8792).Transform;function b(W){f.call(this),this._block=ct.allocUnsafe(W),this._blockSize=W,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}ut(3516)(b,f),b.prototype._transform=function(W,G,rt){var Z=null;try{this.update(W,G)}catch(H){Z=H}rt(Z)},b.prototype._flush=function(W){var G=null;try{this.push(this.digest())}catch(rt){G=rt}W(G)},b.prototype.update=function(W,G){if(function(W,G){if(!ct.isBuffer(W)&&"string"!=typeof W)throw new TypeError("Data must be a string or a buffer")}(W),this._finalized)throw new Error("Digest already called");ct.isBuffer(W)||(W=ct.from(W,G));for(var rt=this._block,Z=0;this._blockOffset+W.length-Z>=this._blockSize;){for(var H=this._blockOffset;H<this._blockSize;)rt[H++]=W[Z++];this._update(),this._blockOffset=0}for(;Z<W.length;)rt[this._blockOffset++]=W[Z++];for(var F=0,et=8*W.length;et>0;++F)this._length[F]+=et,(et=this._length[F]/4294967296|0)>0&&(this._length[F]-=4294967296*et);return this},b.prototype._update=function(){throw new Error("_update is not implemented")},b.prototype.digest=function(W){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var G=this._digest();void 0!==W&&(G=G.toString(W)),this._block.fill(0),this._blockOffset=0;for(var rt=0;rt<4;++rt)this._length[rt]=0;return G},b.prototype._digest=function(){throw new Error("_digest is not implemented")},Ee.exports=b},9126:(Ee,Q,ut)=>{var ct=ut(3847),f=ct.Buffer;function J(b,W){for(var G in b)W[G]=b[G]}function tt(b,W,G){return f(b,W,G)}f.from&&f.alloc&&f.allocUnsafe&&f.allocUnsafeSlow?Ee.exports=ct:(J(ct,Q),Q.Buffer=tt),tt.prototype=Object.create(f.prototype),J(f,tt),tt.from=function(b,W,G){if("number"==typeof b)throw new TypeError("Argument must not be a number");return f(b,W,G)},tt.alloc=function(b,W,G){if("number"!=typeof b)throw new TypeError("Argument must be a number");var rt=f(b);return void 0!==W?"string"==typeof G?rt.fill(W,G):rt.fill(W):rt.fill(0),rt},tt.allocUnsafe=function(b){if("number"!=typeof b)throw new TypeError("Argument must be a number");return f(b)},tt.allocUnsafeSlow=function(b){if("number"!=typeof b)throw new TypeError("Argument must be a number");return ct.SlowBuffer(b)}},4658:(Ee,Q,ut)=>{var ct=Q;ct.utils=ut(6459),ct.common=ut(3527),ct.sha=ut(3777),ct.ripemd=ut(3093),ct.hmac=ut(4348),ct.sha1=ct.sha.sha1,ct.sha256=ct.sha.sha256,ct.sha224=ct.sha.sha224,ct.sha384=ct.sha.sha384,ct.sha512=ct.sha.sha512,ct.ripemd160=ct.ripemd.ripemd160},3527:(Ee,Q,ut)=>{"use strict";var ct=ut(6459),f=ut(4725);function J(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Q.BlockHash=J,J.prototype.update=function(b,W){if(b=ct.toArray(b,W),this.pending=this.pending?this.pending.concat(b):b,this.pendingTotal+=b.length,this.pending.length>=this._delta8){var G=(b=this.pending).length%this._delta8;this.pending=b.slice(b.length-G,b.length),0===this.pending.length&&(this.pending=null),b=ct.join32(b,0,b.length-G,this.endian);for(var rt=0;rt<b.length;rt+=this._delta32)this._update(b,rt,rt+this._delta32)}return this},J.prototype.digest=function(b){return this.update(this._pad()),f(null===this.pending),this._digest(b)},J.prototype._pad=function(){var b=this.pendingTotal,W=this._delta8,G=W-(b+this.padLength)%W,rt=new Array(G+this.padLength);rt[0]=128;for(var Z=1;Z<G;Z++)rt[Z]=0;if(b<<=3,"big"===this.endian){for(var H=8;H<this.padLength;H++)rt[Z++]=0;rt[Z++]=0,rt[Z++]=0,rt[Z++]=0,rt[Z++]=0,rt[Z++]=b>>>24&255,rt[Z++]=b>>>16&255,rt[Z++]=b>>>8&255,rt[Z++]=255&b}else for(rt[Z++]=255&b,rt[Z++]=b>>>8&255,rt[Z++]=b>>>16&255,rt[Z++]=b>>>24&255,rt[Z++]=0,rt[Z++]=0,rt[Z++]=0,rt[Z++]=0,H=8;H<this.padLength;H++)rt[Z++]=0;return rt}},4348:(Ee,Q,ut)=>{"use strict";var ct=ut(6459),f=ut(4725);function J(tt,b,W){if(!(this instanceof J))return new J(tt,b,W);this.Hash=tt,this.blockSize=tt.blockSize/8,this.outSize=tt.outSize/8,this.inner=null,this.outer=null,this._init(ct.toArray(b,W))}Ee.exports=J,J.prototype._init=function(b){b.length>this.blockSize&&(b=(new this.Hash).update(b).digest()),f(b.length<=this.blockSize);for(var W=b.length;W<this.blockSize;W++)b.push(0);for(W=0;W<b.length;W++)b[W]^=54;for(this.inner=(new this.Hash).update(b),W=0;W<b.length;W++)b[W]^=106;this.outer=(new this.Hash).update(b)},J.prototype.update=function(b,W){return this.inner.update(b,W),this},J.prototype.digest=function(b){return this.outer.update(this.inner.digest()),this.outer.digest(b)}},3093:(Ee,Q,ut)=>{"use strict";var ct=ut(6459),f=ut(3527),J=ct.rotl32,tt=ct.sum32,b=ct.sum32_3,W=ct.sum32_4,G=f.BlockHash;function rt(){if(!(this instanceof rt))return new rt;G.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function Z(Y,q,U,it){return Y<=15?q^U^it:Y<=31?q&U|~q&it:Y<=47?(q|~U)^it:Y<=63?q&it|U&~it:q^(U|~it)}function F(Y){return Y<=15?1352829926:Y<=31?1548603684:Y<=47?1836072691:Y<=63?2053994217:0}ct.inherits(rt,G),Q.ripemd160=rt,rt.blockSize=512,rt.outSize=160,rt.hmacStrength=192,rt.padLength=64,rt.prototype._update=function(q,U){for(var it=this.h[0],ot=this.h[1],lt=this.h[2],wt=this.h[3],xt=this.h[4],Ot=it,Tt=ot,Et=lt,A=wt,o=xt,c=0;c<80;c++){var g=tt(J(W(it,Z(c,ot,lt,wt),q[et[c]+U],(Y=c)<=15?0:Y<=31?1518500249:Y<=47?1859775393:Y<=63?2400959708:2840853838),X[c]),xt);it=xt,xt=wt,wt=J(lt,10),lt=ot,ot=g,g=tt(J(W(Ot,Z(79-c,Tt,Et,A),q[B[c]+U],F(c)),z[c]),o),Ot=o,o=A,A=J(Et,10),Et=Tt,Tt=g}var Y;g=b(this.h[1],lt,A),this.h[1]=b(this.h[2],wt,o),this.h[2]=b(this.h[3],xt,Ot),this.h[3]=b(this.h[4],it,Tt),this.h[4]=b(this.h[0],ot,Et),this.h[0]=g},rt.prototype._digest=function(q){return"hex"===q?ct.toHex32(this.h,"little"):ct.split32(this.h,"little")};var et=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],B=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],X=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],z=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},3777:(Ee,Q,ut)=>{"use strict";Q.sha1=ut(8730),Q.sha224=ut(255),Q.sha256=ut(8572),Q.sha384=ut(5313),Q.sha512=ut(1391)},8730:(Ee,Q,ut)=>{"use strict";var ct=ut(6459),f=ut(3527),J=ut(7082),tt=ct.rotl32,b=ct.sum32,W=ct.sum32_5,G=J.ft_1,rt=f.BlockHash,Z=[1518500249,1859775393,2400959708,3395469782];function H(){if(!(this instanceof H))return new H;rt.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}ct.inherits(H,rt),Ee.exports=H,H.blockSize=512,H.outSize=160,H.hmacStrength=80,H.padLength=64,H.prototype._update=function(et,B){for(var X=this.W,z=0;z<16;z++)X[z]=et[B+z];for(;z<X.length;z++)X[z]=tt(X[z-3]^X[z-8]^X[z-14]^X[z-16],1);var Y=this.h[0],q=this.h[1],U=this.h[2],it=this.h[3],ot=this.h[4];for(z=0;z<X.length;z++){var lt=~~(z/20),wt=W(tt(Y,5),G(lt,q,U,it),ot,X[z],Z[lt]);ot=it,it=U,U=tt(q,30),q=Y,Y=wt}this.h[0]=b(this.h[0],Y),this.h[1]=b(this.h[1],q),this.h[2]=b(this.h[2],U),this.h[3]=b(this.h[3],it),this.h[4]=b(this.h[4],ot)},H.prototype._digest=function(et){return"hex"===et?ct.toHex32(this.h,"big"):ct.split32(this.h,"big")}},255:(Ee,Q,ut)=>{"use strict";var ct=ut(6459),f=ut(8572);function J(){if(!(this instanceof J))return new J;f.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}ct.inherits(J,f),Ee.exports=J,J.blockSize=512,J.outSize=224,J.hmacStrength=192,J.padLength=64,J.prototype._digest=function(b){return"hex"===b?ct.toHex32(this.h.slice(0,7),"big"):ct.split32(this.h.slice(0,7),"big")}},8572:(Ee,Q,ut)=>{"use strict";var ct=ut(6459),f=ut(3527),J=ut(7082),tt=ut(4725),b=ct.sum32,W=ct.sum32_4,G=ct.sum32_5,rt=J.ch32,Z=J.maj32,H=J.s0_256,F=J.s1_256,et=J.g0_256,B=J.g1_256,X=f.BlockHash,z=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Y(){if(!(this instanceof Y))return new Y;X.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=z,this.W=new Array(64)}ct.inherits(Y,X),Ee.exports=Y,Y.blockSize=512,Y.outSize=256,Y.hmacStrength=192,Y.padLength=64,Y.prototype._update=function(U,it){for(var ot=this.W,lt=0;lt<16;lt++)ot[lt]=U[it+lt];for(;lt<ot.length;lt++)ot[lt]=W(B(ot[lt-2]),ot[lt-7],et(ot[lt-15]),ot[lt-16]);var wt=this.h[0],xt=this.h[1],Ot=this.h[2],Tt=this.h[3],Et=this.h[4],A=this.h[5],o=this.h[6],c=this.h[7];for(tt(this.k.length===ot.length),lt=0;lt<ot.length;lt++){var g=G(c,F(Et),rt(Et,A,o),this.k[lt],ot[lt]),p=b(H(wt),Z(wt,xt,Ot));c=o,o=A,A=Et,Et=b(Tt,g),Tt=Ot,Ot=xt,xt=wt,wt=b(g,p)}this.h[0]=b(this.h[0],wt),this.h[1]=b(this.h[1],xt),this.h[2]=b(this.h[2],Ot),this.h[3]=b(this.h[3],Tt),this.h[4]=b(this.h[4],Et),this.h[5]=b(this.h[5],A),this.h[6]=b(this.h[6],o),this.h[7]=b(this.h[7],c)},Y.prototype._digest=function(U){return"hex"===U?ct.toHex32(this.h,"big"):ct.split32(this.h,"big")}},5313:(Ee,Q,ut)=>{"use strict";var ct=ut(6459),f=ut(1391);function J(){if(!(this instanceof J))return new J;f.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}ct.inherits(J,f),Ee.exports=J,J.blockSize=1024,J.outSize=384,J.hmacStrength=192,J.padLength=128,J.prototype._digest=function(b){return"hex"===b?ct.toHex32(this.h.slice(0,12),"big"):ct.split32(this.h.slice(0,12),"big")}},1391:(Ee,Q,ut)=>{"use strict";var ct=ut(6459),f=ut(3527),J=ut(4725),tt=ct.rotr64_hi,b=ct.rotr64_lo,W=ct.shr64_hi,G=ct.shr64_lo,rt=ct.sum64,Z=ct.sum64_hi,H=ct.sum64_lo,F=ct.sum64_4_hi,et=ct.sum64_4_lo,B=ct.sum64_5_hi,X=ct.sum64_5_lo,z=f.BlockHash,Y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function q(){if(!(this instanceof q))return new q;z.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Y,this.W=new Array(160)}function U(g,p,w,S,T){var C=g&w^~g&T;return C<0&&(C+=4294967296),C}function it(g,p,w,S,T,C){var h=p&S^~p&C;return h<0&&(h+=4294967296),h}function ot(g,p,w,S,T){var C=g&w^g&T^w&T;return C<0&&(C+=4294967296),C}function lt(g,p,w,S,T,C){var h=p&S^p&C^S&C;return h<0&&(h+=4294967296),h}function wt(g,p){var C=tt(g,p,28)^tt(p,g,2)^tt(p,g,7);return C<0&&(C+=4294967296),C}function xt(g,p){var C=b(g,p,28)^b(p,g,2)^b(p,g,7);return C<0&&(C+=4294967296),C}function Ot(g,p){var C=tt(g,p,14)^tt(g,p,18)^tt(p,g,9);return C<0&&(C+=4294967296),C}function Tt(g,p){var C=b(g,p,14)^b(g,p,18)^b(p,g,9);return C<0&&(C+=4294967296),C}function Et(g,p){var C=tt(g,p,1)^tt(g,p,8)^W(g,p,7);return C<0&&(C+=4294967296),C}function A(g,p){var C=b(g,p,1)^b(g,p,8)^G(g,p,7);return C<0&&(C+=4294967296),C}function o(g,p){var C=tt(g,p,19)^tt(p,g,29)^W(g,p,6);return C<0&&(C+=4294967296),C}function c(g,p){var C=b(g,p,19)^b(p,g,29)^G(g,p,6);return C<0&&(C+=4294967296),C}ct.inherits(q,z),Ee.exports=q,q.blockSize=1024,q.outSize=512,q.hmacStrength=192,q.padLength=128,q.prototype._prepareBlock=function(p,w){for(var S=this.W,T=0;T<32;T++)S[T]=p[w+T];for(;T<S.length;T+=2){var C=o(S[T-4],S[T-3]),h=c(S[T-4],S[T-3]),k=S[T-14],ft=S[T-13],at=Et(S[T-30],S[T-29]),st=A(S[T-30],S[T-29]),Mt=S[T-32],St=S[T-31];S[T]=F(C,h,k,ft,at,st,Mt,St),S[T+1]=et(C,h,k,ft,at,st,Mt,St)}},q.prototype._update=function(p,w){this._prepareBlock(p,w);var S=this.W,T=this.h[0],C=this.h[1],h=this.h[2],k=this.h[3],ft=this.h[4],at=this.h[5],st=this.h[6],Mt=this.h[7],St=this.h[8],Xt=this.h[9],te=this.h[10],Vt=this.h[11],Dt=this.h[12],ve=this.h[13],Gt=this.h[14],Nt=this.h[15];J(this.k.length===S.length);for(var Kt=0;Kt<S.length;Kt+=2){var fe=Gt,zt=Nt,Ne=Ot(St,Xt),Pt=Tt(St,Xt),Se=U(St,0,te,0,Dt),Fi=it(0,Xt,0,Vt,0,ve),Ge=this.k[Kt],_e=this.k[Kt+1],Ce=S[Kt],Bt=S[Kt+1],re=B(fe,zt,Ne,Pt,Se,Fi,Ge,_e,Ce,Bt),Ye=X(fe,zt,Ne,Pt,Se,Fi,Ge,_e,Ce,Bt);fe=wt(T,C),zt=xt(T,C),Ne=ot(T,0,h,0,ft),Pt=lt(0,C,0,k,0,at);var jt=Z(fe,zt,Ne,Pt),yt=H(fe,zt,Ne,Pt);Gt=Dt,Nt=ve,Dt=te,ve=Vt,te=St,Vt=Xt,St=Z(st,Mt,re,Ye),Xt=H(Mt,Mt,re,Ye),st=ft,Mt=at,ft=h,at=k,h=T,k=C,T=Z(re,Ye,jt,yt),C=H(re,Ye,jt,yt)}rt(this.h,0,T,C),rt(this.h,2,h,k),rt(this.h,4,ft,at),rt(this.h,6,st,Mt),rt(this.h,8,St,Xt),rt(this.h,10,te,Vt),rt(this.h,12,Dt,ve),rt(this.h,14,Gt,Nt)},q.prototype._digest=function(p){return"hex"===p?ct.toHex32(this.h,"big"):ct.split32(this.h,"big")}},7082:(Ee,Q,ut)=>{"use strict";var f=ut(6459).rotr32;function tt(F,et,B){return F&et^~F&B}function b(F,et,B){return F&et^F&B^et&B}function W(F,et,B){return F^et^B}Q.ft_1=function(F,et,B,X){return 0===F?tt(et,B,X):1===F||3===F?W(et,B,X):2===F?b(et,B,X):void 0},Q.ch32=tt,Q.maj32=b,Q.p32=W,Q.s0_256=function(F){return f(F,2)^f(F,13)^f(F,22)},Q.s1_256=function(F){return f(F,6)^f(F,11)^f(F,25)},Q.g0_256=function(F){return f(F,7)^f(F,18)^F>>>3},Q.g1_256=function(F){return f(F,17)^f(F,19)^F>>>10}},6459:(Ee,Q,ut)=>{"use strict";var ct=ut(4725),f=ut(3516);function J(c,g){return!(55296!=(64512&c.charCodeAt(g))||g<0||g+1>=c.length)&&56320==(64512&c.charCodeAt(g+1))}function W(c){return(c>>>24|c>>>8&65280|c<<8&16711680|(255&c)<<24)>>>0}function rt(c){return 1===c.length?"0"+c:c}function Z(c){return 7===c.length?"0"+c:6===c.length?"00"+c:5===c.length?"000"+c:4===c.length?"0000"+c:3===c.length?"00000"+c:2===c.length?"000000"+c:1===c.length?"0000000"+c:c}Q.inherits=f,Q.toArray=function(c,g){if(Array.isArray(c))return c.slice();if(!c)return[];var p=[];if("string"==typeof c)if(g){if("hex"===g)for((c=c.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(c="0"+c),S=0;S<c.length;S+=2)p.push(parseInt(c[S]+c[S+1],16))}else for(var w=0,S=0;S<c.length;S++){var T=c.charCodeAt(S);T<128?p[w++]=T:T<2048?(p[w++]=T>>6|192,p[w++]=63&T|128):J(c,S)?(T=65536+((1023&T)<<10)+(1023&c.charCodeAt(++S)),p[w++]=T>>18|240,p[w++]=T>>12&63|128,p[w++]=T>>6&63|128,p[w++]=63&T|128):(p[w++]=T>>12|224,p[w++]=T>>6&63|128,p[w++]=63&T|128)}else for(S=0;S<c.length;S++)p[S]=0|c[S];return p},Q.toHex=function(c){for(var g="",p=0;p<c.length;p++)g+=rt(c[p].toString(16));return g},Q.htonl=W,Q.toHex32=function(c,g){for(var p="",w=0;w<c.length;w++){var S=c[w];"little"===g&&(S=W(S)),p+=Z(S.toString(16))}return p},Q.zero2=rt,Q.zero8=Z,Q.join32=function(c,g,p,w){var S=p-g;ct(S%4==0);for(var T=new Array(S/4),C=0,h=g;C<T.length;C++,h+=4)T[C]=("big"===w?c[h]<<24|c[h+1]<<16|c[h+2]<<8|c[h+3]:c[h+3]<<24|c[h+2]<<16|c[h+1]<<8|c[h])>>>0;return T},Q.split32=function(c,g){for(var p=new Array(4*c.length),w=0,S=0;w<c.length;w++,S+=4){var T=c[w];"big"===g?(p[S]=T>>>24,p[S+1]=T>>>16&255,p[S+2]=T>>>8&255,p[S+3]=255&T):(p[S+3]=T>>>24,p[S+2]=T>>>16&255,p[S+1]=T>>>8&255,p[S]=255&T)}return p},Q.rotr32=function(c,g){return c>>>g|c<<32-g},Q.rotl32=function(c,g){return c<<g|c>>>32-g},Q.sum32=function(c,g){return c+g>>>0},Q.sum32_3=function(c,g,p){return c+g+p>>>0},Q.sum32_4=function(c,g,p,w){return c+g+p+w>>>0},Q.sum32_5=function(c,g,p,w,S){return c+g+p+w+S>>>0},Q.sum64=function(c,g,p,w){var C=w+c[g+1]>>>0;c[g]=(C<w?1:0)+p+c[g]>>>0,c[g+1]=C},Q.sum64_hi=function(c,g,p,w){return(g+w>>>0<g?1:0)+c+p>>>0},Q.sum64_lo=function(c,g,p,w){return g+w>>>0},Q.sum64_4_hi=function(c,g,p,w,S,T,C,h){var k=0,ft=g;return k+=(ft=ft+w>>>0)<g?1:0,k+=(ft=ft+T>>>0)<T?1:0,c+p+S+C+(k+=(ft=ft+h>>>0)<h?1:0)>>>0},Q.sum64_4_lo=function(c,g,p,w,S,T,C,h){return g+w+T+h>>>0},Q.sum64_5_hi=function(c,g,p,w,S,T,C,h,k,ft){var at=0,st=g;return at+=(st=st+w>>>0)<g?1:0,at+=(st=st+T>>>0)<T?1:0,at+=(st=st+h>>>0)<h?1:0,c+p+S+C+k+(at+=(st=st+ft>>>0)<ft?1:0)>>>0},Q.sum64_5_lo=function(c,g,p,w,S,T,C,h,k,ft){return g+w+T+h+ft>>>0},Q.rotr64_hi=function(c,g,p){return(g<<32-p|c>>>p)>>>0},Q.rotr64_lo=function(c,g,p){return(c<<32-p|g>>>p)>>>0},Q.shr64_hi=function(c,g,p){return c>>>p},Q.shr64_lo=function(c,g,p){return(c<<32-p|g>>>p)>>>0}},8221:(Ee,Q,ut)=>{Ee.exports=ut(2283)},2283:function(Ee,Q){var ut,ct,f;(function(){var J,tt,b,W,G,rt,Z,H,F,et,B,X,z,Y,q;b=Math.floor,et=Math.min,tt=function(U,it){return U<it?-1:U>it?1:0},F=function(U,it,ot,lt,wt){var xt;if(null==ot&&(ot=0),null==wt&&(wt=tt),ot<0)throw new Error("lo must be non-negative");for(null==lt&&(lt=U.length);ot<lt;)wt(it,U[xt=b((ot+lt)/2)])<0?lt=xt:ot=xt+1;return[].splice.apply(U,[ot,ot-ot].concat(it)),it},rt=function(U,it,ot){return null==ot&&(ot=tt),U.push(it),Y(U,0,U.length-1,ot)},G=function(U,it){var ot,lt;return null==it&&(it=tt),ot=U.pop(),U.length?(lt=U[0],U[0]=ot,q(U,0,it)):lt=ot,lt},H=function(U,it,ot){var lt;return null==ot&&(ot=tt),lt=U[0],U[0]=it,q(U,0,ot),lt},Z=function(U,it,ot){var lt;return null==ot&&(ot=tt),U.length&&ot(U[0],it)<0&&(it=(lt=[U[0],it])[0],U[0]=lt[1],q(U,0,ot)),it},W=function(U,it){var lt,xt,Tt,Et,A;for(null==it&&(it=tt),Et=[],lt=0,xt=(Tt=function(){A=[];for(var o=0,c=b(U.length/2);0<=c?o<c:o>c;0<=c?o++:o--)A.push(o);return A}.apply(this).reverse()).length;lt<xt;lt++)Et.push(q(U,Tt[lt],it));return Et},z=function(U,it,ot){var lt;if(null==ot&&(ot=tt),-1!==(lt=U.indexOf(it)))return Y(U,0,lt,ot),q(U,lt,ot)},B=function(U,it,ot){var wt,xt,Ot,Tt;if(null==ot&&(ot=tt),!(wt=U.slice(0,it)).length)return wt;for(W(wt,ot),xt=0,Ot=(Tt=U.slice(it)).length;xt<Ot;xt++)Z(wt,Tt[xt],ot);return wt.sort(ot).reverse()},X=function(U,it,ot){var lt,xt,Ot,Tt,Et,A,o,c,g;if(null==ot&&(ot=tt),10*it<=U.length){if(!(Ot=U.slice(0,it).sort(ot)).length)return Ot;for(xt=Ot[Ot.length-1],Tt=0,A=(o=U.slice(it)).length;Tt<A;Tt++)ot(lt=o[Tt],xt)<0&&(F(Ot,lt,0,null,ot),Ot.pop(),xt=Ot[Ot.length-1]);return Ot}for(W(U,ot),g=[],Et=0,c=et(it,U.length);0<=c?Et<c:Et>c;0<=c?++Et:--Et)g.push(G(U,ot));return g},Y=function(U,it,ot,lt){var wt,xt,Ot;for(null==lt&&(lt=tt),wt=U[ot];ot>it&&lt(wt,xt=U[Ot=ot-1>>1])<0;)U[ot]=xt,ot=Ot;return U[ot]=wt},q=function(U,it,ot){var lt,wt,xt,Ot,Tt;for(null==ot&&(ot=tt),wt=U.length,Tt=it,xt=U[it],lt=2*it+1;lt<wt;)(Ot=lt+1)<wt&&!(ot(U[lt],U[Ot])<0)&&(lt=Ot),U[it]=U[lt],lt=2*(it=lt)+1;return U[it]=xt,Y(U,Tt,it,ot)},J=function(){function U(it){this.cmp=null!=it?it:tt,this.nodes=[]}return U.push=rt,U.pop=G,U.replace=H,U.pushpop=Z,U.heapify=W,U.updateItem=z,U.nlargest=B,U.nsmallest=X,U.prototype.push=function(it){return rt(this.nodes,it,this.cmp)},U.prototype.pop=function(){return G(this.nodes,this.cmp)},U.prototype.peek=function(){return this.nodes[0]},U.prototype.contains=function(it){return-1!==this.nodes.indexOf(it)},U.prototype.replace=function(it){return H(this.nodes,it,this.cmp)},U.prototype.pushpop=function(it){return Z(this.nodes,it,this.cmp)},U.prototype.heapify=function(){return W(this.nodes,this.cmp)},U.prototype.updateItem=function(it){return z(this.nodes,it,this.cmp)},U.prototype.clear=function(){return this.nodes=[]},U.prototype.empty=function(){return 0===this.nodes.length},U.prototype.size=function(){return this.nodes.length},U.prototype.clone=function(){var it;return(it=new U).nodes=this.nodes.slice(0),it},U.prototype.toArray=function(){return this.nodes.slice(0)},U.prototype.insert=U.prototype.push,U.prototype.top=U.prototype.peek,U.prototype.front=U.prototype.peek,U.prototype.has=U.prototype.contains,U.prototype.copy=U.prototype.clone,U}(),ct=[],void 0===(f="function"==typeof(ut=function(){return J})?ut.apply(Q,ct):ut)||(Ee.exports=f)}).call(this)},4317:function(Ee,Q,ut){"use strict";var ct,f,J;f="undefined"!=typeof window?window:this,J=function(f){function J(b,W,G,rt){b.hasOwnProperty(W)||(b[W]=rt.apply(null,G))}var tt={};return J(tt,"Core/Globals.js",[],function(){var W,G,b=void 0!==f?f:"undefined"!=typeof window?window:{};return(G=W||(W={})).SVG_NS="http://www.w3.org/2000/svg",G.product="Highcharts",G.version="9.3.1",G.win=b,G.doc=G.win.document,G.svg=G.doc&&G.doc.createElementNS&&!!G.doc.createElementNS(G.SVG_NS,"svg").createSVGRect,G.userAgent=G.win.navigator&&G.win.navigator.userAgent||"",G.isChrome=-1!==G.userAgent.indexOf("Chrome"),G.isFirefox=-1!==G.userAgent.indexOf("Firefox"),G.isMS=/(edge|msie|trident)/i.test(G.userAgent)&&!G.win.opera,G.isSafari=!G.isChrome&&-1!==G.userAgent.indexOf("Safari"),G.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(G.userAgent),G.isWebKit=-1!==G.userAgent.indexOf("AppleWebKit"),G.deg2rad=2*Math.PI/360,G.hasBidiBug=G.isFirefox&&4>parseInt(G.userAgent.split("Firefox/")[1],10),G.hasTouch=!!G.win.TouchEvent,G.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],G.noop=function(){},G.supportsPassiveEvents=function(){var rt=!1;if(!G.isMS){var Z=Object.defineProperty({},"passive",{get:function(){rt=!0}});G.win.addEventListener&&G.win.removeEventListener&&(G.win.addEventListener("testPassive",G.noop,Z),G.win.removeEventListener("testPassive",G.noop,Z))}return rt}(),G.charts=[],G.dateFormats={},G.seriesTypes={},G.symbolSizes={},G.chartCount=0,W}),J(tt,"Core/Utilities.js",[tt["Core/Globals.js"]],function(b){function W(S,T,C,h){var k=T?"Highcharts error":"Highcharts warning";32===S&&(S=k+": Deprecated member");var ft=X(S),at=ft?k+" #"+S+": www.highcharts.com/errors/"+S+"/":S.toString();if(void 0!==h){var st="";ft&&(at+="?"),xt(h,function(Mt,St){st+="\n - "+St+": "+Mt,ft&&(at+=encodeURI(St)+"="+encodeURI(Mt))}),at+=st}Tt(b,"displayError",{chart:C,code:S,message:at,params:h},function(){if(T)throw Error(at);o.console&&-1===W.messages.indexOf(at)&&console.warn(at)}),W.messages.push(at)}function rt(S,T){return parseInt(S,T||10)}function Z(S){return"string"==typeof S}function H(S){return"[object Array]"===(S=Object.prototype.toString.call(S))||"[object Array Iterator]"===S}function F(S,T){return!(!S||"object"!=typeof S||T&&H(S))}function et(S){return F(S)&&"number"==typeof S.nodeType}function B(S){var T=S&&S.constructor;return!(!F(S,!0)||et(S)||!T||!T.name||"Object"===T.name)}function X(S){return"number"==typeof S&&!isNaN(S)&&1/0>S&&-1/0<S}function z(S){return null!=S}function Y(S,T,C){var h;return Z(T)?z(C)?S.setAttribute(T,C):S&&S.getAttribute&&((h=S.getAttribute(T))||"class"!==T||(h=S.getAttribute(T+"Name"))):xt(T,function(k,ft){z(k)?S.setAttribute(ft,k):S.removeAttribute(ft)}),h}function q(S,T){var C;for(C in S||(S={}),T)S[C]=T[C];return S}function U(){for(var S=arguments,T=S.length,C=0;C<T;C++){var h=S[C];if(null!=h)return h}}function it(S,T){b.isMS&&!b.svg&&T&&void 0!==T.opacity&&(T.filter="alpha(opacity="+100*T.opacity+")"),q(S.style,T)}function ot(S,T,C,h,k){return S=A.createElement(S),T&&q(S,T),k&&it(S,{padding:"0",border:"none",margin:"0"}),C&&it(S,C),h&&h.appendChild(S),S}function lt(S,T){return 1e14<S?S:parseFloat(S.toPrecision(T||14))}function xt(S,T,C){for(var h in S)Object.hasOwnProperty.call(S,h)&&T.call(C||S[h],S[h],h,S)}function Ot(S,T,C){function h(st,Mt){var St=S.removeEventListener||b.removeEventListenerPolyfill;St&&St.call(S,st,Mt,!1)}function k(st){var Mt;if(S.nodeName){if(T){var St={};St[T]=!0}else St=st;xt(St,function(Xt,te){if(st[te])for(Mt=st[te].length;Mt--;)h(te,st[te][Mt].fn)})}}var ft="function"==typeof S&&S.prototype||S;if(Object.hasOwnProperty.call(ft,"hcEvents")){var at=ft.hcEvents;T?(ft=at[T]||[],C?(at[T]=ft.filter(function(st){return C!==st.fn}),h(T,C)):(k(at),at[T]=[])):(k(at),delete ft.hcEvents)}}function Tt(S,T,C,h){if(C=C||{},A.createEvent&&(S.dispatchEvent||S.fireEvent&&S!==b)){var k=A.createEvent("Events");k.initEvent(T,!0,!0),C=q(k,C),S.dispatchEvent?S.dispatchEvent(C):S.fireEvent(T,C)}else if(S.hcEvents){C.target||q(C,{preventDefault:function(){C.defaultPrevented=!0},target:S,type:T}),k=[];for(var ft=S,at=!1;ft.hcEvents;)Object.hasOwnProperty.call(ft,"hcEvents")&&ft.hcEvents[T]&&(k.length&&(at=!0),k.unshift.apply(k,ft.hcEvents[T])),ft=Object.getPrototypeOf(ft);at&&k.sort(function(st,Mt){return st.order-Mt.order}),k.forEach(function(st){!1===st.fn.call(S,C)&&C.preventDefault()})}h&&!C.defaultPrevented&&h.call(S,C)}var c,Et=b.charts,A=b.doc,o=b.win;(W||(W={})).messages=[],Math.easeInOutSine=function(S){return-.5*(Math.cos(Math.PI*S)-1)};var g=Array.prototype.find?function(S,T){return S.find(T)}:function(S,T){var C,h=S.length;for(C=0;C<h;C++)if(T(S[C],C))return S[C]};xt({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(S,T){b[T]=function(C){var h;return W(32,!1,void 0,((h={})["Highcharts."+T]="use Array."+S,h)),Array.prototype[S].apply(C,[].slice.call(arguments,1))}});var p,S,T,w=(S=Math.random().toString(36).substring(2,9)+"-",T=0,function(){return"highcharts-"+(p?"":S)+T++});return o.jQuery&&(o.jQuery.fn.highcharts=function(){var S=[].slice.call(arguments);if(this[0])return S[0]?(new(b[Z(S[0])?S.shift():"Chart"])(this[0],S[0],S[1]),this):Et[Y(this[0],"data-highcharts-chart")]}),g={addEvent:function(S,T,C,h){void 0===h&&(h={});var k="function"==typeof S&&S.prototype||S;Object.hasOwnProperty.call(k,"hcEvents")||(k.hcEvents={}),k=k.hcEvents,b.Point&&S instanceof b.Point&&S.series&&S.series.chart&&(S.series.chart.runTrackerClick=!0);var ft=S.addEventListener||b.addEventListenerPolyfill;return ft&&ft.call(S,T,C,!!b.supportsPassiveEvents&&{passive:void 0===h.passive?-1!==T.indexOf("touch"):h.passive,capture:!1}),k[T]||(k[T]=[]),k[T].push({fn:C,order:"number"==typeof h.order?h.order:1/0}),k[T].sort(function(at,st){return at.order-st.order}),function(){Ot(S,T,C)}},arrayMax:function(S){for(var T=S.length,C=S[0];T--;)S[T]>C&&(C=S[T]);return C},arrayMin:function(S){for(var T=S.length,C=S[0];T--;)S[T]<C&&(C=S[T]);return C},attr:Y,clamp:function(S,T,C){return S>T?S<C?S:C:T},cleanRecursively:function G(S,T){var C={};return xt(S,function(h,k){F(S[k],!0)&&!S.nodeType&&T[k]?(h=G(S[k],T[k]),Object.keys(h).length&&(C[k]=h)):(F(S[k])||S[k]!==T[k])&&(C[k]=S[k])}),C},clearTimeout:function(S){z(S)&&clearTimeout(S)},correctFloat:lt,createElement:ot,css:it,defined:z,destroyObjectProperties:function(S,T){xt(S,function(C,h){C&&C!==T&&C.destroy&&C.destroy(),delete S[h]})},discardElement:function(S){c||(c=ot("div")),S&&c.appendChild(S),c.innerHTML=""},erase:function(S,T){for(var C=S.length;C--;)if(S[C]===T){S.splice(C,1);break}},error:W,extend:q,extendClass:function(S,T){var C=function(){};return q(C.prototype=new S,T),C},find:g,fireEvent:Tt,getMagnitude:function(S){return Math.pow(10,Math.floor(Math.log(S)/Math.LN10))},getNestedProperty:function(S,T){for(S=S.split(".");S.length&&z(T);){var C=S.shift();if(void 0===C||"__proto__"===C||!z(T=T[C])||"function"==typeof T||"number"==typeof T.nodeType||T===o)return}return T},getStyle:function wt(S,T,C){var h=b.getStyle||wt;if("width"===T)return T=Math.min(S.offsetWidth,S.scrollWidth),(C=S.getBoundingClientRect&&S.getBoundingClientRect().width)<T&&C>=T-1&&(T=Math.floor(C)),Math.max(0,T-(h(S,"padding-left",!0)||0)-(h(S,"padding-right",!0)||0));if("height"===T)return Math.max(0,Math.min(S.offsetHeight,S.scrollHeight)-(h(S,"padding-top",!0)||0)-(h(S,"padding-bottom",!0)||0));if(o.getComputedStyle||W(27,!0),S=o.getComputedStyle(S,void 0)){var k=S.getPropertyValue(T);U(C,"opacity"!==T)&&(k=rt(k))}return k},inArray:function(S,T,C){return W(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),T.indexOf(S,C)},isArray:H,isClass:B,isDOMElement:et,isFunction:function(S){return"function"==typeof S},isNumber:X,isObject:F,isString:Z,keys:function(S){return W(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(S)},merge:function(){var S,T=arguments,C={},h=function(ft,at){return"object"!=typeof ft&&(ft={}),xt(at,function(st,Mt){"__proto__"!==Mt&&"constructor"!==Mt&&(ft[Mt]=!F(st,!0)||B(st)||et(st)?at[Mt]:h(ft[Mt]||{},st))}),ft};!0===T[0]&&(C=T[1],T=Array.prototype.slice.call(T,2));var k=T.length;for(S=0;S<k;S++)C=h(C,T[S]);return C},normalizeTickInterval:function(S,T,C,h,k){var ft=S,at=S/(C=U(C,1));for(T||(T=k?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===h&&(1===C?T=T.filter(function(st){return st%1==0}):.1>=C&&(T=[1/C]))),h=0;h<T.length&&(ft=T[h],!(k&&ft*C>=S||!k&&at<=(T[h]+(T[h+1]||T[h]))/2));h++);return lt(ft*C,-Math.round(Math.log(.001)/Math.LN10))},objectEach:xt,offset:function(S){var T=A.documentElement;return{top:(S=S.parentElement||S.parentNode?S.getBoundingClientRect():{top:0,left:0,width:0,height:0}).top+(o.pageYOffset||T.scrollTop)-(T.clientTop||0),left:S.left+(o.pageXOffset||T.scrollLeft)-(T.clientLeft||0),width:S.width,height:S.height}},pad:function(S,T,C){return Array((T||2)+1-String(S).replace("-","").length).join(C||"0")+S},pick:U,pInt:rt,relativeLength:function(S,T,C){return/%$/.test(S)?T*parseFloat(S)/100+(C||0):parseFloat(S)},removeEvent:Ot,splat:function(S){return H(S)?S:[S]},stableSort:function(S,T){var h,k,C=S.length;for(k=0;k<C;k++)S[k].safeI=k;for(S.sort(function(ft,at){return 0===(h=T(ft,at))?ft.safeI-at.safeI:h}),k=0;k<C;k++)delete S[k].safeI},syncTimeout:function(S,T,C){return 0<T?setTimeout(S,T,C):(S.call(0,C),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:w,useSerialIds:function(S){return p=U(S,p)},wrap:function(S,T,C){var h=S[T];S[T]=function(){var k=Array.prototype.slice.call(arguments),ft=arguments,at=this;return at.proceed=function(){h.apply(at,arguments.length?arguments:ft)},k.unshift(h),k=C.apply(this,k),at.proceed=null,k}}},g}),J(tt,"Core/Chart/ChartDefaults.js",[],function(){return{panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},zoomBySingleTouch:!1,width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),J(tt,"Core/Color/Color.js",[tt["Core/Globals.js"],tt["Core/Utilities.js"]],function(b,W){var G=W.isNumber,rt=W.merge,Z=W.pInt;return function(){function H(F){this.rgba=[NaN,NaN,NaN,NaN],this.input=F;var et=b.Color;return et&&et!==H?new et(F):this instanceof H?void this.init(F):new H(F)}return H.parse=function(F){return F?new H(F):H.None},H.prototype.init=function(F){var et;if("object"==typeof F&&void 0!==F.stops)this.stops=F.stops.map(function(Y){return new H(Y[1])});else if("string"==typeof F){if(this.input=F=H.names[F.toLowerCase()]||F,"#"===F.charAt(0)){var B=F.length,X=parseInt(F.substr(1),16);7===B?et=[(16711680&X)>>16,(65280&X)>>8,255&X,1]:4===B&&(et=[(3840&X)>>4|(3840&X)>>8,(240&X)>>4|240&X,(15&X)<<4|15&X,1])}if(!et)for(X=H.parsers.length;X--&&!et;){var z=H.parsers[X];(B=z.regex.exec(F))&&(et=z.parse(B))}}et&&(this.rgba=et)},H.prototype.get=function(F){var et=this.input,B=this.rgba;if("object"==typeof et&&void 0!==this.stops){var X=rt(et);return X.stops=[].slice.call(X.stops),this.stops.forEach(function(z,Y){X.stops[Y]=[X.stops[Y][0],z.get(F)]}),X}return B&&G(B[0])?"rgb"===F||!F&&1===B[3]?"rgb("+B[0]+","+B[1]+","+B[2]+")":"a"===F?""+B[3]:"rgba("+B.join(",")+")":et},H.prototype.brighten=function(F){var et=this.rgba;if(this.stops)this.stops.forEach(function(X){X.brighten(F)});else if(G(F)&&0!==F)for(var B=0;3>B;B++)et[B]+=Z(255*F),0>et[B]&&(et[B]=0),255<et[B]&&(et[B]=255);return this},H.prototype.setOpacity=function(F){return this.rgba[3]=F,this},H.prototype.tweenTo=function(F,et){var B=this.rgba,X=F.rgba;return G(B[0])&&G(X[0])?((F=1!==X[3]||1!==B[3])?"rgba(":"rgb(")+Math.round(X[0]+(B[0]-X[0])*(1-et))+","+Math.round(X[1]+(B[1]-X[1])*(1-et))+","+Math.round(X[2]+(B[2]-X[2])*(1-et))+(F?","+(X[3]+(B[3]-X[3])*(1-et)):"")+")":F.input||"none"},H.names={white:"#ffffff",black:"#000000"},H.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(F){return[Z(F[1]),Z(F[2]),Z(F[3]),parseFloat(F[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(F){return[Z(F[1]),Z(F[2]),Z(F[3]),1]}}],H.None=new H(""),H}()}),J(tt,"Core/Color/Palettes.js",[],function(){return{colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")}}),J(tt,"Core/Time.js",[tt["Core/Globals.js"],tt["Core/Utilities.js"]],function(b,W){var G=b.win,rt=W.defined,Z=W.error,H=W.extend,F=W.isObject,et=W.merge,B=W.objectEach,X=W.pad,z=W.pick,Y=W.splat,q=W.timeUnits,U=b.isSafari&&G.Intl&&G.Intl.DateTimeFormat.prototype.formatRange,it=b.isSafari&&G.Intl&&!G.Intl.DateTimeFormat.prototype.formatRange;return W=function(){function ot(lt){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=G.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(lt)}return ot.prototype.get=function(lt,wt){if(this.variableTimezone||this.timezoneOffset){var xt=wt.getTime(),Ot=xt-this.getTimezoneOffset(wt);return wt.setTime(Ot),lt=wt["getUTC"+lt](),wt.setTime(xt),lt}return this.useUTC?wt["getUTC"+lt]():wt["get"+lt]()},ot.prototype.set=function(lt,wt,xt){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===lt||"Seconds"===lt||"Minutes"===lt&&this.getTimezoneOffset(wt)%36e5==0)return wt["setUTC"+lt](xt);var Ot=this.getTimezoneOffset(wt);return Ot=wt.getTime()-Ot,wt.setTime(Ot),wt["setUTC"+lt](xt),lt=this.getTimezoneOffset(wt),Ot=wt.getTime()+lt,wt.setTime(Ot)}return this.useUTC||U&&"FullYear"===lt?wt["setUTC"+lt](xt):wt["set"+lt](xt)},ot.prototype.update=function(lt){var wt=z(lt&&lt.useUTC,!0);this.options=lt=et(!0,this.options||{},lt),this.Date=lt.Date||G.Date||Date,this.timezoneOffset=(this.useUTC=wt)&&lt.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=wt&&!(!lt.getTimezoneOffset&&!lt.timezone)},ot.prototype.makeTime=function(lt,wt,xt,Ot,Tt,Et){if(this.useUTC){var A=this.Date.UTC.apply(0,arguments),o=this.getTimezoneOffset(A),c=this.getTimezoneOffset(A+=o);o!==c?A+=c-o:o-36e5!==this.getTimezoneOffset(A-36e5)||it||(A-=36e5)}else A=new this.Date(lt,wt,z(xt,1),z(Ot,0),z(Tt,0),z(Et,0)).getTime();return A},ot.prototype.timezoneOffsetFunction=function(){var lt=this,wt=this.options,xt=wt.moment||G.moment;if(!this.useUTC)return function(Ot){return 6e4*new Date(Ot.toString()).getTimezoneOffset()};if(wt.timezone){if(xt)return function(Ot){return 6e4*-xt.tz(Ot,wt.timezone).utcOffset()};Z(25)}return this.useUTC&&wt.getTimezoneOffset?function(Ot){return 6e4*wt.getTimezoneOffset(Ot.valueOf())}:function(){return 6e4*(lt.timezoneOffset||0)}},ot.prototype.dateFormat=function(lt,wt,xt){if(!rt(wt)||isNaN(wt))return b.defaultOptions.lang&&b.defaultOptions.lang.invalidDate||"";lt=z(lt,"%Y-%m-%d %H:%M:%S");var Ot=this,Tt=new this.Date(wt),Et=this.get("Hours",Tt),A=this.get("Day",Tt),o=this.get("Date",Tt),c=this.get("Month",Tt),g=this.get("FullYear",Tt),p=b.defaultOptions.lang,w=p&&p.weekdays,S=p&&p.shortWeekdays;return Tt=H({a:S?S[A]:w[A].substr(0,3),A:w[A],d:X(o),e:X(o,2," "),w:A,b:p.shortMonths[c],B:p.months[c],m:X(c+1),o:c+1,y:g.toString().substr(2,2),Y:g,H:X(Et),k:Et,I:X(Et%12||12),l:Et%12||12,M:X(this.get("Minutes",Tt)),p:12>Et?"AM":"PM",P:12>Et?"am":"pm",S:X(Tt.getSeconds()),L:X(Math.floor(wt%1e3),3)},b.dateFormats),B(Tt,function(T,C){for(;-1!==lt.indexOf("%"+C);)lt=lt.replace("%"+C,"function"==typeof T?T.call(Ot,wt):T)}),xt?lt.substr(0,1).toUpperCase()+lt.substr(1):lt},ot.prototype.resolveDTLFormat=function(lt){return F(lt,!0)?lt:{main:(lt=Y(lt))[0],from:lt[1],to:lt[2]}},ot.prototype.getTimeTicks=function(lt,wt,xt,Ot){var p,Tt=this,Et=[],A={},o=new Tt.Date(wt),c=lt.unitRange,g=lt.count||1;if(Ot=z(Ot,1),rt(wt)){if(Tt.set("Milliseconds",o,c>=q.second?0:g*Math.floor(Tt.get("Milliseconds",o)/g)),c>=q.second&&Tt.set("Seconds",o,c>=q.minute?0:g*Math.floor(Tt.get("Seconds",o)/g)),c>=q.minute&&Tt.set("Minutes",o,c>=q.hour?0:g*Math.floor(Tt.get("Minutes",o)/g)),c>=q.hour&&Tt.set("Hours",o,c>=q.day?0:g*Math.floor(Tt.get("Hours",o)/g)),c>=q.day&&Tt.set("Date",o,c>=q.month?1:Math.max(1,g*Math.floor(Tt.get("Date",o)/g))),c>=q.month){Tt.set("Month",o,c>=q.year?0:g*Math.floor(Tt.get("Month",o)/g));var w=Tt.get("FullYear",o)}c>=q.year&&Tt.set("FullYear",o,w-w%g),c===q.week&&(w=Tt.get("Day",o),Tt.set("Date",o,Tt.get("Date",o)-w+Ot+(w<Ot?-7:0))),w=Tt.get("FullYear",o),Ot=Tt.get("Month",o);var S=Tt.get("Date",o),T=Tt.get("Hours",o);for(wt=o.getTime(),!Tt.variableTimezone&&Tt.useUTC||!rt(xt)||(p=xt-wt>4*q.month||Tt.getTimezoneOffset(wt)!==Tt.getTimezoneOffset(xt)),wt=o.getTime(),o=1;wt<xt;)Et.push(wt),wt=c===q.year?Tt.makeTime(w+o*g,0):c===q.month?Tt.makeTime(w,Ot+o*g):!p||c!==q.day&&c!==q.week?p&&c===q.hour&&1<g?Tt.makeTime(w,Ot,S,T+o*g):wt+c*g:Tt.makeTime(w,Ot,S+o*g*(c===q.day?1:7)),o++;Et.push(wt),c<=q.hour&&1e4>Et.length&&Et.forEach(function(C){C%18e5==0&&"000000000"===Tt.dateFormat("%H%M%S%L",C)&&(A[C]="day")})}return Et.info=H(lt,{higherRanks:A,totalRange:c*g}),Et},ot.prototype.getDateFormat=function(lt,wt,xt,Ot){var Tt=this.dateFormat("%m-%d %H:%M:%S.%L",wt),Et={millisecond:15,second:12,minute:9,hour:6,day:3},A="millisecond";for(o in q){if(lt===q.week&&+this.dateFormat("%w",wt)===xt&&"00:00:00.000"===Tt.substr(6)){var o="week";break}if(q[o]>lt){o=A;break}if(Et[o]&&Tt.substr(Et[o])!=="01-01 00:00:00.000".substr(Et[o]))break;"week"!==o&&(A=o)}if(o)var c=this.resolveDTLFormat(Ot[o]).main;return c},ot}(),W}),J(tt,"Core/DefaultOptions.js",[tt["Core/Chart/ChartDefaults.js"],tt["Core/Color/Color.js"],tt["Core/Globals.js"],tt["Core/Color/Palettes.js"],tt["Core/Time.js"],tt["Core/Utilities.js"]],function(b,W,G,rt,Z,H){W=W.parse;var F=H.merge,et={colors:rt.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:b,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:G.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:G.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:W("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"12px",whiteSpace:"nowrap"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};et.chart.styledMode=!1;var B=new Z(F(et.global,et.time));return{defaultOptions:et,defaultTime:B,getOptions:function(){return et},setOptions:function(X){return F(!0,et,X),(X.time||X.global)&&(G.time?G.time.update(F(et.global,et.time,X.global,X.time)):G.time=B),et}}}),J(tt,"Core/Animation/Fx.js",[tt["Core/Color/Color.js"],tt["Core/Globals.js"],tt["Core/Utilities.js"]],function(b,W,G){var rt=b.parse,Z=W.win,H=G.isNumber,F=G.objectEach;return function(){function et(B,X,z){this.pos=NaN,this.options=X,this.elem=B,this.prop=z}return et.prototype.dSetter=function(){var B=this.paths,X=B&&B[0];B=B&&B[1];var z=this.now||0,Y=[];if(1!==z&&X&&B)if(X.length===B.length&&1>z)for(var q=0;q<B.length;q++){for(var U=X[q],it=B[q],ot=[],lt=0;lt<it.length;lt++){var wt=U[lt],xt=it[lt];ot[lt]=H(wt)&&H(xt)&&("A"!==it[0]||4!==lt&&5!==lt)?wt+z*(xt-wt):xt}Y.push(ot)}else Y=B;else Y=this.toD||[];this.elem.attr("d",Y,void 0,!0)},et.prototype.update=function(){var B=this.elem,X=this.prop,z=this.now,Y=this.options.step;this[X+"Setter"]?this[X+"Setter"]():B.attr?B.element&&B.attr(X,z,null,!0):B.style[X]=z+this.unit,Y&&Y.call(B,z,this)},et.prototype.run=function(B,X,z){var Y=this,q=Y.options,U=function(lt){return!U.stopped&&Y.step(lt)},it=Z.requestAnimationFrame||function(lt){setTimeout(lt,13)},ot=function(){for(var lt=0;lt<et.timers.length;lt++)et.timers[lt]()||et.timers.splice(lt--,1);et.timers.length&&it(ot)};B!==X||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=B,this.end=X,this.unit=z,this.now=this.start,this.pos=0,U.elem=this.elem,U.prop=this.prop,U()&&1===et.timers.push(U)&&it(ot)):(delete q.curAnim[this.prop],q.complete&&0===Object.keys(q.curAnim).length&&q.complete.call(this.elem))},et.prototype.step=function(B){var X=+new Date,z=this.options,Y=this.elem,q=z.complete,U=z.duration,it=z.curAnim;if(Y.attr&&!Y.element)B=!1;else if(B||X>=U+this.startTime){this.now=this.end,this.pos=1,this.update();var ot=it[this.prop]=!0;F(it,function(lt){!0!==lt&&(ot=!1)}),ot&&q&&q.call(Y),B=!1}else this.pos=z.easing((X-this.startTime)/U),this.now=this.start+(this.end-this.start)*this.pos,this.update(),B=!0;return B},et.prototype.initPath=function(B,X,z){function Y(Tt,Et){for(;Tt.length<Ot;){var A=Tt[0],o=Et[Ot-Tt.length];o&&"M"===A[0]&&(Tt[0]="C"===o[0]?["C",A[1],A[2],A[1],A[2],A[1],A[2]]:["L",A[1],A[2]]),Tt.unshift(A),ot&&(A=Tt.pop(),Tt.push(Tt[Tt.length-1],A))}}function q(Tt,Et){for(;Tt.length<Ot;)if("C"===(Et=Tt[Math.floor(Tt.length/lt)-1].slice())[0]&&(Et[1]=Et[5],Et[2]=Et[6]),ot){var A=Tt[Math.floor(Tt.length/lt)].slice();Tt.splice(Tt.length/2,0,Et,A)}else Tt.push(Et)}var U=B.startX,it=B.endX;z=z.slice();var ot=B.isArea,lt=ot?2:1;if(!(X=X&&X.slice()))return[z,z];if(U&&it&&it.length){for(B=0;B<U.length;B++){if(U[B]===it[0]){var wt=B;break}if(U[0]===it[it.length-U.length+B]){wt=B;var xt=!0;break}if(U[U.length-1]===it[it.length-U.length+B]){wt=U.length-B;break}}void 0===wt&&(X=[])}if(X.length&&H(wt)){var Ot=z.length+wt*lt;xt?(Y(X,z),q(z,X)):(Y(z,X),q(X,z))}return[X,z]},et.prototype.fillSetter=function(){et.prototype.strokeSetter.apply(this,arguments)},et.prototype.strokeSetter=function(){this.elem.attr(this.prop,rt(this.start).tweenTo(rt(this.end),this.pos),null,!0)},et.timers=[],et}()}),J(tt,"Core/Animation/AnimationUtilities.js",[tt["Core/Animation/Fx.js"],tt["Core/Utilities.js"]],function(b,W){function G(q){return B(q)?X({duration:500,defer:0},q):{duration:q?500:0,defer:0}}function rt(q,U){for(var it=b.timers.length;it--;)b.timers[it].elem!==q||U&&U!==b.timers[it].prop||(b.timers[it].stopped=!0)}var Z=W.defined,H=W.getStyle,F=W.isArray,et=W.isNumber,B=W.isObject,X=W.merge,z=W.objectEach,Y=W.pick;return{animate:function(q,U,it){var ot,wt,xt,lt="";if(!B(it)){var Ot=arguments;it={duration:Ot[2],easing:Ot[3],complete:Ot[4]}}et(it.duration)||(it.duration=400),it.easing="function"==typeof it.easing?it.easing:Math[it.easing]||Math.easeInOutSine,it.curAnim=X(U),z(U,function(Tt,Et){rt(q,Et),xt=new b(q,it,Et),wt=void 0,"d"===Et&&F(U.d)?(xt.paths=xt.initPath(q,q.pathArray,U.d),xt.toD=U.d,ot=0,wt=1):q.attr?ot=q.attr(Et):(ot=parseFloat(H(q,Et))||0,"opacity"!==Et&&(lt="px")),wt||(wt=Tt),"string"==typeof wt&&wt.match("px")&&(wt=wt.replace(/px/g,"")),xt.run(ot,wt,lt)})},animObject:G,getDeferredAnimation:function(q,U,it){var ot=G(U),lt=0,wt=0;return(it?[it]:q.series).forEach(function(xt){xt=G(xt.options.animation),lt=U&&Z(U.defer)?ot.defer:Math.max(lt,xt.duration+xt.defer),wt=Math.min(ot.duration,xt.duration)}),q.renderer.forExport&&(lt=0),{defer:Math.max(0,lt-wt),duration:Math.min(lt,wt)}},setAnimation:function(q,U){U.renderer.globalAnimation=Y(q,U.options.chart.animation,!0)},stop:rt}}),J(tt,"Core/Renderer/HTML/AST.js",[tt["Core/Globals.js"],tt["Core/Utilities.js"]],function(b,W){var G=b.SVG_NS,rt=W.attr,Z=W.createElement,H=W.discardElement,F=W.error,et=W.isString,B=W.objectEach,X=W.splat;try{var z=!!(new DOMParser).parseFromString("","text/html")}catch(Y){z=!1}return function(){function Y(q){this.nodes="string"==typeof q?this.parseMarkup(q):q}return Y.filterUserAttributes=function(q){return B(q,function(U,it){var ot=!0;-1===Y.allowedAttributes.indexOf(it)&&(ot=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(it)&&(ot=et(U)&&Y.allowedReferences.some(function(lt){return 0===U.indexOf(lt)})),ot||(F("Highcharts warning: Invalid attribute '"+it+"' in config"),delete q[it])}),q},Y.setElementHTML=function(q,U){q.innerHTML="",U&&new Y(U).addToDOM(q)},Y.prototype.addToDOM=function(q){return function U(it,ot){var lt;return X(it).forEach(function(wt){var xt=wt.tagName,Ot=wt.textContent?b.doc.createTextNode(wt.textContent):void 0;if(xt)if("#text"===xt)var Tt=Ot;else if(-1!==Y.allowedTags.indexOf(xt)){xt=b.doc.createElementNS("svg"===xt?G:ot.namespaceURI||G,xt);var Et=wt.attributes||{};B(wt,function(A,o){"tagName"!==o&&"attributes"!==o&&"children"!==o&&"textContent"!==o&&(Et[o]=A)}),rt(xt,Y.filterUserAttributes(Et)),Ot&&xt.appendChild(Ot),U(wt.children||[],xt),Tt=xt}else F("Highcharts warning: Invalid tagName '"+xt+"' in config");Tt&&ot.appendChild(Tt),lt=Tt}),lt}(this.nodes,q)},Y.prototype.parseMarkup=function(q){var U=[];if(q=q.trim(),z)q=(new DOMParser).parseFromString(q,"text/html");else{var it=Z("div");it.innerHTML=q,q={body:it}}var ot=function(lt,wt){var xt=lt.nodeName.toLowerCase(),Ot={tagName:xt};if("#text"===xt&&(Ot.textContent=lt.textContent||""),xt=lt.attributes){var Tt={};[].forEach.call(xt,function(A){Tt[A.name]=A.value}),Ot.attributes=Tt}if(lt.childNodes.length){var Et=[];[].forEach.call(lt.childNodes,function(A){ot(A,Et)}),Et.length&&(Ot.children=Et)}wt.push(Ot)};return[].forEach.call(q.body.childNodes,function(lt){return ot(lt,U)}),it&&H(it),U},Y.allowedAttributes="aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align textAnchor textLength title type valign width x x1 x2 y y1 y2 zIndex".split(" "),Y.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),Y.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text thead tbody tspan td th tr u ul #text".split(" "),Y}()}),J(tt,"Core/FormatUtilities.js",[tt["Core/DefaultOptions.js"],tt["Core/Utilities.js"]],function(b,W){function G(X,z,Y,q){z=+z;var U=rt.lang,it=((X=+X||0).toString().split(".")[1]||"").split("e")[0].length,ot=X.toString().split("e"),lt=z;if(-1===z)z=Math.min(it,20);else if(F(z)){if(z&&ot[1]&&0>ot[1]){var wt=z+ +ot[1];0<=wt?(ot[0]=(+ot[0]).toExponential(wt).split("e")[0],z=wt):(ot[0]=ot[0].split(".")[0]||0,X=20>z?(ot[0]*Math.pow(10,ot[1])).toFixed(z):0,ot[1]=0)}}else z=2;wt=(Math.abs(ot[1]?ot[0]:X)+Math.pow(10,-Math.max(z,it)-1)).toFixed(z);var xt=3<(it=String(B(wt))).length?it.length%3:0;return Y=et(Y,U.decimalPoint),q=et(q,U.thousandsSep),X=(0>X?"-":"")+(xt?it.substr(0,xt)+q:""),X=0>+ot[1]&&!lt?"0":X+it.substr(xt).replace(/(\d{3})(?=\d)/g,"$1"+q),z&&(X+=Y+wt.slice(-z)),ot[1]&&0!=+X&&(X+="e"+ot[1]),X}var rt=b.defaultOptions,Z=b.defaultTime,H=W.getNestedProperty,F=W.isNumber,et=W.pick,B=W.pInt;return{dateFormat:function(X,z,Y){return Z.dateFormat(X,z,Y)},format:function(X,z,Y){var q="{",U=!1,it=/f$/,ot=/\.([0-9])/,lt=rt.lang,wt=Y&&Y.time||Z;Y=Y&&Y.numberFormatter||G;for(var xt=[];X;){var Ot=X.indexOf(q);if(-1===Ot)break;var Tt=X.slice(0,Ot);if(U){if(Tt=Tt.split(":"),q=H(Tt.shift()||"",z),Tt.length&&"number"==typeof q)if(Tt=Tt.join(":"),it.test(Tt)){var Et=parseInt((Tt.match(ot)||["","-1"])[1],10);null!==q&&(q=Y(q,Et,lt.decimalPoint,-1<Tt.indexOf(",")?lt.thousandsSep:""))}else q=wt.dateFormat(Tt,q);xt.push(q)}else xt.push(Tt);X=X.slice(Ot+1),q=(U=!U)?"}":"{"}return xt.push(X),xt.join("")},numberFormat:G}}),J(tt,"Core/Renderer/RendererUtilities.js",[tt["Core/Utilities.js"]],function(b){var Z,W=b.clamp,G=b.pick,rt=b.stableSort;return(Z||(Z={})).distribute=function F(et,B,X){var it,z=et,Y=z.reducedLen||B,q=function(xt,Ot){return(Ot.rank||0)-(xt.rank||0)},U=function(xt,Ot){return xt.target-Ot.target},ot=!0,lt=[],wt=0;for(it=et.length;it--;)wt+=et[it].size;if(wt>Y){for(rt(et,q),wt=it=0;wt<=Y;)wt+=et[it].size,it++;lt=et.splice(it-1,et.length)}for(rt(et,U),et=et.map(function(xt){return{size:xt.size,targets:[xt.target],align:G(xt.align,.5)}});ot;){for(it=et.length;it--;)Y=et[it],q=(Math.min.apply(0,Y.targets)+Math.max.apply(0,Y.targets))/2,Y.pos=W(q-Y.size*Y.align,0,B-Y.size);for(it=et.length,ot=!1;it--;)0<it&&et[it-1].pos+et[it-1].size>et[it].pos&&(et[it-1].size+=et[it].size,et[it-1].targets=et[it-1].targets.concat(et[it].targets),et[it-1].align=.5,et[it-1].pos+et[it-1].size>B&&(et[it-1].pos=B-et[it-1].size),et.splice(it,1),ot=!0)}return z.push.apply(z,lt),it=0,et.some(function(xt){var Ot=0;return(xt.targets||[]).some(function(){return z[it].pos=xt.pos+Ot,void 0!==X&&Math.abs(z[it].pos-z[it].target)>X?(z.slice(0,it+1).forEach(function(Tt){return delete Tt.pos}),z.reducedLen=(z.reducedLen||B)-.1*B,z.reducedLen>.1*B&&F(z,B,X),!0):(Ot+=z[it].size,it++,!1)})}),rt(z,U),z},Z}),J(tt,"Core/Renderer/SVG/SVGElement.js",[tt["Core/Animation/AnimationUtilities.js"],tt["Core/Renderer/HTML/AST.js"],tt["Core/Color/Color.js"],tt["Core/Globals.js"],tt["Core/Utilities.js"]],function(b,W,G,rt,Z){var H=b.animate,F=b.animObject,et=b.stop,B=rt.deg2rad,X=rt.doc,z=rt.noop,Y=rt.svg,q=rt.SVG_NS,U=rt.win,it=Z.addEvent,ot=Z.attr,lt=Z.createElement,wt=Z.css,xt=Z.defined,Ot=Z.erase,Tt=Z.extend,Et=Z.fireEvent,A=Z.isArray,o=Z.isFunction,c=Z.isNumber,g=Z.isString,p=Z.merge,w=Z.objectEach,S=Z.pick,T=Z.pInt,C=Z.syncTimeout,h=Z.uniqueKey;return b=function(){function k(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=q,this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" ")}return k.prototype._defaultGetter=function(ft){return ft=S(this[ft+"Value"],this[ft],this.element?this.element.getAttribute(ft):null,0),/^[\-0-9\.]+$/.test(ft)&&(ft=parseFloat(ft)),ft},k.prototype._defaultSetter=function(ft,at,st){st.setAttribute(at,ft)},k.prototype.add=function(ft){var at=this.renderer,st=this.element;if(ft&&(this.parentGroup=ft),this.parentInverted=ft&&ft.inverted,void 0!==this.textStr&&"text"===this.element.nodeName&&at.buildText(this),this.added=!0,!ft||ft.handleZ||this.zIndex)var Mt=this.zIndexSetter();return Mt||(ft?ft.element:at.box).appendChild(st),this.onAdd&&this.onAdd(),this},k.prototype.addClass=function(ft,at){var st=at?"":this.attr("class")||"";return(ft=(ft||"").split(/ /g).reduce(function(Mt,St){return-1===st.indexOf(St)&&Mt.push(St),Mt},st?[st]:[]).join(" "))!==st&&this.attr("class",ft),this},k.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},k.prototype.align=function(ft,at,st){var te,Vt,Dt,Mt={},St=this.renderer,Xt=St.alignedObjects;ft?(this.alignOptions=ft,this.alignByTranslate=at,(!st||g(st))&&(this.alignTo=te=st||"renderer",Ot(Xt,this),Xt.push(this),st=void 0)):(ft=this.alignOptions,at=this.alignByTranslate,te=this.alignTo),st=S(st,St[te],"scrollablePlotBox"===te?St.plotBox:void 0,St);var ve=ft.verticalAlign;return St=(st.x||0)+(ft.x||0),Xt=(st.y||0)+(ft.y||0),"right"===(te=ft.align)?Vt=1:"center"===te&&(Vt=2),Vt&&(St+=(st.width-(ft.width||0))/Vt),Mt[at?"translateX":"x"]=Math.round(St),"bottom"===ve?Dt=1:"middle"===ve&&(Dt=2),Dt&&(Xt+=(st.height-(ft.height||0))/Dt),Mt[at?"translateY":"y"]=Math.round(Xt),this[this.placed?"animate":"attr"](Mt),this.placed=!0,this.alignAttr=Mt,this},k.prototype.alignSetter=function(ft){var at={left:"start",center:"middle",right:"end"};at[ft]&&(this.alignValue=ft,this.element.setAttribute("text-anchor",at[ft]))},k.prototype.animate=function(ft,at,st){var Mt=this,St=F(S(at,this.renderer.globalAnimation,!0));return at=St.defer,S(X.hidden,X.msHidden,X.webkitHidden,!1)&&(St.duration=0),0!==St.duration?(st&&(St.complete=st),C(function(){Mt.element&&H(Mt,ft,St)},at)):(this.attr(ft,void 0,st),w(ft,function(Xt,te){St.step&&St.step.call(this,Xt,{prop:te,pos:1,elem:this})},this)),this},k.prototype.applyTextOutline=function(ft){var at=this.element;-1!==ft.indexOf("contrast")&&(ft=ft.replace(/contrast/g,this.renderer.getContrast(at.style.fill)));var st=ft.split(" ");if(ft=st[st.length-1],(st=st[0])&&"none"!==st&&rt.svg){this.fakeTS=!0,this.ySetter=this.xSetter,st=st.replace(/(^[\d\.]+)(.*?)$/g,function(Xt,te,Vt){return 2*Number(te)+Vt}),this.removeTextOutline();var Mt=X.createElementNS(q,"tspan");ot(Mt,{class:"highcharts-text-outline",fill:ft,stroke:ft,"stroke-width":st,"stroke-linejoin":"round"}),[].forEach.call(at.childNodes,function(Xt){var te=Xt.cloneNode(!0);te.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(function(Vt){return te.removeAttribute(Vt)}),Mt.appendChild(te)});var St=X.createElementNS(q,"tspan");St.textContent="\u200b",["x","y"].forEach(function(Xt){var te=at.getAttribute(Xt);te&&St.setAttribute(Xt,te)}),Mt.appendChild(St),at.insertBefore(Mt,at.firstChild)}},k.prototype.attr=function(ft,at,st,Mt){var te,Dt,ve,St=this.element,Xt=this.symbolCustomAttribs,Vt=this;if("string"==typeof ft&&void 0!==at){var Gt=ft;(ft={})[Gt]=at}return"string"==typeof ft?Vt=(this[ft+"Getter"]||this._defaultGetter).call(this,ft,St):(w(ft,function(Nt,Kt){Dt=!1,Mt||et(this,Kt),this.symbolName&&-1!==Xt.indexOf(Kt)&&(te||(this.symbolAttr(ft),te=!0),Dt=!0),!this.rotation||"x"!==Kt&&"y"!==Kt||(this.doTransform=!0),Dt||((ve=this[Kt+"Setter"]||this._defaultSetter).call(this,Nt,Kt,St),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(Kt)&&this.updateShadows(Kt,Nt,ve))},this),this.afterSetters()),st&&st.call(this),Vt},k.prototype.clip=function(ft){return this.attr("clip-path",ft?"url("+this.renderer.url+"#"+ft.id+")":"none")},k.prototype.crisp=function(ft,at){at=at||ft.strokeWidth||0;var st=Math.round(at)%2/2;return ft.x=Math.floor(ft.x||this.x||0)+st,ft.y=Math.floor(ft.y||this.y||0)+st,ft.width=Math.floor((ft.width||this.width||0)-2*st),ft.height=Math.floor((ft.height||this.height||0)-2*st),xt(ft.strokeWidth)&&(ft.strokeWidth=at),ft},k.prototype.complexColor=function(ft,at,st){var St,Xt,te,Vt,Dt,ve,Gt,Nt,Kt,fe,Ne,Mt=this.renderer,zt=[];Et(this.renderer,"complexColor",{args:arguments},function(){if(ft.radialGradient?Xt="radialGradient":ft.linearGradient&&(Xt="linearGradient"),Xt){if(Dt=Mt.gradients,ve=ft.stops,Kt=st.radialReference,A(te=ft[Xt])&&(ft[Xt]=te={x1:te[0],y1:te[1],x2:te[2],y2:te[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===Xt&&Kt&&!xt(te.gradientUnits)&&(te=p(te,Mt.getRadialAttr(Kt,Vt=te),{gradientUnits:"userSpaceOnUse"})),w(te,function(Se,Fi){"id"!==Fi&&zt.push(Fi,Se)}),w(ve,function(Se){zt.push(Se)}),zt=zt.join(","),Dt[zt])fe=Dt[zt].attr("id");else{te.id=fe=h();var Pt=Dt[zt]=Mt.createElement(Xt).attr(te).add(Mt.defs);Pt.radAttr=Vt,Pt.stops=[],ve.forEach(function(Se){0===Se[1].indexOf("rgba")?(St=G.parse(Se[1]),Gt=St.get("rgb"),Nt=St.get("a")):(Gt=Se[1],Nt=1),Se=Mt.createElement("stop").attr({offset:Se[0],"stop-color":Gt,"stop-opacity":Nt}).add(Pt),Pt.stops.push(Se)})}st.setAttribute(at,Ne="url("+Mt.url+"#"+fe+")"),st.gradient=zt,ft.toString=function(){return Ne}}})},k.prototype.css=function(ft){var at=this.styles,st={},Mt=this.element,St=["textOutline","textOverflow","width"],Xt="",te=!at;if(ft&&ft.color&&(ft.fill=ft.color),at&&w(ft,function(ve,Gt){at&&at[Gt]!==ve&&(st[Gt]=ve,te=!0)}),te){if(at&&(ft=Tt(at,st)),ft)if(null===ft.width||"auto"===ft.width)delete this.textWidth;else if("text"===Mt.nodeName.toLowerCase()&&ft.width)var Vt=this.textWidth=T(ft.width);if(this.styles=ft,Vt&&!Y&&this.renderer.forExport&&delete ft.width,Mt.namespaceURI===this.SVG_NS){var Dt=function(ve,Gt){return"-"+Gt.toLowerCase()};w(ft,function(ve,Gt){-1===St.indexOf(Gt)&&(Xt+=Gt.replace(/([A-Z])/g,Dt)+":"+ve+";")}),Xt&&ot(Mt,"style",Xt)}else wt(Mt,ft);this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),ft&&ft.textOutline&&this.applyTextOutline(ft.textOutline))}return this},k.prototype.dashstyleSetter=function(ft){var at=this["stroke-width"];if("inherit"===at&&(at=1),ft=ft&&ft.toLowerCase()){var st=ft.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(ft=st.length;ft--;)st[ft]=""+T(st[ft])*S(at,NaN);ft=st.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",ft)}},k.prototype.destroy=function(){var ft=this,at=ft.element||{},st=ft.renderer,Mt=at.ownerSVGElement,St=st.isSVG&&"SPAN"===at.nodeName&&ft.parentGroup||void 0;if(at.onclick=at.onmouseout=at.onmouseover=at.onmousemove=at.point=null,et(ft),ft.clipPath&&Mt){var Xt=ft.clipPath;[].forEach.call(Mt.querySelectorAll("[clip-path],[CLIP-PATH]"),function(te){-1<te.getAttribute("clip-path").indexOf(Xt.element.id)&&te.removeAttribute("clip-path")}),ft.clipPath=Xt.destroy()}if(ft.stops){for(Mt=0;Mt<ft.stops.length;Mt++)ft.stops[Mt].destroy();ft.stops.length=0,ft.stops=void 0}for(ft.safeRemoveChild(at),st.styledMode||ft.destroyShadows();St&&St.div&&0===St.div.childNodes.length;)at=St.parentGroup,ft.safeRemoveChild(St.div),delete St.div,St=at;ft.alignTo&&Ot(st.alignedObjects,ft),w(ft,function(te,Vt){ft[Vt]&&ft[Vt].parentGroup===ft&&ft[Vt].destroy&&ft[Vt].destroy(),delete ft[Vt]})},k.prototype.destroyShadows=function(){(this.shadows||[]).forEach(function(ft){this.safeRemoveChild(ft)},this),this.shadows=void 0},k.prototype.destroyTextPath=function(ft,at){var st=ft.getElementsByTagName("text")[0];if(st){if(st.removeAttribute("dx"),st.removeAttribute("dy"),at.element.setAttribute("id",""),this.textPathWrapper&&st.getElementsByTagName("textPath").length){for(ft=this.textPathWrapper.element.childNodes;ft.length;)st.appendChild(ft[0]);st.removeChild(this.textPathWrapper.element)}}else(ft.getAttribute("dx")||ft.getAttribute("dy"))&&(ft.removeAttribute("dx"),ft.removeAttribute("dy"));this.textPathWrapper&&(this.textPathWrapper=this.textPathWrapper.destroy())},k.prototype.dSetter=function(ft,at,st){A(ft)&&("string"==typeof ft[0]&&(ft=this.renderer.pathToSegments(ft)),this.pathArray=ft,ft=ft.reduce(function(Mt,St,Xt){return St&&St.join?(Xt?Mt+" ":"")+St.join(" "):(St||"").toString()},"")),/(NaN| {2}|^$)/.test(ft)&&(ft="M 0 0"),this[at]!==ft&&(st.setAttribute(at,ft),this[at]=ft)},k.prototype.fadeOut=function(ft){var at=this;at.animate({opacity:0},{duration:S(ft,150),complete:function(){at.attr({y:-9999}).hide()}})},k.prototype.fillSetter=function(ft,at,st){"string"==typeof ft?st.setAttribute(at,ft):ft&&this.complexColor(ft,at,st)},k.prototype.getBBox=function(ft,at){var st=this.renderer,Mt=this.element,St=this.styles,Xt=this.textStr,te=st.cache,Vt=st.cacheKeys,Dt=Mt.namespaceURI===this.SVG_NS;at=S(at,this.rotation,0);var Gt,ve=st.styledMode?Mt&&k.prototype.getStyle.call(Mt,"font-size"):St&&St.fontSize;if(xt(Xt)){var Nt=Xt.toString();-1===Nt.indexOf("<")&&(Nt=Nt.replace(/[0-9]/g,"0")),Nt+=["",at,ve,this.textWidth,St&&St.textOverflow,St&&St.fontWeight].join()}if(Nt&&!ft&&(Gt=te[Nt]),!Gt){if(Dt||st.forExport){try{var Kt=this.fakeTS&&function(fe){var zt=Mt.querySelector(".highcharts-text-outline");zt&&wt(zt,{display:fe})};o(Kt)&&Kt("none"),Gt=Mt.getBBox?Tt({},Mt.getBBox()):{width:Mt.offsetWidth,height:Mt.offsetHeight},o(Kt)&&Kt("")}catch(fe){}(!Gt||0>Gt.width)&&(Gt={width:0,height:0})}else Gt=this.htmlGetBBox();if(st.isSVG&&(ft=Gt.width,st=Gt.height,Dt&&(Gt.height=st={"11px,17":14,"13px,20":16}[St&&St.fontSize+","+Math.round(st)]||st),at&&(St=at*B,Gt.width=Math.abs(st*Math.sin(St))+Math.abs(ft*Math.cos(St)),Gt.height=Math.abs(st*Math.cos(St))+Math.abs(ft*Math.sin(St)))),Nt&&(""===Xt||0<Gt.height)){for(;250<Vt.length;)delete te[Vt.shift()];te[Nt]||Vt.push(Nt),te[Nt]=Gt}}return Gt},k.prototype.getStyle=function(ft){return U.getComputedStyle(this.element||this,"").getPropertyValue(ft)},k.prototype.hasClass=function(ft){return-1!==(""+this.attr("class")).split(" ").indexOf(ft)},k.prototype.hide=function(ft){return this.attr(ft?{y:-9999}:{visibility:"hidden"}),this},k.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}},k.prototype.init=function(ft,at){this.element="span"===at?lt(at):X.createElementNS(this.SVG_NS,at),this.renderer=ft,Et(this,"afterInit")},k.prototype.invert=function(ft){return this.inverted=ft,this.updateTransform(),this},k.prototype.on=function(ft,at){var st=this.onEvents;return st[ft]&&st[ft](),st[ft]=it(this.element,ft,at),this},k.prototype.opacitySetter=function(ft,at,st){this.opacity=ft=Number(Number(ft).toFixed(3)),st.setAttribute(at,ft)},k.prototype.removeClass=function(ft){return this.attr("class",(""+this.attr("class")).replace(g(ft)?new RegExp("(^| )"+ft+"( |$)"):ft," ").replace(/ +/g," ").trim())},k.prototype.removeTextOutline=function(){var ft=this.element.querySelector("tspan.highcharts-text-outline");ft&&this.safeRemoveChild(ft)},k.prototype.safeRemoveChild=function(ft){var at=ft.parentNode;at&&at.removeChild(ft)},k.prototype.setRadialReference=function(ft){var at=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=ft,at&&at.radAttr&&at.animate(this.renderer.getRadialAttr(ft,at.radAttr)),this},k.prototype.setTextPath=function(ft,at){var st=this.element,Mt=this.text?this.text.element:st,St={textAnchor:"text-anchor"},Xt=!1,te=this.textPathWrapper,Vt=!te;at=p(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},at);var Dt=W.filterUserAttributes(at.attributes);if(ft&&at&&at.enabled){te&&null===te.element.parentNode?(Vt=!0,te=te.destroy()):te&&this.removeTextOutline.call(te.parentGroup),this.options&&this.options.padding&&(Dt.dx=-this.options.padding),te||(this.textPathWrapper=te=this.renderer.createElement("textPath"),Xt=!0);var ve=te.element;if((at=ft.element.getAttribute("id"))||ft.element.setAttribute("id",at=h()),Vt)for(Mt.setAttribute("y",0),c(Dt.dx)&&Mt.setAttribute("x",-Dt.dx),ft=[].slice.call(Mt.childNodes),Vt=0;Vt<ft.length;Vt++){var Gt=ft[Vt];Gt.nodeType!==U.Node.TEXT_NODE&&"tspan"!==Gt.nodeName||ve.appendChild(Gt)}Xt&&te&&te.add({element:Mt}),ve.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+at),xt(Dt.dy)&&(ve.parentNode.setAttribute("dy",Dt.dy),delete Dt.dy),xt(Dt.dx)&&(ve.parentNode.setAttribute("dx",Dt.dx),delete Dt.dx),w(Dt,function(Nt,Kt){ve.setAttribute(St[Kt]||Kt,Nt)}),st.removeAttribute("transform"),this.removeTextOutline.call(te),this.text&&!this.renderer.styledMode&&this.attr({fill:"none","stroke-width":0}),this.applyTextOutline=this.updateTransform=z}else te&&(delete this.updateTransform,delete this.applyTextOutline,this.destroyTextPath(st,ft),this.updateTransform(),this.options&&this.options.rotation&&this.applyTextOutline(this.options.style.textOutline));return this},k.prototype.shadow=function(ft,at,st){var Dt,Mt=[],St=this.element,Xt=this.oldShadowOptions,te={color:"#000000",offsetX:this.parentInverted?-1:1,offsetY:this.parentInverted?-1:1,opacity:.15,width:3},Vt=!1;if(!0===ft?Dt=te:"object"==typeof ft&&(Dt=Tt(te,ft)),Dt&&(Dt&&Xt&&w(Dt,function(fe,zt){fe!==Xt[zt]&&(Vt=!0)}),Vt&&this.destroyShadows(),this.oldShadowOptions=Dt),Dt){if(!this.shadows){var ve=Dt.opacity/Dt.width,Gt=this.parentInverted?"translate("+Dt.offsetY+", "+Dt.offsetX+")":"translate("+Dt.offsetX+", "+Dt.offsetY+")";for(te=1;te<=Dt.width;te++){var Nt=St.cloneNode(!1),Kt=2*Dt.width+1-2*te;ot(Nt,{stroke:ft.color||"#000000","stroke-opacity":ve*te,"stroke-width":Kt,transform:Gt,fill:"none"}),Nt.setAttribute("class",(Nt.getAttribute("class")||"")+" highcharts-shadow"),st&&(ot(Nt,"height",Math.max(ot(Nt,"height")-Kt,0)),Nt.cutHeight=Kt),at?at.element.appendChild(Nt):St.parentNode&&St.parentNode.insertBefore(Nt,St),Mt.push(Nt)}this.shadows=Mt}}else this.destroyShadows();return this},k.prototype.show=function(ft){return this.attr({visibility:ft?"inherit":"visible"})},k.prototype.strokeSetter=function(ft,at,st){this[at]=ft,this.stroke&&this["stroke-width"]?(k.prototype.fillSetter.call(this,this.stroke,"stroke",st),st.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===at&&0===ft&&this.hasStroke?(st.removeAttribute("stroke"),this.hasStroke=!1):this.renderer.styledMode&&this["stroke-width"]&&(st.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0)},k.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var ft=this.getStyle("stroke-width"),at=0;if(ft.indexOf("px")===ft.length-2)at=T(ft);else if(""!==ft){var st=X.createElementNS(q,"rect");ot(st,{width:ft,"stroke-width":0}),this.element.parentNode.appendChild(st),at=st.getBBox().width,st.parentNode.removeChild(st)}return at},k.prototype.symbolAttr=function(ft){var at=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach(function(st){at[st]=S(ft[st],at[st])}),at.attr({d:at.renderer.symbols[at.symbolName](at.x,at.y,at.width,at.height,at)})},k.prototype.textSetter=function(ft){ft!==this.textStr&&(delete this.textPxLength,this.textStr=ft,this.added&&this.renderer.buildText(this))},k.prototype.titleSetter=function(ft){var at=this.element,st=at.getElementsByTagName("title")[0]||X.createElementNS(this.SVG_NS,"title");at.insertBefore?at.insertBefore(st,at.firstChild):at.appendChild(st),st.textContent=String(S(ft,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")},k.prototype.toFront=function(){var ft=this.element;return ft.parentNode.appendChild(ft),this},k.prototype.translate=function(ft,at){return this.attr({translateX:ft,translateY:at})},k.prototype.updateShadows=function(ft,at,st){var Mt=this.shadows;if(Mt)for(var St=Mt.length;St--;)st.call(Mt[St],"height"===ft?Math.max(at-(Mt[St].cutHeight||0),0):"d"===ft?this.d:at,ft,Mt[St])},k.prototype.updateTransform=function(){var ft=this.scaleX,at=this.scaleY,st=this.inverted,Mt=this.rotation,St=this.matrix,Xt=this.element,te=this.translateX||0,Vt=this.translateY||0;st&&(te+=this.width,Vt+=this.height),te=["translate("+te+","+Vt+")"],xt(St)&&te.push("matrix("+St.join(",")+")"),st?te.push("rotate(90) scale(-1,1)"):Mt&&te.push("rotate("+Mt+" "+S(this.rotationOriginX,Xt.getAttribute("x"),0)+" "+S(this.rotationOriginY,Xt.getAttribute("y")||0)+")"),(xt(ft)||xt(at))&&te.push("scale("+S(ft,1)+" "+S(at,1)+")"),te.length&&Xt.setAttribute("transform",te.join(" "))},k.prototype.visibilitySetter=function(ft,at,st){"inherit"===ft?st.removeAttribute(at):this[at]!==ft&&st.setAttribute(at,ft),this[at]=ft},k.prototype.xGetter=function(ft){return"circle"===this.element.nodeName&&("x"===ft?ft="cx":"y"===ft&&(ft="cy")),this._defaultGetter(ft)},k.prototype.zIndexSetter=function(ft,at){var st=this.renderer,Mt=this.parentGroup,St=(Mt||st).element||st.box,Xt=this.element;st=St===st.box;var Dt,te=!1,Vt=this.added;if(xt(ft)?(Xt.setAttribute("data-z-index",ft),this[at]===(ft=+ft)&&(Vt=!1)):xt(this[at])&&Xt.removeAttribute("data-z-index"),this[at]=ft,Vt){for((ft=this.zIndex)&&Mt&&(Mt.handleZ=!0),Dt=(at=St.childNodes).length-1;0<=Dt&&!te;Dt--){Vt=(Mt=at[Dt]).getAttribute("data-z-index");var ve=!xt(Vt);Mt!==Xt&&(0>ft&&ve&&!st&&!Dt?(St.insertBefore(Xt,at[Dt]),te=!0):(T(Vt)<=ft||ve&&(!xt(ft)||0<=ft))&&(St.insertBefore(Xt,at[Dt+1]||null),te=!0))}te||(St.insertBefore(Xt,at[st?3:0]||null),te=!0)}return te},k}(),b.prototype["stroke-widthSetter"]=b.prototype.strokeSetter,b.prototype.yGetter=b.prototype.xGetter,b.prototype.matrixSetter=b.prototype.rotationOriginXSetter=b.prototype.rotationOriginYSetter=b.prototype.rotationSetter=b.prototype.scaleXSetter=b.prototype.scaleYSetter=b.prototype.translateXSetter=b.prototype.translateYSetter=b.prototype.verticalAlignSetter=function(k,ft){this[ft]=k,this.doTransform=!0},b}),J(tt,"Core/Renderer/RendererRegistry.js",[tt["Core/Globals.js"]],function(b){var W,G,rt;return(G=W||(W={})).rendererTypes={},G.getRendererType=function(Z){return void 0===Z&&(Z=rt),G.rendererTypes[Z]||G.rendererTypes[rt]},G.registerRendererType=function(Z,H,F){G.rendererTypes[Z]=H,(!rt||F)&&(rt=Z,b.Renderer=H)},W}),J(tt,"Core/Renderer/SVG/SVGLabel.js",[tt["Core/Renderer/SVG/SVGElement.js"],tt["Core/Utilities.js"]],function(b,W){var X,G=this&&this.__extends||(X=function(z,Y){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,U){q.__proto__=U}||function(q,U){for(var it in U)U.hasOwnProperty(it)&&(q[it]=U[it])})(z,Y)},function(z,Y){function q(){this.constructor=z}X(z,Y),z.prototype=null===Y?Object.create(Y):(q.prototype=Y.prototype,new q)}),rt=W.defined,Z=W.extend,H=W.isNumber,F=W.merge,et=W.pick,B=W.removeEvent;return function(X){function z(Y,q,U,it,ot,lt,wt,xt,Ot,Tt){var A,Et=X.call(this)||this;return Et.paddingLeftSetter=Et.paddingSetter,Et.paddingRightSetter=Et.paddingSetter,Et.init(Y,"g"),Et.textStr=q,Et.x=U,Et.y=it,Et.anchorX=lt,Et.anchorY=wt,Et.baseline=Ot,Et.className=Tt,Et.addClass("button"===Tt?"highcharts-no-tooltip":"highcharts-label"),Tt&&Et.addClass("highcharts-"+Tt),Et.text=Y.text(void 0,0,0,xt).attr({zIndex:1}),"string"==typeof ot&&((A=/^url\((.*?)\)$/.test(ot))||Et.renderer.symbols[ot])&&(Et.symbolKey=ot),Et.bBox=z.emptyBBox,Et.padding=3,Et.baselineOffset=0,Et.needsBox=Y.styledMode||A,Et.deferredAttr={},Et.alignFactor=0,Et}return G(z,X),z.prototype.alignSetter=function(Y){(Y={left:0,center:.5,right:1}[Y])!==this.alignFactor&&(this.alignFactor=Y,this.bBox&&H(this.xSetting)&&this.attr({x:this.xSetting}))},z.prototype.anchorXSetter=function(Y,q){this.anchorX=Y,this.boxAttr(q,Math.round(Y)-this.getCrispAdjust()-this.xSetting)},z.prototype.anchorYSetter=function(Y,q){this.anchorY=Y,this.boxAttr(q,Y-this.ySetting)},z.prototype.boxAttr=function(Y,q){this.box?this.box.attr(Y,q):this.deferredAttr[Y]=q},z.prototype.css=function(Y){if(Y){var q={};Y=F(Y),z.textProps.forEach(function(it){void 0!==Y[it]&&(q[it]=Y[it],delete Y[it])}),this.text.css(q);var U="width"in q;"fontSize"in q||"fontWeight"in q?this.updateTextPadding():U&&this.updateBoxSize()}return b.prototype.css.call(this,Y)},z.prototype.destroy=function(){B(this.element,"mouseenter"),B(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),b.prototype.destroy.call(this)},z.prototype.fillSetter=function(Y,q){Y&&(this.needsBox=!0),this.fill=Y,this.boxAttr(q,Y)},z.prototype.getBBox=function(){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();var Y=this.padding,q=et(this.paddingLeft,Y);return{width:this.width,height:this.height,x:this.bBox.x-q,y:this.bBox.y-Y}},z.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2},z.prototype.heightSetter=function(Y){this.heightSetting=Y},z.prototype.onAdd=function(){var Y=this.textStr;this.text.add(this),this.attr({text:rt(Y)?Y:"",x:this.x,y:this.y}),this.box&&rt(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})},z.prototype.paddingSetter=function(Y,q){H(Y)?Y!==this[q]&&(this[q]=Y,this.updateTextPadding()):this[q]=void 0},z.prototype.rSetter=function(Y,q){this.boxAttr(q,Y)},z.prototype.shadow=function(Y){return Y&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(Y)),this},z.prototype.strokeSetter=function(Y,q){this.stroke=Y,this.boxAttr(q,Y)},z.prototype["stroke-widthSetter"]=function(Y,q){Y&&(this.needsBox=!0),this["stroke-width"]=Y,this.boxAttr(q,Y)},z.prototype["text-alignSetter"]=function(Y){this.textAlign=Y},z.prototype.textSetter=function(Y){void 0!==Y&&this.text.attr({text:Y}),this.updateTextPadding()},z.prototype.updateBoxSize=function(){var Y=this.text.element.style,q={},U=this.padding,it=this.bBox=H(this.widthSetting)&&H(this.heightSetting)&&!this.textAlign||!rt(this.text.textStr)?z.emptyBBox:this.text.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||it.height||0)+2*U,Y=this.renderer.fontMetrics(Y&&Y.fontSize,this.text),this.baselineOffset=U+Math.min((this.text.firstLineMetrics||Y).b,it.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-Y.h)/2),this.needsBox&&(this.box||((U=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect()).addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),U.add(this)),U=this.getCrispAdjust(),q.x=U,q.y=(this.baseline?-this.baselineOffset:0)+U,q.width=Math.round(this.width),q.height=Math.round(this.height),this.box.attr(Z(q,this.deferredAttr)),this.deferredAttr={})},z.prototype.updateTextPadding=function(){var Y=this.text;this.updateBoxSize();var q=this.baseline?0:this.baselineOffset,U=et(this.paddingLeft,this.padding);rt(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(U+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(U!==Y.x||q!==Y.y)&&(Y.attr("x",U),Y.hasBoxWidthChanged&&(this.bBox=Y.getBBox(!0)),void 0!==q&&Y.attr("y",q)),Y.x=U,Y.y=q},z.prototype.widthSetter=function(Y){this.widthSetting=H(Y)?Y:void 0},z.prototype.getPaddedWidth=function(){var Y=this.padding,q=et(this.paddingLeft,Y);return Y=et(this.paddingRight,Y),(this.widthSetting||this.bBox.width||0)+q+Y},z.prototype.xSetter=function(Y){this.x=Y,this.alignFactor&&(Y-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(Y),this.attr("translateX",this.xSetting)},z.prototype.ySetter=function(Y){this.ySetting=this.y=Math.round(Y),this.attr("translateY",this.ySetting)},z.emptyBBox={width:0,height:0,x:0,y:0},z.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" "),z}(b)}),J(tt,"Core/Renderer/SVG/Symbols.js",[tt["Core/Utilities.js"]],function(b){function W(et,B,X,z,Y){var q=[];if(Y){var U=Y.start||0,it=F(Y.r,X);X=F(Y.r,z||X);var ot=(Y.end||0)-.001;z=Y.innerR;var lt=F(Y.open,.001>Math.abs((Y.end||0)-U-2*Math.PI)),wt=Math.cos(U),xt=Math.sin(U),Ot=Math.cos(ot),Tt=Math.sin(ot);U=F(Y.longArc,.001>ot-U-Math.PI?0:1),q.push(["M",et+it*wt,B+X*xt],["A",it,X,0,U,F(Y.clockwise,1),et+it*Ot,B+X*Tt]),Z(z)&&q.push(lt?["M",et+z*Ot,B+z*Tt]:["L",et+z*Ot,B+z*Tt],["A",z,z,0,U,Z(Y.clockwise)?1-Y.clockwise:0,et+z*wt,B+z*xt]),lt||q.push(["Z"])}return q}function G(et,B,X,z,Y){return Y&&Y.r?rt(et,B,X,z,Y):[["M",et,B],["L",et+X,B],["L",et+X,B+z],["L",et,B+z],["Z"]]}function rt(et,B,X,z,Y){return[["M",et+(Y=Y&&Y.r||0),B],["L",et+X-Y,B],["C",et+X,B,et+X,B,et+X,B+Y],["L",et+X,B+z-Y],["C",et+X,B+z,et+X,B+z,et+X-Y,B+z],["L",et+Y,B+z],["C",et,B+z,et,B+z,et,B+z-Y],["L",et,B+Y],["C",et,B,et,B,et+Y,B]]}var Z=b.defined,H=b.isNumber,F=b.pick;return{arc:W,callout:function(et,B,X,z,Y){var q=Math.min(Y&&Y.r||0,X,z),U=q+6,it=Y&&Y.anchorX;Y=Y&&Y.anchorY||0;var ot=rt(et,B,X,z,{r:q});return H(it)&&(et+it>=X?Y>B+U&&Y<B+z-U?ot.splice(3,1,["L",et+X,Y-6],["L",et+X+6,Y],["L",et+X,Y+6],["L",et+X,B+z-q]):ot.splice(3,1,["L",et+X,z/2],["L",it,Y],["L",et+X,z/2],["L",et+X,B+z-q]):0>=et+it?Y>B+U&&Y<B+z-U?ot.splice(7,1,["L",et,Y+6],["L",et-6,Y],["L",et,Y-6],["L",et,B+q]):ot.splice(7,1,["L",et,z/2],["L",it,Y],["L",et,z/2],["L",et,B+q]):Y&&Y>z&&it>et+U&&it<et+X-U?ot.splice(5,1,["L",it+6,B+z],["L",it,B+z+6],["L",it-6,B+z],["L",et+q,B+z]):Y&&0>Y&&it>et+U&&it<et+X-U&&ot.splice(1,1,["L",it-6,B],["L",it,B-6],["L",it+6,B],["L",X-q,B])),ot},circle:function(et,B,X,z){return W(et+X/2,B+z/2,X/2,z/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(et,B,X,z){return[["M",et+X/2,B],["L",et+X,B+z/2],["L",et+X/2,B+z],["L",et,B+z/2],["Z"]]},rect:G,roundedRect:rt,square:G,triangle:function(et,B,X,z){return[["M",et+X/2,B],["L",et+X,B+z],["L",et,B+z],["Z"]]},"triangle-down":function(et,B,X,z){return[["M",et,B],["L",et+X,B],["L",et+X/2,B+z],["Z"]]}}}),J(tt,"Core/Renderer/SVG/TextBuilder.js",[tt["Core/Renderer/HTML/AST.js"],tt["Core/Globals.js"],tt["Core/Utilities.js"]],function(b,W,G){var rt=W.doc,Z=W.SVG_NS,H=W.win,F=G.attr,et=G.isString,B=G.objectEach,X=G.pick;return function(){function z(Y){var q=Y.styles;this.renderer=Y.renderer,this.svgElement=Y,this.width=Y.textWidth,this.textLineHeight=q&&q.lineHeight,this.textOutline=q&&q.textOutline,this.ellipsis=!(!q||"ellipsis"!==q.textOverflow),this.noWrap=!(!q||"nowrap"!==q.whiteSpace),this.fontSize=q&&q.fontSize}return z.prototype.buildSVG=function(){var Y=this.svgElement,q=Y.element,U=Y.renderer,it=X(Y.textStr,"").toString(),ot=-1!==it.indexOf("<"),lt=q.childNodes;U=this.width&&!Y.added&&U.box;var xt=[it,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,this.fontSize,this.width].join();if(xt!==Y.textCache){for(Y.textCache=xt,delete Y.actualWidth,xt=lt.length;xt--;)q.removeChild(lt[xt]);ot||this.ellipsis||this.width||-1!==it.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(it))?""!==it&&(U&&U.appendChild(q),it=new b(it),this.modifyTree(it.nodes),it.addToDOM(Y.element),this.modifyDOM(),this.ellipsis&&-1!==(q.textContent||"").indexOf("\u2026")&&Y.attr("title",this.unescapeEntities(Y.textStr||"",["&lt;","&gt;"])),U&&U.removeChild(q)):q.appendChild(rt.createTextNode(this.unescapeEntities(it))),et(this.textOutline)&&Y.applyTextOutline&&Y.applyTextOutline(this.textOutline)}},z.prototype.modifyDOM=function(){var it,Y=this,q=this.svgElement,U=F(q.element,"x");for(q.firstLineMetrics=void 0;(it=q.element.firstChild)&&/^[\s\u200B]*$/.test(it.textContent||" ");)q.element.removeChild(it);[].forEach.call(q.element.querySelectorAll("tspan.highcharts-br"),function(xt,Ot){xt.nextSibling&&xt.previousSibling&&(0===Ot&&1===xt.previousSibling.nodeType&&(q.firstLineMetrics=q.renderer.fontMetrics(void 0,xt.previousSibling)),F(xt,{dy:Y.getLineHeight(xt.nextSibling),x:U}))});var ot=this.width||0;if(ot){var wt=function(xt){[].slice.call(xt.childNodes).forEach(function(Ot){Ot.nodeType===H.Node.TEXT_NODE?function(xt,Ot){var Tt=xt.textContent||"",Et=Tt.replace(/([^\^])-/g,"$1- ").split(" "),A=!Y.noWrap&&(1<Et.length||1<q.element.childNodes.length),o=Y.getLineHeight(Ot),c=0,g=q.actualWidth;if(Y.ellipsis)Tt&&Y.truncate(xt,Tt,void 0,0,Math.max(0,ot-parseInt(Y.fontSize||12,10)),function(p,w){return p.substring(0,w)+"\u2026"});else if(A){for(Tt=[],A=[];Ot.firstChild&&Ot.firstChild!==xt;)A.push(Ot.firstChild),Ot.removeChild(Ot.firstChild);for(;Et.length;)Et.length&&!Y.noWrap&&0<c&&(Tt.push(xt.textContent||""),xt.textContent=Et.join(" ").replace(/- /g,"-")),Y.truncate(xt,void 0,Et,0===c&&g||0,ot,function(p,w){return Et.slice(0,w).join(" ").replace(/- /g,"-")}),g=q.actualWidth,c++;A.forEach(function(p){Ot.insertBefore(p,xt)}),Tt.forEach(function(p){Ot.insertBefore(rt.createTextNode(p),xt),(p=rt.createElementNS(Z,"tspan")).textContent="\u200b",F(p,{dy:o,x:U}),Ot.insertBefore(p,xt)})}}(Ot,xt):(-1!==Ot.className.baseVal.indexOf("highcharts-br")&&(q.actualWidth=0),wt(Ot))})};wt(q.element)}},z.prototype.getLineHeight=function(Y){var q;return Y=Y.nodeType===H.Node.TEXT_NODE?Y.parentElement:Y,this.renderer.styledMode||(q=Y&&/(px|em)$/.test(Y.style.fontSize)?Y.style.fontSize:this.fontSize||this.renderer.style.fontSize||12),this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(q,Y||this.svgElement.element).h},z.prototype.modifyTree=function(Y){var q=this,U=function(it,ot){var lt=it.tagName,wt=q.renderer.styledMode,xt=it.attributes||{};"b"===lt||"strong"===lt?wt?xt.class="highcharts-strong":xt.style="font-weight:bold;"+(xt.style||""):("i"===lt||"em"===lt)&&(wt?xt.class="highcharts-emphasized":xt.style="font-style:italic;"+(xt.style||"")),et(xt.style)&&(xt.style=xt.style.replace(/(;| |^)color([ :])/,"$1fill$2")),"br"===lt&&(xt.class="highcharts-br",it.textContent="\u200b",(ot=Y[ot+1])&&ot.textContent&&(ot.textContent=ot.textContent.replace(/^ +/gm,""))),"#text"!==lt&&"a"!==lt&&(it.tagName="tspan"),it.attributes=xt,it.children&&it.children.filter(function(Ot){return"#text"!==Ot.tagName}).forEach(U)};Y.forEach(U)},z.prototype.truncate=function(Y,q,U,it,ot,lt){var c,wt=this.svgElement,xt=wt.renderer,Ot=wt.rotation,Tt=[],Et=U?1:0,A=(q||U||"").length,o=A,g=function(w,S){S=S||w;var T=Y.parentNode;if(T&&void 0===Tt[S])if(T.getSubStringLength)try{Tt[S]=it+T.getSubStringLength(0,U?S+1:S)}catch(C){}else xt.getSpanWidth&&(Y.textContent=lt(q||U,w),Tt[S]=it+xt.getSpanWidth(wt,Y));return Tt[S]};wt.rotation=0;var p=g(Y.textContent.length);if(it+p>ot){for(;Et<=A;)o=Math.ceil((Et+A)/2),U&&(c=lt(U,o)),p=g(o,c&&c.length-1),Et===A?Et=A+1:p>ot?A=o-1:Et=o;0===A?Y.textContent="":q&&A===q.length-1||(Y.textContent=c||lt(q||U,o))}U&&U.splice(0,o),wt.actualWidth=p,wt.rotation=Ot},z.prototype.unescapeEntities=function(Y,q){return B(this.renderer.escapes,function(U,it){q&&-1!==q.indexOf(U)||(Y=Y.toString().replace(new RegExp(U,"g"),it))}),Y},z}()}),J(tt,"Core/Renderer/SVG/SVGRenderer.js",[tt["Core/Renderer/HTML/AST.js"],tt["Core/Color/Color.js"],tt["Core/Globals.js"],tt["Core/Renderer/RendererRegistry.js"],tt["Core/Renderer/SVG/SVGElement.js"],tt["Core/Renderer/SVG/SVGLabel.js"],tt["Core/Renderer/SVG/Symbols.js"],tt["Core/Renderer/SVG/TextBuilder.js"],tt["Core/Utilities.js"]],function(b,W,G,rt,Z,H,F,et,B){var at,X=G.charts,z=G.deg2rad,Y=G.doc,q=G.isFirefox,U=G.isMS,it=G.isWebKit,ot=G.noop,lt=G.SVG_NS,wt=G.symbolSizes,xt=G.win,Ot=B.addEvent,Tt=B.attr,Et=B.createElement,A=B.css,o=B.defined,c=B.destroyObjectProperties,g=B.extend,p=B.isArray,w=B.isNumber,S=B.isObject,T=B.isString,C=B.merge,h=B.pick,k=B.pInt,ft=B.uniqueKey;return G=function(){function st(Mt,St,Xt,te,Vt,Dt,ve){this.width=this.url=this.style=this.isSVG=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(Mt,St,Xt,te,Vt,Dt,ve)}return st.prototype.init=function(Mt,St,Xt,te,Vt,Dt,ve){var Kt,Gt=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),Nt=Gt.element;ve||Gt.css(this.getStyle(te)),Mt.appendChild(Nt),Tt(Mt,"dir","ltr"),-1===Mt.innerHTML.indexOf("xmlns")&&Tt(Nt,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=Nt,this.boxWrapper=Gt,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(Y.createTextNode("Created with Highcharts 9.3.1")),this.defs=this.createElement("defs").add(),this.allowHTML=Dt,this.forExport=Vt,this.styledMode=ve,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(St,Xt,!1),q&&Mt.getBoundingClientRect&&((St=function(){A(Mt,{left:0,top:0}),Kt=Mt.getBoundingClientRect(),A(Mt,{left:Math.ceil(Kt.left)-Kt.left+"px",top:Math.ceil(Kt.top)-Kt.top+"px"})})(),this.unSubPixelFix=Ot(xt,"resize",St))},st.prototype.definition=function(Mt){return new b([Mt]).addToDOM(this.defs.element)},st.prototype.getReferenceURL=function(){if((q||it)&&Y.getElementsByTagName("base").length){if(!o(at)){var Mt=ft();Mt=new b([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:Mt},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#"+Mt+")",fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(Y.body),A(Mt,{position:"fixed",top:0,left:0,zIndex:9e5});var St=Y.elementFromPoint(6,6);at="hitme"===(St&&St.id),Y.body.removeChild(Mt)}if(at)return xt.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""},st.prototype.getStyle=function(Mt){return this.style=g({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},Mt)},st.prototype.setStyle=function(Mt){this.boxWrapper.css(this.getStyle(Mt))},st.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width},st.prototype.destroy=function(){var Mt=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),c(this.gradients||{}),this.gradients=null,Mt&&(this.defs=Mt.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},st.prototype.createElement=function(Mt){var St=new this.Element;return St.init(this,Mt),St},st.prototype.getRadialAttr=function(Mt,St){return{cx:Mt[0]-Mt[2]/2+(St.cx||0)*Mt[2],cy:Mt[1]-Mt[2]/2+(St.cy||0)*Mt[2],r:(St.r||0)*Mt[2]}},st.prototype.buildText=function(Mt){new et(Mt).buildSVG()},st.prototype.getContrast=function(Mt){return(Mt=W.parse(Mt).rgba)[0]*=1,Mt[1]*=1.2,Mt[2]*=.5,459<Mt[0]+Mt[1]+Mt[2]?"#000000":"#FFFFFF"},st.prototype.button=function(Mt,St,Xt,te,Vt,Dt,ve,Gt,Nt,Kt){var fe=this.label(Mt,St,Xt,Nt,void 0,void 0,Kt,void 0,"button"),zt=this.styledMode,Ne=0,Pt=Vt?C(Vt):{};if(Mt=Pt&&Pt.style||{},Pt=b.filterUserAttributes(Pt),fe.attr(C({padding:8,r:2},Pt)),!zt){var Se=(Pt=C({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},{style:Mt},Pt)).style;delete Pt.style;var Fi=(Dt=C(Pt,{fill:"#e6e6e6"},b.filterUserAttributes(Dt||{}))).style;delete Dt.style;var Ge=(ve=C(Pt,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},b.filterUserAttributes(ve||{}))).style;delete ve.style;var _e=(Gt=C(Pt,{style:{color:"#cccccc"}},b.filterUserAttributes(Gt||{}))).style;delete Gt.style}return Ot(fe.element,U?"mouseover":"mouseenter",function(){3!==Ne&&fe.setState(1)}),Ot(fe.element,U?"mouseout":"mouseleave",function(){3!==Ne&&fe.setState(Ne)}),fe.setState=function(Ce){1!==Ce&&(fe.state=Ne=Ce),fe.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][Ce||0]),zt||fe.attr([Pt,Dt,ve,Gt][Ce||0]).css([Se,Fi,Ge,_e][Ce||0])},zt||fe.attr(Pt).css(g({cursor:"default"},Se)),fe.on("touchstart",function(Ce){return Ce.stopPropagation()}).on("click",function(Ce){3!==Ne&&te.call(fe,Ce)})},st.prototype.crispLine=function(Mt,St,Xt){void 0===Xt&&(Xt="round");var te=Mt[0],Vt=Mt[1];return o(te[1])&&te[1]===Vt[1]&&(te[1]=Vt[1]=Math[Xt](te[1])-St%2/2),o(te[2])&&te[2]===Vt[2]&&(te[2]=Vt[2]=Math[Xt](te[2])+St%2/2),Mt},st.prototype.path=function(Mt){var St=this.styledMode?{}:{fill:"none"};return p(Mt)?St.d=Mt:S(Mt)&&g(St,Mt),this.createElement("path").attr(St)},st.prototype.circle=function(Mt,St,Xt){return Mt=S(Mt)?Mt:void 0===Mt?{}:{x:Mt,y:St,r:Xt},(St=this.createElement("circle")).xSetter=St.ySetter=function(te,Vt,Dt){Dt.setAttribute("c"+Vt,te)},St.attr(Mt)},st.prototype.arc=function(Mt,St,Xt,te,Vt,Dt){return S(Mt)?(St=(te=Mt).y,Xt=te.r,Mt=te.x):te={innerR:te,start:Vt,end:Dt},(Mt=this.symbol("arc",Mt,St,Xt,Xt,te)).r=Xt,Mt},st.prototype.rect=function(Mt,St,Xt,te,Vt,Dt){Vt=S(Mt)?Mt.r:Vt;var ve=this.createElement("rect");return Mt=S(Mt)?Mt:void 0===Mt?{}:{x:Mt,y:St,width:Math.max(Xt,0),height:Math.max(te,0)},this.styledMode||(void 0!==Dt&&(Mt["stroke-width"]=Dt,Mt=ve.crisp(Mt)),Mt.fill="none"),Vt&&(Mt.r=Vt),ve.rSetter=function(Gt,Nt,Kt){ve.r=Gt,Tt(Kt,{rx:Gt,ry:Gt})},ve.rGetter=function(){return ve.r||0},ve.attr(Mt)},st.prototype.setSize=function(Mt,St,Xt){this.width=Mt,this.height=St,this.boxWrapper.animate({width:Mt,height:St},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:h(Xt,!0)?void 0:0}),this.alignElements()},st.prototype.g=function(Mt){var St=this.createElement("g");return Mt?St.attr({class:"highcharts-"+Mt}):St},st.prototype.image=function(Mt,St,Xt,te,Vt,Dt){var ve={preserveAspectRatio:"none"},Gt=function(Kt,fe){Kt.setAttributeNS?Kt.setAttributeNS("http://www.w3.org/1999/xlink","href",fe):Kt.setAttribute("hc-svg-href",fe)};w(St)&&(ve.x=St),w(Xt)&&(ve.y=Xt),w(te)&&(ve.width=te),w(Vt)&&(ve.height=Vt);var Nt=this.createElement("image").attr(ve);return St=function(Kt){Gt(Nt.element,Mt),Dt.call(Nt,Kt)},Dt?(Gt(Nt.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),Xt=new xt.Image,Ot(Xt,"load",St),Xt.src=Mt,Xt.complete&&St({})):Gt(Nt.element,Mt),Nt},st.prototype.symbol=function(Mt,St,Xt,te,Vt,Dt){var zt,ve=this,Gt=/^url\((.*?)\)$/,Nt=Gt.test(Mt),Kt=!Nt&&(this.symbols[Mt]?Mt:"circle"),fe=Kt&&this.symbols[Kt];if(fe){"number"==typeof St&&(zt=fe.call(this.symbols,Math.round(St||0),Math.round(Xt||0),te||0,Vt||0,Dt));var Ne=this.path(zt);ve.styledMode||Ne.attr("fill","none"),g(Ne,{symbolName:Kt||void 0,x:St,y:Xt,width:te,height:Vt}),Dt&&g(Ne,Dt)}else if(Nt){var Pt=Mt.match(Gt)[1],Se=Ne=this.image(Pt);Se.imgwidth=h(wt[Pt]&&wt[Pt].width,Dt&&Dt.width),Se.imgheight=h(wt[Pt]&&wt[Pt].height,Dt&&Dt.height);var Fi=function(Ge){return Ge.attr({width:Ge.width,height:Ge.height})};["width","height"].forEach(function(Ge){Se[Ge+"Setter"]=function(_e,Ce){var Bt=this["img"+Ce];this[Ce]=_e,o(Bt)&&(Dt&&"within"===Dt.backgroundSize&&this.width&&this.height&&(Bt=Math.round(Bt*Math.min(this.width/this.imgwidth,this.height/this.imgheight))),this.element&&this.element.setAttribute(Ce,Bt),this.alignByTranslate||(_e=((this[Ce]||0)-Bt)/2,this.attr("width"===Ce?{translateX:_e}:{translateY:_e})))}}),o(St)&&Se.attr({x:St,y:Xt}),Se.isImg=!0,o(Se.imgwidth)&&o(Se.imgheight)?Fi(Se):(Se.attr({width:0,height:0}),Et("img",{onload:function(){var Ge=X[ve.chartIndex];0===this.width&&(A(this,{position:"absolute",top:"-999em"}),Y.body.appendChild(this)),wt[Pt]={width:this.width,height:this.height},Se.imgwidth=this.width,Se.imgheight=this.height,Se.element&&Fi(Se),this.parentNode&&this.parentNode.removeChild(this),ve.imgCount--,!ve.imgCount&&Ge&&!Ge.hasLoaded&&Ge.onload()},src:Pt}),this.imgCount++)}return Ne},st.prototype.clipRect=function(Mt,St,Xt,te){var Vt=ft()+"-",Dt=this.createElement("clipPath").attr({id:Vt}).add(this.defs);return(Mt=this.rect(Mt,St,Xt,te,0).add(Dt)).id=Vt,Mt.clipPath=Dt,Mt.count=0,Mt},st.prototype.text=function(Mt,St,Xt,te){var Vt={};return!te||!this.allowHTML&&this.forExport?(Vt.x=Math.round(St||0),Xt&&(Vt.y=Math.round(Xt)),o(Mt)&&(Vt.text=Mt),Mt=this.createElement("text").attr(Vt),(!te||this.forExport&&!this.allowHTML)&&(Mt.xSetter=function(Dt,ve,Gt){for(var zt,Nt=Gt.getElementsByTagName("tspan"),Kt=Gt.getAttribute(ve),fe=0;fe<Nt.length;fe++)(zt=Nt[fe]).getAttribute(ve)===Kt&&zt.setAttribute(ve,Dt);Gt.setAttribute(ve,Dt)}),Mt):this.html(Mt,St,Xt)},st.prototype.fontMetrics=function(Mt,St){return Mt=!this.styledMode&&/px/.test(Mt)||!xt.getComputedStyle?Mt||St&&St.style&&St.style.fontSize||this.style&&this.style.fontSize:St&&Z.prototype.getStyle.call(St,"font-size"),{h:St=24>(Mt=/px/.test(Mt)?k(Mt):12)?Mt+3:Math.round(1.2*Mt),b:Math.round(.8*St),f:Mt}},st.prototype.rotCorr=function(Mt,St,Xt){var te=Mt;return St&&Xt&&(te=Math.max(te*Math.cos(St*z),4)),{x:-Mt/3*Math.sin(St*z),y:te}},st.prototype.pathToSegments=function(Mt){for(var St=[],Xt=[],te={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},Vt=0;Vt<Mt.length;Vt++)T(Xt[0])&&w(Mt[Vt])&&Xt.length===te[Xt[0].toUpperCase()]&&Mt.splice(Vt,0,Xt[0].replace("M","L").replace("m","l")),"string"==typeof Mt[Vt]&&(Xt.length&&St.push(Xt.slice(0)),Xt.length=0),Xt.push(Mt[Vt]);return St.push(Xt.slice(0)),St},st.prototype.label=function(Mt,St,Xt,te,Vt,Dt,ve,Gt,Nt){return new H(this,Mt,St,Xt,te,Vt,Dt,ve,Gt,Nt)},st.prototype.alignElements=function(){this.alignedObjects.forEach(function(Mt){return Mt.align()})},st}(),g(G.prototype,{Element:Z,SVG_NS:lt,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:F,draw:ot}),rt.registerRendererType("svg",G,!0),G}),J(tt,"Core/Renderer/HTML/HTMLElement.js",[tt["Core/Globals.js"],tt["Core/Renderer/SVG/SVGElement.js"],tt["Core/Utilities.js"]],function(b,W,G){var U,rt=this&&this.__extends||(U=function(it,ot){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(lt,wt){lt.__proto__=wt}||function(lt,wt){for(var xt in wt)wt.hasOwnProperty(xt)&&(lt[xt]=wt[xt])})(it,ot)},function(it,ot){function lt(){this.constructor=it}U(it,ot),it.prototype=null===ot?Object.create(ot):(lt.prototype=ot.prototype,new lt)}),Z=b.isFirefox,H=b.isMS,F=b.isWebKit,et=b.win,B=G.css,X=G.defined,z=G.extend,Y=G.pick,q=G.pInt;return function(U){function it(){return null!==U&&U.apply(this,arguments)||this}return rt(it,U),it.compose=function(ot){if(-1===it.composedClasses.indexOf(ot)){it.composedClasses.push(ot);var lt=it.prototype,wt=ot.prototype;wt.getSpanCorrection=lt.getSpanCorrection,wt.htmlCss=lt.htmlCss,wt.htmlGetBBox=lt.htmlGetBBox,wt.htmlUpdateTransform=lt.htmlUpdateTransform,wt.setSpanRotation=lt.setSpanRotation}return ot},it.prototype.getSpanCorrection=function(ot,lt,wt){this.xCorr=-ot*wt,this.yCorr=-lt},it.prototype.htmlCss=function(ot){var lt="SPAN"===this.element.tagName&&ot&&"width"in ot,wt=Y(lt&&ot.width,void 0);if(lt){delete ot.width,this.textWidth=wt;var xt=!0}return ot&&"ellipsis"===ot.textOverflow&&(ot.whiteSpace="nowrap",ot.overflow="hidden"),this.styles=z(this.styles,ot),B(this.element,ot),xt&&this.htmlUpdateTransform(),this},it.prototype.htmlGetBBox=function(){var ot=this.element;return{x:ot.offsetLeft,y:ot.offsetTop,width:ot.offsetWidth,height:ot.offsetHeight}},it.prototype.htmlUpdateTransform=function(){if(this.added){var ot=this.renderer,lt=this.element,wt=this.translateX||0,xt=this.translateY||0,Ot=this.x||0,Tt=this.y||0,Et=this.textAlign||"left",A={left:0,center:.5,right:1}[Et],o=this.styles;if(o=o&&o.whiteSpace,B(lt,{marginLeft:wt,marginTop:xt}),!ot.styledMode&&this.shadows&&this.shadows.forEach(function(T){B(T,{marginLeft:wt+1,marginTop:xt+1})}),this.inverted&&[].forEach.call(lt.childNodes,function(T){ot.invertChild(T,lt)}),"SPAN"===lt.tagName){var c=this.rotation,g=this.textWidth&&q(this.textWidth),p=[c,Et,lt.innerHTML,this.textWidth,this.textAlign].join(),w=void 0;if(w=!1,g!==this.oldTextWidth){if(this.textPxLength)var S=this.textPxLength;else B(lt,{width:"",whiteSpace:o||"nowrap"}),S=lt.offsetWidth;(g>this.oldTextWidth||S>g)&&(/[ \-]/.test(lt.textContent||lt.innerText)||"ellipsis"===lt.style.textOverflow)&&(B(lt,{width:S>g||c?g+"px":"auto",display:"block",whiteSpace:o||"normal"}),this.oldTextWidth=g,w=!0)}this.hasBoxWidthChanged=w,p!==this.cTT&&(w=ot.fontMetrics(lt.style.fontSize,lt).b,!X(c)||c===(this.oldRotation||0)&&Et===this.oldAlign||this.setSpanRotation(c,A,w),this.getSpanCorrection(!X(c)&&this.textPxLength||lt.offsetWidth,w,A,c,Et)),B(lt,{left:Ot+(this.xCorr||0)+"px",top:Tt+(this.yCorr||0)+"px"}),this.cTT=p,this.oldRotation=c,this.oldAlign=Et}}else this.alignOnAdd=!0},it.prototype.setSpanRotation=function(ot,lt,wt){var xt={},Ot=H&&!/Edge/.test(et.navigator.userAgent)?"-ms-transform":F?"-webkit-transform":Z?"MozTransform":et.opera?"-o-transform":void 0;Ot&&(xt[Ot]=xt.transform="rotate("+ot+"deg)",xt[Ot+(Z?"Origin":"-origin")]=xt.transformOrigin=100*lt+"% "+wt+"px",B(this.element,xt))},it.composedClasses=[],it}(W)}),J(tt,"Core/Renderer/HTML/HTMLRenderer.js",[tt["Core/Renderer/HTML/AST.js"],tt["Core/Renderer/SVG/SVGElement.js"],tt["Core/Renderer/SVG/SVGRenderer.js"],tt["Core/Utilities.js"]],function(b,W,G,rt){var X,Z=this&&this.__extends||(X=function(z,Y){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,U){q.__proto__=U}||function(q,U){for(var it in U)U.hasOwnProperty(it)&&(q[it]=U[it])})(z,Y)},function(z,Y){function q(){this.constructor=z}X(z,Y),z.prototype=null===Y?Object.create(Y):(q.prototype=Y.prototype,new q)}),H=rt.attr,F=rt.createElement,et=rt.extend,B=rt.pick;return function(X){function z(){return null!==X&&X.apply(this,arguments)||this}return Z(z,X),z.compose=function(Y){return-1===z.composedClasses.indexOf(Y)&&(z.composedClasses.push(Y),Y.prototype.html=z.prototype.html),Y},z.prototype.html=function(Y,q,U){var it=this.createElement("span"),ot=it.element,lt=it.renderer,wt=lt.isSVG,xt=function(Ot,Tt){["opacity","visibility"].forEach(function(Et){Ot[Et+"Setter"]=function(A,o,c){var g=Ot.div?Ot.div.style:Tt;W.prototype[Et+"Setter"].call(this,A,o,c),g&&(g[o]=A)}}),Ot.addedSetters=!0};return it.textSetter=function(Ot){Ot!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,b.setElementHTML(this.element,B(Ot,"")),this.textStr=Ot,it.doTransform=!0)},wt&&xt(it,it.element.style),it.xSetter=it.ySetter=it.alignSetter=it.rotationSetter=function(Ot,Tt){"align"===Tt?it.alignValue=it.textAlign=Ot:it[Tt]=Ot,it.doTransform=!0},it.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},it.attr({text:Y,x:Math.round(q),y:Math.round(U)}).css({position:"absolute"}),lt.styledMode||it.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),ot.style.whiteSpace="nowrap",it.css=it.htmlCss,wt&&(it.add=function(Ot){var Tt=lt.box.parentNode,Et=[];if(this.parentGroup=Ot){var A=Ot.div;if(!A){for(;Ot;)Et.push(Ot),Ot=Ot.parentGroup;Et.reverse().forEach(function(o){function c(S,T){o[T]=S,"translateX"===T?w.left=S+"px":w.top=S+"px",o.doTransform=!0}var S,g=H(o.element,"class"),p=o.styles||{},w=(A=o.div=o.div||F("div",g?{className:g}:void 0,{position:"absolute",left:(o.translateX||0)+"px",top:(o.translateY||0)+"px",display:o.display,opacity:o.opacity,cursor:p.cursor,pointerEvents:p.pointerEvents,visibility:o.visibility},A||Tt)).style;et(o,{classSetter:(S=A,function(T){this.element.setAttribute("class",T),S.className=T}),on:function(){return Et[0].div&&it.on.apply({element:Et[0].div,onEvents:o.onEvents},arguments),o},translateXSetter:c,translateYSetter:c}),o.addedSetters||xt(o)})}}else A=Tt;return A.appendChild(ot),it.added=!0,it.alignOnAdd&&it.htmlUpdateTransform(),it}),it},z.composedClasses=[],z}(G)}),J(tt,"Core/Axis/AxisDefaults.js",[],function(){var b=(()=>{return(W=b||(b={})).defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:void 0,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,x:0,zIndex:7,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#ccd6eb"},W.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){return(0,this.axis.chart.numberFormatter)(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},W.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}},W.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}},W.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},W.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},b;var W})();return b}),J(tt,"Core/Foundation.js",[tt["Core/Utilities.js"]],function(b){var H,W=b.addEvent,G=b.isFunction,rt=b.objectEach,Z=b.removeEvent;return(H||(H={})).registerEventOptions=function(et,B){et.eventOptions=et.eventOptions||{},rt(B.events,function(X,z){et.eventOptions[z]!==X&&(et.eventOptions[z]&&(Z(et,z,et.eventOptions[z]),delete et.eventOptions[z]),G(X)&&(et.eventOptions[z]=X,W(et,z,X)))})},H}),J(tt,"Core/Axis/Tick.js",[tt["Core/FormatUtilities.js"],tt["Core/Globals.js"],tt["Core/Utilities.js"]],function(b,W,G){var rt=W.deg2rad,Z=G.clamp,H=G.correctFloat,F=G.defined,et=G.destroyObjectProperties,B=G.extend,X=G.fireEvent,z=G.isNumber,Y=G.merge,q=G.objectEach,U=G.pick;return function(){function it(ot,lt,wt,xt,Ot){this.isNewLabel=this.isNew=!0,this.axis=ot,this.pos=lt,this.type=wt||"",this.parameters=Ot||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,X(this,"init"),wt||xt||this.addLabel()}return it.prototype.addLabel=function(){var ot=this,lt=ot.axis,wt=lt.options,xt=lt.chart,Ot=lt.categories,Tt=lt.logarithmic,Et=lt.names,A=ot.pos,o=U(ot.options&&ot.options.labels,wt.labels),c=lt.tickPositions,g=A===c[0],p=A===c[c.length-1],w=(!o.step||1===o.step)&&1===lt.tickInterval;c=c.info;var T,S=ot.label;if(Ot=this.parameters.category||(Ot?U(Ot[A],Et[A],A):A),Tt&&z(Ot)&&(Ot=H(Tt.lin2log(Ot))),lt.dateTime)if(c)var C=xt.time.resolveDTLFormat(wt.dateTimeLabelFormats[!wt.grid&&c.higherRanks[A]||c.unitName]),h=C.main;else z(Ot)&&(h=lt.dateTime.getXDateFormat(Ot,wt.dateTimeLabelFormats||{}));ot.isFirst=g,ot.isLast=p;var k={axis:lt,chart:xt,dateTimeLabelFormat:h,isFirst:g,isLast:p,pos:A,tick:ot,tickPositionInfo:c,value:Ot};X(this,"labelFormat",k);var ft=function(st){return o.formatter?o.formatter.call(st,st):o.format?(st.text=lt.defaultLabelFormatter.call(st),b.format(o.format,st,xt)):lt.defaultLabelFormatter.call(st,st)};wt=ft.call(k,k);var at=C&&C.list;ot.shortenLabel=at?function(){for(T=0;T<at.length;T++)if(B(k,{dateTimeLabelFormat:at[T]}),S.attr({text:ft.call(k,k)}),S.getBBox().width<lt.getSlotWidth(ot)-2*o.padding)return;S.attr({text:""})}:void 0,w&&lt._addedPlotLB&&ot.moveLabel(wt,o),F(S)||ot.movedLabel?S&&S.textStr!==wt&&!w&&(!S.textWidth||o.style.width||S.styles.width||S.css({width:null}),S.attr({text:wt}),S.textPxLength=S.getBBox().width):(ot.label=S=ot.createLabel({x:0,y:0},wt,o),ot.rotation=0)},it.prototype.createLabel=function(ot,lt,wt){var xt=this.axis,Ot=xt.chart;return(ot=F(lt)&&wt.enabled?Ot.renderer.text(lt,ot.x,ot.y,wt.useHTML).add(xt.labelGroup):null)&&(Ot.styledMode||ot.css(Y(wt.style)),ot.textPxLength=ot.getBBox().width),ot},it.prototype.destroy=function(){et(this,this.axis)},it.prototype.getPosition=function(ot,lt,wt,xt){var Ot=this.axis,Tt=Ot.chart,Et=xt&&Tt.oldChartHeight||Tt.chartHeight;return(ot={x:ot?H(Ot.translate(lt+wt,null,null,xt)+Ot.transB):Ot.left+Ot.offset+(Ot.opposite?(xt&&Tt.oldChartWidth||Tt.chartWidth)-Ot.right-Ot.left:0),y:ot?Et-Ot.bottom+Ot.offset-(Ot.opposite?Ot.height:0):H(Et-Ot.translate(lt+wt,null,null,xt)-Ot.transB)}).y=Z(ot.y,-1e5,1e5),X(this,"afterGetPosition",{pos:ot}),ot},it.prototype.getLabelPosition=function(ot,lt,wt,xt,Ot,Tt,Et,A){var o=this.axis,c=o.transA,g=o.isLinked&&o.linkedParent?o.linkedParent.reversed:o.reversed,p=o.staggerLines,w=o.tickRotCorr||{x:0,y:0},S=xt||o.reserveSpaceDefault?0:-o.labelOffset*("center"===o.labelAlign?.5:1),T={},C=Ot.y;return F(C)||(C=0===o.side?wt.rotation?-8:-wt.getBBox().height:2===o.side?w.y+8:Math.cos(wt.rotation*rt)*(w.y-wt.getBBox(!1,0).height/2)),lt=lt+C-(Tt&&!xt?Tt*c*(g?1:-1):0),p&&(wt=Et/(A||1)%p,o.opposite&&(wt=p-wt-1),lt+=o.labelOffset/p*wt),T.x=ot=ot+Ot.x+S+w.x-(Tt&&xt?Tt*c*(g?-1:1):0),T.y=Math.round(lt),X(this,"afterGetLabelPosition",{pos:T,tickmarkOffset:Tt,index:Et}),T},it.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},it.prototype.getMarkPath=function(ot,lt,wt,xt,Ot,Tt){return Tt.crispLine([["M",ot,lt],["L",ot+(Ot?0:-wt),lt+(Ot?wt:0)]],xt)},it.prototype.handleOverflow=function(ot){var lt=this.axis,wt=lt.options.labels,xt=ot.x,Ot=lt.chart.chartWidth,Tt=lt.chart.spacing,Et=U(lt.labelLeft,Math.min(lt.pos,Tt[3]));Tt=U(lt.labelRight,Math.max(lt.isRadial?0:lt.pos+lt.len,Ot-Tt[1]));var C,A=this.label,o=this.rotation,c={left:0,center:.5,right:1}[lt.labelAlign||A.attr("align")],g=A.getBBox().width,p=lt.getSlotWidth(this),w={},S=p,T=1;o||"justify"!==wt.overflow?0>o&&xt-c*g<Et?C=Math.round(xt/Math.cos(o*rt)-Et):0<o&&xt+c*g>Tt&&(C=Math.round((Ot-xt)/Math.cos(o*rt))):(Ot=xt+(1-c)*g,xt-c*g<Et?S=ot.x+S*(1-c)-Et:Ot>Tt&&(S=Tt-ot.x+S*c,T=-1),(S=Math.min(p,S))<p&&"center"===lt.labelAlign&&(ot.x+=T*(p-S-c*(p-Math.min(g,S)))),(g>S||lt.autoRotation&&(A.styles||{}).width)&&(C=S)),C&&(this.shortenLabel?this.shortenLabel():(w.width=Math.floor(C)+"px",(wt.style||{}).textOverflow||(w.textOverflow="ellipsis"),A.css(w)))},it.prototype.moveLabel=function(ot,lt){var wt=this,xt=wt.label,Ot=wt.axis,Tt=Ot.reversed,Et=!1;if(xt&&xt.textStr===ot?(wt.movedLabel=xt,Et=!0,delete wt.label):q(Ot.ticks,function(o){Et||o.isNew||o===wt||!o.label||o.label.textStr!==ot||(wt.movedLabel=o.label,Et=!0,o.labelPos=wt.movedLabel.xy,delete o.label)}),!Et&&(wt.labelPos||xt)){var A=wt.labelPos||xt.xy;wt.movedLabel=wt.createLabel({x:xt=Ot.horiz?Tt?0:Ot.width+Ot.left:A.x,y:Ot=Ot.horiz?A.y:Tt?Ot.width+Ot.left:0},ot,lt),wt.movedLabel&&wt.movedLabel.attr({opacity:0})}},it.prototype.render=function(ot,lt,wt){var xt=this.axis,Ot=xt.horiz,Tt=this.pos,Et=U(this.tickmarkOffset,xt.tickmarkOffset);Et=(Tt=this.getPosition(Ot,Tt,Et,lt)).x,xt=Ot&&Et===xt.pos+xt.len||!Ot&&Tt.y===xt.pos?-1:1,Ot=U(wt,this.label&&this.label.newOpacity,1),wt=U(wt,1),this.isActive=!0,this.renderGridLine(lt,wt,xt),this.renderMark(Tt,wt,xt),this.renderLabel(Tt,lt,Ot,ot),this.isNew=!1,X(this,"afterRender")},it.prototype.renderGridLine=function(ot,lt,wt){var xt=this.axis,Ot=xt.options,Tt={},Et=this.pos,A=this.type,o=U(this.tickmarkOffset,xt.tickmarkOffset),c=xt.chart.renderer,g=this.gridLine,p=Ot.gridLineWidth,w=Ot.gridLineColor,S=Ot.gridLineDashStyle;"minor"===this.type&&(p=Ot.minorGridLineWidth,w=Ot.minorGridLineColor,S=Ot.minorGridLineDashStyle),g||(xt.chart.styledMode||(Tt.stroke=w,Tt["stroke-width"]=p||0,Tt.dashstyle=S),A||(Tt.zIndex=1),ot&&(lt=0),this.gridLine=g=c.path().attr(Tt).addClass("highcharts-"+(A?A+"-":"")+"grid-line").add(xt.gridGroup)),g&&(wt=xt.getPlotLinePath({value:Et+o,lineWidth:g.strokeWidth()*wt,force:"pass",old:ot}))&&g[ot||this.isNew?"attr":"animate"]({d:wt,opacity:lt})},it.prototype.renderMark=function(ot,lt,wt){var xt=this.axis,Ot=xt.options,Tt=xt.chart.renderer,Et=this.type,A=xt.tickSize(Et?Et+"Tick":"tick"),o=ot.x;ot=ot.y;var c=U(Ot["minor"!==Et?"tickWidth":"minorTickWidth"],!Et&&xt.isXAxis?1:0);Ot=Ot["minor"!==Et?"tickColor":"minorTickColor"];var g=this.mark,p=!g;A&&(xt.opposite&&(A[0]=-A[0]),g||(this.mark=g=Tt.path().addClass("highcharts-"+(Et?Et+"-":"")+"tick").add(xt.axisGroup),xt.chart.styledMode||g.attr({stroke:Ot,"stroke-width":c})),g[p?"attr":"animate"]({d:this.getMarkPath(o,ot,A[0],g.strokeWidth()*wt,xt.horiz,Tt),opacity:lt}))},it.prototype.renderLabel=function(ot,lt,wt,xt){var Ot=this.axis,Tt=Ot.horiz,Et=Ot.options,A=this.label,o=Et.labels,c=o.step;Ot=U(this.tickmarkOffset,Ot.tickmarkOffset);var g=ot.x;ot=ot.y;var p=!0;A&&z(g)&&(A.xy=ot=this.getLabelPosition(g,ot,A,Tt,o,Ot,xt,c),this.isFirst&&!this.isLast&&!Et.showFirstLabel||this.isLast&&!this.isFirst&&!Et.showLastLabel?p=!1:!Tt||o.step||o.rotation||lt||0===wt||this.handleOverflow(ot),c&&xt%c&&(p=!1),p&&z(ot.y)?(ot.opacity=wt,A[this.isNewLabel?"attr":"animate"](ot),this.isNewLabel=!1):(A.attr("y",-9999),this.isNewLabel=!0))},it.prototype.replaceMovedLabel=function(){var ot=this.label,lt=this.axis,wt=lt.reversed;ot&&!this.isNew&&(ot.animate({x:lt.horiz?wt?lt.left:lt.width+lt.left:ot.xy.x,y:wt=lt.horiz?ot.xy.y:wt?lt.width+lt.top:lt.top,opacity:0},void 0,ot.destroy),delete this.label),lt.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel},it}()}),J(tt,"Core/Axis/Axis.js",[tt["Core/Animation/AnimationUtilities.js"],tt["Core/Axis/AxisDefaults.js"],tt["Core/Color/Color.js"],tt["Core/DefaultOptions.js"],tt["Core/Foundation.js"],tt["Core/Globals.js"],tt["Core/Axis/Tick.js"],tt["Core/Utilities.js"]],function(b,W,G,rt,Z,H,F,et){var B=b.animObject,X=rt.defaultOptions,z=Z.registerEventOptions,Y=H.deg2rad,q=et.arrayMax,U=et.arrayMin,it=et.clamp,ot=et.correctFloat,lt=et.defined,wt=et.destroyObjectProperties,xt=et.erase,Ot=et.error,Tt=et.extend,Et=et.fireEvent,A=et.getMagnitude,o=et.isArray,c=et.isNumber,g=et.isString,p=et.merge,w=et.normalizeTickInterval,S=et.objectEach,T=et.pick,C=et.relativeLength,h=et.removeEvent,k=et.splat,ft=et.syncTimeout;return function(){function at(st,Mt){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.categories=this.bottom=this.alternateBands=void 0,this.init(st,Mt)}return at.prototype.init=function(st,Mt){var St=Mt.isX;this.chart=st,this.horiz=st.inverted&&!this.isZAxis?!St:St,this.isXAxis=St,this.coll=this.coll||(St?"xAxis":"yAxis"),Et(this,"init",{userOptions:Mt}),this.opposite=T(Mt.opposite,this.opposite),this.side=T(Mt.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(Mt);var Xt=this.options,te=Xt.labels,Vt=Xt.type;this.userOptions=Mt,this.minPixelPadding=0,this.reversed=T(Xt.reversed,this.reversed),this.visible=Xt.visible,this.zoomEnabled=Xt.zoomEnabled,this.hasNames="category"===Vt||!0===Xt.categories,this.categories=Xt.categories||this.hasNames,this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=lt(Xt.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=Xt.minRange||Xt.maxZoom,this.range=Xt.range,this.offset=Xt.offset||0,this.min=this.max=null,Mt=T(Xt.crosshair,k(st.options.tooltip.crosshairs)[St?0:1]),this.crosshair=!0===Mt?{}:Mt,-1===st.axes.indexOf(this)&&(St?st.axes.splice(st.xAxis.length,0,this):st.axes.push(this),st[this.coll].push(this)),this.series=this.series||[],st.inverted&&!this.isZAxis&&St&&void 0===this.reversed&&(this.reversed=!0),this.labelRotation=c(te.rotation)?te.rotation:void 0,z(this,Xt),Et(this,"afterInit")},at.prototype.setOptions=function(st){this.options=p(W.defaultXAxisOptions,"yAxis"===this.coll&&W.defaultYAxisOptions,[W.defaultTopAxisOptions,W.defaultRightAxisOptions,W.defaultBottomAxisOptions,W.defaultLeftAxisOptions][this.side],p(X[this.coll],st)),Et(this,"afterSetOptions",{userOptions:st})},at.prototype.defaultLabelFormatter=function(st){var Mt=this.axis;st=this.chart.numberFormatter;var St=c(this.value)?this.value:NaN,Xt=Mt.chart.time,te=this.dateTimeLabelFormat,Vt=X.lang,Dt=Vt.numericSymbols;Vt=Vt.numericSymbolMagnitude||1e3;var ve=Mt.logarithmic?Math.abs(St):Mt.tickInterval,Gt=Dt&&Dt.length;if(Mt.categories)var Nt=""+this.value;else if(te)Nt=Xt.dateFormat(te,St);else if(Gt&&1e3<=ve)for(;Gt--&&void 0===Nt;)ve>=(Mt=Math.pow(Vt,Gt+1))&&10*St%Mt==0&&null!==Dt[Gt]&&0!==St&&(Nt=st(St/Mt,-1)+Dt[Gt]);return void 0===Nt&&(Nt=1e4<=Math.abs(St)?st(St,-1):st(St,-1,void 0,"")),Nt},at.prototype.getSeriesExtremes=function(){var St,st=this,Mt=st.chart;Et(this,"getSeriesExtremes",null,function(){st.hasVisibleSeries=!1,st.dataMin=st.dataMax=st.threshold=null,st.softThreshold=!st.isXAxis,st.stacking&&st.stacking.buildStacks(),st.series.forEach(function(Xt){if(Xt.visible||!Mt.options.chart.ignoreHiddenSeries){var te=Xt.options,Vt=te.threshold;if(st.hasVisibleSeries=!0,st.positiveValuesOnly&&0>=Vt&&(Vt=null),st.isXAxis){if((te=Xt.xData).length){te=st.logarithmic?te.filter(st.validatePositiveValue):te;var Dt=(St=Xt.getXExtremes(te)).min,ve=St.max;c(Dt)||Dt instanceof Date||(te=te.filter(c),Dt=(St=Xt.getXExtremes(te)).min,ve=St.max),te.length&&(st.dataMin=Math.min(T(st.dataMin,Dt),Dt),st.dataMax=Math.max(T(st.dataMax,ve),ve))}}else Xt=Xt.applyExtremes(),c(Xt.dataMin)&&(Dt=Xt.dataMin,st.dataMin=Math.min(T(st.dataMin,Dt),Dt)),c(Xt.dataMax)&&(ve=Xt.dataMax,st.dataMax=Math.max(T(st.dataMax,ve),ve)),lt(Vt)&&(st.threshold=Vt),(!te.softThreshold||st.positiveValuesOnly)&&(st.softThreshold=!1)}})}),Et(this,"afterGetSeriesExtremes")},at.prototype.translate=function(st,Mt,St,Xt,te,Vt){var Dt=this.linkedParent||this,ve=Xt&&Dt.old?Dt.old.min:Dt.min,Gt=Dt.minPixelPadding;te=(Dt.isOrdinal||Dt.brokenAxis&&Dt.brokenAxis.hasBreaks||Dt.logarithmic&&te)&&Dt.lin2val;var Nt=1,Kt=0;return(Xt=Xt&&Dt.old?Dt.old.transA:Dt.transA)||(Xt=Dt.transA),St&&(Nt*=-1,Kt=Dt.len),Dt.reversed&&(Kt-=(Nt*=-1)*(Dt.sector||Dt.len)),Mt?(st=(st*Nt+Kt-Gt)/Xt+ve,te&&(st=Dt.lin2val(st))):(te&&(st=Dt.val2lin(st)),st=c(ve)?Nt*(st-ve)*Xt+Kt+Nt*Gt+(c(Vt)?Xt*Vt:0):void 0),st},at.prototype.toPixels=function(st,Mt){return this.translate(st,!1,!this.horiz,null,!0)+(Mt?0:this.pos)},at.prototype.toValue=function(st,Mt){return this.translate(st-(Mt?0:this.pos),!0,!this.horiz,null,!0)},at.prototype.getPlotLinePath=function(st){function Mt(Ce,Bt,re){return("pass"!==Ne&&Ce<Bt||Ce>re)&&(Ne?Ce=it(Ce,Bt,re):_e=!0),Ce}var Pt,Se,Fi,Ge,_e,St=this,Xt=St.chart,te=St.left,Vt=St.top,Dt=st.old,ve=st.value,Gt=st.lineWidth,Nt=Dt&&Xt.oldChartHeight||Xt.chartHeight,Kt=Dt&&Xt.oldChartWidth||Xt.chartWidth,fe=St.transB,zt=st.translatedValue,Ne=st.force;return Et(this,"getPlotLinePath",st={value:ve,lineWidth:Gt,old:Dt,force:Ne,acrossPanes:st.acrossPanes,translatedValue:zt},function(Ce){zt=T(zt,St.translate(ve,null,null,Dt)),zt=it(zt,-1e5,1e5),Pt=Fi=Math.round(zt+fe),Se=Ge=Math.round(Nt-zt-fe),c(zt)?St.horiz?(Se=Vt,Ge=Nt-St.bottom,Pt=Fi=Mt(Pt,te,te+St.width)):(Pt=te,Fi=Kt-St.right,Se=Ge=Mt(Se,Vt,Vt+St.height)):(_e=!0,Ne=!1),Ce.path=_e&&!Ne?null:Xt.renderer.crispLine([["M",Pt,Se],["L",Fi,Ge]],Gt||1)}),st.path},at.prototype.getLinearTickPositions=function(st,Mt,St){var Xt=ot(Math.floor(Mt/st)*st);St=ot(Math.ceil(St/st)*st);var Vt,te=[];if(ot(Xt+st)===Xt&&(Vt=20),this.single)return[Mt];for(Mt=Xt;Mt<=St&&(te.push(Mt),(Mt=ot(Mt+st,Vt))!==Dt);)var Dt=Mt;return te},at.prototype.getMinorTickInterval=function(){var st=this.options;return!0===st.minorTicks?T(st.minorTickInterval,"auto"):!1===st.minorTicks?null:st.minorTickInterval},at.prototype.getMinorTickPositions=function(){var st=this.options,Mt=this.tickPositions,St=this.minorTickInterval,Xt=this.pointRangePadding||0,te=this.min-Xt,Vt=(Xt=this.max+Xt)-te,Dt=[];if(Vt&&Vt/St<this.len/3){var ve=this.logarithmic;if(ve)this.paddedTicks.forEach(function(Gt,Nt,Kt){Nt&&Dt.push.apply(Dt,ve.getLogTickPositions(St,Kt[Nt-1],Kt[Nt],!0))});else if(this.dateTime&&"auto"===this.getMinorTickInterval())Dt=Dt.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(St),te,Xt,st.startOfWeek));else for(st=te+(Mt[0]-te)%St;st<=Xt&&st!==Dt[0];st+=St)Dt.push(st)}return 0!==Dt.length&&this.trimTicks(Dt),Dt},at.prototype.adjustForMinRange=function(){var Vt,Dt,ve,Gt,st=this.options,Mt=this.logarithmic,St=this.min,Xt=this.max,te=0;if(this.isXAxis&&void 0===this.minRange&&!Mt&&(lt(st.min)||lt(st.max)||lt(st.floor)||lt(st.ceiling)?this.minRange=null:(this.series.forEach(function(zt){if(ve=zt.xData,Gt=zt.xIncrement?1:ve.length-1,1<ve.length)for(Vt=Gt;0<Vt;Vt--)Dt=ve[Vt]-ve[Vt-1],(!te||Dt<te)&&(te=Dt)}),this.minRange=Math.min(5*te,this.dataMax-this.dataMin))),Xt-St<this.minRange){var Nt=this.dataMax-this.dataMin>=this.minRange,Kt=this.minRange,fe=(Kt-Xt+St)/2;fe=[St-fe,T(st.min,St-fe)],Nt&&(fe[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),Xt=[(St=q(fe))+Kt,T(st.max,St+Kt)],Nt&&(Xt[2]=Mt?Mt.log2lin(this.dataMax):this.dataMax),(Xt=U(Xt))-St<Kt&&(fe[0]=Xt-Kt,fe[1]=T(st.min,Xt-Kt),St=q(fe))}this.min=St,this.max=Xt},at.prototype.getClosest=function(){var st;return this.categories?st=1:this.series.forEach(function(Mt){var St=Mt.closestPointRange,Xt=Mt.visible||!Mt.chart.options.chart.ignoreHiddenSeries;!Mt.noSharedTooltip&&lt(St)&&Xt&&(st=lt(st)?Math.min(st,St):St)}),st},at.prototype.nameToX=function(st){var Mt=o(this.categories),St=Mt?this.categories:this.names,Xt=st.options.x;if(st.series.requireSorting=!1,lt(Xt)||(Xt=this.options.uniqueNames?Mt?St.indexOf(st.name):T(St.keys[st.name],-1):st.series.autoIncrement()),-1===Xt){if(!Mt)var te=St.length}else te=Xt;return void 0!==te&&(this.names[te]=st.name,this.names.keys[st.name]=te),te},at.prototype.updateNames=function(){var st=this,Mt=this.names;0<Mt.length&&(Object.keys(Mt.keys).forEach(function(St){delete Mt.keys[St]}),Mt.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(St){St.xIncrement=null,(!St.points||St.isDirtyData)&&(st.max=Math.max(st.max,St.xData.length-1),St.processData(),St.generatePoints()),St.data.forEach(function(Xt,te){if(Xt&&Xt.options&&void 0!==Xt.name){var Vt=st.nameToX(Xt);void 0!==Vt&&Vt!==Xt.x&&(Xt.x=Vt,St.xData[te]=Vt)}})}))},at.prototype.setAxisTranslation=function(){var Gt,st=this,Mt=st.max-st.min,St=st.linkedParent,Xt=!!st.categories,te=st.isXAxis,Vt=st.axisPointRange||0,Dt=0,ve=0;if(te||Xt||Vt){var Nt=st.getClosest();St?(Dt=St.minPointOffset,ve=St.pointRangePadding):st.series.forEach(function(Kt){var fe=Xt?1:te?T(Kt.options.pointRange,Nt,0):st.axisPointRange||0,zt=Kt.options.pointPlacement;Vt=Math.max(Vt,fe),(!st.single||Xt)&&(Kt=Kt.is("xrange")?!te:te,Dt=Math.max(Dt,Kt&&g(zt)?0:fe/2),ve=Math.max(ve,Kt&&"on"===zt?0:fe))}),st.minPointOffset=Dt*=St=st.ordinal&&st.ordinal.slope&&Nt?st.ordinal.slope/Nt:1,st.pointRangePadding=ve*=St,st.pointRange=Math.min(Vt,st.single&&Xt?1:Mt),te&&(st.closestPointRange=Nt)}st.translationSlope=st.transA=Gt=st.staticScale||st.len/(Mt+ve||1),st.transB=st.horiz?st.left:st.bottom,st.minPixelPadding=Gt*Dt,Et(this,"afterSetAxisTranslation")},at.prototype.minFromRange=function(){return this.max-this.range},at.prototype.setTickInterval=function(st){var Mt=this.chart,St=this.logarithmic,Xt=this.options,te=this.isXAxis,Vt=this.isLinked,Dt=Xt.tickPixelInterval,ve=this.categories,Gt=this.softThreshold,Nt=Xt.maxPadding,Kt=Xt.minPadding,fe=c(Xt.tickInterval)&&0<=Xt.tickInterval?Xt.tickInterval:void 0,zt=c(this.threshold)?this.threshold:null;this.dateTime||ve||Vt||this.getTickAmount();var Ne=T(this.userMin,Xt.min),Pt=T(this.userMax,Xt.max);if(Vt){this.linkedParent=Mt[this.coll][Xt.linkedTo];var Se=this.linkedParent.getExtremes();this.min=T(Se.min,Se.dataMin),this.max=T(Se.max,Se.dataMax),Xt.type!==this.linkedParent.options.type&&Ot(11,1,Mt)}else{if(Gt&&lt(zt))if(this.dataMin>=zt)Se=zt,Kt=0;else if(this.dataMax<=zt){var Fi=zt;Nt=0}this.min=T(Ne,Se,this.dataMin),this.max=T(Pt,Fi,this.dataMax)}if(St&&(this.positiveValuesOnly&&!st&&0>=Math.min(this.min,T(this.dataMin,this.min))&&Ot(10,1,Mt),this.min=ot(St.log2lin(this.min),16),this.max=ot(St.log2lin(this.max),16)),this.range&&lt(this.max)&&(this.userMin=this.min=Ne=Math.max(this.dataMin,this.minFromRange()),this.userMax=Pt=this.max,this.range=null),Et(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(ve||this.axisPointRange||this.stacking&&this.stacking.usePercentage||Vt)&&lt(this.min)&&lt(this.max)&&(Mt=this.max-this.min)&&(!lt(Ne)&&Kt&&(this.min-=Mt*Kt),!lt(Pt)&&Nt&&(this.max+=Mt*Nt)),c(this.userMin)||(c(Xt.softMin)&&Xt.softMin<this.min&&(this.min=Ne=Xt.softMin),c(Xt.floor)&&(this.min=Math.max(this.min,Xt.floor))),c(this.userMax)||(c(Xt.softMax)&&Xt.softMax>this.max&&(this.max=Pt=Xt.softMax),c(Xt.ceiling)&&(this.max=Math.min(this.max,Xt.ceiling))),Gt&&lt(this.dataMin)&&(zt=zt||0,!lt(Ne)&&this.min<zt&&this.dataMin>=zt?this.min=this.options.minRange?Math.min(zt,this.max-this.minRange):zt:!lt(Pt)&&this.max>zt&&this.dataMax<=zt&&(this.max=this.options.minRange?Math.max(zt,this.min+this.minRange):zt)),c(this.min)&&c(this.max)&&!this.chart.polar&&this.min>this.max&&(lt(this.options.min)?this.max=this.min:lt(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||void 0===this.min||void 0===this.max?1:Vt&&this.linkedParent&&!fe&&Dt===this.linkedParent.options.tickPixelInterval?fe=this.linkedParent.tickInterval:T(fe,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,ve?1:(this.max-this.min)*Dt/Math.max(this.len,Dt)),te&&!st){var Ge=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(_e){_e.forceCrop=_e.forceCropping&&_e.forceCropping(),_e.processData(Ge)}),Et(this,"postProcessData",{hasExtemesChanged:Ge})}this.setAxisTranslation(),Et(this,"initialAxisTranslation"),this.pointRange&&!fe&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),st=T(Xt.minTickInterval,this.dateTime&&!this.series.some(function(_e){return _e.noSharedTooltip})?this.closestPointRange:0),!fe&&this.tickInterval<st&&(this.tickInterval=st),this.dateTime||this.logarithmic||fe||(this.tickInterval=w(this.tickInterval,void 0,A(this.tickInterval),T(Xt.allowDecimals,.5>this.tickInterval||void 0!==this.tickAmount),!!this.tickAmount)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()},at.prototype.setTickPositions=function(){var st=this.options,Mt=st.tickPositions,St=this.getMinorTickInterval(),Xt=this.hasVerticalPanning(),te="colorAxis"===this.coll,Vt=(te||!Xt)&&st.startOnTick;Xt=(te||!Xt)&&st.endOnTick,te=st.tickPositioner,this.tickmarkOffset=this.categories&&"between"===st.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===St&&this.tickInterval?this.tickInterval/5:St,this.single=this.min===this.max&&lt(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==st.allowDecimals),this.tickPositions=St=Mt&&Mt.slice(),!St&&(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))?St=this.dateTime?this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,st.units),this.min,this.max,st.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0):this.logarithmic?this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max):(St=[this.min,this.max],Ot(19,!1,this.chart)),St.length>this.len&&(St=[St[0],St.pop()])[0]===St[1]&&(St.length=1),this.tickPositions=St,te&&(te=te.apply(this,[this.min,this.max])))&&(this.tickPositions=St=te),this.paddedTicks=St.slice(0),this.trimTicks(St,Vt,Xt),this.isLinked||(this.single&&2>St.length&&!this.categories&&!this.series.some(function(Dt){return Dt.is("heatmap")&&"between"===Dt.options.pointPlacement})&&(this.min-=.5,this.max+=.5),Mt||te||this.adjustTickAmount()),Et(this,"afterSetTickPositions")},at.prototype.trimTicks=function(st,Mt,St){var Xt=st[0],te=st[st.length-1],Vt=!this.isOrdinal&&this.minPointOffset||0;if(Et(this,"trimTicks"),!this.isLinked){if(Mt&&Xt!==-1/0)this.min=Xt;else for(;this.min-Vt>st[0];)st.shift();if(St)this.max=te;else for(;this.max+Vt<st[st.length-1];)st.pop();0===st.length&&lt(Xt)&&!this.options.tickPositions&&st.push((te+Xt)/2)}},at.prototype.alignToOthers=function(){var St,st={},Mt=this.options;return!1!==this.chart.options.chart.alignTicks&&Mt.alignTicks&&!1!==Mt.startOnTick&&!1!==Mt.endOnTick&&!this.logarithmic&&this.chart[this.coll].forEach(function(Xt){var te=Xt.options;te=[Xt.horiz?te.left:te.top,te.width,te.height,te.pane].join(),Xt.series.length&&(st[te]?St=!0:st[te]=1)}),St},at.prototype.getTickAmount=function(){var st=this.options,Mt=st.tickPixelInterval,St=st.tickAmount;!lt(st.tickInterval)&&!St&&this.len<Mt&&!this.isRadial&&!this.logarithmic&&st.startOnTick&&st.endOnTick&&(St=2),!St&&this.alignToOthers()&&(St=Math.ceil(this.len/Mt)+1),4>St&&(this.finalTickAmt=St,St=5),this.tickAmount=St},at.prototype.adjustTickAmount=function(){var st=this.options,Mt=this.tickInterval,St=this.tickPositions,Xt=this.tickAmount,te=this.finalTickAmt,Vt=St&&St.length,Dt=T(this.threshold,this.softThreshold?0:null);if(this.hasData()&&c(this.min)&&c(this.max)){if(Vt<Xt){for(;St.length<Xt;)St.length%2||this.min===Dt?St.push(ot(St[St.length-1]+Mt)):St.unshift(ot(St[0]-Mt));this.transA*=(Vt-1)/(Xt-1),this.min=st.startOnTick?St[0]:Math.min(this.min,St[0]),this.max=st.endOnTick?St[St.length-1]:Math.max(this.max,St[St.length-1])}else Vt>Xt&&(this.tickInterval*=2,this.setTickPositions());if(lt(te)){for(Mt=st=St.length;Mt--;)(3===te&&Mt%2==1||2>=te&&0<Mt&&Mt<st-1)&&St.splice(Mt,1);this.finalTickAmt=void 0}}},at.prototype.setScale=function(){var st=!1,Mt=!1;this.series.forEach(function(Xt){st=st||Xt.isDirtyData||Xt.isDirty,Mt=Mt||Xt.xAxis&&Xt.xAxis.isDirty||!1}),this.setAxisSize();var St=this.len!==(this.old&&this.old.len);St||st||Mt||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&this.stacking.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=St||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),st&&this.panningState&&(this.panningState.isDirty=!0),Et(this,"afterSetScale")},at.prototype.setExtremes=function(st,Mt,St,Xt,te){var Vt=this,Dt=Vt.chart;St=T(St,!0),Vt.series.forEach(function(ve){delete ve.kdTree}),te=Tt(te,{min:st,max:Mt}),Et(Vt,"setExtremes",te,function(){Vt.userMin=st,Vt.userMax=Mt,Vt.eventArgs=te,St&&Dt.redraw(Xt)})},at.prototype.zoom=function(st,Mt){var St=this,Xt=this.dataMin,te=this.dataMax,Vt=this.options,Dt=Math.min(Xt,T(Vt.min,Xt)),ve=Math.max(te,T(Vt.max,te));return Et(this,"zoom",st={newMin:st,newMax:Mt},function(Gt){var Nt=Gt.newMin,Kt=Gt.newMax;(Nt!==St.min||Kt!==St.max)&&(St.allowZoomOutside||(lt(Xt)&&(Nt<Dt&&(Nt=Dt),Nt>ve&&(Nt=ve)),lt(te)&&(Kt<Dt&&(Kt=Dt),Kt>ve&&(Kt=ve))),St.displayBtn=void 0!==Nt||void 0!==Kt,St.setExtremes(Nt,Kt,!1,void 0,{trigger:"zoom"})),Gt.zoomed=!0}),st.zoomed},at.prototype.setAxisSize=function(){var st=this.chart,Mt=this.options,St=Mt.offsets||[0,0,0,0],Xt=this.horiz,te=this.width=Math.round(C(T(Mt.width,st.plotWidth-St[3]+St[1]),st.plotWidth)),Vt=this.height=Math.round(C(T(Mt.height,st.plotHeight-St[0]+St[2]),st.plotHeight)),Dt=this.top=Math.round(C(T(Mt.top,st.plotTop+St[0]),st.plotHeight,st.plotTop));Mt=this.left=Math.round(C(T(Mt.left,st.plotLeft+St[3]),st.plotWidth,st.plotLeft)),this.bottom=st.chartHeight-Vt-Dt,this.right=st.chartWidth-te-Mt,this.len=Math.max(Xt?te:Vt,0),this.pos=Xt?Mt:Dt},at.prototype.getExtremes=function(){var st=this.logarithmic;return{min:st?ot(st.lin2log(this.min)):this.min,max:st?ot(st.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},at.prototype.getThreshold=function(st){var Mt=this.logarithmic,St=Mt?Mt.lin2log(this.min):this.min;return Mt=Mt?Mt.lin2log(this.max):this.max,null===st||st===-1/0?st=St:st===1/0?st=Mt:St>st?st=St:Mt<st&&(st=Mt),this.translate(st,0,1,0,1)},at.prototype.autoLabelAlign=function(st){var Mt=(T(st,0)-90*this.side+720)%360;return Et(this,"autoLabelAlign",st={align:"center"},function(St){15<Mt&&165>Mt?St.align="right":195<Mt&&345>Mt&&(St.align="left")}),st.align},at.prototype.tickSize=function(st){var Mt=this.options,St=T(Mt["tick"===st?"tickWidth":"minorTickWidth"],"tick"===st&&this.isXAxis&&!this.categories?1:0),Xt=Mt["tick"===st?"tickLength":"minorTickLength"];if(St&&Xt){"inside"===Mt[st+"Position"]&&(Xt=-Xt);var te=[Xt,St]}return Et(this,"afterTickSize",st={tickSize:te}),st.tickSize},at.prototype.labelMetrics=function(){var st=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[st]&&this.ticks[st].label)},at.prototype.unsquish=function(){var Nt,Kt,st=this.options.labels,Mt=this.horiz,St=this.tickInterval,Xt=this.len/(((this.categories?1:0)+this.max-this.min)/St),te=st.rotation,Vt=this.labelMetrics(),Dt=Math.max(this.max-this.min,0),ve=function(Ne){var Pt=Ne/(Xt||1);return(Pt=1<Pt?Math.ceil(Pt):1)*St>Dt&&Ne!==1/0&&Xt!==1/0&&Dt&&(Pt=Math.ceil(Dt/St)),ot(Pt*St)},Gt=St,fe=Number.MAX_VALUE;if(Mt){if(!st.staggerLines&&!st.step)if(c(te))var zt=[te];else Xt<st.autoRotationLimit&&(zt=st.autoRotation);zt&&zt.forEach(function(Ne){if(Ne===te||Ne&&-90<=Ne&&90>=Ne){var Pt=(Kt=ve(Math.abs(Vt.h/Math.sin(Y*Ne))))+Math.abs(Ne/360);Pt<fe&&(fe=Pt,Nt=Ne,Gt=Kt)}})}else st.step||(Gt=ve(Vt.h));return this.autoRotation=zt,this.labelRotation=T(Nt,c(te)?te:0),Gt},at.prototype.getSlotWidth=function(st){var Mt=this.chart,St=this.horiz,Xt=this.options.labels,te=Math.max(this.tickPositions.length-(this.categories?0:1),1),Vt=Mt.margin[3];if(st&&c(st.slotWidth))return st.slotWidth;if(St&&2>Xt.step)return Xt.rotation?0:(this.staggerLines||1)*this.len/te;if(!St){if(void 0!==(st=Xt.style.width))return parseInt(String(st),10);if(Vt)return Vt-Mt.spacing[3]}return.33*Mt.chartWidth},at.prototype.renderUnsquish=function(){var st=this.chart,Mt=st.renderer,St=this.tickPositions,Xt=this.ticks,te=this.options.labels,Vt=te.style,Dt=this.horiz,ve=this.getSlotWidth(),Gt=Math.max(1,Math.round(ve-2*te.padding)),Nt={},Kt=this.labelMetrics(),fe=Vt.textOverflow,zt=0;if(g(te.rotation)||(Nt.rotation=te.rotation||0),St.forEach(function(Fi){(Fi=Xt[Fi]).movedLabel&&Fi.replaceMovedLabel(),Fi&&Fi.label&&Fi.label.textPxLength>zt&&(zt=Fi.label.textPxLength)}),this.maxLabelLength=zt,this.autoRotation)zt>Gt&&zt>Kt.h?Nt.rotation=this.labelRotation:this.labelRotation=0;else if(ve){var Ne=Gt;if(!fe){var Pt="clip";for(Gt=St.length;!Dt&&Gt--;){var Se=St[Gt];(Se=Xt[Se].label)&&(Se.styles&&"ellipsis"===Se.styles.textOverflow?Se.css({textOverflow:"clip"}):Se.textPxLength>ve&&Se.css({width:ve+"px"}),Se.getBBox().height>this.len/St.length-(Kt.h-Kt.f)&&(Se.specificTextOverflow="ellipsis"))}}}Nt.rotation&&(Ne=zt>.5*st.chartHeight?.33*st.chartHeight:zt,fe||(Pt="ellipsis")),(this.labelAlign=te.align||this.autoLabelAlign(this.labelRotation))&&(Nt.align=this.labelAlign),St.forEach(function(Fi){var Ge=(Fi=Xt[Fi])&&Fi.label,_e=Vt.width,Ce={};Ge&&(Ge.attr(Nt),Fi.shortenLabel?Fi.shortenLabel():Ne&&!_e&&"nowrap"!==Vt.whiteSpace&&(Ne<Ge.textPxLength||"SPAN"===Ge.element.tagName)?(Ce.width=Ne+"px",fe||(Ce.textOverflow=Ge.specificTextOverflow||Pt),Ge.css(Ce)):Ge.styles&&Ge.styles.width&&!Ce.width&&!_e&&Ge.css({width:null}),delete Ge.specificTextOverflow,Fi.rotation=Nt.rotation)},this),this.tickRotCorr=Mt.rotCorr(Kt.b,this.labelRotation||0,0!==this.side)},at.prototype.hasData=function(){return this.series.some(function(st){return st.hasData()})||this.options.showEmpty&&lt(this.min)&&lt(this.max)},at.prototype.addTitle=function(st){var Dt,Xt=this.opposite,te=this.options.title,Vt=this.chart.styledMode;this.axisTitle||((Dt=te.textAlign)||(Dt=(this.horiz?{low:"left",middle:"center",high:"right"}:{low:Xt?"right":"left",middle:"center",high:Xt?"left":"right"})[te.align]),this.axisTitle=this.chart.renderer.text(te.text||"",0,0,te.useHTML).attr({zIndex:7,rotation:te.rotation,align:Dt}).addClass("highcharts-axis-title"),Vt||this.axisTitle.css(p(te.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),Vt||te.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[st?"show":"hide"](st)},at.prototype.generateTick=function(st){var Mt=this.ticks;Mt[st]?Mt[st].addLabel():Mt[st]=new F(this,st)},at.prototype.getOffset=function(){var st=this,Mt=this,St=Mt.chart,Xt=Mt.horiz,te=Mt.options,Vt=Mt.side,Dt=Mt.ticks,ve=Mt.tickPositions,Gt=Mt.coll,Nt=Mt.axisParent,Kt=St.renderer,fe=St.inverted&&!Mt.isZAxis?[1,0,3,2][Vt]:Vt,zt=Mt.hasData(),Ne=te.title,Pt=te.labels,Se=St.axisOffset;St=St.clipOffset;var _e,Fi=[-1,1,1,-1][Vt],Ge=te.className,Ce=0,Bt=0,re=0;if(Mt.showAxis=_e=zt||te.showEmpty,Mt.staggerLines=Mt.horiz&&Pt.staggerLines||void 0,!Mt.axisGroup){var Ye=function(yt,ht,ce){return Kt.g(yt).attr({zIndex:ce}).addClass("highcharts-"+Gt.toLowerCase()+ht+" "+(st.isRadial?"highcharts-radial-axis"+ht+" ":"")+(Ge||"")).add(Nt)};Mt.gridGroup=Ye("grid","-grid",te.gridZIndex),Mt.axisGroup=Ye("axis","",te.zIndex),Mt.labelGroup=Ye("axis-labels","-labels",Pt.zIndex)}if(zt||Mt.isLinked?(ve.forEach(function(yt){Mt.generateTick(yt)}),Mt.renderUnsquish(),Mt.reserveSpaceDefault=0===Vt||2===Vt||{1:"left",3:"right"}[Vt]===Mt.labelAlign,T(Pt.reserveSpace,"center"===Mt.labelAlign||null,Mt.reserveSpaceDefault)&&ve.forEach(function(yt){re=Math.max(Dt[yt].getLabelSize(),re)}),Mt.staggerLines&&(re*=Mt.staggerLines),Mt.labelOffset=re*(Mt.opposite?-1:1)):S(Dt,function(yt,ht){yt.destroy(),delete Dt[ht]}),Ne&&Ne.text&&!1!==Ne.enabled&&(Mt.addTitle(_e),_e&&!1!==Ne.reserveSpace)){Mt.titleOffset=Ce=Mt.axisTitle.getBBox()[Xt?"height":"width"];var jt=Ne.offset;Bt=lt(jt)?0:T(Ne.margin,Xt?5:10)}Mt.renderLine(),Mt.offset=Fi*T(te.offset,Se[Vt]?Se[Vt]+(te.margin||0):0),Mt.tickRotCorr=Mt.tickRotCorr||{x:0,y:0},Ne=0===Vt?-Mt.labelMetrics().h:2===Vt?Mt.tickRotCorr.y:0,zt=Math.abs(re)+Bt,re&&(zt=zt-Ne+Fi*(Xt?T(Pt.y,Mt.tickRotCorr.y+8*Fi):Pt.x)),Mt.axisTitleMargin=T(jt,zt),Mt.getMaxLabelDimensions&&(Mt.maxLabelDimensions=Mt.getMaxLabelDimensions(Dt,ve)),"colorAxis"!==Gt&&(Xt=this.tickSize("tick"),Se[Vt]=Math.max(Se[Vt],(Mt.axisTitleMargin||0)+Ce+Fi*Mt.offset,zt,ve&&ve.length&&Xt?Xt[0]+Fi*Mt.offset:0),te=!Mt.axisLine||te.offset?0:2*Math.floor(Mt.axisLine.strokeWidth()/2),St[fe]=Math.max(St[fe],te)),Et(this,"afterGetOffset")},at.prototype.getLinePath=function(st){var Mt=this.chart,St=this.opposite,Xt=this.offset,te=this.horiz,Vt=this.left+(St?this.width:0)+Xt;return Xt=Mt.chartHeight-this.bottom-(St?this.height:0)+Xt,St&&(st*=-1),Mt.renderer.crispLine([["M",te?this.left:Vt,te?Xt:this.top],["L",te?Mt.chartWidth-this.right:Vt,te?Xt:Mt.chartHeight-this.bottom]],st)},at.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},at.prototype.getTitlePosition=function(){var st=this.horiz,Mt=this.left,St=this.top,Xt=this.len,te=this.options.title,Vt=st?Mt:St,Dt=this.opposite,ve=this.offset,Gt=te.x,Nt=te.y,Kt=this.axisTitle,fe=this.chart.renderer.fontMetrics(te.style.fontSize,Kt);return Kt=Math.max(Kt.getBBox(null,0).height-fe.h-1,0),Xt={low:Vt+(st?0:Xt),middle:Vt+Xt/2,high:Vt+(st?Xt:0)}[te.align],Mt=(st?St+this.height:Mt)+(st?1:-1)*(Dt?-1:1)*this.axisTitleMargin+[-Kt,Kt,fe.f,-Kt][this.side],Et(this,"afterGetTitlePosition",{titlePosition:st={x:st?Xt+Gt:Mt+(Dt?this.width:0)+ve+Gt,y:st?Mt+Nt-(Dt?this.height:0)+ve:Xt+Nt}}),st},at.prototype.renderMinorTick=function(st,Mt){var St=this.minorTicks;St[st]||(St[st]=new F(this,st,"minor")),Mt&&St[st].isNew&&St[st].render(null,!0),St[st].render(null,!1,1)},at.prototype.renderTick=function(st,Mt,St){var Xt=this.ticks;(!this.isLinked||st>=this.min&&st<=this.max||this.grid&&this.grid.isColumn)&&(Xt[st]||(Xt[st]=new F(this,st)),St&&Xt[st].isNew&&Xt[st].render(Mt,!0,-1),Xt[st].render(Mt))},at.prototype.render=function(){var Fi,Ge,st=this,Mt=st.chart,St=st.logarithmic,Xt=st.options,te=st.isLinked,Vt=st.tickPositions,Dt=st.axisTitle,ve=st.ticks,Gt=st.minorTicks,Nt=st.alternateBands,Kt=Xt.stackLabels,fe=Xt.alternateGridColor,zt=st.tickmarkOffset,Ne=st.axisLine,Pt=st.showAxis,Se=B(Mt.renderer.globalAnimation);if(st.labelEdge.length=0,st.overlap=!1,[ve,Gt,Nt].forEach(function(Ce){S(Ce,function(Bt){Bt.isActive=!1})}),st.hasData()||te){var _e=st.chart.hasRendered&&st.old&&c(st.old.min);st.minorTickInterval&&!st.categories&&st.getMinorTickPositions().forEach(function(Ce){st.renderMinorTick(Ce,_e)}),Vt.length&&(Vt.forEach(function(Ce,Bt){st.renderTick(Ce,Bt,_e)}),zt&&(0===st.min||st.single)&&(ve[-1]||(ve[-1]=new F(st,-1,null,!0)),ve[-1].render(-1))),fe&&Vt.forEach(function(Ce,Bt){Ge=void 0!==Vt[Bt+1]?Vt[Bt+1]+zt:st.max-zt,Bt%2==0&&Ce<st.max&&Ge<=st.max+(Mt.polar?-zt:zt)&&(Nt[Ce]||(Nt[Ce]=new H.PlotLineOrBand(st)),Fi=Ce+zt,Nt[Ce].options={from:St?St.lin2log(Fi):Fi,to:St?St.lin2log(Ge):Ge,color:fe,className:"highcharts-alternate-grid"},Nt[Ce].render(),Nt[Ce].isActive=!0)}),st._addedPlotLB||(st._addedPlotLB=!0,(Xt.plotLines||[]).concat(Xt.plotBands||[]).forEach(function(Ce){st.addPlotBandOrLine(Ce)}))}[ve,Gt,Nt].forEach(function(Ce){var Bt=[],re=Se.duration;S(Ce,function(Ye,jt){Ye.isActive||(Ye.render(jt,!1,0),Ye.isActive=!1,Bt.push(jt))}),ft(function(){for(var Ye=Bt.length;Ye--;)Ce[Bt[Ye]]&&!Ce[Bt[Ye]].isActive&&(Ce[Bt[Ye]].destroy(),delete Ce[Bt[Ye]])},Ce!==Nt&&Mt.hasRendered&&re?re:0)}),Ne&&(Ne[Ne.isPlaced?"animate":"attr"]({d:this.getLinePath(Ne.strokeWidth())}),Ne.isPlaced=!0,Ne[Pt?"show":"hide"](Pt)),Dt&&Pt&&(Xt=st.getTitlePosition(),c(Xt.y)?(Dt[Dt.isNew?"attr":"animate"](Xt),Dt.isNew=!1):(Dt.attr("y",-9999),Dt.isNew=!0)),Kt&&Kt.enabled&&st.stacking&&st.stacking.renderStackTotals(),st.old={len:st.len,max:st.max,min:st.min,transA:st.transA,userMax:st.userMax,userMin:st.userMin},st.isDirty=!1,Et(this,"afterRender")},at.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(st){st.render()})),this.series.forEach(function(st){st.isDirty=!0})},at.prototype.getKeepProps=function(){return this.keepProps||at.keepProps},at.prototype.destroy=function(st){var Mt=this,St=Mt.plotLinesAndBands,Xt=this.eventOptions;if(Et(this,"destroy",{keepEvents:st}),st||h(Mt),[Mt.ticks,Mt.minorTicks,Mt.alternateBands].forEach(function(Vt){wt(Vt)}),St)for(st=St.length;st--;)St[st].destroy();for(var te in"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(Vt){Mt[Vt]&&(Mt[Vt]=Mt[Vt].destroy())}),Mt.plotLinesAndBandsGroups)Mt.plotLinesAndBandsGroups[te]=Mt.plotLinesAndBandsGroups[te].destroy();S(Mt,function(Vt,Dt){-1===Mt.getKeepProps().indexOf(Dt)&&delete Mt[Dt]}),this.eventOptions=Xt},at.prototype.drawCrosshair=function(st,Mt){var Vt,St=this.crosshair,Xt=T(St&&St.snap,!0),te=this.chart,Dt=this.cross;if(Et(this,"drawCrosshair",{e:st,point:Mt}),st||(st=this.cross&&this.cross.e),St&&!1!==(lt(Mt)||!Xt)){if(Xt?lt(Mt)&&(Vt=T("colorAxis"!==this.coll?Mt.crosshairPos:null,this.isXAxis?Mt.plotX:this.len-Mt.plotY)):Vt=st&&(this.horiz?st.chartX-this.pos:this.len-st.chartY+this.pos),lt(Vt)){var ve={value:Mt&&(this.isXAxis?Mt.x:T(Mt.stackY,Mt.y)),translatedValue:Vt};te.polar&&Tt(ve,{isCrosshair:!0,chartX:st&&st.chartX,chartY:st&&st.chartY,point:Mt}),ve=this.getPlotLinePath(ve)||null}if(!lt(ve))return void this.hideCrosshair();Xt=this.categories&&!this.isRadial,Dt||(this.cross=Dt=te.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(Xt?"category ":"thin ")+(St.className||"")).attr({zIndex:T(St.zIndex,2)}).add(),te.styledMode||(Dt.attr({stroke:St.color||(Xt?G.parse("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":T(St.width,1)}).css({"pointer-events":"none"}),St.dashStyle&&Dt.attr({dashstyle:St.dashStyle}))),Dt.show().attr({d:ve}),Xt&&!St.width&&Dt.attr({"stroke-width":this.transA}),this.cross.e=st}else this.hideCrosshair();Et(this,"afterDrawCrosshair",{e:st,point:Mt})},at.prototype.hideCrosshair=function(){this.cross&&this.cross.hide(),Et(this,"afterHideCrosshair")},at.prototype.hasVerticalPanning=function(){var st=this.chart.options.chart.panning;return!!(st&&st.enabled&&/y/.test(st.type))},at.prototype.validatePositiveValue=function(st){return c(st)&&0<st},at.prototype.update=function(st,Mt){var St=this.chart;st=p(this.userOptions,st),this.destroy(!0),this.init(St,st),St.isDirtyBox=!0,T(Mt,!0)&&St.redraw()},at.prototype.remove=function(st){for(var Mt=this.chart,St=this.coll,Xt=this.series,te=Xt.length;te--;)Xt[te]&&Xt[te].remove(!1);xt(Mt.axes,this),xt(Mt[St],this),Mt[St].forEach(function(Vt,Dt){Vt.options.index=Vt.userOptions.index=Dt}),this.destroy(),Mt.isDirtyBox=!0,T(st,!0)&&Mt.redraw()},at.prototype.setTitle=function(st,Mt){this.update({title:st},Mt)},at.prototype.setCategories=function(st,Mt){this.update({categories:st},Mt)},at.defaultOptions=W.defaultXAxisOptions,at.keepProps="extKey hcEvents names series userMax userMin".split(" "),at}()}),J(tt,"Core/Axis/DateTimeAxis.js",[tt["Core/Utilities.js"]],function(b){var H,W=b.addEvent,G=b.getMagnitude,rt=b.normalizeTickInterval,Z=b.timeUnits;return function(F){function et(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function B(Y){"datetime"!==Y.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new z(this))}var X=[];F.compose=function(Y){return-1===X.indexOf(Y)&&(X.push(Y),Y.keepProps.push("dateTime"),Y.prototype.getTimeTicks=et,W(Y,"init",B)),Y};var z=function(){function Y(q){this.axis=q}return Y.prototype.normalizeTimeTickInterval=function(q,U){var wt,it=U||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],ot=Z[(U=it[it.length-1])[0]],lt=U[1];for(wt=0;wt<it.length&&(ot=Z[(U=it[wt])[0]],lt=U[1],!(it[wt+1]&&q<=(ot*lt[lt.length-1]+Z[it[wt+1][0]])/2));wt++);return ot===Z.year&&q<5*ot&&(lt=[1,2,5]),{unitRange:ot,count:q=rt(q/ot,lt,"year"===U[0]?Math.max(G(q/ot),1):1),unitName:U[0]}},Y.prototype.getXDateFormat=function(q,U){var it=this.axis;return it.closestPointRange?it.chart.time.getDateFormat(it.closestPointRange,q,it.options.startOfWeek,U)||U.year:U.day},Y}();F.Additions=z}(H||(H={})),H}),J(tt,"Core/Axis/LogarithmicAxis.js",[tt["Core/Utilities.js"]],function(b){var H,W=b.addEvent,G=b.getMagnitude,rt=b.normalizeTickInterval,Z=b.pick;return function(F){function et(Y){var q=this.logarithmic;"logarithmic"!==Y.userOptions.type?this.logarithmic=void 0:q||(this.logarithmic=new z(this))}function B(){var Y=this.logarithmic;Y&&(this.lin2val=function(q){return Y.lin2log(q)},this.val2lin=function(q){return Y.log2lin(q)})}var X=[];F.compose=function(Y){return-1===X.indexOf(Y)&&(X.push(Y),Y.keepProps.push("logarithmic"),W(Y,"init",et),W(Y,"afterInit",B)),Y};var z=function(){function Y(q){this.axis=q}return Y.prototype.getLogTickPositions=function(q,U,it,ot){var lt=this.axis,wt=lt.len,xt=lt.options,Ot=[];if(ot||(this.minorAutoInterval=void 0),.5<=q)q=Math.round(q),Ot=lt.getLinearTickPositions(q,U,it);else if(.08<=q){var Et,Tt=Math.floor(U),A=xt=void 0;for(wt=.3<q?[1,2,4]:.15<q?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];Tt<it+1&&!A;Tt++){var o=wt.length;for(Et=0;Et<o&&!A;Et++){var c=this.log2lin(this.lin2log(Tt)*wt[Et]);c>U&&(!ot||xt<=it)&&void 0!==xt&&Ot.push(xt),xt>it&&(A=!0),xt=c}}}else U=this.lin2log(U),it=this.lin2log(it),q=ot?lt.getMinorTickInterval():xt.tickInterval,q=Z("auto"===q?null:q,this.minorAutoInterval,xt.tickPixelInterval/(ot?5:1)*(it-U)/((ot?wt/lt.tickPositions.length:wt)||1)),q=rt(q,void 0,G(q)),Ot=lt.getLinearTickPositions(q,U,it).map(this.log2lin),ot||(this.minorAutoInterval=q/5);return ot||(lt.tickInterval=q),Ot},Y.prototype.lin2log=function(q){return Math.pow(10,q)},Y.prototype.log2lin=function(q){return Math.log(q)/Math.LN10},Y}();F.Additions=z}(H||(H={})),H}),J(tt,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[tt["Core/Utilities.js"]],function(b){var Z,W=b.erase,G=b.extend,rt=b.isNumber;return function(H){var et,F=[];H.compose=function(X,z){return et||(et=X),-1===F.indexOf(z)&&(F.push(z),G(z.prototype,B.prototype)),z};var B=function(){function X(){}return X.prototype.getPlotBandPath=function(z,Y,q){void 0===q&&(q=this.options);var U=this.getPlotLinePath({value:Y,force:!0,acrossPanes:q.acrossPanes}),it=[],ot=this.horiz;if(Y=!rt(this.min)||!rt(this.max)||z<this.min&&Y<this.min||z>this.max&&Y>this.max,z=this.getPlotLinePath({value:z,force:!0,acrossPanes:q.acrossPanes}),q=1,z&&U){if(Y){var lt=z.toString()===U.toString();q=0}for(Y=0;Y<z.length;Y+=2){var wt=z[Y],xt=z[Y+1],Ot=U[Y],Tt=U[Y+1];"M"!==wt[0]&&"L"!==wt[0]||"M"!==xt[0]&&"L"!==xt[0]||"M"!==Ot[0]&&"L"!==Ot[0]||"M"!==Tt[0]&&"L"!==Tt[0]||(ot&&Ot[1]===wt[1]?(Ot[1]+=q,Tt[1]+=q):ot||Ot[2]!==wt[2]||(Ot[2]+=q,Tt[2]+=q),it.push(["M",wt[1],wt[2]],["L",xt[1],xt[2]],["L",Tt[1],Tt[2]],["L",Ot[1],Ot[2]],["Z"])),it.isFlat=lt}}return it},X.prototype.addPlotBand=function(z){return this.addPlotBandOrLine(z,"plotBands")},X.prototype.addPlotLine=function(z){return this.addPlotBandOrLine(z,"plotLines")},X.prototype.addPlotBandOrLine=function(z,Y){var q=this,U=this.userOptions,it=new et(this,z);if(this.visible&&(it=it.render()),it){if(this._addedPlotLB||(this._addedPlotLB=!0,(U.plotLines||[]).concat(U.plotBands||[]).forEach(function(lt){q.addPlotBandOrLine(lt)})),Y){var ot=U[Y]||[];ot.push(z),U[Y]=ot}this.plotLinesAndBands.push(it)}return it},X.prototype.removePlotBandOrLine=function(z){var Y=this.plotLinesAndBands,q=this.options,U=this.userOptions;if(Y){for(var it=Y.length;it--;)Y[it].id===z&&Y[it].destroy();[q.plotLines||[],U.plotLines||[],q.plotBands||[],U.plotBands||[]].forEach(function(ot){for(it=ot.length;it--;)(ot[it]||{}).id===z&&W(ot,ot[it])})}},X.prototype.removePlotBand=function(z){this.removePlotBandOrLine(z)},X.prototype.removePlotLine=function(z){this.removePlotBandOrLine(z)},X}()}(Z||(Z={})),Z}),J(tt,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[tt["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],tt["Core/Utilities.js"]],function(b,W){var G=W.arrayMax,rt=W.arrayMin,Z=W.defined,H=W.destroyObjectProperties,F=W.erase,et=W.fireEvent,B=W.merge,X=W.objectEach,z=W.pick;return function(){function Y(q,U){this.axis=q,U&&(this.options=U,this.id=U.id)}return Y.compose=function(q){return b.compose(Y,q)},Y.prototype.render=function(){et(this,"render");var q=this,U=q.axis,it=U.horiz,ot=U.logarithmic,lt=q.options,wt=lt.color,xt=z(lt.zIndex,0),Ot=lt.events,Tt={},Et=U.chart.renderer,A=lt.label,o=q.label,c=lt.to,g=lt.from,p=lt.value,w=q.svgElem,S=[],T=Z(g)&&Z(c);S=Z(p);var C=!w,h={class:"highcharts-plot-"+(T?"band ":"line ")+(lt.className||"")},k=T?"bands":"lines";if(ot&&(g=ot.log2lin(g),c=ot.log2lin(c),p=ot.log2lin(p)),U.chart.styledMode||(S?(h.stroke=wt||"#999999",h["stroke-width"]=z(lt.width,1),lt.dashStyle&&(h.dashstyle=lt.dashStyle)):T&&(h.fill=wt||"#e6ebf5",lt.borderWidth&&(h.stroke=lt.borderColor,h["stroke-width"]=lt.borderWidth))),Tt.zIndex=xt,(ot=U.plotLinesAndBandsGroups[k+="-"+xt])||(U.plotLinesAndBandsGroups[k]=ot=Et.g("plot-"+k).attr(Tt).add()),C&&(q.svgElem=w=Et.path().attr(h).add(ot)),S)S=U.getPlotLinePath({value:p,lineWidth:w.strokeWidth(),acrossPanes:lt.acrossPanes});else{if(!T)return;S=U.getPlotBandPath(g,c,lt)}return!q.eventsAdded&&Ot&&(X(Ot,function(ft,at){w.on(at,function(st){Ot[at].apply(q,[st])})}),q.eventsAdded=!0),(C||!w.d)&&S&&S.length?w.attr({d:S}):w&&(S?(w.show(!0),w.animate({d:S})):w.d&&(w.hide(),o&&(q.label=o=o.destroy()))),A&&(Z(A.text)||Z(A.formatter))&&S&&S.length&&0<U.width&&0<U.height&&!S.isFlat?(A=B({align:it&&T&&"center",x:it?!T&&4:10,verticalAlign:!it&&T&&"middle",y:it?T?16:10:T?6:-4,rotation:it&&!T&&90},A),this.renderLabel(A,S,T,xt)):o&&o.hide(),q},Y.prototype.renderLabel=function(q,U,it,ot){var lt=this.axis,wt=lt.chart.renderer,xt=this.label;xt||(this.label=xt=wt.text(this.getLabelText(q),0,0,q.useHTML).attr({align:q.textAlign||q.align,rotation:q.rotation,class:"highcharts-plot-"+(it?"band":"line")+"-label "+(q.className||""),zIndex:ot}).add(),lt.chart.styledMode||xt.css(B({textOverflow:"ellipsis"},q.style))),ot=U.xBounds||[U[0][1],U[1][1],it?U[2][1]:U[0][1]],U=U.yBounds||[U[0][2],U[1][2],it?U[2][2]:U[0][2]],it=rt(ot),wt=rt(U),xt.align(q,!1,{x:it,y:wt,width:G(ot)-it,height:G(U)-wt}),xt.alignValue&&"left"!==xt.alignValue||xt.css({width:(90===xt.rotation?lt.height-(xt.alignAttr.y-lt.top):lt.width-(xt.alignAttr.x-lt.left))+"px"}),xt.show(!0)},Y.prototype.getLabelText=function(q){return Z(q.formatter)?q.formatter.call(this):q.text},Y.prototype.destroy=function(){F(this.axis.plotLinesAndBands,this),delete this.axis,H(this)},Y}()}),J(tt,"Core/Tooltip.js",[tt["Core/FormatUtilities.js"],tt["Core/Globals.js"],tt["Core/Renderer/RendererUtilities.js"],tt["Core/Renderer/RendererRegistry.js"],tt["Core/Utilities.js"]],function(b,W,G,rt,Z){var H=b.format,F=W.doc,et=G.distribute,B=Z.addEvent,X=Z.clamp,z=Z.css,Y=Z.defined,q=Z.discardElement,U=Z.extend,it=Z.fireEvent,ot=Z.isArray,lt=Z.isNumber,wt=Z.isString,xt=Z.merge,Ot=Z.pick,Tt=Z.splat,Et=Z.syncTimeout;return function(){function A(o,c){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=o,this.init(o,c)}return A.prototype.applyFilter=function(){var o=this.chart;o.renderer.definition({tagName:"filter",attributes:{id:"drop-shadow-"+o.index,opacity:.5},children:[{tagName:"feGaussianBlur",attributes:{in:"SourceAlpha",stdDeviation:1}},{tagName:"feOffset",attributes:{dx:1,dy:1}},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"linear",slope:.3}}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",attributes:{in:"SourceGraphic"}}]}]})},A.prototype.bodyFormatter=function(o){return o.map(function(c){var g=c.series.tooltipOptions;return(g[(c.point.formatPrefix||"point")+"Formatter"]||c.point.tooltipFormatter).call(c.point,g[(c.point.formatPrefix||"point")+"Format"]||"")})},A.prototype.cleanSplit=function(o){this.chart.series.forEach(function(c){var g=c&&c.tt;g&&(!g.isActive||o?c.tt=g.destroy():g.isActive=!1)})},A.prototype.defaultFormatter=function(o){var c=this.points||Tt(this),g=[o.tooltipFooterHeaderFormatter(c[0])];return(g=g.concat(o.bodyFormatter(c))).push(o.tooltipFooterHeaderFormatter(c[0],!0)),g},A.prototype.destroy=function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),q(this.container)),Z.clearTimeout(this.hideTimer),Z.clearTimeout(this.tooltipTimeout)},A.prototype.getAnchor=function(o,c){var C,h,g=this.chart,p=g.pointer,w=g.inverted,S=g.plotTop,T=g.plotLeft,k=0,ft=0;return o=Tt(o),this.followPointer&&c?(void 0===c.chartX&&(c=p.normalize(c)),p=[c.chartX-T,c.chartY-S]):o[0].tooltipPos?p=o[0].tooltipPos:(o.forEach(function(at){C=at.series.yAxis,k+=at.plotX||0,ft+=at.plotLow?(at.plotLow+(at.plotHigh||0))/2:at.plotY||0,(h=at.series.xAxis)&&C&&(w?(k+=S+g.plotHeight-h.len-h.pos,ft+=T+g.plotWidth-C.len-C.pos):(k+=h.pos-T,ft+=C.pos-S))}),k/=o.length,ft/=o.length,p=[w?g.plotWidth-ft:k,w?g.plotHeight-k:ft],this.shared&&1<o.length&&c&&(w?p[0]=c.chartX-T:p[1]=c.chartY-S)),p.map(Math.round)},A.prototype.getLabel=function(){var h,o=this,c=this.chart.styledMode,g=this.options,p=this.split&&this.allowShared,w="tooltip"+(Y(g.className)?" "+g.className:""),S=g.style.pointerEvents||(!this.followPointer&&g.stickOnContact?"auto":"none"),T=function(){o.inContact=!0},C=function(Xt){var te=o.chart.hoverSeries;o.inContact=o.shouldStickOnContact()&&o.chart.pointer.inClass(Xt.relatedTarget,"highcharts-tooltip"),!o.inContact&&te&&te.onMouseOut&&te.onMouseOut()},k=this.chart.renderer;if(o.label){var ft=!o.label.hasClass("highcharts-label");(p&&!ft||!p&&ft)&&o.destroy()}if(!this.label){if(this.outside){ft=this.chart.options.chart.style;var at=rt.getRendererType();this.container=h=W.doc.createElement("div"),h.className="highcharts-tooltip-container",z(h,{position:"absolute",top:"1px",pointerEvents:S,zIndex:Math.max(this.options.style.zIndex||0,(ft&&ft.zIndex||0)+3)}),B(h,"mouseenter",T),B(h,"mouseleave",C),W.doc.body.appendChild(h),this.renderer=k=new at(h,0,0,ft,void 0,void 0,k.styledMode)}if(p?this.label=k.g(w):(this.label=k.label("",0,0,g.shape,void 0,void 0,g.useHTML,void 0,w).attr({padding:g.padding,r:g.borderRadius}),c||this.label.attr({fill:g.backgroundColor,"stroke-width":g.borderWidth}).css(g.style).css({pointerEvents:S}).shadow(g.shadow)),c&&g.shadow&&(this.applyFilter(),this.label.attr({filter:"url(#drop-shadow-"+this.chart.index+")"})),o.outside&&!o.split){var st=this.label,Mt=st.xSetter,St=st.ySetter;st.xSetter=function(Xt){Mt.call(st,o.distance),h.style.left=Xt+"px"},st.ySetter=function(Xt){St.call(st,o.distance),h.style.top=Xt+"px"}}this.label.on("mouseenter",T).on("mouseleave",C).attr({zIndex:8}).add()}return this.label},A.prototype.getPosition=function(o,c,g){var St,p=this.chart,w=this.distance,S={},T=p.inverted&&g.h||0,C=this.outside,h=C?F.documentElement.clientWidth-2*w:p.chartWidth,k=C?Math.max(F.body.scrollHeight,F.documentElement.scrollHeight,F.body.offsetHeight,F.documentElement.offsetHeight,F.documentElement.clientHeight):p.chartHeight,ft=p.pointer.getChartPosition(),at=function(Gt){var Nt="x"===Gt;return[Gt,Nt?h:k,Nt?o:c].concat(C?[Nt?o*ft.scaleX:c*ft.scaleY,Nt?ft.left-w+(g.plotX+p.plotLeft)*ft.scaleX:ft.top-w+(g.plotY+p.plotTop)*ft.scaleY,0,Nt?h:k]:[Nt?o:c,Nt?g.plotX+p.plotLeft:g.plotY+p.plotTop,Nt?p.plotLeft:p.plotTop,Nt?p.plotLeft+p.plotWidth:p.plotTop+p.plotHeight])},st=at("y"),Mt=at("x");at=!!g.negative,!p.polar&&p.hoverSeries&&p.hoverSeries.yAxis&&p.hoverSeries.yAxis.reversed&&(at=!at);var Xt=!this.followPointer&&Ot(g.ttBelow,!p.inverted===at),te=function(Gt,Nt,Kt,fe,zt,Ne,Pt){var Se=C?"y"===Gt?w*ft.scaleY:w*ft.scaleX:w,Fi=(Kt-fe)/2,Ge=fe<zt-w,_e=zt+w+fe<Nt,Ce=zt-Se-Kt+Fi;if(zt=zt+Se-Fi,Xt&&_e)S[Gt]=zt;else if(!Xt&&Ge)S[Gt]=Ce;else if(Ge)S[Gt]=Math.min(Pt-fe,0>Ce-T?Ce:Ce-T);else{if(!_e)return!1;S[Gt]=Math.max(Ne,zt+T+Kt>Nt?zt:zt+T)}},Vt=function(Gt,Nt,Kt,fe,zt){var Ne;return zt<w||zt>Nt-w?Ne=!1:S[Gt]=zt<Kt/2?1:zt>Nt-fe/2?Nt-fe-2:zt-Kt/2,Ne},Dt=function(Gt){var Nt=st;st=Mt,Mt=Nt,St=Gt},ve=function(){!1!==te.apply(0,st)?!1!==Vt.apply(0,Mt)||St||(Dt(!0),ve()):St?S.x=S.y=0:(Dt(!0),ve())};return(p.inverted||1<this.len)&&Dt(),ve(),S},A.prototype.hide=function(o){var c=this;Z.clearTimeout(this.hideTimer),o=Ot(o,this.options.hideDelay),this.isHidden||(this.hideTimer=Et(function(){c.getLabel().fadeOut(o&&void 0),c.isHidden=!0},o))},A.prototype.init=function(o,c){this.chart=o,this.options=c,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=c.split&&!o.inverted&&!o.polar,this.shared=c.shared||this.split,this.outside=Ot(c.outside,!(!o.scrollablePixelsX&&!o.scrollablePixelsY))},A.prototype.shouldStickOnContact=function(){return!(this.followPointer||!this.options.stickOnContact)},A.prototype.isStickyOnContact=function(){return!(!this.shouldStickOnContact()||!this.inContact)},A.prototype.move=function(o,c,g,p){var w=this,S=w.now,T=!1!==w.options.animation&&!w.isHidden&&(1<Math.abs(o-S.x)||1<Math.abs(c-S.y)),C=w.followPointer||1<w.len;U(S,{x:T?(2*S.x+o)/3:o,y:T?(S.y+c)/2:c,anchorX:C?void 0:T?(2*S.anchorX+g)/3:g,anchorY:C?void 0:T?(S.anchorY+p)/2:p}),w.getLabel().attr(S),w.drawTracker(),T&&(Z.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){w&&w.move(o,c,g,p)},32))},A.prototype.refresh=function(o,c){var g=this.chart,p=this.options,w=Tt(o),S=w[0],T=[],C=p.formatter||this.defaultFormatter,h=this.shared,k=g.styledMode,ft={};if(p.enabled){Z.clearTimeout(this.hideTimer),this.allowShared=!(!ot(o)&&o.series&&o.series.noSharedTooltip),this.followPointer=!this.split&&S.series.tooltipOptions.followPointer;var at=(o=this.getAnchor(o,c))[0],st=o[1];if(h&&this.allowShared?(g.pointer.applyInactiveState(w),w.forEach(function(Xt){Xt.setState("hover"),T.push(Xt.getLabelConfig())}),(ft={x:S.category,y:S.y}).points=T):ft=S.getLabelConfig(),this.len=T.length,C=C.call(ft,this),this.distance=Ot((h=S.series).tooltipOptions.distance,16),!1===C)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(C,w);else{var Mt=at,St=st;if(c&&g.pointer.isDirectTouch&&(Mt=c.chartX-g.plotLeft,St=c.chartY-g.plotTop),!g.polar&&!1!==h.options.clip&&!w.some(function(Xt){return Xt.series.shouldShowTooltip(Mt,St)}))return void this.hide();c=this.getLabel(),p.style.width&&!k||c.css({width:this.chart.spacingBox.width+"px"}),c.attr({text:C&&C.join?C.join(""):C}),c.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+Ot(S.colorIndex,h.colorIndex)),k||c.attr({stroke:p.borderColor||S.color||h.color||"#666666"}),this.updatePosition({plotX:at,plotY:st,negative:S.negative,ttBelow:S.ttBelow,h:o[2]||0})}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}it(this,"refresh")}},A.prototype.renderSplit=function(o,c){function g(_e,Ce,Bt,re,Ye){return void 0===Ye&&(Ye=!0),Bt?(Ce=fe?0:Se,_e=X(_e-re/2,Gt.left,Gt.right-re-(p.outside?zt:0))):(Ce-=Ne,_e=X(_e=Ye?_e-re-Vt:_e+Vt,Ye?_e:Gt.left,Gt.right)),{x:_e,y:Ce}}var p=this,w=p.chart,S=p.chart,T=S.chartWidth,C=S.chartHeight,h=S.plotHeight,k=S.plotLeft,ft=S.plotTop,at=S.pointer,st=S.scrollablePixelsY;st=void 0===st?0:st;var St=S.scrollingContainer,Xt=(St=void 0===St?{scrollLeft:0,scrollTop:0}:St).scrollLeft;St=St.scrollTop;var te=S.styledMode,Vt=p.distance,Dt=p.options,ve=p.options.positioner,Gt=p.outside&&"number"!=typeof S.scrollablePixelsX?F.documentElement.getBoundingClientRect():{left:Xt,right:Xt+T,top:St,bottom:St+C},Nt=p.getLabel(),Kt=this.renderer||w.renderer,fe=!(!w.xAxis[0]||!w.xAxis[0].opposite),zt=(w=at.getChartPosition()).left;w=w.top;var Ne=ft+St,Pt=0,Se=h-st;wt(o)&&(o=[!1,o]),o=o.slice(0,c.length+1).reduce(function(_e,Ce,Bt){if(!1!==Ce&&""!==Ce){var re=(Bt=c[Bt-1]||{isHeader:!0,plotX:c[0].plotX,plotY:h,series:{}}).isHeader,Ye=re?p:Bt.series;Ce=Ce.toString();var jt=Ye.tt,yt=Bt.isHeader,ht=Bt.series,ce="highcharts-color-"+Ot(Bt.colorIndex,ht.colorIndex,"none");if(jt||(jt={padding:Dt.padding,r:Dt.borderRadius},te||(jt.fill=Dt.backgroundColor,jt["stroke-width"]=Dt.borderWidth),jt=Kt.label("",0,0,Dt[yt?"headerShape":"shape"],void 0,void 0,Dt.useHTML).addClass((yt?"highcharts-tooltip-header ":"")+"highcharts-tooltip-box "+ce).attr(jt).add(Nt)),jt.isActive=!0,jt.attr({text:Ce}),te||jt.css(Dt.style).shadow(Dt.shadow).attr({stroke:Dt.borderColor||Bt.color||ht.color||"#333333"}),Ce=(yt=(Ye=Ye.tt=jt).getBBox()).width+Ye.strokeWidth(),re&&(Se+=Pt=yt.height,fe&&(Ne-=Pt)),ht=void 0===(ht=Bt.plotX)?0:ht,ce=void 0===(ce=Bt.plotY)?0:ce,jt=Bt.series,Bt.isHeader){ht=k+ht;var ke=ft+h/2}else{var Pi=jt.xAxis,We=jt.yAxis;ht=Pi.pos+X(ht,-Vt,Pi.len+Vt),jt.shouldShowTooltip(0,We.pos-ft+ce,{ignoreX:!0})&&(ke=We.pos+ce)}ht=X(ht,Gt.left-Vt,Gt.right+Vt),"number"==typeof ke?(yt=yt.height+1,ce=ve?ve.call(p,Ce,yt,Bt):g(ht,ke,re,Ce),_e.push({align:ve?0:void 0,anchorX:ht,anchorY:ke,boxWidth:Ce,point:Bt,rank:Ot(ce.rank,re?1:0),size:yt,target:ce.y,tt:Ye,x:ce.x})):Ye.isActive=!1}return _e},[]),!ve&&o.some(function(_e){var Ce=(p.outside?zt:0)+_e.anchorX;return Ce<Gt.left&&Ce+_e.boxWidth<Gt.right||Ce<zt-Gt.left+_e.boxWidth&&Gt.right-Ce>Ce})&&(o=o.map(function(_e){var Ce=g(_e.anchorX,_e.anchorY,_e.point.isHeader,_e.boxWidth,!1);return U(_e,{target:Ce.y,x:Ce.x})})),p.cleanSplit(),et(o,Se);var Fi=zt,Ge=zt;o.forEach(function(_e){var Ce=_e.x,Bt=_e.boxWidth;(_e=_e.isHeader)||(p.outside&&zt+Ce<Fi&&(Fi=zt+Ce),!_e&&p.outside&&Fi+Bt>Ge&&(Ge=zt+Ce))}),o.forEach(function(_e){var Ce=_e.x,Bt=_e.anchorX,re=_e.pos,Ye=_e.point.isHeader;if(re={visibility:void 0===re?"hidden":"inherit",x:Ce,y:re+Ne,anchorX:Bt,anchorY:_e.anchorY},p.outside&&Ce<Bt){var jt=zt-Fi;0<jt&&(Ye||(re.x=Ce+jt,re.anchorX=Bt+jt),Ye&&(re.x=(Ge-Fi)/2,re.anchorX=Bt+jt))}_e.tt.attr(re)}),o=p.container,st=p.renderer,p.outside&&o&&st&&(S=Nt.getBBox(),st.setSize(S.width+S.x,S.height+S.y,!1),o.style.left=Fi+"px",o.style.top=w+"px")},A.prototype.drawTracker=function(){if(this.followPointer||!this.options.stickOnContact)this.tracker&&this.tracker.destroy();else{var o=this.chart,c=this.label,g=this.shared?o.hoverPoints:o.hoverPoint;if(c&&g){var p={x:0,y:0,width:0,height:0};g=this.getAnchor(g);var w=c.getBBox();g[0]+=o.plotLeft-c.translateX,g[1]+=o.plotTop-c.translateY,p.x=Math.min(0,g[0]),p.y=Math.min(0,g[1]),p.width=0>g[0]?Math.max(Math.abs(g[0]),w.width-g[0]):Math.max(Math.abs(g[0]),w.width),p.height=0>g[1]?Math.max(Math.abs(g[1]),w.height-Math.abs(g[1])):Math.max(Math.abs(g[1]),w.height),this.tracker?this.tracker.attr(p):(this.tracker=c.renderer.rect(p).addClass("highcharts-tracker").add(c),o.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}},A.prototype.styledModeFormat=function(o){return o.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')},A.prototype.tooltipFooterHeaderFormatter=function(o,c){var g=o.series,p=g.tooltipOptions,w=g.xAxis,S=w&&w.dateTime,T=p.xDateFormat,C=p[c?"footerFormat":"headerFormat"];return it(this,"headerFormatter",w={isFooter:c,labelConfig:o},function(h){S&&!T&&lt(o.key)&&(T=S.getXDateFormat(o.key,p.dateTimeLabelFormats)),S&&T&&(o.point&&o.point.tooltipDateKeys||["key"]).forEach(function(k){C=C.replace("{point."+k+"}","{point."+k+":"+T+"}")}),g.chart.styledMode&&(C=this.styledModeFormat(C)),h.text=H(C,{point:o,series:g},this.chart)}),w.text},A.prototype.update=function(o){this.destroy(),xt(!0,this.chart.options.tooltip.userOptions,o),this.init(this.chart,xt(!0,this.options,o))},A.prototype.updatePosition=function(o){var c=this.chart,g=this.options,p=c.pointer,w=this.getLabel();p=p.getChartPosition();var S=(g.positioner||this.getPosition).call(this,w.width,w.height,o),T=o.plotX+c.plotLeft;o=o.plotY+c.plotTop,this.outside&&(this.renderer.setSize(w.width+(g=g.borderWidth+2*this.distance),w.height+g,!1),(1!==p.scaleX||1!==p.scaleY)&&(z(this.container,{transform:"scale("+p.scaleX+", "+p.scaleY+")"}),T*=p.scaleX,o*=p.scaleY),T+=p.left-S.x,o+=p.top-S.y),this.move(Math.round(S.x),Math.round(S.y||0),T,o)},A}()}),J(tt,"Core/Series/Point.js",[tt["Core/Renderer/HTML/AST.js"],tt["Core/Animation/AnimationUtilities.js"],tt["Core/DefaultOptions.js"],tt["Core/FormatUtilities.js"],tt["Core/Utilities.js"]],function(b,W,G,rt,Z){var H=W.animObject,F=G.defaultOptions,et=rt.format,B=Z.addEvent,X=Z.defined,z=Z.erase,Y=Z.extend,q=Z.fireEvent,U=Z.getNestedProperty,it=Z.isArray,ot=Z.isFunction,lt=Z.isNumber,wt=Z.isObject,xt=Z.merge,Ot=Z.objectEach,Tt=Z.pick,Et=Z.syncTimeout,A=Z.removeEvent,o=Z.uniqueKey;return function(){function c(){this.colorIndex=this.category=void 0,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.series=void 0,this.visible=!0,this.x=void 0}return c.prototype.animateBeforeDestroy=function(){var g=this,p={x:g.startXPos,opacity:0},w=g.getGraphicalProps();w.singular.forEach(function(S){g[S]=g[S].animate("dataLabel"===S?{x:g[S].startXPos,y:g[S].startYPos,opacity:0}:p)}),w.plural.forEach(function(S){g[S].forEach(function(T){T.element&&T.animate(Y({x:g.startXPos},T.startYPos?{x:T.startXPos,y:T.startYPos}:{}))})})},c.prototype.applyOptions=function(g,p){var w=this.series,S=w.options.pointValKey||w.pointValKey;return g=c.prototype.optionsToObject.call(this,g),Y(this,g),this.options=this.options?Y(this.options,g):g,g.group&&delete this.group,g.dataLabels&&delete this.dataLabels,S&&(this.y=c.prototype.getNestedProperty.call(this,S)),this.formatPrefix=(this.isNull=Tt(this.isValid&&!this.isValid(),null===this.x||!lt(this.y)))?"null":"point",this.selected&&(this.state="select"),"name"in this&&void 0===p&&w.xAxis&&w.xAxis.hasNames&&(this.x=w.xAxis.nameToX(this)),void 0===this.x&&w?this.x=void 0===p?w.autoIncrement():p:lt(g.x)&&w.options.relativeXValue&&(this.x=w.autoIncrement(g.x)),this},c.prototype.destroy=function(){function g(){for(h in(p.graphic||p.dataLabel||p.dataLabels)&&(A(p),p.destroyElements()),p)p[h]=null}var p=this,w=p.series,S=w.chart;w=w.options.dataSorting;var h,T=S.hoverPoints,C=H(p.series.chart.renderer.globalAnimation);p.legendItem&&S.legend.destroyItem(p),T&&(p.setState(),z(T,p),T.length||(S.hoverPoints=null)),p===S.hoverPoint&&p.onMouseOut(),w&&w.enabled?(this.animateBeforeDestroy(),Et(g,C.duration)):g(),S.pointCount--},c.prototype.destroyElements=function(g){var p=this;(g=p.getGraphicalProps(g)).singular.forEach(function(w){p[w]=p[w].destroy()}),g.plural.forEach(function(w){p[w].forEach(function(S){S.element&&S.destroy()}),delete p[w]})},c.prototype.firePointEvent=function(g,p,w){var S=this,T=this.series.options;(T.point.events[g]||S.options&&S.options.events&&S.options.events[g])&&S.importEvents(),"click"===g&&T.allowPointSelect&&(w=function(C){S.select&&S.select(null,C.ctrlKey||C.metaKey||C.shiftKey)}),q(S,g,p,w)},c.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},c.prototype.getGraphicalProps=function(g){var T,p=this,w=[],S={singular:[],plural:[]};for((g=g||{graphic:1,dataLabel:1}).graphic&&w.push("graphic","upperGraphic","shadowGroup"),g.dataLabel&&w.push("dataLabel","dataLabelUpper","connector"),T=w.length;T--;){var C=w[T];p[C]&&S.singular.push(C)}return["dataLabel","connector"].forEach(function(h){var k=h+"s";g[h]&&p[k]&&S.plural.push(k)}),S},c.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},c.prototype.getNestedProperty=function(g){if(g)return 0===g.indexOf("custom.")?U(g,this.options):this[g]},c.prototype.getZone=function(){var g=this.series,p=g.zones;g=g.zoneAxis||"y";var w,S=0;for(w=p[S];this[g]>=w.value;)w=p[++S];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=w&&w.color&&!this.options.color?w.color:this.nonZonedColor,w},c.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType},c.prototype.init=function(g,p,w){return this.series=g,this.applyOptions(p,w),this.id=X(this.id)?this.id:o(),this.resolveColor(),g.chart.pointCount++,q(this,"afterInit"),this},c.prototype.optionsToObject=function(g){var p=this.series,w=p.options.keys,S=w||p.pointArrayMap||["y"],T=S.length,C={},h=0,k=0;if(lt(g)||null===g)C[S[0]]=g;else if(it(g))for(!w&&g.length>T&&("string"==(p=typeof g[0])?C.name=g[0]:"number"===p&&(C.x=g[0]),h++);k<T;)w&&void 0===g[h]||(0<S[k].indexOf(".")?c.prototype.setNestedProperty(C,g[h],S[k]):C[S[k]]=g[h]),h++,k++;else"object"==typeof g&&(C=g,g.dataLabels&&(p._hasPointLabels=!0),g.marker&&(p._hasPointMarkers=!0));return C},c.prototype.resolveColor=function(){var g=this.series,p=g.chart.styledMode,w=g.chart.options.chart.colorCount;if(delete this.nonZonedColor,g.options.colorByPoint){if(!p){var S=(w=g.options.colors||g.chart.options.colors)[g.colorCounter];w=w.length}p=g.colorCounter,g.colorCounter++,g.colorCounter===w&&(g.colorCounter=0)}else p||(S=g.color),p=g.colorIndex;this.colorIndex=Tt(this.options.colorIndex,p),this.color=Tt(this.options.color,S)},c.prototype.setNestedProperty=function(g,p,w){return w.split(".").reduce(function(S,T,C,h){return S[T]=h.length-1===C?p:wt(S[T],!0)?S[T]:{},S[T]},g),g},c.prototype.tooltipFormatter=function(g){var p=this.series,w=p.tooltipOptions,S=Tt(w.valueDecimals,""),T=w.valuePrefix||"",C=w.valueSuffix||"";return p.chart.styledMode&&(g=p.chart.tooltip.styledModeFormat(g)),(p.pointArrayMap||["y"]).forEach(function(h){h="{point."+h,(T||C)&&(g=g.replace(RegExp(h+"}","g"),T+h+"}"+C)),g=g.replace(RegExp(h+"}","g"),h+":,."+S+"f}")}),et(g,{point:this,series:this.series},p.chart)},c.prototype.update=function(g,p,w,S){function T(){C.applyOptions(g);var Mt=k&&C.hasDummyGraphic;Mt=null===C.y?!Mt:Mt,k&&Mt&&(C.graphic=k.destroy(),delete C.hasDummyGraphic),wt(g,!0)&&(k&&k.element&&g&&g.marker&&void 0!==g.marker.symbol&&(C.graphic=k.destroy()),g&&g.dataLabels&&C.dataLabel&&(C.dataLabel=C.dataLabel.destroy()),C.connector&&(C.connector=C.connector.destroy())),h.updateParallelArrays(C,st=C.index),at.data[st]=wt(at.data[st],!0)||wt(g,!0)?C.options:Tt(g,at.data[st]),h.isDirty=h.isDirtyData=!0,!h.fixedBox&&h.hasCartesianSeries&&(ft.isDirtyBox=!0),"point"===at.legendType&&(ft.isDirtyLegend=!0),p&&ft.redraw(w)}var st,C=this,h=C.series,k=C.graphic,ft=h.chart,at=h.options;p=Tt(p,!0),!1===S?T():C.firePointEvent("update",{options:g},T)},c.prototype.remove=function(g,p){this.series.removePoint(this.series.data.indexOf(this),g,p)},c.prototype.select=function(g,p){var w=this,S=w.series,T=S.chart;this.selectedStaging=g=Tt(g,!w.selected),w.firePointEvent(g?"select":"unselect",{accumulate:p},function(){w.selected=w.options.selected=g,S.options.data[S.data.indexOf(w)]=w.options,w.setState(g&&"select"),p||T.getSelectedPoints().forEach(function(C){var h=C.series;C.selected&&C!==w&&(C.selected=C.options.selected=!1,h.options.data[h.data.indexOf(C)]=C.options,C.setState(T.hoverPoints&&h.options.inactiveOtherPoints?"inactive":""),C.firePointEvent("unselect"))})}),delete this.selectedStaging},c.prototype.onMouseOver=function(g){var p=this.series.chart,w=p.pointer;g=g?w.normalize(g):w.getChartCoordinatesFromPoint(this,p.inverted),w.runPointActions(g,this)},c.prototype.onMouseOut=function(){var g=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(g.hoverPoints||[]).forEach(function(p){p.setState()}),g.hoverPoints=g.hoverPoint=null},c.prototype.importEvents=function(){if(!this.hasImportedEvents){var g=this,p=xt(g.series.options.point,g.options).events;g.events=p,Ot(p,function(w,S){ot(w)&&B(g,S,w)}),this.hasImportedEvents=!0}},c.prototype.setState=function(g,p){var Xt,w=this.series,S=this.state,T=w.options.states[g||"normal"]||{},C=F.plotOptions[w.type].marker&&w.options.marker,k=C&&C.states&&C.states[g||"normal"]||{},at=this.marker||{},st=w.chart,Mt=C&&w.markerAttribs,St=w.halo,te=w.stateMarkerGraphic;if(!((g=g||"")===this.state&&!p||this.selected&&"select"!==g||!1===T.enabled||g&&(!1===k.enabled||C&&!1===C.enabled&&!1===k.enabled)||g&&at.states&&at.states[g]&&!1===at.states[g].enabled)){if(this.state=g,Mt&&(Xt=w.markerAttribs(this,g)),this.graphic&&!this.hasDummyGraphic){if(S&&this.graphic.removeClass("highcharts-point-"+S),g&&this.graphic.addClass("highcharts-point-"+g),!st.styledMode){var Vt=w.pointAttribs(this,g),Dt=Tt(st.options.chart.animation,T.animation);w.options.inactiveOtherPoints&&lt(Vt.opacity)&&((this.dataLabels||[]).forEach(function(ve){ve&&ve.animate({opacity:Vt.opacity},Dt)}),this.connector&&this.connector.animate({opacity:Vt.opacity},Dt)),this.graphic.animate(Vt,Dt)}Xt&&this.graphic.animate(Xt,Tt(st.options.chart.animation,k.animation,C.animation)),te&&te.hide()}else g&&k&&(S=at.symbol||w.symbol,te&&te.currentSymbol!==S&&(te=te.destroy()),Xt&&(te?te[p?"animate":"attr"]({x:Xt.x,y:Xt.y}):S&&(w.stateMarkerGraphic=te=st.renderer.symbol(S,Xt.x,Xt.y,Xt.width,Xt.height).add(w.markerGroup),te.currentSymbol=S)),!st.styledMode&&te&&"inactive"!==this.state&&te.attr(w.pointAttribs(this,g))),te&&(te[g&&this.isInside?"show":"hide"](),te.element.point=this,te.addClass(this.getClassName(),!0));Xt=(te=this.graphic||te)&&te.visibility||"inherit",(T=T.halo)&&T.size&&te&&"hidden"!==Xt&&!this.isCluster?(St||(w.halo=St=st.renderer.path().add(te.parentGroup)),St.show()[p?"animate":"attr"]({d:this.haloPath(T.size)}),St.attr({class:"highcharts-halo highcharts-color-"+Tt(this.colorIndex,w.colorIndex)+(this.className?" "+this.className:""),visibility:Xt,zIndex:-1}),St.point=this,st.styledMode||St.attr(Y({fill:this.color||w.color,"fill-opacity":T.opacity},b.filterUserAttributes(T.attributes||{})))):St&&St.point&&St.point.haloPath&&St.animate({d:St.point.haloPath(0)},null,St.hide),q(this,"afterSetState",{state:g})}},c.prototype.haloPath=function(g){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-g,this.plotY-g,2*g,2*g)},c}()}),J(tt,"Core/Pointer.js",[tt["Core/Color/Color.js"],tt["Core/Globals.js"],tt["Core/Tooltip.js"],tt["Core/Utilities.js"]],function(b,W,G,rt){var Z=b.parse,H=W.charts,F=W.noop,et=rt.addEvent,B=rt.attr,X=rt.css,z=rt.defined,Y=rt.extend,q=rt.find,U=rt.fireEvent,it=rt.isNumber,ot=rt.isObject,lt=rt.objectEach,wt=rt.offset,xt=rt.pick,Ot=rt.splat;return function(){function Tt(Et,A){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=Et,this.hasDragged=!1,this.options=A,this.init(Et,A)}return Tt.prototype.applyInactiveState=function(Et){var o,A=[];(Et||[]).forEach(function(c){A.push(o=c.series),o.linkedParent&&A.push(o.linkedParent),o.linkedSeries&&(A=A.concat(o.linkedSeries)),o.navigatorSeries&&A.push(o.navigatorSeries)}),this.chart.series.forEach(function(c){-1===A.indexOf(c)?c.setState("inactive",!0):c.options.inactiveOtherPoints&&c.setAllPointsToState("inactive")})},Tt.prototype.destroy=function(){var Et=this;this.eventsToUnbind.forEach(function(A){return A()}),this.eventsToUnbind=[],W.chartCount||(Tt.unbindDocumentMouseUp&&(Tt.unbindDocumentMouseUp=Tt.unbindDocumentMouseUp()),Tt.unbindDocumentTouchEnd&&(Tt.unbindDocumentTouchEnd=Tt.unbindDocumentTouchEnd())),clearInterval(Et.tooltipTimeout),lt(Et,function(A,o){Et[o]=void 0})},Tt.prototype.drag=function(Et){var A=this.chart,o=A.options.chart,c=this.zoomHor,g=this.zoomVert,p=A.plotLeft,w=A.plotTop,S=A.plotWidth,T=A.plotHeight,C=this.mouseDownX||0,h=this.mouseDownY||0,k=ot(o.panning)?o.panning&&o.panning.enabled:o.panning,ft=o.panKey&&Et[o.panKey+"Key"],at=Et.chartX,st=Et.chartY,Mt=this.selectionMarker;if((!Mt||!Mt.touch)&&(at<p?at=p:at>p+S&&(at=p+S),st<w?st=w:st>w+T&&(st=w+T),this.hasDragged=Math.sqrt(Math.pow(C-at,2)+Math.pow(h-st,2)),10<this.hasDragged)){var St=A.isInsidePlot(C-p,h-w,{visiblePlotOnly:!0});!A.hasCartesianSeries&&!A.mapView||!this.zoomX&&!this.zoomY||!St||ft||Mt||(this.selectionMarker=Mt=A.renderer.rect(p,w,c?1:S,g?1:T,0).attr({class:"highcharts-selection-marker",zIndex:7}).add(),A.styledMode||Mt.attr({fill:o.selectionMarkerFill||Z("#335cad").setOpacity(.25).get()})),Mt&&c&&(c=at-C,Mt.attr({width:Math.abs(c),x:(0<c?0:c)+C})),Mt&&g&&(c=st-h,Mt.attr({height:Math.abs(c),y:(0<c?0:c)+h})),St&&!Mt&&k&&A.pan(Et,o.panning)}},Tt.prototype.dragStart=function(Et){var A=this.chart;A.mouseIsDown=Et.type,A.cancelClick=!1,A.mouseDownX=this.mouseDownX=Et.chartX,A.mouseDownY=this.mouseDownY=Et.chartY},Tt.prototype.drop=function(Et){var A=this,o=this.chart,c=this.hasPinched;if(this.selectionMarker){var g=this.selectionMarker,p=g.attr?g.attr("x"):g.x,w=g.attr?g.attr("y"):g.y,S=g.attr?g.attr("width"):g.width,T=g.attr?g.attr("height"):g.height,C={originalEvent:Et,xAxis:[],yAxis:[],x:p,y:w,width:S,height:T},h=!!o.mapView;(this.hasDragged||c)&&(o.axes.forEach(function(k){if(k.zoomEnabled&&z(k.min)&&(c||A[{xAxis:"zoomX",yAxis:"zoomY"}[k.coll]])&&it(p)&&it(w)){var ft=k.horiz,at="touchend"===Et.type?k.minPixelPadding:0,st=k.toValue((ft?p:w)+at);ft=k.toValue((ft?p+S:w+T)-at),C[k.coll].push({axis:k,min:Math.min(st,ft),max:Math.max(st,ft)}),h=!0}}),h&&U(o,"selection",C,function(k){o.zoom(Y(k,c?{animation:!1}:null))})),it(o.index)&&(this.selectionMarker=this.selectionMarker.destroy()),c&&this.scaleGroups()}o&&it(o.index)&&(X(o.container,{cursor:o._cursor}),o.cancelClick=10<this.hasDragged,o.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},Tt.prototype.findNearestKDPoint=function(Et,A,o){var p,c=this.chart,g=c.hoverPoint;return c=c.tooltip,g&&c&&c.isStickyOnContact()?g:(Et.forEach(function(w){var S=!(w.noSharedTooltip&&A)&&0>w.options.findNearestPointBy.indexOf("y");if(w=w.searchPoint(o,S),(S=ot(w,!0)&&w.series)&&!(S=!ot(p,!0))){var T=p.dist-w.dist,C=(w.series.group&&w.series.group.zIndex)-(p.series.group&&p.series.group.zIndex);S=0<(0!=(S=p.distX-w.distX)&&A?S:0!==T?T:0!==C?C:p.series.index>w.series.index?-1:1)}S&&(p=w)}),p)},Tt.prototype.getChartCoordinatesFromPoint=function(Et,A){var o=Et.series,c=o.xAxis;o=o.yAxis;var g=Et.shapeArgs;if(c&&o){var p=xt(Et.clientX,Et.plotX),w=Et.plotY||0;return Et.isNode&&g&&it(g.x)&&it(g.y)&&(p=g.x,w=g.y),A?{chartX:o.len+o.pos-w,chartY:c.len+c.pos-p}:{chartX:p+c.pos,chartY:w+o.pos}}if(g&&g.x&&g.y)return{chartX:g.x,chartY:g.y}},Tt.prototype.getChartPosition=function(){if(this.chartPosition)return this.chartPosition;var Et=this.chart.container,A=wt(Et);this.chartPosition={left:A.left,top:A.top,scaleX:1,scaleY:1};var o=Et.offsetWidth;return Et=Et.offsetHeight,2<o&&2<Et&&(this.chartPosition.scaleX=A.width/o,this.chartPosition.scaleY=A.height/Et),this.chartPosition},Tt.prototype.getCoordinates=function(Et){var A={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(o){A[o.isXAxis?"xAxis":"yAxis"].push({axis:o,value:o.toValue(Et[o.horiz?"chartX":"chartY"])})}),A},Tt.prototype.getHoverData=function(Et,A,o,c,g,p){var w=[];c=!(!c||!Et);var S={chartX:p?p.chartX:void 0,chartY:p?p.chartY:void 0,shared:g};U(this,"beforeGetHoverData",S);var T=A&&!A.stickyTracking?[A]:o.filter(function(h){return S.filter?S.filter(h):h.visible&&!(!g&&h.directTouch)&&xt(h.options.enableMouseTracking,!0)&&h.stickyTracking}),C=c||!p?Et:this.findNearestKDPoint(T,g,p);return A=C&&C.series,C&&(g&&!A.noSharedTooltip?(T=o.filter(function(h){return S.filter?S.filter(h):h.visible&&!(!g&&h.directTouch)&&xt(h.options.enableMouseTracking,!0)&&!h.noSharedTooltip})).forEach(function(h){var k=q(h.points,function(ft){return ft.x===C.x&&!ft.isNull});ot(k)&&(h.chart.isBoosting&&(k=h.getPoint(k)),w.push(k))}):w.push(C)),U(this,"afterGetHoverData",S={hoverPoint:C}),{hoverPoint:S.hoverPoint,hoverSeries:A,hoverPoints:w}},Tt.prototype.getPointFromEvent=function(Et){Et=Et.target;for(var A;Et&&!A;)A=Et.point,Et=Et.parentNode;return A},Tt.prototype.onTrackerMouseOut=function(Et){Et=Et.relatedTarget||Et.toElement;var A=this.chart.hoverSeries;this.isDirectTouch=!1,!A||!Et||A.stickyTracking||this.inClass(Et,"highcharts-tooltip")||this.inClass(Et,"highcharts-series-"+A.index)&&this.inClass(Et,"highcharts-tracker")||A.onMouseOut()},Tt.prototype.inClass=function(Et,A){for(var o;Et;){if(o=B(Et,"class")){if(-1!==o.indexOf(A))return!0;if(-1!==o.indexOf("highcharts-container"))return!1}Et=Et.parentNode}},Tt.prototype.init=function(Et,A){this.options=A,this.chart=Et,this.runChartClick=!(!A.chart.events||!A.chart.events.click),this.pinchDown=[],this.lastValidTouch={},G&&(Et.tooltip=new G(Et,A.tooltip),this.followTouchMove=xt(A.tooltip.followTouchMove,!0)),this.setDOMEvents()},Tt.prototype.normalize=function(Et,A){var o=Et.touches,c=o?o.length?o.item(0):xt(o.changedTouches,Et.changedTouches)[0]:Et;return A||(A=this.getChartPosition()),o=c.pageX-A.left,c=c.pageY-A.top,o/=A.scaleX,c/=A.scaleY,Y(Et,{chartX:Math.round(o),chartY:Math.round(c)})},Tt.prototype.onContainerClick=function(Et){var A=this.chart,o=A.hoverPoint;Et=this.normalize(Et);var c=A.plotLeft,g=A.plotTop;A.cancelClick||(o&&this.inClass(Et.target,"highcharts-tracker")?(U(o.series,"click",Y(Et,{point:o})),A.hoverPoint&&o.firePointEvent("click",Et)):(Y(Et,this.getCoordinates(Et)),A.isInsidePlot(Et.chartX-c,Et.chartY-g,{visiblePlotOnly:!0})&&U(A,"click",Et)))},Tt.prototype.onContainerMouseDown=function(Et){var A=1==(1&(Et.buttons||Et.button));Et=this.normalize(Et),W.isFirefox&&0!==Et.button&&this.onContainerMouseMove(Et),(void 0===Et.button||A)&&(this.zoomOption(Et),A&&Et.preventDefault&&Et.preventDefault(),this.dragStart(Et))},Tt.prototype.onContainerMouseLeave=function(Et){var A=H[xt(Tt.hoverChartIndex,-1)],o=this.chart.tooltip;o&&o.shouldStickOnContact()&&this.inClass(Et.relatedTarget,"highcharts-tooltip-container")||(Et=this.normalize(Et),A&&(Et.relatedTarget||Et.toElement)&&(A.pointer.reset(),A.pointer.chartPosition=void 0),o&&!o.isHidden&&this.reset())},Tt.prototype.onContainerMouseEnter=function(Et){delete this.chartPosition},Tt.prototype.onContainerMouseMove=function(Et){var A=this.chart;Et=this.normalize(Et),this.setHoverChartIndex(),Et.preventDefault||(Et.returnValue=!1),("mousedown"===A.mouseIsDown||this.touchSelect(Et))&&this.drag(Et),A.openMenu||!this.inClass(Et.target,"highcharts-tracker")&&!A.isInsidePlot(Et.chartX-A.plotLeft,Et.chartY-A.plotTop,{visiblePlotOnly:!0})||(this.inClass(Et.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(Et))},Tt.prototype.onDocumentTouchEnd=function(Et){var A=H[xt(Tt.hoverChartIndex,-1)];A&&A.pointer.drop(Et)},Tt.prototype.onContainerTouchMove=function(Et){this.touchSelect(Et)?this.onContainerMouseMove(Et):this.touch(Et)},Tt.prototype.onContainerTouchStart=function(Et){this.touchSelect(Et)?this.onContainerMouseDown(Et):(this.zoomOption(Et),this.touch(Et,!0))},Tt.prototype.onDocumentMouseMove=function(Et){var A=this.chart,o=this.chartPosition;Et=this.normalize(Et,o);var c=A.tooltip;!o||c&&c.isStickyOnContact()||A.isInsidePlot(Et.chartX-A.plotLeft,Et.chartY-A.plotTop,{visiblePlotOnly:!0})||this.inClass(Et.target,"highcharts-tracker")||this.reset()},Tt.prototype.onDocumentMouseUp=function(Et){var A=H[xt(Tt.hoverChartIndex,-1)];A&&A.pointer.drop(Et)},Tt.prototype.pinch=function(Et){var A=this,o=A.chart,c=A.pinchDown,g=Et.touches||[],p=g.length,w=A.lastValidTouch,S=A.hasZoom,T={},C=1===p&&(A.inClass(Et.target,"highcharts-tracker")&&o.runTrackerClick||A.runChartClick),h={},k=A.selectionMarker;1<p?A.initiated=!0:1===p&&this.followTouchMove&&(A.initiated=!1),S&&A.initiated&&!C&&!1!==Et.cancelable&&Et.preventDefault(),[].map.call(g,function(ft){return A.normalize(ft)}),"touchstart"===Et.type?([].forEach.call(g,function(ft,at){c[at]={chartX:ft.chartX,chartY:ft.chartY}}),w.x=[c[0].chartX,c[1]&&c[1].chartX],w.y=[c[0].chartY,c[1]&&c[1].chartY],o.axes.forEach(function(ft){if(ft.zoomEnabled){var at=o.bounds[ft.horiz?"h":"v"],st=ft.minPixelPadding,Mt=ft.toPixels(Math.min(xt(ft.options.min,ft.dataMin),ft.dataMin)),St=ft.toPixels(Math.max(xt(ft.options.max,ft.dataMax),ft.dataMax)),Xt=Math.max(Mt,St);at.min=Math.min(ft.pos,Math.min(Mt,St)-st),at.max=Math.max(ft.pos+ft.len,Xt+st)}}),A.res=!0):A.followTouchMove&&1===p?this.runPointActions(A.normalize(Et)):c.length&&(U(o,"touchpan",{originalEvent:Et},function(){k||(A.selectionMarker=k=Y({destroy:F,touch:!0},o.plotBox)),A.pinchTranslate(c,g,T,k,h,w),A.hasPinched=S,A.scaleGroups(T,h)}),A.res&&(A.res=!1,this.reset(!1,0)))},Tt.prototype.pinchTranslate=function(Et,A,o,c,g,p){this.zoomHor&&this.pinchTranslateDirection(!0,Et,A,o,c,g,p),this.zoomVert&&this.pinchTranslateDirection(!1,Et,A,o,c,g,p)},Tt.prototype.pinchTranslateDirection=function(Et,A,o,c,g,p,w,S){var T=this.chart,C=Et?"x":"y",h=Et?"X":"Y",k="chart"+h,ft=Et?"width":"height",at=T["plot"+(Et?"Left":"Top")],st=T.inverted,Mt=T.bounds[Et?"h":"v"],St=1===A.length,Xt=A[0][k],te=!St&&A[1][k];A=function(){"number"==typeof Nt&&20<Math.abs(Xt-te)&&(ve=S||Math.abs(Gt-Nt)/Math.abs(Xt-te)),Dt=(at-Gt)/ve+Xt,Vt=T["plot"+(Et?"Width":"Height")]/ve};var Vt,Dt,ve=S||1,Gt=o[0][k],Nt=!St&&o[1][k];if(A(),(o=Dt)<Mt.min){o=Mt.min;var Kt=!0}else o+Vt>Mt.max&&(o=Mt.max-Vt,Kt=!0);Kt?(Gt-=.8*(Gt-w[C][0]),"number"==typeof Nt&&(Nt-=.8*(Nt-w[C][1])),A()):w[C]=[Gt,Nt],st||(p[C]=Dt-at,p[ft]=Vt),p=st?1/ve:ve,g[ft]=Vt,g[C]=o,c[st?Et?"scaleY":"scaleX":"scale"+h]=ve,c["translate"+h]=p*at+(Gt-p*Xt)},Tt.prototype.reset=function(Et,A){var o=this.chart,c=o.hoverSeries,g=o.hoverPoint,p=o.hoverPoints,w=o.tooltip,S=w&&w.shared?p:g;Et&&S&&Ot(S).forEach(function(T){T.series.isCartesian&&void 0===T.plotX&&(Et=!1)}),Et?w&&S&&Ot(S).length&&(w.refresh(S),w.shared&&p?p.forEach(function(T){T.setState(T.state,!0),T.series.isCartesian&&(T.series.xAxis.crosshair&&T.series.xAxis.drawCrosshair(null,T),T.series.yAxis.crosshair&&T.series.yAxis.drawCrosshair(null,T))}):g&&(g.setState(g.state,!0),o.axes.forEach(function(T){T.crosshair&&g.series[T.coll]===T&&T.drawCrosshair(null,g)}))):(g&&g.onMouseOut(),p&&p.forEach(function(T){T.setState()}),c&&c.onMouseOut(),w&&w.hide(A),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),o.axes.forEach(function(T){T.hideCrosshair()}),this.hoverX=o.hoverPoints=o.hoverPoint=null)},Tt.prototype.runPointActions=function(Et,A){var o=this.chart,c=o.tooltip&&o.tooltip.options.enabled?o.tooltip:void 0,g=!!c&&c.shared,p=A||o.hoverPoint,w=p&&p.series||o.hoverSeries;p=(A=this.getHoverData(p,w,o.series,(!Et||"touchmove"!==Et.type)&&(!!A||w&&w.directTouch&&this.isDirectTouch),g,Et)).hoverPoint;var S=A.hoverPoints;if(A=(w=A.hoverSeries)&&w.tooltipOptions.followPointer&&!w.tooltipOptions.split,g=g&&w&&!w.noSharedTooltip,p&&(p!==o.hoverPoint||c&&c.isHidden)){if((o.hoverPoints||[]).forEach(function(T){-1===S.indexOf(T)&&T.setState()}),o.hoverSeries!==w&&w.onMouseOver(),this.applyInactiveState(S),(S||[]).forEach(function(T){T.setState("hover")}),o.hoverPoint&&o.hoverPoint.firePointEvent("mouseOut"),!p.series)return;o.hoverPoints=S,o.hoverPoint=p,p.firePointEvent("mouseOver"),c&&c.refresh(g?S:p,Et)}else A&&c&&!c.isHidden&&(p=c.getAnchor([{}],Et),o.isInsidePlot(p[0],p[1],{visiblePlotOnly:!0})&&c.updatePosition({plotX:p[0],plotY:p[1]}));this.unDocMouseMove||(this.unDocMouseMove=et(o.container.ownerDocument,"mousemove",function(T){var C=H[Tt.hoverChartIndex];C&&C.pointer.onDocumentMouseMove(T)}),this.eventsToUnbind.push(this.unDocMouseMove)),o.axes.forEach(function(T){var h,C=xt((T.crosshair||{}).snap,!0);C&&((h=o.hoverPoint)&&h.series[T.coll]===T||(h=q(S,function(k){return k.series[T.coll]===T}))),h||!C?T.drawCrosshair(Et,h):T.hideCrosshair()})},Tt.prototype.scaleGroups=function(Et,A){var o=this.chart;o.series.forEach(function(c){var g=Et||c.getPlotBox();c.group&&(c.xAxis&&c.xAxis.zoomEnabled||o.mapView)&&(c.group.attr(g),c.markerGroup&&(c.markerGroup.attr(g),c.markerGroup.clip(A?o.clipRect:null)),c.dataLabelsGroup&&c.dataLabelsGroup.attr(g))}),o.clipRect.attr(A||o.clipBox)},Tt.prototype.setDOMEvents=function(){var Et=this,A=this.chart.container,o=A.ownerDocument;A.onmousedown=this.onContainerMouseDown.bind(this),A.onmousemove=this.onContainerMouseMove.bind(this),A.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(et(A,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(et(A,"mouseleave",this.onContainerMouseLeave.bind(this))),Tt.unbindDocumentMouseUp||(Tt.unbindDocumentMouseUp=et(o,"mouseup",this.onDocumentMouseUp.bind(this)));for(var c=this.chart.renderTo.parentElement;c&&"BODY"!==c.tagName;)this.eventsToUnbind.push(et(c,"scroll",function(){delete Et.chartPosition})),c=c.parentElement;W.hasTouch&&(this.eventsToUnbind.push(et(A,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(et(A,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),Tt.unbindDocumentTouchEnd||(Tt.unbindDocumentTouchEnd=et(o,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))},Tt.prototype.setHoverChartIndex=function(){var Et=this.chart,A=W.charts[xt(Tt.hoverChartIndex,-1)];A&&A!==Et&&A.pointer.onContainerMouseLeave({relatedTarget:!0}),A&&A.mouseIsDown||(Tt.hoverChartIndex=Et.index)},Tt.prototype.touch=function(Et,A){var o=this.chart;if(this.setHoverChartIndex(),1===Et.touches.length)if(Et=this.normalize(Et),o.isInsidePlot(Et.chartX-o.plotLeft,Et.chartY-o.plotTop,{visiblePlotOnly:!0})&&!o.openMenu){if(A&&this.runPointActions(Et),"touchmove"===Et.type)var g=!!(A=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(A[0].chartX-Et.chartX,2)+Math.pow(A[0].chartY-Et.chartY,2));xt(g,!0)&&this.pinch(Et)}else A&&this.reset();else 2===Et.touches.length&&this.pinch(Et)},Tt.prototype.touchSelect=function(Et){return!(!this.chart.options.chart.zoomBySingleTouch||!Et.touches||1!==Et.touches.length)},Tt.prototype.zoomOption=function(Et){var A=this.chart,o=A.options.chart;A=A.inverted;var c=o.zoomType||"";/touch/.test(Et.type)&&(c=xt(o.pinchType,c)),this.zoomX=Et=/x/.test(c),this.zoomY=o=/y/.test(c),this.zoomHor=Et&&!A||o&&A,this.zoomVert=o&&!A||Et&&A,this.hasZoom=Et||o},Tt}()}),J(tt,"Core/MSPointer.js",[tt["Core/Globals.js"],tt["Core/Pointer.js"],tt["Core/Utilities.js"]],function(b,W,G){function rt(){var lt=[];return lt.item=function(wt){return this[wt]},q(it,function(wt){lt.push({pageX:wt.pageX,pageY:wt.pageY,target:wt.target})}),lt}function Z(lt,wt,xt,Ot){var Tt=F[W.hoverChartIndex||NaN];"touch"!==lt.pointerType&&lt.pointerType!==lt.MSPOINTER_TYPE_TOUCH||!Tt||(Tt=Tt.pointer,Ot(lt),Tt[wt]({type:xt,target:lt.currentTarget,preventDefault:B,touches:rt()}))}var lt,H=this&&this.__extends||(lt=function(wt,xt){return(lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ot,Tt){Ot.__proto__=Tt}||function(Ot,Tt){for(var Et in Tt)Tt.hasOwnProperty(Et)&&(Ot[Et]=Tt[Et])})(wt,xt)},function(wt,xt){function Ot(){this.constructor=wt}lt(wt,xt),wt.prototype=null===xt?Object.create(xt):(Ot.prototype=xt.prototype,new Ot)}),F=b.charts,et=b.doc,B=b.noop,X=b.win,z=G.addEvent,Y=G.css,q=G.objectEach,U=G.removeEvent,it={},ot=!!X.PointerEvent;return function(lt){function wt(){return null!==lt&&lt.apply(this,arguments)||this}return H(wt,lt),wt.isRequired=function(){return!(b.hasTouch||!X.PointerEvent&&!X.MSPointerEvent)},wt.prototype.batchMSEvents=function(xt){xt(this.chart.container,ot?"pointerdown":"MSPointerDown",this.onContainerPointerDown),xt(this.chart.container,ot?"pointermove":"MSPointerMove",this.onContainerPointerMove),xt(et,ot?"pointerup":"MSPointerUp",this.onDocumentPointerUp)},wt.prototype.destroy=function(){this.batchMSEvents(U),lt.prototype.destroy.call(this)},wt.prototype.init=function(xt,Ot){lt.prototype.init.call(this,xt,Ot),this.hasZoom&&Y(xt.container,{"-ms-touch-action":"none","touch-action":"none"})},wt.prototype.onContainerPointerDown=function(xt){Z(xt,"onContainerTouchStart","touchstart",function(Ot){it[Ot.pointerId]={pageX:Ot.pageX,pageY:Ot.pageY,target:Ot.currentTarget}})},wt.prototype.onContainerPointerMove=function(xt){Z(xt,"onContainerTouchMove","touchmove",function(Ot){it[Ot.pointerId]={pageX:Ot.pageX,pageY:Ot.pageY},it[Ot.pointerId].target||(it[Ot.pointerId].target=Ot.currentTarget)})},wt.prototype.onDocumentPointerUp=function(xt){Z(xt,"onDocumentTouchEnd","touchend",function(Ot){delete it[Ot.pointerId]})},wt.prototype.setDOMEvents=function(){lt.prototype.setDOMEvents.call(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(z)},wt}(W)}),J(tt,"Core/Legend/Legend.js",[tt["Core/Animation/AnimationUtilities.js"],tt["Core/FormatUtilities.js"],tt["Core/Globals.js"],tt["Core/Series/Point.js"],tt["Core/Renderer/RendererUtilities.js"],tt["Core/Utilities.js"]],function(b,W,G,rt,Z,H){var F=b.animObject,et=b.setAnimation,B=W.format;b=G.isFirefox;var X=G.marginNames;G=G.win;var z=Z.distribute,Y=H.addEvent,q=H.createElement,U=H.css,it=H.defined,ot=H.discardElement,lt=H.find,wt=H.fireEvent,xt=H.isNumber,Ot=H.merge,Tt=H.pick,Et=H.relativeLength,A=H.stableSort,o=H.syncTimeout;return Z=H.wrap,H=function(){function c(g,p){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options={},this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=g,this.init(g,p)}return c.prototype.init=function(g,p){this.chart=g,this.setOptions(p),p.enabled&&(this.render(),Y(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=Y(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},c.prototype.setOptions=function(g){var p=Tt(g.padding,8);this.options=g,this.chart.styledMode||(this.itemStyle=g.itemStyle,this.itemHiddenStyle=Ot(this.itemStyle,g.itemHiddenStyle)),this.itemMarginTop=g.itemMarginTop||0,this.itemMarginBottom=g.itemMarginBottom||0,this.padding=p,this.initialItemY=p-5,this.symbolWidth=Tt(g.symbolWidth,16),this.pages=[],this.proximate="proximate"===g.layout&&!this.chart.inverted,this.baseline=void 0},c.prototype.update=function(g,p){var w=this.chart;this.setOptions(Ot(!0,this.options,g)),this.destroy(),w.isDirtyLegend=w.isDirtyBox=!0,Tt(p,!0)&&w.redraw(),wt(this,"afterUpdate")},c.prototype.colorizeItem=function(g,p){if(g.legendGroup[p?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var w=this.options,S=g.legendItem,T=g.legendLine,C=g.legendSymbol,h=this.itemHiddenStyle.color;w=p?w.itemStyle.color:h;var k=p&&g.color||h,ft=g.options&&g.options.marker,at={fill:k};S&&S.css({fill:w,color:w}),T&&T.attr({stroke:k}),C&&(ft&&C.isMarker&&(at=g.pointAttribs(),p||(at.stroke=at.fill=h)),C.attr(at))}wt(this,"afterColorizeItem",{item:g,visible:p})},c.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},c.prototype.positionItem=function(g){var p=this,w=this.options,S=w.symbolPadding,T=!w.rtl,C=g._legendItemPos;w=C[0],C=C[1];var h=g.checkbox,k=g.legendGroup;k&&k.element&&(S={translateX:T?w:this.legendWidth-w-2*S-4,translateY:C},T=function(){wt(p,"afterPositionItem",{item:g})},it(k.translateY)?k.animate(S,void 0,T):(k.attr(S),T())),h&&(h.x=w,h.y=C)},c.prototype.destroyItem=function(g){var p=g.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach(function(w){g[w]&&(g[w]=g[w].destroy())}),p&&ot(g.checkbox)},c.prototype.destroy=function(){function g(p){this[p]&&(this[p]=this[p].destroy())}this.getAllItems().forEach(function(p){["legendItem","legendGroup"].forEach(g,p)}),"clipRect up down pager nav box title group".split(" ").forEach(g,this),this.display=null},c.prototype.positionCheckboxes=function(){var g=this.group&&this.group.alignAttr,p=this.clipHeight||this.legendHeight,w=this.titleHeight;if(g){var S=g.translateY;this.allItems.forEach(function(T){var C=T.checkbox;if(C){var h=S+w+C.y+(this.scrollOffset||0)+3;U(C,{left:g.translateX+T.checkboxOffset+C.x-20+"px",top:h+"px",display:this.proximate||h>S-6&&h<S+p-6?"":"none"})}},this)}},c.prototype.renderTitle=function(){var g=this.options,p=this.padding,w=g.title,S=0;w.text&&(this.title||(this.title=this.chart.renderer.label(w.text,p-3,p-4,null,null,null,g.useHTML,null,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(w.style),this.title.add(this.group)),w.width||this.title.css({width:this.maxLegendWidth+"px"}),S=(g=this.title.getBBox()).height,this.offsetWidth=g.width,this.contentGroup.attr({translateY:S})),this.titleHeight=S},c.prototype.setText=function(g){var p=this.options;g.legendItem.attr({text:p.labelFormat?B(p.labelFormat,g,this.chart):p.labelFormatter.call(g)})},c.prototype.renderItem=function(g){var p=this.chart,w=p.renderer,S=this.options,T=this.symbolWidth,C=S.symbolPadding||0,h=this.itemStyle,k=this.itemHiddenStyle,ft="horizontal"===S.layout?Tt(S.itemDistance,20):0,at=!S.rtl,st=!g.series,Mt=!st&&g.series.drawLegendSymbol?g.series:g,St=Mt.options,Xt=this.createCheckboxForItem&&St&&St.showCheckbox,te=S.useHTML,Vt=g.options.className,Dt=g.legendItem;St=T+C+ft+(Xt?20:0),Dt||(g.legendGroup=w.g("legend-item").addClass("highcharts-"+Mt.type+"-series highcharts-color-"+g.colorIndex+(Vt?" "+Vt:"")+(st?" highcharts-series-"+g.index:"")).attr({zIndex:1}).add(this.scrollGroup),g.legendItem=Dt=w.text("",at?T+C:-C,this.baseline||0,te),p.styledMode||Dt.css(Ot(g.visible?h:k)),Dt.attr({align:at?"left":"right",zIndex:2}).add(g.legendGroup),this.baseline||(this.fontMetrics=w.fontMetrics(p.styledMode?12:h.fontSize,Dt),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,Dt.attr("y",this.baseline),this.symbolHeight=S.symbolHeight||this.fontMetrics.f,S.squareSymbol&&(this.symbolWidth=Tt(S.symbolWidth,Math.max(this.symbolHeight,16)),St=this.symbolWidth+C+ft+(Xt?20:0),at&&Dt.attr("x",this.symbolWidth+C))),Mt.drawLegendSymbol(this,g),this.setItemEvents&&this.setItemEvents(g,Dt,te)),Xt&&!g.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(g),this.colorizeItem(g,g.visible),!p.styledMode&&h.width||Dt.css({width:(S.itemWidth||this.widthOption||p.spacingBox.width)-St+"px"}),this.setText(g),p=Dt.getBBox(),g.itemWidth=g.checkboxOffset=S.itemWidth||g.legendItemWidth||p.width+St,this.maxItemWidth=Math.max(this.maxItemWidth,g.itemWidth),this.totalItemWidth+=g.itemWidth,this.itemHeight=g.itemHeight=Math.round(g.legendItemHeight||p.height||this.symbolHeight)},c.prototype.layoutItem=function(g){var p=this.options,w=this.padding,S="horizontal"===p.layout,T=g.itemHeight,C=this.itemMarginBottom,h=this.itemMarginTop,k=S?Tt(p.itemDistance,20):0,ft=this.maxLegendWidth;p=p.alignColumns&&this.totalItemWidth>ft?this.maxItemWidth:g.itemWidth,S&&this.itemX-w+p>ft&&(this.itemX=w,this.lastLineHeight&&(this.itemY+=h+this.lastLineHeight+C),this.lastLineHeight=0),this.lastItemY=h+this.itemY+C,this.lastLineHeight=Math.max(T,this.lastLineHeight),g._legendItemPos=[this.itemX,this.itemY],S?this.itemX+=p:(this.itemY+=h+T+C,this.lastLineHeight=T),this.offsetWidth=this.widthOption||Math.max((S?this.itemX-w-(g.checkbox?0:k):p)+w,this.offsetWidth)},c.prototype.getAllItems=function(){var g=[];return this.chart.series.forEach(function(p){var w=p&&p.options;p&&Tt(w.showInLegend,!it(w.linkedTo)&&void 0,!0)&&(g=g.concat(p.legendItems||("point"===w.legendType?p.data:p)))}),wt(this,"afterGetAllItems",{allItems:g}),g},c.prototype.getAlignment=function(){var g=this.options;return this.proximate?g.align.charAt(0)+"tv":g.floating?"":g.align.charAt(0)+g.verticalAlign.charAt(0)+g.layout.charAt(0)},c.prototype.adjustMargins=function(g,p){var w=this.chart,S=this.options,T=this.getAlignment();T&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(C,h){C.test(T)&&!it(g[h])&&(w[X[h]]=Math.max(w[X[h]],w.legend[(h+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][h]*S[h%2?"x":"y"]+Tt(S.margin,12)+p[h]+(w.titleOffset[h]||0)))})},c.prototype.proximatePositions=function(){var g=this.chart,p=[],w="left"===this.options.align;this.allItems.forEach(function(S){var T,C=w;if(S.yAxis){S.xAxis.options.reversed&&(C=!C),S.points&&(T=lt(C?S.points:S.points.slice(0).reverse(),function(k){return xt(k.plotY)})),C=this.itemMarginTop+S.legendItem.getBBox().height+this.itemMarginBottom;var h=S.yAxis.top-g.plotTop;S.visible?(T=T?T.plotY:S.yAxis.height,T+=h-.3*C):T=h+S.yAxis.height,p.push({target:T,size:C,item:S})}},this),z(p,g.plotHeight).forEach(function(S){S.item._legendItemPos&&(S.item._legendItemPos[1]=g.plotTop-g.spacing[0]+S.pos)})},c.prototype.render=function(){var g=this.chart,p=g.renderer,w=this.options,S=this.padding,T=this.getAllItems(),C=this.group,h=this.box;this.itemX=S,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=Et(w.width,g.spacingBox.width-S);var k=g.spacingBox.width-2*S-w.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(k/=2),this.maxLegendWidth=this.widthOption||k,C||(this.group=C=p.g("legend").addClass(w.className||"").attr({zIndex:7}).add(),this.contentGroup=p.g().attr({zIndex:1}).add(C),this.scrollGroup=p.g().add(this.contentGroup)),this.renderTitle(),A(T,function(at,st){return(at.options&&at.options.legendIndex||0)-(st.options&&st.options.legendIndex||0)}),w.reversed&&T.reverse(),this.allItems=T,this.display=k=!!T.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,T.forEach(this.renderItem,this),T.forEach(this.layoutItem,this),T=(this.widthOption||this.offsetWidth)+S;var ft=this.lastItemY+this.lastLineHeight+this.titleHeight;ft=this.handleOverflow(ft),ft+=S,h||(this.box=h=p.rect().addClass("highcharts-legend-box").attr({r:w.borderRadius}).add(C),h.isNew=!0),g.styledMode||h.attr({stroke:w.borderColor,"stroke-width":w.borderWidth||0,fill:w.backgroundColor||"none"}).shadow(w.shadow),0<T&&0<ft&&(h[h.isNew?"attr":"animate"](h.crisp.call({},{x:0,y:0,width:T,height:ft},h.strokeWidth())),h.isNew=!1),h[k?"show":"hide"](),g.styledMode&&"none"===C.getStyle("display")&&(T=ft=0),this.legendWidth=T,this.legendHeight=ft,k&&this.align(),this.proximate||this.positionItems(),wt(this,"afterRender")},c.prototype.align=function(g){void 0===g&&(g=this.chart.spacingBox);var p=this.chart,w=this.options,S=g.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<p.titleOffset[0]?S+=p.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<p.titleOffset[2]&&(S-=p.titleOffset[2]),S!==g.y&&(g=Ot(g,{y:S})),this.group.align(Ot(w,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":w.verticalAlign}),!0,g)},c.prototype.handleOverflow=function(g){var Dt,ve,p=this,w=this.chart,S=w.renderer,T=this.options,C=T.y,h="top"===T.verticalAlign,k=this.padding,ft=T.maxHeight,at=T.navigation,st=Tt(at.animation,!0),Mt=at.arrowSize||12,St=this.pages,Xt=this.allItems,te=function(Kt){"number"==typeof Kt?Nt.attr({height:Kt}):Nt&&(p.clipRect=Nt.destroy(),p.contentGroup.clip()),p.contentGroup.div&&(p.contentGroup.div.style.clip=Kt?"rect("+k+"px,9999px,"+(k+Kt)+"px,0)":"auto")},Vt=function(Kt){return p[Kt]=S.circle(0,0,1.3*Mt).translate(Mt/2,Mt/2).add(Gt),w.styledMode||p[Kt].attr("fill","rgba(0,0,0,0.0001)"),p[Kt]};C=w.spacingBox.height+(h?-C:C)-k;var Gt=this.nav,Nt=this.clipRect;return"horizontal"!==T.layout||"middle"===T.verticalAlign||T.floating||(C/=2),ft&&(C=Math.min(C,ft)),St.length=0,g&&0<C&&g>C&&!1!==at.enabled?(this.clipHeight=Dt=Math.max(C-20-this.titleHeight-k,0),this.currentPage=Tt(this.currentPage,1),this.fullHeight=g,Xt.forEach(function(Kt,fe){var zt=Kt._legendItemPos[1],Ne=Math.round(Kt.legendItem.getBBox().height),Pt=St.length;(!Pt||zt-St[Pt-1]>Dt&&(ve||zt)!==St[Pt-1])&&(St.push(ve||zt),Pt++),Kt.pageIx=Pt-1,ve&&(Xt[fe-1].pageIx=Pt-1),fe===Xt.length-1&&zt+Ne-St[Pt-1]>Dt&&Ne<=Dt&&(St.push(zt),Kt.pageIx=Pt),zt!==ve&&(ve=zt)}),Nt||(Nt=p.clipRect=S.clipRect(0,k,9999,0),p.contentGroup.clip(Nt)),te(Dt),Gt||(this.nav=Gt=S.g().attr({zIndex:1}).add(this.group),this.up=S.symbol("triangle",0,0,Mt,Mt).add(Gt),Vt("upTracker").on("click",function(){p.scroll(-1,st)}),this.pager=S.text("",15,10).addClass("highcharts-legend-navigation"),w.styledMode||this.pager.css(at.style),this.pager.add(Gt),this.down=S.symbol("triangle-down",0,0,Mt,Mt).add(Gt),Vt("downTracker").on("click",function(){p.scroll(1,st)})),p.scroll(0),g=C):Gt&&(te(),this.nav=Gt.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),g},c.prototype.scroll=function(g,p){var w=this,S=this.chart,T=this.pages,C=T.length,h=this.clipHeight,k=this.options.navigation,ft=this.pager,at=this.padding,st=this.currentPage+g;st>C&&(st=C),0<st&&(void 0!==p&&et(p,S),this.nav.attr({translateX:at,translateY:h+this.padding+7+this.titleHeight,visibility:"visible"}),[this.up,this.upTracker].forEach(function(Mt){Mt.attr({class:1===st?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),ft.attr({text:st+"/"+C}),[this.down,this.downTracker].forEach(function(Mt){Mt.attr({x:18+this.pager.getBBox().width,class:st===C?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),S.styledMode||(this.up.attr({fill:1===st?k.inactiveColor:k.activeColor}),this.upTracker.css({cursor:1===st?"default":"pointer"}),this.down.attr({fill:st===C?k.inactiveColor:k.activeColor}),this.downTracker.css({cursor:st===C?"default":"pointer"})),this.scrollOffset=-T[st-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=st,this.positionCheckboxes(),g=F(Tt(p,S.renderer.globalAnimation,!0)),o(function(){wt(w,"afterScroll",{currentPage:st})},g.duration))},c.prototype.setItemEvents=function(g,p,w){var S=this,T=S.chart.renderer.boxWrapper,C=g instanceof rt,h="highcharts-legend-"+(C?"point":"series")+"-active",k=S.chart.styledMode,ft=function(at){S.allItems.forEach(function(st){g!==st&&[st].concat(st.linkedSeries||[]).forEach(function(Mt){Mt.setState(at,!C)})})};(w?[p,g.legendSymbol]:[g.legendGroup]).forEach(function(at){at&&at.on("mouseover",function(){g.visible&&ft("inactive"),g.setState("hover"),g.visible&&T.addClass(h),k||p.css(S.options.itemHoverStyle)}).on("mouseout",function(){S.chart.styledMode||p.css(Ot(g.visible?S.itemStyle:S.itemHiddenStyle)),ft(""),T.removeClass(h),g.setState()}).on("click",function(st){var Mt=function(){g.setVisible&&g.setVisible(),ft(g.visible?"inactive":"")};T.removeClass(h),st={browserEvent:st},g.firePointEvent?g.firePointEvent("legendItemClick",st,Mt):wt(g,"legendItemClick",st,Mt)})})},c.prototype.createCheckboxForItem=function(g){g.checkbox=q("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:g.selected,defaultChecked:g.selected},this.options.itemCheckboxStyle,this.chart.container),Y(g.checkbox,"click",function(p){wt(g.series||g,"checkboxClick",{checked:p.target.checked,item:g},function(){g.select()})})},c}(),(/Trident\/7\.0/.test(G.navigator&&G.navigator.userAgent)||b)&&Z(H.prototype,"positionItem",function(c,g){var p=this,w=function(){g._legendItemPos&&c.call(p,g)};w(),p.bubbleLegend||setTimeout(w)}),H}),J(tt,"Core/Series/SeriesRegistry.js",[tt["Core/Globals.js"],tt["Core/DefaultOptions.js"],tt["Core/Series/Point.js"],tt["Core/Utilities.js"]],function(b,W,G,rt){var B,Z=W.defaultOptions,H=rt.error,F=rt.extendClass,et=rt.merge;return function(X){function z(Y,q){var U=Z.plotOptions||{},it=q.defaultOptions;q.prototype.pointClass||(q.prototype.pointClass=G),q.prototype.type=Y,it&&(U[Y]=it),X.seriesTypes[Y]=q}X.seriesTypes=b.seriesTypes,X.getSeries=function(Y,q){void 0===q&&(q={});var U=Y.options.chart,it=X.seriesTypes[U=q.type||U.type||U.defaultSeriesType||""];return X||H(17,!0,Y,{missingModuleFor:U}),"function"==typeof(U=new it).init&&U.init(Y,q),U},X.registerSeriesType=z,X.seriesType=function(Y,q,U,it,ot){var lt=Z.plotOptions||{};return lt[Y]=et(lt[q=q||""],U),z(Y,F(X.seriesTypes[q]||function(){},it)),X.seriesTypes[Y].prototype.type=Y,ot&&(X.seriesTypes[Y].prototype.pointClass=F(G,ot)),X.seriesTypes[Y]}}(B||(B={})),B}),J(tt,"Core/Chart/Chart.js",[tt["Core/Animation/AnimationUtilities.js"],tt["Core/Axis/Axis.js"],tt["Core/FormatUtilities.js"],tt["Core/Foundation.js"],tt["Core/Globals.js"],tt["Core/Legend/Legend.js"],tt["Core/MSPointer.js"],tt["Core/DefaultOptions.js"],tt["Core/Pointer.js"],tt["Core/Renderer/RendererRegistry.js"],tt["Core/Series/SeriesRegistry.js"],tt["Core/Renderer/SVG/SVGRenderer.js"],tt["Core/Time.js"],tt["Core/Utilities.js"],tt["Core/Renderer/HTML/AST.js"]],function(b,W,G,rt,Z,H,F,et,B,X,z,Y,q,U,it){var ot=b.animate,lt=b.animObject,wt=b.setAnimation,xt=G.numberFormat,Ot=rt.registerEventOptions,Tt=Z.charts,Et=Z.doc,A=Z.marginNames,o=Z.svg,c=Z.win,g=et.defaultOptions,p=et.defaultTime,w=z.seriesTypes,S=U.addEvent,T=U.attr,C=U.cleanRecursively,h=U.createElement,k=U.css,ft=U.defined,at=U.discardElement,st=U.erase,Mt=U.error,St=U.extend,Xt=U.find,te=U.fireEvent,Vt=U.getStyle,Dt=U.isArray,ve=U.isNumber,Gt=U.isObject,Nt=U.isString,Kt=U.merge,fe=U.objectEach,zt=U.pick,Ne=U.pInt,Pt=U.relativeLength,Se=U.removeEvent,Fi=U.splat,Ge=U.syncTimeout,_e=U.uniqueKey;return b=function(){function Ce(Bt,re,Ye){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.legend=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(Bt,re,Ye)}return Ce.chart=function(Bt,re,Ye){return new Ce(Bt,re,Ye)},Ce.prototype.getArgs=function(Bt,re,Ye){Nt(Bt)||Bt.nodeName?(this.renderTo=Bt,this.init(re,Ye)):this.init(Bt,re)},Ce.prototype.init=function(Bt,re){var Ye=Bt.plotOptions||{};te(this,"init",{args:arguments},function(){var jt=Kt(g,Bt),yt=jt.chart;fe(jt.plotOptions,function(ht,ce){Gt(ht)&&(ht.tooltip=Ye[ce]&&Kt(Ye[ce].tooltip)||void 0)}),jt.tooltip.userOptions=Bt.chart&&Bt.chart.forExport&&Bt.tooltip.userOptions||Bt.tooltip,this.userOptions=Bt,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=re,this.isResizing=0,this.options=jt,this.axes=[],this.series=[],this.time=Bt.time&&Object.keys(Bt.time).length?new q(Bt.time):Z.time,this.numberFormatter=yt.numberFormatter||xt,this.styledMode=yt.styledMode,this.hasCartesianSeries=yt.showAxes,this.index=Tt.length,Tt.push(this),Z.chartCount++,Ot(this,yt),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,te(this,"afterInit"),this.firstRender()})},Ce.prototype.initSeries=function(Bt){var re=this.options.chart,Ye=w[re=Bt.type||re.type||re.defaultSeriesType];return Ye||Mt(17,!0,this,{missingModuleFor:re}),"function"==typeof(re=new Ye).init&&re.init(this,Bt),re},Ce.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach(function(Bt){Bt.points||Bt.data||!Bt.enabledDataSorting||Bt.setData(Bt.options.data,!1)})},Ce.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort(function(Bt,re){return Bt.linkedSeries.length||re.linkedSeries.length?re.linkedSeries.length-Bt.linkedSeries.length:0})},Ce.prototype.orderSeries=function(Bt){var re=this.series;Bt=Bt||0;for(var Ye=re.length;Bt<Ye;++Bt)re[Bt]&&(re[Bt].index=Bt,re[Bt].name=re[Bt].getName())},Ce.prototype.isInsidePlot=function(Bt,re,Ye){void 0===Ye&&(Ye={});var jt=this.inverted,yt=this.plotBox,ht=this.plotLeft,ce=this.plotTop,ke=this.scrollablePlotBox,Pi=0,We=0;Ye.visiblePlotOnly&&this.scrollingContainer&&(Pi=(We=this.scrollingContainer).scrollLeft,We=We.scrollTop);var si=Ye.series;if(yt=Ye.visiblePlotOnly&&ke||yt,Bt={x:ke=Ye.inverted?re:Bt,y:re=Ye.inverted?Bt:re,isInsidePlot:!0},!Ye.ignoreX){var bn=si&&(jt?si.yAxis:si.xAxis)||{pos:ht,len:1/0};(ke=Ye.paneCoordinates?bn.pos+ke:ht+ke)>=Math.max(Pi+ht,bn.pos)&&ke<=Math.min(Pi+ht+yt.width,bn.pos+bn.len)||(Bt.isInsidePlot=!1)}return!Ye.ignoreY&&Bt.isInsidePlot&&(jt=si&&(jt?si.xAxis:si.yAxis)||{pos:ce,len:1/0},(Ye=Ye.paneCoordinates?jt.pos+re:ce+re)>=Math.max(We+ce,jt.pos)&&Ye<=Math.min(We+ce+yt.height,jt.pos+jt.len)||(Bt.isInsidePlot=!1)),te(this,"afterIsInsidePlot",Bt),Bt.isInsidePlot},Ce.prototype.redraw=function(Bt){te(this,"beforeRedraw");var re=this.hasCartesianSeries?this.axes:this.colorAxis||[],Ye=this.series,jt=this.pointer,yt=this.legend,ht=this.userOptions.legend,ce=this.renderer,ke=ce.isHidden(),Pi=[],We=this.isDirtyBox,si=this.isDirtyLegend;for(this.setResponsive&&this.setResponsive(!1),wt(!!this.hasRendered&&Bt,this),ke&&this.temporaryDisplay(),this.layOutTitles(),Bt=Ye.length;Bt--;){var bn=Ye[Bt];if(bn.options.stacking||bn.options.centerInCategory){var wi=!0;if(bn.isDirty){var je=!0;break}}}if(je)for(Bt=Ye.length;Bt--;)(bn=Ye[Bt]).options.stacking&&(bn.isDirty=!0);Ye.forEach(function(ci){ci.isDirty&&("point"===ci.options.legendType?("function"==typeof ci.updateTotals&&ci.updateTotals(),si=!0):ht&&(ht.labelFormatter||ht.labelFormat)&&(si=!0)),ci.isDirtyData&&te(ci,"updatedData")}),si&&yt&&yt.options.enabled&&(yt.render(),this.isDirtyLegend=!1),wi&&this.getStacks(),re.forEach(function(ci){ci.updateNames(),ci.setScale()}),this.getMargins(),re.forEach(function(ci){ci.isDirty&&(We=!0)}),re.forEach(function(ci){var Oe=ci.min+","+ci.max;ci.extKey!==Oe&&(ci.extKey=Oe,Pi.push(function(){te(ci,"afterSetExtremes",St(ci.eventArgs,ci.getExtremes())),delete ci.eventArgs})),(We||wi)&&ci.redraw()}),We&&this.drawChartBox(),te(this,"predraw"),Ye.forEach(function(ci){(We||ci.isDirty)&&ci.visible&&ci.redraw(),ci.isDirtyData=!1}),jt&&jt.reset(!0),ce.draw(),te(this,"redraw"),te(this,"render"),ke&&this.temporaryDisplay(!0),Pi.forEach(function(ci){ci.call()})},Ce.prototype.get=function(Bt){function re(ht){return ht.id===Bt||ht.options&&ht.options.id===Bt}for(var Ye=this.series,jt=Xt(this.axes,re)||Xt(this.series,re),yt=0;!jt&&yt<Ye.length;yt++)jt=Xt(Ye[yt].points||[],re);return jt},Ce.prototype.getAxes=function(){var Bt=this,re=this.options,Ye=re.xAxis=Fi(re.xAxis||{});re=re.yAxis=Fi(re.yAxis||{}),te(this,"getAxes"),Ye.forEach(function(jt,yt){jt.index=yt,jt.isX=!0}),re.forEach(function(jt,yt){jt.index=yt}),Ye.concat(re).forEach(function(jt){new W(Bt,jt)}),te(this,"afterGetAxes")},Ce.prototype.getSelectedPoints=function(){return this.series.reduce(function(Bt,re){return re.getPointsCollection().forEach(function(Ye){zt(Ye.selectedStaging,Ye.selected)&&Bt.push(Ye)}),Bt},[])},Ce.prototype.getSelectedSeries=function(){return this.series.filter(function(Bt){return Bt.selected})},Ce.prototype.setTitle=function(Bt,re,Ye){this.applyDescription("title",Bt),this.applyDescription("subtitle",re),this.applyDescription("caption",void 0),this.layOutTitles(Ye)},Ce.prototype.applyDescription=function(Bt,re){var Ye=this,jt="title"===Bt?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};jt=this.options[Bt]=Kt(!this.styledMode&&{style:jt},this.options[Bt],re);var yt=this[Bt];yt&&re&&(this[Bt]=yt=yt.destroy()),jt&&!yt&&((yt=this.renderer.text(jt.text,0,0,jt.useHTML).attr({align:jt.align,class:"highcharts-"+Bt,zIndex:jt.zIndex||4}).add()).update=function(ht){Ye[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[Bt]](ht)},this.styledMode||yt.css(jt.style),this[Bt]=yt)},Ce.prototype.layOutTitles=function(Bt){var re=[0,0,0],Ye=this.renderer,jt=this.spacingBox;["title","subtitle","caption"].forEach(function(ht){var We,ce=this[ht],ke=this.options[ht],Pi=ke.verticalAlign||"top";if(ht="title"===ht?"top"===Pi?-3:0:"top"===Pi?re[0]+2:0,ce){this.styledMode||(We=ke.style&&ke.style.fontSize),We=Ye.fontMetrics(We,ce).b,ce.css({width:(ke.width||jt.width+(ke.widthAdjust||0))+"px"});var si=Math.round(ce.getBBox(ke.useHTML).height);ce.align(St({y:"bottom"===Pi?We:ht+We,height:si},ke),!1,"spacingBox"),ke.floating||("top"===Pi?re[0]=Math.ceil(re[0]+si):"bottom"===Pi&&(re[2]=Math.ceil(re[2]+si)))}},this),re[0]&&"top"===(this.options.title.verticalAlign||"top")&&(re[0]+=this.options.title.margin),re[2]&&"bottom"===this.options.caption.verticalAlign&&(re[2]+=this.options.caption.margin);var yt=!this.titleOffset||this.titleOffset.join(",")!==re.join(",");this.titleOffset=re,te(this,"afterLayOutTitles"),!this.isDirtyBox&&yt&&(this.isDirtyBox=this.isDirtyLegend=yt,this.hasRendered&&zt(Bt,!0)&&this.isDirtyBox&&this.redraw())},Ce.prototype.getChartSize=function(){var Bt=this.options.chart,re=Bt.width;Bt=Bt.height;var Ye=this.renderTo;ft(re)||(this.containerWidth=Vt(Ye,"width")),ft(Bt)||(this.containerHeight=Vt(Ye,"height")),this.chartWidth=Math.max(0,re||this.containerWidth||600),this.chartHeight=Math.max(0,Pt(Bt,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},Ce.prototype.temporaryDisplay=function(Bt){var re=this.renderTo;if(Bt)for(;re&&re.style;)re.hcOrigStyle&&(k(re,re.hcOrigStyle),delete re.hcOrigStyle),re.hcOrigDetached&&(Et.body.removeChild(re),re.hcOrigDetached=!1),re=re.parentNode;else for(;re&&re.style&&(Et.body.contains(re)||re.parentNode||(re.hcOrigDetached=!0,Et.body.appendChild(re)),("none"===Vt(re,"display",!1)||re.hcOricDetached)&&(re.hcOrigStyle={display:re.style.display,height:re.style.height,overflow:re.style.overflow},Bt={display:"block",overflow:"hidden"},re!==this.renderTo&&(Bt.height=0),k(re,Bt),re.offsetWidth||re.style.setProperty("display","block","important")),(re=re.parentNode)!==Et.body););},Ce.prototype.setClassName=function(Bt){this.container.className="highcharts-container "+(Bt||"")},Ce.prototype.getContainer=function(){var jt,Bt=this.options,re=Bt.chart,Ye=_e(),yt=this.renderTo;yt||(this.renderTo=yt=re.renderTo),Nt(yt)&&(this.renderTo=yt=Et.getElementById(yt)),yt||Mt(13,!0,this);var ht=Ne(T(yt,"data-highcharts-chart"));ve(ht)&&Tt[ht]&&Tt[ht].hasRendered&&Tt[ht].destroy(),T(yt,"data-highcharts-chart",this.index),yt.innerHTML="",re.skipClone||yt.offsetWidth||this.temporaryDisplay(),this.getChartSize(),ht=this.chartWidth;var ce=this.chartHeight;if(k(yt,{overflow:"hidden"}),this.styledMode||(jt=St({position:"relative",overflow:"hidden",width:ht+"px",height:ce+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},re.style||{})),this.container=Ye=h("div",{id:Ye},jt,yt),this._cursor=Ye.style.cursor,this.renderer=new(re.renderer||!o?X.getRendererType(re.renderer):Y)(Ye,ht,ce,void 0,re.forExport,Bt.exporting&&Bt.exporting.allowHTML,this.styledMode),wt(void 0,this),this.setClassName(re.className),this.styledMode)for(var ke in Bt.defs)this.renderer.definition(Bt.defs[ke]);else this.renderer.setStyle(re.style);this.renderer.chartIndex=this.index,te(this,"afterGetContainer")},Ce.prototype.getMargins=function(Bt){var re=this.spacing,Ye=this.margin,jt=this.titleOffset;this.resetMargins(),jt[0]&&!ft(Ye[0])&&(this.plotTop=Math.max(this.plotTop,jt[0]+re[0])),jt[2]&&!ft(Ye[2])&&(this.marginBottom=Math.max(this.marginBottom,jt[2]+re[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(Ye,re),te(this,"getMargins"),Bt||this.getAxisMargins()},Ce.prototype.getAxisMargins=function(){var Bt=this,re=Bt.axisOffset=[0,0,0,0],Ye=Bt.colorAxis,jt=Bt.margin,yt=function(ht){ht.forEach(function(ce){ce.visible&&ce.getOffset()})};Bt.hasCartesianSeries?yt(Bt.axes):Ye&&Ye.length&&yt(Ye),A.forEach(function(ht,ce){ft(jt[ce])||(Bt[ht]+=re[ce])}),Bt.setChartSize()},Ce.prototype.reflow=function(Bt){var re=this,Ye=re.options.chart,jt=re.renderTo,yt=ft(Ye.width)&&ft(Ye.height),ht=Ye.width||Vt(jt,"width");Ye=Ye.height||Vt(jt,"height"),jt=Bt?Bt.target:c,delete re.pointer.chartPosition,!yt&&!re.isPrinting&&ht&&Ye&&(jt===c||jt===Et)&&((ht!==re.containerWidth||Ye!==re.containerHeight)&&(U.clearTimeout(re.reflowTimeout),re.reflowTimeout=Ge(function(){re.container&&re.setSize(void 0,void 0,!1)},Bt?100:0)),re.containerWidth=ht,re.containerHeight=Ye)},Ce.prototype.setReflow=function(Bt){var re=this;!1===Bt||this.unbindReflow?!1===Bt&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=S(c,"resize",function(Ye){re.options&&re.reflow(Ye)}),S(this,"destroy",this.unbindReflow))},Ce.prototype.setSize=function(Bt,re,Ye){var jt=this,yt=jt.renderer;jt.isResizing+=1,wt(Ye,jt),Ye=yt.globalAnimation,jt.oldChartHeight=jt.chartHeight,jt.oldChartWidth=jt.chartWidth,void 0!==Bt&&(jt.options.chart.width=Bt),void 0!==re&&(jt.options.chart.height=re),jt.getChartSize(),jt.styledMode||(Ye?ot:k)(jt.container,{width:jt.chartWidth+"px",height:jt.chartHeight+"px"},Ye),jt.setChartSize(!0),yt.setSize(jt.chartWidth,jt.chartHeight,Ye),jt.axes.forEach(function(ht){ht.isDirty=!0,ht.setScale()}),jt.isDirtyLegend=!0,jt.isDirtyBox=!0,jt.layOutTitles(),jt.getMargins(),jt.redraw(Ye),jt.oldChartHeight=null,te(jt,"resize"),Ge(function(){jt&&te(jt,"endResize",null,function(){--jt.isResizing})},lt(Ye).duration)},Ce.prototype.setChartSize=function(Bt){var Pi,We,si,bn,re=this.inverted,Ye=this.renderer,jt=this.chartWidth,yt=this.chartHeight,ht=this.options.chart,ce=this.spacing,ke=this.clipOffset;this.plotLeft=Pi=Math.round(this.plotLeft),this.plotTop=We=Math.round(this.plotTop),this.plotWidth=si=Math.max(0,Math.round(jt-Pi-this.marginRight)),this.plotHeight=bn=Math.max(0,Math.round(yt-We-this.marginBottom)),this.plotSizeX=re?bn:si,this.plotSizeY=re?si:bn,this.plotBorderWidth=ht.plotBorderWidth||0,this.spacingBox=Ye.spacingBox={x:ce[3],y:ce[0],width:jt-ce[3]-ce[1],height:yt-ce[0]-ce[2]},this.plotBox=Ye.plotBox={x:Pi,y:We,width:si,height:bn},re=2*Math.floor(this.plotBorderWidth/2),jt=Math.ceil(Math.max(re,ke[3])/2),yt=Math.ceil(Math.max(re,ke[0])/2),this.clipBox={x:jt,y:yt,width:Math.floor(this.plotSizeX-Math.max(re,ke[1])/2-jt),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(re,ke[2])/2-yt))},Bt||(this.axes.forEach(function(wi){wi.setAxisSize(),wi.setAxisTranslation()}),Ye.alignElements()),te(this,"afterSetChartSize",{skipAxes:Bt})},Ce.prototype.resetMargins=function(){te(this,"resetMargins");var Bt=this,re=Bt.options.chart;["margin","spacing"].forEach(function(Ye){var jt=re[Ye],yt=Gt(jt)?jt:[jt,jt,jt,jt];["Top","Right","Bottom","Left"].forEach(function(ht,ce){Bt[Ye][ce]=zt(re[Ye+ht],yt[ce])})}),A.forEach(function(Ye,jt){Bt[Ye]=zt(Bt.margin[jt],Bt.spacing[jt])}),Bt.axisOffset=[0,0,0,0],Bt.clipOffset=[0,0,0,0]},Ce.prototype.drawChartBox=function(){var De,Bt=this.options.chart,re=this.renderer,Ye=this.chartWidth,jt=this.chartHeight,yt=this.styledMode,ht=this.plotBGImage,ce=Bt.backgroundColor,ke=Bt.plotBackgroundColor,Pi=Bt.plotBackgroundImage,We=this.plotLeft,si=this.plotTop,bn=this.plotWidth,wi=this.plotHeight,je=this.plotBox,ci=this.clipRect,Oe=this.clipBox,oi=this.chartBackground,Vn=this.plotBackground,ei=this.plotBorder,qe="animate";if(oi||(this.chartBackground=oi=re.rect().addClass("highcharts-background").add(),qe="attr"),yt)var ni=De=oi.strokeWidth();else De=(ni=Bt.borderWidth||0)+(Bt.shadow?8:0),ce={fill:ce||"none"},(ni||oi["stroke-width"])&&(ce.stroke=Bt.borderColor,ce["stroke-width"]=ni),oi.attr(ce).shadow(Bt.shadow);oi[qe]({x:De/2,y:De/2,width:Ye-De-ni%2,height:jt-De-ni%2,r:Bt.borderRadius}),qe="animate",Vn||(qe="attr",this.plotBackground=Vn=re.rect().addClass("highcharts-plot-background").add()),Vn[qe](je),yt||(Vn.attr({fill:ke||"none"}).shadow(Bt.plotShadow),Pi&&(ht?(Pi!==ht.attr("href")&&ht.attr("href",Pi),ht.animate(je)):this.plotBGImage=re.image(Pi,We,si,bn,wi).add())),ci?ci.animate({width:Oe.width,height:Oe.height}):this.clipRect=re.clipRect(Oe),qe="animate",ei||(qe="attr",this.plotBorder=ei=re.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),yt||ei.attr({stroke:Bt.plotBorderColor,"stroke-width":Bt.plotBorderWidth||0,fill:"none"}),ei[qe](ei.crisp({x:We,y:si,width:bn,height:wi},-ei.strokeWidth())),this.isDirtyBox=!1,te(this,"afterDrawChartBox")},Ce.prototype.propFromSeries=function(){var jt,yt,ht,Bt=this,re=Bt.options.chart,Ye=Bt.options.series;["inverted","angular","polar"].forEach(function(ce){for(yt=w[re.type||re.defaultSeriesType],ht=re[ce]||yt&&yt.prototype[ce],jt=Ye&&Ye.length;!ht&&jt--;)(yt=w[Ye[jt].type])&&yt.prototype[ce]&&(ht=!0);Bt[ce]=ht})},Ce.prototype.linkSeries=function(){var Bt=this,re=Bt.series;re.forEach(function(Ye){Ye.linkedSeries.length=0}),re.forEach(function(Ye){var jt=Ye.options.linkedTo;Nt(jt)&&(jt=":previous"===jt?Bt.series[Ye.index-1]:Bt.get(jt))&&jt.linkedParent!==Ye&&(jt.linkedSeries.push(Ye),Ye.linkedParent=jt,jt.enabledDataSorting&&Ye.setDataSortingOptions(),Ye.visible=zt(Ye.options.visible,jt.options.visible,Ye.visible))}),te(this,"afterLinkSeries")},Ce.prototype.renderSeries=function(){this.series.forEach(function(Bt){Bt.translate(),Bt.render()})},Ce.prototype.renderLabels=function(){var Bt=this,re=Bt.options.labels;re.items&&re.items.forEach(function(Ye){var jt=St(re.style,Ye.style),yt=Ne(jt.left)+Bt.plotLeft,ht=Ne(jt.top)+Bt.plotTop+12;delete jt.left,delete jt.top,Bt.renderer.text(Ye.html,yt,ht).attr({zIndex:2}).css(jt).add()})},Ce.prototype.render=function(){var Bt=this.axes,re=this.colorAxis,Ye=this.renderer,jt=this.options,yt=function(We){We.forEach(function(si){si.visible&&si.render()})},ht=0;this.setTitle(),this.legend=new H(this,jt.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),jt=this.plotWidth,Bt.some(function(We){if(We.horiz&&We.visible&&We.options.labels.enabled&&We.series.length)return ht=21,!0});var ce=this.plotHeight=Math.max(this.plotHeight-ht,0);Bt.forEach(function(We){We.setScale()}),this.getAxisMargins();var ke=1.1<jt/this.plotWidth,Pi=1.05<ce/this.plotHeight;(ke||Pi)&&(Bt.forEach(function(We){(We.horiz&&ke||!We.horiz&&Pi)&&We.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?yt(Bt):re&&re.length&&yt(re),this.seriesGroup||(this.seriesGroup=Ye.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},Ce.prototype.addCredits=function(Bt){var re=this,Ye=Kt(!0,this.options.credits,Bt);Ye.enabled&&!this.credits&&(this.credits=this.renderer.text(Ye.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){Ye.href&&(c.location.href=Ye.href)}).attr({align:Ye.position.align,zIndex:8}),re.styledMode||this.credits.css(Ye.style),this.credits.add().align(Ye.position),this.credits.update=function(jt){re.credits=re.credits.destroy(),re.addCredits(jt)})},Ce.prototype.destroy=function(){var ht,Bt=this,re=Bt.axes,Ye=Bt.series,jt=Bt.container,yt=jt&&jt.parentNode;for(te(Bt,"destroy"),Bt.renderer.forExport?st(Tt,Bt):Tt[Bt.index]=void 0,Z.chartCount--,Bt.renderTo.removeAttribute("data-highcharts-chart"),Se(Bt),ht=re.length;ht--;)re[ht]=re[ht].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),ht=Ye.length;ht--;)Ye[ht]=Ye[ht].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(ce){var ke=Bt[ce];ke&&ke.destroy&&(Bt[ce]=ke.destroy())}),jt&&(jt.innerHTML="",Se(jt),yt&&at(jt)),fe(Bt,function(ce,ke){delete Bt[ke]})},Ce.prototype.firstRender=function(){var Bt=this,re=Bt.options;(!Bt.isReadyToRender||Bt.isReadyToRender())&&(Bt.getContainer(),Bt.resetMargins(),Bt.setChartSize(),Bt.propFromSeries(),Bt.getAxes(),(Dt(re.series)?re.series:[]).forEach(function(Ye){Bt.initSeries(Ye)}),Bt.linkSeries(),Bt.setSeriesData(),te(Bt,"beforeRender"),B&&(Bt.pointer=F.isRequired()?new F(Bt,re):new B(Bt,re)),Bt.render(),Bt.pointer.getChartPosition(),!Bt.renderer.imgCount&&!Bt.hasLoaded&&Bt.onload(),Bt.temporaryDisplay(!0))},Ce.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach(function(Bt){Bt&&void 0!==this.index&&Bt.apply(this,[this])},this),te(this,"load"),te(this,"render"),ft(this.index)&&this.setReflow(this.options.chart.reflow),this.hasLoaded=!0},Ce.prototype.addSeries=function(Bt,re,Ye){var yt,jt=this;return Bt&&(re=zt(re,!0),te(jt,"addSeries",{options:Bt},function(){yt=jt.initSeries(Bt),jt.isDirtyLegend=!0,jt.linkSeries(),yt.enabledDataSorting&&yt.setData(Bt.data,!1),te(jt,"afterAddSeries",{series:yt}),re&&jt.redraw(Ye)})),yt},Ce.prototype.addAxis=function(Bt,re,Ye,jt){return this.createAxis(re?"xAxis":"yAxis",{axis:Bt,redraw:Ye,animation:jt})},Ce.prototype.addColorAxis=function(Bt,re,Ye){return this.createAxis("colorAxis",{axis:Bt,redraw:re,animation:Ye})},Ce.prototype.createAxis=function(Bt,re){return Bt=new W(this,Kt(re.axis,{index:this[Bt].length,isX:"xAxis"===Bt})),zt(re.redraw,!0)&&this.redraw(re.animation),Bt},Ce.prototype.showLoading=function(Bt){var re=this,Ye=re.options,jt=Ye.loading,yt=function(){ht&&k(ht,{left:re.plotLeft+"px",top:re.plotTop+"px",width:re.plotWidth+"px",height:re.plotHeight+"px"})},ht=re.loadingDiv,ce=re.loadingSpan;ht||(re.loadingDiv=ht=h("div",{className:"highcharts-loading highcharts-loading-hidden"},null,re.container)),ce||(re.loadingSpan=ce=h("span",{className:"highcharts-loading-inner"},null,ht),S(re,"redraw",yt)),ht.className="highcharts-loading",it.setElementHTML(ce,zt(Bt,Ye.lang.loading,"")),re.styledMode||(k(ht,St(jt.style,{zIndex:10})),k(ce,jt.labelStyle),re.loadingShown||(k(ht,{opacity:0,display:""}),ot(ht,{opacity:jt.style.opacity||.5},{duration:jt.showDuration||0}))),re.loadingShown=!0,yt()},Ce.prototype.hideLoading=function(){var Bt=this.options,re=this.loadingDiv;re&&(re.className="highcharts-loading highcharts-loading-hidden",this.styledMode||ot(re,{opacity:0},{duration:Bt.loading.hideDuration||100,complete:function(){k(re,{display:"none"})}})),this.loadingShown=!1},Ce.prototype.update=function(Bt,re,Ye,jt){var Pi,We,yt=this,ht={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},ce=Bt.isResponsiveOptions,ke=[];te(yt,"update",{options:Bt}),ce||yt.setResponsive(!1,!0),Bt=C(Bt,yt.options),yt.userOptions=Kt(yt.userOptions,Bt);var si=Bt.chart;if(si){if(Kt(!0,yt.options.chart,si),"className"in si&&yt.setClassName(si.className),"reflow"in si&&yt.setReflow(si.reflow),"inverted"in si||"polar"in si||"type"in si){yt.propFromSeries();var bn=!0}"alignTicks"in si&&(bn=!0),"events"in si&&Ot(this,si),fe(si,function(wi,je){-1!==yt.propsRequireUpdateSeries.indexOf("chart."+je)&&(Pi=!0),-1!==yt.propsRequireDirtyBox.indexOf(je)&&(yt.isDirtyBox=!0),-1!==yt.propsRequireReflow.indexOf(je)&&(ce?yt.isDirtyBox=!0:We=!0)}),!yt.styledMode&&si.style&&yt.renderer.setStyle(yt.options.chart.style||{})}!yt.styledMode&&Bt.colors&&(this.options.colors=Bt.colors),Bt.time&&(this.time===p&&(this.time=new q(Bt.time)),Kt(!0,yt.options.time,Bt.time)),fe(Bt,function(wi,je){yt[je]&&"function"==typeof yt[je].update?yt[je].update(wi,!1):"function"==typeof yt[ht[je]]?yt[ht[je]](wi):"colors"!==je&&-1===yt.collectionsWithUpdate.indexOf(je)&&Kt(!0,yt.options[je],Bt[je]),"chart"!==je&&-1!==yt.propsRequireUpdateSeries.indexOf(je)&&(Pi=!0)}),this.collectionsWithUpdate.forEach(function(wi){if(Bt[wi]){var je=[];yt[wi].forEach(function(ci,Oe){ci.options.isInternal||je.push(zt(ci.options.index,Oe))}),Fi(Bt[wi]).forEach(function(ci,Oe){var Vn,oi=ft(ci.id);oi&&(Vn=yt.get(ci.id)),!Vn&&yt[wi]&&(Vn=yt[wi][je?je[Oe]:Oe])&&oi&&ft(Vn.options.id)&&(Vn=void 0),Vn&&Vn.coll===wi&&(Vn.update(ci,!1),Ye&&(Vn.touched=!0)),!Vn&&Ye&&yt.collectionsWithInit[wi]&&(yt.collectionsWithInit[wi][0].apply(yt,[ci].concat(yt.collectionsWithInit[wi][1]||[]).concat([!1])).touched=!0)}),Ye&&yt[wi].forEach(function(ci){ci.touched||ci.options.isInternal?delete ci.touched:ke.push(ci)})}}),ke.forEach(function(wi){wi.chart&&wi.remove&&wi.remove(!1)}),bn&&yt.axes.forEach(function(wi){wi.update({},!1)}),Pi&&yt.getSeriesOrderByLinks().forEach(function(wi){wi.chart&&wi.update({},!1)},this),bn=si&&si.width,si=si&&(Nt(si.height)?Pt(si.height,bn||yt.chartWidth):si.height),We||ve(bn)&&bn!==yt.chartWidth||ve(si)&&si!==yt.chartHeight?yt.setSize(bn,si,jt):zt(re,!0)&&yt.redraw(jt),te(yt,"afterUpdate",{options:Bt,redraw:re,animation:jt})},Ce.prototype.setSubtitle=function(Bt,re){this.applyDescription("subtitle",Bt),this.layOutTitles(re)},Ce.prototype.setCaption=function(Bt,re){this.applyDescription("caption",Bt),this.layOutTitles(re)},Ce.prototype.showResetZoom=function(){function Bt(){re.zoomOut()}var re=this,Ye=g.lang,jt=re.options.chart.resetZoomButton,yt=jt.theme,ht=yt.states,ce="chart"===jt.relativeTo||"spacingBox"===jt.relativeTo?null:"scrollablePlotBox";te(this,"beforeShowResetZoom",null,function(){re.resetZoomButton=re.renderer.button(Ye.resetZoom,null,null,Bt,yt,ht&&ht.hover).attr({align:jt.position.align,title:Ye.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(jt.position,!1,ce)}),te(this,"afterShowResetZoom")},Ce.prototype.zoomOut=function(){te(this,"selection",{resetSelection:!0},this.zoom)},Ce.prototype.zoom=function(Bt){var ht,re=this,Ye=re.pointer,jt=re.inverted?Ye.mouseDownX:Ye.mouseDownY,yt=!1;!Bt||Bt.resetSelection?(re.axes.forEach(function(ke){ht=ke.zoom()}),Ye.initiated=!1):Bt.xAxis.concat(Bt.yAxis).forEach(function(ke){var Pi=ke.axis,We=re.inverted?Pi.left:Pi.top,bn=Pi.isXAxis,wi=!1;(!bn&&jt>=We&&jt<=(re.inverted?We+Pi.width:We+Pi.height)||bn||!ft(jt))&&(wi=!0),Ye[bn?"zoomX":"zoomY"]&&wi&&(ht=Pi.zoom(ke.min,ke.max),Pi.displayBtn&&(yt=!0))});var ce=re.resetZoomButton;yt&&!ce?re.showResetZoom():!yt&&Gt(ce)&&(re.resetZoomButton=ce.destroy()),ht&&re.redraw(zt(re.options.chart.animation,Bt&&Bt.animation,100>re.pointCount))},Ce.prototype.pan=function(Bt,re){var Ye=this,jt=Ye.hoverPoints;re="object"==typeof re?re:{enabled:re,type:"x"};var yt=Ye.options.chart,ht=Ye.options.mapNavigation&&Ye.options.mapNavigation.enabled;yt&&yt.panning&&(yt.panning=re);var ke,ce=re.type;te(this,"pan",{originalEvent:Bt},function(){jt&&jt.forEach(function(si){si.setState()});var Pi=Ye.xAxis;"xy"===ce?Pi=Pi.concat(Ye.yAxis):"y"===ce&&(Pi=Ye.yAxis);var We={};Pi.forEach(function(si){if(si.options.panningEnabled&&!si.options.isInternal){var bn=si.horiz,wi=Bt[bn?"chartX":"chartY"],je=Ye[bn=bn?"mouseDownX":"mouseDownY"],ci=si.minPointOffset||0,Oe=si.reversed&&!Ye.inverted||!si.reversed&&Ye.inverted?-1:1,oi=si.getExtremes(),Vn=si.toValue(je-wi,!0)+ci*Oe,ei=si.toValue(je+si.len-wi,!0)-(ci*Oe||si.isXAxis&&si.pointRangePadding||0),De=ei<Vn;Oe=si.hasVerticalPanning(),je=De?ei:Vn,Vn=De?Vn:ei;var qe=si.panningState;!Oe||si.isXAxis||qe&&!qe.isDirty||si.series.forEach(function(ni){var ne=ni.getProcessedData(!0);ne=ni.getExtremes(ne.yData,!0),qe||(qe={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),ve(ne.dataMin)&&ve(ne.dataMax)&&(qe.startMin=Math.min(zt(ni.options.threshold,1/0),ne.dataMin,qe.startMin),qe.startMax=Math.max(zt(ni.options.threshold,-1/0),ne.dataMax,qe.startMax))}),Oe=Math.min(zt(qe&&qe.startMin,oi.dataMin),ci?oi.min:si.toValue(si.toPixels(oi.min)-si.minPixelPadding)),ei=Math.max(zt(qe&&qe.startMax,oi.dataMax),ci?oi.max:si.toValue(si.toPixels(oi.max)+si.minPixelPadding)),si.panningState=qe,si.isOrdinal||(0<(ci=Oe-je)&&(Vn+=ci,je=Oe),0<(ci=Vn-ei)&&(Vn=ei,je-=ci),si.series.length&&je!==oi.min&&Vn!==oi.max&&je>=Oe&&Vn<=ei&&(si.setExtremes(je,Vn,!1,!1,{trigger:"pan"}),Ye.resetZoomButton||ht||je===Oe||Vn===ei||!ce.match("y")||(Ye.showResetZoom(),si.displayBtn=!1),ke=!0),We[bn]=wi)}}),fe(We,function(si,bn){Ye[bn]=si}),ke&&Ye.redraw(!1),k(Ye.container,{cursor:"move"})})},Ce}(),St(b.prototype,{callbacks:[],collectionsWithInit:{xAxis:[b.prototype.addAxis,[!0]],yAxis:[b.prototype.addAxis,[!1]],series:[b.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),b}),J(tt,"Core/Legend/LegendSymbol.js",[tt["Core/Utilities.js"]],function(b){var rt,Z,W=b.merge,G=b.pick;return(Z=rt||(rt={})).drawLineMarker=function(H){var F=this.options,et=H.symbolWidth,B=H.symbolHeight,X=B/2,z=this.chart.renderer,Y=this.legendGroup;H=H.baseline-Math.round(.3*H.fontMetrics.b);var q={},U=F.marker;this.chart.styledMode||(q={"stroke-width":F.lineWidth||0},F.dashStyle&&(q.dashstyle=F.dashStyle)),this.legendLine=z.path([["M",0,H],["L",et,H]]).addClass("highcharts-graph").attr(q).add(Y),U&&!1!==U.enabled&&et&&(F=Math.min(G(U.radius,X),X),0===this.symbol.indexOf("url")&&(U=W(U,{width:B,height:B}),F=0),this.legendSymbol=et=z.symbol(this.symbol,et/2-F,H-F,2*F,2*F,U).addClass("highcharts-point").add(Y),et.isMarker=!0)},Z.drawRectangle=function(H,F){var et=H.symbolHeight,B=H.options.squareSymbol;F.legendSymbol=this.chart.renderer.rect(B?(H.symbolWidth-et)/2:0,H.baseline-et+1,B?et:H.symbolWidth,et,G(H.options.symbolRadius,et/2)).addClass("highcharts-point").attr({zIndex:3}).add(F.legendGroup)},rt}),J(tt,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",defer:!0,formatter:function(){return"number"!=typeof this.y?"":(0,this.series.chart.numberFormatter)(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),J(tt,"Core/Series/Series.js",[tt["Core/Animation/AnimationUtilities.js"],tt["Core/DefaultOptions.js"],tt["Core/Foundation.js"],tt["Core/Globals.js"],tt["Core/Legend/LegendSymbol.js"],tt["Core/Series/Point.js"],tt["Core/Series/SeriesDefaults.js"],tt["Core/Series/SeriesRegistry.js"],tt["Core/Renderer/SVG/SVGElement.js"],tt["Core/Utilities.js"]],function(b,W,G,rt,Z,H,F,et,B,X){var z=b.animObject,Y=b.setAnimation,q=W.defaultOptions,U=G.registerEventOptions,it=rt.hasTouch,ot=rt.svg,lt=rt.win,wt=et.seriesTypes,xt=X.addEvent,Ot=X.arrayMax,Tt=X.arrayMin,Et=X.clamp,A=X.cleanRecursively,o=X.correctFloat,c=X.defined,g=X.erase,p=X.error,w=X.extend,S=X.find,T=X.fireEvent,C=X.getNestedProperty,h=X.isArray,k=X.isNumber,ft=X.isString,at=X.merge,st=X.objectEach,Mt=X.pick,St=X.removeEvent,Xt=X.splat,te=X.syncTimeout;return b=function(){function Vt(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}return Vt.prototype.init=function(Dt,ve){T(this,"init",{options:ve});var Gt=this,Nt=Dt.series;this.eventsToUnbind=[],Gt.chart=Dt,Gt.options=Gt.setOptions(ve),ve=Gt.options,Gt.linkedSeries=[],Gt.bindAxes(),w(Gt,{name:ve.name,state:"",visible:!1!==ve.visible,selected:!0===ve.selected}),U(this,ve);var fe,Kt=ve.events;(Kt&&Kt.click||ve.point&&ve.point.events&&ve.point.events.click||ve.allowPointSelect)&&(Dt.runTrackerClick=!0),Gt.getColor(),Gt.getSymbol(),Gt.parallelArrays.forEach(function(zt){Gt[zt+"Data"]||(Gt[zt+"Data"]=[])}),Gt.isCartesian&&(Dt.hasCartesianSeries=!0),Nt.length&&(fe=Nt[Nt.length-1]),Gt._i=Mt(fe&&fe._i,-1)+1,Gt.opacity=Gt.options.opacity,Dt.orderSeries(this.insert(Nt)),ve.dataSorting&&ve.dataSorting.enabled?Gt.setDataSortingOptions():Gt.points||Gt.data||Gt.setData(ve.data,!1),T(this,"afterInit")},Vt.prototype.is=function(Dt){return wt[Dt]&&this instanceof wt[Dt]},Vt.prototype.insert=function(Dt){var Gt,ve=this.options.index;if(k(ve)){for(Gt=Dt.length;Gt--;)if(ve>=Mt(Dt[Gt].options.index,Dt[Gt]._i)){Dt.splice(Gt+1,0,this);break}-1===Gt&&Dt.unshift(this),Gt+=1}else Dt.push(this);return Mt(Gt,Dt.length-1)},Vt.prototype.bindAxes=function(){var Nt,Dt=this,ve=Dt.options,Gt=Dt.chart;T(this,"bindAxes",null,function(){(Dt.axisTypes||[]).forEach(function(Kt){var fe=0;Gt[Kt].forEach(function(zt){Nt=zt.options,(ve[Kt]===fe&&!Nt.isInternal||void 0!==ve[Kt]&&ve[Kt]===Nt.id||void 0===ve[Kt]&&0===Nt.index)&&(Dt.insert(zt.series),Dt[Kt]=zt,zt.isDirty=!0),Nt.isInternal||fe++}),Dt[Kt]||Dt.optionalAxis===Kt||p(18,!0,Gt)})}),T(this,"afterBindAxes")},Vt.prototype.updateParallelArrays=function(Dt,ve){var Gt=Dt.series,Nt=arguments,Kt=k(ve)?function(fe){var zt="y"===fe&&Gt.toYData?Gt.toYData(Dt):Dt[fe];Gt[fe+"Data"][ve]=zt}:function(fe){Array.prototype[ve].apply(Gt[fe+"Data"],Array.prototype.slice.call(Nt,2))};Gt.parallelArrays.forEach(Kt)},Vt.prototype.hasData=function(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.yData&&0<this.yData.length},Vt.prototype.autoIncrement=function(Dt){var zt,ve=this.options,Gt=ve.pointIntervalUnit,Nt=ve.relativeXValue,Kt=this.chart.time,fe=this.xIncrement;return fe=Mt(fe,ve.pointStart,0),this.pointInterval=zt=Mt(this.pointInterval,ve.pointInterval,1),Nt&&k(Dt)&&(zt*=Dt),Gt&&(ve=new Kt.Date(fe),"day"===Gt?Kt.set("Date",ve,Kt.get("Date",ve)+zt):"month"===Gt?Kt.set("Month",ve,Kt.get("Month",ve)+zt):"year"===Gt&&Kt.set("FullYear",ve,Kt.get("FullYear",ve)+zt),zt=ve.getTime()-fe),Nt&&k(Dt)?fe+zt:(this.xIncrement=fe+zt,fe)},Vt.prototype.setDataSortingOptions=function(){var Dt=this.options;w(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),c(Dt.pointRange)||(Dt.pointRange=1)},Vt.prototype.setOptions=function(Dt){var ve=this.chart,Gt=ve.options,Nt=Gt.plotOptions,Kt=ve.userOptions||{};Dt=at(Dt),ve=ve.styledMode;var fe={plotOptions:Nt,userOptions:Dt};T(this,"setOptions",fe);var zt=fe.plotOptions[this.type],Ne=Kt.plotOptions||{};return this.userOptions=fe.userOptions,Kt=at(zt,Nt.series,Kt.plotOptions&&Kt.plotOptions[this.type],Dt),this.tooltipOptions=at(q.tooltip,q.plotOptions.series&&q.plotOptions.series.tooltip,q.plotOptions[this.type].tooltip,Gt.tooltip.userOptions,Nt.series&&Nt.series.tooltip,Nt[this.type].tooltip,Dt.tooltip),this.stickyTracking=Mt(Dt.stickyTracking,Ne[this.type]&&Ne[this.type].stickyTracking,Ne.series&&Ne.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||Kt.stickyTracking),null===zt.marker&&delete Kt.marker,this.zoneAxis=Kt.zoneAxis,Nt=this.zones=(Kt.zones||[]).slice(),!Kt.negativeColor&&!Kt.negativeFillColor||Kt.zones||(Gt={value:Kt[this.zoneAxis+"Threshold"]||Kt.threshold||0,className:"highcharts-negative"},ve||(Gt.color=Kt.negativeColor,Gt.fillColor=Kt.negativeFillColor),Nt.push(Gt)),Nt.length&&c(Nt[Nt.length-1].value)&&Nt.push(ve?{}:{color:this.color,fillColor:this.fillColor}),T(this,"afterSetOptions",{options:Kt}),Kt},Vt.prototype.getName=function(){return Mt(this.options.name,"Series "+(this.index+1))},Vt.prototype.getCyclic=function(Dt,ve,Gt){var Nt=this.chart,Kt=this.userOptions,fe=Dt+"Index",zt=Dt+"Counter",Ne=Gt?Gt.length:Mt(Nt.options.chart[Dt+"Count"],Nt[Dt+"Count"]);if(!ve){var Pt=Mt(Kt[fe],Kt["_"+fe]);c(Pt)||(Nt.series.length||(Nt[zt]=0),Kt["_"+fe]=Pt=Nt[zt]%Ne,Nt[zt]+=1),Gt&&(ve=Gt[Pt])}void 0!==Pt&&(this[fe]=Pt),this[Dt]=ve},Vt.prototype.getColor=function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||q.plotOptions[this.type].color,this.chart.options.colors)},Vt.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]},Vt.prototype.getSymbol=function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},Vt.prototype.findPointIndex=function(Dt,ve){var zt,Ne,Gt=Dt.id,Nt=Dt.x,Kt=this.points,fe=this.options.dataSorting;if(Gt)(fe=this.chart.get(Gt))instanceof H&&(zt=fe);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(zt=function(Se){return!Se.touched&&Se.index===Dt.index},fe&&fe.matchByName?zt=function(Se){return!Se.touched&&Se.name===Dt.name}:this.options.relativeXValue&&(zt=function(Se){return!Se.touched&&Se.options.x===Dt.x}),!(zt=S(Kt,zt))))return;if(zt){var Pt=zt&&zt.index;void 0!==Pt&&(Ne=!0)}return void 0===Pt&&k(Nt)&&(Pt=this.xData.indexOf(Nt,ve)),-1!==Pt&&void 0!==Pt&&this.cropped&&(Pt=Pt>=this.cropStart?Pt-this.cropStart:Pt),!Ne&&k(Pt)&&Kt[Pt]&&Kt[Pt].touched&&(Pt=void 0),Pt},Vt.prototype.updateData=function(Dt,ve){var Pt,Se,Fi,Gt=this.options,Nt=Gt.dataSorting,Kt=this.points,fe=[],zt=this.requireSorting,Ne=Dt.length===Kt.length,Ge=!0;if(this.xIncrement=null,Dt.forEach(function(_e,Ce){var Bt=c(_e)&&this.pointClass.prototype.optionsToObject.call({series:this},_e)||{};Bt.id||k(Bt.x)?(-1===(Bt=this.findPointIndex(Bt,Fi))||void 0===Bt?fe.push(_e):Kt[Bt]&&_e!==Gt.data[Bt]?(Kt[Bt].update(_e,!1,null,!1),Kt[Bt].touched=!0,zt&&(Fi=Bt+1)):Kt[Bt]&&(Kt[Bt].touched=!0),(!Ne||Ce!==Bt||Nt&&Nt.enabled||this.hasDerivedData)&&(Pt=!0)):fe.push(_e)},this),Pt)for(Dt=Kt.length;Dt--;)(Se=Kt[Dt])&&!Se.touched&&Se.remove&&Se.remove(!1,ve);else!Ne||Nt&&Nt.enabled?Ge=!1:(Dt.forEach(function(_e,Ce){_e!==Kt[Ce].y&&Kt[Ce].update&&Kt[Ce].update(_e,!1,null,!1)}),fe.length=0);return Kt.forEach(function(_e){_e&&(_e.touched=!1)}),!!Ge&&(fe.forEach(function(_e){this.addPoint(_e,!1,null,null,!1)},this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=Ot(this.xData),this.autoIncrement()),!0)},Vt.prototype.setData=function(Dt,ve,Gt,Nt){var Kt=this,fe=Kt.points,zt=fe&&fe.length||0,Ne=Kt.options,Pt=Kt.chart,Se=Ne.dataSorting,Fi=Kt.xAxis,Ge=Ne.turboThreshold,_e=this.xData,Ce=this.yData,Bt=Kt.pointArrayMap;Bt=Bt&&Bt.length;var Ye,re=Ne.keys,jt=0,yt=1,ht=null,ce=(Dt=Dt||[]).length;if(ve=Mt(ve,!0),Se&&Se.enabled&&(Dt=this.sortData(Dt)),!1!==Nt&&ce&&zt&&!Kt.cropped&&!Kt.hasGroupedData&&Kt.visible&&!Kt.isSeriesBoosting&&(Ye=this.updateData(Dt,Gt)),!Ye){if(Kt.xIncrement=null,Kt.colorCounter=0,this.parallelArrays.forEach(function(ke){Kt[ke+"Data"].length=0}),Ge&&ce>Ge)if(ht=Kt.getFirstValidPoint(Dt),k(ht))for(Gt=0;Gt<ce;Gt++)_e[Gt]=this.autoIncrement(),Ce[Gt]=Dt[Gt];else if(h(ht))if(Bt)if(ht.length===Bt)for(Gt=0;Gt<ce;Gt++)_e[Gt]=this.autoIncrement(),Ce[Gt]=Dt[Gt];else for(Gt=0;Gt<ce;Gt++)_e[Gt]=(Nt=Dt[Gt])[0],Ce[Gt]=Nt.slice(1,Bt+1);else if(re&&(jt=0<=(jt=re.indexOf("x"))?jt:0,yt=0<=(yt=re.indexOf("y"))?yt:1),1===ht.length&&(yt=0),jt===yt)for(Gt=0;Gt<ce;Gt++)_e[Gt]=this.autoIncrement(),Ce[Gt]=Dt[Gt][yt];else for(Gt=0;Gt<ce;Gt++)_e[Gt]=(Nt=Dt[Gt])[jt],Ce[Gt]=Nt[yt];else p(12,!1,Pt);else for(Gt=0;Gt<ce;Gt++)void 0!==Dt[Gt]&&(Kt.pointClass.prototype.applyOptions.apply(Nt={series:Kt},[Dt[Gt]]),Kt.updateParallelArrays(Nt,Gt));for(Ce&&ft(Ce[0])&&p(14,!0,Pt),Kt.data=[],Kt.options.data=Kt.userOptions.data=Dt,Gt=zt;Gt--;)fe[Gt]&&fe[Gt].destroy&&fe[Gt].destroy();Fi&&(Fi.minRange=Fi.userMinRange),Kt.isDirty=Pt.isDirtyBox=!0,Kt.isDirtyData=!!fe,Gt=!1}"point"===Ne.legendType&&(this.processData(),this.generatePoints()),ve&&Pt.redraw(Gt)},Vt.prototype.sortData=function(Dt){var ve=this,Gt=ve.options.dataSorting.sortKey||"y",Nt=function(Kt,fe){return c(fe)&&Kt.pointClass.prototype.optionsToObject.call({series:Kt},fe)||{}};return Dt.forEach(function(Kt,fe){Dt[fe]=Nt(ve,Kt),Dt[fe].index=fe},this),Dt.concat().sort(function(Kt,fe){return Kt=C(Gt,Kt),(fe=C(Gt,fe))<Kt?-1:fe>Kt?1:0}).forEach(function(Kt,fe){Kt.x=fe},this),ve.linkedSeries&&ve.linkedSeries.forEach(function(Kt){var fe=Kt.options,zt=fe.data;fe.dataSorting&&fe.dataSorting.enabled||!zt||(zt.forEach(function(Ne,Pt){zt[Pt]=Nt(Kt,Ne),Dt[Pt]&&(zt[Pt].x=Dt[Pt].x,zt[Pt].index=Pt)}),Kt.setData(zt,!1))}),Dt},Vt.prototype.getProcessedData=function(Dt){var ve=this.xAxis,Gt=this.options,Nt=Gt.cropThreshold,Kt=Dt||this.getExtremesFromAll||Gt.getExtremesFromAll,fe=this.isCartesian;Dt=ve&&ve.val2lin,Gt=!(!ve||!ve.logarithmic);var zt=0,Ne=this.xData,Pt=this.yData,Se=this.requireSorting,Fi=!1,Ge=Ne.length;if(ve){var _e=(Fi=ve.getExtremes()).min,Ce=Fi.max;Fi=ve.categories&&!ve.names.length}if(fe&&this.sorted&&!Kt&&(!Nt||Ge>Nt||this.forceCrop))if(Ne[Ge-1]<_e||Ne[0]>Ce)Ne=[],Pt=[];else if(this.yData&&(Ne[0]<_e||Ne[Ge-1]>Ce)){var Bt=this.cropData(this.xData,this.yData,_e,Ce);Ne=Bt.xData,Pt=Bt.yData,zt=Bt.start,Bt=!0}for(Nt=Ne.length||1;--Nt;)if(0<(ve=Gt?Dt(Ne[Nt])-Dt(Ne[Nt-1]):Ne[Nt]-Ne[Nt-1])&&(void 0===re||ve<re))var re=ve;else 0>ve&&Se&&!Fi&&(p(15,!1,this.chart),Se=!1);return{xData:Ne,yData:Pt,cropped:Bt,cropStart:zt,closestPointRange:re}},Vt.prototype.processData=function(Dt){if(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!Dt)return!1;Dt=this.getProcessedData(),this.cropped=Dt.cropped,this.cropStart=Dt.cropStart,this.processedXData=Dt.xData,this.processedYData=Dt.yData,this.closestPointRange=this.basePointRange=Dt.closestPointRange,T(this,"afterProcessData")},Vt.prototype.cropData=function(Dt,ve,Gt,Nt,Kt){var zt,fe=Dt.length,Ne=0,Pt=fe;for(Kt=Mt(Kt,this.cropShoulder),zt=0;zt<fe;zt++)if(Dt[zt]>=Gt){Ne=Math.max(0,zt-Kt);break}for(Gt=zt;Gt<fe;Gt++)if(Dt[Gt]>Nt){Pt=Gt+Kt;break}return{xData:Dt.slice(Ne,Pt),yData:ve.slice(Ne,Pt),start:Ne,end:Pt}},Vt.prototype.generatePoints=function(){var Dt=this.options,ve=Dt.data,Gt=this.processedXData,Nt=this.processedYData,Kt=this.pointClass,fe=Gt.length,zt=this.cropStart||0,Ne=this.hasGroupedData,Pt=Dt.keys,Se=[];Dt=Dt.dataGrouping&&Dt.dataGrouping.groupAll?zt:0;var Fi,Ge,_e=this.data;if(!_e&&!Ne){var Ce=[];Ce.length=ve.length,_e=this.data=Ce}for(Pt&&Ne&&(this.options.keys=!1),Ge=0;Ge<fe;Ge++){if(Ce=zt+Ge,Ne){var Bt=(new Kt).init(this,[Gt[Ge]].concat(Xt(Nt[Ge])));Bt.dataGroup=this.groupMap[Dt+Ge],Bt.dataGroup.options&&(Bt.options=Bt.dataGroup.options,w(Bt,Bt.dataGroup.options),delete Bt.dataLabels)}else(Bt=_e[Ce])||void 0===ve[Ce]||(_e[Ce]=Bt=(new Kt).init(this,ve[Ce],Gt[Ge]));Bt&&(Bt.index=Ne?Dt+Ge:Ce,Se[Ge]=Bt)}if(this.options.keys=Pt,_e&&(fe!==(Fi=_e.length)||Ne))for(Ge=0;Ge<Fi;Ge++)Ge!==zt||Ne||(Ge+=fe),_e[Ge]&&(_e[Ge].destroyElements(),_e[Ge].plotX=void 0);this.data=_e,this.points=Se,T(this,"afterGeneratePoints")},Vt.prototype.getXExtremes=function(Dt){return{min:Tt(Dt),max:Ot(Dt)}},Vt.prototype.getExtremes=function(Dt,ve){var Gt=this.xAxis,Nt=this.yAxis,Kt=this.processedXData||this.xData,fe=[],zt=this.requireSorting?this.cropShoulder:0;Nt=!!Nt&&Nt.positiveValuesOnly;var Ne,Pt=0,Se=0,Fi=0,Ge=(Dt=Dt||this.stackedYData||this.processedYData||[]).length;if(Gt){var _e=Gt.getExtremes();Pt=_e.min,Se=_e.max}for(Ne=0;Ne<Ge;Ne++){var Ce=Kt[Ne],Bt=(k(_e=Dt[Ne])||h(_e))&&(_e.length||0<_e||!Nt);if(Ce=ve||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!Gt||(Kt[Ne+zt]||Ce)>=Pt&&(Kt[Ne-zt]||Ce)<=Se,Bt&&Ce)if(Bt=_e.length)for(;Bt--;)k(_e[Bt])&&(fe[Fi++]=_e[Bt]);else fe[Fi++]=_e}return Dt={activeYData:fe,dataMin:Tt(fe),dataMax:Ot(fe)},T(this,"afterGetExtremes",{dataExtremes:Dt}),Dt},Vt.prototype.applyExtremes=function(){var Dt=this.getExtremes();return this.dataMin=Dt.dataMin,this.dataMax=Dt.dataMax,Dt},Vt.prototype.getFirstValidPoint=function(Dt){for(var ve=Dt.length,Gt=0,Nt=null;null===Nt&&Gt<ve;)Nt=Dt[Gt],Gt++;return Nt},Vt.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints();var Ce,Bt,Dt=this.options,ve=Dt.stacking,Gt=this.xAxis,Nt=Gt.categories,Kt=this.enabledDataSorting,fe=this.yAxis,zt=this.points,Ne=zt.length,Pt=this.pointPlacementToXValue(),Se=!!Pt,Fi=Dt.threshold,Ge=Dt.startFromThreshold?Fi:0,_e=this.zoneAxis||"y",re=Number.MAX_VALUE;for(Ce=0;Ce<Ne;Ce++){var Ye=zt[Ce],jt=Ye.x,yt=void 0,ht=void 0,ce=Ye.y,ke=Ye.low,Pi=ve&&fe.stacking&&fe.stacking.stacks[(this.negStacks&&ce<(Ge?0:Fi)?"-":"")+this.stackKey];if((fe.positiveValuesOnly&&!fe.validatePositiveValue(ce)||Gt.positiveValuesOnly&&!Gt.validatePositiveValue(jt))&&(Ye.isNull=!0),Ye.plotX=Bt=o(Et(Gt.translate(jt,0,0,0,1,Pt,"flags"===this.type),-1e5,1e5)),ve&&this.visible&&Pi&&Pi[jt]){var We=this.getStackIndicator(We,jt,this.index);Ye.isNull||(ht=(yt=Pi[jt]).points[We.key])}if(h(ht)&&(ce=ht[1],(ke=ht[0])===Ge&&We.key===Pi[jt].base&&(ke=Mt(k(Fi)&&Fi,fe.min)),fe.positiveValuesOnly&&0>=ke&&(ke=null),Ye.total=Ye.stackTotal=yt.total,Ye.percentage=yt.total&&Ye.y/yt.total*100,Ye.stackY=ce,this.irregularWidths||yt.setOffset(this.pointXOffset||0,this.barW||0)),Ye.yBottom=c(ke)?Et(fe.translate(ke,0,1,0,1),-1e5,1e5):null,this.dataModify&&(ce=this.dataModify.modifyValue(ce,Ce)),Ye.plotY=void 0,k(ce)&&void 0!==(yt=fe.translate(ce,!1,!0,!1,!0))&&(Ye.plotY=Et(yt,-1e5,1e5)),Ye.isInside=this.isPointInside(Ye),Ye.clientX=Se?o(Gt.translate(jt,0,0,0,1,Pt)):Bt,Ye.negative=Ye[_e]<(Dt[_e+"Threshold"]||Fi||0),Ye.category=Nt&&void 0!==Nt[Ye.x]?Nt[Ye.x]:Ye.x,!Ye.isNull&&!1!==Ye.visible){void 0!==si&&(re=Math.min(re,Math.abs(Bt-si)));var si=Bt}Ye.zone=this.zones.length?Ye.getZone():void 0,!Ye.graphic&&this.group&&Kt&&(Ye.isNew=!0)}this.closestPointRangePx=re,T(this,"afterTranslate")},Vt.prototype.getValidPoints=function(Dt,ve,Gt){var Nt=this.chart;return(Dt||this.points||[]).filter(function(Kt){return!(ve&&!Nt.isInsidePlot(Kt.plotX,Kt.plotY,{inverted:Nt.inverted}))&&!1!==Kt.visible&&(Gt||!Kt.isNull)})},Vt.prototype.getClipBox=function(){var Dt=this.chart,ve=this.xAxis,Gt=this.yAxis,Nt=at(Dt.clipBox);return ve&&ve.len!==Dt.plotSizeX&&(Nt.width=ve.len),Gt&&Gt.len!==Dt.plotSizeY&&(Nt.height=Gt.len),Nt},Vt.prototype.getSharedClipKey=function(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)},Vt.prototype.setClip=function(){var Dt=this.chart,ve=this.group,Gt=this.markerGroup,Nt=Dt.sharedClips;Dt=Dt.renderer;var Kt=this.getClipBox(),fe=this.getSharedClipKey(),zt=Nt[fe];zt?zt.animate(Kt):Nt[fe]=zt=Dt.clipRect(Kt),ve&&ve.clip(!1===this.options.clip?void 0:zt),Gt&&Gt.clip()},Vt.prototype.animate=function(Dt){var ve=this.chart,Gt=this.group,Nt=this.markerGroup,Kt=ve.inverted,fe=z(this.options.animation),zt=[this.getSharedClipKey(),fe.duration,fe.easing,fe.defer].join(),Ne=ve.sharedClips[zt],Pt=ve.sharedClips[zt+"m"];if(Dt&&Gt)fe=this.getClipBox(),Ne?Ne.attr("height",fe.height):(fe.width=0,Kt&&(fe.x=ve.plotHeight),Ne=ve.renderer.clipRect(fe),ve.sharedClips[zt]=Ne,Pt=ve.renderer.clipRect({x:Kt?(ve.plotSizeX||0)+99:-99,y:Kt?-ve.plotLeft:-ve.plotTop,width:99,height:Kt?ve.chartWidth:ve.chartHeight}),ve.sharedClips[zt+"m"]=Pt),Gt.clip(Ne),Nt&&Nt.clip(Pt);else if(Ne&&!Ne.hasClass("highcharts-animating")){ve=this.getClipBox();var Se=fe.step;Nt&&Nt.element.childNodes.length&&(fe.step=function(Fi,Ge){Se&&Se.apply(Ge,arguments),Pt&&Pt.element&&Pt.attr(Ge.prop,"width"===Ge.prop?Fi+99:Fi)}),Ne.addClass("highcharts-animating").animate(ve,fe)}},Vt.prototype.afterAnimate=function(){var Dt=this;this.setClip(),st(this.chart.sharedClips,function(ve,Gt,Nt){ve&&!Dt.chart.container.querySelector('[clip-path="url(#'+ve.id+')"]')&&(ve.destroy(),delete Nt[Gt])}),this.finishedAnimating=!0,T(this,"afterAnimate")},Vt.prototype.drawPoints=function(){var zt,Ne,Dt=this.points,ve=this.chart,Gt=this.options.marker,Nt=this[this.specialGroup]||this.markerGroup,Kt=this.xAxis,fe=Mt(Gt.enabled,!(Kt&&!Kt.isRadial)||null,this.closestPointRangePx>=Gt.enabledThreshold*Gt.radius);if(!1!==Gt.enabled||this._hasPointMarkers)for(zt=0;zt<Dt.length;zt++){var Pt=Dt[zt],Se=(Ne=Pt.graphic)?"animate":"attr",Fi=Pt.marker||{},Ge=!!Pt.marker;if((fe&&void 0===Fi.enabled||Fi.enabled)&&!Pt.isNull&&!1!==Pt.visible){var _e=Mt(Fi.symbol,this.symbol,"rect"),Ce=this.markerAttribs(Pt,Pt.selected&&"select");this.enabledDataSorting&&(Pt.startXPos=Kt.reversed?-(Ce.width||0):Kt.width);var Bt=!1!==Pt.isInside;Ne?Ne[Bt?"show":"hide"](Bt).animate(Ce):Bt&&(0<(Ce.width||0)||Pt.hasImage)&&(Pt.graphic=Ne=ve.renderer.symbol(_e,Ce.x,Ce.y,Ce.width,Ce.height,Ge?Fi:Gt).add(Nt),this.enabledDataSorting&&ve.hasRendered&&(Ne.attr({x:Pt.startXPos}),Se="animate")),Ne&&"animate"===Se&&Ne[Bt?"show":"hide"](Bt).animate(Ce),Ne&&!ve.styledMode&&Ne[Se](this.pointAttribs(Pt,Pt.selected&&"select")),Ne&&Ne.addClass(Pt.getClassName(),!0)}else Ne&&(Pt.graphic=Ne.destroy())}},Vt.prototype.markerAttribs=function(Dt,ve){var Gt=this.options,Nt=Gt.marker,Kt=Dt.marker||{},fe=Kt.symbol||Nt.symbol,zt=Mt(Kt.radius,Nt.radius);return ve&&(Nt=Nt.states[ve],zt=Mt((ve=Kt.states&&Kt.states[ve])&&ve.radius,Nt&&Nt.radius,zt+(Nt&&Nt.radiusPlus||0))),Dt.hasImage=fe&&0===fe.indexOf("url"),Dt.hasImage&&(zt=0),Dt={x:Gt.crisp?Math.floor(Dt.plotX-zt):Dt.plotX-zt,y:Dt.plotY-zt},zt&&(Dt.width=Dt.height=2*zt),Dt},Vt.prototype.pointAttribs=function(Dt,ve){var Gt=this.options.marker,Nt=Dt&&Dt.options,Kt=Nt&&Nt.marker||{},fe=Nt&&Nt.color,zt=Dt&&Dt.color,Ne=Dt&&Dt.zone&&Dt.zone.color,Pt=this.color;return Dt=Mt(Kt.lineWidth,Gt.lineWidth),Nt=1,Pt=fe||Ne||zt||Pt,fe=Kt.fillColor||Gt.fillColor||Pt,zt=Kt.lineColor||Gt.lineColor||Pt,Gt=Gt.states[ve=ve||"normal"]||{},Dt=Mt((ve=Kt.states&&Kt.states[ve]||{}).lineWidth,Gt.lineWidth,Dt+Mt(ve.lineWidthPlus,Gt.lineWidthPlus,0)),{stroke:zt=ve.lineColor||Gt.lineColor||zt,"stroke-width":Dt,fill:fe=ve.fillColor||Gt.fillColor||fe,opacity:Nt=Mt(ve.opacity,Gt.opacity,Nt)}},Vt.prototype.destroy=function(Dt){var zt,Ne,Pt,ve=this,Gt=ve.chart,Nt=/AppleWebKit\/533/.test(lt.navigator.userAgent),Kt=ve.data||[];for(T(ve,"destroy"),this.removeEvents(Dt),(ve.axisTypes||[]).forEach(function(Se){(Pt=ve[Se])&&Pt.series&&(g(Pt.series,ve),Pt.isDirty=Pt.forceRedraw=!0)}),ve.legendItem&&ve.chart.legend.destroyItem(ve),zt=Kt.length;zt--;)(Ne=Kt[zt])&&Ne.destroy&&Ne.destroy();ve.clips&&ve.clips.forEach(function(Se){return Se.destroy()}),X.clearTimeout(ve.animationTimeout),st(ve,function(Se,Fi){Se instanceof B&&!Se.survive&&Se[Nt&&"group"===Fi?"hide":"destroy"]()}),Gt.hoverSeries===ve&&(Gt.hoverSeries=void 0),g(Gt.series,ve),Gt.orderSeries(),st(ve,function(Se,Fi){Dt&&"hcEvents"===Fi||delete ve[Fi]})},Vt.prototype.applyZones=function(){var Fi,Ge,_e,Ce,Bt,re,Ye,jt,Dt=this,ve=this.chart,Gt=ve.renderer,Nt=this.zones,Kt=this.clips||[],fe=this.graph,zt=this.area,Ne=Math.max(ve.chartWidth,ve.chartHeight),Pt=this[(this.zoneAxis||"y")+"Axis"],Se=ve.inverted,yt=!1;if(Nt.length&&(fe||zt)&&Pt&&void 0!==Pt.min){var ht=Pt.reversed,ce=Pt.horiz;fe&&!this.showLine&&fe.hide(),zt&&zt.hide();var ke=Pt.getExtremes();Nt.forEach(function(Pi,We){Fi=ht?ce?ve.plotWidth:0:ce?0:Pt.toPixels(ke.min)||0,Fi=Et(Mt(Ge,Fi),0,Ne),Ge=Et(Math.round(Pt.toPixels(Mt(Pi.value,ke.max),!0)||0),0,Ne),yt&&(Fi=Ge=Pt.toPixels(ke.max)),Ce=Math.abs(Fi-Ge),Bt=Math.min(Fi,Ge),re=Math.max(Fi,Ge),Pt.isXAxis?(_e={x:Se?re:Bt,y:0,width:Ce,height:Ne},ce||(_e.x=ve.plotHeight-_e.x)):(_e={x:0,y:Se?re:Bt,width:Ne,height:Ce},ce&&(_e.y=ve.plotWidth-_e.y)),Se&&Gt.isVML&&(_e=Pt.isXAxis?{x:0,y:ht?Bt:re,height:_e.width,width:ve.chartWidth}:{x:_e.y-ve.plotLeft-ve.spacingBox.x,y:0,width:_e.height,height:ve.chartHeight}),Kt[We]?Kt[We].animate(_e):Kt[We]=Gt.clipRect(_e),Ye=Dt["zone-area-"+We],jt=Dt["zone-graph-"+We],fe&&jt&&jt.clip(Kt[We]),zt&&Ye&&Ye.clip(Kt[We]),yt=Pi.value>ke.max,Dt.resetZones&&0===Ge&&(Ge=void 0)}),this.clips=Kt}else Dt.visible&&(fe&&fe.show(!0),zt&&zt.show(!0))},Vt.prototype.invertGroups=function(Dt){function ve(){["group","markerGroup"].forEach(function(Kt){Gt[Kt]&&(Nt.renderer.isVML&&Gt[Kt].attr({width:Gt.yAxis.len,height:Gt.xAxis.len}),Gt[Kt].width=Gt.yAxis.len,Gt[Kt].height=Gt.xAxis.len,Gt[Kt].invert(!Gt.isRadialSeries&&Dt))})}var Gt=this,Nt=Gt.chart;Gt.xAxis&&(Gt.eventsToUnbind.push(xt(Nt,"resize",ve)),ve(),Gt.invertGroups=ve)},Vt.prototype.plotGroup=function(Dt,ve,Gt,Nt,Kt){var fe=this[Dt],zt=!fe;return Gt={visibility:Gt,zIndex:Nt||.1},void 0===this.opacity||this.chart.styledMode||"inactive"===this.state||(Gt.opacity=this.opacity),zt&&(this[Dt]=fe=this.chart.renderer.g().add(Kt)),fe.addClass("highcharts-"+ve+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(c(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(fe.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),fe.attr(Gt)[zt?"attr":"animate"](this.getPlotBox()),fe},Vt.prototype.getPlotBox=function(){var Dt=this.chart,ve=this.xAxis,Gt=this.yAxis;return Dt.inverted&&(ve=Gt,Gt=this.xAxis),{translateX:ve?ve.left:Dt.plotLeft,translateY:Gt?Gt.top:Dt.plotTop,scaleX:1,scaleY:1}},Vt.prototype.removeEvents=function(Dt){Dt||St(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(ve){ve()}),this.eventsToUnbind.length=0)},Vt.prototype.render=function(){var Dt=this,ve=Dt.chart,Gt=Dt.options,Nt=z(Gt.animation),Kt=Dt.visible?"inherit":"hidden",fe=Gt.zIndex,zt=Dt.hasRendered,Ne=ve.seriesGroup,Pt=ve.inverted;ve=!Dt.finishedAnimating&&ve.renderer.isSVG?Nt.duration:0,T(this,"render");var Se=Dt.plotGroup("group","series",Kt,fe,Ne);Dt.markerGroup=Dt.plotGroup("markerGroup","markers",Kt,fe,Ne),!1!==Gt.clip&&Dt.setClip(),Dt.animate&&ve&&Dt.animate(!0),Se.inverted=!!Mt(Dt.invertible,Dt.isCartesian)&&Pt,Dt.drawGraph&&(Dt.drawGraph(),Dt.applyZones()),Dt.visible&&Dt.drawPoints(),Dt.drawDataLabels&&Dt.drawDataLabels(),Dt.redrawPoints&&Dt.redrawPoints(),Dt.drawTracker&&!1!==Dt.options.enableMouseTracking&&Dt.drawTracker(),Dt.invertGroups(Pt),Dt.animate&&ve&&Dt.animate(),zt||(ve&&Nt.defer&&(ve+=Nt.defer),Dt.animationTimeout=te(function(){Dt.afterAnimate()},ve||0)),Dt.isDirty=!1,Dt.hasRendered=!0,T(Dt,"afterRender")},Vt.prototype.redraw=function(){var Dt=this.chart,ve=this.isDirty||this.isDirtyData,Gt=this.group,Nt=this.xAxis,Kt=this.yAxis;Gt&&(Dt.inverted&&Gt.attr({width:Dt.plotWidth,height:Dt.plotHeight}),Gt.animate({translateX:Mt(Nt&&Nt.left,Dt.plotLeft),translateY:Mt(Kt&&Kt.top,Dt.plotTop)})),this.translate(),this.render(),ve&&delete this.kdTree},Vt.prototype.searchPoint=function(Dt,ve){var Gt=this.xAxis,Nt=this.yAxis,Kt=this.chart.inverted;return this.searchKDTree({clientX:Kt?Gt.len-Dt.chartY+Gt.pos:Dt.chartX-Gt.pos,plotY:Kt?Nt.len-Dt.chartX+Nt.pos:Dt.chartY-Nt.pos},ve,Dt)},Vt.prototype.buildKDTree=function(Dt){function ve(Kt,fe,zt){var Ne=Kt&&Kt.length;if(Ne){var Pt=Gt.kdAxisArray[fe%zt];return Kt.sort(function(Se,Fi){return Se[Pt]-Fi[Pt]}),{point:Kt[Ne=Math.floor(Ne/2)],left:ve(Kt.slice(0,Ne),fe+1,zt),right:ve(Kt.slice(Ne+1),fe+1,zt)}}}this.buildingKdTree=!0;var Gt=this,Nt=-1<Gt.options.findNearestPointBy.indexOf("y")?2:1;delete Gt.kdTree,te(function(){Gt.kdTree=ve(Gt.getValidPoints(null,!Gt.directTouch),Nt,Nt),Gt.buildingKdTree=!1},Gt.options.kdNow||Dt&&"touchstart"===Dt.type?0:1)},Vt.prototype.searchKDTree=function(Dt,ve,Gt){var Kt=this,fe=this.kdAxisArray[0],zt=this.kdAxisArray[1],Ne=ve?"distX":"dist";if(ve=-1<Kt.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(Gt),this.kdTree)return function Nt(Pt,Se,Fi,Ge){var _e=Se.point,Ce=Kt.kdAxisArray[Fi%Ge],Bt=_e,re=c(Pt[fe])&&c(_e[fe])?Math.pow(Pt[fe]-_e[fe],2):null,Ye=c(Pt[zt])&&c(_e[zt])?Math.pow(Pt[zt]-_e[zt],2):null;return _e.dist=c(Ye=(re||0)+(Ye||0))?Math.sqrt(Ye):Number.MAX_VALUE,_e.distX=c(re)?Math.sqrt(re):Number.MAX_VALUE,re=0>(Ce=Pt[Ce]-_e[Ce])?"right":"left",Se[Ye=0>Ce?"left":"right"]&&(Bt=(Ye=Nt(Pt,Se[Ye],Fi+1,Ge))[Ne]<Bt[Ne]?Ye:_e),Se[re]&&Math.sqrt(Ce*Ce)<Bt[Ne]&&(Bt=(Pt=Nt(Pt,Se[re],Fi+1,Ge))[Ne]<Bt[Ne]?Pt:Bt),Bt}(Dt,this.kdTree,ve,ve)},Vt.prototype.pointPlacementToXValue=function(){var Dt=this.options,ve=Dt.pointRange,Gt=this.xAxis;return"between"===(Dt=Dt.pointPlacement)&&(Dt=Gt.reversed?-.5:.5),k(Dt)?Dt*(ve||Gt.pointRange):0},Vt.prototype.isPointInside=function(Dt){var ve=this.chart,Gt=this.xAxis,Nt=this.yAxis;return void 0!==Dt.plotY&&void 0!==Dt.plotX&&0<=Dt.plotY&&Dt.plotY<=(Nt?Nt.len:ve.plotHeight)&&0<=Dt.plotX&&Dt.plotX<=(Gt?Gt.len:ve.plotWidth)},Vt.prototype.drawTracker=function(){var Dt=this,ve=Dt.options,Gt=ve.trackByArea,Nt=[].concat(Gt?Dt.areaPath:Dt.graphPath),Kt=Dt.chart,fe=Kt.pointer,zt=Kt.renderer,Ne=Kt.options.tooltip.snap,Pt=Dt.tracker,Se=function(Ge){Kt.hoverSeries!==Dt&&Dt.onMouseOver()},Fi="rgba(192,192,192,"+(ot?1e-4:.002)+")";Pt?Pt.attr({d:Nt}):Dt.graph&&(Dt.tracker=zt.path(Nt).attr({visibility:Dt.visible?"visible":"hidden",zIndex:2}).addClass(Gt?"highcharts-tracker-area":"highcharts-tracker-line").add(Dt.group),Kt.styledMode||Dt.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:Fi,fill:Gt?Fi:"none","stroke-width":Dt.graph.strokeWidth()+(Gt?0:2*Ne)}),[Dt.tracker,Dt.markerGroup,Dt.dataLabelsGroup].forEach(function(Ge){Ge&&(Ge.addClass("highcharts-tracker").on("mouseover",Se).on("mouseout",function(_e){fe.onTrackerMouseOut(_e)}),ve.cursor&&!Kt.styledMode&&Ge.css({cursor:ve.cursor}),it)&&Ge.on("touchstart",Se)})),T(this,"afterDrawTracker")},Vt.prototype.addPoint=function(Dt,ve,Gt,Nt,Kt){var fe=this.options,zt=this.data,Ne=this.chart,Pt=this.xAxis;Pt=Pt&&Pt.hasNames&&Pt.names;var Ge,Se=fe.data,Fi=this.xData;ve=Mt(ve,!0);var _e={series:this};this.pointClass.prototype.applyOptions.apply(_e,[Dt]);var Ce=_e.x,Bt=Fi.length;if(this.requireSorting&&Ce<Fi[Bt-1])for(Ge=!0;Bt&&Fi[Bt-1]>Ce;)Bt--;this.updateParallelArrays(_e,"splice",Bt,0,0),this.updateParallelArrays(_e,Bt),Pt&&_e.name&&(Pt[Ce]=_e.name),Se.splice(Bt,0,Dt),Ge&&(this.data.splice(Bt,0,null),this.processData()),"point"===fe.legendType&&this.generatePoints(),Gt&&(zt[0]&&zt[0].remove?zt[0].remove(!1):(zt.shift(),this.updateParallelArrays(_e,"shift"),Se.shift())),!1!==Kt&&T(this,"addPoint",{point:_e}),this.isDirtyData=this.isDirty=!0,ve&&Ne.redraw(Nt)},Vt.prototype.removePoint=function(Dt,ve,Gt){var Nt=this,Kt=Nt.data,fe=Kt[Dt],zt=Nt.points,Ne=Nt.chart,Pt=function(){zt&&zt.length===Kt.length&&zt.splice(Dt,1),Kt.splice(Dt,1),Nt.options.data.splice(Dt,1),Nt.updateParallelArrays(fe||{series:Nt},"splice",Dt,1),fe&&fe.destroy(),Nt.isDirty=!0,Nt.isDirtyData=!0,ve&&Ne.redraw()};Y(Gt,Ne),ve=Mt(ve,!0),fe?fe.firePointEvent("remove",null,Pt):Pt()},Vt.prototype.remove=function(Dt,ve,Gt,Nt){function Kt(){fe.destroy(Nt),zt.isDirtyLegend=zt.isDirtyBox=!0,zt.linkSeries(),Mt(Dt,!0)&&zt.redraw(ve)}var fe=this,zt=fe.chart;!1!==Gt?T(fe,"remove",null,Kt):Kt()},Vt.prototype.update=function(Dt,ve){Dt=A(Dt,this.userOptions),T(this,"update",{options:Dt});var Fi,Gt=this,Nt=Gt.chart,Kt=Gt.userOptions,fe=Gt.initialType||Gt.type,zt=Nt.options.plotOptions,Ne=wt[fe].prototype,Pt=Gt.finishedAnimating&&{animation:!1},Se={},Ge=["eventOptions","navigatorSeries","baseSeries"],_e=Dt.type||Kt.type||Nt.options.chart.type,Ce=!(this.hasDerivedData||_e&&_e!==this.type||void 0!==Dt.pointStart||void 0!==Dt.pointInterval||void 0!==Dt.relativeXValue||Gt.hasOptionChanged("dataGrouping")||Gt.hasOptionChanged("pointStart")||Gt.hasOptionChanged("pointInterval")||Gt.hasOptionChanged("pointIntervalUnit")||Gt.hasOptionChanged("keys"));if(_e=_e||fe,Ce&&(Ge.push("data","isDirtyData","points","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","mapMap","mapData","minY","maxY","minX","maxX"),!1!==Dt.visible&&Ge.push("area","graph"),Gt.parallelArrays.forEach(function(re){Ge.push(re+"Data")}),Dt.data&&(Dt.dataSorting&&w(Gt.options.dataSorting,Dt.dataSorting),this.setData(Dt.data,!1))),Dt=at(Kt,Pt,{index:void 0===Kt.index?Gt.index:Kt.index,pointStart:Mt(zt&&zt.series&&zt.series.pointStart,Kt.pointStart,Gt.xData[0])},!Ce&&{data:Gt.options.data},Dt),Ce&&Dt.data&&(Dt.data=Gt.options.data),(Ge=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(Ge)).forEach(function(re){Ge[re]=Gt[re],delete Gt[re]}),zt=!1,wt[_e]){if(zt=_e!==Gt.type,Gt.remove(!1,!1,!1,!0),zt)if(Object.setPrototypeOf)Object.setPrototypeOf(Gt,wt[_e].prototype);else{for(Fi in Pt=Object.hasOwnProperty.call(Gt,"hcEvents")&&Gt.hcEvents,Ne)Gt[Fi]=void 0;w(Gt,wt[_e].prototype),Pt?Gt.hcEvents=Pt:delete Gt.hcEvents}}else p(17,!0,Nt,{missingModuleFor:_e});if(Ge.forEach(function(re){Gt[re]=Ge[re]}),Gt.init(Nt,Dt),Ce&&this.points){var Bt=Gt.options;!1===Bt.visible?(Se.graphic=1,Se.dataLabel=1):Gt._hasPointLabels||(Ne=Bt.dataLabels,!(Dt=Bt.marker)||!1!==Dt.enabled&&(Kt.marker&&Kt.marker.symbol)===Dt.symbol||(Se.graphic=1),Ne&&!1===Ne.enabled&&(Se.dataLabel=1)),this.points.forEach(function(re){re&&re.series&&(re.resolveColor(),Object.keys(Se).length&&re.destroyElements(Se),!1===Bt.showInLegend&&re.legendItem&&Nt.legend.destroyItem(re))},this)}Gt.initialType=fe,Nt.linkSeries(),zt&&Gt.linkedSeries.length&&(Gt.isDirtyData=!0),T(this,"afterUpdate"),Mt(ve,!0)&&Nt.redraw(!!Ce&&void 0)},Vt.prototype.setName=function(Dt){this.name=this.options.name=this.userOptions.name=Dt,this.chart.isDirtyLegend=!0},Vt.prototype.hasOptionChanged=function(Dt){var ve=this.options[Dt],Gt=this.chart.options.plotOptions,Nt=this.userOptions[Dt];return Nt?ve!==Nt:ve!==Mt(Gt&&Gt[this.type]&&Gt[this.type][Dt],Gt&&Gt.series&&Gt.series[Dt],ve)},Vt.prototype.onMouseOver=function(){var Dt=this.chart,ve=Dt.hoverSeries;Dt.pointer.setHoverChartIndex(),ve&&ve!==this&&ve.onMouseOut(),this.options.events.mouseOver&&T(this,"mouseOver"),this.setState("hover"),Dt.hoverSeries=this},Vt.prototype.onMouseOut=function(){var Dt=this.options,ve=this.chart,Gt=ve.tooltip,Nt=ve.hoverPoint;ve.hoverSeries=null,Nt&&Nt.onMouseOut(),this&&Dt.events.mouseOut&&T(this,"mouseOut"),!Gt||this.stickyTracking||Gt.shared&&!this.noSharedTooltip||Gt.hide(),ve.series.forEach(function(Kt){Kt.setState("",!0)})},Vt.prototype.setState=function(Dt,ve){var Gt=this,Nt=Gt.options,Kt=Gt.graph,fe=Nt.inactiveOtherPoints,zt=Nt.states,Ne=Mt(zt[Dt||"normal"]&&zt[Dt||"normal"].animation,Gt.chart.options.chart.animation),Pt=Nt.lineWidth,Se=0,Fi=Nt.opacity;if(Gt.state!==(Dt=Dt||"")&&([Gt.group,Gt.markerGroup,Gt.dataLabelsGroup].forEach(function(Ge){Ge&&(Gt.state&&Ge.removeClass("highcharts-series-"+Gt.state),Dt&&Ge.addClass("highcharts-series-"+Dt))}),Gt.state=Dt,!Gt.chart.styledMode)){if(zt[Dt]&&!1===zt[Dt].enabled)return;if(Dt&&(Pt=zt[Dt].lineWidth||Pt+(zt[Dt].lineWidthPlus||0),Fi=Mt(zt[Dt].opacity,Fi)),Kt&&!Kt.dashstyle)for(Kt.animate(Nt={"stroke-width":Pt},Ne);Gt["zone-graph-"+Se];)Gt["zone-graph-"+Se].animate(Nt,Ne),Se+=1;fe||[Gt.group,Gt.markerGroup,Gt.dataLabelsGroup,Gt.labelBySeries].forEach(function(Ge){Ge&&Ge.animate({opacity:Fi},Ne)})}ve&&fe&&Gt.points&&Gt.setAllPointsToState(Dt||void 0)},Vt.prototype.setAllPointsToState=function(Dt){this.points.forEach(function(ve){ve.setState&&ve.setState(Dt)})},Vt.prototype.setVisible=function(Dt,ve){var Gt=this,Nt=Gt.chart,Kt=Gt.legendItem,fe=Nt.options.chart.ignoreHiddenSeries,Ne=(Gt.visible=Dt=Gt.options.visible=Gt.userOptions.visible=void 0===Dt?!Gt.visible:Dt)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(Pt){Gt[Pt]&&Gt[Pt][Ne]()}),(Nt.hoverSeries===Gt||(Nt.hoverPoint&&Nt.hoverPoint.series)===Gt)&&Gt.onMouseOut(),Kt&&Nt.legend.colorizeItem(Gt,Dt),Gt.isDirty=!0,Gt.options.stacking&&Nt.series.forEach(function(Pt){Pt.options.stacking&&Pt.visible&&(Pt.isDirty=!0)}),Gt.linkedSeries.forEach(function(Pt){Pt.setVisible(Dt,!1)}),fe&&(Nt.isDirtyBox=!0),T(Gt,Ne),!1!==ve&&Nt.redraw()},Vt.prototype.show=function(){this.setVisible(!0)},Vt.prototype.hide=function(){this.setVisible(!1)},Vt.prototype.select=function(Dt){this.selected=Dt=this.options.selected=void 0===Dt?!this.selected:Dt,this.checkbox&&(this.checkbox.checked=Dt),T(this,Dt?"select":"unselect")},Vt.prototype.shouldShowTooltip=function(Dt,ve,Gt){return void 0===Gt&&(Gt={}),Gt.series=this,Gt.visiblePlotOnly=!0,this.chart.isInsidePlot(Dt,ve,Gt)},Vt.defaultOptions=F,Vt}(),w(b.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:Z.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:H,requireSorting:!0,sorted:!0}),et.series=b,b}),J(tt,"Extensions/ScrollablePlotArea.js",[tt["Core/Animation/AnimationUtilities.js"],tt["Core/Axis/Axis.js"],tt["Core/Chart/Chart.js"],tt["Core/Series/Series.js"],tt["Core/Renderer/RendererRegistry.js"],tt["Core/Utilities.js"]],function(b,W,G,rt,Z,H){var F=b.stop,et=H.addEvent,B=H.createElement,X=H.merge,z=H.pick;et(G,"afterSetChartSize",function(Y){var q=this.options.chart.scrollablePlotArea,U=q&&q.minWidth;if(q=q&&q.minHeight,!this.renderer.forExport){if(U){if(this.scrollablePixelsX=U=Math.max(0,U-this.chartWidth)){this.scrollablePlotBox=this.renderer.scrollablePlotBox=X(this.plotBox),this.plotBox.width=this.plotWidth+=U,this.inverted?this.clipBox.height+=U:this.clipBox.width+=U;var it={1:{name:"right",value:U}}}}else q&&(this.scrollablePixelsY=U=Math.max(0,q-this.chartHeight))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=X(this.plotBox),this.plotBox.height=this.plotHeight+=U,this.inverted?this.clipBox.width+=U:this.clipBox.height+=U,it={2:{name:"bottom",value:U}});it&&!Y.skipAxes&&this.axes.forEach(function(ot){it[ot.side]?ot.getPlotLinePath=function(){var lt=it[ot.side].name,wt=this[lt];this[lt]=wt-it[ot.side].value;var xt=W.prototype.getPlotLinePath.apply(this,arguments);return this[lt]=wt,xt}:(ot.setAxisSize(),ot.setAxisTranslation())})}}),et(G,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),G.prototype.setUpScrolling=function(){var Y=this,q={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(q.overflowX="auto"),this.scrollablePixelsY&&(q.overflowY="auto"),this.scrollingParent=B("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=B("div",{className:"highcharts-scrolling"},q,this.scrollingParent),et(this.scrollingContainer,"scroll",function(){Y.pointer&&delete Y.pointer.chartPosition}),this.innerContainer=B("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},G.prototype.moveFixedElements=function(){var it,Y=this.container,q=this.fixedRenderer,U=".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?it=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?it=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(it=".highcharts-yaxis"),it&&U.push(it+":not(.highcharts-radial-axis)",it+"-labels:not(.highcharts-radial-axis-labels)"),U.forEach(function(ot){[].forEach.call(Y.querySelectorAll(ot),function(lt){(lt.namespaceURI===q.SVG_NS?q.box:q.box.parentNode).appendChild(lt),lt.style.pointerEvents="auto"})})},G.prototype.applyFixed=function(){var Y=!this.fixedDiv,q=this.options.chart,U=q.scrollablePlotArea,it=Z.getRendererType();Y?(this.fixedDiv=B("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(q.style&&q.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=q=new it(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=q.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":z(U.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),et(this,"afterShowResetZoom",this.moveFixedElements),et(this,"afterDrilldown",this.moveFixedElements),et(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||Y)&&(this.scrollableDirty=!1,this.moveFixedElements()),q=this.chartWidth+(this.scrollablePixelsX||0),it=this.chartHeight+(this.scrollablePixelsY||0),F(this.container),this.container.style.width=q+"px",this.container.style.height=it+"px",this.renderer.boxWrapper.attr({width:q,height:it,viewBox:[0,0,q,it].join(" ")}),this.chartBackground.attr({width:q,height:it}),this.scrollingContainer.style.height=this.chartHeight+"px",Y&&(U.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*U.scrollPositionX),U.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*U.scrollPositionY)),Y=this.plotTop-(it=this.axisOffset)[0]-1,U=this.plotLeft-it[3]-1,q=this.plotTop+this.plotHeight+it[2]+1,it=this.plotLeft+this.plotWidth+it[1]+1;var ot=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),lt=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);Y=this.scrollablePixelsX?[["M",0,Y],["L",this.plotLeft-1,Y],["L",this.plotLeft-1,q],["L",0,q],["Z"],["M",ot,Y],["L",this.chartWidth,Y],["L",this.chartWidth,q],["L",ot,q],["Z"]]:this.scrollablePixelsY?[["M",U,0],["L",U,this.plotTop-1],["L",it,this.plotTop-1],["L",it,0],["Z"],["M",U,lt],["L",U,this.chartHeight],["L",it,this.chartHeight],["L",it,lt],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:Y})},et(W,"afterInit",function(){this.chart.scrollableDirty=!0}),et(rt,"show",function(){this.chart.scrollableDirty=!0})}),J(tt,"Core/Axis/StackingAxis.js",[tt["Core/Animation/AnimationUtilities.js"],tt["Core/Axis/Axis.js"],tt["Core/Utilities.js"]],function(b,W,G){var X,rt=b.getDeferredAnimation,Z=G.addEvent,H=G.destroyObjectProperties,F=G.fireEvent,et=G.isNumber,B=G.objectEach;return function(z){function Y(){var ot=this.stacking;if(ot){var lt=ot.stacks;B(lt,function(wt,xt){H(wt),lt[xt]=null}),ot&&ot.stackTotalGroup&&ot.stackTotalGroup.destroy()}}function q(){this.stacking||(this.stacking=new it(this))}var U=[];z.compose=function(ot){return-1===U.indexOf(ot)&&(U.push(ot),Z(ot,"init",q),Z(ot,"destroy",Y)),ot};var it=function(){function ot(lt){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=lt}return ot.prototype.buildStacks=function(){var Tt,lt=this.axis,wt=lt.series,xt=lt.options.reversedStacks,Ot=wt.length;if(!lt.isXAxis){for(this.usePercentage=!1,Tt=Ot;Tt--;){var Et=wt[xt?Tt:Ot-Tt-1];Et.setStackedPoints(),Et.setGroupedPoints()}for(Tt=0;Tt<Ot;Tt++)wt[Tt].modifyStacks();F(lt,"afterBuildStacks")}},ot.prototype.cleanStacks=function(){if(!this.axis.isXAxis){if(this.oldStacks)var lt=this.stacks=this.oldStacks;B(lt,function(wt){B(wt,function(xt){xt.cumulative=xt.total})})}},ot.prototype.resetStacks=function(){var lt=this;lt.axis.isXAxis||B(lt.stacks,function(xt){B(xt,function(Ot,Tt){et(Ot.touched)&&Ot.touched<lt.stacksTouched?(Ot.destroy(),delete xt[Tt]):(Ot.total=null,Ot.cumulative=null)})})},ot.prototype.renderStackTotals=function(){var lt=this.axis,wt=lt.chart,xt=wt.renderer,Ot=this.stacks;lt=rt(wt,lt.options.stackLabels&&lt.options.stackLabels.animation||!1);var Tt=this.stackTotalGroup=this.stackTotalGroup||xt.g("stack-labels").attr({visibility:"visible",zIndex:6,opacity:0}).add();Tt.translate(wt.plotLeft,wt.plotTop),B(Ot,function(Et){B(Et,function(A){A.render(Tt)})}),Tt.animate({opacity:1},lt)},ot}();z.Additions=it}(X||(X={})),X}),J(tt,"Extensions/Stacking.js",[tt["Core/Axis/Axis.js"],tt["Core/Chart/Chart.js"],tt["Core/FormatUtilities.js"],tt["Core/Globals.js"],tt["Core/Series/Series.js"],tt["Core/Axis/StackingAxis.js"],tt["Core/Utilities.js"]],function(b,W,G,rt,Z,H,F){var et=G.format,B=F.correctFloat,X=F.defined,z=F.destroyObjectProperties,Y=F.isArray,q=F.isNumber,U=F.objectEach,it=F.pick,ot=function(){function lt(wt,xt,Ot,Tt,Et){var A=wt.chart.inverted;this.axis=wt,this.isNegative=Ot,this.options=xt=xt||{},this.x=Tt,this.total=null,this.points={},this.hasValidPoints=!1,this.stack=Et,this.rightCliff=this.leftCliff=0,this.alignOptions={align:xt.align||(A?Ot?"left":"right":"center"),verticalAlign:xt.verticalAlign||(A?"middle":Ot?"bottom":"top"),y:xt.y,x:xt.x},this.textAlign=xt.textAlign||(A?Ot?"right":"left":"center")}return lt.prototype.destroy=function(){z(this,this.axis)},lt.prototype.render=function(wt){var xt=this.axis.chart,Ot=this.options,Tt=Ot.format;Tt=Tt?et(Tt,this,xt):Ot.formatter.call(this),this.label?this.label.attr({text:Tt,visibility:"hidden"}):(this.label=xt.renderer.label(Tt,null,null,Ot.shape,null,null,Ot.useHTML,!1,"stack-labels"),Tt={r:Ot.borderRadius||0,text:Tt,rotation:Ot.rotation,padding:it(Ot.padding,5),visibility:"hidden"},xt.styledMode||(Tt.fill=Ot.backgroundColor,Tt.stroke=Ot.borderColor,Tt["stroke-width"]=Ot.borderWidth,this.label.css(Ot.style)),this.label.attr(Tt),this.label.added||this.label.add(wt)),this.label.labelrank=xt.plotSizeY},lt.prototype.setOffset=function(wt,xt,Ot,Tt,Et){var A=this.axis,o=A.chart;Tt=A.translate(A.stacking.usePercentage?100:Tt||this.total,0,0,0,1),Ot=A.translate(Ot||0),Ot=X(Tt)&&Math.abs(Tt-Ot),wt=it(Et,o.xAxis[0].translate(this.x))+wt,A=X(Tt)&&this.getStackBox(o,this,wt,Tt,xt,Ot,A),xt=this.label,Ot=this.isNegative,wt="justify"===it(this.options.overflow,"justify");var c=this.textAlign;xt&&A&&(Et=xt.getBBox(),Tt=xt.padding,c="left"===c?o.inverted?-Tt:Tt:"right"===c?Et.width:o.inverted&&"center"===c?Et.width/2:o.inverted?Ot?Et.width+Tt:-Tt:Et.width/2,Ot=o.inverted?Et.height/2:Ot?-Tt:Et.height,this.alignOptions.x=it(this.options.x,0),this.alignOptions.y=it(this.options.y,0),A.x-=c,A.y-=Ot,xt.align(this.alignOptions,null,A),o.isInsidePlot(xt.alignAttr.x+c-this.alignOptions.x,xt.alignAttr.y+Ot-this.alignOptions.y)?xt.show():(xt.alignAttr.y=-9999,wt=!1),wt&&Z.prototype.justifyDataLabel.call(this.axis,xt,this.alignOptions,xt.alignAttr,Et,A),xt.attr({x:xt.alignAttr.x,y:xt.alignAttr.y}),it(!wt&&this.options.crop,!0)&&((o=q(xt.x)&&q(xt.y)&&o.isInsidePlot(xt.x-Tt+xt.width,xt.y)&&o.isInsidePlot(xt.x+Tt,xt.y))||xt.hide()))},lt.prototype.getStackBox=function(wt,xt,Ot,Tt,Et,A,o){var c=xt.axis.reversed,g=wt.inverted,p=o.height+o.pos-(g?wt.plotLeft:wt.plotTop);return xt=xt.isNegative&&!c||!xt.isNegative&&c,{x:g?xt?Tt-o.right:Tt-A+o.pos-wt.plotLeft:Ot+wt.xAxis[0].transB-wt.plotLeft,y:g?o.height-Ot-Et:xt?p-Tt-A:p-Tt,width:g?A:Et,height:g?Et:A}},lt}();return W.prototype.getStacks=function(){var lt=this,wt=lt.inverted;lt.yAxis.forEach(function(xt){xt.stacking&&xt.stacking.stacks&&xt.hasVisibleSeries&&(xt.stacking.oldStacks=xt.stacking.stacks)}),lt.series.forEach(function(xt){var Ot=xt.xAxis&&xt.xAxis.options||{};!xt.options.stacking||!0!==xt.visible&&!1!==lt.options.chart.ignoreHiddenSeries||(xt.stackKey=[xt.type,it(xt.options.stack,""),wt?Ot.top:Ot.left,wt?Ot.height:Ot.width].join())})},H.compose(b),Z.prototype.setGroupedPoints=function(){var lt=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?Z.prototype.setStackedPoints.call(this,"group"):lt&&U(lt.stacks,function(wt,xt){"group"===xt.slice(-5)&&(U(wt,function(Ot){return Ot.destroy()}),delete lt.stacks[xt])})},Z.prototype.setStackedPoints=function(lt){var wt=lt||this.options.stacking;if(wt&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var xt=this.processedXData,Ot=this.processedYData,Tt=[],Et=Ot.length,A=this.options,o=A.threshold,c=it(A.startFromThreshold&&o,0);A=A.stack;var C,h,g="-"+(lt=lt?this.type+","+wt:this.stackKey),p=this.negStacks,w=this.yAxis,S=w.stacking.stacks,T=w.stacking.oldStacks;for(w.stacking.stacksTouched+=1,h=0;h<Et;h++){var k=xt[h],ft=Ot[h],at=this.getStackIndicator(at,k,this.index),st=at.key,Mt=(C=p&&ft<(c?0:o))?g:lt;S[Mt]||(S[Mt]={}),S[Mt][k]||(T[Mt]&&T[Mt][k]?(S[Mt][k]=T[Mt][k],S[Mt][k].total=null):S[Mt][k]=new ot(w,w.options.stackLabels,C,k,A)),Mt=S[Mt][k],null!==ft?(Mt.points[st]=Mt.points[this.index]=[it(Mt.cumulative,c)],X(Mt.cumulative)||(Mt.base=st),Mt.touched=w.stacking.stacksTouched,0<at.index&&!1===this.singleStacks&&(Mt.points[st][0]=Mt.points[this.index+","+k+",0"][0])):Mt.points[st]=Mt.points[this.index]=null,"percent"===wt?(C=C?lt:g,Mt.total=p&&S[C]&&S[C][k]?(C=S[C][k]).total=Math.max(C.total,Mt.total)+Math.abs(ft)||0:B(Mt.total+(Math.abs(ft)||0))):"group"===wt?(Y(ft)&&(ft=ft[0]),null!==ft&&(Mt.total=(Mt.total||0)+1)):Mt.total=B(Mt.total+(ft||0)),Mt.cumulative="group"===wt?(Mt.total||1)-1:it(Mt.cumulative,c)+(ft||0),null!==ft&&(Mt.points[st].push(Mt.cumulative),Tt[h]=Mt.cumulative,Mt.hasValidPoints=!0)}"percent"===wt&&(w.stacking.usePercentage=!0),"group"!==wt&&(this.stackedYData=Tt),w.stacking.oldStacks={}}},Z.prototype.modifyStacks=function(){var Tt,lt=this,wt=lt.stackKey,xt=lt.yAxis.stacking.stacks,Ot=lt.processedXData,Et=lt.options.stacking;lt[Et+"Stacker"]&&[wt,"-"+wt].forEach(function(A){for(var c,g,o=Ot.length;o--;)Tt=lt.getStackIndicator(Tt,c=Ot[o],lt.index,A),(g=(c=xt[A]&&xt[A][c])&&c.points[Tt.key])&&lt[Et+"Stacker"](g,c,o)})},Z.prototype.percentStacker=function(lt,wt,xt){lt[0]=B(lt[0]*(wt=wt.total?100/wt.total:0)),lt[1]=B(lt[1]*wt),this.stackedYData[xt]=lt[1]},Z.prototype.getStackIndicator=function(lt,wt,xt,Ot){return!X(lt)||lt.x!==wt||Ot&&lt.key!==Ot?lt={x:wt,index:0,key:Ot}:lt.index++,lt.key=[xt,wt,lt.index].join(),lt},rt.StackItem=ot,rt.StackItem}),J(tt,"Series/Line/LineSeries.js",[tt["Core/Series/Series.js"],tt["Core/Series/SeriesRegistry.js"],tt["Core/Utilities.js"]],function(b,W,G){var F,rt=this&&this.__extends||(F=function(et,B){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,z){X.__proto__=z}||function(X,z){for(var Y in z)z.hasOwnProperty(Y)&&(X[Y]=z[Y])})(et,B)},function(et,B){function X(){this.constructor=et}F(et,B),et.prototype=null===B?Object.create(B):(X.prototype=B.prototype,new X)}),Z=G.defined,H=G.merge;return G=function(F){function et(){var B=null!==F&&F.apply(this,arguments)||this;return B.data=void 0,B.options=void 0,B.points=void 0,B}return rt(et,F),et.prototype.drawGraph=function(){var B=this,X=this.options,z=(this.gappedPath||this.getGraphPath).call(this),Y=this.chart.styledMode,q=[["graph","highcharts-graph"]];Y||q[0].push(X.lineColor||this.color||"#cccccc",X.dashStyle),(q=B.getZonesGraphs(q)).forEach(function(U,it){var ot=U[0],lt=B[ot],wt=lt?"animate":"attr";lt?(lt.endX=B.preventGraphAnimation?null:z.xMap,lt.animate({d:z})):z.length&&(B[ot]=lt=B.chart.renderer.path(z).addClass(U[1]).attr({zIndex:1}).add(B.group)),lt&&!Y&&(ot={stroke:U[2],"stroke-width":X.lineWidth,fill:B.fillGraph&&B.color||"none"},U[3]?ot.dashstyle=U[3]:"square"!==X.linecap&&(ot["stroke-linecap"]=ot["stroke-linejoin"]="round"),lt[wt](ot).shadow(2>it&&X.shadow)),lt&&(lt.startX=z.xMap,lt.isArea=z.isArea)})},et.prototype.getGraphPath=function(B,X,z){var ot,Y=this,q=Y.options,U=[],it=[],lt=q.step,wt=(B=B||Y.points).reversed;return wt&&B.reverse(),(lt={right:1,center:2}[lt]||lt&&3)&&wt&&(lt=4-lt),(B=this.getValidPoints(B,!1,!(q.connectNulls&&!X&&!z))).forEach(function(xt,Ot){var Tt=xt.plotX,Et=xt.plotY,A=B[Ot-1];(xt.leftCliff||A&&A.rightCliff)&&!z&&(ot=!0),xt.isNull&&!Z(X)&&0<Ot?ot=!q.connectNulls:xt.isNull&&!X?ot=!0:(0===Ot||ot?Ot=[["M",xt.plotX,xt.plotY]]:Y.getPointSpline?Ot=[Y.getPointSpline(B,xt,Ot)]:lt?(Ot=1===lt?[["L",A.plotX,Et]]:2===lt?[["L",(A.plotX+Tt)/2,A.plotY],["L",(A.plotX+Tt)/2,Et]]:[["L",Tt,A.plotY]]).push(["L",Tt,Et]):Ot=[["L",Tt,Et]],it.push(xt.x),lt&&(it.push(xt.x),2===lt&&it.push(xt.x)),U.push.apply(U,Ot),ot=!1)}),U.xMap=it,Y.graphPath=U},et.prototype.getZonesGraphs=function(B){return this.zones.forEach(function(X,z){z=["zone-graph-"+z,"highcharts-graph highcharts-zone-graph-"+z+" "+(X.className||"")],this.chart.styledMode||z.push(X.color||this.color,X.dashStyle||this.options.dashStyle),B.push(z)},this),B},et.defaultOptions=H(b.defaultOptions,{}),et}(b),W.registerSeriesType("line",G),G}),J(tt,"Series/Area/AreaSeries.js",[tt["Core/Color/Color.js"],tt["Core/Legend/LegendSymbol.js"],tt["Core/Series/SeriesRegistry.js"],tt["Core/Utilities.js"]],function(b,W,G,rt){var z,Z=this&&this.__extends||(z=function(Y,q){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,it){U.__proto__=it}||function(U,it){for(var ot in it)it.hasOwnProperty(ot)&&(U[ot]=it[ot])})(Y,q)},function(Y,q){function U(){this.constructor=Y}z(Y,q),Y.prototype=null===q?Object.create(q):(U.prototype=q.prototype,new U)}),H=b.parse,F=G.seriesTypes.line;b=rt.extend;var et=rt.merge,B=rt.objectEach,X=rt.pick;return rt=function(z){function Y(){var q=null!==z&&z.apply(this,arguments)||this;return q.data=void 0,q.options=void 0,q.points=void 0,q}return Z(Y,z),Y.prototype.drawGraph=function(){this.areaPath=[],z.prototype.drawGraph.apply(this);var q=this,U=this.areaPath,it=this.options,ot=[["area","highcharts-area",this.color,it.fillColor]];this.zones.forEach(function(lt,wt){ot.push(["zone-area-"+wt,"highcharts-area highcharts-zone-area-"+wt+" "+lt.className,lt.color||q.color,lt.fillColor||it.fillColor])}),ot.forEach(function(lt){var wt=lt[0],xt=q[wt],Ot=xt?"animate":"attr",Tt={};xt?(xt.endX=q.preventGraphAnimation?null:U.xMap,xt.animate({d:U})):(Tt.zIndex=0,(xt=q[wt]=q.chart.renderer.path(U).addClass(lt[1]).add(q.group)).isArea=!0),q.chart.styledMode||(Tt.fill=X(lt[3],H(lt[2]).setOpacity(X(it.fillOpacity,.75)).get())),xt[Ot](Tt),xt.startX=U.xMap,xt.shiftUnit=it.step?2:1})},Y.prototype.getGraphPath=function(q){var wt,U=F.prototype.getGraphPath,it=this.options,ot=it.stacking,lt=this.yAxis,xt=[],Ot=[],Tt=this.index,Et=lt.stacking.stacks[this.stackKey],A=it.threshold,o=Math.round(lt.getThreshold(it.threshold));it=X(it.connectNulls,"percent"===ot);var c=function(S,T,C){var h=q[S];S=ot&&Et[h.x].points[Tt];var k=h[C+"Null"]||0;if(C=h[C+"Cliff"]||0,h=!0,C||k){var ft=(k?S[0]:S[1])+C,at=S[0]+C;h=!!k}else!ot&&q[T]&&q[T].isNull&&(ft=at=A);void 0!==ft&&(Ot.push({plotX:p,plotY:null===ft?o:lt.getThreshold(ft),isNull:h,isCliff:!0}),xt.push({plotX:p,plotY:null===at?o:lt.getThreshold(at),doCurve:!1}))};for(q=q||this.points,ot&&(q=this.getStackPoints(q)),wt=0;wt<q.length;wt++){ot||(q[wt].leftCliff=q[wt].rightCliff=q[wt].leftNull=q[wt].rightNull=void 0);var g=q[wt].isNull,p=X(q[wt].rectPlotX,q[wt].plotX),w=ot?X(q[wt].yBottom,o):o;(!g||it)&&(it||c(wt,wt-1,"left"),g&&!ot&&it||(Ot.push(q[wt]),xt.push({x:wt,plotX:p,plotY:w})),it||c(wt,wt+1,"right"))}return wt=U.call(this,Ot,!0,!0),xt.reversed=!0,(w=(g=U.call(this,xt,!0,!0))[0])&&"M"===w[0]&&(g[0]=["L",w[1],w[2]]),(g=wt.concat(g)).length&&g.push(["Z"]),U=U.call(this,Ot,!1,it),g.xMap=wt.xMap,this.areaPath=g,U},Y.prototype.getStackPoints=function(q){var U=this,it=[],ot=[],lt=this.xAxis,wt=this.yAxis,xt=wt.stacking.stacks[this.stackKey],Ot={},Tt=wt.series,Et=Tt.length,A=wt.options.reversedStacks?1:-1,o=Tt.indexOf(U);if(q=q||this.points,this.options.stacking){for(var c=0;c<q.length;c++)q[c].leftNull=q[c].rightNull=void 0,Ot[q[c].x]=q[c];B(xt,function(p,w){null!==p.total&&ot.push(w)}),ot.sort(function(p,w){return p-w});var g=Tt.map(function(p){return p.visible});ot.forEach(function(p,w){var T,C,S=0;if(Ot[p]&&!Ot[p].isNull)it.push(Ot[p]),[-1,1].forEach(function(k){var ft=1===k?"rightNull":"leftNull",at=0,st=xt[ot[w+k]];if(st)for(var Mt=o;0<=Mt&&Mt<Et;){var St=Tt[Mt].index;(T=st.points[St])||(St===U.index?Ot[p][ft]=!0:g[Mt]&&(C=xt[p].points[St])&&(at-=C[1]-C[0])),Mt+=A}Ot[p][1===k?"rightCliff":"leftCliff"]=at});else{for(var h=o;0<=h&&h<Et;){if(T=xt[p].points[Tt[h].index]){S=T[1];break}h+=A}S=X(S,0),S=wt.translate(S,0,1,0,1),it.push({isNull:!0,plotX:lt.translate(p,0,0,0,1),x:p,plotY:S,yBottom:S})}})}return it},Y.defaultOptions=et(F.defaultOptions,{threshold:0}),Y}(F),b(rt.prototype,{singleStacks:!1,drawLegendSymbol:W.drawRectangle}),G.registerSeriesType("area",rt),rt}),J(tt,"Series/Spline/SplineSeries.js",[tt["Core/Series/SeriesRegistry.js"],tt["Core/Utilities.js"]],function(b,W){var F,G=this&&this.__extends||(F=function(et,B){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,z){X.__proto__=z}||function(X,z){for(var Y in z)z.hasOwnProperty(Y)&&(X[Y]=z[Y])})(et,B)},function(et,B){function X(){this.constructor=et}F(et,B),et.prototype=null===B?Object.create(B):(X.prototype=B.prototype,new X)}),rt=b.seriesTypes.line,Z=W.merge,H=W.pick;return W=function(F){function et(){var B=null!==F&&F.apply(this,arguments)||this;return B.data=void 0,B.options=void 0,B.points=void 0,B}return G(et,F),et.prototype.getPointSpline=function(B,X,z){var Y=X.plotX||0,q=X.plotY||0,U=B[z-1];if(z=B[z+1],U&&!U.isNull&&!1!==U.doCurve&&!X.isCliff&&z&&!z.isNull&&!1!==z.doCurve&&!X.isCliff){var it=z.plotX||0,ot=0,lt=(1.5*Y+(U.plotX||0))/2.5,wt=(1.5*q+(B=U.plotY||0))/2.5,xt=(1.5*q+(z=z.plotY||0))/2.5;(it=(1.5*Y+it)/2.5)!==lt&&(ot=(xt-wt)*(it-Y)/(it-lt)+q-xt),xt+=ot,(wt+=ot)>B&&wt>q?xt=2*q-(wt=Math.max(B,q)):wt<B&&wt<q&&(xt=2*q-(wt=Math.min(B,q))),xt>z&&xt>q?wt=2*q-(xt=Math.max(z,q)):xt<z&&xt<q&&(wt=2*q-(xt=Math.min(z,q))),X.rightContX=it,X.rightContY=xt}return X=["C",H(U.rightContX,U.plotX,0),H(U.rightContY,U.plotY,0),H(lt,Y,0),H(wt,q,0),Y,q],U.rightContX=U.rightContY=void 0,X},et.defaultOptions=Z(rt.defaultOptions),et}(rt),b.registerSeriesType("spline",W),W}),J(tt,"Series/AreaSpline/AreaSplineSeries.js",[tt["Series/Area/AreaSeries.js"],tt["Series/Spline/SplineSeries.js"],tt["Core/Legend/LegendSymbol.js"],tt["Core/Series/SeriesRegistry.js"],tt["Core/Utilities.js"]],function(b,W,G,rt,Z){var X,H=this&&this.__extends||(X=function(z,Y){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,U){q.__proto__=U}||function(q,U){for(var it in U)U.hasOwnProperty(it)&&(q[it]=U[it])})(z,Y)},function(z,Y){function q(){this.constructor=z}X(z,Y),z.prototype=null===Y?Object.create(Y):(q.prototype=Y.prototype,new q)}),F=b.prototype,et=Z.extend,B=Z.merge;return Z=function(X){function z(){var Y=null!==X&&X.apply(this,arguments)||this;return Y.data=void 0,Y.points=void 0,Y.options=void 0,Y}return H(z,X),z.defaultOptions=B(W.defaultOptions,b.defaultOptions),z}(W),et(Z.prototype,{getGraphPath:F.getGraphPath,getStackPoints:F.getStackPoints,drawGraph:F.drawGraph,drawLegendSymbol:G.drawRectangle}),rt.registerSeriesType("areaspline",Z),Z}),J(tt,"Series/Column/ColumnSeries.js",[tt["Core/Animation/AnimationUtilities.js"],tt["Core/Color/Color.js"],tt["Core/Globals.js"],tt["Core/Legend/LegendSymbol.js"],tt["Core/Series/Series.js"],tt["Core/Series/SeriesRegistry.js"],tt["Core/Utilities.js"]],function(b,W,G,rt,Z,H,F){var Et,et=this&&this.__extends||(Et=function(A,o){return(Et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,g){c.__proto__=g}||function(c,g){for(var p in g)g.hasOwnProperty(p)&&(c[p]=g[p])})(A,o)},function(A,o){function c(){this.constructor=A}Et(A,o),A.prototype=null===o?Object.create(o):(c.prototype=o.prototype,new c)}),B=b.animObject,X=W.parse,z=G.hasTouch;b=G.noop;var Y=F.clamp,q=F.css,U=F.defined,it=F.extend,ot=F.fireEvent,lt=F.isArray,wt=F.isNumber,xt=F.merge,Ot=F.pick,Tt=F.objectEach;return F=function(Et){function A(){var o=null!==Et&&Et.apply(this,arguments)||this;return o.borderWidth=void 0,o.data=void 0,o.group=void 0,o.options=void 0,o.points=void 0,o}return et(A,Et),A.prototype.animate=function(o){var c=this,g=this.yAxis,p=c.options,w=this.chart.inverted,S={},T=w?"translateX":"translateY";if(o)S.scaleY=.001,o=Y(g.toPixels(p.threshold),g.pos,g.pos+g.len),w?S.translateX=o-g.len:S.translateY=o,c.clipBox&&c.setClip(),c.group.attr(S);else{var C=Number(c.group.attr(T));c.group.animate({scaleY:1},it(B(c.options.animation),{step:function(h,k){c.group&&(S[T]=C+k.pos*(g.pos-C),c.group.attr(S))}}))}},A.prototype.init=function(o,c){Et.prototype.init.apply(this,arguments);var g=this;(o=g.chart).hasRendered&&o.series.forEach(function(p){p.type===g.type&&(p.isDirty=!0)})},A.prototype.getColumnMetrics=function(){var o=this,c=o.options,g=o.xAxis,p=o.yAxis,w=g.options.reversedStacks;w=g.reversed&&!w||!g.reversed&&w;var T,S={},C=0;!1===c.grouping?C=1:o.chart.series.forEach(function(at){var st=at.yAxis,Mt=at.options;if(at.type===o.type&&(at.visible||!o.chart.options.chart.ignoreHiddenSeries)&&p.len===st.len&&p.pos===st.pos){if(Mt.stacking&&"group"!==Mt.stacking){void 0===S[T=at.stackKey]&&(S[T]=C++);var St=S[T]}else!1!==Mt.grouping&&(St=C++);at.columnIndex=St}});var h=Math.min(Math.abs(g.transA)*(g.ordinal&&g.ordinal.slope||c.pointRange||g.closestPointRange||g.tickInterval||1),g.len),k=h*c.groupPadding,ft=(h-2*k)/(C||1);return c=Math.min(c.maxPointWidth||g.len,Ot(c.pointWidth,ft*(1-2*c.pointPadding))),o.columnMetrics={width:c,offset:(ft-c)/2+(k+((o.columnIndex||0)+(w?1:0))*ft-h/2)*(w?-1:1),paddedWidth:ft,columnCount:C},o.columnMetrics},A.prototype.crispCol=function(o,c,g,p){var w=this.chart,S=this.borderWidth,T=-(S%2?.5:0);return S=S%2?.5:1,w.inverted&&w.renderer.isVML&&(S+=1),this.options.crisp&&(g=Math.round(o+g)+T,g-=o=Math.round(o)+T),p=Math.round(c+p)+S,T=.5>=Math.abs(c)&&.5<p,p-=c=Math.round(c)+S,T&&p&&(--c,p+=1),{x:o,y:c,width:g,height:p}},A.prototype.adjustForMissingColumns=function(o,c,g,p){var w=this,S=this.options.stacking;if(!g.isNull&&1<p.columnCount){var T=0,C=0;Tt(this.yAxis.stacking&&this.yAxis.stacking.stacks,function(h){if("number"==typeof g.x&&(h=h[g.x.toString()])){var k=h.points[w.index],ft=h.total;S?(k&&(T=C),h.hasValidPoints&&C++):lt(k)&&(T=k[1],C=ft||0)}}),o=(g.plotX||0)+((C-1)*p.paddedWidth+c)/2-c-T*p.paddedWidth}return o},A.prototype.translate=function(){var o=this,c=o.chart,g=o.options,p=o.dense=2>o.closestPointRange*o.xAxis.transA;p=o.borderWidth=Ot(g.borderWidth,p?0:1);var w=o.xAxis,S=o.yAxis,T=g.threshold,C=o.translatedThreshold=S.getThreshold(T),h=Ot(g.minPointLength,5),k=o.getColumnMetrics(),ft=k.width,at=o.pointXOffset=k.offset,st=o.dataMin,Mt=o.dataMax,St=o.barW=Math.max(ft,1+2*p);c.inverted&&(C-=.5),g.pointPadding&&(St=Math.ceil(St)),Z.prototype.translate.apply(o),o.points.forEach(function(Xt){var te=Ot(Xt.yBottom,C),Vt=999+Math.abs(te),Dt=Xt.plotX||0;Vt=Y(Xt.plotY,-Vt,S.len+Vt);var ve=Math.min(Vt,te),Gt=Math.max(Vt,te)-ve,Nt=ft,Kt=Dt+at,fe=St;h&&Math.abs(Gt)<h&&(Gt=h,Dt=!S.reversed&&!Xt.negative||S.reversed&&Xt.negative,wt(T)&&wt(Mt)&&Xt.y===T&&Mt<=T&&(S.min||0)<T&&(st!==Mt||(S.max||0)<=T)&&(Dt=!Dt),ve=Math.abs(ve-C)>h?te-h:C-(Dt?h:0)),U(Xt.options.pointWidth)&&(Nt=fe=Math.ceil(Xt.options.pointWidth),Kt-=Math.round((Nt-ft)/2)),g.centerInCategory&&(Kt=o.adjustForMissingColumns(Kt,Nt,Xt,k)),Xt.barX=Kt,Xt.pointWidth=Nt,Xt.tooltipPos=c.inverted?[Y(S.len+S.pos-c.plotLeft-Vt,S.pos-c.plotLeft,S.len+S.pos-c.plotLeft),w.len+w.pos-c.plotTop-Kt-fe/2,Gt]:[w.left-c.plotLeft+Kt+fe/2,Y(Vt+S.pos-c.plotTop,S.pos-c.plotTop,S.len+S.pos-c.plotTop),Gt],Xt.shapeType=o.pointClass.prototype.shapeType||"rect",Xt.shapeArgs=o.crispCol.apply(o,Xt.isNull?[Kt,C,fe,0]:[Kt,ve,fe,Gt])})},A.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},A.prototype.pointAttribs=function(o,c){var g=this.options,p=this.pointAttrToOptions||{},w=p.stroke||"borderColor",S=p["stroke-width"]||"borderWidth",T=o&&o.color||this.color,C=o&&o[w]||g[w]||T;p=o&&o.options.dashStyle||g.dashStyle;var h=o&&o[S]||g[S]||this[S]||0,k=Ot(o&&o.opacity,g.opacity,1);if(o&&this.zones.length){var ft=o.getZone();T=o.options.color||ft&&(ft.color||o.nonZonedColor)||this.color,ft&&(C=ft.borderColor||C,p=ft.dashStyle||p,h=ft.borderWidth||h)}return c&&o&&(c=(o=xt(g.states[c],o.options.states&&o.options.states[c]||{})).brightness,T=o.color||void 0!==c&&X(T).brighten(o.brightness).get()||T,C=o[w]||C,h=o[S]||h,p=o.dashStyle||p,k=Ot(o.opacity,k)),w={fill:T,stroke:C,"stroke-width":h,opacity:k},p&&(w.dashstyle=p),w},A.prototype.drawPoints=function(){var S,o=this,c=this.chart,g=o.options,p=c.renderer,w=g.animationLimit||250;o.points.forEach(function(T){var C=T.graphic,h=!!C,k=C&&c.pointCount<w?"animate":"attr";wt(T.plotY)&&null!==T.y?(S=T.shapeArgs,C&&T.hasNewShapeType()&&(C=C.destroy()),o.enabledDataSorting&&(T.startXPos=o.xAxis.reversed?-(S&&S.width||0):o.xAxis.width),C||(T.graphic=C=p[T.shapeType](S).add(T.group||o.group))&&o.enabledDataSorting&&c.hasRendered&&c.pointCount<w&&(C.attr({x:T.startXPos}),h=!0,k="animate"),C&&h&&C[k](xt(S)),g.borderRadius&&C[k]({r:g.borderRadius}),c.styledMode||C[k](o.pointAttribs(T,T.selected&&"select")).shadow(!1!==T.allowShadow&&g.shadow,null,g.stacking&&!g.borderRadius),C&&(C.addClass(T.getClassName(),!0),C.attr({visibility:T.visible?"inherit":"hidden"}))):C&&(T.graphic=C.destroy())})},A.prototype.drawTracker=function(){var w,o=this,c=o.chart,g=c.pointer,p=function(S){var T=g.getPointFromEvent(S);void 0!==T&&(g.isDirectTouch=!0,T.onMouseOver(S))};o.points.forEach(function(S){w=lt(S.dataLabels)?S.dataLabels:S.dataLabel?[S.dataLabel]:[],S.graphic&&(S.graphic.element.point=S),w.forEach(function(T){T.div?T.div.point=S:T.element.point=S})}),o._hasTracking||(o.trackerGroups.forEach(function(S){o[S]&&(o[S].addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(T){g.onTrackerMouseOut(T)}),z&&o[S].on("touchstart",p),!c.styledMode&&o.options.cursor&&o[S].css(q).css({cursor:o.options.cursor}))}),o._hasTracking=!0),ot(this,"afterDrawTracker")},A.prototype.remove=function(){var o=this,c=o.chart;c.hasRendered&&c.series.forEach(function(g){g.type===o.type&&(g.isDirty=!0)}),Z.prototype.remove.apply(o,arguments)},A.defaultOptions=xt(Z.defaultOptions,{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),A}(Z),it(F.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:rt.drawRectangle,getSymbol:b,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),H.registerSeriesType("column",F),F}),J(tt,"Core/Series/DataLabel.js",[tt["Core/Animation/AnimationUtilities.js"],tt["Core/FormatUtilities.js"],tt["Core/Utilities.js"]],function(b,W,G){var U,rt=b.getDeferredAnimation,Z=W.format,H=G.defined,F=G.extend,et=G.fireEvent,B=G.isArray,X=G.merge,z=G.objectEach,Y=G.pick,q=G.splat;return function(it){function ot(A,o,c,g,p){var w=this,S=this.chart,T=this.isCartesian&&S.inverted,C=this.enabledDataSorting,h=Y(A.dlBox&&A.dlBox.centerX,A.plotX,-9999),k=Y(A.plotY,-9999),ft=o.getBBox(),at=c.rotation,st=c.align,Mt=S.isInsidePlot(h,Math.round(k),{inverted:T,paneCoordinates:!0,series:w}),St=function(Dt){C&&w.xAxis&&!Xt&&w.setDataLabelStartPos(A,o,p,Mt,Dt)},Xt="justify"===Y(c.overflow,C?"none":"justify"),te=this.visible&&!1!==A.visible&&(A.series.forceDL||C&&!Xt||Mt||Y(c.inside,!!this.options.stacking)&&g&&S.isInsidePlot(h,T?g.x+1:g.y+g.height-1,{inverted:T,paneCoordinates:!0,series:w}));if(te){var Vt=S.renderer.fontMetrics(S.styledMode?void 0:c.style.fontSize,o).b;g=F({x:T?this.yAxis.len-k:h,y:Math.round(T?this.xAxis.len-h:k),width:0,height:0},g),F(c,{width:ft.width,height:ft.height}),at?(Xt=!1,h=S.renderer.rotCorr(Vt,at),St(h={x:g.x+(c.x||0)+g.width/2+h.x,y:g.y+(c.y||0)+{top:0,middle:.5,bottom:1}[c.verticalAlign]*g.height}),o[p?"attr":"animate"](h).attr({align:st}),St=180<(St=(at+720)%360)&&360>St,"left"===st?h.y-=St?ft.height:0:"center"===st?(h.x-=ft.width/2,h.y-=ft.height/2):"right"===st&&(h.x-=ft.width,h.y-=St?0:ft.height),o.placed=!0,o.alignAttr=h):(St(g),o.align(c,void 0,g),h=o.alignAttr),Xt&&0<=g.height?this.justifyDataLabel(o,c,h,ft,g,p):Y(c.crop,!0)&&(te=S.isInsidePlot(h.x,h.y,{paneCoordinates:!0,series:w})&&S.isInsidePlot(h.x+ft.width,h.y+ft.height,{paneCoordinates:!0,series:w})),c.shape&&!at&&o[p?"attr":"animate"]({anchorX:T?S.plotWidth-A.plotY:A.plotX,anchorY:T?S.plotHeight-A.plotX:A.plotY})}p&&C&&(o.placed=!1),te||C&&!Xt||(o.hide(!0),o.placed=!1)}function wt(){var A=this,o=A.chart,c=A.options,g=A.points,p=A.hasRendered||0,w=o.renderer,S=c.dataLabels,C=S.animation;if(C=S.defer?rt(o,C,A):{defer:0,duration:0},S=Ot(Ot(o.options.plotOptions&&o.options.plotOptions.series&&o.options.plotOptions.series.dataLabels,o.options.plotOptions&&o.options.plotOptions[A.type]&&o.options.plotOptions[A.type].dataLabels),S),et(this,"drawDataLabels"),B(S)||S.enabled||A._hasPointLabels){var h=A.plotGroup("dataLabelsGroup","data-labels",p?"inherit":"hidden",S.zIndex||6);h.attr({opacity:+p}),!p&&(p=A.dataLabelsGroup)&&(A.visible&&h.show(!0),p[c.animation?"animate":"attr"]({opacity:1},C)),g.forEach(function(k){q(Ot(S,k.dlOptions||k.options&&k.options.dataLabels)).forEach(function(ft,at){var st=ft.enabled&&(!k.isNull||k.dataLabelOnNull)&&function(A,o){var c=o.filter;return!c||(o=c.operator,A=A[c.property],c=c.value,">"===o&&A>c||"<"===o&&A<c||">="===o&&A>=c||"<="===o&&A<=c||"=="===o&&A==c||"==="===o&&A===c)}(k,ft),Mt=k.connectors?k.connectors[at]:k.connector,St=k.dataLabels?k.dataLabels[at]:k.dataLabel,Xt=Y(ft.distance,k.labelDistance),te=!St;if(st){var Vt=k.getLabelConfig(),Dt=Y(ft[k.formatPrefix+"Format"],ft.format);Vt=H(Dt)?Z(Dt,Vt,o):(ft[k.formatPrefix+"Formatter"]||ft.formatter).call(Vt,ft),Dt=ft.style;var ve=ft.rotation;o.styledMode||(Dt.color=Y(ft.color,Dt.color,A.color,"#000000"),"contrast"===Dt.color?(k.contrastColor=w.getContrast(k.color||A.color),Dt.color=!H(Xt)&&ft.inside||0>Xt||c.stacking?k.contrastColor:"#000000"):delete k.contrastColor,c.cursor&&(Dt.cursor=c.cursor));var Gt={r:ft.borderRadius||0,rotation:ve,padding:ft.padding,zIndex:1};o.styledMode||(Gt.fill=ft.backgroundColor,Gt.stroke=ft.borderColor,Gt["stroke-width"]=ft.borderWidth),z(Gt,function(Nt,Kt){void 0===Nt&&delete Gt[Kt]})}!St||st&&H(Vt)?st&&H(Vt)&&(St?Gt.text=Vt:(k.dataLabels=k.dataLabels||[],St=k.dataLabels[at]=ve?w.text(Vt,0,-9999,ft.useHTML).addClass("highcharts-data-label"):w.label(Vt,0,-9999,ft.shape,null,null,ft.useHTML,null,"data-label"),at||(k.dataLabel=St),St.addClass(" highcharts-data-label-color-"+k.colorIndex+" "+(ft.className||"")+(ft.useHTML?" highcharts-tracker":""))),St.options=ft,St.attr(Gt),o.styledMode||St.css(Dt).shadow(ft.shadow),St.added||St.add(h),ft.textPath&&!ft.useHTML&&(St.setTextPath(k.getDataLabelPath&&k.getDataLabelPath(St)||k.graphic,ft.textPath),k.dataLabelPath&&!ft.textPath.enabled&&(k.dataLabelPath=k.dataLabelPath.destroy())),A.alignDataLabel(k,St,ft,null,te)):(k.dataLabel=k.dataLabel&&k.dataLabel.destroy(),k.dataLabels&&(1===k.dataLabels.length?delete k.dataLabels:delete k.dataLabels[at]),at||delete k.dataLabel,Mt&&(k.connector=k.connector.destroy(),k.connectors&&(1===k.connectors.length?delete k.connectors:delete k.connectors[at])))})})}et(this,"afterDrawDataLabels")}function xt(A,o,c,g,p,w){var S=this.chart,T=o.align,C=o.verticalAlign,h=A.box?0:A.padding||0,k=o.x;k=void 0===k?0:k;var ft=o.y;ft=void 0===ft?0:ft;var at=(c.x||0)+h;if(0>at){"right"===T&&0<=k?(o.align="left",o.inside=!0):k-=at;var st=!0}return(at=(c.x||0)+g.width-h)>S.plotWidth&&("left"===T&&0>=k?(o.align="right",o.inside=!0):k+=S.plotWidth-at,st=!0),0>(at=c.y+h)&&("bottom"===C&&0<=ft?(o.verticalAlign="top",o.inside=!0):ft-=at,st=!0),(at=(c.y||0)+g.height-h)>S.plotHeight&&("top"===C&&0>=ft?(o.verticalAlign="bottom",o.inside=!0):ft+=S.plotHeight-at,st=!0),st&&(o.x=k,o.y=ft,A.placed=!w,A.align(o,void 0,p)),st}function Ot(A,o){var g,c=[];if(B(A)&&!B(o))c=A.map(function(p){return X(p,o)});else if(B(o)&&!B(A))c=o.map(function(p){return X(A,p)});else if(B(A)||B(o))for(g=Math.max(A.length,o.length);g--;)c[g]=X(A[g],o[g]);else c=X(A,o);return c}function Tt(A,o,c,g,p){var w=this.chart,S=w.inverted,T=this.xAxis,C=T.reversed,h=S?o.height/2:o.width/2;A=(A=A.pointWidth)?A/2:0,o.startXPos=S?p.x:C?-h-A:T.width-h+A,o.startYPos=S?C?this.yAxis.height-h+A:-h-A:p.y,g?"hidden"===o.visibility&&(o.show(),o.attr({opacity:0}).animate({opacity:1})):o.attr({opacity:1}).animate({opacity:0},void 0,o.hide),w.hasRendered&&(c&&o.attr({x:o.startXPos,y:o.startYPos}),o.placed=!0)}var Et=[];it.compose=function(A){if(-1===Et.indexOf(A)){var o=A.prototype;Et.push(A),o.alignDataLabel=ot,o.drawDataLabels=wt,o.justifyDataLabel=xt,o.setDataLabelStartPos=Tt}}}(U||(U={})),U}),J(tt,"Series/Column/ColumnDataLabel.js",[tt["Core/Series/DataLabel.js"],tt["Core/Series/SeriesRegistry.js"],tt["Core/Utilities.js"]],function(b,W,G){var F,rt=W.series,Z=G.merge,H=G.pick;return function(et){function B(z,Y,q,U,it){var ot=this.chart.inverted,lt=z.series,wt=(lt.xAxis?lt.xAxis.len:this.chart.plotSizeX)||0,xt=z.dlBox||z.shapeArgs,Ot=H(z.below,z.plotY>H(this.translatedThreshold,lt=(lt.yAxis?lt.yAxis.len:this.chart.plotSizeY)||0)),Tt=H(q.inside,!!this.options.stacking);xt&&(0>(U=Z(xt)).y&&(U.height+=U.y,U.y=0),0<(xt=U.y+U.height-lt)&&xt<U.height&&(U.height-=xt),ot&&(U={x:lt-U.y-U.height,y:wt-U.x-U.width,width:U.height,height:U.width}),Tt||(ot?(U.x+=Ot?0:U.width,U.width=0):(U.y+=Ot?U.height:0,U.height=0))),q.align=H(q.align,!ot||Tt?"center":Ot?"right":"left"),q.verticalAlign=H(q.verticalAlign,ot||Tt?"middle":Ot?"top":"bottom"),rt.prototype.alignDataLabel.call(this,z,Y,q,U,it),q.inside&&z.contrastColor&&Y.css({color:z.contrastColor})}var X=[];et.compose=function(z){b.compose(rt),-1===X.indexOf(z)&&(X.push(z),z.prototype.alignDataLabel=B)}}(F||(F={})),F}),J(tt,"Series/Bar/BarSeries.js",[tt["Series/Column/ColumnSeries.js"],tt["Core/Series/SeriesRegistry.js"],tt["Core/Utilities.js"]],function(b,W,G){var F,rt=this&&this.__extends||(F=function(et,B){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,z){X.__proto__=z}||function(X,z){for(var Y in z)z.hasOwnProperty(Y)&&(X[Y]=z[Y])})(et,B)},function(et,B){function X(){this.constructor=et}F(et,B),et.prototype=null===B?Object.create(B):(X.prototype=B.prototype,new X)}),Z=G.extend,H=G.merge;return G=function(F){function et(){var B=null!==F&&F.apply(this,arguments)||this;return B.data=void 0,B.options=void 0,B.points=void 0,B}return rt(et,F),et.defaultOptions=H(b.defaultOptions,{}),et}(b),Z(G.prototype,{inverted:!0}),W.registerSeriesType("bar",G),G}),J(tt,"Series/Scatter/ScatterSeries.js",[tt["Series/Column/ColumnSeries.js"],tt["Series/Line/LineSeries.js"],tt["Core/Series/SeriesRegistry.js"],tt["Core/Utilities.js"]],function(b,W,G,rt){var B,Z=this&&this.__extends||(B=function(X,z){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,q){Y.__proto__=q}||function(Y,q){for(var U in q)q.hasOwnProperty(U)&&(Y[U]=q[U])})(X,z)},function(X,z){function Y(){this.constructor=X}B(X,z),X.prototype=null===z?Object.create(z):(Y.prototype=z.prototype,new Y)}),H=rt.addEvent,F=rt.extend,et=rt.merge;return rt=function(B){function X(){var z=null!==B&&B.apply(this,arguments)||this;return z.data=void 0,z.options=void 0,z.points=void 0,z}return Z(X,B),X.prototype.applyJitter=function(){var z=this,Y=this.options.jitter,q=this.points.length;Y&&this.points.forEach(function(U,it){["x","y"].forEach(function(ot,lt){var wt="plot"+ot.toUpperCase();if(Y[ot]&&!U.isNull){var xt=z[ot+"Axis"],Ot=Y[ot]*xt.transA;if(xt&&!xt.isLog){var Tt=Math.max(0,U[wt]-Ot);xt=Math.min(xt.len,U[wt]+Ot),lt=1e4*Math.sin(it+lt*q),U[wt]=Tt+(xt-Tt)*(lt-Math.floor(lt)),"x"===ot&&(U.clientX=U.plotX)}}})})},X.prototype.drawGraph=function(){this.options.lineWidth?B.prototype.drawGraph.call(this):this.graph&&(this.graph=this.graph.destroy())},X.defaultOptions=et(W.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),X}(W),F(rt.prototype,{drawTracker:b.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),H(rt,"afterTranslate",function(){this.applyJitter()}),G.registerSeriesType("scatter",rt),rt}),J(tt,"Series/CenteredUtilities.js",[tt["Core/Globals.js"],tt["Core/Series/Series.js"],tt["Core/Utilities.js"]],function(b,W,G){var et,B,rt=b.deg2rad,Z=G.isNumber,H=G.pick,F=G.relativeLength;return(B=et||(et={})).getCenter=function(){var X=this.options,z=this.chart,Y=2*(X.slicedOffset||0),q=z.plotWidth-2*Y,U=z.plotHeight-2*Y,it=X.center,ot=Math.min(q,U),lt=X.size,wt=X.innerSize||0;for("string"==typeof lt&&(lt=parseFloat(lt)),"string"==typeof wt&&(wt=parseFloat(wt)),X=[H(it[0],"50%"),H(it[1],"50%"),H(lt&&0>lt?void 0:X.size,"100%"),H(wt&&0>wt?void 0:X.innerSize||0,"0%")],!z.angular||this instanceof W||(X[3]=0),it=0;4>it;++it)lt=X[it],z=2>it||2===it&&/%$/.test(lt),X[it]=F(lt,[q,U,ot,X[2]][it])+(z?Y:0);return X[3]>X[2]&&(X[3]=X[2]),X},B.getStartAndEndRadians=function(X,z){return X=Z(X)?X:0,z=Z(z)&&z>X&&360>z-X?z:X+360,{start:rt*(X+-90),end:rt*(z+-90)}},et}),J(tt,"Series/Pie/PiePoint.js",[tt["Core/Animation/AnimationUtilities.js"],tt["Core/Series/Point.js"],tt["Core/Utilities.js"]],function(b,W,G){var z,rt=this&&this.__extends||(z=function(Y,q){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,it){U.__proto__=it}||function(U,it){for(var ot in it)it.hasOwnProperty(ot)&&(U[ot]=it[ot])})(Y,q)},function(Y,q){function U(){this.constructor=Y}z(Y,q),Y.prototype=null===q?Object.create(q):(U.prototype=q.prototype,new U)}),Z=b.setAnimation,H=G.addEvent,F=G.defined;b=G.extend;var et=G.isNumber,B=G.pick,X=G.relativeLength;return W=function(z){function Y(){var q=null!==z&&z.apply(this,arguments)||this;return q.labelDistance=void 0,q.options=void 0,q.series=void 0,q}return rt(Y,z),Y.prototype.getConnectorPath=function(){var q=this.labelPosition,U=this.series.options.dataLabels,it=this.connectorShapes,ot=U.connectorShape;return it[ot]&&(ot=it[ot]),ot.call(this,{x:q.final.x,y:q.final.y,alignment:q.alignment},q.connectorPosition,U)},Y.prototype.getTranslate=function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},Y.prototype.haloPath=function(q){var U=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(U.x,U.y,U.r+q,U.r+q,{innerR:U.r-1,start:U.start,end:U.end})},Y.prototype.init=function(){var q=this;z.prototype.init.apply(this,arguments),this.name=B(this.name,"Slice");var U=function(it){q.slice("select"===it.type)};return H(this,"select",U),H(this,"unselect",U),this},Y.prototype.isValid=function(){return et(this.y)&&0<=this.y},Y.prototype.setVisible=function(q,U){var it=this,ot=this.series,lt=ot.chart,wt=ot.options.ignoreHiddenPoint;U=B(U,wt),q!==this.visible&&(this.visible=this.options.visible=q=void 0===q?!this.visible:q,ot.options.data[ot.data.indexOf(this)]=this.options,["graphic","dataLabel","connector","shadowGroup"].forEach(function(xt){it[xt]&&it[xt][q?"show":"hide"](q)}),this.legendItem&&lt.legend.colorizeItem(this,q),q||"hover"!==this.state||this.setState(""),wt&&(ot.isDirty=!0),U&&lt.redraw())},Y.prototype.slice=function(q,U,it){var ot=this.series;Z(it,ot.chart),B(U,!0),this.sliced=this.options.sliced=F(q)?q:!this.sliced,ot.options.data[ot.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},Y}(W),b(W.prototype,{connectorShapes:{fixedOffset:function(z,Y,q){var U=Y.breakAt;return Y=Y.touchingSliceAt,[["M",z.x,z.y],q.softConnector?["C",z.x+("left"===z.alignment?-5:5),z.y,2*U.x-Y.x,2*U.y-Y.y,U.x,U.y]:["L",U.x,U.y],["L",Y.x,Y.y]]},straight:function(z,Y){return[["M",z.x,z.y],["L",(Y=Y.touchingSliceAt).x,Y.y]]},crookedLine:function(z,Y,q){Y=Y.touchingSliceAt;var U=this.series,it=U.center[0],ot=U.chart.plotWidth,lt=U.chart.plotLeft;U=z.alignment;var wt=this.shapeArgs.r;return q=X(q.crookDistance,1),q=["L",ot="left"===U?it+wt+(ot+lt-it-wt)*(1-q):lt+(it-wt)*q,z.y],it=!0,("left"===U?ot>z.x||ot<Y.x:ot<z.x||ot>Y.x)&&(it=!1),z=[["M",z.x,z.y]],it&&z.push(q),z.push(["L",Y.x,Y.y]),z}}}),W}),J(tt,"Series/Pie/PieSeries.js",[tt["Series/CenteredUtilities.js"],tt["Series/Column/ColumnSeries.js"],tt["Core/Globals.js"],tt["Core/Legend/LegendSymbol.js"],tt["Series/Pie/PiePoint.js"],tt["Core/Series/Series.js"],tt["Core/Series/SeriesRegistry.js"],tt["Core/Renderer/SVG/Symbols.js"],tt["Core/Utilities.js"]],function(b,W,G,rt,Z,H,F,et,B){var wt,X=this&&this.__extends||(wt=function(xt,Ot){return(wt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Tt,Et){Tt.__proto__=Et}||function(Tt,Et){for(var A in Et)Et.hasOwnProperty(A)&&(Tt[A]=Et[A])})(xt,Ot)},function(xt,Ot){function Tt(){this.constructor=xt}wt(xt,Ot),xt.prototype=null===Ot?Object.create(Ot):(Tt.prototype=Ot.prototype,new Tt)}),z=b.getStartAndEndRadians;G=G.noop;var Y=B.clamp,q=B.extend,U=B.fireEvent,it=B.merge,ot=B.pick,lt=B.relativeLength;return B=function(wt){function xt(){var Ot=null!==wt&&wt.apply(this,arguments)||this;return Ot.center=void 0,Ot.data=void 0,Ot.maxLabelDistance=void 0,Ot.options=void 0,Ot.points=void 0,Ot}return X(xt,wt),xt.prototype.animate=function(Ot){var Tt=this,A=Tt.startAngleRad;Ot||Tt.points.forEach(function(o){var c=o.graphic,g=o.shapeArgs;c&&g&&(c.attr({r:ot(o.startR,Tt.center&&Tt.center[3]/2),start:A,end:A}),c.animate({r:g.r,start:g.start,end:g.end},Tt.options.animation))})},xt.prototype.drawEmpty=function(){var Ot=this.startAngleRad,Tt=this.endAngleRad,Et=this.options;if(0===this.total&&this.center){var A=this.center[0],o=this.center[1];this.graph||(this.graph=this.chart.renderer.arc(A,o,this.center[1]/2,0,Ot,Tt).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:et.arc(A,o,this.center[2]/2,0,{start:Ot,end:Tt,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":Et.borderWidth,fill:Et.fillColor||"none",stroke:Et.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())},xt.prototype.drawPoints=function(){var Ot=this.chart.renderer;this.points.forEach(function(Tt){Tt.graphic&&Tt.hasNewShapeType()&&(Tt.graphic=Tt.graphic.destroy()),Tt.graphic||(Tt.graphic=Ot[Tt.shapeType](Tt.shapeArgs).add(Tt.series.group),Tt.delayedRendering=!0)})},xt.prototype.generatePoints=function(){wt.prototype.generatePoints.call(this),this.updateTotals()},xt.prototype.getX=function(Ot,Tt,Et){var A=this.center,o=this.radii?this.radii[Et.index]||0:A[2]/2;return Ot=Math.asin(Y((Ot-A[1])/(o+Et.labelDistance),-1,1)),A[0]+(Tt?-1:1)*Math.cos(Ot)*(o+Et.labelDistance)+(0<Et.labelDistance?(Tt?-1:1)*this.options.dataLabels.padding:0)},xt.prototype.hasData=function(){return!!this.processedXData.length},xt.prototype.redrawPoints=function(){var o,c,g,p,Ot=this,Tt=Ot.chart,Et=Tt.renderer,A=Ot.options.shadow;this.drawEmpty(),!A||Ot.shadowGroup||Tt.styledMode||(Ot.shadowGroup=Et.g("shadow").attr({zIndex:-1}).add(Ot.group)),Ot.points.forEach(function(w){var S={};if(c=w.graphic,!w.isNull&&c){var T=void 0;p=w.shapeArgs,o=w.getTranslate(),Tt.styledMode||(T=w.shadowGroup,A&&!T&&(T=w.shadowGroup=Et.g("shadow").add(Ot.shadowGroup)),T&&T.attr(o),g=Ot.pointAttribs(w,w.selected&&"select")),w.delayedRendering?(c.setRadialReference(Ot.center).attr(p).attr(o),Tt.styledMode||c.attr(g).attr({"stroke-linejoin":"round"}).shadow(A,T),w.delayedRendering=!1):(c.setRadialReference(Ot.center),Tt.styledMode||it(!0,S,g),it(!0,S,p,o),c.animate(S)),c.attr({visibility:w.visible?"inherit":"hidden"}),c.addClass(w.getClassName(),!0)}else c&&(w.graphic=c.destroy())})},xt.prototype.sortByAngle=function(Ot,Tt){Ot.sort(function(Et,A){return void 0!==Et.angle&&(A.angle-Et.angle)*Tt})},xt.prototype.translate=function(Ot){this.generatePoints();var Tt=this.options,Et=Tt.slicedOffset,A=Et+(Tt.borderWidth||0),o=z(Tt.startAngle,Tt.endAngle),c=this.startAngleRad=o.start;o=(this.endAngleRad=o.end)-c;var g=this.points,p=Tt.dataLabels.distance;Tt=Tt.ignoreHiddenPoint;var S,w=g.length,T=0;for(Ot||(this.center=Ot=this.getCenter()),S=0;S<w;S++){var C=g[S],h=c+T*o;!C.isValid()||Tt&&!C.visible||(T+=C.percentage/100);var k=c+T*o,ft={x:Ot[0],y:Ot[1],r:Ot[2]/2,innerR:Ot[3]/2,start:Math.round(1e3*h)/1e3,end:Math.round(1e3*k)/1e3};C.shapeType="arc",C.shapeArgs=ft,C.labelDistance=ot(C.options.dataLabels&&C.options.dataLabels.distance,p),C.labelDistance=lt(C.labelDistance,ft.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,C.labelDistance),(k=(k+h)/2)>1.5*Math.PI?k-=2*Math.PI:k<-Math.PI/2&&(k+=2*Math.PI),C.slicedTranslation={translateX:Math.round(Math.cos(k)*Et),translateY:Math.round(Math.sin(k)*Et)},ft=Math.cos(k)*Ot[2]/2;var at=Math.sin(k)*Ot[2]/2;C.tooltipPos=[Ot[0]+.7*ft,Ot[1]+.7*at],C.half=k<-Math.PI/2||k>Math.PI/2?1:0,C.angle=k,h=Math.min(A,C.labelDistance/5),C.labelPosition={natural:{x:Ot[0]+ft+Math.cos(k)*C.labelDistance,y:Ot[1]+at+Math.sin(k)*C.labelDistance},final:{},alignment:0>C.labelDistance?"center":C.half?"right":"left",connectorPosition:{breakAt:{x:Ot[0]+ft+Math.cos(k)*h,y:Ot[1]+at+Math.sin(k)*h},touchingSliceAt:{x:Ot[0]+ft,y:Ot[1]+at}}}}U(this,"afterTranslate")},xt.prototype.updateTotals=function(){var A,Ot=this.points,Tt=Ot.length,Et=this.options.ignoreHiddenPoint,o=0;for(A=0;A<Tt;A++){var c=Ot[A];!c.isValid()||Et&&!c.visible||(o+=c.y)}for(this.total=o,A=0;A<Tt;A++)(c=Ot[A]).percentage=0<o&&(c.visible||!Et)?c.y/o*100:0,c.total=o},xt.defaultOptions=it(H.defaultOptions,{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),xt}(H),q(B.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:rt.drawRectangle,drawTracker:W.prototype.drawTracker,getCenter:b.getCenter,getSymbol:G,isCartesian:!1,noSharedTooltip:!0,pointAttribs:W.prototype.pointAttribs,pointClass:Z,requireSorting:!1,searchPoint:G,trackerGroups:["group","dataLabelsGroup"]}),F.registerSeriesType("pie",B),B}),J(tt,"Series/Pie/PieDataLabel.js",[tt["Core/Series/DataLabel.js"],tt["Core/Globals.js"],tt["Core/Renderer/RendererUtilities.js"],tt["Core/Series/SeriesRegistry.js"],tt["Core/Utilities.js"]],function(b,W,G,rt,Z){var it,H=W.noop,F=G.distribute,et=rt.series,B=Z.arrayMax,X=Z.clamp,z=Z.defined,Y=Z.merge,q=Z.pick,U=Z.relativeLength;return function(ot){function lt(){var Mt,St,Xt,te,Vt,Dt,ve,Gt,Nt,Kt,fe,zt,Et=this,A=Et.data,o=Et.chart,c=Et.options.dataLabels||{},g=c.connectorPadding,p=o.plotWidth,w=o.plotHeight,S=o.plotLeft,T=Math.round(o.chartWidth/3),C=Et.center,h=C[2]/2,k=C[1],ft=[[],[]],at=[0,0,0,0],st=Et.dataLabelPositioners;Et.visible&&(c.enabled||Et._hasPointLabels)&&(A.forEach(function(Ne){Ne.dataLabel&&Ne.visible&&Ne.dataLabel.shortened&&(Ne.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),Ne.dataLabel.shortened=!1)}),et.prototype.drawDataLabels.apply(Et),A.forEach(function(Ne){Ne.dataLabel&&(Ne.visible?(ft[Ne.half].push(Ne),Ne.dataLabel._pos=null,!z(c.style.width)&&!z(Ne.options.dataLabels&&Ne.options.dataLabels.style&&Ne.options.dataLabels.style.width)&&Ne.dataLabel.getBBox().width>T&&(Ne.dataLabel.css({width:Math.round(.7*T)+"px"}),Ne.dataLabel.shortened=!0)):(Ne.dataLabel=Ne.dataLabel.destroy(),Ne.dataLabels&&1===Ne.dataLabels.length&&delete Ne.dataLabels))}),ft.forEach(function(Ne,Pt){var Ge,Se=Ne.length,Fi=[];if(Se){if(Et.sortByAngle(Ne,Pt-.5),0<Et.maxLabelDistance){var _e=Math.max(0,k-h-Et.maxLabelDistance),Ce=Math.min(k+h+Et.maxLabelDistance,o.plotHeight);Ne.forEach(function(Bt){0<Bt.labelDistance&&Bt.dataLabel&&(Bt.top=Math.max(0,k-h-Bt.labelDistance),Bt.bottom=Math.min(k+h+Bt.labelDistance,o.plotHeight),Ge=Bt.dataLabel.getBBox().height||21,Bt.distributeBox={target:Bt.labelPosition.natural.y-Bt.top+Ge/2,size:Ge,rank:Bt.y},Fi.push(Bt.distributeBox))}),F(Fi,_e=Ce+Ge-_e,_e/5)}for(fe=0;fe<Se;fe++){if(te=(Mt=Ne[fe]).dataLabel,Kt=!1===Mt.visible?"hidden":"inherit",Nt=_e=(Dt=Mt.labelPosition).natural.y,Fi&&z(Mt.distributeBox)&&(void 0===Mt.distributeBox.pos?Kt="hidden":(ve=Mt.distributeBox.size,Nt=st.radialDistributionY(Mt))),delete Mt.positionIndex,c.justify)Gt=st.justify(Mt,h,C);else switch(c.alignTo){case"connectors":Gt=st.alignToConnectors(Ne,Pt,p,S);break;case"plotEdges":Gt=st.alignToPlotEdges(te,Pt,p,S);break;default:Gt=st.radialDistributionX(Et,Mt,Nt,_e)}te._attr={visibility:Kt,align:Dt.alignment},te._pos={x:Gt+q((zt=Mt.options.dataLabels||{}).x,c.x)+({left:g,right:-g}[Dt.alignment]||0),y:Nt+q(zt.y,c.y)-10},Dt.final.x=Gt,Dt.final.y=Nt,q(c.crop,!0)&&(Vt=te.getBBox().width,_e=null,Gt-Vt<g&&1===Pt?(_e=Math.round(Vt-Gt+g),at[3]=Math.max(_e,at[3])):Gt+Vt>p-g&&0===Pt&&(_e=Math.round(Gt+Vt-p+g),at[1]=Math.max(_e,at[1])),0>Nt-ve/2?at[0]=Math.max(Math.round(ve/2-Nt),at[0]):Nt+ve/2>w&&(at[2]=Math.max(Math.round(Nt+ve/2-w),at[2])),te.sideOverflow=_e)}}}),0===B(at)||this.verifyDataLabelOverflow(at))&&(this.placeDataLabels(),this.points.forEach(function(Ne){var Pt;zt=Y(c,Ne.options.dataLabels),(St=q(zt.connectorWidth,1))&&(Xt=Ne.connector,(te=Ne.dataLabel)&&te._pos&&Ne.visible&&0<Ne.labelDistance?(Kt=te._attr.visibility,(Pt=!Xt)&&(Ne.connector=Xt=o.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+Ne.colorIndex+(Ne.className?" "+Ne.className:"")).add(Et.dataLabelsGroup),o.styledMode||Xt.attr({"stroke-width":St,stroke:zt.connectorColor||Ne.color||"#666666"})),Xt[Pt?"attr":"animate"]({d:Ne.getConnectorPath()}),Xt.attr("visibility",Kt)):Xt&&(Ne.connector=Xt.destroy()))}))}function wt(){this.points.forEach(function(Et){var o,A=Et.dataLabel;A&&Et.visible&&((o=A._pos)?(A.sideOverflow&&(A._attr.width=Math.max(A.getBBox().width-A.sideOverflow,0),A.css({width:A._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),A.shortened=!0),A.attr(A._attr),A[A.moved?"animate":"attr"](o),A.moved=!0):A&&A.attr({y:-9999})),delete Et.distributeBox},this)}function xt(Et){var A=this.center,o=this.options,c=o.center,g=o.minSize||80,p=null!==o.size;if(!p){if(null!==c[0])var w=Math.max(A[2]-Math.max(Et[1],Et[3]),g);else w=Math.max(A[2]-Et[1]-Et[3],g),A[0]+=(Et[3]-Et[1])/2;null!==c[1]?w=X(w,g,A[2]-Math.max(Et[0],Et[2])):(w=X(w,g,A[2]-Et[0]-Et[2]),A[1]+=(Et[0]-Et[2])/2),w<A[2]?(A[2]=w,A[3]=Math.min(U(o.innerSize||0,w),w),this.translate(A),this.drawDataLabels&&this.drawDataLabels()):p=!0}return p}var Ot=[],Tt={radialDistributionY:function(Et){return Et.top+Et.distributeBox.pos},radialDistributionX:function(Et,A,o,c){return Et.getX(o<A.top+2||o>A.bottom-2?c:o,A.half,A)},justify:function(Et,A,o){return o[0]+(Et.half?-1:1)*(A+Et.labelDistance)},alignToPlotEdges:function(Et,A,o,c){return Et=Et.getBBox().width,A?Et+c:o-Et-c},alignToConnectors:function(Et,A,o,c){var p,g=0;return Et.forEach(function(w){(p=w.dataLabel.getBBox().width)>g&&(g=p)}),A?g+c:o-g-c}};ot.compose=function(Et){b.compose(et),-1===Ot.indexOf(Et)&&(Ot.push(Et),(Et=Et.prototype).dataLabelPositioners=Tt,Et.alignDataLabel=H,Et.drawDataLabels=lt,Et.placeDataLabels=wt,Et.verifyDataLabelOverflow=xt)}}(it||(it={})),it}),J(tt,"Extensions/OverlappingDataLabels.js",[tt["Core/Chart/Chart.js"],tt["Core/Utilities.js"]],function(b,W){function G(X,z){var Y=!1;if(X){var q=X.newOpacity;X.oldOpacity!==q&&(X.alignAttr&&X.placed?(X[q?"removeClass":"addClass"]("highcharts-data-label-hidden"),Y=!0,X.alignAttr.opacity=q,X[X.isOld?"animate":"attr"](X.alignAttr,null,function(){z.styledMode||X.css({pointerEvents:q?"auto":"none"})}),Z(z,"afterHideOverlappingLabel")):X.attr({opacity:q})),X.isOld=!0}return Y}var Z=W.fireEvent,H=W.isArray,F=W.isNumber,et=W.objectEach,B=W.pick;(0,W.addEvent)(b,"render",function(){var X=this,z=[];(this.labelCollectors||[]).forEach(function(Y){z=z.concat(Y())}),(this.yAxis||[]).forEach(function(Y){Y.stacking&&Y.options.stackLabels&&!Y.options.stackLabels.allowOverlap&&et(Y.stacking.stacks,function(q){et(q,function(U){U.label&&"hidden"!==U.label.visibility&&z.push(U.label)})})}),(this.series||[]).forEach(function(Y){var q=Y.options.dataLabels;Y.visible&&(!1!==q.enabled||Y._hasPointLabels)&&((q=function(U){return U.forEach(function(it){it.visible&&(H(it.dataLabels)?it.dataLabels:it.dataLabel?[it.dataLabel]:[]).forEach(function(ot){var lt=ot.options;ot.labelrank=B(lt.labelrank,it.labelrank,it.shapeArgs&&it.shapeArgs.height),lt.allowOverlap?(ot.oldOpacity=ot.opacity,ot.newOpacity=1,G(ot,X)):z.push(ot)})})})(Y.nodes||[]),q(Y.points))}),this.hideOverlappingLabels(z)}),b.prototype.hideOverlappingLabels=function(X){var U,it,ot,z=this,Y=X.length,q=z.renderer,lt=!1,wt=function(Tt){var Et,c,A=Tt.box?0:Tt.padding||0,o=Et=0;if(Tt&&(!Tt.alignAttr||Tt.placed)){var g=Tt.alignAttr||{x:Tt.attr("x"),y:Tt.attr("y")},p=Tt.parentGroup;return Tt.width||(Et=Tt.getBBox(),Tt.width=Et.width,Tt.height=Et.height,Et=q.fontMetrics(null,Tt.element).h),(c={left:"0",center:"0.5",right:"1"}[Tt.alignValue])?o=+c*(Tt.width-2*A):F(Tt.x)&&Math.round(Tt.x)!==Tt.translateX&&(o=Tt.x-Tt.translateX),{x:g.x+(p.translateX||0)+A-(o||0),y:g.y+(p.translateY||0)+A-Et,width:Tt.width-2*A,height:Tt.height-2*A}}};for(it=0;it<Y;it++)(U=X[it])&&(U.oldOpacity=U.opacity,U.newOpacity=1,U.absoluteBox=wt(U));for(X.sort(function(Tt,Et){return(Et.labelrank||0)-(Tt.labelrank||0)}),it=0;it<Y;it++){var xt=(wt=X[it])&&wt.absoluteBox;for(U=it+1;U<Y;++U){var Ot=(ot=X[U])&&ot.absoluteBox;!xt||!Ot||wt===ot||0===wt.newOpacity||0===ot.newOpacity||Ot.x>=xt.x+xt.width||Ot.x+Ot.width<=xt.x||Ot.y>=xt.y+xt.height||Ot.y+Ot.height<=xt.y||((wt.labelrank<ot.labelrank?wt:ot).newOpacity=0)}}X.forEach(function(Tt){G(Tt,z)&&(lt=!0)}),lt&&Z(z,"afterHideAllOverlappingLabels")}}),J(tt,"Core/Responsive.js",[tt["Core/Utilities.js"]],function(b){var z,W=b.extend,G=b.find,rt=b.isArray,Z=b.isObject,H=b.merge,F=b.objectEach,et=b.pick,B=b.splat,X=b.uniqueKey;return function(Y){var q=[];Y.compose=function(it){return-1===q.indexOf(it)&&(q.push(it),W(it.prototype,U.prototype)),it};var U=function(){function it(){}return it.prototype.currentOptions=function(ot){var wt=this,xt={};return function lt(Ot,Tt,Et,A){var o;F(Ot,function(c,g){if(!A&&-1<wt.collectionsWithUpdate.indexOf(g)&&Tt[g])for(c=B(c),Et[g]=[],o=0;o<Math.max(c.length,Tt[g].length);o++)Tt[g][o]&&(void 0===c[o]?Et[g][o]=Tt[g][o]:(Et[g][o]={},lt(c[o],Tt[g][o],Et[g][o],A+1)));else Z(c)?(Et[g]=rt(c)?[]:{},lt(c,Tt[g]||{},Et[g],A+1)):Et[g]=void 0===Tt[g]?null:Tt[g]})}(ot,this.options,xt,0),xt},it.prototype.matchResponsiveRule=function(ot,lt){var wt=ot.condition;(wt.callback||function(){return this.chartWidth<=et(wt.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=et(wt.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=et(wt.minWidth,0)&&this.chartHeight>=et(wt.minHeight,0)}).call(this)&&lt.push(ot._id)},it.prototype.setResponsive=function(ot,lt){var wt=this,xt=this.options.responsive,Ot=this.currentResponsive,Tt=[];!lt&&xt&&xt.rules&&xt.rules.forEach(function(Et){void 0===Et._id&&(Et._id=X()),wt.matchResponsiveRule(Et,Tt)},this),(lt=H.apply(void 0,Tt.map(function(Et){return G((xt||{}).rules||[],function(A){return A._id===Et})}).map(function(Et){return Et&&Et.chartOptions}))).isResponsiveOptions=!0,(Tt=Tt.toString()||void 0)!==(Ot&&Ot.ruleIds)&&(Ot&&this.update(Ot.undoOptions,ot,!0),Tt?((Ot=this.currentOptions(lt)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:Tt,mergedOptions:lt,undoOptions:Ot},this.update(lt,ot,!0)):this.currentResponsive=void 0)},it}()}(z||(z={})),z}),J(tt,"masters/highcharts.src.js",[tt["Core/Globals.js"],tt["Core/Utilities.js"],tt["Core/DefaultOptions.js"],tt["Core/Animation/Fx.js"],tt["Core/Animation/AnimationUtilities.js"],tt["Core/Renderer/HTML/AST.js"],tt["Core/FormatUtilities.js"],tt["Core/Renderer/RendererUtilities.js"],tt["Core/Renderer/SVG/SVGElement.js"],tt["Core/Renderer/SVG/SVGRenderer.js"],tt["Core/Renderer/HTML/HTMLElement.js"],tt["Core/Renderer/HTML/HTMLRenderer.js"],tt["Core/Axis/Axis.js"],tt["Core/Axis/DateTimeAxis.js"],tt["Core/Axis/LogarithmicAxis.js"],tt["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],tt["Core/Axis/Tick.js"],tt["Core/Tooltip.js"],tt["Core/Series/Point.js"],tt["Core/Pointer.js"],tt["Core/MSPointer.js"],tt["Core/Legend/Legend.js"],tt["Core/Chart/Chart.js"],tt["Core/Series/Series.js"],tt["Core/Series/SeriesRegistry.js"],tt["Series/Column/ColumnSeries.js"],tt["Series/Column/ColumnDataLabel.js"],tt["Series/Pie/PieSeries.js"],tt["Series/Pie/PieDataLabel.js"],tt["Core/Series/DataLabel.js"],tt["Core/Responsive.js"],tt["Core/Color/Color.js"],tt["Core/Time.js"]],function(b,W,G,rt,Z,H,F,et,B,X,z,Y,q,U,it,ot,lt,wt,xt,Ot,Tt,Et,A,o,c,g,p,w,S,T,C,h,k){return b.animate=Z.animate,b.animObject=Z.animObject,b.getDeferredAnimation=Z.getDeferredAnimation,b.setAnimation=Z.setAnimation,b.stop=Z.stop,b.timers=rt.timers,b.AST=H,b.Axis=q,b.Chart=A,b.chart=A.chart,b.Fx=rt,b.Legend=Et,b.PlotLineOrBand=ot,b.Point=xt,b.Pointer=Tt.isRequired()?Tt:Ot,b.Series=o,b.SVGElement=B,b.SVGRenderer=X,b.Tick=lt,b.Time=k,b.Tooltip=wt,b.Color=h,b.color=h.parse,Y.compose(X),z.compose(B),b.defaultOptions=G.defaultOptions,b.getOptions=G.getOptions,b.time=G.defaultTime,b.setOptions=G.setOptions,b.dateFormat=F.dateFormat,b.format=F.format,b.numberFormat=F.numberFormat,b.addEvent=W.addEvent,b.arrayMax=W.arrayMax,b.arrayMin=W.arrayMin,b.attr=W.attr,b.clearTimeout=W.clearTimeout,b.correctFloat=W.correctFloat,b.createElement=W.createElement,b.css=W.css,b.defined=W.defined,b.destroyObjectProperties=W.destroyObjectProperties,b.discardElement=W.discardElement,b.distribute=et.distribute,b.erase=W.erase,b.error=W.error,b.extend=W.extend,b.extendClass=W.extendClass,b.find=W.find,b.fireEvent=W.fireEvent,b.getMagnitude=W.getMagnitude,b.getStyle=W.getStyle,b.inArray=W.inArray,b.isArray=W.isArray,b.isClass=W.isClass,b.isDOMElement=W.isDOMElement,b.isFunction=W.isFunction,b.isNumber=W.isNumber,b.isObject=W.isObject,b.isString=W.isString,b.keys=W.keys,b.merge=W.merge,b.normalizeTickInterval=W.normalizeTickInterval,b.objectEach=W.objectEach,b.offset=W.offset,b.pad=W.pad,b.pick=W.pick,b.pInt=W.pInt,b.relativeLength=W.relativeLength,b.removeEvent=W.removeEvent,b.seriesType=c.seriesType,b.splat=W.splat,b.stableSort=W.stableSort,b.syncTimeout=W.syncTimeout,b.timeUnits=W.timeUnits,b.uniqueKey=W.uniqueKey,b.useSerialIds=W.useSerialIds,b.wrap=W.wrap,p.compose(g),T.compose(o),U.compose(q),it.compose(q),S.compose(w),ot.compose(q),C.compose(A),b}),tt["masters/highcharts.src.js"]._modules=tt,tt["masters/highcharts.src.js"]},Ee.exports?(J.default=J,Ee.exports=f.document?J(f):J):void 0!==(ct=function(){return J(f)}.call(Q,ut,Q,Ee))&&(Ee.exports=ct)},742:(Ee,Q,ut)=>{"use strict";var ct,f,J;J=function(J){function tt(b,W,G,rt){b.hasOwnProperty(W)||(b[W]=rt.apply(null,G))}tt(J=J?J._modules:{},"Series/NodesComposition.js",[J["Core/Series/Point.js"],J["Core/Series/Series.js"],J["Core/Utilities.js"]],function(b,W,G){var et,rt=G.defined,Z=G.extend,H=G.find,F=G.pick;return function(B){function X(){return this.data=[].concat(this.points||[],this.nodes),W.prototype.destroy.apply(this,arguments)}function z(){this.nodes&&(this.nodes.forEach(function(U){U.destroy()}),this.nodes.length=0),W.prototype.setData.apply(this,arguments)}function Y(U){var it=arguments,ot=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];"select"!==U&&ot.forEach(function(lt){lt&&lt.series&&(b.prototype.setState.apply(lt,it),lt.isNode||(lt.fromNode.graphic&&b.prototype.setState.apply(lt.fromNode,it),lt.toNode&&lt.toNode.graphic&&b.prototype.setState.apply(lt.toNode,it)))}),b.prototype.setState.apply(this,it)}var q=[];B.compose=function(U,it){return-1===q.indexOf(U)&&(q.push(U),(U=U.prototype).setNodeState=Y,U.setState=Y),-1===q.indexOf(it)&&(q.push(it),(U=it.prototype).destroy=X,U.setData=z),it},B.createNode=function(U){var it=this.pointClass,ot=function(wt,xt){return H(wt,function(Ot){return Ot.id===xt})},lt=ot(this.nodes,U);return lt||(ot=this.options.nodes&&ot(this.options.nodes,U),(lt=(new it).init(this,Z({className:"highcharts-node",isNode:!0,id:U,y:1},ot))).linksTo=[],lt.linksFrom=[],lt.formatPrefix="node",lt.name=lt.name||lt.options.id||"",lt.mass=F(lt.options.mass,lt.options.marker&&lt.options.marker.radius,this.options.marker&&this.options.marker.radius,4),lt.getSum=function(){var wt=0,xt=0;return lt.linksTo.forEach(function(Ot){wt+=Ot.weight}),lt.linksFrom.forEach(function(Ot){xt+=Ot.weight}),Math.max(wt,xt)},lt.offset=function(wt,xt){for(var Ot=0,Tt=0;Tt<lt[xt].length;Tt++){if(lt[xt][Tt]===wt)return Ot;Ot+=lt[xt][Tt].weight}},lt.hasShape=function(){var wt=0;return lt.linksTo.forEach(function(xt){xt.outgoing&&wt++}),!lt.linksTo.length||wt!==lt.linksTo.length},this.nodes.push(lt)),lt},B.destroy=X,B.generatePoints=function(){var U=this.chart,it={};W.prototype.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(function(ot){ot.linksFrom.length=0,ot.linksTo.length=0,ot.level=ot.options.level}),this.points.forEach(function(ot){rt(ot.from)&&(it[ot.from]||(it[ot.from]=this.createNode(ot.from)),it[ot.from].linksFrom.push(ot),ot.fromNode=it[ot.from],U.styledMode?ot.colorIndex=F(ot.options.colorIndex,it[ot.from].colorIndex):ot.color=ot.options.color||it[ot.from].color),rt(ot.to)&&(it[ot.to]||(it[ot.to]=this.createNode(ot.to)),it[ot.to].linksTo.push(ot),ot.toNode=it[ot.to]),ot.name=ot.name||ot.id},this),this.nodeLookup=it},B.setNodeState=Y}(et||(et={})),et}),tt(J,"Series/Networkgraph/Integrations.js",[J["Core/Globals.js"]],function(b){b.networkgraphIntegrations={verlet:{attractiveForceFunction:function(W,G){return(G-W)/W},repulsiveForceFunction:function(W,G){return(G-W)/W*(G>W?1:0)},barycenter:function(){var W=this.options.gravitationalConstant,G=this.barycenter.xFactor,rt=this.barycenter.yFactor;G=(G-(this.box.left+this.box.width)/2)*W,rt=(rt-(this.box.top+this.box.height)/2)*W,this.nodes.forEach(function(Z){Z.fixedPosition||(Z.plotX-=G/Z.mass/Z.degree,Z.plotY-=rt/Z.mass/Z.degree)})},repulsive:function(W,G,rt){G=G*this.diffTemperature/W.mass/W.degree,W.fixedPosition||(W.plotX+=rt.x*G,W.plotY+=rt.y*G)},attractive:function(W,G,rt){var Z=W.getMass(),H=-rt.x*G*this.diffTemperature;G=-rt.y*G*this.diffTemperature,W.fromNode.fixedPosition||(W.fromNode.plotX-=H*Z.fromNode/W.fromNode.degree,W.fromNode.plotY-=G*Z.fromNode/W.fromNode.degree),W.toNode.fixedPosition||(W.toNode.plotX+=H*Z.toNode/W.toNode.degree,W.toNode.plotY+=G*Z.toNode/W.toNode.degree)},integrate:function(W,G){var rt=-W.options.friction,Z=W.options.maxSpeed,H=(G.plotX+G.dispX-G.prevX)*rt;rt*=G.plotY+G.dispY-G.prevY;var F=Math.abs,et=F(H)/(H||1);F=F(rt)/(rt||1),H=et*Math.min(Z,Math.abs(H)),rt=F*Math.min(Z,Math.abs(rt)),G.prevX=G.plotX+G.dispX,G.prevY=G.plotY+G.dispY,G.plotX+=H,G.plotY+=rt,G.temperature=W.vectorLength({x:H,y:rt})},getK:function(W){return Math.pow(W.box.width*W.box.height/W.nodes.length,.5)}},euler:{attractiveForceFunction:function(W,G){return W*W/G},repulsiveForceFunction:function(W,G){return G*G/W},barycenter:function(){var W=this.options.gravitationalConstant,G=this.barycenter.xFactor,rt=this.barycenter.yFactor;this.nodes.forEach(function(Z){if(!Z.fixedPosition){var H=Z.getDegree();Z.dispX+=(G-Z.plotX)*W*(H*=1+H/2)/Z.degree,Z.dispY+=(rt-Z.plotY)*W*H/Z.degree}})},repulsive:function(W,G,rt,Z){W.dispX+=rt.x/Z*G/W.degree,W.dispY+=rt.y/Z*G/W.degree},attractive:function(W,G,rt,Z){var H=W.getMass(),F=rt.x/Z*G;G*=rt.y/Z,W.fromNode.fixedPosition||(W.fromNode.dispX-=F*H.fromNode/W.fromNode.degree,W.fromNode.dispY-=G*H.fromNode/W.fromNode.degree),W.toNode.fixedPosition||(W.toNode.dispX+=F*H.toNode/W.toNode.degree,W.toNode.dispY+=G*H.toNode/W.toNode.degree)},integrate:function(W,G){G.dispX+=G.dispX*W.options.friction,G.dispY+=G.dispY*W.options.friction;var rt=G.temperature=W.vectorLength({x:G.dispX,y:G.dispY});0!==rt&&(G.plotX+=G.dispX/rt*Math.min(Math.abs(G.dispX),W.temperature),G.plotY+=G.dispY/rt*Math.min(Math.abs(G.dispY),W.temperature))},getK:function(W){return Math.pow(W.box.width*W.box.height/W.nodes.length,.3)}}}}),tt(J,"Series/Networkgraph/QuadTree.js",[J["Core/Globals.js"],J["Core/Utilities.js"]],function(b,W){W=W.extend;var G=b.QuadTreeNode=function(rt){this.box=rt,this.boxSize=Math.min(rt.width,rt.height),this.nodes=[],this.body=this.isInternal=!1,this.isEmpty=!0};W(G.prototype,{insert:function(rt,Z){this.isInternal?this.nodes[this.getBoxPosition(rt)].insert(rt,Z-1):(this.isEmpty=!1,this.body?Z?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,Z-1),this.body=!0),this.nodes[this.getBoxPosition(rt)].insert(rt,Z-1)):((Z=new G({top:rt.plotX,left:rt.plotY,width:.1,height:.1})).body=rt,Z.isInternal=!1,this.nodes.push(Z)):(this.isInternal=!1,this.body=rt))},updateMassAndCenter:function(){var rt=0,Z=0,H=0;this.isInternal?(this.nodes.forEach(function(F){F.isEmpty||(rt+=F.mass,Z+=F.plotX*F.mass,H+=F.plotY*F.mass)}),Z/=rt,H/=rt):this.body&&(rt=this.body.mass,Z=this.body.plotX,H=this.body.plotY),this.mass=rt,this.plotX=Z,this.plotY=H},divideBox:function(){var rt=this.box.width/2,Z=this.box.height/2;this.nodes[0]=new G({left:this.box.left,top:this.box.top,width:rt,height:Z}),this.nodes[1]=new G({left:this.box.left+rt,top:this.box.top,width:rt,height:Z}),this.nodes[2]=new G({left:this.box.left+rt,top:this.box.top+Z,width:rt,height:Z}),this.nodes[3]=new G({left:this.box.left,top:this.box.top+Z,width:rt,height:Z})},getBoxPosition:function(rt){var Z=rt.plotY<this.box.top+this.box.height/2;return rt.plotX<this.box.left+this.box.width/2?Z?0:3:Z?1:2}}),W((b=b.QuadTree=function(rt,Z,H,F){this.box={left:rt,top:Z,width:H,height:F},this.maxDepth=25,this.root=new G(this.box,"0"),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}).prototype,{insertNodes:function(rt){rt.forEach(function(Z){this.root.insert(Z,this.maxDepth)},this)},visitNodeRecursive:function(rt,Z,H){var F;rt||(rt=this.root),rt===this.root&&Z&&(F=Z(rt)),!1!==F&&(rt.nodes.forEach(function(et){if(et.isInternal){if(Z&&(F=Z(et)),!1===F)return;this.visitNodeRecursive(et,Z,H)}else et.body&&Z&&Z(et.body);H&&H(et)},this),rt===this.root&&H&&H(rt))},calculateMassAndCenter:function(){this.visitNodeRecursive(null,null,function(rt){rt.updateMassAndCenter()})}})}),tt(J,"Series/Networkgraph/Layouts.js",[J["Core/Chart/Chart.js"],J["Core/Animation/AnimationUtilities.js"],J["Core/Globals.js"],J["Core/Utilities.js"]],function(b,W,G,rt){var Z=W.setAnimation;W=rt.addEvent;var H=rt.clamp,F=rt.defined,et=rt.extend,B=rt.isFunction,X=rt.pick;G.layouts={"reingold-fruchterman":function(){}},et(G.layouts["reingold-fruchterman"].prototype,{init:function(z){this.options=z,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=G.networkgraphIntegrations[z.integration],this.enableSimulation=z.enableSimulation,this.attractiveForce=X(z.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=X(z.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=z.approximation},updateSimulation:function(z){this.enableSimulation=X(z,this.options.enableSimulation)},start:function(){var z=this.series,Y=this.options;this.currentStep=0,this.forces=z[0]&&z[0].forces||[],this.chart=z[0]&&z[0].chart,this.initialRendering&&(this.initPositions(),z.forEach(function(q){q.finishedAnimating=!0,q.render()})),this.setK(),this.resetSimulation(Y),this.enableSimulation&&this.step()},step:function(){var z=this,Y=this.series;z.currentStep++,"barnes-hut"===z.approximation&&(z.createQuadTree(),z.quadTree.calculateMassAndCenter()),z.forces.forEach(function(q){z[q+"Forces"](z.temperature)}),z.applyLimits(z.temperature),z.temperature=z.coolDown(z.startTemperature,z.diffTemperature,z.currentStep),z.prevSystemTemperature=z.systemTemperature,z.systemTemperature=z.getSystemTemperature(),z.enableSimulation&&(Y.forEach(function(q){q.chart&&q.render()}),z.maxIterations--&&isFinite(z.temperature)&&!z.isStable()?(z.simulation&&G.win.cancelAnimationFrame(z.simulation),z.simulation=G.win.requestAnimationFrame(function(){z.step()})):z.simulation=!1)},stop:function(){this.simulation&&G.win.cancelAnimationFrame(this.simulation)},setArea:function(z,Y,q,U){this.box={left:z,top:Y,width:q,height:U}},setK:function(){this.k=this.options.linkLength||this.integration.getK(this)},addElementsToCollection:function(z,Y){z.forEach(function(q){-1===Y.indexOf(q)&&Y.push(q)})},removeElementFromCollection:function(z,Y){-1!==(z=Y.indexOf(z))&&Y.splice(z,1)},clear:function(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()},resetSimulation:function(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()},restartSimulation:function(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))},setMaxIterations:function(z){this.maxIterations=X(z,this.options.maxIterations)},setTemperature:function(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)},setDiffTemperature:function(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)},setInitialRendering:function(z){this.initialRendering=z},createQuadTree:function(){this.quadTree=new G.QuadTree(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)},initPositions:function(){var z=this.options.initialPositions;B(z)?(z.call(this),this.nodes.forEach(function(Y){F(Y.prevX)||(Y.prevX=Y.plotX),F(Y.prevY)||(Y.prevY=Y.plotY),Y.dispX=0,Y.dispY=0})):"circle"===z?this.setCircularPositions():this.setRandomPositions()},setCircularPositions:function(){function z(xt){xt.linksFrom.forEach(function(Ot){lt[Ot.toNode.id]||(lt[Ot.toNode.id]=!0,ot.push(Ot.toNode),z(Ot.toNode))})}var Y=this.box,q=this.nodes,U=2*Math.PI/(q.length+1),it=q.filter(function(xt){return 0===xt.linksTo.length}),ot=[],lt={},wt=this.options.initialPositionRadius;it.forEach(function(xt){ot.push(xt),z(xt)}),ot.length?q.forEach(function(xt){-1===ot.indexOf(xt)&&ot.push(xt)}):ot=q,ot.forEach(function(xt,Ot){xt.plotX=xt.prevX=X(xt.plotX,Y.width/2+wt*Math.cos(Ot*U)),xt.plotY=xt.prevY=X(xt.plotY,Y.height/2+wt*Math.sin(Ot*U)),xt.dispX=0,xt.dispY=0})},setRandomPositions:function(){function z(it){return(it=it*it/Math.PI)-Math.floor(it)}var Y=this.box,q=this.nodes,U=q.length+1;q.forEach(function(it,ot){it.plotX=it.prevX=X(it.plotX,Y.width*z(ot)),it.plotY=it.prevY=X(it.plotY,Y.height*z(U+ot)),it.dispX=0,it.dispY=0})},force:function(z){this.integration[z].apply(this,Array.prototype.slice.call(arguments,1))},barycenterForces:function(){this.getBarycenter(),this.force("barycenter")},getBarycenter:function(){var z=0,Y=0,q=0;return this.nodes.forEach(function(U){Y+=U.plotX*U.mass,q+=U.plotY*U.mass,z+=U.mass}),this.barycenter={x:Y,y:q,xFactor:Y/z,yFactor:q/z}},barnesHutApproximation:function(z,Y){var q=this.getDistXY(z,Y),U=this.vectorLength(q);if(z!==Y&&0!==U)if(Y.isInternal)if(Y.boxSize/U<this.options.theta&&0!==U){var it=this.repulsiveForce(U,this.k);this.force("repulsive",z,it*Y.mass,q,U);var ot=!1}else ot=!0;else it=this.repulsiveForce(U,this.k),this.force("repulsive",z,it*Y.mass,q,U);return ot},repulsiveForces:function(){var z=this;z.nodes.forEach("barnes-hut"===z.approximation?function(Y){z.quadTree.visitNodeRecursive(null,function(q){return z.barnesHutApproximation(Y,q)})}:function(Y){z.nodes.forEach(function(q){if(Y!==q&&!Y.fixedPosition){var U=z.getDistXY(Y,q),it=z.vectorLength(U);if(0!==it){var ot=z.repulsiveForce(it,z.k);z.force("repulsive",Y,ot*q.mass,U,it)}}})})},attractiveForces:function(){var Y,q,U,z=this;z.links.forEach(function(it){it.fromNode&&it.toNode&&(Y=z.getDistXY(it.fromNode,it.toNode),0!==(q=z.vectorLength(Y))&&(U=z.attractiveForce(q,z.k),z.force("attractive",it,U,Y,q)))})},applyLimits:function(){var z=this;z.nodes.forEach(function(Y){Y.fixedPosition||(z.integration.integrate(z,Y),z.applyLimitBox(Y,z.box),Y.dispX=0,Y.dispY=0)})},applyLimitBox:function(z,Y){var q=z.radius;z.plotX=H(z.plotX,Y.left+q,Y.width-q),z.plotY=H(z.plotY,Y.top+q,Y.height-q)},coolDown:function(z,Y,q){return z-Y*q},isStable:function(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature},getSystemTemperature:function(){return this.nodes.reduce(function(z,Y){return z+Y.temperature},0)},vectorLength:function(z){return Math.sqrt(z.x*z.x+z.y*z.y)},getDistR:function(z,Y){return z=this.getDistXY(z,Y),this.vectorLength(z)},getDistXY:function(z,Y){var q=z.plotX-Y.plotX;return{x:q,y:z=z.plotY-Y.plotY,absX:Math.abs(q),absY:Math.abs(z)}}}),W(b,"predraw",function(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(function(z){z.stop()})}),W(b,"render",function(){function z(U){U.maxIterations--&&isFinite(U.temperature)&&!U.isStable()&&!U.enableSimulation&&(U.beforeStep&&U.beforeStep(),U.step(),q=!1,Y=!0)}var Y=!1;if(this.graphLayoutsLookup){for(Z(!1,this),this.graphLayoutsLookup.forEach(function(U){U.start()});!q;){var q=!0;this.graphLayoutsLookup.forEach(z)}Y&&this.series.forEach(function(U){U&&U.layout&&U.render()})}}),W(b,"beforePrint",function(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(function(z){z.updateSimulation(!1)}),this.redraw())}),W(b,"afterPrint",function(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(function(z){z.updateSimulation()}),this.redraw()})}),tt(J,"Series/Networkgraph/DraggableNodes.js",[J["Core/Chart/Chart.js"],J["Core/Globals.js"],J["Core/Utilities.js"]],function(b,W,G){var rt=G.addEvent;W.dragNodesMixin={onMouseDown:function(Z,H){H=this.chart.pointer.normalize(H),Z.fixedPosition={chartX:H.chartX,chartY:H.chartY,plotX:Z.plotX,plotY:Z.plotY},Z.inDragMode=!0},onMouseMove:function(Z,H){if(Z.fixedPosition&&Z.inDragMode){var F=this.chart,et=F.pointer.normalize(H);H=Z.fixedPosition.chartX-et.chartX,et=Z.fixedPosition.chartY-et.chartY;var B=void 0,X=void 0,z=F.graphLayoutsLookup;(5<Math.abs(H)||5<Math.abs(et))&&F.isInsidePlot(B=Z.fixedPosition.plotX-H,X=Z.fixedPosition.plotY-et)&&(Z.plotX=B,Z.plotY=X,Z.hasDragged=!0,this.redrawHalo(Z),z.forEach(function(Y){Y.restartSimulation()}))}},onMouseUp:function(Z,H){Z.fixedPosition&&(Z.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),Z.inDragMode=Z.hasDragged=!1,this.options.fixedDraggable||delete Z.fixedPosition)},redrawHalo:function(Z){Z&&this.halo&&this.halo.attr({d:Z.haloPath(this.options.states.hover.halo.size)})}},rt(b,"load",function(){var H,F,et,Z=this;Z.container&&(H=rt(Z.container,"mousedown",function(B){var X=Z.hoverPoint;X&&X.series&&X.series.hasDraggableNodes&&X.series.options.draggable&&(X.series.onMouseDown(X,B),F=rt(Z.container,"mousemove",function(z){return X&&X.series&&X.series.onMouseMove(X,z)}),et=rt(Z.container.ownerDocument,"mouseup",function(z){return F(),et(),X&&X.series&&X.series.onMouseUp(X,z)}))})),rt(Z,"destroy",function(){H()})})}),tt(J,"Series/Networkgraph/Networkgraph.js",[J["Core/Globals.js"],J["Series/NodesComposition.js"],J["Core/Series/Point.js"],J["Core/Series/Series.js"],J["Core/Series/SeriesRegistry.js"],J["Core/Utilities.js"]],function(b,W,G,rt,Z,H){var ot,F=this&&this.__extends||(ot=function(lt,wt){return(ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(xt,Ot){xt.__proto__=Ot}||function(xt,Ot){for(var Tt in Ot)Ot.hasOwnProperty(Tt)&&(xt[Tt]=Ot[Tt])})(lt,wt)},function(lt,wt){function xt(){this.constructor=lt}ot(lt,wt),lt.prototype=null===wt?Object.create(wt):(xt.prototype=wt.prototype,new xt)}),et=Z.seriesTypes,B=H.addEvent,X=H.css,z=H.defined,Y=H.extend,q=H.merge,U=H.pick,it=b.dragNodesMixin;return H=function(ot){function lt(){var wt=null!==ot&&ot.apply(this,arguments)||this;return wt.data=void 0,wt.nodes=void 0,wt.options=void 0,wt.points=void 0,wt}return F(lt,ot),lt.defaultOptions=q(rt.defaultOptions,{stickyTracking:!1,inactiveOtherPoints:!0,marker:{enabled:!0,states:{inactive:{opacity:.3,animation:{duration:50}}}},states:{inactive:{linkOpacity:.3,animation:{duration:50}}},dataLabels:{formatter:function(){return this.key},linkFormatter:function(){return this.point.fromNode.name+"<br>"+this.point.toNode.name},linkTextPath:{enabled:!0},textPath:{enabled:!1},style:{transition:"opacity 2000ms"}},link:{color:"rgba(100, 100, 100, 0.5)",width:1},draggable:!0,layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:1,enableSimulation:!1,theta:.5,maxSpeed:10,approximation:"none",type:"reingold-fruchterman",integration:"euler",maxIterations:1e3,gravitationalConstant:.0625,friction:-.981},showInLegend:!1}),lt}(rt),Y(H.prototype,{forces:["barycenter","repulsive","attractive"],hasDraggableNodes:!0,drawGraph:void 0,isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,pointArrayMap:["from","to"],trackerGroups:["group","markerGroup","dataLabelsGroup"],drawTracker:et.column.prototype.drawTracker,animate:void 0,buildKDTree:b.noop,createNode:W.createNode,destroy:function(){this.layout&&this.layout.removeElementFromCollection(this,this.layout.series),W.destroy.call(this)},init:function(){var ot=this;return rt.prototype.init.apply(this,arguments),B(this,"updatedData",function(){ot.layout&&ot.layout.stop()}),B(this,"afterUpdate",function(){ot.nodes.forEach(function(lt){lt&&lt.series&&lt.resolveColor()})}),this},generatePoints:function(){var ot;for(W.generatePoints.apply(this,arguments),this.options.nodes&&this.options.nodes.forEach(function(wt){this.nodeLookup[wt.id]||(this.nodeLookup[wt.id]=this.createNode(wt.id))},this),ot=this.nodes.length-1;0<=ot;ot--){var lt=this.nodes[ot];lt.degree=lt.getDegree(),lt.radius=U(lt.marker&&lt.marker.radius,this.options.marker&&this.options.marker.radius,0),this.nodeLookup[lt.id]||lt.remove()}this.data.forEach(function(wt){wt.formatPrefix="link"}),this.indexateNodes()},getPointsCollection:function(){return this.nodes||[]},indexateNodes:function(){this.nodes.forEach(function(ot,lt){ot.index=lt})},markerAttribs:function(ot,lt){return lt=rt.prototype.markerAttribs.call(this,ot,lt),z(ot.plotY)||(lt.y=0),lt.x=(ot.plotX||0)-(lt.width||0)/2,lt},translate:function(){this.processedXData||this.processData(),this.generatePoints(),this.deferLayout(),this.nodes.forEach(function(ot){ot.isInside=!0,ot.linksFrom.forEach(function(lt){lt.shapeType="path",lt.y=1})})},deferLayout:function(){var ot=this.options.layoutAlgorithm,lt=this.chart.graphLayoutsStorage,wt=this.chart.graphLayoutsLookup,xt=this.chart.options.chart;if(this.visible){lt||(this.chart.graphLayoutsStorage=lt={},this.chart.graphLayoutsLookup=wt=[]);var Ot=lt[ot.type];Ot||(ot.enableSimulation=z(xt.forExport)?!xt.forExport:ot.enableSimulation,lt[ot.type]=Ot=new b.layouts[ot.type],Ot.init(ot),wt.splice(Ot.index,0,Ot)),this.layout=Ot,Ot.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),Ot.addElementsToCollection([this],Ot.series),Ot.addElementsToCollection(this.nodes,Ot.nodes),Ot.addElementsToCollection(this.points,Ot.links)}},render:function(){var ot=this.points,lt=this.chart.hoverPoint,wt=[];this.points=this.nodes,et.line.prototype.render.call(this),this.points=ot,ot.forEach(function(xt){xt.fromNode&&xt.toNode&&(xt.renderLink(),xt.redrawLink())}),lt&&lt.series===this&&this.redrawHalo(lt),this.chart.hasRendered&&!this.options.dataLabels.allowOverlap&&(this.nodes.concat(this.points).forEach(function(xt){xt.dataLabel&&wt.push(xt.dataLabel)}),this.chart.hideOverlappingLabels(wt))},drawDataLabels:function(){var ot=this.options.dataLabels.textPath;rt.prototype.drawDataLabels.apply(this,arguments),this.points=this.data,this.options.dataLabels.textPath=this.options.dataLabels.linkTextPath,rt.prototype.drawDataLabels.apply(this,arguments),this.points=this.nodes,this.options.dataLabels.textPath=ot},pointAttribs:function(ot,lt){var wt=lt||ot&&ot.state||"normal";return lt=rt.prototype.pointAttribs.call(this,ot,wt),wt=this.options.states[wt],ot&&!ot.isNode&&(lt=ot.getLinkAttributes(),wt&&(lt={stroke:wt.linkColor||lt.stroke,dashstyle:wt.linkDashStyle||lt.dashstyle,opacity:U(wt.linkOpacity,lt.opacity),"stroke-width":wt.linkColor||lt["stroke-width"]})),lt},redrawHalo:it.redrawHalo,onMouseDown:it.onMouseDown,onMouseMove:it.onMouseMove,onMouseUp:it.onMouseUp,setState:function(ot,lt){lt?(this.points=this.nodes.concat(this.data),rt.prototype.setState.apply(this,arguments),this.points=this.data):rt.prototype.setState.apply(this,arguments),this.layout.simulation||ot||this.render()}}),it=function(ot){function lt(){var wt=null!==ot&&ot.apply(this,arguments)||this;return wt.degree=void 0,wt.linksFrom=void 0,wt.linksTo=void 0,wt.options=void 0,wt.radius=void 0,wt.series=void 0,wt.toNode=void 0,wt}return F(lt,ot),lt}(rt.prototype.pointClass),Y(it.prototype,{setState:W.setNodeState,init:function(){return G.prototype.init.apply(this,arguments),this.series.options.draggable&&!this.series.chart.styledMode&&(B(this,"mouseOver",function(){X(this.series.chart.container,{cursor:"move"})}),B(this,"mouseOut",function(){X(this.series.chart.container,{cursor:"default"})})),this},getDegree:function(){var ot=this.isNode?this.linksFrom.length+this.linksTo.length:0;return 0===ot?1:ot},getLinkAttributes:function(){var ot=this.series.options.link,lt=this.options;return{"stroke-width":U(lt.width,ot.width),stroke:lt.color||ot.color,dashstyle:lt.dashStyle||ot.dashStyle,opacity:U(lt.opacity,ot.opacity,1)}},renderLink:function(){if(!this.graphic&&(this.graphic=this.series.chart.renderer.path(this.getLinkPath()).addClass(this.getClassName(),!0).add(this.series.group),!this.series.chart.styledMode)){var ot=this.series.pointAttribs(this);this.graphic.attr(ot),(this.dataLabels||[]).forEach(function(lt){lt&&lt.attr({opacity:ot.opacity})})}},redrawLink:function(){var ot=this.getLinkPath();if(this.graphic){if(this.shapeArgs={d:ot},!this.series.chart.styledMode){var lt=this.series.pointAttribs(this);this.graphic.attr(lt),(this.dataLabels||[]).forEach(function(xt){xt&&xt.attr({opacity:lt.opacity})})}this.graphic.animate(this.shapeArgs);var wt=ot[0];ot=ot[1],"M"===wt[0]&&"L"===ot[0]&&(this.plotX=(wt[1]+ot[1])/2,this.plotY=(wt[2]+ot[2])/2)}},getMass:function(){var ot=this.fromNode.mass,lt=this.toNode.mass,wt=ot+lt;return{fromNode:1-ot/wt,toNode:1-lt/wt}},getLinkPath:function(){var ot=this.fromNode,lt=this.toNode;return ot.plotX>lt.plotX&&(ot=this.toNode,lt=this.fromNode),[["M",ot.plotX||0,ot.plotY||0],["L",lt.plotX||0,lt.plotY||0]]},isValid:function(){return!this.isNode||z(this.id)},remove:function(ot,lt){var Ot,wt=this.series,xt=wt.options.nodes||[],Tt=xt.length;if(this.isNode){for(wt.points=[],[].concat(this.linksFrom).concat(this.linksTo).forEach(function(Et){-1<(Ot=Et.fromNode.linksFrom.indexOf(Et))&&Et.fromNode.linksFrom.splice(Ot,1),-1<(Ot=Et.toNode.linksTo.indexOf(Et))&&Et.toNode.linksTo.splice(Ot,1),rt.prototype.removePoint.call(wt,wt.data.indexOf(Et),!1,!1)}),wt.points=wt.data.slice(),wt.nodes.splice(wt.nodes.indexOf(this),1);Tt--;)if(xt[Tt].id===this.options.id){wt.options.nodes.splice(Tt,1);break}this&&this.destroy(),wt.isDirty=!0,wt.isDirtyData=!0,ot&&wt.chart.redraw(ot)}else wt.removePoint(wt.data.indexOf(this),ot,lt)},destroy:function(){return this.isNode&&this.linksFrom.concat(this.linksTo).forEach(function(ot){ot.destroyElements&&ot.destroyElements()}),this.series.layout.removeElementFromCollection(this,this.series.layout[this.isNode?"nodes":"links"]),G.prototype.destroy.apply(this,arguments)}}),H.prototype.pointClass=it,Z.registerSeriesType("networkgraph",H),H}),tt(J,"masters/modules/networkgraph.src.js",[],function(){})},Ee.exports?(J.default=J,Ee.exports=J):(ct=[ut(4317)],void 0!==(f=function(tt){return J(tt),J.Highcharts=tt,J}.apply(Q,ct))&&(Ee.exports=f))},1883:(Ee,Q,ut)=>{"use strict";var ct=ut(4658),f=ut(1171),J=ut(4725);function tt(b){if(!(this instanceof tt))return new tt(b);this.hash=b.hash,this.predResist=!!b.predResist,this.outLen=this.hash.outSize,this.minEntropy=b.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var W=f.toArray(b.entropy,b.entropyEnc||"hex"),G=f.toArray(b.nonce,b.nonceEnc||"hex"),rt=f.toArray(b.pers,b.persEnc||"hex");J(W.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(W,G,rt)}Ee.exports=tt,tt.prototype._init=function(W,G,rt){var Z=W.concat(G).concat(rt);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var H=0;H<this.V.length;H++)this.K[H]=0,this.V[H]=1;this._update(Z),this._reseed=1,this.reseedInterval=281474976710656},tt.prototype._hmac=function(){return new ct.hmac(this.hash,this.K)},tt.prototype._update=function(W){var G=this._hmac().update(this.V).update([0]);W&&(G=G.update(W)),this.K=G.digest(),this.V=this._hmac().update(this.V).digest(),W&&(this.K=this._hmac().update(this.V).update([1]).update(W).digest(),this.V=this._hmac().update(this.V).digest())},tt.prototype.reseed=function(W,G,rt,Z){"string"!=typeof G&&(Z=rt,rt=G,G=null),W=f.toArray(W,G),rt=f.toArray(rt,Z),J(W.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(W.concat(rt||[])),this._reseed=1},tt.prototype.generate=function(W,G,rt,Z){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof G&&(Z=rt,rt=G,G=null),rt&&(rt=f.toArray(rt,Z||"hex"),this._update(rt));for(var H=[];H.length<W;)this.V=this._hmac().update(this.V).digest(),H=H.concat(this.V);var F=H.slice(0,W);return this._update(rt),this._reseed++,f.encode(F,G)}},1208:(Ee,Q)=>{Q.read=function(ut,ct,f,J,tt){var b,W,G=8*tt-J-1,rt=(1<<G)-1,Z=rt>>1,H=-7,F=f?tt-1:0,et=f?-1:1,B=ut[ct+F];for(F+=et,b=B&(1<<-H)-1,B>>=-H,H+=G;H>0;b=256*b+ut[ct+F],F+=et,H-=8);for(W=b&(1<<-H)-1,b>>=-H,H+=J;H>0;W=256*W+ut[ct+F],F+=et,H-=8);if(0===b)b=1-Z;else{if(b===rt)return W?NaN:1/0*(B?-1:1);W+=Math.pow(2,J),b-=Z}return(B?-1:1)*W*Math.pow(2,b-J)},Q.write=function(ut,ct,f,J,tt,b){var W,G,rt,Z=8*b-tt-1,H=(1<<Z)-1,F=H>>1,et=23===tt?Math.pow(2,-24)-Math.pow(2,-77):0,B=J?0:b-1,X=J?1:-1,z=ct<0||0===ct&&1/ct<0?1:0;for(ct=Math.abs(ct),isNaN(ct)||ct===1/0?(G=isNaN(ct)?1:0,W=H):(W=Math.floor(Math.log(ct)/Math.LN2),ct*(rt=Math.pow(2,-W))<1&&(W--,rt*=2),(ct+=W+F>=1?et/rt:et*Math.pow(2,1-F))*rt>=2&&(W++,rt/=2),W+F>=H?(G=0,W=H):W+F>=1?(G=(ct*rt-1)*Math.pow(2,tt),W+=F):(G=ct*Math.pow(2,F-1)*Math.pow(2,tt),W=0));tt>=8;ut[f+B]=255&G,B+=X,G/=256,tt-=8);for(W=W<<tt|G,Z+=tt;Z>0;ut[f+B]=255&W,B+=X,W/=256,Z-=8);ut[f+B-X]|=128*z}},3516:Ee=>{Ee.exports="function"==typeof Object.create?function(ut,ct){ct&&(ut.super_=ct,ut.prototype=Object.create(ct.prototype,{constructor:{value:ut,enumerable:!1,writable:!0,configurable:!0}}))}:function(ut,ct){if(ct){ut.super_=ct;var f=function(){};f.prototype=ct.prototype,ut.prototype=new f,ut.prototype.constructor=ut}}},3783:(Ee,Q,ut)=>{Ee.exports=ut(967)},967:(Ee,Q,ut)=>{var ct=ut(7702),f={HS256:"sha256",HS384:"sha384",HS512:"sha512",RS256:"RSA-SHA256"},J={HS256:"hmac",HS384:"hmac",HS512:"hmac",RS256:"sign"},tt=Ee.exports;function G(et,B,X,z){var Y;if("hmac"===z)Y=ct.createHmac(X,B).update(et).digest("base64");else{if("sign"!=z)throw new Error("Algorithm type not recognized");Y=ct.createSign(X).update(et).sign(B,"base64")}return F(Y)}function rt(et){return Buffer.from(Z(et),"base64").toString()}function Z(et){return(et+=new Array(5-et.length%4).join("=")).replace(/\-/g,"+").replace(/_/g,"/")}function H(et){return F(Buffer.from(et).toString("base64"))}function F(et){return et.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}tt.version="0.5.6",tt.decode=function(B,X,z,Y){if(!B)throw new Error("No token supplied");var q=B.split(".");if(3!==q.length)throw new Error("Not enough or too many segments");var U=q[0],it=q[1],ot=q[2],lt=JSON.parse(rt(U)),wt=JSON.parse(rt(it));if(!z){!Y&&/BEGIN( RSA)? PUBLIC KEY/.test(X.toString())&&(Y="RS256");var xt=f[Y||lt.alg],Ot=J[Y||lt.alg];if(!xt||!Ot)throw new Error("Algorithm not supported");if(!function(et,B,X,z,Y){if("hmac"===z)return Y===G(et,B,X,z);if("sign"==z)return ct.createVerify(X).update(et).verify(B,Z(Y),"base64");throw new Error("Algorithm type not recognized")}([U,it].join("."),X,xt,Ot,ot))throw new Error("Signature verification failed");if(wt.nbf&&Date.now()<1e3*wt.nbf)throw new Error("Token not yet active");if(wt.exp&&Date.now()>1e3*wt.exp)throw new Error("Token expired")}return wt},tt.encode=function(B,X,z,Y){if(!X)throw new Error("Require key");z||(z="HS256");var q=f[z],U=J[z];if(!q||!U)throw new Error("Algorithm not supported");var it={typ:"JWT",alg:z};Y&&Y.header&&function(et,B){for(var X in B)B.hasOwnProperty(X)&&(et[X]=B[X])}(it,Y.header);var ot=[];return ot.push(H(JSON.stringify(it))),ot.push(H(JSON.stringify(B))),ot.push(G(ot.join("."),X,q,U)),ot.join(".")}},5122:Ee=>{var f=/^\s+|\s+$/g,J=/^[-+]0x[0-9a-f]+$/i,tt=/^0b[01]+$/i,b=/^0o[0-7]+$/i,W=parseInt,G="object"==typeof global&&global&&global.Object===Object&&global,rt="object"==typeof self&&self&&self.Object===Object&&self,Z=G||rt||Function("return this")(),F=Object.prototype.toString,et=Math.max,B=Math.min,X=function(){return Z.Date.now()};function Y(ot){var lt=typeof ot;return!!ot&&("object"==lt||"function"==lt)}function it(ot){if("number"==typeof ot)return ot;if(function(ot){return"symbol"==typeof ot||function(ot){return!!ot&&"object"==typeof ot}(ot)&&"[object Symbol]"==F.call(ot)}(ot))return NaN;if(Y(ot)){var lt="function"==typeof ot.valueOf?ot.valueOf():ot;ot=Y(lt)?lt+"":lt}if("string"!=typeof ot)return 0===ot?ot:+ot;ot=ot.replace(f,"");var wt=tt.test(ot);return wt||b.test(ot)?W(ot.slice(2),wt?2:8):J.test(ot)?NaN:+ot}Ee.exports=function(ot,lt,wt){var xt,Ot,Tt,Et,A,o,c=0,g=!1,p=!1,w=!0;if("function"!=typeof ot)throw new TypeError("Expected a function");function S(St){var Xt=xt,te=Ot;return xt=Ot=void 0,c=St,Et=ot.apply(te,Xt)}function T(St){return c=St,A=setTimeout(k,lt),g?S(St):Et}function h(St){var Xt=St-o;return void 0===o||Xt>=lt||Xt<0||p&&St-c>=Tt}function k(){var St=X();if(h(St))return ft(St);A=setTimeout(k,function(St){var Vt=lt-(St-o);return p?B(Vt,Tt-(St-c)):Vt}(St))}function ft(St){return A=void 0,w&&xt?S(St):(xt=Ot=void 0,Et)}function Mt(){var St=X(),Xt=h(St);if(xt=arguments,Ot=this,o=St,Xt){if(void 0===A)return T(o);if(p)return A=setTimeout(k,lt),S(o)}return void 0===A&&(A=setTimeout(k,lt)),Et}return lt=it(lt)||0,Y(wt)&&(g=!!wt.leading,Tt=(p="maxWait"in wt)?et(it(wt.maxWait)||0,lt):Tt,w="trailing"in wt?!!wt.trailing:w),Mt.cancel=function(){void 0!==A&&clearTimeout(A),c=0,xt=o=Ot=A=void 0},Mt.flush=function(){return void 0===A?Et:ft(X())},Mt}},7674:function(Ee){Ee.exports=function(){"use strict";function Q(ne,Qt){for(var Zt=0;Zt<Qt.length;Zt++){var Ut=Qt[Zt];Ut.enumerable=Ut.enumerable||!1,Ut.configurable=!0,"value"in Ut&&(Ut.writable=!0),Object.defineProperty(ne,Ut.key,Ut)}}function f(ne,Qt){(null==Qt||Qt>ne.length)&&(Qt=ne.length);for(var Zt=0,Ut=new Array(Qt);Zt<Qt;Zt++)Ut[Zt]=ne[Zt];return Ut}function J(ne,Qt){var Zt="undefined"!=typeof Symbol&&ne[Symbol.iterator]||ne["@@iterator"];if(Zt)return(Zt=Zt.call(ne)).next.bind(Zt);if(Array.isArray(ne)||(Zt=function(ne,Qt){if(ne){if("string"==typeof ne)return f(ne,Qt);var Zt=Object.prototype.toString.call(ne).slice(8,-1);if("Object"===Zt&&ne.constructor&&(Zt=ne.constructor.name),"Map"===Zt||"Set"===Zt)return Array.from(ne);if("Arguments"===Zt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Zt))return f(ne,Qt)}}(ne))||Qt&&ne&&"number"==typeof ne.length){Zt&&(ne=Zt);var Ut=0;return function(){return Ut>=ne.length?{done:!0}:{done:!1,value:ne[Ut++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var tt={exports:{}};function b(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}tt.exports={defaults:{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:b,changeDefaults:function(ne){tt.exports.defaults=ne}};var G=/[&<>"']/,rt=/[&<>"']/g,Z=/[<>"']|&(?!#?\w+;)/,H=/[<>"']|&(?!#?\w+;)/g,F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},et=function(Qt){return F[Qt]};var X=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function z(ne){return ne.replace(X,function(Qt,Zt){return"colon"===(Zt=Zt.toLowerCase())?":":"#"===Zt.charAt(0)?"x"===Zt.charAt(1)?String.fromCharCode(parseInt(Zt.substring(2),16)):String.fromCharCode(+Zt.substring(1)):""})}var Y=/(^|[^\[])\^/g;var U=/[^\w:]/g,it=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;var lt={},wt=/^[^:]+:\/*[^/]*$/,xt=/^([^:]+:)[\s\S]*$/,Ot=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Tt(ne,Qt){lt[" "+ne]||(lt[" "+ne]=wt.test(ne)?ne+"/":c(ne,"/",!0));var Zt=-1===(ne=lt[" "+ne]).indexOf(":");return"//"===Qt.substring(0,2)?Zt?Qt:ne.replace(xt,"$1")+Qt:"/"===Qt.charAt(0)?Zt?Qt:ne.replace(Ot,"$1")+Qt:ne+Qt}function c(ne,Qt,Zt){var Ut=ne.length;if(0===Ut)return"";for(var xe=0;xe<Ut;){var ue=ne.charAt(Ut-xe-1);if(ue!==Qt||Zt){if(ue===Qt||!Zt)break;xe++}else xe++}return ne.substr(0,Ut-xe)}var S_escape=function(ne,Qt){if(Qt){if(G.test(ne))return ne.replace(rt,et)}else if(Z.test(ne))return ne.replace(H,et);return ne},S_unescape=z,S_edit=function(ne,Qt){ne=ne.source||ne,Qt=Qt||"";var Zt={replace:function(xe,ue){return ue=(ue=ue.source||ue).replace(Y,"$1"),ne=ne.replace(xe,ue),Zt},getRegex:function(){return new RegExp(ne,Qt)}};return Zt},S_cleanUrl=function(ne,Qt,Zt){if(ne){var Ut;try{Ut=decodeURIComponent(z(Zt)).replace(U,"").toLowerCase()}catch(xe){return null}if(0===Ut.indexOf("javascript:")||0===Ut.indexOf("vbscript:")||0===Ut.indexOf("data:"))return null}Qt&&!it.test(Zt)&&(Zt=Tt(Qt,Zt));try{Zt=encodeURI(Zt).replace(/%25/g,"%")}catch(xe){return null}return Zt},S_noopTest={exec:function(){}},S_merge=function(ne){for(var Zt,Ut,Qt=1;Qt<arguments.length;Qt++)for(Ut in Zt=arguments[Qt])Object.prototype.hasOwnProperty.call(Zt,Ut)&&(ne[Ut]=Zt[Ut]);return ne},S_checkSanitizeDeprecation=function(ne){ne&&ne.sanitize&&!ne.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},S_repeatString=function(ne,Qt){if(Qt<1)return"";for(var Zt="";Qt>1;)1&Qt&&(Zt+=ne),Qt>>=1,ne+=ne;return Zt+ne},T=tt.exports.defaults,C=c,h=function(ne,Qt){var Ut=ne.replace(/\|/g,function(ue,Re,pi){for(var he=!1,$e=Re;--$e>=0&&"\\"===pi[$e];)he=!he;return he?"|":" |"}).split(/ \|/),xe=0;if(Ut.length>Qt)Ut.splice(Qt);else for(;Ut.length<Qt;)Ut.push("");for(;xe<Ut.length;xe++)Ut[xe]=Ut[xe].trim().replace(/\\\|/g,"|");return Ut},k=S_escape,ft=function(ne,Qt){if(-1===ne.indexOf(Qt[1]))return-1;for(var Zt=ne.length,Ut=0,xe=0;xe<Zt;xe++)if("\\"===ne[xe])xe++;else if(ne[xe]===Qt[0])Ut++;else if(ne[xe]===Qt[1]&&--Ut<0)return xe;return-1};function at(ne,Qt,Zt){var Ut=Qt.href,xe=Qt.title?k(Qt.title):null,ue=ne[1].replace(/\\([\[\]])/g,"$1");return"!"!==ne[0].charAt(0)?{type:"link",raw:Zt,href:Ut,title:xe,text:ue}:{type:"image",raw:Zt,href:Ut,title:xe,text:k(ue)}}var Mt=function(){function ne(Zt){this.options=Zt||T}var Qt=ne.prototype;return Qt.space=function(Ut){var xe=this.rules.block.newline.exec(Ut);if(xe)return xe[0].length>1?{type:"space",raw:xe[0]}:{raw:"\n"}},Qt.code=function(Ut){var xe=this.rules.block.code.exec(Ut);if(xe){var ue=xe[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:xe[0],codeBlockStyle:"indented",text:this.options.pedantic?ue:C(ue,"\n")}}},Qt.fences=function(Ut){var xe=this.rules.block.fences.exec(Ut);if(xe){var ue=xe[0],Re=function(ne,Qt){var Zt=ne.match(/^(\s+)(?:```)/);if(null===Zt)return Qt;var Ut=Zt[1];return Qt.split("\n").map(function(xe){var ue=xe.match(/^\s+/);return null===ue?xe:ue[0].length>=Ut.length?xe.slice(Ut.length):xe}).join("\n")}(ue,xe[3]||"");return{type:"code",raw:ue,lang:xe[2]?xe[2].trim():xe[2],text:Re}}},Qt.heading=function(Ut){var xe=this.rules.block.heading.exec(Ut);if(xe){var ue=xe[2].trim();if(/#$/.test(ue)){var Re=C(ue,"#");(this.options.pedantic||!Re||/ $/.test(Re))&&(ue=Re.trim())}return{type:"heading",raw:xe[0],depth:xe[1].length,text:ue}}},Qt.nptable=function(Ut){var xe=this.rules.block.nptable.exec(Ut);if(xe){var ue={type:"table",header:h(xe[1].replace(/^ *| *\| *$/g,"")),align:xe[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:xe[3]?xe[3].replace(/\n$/,"").split("\n"):[],raw:xe[0]};if(ue.header.length===ue.align.length){var pi,Re=ue.align.length;for(pi=0;pi<Re;pi++)ue.align[pi]=/^ *-+: *$/.test(ue.align[pi])?"right":/^ *:-+: *$/.test(ue.align[pi])?"center":/^ *:-+ *$/.test(ue.align[pi])?"left":null;for(Re=ue.cells.length,pi=0;pi<Re;pi++)ue.cells[pi]=h(ue.cells[pi],ue.header.length);return ue}}},Qt.hr=function(Ut){var xe=this.rules.block.hr.exec(Ut);if(xe)return{type:"hr",raw:xe[0]}},Qt.blockquote=function(Ut){var xe=this.rules.block.blockquote.exec(Ut);if(xe){var ue=xe[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:xe[0],text:ue}}},Qt.list=function(Ut){var xe=this.rules.block.list.exec(Ut);if(xe){var Ei,zi,ir,bi,Li,Ln,Kn,pr,Jn,ue=xe[0],Re=xe[2],pi=Re.length>1,he={type:"list",raw:ue,ordered:pi,start:pi?+Re.slice(0,-1):"",loose:!1,items:[]},$e=xe[0].match(this.rules.block.item),_n=!1,Ni=$e.length;ir=this.rules.block.listItemStart.exec($e[0]);for(var xi=0;xi<Ni;xi++){if(ue=Ei=$e[xi],this.options.pedantic||(Jn=Ei.match(new RegExp("\\n\\s*\\n {0,"+(ir[0].length-1)+"}\\S")))&&(Li=Ei.length-Jn.index+$e.slice(xi+1).join("\n").length,he.raw=he.raw.substring(0,he.raw.length-Li),ue=Ei=Ei.substring(0,Jn.index),Ni=xi+1),xi!==Ni-1){if(bi=this.rules.block.listItemStart.exec($e[xi+1]),this.options.pedantic?bi[1].length>ir[1].length:bi[1].length>=ir[0].length||bi[1].length>3){$e.splice(xi,2,$e[xi]+(!this.options.pedantic&&bi[1].length<ir[0].length&&!$e[xi].match(/\n$/)?"":"\n")+$e[xi+1]),xi--,Ni--;continue}(!this.options.pedantic||this.options.smartLists?bi[2][bi[2].length-1]!==Re[Re.length-1]:pi===(1===bi[2].length))&&(Li=$e.slice(xi+1).join("\n").length,he.raw=he.raw.substring(0,he.raw.length-Li),xi=Ni-1),ir=bi}zi=Ei.length,~(Ei=Ei.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(zi-=Ei.length,Ei=Ei.replace(this.options.pedantic?/^ {1,4}/gm:new RegExp("^ {1,"+zi+"}","gm"),"")),Ei=C(Ei,"\n"),xi!==Ni-1&&(ue+="\n"),Ln=_n||/\n\n(?!\s*$)/.test(ue),xi!==Ni-1&&(_n="\n\n"===ue.slice(-2),Ln||(Ln=_n)),Ln&&(he.loose=!0),this.options.gfm&&(pr=void 0,(Kn=/^\[[ xX]\] /.test(Ei))&&(pr=" "!==Ei[1],Ei=Ei.replace(/^\[[ xX]\] +/,""))),he.items.push({type:"list_item",raw:ue,task:Kn,checked:pr,loose:Ln,text:Ei})}return he}},Qt.html=function(Ut){var xe=this.rules.block.html.exec(Ut);if(xe)return{type:this.options.sanitize?"paragraph":"html",raw:xe[0],pre:!this.options.sanitizer&&("pre"===xe[1]||"script"===xe[1]||"style"===xe[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(xe[0]):k(xe[0]):xe[0]}},Qt.def=function(Ut){var xe=this.rules.block.def.exec(Ut);if(xe)return xe[3]&&(xe[3]=xe[3].substring(1,xe[3].length-1)),{type:"def",tag:xe[1].toLowerCase().replace(/\s+/g," "),raw:xe[0],href:xe[2],title:xe[3]}},Qt.table=function(Ut){var xe=this.rules.block.table.exec(Ut);if(xe){var ue={type:"table",header:h(xe[1].replace(/^ *| *\| *$/g,"")),align:xe[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:xe[3]?xe[3].replace(/\n$/,"").split("\n"):[]};if(ue.header.length===ue.align.length){ue.raw=xe[0];var pi,Re=ue.align.length;for(pi=0;pi<Re;pi++)ue.align[pi]=/^ *-+: *$/.test(ue.align[pi])?"right":/^ *:-+: *$/.test(ue.align[pi])?"center":/^ *:-+ *$/.test(ue.align[pi])?"left":null;for(Re=ue.cells.length,pi=0;pi<Re;pi++)ue.cells[pi]=h(ue.cells[pi].replace(/^ *\| *| *\| *$/g,""),ue.header.length);return ue}}},Qt.lheading=function(Ut){var xe=this.rules.block.lheading.exec(Ut);if(xe)return{type:"heading",raw:xe[0],depth:"="===xe[2].charAt(0)?1:2,text:xe[1]}},Qt.paragraph=function(Ut){var xe=this.rules.block.paragraph.exec(Ut);if(xe)return{type:"paragraph",raw:xe[0],text:"\n"===xe[1].charAt(xe[1].length-1)?xe[1].slice(0,-1):xe[1]}},Qt.text=function(Ut){var xe=this.rules.block.text.exec(Ut);if(xe)return{type:"text",raw:xe[0],text:xe[0]}},Qt.escape=function(Ut){var xe=this.rules.inline.escape.exec(Ut);if(xe)return{type:"escape",raw:xe[0],text:k(xe[1])}},Qt.tag=function(Ut,xe,ue){var Re=this.rules.inline.tag.exec(Ut);if(Re)return!xe&&/^<a /i.test(Re[0])?xe=!0:xe&&/^<\/a>/i.test(Re[0])&&(xe=!1),!ue&&/^<(pre|code|kbd|script)(\s|>)/i.test(Re[0])?ue=!0:ue&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Re[0])&&(ue=!1),{type:this.options.sanitize?"text":"html",raw:Re[0],inLink:xe,inRawBlock:ue,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Re[0]):k(Re[0]):Re[0]}},Qt.link=function(Ut){var xe=this.rules.inline.link.exec(Ut);if(xe){var ue=xe[2].trim();if(!this.options.pedantic&&/^</.test(ue)){if(!/>$/.test(ue))return;var Re=C(ue.slice(0,-1),"\\");if((ue.length-Re.length)%2==0)return}else{var pi=ft(xe[2],"()");if(pi>-1){var $e=(0===xe[0].indexOf("!")?5:4)+xe[1].length+pi;xe[2]=xe[2].substring(0,pi),xe[0]=xe[0].substring(0,$e).trim(),xe[3]=""}}var _n=xe[2],Ei="";if(this.options.pedantic){var zi=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(_n);zi&&(_n=zi[1],Ei=zi[3])}else Ei=xe[3]?xe[3].slice(1,-1):"";return _n=_n.trim(),/^</.test(_n)&&(_n=this.options.pedantic&&!/>$/.test(ue)?_n.slice(1):_n.slice(1,-1)),at(xe,{href:_n&&_n.replace(this.rules.inline._escapes,"$1"),title:Ei&&Ei.replace(this.rules.inline._escapes,"$1")},xe[0])}},Qt.reflink=function(Ut,xe){var ue;if((ue=this.rules.inline.reflink.exec(Ut))||(ue=this.rules.inline.nolink.exec(Ut))){var Re=(ue[2]||ue[1]).replace(/\s+/g," ");if(!(Re=xe[Re.toLowerCase()])||!Re.href){var pi=ue[0].charAt(0);return{type:"text",raw:pi,text:pi}}return at(ue,Re,ue[0])}},Qt.emStrong=function(Ut,xe,ue){void 0===ue&&(ue="");var Re=this.rules.inline.emStrong.lDelim.exec(Ut);if(Re&&(!Re[3]||!ue.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var pi=Re[1]||Re[2]||"";if(!pi||pi&&(""===ue||this.rules.inline.punctuation.exec(ue))){var $e,_n,he=Re[0].length-1,Ei=he,zi=0,ir="*"===Re[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(ir.lastIndex=0,xe=xe.slice(-1*Ut.length+he);null!=(Re=ir.exec(xe));)if($e=Re[1]||Re[2]||Re[3]||Re[4]||Re[5]||Re[6]){if(_n=$e.length,Re[3]||Re[4]){Ei+=_n;continue}if((Re[5]||Re[6])&&he%3&&!((he+_n)%3)){zi+=_n;continue}if(!((Ei-=_n)>0))return _n=Math.min(_n,_n+Ei+zi),Math.min(he,_n)%2?{type:"em",raw:Ut.slice(0,he+Re.index+_n+1),text:Ut.slice(1,he+Re.index+_n)}:{type:"strong",raw:Ut.slice(0,he+Re.index+_n+1),text:Ut.slice(2,he+Re.index+_n-1)}}}}},Qt.codespan=function(Ut){var xe=this.rules.inline.code.exec(Ut);if(xe){var ue=xe[2].replace(/\n/g," "),Re=/[^ ]/.test(ue),pi=/^ /.test(ue)&&/ $/.test(ue);return Re&&pi&&(ue=ue.substring(1,ue.length-1)),ue=k(ue,!0),{type:"codespan",raw:xe[0],text:ue}}},Qt.br=function(Ut){var xe=this.rules.inline.br.exec(Ut);if(xe)return{type:"br",raw:xe[0]}},Qt.del=function(Ut){var xe=this.rules.inline.del.exec(Ut);if(xe)return{type:"del",raw:xe[0],text:xe[2]}},Qt.autolink=function(Ut,xe){var Re,pi,ue=this.rules.inline.autolink.exec(Ut);if(ue)return pi="@"===ue[2]?"mailto:"+(Re=k(this.options.mangle?xe(ue[1]):ue[1])):Re=k(ue[1]),{type:"link",raw:ue[0],text:Re,href:pi,tokens:[{type:"text",raw:Re,text:Re}]}},Qt.url=function(Ut,xe){var ue;if(ue=this.rules.inline.url.exec(Ut)){var Re,pi;if("@"===ue[2])pi="mailto:"+(Re=k(this.options.mangle?xe(ue[0]):ue[0]));else{var he;do{he=ue[0],ue[0]=this.rules.inline._backpedal.exec(ue[0])[0]}while(he!==ue[0]);Re=k(ue[0]),pi="www."===ue[1]?"http://"+Re:Re}return{type:"link",raw:ue[0],text:Re,href:pi,tokens:[{type:"text",raw:Re,text:Re}]}}},Qt.inlineText=function(Ut,xe,ue){var pi,Re=this.rules.inline.text.exec(Ut);if(Re)return pi=xe?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Re[0]):k(Re[0]):Re[0]:k(this.options.smartypants?ue(Re[0]):Re[0]),{type:"text",raw:Re[0],text:pi}},ne}(),St=S_noopTest,Xt=S_edit,te=S_merge,Vt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:St,table:St,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Vt.def=Xt(Vt.def).replace("label",Vt._label).replace("title",Vt._title).getRegex(),Vt.bullet=/(?:[*+-]|\d{1,9}[.)])/,Vt.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,Vt.item=Xt(Vt.item,"gm").replace(/bull/g,Vt.bullet).getRegex(),Vt.listItemStart=Xt(/^( *)(bull) */).replace("bull",Vt.bullet).getRegex(),Vt.list=Xt(Vt.list).replace(/bull/g,Vt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Vt.def.source+")").getRegex(),Vt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Vt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Vt.html=Xt(Vt.html,"i").replace("comment",Vt._comment).replace("tag",Vt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Vt.paragraph=Xt(Vt._paragraph).replace("hr",Vt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vt._tag).getRegex(),Vt.blockquote=Xt(Vt.blockquote).replace("paragraph",Vt.paragraph).getRegex(),Vt.normal=te({},Vt),Vt.gfm=te({},Vt.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Vt.gfm.nptable=Xt(Vt.gfm.nptable).replace("hr",Vt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vt._tag).getRegex(),Vt.gfm.table=Xt(Vt.gfm.table).replace("hr",Vt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vt._tag).getRegex(),Vt.pedantic=te({},Vt.normal,{html:Xt("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Vt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:St,paragraph:Xt(Vt.normal._paragraph).replace("hr",Vt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Vt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Dt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:St,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:St,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};Dt.punctuation=Xt(Dt.punctuation).replace(/punctuation/g,Dt._punctuation).getRegex(),Dt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Dt.escapedEmSt=/\\\*|\\_/g,Dt._comment=Xt(Vt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Dt.emStrong.lDelim=Xt(Dt.emStrong.lDelim).replace(/punct/g,Dt._punctuation).getRegex(),Dt.emStrong.rDelimAst=Xt(Dt.emStrong.rDelimAst,"g").replace(/punct/g,Dt._punctuation).getRegex(),Dt.emStrong.rDelimUnd=Xt(Dt.emStrong.rDelimUnd,"g").replace(/punct/g,Dt._punctuation).getRegex(),Dt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Dt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Dt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Dt.autolink=Xt(Dt.autolink).replace("scheme",Dt._scheme).replace("email",Dt._email).getRegex(),Dt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Dt.tag=Xt(Dt.tag).replace("comment",Dt._comment).replace("attribute",Dt._attribute).getRegex(),Dt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Dt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Dt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Dt.link=Xt(Dt.link).replace("label",Dt._label).replace("href",Dt._href).replace("title",Dt._title).getRegex(),Dt.reflink=Xt(Dt.reflink).replace("label",Dt._label).getRegex(),Dt.reflinkSearch=Xt(Dt.reflinkSearch,"g").replace("reflink",Dt.reflink).replace("nolink",Dt.nolink).getRegex(),Dt.normal=te({},Dt),Dt.pedantic=te({},Dt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Xt(/^!?\[(label)\]\((.*?)\)/).replace("label",Dt._label).getRegex(),reflink:Xt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Dt._label).getRegex()}),Dt.gfm=te({},Dt.normal,{escape:Xt(Dt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Dt.gfm.url=Xt(Dt.gfm.url,"i").replace("email",Dt.gfm._extended_email).getRegex(),Dt.breaks=te({},Dt.gfm,{br:Xt(Dt.br).replace("{2,}","*").getRegex(),text:Xt(Dt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var ve={block:Vt,inline:Dt},Gt=Mt,Nt=tt.exports.defaults,Kt=ve.block,fe=ve.inline,zt=S_repeatString;function Ne(ne){return ne.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function Pt(ne){var Zt,Ut,Qt="",xe=ne.length;for(Zt=0;Zt<xe;Zt++)Ut=ne.charCodeAt(Zt),Math.random()>.5&&(Ut="x"+Ut.toString(16)),Qt+="&#"+Ut+";";return Qt}var Se=function(){function ne(Zt){this.tokens=[],this.tokens.links=Object.create(null),this.options=Zt||Nt,this.options.tokenizer=this.options.tokenizer||new Gt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var Ut={block:Kt.normal,inline:fe.normal};this.options.pedantic?(Ut.block=Kt.pedantic,Ut.inline=fe.pedantic):this.options.gfm&&(Ut.block=Kt.gfm,Ut.inline=this.options.breaks?fe.breaks:fe.gfm),this.tokenizer.rules=Ut}ne.lex=function(Ut,xe){return new ne(xe).lex(Ut)},ne.lexInline=function(Ut,xe){return new ne(xe).inlineTokens(Ut)};var Qt=ne.prototype;return Qt.lex=function(Ut){return Ut=Ut.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(Ut,this.tokens,!0),this.inline(this.tokens),this.tokens},Qt.blockTokens=function(Ut,xe,ue){var pi,he,$e,_n,Ei,zi,Re=this;for(void 0===xe&&(xe=[]),void 0===ue&&(ue=!0),this.options.pedantic&&(Ut=Ut.replace(/^ +$/gm,""));Ut;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(bi){return!!(pi=bi.call(Re,Ut,xe))&&(Ut=Ut.substring(pi.raw.length),xe.push(pi),!0)}))){if(pi=this.tokenizer.space(Ut)){Ut=Ut.substring(pi.raw.length),pi.type&&xe.push(pi);continue}if(pi=this.tokenizer.code(Ut)){Ut=Ut.substring(pi.raw.length),(_n=xe[xe.length-1])&&"paragraph"===_n.type?(_n.raw+="\n"+pi.raw,_n.text+="\n"+pi.text):xe.push(pi);continue}if(pi=this.tokenizer.fences(Ut)){Ut=Ut.substring(pi.raw.length),xe.push(pi);continue}if(pi=this.tokenizer.heading(Ut)){Ut=Ut.substring(pi.raw.length),xe.push(pi);continue}if(pi=this.tokenizer.nptable(Ut)){Ut=Ut.substring(pi.raw.length),xe.push(pi);continue}if(pi=this.tokenizer.hr(Ut)){Ut=Ut.substring(pi.raw.length),xe.push(pi);continue}if(pi=this.tokenizer.blockquote(Ut)){Ut=Ut.substring(pi.raw.length),pi.tokens=this.blockTokens(pi.text,[],ue),xe.push(pi);continue}if(pi=this.tokenizer.list(Ut)){for(Ut=Ut.substring(pi.raw.length),$e=pi.items.length,he=0;he<$e;he++)pi.items[he].tokens=this.blockTokens(pi.items[he].text,[],!1);xe.push(pi);continue}if(pi=this.tokenizer.html(Ut)){Ut=Ut.substring(pi.raw.length),xe.push(pi);continue}if(ue&&(pi=this.tokenizer.def(Ut))){Ut=Ut.substring(pi.raw.length),this.tokens.links[pi.tag]||(this.tokens.links[pi.tag]={href:pi.href,title:pi.title});continue}if(pi=this.tokenizer.table(Ut)){Ut=Ut.substring(pi.raw.length),xe.push(pi);continue}if(pi=this.tokenizer.lheading(Ut)){Ut=Ut.substring(pi.raw.length),xe.push(pi);continue}if(Ei=Ut,this.options.extensions&&this.options.extensions.startBlock&&function(){var bi=1/0,Li=Ut.slice(1),Ln=void 0;Re.options.extensions.startBlock.forEach(function(Kn){"number"==typeof(Ln=Kn.call(this,Li))&&Ln>=0&&(bi=Math.min(bi,Ln))}),bi<1/0&&bi>=0&&(Ei=Ut.substring(0,bi+1))}(),ue&&(pi=this.tokenizer.paragraph(Ei))){_n=xe[xe.length-1],zi&&"paragraph"===_n.type?(_n.raw+="\n"+pi.raw,_n.text+="\n"+pi.text):xe.push(pi),zi=Ei.length!==Ut.length,Ut=Ut.substring(pi.raw.length);continue}if(pi=this.tokenizer.text(Ut)){Ut=Ut.substring(pi.raw.length),(_n=xe[xe.length-1])&&"text"===_n.type?(_n.raw+="\n"+pi.raw,_n.text+="\n"+pi.text):xe.push(pi);continue}if(Ut){var ir="Infinite loop on byte: "+Ut.charCodeAt(0);if(this.options.silent){console.error(ir);break}throw new Error(ir)}}return xe},Qt.inline=function(Ut){var xe,ue,Re,pi,he,$e,_n=Ut.length;for(xe=0;xe<_n;xe++)switch($e=Ut[xe],$e.type){case"paragraph":case"text":case"heading":$e.tokens=[],this.inlineTokens($e.text,$e.tokens);break;case"table":for($e.tokens={header:[],cells:[]},pi=$e.header.length,ue=0;ue<pi;ue++)$e.tokens.header[ue]=[],this.inlineTokens($e.header[ue],$e.tokens.header[ue]);for(pi=$e.cells.length,ue=0;ue<pi;ue++)for(he=$e.cells[ue],$e.tokens.cells[ue]=[],Re=0;Re<he.length;Re++)$e.tokens.cells[ue][Re]=[],this.inlineTokens(he[Re],$e.tokens.cells[ue][Re]);break;case"blockquote":this.inline($e.tokens);break;case"list":for(pi=$e.items.length,ue=0;ue<pi;ue++)this.inline($e.items[ue].tokens)}return Ut},Qt.inlineTokens=function(Ut,xe,ue,Re){var pi=this;void 0===xe&&(xe=[]),void 0===ue&&(ue=!1),void 0===Re&&(Re=!1);var he,$e,_n,zi,ir,bi,Ei=Ut;if(this.tokens.links){var Li=Object.keys(this.tokens.links);if(Li.length>0)for(;null!=(zi=this.tokenizer.rules.inline.reflinkSearch.exec(Ei));)Li.includes(zi[0].slice(zi[0].lastIndexOf("[")+1,-1))&&(Ei=Ei.slice(0,zi.index)+"["+zt("a",zi[0].length-2)+"]"+Ei.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(zi=this.tokenizer.rules.inline.blockSkip.exec(Ei));)Ei=Ei.slice(0,zi.index)+"["+zt("a",zi[0].length-2)+"]"+Ei.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(zi=this.tokenizer.rules.inline.escapedEmSt.exec(Ei));)Ei=Ei.slice(0,zi.index)+"++"+Ei.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;Ut;)if(ir||(bi=""),ir=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Kn){return!!(he=Kn.call(pi,Ut,xe))&&(Ut=Ut.substring(he.raw.length),xe.push(he),!0)}))){if(he=this.tokenizer.escape(Ut)){Ut=Ut.substring(he.raw.length),xe.push(he);continue}if(he=this.tokenizer.tag(Ut,ue,Re)){Ut=Ut.substring(he.raw.length),ue=he.inLink,Re=he.inRawBlock,($e=xe[xe.length-1])&&"text"===he.type&&"text"===$e.type?($e.raw+=he.raw,$e.text+=he.text):xe.push(he);continue}if(he=this.tokenizer.link(Ut)){Ut=Ut.substring(he.raw.length),"link"===he.type&&(he.tokens=this.inlineTokens(he.text,[],!0,Re)),xe.push(he);continue}if(he=this.tokenizer.reflink(Ut,this.tokens.links)){Ut=Ut.substring(he.raw.length),$e=xe[xe.length-1],"link"===he.type?(he.tokens=this.inlineTokens(he.text,[],!0,Re),xe.push(he)):$e&&"text"===he.type&&"text"===$e.type?($e.raw+=he.raw,$e.text+=he.text):xe.push(he);continue}if(he=this.tokenizer.emStrong(Ut,Ei,bi)){Ut=Ut.substring(he.raw.length),he.tokens=this.inlineTokens(he.text,[],ue,Re),xe.push(he);continue}if(he=this.tokenizer.codespan(Ut)){Ut=Ut.substring(he.raw.length),xe.push(he);continue}if(he=this.tokenizer.br(Ut)){Ut=Ut.substring(he.raw.length),xe.push(he);continue}if(he=this.tokenizer.del(Ut)){Ut=Ut.substring(he.raw.length),he.tokens=this.inlineTokens(he.text,[],ue,Re),xe.push(he);continue}if(he=this.tokenizer.autolink(Ut,Pt)){Ut=Ut.substring(he.raw.length),xe.push(he);continue}if(!ue&&(he=this.tokenizer.url(Ut,Pt))){Ut=Ut.substring(he.raw.length),xe.push(he);continue}if(_n=Ut,this.options.extensions&&this.options.extensions.startInline&&function(){var Kn=1/0,pr=Ut.slice(1),Jn=void 0;pi.options.extensions.startInline.forEach(function(Ni){"number"==typeof(Jn=Ni.call(this,pr))&&Jn>=0&&(Kn=Math.min(Kn,Jn))}),Kn<1/0&&Kn>=0&&(_n=Ut.substring(0,Kn+1))}(),he=this.tokenizer.inlineText(_n,Re,Ne)){Ut=Ut.substring(he.raw.length),"_"!==he.raw.slice(-1)&&(bi=he.raw.slice(-1)),ir=!0,($e=xe[xe.length-1])&&"text"===$e.type?($e.raw+=he.raw,$e.text+=he.text):xe.push(he);continue}if(Ut){var Ln="Infinite loop on byte: "+Ut.charCodeAt(0);if(this.options.silent){console.error(Ln);break}throw new Error(Ln)}}return xe},function(ne,Qt,Zt){Qt&&Q(ne.prototype,Qt),Zt&&Q(ne,Zt)}(ne,null,[{key:"rules",get:function(){return{block:Kt,inline:fe}}}]),ne}(),Fi=tt.exports.defaults,Ge=S_cleanUrl,_e=S_escape,Ce=function(){function ne(Zt){this.options=Zt||Fi}var Qt=ne.prototype;return Qt.code=function(Ut,xe,ue){var Re=(xe||"").match(/\S*/)[0];if(this.options.highlight){var pi=this.options.highlight(Ut,Re);null!=pi&&pi!==Ut&&(ue=!0,Ut=pi)}return Ut=Ut.replace(/\n$/,"")+"\n",Re?'<pre><code class="'+this.options.langPrefix+_e(Re,!0)+'">'+(ue?Ut:_e(Ut,!0))+"</code></pre>\n":"<pre><code>"+(ue?Ut:_e(Ut,!0))+"</code></pre>\n"},Qt.blockquote=function(Ut){return"<blockquote>\n"+Ut+"</blockquote>\n"},Qt.html=function(Ut){return Ut},Qt.heading=function(Ut,xe,ue,Re){return this.options.headerIds?"<h"+xe+' id="'+this.options.headerPrefix+Re.slug(ue)+'">'+Ut+"</h"+xe+">\n":"<h"+xe+">"+Ut+"</h"+xe+">\n"},Qt.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},Qt.list=function(Ut,xe,ue){var Re=xe?"ol":"ul";return"<"+Re+(xe&&1!==ue?' start="'+ue+'"':"")+">\n"+Ut+"</"+Re+">\n"},Qt.listitem=function(Ut){return"<li>"+Ut+"</li>\n"},Qt.checkbox=function(Ut){return"<input "+(Ut?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Qt.paragraph=function(Ut){return"<p>"+Ut+"</p>\n"},Qt.table=function(Ut,xe){return xe&&(xe="<tbody>"+xe+"</tbody>"),"<table>\n<thead>\n"+Ut+"</thead>\n"+xe+"</table>\n"},Qt.tablerow=function(Ut){return"<tr>\n"+Ut+"</tr>\n"},Qt.tablecell=function(Ut,xe){var ue=xe.header?"th":"td";return(xe.align?"<"+ue+' align="'+xe.align+'">':"<"+ue+">")+Ut+"</"+ue+">\n"},Qt.strong=function(Ut){return"<strong>"+Ut+"</strong>"},Qt.em=function(Ut){return"<em>"+Ut+"</em>"},Qt.codespan=function(Ut){return"<code>"+Ut+"</code>"},Qt.br=function(){return this.options.xhtml?"<br/>":"<br>"},Qt.del=function(Ut){return"<del>"+Ut+"</del>"},Qt.link=function(Ut,xe,ue){if(null===(Ut=Ge(this.options.sanitize,this.options.baseUrl,Ut)))return ue;var Re='<a href="'+_e(Ut)+'"';return xe&&(Re+=' title="'+xe+'"'),Re+">"+ue+"</a>"},Qt.image=function(Ut,xe,ue){if(null===(Ut=Ge(this.options.sanitize,this.options.baseUrl,Ut)))return ue;var Re='<img src="'+Ut+'" alt="'+ue+'"';return xe&&(Re+=' title="'+xe+'"'),Re+(this.options.xhtml?"/>":">")},Qt.text=function(Ut){return Ut},ne}(),Bt=function(){function ne(){}var Qt=ne.prototype;return Qt.strong=function(Ut){return Ut},Qt.em=function(Ut){return Ut},Qt.codespan=function(Ut){return Ut},Qt.del=function(Ut){return Ut},Qt.html=function(Ut){return Ut},Qt.text=function(Ut){return Ut},Qt.link=function(Ut,xe,ue){return""+ue},Qt.image=function(Ut,xe,ue){return""+ue},Qt.br=function(){return""},ne}(),re=function(){function ne(){this.seen={}}var Qt=ne.prototype;return Qt.serialize=function(Ut){return Ut.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Qt.getNextSafeSlug=function(Ut,xe){var ue=Ut,Re=0;if(this.seen.hasOwnProperty(ue)){Re=this.seen[Ut];do{ue=Ut+"-"+ ++Re}while(this.seen.hasOwnProperty(ue))}return xe||(this.seen[Ut]=Re,this.seen[ue]=0),ue},Qt.slug=function(Ut,xe){void 0===xe&&(xe={});var ue=this.serialize(Ut);return this.getNextSafeSlug(ue,xe.dryrun)},ne}(),Ye=Ce,jt=Bt,yt=re,ht=tt.exports.defaults,ce=S_unescape,Pi=Se,We=function(){function ne(Zt){this.options=Zt||ht,this.options.renderer=this.options.renderer||new Ye,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new jt,this.slugger=new yt}ne.parse=function(Ut,xe){return new ne(xe).parse(Ut)},ne.parseInline=function(Ut,xe){return new ne(xe).parseInline(Ut)};var Qt=ne.prototype;return Qt.parse=function(Ut,xe){void 0===xe&&(xe=!0);var Re,pi,he,$e,_n,Ei,zi,ir,bi,Li,Ln,Kn,pr,Jn,Ni,xi,Je,Ui,on,ue="",nr=Ut.length;for(Re=0;Re<nr;Re++)if(Li=Ut[Re],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Li.type]&&(!1!==(on=this.options.extensions.renderers[Li.type].call(this,Li))||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Li.type)))ue+=on||"";else switch(Li.type){case"space":continue;case"hr":ue+=this.renderer.hr();continue;case"heading":ue+=this.renderer.heading(this.parseInline(Li.tokens),Li.depth,ce(this.parseInline(Li.tokens,this.textRenderer)),this.slugger);continue;case"code":ue+=this.renderer.code(Li.text,Li.lang,Li.escaped);continue;case"table":for(ir="",zi="",$e=Li.header.length,pi=0;pi<$e;pi++)zi+=this.renderer.tablecell(this.parseInline(Li.tokens.header[pi]),{header:!0,align:Li.align[pi]});for(ir+=this.renderer.tablerow(zi),bi="",$e=Li.cells.length,pi=0;pi<$e;pi++){for(zi="",_n=(Ei=Li.tokens.cells[pi]).length,he=0;he<_n;he++)zi+=this.renderer.tablecell(this.parseInline(Ei[he]),{header:!1,align:Li.align[he]});bi+=this.renderer.tablerow(zi)}ue+=this.renderer.table(ir,bi);continue;case"blockquote":bi=this.parse(Li.tokens),ue+=this.renderer.blockquote(bi);continue;case"list":for(Ln=Li.ordered,Kn=Li.start,pr=Li.loose,$e=Li.items.length,bi="",pi=0;pi<$e;pi++)xi=(Ni=Li.items[pi]).checked,Je=Ni.task,Jn="",Ni.task&&(Ui=this.renderer.checkbox(xi),pr?Ni.tokens.length>0&&"text"===Ni.tokens[0].type?(Ni.tokens[0].text=Ui+" "+Ni.tokens[0].text,Ni.tokens[0].tokens&&Ni.tokens[0].tokens.length>0&&"text"===Ni.tokens[0].tokens[0].type&&(Ni.tokens[0].tokens[0].text=Ui+" "+Ni.tokens[0].tokens[0].text)):Ni.tokens.unshift({type:"text",text:Ui}):Jn+=Ui),Jn+=this.parse(Ni.tokens,pr),bi+=this.renderer.listitem(Jn,Je,xi);ue+=this.renderer.list(bi,Ln,Kn);continue;case"html":ue+=this.renderer.html(Li.text);continue;case"paragraph":ue+=this.renderer.paragraph(this.parseInline(Li.tokens));continue;case"text":for(bi=Li.tokens?this.parseInline(Li.tokens):Li.text;Re+1<nr&&"text"===Ut[Re+1].type;)bi+="\n"+((Li=Ut[++Re]).tokens?this.parseInline(Li.tokens):Li.text);ue+=xe?this.renderer.paragraph(bi):bi;continue;default:var mr='Token with "'+Li.type+'" type was not found.';if(this.options.silent)return void console.error(mr);throw new Error(mr)}return ue},Qt.parseInline=function(Ut,xe){xe=xe||this.renderer;var Re,pi,he,ue="",$e=Ut.length;for(Re=0;Re<$e;Re++)if(pi=Ut[Re],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[pi.type]&&(!1!==(he=this.options.extensions.renderers[pi.type].call(this,pi))||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(pi.type)))ue+=he||"";else switch(pi.type){case"escape":case"text":ue+=xe.text(pi.text);break;case"html":ue+=xe.html(pi.text);break;case"link":ue+=xe.link(pi.href,pi.title,this.parseInline(pi.tokens,xe));break;case"image":ue+=xe.image(pi.href,pi.title,pi.text);break;case"strong":ue+=xe.strong(this.parseInline(pi.tokens,xe));break;case"em":ue+=xe.em(this.parseInline(pi.tokens,xe));break;case"codespan":ue+=xe.codespan(pi.text);break;case"br":ue+=xe.br();break;case"del":ue+=xe.del(this.parseInline(pi.tokens,xe));break;default:var _n='Token with "'+pi.type+'" type was not found.';if(this.options.silent)return void console.error(_n);throw new Error(_n)}return ue},ne}(),si=Mt,bn=Ce,wi=Bt,je=re,ci=S_merge,Oe=S_checkSanitizeDeprecation,oi=S_escape,Vn=tt.exports.getDefaults,ei=tt.exports.changeDefaults,De=tt.exports.defaults;function qe(ne,Qt,Zt){if(null==ne)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof ne)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ne)+", string expected");if("function"==typeof Qt&&(Zt=Qt,Qt=null),Qt=ci({},qe.defaults,Qt||{}),Oe(Qt),Zt){var xe,Ut=Qt.highlight;try{xe=Pi.lex(ne,Qt)}catch(he){return Zt(he)}var ue=function($e){var _n;if(!$e)try{Qt.walkTokens&&qe.walkTokens(xe,Qt.walkTokens),_n=We.parse(xe,Qt)}catch(Ei){$e=Ei}return Qt.highlight=Ut,$e?Zt($e):Zt(null,_n)};if(!Ut||Ut.length<3||(delete Qt.highlight,!xe.length))return ue();var Re=0;return qe.walkTokens(xe,function(he){"code"===he.type&&(Re++,setTimeout(function(){Ut(he.text,he.lang,function($e,_n){if($e)return ue($e);null!=_n&&_n!==he.text&&(he.text=_n,he.escaped=!0),0==--Re&&ue()})},0))}),void(0===Re&&ue())}try{var pi=Pi.lex(ne,Qt);return Qt.walkTokens&&qe.walkTokens(pi,Qt.walkTokens),We.parse(pi,Qt)}catch(he){if(he.message+="\nPlease report this to https://github.com/markedjs/marked.",Qt.silent)return"<p>An error occurred:</p><pre>"+oi(he.message+"",!0)+"</pre>";throw he}}return qe.options=qe.setOptions=function(ne){return ci(qe.defaults,ne),ei(qe.defaults),qe},qe.getDefaults=Vn,qe.defaults=De,qe.use=function(){for(var ne=this,Qt=arguments.length,Zt=new Array(Qt),Ut=0;Ut<Qt;Ut++)Zt[Ut]=arguments[Ut];var Re,xe=ci.apply(void 0,[{}].concat(Zt)),ue=qe.defaults.extensions||{renderers:{},childTokens:{}};Zt.forEach(function(pi){if(pi.extensions&&(Re=!0,pi.extensions.forEach(function($e){if(!$e.name)throw new Error("extension name required");if($e.renderer){var _n=ue.renderers?ue.renderers[$e.name]:null;ue.renderers[$e.name]=_n?function(){for(var Ei=arguments.length,zi=new Array(Ei),ir=0;ir<Ei;ir++)zi[ir]=arguments[ir];var bi=$e.renderer.apply(this,zi);return!1===bi&&(bi=_n.apply(this,zi)),bi}:$e.renderer}if($e.tokenizer){if(!$e.level||"block"!==$e.level&&"inline"!==$e.level)throw new Error("extension level must be 'block' or 'inline'");ue[$e.level]?ue[$e.level].unshift($e.tokenizer):ue[$e.level]=[$e.tokenizer],$e.start&&("block"===$e.level?ue.startBlock?ue.startBlock.push($e.start):ue.startBlock=[$e.start]:"inline"===$e.level&&(ue.startInline?ue.startInline.push($e.start):ue.startInline=[$e.start]))}$e.childTokens&&(ue.childTokens[$e.name]=$e.childTokens)})),pi.renderer&&function(){var $e=qe.defaults.renderer||new bn,_n=function(ir){var bi=$e[ir];$e[ir]=function(){for(var Li=arguments.length,Ln=new Array(Li),Kn=0;Kn<Li;Kn++)Ln[Kn]=arguments[Kn];var pr=pi.renderer[ir].apply($e,Ln);return!1===pr&&(pr=bi.apply($e,Ln)),pr}};for(var Ei in pi.renderer)_n(Ei);xe.renderer=$e}(),pi.tokenizer&&function(){var $e=qe.defaults.tokenizer||new si,_n=function(ir){var bi=$e[ir];$e[ir]=function(){for(var Li=arguments.length,Ln=new Array(Li),Kn=0;Kn<Li;Kn++)Ln[Kn]=arguments[Kn];var pr=pi.tokenizer[ir].apply($e,Ln);return!1===pr&&(pr=bi.apply($e,Ln)),pr}};for(var Ei in pi.tokenizer)_n(Ei);xe.tokenizer=$e}(),pi.walkTokens){var he=qe.defaults.walkTokens;xe.walkTokens=function($e){pi.walkTokens.call(ne,$e),he&&he($e)}}Re&&(xe.extensions=ue),qe.setOptions(xe)})},qe.walkTokens=function(ne,Qt){for(var xe,Zt=function(){var Re=xe.value;switch(Qt(Re),Re.type){case"table":for(var he,pi=J(Re.tokens.header);!(he=pi()).done;)qe.walkTokens(he.value,Qt);for(var Ei,_n=J(Re.tokens.cells);!(Ei=_n()).done;)for(var bi,ir=J(Ei.value);!(bi=ir()).done;)qe.walkTokens(bi.value,Qt);break;case"list":qe.walkTokens(Re.items,Qt);break;default:qe.defaults.extensions&&qe.defaults.extensions.childTokens&&qe.defaults.extensions.childTokens[Re.type]?qe.defaults.extensions.childTokens[Re.type].forEach(function(Ln){qe.walkTokens(Re[Ln],Qt)}):Re.tokens&&qe.walkTokens(Re.tokens,Qt)}},Ut=J(ne);!(xe=Ut()).done;)Zt()},qe.parseInline=function(ne,Qt){if(null==ne)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof ne)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(ne)+", string expected");Qt=ci({},qe.defaults,Qt||{}),Oe(Qt);try{var Zt=Pi.lexInline(ne,Qt);return Qt.walkTokens&&qe.walkTokens(Zt,Qt.walkTokens),We.parseInline(Zt,Qt)}catch(Ut){if(Ut.message+="\nPlease report this to https://github.com/markedjs/marked.",Qt.silent)return"<p>An error occurred:</p><pre>"+oi(Ut.message+"",!0)+"</pre>";throw Ut}},qe.Parser=We,qe.parser=We.parse,qe.Renderer=bn,qe.TextRenderer=wi,qe.Lexer=Pi,qe.lexer=Pi.lex,qe.Tokenizer=si,qe.Slugger=je,qe.parse=qe,qe}()},2996:(Ee,Q,ut)=>{"use strict";var ct=ut(3516),f=ut(740),J=ut(4615).Buffer,tt=new Array(16);function b(){f.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function W(F,et){return F<<et|F>>>32-et}function G(F,et,B,X,z,Y,q){return W(F+(et&B|~et&X)+z+Y|0,q)+et|0}function rt(F,et,B,X,z,Y,q){return W(F+(et&X|B&~X)+z+Y|0,q)+et|0}function Z(F,et,B,X,z,Y,q){return W(F+(et^B^X)+z+Y|0,q)+et|0}function H(F,et,B,X,z,Y,q){return W(F+(B^(et|~X))+z+Y|0,q)+et|0}ct(b,f),b.prototype._update=function(){for(var F=tt,et=0;et<16;++et)F[et]=this._block.readInt32LE(4*et);var B=this._a,X=this._b,z=this._c,Y=this._d;B=G(B,X,z,Y,F[0],3614090360,7),Y=G(Y,B,X,z,F[1],3905402710,12),z=G(z,Y,B,X,F[2],606105819,17),X=G(X,z,Y,B,F[3],3250441966,22),B=G(B,X,z,Y,F[4],4118548399,7),Y=G(Y,B,X,z,F[5],1200080426,12),z=G(z,Y,B,X,F[6],2821735955,17),X=G(X,z,Y,B,F[7],4249261313,22),B=G(B,X,z,Y,F[8],1770035416,7),Y=G(Y,B,X,z,F[9],2336552879,12),z=G(z,Y,B,X,F[10],4294925233,17),X=G(X,z,Y,B,F[11],2304563134,22),B=G(B,X,z,Y,F[12],1804603682,7),Y=G(Y,B,X,z,F[13],4254626195,12),z=G(z,Y,B,X,F[14],2792965006,17),B=rt(B,X=G(X,z,Y,B,F[15],1236535329,22),z,Y,F[1],4129170786,5),Y=rt(Y,B,X,z,F[6],3225465664,9),z=rt(z,Y,B,X,F[11],643717713,14),X=rt(X,z,Y,B,F[0],3921069994,20),B=rt(B,X,z,Y,F[5],3593408605,5),Y=rt(Y,B,X,z,F[10],38016083,9),z=rt(z,Y,B,X,F[15],3634488961,14),X=rt(X,z,Y,B,F[4],3889429448,20),B=rt(B,X,z,Y,F[9],568446438,5),Y=rt(Y,B,X,z,F[14],3275163606,9),z=rt(z,Y,B,X,F[3],4107603335,14),X=rt(X,z,Y,B,F[8],1163531501,20),B=rt(B,X,z,Y,F[13],2850285829,5),Y=rt(Y,B,X,z,F[2],4243563512,9),z=rt(z,Y,B,X,F[7],1735328473,14),B=Z(B,X=rt(X,z,Y,B,F[12],2368359562,20),z,Y,F[5],4294588738,4),Y=Z(Y,B,X,z,F[8],2272392833,11),z=Z(z,Y,B,X,F[11],1839030562,16),X=Z(X,z,Y,B,F[14],4259657740,23),B=Z(B,X,z,Y,F[1],2763975236,4),Y=Z(Y,B,X,z,F[4],1272893353,11),z=Z(z,Y,B,X,F[7],4139469664,16),X=Z(X,z,Y,B,F[10],3200236656,23),B=Z(B,X,z,Y,F[13],681279174,4),Y=Z(Y,B,X,z,F[0],3936430074,11),z=Z(z,Y,B,X,F[3],3572445317,16),X=Z(X,z,Y,B,F[6],76029189,23),B=Z(B,X,z,Y,F[9],3654602809,4),Y=Z(Y,B,X,z,F[12],3873151461,11),z=Z(z,Y,B,X,F[15],530742520,16),B=H(B,X=Z(X,z,Y,B,F[2],3299628645,23),z,Y,F[0],4096336452,6),Y=H(Y,B,X,z,F[7],1126891415,10),z=H(z,Y,B,X,F[14],2878612391,15),X=H(X,z,Y,B,F[5],4237533241,21),B=H(B,X,z,Y,F[12],1700485571,6),Y=H(Y,B,X,z,F[3],2399980690,10),z=H(z,Y,B,X,F[10],4293915773,15),X=H(X,z,Y,B,F[1],2240044497,21),B=H(B,X,z,Y,F[8],1873313359,6),Y=H(Y,B,X,z,F[15],4264355552,10),z=H(z,Y,B,X,F[6],2734768916,15),X=H(X,z,Y,B,F[13],1309151649,21),B=H(B,X,z,Y,F[4],4149444226,6),Y=H(Y,B,X,z,F[11],3174756917,10),z=H(z,Y,B,X,F[2],718787259,15),X=H(X,z,Y,B,F[9],3951481745,21),this._a=this._a+B|0,this._b=this._b+X|0,this._c=this._c+z|0,this._d=this._d+Y|0},b.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var F=J.allocUnsafe(16);return F.writeInt32LE(this._a,0),F.writeInt32LE(this._b,4),F.writeInt32LE(this._c,8),F.writeInt32LE(this._d,12),F},Ee.exports=b},2098:(Ee,Q,ut)=>{var ct=ut(2239),f=ut(3550);function J(tt){this.rand=tt||new f.Rand}Ee.exports=J,J.create=function(b){return new J(b)},J.prototype._randbelow=function(b){var W=b.bitLength(),G=Math.ceil(W/8);do{var rt=new ct(this.rand.generate(G))}while(rt.cmp(b)>=0);return rt},J.prototype._randrange=function(b,W){var G=W.sub(b);return b.add(this._randbelow(G))},J.prototype.test=function(b,W,G){var rt=b.bitLength(),Z=ct.mont(b),H=new ct(1).toRed(Z);W||(W=Math.max(1,rt/48|0));for(var F=b.subn(1),et=0;!F.testn(et);et++);for(var B=b.shrn(et),X=F.toRed(Z);W>0;W--){var Y=this._randrange(new ct(2),F);G&&G(Y);var q=Y.toRed(Z).redPow(B);if(0!==q.cmp(H)&&0!==q.cmp(X)){for(var U=1;U<et;U++){if(0===(q=q.redSqr()).cmp(H))return!1;if(0===q.cmp(X))break}if(U===et)return!1}}return!0},J.prototype.getDivisor=function(b,W){var G=b.bitLength(),rt=ct.mont(b),Z=new ct(1).toRed(rt);W||(W=Math.max(1,G/48|0));for(var H=b.subn(1),F=0;!H.testn(F);F++);for(var et=b.shrn(F),B=H.toRed(rt);W>0;W--){var X=this._randrange(new ct(2),H),z=b.gcd(X);if(0!==z.cmpn(1))return z;var Y=X.toRed(rt).redPow(et);if(0!==Y.cmp(Z)&&0!==Y.cmp(B)){for(var q=1;q<F;q++){if(0===(Y=Y.redSqr()).cmp(Z))return Y.fromRed().subn(1).gcd(b);if(0===Y.cmp(B))break}if(q===F)return(Y=Y.redSqr()).fromRed().subn(1).gcd(b)}}return!1}},2239:function(Ee,Q,ut){!function(ct,f){"use strict";function J(A,o){if(!A)throw new Error(o||"Assertion failed")}function tt(A,o){A.super_=o;var c=function(){};c.prototype=o.prototype,A.prototype=new c,A.prototype.constructor=A}function b(A,o,c){if(b.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,null!==A&&(("le"===o||"be"===o)&&(c=o,o=10),this._init(A||0,o||10,c||"be"))}var W;"object"==typeof ct?ct.exports=b:f.BN=b,b.BN=b,b.wordSize=26;try{W="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:ut(6619).Buffer}catch(A){}function G(A,o){var c=A.charCodeAt(o);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function rt(A,o,c){var g=G(A,c);return c-1>=o&&(g|=G(A,c-1)<<4),g}function Z(A,o,c,g){for(var p=0,w=Math.min(A.length,c),S=o;S<w;S++){var T=A.charCodeAt(S)-48;p*=g,p+=T>=49?T-49+10:T>=17?T-17+10:T}return p}b.isBN=function(o){return o instanceof b||null!==o&&"object"==typeof o&&o.constructor.wordSize===b.wordSize&&Array.isArray(o.words)},b.max=function(o,c){return o.cmp(c)>0?o:c},b.min=function(o,c){return o.cmp(c)<0?o:c},b.prototype._init=function(o,c,g){if("number"==typeof o)return this._initNumber(o,c,g);if("object"==typeof o)return this._initArray(o,c,g);"hex"===c&&(c=16),J(c===(0|c)&&c>=2&&c<=36);var p=0;"-"===(o=o.toString().replace(/\s+/g,""))[0]&&(p++,this.negative=1),p<o.length&&(16===c?this._parseHex(o,p,g):(this._parseBase(o,c,p),"le"===g&&this._initArray(this.toArray(),c,g)))},b.prototype._initNumber=function(o,c,g){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[67108863&o],this.length=1):o<4503599627370496?(this.words=[67108863&o,o/67108864&67108863],this.length=2):(J(o<9007199254740992),this.words=[67108863&o,o/67108864&67108863,1],this.length=3),"le"===g&&this._initArray(this.toArray(),c,g)},b.prototype._initArray=function(o,c,g){if(J("number"==typeof o.length),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var w,S,T=0;if("be"===g)for(p=o.length-1,w=0;p>=0;p-=3)this.words[w]|=(S=o[p]|o[p-1]<<8|o[p-2]<<16)<<T&67108863,this.words[w+1]=S>>>26-T&67108863,(T+=24)>=26&&(T-=26,w++);else if("le"===g)for(p=0,w=0;p<o.length;p+=3)this.words[w]|=(S=o[p]|o[p+1]<<8|o[p+2]<<16)<<T&67108863,this.words[w+1]=S>>>26-T&67108863,(T+=24)>=26&&(T-=26,w++);return this.strip()},b.prototype._parseHex=function(o,c,g){this.length=Math.ceil((o.length-c)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var T,w=0,S=0;if("be"===g)for(p=o.length-1;p>=c;p-=2)T=rt(o,c,p)<<w,this.words[S]|=67108863&T,w>=18?(w-=18,this.words[S+=1]|=T>>>26):w+=8;else for(p=(o.length-c)%2==0?c+1:c;p<o.length;p+=2)T=rt(o,c,p)<<w,this.words[S]|=67108863&T,w>=18?(w-=18,this.words[S+=1]|=T>>>26):w+=8;this.strip()},b.prototype._parseBase=function(o,c,g){this.words=[0],this.length=1;for(var p=0,w=1;w<=67108863;w*=c)p++;p--,w=w/c|0;for(var S=o.length-g,T=S%p,C=Math.min(S,S-T)+g,h=0,k=g;k<C;k+=p)h=Z(o,k,k+p,c),this.imuln(w),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==T){var ft=1;for(h=Z(o,k,o.length,c),k=0;k<T;k++)ft*=c;this.imuln(ft),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},b.prototype.copy=function(o){o.words=new Array(this.length);for(var c=0;c<this.length;c++)o.words[c]=this.words[c];o.length=this.length,o.negative=this.negative,o.red=this.red},b.prototype.clone=function(){var o=new b(null);return this.copy(o),o},b.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},b.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},b.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},b.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var H=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],F=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],et=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function X(A,o,c){c.negative=o.negative^A.negative;var g=A.length+o.length|0;c.length=g,g=g-1|0;var p=0|A.words[0],w=0|o.words[0],S=p*w,C=S/67108864|0;c.words[0]=67108863&S;for(var h=1;h<g;h++){for(var k=C>>>26,ft=67108863&C,at=Math.min(h,o.length-1),st=Math.max(0,h-A.length+1);st<=at;st++)k+=(S=(p=0|A.words[h-st|0])*(w=0|o.words[st])+ft)/67108864|0,ft=67108863&S;c.words[h]=0|ft,C=0|k}return 0!==C?c.words[h]=0|C:c.length--,c.strip()}b.prototype.toString=function(o,c){var g;if(c=0|c||1,16===(o=o||10)||"hex"===o){g="";for(var p=0,w=0,S=0;S<this.length;S++){var T=this.words[S],C=(16777215&(T<<p|w)).toString(16);g=0!=(w=T>>>24-p&16777215)||S!==this.length-1?H[6-C.length]+C+g:C+g,(p+=2)>=26&&(p-=26,S--)}for(0!==w&&(g=w.toString(16)+g);g.length%c!=0;)g="0"+g;return 0!==this.negative&&(g="-"+g),g}if(o===(0|o)&&o>=2&&o<=36){var h=F[o],k=et[o];g="";var ft=this.clone();for(ft.negative=0;!ft.isZero();){var at=ft.modn(k).toString(o);g=(ft=ft.idivn(k)).isZero()?at+g:H[h-at.length]+at+g}for(this.isZero()&&(g="0"+g);g.length%c!=0;)g="0"+g;return 0!==this.negative&&(g="-"+g),g}J(!1,"Base should be between 2 and 36")},b.prototype.toNumber=function(){var o=this.words[0];return 2===this.length?o+=67108864*this.words[1]:3===this.length&&1===this.words[2]?o+=4503599627370496+67108864*this.words[1]:this.length>2&&J(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-o:o},b.prototype.toJSON=function(){return this.toString(16)},b.prototype.toBuffer=function(o,c){return J(void 0!==W),this.toArrayLike(W,o,c)},b.prototype.toArray=function(o,c){return this.toArrayLike(Array,o,c)},b.prototype.toArrayLike=function(o,c,g){var p=this.byteLength(),w=g||Math.max(1,p);J(p<=w,"byte array longer than desired length"),J(w>0,"Requested array length <= 0"),this.strip();var C,h,S="le"===c,T=new o(w),k=this.clone();if(S){for(h=0;!k.isZero();h++)C=k.andln(255),k.iushrn(8),T[h]=C;for(;h<w;h++)T[h]=0}else{for(h=0;h<w-p;h++)T[h]=0;for(h=0;!k.isZero();h++)C=k.andln(255),k.iushrn(8),T[w-h-1]=C}return T},b.prototype._countBits=Math.clz32?function(o){return 32-Math.clz32(o)}:function(o){var c=o,g=0;return c>=4096&&(g+=13,c>>>=13),c>=64&&(g+=7,c>>>=7),c>=8&&(g+=4,c>>>=4),c>=2&&(g+=2,c>>>=2),g+c},b.prototype._zeroBits=function(o){if(0===o)return 26;var c=o,g=0;return 0==(8191&c)&&(g+=13,c>>>=13),0==(127&c)&&(g+=7,c>>>=7),0==(15&c)&&(g+=4,c>>>=4),0==(3&c)&&(g+=2,c>>>=2),0==(1&c)&&g++,g},b.prototype.bitLength=function(){var c=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+c},b.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,c=0;c<this.length;c++){var g=this._zeroBits(this.words[c]);if(o+=g,26!==g)break}return o},b.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},b.prototype.toTwos=function(o){return 0!==this.negative?this.abs().inotn(o).iaddn(1):this.clone()},b.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},b.prototype.isNeg=function(){return 0!==this.negative},b.prototype.neg=function(){return this.clone().ineg()},b.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},b.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var c=0;c<o.length;c++)this.words[c]=this.words[c]|o.words[c];return this.strip()},b.prototype.ior=function(o){return J(0==(this.negative|o.negative)),this.iuor(o)},b.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},b.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},b.prototype.iuand=function(o){var c;c=this.length>o.length?o:this;for(var g=0;g<c.length;g++)this.words[g]=this.words[g]&o.words[g];return this.length=c.length,this.strip()},b.prototype.iand=function(o){return J(0==(this.negative|o.negative)),this.iuand(o)},b.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},b.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},b.prototype.iuxor=function(o){var c,g;this.length>o.length?(c=this,g=o):(c=o,g=this);for(var p=0;p<g.length;p++)this.words[p]=c.words[p]^g.words[p];if(this!==c)for(;p<c.length;p++)this.words[p]=c.words[p];return this.length=c.length,this.strip()},b.prototype.ixor=function(o){return J(0==(this.negative|o.negative)),this.iuxor(o)},b.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},b.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},b.prototype.inotn=function(o){J("number"==typeof o&&o>=0);var c=0|Math.ceil(o/26),g=o%26;this._expand(c),g>0&&c--;for(var p=0;p<c;p++)this.words[p]=67108863&~this.words[p];return g>0&&(this.words[p]=~this.words[p]&67108863>>26-g),this.strip()},b.prototype.notn=function(o){return this.clone().inotn(o)},b.prototype.setn=function(o,c){J("number"==typeof o&&o>=0);var g=o/26|0,p=o%26;return this._expand(g+1),this.words[g]=c?this.words[g]|1<<p:this.words[g]&~(1<<p),this.strip()},b.prototype.iadd=function(o){var c,g,p;if(0!==this.negative&&0===o.negative)return this.negative=0,c=this.isub(o),this.negative^=1,this._normSign();if(0===this.negative&&0!==o.negative)return o.negative=0,c=this.isub(o),o.negative=1,c._normSign();this.length>o.length?(g=this,p=o):(g=o,p=this);for(var w=0,S=0;S<p.length;S++)this.words[S]=67108863&(c=(0|g.words[S])+(0|p.words[S])+w),w=c>>>26;for(;0!==w&&S<g.length;S++)this.words[S]=67108863&(c=(0|g.words[S])+w),w=c>>>26;if(this.length=g.length,0!==w)this.words[this.length]=w,this.length++;else if(g!==this)for(;S<g.length;S++)this.words[S]=g.words[S];return this},b.prototype.add=function(o){var c;return 0!==o.negative&&0===this.negative?(o.negative=0,c=this.sub(o),o.negative^=1,c):0===o.negative&&0!==this.negative?(this.negative=0,c=o.sub(this),this.negative=1,c):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},b.prototype.isub=function(o){if(0!==o.negative){o.negative=0;var c=this.iadd(o);return o.negative=1,c._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var p,w,g=this.cmp(o);if(0===g)return this.negative=0,this.length=1,this.words[0]=0,this;g>0?(p=this,w=o):(p=o,w=this);for(var S=0,T=0;T<w.length;T++)S=(c=(0|p.words[T])-(0|w.words[T])+S)>>26,this.words[T]=67108863&c;for(;0!==S&&T<p.length;T++)S=(c=(0|p.words[T])+S)>>26,this.words[T]=67108863&c;if(0===S&&T<p.length&&p!==this)for(;T<p.length;T++)this.words[T]=p.words[T];return this.length=Math.max(this.length,T),p!==this&&(this.negative=1),this.strip()},b.prototype.sub=function(o){return this.clone().isub(o)};var z=function(o,c,g){var C,h,k,p=o.words,w=c.words,S=g.words,T=0,ft=0|p[0],at=8191&ft,st=ft>>>13,Mt=0|p[1],St=8191&Mt,Xt=Mt>>>13,te=0|p[2],Vt=8191&te,Dt=te>>>13,ve=0|p[3],Gt=8191&ve,Nt=ve>>>13,Kt=0|p[4],fe=8191&Kt,zt=Kt>>>13,Ne=0|p[5],Pt=8191&Ne,Se=Ne>>>13,Fi=0|p[6],Ge=8191&Fi,_e=Fi>>>13,Ce=0|p[7],Bt=8191&Ce,re=Ce>>>13,Ye=0|p[8],jt=8191&Ye,yt=Ye>>>13,ht=0|p[9],ce=8191&ht,ke=ht>>>13,Pi=0|w[0],We=8191&Pi,si=Pi>>>13,bn=0|w[1],wi=8191&bn,je=bn>>>13,ci=0|w[2],Oe=8191&ci,oi=ci>>>13,Vn=0|w[3],ei=8191&Vn,De=Vn>>>13,qe=0|w[4],ni=8191&qe,ne=qe>>>13,Qt=0|w[5],Zt=8191&Qt,Ut=Qt>>>13,xe=0|w[6],ue=8191&xe,Re=xe>>>13,pi=0|w[7],he=8191&pi,$e=pi>>>13,_n=0|w[8],Ei=8191&_n,zi=_n>>>13,ir=0|w[9],bi=8191&ir,Li=ir>>>13;g.negative=o.negative^c.negative,g.length=19;var Ln=(T+(C=Math.imul(at,We))|0)+((8191&(h=(h=Math.imul(at,si))+Math.imul(st,We)|0))<<13)|0;T=((k=Math.imul(st,si))+(h>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,C=Math.imul(St,We),h=(h=Math.imul(St,si))+Math.imul(Xt,We)|0,k=Math.imul(Xt,si);var Kn=(T+(C=C+Math.imul(at,wi)|0)|0)+((8191&(h=(h=h+Math.imul(at,je)|0)+Math.imul(st,wi)|0))<<13)|0;T=((k=k+Math.imul(st,je)|0)+(h>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,C=Math.imul(Vt,We),h=(h=Math.imul(Vt,si))+Math.imul(Dt,We)|0,k=Math.imul(Dt,si),C=C+Math.imul(St,wi)|0,h=(h=h+Math.imul(St,je)|0)+Math.imul(Xt,wi)|0,k=k+Math.imul(Xt,je)|0;var pr=(T+(C=C+Math.imul(at,Oe)|0)|0)+((8191&(h=(h=h+Math.imul(at,oi)|0)+Math.imul(st,Oe)|0))<<13)|0;T=((k=k+Math.imul(st,oi)|0)+(h>>>13)|0)+(pr>>>26)|0,pr&=67108863,C=Math.imul(Gt,We),h=(h=Math.imul(Gt,si))+Math.imul(Nt,We)|0,k=Math.imul(Nt,si),C=C+Math.imul(Vt,wi)|0,h=(h=h+Math.imul(Vt,je)|0)+Math.imul(Dt,wi)|0,k=k+Math.imul(Dt,je)|0,C=C+Math.imul(St,Oe)|0,h=(h=h+Math.imul(St,oi)|0)+Math.imul(Xt,Oe)|0,k=k+Math.imul(Xt,oi)|0;var Jn=(T+(C=C+Math.imul(at,ei)|0)|0)+((8191&(h=(h=h+Math.imul(at,De)|0)+Math.imul(st,ei)|0))<<13)|0;T=((k=k+Math.imul(st,De)|0)+(h>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,C=Math.imul(fe,We),h=(h=Math.imul(fe,si))+Math.imul(zt,We)|0,k=Math.imul(zt,si),C=C+Math.imul(Gt,wi)|0,h=(h=h+Math.imul(Gt,je)|0)+Math.imul(Nt,wi)|0,k=k+Math.imul(Nt,je)|0,C=C+Math.imul(Vt,Oe)|0,h=(h=h+Math.imul(Vt,oi)|0)+Math.imul(Dt,Oe)|0,k=k+Math.imul(Dt,oi)|0,C=C+Math.imul(St,ei)|0,h=(h=h+Math.imul(St,De)|0)+Math.imul(Xt,ei)|0,k=k+Math.imul(Xt,De)|0;var Ni=(T+(C=C+Math.imul(at,ni)|0)|0)+((8191&(h=(h=h+Math.imul(at,ne)|0)+Math.imul(st,ni)|0))<<13)|0;T=((k=k+Math.imul(st,ne)|0)+(h>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,C=Math.imul(Pt,We),h=(h=Math.imul(Pt,si))+Math.imul(Se,We)|0,k=Math.imul(Se,si),C=C+Math.imul(fe,wi)|0,h=(h=h+Math.imul(fe,je)|0)+Math.imul(zt,wi)|0,k=k+Math.imul(zt,je)|0,C=C+Math.imul(Gt,Oe)|0,h=(h=h+Math.imul(Gt,oi)|0)+Math.imul(Nt,Oe)|0,k=k+Math.imul(Nt,oi)|0,C=C+Math.imul(Vt,ei)|0,h=(h=h+Math.imul(Vt,De)|0)+Math.imul(Dt,ei)|0,k=k+Math.imul(Dt,De)|0,C=C+Math.imul(St,ni)|0,h=(h=h+Math.imul(St,ne)|0)+Math.imul(Xt,ni)|0,k=k+Math.imul(Xt,ne)|0;var xi=(T+(C=C+Math.imul(at,Zt)|0)|0)+((8191&(h=(h=h+Math.imul(at,Ut)|0)+Math.imul(st,Zt)|0))<<13)|0;T=((k=k+Math.imul(st,Ut)|0)+(h>>>13)|0)+(xi>>>26)|0,xi&=67108863,C=Math.imul(Ge,We),h=(h=Math.imul(Ge,si))+Math.imul(_e,We)|0,k=Math.imul(_e,si),C=C+Math.imul(Pt,wi)|0,h=(h=h+Math.imul(Pt,je)|0)+Math.imul(Se,wi)|0,k=k+Math.imul(Se,je)|0,C=C+Math.imul(fe,Oe)|0,h=(h=h+Math.imul(fe,oi)|0)+Math.imul(zt,Oe)|0,k=k+Math.imul(zt,oi)|0,C=C+Math.imul(Gt,ei)|0,h=(h=h+Math.imul(Gt,De)|0)+Math.imul(Nt,ei)|0,k=k+Math.imul(Nt,De)|0,C=C+Math.imul(Vt,ni)|0,h=(h=h+Math.imul(Vt,ne)|0)+Math.imul(Dt,ni)|0,k=k+Math.imul(Dt,ne)|0,C=C+Math.imul(St,Zt)|0,h=(h=h+Math.imul(St,Ut)|0)+Math.imul(Xt,Zt)|0,k=k+Math.imul(Xt,Ut)|0;var Je=(T+(C=C+Math.imul(at,ue)|0)|0)+((8191&(h=(h=h+Math.imul(at,Re)|0)+Math.imul(st,ue)|0))<<13)|0;T=((k=k+Math.imul(st,Re)|0)+(h>>>13)|0)+(Je>>>26)|0,Je&=67108863,C=Math.imul(Bt,We),h=(h=Math.imul(Bt,si))+Math.imul(re,We)|0,k=Math.imul(re,si),C=C+Math.imul(Ge,wi)|0,h=(h=h+Math.imul(Ge,je)|0)+Math.imul(_e,wi)|0,k=k+Math.imul(_e,je)|0,C=C+Math.imul(Pt,Oe)|0,h=(h=h+Math.imul(Pt,oi)|0)+Math.imul(Se,Oe)|0,k=k+Math.imul(Se,oi)|0,C=C+Math.imul(fe,ei)|0,h=(h=h+Math.imul(fe,De)|0)+Math.imul(zt,ei)|0,k=k+Math.imul(zt,De)|0,C=C+Math.imul(Gt,ni)|0,h=(h=h+Math.imul(Gt,ne)|0)+Math.imul(Nt,ni)|0,k=k+Math.imul(Nt,ne)|0,C=C+Math.imul(Vt,Zt)|0,h=(h=h+Math.imul(Vt,Ut)|0)+Math.imul(Dt,Zt)|0,k=k+Math.imul(Dt,Ut)|0,C=C+Math.imul(St,ue)|0,h=(h=h+Math.imul(St,Re)|0)+Math.imul(Xt,ue)|0,k=k+Math.imul(Xt,Re)|0;var Ui=(T+(C=C+Math.imul(at,he)|0)|0)+((8191&(h=(h=h+Math.imul(at,$e)|0)+Math.imul(st,he)|0))<<13)|0;T=((k=k+Math.imul(st,$e)|0)+(h>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,C=Math.imul(jt,We),h=(h=Math.imul(jt,si))+Math.imul(yt,We)|0,k=Math.imul(yt,si),C=C+Math.imul(Bt,wi)|0,h=(h=h+Math.imul(Bt,je)|0)+Math.imul(re,wi)|0,k=k+Math.imul(re,je)|0,C=C+Math.imul(Ge,Oe)|0,h=(h=h+Math.imul(Ge,oi)|0)+Math.imul(_e,Oe)|0,k=k+Math.imul(_e,oi)|0,C=C+Math.imul(Pt,ei)|0,h=(h=h+Math.imul(Pt,De)|0)+Math.imul(Se,ei)|0,k=k+Math.imul(Se,De)|0,C=C+Math.imul(fe,ni)|0,h=(h=h+Math.imul(fe,ne)|0)+Math.imul(zt,ni)|0,k=k+Math.imul(zt,ne)|0,C=C+Math.imul(Gt,Zt)|0,h=(h=h+Math.imul(Gt,Ut)|0)+Math.imul(Nt,Zt)|0,k=k+Math.imul(Nt,Ut)|0,C=C+Math.imul(Vt,ue)|0,h=(h=h+Math.imul(Vt,Re)|0)+Math.imul(Dt,ue)|0,k=k+Math.imul(Dt,Re)|0,C=C+Math.imul(St,he)|0,h=(h=h+Math.imul(St,$e)|0)+Math.imul(Xt,he)|0,k=k+Math.imul(Xt,$e)|0;var on=(T+(C=C+Math.imul(at,Ei)|0)|0)+((8191&(h=(h=h+Math.imul(at,zi)|0)+Math.imul(st,Ei)|0))<<13)|0;T=((k=k+Math.imul(st,zi)|0)+(h>>>13)|0)+(on>>>26)|0,on&=67108863,C=Math.imul(ce,We),h=(h=Math.imul(ce,si))+Math.imul(ke,We)|0,k=Math.imul(ke,si),C=C+Math.imul(jt,wi)|0,h=(h=h+Math.imul(jt,je)|0)+Math.imul(yt,wi)|0,k=k+Math.imul(yt,je)|0,C=C+Math.imul(Bt,Oe)|0,h=(h=h+Math.imul(Bt,oi)|0)+Math.imul(re,Oe)|0,k=k+Math.imul(re,oi)|0,C=C+Math.imul(Ge,ei)|0,h=(h=h+Math.imul(Ge,De)|0)+Math.imul(_e,ei)|0,k=k+Math.imul(_e,De)|0,C=C+Math.imul(Pt,ni)|0,h=(h=h+Math.imul(Pt,ne)|0)+Math.imul(Se,ni)|0,k=k+Math.imul(Se,ne)|0,C=C+Math.imul(fe,Zt)|0,h=(h=h+Math.imul(fe,Ut)|0)+Math.imul(zt,Zt)|0,k=k+Math.imul(zt,Ut)|0,C=C+Math.imul(Gt,ue)|0,h=(h=h+Math.imul(Gt,Re)|0)+Math.imul(Nt,ue)|0,k=k+Math.imul(Nt,Re)|0,C=C+Math.imul(Vt,he)|0,h=(h=h+Math.imul(Vt,$e)|0)+Math.imul(Dt,he)|0,k=k+Math.imul(Dt,$e)|0,C=C+Math.imul(St,Ei)|0,h=(h=h+Math.imul(St,zi)|0)+Math.imul(Xt,Ei)|0,k=k+Math.imul(Xt,zi)|0;var nr=(T+(C=C+Math.imul(at,bi)|0)|0)+((8191&(h=(h=h+Math.imul(at,Li)|0)+Math.imul(st,bi)|0))<<13)|0;T=((k=k+Math.imul(st,Li)|0)+(h>>>13)|0)+(nr>>>26)|0,nr&=67108863,C=Math.imul(ce,wi),h=(h=Math.imul(ce,je))+Math.imul(ke,wi)|0,k=Math.imul(ke,je),C=C+Math.imul(jt,Oe)|0,h=(h=h+Math.imul(jt,oi)|0)+Math.imul(yt,Oe)|0,k=k+Math.imul(yt,oi)|0,C=C+Math.imul(Bt,ei)|0,h=(h=h+Math.imul(Bt,De)|0)+Math.imul(re,ei)|0,k=k+Math.imul(re,De)|0,C=C+Math.imul(Ge,ni)|0,h=(h=h+Math.imul(Ge,ne)|0)+Math.imul(_e,ni)|0,k=k+Math.imul(_e,ne)|0,C=C+Math.imul(Pt,Zt)|0,h=(h=h+Math.imul(Pt,Ut)|0)+Math.imul(Se,Zt)|0,k=k+Math.imul(Se,Ut)|0,C=C+Math.imul(fe,ue)|0,h=(h=h+Math.imul(fe,Re)|0)+Math.imul(zt,ue)|0,k=k+Math.imul(zt,Re)|0,C=C+Math.imul(Gt,he)|0,h=(h=h+Math.imul(Gt,$e)|0)+Math.imul(Nt,he)|0,k=k+Math.imul(Nt,$e)|0,C=C+Math.imul(Vt,Ei)|0,h=(h=h+Math.imul(Vt,zi)|0)+Math.imul(Dt,Ei)|0,k=k+Math.imul(Dt,zi)|0;var mr=(T+(C=C+Math.imul(St,bi)|0)|0)+((8191&(h=(h=h+Math.imul(St,Li)|0)+Math.imul(Xt,bi)|0))<<13)|0;T=((k=k+Math.imul(Xt,Li)|0)+(h>>>13)|0)+(mr>>>26)|0,mr&=67108863,C=Math.imul(ce,Oe),h=(h=Math.imul(ce,oi))+Math.imul(ke,Oe)|0,k=Math.imul(ke,oi),C=C+Math.imul(jt,ei)|0,h=(h=h+Math.imul(jt,De)|0)+Math.imul(yt,ei)|0,k=k+Math.imul(yt,De)|0,C=C+Math.imul(Bt,ni)|0,h=(h=h+Math.imul(Bt,ne)|0)+Math.imul(re,ni)|0,k=k+Math.imul(re,ne)|0,C=C+Math.imul(Ge,Zt)|0,h=(h=h+Math.imul(Ge,Ut)|0)+Math.imul(_e,Zt)|0,k=k+Math.imul(_e,Ut)|0,C=C+Math.imul(Pt,ue)|0,h=(h=h+Math.imul(Pt,Re)|0)+Math.imul(Se,ue)|0,k=k+Math.imul(Se,Re)|0,C=C+Math.imul(fe,he)|0,h=(h=h+Math.imul(fe,$e)|0)+Math.imul(zt,he)|0,k=k+Math.imul(zt,$e)|0,C=C+Math.imul(Gt,Ei)|0,h=(h=h+Math.imul(Gt,zi)|0)+Math.imul(Nt,Ei)|0,k=k+Math.imul(Nt,zi)|0;var Ar=(T+(C=C+Math.imul(Vt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Vt,Li)|0)+Math.imul(Dt,bi)|0))<<13)|0;T=((k=k+Math.imul(Dt,Li)|0)+(h>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,C=Math.imul(ce,ei),h=(h=Math.imul(ce,De))+Math.imul(ke,ei)|0,k=Math.imul(ke,De),C=C+Math.imul(jt,ni)|0,h=(h=h+Math.imul(jt,ne)|0)+Math.imul(yt,ni)|0,k=k+Math.imul(yt,ne)|0,C=C+Math.imul(Bt,Zt)|0,h=(h=h+Math.imul(Bt,Ut)|0)+Math.imul(re,Zt)|0,k=k+Math.imul(re,Ut)|0,C=C+Math.imul(Ge,ue)|0,h=(h=h+Math.imul(Ge,Re)|0)+Math.imul(_e,ue)|0,k=k+Math.imul(_e,Re)|0,C=C+Math.imul(Pt,he)|0,h=(h=h+Math.imul(Pt,$e)|0)+Math.imul(Se,he)|0,k=k+Math.imul(Se,$e)|0,C=C+Math.imul(fe,Ei)|0,h=(h=h+Math.imul(fe,zi)|0)+Math.imul(zt,Ei)|0,k=k+Math.imul(zt,zi)|0;var hn=(T+(C=C+Math.imul(Gt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Gt,Li)|0)+Math.imul(Nt,bi)|0))<<13)|0;T=((k=k+Math.imul(Nt,Li)|0)+(h>>>13)|0)+(hn>>>26)|0,hn&=67108863,C=Math.imul(ce,ni),h=(h=Math.imul(ce,ne))+Math.imul(ke,ni)|0,k=Math.imul(ke,ne),C=C+Math.imul(jt,Zt)|0,h=(h=h+Math.imul(jt,Ut)|0)+Math.imul(yt,Zt)|0,k=k+Math.imul(yt,Ut)|0,C=C+Math.imul(Bt,ue)|0,h=(h=h+Math.imul(Bt,Re)|0)+Math.imul(re,ue)|0,k=k+Math.imul(re,Re)|0,C=C+Math.imul(Ge,he)|0,h=(h=h+Math.imul(Ge,$e)|0)+Math.imul(_e,he)|0,k=k+Math.imul(_e,$e)|0,C=C+Math.imul(Pt,Ei)|0,h=(h=h+Math.imul(Pt,zi)|0)+Math.imul(Se,Ei)|0,k=k+Math.imul(Se,zi)|0;var xr=(T+(C=C+Math.imul(fe,bi)|0)|0)+((8191&(h=(h=h+Math.imul(fe,Li)|0)+Math.imul(zt,bi)|0))<<13)|0;T=((k=k+Math.imul(zt,Li)|0)+(h>>>13)|0)+(xr>>>26)|0,xr&=67108863,C=Math.imul(ce,Zt),h=(h=Math.imul(ce,Ut))+Math.imul(ke,Zt)|0,k=Math.imul(ke,Ut),C=C+Math.imul(jt,ue)|0,h=(h=h+Math.imul(jt,Re)|0)+Math.imul(yt,ue)|0,k=k+Math.imul(yt,Re)|0,C=C+Math.imul(Bt,he)|0,h=(h=h+Math.imul(Bt,$e)|0)+Math.imul(re,he)|0,k=k+Math.imul(re,$e)|0,C=C+Math.imul(Ge,Ei)|0,h=(h=h+Math.imul(Ge,zi)|0)+Math.imul(_e,Ei)|0,k=k+Math.imul(_e,zi)|0;var Hr=(T+(C=C+Math.imul(Pt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Pt,Li)|0)+Math.imul(Se,bi)|0))<<13)|0;T=((k=k+Math.imul(Se,Li)|0)+(h>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,C=Math.imul(ce,ue),h=(h=Math.imul(ce,Re))+Math.imul(ke,ue)|0,k=Math.imul(ke,Re),C=C+Math.imul(jt,he)|0,h=(h=h+Math.imul(jt,$e)|0)+Math.imul(yt,he)|0,k=k+Math.imul(yt,$e)|0,C=C+Math.imul(Bt,Ei)|0,h=(h=h+Math.imul(Bt,zi)|0)+Math.imul(re,Ei)|0,k=k+Math.imul(re,zi)|0;var so=(T+(C=C+Math.imul(Ge,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Ge,Li)|0)+Math.imul(_e,bi)|0))<<13)|0;T=((k=k+Math.imul(_e,Li)|0)+(h>>>13)|0)+(so>>>26)|0,so&=67108863,C=Math.imul(ce,he),h=(h=Math.imul(ce,$e))+Math.imul(ke,he)|0,k=Math.imul(ke,$e),C=C+Math.imul(jt,Ei)|0,h=(h=h+Math.imul(jt,zi)|0)+Math.imul(yt,Ei)|0,k=k+Math.imul(yt,zi)|0;var Vr=(T+(C=C+Math.imul(Bt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Bt,Li)|0)+Math.imul(re,bi)|0))<<13)|0;T=((k=k+Math.imul(re,Li)|0)+(h>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,C=Math.imul(ce,Ei),h=(h=Math.imul(ce,zi))+Math.imul(ke,Ei)|0,k=Math.imul(ke,zi);var Pr=(T+(C=C+Math.imul(jt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(jt,Li)|0)+Math.imul(yt,bi)|0))<<13)|0;T=((k=k+Math.imul(yt,Li)|0)+(h>>>13)|0)+(Pr>>>26)|0,Pr&=67108863;var ar=(T+(C=Math.imul(ce,bi))|0)+((8191&(h=(h=Math.imul(ce,Li))+Math.imul(ke,bi)|0))<<13)|0;return T=((k=Math.imul(ke,Li))+(h>>>13)|0)+(ar>>>26)|0,ar&=67108863,S[0]=Ln,S[1]=Kn,S[2]=pr,S[3]=Jn,S[4]=Ni,S[5]=xi,S[6]=Je,S[7]=Ui,S[8]=on,S[9]=nr,S[10]=mr,S[11]=Ar,S[12]=hn,S[13]=xr,S[14]=Hr,S[15]=so,S[16]=Vr,S[17]=Pr,S[18]=ar,0!==T&&(S[19]=T,g.length++),g};function q(A,o,c){return(new U).mulp(A,o,c)}function U(A,o){this.x=A,this.y=o}Math.imul||(z=X),b.prototype.mulTo=function(o,c){var g,p=this.length+o.length;return g=10===this.length&&10===o.length?z(this,o,c):p<63?X(this,o,c):p<1024?function(A,o,c){c.negative=o.negative^A.negative,c.length=A.length+o.length;for(var g=0,p=0,w=0;w<c.length-1;w++){var S=p;p=0;for(var T=67108863&g,C=Math.min(w,o.length-1),h=Math.max(0,w-A.length+1);h<=C;h++){var st=(0|A.words[w-h])*(0|o.words[h]),Mt=67108863&st;T=67108863&(Mt=Mt+T|0),p+=(S=(S=S+(st/67108864|0)|0)+(Mt>>>26)|0)>>>26,S&=67108863}c.words[w]=T,g=S,S=p}return 0!==g?c.words[w]=g:c.length--,c.strip()}(this,o,c):q(this,o,c),g},U.prototype.makeRBT=function(o){for(var c=new Array(o),g=b.prototype._countBits(o)-1,p=0;p<o;p++)c[p]=this.revBin(p,g,o);return c},U.prototype.revBin=function(o,c,g){if(0===o||o===g-1)return o;for(var p=0,w=0;w<c;w++)p|=(1&o)<<c-w-1,o>>=1;return p},U.prototype.permute=function(o,c,g,p,w,S){for(var T=0;T<S;T++)p[T]=c[o[T]],w[T]=g[o[T]]},U.prototype.transform=function(o,c,g,p,w,S){this.permute(S,o,c,g,p,w);for(var T=1;T<w;T<<=1)for(var C=T<<1,h=Math.cos(2*Math.PI/C),k=Math.sin(2*Math.PI/C),ft=0;ft<w;ft+=C)for(var at=h,st=k,Mt=0;Mt<T;Mt++){var St=g[ft+Mt],Xt=p[ft+Mt],te=g[ft+Mt+T],Vt=p[ft+Mt+T],Dt=at*te-st*Vt;Vt=at*Vt+st*te,g[ft+Mt]=St+(te=Dt),p[ft+Mt]=Xt+Vt,g[ft+Mt+T]=St-te,p[ft+Mt+T]=Xt-Vt,Mt!==C&&(Dt=h*at-k*st,st=h*st+k*at,at=Dt)}},U.prototype.guessLen13b=function(o,c){var g=1|Math.max(c,o),p=1&g,w=0;for(g=g/2|0;g;g>>>=1)w++;return 1<<w+1+p},U.prototype.conjugate=function(o,c,g){if(!(g<=1))for(var p=0;p<g/2;p++){var w=o[p];o[p]=o[g-p-1],o[g-p-1]=w,w=c[p],c[p]=-c[g-p-1],c[g-p-1]=-w}},U.prototype.normalize13b=function(o,c){for(var g=0,p=0;p<c/2;p++){var w=8192*Math.round(o[2*p+1]/c)+Math.round(o[2*p]/c)+g;o[p]=67108863&w,g=w<67108864?0:w/67108864|0}return o},U.prototype.convert13b=function(o,c,g,p){for(var w=0,S=0;S<c;S++)g[2*S]=8191&(w+=0|o[S]),g[2*S+1]=8191&(w>>>=13),w>>>=13;for(S=2*c;S<p;++S)g[S]=0;J(0===w),J(0==(-8192&w))},U.prototype.stub=function(o){for(var c=new Array(o),g=0;g<o;g++)c[g]=0;return c},U.prototype.mulp=function(o,c,g){var p=2*this.guessLen13b(o.length,c.length),w=this.makeRBT(p),S=this.stub(p),T=new Array(p),C=new Array(p),h=new Array(p),k=new Array(p),ft=new Array(p),at=new Array(p),st=g.words;st.length=p,this.convert13b(o.words,o.length,T,p),this.convert13b(c.words,c.length,k,p),this.transform(T,S,C,h,p,w),this.transform(k,S,ft,at,p,w);for(var Mt=0;Mt<p;Mt++){var St=C[Mt]*ft[Mt]-h[Mt]*at[Mt];h[Mt]=C[Mt]*at[Mt]+h[Mt]*ft[Mt],C[Mt]=St}return this.conjugate(C,h,p),this.transform(C,h,st,S,p,w),this.conjugate(st,S,p),this.normalize13b(st,p),g.negative=o.negative^c.negative,g.length=o.length+c.length,g.strip()},b.prototype.mul=function(o){var c=new b(null);return c.words=new Array(this.length+o.length),this.mulTo(o,c)},b.prototype.mulf=function(o){var c=new b(null);return c.words=new Array(this.length+o.length),q(this,o,c)},b.prototype.imul=function(o){return this.clone().mulTo(o,this)},b.prototype.imuln=function(o){J("number"==typeof o),J(o<67108864);for(var c=0,g=0;g<this.length;g++){var p=(0|this.words[g])*o,w=(67108863&p)+(67108863&c);c>>=26,c+=p/67108864|0,c+=w>>>26,this.words[g]=67108863&w}return 0!==c&&(this.words[g]=c,this.length++),this},b.prototype.muln=function(o){return this.clone().imuln(o)},b.prototype.sqr=function(){return this.mul(this)},b.prototype.isqr=function(){return this.imul(this.clone())},b.prototype.pow=function(o){var c=function(A){for(var o=new Array(A.bitLength()),c=0;c<o.length;c++){var p=c%26;o[c]=(A.words[c/26|0]&1<<p)>>>p}return o}(o);if(0===c.length)return new b(1);for(var g=this,p=0;p<c.length&&0===c[p];p++,g=g.sqr());if(++p<c.length)for(var w=g.sqr();p<c.length;p++,w=w.sqr())0!==c[p]&&(g=g.mul(w));return g},b.prototype.iushln=function(o){J("number"==typeof o&&o>=0);var w,c=o%26,g=(o-c)/26,p=67108863>>>26-c<<26-c;if(0!==c){var S=0;for(w=0;w<this.length;w++){var T=this.words[w]&p;this.words[w]=(0|this.words[w])-T<<c|S,S=T>>>26-c}S&&(this.words[w]=S,this.length++)}if(0!==g){for(w=this.length-1;w>=0;w--)this.words[w+g]=this.words[w];for(w=0;w<g;w++)this.words[w]=0;this.length+=g}return this.strip()},b.prototype.ishln=function(o){return J(0===this.negative),this.iushln(o)},b.prototype.iushrn=function(o,c,g){var p;J("number"==typeof o&&o>=0),p=c?(c-c%26)/26:0;var w=o%26,S=Math.min((o-w)/26,this.length),T=67108863^67108863>>>w<<w,C=g;if(p-=S,p=Math.max(0,p),C){for(var h=0;h<S;h++)C.words[h]=this.words[h];C.length=S}if(0!==S)if(this.length>S)for(this.length-=S,h=0;h<this.length;h++)this.words[h]=this.words[h+S];else this.words[0]=0,this.length=1;var k=0;for(h=this.length-1;h>=0&&(0!==k||h>=p);h--){var ft=0|this.words[h];this.words[h]=k<<26-w|ft>>>w,k=ft&T}return C&&0!==k&&(C.words[C.length++]=k),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},b.prototype.ishrn=function(o,c,g){return J(0===this.negative),this.iushrn(o,c,g)},b.prototype.shln=function(o){return this.clone().ishln(o)},b.prototype.ushln=function(o){return this.clone().iushln(o)},b.prototype.shrn=function(o){return this.clone().ishrn(o)},b.prototype.ushrn=function(o){return this.clone().iushrn(o)},b.prototype.testn=function(o){J("number"==typeof o&&o>=0);var c=o%26,g=(o-c)/26;return!(this.length<=g||!(this.words[g]&1<<c))},b.prototype.imaskn=function(o){J("number"==typeof o&&o>=0);var c=o%26,g=(o-c)/26;return J(0===this.negative,"imaskn works only with positive numbers"),this.length<=g?this:(0!==c&&g++,this.length=Math.min(g,this.length),0!==c&&(this.words[this.length-1]&=67108863^67108863>>>c<<c),this.strip())},b.prototype.maskn=function(o){return this.clone().imaskn(o)},b.prototype.iaddn=function(o){return J("number"==typeof o),J(o<67108864),o<0?this.isubn(-o):0!==this.negative?1===this.length&&(0|this.words[0])<o?(this.words[0]=o-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},b.prototype._iaddn=function(o){this.words[0]+=o;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},b.prototype.isubn=function(o){if(J("number"==typeof o),J(o<67108864),o<0)return this.iaddn(-o);if(0!==this.negative)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this.strip()},b.prototype.addn=function(o){return this.clone().iaddn(o)},b.prototype.subn=function(o){return this.clone().isubn(o)},b.prototype.iabs=function(){return this.negative=0,this},b.prototype.abs=function(){return this.clone().iabs()},b.prototype._ishlnsubmul=function(o,c,g){var w;this._expand(o.length+g);var S,T=0;for(w=0;w<o.length;w++){S=(0|this.words[w+g])+T;var C=(0|o.words[w])*c;T=((S-=67108863&C)>>26)-(C/67108864|0),this.words[w+g]=67108863&S}for(;w<this.length-g;w++)T=(S=(0|this.words[w+g])+T)>>26,this.words[w+g]=67108863&S;if(0===T)return this.strip();for(J(-1===T),T=0,w=0;w<this.length;w++)T=(S=-(0|this.words[w])+T)>>26,this.words[w]=67108863&S;return this.negative=1,this.strip()},b.prototype._wordDiv=function(o,c){var g,p=this.clone(),w=o,S=0|w.words[w.length-1];0!=(g=26-this._countBits(S))&&(w=w.ushln(g),p.iushln(g),S=0|w.words[w.length-1]);var h,C=p.length-w.length;if("mod"!==c){(h=new b(null)).length=C+1,h.words=new Array(h.length);for(var k=0;k<h.length;k++)h.words[k]=0}var ft=p.clone()._ishlnsubmul(w,1,C);0===ft.negative&&(p=ft,h&&(h.words[C]=1));for(var at=C-1;at>=0;at--){var st=67108864*(0|p.words[w.length+at])+(0|p.words[w.length+at-1]);for(st=Math.min(st/S|0,67108863),p._ishlnsubmul(w,st,at);0!==p.negative;)st--,p.negative=0,p._ishlnsubmul(w,1,at),p.isZero()||(p.negative^=1);h&&(h.words[at]=st)}return h&&h.strip(),p.strip(),"div"!==c&&0!==g&&p.iushrn(g),{div:h||null,mod:p}},b.prototype.divmod=function(o,c,g){return J(!o.isZero()),this.isZero()?{div:new b(0),mod:new b(0)}:0!==this.negative&&0===o.negative?(S=this.neg().divmod(o,c),"mod"!==c&&(p=S.div.neg()),"div"!==c&&(w=S.mod.neg(),g&&0!==w.negative&&w.iadd(o)),{div:p,mod:w}):0===this.negative&&0!==o.negative?(S=this.divmod(o.neg(),c),"mod"!==c&&(p=S.div.neg()),{div:p,mod:S.mod}):0!=(this.negative&o.negative)?(S=this.neg().divmod(o.neg(),c),"div"!==c&&(w=S.mod.neg(),g&&0!==w.negative&&w.isub(o)),{div:S.div,mod:w}):o.length>this.length||this.cmp(o)<0?{div:new b(0),mod:this}:1===o.length?"div"===c?{div:this.divn(o.words[0]),mod:null}:"mod"===c?{div:null,mod:new b(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new b(this.modn(o.words[0]))}:this._wordDiv(o,c);var p,w,S},b.prototype.div=function(o){return this.divmod(o,"div",!1).div},b.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},b.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},b.prototype.divRound=function(o){var c=this.divmod(o);if(c.mod.isZero())return c.div;var g=0!==c.div.negative?c.mod.isub(o):c.mod,p=o.ushrn(1),w=o.andln(1),S=g.cmp(p);return S<0||1===w&&0===S?c.div:0!==c.div.negative?c.div.isubn(1):c.div.iaddn(1)},b.prototype.modn=function(o){J(o<=67108863);for(var c=(1<<26)%o,g=0,p=this.length-1;p>=0;p--)g=(c*g+(0|this.words[p]))%o;return g},b.prototype.idivn=function(o){J(o<=67108863);for(var c=0,g=this.length-1;g>=0;g--){var p=(0|this.words[g])+67108864*c;this.words[g]=p/o|0,c=p%o}return this.strip()},b.prototype.divn=function(o){return this.clone().idivn(o)},b.prototype.egcd=function(o){J(0===o.negative),J(!o.isZero());var c=this,g=o.clone();c=0!==c.negative?c.umod(o):c.clone();for(var p=new b(1),w=new b(0),S=new b(0),T=new b(1),C=0;c.isEven()&&g.isEven();)c.iushrn(1),g.iushrn(1),++C;for(var h=g.clone(),k=c.clone();!c.isZero();){for(var ft=0,at=1;0==(c.words[0]&at)&&ft<26;++ft,at<<=1);if(ft>0)for(c.iushrn(ft);ft-- >0;)(p.isOdd()||w.isOdd())&&(p.iadd(h),w.isub(k)),p.iushrn(1),w.iushrn(1);for(var st=0,Mt=1;0==(g.words[0]&Mt)&&st<26;++st,Mt<<=1);if(st>0)for(g.iushrn(st);st-- >0;)(S.isOdd()||T.isOdd())&&(S.iadd(h),T.isub(k)),S.iushrn(1),T.iushrn(1);c.cmp(g)>=0?(c.isub(g),p.isub(S),w.isub(T)):(g.isub(c),S.isub(p),T.isub(w))}return{a:S,b:T,gcd:g.iushln(C)}},b.prototype._invmp=function(o){J(0===o.negative),J(!o.isZero());var ft,c=this,g=o.clone();c=0!==c.negative?c.umod(o):c.clone();for(var p=new b(1),w=new b(0),S=g.clone();c.cmpn(1)>0&&g.cmpn(1)>0;){for(var T=0,C=1;0==(c.words[0]&C)&&T<26;++T,C<<=1);if(T>0)for(c.iushrn(T);T-- >0;)p.isOdd()&&p.iadd(S),p.iushrn(1);for(var h=0,k=1;0==(g.words[0]&k)&&h<26;++h,k<<=1);if(h>0)for(g.iushrn(h);h-- >0;)w.isOdd()&&w.iadd(S),w.iushrn(1);c.cmp(g)>=0?(c.isub(g),p.isub(w)):(g.isub(c),w.isub(p))}return(ft=0===c.cmpn(1)?p:w).cmpn(0)<0&&ft.iadd(o),ft},b.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var c=this.clone(),g=o.clone();c.negative=0,g.negative=0;for(var p=0;c.isEven()&&g.isEven();p++)c.iushrn(1),g.iushrn(1);for(;;){for(;c.isEven();)c.iushrn(1);for(;g.isEven();)g.iushrn(1);var w=c.cmp(g);if(w<0){var S=c;c=g,g=S}else if(0===w||0===g.cmpn(1))break;c.isub(g)}return g.iushln(p)},b.prototype.invm=function(o){return this.egcd(o).a.umod(o)},b.prototype.isEven=function(){return 0==(1&this.words[0])},b.prototype.isOdd=function(){return 1==(1&this.words[0])},b.prototype.andln=function(o){return this.words[0]&o},b.prototype.bincn=function(o){J("number"==typeof o);var c=o%26,g=(o-c)/26,p=1<<c;if(this.length<=g)return this._expand(g+1),this.words[g]|=p,this;for(var w=p,S=g;0!==w&&S<this.length;S++){var T=0|this.words[S];w=(T+=w)>>>26,this.words[S]=T&=67108863}return 0!==w&&(this.words[S]=w,this.length++),this},b.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},b.prototype.cmpn=function(o){var g,c=o<0;if(0!==this.negative&&!c)return-1;if(0===this.negative&&c)return 1;if(this.strip(),this.length>1)g=1;else{c&&(o=-o),J(o<=67108863,"Number is too big");var p=0|this.words[0];g=p===o?0:p<o?-1:1}return 0!==this.negative?0|-g:g},b.prototype.cmp=function(o){if(0!==this.negative&&0===o.negative)return-1;if(0===this.negative&&0!==o.negative)return 1;var c=this.ucmp(o);return 0!==this.negative?0|-c:c},b.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var c=0,g=this.length-1;g>=0;g--){var p=0|this.words[g],w=0|o.words[g];if(p!==w){p<w?c=-1:p>w&&(c=1);break}}return c},b.prototype.gtn=function(o){return 1===this.cmpn(o)},b.prototype.gt=function(o){return 1===this.cmp(o)},b.prototype.gten=function(o){return this.cmpn(o)>=0},b.prototype.gte=function(o){return this.cmp(o)>=0},b.prototype.ltn=function(o){return-1===this.cmpn(o)},b.prototype.lt=function(o){return-1===this.cmp(o)},b.prototype.lten=function(o){return this.cmpn(o)<=0},b.prototype.lte=function(o){return this.cmp(o)<=0},b.prototype.eqn=function(o){return 0===this.cmpn(o)},b.prototype.eq=function(o){return 0===this.cmp(o)},b.red=function(o){return new Tt(o)},b.prototype.toRed=function(o){return J(!this.red,"Already a number in reduction context"),J(0===this.negative,"red works only with positives"),o.convertTo(this)._forceRed(o)},b.prototype.fromRed=function(){return J(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},b.prototype._forceRed=function(o){return this.red=o,this},b.prototype.forceRed=function(o){return J(!this.red,"Already a number in reduction context"),this._forceRed(o)},b.prototype.redAdd=function(o){return J(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},b.prototype.redIAdd=function(o){return J(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},b.prototype.redSub=function(o){return J(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},b.prototype.redISub=function(o){return J(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},b.prototype.redShl=function(o){return J(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},b.prototype.redMul=function(o){return J(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},b.prototype.redIMul=function(o){return J(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},b.prototype.redSqr=function(){return J(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},b.prototype.redISqr=function(){return J(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},b.prototype.redSqrt=function(){return J(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},b.prototype.redInvm=function(){return J(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},b.prototype.redNeg=function(){return J(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},b.prototype.redPow=function(o){return J(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var it={k256:null,p224:null,p192:null,p25519:null};function ot(A,o){this.name=A,this.p=new b(o,16),this.n=this.p.bitLength(),this.k=new b(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function lt(){ot.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function wt(){ot.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function xt(){ot.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Ot(){ot.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Tt(A){if("string"==typeof A){var o=b._prime(A);this.m=o.p,this.prime=o}else J(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}function Et(A){Tt.call(this,A),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new b(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ot.prototype._tmp=function(){var o=new b(null);return o.words=new Array(Math.ceil(this.n/13)),o},ot.prototype.ireduce=function(o){var g,c=o;do{this.split(c,this.tmp),g=(c=(c=this.imulK(c)).iadd(this.tmp)).bitLength()}while(g>this.n);var p=g<this.n?-1:c.ucmp(this.p);return 0===p?(c.words[0]=0,c.length=1):p>0?c.isub(this.p):void 0!==c.strip?c.strip():c._strip(),c},ot.prototype.split=function(o,c){o.iushrn(this.n,0,c)},ot.prototype.imulK=function(o){return o.imul(this.k)},tt(lt,ot),lt.prototype.split=function(o,c){for(var g=4194303,p=Math.min(o.length,9),w=0;w<p;w++)c.words[w]=o.words[w];if(c.length=p,o.length<=9)return o.words[0]=0,void(o.length=1);var S=o.words[9];for(c.words[c.length++]=S&g,w=10;w<o.length;w++){var T=0|o.words[w];o.words[w-10]=(T&g)<<4|S>>>22,S=T}o.words[w-10]=S>>>=22,o.length-=0===S&&o.length>10?10:9},lt.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var c=0,g=0;g<o.length;g++){var p=0|o.words[g];o.words[g]=67108863&(c+=977*p),c=64*p+(c/67108864|0)}return 0===o.words[o.length-1]&&(o.length--,0===o.words[o.length-1]&&o.length--),o},tt(wt,ot),tt(xt,ot),tt(Ot,ot),Ot.prototype.imulK=function(o){for(var c=0,g=0;g<o.length;g++){var p=19*(0|o.words[g])+c,w=67108863&p;p>>>=26,o.words[g]=w,c=p}return 0!==c&&(o.words[o.length++]=c),o},b._prime=function(o){if(it[o])return it[o];var c;if("k256"===o)c=new lt;else if("p224"===o)c=new wt;else if("p192"===o)c=new xt;else{if("p25519"!==o)throw new Error("Unknown prime "+o);c=new Ot}return it[o]=c,c},Tt.prototype._verify1=function(o){J(0===o.negative,"red works only with positives"),J(o.red,"red works only with red numbers")},Tt.prototype._verify2=function(o,c){J(0==(o.negative|c.negative),"red works only with positives"),J(o.red&&o.red===c.red,"red works only with red numbers")},Tt.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},Tt.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},Tt.prototype.add=function(o,c){this._verify2(o,c);var g=o.add(c);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},Tt.prototype.iadd=function(o,c){this._verify2(o,c);var g=o.iadd(c);return g.cmp(this.m)>=0&&g.isub(this.m),g},Tt.prototype.sub=function(o,c){this._verify2(o,c);var g=o.sub(c);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},Tt.prototype.isub=function(o,c){this._verify2(o,c);var g=o.isub(c);return g.cmpn(0)<0&&g.iadd(this.m),g},Tt.prototype.shl=function(o,c){return this._verify1(o),this.imod(o.ushln(c))},Tt.prototype.imul=function(o,c){return this._verify2(o,c),this.imod(o.imul(c))},Tt.prototype.mul=function(o,c){return this._verify2(o,c),this.imod(o.mul(c))},Tt.prototype.isqr=function(o){return this.imul(o,o.clone())},Tt.prototype.sqr=function(o){return this.mul(o,o)},Tt.prototype.sqrt=function(o){if(o.isZero())return o.clone();var c=this.m.andln(3);if(J(c%2==1),3===c){var g=this.m.add(new b(1)).iushrn(2);return this.pow(o,g)}for(var p=this.m.subn(1),w=0;!p.isZero()&&0===p.andln(1);)w++,p.iushrn(1);J(!p.isZero());var S=new b(1).toRed(this),T=S.redNeg(),C=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new b(2*h*h).toRed(this);0!==this.pow(h,C).cmp(T);)h.redIAdd(T);for(var k=this.pow(h,p),ft=this.pow(o,p.addn(1).iushrn(1)),at=this.pow(o,p),st=w;0!==at.cmp(S);){for(var Mt=at,St=0;0!==Mt.cmp(S);St++)Mt=Mt.redSqr();J(St<st);var Xt=this.pow(k,new b(1).iushln(st-St-1));ft=ft.redMul(Xt),k=Xt.redSqr(),at=at.redMul(k),st=St}return ft},Tt.prototype.invm=function(o){var c=o._invmp(this.m);return 0!==c.negative?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},Tt.prototype.pow=function(o,c){if(c.isZero())return new b(1).toRed(this);if(0===c.cmpn(1))return o.clone();var p=new Array(16);p[0]=new b(1).toRed(this),p[1]=o;for(var w=2;w<p.length;w++)p[w]=this.mul(p[w-1],o);var S=p[0],T=0,C=0,h=c.bitLength()%26;for(0===h&&(h=26),w=c.length-1;w>=0;w--){for(var k=c.words[w],ft=h-1;ft>=0;ft--){var at=k>>ft&1;S!==p[0]&&(S=this.sqr(S)),0!==at||0!==T?(T<<=1,T|=at,(4==++C||0===w&&0===ft)&&(S=this.mul(S,p[T]),C=0,T=0)):C=0}h=26}return S},Tt.prototype.convertTo=function(o){var c=o.umod(this.m);return c===o?c.clone():c},Tt.prototype.convertFrom=function(o){var c=o.clone();return c.red=null,c},b.mont=function(o){return new Et(o)},tt(Et,Tt),Et.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Et.prototype.convertFrom=function(o){var c=this.imod(o.mul(this.rinv));return c.red=null,c},Et.prototype.imul=function(o,c){if(o.isZero()||c.isZero())return o.words[0]=0,o.length=1,o;var g=o.imul(c),p=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=g.isub(p).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},Et.prototype.mul=function(o,c){if(o.isZero()||c.isZero())return new b(0)._forceRed(this);var g=o.mul(c),p=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=g.isub(p).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},Et.prototype.invm=function(o){return this.imod(o._invmp(this.m).mul(this.r2))._forceRed(this)}}(Ee=ut.nmd(Ee),this)},4725:Ee=>{function Q(ut,ct){if(!ut)throw new Error(ct||"Assertion failed")}Ee.exports=Q,Q.equal=function(ct,f,J){if(ct!=f)throw new Error(J||"Assertion failed: "+ct+" != "+f)}},1171:(Ee,Q)=>{"use strict";var ut=Q;function f(tt){return 1===tt.length?"0"+tt:tt}function J(tt){for(var b="",W=0;W<tt.length;W++)b+=f(tt[W].toString(16));return b}ut.toArray=function(tt,b){if(Array.isArray(tt))return tt.slice();if(!tt)return[];var W=[];if("string"!=typeof tt){for(var G=0;G<tt.length;G++)W[G]=0|tt[G];return W}if("hex"===b)for((tt=tt.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(tt="0"+tt),G=0;G<tt.length;G+=2)W.push(parseInt(tt[G]+tt[G+1],16));else for(G=0;G<tt.length;G++){var rt=tt.charCodeAt(G),Z=rt>>8,H=255&rt;Z?W.push(Z,H):W.push(H)}return W},ut.zero2=f,ut.toHex=J,ut.encode=function(b,W){return"hex"===W?J(b):b}},9817:(Ee,Q,ut)=>{"use strict";var ct=ut(46);Q.certificate=ut(191);var f=ct.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});Q.RSAPrivateKey=f;var J=ct.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});Q.RSAPublicKey=J;var tt=ct.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(b),this.key("subjectPublicKey").bitstr())});Q.PublicKey=tt;var b=ct.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),W=ct.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(b),this.key("subjectPrivateKey").octstr())});Q.PrivateKey=W;var G=ct.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});Q.EncryptedPrivateKey=G;var rt=ct.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});Q.DSAPrivateKey=rt,Q.DSAparam=ct.define("DSAparam",function(){this.int()});var Z=ct.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(H),this.key("publicKey").optional().explicit(1).bitstr())});Q.ECPrivateKey=Z;var H=ct.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});Q.signature=ct.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},191:(Ee,Q,ut)=>{"use strict";var ct=ut(46),f=ct.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),J=ct.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),tt=ct.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),b=ct.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(tt),this.key("subjectPublicKey").bitstr())}),W=ct.define("RelativeDistinguishedName",function(){this.setof(J)}),G=ct.define("RDNSequence",function(){this.seqof(W)}),rt=ct.define("Name",function(){this.choice({rdnSequence:this.use(G)})}),Z=ct.define("Validity",function(){this.seq().obj(this.key("notBefore").use(f),this.key("notAfter").use(f))}),H=ct.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),F=ct.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(tt),this.key("issuer").use(rt),this.key("validity").use(Z),this.key("subject").use(rt),this.key("subjectPublicKeyInfo").use(b),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(H).optional())}),et=ct.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(F),this.key("signatureAlgorithm").use(tt),this.key("signatureValue").bitstr())});Ee.exports=et},5380:(Ee,Q,ut)=>{var ct=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,f=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,J=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,tt=ut(4539),b=ut(8809),W=ut(4615).Buffer;Ee.exports=function(G,rt){var F,Z=G.toString(),H=Z.match(ct);if(H){var B="aes"+H[1],X=W.from(H[2],"hex"),z=W.from(H[3].replace(/[\r\n]/g,""),"base64"),Y=tt(rt,X.slice(0,8),parseInt(H[1],10)).key,q=[],U=b.createDecipheriv(B,Y,X);q.push(U.update(z)),q.push(U.final()),F=W.concat(q)}else{var et=Z.match(J);F=W.from(et[2].replace(/[\r\n]/g,""),"base64")}return{tag:Z.match(f)[1],data:F}}},347:(Ee,Q,ut)=>{var ct=ut(9817),f=ut(2562),J=ut(5380),tt=ut(8809),b=ut(6556),W=ut(4615).Buffer;function G(Z){var H;"object"==typeof Z&&!W.isBuffer(Z)&&(H=Z.passphrase,Z=Z.key),"string"==typeof Z&&(Z=W.from(Z));var X,z,F=J(Z,H),et=F.tag,B=F.data;switch(et){case"CERTIFICATE":z=ct.certificate.decode(B,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(z||(z=ct.PublicKey.decode(B,"der")),X=z.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return ct.RSAPublicKey.decode(z.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return z.subjectPrivateKey=z.subjectPublicKey,{type:"ec",data:z};case"1.2.840.10040.4.1":return z.algorithm.params.pub_key=ct.DSAparam.decode(z.subjectPublicKey.data,"der"),{type:"dsa",data:z.algorithm.params};default:throw new Error("unknown key id "+X)}case"ENCRYPTED PRIVATE KEY":B=function(Z,H){var F=Z.algorithm.decrypt.kde.kdeparams.salt,et=parseInt(Z.algorithm.decrypt.kde.kdeparams.iters.toString(),10),B=f[Z.algorithm.decrypt.cipher.algo.join(".")],X=Z.algorithm.decrypt.cipher.iv,z=Z.subjectPrivateKey,Y=parseInt(B.split("-")[1],10)/8,q=b.pbkdf2Sync(H,F,et,Y,"sha1"),U=tt.createDecipheriv(B,q,X),it=[];return it.push(U.update(z)),it.push(U.final()),W.concat(it)}(B=ct.EncryptedPrivateKey.decode(B,"der"),H);case"PRIVATE KEY":switch(X=(z=ct.PrivateKey.decode(B,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return ct.RSAPrivateKey.decode(z.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:z.algorithm.curve,privateKey:ct.ECPrivateKey.decode(z.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return z.algorithm.params.priv_key=ct.DSAparam.decode(z.subjectPrivateKey,"der"),{type:"dsa",params:z.algorithm.params};default:throw new Error("unknown key id "+X)}case"RSA PUBLIC KEY":return ct.RSAPublicKey.decode(B,"der");case"RSA PRIVATE KEY":return ct.RSAPrivateKey.decode(B,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:ct.DSAPrivateKey.decode(B,"der")};case"EC PRIVATE KEY":return{curve:(B=ct.ECPrivateKey.decode(B,"der")).parameters.value,privateKey:B.privateKey};default:throw new Error("unknown key type "+et)}}Ee.exports=G,G.signature=ct.signature},6556:(Ee,Q,ut)=>{Q.pbkdf2=ut(3373),Q.pbkdf2Sync=ut(9791)},3373:(Ee,Q,ut)=>{var W,F,ct=ut(4615).Buffer,f=ut(3605),J=ut(8184),tt=ut(9791),b=ut(474),G=global.crypto&&global.crypto.subtle,rt={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},Z=[];function et(){return F||(F=global.process&&global.process.nextTick?global.process.nextTick:global.queueMicrotask?global.queueMicrotask:global.setImmediate?global.setImmediate:global.setTimeout)}function B(z,Y,q,U,it){return G.importKey("raw",z,{name:"PBKDF2"},!1,["deriveBits"]).then(function(ot){return G.deriveBits({name:"PBKDF2",salt:Y,iterations:q,hash:{name:it}},ot,U<<3)}).then(function(ot){return ct.from(ot)})}Ee.exports=function(z,Y,q,U,it,ot){"function"==typeof it&&(ot=it,it=void 0);var lt=rt[(it=it||"sha1").toLowerCase()];if(lt&&"function"==typeof global.Promise){if(f(q,U),z=b(z,J,"Password"),Y=b(Y,J,"Salt"),"function"!=typeof ot)throw new Error("No callback provided to pbkdf2");!function(z,Y){z.then(function(q){et()(function(){Y(null,q)})},function(q){et()(function(){Y(q)})})}(function(z){if(global.process&&!global.process.browser||!G||!G.importKey||!G.deriveBits)return Promise.resolve(!1);if(void 0!==Z[z])return Z[z];var Y=B(W=W||ct.alloc(8),W,10,128,z).then(function(){return!0}).catch(function(){return!1});return Z[z]=Y,Y}(lt).then(function(wt){return wt?B(z,Y,q,U,lt):tt(z,Y,q,U,it)}),ot)}else et()(function(){var wt;try{wt=tt(z,Y,q,U,it)}catch(xt){return ot(xt)}ot(null,wt)})}},8184:Ee=>{var Q;Q=global.process&&global.process.browser?"utf-8":global.process&&global.process.version?parseInt(process.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",Ee.exports=Q},3605:Ee=>{var Q=Math.pow(2,30)-1;Ee.exports=function(ut,ct){if("number"!=typeof ut)throw new TypeError("Iterations not a number");if(ut<0)throw new TypeError("Bad iterations");if("number"!=typeof ct)throw new TypeError("Key length not a number");if(ct<0||ct>Q||ct!=ct)throw new TypeError("Bad key length")}},9791:(Ee,Q,ut)=>{var ct=ut(4936),f=ut(7447),J=ut(6010),tt=ut(4615).Buffer,b=ut(3605),W=ut(8184),G=ut(474),rt=tt.alloc(128),Z={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function H(B,X,z){var Y=function(B){return"rmd160"===B||"ripemd160"===B?function(Y){return(new f).update(Y).digest()}:"md5"===B?ct:function(Y){return J(B).update(Y).digest()}}(B),q="sha512"===B||"sha384"===B?128:64;X.length>q?X=Y(X):X.length<q&&(X=tt.concat([X,rt],q));for(var U=tt.allocUnsafe(q+Z[B]),it=tt.allocUnsafe(q+Z[B]),ot=0;ot<q;ot++)U[ot]=54^X[ot],it[ot]=92^X[ot];var lt=tt.allocUnsafe(q+z+4);U.copy(lt,0,0,q),this.ipad1=lt,this.ipad2=U,this.opad=it,this.alg=B,this.blocksize=q,this.hash=Y,this.size=Z[B]}H.prototype.run=function(B,X){return B.copy(X,this.blocksize),this.hash(X).copy(this.opad,this.blocksize),this.hash(this.opad)},Ee.exports=function(B,X,z,Y,q){b(z,Y);var U=new H(q=q||"sha1",B=G(B,W,"Password"),(X=G(X,W,"Salt")).length),it=tt.allocUnsafe(Y),ot=tt.allocUnsafe(X.length+4);X.copy(ot,0,0,X.length);for(var lt=0,wt=Z[q],xt=Math.ceil(Y/wt),Ot=1;Ot<=xt;Ot++){ot.writeUInt32BE(Ot,X.length);for(var Tt=U.run(ot,U.ipad1),Et=Tt,A=1;A<z;A++){Et=U.run(Et,U.ipad2);for(var o=0;o<wt;o++)Tt[o]^=Et[o]}Tt.copy(it,lt),lt+=wt}return it}},474:(Ee,Q,ut)=>{var ct=ut(4615).Buffer;Ee.exports=function(f,J,tt){if(ct.isBuffer(f))return f;if("string"==typeof f)return ct.from(f,J);if(ArrayBuffer.isView(f))return ct.from(f.buffer);throw new TypeError(tt+" must be a string, a Buffer, a typed array or a DataView")}},2914:(Ee,Q,ut)=>{Q.publicEncrypt=ut(793),Q.privateDecrypt=ut(3009),Q.privateEncrypt=function(f,J){return Q.publicEncrypt(f,J,!0)},Q.publicDecrypt=function(f,J){return Q.privateDecrypt(f,J,!0)}},9129:(Ee,Q,ut)=>{var ct=ut(4979),f=ut(4615).Buffer;function J(tt){var b=f.allocUnsafe(4);return b.writeUInt32BE(tt,0),b}Ee.exports=function(tt,b){for(var rt,W=f.alloc(0),G=0;W.length<b;)rt=J(G++),W=f.concat([W,ct("sha1").update(tt).update(rt).digest()]);return W.slice(0,b)}},8847:function(Ee,Q,ut){!function(ct,f){"use strict";function J(A,o){if(!A)throw new Error(o||"Assertion failed")}function tt(A,o){A.super_=o;var c=function(){};c.prototype=o.prototype,A.prototype=new c,A.prototype.constructor=A}function b(A,o,c){if(b.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,null!==A&&(("le"===o||"be"===o)&&(c=o,o=10),this._init(A||0,o||10,c||"be"))}var W;"object"==typeof ct?ct.exports=b:f.BN=b,b.BN=b,b.wordSize=26;try{W="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:ut(7108).Buffer}catch(A){}function G(A,o){var c=A.charCodeAt(o);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function rt(A,o,c){var g=G(A,c);return c-1>=o&&(g|=G(A,c-1)<<4),g}function Z(A,o,c,g){for(var p=0,w=Math.min(A.length,c),S=o;S<w;S++){var T=A.charCodeAt(S)-48;p*=g,p+=T>=49?T-49+10:T>=17?T-17+10:T}return p}b.isBN=function(o){return o instanceof b||null!==o&&"object"==typeof o&&o.constructor.wordSize===b.wordSize&&Array.isArray(o.words)},b.max=function(o,c){return o.cmp(c)>0?o:c},b.min=function(o,c){return o.cmp(c)<0?o:c},b.prototype._init=function(o,c,g){if("number"==typeof o)return this._initNumber(o,c,g);if("object"==typeof o)return this._initArray(o,c,g);"hex"===c&&(c=16),J(c===(0|c)&&c>=2&&c<=36);var p=0;"-"===(o=o.toString().replace(/\s+/g,""))[0]&&(p++,this.negative=1),p<o.length&&(16===c?this._parseHex(o,p,g):(this._parseBase(o,c,p),"le"===g&&this._initArray(this.toArray(),c,g)))},b.prototype._initNumber=function(o,c,g){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[67108863&o],this.length=1):o<4503599627370496?(this.words=[67108863&o,o/67108864&67108863],this.length=2):(J(o<9007199254740992),this.words=[67108863&o,o/67108864&67108863,1],this.length=3),"le"===g&&this._initArray(this.toArray(),c,g)},b.prototype._initArray=function(o,c,g){if(J("number"==typeof o.length),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var w,S,T=0;if("be"===g)for(p=o.length-1,w=0;p>=0;p-=3)this.words[w]|=(S=o[p]|o[p-1]<<8|o[p-2]<<16)<<T&67108863,this.words[w+1]=S>>>26-T&67108863,(T+=24)>=26&&(T-=26,w++);else if("le"===g)for(p=0,w=0;p<o.length;p+=3)this.words[w]|=(S=o[p]|o[p+1]<<8|o[p+2]<<16)<<T&67108863,this.words[w+1]=S>>>26-T&67108863,(T+=24)>=26&&(T-=26,w++);return this.strip()},b.prototype._parseHex=function(o,c,g){this.length=Math.ceil((o.length-c)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var T,w=0,S=0;if("be"===g)for(p=o.length-1;p>=c;p-=2)T=rt(o,c,p)<<w,this.words[S]|=67108863&T,w>=18?(w-=18,this.words[S+=1]|=T>>>26):w+=8;else for(p=(o.length-c)%2==0?c+1:c;p<o.length;p+=2)T=rt(o,c,p)<<w,this.words[S]|=67108863&T,w>=18?(w-=18,this.words[S+=1]|=T>>>26):w+=8;this.strip()},b.prototype._parseBase=function(o,c,g){this.words=[0],this.length=1;for(var p=0,w=1;w<=67108863;w*=c)p++;p--,w=w/c|0;for(var S=o.length-g,T=S%p,C=Math.min(S,S-T)+g,h=0,k=g;k<C;k+=p)h=Z(o,k,k+p,c),this.imuln(w),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==T){var ft=1;for(h=Z(o,k,o.length,c),k=0;k<T;k++)ft*=c;this.imuln(ft),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},b.prototype.copy=function(o){o.words=new Array(this.length);for(var c=0;c<this.length;c++)o.words[c]=this.words[c];o.length=this.length,o.negative=this.negative,o.red=this.red},b.prototype.clone=function(){var o=new b(null);return this.copy(o),o},b.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},b.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},b.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},b.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var H=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],F=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],et=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function X(A,o,c){c.negative=o.negative^A.negative;var g=A.length+o.length|0;c.length=g,g=g-1|0;var p=0|A.words[0],w=0|o.words[0],S=p*w,C=S/67108864|0;c.words[0]=67108863&S;for(var h=1;h<g;h++){for(var k=C>>>26,ft=67108863&C,at=Math.min(h,o.length-1),st=Math.max(0,h-A.length+1);st<=at;st++)k+=(S=(p=0|A.words[h-st|0])*(w=0|o.words[st])+ft)/67108864|0,ft=67108863&S;c.words[h]=0|ft,C=0|k}return 0!==C?c.words[h]=0|C:c.length--,c.strip()}b.prototype.toString=function(o,c){var g;if(c=0|c||1,16===(o=o||10)||"hex"===o){g="";for(var p=0,w=0,S=0;S<this.length;S++){var T=this.words[S],C=(16777215&(T<<p|w)).toString(16);g=0!=(w=T>>>24-p&16777215)||S!==this.length-1?H[6-C.length]+C+g:C+g,(p+=2)>=26&&(p-=26,S--)}for(0!==w&&(g=w.toString(16)+g);g.length%c!=0;)g="0"+g;return 0!==this.negative&&(g="-"+g),g}if(o===(0|o)&&o>=2&&o<=36){var h=F[o],k=et[o];g="";var ft=this.clone();for(ft.negative=0;!ft.isZero();){var at=ft.modn(k).toString(o);g=(ft=ft.idivn(k)).isZero()?at+g:H[h-at.length]+at+g}for(this.isZero()&&(g="0"+g);g.length%c!=0;)g="0"+g;return 0!==this.negative&&(g="-"+g),g}J(!1,"Base should be between 2 and 36")},b.prototype.toNumber=function(){var o=this.words[0];return 2===this.length?o+=67108864*this.words[1]:3===this.length&&1===this.words[2]?o+=4503599627370496+67108864*this.words[1]:this.length>2&&J(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-o:o},b.prototype.toJSON=function(){return this.toString(16)},b.prototype.toBuffer=function(o,c){return J(void 0!==W),this.toArrayLike(W,o,c)},b.prototype.toArray=function(o,c){return this.toArrayLike(Array,o,c)},b.prototype.toArrayLike=function(o,c,g){var p=this.byteLength(),w=g||Math.max(1,p);J(p<=w,"byte array longer than desired length"),J(w>0,"Requested array length <= 0"),this.strip();var C,h,S="le"===c,T=new o(w),k=this.clone();if(S){for(h=0;!k.isZero();h++)C=k.andln(255),k.iushrn(8),T[h]=C;for(;h<w;h++)T[h]=0}else{for(h=0;h<w-p;h++)T[h]=0;for(h=0;!k.isZero();h++)C=k.andln(255),k.iushrn(8),T[w-h-1]=C}return T},b.prototype._countBits=Math.clz32?function(o){return 32-Math.clz32(o)}:function(o){var c=o,g=0;return c>=4096&&(g+=13,c>>>=13),c>=64&&(g+=7,c>>>=7),c>=8&&(g+=4,c>>>=4),c>=2&&(g+=2,c>>>=2),g+c},b.prototype._zeroBits=function(o){if(0===o)return 26;var c=o,g=0;return 0==(8191&c)&&(g+=13,c>>>=13),0==(127&c)&&(g+=7,c>>>=7),0==(15&c)&&(g+=4,c>>>=4),0==(3&c)&&(g+=2,c>>>=2),0==(1&c)&&g++,g},b.prototype.bitLength=function(){var c=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+c},b.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,c=0;c<this.length;c++){var g=this._zeroBits(this.words[c]);if(o+=g,26!==g)break}return o},b.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},b.prototype.toTwos=function(o){return 0!==this.negative?this.abs().inotn(o).iaddn(1):this.clone()},b.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},b.prototype.isNeg=function(){return 0!==this.negative},b.prototype.neg=function(){return this.clone().ineg()},b.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},b.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var c=0;c<o.length;c++)this.words[c]=this.words[c]|o.words[c];return this.strip()},b.prototype.ior=function(o){return J(0==(this.negative|o.negative)),this.iuor(o)},b.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},b.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},b.prototype.iuand=function(o){var c;c=this.length>o.length?o:this;for(var g=0;g<c.length;g++)this.words[g]=this.words[g]&o.words[g];return this.length=c.length,this.strip()},b.prototype.iand=function(o){return J(0==(this.negative|o.negative)),this.iuand(o)},b.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},b.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},b.prototype.iuxor=function(o){var c,g;this.length>o.length?(c=this,g=o):(c=o,g=this);for(var p=0;p<g.length;p++)this.words[p]=c.words[p]^g.words[p];if(this!==c)for(;p<c.length;p++)this.words[p]=c.words[p];return this.length=c.length,this.strip()},b.prototype.ixor=function(o){return J(0==(this.negative|o.negative)),this.iuxor(o)},b.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},b.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},b.prototype.inotn=function(o){J("number"==typeof o&&o>=0);var c=0|Math.ceil(o/26),g=o%26;this._expand(c),g>0&&c--;for(var p=0;p<c;p++)this.words[p]=67108863&~this.words[p];return g>0&&(this.words[p]=~this.words[p]&67108863>>26-g),this.strip()},b.prototype.notn=function(o){return this.clone().inotn(o)},b.prototype.setn=function(o,c){J("number"==typeof o&&o>=0);var g=o/26|0,p=o%26;return this._expand(g+1),this.words[g]=c?this.words[g]|1<<p:this.words[g]&~(1<<p),this.strip()},b.prototype.iadd=function(o){var c,g,p;if(0!==this.negative&&0===o.negative)return this.negative=0,c=this.isub(o),this.negative^=1,this._normSign();if(0===this.negative&&0!==o.negative)return o.negative=0,c=this.isub(o),o.negative=1,c._normSign();this.length>o.length?(g=this,p=o):(g=o,p=this);for(var w=0,S=0;S<p.length;S++)this.words[S]=67108863&(c=(0|g.words[S])+(0|p.words[S])+w),w=c>>>26;for(;0!==w&&S<g.length;S++)this.words[S]=67108863&(c=(0|g.words[S])+w),w=c>>>26;if(this.length=g.length,0!==w)this.words[this.length]=w,this.length++;else if(g!==this)for(;S<g.length;S++)this.words[S]=g.words[S];return this},b.prototype.add=function(o){var c;return 0!==o.negative&&0===this.negative?(o.negative=0,c=this.sub(o),o.negative^=1,c):0===o.negative&&0!==this.negative?(this.negative=0,c=o.sub(this),this.negative=1,c):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},b.prototype.isub=function(o){if(0!==o.negative){o.negative=0;var c=this.iadd(o);return o.negative=1,c._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var p,w,g=this.cmp(o);if(0===g)return this.negative=0,this.length=1,this.words[0]=0,this;g>0?(p=this,w=o):(p=o,w=this);for(var S=0,T=0;T<w.length;T++)S=(c=(0|p.words[T])-(0|w.words[T])+S)>>26,this.words[T]=67108863&c;for(;0!==S&&T<p.length;T++)S=(c=(0|p.words[T])+S)>>26,this.words[T]=67108863&c;if(0===S&&T<p.length&&p!==this)for(;T<p.length;T++)this.words[T]=p.words[T];return this.length=Math.max(this.length,T),p!==this&&(this.negative=1),this.strip()},b.prototype.sub=function(o){return this.clone().isub(o)};var z=function(o,c,g){var C,h,k,p=o.words,w=c.words,S=g.words,T=0,ft=0|p[0],at=8191&ft,st=ft>>>13,Mt=0|p[1],St=8191&Mt,Xt=Mt>>>13,te=0|p[2],Vt=8191&te,Dt=te>>>13,ve=0|p[3],Gt=8191&ve,Nt=ve>>>13,Kt=0|p[4],fe=8191&Kt,zt=Kt>>>13,Ne=0|p[5],Pt=8191&Ne,Se=Ne>>>13,Fi=0|p[6],Ge=8191&Fi,_e=Fi>>>13,Ce=0|p[7],Bt=8191&Ce,re=Ce>>>13,Ye=0|p[8],jt=8191&Ye,yt=Ye>>>13,ht=0|p[9],ce=8191&ht,ke=ht>>>13,Pi=0|w[0],We=8191&Pi,si=Pi>>>13,bn=0|w[1],wi=8191&bn,je=bn>>>13,ci=0|w[2],Oe=8191&ci,oi=ci>>>13,Vn=0|w[3],ei=8191&Vn,De=Vn>>>13,qe=0|w[4],ni=8191&qe,ne=qe>>>13,Qt=0|w[5],Zt=8191&Qt,Ut=Qt>>>13,xe=0|w[6],ue=8191&xe,Re=xe>>>13,pi=0|w[7],he=8191&pi,$e=pi>>>13,_n=0|w[8],Ei=8191&_n,zi=_n>>>13,ir=0|w[9],bi=8191&ir,Li=ir>>>13;g.negative=o.negative^c.negative,g.length=19;var Ln=(T+(C=Math.imul(at,We))|0)+((8191&(h=(h=Math.imul(at,si))+Math.imul(st,We)|0))<<13)|0;T=((k=Math.imul(st,si))+(h>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,C=Math.imul(St,We),h=(h=Math.imul(St,si))+Math.imul(Xt,We)|0,k=Math.imul(Xt,si);var Kn=(T+(C=C+Math.imul(at,wi)|0)|0)+((8191&(h=(h=h+Math.imul(at,je)|0)+Math.imul(st,wi)|0))<<13)|0;T=((k=k+Math.imul(st,je)|0)+(h>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,C=Math.imul(Vt,We),h=(h=Math.imul(Vt,si))+Math.imul(Dt,We)|0,k=Math.imul(Dt,si),C=C+Math.imul(St,wi)|0,h=(h=h+Math.imul(St,je)|0)+Math.imul(Xt,wi)|0,k=k+Math.imul(Xt,je)|0;var pr=(T+(C=C+Math.imul(at,Oe)|0)|0)+((8191&(h=(h=h+Math.imul(at,oi)|0)+Math.imul(st,Oe)|0))<<13)|0;T=((k=k+Math.imul(st,oi)|0)+(h>>>13)|0)+(pr>>>26)|0,pr&=67108863,C=Math.imul(Gt,We),h=(h=Math.imul(Gt,si))+Math.imul(Nt,We)|0,k=Math.imul(Nt,si),C=C+Math.imul(Vt,wi)|0,h=(h=h+Math.imul(Vt,je)|0)+Math.imul(Dt,wi)|0,k=k+Math.imul(Dt,je)|0,C=C+Math.imul(St,Oe)|0,h=(h=h+Math.imul(St,oi)|0)+Math.imul(Xt,Oe)|0,k=k+Math.imul(Xt,oi)|0;var Jn=(T+(C=C+Math.imul(at,ei)|0)|0)+((8191&(h=(h=h+Math.imul(at,De)|0)+Math.imul(st,ei)|0))<<13)|0;T=((k=k+Math.imul(st,De)|0)+(h>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,C=Math.imul(fe,We),h=(h=Math.imul(fe,si))+Math.imul(zt,We)|0,k=Math.imul(zt,si),C=C+Math.imul(Gt,wi)|0,h=(h=h+Math.imul(Gt,je)|0)+Math.imul(Nt,wi)|0,k=k+Math.imul(Nt,je)|0,C=C+Math.imul(Vt,Oe)|0,h=(h=h+Math.imul(Vt,oi)|0)+Math.imul(Dt,Oe)|0,k=k+Math.imul(Dt,oi)|0,C=C+Math.imul(St,ei)|0,h=(h=h+Math.imul(St,De)|0)+Math.imul(Xt,ei)|0,k=k+Math.imul(Xt,De)|0;var Ni=(T+(C=C+Math.imul(at,ni)|0)|0)+((8191&(h=(h=h+Math.imul(at,ne)|0)+Math.imul(st,ni)|0))<<13)|0;T=((k=k+Math.imul(st,ne)|0)+(h>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,C=Math.imul(Pt,We),h=(h=Math.imul(Pt,si))+Math.imul(Se,We)|0,k=Math.imul(Se,si),C=C+Math.imul(fe,wi)|0,h=(h=h+Math.imul(fe,je)|0)+Math.imul(zt,wi)|0,k=k+Math.imul(zt,je)|0,C=C+Math.imul(Gt,Oe)|0,h=(h=h+Math.imul(Gt,oi)|0)+Math.imul(Nt,Oe)|0,k=k+Math.imul(Nt,oi)|0,C=C+Math.imul(Vt,ei)|0,h=(h=h+Math.imul(Vt,De)|0)+Math.imul(Dt,ei)|0,k=k+Math.imul(Dt,De)|0,C=C+Math.imul(St,ni)|0,h=(h=h+Math.imul(St,ne)|0)+Math.imul(Xt,ni)|0,k=k+Math.imul(Xt,ne)|0;var xi=(T+(C=C+Math.imul(at,Zt)|0)|0)+((8191&(h=(h=h+Math.imul(at,Ut)|0)+Math.imul(st,Zt)|0))<<13)|0;T=((k=k+Math.imul(st,Ut)|0)+(h>>>13)|0)+(xi>>>26)|0,xi&=67108863,C=Math.imul(Ge,We),h=(h=Math.imul(Ge,si))+Math.imul(_e,We)|0,k=Math.imul(_e,si),C=C+Math.imul(Pt,wi)|0,h=(h=h+Math.imul(Pt,je)|0)+Math.imul(Se,wi)|0,k=k+Math.imul(Se,je)|0,C=C+Math.imul(fe,Oe)|0,h=(h=h+Math.imul(fe,oi)|0)+Math.imul(zt,Oe)|0,k=k+Math.imul(zt,oi)|0,C=C+Math.imul(Gt,ei)|0,h=(h=h+Math.imul(Gt,De)|0)+Math.imul(Nt,ei)|0,k=k+Math.imul(Nt,De)|0,C=C+Math.imul(Vt,ni)|0,h=(h=h+Math.imul(Vt,ne)|0)+Math.imul(Dt,ni)|0,k=k+Math.imul(Dt,ne)|0,C=C+Math.imul(St,Zt)|0,h=(h=h+Math.imul(St,Ut)|0)+Math.imul(Xt,Zt)|0,k=k+Math.imul(Xt,Ut)|0;var Je=(T+(C=C+Math.imul(at,ue)|0)|0)+((8191&(h=(h=h+Math.imul(at,Re)|0)+Math.imul(st,ue)|0))<<13)|0;T=((k=k+Math.imul(st,Re)|0)+(h>>>13)|0)+(Je>>>26)|0,Je&=67108863,C=Math.imul(Bt,We),h=(h=Math.imul(Bt,si))+Math.imul(re,We)|0,k=Math.imul(re,si),C=C+Math.imul(Ge,wi)|0,h=(h=h+Math.imul(Ge,je)|0)+Math.imul(_e,wi)|0,k=k+Math.imul(_e,je)|0,C=C+Math.imul(Pt,Oe)|0,h=(h=h+Math.imul(Pt,oi)|0)+Math.imul(Se,Oe)|0,k=k+Math.imul(Se,oi)|0,C=C+Math.imul(fe,ei)|0,h=(h=h+Math.imul(fe,De)|0)+Math.imul(zt,ei)|0,k=k+Math.imul(zt,De)|0,C=C+Math.imul(Gt,ni)|0,h=(h=h+Math.imul(Gt,ne)|0)+Math.imul(Nt,ni)|0,k=k+Math.imul(Nt,ne)|0,C=C+Math.imul(Vt,Zt)|0,h=(h=h+Math.imul(Vt,Ut)|0)+Math.imul(Dt,Zt)|0,k=k+Math.imul(Dt,Ut)|0,C=C+Math.imul(St,ue)|0,h=(h=h+Math.imul(St,Re)|0)+Math.imul(Xt,ue)|0,k=k+Math.imul(Xt,Re)|0;var Ui=(T+(C=C+Math.imul(at,he)|0)|0)+((8191&(h=(h=h+Math.imul(at,$e)|0)+Math.imul(st,he)|0))<<13)|0;T=((k=k+Math.imul(st,$e)|0)+(h>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,C=Math.imul(jt,We),h=(h=Math.imul(jt,si))+Math.imul(yt,We)|0,k=Math.imul(yt,si),C=C+Math.imul(Bt,wi)|0,h=(h=h+Math.imul(Bt,je)|0)+Math.imul(re,wi)|0,k=k+Math.imul(re,je)|0,C=C+Math.imul(Ge,Oe)|0,h=(h=h+Math.imul(Ge,oi)|0)+Math.imul(_e,Oe)|0,k=k+Math.imul(_e,oi)|0,C=C+Math.imul(Pt,ei)|0,h=(h=h+Math.imul(Pt,De)|0)+Math.imul(Se,ei)|0,k=k+Math.imul(Se,De)|0,C=C+Math.imul(fe,ni)|0,h=(h=h+Math.imul(fe,ne)|0)+Math.imul(zt,ni)|0,k=k+Math.imul(zt,ne)|0,C=C+Math.imul(Gt,Zt)|0,h=(h=h+Math.imul(Gt,Ut)|0)+Math.imul(Nt,Zt)|0,k=k+Math.imul(Nt,Ut)|0,C=C+Math.imul(Vt,ue)|0,h=(h=h+Math.imul(Vt,Re)|0)+Math.imul(Dt,ue)|0,k=k+Math.imul(Dt,Re)|0,C=C+Math.imul(St,he)|0,h=(h=h+Math.imul(St,$e)|0)+Math.imul(Xt,he)|0,k=k+Math.imul(Xt,$e)|0;var on=(T+(C=C+Math.imul(at,Ei)|0)|0)+((8191&(h=(h=h+Math.imul(at,zi)|0)+Math.imul(st,Ei)|0))<<13)|0;T=((k=k+Math.imul(st,zi)|0)+(h>>>13)|0)+(on>>>26)|0,on&=67108863,C=Math.imul(ce,We),h=(h=Math.imul(ce,si))+Math.imul(ke,We)|0,k=Math.imul(ke,si),C=C+Math.imul(jt,wi)|0,h=(h=h+Math.imul(jt,je)|0)+Math.imul(yt,wi)|0,k=k+Math.imul(yt,je)|0,C=C+Math.imul(Bt,Oe)|0,h=(h=h+Math.imul(Bt,oi)|0)+Math.imul(re,Oe)|0,k=k+Math.imul(re,oi)|0,C=C+Math.imul(Ge,ei)|0,h=(h=h+Math.imul(Ge,De)|0)+Math.imul(_e,ei)|0,k=k+Math.imul(_e,De)|0,C=C+Math.imul(Pt,ni)|0,h=(h=h+Math.imul(Pt,ne)|0)+Math.imul(Se,ni)|0,k=k+Math.imul(Se,ne)|0,C=C+Math.imul(fe,Zt)|0,h=(h=h+Math.imul(fe,Ut)|0)+Math.imul(zt,Zt)|0,k=k+Math.imul(zt,Ut)|0,C=C+Math.imul(Gt,ue)|0,h=(h=h+Math.imul(Gt,Re)|0)+Math.imul(Nt,ue)|0,k=k+Math.imul(Nt,Re)|0,C=C+Math.imul(Vt,he)|0,h=(h=h+Math.imul(Vt,$e)|0)+Math.imul(Dt,he)|0,k=k+Math.imul(Dt,$e)|0,C=C+Math.imul(St,Ei)|0,h=(h=h+Math.imul(St,zi)|0)+Math.imul(Xt,Ei)|0,k=k+Math.imul(Xt,zi)|0;var nr=(T+(C=C+Math.imul(at,bi)|0)|0)+((8191&(h=(h=h+Math.imul(at,Li)|0)+Math.imul(st,bi)|0))<<13)|0;T=((k=k+Math.imul(st,Li)|0)+(h>>>13)|0)+(nr>>>26)|0,nr&=67108863,C=Math.imul(ce,wi),h=(h=Math.imul(ce,je))+Math.imul(ke,wi)|0,k=Math.imul(ke,je),C=C+Math.imul(jt,Oe)|0,h=(h=h+Math.imul(jt,oi)|0)+Math.imul(yt,Oe)|0,k=k+Math.imul(yt,oi)|0,C=C+Math.imul(Bt,ei)|0,h=(h=h+Math.imul(Bt,De)|0)+Math.imul(re,ei)|0,k=k+Math.imul(re,De)|0,C=C+Math.imul(Ge,ni)|0,h=(h=h+Math.imul(Ge,ne)|0)+Math.imul(_e,ni)|0,k=k+Math.imul(_e,ne)|0,C=C+Math.imul(Pt,Zt)|0,h=(h=h+Math.imul(Pt,Ut)|0)+Math.imul(Se,Zt)|0,k=k+Math.imul(Se,Ut)|0,C=C+Math.imul(fe,ue)|0,h=(h=h+Math.imul(fe,Re)|0)+Math.imul(zt,ue)|0,k=k+Math.imul(zt,Re)|0,C=C+Math.imul(Gt,he)|0,h=(h=h+Math.imul(Gt,$e)|0)+Math.imul(Nt,he)|0,k=k+Math.imul(Nt,$e)|0,C=C+Math.imul(Vt,Ei)|0,h=(h=h+Math.imul(Vt,zi)|0)+Math.imul(Dt,Ei)|0,k=k+Math.imul(Dt,zi)|0;var mr=(T+(C=C+Math.imul(St,bi)|0)|0)+((8191&(h=(h=h+Math.imul(St,Li)|0)+Math.imul(Xt,bi)|0))<<13)|0;T=((k=k+Math.imul(Xt,Li)|0)+(h>>>13)|0)+(mr>>>26)|0,mr&=67108863,C=Math.imul(ce,Oe),h=(h=Math.imul(ce,oi))+Math.imul(ke,Oe)|0,k=Math.imul(ke,oi),C=C+Math.imul(jt,ei)|0,h=(h=h+Math.imul(jt,De)|0)+Math.imul(yt,ei)|0,k=k+Math.imul(yt,De)|0,C=C+Math.imul(Bt,ni)|0,h=(h=h+Math.imul(Bt,ne)|0)+Math.imul(re,ni)|0,k=k+Math.imul(re,ne)|0,C=C+Math.imul(Ge,Zt)|0,h=(h=h+Math.imul(Ge,Ut)|0)+Math.imul(_e,Zt)|0,k=k+Math.imul(_e,Ut)|0,C=C+Math.imul(Pt,ue)|0,h=(h=h+Math.imul(Pt,Re)|0)+Math.imul(Se,ue)|0,k=k+Math.imul(Se,Re)|0,C=C+Math.imul(fe,he)|0,h=(h=h+Math.imul(fe,$e)|0)+Math.imul(zt,he)|0,k=k+Math.imul(zt,$e)|0,C=C+Math.imul(Gt,Ei)|0,h=(h=h+Math.imul(Gt,zi)|0)+Math.imul(Nt,Ei)|0,k=k+Math.imul(Nt,zi)|0;var Ar=(T+(C=C+Math.imul(Vt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Vt,Li)|0)+Math.imul(Dt,bi)|0))<<13)|0;T=((k=k+Math.imul(Dt,Li)|0)+(h>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,C=Math.imul(ce,ei),h=(h=Math.imul(ce,De))+Math.imul(ke,ei)|0,k=Math.imul(ke,De),C=C+Math.imul(jt,ni)|0,h=(h=h+Math.imul(jt,ne)|0)+Math.imul(yt,ni)|0,k=k+Math.imul(yt,ne)|0,C=C+Math.imul(Bt,Zt)|0,h=(h=h+Math.imul(Bt,Ut)|0)+Math.imul(re,Zt)|0,k=k+Math.imul(re,Ut)|0,C=C+Math.imul(Ge,ue)|0,h=(h=h+Math.imul(Ge,Re)|0)+Math.imul(_e,ue)|0,k=k+Math.imul(_e,Re)|0,C=C+Math.imul(Pt,he)|0,h=(h=h+Math.imul(Pt,$e)|0)+Math.imul(Se,he)|0,k=k+Math.imul(Se,$e)|0,C=C+Math.imul(fe,Ei)|0,h=(h=h+Math.imul(fe,zi)|0)+Math.imul(zt,Ei)|0,k=k+Math.imul(zt,zi)|0;var hn=(T+(C=C+Math.imul(Gt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Gt,Li)|0)+Math.imul(Nt,bi)|0))<<13)|0;T=((k=k+Math.imul(Nt,Li)|0)+(h>>>13)|0)+(hn>>>26)|0,hn&=67108863,C=Math.imul(ce,ni),h=(h=Math.imul(ce,ne))+Math.imul(ke,ni)|0,k=Math.imul(ke,ne),C=C+Math.imul(jt,Zt)|0,h=(h=h+Math.imul(jt,Ut)|0)+Math.imul(yt,Zt)|0,k=k+Math.imul(yt,Ut)|0,C=C+Math.imul(Bt,ue)|0,h=(h=h+Math.imul(Bt,Re)|0)+Math.imul(re,ue)|0,k=k+Math.imul(re,Re)|0,C=C+Math.imul(Ge,he)|0,h=(h=h+Math.imul(Ge,$e)|0)+Math.imul(_e,he)|0,k=k+Math.imul(_e,$e)|0,C=C+Math.imul(Pt,Ei)|0,h=(h=h+Math.imul(Pt,zi)|0)+Math.imul(Se,Ei)|0,k=k+Math.imul(Se,zi)|0;var xr=(T+(C=C+Math.imul(fe,bi)|0)|0)+((8191&(h=(h=h+Math.imul(fe,Li)|0)+Math.imul(zt,bi)|0))<<13)|0;T=((k=k+Math.imul(zt,Li)|0)+(h>>>13)|0)+(xr>>>26)|0,xr&=67108863,C=Math.imul(ce,Zt),h=(h=Math.imul(ce,Ut))+Math.imul(ke,Zt)|0,k=Math.imul(ke,Ut),C=C+Math.imul(jt,ue)|0,h=(h=h+Math.imul(jt,Re)|0)+Math.imul(yt,ue)|0,k=k+Math.imul(yt,Re)|0,C=C+Math.imul(Bt,he)|0,h=(h=h+Math.imul(Bt,$e)|0)+Math.imul(re,he)|0,k=k+Math.imul(re,$e)|0,C=C+Math.imul(Ge,Ei)|0,h=(h=h+Math.imul(Ge,zi)|0)+Math.imul(_e,Ei)|0,k=k+Math.imul(_e,zi)|0;var Hr=(T+(C=C+Math.imul(Pt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Pt,Li)|0)+Math.imul(Se,bi)|0))<<13)|0;T=((k=k+Math.imul(Se,Li)|0)+(h>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,C=Math.imul(ce,ue),h=(h=Math.imul(ce,Re))+Math.imul(ke,ue)|0,k=Math.imul(ke,Re),C=C+Math.imul(jt,he)|0,h=(h=h+Math.imul(jt,$e)|0)+Math.imul(yt,he)|0,k=k+Math.imul(yt,$e)|0,C=C+Math.imul(Bt,Ei)|0,h=(h=h+Math.imul(Bt,zi)|0)+Math.imul(re,Ei)|0,k=k+Math.imul(re,zi)|0;var so=(T+(C=C+Math.imul(Ge,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Ge,Li)|0)+Math.imul(_e,bi)|0))<<13)|0;T=((k=k+Math.imul(_e,Li)|0)+(h>>>13)|0)+(so>>>26)|0,so&=67108863,C=Math.imul(ce,he),h=(h=Math.imul(ce,$e))+Math.imul(ke,he)|0,k=Math.imul(ke,$e),C=C+Math.imul(jt,Ei)|0,h=(h=h+Math.imul(jt,zi)|0)+Math.imul(yt,Ei)|0,k=k+Math.imul(yt,zi)|0;var Vr=(T+(C=C+Math.imul(Bt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(Bt,Li)|0)+Math.imul(re,bi)|0))<<13)|0;T=((k=k+Math.imul(re,Li)|0)+(h>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,C=Math.imul(ce,Ei),h=(h=Math.imul(ce,zi))+Math.imul(ke,Ei)|0,k=Math.imul(ke,zi);var Pr=(T+(C=C+Math.imul(jt,bi)|0)|0)+((8191&(h=(h=h+Math.imul(jt,Li)|0)+Math.imul(yt,bi)|0))<<13)|0;T=((k=k+Math.imul(yt,Li)|0)+(h>>>13)|0)+(Pr>>>26)|0,Pr&=67108863;var ar=(T+(C=Math.imul(ce,bi))|0)+((8191&(h=(h=Math.imul(ce,Li))+Math.imul(ke,bi)|0))<<13)|0;return T=((k=Math.imul(ke,Li))+(h>>>13)|0)+(ar>>>26)|0,ar&=67108863,S[0]=Ln,S[1]=Kn,S[2]=pr,S[3]=Jn,S[4]=Ni,S[5]=xi,S[6]=Je,S[7]=Ui,S[8]=on,S[9]=nr,S[10]=mr,S[11]=Ar,S[12]=hn,S[13]=xr,S[14]=Hr,S[15]=so,S[16]=Vr,S[17]=Pr,S[18]=ar,0!==T&&(S[19]=T,g.length++),g};function q(A,o,c){return(new U).mulp(A,o,c)}function U(A,o){this.x=A,this.y=o}Math.imul||(z=X),b.prototype.mulTo=function(o,c){var g,p=this.length+o.length;return g=10===this.length&&10===o.length?z(this,o,c):p<63?X(this,o,c):p<1024?function(A,o,c){c.negative=o.negative^A.negative,c.length=A.length+o.length;for(var g=0,p=0,w=0;w<c.length-1;w++){var S=p;p=0;for(var T=67108863&g,C=Math.min(w,o.length-1),h=Math.max(0,w-A.length+1);h<=C;h++){var st=(0|A.words[w-h])*(0|o.words[h]),Mt=67108863&st;T=67108863&(Mt=Mt+T|0),p+=(S=(S=S+(st/67108864|0)|0)+(Mt>>>26)|0)>>>26,S&=67108863}c.words[w]=T,g=S,S=p}return 0!==g?c.words[w]=g:c.length--,c.strip()}(this,o,c):q(this,o,c),g},U.prototype.makeRBT=function(o){for(var c=new Array(o),g=b.prototype._countBits(o)-1,p=0;p<o;p++)c[p]=this.revBin(p,g,o);return c},U.prototype.revBin=function(o,c,g){if(0===o||o===g-1)return o;for(var p=0,w=0;w<c;w++)p|=(1&o)<<c-w-1,o>>=1;return p},U.prototype.permute=function(o,c,g,p,w,S){for(var T=0;T<S;T++)p[T]=c[o[T]],w[T]=g[o[T]]},U.prototype.transform=function(o,c,g,p,w,S){this.permute(S,o,c,g,p,w);for(var T=1;T<w;T<<=1)for(var C=T<<1,h=Math.cos(2*Math.PI/C),k=Math.sin(2*Math.PI/C),ft=0;ft<w;ft+=C)for(var at=h,st=k,Mt=0;Mt<T;Mt++){var St=g[ft+Mt],Xt=p[ft+Mt],te=g[ft+Mt+T],Vt=p[ft+Mt+T],Dt=at*te-st*Vt;Vt=at*Vt+st*te,g[ft+Mt]=St+(te=Dt),p[ft+Mt]=Xt+Vt,g[ft+Mt+T]=St-te,p[ft+Mt+T]=Xt-Vt,Mt!==C&&(Dt=h*at-k*st,st=h*st+k*at,at=Dt)}},U.prototype.guessLen13b=function(o,c){var g=1|Math.max(c,o),p=1&g,w=0;for(g=g/2|0;g;g>>>=1)w++;return 1<<w+1+p},U.prototype.conjugate=function(o,c,g){if(!(g<=1))for(var p=0;p<g/2;p++){var w=o[p];o[p]=o[g-p-1],o[g-p-1]=w,w=c[p],c[p]=-c[g-p-1],c[g-p-1]=-w}},U.prototype.normalize13b=function(o,c){for(var g=0,p=0;p<c/2;p++){var w=8192*Math.round(o[2*p+1]/c)+Math.round(o[2*p]/c)+g;o[p]=67108863&w,g=w<67108864?0:w/67108864|0}return o},U.prototype.convert13b=function(o,c,g,p){for(var w=0,S=0;S<c;S++)g[2*S]=8191&(w+=0|o[S]),g[2*S+1]=8191&(w>>>=13),w>>>=13;for(S=2*c;S<p;++S)g[S]=0;J(0===w),J(0==(-8192&w))},U.prototype.stub=function(o){for(var c=new Array(o),g=0;g<o;g++)c[g]=0;return c},U.prototype.mulp=function(o,c,g){var p=2*this.guessLen13b(o.length,c.length),w=this.makeRBT(p),S=this.stub(p),T=new Array(p),C=new Array(p),h=new Array(p),k=new Array(p),ft=new Array(p),at=new Array(p),st=g.words;st.length=p,this.convert13b(o.words,o.length,T,p),this.convert13b(c.words,c.length,k,p),this.transform(T,S,C,h,p,w),this.transform(k,S,ft,at,p,w);for(var Mt=0;Mt<p;Mt++){var St=C[Mt]*ft[Mt]-h[Mt]*at[Mt];h[Mt]=C[Mt]*at[Mt]+h[Mt]*ft[Mt],C[Mt]=St}return this.conjugate(C,h,p),this.transform(C,h,st,S,p,w),this.conjugate(st,S,p),this.normalize13b(st,p),g.negative=o.negative^c.negative,g.length=o.length+c.length,g.strip()},b.prototype.mul=function(o){var c=new b(null);return c.words=new Array(this.length+o.length),this.mulTo(o,c)},b.prototype.mulf=function(o){var c=new b(null);return c.words=new Array(this.length+o.length),q(this,o,c)},b.prototype.imul=function(o){return this.clone().mulTo(o,this)},b.prototype.imuln=function(o){J("number"==typeof o),J(o<67108864);for(var c=0,g=0;g<this.length;g++){var p=(0|this.words[g])*o,w=(67108863&p)+(67108863&c);c>>=26,c+=p/67108864|0,c+=w>>>26,this.words[g]=67108863&w}return 0!==c&&(this.words[g]=c,this.length++),this},b.prototype.muln=function(o){return this.clone().imuln(o)},b.prototype.sqr=function(){return this.mul(this)},b.prototype.isqr=function(){return this.imul(this.clone())},b.prototype.pow=function(o){var c=function(A){for(var o=new Array(A.bitLength()),c=0;c<o.length;c++){var p=c%26;o[c]=(A.words[c/26|0]&1<<p)>>>p}return o}(o);if(0===c.length)return new b(1);for(var g=this,p=0;p<c.length&&0===c[p];p++,g=g.sqr());if(++p<c.length)for(var w=g.sqr();p<c.length;p++,w=w.sqr())0!==c[p]&&(g=g.mul(w));return g},b.prototype.iushln=function(o){J("number"==typeof o&&o>=0);var w,c=o%26,g=(o-c)/26,p=67108863>>>26-c<<26-c;if(0!==c){var S=0;for(w=0;w<this.length;w++){var T=this.words[w]&p;this.words[w]=(0|this.words[w])-T<<c|S,S=T>>>26-c}S&&(this.words[w]=S,this.length++)}if(0!==g){for(w=this.length-1;w>=0;w--)this.words[w+g]=this.words[w];for(w=0;w<g;w++)this.words[w]=0;this.length+=g}return this.strip()},b.prototype.ishln=function(o){return J(0===this.negative),this.iushln(o)},b.prototype.iushrn=function(o,c,g){var p;J("number"==typeof o&&o>=0),p=c?(c-c%26)/26:0;var w=o%26,S=Math.min((o-w)/26,this.length),T=67108863^67108863>>>w<<w,C=g;if(p-=S,p=Math.max(0,p),C){for(var h=0;h<S;h++)C.words[h]=this.words[h];C.length=S}if(0!==S)if(this.length>S)for(this.length-=S,h=0;h<this.length;h++)this.words[h]=this.words[h+S];else this.words[0]=0,this.length=1;var k=0;for(h=this.length-1;h>=0&&(0!==k||h>=p);h--){var ft=0|this.words[h];this.words[h]=k<<26-w|ft>>>w,k=ft&T}return C&&0!==k&&(C.words[C.length++]=k),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},b.prototype.ishrn=function(o,c,g){return J(0===this.negative),this.iushrn(o,c,g)},b.prototype.shln=function(o){return this.clone().ishln(o)},b.prototype.ushln=function(o){return this.clone().iushln(o)},b.prototype.shrn=function(o){return this.clone().ishrn(o)},b.prototype.ushrn=function(o){return this.clone().iushrn(o)},b.prototype.testn=function(o){J("number"==typeof o&&o>=0);var c=o%26,g=(o-c)/26;return!(this.length<=g||!(this.words[g]&1<<c))},b.prototype.imaskn=function(o){J("number"==typeof o&&o>=0);var c=o%26,g=(o-c)/26;return J(0===this.negative,"imaskn works only with positive numbers"),this.length<=g?this:(0!==c&&g++,this.length=Math.min(g,this.length),0!==c&&(this.words[this.length-1]&=67108863^67108863>>>c<<c),this.strip())},b.prototype.maskn=function(o){return this.clone().imaskn(o)},b.prototype.iaddn=function(o){return J("number"==typeof o),J(o<67108864),o<0?this.isubn(-o):0!==this.negative?1===this.length&&(0|this.words[0])<o?(this.words[0]=o-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},b.prototype._iaddn=function(o){this.words[0]+=o;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},b.prototype.isubn=function(o){if(J("number"==typeof o),J(o<67108864),o<0)return this.iaddn(-o);if(0!==this.negative)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this.strip()},b.prototype.addn=function(o){return this.clone().iaddn(o)},b.prototype.subn=function(o){return this.clone().isubn(o)},b.prototype.iabs=function(){return this.negative=0,this},b.prototype.abs=function(){return this.clone().iabs()},b.prototype._ishlnsubmul=function(o,c,g){var w;this._expand(o.length+g);var S,T=0;for(w=0;w<o.length;w++){S=(0|this.words[w+g])+T;var C=(0|o.words[w])*c;T=((S-=67108863&C)>>26)-(C/67108864|0),this.words[w+g]=67108863&S}for(;w<this.length-g;w++)T=(S=(0|this.words[w+g])+T)>>26,this.words[w+g]=67108863&S;if(0===T)return this.strip();for(J(-1===T),T=0,w=0;w<this.length;w++)T=(S=-(0|this.words[w])+T)>>26,this.words[w]=67108863&S;return this.negative=1,this.strip()},b.prototype._wordDiv=function(o,c){var g,p=this.clone(),w=o,S=0|w.words[w.length-1];0!=(g=26-this._countBits(S))&&(w=w.ushln(g),p.iushln(g),S=0|w.words[w.length-1]);var h,C=p.length-w.length;if("mod"!==c){(h=new b(null)).length=C+1,h.words=new Array(h.length);for(var k=0;k<h.length;k++)h.words[k]=0}var ft=p.clone()._ishlnsubmul(w,1,C);0===ft.negative&&(p=ft,h&&(h.words[C]=1));for(var at=C-1;at>=0;at--){var st=67108864*(0|p.words[w.length+at])+(0|p.words[w.length+at-1]);for(st=Math.min(st/S|0,67108863),p._ishlnsubmul(w,st,at);0!==p.negative;)st--,p.negative=0,p._ishlnsubmul(w,1,at),p.isZero()||(p.negative^=1);h&&(h.words[at]=st)}return h&&h.strip(),p.strip(),"div"!==c&&0!==g&&p.iushrn(g),{div:h||null,mod:p}},b.prototype.divmod=function(o,c,g){return J(!o.isZero()),this.isZero()?{div:new b(0),mod:new b(0)}:0!==this.negative&&0===o.negative?(S=this.neg().divmod(o,c),"mod"!==c&&(p=S.div.neg()),"div"!==c&&(w=S.mod.neg(),g&&0!==w.negative&&w.iadd(o)),{div:p,mod:w}):0===this.negative&&0!==o.negative?(S=this.divmod(o.neg(),c),"mod"!==c&&(p=S.div.neg()),{div:p,mod:S.mod}):0!=(this.negative&o.negative)?(S=this.neg().divmod(o.neg(),c),"div"!==c&&(w=S.mod.neg(),g&&0!==w.negative&&w.isub(o)),{div:S.div,mod:w}):o.length>this.length||this.cmp(o)<0?{div:new b(0),mod:this}:1===o.length?"div"===c?{div:this.divn(o.words[0]),mod:null}:"mod"===c?{div:null,mod:new b(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new b(this.modn(o.words[0]))}:this._wordDiv(o,c);var p,w,S},b.prototype.div=function(o){return this.divmod(o,"div",!1).div},b.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},b.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},b.prototype.divRound=function(o){var c=this.divmod(o);if(c.mod.isZero())return c.div;var g=0!==c.div.negative?c.mod.isub(o):c.mod,p=o.ushrn(1),w=o.andln(1),S=g.cmp(p);return S<0||1===w&&0===S?c.div:0!==c.div.negative?c.div.isubn(1):c.div.iaddn(1)},b.prototype.modn=function(o){J(o<=67108863);for(var c=(1<<26)%o,g=0,p=this.length-1;p>=0;p--)g=(c*g+(0|this.words[p]))%o;return g},b.prototype.idivn=function(o){J(o<=67108863);for(var c=0,g=this.length-1;g>=0;g--){var p=(0|this.words[g])+67108864*c;this.words[g]=p/o|0,c=p%o}return this.strip()},b.prototype.divn=function(o){return this.clone().idivn(o)},b.prototype.egcd=function(o){J(0===o.negative),J(!o.isZero());var c=this,g=o.clone();c=0!==c.negative?c.umod(o):c.clone();for(var p=new b(1),w=new b(0),S=new b(0),T=new b(1),C=0;c.isEven()&&g.isEven();)c.iushrn(1),g.iushrn(1),++C;for(var h=g.clone(),k=c.clone();!c.isZero();){for(var ft=0,at=1;0==(c.words[0]&at)&&ft<26;++ft,at<<=1);if(ft>0)for(c.iushrn(ft);ft-- >0;)(p.isOdd()||w.isOdd())&&(p.iadd(h),w.isub(k)),p.iushrn(1),w.iushrn(1);for(var st=0,Mt=1;0==(g.words[0]&Mt)&&st<26;++st,Mt<<=1);if(st>0)for(g.iushrn(st);st-- >0;)(S.isOdd()||T.isOdd())&&(S.iadd(h),T.isub(k)),S.iushrn(1),T.iushrn(1);c.cmp(g)>=0?(c.isub(g),p.isub(S),w.isub(T)):(g.isub(c),S.isub(p),T.isub(w))}return{a:S,b:T,gcd:g.iushln(C)}},b.prototype._invmp=function(o){J(0===o.negative),J(!o.isZero());var ft,c=this,g=o.clone();c=0!==c.negative?c.umod(o):c.clone();for(var p=new b(1),w=new b(0),S=g.clone();c.cmpn(1)>0&&g.cmpn(1)>0;){for(var T=0,C=1;0==(c.words[0]&C)&&T<26;++T,C<<=1);if(T>0)for(c.iushrn(T);T-- >0;)p.isOdd()&&p.iadd(S),p.iushrn(1);for(var h=0,k=1;0==(g.words[0]&k)&&h<26;++h,k<<=1);if(h>0)for(g.iushrn(h);h-- >0;)w.isOdd()&&w.iadd(S),w.iushrn(1);c.cmp(g)>=0?(c.isub(g),p.isub(w)):(g.isub(c),w.isub(p))}return(ft=0===c.cmpn(1)?p:w).cmpn(0)<0&&ft.iadd(o),ft},b.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var c=this.clone(),g=o.clone();c.negative=0,g.negative=0;for(var p=0;c.isEven()&&g.isEven();p++)c.iushrn(1),g.iushrn(1);for(;;){for(;c.isEven();)c.iushrn(1);for(;g.isEven();)g.iushrn(1);var w=c.cmp(g);if(w<0){var S=c;c=g,g=S}else if(0===w||0===g.cmpn(1))break;c.isub(g)}return g.iushln(p)},b.prototype.invm=function(o){return this.egcd(o).a.umod(o)},b.prototype.isEven=function(){return 0==(1&this.words[0])},b.prototype.isOdd=function(){return 1==(1&this.words[0])},b.prototype.andln=function(o){return this.words[0]&o},b.prototype.bincn=function(o){J("number"==typeof o);var c=o%26,g=(o-c)/26,p=1<<c;if(this.length<=g)return this._expand(g+1),this.words[g]|=p,this;for(var w=p,S=g;0!==w&&S<this.length;S++){var T=0|this.words[S];w=(T+=w)>>>26,this.words[S]=T&=67108863}return 0!==w&&(this.words[S]=w,this.length++),this},b.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},b.prototype.cmpn=function(o){var g,c=o<0;if(0!==this.negative&&!c)return-1;if(0===this.negative&&c)return 1;if(this.strip(),this.length>1)g=1;else{c&&(o=-o),J(o<=67108863,"Number is too big");var p=0|this.words[0];g=p===o?0:p<o?-1:1}return 0!==this.negative?0|-g:g},b.prototype.cmp=function(o){if(0!==this.negative&&0===o.negative)return-1;if(0===this.negative&&0!==o.negative)return 1;var c=this.ucmp(o);return 0!==this.negative?0|-c:c},b.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var c=0,g=this.length-1;g>=0;g--){var p=0|this.words[g],w=0|o.words[g];if(p!==w){p<w?c=-1:p>w&&(c=1);break}}return c},b.prototype.gtn=function(o){return 1===this.cmpn(o)},b.prototype.gt=function(o){return 1===this.cmp(o)},b.prototype.gten=function(o){return this.cmpn(o)>=0},b.prototype.gte=function(o){return this.cmp(o)>=0},b.prototype.ltn=function(o){return-1===this.cmpn(o)},b.prototype.lt=function(o){return-1===this.cmp(o)},b.prototype.lten=function(o){return this.cmpn(o)<=0},b.prototype.lte=function(o){return this.cmp(o)<=0},b.prototype.eqn=function(o){return 0===this.cmpn(o)},b.prototype.eq=function(o){return 0===this.cmp(o)},b.red=function(o){return new Tt(o)},b.prototype.toRed=function(o){return J(!this.red,"Already a number in reduction context"),J(0===this.negative,"red works only with positives"),o.convertTo(this)._forceRed(o)},b.prototype.fromRed=function(){return J(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},b.prototype._forceRed=function(o){return this.red=o,this},b.prototype.forceRed=function(o){return J(!this.red,"Already a number in reduction context"),this._forceRed(o)},b.prototype.redAdd=function(o){return J(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},b.prototype.redIAdd=function(o){return J(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},b.prototype.redSub=function(o){return J(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},b.prototype.redISub=function(o){return J(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},b.prototype.redShl=function(o){return J(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},b.prototype.redMul=function(o){return J(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},b.prototype.redIMul=function(o){return J(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},b.prototype.redSqr=function(){return J(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},b.prototype.redISqr=function(){return J(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},b.prototype.redSqrt=function(){return J(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},b.prototype.redInvm=function(){return J(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},b.prototype.redNeg=function(){return J(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},b.prototype.redPow=function(o){return J(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var it={k256:null,p224:null,p192:null,p25519:null};function ot(A,o){this.name=A,this.p=new b(o,16),this.n=this.p.bitLength(),this.k=new b(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function lt(){ot.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function wt(){ot.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function xt(){ot.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Ot(){ot.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Tt(A){if("string"==typeof A){var o=b._prime(A);this.m=o.p,this.prime=o}else J(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}function Et(A){Tt.call(this,A),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new b(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ot.prototype._tmp=function(){var o=new b(null);return o.words=new Array(Math.ceil(this.n/13)),o},ot.prototype.ireduce=function(o){var g,c=o;do{this.split(c,this.tmp),g=(c=(c=this.imulK(c)).iadd(this.tmp)).bitLength()}while(g>this.n);var p=g<this.n?-1:c.ucmp(this.p);return 0===p?(c.words[0]=0,c.length=1):p>0?c.isub(this.p):void 0!==c.strip?c.strip():c._strip(),c},ot.prototype.split=function(o,c){o.iushrn(this.n,0,c)},ot.prototype.imulK=function(o){return o.imul(this.k)},tt(lt,ot),lt.prototype.split=function(o,c){for(var g=4194303,p=Math.min(o.length,9),w=0;w<p;w++)c.words[w]=o.words[w];if(c.length=p,o.length<=9)return o.words[0]=0,void(o.length=1);var S=o.words[9];for(c.words[c.length++]=S&g,w=10;w<o.length;w++){var T=0|o.words[w];o.words[w-10]=(T&g)<<4|S>>>22,S=T}o.words[w-10]=S>>>=22,o.length-=0===S&&o.length>10?10:9},lt.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var c=0,g=0;g<o.length;g++){var p=0|o.words[g];o.words[g]=67108863&(c+=977*p),c=64*p+(c/67108864|0)}return 0===o.words[o.length-1]&&(o.length--,0===o.words[o.length-1]&&o.length--),o},tt(wt,ot),tt(xt,ot),tt(Ot,ot),Ot.prototype.imulK=function(o){for(var c=0,g=0;g<o.length;g++){var p=19*(0|o.words[g])+c,w=67108863&p;p>>>=26,o.words[g]=w,c=p}return 0!==c&&(o.words[o.length++]=c),o},b._prime=function(o){if(it[o])return it[o];var c;if("k256"===o)c=new lt;else if("p224"===o)c=new wt;else if("p192"===o)c=new xt;else{if("p25519"!==o)throw new Error("Unknown prime "+o);c=new Ot}return it[o]=c,c},Tt.prototype._verify1=function(o){J(0===o.negative,"red works only with positives"),J(o.red,"red works only with red numbers")},Tt.prototype._verify2=function(o,c){J(0==(o.negative|c.negative),"red works only with positives"),J(o.red&&o.red===c.red,"red works only with red numbers")},Tt.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},Tt.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},Tt.prototype.add=function(o,c){this._verify2(o,c);var g=o.add(c);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},Tt.prototype.iadd=function(o,c){this._verify2(o,c);var g=o.iadd(c);return g.cmp(this.m)>=0&&g.isub(this.m),g},Tt.prototype.sub=function(o,c){this._verify2(o,c);var g=o.sub(c);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},Tt.prototype.isub=function(o,c){this._verify2(o,c);var g=o.isub(c);return g.cmpn(0)<0&&g.iadd(this.m),g},Tt.prototype.shl=function(o,c){return this._verify1(o),this.imod(o.ushln(c))},Tt.prototype.imul=function(o,c){return this._verify2(o,c),this.imod(o.imul(c))},Tt.prototype.mul=function(o,c){return this._verify2(o,c),this.imod(o.mul(c))},Tt.prototype.isqr=function(o){return this.imul(o,o.clone())},Tt.prototype.sqr=function(o){return this.mul(o,o)},Tt.prototype.sqrt=function(o){if(o.isZero())return o.clone();var c=this.m.andln(3);if(J(c%2==1),3===c){var g=this.m.add(new b(1)).iushrn(2);return this.pow(o,g)}for(var p=this.m.subn(1),w=0;!p.isZero()&&0===p.andln(1);)w++,p.iushrn(1);J(!p.isZero());var S=new b(1).toRed(this),T=S.redNeg(),C=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new b(2*h*h).toRed(this);0!==this.pow(h,C).cmp(T);)h.redIAdd(T);for(var k=this.pow(h,p),ft=this.pow(o,p.addn(1).iushrn(1)),at=this.pow(o,p),st=w;0!==at.cmp(S);){for(var Mt=at,St=0;0!==Mt.cmp(S);St++)Mt=Mt.redSqr();J(St<st);var Xt=this.pow(k,new b(1).iushln(st-St-1));ft=ft.redMul(Xt),k=Xt.redSqr(),at=at.redMul(k),st=St}return ft},Tt.prototype.invm=function(o){var c=o._invmp(this.m);return 0!==c.negative?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},Tt.prototype.pow=function(o,c){if(c.isZero())return new b(1).toRed(this);if(0===c.cmpn(1))return o.clone();var p=new Array(16);p[0]=new b(1).toRed(this),p[1]=o;for(var w=2;w<p.length;w++)p[w]=this.mul(p[w-1],o);var S=p[0],T=0,C=0,h=c.bitLength()%26;for(0===h&&(h=26),w=c.length-1;w>=0;w--){for(var k=c.words[w],ft=h-1;ft>=0;ft--){var at=k>>ft&1;S!==p[0]&&(S=this.sqr(S)),0!==at||0!==T?(T<<=1,T|=at,(4==++C||0===w&&0===ft)&&(S=this.mul(S,p[T]),C=0,T=0)):C=0}h=26}return S},Tt.prototype.convertTo=function(o){var c=o.umod(this.m);return c===o?c.clone():c},Tt.prototype.convertFrom=function(o){var c=o.clone();return c.red=null,c},b.mont=function(o){return new Et(o)},tt(Et,Tt),Et.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Et.prototype.convertFrom=function(o){var c=this.imod(o.mul(this.rinv));return c.red=null,c},Et.prototype.imul=function(o,c){if(o.isZero()||c.isZero())return o.words[0]=0,o.length=1,o;var g=o.imul(c),p=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=g.isub(p).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},Et.prototype.mul=function(o,c){if(o.isZero()||c.isZero())return new b(0)._forceRed(this);var g=o.mul(c),p=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=g.isub(p).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},Et.prototype.invm=function(o){return this.imod(o._invmp(this.m).mul(this.r2))._forceRed(this)}}(Ee=ut.nmd(Ee),this)},3009:(Ee,Q,ut)=>{var ct=ut(347),f=ut(9129),J=ut(4137),tt=ut(8847),b=ut(5269),W=ut(4979),G=ut(2900),rt=ut(4615).Buffer;Ee.exports=function(B,X,z){var Y;Y=B.padding?B.padding:z?1:4;var it,q=ct(B),U=q.modulus.byteLength();if(X.length>U||new tt(X).cmp(q.modulus)>=0)throw new Error("decryption error");it=z?G(new tt(X),q):b(X,q);var ot=rt.alloc(U-it.length);if(it=rt.concat([ot,it],U),4===Y)return function(et,B){var X=et.modulus.byteLength(),z=W("sha1").update(rt.alloc(0)).digest(),Y=z.length;if(0!==B[0])throw new Error("decryption error");var q=B.slice(1,Y+1),U=B.slice(Y+1),it=J(q,f(U,Y)),ot=J(U,f(it,X-Y-1));if(function(et,B){et=rt.from(et),B=rt.from(B);var X=0,z=et.length;et.length!==B.length&&(X++,z=Math.min(et.length,B.length));for(var Y=-1;++Y<z;)X+=et[Y]^B[Y];return X}(z,ot.slice(0,Y)))throw new Error("decryption error");for(var lt=Y;0===ot[lt];)lt++;if(1!==ot[lt++])throw new Error("decryption error");return ot.slice(lt)}(q,it);if(1===Y)return function(et,B,X){for(var z=B.slice(0,2),Y=2,q=0;0!==B[Y++];)if(Y>=B.length){q++;break}var U=B.slice(2,Y-1);if(("0002"!==z.toString("hex")&&!X||"0001"!==z.toString("hex")&&X)&&q++,U.length<8&&q++,q)throw new Error("decryption error");return B.slice(Y)}(0,it,z);if(3===Y)return it;throw new Error("unknown padding")}},793:(Ee,Q,ut)=>{var ct=ut(347),f=ut(8747),J=ut(4979),tt=ut(9129),b=ut(4137),W=ut(8847),G=ut(2900),rt=ut(5269),Z=ut(4615).Buffer;Ee.exports=function(X,z,Y){var q;q=X.padding?X.padding:Y?1:4;var it,U=ct(X);if(4===q)it=function(B,X){var z=B.modulus.byteLength(),Y=X.length,q=J("sha1").update(Z.alloc(0)).digest(),U=q.length,it=2*U;if(Y>z-it-2)throw new Error("message too long");var ot=Z.alloc(z-Y-it-2),lt=z-U-1,wt=f(U),xt=b(Z.concat([q,ot,Z.alloc(1,1),X],lt),tt(wt,lt)),Ot=b(wt,tt(xt,U));return new W(Z.concat([Z.alloc(1),Ot,xt],z))}(U,z);else if(1===q)it=function(B,X,z){var U,Y=X.length,q=B.modulus.byteLength();if(Y>q-11)throw new Error("message too long");return U=z?Z.alloc(q-Y-3,255):function(B){for(var U,X=Z.allocUnsafe(B),z=0,Y=f(2*B),q=0;z<B;)q===Y.length&&(Y=f(2*B),q=0),(U=Y[q++])&&(X[z++]=U);return X}(q-Y-3),new W(Z.concat([Z.from([0,z?1:2]),U,Z.alloc(1),X],q))}(U,z,Y);else{if(3!==q)throw new Error("unknown padding");if((it=new W(z)).cmp(U.modulus)>=0)throw new Error("data too long for modulus")}return Y?rt(it,U):G(it,U)}},2900:(Ee,Q,ut)=>{var ct=ut(8847),f=ut(4615).Buffer;Ee.exports=function(tt,b){return f.from(tt.toRed(ct.mont(b.modulus)).redPow(new ct(b.publicExponent)).fromRed().toArray())}},4137:Ee=>{Ee.exports=function(ut,ct){for(var f=ut.length,J=-1;++J<f;)ut[J]^=ct[J];return ut}},8747:(Ee,Q,ut)=>{"use strict";var tt=ut(4615).Buffer,b=global.crypto||global.msCrypto;Ee.exports=b&&b.getRandomValues?function(G,rt){if(G>4294967295)throw new RangeError("requested too many random bytes");var Z=tt.allocUnsafe(G);if(G>0)if(G>65536)for(var H=0;H<G;H+=65536)b.getRandomValues(Z.slice(H,H+65536));else b.getRandomValues(Z);return"function"==typeof rt?process.nextTick(function(){rt(null,Z)}):Z}:function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},1766:(Ee,Q,ut)=>{"use strict";function ct(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var f=ut(4615),J=ut(8747),tt=f.Buffer,b=f.kMaxLength,W=global.crypto||global.msCrypto,G=Math.pow(2,32)-1;function rt(B,X){if("number"!=typeof B||B!=B)throw new TypeError("offset must be a number");if(B>G||B<0)throw new TypeError("offset must be a uint32");if(B>b||B>X)throw new RangeError("offset out of range")}function Z(B,X,z){if("number"!=typeof B||B!=B)throw new TypeError("size must be a number");if(B>G||B<0)throw new TypeError("size must be a uint32");if(B+X>z||B>b)throw new RangeError("buffer too small")}function F(B,X,z,Y){if(process.browser){var U=new Uint8Array(B.buffer,X,z);return W.getRandomValues(U),Y?void process.nextTick(function(){Y(null,B)}):B}if(!Y)return J(z).copy(B,X),B;J(z,function(ot,lt){if(ot)return Y(ot);lt.copy(B,X),Y(null,B)})}W&&W.getRandomValues||!process.browser?(Q.randomFill=function(B,X,z,Y){if(!(tt.isBuffer(B)||B instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof X)Y=X,X=0,z=B.length;else if("function"==typeof z)Y=z,z=B.length-X;else if("function"!=typeof Y)throw new TypeError('"cb" argument must be a function');return rt(X,B.length),Z(z,X,B.length),F(B,X,z,Y)},Q.randomFillSync=function(B,X,z){if(void 0===X&&(X=0),!(tt.isBuffer(B)||B instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return rt(X,B.length),void 0===z&&(z=B.length-X),Z(z,X,B.length),F(B,X,z)}):(Q.randomFill=ct,Q.randomFillSync=ct)},4621:Ee=>{"use strict";var ut={};function ct(W,G,rt){rt||(rt=Error);var H=function(F){function et(B,X,z){return F.call(this,function(F,et,B){return"string"==typeof G?G:G(F,et,B)}(B,X,z))||this}return function(W,G){W.prototype=Object.create(G.prototype),W.prototype.constructor=W,W.__proto__=G}(et,F),et}(rt);H.prototype.name=rt.name,H.prototype.code=W,ut[W]=H}function f(W,G){if(Array.isArray(W)){var rt=W.length;return W=W.map(function(Z){return String(Z)}),rt>2?"one of ".concat(G," ").concat(W.slice(0,rt-1).join(", "),", or ")+W[rt-1]:2===rt?"one of ".concat(G," ").concat(W[0]," or ").concat(W[1]):"of ".concat(G," ").concat(W[0])}return"of ".concat(G," ").concat(String(W))}ct("ERR_INVALID_OPT_VALUE",function(W,G){return'The value "'+G+'" is invalid for option "'+W+'"'},TypeError),ct("ERR_INVALID_ARG_TYPE",function(W,G,rt){var Z,H;if("string"==typeof G&&function(W,G,rt){return W.substr(0,G.length)===G}(G,"not ")?(Z="must not be",G=G.replace(/^not /,"")):Z="must be",function(W,G,rt){return(void 0===rt||rt>W.length)&&(rt=W.length),W.substring(rt-G.length,rt)===G}(W," argument"))H="The ".concat(W," ").concat(Z," ").concat(f(G,"type"));else{var F=function(W,G,rt){return"number"!=typeof rt&&(rt=0),!(rt+".".length>W.length)&&-1!==W.indexOf(".",rt)}(W)?"property":"argument";H='The "'.concat(W,'" ').concat(F," ").concat(Z," ").concat(f(G,"type"))}return H+". Received type ".concat(typeof rt)},TypeError),ct("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),ct("ERR_METHOD_NOT_IMPLEMENTED",function(W){return"The "+W+" method is not implemented"}),ct("ERR_STREAM_PREMATURE_CLOSE","Premature close"),ct("ERR_STREAM_DESTROYED",function(W){return"Cannot call "+W+" after a stream was destroyed"}),ct("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),ct("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),ct("ERR_STREAM_WRITE_AFTER_END","write after end"),ct("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),ct("ERR_UNKNOWN_ENCODING",function(W){return"Unknown encoding: "+W},TypeError),ct("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Ee.exports.q=ut},9617:(Ee,Q,ut)=>{"use strict";var ct=Object.keys||function(H){var F=[];for(var et in H)F.push(et);return F};Ee.exports=G;var f=ut(7619),J=ut(8956);ut(3516)(G,f);for(var tt=ct(J.prototype),b=0;b<tt.length;b++){var W=tt[b];G.prototype[W]||(G.prototype[W]=J.prototype[W])}function G(H){if(!(this instanceof G))return new G(H);f.call(this,H),J.call(this,H),this.allowHalfOpen=!0,H&&(!1===H.readable&&(this.readable=!1),!1===H.writable&&(this.writable=!1),!1===H.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",rt)))}function rt(){this._writableState.ended||process.nextTick(Z,this)}function Z(H){H.end()}Object.defineProperty(G.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(G.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(G.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(G.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(F){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=F,this._writableState.destroyed=F)}})},1833:(Ee,Q,ut)=>{"use strict";Ee.exports=f;var ct=ut(8329);function f(J){if(!(this instanceof f))return new f(J);ct.call(this,J)}ut(3516)(f,ct),f.prototype._transform=function(J,tt,b){b(null,J)}},7619:(Ee,Q,ut)=>{"use strict";var ct;Ee.exports=A,A.ReadableState=Et,ut(7703);var H,J=function(Kt,fe){return Kt.listeners(fe).length},tt=ut(3183),b=ut(3847).Buffer,W=global.Uint8Array||function(){},Z=ut(4616);H=Z&&Z.debuglog?Z.debuglog("stream"):function(){};var ot,lt,wt,F=ut(7081),et=ut(9405),X=ut(7411).getHighWaterMark,z=ut(4621).q,Y=z.ERR_INVALID_ARG_TYPE,q=z.ERR_STREAM_PUSH_AFTER_EOF,U=z.ERR_METHOD_NOT_IMPLEMENTED,it=z.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;ut(3516)(A,tt);var xt=et.errorOrDestroy,Ot=["error","close","destroy","pause","resume"];function Et(Nt,Kt,fe){ct=ct||ut(9617),"boolean"!=typeof fe&&(fe=Kt instanceof ct),this.objectMode=!!(Nt=Nt||{}).objectMode,fe&&(this.objectMode=this.objectMode||!!Nt.readableObjectMode),this.highWaterMark=X(this,Nt,"readableHighWaterMark",fe),this.buffer=new F,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==Nt.emitClose,this.autoDestroy=!!Nt.autoDestroy,this.destroyed=!1,this.defaultEncoding=Nt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Nt.encoding&&(ot||(ot=ut(3033).s),this.decoder=new ot(Nt.encoding),this.encoding=Nt.encoding)}function A(Nt){if(ct=ct||ut(9617),!(this instanceof A))return new A(Nt);this._readableState=new Et(Nt,this,this instanceof ct),this.readable=!0,Nt&&("function"==typeof Nt.read&&(this._read=Nt.read),"function"==typeof Nt.destroy&&(this._destroy=Nt.destroy)),tt.call(this)}function o(Nt,Kt,fe,zt,Ne){H("readableAddChunk",Kt);var Se,Pt=Nt._readableState;if(null===Kt)Pt.reading=!1,function(Nt,Kt){if(H("onEofChunk"),!Kt.ended){if(Kt.decoder){var fe=Kt.decoder.end();fe&&fe.length&&(Kt.buffer.push(fe),Kt.length+=Kt.objectMode?1:fe.length)}Kt.ended=!0,Kt.sync?C(Nt):(Kt.needReadable=!1,Kt.emittedReadable||(Kt.emittedReadable=!0,h(Nt)))}}(Nt,Pt);else if(Ne||(Se=function(Nt,Kt){var fe;return!function(Nt){return b.isBuffer(Nt)||Nt instanceof W}(Kt)&&"string"!=typeof Kt&&void 0!==Kt&&!Nt.objectMode&&(fe=new Y("chunk",["string","Buffer","Uint8Array"],Kt)),fe}(Pt,Kt)),Se)xt(Nt,Se);else if(Pt.objectMode||Kt&&Kt.length>0)if("string"!=typeof Kt&&!Pt.objectMode&&Object.getPrototypeOf(Kt)!==b.prototype&&(Kt=function(Nt){return b.from(Nt)}(Kt)),zt)Pt.endEmitted?xt(Nt,new it):c(Nt,Pt,Kt,!0);else if(Pt.ended)xt(Nt,new q);else{if(Pt.destroyed)return!1;Pt.reading=!1,Pt.decoder&&!fe?(Kt=Pt.decoder.write(Kt),Pt.objectMode||0!==Kt.length?c(Nt,Pt,Kt,!1):k(Nt,Pt)):c(Nt,Pt,Kt,!1)}else zt||(Pt.reading=!1,k(Nt,Pt));return!Pt.ended&&(Pt.length<Pt.highWaterMark||0===Pt.length)}function c(Nt,Kt,fe,zt){Kt.flowing&&0===Kt.length&&!Kt.sync?(Kt.awaitDrain=0,Nt.emit("data",fe)):(Kt.length+=Kt.objectMode?1:fe.length,zt?Kt.buffer.unshift(fe):Kt.buffer.push(fe),Kt.needReadable&&C(Nt)),k(Nt,Kt)}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(Kt){!this._readableState||(this._readableState.destroyed=Kt)}}),A.prototype.destroy=et.destroy,A.prototype._undestroy=et.undestroy,A.prototype._destroy=function(Nt,Kt){Kt(Nt)},A.prototype.push=function(Nt,Kt){var zt,fe=this._readableState;return fe.objectMode?zt=!0:"string"==typeof Nt&&((Kt=Kt||fe.defaultEncoding)!==fe.encoding&&(Nt=b.from(Nt,Kt),Kt=""),zt=!0),o(this,Nt,Kt,!1,zt)},A.prototype.unshift=function(Nt){return o(this,Nt,null,!0,!1)},A.prototype.isPaused=function(){return!1===this._readableState.flowing},A.prototype.setEncoding=function(Nt){ot||(ot=ut(3033).s);var Kt=new ot(Nt);this._readableState.decoder=Kt,this._readableState.encoding=this._readableState.decoder.encoding;for(var fe=this._readableState.buffer.head,zt="";null!==fe;)zt+=Kt.write(fe.data),fe=fe.next;return this._readableState.buffer.clear(),""!==zt&&this._readableState.buffer.push(zt),this._readableState.length=zt.length,this};var p=1073741824;function S(Nt,Kt){return Nt<=0||0===Kt.length&&Kt.ended?0:Kt.objectMode?1:Nt!=Nt?Kt.flowing&&Kt.length?Kt.buffer.head.data.length:Kt.length:(Nt>Kt.highWaterMark&&(Kt.highWaterMark=function(Nt){return Nt>=p?Nt=p:(Nt--,Nt|=Nt>>>1,Nt|=Nt>>>2,Nt|=Nt>>>4,Nt|=Nt>>>8,Nt|=Nt>>>16,Nt++),Nt}(Nt)),Nt<=Kt.length?Nt:Kt.ended?Kt.length:(Kt.needReadable=!0,0))}function C(Nt){var Kt=Nt._readableState;H("emitReadable",Kt.needReadable,Kt.emittedReadable),Kt.needReadable=!1,Kt.emittedReadable||(H("emitReadable",Kt.flowing),Kt.emittedReadable=!0,process.nextTick(h,Nt))}function h(Nt){var Kt=Nt._readableState;H("emitReadable_",Kt.destroyed,Kt.length,Kt.ended),!Kt.destroyed&&(Kt.length||Kt.ended)&&(Nt.emit("readable"),Kt.emittedReadable=!1),Kt.needReadable=!Kt.flowing&&!Kt.ended&&Kt.length<=Kt.highWaterMark,te(Nt)}function k(Nt,Kt){Kt.readingMore||(Kt.readingMore=!0,process.nextTick(ft,Nt,Kt))}function ft(Nt,Kt){for(;!Kt.reading&&!Kt.ended&&(Kt.length<Kt.highWaterMark||Kt.flowing&&0===Kt.length);){var fe=Kt.length;if(H("maybeReadMore read 0"),Nt.read(0),fe===Kt.length)break}Kt.readingMore=!1}function st(Nt){var Kt=Nt._readableState;Kt.readableListening=Nt.listenerCount("readable")>0,Kt.resumeScheduled&&!Kt.paused?Kt.flowing=!0:Nt.listenerCount("data")>0&&Nt.resume()}function Mt(Nt){H("readable nexttick read 0"),Nt.read(0)}function Xt(Nt,Kt){H("resume",Kt.reading),Kt.reading||Nt.read(0),Kt.resumeScheduled=!1,Nt.emit("resume"),te(Nt),Kt.flowing&&!Kt.reading&&Nt.read(0)}function te(Nt){var Kt=Nt._readableState;for(H("flow",Kt.flowing);Kt.flowing&&null!==Nt.read(););}function Vt(Nt,Kt){return 0===Kt.length?null:(Kt.objectMode?fe=Kt.buffer.shift():!Nt||Nt>=Kt.length?(fe=Kt.decoder?Kt.buffer.join(""):1===Kt.buffer.length?Kt.buffer.first():Kt.buffer.concat(Kt.length),Kt.buffer.clear()):fe=Kt.buffer.consume(Nt,Kt.decoder),fe);var fe}function Dt(Nt){var Kt=Nt._readableState;H("endReadable",Kt.endEmitted),Kt.endEmitted||(Kt.ended=!0,process.nextTick(ve,Kt,Nt))}function ve(Nt,Kt){if(H("endReadableNT",Nt.endEmitted,Nt.length),!Nt.endEmitted&&0===Nt.length&&(Nt.endEmitted=!0,Kt.readable=!1,Kt.emit("end"),Nt.autoDestroy)){var fe=Kt._writableState;(!fe||fe.autoDestroy&&fe.finished)&&Kt.destroy()}}function Gt(Nt,Kt){for(var fe=0,zt=Nt.length;fe<zt;fe++)if(Nt[fe]===Kt)return fe;return-1}A.prototype.read=function(Nt){H("read",Nt),Nt=parseInt(Nt,10);var Kt=this._readableState,fe=Nt;if(0!==Nt&&(Kt.emittedReadable=!1),0===Nt&&Kt.needReadable&&((0!==Kt.highWaterMark?Kt.length>=Kt.highWaterMark:Kt.length>0)||Kt.ended))return H("read: emitReadable",Kt.length,Kt.ended),0===Kt.length&&Kt.ended?Dt(this):C(this),null;if(0===(Nt=S(Nt,Kt))&&Kt.ended)return 0===Kt.length&&Dt(this),null;var Ne,zt=Kt.needReadable;return H("need readable",zt),(0===Kt.length||Kt.length-Nt<Kt.highWaterMark)&&H("length less than watermark",zt=!0),Kt.ended||Kt.reading?H("reading or ended",zt=!1):zt&&(H("do read"),Kt.reading=!0,Kt.sync=!0,0===Kt.length&&(Kt.needReadable=!0),this._read(Kt.highWaterMark),Kt.sync=!1,Kt.reading||(Nt=S(fe,Kt))),null===(Ne=Nt>0?Vt(Nt,Kt):null)?(Kt.needReadable=Kt.length<=Kt.highWaterMark,Nt=0):(Kt.length-=Nt,Kt.awaitDrain=0),0===Kt.length&&(Kt.ended||(Kt.needReadable=!0),fe!==Nt&&Kt.ended&&Dt(this)),null!==Ne&&this.emit("data",Ne),Ne},A.prototype._read=function(Nt){xt(this,new U("_read()"))},A.prototype.pipe=function(Nt,Kt){var fe=this,zt=this._readableState;switch(zt.pipesCount){case 0:zt.pipes=Nt;break;case 1:zt.pipes=[zt.pipes,Nt];break;default:zt.pipes.push(Nt)}zt.pipesCount+=1,H("pipe count=%d opts=%j",zt.pipesCount,Kt);var Pt=Kt&&!1===Kt.end||Nt===process.stdout||Nt===process.stderr?yt:Fi;function Fi(){H("onend"),Nt.end()}zt.endEmitted?process.nextTick(Pt):fe.once("end",Pt),Nt.on("unpipe",function Se(ht,ce){H("onunpipe"),ht===fe&&ce&&!1===ce.hasUnpiped&&(ce.hasUnpiped=!0,H("cleanup"),Nt.removeListener("close",Ye),Nt.removeListener("finish",jt),Nt.removeListener("drain",Ge),Nt.removeListener("error",re),Nt.removeListener("unpipe",Se),fe.removeListener("end",Fi),fe.removeListener("end",yt),fe.removeListener("data",Bt),_e=!0,zt.awaitDrain&&(!Nt._writableState||Nt._writableState.needDrain)&&Ge())});var Ge=function(Nt){return function(){var fe=Nt._readableState;H("pipeOnDrain",fe.awaitDrain),fe.awaitDrain&&fe.awaitDrain--,0===fe.awaitDrain&&J(Nt,"data")&&(fe.flowing=!0,te(Nt))}}(fe);Nt.on("drain",Ge);var _e=!1;function Bt(ht){H("ondata");var ce=Nt.write(ht);H("dest.write",ce),!1===ce&&((1===zt.pipesCount&&zt.pipes===Nt||zt.pipesCount>1&&-1!==Gt(zt.pipes,Nt))&&!_e&&(H("false write response, pause",zt.awaitDrain),zt.awaitDrain++),fe.pause())}function re(ht){H("onerror",ht),yt(),Nt.removeListener("error",re),0===J(Nt,"error")&&xt(Nt,ht)}function Ye(){Nt.removeListener("finish",jt),yt()}function jt(){H("onfinish"),Nt.removeListener("close",Ye),yt()}function yt(){H("unpipe"),fe.unpipe(Nt)}return fe.on("data",Bt),function(Nt,Kt,fe){if("function"==typeof Nt.prependListener)return Nt.prependListener(Kt,fe);Nt._events&&Nt._events[Kt]?Array.isArray(Nt._events[Kt])?Nt._events[Kt].unshift(fe):Nt._events[Kt]=[fe,Nt._events[Kt]]:Nt.on(Kt,fe)}(Nt,"error",re),Nt.once("close",Ye),Nt.once("finish",jt),Nt.emit("pipe",fe),zt.flowing||(H("pipe resume"),fe.resume()),Nt},A.prototype.unpipe=function(Nt){var Kt=this._readableState,fe={hasUnpiped:!1};if(0===Kt.pipesCount)return this;if(1===Kt.pipesCount)return Nt&&Nt!==Kt.pipes||(Nt||(Nt=Kt.pipes),Kt.pipes=null,Kt.pipesCount=0,Kt.flowing=!1,Nt&&Nt.emit("unpipe",this,fe)),this;if(!Nt){var zt=Kt.pipes,Ne=Kt.pipesCount;Kt.pipes=null,Kt.pipesCount=0,Kt.flowing=!1;for(var Pt=0;Pt<Ne;Pt++)zt[Pt].emit("unpipe",this,{hasUnpiped:!1});return this}var Se=Gt(Kt.pipes,Nt);return-1===Se||(Kt.pipes.splice(Se,1),Kt.pipesCount-=1,1===Kt.pipesCount&&(Kt.pipes=Kt.pipes[0]),Nt.emit("unpipe",this,fe)),this},A.prototype.addListener=A.prototype.on=function(Nt,Kt){var fe=tt.prototype.on.call(this,Nt,Kt),zt=this._readableState;return"data"===Nt?(zt.readableListening=this.listenerCount("readable")>0,!1!==zt.flowing&&this.resume()):"readable"===Nt&&!zt.endEmitted&&!zt.readableListening&&(zt.readableListening=zt.needReadable=!0,zt.flowing=!1,zt.emittedReadable=!1,H("on readable",zt.length,zt.reading),zt.length?C(this):zt.reading||process.nextTick(Mt,this)),fe},A.prototype.removeListener=function(Nt,Kt){var fe=tt.prototype.removeListener.call(this,Nt,Kt);return"readable"===Nt&&process.nextTick(st,this),fe},A.prototype.removeAllListeners=function(Nt){var Kt=tt.prototype.removeAllListeners.apply(this,arguments);return("readable"===Nt||void 0===Nt)&&process.nextTick(st,this),Kt},A.prototype.resume=function(){var Nt=this._readableState;return Nt.flowing||(H("resume"),Nt.flowing=!Nt.readableListening,function(Nt,Kt){Kt.resumeScheduled||(Kt.resumeScheduled=!0,process.nextTick(Xt,Nt,Kt))}(this,Nt)),Nt.paused=!1,this},A.prototype.pause=function(){return H("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(H("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},A.prototype.wrap=function(Nt){var Kt=this,fe=this._readableState,zt=!1;for(var Ne in Nt.on("end",function(){if(H("wrapped end"),fe.decoder&&!fe.ended){var Se=fe.decoder.end();Se&&Se.length&&Kt.push(Se)}Kt.push(null)}),Nt.on("data",function(Se){H("wrapped data"),fe.decoder&&(Se=fe.decoder.write(Se)),fe.objectMode&&null==Se||!(fe.objectMode||Se&&Se.length)||Kt.push(Se)||(zt=!0,Nt.pause())}),Nt)void 0===this[Ne]&&"function"==typeof Nt[Ne]&&(this[Ne]=function(Fi){return function(){return Nt[Fi].apply(Nt,arguments)}}(Ne));for(var Pt=0;Pt<Ot.length;Pt++)Nt.on(Ot[Pt],this.emit.bind(this,Ot[Pt]));return this._read=function(Se){H("wrapped _read",Se),zt&&(zt=!1,Nt.resume())},this},"function"==typeof Symbol&&(A.prototype[Symbol.asyncIterator]=function(){return void 0===lt&&(lt=ut(6924)),lt(this)}),Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(A.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(A.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Kt){this._readableState&&(this._readableState.flowing=Kt)}}),A._fromList=Vt,Object.defineProperty(A.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(A.from=function(Nt,Kt){return void 0===wt&&(wt=ut(9742)),wt(A,Nt,Kt)})},8329:(Ee,Q,ut)=>{"use strict";Ee.exports=rt;var ct=ut(4621).q,f=ct.ERR_METHOD_NOT_IMPLEMENTED,J=ct.ERR_MULTIPLE_CALLBACK,tt=ct.ERR_TRANSFORM_ALREADY_TRANSFORMING,b=ct.ERR_TRANSFORM_WITH_LENGTH_0,W=ut(9617);function G(F,et){var B=this._transformState;B.transforming=!1;var X=B.writecb;if(null===X)return this.emit("error",new J);B.writechunk=null,B.writecb=null,null!=et&&this.push(et),X(F);var z=this._readableState;z.reading=!1,(z.needReadable||z.length<z.highWaterMark)&&this._read(z.highWaterMark)}function rt(F){if(!(this instanceof rt))return new rt(F);W.call(this,F),this._transformState={afterTransform:G.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,F&&("function"==typeof F.transform&&(this._transform=F.transform),"function"==typeof F.flush&&(this._flush=F.flush)),this.on("prefinish",Z)}function Z(){var F=this;"function"!=typeof this._flush||this._readableState.destroyed?H(this,null,null):this._flush(function(et,B){H(F,et,B)})}function H(F,et,B){if(et)return F.emit("error",et);if(null!=B&&F.push(B),F._writableState.length)throw new b;if(F._transformState.transforming)throw new tt;return F.push(null)}ut(3516)(rt,W),rt.prototype.push=function(F,et){return this._transformState.needTransform=!1,W.prototype.push.call(this,F,et)},rt.prototype._transform=function(F,et,B){B(new f("_transform()"))},rt.prototype._write=function(F,et,B){var X=this._transformState;if(X.writecb=B,X.writechunk=F,X.writeencoding=et,!X.transforming){var z=this._readableState;(X.needTransform||z.needReadable||z.length<z.highWaterMark)&&this._read(z.highWaterMark)}},rt.prototype._read=function(F){var et=this._transformState;null===et.writechunk||et.transforming?et.needTransform=!0:(et.transforming=!0,this._transform(et.writechunk,et.writeencoding,et.afterTransform))},rt.prototype._destroy=function(F,et){W.prototype._destroy.call(this,F,function(B){et(B)})}},8956:(Ee,Q,ut)=>{"use strict";function f(te){var Vt=this;this.next=null,this.entry=null,this.finish=function(){!function(te,Vt,Dt){var ve=te.entry;for(te.entry=null;ve;){var Gt=ve.callback;Vt.pendingcb--,Gt(undefined),ve=ve.next}Vt.corkedRequestsFree.next=te}(Vt,te)}}var J;Ee.exports=Et,Et.WritableState=Ot;var Tt,tt={deprecate:ut(5832)},b=ut(3183),W=ut(3847).Buffer,G=global.Uint8Array||function(){},H=ut(9405),et=ut(7411).getHighWaterMark,B=ut(4621).q,X=B.ERR_INVALID_ARG_TYPE,z=B.ERR_METHOD_NOT_IMPLEMENTED,Y=B.ERR_MULTIPLE_CALLBACK,q=B.ERR_STREAM_CANNOT_PIPE,U=B.ERR_STREAM_DESTROYED,it=B.ERR_STREAM_NULL_VALUES,ot=B.ERR_STREAM_WRITE_AFTER_END,lt=B.ERR_UNKNOWN_ENCODING,wt=H.errorOrDestroy;function xt(){}function Ot(te,Vt,Dt){J=J||ut(9617),"boolean"!=typeof Dt&&(Dt=Vt instanceof J),this.objectMode=!!(te=te||{}).objectMode,Dt&&(this.objectMode=this.objectMode||!!te.writableObjectMode),this.highWaterMark=et(this,te,"writableHighWaterMark",Dt),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===te.decodeStrings),this.defaultEncoding=te.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Gt){!function(te,Vt){var Dt=te._writableState,ve=Dt.sync,Gt=Dt.writecb;if("function"!=typeof Gt)throw new Y;if(function(te){te.writing=!1,te.writecb=null,te.length-=te.writelen,te.writelen=0}(Dt),Vt)!function(te,Vt,Dt,ve,Gt){--Vt.pendingcb,Dt?(process.nextTick(Gt,ve),process.nextTick(Mt,te,Vt),te._writableState.errorEmitted=!0,wt(te,ve)):(Gt(ve),te._writableState.errorEmitted=!0,wt(te,ve),Mt(te,Vt))}(te,Dt,ve,Vt,Gt);else{var Nt=ft(Dt)||te.destroyed;!Nt&&!Dt.corked&&!Dt.bufferProcessing&&Dt.bufferedRequest&&k(te,Dt),ve?process.nextTick(C,te,Dt,Nt,Gt):C(te,Dt,Nt,Gt)}}(Vt,Gt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==te.emitClose,this.autoDestroy=!!te.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new f(this)}function Et(te){var Vt=this instanceof(J=J||ut(9617));if(!Vt&&!Tt.call(Et,this))return new Et(te);this._writableState=new Ot(te,this,Vt),this.writable=!0,te&&("function"==typeof te.write&&(this._write=te.write),"function"==typeof te.writev&&(this._writev=te.writev),"function"==typeof te.destroy&&(this._destroy=te.destroy),"function"==typeof te.final&&(this._final=te.final)),b.call(this)}function p(te,Vt,Dt,ve,Gt,Nt,Kt){Vt.writelen=ve,Vt.writecb=Kt,Vt.writing=!0,Vt.sync=!0,Vt.destroyed?Vt.onwrite(new U("write")):Dt?te._writev(Gt,Vt.onwrite):te._write(Gt,Nt,Vt.onwrite),Vt.sync=!1}function C(te,Vt,Dt,ve){Dt||function(te,Vt){0===Vt.length&&Vt.needDrain&&(Vt.needDrain=!1,te.emit("drain"))}(te,Vt),Vt.pendingcb--,ve(),Mt(te,Vt)}function k(te,Vt){Vt.bufferProcessing=!0;var Dt=Vt.bufferedRequest;if(te._writev&&Dt&&Dt.next){var Gt=new Array(Vt.bufferedRequestCount),Nt=Vt.corkedRequestsFree;Nt.entry=Dt;for(var Kt=0,fe=!0;Dt;)Gt[Kt]=Dt,Dt.isBuf||(fe=!1),Dt=Dt.next,Kt+=1;Gt.allBuffers=fe,p(te,Vt,!0,Vt.length,Gt,"",Nt.finish),Vt.pendingcb++,Vt.lastBufferedRequest=null,Nt.next?(Vt.corkedRequestsFree=Nt.next,Nt.next=null):Vt.corkedRequestsFree=new f(Vt),Vt.bufferedRequestCount=0}else{for(;Dt;){var zt=Dt.chunk;if(p(te,Vt,!1,Vt.objectMode?1:zt.length,zt,Dt.encoding,Dt.callback),Dt=Dt.next,Vt.bufferedRequestCount--,Vt.writing)break}null===Dt&&(Vt.lastBufferedRequest=null)}Vt.bufferedRequest=Dt,Vt.bufferProcessing=!1}function ft(te){return te.ending&&0===te.length&&null===te.bufferedRequest&&!te.finished&&!te.writing}function at(te,Vt){te._final(function(Dt){Vt.pendingcb--,Dt&&wt(te,Dt),Vt.prefinished=!0,te.emit("prefinish"),Mt(te,Vt)})}function Mt(te,Vt){var Dt=ft(Vt);if(Dt&&(function(te,Vt){!Vt.prefinished&&!Vt.finalCalled&&("function"!=typeof te._final||Vt.destroyed?(Vt.prefinished=!0,te.emit("prefinish")):(Vt.pendingcb++,Vt.finalCalled=!0,process.nextTick(at,te,Vt)))}(te,Vt),0===Vt.pendingcb&&(Vt.finished=!0,te.emit("finish"),Vt.autoDestroy))){var ve=te._readableState;(!ve||ve.autoDestroy&&ve.endEmitted)&&te.destroy()}return Dt}ut(3516)(Et,b),Ot.prototype.getBuffer=function(){for(var Vt=this.bufferedRequest,Dt=[];Vt;)Dt.push(Vt),Vt=Vt.next;return Dt},function(){try{Object.defineProperty(Ot.prototype,"buffer",{get:tt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(te){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(Tt=Function.prototype[Symbol.hasInstance],Object.defineProperty(Et,Symbol.hasInstance,{value:function(Vt){return!!Tt.call(this,Vt)||this===Et&&Vt&&Vt._writableState instanceof Ot}})):Tt=function(Vt){return Vt instanceof this},Et.prototype.pipe=function(){wt(this,new q)},Et.prototype.write=function(te,Vt,Dt){var ve=this._writableState,Gt=!1,Nt=!ve.objectMode&&function(te){return W.isBuffer(te)||te instanceof G}(te);return Nt&&!W.isBuffer(te)&&(te=function(te){return W.from(te)}(te)),"function"==typeof Vt&&(Dt=Vt,Vt=null),Nt?Vt="buffer":Vt||(Vt=ve.defaultEncoding),"function"!=typeof Dt&&(Dt=xt),ve.ending?function(te,Vt){var Dt=new ot;wt(te,Dt),process.nextTick(Vt,Dt)}(this,Dt):(Nt||function(te,Vt,Dt,ve){var Gt;return null===Dt?Gt=new it:"string"!=typeof Dt&&!Vt.objectMode&&(Gt=new X("chunk",["string","Buffer"],Dt)),!Gt||(wt(te,Gt),process.nextTick(ve,Gt),!1)}(this,ve,te,Dt))&&(ve.pendingcb++,Gt=function(te,Vt,Dt,ve,Gt,Nt){if(!Dt){var Kt=function(te,Vt,Dt){return!te.objectMode&&!1!==te.decodeStrings&&"string"==typeof Vt&&(Vt=W.from(Vt,Dt)),Vt}(Vt,ve,Gt);ve!==Kt&&(Dt=!0,Gt="buffer",ve=Kt)}var fe=Vt.objectMode?1:ve.length;Vt.length+=fe;var zt=Vt.length<Vt.highWaterMark;if(zt||(Vt.needDrain=!0),Vt.writing||Vt.corked){var Ne=Vt.lastBufferedRequest;Vt.lastBufferedRequest={chunk:ve,encoding:Gt,isBuf:Dt,callback:Nt,next:null},Ne?Ne.next=Vt.lastBufferedRequest:Vt.bufferedRequest=Vt.lastBufferedRequest,Vt.bufferedRequestCount+=1}else p(te,Vt,!1,fe,ve,Gt,Nt);return zt}(this,ve,Nt,te,Vt,Dt)),Gt},Et.prototype.cork=function(){this._writableState.corked++},Et.prototype.uncork=function(){var te=this._writableState;te.corked&&(te.corked--,!te.writing&&!te.corked&&!te.bufferProcessing&&te.bufferedRequest&&k(this,te))},Et.prototype.setDefaultEncoding=function(Vt){if("string"==typeof Vt&&(Vt=Vt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Vt+"").toLowerCase())>-1))throw new lt(Vt);return this._writableState.defaultEncoding=Vt,this},Object.defineProperty(Et.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Et.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Et.prototype._write=function(te,Vt,Dt){Dt(new z("_write()"))},Et.prototype._writev=null,Et.prototype.end=function(te,Vt,Dt){var ve=this._writableState;return"function"==typeof te?(Dt=te,te=null,Vt=null):"function"==typeof Vt&&(Dt=Vt,Vt=null),null!=te&&this.write(te,Vt),ve.corked&&(ve.corked=1,this.uncork()),ve.ending||function(te,Vt,Dt){Vt.ending=!0,Mt(te,Vt),Dt&&(Vt.finished?process.nextTick(Dt):te.once("finish",Dt)),Vt.ended=!0,te.writable=!1}(this,ve,Dt),this},Object.defineProperty(Et.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Et.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(Vt){!this._writableState||(this._writableState.destroyed=Vt)}}),Et.prototype.destroy=H.destroy,Et.prototype._undestroy=H.undestroy,Et.prototype._destroy=function(te,Vt){Vt(te)}},6924:(Ee,Q,ut)=>{"use strict";var ct;function f(U,it,ot){return it in U?Object.defineProperty(U,it,{value:ot,enumerable:!0,configurable:!0,writable:!0}):U[it]=ot,U}var J=ut(616),tt=Symbol("lastResolve"),b=Symbol("lastReject"),W=Symbol("error"),G=Symbol("ended"),rt=Symbol("lastPromise"),Z=Symbol("handlePromise"),H=Symbol("stream");function F(U,it){return{value:U,done:it}}function et(U){var it=U[tt];if(null!==it){var ot=U[H].read();null!==ot&&(U[rt]=null,U[tt]=null,U[b]=null,it(F(ot,!1)))}}function B(U){process.nextTick(et,U)}var z=Object.getPrototypeOf(function(){}),Y=Object.setPrototypeOf((f(ct={get stream(){return this[H]},next:function(){var it=this,ot=this[W];if(null!==ot)return Promise.reject(ot);if(this[G])return Promise.resolve(F(void 0,!0));if(this[H].destroyed)return new Promise(function(Ot,Tt){process.nextTick(function(){it[W]?Tt(it[W]):Ot(F(void 0,!0))})});var wt,lt=this[rt];if(lt)wt=new Promise(function(U,it){return function(ot,lt){U.then(function(){it[G]?ot(F(void 0,!0)):it[Z](ot,lt)},lt)}}(lt,this));else{var xt=this[H].read();if(null!==xt)return Promise.resolve(F(xt,!1));wt=new Promise(this[Z])}return this[rt]=wt,wt}},Symbol.asyncIterator,function(){return this}),f(ct,"return",function(){var it=this;return new Promise(function(ot,lt){it[H].destroy(null,function(wt){wt?lt(wt):ot(F(void 0,!0))})})}),ct),z);Ee.exports=function(it){var ot,lt=Object.create(Y,(f(ot={},H,{value:it,writable:!0}),f(ot,tt,{value:null,writable:!0}),f(ot,b,{value:null,writable:!0}),f(ot,W,{value:null,writable:!0}),f(ot,G,{value:it._readableState.endEmitted,writable:!0}),f(ot,Z,{value:function(xt,Ot){var Tt=lt[H].read();Tt?(lt[rt]=null,lt[tt]=null,lt[b]=null,xt(F(Tt,!1))):(lt[tt]=xt,lt[b]=Ot)},writable:!0}),ot));return lt[rt]=null,J(it,function(wt){if(wt&&"ERR_STREAM_PREMATURE_CLOSE"!==wt.code){var xt=lt[b];return null!==xt&&(lt[rt]=null,lt[tt]=null,lt[b]=null,xt(wt)),void(lt[W]=wt)}var Ot=lt[tt];null!==Ot&&(lt[rt]=null,lt[tt]=null,lt[b]=null,Ot(F(void 0,!0))),lt[G]=!0}),it.on("readable",B.bind(null,lt)),lt}},7081:(Ee,Q,ut)=>{"use strict";function ct(B,X){var z=Object.keys(B);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(B);X&&(Y=Y.filter(function(q){return Object.getOwnPropertyDescriptor(B,q).enumerable})),z.push.apply(z,Y)}return z}function J(B,X,z){return X in B?Object.defineProperty(B,X,{value:z,enumerable:!0,configurable:!0,writable:!0}):B[X]=z,B}function b(B,X){for(var z=0;z<X.length;z++){var Y=X[z];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(B,Y.key,Y)}}var rt=ut(3847).Buffer,H=ut(2361).inspect,F=H&&H.custom||"inspect";function et(B,X,z){rt.prototype.copy.call(B,X,z)}Ee.exports=function(){function B(){(function(B,X){if(!(B instanceof X))throw new TypeError("Cannot call a class as a function")})(this,B),this.head=null,this.tail=null,this.length=0}return function(B,X,z){X&&b(B.prototype,X)}(B,[{key:"push",value:function(z){var Y={data:z,next:null};this.length>0?this.tail.next=Y:this.head=Y,this.tail=Y,++this.length}},{key:"unshift",value:function(z){var Y={data:z,next:this.head};0===this.length&&(this.tail=Y),this.head=Y,++this.length}},{key:"shift",value:function(){if(0!==this.length){var z=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,z}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(z){if(0===this.length)return"";for(var Y=this.head,q=""+Y.data;Y=Y.next;)q+=z+Y.data;return q}},{key:"concat",value:function(z){if(0===this.length)return rt.alloc(0);for(var Y=rt.allocUnsafe(z>>>0),q=this.head,U=0;q;)et(q.data,Y,U),U+=q.data.length,q=q.next;return Y}},{key:"consume",value:function(z,Y){var q;return z<this.head.data.length?(q=this.head.data.slice(0,z),this.head.data=this.head.data.slice(z)):q=z===this.head.data.length?this.shift():Y?this._getString(z):this._getBuffer(z),q}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(z){var Y=this.head,q=1,U=Y.data;for(z-=U.length;Y=Y.next;){var it=Y.data,ot=z>it.length?it.length:z;if(U+=ot===it.length?it:it.slice(0,z),0==(z-=ot)){ot===it.length?(++q,this.head=Y.next?Y.next:this.tail=null):(this.head=Y,Y.data=it.slice(ot));break}++q}return this.length-=q,U}},{key:"_getBuffer",value:function(z){var Y=rt.allocUnsafe(z),q=this.head,U=1;for(q.data.copy(Y),z-=q.data.length;q=q.next;){var it=q.data,ot=z>it.length?it.length:z;if(it.copy(Y,Y.length-z,0,ot),0==(z-=ot)){ot===it.length?(++U,this.head=q.next?q.next:this.tail=null):(this.head=q,q.data=it.slice(ot));break}++U}return this.length-=U,Y}},{key:F,value:function(z,Y){return H(this,function(B){for(var X=1;X<arguments.length;X++){var z=null!=arguments[X]?arguments[X]:{};X%2?ct(Object(z),!0).forEach(function(Y){J(B,Y,z[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(z)):ct(Object(z)).forEach(function(Y){Object.defineProperty(B,Y,Object.getOwnPropertyDescriptor(z,Y))})}return B}({},Y,{depth:0,customInspect:!1}))}}]),B}()},9405:Ee=>{"use strict";function ut(b,W){J(b,W),ct(b)}function ct(b){b._writableState&&!b._writableState.emitClose||b._readableState&&!b._readableState.emitClose||b.emit("close")}function J(b,W){b.emit("error",W)}Ee.exports={destroy:function(b,W){var G=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(W?W(b):b&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(J,this,b)):process.nextTick(J,this,b)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(b||null,function(H){!W&&H?G._writableState?G._writableState.errorEmitted?process.nextTick(ct,G):(G._writableState.errorEmitted=!0,process.nextTick(ut,G,H)):process.nextTick(ut,G,H):W?(process.nextTick(ct,G),W(H)):process.nextTick(ct,G)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(b,W){var G=b._readableState,rt=b._writableState;G&&G.autoDestroy||rt&&rt.autoDestroy?b.destroy(W):b.emit("error",W)}}},616:(Ee,Q,ut)=>{"use strict";var ct=ut(4621).q.ERR_STREAM_PREMATURE_CLOSE;function J(){}Ee.exports=function b(W,G,rt){if("function"==typeof G)return b(W,null,G);G||(G={}),rt=function(W){var G=!1;return function(){if(!G){G=!0;for(var rt=arguments.length,Z=new Array(rt),H=0;H<rt;H++)Z[H]=arguments[H];W.apply(this,Z)}}}(rt||J);var Z=G.readable||!1!==G.readable&&W.readable,H=G.writable||!1!==G.writable&&W.writable,F=function(){W.writable||B()},et=W._writableState&&W._writableState.finished,B=function(){H=!1,et=!0,Z||rt.call(W)},X=W._readableState&&W._readableState.endEmitted,z=function(){Z=!1,X=!0,H||rt.call(W)},Y=function(ot){rt.call(W,ot)},q=function(){var ot;return Z&&!X?((!W._readableState||!W._readableState.ended)&&(ot=new ct),rt.call(W,ot)):H&&!et?((!W._writableState||!W._writableState.ended)&&(ot=new ct),rt.call(W,ot)):void 0},U=function(){W.req.on("finish",B)};return function(W){return W.setHeader&&"function"==typeof W.abort}(W)?(W.on("complete",B),W.on("abort",q),W.req?U():W.on("request",U)):H&&!W._writableState&&(W.on("end",F),W.on("close",F)),W.on("end",z),W.on("finish",B),!1!==G.error&&W.on("error",Y),W.on("close",q),function(){W.removeListener("complete",B),W.removeListener("abort",q),W.removeListener("request",U),W.req&&W.req.removeListener("finish",B),W.removeListener("end",F),W.removeListener("close",F),W.removeListener("finish",B),W.removeListener("end",z),W.removeListener("error",Y),W.removeListener("close",q)}}},9742:Ee=>{Ee.exports=function(){throw new Error("Readable.from is not available in the browser")}},2580:(Ee,Q,ut)=>{"use strict";var ct,J=ut(4621).q,tt=J.ERR_MISSING_ARGS,b=J.ERR_STREAM_DESTROYED;function W(B){if(B)throw B}function rt(B,X,z,Y){Y=function(B){var X=!1;return function(){X||(X=!0,B.apply(void 0,arguments))}}(Y);var q=!1;B.on("close",function(){q=!0}),void 0===ct&&(ct=ut(616)),ct(B,{readable:X,writable:z},function(it){if(it)return Y(it);q=!0,Y()});var U=!1;return function(it){if(!q&&!U){if(U=!0,function(B){return B.setHeader&&"function"==typeof B.abort}(B))return B.abort();if("function"==typeof B.destroy)return B.destroy();Y(it||new b("pipe"))}}}function Z(B){B()}function H(B,X){return B.pipe(X)}function F(B){return B.length&&"function"==typeof B[B.length-1]?B.pop():W}Ee.exports=function(){for(var B=arguments.length,X=new Array(B),z=0;z<B;z++)X[z]=arguments[z];var Y=F(X);if(Array.isArray(X[0])&&(X=X[0]),X.length<2)throw new tt("streams");var q,U=X.map(function(it,ot){var lt=ot<X.length-1;return rt(it,lt,ot>0,function(xt){q||(q=xt),xt&&U.forEach(Z),!lt&&(U.forEach(Z),Y(q))})});return X.reduce(H)}},7411:(Ee,Q,ut)=>{"use strict";var ct=ut(4621).q.ERR_INVALID_OPT_VALUE;Ee.exports={getHighWaterMark:function(tt,b,W,G){var rt=function(tt,b,W){return null!=tt.highWaterMark?tt.highWaterMark:b?tt[W]:null}(b,G,W);if(null!=rt){if(!isFinite(rt)||Math.floor(rt)!==rt||rt<0)throw new ct(G?W:"highWaterMark",rt);return Math.floor(rt)}return tt.objectMode?16:16384}}},3183:(Ee,Q,ut)=>{Ee.exports=ut(7703).EventEmitter},8792:(Ee,Q,ut)=>{(Q=Ee.exports=ut(7619)).Stream=Q,Q.Readable=Q,Q.Writable=ut(8956),Q.Duplex=ut(9617),Q.Transform=ut(8329),Q.PassThrough=ut(1833),Q.finished=ut(616),Q.pipeline=ut(2580)},7447:(Ee,Q,ut)=>{"use strict";var ct=ut(3847).Buffer,f=ut(3516),J=ut(740),tt=new Array(16),b=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],W=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],G=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],rt=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Z=[0,1518500249,1859775393,2400959708,2840853838],H=[1352829926,1548603684,1836072691,2053994217,0];function F(){J.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function et(U,it){return U<<it|U>>>32-it}function B(U,it,ot,lt,wt,xt,Ot,Tt){return et(U+(it^ot^lt)+xt+Ot|0,Tt)+wt|0}function X(U,it,ot,lt,wt,xt,Ot,Tt){return et(U+(it&ot|~it&lt)+xt+Ot|0,Tt)+wt|0}function z(U,it,ot,lt,wt,xt,Ot,Tt){return et(U+((it|~ot)^lt)+xt+Ot|0,Tt)+wt|0}function Y(U,it,ot,lt,wt,xt,Ot,Tt){return et(U+(it&lt|ot&~lt)+xt+Ot|0,Tt)+wt|0}function q(U,it,ot,lt,wt,xt,Ot,Tt){return et(U+(it^(ot|~lt))+xt+Ot|0,Tt)+wt|0}f(F,J),F.prototype._update=function(){for(var U=tt,it=0;it<16;++it)U[it]=this._block.readInt32LE(4*it);for(var ot=0|this._a,lt=0|this._b,wt=0|this._c,xt=0|this._d,Ot=0|this._e,Tt=0|this._a,Et=0|this._b,A=0|this._c,o=0|this._d,c=0|this._e,g=0;g<80;g+=1){var p,w;g<16?(p=B(ot,lt,wt,xt,Ot,U[b[g]],Z[0],G[g]),w=q(Tt,Et,A,o,c,U[W[g]],H[0],rt[g])):g<32?(p=X(ot,lt,wt,xt,Ot,U[b[g]],Z[1],G[g]),w=Y(Tt,Et,A,o,c,U[W[g]],H[1],rt[g])):g<48?(p=z(ot,lt,wt,xt,Ot,U[b[g]],Z[2],G[g]),w=z(Tt,Et,A,o,c,U[W[g]],H[2],rt[g])):g<64?(p=Y(ot,lt,wt,xt,Ot,U[b[g]],Z[3],G[g]),w=X(Tt,Et,A,o,c,U[W[g]],H[3],rt[g])):(p=q(ot,lt,wt,xt,Ot,U[b[g]],Z[4],G[g]),w=B(Tt,Et,A,o,c,U[W[g]],H[4],rt[g])),ot=Ot,Ot=xt,xt=et(wt,10),wt=lt,lt=p,Tt=c,c=o,o=et(A,10),A=Et,Et=w}var S=this._b+wt+o|0;this._b=this._c+xt+c|0,this._c=this._d+Ot+Tt|0,this._d=this._e+ot+Et|0,this._e=this._a+lt+A|0,this._a=S},F.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var U=ct.alloc?ct.alloc(20):new ct(20);return U.writeInt32LE(this._a,0),U.writeInt32LE(this._b,4),U.writeInt32LE(this._c,8),U.writeInt32LE(this._d,12),U.writeInt32LE(this._e,16),U},Ee.exports=F},4499:(Ee,Q,ut)=>{"use strict";ut.d(Q,{X:()=>f});var ct=ut(273);class f extends ct.x{constructor(tt){super(),this._value=tt}get value(){return this.getValue()}_subscribe(tt){const b=super._subscribe(tt);return!b.closed&&tt.next(this._value),b}getValue(){const{hasError:tt,thrownError:b,_value:W}=this;if(tt)throw b;return this._throwIfClosed(),W}next(tt){super.next(this._value=tt)}}},2047:(Ee,Q,ut)=>{"use strict";ut.d(Q,{y:()=>H});var ct=ut(584),f=ut(7908),J=ut(4816),tt=ut(4623);var G=ut(5367),rt=ut(5044),Z=ut(8706);let H=(()=>{class X{constructor(Y){Y&&(this._subscribe=Y)}lift(Y){const q=new X;return q.source=this,q.operator=Y,q}subscribe(Y,q,U){const it=function(X){return X&&X instanceof ct.Lv||function(X){return X&&(0,rt.m)(X.next)&&(0,rt.m)(X.error)&&(0,rt.m)(X.complete)}(X)&&(0,f.Nn)(X)}(Y)?Y:new ct.Hp(Y,q,U);return(0,Z.x)(()=>{const{operator:ot,source:lt}=this;it.add(ot?ot.call(it,lt):lt?this._subscribe(it):this._trySubscribe(it))}),it}_trySubscribe(Y){try{return this._subscribe(Y)}catch(q){Y.error(q)}}forEach(Y,q){return new(q=F(q))((U,it)=>{let ot;ot=this.subscribe(lt=>{try{Y(lt)}catch(wt){it(wt),null==ot||ot.unsubscribe()}},it,U)})}_subscribe(Y){var q;return null===(q=this.source)||void 0===q?void 0:q.subscribe(Y)}[J.L](){return this}pipe(...Y){return function(X){return 0===X.length?tt.y:1===X.length?X[0]:function(Y){return X.reduce((q,U)=>U(q),Y)}}(Y)(this)}toPromise(Y){return new(Y=F(Y))((q,U)=>{let it;this.subscribe(ot=>it=ot,ot=>U(ot),()=>q(it))})}}return X.create=z=>new X(z),X})();function F(X){var z;return null!==(z=null!=X?X:G.v.Promise)&&void 0!==z?z:Promise}},273:(Ee,Q,ut)=>{"use strict";ut.d(Q,{x:()=>G});var ct=ut(2047),f=ut(7908);const tt=(0,ut(4893).d)(Z=>function(){Z(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var b=ut(3980),W=ut(8706);let G=(()=>{class Z extends ct.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(F){const et=new rt(this,this);return et.operator=F,et}_throwIfClosed(){if(this.closed)throw new tt}next(F){(0,W.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const et=this.observers.slice();for(const B of et)B.next(F)}})}error(F){(0,W.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=F;const{observers:et}=this;for(;et.length;)et.shift().error(F)}})}complete(){(0,W.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:F}=this;for(;F.length;)F.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var F;return(null===(F=this.observers)||void 0===F?void 0:F.length)>0}_trySubscribe(F){return this._throwIfClosed(),super._trySubscribe(F)}_subscribe(F){return this._throwIfClosed(),this._checkFinalizedStatuses(F),this._innerSubscribe(F)}_innerSubscribe(F){const{hasError:et,isStopped:B,observers:X}=this;return et||B?f.Lc:(X.push(F),new f.w0(()=>(0,b.P)(X,F)))}_checkFinalizedStatuses(F){const{hasError:et,thrownError:B,isStopped:X}=this;et?F.error(B):X&&F.complete()}asObservable(){const F=new ct.y;return F.source=this,F}}return Z.create=(H,F)=>new rt(H,F),Z})();class rt extends G{constructor(H,F){super(),this.destination=H,this.source=F}next(H){var F,et;null===(et=null===(F=this.destination)||void 0===F?void 0:F.next)||void 0===et||et.call(F,H)}error(H){var F,et;null===(et=null===(F=this.destination)||void 0===F?void 0:F.error)||void 0===et||et.call(F,H)}complete(){var H,F;null===(F=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===F||F.call(H)}_subscribe(H){var F,et;return null!==(et=null===(F=this.source)||void 0===F?void 0:F.subscribe(H))&&void 0!==et?et:f.Lc}}},584:(Ee,Q,ut)=>{"use strict";ut.d(Q,{Hp:()=>B,Lv:()=>et});var ct=ut(5044),f=ut(7908),J=ut(5367),tt=ut(5160),b=ut(6921);const W=Z("C",void 0,void 0);function Z(U,it,ot){return{kind:U,value:it,error:ot}}var H=ut(2496),F=ut(8706);class et extends f.w0{constructor(it){super(),this.isStopped=!1,it?(this.destination=it,(0,f.Nn)(it)&&it.add(this)):this.destination=q}static create(it,ot,lt){return new B(it,ot,lt)}next(it){this.isStopped?Y(Z("N",it,void 0),this):this._next(it)}error(it){this.isStopped?Y(Z("E",void 0,it),this):(this.isStopped=!0,this._error(it))}complete(){this.isStopped?Y(W,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(it){this.destination.next(it)}_error(it){try{this.destination.error(it)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class B extends et{constructor(it,ot,lt){let wt;if(super(),(0,ct.m)(it))wt=it;else if(it){let xt;({next:wt,error:ot,complete:lt}=it),this&&J.v.useDeprecatedNextContext?(xt=Object.create(it),xt.unsubscribe=()=>this.unsubscribe()):xt=it,wt=null==wt?void 0:wt.bind(xt),ot=null==ot?void 0:ot.bind(xt),lt=null==lt?void 0:lt.bind(xt)}this.destination={next:wt?X(wt):b.Z,error:X(null!=ot?ot:z),complete:lt?X(lt):b.Z}}}function X(U,it){return(...ot)=>{try{U(...ot)}catch(lt){J.v.useDeprecatedSynchronousErrorHandling?(0,F.O)(lt):(0,tt.h)(lt)}}}function z(U){throw U}function Y(U,it){const{onStoppedNotification:ot}=J.v;ot&&H.z.setTimeout(()=>ot(U,it))}const q={closed:!0,next:b.Z,error:z,complete:b.Z}},7908:(Ee,Q,ut)=>{"use strict";ut.d(Q,{Lc:()=>W,w0:()=>b,Nn:()=>G});var ct=ut(5044);const J=(0,ut(4893).d)(Z=>function(F){Z(this),this.message=F?`${F.length} errors occurred during unsubscription:\n${F.map((et,B)=>`${B+1}) ${et.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=F});var tt=ut(3980);class b{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:F}=this;if(F)if(this._parentage=null,Array.isArray(F))for(const X of F)X.remove(this);else F.remove(this);const{initialTeardown:et}=this;if((0,ct.m)(et))try{et()}catch(X){H=X instanceof J?X.errors:[X]}const{_teardowns:B}=this;if(B){this._teardowns=null;for(const X of B)try{rt(X)}catch(z){H=null!=H?H:[],z instanceof J?H=[...H,...z.errors]:H.push(z)}}if(H)throw new J(H)}}add(H){var F;if(H&&H!==this)if(this.closed)rt(H);else{if(H instanceof b){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._teardowns=null!==(F=this._teardowns)&&void 0!==F?F:[]).push(H)}}_hasParent(H){const{_parentage:F}=this;return F===H||Array.isArray(F)&&F.includes(H)}_addParent(H){const{_parentage:F}=this;this._parentage=Array.isArray(F)?(F.push(H),F):F?[F,H]:H}_removeParent(H){const{_parentage:F}=this;F===H?this._parentage=null:Array.isArray(F)&&(0,tt.P)(F,H)}remove(H){const{_teardowns:F}=this;F&&(0,tt.P)(F,H),H instanceof b&&H._removeParent(this)}}b.EMPTY=(()=>{const Z=new b;return Z.closed=!0,Z})();const W=b.EMPTY;function G(Z){return Z instanceof b||Z&&"closed"in Z&&(0,ct.m)(Z.remove)&&(0,ct.m)(Z.add)&&(0,ct.m)(Z.unsubscribe)}function rt(Z){(0,ct.m)(Z)?Z():Z.unsubscribe()}},5367:(Ee,Q,ut)=>{"use strict";ut.d(Q,{v:()=>ct});const ct={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2394:(Ee,Q,ut)=>{"use strict";ut.d(Q,{z:()=>J});var ct=ut(5907),f=ut(584);function J(tt,b){const W="object"==typeof b;return new Promise((G,rt)=>{const Z=new f.Hp({next:H=>{G(H),Z.unsubscribe()},error:rt,complete:()=>{W?G(b.defaultValue):rt(new ct.K)}});tt.subscribe(Z)})}},5804:(Ee,Q,ut)=>{"use strict";ut.d(Q,{a:()=>H});var ct=ut(2047),f=ut(886),J=ut(7867),tt=ut(4623),b=ut(2937),W=ut(7613),G=ut(2857),rt=ut(8889),Z=ut(8395);function H(...B){const X=(0,W.yG)(B),z=(0,W.jO)(B),{args:Y,keys:q}=(0,f.D)(B);if(0===Y.length)return(0,J.D)([],X);const U=new ct.y(function(B,X,z=tt.y){return Y=>{et(X,()=>{const{length:q}=B,U=new Array(q);let it=q,ot=q;for(let lt=0;lt<q;lt++)et(X,()=>{const wt=(0,J.D)(B[lt],X);let xt=!1;wt.subscribe(new rt.Q(Y,Ot=>{U[lt]=Ot,xt||(xt=!0,ot--),ot||Y.next(z(U.slice()))},()=>{--it||Y.complete()}))},Y)},Y)}}(Y,X,q?it=>(0,G.n)(q,it):tt.y));return z?U.pipe((0,b.Z)(z)):U}function et(B,X,z){B?(0,Z.f)(z,B,X):X()}},1404:(Ee,Q,ut)=>{"use strict";ut.d(Q,{z:()=>b});var ct=ut(5373),J=ut(7613),tt=ut(7867);function b(...W){return(0,ct.J)(1)((0,tt.D)(W,(0,J.yG)(W)))}},5048:(Ee,Q,ut)=>{"use strict";ut.d(Q,{P:()=>J});var ct=ut(2047),f=ut(9985);function J(tt){return new ct.y(b=>{(0,f.Xf)(tt()).subscribe(b)})}},5583:(Ee,Q,ut)=>{"use strict";ut.d(Q,{E:()=>f});const f=new(ut(2047).y)(b=>b.complete())},8100:(Ee,Q,ut)=>{"use strict";ut.d(Q,{D:()=>rt});var ct=ut(2047),f=ut(886),J=ut(9985),tt=ut(7613),b=ut(8889),W=ut(2937),G=ut(2857);function rt(...Z){const H=(0,tt.jO)(Z),{args:F,keys:et}=(0,f.D)(Z),B=new ct.y(X=>{const{length:z}=F;if(!z)return void X.complete();const Y=new Array(z);let q=z,U=z;for(let it=0;it<z;it++){let ot=!1;(0,J.Xf)(F[it]).subscribe(new b.Q(X,lt=>{ot||(ot=!0,U--),Y[it]=lt},()=>q--,void 0,()=>{(!q||!ot)&&(U||X.next(et?(0,G.n)(et,Y):Y),X.complete())}))}});return H?B.pipe((0,W.Z)(H)):B}},7867:(Ee,Q,ut)=>{"use strict";ut.d(Q,{D:()=>Ot});var ct=ut(9985),f=ut(8395),J=ut(9947),tt=ut(8889);function b(Tt,Et=0){return(0,J.e)((A,o)=>{A.subscribe(new tt.Q(o,c=>(0,f.f)(o,Tt,()=>o.next(c),Et),()=>(0,f.f)(o,Tt,()=>o.complete(),Et),c=>(0,f.f)(o,Tt,()=>o.error(c),Et)))})}function W(Tt,Et=0){return(0,J.e)((A,o)=>{o.add(Tt.schedule(()=>A.subscribe(o),Et))})}var Z=ut(2047),F=ut(5497),et=ut(5044);function X(Tt,Et){if(!Tt)throw new Error("Iterable cannot be null");return new Z.y(A=>{(0,f.f)(A,Et,()=>{const o=Tt[Symbol.asyncIterator]();(0,f.f)(A,Et,()=>{o.next().then(c=>{c.done?A.complete():A.next(c.value)})},0,!0)})})}var z=ut(1073),Y=ut(2442),q=ut(1537),U=ut(2317),it=ut(9908),ot=ut(3754),lt=ut(7751);function Ot(Tt,Et){return Et?function(Tt,Et){if(null!=Tt){if((0,z.c)(Tt))return function(Tt,Et){return(0,ct.Xf)(Tt).pipe(W(Et),b(Et))}(Tt,Et);if((0,q.z)(Tt))return function(Tt,Et){return new Z.y(A=>{let o=0;return Et.schedule(function(){o===Tt.length?A.complete():(A.next(Tt[o++]),A.closed||this.schedule())})})}(Tt,Et);if((0,Y.t)(Tt))return function(Tt,Et){return(0,ct.Xf)(Tt).pipe(W(Et),b(Et))}(Tt,Et);if((0,it.D)(Tt))return X(Tt,Et);if((0,U.T)(Tt))return function(Tt,Et){return new Z.y(A=>{let o;return(0,f.f)(A,Et,()=>{o=Tt[F.h](),(0,f.f)(A,Et,()=>{let c,g;try{({value:c,done:g}=o.next())}catch(p){return void A.error(p)}g?A.complete():A.next(c)},0,!0)}),()=>(0,et.m)(null==o?void 0:o.return)&&o.return()})}(Tt,Et);if((0,lt.L)(Tt))return function(Tt,Et){return X((0,lt.Q)(Tt),Et)}(Tt,Et)}throw(0,ot.z)(Tt)}(Tt,Et):(0,ct.Xf)(Tt)}},5077:(Ee,Q,ut)=>{"use strict";ut.d(Q,{R:()=>H});var ct=ut(9985),f=ut(2047),J=ut(5724),tt=ut(1537),b=ut(5044),W=ut(2937);const G=["addListener","removeListener"],rt=["addEventListener","removeEventListener"],Z=["on","off"];function H(z,Y,q,U){if((0,b.m)(q)&&(U=q,q=void 0),U)return H(z,Y,q).pipe((0,W.Z)(U));const[it,ot]=function(z){return(0,b.m)(z.addEventListener)&&(0,b.m)(z.removeEventListener)}(z)?rt.map(lt=>wt=>z[lt](Y,wt,q)):function(z){return(0,b.m)(z.addListener)&&(0,b.m)(z.removeListener)}(z)?G.map(F(z,Y)):function(z){return(0,b.m)(z.on)&&(0,b.m)(z.off)}(z)?Z.map(F(z,Y)):[];if(!it&&(0,tt.z)(z))return(0,J.z)(lt=>H(lt,Y,q))((0,ct.Xf)(z));if(!it)throw new TypeError("Invalid event target");return new f.y(lt=>{const wt=(...xt)=>lt.next(1<xt.length?xt:xt[0]);return it(wt),()=>ot(wt)})}function F(z,Y){return q=>U=>z[q](Y,U)}},9985:(Ee,Q,ut)=>{"use strict";ut.d(Q,{Xf:()=>B});var ct=ut(9162),f=ut(1537),J=ut(2442),tt=ut(2047),b=ut(1073),W=ut(9908),G=ut(3754),rt=ut(2317),Z=ut(7751),H=ut(5044),F=ut(5160),et=ut(4816);function B(lt){if(lt instanceof tt.y)return lt;if(null!=lt){if((0,b.c)(lt))return function(lt){return new tt.y(wt=>{const xt=lt[et.L]();if((0,H.m)(xt.subscribe))return xt.subscribe(wt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(lt);if((0,f.z)(lt))return function(lt){return new tt.y(wt=>{for(let xt=0;xt<lt.length&&!wt.closed;xt++)wt.next(lt[xt]);wt.complete()})}(lt);if((0,J.t)(lt))return function(lt){return new tt.y(wt=>{lt.then(xt=>{wt.closed||(wt.next(xt),wt.complete())},xt=>wt.error(xt)).then(null,F.h)})}(lt);if((0,W.D)(lt))return U(lt);if((0,rt.T)(lt))return function(lt){return new tt.y(wt=>{for(const xt of lt)if(wt.next(xt),wt.closed)return;wt.complete()})}(lt);if((0,Z.L)(lt))return function(lt){return U((0,Z.Q)(lt))}(lt)}throw(0,G.z)(lt)}function U(lt){return new tt.y(wt=>{(function(lt,wt){var xt,Ot,Tt,Et;return(0,ct.mG)(this,void 0,void 0,function*(){try{for(xt=(0,ct.KL)(lt);!(Ot=yield xt.next()).done;)if(wt.next(Ot.value),wt.closed)return}catch(A){Tt={error:A}}finally{try{Ot&&!Ot.done&&(Et=xt.return)&&(yield Et.call(xt))}finally{if(Tt)throw Tt.error}}wt.complete()})})(lt,wt).catch(xt=>wt.error(xt))})}},3719:(Ee,Q,ut)=>{"use strict";ut.d(Q,{T:()=>W});var ct=ut(5373),f=ut(9985),J=ut(5583),tt=ut(7613),b=ut(7867);function W(...G){const rt=(0,tt.yG)(G),Z=(0,tt._6)(G,1/0),H=G;return H.length?1===H.length?(0,f.Xf)(H[0]):(0,ct.J)(Z)((0,b.D)(H,rt)):J.E}},2997:(Ee,Q,ut)=>{"use strict";ut.d(Q,{of:()=>J});var ct=ut(7613),f=ut(7867);function J(...tt){const b=(0,ct.yG)(tt);return(0,f.D)(tt,b)}},9417:(Ee,Q,ut)=>{"use strict";ut.d(Q,{H:()=>b});var ct=ut(2047),f=ut(2210),J=ut(7398);function b(W=0,G,rt=f.P){let Z=-1;return null!=G&&((0,J.K)(G)?rt=G:Z=G),new ct.y(H=>{let F=function(W){return W instanceof Date&&!isNaN(W)}(W)?+W-rt.now():W;F<0&&(F=0);let et=0;return rt.schedule(function(){H.closed||(H.next(et++),0<=Z?this.schedule(void 0,Z):H.complete())},F)})}},8889:(Ee,Q,ut)=>{"use strict";ut.d(Q,{Q:()=>f});var ct=ut(584);class f extends ct.Lv{constructor(tt,b,W,G,rt){super(tt),this.onFinalize=rt,this._next=b?function(Z){try{b(Z)}catch(H){tt.error(H)}}:super._next,this._error=G?function(Z){try{G(Z)}catch(H){tt.error(H)}finally{this.unsubscribe()}}:super._error,this._complete=W?function(){try{W()}catch(Z){tt.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var tt;const{closed:b}=this;super.unsubscribe(),!b&&(null===(tt=this.onFinalize)||void 0===tt||tt.call(this))}}},1472:(Ee,Q,ut)=>{"use strict";ut.d(Q,{e:()=>G});var ct=ut(2210),f=ut(9947),J=ut(9985),tt=ut(8889),W=ut(9417);function G(rt,Z=ct.P){return function(rt){return(0,f.e)((Z,H)=>{let F=!1,et=null,B=null,X=!1;const z=()=>{if(null==B||B.unsubscribe(),B=null,F){F=!1;const q=et;et=null,H.next(q)}X&&H.complete()},Y=()=>{B=null,X&&H.complete()};Z.subscribe(new tt.Q(H,q=>{F=!0,et=q,B||(0,J.Xf)(rt()).subscribe(B=new tt.Q(H,z,Y))},()=>{X=!0,(!F||!B||B.closed)&&H.complete()}))})}(()=>(0,W.H)(rt,Z))}},2835:(Ee,Q,ut)=>{"use strict";ut.d(Q,{K:()=>tt});var ct=ut(9985),f=ut(8889),J=ut(9947);function tt(b){return(0,J.e)((W,G)=>{let H,rt=null,Z=!1;rt=W.subscribe(new f.Q(G,void 0,void 0,F=>{H=(0,ct.Xf)(b(F,tt(b)(W))),rt?(rt.unsubscribe(),rt=null,H.subscribe(G)):Z=!0})),Z&&(rt.unsubscribe(),rt=null,H.subscribe(G))})}},4799:(Ee,Q,ut)=>{"use strict";ut.d(Q,{b:()=>J});var ct=ut(5724),f=ut(5044);function J(tt,b){return(0,f.m)(b)?(0,ct.z)(tt,b,1):(0,ct.z)(tt,1)}},9463:(Ee,Q,ut)=>{"use strict";ut.d(Q,{b:()=>tt});var ct=ut(2210),f=ut(9947),J=ut(8889);function tt(b,W=ct.z){return(0,f.e)((G,rt)=>{let Z=null,H=null,F=null;const et=()=>{if(Z){Z.unsubscribe(),Z=null;const X=H;H=null,rt.next(X)}};function B(){const X=F+b,z=W.now();if(z<X)return Z=this.schedule(void 0,X-z),void rt.add(Z);et()}G.subscribe(new J.Q(rt,X=>{H=X,F=W.now(),Z||(Z=W.schedule(B,b),rt.add(Z))},()=>{et(),rt.complete()},void 0,()=>{H=Z=null}))})}},8975:(Ee,Q,ut)=>{"use strict";ut.d(Q,{d:()=>J});var ct=ut(9947),f=ut(8889);function J(tt){return(0,ct.e)((b,W)=>{let G=!1;b.subscribe(new f.Q(W,rt=>{G=!0,W.next(rt)},()=>{G||W.next(tt),W.complete()}))})}},5488:(Ee,Q,ut)=>{"use strict";ut.d(Q,{x:()=>tt});var ct=ut(4623),f=ut(9947),J=ut(8889);function tt(W,G=ct.y){return W=null!=W?W:b,(0,f.e)((rt,Z)=>{let H,F=!0;rt.subscribe(new J.Q(Z,et=>{const B=G(et);(F||!W(H,B))&&(F=!1,H=B,Z.next(et))}))})}function b(W,G){return W===G}},461:(Ee,Q,ut)=>{"use strict";ut.d(Q,{h:()=>J});var ct=ut(9947),f=ut(8889);function J(tt,b){return(0,ct.e)((W,G)=>{let rt=0;W.subscribe(new f.Q(G,Z=>tt.call(b,Z,rt++)&&G.next(Z)))})}},423:(Ee,Q,ut)=>{"use strict";ut.d(Q,{x:()=>f});var ct=ut(9947);function f(J){return(0,ct.e)((tt,b)=>{try{tt.subscribe(b)}finally{b.add(J)}})}},6047:(Ee,Q,ut)=>{"use strict";ut.d(Q,{P:()=>G});var ct=ut(5907),f=ut(461),J=ut(9468),tt=ut(8975),b=ut(4724),W=ut(4623);function G(rt,Z){const H=arguments.length>=2;return F=>F.pipe(rt?(0,f.h)((et,B)=>rt(et,B,F)):W.y,(0,J.q)(1),H?(0,tt.d)(Z):(0,b.T)(()=>new ct.K))}},4753:(Ee,Q,ut)=>{"use strict";ut.d(Q,{U:()=>J});var ct=ut(9947),f=ut(8889);function J(tt,b){return(0,ct.e)((W,G)=>{let rt=0;W.subscribe(new f.Q(G,Z=>{G.next(tt.call(b,Z,rt++))}))})}},5373:(Ee,Q,ut)=>{"use strict";ut.d(Q,{J:()=>J});var ct=ut(5724),f=ut(4623);function J(tt=1/0){return(0,ct.z)(f.y,tt)}},5724:(Ee,Q,ut)=>{"use strict";ut.d(Q,{z:()=>rt});var ct=ut(4753),f=ut(9985),J=ut(9947),b=(ut(8395),ut(8889)),G=ut(5044);function rt(Z,H,F=1/0){return(0,G.m)(H)?rt((et,B)=>(0,ct.U)((X,z)=>H(et,X,B,z))((0,f.Xf)(Z(et,B))),F):("number"==typeof H&&(F=H),(0,J.e)((et,B)=>function(Z,H,F,et,B,X,z,Y){const q=[];let U=0,it=0,ot=!1;const lt=()=>{ot&&!q.length&&!U&&H.complete()},wt=Ot=>U<et?xt(Ot):q.push(Ot),xt=Ot=>{U++;let Tt=!1;(0,f.Xf)(F(Ot,it++)).subscribe(new b.Q(H,Et=>{H.next(Et)},()=>{Tt=!0},void 0,()=>{if(Tt)try{for(U--;q.length&&U<et;){const Et=q.shift();xt(Et)}lt()}catch(Et){H.error(Et)}}))};return Z.subscribe(new b.Q(H,wt,()=>{ot=!0,lt()})),()=>{}}(et,B,Z,F)))}},3174:(Ee,Q,ut)=>{"use strict";ut.d(Q,{B:()=>W});var ct=ut(7867),f=ut(9468),J=ut(273),tt=ut(584),b=ut(9947);function W(rt={}){const{connector:Z=(()=>new J.x),resetOnError:H=!0,resetOnComplete:F=!0,resetOnRefCountZero:et=!0}=rt;return B=>{let X=null,z=null,Y=null,q=0,U=!1,it=!1;const ot=()=>{null==z||z.unsubscribe(),z=null},lt=()=>{ot(),X=Y=null,U=it=!1},wt=()=>{const xt=X;lt(),null==xt||xt.unsubscribe()};return(0,b.e)((xt,Ot)=>{q++,!it&&!U&&ot();const Tt=Y=null!=Y?Y:Z();Ot.add(()=>{q--,0===q&&!it&&!U&&(z=G(wt,et))}),Tt.subscribe(Ot),X||(X=new tt.Hp({next:Et=>Tt.next(Et),error:Et=>{it=!0,ot(),z=G(lt,H,Et),Tt.error(Et)},complete:()=>{U=!0,ot(),z=G(lt,F),Tt.complete()}}),(0,ct.D)(xt).subscribe(X))})(B)}}function G(rt,Z,...H){return!0===Z?(rt(),null):!1===Z?null:Z(...H).pipe((0,f.q)(1)).subscribe(()=>rt())}},9661:(Ee,Q,ut)=>{"use strict";ut.d(Q,{T:()=>f});var ct=ut(461);function f(J){return(0,ct.h)((tt,b)=>J<=b)}},3970:(Ee,Q,ut)=>{"use strict";ut.d(Q,{O:()=>tt});var ct=ut(1404),f=ut(7613),J=ut(9947);function tt(...b){const W=(0,f.yG)(b);return(0,J.e)((G,rt)=>{(W?(0,ct.z)(b,G,W):(0,ct.z)(b,G)).subscribe(rt)})}},3067:(Ee,Q,ut)=>{"use strict";ut.d(Q,{w:()=>tt});var ct=ut(9985),f=ut(9947),J=ut(8889);function tt(b,W){return(0,f.e)((G,rt)=>{let Z=null,H=0,F=!1;const et=()=>F&&!Z&&rt.complete();G.subscribe(new J.Q(rt,B=>{null==Z||Z.unsubscribe();let X=0;const z=H++;(0,ct.Xf)(b(B,z)).subscribe(Z=new J.Q(rt,Y=>rt.next(W?W(B,Y,z,X++):Y),()=>{Z=null,et()}))},()=>{F=!0,et()}))})}},9468:(Ee,Q,ut)=>{"use strict";ut.d(Q,{q:()=>tt});var ct=ut(5583),f=ut(9947),J=ut(8889);function tt(b){return b<=0?()=>ct.E:(0,f.e)((W,G)=>{let rt=0;W.subscribe(new J.Q(G,Z=>{++rt<=b&&(G.next(Z),b<=rt&&G.complete())}))})}},6263:(Ee,Q,ut)=>{"use strict";ut.d(Q,{R:()=>b});var ct=ut(9947),f=ut(8889),J=ut(9985),tt=ut(6921);function b(W){return(0,ct.e)((G,rt)=>{(0,J.Xf)(W).subscribe(new f.Q(rt,()=>rt.complete(),tt.Z)),!rt.closed&&G.subscribe(rt)})}},7384:(Ee,Q,ut)=>{"use strict";ut.d(Q,{b:()=>b});var ct=ut(5044),f=ut(9947),J=ut(8889),tt=ut(4623);function b(W,G,rt){const Z=(0,ct.m)(W)||G||rt?{next:W,error:G,complete:rt}:W;return Z?(0,f.e)((H,F)=>{var et;null===(et=Z.subscribe)||void 0===et||et.call(Z);let B=!0;H.subscribe(new J.Q(F,X=>{var z;null===(z=Z.next)||void 0===z||z.call(Z,X),F.next(X)},()=>{var X;B=!1,null===(X=Z.complete)||void 0===X||X.call(Z),F.complete()},X=>{var z;B=!1,null===(z=Z.error)||void 0===z||z.call(Z,X),F.error(X)},()=>{var X,z;B&&(null===(X=Z.unsubscribe)||void 0===X||X.call(Z)),null===(z=Z.finalize)||void 0===z||z.call(Z)}))}):tt.y}},4724:(Ee,Q,ut)=>{"use strict";ut.d(Q,{T:()=>tt});var ct=ut(5907),f=ut(9947),J=ut(8889);function tt(W=b){return(0,f.e)((G,rt)=>{let Z=!1;G.subscribe(new J.Q(rt,H=>{Z=!0,rt.next(H)},()=>Z?rt.complete():rt.error(W())))})}function b(){return new ct.K}},2869:(Ee,Q,ut)=>{"use strict";ut.d(Q,{o:()=>b});var ct=ut(7908);class f extends ct.w0{constructor(G,rt){super()}schedule(G,rt=0){return this}}const J={setInterval(...W){const{delegate:G}=J;return((null==G?void 0:G.setInterval)||setInterval)(...W)},clearInterval(W){const{delegate:G}=J;return((null==G?void 0:G.clearInterval)||clearInterval)(W)},delegate:void 0};var tt=ut(3980);class b extends f{constructor(G,rt){super(G,rt),this.scheduler=G,this.work=rt,this.pending=!1}schedule(G,rt=0){if(this.closed)return this;this.state=G;const Z=this.id,H=this.scheduler;return null!=Z&&(this.id=this.recycleAsyncId(H,Z,rt)),this.pending=!0,this.delay=rt,this.id=this.id||this.requestAsyncId(H,this.id,rt),this}requestAsyncId(G,rt,Z=0){return J.setInterval(G.flush.bind(G,this),Z)}recycleAsyncId(G,rt,Z=0){if(null!=Z&&this.delay===Z&&!1===this.pending)return rt;J.clearInterval(rt)}execute(G,rt){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Z=this._execute(G,rt);if(Z)return Z;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(G,rt){let H,Z=!1;try{this.work(G)}catch(F){Z=!0,H=F||new Error("Scheduled action threw falsy error")}if(Z)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:G,scheduler:rt}=this,{actions:Z}=rt;this.work=this.state=this.scheduler=null,this.pending=!1,(0,tt.P)(Z,this),null!=G&&(this.id=this.recycleAsyncId(rt,G,null)),this.delay=null,super.unsubscribe()}}}},8843:(Ee,Q,ut)=>{"use strict";ut.d(Q,{v:()=>J});var ct=ut(1733);class f{constructor(b,W=f.now){this.schedulerActionCtor=b,this.now=W}schedule(b,W=0,G){return new this.schedulerActionCtor(this,b).schedule(G,W)}}f.now=ct.l.now;class J extends f{constructor(b,W=f.now){super(b,W),this.actions=[],this._active=!1,this._scheduled=void 0}flush(b){const{actions:W}=this;if(this._active)return void W.push(b);let G;this._active=!0;do{if(G=b.execute(b.state,b.delay))break}while(b=W.shift());if(this._active=!1,G){for(;b=W.shift();)b.unsubscribe();throw G}}}},2210:(Ee,Q,ut)=>{"use strict";ut.d(Q,{z:()=>J,P:()=>tt});var ct=ut(2869);const J=new(ut(8843).v)(ct.o),tt=J},1733:(Ee,Q,ut)=>{"use strict";ut.d(Q,{l:()=>ct});const ct={now:()=>(ct.delegate||Date).now(),delegate:void 0}},2496:(Ee,Q,ut)=>{"use strict";ut.d(Q,{z:()=>ct});const ct={setTimeout(...f){const{delegate:J}=ct;return((null==J?void 0:J.setTimeout)||setTimeout)(...f)},clearTimeout(f){const{delegate:J}=ct;return((null==J?void 0:J.clearTimeout)||clearTimeout)(f)},delegate:void 0}},5497:(Ee,Q,ut)=>{"use strict";ut.d(Q,{h:()=>f});const f="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},4816:(Ee,Q,ut)=>{"use strict";ut.d(Q,{L:()=>ct});const ct="function"==typeof Symbol&&Symbol.observable||"@@observable"},5907:(Ee,Q,ut)=>{"use strict";ut.d(Q,{K:()=>f});const f=(0,ut(4893).d)(J=>function(){J(this),this.name="EmptyError",this.message="no elements in sequence"})},7613:(Ee,Q,ut)=>{"use strict";ut.d(Q,{jO:()=>tt,yG:()=>b,_6:()=>W});var ct=ut(5044),f=ut(7398);function J(G){return G[G.length-1]}function tt(G){return(0,ct.m)(J(G))?G.pop():void 0}function b(G){return(0,f.K)(J(G))?G.pop():void 0}function W(G,rt){return"number"==typeof J(G)?G.pop():rt}},886:(Ee,Q,ut)=>{"use strict";ut.d(Q,{D:()=>b});const{isArray:ct}=Array,{getPrototypeOf:f,prototype:J,keys:tt}=Object;function b(G){if(1===G.length){const rt=G[0];if(ct(rt))return{args:rt,keys:null};if(function(G){return G&&"object"==typeof G&&f(G)===J}(rt)){const Z=tt(rt);return{args:Z.map(H=>rt[H]),keys:Z}}}return{args:G,keys:null}}},3980:(Ee,Q,ut)=>{"use strict";function ct(f,J){if(f){const tt=f.indexOf(J);0<=tt&&f.splice(tt,1)}}ut.d(Q,{P:()=>ct})},4893:(Ee,Q,ut)=>{"use strict";function ct(f){const tt=f(b=>{Error.call(b),b.stack=(new Error).stack});return tt.prototype=Object.create(Error.prototype),tt.prototype.constructor=tt,tt}ut.d(Q,{d:()=>ct})},2857:(Ee,Q,ut)=>{"use strict";function ct(f,J){return f.reduce((tt,b,W)=>(tt[b]=J[W],tt),{})}ut.d(Q,{n:()=>ct})},8706:(Ee,Q,ut)=>{"use strict";ut.d(Q,{x:()=>J,O:()=>tt});var ct=ut(5367);let f=null;function J(b){if(ct.v.useDeprecatedSynchronousErrorHandling){const W=!f;if(W&&(f={errorThrown:!1,error:null}),b(),W){const{errorThrown:G,error:rt}=f;if(f=null,G)throw rt}}else b()}function tt(b){ct.v.useDeprecatedSynchronousErrorHandling&&f&&(f.errorThrown=!0,f.error=b)}},8395:(Ee,Q,ut)=>{"use strict";function ct(f,J,tt,b=0,W=!1){const G=J.schedule(function(){tt(),W?f.add(this.schedule(null,b)):this.unsubscribe()},b);if(f.add(G),!W)return G}ut.d(Q,{f:()=>ct})},4623:(Ee,Q,ut)=>{"use strict";function ct(f){return f}ut.d(Q,{y:()=>ct})},1537:(Ee,Q,ut)=>{"use strict";ut.d(Q,{z:()=>ct});const ct=f=>f&&"number"==typeof f.length&&"function"!=typeof f},9908:(Ee,Q,ut)=>{"use strict";ut.d(Q,{D:()=>f});var ct=ut(5044);function f(J){return Symbol.asyncIterator&&(0,ct.m)(null==J?void 0:J[Symbol.asyncIterator])}},5044:(Ee,Q,ut)=>{"use strict";function ct(f){return"function"==typeof f}ut.d(Q,{m:()=>ct})},1073:(Ee,Q,ut)=>{"use strict";ut.d(Q,{c:()=>J});var ct=ut(4816),f=ut(5044);function J(tt){return(0,f.m)(tt[ct.L])}},2317:(Ee,Q,ut)=>{"use strict";ut.d(Q,{T:()=>J});var ct=ut(5497),f=ut(5044);function J(tt){return(0,f.m)(null==tt?void 0:tt[ct.h])}},2442:(Ee,Q,ut)=>{"use strict";ut.d(Q,{t:()=>f});var ct=ut(5044);function f(J){return(0,ct.m)(null==J?void 0:J.then)}},7751:(Ee,Q,ut)=>{"use strict";ut.d(Q,{Q:()=>J,L:()=>tt});var ct=ut(9162),f=ut(5044);function J(b){return(0,ct.FC)(this,arguments,function*(){const G=b.getReader();try{for(;;){const{value:rt,done:Z}=yield(0,ct.qq)(G.read());if(Z)return yield(0,ct.qq)(void 0);yield yield(0,ct.qq)(rt)}}finally{G.releaseLock()}})}function tt(b){return(0,f.m)(null==b?void 0:b.getReader)}},7398:(Ee,Q,ut)=>{"use strict";ut.d(Q,{K:()=>f});var ct=ut(5044);function f(J){return J&&(0,ct.m)(J.schedule)}},9947:(Ee,Q,ut)=>{"use strict";ut.d(Q,{A:()=>f,e:()=>J});var ct=ut(5044);function f(tt){return(0,ct.m)(null==tt?void 0:tt.lift)}function J(tt){return b=>{if(f(b))return b.lift(function(W){try{return tt(W,this)}catch(G){this.error(G)}});throw new TypeError("Unable to lift unknown Observable type")}}},2937:(Ee,Q,ut)=>{"use strict";ut.d(Q,{Z:()=>tt});var ct=ut(4753);const{isArray:f}=Array;function tt(b){return(0,ct.U)(W=>function(b,W){return f(W)?b(...W):b(W)}(b,W))}},6921:(Ee,Q,ut)=>{"use strict";function ct(){}ut.d(Q,{Z:()=>ct})},5160:(Ee,Q,ut)=>{"use strict";ut.d(Q,{h:()=>J});var ct=ut(5367),f=ut(2496);function J(tt){f.z.setTimeout(()=>{const{onUnhandledError:b}=ct.v;if(!b)throw tt;b(tt)})}},3754:(Ee,Q,ut)=>{"use strict";function ct(f){return new TypeError(`You provided ${null!==f&&"object"==typeof f?"an invalid object":`'${f}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}ut.d(Q,{z:()=>ct})},4615:(Ee,Q,ut)=>{var ct=ut(3847),f=ct.Buffer;function J(b,W){for(var G in b)W[G]=b[G]}function tt(b,W,G){return f(b,W,G)}f.from&&f.alloc&&f.allocUnsafe&&f.allocUnsafeSlow?Ee.exports=ct:(J(ct,Q),Q.Buffer=tt),J(f,tt),tt.from=function(b,W,G){if("number"==typeof b)throw new TypeError("Argument must not be a number");return f(b,W,G)},tt.alloc=function(b,W,G){if("number"!=typeof b)throw new TypeError("Argument must be a number");var rt=f(b);return void 0!==W?"string"==typeof G?rt.fill(W,G):rt.fill(W):rt.fill(0),rt},tt.allocUnsafe=function(b){if("number"!=typeof b)throw new TypeError("Argument must be a number");return f(b)},tt.allocUnsafeSlow=function(b){if("number"!=typeof b)throw new TypeError("Argument must be a number");return ct.SlowBuffer(b)}},7356:(Ee,Q,ut)=>{"use strict";var tt,ct=ut(3847),f=ct.Buffer,J={};for(tt in ct)!ct.hasOwnProperty(tt)||"SlowBuffer"===tt||"Buffer"===tt||(J[tt]=ct[tt]);var b=J.Buffer={};for(tt in f)!f.hasOwnProperty(tt)||"allocUnsafe"===tt||"allocUnsafeSlow"===tt||(b[tt]=f[tt]);if(J.Buffer.prototype=f.prototype,(!b.from||b.from===Uint8Array.from)&&(b.from=function(W,G,rt){if("number"==typeof W)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof W);if(W&&void 0===W.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);return f(W,G,rt)}),b.alloc||(b.alloc=function(W,G,rt){if("number"!=typeof W)throw new TypeError('The "size" argument must be of type number. Received type '+typeof W);if(W<0||W>=2*(1<<30))throw new RangeError('The value "'+W+'" is invalid for option "size"');var Z=f(W);return G&&0!==G.length?"string"==typeof rt?Z.fill(G,rt):Z.fill(G):Z.fill(0),Z}),!J.kStringMaxLength)try{J.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(W){}J.constants||(J.constants={MAX_LENGTH:J.kMaxLength},J.kStringMaxLength&&(J.constants.MAX_STRING_LENGTH=J.kStringMaxLength)),Ee.exports=J},1587:(Ee,Q,ut)=>{var ct=ut(4615).Buffer;function f(J,tt){this._block=ct.alloc(J),this._finalSize=tt,this._blockSize=J,this._len=0}f.prototype.update=function(J,tt){"string"==typeof J&&(J=ct.from(J,tt=tt||"utf8"));for(var b=this._block,W=this._blockSize,G=J.length,rt=this._len,Z=0;Z<G;){for(var H=rt%W,F=Math.min(G-Z,W-H),et=0;et<F;et++)b[H+et]=J[Z+et];Z+=F,(rt+=F)%W==0&&this._update(b)}return this._len+=G,this},f.prototype.digest=function(J){var tt=this._len%this._blockSize;this._block[tt]=128,this._block.fill(0,tt+1),tt>=this._finalSize&&(this._update(this._block),this._block.fill(0));var b=8*this._len;if(b<=4294967295)this._block.writeUInt32BE(b,this._blockSize-4);else{var W=(4294967295&b)>>>0;this._block.writeUInt32BE((b-W)/4294967296,this._blockSize-8),this._block.writeUInt32BE(W,this._blockSize-4)}this._update(this._block);var rt=this._hash();return J?rt.toString(J):rt},f.prototype._update=function(){throw new Error("_update must be implemented by subclass")},Ee.exports=f},6010:(Ee,Q,ut)=>{var ct=Ee.exports=function(J){J=J.toLowerCase();var tt=ct[J];if(!tt)throw new Error(J+" is not supported (we accept pull requests)");return new tt};ct.sha=ut(8924),ct.sha1=ut(1278),ct.sha224=ut(4607),ct.sha256=ut(8107),ct.sha384=ut(3640),ct.sha512=ut(5455)},8924:(Ee,Q,ut)=>{var ct=ut(3516),f=ut(1587),J=ut(4615).Buffer,tt=[1518500249,1859775393,-1894007588,-899497514],b=new Array(80);function W(){this.init(),this._w=b,f.call(this,64,56)}function G(H){return H<<5|H>>>27}function rt(H){return H<<30|H>>>2}function Z(H,F,et,B){return 0===H?F&et|~F&B:2===H?F&et|F&B|et&B:F^et^B}ct(W,f),W.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},W.prototype._update=function(H){for(var F=this._w,et=0|this._a,B=0|this._b,X=0|this._c,z=0|this._d,Y=0|this._e,q=0;q<16;++q)F[q]=H.readInt32BE(4*q);for(;q<80;++q)F[q]=F[q-3]^F[q-8]^F[q-14]^F[q-16];for(var U=0;U<80;++U){var it=~~(U/20),ot=G(et)+Z(it,B,X,z)+Y+F[U]+tt[it]|0;Y=z,z=X,X=rt(B),B=et,et=ot}this._a=et+this._a|0,this._b=B+this._b|0,this._c=X+this._c|0,this._d=z+this._d|0,this._e=Y+this._e|0},W.prototype._hash=function(){var H=J.allocUnsafe(20);return H.writeInt32BE(0|this._a,0),H.writeInt32BE(0|this._b,4),H.writeInt32BE(0|this._c,8),H.writeInt32BE(0|this._d,12),H.writeInt32BE(0|this._e,16),H},Ee.exports=W},1278:(Ee,Q,ut)=>{var ct=ut(3516),f=ut(1587),J=ut(4615).Buffer,tt=[1518500249,1859775393,-1894007588,-899497514],b=new Array(80);function W(){this.init(),this._w=b,f.call(this,64,56)}function G(F){return F<<1|F>>>31}function rt(F){return F<<5|F>>>27}function Z(F){return F<<30|F>>>2}function H(F,et,B,X){return 0===F?et&B|~et&X:2===F?et&B|et&X|B&X:et^B^X}ct(W,f),W.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},W.prototype._update=function(F){for(var et=this._w,B=0|this._a,X=0|this._b,z=0|this._c,Y=0|this._d,q=0|this._e,U=0;U<16;++U)et[U]=F.readInt32BE(4*U);for(;U<80;++U)et[U]=G(et[U-3]^et[U-8]^et[U-14]^et[U-16]);for(var it=0;it<80;++it){var ot=~~(it/20),lt=rt(B)+H(ot,X,z,Y)+q+et[it]+tt[ot]|0;q=Y,Y=z,z=Z(X),X=B,B=lt}this._a=B+this._a|0,this._b=X+this._b|0,this._c=z+this._c|0,this._d=Y+this._d|0,this._e=q+this._e|0},W.prototype._hash=function(){var F=J.allocUnsafe(20);return F.writeInt32BE(0|this._a,0),F.writeInt32BE(0|this._b,4),F.writeInt32BE(0|this._c,8),F.writeInt32BE(0|this._d,12),F.writeInt32BE(0|this._e,16),F},Ee.exports=W},4607:(Ee,Q,ut)=>{var ct=ut(3516),f=ut(8107),J=ut(1587),tt=ut(4615).Buffer,b=new Array(64);function W(){this.init(),this._w=b,J.call(this,64,56)}ct(W,f),W.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},W.prototype._hash=function(){var G=tt.allocUnsafe(28);return G.writeInt32BE(this._a,0),G.writeInt32BE(this._b,4),G.writeInt32BE(this._c,8),G.writeInt32BE(this._d,12),G.writeInt32BE(this._e,16),G.writeInt32BE(this._f,20),G.writeInt32BE(this._g,24),G},Ee.exports=W},8107:(Ee,Q,ut)=>{var ct=ut(3516),f=ut(1587),J=ut(4615).Buffer,tt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],b=new Array(64);function W(){this.init(),this._w=b,f.call(this,64,56)}function G(B,X,z){return z^B&(X^z)}function rt(B,X,z){return B&X|z&(B|X)}function Z(B){return(B>>>2|B<<30)^(B>>>13|B<<19)^(B>>>22|B<<10)}function H(B){return(B>>>6|B<<26)^(B>>>11|B<<21)^(B>>>25|B<<7)}function F(B){return(B>>>7|B<<25)^(B>>>18|B<<14)^B>>>3}function et(B){return(B>>>17|B<<15)^(B>>>19|B<<13)^B>>>10}ct(W,f),W.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},W.prototype._update=function(B){for(var X=this._w,z=0|this._a,Y=0|this._b,q=0|this._c,U=0|this._d,it=0|this._e,ot=0|this._f,lt=0|this._g,wt=0|this._h,xt=0;xt<16;++xt)X[xt]=B.readInt32BE(4*xt);for(;xt<64;++xt)X[xt]=et(X[xt-2])+X[xt-7]+F(X[xt-15])+X[xt-16]|0;for(var Ot=0;Ot<64;++Ot){var Tt=wt+H(it)+G(it,ot,lt)+tt[Ot]+X[Ot]|0,Et=Z(z)+rt(z,Y,q)|0;wt=lt,lt=ot,ot=it,it=U+Tt|0,U=q,q=Y,Y=z,z=Tt+Et|0}this._a=z+this._a|0,this._b=Y+this._b|0,this._c=q+this._c|0,this._d=U+this._d|0,this._e=it+this._e|0,this._f=ot+this._f|0,this._g=lt+this._g|0,this._h=wt+this._h|0},W.prototype._hash=function(){var B=J.allocUnsafe(32);return B.writeInt32BE(this._a,0),B.writeInt32BE(this._b,4),B.writeInt32BE(this._c,8),B.writeInt32BE(this._d,12),B.writeInt32BE(this._e,16),B.writeInt32BE(this._f,20),B.writeInt32BE(this._g,24),B.writeInt32BE(this._h,28),B},Ee.exports=W},3640:(Ee,Q,ut)=>{var ct=ut(3516),f=ut(5455),J=ut(1587),tt=ut(4615).Buffer,b=new Array(160);function W(){this.init(),this._w=b,J.call(this,128,112)}ct(W,f),W.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},W.prototype._hash=function(){var G=tt.allocUnsafe(48);function rt(Z,H,F){G.writeInt32BE(Z,F),G.writeInt32BE(H,F+4)}return rt(this._ah,this._al,0),rt(this._bh,this._bl,8),rt(this._ch,this._cl,16),rt(this._dh,this._dl,24),rt(this._eh,this._el,32),rt(this._fh,this._fl,40),G},Ee.exports=W},5455:(Ee,Q,ut)=>{var ct=ut(3516),f=ut(1587),J=ut(4615).Buffer,tt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],b=new Array(160);function W(){this.init(),this._w=b,f.call(this,128,112)}function G(Y,q,U){return U^Y&(q^U)}function rt(Y,q,U){return Y&q|U&(Y|q)}function Z(Y,q){return(Y>>>28|q<<4)^(q>>>2|Y<<30)^(q>>>7|Y<<25)}function H(Y,q){return(Y>>>14|q<<18)^(Y>>>18|q<<14)^(q>>>9|Y<<23)}function F(Y,q){return(Y>>>1|q<<31)^(Y>>>8|q<<24)^Y>>>7}function et(Y,q){return(Y>>>1|q<<31)^(Y>>>8|q<<24)^(Y>>>7|q<<25)}function B(Y,q){return(Y>>>19|q<<13)^(q>>>29|Y<<3)^Y>>>6}function X(Y,q){return(Y>>>19|q<<13)^(q>>>29|Y<<3)^(Y>>>6|q<<26)}function z(Y,q){return Y>>>0<q>>>0?1:0}ct(W,f),W.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},W.prototype._update=function(Y){for(var q=this._w,U=0|this._ah,it=0|this._bh,ot=0|this._ch,lt=0|this._dh,wt=0|this._eh,xt=0|this._fh,Ot=0|this._gh,Tt=0|this._hh,Et=0|this._al,A=0|this._bl,o=0|this._cl,c=0|this._dl,g=0|this._el,p=0|this._fl,w=0|this._gl,S=0|this._hl,T=0;T<32;T+=2)q[T]=Y.readInt32BE(4*T),q[T+1]=Y.readInt32BE(4*T+4);for(;T<160;T+=2){var C=q[T-30],h=q[T-30+1],k=F(C,h),ft=et(h,C),at=B(C=q[T-4],h=q[T-4+1]),st=X(h,C),Xt=q[T-32],te=q[T-32+1],Vt=ft+q[T-14+1]|0,Dt=k+q[T-14]+z(Vt,ft)|0;Dt=(Dt=Dt+at+z(Vt=Vt+st|0,st)|0)+Xt+z(Vt=Vt+te|0,te)|0,q[T]=Dt,q[T+1]=Vt}for(var ve=0;ve<160;ve+=2){Dt=q[ve],Vt=q[ve+1];var Gt=rt(U,it,ot),Nt=rt(Et,A,o),Kt=Z(U,Et),fe=Z(Et,U),zt=H(wt,g),Ne=H(g,wt),Pt=tt[ve],Se=tt[ve+1],Fi=G(wt,xt,Ot),Ge=G(g,p,w),_e=S+Ne|0,Ce=Tt+zt+z(_e,S)|0;Ce=(Ce=(Ce=Ce+Fi+z(_e=_e+Ge|0,Ge)|0)+Pt+z(_e=_e+Se|0,Se)|0)+Dt+z(_e=_e+Vt|0,Vt)|0;var Bt=fe+Nt|0,re=Kt+Gt+z(Bt,fe)|0;Tt=Ot,S=w,Ot=xt,w=p,xt=wt,p=g,wt=lt+Ce+z(g=c+_e|0,c)|0,lt=ot,c=o,ot=it,o=A,it=U,A=Et,U=Ce+re+z(Et=_e+Bt|0,_e)|0}this._al=this._al+Et|0,this._bl=this._bl+A|0,this._cl=this._cl+o|0,this._dl=this._dl+c|0,this._el=this._el+g|0,this._fl=this._fl+p|0,this._gl=this._gl+w|0,this._hl=this._hl+S|0,this._ah=this._ah+U+z(this._al,Et)|0,this._bh=this._bh+it+z(this._bl,A)|0,this._ch=this._ch+ot+z(this._cl,o)|0,this._dh=this._dh+lt+z(this._dl,c)|0,this._eh=this._eh+wt+z(this._el,g)|0,this._fh=this._fh+xt+z(this._fl,p)|0,this._gh=this._gh+Ot+z(this._gl,w)|0,this._hh=this._hh+Tt+z(this._hl,S)|0},W.prototype._hash=function(){var Y=J.allocUnsafe(64);function q(U,it,ot){Y.writeInt32BE(U,ot),Y.writeInt32BE(it,ot+4)}return q(this._ah,this._al,0),q(this._bh,this._bl,8),q(this._ch,this._cl,16),q(this._dh,this._dl,24),q(this._eh,this._el,32),q(this._fh,this._fl,40),q(this._gh,this._gl,48),q(this._hh,this._hl,56),Y},Ee.exports=W},5089:(Ee,Q,ut)=>{Ee.exports=J;var ct=ut(7703).EventEmitter;function J(){ct.call(this)}ut(3516)(J,ct),J.Readable=ut(7619),J.Writable=ut(8956),J.Duplex=ut(9617),J.Transform=ut(8329),J.PassThrough=ut(1833),J.finished=ut(616),J.pipeline=ut(2580),J.Stream=J,J.prototype.pipe=function(tt,b){var W=this;function G(X){tt.writable&&!1===tt.write(X)&&W.pause&&W.pause()}function rt(){W.readable&&W.resume&&W.resume()}W.on("data",G),tt.on("drain",rt),!tt._isStdio&&(!b||!1!==b.end)&&(W.on("end",H),W.on("close",F));var Z=!1;function H(){Z||(Z=!0,tt.end())}function F(){Z||(Z=!0,"function"==typeof tt.destroy&&tt.destroy())}function et(X){if(B(),0===ct.listenerCount(this,"error"))throw X}function B(){W.removeListener("data",G),tt.removeListener("drain",rt),W.removeListener("end",H),W.removeListener("close",F),W.removeListener("error",et),tt.removeListener("error",et),W.removeListener("end",B),W.removeListener("close",B),tt.removeListener("close",B)}return W.on("error",et),tt.on("error",et),W.on("end",B),W.on("close",B),tt.on("close",B),tt.emit("pipe",W),tt}},3033:(Ee,Q,ut)=>{"use strict";var ct=ut(1381).Buffer,f=ct.isEncoding||function(U){switch((U=""+U)&&U.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function b(U){var it;switch(this.encoding=function(U){var it=function(U){if(!U)return"utf8";for(var it;;)switch(U){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return U;default:if(it)return;U=(""+U).toLowerCase(),it=!0}}(U);if("string"!=typeof it&&(ct.isEncoding===f||!f(U)))throw new Error("Unknown encoding: "+U);return it||U}(U),this.encoding){case"utf16le":this.text=et,this.end=B,it=4;break;case"utf8":this.fillLast=Z,it=4;break;case"base64":this.text=X,this.end=z,it=3;break;default:return this.write=Y,void(this.end=q)}this.lastNeed=0,this.lastTotal=0,this.lastChar=ct.allocUnsafe(it)}function W(U){return U<=127?0:U>>5==6?2:U>>4==14?3:U>>3==30?4:U>>6==2?-1:-2}function Z(U){var it=this.lastTotal-this.lastNeed,ot=function(U,it,ot){if(128!=(192&it[0]))return U.lastNeed=0,"\ufffd";if(U.lastNeed>1&&it.length>1){if(128!=(192&it[1]))return U.lastNeed=1,"\ufffd";if(U.lastNeed>2&&it.length>2&&128!=(192&it[2]))return U.lastNeed=2,"\ufffd"}}(this,U);return void 0!==ot?ot:this.lastNeed<=U.length?(U.copy(this.lastChar,it,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(U.copy(this.lastChar,it,0,U.length),void(this.lastNeed-=U.length))}function et(U,it){if((U.length-it)%2==0){var ot=U.toString("utf16le",it);if(ot){var lt=ot.charCodeAt(ot.length-1);if(lt>=55296&&lt<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=U[U.length-2],this.lastChar[1]=U[U.length-1],ot.slice(0,-1)}return ot}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=U[U.length-1],U.toString("utf16le",it,U.length-1)}function B(U){var it=U&&U.length?this.write(U):"";return this.lastNeed?it+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):it}function X(U,it){var ot=(U.length-it)%3;return 0===ot?U.toString("base64",it):(this.lastNeed=3-ot,this.lastTotal=3,1===ot?this.lastChar[0]=U[U.length-1]:(this.lastChar[0]=U[U.length-2],this.lastChar[1]=U[U.length-1]),U.toString("base64",it,U.length-ot))}function z(U){var it=U&&U.length?this.write(U):"";return this.lastNeed?it+this.lastChar.toString("base64",0,3-this.lastNeed):it}function Y(U){return U.toString(this.encoding)}function q(U){return U&&U.length?this.write(U):""}Q.s=b,b.prototype.write=function(U){if(0===U.length)return"";var it,ot;if(this.lastNeed){if(void 0===(it=this.fillLast(U)))return"";ot=this.lastNeed,this.lastNeed=0}else ot=0;return ot<U.length?it?it+this.text(U,ot):this.text(U,ot):it||""},b.prototype.end=function(U){var it=U&&U.length?this.write(U):"";return this.lastNeed?it+"\ufffd":it},b.prototype.text=function(U,it){var ot=function(U,it,ot){var lt=it.length-1;if(lt<ot)return 0;var wt=W(it[lt]);return wt>=0?(wt>0&&(U.lastNeed=wt-1),wt):--lt<ot||-2===wt?0:(wt=W(it[lt]))>=0?(wt>0&&(U.lastNeed=wt-2),wt):--lt<ot||-2===wt?0:(wt=W(it[lt]))>=0?(wt>0&&(2===wt?wt=0:U.lastNeed=wt-3),wt):0}(this,U,it);if(!this.lastNeed)return U.toString("utf8",it);this.lastTotal=ot;var lt=U.length-(ot-this.lastNeed);return U.copy(this.lastChar,0,lt),U.toString("utf8",it,lt)},b.prototype.fillLast=function(U){if(this.lastNeed<=U.length)return U.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);U.copy(this.lastChar,this.lastTotal-this.lastNeed,0,U.length),this.lastNeed-=U.length}},1381:(Ee,Q,ut)=>{var ct=ut(3847),f=ct.Buffer;function J(b,W){for(var G in b)W[G]=b[G]}function tt(b,W,G){return f(b,W,G)}f.from&&f.alloc&&f.allocUnsafe&&f.allocUnsafeSlow?Ee.exports=ct:(J(ct,Q),Q.Buffer=tt),tt.prototype=Object.create(f.prototype),J(f,tt),tt.from=function(b,W,G){if("number"==typeof b)throw new TypeError("Argument must not be a number");return f(b,W,G)},tt.alloc=function(b,W,G){if("number"!=typeof b)throw new TypeError("Argument must be a number");var rt=f(b);return void 0!==W?"string"==typeof G?rt.fill(W,G):rt.fill(W):rt.fill(0),rt},tt.allocUnsafe=function(b){if("number"!=typeof b)throw new TypeError("Argument must be a number");return f(b)},tt.allocUnsafeSlow=function(b){if("number"!=typeof b)throw new TypeError("Argument must be a number");return ct.SlowBuffer(b)}},5832:Ee=>{function ut(ct){try{if(!global.localStorage)return!1}catch(J){return!1}var f=global.localStorage[ct];return null!=f&&"true"===String(f).toLowerCase()}Ee.exports=function(ct,f){if(ut("noDeprecation"))return ct;var J=!1;return function(){if(!J){if(ut("throwDeprecation"))throw new Error(f);ut("traceDeprecation")?console.trace(f):console.warn(f),J=!0}return ct.apply(this,arguments)}}},4373:(Ee,Q,ut)=>{"use strict";ut.d(Q,{u:()=>ct});var ct=(()=>{return(f=ct||(ct={})).highchartsNetworkgraph="highcharts networkgraph",f.gojsConceptMap="gojs conceptMap",f.cytoscape="cytoscape",ct;var f})()},9211:(Ee,Q,ut)=>{"use strict";ut.d(Q,{u:()=>ct});var ct=(()=>{return(f=ct||(ct={})).start="start",f.end="end",f.related="related",f.otherDance="other dance",ct;var f})()},3630:(Ee,Q,ut)=>{"use strict";ut.d(Q,{G:()=>ct});var ct=(()=>{return(f=ct||(ct={})).admin="admin",f.video_ssm="video_ssm",f.video_fau="video_fau",f.video_tsm="video_tsm",f.video_tsc="video_tsc",ct;var f})()},7269:(Ee,Q,ut)=>{"use strict";ut.d(Q,{$:()=>ct});var ct=(()=>{return(f=ct||(ct={})).read="read",f.write="write",f.test="test",ct;var f})()},4661:(Ee,Q,ut)=>{"use strict";ut.d(Q,{J:()=>et});var ct=ut(4753),f=ut(2997),J=ut(3067),tt=ut(7384),b=ut(556),W=ut(3783),rt=ut(7269),Z=ut(3668),H=ut(9098),F=ut(4522);let et=(()=>{class B{constructor(z,Y){this.settingsService=z,this.http=Y,this.testData={range:"Tanzfiguren!A1:R500",majorDimension:"ROWS",values:[["Name","Tanz","Beschreibung","Lerndatum","Lernreihenfolge","Count","Name gesichert","Typ","Eingang","Ausgang","\xc4hnliche Tanzfiguren","In anderen T\xe4nzen","Videoname","Links","ToDo","Benutzer","test","__id"],["Basico (B)","Bachata","","04.11.2021","0","8","TRUE","Figur","","","","","","","","mvolkert","","TTtVY2FVb0AoK0VJVjR2OUtPV0U"]]},this.createCourseDateDto=(q,U)=>({date:(0,b.sG)(q[0]),course:q[1],moveName:q[2],row:U+1}),this.createMoveDto=(q,U)=>({name:q[0],dance:q[1],description:q[2],date:(0,b.sG)(q[3]),order:Number(q[4]),count:q[5],nameVerified:(0,b.gx)(q[6]),type:q[7],startMove:this.stringToArray(q[8]),endMove:this.stringToArray(q[9]),relatedMoves:this.stringToArray(q[10]),relatedMovesOtherDances:this.stringToArray(q[11]),videoname:q[12],links:q[13],toDo:q[14],row:U+1,courseDates:[],videos:[]}),this.createCourseDto=(q,U)=>({course:q[0],dances:this.stringToArray(q[1]),school:q[0],description:q[0],row:U+1}),this.createDanceDto=(q,U)=>({name:q[0],type:q[1],music:q[2],rhythm:q[3],school:q[4],level:q[5],description:q[6],links:q[7],row:U+1}),this.createVideoDto=(q,U)=>({name:q[0],link:q[1],row:U+1}),this.settingsService.userMode.subscribe(q=>this.userMode=q)}getMoves(){var z;return this.spreadsheetsGet(null===(z=this.settingsService.secret)||void 0===z?void 0:z.movesSheetId,"Tanzfiguren!A1:S500").pipe((0,ct.U)(Y=>this.mapRows(Y,this.createMoveDto)))}getCourseDates(){var z;return this.spreadsheetsGet(null===(z=this.settingsService.secret)||void 0===z?void 0:z.courseDatesSheetId,"Course Dates!A1:C1000").pipe((0,ct.U)(Y=>this.mapRows(Y,this.createCourseDateDto)))}getCourses(){var z;return this.spreadsheetsGet(null===(z=this.settingsService.secret)||void 0===z?void 0:z.movesSheetId,"Courses!A1:D1000").pipe((0,ct.U)(Y=>this.mapRows(Y,this.createCourseDto)))}getDances(){var z;return this.spreadsheetsGet(null===(z=this.settingsService.secret)||void 0===z?void 0:z.movesSheetId,"T\xe4nze!A1:H100").pipe((0,ct.U)(Y=>this.mapRows(Y,this.createDanceDto)))}getVideos(z){var Y;return this.spreadsheetsGet(null===(Y=this.settingsService.secret)||void 0===Y?void 0:Y.courseDatesSheetId,`Videos ${z}!A1:B1000`).pipe((0,ct.U)(q=>this.mapRows(q,this.createVideoDto)))}mapRows(z,Y){const q=new Array,U=null==z?void 0:z.values;if((null==U?void 0:U.length)>0)for(let ot=1;ot<U.length;ot++){var it=U[ot];(it[0]||it[1])&&q.push(Y(it,ot))}return q}appendData(z){var Y;const U={values:[this.moveToLine(z)]};return this.spreadsheetsPost(null===(Y=this.settingsService.secret)||void 0===Y?void 0:Y.movesSheetId,"Tanzfiguren!A400:U400",U,":append")}patchData(z){var Y;const q=`Tanzfiguren!A${z.row}:U${z.row}`,U={values:[this.moveToLine(z)]};return this.spreadsheetsPut(null===(Y=this.settingsService.secret)||void 0===Y?void 0:Y.movesSheetId,q,U)}appendCourseDate(z){var Y;const U={values:[this.courseDateToLine(z)]};return this.spreadsheetsPost(null===(Y=this.settingsService.secret)||void 0===Y?void 0:Y.courseDatesSheetId,"Course Dates!A400:C400",U,":append")}patchCourseDate(z){var Y;const q=`Course Dates!A${z.row}:C${z.row}`,U={values:[this.courseDateToLine(z)]};return this.spreadsheetsPut(null===(Y=this.settingsService.secret)||void 0===Y?void 0:Y.courseDatesSheetId,q,U)}spreadsheetsGet(z,Y){var q;return this.userMode===rt.$.test?(0,f.of)(this.testData):this.http.get(`https://content-sheets.googleapis.com/v4/spreadsheets/${z}/values/${encodeURI(Y)}`,{params:{key:null===(q=this.settingsService.secret)||void 0===q?void 0:q.apiKey}})}spreadsheetsPost(z,Y,q,U=""){return this.userMode!==rt.$.write?(0,f.of)({updates:{updatedRange:"T!A42:S42"}}):this.loginWrite().pipe((0,J.w)(it=>this.http.post(`https://content-sheets.googleapis.com/v4/spreadsheets/${z}/values/${encodeURI(Y)}${U}`,q,{headers:{Authorization:`Bearer ${it.access_token}`},params:{valueInputOption:"USER_ENTERED"}})))}spreadsheetsPut(z,Y,q,U=""){return this.userMode!==rt.$.write?(0,f.of)({}):this.loginWrite().pipe((0,J.w)(it=>this.http.put(`https://content-sheets.googleapis.com/v4/spreadsheets/${z}/values/${encodeURI(Y)}${U}`,q,{headers:{Authorization:`Bearer ${it.access_token}`},params:{valueInputOption:"USER_ENTERED"}})))}loginWrite(){if(!this.settingsService.secretWrite)return(0,f.of)({});if(this.writeToken&&this.lastUpdated&&this.nowInSec()-this.lastUpdated<this.writeToken.expires_in-100)return(0,f.of)(this.writeToken);const z=this.createJwt();return this.lastUpdated=this.nowInSec(),this.http.post("https://oauth2.googleapis.com/token",{grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:z}).pipe((0,tt.b)(Y=>this.writeToken=Y))}nowInSec(){return Date.now()/1e3}createJwt(){const z=this.settingsService.secretWrite,Y=Date.now()/1e3;return W.encode({iss:z.client_email,sub:z.client_email,scope:"https://www.googleapis.com/auth/spreadsheets",aud:z.token_uri,iat:Y,exp:Y+3600},z.private_key,"RS256",{header:{kid:z.private_key_id}})}stringToArray(z){return(z=null==z?void 0:z.trim())?Array.from(new Set(z.split(",").map(Y=>Y.trim()).filter(Y=>Boolean(Y))).values()):[]}moveToLine(z){var Y,q,U,it;return[z.name,z.dance,z.description,(0,b.IN)(z.date),String(z.order),z.count,String(z.nameVerified),z.type,null===(Y=z.startMove)||void 0===Y?void 0:Y.join(","),null===(q=z.endMove)||void 0===q?void 0:q.join(","),null===(U=z.relatedMoves)||void 0===U?void 0:U.join(","),null===(it=z.relatedMovesOtherDances)||void 0===it?void 0:it.join(","),z.videoname,z.links,z.toDo]}courseDateToLine(z){return[(0,b.IN)(z.date),z.course,z.moveName]}}return B.\u0275fac=function(z){return new(z||B)(Z.LFG(H.g),Z.LFG(F.eN))},B.\u0275prov=Z.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})()},1847:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{L:()=>DataManagerService});var _home_runner_work_dancing_moves_dancing_moves_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(8239),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4499),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(273),rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8100),rxjs__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2394),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7384),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8975),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4753),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3067),_model_relation_display_type_enum__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(4373),_model_relation_type_enum__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(9211),_model_special_right__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(3630),_util_util__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(556),_angular_core__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(3668),_apiclient_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4661),_angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(9966),_angular_router__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(1553),_nav_service__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(9846),_settings_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9098);let DataManagerService=(()=>{class DataManagerService{constructor(Ee,Q,ut,ct,f){this.apiclientService=Ee,this.snackBar=Q,this.route=ut,this.navService=ct,this.settingsService=f,this.movesSubject=new rxjs__WEBPACK_IMPORTED_MODULE_2__.X(new Array),this.movesObservable=this.movesSubject.asObservable(),this.searchFilterObservable=new rxjs__WEBPACK_IMPORTED_MODULE_2__.X({}),this.relationsSelectionObservable=new rxjs__WEBPACK_IMPORTED_MODULE_2__.X({}),this.isStarted=!1,this.isStarting=new rxjs__WEBPACK_IMPORTED_MODULE_3__.x,this.groupByDance=J=>J.reduce((tt,b)=>(tt[b.dance]||(tt[b.dance]=[]),tt[b.dance].push(b.name),tt),{}),this.tapRequest=(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.b)({next:J=>{console.log(J)},error:J=>{var tt,b;console.log(J),this.snackBar.open(`error:${null===(b=null===(tt=null==J?void 0:J.result)||void 0===tt?void 0:tt.error)||void 0===b?void 0:b.message}`,"OK")}}),this.saveOrCreateCourseDates=J=>(0,rxjs__WEBPACK_IMPORTED_MODULE_5__.D)(J.courseDates.filter(tt=>tt.course||tt.date).map(tt=>(tt.moveName=J.name,tt)).map(this.saveOrCreateCourseDate)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.d)([]),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.U)(tt=>(J.courseDates=tt,J))),this.saveOrCreateCourseDate=J=>J.row?this.apiclientService.patchCourseDate(J).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.U)(tt=>J),this.tapRequest):this.apiclientService.appendCourseDate(J).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.U)(tt=>(J.row=(0,_util_util__WEBPACK_IMPORTED_MODULE_8__.dM)(tt.updates.updatedRange),J)),this.tapRequest),this.updateMoveData=J=>{let tt=JSON.parse(JSON.stringify(this.movesSubject.value));return tt=tt.filter(b=>b.name!=J.name),tt.push(J),this.movesSubject.next(tt),this.navService.navigate(["move",J.name]),J},this.route.queryParams.subscribe(J=>{var tt;(J.dance||J.move||J.course||J.type||J.notcourse||J.todo||J.video||J.script)&&this.searchFilterObservable.next({dance:J.dance,move:J.move,course:J.course,notcourse:J.notcourse,type:J.type,todo:J.todo,video:J.video,script:J.script});let b=J.relationTypes;b?"string"==typeof b&&(b=[b]):b=[_model_relation_type_enum__WEBPACK_IMPORTED_MODULE_9__.u.start,_model_relation_type_enum__WEBPACK_IMPORTED_MODULE_9__.u.end];let W=null===(tt=J.displayType)||void 0===tt?void 0:tt.trim();W||(W=_model_relation_display_type_enum__WEBPACK_IMPORTED_MODULE_10__.u.cytoscape),this.relationsSelectionObservable.next({relationTypes:b,displayType:W})})}start(){var Ee=this;return(0,_home_runner_work_dancing_moves_dancing_moves_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(function*(){yield Ee.settingsService.loading(),(0,rxjs__WEBPACK_IMPORTED_MODULE_5__.D)({moves:Ee.apiclientService.getMoves(),courseDates:Ee.apiclientService.getCourseDates(),dances:Ee.apiclientService.getDances(),videos:Ee.getVideos()}).subscribe(Q=>{Ee.dances=Q.dances;for(const ut of Q.moves)if(ut.courseDates=Q.courseDates.filter(ct=>ct.moveName==ut.name),ut.videoname){const ct=ut.videoname.split(",").flatMap(f=>f.split("\n")).map(f=>f.trim()).filter(f=>f).map(f=>({name:f.split("!")[0],options:Ee.getOptions(f)}));ut.videos=JSON.parse(JSON.stringify(Q.videos.filter(f=>ct.map(J=>J.name).includes(f.name)))),ut.videos.forEach(f=>{var J,tt;return f.link=null!==(tt=f.link+(null===(J=ct.find(b=>b.name===f.name))||void 0===J?void 0:J.options))&&void 0!==tt?tt:""})}Ee.movesSubject.next(Q.moves),Ee.isStarting.next(!1),Ee.isStarted=!0})})()}getOptions(Ee){return Ee.includes("!")?(console.log("getOptions"),"!"+Ee.split("!")[1]):""}getVideos(){const Ee=new Array;return(this.settingsService.hasSpecialRight(_model_special_right__WEBPACK_IMPORTED_MODULE_12__.G.video_ssm)||this.settingsService.hasSpecialRight(_model_special_right__WEBPACK_IMPORTED_MODULE_12__.G.admin))&&Ee.push(this.apiclientService.getVideos("SSM")),(this.settingsService.hasSpecialRight(_model_special_right__WEBPACK_IMPORTED_MODULE_12__.G.video_fau)||this.settingsService.hasSpecialRight(_model_special_right__WEBPACK_IMPORTED_MODULE_12__.G.admin))&&Ee.push(this.apiclientService.getVideos("FAU")),(this.settingsService.hasSpecialRight(_model_special_right__WEBPACK_IMPORTED_MODULE_12__.G.video_tsm)||this.settingsService.hasSpecialRight(_model_special_right__WEBPACK_IMPORTED_MODULE_12__.G.admin))&&Ee.push(this.apiclientService.getVideos("TSM")),(this.settingsService.hasSpecialRight(_model_special_right__WEBPACK_IMPORTED_MODULE_12__.G.video_tsc)||this.settingsService.hasSpecialRight(_model_special_right__WEBPACK_IMPORTED_MODULE_12__.G.admin))&&Ee.push(this.apiclientService.getVideos("TSC")),(0,rxjs__WEBPACK_IMPORTED_MODULE_5__.D)(Ee).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.d)([]),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.U)(Q=>Q.flatMap(ut=>ut)))}loading(){var Ee=this;return(0,_home_runner_work_dancing_moves_dancing_moves_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(function*(){Ee.isStarted||(yield(0,rxjs__WEBPACK_IMPORTED_MODULE_13__.z)(Ee.isStarting))})()}getMove(Ee){const Q=this.movesSubject.value.filter(ut=>ut.name==Ee);if(Q.length>0)return Q[0]}getGroupedMoveNames(){return this.movesSubject.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.U)(Ee=>Object.entries(this.groupByDance(Ee)).map(([Q,ut])=>({dance:Q,names:ut}))))}getMovesNamesOf(Ee){return new Set(this.movesSubject.value.filter(Q=>!Ee||Q.dance==Ee).map(Q=>Q.name))}getMovesNames(){return new Set(this.movesSubject.value.map(Ee=>Ee.name))}getDanceNames(){return new Set(this.movesSubject.value.map(Ee=>Ee.dance))}getDances(){return this.dances}getCourseNames(){return new Set(this.movesSubject.value.flatMap(Ee=>Ee.courseDates.map(Q=>Q.course)))}getTypes(){return new Set(this.movesSubject.value.map(Ee=>Ee.type).sort())}getRelationPairs(Ee){return this.searchFilterObservable.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.U)(Q=>{const ut=new Array,ct=this.selectMoves(this.movesSubject.value,this.getDanceNames(),Q);for(const f of ct)Ee.includes(_model_relation_type_enum__WEBPACK_IMPORTED_MODULE_9__.u.start)&&f.startMove.filter(J=>J).forEach(J=>ut.push({to:f.name,from:J})),Ee.includes(_model_relation_type_enum__WEBPACK_IMPORTED_MODULE_9__.u.end)&&f.endMove.filter(J=>J).forEach(J=>ut.push({from:f.name,to:J})),Ee.includes(_model_relation_type_enum__WEBPACK_IMPORTED_MODULE_9__.u.related)&&f.relatedMoves.filter(J=>J).forEach(J=>ut.push({from:f.name,to:J})),Ee.includes(_model_relation_type_enum__WEBPACK_IMPORTED_MODULE_9__.u.otherDance)&&f.relatedMovesOtherDances.filter(J=>J).forEach(J=>ut.push({from:f.name,to:J}));return ut}))}selectMoves(moves,dances,search){return moves.filter(Ee=>!dances.has(search.dance)||Ee.dance==search.dance).filter(Ee=>!search.move||Ee.name.includes(search.move)).filter(Ee=>!search.course||Ee.courseDates.map(Q=>Q.course).includes(search.course)).filter(Ee=>!search.notcourse||!Ee.courseDates.map(Q=>Q.course).includes(search.notcourse)).filter(Ee=>!search.type||Ee.type.includes(search.type)).filter(Ee=>!search.todo||Ee.toDo.includes(search.todo)).filter(Ee=>!search.video||Ee.toDo.includes(search.video)).filter(move=>!search.script||eval(search.script))}saveOrCreate(Ee){return Ee.row?this.apiclientService.patchData(Ee).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.U)(Q=>Ee),this.tapRequest,(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(this.saveOrCreateCourseDates),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.U)(this.updateMoveData)):this.apiclientService.appendData(Ee).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.U)(Q=>(Ee.row=(0,_util_util__WEBPACK_IMPORTED_MODULE_8__.dM)(Q.updates.updatedRange),Ee)),this.tapRequest,(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(this.saveOrCreateCourseDates),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.U)(this.updateMoveData))}normalize(){var Ee=this;return(0,_home_runner_work_dancing_moves_dancing_moves_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__.Z)(function*(){console.log("normalize");for(const Q of Ee.movesSubject.value)Q.description&&(console.log(Q),Ee.saveOrCreate(Q),yield(0,_util_util__WEBPACK_IMPORTED_MODULE_8__.gw)(1e3))})()}}return DataManagerService.\u0275fac=function(Q){return new(Q||DataManagerService)(_angular_core__WEBPACK_IMPORTED_MODULE_15__.LFG(_apiclient_service__WEBPACK_IMPORTED_MODULE_0__.J),_angular_core__WEBPACK_IMPORTED_MODULE_15__.LFG(_angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_16__.ux),_angular_core__WEBPACK_IMPORTED_MODULE_15__.LFG(_angular_router__WEBPACK_IMPORTED_MODULE_17__.gz),_angular_core__WEBPACK_IMPORTED_MODULE_15__.LFG(_nav_service__WEBPACK_IMPORTED_MODULE_18__.t),_angular_core__WEBPACK_IMPORTED_MODULE_15__.LFG(_settings_service__WEBPACK_IMPORTED_MODULE_1__.g))},DataManagerService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Yz7({token:DataManagerService,factory:DataManagerService.\u0275fac,providedIn:"root"}),DataManagerService})()},9846:(Ee,Q,ut)=>{"use strict";ut.d(Q,{t:()=>tt});var ct=ut(4499),f=ut(3668),J=ut(1553);let tt=(()=>{class b{constructor(G){this.router=G,this.headlineObservable=new ct.X("Dancing Moves")}navigate(G=[],rt){return this.router.navigate(G,rt?{queryParams:rt,queryParamsHandling:"merge"}:{queryParamsHandling:"merge"})}openWebsiteIfEasterEggFound(G){const rt=null==G?void 0:G.toLocaleLowerCase().replace(/\s/g,"").replace(/-/g,"");console.log(rt),"supersecretmoves"===rt?document.location.href="https://www.super-secret-moves.com/":"tanzstudioschlegl"===rt&&(document.location.href="https://tanzstudio-schlegl.de/")}}return b.\u0275fac=function(G){return new(G||b)(f.LFG(J.F0))},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})()},9098:(Ee,Q,ut)=>{"use strict";ut.d(Q,{g:()=>Yu});var ct=ut(8239);class f{static create(...be){return new this(...be)}mixIn(be){return Object.assign(this,be)}clone(){const be=new this.constructor;return Object.assign(be,this),be}}class J extends f{constructor(be=[],Ie=4*be.length){super();let Be=be;if(Be instanceof ArrayBuffer&&(Be=new Uint8Array(Be)),(Be instanceof Int8Array||Be instanceof Uint8ClampedArray||Be instanceof Int16Array||Be instanceof Uint16Array||Be instanceof Int32Array||Be instanceof Uint32Array||Be instanceof Float32Array||Be instanceof Float64Array)&&(Be=new Uint8Array(Be.buffer,Be.byteOffset,Be.byteLength)),Be instanceof Uint8Array){const Qe=Be.byteLength,hi=[];for(let qi=0;qi<Qe;qi+=1)hi[qi>>>2]|=Be[qi]<<24-qi%4*8;this.words=hi,this.sigBytes=Qe}else this.words=be,this.sigBytes=Ie}static random(be){const Ie=[],Be=Qe=>{let hi=Qe,qi=987654321;const an=4294967295;return()=>{qi=36969*(65535&qi)+(qi>>16)&an,hi=18e3*(65535&hi)+(hi>>16)&an;let nn=(qi<<16)+hi&an;return nn/=4294967296,nn+=.5,nn*(Math.random()>.5?1:-1)}};for(let hi,Qe=0;Qe<be;Qe+=4){const qi=Be(4294967296*(hi||Math.random()));hi=987654071*qi(),Ie.push(4294967296*qi()|0)}return new J(Ie,be)}toString(be=tt){return be.stringify(this)}concat(be){const Ie=this.words,Be=be.words,Qe=this.sigBytes,hi=be.sigBytes;if(this.clamp(),Qe%4)for(let qi=0;qi<hi;qi+=1)Ie[Qe+qi>>>2]|=(Be[qi>>>2]>>>24-qi%4*8&255)<<24-(Qe+qi)%4*8;else for(let qi=0;qi<hi;qi+=4)Ie[Qe+qi>>>2]=Be[qi>>>2];return this.sigBytes+=hi,this}clamp(){const{words:be,sigBytes:Ie}=this;be[Ie>>>2]&=4294967295<<32-Ie%4*8,be.length=Math.ceil(Ie/4)}clone(){const be=super.clone.call(this);return be.words=this.words.slice(0),be}}const tt={stringify(_i){const{words:be,sigBytes:Ie}=_i,Be=[];for(let Qe=0;Qe<Ie;Qe+=1){const hi=be[Qe>>>2]>>>24-Qe%4*8&255;Be.push((hi>>>4).toString(16)),Be.push((15&hi).toString(16))}return Be.join("")},parse(_i){const be=_i.length,Ie=[];for(let Be=0;Be<be;Be+=2)Ie[Be>>>3]|=parseInt(_i.substr(Be,2),16)<<24-Be%8*4;return new J(Ie,be/2)}},b={stringify(_i){const{words:be,sigBytes:Ie}=_i,Be=[];for(let Qe=0;Qe<Ie;Qe+=1)Be.push(String.fromCharCode(be[Qe>>>2]>>>24-Qe%4*8&255));return Be.join("")},parse(_i){const be=_i.length,Ie=[];for(let Be=0;Be<be;Be+=1)Ie[Be>>>2]|=(255&_i.charCodeAt(Be))<<24-Be%4*8;return new J(Ie,be)}},W={stringify(_i){try{return decodeURIComponent(escape(b.stringify(_i)))}catch(be){throw new Error("Malformed UTF-8 data")}},parse:_i=>b.parse(unescape(encodeURIComponent(_i)))};class G extends f{constructor(){super(),this._minBufferSize=0}reset(){this._data=new J,this._nDataBytes=0}_append(be){let Ie=be;"string"==typeof Ie&&(Ie=W.parse(Ie)),this._data.concat(Ie),this._nDataBytes+=Ie.sigBytes}_process(be){let Ie;const{_data:Be,blockSize:Qe}=this,hi=Be.words,qi=Be.sigBytes;let nn=qi/(4*Qe);nn=be?Math.ceil(nn):Math.max((0|nn)-this._minBufferSize,0);const Dn=nn*Qe,Pn=Math.min(4*Dn,qi);if(Dn){for(let lr=0;lr<Dn;lr+=Qe)this._doProcessBlock(hi,lr);Ie=hi.splice(0,Dn),Be.sigBytes-=Pn}return new J(Ie,Pn)}clone(){const be=super.clone.call(this);return be._data=this._data.clone(),be}}class rt extends G{constructor(be){super(),this.blockSize=16,this.cfg=Object.assign(new f,be),this.reset()}static _createHelper(be){return(Ie,Be)=>new be(Be).finalize(Ie)}static _createHmacHelper(be){return(Ie,Be)=>new Z(be,Be).finalize(Ie)}reset(){super.reset.call(this),this._doReset()}update(be){return this._append(be),this._process(),this}finalize(be){return be&&this._append(be),this._doFinalize()}}class Z extends f{constructor(be,Ie){super();const Be=new be;this._hasher=Be;let Qe=Ie;"string"==typeof Qe&&(Qe=W.parse(Qe));const hi=Be.blockSize,qi=4*hi;Qe.sigBytes>qi&&(Qe=Be.finalize(Ie)),Qe.clamp();const an=Qe.clone();this._oKey=an;const nn=Qe.clone();this._iKey=nn;const Dn=an.words,Pn=nn.words;for(let lr=0;lr<hi;lr+=1)Dn[lr]^=1549556828,Pn[lr]^=909522486;an.sigBytes=qi,nn.sigBytes=qi,this.reset()}reset(){const be=this._hasher;be.reset(),be.update(this._iKey)}update(be){return this._hasher.update(be),this}finalize(be){const Ie=this._hasher,Be=Ie.finalize(be);return Ie.reset(),Ie.finalize(this._oKey.clone().concat(Be))}}const H=J;class F extends f{constructor(be,Ie){super(),this.high=be,this.low=Ie}}class et extends f{constructor(be=[],Ie=8*be.length){super(),this.words=be,this.sigBytes=Ie}toX32(){const be=this.words,Ie=be.length,Be=[];for(let Qe=0;Qe<Ie;Qe+=1){const hi=be[Qe];Be.push(hi.high),Be.push(hi.low)}return H.create(Be,this.sigBytes)}clone(){const be=super.clone.call(this);be.words=this.words.slice(0);const{words:Ie}=be,Be=Ie.length;for(let Qe=0;Qe<Be;Qe+=1)Ie[Qe]=Ie[Qe].clone();return be}}const X={stringify(_i){const{words:be,sigBytes:Ie}=_i,Be=this._map;_i.clamp();const Qe=[];for(let qi=0;qi<Ie;qi+=3){const Pn=(be[qi>>>2]>>>24-qi%4*8&255)<<16|(be[qi+1>>>2]>>>24-(qi+1)%4*8&255)<<8|be[qi+2>>>2]>>>24-(qi+2)%4*8&255;for(let lr=0;lr<4&&qi+.75*lr<Ie;lr+=1)Qe.push(Be.charAt(Pn>>>6*(3-lr)&63))}const hi=Be.charAt(64);if(hi)for(;Qe.length%4;)Qe.push(hi);return Qe.join("")},parse(_i){let be=_i.length;const Ie=this._map;let Be=this._reverseMap;if(!Be){this._reverseMap=[],Be=this._reverseMap;for(let hi=0;hi<Ie.length;hi+=1)Be[Ie.charCodeAt(hi)]=hi}const Qe=Ie.charAt(64);if(Qe){const hi=_i.indexOf(Qe);-1!==hi&&(be=hi)}return((_i,be,Ie)=>{const Be=[];let Qe=0;for(let hi=0;hi<be;hi+=1)if(hi%4){const qi=Ie[_i.charCodeAt(hi-1)]<<hi%4*2,an=Ie[_i.charCodeAt(hi)]>>>6-hi%4*2;Be[Qe>>>2]|=(qi|an)<<24-Qe%4*8,Qe+=1}return J.create(Be,Qe)})(_i,be,Be)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},z=[];for(let _i=0;_i<64;_i+=1)z[_i]=4294967296*Math.abs(Math.sin(_i+1))|0;const Y=(_i,be,Ie,Be,Qe,hi,qi)=>{const an=_i+(be&Ie|~be&Be)+Qe+qi;return(an<<hi|an>>>32-hi)+be},q=(_i,be,Ie,Be,Qe,hi,qi)=>{const an=_i+(be&Be|Ie&~Be)+Qe+qi;return(an<<hi|an>>>32-hi)+be},U=(_i,be,Ie,Be,Qe,hi,qi)=>{const an=_i+(be^Ie^Be)+Qe+qi;return(an<<hi|an>>>32-hi)+be},it=(_i,be,Ie,Be,Qe,hi,qi)=>{const an=_i+(Ie^(be|~Be))+Qe+qi;return(an<<hi|an>>>32-hi)+be};class ot extends rt{_doReset(){this._hash=new J([1732584193,4023233417,2562383102,271733878])}_doProcessBlock(be,Ie){const Be=be;for(let vr=0;vr<16;vr+=1){const Qo=Ie+vr,zn=be[Qo];Be[Qo]=16711935&(zn<<8|zn>>>24)|4278255360&(zn<<24|zn>>>8)}const Qe=this._hash.words,hi=Be[Ie+0],qi=Be[Ie+1],an=Be[Ie+2],nn=Be[Ie+3],Dn=Be[Ie+4],Pn=Be[Ie+5],lr=Be[Ie+6],ie=Be[Ie+7],Le=Be[Ie+8],me=Be[Ie+9],Ve=Be[Ie+10],vi=Be[Ie+11],yi=Be[Ie+12],An=Be[Ie+13],On=Be[Ie+14],Cr=Be[Ie+15];let rn=Qe[0],gn=Qe[1],wn=Qe[2],Mn=Qe[3];rn=Y(rn,gn,wn,Mn,hi,7,z[0]),Mn=Y(Mn,rn,gn,wn,qi,12,z[1]),wn=Y(wn,Mn,rn,gn,an,17,z[2]),gn=Y(gn,wn,Mn,rn,nn,22,z[3]),rn=Y(rn,gn,wn,Mn,Dn,7,z[4]),Mn=Y(Mn,rn,gn,wn,Pn,12,z[5]),wn=Y(wn,Mn,rn,gn,lr,17,z[6]),gn=Y(gn,wn,Mn,rn,ie,22,z[7]),rn=Y(rn,gn,wn,Mn,Le,7,z[8]),Mn=Y(Mn,rn,gn,wn,me,12,z[9]),wn=Y(wn,Mn,rn,gn,Ve,17,z[10]),gn=Y(gn,wn,Mn,rn,vi,22,z[11]),rn=Y(rn,gn,wn,Mn,yi,7,z[12]),Mn=Y(Mn,rn,gn,wn,An,12,z[13]),wn=Y(wn,Mn,rn,gn,On,17,z[14]),gn=Y(gn,wn,Mn,rn,Cr,22,z[15]),rn=q(rn,gn,wn,Mn,qi,5,z[16]),Mn=q(Mn,rn,gn,wn,lr,9,z[17]),wn=q(wn,Mn,rn,gn,vi,14,z[18]),gn=q(gn,wn,Mn,rn,hi,20,z[19]),rn=q(rn,gn,wn,Mn,Pn,5,z[20]),Mn=q(Mn,rn,gn,wn,Ve,9,z[21]),wn=q(wn,Mn,rn,gn,Cr,14,z[22]),gn=q(gn,wn,Mn,rn,Dn,20,z[23]),rn=q(rn,gn,wn,Mn,me,5,z[24]),Mn=q(Mn,rn,gn,wn,On,9,z[25]),wn=q(wn,Mn,rn,gn,nn,14,z[26]),gn=q(gn,wn,Mn,rn,Le,20,z[27]),rn=q(rn,gn,wn,Mn,An,5,z[28]),Mn=q(Mn,rn,gn,wn,an,9,z[29]),wn=q(wn,Mn,rn,gn,ie,14,z[30]),gn=q(gn,wn,Mn,rn,yi,20,z[31]),rn=U(rn,gn,wn,Mn,Pn,4,z[32]),Mn=U(Mn,rn,gn,wn,Le,11,z[33]),wn=U(wn,Mn,rn,gn,vi,16,z[34]),gn=U(gn,wn,Mn,rn,On,23,z[35]),rn=U(rn,gn,wn,Mn,qi,4,z[36]),Mn=U(Mn,rn,gn,wn,Dn,11,z[37]),wn=U(wn,Mn,rn,gn,ie,16,z[38]),gn=U(gn,wn,Mn,rn,Ve,23,z[39]),rn=U(rn,gn,wn,Mn,An,4,z[40]),Mn=U(Mn,rn,gn,wn,hi,11,z[41]),wn=U(wn,Mn,rn,gn,nn,16,z[42]),gn=U(gn,wn,Mn,rn,lr,23,z[43]),rn=U(rn,gn,wn,Mn,me,4,z[44]),Mn=U(Mn,rn,gn,wn,yi,11,z[45]),wn=U(wn,Mn,rn,gn,Cr,16,z[46]),gn=U(gn,wn,Mn,rn,an,23,z[47]),rn=it(rn,gn,wn,Mn,hi,6,z[48]),Mn=it(Mn,rn,gn,wn,ie,10,z[49]),wn=it(wn,Mn,rn,gn,On,15,z[50]),gn=it(gn,wn,Mn,rn,Pn,21,z[51]),rn=it(rn,gn,wn,Mn,yi,6,z[52]),Mn=it(Mn,rn,gn,wn,nn,10,z[53]),wn=it(wn,Mn,rn,gn,Ve,15,z[54]),gn=it(gn,wn,Mn,rn,qi,21,z[55]),rn=it(rn,gn,wn,Mn,Le,6,z[56]),Mn=it(Mn,rn,gn,wn,Cr,10,z[57]),wn=it(wn,Mn,rn,gn,lr,15,z[58]),gn=it(gn,wn,Mn,rn,An,21,z[59]),rn=it(rn,gn,wn,Mn,Dn,6,z[60]),Mn=it(Mn,rn,gn,wn,vi,10,z[61]),wn=it(wn,Mn,rn,gn,an,15,z[62]),gn=it(gn,wn,Mn,rn,me,21,z[63]),Qe[0]=Qe[0]+rn|0,Qe[1]=Qe[1]+gn|0,Qe[2]=Qe[2]+wn|0,Qe[3]=Qe[3]+Mn|0}_doFinalize(){const be=this._data,Ie=be.words,Be=8*this._nDataBytes,Qe=8*be.sigBytes;Ie[Qe>>>5]|=128<<24-Qe%32;const hi=Math.floor(Be/4294967296),qi=Be;Ie[15+(Qe+64>>>9<<4)]=16711935&(hi<<8|hi>>>24)|4278255360&(hi<<24|hi>>>8),Ie[14+(Qe+64>>>9<<4)]=16711935&(qi<<8|qi>>>24)|4278255360&(qi<<24|qi>>>8),be.sigBytes=4*(Ie.length+1),this._process();const an=this._hash,nn=an.words;for(let Dn=0;Dn<4;Dn+=1){const Pn=nn[Dn];nn[Dn]=16711935&(Pn<<8|Pn>>>24)|4278255360&(Pn<<24|Pn>>>8)}return an}clone(){const be=super.clone.call(this);return be._hash=this._hash.clone(),be}}const lt=rt._createHelper(ot),wt=rt._createHmacHelper(ot);class xt extends f{constructor(be){super(),this.cfg=Object.assign(new f,{keySize:4,hasher:ot,iterations:1},be)}compute(be,Ie){let Be;const{cfg:Qe}=this,hi=Qe.hasher.create(),qi=J.create(),an=qi.words,{keySize:nn,iterations:Dn}=Qe;for(;an.length<nn;){Be&&hi.update(Be),Be=hi.update(be).finalize(Ie),hi.reset();for(let Pn=1;Pn<Dn;Pn+=1)Be=hi.finalize(Be),hi.reset();qi.concat(Be)}return qi.sigBytes=4*nn,qi}}let Tt=(()=>{class _i extends G{constructor(Ie,Be,Qe){super(),this.cfg=Object.assign(new f,Qe),this._xformMode=Ie,this._key=Be,this.reset()}static createEncryptor(Ie,Be){return this.create(this._ENC_XFORM_MODE,Ie,Be)}static createDecryptor(Ie,Be){return this.create(this._DEC_XFORM_MODE,Ie,Be)}static _createHelper(Ie){const Be=Qe=>"string"==typeof Qe?h:T;return{encrypt:(Qe,hi,qi)=>Be(hi).encrypt(Ie,Qe,hi,qi),decrypt:(Qe,hi,qi)=>Be(hi).decrypt(Ie,Qe,hi,qi)}}reset(){super.reset.call(this),this._doReset()}process(Ie){return this._append(Ie),this._process()}finalize(Ie){return Ie&&this._append(Ie),this._doFinalize()}}return _i._ENC_XFORM_MODE=1,_i._DEC_XFORM_MODE=2,_i.keySize=4,_i.ivSize=4,_i})();class Et extends Tt{constructor(...be){super(...be),this.blockSize=1}_doFinalize(){return this._process(!0)}}class A extends f{constructor(be,Ie){super(),this._cipher=be,this._iv=Ie}static createEncryptor(be,Ie){return this.Encryptor.create(be,Ie)}static createDecryptor(be,Ie){return this.Decryptor.create(be,Ie)}}function o(_i,be,Ie){const Be=_i;let Qe;const hi=this._iv;hi?(Qe=hi,this._iv=void 0):Qe=this._prevBlock;for(let qi=0;qi<Ie;qi+=1)Be[be+qi]^=Qe[qi]}let c=(()=>{class _i extends A{}return _i.Encryptor=class extends _i{processBlock(be,Ie){const Be=this._cipher,{blockSize:Qe}=Be;o.call(this,be,Ie,Qe),Be.encryptBlock(be,Ie),this._prevBlock=be.slice(Ie,Ie+Qe)}},_i.Decryptor=class extends _i{processBlock(be,Ie){const Be=this._cipher,{blockSize:Qe}=Be,hi=be.slice(Ie,Ie+Qe);Be.decryptBlock(be,Ie),o.call(this,be,Ie,Qe),this._prevBlock=hi}},_i})();const g={pad(_i,be){const Ie=4*be,Be=Ie-_i.sigBytes%Ie,Qe=Be<<24|Be<<16|Be<<8|Be,hi=[];for(let an=0;an<Be;an+=4)hi.push(Qe);const qi=J.create(hi,Be);_i.concat(qi)},unpad(_i){_i.sigBytes-=255&_i.words[_i.sigBytes-1>>>2]}};class p extends Tt{constructor(be,Ie,Be){super(be,Ie,Object.assign({mode:c,padding:g},Be)),this.blockSize=4}reset(){let be;super.reset.call(this);const{cfg:Ie}=this,{iv:Be,mode:Qe}=Ie;this._xformMode===this.constructor._ENC_XFORM_MODE?be=Qe.createEncryptor:(be=Qe.createDecryptor,this._minBufferSize=1),this._mode=be.call(Qe,this,Be&&Be.words),this._mode.__creator=be}_doProcessBlock(be,Ie){this._mode.processBlock(be,Ie)}_doFinalize(){let be;const{padding:Ie}=this.cfg;return this._xformMode===this.constructor._ENC_XFORM_MODE?(Ie.pad(this._data,this.blockSize),be=this._process(!0)):(be=this._process(!0),Ie.unpad(be)),be}}class w extends f{constructor(be){super(),this.mixIn(be)}toString(be){return(be||this.formatter).stringify(this)}}const S={stringify(_i){let be;const{ciphertext:Ie,salt:Be}=_i;return be=Be?J.create([1398893684,1701076831]).concat(Be).concat(Ie):Ie,be.toString(X)},parse(_i){let be;const Ie=X.parse(_i),Be=Ie.words;return 1398893684===Be[0]&&1701076831===Be[1]&&(be=J.create(Be.slice(2,4)),Be.splice(0,4),Ie.sigBytes-=16),w.create({ciphertext:Ie,salt:be})}};class T extends f{static encrypt(be,Ie,Be,Qe){const hi=Object.assign(new f,this.cfg,Qe),qi=be.createEncryptor(Be,hi),an=qi.finalize(Ie),nn=qi.cfg;return w.create({ciphertext:an,key:Be,iv:nn.iv,algorithm:be,mode:nn.mode,padding:nn.padding,blockSize:qi.blockSize,formatter:hi.format})}static decrypt(be,Ie,Be,Qe){let hi=Ie;const qi=Object.assign(new f,this.cfg,Qe);return hi=this._parse(hi,qi.format),be.createDecryptor(Be,qi).finalize(hi.ciphertext)}static _parse(be,Ie){return"string"==typeof be?Ie.parse(be,this):be}}T.cfg=Object.assign(new f,{format:S});const C={execute(_i,be,Ie,Be){let Qe=Be;Qe||(Qe=J.random(8));const hi=xt.create({keySize:be+Ie}).compute(_i,Qe),qi=J.create(hi.words.slice(be),4*Ie);return hi.sigBytes=4*be,w.create({key:hi,iv:qi,salt:Qe})}};class h extends T{static encrypt(be,Ie,Be,Qe){const hi=Object.assign(new f,this.cfg,Qe),qi=hi.kdf.execute(Be,be.keySize,be.ivSize);hi.iv=qi.iv;const an=T.encrypt.call(this,be,Ie,qi.key,hi);return an.mixIn(qi),an}static decrypt(be,Ie,Be,Qe){let hi=Ie;const qi=Object.assign(new f,this.cfg,Qe);hi=this._parse(hi,qi.format);const an=qi.kdf.execute(Be,be.keySize,be.ivSize,hi.salt);return qi.iv=an.iv,T.decrypt.call(this,be,hi,an.key,qi)}}h.cfg=Object.assign(T.cfg,{kdf:C});const k=_i=>_i<<8&4278255360|_i>>>8&16711935,ft={stringify(_i){const{words:be,sigBytes:Ie}=_i,Be=[];for(let Qe=0;Qe<Ie;Qe+=2)Be.push(String.fromCharCode(be[Qe>>>2]>>>16-Qe%4*8&65535));return Be.join("")},parse(_i){const be=_i.length,Ie=[];for(let Be=0;Be<be;Be+=1)Ie[Be>>>1]|=_i.charCodeAt(Be)<<16-Be%2*16;return J.create(Ie,2*be)}},at=ft,st={stringify(_i){const{words:be,sigBytes:Ie}=_i,Be=[];for(let Qe=0;Qe<Ie;Qe+=2){const hi=k(be[Qe>>>2]>>>16-Qe%4*8&65535);Be.push(String.fromCharCode(hi))}return Be.join("")},parse(_i){const be=_i.length,Ie=[];for(let Be=0;Be<be;Be+=1)Ie[Be>>>1]|=k(_i.charCodeAt(Be)<<16-Be%2*16);return J.create(Ie,2*be)}},Mt=[];class St extends rt{_doReset(){this._hash=new J([1732584193,4023233417,2562383102,271733878,3285377520])}_doProcessBlock(be,Ie){const Be=this._hash.words;let Qe=Be[0],hi=Be[1],qi=Be[2],an=Be[3],nn=Be[4];for(let Dn=0;Dn<80;Dn+=1){if(Dn<16)Mt[Dn]=0|be[Ie+Dn];else{const lr=Mt[Dn-3]^Mt[Dn-8]^Mt[Dn-14]^Mt[Dn-16];Mt[Dn]=lr<<1|lr>>>31}let Pn=(Qe<<5|Qe>>>27)+nn+Mt[Dn];Pn+=Dn<20?1518500249+(hi&qi|~hi&an):Dn<40?1859775393+(hi^qi^an):Dn<60?(hi&qi|hi&an|qi&an)-1894007588:(hi^qi^an)-899497514,nn=an,an=qi,qi=hi<<30|hi>>>2,hi=Qe,Qe=Pn}Be[0]=Be[0]+Qe|0,Be[1]=Be[1]+hi|0,Be[2]=Be[2]+qi|0,Be[3]=Be[3]+an|0,Be[4]=Be[4]+nn|0}_doFinalize(){const be=this._data,Ie=be.words,Be=8*this._nDataBytes,Qe=8*be.sigBytes;return Ie[Qe>>>5]|=128<<24-Qe%32,Ie[14+(Qe+64>>>9<<4)]=Math.floor(Be/4294967296),Ie[15+(Qe+64>>>9<<4)]=Be,be.sigBytes=4*Ie.length,this._process(),this._hash}clone(){const be=super.clone.call(this);return be._hash=this._hash.clone(),be}}const Xt=rt._createHelper(St),te=rt._createHmacHelper(St),Vt=[],Dt=[],ve=_i=>{const be=Math.sqrt(_i);for(let Ie=2;Ie<=be;Ie+=1)if(!(_i%Ie))return!1;return!0},Gt=_i=>4294967296*(_i-(0|_i))|0;let Nt=2,Kt=0;for(;Kt<64;)ve(Nt)&&(Kt<8&&(Vt[Kt]=Gt(Nt**.5)),Dt[Kt]=Gt(Nt**(1/3)),Kt+=1),Nt+=1;const fe=[];class zt extends rt{_doReset(){this._hash=new J(Vt.slice(0))}_doProcessBlock(be,Ie){const Be=this._hash.words;let Qe=Be[0],hi=Be[1],qi=Be[2],an=Be[3],nn=Be[4],Dn=Be[5],Pn=Be[6],lr=Be[7];for(let ie=0;ie<64;ie+=1){if(ie<16)fe[ie]=0|be[Ie+ie];else{const On=fe[ie-15],rn=fe[ie-2];fe[ie]=((On<<25|On>>>7)^(On<<14|On>>>18)^On>>>3)+fe[ie-7]+((rn<<15|rn>>>17)^(rn<<13|rn>>>19)^rn>>>10)+fe[ie-16]}const me=Qe&hi^Qe&qi^hi&qi,yi=lr+((nn<<26|nn>>>6)^(nn<<21|nn>>>11)^(nn<<7|nn>>>25))+(nn&Dn^~nn&Pn)+Dt[ie]+fe[ie];lr=Pn,Pn=Dn,Dn=nn,nn=an+yi|0,an=qi,qi=hi,hi=Qe,Qe=yi+(((Qe<<30|Qe>>>2)^(Qe<<19|Qe>>>13)^(Qe<<10|Qe>>>22))+me)|0}Be[0]=Be[0]+Qe|0,Be[1]=Be[1]+hi|0,Be[2]=Be[2]+qi|0,Be[3]=Be[3]+an|0,Be[4]=Be[4]+nn|0,Be[5]=Be[5]+Dn|0,Be[6]=Be[6]+Pn|0,Be[7]=Be[7]+lr|0}_doFinalize(){const be=this._data,Ie=be.words,Be=8*this._nDataBytes,Qe=8*be.sigBytes;return Ie[Qe>>>5]|=128<<24-Qe%32,Ie[14+(Qe+64>>>9<<4)]=Math.floor(Be/4294967296),Ie[15+(Qe+64>>>9<<4)]=Be,be.sigBytes=4*Ie.length,this._process(),this._hash}clone(){const be=super.clone.call(this);return be._hash=this._hash.clone(),be}}const Ne=rt._createHelper(zt),Pt=rt._createHmacHelper(zt);class Se extends zt{_doReset(){this._hash=new J([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])}_doFinalize(){const be=super._doFinalize.call(this);return be.sigBytes-=4,be}}const Fi=zt._createHelper(Se),Ge=zt._createHmacHelper(Se),_e=[new F(1116352408,3609767458),new F(1899447441,602891725),new F(3049323471,3964484399),new F(3921009573,2173295548),new F(961987163,4081628472),new F(1508970993,3053834265),new F(2453635748,2937671579),new F(2870763221,3664609560),new F(3624381080,2734883394),new F(310598401,1164996542),new F(607225278,1323610764),new F(1426881987,3590304994),new F(1925078388,4068182383),new F(2162078206,991336113),new F(2614888103,633803317),new F(3248222580,3479774868),new F(3835390401,2666613458),new F(4022224774,944711139),new F(264347078,2341262773),new F(604807628,2007800933),new F(770255983,1495990901),new F(1249150122,1856431235),new F(1555081692,3175218132),new F(1996064986,2198950837),new F(2554220882,3999719339),new F(2821834349,766784016),new F(2952996808,2566594879),new F(3210313671,3203337956),new F(3336571891,1034457026),new F(3584528711,2466948901),new F(113926993,3758326383),new F(338241895,168717936),new F(666307205,1188179964),new F(773529912,1546045734),new F(1294757372,1522805485),new F(1396182291,2643833823),new F(1695183700,2343527390),new F(1986661051,1014477480),new F(2177026350,1206759142),new F(2456956037,344077627),new F(2730485921,1290863460),new F(2820302411,3158454273),new F(3259730800,3505952657),new F(3345764771,106217008),new F(3516065817,3606008344),new F(3600352804,1432725776),new F(4094571909,1467031594),new F(275423344,851169720),new F(430227734,3100823752),new F(506948616,1363258195),new F(659060556,3750685593),new F(883997877,3785050280),new F(958139571,3318307427),new F(1322822218,3812723403),new F(1537002063,2003034995),new F(1747873779,3602036899),new F(1955562222,1575990012),new F(2024104815,1125592928),new F(2227730452,2716904306),new F(2361852424,442776044),new F(2428436474,593698344),new F(2756734187,3733110249),new F(3204031479,2999351573),new F(3329325298,3815920427),new F(3391569614,3928383900),new F(3515267271,566280711),new F(3940187606,3454069534),new F(4118630271,4000239992),new F(116418474,1914138554),new F(174292421,2731055270),new F(289380356,3203993006),new F(460393269,320620315),new F(685471733,587496836),new F(852142971,1086792851),new F(1017036298,365543100),new F(1126000580,2618297676),new F(1288033470,3409855158),new F(1501505948,4234509866),new F(1607167915,987167468),new F(1816402316,1246189591)],Ce=[];for(let _i=0;_i<80;_i+=1)Ce[_i]=new F;class Bt extends rt{constructor(){super(),this.blockSize=32}_doReset(){this._hash=new et([new F(1779033703,4089235720),new F(3144134277,2227873595),new F(1013904242,4271175723),new F(2773480762,1595750129),new F(1359893119,2917565137),new F(2600822924,725511199),new F(528734635,4215389547),new F(1541459225,327033209)])}_doProcessBlock(be,Ie){const Be=this._hash.words,Qe=Be[0],hi=Be[1],qi=Be[2],an=Be[3],nn=Be[4],Dn=Be[5],Pn=Be[6],lr=Be[7],ie=Qe.high;let Le=Qe.low;const me=hi.high;let Ve=hi.low;const vi=qi.high;let yi=qi.low;const An=an.high;let On=an.low;const Cr=nn.high;let rn=nn.low;const gn=Dn.high;let wn=Dn.low;const Mn=Pn.high;let vr=Pn.low;const Qo=lr.high;let zn=lr.low,Ls=ie,jr=Le,vl=me,ka=Ve,Ja=vi,Qa=yi,Ac=An,Yn=On,no=Cr,Jr=rn,Ss=gn,Us=wn,to=Mn,Fe=vr,It=Qo,Lt=zn;for(let ae=0;ae<80;ae+=1){let Ue,li;const Vi=Ce[ae];if(ae<16)Vi.high=0|be[Ie+2*ae],li=Vi.high,Vi.low=0|be[Ie+2*ae+1],Ue=Vi.low;else{const ws=Ce[ae-15],Gn=ws.high,Es=ws.low,_s=(Es>>>1|Gn<<31)^(Es>>>8|Gn<<24)^(Es>>>7|Gn<<25),bo=Ce[ae-2],Ds=bo.high,qn=bo.low,Po=(qn>>>19|Ds<<13)^(qn<<3|Ds>>>29)^(qn>>>6|Ds<<26),ur=Ce[ae-7],kr=Ce[ae-16],na=kr.low;Ue=_s+ur.low,li=((Gn>>>1|Es<<31)^(Gn>>>8|Es<<24)^Gn>>>7)+ur.high+(Ue>>>0<_s>>>0?1:0),Ue+=Po,li=li+((Ds>>>19|qn<<13)^(Ds<<3|qn>>>29)^Ds>>>6)+(Ue>>>0<Po>>>0?1:0),Ue+=na,li=li+kr.high+(Ue>>>0<na>>>0?1:0),Vi.high=li,Vi.low=Ue}const cn=Jr&Us^~Jr&Fe,Fn=Ls&vl^Ls&Ja^vl&Ja,Mr=(Ls>>>28|jr<<4)^(Ls<<30|jr>>>2)^(Ls<<25|jr>>>7),uo=(jr>>>28|Ls<<4)^(jr<<30|Ls>>>2)^(jr<<25|Ls>>>7),eo=_e[ae],Co=eo.low;let Or=Lt+((Jr>>>14|no<<18)^(Jr>>>18|no<<14)^(Jr<<23|no>>>9)),ro=It+((no>>>14|Jr<<18)^(no>>>18|Jr<<14)^(no<<23|Jr>>>9))+(Or>>>0<Lt>>>0?1:0);Or+=cn,ro=ro+(no&Ss^~no&to)+(Or>>>0<cn>>>0?1:0),Or+=Co,ro=ro+eo.high+(Or>>>0<Co>>>0?1:0),Or+=Ue,ro=ro+li+(Or>>>0<Ue>>>0?1:0);const To=uo+(jr&ka^jr&Qa^ka&Qa);It=to,Lt=Fe,to=Ss,Fe=Us,Ss=no,Us=Jr,Jr=Yn+Or|0,no=Ac+ro+(Jr>>>0<Yn>>>0?1:0)|0,Ac=Ja,Yn=Qa,Ja=vl,Qa=ka,vl=Ls,ka=jr,jr=Or+To|0,Ls=ro+(Mr+Fn+(To>>>0<uo>>>0?1:0))+(jr>>>0<Or>>>0?1:0)|0}Qe.low=Le+jr,Le=Qe.low,Qe.high=ie+Ls+(Le>>>0<jr>>>0?1:0),hi.low=Ve+ka,Ve=hi.low,hi.high=me+vl+(Ve>>>0<ka>>>0?1:0),qi.low=yi+Qa,yi=qi.low,qi.high=vi+Ja+(yi>>>0<Qa>>>0?1:0),an.low=On+Yn,On=an.low,an.high=An+Ac+(On>>>0<Yn>>>0?1:0),nn.low=rn+Jr,rn=nn.low,nn.high=Cr+no+(rn>>>0<Jr>>>0?1:0),Dn.low=wn+Us,wn=Dn.low,Dn.high=gn+Ss+(wn>>>0<Us>>>0?1:0),Pn.low=vr+Fe,vr=Pn.low,Pn.high=Mn+to+(vr>>>0<Fe>>>0?1:0),lr.low=zn+Lt,zn=lr.low,lr.high=Qo+It+(zn>>>0<Lt>>>0?1:0)}_doFinalize(){const be=this._data,Ie=be.words,Be=8*this._nDataBytes,Qe=8*be.sigBytes;return Ie[Qe>>>5]|=128<<24-Qe%32,Ie[30+(Qe+128>>>10<<5)]=Math.floor(Be/4294967296),Ie[31+(Qe+128>>>10<<5)]=Be,be.sigBytes=4*Ie.length,this._process(),this._hash.toX32()}clone(){const be=super.clone.call(this);return be._hash=this._hash.clone(),be}}const re=rt._createHelper(Bt),Ye=rt._createHmacHelper(Bt);class jt extends Bt{_doReset(){this._hash=new et([new F(3418070365,3238371032),new F(1654270250,914150663),new F(2438529370,812702999),new F(355462360,4144912697),new F(1731405415,4290775857),new F(2394180231,1750603025),new F(3675008525,1694076839),new F(1203062813,3204075428)])}_doFinalize(){const be=super._doFinalize.call(this);return be.sigBytes-=16,be}}const yt=Bt._createHelper(jt),ht=Bt._createHmacHelper(jt),ce=[],ke=[],Pi=[];let We=1,si=0;for(let _i=0;_i<24;_i+=1){ce[We+5*si]=(_i+1)*(_i+2)/2%64;const Ie=(2*We+3*si)%5;We=si%5,si=Ie}for(let _i=0;_i<5;_i+=1)for(let be=0;be<5;be+=1)ke[_i+5*be]=be+(2*_i+3*be)%5*5;let bn=1;for(let _i=0;_i<24;_i+=1){let be=0,Ie=0;for(let Be=0;Be<7;Be+=1){if(1&bn){const Qe=(1<<Be)-1;Qe<32?Ie^=1<<Qe:be^=1<<Qe-32}128&bn?bn=bn<<1^113:bn<<=1}Pi[_i]=F.create(be,Ie)}const wi=[];for(let _i=0;_i<25;_i+=1)wi[_i]=F.create();class je extends rt{constructor(be){super(Object.assign({outputLength:512},be))}_doReset(){this._state=[];const be=this._state;for(let Ie=0;Ie<25;Ie+=1)be[Ie]=new F;this.blockSize=(1600-2*this.cfg.outputLength)/32}_doProcessBlock(be,Ie){const Be=this._state,Qe=this.blockSize/2;for(let hi=0;hi<Qe;hi+=1){let qi=be[Ie+2*hi],an=be[Ie+2*hi+1];qi=16711935&(qi<<8|qi>>>24)|4278255360&(qi<<24|qi>>>8),an=16711935&(an<<8|an>>>24)|4278255360&(an<<24|an>>>8);const nn=Be[hi];nn.high^=an,nn.low^=qi}for(let hi=0;hi<24;hi+=1){for(let Pn=0;Pn<5;Pn+=1){let lr=0,ie=0;for(let me=0;me<5;me+=1){const Ve=Be[Pn+5*me];lr^=Ve.high,ie^=Ve.low}const Le=wi[Pn];Le.high=lr,Le.low=ie}for(let Pn=0;Pn<5;Pn+=1){const lr=wi[(Pn+4)%5],ie=wi[(Pn+1)%5],Le=ie.high,me=ie.low,Ve=lr.high^(Le<<1|me>>>31),vi=lr.low^(me<<1|Le>>>31);for(let yi=0;yi<5;yi+=1){const An=Be[Pn+5*yi];An.high^=Ve,An.low^=vi}}for(let Pn=1;Pn<25;Pn+=1){let lr,ie;const Le=Be[Pn],me=Le.high,Ve=Le.low,vi=ce[Pn];vi<32?(lr=me<<vi|Ve>>>32-vi,ie=Ve<<vi|me>>>32-vi):(lr=Ve<<vi-32|me>>>64-vi,ie=me<<vi-32|Ve>>>64-vi);const yi=wi[ke[Pn]];yi.high=lr,yi.low=ie}const qi=wi[0],an=Be[0];qi.high=an.high,qi.low=an.low;for(let Pn=0;Pn<5;Pn+=1)for(let lr=0;lr<5;lr+=1){const ie=Pn+5*lr,Le=Be[ie],me=wi[ie],Ve=wi[(Pn+1)%5+5*lr],vi=wi[(Pn+2)%5+5*lr];Le.high=me.high^~Ve.high&vi.high,Le.low=me.low^~Ve.low&vi.low}const nn=Be[0],Dn=Pi[hi];nn.high^=Dn.high,nn.low^=Dn.low}}_doFinalize(){const be=this._data,Ie=be.words,Be=8*be.sigBytes,Qe=32*this.blockSize;Ie[Be>>>5]|=1<<24-Be%32,Ie[(Math.ceil((Be+1)/Qe)*Qe>>>5)-1]|=128,be.sigBytes=4*Ie.length,this._process();const hi=this._state,qi=this.cfg.outputLength/8,an=qi/8,nn=[];for(let Dn=0;Dn<an;Dn+=1){const Pn=hi[Dn];let lr=Pn.high,ie=Pn.low;lr=16711935&(lr<<8|lr>>>24)|4278255360&(lr<<24|lr>>>8),ie=16711935&(ie<<8|ie>>>24)|4278255360&(ie<<24|ie>>>8),nn.push(ie),nn.push(lr)}return new J(nn,qi)}clone(){const be=super.clone.call(this);be._state=this._state.slice(0);const Ie=be._state;for(let Be=0;Be<25;Be+=1)Ie[Be]=Ie[Be].clone();return be}}const ci=rt._createHelper(je),Oe=rt._createHmacHelper(je),oi=J.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),Vn=J.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),ei=J.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),De=J.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),qe=J.create([0,1518500249,1859775393,2400959708,2840853838]),ni=J.create([1352829926,1548603684,1836072691,2053994217,0]),ne=(_i,be,Ie)=>_i^be^Ie,Qt=(_i,be,Ie)=>_i&be|~_i&Ie,Zt=(_i,be,Ie)=>(_i|~be)^Ie,Ut=(_i,be,Ie)=>_i&Ie|be&~Ie,xe=(_i,be,Ie)=>_i^(be|~Ie),ue=(_i,be)=>_i<<be|_i>>>32-be;class Re extends rt{_doReset(){this._hash=J.create([1732584193,4023233417,2562383102,271733878,3285377520])}_doProcessBlock(be,Ie){const Be=be;for(let gn=0;gn<16;gn+=1){const wn=Ie+gn,Mn=Be[wn];Be[wn]=16711935&(Mn<<8|Mn>>>24)|4278255360&(Mn<<24|Mn>>>8)}const Qe=this._hash.words,hi=qe.words,qi=ni.words,an=oi.words,nn=Vn.words,Dn=ei.words,Pn=De.words;let rn,lr=Qe[0],ie=Qe[1],Le=Qe[2],me=Qe[3],Ve=Qe[4],vi=Qe[0],yi=Qe[1],An=Qe[2],On=Qe[3],Cr=Qe[4];for(let gn=0;gn<80;gn+=1)rn=lr+Be[Ie+an[gn]]|0,rn+=gn<16?ne(ie,Le,me)+hi[0]:gn<32?Qt(ie,Le,me)+hi[1]:gn<48?Zt(ie,Le,me)+hi[2]:gn<64?Ut(ie,Le,me)+hi[3]:xe(ie,Le,me)+hi[4],rn|=0,rn=ue(rn,Dn[gn]),rn=rn+Ve|0,lr=Ve,Ve=me,me=ue(Le,10),Le=ie,ie=rn,rn=vi+Be[Ie+nn[gn]]|0,rn+=gn<16?xe(yi,An,On)+qi[0]:gn<32?Ut(yi,An,On)+qi[1]:gn<48?Zt(yi,An,On)+qi[2]:gn<64?Qt(yi,An,On)+qi[3]:ne(yi,An,On)+qi[4],rn|=0,rn=ue(rn,Pn[gn]),rn=rn+Cr|0,vi=Cr,Cr=On,On=ue(An,10),An=yi,yi=rn;rn=Qe[1]+Le+On|0,Qe[1]=Qe[2]+me+Cr|0,Qe[2]=Qe[3]+Ve+vi|0,Qe[3]=Qe[4]+lr+yi|0,Qe[4]=Qe[0]+ie+An|0,Qe[0]=rn}_doFinalize(){const be=this._data,Ie=be.words,Be=8*this._nDataBytes,Qe=8*be.sigBytes;Ie[Qe>>>5]|=128<<24-Qe%32,Ie[14+(Qe+64>>>9<<4)]=16711935&(Be<<8|Be>>>24)|4278255360&(Be<<24|Be>>>8),be.sigBytes=4*(Ie.length+1),this._process();const hi=this._hash,qi=hi.words;for(let an=0;an<5;an+=1){const nn=qi[an];qi[an]=16711935&(nn<<8|nn>>>24)|4278255360&(nn<<24|nn>>>8)}return hi}clone(){const be=super.clone.call(this);return be._hash=this._hash.clone(),be}}const pi=rt._createHelper(Re),he=rt._createHmacHelper(Re);class $e extends f{constructor(be){super(),this.cfg=Object.assign(new f,{keySize:4,hasher:St,iterations:1},be)}compute(be,Ie){const{cfg:Be}=this,Qe=Z.create(Be.hasher,be),hi=J.create(),qi=J.create([1]),an=hi.words,nn=qi.words,{keySize:Dn,iterations:Pn}=Be;for(;an.length<Dn;){const lr=Qe.update(Ie).finalize(qi);Qe.reset();const ie=lr.words,Le=ie.length;let me=lr;for(let Ve=1;Ve<Pn;Ve+=1){me=Qe.finalize(me),Qe.reset();const vi=me.words;for(let yi=0;yi<Le;yi+=1)ie[yi]^=vi[yi]}hi.concat(lr),nn[0]+=1}return hi.sigBytes=4*Dn,hi}}const Ei=[],zi=[],ir=[],bi=[],Li=[],Ln=[],Kn=[],pr=[],Jn=[],Ni=[],xi=[];for(let _i=0;_i<256;_i+=1)xi[_i]=_i<128?_i<<1:_i<<1^283;let Je=0,Ui=0;for(let _i=0;_i<256;_i+=1){let be=Ui^Ui<<1^Ui<<2^Ui<<3^Ui<<4;be=be>>>8^255&be^99,Ei[Je]=be,zi[be]=Je;const Ie=xi[Je],Be=xi[Ie],Qe=xi[Be];let hi=257*xi[be]^16843008*be;ir[Je]=hi<<24|hi>>>8,bi[Je]=hi<<16|hi>>>16,Li[Je]=hi<<8|hi>>>24,Ln[Je]=hi,hi=16843009*Qe^65537*Be^257*Ie^16843008*Je,Kn[be]=hi<<24|hi>>>8,pr[be]=hi<<16|hi>>>16,Jn[be]=hi<<8|hi>>>24,Ni[be]=hi,Je?(Je=Ie^xi[xi[xi[Qe^Ie]]],Ui^=xi[xi[Ui]]):(Ui=1,Je=Ui)}const on=[0,1,2,4,8,16,32,64,128,27,54];let nr=(()=>{class _i extends p{_doReset(){let Ie;if(this._nRounds&&this._keyPriorReset===this._key)return;this._keyPriorReset=this._key;const Be=this._keyPriorReset,Qe=Be.words,hi=Be.sigBytes/4;this._nRounds=hi+6;const an=4*(this._nRounds+1);this._keySchedule=[];const nn=this._keySchedule;for(let Pn=0;Pn<an;Pn+=1)Pn<hi?nn[Pn]=Qe[Pn]:(Ie=nn[Pn-1],Pn%hi?hi>6&&Pn%hi==4&&(Ie=Ei[Ie>>>24]<<24|Ei[Ie>>>16&255]<<16|Ei[Ie>>>8&255]<<8|Ei[255&Ie]):(Ie=Ie<<8|Ie>>>24,Ie=Ei[Ie>>>24]<<24|Ei[Ie>>>16&255]<<16|Ei[Ie>>>8&255]<<8|Ei[255&Ie],Ie^=on[Pn/hi|0]<<24),nn[Pn]=nn[Pn-hi]^Ie);this._invKeySchedule=[];const Dn=this._invKeySchedule;for(let Pn=0;Pn<an;Pn+=1){const lr=an-Pn;Ie=Pn%4?nn[lr]:nn[lr-4],Dn[Pn]=Pn<4||lr<=4?Ie:Kn[Ei[Ie>>>24]]^pr[Ei[Ie>>>16&255]]^Jn[Ei[Ie>>>8&255]]^Ni[Ei[255&Ie]]}}encryptBlock(Ie,Be){this._doCryptBlock(Ie,Be,this._keySchedule,ir,bi,Li,Ln,Ei)}decryptBlock(Ie,Be){const Qe=Ie;let hi=Qe[Be+1];Qe[Be+1]=Qe[Be+3],Qe[Be+3]=hi,this._doCryptBlock(Qe,Be,this._invKeySchedule,Kn,pr,Jn,Ni,zi),hi=Qe[Be+1],Qe[Be+1]=Qe[Be+3],Qe[Be+3]=hi}_doCryptBlock(Ie,Be,Qe,hi,qi,an,nn,Dn){const Pn=Ie,lr=this._nRounds;let ie=Pn[Be]^Qe[0],Le=Pn[Be+1]^Qe[1],me=Pn[Be+2]^Qe[2],Ve=Pn[Be+3]^Qe[3],vi=4;for(let rn=1;rn<lr;rn+=1){const gn=hi[ie>>>24]^qi[Le>>>16&255]^an[me>>>8&255]^nn[255&Ve]^Qe[vi];vi+=1;const wn=hi[Le>>>24]^qi[me>>>16&255]^an[Ve>>>8&255]^nn[255&ie]^Qe[vi];vi+=1;const Mn=hi[me>>>24]^qi[Ve>>>16&255]^an[ie>>>8&255]^nn[255&Le]^Qe[vi];vi+=1;const vr=hi[Ve>>>24]^qi[ie>>>16&255]^an[Le>>>8&255]^nn[255&me]^Qe[vi];vi+=1,ie=gn,Le=wn,me=Mn,Ve=vr}const yi=(Dn[ie>>>24]<<24|Dn[Le>>>16&255]<<16|Dn[me>>>8&255]<<8|Dn[255&Ve])^Qe[vi];vi+=1;const An=(Dn[Le>>>24]<<24|Dn[me>>>16&255]<<16|Dn[Ve>>>8&255]<<8|Dn[255&ie])^Qe[vi];vi+=1;const On=(Dn[me>>>24]<<24|Dn[Ve>>>16&255]<<16|Dn[ie>>>8&255]<<8|Dn[255&Le])^Qe[vi];vi+=1;const Cr=(Dn[Ve>>>24]<<24|Dn[ie>>>16&255]<<16|Dn[Le>>>8&255]<<8|Dn[255&me])^Qe[vi];vi+=1,Pn[Be]=yi,Pn[Be+1]=An,Pn[Be+2]=On,Pn[Be+3]=Cr}}return _i.keySize=8,_i})();const mr=p._createHelper(nr),Ar=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],hn=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],xr=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],Hr=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],so=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679];function Vr(_i,be){const Ie=(this._lBlock>>>_i^this._rBlock)&be;this._rBlock^=Ie,this._lBlock^=Ie<<_i}function Pr(_i,be){const Ie=(this._rBlock>>>_i^this._lBlock)&be;this._lBlock^=Ie,this._rBlock^=Ie<<_i}let ar=(()=>{class _i extends p{_doReset(){const Be=this._key.words,Qe=[];for(let an=0;an<56;an+=1){const nn=Ar[an]-1;Qe[an]=Be[nn>>>5]>>>31-nn%32&1}this._subKeys=[];const hi=this._subKeys;for(let an=0;an<16;an+=1){hi[an]=[];const nn=hi[an],Dn=xr[an];for(let Pn=0;Pn<24;Pn+=1)nn[Pn/6|0]|=Qe[(hn[Pn]-1+Dn)%28]<<31-Pn%6,nn[4+(Pn/6|0)]|=Qe[28+(hn[Pn+24]-1+Dn)%28]<<31-Pn%6;nn[0]=nn[0]<<1|nn[0]>>>31;for(let Pn=1;Pn<7;Pn+=1)nn[Pn]>>>=4*(Pn-1)+3;nn[7]=nn[7]<<5|nn[7]>>>27}this._invSubKeys=[];const qi=this._invSubKeys;for(let an=0;an<16;an+=1)qi[an]=hi[15-an]}encryptBlock(Ie,Be){this._doCryptBlock(Ie,Be,this._subKeys)}decryptBlock(Ie,Be){this._doCryptBlock(Ie,Be,this._invSubKeys)}_doCryptBlock(Ie,Be,Qe){const hi=Ie;this._lBlock=Ie[Be],this._rBlock=Ie[Be+1],Vr.call(this,4,252645135),Vr.call(this,16,65535),Pr.call(this,2,858993459),Pr.call(this,8,16711935),Vr.call(this,1,1431655765);for(let an=0;an<16;an+=1){const nn=Qe[an],Dn=this._lBlock,Pn=this._rBlock;let lr=0;for(let ie=0;ie<8;ie+=1)lr|=Hr[ie][((Pn^nn[ie])&so[ie])>>>0];this._lBlock=Pn,this._rBlock=Dn^lr}const qi=this._lBlock;this._lBlock=this._rBlock,this._rBlock=qi,Vr.call(this,1,1431655765),Pr.call(this,8,16711935),Pr.call(this,2,858993459),Vr.call(this,16,65535),Vr.call(this,4,252645135),hi[Be]=this._lBlock,hi[Be+1]=this._rBlock}}return _i.keySize=2,_i.ivSize=2,_i.blockSize=2,_i})();const Vs=p._createHelper(ar);let qs=(()=>{class _i extends p{_doReset(){const Be=this._key.words;if(2!==Be.length&&4!==Be.length&&Be.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");const Qe=Be.slice(0,2),hi=Be.length<4?Be.slice(0,2):Be.slice(2,4),qi=Be.length<6?Be.slice(0,2):Be.slice(4,6);this._des1=ar.createEncryptor(J.create(Qe)),this._des2=ar.createEncryptor(J.create(hi)),this._des3=ar.createEncryptor(J.create(qi))}encryptBlock(Ie,Be){this._des1.encryptBlock(Ie,Be),this._des2.decryptBlock(Ie,Be),this._des3.encryptBlock(Ie,Be)}decryptBlock(Ie,Be){this._des3.decryptBlock(Ie,Be),this._des2.encryptBlock(Ie,Be),this._des1.decryptBlock(Ie,Be)}}return _i.keySize=6,_i.ivSize=2,_i.blockSize=2,_i})();const js=p._createHelper(qs),Zo=[],ds=[],Gr=[];function qo(){const _i=this._X,be=this._C;for(let Ie=0;Ie<8;Ie+=1)ds[Ie]=be[Ie];be[0]=be[0]+1295307597+this._b|0,be[1]=be[1]+3545052371+(be[0]>>>0<ds[0]>>>0?1:0)|0,be[2]=be[2]+886263092+(be[1]>>>0<ds[1]>>>0?1:0)|0,be[3]=be[3]+1295307597+(be[2]>>>0<ds[2]>>>0?1:0)|0,be[4]=be[4]+3545052371+(be[3]>>>0<ds[3]>>>0?1:0)|0,be[5]=be[5]+886263092+(be[4]>>>0<ds[4]>>>0?1:0)|0,be[6]=be[6]+1295307597+(be[5]>>>0<ds[5]>>>0?1:0)|0,be[7]=be[7]+3545052371+(be[6]>>>0<ds[6]>>>0?1:0)|0,this._b=be[7]>>>0<ds[7]>>>0?1:0;for(let Ie=0;Ie<8;Ie+=1){const Be=_i[Ie]+be[Ie],Qe=65535&Be,hi=Be>>>16;Gr[Ie]=((Qe*Qe>>>17)+Qe*hi>>>15)+hi*hi^((4294901760&Be)*Be|0)+((65535&Be)*Be|0)}_i[0]=Gr[0]+(Gr[7]<<16|Gr[7]>>>16)+(Gr[6]<<16|Gr[6]>>>16)|0,_i[1]=Gr[1]+(Gr[0]<<8|Gr[0]>>>24)+Gr[7]|0,_i[2]=Gr[2]+(Gr[1]<<16|Gr[1]>>>16)+(Gr[0]<<16|Gr[0]>>>16)|0,_i[3]=Gr[3]+(Gr[2]<<8|Gr[2]>>>24)+Gr[1]|0,_i[4]=Gr[4]+(Gr[3]<<16|Gr[3]>>>16)+(Gr[2]<<16|Gr[2]>>>16)|0,_i[5]=Gr[5]+(Gr[4]<<8|Gr[4]>>>24)+Gr[3]|0,_i[6]=Gr[6]+(Gr[5]<<16|Gr[5]>>>16)+(Gr[4]<<16|Gr[4]>>>16)|0,_i[7]=Gr[7]+(Gr[6]<<8|Gr[6]>>>24)+Gr[5]|0}class as extends Et{constructor(...be){super(...be),this.blockSize=4,this.ivSize=2}_doReset(){const be=this._key.words,{iv:Ie}=this.cfg;for(let hi=0;hi<4;hi+=1)be[hi]=16711935&(be[hi]<<8|be[hi]>>>24)|4278255360&(be[hi]<<24|be[hi]>>>8);this._X=[be[0],be[3]<<16|be[2]>>>16,be[1],be[0]<<16|be[3]>>>16,be[2],be[1]<<16|be[0]>>>16,be[3],be[2]<<16|be[1]>>>16];const Be=this._X;this._C=[be[2]<<16|be[2]>>>16,4294901760&be[0]|65535&be[1],be[3]<<16|be[3]>>>16,4294901760&be[1]|65535&be[2],be[0]<<16|be[0]>>>16,4294901760&be[2]|65535&be[3],be[1]<<16|be[1]>>>16,4294901760&be[3]|65535&be[0]];const Qe=this._C;this._b=0;for(let hi=0;hi<4;hi+=1)qo.call(this);for(let hi=0;hi<8;hi+=1)Qe[hi]^=Be[hi+4&7];if(Ie){const hi=Ie.words,qi=hi[0],an=hi[1],nn=16711935&(qi<<8|qi>>>24)|4278255360&(qi<<24|qi>>>8),Dn=16711935&(an<<8|an>>>24)|4278255360&(an<<24|an>>>8),Pn=nn>>>16|4294901760&Dn,lr=Dn<<16|65535&nn;Qe[0]^=nn,Qe[1]^=Pn,Qe[2]^=Dn,Qe[3]^=lr,Qe[4]^=nn,Qe[5]^=Pn,Qe[6]^=Dn,Qe[7]^=lr;for(let ie=0;ie<4;ie+=1)qo.call(this)}}_doProcessBlock(be,Ie){const Be=be,Qe=this._X;qo.call(this),Zo[0]=Qe[0]^Qe[5]>>>16^Qe[3]<<16,Zo[1]=Qe[2]^Qe[7]>>>16^Qe[5]<<16,Zo[2]=Qe[4]^Qe[1]>>>16^Qe[7]<<16,Zo[3]=Qe[6]^Qe[3]>>>16^Qe[1]<<16;for(let hi=0;hi<4;hi+=1)Zo[hi]=16711935&(Zo[hi]<<8|Zo[hi]>>>24)|4278255360&(Zo[hi]<<24|Zo[hi]>>>8),Be[Ie+hi]^=Zo[hi]}}const wa=Et._createHelper(as),Ho=[],ea=[],Qr=[];function Oa(){const _i=this._X,be=this._C;for(let Ie=0;Ie<8;Ie+=1)ea[Ie]=be[Ie];be[0]=be[0]+1295307597+this._b|0,be[1]=be[1]+3545052371+(be[0]>>>0<ea[0]>>>0?1:0)|0,be[2]=be[2]+886263092+(be[1]>>>0<ea[1]>>>0?1:0)|0,be[3]=be[3]+1295307597+(be[2]>>>0<ea[2]>>>0?1:0)|0,be[4]=be[4]+3545052371+(be[3]>>>0<ea[3]>>>0?1:0)|0,be[5]=be[5]+886263092+(be[4]>>>0<ea[4]>>>0?1:0)|0,be[6]=be[6]+1295307597+(be[5]>>>0<ea[5]>>>0?1:0)|0,be[7]=be[7]+3545052371+(be[6]>>>0<ea[6]>>>0?1:0)|0,this._b=be[7]>>>0<ea[7]>>>0?1:0;for(let Ie=0;Ie<8;Ie+=1){const Be=_i[Ie]+be[Ie],Qe=65535&Be,hi=Be>>>16;Qr[Ie]=((Qe*Qe>>>17)+Qe*hi>>>15)+hi*hi^((4294901760&Be)*Be|0)+((65535&Be)*Be|0)}_i[0]=Qr[0]+(Qr[7]<<16|Qr[7]>>>16)+(Qr[6]<<16|Qr[6]>>>16)|0,_i[1]=Qr[1]+(Qr[0]<<8|Qr[0]>>>24)+Qr[7]|0,_i[2]=Qr[2]+(Qr[1]<<16|Qr[1]>>>16)+(Qr[0]<<16|Qr[0]>>>16)|0,_i[3]=Qr[3]+(Qr[2]<<8|Qr[2]>>>24)+Qr[1]|0,_i[4]=Qr[4]+(Qr[3]<<16|Qr[3]>>>16)+(Qr[2]<<16|Qr[2]>>>16)|0,_i[5]=Qr[5]+(Qr[4]<<8|Qr[4]>>>24)+Qr[3]|0,_i[6]=Qr[6]+(Qr[5]<<16|Qr[5]>>>16)+(Qr[4]<<16|Qr[4]>>>16)|0,_i[7]=Qr[7]+(Qr[6]<<8|Qr[6]>>>24)+Qr[5]|0}class zs extends Et{constructor(...be){super(...be),this.blockSize=4,this.ivSize=2}_doReset(){const be=this._key.words,{iv:Ie}=this.cfg;this._X=[be[0],be[3]<<16|be[2]>>>16,be[1],be[0]<<16|be[3]>>>16,be[2],be[1]<<16|be[0]>>>16,be[3],be[2]<<16|be[1]>>>16];const Be=this._X;this._C=[be[2]<<16|be[2]>>>16,4294901760&be[0]|65535&be[1],be[3]<<16|be[3]>>>16,4294901760&be[1]|65535&be[2],be[0]<<16|be[0]>>>16,4294901760&be[2]|65535&be[3],be[1]<<16|be[1]>>>16,4294901760&be[3]|65535&be[0]];const Qe=this._C;this._b=0;for(let hi=0;hi<4;hi+=1)Oa.call(this);for(let hi=0;hi<8;hi+=1)Qe[hi]^=Be[hi+4&7];if(Ie){const hi=Ie.words,qi=hi[0],an=hi[1],nn=16711935&(qi<<8|qi>>>24)|4278255360&(qi<<24|qi>>>8),Dn=16711935&(an<<8|an>>>24)|4278255360&(an<<24|an>>>8),Pn=nn>>>16|4294901760&Dn,lr=Dn<<16|65535&nn;Qe[0]^=nn,Qe[1]^=Pn,Qe[2]^=Dn,Qe[3]^=lr,Qe[4]^=nn,Qe[5]^=Pn,Qe[6]^=Dn,Qe[7]^=lr;for(let ie=0;ie<4;ie+=1)Oa.call(this)}}_doProcessBlock(be,Ie){const Be=be,Qe=this._X;Oa.call(this),Ho[0]=Qe[0]^Qe[5]>>>16^Qe[3]<<16,Ho[1]=Qe[2]^Qe[7]>>>16^Qe[5]<<16,Ho[2]=Qe[4]^Qe[1]>>>16^Qe[7]<<16,Ho[3]=Qe[6]^Qe[3]>>>16^Qe[1]<<16;for(let hi=0;hi<4;hi+=1)Ho[hi]=16711935&(Ho[hi]<<8|Ho[hi]>>>24)|4278255360&(Ho[hi]<<24|Ho[hi]>>>8),Be[Ie+hi]^=Ho[hi]}}const Va=Et._createHelper(zs);function kh(){const _i=this._S;let be=this._i,Ie=this._j,Be=0;for(let Qe=0;Qe<4;Qe+=1){be=(be+1)%256,Ie=(Ie+_i[be])%256;const hi=_i[be];_i[be]=_i[Ie],_i[Ie]=hi,Be|=_i[(_i[be]+_i[Ie])%256]<<24-8*Qe}return this._i=be,this._j=Ie,Be}let ks=(()=>{class _i extends Et{_doReset(){const Ie=this._key,Be=Ie.words,Qe=Ie.sigBytes;this._S=[];const hi=this._S;for(let qi=0;qi<256;qi+=1)hi[qi]=qi;for(let qi=0,an=0;qi<256;qi+=1){const nn=qi%Qe;an=(an+hi[qi]+(Be[nn>>>2]>>>24-nn%4*8&255))%256;const Pn=hi[qi];hi[qi]=hi[an],hi[an]=Pn}this._j=0,this._i=this._j}_doProcessBlock(Ie,Be){Ie[Be]^=kh.call(this)}}return _i.keySize=8,_i.ivSize=0,_i})();const Xl=Et._createHelper(ks);class Tl extends ks{constructor(...be){super(...be),Object.assign(this.cfg,{drop:192})}_doReset(){super._doReset.call(this);for(let be=this.cfg.drop;be>0;be-=1)kh.call(this)}}const us=Et._createHelper(Tl);function Pl(_i,be,Ie,Be){const Qe=_i;let hi;const qi=this._iv;qi?(hi=qi.slice(0),this._iv=void 0):hi=this._prevBlock,Be.encryptBlock(hi,0);for(let an=0;an<Ie;an+=1)Qe[be+an]^=hi[an]}let ia=(()=>{class _i extends A{}return _i.Encryptor=class extends _i{processBlock(be,Ie){const Be=this._cipher,{blockSize:Qe}=Be;Pl.call(this,be,Ie,Qe,Be),this._prevBlock=be.slice(Ie,Ie+Qe)}},_i.Decryptor=class extends _i{processBlock(be,Ie){const Be=this._cipher,{blockSize:Qe}=Be,hi=be.slice(Ie,Ie+Qe);Pl.call(this,be,Ie,Qe,Be),this._prevBlock=hi}},_i})();class Zl extends A{}Zl.Encryptor=class extends Zl{processBlock(_i,be){const Ie=_i,Be=this._cipher,{blockSize:Qe}=Be,hi=this._iv;let qi=this._counter;hi&&(this._counter=hi.slice(0),qi=this._counter,this._iv=void 0);const an=qi.slice(0);Be.encryptBlock(an,0),qi[Qe-1]=qi[Qe-1]+1|0;for(let nn=0;nn<Qe;nn+=1)Ie[be+nn]^=an[nn]}},Zl.Decryptor=Zl.Encryptor;const Go=_i=>{let be=_i;if(255==(_i>>24&255)){let Ie=_i>>16&255,Be=_i>>8&255,Qe=255&_i;255===Ie?(Ie=0,255===Be?(Be=0,255===Qe?Qe=0:Qe+=1):Be+=1):Ie+=1,be=0,be+=Ie<<16,be+=Be<<8,be+=Qe}else be+=1<<24;return be};class Ts extends A{}Ts.Encryptor=class extends Ts{processBlock(_i,be){const Ie=_i,Be=this._cipher,{blockSize:Qe}=Be,hi=this._iv;let qi=this._counter;hi&&(this._counter=hi.slice(0),qi=this._counter,this._iv=void 0),(_i=>{const be=_i;be[0]=Go(be[0]),0===be[0]&&(be[1]=Go(be[1]))})(qi);const an=qi.slice(0);Be.encryptBlock(an,0);for(let nn=0;nn<Qe;nn+=1)Ie[be+nn]^=an[nn]}},Ts.Decryptor=Ts.Encryptor;let xs=(()=>{class _i extends A{}return _i.Encryptor=class extends _i{processBlock(be,Ie){this._cipher.encryptBlock(be,Ie)}},_i.Decryptor=class extends _i{processBlock(be,Ie){this._cipher.decryptBlock(be,Ie)}},_i})();class ko extends A{}ko.Encryptor=class extends ko{processBlock(_i,be){const Ie=_i,Be=this._cipher,{blockSize:Qe}=Be,hi=this._iv;let qi=this._keystream;hi&&(this._keystream=hi.slice(0),qi=this._keystream,this._iv=void 0),Be.encryptBlock(qi,0);for(let an=0;an<Qe;an+=1)Ie[be+an]^=qi[an]}},ko.Decryptor=ko.Encryptor;const Ph={pad(_i,be){const Ie=4*be,Be=Ie-_i.sigBytes%Ie;_i.concat(J.random(Be-1)).concat(J.create([Be<<24],1))},unpad(_i){_i.sigBytes-=255&_i.words[_i.sigBytes-1>>>2]}},Rs={pad(_i,be){const Ie=_i,Be=4*be;Ie.clamp(),Ie.sigBytes+=Be-(_i.sigBytes%Be||Be)},unpad(_i){const be=_i,Ie=be.words;for(let Be=be.sigBytes-1;Be>=0;Be-=1)if(Ie[Be>>>2]>>>24-Be%4*8&255){be.sigBytes=Be+1;break}}},or={lib:{Base:f,WordArray:J,BufferedBlockAlgorithm:G,Hasher:rt,Cipher:Tt,StreamCipher:Et,BlockCipherMode:A,BlockCipher:p,CipherParams:w,SerializableCipher:T,PasswordBasedCipher:h},x64:{Word:F,WordArray:et},enc:{Hex:tt,Latin1:b,Utf8:W,Utf16:at,Utf16BE:ft,Utf16LE:st,Base64:X},algo:{HMAC:Z,MD5:ot,SHA1:St,SHA224:Se,SHA256:zt,SHA384:jt,SHA512:Bt,SHA3:je,RIPEMD160:Re,PBKDF2:$e,EvpKDF:xt,AES:nr,DES:ar,TripleDES:qs,Rabbit:as,RabbitLegacy:zs,RC4:ks,RC4Drop:Tl},mode:{CBC:c,CFB:ia,CTR:Zl,CTRGladman:Ts,ECB:xs,OFB:ko},pad:{Pkcs7:g,AnsiX923:{pad(_i,be){const Ie=_i,Be=Ie.sigBytes,Qe=4*be,hi=Qe-Be%Qe,qi=Be+hi-1;Ie.clamp(),Ie.words[qi>>>2]|=hi<<24-qi%4*8,Ie.sigBytes+=hi},unpad(_i){_i.sigBytes-=255&_i.words[_i.sigBytes-1>>>2]}},Iso10126:Ph,Iso97971:{pad(_i,be){_i.concat(J.create([2147483648],1)),Rs.pad(_i,be)},unpad(_i){const be=_i;Rs.unpad(be),be.sigBytes-=1}},NoPadding:{pad(){},unpad(){}},ZeroPadding:Rs},format:{OpenSSL:S,Hex:{stringify:_i=>_i.ciphertext.toString(tt),parse(_i){const be=tt.parse(_i);return w.create({ciphertext:be})}}},kdf:{OpenSSL:C},MD5:lt,HmacMD5:wt,SHA1:Xt,HmacSHA1:te,SHA224:Fi,HmacSHA224:Ge,SHA256:Ne,HmacSHA256:Pt,SHA384:yt,HmacSHA384:ht,SHA512:re,HmacSHA512:Ye,SHA3:ci,HmacSHA3:Oe,RIPEMD160:pi,HmacRIPEMD160:he,PBKDF2:(_i,be,Ie)=>$e.create(Ie).compute(_i,be),EvpKDF:(_i,be,Ie)=>xt.create(Ie).compute(_i,be),AES:mr,DES:Vs,TripleDES:js,Rabbit:wa,RabbitLegacy:Va,RC4:Xl,RC4Drop:us};var hh=ut(273),ti=ut(4499),hr=ut(2394),Iu=ut(7384),za=ut(3067),pa=ut(3630),ch=ut(7269),ml=ut(3668),gl=ut(1553),fu=ut(4522);let Yu=(()=>{class _i{constructor(Ie,Be){this.route=Ie,this.http=Be,this.isStarted=!1,this.isStarting=new hh.x,this.userMode=new ti.X(ch.$.test),this.specialRightsMap={"8ccc189d957167a5f153089f7f50bc7574332880011eefd0470ac84534471a7c":pa.G.admin,e9a03c9d033097130b229c2044eae02c80fd47dd2214952a6558c656b5386640:pa.G.video_ssm,"2a81a551f614d45c8a87fd178d4a135d37fb79280fd108183cb17393d354d66c":pa.G.video_fau,cca543992247230ebe41022d5e14ba0e8337c97b98c1fc1118bc30d07b672ca4:pa.G.video_tsm,"28c48b8eb4d51ab963b42acb377ab809b8bd15c0977ca6325439bff6ea5e61be":pa.G.video_tsc}}fetchSettings(){this.route.queryParams.subscribe(Ie=>{this.initSettings(Ie)})}loading(){var Ie=this;return(0,ct.Z)(function*(){Ie.isStarted||(yield(0,hr.z)(Ie.isStarting))})()}initSettings(Ie){var Be;this.secretReadString=this.getSetting(Ie,"secret"),this.secretWriteString=this.getSetting(Ie,"secret-write"),this.secretReadString&&this.getFile("secret-read.txt").pipe((0,Iu.b)(Qe=>{this.secret=this.decrypt(Qe,this.secretReadString)}),(0,za.w)(()=>this.getFile("secret-write.txt"))).subscribe(Qe=>{this.secretWrite=this.decrypt(Qe,this.secretWriteString),this.userMode.next(this.secret&&this.secretWrite?ch.$.write:this.secret?ch.$.read:ch.$.test),this.isStarting.next(!1),this.isStarted=!0}),this.specialRightsString=this.getSetting(Ie,"special-rights"),this.specialRights=new Array,null===(Be=this.specialRightsString)||void 0===Be||Be.split(",").forEach(Qe=>{const hi=this.hash(Qe);this.specialRightsMap[hi]&&this.specialRights.push(this.specialRightsMap[hi])})}getFile(Ie){return this.http.get(`assets/${Ie}`,{responseType:"text"})}decrypt(Ie,Be){if(Be)try{const hi=or.AES.decrypt(Ie,Be).toString(or.enc.Utf8);return JSON.parse(hi)}catch(Qe){return void console.log("incorrect secret",Be,Qe)}}encrypt(Ie,Be){const hi=or.AES.encrypt(Ie,Be).toString();console.log(hi)}hash(Ie){const Be=or.SHA256(Ie).toString();return console.log(Be),Be}hasSpecialRight(Ie){return this.specialRights.includes(Ie)}getSetting(Ie,Be){return Ie[Be]}}return _i.\u0275fac=function(Ie){return new(Ie||_i)(ml.LFG(gl.gz),ml.LFG(fu.eN))},_i.\u0275prov=ml.Yz7({token:_i,factory:_i.\u0275fac,providedIn:"root"}),_i})()},556:(Ee,Q,ut)=>{"use strict";ut.d(Q,{sG:()=>tt,IN:()=>b,gx:()=>W,gw:()=>G,dM:()=>rt});const ct=/([0-9]{2})\.([0-9]{2})\.([0-9]{4})/,J=/[A-Za-z0-9\s]+\![A-Z]+[0-9]+\:[A-Z]+([0-9]+)/,tt=Z=>{Z=null==Z?void 0:Z.trim();const H=ct.exec(Z);H&&(Z=`${H[3]}-${H[2]}-${H[1]}`);const F=new Date(Z);return"Invalid Date"==(null==F?void 0:F.toString())?null:F},b=Z=>(console.log(Z),"string"==typeof Z&&(console.log("date is string"),Z=tt(Z)),!Z||isNaN(Z.getTime())?"":`${Z.getDate()}.${Z.getMonth()+1}.${Z.getFullYear()}`),W=Z=>"true"==(Z=null==Z?void 0:Z.toLowerCase())||"wahr"==Z,G=Z=>new Promise(H=>setTimeout(H,Z)),rt=Z=>{Z=null==Z?void 0:Z.trim();const H=J.exec(Z);return H?(console.log(H),Number(H[1])):NaN}},2448:(Ee,Q,ut)=>{"use strict";var ct=ut(5427),f=ut(3668),J=ut(6999),tt=ut(6019),b=ut(7867),W=ut(8100),G=ut(4753);let rt=(()=>{class L{constructor(d,P){this._renderer=d,this._elementRef=P,this.onChange=_t=>{},this.onTouched=()=>{}}setProperty(d,P){this._renderer.setProperty(this._elementRef.nativeElement,d,P)}registerOnTouched(d){this.onTouched=d}registerOnChange(d){this.onChange=d}setDisabledState(d){this.setProperty("disabled",d)}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(f.Qsj),f.Y36(f.SBq))},L.\u0275dir=f.lG2({type:L}),L})(),Z=(()=>{class L extends rt{}return L.\u0275fac=function(){let nt;return function(P){return(nt||(nt=f.n5z(L)))(P||L)}}(),L.\u0275dir=f.lG2({type:L,features:[f.qOj]}),L})();const H=new f.OlP("NgValueAccessor"),B={provide:H,useExisting:(0,f.Gpc)(()=>Y),multi:!0},z=new f.OlP("CompositionEventMode");let Y=(()=>{class L extends rt{constructor(d,P,_t){super(d,P),this._compositionMode=_t,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const L=(0,tt.q)()?(0,tt.q)().getUserAgent():"";return/android (\d+)/.test(L.toLowerCase())}())}writeValue(d){this.setProperty("value",null==d?"":d)}_handleInput(d){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(d)}_compositionStart(){this._composing=!0}_compositionEnd(d){this._composing=!1,this._compositionMode&&this.onChange(d)}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(z,8))},L.\u0275dir=f.lG2({type:L,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(d,P){1&d&&f.NdJ("input",function(Jt){return P._handleInput(Jt.target.value)})("blur",function(){return P.onTouched()})("compositionstart",function(){return P._compositionStart()})("compositionend",function(Jt){return P._compositionEnd(Jt.target.value)})},features:[f._Bn([B]),f.qOj]}),L})();function q(L){return null==L||0===L.length}function U(L){return null!=L&&"number"==typeof L.length}const it=new f.OlP("NgValidators"),ot=new f.OlP("NgAsyncValidators"),lt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class wt{static min(nt){return L=nt,nt=>{if(q(nt.value)||q(L))return null;const d=parseFloat(nt.value);return!isNaN(d)&&d<L?{min:{min:L,actual:nt.value}}:null};var L}static max(nt){return L=nt,nt=>{if(q(nt.value)||q(L))return null;const d=parseFloat(nt.value);return!isNaN(d)&&d>L?{max:{max:L,actual:nt.value}}:null};var L}static required(nt){return q(nt.value)?{required:!0}:null}static requiredTrue(nt){return!0===nt.value?null:{required:!0}}static email(nt){return q((L=nt).value)||lt.test(L.value)?null:{email:!0};var L}static minLength(nt){return L=nt,nt=>q(nt.value)||!U(nt.value)?null:nt.value.length<L?{minlength:{requiredLength:L,actualLength:nt.value.length}}:null;var L}static maxLength(nt){return L=nt,nt=>U(nt.value)&&nt.value.length>L?{maxlength:{requiredLength:L,actualLength:nt.value.length}}:null;var L}static pattern(nt){return function(L){if(!L)return p;let nt,d;return"string"==typeof L?(d="","^"!==L.charAt(0)&&(d+="^"),d+=L,"$"!==L.charAt(L.length-1)&&(d+="$"),nt=new RegExp(d)):(d=L.toString(),nt=L),P=>{if(q(P.value))return null;const _t=P.value;return nt.test(_t)?null:{pattern:{requiredPattern:d,actualValue:_t}}}}(nt)}static nullValidator(nt){return null}static compose(nt){return ft(nt)}static composeAsync(nt){return st(nt)}}function p(L){return null}function w(L){return null!=L}function S(L){const nt=(0,f.QGY)(L)?(0,b.D)(L):L;return(0,f.CqO)(nt),nt}function T(L){let nt={};return L.forEach(d=>{nt=null!=d?Er(Er({},nt),d):nt}),0===Object.keys(nt).length?null:nt}function C(L,nt){return nt.map(d=>d(L))}function k(L){return L.map(nt=>function(L){return!L.validate}(nt)?nt:d=>nt.validate(d))}function ft(L){if(!L)return null;const nt=L.filter(w);return 0==nt.length?null:function(d){return T(C(d,nt))}}function at(L){return null!=L?ft(k(L)):null}function st(L){if(!L)return null;const nt=L.filter(w);return 0==nt.length?null:function(d){const P=C(d,nt).map(S);return(0,W.D)(P).pipe((0,G.U)(T))}}function Mt(L){return null!=L?st(k(L)):null}function St(L,nt){return null===L?[nt]:Array.isArray(L)?[...L,nt]:[L,nt]}function Xt(L){return L._rawValidators}function te(L){return L._rawAsyncValidators}function Vt(L){return L?Array.isArray(L)?L:[L]:[]}function Dt(L,nt){return Array.isArray(L)?L.includes(nt):L===nt}function ve(L,nt){const d=Vt(nt);return Vt(L).forEach(_t=>{Dt(d,_t)||d.push(_t)}),d}function Gt(L,nt){return Vt(nt).filter(d=>!Dt(L,d))}class Nt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(nt){this._rawValidators=nt||[],this._composedValidatorFn=at(this._rawValidators)}_setAsyncValidators(nt){this._rawAsyncValidators=nt||[],this._composedAsyncValidatorFn=Mt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(nt){this._onDestroyCallbacks.push(nt)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(nt=>nt()),this._onDestroyCallbacks=[]}reset(nt){this.control&&this.control.reset(nt)}hasError(nt,d){return!!this.control&&this.control.hasError(nt,d)}getError(nt,d){return this.control?this.control.getError(nt,d):null}}class Kt extends Nt{get formDirective(){return null}get path(){return null}}class fe extends Nt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zt{constructor(nt){this._cd=nt}is(nt){var d,P,_t;return"submitted"===nt?!!(null==(d=this._cd)?void 0:d.submitted):!!(null==(_t=null==(P=this._cd)?void 0:P.control)?void 0:_t[nt])}}let Se=(()=>{class L extends zt{constructor(d){super(d)}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(fe,2))},L.\u0275dir=f.lG2({type:L,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(d,P){2&d&&f.ekj("ng-untouched",P.is("untouched"))("ng-touched",P.is("touched"))("ng-pristine",P.is("pristine"))("ng-dirty",P.is("dirty"))("ng-valid",P.is("valid"))("ng-invalid",P.is("invalid"))("ng-pending",P.is("pending"))},features:[f.qOj]}),L})(),Fi=(()=>{class L extends zt{constructor(d){super(d)}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(Kt,10))},L.\u0275dir=f.lG2({type:L,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(d,P){2&d&&f.ekj("ng-untouched",P.is("untouched"))("ng-touched",P.is("touched"))("ng-pristine",P.is("pristine"))("ng-dirty",P.is("dirty"))("ng-valid",P.is("valid"))("ng-invalid",P.is("invalid"))("ng-pending",P.is("pending"))("ng-submitted",P.is("submitted"))},features:[f.qOj]}),L})();function We(L,nt){return[...nt.path,L]}function si(L,nt){ci(L,nt),nt.valueAccessor.writeValue(L.value),function(L,nt){nt.valueAccessor.registerOnChange(d=>{L._pendingValue=d,L._pendingChange=!0,L._pendingDirty=!0,"change"===L.updateOn&&ei(L,nt)})}(L,nt),function(L,nt){const d=(P,_t)=>{nt.valueAccessor.writeValue(P),_t&&nt.viewToModelUpdate(P)};L.registerOnChange(d),nt._registerOnDestroy(()=>{L._unregisterOnChange(d)})}(L,nt),function(L,nt){nt.valueAccessor.registerOnTouched(()=>{L._pendingTouched=!0,"blur"===L.updateOn&&L._pendingChange&&ei(L,nt),"submit"!==L.updateOn&&L.markAsTouched()})}(L,nt),function(L,nt){if(nt.valueAccessor.setDisabledState){const d=P=>{nt.valueAccessor.setDisabledState(P)};L.registerOnDisabledChange(d),nt._registerOnDestroy(()=>{L._unregisterOnDisabledChange(d)})}}(L,nt)}function bn(L,nt,d=!0){const P=()=>{};nt.valueAccessor&&(nt.valueAccessor.registerOnChange(P),nt.valueAccessor.registerOnTouched(P)),Oe(L,nt),L&&(nt._invokeOnDestroyCallbacks(),L._registerOnCollectionChange(()=>{}))}function wi(L,nt){L.forEach(d=>{d.registerOnValidatorChange&&d.registerOnValidatorChange(nt)})}function ci(L,nt){const d=Xt(L);null!==nt.validator?L.setValidators(St(d,nt.validator)):"function"==typeof d&&L.setValidators([d]);const P=te(L);null!==nt.asyncValidator?L.setAsyncValidators(St(P,nt.asyncValidator)):"function"==typeof P&&L.setAsyncValidators([P]);const _t=()=>L.updateValueAndValidity();wi(nt._rawValidators,_t),wi(nt._rawAsyncValidators,_t)}function Oe(L,nt){let d=!1;if(null!==L){if(null!==nt.validator){const _t=Xt(L);if(Array.isArray(_t)&&_t.length>0){const Jt=_t.filter(Ze=>Ze!==nt.validator);Jt.length!==_t.length&&(d=!0,L.setValidators(Jt))}}if(null!==nt.asyncValidator){const _t=te(L);if(Array.isArray(_t)&&_t.length>0){const Jt=_t.filter(Ze=>Ze!==nt.asyncValidator);Jt.length!==_t.length&&(d=!0,L.setAsyncValidators(Jt))}}}const P=()=>{};return wi(nt._rawValidators,P),wi(nt._rawAsyncValidators,P),d}function ei(L,nt){L._pendingDirty&&L.markAsDirty(),L.setValue(L._pendingValue,{emitModelToViewChange:!1}),nt.viewToModelUpdate(L._pendingValue),L._pendingChange=!1}function qe(L,nt){ci(L,nt)}function xe(L,nt){L._syncPendingControls(),nt.forEach(d=>{const P=d.control;"submit"===P.updateOn&&P._pendingChange&&(d.viewToModelUpdate(P._pendingValue),P._pendingChange=!1)})}function Re(L,nt){const d=L.indexOf(nt);d>-1&&L.splice(d,1)}const he="VALID",$e="INVALID",_n="PENDING",Ei="DISABLED";function ir(L){return(Kn(L)?L.validators:L)||null}function bi(L){return Array.isArray(L)?at(L):L||null}function Li(L,nt){return(Kn(nt)?nt.asyncValidators:L)||null}function Ln(L){return Array.isArray(L)?Mt(L):L||null}function Kn(L){return null!=L&&!Array.isArray(L)&&"object"==typeof L}class pr{constructor(nt,d){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=nt,this._rawAsyncValidators=d,this._composedValidatorFn=bi(this._rawValidators),this._composedAsyncValidatorFn=Ln(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(nt){this._rawValidators=this._composedValidatorFn=nt}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(nt){this._rawAsyncValidators=this._composedAsyncValidatorFn=nt}get parent(){return this._parent}get valid(){return this.status===he}get invalid(){return this.status===$e}get pending(){return this.status==_n}get disabled(){return this.status===Ei}get enabled(){return this.status!==Ei}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(nt){this._rawValidators=nt,this._composedValidatorFn=bi(nt)}setAsyncValidators(nt){this._rawAsyncValidators=nt,this._composedAsyncValidatorFn=Ln(nt)}addValidators(nt){this.setValidators(ve(nt,this._rawValidators))}addAsyncValidators(nt){this.setAsyncValidators(ve(nt,this._rawAsyncValidators))}removeValidators(nt){this.setValidators(Gt(nt,this._rawValidators))}removeAsyncValidators(nt){this.setAsyncValidators(Gt(nt,this._rawAsyncValidators))}hasValidator(nt){return Dt(this._rawValidators,nt)}hasAsyncValidator(nt){return Dt(this._rawAsyncValidators,nt)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(nt={}){this.touched=!0,this._parent&&!nt.onlySelf&&this._parent.markAsTouched(nt)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(nt=>nt.markAllAsTouched())}markAsUntouched(nt={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(d=>{d.markAsUntouched({onlySelf:!0})}),this._parent&&!nt.onlySelf&&this._parent._updateTouched(nt)}markAsDirty(nt={}){this.pristine=!1,this._parent&&!nt.onlySelf&&this._parent.markAsDirty(nt)}markAsPristine(nt={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(d=>{d.markAsPristine({onlySelf:!0})}),this._parent&&!nt.onlySelf&&this._parent._updatePristine(nt)}markAsPending(nt={}){this.status=_n,!1!==nt.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!nt.onlySelf&&this._parent.markAsPending(nt)}disable(nt={}){const d=this._parentMarkedDirty(nt.onlySelf);this.status=Ei,this.errors=null,this._forEachChild(P=>{P.disable(Gu(Er({},nt),{onlySelf:!0}))}),this._updateValue(),!1!==nt.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Gu(Er({},nt),{skipPristineCheck:d})),this._onDisabledChange.forEach(P=>P(!0))}enable(nt={}){const d=this._parentMarkedDirty(nt.onlySelf);this.status=he,this._forEachChild(P=>{P.enable(Gu(Er({},nt),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:nt.emitEvent}),this._updateAncestors(Gu(Er({},nt),{skipPristineCheck:d})),this._onDisabledChange.forEach(P=>P(!1))}_updateAncestors(nt){this._parent&&!nt.onlySelf&&(this._parent.updateValueAndValidity(nt),nt.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(nt){this._parent=nt}updateValueAndValidity(nt={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===he||this.status===_n)&&this._runAsyncValidator(nt.emitEvent)),!1!==nt.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!nt.onlySelf&&this._parent.updateValueAndValidity(nt)}_updateTreeValidity(nt={emitEvent:!0}){this._forEachChild(d=>d._updateTreeValidity(nt)),this.updateValueAndValidity({onlySelf:!0,emitEvent:nt.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ei:he}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(nt){if(this.asyncValidator){this.status=_n,this._hasOwnPendingAsyncValidator=!0;const d=S(this.asyncValidator(this));this._asyncValidationSubscription=d.subscribe(P=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(P,{emitEvent:nt})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(nt,d={}){this.errors=nt,this._updateControlsErrors(!1!==d.emitEvent)}get(nt){return function(L,nt,d){if(null==nt||(Array.isArray(nt)||(nt=nt.split(".")),Array.isArray(nt)&&0===nt.length))return null;let P=L;return nt.forEach(_t=>{P=P instanceof Ni?P.controls.hasOwnProperty(_t)?P.controls[_t]:null:P instanceof xi&&P.at(_t)||null}),P}(this,nt)}getError(nt,d){const P=d?this.get(d):this;return P&&P.errors?P.errors[nt]:null}hasError(nt,d){return!!this.getError(nt,d)}get root(){let nt=this;for(;nt._parent;)nt=nt._parent;return nt}_updateControlsErrors(nt){this.status=this._calculateStatus(),nt&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(nt)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?Ei:this.errors?$e:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_n)?_n:this._anyControlsHaveStatus($e)?$e:he}_anyControlsHaveStatus(nt){return this._anyControls(d=>d.status===nt)}_anyControlsDirty(){return this._anyControls(nt=>nt.dirty)}_anyControlsTouched(){return this._anyControls(nt=>nt.touched)}_updatePristine(nt={}){this.pristine=!this._anyControlsDirty(),this._parent&&!nt.onlySelf&&this._parent._updatePristine(nt)}_updateTouched(nt={}){this.touched=this._anyControlsTouched(),this._parent&&!nt.onlySelf&&this._parent._updateTouched(nt)}_isBoxedValue(nt){return"object"==typeof nt&&null!==nt&&2===Object.keys(nt).length&&"value"in nt&&"disabled"in nt}_registerOnCollectionChange(nt){this._onCollectionChange=nt}_setUpdateStrategy(nt){Kn(nt)&&null!=nt.updateOn&&(this._updateOn=nt.updateOn)}_parentMarkedDirty(nt){return!nt&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Jn extends pr{constructor(nt=null,d,P){super(ir(d),Li(P,d)),this._onChange=[],this._applyFormState(nt),this._setUpdateStrategy(d),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(nt,d={}){this.value=this._pendingValue=nt,this._onChange.length&&!1!==d.emitModelToViewChange&&this._onChange.forEach(P=>P(this.value,!1!==d.emitViewToModelChange)),this.updateValueAndValidity(d)}patchValue(nt,d={}){this.setValue(nt,d)}reset(nt=null,d={}){this._applyFormState(nt),this.markAsPristine(d),this.markAsUntouched(d),this.setValue(this.value,d),this._pendingChange=!1}_updateValue(){}_anyControls(nt){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(nt){this._onChange.push(nt)}_unregisterOnChange(nt){Re(this._onChange,nt)}registerOnDisabledChange(nt){this._onDisabledChange.push(nt)}_unregisterOnDisabledChange(nt){Re(this._onDisabledChange,nt)}_forEachChild(nt){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(nt){this._isBoxedValue(nt)?(this.value=this._pendingValue=nt.value,nt.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=nt}}class Ni extends pr{constructor(nt,d,P){super(ir(d),Li(P,d)),this.controls=nt,this._initObservables(),this._setUpdateStrategy(d),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(nt,d){return this.controls[nt]?this.controls[nt]:(this.controls[nt]=d,d.setParent(this),d._registerOnCollectionChange(this._onCollectionChange),d)}addControl(nt,d,P={}){this.registerControl(nt,d),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}removeControl(nt,d={}){this.controls[nt]&&this.controls[nt]._registerOnCollectionChange(()=>{}),delete this.controls[nt],this.updateValueAndValidity({emitEvent:d.emitEvent}),this._onCollectionChange()}setControl(nt,d,P={}){this.controls[nt]&&this.controls[nt]._registerOnCollectionChange(()=>{}),delete this.controls[nt],d&&this.registerControl(nt,d),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}contains(nt){return this.controls.hasOwnProperty(nt)&&this.controls[nt].enabled}setValue(nt,d={}){this._checkAllValuesPresent(nt),Object.keys(nt).forEach(P=>{this._throwIfControlMissing(P),this.controls[P].setValue(nt[P],{onlySelf:!0,emitEvent:d.emitEvent})}),this.updateValueAndValidity(d)}patchValue(nt,d={}){null!=nt&&(Object.keys(nt).forEach(P=>{this.controls[P]&&this.controls[P].patchValue(nt[P],{onlySelf:!0,emitEvent:d.emitEvent})}),this.updateValueAndValidity(d))}reset(nt={},d={}){this._forEachChild((P,_t)=>{P.reset(nt[_t],{onlySelf:!0,emitEvent:d.emitEvent})}),this._updatePristine(d),this._updateTouched(d),this.updateValueAndValidity(d)}getRawValue(){return this._reduceChildren({},(nt,d,P)=>(nt[P]=d instanceof Jn?d.value:d.getRawValue(),nt))}_syncPendingControls(){let nt=this._reduceChildren(!1,(d,P)=>!!P._syncPendingControls()||d);return nt&&this.updateValueAndValidity({onlySelf:!0}),nt}_throwIfControlMissing(nt){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[nt])throw new Error(`Cannot find form control with name: ${nt}.`)}_forEachChild(nt){Object.keys(this.controls).forEach(d=>{const P=this.controls[d];P&&nt(P,d)})}_setUpControls(){this._forEachChild(nt=>{nt.setParent(this),nt._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(nt){for(const d of Object.keys(this.controls)){const P=this.controls[d];if(this.contains(d)&&nt(P))return!0}return!1}_reduceValue(){return this._reduceChildren({},(nt,d,P)=>((d.enabled||this.disabled)&&(nt[P]=d.value),nt))}_reduceChildren(nt,d){let P=nt;return this._forEachChild((_t,Jt)=>{P=d(P,_t,Jt)}),P}_allControlsDisabled(){for(const nt of Object.keys(this.controls))if(this.controls[nt].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(nt){this._forEachChild((d,P)=>{if(void 0===nt[P])throw new Error(`Must supply a value for form control with name: '${P}'.`)})}}class xi extends pr{constructor(nt,d,P){super(ir(d),Li(P,d)),this.controls=nt,this._initObservables(),this._setUpdateStrategy(d),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(nt){return this.controls[nt]}push(nt,d={}){this.controls.push(nt),this._registerControl(nt),this.updateValueAndValidity({emitEvent:d.emitEvent}),this._onCollectionChange()}insert(nt,d,P={}){this.controls.splice(nt,0,d),this._registerControl(d),this.updateValueAndValidity({emitEvent:P.emitEvent})}removeAt(nt,d={}){this.controls[nt]&&this.controls[nt]._registerOnCollectionChange(()=>{}),this.controls.splice(nt,1),this.updateValueAndValidity({emitEvent:d.emitEvent})}setControl(nt,d,P={}){this.controls[nt]&&this.controls[nt]._registerOnCollectionChange(()=>{}),this.controls.splice(nt,1),d&&(this.controls.splice(nt,0,d),this._registerControl(d)),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(nt,d={}){this._checkAllValuesPresent(nt),nt.forEach((P,_t)=>{this._throwIfControlMissing(_t),this.at(_t).setValue(P,{onlySelf:!0,emitEvent:d.emitEvent})}),this.updateValueAndValidity(d)}patchValue(nt,d={}){null!=nt&&(nt.forEach((P,_t)=>{this.at(_t)&&this.at(_t).patchValue(P,{onlySelf:!0,emitEvent:d.emitEvent})}),this.updateValueAndValidity(d))}reset(nt=[],d={}){this._forEachChild((P,_t)=>{P.reset(nt[_t],{onlySelf:!0,emitEvent:d.emitEvent})}),this._updatePristine(d),this._updateTouched(d),this.updateValueAndValidity(d)}getRawValue(){return this.controls.map(nt=>nt instanceof Jn?nt.value:nt.getRawValue())}clear(nt={}){this.controls.length<1||(this._forEachChild(d=>d._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:nt.emitEvent}))}_syncPendingControls(){let nt=this.controls.reduce((d,P)=>!!P._syncPendingControls()||d,!1);return nt&&this.updateValueAndValidity({onlySelf:!0}),nt}_throwIfControlMissing(nt){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(nt))throw new Error(`Cannot find form control at index ${nt}`)}_forEachChild(nt){this.controls.forEach((d,P)=>{nt(d,P)})}_updateValue(){this.value=this.controls.filter(nt=>nt.enabled||this.disabled).map(nt=>nt.value)}_anyControls(nt){return this.controls.some(d=>d.enabled&&nt(d))}_setUpControls(){this._forEachChild(nt=>this._registerControl(nt))}_checkAllValuesPresent(nt){this._forEachChild((d,P)=>{if(void 0===nt[P])throw new Error(`Must supply a value for form control at index: ${P}.`)})}_allControlsDisabled(){for(const nt of this.controls)if(nt.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(nt){nt.setParent(this),nt._registerOnCollectionChange(this._onCollectionChange)}}const Je={provide:Kt,useExisting:(0,f.Gpc)(()=>on)},Ui=(()=>Promise.resolve(null))();let on=(()=>{class L extends Kt{constructor(d,P){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new f.vpe,this.form=new Ni({},at(d),Mt(P))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(d){Ui.then(()=>{const P=this._findContainer(d.path);d.control=P.registerControl(d.name,d.control),si(d.control,d),d.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(d)})}getControl(d){return this.form.get(d.path)}removeControl(d){Ui.then(()=>{const P=this._findContainer(d.path);P&&P.removeControl(d.name),Re(this._directives,d)})}addFormGroup(d){Ui.then(()=>{const P=this._findContainer(d.path),_t=new Ni({});qe(_t,d),P.registerControl(d.name,_t),_t.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(d){Ui.then(()=>{const P=this._findContainer(d.path);P&&P.removeControl(d.name)})}getFormGroup(d){return this.form.get(d.path)}updateModel(d,P){Ui.then(()=>{this.form.get(d.path).setValue(P)})}setValue(d){this.control.setValue(d)}onSubmit(d){return this.submitted=!0,xe(this.form,this._directives),this.ngSubmit.emit(d),!1}onReset(){this.resetForm()}resetForm(d){this.form.reset(d),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(d){return d.pop(),d.length?this.form.get(d):this.form}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(it,10),f.Y36(ot,10))},L.\u0275dir=f.lG2({type:L,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(d,P){1&d&&f.NdJ("submit",function(Jt){return P.onSubmit(Jt)})("reset",function(){return P.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([Je]),f.qOj]}),L})(),nr=(()=>{class L extends Kt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return We(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return L.\u0275fac=function(){let nt;return function(P){return(nt||(nt=f.n5z(L)))(P||L)}}(),L.\u0275dir=f.lG2({type:L,features:[f.qOj]}),L})(),Vs=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275dir=f.lG2({type:L,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),L})();const qs={provide:H,useExisting:(0,f.Gpc)(()=>js),multi:!0};let js=(()=>{class L extends Z{writeValue(d){this.setProperty("value",null==d?"":d)}registerOnChange(d){this.onChange=P=>{d(""==P?null:parseFloat(P))}}}return L.\u0275fac=function(){let nt;return function(P){return(nt||(nt=f.n5z(L)))(P||L)}}(),L.\u0275dir=f.lG2({type:L,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(d,P){1&d&&f.NdJ("input",function(Jt){return P.onChange(Jt.target.value)})("blur",function(){return P.onTouched()})},features:[f._Bn([qs]),f.qOj]}),L})(),Gr=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({}),L})();const ea=new f.OlP("NgModelWithFormControlWarning"),zs={provide:Kt,useExisting:(0,f.Gpc)(()=>Va)};let Va=(()=>{class L extends Kt{constructor(d,P){super(),this.validators=d,this.asyncValidators=P,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(d),this._setAsyncValidators(P)}ngOnChanges(d){this._checkFormPresent(),d.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Oe(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(d){const P=this.form.get(d.path);return si(P,d),P.updateValueAndValidity({emitEvent:!1}),this.directives.push(d),P}getControl(d){return this.form.get(d.path)}removeControl(d){bn(d.control||null,d,!1),Re(this.directives,d)}addFormGroup(d){this._setUpFormContainer(d)}removeFormGroup(d){this._cleanUpFormContainer(d)}getFormGroup(d){return this.form.get(d.path)}addFormArray(d){this._setUpFormContainer(d)}removeFormArray(d){this._cleanUpFormContainer(d)}getFormArray(d){return this.form.get(d.path)}updateModel(d,P){this.form.get(d.path).setValue(P)}onSubmit(d){return this.submitted=!0,xe(this.form,this.directives),this.ngSubmit.emit(d),!1}onReset(){this.resetForm()}resetForm(d){this.form.reset(d),this.submitted=!1}_updateDomValue(){this.directives.forEach(d=>{const P=d.control,_t=this.form.get(d.path);P!==_t&&(bn(P||null,d),_t instanceof Jn&&(si(_t,d),d.control=_t))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(d){const P=this.form.get(d.path);qe(P,d),P.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(d){if(this.form){const P=this.form.get(d.path);P&&function(L,nt){return Oe(L,nt)}(P,d)&&P.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ci(this.form,this),this._oldForm&&Oe(this._oldForm,this)}_checkFormPresent(){}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(it,10),f.Y36(ot,10))},L.\u0275dir=f.lG2({type:L,selectors:[["","formGroup",""]],hostBindings:function(d,P){1&d&&f.NdJ("submit",function(Jt){return P.onSubmit(Jt)})("reset",function(){return P.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([zs]),f.qOj,f.TTD]}),L})();const kh={provide:Kt,useExisting:(0,f.Gpc)(()=>ks)};let ks=(()=>{class L extends nr{constructor(d,P,_t){super(),this._parent=d,this._setValidators(P),this._setAsyncValidators(_t)}_checkParentType(){us(this._parent)}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(Kt,13),f.Y36(it,10),f.Y36(ot,10))},L.\u0275dir=f.lG2({type:L,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[f._Bn([kh]),f.qOj]}),L})();const Xl={provide:Kt,useExisting:(0,f.Gpc)(()=>Tl)};let Tl=(()=>{class L extends Kt{constructor(d,P,_t){super(),this._parent=d,this._setValidators(P),this._setAsyncValidators(_t)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return We(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){us(this._parent)}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(Kt,13),f.Y36(it,10),f.Y36(ot,10))},L.\u0275dir=f.lG2({type:L,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[f._Bn([Xl]),f.qOj]}),L})();function us(L){return!(L instanceof ks||L instanceof Va||L instanceof Tl)}const Pl={provide:fe,useExisting:(0,f.Gpc)(()=>ia)};let ia=(()=>{class L extends fe{constructor(d,P,_t,Jt,Ze){super(),this._ngModelWarningConfig=Ze,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=d,this._setValidators(P),this._setAsyncValidators(_t),this.valueAccessor=function(L,nt){if(!nt)return null;let d,P,_t;return Array.isArray(nt),nt.forEach(Jt=>{Jt.constructor===Y?d=Jt:function(L){return Object.getPrototypeOf(L.constructor)===Z}(Jt)?P=Jt:_t=Jt}),_t||P||d||null}(0,Jt)}set isDisabled(d){}ngOnChanges(d){this._added||this._setUpControl(),function(L,nt){if(!L.hasOwnProperty("model"))return!1;const d=L.model;return!!d.isFirstChange()||!Object.is(nt,d.currentValue)}(d,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(d){this.viewModel=d,this.update.emit(d)}get path(){return We(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return L._ngModelWarningSentOnce=!1,L.\u0275fac=function(d){return new(d||L)(f.Y36(Kt,13),f.Y36(it,10),f.Y36(ot,10),f.Y36(H,10),f.Y36(ea,8))},L.\u0275dir=f.lG2({type:L,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([Pl]),f.qOj,f.TTD]}),L})(),Dn=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({imports:[[Gr]]}),L})(),lr=(()=>{class L{static withConfig(d){return{ngModule:L,providers:[{provide:ea,useValue:d.warnOnNgModelWithFormControl}]}}}return L.\u0275fac=function(d){return new(d||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({imports:[Dn]}),L})();var Ve=ut(86),vi=ut(9555),yi=ut(6731);const An=["*",[["mat-card-footer"]]],On=["*","mat-card-footer"];let Mn=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275dir=f.lG2({type:L,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),L})(),vr=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275dir=f.lG2({type:L,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),L})(),Qo=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275dir=f.lG2({type:L,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),L})(),zn=(()=>{class L{constructor(){this.align="start"}}return L.\u0275fac=function(d){return new(d||L)},L.\u0275dir=f.lG2({type:L,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(d,P){2&d&&f.ekj("mat-card-actions-align-end","end"===P.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),L})(),Yn=(()=>{class L{constructor(d){this._animationMode=d}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(vi.Qb,8))},L.\u0275cmp=f.Xpm({type:L,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(d,P){2&d&&f.ekj("_mat-animation-noopable","NoopAnimations"===P._animationMode)},exportAs:["matCard"],ngContentSelectors:On,decls:2,vars:0,template:function(d,P){1&d&&(f.F$t(An),f.Hsn(0),f.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),L})(),Ss=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({imports:[[yi.BQ],yi.BQ]}),L})();var Us=ut(7497),to=ut(348),Fe=ut(3242);const It=["input"],Lt=function(L){return{enterDuration:L}},ae=["*"],Ue=new f.OlP("mat-checkbox-default-options",{providedIn:"root",factory:li});function li(){return{color:"accent",clickAction:"check-indeterminate"}}let Vi=0;const Hi=li(),cn={provide:H,useExisting:(0,f.Gpc)(()=>Mr),multi:!0};class Fn{}const cr=(0,yi.sb)((0,yi.pj)((0,yi.Kr)((0,yi.Id)(class{constructor(L){this._elementRef=L}}))));let Mr=(()=>{class L extends cr{constructor(d,P,_t,Jt,Ze,ji,Wi){super(d),this._changeDetectorRef=P,this._focusMonitor=_t,this._ngZone=Jt,this._animationMode=ji,this._options=Wi,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++Vi,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new f.vpe,this.indeterminateChange=new f.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||Hi,this.color=this.defaultColor=this._options.color||Hi.color,this.tabIndex=parseInt(Ze)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(d){this._required=(0,to.Ig)(d)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(d=>{d||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(d){d!=this.checked&&(this._checked=d,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(d){const P=(0,to.Ig)(d);P!==this.disabled&&(this._disabled=P,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(d){const P=d!=this._indeterminate;this._indeterminate=(0,to.Ig)(d),P&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(d){this.checked=!!d}registerOnChange(d){this._controlValueAccessorChangeFn=d}registerOnTouched(d){this._onTouched=d}setDisabledState(d){this.disabled=d}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(d){let P=this._currentCheckState,_t=this._elementRef.nativeElement;if(P!==d&&(this._currentAnimationClass.length>0&&_t.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(P,d),this._currentCheckState=d,this._currentAnimationClass.length>0)){_t.classList.add(this._currentAnimationClass);const Jt=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{_t.classList.remove(Jt)},1e3)})}}_emitChangeEvent(){const d=new Fn;d.source=this,d.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(d),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked}_onInputClick(d){var _t;const P=null==(_t=this._options)?void 0:_t.clickAction;d.stopPropagation(),this.disabled||"noop"===P?!this.disabled&&"noop"===P&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==P&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(d,P){d?this._focusMonitor.focusVia(this._inputElement,d,P):this._inputElement.nativeElement.focus(P)}_onInteractionEvent(d){d.stopPropagation()}_getAnimationClassForCheckStateTransition(d,P){if("NoopAnimations"===this._animationMode)return"";let _t="";switch(d){case 0:if(1===P)_t="unchecked-checked";else{if(3!=P)return"";_t="unchecked-indeterminate"}break;case 2:_t=1===P?"unchecked-checked":"unchecked-indeterminate";break;case 1:_t=2===P?"checked-unchecked":"checked-indeterminate";break;case 3:_t=1===P?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${_t}`}_syncIndeterminate(d){const P=this._inputElement;P&&(P.nativeElement.indeterminate=d)}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(f.SBq),f.Y36(f.sBO),f.Y36(Us.tE),f.Y36(f.R0b),f.$8M("tabindex"),f.Y36(vi.Qb,8),f.Y36(Ue,8))},L.\u0275cmp=f.Xpm({type:L,selectors:[["mat-checkbox"]],viewQuery:function(d,P){if(1&d&&(f.Gf(It,5),f.Gf(yi.wG,5)),2&d){let _t;f.iGM(_t=f.CRH())&&(P._inputElement=_t.first),f.iGM(_t=f.CRH())&&(P.ripple=_t.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(d,P){2&d&&(f.Ikx("id",P.id),f.uIk("tabindex",null),f.ekj("mat-checkbox-indeterminate",P.indeterminate)("mat-checkbox-checked",P.checked)("mat-checkbox-disabled",P.disabled)("mat-checkbox-label-before","before"==P.labelPosition)("_mat-animation-noopable","NoopAnimations"===P._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[f._Bn([cn]),f.qOj],ngContentSelectors:ae,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(d,P){if(1&d&&(f.F$t(),f.TgZ(0,"label",0,1),f.TgZ(2,"span",2),f.TgZ(3,"input",3,4),f.NdJ("change",function(Jt){return P._onInteractionEvent(Jt)})("click",function(Jt){return P._onInputClick(Jt)}),f.qZA(),f.TgZ(5,"span",5),f._UZ(6,"span",6),f.qZA(),f._UZ(7,"span",7),f.TgZ(8,"span",8),f.O4$(),f.TgZ(9,"svg",9),f._UZ(10,"path",10),f.qZA(),f.kcU(),f._UZ(11,"span",11),f.qZA(),f.qZA(),f.TgZ(12,"span",12,13),f.NdJ("cdkObserveContent",function(){return P._onLabelTextChange()}),f.TgZ(14,"span",14),f._uU(15,"\xa0"),f.qZA(),f.Hsn(16),f.qZA(),f.qZA()),2&d){const _t=f.MAs(1),Jt=f.MAs(13);f.uIk("for",P.inputId),f.xp6(2),f.ekj("mat-checkbox-inner-container-no-side-margin",!Jt.textContent||!Jt.textContent.trim()),f.xp6(1),f.Q6J("id",P.inputId)("required",P.required)("checked",P.checked)("disabled",P.disabled)("tabIndex",P.tabIndex),f.uIk("value",P.value)("name",P.name)("aria-label",P.ariaLabel||null)("aria-labelledby",P.ariaLabelledby)("aria-checked",P._getAriaChecked())("aria-describedby",P.ariaDescribedby),f.xp6(2),f.Q6J("matRippleTrigger",_t)("matRippleDisabled",P._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",f.VKq(19,Lt,"NoopAnimations"===P._animationMode?0:150))}},directives:[yi.wG,Fe.wD],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),L})(),Yr=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({}),L})(),eo=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({imports:[[yi.si,yi.BQ,Fe.Q8,Yr],yi.BQ,Yr]}),L})();var yr=ut(6015),Co=ut(5711),Or=ut(2127),ro=ut(273),To=ut(7908),Hs=ut(3719),ws=ut(2997),Gn=ut(1628),Es=ut(8290),ps=ut(9468),_s=ut(3970),bo=ut(461),Ds=ut(928),qn=ut(9814),hs=ut(5077),Po=ut(6263);const ur=["connectionContainer"],Ir=["inputContainer"],ao=["label"];function kr(L,nt){1&L&&(f.ynx(0),f.TgZ(1,"div",14),f._UZ(2,"div",15),f._UZ(3,"div",16),f._UZ(4,"div",17),f.qZA(),f.TgZ(5,"div",18),f._UZ(6,"div",15),f._UZ(7,"div",16),f._UZ(8,"div",17),f.qZA(),f.BQk())}function Lo(L,nt){1&L&&(f.TgZ(0,"div",19),f.Hsn(1,1),f.qZA())}function na(L,nt){if(1&L&&(f.ynx(0),f.Hsn(1,2),f.TgZ(2,"span"),f._uU(3),f.qZA(),f.BQk()),2&L){const d=f.oxw(2);f.xp6(3),f.Oqu(d._control.placeholder)}}function Ns(L,nt){1&L&&f.Hsn(0,3,["*ngSwitchCase","true"])}function ma(L,nt){1&L&&(f.TgZ(0,"span",23),f._uU(1," *"),f.qZA())}function Mo(L,nt){if(1&L){const d=f.EpF();f.TgZ(0,"label",20,21),f.NdJ("cdkObserveContent",function(){return f.CHM(d),f.oxw().updateOutlineGap()}),f.YNc(2,na,4,1,"ng-container",12),f.YNc(3,Ns,1,0,"ng-content",12),f.YNc(4,ma,2,0,"span",22),f.qZA()}if(2&L){const d=f.oxw();f.ekj("mat-empty",d._control.empty&&!d._shouldAlwaysFloat())("mat-form-field-empty",d._control.empty&&!d._shouldAlwaysFloat())("mat-accent","accent"==d.color)("mat-warn","warn"==d.color),f.Q6J("cdkObserveContentDisabled","outline"!=d.appearance)("id",d._labelId)("ngSwitch",d._hasLabel()),f.uIk("for",d._control.id)("aria-owns",d._control.id),f.xp6(2),f.Q6J("ngSwitchCase",!1),f.xp6(1),f.Q6J("ngSwitchCase",!0),f.xp6(1),f.Q6J("ngIf",!d.hideRequiredMarker&&d._control.required&&!d._control.disabled)}}function tl(L,nt){1&L&&(f.TgZ(0,"div",24),f.Hsn(1,4),f.qZA())}function ra(L,nt){if(1&L&&(f.TgZ(0,"div",25),f._UZ(1,"span",26),f.qZA()),2&L){const d=f.oxw();f.xp6(1),f.ekj("mat-accent","accent"==d.color)("mat-warn","warn"==d.color)}}function oa(L,nt){if(1&L&&(f.TgZ(0,"div"),f.Hsn(1,5),f.qZA()),2&L){const d=f.oxw();f.Q6J("@transitionMessages",d._subscriptAnimationState)}}function sa(L,nt){if(1&L&&(f.TgZ(0,"div",30),f._uU(1),f.qZA()),2&L){const d=f.oxw(2);f.Q6J("id",d._hintLabelId),f.xp6(1),f.Oqu(d.hintLabel)}}function Ua(L,nt){if(1&L&&(f.TgZ(0,"div",27),f.YNc(1,sa,2,2,"div",28),f.Hsn(2,6),f._UZ(3,"div",29),f.Hsn(4,7),f.qZA()),2&L){const d=f.oxw();f.Q6J("@transitionMessages",d._subscriptAnimationState),f.xp6(1),f.Q6J("ngIf",d.hintLabel)}}const Ru=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Od=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let xm=0;const Ol=new f.OlP("MatError");let Oh=(()=>{class L{constructor(d,P){this.id="mat-error-"+xm++,d||P.nativeElement.setAttribute("aria-live","polite")}}return L.\u0275fac=function(d){return new(d||L)(f.$8M("aria-live"),f.Y36(f.SBq))},L.\u0275dir=f.lG2({type:L,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(d,P){2&d&&f.uIk("id",P.id)},inputs:{id:"id"},features:[f._Bn([{provide:Ol,useExisting:L}])]}),L})();const ff={transitionMessages:(0,qn.X$)("transitionMessages",[(0,qn.SB)("enter",(0,qn.oB)({opacity:1,transform:"translateY(0%)"})),(0,qn.eR)("void => enter",[(0,qn.oB)({opacity:0,transform:"translateY(-5px)"}),(0,qn.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ic=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275dir=f.lG2({type:L}),L})();const du=new f.OlP("MatHint");let fh=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275dir=f.lG2({type:L,selectors:[["mat-label"]]}),L})(),df=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275dir=f.lG2({type:L,selectors:[["mat-placeholder"]]}),L})();const Ih=new f.OlP("MatPrefix"),pu=new f.OlP("MatSuffix");let dh=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275dir=f.lG2({type:L,selectors:[["","matSuffix",""]],features:[f._Bn([{provide:pu,useExisting:L}])]}),L})(),Il=0;const Yt=(0,yi.pj)(class{constructor(L){this._elementRef=L}},"primary"),Ft=new f.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),ye=new f.OlP("MatFormField");let Me=(()=>{class L extends Yt{constructor(d,P,_t,Jt,Ze,ji,Wi){super(d),this._changeDetectorRef=P,this._dir=_t,this._defaults=Jt,this._platform=Ze,this._ngZone=ji,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ro.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Il++,this._labelId="mat-form-field-label-"+Il++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==Wi,this.appearance=Jt&&Jt.appearance?Jt.appearance:"legacy",this._hideRequiredMarker=!(!Jt||null==Jt.hideRequiredMarker)&&Jt.hideRequiredMarker}get appearance(){return this._appearance}set appearance(d){const P=this._appearance;this._appearance=d||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&P!==d&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(d){this._hideRequiredMarker=(0,to.Ig)(d)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(d){this._hintLabel=d,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(d){d!==this._floatLabel&&(this._floatLabel=d||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(d){this._explicitFormFieldControl=d}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const d=this._control;d.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${d.controlType}`),d.stateChanges.pipe((0,_s.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),d.ngControl&&d.ngControl.valueChanges&&d.ngControl.valueChanges.pipe((0,Po.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Po.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Hs.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,_s.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,_s.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,Po.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(d){const P=this._control?this._control.ngControl:null;return P&&P[d]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,hs.R)(this._label.nativeElement,"transitionend").pipe((0,ps.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let d=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&d.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const P=this._hintChildren?this._hintChildren.find(Jt=>"start"===Jt.align):null,_t=this._hintChildren?this._hintChildren.find(Jt=>"end"===Jt.align):null;P?d.push(P.id):this._hintLabel&&d.push(this._hintLabelId),_t&&d.push(_t.id)}else this._errorChildren&&d.push(...this._errorChildren.map(P=>P.id));this._control.setDescribedByIds(d)}}_validateControlChild(){}updateOutlineGap(){const d=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&d&&d.children.length&&d.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let P=0,_t=0;const Jt=this._connectionContainerRef.nativeElement,Ze=Jt.querySelectorAll(".mat-form-field-outline-start"),ji=Jt.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const Wi=Jt.getBoundingClientRect();if(0===Wi.width&&0===Wi.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const Gi=this._getStartEnd(Wi),sn=d.children,Un=this._getStartEnd(sn[0].getBoundingClientRect());let fr=0;for(let Lr=0;Lr<sn.length;Lr++)fr+=sn[Lr].offsetWidth;P=Math.abs(Un-Gi)-5,_t=fr>0?.75*fr+10:0}for(let Wi=0;Wi<Ze.length;Wi++)Ze[Wi].style.width=`${P}px`;for(let Wi=0;Wi<ji.length;Wi++)ji[Wi].style.width=`${_t}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(d){return this._dir&&"rtl"===this._dir.value?d.right:d.left}_isAttachedToDOM(){const d=this._elementRef.nativeElement;if(d.getRootNode){const P=d.getRootNode();return P&&P!==d}return document.documentElement.contains(d)}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(f.SBq),f.Y36(f.sBO),f.Y36(Es.Is,8),f.Y36(Ft,8),f.Y36(Ds.t4),f.Y36(f.R0b),f.Y36(vi.Qb,8))},L.\u0275cmp=f.Xpm({type:L,selectors:[["mat-form-field"]],contentQueries:function(d,P,_t){if(1&d&&(f.Suo(_t,ic,5),f.Suo(_t,ic,7),f.Suo(_t,fh,5),f.Suo(_t,fh,7),f.Suo(_t,df,5),f.Suo(_t,Ol,5),f.Suo(_t,du,5),f.Suo(_t,Ih,5),f.Suo(_t,pu,5)),2&d){let Jt;f.iGM(Jt=f.CRH())&&(P._controlNonStatic=Jt.first),f.iGM(Jt=f.CRH())&&(P._controlStatic=Jt.first),f.iGM(Jt=f.CRH())&&(P._labelChildNonStatic=Jt.first),f.iGM(Jt=f.CRH())&&(P._labelChildStatic=Jt.first),f.iGM(Jt=f.CRH())&&(P._placeholderChild=Jt.first),f.iGM(Jt=f.CRH())&&(P._errorChildren=Jt),f.iGM(Jt=f.CRH())&&(P._hintChildren=Jt),f.iGM(Jt=f.CRH())&&(P._prefixChildren=Jt),f.iGM(Jt=f.CRH())&&(P._suffixChildren=Jt)}},viewQuery:function(d,P){if(1&d&&(f.Gf(ur,7),f.Gf(Ir,5),f.Gf(ao,5)),2&d){let _t;f.iGM(_t=f.CRH())&&(P._connectionContainerRef=_t.first),f.iGM(_t=f.CRH())&&(P._inputContainerRef=_t.first),f.iGM(_t=f.CRH())&&(P._label=_t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(d,P){2&d&&f.ekj("mat-form-field-appearance-standard","standard"==P.appearance)("mat-form-field-appearance-fill","fill"==P.appearance)("mat-form-field-appearance-outline","outline"==P.appearance)("mat-form-field-appearance-legacy","legacy"==P.appearance)("mat-form-field-invalid",P._control.errorState)("mat-form-field-can-float",P._canLabelFloat())("mat-form-field-should-float",P._shouldLabelFloat())("mat-form-field-has-label",P._hasFloatingLabel())("mat-form-field-hide-placeholder",P._hideControlPlaceholder())("mat-form-field-disabled",P._control.disabled)("mat-form-field-autofilled",P._control.autofilled)("mat-focused",P._control.focused)("ng-untouched",P._shouldForward("untouched"))("ng-touched",P._shouldForward("touched"))("ng-pristine",P._shouldForward("pristine"))("ng-dirty",P._shouldForward("dirty"))("ng-valid",P._shouldForward("valid"))("ng-invalid",P._shouldForward("invalid"))("ng-pending",P._shouldForward("pending"))("_mat-animation-noopable",!P._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[f._Bn([{provide:ye,useExisting:L}]),f.qOj],ngContentSelectors:Od,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(d,P){1&d&&(f.F$t(Ru),f.TgZ(0,"div",0),f.TgZ(1,"div",1,2),f.NdJ("click",function(Jt){return P._control.onContainerClick&&P._control.onContainerClick(Jt)}),f.YNc(3,kr,9,0,"ng-container",3),f.YNc(4,Lo,2,0,"div",4),f.TgZ(5,"div",5,6),f.Hsn(7),f.TgZ(8,"span",7),f.YNc(9,Mo,5,16,"label",8),f.qZA(),f.qZA(),f.YNc(10,tl,2,0,"div",9),f.qZA(),f.YNc(11,ra,2,4,"div",10),f.TgZ(12,"div",11),f.YNc(13,oa,2,1,"div",12),f.YNc(14,Ua,5,2,"div",13),f.qZA(),f.qZA()),2&d&&(f.xp6(3),f.Q6J("ngIf","outline"==P.appearance),f.xp6(1),f.Q6J("ngIf",P._prefixChildren.length),f.xp6(5),f.Q6J("ngIf",P._hasFloatingLabel()),f.xp6(1),f.Q6J("ngIf",P._suffixChildren.length),f.xp6(1),f.Q6J("ngIf","outline"!=P.appearance),f.xp6(1),f.Q6J("ngSwitch",P._getDisplayedMessages()),f.xp6(1),f.Q6J("ngSwitchCase","error"),f.xp6(1),f.Q6J("ngSwitchCase","hint"))},directives:[tt.O5,tt.RF,tt.n9,Fe.wD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[ff.transitionMessages]},changeDetection:0}),L})(),Xe=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({imports:[[tt.ez,yi.BQ,Fe.Q8],yi.BQ]}),L})();var Di=ut(5583),Mi=ut(1472);const In=(0,Ds.i$)({passive:!0});let Nr=(()=>{class L{constructor(d,P){this._platform=d,this._ngZone=P,this._monitoredElements=new Map}monitor(d){if(!this._platform.isBrowser)return Di.E;const P=(0,to.fI)(d),_t=this._monitoredElements.get(P);if(_t)return _t.subject;const Jt=new ro.x,Ze="cdk-text-field-autofilled",ji=Wi=>{"cdk-text-field-autofill-start"!==Wi.animationName||P.classList.contains(Ze)?"cdk-text-field-autofill-end"===Wi.animationName&&P.classList.contains(Ze)&&(P.classList.remove(Ze),this._ngZone.run(()=>Jt.next({target:Wi.target,isAutofilled:!1}))):(P.classList.add(Ze),this._ngZone.run(()=>Jt.next({target:Wi.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{P.addEventListener("animationstart",ji,In),P.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(P,{subject:Jt,unlisten:()=>{P.removeEventListener("animationstart",ji,In)}}),Jt}stopMonitoring(d){const P=(0,to.fI)(d),_t=this._monitoredElements.get(P);_t&&(_t.unlisten(),_t.subject.complete(),P.classList.remove("cdk-text-field-autofill-monitored"),P.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(P))}ngOnDestroy(){this._monitoredElements.forEach((d,P)=>this.stopMonitoring(P))}}return L.\u0275fac=function(d){return new(d||L)(f.LFG(Ds.t4),f.LFG(f.R0b))},L.\u0275prov=f.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})(),Xr=(()=>{class L{constructor(d,P,_t,Jt){this._elementRef=d,this._platform=P,this._ngZone=_t,this._destroyed=new ro.x,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=Ze=>{this._hasFocus="focus"===Ze.type},this._document=Jt,this._textareaElement=this._elementRef.nativeElement}get minRows(){return this._minRows}set minRows(d){this._minRows=(0,to.su)(d),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(d){this._maxRows=(0,to.su)(d),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(d){d=(0,to.Ig)(d),this._enabled!==d&&((this._enabled=d)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(d){this._cachedPlaceholderHeight=void 0,this._textareaElement.placeholder=d,this._cacheTextareaPlaceholderHeight()}_setMinHeight(){const d=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;d&&(this._textareaElement.style.minHeight=d)}_setMaxHeight(){const d=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;d&&(this._textareaElement.style.maxHeight=d)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{const d=this._getWindow();(0,hs.R)(d,"resize").pipe((0,Mi.e)(16),(0,Po.R)(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let d=this._textareaElement.cloneNode(!1);d.rows=1,d.style.position="absolute",d.style.visibility="hidden",d.style.border="none",d.style.padding="0",d.style.height="",d.style.minHeight="",d.style.maxHeight="",d.style.overflow="hidden",this._textareaElement.parentNode.appendChild(d),this._cachedLineHeight=d.clientHeight,d.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){const d=this._textareaElement,P=d.style.marginBottom||"",_t=this._platform.FIREFOX,Jt=_t&&this._hasFocus,Ze=_t?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";Jt&&(d.style.marginBottom=`${d.clientHeight}px`),d.classList.add(Ze);const ji=d.scrollHeight-4;return d.classList.remove(Ze),Jt&&(d.style.marginBottom=P),ji}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||null!=this._cachedPlaceholderHeight)return;if(!this.placeholder)return void(this._cachedPlaceholderHeight=0);const d=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=d}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(d=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;const P=this._elementRef.nativeElement,_t=P.value;if(!d&&this._minRows===this._previousMinRows&&_t===this._previousValue)return;const Jt=this._measureScrollHeight(),Ze=Math.max(Jt,this._cachedPlaceholderHeight||0);P.style.height=`${Ze}px`,this._ngZone.runOutsideAngular(()=>{"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(()=>this._scrollToCaretPosition(P)):setTimeout(()=>this._scrollToCaretPosition(P))}),this._previousValue=_t,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(d){const{selectionStart:P,selectionEnd:_t}=d;!this._destroyed.isStopped&&this._hasFocus&&d.setSelectionRange(P,_t)}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(f.SBq),f.Y36(Ds.t4),f.Y36(f.R0b),f.Y36(tt.K0,8))},L.\u0275dir=f.lG2({type:L,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(d,P){1&d&&f.NdJ("input",function(){return P._noopInputHandler()})},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]}),L})(),So=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({imports:[[Ds.ud]]}),L})();const mu=new f.OlP("MAT_INPUT_VALUE_ACCESSOR"),ph=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Rl=0;const gu=(0,yi.FD)(class{constructor(L,nt,d,P){this._defaultErrorStateMatcher=L,this._parentForm=nt,this._parentFormGroup=d,this.ngControl=P}});let mh=(()=>{class L extends gu{constructor(d,P,_t,Jt,Ze,ji,Wi,Gi,sn,Un){super(ji,Jt,Ze,_t),this._elementRef=d,this._platform=P,this._autofillMonitor=Gi,this._formField=Un,this._uid="mat-input-"+Rl++,this.focused=!1,this.stateChanges=new ro.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(wo=>(0,Ds.qK)().has(wo));const fr=this._elementRef.nativeElement,Lr=fr.nodeName.toLowerCase();this._inputValueAccessor=Wi||fr,this._previousNativeValue=this.value,this.id=this.id,P.IOS&&sn.runOutsideAngular(()=>{d.nativeElement.addEventListener("keyup",wo=>{const Ro=wo.target;!Ro.value&&0===Ro.selectionStart&&0===Ro.selectionEnd&&(Ro.setSelectionRange(1,1),Ro.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Lr,this._isTextarea="textarea"===Lr,this._isInFormField=!!Un,this._isNativeSelect&&(this.controlType=fr.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(d){this._disabled=(0,to.Ig)(d),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(d){this._id=d||this._uid}get required(){var d,P,_t,Jt;return null!=(Jt=null!=(_t=this._required)?_t:null==(P=null==(d=this.ngControl)?void 0:d.control)?void 0:P.hasValidator(wt.required))&&Jt}set required(d){this._required=(0,to.Ig)(d)}get type(){return this._type}set type(d){this._type=d||"text",this._validateType(),!this._isTextarea&&(0,Ds.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(d){d!==this.value&&(this._inputValueAccessor.value=d,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(d){this._readonly=(0,to.Ig)(d)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(d=>{this.autofilled=d.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(d){this._elementRef.nativeElement.focus(d)}_focusChanged(d){d!==this.focused&&(this.focused=d,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var P,_t;const d=(null==(_t=null==(P=this._formField)?void 0:P._hideControlPlaceholder)?void 0:_t.call(P))?null:this.placeholder;if(d!==this._previousPlaceholder){const Jt=this._elementRef.nativeElement;this._previousPlaceholder=d,d?Jt.setAttribute("placeholder",d):Jt.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const d=this._elementRef.nativeElement.value;this._previousNativeValue!==d&&(this._previousNativeValue=d,this.stateChanges.next())}_validateType(){ph.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let d=this._elementRef.nativeElement.validity;return d&&d.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const d=this._elementRef.nativeElement,P=d.options[0];return this.focused||d.multiple||!this.empty||!!(d.selectedIndex>-1&&P&&P.label)}return this.focused||!this.empty}setDescribedByIds(d){d.length?this._elementRef.nativeElement.setAttribute("aria-describedby",d.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const d=this._elementRef.nativeElement;return this._isNativeSelect&&(d.multiple||d.size>1)}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(f.SBq),f.Y36(Ds.t4),f.Y36(fe,10),f.Y36(on,8),f.Y36(Va,8),f.Y36(yi.rD),f.Y36(mu,10),f.Y36(Nr),f.Y36(f.R0b),f.Y36(ye,8))},L.\u0275dir=f.lG2({type:L,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(d,P){1&d&&f.NdJ("focus",function(){return P._focusChanged(!0)})("blur",function(){return P._focusChanged(!1)})("input",function(){return P._onInput()}),2&d&&(f.Ikx("disabled",P.disabled)("required",P.required),f.uIk("id",P.id)("data-placeholder",P.placeholder)("readonly",P.readonly&&!P._isNativeSelect||null)("aria-invalid",P.empty&&P.required?null:P.errorState)("aria-required",P.required),f.ekj("mat-input-server",P._isServer)("mat-native-select-inline",P._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[f._Bn([{provide:ic,useExisting:L}]),f.qOj,f.TTD]}),L})(),gh=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({providers:[yi.rD],imports:[[So,Xe,yi.BQ],So,Xe]}),L})();const Rh=["mat-calendar-body",""];function Tc(L,nt){if(1&L&&(f.TgZ(0,"tr",2),f.TgZ(1,"td",3),f._uU(2),f.qZA(),f.qZA()),2&L){const d=f.oxw();f.xp6(1),f.Udp("padding-top",d._cellPadding)("padding-bottom",d._cellPadding),f.uIk("colspan",d.numCols),f.xp6(1),f.hij(" ",d.label," ")}}function ga(L,nt){if(1&L&&(f.TgZ(0,"td",3),f._uU(1),f.qZA()),2&L){const d=f.oxw(2);f.Udp("padding-top",d._cellPadding)("padding-bottom",d._cellPadding),f.uIk("colspan",d._firstRowOffset),f.xp6(1),f.hij(" ",d._firstRowOffset>=d.labelMinRequiredCells?d.label:""," ")}}function pf(L,nt){if(1&L){const d=f.EpF();f.TgZ(0,"td",7),f.NdJ("click",function(_t){const Ze=f.CHM(d).$implicit;return f.oxw(2)._cellClicked(Ze,_t)}),f.TgZ(1,"div",8),f._uU(2),f.qZA(),f._UZ(3,"div",9),f.qZA()}if(2&L){const d=nt.$implicit,P=nt.index,_t=f.oxw().index,Jt=f.oxw();f.Udp("width",Jt._cellWidth)("padding-top",Jt._cellPadding)("padding-bottom",Jt._cellPadding),f.ekj("mat-calendar-body-disabled",!d.enabled)("mat-calendar-body-active",Jt._isActiveCell(_t,P))("mat-calendar-body-range-start",Jt._isRangeStart(d.compareValue))("mat-calendar-body-range-end",Jt._isRangeEnd(d.compareValue))("mat-calendar-body-in-range",Jt._isInRange(d.compareValue))("mat-calendar-body-comparison-bridge-start",Jt._isComparisonBridgeStart(d.compareValue,_t,P))("mat-calendar-body-comparison-bridge-end",Jt._isComparisonBridgeEnd(d.compareValue,_t,P))("mat-calendar-body-comparison-start",Jt._isComparisonStart(d.compareValue))("mat-calendar-body-comparison-end",Jt._isComparisonEnd(d.compareValue))("mat-calendar-body-in-comparison-range",Jt._isInComparisonRange(d.compareValue))("mat-calendar-body-preview-start",Jt._isPreviewStart(d.compareValue))("mat-calendar-body-preview-end",Jt._isPreviewEnd(d.compareValue))("mat-calendar-body-in-preview",Jt._isInPreview(d.compareValue)),f.Q6J("ngClass",d.cssClasses)("tabindex",Jt._isActiveCell(_t,P)?0:-1),f.uIk("data-mat-row",_t)("data-mat-col",P)("aria-label",d.ariaLabel)("aria-disabled",!d.enabled||null)("aria-selected",Jt._isSelected(d.compareValue)),f.xp6(1),f.ekj("mat-calendar-body-selected",Jt._isSelected(d.compareValue))("mat-calendar-body-comparison-identical",Jt._isComparisonIdentical(d.compareValue))("mat-calendar-body-today",Jt.todayValue===d.compareValue),f.xp6(1),f.hij(" ",d.displayValue," ")}}function Op(L,nt){if(1&L&&(f.TgZ(0,"tr",4),f.YNc(1,ga,2,6,"td",5),f.YNc(2,pf,4,46,"td",6),f.qZA()),2&L){const d=nt.$implicit,P=nt.index,_t=f.oxw();f.xp6(1),f.Q6J("ngIf",0===P&&_t._firstRowOffset),f.xp6(1),f.Q6J("ngForOf",d)}}function ms(L,nt){if(1&L&&(f.TgZ(0,"th",5),f.TgZ(1,"abbr",6),f._uU(2),f.qZA(),f.qZA()),2&L){const d=nt.$implicit;f.uIk("aria-label",d.long),f.xp6(1),f.uIk("title",d.long),f.xp6(1),f.Oqu(d.narrow)}}const bs=["*"];function Xf(L,nt){}function Ld(L,nt){if(1&L){const d=f.EpF();f.TgZ(0,"mat-month-view",5),f.NdJ("activeDateChange",function(_t){return f.CHM(d),f.oxw().activeDate=_t})("_userSelection",function(_t){return f.CHM(d),f.oxw()._dateSelected(_t)}),f.qZA()}if(2&L){const d=f.oxw();f.Q6J("activeDate",d.activeDate)("selected",d.selected)("dateFilter",d.dateFilter)("maxDate",d.maxDate)("minDate",d.minDate)("dateClass",d.dateClass)("comparisonStart",d.comparisonStart)("comparisonEnd",d.comparisonEnd)}}function V0(L,nt){if(1&L){const d=f.EpF();f.TgZ(0,"mat-year-view",6),f.NdJ("activeDateChange",function(_t){return f.CHM(d),f.oxw().activeDate=_t})("monthSelected",function(_t){return f.CHM(d),f.oxw()._monthSelectedInYearView(_t)})("selectedChange",function(_t){return f.CHM(d),f.oxw()._goToDateInView(_t,"month")}),f.qZA()}if(2&L){const d=f.oxw();f.Q6J("activeDate",d.activeDate)("selected",d.selected)("dateFilter",d.dateFilter)("maxDate",d.maxDate)("minDate",d.minDate)("dateClass",d.dateClass)}}function vu(L,nt){if(1&L){const d=f.EpF();f.TgZ(0,"mat-multi-year-view",7),f.NdJ("activeDateChange",function(_t){return f.CHM(d),f.oxw().activeDate=_t})("yearSelected",function(_t){return f.CHM(d),f.oxw()._yearSelectedInMultiYearView(_t)})("selectedChange",function(_t){return f.CHM(d),f.oxw()._goToDateInView(_t,"year")}),f.qZA()}if(2&L){const d=f.oxw();f.Q6J("activeDate",d.activeDate)("selected",d.selected)("dateFilter",d.dateFilter)("maxDate",d.maxDate)("minDate",d.minDate)("dateClass",d.dateClass)}}function yl(L,nt){}const Zf=["button"];function Wu(L,nt){1&L&&(f.O4$(),f.TgZ(0,"svg",3),f._UZ(1,"path",4),f.qZA())}const qf=[[["","matDatepickerToggleIcon",""]]],j0=["[matDatepickerToggleIcon]"];let di=(()=>{class L{constructor(){this.changes=new ro.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(d,P){return`${d} \u2013 ${P}`}}return L.\u0275fac=function(d){return new(d||L)},L.\u0275prov=f.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();class _m{constructor(nt,d,P,_t,Jt={},Ze=nt,ji){this.value=nt,this.displayValue=d,this.ariaLabel=P,this.enabled=_t,this.cssClasses=Jt,this.compareValue=Ze,this.rawValue=ji}}let nc=(()=>{class L{constructor(d,P){this._elementRef=d,this._ngZone=P,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new f.vpe,this.previewChange=new f.vpe,this._enterHandler=_t=>{if(this._skipNextFocus&&"focus"===_t.type)this._skipNextFocus=!1;else if(_t.target&&this.isRange){const Jt=this._getCellFromElement(_t.target);Jt&&this._ngZone.run(()=>this.previewChange.emit({value:Jt.enabled?Jt:null,event:_t}))}},this._leaveHandler=_t=>{null!==this.previewEnd&&this.isRange&&_t.target&&Ip(_t.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:_t}))},P.runOutsideAngular(()=>{const _t=d.nativeElement;_t.addEventListener("mouseenter",this._enterHandler,!0),_t.addEventListener("focus",this._enterHandler,!0),_t.addEventListener("mouseleave",this._leaveHandler,!0),_t.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(d,P){d.enabled&&this.selectedValueChange.emit({value:d.value,event:P})}_isSelected(d){return this.startValue===d||this.endValue===d}ngOnChanges(d){const P=d.numCols,{rows:_t,numCols:Jt}=this;(d.rows||P)&&(this._firstRowOffset=_t&&_t.length&&_t[0].length?Jt-_t[0].length:0),(d.cellAspectRatio||P||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/Jt+"%"),(P||!this._cellWidth)&&(this._cellWidth=100/Jt+"%")}ngOnDestroy(){const d=this._elementRef.nativeElement;d.removeEventListener("mouseenter",this._enterHandler,!0),d.removeEventListener("focus",this._enterHandler,!0),d.removeEventListener("mouseleave",this._leaveHandler,!0),d.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(d,P){let _t=d*this.numCols+P;return d&&(_t-=this._firstRowOffset),_t==this.activeCell}_focusActiveCell(d=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,ps.q)(1)).subscribe(()=>{const P=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");P&&(d||(this._skipNextFocus=!0),P.focus())})})}_isRangeStart(d){return vh(d,this.startValue,this.endValue)}_isRangeEnd(d){return Jl(d,this.startValue,this.endValue)}_isInRange(d){return aa(d,this.startValue,this.endValue,this.isRange)}_isComparisonStart(d){return vh(d,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(d,P,_t){if(!this._isComparisonStart(d)||this._isRangeStart(d)||!this._isInRange(d))return!1;let Jt=this.rows[P][_t-1];if(!Jt){const Ze=this.rows[P-1];Jt=Ze&&Ze[Ze.length-1]}return Jt&&!this._isRangeEnd(Jt.compareValue)}_isComparisonBridgeEnd(d,P,_t){if(!this._isComparisonEnd(d)||this._isRangeEnd(d)||!this._isInRange(d))return!1;let Jt=this.rows[P][_t+1];if(!Jt){const Ze=this.rows[P+1];Jt=Ze&&Ze[0]}return Jt&&!this._isRangeStart(Jt.compareValue)}_isComparisonEnd(d){return Jl(d,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(d){return aa(d,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(d){return this.comparisonStart===this.comparisonEnd&&d===this.comparisonStart}_isPreviewStart(d){return vh(d,this.previewStart,this.previewEnd)}_isPreviewEnd(d){return Jl(d,this.previewStart,this.previewEnd)}_isInPreview(d){return aa(d,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(d){let P;if(Ip(d)?P=d:Ip(d.parentNode)&&(P=d.parentNode),P){const _t=P.getAttribute("data-mat-row"),Jt=P.getAttribute("data-mat-col");if(_t&&Jt)return this.rows[parseInt(_t)][parseInt(Jt)]}return null}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(f.SBq),f.Y36(f.R0b))},L.\u0275cmp=f.Xpm({type:L,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[f.TTD],attrs:Rh,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell",3,"ngClass","tabindex","mat-calendar-body-disabled","mat-calendar-body-active","mat-calendar-body-range-start","mat-calendar-body-range-end","mat-calendar-body-in-range","mat-calendar-body-comparison-bridge-start","mat-calendar-body-comparison-bridge-end","mat-calendar-body-comparison-start","mat-calendar-body-comparison-end","mat-calendar-body-in-comparison-range","mat-calendar-body-preview-start","mat-calendar-body-preview-end","mat-calendar-body-in-preview","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],[1,"mat-calendar-body-cell-preview"]],template:function(d,P){1&d&&(f.YNc(0,Tc,3,6,"tr",0),f.YNc(1,Op,3,2,"tr",1)),2&d&&(f.Q6J("ngIf",P._firstRowOffset<P.labelMinRequiredCells),f.xp6(1),f.Q6J("ngForOf",P.rows))},directives:[tt.O5,tt.sg,tt.mk],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:none;cursor:pointer}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}@media(hover: none){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){background-color:transparent}}\n'],encapsulation:2,changeDetection:0}),L})();function Ip(L){return"TD"===L.nodeName}function vh(L,nt,d){return null!==d&&nt!==d&&L<d&&L===nt}function Jl(L,nt,d){return null!==nt&&nt!==d&&L>=nt&&L===d}function aa(L,nt,d,P){return P&&null!==nt&&null!==d&&nt!==d&&L>=nt&&L<=d}class el{constructor(nt,d){this.start=nt,this.end=d}}let Lu=(()=>{class L{constructor(d,P){this.selection=d,this._adapter=P,this._selectionChanged=new ro.x,this.selectionChanged=this._selectionChanged,this.selection=d}updateSelection(d,P){const _t=this.selection;this.selection=d,this._selectionChanged.next({selection:d,source:P,oldValue:_t})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(d){return this._adapter.isDateInstance(d)&&this._adapter.isValid(d)}}return L.\u0275fac=function(d){f.$Z()},L.\u0275prov=f.Yz7({token:L,factory:L.\u0275fac}),L})(),ov=(()=>{class L extends Lu{constructor(d){super(null,d)}add(d){super.updateSelection(d,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const d=new L(this._adapter);return d.updateSelection(this.selection,this),d}}return L.\u0275fac=function(d){return new(d||L)(f.LFG(yi._A))},L.\u0275prov=f.Yz7({token:L,factory:L.\u0275fac}),L})();const _a={provide:Lu,deps:[[new f.FiY,new f.tp0,Lu],yi._A],useFactory:function(L,nt){return L||new ov(nt)}},Nl=new f.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let Lh=(()=>{class L{constructor(d,P,_t,Jt,Ze){this._changeDetectorRef=d,this._dateFormats=P,this._dateAdapter=_t,this._dir=Jt,this._rangeStrategy=Ze,this._rerenderSubscription=To.w0.EMPTY,this.selectedChange=new f.vpe,this._userSelection=new f.vpe,this.activeDateChange=new f.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(d){const P=this._activeDate,_t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(d))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(_t,this.minDate,this.maxDate),this._hasSameMonthAndYear(P,this._activeDate)||this._init()}get selected(){return this._selected}set selected(d){this._selected=d instanceof el?d:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(d)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(d){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(d))}get maxDate(){return this._maxDate}set maxDate(d){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(d))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,_s.O)(null)).subscribe(()=>this._init())}ngOnChanges(d){const P=d.comparisonStart||d.comparisonEnd;P&&!P.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(d){const P=d.value,_t=this._dateAdapter.getYear(this.activeDate),Jt=this._dateAdapter.getMonth(this.activeDate),Ze=this._dateAdapter.createDate(_t,Jt,P);let ji,Wi;this._selected instanceof el?(ji=this._getDateInCurrentMonth(this._selected.start),Wi=this._getDateInCurrentMonth(this._selected.end)):ji=Wi=this._getDateInCurrentMonth(this._selected),(ji!==P||Wi!==P)&&this.selectedChange.emit(Ze),this._userSelection.emit({value:Ze,event:d.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_handleCalendarBodyKeydown(d){const P=this._activeDate,_t=this._isRtl();switch(d.keyCode){case Gn.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,_t?1:-1);break;case Gn.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,_t?-1:1);break;case Gn.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case Gn.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case Gn.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case Gn.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case Gn.Ku:this.activeDate=d.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case Gn.VM:this.activeDate=d.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case Gn.K5:case Gn.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&d.preventDefault());case Gn.hY:return void(null!=this._previewEnd&&!(0,Gn.Vb)(d)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:d}),d.preventDefault(),d.stopPropagation()));default:return}this._dateAdapter.compareDate(P,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),d.preventDefault()}_handleCalendarBodyKeyup(d){(d.keyCode===Gn.L_||d.keyCode===Gn.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:d}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let d=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(d)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(d){this._matCalendarBody._focusActiveCell(d)}_previewChanged({event:d,value:P}){if(this._rangeStrategy){const Jt=this._rangeStrategy.createPreview(P?P.rawValue:null,this.selected,d);this._previewStart=this._getCellCompareValue(Jt.start),this._previewEnd=this._getCellCompareValue(Jt.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const d=this._dateAdapter.getFirstDayOfWeek(),P=this._dateAdapter.getDayOfWeekNames("narrow");let Jt=this._dateAdapter.getDayOfWeekNames("long").map((Ze,ji)=>({long:Ze,narrow:P[ji]}));this._weekdays=Jt.slice(d).concat(Jt.slice(0,d))}_createWeekCells(){const d=this._dateAdapter.getNumDaysInMonth(this.activeDate),P=this._dateAdapter.getDateNames();this._weeks=[[]];for(let _t=0,Jt=this._firstWeekOffset;_t<d;_t++,Jt++){7==Jt&&(this._weeks.push([]),Jt=0);const Ze=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),_t+1),ji=this._shouldEnableDate(Ze),Wi=this._dateAdapter.format(Ze,this._dateFormats.display.dateA11yLabel),Gi=this.dateClass?this.dateClass(Ze,"month"):void 0;this._weeks[this._weeks.length-1].push(new _m(_t+1,P[_t],Wi,ji,Gi,this._getCellCompareValue(Ze),Ze))}}_shouldEnableDate(d){return!!d&&(!this.minDate||this._dateAdapter.compareDate(d,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(d,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(d))}_getDateInCurrentMonth(d){return d&&this._hasSameMonthAndYear(d,this.activeDate)?this._dateAdapter.getDate(d):null}_hasSameMonthAndYear(d,P){return!(!d||!P||this._dateAdapter.getMonth(d)!=this._dateAdapter.getMonth(P)||this._dateAdapter.getYear(d)!=this._dateAdapter.getYear(P))}_getCellCompareValue(d){if(d){const P=this._dateAdapter.getYear(d),_t=this._dateAdapter.getMonth(d),Jt=this._dateAdapter.getDate(d);return new Date(P,_t,Jt).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(d){d instanceof el?(this._rangeStart=this._getCellCompareValue(d.start),this._rangeEnd=this._getCellCompareValue(d.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(d),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(d){return!this.dateFilter||this.dateFilter(d)}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(f.sBO),f.Y36(yi.sG,8),f.Y36(yi._A,8),f.Y36(Es.Is,8),f.Y36(Nl,8))},L.\u0275cmp=f.Xpm({type:L,selectors:[["mat-month-view"]],viewQuery:function(d,P){if(1&d&&f.Gf(nc,5),2&d){let _t;f.iGM(_t=f.CRH())&&(P._matCalendarBody=_t.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[f.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keyup","keydown"],["scope","col"],[1,"mat-calendar-abbr"]],template:function(d,P){1&d&&(f.TgZ(0,"table",0),f.TgZ(1,"thead",1),f.TgZ(2,"tr"),f.YNc(3,ms,3,3,"th",2),f.qZA(),f.TgZ(4,"tr"),f._UZ(5,"th",3),f.qZA(),f.qZA(),f.TgZ(6,"tbody",4),f.NdJ("selectedValueChange",function(Jt){return P._dateSelected(Jt)})("previewChange",function(Jt){return P._previewChanged(Jt)})("keyup",function(Jt){return P._handleCalendarBodyKeyup(Jt)})("keydown",function(Jt){return P._handleCalendarBodyKeydown(Jt)}),f.qZA(),f.qZA()),2&d&&(f.xp6(3),f.Q6J("ngForOf",P._weekdays),f.xp6(3),f.Q6J("label",P._monthLabel)("rows",P._weeks)("todayValue",P._todayDate)("startValue",P._rangeStart)("endValue",P._rangeEnd)("comparisonStart",P._comparisonRangeStart)("comparisonEnd",P._comparisonRangeEnd)("previewStart",P._previewStart)("previewEnd",P._previewEnd)("isRange",P._isRange)("labelMinRequiredCells",3)("activeCell",P._dateAdapter.getDate(P.activeDate)-1))},directives:[tt.sg,nc],encapsulation:2,changeDetection:0}),L})(),Bd=(()=>{class L{constructor(d,P,_t){this._changeDetectorRef=d,this._dateAdapter=P,this._dir=_t,this._rerenderSubscription=To.w0.EMPTY,this.selectedChange=new f.vpe,this.yearSelected=new f.vpe,this.activeDateChange=new f.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(d){let P=this._activeDate;const _t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(d))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(_t,this.minDate,this.maxDate),Nh(this._dateAdapter,P,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(d){this._selected=d instanceof el?d:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(d)),this._setSelectedYear(d)}get minDate(){return this._minDate}set minDate(d){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(d))}get maxDate(){return this._maxDate}set maxDate(d){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(d))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,_s.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const P=this._dateAdapter.getYear(this._activeDate)-Fl(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let _t=0,Jt=[];_t<24;_t++)Jt.push(P+_t),4==Jt.length&&(this._years.push(Jt.map(Ze=>this._createCellForYear(Ze))),Jt=[]);this._changeDetectorRef.markForCheck()}_yearSelected(d){const P=d.value;this.yearSelected.emit(this._dateAdapter.createDate(P,0,1));let _t=this._dateAdapter.getMonth(this.activeDate),Jt=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(P,_t,1));this.selectedChange.emit(this._dateAdapter.createDate(P,_t,Math.min(this._dateAdapter.getDate(this.activeDate),Jt)))}_handleCalendarBodyKeydown(d){const P=this._activeDate,_t=this._isRtl();switch(d.keyCode){case Gn.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,_t?1:-1);break;case Gn.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,_t?-1:1);break;case Gn.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case Gn.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case Gn.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Fl(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case Gn.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-Fl(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case Gn.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,d.altKey?-240:-24);break;case Gn.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,d.altKey?240:24);break;case Gn.K5:case Gn.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(P,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),d.preventDefault()}_handleCalendarBodyKeyup(d){(d.keyCode===Gn.L_||d.keyCode===Gn.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:d}),this._selectionKeyPressed=!1)}_getActiveCell(){return Fl(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(d){const P=this._dateAdapter.createDate(d,0,1),_t=this._dateAdapter.getYearName(P),Jt=this.dateClass?this.dateClass(P,"multi-year"):void 0;return new _m(d,_t,_t,this._shouldEnableYear(d),Jt)}_shouldEnableYear(d){if(null==d||this.maxDate&&d>this._dateAdapter.getYear(this.maxDate)||this.minDate&&d<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let _t=this._dateAdapter.createDate(d,0,1);this._dateAdapter.getYear(_t)==d;_t=this._dateAdapter.addCalendarDays(_t,1))if(this.dateFilter(_t))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(d){if(this._selectedYear=null,d instanceof el){const P=d.start||d.end;P&&(this._selectedYear=this._dateAdapter.getYear(P))}else d&&(this._selectedYear=this._dateAdapter.getYear(d))}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(f.sBO),f.Y36(yi._A,8),f.Y36(Es.Is,8))},L.\u0275cmp=f.Xpm({type:L,selectors:[["mat-multi-year-view"]],viewQuery:function(d,P){if(1&d&&f.Gf(nc,5),2&d){let _t;f.iGM(_t=f.CRH())&&(P._matCalendarBody=_t.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(d,P){1&d&&(f.TgZ(0,"table",0),f.TgZ(1,"thead",1),f.TgZ(2,"tr"),f._UZ(3,"th",2),f.qZA(),f.qZA(),f.TgZ(4,"tbody",3),f.NdJ("selectedValueChange",function(Jt){return P._yearSelected(Jt)})("keyup",function(Jt){return P._handleCalendarBodyKeyup(Jt)})("keydown",function(Jt){return P._handleCalendarBodyKeydown(Jt)}),f.qZA(),f.qZA()),2&d&&(f.xp6(4),f.Q6J("rows",P._years)("todayValue",P._todayYear)("startValue",P._selectedYear)("endValue",P._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",P._getActiveCell()))},directives:[nc],encapsulation:2,changeDetection:0}),L})();function Nh(L,nt,d,P,_t){const Jt=L.getYear(nt),Ze=L.getYear(d),ji=Ku(L,P,_t);return Math.floor((Jt-ji)/24)===Math.floor((Ze-ji)/24)}function Fl(L,nt,d,P){return function(L,nt){return(L%24+24)%24}(L.getYear(nt)-Ku(L,d,P))}function Ku(L,nt,d){let P=0;return d?P=L.getYear(d)-24+1:nt&&(P=L.getYear(nt)),P}let Cm=(()=>{class L{constructor(d,P,_t,Jt){this._changeDetectorRef=d,this._dateFormats=P,this._dateAdapter=_t,this._dir=Jt,this._rerenderSubscription=To.w0.EMPTY,this.selectedChange=new f.vpe,this.monthSelected=new f.vpe,this.activeDateChange=new f.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(d){let P=this._activeDate;const _t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(d))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(_t,this.minDate,this.maxDate),this._dateAdapter.getYear(P)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(d){this._selected=d instanceof el?d:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(d)),this._setSelectedMonth(d)}get minDate(){return this._minDate}set minDate(d){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(d))}get maxDate(){return this._maxDate}set maxDate(d){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(d))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,_s.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(d){const P=d.value,_t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),P,1);this.monthSelected.emit(_t);const Jt=this._dateAdapter.getNumDaysInMonth(_t);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),P,Math.min(this._dateAdapter.getDate(this.activeDate),Jt)))}_handleCalendarBodyKeydown(d){const P=this._activeDate,_t=this._isRtl();switch(d.keyCode){case Gn.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,_t?1:-1);break;case Gn.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,_t?-1:1);break;case Gn.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case Gn.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case Gn.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case Gn.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case Gn.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,d.altKey?-10:-1);break;case Gn.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,d.altKey?10:1);break;case Gn.K5:case Gn.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(P,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),d.preventDefault()}_handleCalendarBodyKeyup(d){(d.keyCode===Gn.L_||d.keyCode===Gn.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:d}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let d=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(P=>P.map(_t=>this._createCellForMonth(_t,d[_t]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(d){return d&&this._dateAdapter.getYear(d)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(d):null}_createCellForMonth(d,P){const _t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),d,1),Jt=this._dateAdapter.format(_t,this._dateFormats.display.monthYearA11yLabel),Ze=this.dateClass?this.dateClass(_t,"year"):void 0;return new _m(d,P.toLocaleUpperCase(),Jt,this._shouldEnableMonth(d),Ze)}_shouldEnableMonth(d){const P=this._dateAdapter.getYear(this.activeDate);if(null==d||this._isYearAndMonthAfterMaxDate(P,d)||this._isYearAndMonthBeforeMinDate(P,d))return!1;if(!this.dateFilter)return!0;for(let Jt=this._dateAdapter.createDate(P,d,1);this._dateAdapter.getMonth(Jt)==d;Jt=this._dateAdapter.addCalendarDays(Jt,1))if(this.dateFilter(Jt))return!0;return!1}_isYearAndMonthAfterMaxDate(d,P){if(this.maxDate){const _t=this._dateAdapter.getYear(this.maxDate),Jt=this._dateAdapter.getMonth(this.maxDate);return d>_t||d===_t&&P>Jt}return!1}_isYearAndMonthBeforeMinDate(d,P){if(this.minDate){const _t=this._dateAdapter.getYear(this.minDate),Jt=this._dateAdapter.getMonth(this.minDate);return d<_t||d===_t&&P<Jt}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(d){this._selectedMonth=d instanceof el?this._getMonthInCurrentYear(d.start)||this._getMonthInCurrentYear(d.end):this._getMonthInCurrentYear(d)}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(f.sBO),f.Y36(yi.sG,8),f.Y36(yi._A,8),f.Y36(Es.Is,8))},L.\u0275cmp=f.Xpm({type:L,selectors:[["mat-year-view"]],viewQuery:function(d,P){if(1&d&&f.Gf(nc,5),2&d){let _t;f.iGM(_t=f.CRH())&&(P._matCalendarBody=_t.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(d,P){1&d&&(f.TgZ(0,"table",0),f.TgZ(1,"thead",1),f.TgZ(2,"tr"),f._UZ(3,"th",2),f.qZA(),f.qZA(),f.TgZ(4,"tbody",3),f.NdJ("selectedValueChange",function(Jt){return P._monthSelected(Jt)})("keyup",function(Jt){return P._handleCalendarBodyKeyup(Jt)})("keydown",function(Jt){return P._handleCalendarBodyKeydown(Jt)}),f.qZA(),f.qZA()),2&d&&(f.xp6(4),f.Q6J("label",P._yearLabel)("rows",P._months)("todayValue",P._todayMonth)("startValue",P._selectedMonth)("endValue",P._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",P._dateAdapter.getMonth(P.activeDate)))},directives:[nc],encapsulation:2,changeDetection:0}),L})(),jd=0,Pc=(()=>{class L{constructor(d,P,_t,Jt,Ze){this._intl=d,this.calendar=P,this._dateAdapter=_t,this._dateFormats=Jt,this._buttonDescriptionId="mat-calendar-button-"+jd++,this.calendar.stateChanges.subscribe(()=>Ze.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const P=this._dateAdapter.getYear(this.calendar.activeDate)-Fl(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),_t=P+24-1,Jt=this._dateAdapter.getYearName(this._dateAdapter.createDate(P,0,1)),Ze=this._dateAdapter.getYearName(this._dateAdapter.createDate(_t,0,1));return this._intl.formatYearRange(Jt,Ze)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(d,P){return"month"==this.calendar.currentView?this._dateAdapter.getYear(d)==this._dateAdapter.getYear(P)&&this._dateAdapter.getMonth(d)==this._dateAdapter.getMonth(P):"year"==this.calendar.currentView?this._dateAdapter.getYear(d)==this._dateAdapter.getYear(P):Nh(this._dateAdapter,d,P,this.calendar.minDate,this.calendar.maxDate)}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(di),f.Y36((0,f.Gpc)(()=>Sm)),f.Y36(yi._A,8),f.Y36(yi.sG,8),f.Y36(f.sBO))},L.\u0275cmp=f.Xpm({type:L,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:bs,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","cdkAriaLive","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(d,P){1&d&&(f.F$t(),f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"button",2),f.NdJ("click",function(){return P.currentPeriodClicked()}),f.TgZ(3,"span"),f._uU(4),f.qZA(),f.O4$(),f.TgZ(5,"svg",3),f._UZ(6,"polygon",4),f.qZA(),f.qZA(),f.kcU(),f._UZ(7,"div",5),f.Hsn(8),f.TgZ(9,"button",6),f.NdJ("click",function(){return P.previousClicked()}),f.qZA(),f.TgZ(10,"button",7),f.NdJ("click",function(){return P.nextClicked()}),f.qZA(),f.qZA(),f.qZA()),2&d&&(f.xp6(2),f.uIk("aria-label",P.periodButtonLabel)("aria-describedby",P._buttonDescriptionId),f.xp6(1),f.uIk("id",P._buttonDescriptionId),f.xp6(1),f.Oqu(P.periodButtonText),f.xp6(1),f.ekj("mat-calendar-invert","month"!==P.calendar.currentView),f.xp6(4),f.Q6J("disabled",!P.previousEnabled()),f.uIk("aria-label",P.prevButtonLabel),f.xp6(1),f.Q6J("disabled",!P.nextEnabled()),f.uIk("aria-label",P.nextButtonLabel))},directives:[Ve.lW,Us.Qr],encapsulation:2,changeDetection:0}),L})(),Sm=(()=>{class L{constructor(d,P,_t,Jt){this._dateAdapter=P,this._dateFormats=_t,this._changeDetectorRef=Jt,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new f.vpe,this.yearSelected=new f.vpe,this.monthSelected=new f.vpe,this.viewChanged=new f.vpe(!0),this._userSelection=new f.vpe,this.stateChanges=new ro.x,this._intlChanges=d.changes.subscribe(()=>{Jt.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(d){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(d))}get selected(){return this._selected}set selected(d){this._selected=d instanceof el?d:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(d))}get minDate(){return this._minDate}set minDate(d){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(d))}get maxDate(){return this._maxDate}set maxDate(d){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(d))}get activeDate(){return this._clampedActiveDate}set activeDate(d){this._clampedActiveDate=this._dateAdapter.clampDate(d,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(d){const P=this._currentView!==d?d:null;this._currentView=d,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),P&&this.viewChanged.emit(P)}ngAfterContentInit(){this._calendarHeaderPortal=new Co.C5(this.headerComponent||Pc),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(d){const P=d.minDate||d.maxDate||d.dateFilter;if(P&&!P.firstChange){const _t=this._getCurrentViewComponent();_t&&(this._changeDetectorRef.detectChanges(),_t._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(d){const P=d.value;(this.selected instanceof el||P&&!this._dateAdapter.sameDate(P,this.selected))&&this.selectedChange.emit(P),this._userSelection.emit(d)}_yearSelectedInMultiYearView(d){this.yearSelected.emit(d)}_monthSelectedInYearView(d){this.monthSelected.emit(d)}_goToDateInView(d,P){this.activeDate=d,this.currentView=P}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(di),f.Y36(yi._A,8),f.Y36(yi.sG,8),f.Y36(f.sBO))},L.\u0275cmp=f.Xpm({type:L,selectors:[["mat-calendar"]],viewQuery:function(d,P){if(1&d&&(f.Gf(Lh,5),f.Gf(Cm,5),f.Gf(Bd,5)),2&d){let _t;f.iGM(_t=f.CRH())&&(P.monthView=_t.first),f.iGM(_t=f.CRH())&&(P.yearView=_t.first),f.iGM(_t=f.CRH())&&(P.multiYearView=_t.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[f._Bn([_a]),f.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(d,P){1&d&&(f.YNc(0,Xf,0,0,"ng-template",0),f.TgZ(1,"div",1),f.YNc(2,Ld,1,8,"mat-month-view",2),f.YNc(3,V0,1,6,"mat-year-view",3),f.YNc(4,vu,1,6,"mat-multi-year-view",4),f.qZA()),2&d&&(f.Q6J("cdkPortalOutlet",P._calendarHeaderPortal),f.xp6(1),f.Q6J("ngSwitch",P.currentView),f.xp6(1),f.Q6J("ngSwitchCase","month"),f.xp6(1),f.Q6J("ngSwitchCase","year"),f.xp6(1),f.Q6J("ngSwitchCase","multi-year"))},directives:[Co.Pl,Us.kH,tt.RF,tt.n9,Lh,Cm,Bd],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-abbr{text-decoration:none}\n'],encapsulation:2,changeDetection:0}),L})();const Ys={transformPanel:(0,qn.X$)("transformPanel",[(0,qn.eR)("void => enter-dropdown",(0,qn.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,qn.F4)([(0,qn.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,qn.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,qn.eR)("void => enter-dialog",(0,qn.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,qn.F4)([(0,qn.oB)({opacity:0,transform:"scale(0.7)"}),(0,qn.oB)({transform:"none",opacity:1})]))),(0,qn.eR)("* => void",(0,qn.jt)("100ms linear",(0,qn.oB)({opacity:0})))]),fadeInCalendar:(0,qn.X$)("fadeInCalendar",[(0,qn.SB)("void",(0,qn.oB)({opacity:0})),(0,qn.SB)("enter",(0,qn.oB)({opacity:1})),(0,qn.eR)("void => *",(0,qn.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let Rp=0;const mf=new f.OlP("mat-datepicker-scroll-strategy"),Oc={provide:mf,deps:[yr.aV],useFactory:function(L){return()=>L.scrollStrategies.reposition()}},Fh=(0,yi.pj)(class{constructor(L){this._elementRef=L}});let yu=(()=>{class L extends Fh{constructor(d,P,_t,Jt,Ze,ji){super(d),this._changeDetectorRef=P,this._globalModel=_t,this._dateAdapter=Jt,this._rangeSelectionStrategy=Ze,this._subscriptions=new To.w0,this._animationDone=new ro.x,this._actionsPortal=null,this._closeButtonText=ji.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(d){const P=this._model.selection,_t=d.value,Jt=P instanceof el;if(Jt&&this._rangeSelectionStrategy){const Ze=this._rangeSelectionStrategy.selectionFinished(_t,P,d.event);this._model.updateSelection(Ze,this)}else _t&&(Jt||!this._dateAdapter.sameDate(_t,P))&&this._model.add(_t);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(f.SBq),f.Y36(f.sBO),f.Y36(Lu),f.Y36(yi._A),f.Y36(Nl,8),f.Y36(di))},L.\u0275cmp=f.Xpm({type:L,selectors:[["mat-datepicker-content"]],viewQuery:function(d,P){if(1&d&&f.Gf(Sm,5),2&d){let _t;f.iGM(_t=f.CRH())&&(P._calendar=_t.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(d,P){1&d&&f.WFA("@transformPanel.done",function(){return P._animationDone.next()}),2&d&&(f.d8E("@transformPanel",P._animationState),f.ekj("mat-datepicker-content-touch",P.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[f.qOj],decls:5,vars:20,consts:[["cdkTrapFocus","",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(d,P){1&d&&(f.TgZ(0,"div",0),f.TgZ(1,"mat-calendar",1),f.NdJ("yearSelected",function(Jt){return P.datepicker._selectYear(Jt)})("monthSelected",function(Jt){return P.datepicker._selectMonth(Jt)})("viewChanged",function(Jt){return P.datepicker._viewChanged(Jt)})("_userSelection",function(Jt){return P._handleUserSelection(Jt)}),f.qZA(),f.YNc(2,yl,0,0,"ng-template",2),f.TgZ(3,"button",3),f.NdJ("focus",function(){return P._closeButtonFocused=!0})("blur",function(){return P._closeButtonFocused=!1})("click",function(){return P.datepicker.close()}),f._uU(4),f.qZA(),f.qZA()),2&d&&(f.ekj("mat-datepicker-content-container-with-actions",P._actionsPortal),f.xp6(1),f.Q6J("id",P.datepicker.id)("ngClass",P.datepicker.panelClass)("startAt",P.datepicker.startAt)("startView",P.datepicker.startView)("minDate",P.datepicker._getMinDate())("maxDate",P.datepicker._getMaxDate())("dateFilter",P.datepicker._getDateFilter())("headerComponent",P.datepicker.calendarHeaderComponent)("selected",P._getSelected())("dateClass",P.datepicker.dateClass)("comparisonStart",P.comparisonStart)("comparisonEnd",P.comparisonEnd)("@fadeInCalendar","enter"),f.xp6(1),f.Q6J("cdkPortalOutlet",P._actionsPortal),f.xp6(1),f.ekj("cdk-visually-hidden",!P._closeButtonFocused),f.Q6J("color",P.color||"primary"),f.xp6(1),f.Oqu(P._closeButtonText))},directives:[Us.mK,Sm,tt.mk,Co.Pl,Ve.lW],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[Ys.transformPanel,Ys.fadeInCalendar]},changeDetection:0}),L})(),zd=(()=>{class L{constructor(d,P,_t,Jt,Ze,ji,Wi){this._overlay=d,this._ngZone=P,this._viewContainerRef=_t,this._dateAdapter=Ze,this._dir=ji,this._model=Wi,this._inputStateChanges=To.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new f.vpe,this.monthSelected=new f.vpe,this.viewChanged=new f.vpe(!0),this.openedStream=new f.vpe,this.closedStream=new f.vpe,this._opened=!1,this.id="mat-datepicker-"+Rp++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new ro.x,this._scrollStrategy=Jt}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(d){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(d))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(d){this._color=d}get touchUi(){return this._touchUi}set touchUi(d){this._touchUi=(0,to.Ig)(d)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(d){const P=(0,to.Ig)(d);P!==this._disabled&&(this._disabled=P,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(d){this._restoreFocus=(0,to.Ig)(d)}get panelClass(){return this._panelClass}set panelClass(d){this._panelClass=(0,to.du)(d)}get opened(){return this._opened}set opened(d){(0,to.Ig)(d)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(d){const P=d.xPosition||d.yPosition;if(P&&!P.firstChange&&this._overlayRef){const _t=this._overlayRef.getConfig().positionStrategy;_t instanceof yr._G&&(this._setConnectedPositions(_t),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(d){this._model.add(d)}_selectYear(d){this.yearSelected.emit(d)}_selectMonth(d){this.monthSelected.emit(d)}_viewChanged(d){this.viewChanged.emit(d)}registerInput(d){return this._inputStateChanges.unsubscribe(),this.datepickerInput=d,this._inputStateChanges=d.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(d){this._actionsPortal=d}removeActions(d){d===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=(0,Ds.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const P=this._componentRef.instance;P._startExitAnimation(),P._animationDone.pipe((0,ps.q)(1)).subscribe(()=>this._destroyOverlay())}const d=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(d)):d()}_applyPendingSelection(){var d,P;null==(P=null==(d=this._componentRef)?void 0:d.instance)||P._applyPendingSelection()}_forwardContentValues(d){d.datepicker=this,d.color=this.color,d._actionsPortal=this._actionsPortal}_openOverlay(){this._destroyOverlay();const d=this.touchUi,P=this.datepickerInput.getOverlayLabelId(),_t=new Co.C5(yu,this._viewContainerRef),Jt=this._overlayRef=this._overlay.create(new yr.X_({positionStrategy:d?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[d?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:d?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(d?"dialog":"popup")})),Ze=Jt.overlayElement;Ze.setAttribute("role","dialog"),P&&Ze.setAttribute("aria-labelledby",P),d&&Ze.setAttribute("aria-modal","true"),this._getCloseStream(Jt).subscribe(ji=>{ji&&ji.preventDefault(),this.close()}),this._componentRef=Jt.attach(_t),this._forwardContentValues(this._componentRef.instance),d||this._ngZone.onStable.pipe((0,ps.q)(1)).subscribe(()=>Jt.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const d=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(d)}_setConnectedPositions(d){const P="end"===this.xPosition?"end":"start",_t="start"===P?"end":"start",Jt="above"===this.yPosition?"bottom":"top",Ze="top"===Jt?"bottom":"top";return d.withPositions([{originX:P,originY:Ze,overlayX:P,overlayY:Jt},{originX:P,originY:Jt,overlayX:P,overlayY:Ze},{originX:_t,originY:Ze,overlayX:_t,overlayY:Jt},{originX:_t,originY:Jt,overlayX:_t,overlayY:Ze}])}_getCloseStream(d){return(0,Hs.T)(d.backdropClick(),d.detachments(),d.keydownEvents().pipe((0,bo.h)(P=>P.keyCode===Gn.hY&&!(0,Gn.Vb)(P)||this.datepickerInput&&(0,Gn.Vb)(P,"altKey")&&P.keyCode===Gn.LH)))}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(yr.aV),f.Y36(f.R0b),f.Y36(f.s_b),f.Y36(mf),f.Y36(yi._A,8),f.Y36(Es.Is,8),f.Y36(Lu))},L.\u0275dir=f.lG2({type:L,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[f.TTD]}),L})(),gg=(()=>{class L extends zd{}return L.\u0275fac=function(){let nt;return function(P){return(nt||(nt=f.n5z(L)))(P||L)}}(),L.\u0275cmp=f.Xpm({type:L,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[f._Bn([_a,{provide:zd,useExisting:L}]),f.qOj],decls:0,vars:0,template:function(d,P){},encapsulation:2,changeDetection:0}),L})();class Ud{constructor(nt,d){this.target=nt,this.targetElement=d,this.value=this.target.value}}let Hd=(()=>{class L{constructor(d,P,_t){this._elementRef=d,this._dateAdapter=P,this._dateFormats=_t,this.dateChange=new f.vpe,this.dateInput=new f.vpe,this.stateChanges=new ro.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=To.w0.EMPTY,this._localeSubscription=To.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=Jt=>{const Ze=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Jt.value));return!Ze||this._matchesFilter(Ze)?null:{matDatepickerFilter:!0}},this._minValidator=Jt=>{const Ze=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Jt.value)),ji=this._getMinDate();return!ji||!Ze||this._dateAdapter.compareDate(ji,Ze)<=0?null:{matDatepickerMin:{min:ji,actual:Ze}}},this._maxValidator=Jt=>{const Ze=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Jt.value)),ji=this._getMaxDate();return!ji||!Ze||this._dateAdapter.compareDate(ji,Ze)>=0?null:{matDatepickerMax:{max:ji,actual:Ze}}},this._lastValueValid=!1,this._localeSubscription=P.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(d){this._assignValueProgrammatically(d)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(d){const P=(0,to.Ig)(d),_t=this._elementRef.nativeElement;this._disabled!==P&&(this._disabled=P,this.stateChanges.next(void 0)),P&&this._isInitialized&&_t.blur&&_t.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(d){this._model=d,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(P=>{if(this._shouldHandleChangeEvent(P)){const _t=this._getValueFromModel(P.selection);this._lastValueValid=this._isValidValue(_t),this._cvaOnChange(_t),this._onTouched(),this._formatValue(_t),this.dateInput.emit(new Ud(this,this._elementRef.nativeElement)),this.dateChange.emit(new Ud(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(d){(function(L,nt){const d=Object.keys(L);for(let P of d){const{previousValue:_t,currentValue:Jt}=L[P];if(!nt.isDateInstance(_t)||!nt.isDateInstance(Jt))return!0;if(!nt.sameDate(_t,Jt))return!0}return!1})(d,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(d){this._validatorOnChange=d}validate(d){return this._validator?this._validator(d):null}writeValue(d){this._assignValueProgrammatically(d)}registerOnChange(d){this._cvaOnChange=d}registerOnTouched(d){this._onTouched=d}setDisabledState(d){this.disabled=d}_onKeydown(d){d.altKey&&d.keyCode===Gn.JH&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),d.preventDefault())}_onInput(d){const P=this._lastValueValid;let _t=this._dateAdapter.parse(d,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(_t),_t=this._dateAdapter.getValidDateOrNull(_t),this._dateAdapter.sameDate(_t,this.value)?(d&&!this.value&&this._cvaOnChange(_t),P!==this._lastValueValid&&this._validatorOnChange()):(this._assignValue(_t),this._cvaOnChange(_t),this.dateInput.emit(new Ud(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Ud(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(d){this._elementRef.nativeElement.value=d?this._dateAdapter.format(d,this._dateFormats.display.dateInput):""}_assignValue(d){this._model?(this._assignValueToModel(d),this._pendingValue=null):this._pendingValue=d}_isValidValue(d){return!d||this._dateAdapter.isValid(d)}_parentDisabled(){return!1}_assignValueProgrammatically(d){d=this._dateAdapter.deserialize(d),this._lastValueValid=this._isValidValue(d),d=this._dateAdapter.getValidDateOrNull(d),this._assignValue(d),this._formatValue(d)}_matchesFilter(d){const P=this._getDateFilter();return!P||P(d)}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(f.SBq),f.Y36(yi._A,8),f.Y36(yi.sG,8))},L.\u0275dir=f.lG2({type:L,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[f.TTD]}),L})();const rc={provide:H,useExisting:(0,f.Gpc)(()=>Lp),multi:!0},Ic={provide:it,useExisting:(0,f.Gpc)(()=>Lp),multi:!0};let Lp=(()=>{class L extends Hd{constructor(d,P,_t,Jt){super(d,P,_t),this._formField=Jt,this._closedSubscription=To.w0.EMPTY,this._validator=wt.compose(super._getValidators())}set matDatepicker(d){d&&(this._datepicker=d,this._closedSubscription=d.closedStream.subscribe(()=>this._onTouched()),this._registerModel(d.registerInput(this)))}get min(){return this._min}set min(d){const P=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(d));this._dateAdapter.sameDate(P,this._min)||(this._min=P,this._validatorOnChange())}get max(){return this._max}set max(d){const P=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(d));this._dateAdapter.sameDate(P,this._max)||(this._max=P,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(d){const P=this._matchesFilter(this.value);this._dateFilter=d,this._matchesFilter(this.value)!==P&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(d){return d}_assignValueToModel(d){this._model&&this._model.updateSelection(d,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(d){return d.source!==this}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(f.SBq),f.Y36(yi._A,8),f.Y36(yi.sG,8),f.Y36(ye,8))},L.\u0275dir=f.lG2({type:L,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(d,P){1&d&&f.NdJ("input",function(Jt){return P._onInput(Jt.target.value)})("change",function(){return P._onChange()})("blur",function(){return P._onBlur()})("keydown",function(Jt){return P._onKeydown(Jt)}),2&d&&(f.Ikx("disabled",P.disabled),f.uIk("aria-haspopup",P._datepicker?"dialog":null)("aria-owns",(null==P._datepicker?null:P._datepicker.opened)&&P._datepicker.id||null)("min",P.min?P._dateAdapter.toIso8601(P.min):null)("max",P.max?P._dateAdapter.toIso8601(P.max):null)("data-mat-calendar",P._datepicker?P._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[f._Bn([rc,Ic,{provide:mu,useExisting:L}]),f.qOj]}),L})(),ba=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275dir=f.lG2({type:L,selectors:[["","matDatepickerToggleIcon",""]]}),L})(),Qf=(()=>{class L{constructor(d,P,_t){this._intl=d,this._changeDetectorRef=P,this._stateChanges=To.w0.EMPTY;const Jt=Number(_t);this.tabIndex=Jt||0===Jt?Jt:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(d){this._disabled=(0,to.Ig)(d)}ngOnChanges(d){d.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(d){this.datepicker&&!this.disabled&&(this.datepicker.open(),d.stopPropagation())}_watchStateChanges(){const d=this.datepicker?this.datepicker.stateChanges:(0,ws.of)(),P=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,ws.of)(),_t=this.datepicker?(0,Hs.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,ws.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,Hs.T)(this._intl.changes,d,P,_t).subscribe(()=>this._changeDetectorRef.markForCheck())}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(di),f.Y36(f.sBO),f.$8M("tabindex"))},L.\u0275cmp=f.Xpm({type:L,selectors:[["mat-datepicker-toggle"]],contentQueries:function(d,P,_t){if(1&d&&f.Suo(_t,ba,5),2&d){let Jt;f.iGM(Jt=f.CRH())&&(P._customIcon=Jt.first)}},viewQuery:function(d,P){if(1&d&&f.Gf(Zf,5),2&d){let _t;f.iGM(_t=f.CRH())&&(P._button=_t.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(d,P){1&d&&f.NdJ("click",function(Jt){return P._open(Jt)}),2&d&&(f.uIk("tabindex",null)("data-mat-calendar",P.datepicker?P.datepicker.id:null),f.ekj("mat-datepicker-toggle-active",P.datepicker&&P.datepicker.opened)("mat-accent",P.datepicker&&"accent"===P.datepicker.color)("mat-warn",P.datepicker&&"warn"===P.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[f.TTD],ngContentSelectors:j0,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(d,P){1&d&&(f.F$t(qf),f.TgZ(0,"button",0,1),f.YNc(2,Wu,2,0,"svg",2),f.Hsn(3),f.qZA()),2&d&&(f.Q6J("disabled",P.disabled)("disableRipple",P.disableRipple),f.uIk("aria-haspopup",P.datepicker?"dialog":null)("aria-label",P.ariaLabel||P._intl.openCalendarLabel)("tabindex",P.disabled?-1:P.tabIndex),f.xp6(2),f.Q6J("ngIf",!P._customIcon))},directives:[Ve.lW,tt.O5],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),L})(),Dm=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({providers:[di,Oc],imports:[[tt.ez,Ve.ot,yr.U8,Us.rt,Co.eL,yi.BQ],Or.ZD]}),L})();var Wd=ut(2047),gf=ut(5044),Np=ut(7384),Kd=ut(2835),vf=ut(423),Vh=ut(3174),yf=ut(4522);const xl=["*"];let Rc;function ac(L){var nt;return(null==(nt=function(){if(void 0===Rc&&(Rc=null,"undefined"!=typeof window)){const L=window;void 0!==L.trustedTypes&&(Rc=L.trustedTypes.createPolicy("angular#components",{createHTML:nt=>nt}))}return Rc}())?void 0:nt.createHTML(L))||L}function km(L){return Error(`Unable to find icon with the name "${L}"`)}function Fp(L){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${L}".`)}function Xd(L){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${L}".`)}class Bl{constructor(nt,d,P){this.url=nt,this.svgText=d,this.options=P}}let va=(()=>{class L{constructor(d,P,_t,Jt){this._httpClient=d,this._sanitizer=P,this._errorHandler=Jt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=_t}addSvgIcon(d,P,_t){return this.addSvgIconInNamespace("",d,P,_t)}addSvgIconLiteral(d,P,_t){return this.addSvgIconLiteralInNamespace("",d,P,_t)}addSvgIconInNamespace(d,P,_t,Jt){return this._addSvgIconConfig(d,P,new Bl(_t,null,Jt))}addSvgIconResolver(d){return this._resolvers.push(d),this}addSvgIconLiteralInNamespace(d,P,_t,Jt){const Ze=this._sanitizer.sanitize(f.q3G.HTML,_t);if(!Ze)throw Xd(_t);const ji=ac(Ze);return this._addSvgIconConfig(d,P,new Bl("",ji,Jt))}addSvgIconSet(d,P){return this.addSvgIconSetInNamespace("",d,P)}addSvgIconSetLiteral(d,P){return this.addSvgIconSetLiteralInNamespace("",d,P)}addSvgIconSetInNamespace(d,P,_t){return this._addSvgIconSetConfig(d,new Bl(P,null,_t))}addSvgIconSetLiteralInNamespace(d,P,_t){const Jt=this._sanitizer.sanitize(f.q3G.HTML,P);if(!Jt)throw Xd(P);const Ze=ac(Jt);return this._addSvgIconSetConfig(d,new Bl("",Ze,_t))}registerFontClassAlias(d,P=d){return this._fontCssClassesByAlias.set(d,P),this}classNameForFontAlias(d){return this._fontCssClassesByAlias.get(d)||d}setDefaultFontSetClass(d){return this._defaultFontSetClass=d,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(d){const P=this._sanitizer.sanitize(f.q3G.RESOURCE_URL,d);if(!P)throw Fp(d);const _t=this._cachedIconsByUrl.get(P);return _t?(0,ws.of)(Ta(_t)):this._loadSvgIconFromConfig(new Bl(d,null)).pipe((0,Np.b)(Jt=>this._cachedIconsByUrl.set(P,Jt)),(0,G.U)(Jt=>Ta(Jt)))}getNamedSvgIcon(d,P=""){const _t=zh(P,d);let Jt=this._svgIconConfigs.get(_t);if(Jt)return this._getSvgFromConfig(Jt);if(Jt=this._getIconConfigFromResolvers(P,d),Jt)return this._svgIconConfigs.set(_t,Jt),this._getSvgFromConfig(Jt);const Ze=this._iconSetConfigs.get(P);return Ze?this._getSvgFromIconSetConfigs(d,Ze):function(L,nt){const d=(0,gf.m)(L)?L:()=>L,P=_t=>_t.error(d());return new Wd.y(P)}(km(_t))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(d){return d.svgText?(0,ws.of)(Ta(this._svgElementFromConfig(d))):this._loadSvgIconFromConfig(d).pipe((0,G.U)(P=>Ta(P)))}_getSvgFromIconSetConfigs(d,P){const _t=this._extractIconWithNameFromAnySet(d,P);if(_t)return(0,ws.of)(_t);const Jt=P.filter(Ze=>!Ze.svgText).map(Ze=>this._loadSvgIconSetFromConfig(Ze).pipe((0,Kd.K)(ji=>{const Gi=`Loading icon set URL: ${this._sanitizer.sanitize(f.q3G.RESOURCE_URL,Ze.url)} failed: ${ji.message}`;return this._errorHandler.handleError(new Error(Gi)),(0,ws.of)(null)})));return(0,W.D)(Jt).pipe((0,G.U)(()=>{const Ze=this._extractIconWithNameFromAnySet(d,P);if(!Ze)throw km(d);return Ze}))}_extractIconWithNameFromAnySet(d,P){for(let _t=P.length-1;_t>=0;_t--){const Jt=P[_t];if(Jt.svgText&&Jt.svgText.toString().indexOf(d)>-1){const Ze=this._svgElementFromConfig(Jt),ji=this._extractSvgIconFromSet(Ze,d,Jt.options);if(ji)return ji}}return null}_loadSvgIconFromConfig(d){return this._fetchIcon(d).pipe((0,Np.b)(P=>d.svgText=P),(0,G.U)(()=>this._svgElementFromConfig(d)))}_loadSvgIconSetFromConfig(d){return d.svgText?(0,ws.of)(null):this._fetchIcon(d).pipe((0,Np.b)(P=>d.svgText=P))}_extractSvgIconFromSet(d,P,_t){const Jt=d.querySelector(`[id="${P}"]`);if(!Jt)return null;const Ze=Jt.cloneNode(!0);if(Ze.removeAttribute("id"),"svg"===Ze.nodeName.toLowerCase())return this._setSvgAttributes(Ze,_t);if("symbol"===Ze.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Ze),_t);const ji=this._svgElementFromString(ac("<svg></svg>"));return ji.appendChild(Ze),this._setSvgAttributes(ji,_t)}_svgElementFromString(d){const P=this._document.createElement("DIV");P.innerHTML=d;const _t=P.querySelector("svg");if(!_t)throw Error("<svg> tag not found");return _t}_toSvgElement(d){const P=this._svgElementFromString(ac("<svg></svg>")),_t=d.attributes;for(let Jt=0;Jt<_t.length;Jt++){const{name:Ze,value:ji}=_t[Jt];"id"!==Ze&&P.setAttribute(Ze,ji)}for(let Jt=0;Jt<d.childNodes.length;Jt++)d.childNodes[Jt].nodeType===this._document.ELEMENT_NODE&&P.appendChild(d.childNodes[Jt].cloneNode(!0));return P}_setSvgAttributes(d,P){return d.setAttribute("fit",""),d.setAttribute("height","100%"),d.setAttribute("width","100%"),d.setAttribute("preserveAspectRatio","xMidYMid meet"),d.setAttribute("focusable","false"),P&&P.viewBox&&d.setAttribute("viewBox",P.viewBox),d}_fetchIcon(d){var Gi;const{url:P,options:_t}=d,Jt=null!=(Gi=null==_t?void 0:_t.withCredentials)&&Gi;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==P)throw Error(`Cannot fetch icon from URL "${P}".`);const Ze=this._sanitizer.sanitize(f.q3G.RESOURCE_URL,P);if(!Ze)throw Fp(P);const ji=this._inProgressUrlFetches.get(Ze);if(ji)return ji;const Wi=this._httpClient.get(Ze,{responseType:"text",withCredentials:Jt}).pipe((0,G.U)(sn=>ac(sn)),(0,vf.x)(()=>this._inProgressUrlFetches.delete(Ze)),(0,Vh.B)());return this._inProgressUrlFetches.set(Ze,Wi),Wi}_addSvgIconConfig(d,P,_t){return this._svgIconConfigs.set(zh(d,P),_t),this}_addSvgIconSetConfig(d,P){const _t=this._iconSetConfigs.get(d);return _t?_t.push(P):this._iconSetConfigs.set(d,[P]),this}_svgElementFromConfig(d){if(!d.svgElement){const P=this._svgElementFromString(d.svgText);this._setSvgAttributes(P,d.options),d.svgElement=P}return d.svgElement}_getIconConfigFromResolvers(d,P){for(let _t=0;_t<this._resolvers.length;_t++){const Jt=this._resolvers[_t](P,d);if(Jt)return td(Jt)?new Bl(Jt.url,null,Jt.options):new Bl(Jt,null)}}}return L.\u0275fac=function(d){return new(d||L)(f.LFG(yf.eN,8),f.LFG(ct.H7),f.LFG(tt.K0,8),f.LFG(f.qLn))},L.\u0275prov=f.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();function Ta(L){return L.cloneNode(!0)}function zh(L,nt){return L+":"+nt}function td(L){return!(!L.url||!L.options)}const Zd=(0,yi.pj)(class{constructor(L){this._elementRef=L}}),U0=new f.OlP("mat-icon-location",{providedIn:"root",factory:function(){const L=(0,f.f3M)(tt.K0),nt=L?L.location:null;return{getPathname:()=>nt?nt.pathname+nt.search:""}}}),la=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Ws=la.map(L=>`[${L}]`).join(", "),vg=/^url\(['"]?#(.*?)['"]?\)$/;let lc=(()=>{class L extends Zd{constructor(d,P,_t,Jt,Ze){super(d),this._iconRegistry=P,this._location=Jt,this._errorHandler=Ze,this._inline=!1,this._currentIconFetch=To.w0.EMPTY,_t||d.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(d){this._inline=(0,to.Ig)(d)}get svgIcon(){return this._svgIcon}set svgIcon(d){d!==this._svgIcon&&(d?this._updateSvgIcon(d):this._svgIcon&&this._clearSvgElement(),this._svgIcon=d)}get fontSet(){return this._fontSet}set fontSet(d){const P=this._cleanupFontValue(d);P!==this._fontSet&&(this._fontSet=P,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(d){const P=this._cleanupFontValue(d);P!==this._fontIcon&&(this._fontIcon=P,this._updateFontIconClasses())}_splitIconName(d){if(!d)return["",""];const P=d.split(":");switch(P.length){case 1:return["",P[0]];case 2:return P;default:throw Error(`Invalid icon name: "${d}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const d=this._elementsWithExternalReferences;if(d&&d.size){const P=this._location.getPathname();P!==this._previousPath&&(this._previousPath=P,this._prependPathToReferences(P))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(d){this._clearSvgElement();const P=d.querySelectorAll("style");for(let Jt=0;Jt<P.length;Jt++)P[Jt].textContent+=" ";const _t=this._location.getPathname();this._previousPath=_t,this._cacheChildrenWithExternalReferences(d),this._prependPathToReferences(_t),this._elementRef.nativeElement.appendChild(d)}_clearSvgElement(){const d=this._elementRef.nativeElement;let P=d.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();P--;){const _t=d.childNodes[P];(1!==_t.nodeType||"svg"===_t.nodeName.toLowerCase())&&_t.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const d=this._elementRef.nativeElement,P=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();P!=this._previousFontSetClass&&(this._previousFontSetClass&&d.classList.remove(this._previousFontSetClass),P&&d.classList.add(P),this._previousFontSetClass=P),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&d.classList.remove(this._previousFontIconClass),this.fontIcon&&d.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(d){return"string"==typeof d?d.trim().split(" ")[0]:d}_prependPathToReferences(d){const P=this._elementsWithExternalReferences;P&&P.forEach((_t,Jt)=>{_t.forEach(Ze=>{Jt.setAttribute(Ze.name,`url('${d}#${Ze.value}')`)})})}_cacheChildrenWithExternalReferences(d){const P=d.querySelectorAll(Ws),_t=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Jt=0;Jt<P.length;Jt++)la.forEach(Ze=>{const ji=P[Jt],Wi=ji.getAttribute(Ze),Gi=Wi?Wi.match(vg):null;if(Gi){let sn=_t.get(ji);sn||(sn=[],_t.set(ji,sn)),sn.push({name:Ze,value:Gi[1]})}})}_updateSvgIcon(d){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),d){const[P,_t]=this._splitIconName(d);P&&(this._svgNamespace=P),_t&&(this._svgName=_t),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(_t,P).pipe((0,ps.q)(1)).subscribe(Jt=>this._setSvgElement(Jt),Jt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${P}:${_t}! ${Jt.message}`))})}}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(f.SBq),f.Y36(va),f.$8M("aria-hidden"),f.Y36(U0),f.Y36(f.qLn))},L.\u0275cmp=f.Xpm({type:L,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(d,P){2&d&&(f.uIk("data-mat-icon-type",P._usingFontIcon()?"font":"svg")("data-mat-icon-name",P._svgName||P.fontIcon)("data-mat-icon-namespace",P._svgNamespace||P.fontSet),f.ekj("mat-icon-inline",P.inline)("mat-icon-no-color","primary"!==P.color&&"accent"!==P.color&&"warn"!==P.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[f.qOj],ngContentSelectors:xl,decls:1,vars:0,template:function(d,P){1&d&&(f.F$t(),f.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),L})(),Tm=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({imports:[[yi.BQ],yi.BQ]}),L})();class wf{constructor(nt=!1,d,P=!0){this._multiple=nt,this._emitChanges=P,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new ro.x,d&&d.length&&(nt?d.forEach(_t=>this._markSelected(_t)):this._markSelected(d[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...nt){this._verifyValueAssignment(nt),nt.forEach(d=>this._markSelected(d)),this._emitChangeEvent()}deselect(...nt){this._verifyValueAssignment(nt),nt.forEach(d=>this._unmarkSelected(d)),this._emitChangeEvent()}toggle(nt){this.isSelected(nt)?this.deselect(nt):this.select(nt)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(nt){return this._selection.has(nt)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(nt){this._multiple&&this.selected&&this._selected.sort(nt)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(nt){this.isSelected(nt)||(this._multiple||this._unmarkAll(),this._selection.add(nt),this._emitChanges&&this._selectedToEmit.push(nt))}_unmarkSelected(nt){this.isSelected(nt)&&(this._selection.delete(nt),this._emitChanges&&this._deselectedToEmit.push(nt))}_unmarkAll(){this.isEmpty()||this._selection.forEach(nt=>this._unmarkSelected(nt))}_verifyValueAssignment(nt){}}let Pm=(()=>{class L{constructor(){this._listeners=[]}notify(d,P){for(let _t of this._listeners)_t(d,P)}listen(d){return this._listeners.push(d),()=>{this._listeners=this._listeners.filter(P=>d!==P)}}ngOnDestroy(){this._listeners=[]}}return L.\u0275fac=function(d){return new(d||L)},L.\u0275prov=f.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})(),jp=(()=>{class L{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(d){this._vertical=(0,to.Ig)(d)}get inset(){return this._inset}set inset(d){this._inset=(0,to.Ig)(d)}}return L.\u0275fac=function(d){return new(d||L)},L.\u0275cmp=f.Xpm({type:L,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(d,P){2&d&&(f.uIk("aria-orientation",P.vertical?"vertical":"horizontal"),f.ekj("mat-divider-vertical",P.vertical)("mat-divider-horizontal",!P.vertical)("mat-divider-inset",P.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(d,P){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),L})(),zp=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({imports:[[yi.BQ],yi.BQ]}),L})();const ed=["*"],Y0=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],W0=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],Ia=(0,yi.Id)((0,yi.Kr)(class{})),hc=(0,yi.Kr)(class{}),bf=new f.OlP("MatList"),Zr=new f.OlP("MatNavList");let Mf=(()=>{class L extends Ia{constructor(){super(...arguments),this._stateChanges=new ro.x}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return L.\u0275fac=function(){let nt;return function(P){return(nt||(nt=f.n5z(L)))(P||L)}}(),L.\u0275cmp=f.Xpm({type:L,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[f._Bn([{provide:Zr,useExisting:L}]),f.qOj,f.TTD],ngContentSelectors:ed,decls:1,vars:0,template:function(d,P){1&d&&(f.F$t(),f.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),L})(),jn=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275dir=f.lG2({type:L,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),L})(),No=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275dir=f.lG2({type:L,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),L})(),wl=(()=>{class L extends hc{constructor(d,P,_t,Jt){super(),this._element=d,this._isInteractiveList=!1,this._destroyed=new ro.x,this._disabled=!1,this._isInteractiveList=!!(_t||Jt&&"action-list"===Jt._getListType()),this._list=_t||Jt;const Ze=this._getHostElement();"button"===Ze.nodeName.toLowerCase()&&!Ze.hasAttribute("type")&&Ze.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe((0,Po.R)(this._destroyed)).subscribe(()=>{P.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(d){this._disabled=(0,to.Ig)(d)}ngAfterContentInit(){(0,yi.E0)(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(f.SBq),f.Y36(f.sBO),f.Y36(Zr,8),f.Y36(bf,8))},L.\u0275cmp=f.Xpm({type:L,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(d,P,_t){if(1&d&&(f.Suo(_t,jn,5),f.Suo(_t,No,5),f.Suo(_t,yi.X2,5)),2&d){let Jt;f.iGM(Jt=f.CRH())&&(P._avatar=Jt.first),f.iGM(Jt=f.CRH())&&(P._icon=Jt.first),f.iGM(Jt=f.CRH())&&(P._lines=Jt)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(d,P){2&d&&f.ekj("mat-list-item-disabled",P.disabled)("mat-list-item-avatar",P._avatar||P._icon)("mat-list-item-with-avatar",P._avatar||P._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[f.qOj],ngContentSelectors:W0,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(d,P){1&d&&(f.F$t(Y0),f.TgZ(0,"div",0),f._UZ(1,"div",1),f.Hsn(2),f.TgZ(3,"div",2),f.Hsn(4,1),f.qZA(),f.Hsn(5,2),f.qZA()),2&d&&(f.xp6(1),f.Q6J("matRippleTrigger",P._getHostElement())("matRippleDisabled",P._isRippleDisabled()))},directives:[yi.wG],encapsulation:2,changeDetection:0}),L})(),Lc=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({imports:[[yi.uc,yi.si,yi.BQ,yi.us,tt.ez],yi.uc,yi.BQ,yi.us,zp]}),L})();var Ca=ut(5048),xu=ut(3067),nl=ut(5488);const Gp=["trigger"],K0=["panel"];function Sa(L,nt){if(1&L&&(f.TgZ(0,"span",8),f._uU(1),f.qZA()),2&L){const d=f.oxw();f.xp6(1),f.Oqu(d.placeholder)}}function Wa(L,nt){if(1&L&&(f.TgZ(0,"span",12),f._uU(1),f.qZA()),2&L){const d=f.oxw(2);f.xp6(1),f.Oqu(d.triggerValue)}}function $0(L,nt){1&L&&f.Hsn(0,0,["*ngSwitchCase","true"])}function qd(L,nt){if(1&L&&(f.TgZ(0,"span",9),f.YNc(1,Wa,2,1,"span",10),f.YNc(2,$0,1,0,"ng-content",11),f.qZA()),2&L){const d=f.oxw();f.Q6J("ngSwitch",!!d.customTrigger),f.xp6(2),f.Q6J("ngSwitchCase",!0)}}function dc(L,nt){if(1&L){const d=f.EpF();f.TgZ(0,"div",13),f.TgZ(1,"div",14,15),f.NdJ("@transformPanel.done",function(_t){return f.CHM(d),f.oxw()._panelDoneAnimatingStream.next(_t.toState)})("keydown",function(_t){return f.CHM(d),f.oxw()._handleKeydown(_t)}),f.Hsn(3,1),f.qZA(),f.qZA()}if(2&L){const d=f.oxw();f.Q6J("@transformPanelWrap",void 0),f.xp6(1),f.Gre("mat-select-panel ",d._getPanelTheme(),""),f.Udp("transform-origin",d._transformOrigin)("font-size",d._triggerFontSize,"px"),f.Q6J("ngClass",d.panelClass)("@transformPanel",d.multiple?"showing-multiple":"showing"),f.uIk("id",d.id+"-panel")("aria-multiselectable",d.multiple)("aria-label",d.ariaLabel||null)("aria-labelledby",d._getPanelAriaLabelledby())}}const Nu=[[["mat-select-trigger"]],"*"],Cf=["mat-select-trigger","*"],xh={transformPanelWrap:(0,qn.X$)("transformPanelWrap",[(0,qn.eR)("* => void",(0,qn.IO)("@transformPanel",[(0,qn.pV)()],{optional:!0}))]),transformPanel:(0,qn.X$)("transformPanel",[(0,qn.SB)("void",(0,qn.oB)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,qn.SB)("showing",(0,qn.oB)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,qn.SB)("showing-multiple",(0,qn.oB)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,qn.eR)("void => *",(0,qn.jt)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,qn.eR)("* => void",(0,qn.jt)("100ms 25ms linear",(0,qn.oB)({opacity:0})))])};let Qd=0;const nd=new f.OlP("mat-select-scroll-strategy"),yg=new f.OlP("MAT_SELECT_CONFIG"),pc={provide:nd,deps:[yr.aV],useFactory:function(L){return()=>L.scrollStrategies.reposition()}};class Yp{constructor(nt,d){this.source=nt,this.value=d}}const Wp=(0,yi.Kr)((0,yi.sb)((0,yi.Id)((0,yi.FD)(class{constructor(L,nt,d,P,_t){this._elementRef=L,this._defaultErrorStateMatcher=nt,this._parentForm=d,this._parentFormGroup=P,this.ngControl=_t}})))),Kp=new f.OlP("MatSelectTrigger");let Sf=(()=>{class L extends Wp{constructor(d,P,_t,Jt,Ze,ji,Wi,Gi,sn,Un,fr,Lr,wo,Ro){var fa,es,Za;super(Ze,Jt,Wi,Gi,Un),this._viewportRuler=d,this._changeDetectorRef=P,this._ngZone=_t,this._dir=ji,this._parentFormField=sn,this._liveAnnouncer=wo,this._defaultOptions=Ro,this._panelOpen=!1,this._compareWith=(qa,Cl)=>qa===Cl,this._uid="mat-select-"+Qd++,this._triggerAriaLabelledBy=null,this._destroy=new ro.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Qd++,this._panelDoneAnimatingStream=new ro.x,this._overlayPanelClass=(null==(fa=this._defaultOptions)?void 0:fa.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!=(Za=null==(es=this._defaultOptions)?void 0:es.disableOptionCentering)&&Za,this.ariaLabel="",this.optionSelectionChanges=(0,Ca.P)(()=>{const qa=this.options;return qa?qa.changes.pipe((0,_s.O)(qa),(0,xu.w)(()=>(0,Hs.T)(...qa.map(Cl=>Cl.onSelectionChange)))):this._ngZone.onStable.pipe((0,ps.q)(1),(0,xu.w)(()=>this.optionSelectionChanges))}),this.openedChange=new f.vpe,this._openedStream=this.openedChange.pipe((0,bo.h)(qa=>qa),(0,G.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,bo.h)(qa=>!qa),(0,G.U)(()=>{})),this.selectionChange=new f.vpe,this.valueChange=new f.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==Ro?void 0:Ro.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=Ro.typeaheadDebounceInterval),this._scrollStrategyFactory=Lr,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(fr)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(d){this._placeholder=d,this.stateChanges.next()}get required(){var d,P,_t,Jt;return null!=(Jt=null!=(_t=this._required)?_t:null==(P=null==(d=this.ngControl)?void 0:d.control)?void 0:P.hasValidator(wt.required))&&Jt}set required(d){this._required=(0,to.Ig)(d),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(d){this._multiple=(0,to.Ig)(d)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(d){this._disableOptionCentering=(0,to.Ig)(d)}get compareWith(){return this._compareWith}set compareWith(d){this._compareWith=d,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(d){(d!==this._value||this._multiple&&Array.isArray(d))&&(this.options&&this._setSelectionByValue(d),this._value=d)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(d){this._typeaheadDebounceInterval=(0,to.su)(d)}get id(){return this._id}set id(d){this._id=d||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new wf(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,nl.x)(),(0,Po.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,Po.R)(this._destroy)).subscribe(d=>{d.added.forEach(P=>P.select()),d.removed.forEach(P=>P.deselect())}),this.options.changes.pipe((0,_s.O)(null),(0,Po.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const d=this._getTriggerAriaLabelledby();if(d!==this._triggerAriaLabelledBy){const P=this._elementRef.nativeElement;this._triggerAriaLabelledBy=d,d?P.setAttribute("aria-labelledby",d):P.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(d){d.disabled&&this.stateChanges.next(),d.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(d){this.value=d}registerOnChange(d){this._onChange=d}registerOnTouched(d){this._onTouched=d}setDisabledState(d){this.disabled=d,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var d,P;return this.multiple?(null==(d=this._selectionModel)?void 0:d.selected)||[]:null==(P=this._selectionModel)?void 0:P.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const d=this._selectionModel.selected.map(P=>P.viewValue);return this._isRtl()&&d.reverse(),d.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(d){this.disabled||(this.panelOpen?this._handleOpenKeydown(d):this._handleClosedKeydown(d))}_handleClosedKeydown(d){const P=d.keyCode,_t=P===Gn.JH||P===Gn.LH||P===Gn.oh||P===Gn.SV,Jt=P===Gn.K5||P===Gn.L_,Ze=this._keyManager;if(!Ze.isTyping()&&Jt&&!(0,Gn.Vb)(d)||(this.multiple||d.altKey)&&_t)d.preventDefault(),this.open();else if(!this.multiple){const ji=this.selected;Ze.onKeydown(d);const Wi=this.selected;Wi&&ji!==Wi&&this._liveAnnouncer.announce(Wi.viewValue,1e4)}}_handleOpenKeydown(d){const P=this._keyManager,_t=d.keyCode,Jt=_t===Gn.JH||_t===Gn.LH,Ze=P.isTyping();if(Jt&&d.altKey)d.preventDefault(),this.close();else if(Ze||_t!==Gn.K5&&_t!==Gn.L_||!P.activeItem||(0,Gn.Vb)(d))if(!Ze&&this._multiple&&_t===Gn.A&&d.ctrlKey){d.preventDefault();const ji=this.options.some(Wi=>!Wi.disabled&&!Wi.selected);this.options.forEach(Wi=>{Wi.disabled||(ji?Wi.select():Wi.deselect())})}else{const ji=P.activeItemIndex;P.onKeydown(d),this._multiple&&Jt&&d.shiftKey&&P.activeItem&&P.activeItemIndex!==ji&&P.activeItem._selectViaInteraction()}else d.preventDefault(),P.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,ps.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(d){if(this._selectionModel.selected.forEach(P=>P.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&d)Array.isArray(d),d.forEach(P=>this._selectValue(P)),this._sortValues();else{const P=this._selectValue(d);P?this._keyManager.updateActiveItem(P):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(d){const P=this.options.find(_t=>{if(this._selectionModel.isSelected(_t))return!1;try{return null!=_t.value&&this._compareWith(_t.value,d)}catch(Jt){return!1}});return P&&this._selectionModel.select(P),P}_initKeyManager(){this._keyManager=new Us.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,Po.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,Po.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const d=(0,Hs.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,Po.R)(d)).subscribe(P=>{this._onSelect(P.source,P.isUserInput),P.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Hs.T)(...this.options.map(P=>P._stateChanges)).pipe((0,Po.R)(d)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(d,P){const _t=this._selectionModel.isSelected(d);null!=d.value||this._multiple?(_t!==d.selected&&(d.selected?this._selectionModel.select(d):this._selectionModel.deselect(d)),P&&this._keyManager.setActiveItem(d),this.multiple&&(this._sortValues(),P&&this.focus())):(d.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(d.value)),_t!==this._selectionModel.isSelected(d)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const d=this.options.toArray();this._selectionModel.sort((P,_t)=>this.sortComparator?this.sortComparator(P,_t,d):d.indexOf(P)-d.indexOf(_t)),this.stateChanges.next()}}_propagateChanges(d){let P=null;P=this.multiple?this.selected.map(_t=>_t.value):this.selected?this.selected.value:d,this._value=P,this.valueChange.emit(P),this._onChange(P),this.selectionChange.emit(this._getChangeEvent(P)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var d;return!this._panelOpen&&!this.disabled&&(null==(d=this.options)?void 0:d.length)>0}focus(d){this._elementRef.nativeElement.focus(d)}_getPanelAriaLabelledby(){var _t;if(this.ariaLabel)return null;const d=null==(_t=this._parentFormField)?void 0:_t.getLabelId();return this.ariaLabelledby?(d?d+" ":"")+this.ariaLabelledby:d}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var _t;if(this.ariaLabel)return null;const d=null==(_t=this._parentFormField)?void 0:_t.getLabelId();let P=(d?d+" ":"")+this._valueId;return this.ariaLabelledby&&(P+=" "+this.ariaLabelledby),P}_panelDoneAnimating(d){this.openedChange.emit(d)}setDescribedByIds(d){this._ariaDescribedby=d.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(Or.rL),f.Y36(f.sBO),f.Y36(f.R0b),f.Y36(yi.rD),f.Y36(f.SBq),f.Y36(Es.Is,8),f.Y36(on,8),f.Y36(Va,8),f.Y36(ye,8),f.Y36(fe,10),f.$8M("tabindex"),f.Y36(nd),f.Y36(Us.Kd),f.Y36(yg,8))},L.\u0275dir=f.lG2({type:L,viewQuery:function(d,P){if(1&d&&(f.Gf(Gp,5),f.Gf(K0,5),f.Gf(yr.pI,5)),2&d){let _t;f.iGM(_t=f.CRH())&&(P.trigger=_t.first),f.iGM(_t=f.CRH())&&(P.panel=_t.first),f.iGM(_t=f.CRH())&&(P._overlayDir=_t.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[f.qOj,f.TTD]}),L})(),Zu=(()=>{class L extends Sf{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(d,P,_t){const Jt=this._getItemHeight();return Math.min(Math.max(0,Jt*d-P+Jt/2),_t)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,Po.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,ps.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(d){const P=(0,yi.CB)(d,this.options,this.optionGroups),_t=this._getItemHeight();this.panel.nativeElement.scrollTop=0===d&&1===P?0:(0,yi.jH)((d+P)*_t,_t,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(d){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(d)}_getChangeEvent(d){return new Yp(this,d)}_calculateOverlayOffsetX(){const d=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),P=this._viewportRuler.getViewportSize(),_t=this._isRtl(),Jt=this.multiple?56:32;let Ze;if(this.multiple)Ze=40;else if(this.disableOptionCentering)Ze=16;else{let Gi=this._selectionModel.selected[0]||this.options.first;Ze=Gi&&Gi.group?32:16}_t||(Ze*=-1);const ji=0-(d.left+Ze-(_t?Jt:0)),Wi=d.right+Ze-P.width+(_t?0:Jt);ji>0?Ze+=ji+8:Wi>0&&(Ze-=Wi+8),this._overlayDir.offsetX=Math.round(Ze),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(d,P,_t){const Jt=this._getItemHeight(),Ze=(Jt-this._triggerRect.height)/2,ji=Math.floor(256/Jt);let Wi;return this.disableOptionCentering?0:(Wi=0===this._scrollTop?d*Jt:this._scrollTop===_t?(d-(this._getItemCount()-ji))*Jt+(Jt-(this._getItemCount()*Jt-256)%Jt):P-Jt/2,Math.round(-1*Wi-Ze))}_checkOverlayWithinViewport(d){const P=this._getItemHeight(),_t=this._viewportRuler.getViewportSize(),Jt=this._triggerRect.top-8,Ze=_t.height-this._triggerRect.bottom-8,ji=Math.abs(this._offsetY),Gi=Math.min(this._getItemCount()*P,256)-ji-this._triggerRect.height;Gi>Ze?this._adjustPanelUp(Gi,Ze):ji>Jt?this._adjustPanelDown(ji,Jt,d):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(d,P){const _t=Math.round(d-P);this._scrollTop-=_t,this._offsetY-=_t,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(d,P,_t){const Jt=Math.round(d-P);if(this._scrollTop+=Jt,this._offsetY+=Jt,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=_t)return this._scrollTop=_t,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const d=this._getItemHeight(),P=this._getItemCount(),_t=Math.min(P*d,256),Ze=P*d-_t;let ji;ji=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),ji+=(0,yi.CB)(ji,this.options,this.optionGroups);const Wi=_t/2;this._scrollTop=this._calculateOverlayScroll(ji,Wi,Ze),this._offsetY=this._calculateOverlayOffsetY(ji,Wi,Ze),this._checkOverlayWithinViewport(Ze)}_getOriginBasedOnOption(){const d=this._getItemHeight(),P=(d-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-P+d/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return L.\u0275fac=function(){let nt;return function(P){return(nt||(nt=f.n5z(L)))(P||L)}}(),L.\u0275cmp=f.Xpm({type:L,selectors:[["mat-select"]],contentQueries:function(d,P,_t){if(1&d&&(f.Suo(_t,Kp,5),f.Suo(_t,yi.ey,5),f.Suo(_t,yi.K7,5)),2&d){let Jt;f.iGM(Jt=f.CRH())&&(P.customTrigger=Jt.first),f.iGM(Jt=f.CRH())&&(P.options=Jt),f.iGM(Jt=f.CRH())&&(P.optionGroups=Jt)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(d,P){1&d&&f.NdJ("keydown",function(Jt){return P._handleKeydown(Jt)})("focus",function(){return P._onFocus()})("blur",function(){return P._onBlur()}),2&d&&(f.uIk("id",P.id)("tabindex",P.tabIndex)("aria-controls",P.panelOpen?P.id+"-panel":null)("aria-expanded",P.panelOpen)("aria-label",P.ariaLabel||null)("aria-required",P.required.toString())("aria-disabled",P.disabled.toString())("aria-invalid",P.errorState)("aria-describedby",P._ariaDescribedby||null)("aria-activedescendant",P._getAriaActiveDescendant()),f.ekj("mat-select-disabled",P.disabled)("mat-select-invalid",P.errorState)("mat-select-required",P.required)("mat-select-empty",P.empty)("mat-select-multiple",P.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[f._Bn([{provide:ic,useExisting:L},{provide:yi.HF,useExisting:L}]),f.qOj],ngContentSelectors:Cf,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(d,P){if(1&d&&(f.F$t(Nu),f.TgZ(0,"div",0,1),f.NdJ("click",function(){return P.toggle()}),f.TgZ(3,"div",2),f.YNc(4,Sa,2,1,"span",3),f.YNc(5,qd,3,2,"span",4),f.qZA(),f.TgZ(6,"div",5),f._UZ(7,"div",6),f.qZA(),f.qZA(),f.YNc(8,dc,4,14,"ng-template",7),f.NdJ("backdropClick",function(){return P.close()})("attach",function(){return P._onAttached()})("detach",function(){return P.close()})),2&d){const _t=f.MAs(1);f.uIk("aria-owns",P.panelOpen?P.id+"-panel":null),f.xp6(3),f.Q6J("ngSwitch",P.empty),f.uIk("id",P._valueId),f.xp6(1),f.Q6J("ngSwitchCase",!0),f.xp6(1),f.Q6J("ngSwitchCase",!1),f.xp6(3),f.Q6J("cdkConnectedOverlayPanelClass",P._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",P._scrollStrategy)("cdkConnectedOverlayOrigin",_t)("cdkConnectedOverlayOpen",P.panelOpen)("cdkConnectedOverlayPositions",P._positions)("cdkConnectedOverlayMinWidth",null==P._triggerRect?null:P._triggerRect.width)("cdkConnectedOverlayOffsetY",P._offsetY)}},directives:[yr.xu,tt.RF,tt.n9,yr.pI,tt.ED,tt.mk],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[xh.transformPanelWrap,xh.transformPanel]},changeDetection:0}),L})(),Ef=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({providers:[pc],imports:[[tt.ez,yr.U8,yi.Ng,yi.BQ],Or.ZD,Xe,yi.Ng,yi.BQ]}),L})();function rd(L){return(0,G.U)(()=>L)}var $p=ut(9463);const wu=["*"];function qu(L,nt){if(1&L){const d=f.EpF();f.TgZ(0,"div",2),f.NdJ("click",function(){return f.CHM(d),f.oxw()._onBackdropClicked()}),f.qZA()}if(2&L){const d=f.oxw();f.ekj("mat-drawer-shown",d._isShowingBackdrop())}}function mc(L,nt){1&L&&(f.TgZ(0,"mat-drawer-content"),f.Hsn(1,2),f.qZA())}const tu=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Nc=["mat-drawer","mat-drawer-content","*"];function Xp(L,nt){if(1&L){const d=f.EpF();f.TgZ(0,"div",2),f.NdJ("click",function(){return f.CHM(d),f.oxw()._onBackdropClicked()}),f.qZA()}if(2&L){const d=f.oxw();f.ekj("mat-drawer-shown",d._isShowingBackdrop())}}function ep(L,nt){1&L&&(f.TgZ(0,"mat-sidenav-content",3),f.Hsn(1,2),f.qZA())}const Fr=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Fc=["mat-sidenav","mat-sidenav-content","*"],od={transformDrawer:(0,qn.X$)("transform",[(0,qn.SB)("open, open-instant",(0,qn.oB)({transform:"none",visibility:"visible"})),(0,qn.SB)("void",(0,qn.oB)({"box-shadow":"none",visibility:"hidden"})),(0,qn.eR)("void => open-instant",(0,qn.jt)("0ms")),(0,qn.eR)("void <=> open, open-instant => void",(0,qn.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},sd=new f.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),jl=new f.OlP("MAT_DRAWER_CONTAINER");let zl=(()=>{class L extends Or.PQ{constructor(d,P,_t,Jt,Ze){super(_t,Jt,Ze),this._changeDetectorRef=d,this._container=P}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(f.sBO),f.Y36((0,f.Gpc)(()=>Zp)),f.Y36(f.SBq),f.Y36(Or.mF),f.Y36(f.R0b))},L.\u0275cmp=f.Xpm({type:L,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(d,P){2&d&&f.Udp("margin-left",P._container._contentMargins.left,"px")("margin-right",P._container._contentMargins.right,"px")},features:[f.qOj],ngContentSelectors:wu,decls:1,vars:0,template:function(d,P){1&d&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),L})(),Fu=(()=>{class L{constructor(d,P,_t,Jt,Ze,ji,Wi,Gi){this._elementRef=d,this._focusTrapFactory=P,this._focusMonitor=_t,this._platform=Jt,this._ngZone=Ze,this._interactivityChecker=ji,this._doc=Wi,this._container=Gi,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new ro.x,this._animationEnd=new ro.x,this._animationState="void",this.openedChange=new f.vpe(!0),this._openedStream=this.openedChange.pipe((0,bo.h)(sn=>sn),(0,G.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,bo.h)(sn=>sn.fromState!==sn.toState&&0===sn.toState.indexOf("open")),rd(void 0)),this._closedStream=this.openedChange.pipe((0,bo.h)(sn=>!sn),(0,G.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,bo.h)(sn=>sn.fromState!==sn.toState&&"void"===sn.toState),rd(void 0)),this._destroyed=new ro.x,this.onPositionChanged=new f.vpe,this._modeChanged=new ro.x,this.openedChange.subscribe(sn=>{sn?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,hs.R)(this._elementRef.nativeElement,"keydown").pipe((0,bo.h)(sn=>sn.keyCode===Gn.hY&&!this.disableClose&&!(0,Gn.Vb)(sn)),(0,Po.R)(this._destroyed)).subscribe(sn=>this._ngZone.run(()=>{this.close(),sn.stopPropagation(),sn.preventDefault()}))}),this._animationEnd.pipe((0,nl.x)((sn,Un)=>sn.fromState===Un.fromState&&sn.toState===Un.toState)).subscribe(sn=>{const{fromState:Un,toState:fr}=sn;(0===fr.indexOf("open")&&"void"===Un||"void"===fr&&0===Un.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(d){(d="end"===d?"end":"start")!=this._position&&(this._position=d,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(d){this._mode=d,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(d){this._disableClose=(0,to.Ig)(d)}get autoFocus(){const d=this._autoFocus;return null==d?"side"===this.mode?"dialog":"first-tabbable":d}set autoFocus(d){("true"===d||"false"===d)&&(d=(0,to.Ig)(d)),this._autoFocus=d}get opened(){return this._opened}set opened(d){this.toggle((0,to.Ig)(d))}_forceFocus(d,P){this._interactivityChecker.isFocusable(d)||(d.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{d.addEventListener("blur",()=>d.removeAttribute("tabindex")),d.addEventListener("mousedown",()=>d.removeAttribute("tabindex"))})),d.focus(P)}_focusByCssSelector(d,P){let _t=this._elementRef.nativeElement.querySelector(d);_t&&this._forceFocus(_t,P)}_takeFocus(){if(!this._focusTrap)return;const d=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(P=>{!P&&"function"==typeof this._elementRef.nativeElement.focus&&d.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(d){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,d):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){var P;const d=null==(P=this._doc)?void 0:P.activeElement;return!!d&&this._elementRef.nativeElement.contains(d)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(d){return this.toggle(!0,d)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(d=!this.opened,P){d&&P&&(this._openedVia=P);const _t=this._setOpen(d,!d&&this._isFocusWithinDrawer(),this._openedVia||"program");return d||(this._openedVia=null),_t}_setOpen(d,P,_t){return this._opened=d,d?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",P&&this._restoreFocus(_t)),this._updateFocusTrapState(),new Promise(Jt=>{this.openedChange.pipe((0,ps.q)(1)).subscribe(Ze=>Jt(Ze?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(d){this._animationStarted.next(d)}_animationDoneListener(d){this._animationEnd.next(d)}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(f.SBq),f.Y36(Us.qV),f.Y36(Us.tE),f.Y36(Ds.t4),f.Y36(f.R0b),f.Y36(Us.ic),f.Y36(tt.K0,8),f.Y36(jl,8))},L.\u0275cmp=f.Xpm({type:L,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(d,P){1&d&&f.WFA("@transform.start",function(Jt){return P._animationStartListener(Jt)})("@transform.done",function(Jt){return P._animationDoneListener(Jt)}),2&d&&(f.uIk("align",null),f.d8E("@transform",P._animationState),f.ekj("mat-drawer-end","end"===P.position)("mat-drawer-over","over"===P.mode)("mat-drawer-push","push"===P.mode)("mat-drawer-side","side"===P.mode)("mat-drawer-opened",P.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:wu,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(d,P){1&d&&(f.F$t(),f.TgZ(0,"div",0),f.Hsn(1),f.qZA())},directives:[Or.PQ],encapsulation:2,data:{animation:[od.transformDrawer]},changeDetection:0}),L})(),Zp=(()=>{class L{constructor(d,P,_t,Jt,Ze,ji=!1,Wi){this._dir=d,this._element=P,this._ngZone=_t,this._changeDetectorRef=Jt,this._animationMode=Wi,this._drawers=new f.n_E,this.backdropClick=new f.vpe,this._destroyed=new ro.x,this._doCheckSubject=new ro.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new ro.x,d&&d.change.pipe((0,Po.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),Ze.change().pipe((0,Po.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=ji}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(d){this._autosize=(0,to.Ig)(d)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(d){this._backdropOverride=null==d?null:(0,to.Ig)(d)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,_s.O)(this._allDrawers),(0,Po.R)(this._destroyed)).subscribe(d=>{this._drawers.reset(d.filter(P=>!P._container||P._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,_s.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(d=>{this._watchDrawerToggle(d),this._watchDrawerPosition(d),this._watchDrawerMode(d)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,$p.b)(10),(0,Po.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(d=>d.open())}close(){this._drawers.forEach(d=>d.close())}updateContentMargins(){let d=0,P=0;if(this._left&&this._left.opened)if("side"==this._left.mode)d+=this._left._getWidth();else if("push"==this._left.mode){const _t=this._left._getWidth();d+=_t,P-=_t}if(this._right&&this._right.opened)if("side"==this._right.mode)P+=this._right._getWidth();else if("push"==this._right.mode){const _t=this._right._getWidth();P+=_t,d-=_t}d=d||null,P=P||null,(d!==this._contentMargins.left||P!==this._contentMargins.right)&&(this._contentMargins={left:d,right:P},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(d){d._animationStarted.pipe((0,bo.h)(P=>P.fromState!==P.toState),(0,Po.R)(this._drawers.changes)).subscribe(P=>{"open-instant"!==P.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==d.mode&&d.openedChange.pipe((0,Po.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(d.opened))}_watchDrawerPosition(d){!d||d.onPositionChanged.pipe((0,Po.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,ps.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(d){d&&d._modeChanged.pipe((0,Po.R)((0,Hs.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(d){const P=this._element.nativeElement.classList,_t="mat-drawer-container-has-open";d?P.add(_t):P.remove(_t)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(d=>{"end"==d.position?this._end=d:this._start=d}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(d=>d&&!d.disableClose&&this._canHaveBackdrop(d)).forEach(d=>d._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(d){return"side"!==d.mode||!!this._backdropOverride}_isDrawerOpen(d){return null!=d&&d.opened}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(Es.Is,8),f.Y36(f.SBq),f.Y36(f.R0b),f.Y36(f.sBO),f.Y36(Or.rL),f.Y36(sd),f.Y36(vi.Qb,8))},L.\u0275cmp=f.Xpm({type:L,selectors:[["mat-drawer-container"]],contentQueries:function(d,P,_t){if(1&d&&(f.Suo(_t,zl,5),f.Suo(_t,Fu,5)),2&d){let Jt;f.iGM(Jt=f.CRH())&&(P._content=Jt.first),f.iGM(Jt=f.CRH())&&(P._allDrawers=Jt)}},viewQuery:function(d,P){if(1&d&&f.Gf(zl,5),2&d){let _t;f.iGM(_t=f.CRH())&&(P._userContent=_t.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(d,P){2&d&&f.ekj("mat-drawer-container-explicit-backdrop",P._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[f._Bn([{provide:jl,useExisting:L}])],ngContentSelectors:Nc,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(d,P){1&d&&(f.F$t(tu),f.YNc(0,qu,1,2,"div",0),f.Hsn(1),f.Hsn(2,1),f.YNc(3,mc,2,0,"mat-drawer-content",1)),2&d&&(f.Q6J("ngIf",P.hasBackdrop),f.xp6(3),f.Q6J("ngIf",!P._content))},directives:[tt.O5,zl],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),L})(),qp=(()=>{class L extends zl{constructor(d,P,_t,Jt,Ze){super(d,P,_t,Jt,Ze)}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(f.sBO),f.Y36((0,f.Gpc)(()=>ip)),f.Y36(f.SBq),f.Y36(Or.mF),f.Y36(f.R0b))},L.\u0275cmp=f.Xpm({type:L,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(d,P){2&d&&f.Udp("margin-left",P._container._contentMargins.left,"px")("margin-right",P._container._contentMargins.right,"px")},features:[f.qOj],ngContentSelectors:wu,decls:1,vars:0,template:function(d,P){1&d&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),L})(),Bc=(()=>{class L extends Fu{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(d){this._fixedInViewport=(0,to.Ig)(d)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(d){this._fixedTopGap=(0,to.su)(d)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(d){this._fixedBottomGap=(0,to.su)(d)}}return L.\u0275fac=function(){let nt;return function(P){return(nt||(nt=f.n5z(L)))(P||L)}}(),L.\u0275cmp=f.Xpm({type:L,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(d,P){2&d&&(f.uIk("align",null),f.Udp("top",P.fixedInViewport?P.fixedTopGap:null,"px")("bottom",P.fixedInViewport?P.fixedBottomGap:null,"px"),f.ekj("mat-drawer-end","end"===P.position)("mat-drawer-over","over"===P.mode)("mat-drawer-push","push"===P.mode)("mat-drawer-side","side"===P.mode)("mat-drawer-opened",P.opened)("mat-sidenav-fixed",P.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[f.qOj],ngContentSelectors:wu,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(d,P){1&d&&(f.F$t(),f.TgZ(0,"div",0),f.Hsn(1),f.qZA())},directives:[Or.PQ],encapsulation:2,data:{animation:[od.transformDrawer]},changeDetection:0}),L})(),ip=(()=>{class L extends Zp{}return L.\u0275fac=function(){let nt;return function(P){return(nt||(nt=f.n5z(L)))(P||L)}}(),L.\u0275cmp=f.Xpm({type:L,selectors:[["mat-sidenav-container"]],contentQueries:function(d,P,_t){if(1&d&&(f.Suo(_t,qp,5),f.Suo(_t,Bc,5)),2&d){let Jt;f.iGM(Jt=f.CRH())&&(P._content=Jt.first),f.iGM(Jt=f.CRH())&&(P._allDrawers=Jt)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(d,P){2&d&&f.ekj("mat-drawer-container-explicit-backdrop",P._backdropOverride)},exportAs:["matSidenavContainer"],features:[f._Bn([{provide:jl,useExisting:L}]),f.qOj],ngContentSelectors:Fc,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(d,P){1&d&&(f.F$t(Fr),f.YNc(0,Xp,1,2,"div",0),f.Hsn(1),f.Hsn(2,1),f.YNc(3,ep,2,0,"mat-sidenav-content",1)),2&d&&(f.Q6J("ngIf",P.hasBackdrop),f.xp6(3),f.Q6J("ngIf",!P._content))},directives:[tt.O5,qp,Or.PQ],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),L})(),X0=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({imports:[[tt.ez,yi.BQ,Ds.ud,Or.ZD],Or.ZD,yi.BQ]}),L})();const Jp=["*",[["mat-toolbar-row"]]],Vc=["*","mat-toolbar-row"],Gh=(0,yi.pj)(class{constructor(L){this._elementRef=L}});let Wr=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275dir=f.lG2({type:L,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),L})(),bl=(()=>{class L extends Gh{constructor(d,P,_t){super(d),this._platform=P,this._document=_t}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(f.SBq),f.Y36(Ds.t4),f.Y36(tt.K0))},L.\u0275cmp=f.Xpm({type:L,selectors:[["mat-toolbar"]],contentQueries:function(d,P,_t){if(1&d&&f.Suo(_t,Wr,5),2&d){let Jt;f.iGM(Jt=f.CRH())&&(P._toolbarRows=Jt)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(d,P){2&d&&f.ekj("mat-toolbar-multiple-rows",P._toolbarRows.length>0)("mat-toolbar-single-row",0===P._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[f.qOj],ngContentSelectors:Vc,decls:2,vars:0,template:function(d,P){1&d&&(f.F$t(Jp),f.Hsn(0),f.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),L})(),Ra=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({imports:[[yi.BQ],yi.BQ]}),L})(),jc=(()=>{class L{constructor(d,P){this.document=d,this.platformId=P,this.documentIsAccessible=(0,tt.NF)(this.platformId)}static getCookieRegExp(d){const P=d.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+P+"|;\\s*"+P+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(d){try{return decodeURIComponent(d)}catch(P){return d}}check(d){return!!this.documentIsAccessible&&(d=encodeURIComponent(d),L.getCookieRegExp(d).test(this.document.cookie))}get(d){if(this.documentIsAccessible&&this.check(d)){d=encodeURIComponent(d);const _t=L.getCookieRegExp(d).exec(this.document.cookie);return _t[1]?L.safeDecodeURIComponent(_t[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const d={},P=this.document;return P.cookie&&""!==P.cookie&&P.cookie.split(";").forEach(_t=>{const[Jt,Ze]=_t.split("=");d[L.safeDecodeURIComponent(Jt.replace(/^ /,""))]=L.safeDecodeURIComponent(Ze)}),d}set(d,P,_t,Jt,Ze,ji,Wi){if(!this.documentIsAccessible)return;if("number"==typeof _t||_t instanceof Date||Jt||Ze||ji||Wi)return void this.set(d,P,{expires:_t,path:Jt,domain:Ze,secure:ji,sameSite:Wi||"Lax"});let Gi=encodeURIComponent(d)+"="+encodeURIComponent(P)+";";const sn=_t||{};sn.expires&&(Gi+="number"==typeof sn.expires?"expires="+new Date((new Date).getTime()+1e3*sn.expires*60*60*24).toUTCString()+";":"expires="+sn.expires.toUTCString()+";"),sn.path&&(Gi+="path="+sn.path+";"),sn.domain&&(Gi+="domain="+sn.domain+";"),!1===sn.secure&&"None"===sn.sameSite&&(sn.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${d} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),sn.secure&&(Gi+="secure;"),sn.sameSite||(sn.sameSite="Lax"),Gi+="sameSite="+sn.sameSite+";",this.document.cookie=Gi}delete(d,P,_t,Jt,Ze="Lax"){if(!this.documentIsAccessible)return;const ji=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(d,"",{expires:ji,path:P,domain:_t,secure:Jt,sameSite:Ze})}deleteAll(d,P,_t,Jt="Lax"){if(!this.documentIsAccessible)return;const Ze=this.getAll();for(const ji in Ze)Ze.hasOwnProperty(ji)&&this.delete(ji,d,P,_t,Jt)}}return L.\u0275fac=function(d){return new(d||L)(f.LFG(tt.K0),f.LFG(f.Lbi))},L.\u0275prov=f.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();var Ea=ut(1553),sl=ut(8239),Os=ut(1847),al=ut(9846);const zc=["primaryValueBar"],ad=(0,yi.pj)(class{constructor(L){this._elementRef=L}},"primary"),Is=new f.OlP("mat-progress-bar-location",{providedIn:"root",factory:function(){const L=(0,f.f3M)(tt.K0),nt=L?L.location:null;return{getPathname:()=>nt?nt.pathname+nt.search:""}}}),Uc=new f.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let Hc=0,gc=(()=>{class L extends ad{constructor(d,P,_t,Jt,Ze){super(d),this._ngZone=P,this._animationMode=_t,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new f.vpe,this._animationEndSubscription=To.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+Hc++;const ji=Jt?Jt.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${ji}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===_t,Ze&&(Ze.color&&(this.color=this.defaultColor=Ze.color),this.mode=Ze.mode||this.mode)}get value(){return this._value}set value(d){this._value=Z0((0,to.su)(d)||0)}get bufferValue(){return this._bufferValue}set bufferValue(d){this._bufferValue=Z0(d||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const d=this._primaryValueBar.nativeElement;this._animationEndSubscription=(0,hs.R)(d,"transitionend").pipe((0,bo.h)(P=>P.target===d)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(f.SBq),f.Y36(f.R0b),f.Y36(vi.Qb,8),f.Y36(Is,8),f.Y36(Uc,8))},L.\u0275cmp=f.Xpm({type:L,selectors:[["mat-progress-bar"]],viewQuery:function(d,P){if(1&d&&f.Gf(zc,5),2&d){let _t;f.iGM(_t=f.CRH())&&(P._primaryValueBar=_t.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(d,P){2&d&&(f.uIk("aria-valuenow","indeterminate"===P.mode||"query"===P.mode?null:P.value)("mode",P.mode),f.ekj("_mat-animation-noopable",P._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[f.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(d,P){1&d&&(f.TgZ(0,"div",0),f.O4$(),f.TgZ(1,"svg",1),f.TgZ(2,"defs"),f.TgZ(3,"pattern",2),f._UZ(4,"circle",3),f.qZA(),f.qZA(),f._UZ(5,"rect",4),f.qZA(),f.kcU(),f._UZ(6,"div",5),f._UZ(7,"div",6,7),f._UZ(9,"div",8),f.qZA()),2&d&&(f.xp6(3),f.Q6J("id",P.progressbarId),f.xp6(2),f.uIk("fill",P._rectangleFillValue),f.xp6(1),f.Q6J("ngStyle",P._bufferTransform()),f.xp6(1),f.Q6J("ngStyle",P._primaryTransform()))},directives:[tt.PC],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),L})();function Z0(L,nt=0,d=100){return Math.max(nt,Math.min(d,L))}let Gc=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({imports:[[tt.ez,yi.BQ],yi.BQ]}),L})();function rp(L,nt){1&L&&f._UZ(0,"mat-progress-bar",2)}function Qp(L,nt){if(1&L&&(f.TgZ(0,"a",4),f._uU(1,"Playlist"),f.qZA()),2&L){const d=f.oxw().$implicit;f.Q6J("href",d.music,f.LSH)}}function q0(L,nt){if(1&L&&(f.ynx(0),f.TgZ(1,"mat-card"),f.TgZ(2,"mat-card-title"),f._uU(3),f.qZA(),f.TgZ(4,"mat-card-subtitle"),f._uU(5),f.qZA(),f.TgZ(6,"mat-card-content"),f.TgZ(7,"div"),f._uU(8),f.qZA(),f.YNc(9,Qp,2,1,"a",3),f.qZA(),f.qZA(),f._UZ(10,"mat-divider"),f.BQk()),2&L){const d=nt.$implicit;f.xp6(3),f.Oqu(d.name),f.xp6(2),f.AsE("",d.type,", Takt: ",d.rhythm,""),f.xp6(3),f.Oqu(d.description),f.xp6(1),f.Q6J("ngIf",d.music)}}let ld=(()=>{class L{constructor(d,P){this.dataManagerService=d,this.navService=P,this.dances=[],this.loaded=!1,this.navService.headlineObservable.next("Dances")}ngOnInit(){var d=this;return(0,sl.Z)(function*(){yield d.dataManagerService.loading(),d.dances=d.dataManagerService.getDances(),d.loaded=!0})()}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(Os.L),f.Y36(al.t))},L.\u0275cmp=f.Xpm({type:L,selectors:[["ng-component"]],decls:2,vars:2,consts:[["mode","indeterminate",4,"ngIf"],[4,"ngFor","ngForOf"],["mode","indeterminate"],[3,"href",4,"ngIf"],[3,"href"]],template:function(d,P){1&d&&(f.YNc(0,rp,1,0,"mat-progress-bar",0),f.YNc(1,q0,11,5,"ng-container",1)),2&d&&(f.Q6J("ngIf",!P.loaded),f.xp6(1),f.Q6J("ngForOf",P.dances))},directives:[tt.O5,tt.sg,gc,Yn,vr,Qo,Mn,jp],styles:[""]}),L})();function J0(L,nt){if(1&L&&(f.TgZ(0,"span"),f._uU(1),f.ALo(2,"date"),f.qZA()),2&L){const d=f.oxw().$implicit;f.xp6(1),f.hij("",f.xi3(2,1,d.date,"dd.MM.yyyy"),"\xa0")}}function t0(L,nt){if(1&L&&(f.TgZ(0,"div"),f.YNc(1,J0,3,4,"span",3),f.TgZ(2,"span"),f._uU(3),f.qZA(),f.qZA()),2&L){const d=nt.$implicit,P=f.oxw();f.xp6(1),f.Q6J("ngIf",P.isDateValid(d)),f.xp6(2),f.Oqu(d.course)}}let xg=(()=>{class L{constructor(d){this.navService=d}ngOnInit(){}openDetails(){return this.navService.navigate(["move",encodeURI(this.moveDto.name)])}isDateValid(d){var P;return(null==d?void 0:d.date)&&"Invalid Date"!==(null===(P=null==d?void 0:d.date)||void 0===P?void 0:P.toString())}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(al.t))},L.\u0275cmp=f.Xpm({type:L,selectors:[["app-move-card"]],inputs:{moveDto:["move-dto","moveDto"]},decls:11,vars:3,consts:[[4,"ngFor","ngForOf"],["align","end"],["mat-button","",3,"click"],[4,"ngIf"]],template:function(d,P){1&d&&(f.TgZ(0,"mat-card"),f.TgZ(1,"mat-card-title"),f._uU(2),f.qZA(),f.TgZ(3,"mat-card-subtitle"),f._uU(4),f.qZA(),f.TgZ(5,"mat-card-content"),f.YNc(6,t0,4,2,"div",0),f.qZA(),f.TgZ(7,"mat-card-actions",1),f.TgZ(8,"button",2),f.NdJ("click",function(){return P.openDetails()}),f._uU(9,"Details"),f.qZA(),f.qZA(),f.qZA(),f._UZ(10,"mat-divider")),2&d&&(f.xp6(2),f.Oqu(P.moveDto.name),f.xp6(2),f.Oqu(P.moveDto.dance),f.xp6(2),f.Q6J("ngForOf",P.moveDto.courseDates))},directives:[Yn,vr,Qo,Mn,tt.sg,zn,Ve.lW,jp,tt.O5],pipes:[tt.uU],styles:[""]}),L})();function e0(L,nt){1&L&&f._UZ(0,"mat-progress-bar",2)}function Xi(L,nt){if(1&L&&(f.ynx(0),f._UZ(1,"app-move-card",3),f.BQk()),2&L){const d=nt.$implicit;f.xp6(1),f.Q6J("move-dto",d)}}let wg=(()=>{class L{constructor(d,P){this.dataManagerService=d,this.navService=P,this.moves=[],this.allMoves=[],this.loaded=!1,this.navService.headlineObservable.next("Dancing Moves")}ngOnInit(){var d=this;return(0,sl.Z)(function*(){yield d.dataManagerService.loading(),d.dataManagerService.movesObservable.subscribe(P=>{d.moves=P.sort(d.generateSortFn([_t=>_t.dance,_t=>_t.order,_t=>_t.name])),d.allMoves=JSON.parse(JSON.stringify(d.moves))}),d.dataManagerService.searchFilterObservable.subscribe(P=>{d.moves=d.dataManagerService.selectMoves(d.allMoves,d.dataManagerService.getDanceNames(),P),d.moves.sort(d.generateSortFn(P.course?[_t=>_t.dance,_t=>_t.courseDates.filter(Jt=>Jt.course===P.course).map(Jt=>Jt.date).pop(),_t=>_t.order,_t=>_t.name]:[_t=>_t.dance,_t=>_t.order,_t=>_t.name]))}),d.loaded=!0})()}generateSortFn(d){return(P,_t)=>{for(let Jt of d){if(Jt(P)<Jt(_t))return-1;if(Jt(P)>Jt(_t))return 1}return 0}}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(Os.L),f.Y36(al.t))},L.\u0275cmp=f.Xpm({type:L,selectors:[["app-move-cards-page"]],decls:2,vars:2,consts:[["mode","indeterminate",4,"ngIf"],[4,"ngFor","ngForOf"],["mode","indeterminate"],[3,"move-dto"]],template:function(d,P){1&d&&(f.YNc(0,e0,1,0,"mat-progress-bar",0),f.YNc(1,Xi,2,1,"ng-container",1)),2&d&&(f.Q6J("ngIf",!P.loaded),f.xp6(1),f.Q6J("ngForOf",P.moves))},directives:[tt.O5,tt.sg,gc,xg],styles:[""]}),L})();var Q0=ut(7269),vc=ut(9098),yc=ut(7674);ut(6047);const wh=["*"];var Yh=(()=>{return(L=Yh||(Yh={})).CommandLine="command-line",L.LineHighlight="line-highlight",L.LineNumbers="line-numbers",Yh;var L})();class Wh{}const ud=new f.OlP("SECURITY_CONTEXT");let n0=(()=>{class L{constructor(d,P,_t,Jt,Ze){this.platform=d,this.securityContext=P,this.http=_t,this.sanitizer=Ze,this.initialMarkedOptions={renderer:new yc.Renderer},this.options=Jt}get options(){return this._options}set options(d){this._options=Er(Er({},this.initialMarkedOptions),d)}get renderer(){return this.options.renderer}set renderer(d){this.options.renderer=d}compile(d,P=!1,_t=!1,Jt=this.options){const Ze=this.trimIndentation(d),ji=P?this.decodeHtml(Ze):Ze,Wi=_t?this.renderEmoji(ji):ji,Gi=yc.parse(Wi,Jt);return this.sanitizer.sanitize(this.securityContext,Gi)||""}getSource(d){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(d,{responseType:"text"}).pipe((0,G.U)(P=>this.handleExtension(d,P)))}highlight(d){if((0,tt.NF)(this.platform)&&"undefined"!=typeof Prism){d||(d=document);const P=d.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(P,_t=>_t.classList.add("language-none")),Prism.highlightAllUnder(d)}}renderKatex(d,P){if(!(0,tt.NF)(this.platform))return d;if("undefined"==typeof katex||void 0===katex.renderToString)throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");return d.replace(/\$([^\s][^$]*?[^\s])\$/gm,(_t,Jt)=>katex.renderToString(Jt,P))}decodeHtml(d){if(!(0,tt.NF)(this.platform))return d;const P=document.createElement("textarea");return P.innerHTML=d,P.value}handleExtension(d,P){const _t=d?d.split("?")[0].split(".").splice(-1).join():"";return"md"!==_t?"```"+_t+"\n"+P+"\n```":P}renderEmoji(d){if(!(0,tt.NF)(this.platform))return d;if("undefined"==typeof joypixels||void 0===joypixels.shortnameToUnicode)throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(d)}trimIndentation(d){if(!d)return"";let P;return d.split("\n").map(_t=>{let Jt=P;return _t.length>0&&(Jt=isNaN(Jt)?_t.search(/\S|$/):Math.min(_t.search(/\S|$/),Jt)),isNaN(P)&&(P=Jt),Jt?_t.substring(Jt):_t}).join("\n")}}return L.\u0275fac=function(d){return new(d||L)(f.LFG(f.Lbi),f.LFG(ud),f.LFG(yf.eN,8),f.LFG(Wh,8),f.LFG(ct.H7))},L.\u0275prov=f.Yz7({token:L,factory:L.\u0275fac}),L})(),em=(()=>{class L{constructor(d,P){this.element=d,this.markdownService=P,this.error=new f.vpe,this.load=new f.vpe,this.ready=new f.vpe,this._commandLine=!1,this._emoji=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1}get emoji(){return this._emoji}set emoji(d){this._emoji=this.coerceBooleanProperty(d)}get katex(){return this._katex}set katex(d){this._katex=this.coerceBooleanProperty(d)}get lineHighlight(){return this._lineHighlight}set lineHighlight(d){this._lineHighlight=this.coerceBooleanProperty(d)}get lineNumbers(){return this._lineNumbers}set lineNumbers(d){this._lineNumbers=this.coerceBooleanProperty(d)}get commandLine(){return this._commandLine}set commandLine(d){this._commandLine=this.coerceBooleanProperty(d)}ngOnChanges(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion()}render(d,P=!1){let _t=this.markdownService.compile(d,P,this.emoji);_t=this.katex?this.markdownService.renderKatex(_t,this.katexOptions):_t,this.element.nativeElement.innerHTML=_t,this.handlePlugins(),this.markdownService.highlight(this.element.nativeElement),this.ready.emit()}coerceBooleanProperty(d){return null!=d&&"false"!=`${String(d)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe(d=>{this.render(d),this.load.emit(d)},d=>this.error.emit(d))}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,Yh.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,Yh.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(d,P){const _t=d.querySelectorAll("pre");for(let Jt=0;Jt<_t.length;Jt++){const Ze=P instanceof Array?P:[P];_t.item(Jt).classList.add(...Ze)}}setPluginOptions(d,P){const _t=d.querySelectorAll("pre");for(let Jt=0;Jt<_t.length;Jt++)Object.keys(P).forEach(Ze=>{const ji=P[Ze];if(ji){const Wi=this.toLispCase(Ze);_t.item(Jt).setAttribute(Wi,ji.toString())}})}toLispCase(d){const P=d.match(/([A-Z])/g);if(!P)return d;let _t=d.toString();for(let Jt=0,Ze=P.length;Jt<Ze;Jt++)_t=_t.replace(new RegExp(P[Jt]),"-"+P[Jt].toLowerCase());return"-"===_t.slice(0,1)&&(_t=_t.slice(1)),_t}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(f.SBq),f.Y36(n0))},L.\u0275cmp=f.Xpm({type:L,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[f.TTD],ngContentSelectors:wh,decls:1,vars:0,template:function(d,P){1&d&&(f.F$t(),f.Hsn(0))},encapsulation:2}),L})(),ul=(()=>{class L{static forRoot(d){return{ngModule:L,providers:[n0,d&&d.loader||[],d&&d.markedOptions||[],{provide:ud,useValue:d&&null!=d.sanitize?d.sanitize:f.q3G.HTML}]}}static forChild(){return{ngModule:L}}}return L.\u0275fac=function(d){return new(d||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({}),L})();function Mg(L,nt){1&L&&f._UZ(0,"mat-progress-bar",4)}function hd(L,nt){1&L&&(f.TgZ(0,"mat-error"),f._uU(1," Name must be unique "),f.qZA())}function op(L,nt){1&L&&(f.TgZ(0,"mat-error"),f._uU(1," Name is "),f.TgZ(2,"strong"),f._uU(3,"required"),f.qZA(),f.qZA())}function hl(L,nt){if(1&L&&(f.TgZ(0,"mat-option",28),f._uU(1),f.qZA()),2&L){const d=nt.$implicit;f.Q6J("value",d),f.xp6(1),f.Oqu(d)}}function im(L,nt){if(1&L&&(f.TgZ(0,"mat-option",28),f._uU(1),f.qZA()),2&L){const d=nt.$implicit;f.Q6J("value",d),f.xp6(1),f.Oqu(d)}}function nm(L,nt){if(1&L&&(f.TgZ(0,"mat-option",28),f._uU(1),f.qZA()),2&L){const d=nt.$implicit;f.Q6J("value",d),f.xp6(1),f.hij(" ",d," ")}}function eu(L,nt){if(1&L&&(f.TgZ(0,"mat-option",28),f._uU(1),f.qZA()),2&L){const d=nt.$implicit;f.Q6J("value",d),f.xp6(1),f.hij(" ",d," ")}}function cd(L,nt){if(1&L&&(f.TgZ(0,"mat-option",28),f._uU(1),f.qZA()),2&L){const d=nt.$implicit;f.Q6J("value",d),f.xp6(1),f.hij(" ",d," ")}}function Cg(L,nt){if(1&L&&(f.TgZ(0,"mat-option",28),f._uU(1),f.qZA()),2&L){const d=nt.$implicit;f.Q6J("value",d),f.xp6(1),f.hij(" ",d," ")}}function _u(L,nt){if(1&L&&(f.TgZ(0,"mat-optgroup",29),f.YNc(1,Cg,2,2,"mat-option",10),f.qZA()),2&L){const d=nt.$implicit;f.Q6J("label",d.dance),f.xp6(1),f.Q6J("ngForOf",d.names)}}function rs(L,nt){1&L&&(f.TgZ(0,"mat-form-field",6),f.TgZ(1,"mat-label"),f._uU(2,"ToDo"),f.qZA(),f._UZ(3,"input",30),f.qZA())}function rm(L,nt){if(1&L&&(f.TgZ(0,"mat-option",28),f._uU(1),f.qZA()),2&L){const d=nt.$implicit;f.Q6J("value",d),f.xp6(1),f.Oqu(d)}}function om(L,nt){if(1&L&&(f.TgZ(0,"div",31),f.TgZ(1,"mat-form-field",11),f.TgZ(2,"mat-label"),f._uU(3),f.qZA(),f.TgZ(4,"mat-select",32),f.TgZ(5,"mat-option"),f._uU(6,"None"),f.qZA(),f.YNc(7,rm,2,2,"mat-option",10),f.qZA(),f.qZA(),f.TgZ(8,"mat-form-field",11),f.TgZ(9,"mat-label"),f._uU(10),f.qZA(),f._UZ(11,"input",33),f._UZ(12,"mat-datepicker-toggle",34),f._UZ(13,"mat-datepicker",null,35),f.qZA(),f.qZA()),2&L){const d=nt.index,P=f.MAs(14),_t=f.oxw(2);f.Q6J("formGroupName",d),f.xp6(3),f.hij("Course ",d,""),f.xp6(4),f.Q6J("ngForOf",_t.courseNames),f.xp6(3),f.hij("Date ",d,""),f.xp6(1),f.Q6J("matDatepicker",P),f.xp6(1),f.Q6J("for",P)}}function iu(L,nt){if(1&L){const d=f.EpF();f.TgZ(0,"button",36),f.NdJ("click",function(){return f.CHM(d),f.oxw(2).addCourseDateForm()}),f.TgZ(1,"mat-icon"),f._uU(2,"add_circle_outline"),f.qZA(),f._uU(3,"Add Course Date "),f.qZA()}}function sp(L,nt){1&L&&(f.TgZ(0,"mat-form-field",6),f.TgZ(1,"mat-label"),f._uU(2,"videoname"),f.qZA(),f.TgZ(3,"textarea",37),f._uU(4,'    </mat-form-field>\n   \n    <mat-form-field *ngIf="!readonly">\n        <mat-label>the field that nobody sees</mat-label>\n        <textarea>'),f.qZA(),f.qZA())}function sr(L,nt){1&L&&(f.TgZ(0,"mat-form-field",38),f.TgZ(1,"mat-label"),f._uU(2,"Description"),f.qZA(),f._UZ(3,"textarea",39),f.qZA())}function fd(L,nt){if(1&L&&(f.TgZ(0,"button",40),f._uU(1,"Save"),f.qZA()),2&L){const d=f.oxw(2);f.Q6J("disabled",d.moveForm.invalid)}}function Nm(L,nt){if(1&L){const d=f.EpF();f.TgZ(0,"form",5),f.NdJ("ngSubmit",function(){return f.CHM(d),f.oxw().onSubmit()}),f.TgZ(1,"mat-form-field",6),f.TgZ(2,"mat-label"),f._uU(3,"Name"),f.qZA(),f._UZ(4,"input",7),f.YNc(5,hd,2,0,"mat-error",8),f.YNc(6,op,4,0,"mat-error",8),f.qZA(),f.TgZ(7,"mat-form-field",6),f.TgZ(8,"mat-label"),f._uU(9,"Dance"),f.qZA(),f.TgZ(10,"mat-select",9),f.YNc(11,hl,2,2,"mat-option",10),f.qZA(),f.qZA(),f.TgZ(12,"mat-form-field",11),f.TgZ(13,"mat-label"),f._uU(14,"Order"),f.qZA(),f._UZ(15,"input",12),f.qZA(),f.TgZ(16,"mat-form-field",11),f.TgZ(17,"mat-label"),f._uU(18,"Count"),f.qZA(),f._UZ(19,"input",13),f.qZA(),f.TgZ(20,"mat-form-field",11),f.TgZ(21,"mat-label"),f._uU(22,"Type"),f.qZA(),f.TgZ(23,"mat-select",14),f.YNc(24,im,2,2,"mat-option",10),f.qZA(),f.qZA(),f.TgZ(25,"mat-checkbox",15),f._uU(26,"Name Verified"),f.qZA(),f.TgZ(27,"mat-form-field",6),f.TgZ(28,"mat-label"),f._uU(29,"Start Move"),f.qZA(),f.TgZ(30,"mat-select",16),f.YNc(31,nm,2,2,"mat-option",10),f.qZA(),f.qZA(),f.TgZ(32,"mat-form-field",6),f.TgZ(33,"mat-label"),f._uU(34,"End Move"),f.qZA(),f.TgZ(35,"mat-select",17),f.YNc(36,eu,2,2,"mat-option",10),f.qZA(),f.qZA(),f.TgZ(37,"mat-form-field",6),f.TgZ(38,"mat-label"),f._uU(39,"Related Moves"),f.qZA(),f.TgZ(40,"mat-select",18),f.YNc(41,cd,2,2,"mat-option",10),f.qZA(),f.qZA(),f.TgZ(42,"mat-form-field",6),f.TgZ(43,"mat-label"),f._uU(44,"Related Moves Other Dances"),f.qZA(),f.TgZ(45,"mat-select",19),f.YNc(46,_u,2,2,"mat-optgroup",20),f.qZA(),f.qZA(),f.YNc(47,rs,4,0,"mat-form-field",21),f.TgZ(48,"mat-form-field",6),f.TgZ(49,"mat-label"),f._uU(50,"links"),f.qZA(),f._UZ(51,"input",22),f.qZA(),f.TgZ(52,"div",23),f.YNc(53,om,15,6,"div",24),f.YNc(54,iu,4,0,"button",25),f.qZA(),f.YNc(55,sp,5,0,"mat-form-field",21),f.YNc(56,sr,4,0,"mat-form-field",26),f.YNc(57,fd,2,1,"button",27),f.qZA()}if(2&L){const d=f.oxw();let P,_t;f.Q6J("formGroup",d.moveForm),f.xp6(5),f.Q6J("ngIf",(null==(P=d.moveForm.get("name"))?null:P.hasError("nameExists"))&&!(null!=(P=d.moveForm.get("name"))&&P.hasError("required"))),f.xp6(1),f.Q6J("ngIf",null==(_t=d.moveForm.get("name"))?null:_t.hasError("required")),f.xp6(5),f.Q6J("ngForOf",d.dances),f.xp6(13),f.Q6J("ngForOf",d.types),f.xp6(7),f.Q6J("ngForOf",d.danceMovesNames),f.xp6(5),f.Q6J("ngForOf",d.danceMovesNames),f.xp6(5),f.Q6J("ngForOf",d.danceMovesNames),f.xp6(5),f.Q6J("ngForOf",d.movesGroup),f.xp6(1),f.Q6J("ngIf",!d.readonly),f.xp6(6),f.Q6J("ngForOf",d.getCourseDateControls()),f.xp6(1),f.Q6J("ngIf",!d.readonly),f.xp6(1),f.Q6J("ngIf",!d.readonly),f.xp6(1),f.Q6J("ngIf",!d.readonly),f.xp6(1),f.Q6J("ngIf",!d.readonly)}}function r0(L,nt){if(1&L&&(f.ynx(0),f.TgZ(1,"div",41),f._UZ(2,"iframe",42),f.qZA(),f.BQk()),2&L){const d=nt.$implicit;f.xp6(2),f.Q6J("src",d.safeUrl,f.uOi)}}let ap=(()=>{class L{constructor(d,P,_t,Jt,Ze){this.route=d,this.dataManager=P,this.settings=_t,this.navService=Jt,this.sanitizer=Ze,this.dances=new Set,this.types=new Set,this.courseNames=new Set,this.moveForm=new Ni({name:new Jn("",[wt.required,this.nameExistsValidator()]),dance:new Jn("",wt.required),date:new Jn(null),order:new Jn,count:new Jn(""),nameVerified:new Jn(""),type:new Jn("Figur",wt.required),startMove:new Jn([]),endMove:new Jn([]),relatedMoves:new Jn([]),relatedMovesOtherDances:new Jn([]),videoname:new Jn(""),description:new Jn(""),toDo:new Jn(""),links:new Jn(""),row:new Jn(""),courseDates:new xi([])}),this.otherMovesNames=new Set,this.danceMovesNames=new Set,this.loaded=!1,this.nameParam="",this.readonly=!1,this.createCourseDateForm=()=>new Ni({course:new Jn(""),date:new Jn(null),row:new Jn("")}),this.addCourseDateForm=()=>{this.moveForm.get("courseDates").push(this.createCourseDateForm())},this.removeOrClearCourseDate=ji=>{const Wi=this.moveForm.get("courseDates");Wi.length>1?Wi.removeAt(ji):Wi.reset()},this.route.paramMap.subscribe(ji=>{this.readParams(ji)})}ngOnInit(){var d=this;return(0,sl.Z)(function*(){var P;d.moveForm.valueChanges.subscribe(_t=>{console.log(_t)}),d.dataManager.getGroupedMoveNames().subscribe(_t=>{d.movesGroup=_t}),yield d.dataManager.loading(),d.dances=d.dataManager.getDanceNames(),d.types=d.dataManager.getTypes(),d.courseNames=d.dataManager.getCourseNames(),d.otherMovesNames=d.dataManager.getMovesNames(),d.otherMovesNames.add("new"),"new"==d.nameParam?d.move&&(d.moveForm.reset(),d.move=JSON.parse(JSON.stringify(d.move)),d.move&&(d.move.row=NaN)):(d.move=d.dataManager.getMove(d.nameParam),d.move&&(d.move.courseDates.forEach(d.addCourseDateForm),d.otherMovesNames.delete(d.move.name))),d.moveForm.valueChanges.subscribe(_t=>{var Jt;d.move&&(d.move.name=_t.name,d.move.dance=_t.dance,d.move.description=_t.description,d.move.order=Number(_t.order),d.move.count=_t.count,d.move.nameVerified=_t.nameVerified,d.move.type=_t.type,d.move.startMove=_t.startMove,d.move.endMove=_t.endMove,d.move.relatedMoves=_t.relatedMoves,d.move.relatedMovesOtherDances=_t.relatedMovesOtherDances,d.move.videoname=_t.videoname,d.move.links=_t.links,d.move.toDo=_t.toDo,d.move.courseDates=_t.courseDates),d.danceMovesNames=d.dataManager.getMovesNamesOf(null===(Jt=d.move)||void 0===Jt?void 0:Jt.dance)}),d.move&&d.moveForm.patchValue(d.move),d.moveForm.updateValueAndValidity(),d.settings.userMode.subscribe(_t=>{_t===Q0.$.read&&(d.moveForm.disable(),d.readonly=!0)}),null===(P=d.move)||void 0===P||P.videos.forEach(_t=>_t.safeUrl=d.sanitizer.bypassSecurityTrustResourceUrl(_t.link)),d.loaded=!0})()}readParams(d){!d.has("name")||(this.nameParam=d.get("name"),this.nameParam=decodeURI(this.nameParam),this.navService.headlineObservable.next(this.nameParam))}getCourseDateControls(){return this.moveForm.get("courseDates").controls}onSubmit(){this.moveForm.valid&&this.move&&(this.loaded=!1,this.readonly=!0,this.moveForm.disable(),this.dataManager.saveOrCreate(this.move).subscribe(d=>{console.log(d),this.moveForm.patchValue(d),this.loaded=!0,this.readonly=!1,this.moveForm.enable()}))}nameExistsValidator(){return d=>{var P;return(null===(P=this.otherMovesNames)||void 0===P?void 0:P.has(d.value))?{nameExists:{value:d.value}}:null}}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(Ea.gz),f.Y36(Os.L),f.Y36(vc.g),f.Y36(al.t),f.Y36(ct.H7))},L.\u0275cmp=f.Xpm({type:L,selectors:[["app-move-page"]],decls:4,vars:4,consts:[["mode","indeterminate",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],["markdown","",3,"data"],[4,"ngFor","ngForOf"],["mode","indeterminate"],[3,"formGroup","ngSubmit"],["appearance","fill",1,"full-width-adaptive"],["matInput","","formControlName","name"],[4,"ngIf"],["formControlName","dance"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill",1,"half-width"],["type","number","matInput","","formControlName","order"],["type","number","matInput","","formControlName","count"],["formControlName","type"],["formControlName","nameVerified",1,"half-width"],["formControlName","startMove","multiple",""],["formControlName","endMove","multiple",""],["formControlName","relatedMoves","multiple",""],["formControlName","relatedMovesOtherDances","multiple",""],[3,"label",4,"ngFor","ngForOf"],["appearance","fill","class","full-width-adaptive",4,"ngIf"],["matInput","","formControlName","links"],["formArrayName","courseDates"],["class","full-width",3,"formGroupName",4,"ngFor","ngForOf"],["mat-icon-button","","color","primary","type","button","aria-label","Add","matTooltip","Add Course Date",3,"click",4,"ngIf"],["appearance","fill","class","full-width",4,"ngIf"],["mat-raised-button","","color","primary","type","submit",3,"disabled",4,"ngIf"],[3,"value"],[3,"label"],["matInput","","formControlName","toDo"],[1,"full-width",3,"formGroupName"],["formControlName","course"],["matInput","","formControlName","date",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["mat-icon-button","","color","primary","type","button","aria-label","Add","matTooltip","Add Course Date",3,"click"],["cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","100","matInput","","formControlName","videoname"],["appearance","fill",1,"full-width"],["cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","100","matInput","","formControlName","description"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"video-container"],["scrolling","no","frameborder","0","allowfullscreen","",3,"src"]],template:function(d,P){1&d&&(f.YNc(0,Mg,1,0,"mat-progress-bar",0),f.YNc(1,Nm,58,15,"form",1),f._UZ(2,"div",2),f.YNc(3,r0,3,1,"ng-container",3)),2&d&&(f.Q6J("ngIf",!P.loaded),f.xp6(1),f.Q6J("ngIf",P.loaded||P.move),f.xp6(1),f.Q6J("data",P.moveForm.value.description),f.xp6(1),f.Q6J("ngForOf",null==P.move?null:P.move.videos))},directives:[tt.O5,em,tt.sg,gc,Vs,Fi,Va,Me,fh,mh,Y,Se,ia,Zu,js,Mr,Tl,Oh,yi.ey,yi.Nv,ks,Lp,Qf,dh,gg,Ve.lW,lc,Xr],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.full-width-adaptive[_ngcontent-%COMP%]{width:100%;max-width:500px}.half-width[_ngcontent-%COMP%]{width:50%;max-width:250px}.mat-input-element[_ngcontent-%COMP%]:disabled, .mat-form-field-type-mat-native-select.mat-form-field-disabled[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]:after{color:#fff}.mat-select-disabled[_ngcontent-%COMP%]     .mat-select-value{color:#fff}.video-container[_ngcontent-%COMP%]{position:relative;height:0;padding-bottom:56.25%}.video-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}"]}),L})();var nu=ut(6912),jo=ut(6961),o0=ut(4317),Da=ut(4373);function La(L){for(var nt=arguments.length,d=Array(nt>1?nt-1:0),P=1;P<nt;P++)d[P-1]=arguments[P];throw Error("[Immer] minified error nr: "+L+(d.length?" "+d.map(function(Ze){return"'"+Ze+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Br(L){return!!L&&!!L[ge]}function _h(L){return!!L&&(function(nt){if(!nt||"object"!=typeof nt)return!1;var d=Object.getPrototypeOf(nt);if(null===d)return!0;var P=Object.hasOwnProperty.call(d,"constructor")&&d.constructor;return P===Object||"function"==typeof P&&Function.toString.call(P)===ze}(L)||Array.isArray(L)||!!L[qt]||!!L.constructor[qt]||Yc(L)||bu(L))}function bh(L,nt,d){void 0===d&&(d=!1),0===Ka(L)?(d?Object.keys:ri)(L).forEach(function(P){d&&"symbol"==typeof P||nt(P,L[P],L)}):L.forEach(function(P,_t){return nt(_t,P,L)})}function Ka(L){var nt=L[ge];return nt?nt.i>3?nt.i-4:nt.i:Array.isArray(L)?1:Yc(L)?2:bu(L)?3:0}function Aa(L,nt){return 2===Ka(L)?L.has(nt):Object.prototype.hasOwnProperty.call(L,nt)}function mo(L,nt,d){var P=Ka(L);2===P?L.set(nt,d):3===P?(L.delete(nt),L.add(d)):L[nt]=d}function Yc(L){return Rt&&L instanceof Map}function bu(L){return $t&&L instanceof Set}function os(L){return L.o||L.t}function s0(L){if(Array.isArray(L))return Array.prototype.slice.call(L);var nt=ki(L);delete nt[ge];for(var d=ri(nt),P=0;P<d.length;P++){var _t=d[P],Jt=nt[_t];!1===Jt.writable&&(Jt.writable=!0,Jt.configurable=!0),(Jt.get||Jt.set)&&(nt[_t]={configurable:!0,writable:!0,enumerable:Jt.enumerable,value:L[_t]})}return Object.create(Object.getPrototypeOf(L),nt)}function a0(L,nt){return void 0===nt&&(nt=!1),Qu(L)||Br(L)||!_h(L)||(Ka(L)>1&&(L.set=L.add=L.clear=L.delete=l0),Object.freeze(L),nt&&bh(L,function(d,P){return a0(P,!0)},!0)),L}function l0(){La(2)}function Qu(L){return null==L||"object"!=typeof L||Object.isFrozen(L)}function Bu(L){var nt=Oi[L];return nt||La(18,L),nt}function Tf(){return pt}function Sg(L,nt){nt&&(Bu("Patches"),L.u=[],L.s=[],L.v=nt)}function dd(L){Fm(L),L.p.forEach(pd),L.p=null}function Fm(L){L===pt&&(pt=L.l)}function Vu(L){return pt={p:[],l:pt,h:L,m:!0,_:0}}function pd(L){var nt=L[ge];0===nt.i||1===nt.i?nt.j():nt.O=!0}function Kh(L,nt){nt._=nt.p.length;var d=nt.p[0],P=void 0!==L&&L!==d;return nt.h.g||Bu("ES5").S(nt,L,P),P?(d[ge].P&&(dd(nt),La(4)),_h(L)&&(L=Pf(nt,L),nt.l||md(nt,L)),nt.u&&Bu("Patches").M(d[ge],L,nt.u,nt.s)):L=Pf(nt,d,[]),dd(nt),nt.u&&nt.v(nt.u,nt.s),L!==se?L:void 0}function Pf(L,nt,d){if(Qu(nt))return nt;var P=nt[ge];if(!P)return bh(nt,function(Jt,Ze){return Na(L,P,nt,Jt,Ze,d)},!0),nt;if(P.A!==L)return nt;if(!P.P)return md(L,P.t,!0),P.t;if(!P.I){P.I=!0,P.A._--;var _t=4===P.i||5===P.i?P.o=s0(P.k):P.o;bh(3===P.i?new Set(_t):_t,function(Jt,Ze){return Na(L,P,_t,Jt,Ze,d)}),md(L,_t,!1),d&&L.u&&Bu("Patches").R(P,d,L.u,L.s)}return P.o}function Na(L,nt,d,P,_t,Jt){if(Br(_t)){var Ze=Pf(L,_t,Jt&&nt&&3!==nt.i&&!Aa(nt.D,P)?Jt.concat(P):void 0);if(mo(d,P,Ze),!Br(Ze))return;L.m=!1}if(_h(_t)&&!Qu(_t)){if(!L.h.F&&L._<1)return;Pf(L,_t),nt&&nt.A.l||md(L,_t)}}function md(L,nt,d){void 0===d&&(d=!1),L.h.F&&L.m&&a0(nt,d)}function Wc(L,nt){var d=L[ge];return(d?os(d):L)[nt]}function Fa(L,nt){if(nt in L)for(var d=Object.getPrototypeOf(L);d;){var P=Object.getOwnPropertyDescriptor(d,nt);if(P)return P;d=Object.getPrototypeOf(d)}}function ca(L){L.P||(L.P=!0,L.l&&ca(L.l))}function Bm(L){L.o||(L.o=s0(L.t))}function th(L,nt,d){var P=Yc(nt)?Bu("MapSet").N(nt,d):bu(nt)?Bu("MapSet").T(nt,d):L.g?function(_t,Jt){var Ze=Array.isArray(_t),ji={i:Ze?1:0,A:Jt?Jt.A:Tf(),P:!1,I:!1,D:{},l:Jt,t:_t,k:null,o:null,j:null,C:!1},Wi=ji,Gi=ii;Ze&&(Wi=[ji],Gi=Ti);var sn=Proxy.revocable(Wi,Gi),Un=sn.revoke,fr=sn.proxy;return ji.k=fr,ji.j=Un,fr}(nt,d):Bu("ES5").J(nt,d);return(d?d.A:Tf()).p.push(P),P}function u(L,nt){switch(nt){case 2:return new Map(L);case 3:return Array.from(L)}return s0(L)}var gt,pt,Ct="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Rt="undefined"!=typeof Map,$t="undefined"!=typeof Set,ee="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,se=Ct?Symbol.for("immer-nothing"):((gt={})["immer-nothing"]=!0,gt),qt=Ct?Symbol.for("immer-draftable"):"__$immer_draftable",ge=Ct?Symbol.for("immer-state"):"__$immer_state",ze=("undefined"!=typeof Symbol&&Symbol,""+Object.prototype.constructor),ri="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(L){return Object.getOwnPropertyNames(L).concat(Object.getOwnPropertySymbols(L))}:Object.getOwnPropertyNames,ki=Object.getOwnPropertyDescriptors||function(L){var nt={};return ri(L).forEach(function(d){nt[d]=Object.getOwnPropertyDescriptor(L,d)}),nt},Oi={},ii={get:function(L,nt){if(nt===ge)return L;var _t,ji,Wi,d=os(L);if(!Aa(d,nt))return _t=L,(Wi=Fa(d,nt))?"value"in Wi?Wi.value:null===(ji=Wi.get)||void 0===ji?void 0:ji.call(_t.k):void 0;var P=d[nt];return L.I||!_h(P)?P:P===Wc(L.t,nt)?(Bm(L),L.o[nt]=th(L.A.h,P,L)):P},has:function(L,nt){return nt in os(L)},ownKeys:function(L){return Reflect.ownKeys(os(L))},set:function(L,nt,d){var P=Fa(os(L),nt);if(null==P?void 0:P.set)return P.set.call(L.k,d),!0;if(!L.P){var _t=Wc(os(L),nt),Jt=null==_t?void 0:_t[ge];if(Jt&&Jt.t===d)return L.o[nt]=d,L.D[nt]=!1,!0;if(function(L,nt){return L===nt?0!==L||1/L==1/nt:L!=L&&nt!=nt}(d,_t)&&(void 0!==d||Aa(L.t,nt)))return!0;Bm(L),ca(L)}return L.o[nt]===d&&"number"!=typeof d&&(void 0!==d||nt in L.o)||(L.o[nt]=d,L.D[nt]=!0,!0)},deleteProperty:function(L,nt){return void 0!==Wc(L.t,nt)||nt in L.t?(L.D[nt]=!1,Bm(L),ca(L)):delete L.D[nt],L.o&&delete L.o[nt],!0},getOwnPropertyDescriptor:function(L,nt){var d=os(L),P=Reflect.getOwnPropertyDescriptor(d,nt);return P&&{writable:!0,configurable:1!==L.i||"length"!==nt,enumerable:P.enumerable,value:d[nt]}},defineProperty:function(){La(11)},getPrototypeOf:function(L){return Object.getPrototypeOf(L.t)},setPrototypeOf:function(){La(12)}},Ti={};bh(ii,function(L,nt){Ti[L]=function(){return arguments[0]=arguments[0][0],nt.apply(this,arguments)}}),Ti.deleteProperty=function(L,nt){return ii.deleteProperty.call(this,L[0],nt)},Ti.set=function(L,nt,d){return ii.set.call(this,L[0],nt,d,L[0])};var Ri=new(function(){function L(d){var P=this;this.g=ee,this.F=!0,this.produce=function(_t,Jt,Ze){if("function"==typeof _t&&"function"!=typeof Jt){var ji=Jt;Jt=_t;var Wi=P;return function(Lr){var wo=this;void 0===Lr&&(Lr=ji);for(var Ro=arguments.length,fa=Array(Ro>1?Ro-1:0),es=1;es<Ro;es++)fa[es-1]=arguments[es];return Wi.produce(Lr,function(Za){var qa;return(qa=Jt).call.apply(qa,[wo,Za].concat(fa))})}}var Gi;if("function"!=typeof Jt&&La(6),void 0!==Ze&&"function"!=typeof Ze&&La(7),_h(_t)){var sn=Vu(P),Un=th(P,_t,void 0),fr=!0;try{Gi=Jt(Un),fr=!1}finally{fr?dd(sn):Fm(sn)}return"undefined"!=typeof Promise&&Gi instanceof Promise?Gi.then(function(Lr){return Sg(sn,Ze),Kh(Lr,sn)},function(Lr){throw dd(sn),Lr}):(Sg(sn,Ze),Kh(Gi,sn))}if(!_t||"object"!=typeof _t)return(Gi=Jt(_t))===se?void 0:(void 0===Gi&&(Gi=_t),P.F&&a0(Gi,!0),Gi);La(21,_t)},this.produceWithPatches=function(_t,Jt){return"function"==typeof _t?function(Wi){for(var Gi=arguments.length,sn=Array(Gi>1?Gi-1:0),Un=1;Un<Gi;Un++)sn[Un-1]=arguments[Un];return P.produceWithPatches(Wi,function(fr){return _t.apply(void 0,[fr].concat(sn))})}:[P.produce(_t,Jt,function(Wi,Gi){Ze=Wi,ji=Gi}),Ze,ji];var Ze,ji},"boolean"==typeof(null==d?void 0:d.useProxies)&&this.setUseProxies(d.useProxies),"boolean"==typeof(null==d?void 0:d.autoFreeze)&&this.setAutoFreeze(d.autoFreeze)}var nt=L.prototype;return nt.createDraft=function(d){_h(d)||La(8),Br(d)&&(d=function(L){return Br(L)||La(22,L),function nt(d){if(!_h(d))return d;var P,_t=d[ge],Jt=Ka(d);if(_t){if(!_t.P&&(_t.i<4||!Bu("ES5").K(_t)))return _t.t;_t.I=!0,P=u(d,Jt),_t.I=!1}else P=u(d,Jt);return bh(P,function(Ze,ji){_t&&function(L,nt){return 2===Ka(L)?L.get(nt):L[nt]}(_t.t,Ze)===ji||mo(P,Ze,nt(ji))}),3===Jt?new Set(P):P}(L)}(d));var P=Vu(this),_t=th(this,d,void 0);return _t[ge].C=!0,Fm(P),_t},nt.finishDraft=function(d,P){var Jt=(d&&d[ge]).A;return Sg(Jt,P),Kh(void 0,Jt)},nt.setAutoFreeze=function(d){this.F=d},nt.setUseProxies=function(d){d&&!ee&&La(20),this.g=d},nt.applyPatches=function(d,P){var _t;for(_t=P.length-1;_t>=0;_t--){var Jt=P[_t];if(0===Jt.path.length&&"replace"===Jt.op){d=Jt.value;break}}_t>-1&&(P=P.slice(_t+1));var Ze=Bu("Patches").$;return Br(d)?Ze(d,P):this.produce(d,function(ji){return Ze(ji,P)})},L}()),Ii=Ri.produce;Ri.produceWithPatches.bind(Ri),Ri.setAutoFreeze.bind(Ri),Ri.setUseProxies.bind(Ri),Ri.applyPatches.bind(Ri),Ri.createDraft.bind(Ri),Ri.finishDraft.bind(Ri);const un=Ii,fn=["ngDiagram"];class Hn{constructor(){}static makeMouseMoveRunOutsideAngularZone(nt,d){nt.addEventListener=(P,_t,Jt,Ze)=>{const ji=jo.Diagram.prototype.addEventListener;"mousemove"===_t?d.runOutsideAngular(()=>ji.call(this,P,_t,Jt,Ze)):d.run(()=>{ji.call(this,P,_t,Jt,Ze)})}}static initializeModel(nt,d,P,_t){nt.delayInitialization(()=>{nt.model.commit(Ze=>{_t&&Ze.assignAllDataProperties(Ze.modelData,_t),Ze.mergeNodeDataArray(Ze.cloneDeep(d)),P&&Ze instanceof jo.GraphLinksModel&&Ze.mergeLinkDataArray(Ze.cloneDeep(P))},null)})}static initializeModelChangedListener(nt){var d=null;!nt.hasOwnProperty("diagram")&&!nt.hasOwnProperty("palette")||(nt.hasOwnProperty("diagram")&&(d=nt.diagram),nt.hasOwnProperty("palette")&&(d=nt.palette),nt.modelChangedListener=P=>{P.isTransactionFinished&&P.model&&!P.model.isReadOnly&&nt.modelChange&&nt.zone.run(()=>{const _t=P.model.toIncrementalData(P);null!==_t&&nt.modelChange.emit(_t)})},d.addModelChangedListener(nt.modelChangedListener))}static mergeAppDataWithModel(nt,d){var P=null;nt.hasOwnProperty("diagram")&&(P=nt.diagram),nt.hasOwnProperty("palette")&&(P=nt.palette),P.model.commit(_t=>{d&&(P.model.modelData={}),P.model.assignAllDataProperties(P.model.modelData,nt.modelData),d&&(P.model.nodeDataArray=[]),P.model.mergeNodeDataArray(nt.nodeDataArray),nt.linkDataArray&&P.model instanceof jo.GraphLinksModel&&(d&&(P.model.linkDataArray=[]),P.model.mergeLinkDataArray(nt.linkDataArray))},d?null:"update data")}}let Si=(()=>{class L{constructor(d){this.zone=d,this.linkDataArray=null,this.modelData=null,this.modelChangedListener=null,this.skipsDiagramUpdate=!1,this.modelChange=new f.vpe,this.diagram=null,this.wasCleared=!1}ngAfterViewInit(){if(!this.diagramDiv)throw new Error("diagramDiv is not defined");if(this.diagram=this.initDiagram(),!(this.diagram instanceof jo.Diagram))throw new Error("initDiagram function did not return a go.Diagram");Hn.makeMouseMoveRunOutsideAngularZone(this.diagram,this.zone);const d=this.diagramDiv.nativeElement;null!==d&&(this.diagram.div=d,Hn.initializeModel(this.diagram,this.nodeDataArray,this.linkDataArray,this.modelData),Hn.initializeModelChangedListener(this))}ngOnChanges(){!this.diagram||!this.diagram.model||this.skipsDiagramUpdate||(this.wasCleared?(this.diagram.delayInitialization(()=>{Hn.mergeAppDataWithModel(this,!0)}),this.wasCleared=!1):Hn.mergeAppDataWithModel(this))}clear(){const d=this.diagram;null!==d&&(d.clear(),this.wasCleared=!0)}ngOnDestroy(){this.diagram.div=null}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(f.R0b))},L.\u0275cmp=f.Xpm({type:L,selectors:[["gojs-diagram"]],viewQuery:function(d,P){if(1&d&&f.Gf(fn,7),2&d){let _t;f.iGM(_t=f.CRH())&&(P.diagramDiv=_t.first)}},inputs:{linkDataArray:"linkDataArray",modelData:"modelData",skipsDiagramUpdate:"skipsDiagramUpdate",initDiagram:"initDiagram",nodeDataArray:"nodeDataArray",divClassName:"divClassName"},outputs:{modelChange:"modelChange"},features:[f.TTD],decls:2,vars:1,consts:[[3,"className"],["ngDiagram",""]],template:function(d,P){1&d&&f._UZ(0,"div",0,1),2&d&&f.Q6J("className",P.divClassName)},encapsulation:2}),L})(),pn=(()=>{class L{static syncNodeData(d,P,_t){if(!d||!d.modifiedNodeData&&!d.insertedNodeKeys&&!d.removedNodeKeys)return P;const Jt=new jo.Map;return un(P,ji=>{if(d.modifiedNodeData&&d.modifiedNodeData.forEach(Wi=>{const Gi=_t?_t.getKeyForNodeData(Wi):Wi.key;Jt.set(Gi,Wi);for(let sn=0;sn<P.length;sn++){const Un=P[sn];(_t?_t.getKeyForNodeData(Un):Un.key)===Gi&&(ji[sn]=Wi)}}),d.insertedNodeKeys&&d.insertedNodeKeys.forEach(Wi=>{const Gi=Jt.get(Wi);Gi&&ji.push(Gi)}),d.removedNodeKeys)return ji.filter(Wi=>{const Gi=_t?_t.getKeyForNodeData(Wi):Wi.key;return!d.removedNodeKeys.includes(Gi)})})}static syncLinkData(d,P,_t){if(!d||!d.modifiedLinkData&&!d.insertedLinkKeys&&!d.removedLinkKeys)return P;const Jt=new jo.Map;return P=un(P,Ze=>{if(d.modifiedLinkData&&d.modifiedLinkData.forEach(ji=>{const Wi=_t?_t.getKeyForLinkData(ji):ji.key;Jt.set(Wi,ji);for(let Gi=0;Gi<P.length;Gi++){const sn=P[Gi];(_t?_t.getKeyForLinkData(sn):sn.key)===Wi&&(Ze[Gi]=ji)}}),d.insertedLinkKeys&&d.insertedLinkKeys.forEach(ji=>{const Wi=Jt.get(ji);Wi&&Ze.push(Wi)}),d.removedLinkKeys)return Ze.filter(ji=>{const Wi=_t?_t.getKeyForLinkData(ji):ji.key;return!d.removedLinkKeys.includes(Wi)})})}static syncModelData(d,P){return d&&d.modelData?d.modelData?d.modelData:void 0:P}}return L.\u0275fac=function(d){return new(d||L)},L.\u0275prov=f.Yz7({token:L,factory:L.\u0275fac}),L})(),kn=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({providers:[pn],imports:[[]]}),L})();const Qn=["chartHighchart"],rr=["chartCytoscape"];function _r(L,nt){1&L&&f._UZ(0,"mat-progress-bar",5)}function go(L,nt){if(1&L){const d=f.EpF();f.TgZ(0,"gojs-diagram",6),f.NdJ("modelChange",function(_t){return f.CHM(d),f.oxw().diagramModelChange(_t)}),f.qZA()}if(2&L){const d=f.oxw();f.Q6J("initDiagram",d.createGojsDiagram)("nodeDataArray",d.gojsState.diagramNodeData)("linkDataArray",d.gojsState.diagramLinkData)("modelData",d.gojsState.diagramModelData)("skipsDiagramUpdate",d.gojsState.skipsDiagramUpdate)}}let yo=(()=>{class L{constructor(d,P){this.dataManagerService=d,this.navService=P,this.loaded=!1,this.show="",this.gojsState={diagramNodeData:[],diagramLinkData:[],diagramModelData:{prop:"value"},skipsDiagramUpdate:!1},this.diagramModelChange=function(_t){console.log(_t)},this.navService.headlineObservable.next("Relations"),ut(742)(o0)}ngOnInit(){var d=this;return(0,sl.Z)(function*(){yield d.dataManagerService.loading(),d.loaded=!0,d.valueChangesSubscription=d.dataManagerService.relationsSelectionObservable.pipe((0,xu.w)(P=>d.dataManagerService.getRelationPairs(P.relationTypes))).subscribe(P=>{d.dataManagerService.relationsSelectionObservable.value.displayType===Da.u.highchartsNetworkgraph?(d.show="Highchart",d.createHighchart(P)):d.dataManagerService.relationsSelectionObservable.value.displayType===Da.u.cytoscape?(d.show="Cytoscape",d.createCytoscape(P)):(d.show="Gojs",d.updateGojsDiagram(P))})})()}createHighchart(d){o0.chart(this.chartViewChildHighchart.nativeElement,{chart:{type:"networkgraph",plotBorderWidth:0,backgroundColor:"transparent"},title:{text:"Relations",style:{fontFamily:"monospace",color:"#fff"}},plotOptions:{networkgraph:{keys:["from","to"],layoutAlgorithm:{enableSimulation:!1,integration:"verlet",linkLength:100}}},series:[{name:"K8",marker:{radius:20,fillColor:"#c2185b"},dataLabels:{enabled:!0,textPath:{enabled:!0,attributes:{dy:9,startOffset:"45%",fill:"#fff"}},style:{fontSize:"9",fontWeight:"100"},linkFormat:"",allowOverlap:!0},data:d}]})}updateGojsDiagram(d){const P=Array.from(new Set(d.flatMap(Jt=>[Jt.from,Jt.to])).values()).map(Jt=>({id:Jt,text:Jt}));this.gojsState={diagramNodeData:P,diagramLinkData:d,diagramModelData:{prop:"value"},skipsDiagramUpdate:!1},console.log(this.gojsState)}createGojsDiagram(){const d=jo.GraphObject.make,P=d(jo.Diagram,{"undoManager.isEnabled":!0,model:d(jo.GraphLinksModel,{nodeKeyProperty:"id",linkKeyProperty:"key"}),initialAutoScale:jo.Diagram.Uniform,contentAlignment:jo.Spot.Center,layout:d(jo.ForceDirectedLayout,{maxIterations:200,defaultSpringLength:30,defaultElectricalCharge:100})});return P.nodeTemplate=d(jo.Node,"Auto",{locationSpot:jo.Spot.Center},d(jo.Shape,"Rectangle",{fill:d(jo.Brush,"Linear",{0:"#c2185b",1:"#c2185b"})}),d(jo.TextBlock,{font:"bold 10pt helvetica, bold arial, sans-serif",margin:4},new jo.Binding("text","text"))),P.linkTemplate=d(jo.Link,d(jo.Shape,{stroke:"white"}),d(jo.Shape,{toArrow:"standard",stroke:"white"}),d(jo.Panel,"Auto",d(jo.TextBlock,{textAlign:"center",font:"10pt helvetica, arial, sans-serif",stroke:"#555555",margin:4},new jo.Binding("text","text")))),P}createCytoscape(d){const P=Array.from(new Set(d.flatMap(Ze=>[Ze.from,Ze.to])).values()).map(Ze=>({data:{id:Ze,width:10*Ze.length}})),_t=d.map(Ze=>({data:{id:Ze.from+Ze.to,source:Ze.from,target:Ze.to}})),Jt={container:this.chartViewChildCytoscape.nativeElement,elements:[...P,..._t],style:[{selector:"node",style:{label:"data(id)",height:30,width:"data(width)","border-color":"#000","border-width":3,"border-opacity":.5,"background-color":"#c2185b",color:"#ccc","text-wrap":"wrap","text-halign":"center","text-valign":"center",shape:"roundrectangle"}},{selector:"edge",style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}}],layout:{name:"cose",nodeDimensionsIncludeLabels:!0,nodeRepulsion:Ze=>1e7}};if(this.cy)return this.cy.json(Jt),void this.cy.layout(Jt.layout).run();this.cy=nu(Jt),this.cy.on("tap","node",Ze=>{this.navService.navigate(["move",Ze.target.id()])})}ngOnDestroy(){var d;null===(d=this.valueChangesSubscription)||void 0===d||d.unsubscribe()}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(Os.L),f.Y36(al.t))},L.\u0275cmp=f.Xpm({type:L,selectors:[["ng-component"]],viewQuery:function(d,P){if(1&d&&(f.Gf(Qn,5),f.Gf(rr,5)),2&d){let _t;f.iGM(_t=f.CRH())&&(P.chartViewChildHighchart=_t.first),f.iGM(_t=f.CRH())&&(P.chartViewChildCytoscape=_t.first)}},decls:6,vars:4,consts:[["mode","indeterminate",4,"ngIf"],[1,"chart-container",3,"hidden"],["chartHighchart",""],["chartCytoscape",""],["divClassName","gojsDiv",3,"initDiagram","nodeDataArray","linkDataArray","modelData","skipsDiagramUpdate","modelChange",4,"ngIf"],["mode","indeterminate"],["divClassName","gojsDiv",3,"initDiagram","nodeDataArray","linkDataArray","modelData","skipsDiagramUpdate","modelChange"]],template:function(d,P){1&d&&(f.YNc(0,_r,1,0,"mat-progress-bar",0),f._UZ(1,"div",1,2),f._UZ(3,"div",1,3),f.YNc(5,go,1,5,"gojs-diagram",4)),2&d&&(f.Q6J("ngIf",!P.loaded),f.xp6(1),f.Q6J("hidden","Highchart"!=P.show),f.xp6(2),f.Q6J("hidden","Cytoscape"!=P.show),f.xp6(2),f.Q6J("ngIf","Gojs"==P.show))},directives:[tt.O5,gc,Si],styles:[".chart-container{width:100%;margin:0 auto;height:93%}.full-width-adaptive{width:100%;max-width:500px}.gojsDiv{width:100%;margin:0 auto;height:100%}\n"],encapsulation:2}),L})();class Tr{constructor(nt,d){this._document=d;const P=this._textarea=this._document.createElement("textarea"),_t=P.style;_t.position="fixed",_t.top=_t.opacity="0",_t.left="-999em",P.setAttribute("aria-hidden","true"),P.value=nt,this._document.body.appendChild(P)}copy(){const nt=this._textarea;let d=!1;try{if(nt){const P=this._document.activeElement;nt.select(),nt.setSelectionRange(0,nt.value.length),d=this._document.execCommand("copy"),P&&P.focus()}}catch(P){}return d}destroy(){const nt=this._textarea;nt&&(nt.remove(),this._textarea=void 0)}}let wr=(()=>{class L{constructor(d){this._document=d}copy(d){const P=this.beginCopy(d),_t=P.copy();return P.destroy(),_t}beginCopy(d){return new Tr(d,this._document)}}return L.\u0275fac=function(d){return new(d||L)(f.LFG(tt.K0))},L.\u0275prov=f.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();const Kr=new f.OlP("CDK_COPY_TO_CLIPBOARD_CONFIG");let oo=(()=>{class L{constructor(d,P,_t){this._clipboard=d,this._ngZone=P,this.text="",this.attempts=1,this.copied=new f.vpe,this._pending=new Set,_t&&null!=_t.attempts&&(this.attempts=_t.attempts)}copy(d=this.attempts){if(d>1){let P=d;const _t=this._clipboard.beginCopy(this.text);this._pending.add(_t);const Jt=()=>{const Ze=_t.copy();Ze||!--P||this._destroyed?(this._currentTimeout=null,this._pending.delete(_t),_t.destroy(),this.copied.emit(Ze)):this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(Jt,1))};Jt()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(d=>d.destroy()),this._pending.clear(),this._destroyed=!0}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(wr),f.Y36(f.R0b),f.Y36(Kr,8))},L.\u0275dir=f.lG2({type:L,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(d,P){1&d&&f.NdJ("click",function(){return P.copy()})},inputs:{text:["cdkCopyToClipboard","text"],attempts:["cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}}),L})(),zr=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({}),L})();const vs=[{path:"",redirectTo:"moves",pathMatch:"full"},{path:"settings",component:(()=>{class L{constructor(d,P){this.settings=d,this.navService=P,this.settingsForm=new Ni({secretRead:new Jn(""),secretWrite:new Jn(""),specialRights:new Jn("")}),this.url=this.createUrl(),this.navService.headlineObservable.next("Settings")}ngOnInit(){this.settingsForm.patchValue({secretRead:this.settings.secretReadString,secretWrite:this.settings.secretWriteString,specialRights:this.settings.specialRightsString}),this.settingsForm.valueChanges.subscribe(d=>{this.navService.navigate([],{secret:d.secretRead,"secret-write":d.secretWrite,"special-rights":d.specialRights}),this.url=this.createUrl()})}createUrl(){const d=[];return this.settings.secretReadString&&d.push(`secret=${this.settings.secretReadString}`),this.settings.secretWriteString&&d.push(`secret-write=${this.settings.secretWriteString}`),this.settings.specialRightsString&&d.push(`special-rights=${this.settings.specialRightsString}`),d.length>0?`${document.baseURI}?${d.join("&")}`:document.baseURI}onSubmit(){}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(vc.g),f.Y36(al.t))},L.\u0275cmp=f.Xpm({type:L,selectors:[["ng-component"]],decls:26,vars:3,consts:[[3,"formGroup","ngSubmit"],["appearance","fill",1,"full-width-adaptive"],["matInput","","formControlName","secretRead"],["matInput","","formControlName","secretWrite"],["matInput","","formControlName","specialRights"],["readonly","","matInput","",3,"value"],["mat-raised-button","","color","primary",3,"cdkCopyToClipboard"],["_ngcontent-apu-c48","","mat-button","","href","https://github.com/mvolkert/dancing-moves","aria-label","GitHub Repository","tabindex","0","aria-disabled","false",1,"mat-focus-indicator","docs-button","docs-navbar-hide-small","mat-button","mat-button-base"],[1,"mat-button-wrapper"],["_ngcontent-apu-c48","","src","assets/github-circle-white-transparent.svg"],["matripple","",1,"mat-ripple","mat-button-ripple"],[1,"mat-button-focus-overlay"]],template:function(d,P){1&d&&(f.TgZ(0,"form",0),f.NdJ("ngSubmit",function(){return P.onSubmit()}),f.TgZ(1,"mat-form-field",1),f.TgZ(2,"mat-label"),f._uU(3,"Secret for reading"),f.qZA(),f._UZ(4,"input",2),f.qZA(),f.TgZ(5,"mat-form-field",1),f.TgZ(6,"mat-label"),f._uU(7,"Secret for writing"),f.qZA(),f._UZ(8,"input",3),f.qZA(),f.TgZ(9,"mat-form-field",1),f.TgZ(10,"mat-label"),f._uU(11,"Special Rights"),f.qZA(),f._UZ(12,"input",4),f.qZA(),f.TgZ(13,"mat-form-field",1),f.TgZ(14,"mat-label"),f._uU(15,"Resulting Url"),f.qZA(),f._UZ(16,"input",5),f.qZA(),f.TgZ(17,"button",6),f._uU(18,"Copy Url"),f.qZA(),f.qZA(),f._UZ(19,"mat-divider"),f.TgZ(20,"a",7),f.TgZ(21,"span",8),f._UZ(22,"img",9),f._uU(23," GitHub "),f.qZA(),f._UZ(24,"span",10),f._UZ(25,"span",11),f.qZA()),2&d&&(f.Q6J("formGroup",P.settingsForm),f.xp6(16),f.Q6J("value",P.url),f.xp6(1),f.Q6J("cdkCopyToClipboard",P.url))},directives:[Vs,Fi,Va,Me,fh,mh,Y,Se,ia,Ve.lW,oo,jp,Ve.zs],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.full-width-adaptive[_ngcontent-%COMP%]{width:100%;max-width:500px}.half-width[_ngcontent-%COMP%]{width:50%;max-width:250px}"]}),L})()},{path:"dances",component:ld},{path:"moves",component:wg},{path:"move/:name",component:ap},{path:"relations",component:yo}];let Ko=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({imports:[[Ea.Bz.forRoot(vs)],Ea.Bz]}),L})();var Fo=ut(1733);class Qi extends ro.x{constructor(nt=1/0,d=1/0,P=Fo.l){super(),this._bufferSize=nt,this._windowTime=d,this._timestampProvider=P,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=d===1/0,this._bufferSize=Math.max(1,nt),this._windowTime=Math.max(1,d)}next(nt){const{isStopped:d,_buffer:P,_infiniteTimeWindow:_t,_timestampProvider:Jt,_windowTime:Ze}=this;d||(P.push(nt),!_t&&P.push(Jt.now()+Ze)),this._trimBuffer(),super.next(nt)}_subscribe(nt){this._throwIfClosed(),this._trimBuffer();const d=this._innerSubscribe(nt),{_infiniteTimeWindow:P,_buffer:_t}=this,Jt=_t.slice();for(let Ze=0;Ze<Jt.length&&!nt.closed;Ze+=P?1:2)nt.next(Jt[Ze]);return this._checkFinalizedStatuses(nt),d}_trimBuffer(){const{_bufferSize:nt,_timestampProvider:d,_buffer:P,_infiniteTimeWindow:_t}=this,Jt=(_t?1:2)*nt;if(nt<1/0&&Jt<P.length&&P.splice(0,P.length-Jt),!_t){const Ze=d.now();let ji=0;for(let Wi=1;Wi<P.length&&P[Wi]<=Ze;Wi+=2)ji=Wi;ji&&P.splice(0,ji+1)}}}const $n=new f.OlP("CdkAccordion");let Bi=0,er=(()=>{class L{constructor(d,P,_t){this.accordion=d,this._changeDetectorRef=P,this._expansionDispatcher=_t,this._openCloseAllSubscription=To.w0.EMPTY,this.closed=new f.vpe,this.opened=new f.vpe,this.destroyed=new f.vpe,this.expandedChange=new f.vpe,this.id="cdk-accordion-child-"+Bi++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=_t.listen((Jt,Ze)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===Ze&&this.id!==Jt&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(d){d=(0,to.Ig)(d),this._expanded!==d&&(this._expanded=d,this.expandedChange.emit(d),d?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(d){this._disabled=(0,to.Ig)(d)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(d=>{this.disabled||(this.expanded=d)})}}return L.\u0275fac=function(d){return new(d||L)(f.Y36($n,12),f.Y36(f.sBO),f.Y36(Pm))},L.\u0275dir=f.lG2({type:L,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[f._Bn([{provide:$n,useValue:void 0}])]}),L})(),Ur=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({}),L})();const Do=["body"];function ys(L,nt){}const Oo=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],ss=["mat-expansion-panel-header","*","mat-action-row"];function vo(L,nt){if(1&L&&f._UZ(0,"span",2),2&L){const d=f.oxw();f.Q6J("@indicatorRotate",d._getExpandedState())}}const fo=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],$s=["mat-panel-title","mat-panel-description","*"],$a=new f.OlP("MAT_ACCORDION"),Mu="225ms cubic-bezier(0.4,0.0,0.2,1)",Ul={indicatorRotate:(0,qn.X$)("indicatorRotate",[(0,qn.SB)("collapsed, void",(0,qn.oB)({transform:"rotate(0deg)"})),(0,qn.SB)("expanded",(0,qn.oB)({transform:"rotate(180deg)"})),(0,qn.eR)("expanded <=> collapsed, void => collapsed",(0,qn.jt)(Mu))]),bodyExpansion:(0,qn.X$)("bodyExpansion",[(0,qn.SB)("collapsed, void",(0,qn.oB)({height:"0px",visibility:"hidden"})),(0,qn.SB)("expanded",(0,qn.oB)({height:"*",visibility:"visible"})),(0,qn.eR)("expanded <=> collapsed, void => collapsed",(0,qn.jt)(Mu))])};let Xa=(()=>{class L{constructor(d){this._template=d}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(f.Rgc))},L.\u0275dir=f.lG2({type:L,selectors:[["ng-template","matExpansionPanelContent",""]]}),L})(),Ml=0;const ou=new f.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let xc=(()=>{class L extends er{constructor(d,P,_t,Jt,Ze,ji,Wi){super(d,P,_t),this._viewContainerRef=Jt,this._animationMode=ji,this._hideToggle=!1,this.afterExpand=new f.vpe,this.afterCollapse=new f.vpe,this._inputChanges=new ro.x,this._headerId="mat-expansion-panel-header-"+Ml++,this._bodyAnimationDone=new ro.x,this.accordion=d,this._document=Ze,this._bodyAnimationDone.pipe((0,nl.x)((Gi,sn)=>Gi.fromState===sn.fromState&&Gi.toState===sn.toState)).subscribe(Gi=>{"void"!==Gi.fromState&&("expanded"===Gi.toState?this.afterExpand.emit():"collapsed"===Gi.toState&&this.afterCollapse.emit())}),Wi&&(this.hideToggle=Wi.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(d){this._hideToggle=(0,to.Ig)(d)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(d){this._togglePosition=d}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe((0,_s.O)(null),(0,bo.h)(()=>this.expanded&&!this._portal),(0,ps.q)(1)).subscribe(()=>{this._portal=new Co.UE(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(d){this._inputChanges.next(d)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const d=this._document.activeElement,P=this._body.nativeElement;return d===P||P.contains(d)}return!1}}return L.\u0275fac=function(d){return new(d||L)(f.Y36($a,12),f.Y36(f.sBO),f.Y36(Pm),f.Y36(f.s_b),f.Y36(tt.K0),f.Y36(vi.Qb,8),f.Y36(ou,8))},L.\u0275cmp=f.Xpm({type:L,selectors:[["mat-expansion-panel"]],contentQueries:function(d,P,_t){if(1&d&&f.Suo(_t,Xa,5),2&d){let Jt;f.iGM(Jt=f.CRH())&&(P._lazyContent=Jt.first)}},viewQuery:function(d,P){if(1&d&&f.Gf(Do,5),2&d){let _t;f.iGM(_t=f.CRH())&&(P._body=_t.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(d,P){2&d&&f.ekj("mat-expanded",P.expanded)("_mat-animation-noopable","NoopAnimations"===P._animationMode)("mat-expansion-panel-spacing",P._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[f._Bn([{provide:$a,useValue:void 0}]),f.qOj,f.TTD],ngContentSelectors:ss,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(d,P){1&d&&(f.F$t(Oo),f.Hsn(0),f.TgZ(1,"div",0,1),f.NdJ("@bodyExpansion.done",function(Jt){return P._bodyAnimationDone.next(Jt)}),f.TgZ(3,"div",2),f.Hsn(4,1),f.YNc(5,ys,0,0,"ng-template",3),f.qZA(),f.Hsn(6,2),f.qZA()),2&d&&(f.xp6(1),f.Q6J("@bodyExpansion",P._getExpandedState())("id",P.id),f.uIk("aria-labelledby",P._headerId),f.xp6(4),f.Q6J("cdkPortalOutlet",P._portal))},directives:[Co.Pl],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Ul.bodyExpansion]},changeDetection:0}),L})();class Of{}const If=(0,yi.sb)(Of);let eh=(()=>{class L extends If{constructor(d,P,_t,Jt,Ze,ji,Wi){super(),this.panel=d,this._element=P,this._focusMonitor=_t,this._changeDetectorRef=Jt,this._animationMode=ji,this._parentChangeSubscription=To.w0.EMPTY;const Gi=d.accordion?d.accordion._stateChanges.pipe((0,bo.h)(sn=>!(!sn.hideToggle&&!sn.togglePosition))):Di.E;this.tabIndex=parseInt(Wi||"")||0,this._parentChangeSubscription=(0,Hs.T)(d.opened,d.closed,Gi,d._inputChanges.pipe((0,bo.h)(sn=>!!(sn.hideToggle||sn.disabled||sn.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),d.closed.pipe((0,bo.h)(()=>d._containsFocus())).subscribe(()=>_t.focusVia(P,"program")),Ze&&(this.expandedHeight=Ze.expandedHeight,this.collapsedHeight=Ze.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const d=this._isExpanded();return d&&this.expandedHeight?this.expandedHeight:!d&&this.collapsedHeight?this.collapsedHeight:null}_keydown(d){switch(d.keyCode){case Gn.L_:case Gn.K5:(0,Gn.Vb)(d)||(d.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(d))}}focus(d,P){d?this._focusMonitor.focusVia(this._element,d,P):this._element.nativeElement.focus(P)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(d=>{d&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(xc,1),f.Y36(f.SBq),f.Y36(Us.tE),f.Y36(f.sBO),f.Y36(ou,8),f.Y36(vi.Qb,8),f.$8M("tabindex"))},L.\u0275cmp=f.Xpm({type:L,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(d,P){1&d&&f.NdJ("click",function(){return P._toggle()})("keydown",function(Jt){return P._keydown(Jt)}),2&d&&(f.uIk("id",P.panel._headerId)("tabindex",P.tabIndex)("aria-controls",P._getPanelId())("aria-expanded",P._isExpanded())("aria-disabled",P.panel.disabled),f.Udp("height",P._getHeaderHeight()),f.ekj("mat-expanded",P._isExpanded())("mat-expansion-toggle-indicator-after","after"===P._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===P._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===P._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[f.qOj],ngContentSelectors:$s,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(d,P){1&d&&(f.F$t(fo),f.TgZ(0,"span",0),f.Hsn(1),f.Hsn(2,1),f.Hsn(3,2),f.qZA(),f.YNc(4,vo,1,1,"span",1)),2&d&&(f.xp6(4),f.Q6J("ngIf",P._showToggle()))},directives:[tt.O5],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}\n'],encapsulation:2,data:{animation:[Ul.indicatorRotate]},changeDetection:0}),L})(),ih=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275dir=f.lG2({type:L,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),L})(),Hl=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({imports:[[tt.ez,yi.BQ,Ur,Co.eL]]}),L})();var Cu=ut(3630),Rf=ut(2210),$c=ut(1404),Fs=ut(9947),cl=ut(8889),au=ut(6921),up=ut(5724);function hp(L,nt){return nt?d=>(0,$c.z)(nt.pipe((0,ps.q)(1),(0,Fs.e)((L,nt)=>{L.subscribe(new cl.Q(nt,au.Z))})),d.pipe(hp(L))):(0,up.z)((d,P)=>L(d,P).pipe((0,ps.q)(1),rd(d)))}var u0=ut(9417);const Gl=["panel"];function wc(L,nt){if(1&L&&(f.TgZ(0,"div",0,1),f.Hsn(2),f.qZA()),2&L){const d=nt.id,P=f.oxw();f.Q6J("id",P.id)("ngClass",P._classList),f.uIk("aria-label",P.ariaLabel||null)("aria-labelledby",P._getPanelAriaLabelledby(d))}}const fp=["*"];let h0=0;class c0{constructor(nt,d){this.source=nt,this.option=d}}const Xc=(0,yi.Kr)(class{}),lu=new f.OlP("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}});let vd=(()=>{class L extends Xc{constructor(d,P,_t,Jt){super(),this._changeDetectorRef=d,this._elementRef=P,this._activeOptionChanges=To.w0.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new f.vpe,this.opened=new f.vpe,this.closed=new f.vpe,this.optionActivated=new f.vpe,this._classList={},this.id="mat-autocomplete-"+h0++,this.inertGroups=(null==Jt?void 0:Jt.SAFARI)||!1,this._autoActiveFirstOption=!!_t.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(d){this._autoActiveFirstOption=(0,to.Ig)(d)}set classList(d){this._classList=d&&d.length?(0,to.du)(d).reduce((P,_t)=>(P[_t]=!0,P),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new Us.s1(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(d=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[d]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(d){this.panel&&(this.panel.nativeElement.scrollTop=d)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(d){const P=new c0(this,d);this.optionSelected.emit(P)}_getPanelAriaLabelledby(d){return this.ariaLabel?null:this.ariaLabelledby?(d?d+" ":"")+this.ariaLabelledby:d}_setVisibilityClasses(d){d[this._visibleClass]=this.showPanel,d[this._hiddenClass]=!this.showPanel}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(lu),f.Y36(Ds.t4))},L.\u0275dir=f.lG2({type:L,viewQuery:function(d,P){if(1&d&&(f.Gf(f.Rgc,7),f.Gf(Gl,5)),2&d){let _t;f.iGM(_t=f.CRH())&&(P.template=_t.first),f.iGM(_t=f.CRH())&&(P.panel=_t.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[f.qOj]}),L})(),Zc=(()=>{class L extends vd{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return L.\u0275fac=function(){let nt;return function(P){return(nt||(nt=f.n5z(L)))(P||L)}}(),L.\u0275cmp=f.Xpm({type:L,selectors:[["mat-autocomplete"]],contentQueries:function(d,P,_t){if(1&d&&(f.Suo(_t,yi.K7,5),f.Suo(_t,yi.ey,5)),2&d){let Jt;f.iGM(Jt=f.CRH())&&(P.optionGroups=Jt),f.iGM(Jt=f.CRH())&&(P.options=Jt)}},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[f._Bn([{provide:yi.HF,useExisting:L}]),f.qOj],ngContentSelectors:fp,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(d,P){1&d&&(f.F$t(),f.YNc(0,wc,3,4,"ng-template"))},directives:[tt.mk],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}\n"],encapsulation:2,changeDetection:0}),L})();const d0=new f.OlP("mat-autocomplete-scroll-strategy"),ty={provide:d0,deps:[yr.aV],useFactory:function(L){return()=>L.scrollStrategies.reposition()}},Mh={provide:H,useExisting:(0,f.Gpc)(()=>Dg),multi:!0};let Eg=(()=>{class L{constructor(d,P,_t,Jt,Ze,ji,Wi,Gi,sn,Un,fr){this._element=d,this._overlay=P,this._viewContainerRef=_t,this._zone=Jt,this._changeDetectorRef=Ze,this._dir=Wi,this._formField=Gi,this._document=sn,this._viewportRuler=Un,this._defaults=fr,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=To.w0.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new ro.x,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=(0,Ca.P)(()=>this.autocomplete&&this.autocomplete.options?(0,Hs.T)(...this.autocomplete.options.map(Lr=>Lr.onSelectionChange)):this._zone.onStable.pipe((0,ps.q)(1),(0,xu.w)(()=>this.optionSelections))),this._scrollStrategy=ji}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(d){this._autocompleteDisabled=(0,to.Ig)(d)}ngAfterViewInit(){const d=this._getWindow();void 0!==d&&this._zone.runOutsideAngular(()=>d.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(d){d.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const d=this._getWindow();void 0!==d&&d.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,Hs.T)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,bo.h)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,bo.h)(()=>this._overlayAttached)):(0,ws.of)()).pipe((0,G.U)(d=>d instanceof yi.rN?d:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,Hs.T)((0,hs.R)(this._document,"click"),(0,hs.R)(this._document,"auxclick"),(0,hs.R)(this._document,"touchend")).pipe((0,bo.h)(d=>{const P=(0,Ds.sA)(d),_t=this._formField?this._formField._elementRef.nativeElement:null,Jt=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&P!==this._element.nativeElement&&(!_t||!_t.contains(P))&&(!Jt||!Jt.contains(P))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(P)}))}writeValue(d){Promise.resolve(null).then(()=>this._setTriggerValue(d))}registerOnChange(d){this._onChange=d}registerOnTouched(d){this._onTouched=d}setDisabledState(d){this._element.nativeElement.disabled=d}_handleKeydown(d){const P=d.keyCode;if(P===Gn.hY&&!(0,Gn.Vb)(d)&&d.preventDefault(),this.activeOption&&P===Gn.K5&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),d.preventDefault();else if(this.autocomplete){const _t=this.autocomplete._keyManager.activeItem,Jt=P===Gn.LH||P===Gn.JH;this.panelOpen||P===Gn.Mf?this.autocomplete._keyManager.onKeydown(d):Jt&&this._canOpen()&&this.openPanel(),(Jt||this.autocomplete._keyManager.activeItem!==_t)&&this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0)}}_handleInput(d){let P=d.target,_t=P.value;"number"===P.type&&(_t=""==_t?null:parseFloat(_t)),this._previousValue!==_t&&(this._previousValue=_t,this._onChange(_t),this._canOpen()&&this._document.activeElement===d.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_floatLabel(d=!1){this._formField&&"auto"===this._formField.floatLabel&&(d?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const d=this._zone.onStable.pipe((0,ps.q)(1)),P=this.autocomplete.options.changes.pipe((0,Np.b)(()=>this._positionStrategy.reapplyLastPosition()),function(L,nt=Rf.z){const d=(0,u0.H)(0,nt);return hp(()=>d)}());return(0,Hs.T)(d,P).pipe((0,xu.w)(()=>{const _t=this.panelOpen;return this._resetActiveItem(),this.autocomplete._setVisibility(),this.panelOpen&&(this._overlayRef.updatePosition(),_t!==this.panelOpen&&this.autocomplete.opened.emit()),this.panelClosingActions}),(0,ps.q)(1)).subscribe(_t=>this._setValueAndClose(_t))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(d){const P=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(d):d,_t=null!=P?P:"";this._formField?this._formField._control.value=_t:this._element.nativeElement.value=_t,this._previousValue=_t}_setValueAndClose(d){d&&d.source&&(this._clearPreviousSelectedOption(d.source),this._setTriggerValue(d.source.value),this._onChange(d.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(d.source)),this.closePanel()}_clearPreviousSelectedOption(d){this.autocomplete.options.forEach(P=>{P!==d&&P.selected&&P.deselect()})}_attachOverlay(){var _t;let d=this._overlayRef;d?(this._positionStrategy.setOrigin(this._getConnectedElement()),d.updateSize({width:this._getPanelWidth()})):(this._portal=new Co.UE(this.autocomplete.template,this._viewContainerRef,{id:null==(_t=this._formField)?void 0:_t.getLabelId()}),d=this._overlay.create(this._getOverlayConfig()),this._overlayRef=d,d.keydownEvents().subscribe(Jt=>{(Jt.keyCode===Gn.hY&&!(0,Gn.Vb)(Jt)||Jt.keyCode===Gn.LH&&(0,Gn.Vb)(Jt,"altKey"))&&(this._closeKeyEventStream.next(),this._resetActiveItem(),Jt.stopPropagation(),Jt.preventDefault())}),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&d&&d.updateSize({width:this._getPanelWidth()})})),d&&!d.hasAttached()&&(d.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const P=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&P!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){var d;return new yr.X_({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:null==(d=this._defaults)?void 0:d.overlayPanelClass})}_getOverlayPosition(){const d=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(d),this._positionStrategy=d,d}_setStrategyPositions(d){const P=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],_t=this._aboveClass,Jt=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:_t},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:_t}];let Ze;Ze="above"===this.position?Jt:"below"===this.position?P:[...P,...Jt],d.withPositions(Ze)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const d=this.autocomplete;d.autoActiveFirstOption?d._keyManager.setFirstItemActive():d._keyManager.setActiveItem(-1)}_canOpen(){const d=this._element.nativeElement;return!d.readOnly&&!d.disabled&&!this._autocompleteDisabled}_getWindow(){var d;return(null==(d=this._document)?void 0:d.defaultView)||window}_scrollToOption(d){const P=this.autocomplete,_t=(0,yi.CB)(d,P.options,P.optionGroups);if(0===d&&1===_t)P._setScrollTop(0);else if(P.panel){const Jt=P.options.toArray()[d];if(Jt){const Ze=Jt._getHostElement(),ji=(0,yi.jH)(Ze.offsetTop,Ze.offsetHeight,P._getScrollTop(),P.panel.nativeElement.offsetHeight);P._setScrollTop(ji)}}}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(f.SBq),f.Y36(yr.aV),f.Y36(f.s_b),f.Y36(f.R0b),f.Y36(f.sBO),f.Y36(d0),f.Y36(Es.Is,8),f.Y36(ye,9),f.Y36(tt.K0,8),f.Y36(Or.rL),f.Y36(lu,8))},L.\u0275dir=f.lG2({type:L,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[f.TTD]}),L})(),Dg=(()=>{class L extends Eg{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return L.\u0275fac=function(){let nt;return function(P){return(nt||(nt=f.n5z(L)))(P||L)}}(),L.\u0275dir=f.lG2({type:L,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(d,P){1&d&&f.NdJ("focusin",function(){return P._handleFocus()})("blur",function(){return P._onTouched()})("input",function(Jt){return P._handleInput(Jt)})("keydown",function(Jt){return P._handleKeydown(Jt)}),2&d&&f.uIk("autocomplete",P.autocompleteAttribute)("role",P.autocompleteDisabled?null:"combobox")("aria-autocomplete",P.autocompleteDisabled?null:"list")("aria-activedescendant",P.panelOpen&&P.activeOption?P.activeOption.id:null)("aria-expanded",P.autocompleteDisabled?null:P.panelOpen.toString())("aria-owns",P.autocompleteDisabled||!P.panelOpen||null==P.autocomplete?null:P.autocomplete.id)("aria-haspopup",!P.autocompleteDisabled)},exportAs:["matAutocompleteTrigger"],features:[f._Bn([Mh]),f.qOj]}),L})(),p0=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({providers:[ty],imports:[[yr.U8,yi.Ng,yi.BQ,tt.ez],Or.ZD,yi.Ng,yi.BQ]}),L})();function qc(L,nt){if(1&L&&(f.TgZ(0,"mat-option",11),f._uU(1),f.qZA()),2&L){const d=nt.$implicit;f.Q6J("value",d),f.xp6(1),f.Oqu(d)}}function dp(L,nt){if(1&L&&(f.TgZ(0,"mat-option",11),f._uU(1),f.qZA()),2&L){const d=nt.$implicit;f.Q6J("value",d),f.xp6(1),f.hij(" ",d," ")}}function sm(L,nt){if(1&L&&(f.TgZ(0,"mat-optgroup",12),f.YNc(1,dp,2,2,"mat-option",3),f.qZA()),2&L){const d=nt.$implicit;f.Q6J("label",d.dance),f.xp6(1),f.Q6J("ngForOf",d.names)}}function pp(L,nt){if(1&L&&(f.TgZ(0,"mat-option",11),f._uU(1),f.qZA()),2&L){const d=nt.$implicit;f.Q6J("value",d),f.xp6(1),f.Oqu(d)}}function cv(L,nt){if(1&L&&(f.TgZ(0,"mat-option",11),f._uU(1),f.qZA()),2&L){const d=nt.$implicit;f.Q6J("value",d),f.xp6(1),f.Oqu(d)}}function m0(L,nt){if(1&L&&(f.TgZ(0,"mat-option",11),f._uU(1),f.qZA()),2&L){const d=nt.$implicit;f.Q6J("value",d),f.xp6(1),f.Oqu(d)}}function Qy(L,nt){1&L&&(f.TgZ(0,"mat-form-field",1),f.TgZ(1,"mat-label"),f._uU(2,"ToDo"),f.qZA(),f._UZ(3,"input",13),f.qZA())}function ey(L,nt){1&L&&(f.TgZ(0,"mat-form-field",1),f.TgZ(1,"mat-label"),f._uU(2,"Video"),f.qZA(),f._UZ(3,"input",14),f.qZA())}function iy(L,nt){1&L&&(f.TgZ(0,"mat-form-field",1),f.TgZ(1,"mat-label"),f._uU(2,"Script"),f.qZA(),f._UZ(3,"input",15),f.qZA())}let Vm=(()=>{class L{constructor(d,P,_t){this.dataManagerService=d,this.navService=P,this.settingsService=_t,this.dances=new Set,this.courseNames=new Set,this.types=new Set,this.movesGroup=[],this.loading=!0,this.isAdmin=!1,this.moveSearch=new Jn(""),this.searchForm=new Ni({dance:new Jn(""),move:new Jn(""),course:new Jn(""),notcourse:new Jn(""),type:new Jn(""),todo:new Jn(""),video:new Jn(""),script:new Jn("")})}ngOnInit(){var d=this;return(0,sl.Z)(function*(){yield d.dataManagerService.loading(),d.dataManagerService.movesObservable.subscribe(P=>{d.dances=d.dataManagerService.getDanceNames(),d.courseNames=d.dataManagerService.getCourseNames(),d.types=d.dataManagerService.getTypes(),(null==P?void 0:P.length)>0&&(d.loading=!1)}),d.dataManagerService.getGroupedMoveNames().subscribe(P=>{d.movesGroup=P,d.movesGroupOptions=d.dataManagerService.searchFilterObservable.pipe((0,G.U)(_t=>d.filterGroup(_t)))}),d.dataManagerService.searchFilterObservable.subscribe(P=>{JSON.stringify(P)!==JSON.stringify(d.searchForm.value)&&d.searchForm.patchValue(P),d.navService.navigate([],P)}),d.searchForm.valueChanges.subscribe(P=>{d.navService.openWebsiteIfEasterEggFound(P.move),d.dataManagerService.searchFilterObservable.next(P)}),d.isAdmin=d.settingsService.hasSpecialRight(Cu.G.admin)})()}filterGroup(d){return d.move||d.dance?this.movesGroup.filter(P=>!this.dances.has(d.dance)||P.dance==d.dance).map(P=>({dance:P.dance,names:P.names.filter(_t=>{var Jt,Ze;return null===(Jt=null==_t?void 0:_t.toLowerCase())||void 0===Jt?void 0:Jt.includes(null===(Ze=d.move)||void 0===Ze?void 0:Ze.toLowerCase())})})).filter(P=>P.names.length>0):this.movesGroup}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(Os.L),f.Y36(al.t),f.Y36(vc.g))},L.\u0275cmp=f.Xpm({type:L,selectors:[["app-dance-move-selection"]],decls:40,vars:12,consts:[[3,"formGroup"],["appearance","fill",1,"full-width"],["formControlName","dance"],[3,"value",4,"ngFor","ngForOf"],["type","text","matInput","","formControlName","move",3,"matAutocomplete"],["autoGroup","matAutocomplete"],[3,"label",4,"ngFor","ngForOf"],["formControlName","course"],["formControlName","notcourse"],["formControlName","type"],["appearance","fill","class","full-width",4,"ngIf"],[3,"value"],[3,"label"],["type","text","matInput","","formControlName","todo"],["type","text","matInput","","formControlName","video"],["type","text","matInput","","formControlName","script"]],template:function(d,P){if(1&d&&(f.TgZ(0,"form",0),f.TgZ(1,"mat-form-field",1),f.TgZ(2,"mat-label"),f._uU(3,"Dance"),f.qZA(),f.TgZ(4,"mat-select",2),f.TgZ(5,"mat-option"),f._uU(6,"None"),f.qZA(),f.YNc(7,qc,2,2,"mat-option",3),f.qZA(),f.qZA(),f.TgZ(8,"mat-form-field",1),f.TgZ(9,"mat-label"),f._uU(10,"Name"),f.qZA(),f._UZ(11,"input",4),f.TgZ(12,"mat-autocomplete",null,5),f.YNc(14,sm,2,2,"mat-optgroup",6),f.ALo(15,"async"),f.qZA(),f.qZA(),f.TgZ(16,"mat-form-field",1),f.TgZ(17,"mat-label"),f._uU(18,"Course"),f.qZA(),f.TgZ(19,"mat-select",7),f.TgZ(20,"mat-option"),f._uU(21,"None"),f.qZA(),f.YNc(22,pp,2,2,"mat-option",3),f.qZA(),f.qZA(),f.TgZ(23,"mat-form-field",1),f.TgZ(24,"mat-label"),f._uU(25,"Course not included"),f.qZA(),f.TgZ(26,"mat-select",8),f.TgZ(27,"mat-option"),f._uU(28,"None"),f.qZA(),f.YNc(29,cv,2,2,"mat-option",3),f.qZA(),f.qZA(),f.TgZ(30,"mat-form-field",1),f.TgZ(31,"mat-label"),f._uU(32,"Type"),f.qZA(),f.TgZ(33,"mat-select",9),f.TgZ(34,"mat-option"),f._uU(35,"None"),f.qZA(),f.YNc(36,m0,2,2,"mat-option",3),f.qZA(),f.qZA(),f.YNc(37,Qy,4,0,"mat-form-field",10),f.YNc(38,ey,4,0,"mat-form-field",10),f.YNc(39,iy,4,0,"mat-form-field",10),f.qZA()),2&d){const _t=f.MAs(13);f.Q6J("formGroup",P.searchForm),f.xp6(7),f.Q6J("ngForOf",P.dances),f.xp6(4),f.Q6J("matAutocomplete",_t),f.xp6(3),f.Q6J("ngForOf",f.lcZ(15,10,P.movesGroupOptions)),f.xp6(8),f.Q6J("ngForOf",P.courseNames),f.xp6(7),f.Q6J("ngForOf",P.courseNames),f.xp6(7),f.Q6J("ngForOf",P.types),f.xp6(1),f.Q6J("ngIf",P.isAdmin),f.xp6(1),f.Q6J("ngIf",P.isAdmin),f.xp6(1),f.Q6J("ngIf",P.isAdmin)}},directives:[Vs,Fi,Va,Me,fh,Zu,Se,ia,yi.ey,tt.sg,mh,Y,Dg,Zc,tt.O5,yi.Nv],pipes:[tt.Ov],styles:[".full-width[_ngcontent-%COMP%]{width:100%}"]}),L})();var Rr=ut(9211);function As(L,nt){if(1&L&&(f.TgZ(0,"mat-option",5),f._uU(1),f.qZA()),2&L){const d=nt.$implicit;f.Q6J("value",d),f.xp6(1),f.hij(" ",d," ")}}function g0(L,nt){if(1&L&&(f.TgZ(0,"mat-option",5),f._uU(1),f.qZA()),2&L){const d=nt.$implicit;f.Q6J("value",d),f.xp6(1),f.hij(" ",d," ")}}let _c=(()=>{class L{constructor(d,P){this.dataManagerService=d,this.navService=P,this.relationTypes=[Rr.u.start,Rr.u.end,Rr.u.related,Rr.u.otherDance],this.displayTypes=[Da.u.cytoscape,Da.u.highchartsNetworkgraph,Da.u.gojsConceptMap],this.relationsForm=new Ni({relationTypes:new Jn([]),displayType:new Jn("")})}ngOnInit(){var d=this;return(0,sl.Z)(function*(){yield d.dataManagerService.loading(),d.dataManagerService.relationsSelectionObservable.subscribe(P=>{d.relationsForm.patchValue(P)}),d.relationsForm.valueChanges.subscribe(P=>d.navService.navigate([],P))})()}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(Os.L),f.Y36(al.t))},L.\u0275cmp=f.Xpm({type:L,selectors:[["app-relations-selection"]],decls:11,vars:3,consts:[[3,"formGroup"],["appearance","fill",1,"full-width"],["formControlName","relationTypes","multiple",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","displayType"],[3,"value"]],template:function(d,P){1&d&&(f.TgZ(0,"form",0),f.TgZ(1,"mat-form-field",1),f.TgZ(2,"mat-label"),f._uU(3,"Relation Types"),f.qZA(),f.TgZ(4,"mat-select",2),f.YNc(5,As,2,2,"mat-option",3),f.qZA(),f.qZA(),f.TgZ(6,"mat-form-field",1),f.TgZ(7,"mat-label"),f._uU(8,"Display Type"),f.qZA(),f.TgZ(9,"mat-select",4),f.YNc(10,g0,2,2,"mat-option",3),f.qZA(),f.qZA(),f.qZA()),2&d&&(f.Q6J("formGroup",P.relationsForm),f.xp6(5),f.Q6J("ngForOf",P.relationTypes),f.xp6(5),f.Q6J("ngForOf",P.displayTypes))},directives:[Vs,Fi,Va,Me,fh,Zu,Se,ia,tt.sg,yi.ey],styles:[".full-width[_ngcontent-%COMP%]{width:100%}"]}),L})();function Ag(L,nt){if(1&L){const d=f.EpF();f.TgZ(0,"button",11),f.NdJ("click",function(){return f.CHM(d),f.oxw(),f.MAs(2).toggle()}),f.TgZ(1,"mat-icon",12),f._uU(2,"menu"),f.qZA(),f.qZA()}}function am(L,nt){if(1&L){const d=f.EpF();f.TgZ(0,"button",13),f.NdJ("click",function(){return f.CHM(d),f.oxw().normalize()}),f.TgZ(1,"mat-icon"),f._uU(2,"list"),f.qZA(),f.qZA()}}function jm(L,nt){if(1&L){const d=f.EpF();f.TgZ(0,"button",14),f.TgZ(1,"mat-icon",15),f.NdJ("click",function(){return f.CHM(d),f.oxw().navigate("move/new")}),f._uU(2,"add_circle_outline"),f.qZA(),f.qZA()}}let ny=(()=>{class L{constructor(d,P,_t,Jt){this.breakpointObserver=d,this.dataManager=P,this.settingsService=_t,this.navService=Jt,this.devMode=!1,this.readonly=!0,this.headline="Dancing Moves",this.isHandset$=this.breakpointObserver.observe(J.u3.Handset).pipe((0,G.U)(Ze=>Ze.matches),function(L,nt,d){let Jt,Ze=!1;return Jt=1/0,(0,Vh.B)({connector:()=>new Qi(Jt,nt,d),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ze})}())}ngOnInit(){var d=this;return(0,sl.Z)(function*(){d.navService.headlineObservable.subscribe(P=>d.headline=P),yield d.settingsService.loading(),d.settingsService.userMode.subscribe(P=>d.readonly=P===Q0.$.read)})()}normalize(){this.dataManager.normalize()}navigate(d){return this.navService.navigate([d])}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(J.Yg),f.Y36(Os.L),f.Y36(vc.g),f.Y36(al.t))},L.\u0275cmp=f.Xpm({type:L,selectors:[["app-nav"]],decls:39,vars:18,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],[3,"expanded"],["mat-list-item","",3,"click"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],[1,"headline"],[1,"spacer"],["mat-mini-fab","","color","primary","aria-label","normalize",3,"click",4,"ngIf"],["mat-mini-fab","","color","primary","aria-label","create new move",4,"ngIf"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"],["mat-mini-fab","","color","primary","aria-label","normalize",3,"click"],["mat-mini-fab","","color","primary","aria-label","create new move"],[3,"click"]],template:function(d,P){1&d&&(f.TgZ(0,"mat-sidenav-container",0),f.TgZ(1,"mat-sidenav",1,2),f.ALo(3,"async"),f.ALo(4,"async"),f.ALo(5,"async"),f.TgZ(6,"mat-nav-list"),f.TgZ(7,"mat-expansion-panel",3),f.TgZ(8,"mat-expansion-panel-header"),f.TgZ(9,"mat-panel-title"),f._uU(10," Pages "),f.qZA(),f.qZA(),f.TgZ(11,"a",4),f.NdJ("click",function(){return P.navigate("dances")}),f._uU(12,"Dances"),f.qZA(),f.TgZ(13,"a",4),f.NdJ("click",function(){return P.navigate("moves")}),f._uU(14,"Dancing Moves"),f.qZA(),f.TgZ(15,"a",4),f.NdJ("click",function(){return P.navigate("relations")}),f._uU(16,"Relations"),f.qZA(),f.TgZ(17,"a",4),f.NdJ("click",function(){return P.navigate("settings")}),f._uU(18,"Settings"),f.qZA(),f.qZA(),f.TgZ(19,"mat-expansion-panel",3),f.TgZ(20,"mat-expansion-panel-header"),f.TgZ(21,"mat-panel-title"),f._uU(22," Dance Move Selection "),f.qZA(),f.qZA(),f._UZ(23,"app-dance-move-selection"),f.qZA(),f.TgZ(24,"mat-expansion-panel",3),f.TgZ(25,"mat-expansion-panel-header"),f.TgZ(26,"mat-panel-title"),f._uU(27," Relations Selection "),f.qZA(),f.qZA(),f._UZ(28,"app-relations-selection"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(29,"mat-sidenav-content"),f.TgZ(30,"mat-toolbar",5),f.YNc(31,Ag,3,0,"button",6),f.ALo(32,"async"),f.TgZ(33,"span",7),f._uU(34),f.qZA(),f._UZ(35,"span",8),f.YNc(36,am,3,0,"button",9),f.YNc(37,jm,3,0,"button",10),f.qZA(),f._UZ(38,"router-outlet"),f.qZA(),f.qZA()),2&d&&(f.xp6(1),f.Q6J("mode",f.lcZ(4,12,P.isHandset$)?"over":"side")("opened",!1===f.lcZ(5,14,P.isHandset$)),f.uIk("role",f.lcZ(3,10,P.isHandset$)?"dialog":"navigation"),f.xp6(6),f.Q6J("expanded",!0),f.xp6(12),f.Q6J("expanded",!0),f.xp6(5),f.Q6J("expanded",!0),f.xp6(7),f.Q6J("ngIf",f.lcZ(32,16,P.isHandset$)),f.xp6(3),f.Oqu(P.headline),f.xp6(2),f.Q6J("ngIf",!1),f.xp6(1),f.Q6J("ngIf",!P.readonly))},directives:[ip,Bc,Mf,xc,eh,ih,wl,Vm,_c,qp,bl,tt.O5,Ea.lC,Ve.lW,lc],pipes:[tt.Ov],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:300px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.headline[_ngcontent-%COMP%]{max-width:50%}"]}),L})(),fv=(()=>{class L{constructor(d,P){this.settingsService=d,this.dataManagerService=P,this.title="dancing-moves"}ngOnInit(){this.settingsService.fetchSettings(),this.dataManagerService.start()}}return L.\u0275fac=function(d){return new(d||L)(f.Y36(vc.g),f.Y36(Os.L))},L.\u0275cmp=f.Xpm({type:L,selectors:[["app-root"]],decls:1,vars:0,template:function(d,P){1&d&&f._UZ(0,"app-nav")},directives:[ny],styles:[""]}),L})();var dv=ut(9966);let v0=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275mod=f.oAB({type:L,bootstrap:[fv]}),L.\u0275inj=f.cJS({providers:[jc,{provide:yi.Ad,useValue:"de-DE"}],imports:[[ct.b2,vi.PW,J.xu,Ra,Ve.ot,X0,Tm,Lc,Ss,Xe,Ef,gh,Dm,Ko,lr,yi.XK,eo,p0,yf.JF,zr,Gc,dv.ZX,Hl,kn,ul.forRoot()]]}),L})();(0,f.G48)(),ct.q6().bootstrapModule(v0).catch(L=>console.error(L))},9162:(Ee,Q,ut)=>{"use strict";function rt(A,o,c,g){return new(c||(c=Promise))(function(w,S){function T(k){try{h(g.next(k))}catch(ft){S(ft)}}function C(k){try{h(g.throw(k))}catch(ft){S(ft)}}function h(k){k.done?w(k.value):function(w){return w instanceof c?w:new c(function(S){S(w)})}(k.value).then(T,C)}h((g=g.apply(A,o||[])).next())})}function q(A){return this instanceof q?(this.v=A,this):new q(A)}function U(A,o,c){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var p,g=c.apply(A,o||[]),w=[];return p={},S("next"),S("throw"),S("return"),p[Symbol.asyncIterator]=function(){return this},p;function S(at){g[at]&&(p[at]=function(st){return new Promise(function(Mt,St){w.push([at,st,Mt,St])>1||T(at,st)})})}function T(at,st){try{!function(at){at.value instanceof q?Promise.resolve(at.value.v).then(h,k):ft(w[0][2],at)}(g[at](st))}catch(Mt){ft(w[0][3],Mt)}}function h(at){T("next",at)}function k(at){T("throw",at)}function ft(at,st){at(st),w.shift(),w.length&&T(w[0][0],w[0][1])}}function ot(A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,o=A[Symbol.asyncIterator];return o?o.call(A):(A=function(A){var o="function"==typeof Symbol&&Symbol.iterator,c=o&&A[o],g=0;if(c)return c.call(A);if(A&&"number"==typeof A.length)return{next:function(){return A&&g>=A.length&&(A=void 0),{value:A&&A[g++],done:!A}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}(A),c={},g("next"),g("throw"),g("return"),c[Symbol.asyncIterator]=function(){return this},c);function g(w){c[w]=A[w]&&function(S){return new Promise(function(T,C){!function(w,S,T,C){Promise.resolve(C).then(function(h){w({value:h,done:T})},S)}(T,C,(S=A[w](S)).done,S.value)})}}}ut.d(Q,{mG:()=>rt,qq:()=>q,FC:()=>U,KL:()=>ot})},950:()=>{},6601:()=>{},8623:()=>{},7748:()=>{},5568:()=>{},6619:()=>{},7108:()=>{},2361:()=>{},4616:()=>{},9814:(Ee,Q,ut)=>{"use strict";ut.d(Q,{l3:()=>J,_j:()=>ct,LC:()=>f,ZN:()=>U,jt:()=>b,pV:()=>B,F4:()=>H,IO:()=>z,vP:()=>G,SB:()=>Z,oB:()=>rt,eR:()=>F,X$:()=>tt,ZE:()=>it,k1:()=>ot});class ct{}class f{}const J="*";function tt(lt,wt){return{type:7,name:lt,definitions:wt,options:{}}}function b(lt,wt=null){return{type:4,styles:wt,timings:lt}}function G(lt,wt=null){return{type:2,steps:lt,options:wt}}function rt(lt){return{type:6,styles:lt,offset:null}}function Z(lt,wt,xt){return{type:0,name:lt,styles:wt,options:xt}}function H(lt){return{type:5,steps:lt}}function F(lt,wt,xt=null){return{type:1,expr:lt,animation:wt,options:xt}}function B(lt=null){return{type:9,options:lt}}function z(lt,wt,xt=null){return{type:11,selector:lt,animation:wt,options:xt}}function q(lt){Promise.resolve(null).then(lt)}class U{constructor(wt=0,xt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=wt+xt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(wt=>wt()),this._onDoneFns=[])}onStart(wt){this._onStartFns.push(wt)}onDone(wt){this._onDoneFns.push(wt)}onDestroy(wt){this._onDestroyFns.push(wt)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){q(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(wt=>wt()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(wt=>wt()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(wt){this._position=this.totalTime?wt*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(wt){const xt="start"==wt?this._onStartFns:this._onDoneFns;xt.forEach(Ot=>Ot()),xt.length=0}}class it{constructor(wt){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=wt;let xt=0,Ot=0,Tt=0;const Et=this.players.length;0==Et?q(()=>this._onFinish()):this.players.forEach(A=>{A.onDone(()=>{++xt==Et&&this._onFinish()}),A.onDestroy(()=>{++Ot==Et&&this._onDestroy()}),A.onStart(()=>{++Tt==Et&&this._onStart()})}),this.totalTime=this.players.reduce((A,o)=>Math.max(A,o.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(wt=>wt()),this._onDoneFns=[])}init(){this.players.forEach(wt=>wt.init())}onStart(wt){this._onStartFns.push(wt)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(wt=>wt()),this._onStartFns=[])}onDone(wt){this._onDoneFns.push(wt)}onDestroy(wt){this._onDestroyFns.push(wt)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(wt=>wt.play())}pause(){this.players.forEach(wt=>wt.pause())}restart(){this.players.forEach(wt=>wt.restart())}finish(){this._onFinish(),this.players.forEach(wt=>wt.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(wt=>wt.destroy()),this._onDestroyFns.forEach(wt=>wt()),this._onDestroyFns=[])}reset(){this.players.forEach(wt=>wt.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(wt){const xt=wt*this.totalTime;this.players.forEach(Ot=>{const Tt=Ot.totalTime?Math.min(1,xt/Ot.totalTime):1;Ot.setPosition(Tt)})}getPosition(){const wt=this.players.reduce((xt,Ot)=>null===xt||Ot.totalTime>xt.totalTime?Ot:xt,null);return null!=wt?wt.getPosition():0}beforeDestroy(){this.players.forEach(wt=>{wt.beforeDestroy&&wt.beforeDestroy()})}triggerCallback(wt){const xt="start"==wt?this._onStartFns:this._onDoneFns;xt.forEach(Ot=>Ot()),xt.length=0}}const ot="!"},7497:(Ee,Q,ut)=>{"use strict";ut.d(Q,{rt:()=>Vn,s1:()=>S,Qr:()=>Pi,kH:()=>wi,mK:()=>fe,Em:()=>T,tE:()=>bn,qV:()=>Kt,qm:()=>oi,ic:()=>h,Kd:()=>ke,X6:()=>Ge,yG:()=>_e});var ct=ut(6019),f=ut(3668),J=ut(273),tt=ut(7908),b=ut(4499),W=ut(2997),G=ut(1628),rt=ut(7384),Z=ut(9463),H=ut(461),F=ut(4753),et=ut(9468),B=ut(9661),X=ut(5488),z=ut(6263),Y=ut(348),q=ut(928),U=ut(3242);class w{constructor(De){this._items=De,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new J.x,this._typeaheadSubscription=tt.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=qe=>qe.disabled,this._pressedLetters=[],this.tabOut=new J.x,this.change=new J.x,De instanceof f.n_E&&De.changes.subscribe(qe=>{if(this._activeItem){const ne=qe.toArray().indexOf(this._activeItem);ne>-1&&ne!==this._activeItemIndex&&(this._activeItemIndex=ne)}})}skipPredicate(De){return this._skipPredicateFn=De,this}withWrap(De=!0){return this._wrap=De,this}withVerticalOrientation(De=!0){return this._vertical=De,this}withHorizontalOrientation(De){return this._horizontal=De,this}withAllowedModifierKeys(De){return this._allowedModifierKeys=De,this}withTypeAhead(De=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,rt.b)(qe=>this._pressedLetters.push(qe)),(0,Z.b)(De),(0,H.h)(()=>this._pressedLetters.length>0),(0,F.U)(()=>this._pressedLetters.join(""))).subscribe(qe=>{const ni=this._getItemsArray();for(let ne=1;ne<ni.length+1;ne++){const Qt=(this._activeItemIndex+ne)%ni.length,Zt=ni[Qt];if(!this._skipPredicateFn(Zt)&&0===Zt.getLabel().toUpperCase().trim().indexOf(qe)){this.setActiveItem(Qt);break}}this._pressedLetters=[]}),this}withHomeAndEnd(De=!0){return this._homeAndEnd=De,this}setActiveItem(De){const qe=this._activeItem;this.updateActiveItem(De),this._activeItem!==qe&&this.change.next(this._activeItemIndex)}onKeydown(De){const qe=De.keyCode,ne=["altKey","ctrlKey","metaKey","shiftKey"].every(Qt=>!De[Qt]||this._allowedModifierKeys.indexOf(Qt)>-1);switch(qe){case G.Mf:return void this.tabOut.next();case G.JH:if(this._vertical&&ne){this.setNextItemActive();break}return;case G.LH:if(this._vertical&&ne){this.setPreviousItemActive();break}return;case G.SV:if(this._horizontal&&ne){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case G.oh:if(this._horizontal&&ne){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case G.Sd:if(this._homeAndEnd&&ne){this.setFirstItemActive();break}return;case G.uR:if(this._homeAndEnd&&ne){this.setLastItemActive();break}return;default:return void((ne||(0,G.Vb)(De,"shiftKey"))&&(De.key&&1===De.key.length?this._letterKeyStream.next(De.key.toLocaleUpperCase()):(qe>=G.A&&qe<=G.Z||qe>=G.xE&&qe<=G.aO)&&this._letterKeyStream.next(String.fromCharCode(qe))))}this._pressedLetters=[],De.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(De){const qe=this._getItemsArray(),ni="number"==typeof De?De:qe.indexOf(De),ne=qe[ni];this._activeItem=null==ne?null:ne,this._activeItemIndex=ni}_setActiveItemByDelta(De){this._wrap?this._setActiveInWrapMode(De):this._setActiveInDefaultMode(De)}_setActiveInWrapMode(De){const qe=this._getItemsArray();for(let ni=1;ni<=qe.length;ni++){const ne=(this._activeItemIndex+De*ni+qe.length)%qe.length;if(!this._skipPredicateFn(qe[ne]))return void this.setActiveItem(ne)}}_setActiveInDefaultMode(De){this._setActiveItemByIndex(this._activeItemIndex+De,De)}_setActiveItemByIndex(De,qe){const ni=this._getItemsArray();if(ni[De]){for(;this._skipPredicateFn(ni[De]);)if(!ni[De+=qe])return;this.setActiveItem(De)}}_getItemsArray(){return this._items instanceof f.n_E?this._items.toArray():this._items}}class S extends w{setActiveItem(De){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(De),this.activeItem&&this.activeItem.setActiveStyles()}}class T extends w{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(De){return this._origin=De,this}setActiveItem(De){super.setActiveItem(De),this.activeItem&&this.activeItem.focus(this._origin)}}let h=(()=>{class ei{constructor(qe){this._platform=qe}isDisabled(qe){return qe.hasAttribute("disabled")}isVisible(qe){return function(ei){return!!(ei.offsetWidth||ei.offsetHeight||"function"==typeof ei.getClientRects&&ei.getClientRects().length)}(qe)&&"visible"===getComputedStyle(qe).visibility}isTabbable(qe){if(!this._platform.isBrowser)return!1;const ni=function(ei){try{return ei.frameElement}catch(De){return null}}(function(ei){return ei.ownerDocument&&ei.ownerDocument.defaultView||window}(qe));if(ni&&(-1===Vt(ni)||!this.isVisible(ni)))return!1;let ne=qe.nodeName.toLowerCase(),Qt=Vt(qe);return qe.hasAttribute("contenteditable")?-1!==Qt:!("iframe"===ne||"object"===ne||this._platform.WEBKIT&&this._platform.IOS&&!function(ei){let De=ei.nodeName.toLowerCase(),qe="input"===De&&ei.type;return"text"===qe||"password"===qe||"select"===De||"textarea"===De}(qe))&&("audio"===ne?!!qe.hasAttribute("controls")&&-1!==Qt:"video"===ne?-1!==Qt&&(null!==Qt||this._platform.FIREFOX||qe.hasAttribute("controls")):qe.tabIndex>=0)}isFocusable(qe,ni){return function(ei){return!function(ei){return function(ei){return"input"==ei.nodeName.toLowerCase()}(ei)&&"hidden"==ei.type}(ei)&&(function(ei){let De=ei.nodeName.toLowerCase();return"input"===De||"select"===De||"button"===De||"textarea"===De}(ei)||function(ei){return function(ei){return"a"==ei.nodeName.toLowerCase()}(ei)&&ei.hasAttribute("href")}(ei)||ei.hasAttribute("contenteditable")||te(ei))}(qe)&&!this.isDisabled(qe)&&((null==ni?void 0:ni.ignoreVisibility)||this.isVisible(qe))}}return ei.\u0275fac=function(qe){return new(qe||ei)(f.LFG(q.t4))},ei.\u0275prov=f.Yz7({token:ei,factory:ei.\u0275fac,providedIn:"root"}),ei})();function te(ei){if(!ei.hasAttribute("tabindex")||void 0===ei.tabIndex)return!1;let De=ei.getAttribute("tabindex");return!(!De||isNaN(parseInt(De,10)))}function Vt(ei){if(!te(ei))return null;const De=parseInt(ei.getAttribute("tabindex")||"",10);return isNaN(De)?-1:De}class Nt{constructor(De,qe,ni,ne,Qt=!1){this._element=De,this._checker=qe,this._ngZone=ni,this._document=ne,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Qt||this.attachAnchors()}get enabled(){return this._enabled}set enabled(De){this._enabled=De,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(De,this._startAnchor),this._toggleAnchorTabIndex(De,this._endAnchor))}destroy(){const De=this._startAnchor,qe=this._endAnchor;De&&(De.removeEventListener("focus",this.startAnchorListener),De.remove()),qe&&(qe.removeEventListener("focus",this.endAnchorListener),qe.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(De){return new Promise(qe=>{this._executeOnStable(()=>qe(this.focusInitialElement(De)))})}focusFirstTabbableElementWhenReady(De){return new Promise(qe=>{this._executeOnStable(()=>qe(this.focusFirstTabbableElement(De)))})}focusLastTabbableElementWhenReady(De){return new Promise(qe=>{this._executeOnStable(()=>qe(this.focusLastTabbableElement(De)))})}_getRegionBoundary(De){let qe=this._element.querySelectorAll(`[cdk-focus-region-${De}], [cdkFocusRegion${De}], [cdk-focus-${De}]`);for(let ni=0;ni<qe.length;ni++)qe[ni].hasAttribute(`cdk-focus-${De}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${De}', use 'cdkFocusRegion${De}' instead. The deprecated attribute will be removed in 8.0.0.`,qe[ni]):qe[ni].hasAttribute(`cdk-focus-region-${De}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${De}', use 'cdkFocusRegion${De}' instead. The deprecated attribute will be removed in 8.0.0.`,qe[ni]);return"start"==De?qe.length?qe[0]:this._getFirstTabbableElement(this._element):qe.length?qe[qe.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(De){const qe=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(qe){if(qe.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",qe),!this._checker.isFocusable(qe)){const ni=this._getFirstTabbableElement(qe);return null==ni||ni.focus(De),!!ni}return qe.focus(De),!0}return this.focusFirstTabbableElement(De)}focusFirstTabbableElement(De){const qe=this._getRegionBoundary("start");return qe&&qe.focus(De),!!qe}focusLastTabbableElement(De){const qe=this._getRegionBoundary("end");return qe&&qe.focus(De),!!qe}hasAttached(){return this._hasAttached}_getFirstTabbableElement(De){if(this._checker.isFocusable(De)&&this._checker.isTabbable(De))return De;const qe=De.children;for(let ni=0;ni<qe.length;ni++){const ne=qe[ni].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(qe[ni]):null;if(ne)return ne}return null}_getLastTabbableElement(De){if(this._checker.isFocusable(De)&&this._checker.isTabbable(De))return De;const qe=De.children;for(let ni=qe.length-1;ni>=0;ni--){const ne=qe[ni].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(qe[ni]):null;if(ne)return ne}return null}_createAnchor(){const De=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,De),De.classList.add("cdk-visually-hidden"),De.classList.add("cdk-focus-trap-anchor"),De.setAttribute("aria-hidden","true"),De}_toggleAnchorTabIndex(De,qe){De?qe.setAttribute("tabindex","0"):qe.removeAttribute("tabindex")}toggleAnchors(De){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(De,this._startAnchor),this._toggleAnchorTabIndex(De,this._endAnchor))}_executeOnStable(De){this._ngZone.isStable?De():this._ngZone.onStable.pipe((0,et.q)(1)).subscribe(De)}}let Kt=(()=>{class ei{constructor(qe,ni,ne){this._checker=qe,this._ngZone=ni,this._document=ne}create(qe,ni=!1){return new Nt(qe,this._checker,this._ngZone,this._document,ni)}}return ei.\u0275fac=function(qe){return new(qe||ei)(f.LFG(h),f.LFG(f.R0b),f.LFG(ct.K0))},ei.\u0275prov=f.Yz7({token:ei,factory:ei.\u0275fac,providedIn:"root"}),ei})(),fe=(()=>{class ei{constructor(qe,ni,ne){this._elementRef=qe,this._focusTrapFactory=ni,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(qe){this.focusTrap.enabled=(0,Y.Ig)(qe)}get autoCapture(){return this._autoCapture}set autoCapture(qe){this._autoCapture=(0,Y.Ig)(qe)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(qe){const ni=qe.autoCapture;ni&&!ni.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,q.ht)(),this.focusTrap.focusInitialElementWhenReady()}}return ei.\u0275fac=function(qe){return new(qe||ei)(f.Y36(f.SBq),f.Y36(Kt),f.Y36(ct.K0))},ei.\u0275dir=f.lG2({type:ei,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[f.TTD]}),ei})();function Ge(ei){return 0===ei.offsetX&&0===ei.offsetY}function _e(ei){const De=ei.touches&&ei.touches[0]||ei.changedTouches&&ei.changedTouches[0];return!(!De||-1!==De.identifier||null!=De.radiusX&&1!==De.radiusX||null!=De.radiusY&&1!==De.radiusY)}const Ce=new f.OlP("cdk-input-modality-detector-options"),Bt={ignoreKeys:[G.zL,G.jx,G.b2,G.MW,G.JU]},Ye=(0,q.i$)({passive:!0,capture:!0});let jt=(()=>{class ei{constructor(qe,ni,ne,Qt){this._platform=qe,this._mostRecentTarget=null,this._modality=new b.X(null),this._lastTouchMs=0,this._onKeydown=Zt=>{var Ut,xe;(null==(xe=null==(Ut=this._options)?void 0:Ut.ignoreKeys)?void 0:xe.some(ue=>ue===Zt.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,q.sA)(Zt))},this._onMousedown=Zt=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ge(Zt)?"keyboard":"mouse"),this._mostRecentTarget=(0,q.sA)(Zt))},this._onTouchstart=Zt=>{_e(Zt)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,q.sA)(Zt))},this._options=Er(Er({},Bt),Qt),this.modalityDetected=this._modality.pipe((0,B.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,X.x)()),qe.isBrowser&&ni.runOutsideAngular(()=>{ne.addEventListener("keydown",this._onKeydown,Ye),ne.addEventListener("mousedown",this._onMousedown,Ye),ne.addEventListener("touchstart",this._onTouchstart,Ye)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ye),document.removeEventListener("mousedown",this._onMousedown,Ye),document.removeEventListener("touchstart",this._onTouchstart,Ye))}}return ei.\u0275fac=function(qe){return new(qe||ei)(f.LFG(q.t4),f.LFG(f.R0b),f.LFG(ct.K0),f.LFG(Ce,8))},ei.\u0275prov=f.Yz7({token:ei,factory:ei.\u0275fac,providedIn:"root"}),ei})();const yt=new f.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),ce=new f.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let ke=(()=>{class ei{constructor(qe,ni,ne,Qt){this._ngZone=ni,this._defaultOptions=Qt,this._document=ne,this._liveElement=qe||this._createLiveElement()}announce(qe,...ni){const ne=this._defaultOptions;let Qt,Zt;return 1===ni.length&&"number"==typeof ni[0]?Zt=ni[0]:[Qt,Zt]=ni,this.clear(),clearTimeout(this._previousTimeout),Qt||(Qt=ne&&ne.politeness?ne.politeness:"polite"),null==Zt&&ne&&(Zt=ne.duration),this._liveElement.setAttribute("aria-live",Qt),this._ngZone.runOutsideAngular(()=>new Promise(Ut=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=qe,Ut(),"number"==typeof Zt&&(this._previousTimeout=setTimeout(()=>this.clear(),Zt))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var qe;clearTimeout(this._previousTimeout),null==(qe=this._liveElement)||qe.remove(),this._liveElement=null}_createLiveElement(){const qe="cdk-live-announcer-element",ni=this._document.getElementsByClassName(qe),ne=this._document.createElement("div");for(let Qt=0;Qt<ni.length;Qt++)ni[Qt].remove();return ne.classList.add(qe),ne.classList.add("cdk-visually-hidden"),ne.setAttribute("aria-atomic","true"),ne.setAttribute("aria-live","polite"),this._document.body.appendChild(ne),ne}}return ei.\u0275fac=function(qe){return new(qe||ei)(f.LFG(yt,8),f.LFG(f.R0b),f.LFG(ct.K0),f.LFG(ce,8))},ei.\u0275prov=f.Yz7({token:ei,factory:ei.\u0275fac,providedIn:"root"}),ei})(),Pi=(()=>{class ei{constructor(qe,ni,ne,Qt){this._elementRef=qe,this._liveAnnouncer=ni,this._contentObserver=ne,this._ngZone=Qt,this._politeness="polite"}get politeness(){return this._politeness}set politeness(qe){this._politeness="off"===qe||"assertive"===qe?qe:"polite","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const ni=this._elementRef.nativeElement.textContent;ni!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(ni,this._politeness),this._previousAnnouncedText=ni)})))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return ei.\u0275fac=function(qe){return new(qe||ei)(f.Y36(f.SBq),f.Y36(ke),f.Y36(U.yq),f.Y36(f.R0b))},ei.\u0275dir=f.lG2({type:ei,selectors:[["","cdkAriaLive",""]],inputs:{politeness:["cdkAriaLive","politeness"]},exportAs:["cdkAriaLive"]}),ei})();const We=new f.OlP("cdk-focus-monitor-default-options"),si=(0,q.i$)({passive:!0,capture:!0});let bn=(()=>{class ei{constructor(qe,ni,ne,Qt,Zt){this._ngZone=qe,this._platform=ni,this._inputModalityDetector=ne,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new J.x,this._rootNodeFocusAndBlurListener=Ut=>{const xe=(0,q.sA)(Ut),ue="focus"===Ut.type?this._onFocus:this._onBlur;for(let Re=xe;Re;Re=Re.parentElement)ue.call(this,Ut,Re)},this._document=Qt,this._detectionMode=(null==Zt?void 0:Zt.detectionMode)||0}monitor(qe,ni=!1){const ne=(0,Y.fI)(qe);if(!this._platform.isBrowser||1!==ne.nodeType)return(0,W.of)(null);const Qt=(0,q.kV)(ne)||this._getDocument(),Zt=this._elementInfo.get(ne);if(Zt)return ni&&(Zt.checkChildren=!0),Zt.subject;const Ut={checkChildren:ni,subject:new J.x,rootNode:Qt};return this._elementInfo.set(ne,Ut),this._registerGlobalListeners(Ut),Ut.subject}stopMonitoring(qe){const ni=(0,Y.fI)(qe),ne=this._elementInfo.get(ni);ne&&(ne.subject.complete(),this._setClasses(ni),this._elementInfo.delete(ni),this._removeGlobalListeners(ne))}focusVia(qe,ni,ne){const Qt=(0,Y.fI)(qe);Qt===this._getDocument().activeElement?this._getClosestElementsInfo(Qt).forEach(([Ut,xe])=>this._originChanged(Ut,ni,xe)):(this._setOrigin(ni),"function"==typeof Qt.focus&&Qt.focus(ne))}ngOnDestroy(){this._elementInfo.forEach((qe,ni)=>this.stopMonitoring(ni))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(qe){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(qe)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(qe){return 1===this._detectionMode||!!(null==qe?void 0:qe.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(qe,ni){qe.classList.toggle("cdk-focused",!!ni),qe.classList.toggle("cdk-touch-focused","touch"===ni),qe.classList.toggle("cdk-keyboard-focused","keyboard"===ni),qe.classList.toggle("cdk-mouse-focused","mouse"===ni),qe.classList.toggle("cdk-program-focused","program"===ni)}_setOrigin(qe,ni=!1){this._ngZone.runOutsideAngular(()=>{this._origin=qe,this._originFromTouchInteraction="touch"===qe&&ni,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(qe,ni){const ne=this._elementInfo.get(ni),Qt=(0,q.sA)(qe);!ne||!ne.checkChildren&&ni!==Qt||this._originChanged(ni,this._getFocusOrigin(Qt),ne)}_onBlur(qe,ni){const ne=this._elementInfo.get(ni);!ne||ne.checkChildren&&qe.relatedTarget instanceof Node&&ni.contains(qe.relatedTarget)||(this._setClasses(ni),this._emitOrigin(ne.subject,null))}_emitOrigin(qe,ni){this._ngZone.run(()=>qe.next(ni))}_registerGlobalListeners(qe){if(!this._platform.isBrowser)return;const ni=qe.rootNode,ne=this._rootNodeFocusListenerCount.get(ni)||0;ne||this._ngZone.runOutsideAngular(()=>{ni.addEventListener("focus",this._rootNodeFocusAndBlurListener,si),ni.addEventListener("blur",this._rootNodeFocusAndBlurListener,si)}),this._rootNodeFocusListenerCount.set(ni,ne+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,z.R)(this._stopInputModalityDetector)).subscribe(Qt=>{this._setOrigin(Qt,!0)}))}_removeGlobalListeners(qe){const ni=qe.rootNode;if(this._rootNodeFocusListenerCount.has(ni)){const ne=this._rootNodeFocusListenerCount.get(ni);ne>1?this._rootNodeFocusListenerCount.set(ni,ne-1):(ni.removeEventListener("focus",this._rootNodeFocusAndBlurListener,si),ni.removeEventListener("blur",this._rootNodeFocusAndBlurListener,si),this._rootNodeFocusListenerCount.delete(ni))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(qe,ni,ne){this._setClasses(qe,ni),this._emitOrigin(ne.subject,ni),this._lastFocusOrigin=ni}_getClosestElementsInfo(qe){const ni=[];return this._elementInfo.forEach((ne,Qt)=>{(Qt===qe||ne.checkChildren&&Qt.contains(qe))&&ni.push([Qt,ne])}),ni}}return ei.\u0275fac=function(qe){return new(qe||ei)(f.LFG(f.R0b),f.LFG(q.t4),f.LFG(jt),f.LFG(ct.K0,8),f.LFG(We,8))},ei.\u0275prov=f.Yz7({token:ei,factory:ei.\u0275fac,providedIn:"root"}),ei})(),wi=(()=>{class ei{constructor(qe,ni){this._elementRef=qe,this._focusMonitor=ni,this.cdkFocusChange=new f.vpe}ngAfterViewInit(){const qe=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(qe,1===qe.nodeType&&qe.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(ni=>this.cdkFocusChange.emit(ni))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return ei.\u0275fac=function(qe){return new(qe||ei)(f.Y36(f.SBq),f.Y36(bn))},ei.\u0275dir=f.lG2({type:ei,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),ei})();const je="cdk-high-contrast-black-on-white",ci="cdk-high-contrast-white-on-black",Oe="cdk-high-contrast-active";let oi=(()=>{class ei{constructor(qe,ni){this._platform=qe,this._document=ni}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const qe=this._document.createElement("div");qe.style.backgroundColor="rgb(1,2,3)",qe.style.position="absolute",this._document.body.appendChild(qe);const ni=this._document.defaultView||window,ne=ni&&ni.getComputedStyle?ni.getComputedStyle(qe):null,Qt=(ne&&ne.backgroundColor||"").replace(/ /g,"");switch(qe.remove(),Qt){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const qe=this._document.body.classList;qe.remove(Oe),qe.remove(je),qe.remove(ci),this._hasCheckedHighContrastMode=!0;const ni=this.getHighContrastMode();1===ni?(qe.add(Oe),qe.add(je)):2===ni&&(qe.add(Oe),qe.add(ci))}}}return ei.\u0275fac=function(qe){return new(qe||ei)(f.LFG(q.t4),f.LFG(ct.K0))},ei.\u0275prov=f.Yz7({token:ei,factory:ei.\u0275fac,providedIn:"root"}),ei})(),Vn=(()=>{class ei{constructor(qe){qe._applyBodyHighContrastModeCssClasses()}}return ei.\u0275fac=function(qe){return new(qe||ei)(f.LFG(oi))},ei.\u0275mod=f.oAB({type:ei}),ei.\u0275inj=f.cJS({imports:[[q.ud,U.Q8]]}),ei})()},8290:(Ee,Q,ut)=>{"use strict";ut.d(Q,{vT:()=>G,Is:()=>b});var ct=ut(3668),f=ut(6019);const J=new ct.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,ct.f3M)(f.K0)}});let b=(()=>{class rt{constructor(H){if(this.value="ltr",this.change=new ct.vpe,H){const et=H.documentElement?H.documentElement.dir:null,B=(H.body?H.body.dir:null)||et;this.value="ltr"===B||"rtl"===B?B:"ltr"}}ngOnDestroy(){this.change.complete()}}return rt.\u0275fac=function(H){return new(H||rt)(ct.LFG(J,8))},rt.\u0275prov=ct.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),rt})(),G=(()=>{class rt{}return rt.\u0275fac=function(H){return new(H||rt)},rt.\u0275mod=ct.oAB({type:rt}),rt.\u0275inj=ct.cJS({}),rt})()},348:(Ee,Q,ut)=>{"use strict";ut.d(Q,{Eq:()=>b,Ig:()=>f,HM:()=>W,fI:()=>G,su:()=>J,du:()=>rt});var ct=ut(3668);function f(Z){return null!=Z&&"false"!=`${Z}`}function J(Z,H=0){return function(Z){return!isNaN(parseFloat(Z))&&!isNaN(Number(Z))}(Z)?Number(Z):H}function b(Z){return Array.isArray(Z)?Z:[Z]}function W(Z){return null==Z?"":"string"==typeof Z?Z:`${Z}px`}function G(Z){return Z instanceof ct.SBq?Z.nativeElement:Z}function rt(Z,H=/\s+/){const F=[];if(null!=Z){const et=Array.isArray(Z)?Z:`${Z}`.split(H);for(const B of et){const X=`${B}`.trim();X&&F.push(X)}}return F}},1628:(Ee,Q,ut)=>{"use strict";ut.d(Q,{A:()=>at,zL:()=>rt,jx:()=>G,JH:()=>ot,uR:()=>z,K5:()=>b,hY:()=>F,Sd:()=>Y,oh:()=>q,b2:()=>js,MW:()=>ht,aO:()=>T,VM:()=>X,Ku:()=>B,SV:()=>it,JU:()=>W,L_:()=>et,Mf:()=>J,LH:()=>U,Z:()=>yt,xE:()=>Tt,Vb:()=>Zo});const J=9,b=13,W=16,G=17,rt=18,F=27,et=32,B=33,X=34,z=35,Y=36,q=37,U=38,it=39,ot=40,Tt=48,T=57,at=65,yt=90,ht=91,js=224;function Zo(ds,...Gr){return Gr.length?Gr.some(qo=>ds[qo]):ds.altKey||ds.shiftKey||ds.ctrlKey||ds.metaKey}},6999:(Ee,Q,ut)=>{"use strict";ut.d(Q,{Yg:()=>ot,u3:()=>wt,xu:()=>X});var ct=ut(3668),f=ut(348),J=ut(273),tt=ut(5804),b=ut(1404),W=ut(2047),G=ut(9468),rt=ut(9661),Z=ut(9463),H=ut(4753),F=ut(3970),et=ut(6263),B=ut(928);let X=(()=>{class xt{}return xt.\u0275fac=function(Tt){return new(Tt||xt)},xt.\u0275mod=ct.oAB({type:xt}),xt.\u0275inj=ct.cJS({}),xt})();const z=new Set;let Y,q=(()=>{class xt{constructor(Tt){this._platform=Tt,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):it}matchMedia(Tt){return(this._platform.WEBKIT||this._platform.BLINK)&&function(xt){if(!z.has(xt))try{Y||(Y=document.createElement("style"),Y.setAttribute("type","text/css"),document.head.appendChild(Y)),Y.sheet&&(Y.sheet.insertRule(`@media ${xt} {body{ }}`,0),z.add(xt))}catch(Ot){console.error(Ot)}}(Tt),this._matchMedia(Tt)}}return xt.\u0275fac=function(Tt){return new(Tt||xt)(ct.LFG(B.t4))},xt.\u0275prov=ct.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"}),xt})();function it(xt){return{matches:"all"===xt||""===xt,media:xt,addListener:()=>{},removeListener:()=>{}}}let ot=(()=>{class xt{constructor(Tt,Et){this._mediaMatcher=Tt,this._zone=Et,this._queries=new Map,this._destroySubject=new J.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Tt){return lt((0,f.Eq)(Tt)).some(A=>this._registerQuery(A).mql.matches)}observe(Tt){const A=lt((0,f.Eq)(Tt)).map(c=>this._registerQuery(c).observable);let o=(0,tt.a)(A);return o=(0,b.z)(o.pipe((0,G.q)(1)),o.pipe((0,rt.T)(1),(0,Z.b)(0))),o.pipe((0,H.U)(c=>{const g={matches:!1,breakpoints:{}};return c.forEach(({matches:p,query:w})=>{g.matches=g.matches||p,g.breakpoints[w]=p}),g}))}_registerQuery(Tt){if(this._queries.has(Tt))return this._queries.get(Tt);const Et=this._mediaMatcher.matchMedia(Tt),o={observable:new W.y(c=>{const g=p=>this._zone.run(()=>c.next(p));return Et.addListener(g),()=>{Et.removeListener(g)}}).pipe((0,F.O)(Et),(0,H.U)(({matches:c})=>({query:Tt,matches:c})),(0,et.R)(this._destroySubject)),mql:Et};return this._queries.set(Tt,o),o}}return xt.\u0275fac=function(Tt){return new(Tt||xt)(ct.LFG(q),ct.LFG(ct.R0b))},xt.\u0275prov=ct.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"}),xt})();function lt(xt){return xt.map(Ot=>Ot.split(",")).reduce((Ot,Tt)=>Ot.concat(Tt)).map(Ot=>Ot.trim())}const wt={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},3242:(Ee,Q,ut)=>{"use strict";ut.d(Q,{wD:()=>rt,yq:()=>G,Q8:()=>Z});var ct=ut(348),f=ut(3668),J=ut(2047),tt=ut(273),b=ut(9463);let W=(()=>{class H{create(et){return"undefined"==typeof MutationObserver?null:new MutationObserver(et)}}return H.\u0275fac=function(et){return new(et||H)},H.\u0275prov=f.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})(),G=(()=>{class H{constructor(et){this._mutationObserverFactory=et,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((et,B)=>this._cleanupObserver(B))}observe(et){const B=(0,ct.fI)(et);return new J.y(X=>{const Y=this._observeElement(B).subscribe(X);return()=>{Y.unsubscribe(),this._unobserveElement(B)}})}_observeElement(et){if(this._observedElements.has(et))this._observedElements.get(et).count++;else{const B=new tt.x,X=this._mutationObserverFactory.create(z=>B.next(z));X&&X.observe(et,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(et,{observer:X,stream:B,count:1})}return this._observedElements.get(et).stream}_unobserveElement(et){this._observedElements.has(et)&&(this._observedElements.get(et).count--,this._observedElements.get(et).count||this._cleanupObserver(et))}_cleanupObserver(et){if(this._observedElements.has(et)){const{observer:B,stream:X}=this._observedElements.get(et);B&&B.disconnect(),X.complete(),this._observedElements.delete(et)}}}return H.\u0275fac=function(et){return new(et||H)(f.LFG(W))},H.\u0275prov=f.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})(),rt=(()=>{class H{constructor(et,B,X){this._contentObserver=et,this._elementRef=B,this._ngZone=X,this.event=new f.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(et){this._disabled=(0,ct.Ig)(et),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(et){this._debounce=(0,ct.su)(et),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const et=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?et.pipe((0,b.b)(this.debounce)):et).subscribe(this.event)})}_unsubscribe(){var et;null==(et=this._currentSubscription)||et.unsubscribe()}}return H.\u0275fac=function(et){return new(et||H)(f.Y36(G),f.Y36(f.SBq),f.Y36(f.R0b))},H.\u0275dir=f.lG2({type:H,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),H})(),Z=(()=>{class H{}return H.\u0275fac=function(et){return new(et||H)},H.\u0275mod=f.oAB({type:H}),H.\u0275inj=f.cJS({providers:[W]}),H})()},6015:(Ee,Q,ut)=>{"use strict";ut.d(Q,{pI:()=>Vn,xu:()=>oi,_G:()=>ht,aV:()=>je,X_:()=>zt,U8:()=>qe});var ct=ut(2127),f=ut(6019),J=ut(3668),tt=ut(348),b=ut(928);function F(ne,Qt){return function(Zt,Ut){Qt(Zt,Ut,ne)}}function et(ne,Qt){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(ne,Qt)}var w=ut(8290),S=ut(5711),T=ut(273),C=ut(7908),h=ut(3719),k=ut(9947),ft=ut(8889),st=ut(9468),Mt=ut(6263),St=ut(1628);const Xt=(0,b.Mq)();class te{constructor(Qt,Zt){this._viewportRuler=Qt,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Zt}attach(){}enable(){if(this._canBeEnabled()){const Qt=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=Qt.style.left||"",this._previousHTMLStyles.top=Qt.style.top||"",Qt.style.left=(0,tt.HM)(-this._previousScrollPosition.left),Qt.style.top=(0,tt.HM)(-this._previousScrollPosition.top),Qt.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const Qt=this._document.documentElement,Ut=Qt.style,xe=this._document.body.style,ue=Ut.scrollBehavior||"",Re=xe.scrollBehavior||"";this._isEnabled=!1,Ut.left=this._previousHTMLStyles.left,Ut.top=this._previousHTMLStyles.top,Qt.classList.remove("cdk-global-scrollblock"),Xt&&(Ut.scrollBehavior=xe.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Xt&&(Ut.scrollBehavior=ue,xe.scrollBehavior=Re)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Zt=this._document.body,Ut=this._viewportRuler.getViewportSize();return Zt.scrollHeight>Ut.height||Zt.scrollWidth>Ut.width}}class Dt{constructor(Qt,Zt,Ut,xe){this._scrollDispatcher=Qt,this._ngZone=Zt,this._viewportRuler=Ut,this._config=xe,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(Qt){this._overlayRef=Qt}enable(){if(this._scrollSubscription)return;const Qt=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=Qt.subscribe(()=>{const Zt=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Zt-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=Qt.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ve{enable(){}disable(){}attach(){}}function Gt(ne,Qt){return Qt.some(Zt=>ne.bottom<Zt.top||ne.top>Zt.bottom||ne.right<Zt.left||ne.left>Zt.right)}function Nt(ne,Qt){return Qt.some(Zt=>ne.top<Zt.top||ne.bottom>Zt.bottom||ne.left<Zt.left||ne.right>Zt.right)}class Kt{constructor(Qt,Zt,Ut,xe){this._scrollDispatcher=Qt,this._viewportRuler=Zt,this._ngZone=Ut,this._config=xe,this._scrollSubscription=null}attach(Qt){this._overlayRef=Qt}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Zt=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Ut,height:xe}=this._viewportRuler.getViewportSize();Gt(Zt,[{width:Ut,height:xe,bottom:xe,right:Ut,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let fe=(()=>{class ne{constructor(Zt,Ut,xe,ue){this._scrollDispatcher=Zt,this._viewportRuler=Ut,this._ngZone=xe,this.noop=()=>new ve,this.close=Re=>new Dt(this._scrollDispatcher,this._ngZone,this._viewportRuler,Re),this.block=()=>new te(this._viewportRuler,this._document),this.reposition=Re=>new Kt(this._scrollDispatcher,this._viewportRuler,this._ngZone,Re),this._document=ue}}return ne.\u0275fac=function(Zt){return new(Zt||ne)(J.LFG(ct.mF),J.LFG(ct.rL),J.LFG(J.R0b),J.LFG(f.K0))},ne.\u0275prov=J.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})();class zt{constructor(Qt){if(this.scrollStrategy=new ve,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,Qt){const Zt=Object.keys(Qt);for(const Ut of Zt)void 0!==Qt[Ut]&&(this[Ut]=Qt[Ut])}}}class Ne{constructor(Qt,Zt,Ut,xe,ue){this.offsetX=Ut,this.offsetY=xe,this.panelClass=ue,this.originX=Qt.originX,this.originY=Qt.originY,this.overlayX=Zt.overlayX,this.overlayY=Zt.overlayY}}class Pt{}let Se=(()=>{let ne=class{constructor(Zt,Ut){this.connectionPair=Zt,this.scrollableViewProperties=Ut}};return ne=function(ne,Qt,Zt,Ut){var Re,xe=arguments.length,ue=xe<3?Qt:null===Ut?Ut=Object.getOwnPropertyDescriptor(Qt,Zt):Ut;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ue=Reflect.decorate(ne,Qt,Zt,Ut);else for(var pi=ne.length-1;pi>=0;pi--)(Re=ne[pi])&&(ue=(xe<3?Re(ue):xe>3?Re(Qt,Zt,ue):Re(Qt,Zt))||ue);return xe>3&&ue&&Object.defineProperty(Qt,Zt,ue),ue}([F(1,(0,J.FiY)()),et("design:paramtypes",[Ne,Pt])],ne),ne})(),_e=(()=>{class ne{constructor(Zt){this._attachedOverlays=[],this._document=Zt}ngOnDestroy(){this.detach()}add(Zt){this.remove(Zt),this._attachedOverlays.push(Zt)}remove(Zt){const Ut=this._attachedOverlays.indexOf(Zt);Ut>-1&&this._attachedOverlays.splice(Ut,1),0===this._attachedOverlays.length&&this.detach()}}return ne.\u0275fac=function(Zt){return new(Zt||ne)(J.LFG(f.K0))},ne.\u0275prov=J.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})(),Ce=(()=>{class ne extends _e{constructor(Zt){super(Zt),this._keydownListener=Ut=>{const xe=this._attachedOverlays;for(let ue=xe.length-1;ue>-1;ue--)if(xe[ue]._keydownEvents.observers.length>0){xe[ue]._keydownEvents.next(Ut);break}}}add(Zt){super.add(Zt),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return ne.\u0275fac=function(Zt){return new(Zt||ne)(J.LFG(f.K0))},ne.\u0275prov=J.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})(),Bt=(()=>{class ne extends _e{constructor(Zt,Ut){super(Zt),this._platform=Ut,this._cursorStyleIsSet=!1,this._pointerDownListener=xe=>{this._pointerDownEventTarget=(0,b.sA)(xe)},this._clickListener=xe=>{const ue=(0,b.sA)(xe),Re="click"===xe.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:ue;this._pointerDownEventTarget=null;const pi=this._attachedOverlays.slice();for(let he=pi.length-1;he>-1;he--){const $e=pi[he];if(!($e._outsidePointerEvents.observers.length<1)&&$e.hasAttached()){if($e.overlayElement.contains(ue)||$e.overlayElement.contains(Re))break;$e._outsidePointerEvents.next(xe)}}}}add(Zt){if(super.add(Zt),!this._isAttached){const Ut=this._document.body;Ut.addEventListener("pointerdown",this._pointerDownListener,!0),Ut.addEventListener("click",this._clickListener,!0),Ut.addEventListener("auxclick",this._clickListener,!0),Ut.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Ut.style.cursor,Ut.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Zt=this._document.body;Zt.removeEventListener("pointerdown",this._pointerDownListener,!0),Zt.removeEventListener("click",this._clickListener,!0),Zt.removeEventListener("auxclick",this._clickListener,!0),Zt.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Zt.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return ne.\u0275fac=function(Zt){return new(Zt||ne)(J.LFG(f.K0),J.LFG(b.t4))},ne.\u0275prov=J.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})(),re=(()=>{class ne{constructor(Zt,Ut){this._platform=Ut,this._document=Zt}ngOnDestroy(){var Zt;null==(Zt=this._containerElement)||Zt.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Zt="cdk-overlay-container";if(this._platform.isBrowser||(0,b.Oy)()){const xe=this._document.querySelectorAll(`.${Zt}[platform="server"], .${Zt}[platform="test"]`);for(let ue=0;ue<xe.length;ue++)xe[ue].remove()}const Ut=this._document.createElement("div");Ut.classList.add(Zt),(0,b.Oy)()?Ut.setAttribute("platform","test"):this._platform.isBrowser||Ut.setAttribute("platform","server"),this._document.body.appendChild(Ut),this._containerElement=Ut}}return ne.\u0275fac=function(Zt){return new(Zt||ne)(J.LFG(f.K0),J.LFG(b.t4))},ne.\u0275prov=J.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})();class Ye{constructor(Qt,Zt,Ut,xe,ue,Re,pi,he,$e){this._portalOutlet=Qt,this._host=Zt,this._pane=Ut,this._config=xe,this._ngZone=ue,this._keyboardDispatcher=Re,this._document=pi,this._location=he,this._outsideClickDispatcher=$e,this._backdropElement=null,this._backdropClick=new T.x,this._attachments=new T.x,this._detachments=new T.x,this._locationChanges=C.w0.EMPTY,this._backdropClickHandler=_n=>this._backdropClick.next(_n),this._keydownEvents=new T.x,this._outsidePointerEvents=new T.x,xe.scrollStrategy&&(this._scrollStrategy=xe.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=xe.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(Qt){let Zt=this._portalOutlet.attach(Qt);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,st.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),Zt}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const Qt=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),Qt}dispose(){var Zt;const Qt=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null==(Zt=this._host)||Zt.remove(),this._previousHostParent=this._pane=this._host=null,Qt&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(Qt){Qt!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=Qt,this.hasAttached()&&(Qt.attach(this),this.updatePosition()))}updateSize(Qt){this._config=Er(Er({},this._config),Qt),this._updateElementSize()}setDirection(Qt){this._config=Gu(Er({},this._config),{direction:Qt}),this._updateElementDirection()}addPanelClass(Qt){this._pane&&this._toggleClasses(this._pane,Qt,!0)}removePanelClass(Qt){this._pane&&this._toggleClasses(this._pane,Qt,!1)}getDirection(){const Qt=this._config.direction;return Qt?"string"==typeof Qt?Qt:Qt.value:"ltr"}updateScrollStrategy(Qt){Qt!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=Qt,this.hasAttached()&&(Qt.attach(this),Qt.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const Qt=this._pane.style;Qt.width=(0,tt.HM)(this._config.width),Qt.height=(0,tt.HM)(this._config.height),Qt.minWidth=(0,tt.HM)(this._config.minWidth),Qt.minHeight=(0,tt.HM)(this._config.minHeight),Qt.maxWidth=(0,tt.HM)(this._config.maxWidth),Qt.maxHeight=(0,tt.HM)(this._config.maxHeight)}_togglePointerEvents(Qt){this._pane.style.pointerEvents=Qt?"":"none"}_attachBackdrop(){const Qt="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(Qt)})}):this._backdropElement.classList.add(Qt)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const Qt=this._backdropElement;if(!Qt)return;let Zt;const Ut=()=>{Qt&&(Qt.removeEventListener("click",this._backdropClickHandler),Qt.removeEventListener("transitionend",Ut),this._disposeBackdrop(Qt)),this._config.backdropClass&&this._toggleClasses(Qt,this._config.backdropClass,!1),clearTimeout(Zt)};Qt.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{Qt.addEventListener("transitionend",Ut)}),Qt.style.pointerEvents="none",Zt=this._ngZone.runOutsideAngular(()=>setTimeout(Ut,500))}_toggleClasses(Qt,Zt,Ut){const xe=(0,tt.Eq)(Zt||[]).filter(ue=>!!ue);xe.length&&(Ut?Qt.classList.add(...xe):Qt.classList.remove(...xe))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const Qt=this._ngZone.onStable.pipe((0,Mt.R)((0,h.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),Qt.unsubscribe())})})}_disposeScrollStrategy(){const Qt=this._scrollStrategy;Qt&&(Qt.disable(),Qt.detach&&Qt.detach())}_disposeBackdrop(Qt){Qt&&(Qt.remove(),this._backdropElement===Qt&&(this._backdropElement=null))}}const jt="cdk-overlay-connected-position-bounding-box",yt=/([A-Za-z%]+)$/;class ht{constructor(Qt,Zt,Ut,xe,ue){this._viewportRuler=Zt,this._document=Ut,this._platform=xe,this._overlayContainer=ue,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new T.x,this._resizeSubscription=C.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(Qt)}get positions(){return this._preferredPositions}attach(Qt){this._validatePositions(),Qt.hostElement.classList.add(jt),this._overlayRef=Qt,this._boundingBox=Qt.hostElement,this._pane=Qt.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const Qt=this._originRect,Zt=this._overlayRect,Ut=this._viewportRect,xe=[];let ue;for(let Re of this._preferredPositions){let pi=this._getOriginPoint(Qt,Re),he=this._getOverlayPoint(pi,Zt,Re),$e=this._getOverlayFit(he,Zt,Ut,Re);if($e.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Re,pi);this._canFitWithFlexibleDimensions($e,he,Ut)?xe.push({position:Re,origin:pi,overlayRect:Zt,boundingBoxRect:this._calculateBoundingBoxRect(pi,Re)}):(!ue||ue.overlayFit.visibleArea<$e.visibleArea)&&(ue={overlayFit:$e,overlayPoint:he,originPoint:pi,position:Re,overlayRect:Zt})}if(xe.length){let Re=null,pi=-1;for(const he of xe){const $e=he.boundingBoxRect.width*he.boundingBoxRect.height*(he.position.weight||1);$e>pi&&(pi=$e,Re=he)}return this._isPushed=!1,void this._applyPosition(Re.position,Re.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(ue.position,ue.originPoint);this._applyPosition(ue.position,ue.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ce(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(jt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const Qt=this._lastPosition||this._preferredPositions[0],Zt=this._getOriginPoint(this._originRect,Qt);this._applyPosition(Qt,Zt)}}withScrollableContainers(Qt){return this._scrollables=Qt,this}withPositions(Qt){return this._preferredPositions=Qt,-1===Qt.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(Qt){return this._viewportMargin=Qt,this}withFlexibleDimensions(Qt=!0){return this._hasFlexibleDimensions=Qt,this}withGrowAfterOpen(Qt=!0){return this._growAfterOpen=Qt,this}withPush(Qt=!0){return this._canPush=Qt,this}withLockedPosition(Qt=!0){return this._positionLocked=Qt,this}setOrigin(Qt){return this._origin=Qt,this}withDefaultOffsetX(Qt){return this._offsetX=Qt,this}withDefaultOffsetY(Qt){return this._offsetY=Qt,this}withTransformOriginOn(Qt){return this._transformOriginSelector=Qt,this}_getOriginPoint(Qt,Zt){let Ut,xe;if("center"==Zt.originX)Ut=Qt.left+Qt.width/2;else{const ue=this._isRtl()?Qt.right:Qt.left,Re=this._isRtl()?Qt.left:Qt.right;Ut="start"==Zt.originX?ue:Re}return xe="center"==Zt.originY?Qt.top+Qt.height/2:"top"==Zt.originY?Qt.top:Qt.bottom,{x:Ut,y:xe}}_getOverlayPoint(Qt,Zt,Ut){let xe,ue;return xe="center"==Ut.overlayX?-Zt.width/2:"start"===Ut.overlayX?this._isRtl()?-Zt.width:0:this._isRtl()?0:-Zt.width,ue="center"==Ut.overlayY?-Zt.height/2:"top"==Ut.overlayY?0:-Zt.height,{x:Qt.x+xe,y:Qt.y+ue}}_getOverlayFit(Qt,Zt,Ut,xe){const ue=Pi(Zt);let{x:Re,y:pi}=Qt,he=this._getOffset(xe,"x"),$e=this._getOffset(xe,"y");he&&(Re+=he),$e&&(pi+=$e);let zi=0-pi,ir=pi+ue.height-Ut.height,bi=this._subtractOverflows(ue.width,0-Re,Re+ue.width-Ut.width),Li=this._subtractOverflows(ue.height,zi,ir),Ln=bi*Li;return{visibleArea:Ln,isCompletelyWithinViewport:ue.width*ue.height===Ln,fitsInViewportVertically:Li===ue.height,fitsInViewportHorizontally:bi==ue.width}}_canFitWithFlexibleDimensions(Qt,Zt,Ut){if(this._hasFlexibleDimensions){const xe=Ut.bottom-Zt.y,ue=Ut.right-Zt.x,Re=ke(this._overlayRef.getConfig().minHeight),pi=ke(this._overlayRef.getConfig().minWidth),$e=Qt.fitsInViewportHorizontally||null!=pi&&pi<=ue;return(Qt.fitsInViewportVertically||null!=Re&&Re<=xe)&&$e}return!1}_pushOverlayOnScreen(Qt,Zt,Ut){if(this._previousPushAmount&&this._positionLocked)return{x:Qt.x+this._previousPushAmount.x,y:Qt.y+this._previousPushAmount.y};const xe=Pi(Zt),ue=this._viewportRect,Re=Math.max(Qt.x+xe.width-ue.width,0),pi=Math.max(Qt.y+xe.height-ue.height,0),he=Math.max(ue.top-Ut.top-Qt.y,0),$e=Math.max(ue.left-Ut.left-Qt.x,0);let _n=0,Ei=0;return _n=xe.width<=ue.width?$e||-Re:Qt.x<this._viewportMargin?ue.left-Ut.left-Qt.x:0,Ei=xe.height<=ue.height?he||-pi:Qt.y<this._viewportMargin?ue.top-Ut.top-Qt.y:0,this._previousPushAmount={x:_n,y:Ei},{x:Qt.x+_n,y:Qt.y+Ei}}_applyPosition(Qt,Zt){if(this._setTransformOrigin(Qt),this._setOverlayElementStyles(Zt,Qt),this._setBoundingBoxStyles(Zt,Qt),Qt.panelClass&&this._addPanelClasses(Qt.panelClass),this._lastPosition=Qt,this._positionChanges.observers.length){const Ut=this._getScrollVisibility(),xe=new Se(Qt,Ut);this._positionChanges.next(xe)}this._isInitialRender=!1}_setTransformOrigin(Qt){if(!this._transformOriginSelector)return;const Zt=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Ut,xe=Qt.overlayY;Ut="center"===Qt.overlayX?"center":this._isRtl()?"start"===Qt.overlayX?"right":"left":"start"===Qt.overlayX?"left":"right";for(let ue=0;ue<Zt.length;ue++)Zt[ue].style.transformOrigin=`${Ut} ${xe}`}_calculateBoundingBoxRect(Qt,Zt){const Ut=this._viewportRect,xe=this._isRtl();let ue,Re,pi,_n,Ei,zi;if("top"===Zt.overlayY)Re=Qt.y,ue=Ut.height-Re+this._viewportMargin;else if("bottom"===Zt.overlayY)pi=Ut.height-Qt.y+2*this._viewportMargin,ue=Ut.height-pi+this._viewportMargin;else{const ir=Math.min(Ut.bottom-Qt.y+Ut.top,Qt.y),bi=this._lastBoundingBoxSize.height;ue=2*ir,Re=Qt.y-ir,ue>bi&&!this._isInitialRender&&!this._growAfterOpen&&(Re=Qt.y-bi/2)}if("end"===Zt.overlayX&&!xe||"start"===Zt.overlayX&&xe)zi=Ut.width-Qt.x+this._viewportMargin,_n=Qt.x-this._viewportMargin;else if("start"===Zt.overlayX&&!xe||"end"===Zt.overlayX&&xe)Ei=Qt.x,_n=Ut.right-Qt.x;else{const ir=Math.min(Ut.right-Qt.x+Ut.left,Qt.x),bi=this._lastBoundingBoxSize.width;_n=2*ir,Ei=Qt.x-ir,_n>bi&&!this._isInitialRender&&!this._growAfterOpen&&(Ei=Qt.x-bi/2)}return{top:Re,left:Ei,bottom:pi,right:zi,width:_n,height:ue}}_setBoundingBoxStyles(Qt,Zt){const Ut=this._calculateBoundingBoxRect(Qt,Zt);!this._isInitialRender&&!this._growAfterOpen&&(Ut.height=Math.min(Ut.height,this._lastBoundingBoxSize.height),Ut.width=Math.min(Ut.width,this._lastBoundingBoxSize.width));const xe={};if(this._hasExactPosition())xe.top=xe.left="0",xe.bottom=xe.right=xe.maxHeight=xe.maxWidth="",xe.width=xe.height="100%";else{const ue=this._overlayRef.getConfig().maxHeight,Re=this._overlayRef.getConfig().maxWidth;xe.height=(0,tt.HM)(Ut.height),xe.top=(0,tt.HM)(Ut.top),xe.bottom=(0,tt.HM)(Ut.bottom),xe.width=(0,tt.HM)(Ut.width),xe.left=(0,tt.HM)(Ut.left),xe.right=(0,tt.HM)(Ut.right),xe.alignItems="center"===Zt.overlayX?"center":"end"===Zt.overlayX?"flex-end":"flex-start",xe.justifyContent="center"===Zt.overlayY?"center":"bottom"===Zt.overlayY?"flex-end":"flex-start",ue&&(xe.maxHeight=(0,tt.HM)(ue)),Re&&(xe.maxWidth=(0,tt.HM)(Re))}this._lastBoundingBoxSize=Ut,ce(this._boundingBox.style,xe)}_resetBoundingBoxStyles(){ce(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ce(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(Qt,Zt){const Ut={},xe=this._hasExactPosition(),ue=this._hasFlexibleDimensions,Re=this._overlayRef.getConfig();if(xe){const _n=this._viewportRuler.getViewportScrollPosition();ce(Ut,this._getExactOverlayY(Zt,Qt,_n)),ce(Ut,this._getExactOverlayX(Zt,Qt,_n))}else Ut.position="static";let pi="",he=this._getOffset(Zt,"x"),$e=this._getOffset(Zt,"y");he&&(pi+=`translateX(${he}px) `),$e&&(pi+=`translateY(${$e}px)`),Ut.transform=pi.trim(),Re.maxHeight&&(xe?Ut.maxHeight=(0,tt.HM)(Re.maxHeight):ue&&(Ut.maxHeight="")),Re.maxWidth&&(xe?Ut.maxWidth=(0,tt.HM)(Re.maxWidth):ue&&(Ut.maxWidth="")),ce(this._pane.style,Ut)}_getExactOverlayY(Qt,Zt,Ut){let xe={top:"",bottom:""},ue=this._getOverlayPoint(Zt,this._overlayRect,Qt);this._isPushed&&(ue=this._pushOverlayOnScreen(ue,this._overlayRect,Ut));let Re=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return ue.y-=Re,"bottom"===Qt.overlayY?xe.bottom=this._document.documentElement.clientHeight-(ue.y+this._overlayRect.height)+"px":xe.top=(0,tt.HM)(ue.y),xe}_getExactOverlayX(Qt,Zt,Ut){let Re,xe={left:"",right:""},ue=this._getOverlayPoint(Zt,this._overlayRect,Qt);return this._isPushed&&(ue=this._pushOverlayOnScreen(ue,this._overlayRect,Ut)),Re=this._isRtl()?"end"===Qt.overlayX?"left":"right":"end"===Qt.overlayX?"right":"left","right"===Re?xe.right=this._document.documentElement.clientWidth-(ue.x+this._overlayRect.width)+"px":xe.left=(0,tt.HM)(ue.x),xe}_getScrollVisibility(){const Qt=this._getOriginRect(),Zt=this._pane.getBoundingClientRect(),Ut=this._scrollables.map(xe=>xe.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Nt(Qt,Ut),isOriginOutsideView:Gt(Qt,Ut),isOverlayClipped:Nt(Zt,Ut),isOverlayOutsideView:Gt(Zt,Ut)}}_subtractOverflows(Qt,...Zt){return Zt.reduce((Ut,xe)=>Ut-Math.max(xe,0),Qt)}_getNarrowedViewportRect(){const Qt=this._document.documentElement.clientWidth,Zt=this._document.documentElement.clientHeight,Ut=this._viewportRuler.getViewportScrollPosition();return{top:Ut.top+this._viewportMargin,left:Ut.left+this._viewportMargin,right:Ut.left+Qt-this._viewportMargin,bottom:Ut.top+Zt-this._viewportMargin,width:Qt-2*this._viewportMargin,height:Zt-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(Qt,Zt){return"x"===Zt?null==Qt.offsetX?this._offsetX:Qt.offsetX:null==Qt.offsetY?this._offsetY:Qt.offsetY}_validatePositions(){}_addPanelClasses(Qt){this._pane&&(0,tt.Eq)(Qt).forEach(Zt=>{""!==Zt&&-1===this._appliedPanelClasses.indexOf(Zt)&&(this._appliedPanelClasses.push(Zt),this._pane.classList.add(Zt))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(Qt=>{this._pane.classList.remove(Qt)}),this._appliedPanelClasses=[])}_getOriginRect(){const Qt=this._origin;if(Qt instanceof J.SBq)return Qt.nativeElement.getBoundingClientRect();if(Qt instanceof Element)return Qt.getBoundingClientRect();const Zt=Qt.width||0,Ut=Qt.height||0;return{top:Qt.y,bottom:Qt.y+Ut,left:Qt.x,right:Qt.x+Zt,height:Ut,width:Zt}}}function ce(ne,Qt){for(let Zt in Qt)Qt.hasOwnProperty(Zt)&&(ne[Zt]=Qt[Zt]);return ne}function ke(ne){if("number"!=typeof ne&&null!=ne){const[Qt,Zt]=ne.split(yt);return Zt&&"px"!==Zt?null:parseFloat(Qt)}return ne||null}function Pi(ne){return{top:Math.floor(ne.top),right:Math.floor(ne.right),bottom:Math.floor(ne.bottom),left:Math.floor(ne.left),width:Math.floor(ne.width),height:Math.floor(ne.height)}}const We="cdk-global-overlay-wrapper";class si{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(Qt){const Zt=Qt.getConfig();this._overlayRef=Qt,this._width&&!Zt.width&&Qt.updateSize({width:this._width}),this._height&&!Zt.height&&Qt.updateSize({height:this._height}),Qt.hostElement.classList.add(We),this._isDisposed=!1}top(Qt=""){return this._bottomOffset="",this._topOffset=Qt,this._alignItems="flex-start",this}left(Qt=""){return this._rightOffset="",this._leftOffset=Qt,this._justifyContent="flex-start",this}bottom(Qt=""){return this._topOffset="",this._bottomOffset=Qt,this._alignItems="flex-end",this}right(Qt=""){return this._leftOffset="",this._rightOffset=Qt,this._justifyContent="flex-end",this}width(Qt=""){return this._overlayRef?this._overlayRef.updateSize({width:Qt}):this._width=Qt,this}height(Qt=""){return this._overlayRef?this._overlayRef.updateSize({height:Qt}):this._height=Qt,this}centerHorizontally(Qt=""){return this.left(Qt),this._justifyContent="center",this}centerVertically(Qt=""){return this.top(Qt),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const Qt=this._overlayRef.overlayElement.style,Zt=this._overlayRef.hostElement.style,Ut=this._overlayRef.getConfig(),{width:xe,height:ue,maxWidth:Re,maxHeight:pi}=Ut,he=!("100%"!==xe&&"100vw"!==xe||Re&&"100%"!==Re&&"100vw"!==Re),$e=!("100%"!==ue&&"100vh"!==ue||pi&&"100%"!==pi&&"100vh"!==pi);Qt.position=this._cssPosition,Qt.marginLeft=he?"0":this._leftOffset,Qt.marginTop=$e?"0":this._topOffset,Qt.marginBottom=this._bottomOffset,Qt.marginRight=this._rightOffset,he?Zt.justifyContent="flex-start":"center"===this._justifyContent?Zt.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?Zt.justifyContent="flex-end":"flex-end"===this._justifyContent&&(Zt.justifyContent="flex-start"):Zt.justifyContent=this._justifyContent,Zt.alignItems=$e?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const Qt=this._overlayRef.overlayElement.style,Zt=this._overlayRef.hostElement,Ut=Zt.style;Zt.classList.remove(We),Ut.justifyContent=Ut.alignItems=Qt.marginTop=Qt.marginBottom=Qt.marginLeft=Qt.marginRight=Qt.position="",this._overlayRef=null,this._isDisposed=!0}}let bn=(()=>{class ne{constructor(Zt,Ut,xe,ue){this._viewportRuler=Zt,this._document=Ut,this._platform=xe,this._overlayContainer=ue}global(){return new si}flexibleConnectedTo(Zt){return new ht(Zt,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return ne.\u0275fac=function(Zt){return new(Zt||ne)(J.LFG(ct.rL),J.LFG(f.K0),J.LFG(b.t4),J.LFG(re))},ne.\u0275prov=J.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})(),wi=0,je=(()=>{class ne{constructor(Zt,Ut,xe,ue,Re,pi,he,$e,_n,Ei,zi){this.scrollStrategies=Zt,this._overlayContainer=Ut,this._componentFactoryResolver=xe,this._positionBuilder=ue,this._keyboardDispatcher=Re,this._injector=pi,this._ngZone=he,this._document=$e,this._directionality=_n,this._location=Ei,this._outsideClickDispatcher=zi}create(Zt){const Ut=this._createHostElement(),xe=this._createPaneElement(Ut),ue=this._createPortalOutlet(xe),Re=new zt(Zt);return Re.direction=Re.direction||this._directionality.value,new Ye(ue,Ut,xe,Re,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(Zt){const Ut=this._document.createElement("div");return Ut.id="cdk-overlay-"+wi++,Ut.classList.add("cdk-overlay-pane"),Zt.appendChild(Ut),Ut}_createHostElement(){const Zt=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Zt),Zt}_createPortalOutlet(Zt){return this._appRef||(this._appRef=this._injector.get(J.z2F)),new S.u0(Zt,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return ne.\u0275fac=function(Zt){return new(Zt||ne)(J.LFG(fe),J.LFG(re),J.LFG(J._Vd),J.LFG(bn),J.LFG(Ce),J.LFG(J.zs3),J.LFG(J.R0b),J.LFG(f.K0),J.LFG(w.Is),J.LFG(f.Ye),J.LFG(Bt))},ne.\u0275prov=J.Yz7({token:ne,factory:ne.\u0275fac}),ne})();const ci=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Oe=new J.OlP("cdk-connected-overlay-scroll-strategy");let oi=(()=>{class ne{constructor(Zt){this.elementRef=Zt}}return ne.\u0275fac=function(Zt){return new(Zt||ne)(J.Y36(J.SBq))},ne.\u0275dir=J.lG2({type:ne,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),ne})(),Vn=(()=>{class ne{constructor(Zt,Ut,xe,ue,Re){this._overlay=Zt,this._dir=Re,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=C.w0.EMPTY,this._attachSubscription=C.w0.EMPTY,this._detachSubscription=C.w0.EMPTY,this._positionSubscription=C.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new J.vpe,this.positionChange=new J.vpe,this.attach=new J.vpe,this.detach=new J.vpe,this.overlayKeydown=new J.vpe,this.overlayOutsideClick=new J.vpe,this._templatePortal=new S.UE(Ut,xe),this._scrollStrategyFactory=ue,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(Zt){this._offsetX=Zt,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(Zt){this._offsetY=Zt,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(Zt){this._hasBackdrop=(0,tt.Ig)(Zt)}get lockPosition(){return this._lockPosition}set lockPosition(Zt){this._lockPosition=(0,tt.Ig)(Zt)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(Zt){this._flexibleDimensions=(0,tt.Ig)(Zt)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(Zt){this._growAfterOpen=(0,tt.Ig)(Zt)}get push(){return this._push}set push(Zt){this._push=(0,tt.Ig)(Zt)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(Zt){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),Zt.origin&&this.open&&this._position.apply()),Zt.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=ci);const Zt=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=Zt.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=Zt.detachments().subscribe(()=>this.detach.emit()),Zt.keydownEvents().subscribe(Ut=>{this.overlayKeydown.next(Ut),Ut.keyCode===St.hY&&!this.disableClose&&!(0,St.Vb)(Ut)&&(Ut.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Ut=>{this.overlayOutsideClick.next(Ut)})}_buildConfig(){const Zt=this._position=this.positionStrategy||this._createPositionStrategy(),Ut=new zt({direction:this._dir,positionStrategy:Zt,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(Ut.width=this.width),(this.height||0===this.height)&&(Ut.height=this.height),(this.minWidth||0===this.minWidth)&&(Ut.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Ut.minHeight=this.minHeight),this.backdropClass&&(Ut.backdropClass=this.backdropClass),this.panelClass&&(Ut.panelClass=this.panelClass),Ut}_updatePositionStrategy(Zt){const Ut=this.positions.map(xe=>({originX:xe.originX,originY:xe.originY,overlayX:xe.overlayX,overlayY:xe.overlayY,offsetX:xe.offsetX||this.offsetX,offsetY:xe.offsetY||this.offsetY,panelClass:xe.panelClass||void 0}));return Zt.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(Ut).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const Zt=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(Zt),Zt}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof oi?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(Zt=>{this.backdropClick.emit(Zt)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(ne,Qt=!1){return(0,k.e)((Zt,Ut)=>{let xe=0;Zt.subscribe(new ft.Q(Ut,ue=>{const Re=ne(ue,xe++);(Re||Qt)&&Ut.next(ue),!Re&&Ut.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(Zt=>{this.positionChange.emit(Zt),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return ne.\u0275fac=function(Zt){return new(Zt||ne)(J.Y36(je),J.Y36(J.Rgc),J.Y36(J.s_b),J.Y36(Oe),J.Y36(w.Is,8))},ne.\u0275dir=J.lG2({type:ne,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[J.TTD]}),ne})();const De={provide:Oe,deps:[je],useFactory:function(ne){return()=>ne.scrollStrategies.reposition()}};let qe=(()=>{class ne{}return ne.\u0275fac=function(Zt){return new(Zt||ne)},ne.\u0275mod=J.oAB({type:ne}),ne.\u0275inj=J.cJS({providers:[je,De],imports:[[w.vT,S.eL,ct.Cl],ct.Cl]}),ne})()},928:(Ee,Q,ut)=>{"use strict";ut.d(Q,{t4:()=>tt,ud:()=>b,sA:()=>ot,ht:()=>it,kV:()=>U,Oy:()=>wt,_i:()=>z,qK:()=>rt,i$:()=>F,Mq:()=>X});var ct=ut(3668),f=ut(6019);let J;try{J="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(xt){J=!1}let W,tt=(()=>{class xt{constructor(Tt){this._platformId=Tt,this.isBrowser=this._platformId?(0,f.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!J)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return xt.\u0275fac=function(Tt){return new(Tt||xt)(ct.LFG(ct.Lbi))},xt.\u0275prov=ct.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"}),xt})(),b=(()=>{class xt{}return xt.\u0275fac=function(Tt){return new(Tt||xt)},xt.\u0275mod=ct.oAB({type:xt}),xt.\u0275inj=ct.cJS({}),xt})();const G=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function rt(){if(W)return W;if("object"!=typeof document||!document)return W=new Set(G),W;let xt=document.createElement("input");return W=new Set(G.filter(Ot=>(xt.setAttribute("type",Ot),xt.type===Ot))),W}let Z,et,B,Y,lt;function F(xt){return function(){if(null==Z&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Z=!0}))}finally{Z=Z||!1}return Z}()?xt:!!xt.capture}function X(){if(null==B){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return B=!1,B;if("scrollBehavior"in document.documentElement.style)B=!0;else{const xt=Element.prototype.scrollTo;B=!!xt&&!/\{\s*\[native code\]\s*\}/.test(xt.toString())}}return B}function z(){if("object"!=typeof document||!document)return 0;if(null==et){const xt=document.createElement("div"),Ot=xt.style;xt.dir="rtl",Ot.width="1px",Ot.overflow="auto",Ot.visibility="hidden",Ot.pointerEvents="none",Ot.position="absolute";const Tt=document.createElement("div"),Et=Tt.style;Et.width="2px",Et.height="1px",xt.appendChild(Tt),document.body.appendChild(xt),et=0,0===xt.scrollLeft&&(xt.scrollLeft=1,et=0===xt.scrollLeft?1:2),xt.remove()}return et}function U(xt){if(function(){if(null==Y){const xt="undefined"!=typeof document?document.head:null;Y=!(!xt||!xt.createShadowRoot&&!xt.attachShadow)}return Y}()){const Ot=xt.getRootNode?xt.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&Ot instanceof ShadowRoot)return Ot}return null}function it(){let xt="undefined"!=typeof document&&document?document.activeElement:null;for(;xt&&xt.shadowRoot;){const Ot=xt.shadowRoot.activeElement;if(Ot===xt)break;xt=Ot}return xt}function ot(xt){return xt.composedPath?xt.composedPath()[0]:xt.target}function wt(){return void 0!==lt.__karma__&&!!lt.__karma__||void 0!==lt.jasmine&&!!lt.jasmine||void 0!==lt.jest&&!!lt.jest||void 0!==lt.Mocha&&!!lt.Mocha}lt="undefined"!=typeof global?global:"undefined"!=typeof window?window:{}},5711:(Ee,Q,ut)=>{"use strict";ut.d(Q,{en:()=>B,Pl:()=>it,C5:()=>H,u0:()=>z,eL:()=>lt,UE:()=>F});var ct=ut(3668),f=ut(6019);class Z{attach(Ot){return this._attachedHost=Ot,Ot.attach(this)}detach(){let Ot=this._attachedHost;null!=Ot&&(this._attachedHost=null,Ot.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Ot){this._attachedHost=Ot}}class H extends Z{constructor(Ot,Tt,Et,A){super(),this.component=Ot,this.viewContainerRef=Tt,this.injector=Et,this.componentFactoryResolver=A}}class F extends Z{constructor(Ot,Tt,Et){super(),this.templateRef=Ot,this.viewContainerRef=Tt,this.context=Et}get origin(){return this.templateRef.elementRef}attach(Ot,Tt=this.context){return this.context=Tt,super.attach(Ot)}detach(){return this.context=void 0,super.detach()}}class et extends Z{constructor(Ot){super(),this.element=Ot instanceof ct.SBq?Ot.nativeElement:Ot}}class B{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Ot){return Ot instanceof H?(this._attachedPortal=Ot,this.attachComponentPortal(Ot)):Ot instanceof F?(this._attachedPortal=Ot,this.attachTemplatePortal(Ot)):this.attachDomPortal&&Ot instanceof et?(this._attachedPortal=Ot,this.attachDomPortal(Ot)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Ot){this._disposeFn=Ot}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class z extends B{constructor(Ot,Tt,Et,A,o){super(),this.outletElement=Ot,this._componentFactoryResolver=Tt,this._appRef=Et,this._defaultInjector=A,this.attachDomPortal=c=>{const g=c.element,p=this._document.createComment("dom-portal");g.parentNode.insertBefore(p,g),this.outletElement.appendChild(g),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(g,p)})},this._document=o}attachComponentPortal(Ot){const Et=(Ot.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Ot.component);let A;return Ot.viewContainerRef?(A=Ot.viewContainerRef.createComponent(Et,Ot.viewContainerRef.length,Ot.injector||Ot.viewContainerRef.injector),this.setDisposeFn(()=>A.destroy())):(A=Et.create(Ot.injector||this._defaultInjector),this._appRef.attachView(A.hostView),this.setDisposeFn(()=>{this._appRef.detachView(A.hostView),A.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(A)),this._attachedPortal=Ot,A}attachTemplatePortal(Ot){let Tt=Ot.viewContainerRef,Et=Tt.createEmbeddedView(Ot.templateRef,Ot.context);return Et.rootNodes.forEach(A=>this.outletElement.appendChild(A)),Et.detectChanges(),this.setDisposeFn(()=>{let A=Tt.indexOf(Et);-1!==A&&Tt.remove(A)}),this._attachedPortal=Ot,Et}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Ot){return Ot.hostView.rootNodes[0]}}let it=(()=>{class xt extends B{constructor(Tt,Et,A){super(),this._componentFactoryResolver=Tt,this._viewContainerRef=Et,this._isInitialized=!1,this.attached=new ct.vpe,this.attachDomPortal=o=>{const c=o.element,g=this._document.createComment("dom-portal");o.setAttachedHost(this),c.parentNode.insertBefore(g,c),this._getRootNode().appendChild(c),this._attachedPortal=o,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(c,g)})},this._document=A}get portal(){return this._attachedPortal}set portal(Tt){this.hasAttached()&&!Tt&&!this._isInitialized||(this.hasAttached()&&super.detach(),Tt&&super.attach(Tt),this._attachedPortal=Tt)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(Tt){Tt.setAttachedHost(this);const Et=null!=Tt.viewContainerRef?Tt.viewContainerRef:this._viewContainerRef,o=(Tt.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Tt.component),c=Et.createComponent(o,Et.length,Tt.injector||Et.injector);return Et!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=Tt,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(Tt){Tt.setAttachedHost(this);const Et=this._viewContainerRef.createEmbeddedView(Tt.templateRef,Tt.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Tt,this._attachedRef=Et,this.attached.emit(Et),Et}_getRootNode(){const Tt=this._viewContainerRef.element.nativeElement;return Tt.nodeType===Tt.ELEMENT_NODE?Tt:Tt.parentNode}}return xt.\u0275fac=function(Tt){return new(Tt||xt)(ct.Y36(ct._Vd),ct.Y36(ct.s_b),ct.Y36(f.K0))},xt.\u0275dir=ct.lG2({type:xt,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ct.qOj]}),xt})(),lt=(()=>{class xt{}return xt.\u0275fac=function(Tt){return new(Tt||xt)},xt.\u0275mod=ct.oAB({type:xt}),xt.\u0275inj=ct.cJS({}),xt})()},2127:(Ee,Q,ut)=>{"use strict";ut.d(Q,{PQ:()=>St,ZD:()=>Kt,mF:()=>Mt,Cl:()=>fe,rL:()=>te});var ct=ut(348),f=ut(3668),J=ut(2869),tt=ut(7908);const b={schedule(zt){let Ne=requestAnimationFrame,Pt=cancelAnimationFrame;const{delegate:Se}=b;Se&&(Ne=Se.requestAnimationFrame,Pt=Se.cancelAnimationFrame);const Fi=Ne(Ge=>{Pt=void 0,zt(Ge)});return new tt.w0(()=>null==Pt?void 0:Pt(Fi))},requestAnimationFrame(...zt){const{delegate:Ne}=b;return((null==Ne?void 0:Ne.requestAnimationFrame)||requestAnimationFrame)(...zt)},cancelAnimationFrame(...zt){const{delegate:Ne}=b;return((null==Ne?void 0:Ne.cancelAnimationFrame)||cancelAnimationFrame)(...zt)},delegate:void 0};var G=ut(8843);new class extends G.v{flush(Ne){this._active=!0,this._scheduled=void 0;const{actions:Pt}=this;let Se,Fi=-1;Ne=Ne||Pt.shift();const Ge=Pt.length;do{if(Se=Ne.execute(Ne.state,Ne.delay))break}while(++Fi<Ge&&(Ne=Pt.shift()));if(this._active=!1,Se){for(;++Fi<Ge&&(Ne=Pt.shift());)Ne.unsubscribe();throw Se}}}(class extends J.o{constructor(Ne,Pt){super(Ne,Pt),this.scheduler=Ne,this.work=Pt}requestAsyncId(Ne,Pt,Se=0){return null!==Se&&Se>0?super.requestAsyncId(Ne,Pt,Se):(Ne.actions.push(this),Ne._scheduled||(Ne._scheduled=b.requestAnimationFrame(()=>Ne.flush(void 0))))}recycleAsyncId(Ne,Pt,Se=0){if(null!=Se&&Se>0||null==Se&&this.delay>0)return super.recycleAsyncId(Ne,Pt,Se);0===Ne.actions.length&&(b.cancelAnimationFrame(Pt),Ne._scheduled=void 0)}});let et,F=1;const B={};function X(zt){return zt in B&&(delete B[zt],!0)}const z={setImmediate(zt){const Ne=F++;return B[Ne]=!0,et||(et=Promise.resolve()),et.then(()=>X(Ne)&&zt()),Ne},clearImmediate(zt){X(zt)}},{setImmediate:q,clearImmediate:U}=z,it={setImmediate(...zt){const{delegate:Ne}=it;return((null==Ne?void 0:Ne.setImmediate)||q)(...zt)},clearImmediate(zt){const{delegate:Ne}=it;return((null==Ne?void 0:Ne.clearImmediate)||U)(zt)},delegate:void 0};new class extends G.v{flush(Ne){this._active=!0,this._scheduled=void 0;const{actions:Pt}=this;let Se,Fi=-1;Ne=Ne||Pt.shift();const Ge=Pt.length;do{if(Se=Ne.execute(Ne.state,Ne.delay))break}while(++Fi<Ge&&(Ne=Pt.shift()));if(this._active=!1,Se){for(;++Fi<Ge&&(Ne=Pt.shift());)Ne.unsubscribe();throw Se}}}(class extends J.o{constructor(Ne,Pt){super(Ne,Pt),this.scheduler=Ne,this.work=Pt}requestAsyncId(Ne,Pt,Se=0){return null!==Se&&Se>0?super.requestAsyncId(Ne,Pt,Se):(Ne.actions.push(this),Ne._scheduled||(Ne._scheduled=it.setImmediate(Ne.flush.bind(Ne,void 0))))}recycleAsyncId(Ne,Pt,Se=0){if(null!=Se&&Se>0||null==Se&&this.delay>0)return super.recycleAsyncId(Ne,Pt,Se);0===Ne.actions.length&&(it.clearImmediate(Pt),Ne._scheduled=void 0)}});var Ot=ut(273),Tt=ut(2997),Et=ut(2047),A=ut(5077),o=ut(1472),c=ut(461),g=ut(6263),p=ut(928),w=ut(6019),S=ut(8290);let Mt=(()=>{class zt{constructor(Pt,Se,Fi){this._ngZone=Pt,this._platform=Se,this._scrolled=new Ot.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Fi}register(Pt){this.scrollContainers.has(Pt)||this.scrollContainers.set(Pt,Pt.elementScrolled().subscribe(()=>this._scrolled.next(Pt)))}deregister(Pt){const Se=this.scrollContainers.get(Pt);Se&&(Se.unsubscribe(),this.scrollContainers.delete(Pt))}scrolled(Pt=20){return this._platform.isBrowser?new Et.y(Se=>{this._globalSubscription||this._addGlobalListener();const Fi=Pt>0?this._scrolled.pipe((0,o.e)(Pt)).subscribe(Se):this._scrolled.subscribe(Se);return this._scrolledCount++,()=>{Fi.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Tt.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Pt,Se)=>this.deregister(Se)),this._scrolled.complete()}ancestorScrolled(Pt,Se){const Fi=this.getAncestorScrollContainers(Pt);return this.scrolled(Se).pipe((0,c.h)(Ge=>!Ge||Fi.indexOf(Ge)>-1))}getAncestorScrollContainers(Pt){const Se=[];return this.scrollContainers.forEach((Fi,Ge)=>{this._scrollableContainsElement(Ge,Pt)&&Se.push(Ge)}),Se}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Pt,Se){let Fi=(0,ct.fI)(Se),Ge=Pt.getElementRef().nativeElement;do{if(Fi==Ge)return!0}while(Fi=Fi.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Pt=this._getWindow();return(0,A.R)(Pt.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return zt.\u0275fac=function(Pt){return new(Pt||zt)(f.LFG(f.R0b),f.LFG(p.t4),f.LFG(w.K0,8))},zt.\u0275prov=f.Yz7({token:zt,factory:zt.\u0275fac,providedIn:"root"}),zt})(),St=(()=>{class zt{constructor(Pt,Se,Fi,Ge){this.elementRef=Pt,this.scrollDispatcher=Se,this.ngZone=Fi,this.dir=Ge,this._destroyed=new Ot.x,this._elementScrolled=new Et.y(_e=>this.ngZone.runOutsideAngular(()=>(0,A.R)(this.elementRef.nativeElement,"scroll").pipe((0,g.R)(this._destroyed)).subscribe(_e)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(Pt){const Se=this.elementRef.nativeElement,Fi=this.dir&&"rtl"==this.dir.value;null==Pt.left&&(Pt.left=Fi?Pt.end:Pt.start),null==Pt.right&&(Pt.right=Fi?Pt.start:Pt.end),null!=Pt.bottom&&(Pt.top=Se.scrollHeight-Se.clientHeight-Pt.bottom),Fi&&0!=(0,p._i)()?(null!=Pt.left&&(Pt.right=Se.scrollWidth-Se.clientWidth-Pt.left),2==(0,p._i)()?Pt.left=Pt.right:1==(0,p._i)()&&(Pt.left=Pt.right?-Pt.right:Pt.right)):null!=Pt.right&&(Pt.left=Se.scrollWidth-Se.clientWidth-Pt.right),this._applyScrollToOptions(Pt)}_applyScrollToOptions(Pt){const Se=this.elementRef.nativeElement;(0,p.Mq)()?Se.scrollTo(Pt):(null!=Pt.top&&(Se.scrollTop=Pt.top),null!=Pt.left&&(Se.scrollLeft=Pt.left))}measureScrollOffset(Pt){const Se="left",Ge=this.elementRef.nativeElement;if("top"==Pt)return Ge.scrollTop;if("bottom"==Pt)return Ge.scrollHeight-Ge.clientHeight-Ge.scrollTop;const _e=this.dir&&"rtl"==this.dir.value;return"start"==Pt?Pt=_e?"right":Se:"end"==Pt&&(Pt=_e?Se:"right"),_e&&2==(0,p._i)()?Pt==Se?Ge.scrollWidth-Ge.clientWidth-Ge.scrollLeft:Ge.scrollLeft:_e&&1==(0,p._i)()?Pt==Se?Ge.scrollLeft+Ge.scrollWidth-Ge.clientWidth:-Ge.scrollLeft:Pt==Se?Ge.scrollLeft:Ge.scrollWidth-Ge.clientWidth-Ge.scrollLeft}}return zt.\u0275fac=function(Pt){return new(Pt||zt)(f.Y36(f.SBq),f.Y36(Mt),f.Y36(f.R0b),f.Y36(S.Is,8))},zt.\u0275dir=f.lG2({type:zt,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),zt})(),te=(()=>{class zt{constructor(Pt,Se,Fi){this._platform=Pt,this._change=new Ot.x,this._changeListener=Ge=>{this._change.next(Ge)},this._document=Fi,Se.runOutsideAngular(()=>{if(Pt.isBrowser){const Ge=this._getWindow();Ge.addEventListener("resize",this._changeListener),Ge.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Pt=this._getWindow();Pt.removeEventListener("resize",this._changeListener),Pt.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Pt={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Pt}getViewportRect(){const Pt=this.getViewportScrollPosition(),{width:Se,height:Fi}=this.getViewportSize();return{top:Pt.top,left:Pt.left,bottom:Pt.top+Fi,right:Pt.left+Se,height:Fi,width:Se}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Pt=this._document,Se=this._getWindow(),Fi=Pt.documentElement,Ge=Fi.getBoundingClientRect();return{top:-Ge.top||Pt.body.scrollTop||Se.scrollY||Fi.scrollTop||0,left:-Ge.left||Pt.body.scrollLeft||Se.scrollX||Fi.scrollLeft||0}}change(Pt=20){return Pt>0?this._change.pipe((0,o.e)(Pt)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Pt=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Pt.innerWidth,height:Pt.innerHeight}:{width:0,height:0}}}return zt.\u0275fac=function(Pt){return new(Pt||zt)(f.LFG(p.t4),f.LFG(f.R0b),f.LFG(w.K0,8))},zt.\u0275prov=f.Yz7({token:zt,factory:zt.\u0275fac,providedIn:"root"}),zt})(),Kt=(()=>{class zt{}return zt.\u0275fac=function(Pt){return new(Pt||zt)},zt.\u0275mod=f.oAB({type:zt}),zt.\u0275inj=f.cJS({}),zt})(),fe=(()=>{class zt{}return zt.\u0275fac=function(Pt){return new(Pt||zt)},zt.\u0275mod=f.oAB({type:zt}),zt.\u0275inj=f.cJS({imports:[[S.vT,p.ud,Kt],S.vT,Kt]}),zt})()},6019:(Ee,Q,ut)=>{"use strict";ut.d(Q,{mr:()=>it,Ov:()=>ia,ez:()=>ml,K0:()=>G,uU:()=>ko,Do:()=>lt,V_:()=>H,Ye:()=>wt,S$:()=>q,mk:()=>Vr,sg:()=>Vs,O5:()=>Zo,PC:()=>zs,RF:()=>as,n9:()=>wa,ED:()=>Ho,b0:()=>ot,lw:()=>rt,EM:()=>qi,JF:()=>lr,NF:()=>be,w_:()=>W,bD:()=>gl,q:()=>J,Mx:()=>so,HT:()=>b});var ct=ut(3668);let f=null;function J(){return f}function b(ie){f||(f=ie)}class W{}const G=new ct.OlP("DocumentToken");let rt=(()=>{class ie{historyGo(me){throw new Error("Not implemented")}}return ie.\u0275fac=function(me){return new(me||ie)},ie.\u0275prov=ct.Yz7({token:ie,factory:function(){return(0,ct.LFG)(F)},providedIn:"platform"}),ie})();const H=new ct.OlP("Location Initialized");let F=(()=>{class ie extends rt{constructor(me){super(),this._doc=me,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return J().getBaseHref(this._doc)}onPopState(me){const Ve=J().getGlobalEventTarget(this._doc,"window");return Ve.addEventListener("popstate",me,!1),()=>Ve.removeEventListener("popstate",me)}onHashChange(me){const Ve=J().getGlobalEventTarget(this._doc,"window");return Ve.addEventListener("hashchange",me,!1),()=>Ve.removeEventListener("hashchange",me)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(me){this.location.pathname=me}pushState(me,Ve,vi){et()?this._history.pushState(me,Ve,vi):this.location.hash=vi}replaceState(me,Ve,vi){et()?this._history.replaceState(me,Ve,vi):this.location.hash=vi}forward(){this._history.forward()}back(){this._history.back()}historyGo(me=0){this._history.go(me)}getState(){return this._history.state}}return ie.\u0275fac=function(me){return new(me||ie)(ct.LFG(G))},ie.\u0275prov=ct.Yz7({token:ie,factory:function(){return new F((0,ct.LFG)(G))},providedIn:"platform"}),ie})();function et(){return!!window.history.pushState}function X(ie,Le){if(0==ie.length)return Le;if(0==Le.length)return ie;let me=0;return ie.endsWith("/")&&me++,Le.startsWith("/")&&me++,2==me?ie+Le.substring(1):1==me?ie+Le:ie+"/"+Le}function z(ie){const Le=ie.match(/#|\?|$/),me=Le&&Le.index||ie.length;return ie.slice(0,me-("/"===ie[me-1]?1:0))+ie.slice(me)}function Y(ie){return ie&&"?"!==ie[0]?"?"+ie:ie}let q=(()=>{class ie{historyGo(me){throw new Error("Not implemented")}}return ie.\u0275fac=function(me){return new(me||ie)},ie.\u0275prov=ct.Yz7({token:ie,factory:function(){return function(ie){const Le=(0,ct.LFG)(G).location;return new ot((0,ct.LFG)(rt),Le&&Le.origin||"")}()},providedIn:"root"}),ie})();const it=new ct.OlP("appBaseHref");let ot=(()=>{class ie extends q{constructor(me,Ve){if(super(),this._platformLocation=me,this._removeListenerFns=[],null==Ve&&(Ve=this._platformLocation.getBaseHrefFromDOM()),null==Ve)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Ve}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(me){this._removeListenerFns.push(this._platformLocation.onPopState(me),this._platformLocation.onHashChange(me))}getBaseHref(){return this._baseHref}prepareExternalUrl(me){return X(this._baseHref,me)}path(me=!1){const Ve=this._platformLocation.pathname+Y(this._platformLocation.search),vi=this._platformLocation.hash;return vi&&me?`${Ve}${vi}`:Ve}pushState(me,Ve,vi,yi){const An=this.prepareExternalUrl(vi+Y(yi));this._platformLocation.pushState(me,Ve,An)}replaceState(me,Ve,vi,yi){const An=this.prepareExternalUrl(vi+Y(yi));this._platformLocation.replaceState(me,Ve,An)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(me=0){var Ve,vi;null==(vi=(Ve=this._platformLocation).historyGo)||vi.call(Ve,me)}}return ie.\u0275fac=function(me){return new(me||ie)(ct.LFG(rt),ct.LFG(it,8))},ie.\u0275prov=ct.Yz7({token:ie,factory:ie.\u0275fac}),ie})(),lt=(()=>{class ie extends q{constructor(me,Ve){super(),this._platformLocation=me,this._baseHref="",this._removeListenerFns=[],null!=Ve&&(this._baseHref=Ve)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(me){this._removeListenerFns.push(this._platformLocation.onPopState(me),this._platformLocation.onHashChange(me))}getBaseHref(){return this._baseHref}path(me=!1){let Ve=this._platformLocation.hash;return null==Ve&&(Ve="#"),Ve.length>0?Ve.substring(1):Ve}prepareExternalUrl(me){const Ve=X(this._baseHref,me);return Ve.length>0?"#"+Ve:Ve}pushState(me,Ve,vi,yi){let An=this.prepareExternalUrl(vi+Y(yi));0==An.length&&(An=this._platformLocation.pathname),this._platformLocation.pushState(me,Ve,An)}replaceState(me,Ve,vi,yi){let An=this.prepareExternalUrl(vi+Y(yi));0==An.length&&(An=this._platformLocation.pathname),this._platformLocation.replaceState(me,Ve,An)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(me=0){var Ve,vi;null==(vi=(Ve=this._platformLocation).historyGo)||vi.call(Ve,me)}}return ie.\u0275fac=function(me){return new(me||ie)(ct.LFG(rt),ct.LFG(it,8))},ie.\u0275prov=ct.Yz7({token:ie,factory:ie.\u0275fac}),ie})(),wt=(()=>{class ie{constructor(me,Ve){this._subject=new ct.vpe,this._urlChangeListeners=[],this._platformStrategy=me;const vi=this._platformStrategy.getBaseHref();this._platformLocation=Ve,this._baseHref=z(Tt(vi)),this._platformStrategy.onPopState(yi=>{this._subject.emit({url:this.path(!0),pop:!0,state:yi.state,type:yi.type})})}path(me=!1){return this.normalize(this._platformStrategy.path(me))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(me,Ve=""){return this.path()==this.normalize(me+Y(Ve))}normalize(me){return ie.stripTrailingSlash(function(ie,Le){return ie&&Le.startsWith(ie)?Le.substring(ie.length):Le}(this._baseHref,Tt(me)))}prepareExternalUrl(me){return me&&"/"!==me[0]&&(me="/"+me),this._platformStrategy.prepareExternalUrl(me)}go(me,Ve="",vi=null){this._platformStrategy.pushState(vi,"",me,Ve),this._notifyUrlChangeListeners(this.prepareExternalUrl(me+Y(Ve)),vi)}replaceState(me,Ve="",vi=null){this._platformStrategy.replaceState(vi,"",me,Ve),this._notifyUrlChangeListeners(this.prepareExternalUrl(me+Y(Ve)),vi)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(me=0){var Ve,vi;null==(vi=(Ve=this._platformStrategy).historyGo)||vi.call(Ve,me)}onUrlChange(me){this._urlChangeListeners.push(me),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Ve=>{this._notifyUrlChangeListeners(Ve.url,Ve.state)}))}_notifyUrlChangeListeners(me="",Ve){this._urlChangeListeners.forEach(vi=>vi(me,Ve))}subscribe(me,Ve,vi){return this._subject.subscribe({next:me,error:Ve,complete:vi})}}return ie.normalizeQueryParams=Y,ie.joinWithSlash=X,ie.stripTrailingSlash=z,ie.\u0275fac=function(me){return new(me||ie)(ct.LFG(q),ct.LFG(rt))},ie.\u0275prov=ct.Yz7({token:ie,factory:function(){return new wt((0,ct.LFG)(q),(0,ct.LFG)(rt))},providedIn:"root"}),ie})();function Tt(ie){return ie.replace(/\/index.html$/,"")}var o=(()=>((o=o||{})[o.Zero=0]="Zero",o[o.One=1]="One",o[o.Two=2]="Two",o[o.Few=3]="Few",o[o.Many=4]="Many",o[o.Other=5]="Other",o))(),c=(()=>((c=c||{})[c.Format=0]="Format",c[c.Standalone=1]="Standalone",c))(),g=(()=>((g=g||{})[g.Narrow=0]="Narrow",g[g.Abbreviated=1]="Abbreviated",g[g.Wide=2]="Wide",g[g.Short=3]="Short",g))(),p=(()=>((p=p||{})[p.Short=0]="Short",p[p.Medium=1]="Medium",p[p.Long=2]="Long",p[p.Full=3]="Full",p))(),w=(()=>((w=w||{})[w.Decimal=0]="Decimal",w[w.Group=1]="Group",w[w.List=2]="List",w[w.PercentSign=3]="PercentSign",w[w.PlusSign=4]="PlusSign",w[w.MinusSign=5]="MinusSign",w[w.Exponential=6]="Exponential",w[w.SuperscriptingExponent=7]="SuperscriptingExponent",w[w.PerMille=8]="PerMille",w[w.Infinity=9]="Infinity",w[w.NaN=10]="NaN",w[w.TimeSeparator=11]="TimeSeparator",w[w.CurrencyDecimal=12]="CurrencyDecimal",w[w.CurrencyGroup=13]="CurrencyGroup",w))();function Mt(ie,Le){return Se((0,ct.cg1)(ie)[ct.wAp.DateFormat],Le)}function St(ie,Le){return Se((0,ct.cg1)(ie)[ct.wAp.TimeFormat],Le)}function Xt(ie,Le){return Se((0,ct.cg1)(ie)[ct.wAp.DateTimeFormat],Le)}function te(ie,Le){const me=(0,ct.cg1)(ie),Ve=me[ct.wAp.NumberSymbols][Le];if(void 0===Ve){if(Le===w.CurrencyDecimal)return me[ct.wAp.NumberSymbols][w.Decimal];if(Le===w.CurrencyGroup)return me[ct.wAp.NumberSymbols][w.Group]}return Ve}const Kt=ct.kL8;function fe(ie){if(!ie[ct.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${ie[ct.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Se(ie,Le){for(let me=Le;me>-1;me--)if(void 0!==ie[me])return ie[me];throw new Error("Locale data API: locale data undefined")}function Fi(ie){const[Le,me]=ie.split(":");return{hours:+Le,minutes:+me}}const Bt=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,re={},Ye=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var jt=(()=>((jt=jt||{})[jt.Short=0]="Short",jt[jt.ShortGMT=1]="ShortGMT",jt[jt.Long=2]="Long",jt[jt.Extended=3]="Extended",jt))(),yt=(()=>((yt=yt||{})[yt.FullYear=0]="FullYear",yt[yt.Month=1]="Month",yt[yt.Date=2]="Date",yt[yt.Hours=3]="Hours",yt[yt.Minutes=4]="Minutes",yt[yt.Seconds=5]="Seconds",yt[yt.FractionalSeconds=6]="FractionalSeconds",yt[yt.Day=7]="Day",yt))(),ht=(()=>((ht=ht||{})[ht.DayPeriods=0]="DayPeriods",ht[ht.Days=1]="Days",ht[ht.Months=2]="Months",ht[ht.Eras=3]="Eras",ht))();function ce(ie,Le,me,Ve){let vi=function(ie){if(he(ie))return ie;if("number"==typeof ie&&!isNaN(ie))return new Date(ie);if("string"==typeof ie){if(ie=ie.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(ie)){const[vi,yi=1,An=1]=ie.split("-").map(On=>+On);return ke(vi,yi-1,An)}const me=parseFloat(ie);if(!isNaN(ie-me))return new Date(me);let Ve;if(Ve=ie.match(Bt))return function(ie){const Le=new Date(0);let me=0,Ve=0;const vi=ie[8]?Le.setUTCFullYear:Le.setFullYear,yi=ie[8]?Le.setUTCHours:Le.setHours;ie[9]&&(me=Number(ie[9]+ie[10]),Ve=Number(ie[9]+ie[11])),vi.call(Le,Number(ie[1]),Number(ie[2])-1,Number(ie[3]));const An=Number(ie[4]||0)-me,On=Number(ie[5]||0)-Ve,Cr=Number(ie[6]||0),rn=Math.floor(1e3*parseFloat("0."+(ie[7]||0)));return yi.call(Le,An,On,Cr,rn),Le}(Ve)}const Le=new Date(ie);if(!he(Le))throw new Error(`Unable to convert "${ie}" into a date`);return Le}(ie);Le=Pi(me,Le)||Le;let On,An=[];for(;Le;){if(On=Ye.exec(Le),!On){An.push(Le);break}{An=An.concat(On.slice(1));const gn=An.pop();if(!gn)break;Le=gn}}let Cr=vi.getTimezoneOffset();Ve&&(Cr=Ut(Ve,Cr),vi=function(ie,Le,me){const vi=ie.getTimezoneOffset();return function(ie,Le){return(ie=new Date(ie.getTime())).setMinutes(ie.getMinutes()+Le),ie}(ie,-1*(Ut(Le,vi)-vi))}(vi,Ve));let rn="";return An.forEach(gn=>{const wn=function(ie){if(Qt[ie])return Qt[ie];let Le;switch(ie){case"G":case"GG":case"GGG":Le=ci(ht.Eras,g.Abbreviated);break;case"GGGG":Le=ci(ht.Eras,g.Wide);break;case"GGGGG":Le=ci(ht.Eras,g.Narrow);break;case"y":Le=wi(yt.FullYear,1,0,!1,!0);break;case"yy":Le=wi(yt.FullYear,2,0,!0,!0);break;case"yyy":Le=wi(yt.FullYear,3,0,!1,!0);break;case"yyyy":Le=wi(yt.FullYear,4,0,!1,!0);break;case"Y":Le=ne(1);break;case"YY":Le=ne(2,!0);break;case"YYY":Le=ne(3);break;case"YYYY":Le=ne(4);break;case"M":case"L":Le=wi(yt.Month,1,1);break;case"MM":case"LL":Le=wi(yt.Month,2,1);break;case"MMM":Le=ci(ht.Months,g.Abbreviated);break;case"MMMM":Le=ci(ht.Months,g.Wide);break;case"MMMMM":Le=ci(ht.Months,g.Narrow);break;case"LLL":Le=ci(ht.Months,g.Abbreviated,c.Standalone);break;case"LLLL":Le=ci(ht.Months,g.Wide,c.Standalone);break;case"LLLLL":Le=ci(ht.Months,g.Narrow,c.Standalone);break;case"w":Le=ni(1);break;case"ww":Le=ni(2);break;case"W":Le=ni(1,!0);break;case"d":Le=wi(yt.Date,1);break;case"dd":Le=wi(yt.Date,2);break;case"c":case"cc":Le=wi(yt.Day,1);break;case"ccc":Le=ci(ht.Days,g.Abbreviated,c.Standalone);break;case"cccc":Le=ci(ht.Days,g.Wide,c.Standalone);break;case"ccccc":Le=ci(ht.Days,g.Narrow,c.Standalone);break;case"cccccc":Le=ci(ht.Days,g.Short,c.Standalone);break;case"E":case"EE":case"EEE":Le=ci(ht.Days,g.Abbreviated);break;case"EEEE":Le=ci(ht.Days,g.Wide);break;case"EEEEE":Le=ci(ht.Days,g.Narrow);break;case"EEEEEE":Le=ci(ht.Days,g.Short);break;case"a":case"aa":case"aaa":Le=ci(ht.DayPeriods,g.Abbreviated);break;case"aaaa":Le=ci(ht.DayPeriods,g.Wide);break;case"aaaaa":Le=ci(ht.DayPeriods,g.Narrow);break;case"b":case"bb":case"bbb":Le=ci(ht.DayPeriods,g.Abbreviated,c.Standalone,!0);break;case"bbbb":Le=ci(ht.DayPeriods,g.Wide,c.Standalone,!0);break;case"bbbbb":Le=ci(ht.DayPeriods,g.Narrow,c.Standalone,!0);break;case"B":case"BB":case"BBB":Le=ci(ht.DayPeriods,g.Abbreviated,c.Format,!0);break;case"BBBB":Le=ci(ht.DayPeriods,g.Wide,c.Format,!0);break;case"BBBBB":Le=ci(ht.DayPeriods,g.Narrow,c.Format,!0);break;case"h":Le=wi(yt.Hours,1,-12);break;case"hh":Le=wi(yt.Hours,2,-12);break;case"H":Le=wi(yt.Hours,1);break;case"HH":Le=wi(yt.Hours,2);break;case"m":Le=wi(yt.Minutes,1);break;case"mm":Le=wi(yt.Minutes,2);break;case"s":Le=wi(yt.Seconds,1);break;case"ss":Le=wi(yt.Seconds,2);break;case"S":Le=wi(yt.FractionalSeconds,1);break;case"SS":Le=wi(yt.FractionalSeconds,2);break;case"SSS":Le=wi(yt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Le=oi(jt.Short);break;case"ZZZZZ":Le=oi(jt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Le=oi(jt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Le=oi(jt.Long);break;default:return null}return Qt[ie]=Le,Le}(gn);rn+=wn?wn(vi,me,Cr):"''"===gn?"'":gn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),rn}function ke(ie,Le,me){const Ve=new Date(0);return Ve.setFullYear(ie,Le,me),Ve.setHours(0,0,0),Ve}function Pi(ie,Le){const me=function(ie){return(0,ct.cg1)(ie)[ct.wAp.LocaleId]}(ie);if(re[me]=re[me]||{},re[me][Le])return re[me][Le];let Ve="";switch(Le){case"shortDate":Ve=Mt(ie,p.Short);break;case"mediumDate":Ve=Mt(ie,p.Medium);break;case"longDate":Ve=Mt(ie,p.Long);break;case"fullDate":Ve=Mt(ie,p.Full);break;case"shortTime":Ve=St(ie,p.Short);break;case"mediumTime":Ve=St(ie,p.Medium);break;case"longTime":Ve=St(ie,p.Long);break;case"fullTime":Ve=St(ie,p.Full);break;case"short":const vi=Pi(ie,"shortTime"),yi=Pi(ie,"shortDate");Ve=We(Xt(ie,p.Short),[vi,yi]);break;case"medium":const An=Pi(ie,"mediumTime"),On=Pi(ie,"mediumDate");Ve=We(Xt(ie,p.Medium),[An,On]);break;case"long":const Cr=Pi(ie,"longTime"),rn=Pi(ie,"longDate");Ve=We(Xt(ie,p.Long),[Cr,rn]);break;case"full":const gn=Pi(ie,"fullTime"),wn=Pi(ie,"fullDate");Ve=We(Xt(ie,p.Full),[gn,wn])}return Ve&&(re[me][Le]=Ve),Ve}function We(ie,Le){return Le&&(ie=ie.replace(/\{([^}]+)}/g,function(me,Ve){return null!=Le&&Ve in Le?Le[Ve]:me})),ie}function si(ie,Le,me="-",Ve,vi){let yi="";(ie<0||vi&&ie<=0)&&(vi?ie=1-ie:(ie=-ie,yi=me));let An=String(ie);for(;An.length<Le;)An="0"+An;return Ve&&(An=An.substr(An.length-Le)),yi+An}function wi(ie,Le,me=0,Ve=!1,vi=!1){return function(yi,An){let On=function(ie,Le){switch(ie){case yt.FullYear:return Le.getFullYear();case yt.Month:return Le.getMonth();case yt.Date:return Le.getDate();case yt.Hours:return Le.getHours();case yt.Minutes:return Le.getMinutes();case yt.Seconds:return Le.getSeconds();case yt.FractionalSeconds:return Le.getMilliseconds();case yt.Day:return Le.getDay();default:throw new Error(`Unknown DateType value "${ie}".`)}}(ie,yi);if((me>0||On>-me)&&(On+=me),ie===yt.Hours)0===On&&-12===me&&(On=12);else if(ie===yt.FractionalSeconds)return function(ie,Le){return si(ie,3).substr(0,Le)}(On,Le);const Cr=te(An,w.MinusSign);return si(On,Le,Cr,Ve,vi)}}function ci(ie,Le,me=c.Format,Ve=!1){return function(vi,yi){return function(ie,Le,me,Ve,vi,yi){switch(me){case ht.Months:return function(ie,Le,me){const Ve=(0,ct.cg1)(ie),yi=Se([Ve[ct.wAp.MonthsFormat],Ve[ct.wAp.MonthsStandalone]],Le);return Se(yi,me)}(Le,vi,Ve)[ie.getMonth()];case ht.Days:return function(ie,Le,me){const Ve=(0,ct.cg1)(ie),yi=Se([Ve[ct.wAp.DaysFormat],Ve[ct.wAp.DaysStandalone]],Le);return Se(yi,me)}(Le,vi,Ve)[ie.getDay()];case ht.DayPeriods:const An=ie.getHours(),On=ie.getMinutes();if(yi){const rn=function(ie){const Le=(0,ct.cg1)(ie);return fe(Le),(Le[ct.wAp.ExtraData][2]||[]).map(Ve=>"string"==typeof Ve?Fi(Ve):[Fi(Ve[0]),Fi(Ve[1])])}(Le),gn=function(ie,Le,me){const Ve=(0,ct.cg1)(ie);fe(Ve);const yi=Se([Ve[ct.wAp.ExtraData][0],Ve[ct.wAp.ExtraData][1]],Le)||[];return Se(yi,me)||[]}(Le,vi,Ve),wn=rn.findIndex(Mn=>{if(Array.isArray(Mn)){const[vr,Qo]=Mn,zn=An>=vr.hours&&On>=vr.minutes,Ls=An<Qo.hours||An===Qo.hours&&On<Qo.minutes;if(vr.hours<Qo.hours){if(zn&&Ls)return!0}else if(zn||Ls)return!0}else if(Mn.hours===An&&Mn.minutes===On)return!0;return!1});if(-1!==wn)return gn[wn]}return function(ie,Le,me){const Ve=(0,ct.cg1)(ie),yi=Se([Ve[ct.wAp.DayPeriodsFormat],Ve[ct.wAp.DayPeriodsStandalone]],Le);return Se(yi,me)}(Le,vi,Ve)[An<12?0:1];case ht.Eras:return function(ie,Le){return Se((0,ct.cg1)(ie)[ct.wAp.Eras],Le)}(Le,Ve)[ie.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${me}`)}}(vi,yi,ie,Le,me,Ve)}}function oi(ie){return function(Le,me,Ve){const vi=-1*Ve,yi=te(me,w.MinusSign),An=vi>0?Math.floor(vi/60):Math.ceil(vi/60);switch(ie){case jt.Short:return(vi>=0?"+":"")+si(An,2,yi)+si(Math.abs(vi%60),2,yi);case jt.ShortGMT:return"GMT"+(vi>=0?"+":"")+si(An,1,yi);case jt.Long:return"GMT"+(vi>=0?"+":"")+si(An,2,yi)+":"+si(Math.abs(vi%60),2,yi);case jt.Extended:return 0===Ve?"Z":(vi>=0?"+":"")+si(An,2,yi)+":"+si(Math.abs(vi%60),2,yi);default:throw new Error(`Unknown zone width "${ie}"`)}}}function qe(ie){return ke(ie.getFullYear(),ie.getMonth(),ie.getDate()+(4-ie.getDay()))}function ni(ie,Le=!1){return function(me,Ve){let vi;if(Le){const yi=new Date(me.getFullYear(),me.getMonth(),1).getDay()-1,An=me.getDate();vi=1+Math.floor((An+yi)/7)}else{const yi=qe(me),An=function(ie){const Le=ke(ie,0,1).getDay();return ke(ie,0,1+(Le<=4?4:11)-Le)}(yi.getFullYear()),On=yi.getTime()-An.getTime();vi=1+Math.round(On/6048e5)}return si(vi,ie,te(Ve,w.MinusSign))}}function ne(ie,Le=!1){return function(me,Ve){return si(qe(me).getFullYear(),ie,te(Ve,w.MinusSign),Le)}}const Qt={};function Ut(ie,Le){ie=ie.replace(/:/g,"");const me=Date.parse("Jan 01, 1970 00:00:00 "+ie)/6e4;return isNaN(me)?Le:me}function he(ie){return ie instanceof Date&&!isNaN(ie.valueOf())}class Ar{}let xr=(()=>{class ie extends Ar{constructor(me){super(),this.locale=me}getPluralCategory(me,Ve){switch(Kt(Ve||this.locale)(me)){case o.Zero:return"zero";case o.One:return"one";case o.Two:return"two";case o.Few:return"few";case o.Many:return"many";default:return"other"}}}return ie.\u0275fac=function(me){return new(me||ie)(ct.LFG(ct.soG))},ie.\u0275prov=ct.Yz7({token:ie,factory:ie.\u0275fac}),ie})();function so(ie,Le){Le=encodeURIComponent(Le);for(const me of ie.split(";")){const Ve=me.indexOf("="),[vi,yi]=-1==Ve?[me,""]:[me.slice(0,Ve),me.slice(Ve+1)];if(vi.trim()===Le)return decodeURIComponent(yi)}return null}let Vr=(()=>{class ie{constructor(me,Ve,vi,yi){this._iterableDiffers=me,this._keyValueDiffers=Ve,this._ngEl=vi,this._renderer=yi,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(me){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof me?me.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(me){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof me?me.split(/\s+/):me,this._rawClass&&((0,ct.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const me=this._iterableDiffer.diff(this._rawClass);me&&this._applyIterableChanges(me)}else if(this._keyValueDiffer){const me=this._keyValueDiffer.diff(this._rawClass);me&&this._applyKeyValueChanges(me)}}_applyKeyValueChanges(me){me.forEachAddedItem(Ve=>this._toggleClass(Ve.key,Ve.currentValue)),me.forEachChangedItem(Ve=>this._toggleClass(Ve.key,Ve.currentValue)),me.forEachRemovedItem(Ve=>{Ve.previousValue&&this._toggleClass(Ve.key,!1)})}_applyIterableChanges(me){me.forEachAddedItem(Ve=>{if("string"!=typeof Ve.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,ct.AaK)(Ve.item)}`);this._toggleClass(Ve.item,!0)}),me.forEachRemovedItem(Ve=>this._toggleClass(Ve.item,!1))}_applyClasses(me){me&&(Array.isArray(me)||me instanceof Set?me.forEach(Ve=>this._toggleClass(Ve,!0)):Object.keys(me).forEach(Ve=>this._toggleClass(Ve,!!me[Ve])))}_removeClasses(me){me&&(Array.isArray(me)||me instanceof Set?me.forEach(Ve=>this._toggleClass(Ve,!1)):Object.keys(me).forEach(Ve=>this._toggleClass(Ve,!1)))}_toggleClass(me,Ve){(me=me.trim())&&me.split(/\s+/g).forEach(vi=>{Ve?this._renderer.addClass(this._ngEl.nativeElement,vi):this._renderer.removeClass(this._ngEl.nativeElement,vi)})}}return ie.\u0275fac=function(me){return new(me||ie)(ct.Y36(ct.ZZ4),ct.Y36(ct.aQg),ct.Y36(ct.SBq),ct.Y36(ct.Qsj))},ie.\u0275dir=ct.lG2({type:ie,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),ie})();class ar{constructor(Le,me,Ve,vi){this.$implicit=Le,this.ngForOf=me,this.index=Ve,this.count=vi}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vs=(()=>{class ie{constructor(me,Ve,vi){this._viewContainer=me,this._template=Ve,this._differs=vi,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(me){this._ngForOf=me,this._ngForOfDirty=!0}set ngForTrackBy(me){this._trackByFn=me}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(me){me&&(this._template=me)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const me=this._ngForOf;if(!this._differ&&me)try{this._differ=this._differs.find(me).create(this.ngForTrackBy)}catch(Ve){throw new Error(`Cannot find a differ supporting object '${me}' of type '${function(ie){return ie.name||typeof ie}(me)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const me=this._differ.diff(this._ngForOf);me&&this._applyChanges(me)}}_applyChanges(me){const Ve=[];me.forEachOperation((vi,yi,An)=>{if(null==vi.previousIndex){const On=this._viewContainer.createEmbeddedView(this._template,new ar(null,this._ngForOf,-1,-1),null===An?void 0:An),Cr=new qs(vi,On);Ve.push(Cr)}else if(null==An)this._viewContainer.remove(null===yi?void 0:yi);else if(null!==yi){const On=this._viewContainer.get(yi);this._viewContainer.move(On,An);const Cr=new qs(vi,On);Ve.push(Cr)}});for(let vi=0;vi<Ve.length;vi++)this._perViewChange(Ve[vi].view,Ve[vi].record);for(let vi=0,yi=this._viewContainer.length;vi<yi;vi++){const An=this._viewContainer.get(vi);An.context.index=vi,An.context.count=yi,An.context.ngForOf=this._ngForOf}me.forEachIdentityChange(vi=>{this._viewContainer.get(vi.currentIndex).context.$implicit=vi.item})}_perViewChange(me,Ve){me.context.$implicit=Ve.item}static ngTemplateContextGuard(me,Ve){return!0}}return ie.\u0275fac=function(me){return new(me||ie)(ct.Y36(ct.s_b),ct.Y36(ct.Rgc),ct.Y36(ct.ZZ4))},ie.\u0275dir=ct.lG2({type:ie,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),ie})();class qs{constructor(Le,me){this.record=Le,this.view=me}}let Zo=(()=>{class ie{constructor(me,Ve){this._viewContainer=me,this._context=new ds,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Ve}set ngIf(me){this._context.$implicit=this._context.ngIf=me,this._updateView()}set ngIfThen(me){Gr("ngIfThen",me),this._thenTemplateRef=me,this._thenViewRef=null,this._updateView()}set ngIfElse(me){Gr("ngIfElse",me),this._elseTemplateRef=me,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(me,Ve){return!0}}return ie.\u0275fac=function(me){return new(me||ie)(ct.Y36(ct.s_b),ct.Y36(ct.Rgc))},ie.\u0275dir=ct.lG2({type:ie,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),ie})();class ds{constructor(){this.$implicit=null,this.ngIf=null}}function Gr(ie,Le){if(Le&&!Le.createEmbeddedView)throw new Error(`${ie} must be a TemplateRef, but received '${(0,ct.AaK)(Le)}'.`)}class qo{constructor(Le,me){this._viewContainerRef=Le,this._templateRef=me,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Le){Le&&!this._created?this.create():!Le&&this._created&&this.destroy()}}let as=(()=>{class ie{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(me){this._ngSwitch=me,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(me){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(me)}_matchCase(me){const Ve=me==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Ve,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Ve}_updateDefaultCases(me){if(this._defaultViews&&me!==this._defaultUsed){this._defaultUsed=me;for(let Ve=0;Ve<this._defaultViews.length;Ve++)this._defaultViews[Ve].enforceState(me)}}}return ie.\u0275fac=function(me){return new(me||ie)},ie.\u0275dir=ct.lG2({type:ie,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),ie})(),wa=(()=>{class ie{constructor(me,Ve,vi){this.ngSwitch=vi,vi._addCase(),this._view=new qo(me,Ve)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return ie.\u0275fac=function(me){return new(me||ie)(ct.Y36(ct.s_b),ct.Y36(ct.Rgc),ct.Y36(as,9))},ie.\u0275dir=ct.lG2({type:ie,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),ie})(),Ho=(()=>{class ie{constructor(me,Ve,vi){vi._addDefault(new qo(me,Ve))}}return ie.\u0275fac=function(me){return new(me||ie)(ct.Y36(ct.s_b),ct.Y36(ct.Rgc),ct.Y36(as,9))},ie.\u0275dir=ct.lG2({type:ie,selectors:[["","ngSwitchDefault",""]]}),ie})(),zs=(()=>{class ie{constructor(me,Ve,vi){this._ngEl=me,this._differs=Ve,this._renderer=vi,this._ngStyle=null,this._differ=null}set ngStyle(me){this._ngStyle=me,!this._differ&&me&&(this._differ=this._differs.find(me).create())}ngDoCheck(){if(this._differ){const me=this._differ.diff(this._ngStyle);me&&this._applyChanges(me)}}_setStyle(me,Ve){const[vi,yi]=me.split(".");null!=(Ve=null!=Ve&&yi?`${Ve}${yi}`:Ve)?this._renderer.setStyle(this._ngEl.nativeElement,vi,Ve):this._renderer.removeStyle(this._ngEl.nativeElement,vi)}_applyChanges(me){me.forEachRemovedItem(Ve=>this._setStyle(Ve.key,null)),me.forEachAddedItem(Ve=>this._setStyle(Ve.key,Ve.currentValue)),me.forEachChangedItem(Ve=>this._setStyle(Ve.key,Ve.currentValue))}}return ie.\u0275fac=function(me){return new(me||ie)(ct.Y36(ct.SBq),ct.Y36(ct.aQg),ct.Y36(ct.Qsj))},ie.\u0275dir=ct.lG2({type:ie,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),ie})();function ks(ie,Le){return Error(`InvalidPipeArgument: '${Le}' for pipe '${(0,ct.AaK)(ie)}'`)}class Xl{createSubscription(Le,me){return Le.subscribe({next:me,error:Ve=>{throw Ve}})}dispose(Le){Le.unsubscribe()}onDestroy(Le){Le.unsubscribe()}}class Tl{createSubscription(Le,me){return Le.then(me,Ve=>{throw Ve})}dispose(Le){}onDestroy(Le){}}const us=new Tl,Pl=new Xl;let ia=(()=>{class ie{constructor(me){this._ref=me,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(me){return this._obj?me!==this._obj?(this._dispose(),this.transform(me)):this._latestValue:(me&&this._subscribe(me),this._latestValue)}_subscribe(me){this._obj=me,this._strategy=this._selectStrategy(me),this._subscription=this._strategy.createSubscription(me,Ve=>this._updateLatestValue(me,Ve))}_selectStrategy(me){if((0,ct.QGY)(me))return us;if((0,ct.F4k)(me))return Pl;throw ks(ie,me)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(me,Ve){me===this._obj&&(this._latestValue=Ve,this._ref.markForCheck())}}return ie.\u0275fac=function(me){return new(me||ie)(ct.Y36(ct.sBO,16))},ie.\u0275pipe=ct.Yjl({name:"async",type:ie,pure:!1}),ie})();const xs=new ct.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let ko=(()=>{class ie{constructor(me,Ve){this.locale=me,this.defaultTimezone=Ve}transform(me,Ve="mediumDate",vi,yi){var An;if(null==me||""===me||me!=me)return null;try{return ce(me,Ve,yi||this.locale,null!=(An=null!=vi?vi:this.defaultTimezone)?An:void 0)}catch(On){throw ks(ie,On.message)}}}return ie.\u0275fac=function(me){return new(me||ie)(ct.Y36(ct.soG,16),ct.Y36(xs,24))},ie.\u0275pipe=ct.Yjl({name:"date",type:ie,pure:!0}),ie})(),ml=(()=>{class ie{}return ie.\u0275fac=function(me){return new(me||ie)},ie.\u0275mod=ct.oAB({type:ie}),ie.\u0275inj=ct.cJS({providers:[{provide:Ar,useClass:xr}]}),ie})();const gl="browser";function be(ie){return ie===gl}let qi=(()=>{class ie{}return ie.\u0275prov=(0,ct.Yz7)({token:ie,providedIn:"root",factory:()=>new an((0,ct.LFG)(G),window)}),ie})();class an{constructor(Le,me){this.document=Le,this.window=me,this.offset=()=>[0,0]}setOffset(Le){this.offset=Array.isArray(Le)?()=>Le:Le}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Le){this.supportsScrolling()&&this.window.scrollTo(Le[0],Le[1])}scrollToAnchor(Le){if(!this.supportsScrolling())return;const me=function(ie,Le){const me=ie.getElementById(Le)||ie.getElementsByName(Le)[0];if(me)return me;if("function"==typeof ie.createTreeWalker&&ie.body&&(ie.body.createShadowRoot||ie.body.attachShadow)){const Ve=ie.createTreeWalker(ie.body,NodeFilter.SHOW_ELEMENT);let vi=Ve.currentNode;for(;vi;){const yi=vi.shadowRoot;if(yi){const An=yi.getElementById(Le)||yi.querySelector(`[name="${Le}"]`);if(An)return An}vi=Ve.nextNode()}}return null}(this.document,Le);me&&(this.scrollToElement(me),this.attemptFocus(me))}setHistoryScrollRestoration(Le){if(this.supportScrollRestoration()){const me=this.window.history;me&&me.scrollRestoration&&(me.scrollRestoration=Le)}}scrollToElement(Le){const me=Le.getBoundingClientRect(),Ve=me.left+this.window.pageXOffset,vi=me.top+this.window.pageYOffset,yi=this.offset();this.window.scrollTo(Ve-yi[0],vi-yi[1])}attemptFocus(Le){return Le.focus(),this.document.activeElement===Le}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Le=nn(this.window.history)||nn(Object.getPrototypeOf(this.window.history));return!(!Le||!Le.writable&&!Le.set)}catch(Le){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Le){return!1}}}function nn(ie){return Object.getOwnPropertyDescriptor(ie,"scrollRestoration")}class lr{}},4522:(Ee,Q,ut)=>{"use strict";ut.d(Q,{eN:()=>w,JF:()=>Se});var ct=ut(6019),f=ut(3668),J=ut(2997),tt=ut(2047),b=ut(4799),W=ut(461),G=ut(4753);class rt{}class Z{}class H{constructor(Ce){this.normalizedNames=new Map,this.lazyUpdate=null,Ce?this.lazyInit="string"==typeof Ce?()=>{this.headers=new Map,Ce.split("\n").forEach(Bt=>{const re=Bt.indexOf(":");if(re>0){const Ye=Bt.slice(0,re),jt=Ye.toLowerCase(),yt=Bt.slice(re+1).trim();this.maybeSetNormalizedName(Ye,jt),this.headers.has(jt)?this.headers.get(jt).push(yt):this.headers.set(jt,[yt])}})}:()=>{this.headers=new Map,Object.keys(Ce).forEach(Bt=>{let re=Ce[Bt];const Ye=Bt.toLowerCase();"string"==typeof re&&(re=[re]),re.length>0&&(this.headers.set(Ye,re),this.maybeSetNormalizedName(Bt,Ye))})}:this.headers=new Map}has(Ce){return this.init(),this.headers.has(Ce.toLowerCase())}get(Ce){this.init();const Bt=this.headers.get(Ce.toLowerCase());return Bt&&Bt.length>0?Bt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ce){return this.init(),this.headers.get(Ce.toLowerCase())||null}append(Ce,Bt){return this.clone({name:Ce,value:Bt,op:"a"})}set(Ce,Bt){return this.clone({name:Ce,value:Bt,op:"s"})}delete(Ce,Bt){return this.clone({name:Ce,value:Bt,op:"d"})}maybeSetNormalizedName(Ce,Bt){this.normalizedNames.has(Bt)||this.normalizedNames.set(Bt,Ce)}init(){this.lazyInit&&(this.lazyInit instanceof H?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ce=>this.applyUpdate(Ce)),this.lazyUpdate=null))}copyFrom(Ce){Ce.init(),Array.from(Ce.headers.keys()).forEach(Bt=>{this.headers.set(Bt,Ce.headers.get(Bt)),this.normalizedNames.set(Bt,Ce.normalizedNames.get(Bt))})}clone(Ce){const Bt=new H;return Bt.lazyInit=this.lazyInit&&this.lazyInit instanceof H?this.lazyInit:this,Bt.lazyUpdate=(this.lazyUpdate||[]).concat([Ce]),Bt}applyUpdate(Ce){const Bt=Ce.name.toLowerCase();switch(Ce.op){case"a":case"s":let re=Ce.value;if("string"==typeof re&&(re=[re]),0===re.length)return;this.maybeSetNormalizedName(Ce.name,Bt);const Ye=("a"===Ce.op?this.headers.get(Bt):void 0)||[];Ye.push(...re),this.headers.set(Bt,Ye);break;case"d":const jt=Ce.value;if(jt){let yt=this.headers.get(Bt);if(!yt)return;yt=yt.filter(ht=>-1===jt.indexOf(ht)),0===yt.length?(this.headers.delete(Bt),this.normalizedNames.delete(Bt)):this.headers.set(Bt,yt)}else this.headers.delete(Bt),this.normalizedNames.delete(Bt)}}forEach(Ce){this.init(),Array.from(this.normalizedNames.keys()).forEach(Bt=>Ce(this.normalizedNames.get(Bt),this.headers.get(Bt)))}}class F{encodeKey(Ce){return z(Ce)}encodeValue(Ce){return z(Ce)}decodeKey(Ce){return decodeURIComponent(Ce)}decodeValue(Ce){return decodeURIComponent(Ce)}}const B=/%(\d[a-f0-9])/gi,X={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function z(_e){return encodeURIComponent(_e).replace(B,(Ce,Bt)=>{var re;return null!=(re=X[Bt])?re:Ce})}function Y(_e){return`${_e}`}class q{constructor(Ce={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ce.encoder||new F,Ce.fromString){if(Ce.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(_e,Ce){const Bt=new Map;return _e.length>0&&_e.replace(/^\?/,"").split("&").forEach(Ye=>{const jt=Ye.indexOf("="),[yt,ht]=-1==jt?[Ce.decodeKey(Ye),""]:[Ce.decodeKey(Ye.slice(0,jt)),Ce.decodeValue(Ye.slice(jt+1))],ce=Bt.get(yt)||[];ce.push(ht),Bt.set(yt,ce)}),Bt}(Ce.fromString,this.encoder)}else Ce.fromObject?(this.map=new Map,Object.keys(Ce.fromObject).forEach(Bt=>{const re=Ce.fromObject[Bt];this.map.set(Bt,Array.isArray(re)?re:[re])})):this.map=null}has(Ce){return this.init(),this.map.has(Ce)}get(Ce){this.init();const Bt=this.map.get(Ce);return Bt?Bt[0]:null}getAll(Ce){return this.init(),this.map.get(Ce)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ce,Bt){return this.clone({param:Ce,value:Bt,op:"a"})}appendAll(Ce){const Bt=[];return Object.keys(Ce).forEach(re=>{const Ye=Ce[re];Array.isArray(Ye)?Ye.forEach(jt=>{Bt.push({param:re,value:jt,op:"a"})}):Bt.push({param:re,value:Ye,op:"a"})}),this.clone(Bt)}set(Ce,Bt){return this.clone({param:Ce,value:Bt,op:"s"})}delete(Ce,Bt){return this.clone({param:Ce,value:Bt,op:"d"})}toString(){return this.init(),this.keys().map(Ce=>{const Bt=this.encoder.encodeKey(Ce);return this.map.get(Ce).map(re=>Bt+"="+this.encoder.encodeValue(re)).join("&")}).filter(Ce=>""!==Ce).join("&")}clone(Ce){const Bt=new q({encoder:this.encoder});return Bt.cloneFrom=this.cloneFrom||this,Bt.updates=(this.updates||[]).concat(Ce),Bt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ce=>this.map.set(Ce,this.cloneFrom.map.get(Ce))),this.updates.forEach(Ce=>{switch(Ce.op){case"a":case"s":const Bt=("a"===Ce.op?this.map.get(Ce.param):void 0)||[];Bt.push(Y(Ce.value)),this.map.set(Ce.param,Bt);break;case"d":if(void 0===Ce.value){this.map.delete(Ce.param);break}{let re=this.map.get(Ce.param)||[];const Ye=re.indexOf(Y(Ce.value));-1!==Ye&&re.splice(Ye,1),re.length>0?this.map.set(Ce.param,re):this.map.delete(Ce.param)}}}),this.cloneFrom=this.updates=null)}}class it{constructor(){this.map=new Map}set(Ce,Bt){return this.map.set(Ce,Bt),this}get(Ce){return this.map.has(Ce)||this.map.set(Ce,Ce.defaultValue()),this.map.get(Ce)}delete(Ce){return this.map.delete(Ce),this}keys(){return this.map.keys()}}function lt(_e){return"undefined"!=typeof ArrayBuffer&&_e instanceof ArrayBuffer}function wt(_e){return"undefined"!=typeof Blob&&_e instanceof Blob}function xt(_e){return"undefined"!=typeof FormData&&_e instanceof FormData}class Tt{constructor(Ce,Bt,re,Ye){let jt;if(this.url=Bt,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ce.toUpperCase(),function(_e){switch(_e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ye?(this.body=void 0!==re?re:null,jt=Ye):jt=re,jt&&(this.reportProgress=!!jt.reportProgress,this.withCredentials=!!jt.withCredentials,jt.responseType&&(this.responseType=jt.responseType),jt.headers&&(this.headers=jt.headers),jt.context&&(this.context=jt.context),jt.params&&(this.params=jt.params)),this.headers||(this.headers=new H),this.context||(this.context=new it),this.params){const yt=this.params.toString();if(0===yt.length)this.urlWithParams=Bt;else{const ht=Bt.indexOf("?");this.urlWithParams=Bt+(-1===ht?"?":ht<Bt.length-1?"&":"")+yt}}else this.params=new q,this.urlWithParams=Bt}serializeBody(){return null===this.body?null:lt(this.body)||wt(this.body)||xt(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof q?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xt(this.body)?null:wt(this.body)?this.body.type||null:lt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof q?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ce={}){var We;const Bt=Ce.method||this.method,re=Ce.url||this.url,Ye=Ce.responseType||this.responseType,jt=void 0!==Ce.body?Ce.body:this.body,yt=void 0!==Ce.withCredentials?Ce.withCredentials:this.withCredentials,ht=void 0!==Ce.reportProgress?Ce.reportProgress:this.reportProgress;let ce=Ce.headers||this.headers,ke=Ce.params||this.params;const Pi=null!=(We=Ce.context)?We:this.context;return void 0!==Ce.setHeaders&&(ce=Object.keys(Ce.setHeaders).reduce((si,bn)=>si.set(bn,Ce.setHeaders[bn]),ce)),Ce.setParams&&(ke=Object.keys(Ce.setParams).reduce((si,bn)=>si.set(bn,Ce.setParams[bn]),ke)),new Tt(Bt,re,jt,{params:ke,headers:ce,context:Pi,reportProgress:ht,responseType:Ye,withCredentials:yt})}}var Et=(()=>((Et=Et||{})[Et.Sent=0]="Sent",Et[Et.UploadProgress=1]="UploadProgress",Et[Et.ResponseHeader=2]="ResponseHeader",Et[Et.DownloadProgress=3]="DownloadProgress",Et[Et.Response=4]="Response",Et[Et.User=5]="User",Et))();class A{constructor(Ce,Bt=200,re="OK"){this.headers=Ce.headers||new H,this.status=void 0!==Ce.status?Ce.status:Bt,this.statusText=Ce.statusText||re,this.url=Ce.url||null,this.ok=this.status>=200&&this.status<300}}class o extends A{constructor(Ce={}){super(Ce),this.type=Et.ResponseHeader}clone(Ce={}){return new o({headers:Ce.headers||this.headers,status:void 0!==Ce.status?Ce.status:this.status,statusText:Ce.statusText||this.statusText,url:Ce.url||this.url||void 0})}}class c extends A{constructor(Ce={}){super(Ce),this.type=Et.Response,this.body=void 0!==Ce.body?Ce.body:null}clone(Ce={}){return new c({body:void 0!==Ce.body?Ce.body:this.body,headers:Ce.headers||this.headers,status:void 0!==Ce.status?Ce.status:this.status,statusText:Ce.statusText||this.statusText,url:Ce.url||this.url||void 0})}}class g extends A{constructor(Ce){super(Ce,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ce.url||"(unknown url)"}`:`Http failure response for ${Ce.url||"(unknown url)"}: ${Ce.status} ${Ce.statusText}`,this.error=Ce.error||null}}function p(_e,Ce){return{body:Ce,headers:_e.headers,context:_e.context,observe:_e.observe,params:_e.params,reportProgress:_e.reportProgress,responseType:_e.responseType,withCredentials:_e.withCredentials}}let w=(()=>{class _e{constructor(Bt){this.handler=Bt}request(Bt,re,Ye={}){let jt;if(Bt instanceof Tt)jt=Bt;else{let ce,ke;ce=Ye.headers instanceof H?Ye.headers:new H(Ye.headers),Ye.params&&(ke=Ye.params instanceof q?Ye.params:new q({fromObject:Ye.params})),jt=new Tt(Bt,re,void 0!==Ye.body?Ye.body:null,{headers:ce,context:Ye.context,params:ke,reportProgress:Ye.reportProgress,responseType:Ye.responseType||"json",withCredentials:Ye.withCredentials})}const yt=(0,J.of)(jt).pipe((0,b.b)(ce=>this.handler.handle(ce)));if(Bt instanceof Tt||"events"===Ye.observe)return yt;const ht=yt.pipe((0,W.h)(ce=>ce instanceof c));switch(Ye.observe||"body"){case"body":switch(jt.responseType){case"arraybuffer":return ht.pipe((0,G.U)(ce=>{if(null!==ce.body&&!(ce.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ce.body}));case"blob":return ht.pipe((0,G.U)(ce=>{if(null!==ce.body&&!(ce.body instanceof Blob))throw new Error("Response is not a Blob.");return ce.body}));case"text":return ht.pipe((0,G.U)(ce=>{if(null!==ce.body&&"string"!=typeof ce.body)throw new Error("Response is not a string.");return ce.body}));default:return ht.pipe((0,G.U)(ce=>ce.body))}case"response":return ht;default:throw new Error(`Unreachable: unhandled observe type ${Ye.observe}}`)}}delete(Bt,re={}){return this.request("DELETE",Bt,re)}get(Bt,re={}){return this.request("GET",Bt,re)}head(Bt,re={}){return this.request("HEAD",Bt,re)}jsonp(Bt,re){return this.request("JSONP",Bt,{params:(new q).append(re,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Bt,re={}){return this.request("OPTIONS",Bt,re)}patch(Bt,re,Ye={}){return this.request("PATCH",Bt,p(Ye,re))}post(Bt,re,Ye={}){return this.request("POST",Bt,p(Ye,re))}put(Bt,re,Ye={}){return this.request("PUT",Bt,p(Ye,re))}}return _e.\u0275fac=function(Bt){return new(Bt||_e)(f.LFG(rt))},_e.\u0275prov=f.Yz7({token:_e,factory:_e.\u0275fac}),_e})();class S{constructor(Ce,Bt){this.next=Ce,this.interceptor=Bt}handle(Ce){return this.interceptor.intercept(Ce,this.next)}}const T=new f.OlP("HTTP_INTERCEPTORS");let C=(()=>{class _e{intercept(Bt,re){return re.handle(Bt)}}return _e.\u0275fac=function(Bt){return new(Bt||_e)},_e.\u0275prov=f.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const Xt=/^\)\]\}',?\n/;let Vt=(()=>{class _e{constructor(Bt){this.xhrFactory=Bt}handle(Bt){if("JSONP"===Bt.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new tt.y(re=>{const Ye=this.xhrFactory.build();if(Ye.open(Bt.method,Bt.urlWithParams),Bt.withCredentials&&(Ye.withCredentials=!0),Bt.headers.forEach((bn,wi)=>Ye.setRequestHeader(bn,wi.join(","))),Bt.headers.has("Accept")||Ye.setRequestHeader("Accept","application/json, text/plain, */*"),!Bt.headers.has("Content-Type")){const bn=Bt.detectContentTypeHeader();null!==bn&&Ye.setRequestHeader("Content-Type",bn)}if(Bt.responseType){const bn=Bt.responseType.toLowerCase();Ye.responseType="json"!==bn?bn:"text"}const jt=Bt.serializeBody();let yt=null;const ht=()=>{if(null!==yt)return yt;const bn=1223===Ye.status?204:Ye.status,wi=Ye.statusText||"OK",je=new H(Ye.getAllResponseHeaders()),ci=function(_e){return"responseURL"in _e&&_e.responseURL?_e.responseURL:/^X-Request-URL:/m.test(_e.getAllResponseHeaders())?_e.getResponseHeader("X-Request-URL"):null}(Ye)||Bt.url;return yt=new o({headers:je,status:bn,statusText:wi,url:ci}),yt},ce=()=>{let{headers:bn,status:wi,statusText:je,url:ci}=ht(),Oe=null;204!==wi&&(Oe=void 0===Ye.response?Ye.responseText:Ye.response),0===wi&&(wi=Oe?200:0);let oi=wi>=200&&wi<300;if("json"===Bt.responseType&&"string"==typeof Oe){const Vn=Oe;Oe=Oe.replace(Xt,"");try{Oe=""!==Oe?JSON.parse(Oe):null}catch(ei){Oe=Vn,oi&&(oi=!1,Oe={error:ei,text:Oe})}}oi?(re.next(new c({body:Oe,headers:bn,status:wi,statusText:je,url:ci||void 0})),re.complete()):re.error(new g({error:Oe,headers:bn,status:wi,statusText:je,url:ci||void 0}))},ke=bn=>{const{url:wi}=ht(),je=new g({error:bn,status:Ye.status||0,statusText:Ye.statusText||"Unknown Error",url:wi||void 0});re.error(je)};let Pi=!1;const We=bn=>{Pi||(re.next(ht()),Pi=!0);let wi={type:Et.DownloadProgress,loaded:bn.loaded};bn.lengthComputable&&(wi.total=bn.total),"text"===Bt.responseType&&!!Ye.responseText&&(wi.partialText=Ye.responseText),re.next(wi)},si=bn=>{let wi={type:Et.UploadProgress,loaded:bn.loaded};bn.lengthComputable&&(wi.total=bn.total),re.next(wi)};return Ye.addEventListener("load",ce),Ye.addEventListener("error",ke),Ye.addEventListener("timeout",ke),Ye.addEventListener("abort",ke),Bt.reportProgress&&(Ye.addEventListener("progress",We),null!==jt&&Ye.upload&&Ye.upload.addEventListener("progress",si)),Ye.send(jt),re.next({type:Et.Sent}),()=>{Ye.removeEventListener("error",ke),Ye.removeEventListener("abort",ke),Ye.removeEventListener("load",ce),Ye.removeEventListener("timeout",ke),Bt.reportProgress&&(Ye.removeEventListener("progress",We),null!==jt&&Ye.upload&&Ye.upload.removeEventListener("progress",si)),Ye.readyState!==Ye.DONE&&Ye.abort()}})}}return _e.\u0275fac=function(Bt){return new(Bt||_e)(f.LFG(ct.JF))},_e.\u0275prov=f.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const Dt=new f.OlP("XSRF_COOKIE_NAME"),ve=new f.OlP("XSRF_HEADER_NAME");class Gt{}let Nt=(()=>{class _e{constructor(Bt,re,Ye){this.doc=Bt,this.platform=re,this.cookieName=Ye,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Bt=this.doc.cookie||"";return Bt!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ct.Mx)(Bt,this.cookieName),this.lastCookieString=Bt),this.lastToken}}return _e.\u0275fac=function(Bt){return new(Bt||_e)(f.LFG(ct.K0),f.LFG(f.Lbi),f.LFG(Dt))},_e.\u0275prov=f.Yz7({token:_e,factory:_e.\u0275fac}),_e})(),Kt=(()=>{class _e{constructor(Bt,re){this.tokenService=Bt,this.headerName=re}intercept(Bt,re){const Ye=Bt.url.toLowerCase();if("GET"===Bt.method||"HEAD"===Bt.method||Ye.startsWith("http://")||Ye.startsWith("https://"))return re.handle(Bt);const jt=this.tokenService.getToken();return null!==jt&&!Bt.headers.has(this.headerName)&&(Bt=Bt.clone({headers:Bt.headers.set(this.headerName,jt)})),re.handle(Bt)}}return _e.\u0275fac=function(Bt){return new(Bt||_e)(f.LFG(Gt),f.LFG(ve))},_e.\u0275prov=f.Yz7({token:_e,factory:_e.\u0275fac}),_e})(),fe=(()=>{class _e{constructor(Bt,re){this.backend=Bt,this.injector=re,this.chain=null}handle(Bt){if(null===this.chain){const re=this.injector.get(T,[]);this.chain=re.reduceRight((Ye,jt)=>new S(Ye,jt),this.backend)}return this.chain.handle(Bt)}}return _e.\u0275fac=function(Bt){return new(Bt||_e)(f.LFG(Z),f.LFG(f.zs3))},_e.\u0275prov=f.Yz7({token:_e,factory:_e.\u0275fac}),_e})(),Pt=(()=>{class _e{static disable(){return{ngModule:_e,providers:[{provide:Kt,useClass:C}]}}static withOptions(Bt={}){return{ngModule:_e,providers:[Bt.cookieName?{provide:Dt,useValue:Bt.cookieName}:[],Bt.headerName?{provide:ve,useValue:Bt.headerName}:[]]}}}return _e.\u0275fac=function(Bt){return new(Bt||_e)},_e.\u0275mod=f.oAB({type:_e}),_e.\u0275inj=f.cJS({providers:[Kt,{provide:T,useExisting:Kt,multi:!0},{provide:Gt,useClass:Nt},{provide:Dt,useValue:"XSRF-TOKEN"},{provide:ve,useValue:"X-XSRF-TOKEN"}]}),_e})(),Se=(()=>{class _e{}return _e.\u0275fac=function(Bt){return new(Bt||_e)},_e.\u0275mod=f.oAB({type:_e}),_e.\u0275inj=f.cJS({providers:[w,{provide:rt,useClass:fe},Vt,{provide:Z,useExisting:Vt}],imports:[[Pt.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),_e})()},3668:(Ee,Q,ut)=>{"use strict";ut.d(Q,{deG:()=>Nd,tb:()=>eb,AFp:()=>J_,ip1:()=>xw,CZH:()=>Gy,hGG:()=>RC,z2F:()=>Y1,sBO:()=>rC,Sil:()=>bw,_Vd:()=>tc,EJc:()=>nb,SBq:()=>uf,qLn:()=>Fc,vpe:()=>ym,tBr:()=>Gd,XFs:()=>Pt,OlP:()=>Eo,zs3:()=>As,ZZ4:()=>Bx,aQg:()=>Vx,soG:()=>Rx,YKP:()=>c_,h0i:()=>$v,PXZ:()=>Z2,R0b:()=>Pd,FiY:()=>$u,Lbi:()=>tb,g9A:()=>Q_,n_E:()=>U1,Qsj:()=>cg,FYo:()=>hg,JOm:()=>Ea,Tiy:()=>iv,q3G:()=>Sa,tp0:()=>sc,Rgc:()=>H1,dDg:()=>lb,GfV:()=>kx,s_b:()=>Px,ifc:()=>yt,eFA:()=>db,G48:()=>H2,Gpc:()=>F,f3M:()=>sv,X6Q:()=>Dw,_c5:()=>DC,VLi:()=>U2,c2e:()=>ib,zSh:()=>Lf,wAp:()=>V,vHH:()=>z,EiD:()=>nl,mCW:()=>_f,qzn:()=>xf,JVY:()=>Bp,pB0:()=>lv,eBb:()=>Vp,L6k:()=>wf,LAX:()=>Pm,cg1:()=>l,Tjo:()=>pC,kL8:()=>_,yhl:()=>G0,dqk:()=>We,sIi:()=>Tg,CqO:()=>Ev,QGY:()=>xy,F4k:()=>zg,RDi:()=>qi,AaK:()=>rt,z3N:()=>Xu,qOj:()=>sy,TTD:()=>za,_Bn:()=>Qh,xp6:()=>lp,uIk:()=>hy,Gre:()=>Xm,ekj:()=>C1,Suo:()=>T_,Xpm:()=>ni,lG2:()=>pi,Yz7:()=>St,cJS:()=>te,oAB:()=>xe,Yjl:()=>he,Y36:()=>Vg,_UZ:()=>io,BQk:()=>gy,ynx:()=>ku,qZA:()=>jg,TgZ:()=>M0,EpF:()=>yy,n5z:()=>ga,Ikx:()=>Wg,LFG:()=>ba,$8M:()=>Op,$Z:()=>yx,NdJ:()=>h1,CRH:()=>P_,kcU:()=>kr,O4$:()=>Ir,oxw:()=>f1,ALo:()=>w_,lcZ:()=>__,xi3:()=>b_,Hsn:()=>p1,F$t:()=>d1,Q6J:()=>my,VKq:()=>p_,iGM:()=>A_,MAs:()=>gv,CHM:()=>Jr,uOi:()=>dc,LSH:()=>qd,kYT:()=>ue,Udp:()=>br,WFA:()=>wy,d8E:()=>Kg,YNc:()=>Au,_uU:()=>k1,Oqu:()=>El,hij:()=>oh,AsE:()=>Ov,Gf:()=>k_});var ct=ut(273),f=ut(7908),J=ut(2047),tt=ut(3719),b=ut(3174);function W(s){for(let a in s)if(s[a]===W)return a;throw Error("Could not find renamed property on target object.")}function G(s,a){for(const m in a)a.hasOwnProperty(m)&&!s.hasOwnProperty(m)&&(s[m]=a[m])}function rt(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(rt).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const m=a.indexOf("\n");return-1===m?a:a.substring(0,m)}function Z(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const H=W({__forward_ref__:W});function F(s){return s.__forward_ref__=F,s.toString=function(){return rt(this())},s}function et(s){return B(s)?s():s}function B(s){return"function"==typeof s&&s.hasOwnProperty(H)&&s.__forward_ref__===F}class z extends Error{constructor(a,m){super(function(s,a){return`${s?`NG0${s}: `:""}${a}`}(a,m)),this.code=a}}function U(s){return"string"==typeof s?s:null==s?"":String(s)}function it(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():U(s)}function xt(s,a){const m=a?` in ${a}`:"";throw new z("201",`No provider for ${it(s)} found${m}`)}function k(s,a){null==s&&function(s,a,m,M){throw new Error(`ASSERTION ERROR: ${s}`+(null==M?"":` [Expected=> ${m} ${M} ${a} <=Actual]`))}(a,s,null,"!=")}function St(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function te(s){return{providers:s.providers||[],imports:s.imports||[]}}function Vt(s){return Dt(s,Kt)||Dt(s,zt)}function Dt(s,a){return s.hasOwnProperty(a)?s[a]:null}function Nt(s){return s&&(s.hasOwnProperty(fe)||s.hasOwnProperty(Ne))?s[fe]:null}const Kt=W({\u0275prov:W}),fe=W({\u0275inj:W}),zt=W({ngInjectableDef:W}),Ne=W({ngInjectorDef:W});var Pt=(()=>((Pt=Pt||{})[Pt.Default=0]="Default",Pt[Pt.Host=1]="Host",Pt[Pt.Self=2]="Self",Pt[Pt.SkipSelf=4]="SkipSelf",Pt[Pt.Optional=8]="Optional",Pt))();let Se;function Ge(s){const a=Se;return Se=s,a}function _e(s,a,m){const M=Vt(s);return M&&"root"==M.providedIn?void 0===M.value?M.value=M.factory():M.value:m&Pt.Optional?null:void 0!==a?a:void xt(rt(s),"Injector")}function Bt(s){return{toString:s}.toString()}var re=(()=>((re=re||{})[re.OnPush=0]="OnPush",re[re.Default=1]="Default",re))(),yt=(()=>{return(s=yt||(yt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",yt;var s})();const ht="undefined"!=typeof globalThis&&globalThis,ce="undefined"!=typeof window&&window,ke="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,We=ht||"undefined"!=typeof global&&global||ce||ke,wi={},je=[],ci=W({\u0275cmp:W}),Oe=W({\u0275dir:W}),oi=W({\u0275pipe:W}),Vn=W({\u0275mod:W}),ei=W({\u0275fac:W}),De=W({__NG_ELEMENT_ID__:W});let qe=0;function ni(s){return Bt(()=>{const m={},M={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:m,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===re.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||je,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||yt.Emulated,id:"c",styles:s.styles||je,_:null,setInput:null,schemas:s.schemas||null,tView:null},I=s.directives,K=s.features,mt=s.pipes;return M.id+=qe++,M.inputs=Re(s.inputs,m),M.outputs=Re(s.outputs),K&&K.forEach(At=>At(M)),M.directiveDefs=I?()=>("function"==typeof I?I():I).map(Qt):null,M.pipeDefs=mt?()=>("function"==typeof mt?mt():mt).map(Zt):null,M})}function Qt(s){return $e(s)||function(s){return s[Oe]||null}(s)}function Zt(s){return function(s){return s[oi]||null}(s)}const Ut={};function xe(s){return Bt(()=>{const a={type:s.type,bootstrap:s.bootstrap||je,declarations:s.declarations||je,imports:s.imports||je,exports:s.exports||je,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Ut[s.id]=s.type),a})}function ue(s,a){return Bt(()=>{const m=zi(s,!0);m.declarations=a.declarations||je,m.imports=a.imports||je,m.exports=a.exports||je})}function Re(s,a){if(null==s)return wi;const m={};for(const M in s)if(s.hasOwnProperty(M)){let I=s[M],K=I;Array.isArray(I)&&(K=I[1],I=I[0]),m[I]=M,a&&(a[I]=K)}return m}const pi=ni;function he(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function $e(s){return s[ci]||null}function zi(s,a){const m=s[Vn]||null;if(!m&&!0===a)throw new Error(`Type ${rt(s)} does not have '\u0275mod' property.`);return m}function wa(s){return Array.isArray(s)&&"object"==typeof s[1]}function Ho(s){return Array.isArray(s)&&!0===s[1]}function ea(s){return 0!=(8&s.flags)}function Qr(s){return 2==(2&s.flags)}function Oa(s){return 1==(1&s.flags)}function zs(s){return null!==s.template}function Va(s){return 0!=(512&s[2])}function hr(s,a){return s.hasOwnProperty(ei)?s[ei]:null}class Iu{constructor(a,m,M){this.previousValue=a,this.currentValue=m,this.firstChange=M}isFirstChange(){return this.firstChange}}function za(){return pa}function pa(s){return s.type.prototype.ngOnChanges&&(s.setInput=ml),ch}function ch(){const s=fu(this),a=null==s?void 0:s.current;if(a){const m=s.previous;if(m===wi)s.previous=a;else for(let M in a)m[M]=a[M];s.current=null,this.ngOnChanges(a)}}function ml(s,a,m,M){const I=fu(s)||function(s,a){return s[gl]=a}(s,{previous:wi,current:null}),K=I.current||(I.current={}),mt=I.previous,At=this.declaredInputs[m],Ht=mt[At];K[At]=new Iu(Ht&&Ht.currentValue,a,mt===wi),s[M]=a}za.ngInherit=!0;const gl="__ngSimpleChanges__";function fu(s){return s[gl]||null}const Be="http://www.w3.org/2000/svg";let hi;function qi(s){hi=s}function Dn(s){return!!s.listen}const Pn={createRenderer:(s,a)=>void 0!==hi?hi:"undefined"!=typeof document?document:void 0};function ie(s){for(;Array.isArray(s);)s=s[0];return s}function Ve(s,a){return ie(a[s])}function vi(s,a){return ie(a[s.index])}function An(s,a){return s.data[a]}function On(s,a){return s[a]}function Cr(s,a){const m=a[s];return wa(m)?m:m[0]}function rn(s){return 4==(4&s[2])}function gn(s){return 128==(128&s[2])}function Mn(s,a){return null==a?null:s[a]}function vr(s){s[18]=0}function Qo(s,a){s[5]+=a;let m=s,M=s[3];for(;null!==M&&(1===a&&1===m[5]||-1===a&&0===m[5]);)M[5]+=a,m=M,M=M[3]}const zn={lFrame:Es(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ja(){return zn.bindingsEnabled}function Yn(){return zn.lFrame.lView}function no(){return zn.lFrame.tView}function Jr(s){return zn.lFrame.contextLView=s,s[8]}function Ss(){let s=Us();for(;null!==s&&64===s.type;)s=s.parent;return s}function Us(){return zn.lFrame.currentTNode}function Fe(s,a){const m=zn.lFrame;m.currentTNode=s,m.isParent=a}function It(){return zn.lFrame.isParent}function Lt(){zn.lFrame.isParent=!1}function li(){return zn.isInCheckNoChangesMode}function Vi(s){zn.isInCheckNoChangesMode=s}function Hi(){const s=zn.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function cr(){return zn.lFrame.bindingIndex++}function Mr(s){const a=zn.lFrame,m=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,m}function Yr(s,a){const m=zn.lFrame;m.bindingIndex=m.bindingRootIndex=s,yr(a)}function yr(s){zn.lFrame.currentDirectiveIndex=s}function Co(s){const a=zn.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}function Or(){return zn.lFrame.currentQueryIndex}function ro(s){zn.lFrame.currentQueryIndex=s}function To(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function Hs(s,a,m){if(m&Pt.SkipSelf){let I=a,K=s;for(;!(I=I.parent,null!==I||m&Pt.Host||(I=To(K),null===I||(K=K[15],10&I.type))););if(null===I)return!1;a=I,s=K}const M=zn.lFrame=Gn();return M.currentTNode=a,M.lView=s,!0}function ws(s){const a=Gn(),m=s[1];zn.lFrame=a,a.currentTNode=m.firstChild,a.lView=s,a.tView=m,a.contextLView=s,a.bindingIndex=m.bindingStartIndex,a.inI18n=!1}function Gn(){const s=zn.lFrame,a=null===s?null:s.child;return null===a?Es(s):a}function Es(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function ps(){const s=zn.lFrame;return zn.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const _s=ps;function bo(){const s=ps();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function hs(){return zn.lFrame.selectedIndex}function Po(s){zn.lFrame.selectedIndex=s}function ur(){const s=zn.lFrame;return An(s.tView,s.selectedIndex)}function Ir(){zn.lFrame.currentNamespace=Be}function kr(){zn.lFrame.currentNamespace=null}function ma(s,a){for(let m=a.directiveStart,M=a.directiveEnd;m<M;m++){const K=s.data[m].type.prototype,{ngAfterContentInit:mt,ngAfterContentChecked:At,ngAfterViewInit:Ht,ngAfterViewChecked:pe,ngOnDestroy:Te}=K;mt&&(s.contentHooks||(s.contentHooks=[])).push(-m,mt),At&&((s.contentHooks||(s.contentHooks=[])).push(m,At),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(m,At)),Ht&&(s.viewHooks||(s.viewHooks=[])).push(-m,Ht),pe&&((s.viewHooks||(s.viewHooks=[])).push(m,pe),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(m,pe)),null!=Te&&(s.destroyHooks||(s.destroyHooks=[])).push(m,Te)}}function Mo(s,a,m){oa(s,a,3,m)}function tl(s,a,m,M){(3&s[2])===m&&oa(s,a,m,M)}function ra(s,a){let m=s[2];(3&m)===a&&(m&=2047,m+=1,s[2]=m)}function oa(s,a,m,M){const K=null!=M?M:-1,mt=a.length-1;let At=0;for(let Ht=void 0!==M?65535&s[18]:0;Ht<mt;Ht++)if("number"==typeof a[Ht+1]){if(At=a[Ht],null!=M&&At>=M)break}else a[Ht]<0&&(s[18]+=65536),(At<K||-1==K)&&(sa(s,m,a,Ht),s[18]=(4294901760&s[18])+Ht+2),Ht++}function sa(s,a,m,M){const I=m[M]<0,K=m[M+1],At=s[I?-m[M]:m[M]];if(I){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{K.call(At)}finally{}}}else try{K.call(At)}finally{}}class Ru{constructor(a,m,M){this.factory=a,this.resolving=!1,this.canSeeViewProviders=m,this.injectImpl=M}}function Rd(s,a,m){const M=Dn(s);let I=0;for(;I<m.length;){const K=m[I];if("number"==typeof K){if(0!==K)break;I++;const mt=m[I++],At=m[I++],Ht=m[I++];M?s.setAttribute(a,At,Ht,mt):a.setAttributeNS(mt,At,Ht)}else{const mt=K,At=m[++I];du(mt)?M&&s.setProperty(a,mt,At):M?s.setAttribute(a,mt,At):a.setAttribute(mt,At),I++}}return I}function Pp(s){return 3===s||4===s||6===s}function du(s){return 64===s.charCodeAt(0)}function kc(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let m=-1;for(let M=0;M<a.length;M++){const I=a[M];"number"==typeof I?m=I:0===m||fh(s,m,I,null,-1===m||2===m?a[++M]:null)}}return s}function fh(s,a,m,M,I){let K=0,mt=s.length;if(-1===a)mt=-1;else for(;K<s.length;){const At=s[K++];if("number"==typeof At){if(At===a){mt=-1;break}if(At>a){mt=K-1;break}}}for(;K<s.length;){const At=s[K];if("number"==typeof At)break;if(At===m){if(null===M)return void(null!==I&&(s[K+1]=I));if(M===s[K+1])return void(s[K+2]=I)}K++,null!==M&&K++,null!==I&&K++}-1!==mt&&(s.splice(mt,0,a),K=mt+1),s.splice(K++,0,m),null!==M&&s.splice(K++,0,M),null!==I&&s.splice(K++,0,I)}function df(s){return-1!==s}function Ih(s){return 32767&s}function pu(s,a){let m=function(s){return s>>16}(s),M=a;for(;m>0;)M=M[15],m--;return M}let dh=!0;function Il(s){const a=dh;return dh=s,a}let Ft=0;function Me(s,a){const m=Di(s,a);if(-1!==m)return m;const M=a[1];M.firstCreatePass&&(s.injectorIndex=a.length,Xe(M.data,s),Xe(a,null),Xe(M.blueprint,null));const I=Mi(s,a),K=s.injectorIndex;if(df(I)){const mt=Ih(I),At=pu(I,a),Ht=At[1].data;for(let pe=0;pe<8;pe++)a[K+pe]=At[mt+pe]|Ht[mt+pe]}return a[K+8]=I,K}function Xe(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Di(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function Mi(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let m=0,M=null,I=a;for(;null!==I;){const K=I[1],mt=K.type;if(M=2===mt?K.declTNode:1===mt?I[6]:null,null===M)return-1;if(m++,I=I[15],-1!==M.injectorIndex)return M.injectorIndex|m<<16}return-1}function In(s,a,m){!function(s,a,m){let M;"string"==typeof m?M=m.charCodeAt(0)||0:m.hasOwnProperty(De)&&(M=m[De]),null==M&&(M=m[De]=Ft++);const I=255&M;a.data[s+(I>>5)]|=1<<I}(s,a,m)}function ts(s,a,m){if(m&Pt.Optional)return s;xt(a,"NodeInjector")}function Xr(s,a,m,M){if(m&Pt.Optional&&void 0===M&&(M=null),0==(m&(Pt.Self|Pt.Host))){const I=s[9],K=Ge(void 0);try{return I?I.get(a,M,m&Pt.Optional):_e(a,M,m&Pt.Optional)}finally{Ge(K)}}return ts(M,a,m)}function So(s,a,m,M=Pt.Default,I){if(null!==s){const K=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(De)?s[De]:void 0;return"number"==typeof a?a>=0?255&a:mu:a}(m);if("function"==typeof K){if(!Hs(a,s,M))return M&Pt.Host?ts(I,m,M):Xr(a,m,M,I);try{const mt=K(M);if(null!=mt||M&Pt.Optional)return mt;xt(m)}finally{_s()}}else if("number"==typeof K){let mt=null,At=Di(s,a),Ht=-1,pe=M&Pt.Host?a[16][6]:null;for((-1===At||M&Pt.SkipSelf)&&(Ht=-1===At?Mi(s,a):a[At+8],-1!==Ht&&Rh(M,!1)?(mt=a[1],At=Ih(Ht),a=pu(Ht,a)):At=-1);-1!==At;){const Te=a[1];if(gh(K,At,Te.data)){const ai=ph(At,a,m,mt,M,pe);if(ai!==Vo)return ai}Ht=a[At+8],-1!==Ht&&Rh(M,a[1].data[At+8]===pe)&&gh(K,At,a)?(mt=Te,At=Ih(Ht),a=pu(Ht,a)):At=-1}}}return Xr(a,m,M,I)}const Vo={};function mu(){return new Tc(Ss(),Yn())}function ph(s,a,m,M,I,K){const mt=a[1],At=mt.data[s+8],Te=Rl(At,mt,m,null==M?Qr(At)&&dh:M!=mt&&0!=(3&At.type),I&Pt.Host&&K===At);return null!==Te?gu(a,mt,Te,At):Vo}function Rl(s,a,m,M,I){const K=s.providerIndexes,mt=a.data,At=1048575&K,Ht=s.directiveStart,Te=K>>20,gi=I?At+Te:s.directiveEnd;for(let Yi=M?At:At+Te;Yi<gi;Yi++){const en=mt[Yi];if(Yi<Ht&&m===en||Yi>=Ht&&en.type===m)return Yi}if(I){const Yi=mt[Ht];if(Yi&&zs(Yi)&&Yi.type===m)return Ht}return null}function gu(s,a,m,M){let I=s[m];const K=a.data;if(function(s){return s instanceof Ru}(I)){const mt=I;mt.resolving&&function(s,a){throw new z("200",`Circular dependency in DI detected for ${s}`)}(it(K[m]));const At=Il(mt.canSeeViewProviders);mt.resolving=!0;const Ht=mt.injectImpl?Ge(mt.injectImpl):null;Hs(s,M,Pt.Default);try{I=s[m]=mt.factory(void 0,K,s,M),a.firstCreatePass&&m>=M.directiveStart&&function(s,a,m){const{ngOnChanges:M,ngOnInit:I,ngDoCheck:K}=a.type.prototype;if(M){const mt=pa(a);(m.preOrderHooks||(m.preOrderHooks=[])).push(s,mt),(m.preOrderCheckHooks||(m.preOrderCheckHooks=[])).push(s,mt)}I&&(m.preOrderHooks||(m.preOrderHooks=[])).push(0-s,I),K&&((m.preOrderHooks||(m.preOrderHooks=[])).push(s,K),(m.preOrderCheckHooks||(m.preOrderCheckHooks=[])).push(s,K))}(m,K[m],a)}finally{null!==Ht&&Ge(Ht),Il(At),mt.resolving=!1,_s()}}return I}function gh(s,a,m){return!!(m[a+(s>>5)]&1<<s)}function Rh(s,a){return!(s&Pt.Self||s&Pt.Host&&a)}class Tc{constructor(a,m){this._tNode=a,this._lView=m}get(a,m,M){return So(this._tNode,this._lView,a,M,m)}}function ga(s){return Bt(()=>{const a=s.prototype.constructor,m=a[ei]||pf(a),M=Object.prototype;let I=Object.getPrototypeOf(s.prototype).constructor;for(;I&&I!==M;){const K=I[ei]||pf(I);if(K&&K!==m)return K;I=Object.getPrototypeOf(I)}return K=>new K})}function pf(s){return B(s)?()=>{const a=pf(et(s));return a&&a()}:hr(s)}function Op(s){return function(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const m=s.attrs;if(m){const M=m.length;let I=0;for(;I<M;){const K=m[I];if(Pp(K))break;if(0===K)I+=2;else if("number"==typeof K)for(I++;I<M&&"string"==typeof m[I];)I++;else{if(K===a)return m[I+1];I+=2}}}return null}(Ss(),s)}const bs="__parameters__";function vu(s,a,m){return Bt(()=>{const M=function(s){return function(...m){if(s){const M=s(...m);for(const I in M)this[I]=M[I]}}}(a);function I(...K){if(this instanceof I)return M.apply(this,K),this;const mt=new I(...K);return At.annotation=mt,At;function At(Ht,pe,Te){const ai=Ht.hasOwnProperty(bs)?Ht[bs]:Object.defineProperty(Ht,bs,{value:[]})[bs];for(;ai.length<=Te;)ai.push(null);return(ai[Te]=ai[Te]||[]).push(mt),Ht}}return m&&(I.prototype=Object.create(m.prototype)),I.prototype.ngMetadataName=s,I.annotationCls=I,I})}class Eo{constructor(a,m){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof m?this.__NG_ELEMENT_ID__=m:void 0!==m&&(this.\u0275prov=St({token:this,providedIn:m.providedIn||"root",factory:m.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Nd=new Eo("AnalyzeForEntryComponents");function Ha(s,a){void 0===a&&(a=s);for(let m=0;m<s.length;m++){let M=s[m];Array.isArray(M)?(a===s&&(a=s.slice(0,m)),Ha(M,a)):a!==s&&a.push(M)}return a}function _a(s,a){s.forEach(m=>Array.isArray(m)?_a(m,a):a(m))}function Gs(s,a,m){a>=s.length?s.push(m):s.splice(a,0,m)}function Ll(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function Nl(s,a){const m=[];for(let M=0;M<s;M++)m.push(a);return m}function Ya(s,a,m){let M=Nh(s,a);return M>=0?s[1|M]=m:(M=~M,function(s,a,m,M){let I=s.length;if(I==a)s.push(m,M);else if(1===I)s.push(M,s[0]),s[0]=m;else{for(I--,s.push(s[I-1],s[I]);I>a;)s[I]=s[I-2],I--;s[a]=m,s[a+1]=M}}(s,M,a,m)),M}function Bd(s,a){const m=Nh(s,a);if(m>=0)return s[1|m]}function Nh(s,a){return function(s,a,m){let M=0,I=s.length>>m;for(;I!==M;){const K=M+(I-M>>1),mt=s[K<<m];if(a===mt)return K<<m;mt>a?I=K:M=K+1}return~(I<<m)}(s,a,1)}const Oc={},Fh="__NG_DI_FLAG__",yu="ngTempTokenPath",gg=/\n/gm,Hd="__source",Ql=W({provide:String,useValue:W});let rc;function Ic(s){const a=rc;return rc=s,a}function Lp(s,a=Pt.Default){if(void 0===rc)throw new Error("inject() must be called from an injection context");return null===rc?_e(s,void 0,a):rc.get(s,a&Pt.Optional?null:void 0,a)}function ba(s,a=Pt.Default){return(Se||Lp)(et(s),a)}const sv=ba;function Bh(s){const a=[];for(let m=0;m<s.length;m++){const M=et(s[m]);if(Array.isArray(M)){if(0===M.length)throw new Error("Arguments array must have arguments.");let I,K=Pt.Default;for(let mt=0;mt<M.length;mt++){const At=M[mt],Ht=oc(At);"number"==typeof Ht?-1===Ht?I=At.token:K|=Ht:I=At}a.push(ba(I,K))}else a.push(ba(M))}return a}function yh(s,a){return s[Fh]=a,s.prototype[Fh]=a,s}function oc(s){return s[Fh]}function Em(s,a,m,M){const I=s[yu];throw a[Hd]&&I.unshift(a[Hd]),s.message=function(s,a,m,M=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let I=rt(a);if(Array.isArray(a))I=a.map(rt).join(" -> ");else if("object"==typeof a){let K=[];for(let mt in a)if(a.hasOwnProperty(mt)){let At=a[mt];K.push(mt+":"+("string"==typeof At?JSON.stringify(At):rt(At)))}I=`{${K.join(", ")}}`}return`${m}${M?"("+M+")":""}[${I}]: ${s.replace(gg,"\n  ")}`}("\n"+s.message,I,m,M),s.ngTokenPath=I,s[yu]=null,s}const Gd=yh(vu("Inject",s=>({token:s})),-1),$u=yh(vu("Optional"),8),sc=yh(vu("SkipSelf"),4);let Xd,zh;function va(s){var a;return(null==(a=function(){if(void 0===Xd&&(Xd=null,We.trustedTypes))try{Xd=We.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Xd}())?void 0:a.createHTML(s))||s}function H0(s){var a;return(null==(a=function(){if(void 0===zh&&(zh=null,We.trustedTypes))try{zh=We.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return zh}())?void 0:a.createScriptURL(s))||s}class la{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ws extends la{getTypeName(){return"HTML"}}class vg extends la{getTypeName(){return"Style"}}class lc extends la{getTypeName(){return"Script"}}class Tm extends la{getTypeName(){return"URL"}}class gs extends la{getTypeName(){return"ResourceURL"}}function Xu(s){return s instanceof la?s.changingThisBreaksApplicationSecurity:s}function xf(s,a){const m=G0(s);if(null!=m&&m!==a){if("ResourceURL"===m&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${m} (see https://g.co/ng/security#xss)`)}return m===a}function G0(s){return s instanceof la&&s.getTypeName()||null}function Bp(s){return new Ws(s)}function wf(s){return new vg(s)}function Vp(s){return new lc(s)}function Pm(s){return new Tm(s)}function lv(s){return new gs(s)}class zp{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const m=(new window.DOMParser).parseFromString(va(a),"text/html").body;return null===m?this.inertDocumentHelper.getInertBodyElement(a):(m.removeChild(m.firstChild),m)}catch(m){return null}}}class ed{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const m=this.inertDocument.createElement("html");this.inertDocument.appendChild(m);const M=this.inertDocument.createElement("body");m.appendChild(M)}}getInertBodyElement(a){const m=this.inertDocument.createElement("template");if("content"in m)return m.innerHTML=va(a),m;const M=this.inertDocument.createElement("body");return M.innerHTML=va(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(M),M}stripCustomNsAttrs(a){const m=a.attributes;for(let I=m.length-1;0<I;I--){const mt=m.item(I).name;("xmlns:ns1"===mt||0===mt.indexOf("ns1:"))&&a.removeAttribute(mt)}let M=a.firstChild;for(;M;)M.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(M),M=M.nextSibling}}const Y0=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,id=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function _f(s){return(s=String(s)).match(Y0)||s.match(id)?s:"unsafe:"+s}function Ma(s){const a={};for(const m of s.split(","))a[m]=!0;return a}function Ia(...s){const a={};for(const m of s)for(const M in m)m.hasOwnProperty(M)&&(a[M]=!0);return a}const hc=Ma("area,br,col,hr,img,wbr"),bf=Ma("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zr=Ma("rp,rt"),No=Ia(hc,Ia(bf,Ma("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ia(Zr,Ma("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ia(Zr,bf)),ho=Ma("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wl=Ma("srcset"),ua=Ia(ho,wl,Ma("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ma("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Hp=Ma("script,style,template");class Uh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let m=a.firstChild,M=!0;for(;m;)if(m.nodeType===Node.ELEMENT_NODE?M=this.startElement(m):m.nodeType===Node.TEXT_NODE?this.chars(m.nodeValue):this.sanitizedSomething=!0,M&&m.firstChild)m=m.firstChild;else for(;m;){m.nodeType===Node.ELEMENT_NODE&&this.endElement(m);let I=this.checkClobberedElement(m,m.nextSibling);if(I){m=I;break}m=this.checkClobberedElement(m,m.parentNode)}return this.buf.join("")}startElement(a){const m=a.nodeName.toLowerCase();if(!No.hasOwnProperty(m))return this.sanitizedSomething=!0,!Hp.hasOwnProperty(m);this.buf.push("<"),this.buf.push(m);const M=a.attributes;for(let I=0;I<M.length;I++){const K=M.item(I),mt=K.name,At=mt.toLowerCase();if(!ua.hasOwnProperty(At)){this.sanitizedSomething=!0;continue}let Ht=K.value;ho[At]&&(Ht=_f(Ht)),wl[At]&&(s=Ht,Ht=(s=String(s)).split(",").map(a=>_f(a.trim())).join(", ")),this.buf.push(" ",mt,'="',Ca(Ht),'"')}var s;return this.buf.push(">"),!0}endElement(a){const m=a.nodeName.toLowerCase();No.hasOwnProperty(m)&&!hc.hasOwnProperty(m)&&(this.buf.push("</"),this.buf.push(m),this.buf.push(">"))}chars(a){this.buf.push(Ca(a))}checkClobberedElement(a,m){if(m&&(a.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return m}}const fc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Lc=/([^\#-~ |!])/g;function Ca(s){return s.replace(/&/g,"&amp;").replace(fc,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(Lc,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let xu;function nl(s,a){let m=null;try{xu=xu||function(s){const a=new ed(s);return function(){try{return!!(new window.DOMParser).parseFromString(va(""),"text/html")}catch(s){return!1}}()?new zp(a):a}(s);let M=a?String(a):"";m=xu.getInertBodyElement(M);let I=5,K=M;do{if(0===I)throw new Error("Failed to sanitize html because the input is unstable");I--,M=K,K=m.innerHTML,m=xu.getInertBodyElement(M)}while(M!==K);return va((new Uh).sanitizeChildren(Gp(m)||m))}finally{if(m){const M=Gp(m)||m;for(;M.firstChild;)M.removeChild(M.firstChild)}}}function Gp(s){return"content"in s&&function(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Sa=(()=>((Sa=Sa||{})[Sa.NONE=0]="NONE",Sa[Sa.HTML=1]="HTML",Sa[Sa.STYLE=2]="STYLE",Sa[Sa.SCRIPT=3]="SCRIPT",Sa[Sa.URL=4]="URL",Sa[Sa.RESOURCE_URL=5]="RESOURCE_URL",Sa))();function qd(s){const a=_l();return a?a.sanitize(Sa.URL,s)||"":xf(s,"URL")?Xu(s):_f(U(s))}function dc(s){const a=_l();if(a)return H0(a.sanitize(Sa.RESOURCE_URL,s)||"");if(xf(s,"ResourceURL"))return H0(Xu(s));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function _l(){const s=Yn();return s&&s[12]}const Hh="__ngContext__";function Js(s,a){s[Hh]=a}function Pa(s){const a=function(s){return s[Hh]||null}(s);return a?Array.isArray(a)?a:a.lView:null}function Xp(s){return s.ngOriginalError}function Fr(s,...a){s.error(...a)}class Fc{constructor(){this._console=console}handleError(a){const m=this._findOriginalError(a),M=this._findContext(a),I=(s=a)&&s.ngErrorLogger||Fr;var s;I(this._console,"ERROR",a),m&&I(this._console,"ORIGINAL ERROR",m),M&&I(this._console,"ERROR CONTEXT",M)}_findContext(a){return a?a.ngDebugContext||this._findContext(Xp(a)):null}_findOriginalError(a){let m=a&&Xp(a);for(;m&&Xp(m);)m=Xp(m);return m||null}}const ip=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(We))();function Wr(s){return s instanceof Function?s():s}var Ea=(()=>((Ea=Ea||{})[Ea.Important=1]="Important",Ea[Ea.DashCase=2]="DashCase",Ea))();function Os(s,a){return undefined(s,a)}function ad(s){const a=s[3];return Ho(a)?a[3]:a}function Uc(s){return gc(s[13])}function Hc(s){return gc(s[4])}function gc(s){for(;null!==s&&!Ho(s);)s=s[4];return s}function Gc(s,a,m,M,I){if(null!=M){let K,mt=!1;Ho(M)?K=M:wa(M)&&(mt=!0,M=M[0]);const At=ie(M);0===s&&null!==m?null==I?Im(a,m,At):Wh(a,m,At,I||null,!0):1===s&&null!==m?Wh(a,m,At,I||null,!0):2===s?function(s,a,m){const M=ud(s,a);M&&function(s,a,m,M){Dn(s)?s.removeChild(a,m,M):a.removeChild(m)}(s,M,a,m)}(a,At,mt):3===s&&a.destroyNode(At),null!=K&&function(s,a,m,M,I){const K=m[7];K!==ie(m)&&Gc(a,s,M,K,I);for(let At=10;At<m.length;At++){const Ht=m[At];cd(Ht[1],Ht,s,a,M,K)}}(a,s,K,m,I)}}function ld(s,a,m){return Dn(s)?s.createElement(a,m):null===m?s.createElement(a):s.createElementNS(m,a)}function Q0(s,a){const m=s[9],M=m.indexOf(a),I=a[3];1024&a[2]&&(a[2]&=-1025,Qo(I,-1)),m.splice(M,1)}function vc(s,a){if(s.length<=10)return;const m=10+a,M=s[m];if(M){const I=M[17];null!==I&&I!==s&&Q0(I,M),a>0&&(s[m-1][4]=M[4]);const K=Ll(s,10+a);!function(s,a){cd(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(M[1],M);const mt=K[19];null!==mt&&mt.detachView(K[1]),M[3]=null,M[4]=null,M[2]&=-129}return M}function yc(s,a){if(!(256&a[2])){const m=a[11];Dn(m)&&m.destroyNode&&cd(s,a,m,3,null,null),function(s){let a=s[13];if(!a)return Ju(s[1],s);for(;a;){let m=null;if(wa(a))m=a[13];else{const M=a[10];M&&(m=M)}if(!m){for(;a&&!a[4]&&a!==s;)wa(a)&&Ju(a[1],a),a=a[3];null===a&&(a=s),wa(a)&&Ju(a[1],a),m=a&&a[4]}a=m}}(a)}}function Ju(s,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function(s,a){let m;if(null!=s&&null!=(m=s.destroyHooks))for(let M=0;M<m.length;M+=2){const I=a[m[M]];if(!(I instanceof Ru)){const K=m[M+1];if(Array.isArray(K))for(let mt=0;mt<K.length;mt+=2){const At=I[K[mt]],Ht=K[mt+1];try{Ht.call(At)}finally{}}else try{K.call(I)}finally{}}}}(s,a),function(s,a){const m=s.cleanup,M=a[7];let I=-1;if(null!==m)for(let K=0;K<m.length-1;K+=2)if("string"==typeof m[K]){const mt=m[K+1],At="function"==typeof mt?mt(a):ie(a[mt]),Ht=M[I=m[K+2]],pe=m[K+3];"boolean"==typeof pe?At.removeEventListener(m[K],Ht,pe):pe>=0?M[I=pe]():M[I=-pe].unsubscribe(),K+=2}else{const mt=M[I=m[K+1]];m[K].call(mt)}if(null!==M){for(let K=I+1;K<M.length;K++)M[K]();a[7]=null}}(s,a),1===a[1].type&&Dn(a[11])&&a[11].destroy();const m=a[17];if(null!==m&&Ho(a[3])){m!==a[3]&&Q0(m,a);const M=a[19];null!==M&&M.detachView(s)}}}function _g(s,a,m){return function(s,a,m){let M=a;for(;null!==M&&40&M.type;)M=(a=M).parent;if(null===M)return m[0];if(2&M.flags){const I=s.data[M.directiveStart].encapsulation;if(I===yt.None||I===yt.Emulated)return null}return vi(M,m)}(s,a.parent,m)}function Wh(s,a,m,M,I){Dn(s)?s.insertBefore(a,m,M,I):a.insertBefore(m,M,I)}function Im(s,a,m){Dn(s)?s.appendChild(a,m):a.appendChild(m)}function tm(s,a,m,M,I){null!==M?Wh(s,a,m,M,I):Im(s,a,m)}function ud(s,a){return Dn(s)?s.parentNode(a):a.parentNode}function em(s,a,m){return bg(s,a,m)}let bg=function(s,a,m){return 40&s.type?vi(s,m):null};function hd(s,a,m,M){const I=_g(s,M,a),K=a[11],At=em(M.parent||a[6],M,a);if(null!=I)if(Array.isArray(m))for(let Ht=0;Ht<m.length;Ht++)tm(K,I,m[Ht],At,!1);else tm(K,I,m,At,!1)}function op(s,a){if(null!==a){const m=a.type;if(3&m)return vi(a,s);if(4&m)return im(-1,s[a.index]);if(8&m){const M=a.child;if(null!==M)return op(s,M);{const I=s[a.index];return Ho(I)?im(-1,I):ie(I)}}if(32&m)return Os(a,s)()||ie(s[a.index]);{const M=hl(s,a);return null!==M?Array.isArray(M)?M[0]:op(ad(s[16]),M):op(s,a.next)}}return null}function hl(s,a){return null!==a?s[16][6].projection[a.projection]:null}function im(s,a){const m=10+s+1;if(m<a.length){const M=a[m],I=M[1].firstChild;if(null!==I)return op(M,I)}return a[7]}function eu(s,a,m,M,I,K,mt){for(;null!=m;){const At=M[m.index],Ht=m.type;if(mt&&0===a&&(At&&Js(ie(At),M),m.flags|=4),64!=(64&m.flags))if(8&Ht)eu(s,a,m.child,M,I,K,!1),Gc(a,s,I,At,K);else if(32&Ht){const pe=Os(m,M);let Te;for(;Te=pe();)Gc(a,s,I,Te,K);Gc(a,s,I,At,K)}else 16&Ht?_u(s,a,M,m,I,K):Gc(a,s,I,At,K);m=mt?m.projectionNext:m.next}}function cd(s,a,m,M,I,K){eu(m,M,s.firstChild,a,I,K,!1)}function _u(s,a,m,M,I,K){const mt=m[16],Ht=mt[6].projection[M.projection];if(Array.isArray(Ht))for(let pe=0;pe<Ht.length;pe++)Gc(a,s,I,Ht[pe],K);else eu(s,a,Ht,mt[3],I,K,!0)}function om(s,a,m){Dn(s)?s.setAttribute(a,"style",m):a.style.cssText=m}function iu(s,a,m){Dn(s)?""===m?s.removeAttribute(a,"class"):s.setAttribute(a,"class",m):a.className=m}function sp(s,a,m){let M=s.length;for(;;){const I=s.indexOf(a,m);if(-1===I)return I;if(0===I||s.charCodeAt(I-1)<=32){const K=a.length;if(I+K===M||s.charCodeAt(I+K)<=32)return I}m=I+1}}const fd="ng-template";function Nm(s,a,m){let M=0;for(;M<s.length;){let I=s[M++];if(m&&"class"===I){if(I=s[M],-1!==sp(I.toLowerCase(),a,0))return!0}else if(1===I){for(;M<s.length&&"string"==typeof(I=s[M++]);)if(I.toLowerCase()===a)return!0;return!1}}return!1}function r0(s){return 4===s.type&&s.value!==fd}function ap(s,a,m){return a===(4!==s.type||m?s.value:fd)}function nu(s,a,m){let M=4;const I=s.attrs||[],K=function(s){for(let a=0;a<s.length;a++)if(Pp(s[a]))return a;return s.length}(I);let mt=!1;for(let At=0;At<a.length;At++){const Ht=a[At];if("number"!=typeof Ht){if(!mt)if(4&M){if(M=2|1&M,""!==Ht&&!ap(s,Ht,m)||""===Ht&&1===a.length){if(jo(M))return!1;mt=!0}}else{const pe=8&M?Ht:a[++At];if(8&M&&null!==s.attrs){if(!Nm(s.attrs,pe,m)){if(jo(M))return!1;mt=!0}continue}const ai=o0(8&M?"class":Ht,I,r0(s),m);if(-1===ai){if(jo(M))return!1;mt=!0;continue}if(""!==pe){let gi;gi=ai>K?"":I[ai+1].toLowerCase();const Yi=8&M?gi:null;if(Yi&&-1!==sp(Yi,pe,0)||2&M&&pe!==gi){if(jo(M))return!1;mt=!0}}}}else{if(!mt&&!jo(M)&&!jo(Ht))return!1;if(mt&&jo(Ht))continue;mt=!1,M=Ht|1&M}}return jo(M)||mt}function jo(s){return 0==(1&s)}function o0(s,a,m,M){if(null===a)return-1;let I=0;if(M||!m){let K=!1;for(;I<a.length;){const mt=a[I];if(mt===s)return I;if(3===mt||6===mt)K=!0;else{if(1===mt||2===mt){let At=a[++I];for(;"string"==typeof At;)At=a[++I];continue}if(4===mt)break;if(0===mt){I+=4;continue}}I+=K?1:2}return-1}return function(s,a){let m=s.indexOf(4);if(m>-1)for(m++;m<s.length;){const M=s[m];if("number"==typeof M)return-1;if(M===a)return m;m++}return-1}(a,s)}function Da(s,a,m=!1){for(let M=0;M<a.length;M++)if(nu(s,a[M],m))return!0;return!1}function ru(s,a){t:for(let m=0;m<a.length;m++){const M=a[m];if(s.length===M.length){for(let I=0;I<s.length;I++)if(s[I]!==M[I])continue t;return!0}}return!1}function bh(s,a){return s?":not("+a.trim()+")":a}function Ka(s){let a=s[0],m=1,M=2,I="",K=!1;for(;m<s.length;){let mt=s[m];if("string"==typeof mt)if(2&M){const At=s[++m];I+="["+mt+(At.length>0?'="'+At+'"':"")+"]"}else 8&M?I+="."+mt:4&M&&(I+=" "+mt);else""!==I&&!jo(mt)&&(a+=bh(K,I),I=""),M=mt,K=K||!jo(M);m++}return""!==I&&(a+=bh(K,I)),a}const mo={};function lp(s){Yc(no(),Yn(),hs()+s,li())}function Yc(s,a,m,M){if(!M)if(3==(3&a[2])){const K=s.preOrderCheckHooks;null!==K&&Mo(a,K,m)}else{const K=s.preOrderHooks;null!==K&&tl(a,K,0,m)}Po(m)}function bu(s,a){return s<<17|a<<2}function os(s){return s>>17&32767}function l0(s){return 2|s}function Qu(s){return(131068&s)>>2}function Bu(s,a){return-131069&s|a<<2}function Tf(s){return 1|s}function Ii(s,a){const m=s.contentQueries;if(null!==m)for(let M=0;M<m.length;M+=2){const I=m[M],K=m[M+1];if(-1!==K){const mt=s.data[K];ro(I),mt.contentQueries(2,a[K],K)}}}function Ai(s,a,m,M,I,K,mt,At,Ht,pe){const Te=a.blueprint.slice();return Te[0]=I,Te[2]=140|M,vr(Te),Te[3]=Te[15]=s,Te[8]=m,Te[10]=mt||s&&s[10],Te[11]=At||s&&s[11],Te[12]=Ht||s&&s[12]||null,Te[9]=pe||s&&s[9]||null,Te[6]=K,Te[16]=2==a.type?s[16]:Te,Te}function mn(s,a,m,M,I){let K=s.data[a];if(null===K)K=function(s,a,m,M,I){const K=Us(),mt=It(),Ht=s.data[a]=function(s,a,m,M,I,K){return{type:m,index:M,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:I,attrs:K,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,mt?K:K&&K.parent,m,a,M,I);return null===s.firstChild&&(s.firstChild=Ht),null!==K&&(mt?null==K.child&&null!==Ht.parent&&(K.child=Ht):null===K.next&&(K.next=Ht)),Ht}(s,a,m,M,I),zn.lFrame.inI18n&&(K.flags|=64);else if(64&K.type){K.type=m,K.value=M,K.attrs=I;const mt=function(){const s=zn.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();K.injectorIndex=null===mt?-1:mt.injectorIndex}return Fe(K,!0),K}function dn(s,a,m,M){if(0===m)return-1;const I=a.length;for(let K=0;K<m;K++)a.push(M),s.blueprint.push(M),s.data.push(null);return I}function un(s,a,m){ws(a);try{const M=s.viewQuery;null!==M&&Fs(1,M,m);const I=s.template;null!==I&&Cn(s,a,I,1,m),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Ii(s,a),s.staticViewQueries&&Fs(2,s.viewQuery,m);const K=s.components;null!==K&&function(s,a){for(let m=0;m<a.length;m++)Of(s,a[m])}(a,K)}catch(M){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),M}finally{a[2]&=-5,bo()}}function fn(s,a,m,M){const I=a[2];if(256==(256&I))return;ws(a);const K=li();try{vr(a),function(s){zn.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==m&&Cn(s,a,m,2,M);const mt=3==(3&I);if(!K)if(mt){const pe=s.preOrderCheckHooks;null!==pe&&Mo(a,pe,null)}else{const pe=s.preOrderHooks;null!==pe&&tl(a,pe,0,null),ra(a,0)}if(function(s){for(let a=Uc(s);null!==a;a=Hc(a)){if(!a[2])continue;const m=a[9];for(let M=0;M<m.length;M++){const I=m[M],K=I[3];0==(1024&I[2])&&Qo(K,1),I[2]|=1024}}}(a),function(s){for(let a=Uc(s);null!==a;a=Hc(a))for(let m=10;m<a.length;m++){const M=a[m],I=M[1];gn(M)&&fn(I,M,I.template,M[8])}}(a),null!==s.contentQueries&&Ii(s,a),!K)if(mt){const pe=s.contentCheckHooks;null!==pe&&Mo(a,pe)}else{const pe=s.contentHooks;null!==pe&&tl(a,pe,1),ra(a,1)}!function(s,a){const m=s.hostBindingOpCodes;if(null!==m)try{for(let M=0;M<m.length;M++){const I=m[M];if(I<0)Po(~I);else{const K=I,mt=m[++M],At=m[++M];Yr(mt,K),At(2,a[K])}}}finally{Po(-1)}}(s,a);const At=s.components;null!==At&&function(s,a){for(let m=0;m<a.length;m++)xc(s,a[m])}(a,At);const Ht=s.viewQuery;if(null!==Ht&&Fs(2,Ht,M),!K)if(mt){const pe=s.viewCheckHooks;null!==pe&&Mo(a,pe)}else{const pe=s.viewHooks;null!==pe&&tl(a,pe,2),ra(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),K||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,Qo(a[3],-1))}finally{bo()}}function Nn(s,a,m,M){const I=a[10],K=!li(),mt=rn(a);try{K&&!mt&&I.begin&&I.begin(),mt&&un(s,a,M),fn(s,a,m,M)}finally{K&&!mt&&I.end&&I.end()}}function Cn(s,a,m,M,I){const K=hs(),mt=2&M;try{Po(-1),mt&&a.length>20&&Yc(s,a,20,li()),m(M,I)}finally{Po(K)}}function Ji(s,a,m){if(ea(a)){const I=a.directiveEnd;for(let K=a.directiveStart;K<I;K++){const mt=s.data[K];mt.contentQueries&&mt.contentQueries(1,m[K],K)}}}function Hn(s,a,m){!Ja()||(function(s,a,m,M){const I=m.directiveStart,K=m.directiveEnd;s.firstCreatePass||Me(m,a),Js(M,a);const mt=m.initialInputs;for(let At=I;At<K;At++){const Ht=s.data[At],pe=zs(Ht);pe&&vo(a,m,Ht);const Te=gu(a,s,At,m);Js(Te,a),null!==mt&&$a(0,At-I,Te,Ht,0,mt),pe&&(Cr(m.index,a)[8]=Te)}}(s,a,m,vi(m,a)),128==(128&m.flags)&&function(s,a,m){const M=m.directiveStart,I=m.directiveEnd,mt=m.index,At=zn.lFrame.currentDirectiveIndex;try{Po(mt);for(let Ht=M;Ht<I;Ht++){const pe=s.data[Ht],Te=a[Ht];yr(Ht),(null!==pe.hostBindings||0!==pe.hostVars||null!==pe.hostAttrs)&&Bi(pe,Te)}}finally{Po(-1),yr(At)}}(s,a,m))}function Si(s,a,m=vi){const M=a.localNames;if(null!==M){let I=a.index+1;for(let K=0;K<M.length;K+=2){const mt=M[K+1],At=-1===mt?m(a,s):s[mt];s[I++]=At}}}function Zn(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Wn(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function Wn(s,a,m,M,I,K,mt,At,Ht,pe){const Te=20+M,ai=Te+I,gi=function(s,a){const m=[];for(let M=0;M<a;M++)m.push(M<s?null:mo);return m}(Te,ai),Yi="function"==typeof pe?pe():pe;return gi[1]={type:s,blueprint:gi,template:m,queries:null,viewQuery:At,declTNode:a,data:gi.slice().fill(null,Te),bindingStartIndex:Te,expandoStartIndex:ai,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof K?K():K,pipeRegistry:"function"==typeof mt?mt():mt,firstChild:null,schemas:Ht,consts:Yi,incompleteFirstPass:!1}}function _r(s,a,m,M){const I=gd(a);null===m?I.push(M):(I.push(m),s.firstCreatePass&&up(s).push(M,I.length-1))}function yo(s,a,m){for(let M in s)if(s.hasOwnProperty(M)){const I=s[M];(m=null===m?{}:m).hasOwnProperty(M)?m[M].push(a,I):m[M]=[a,I]}return m}function Kr(s,a,m,M,I,K,mt,At){const Ht=vi(a,m);let Te,pe=a.inputs;!At&&null!=pe&&(Te=pe[M])?(cp(s,m,Te,M,I),Qr(a)&&function(s,a){const m=Cr(a,s);16&m[2]||(m[2]|=64)}(m,a.index)):3&a.type&&(M=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(M),I=null!=mt?mt(I,a.value||"",M):I,Dn(K)?K.setProperty(Ht,M,I):du(M)||(Ht.setProperty?Ht.setProperty(M,I):Ht[M]=I))}function mi(s,a,m,M){let I=!1;if(Ja()){const K=function(s,a,m){const M=s.directiveRegistry;let I=null;if(M)for(let K=0;K<M.length;K++){const mt=M[K];Da(m,mt.selectors,!1)&&(I||(I=[]),In(Me(m,a),s,mt.type),zs(mt)?(Ur(s,m),I.unshift(mt)):I.push(mt))}return I}(s,a,m),mt=null===M?null:{"":-1};if(null!==K){I=!0,Oo(m,s.data.length,K.length);for(let Te=0;Te<K.length;Te++){const ai=K[Te];ai.providersResolver&&ai.providersResolver(ai)}let At=!1,Ht=!1,pe=dn(s,a,K.length,null);for(let Te=0;Te<K.length;Te++){const ai=K[Te];m.mergedAttrs=kc(m.mergedAttrs,ai.hostAttrs),ss(s,m,a,pe,ai),ys(pe,ai,mt),null!==ai.contentQueries&&(m.flags|=8),(null!==ai.hostBindings||null!==ai.hostAttrs||0!==ai.hostVars)&&(m.flags|=128);const gi=ai.type.prototype;!At&&(gi.ngOnChanges||gi.ngOnInit||gi.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(m.index),At=!0),!Ht&&(gi.ngOnChanges||gi.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(m.index),Ht=!0),pe++}!function(s,a){const M=a.directiveEnd,I=s.data,K=a.attrs,mt=[];let At=null,Ht=null;for(let pe=a.directiveStart;pe<M;pe++){const Te=I[pe],ai=Te.inputs,gi=null===K||r0(a)?null:Mu(ai,K);mt.push(gi),At=yo(ai,pe,At),Ht=yo(Te.outputs,pe,Ht)}null!==At&&(At.hasOwnProperty("class")&&(a.flags|=16),At.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=mt,a.inputs=At,a.outputs=Ht}(s,m)}mt&&function(s,a,m){if(a){const M=s.localNames=[];for(let I=0;I<a.length;I+=2){const K=m[a[I+1]];if(null==K)throw new z("301",`Export of name '${a[I+1]}' not found!`);M.push(a[I],K)}}}(m,M,mt)}return m.mergedAttrs=kc(m.mergedAttrs,m.attrs),I}function En(s,a,m,M,I,K){const mt=K.hostBindings;if(mt){let At=s.hostBindingOpCodes;null===At&&(At=s.hostBindingOpCodes=[]);const Ht=~a.index;(function(s){let a=s.length;for(;a>0;){const m=s[--a];if("number"==typeof m&&m<0)return m}return 0})(At)!=Ht&&At.push(Ht),At.push(M,I,mt)}}function Bi(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function Ur(s,a){a.flags|=2,(s.components||(s.components=[])).push(a.index)}function ys(s,a,m){if(m){if(a.exportAs)for(let M=0;M<a.exportAs.length;M++)m[a.exportAs[M]]=s;zs(a)&&(m[""]=s)}}function Oo(s,a,m){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+m,s.providerIndexes=a}function ss(s,a,m,M,I){s.data[M]=I;const K=I.factory||(I.factory=hr(I.type)),mt=new Ru(K,zs(I),null);s.blueprint[M]=mt,m[M]=mt,En(s,a,0,M,dn(s,m,I.hostVars,mo),I)}function vo(s,a,m){const M=vi(a,s),I=Zn(m),K=s[10],mt=eh(s,Ai(s,I,null,m.onPush?64:16,M,a,K,K.createRenderer(M,m),null,null));s[a.index]=mt}function fo(s,a,m,M,I,K){const mt=vi(s,a);!function(s,a,m,M,I,K,mt){if(null==K)Dn(s)?s.removeAttribute(a,I,m):a.removeAttribute(I);else{const At=null==mt?U(K):mt(K,M||"",I);Dn(s)?s.setAttribute(a,I,At,m):m?a.setAttributeNS(m,I,At):a.setAttribute(I,At)}}(a[11],mt,K,s.value,m,M,I)}function $a(s,a,m,M,I,K){const mt=K[a];if(null!==mt){const At=M.setInput;for(let Ht=0;Ht<mt.length;){const pe=mt[Ht++],Te=mt[Ht++],ai=mt[Ht++];null!==At?M.setInput(m,ai,pe,Te):m[Te]=ai}}}function Mu(s,a){let m=null,M=0;for(;M<a.length;){const I=a[M];if(0!==I)if(5!==I){if("number"==typeof I)break;s.hasOwnProperty(I)&&(null===m&&(m=[]),m.push(I,s[I],a[M+1])),M+=2}else M+=2;else M+=4}return m}function Xa(s,a,m,M){return new Array(s,!0,!1,a,null,0,M,m,null,null)}function xc(s,a){const m=Cr(a,s);if(gn(m)){const M=m[1];80&m[2]?fn(M,m,M.template,m[8]):m[5]>0&&su(m)}}function su(s){for(let M=Uc(s);null!==M;M=Hc(M))for(let I=10;I<M.length;I++){const K=M[I];if(1024&K[2]){const mt=K[1];fn(mt,K,mt.template,K[8])}else K[5]>0&&su(K)}const m=s[1].components;if(null!==m)for(let M=0;M<m.length;M++){const I=Cr(m[M],s);gn(I)&&I[5]>0&&su(I)}}function Of(s,a){const m=Cr(a,s),M=m[1];(function(s,a){for(let m=a.length;m<s.blueprint.length;m++)a.push(s.blueprint[m])})(M,m),un(M,m,m[8])}function eh(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function Kc(s){for(;s;){s[2]|=64;const a=ad(s);if(Va(s)&&!a)return s;s=a}return null}function Hl(s,a,m){const M=a[10];M.begin&&M.begin();try{fn(s,a,s.template,m)}catch(I){throw u0(a,I),I}finally{M.end&&M.end()}}function Cu(s){!function(s){for(let a=0;a<s.components.length;a++){const m=s.components[a],M=Pa(m),I=M[1];Nn(I,M,I.template,m)}}(s[8])}function Fs(s,a,m){ro(0),a(s,m)}const au=(()=>Promise.resolve(null))();function gd(s){return s[7]||(s[7]=[])}function up(s){return s.cleanup||(s.cleanup=[])}function hp(s,a,m){return(null===s||zs(s))&&(m=function(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(m[a.index])),m[11]}function u0(s,a){const m=s[9],M=m?m.get(Fc,null):null;M&&M.handleError(a)}function cp(s,a,m,M,I){for(let K=0;K<m.length;){const mt=m[K++],At=m[K++],Ht=a[mt],pe=s.data[mt];null!==pe.setInput?pe.setInput(Ht,I,M,At):Ht[At]=I}}function Gl(s,a,m){const M=Ve(a,s);!function(s,a,m){Dn(s)?s.setValue(a,m):a.textContent=m}(s[11],M,m)}function wc(s,a,m){let M=m?s.styles:null,I=m?s.classes:null,K=0;if(null!==a)for(let mt=0;mt<a.length;mt++){const At=a[mt];"number"==typeof At?K=At:1==K?I=Z(I,At):2==K&&(M=Z(M,At+": "+a[++mt]+";"))}m?s.styles=M:s.stylesWithoutHost=M,m?s.classes=I:s.classesWithoutHost=I}const Xc=new Eo("INJECTOR",-1);class lu{get(a,m=Oc){if(m===Oc){const M=new Error(`NullInjectorError: No provider for ${rt(a)}!`);throw M.name="NullInjectorError",M}return m}}const Lf=new Eo("Set Injector scope."),vd={},Zc={};let Su;function f0(){return void 0===Su&&(Su=new lu),Su}function $h(s,a=null,m=null,M){return new ty(s,m,a||f0(),M)}class ty{constructor(a,m,M,I=null){this.parent=M,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const K=[];m&&_a(m,At=>this.processProvider(At,a,m)),_a([a],At=>this.processInjectorType(At,[],K)),this.records.set(Xc,p0(void 0,this));const mt=this.records.get(Lf);this.scope=null!=mt?mt.value:null,this.source=I||("object"==typeof a?null:rt(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,m=Oc,M=Pt.Default){this.assertNotDestroyed();const I=Ic(this),K=Ge(void 0);try{if(!(M&Pt.SkipSelf)){let At=this.records.get(a);if(void 0===At){const Ht=("function"==typeof(s=a)||"object"==typeof s&&s instanceof Eo)&&Vt(a);At=Ht&&this.injectableDefInScope(Ht)?p0(Mh(a),vd):null,this.records.set(a,At)}if(null!=At)return this.hydrate(a,At)}return(M&Pt.Self?f0():this.parent).get(a,m=M&Pt.Optional&&m===Oc?null:m)}catch(mt){if("NullInjectorError"===mt.name){if((mt[yu]=mt[yu]||[]).unshift(rt(a)),I)throw mt;return Em(mt,a,"R3InjectorError",this.source)}throw mt}finally{Ge(K),Ic(I)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((M,I)=>a.push(rt(I))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(a,m,M){if(!(a=et(a)))return!1;let I=Nt(a);const K=null==I&&a.ngModule||void 0,mt=void 0===K?a:K,At=-1!==M.indexOf(mt);if(void 0!==K&&(I=Nt(K)),null==I)return!1;if(null!=I.imports&&!At){let Te;M.push(mt);try{_a(I.imports,ai=>{this.processInjectorType(ai,m,M)&&(void 0===Te&&(Te=[]),Te.push(ai))})}finally{}if(void 0!==Te)for(let ai=0;ai<Te.length;ai++){const{ngModule:gi,providers:Yi}=Te[ai];_a(Yi,en=>this.processProvider(en,gi,Yi||je))}}this.injectorDefTypes.add(mt);const Ht=hr(mt)||(()=>new mt);this.records.set(mt,p0(Ht,vd));const pe=I.providers;if(null!=pe&&!At){const Te=a;_a(pe,ai=>this.processProvider(ai,Te,pe))}return void 0!==K&&void 0!==a.providers}processProvider(a,m,M){let I=pp(a=et(a))?a:et(a&&a.provide);const K=(s=a,qc(s)?p0(void 0,s.useValue):p0(Dg(s),vd));var s;if(pp(a)||!0!==a.multi)this.records.get(I);else{let mt=this.records.get(I);mt||(mt=p0(void 0,vd,!0),mt.factory=()=>Bh(mt.multi),this.records.set(I,mt)),I=a,mt.multi.push(a)}this.records.set(I,K)}hydrate(a,m){return m.value===vd&&(m.value=Zc,m.value=m.factory()),"object"==typeof m.value&&m.value&&null!==(s=m.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(m.value),m.value;var s}injectableDefInScope(a){if(!a.providedIn)return!1;const m=et(a.providedIn);return"string"==typeof m?"any"===m||m===this.scope:this.injectorDefTypes.has(m)}}function Mh(s){const a=Vt(s),m=null!==a?a.factory:hr(s);if(null!==m)return m;if(s instanceof Eo)throw new Error(`Token ${rt(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const a=s.length;if(a>0){const M=Nl(a,"?");throw new Error(`Can't resolve all parameters for ${rt(s)}: (${M.join(", ")}).`)}const m=function(s){const a=s&&(s[Kt]||s[zt]);if(a){const m=function(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${m}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${m}" class.`),a}return null}(s);return null!==m?()=>m.factory(s):()=>new s}(s);throw new Error("unreachable")}function Dg(s,a,m){let M;if(pp(s)){const I=et(s);return hr(I)||Mh(I)}if(qc(s))M=()=>et(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))M=()=>s.useFactory(...Bh(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))M=()=>ba(et(s.useExisting));else{const I=et(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return hr(I)||Mh(I);M=()=>new I(...Bh(s.deps))}return M}function p0(s,a,m=!1){return{factory:s,value:a,multi:m?[]:void 0}}function qc(s){return null!==s&&"object"==typeof s&&Ql in s}function pp(s){return"function"==typeof s}const Rr=function(s,a,m){return function(s,a=null,m=null,M){const I=$h(s,a,m,M);return I._resolveInjectorDefTypes(),I}({name:m},a,s,m)};let As=(()=>{class s{static create(m,M){return Array.isArray(m)?Rr(m,M,""):Rr(m.providers,m.parent,m.name||"")}}return s.THROW_IF_NOT_FOUND=Oc,s.NULL=new lu,s.\u0275prov=St({token:s,providedIn:"any",factory:()=>ba(Xc)}),s.__NG_ELEMENT_ID__=-1,s})();function ox(s,a){ma(Pa(s)[1],Ss())}function sy(s){let a=function(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),m=!0;const M=[s];for(;a;){let I;if(zs(s))I=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Error("Directives cannot inherit Components");I=a.\u0275dir}if(I){if(m){M.push(I);const mt=s;mt.inputs=ay(s.inputs),mt.declaredInputs=ay(s.declaredInputs),mt.outputs=ay(s.outputs);const At=I.hostBindings;At&&Sn(s,At);const Ht=I.viewQuery,pe=I.contentQueries;if(Ht&&nh(s,Ht),pe&&ly(s,pe),G(s.inputs,I.inputs),G(s.declaredInputs,I.declaredInputs),G(s.outputs,I.outputs),zs(I)&&I.data.animation){const Te=s.data;Te.animation=(Te.animation||[]).concat(I.data.animation)}}const K=I.features;if(K)for(let mt=0;mt<K.length;mt++){const At=K[mt];At&&At.ngInherit&&At(s),At===sy&&(m=!1)}}a=Object.getPrototypeOf(a)}!function(s){let a=0,m=null;for(let M=s.length-1;M>=0;M--){const I=s[M];I.hostVars=a+=I.hostVars,I.hostAttrs=kc(I.hostAttrs,m=kc(m,I.hostAttrs))}}(M)}function ay(s){return s===wi?{}:s===je?[]:s}function nh(s,a){const m=s.viewQuery;s.viewQuery=m?(M,I)=>{a(M,I),m(M,I)}:a}function ly(s,a){const m=s.contentQueries;s.contentQueries=m?(M,I,K)=>{a(M,I,K),m(M,I,K)}:a}function Sn(s,a){const m=s.hostBindings;s.hostBindings=m?(M,I)=>{a(M,I),m(M,I)}:a}let y0=null;function Qc(){if(!y0){const s=We.Symbol;if(s&&s.iterator)y0=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let m=0;m<a.length;++m){const M=a[m];"entries"!==M&&"size"!==M&&Map.prototype[M]===Map.prototype.entries&&(y0=M)}}}return y0}function Tg(s){return!!Pg(s)&&(Array.isArray(s)||!(s instanceof Map)&&Qc()in s)}function Pg(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Zs(s,a,m){return s[a]=m}function cs(s,a,m){return!Object.is(s[a],m)&&(s[a]=m,!0)}function zm(s,a,m,M){const I=cs(s,a,m);return cs(s,a+1,M)||I}function hy(s,a,m,M){const I=Yn();return cs(I,cr(),a)&&(no(),fo(ur(),I,s,a,m,M)),hy}function Eu(s,a,m,M){return cs(s,cr(),m)?a+U(m)+M:mo}function Du(s,a,m,M,I,K){const At=zm(s,zn.lFrame.bindingIndex,m,I);return Mr(2),At?a+U(m)+M+U(I)+K:mo}function Au(s,a,m,M,I,K,mt,At){const Ht=Yn(),pe=no(),Te=s+20,ai=pe.firstCreatePass?function(s,a,m,M,I,K,mt,At,Ht){const pe=a.consts,Te=mn(a,s,4,mt||null,Mn(pe,At));mi(a,m,Te,Mn(pe,Ht)),ma(a,Te);const ai=Te.tViews=Wn(2,Te,M,I,K,a.directiveRegistry,a.pipeRegistry,null,a.schemas,pe);return null!==a.queries&&(a.queries.template(a,Te),ai.queries=a.queries.embeddedTView(Te)),Te}(Te,pe,Ht,a,m,M,I,K,mt):pe.data[Te];Fe(ai,!1);const gi=Ht[11].createComment("");hd(pe,Ht,gi,ai),Js(gi,Ht),eh(Ht,Ht[Te]=Xa(gi,Ht,gi,ai)),Oa(ai)&&Hn(pe,Ht,ai),null!=mt&&Si(Ht,ai,At)}function gv(s){return On(zn.lFrame.contextLView,20+s)}function Vg(s,a=Pt.Default){const m=Yn();return null===m?ba(s,a):So(Ss(),m,et(s),a)}function yx(){throw new Error("invalid")}function my(s,a,m){const M=Yn();return cs(M,cr(),a)&&Kr(no(),ur(),M,s,a,M[11],m,!1),my}function b0(s,a,m,M,I){const mt=I?"class":"style";cp(s,m,a.inputs[mt],mt,M)}function M0(s,a,m,M){const I=Yn(),K=no(),mt=20+s,At=I[11],Ht=I[mt]=ld(At,a,zn.lFrame.currentNamespace),pe=K.firstCreatePass?function(s,a,m,M,I,K,mt){const At=a.consts,pe=mn(a,s,2,I,Mn(At,K));return mi(a,m,pe,Mn(At,mt)),null!==pe.attrs&&wc(pe,pe.attrs,!1),null!==pe.mergedAttrs&&wc(pe,pe.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,pe),pe}(mt,K,I,0,a,m,M):K.data[mt];Fe(pe,!0);const Te=pe.mergedAttrs;null!==Te&&Rd(At,Ht,Te);const ai=pe.classes;null!==ai&&iu(At,Ht,ai);const gi=pe.styles;null!==gi&&om(At,Ht,gi),64!=(64&pe.flags)&&hd(K,I,Ht,pe),0===zn.lFrame.elementDepthCount&&Js(Ht,I),zn.lFrame.elementDepthCount++,Oa(pe)&&(Hn(K,I,pe),Ji(K,pe,I)),null!==M&&Si(I,pe)}function jg(){let s=Ss();It()?Lt():(s=s.parent,Fe(s,!1));const a=s;zn.lFrame.elementDepthCount--;const m=no();m.firstCreatePass&&(ma(m,s),ea(s)&&m.queries.elementEnd(s)),null!=a.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(a)&&b0(m,a,Yn(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(a)&&b0(m,a,Yn(),a.stylesWithoutHost,!1)}function io(s,a,m,M){M0(s,a,m,M),jg()}function ku(s,a,m){const M=Yn(),I=no(),K=s+20,mt=I.firstCreatePass?function(s,a,m,M,I){const K=a.consts,mt=Mn(K,M),At=mn(a,s,8,"ng-container",mt);return null!==mt&&wc(At,mt,!0),mi(a,m,At,Mn(K,I)),null!==a.queries&&a.queries.elementStart(a,At),At}(K,I,M,a,m):I.data[K];Fe(mt,!0);const At=M[K]=M[11].createComment("");hd(I,M,At,mt),Js(At,M),Oa(mt)&&(Hn(I,M,mt),Ji(I,mt,M)),null!=m&&Si(M,mt)}function gy(){let s=Ss();const a=no();It()?Lt():(s=s.parent,Fe(s,!1)),a.firstCreatePass&&(ma(a,s),ea(s)&&a.queries.elementEnd(s))}function yy(){return Yn()}function xy(s){return!!s&&"function"==typeof s.then}function zg(s){return!!s&&"function"==typeof s.subscribe}const Ev=zg;function h1(s,a,m,M){const I=Yn(),K=no(),mt=Ss();return _y(K,I,I[11],mt,s,a,!!m,M),h1}function wy(s,a){const m=Ss(),M=Yn(),I=no();return _y(I,M,hp(Co(I.data),m,M),m,s,a,!1),wy}function _y(s,a,m,M,I,K,mt,At){const Ht=Oa(M),Te=s.firstCreatePass&&up(s),ai=a[8],gi=gd(a);let Yi=!0;if(3&M.type||At){const xn=vi(M,a),gr=At?At(xn):xn,Xn=gi.length,lo=At?Io=>At(ie(Io[M.index])):M.index;if(Dn(m)){let Io=null;if(!At&&Ht&&(Io=function(s,a,m,M){const I=s.cleanup;if(null!=I)for(let K=0;K<I.length-1;K+=2){const mt=I[K];if(mt===m&&I[K+1]===M){const At=a[7],Ht=I[K+2];return At.length>Ht?At[Ht]:null}"string"==typeof mt&&(K+=2)}return null}(s,a,I,M.index)),null!==Io)(Io.__ngLastListenerFn__||Io).__ngNextListenerFn__=K,Io.__ngLastListenerFn__=K,Yi=!1;else{K=by(M,a,ai,K,!1);const Cs=m.listen(gr,I,K);gi.push(K,Cs),Te&&Te.push(I,lo,Xn,Xn+1)}}else K=by(M,a,ai,K,!0),gr.addEventListener(I,K,mt),gi.push(K),Te&&Te.push(I,lo,Xn,mt)}else K=by(M,a,ai,K,!1);const en=M.outputs;let Tn;if(Yi&&null!==en&&(Tn=en[I])){const xn=Tn.length;if(xn)for(let gr=0;gr<xn;gr+=2){const uh=a[Tn[gr]][Tn[gr+1]].subscribe(K),Tp=gi.length;gi.push(K,uh),Te&&Te.push(I,M.index,Tp,-(Tp+1))}}}function c1(s,a,m,M){try{return!1!==m(M)}catch(I){return u0(s,I),!1}}function by(s,a,m,M,I){return function K(mt){if(mt===Function)return M;const At=2&s.flags?Cr(s.index,a):a;0==(32&a[2])&&Kc(At);let Ht=c1(a,0,M,mt),pe=K.__ngNextListenerFn__;for(;pe;)Ht=c1(a,0,pe,mt)&&Ht,pe=pe.__ngNextListenerFn__;return I&&!1===Ht&&(mt.preventDefault(),mt.returnValue=!1),Ht}}function f1(s=1){return function(s){return(zn.lFrame.contextLView=function(s,a){for(;s>0;)a=a[15],s--;return a}(s,zn.lFrame.contextLView))[8]}(s)}function _x(s,a){let m=null;const M=function(s){const a=s.attrs;if(null!=a){const m=a.indexOf(5);if(0==(1&m))return a[m+1]}return null}(s);for(let I=0;I<a.length;I++){const K=a[I];if("*"!==K){if(null===M?Da(s,K,!0):ru(M,K))return I}else m=I}return m}function d1(s){const a=Yn()[16][6];if(!a.projection){const M=a.projection=Nl(s?s.length:1,null),I=M.slice();let K=a.child;for(;null!==K;){const mt=s?_x(K,s):0;null!==mt&&(I[mt]?I[mt].projectionNext=K:M[mt]=K,I[mt]=K),K=K.next}}}function p1(s,a=0,m){const M=Yn(),I=no(),K=mn(I,20+s,16,null,m||null);null===K.projection&&(K.projection=a),Lt(),64!=(64&K.flags)&&function(s,a,m){_u(a[11],0,a,m,_g(s,m,a),em(m.parent||a[6],m,a))}(I,M,K)}function Dv(s,a,m,M,I){const K=s[m+1],mt=null===a;let At=M?os(K):Qu(K),Ht=!1;for(;0!==At&&(!1===Ht||mt);){const Te=s[At+1];x1(s[At],a)&&(Ht=!0,s[At+1]=M?Tf(Te):l0(Te)),At=M?os(Te):Qu(Te)}Ht&&(s[m+1]=M?l0(K):Tf(K))}function x1(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&Nh(s,a)>=0}const fl={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Av(s){return s.substring(fl.key,fl.keyEnd)}function kv(s,a){const m=fl.textEnd;return m===a?-1:(a=fl.keyEnd=function(s,a,m){for(;a<m&&s.charCodeAt(a)>32;)a++;return a}(s,fl.key=a,m),E0(s,a,m))}function E0(s,a,m){for(;a<m&&s.charCodeAt(a)<=32;)a++;return a}function br(s,a,m){return _d(s,a,m,!1),br}function C1(s,a){return _d(s,a,null,!0),C1}function wd(s,a){for(let m=function(s){return function(s){fl.key=0,fl.keyEnd=0,fl.value=0,fl.valueEnd=0,fl.textEnd=s.length}(s),kv(s,E0(s,0,fl.textEnd))}(a);m>=0;m=kv(a,m))Ya(s,Av(a),!0)}function _d(s,a,m,M){const I=Yn(),K=no(),mt=Mr(2);K.firstUpdatePass&&yp(K,s,mt,M),a!==mo&&cs(I,mt,a)&&ky(K,K.data[hs()],I,I[11],s,I[mt+1]=function(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=rt(Xu(s)))),s}(a,m),M,mt)}function E1(s,a){return a>=s.expandoStartIndex}function yp(s,a,m,M){const I=s.data;if(null===I[m+1]){const K=I[hs()],mt=E1(s,m);Pv(K,M)&&null===a&&!mt&&(a=!1),a=function(s,a,m,M){const I=Co(s);let K=M?a.residualClasses:a.residualStyles;if(null===I)0===(M?a.classBindings:a.styleBindings)&&(m=ef(m=Ey(null,s,a,m,M),a.attrs,M),K=null);else{const mt=a.directiveStylingLast;if(-1===mt||s[mt]!==I)if(m=Ey(I,s,a,m,M),null===K){let Ht=function(s,a,m){const M=m?a.classBindings:a.styleBindings;if(0!==Qu(M))return s[os(M)]}(s,a,M);void 0!==Ht&&Array.isArray(Ht)&&(Ht=Ey(null,s,a,Ht[1],M),Ht=ef(Ht,a.attrs,M),function(s,a,m,M){s[os(m?a.classBindings:a.styleBindings)]=M}(s,a,M,Ht))}else K=function(s,a,m){let M;const I=a.directiveEnd;for(let K=1+a.directiveStylingLast;K<I;K++)M=ef(M,s[K].hostAttrs,m);return ef(M,a.attrs,m)}(s,a,M)}return void 0!==K&&(M?a.residualClasses=K:a.residualStyles=K),m}(I,K,a,M),function(s,a,m,M,I,K){let mt=K?a.classBindings:a.styleBindings,At=os(mt),Ht=Qu(mt);s[M]=m;let Te,pe=!1;if(Array.isArray(m)){const ai=m;Te=ai[1],(null===Te||Nh(ai,Te)>0)&&(pe=!0)}else Te=m;if(I)if(0!==Ht){const gi=os(s[At+1]);s[M+1]=bu(gi,At),0!==gi&&(s[gi+1]=Bu(s[gi+1],M)),s[At+1]=function(s,a){return 131071&s|a<<17}(s[At+1],M)}else s[M+1]=bu(At,0),0!==At&&(s[At+1]=Bu(s[At+1],M)),At=M;else s[M+1]=bu(Ht,0),0===At?At=M:s[Ht+1]=Bu(s[Ht+1],M),Ht=M;pe&&(s[M+1]=l0(s[M+1])),Dv(s,Te,M,!0),Dv(s,Te,M,!1),function(s,a,m,M,I){const K=I?s.residualClasses:s.residualStyles;null!=K&&"string"==typeof a&&Nh(K,a)>=0&&(m[M+1]=Tf(m[M+1]))}(a,Te,s,M,K),mt=bu(At,Ht),K?a.classBindings=mt:a.styleBindings=mt}(I,K,a,m,mt,M)}}function Ey(s,a,m,M,I){let K=null;const mt=m.directiveEnd;let At=m.directiveStylingLast;for(-1===At?At=m.directiveStart:At++;At<mt&&(K=a[At],M=ef(M,K.hostAttrs,I),K!==s);)At++;return null!==s&&(m.directiveStylingLast=At),M}function ef(s,a,m){const M=m?1:2;let I=-1;if(null!==a)for(let K=0;K<a.length;K++){const mt=a[K];"number"==typeof mt?I=mt:I===M&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Ya(s,mt,!!m||a[++K]))}return void 0===s?null:s}function ky(s,a,m,M,I,K,mt,At){if(!(3&a.type))return;const Ht=s.data,pe=Ht[At+1];xp(function(s){return 1==(1&s)}(pe)?D0(Ht,a,m,I,Qu(pe),mt):void 0)||(xp(K)||function(s){return 2==(2&s)}(pe)&&(K=D0(Ht,null,m,I,At,mt)),function(s,a,m,M,I){const K=Dn(s);if(a)I?K?s.addClass(m,M):m.classList.add(M):K?s.removeClass(m,M):m.classList.remove(M);else{let mt=-1===M.indexOf("-")?void 0:Ea.DashCase;if(null==I)K?s.removeStyle(m,M,mt):m.style.removeProperty(M);else{const At="string"==typeof I&&I.endsWith("!important");At&&(I=I.slice(0,-10),mt|=Ea.Important),K?s.setStyle(m,M,I,mt):m.style.setProperty(M,I,At?"important":"")}}}(M,mt,Ve(hs(),m),I,K))}function D0(s,a,m,M,I,K){const mt=null===a;let At;for(;I>0;){const Ht=s[I],pe=Array.isArray(Ht),Te=pe?Ht[1]:Ht,ai=null===Te;let gi=m[I+1];gi===mo&&(gi=ai?je:void 0);let Yi=ai?Bd(gi,M):Te===M?gi:void 0;if(pe&&!xp(Yi)&&(Yi=Bd(Ht,M)),xp(Yi)&&(At=Yi,mt))return At;const en=s[I+1];I=mt?os(en):Qu(en)}if(null!==a){let Ht=K?a.residualClasses:a.residualStyles;null!=Ht&&(At=Bd(Ht,M))}return At}function xp(s){return void 0!==s}function Pv(s,a){return 0!=(s.flags&(a?16:32))}function k1(s,a=""){const m=Yn(),M=no(),I=s+20,K=M.firstCreatePass?mn(M,I,1,a,null):M.data[I],mt=m[I]=function(s,a){return Dn(s)?s.createText(a):s.createTextNode(a)}(m[11],a);hd(M,m,mt,K),Fe(K,!1)}function El(s){return oh("",s,""),El}function oh(s,a,m){const M=Yn(),I=Eu(M,s,a,m);return I!==mo&&Gl(M,hs(),I),oh}function Ov(s,a,m,M,I){const K=Yn(),mt=Du(K,s,a,m,M,I);return mt!==mo&&Gl(K,hs(),mt),Ov}function Xm(s,a,m){!function(s,a,m,M){const I=no(),K=Mr(2);I.firstUpdatePass&&yp(I,null,K,M);const mt=Yn();if(m!==mo&&cs(mt,K,m)){const At=I.data[hs()];if(Pv(At,M)&&!E1(I,K)){let Ht=M?At.classesWithoutHost:At.stylesWithoutHost;null!==Ht&&(m=Z(Ht,m||"")),b0(I,At,mt,m,M)}else!function(s,a,m,M,I,K,mt,At){I===mo&&(I=je);let Ht=0,pe=0,Te=0<I.length?I[0]:null,ai=0<K.length?K[0]:null;for(;null!==Te||null!==ai;){const gi=Ht<I.length?I[Ht+1]:void 0,Yi=pe<K.length?K[pe+1]:void 0;let Tn,en=null;Te===ai?(Ht+=2,pe+=2,gi!==Yi&&(en=ai,Tn=Yi)):null===ai||null!==Te&&Te<ai?(Ht+=2,en=Te):(pe+=2,en=ai,Tn=Yi),null!==en&&ky(s,a,m,M,en,Tn,mt,At),Te=Ht<I.length?I[Ht]:null,ai=pe<K.length?K[pe]:null}}(I,At,mt,mt[11],mt[K+1],mt[K+1]=function(s,a,m){if(null==m||""===m)return je;const M=[],I=Xu(m);if(Array.isArray(I))for(let K=0;K<I.length;K++)s(M,I[K],!0);else if("object"==typeof I)for(const K in I)I.hasOwnProperty(K)&&s(M,K,I[K]);else"string"==typeof I&&a(M,I);return M}(s,a,m),M,K)}}(Ya,wd,Eu(Yn(),s,a,m),!0)}function Wg(s,a,m){const M=Yn();return cs(M,cr(),a)&&Kr(no(),ur(),M,s,a,M[11],m,!0),Wg}function Kg(s,a,m){const M=Yn();if(cs(M,cr(),a)){const K=no(),mt=ur();Kr(K,mt,M,s,a,hp(Co(K.data),mt,M),m,!0)}return Kg}const t=void 0;var i=["en",[["a","p"],["AM","PM"],t],[["AM","PM"],t,t],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],t,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],t,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",t,"{1} 'at' {0}",t],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){const m=Math.floor(Math.abs(s)),M=s.toString().replace(/^[^.]*\.?/,"").length;return 1===m&&0===M?1:5}];let n={};function l(s){const a=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let m=D(a);if(m)return m;const M=a.split("-")[0];if(m=D(M),m)return m;if("en"===M)return i;throw new Error(`Missing locale data for the locale "${s}".`)}function _(s){return l(s)[V.PluralCase]}function D(s){return s in n||(n[s]=We.ng&&We.ng.common&&We.ng.common.locales&&We.ng.common.locales[s]),n[s]}var V=(()=>((V=V||{})[V.LocaleId=0]="LocaleId",V[V.DayPeriodsFormat=1]="DayPeriodsFormat",V[V.DayPeriodsStandalone=2]="DayPeriodsStandalone",V[V.DaysFormat=3]="DaysFormat",V[V.DaysStandalone=4]="DaysStandalone",V[V.MonthsFormat=5]="MonthsFormat",V[V.MonthsStandalone=6]="MonthsStandalone",V[V.Eras=7]="Eras",V[V.FirstDayOfWeek=8]="FirstDayOfWeek",V[V.WeekendRange=9]="WeekendRange",V[V.DateFormat=10]="DateFormat",V[V.TimeFormat=11]="TimeFormat",V[V.DateTimeFormat=12]="DateTimeFormat",V[V.NumberSymbols=13]="NumberSymbols",V[V.NumberFormats=14]="NumberFormats",V[V.CurrencyCode=15]="CurrencyCode",V[V.CurrencySymbol=16]="CurrencySymbol",V[V.CurrencyName=17]="CurrencyName",V[V.Currencies=18]="Currencies",V[V.Directionality=19]="Directionality",V[V.PluralCase=20]="PluralCase",V[V.ExtraData=21]="ExtraData",V))();const bt="en-US";let Ke=bt;function Yf(s,a,m,M,I){if(s=et(s),Array.isArray(s))for(let K=0;K<s.length;K++)Yf(s[K],a,m,M,I);else{const K=no(),mt=Yn();let At=pp(s)?s:et(s.provide),Ht=Dg(s);const pe=Ss(),Te=1048575&pe.providerIndexes,ai=pe.directiveStart,gi=pe.providerIndexes>>20;if(pp(s)||!s.multi){const Yi=new Ru(Ht,I,Vg),en=Hu(At,a,I?Te:Te+gi,ai);-1===en?(In(Me(pe,mt),K,At),mm(K,s,a.length),a.push(At),pe.directiveStart++,pe.directiveEnd++,I&&(pe.providerIndexes+=1048576),m.push(Yi),mt.push(Yi)):(m[en]=Yi,mt[en]=Yi)}else{const Yi=Hu(At,a,Te+gi,ai),en=Hu(At,a,Te,Te+gi),Tn=Yi>=0&&m[Yi],xn=en>=0&&m[en];if(I&&!xn||!I&&!Tn){In(Me(pe,mt),K,At);const gr=function(s,a,m,M,I){const K=new Ru(s,m,Vg);return K.multi=[],K.index=a,K.componentProviders=0,kd(K,I,M&&!m),K}(I?ev:T0,m.length,I,M,Ht);!I&&xn&&(m[en].providerFactory=gr),mm(K,s,a.length,0),a.push(At),pe.directiveStart++,pe.directiveEnd++,I&&(pe.providerIndexes+=1048576),m.push(gr),mt.push(gr)}else mm(K,s,Yi>-1?Yi:en,kd(m[I?en:Yi],Ht,!I&&M));!I&&M&&xn&&m[en].componentProviders++}}}function mm(s,a,m,M){const I=pp(a);if(I||function(s){return!!s.useClass}(a)){const mt=(a.useClass||a).prototype.ngOnDestroy;if(mt){const At=s.destroyHooks||(s.destroyHooks=[]);if(!I&&a.multi){const Ht=At.indexOf(m);-1===Ht?At.push(m,[M,mt]):At[Ht+1].push(M,mt)}else At.push(m,mt)}}}function kd(s,a,m){return m&&s.componentProviders++,s.multi.push(a)-1}function Hu(s,a,m,M){for(let I=m;I<M;I++)if(a[I]===s)return I;return-1}function T0(s,a,m,M){return Hv(this.multi,[])}function ev(s,a,m,M){const I=this.multi;let K;if(this.providerFactory){const mt=this.providerFactory.componentProviders,At=gu(m,m[1],this.providerFactory.index,M);K=At.slice(0,mt),Hv(I,K);for(let Ht=mt;Ht<At.length;Ht++)K.push(At[Ht])}else K=[],Hv(I,K);return K}function Hv(s,a){for(let m=0;m<s.length;m++)a.push((0,s[m])());return a}function Qh(s,a=[]){return m=>{m.providersResolver=(M,I)=>function(s,a,m){const M=no();if(M.firstCreatePass){const I=zs(s);Yf(m,M.data,M.blueprint,I,!0),Yf(a,M.data,M.blueprint,I,!1)}}(M,I?I(s):s,a)}}class Kf{}const lf="ngComponent";class Fy{resolveComponentFactory(a){throw function(s){const a=Error(`No component factory found for ${rt(s)}. Did you add it to @NgModule.entryComponents?`);return a[lf]=s,a}(a)}}let tc=(()=>{class s{}return s.NULL=new Fy,s})();function lh(...s){}function Td(s,a){return new uf(vi(s,a))}const nw=function(){return Td(Ss(),Yn())};let uf=(()=>{class s{constructor(m){this.nativeElement=m}}return s.__NG_ELEMENT_ID__=nw,s})();function Vy(s){return s instanceof uf?s.nativeElement:s}class hg{}let cg=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>Ax(),s})();const Ax=function(){const s=Yn(),m=Cr(Ss().index,s);return function(s){return s[11]}(wa(m)?m:s)};let iv=(()=>{class s{}return s.\u0275prov=St({token:s,providedIn:"root",factory:()=>null}),s})();class kx{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Kv=new kx("13.0.0"),P0={};function jy(s,a,m,M,I=!1){for(;null!==m;){const K=a[m.index];if(null!==K&&M.push(ie(K)),Ho(K))for(let At=10;At<K.length;At++){const Ht=K[At],pe=Ht[1].firstChild;null!==pe&&jy(Ht[1],Ht,pe,M)}const mt=m.type;if(8&mt)jy(s,a,m.child,M);else if(32&mt){const At=Os(m,a);let Ht;for(;Ht=At();)M.push(Ht)}else if(16&mt){const At=hl(a,m);if(Array.isArray(At))M.push(...At);else{const Ht=ad(a[16]);jy(Ht[1],Ht,At,M,!0)}}m=I?m.projectionNext:m.next}return M}class vm{constructor(a,m){this._lView=a,this._cdRefInjectingView=m,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,m=a[1];return jy(m,a,m.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Ho(a)){const m=a[8],M=m?m.indexOf(this):-1;M>-1&&(vc(a,M),Ll(m,M))}this._attachedToViewContainer=!1}yc(this._lView[1],this._lView)}onDestroy(a){_r(this._lView[1],this._lView,null,a)}markForCheck(){Kc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Hl(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,a,m){Vi(!0);try{Hl(s,a,m)}finally{Vi(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var a;this._appRef=null,cd(this._lView[1],a=this._lView,a[11],2,null,null)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=a}}class B1 extends vm{constructor(a){super(a),this._view=a}detectChanges(){Cu(this._view)}checkNoChanges(){!function(s){Vi(!0);try{Cu(s)}finally{Vi(!1)}}(this._view)}get context(){return null}}class ec extends tc{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const m=$e(a);return new rw(m,this.ngModule)}}function zy(s){const a=[];for(let m in s)s.hasOwnProperty(m)&&a.push({propName:s[m],templateName:m});return a}const pM=new Eo("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ip});class rw extends Kf{constructor(a,m){super(),this.componentDef=a,this.ngModule=m,this.componentType=a.type,this.selector=a.selectors.map(Ka).join(","),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!m}get inputs(){return zy(this.componentDef.inputs)}get outputs(){return zy(this.componentDef.outputs)}create(a,m,M,I){const K=(I=I||this.ngModule)?function(s,a){return{get:(m,M,I)=>{const K=s.get(m,P0,I);return K!==P0||M===P0?K:a.get(m,M,I)}}}(a,I.injector):a,mt=K.get(hg,Pn),At=K.get(iv,null),Ht=mt.createRenderer(null,this.componentDef),pe=this.componentDef.selectors[0][0]||"div",Te=M?function(s,a,m){if(Dn(s))return s.selectRootElement(a,m===yt.ShadowDom);let M="string"==typeof a?s.querySelector(a):a;return M.textContent="",M}(Ht,M,this.componentDef.encapsulation):ld(mt.createRenderer(null,this.componentDef),pe,function(s){const a=s.toLowerCase();return"svg"===a?Be:"math"===a?"http://www.w3.org/1998/MathML/":null}(pe)),ai=this.componentDef.onPush?576:528,gi=function(s,a){return{components:[],scheduler:s||ip,clean:au,playerHandler:a||null,flags:0}}(),Yi=Wn(0,null,null,1,0,null,null,null,null,null),en=Ai(null,Yi,gi,ai,null,null,mt,Ht,At,K);let Tn,xn;ws(en);try{const gr=function(s,a,m,M,I,K){const mt=m[1];m[20]=s;const Ht=mn(mt,20,2,"#host",null),pe=Ht.mergedAttrs=a.hostAttrs;null!==pe&&(wc(Ht,pe,!0),null!==s&&(Rd(I,s,pe),null!==Ht.classes&&iu(I,s,Ht.classes),null!==Ht.styles&&om(I,s,Ht.styles)));const Te=M.createRenderer(s,a),ai=Ai(m,Zn(a),null,a.onPush?64:16,m[20],Ht,M,Te,K||null,null);return mt.firstCreatePass&&(In(Me(Ht,m),mt,a.type),Ur(mt,Ht),Oo(Ht,m.length,1)),eh(m,ai),m[20]=ai}(Te,this.componentDef,en,mt,Ht);if(Te)if(M)Rd(Ht,Te,["ng-version",Kv.full]);else{const{attrs:Xn,classes:lo}=function(s){const a=[],m=[];let M=1,I=2;for(;M<s.length;){let K=s[M];if("string"==typeof K)2===I?""!==K&&a.push(K,s[++M]):8===I&&m.push(K);else{if(!jo(I))break;I=K}M++}return{attrs:a,classes:m}}(this.componentDef.selectors[0]);Xn&&Rd(Ht,Te,Xn),lo&&lo.length>0&&iu(Ht,Te,lo.join(" "))}if(xn=An(Yi,20),void 0!==m){const Xn=xn.projection=[];for(let lo=0;lo<this.ngContentSelectors.length;lo++){const Io=m[lo];Xn.push(null!=Io?Array.from(Io):null)}}Tn=function(s,a,m,M,I){const K=m[1],mt=function(s,a,m){const M=Ss();s.firstCreatePass&&(m.providersResolver&&m.providersResolver(m),ss(s,M,a,dn(s,a,1,null),m));const I=gu(a,s,M.directiveStart,M);Js(I,a);const K=vi(M,a);return K&&Js(K,a),I}(K,m,a);if(M.components.push(mt),s[8]=mt,I&&I.forEach(Ht=>Ht(mt,a)),a.contentQueries){const Ht=Ss();a.contentQueries(1,mt,Ht.directiveStart)}const At=Ss();return!K.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Po(At.index),En(m[1],At,0,At.directiveStart,At.directiveEnd,a),Bi(a,mt)),mt}(gr,this.componentDef,en,gi,[ox]),un(Yi,en,null)}finally{bo()}return new vM(this.componentType,Tn,Td(xn,en),en,xn)}}class vM extends class{}{constructor(a,m,M,I,K){super(),this.location=M,this._rootLView=I,this._tNode=K,this.instance=m,this.hostView=this.changeDetectorRef=new B1(I),this.componentType=a}get injector(){return new Tc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}class $v{}class c_{}const Uy=new Map;class d_ extends $v{constructor(a,m){super(),this._parent=m,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ec(this);const M=zi(a);this._bootstrapComponents=Wr(M.bootstrap),this._r3Injector=$h(a,m,[{provide:$v,useValue:this},{provide:tc,useValue:this.componentFactoryResolver}],rt(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,m=As.THROW_IF_NOT_FOUND,M=Pt.Default){return a===As||a===$v||a===Xc?this:this._r3Injector.get(a,m,M)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(m=>m()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class sw extends c_{constructor(a){super(),this.moduleType=a,null!==zi(a)&&function(s){const a=new Set;!function m(M){const I=zi(M,!0),K=I.id;null!==K&&(function(s,a,m){if(a&&a!==m)throw new Error(`Duplicate module registered for ${s} - ${rt(a)} vs ${rt(a.name)}`)}(K,Uy.get(K),M),Uy.set(K,M));const mt=Wr(I.imports);for(const At of mt)a.has(At)||(a.add(At),m(At))}(s)}(a)}create(a){return new d_(this.moduleType,a)}}function p_(s,a,m,M){return m_(Yn(),Hi(),s,a,m,M)}function j1(s,a){const m=s[a];return m===mo?void 0:m}function m_(s,a,m,M,I,K){const mt=a+m;return cs(s,mt,I)?Zs(s,mt+1,K?M.call(K,I):M(I)):j1(s,mt+1)}function w_(s,a){const m=no();let M;const I=s+20;m.firstCreatePass?(M=function(s,a){if(a)for(let m=a.length-1;m>=0;m--){const M=a[m];if(s===M.name)return M}throw new z("302",`The pipe '${s}' could not be found!`)}(a,m.pipeRegistry),m.data[I]=M,M.onDestroy&&(m.destroyHooks||(m.destroyHooks=[])).push(I,M.onDestroy)):M=m.data[I];const K=M.factory||(M.factory=hr(M.type)),mt=Ge(Vg);try{const At=Il(!1),Ht=K();return Il(At),function(s,a,m,M){m>=s.data.length&&(s.data[m]=null,s.blueprint[m]=null),a[m]=M}(m,Yn(),I,Ht),Ht}finally{Ge(mt)}}function __(s,a,m){const M=s+20,I=Yn(),K=On(I,M);return z1(I,M)?m_(I,Hi(),a,K.transform,m,K):K.transform(m)}function b_(s,a,m,M){const I=s+20,K=Yn(),mt=On(K,I);return z1(K,I)?function(s,a,m,M,I,K,mt){const At=a+m;return zm(s,At,I,K)?Zs(s,At+2,mt?M.call(mt,I,K):M(I,K)):j1(s,At+2)}(K,Hi(),a,mt.transform,m,M,mt):mt.transform(m,M)}function z1(s,a){return s[1].data[a].pure}function aw(s){return a=>{setTimeout(s,void 0,a)}}const ym=class extends ct.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,m,M){var Ht,pe,Te;let I=a,K=m||(()=>null),mt=M;if(a&&"object"==typeof a){const ai=a;I=null==(Ht=ai.next)?void 0:Ht.bind(ai),K=null==(pe=ai.error)?void 0:pe.bind(ai),mt=null==(Te=ai.complete)?void 0:Te.bind(ai)}this.__isAsync&&(K=aw(K),I&&(I=aw(I)),mt&&(mt=aw(mt)));const At=super.subscribe({next:I,error:K,complete:mt});return a instanceof f.w0&&a.add(At),At}};function RM(){return this._results[Qc()]()}class U1{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const m=Qc(),M=U1.prototype;M[m]||(M[m]=RM)}get changes(){return this._changes||(this._changes=new ym)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,m){return this._results.reduce(a,m)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,m){const M=this;M.dirty=!1;const I=Ha(a);(this._changesDetected=!function(s,a,m){if(s.length!==a.length)return!1;for(let M=0;M<s.length;M++){let I=s[M],K=a[M];if(m&&(I=m(I),K=m(K)),K!==I)return!1}return!0}(M._results,I,m))&&(M._results=I,M.length=I.length,M.last=I[this.length-1],M.first=I[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;const NM=function(){return Tx(Ss(),Yn())};let H1=(()=>{class s{}return s.__NG_ELEMENT_ID__=NM,s})();const FM=H1,BM=class extends FM{constructor(a,m,M){super(),this._declarationLView=a,this._declarationTContainer=m,this.elementRef=M}createEmbeddedView(a){const m=this._declarationTContainer.tViews,M=Ai(this._declarationLView,m,a,16,null,m.declTNode,null,null,null,null);M[17]=this._declarationLView[this._declarationTContainer.index];const K=this._declarationLView[19];return null!==K&&(M[19]=K.createEmbeddedView(m)),un(m,M,a),new vm(M)}};function Tx(s,a){return 4&s.type?new BM(a,s,Td(s,a)):null}const zM=function(){return S_(Ss(),Yn())};let Px=(()=>{class s{}return s.__NG_ELEMENT_ID__=zM,s})();const HM=Px,M_=class extends HM{constructor(a,m,M){super(),this._lContainer=a,this._hostTNode=m,this._hostLView=M}get element(){return Td(this._hostTNode,this._hostLView)}get injector(){return new Tc(this._hostTNode,this._hostLView)}get parentInjector(){const a=Mi(this._hostTNode,this._hostLView);if(df(a)){const m=pu(a,this._hostLView),M=Ih(a);return new Tc(m[1].data[M+8],m)}return new Tc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const m=C_(this._lContainer);return null!==m&&m[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,m,M){const I=a.createEmbeddedView(m||{});return this.insert(I,M),I}createComponent(a,m,M,I,K){const mt=a&&!("function"==typeof a);let At;if(mt)At=m;else{const ai=m||{};At=ai.index,M=ai.injector,I=ai.projectableNodes,K=ai.ngModuleRef}const Ht=mt?a:new rw($e(a)),pe=M||this.parentInjector;if(!K&&null==Ht.ngModule&&pe){const ai=pe.get($v,null);ai&&(K=ai)}const Te=Ht.create(pe,I,void 0,K);return this.insert(Te.hostView,At),Te}insert(a,m){const M=a._lView,I=M[1];if(Ho(M[3])){const Te=this.indexOf(a);if(-1!==Te)this.detach(Te);else{const ai=M[3],gi=new M_(ai,ai[6],ai[3]);gi.detach(gi.indexOf(a))}}const K=this._adjustIndex(m),mt=this._lContainer;!function(s,a,m,M){const I=10+M,K=m.length;M>0&&(m[I-1][4]=a),M<K-10?(a[4]=m[I],Gs(m,10+M,a)):(m.push(a),a[4]=null),a[3]=m;const mt=a[17];null!==mt&&m!==mt&&function(s,a){const m=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===m?s[9]=[a]:m.push(a)}(mt,a);const At=a[19];null!==At&&At.insertView(s),a[2]|=128}(I,M,mt,K);const At=im(K,mt),Ht=M[11],pe=ud(Ht,mt[7]);return null!==pe&&function(s,a,m,M,I,K){M[0]=I,M[6]=a,cd(s,M,m,1,I,K)}(I,mt[6],Ht,M,pe,At),a.attachToViewContainerRef(),Gs(lw(mt),K,a),a}move(a,m){return this.insert(a,m)}indexOf(a){const m=C_(this._lContainer);return null!==m?m.indexOf(a):-1}remove(a){const m=this._adjustIndex(a,-1),M=vc(this._lContainer,m);M&&(Ll(lw(this._lContainer),m),yc(M[1],M))}detach(a){const m=this._adjustIndex(a,-1),M=vc(this._lContainer,m);return M&&null!=Ll(lw(this._lContainer),m)?new vm(M):null}_adjustIndex(a,m=0){return null==a?this.length+m:a}};function C_(s){return s[8]}function lw(s){return s[8]||(s[8]=[])}function S_(s,a){let m;const M=a[s.index];if(Ho(M))m=M;else{let I;if(8&s.type)I=ie(M);else{const K=a[11];I=K.createComment("");const mt=vi(s,a);Wh(K,ud(K,mt),I,function(s,a){return Dn(s)?s.nextSibling(a):a.nextSibling}(K,mt),!1)}a[s.index]=m=Xa(M,a,I,s),eh(a,m)}return new M_(m,s,a)}class uw{constructor(a){this.queryList=a,this.matches=null}clone(){return new uw(this.queryList)}setDirty(){this.queryList.setDirty()}}class hw{constructor(a=[]){this.queries=a}createEmbeddedView(a){const m=a.queries;if(null!==m){const M=null!==a.contentQueries?a.contentQueries[0]:m.length,I=[];for(let K=0;K<M;K++){const mt=m.getByIndex(K);I.push(this.queries[mt.indexInDeclarationView].clone())}return new hw(I)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let m=0;m<this.queries.length;m++)null!==R_(a,m).matches&&this.queries[m].setDirty()}}class E_{constructor(a,m,M=null){this.predicate=a,this.flags=m,this.read=M}}class cw{constructor(a=[]){this.queries=a}elementStart(a,m){for(let M=0;M<this.queries.length;M++)this.queries[M].elementStart(a,m)}elementEnd(a){for(let m=0;m<this.queries.length;m++)this.queries[m].elementEnd(a)}embeddedTView(a){let m=null;for(let M=0;M<this.length;M++){const I=null!==m?m.length:0,K=this.getByIndex(M).embeddedTView(a,I);K&&(K.indexInDeclarationView=M,null!==m?m.push(K):m=[K])}return null!==m?new cw(m):null}template(a,m){for(let M=0;M<this.queries.length;M++)this.queries[M].template(a,m)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class fw{constructor(a,m=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=m}elementStart(a,m){this.isApplyingToNode(m)&&this.matchTNode(a,m)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,m){this.elementStart(a,m)}embeddedTView(a,m){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,m),new fw(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const m=this._declarationNodeIndex;let M=a.parent;for(;null!==M&&8&M.type&&M.index!==m;)M=M.parent;return m===(null!==M?M.index:-1)}return this._appliesToNextNode}matchTNode(a,m){const M=this.metadata.predicate;if(Array.isArray(M))for(let I=0;I<M.length;I++){const K=M[I];this.matchTNodeWithReadOption(a,m,WM(m,K)),this.matchTNodeWithReadOption(a,m,Rl(m,a,K,!1,!1))}else M===H1?4&m.type&&this.matchTNodeWithReadOption(a,m,-1):this.matchTNodeWithReadOption(a,m,Rl(m,a,M,!1,!1))}matchTNodeWithReadOption(a,m,M){if(null!==M){const I=this.metadata.read;if(null!==I)if(I===uf||I===Px||I===H1&&4&m.type)this.addMatch(m.index,-2);else{const K=Rl(m,a,I,!1,!1);null!==K&&this.addMatch(m.index,K)}else this.addMatch(m.index,M)}}addMatch(a,m){null===this.matches?this.matches=[a,m]:this.matches.push(a,m)}}function WM(s,a){const m=s.localNames;if(null!==m)for(let M=0;M<m.length;M+=2)if(m[M]===a)return m[M+1];return null}function $M(s,a,m,M){return-1===m?function(s,a){return 11&s.type?Td(s,a):4&s.type?Tx(s,a):null}(a,s):-2===m?function(s,a,m){return m===uf?Td(a,s):m===H1?Tx(a,s):m===Px?S_(a,s):void 0}(s,a,M):gu(s,s[1],m,a)}function D_(s,a,m,M){const I=a[19].queries[M];if(null===I.matches){const K=s.data,mt=m.matches,At=[];for(let Ht=0;Ht<mt.length;Ht+=2){const pe=mt[Ht];At.push(pe<0?null:$M(a,K[pe],mt[Ht+1],m.metadata.read))}I.matches=At}return I.matches}function dw(s,a,m,M){const I=s.queries.getByIndex(m),K=I.matches;if(null!==K){const mt=D_(s,a,I,m);for(let At=0;At<K.length;At+=2){const Ht=K[At];if(Ht>0)M.push(mt[At/2]);else{const pe=K[At+1],Te=a[-Ht];for(let ai=10;ai<Te.length;ai++){const gi=Te[ai];gi[17]===gi[3]&&dw(gi[1],gi,pe,M)}if(null!==Te[9]){const ai=Te[9];for(let gi=0;gi<ai.length;gi++){const Yi=ai[gi];dw(Yi[1],Yi,pe,M)}}}}}return M}function A_(s){const a=Yn(),m=no(),M=Or();ro(M+1);const I=R_(m,M);if(s.dirty&&rn(a)===(2==(2&I.metadata.flags))){if(null===I.matches)s.reset([]);else{const K=I.crossesNgTemplate?dw(m,a,M,[]):D_(m,a,I,M);s.reset(K,Vy),s.notifyOnChanges()}return!0}return!1}function k_(s,a,m){const M=no();M.firstCreatePass&&(I_(M,new E_(s,a,m),-1),2==(2&a)&&(M.staticViewQueries=!0)),O_(M,Yn(),a)}function T_(s,a,m,M){const I=no();if(I.firstCreatePass){const K=Ss();I_(I,new E_(a,m,M),K.index),function(s,a){const m=s.contentQueries||(s.contentQueries=[]);a!==(m.length?m[m.length-1]:-1)&&m.push(s.queries.length-1,a)}(I,s),2==(2&m)&&(I.staticContentQueries=!0)}O_(I,Yn(),m)}function P_(){return s=Yn(),a=Or(),s[19].queries[a].queryList;var s,a}function O_(s,a,m){const M=new U1(4==(4&m));_r(s,a,M,M.destroy),null===a[19]&&(a[19]=new hw),a[19].queries.push(new uw(M))}function I_(s,a,m){null===s.queries&&(s.queries=new cw),s.queries.track(new fw(a,m))}function R_(s,a){return s.queries.getByIndex(a)}const xw=new Eo("Application Initializer");let Gy=(()=>{class s{constructor(m){this.appInits=m,this.resolve=lh,this.reject=lh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((M,I)=>{this.resolve=M,this.reject=I})}runInitializers(){if(this.initialized)return;const m=[],M=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let I=0;I<this.appInits.length;I++){const K=this.appInits[I]();if(xy(K))m.push(K);else if(Ev(K)){const mt=new Promise((At,Ht)=>{K.subscribe({complete:At,error:Ht})});m.push(mt)}}Promise.all(m).then(()=>{M()}).catch(I=>{this.reject(I)}),0===m.length&&M(),this.initialized=!0}}return s.\u0275fac=function(m){return new(m||s)(ba(xw,8))},s.\u0275prov=St({token:s,factory:s.\u0275fac}),s})();const J_=new Eo("AppId"),E2={provide:J_,useFactory:function(){return`${ww()}${ww()}${ww()}`},deps:[]};function ww(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Q_=new Eo("Platform Initializer"),tb=new Eo("Platform ID"),eb=new Eo("appBootstrapListener");let ib=(()=>{class s{log(m){console.log(m)}warn(m){console.warn(m)}}return s.\u0275fac=function(m){return new(m||s)},s.\u0275prov=St({token:s,factory:s.\u0275fac}),s})();const Rx=new Eo("LocaleId"),nb=new Eo("DefaultCurrencyCode");class A2{constructor(a,m){this.ngModuleFactory=a,this.componentFactories=m}}const _w=function(s){return new sw(s)},k2=_w,T2=function(s){return Promise.resolve(_w(s))},ob=function(s){const a=_w(s),M=Wr(zi(s).declarations).reduce((I,K)=>{const mt=$e(K);return mt&&I.push(new rw(mt)),I},[]);return new A2(a,M)},P2=ob,O2=function(s){return Promise.resolve(ob(s))};let bw=(()=>{class s{constructor(){this.compileModuleSync=k2,this.compileModuleAsync=T2,this.compileModuleAndAllComponentsSync=P2,this.compileModuleAndAllComponentsAsync=O2}clearCache(){}clearCacheFor(m){}getModuleId(m){}}return s.\u0275fac=function(m){return new(m||s)},s.\u0275prov=St({token:s,factory:s.\u0275fac}),s})();const L2=(()=>Promise.resolve(0))();function Mw(s){"undefined"==typeof Zone?L2.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Pd{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:m=!1,shouldCoalesceRunChangeDetection:M=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ym(!1),this.onMicrotaskEmpty=new ym(!1),this.onStable=new ym(!1),this.onError=new ym(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const I=this;I._nesting=0,I._outer=I._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(I._inner=I._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(I._inner=I._inner.fork(Zone.longStackTraceZoneSpec)),I.shouldCoalesceEventChangeDetection=!M&&m,I.shouldCoalesceRunChangeDetection=M,I.lastRequestAnimationFrameId=-1,I.nativeRequestAnimationFrame=function(){let s=We.requestAnimationFrame,a=We.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&a){const m=s[Zone.__symbol__("OriginalDelegate")];m&&(s=m);const M=a[Zone.__symbol__("OriginalDelegate")];M&&(a=M)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function(s){const a=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(We,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Sw(s),s.isCheckStableRunning=!0,Cw(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Sw(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(m,M,I,K,mt,At)=>{try{return sb(s),m.invokeTask(I,K,mt,At)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===K.type||s.shouldCoalesceRunChangeDetection)&&a(),ab(s)}},onInvoke:(m,M,I,K,mt,At,Ht)=>{try{return sb(s),m.invoke(I,K,mt,At,Ht)}finally{s.shouldCoalesceRunChangeDetection&&a(),ab(s)}},onHasTask:(m,M,I,K)=>{m.hasTask(I,K),M===I&&("microTask"==K.change?(s._hasPendingMicrotasks=K.microTask,Sw(s),Cw(s)):"macroTask"==K.change&&(s.hasPendingMacrotasks=K.macroTask))},onHandleError:(m,M,I,K)=>(m.handleError(I,K),s.runOutsideAngular(()=>s.onError.emit(K)),!1)})}(I)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pd.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Pd.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,m,M){return this._inner.run(a,m,M)}runTask(a,m,M,I){const K=this._inner,mt=K.scheduleEventTask("NgZoneEvent: "+I,a,F2,lh,lh);try{return K.runTask(mt,m,M)}finally{K.cancelTask(mt)}}runGuarded(a,m,M){return this._inner.runGuarded(a,m,M)}runOutsideAngular(a){return this._outer.run(a)}}const F2={};function Cw(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Sw(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function sb(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function ab(s){s._nesting--,Cw(s)}class j2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ym,this.onMicrotaskEmpty=new ym,this.onStable=new ym,this.onError=new ym}run(a,m,M){return a.apply(m,M)}runGuarded(a,m,M){return a.apply(m,M)}runOutsideAngular(a){return a()}runTask(a,m,M,I){return a.apply(m,M)}}let lb=(()=>{class s{constructor(m){this._ngZone=m,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),m.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pd.assertNotInAngularZone(),Mw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Mw(()=>{for(;0!==this._callbacks.length;){let m=this._callbacks.pop();clearTimeout(m.timeoutId),m.doneCb(this._didWork)}this._didWork=!1});else{let m=this.getPendingTasks();this._callbacks=this._callbacks.filter(M=>!M.updateCb||!M.updateCb(m)||(clearTimeout(M.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(m=>({source:m.source,creationLocation:m.creationLocation,data:m.data})):[]}addCallback(m,M,I){let K=-1;M&&M>0&&(K=setTimeout(()=>{this._callbacks=this._callbacks.filter(mt=>mt.timeoutId!==K),m(this._didWork,this.getPendingTasks())},M)),this._callbacks.push({doneCb:m,timeoutId:K,updateCb:I})}whenStable(m,M,I){if(I&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(m,M,I),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(m,M,I){return[]}}return s.\u0275fac=function(m){return new(m||s)(ba(Pd))},s.\u0275prov=St({token:s,factory:s.\u0275fac}),s})(),ub=(()=>{class s{constructor(){this._applications=new Map,Ew.addToWindow(this)}registerApplication(m,M){this._applications.set(m,M)}unregisterApplication(m){this._applications.delete(m)}unregisterAllApplications(){this._applications.clear()}getTestability(m){return this._applications.get(m)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(m,M=!0){return Ew.findTestabilityInTree(this,m,M)}}return s.\u0275fac=function(m){return new(m||s)},s.\u0275prov=St({token:s,factory:s.\u0275fac}),s})();class z2{addToWindow(a){}findTestabilityInTree(a,m,M){return null}}function U2(s){Ew=s}let Ew=new z2,hb=!0,cb=!1;function Dw(){return cb=!0,hb}function H2(){if(cb)throw new Error("Cannot enable prod mode after platform setup.");hb=!1}let O0;const fb=new Eo("AllowMultipleToken");class Z2{constructor(a,m){this.name=a,this.token=m}}function db(s,a,m=[]){const M=`Platform: ${a}`,I=new Eo(M);return(K=[])=>{let mt=pb();if(!mt||mt.injector.get(fb,!1))if(s)s(m.concat(K).concat({provide:I,useValue:!0}));else{const At=m.concat(K).concat({provide:I,useValue:!0},{provide:Lf,useValue:"platform"});!function(s){if(O0&&!O0.destroyed&&!O0.injector.get(fb,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");O0=s.get(mb);const a=s.get(Q_,null);a&&a.forEach(m=>m())}(As.create({providers:At,name:M}))}return function(s){const a=pb();if(!a)throw new Error("No platform exists!");if(!a.injector.get(s,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return a}(I)}}function pb(){return O0&&!O0.destroyed?O0:null}let mb=(()=>{class s{constructor(m){this._injector=m,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(m,M){const At=function(s,a){let m;return m="noop"===s?new j2:("zone.js"===s?void 0:s)||new Pd({enableLongStackTrace:Dw(),shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),m}(M?M.ngZone:void 0,{ngZoneEventCoalescing:M&&M.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:M&&M.ngZoneRunCoalescing||!1}),Ht=[{provide:Pd,useValue:At}];return At.run(()=>{const pe=As.create({providers:Ht,parent:this.injector,name:m.moduleType.name}),Te=m.create(pe),ai=Te.injector.get(Fc,null);if(!ai)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return At.runOutsideAngular(()=>{const gi=At.onError.subscribe({next:Yi=>{ai.handleError(Yi)}});Te.onDestroy(()=>{Aw(this._modules,Te),gi.unsubscribe()})}),function(s,a,m){try{const M=m();return xy(M)?M.catch(I=>{throw a.runOutsideAngular(()=>s.handleError(I)),I}):M}catch(M){throw a.runOutsideAngular(()=>s.handleError(M)),M}}(ai,At,()=>{const gi=Te.injector.get(Gy);return gi.runInitializers(),gi.donePromise.then(()=>(function(s){k(s,"Expected localeId to be defined"),"string"==typeof s&&(Ke=s.toLowerCase().replace(/_/g,"-"))}(Te.injector.get(Rx,bt)||bt),this._moduleDoBootstrap(Te),Te))})})}bootstrapModule(m,M=[]){const I=gb({},M);return function(s,a,m){const M=new sw(m);return Promise.resolve(M)}(0,0,m).then(K=>this.bootstrapModuleFactory(K,I))}_moduleDoBootstrap(m){const M=m.injector.get(Y1);if(m._bootstrapComponents.length>0)m._bootstrapComponents.forEach(I=>M.bootstrap(I));else{if(!m.instance.ngDoBootstrap)throw new Error(`The module ${rt(m.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);m.instance.ngDoBootstrap(M)}this._modules.push(m)}onDestroy(m){this._destroyListeners.push(m)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(m=>m.destroy()),this._destroyListeners.forEach(m=>m()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(m){return new(m||s)(ba(As))},s.\u0275prov=St({token:s,factory:s.\u0275fac}),s})();function gb(s,a){return Array.isArray(a)?a.reduce(gb,s):Er(Er({},s),a)}let Y1=(()=>{class s{constructor(m,M,I,K,mt){this._zone=m,this._injector=M,this._exceptionHandler=I,this._componentFactoryResolver=K,this._initStatus=mt,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const At=new J.y(pe=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{pe.next(this._stable),pe.complete()})}),Ht=new J.y(pe=>{let Te;this._zone.runOutsideAngular(()=>{Te=this._zone.onStable.subscribe(()=>{Pd.assertNotInAngularZone(),Mw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,pe.next(!0))})})});const ai=this._zone.onUnstable.subscribe(()=>{Pd.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{pe.next(!1)}))});return()=>{Te.unsubscribe(),ai.unsubscribe()}});this.isStable=(0,tt.T)(At,Ht.pipe((0,b.B)()))}bootstrap(m,M){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let I;I=m instanceof Kf?m:this._componentFactoryResolver.resolveComponentFactory(m),this.componentTypes.push(I.componentType);const K=function(s){return s.isBoundToModule}(I)?void 0:this._injector.get($v),At=I.create(As.NULL,[],M||I.selector,K),Ht=At.location.nativeElement,pe=At.injector.get(lb,null),Te=pe&&At.injector.get(ub);return pe&&Te&&Te.registerApplication(Ht,pe),At.onDestroy(()=>{this.detachView(At.hostView),Aw(this.components,At),Te&&Te.unregisterApplication(Ht)}),this._loadComponent(At),At}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let m of this._views)m.detectChanges()}catch(m){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(m))}finally{this._runningTick=!1}}attachView(m){const M=m;this._views.push(M),M.attachToAppRef(this)}detachView(m){const M=m;Aw(this._views,M),M.detachFromAppRef()}_loadComponent(m){this.attachView(m.hostView),this.tick(),this.components.push(m),this._injector.get(eb,[]).concat(this._bootstrapListeners).forEach(I=>I(m))}ngOnDestroy(){this._views.slice().forEach(m=>m.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(m){return new(m||s)(ba(Pd),ba(As),ba(Fc),ba(tc),ba(Gy))},s.\u0275prov=St({token:s,factory:s.\u0275fac}),s})();function Aw(s,a){const m=s.indexOf(a);m>-1&&s.splice(m,1)}const nC=function(s){return function(s,a,m){if(Qr(s)&&!m){const M=Cr(s.index,a);return new vm(M,M)}return 47&s.type?new vm(a[16],a):null}(Ss(),Yn(),16==(16&s))};let rC=(()=>{class s{}return s.__NG_ELEMENT_ID__=nC,s})();const pC=function(s){return null};class Mb{constructor(){}supports(a){return Tg(a)}create(a){return new vC(a)}}const gC=(s,a)=>a;class vC{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||gC}forEachItem(a){let m;for(m=this._itHead;null!==m;m=m._next)a(m)}forEachOperation(a){let m=this._itHead,M=this._removalsHead,I=0,K=null;for(;m||M;){const mt=!M||m&&m.currentIndex<Sb(M,I,K)?m:M,At=Sb(mt,I,K),Ht=mt.currentIndex;if(mt===M)I--,M=M._nextRemoved;else if(m=m._next,null==mt.previousIndex)I++;else{K||(K=[]);const pe=At-I,Te=Ht-I;if(pe!=Te){for(let gi=0;gi<pe;gi++){const Yi=gi<K.length?K[gi]:K[gi]=0,en=Yi+gi;Te<=en&&en<pe&&(K[gi]=Yi+1)}K[mt.previousIndex]=Te-pe}}At!==Ht&&a(mt,At,Ht)}}forEachPreviousItem(a){let m;for(m=this._previousItHead;null!==m;m=m._nextPrevious)a(m)}forEachAddedItem(a){let m;for(m=this._additionsHead;null!==m;m=m._nextAdded)a(m)}forEachMovedItem(a){let m;for(m=this._movesHead;null!==m;m=m._nextMoved)a(m)}forEachRemovedItem(a){let m;for(m=this._removalsHead;null!==m;m=m._nextRemoved)a(m)}forEachIdentityChange(a){let m;for(m=this._identityChangesHead;null!==m;m=m._nextIdentityChange)a(m)}diff(a){if(null==a&&(a=[]),!Tg(a))throw new Error(`Error trying to diff '${rt(a)}'. Only arrays and iterables are allowed`);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let I,K,mt,m=this._itHead,M=!1;if(Array.isArray(a)){this.length=a.length;for(let At=0;At<this.length;At++)K=a[At],mt=this._trackByFn(At,K),null!==m&&Object.is(m.trackById,mt)?(M&&(m=this._verifyReinsertion(m,K,mt,At)),Object.is(m.item,K)||this._addIdentityChange(m,K)):(m=this._mismatch(m,K,mt,At),M=!0),m=m._next}else I=0,function(s,a){if(Array.isArray(s))for(let m=0;m<s.length;m++)a(s[m]);else{const m=s[Qc()]();let M;for(;!(M=m.next()).done;)a(M.value)}}(a,At=>{mt=this._trackByFn(I,At),null!==m&&Object.is(m.trackById,mt)?(M&&(m=this._verifyReinsertion(m,At,mt,I)),Object.is(m.item,At)||this._addIdentityChange(m,At)):(m=this._mismatch(m,At,mt,I),M=!0),m=m._next,I++}),this.length=I;return this._truncate(m),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,m,M,I){let K;return null===a?K=this._itTail:(K=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(M,null))?(Object.is(a.item,m)||this._addIdentityChange(a,m),this._reinsertAfter(a,K,I)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(M,I))?(Object.is(a.item,m)||this._addIdentityChange(a,m),this._moveAfter(a,K,I)):a=this._addAfter(new yC(m,M),K,I),a}_verifyReinsertion(a,m,M,I){let K=null===this._unlinkedRecords?null:this._unlinkedRecords.get(M,null);return null!==K?a=this._reinsertAfter(K,a._prev,I):a.currentIndex!=I&&(a.currentIndex=I,this._addToMoves(a,I)),a}_truncate(a){for(;null!==a;){const m=a._next;this._addToRemovals(this._unlink(a)),a=m}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,m,M){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const I=a._prevRemoved,K=a._nextRemoved;return null===I?this._removalsHead=K:I._nextRemoved=K,null===K?this._removalsTail=I:K._prevRemoved=I,this._insertAfter(a,m,M),this._addToMoves(a,M),a}_moveAfter(a,m,M){return this._unlink(a),this._insertAfter(a,m,M),this._addToMoves(a,M),a}_addAfter(a,m,M){return this._insertAfter(a,m,M),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,m,M){const I=null===m?this._itHead:m._next;return a._next=I,a._prev=m,null===I?this._itTail=a:I._prev=a,null===m?this._itHead=a:m._next=a,null===this._linkedRecords&&(this._linkedRecords=new Cb),this._linkedRecords.put(a),a.currentIndex=M,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const m=a._prev,M=a._next;return null===m?this._itHead=M:m._next=M,null===M?this._itTail=m:M._prev=m,a}_addToMoves(a,m){return a.previousIndex===m||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Cb),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,m){return a.item=m,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class yC{constructor(a,m){this.item=a,this.trackById=m,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xC{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,m){let M;for(M=this._head;null!==M;M=M._nextDup)if((null===m||m<=M.currentIndex)&&Object.is(M.trackById,a))return M;return null}remove(a){const m=a._prevDup,M=a._nextDup;return null===m?this._head=M:m._nextDup=M,null===M?this._tail=m:M._prevDup=m,null===this._head}}class Cb{constructor(){this.map=new Map}put(a){const m=a.trackById;let M=this.map.get(m);M||(M=new xC,this.map.set(m,M)),M.add(a)}get(a,m){const I=this.map.get(a);return I?I.get(a,m):null}remove(a){const m=a.trackById;return this.map.get(m).remove(a)&&this.map.delete(m),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Sb(s,a,m){const M=s.previousIndex;if(null===M)return M;let I=0;return m&&M<m.length&&(I=m[M]),M+a+I}class Eb{constructor(){}supports(a){return a instanceof Map||Pg(a)}create(){return new wC}}class wC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let m;for(m=this._mapHead;null!==m;m=m._next)a(m)}forEachPreviousItem(a){let m;for(m=this._previousMapHead;null!==m;m=m._nextPrevious)a(m)}forEachChangedItem(a){let m;for(m=this._changesHead;null!==m;m=m._nextChanged)a(m)}forEachAddedItem(a){let m;for(m=this._additionsHead;null!==m;m=m._nextAdded)a(m)}forEachRemovedItem(a){let m;for(m=this._removalsHead;null!==m;m=m._nextRemoved)a(m)}diff(a){if(a){if(!(a instanceof Map||Pg(a)))throw new Error(`Error trying to diff '${rt(a)}'. Only maps and objects are allowed`)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let m=this._mapHead;if(this._appendAfter=null,this._forEach(a,(M,I)=>{if(m&&m.key===I)this._maybeAddToChanges(m,M),this._appendAfter=m,m=m._next;else{const K=this._getOrCreateRecordForKey(I,M);m=this._insertBeforeOrAppend(m,K)}}),m){m._prev&&(m._prev._next=null),this._removalsHead=m;for(let M=m;null!==M;M=M._nextRemoved)M===this._mapHead&&(this._mapHead=null),this._records.delete(M.key),M._nextRemoved=M._next,M.previousValue=M.currentValue,M.currentValue=null,M._prev=null,M._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,m){if(a){const M=a._prev;return m._next=a,m._prev=M,a._prev=m,M&&(M._next=m),a===this._mapHead&&(this._mapHead=m),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=m,m._prev=this._appendAfter):this._mapHead=m,this._appendAfter=m,null}_getOrCreateRecordForKey(a,m){if(this._records.has(a)){const I=this._records.get(a);this._maybeAddToChanges(I,m);const K=I._prev,mt=I._next;return K&&(K._next=mt),mt&&(mt._prev=K),I._next=null,I._prev=null,I}const M=new _C(a);return this._records.set(a,M),M.currentValue=m,this._addToAdditions(M),M}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,m){Object.is(m,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=m,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,m){a instanceof Map?a.forEach(m):Object.keys(a).forEach(M=>m(a[M],M))}}class _C{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Db(){return new Bx([new Mb])}let Bx=(()=>{class s{constructor(m){this.factories=m}static create(m,M){if(null!=M){const I=M.factories.slice();m=m.concat(I)}return new s(m)}static extend(m){return{provide:s,useFactory:M=>s.create(m,M||Db()),deps:[[s,new sc,new $u]]}}find(m){const M=this.factories.find(I=>I.supports(m));if(null!=M)return M;throw new Error(`Cannot find a differ supporting object '${m}' of type '${function(s){return s.name||typeof s}(m)}'`)}}return s.\u0275prov=St({token:s,providedIn:"root",factory:Db}),s})();function Ab(){return new Vx([new Eb])}let Vx=(()=>{class s{constructor(m){this.factories=m}static create(m,M){if(M){const I=M.factories.slice();m=m.concat(I)}return new s(m)}static extend(m){return{provide:s,useFactory:M=>s.create(m,M||Ab()),deps:[[s,new sc,new $u]]}}find(m){const M=this.factories.find(I=>I.supports(m));if(M)return M;throw new Error(`Cannot find a differ supporting object '${m}'`)}}return s.\u0275prov=St({token:s,providedIn:"root",factory:Ab}),s})();const MC=[new Eb],SC=new Bx([new Mb]),EC=new Vx(MC),DC=db(null,"core",[{provide:tb,useValue:"unknown"},{provide:mb,deps:[As]},{provide:ub,deps:[]},{provide:ib,deps:[]}]),OC=[{provide:Y1,useClass:Y1,deps:[Pd,As,Fc,tc,Gy]},{provide:pM,deps:[Pd],useFactory:function(s){let a=[];return s.onStable.subscribe(()=>{for(;a.length;)a.pop()()}),function(m){a.push(m)}}},{provide:Gy,useClass:Gy,deps:[[new $u,xw]]},{provide:bw,useClass:bw,deps:[]},E2,{provide:Bx,useFactory:function(){return SC},deps:[]},{provide:Vx,useFactory:function(){return EC},deps:[]},{provide:Rx,useFactory:function(s){return s||"undefined"!=typeof $localize&&$localize.locale||bt},deps:[[new Gd(Rx),new $u,new sc]]},{provide:nb,useValue:"USD"}];let RC=(()=>{class s{constructor(m){}}return s.\u0275fac=function(m){return new(m||s)(ba(Y1))},s.\u0275mod=xe({type:s}),s.\u0275inj=te({providers:OC}),s})()},86:(Ee,Q,ut)=>{"use strict";ut.d(Q,{zs:()=>et,lW:()=>F,ot:()=>B});var ct=ut(3668),f=ut(6731),J=ut(7497),tt=ut(9555);const b=["mat-button",""],W=["*"],Z=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],H=(0,f.pj)((0,f.Id)((0,f.Kr)(class{constructor(X){this._elementRef=X}})));let F=(()=>{class X extends H{constructor(Y,q,U){super(Y),this._focusMonitor=q,this._animationMode=U,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const it of Z)this._hasHostAttributes(it)&&this._getHostElement().classList.add(it);Y.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(Y,q){Y?this._focusMonitor.focusVia(this._getHostElement(),Y,q):this._getHostElement().focus(q)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...Y){return Y.some(q=>this._getHostElement().hasAttribute(q))}}return X.\u0275fac=function(Y){return new(Y||X)(ct.Y36(ct.SBq),ct.Y36(J.tE),ct.Y36(tt.Qb,8))},X.\u0275cmp=ct.Xpm({type:X,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(Y,q){if(1&Y&&ct.Gf(f.wG,5),2&Y){let U;ct.iGM(U=ct.CRH())&&(q.ripple=U.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(Y,q){2&Y&&(ct.uIk("disabled",q.disabled||null),ct.ekj("_mat-animation-noopable","NoopAnimations"===q._animationMode)("mat-button-disabled",q.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[ct.qOj],attrs:b,ngContentSelectors:W,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(Y,q){1&Y&&(ct.F$t(),ct.TgZ(0,"span",0),ct.Hsn(1),ct.qZA(),ct._UZ(2,"span",1),ct._UZ(3,"span",2)),2&Y&&(ct.xp6(2),ct.ekj("mat-button-ripple-round",q.isRoundButton||q.isIconButton),ct.Q6J("matRippleDisabled",q._isRippleDisabled())("matRippleCentered",q.isIconButton)("matRippleTrigger",q._getHostElement()))},directives:[f.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),X})(),et=(()=>{class X extends F{constructor(Y,q,U){super(q,Y,U)}_haltDisabledEvents(Y){this.disabled&&(Y.preventDefault(),Y.stopImmediatePropagation())}}return X.\u0275fac=function(Y){return new(Y||X)(ct.Y36(J.tE),ct.Y36(ct.SBq),ct.Y36(tt.Qb,8))},X.\u0275cmp=ct.Xpm({type:X,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(Y,q){1&Y&&ct.NdJ("click",function(it){return q._haltDisabledEvents(it)}),2&Y&&(ct.uIk("tabindex",q.disabled?-1:q.tabIndex||0)("disabled",q.disabled||null)("aria-disabled",q.disabled.toString()),ct.ekj("_mat-animation-noopable","NoopAnimations"===q._animationMode)("mat-button-disabled",q.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[ct.qOj],attrs:b,ngContentSelectors:W,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(Y,q){1&Y&&(ct.F$t(),ct.TgZ(0,"span",0),ct.Hsn(1),ct.qZA(),ct._UZ(2,"span",1),ct._UZ(3,"span",2)),2&Y&&(ct.xp6(2),ct.ekj("mat-button-ripple-round",q.isRoundButton||q.isIconButton),ct.Q6J("matRippleDisabled",q._isRippleDisabled())("matRippleCentered",q.isIconButton)("matRippleTrigger",q._getHostElement()))},directives:[f.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),X})(),B=(()=>{class X{}return X.\u0275fac=function(Y){return new(Y||X)},X.\u0275mod=ct.oAB({type:X}),X.\u0275inj=ct.cJS({imports:[[f.si,f.BQ],f.BQ]}),X})()},6731:(Ee,Q,ut)=>{"use strict";ut.d(Q,{_A:()=>w,rD:()=>Mt,sG:()=>S,Ad:()=>g,K7:()=>yt,HF:()=>Bt,BQ:()=>xt,X2:()=>St,uc:()=>Vt,XK:()=>at,Nv:()=>ht,ey:()=>We,Ng:()=>wi,rN:()=>ke,nP:()=>_e,us:()=>Ce,wG:()=>Fi,si:()=>Ge,CB:()=>si,jH:()=>bn,pj:()=>Tt,Kr:()=>Et,Id:()=>Ot,FD:()=>o,sb:()=>A,E0:()=>Xt});var ct=ut(3668),f=ut(7497),J=ut(8290);const tt=new ct.GfV("13.0.0");var b=ut(6019),W=ut(928),G=ut(348),rt=ut(273),Z=ut(3970),H=ut(9555),F=ut(1628);const et=["*",[["mat-option"],["ng-container"]]],B=["*","mat-option, ng-container"];function X(je,ci){if(1&je&&ct._UZ(0,"mat-pseudo-checkbox",4),2&je){const Oe=ct.oxw();ct.Q6J("state",Oe.selected?"checked":"unchecked")("disabled",Oe.disabled)}}function z(je,ci){if(1&je&&(ct.TgZ(0,"span",5),ct._uU(1),ct.qZA()),2&je){const Oe=ct.oxw();ct.xp6(1),ct.hij("(",Oe.group.label,")")}}const Y=["*"],ot=new ct.GfV("13.0.0"),wt=new ct.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let xt=(()=>{class je{constructor(Oe,oi,Vn){this._hasDoneGlobalChecks=!1,this._document=Vn,Oe._applyBodyHighContrastModeCssClasses(),this._sanityChecks=oi,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Oe){return!(!(0,ct.X6Q)()||(0,W.Oy)())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Oe])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const Oe=this._document.createElement("div");Oe.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(Oe);const oi=getComputedStyle(Oe);oi&&"none"!==oi.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),Oe.remove()}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&ot.full!==tt.full&&console.warn("The Angular Material version ("+ot.full+") does not match the Angular CDK version ("+tt.full+").\nPlease ensure the versions of these two packages exactly match.")}}return je.\u0275fac=function(Oe){return new(Oe||je)(ct.LFG(f.qm),ct.LFG(wt,8),ct.LFG(b.K0))},je.\u0275mod=ct.oAB({type:je}),je.\u0275inj=ct.cJS({imports:[[J.vT],J.vT]}),je})();function Ot(je){return class extends je{constructor(...ci){super(...ci),this._disabled=!1}get disabled(){return this._disabled}set disabled(ci){this._disabled=(0,G.Ig)(ci)}}}function Tt(je,ci){return class extends je{constructor(...Oe){super(...Oe),this.defaultColor=ci,this.color=ci}get color(){return this._color}set color(Oe){const oi=Oe||this.defaultColor;oi!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),oi&&this._elementRef.nativeElement.classList.add(`mat-${oi}`),this._color=oi)}}}function Et(je){return class extends je{constructor(...ci){super(...ci),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(ci){this._disableRipple=(0,G.Ig)(ci)}}}function A(je,ci=0){return class extends je{constructor(...Oe){super(...Oe),this._tabIndex=ci,this.defaultTabIndex=ci}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(Oe){this._tabIndex=null!=Oe?(0,G.su)(Oe):this.defaultTabIndex}}}function o(je){return class extends je{constructor(...ci){super(...ci),this.stateChanges=new rt.x,this.errorState=!1}updateErrorState(){const ci=this.errorState,ei=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);ei!==ci&&(this.errorState=ei,this.stateChanges.next())}}}const g=new ct.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return(0,ct.f3M)(ct.soG)}});class w{constructor(){this._localeChanges=new rt.x,this.localeChanges=this._localeChanges}getValidDateOrNull(ci){return this.isDateInstance(ci)&&this.isValid(ci)?ci:null}deserialize(ci){return null==ci||this.isDateInstance(ci)&&this.isValid(ci)?ci:this.invalid()}setLocale(ci){this.locale=ci,this._localeChanges.next()}compareDate(ci,Oe){return this.getYear(ci)-this.getYear(Oe)||this.getMonth(ci)-this.getMonth(Oe)||this.getDate(ci)-this.getDate(Oe)}sameDate(ci,Oe){if(ci&&Oe){let oi=this.isValid(ci),Vn=this.isValid(Oe);return oi&&Vn?!this.compareDate(ci,Oe):oi==Vn}return ci==Oe}clampDate(ci,Oe,oi){return Oe&&this.compareDate(ci,Oe)<0?Oe:oi&&this.compareDate(ci,oi)>0?oi:ci}}const S=new ct.OlP("mat-date-formats"),T=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function C(je,ci){const Oe=Array(je);for(let oi=0;oi<je;oi++)Oe[oi]=ci(oi);return Oe}let h=(()=>{class je extends w{constructor(Oe,oi){super(),this.useUtcForDisplay=!1,super.setLocale(Oe)}getYear(Oe){return Oe.getFullYear()}getMonth(Oe){return Oe.getMonth()}getDate(Oe){return Oe.getDate()}getDayOfWeek(Oe){return Oe.getDay()}getMonthNames(Oe){const oi=new Intl.DateTimeFormat(this.locale,{month:Oe,timeZone:"utc"});return C(12,Vn=>this._format(oi,new Date(2017,Vn,1)))}getDateNames(){const Oe=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return C(31,oi=>this._format(Oe,new Date(2017,0,oi+1)))}getDayOfWeekNames(Oe){const oi=new Intl.DateTimeFormat(this.locale,{weekday:Oe,timeZone:"utc"});return C(7,Vn=>this._format(oi,new Date(2017,0,Vn+1)))}getYearName(Oe){const oi=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(oi,Oe)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(Oe){return this.getDate(this._createDateWithOverflow(this.getYear(Oe),this.getMonth(Oe)+1,0))}clone(Oe){return new Date(Oe.getTime())}createDate(Oe,oi,Vn){let ei=this._createDateWithOverflow(Oe,oi,Vn);return ei.getMonth(),ei}today(){return new Date}parse(Oe){return"number"==typeof Oe?new Date(Oe):Oe?new Date(Date.parse(Oe)):null}format(Oe,oi){if(!this.isValid(Oe))throw Error("NativeDateAdapter: Cannot format invalid date.");const Vn=new Intl.DateTimeFormat(this.locale,Gu(Er({},oi),{timeZone:"utc"}));return this._format(Vn,Oe)}addCalendarYears(Oe,oi){return this.addCalendarMonths(Oe,12*oi)}addCalendarMonths(Oe,oi){let Vn=this._createDateWithOverflow(this.getYear(Oe),this.getMonth(Oe)+oi,this.getDate(Oe));return this.getMonth(Vn)!=((this.getMonth(Oe)+oi)%12+12)%12&&(Vn=this._createDateWithOverflow(this.getYear(Vn),this.getMonth(Vn),0)),Vn}addCalendarDays(Oe,oi){return this._createDateWithOverflow(this.getYear(Oe),this.getMonth(Oe),this.getDate(Oe)+oi)}toIso8601(Oe){return[Oe.getUTCFullYear(),this._2digit(Oe.getUTCMonth()+1),this._2digit(Oe.getUTCDate())].join("-")}deserialize(Oe){if("string"==typeof Oe){if(!Oe)return null;if(T.test(Oe)){let oi=new Date(Oe);if(this.isValid(oi))return oi}}return super.deserialize(Oe)}isDateInstance(Oe){return Oe instanceof Date}isValid(Oe){return!isNaN(Oe.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(Oe,oi,Vn){const ei=new Date;return ei.setFullYear(Oe,oi,Vn),ei.setHours(0,0,0,0),ei}_2digit(Oe){return("00"+Oe).slice(-2)}_format(Oe,oi){const Vn=new Date;return Vn.setUTCFullYear(oi.getFullYear(),oi.getMonth(),oi.getDate()),Vn.setUTCHours(oi.getHours(),oi.getMinutes(),oi.getSeconds(),oi.getMilliseconds()),Oe.format(Vn)}}return je.\u0275fac=function(Oe){return new(Oe||je)(ct.LFG(g,8),ct.LFG(W.t4))},je.\u0275prov=ct.Yz7({token:je,factory:je.\u0275fac}),je})();const k={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let ft=(()=>{class je{}return je.\u0275fac=function(Oe){return new(Oe||je)},je.\u0275mod=ct.oAB({type:je}),je.\u0275inj=ct.cJS({providers:[{provide:w,useClass:h}],imports:[[W.ud]]}),je})(),at=(()=>{class je{}return je.\u0275fac=function(Oe){return new(Oe||je)},je.\u0275mod=ct.oAB({type:je}),je.\u0275inj=ct.cJS({providers:[{provide:S,useValue:k}],imports:[[ft]]}),je})(),Mt=(()=>{class je{isErrorState(Oe,oi){return!!(Oe&&Oe.invalid&&(Oe.touched||oi&&oi.submitted))}}return je.\u0275fac=function(Oe){return new(Oe||je)},je.\u0275prov=ct.Yz7({token:je,factory:je.\u0275fac,providedIn:"root"}),je})(),St=(()=>{class je{}return je.\u0275fac=function(Oe){return new(Oe||je)},je.\u0275dir=ct.lG2({type:je,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),je})();function Xt(je,ci,Oe="mat"){je.changes.pipe((0,Z.O)(je)).subscribe(({length:oi})=>{te(ci,`${Oe}-2-line`,!1),te(ci,`${Oe}-3-line`,!1),te(ci,`${Oe}-multi-line`,!1),2===oi||3===oi?te(ci,`${Oe}-${oi}-line`,!0):oi>3&&te(ci,`${Oe}-multi-line`,!0)})}function te(je,ci,Oe){je.nativeElement.classList.toggle(ci,Oe)}let Vt=(()=>{class je{}return je.\u0275fac=function(Oe){return new(Oe||je)},je.\u0275mod=ct.oAB({type:je}),je.\u0275inj=ct.cJS({imports:[[xt],xt]}),je})();class Dt{constructor(ci,Oe,oi){this._renderer=ci,this.element=Oe,this.config=oi,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ve={enterDuration:225,exitDuration:150},Nt=(0,W.i$)({passive:!0}),Kt=["mousedown","touchstart"],fe=["mouseup","mouseleave","touchend","touchcancel"];class zt{constructor(ci,Oe,oi,Vn){this._target=ci,this._ngZone=Oe,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,Vn.isBrowser&&(this._containerElement=(0,G.fI)(oi))}fadeInRipple(ci,Oe,oi={}){const Vn=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),ei=Er(Er({},ve),oi.animation);oi.centered&&(ci=Vn.left+Vn.width/2,Oe=Vn.top+Vn.height/2);const De=oi.radius||function(je,ci,Oe){const oi=Math.max(Math.abs(je-Oe.left),Math.abs(je-Oe.right)),Vn=Math.max(Math.abs(ci-Oe.top),Math.abs(ci-Oe.bottom));return Math.sqrt(oi*oi+Vn*Vn)}(ci,Oe,Vn),qe=ci-Vn.left,ni=Oe-Vn.top,ne=ei.enterDuration,Qt=document.createElement("div");Qt.classList.add("mat-ripple-element"),Qt.style.left=qe-De+"px",Qt.style.top=ni-De+"px",Qt.style.height=2*De+"px",Qt.style.width=2*De+"px",null!=oi.color&&(Qt.style.backgroundColor=oi.color),Qt.style.transitionDuration=`${ne}ms`,this._containerElement.appendChild(Qt),window.getComputedStyle(Qt).getPropertyValue("opacity"),Qt.style.transform="scale(1)";const Zt=new Dt(this,Qt,oi);return Zt.state=0,this._activeRipples.add(Zt),oi.persistent||(this._mostRecentTransientRipple=Zt),this._runTimeoutOutsideZone(()=>{const Ut=Zt===this._mostRecentTransientRipple;Zt.state=1,!oi.persistent&&(!Ut||!this._isPointerDown)&&Zt.fadeOut()},ne),Zt}fadeOutRipple(ci){const Oe=this._activeRipples.delete(ci);if(ci===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!Oe)return;const oi=ci.element,Vn=Er(Er({},ve),ci.config.animation);oi.style.transitionDuration=`${Vn.exitDuration}ms`,oi.style.opacity="0",ci.state=2,this._runTimeoutOutsideZone(()=>{ci.state=3,oi.remove()},Vn.exitDuration)}fadeOutAll(){this._activeRipples.forEach(ci=>ci.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(ci=>{ci.config.persistent||ci.fadeOut()})}setupTriggerEvents(ci){const Oe=(0,G.fI)(ci);!Oe||Oe===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Oe,this._registerEvents(Kt))}handleEvent(ci){"mousedown"===ci.type?this._onMousedown(ci):"touchstart"===ci.type?this._onTouchStart(ci):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(fe),this._pointerUpEventsRegistered=!0)}_onMousedown(ci){const Oe=(0,f.X6)(ci),oi=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Oe&&!oi&&(this._isPointerDown=!0,this.fadeInRipple(ci.clientX,ci.clientY,this._target.rippleConfig))}_onTouchStart(ci){if(!this._target.rippleDisabled&&!(0,f.yG)(ci)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Oe=ci.changedTouches;for(let oi=0;oi<Oe.length;oi++)this.fadeInRipple(Oe[oi].clientX,Oe[oi].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(ci=>{!ci.config.persistent&&(1===ci.state||ci.config.terminateOnPointerUp&&0===ci.state)&&ci.fadeOut()}))}_runTimeoutOutsideZone(ci,Oe=0){this._ngZone.runOutsideAngular(()=>setTimeout(ci,Oe))}_registerEvents(ci){this._ngZone.runOutsideAngular(()=>{ci.forEach(Oe=>{this._triggerElement.addEventListener(Oe,this,Nt)})})}_removeTriggerEvents(){this._triggerElement&&(Kt.forEach(ci=>{this._triggerElement.removeEventListener(ci,this,Nt)}),this._pointerUpEventsRegistered&&fe.forEach(ci=>{this._triggerElement.removeEventListener(ci,this,Nt)}))}}const Se=new ct.OlP("mat-ripple-global-options");let Fi=(()=>{class je{constructor(Oe,oi,Vn,ei,De){this._elementRef=Oe,this._animationMode=De,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=ei||{},this._rippleRenderer=new zt(this,oi,Oe,Vn)}get disabled(){return this._disabled}set disabled(Oe){Oe&&this.fadeOutAllNonPersistent(),this._disabled=Oe,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Oe){this._trigger=Oe,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Er(Er(Er({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Oe,oi=0,Vn){return"number"==typeof Oe?this._rippleRenderer.fadeInRipple(Oe,oi,Er(Er({},this.rippleConfig),Vn)):this._rippleRenderer.fadeInRipple(0,0,Er(Er({},this.rippleConfig),Oe))}}return je.\u0275fac=function(Oe){return new(Oe||je)(ct.Y36(ct.SBq),ct.Y36(ct.R0b),ct.Y36(W.t4),ct.Y36(Se,8),ct.Y36(H.Qb,8))},je.\u0275dir=ct.lG2({type:je,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Oe,oi){2&Oe&&ct.ekj("mat-ripple-unbounded",oi.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),je})(),Ge=(()=>{class je{}return je.\u0275fac=function(Oe){return new(Oe||je)},je.\u0275mod=ct.oAB({type:je}),je.\u0275inj=ct.cJS({imports:[[xt,W.ud],xt]}),je})(),_e=(()=>{class je{constructor(Oe){this._animationMode=Oe,this.state="unchecked",this.disabled=!1}}return je.\u0275fac=function(Oe){return new(Oe||je)(ct.Y36(H.Qb,8))},je.\u0275cmp=ct.Xpm({type:je,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(Oe,oi){2&Oe&&ct.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===oi.state)("mat-pseudo-checkbox-checked","checked"===oi.state)("mat-pseudo-checkbox-disabled",oi.disabled)("_mat-animation-noopable","NoopAnimations"===oi._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(Oe,oi){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),je})(),Ce=(()=>{class je{}return je.\u0275fac=function(Oe){return new(Oe||je)},je.\u0275mod=ct.oAB({type:je}),je.\u0275inj=ct.cJS({imports:[[xt]]}),je})();const Bt=new ct.OlP("MAT_OPTION_PARENT_COMPONENT"),re=Ot(class{});let Ye=0,jt=(()=>{class je extends re{constructor(Oe){var oi;super(),this._labelId="mat-optgroup-label-"+Ye++,this._inert=null!=(oi=null==Oe?void 0:Oe.inertGroups)&&oi}}return je.\u0275fac=function(Oe){return new(Oe||je)(ct.Y36(Bt,8))},je.\u0275dir=ct.lG2({type:je,inputs:{label:"label"},features:[ct.qOj]}),je})();const yt=new ct.OlP("MatOptgroup");let ht=(()=>{class je extends jt{}return je.\u0275fac=function(){let ci;return function(oi){return(ci||(ci=ct.n5z(je)))(oi||je)}}(),je.\u0275cmp=ct.Xpm({type:je,selectors:[["mat-optgroup"]],hostAttrs:[1,"mat-optgroup"],hostVars:5,hostBindings:function(Oe,oi){2&Oe&&(ct.uIk("role",oi._inert?null:"group")("aria-disabled",oi._inert?null:oi.disabled.toString())("aria-labelledby",oi._inert?null:oi._labelId),ct.ekj("mat-optgroup-disabled",oi.disabled))},inputs:{disabled:"disabled"},exportAs:["matOptgroup"],features:[ct._Bn([{provide:yt,useExisting:je}]),ct.qOj],ngContentSelectors:B,decls:4,vars:2,consts:[["aria-hidden","true",1,"mat-optgroup-label",3,"id"]],template:function(Oe,oi){1&Oe&&(ct.F$t(et),ct.TgZ(0,"span",0),ct._uU(1),ct.Hsn(2),ct.qZA(),ct.Hsn(3,1)),2&Oe&&(ct.Q6J("id",oi._labelId),ct.xp6(1),ct.hij("",oi.label," "))},styles:[".mat-optgroup-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup-label[disabled]{cursor:default}[dir=rtl] .mat-optgroup-label{text-align:right}.mat-optgroup-label .mat-icon{margin-right:16px;vertical-align:middle}.mat-optgroup-label .mat-icon svg{vertical-align:top}[dir=rtl] .mat-optgroup-label .mat-icon{margin-left:16px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),je})(),ce=0;class ke{constructor(ci,Oe=!1){this.source=ci,this.isUserInput=Oe}}let Pi=(()=>{class je{constructor(Oe,oi,Vn,ei){this._element=Oe,this._changeDetectorRef=oi,this._parent=Vn,this.group=ei,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+ce++,this.onSelectionChange=new ct.vpe,this._stateChanges=new rt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(Oe){this._disabled=(0,G.Ig)(Oe)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(Oe,oi){const Vn=this._getHostElement();"function"==typeof Vn.focus&&Vn.focus(oi)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(Oe){(Oe.keyCode===F.K5||Oe.keyCode===F.L_)&&!(0,F.Vb)(Oe)&&(this._selectViaInteraction(),Oe.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const Oe=this.viewValue;Oe!==this._mostRecentViewValue&&(this._mostRecentViewValue=Oe,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(Oe=!1){this.onSelectionChange.emit(new ke(this,Oe))}}return je.\u0275fac=function(Oe){ct.$Z()},je.\u0275dir=ct.lG2({type:je,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),je})(),We=(()=>{class je extends Pi{constructor(Oe,oi,Vn,ei){super(Oe,oi,Vn,ei)}}return je.\u0275fac=function(Oe){return new(Oe||je)(ct.Y36(ct.SBq),ct.Y36(ct.sBO),ct.Y36(Bt,8),ct.Y36(yt,8))},je.\u0275cmp=ct.Xpm({type:je,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(Oe,oi){1&Oe&&ct.NdJ("click",function(){return oi._selectViaInteraction()})("keydown",function(ei){return oi._handleKeydown(ei)}),2&Oe&&(ct.Ikx("id",oi.id),ct.uIk("tabindex",oi._getTabIndex())("aria-selected",oi._getAriaSelected())("aria-disabled",oi.disabled.toString()),ct.ekj("mat-selected",oi.selected)("mat-option-multiple",oi.multiple)("mat-active",oi.active)("mat-option-disabled",oi.disabled))},exportAs:["matOption"],features:[ct.qOj],ngContentSelectors:Y,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(Oe,oi){1&Oe&&(ct.F$t(),ct.YNc(0,X,1,2,"mat-pseudo-checkbox",0),ct.TgZ(1,"span",1),ct.Hsn(2),ct.qZA(),ct.YNc(3,z,2,1,"span",2),ct._UZ(4,"div",3)),2&Oe&&(ct.Q6J("ngIf",oi.multiple),ct.xp6(3),ct.Q6J("ngIf",oi.group&&oi.group._inert),ct.xp6(1),ct.Q6J("matRippleTrigger",oi._getHostElement())("matRippleDisabled",oi.disabled||oi.disableRipple))},directives:[b.O5,Fi,_e],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),je})();function si(je,ci,Oe){if(Oe.length){let oi=ci.toArray(),Vn=Oe.toArray(),ei=0;for(let De=0;De<je+1;De++)oi[De].group&&oi[De].group===Vn[ei]&&ei++;return ei}return 0}function bn(je,ci,Oe,oi){return je<Oe?je:je+ci>Oe+oi?Math.max(0,je-oi+ci):Oe}let wi=(()=>{class je{}return je.\u0275fac=function(Oe){return new(Oe||je)},je.\u0275mod=ct.oAB({type:je}),je.\u0275inj=ct.cJS({imports:[[Ge,b.ez,xt,Ce]]}),je})()},9966:(Ee,Q,ut)=>{"use strict";ut.d(Q,{ux:()=>Et,ZX:()=>xt});var ct=ut(6015),f=ut(5711),J=ut(6019),tt=ut(3668),b=ut(6731),W=ut(86),G=ut(273),rt=ut(928),Z=ut(9468),H=ut(6263),F=ut(9814),et=ut(7497),B=ut(6999);function X(A,o){if(1&A){const c=tt.EpF();tt.TgZ(0,"div",1),tt.TgZ(1,"button",2),tt.NdJ("click",function(){return tt.CHM(c),tt.oxw().action()}),tt._uU(2),tt.qZA(),tt.qZA()}if(2&A){const c=tt.oxw();tt.xp6(2),tt.Oqu(c.data.action)}}function z(A,o){}const Y=new tt.OlP("MatSnackBarData");class q{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const U=Math.pow(2,31)-1;class it{constructor(o,c){this._overlayRef=c,this._afterDismissed=new G.x,this._afterOpened=new G.x,this._onAction=new G.x,this._dismissedByAction=!1,this.containerInstance=o,this.onAction().subscribe(()=>this.dismiss()),o._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(o){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(o,U))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let ot=(()=>{class A{constructor(c,g){this.snackBarRef=c,this.data=g}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return A.\u0275fac=function(c){return new(c||A)(tt.Y36(it),tt.Y36(Y))},A.\u0275cmp=tt.Xpm({type:A,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(c,g){1&c&&(tt.TgZ(0,"span"),tt._uU(1),tt.qZA(),tt.YNc(2,X,3,1,"div",0)),2&c&&(tt.xp6(1),tt.Oqu(g.data.message),tt.xp6(1),tt.Q6J("ngIf",g.hasAction))},directives:[J.O5,W.lW],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),A})();const lt={snackBarState:(0,F.X$)("state",[(0,F.SB)("void, hidden",(0,F.oB)({transform:"scale(0.8)",opacity:0})),(0,F.SB)("visible",(0,F.oB)({transform:"scale(1)",opacity:1})),(0,F.eR)("* => visible",(0,F.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,F.eR)("* => void, * => hidden",(0,F.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,F.oB)({opacity:0})))])};let wt=(()=>{class A extends f.en{constructor(c,g,p,w,S){super(),this._ngZone=c,this._elementRef=g,this._changeDetectorRef=p,this._platform=w,this.snackBarConfig=S,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new G.x,this._onExit=new G.x,this._onEnter=new G.x,this._animationState="void",this.attachDomPortal=T=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(T)),this._live="assertive"!==S.politeness||S.announcementMessage?"off"===S.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(c){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(c)}attachTemplatePortal(c){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(c)}onAnimationEnd(c){const{fromState:g,toState:p}=c;if(("void"===p&&"void"!==g||"hidden"===p)&&this._completeExit(),"visible"===p){const w=this._onEnter;this._ngZone.run(()=>{w.next(),w.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,Z.q)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const c=this._elementRef.nativeElement,g=this.snackBarConfig.panelClass;g&&(Array.isArray(g)?g.forEach(p=>c.classList.add(p)):c.classList.add(g)),"center"===this.snackBarConfig.horizontalPosition&&c.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&c.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const c=this._elementRef.nativeElement.querySelector("[aria-hidden]"),g=this._elementRef.nativeElement.querySelector("[aria-live]");if(c&&g){let p=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&c.contains(document.activeElement)&&(p=document.activeElement),c.removeAttribute("aria-hidden"),g.appendChild(c),null==p||p.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return A.\u0275fac=function(c){return new(c||A)(tt.Y36(tt.R0b),tt.Y36(tt.SBq),tt.Y36(tt.sBO),tt.Y36(rt.t4),tt.Y36(q))},A.\u0275cmp=tt.Xpm({type:A,selectors:[["snack-bar-container"]],viewQuery:function(c,g){if(1&c&&tt.Gf(f.Pl,7),2&c){let p;tt.iGM(p=tt.CRH())&&(g._portalOutlet=p.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(c,g){1&c&&tt.WFA("@state.done",function(w){return g.onAnimationEnd(w)}),2&c&&tt.d8E("@state",g._animationState)},features:[tt.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(c,g){1&c&&(tt.TgZ(0,"div",0),tt.YNc(1,z,0,0,"ng-template",1),tt.qZA(),tt._UZ(2,"div")),2&c&&(tt.xp6(2),tt.uIk("aria-live",g._live)("role",g._role))},directives:[f.Pl],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[lt.snackBarState]}}),A})(),xt=(()=>{class A{}return A.\u0275fac=function(c){return new(c||A)},A.\u0275mod=tt.oAB({type:A}),A.\u0275inj=tt.cJS({imports:[[ct.U8,f.eL,J.ez,W.ot,b.BQ],b.BQ]}),A})();const Ot=new tt.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new q}});let Et=(()=>{class A{constructor(c,g,p,w,S,T){this._overlay=c,this._live=g,this._injector=p,this._breakpointObserver=w,this._parentSnackBar=S,this._defaultConfig=T,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=ot,this.snackBarContainerComponent=wt,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const c=this._parentSnackBar;return c?c._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(c){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=c:this._snackBarRefAtThisLevel=c}openFromComponent(c,g){return this._attach(c,g)}openFromTemplate(c,g){return this._attach(c,g)}open(c,g="",p){const w=Er(Er({},this._defaultConfig),p);return w.data={message:c,action:g},w.announcementMessage===c&&(w.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,w)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(c,g){const w=tt.zs3.create({parent:g&&g.viewContainerRef&&g.viewContainerRef.injector||this._injector,providers:[{provide:q,useValue:g}]}),S=new f.C5(this.snackBarContainerComponent,g.viewContainerRef,w),T=c.attach(S);return T.instance.snackBarConfig=g,T.instance}_attach(c,g){const p=Er(Er(Er({},new q),this._defaultConfig),g),w=this._createOverlay(p),S=this._attachSnackBarContainer(w,p),T=new it(S,w);if(c instanceof tt.Rgc){const C=new f.UE(c,null,{$implicit:p.data,snackBarRef:T});T.instance=S.attachTemplatePortal(C)}else{const C=this._createInjector(p,T),h=new f.C5(c,void 0,C),k=S.attachComponentPortal(h);T.instance=k.instance}return this._breakpointObserver.observe(B.u3.HandsetPortrait).pipe((0,H.R)(w.detachments())).subscribe(C=>{w.overlayElement.classList.toggle(this.handsetCssClass,C.matches)}),p.announcementMessage&&S._onAnnounce.subscribe(()=>{this._live.announce(p.announcementMessage,p.politeness)}),this._animateSnackBar(T,p),this._openedSnackBarRef=T,this._openedSnackBarRef}_animateSnackBar(c,g){c.afterDismissed().subscribe(()=>{this._openedSnackBarRef==c&&(this._openedSnackBarRef=null),g.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{c.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):c.containerInstance.enter(),g.duration&&g.duration>0&&c.afterOpened().subscribe(()=>c._dismissAfter(g.duration))}_createOverlay(c){const g=new ct.X_;g.direction=c.direction;let p=this._overlay.position().global();const w="rtl"===c.direction,S="left"===c.horizontalPosition||"start"===c.horizontalPosition&&!w||"end"===c.horizontalPosition&&w,T=!S&&"center"!==c.horizontalPosition;return S?p.left("0"):T?p.right("0"):p.centerHorizontally(),"top"===c.verticalPosition?p.top("0"):p.bottom("0"),g.positionStrategy=p,this._overlay.create(g)}_createInjector(c,g){return tt.zs3.create({parent:c&&c.viewContainerRef&&c.viewContainerRef.injector||this._injector,providers:[{provide:it,useValue:g},{provide:Y,useValue:c.data}]})}}return A.\u0275fac=function(c){return new(c||A)(tt.LFG(ct.aV),tt.LFG(et.Kd),tt.LFG(tt.zs3),tt.LFG(B.Yg),tt.LFG(A,12),tt.LFG(Ot))},A.\u0275prov=tt.Yz7({token:A,factory:A.\u0275fac,providedIn:xt}),A})()},9555:(Ee,Q,ut)=>{"use strict";ut.d(Q,{Qb:()=>Yn,PW:()=>Us});var ct=ut(3668),f=ut(5427),J=ut(9814);function tt(){return"undefined"!=typeof window&&void 0!==window.document}function b(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function W(Fe){switch(Fe.length){case 0:return new J.ZN;case 1:return Fe[0];default:return new J.ZE(Fe)}}function G(Fe,It,Lt,ae,Ue={},li={}){const Vi=[],Hi=[];let cn=-1,Fn=null;if(ae.forEach(cr=>{const Mr=cr.offset,uo=Mr==cn,xo=uo&&Fn||{};Object.keys(cr).forEach(Yr=>{let eo=Yr,yr=cr[Yr];if("offset"!==Yr)switch(eo=It.normalizePropertyName(eo,Vi),yr){case J.k1:yr=Ue[Yr];break;case J.l3:yr=li[Yr];break;default:yr=It.normalizeStyleValue(Yr,eo,yr,Vi)}xo[eo]=yr}),uo||Hi.push(xo),Fn=xo,cn=Mr}),Vi.length){const cr="\n - ";throw new Error(`Unable to animate due to the following errors:${cr}${Vi.join(cr)}`)}return Hi}function rt(Fe,It,Lt,ae){switch(It){case"start":Fe.onStart(()=>ae(Lt&&Z(Lt,"start",Fe)));break;case"done":Fe.onDone(()=>ae(Lt&&Z(Lt,"done",Fe)));break;case"destroy":Fe.onDestroy(()=>ae(Lt&&Z(Lt,"destroy",Fe)))}}function Z(Fe,It,Lt){const ae=Lt.totalTime,li=H(Fe.element,Fe.triggerName,Fe.fromState,Fe.toState,It||Fe.phaseName,null==ae?Fe.totalTime:ae,!!Lt.disabled),Vi=Fe._data;return null!=Vi&&(li._data=Vi),li}function H(Fe,It,Lt,ae,Ue="",li=0,Vi){return{element:Fe,triggerName:It,fromState:Lt,toState:ae,phaseName:Ue,totalTime:li,disabled:!!Vi}}function F(Fe,It,Lt){let ae;return Fe instanceof Map?(ae=Fe.get(It),ae||Fe.set(It,ae=Lt)):(ae=Fe[It],ae||(ae=Fe[It]=Lt)),ae}function et(Fe){const It=Fe.indexOf(":");return[Fe.substring(1,It),Fe.substr(It+1)]}let B=(Fe,It)=>!1,X=(Fe,It)=>!1,z=(Fe,It,Lt)=>[];const Y=b();(Y||"undefined"!=typeof Element)&&(B=tt()?(Fe,It)=>{for(;It&&It!==document.documentElement;){if(It===Fe)return!0;It=It.parentNode||It.host}return!1}:(Fe,It)=>Fe.contains(It),X=(()=>{if(Y||Element.prototype.matches)return(Fe,It)=>Fe.matches(It);{const Fe=Element.prototype,It=Fe.matchesSelector||Fe.mozMatchesSelector||Fe.msMatchesSelector||Fe.oMatchesSelector||Fe.webkitMatchesSelector;return It?(Lt,ae)=>It.apply(Lt,[ae]):X}})(),z=(Fe,It,Lt)=>{let ae=[];if(Lt){const Ue=Fe.querySelectorAll(It);for(let li=0;li<Ue.length;li++)ae.push(Ue[li])}else{const Ue=Fe.querySelector(It);Ue&&ae.push(Ue)}return ae});let U=null,it=!1;function ot(Fe){U||(U=("undefined"!=typeof document?document.body:null)||{},it=!!U.style&&"WebkitAppearance"in U.style);let It=!0;return U.style&&!function(Fe){return"ebkit"==Fe.substring(1,6)}(Fe)&&(It=Fe in U.style,!It&&it&&(It="Webkit"+Fe.charAt(0).toUpperCase()+Fe.substr(1)in U.style)),It}const wt=X,xt=B,Ot=z;function Tt(Fe){const It={};return Object.keys(Fe).forEach(Lt=>{const ae=Lt.replace(/([a-z])([A-Z])/g,"$1-$2");It[ae]=Fe[Lt]}),It}let Et=(()=>{class Fe{validateStyleProperty(Lt){return ot(Lt)}matchesElement(Lt,ae){return wt(Lt,ae)}containsElement(Lt,ae){return xt(Lt,ae)}query(Lt,ae,Ue){return Ot(Lt,ae,Ue)}computeStyle(Lt,ae,Ue){return Ue||""}animate(Lt,ae,Ue,li,Vi,Hi=[],cn){return new J.ZN(Ue,li)}}return Fe.\u0275fac=function(Lt){return new(Lt||Fe)},Fe.\u0275prov=ct.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})(),A=(()=>{class Fe{}return Fe.NOOP=new Et,Fe})();const p="ng-enter",w="ng-leave",C="ng-trigger",h=".ng-trigger",k="ng-animating",ft=".ng-animating";function at(Fe){if("number"==typeof Fe)return Fe;const It=Fe.match(/^(-?[\.\d]+)(m?s)/);return!It||It.length<2?0:st(parseFloat(It[1]),It[2])}function st(Fe,It){return"s"===It?1e3*Fe:Fe}function Mt(Fe,It,Lt){return Fe.hasOwnProperty("duration")?Fe:function(Fe,It,Lt){let Ue,li=0,Vi="";if("string"==typeof Fe){const Hi=Fe.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Hi)return It.push(`The provided timing value "${Fe}" is invalid.`),{duration:0,delay:0,easing:""};Ue=st(parseFloat(Hi[1]),Hi[2]);const cn=Hi[3];null!=cn&&(li=st(parseFloat(cn),Hi[4]));const Fn=Hi[5];Fn&&(Vi=Fn)}else Ue=Fe;if(!Lt){let Hi=!1,cn=It.length;Ue<0&&(It.push("Duration values below 0 are not allowed for this animation step."),Hi=!0),li<0&&(It.push("Delay values below 0 are not allowed for this animation step."),Hi=!0),Hi&&It.splice(cn,0,`The provided timing value "${Fe}" is invalid.`)}return{duration:Ue,delay:li,easing:Vi}}(Fe,It,Lt)}function Xt(Fe,It={}){return Object.keys(Fe).forEach(Lt=>{It[Lt]=Fe[Lt]}),It}function Vt(Fe,It,Lt={}){if(It)for(let ae in Fe)Lt[ae]=Fe[ae];else Xt(Fe,Lt);return Lt}function Dt(Fe,It,Lt){return Lt?It+":"+Lt+";":""}function ve(Fe){let It="";for(let Lt=0;Lt<Fe.style.length;Lt++){const ae=Fe.style.item(Lt);It+=Dt(0,ae,Fe.style.getPropertyValue(ae))}for(const Lt in Fe.style)Fe.style.hasOwnProperty(Lt)&&!Lt.startsWith("_")&&(It+=Dt(0,_e(Lt),Fe.style[Lt]));Fe.setAttribute("style",It)}function Gt(Fe,It,Lt){Fe.style&&(Object.keys(It).forEach(ae=>{const Ue=Ge(ae);Lt&&!Lt.hasOwnProperty(ae)&&(Lt[ae]=Fe.style[Ue]),Fe.style[Ue]=It[ae]}),b()&&ve(Fe))}function Nt(Fe,It){Fe.style&&(Object.keys(It).forEach(Lt=>{const ae=Ge(Lt);Fe.style[ae]=""}),b()&&ve(Fe))}function Kt(Fe){return Array.isArray(Fe)?1==Fe.length?Fe[0]:(0,J.vP)(Fe):Fe}const zt=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ne(Fe){let It=[];if("string"==typeof Fe){let Lt;for(;Lt=zt.exec(Fe);)It.push(Lt[1]);zt.lastIndex=0}return It}function Pt(Fe,It,Lt){const ae=Fe.toString(),Ue=ae.replace(zt,(li,Vi)=>{let Hi=It[Vi];return It.hasOwnProperty(Vi)||(Lt.push(`Please provide a value for the animation param ${Vi}`),Hi=""),Hi.toString()});return Ue==ae?Fe:Ue}function Se(Fe){const It=[];let Lt=Fe.next();for(;!Lt.done;)It.push(Lt.value),Lt=Fe.next();return It}const Fi=/-+([a-z0-9])/g;function Ge(Fe){return Fe.replace(Fi,(...It)=>It[1].toUpperCase())}function _e(Fe){return Fe.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ce(Fe,It){return 0===Fe||0===It}function Bt(Fe,It,Lt){const ae=Object.keys(Lt);if(ae.length&&It.length){let li=It[0],Vi=[];if(ae.forEach(Hi=>{li.hasOwnProperty(Hi)||Vi.push(Hi),li[Hi]=Lt[Hi]}),Vi.length)for(var Ue=1;Ue<It.length;Ue++){let Hi=It[Ue];Vi.forEach(function(cn){Hi[cn]=Ye(Fe,cn)})}}return It}function re(Fe,It,Lt){switch(It.type){case 7:return Fe.visitTrigger(It,Lt);case 0:return Fe.visitState(It,Lt);case 1:return Fe.visitTransition(It,Lt);case 2:return Fe.visitSequence(It,Lt);case 3:return Fe.visitGroup(It,Lt);case 4:return Fe.visitAnimate(It,Lt);case 5:return Fe.visitKeyframes(It,Lt);case 6:return Fe.visitStyle(It,Lt);case 8:return Fe.visitReference(It,Lt);case 9:return Fe.visitAnimateChild(It,Lt);case 10:return Fe.visitAnimateRef(It,Lt);case 11:return Fe.visitQuery(It,Lt);case 12:return Fe.visitStagger(It,Lt);default:throw new Error(`Unable to resolve animation metadata node #${It.type}`)}}function Ye(Fe,It){return window.getComputedStyle(Fe)[It]}function yt(Fe,It){const Lt=[];return"string"==typeof Fe?Fe.split(/\s*,\s*/).forEach(ae=>function(Fe,It,Lt){if(":"==Fe[0]){const cn=function(Fe,It){switch(Fe){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(Lt,ae)=>parseFloat(ae)>parseFloat(Lt);case":decrement":return(Lt,ae)=>parseFloat(ae)<parseFloat(Lt);default:return It.push(`The transition alias value "${Fe}" is not supported`),"* => *"}}(Fe,Lt);if("function"==typeof cn)return void It.push(cn);Fe=cn}const ae=Fe.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==ae||ae.length<4)return Lt.push(`The provided transition expression "${Fe}" is not supported`),It;const Ue=ae[1],li=ae[2],Vi=ae[3];It.push(We(Ue,Vi));"<"==li[0]&&!("*"==Ue&&"*"==Vi)&&It.push(We(Vi,Ue))}(ae,Lt,It)):Lt.push(Fe),Lt}const ke=new Set(["true","1"]),Pi=new Set(["false","0"]);function We(Fe,It){const Lt=ke.has(Fe)||Pi.has(Fe),ae=ke.has(It)||Pi.has(It);return(Ue,li)=>{let Vi="*"==Fe||Fe==Ue,Hi="*"==It||It==li;return!Vi&&Lt&&"boolean"==typeof Ue&&(Vi=Ue?ke.has(Fe):Pi.has(Fe)),!Hi&&ae&&"boolean"==typeof li&&(Hi=li?ke.has(It):Pi.has(It)),Vi&&Hi}}const bn=new RegExp("s*:selfs*,?","g");function wi(Fe,It,Lt){return new ci(Fe).build(It,Lt)}class ci{constructor(It){this._driver=It}build(It,Lt){const ae=new Vn(Lt);return this._resetContextStyleTimingState(ae),re(this,Kt(It),ae)}_resetContextStyleTimingState(It){It.currentQuerySelector="",It.collectedStyles={},It.collectedStyles[""]={},It.currentTime=0}visitTrigger(It,Lt){let ae=Lt.queryCount=0,Ue=Lt.depCount=0;const li=[],Vi=[];return"@"==It.name.charAt(0)&&Lt.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),It.definitions.forEach(Hi=>{if(this._resetContextStyleTimingState(Lt),0==Hi.type){const cn=Hi,Fn=cn.name;Fn.toString().split(/\s*,\s*/).forEach(cr=>{cn.name=cr,li.push(this.visitState(cn,Lt))}),cn.name=Fn}else if(1==Hi.type){const cn=this.visitTransition(Hi,Lt);ae+=cn.queryCount,Ue+=cn.depCount,Vi.push(cn)}else Lt.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:It.name,states:li,transitions:Vi,queryCount:ae,depCount:Ue,options:null}}visitState(It,Lt){const ae=this.visitStyle(It.styles,Lt),Ue=It.options&&It.options.params||null;if(ae.containsDynamicStyles){const li=new Set,Vi=Ue||{};if(ae.styles.forEach(Hi=>{if(De(Hi)){const cn=Hi;Object.keys(cn).forEach(Fn=>{Ne(cn[Fn]).forEach(cr=>{Vi.hasOwnProperty(cr)||li.add(cr)})})}}),li.size){const Hi=Se(li.values());Lt.errors.push(`state("${It.name}", ...) must define default values for all the following style substitutions: ${Hi.join(", ")}`)}}return{type:0,name:It.name,style:ae,options:Ue?{params:Ue}:null}}visitTransition(It,Lt){Lt.queryCount=0,Lt.depCount=0;const ae=re(this,Kt(It.animation),Lt);return{type:1,matchers:yt(It.expr,Lt.errors),animation:ae,queryCount:Lt.queryCount,depCount:Lt.depCount,options:ni(It.options)}}visitSequence(It,Lt){return{type:2,steps:It.steps.map(ae=>re(this,ae,Lt)),options:ni(It.options)}}visitGroup(It,Lt){const ae=Lt.currentTime;let Ue=0;const li=It.steps.map(Vi=>{Lt.currentTime=ae;const Hi=re(this,Vi,Lt);return Ue=Math.max(Ue,Lt.currentTime),Hi});return Lt.currentTime=Ue,{type:3,steps:li,options:ni(It.options)}}visitAnimate(It,Lt){const ae=function(Fe,It){let Lt=null;if(Fe.hasOwnProperty("duration"))Lt=Fe;else if("number"==typeof Fe)return ne(Mt(Fe,It).duration,0,"");const ae=Fe;if(ae.split(/\s+/).some(li=>"{"==li.charAt(0)&&"{"==li.charAt(1))){const li=ne(0,0,"");return li.dynamic=!0,li.strValue=ae,li}return Lt=Lt||Mt(ae,It),ne(Lt.duration,Lt.delay,Lt.easing)}(It.timings,Lt.errors);Lt.currentAnimateTimings=ae;let Ue,li=It.styles?It.styles:(0,J.oB)({});if(5==li.type)Ue=this.visitKeyframes(li,Lt);else{let Vi=It.styles,Hi=!1;if(!Vi){Hi=!0;const Fn={};ae.easing&&(Fn.easing=ae.easing),Vi=(0,J.oB)(Fn)}Lt.currentTime+=ae.duration+ae.delay;const cn=this.visitStyle(Vi,Lt);cn.isEmptyStep=Hi,Ue=cn}return Lt.currentAnimateTimings=null,{type:4,timings:ae,style:Ue,options:null}}visitStyle(It,Lt){const ae=this._makeStyleAst(It,Lt);return this._validateStyleAst(ae,Lt),ae}_makeStyleAst(It,Lt){const ae=[];Array.isArray(It.styles)?It.styles.forEach(Vi=>{"string"==typeof Vi?Vi==J.l3?ae.push(Vi):Lt.errors.push(`The provided style string value ${Vi} is not allowed.`):ae.push(Vi)}):ae.push(It.styles);let Ue=!1,li=null;return ae.forEach(Vi=>{if(De(Vi)){const Hi=Vi,cn=Hi.easing;if(cn&&(li=cn,delete Hi.easing),!Ue)for(let Fn in Hi)if(Hi[Fn].toString().indexOf("{{")>=0){Ue=!0;break}}}),{type:6,styles:ae,easing:li,offset:It.offset,containsDynamicStyles:Ue,options:null}}_validateStyleAst(It,Lt){const ae=Lt.currentAnimateTimings;let Ue=Lt.currentTime,li=Lt.currentTime;ae&&li>0&&(li-=ae.duration+ae.delay),It.styles.forEach(Vi=>{"string"!=typeof Vi&&Object.keys(Vi).forEach(Hi=>{if(!this._driver.validateStyleProperty(Hi))return void Lt.errors.push(`The provided animation property "${Hi}" is not a supported CSS property for animations`);const cn=Lt.collectedStyles[Lt.currentQuerySelector],Fn=cn[Hi];let cr=!0;Fn&&(li!=Ue&&li>=Fn.startTime&&Ue<=Fn.endTime&&(Lt.errors.push(`The CSS property "${Hi}" that exists between the times of "${Fn.startTime}ms" and "${Fn.endTime}ms" is also being animated in a parallel animation between the times of "${li}ms" and "${Ue}ms"`),cr=!1),li=Fn.startTime),cr&&(cn[Hi]={startTime:li,endTime:Ue}),Lt.options&&function(Fe,It,Lt){const ae=It.params||{},Ue=Ne(Fe);Ue.length&&Ue.forEach(li=>{ae.hasOwnProperty(li)||Lt.push(`Unable to resolve the local animation param ${li} in the given list of values`)})}(Vi[Hi],Lt.options,Lt.errors)})})}visitKeyframes(It,Lt){const ae={type:5,styles:[],options:null};if(!Lt.currentAnimateTimings)return Lt.errors.push("keyframes() must be placed inside of a call to animate()"),ae;let li=0;const Vi=[];let Hi=!1,cn=!1,Fn=0;const cr=It.steps.map(Co=>{const Or=this._makeStyleAst(Co,Lt);let ro=null!=Or.offset?Or.offset:function(Fe){if("string"==typeof Fe)return null;let It=null;if(Array.isArray(Fe))Fe.forEach(Lt=>{if(De(Lt)&&Lt.hasOwnProperty("offset")){const ae=Lt;It=parseFloat(ae.offset),delete ae.offset}});else if(De(Fe)&&Fe.hasOwnProperty("offset")){const Lt=Fe;It=parseFloat(Lt.offset),delete Lt.offset}return It}(Or.styles),To=0;return null!=ro&&(li++,To=Or.offset=ro),cn=cn||To<0||To>1,Hi=Hi||To<Fn,Fn=To,Vi.push(To),Or});cn&&Lt.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),Hi&&Lt.errors.push("Please ensure that all keyframe offsets are in order");const Mr=It.steps.length;let uo=0;li>0&&li<Mr?Lt.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==li&&(uo=1/(Mr-1));const xo=Mr-1,Yr=Lt.currentTime,eo=Lt.currentAnimateTimings,yr=eo.duration;return cr.forEach((Co,Or)=>{const ro=uo>0?Or==xo?1:uo*Or:Vi[Or],To=ro*yr;Lt.currentTime=Yr+eo.delay+To,eo.duration=To,this._validateStyleAst(Co,Lt),Co.offset=ro,ae.styles.push(Co)}),ae}visitReference(It,Lt){return{type:8,animation:re(this,Kt(It.animation),Lt),options:ni(It.options)}}visitAnimateChild(It,Lt){return Lt.depCount++,{type:9,options:ni(It.options)}}visitAnimateRef(It,Lt){return{type:10,animation:this.visitReference(It.animation,Lt),options:ni(It.options)}}visitQuery(It,Lt){const ae=Lt.currentQuerySelector,Ue=It.options||{};Lt.queryCount++,Lt.currentQuery=It;const[li,Vi]=function(Fe){const It=!!Fe.split(/\s*,\s*/).find(Lt=>":self"==Lt);return It&&(Fe=Fe.replace(bn,"")),Fe=Fe.replace(/@\*/g,h).replace(/@\w+/g,Lt=>h+"-"+Lt.substr(1)).replace(/:animating/g,ft),[Fe,It]}(It.selector);Lt.currentQuerySelector=ae.length?ae+" "+li:li,F(Lt.collectedStyles,Lt.currentQuerySelector,{});const Hi=re(this,Kt(It.animation),Lt);return Lt.currentQuery=null,Lt.currentQuerySelector=ae,{type:11,selector:li,limit:Ue.limit||0,optional:!!Ue.optional,includeSelf:Vi,animation:Hi,originalSelector:It.selector,options:ni(It.options)}}visitStagger(It,Lt){Lt.currentQuery||Lt.errors.push("stagger() can only be used inside of query()");const ae="full"===It.timings?{duration:0,delay:0,easing:"full"}:Mt(It.timings,Lt.errors,!0);return{type:12,animation:re(this,Kt(It.animation),Lt),timings:ae,options:null}}}class Vn{constructor(It){this.errors=It,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function De(Fe){return!Array.isArray(Fe)&&"object"==typeof Fe}function ni(Fe){return Fe?(Fe=Xt(Fe)).params&&(Fe.params=function(Fe){return Fe?Xt(Fe):null}(Fe.params)):Fe={},Fe}function ne(Fe,It,Lt){return{duration:Fe,delay:It,easing:Lt}}function Qt(Fe,It,Lt,ae,Ue,li,Vi=null,Hi=!1){return{type:1,element:Fe,keyframes:It,preStyleProps:Lt,postStyleProps:ae,duration:Ue,delay:li,totalTime:Ue+li,easing:Vi,subTimeline:Hi}}class Zt{constructor(){this._map=new Map}consume(It){let Lt=this._map.get(It);return Lt?this._map.delete(It):Lt=[],Lt}append(It,Lt){let ae=this._map.get(It);ae||this._map.set(It,ae=[]),ae.push(...Lt)}has(It){return this._map.has(It)}clear(){this._map.clear()}}const ue=new RegExp(":enter","g"),pi=new RegExp(":leave","g");function he(Fe,It,Lt,ae,Ue,li={},Vi={},Hi,cn,Fn=[]){return(new $e).buildKeyframes(Fe,It,Lt,ae,Ue,li,Vi,Hi,cn,Fn)}class $e{buildKeyframes(It,Lt,ae,Ue,li,Vi,Hi,cn,Fn,cr=[]){Fn=Fn||new Zt;const Mr=new Ei(It,Lt,Fn,Ue,li,cr,[]);Mr.options=cn,Mr.currentTimeline.setStyles([Vi],null,Mr.errors,cn),re(this,ae,Mr);const uo=Mr.timelines.filter(xo=>xo.containsAnimation());if(uo.length&&Object.keys(Hi).length){const xo=uo[uo.length-1];xo.allowOnlyTimelineStyles()||xo.setStyles([Hi],null,Mr.errors,cn)}return uo.length?uo.map(xo=>xo.buildKeyframes()):[Qt(Lt,[],[],[],0,0,"",!1)]}visitTrigger(It,Lt){}visitState(It,Lt){}visitTransition(It,Lt){}visitAnimateChild(It,Lt){const ae=Lt.subInstructions.consume(Lt.element);if(ae){const Ue=Lt.createSubContext(It.options),li=Lt.currentTimeline.currentTime,Vi=this._visitSubInstructions(ae,Ue,Ue.options);li!=Vi&&Lt.transformIntoNewTimeline(Vi)}Lt.previousNode=It}visitAnimateRef(It,Lt){const ae=Lt.createSubContext(It.options);ae.transformIntoNewTimeline(),this.visitReference(It.animation,ae),Lt.transformIntoNewTimeline(ae.currentTimeline.currentTime),Lt.previousNode=It}_visitSubInstructions(It,Lt,ae){let li=Lt.currentTimeline.currentTime;const Vi=null!=ae.duration?at(ae.duration):null,Hi=null!=ae.delay?at(ae.delay):null;return 0!==Vi&&It.forEach(cn=>{const Fn=Lt.appendInstructionToTimeline(cn,Vi,Hi);li=Math.max(li,Fn.duration+Fn.delay)}),li}visitReference(It,Lt){Lt.updateOptions(It.options,!0),re(this,It.animation,Lt),Lt.previousNode=It}visitSequence(It,Lt){const ae=Lt.subContextCount;let Ue=Lt;const li=It.options;if(li&&(li.params||li.delay)&&(Ue=Lt.createSubContext(li),Ue.transformIntoNewTimeline(),null!=li.delay)){6==Ue.previousNode.type&&(Ue.currentTimeline.snapshotCurrentStyles(),Ue.previousNode=_n);const Vi=at(li.delay);Ue.delayNextStep(Vi)}It.steps.length&&(It.steps.forEach(Vi=>re(this,Vi,Ue)),Ue.currentTimeline.applyStylesToKeyframe(),Ue.subContextCount>ae&&Ue.transformIntoNewTimeline()),Lt.previousNode=It}visitGroup(It,Lt){const ae=[];let Ue=Lt.currentTimeline.currentTime;const li=It.options&&It.options.delay?at(It.options.delay):0;It.steps.forEach(Vi=>{const Hi=Lt.createSubContext(It.options);li&&Hi.delayNextStep(li),re(this,Vi,Hi),Ue=Math.max(Ue,Hi.currentTimeline.currentTime),ae.push(Hi.currentTimeline)}),ae.forEach(Vi=>Lt.currentTimeline.mergeTimelineCollectedStyles(Vi)),Lt.transformIntoNewTimeline(Ue),Lt.previousNode=It}_visitTiming(It,Lt){if(It.dynamic){const ae=It.strValue;return Mt(Lt.params?Pt(ae,Lt.params,Lt.errors):ae,Lt.errors)}return{duration:It.duration,delay:It.delay,easing:It.easing}}visitAnimate(It,Lt){const ae=Lt.currentAnimateTimings=this._visitTiming(It.timings,Lt),Ue=Lt.currentTimeline;ae.delay&&(Lt.incrementTime(ae.delay),Ue.snapshotCurrentStyles());const li=It.style;5==li.type?this.visitKeyframes(li,Lt):(Lt.incrementTime(ae.duration),this.visitStyle(li,Lt),Ue.applyStylesToKeyframe()),Lt.currentAnimateTimings=null,Lt.previousNode=It}visitStyle(It,Lt){const ae=Lt.currentTimeline,Ue=Lt.currentAnimateTimings;!Ue&&ae.getCurrentStyleProperties().length&&ae.forwardFrame();const li=Ue&&Ue.easing||It.easing;It.isEmptyStep?ae.applyEmptyStep(li):ae.setStyles(It.styles,li,Lt.errors,Lt.options),Lt.previousNode=It}visitKeyframes(It,Lt){const ae=Lt.currentAnimateTimings,Ue=Lt.currentTimeline.duration,li=ae.duration,Hi=Lt.createSubContext().currentTimeline;Hi.easing=ae.easing,It.styles.forEach(cn=>{Hi.forwardTime((cn.offset||0)*li),Hi.setStyles(cn.styles,cn.easing,Lt.errors,Lt.options),Hi.applyStylesToKeyframe()}),Lt.currentTimeline.mergeTimelineCollectedStyles(Hi),Lt.transformIntoNewTimeline(Ue+li),Lt.previousNode=It}visitQuery(It,Lt){const ae=Lt.currentTimeline.currentTime,Ue=It.options||{},li=Ue.delay?at(Ue.delay):0;li&&(6===Lt.previousNode.type||0==ae&&Lt.currentTimeline.getCurrentStyleProperties().length)&&(Lt.currentTimeline.snapshotCurrentStyles(),Lt.previousNode=_n);let Vi=ae;const Hi=Lt.invokeQuery(It.selector,It.originalSelector,It.limit,It.includeSelf,!!Ue.optional,Lt.errors);Lt.currentQueryTotal=Hi.length;let cn=null;Hi.forEach((Fn,cr)=>{Lt.currentQueryIndex=cr;const Mr=Lt.createSubContext(It.options,Fn);li&&Mr.delayNextStep(li),Fn===Lt.element&&(cn=Mr.currentTimeline),re(this,It.animation,Mr),Mr.currentTimeline.applyStylesToKeyframe(),Vi=Math.max(Vi,Mr.currentTimeline.currentTime)}),Lt.currentQueryIndex=0,Lt.currentQueryTotal=0,Lt.transformIntoNewTimeline(Vi),cn&&(Lt.currentTimeline.mergeTimelineCollectedStyles(cn),Lt.currentTimeline.snapshotCurrentStyles()),Lt.previousNode=It}visitStagger(It,Lt){const ae=Lt.parentContext,Ue=Lt.currentTimeline,li=It.timings,Vi=Math.abs(li.duration),Hi=Vi*(Lt.currentQueryTotal-1);let cn=Vi*Lt.currentQueryIndex;switch(li.duration<0?"reverse":li.easing){case"reverse":cn=Hi-cn;break;case"full":cn=ae.currentStaggerTime}const cr=Lt.currentTimeline;cn&&cr.delayNextStep(cn);const Mr=cr.currentTime;re(this,It.animation,Lt),Lt.previousNode=It,ae.currentStaggerTime=Ue.currentTime-Mr+(Ue.startTime-ae.currentTimeline.startTime)}}const _n={};class Ei{constructor(It,Lt,ae,Ue,li,Vi,Hi,cn){this._driver=It,this.element=Lt,this.subInstructions=ae,this._enterClassName=Ue,this._leaveClassName=li,this.errors=Vi,this.timelines=Hi,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_n,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=cn||new zi(this._driver,Lt,0),Hi.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(It,Lt){if(!It)return;const ae=It;let Ue=this.options;null!=ae.duration&&(Ue.duration=at(ae.duration)),null!=ae.delay&&(Ue.delay=at(ae.delay));const li=ae.params;if(li){let Vi=Ue.params;Vi||(Vi=this.options.params={}),Object.keys(li).forEach(Hi=>{(!Lt||!Vi.hasOwnProperty(Hi))&&(Vi[Hi]=Pt(li[Hi],Vi,this.errors))})}}_copyOptions(){const It={};if(this.options){const Lt=this.options.params;if(Lt){const ae=It.params={};Object.keys(Lt).forEach(Ue=>{ae[Ue]=Lt[Ue]})}}return It}createSubContext(It=null,Lt,ae){const Ue=Lt||this.element,li=new Ei(this._driver,Ue,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(Ue,ae||0));return li.previousNode=this.previousNode,li.currentAnimateTimings=this.currentAnimateTimings,li.options=this._copyOptions(),li.updateOptions(It),li.currentQueryIndex=this.currentQueryIndex,li.currentQueryTotal=this.currentQueryTotal,li.parentContext=this,this.subContextCount++,li}transformIntoNewTimeline(It){return this.previousNode=_n,this.currentTimeline=this.currentTimeline.fork(this.element,It),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(It,Lt,ae){const Ue={duration:null!=Lt?Lt:It.duration,delay:this.currentTimeline.currentTime+(null!=ae?ae:0)+It.delay,easing:""},li=new ir(this._driver,It.element,It.keyframes,It.preStyleProps,It.postStyleProps,Ue,It.stretchStartingKeyframe);return this.timelines.push(li),Ue}incrementTime(It){this.currentTimeline.forwardTime(this.currentTimeline.duration+It)}delayNextStep(It){It>0&&this.currentTimeline.delayNextStep(It)}invokeQuery(It,Lt,ae,Ue,li,Vi){let Hi=[];if(Ue&&Hi.push(this.element),It.length>0){It=(It=It.replace(ue,"."+this._enterClassName)).replace(pi,"."+this._leaveClassName);let Fn=this._driver.query(this.element,It,1!=ae);0!==ae&&(Fn=ae<0?Fn.slice(Fn.length+ae,Fn.length):Fn.slice(0,ae)),Hi.push(...Fn)}return!li&&0==Hi.length&&Vi.push(`\`query("${Lt}")\` returned zero elements. (Use \`query("${Lt}", { optional: true })\` if you wish to allow this.)`),Hi}}class zi{constructor(It,Lt,ae,Ue){this._driver=It,this.element=Lt,this.startTime=ae,this._elementTimelineStylesLookup=Ue,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(Lt),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(Lt,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(It){const Lt=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||Lt?(this.forwardTime(this.currentTime+It),Lt&&this.snapshotCurrentStyles()):this.startTime+=It}fork(It,Lt){return this.applyStylesToKeyframe(),new zi(this._driver,It,Lt||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(It){this.applyStylesToKeyframe(),this.duration=It,this._loadKeyframe()}_updateStyle(It,Lt){this._localTimelineStyles[It]=Lt,this._globalTimelineStyles[It]=Lt,this._styleSummary[It]={time:this.currentTime,value:Lt}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(It){It&&(this._previousKeyframe.easing=It),Object.keys(this._globalTimelineStyles).forEach(Lt=>{this._backFill[Lt]=this._globalTimelineStyles[Lt]||J.l3,this._currentKeyframe[Lt]=J.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(It,Lt,ae,Ue){Lt&&(this._previousKeyframe.easing=Lt);const li=Ue&&Ue.params||{},Vi=function(Fe,It){const Lt={};let ae;return Fe.forEach(Ue=>{"*"===Ue?(ae=ae||Object.keys(It),ae.forEach(li=>{Lt[li]=J.l3})):Vt(Ue,!1,Lt)}),Lt}(It,this._globalTimelineStyles);Object.keys(Vi).forEach(Hi=>{const cn=Pt(Vi[Hi],li,ae);this._pendingStyles[Hi]=cn,this._localTimelineStyles.hasOwnProperty(Hi)||(this._backFill[Hi]=this._globalTimelineStyles.hasOwnProperty(Hi)?this._globalTimelineStyles[Hi]:J.l3),this._updateStyle(Hi,cn)})}applyStylesToKeyframe(){const It=this._pendingStyles,Lt=Object.keys(It);0!=Lt.length&&(this._pendingStyles={},Lt.forEach(ae=>{this._currentKeyframe[ae]=It[ae]}),Object.keys(this._localTimelineStyles).forEach(ae=>{this._currentKeyframe.hasOwnProperty(ae)||(this._currentKeyframe[ae]=this._localTimelineStyles[ae])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(It=>{const Lt=this._localTimelineStyles[It];this._pendingStyles[It]=Lt,this._updateStyle(It,Lt)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const It=[];for(let Lt in this._currentKeyframe)It.push(Lt);return It}mergeTimelineCollectedStyles(It){Object.keys(It._styleSummary).forEach(Lt=>{const ae=this._styleSummary[Lt],Ue=It._styleSummary[Lt];(!ae||Ue.time>ae.time)&&this._updateStyle(Lt,Ue.value)})}buildKeyframes(){this.applyStylesToKeyframe();const It=new Set,Lt=new Set,ae=1===this._keyframes.size&&0===this.duration;let Ue=[];this._keyframes.forEach((Hi,cn)=>{const Fn=Vt(Hi,!0);Object.keys(Fn).forEach(cr=>{const Mr=Fn[cr];Mr==J.k1?It.add(cr):Mr==J.l3&&Lt.add(cr)}),ae||(Fn.offset=cn/this.duration),Ue.push(Fn)});const li=It.size?Se(It.values()):[],Vi=Lt.size?Se(Lt.values()):[];if(ae){const Hi=Ue[0],cn=Xt(Hi);Hi.offset=0,cn.offset=1,Ue=[Hi,cn]}return Qt(this.element,Ue,li,Vi,this.duration,this.startTime,this.easing,!1)}}class ir extends zi{constructor(It,Lt,ae,Ue,li,Vi,Hi=!1){super(It,Lt,Vi.delay),this.keyframes=ae,this.preStyleProps=Ue,this.postStyleProps=li,this._stretchStartingKeyframe=Hi,this.timings={duration:Vi.duration,delay:Vi.delay,easing:Vi.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let It=this.keyframes,{delay:Lt,duration:ae,easing:Ue}=this.timings;if(this._stretchStartingKeyframe&&Lt){const li=[],Vi=ae+Lt,Hi=Lt/Vi,cn=Vt(It[0],!1);cn.offset=0,li.push(cn);const Fn=Vt(It[0],!1);Fn.offset=bi(Hi),li.push(Fn);const cr=It.length-1;for(let Mr=1;Mr<=cr;Mr++){let uo=Vt(It[Mr],!1);uo.offset=bi((Lt+uo.offset*ae)/Vi),li.push(uo)}ae=Vi,Lt=0,Ue="",It=li}return Qt(this.element,It,this.preStyleProps,this.postStyleProps,ae,Lt,Ue,!0)}}function bi(Fe,It=3){const Lt=Math.pow(10,It-1);return Math.round(Fe*Lt)/Lt}class Kn{}class Jn extends Kn{normalizePropertyName(It,Lt){return Ge(It)}normalizeStyleValue(It,Lt,ae,Ue){let li="";const Vi=ae.toString().trim();if(Ni[Lt]&&0!==ae&&"0"!==ae)if("number"==typeof ae)li="px";else{const Hi=ae.match(/^[+-]?[\d\.]+([a-z]*)$/);Hi&&0==Hi[1].length&&Ue.push(`Please provide a CSS unit value for ${It}:${ae}`)}return Vi+li}}const Ni=(()=>function(Fe){const It={};return Fe.forEach(Lt=>It[Lt]=!0),It}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Je(Fe,It,Lt,ae,Ue,li,Vi,Hi,cn,Fn,cr,Mr,uo){return{type:0,element:Fe,triggerName:It,isRemovalTransition:Ue,fromState:Lt,fromStyles:li,toState:ae,toStyles:Vi,timelines:Hi,queriedElements:cn,preStyleProps:Fn,postStyleProps:cr,totalTime:Mr,errors:uo}}const Ui={};class on{constructor(It,Lt,ae){this._triggerName=It,this.ast=Lt,this._stateStyles=ae}match(It,Lt,ae,Ue){return function(Fe,It,Lt,ae,Ue){return Fe.some(li=>li(It,Lt,ae,Ue))}(this.ast.matchers,It,Lt,ae,Ue)}buildStyles(It,Lt,ae){const Ue=this._stateStyles["*"],li=this._stateStyles[It],Vi=Ue?Ue.buildStyles(Lt,ae):{};return li?li.buildStyles(Lt,ae):Vi}build(It,Lt,ae,Ue,li,Vi,Hi,cn,Fn,cr){const Mr=[],uo=this.ast.options&&this.ast.options.params||Ui,Yr=this.buildStyles(ae,Hi&&Hi.params||Ui,Mr),eo=cn&&cn.params||Ui,yr=this.buildStyles(Ue,eo,Mr),Co=new Set,Or=new Map,ro=new Map,To="void"===Ue,Hs={params:Er(Er({},uo),eo)},ws=cr?[]:he(It,Lt,this.ast.animation,li,Vi,Yr,yr,Hs,Fn,Mr);let Gn=0;if(ws.forEach(ps=>{Gn=Math.max(ps.duration+ps.delay,Gn)}),Mr.length)return Je(Lt,this._triggerName,ae,Ue,To,Yr,yr,[],[],Or,ro,Gn,Mr);ws.forEach(ps=>{const _s=ps.element,bo=F(Or,_s,{});ps.preStyleProps.forEach(qn=>bo[qn]=!0);const Ds=F(ro,_s,{});ps.postStyleProps.forEach(qn=>Ds[qn]=!0),_s!==Lt&&Co.add(_s)});const Es=Se(Co.values());return Je(Lt,this._triggerName,ae,Ue,To,Yr,yr,ws,Es,Or,ro,Gn)}}class mr{constructor(It,Lt,ae){this.styles=It,this.defaultParams=Lt,this.normalizer=ae}buildStyles(It,Lt){const ae={},Ue=Xt(this.defaultParams);return Object.keys(It).forEach(li=>{const Vi=It[li];null!=Vi&&(Ue[li]=Vi)}),this.styles.styles.forEach(li=>{if("string"!=typeof li){const Vi=li;Object.keys(Vi).forEach(Hi=>{let cn=Vi[Hi];cn.length>1&&(cn=Pt(cn,Ue,Lt));const Fn=this.normalizer.normalizePropertyName(Hi,Lt);cn=this.normalizer.normalizeStyleValue(Hi,Fn,cn,Lt),ae[Fn]=cn})}}),ae}}class hn{constructor(It,Lt,ae){this.name=It,this.ast=Lt,this._normalizer=ae,this.transitionFactories=[],this.states={},Lt.states.forEach(Ue=>{this.states[Ue.name]=new mr(Ue.style,Ue.options&&Ue.options.params||{},ae)}),Hr(this.states,"true","1"),Hr(this.states,"false","0"),Lt.transitions.forEach(Ue=>{this.transitionFactories.push(new on(It,Ue,this.states))}),this.fallbackTransition=function(Fe,It,Lt){return new on(Fe,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Vi,Hi)=>!0],options:null,queryCount:0,depCount:0},It)}(It,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(It,Lt,ae,Ue){return this.transitionFactories.find(Vi=>Vi.match(It,Lt,ae,Ue))||null}matchStyles(It,Lt,ae){return this.fallbackTransition.buildStyles(It,Lt,ae)}}function Hr(Fe,It,Lt){Fe.hasOwnProperty(It)?Fe.hasOwnProperty(Lt)||(Fe[Lt]=Fe[It]):Fe.hasOwnProperty(Lt)&&(Fe[It]=Fe[Lt])}const so=new Zt;class Vr{constructor(It,Lt,ae){this.bodyNode=It,this._driver=Lt,this._normalizer=ae,this._animations={},this._playersById={},this.players=[]}register(It,Lt){const ae=[],Ue=wi(this._driver,Lt,ae);if(ae.length)throw new Error(`Unable to build the animation due to the following errors: ${ae.join("\n")}`);this._animations[It]=Ue}_buildPlayer(It,Lt,ae){const Ue=It.element,li=G(0,this._normalizer,0,It.keyframes,Lt,ae);return this._driver.animate(Ue,li,It.duration,It.delay,It.easing,[],!0)}create(It,Lt,ae={}){const Ue=[],li=this._animations[It];let Vi;const Hi=new Map;if(li?(Vi=he(this._driver,Lt,li,p,w,{},{},ae,so,Ue),Vi.forEach(cr=>{const Mr=F(Hi,cr.element,{});cr.postStyleProps.forEach(uo=>Mr[uo]=null)})):(Ue.push("The requested animation doesn't exist or has already been destroyed"),Vi=[]),Ue.length)throw new Error(`Unable to create the animation due to the following errors: ${Ue.join("\n")}`);Hi.forEach((cr,Mr)=>{Object.keys(cr).forEach(uo=>{cr[uo]=this._driver.computeStyle(Mr,uo,J.l3)})});const Fn=W(Vi.map(cr=>{const Mr=Hi.get(cr.element);return this._buildPlayer(cr,{},Mr)}));return this._playersById[It]=Fn,Fn.onDestroy(()=>this.destroy(It)),this.players.push(Fn),Fn}destroy(It){const Lt=this._getPlayer(It);Lt.destroy(),delete this._playersById[It];const ae=this.players.indexOf(Lt);ae>=0&&this.players.splice(ae,1)}_getPlayer(It){const Lt=this._playersById[It];if(!Lt)throw new Error(`Unable to find the timeline player referenced by ${It}`);return Lt}listen(It,Lt,ae,Ue){const li=H(Lt,"","","");return rt(this._getPlayer(It),ae,li,Ue),()=>{}}command(It,Lt,ae,Ue){if("register"==ae)return void this.register(It,Ue[0]);if("create"==ae)return void this.create(It,Lt,Ue[0]||{});const li=this._getPlayer(It);switch(ae){case"play":li.play();break;case"pause":li.pause();break;case"reset":li.reset();break;case"restart":li.restart();break;case"finish":li.finish();break;case"init":li.init();break;case"setPosition":li.setPosition(parseFloat(Ue[0]));break;case"destroy":this.destroy(It)}}}const Pr="ng-animate-queued",Vs="ng-animate-disabled",qs=".ng-animate-disabled",ds=[],Gr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},qo={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},as="__ng_removed";class wa{constructor(It,Lt=""){this.namespaceId=Lt;const ae=It&&It.hasOwnProperty("value");if(this.value=null!=(Fe=ae?It.value:It)?Fe:null,ae){const li=Xt(It);delete li.value,this.options=li}else this.options={};var Fe;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(It){const Lt=It.params;if(Lt){const ae=this.options.params;Object.keys(Lt).forEach(Ue=>{null==ae[Ue]&&(ae[Ue]=Lt[Ue])})}}}const Ho="void",ea=new wa(Ho);class Qr{constructor(It,Lt,ae){this.id=It,this.hostElement=Lt,this._engine=ae,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+It,Go(Lt,this._hostClassName)}listen(It,Lt,ae,Ue){if(!this._triggers.hasOwnProperty(Lt))throw new Error(`Unable to listen on the animation trigger event "${ae}" because the animation trigger "${Lt}" doesn't exist!`);if(null==ae||0==ae.length)throw new Error(`Unable to listen on the animation trigger "${Lt}" because the provided event is undefined!`);if("start"!=(Fe=ae)&&"done"!=Fe)throw new Error(`The provided animation trigger event "${ae}" for the animation trigger "${Lt}" is not supported!`);var Fe;const li=F(this._elementListeners,It,[]),Vi={name:Lt,phase:ae,callback:Ue};li.push(Vi);const Hi=F(this._engine.statesByElement,It,{});return Hi.hasOwnProperty(Lt)||(Go(It,C),Go(It,C+"-"+Lt),Hi[Lt]=ea),()=>{this._engine.afterFlush(()=>{const cn=li.indexOf(Vi);cn>=0&&li.splice(cn,1),this._triggers[Lt]||delete Hi[Lt]})}}register(It,Lt){return!this._triggers[It]&&(this._triggers[It]=Lt,!0)}_getTrigger(It){const Lt=this._triggers[It];if(!Lt)throw new Error(`The provided animation trigger "${It}" has not been registered!`);return Lt}trigger(It,Lt,ae,Ue=!0){const li=this._getTrigger(Lt),Vi=new zs(this.id,Lt,It);let Hi=this._engine.statesByElement.get(It);Hi||(Go(It,C),Go(It,C+"-"+Lt),this._engine.statesByElement.set(It,Hi={}));let cn=Hi[Lt];const Fn=new wa(ae,this.id);if(!(ae&&ae.hasOwnProperty("value"))&&cn&&Fn.absorbOptions(cn.options),Hi[Lt]=Fn,cn||(cn=ea),Fn.value!==Ho&&cn.value===Fn.value){if(!function(Fe,It){const Lt=Object.keys(Fe),ae=Object.keys(It);if(Lt.length!=ae.length)return!1;for(let Ue=0;Ue<Lt.length;Ue++){const li=Lt[Ue];if(!It.hasOwnProperty(li)||Fe[li]!==It[li])return!1}return!0}(cn.params,Fn.params)){const eo=[],yr=li.matchStyles(cn.value,cn.params,eo),Co=li.matchStyles(Fn.value,Fn.params,eo);eo.length?this._engine.reportError(eo):this._engine.afterFlush(()=>{Nt(It,yr),Gt(It,Co)})}return}const uo=F(this._engine.playersByElement,It,[]);uo.forEach(eo=>{eo.namespaceId==this.id&&eo.triggerName==Lt&&eo.queued&&eo.destroy()});let xo=li.matchTransition(cn.value,Fn.value,It,Fn.params),Yr=!1;if(!xo){if(!Ue)return;xo=li.fallbackTransition,Yr=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:It,triggerName:Lt,transition:xo,fromState:cn,toState:Fn,player:Vi,isFallbackTransition:Yr}),Yr||(Go(It,Pr),Vi.onStart(()=>{ns(It,Pr)})),Vi.onDone(()=>{let eo=this.players.indexOf(Vi);eo>=0&&this.players.splice(eo,1);const yr=this._engine.playersByElement.get(It);if(yr){let Co=yr.indexOf(Vi);Co>=0&&yr.splice(Co,1)}}),this.players.push(Vi),uo.push(Vi),Vi}deregister(It){delete this._triggers[It],this._engine.statesByElement.forEach((Lt,ae)=>{delete Lt[It]}),this._elementListeners.forEach((Lt,ae)=>{this._elementListeners.set(ae,Lt.filter(Ue=>Ue.name!=It))})}clearElementCache(It){this._engine.statesByElement.delete(It),this._elementListeners.delete(It);const Lt=this._engine.playersByElement.get(It);Lt&&(Lt.forEach(ae=>ae.destroy()),this._engine.playersByElement.delete(It))}_signalRemovalForInnerTriggers(It,Lt){const ae=this._engine.driver.query(It,h,!0);ae.forEach(Ue=>{if(Ue[as])return;const li=this._engine.fetchNamespacesByElement(Ue);li.size?li.forEach(Vi=>Vi.triggerLeaveAnimation(Ue,Lt,!1,!0)):this.clearElementCache(Ue)}),this._engine.afterFlushAnimationsDone(()=>ae.forEach(Ue=>this.clearElementCache(Ue)))}triggerLeaveAnimation(It,Lt,ae,Ue){const li=this._engine.statesByElement.get(It);if(li){const Vi=[];if(Object.keys(li).forEach(Hi=>{if(this._triggers[Hi]){const cn=this.trigger(It,Hi,Ho,Ue);cn&&Vi.push(cn)}}),Vi.length)return this._engine.markElementAsRemoved(this.id,It,!0,Lt),ae&&W(Vi).onDone(()=>this._engine.processLeaveNode(It)),!0}return!1}prepareLeaveAnimationListeners(It){const Lt=this._elementListeners.get(It),ae=this._engine.statesByElement.get(It);if(Lt&&ae){const Ue=new Set;Lt.forEach(li=>{const Vi=li.name;if(Ue.has(Vi))return;Ue.add(Vi);const cn=this._triggers[Vi].fallbackTransition,Fn=ae[Vi]||ea,cr=new wa(Ho),Mr=new zs(this.id,Vi,It);this._engine.totalQueuedPlayers++,this._queue.push({element:It,triggerName:Vi,transition:cn,fromState:Fn,toState:cr,player:Mr,isFallbackTransition:!0})})}}removeNode(It,Lt){const ae=this._engine;if(It.childElementCount&&this._signalRemovalForInnerTriggers(It,Lt),this.triggerLeaveAnimation(It,Lt,!0))return;let Ue=!1;if(ae.totalAnimations){const li=ae.players.length?ae.playersByQueriedElement.get(It):[];if(li&&li.length)Ue=!0;else{let Vi=It;for(;Vi=Vi.parentNode;)if(ae.statesByElement.get(Vi)){Ue=!0;break}}}if(this.prepareLeaveAnimationListeners(It),Ue)ae.markElementAsRemoved(this.id,It,!1,Lt);else{const li=It[as];(!li||li===Gr)&&(ae.afterFlush(()=>this.clearElementCache(It)),ae.destroyInnerAnimations(It),ae._onRemovalComplete(It,Lt))}}insertNode(It,Lt){Go(It,this._hostClassName)}drainQueuedTransitions(It){const Lt=[];return this._queue.forEach(ae=>{const Ue=ae.player;if(Ue.destroyed)return;const li=ae.element,Vi=this._elementListeners.get(li);Vi&&Vi.forEach(Hi=>{if(Hi.name==ae.triggerName){const cn=H(li,ae.triggerName,ae.fromState.value,ae.toState.value);cn._data=It,rt(ae.player,Hi.phase,cn,Hi.callback)}}),Ue.markedForDestroy?this._engine.afterFlush(()=>{Ue.destroy()}):Lt.push(ae)}),this._queue=[],Lt.sort((ae,Ue)=>{const li=ae.transition.ast.depCount,Vi=Ue.transition.ast.depCount;return 0==li||0==Vi?li-Vi:this._engine.driver.containsElement(ae.element,Ue.element)?1:-1})}destroy(It){this.players.forEach(Lt=>Lt.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,It)}elementContainsData(It){let Lt=!1;return this._elementListeners.has(It)&&(Lt=!0),Lt=!!this._queue.find(ae=>ae.element===It)||Lt,Lt}}class Oa{constructor(It,Lt,ae){this.bodyNode=It,this.driver=Lt,this._normalizer=ae,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(Ue,li)=>{}}_onRemovalComplete(It,Lt){this.onRemovalComplete(It,Lt)}get queuedPlayers(){const It=[];return this._namespaceList.forEach(Lt=>{Lt.players.forEach(ae=>{ae.queued&&It.push(ae)})}),It}createNamespace(It,Lt){const ae=new Qr(It,Lt,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,Lt)?this._balanceNamespaceList(ae,Lt):(this.newHostElements.set(Lt,ae),this.collectEnterElement(Lt)),this._namespaceLookup[It]=ae}_balanceNamespaceList(It,Lt){const ae=this._namespaceList.length-1;if(ae>=0){let Ue=!1;for(let li=ae;li>=0;li--)if(this.driver.containsElement(this._namespaceList[li].hostElement,Lt)){this._namespaceList.splice(li+1,0,It),Ue=!0;break}Ue||this._namespaceList.splice(0,0,It)}else this._namespaceList.push(It);return this.namespacesByHostElement.set(Lt,It),It}register(It,Lt){let ae=this._namespaceLookup[It];return ae||(ae=this.createNamespace(It,Lt)),ae}registerTrigger(It,Lt,ae){let Ue=this._namespaceLookup[It];Ue&&Ue.register(Lt,ae)&&this.totalAnimations++}destroy(It,Lt){if(!It)return;const ae=this._fetchNamespace(It);this.afterFlush(()=>{this.namespacesByHostElement.delete(ae.hostElement),delete this._namespaceLookup[It];const Ue=this._namespaceList.indexOf(ae);Ue>=0&&this._namespaceList.splice(Ue,1)}),this.afterFlushAnimationsDone(()=>ae.destroy(Lt))}_fetchNamespace(It){return this._namespaceLookup[It]}fetchNamespacesByElement(It){const Lt=new Set,ae=this.statesByElement.get(It);if(ae){const Ue=Object.keys(ae);for(let li=0;li<Ue.length;li++){const Vi=ae[Ue[li]].namespaceId;if(Vi){const Hi=this._fetchNamespace(Vi);Hi&&Lt.add(Hi)}}}return Lt}trigger(It,Lt,ae,Ue){if(ks(Lt)){const li=this._fetchNamespace(It);if(li)return li.trigger(Lt,ae,Ue),!0}return!1}insertNode(It,Lt,ae,Ue){if(!ks(Lt))return;const li=Lt[as];if(li&&li.setForRemoval){li.setForRemoval=!1,li.setForMove=!0;const Vi=this.collectedLeaveElements.indexOf(Lt);Vi>=0&&this.collectedLeaveElements.splice(Vi,1)}if(It){const Vi=this._fetchNamespace(It);Vi&&Vi.insertNode(Lt,ae)}Ue&&this.collectEnterElement(Lt)}collectEnterElement(It){this.collectedEnterElements.push(It)}markElementAsDisabled(It,Lt){Lt?this.disabledNodes.has(It)||(this.disabledNodes.add(It),Go(It,Vs)):this.disabledNodes.has(It)&&(this.disabledNodes.delete(It),ns(It,Vs))}removeNode(It,Lt,ae,Ue){if(ks(Lt)){const li=It?this._fetchNamespace(It):null;if(li?li.removeNode(Lt,Ue):this.markElementAsRemoved(It,Lt,!1,Ue),ae){const Vi=this.namespacesByHostElement.get(Lt);Vi&&Vi.id!==It&&Vi.removeNode(Lt,Ue)}}else this._onRemovalComplete(Lt,Ue)}markElementAsRemoved(It,Lt,ae,Ue){this.collectedLeaveElements.push(Lt),Lt[as]={namespaceId:It,setForRemoval:Ue,hasAnimation:ae,removedBeforeQueried:!1}}listen(It,Lt,ae,Ue,li){return ks(Lt)?this._fetchNamespace(It).listen(Lt,ae,Ue,li):()=>{}}_buildInstruction(It,Lt,ae,Ue,li){return It.transition.build(this.driver,It.element,It.fromState.value,It.toState.value,ae,Ue,It.fromState.options,It.toState.options,Lt,li)}destroyInnerAnimations(It){let Lt=this.driver.query(It,h,!0);Lt.forEach(ae=>this.destroyActiveAnimationsForElement(ae)),0!=this.playersByQueriedElement.size&&(Lt=this.driver.query(It,ft,!0),Lt.forEach(ae=>this.finishActiveQueriedAnimationOnElement(ae)))}destroyActiveAnimationsForElement(It){const Lt=this.playersByElement.get(It);Lt&&Lt.forEach(ae=>{ae.queued?ae.markedForDestroy=!0:ae.destroy()})}finishActiveQueriedAnimationOnElement(It){const Lt=this.playersByQueriedElement.get(It);Lt&&Lt.forEach(ae=>ae.finish())}whenRenderingDone(){return new Promise(It=>{if(this.players.length)return W(this.players).onDone(()=>It());It()})}processLeaveNode(It){const Lt=It[as];if(Lt&&Lt.setForRemoval){if(It[as]=Gr,Lt.namespaceId){this.destroyInnerAnimations(It);const ae=this._fetchNamespace(Lt.namespaceId);ae&&ae.clearElementCache(It)}this._onRemovalComplete(It,Lt.setForRemoval)}this.driver.matchesElement(It,qs)&&this.markElementAsDisabled(It,!1),this.driver.query(It,qs,!0).forEach(ae=>{this.markElementAsDisabled(ae,!1)})}flush(It=-1){let Lt=[];if(this.newHostElements.size&&(this.newHostElements.forEach((ae,Ue)=>this._balanceNamespaceList(ae,Ue)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let ae=0;ae<this.collectedEnterElements.length;ae++)Go(this.collectedEnterElements[ae],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const ae=[];try{Lt=this._flushAnimations(ae,It)}finally{for(let Ue=0;Ue<ae.length;Ue++)ae[Ue]()}}else for(let ae=0;ae<this.collectedLeaveElements.length;ae++)this.processLeaveNode(this.collectedLeaveElements[ae]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(ae=>ae()),this._flushFns=[],this._whenQuietFns.length){const ae=this._whenQuietFns;this._whenQuietFns=[],Lt.length?W(Lt).onDone(()=>{ae.forEach(Ue=>Ue())}):ae.forEach(Ue=>Ue())}}reportError(It){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${It.join("\n")}`)}_flushAnimations(It,Lt){const ae=new Zt,Ue=[],li=new Map,Vi=[],Hi=new Map,cn=new Map,Fn=new Map,cr=new Set;this.disabledNodes.forEach(ur=>{cr.add(ur);const Ir=this.driver.query(ur,".ng-animate-queued",!0);for(let ao=0;ao<Ir.length;ao++)cr.add(Ir[ao])});const Mr=this.bodyNode,uo=Array.from(this.statesByElement.keys()),xo=Pl(uo,this.collectedEnterElements),Yr=new Map;let eo=0;xo.forEach((ur,Ir)=>{const ao=p+eo++;Yr.set(Ir,ao),ur.forEach(kr=>Go(kr,ao))});const yr=[],Co=new Set,Or=new Set;for(let ur=0;ur<this.collectedLeaveElements.length;ur++){const Ir=this.collectedLeaveElements[ur],ao=Ir[as];ao&&ao.setForRemoval&&(yr.push(Ir),Co.add(Ir),ao.hasAnimation?this.driver.query(Ir,".ng-star-inserted",!0).forEach(kr=>Co.add(kr)):Or.add(Ir))}const ro=new Map,To=Pl(uo,Array.from(Co));To.forEach((ur,Ir)=>{const ao=w+eo++;ro.set(Ir,ao),ur.forEach(kr=>Go(kr,ao))}),It.push(()=>{xo.forEach((ur,Ir)=>{const ao=Yr.get(Ir);ur.forEach(kr=>ns(kr,ao))}),To.forEach((ur,Ir)=>{const ao=ro.get(Ir);ur.forEach(kr=>ns(kr,ao))}),yr.forEach(ur=>{this.processLeaveNode(ur)})});const Hs=[],ws=[];for(let ur=this._namespaceList.length-1;ur>=0;ur--)this._namespaceList[ur].drainQueuedTransitions(Lt).forEach(ao=>{const kr=ao.player,Lo=ao.element;if(Hs.push(kr),this.collectedEnterElements.length){const ra=Lo[as];if(ra&&ra.setForMove)return void kr.destroy()}const na=!Mr||!this.driver.containsElement(Mr,Lo),Ns=ro.get(Lo),ma=Yr.get(Lo),Mo=this._buildInstruction(ao,ae,ma,Ns,na);if(Mo.errors&&Mo.errors.length)ws.push(Mo);else{if(na)return kr.onStart(()=>Nt(Lo,Mo.fromStyles)),kr.onDestroy(()=>Gt(Lo,Mo.toStyles)),void Ue.push(kr);if(ao.isFallbackTransition)return kr.onStart(()=>Nt(Lo,Mo.fromStyles)),kr.onDestroy(()=>Gt(Lo,Mo.toStyles)),void Ue.push(kr);Mo.timelines.forEach(ra=>ra.stretchStartingKeyframe=!0),ae.append(Lo,Mo.timelines),Vi.push({instruction:Mo,player:kr,element:Lo}),Mo.queriedElements.forEach(ra=>F(Hi,ra,[]).push(kr)),Mo.preStyleProps.forEach((ra,oa)=>{const sa=Object.keys(ra);if(sa.length){let Ua=cn.get(oa);Ua||cn.set(oa,Ua=new Set),sa.forEach(Ru=>Ua.add(Ru))}}),Mo.postStyleProps.forEach((ra,oa)=>{const sa=Object.keys(ra);let Ua=Fn.get(oa);Ua||Fn.set(oa,Ua=new Set),sa.forEach(Ru=>Ua.add(Ru))})}});if(ws.length){const ur=[];ws.forEach(Ir=>{ur.push(`@${Ir.triggerName} has failed due to:\n`),Ir.errors.forEach(ao=>ur.push(`- ${ao}\n`))}),Hs.forEach(Ir=>Ir.destroy()),this.reportError(ur)}const Gn=new Map,Es=new Map;Vi.forEach(ur=>{const Ir=ur.element;ae.has(Ir)&&(Es.set(Ir,Ir),this._beforeAnimationBuild(ur.player.namespaceId,ur.instruction,Gn))}),Ue.forEach(ur=>{const Ir=ur.element;this._getPreviousPlayers(Ir,!1,ur.namespaceId,ur.triggerName,null).forEach(kr=>{F(Gn,Ir,[]).push(kr),kr.destroy()})});const ps=yr.filter(ur=>Ph(ur,cn,Fn)),_s=new Map;us(_s,this.driver,Or,Fn,J.l3).forEach(ur=>{Ph(ur,cn,Fn)&&ps.push(ur)});const Ds=new Map;xo.forEach((ur,Ir)=>{us(Ds,this.driver,new Set(ur),cn,J.k1)}),ps.forEach(ur=>{const Ir=_s.get(ur),ao=Ds.get(ur);_s.set(ur,Er(Er({},Ir),ao))});const qn=[],hs=[],Po={};Vi.forEach(ur=>{const{element:Ir,player:ao,instruction:kr}=ur;if(ae.has(Ir)){if(cr.has(Ir))return ao.onDestroy(()=>Gt(Ir,kr.toStyles)),ao.disabled=!0,ao.overrideTotalTime(kr.totalTime),void Ue.push(ao);let Lo=Po;if(Es.size>1){let Ns=Ir;const ma=[];for(;Ns=Ns.parentNode;){const Mo=Es.get(Ns);if(Mo){Lo=Mo;break}ma.push(Ns)}ma.forEach(Mo=>Es.set(Mo,Lo))}const na=this._buildAnimation(ao.namespaceId,kr,Gn,li,Ds,_s);if(ao.setRealPlayer(na),Lo===Po)qn.push(ao);else{const Ns=this.playersByElement.get(Lo);Ns&&Ns.length&&(ao.parentPlayer=W(Ns)),Ue.push(ao)}}else Nt(Ir,kr.fromStyles),ao.onDestroy(()=>Gt(Ir,kr.toStyles)),hs.push(ao),cr.has(Ir)&&Ue.push(ao)}),hs.forEach(ur=>{const Ir=li.get(ur.element);if(Ir&&Ir.length){const ao=W(Ir);ur.setRealPlayer(ao)}}),Ue.forEach(ur=>{ur.parentPlayer?ur.syncPlayerEvents(ur.parentPlayer):ur.destroy()});for(let ur=0;ur<yr.length;ur++){const Ir=yr[ur],ao=Ir[as];if(ns(Ir,w),ao&&ao.hasAnimation)continue;let kr=[];if(Hi.size){let na=Hi.get(Ir);na&&na.length&&kr.push(...na);let Ns=this.driver.query(Ir,ft,!0);for(let ma=0;ma<Ns.length;ma++){let Mo=Hi.get(Ns[ma]);Mo&&Mo.length&&kr.push(...Mo)}}const Lo=kr.filter(na=>!na.destroyed);Lo.length?Ts(this,Ir,Lo):this.processLeaveNode(Ir)}return yr.length=0,qn.forEach(ur=>{this.players.push(ur),ur.onDone(()=>{ur.destroy();const Ir=this.players.indexOf(ur);this.players.splice(Ir,1)}),ur.play()}),qn}elementContainsData(It,Lt){let ae=!1;const Ue=Lt[as];return Ue&&Ue.setForRemoval&&(ae=!0),this.playersByElement.has(Lt)&&(ae=!0),this.playersByQueriedElement.has(Lt)&&(ae=!0),this.statesByElement.has(Lt)&&(ae=!0),this._fetchNamespace(It).elementContainsData(Lt)||ae}afterFlush(It){this._flushFns.push(It)}afterFlushAnimationsDone(It){this._whenQuietFns.push(It)}_getPreviousPlayers(It,Lt,ae,Ue,li){let Vi=[];if(Lt){const Hi=this.playersByQueriedElement.get(It);Hi&&(Vi=Hi)}else{const Hi=this.playersByElement.get(It);if(Hi){const cn=!li||li==Ho;Hi.forEach(Fn=>{Fn.queued||!cn&&Fn.triggerName!=Ue||Vi.push(Fn)})}}return(ae||Ue)&&(Vi=Vi.filter(Hi=>!(ae&&ae!=Hi.namespaceId||Ue&&Ue!=Hi.triggerName))),Vi}_beforeAnimationBuild(It,Lt,ae){const li=Lt.element,Vi=Lt.isRemovalTransition?void 0:It,Hi=Lt.isRemovalTransition?void 0:Lt.triggerName;for(const cn of Lt.timelines){const Fn=cn.element,cr=Fn!==li,Mr=F(ae,Fn,[]);this._getPreviousPlayers(Fn,cr,Vi,Hi,Lt.toState).forEach(xo=>{const Yr=xo.getRealPlayer();Yr.beforeDestroy&&Yr.beforeDestroy(),xo.destroy(),Mr.push(xo)})}Nt(li,Lt.fromStyles)}_buildAnimation(It,Lt,ae,Ue,li,Vi){const Hi=Lt.triggerName,cn=Lt.element,Fn=[],cr=new Set,Mr=new Set,uo=Lt.timelines.map(Yr=>{const eo=Yr.element;cr.add(eo);const yr=eo[as];if(yr&&yr.removedBeforeQueried)return new J.ZN(Yr.duration,Yr.delay);const Co=eo!==cn,Or=function(Fe){const It=[];return ko(Fe,It),It}((ae.get(eo)||ds).map(Gn=>Gn.getRealPlayer())).filter(Gn=>!!Gn.element&&Gn.element===eo),ro=li.get(eo),To=Vi.get(eo),Hs=G(0,this._normalizer,0,Yr.keyframes,ro,To),ws=this._buildPlayer(Yr,Hs,Or);if(Yr.subTimeline&&Ue&&Mr.add(eo),Co){const Gn=new zs(It,Hi,eo);Gn.setRealPlayer(ws),Fn.push(Gn)}return ws});Fn.forEach(Yr=>{F(this.playersByQueriedElement,Yr.element,[]).push(Yr),Yr.onDone(()=>function(Fe,It,Lt){let ae;if(Fe instanceof Map){if(ae=Fe.get(It),ae){if(ae.length){const Ue=ae.indexOf(Lt);ae.splice(Ue,1)}0==ae.length&&Fe.delete(It)}}else if(ae=Fe[It],ae){if(ae.length){const Ue=ae.indexOf(Lt);ae.splice(Ue,1)}0==ae.length&&delete Fe[It]}return ae}(this.playersByQueriedElement,Yr.element,Yr))}),cr.forEach(Yr=>Go(Yr,k));const xo=W(uo);return xo.onDestroy(()=>{cr.forEach(Yr=>ns(Yr,k)),Gt(cn,Lt.toStyles)}),Mr.forEach(Yr=>{F(Ue,Yr,[]).push(xo)}),xo}_buildPlayer(It,Lt,ae){return Lt.length>0?this.driver.animate(It.element,Lt,It.duration,It.delay,It.easing,ae):new J.ZN(It.duration,It.delay)}}class zs{constructor(It,Lt,ae){this.namespaceId=It,this.triggerName=Lt,this.element=ae,this._player=new J.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(It){this._containsRealPlayer||(this._player=It,Object.keys(this._queuedCallbacks).forEach(Lt=>{this._queuedCallbacks[Lt].forEach(ae=>rt(It,Lt,void 0,ae))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(It.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(It){this.totalTime=It}syncPlayerEvents(It){const Lt=this._player;Lt.triggerCallback&&It.onStart(()=>Lt.triggerCallback("start")),It.onDone(()=>this.finish()),It.onDestroy(()=>this.destroy())}_queueEvent(It,Lt){F(this._queuedCallbacks,It,[]).push(Lt)}onDone(It){this.queued&&this._queueEvent("done",It),this._player.onDone(It)}onStart(It){this.queued&&this._queueEvent("start",It),this._player.onStart(It)}onDestroy(It){this.queued&&this._queueEvent("destroy",It),this._player.onDestroy(It)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(It){this.queued||this._player.setPosition(It)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(It){const Lt=this._player;Lt.triggerCallback&&Lt.triggerCallback(It)}}function ks(Fe){return Fe&&1===Fe.nodeType}function Tl(Fe,It){const Lt=Fe.style.display;return Fe.style.display=null!=It?It:"none",Lt}function us(Fe,It,Lt,ae,Ue){const li=[];Lt.forEach(cn=>li.push(Tl(cn)));const Vi=[];ae.forEach((cn,Fn)=>{const cr={};cn.forEach(Mr=>{const uo=cr[Mr]=It.computeStyle(Fn,Mr,Ue);(!uo||0==uo.length)&&(Fn[as]=qo,Vi.push(Fn))}),Fe.set(Fn,cr)});let Hi=0;return Lt.forEach(cn=>Tl(cn,li[Hi++])),Vi}function Pl(Fe,It){const Lt=new Map;if(Fe.forEach(Hi=>Lt.set(Hi,[])),0==It.length)return Lt;const Ue=new Set(It),li=new Map;function Vi(Hi){if(!Hi)return 1;let cn=li.get(Hi);if(cn)return cn;const Fn=Hi.parentNode;return cn=Lt.has(Fn)?Fn:Ue.has(Fn)?1:Vi(Fn),li.set(Hi,cn),cn}return It.forEach(Hi=>{const cn=Vi(Hi);1!==cn&&Lt.get(cn).push(Hi)}),Lt}const ia="$$classes";function Go(Fe,It){if(Fe.classList)Fe.classList.add(It);else{let Lt=Fe[ia];Lt||(Lt=Fe[ia]={}),Lt[It]=!0}}function ns(Fe,It){if(Fe.classList)Fe.classList.remove(It);else{let Lt=Fe[ia];Lt&&delete Lt[It]}}function Ts(Fe,It,Lt){W(Lt).onDone(()=>Fe.processLeaveNode(It))}function ko(Fe,It){for(let Lt=0;Lt<Fe.length;Lt++){const ae=Fe[Lt];ae instanceof J.ZE?ko(ae.players,It):It.push(ae)}}function Ph(Fe,It,Lt){const ae=Lt.get(Fe);if(!ae)return!1;let Ue=It.get(Fe);return Ue?ae.forEach(li=>Ue.add(li)):It.set(Fe,ae),Lt.delete(Fe),!0}class Rs{constructor(It,Lt,ae){this.bodyNode=It,this._driver=Lt,this._normalizer=ae,this._triggerCache={},this.onRemovalComplete=(Ue,li)=>{},this._transitionEngine=new Oa(It,Lt,ae),this._timelineEngine=new Vr(It,Lt,ae),this._transitionEngine.onRemovalComplete=(Ue,li)=>this.onRemovalComplete(Ue,li)}registerTrigger(It,Lt,ae,Ue,li){const Vi=It+"-"+Ue;let Hi=this._triggerCache[Vi];if(!Hi){const cn=[],Fn=wi(this._driver,li,cn);if(cn.length)throw new Error(`The animation trigger "${Ue}" has failed to build due to the following errors:\n - ${cn.join("\n - ")}`);Hi=function(Fe,It,Lt){return new hn(Fe,It,Lt)}(Ue,Fn,this._normalizer),this._triggerCache[Vi]=Hi}this._transitionEngine.registerTrigger(Lt,Ue,Hi)}register(It,Lt){this._transitionEngine.register(It,Lt)}destroy(It,Lt){this._transitionEngine.destroy(It,Lt)}onInsert(It,Lt,ae,Ue){this._transitionEngine.insertNode(It,Lt,ae,Ue)}onRemove(It,Lt,ae,Ue){this._transitionEngine.removeNode(It,Lt,Ue||!1,ae)}disableAnimations(It,Lt){this._transitionEngine.markElementAsDisabled(It,Lt)}process(It,Lt,ae,Ue){if("@"==ae.charAt(0)){const[li,Vi]=et(ae);this._timelineEngine.command(li,Lt,Vi,Ue)}else this._transitionEngine.trigger(It,Lt,ae,Ue)}listen(It,Lt,ae,Ue,li){if("@"==ae.charAt(0)){const[Vi,Hi]=et(ae);return this._timelineEngine.listen(Vi,Lt,Hi,li)}return this._transitionEngine.listen(It,Lt,ae,Ue,li)}flush(It=-1){this._transitionEngine.flush(It)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Ou(Fe,It){let Lt=null,ae=null;return Array.isArray(It)&&It.length?(Lt=ql(It[0]),It.length>1&&(ae=ql(It[It.length-1]))):It&&(Lt=ql(It)),Lt||ae?new ja(Fe,Lt,ae):null}let ja=(()=>{class Fe{constructor(Lt,ae,Ue){this._element=Lt,this._startStyles=ae,this._endStyles=Ue,this._state=0;let li=Fe.initialStylesByElement.get(Lt);li||Fe.initialStylesByElement.set(Lt,li={}),this._initialStyles=li}start(){this._state<1&&(this._startStyles&&Gt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Gt(this._element,this._initialStyles),this._endStyles&&(Gt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Fe.initialStylesByElement.delete(this._element),this._startStyles&&(Nt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Nt(this._element,this._endStyles),this._endStyles=null),Gt(this._element,this._initialStyles),this._state=3)}}return Fe.initialStylesByElement=new WeakMap,Fe})();function ql(Fe){let It=null;const Lt=Object.keys(Fe);for(let ae=0;ae<Lt.length;ae++){const Ue=Lt[ae];or(Ue)&&(It=It||{},It[Ue]=Fe[Ue])}return It}function or(Fe){return"display"===Fe||"position"===Fe}const ti="animation",hr="animationend";class za{constructor(It,Lt,ae,Ue,li,Vi,Hi){this._element=It,this._name=Lt,this._duration=ae,this._delay=Ue,this._easing=li,this._fillMode=Vi,this._onDoneFn=Hi,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=cn=>this._handleCallback(cn)}apply(){(function(Fe,It){const Lt=be(Fe,"").trim();let ae=0;Lt.length&&(function(Fe,It){let Lt=0;for(let ae=0;ae<Fe.length;ae++)","===Fe.charAt(ae)&&Lt++;return Lt}(Lt)+1,It=`${Lt}, ${It}`),_i(Fe,"",It)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Yu(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){pa(this._element,this._name,"paused")}resume(){pa(this._element,this._name,"running")}setPosition(It){const Lt=gl(this._element,this._name);this._position=It*this._duration,_i(this._element,"Delay",`-${this._position}ms`,Lt)}getPosition(){return this._position}_handleCallback(It){const Lt=It._ngTestManualTimestamp||Date.now(),ae=1e3*parseFloat(It.elapsedTime.toFixed(3));It.animationName==this._name&&Math.max(Lt-this._startTime,0)>=this._delay&&ae>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Yu(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(Fe,It){const ae=be(Fe,"").split(","),Ue=fu(ae,It);Ue>=0&&(ae.splice(Ue,1),_i(Fe,"",ae.join(",")))}(this._element,this._name))}}function pa(Fe,It,Lt){_i(Fe,"PlayState",Lt,gl(Fe,It))}function gl(Fe,It){const Lt=be(Fe,"");return Lt.indexOf(",")>0?fu(Lt.split(","),It):fu([Lt],It)}function fu(Fe,It){for(let Lt=0;Lt<Fe.length;Lt++)if(Fe[Lt].indexOf(It)>=0)return Lt;return-1}function Yu(Fe,It,Lt){Lt?Fe.removeEventListener(hr,It):Fe.addEventListener(hr,It)}function _i(Fe,It,Lt,ae){const Ue=ti+It;if(null!=ae){const li=Fe.style[Ue];if(li.length){const Vi=li.split(",");Vi[ae]=Lt,Lt=Vi.join(",")}}Fe.style[Ue]=Lt}function be(Fe,It){return Fe.style[ti+It]||""}class hi{constructor(It,Lt,ae,Ue,li,Vi,Hi,cn){this.element=It,this.keyframes=Lt,this.animationName=ae,this._duration=Ue,this._delay=li,this._finalStyles=Hi,this._specialStyles=cn,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=Vi||"linear",this.totalTime=Ue+li,this._buildStyler()}onStart(It){this._onStartFns.push(It)}onDone(It){this._onDoneFns.push(It)}onDestroy(It){this._onDestroyFns.push(It)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(It=>It()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(It=>It()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(It=>It()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(It){this._styler.setPosition(It)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new za(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(It){const Lt="start"==It?this._onStartFns:this._onDoneFns;Lt.forEach(ae=>ae()),Lt.length=0}beforeDestroy(){this.init();const It={};if(this.hasStarted()){const Lt=this._state>=3;Object.keys(this._finalStyles).forEach(ae=>{"offset"!=ae&&(It[ae]=Lt?this._finalStyles[ae]:Ye(this.element,ae))})}this.currentSnapshot=It}}class qi extends J.ZN{constructor(It,Lt){super(),this.element=It,this._startingStyles={},this.__initialized=!1,this._styles=Tt(Lt)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(It=>{this._startingStyles[It]=this.element.style[It]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(It=>this.element.style.setProperty(It,this._styles[It])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(It=>{const Lt=this._startingStyles[It];Lt?this.element.style.setProperty(It,Lt):this.element.style.removeProperty(It)}),this._startingStyles=null,super.destroy())}}class Dn{constructor(){this._count=0}validateStyleProperty(It){return ot(It)}matchesElement(It,Lt){return wt(It,Lt)}containsElement(It,Lt){return xt(It,Lt)}query(It,Lt,ae){return Ot(It,Lt,ae)}computeStyle(It,Lt,ae){return window.getComputedStyle(It)[Lt]}buildKeyframeElement(It,Lt,ae){ae=ae.map(Hi=>Tt(Hi));let Ue=`@keyframes ${Lt} {\n`,li="";ae.forEach(Hi=>{li=" ";const cn=parseFloat(Hi.offset);Ue+=`${li}${100*cn}% {\n`,li+=" ",Object.keys(Hi).forEach(Fn=>{const cr=Hi[Fn];switch(Fn){case"offset":return;case"easing":return void(cr&&(Ue+=`${li}animation-timing-function: ${cr};\n`));default:return void(Ue+=`${li}${Fn}: ${cr};\n`)}}),Ue+=`${li}}\n`}),Ue+="}\n";const Vi=document.createElement("style");return Vi.textContent=Ue,Vi}animate(It,Lt,ae,Ue,li,Vi=[],Hi){const cn=Vi.filter(yr=>yr instanceof hi),Fn={};Ce(ae,Ue)&&cn.forEach(yr=>{let Co=yr.currentSnapshot;Object.keys(Co).forEach(Or=>Fn[Or]=Co[Or])});const cr=function(Fe){let It={};return Fe&&(Array.isArray(Fe)?Fe:[Fe]).forEach(ae=>{Object.keys(ae).forEach(Ue=>{"offset"==Ue||"easing"==Ue||(It[Ue]=ae[Ue])})}),It}(Lt=Bt(It,Lt,Fn));if(0==ae)return new qi(It,cr);const Mr="gen_css_kf_"+this._count++,uo=this.buildKeyframeElement(It,Mr,Lt);(function(Fe){var Lt;const It=null==(Lt=Fe.getRootNode)?void 0:Lt.call(Fe);return"undefined"!=typeof ShadowRoot&&It instanceof ShadowRoot?It:document.head})(It).appendChild(uo);const Yr=Ou(It,Lt),eo=new hi(It,Lt,Mr,ae,Ue,li,cr,Yr);return eo.onDestroy(()=>{var Fe;(Fe=uo).parentNode.removeChild(Fe)}),eo}}class Ve{constructor(It,Lt,ae,Ue){this.element=It,this.keyframes=Lt,this.options=ae,this._specialStyles=Ue,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=ae.duration,this._delay=ae.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(It=>It()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const It=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,It,this.options),this._finalKeyframe=It.length?It[It.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(It,Lt,ae){return It.animate(Lt,ae)}onStart(It){this._onStartFns.push(It)}onDone(It){this._onDoneFns.push(It)}onDestroy(It){this._onDestroyFns.push(It)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(It=>It()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(It=>It()),this._onDestroyFns=[])}setPosition(It){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=It*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const It={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(Lt=>{"offset"!=Lt&&(It[Lt]=this._finished?this._finalKeyframe[Lt]:Ye(this.element,Lt))}),this.currentSnapshot=It}triggerCallback(It){const Lt="start"==It?this._onStartFns:this._onDoneFns;Lt.forEach(ae=>ae()),Lt.length=0}}class vi{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(An().toString()),this._cssKeyframesDriver=new Dn}validateStyleProperty(It){return ot(It)}matchesElement(It,Lt){return wt(It,Lt)}containsElement(It,Lt){return xt(It,Lt)}query(It,Lt,ae){return Ot(It,Lt,ae)}computeStyle(It,Lt,ae){return window.getComputedStyle(It)[Lt]}overrideWebAnimationsSupport(It){this._isNativeImpl=It}animate(It,Lt,ae,Ue,li,Vi=[],Hi){if(!Hi&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(It,Lt,ae,Ue,li,Vi);const cr={duration:ae,delay:Ue,fill:0==Ue?"both":"forwards"};li&&(cr.easing=li);const Mr={},uo=Vi.filter(Yr=>Yr instanceof Ve);Ce(ae,Ue)&&uo.forEach(Yr=>{let eo=Yr.currentSnapshot;Object.keys(eo).forEach(yr=>Mr[yr]=eo[yr])});const xo=Ou(It,Lt=Bt(It,Lt=Lt.map(Yr=>Vt(Yr,!1)),Mr));return new Ve(It,Lt,cr,xo)}}function An(){return tt()&&Element.prototype.animate||{}}var On=ut(6019);let Cr=(()=>{class Fe extends J._j{constructor(Lt,ae){super(),this._nextAnimationId=0,this._renderer=Lt.createRenderer(ae.body,{id:"0",encapsulation:ct.ifc.None,styles:[],data:{animation:[]}})}build(Lt){const ae=this._nextAnimationId.toString();this._nextAnimationId++;const Ue=Array.isArray(Lt)?(0,J.vP)(Lt):Lt;return wn(this._renderer,null,ae,"register",[Ue]),new rn(ae,this._renderer)}}return Fe.\u0275fac=function(Lt){return new(Lt||Fe)(ct.LFG(ct.FYo),ct.LFG(On.K0))},Fe.\u0275prov=ct.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();class rn extends J.LC{constructor(It,Lt){super(),this._id=It,this._renderer=Lt}create(It,Lt){return new gn(this._id,It,Lt||{},this._renderer)}}class gn{constructor(It,Lt,ae,Ue){this.id=It,this.element=Lt,this._renderer=Ue,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",ae)}_listen(It,Lt){return this._renderer.listen(this.element,`@@${this.id}:${It}`,Lt)}_command(It,...Lt){return wn(this._renderer,this.element,this.id,It,Lt)}onDone(It){this._listen("done",It)}onStart(It){this._listen("start",It)}onDestroy(It){this._listen("destroy",It)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(It){this._command("setPosition",It)}getPosition(){var It,Lt;return null!=(Lt=null==(It=this._renderer.engine.players[+this.id])?void 0:It.getPosition())?Lt:0}}function wn(Fe,It,Lt,ae,Ue){return Fe.setProperty(It,`@@${Lt}:${ae}`,Ue)}const vr="@.disabled";let Qo=(()=>{class Fe{constructor(Lt,ae,Ue){this.delegate=Lt,this.engine=ae,this._zone=Ue,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),ae.onRemovalComplete=(li,Vi)=>{Vi&&Vi.parentNode(li)&&Vi.removeChild(li.parentNode,li)}}createRenderer(Lt,ae){const li=this.delegate.createRenderer(Lt,ae);if(!(Lt&&ae&&ae.data&&ae.data.animation)){let cr=this._rendererCache.get(li);return cr||(cr=new zn("",li,this.engine),this._rendererCache.set(li,cr)),cr}const Vi=ae.id,Hi=ae.id+"-"+this._currentId;this._currentId++,this.engine.register(Hi,Lt);const cn=cr=>{Array.isArray(cr)?cr.forEach(cn):this.engine.registerTrigger(Vi,Hi,Lt,cr.name,cr)};return ae.data.animation.forEach(cn),new Ls(this,Hi,li,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(Lt,ae,Ue){Lt>=0&&Lt<this._microtaskId?this._zone.run(()=>ae(Ue)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(li=>{const[Vi,Hi]=li;Vi(Hi)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([ae,Ue]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return Fe.\u0275fac=function(Lt){return new(Lt||Fe)(ct.LFG(ct.FYo),ct.LFG(Rs),ct.LFG(ct.R0b))},Fe.\u0275prov=ct.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();class zn{constructor(It,Lt,ae){this.namespaceId=It,this.delegate=Lt,this.engine=ae,this.destroyNode=this.delegate.destroyNode?Ue=>Lt.destroyNode(Ue):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(It,Lt){return this.delegate.createElement(It,Lt)}createComment(It){return this.delegate.createComment(It)}createText(It){return this.delegate.createText(It)}appendChild(It,Lt){this.delegate.appendChild(It,Lt),this.engine.onInsert(this.namespaceId,Lt,It,!1)}insertBefore(It,Lt,ae,Ue=!0){this.delegate.insertBefore(It,Lt,ae),this.engine.onInsert(this.namespaceId,Lt,It,Ue)}removeChild(It,Lt,ae){this.engine.onRemove(this.namespaceId,Lt,this.delegate,ae)}selectRootElement(It,Lt){return this.delegate.selectRootElement(It,Lt)}parentNode(It){return this.delegate.parentNode(It)}nextSibling(It){return this.delegate.nextSibling(It)}setAttribute(It,Lt,ae,Ue){this.delegate.setAttribute(It,Lt,ae,Ue)}removeAttribute(It,Lt,ae){this.delegate.removeAttribute(It,Lt,ae)}addClass(It,Lt){this.delegate.addClass(It,Lt)}removeClass(It,Lt){this.delegate.removeClass(It,Lt)}setStyle(It,Lt,ae,Ue){this.delegate.setStyle(It,Lt,ae,Ue)}removeStyle(It,Lt,ae){this.delegate.removeStyle(It,Lt,ae)}setProperty(It,Lt,ae){"@"==Lt.charAt(0)&&Lt==vr?this.disableAnimations(It,!!ae):this.delegate.setProperty(It,Lt,ae)}setValue(It,Lt){this.delegate.setValue(It,Lt)}listen(It,Lt,ae){return this.delegate.listen(It,Lt,ae)}disableAnimations(It,Lt){this.engine.disableAnimations(It,Lt)}}class Ls extends zn{constructor(It,Lt,ae,Ue){super(Lt,ae,Ue),this.factory=It,this.namespaceId=Lt}setProperty(It,Lt,ae){"@"==Lt.charAt(0)?"."==Lt.charAt(1)&&Lt==vr?this.disableAnimations(It,ae=void 0===ae||!!ae):this.engine.process(this.namespaceId,It,Lt.substr(1),ae):this.delegate.setProperty(It,Lt,ae)}listen(It,Lt,ae){if("@"==Lt.charAt(0)){const Ue=function(Fe){switch(Fe){case"body":return document.body;case"document":return document;case"window":return window;default:return Fe}}(It);let li=Lt.substr(1),Vi="";return"@"!=li.charAt(0)&&([li,Vi]=function(Fe){const It=Fe.indexOf(".");return[Fe.substring(0,It),Fe.substr(It+1)]}(li)),this.engine.listen(this.namespaceId,Ue,li,Vi,Hi=>{this.factory.scheduleListenerCallback(Hi._data||-1,ae,Hi)})}return this.delegate.listen(It,Lt,ae)}}let ka=(()=>{class Fe extends Rs{constructor(Lt,ae,Ue){super(Lt.body,ae,Ue)}ngOnDestroy(){this.flush()}}return Fe.\u0275fac=function(Lt){return new(Lt||Fe)(ct.LFG(On.K0),ct.LFG(A),ct.LFG(Kn))},Fe.\u0275prov=ct.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();const Yn=new ct.OlP("AnimationModuleType"),no=[{provide:J._j,useClass:Cr},{provide:Kn,useFactory:function(){return new Jn}},{provide:Rs,useClass:ka},{provide:ct.FYo,useFactory:function(Fe,It,Lt){return new Qo(Fe,It,Lt)},deps:[f.se,Rs,ct.R0b]}],Jr=[{provide:A,useFactory:function(){return"function"==typeof An()?new vi:new Dn}},{provide:Yn,useValue:"BrowserAnimations"},...no],Ss=[{provide:A,useClass:Et},{provide:Yn,useValue:"NoopAnimations"},...no];let Us=(()=>{class Fe{static withConfig(Lt){return{ngModule:Fe,providers:Lt.disableAnimations?Ss:Jr}}}return Fe.\u0275fac=function(Lt){return new(Lt||Fe)},Fe.\u0275mod=ct.oAB({type:Fe}),Fe.\u0275inj=ct.cJS({providers:Jr,imports:[f.b2]}),Fe})()},5427:(Ee,Q,ut)=>{"use strict";ut.d(Q,{b2:()=>qe,H7:()=>Pi,q6:()=>ei,se:()=>Vt});var ct=ut(6019),f=ut(3668);class J extends ct.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class tt extends J{static makeCurrent(){(0,ct.HT)(new tt)}onAndCancel(xi,Je,Ui){return xi.addEventListener(Je,Ui,!1),()=>{xi.removeEventListener(Je,Ui,!1)}}dispatchEvent(xi,Je){xi.dispatchEvent(Je)}remove(xi){xi.parentNode&&xi.parentNode.removeChild(xi)}createElement(xi,Je){return(Je=Je||this.getDefaultDocument()).createElement(xi)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(xi){return xi.nodeType===Node.ELEMENT_NODE}isShadowRoot(xi){return xi instanceof DocumentFragment}getGlobalEventTarget(xi,Je){return"window"===Je?window:"document"===Je?xi:"body"===Je?xi.body:null}getBaseHref(xi){const Je=(b=b||document.querySelector("base"),b?b.getAttribute("href"):null);return null==Je?null:function(Ni){G=G||document.createElement("a"),G.setAttribute("href",Ni);const xi=G.pathname;return"/"===xi.charAt(0)?xi:`/${xi}`}(Je)}resetBaseElement(){b=null}getUserAgent(){return window.navigator.userAgent}getCookie(xi){return(0,ct.Mx)(document.cookie,xi)}}let G,b=null;const Z=new f.OlP("TRANSITION_ID"),F=[{provide:f.ip1,useFactory:function(Ni,xi,Je){return()=>{Je.get(f.CZH).donePromise.then(()=>{const Ui=(0,ct.q)(),on=xi.querySelectorAll(`style[ng-transition="${Ni}"]`);for(let nr=0;nr<on.length;nr++)Ui.remove(on[nr])})}},deps:[Z,ct.K0,f.zs3],multi:!0}];class et{static init(){(0,f.VLi)(new et)}addToWindow(xi){f.dqk.getAngularTestability=(Ui,on=!0)=>{const nr=xi.findTestabilityInTree(Ui,on);if(null==nr)throw new Error("Could not find testability for element.");return nr},f.dqk.getAllAngularTestabilities=()=>xi.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>xi.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(Ui=>{const on=f.dqk.getAllAngularTestabilities();let nr=on.length,mr=!1;const Ar=function(hn){mr=mr||hn,nr--,0==nr&&Ui(mr)};on.forEach(function(hn){hn.whenStable(Ar)})})}findTestabilityInTree(xi,Je,Ui){if(null==Je)return null;const on=xi.getTestability(Je);return null!=on?on:Ui?(0,ct.q)().isShadowRoot(Je)?this.findTestabilityInTree(xi,Je.host,!0):this.findTestabilityInTree(xi,Je.parentElement,!0):null}}let B=(()=>{class Ni{build(){return new XMLHttpRequest}}return Ni.\u0275fac=function(Je){return new(Je||Ni)},Ni.\u0275prov=f.Yz7({token:Ni,factory:Ni.\u0275fac}),Ni})();const o=new f.OlP("EventManagerPlugins");let c=(()=>{class Ni{constructor(Je,Ui){this._zone=Ui,this._eventNameToPlugin=new Map,Je.forEach(on=>on.manager=this),this._plugins=Je.slice().reverse()}addEventListener(Je,Ui,on){return this._findPluginFor(Ui).addEventListener(Je,Ui,on)}addGlobalEventListener(Je,Ui,on){return this._findPluginFor(Ui).addGlobalEventListener(Je,Ui,on)}getZone(){return this._zone}_findPluginFor(Je){const Ui=this._eventNameToPlugin.get(Je);if(Ui)return Ui;const on=this._plugins;for(let nr=0;nr<on.length;nr++){const mr=on[nr];if(mr.supports(Je))return this._eventNameToPlugin.set(Je,mr),mr}throw new Error(`No event manager plugin found for event ${Je}`)}}return Ni.\u0275fac=function(Je){return new(Je||Ni)(f.LFG(o),f.LFG(f.R0b))},Ni.\u0275prov=f.Yz7({token:Ni,factory:Ni.\u0275fac}),Ni})();class g{constructor(xi){this._doc=xi}addGlobalEventListener(xi,Je,Ui){const on=(0,ct.q)().getGlobalEventTarget(this._doc,xi);if(!on)throw new Error(`Unsupported event target ${on} for event ${Je}`);return this.addEventListener(on,Je,Ui)}}let p=(()=>{class Ni{constructor(){this._stylesSet=new Set}addStyles(Je){const Ui=new Set;Je.forEach(on=>{this._stylesSet.has(on)||(this._stylesSet.add(on),Ui.add(on))}),this.onStylesAdded(Ui)}onStylesAdded(Je){}getAllStyles(){return Array.from(this._stylesSet)}}return Ni.\u0275fac=function(Je){return new(Je||Ni)},Ni.\u0275prov=f.Yz7({token:Ni,factory:Ni.\u0275fac}),Ni})(),w=(()=>{class Ni extends p{constructor(Je){super(),this._doc=Je,this._hostNodes=new Map,this._hostNodes.set(Je.head,[])}_addStylesToHost(Je,Ui,on){Je.forEach(nr=>{const mr=this._doc.createElement("style");mr.textContent=nr,on.push(Ui.appendChild(mr))})}addHost(Je){const Ui=[];this._addStylesToHost(this._stylesSet,Je,Ui),this._hostNodes.set(Je,Ui)}removeHost(Je){const Ui=this._hostNodes.get(Je);Ui&&Ui.forEach(S),this._hostNodes.delete(Je)}onStylesAdded(Je){this._hostNodes.forEach((Ui,on)=>{this._addStylesToHost(Je,on,Ui)})}ngOnDestroy(){this._hostNodes.forEach(Je=>Je.forEach(S))}}return Ni.\u0275fac=function(Je){return new(Je||Ni)(f.LFG(ct.K0))},Ni.\u0275prov=f.Yz7({token:Ni,factory:Ni.\u0275fac}),Ni})();function S(Ni){(0,ct.q)().remove(Ni)}const T={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},C=/%COMP%/g,k="%COMP%",ft=`_nghost-${k}`,at=`_ngcontent-${k}`;function St(Ni,xi,Je){for(let Ui=0;Ui<xi.length;Ui++){let on=xi[Ui];Array.isArray(on)?St(Ni,on,Je):(on=on.replace(C,Ni),Je.push(on))}return Je}function Xt(Ni){return xi=>{if("__ngUnwrap__"===xi)return Ni;!1===Ni(xi)&&(xi.preventDefault(),xi.returnValue=!1)}}let Vt=(()=>{class Ni{constructor(Je,Ui,on){this.eventManager=Je,this.sharedStylesHost=Ui,this.appId=on,this.rendererByCompId=new Map,this.defaultRenderer=new Dt(Je)}createRenderer(Je,Ui){if(!Je||!Ui)return this.defaultRenderer;switch(Ui.encapsulation){case f.ifc.Emulated:{let on=this.rendererByCompId.get(Ui.id);return on||(on=new Nt(this.eventManager,this.sharedStylesHost,Ui,this.appId),this.rendererByCompId.set(Ui.id,on)),on.applyToHost(Je),on}case 1:case f.ifc.ShadowDom:return new Kt(this.eventManager,this.sharedStylesHost,Je,Ui);default:if(!this.rendererByCompId.has(Ui.id)){const on=St(Ui.id,Ui.styles,[]);this.sharedStylesHost.addStyles(on),this.rendererByCompId.set(Ui.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ni.\u0275fac=function(Je){return new(Je||Ni)(f.LFG(c),f.LFG(w),f.LFG(f.AFp))},Ni.\u0275prov=f.Yz7({token:Ni,factory:Ni.\u0275fac}),Ni})();class Dt{constructor(xi){this.eventManager=xi,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(xi,Je){return Je?document.createElementNS(T[Je]||Je,xi):document.createElement(xi)}createComment(xi){return document.createComment(xi)}createText(xi){return document.createTextNode(xi)}appendChild(xi,Je){xi.appendChild(Je)}insertBefore(xi,Je,Ui){xi&&xi.insertBefore(Je,Ui)}removeChild(xi,Je){xi&&xi.removeChild(Je)}selectRootElement(xi,Je){let Ui="string"==typeof xi?document.querySelector(xi):xi;if(!Ui)throw new Error(`The selector "${xi}" did not match any elements`);return Je||(Ui.textContent=""),Ui}parentNode(xi){return xi.parentNode}nextSibling(xi){return xi.nextSibling}setAttribute(xi,Je,Ui,on){if(on){Je=on+":"+Je;const nr=T[on];nr?xi.setAttributeNS(nr,Je,Ui):xi.setAttribute(Je,Ui)}else xi.setAttribute(Je,Ui)}removeAttribute(xi,Je,Ui){if(Ui){const on=T[Ui];on?xi.removeAttributeNS(on,Je):xi.removeAttribute(`${Ui}:${Je}`)}else xi.removeAttribute(Je)}addClass(xi,Je){xi.classList.add(Je)}removeClass(xi,Je){xi.classList.remove(Je)}setStyle(xi,Je,Ui,on){on&(f.JOm.DashCase|f.JOm.Important)?xi.style.setProperty(Je,Ui,on&f.JOm.Important?"important":""):xi.style[Je]=Ui}removeStyle(xi,Je,Ui){Ui&f.JOm.DashCase?xi.style.removeProperty(Je):xi.style[Je]=""}setProperty(xi,Je,Ui){xi[Je]=Ui}setValue(xi,Je){xi.nodeValue=Je}listen(xi,Je,Ui){return"string"==typeof xi?this.eventManager.addGlobalEventListener(xi,Je,Xt(Ui)):this.eventManager.addEventListener(xi,Je,Xt(Ui))}}class Nt extends Dt{constructor(xi,Je,Ui,on){super(xi),this.component=Ui;const nr=St(on+"-"+Ui.id,Ui.styles,[]);Je.addStyles(nr),this.contentAttr=at.replace(C,on+"-"+Ui.id),this.hostAttr=ft.replace(C,on+"-"+Ui.id)}applyToHost(xi){super.setAttribute(xi,this.hostAttr,"")}createElement(xi,Je){const Ui=super.createElement(xi,Je);return super.setAttribute(Ui,this.contentAttr,""),Ui}}class Kt extends Dt{constructor(xi,Je,Ui,on){super(xi),this.sharedStylesHost=Je,this.hostEl=Ui,this.shadowRoot=Ui.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const nr=St(on.id,on.styles,[]);for(let mr=0;mr<nr.length;mr++){const Ar=document.createElement("style");Ar.textContent=nr[mr],this.shadowRoot.appendChild(Ar)}}nodeOrShadowRoot(xi){return xi===this.hostEl?this.shadowRoot:xi}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(xi,Je){return super.appendChild(this.nodeOrShadowRoot(xi),Je)}insertBefore(xi,Je,Ui){return super.insertBefore(this.nodeOrShadowRoot(xi),Je,Ui)}removeChild(xi,Je){return super.removeChild(this.nodeOrShadowRoot(xi),Je)}parentNode(xi){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(xi)))}}let fe=(()=>{class Ni extends g{constructor(Je){super(Je)}supports(Je){return!0}addEventListener(Je,Ui,on){return Je.addEventListener(Ui,on,!1),()=>this.removeEventListener(Je,Ui,on)}removeEventListener(Je,Ui,on){return Je.removeEventListener(Ui,on)}}return Ni.\u0275fac=function(Je){return new(Je||Ni)(f.LFG(ct.K0))},Ni.\u0275prov=f.Yz7({token:Ni,factory:Ni.\u0275fac}),Ni})();const re=["alt","control","meta","shift"],jt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ht={alt:Ni=>Ni.altKey,control:Ni=>Ni.ctrlKey,meta:Ni=>Ni.metaKey,shift:Ni=>Ni.shiftKey};let ce=(()=>{class Ni extends g{constructor(Je){super(Je)}supports(Je){return null!=Ni.parseEventName(Je)}addEventListener(Je,Ui,on){const nr=Ni.parseEventName(Ui),mr=Ni.eventCallback(nr.fullKey,on,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ct.q)().onAndCancel(Je,nr.domEventName,mr))}static parseEventName(Je){const Ui=Je.toLowerCase().split("."),on=Ui.shift();if(0===Ui.length||"keydown"!==on&&"keyup"!==on)return null;const nr=Ni._normalizeKey(Ui.pop());let mr="";if(re.forEach(hn=>{const xr=Ui.indexOf(hn);xr>-1&&(Ui.splice(xr,1),mr+=hn+".")}),mr+=nr,0!=Ui.length||0===nr.length)return null;const Ar={};return Ar.domEventName=on,Ar.fullKey=mr,Ar}static getEventFullKey(Je){let Ui="",on=function(Ni){let xi=Ni.key;if(null==xi){if(xi=Ni.keyIdentifier,null==xi)return"Unidentified";xi.startsWith("U+")&&(xi=String.fromCharCode(parseInt(xi.substring(2),16)),3===Ni.location&&yt.hasOwnProperty(xi)&&(xi=yt[xi]))}return jt[xi]||xi}(Je);return on=on.toLowerCase()," "===on?on="space":"."===on&&(on="dot"),re.forEach(nr=>{nr!=on&&ht[nr](Je)&&(Ui+=nr+".")}),Ui+=on,Ui}static eventCallback(Je,Ui,on){return nr=>{Ni.getEventFullKey(nr)===Je&&on.runGuarded(()=>Ui(nr))}}static _normalizeKey(Je){return"esc"===Je?"escape":Je}}return Ni.\u0275fac=function(Je){return new(Je||Ni)(f.LFG(ct.K0))},Ni.\u0275prov=f.Yz7({token:Ni,factory:Ni.\u0275fac}),Ni})(),Pi=(()=>{class Ni{}return Ni.\u0275fac=function(Je){return new(Je||Ni)},Ni.\u0275prov=f.Yz7({token:Ni,factory:function(Je){let Ui=null;return Ui=Je?new(Je||Ni):f.LFG(si),Ui},providedIn:"root"}),Ni})(),si=(()=>{class Ni extends Pi{constructor(Je){super(),this._doc=Je}sanitize(Je,Ui){if(null==Ui)return null;switch(Je){case f.q3G.NONE:return Ui;case f.q3G.HTML:return(0,f.qzn)(Ui,"HTML")?(0,f.z3N)(Ui):(0,f.EiD)(this._doc,String(Ui)).toString();case f.q3G.STYLE:return(0,f.qzn)(Ui,"Style")?(0,f.z3N)(Ui):Ui;case f.q3G.SCRIPT:if((0,f.qzn)(Ui,"Script"))return(0,f.z3N)(Ui);throw new Error("unsafe value used in a script context");case f.q3G.URL:return(0,f.yhl)(Ui),(0,f.qzn)(Ui,"URL")?(0,f.z3N)(Ui):(0,f.mCW)(String(Ui));case f.q3G.RESOURCE_URL:if((0,f.qzn)(Ui,"ResourceURL"))return(0,f.z3N)(Ui);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${Je} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(Je){return(0,f.JVY)(Je)}bypassSecurityTrustStyle(Je){return(0,f.L6k)(Je)}bypassSecurityTrustScript(Je){return(0,f.eBb)(Je)}bypassSecurityTrustUrl(Je){return(0,f.LAX)(Je)}bypassSecurityTrustResourceUrl(Je){return(0,f.pB0)(Je)}}return Ni.\u0275fac=function(Je){return new(Je||Ni)(f.LFG(ct.K0))},Ni.\u0275prov=f.Yz7({token:Ni,factory:function(Je){let Ui=null;return Ui=Je?new Je:function(Ni){return new si(Ni.get(ct.K0))}(f.LFG(f.zs3)),Ui},providedIn:"root"}),Ni})();const ei=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:ct.bD},{provide:f.g9A,useValue:function(){tt.makeCurrent(),et.init()},multi:!0},{provide:ct.K0,useFactory:function(){return(0,f.RDi)(document),document},deps:[]}]),De=[[],{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function(){return new f.qLn},deps:[]},{provide:o,useClass:fe,multi:!0,deps:[ct.K0,f.R0b,f.Lbi]},{provide:o,useClass:ce,multi:!0,deps:[ct.K0]},[],{provide:Vt,useClass:Vt,deps:[c,w,f.AFp]},{provide:f.FYo,useExisting:Vt},{provide:p,useExisting:w},{provide:w,useClass:w,deps:[ct.K0]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b]},{provide:c,useClass:c,deps:[o,f.R0b]},{provide:ct.JF,useClass:B,deps:[]},[]];let qe=(()=>{class Ni{constructor(Je){if(Je)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(Je){return{ngModule:Ni,providers:[{provide:f.AFp,useValue:Je.appId},{provide:Z,useExisting:f.AFp},F]}}}return Ni.\u0275fac=function(Je){return new(Je||Ni)(f.LFG(Ni,12))},Ni.\u0275mod=f.oAB({type:Ni}),Ni.\u0275inj=f.cJS({providers:De,imports:[ct.ez,f.hGG]}),Ni})();"undefined"!=typeof window&&window},1553:(Ee,Q,ut)=>{"use strict";ut.d(Q,{gz:()=>Vr,F0:()=>kr,Bz:()=>Id,lC:()=>gl});var ct=ut(6019),f=ut(3668),J=ut(2047),tt=ut(7908),b=ut(9947),W=ut(8889);function G(){return(0,b.e)((oe,Yt)=>{let Ft=null;oe._refCount++;const ye=new W.Q(Yt,void 0,void 0,void 0,()=>{if(!oe||oe._refCount<=0||0<--oe._refCount)return void(Ft=null);const Me=oe._connection,Xe=Ft;Ft=null,Me&&(!Xe||Me===Xe)&&Me.unsubscribe(),Yt.unsubscribe()});oe.subscribe(ye),ye.closed||(Ft=oe.connect())})}class rt extends J.y{constructor(Yt,Ft){super(),this.source=Yt,this.subjectFactory=Ft,this._subject=null,this._refCount=0,this._connection=null,(0,b.A)(Yt)&&(this.lift=Yt.lift)}_subscribe(Yt){return this.getSubject().subscribe(Yt)}getSubject(){const Yt=this._subject;return(!Yt||Yt.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:Yt}=this;this._subject=this._connection=null,null==Yt||Yt.unsubscribe()}connect(){let Yt=this._connection;if(!Yt){Yt=this._connection=new tt.w0;const Ft=this.getSubject();Yt.add(this.source.subscribe(new W.Q(Ft,void 0,()=>{this._teardown(),Ft.complete()},ye=>{this._teardown(),Ft.error(ye)},()=>this._teardown()))),Yt.closed&&(this._connection=null,Yt=tt.w0.EMPTY)}return Yt}refCount(){return G()(this)}}var Z=ut(7867),H=ut(2997),F=ut(4499),et=ut(5804),B=ut(5907),X=ut(1404),z=ut(5048),Y=ut(5583),q=ut(273);function U(oe,Yt,Ft,ye,Me){return(Xe,Di)=>{let Mi=Ft,In=Yt,Nr=0;Xe.subscribe(new W.Q(Di,ts=>{const Xr=Nr++;In=Mi?oe(In,ts,Xr):(Mi=!0,ts),ye&&Di.next(In)},Me&&(()=>{Mi&&Di.next(In),Di.complete()})))}}function it(oe,Yt){return(0,b.e)(U(oe,Yt,arguments.length>=2,!0))}var ot=ut(461);function lt(oe){return oe<=0?()=>Y.E:(0,b.e)((Yt,Ft)=>{let ye=[];Yt.subscribe(new W.Q(Ft,Me=>{ye.push(Me),oe<ye.length&&ye.shift()},()=>{for(const Me of ye)Ft.next(Me);Ft.complete()},void 0,()=>{ye=null}))})}var wt=ut(4724),xt=ut(8975),Ot=ut(4623),Et=ut(4753),A=ut(3067),o=ut(9468),c=ut(3970),g=ut(2835),p=ut(4799),w=ut(6047),S=ut(5724),T=ut(7384),C=ut(423),h=ut(5373);class k{constructor(Yt,Ft){this.id=Yt,this.url=Ft}}class ft extends k{constructor(Yt,Ft,ye="imperative",Me=null){super(Yt,Ft),this.navigationTrigger=ye,this.restoredState=Me}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class at extends k{constructor(Yt,Ft,ye){super(Yt,Ft),this.urlAfterRedirects=ye}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class st extends k{constructor(Yt,Ft,ye){super(Yt,Ft),this.reason=ye}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Mt extends k{constructor(Yt,Ft,ye){super(Yt,Ft),this.error=ye}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class St extends k{constructor(Yt,Ft,ye,Me){super(Yt,Ft),this.urlAfterRedirects=ye,this.state=Me}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xt extends k{constructor(Yt,Ft,ye,Me){super(Yt,Ft),this.urlAfterRedirects=ye,this.state=Me}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class te extends k{constructor(Yt,Ft,ye,Me,Xe){super(Yt,Ft),this.urlAfterRedirects=ye,this.state=Me,this.shouldActivate=Xe}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vt extends k{constructor(Yt,Ft,ye,Me){super(Yt,Ft),this.urlAfterRedirects=ye,this.state=Me}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dt extends k{constructor(Yt,Ft,ye,Me){super(Yt,Ft),this.urlAfterRedirects=ye,this.state=Me}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ve{constructor(Yt){this.route=Yt}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gt{constructor(Yt){this.route=Yt}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Nt{constructor(Yt){this.snapshot=Yt}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kt{constructor(Yt){this.snapshot=Yt}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fe{constructor(Yt){this.snapshot=Yt}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zt{constructor(Yt){this.snapshot=Yt}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ne{constructor(Yt,Ft,ye){this.routerEvent=Yt,this.position=Ft,this.anchor=ye}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Pt="primary";class Se{constructor(Yt){this.params=Yt||{}}has(Yt){return Object.prototype.hasOwnProperty.call(this.params,Yt)}get(Yt){if(this.has(Yt)){const Ft=this.params[Yt];return Array.isArray(Ft)?Ft[0]:Ft}return null}getAll(Yt){if(this.has(Yt)){const Ft=this.params[Yt];return Array.isArray(Ft)?Ft:[Ft]}return[]}get keys(){return Object.keys(this.params)}}function Fi(oe){return new Se(oe)}const Ge="ngNavigationCancelingError";function _e(oe){const Yt=Error("NavigationCancelingError: "+oe);return Yt[Ge]=!0,Yt}function Bt(oe,Yt,Ft){const ye=Ft.path.split("/");if(ye.length>oe.length||"full"===Ft.pathMatch&&(Yt.hasChildren()||ye.length<oe.length))return null;const Me={};for(let Xe=0;Xe<ye.length;Xe++){const Di=ye[Xe],Mi=oe[Xe];if(Di.startsWith(":"))Me[Di.substring(1)]=Mi;else if(Di!==Mi.path)return null}return{consumed:oe.slice(0,ye.length),posParams:Me}}function Ye(oe,Yt){const Ft=oe?Object.keys(oe):void 0,ye=Yt?Object.keys(Yt):void 0;if(!Ft||!ye||Ft.length!=ye.length)return!1;let Me;for(let Xe=0;Xe<Ft.length;Xe++)if(Me=Ft[Xe],!jt(oe[Me],Yt[Me]))return!1;return!0}function jt(oe,Yt){if(Array.isArray(oe)&&Array.isArray(Yt)){if(oe.length!==Yt.length)return!1;const Ft=[...oe].sort(),ye=[...Yt].sort();return Ft.every((Me,Xe)=>ye[Xe]===Me)}return oe===Yt}function yt(oe){return Array.prototype.concat.apply([],oe)}function ht(oe){return oe.length>0?oe[oe.length-1]:null}function ke(oe,Yt){for(const Ft in oe)oe.hasOwnProperty(Ft)&&Yt(oe[Ft],Ft)}function Pi(oe){return(0,f.CqO)(oe)?oe:(0,f.QGY)(oe)?(0,Z.D)(Promise.resolve(oe)):(0,H.of)(oe)}const si={exact:function ci(oe,Yt,Ft){if(!Qt(oe.segments,Yt.segments)||!ei(oe.segments,Yt.segments,Ft)||oe.numberOfChildren!==Yt.numberOfChildren)return!1;for(const ye in Yt.children)if(!oe.children[ye]||!ci(oe.children[ye],Yt.children[ye],Ft))return!1;return!0},subset:oi},bn={exact:function(oe,Yt){return Ye(oe,Yt)},subset:function(oe,Yt){return Object.keys(Yt).length<=Object.keys(oe).length&&Object.keys(Yt).every(Ft=>jt(oe[Ft],Yt[Ft]))},ignored:()=>!0};function wi(oe,Yt,Ft){return si[Ft.paths](oe.root,Yt.root,Ft.matrixParams)&&bn[Ft.queryParams](oe.queryParams,Yt.queryParams)&&!("exact"===Ft.fragment&&oe.fragment!==Yt.fragment)}function oi(oe,Yt,Ft){return Vn(oe,Yt,Yt.segments,Ft)}function Vn(oe,Yt,Ft,ye){if(oe.segments.length>Ft.length){const Me=oe.segments.slice(0,Ft.length);return!(!Qt(Me,Ft)||Yt.hasChildren()||!ei(Me,Ft,ye))}if(oe.segments.length===Ft.length){if(!Qt(oe.segments,Ft)||!ei(oe.segments,Ft,ye))return!1;for(const Me in Yt.children)if(!oe.children[Me]||!oi(oe.children[Me],Yt.children[Me],ye))return!1;return!0}{const Me=Ft.slice(0,oe.segments.length),Xe=Ft.slice(oe.segments.length);return!!(Qt(oe.segments,Me)&&ei(oe.segments,Me,ye)&&oe.children[Pt])&&Vn(oe.children[Pt],Yt,Xe,ye)}}function ei(oe,Yt,Ft){return Yt.every((ye,Me)=>bn[Ft](oe[Me].parameters,ye.parameters))}class De{constructor(Yt,Ft,ye){this.root=Yt,this.queryParams=Ft,this.fragment=ye}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fi(this.queryParams)),this._queryParamMap}toString(){return ue.serialize(this)}}class qe{constructor(Yt,Ft){this.segments=Yt,this.children=Ft,this.parent=null,ke(Ft,(ye,Me)=>ye.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Re(this)}}class ni{constructor(Yt,Ft){this.path=Yt,this.parameters=Ft}get parameterMap(){return this._parameterMap||(this._parameterMap=Fi(this.parameters)),this._parameterMap}toString(){return bi(this)}}function Qt(oe,Yt){return oe.length===Yt.length&&oe.every((Ft,ye)=>Ft.path===Yt[ye].path)}class Ut{}class xe{parse(Yt){const Ft=new Ui(Yt);return new De(Ft.parseRootSegment(),Ft.parseQueryParams(),Ft.parseFragment())}serialize(Yt){const Ft=`/${pi(Yt.root,!0)}`,ye=function(oe){const Yt=Object.keys(oe).map(Ft=>{const ye=oe[Ft];return Array.isArray(ye)?ye.map(Me=>`${$e(Ft)}=${$e(Me)}`).join("&"):`${$e(Ft)}=${$e(ye)}`}).filter(Ft=>!!Ft);return Yt.length?`?${Yt.join("&")}`:""}(Yt.queryParams);var oe;return`${Ft}${ye}${"string"==typeof Yt.fragment?`#${oe=Yt.fragment,encodeURI(oe)}`:""}`}}const ue=new xe;function Re(oe){return oe.segments.map(Yt=>bi(Yt)).join("/")}function pi(oe,Yt){if(!oe.hasChildren())return Re(oe);if(Yt){const Ft=oe.children[Pt]?pi(oe.children[Pt],!1):"",ye=[];return ke(oe.children,(Me,Xe)=>{Xe!==Pt&&ye.push(`${Xe}:${pi(Me,!1)}`)}),ye.length>0?`${Ft}(${ye.join("//")})`:Ft}{const Ft=function(oe,Yt){let Ft=[];return ke(oe.children,(ye,Me)=>{Me===Pt&&(Ft=Ft.concat(Yt(ye,Me)))}),ke(oe.children,(ye,Me)=>{Me!==Pt&&(Ft=Ft.concat(Yt(ye,Me)))}),Ft}(oe,(ye,Me)=>Me===Pt?[pi(oe.children[Pt],!1)]:[`${Me}:${pi(ye,!1)}`]);return 1===Object.keys(oe.children).length&&null!=oe.children[Pt]?`${Re(oe)}/${Ft[0]}`:`${Re(oe)}/(${Ft.join("//")})`}}function he(oe){return encodeURIComponent(oe).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $e(oe){return he(oe).replace(/%3B/gi,";")}function Ei(oe){return he(oe).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zi(oe){return decodeURIComponent(oe)}function ir(oe){return zi(oe.replace(/\+/g,"%20"))}function bi(oe){return`${Ei(oe.path)}${function(oe){return Object.keys(oe).map(Yt=>`;${Ei(Yt)}=${Ei(oe[Yt])}`).join("")}(oe.parameters)}`}const Kn=/^[^\/()?;=#]+/;function pr(oe){const Yt=oe.match(Kn);return Yt?Yt[0]:""}const Jn=/^[^=?&#]+/,xi=/^[^&#]+/;class Ui{constructor(Yt){this.url=Yt,this.remaining=Yt}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qe([],{}):new qe([],this.parseChildren())}parseQueryParams(){const Yt={};if(this.consumeOptional("?"))do{this.parseQueryParam(Yt)}while(this.consumeOptional("&"));return Yt}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Yt=[];for(this.peekStartsWith("(")||Yt.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Yt.push(this.parseSegment());let Ft={};this.peekStartsWith("/(")&&(this.capture("/"),Ft=this.parseParens(!0));let ye={};return this.peekStartsWith("(")&&(ye=this.parseParens(!1)),(Yt.length>0||Object.keys(Ft).length>0)&&(ye[Pt]=new qe(Yt,Ft)),ye}parseSegment(){const Yt=pr(this.remaining);if(""===Yt&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(Yt),new ni(zi(Yt),this.parseMatrixParams())}parseMatrixParams(){const Yt={};for(;this.consumeOptional(";");)this.parseParam(Yt);return Yt}parseParam(Yt){const Ft=pr(this.remaining);if(!Ft)return;this.capture(Ft);let ye="";if(this.consumeOptional("=")){const Me=pr(this.remaining);Me&&(ye=Me,this.capture(ye))}Yt[zi(Ft)]=zi(ye)}parseQueryParam(Yt){const Ft=function(oe){const Yt=oe.match(Jn);return Yt?Yt[0]:""}(this.remaining);if(!Ft)return;this.capture(Ft);let ye="";if(this.consumeOptional("=")){const Di=function(oe){const Yt=oe.match(xi);return Yt?Yt[0]:""}(this.remaining);Di&&(ye=Di,this.capture(ye))}const Me=ir(Ft),Xe=ir(ye);if(Yt.hasOwnProperty(Me)){let Di=Yt[Me];Array.isArray(Di)||(Di=[Di],Yt[Me]=Di),Di.push(Xe)}else Yt[Me]=Xe}parseParens(Yt){const Ft={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const ye=pr(this.remaining),Me=this.remaining[ye.length];if("/"!==Me&&")"!==Me&&";"!==Me)throw new Error(`Cannot parse url '${this.url}'`);let Xe;ye.indexOf(":")>-1?(Xe=ye.substr(0,ye.indexOf(":")),this.capture(Xe),this.capture(":")):Yt&&(Xe=Pt);const Di=this.parseChildren();Ft[Xe]=1===Object.keys(Di).length?Di[Pt]:new qe([],Di),this.consumeOptional("//")}return Ft}peekStartsWith(Yt){return this.remaining.startsWith(Yt)}consumeOptional(Yt){return!!this.peekStartsWith(Yt)&&(this.remaining=this.remaining.substring(Yt.length),!0)}capture(Yt){if(!this.consumeOptional(Yt))throw new Error(`Expected "${Yt}".`)}}class on{constructor(Yt){this._root=Yt}get root(){return this._root.value}parent(Yt){const Ft=this.pathFromRoot(Yt);return Ft.length>1?Ft[Ft.length-2]:null}children(Yt){const Ft=nr(Yt,this._root);return Ft?Ft.children.map(ye=>ye.value):[]}firstChild(Yt){const Ft=nr(Yt,this._root);return Ft&&Ft.children.length>0?Ft.children[0].value:null}siblings(Yt){const Ft=mr(Yt,this._root);return Ft.length<2?[]:Ft[Ft.length-2].children.map(Me=>Me.value).filter(Me=>Me!==Yt)}pathFromRoot(Yt){return mr(Yt,this._root).map(Ft=>Ft.value)}}function nr(oe,Yt){if(oe===Yt.value)return Yt;for(const Ft of Yt.children){const ye=nr(oe,Ft);if(ye)return ye}return null}function mr(oe,Yt){if(oe===Yt.value)return[Yt];for(const Ft of Yt.children){const ye=mr(oe,Ft);if(ye.length)return ye.unshift(Yt),ye}return[]}class Ar{constructor(Yt,Ft){this.value=Yt,this.children=Ft}toString(){return`TreeNode(${this.value})`}}function hn(oe){const Yt={};return oe&&oe.children.forEach(Ft=>Yt[Ft.value.outlet]=Ft),Yt}class xr extends on{constructor(Yt,Ft){super(Yt),this.snapshot=Ft,js(this,Yt)}toString(){return this.snapshot.toString()}}function Hr(oe,Yt){const Ft=function(oe,Yt){const Di=new Vs([],{},{},"",{},Pt,Yt,null,oe.root,-1,{});return new qs("",new Ar(Di,[]))}(oe,Yt),ye=new F.X([new ni("",{})]),Me=new F.X({}),Xe=new F.X({}),Di=new F.X({}),Mi=new F.X(""),In=new Vr(ye,Me,Di,Mi,Xe,Pt,Yt,Ft.root);return In.snapshot=Ft.root,new xr(new Ar(In,[]),Ft)}class Vr{constructor(Yt,Ft,ye,Me,Xe,Di,Mi,In){this.url=Yt,this.params=Ft,this.queryParams=ye,this.fragment=Me,this.data=Xe,this.outlet=Di,this.component=Mi,this._futureSnapshot=In}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Et.U)(Yt=>Fi(Yt)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Et.U)(Yt=>Fi(Yt)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Pr(oe,Yt="emptyOnly"){const Ft=oe.pathFromRoot;let ye=0;if("always"!==Yt)for(ye=Ft.length-1;ye>=1;){const Me=Ft[ye],Xe=Ft[ye-1];if(Me.routeConfig&&""===Me.routeConfig.path)ye--;else{if(Xe.component)break;ye--}}return function(oe){return oe.reduce((Yt,Ft)=>({params:Er(Er({},Yt.params),Ft.params),data:Er(Er({},Yt.data),Ft.data),resolve:Er(Er({},Yt.resolve),Ft._resolvedData)}),{params:{},data:{},resolve:{}})}(Ft.slice(ye))}class Vs{constructor(Yt,Ft,ye,Me,Xe,Di,Mi,In,Nr,ts,Xr){this.url=Yt,this.params=Ft,this.queryParams=ye,this.fragment=Me,this.data=Xe,this.outlet=Di,this.component=Mi,this.routeConfig=In,this._urlSegment=Nr,this._lastPathIndex=ts,this._resolve=Xr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Fi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(ye=>ye.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qs extends on{constructor(Yt,Ft){super(Ft),this.url=Yt,js(this,Ft)}toString(){return Zo(this._root)}}function js(oe,Yt){Yt.value._routerState=oe,Yt.children.forEach(Ft=>js(oe,Ft))}function Zo(oe){const Yt=oe.children.length>0?` { ${oe.children.map(Zo).join(", ")} } `:"";return`${oe.value}${Yt}`}function ds(oe){if(oe.snapshot){const Yt=oe.snapshot,Ft=oe._futureSnapshot;oe.snapshot=Ft,Ye(Yt.queryParams,Ft.queryParams)||oe.queryParams.next(Ft.queryParams),Yt.fragment!==Ft.fragment&&oe.fragment.next(Ft.fragment),Ye(Yt.params,Ft.params)||oe.params.next(Ft.params),function(oe,Yt){if(oe.length!==Yt.length)return!1;for(let Ft=0;Ft<oe.length;++Ft)if(!Ye(oe[Ft],Yt[Ft]))return!1;return!0}(Yt.url,Ft.url)||oe.url.next(Ft.url),Ye(Yt.data,Ft.data)||oe.data.next(Ft.data)}else oe.snapshot=oe._futureSnapshot,oe.data.next(oe._futureSnapshot.data)}function Gr(oe,Yt){const Ft=Ye(oe.params,Yt.params)&&function(oe,Yt){return Qt(oe,Yt)&&oe.every((Ft,ye)=>Ye(Ft.parameters,Yt[ye].parameters))}(oe.url,Yt.url);return Ft&&!(!oe.parent!=!Yt.parent)&&(!oe.parent||Gr(oe.parent,Yt.parent))}function as(oe,Yt,Ft){if(Ft&&oe.shouldReuseRoute(Yt.value,Ft.value.snapshot)){const ye=Ft.value;ye._futureSnapshot=Yt.value;const Me=function(oe,Yt,Ft){return Yt.children.map(ye=>{for(const Me of Ft.children)if(oe.shouldReuseRoute(ye.value,Me.value.snapshot))return as(oe,ye,Me);return as(oe,ye)})}(oe,Yt,Ft);return new Ar(ye,Me)}{if(oe.shouldAttach(Yt.value)){const Xe=oe.retrieve(Yt.value);if(null!==Xe){const Di=Xe.route;return Di.value._futureSnapshot=Yt.value,Di.children=Yt.children.map(Mi=>as(oe,Mi)),Di}}const ye=function(oe){return new Vr(new F.X(oe.url),new F.X(oe.params),new F.X(oe.queryParams),new F.X(oe.fragment),new F.X(oe.data),oe.outlet,oe.component,oe)}(Yt.value),Me=Yt.children.map(Xe=>as(oe,Xe));return new Ar(ye,Me)}}function Qr(oe){return"object"==typeof oe&&null!=oe&&!oe.outlets&&!oe.segmentPath}function Oa(oe){return"object"==typeof oe&&null!=oe&&oe.outlets}function zs(oe,Yt,Ft,ye,Me){let Xe={};return ye&&ke(ye,(Di,Mi)=>{Xe[Mi]=Array.isArray(Di)?Di.map(In=>`${In}`):`${Di}`}),new De(Ft.root===oe?Yt:Va(Ft.root,oe,Yt),Xe,Me)}function Va(oe,Yt,Ft){const ye={};return ke(oe.children,(Me,Xe)=>{ye[Xe]=Me===Yt?Ft:Va(Me,Yt,Ft)}),new qe(oe.segments,ye)}class kh{constructor(Yt,Ft,ye){if(this.isAbsolute=Yt,this.numberOfDoubleDots=Ft,this.commands=ye,Yt&&ye.length>0&&Qr(ye[0]))throw new Error("Root segment cannot have matrix parameters");const Me=ye.find(Oa);if(Me&&Me!==ht(ye))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xl{constructor(Yt,Ft,ye){this.segmentGroup=Yt,this.processChildren=Ft,this.index=ye}}function ia(oe,Yt,Ft){if(oe||(oe=new qe([],{})),0===oe.segments.length&&oe.hasChildren())return Zl(oe,Yt,Ft);const ye=function(oe,Yt,Ft){let ye=0,Me=Yt;const Xe={match:!1,pathIndex:0,commandIndex:0};for(;Me<oe.segments.length;){if(ye>=Ft.length)return Xe;const Di=oe.segments[Me],Mi=Ft[ye];if(Oa(Mi))break;const In=`${Mi}`,Nr=ye<Ft.length-1?Ft[ye+1]:null;if(Me>0&&void 0===In)break;if(In&&Nr&&"object"==typeof Nr&&void 0===Nr.outlets){if(!ko(In,Nr,Di))return Xe;ye+=2}else{if(!ko(In,{},Di))return Xe;ye++}Me++}return{match:!0,pathIndex:Me,commandIndex:ye}}(oe,Yt,Ft),Me=Ft.slice(ye.commandIndex);if(ye.match&&ye.pathIndex<oe.segments.length){const Xe=new qe(oe.segments.slice(0,ye.pathIndex),{});return Xe.children[Pt]=new qe(oe.segments.slice(ye.pathIndex),oe.children),Zl(Xe,0,Me)}return ye.match&&0===Me.length?new qe(oe.segments,{}):ye.match&&!oe.hasChildren()?ns(oe,Yt,Ft):ye.match?Zl(oe,0,Me):ns(oe,Yt,Ft)}function Zl(oe,Yt,Ft){if(0===Ft.length)return new qe(oe.segments,{});{const ye=function(oe){return Oa(oe[0])?oe[0].outlets:{[Pt]:oe}}(Ft),Me={};return ke(ye,(Xe,Di)=>{"string"==typeof Xe&&(Xe=[Xe]),null!==Xe&&(Me[Di]=ia(oe.children[Di],Yt,Xe))}),ke(oe.children,(Xe,Di)=>{void 0===ye[Di]&&(Me[Di]=Xe)}),new qe(oe.segments,Me)}}function ns(oe,Yt,Ft){const ye=oe.segments.slice(0,Yt);let Me=0;for(;Me<Ft.length;){const Xe=Ft[Me];if(Oa(Xe)){const In=Ts(Xe.outlets);return new qe(ye,In)}if(0===Me&&Qr(Ft[0])){ye.push(new ni(oe.segments[Yt].path,xs(Ft[0]))),Me++;continue}const Di=Oa(Xe)?Xe.outlets[Pt]:`${Xe}`,Mi=Me<Ft.length-1?Ft[Me+1]:null;Di&&Mi&&Qr(Mi)?(ye.push(new ni(Di,xs(Mi))),Me+=2):(ye.push(new ni(Di,{})),Me++)}return new qe(ye,{})}function Ts(oe){const Yt={};return ke(oe,(Ft,ye)=>{"string"==typeof Ft&&(Ft=[Ft]),null!==Ft&&(Yt[ye]=ns(new qe([],{}),0,Ft))}),Yt}function xs(oe){const Yt={};return ke(oe,(Ft,ye)=>Yt[ye]=`${Ft}`),Yt}function ko(oe,Yt,Ft){return oe==Ft.path&&Ye(Yt,Ft.parameters)}class Ph{constructor(Yt,Ft,ye,Me){this.routeReuseStrategy=Yt,this.futureState=Ft,this.currState=ye,this.forwardEvent=Me}activate(Yt){const Ft=this.futureState._root,ye=this.currState?this.currState._root:null;this.deactivateChildRoutes(Ft,ye,Yt),ds(this.futureState.root),this.activateChildRoutes(Ft,ye,Yt)}deactivateChildRoutes(Yt,Ft,ye){const Me=hn(Ft);Yt.children.forEach(Xe=>{const Di=Xe.value.outlet;this.deactivateRoutes(Xe,Me[Di],ye),delete Me[Di]}),ke(Me,(Xe,Di)=>{this.deactivateRouteAndItsChildren(Xe,ye)})}deactivateRoutes(Yt,Ft,ye){const Me=Yt.value,Xe=Ft?Ft.value:null;if(Me===Xe)if(Me.component){const Di=ye.getContext(Me.outlet);Di&&this.deactivateChildRoutes(Yt,Ft,Di.children)}else this.deactivateChildRoutes(Yt,Ft,ye);else Xe&&this.deactivateRouteAndItsChildren(Ft,ye)}deactivateRouteAndItsChildren(Yt,Ft){this.routeReuseStrategy.shouldDetach(Yt.value.snapshot)?this.detachAndStoreRouteSubtree(Yt,Ft):this.deactivateRouteAndOutlet(Yt,Ft)}detachAndStoreRouteSubtree(Yt,Ft){const ye=Ft.getContext(Yt.value.outlet),Me=ye&&Yt.value.component?ye.children:Ft,Xe=hn(Yt);for(const Di of Object.keys(Xe))this.deactivateRouteAndItsChildren(Xe[Di],Me);if(ye&&ye.outlet){const Di=ye.outlet.detach(),Mi=ye.children.onOutletDeactivated();this.routeReuseStrategy.store(Yt.value.snapshot,{componentRef:Di,route:Yt,contexts:Mi})}}deactivateRouteAndOutlet(Yt,Ft){const ye=Ft.getContext(Yt.value.outlet),Me=ye&&Yt.value.component?ye.children:Ft,Xe=hn(Yt);for(const Di of Object.keys(Xe))this.deactivateRouteAndItsChildren(Xe[Di],Me);ye&&ye.outlet&&(ye.outlet.deactivate(),ye.children.onOutletDeactivated(),ye.attachRef=null,ye.resolver=null,ye.route=null)}activateChildRoutes(Yt,Ft,ye){const Me=hn(Ft);Yt.children.forEach(Xe=>{this.activateRoutes(Xe,Me[Xe.value.outlet],ye),this.forwardEvent(new zt(Xe.value.snapshot))}),Yt.children.length&&this.forwardEvent(new Kt(Yt.value.snapshot))}activateRoutes(Yt,Ft,ye){const Me=Yt.value,Xe=Ft?Ft.value:null;if(ds(Me),Me===Xe)if(Me.component){const Di=ye.getOrCreateContext(Me.outlet);this.activateChildRoutes(Yt,Ft,Di.children)}else this.activateChildRoutes(Yt,Ft,ye);else if(Me.component){const Di=ye.getOrCreateContext(Me.outlet);if(this.routeReuseStrategy.shouldAttach(Me.snapshot)){const Mi=this.routeReuseStrategy.retrieve(Me.snapshot);this.routeReuseStrategy.store(Me.snapshot,null),Di.children.onOutletReAttached(Mi.contexts),Di.attachRef=Mi.componentRef,Di.route=Mi.route.value,Di.outlet&&Di.outlet.attach(Mi.componentRef,Mi.route.value),ds(Mi.route.value),this.activateChildRoutes(Yt,null,Di.children)}else{const Mi=function(oe){for(let Yt=oe.parent;Yt;Yt=Yt.parent){const Ft=Yt.routeConfig;if(Ft&&Ft._loadedConfig)return Ft._loadedConfig;if(Ft&&Ft.component)return null}return null}(Me.snapshot),In=Mi?Mi.module.componentFactoryResolver:null;Di.attachRef=null,Di.route=Me,Di.resolver=In,Di.outlet&&Di.outlet.activateWith(Me,In),this.activateChildRoutes(Yt,null,Di.children)}}else this.activateChildRoutes(Yt,null,ye)}}class Ou{constructor(Yt,Ft){this.routes=Yt,this.module=Ft}}function ja(oe){return"function"==typeof oe}function or(oe){return oe instanceof De}const za=Symbol("INITIAL_VALUE");function pa(){return(0,A.w)(oe=>(0,et.a)(oe.map(Yt=>Yt.pipe((0,o.q)(1),(0,c.O)(za)))).pipe(it((Yt,Ft)=>{let ye=!1;return Ft.reduce((Me,Xe,Di)=>Me!==za?Me:(Xe===za&&(ye=!0),ye||!1!==Xe&&Di!==Ft.length-1&&!or(Xe)?Me:Xe),Yt)},za),(0,ot.h)(Yt=>Yt!==za),(0,Et.U)(Yt=>or(Yt)?Yt:!0===Yt),(0,o.q)(1)))}class ch{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ml,this.attachRef=null}}class ml{constructor(){this.contexts=new Map}onChildOutletCreated(Yt,Ft){const ye=this.getOrCreateContext(Yt);ye.outlet=Ft,this.contexts.set(Yt,ye)}onChildOutletDestroyed(Yt){const Ft=this.getContext(Yt);Ft&&(Ft.outlet=null,Ft.attachRef=null)}onOutletDeactivated(){const Yt=this.contexts;return this.contexts=new Map,Yt}onOutletReAttached(Yt){this.contexts=Yt}getOrCreateContext(Yt){let Ft=this.getContext(Yt);return Ft||(Ft=new ch,this.contexts.set(Yt,Ft)),Ft}getContext(Yt){return this.contexts.get(Yt)||null}}let gl=(()=>{class oe{constructor(Ft,ye,Me,Xe,Di){this.parentContexts=Ft,this.location=ye,this.resolver=Me,this.changeDetector=Di,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=Xe||Pt,Ft.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const Ft=this.parentContexts.getContext(this.name);Ft&&Ft.route&&(Ft.attachRef?this.attach(Ft.attachRef,Ft.route):this.activateWith(Ft.route,Ft.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const Ft=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(Ft.instance),Ft}attach(Ft,ye){this.activated=Ft,this._activatedRoute=ye,this.location.insert(Ft.hostView),this.attachEvents.emit(Ft.instance)}deactivate(){if(this.activated){const Ft=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(Ft)}}activateWith(Ft,ye){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=Ft;const Di=(ye=ye||this.resolver).resolveComponentFactory(Ft._futureSnapshot.routeConfig.component),Mi=this.parentContexts.getOrCreateContext(this.name).children,In=new fu(Ft,Mi,this.location.injector);this.activated=this.location.createComponent(Di,this.location.length,In),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return oe.\u0275fac=function(Ft){return new(Ft||oe)(f.Y36(ml),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},oe.\u0275dir=f.lG2({type:oe,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),oe})();class fu{constructor(Yt,Ft,ye){this.route=Yt,this.childContexts=Ft,this.parent=ye}get(Yt,Ft){return Yt===Vr?this.route:Yt===ml?this.childContexts:this.parent.get(Yt,Ft)}}let Yu=(()=>{class oe{}return oe.\u0275fac=function(Ft){return new(Ft||oe)},oe.\u0275cmp=f.Xpm({type:oe,selectors:[["ng-component"]],decls:1,vars:0,template:function(Ft,ye){1&Ft&&f._UZ(0,"router-outlet")},directives:[gl],encapsulation:2}),oe})();function _i(oe,Yt=""){for(let Ft=0;Ft<oe.length;Ft++){const ye=oe[Ft];be(ye,Ie(Yt,ye))}}function be(oe,Yt){oe.children&&_i(oe.children,Yt)}function Ie(oe,Yt){return Yt?oe||Yt.path?oe&&!Yt.path?`${oe}/`:!oe&&Yt.path?Yt.path:`${oe}/${Yt.path}`:"":oe}function Be(oe){const Yt=oe.children&&oe.children.map(Be),Ft=Yt?Gu(Er({},oe),{children:Yt}):Er({},oe);return!Ft.component&&(Yt||Ft.loadChildren)&&Ft.outlet&&Ft.outlet!==Pt&&(Ft.component=Yu),Ft}function Qe(oe){return oe.outlet||Pt}function hi(oe,Yt){const Ft=oe.filter(ye=>Qe(ye)===Yt);return Ft.push(...oe.filter(ye=>Qe(ye)!==Yt)),Ft}const qi={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function an(oe,Yt,Ft){var Mi;if(""===Yt.path)return"full"===Yt.pathMatch&&(oe.hasChildren()||Ft.length>0)?Er({},qi):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const Me=(Yt.matcher||Bt)(Ft,oe,Yt);if(!Me)return Er({},qi);const Xe={};ke(Me.posParams,(In,Nr)=>{Xe[Nr]=In.path});const Di=Me.consumed.length>0?Er(Er({},Xe),Me.consumed[Me.consumed.length-1].parameters):Xe;return{matched:!0,consumedSegments:Me.consumed,lastChild:Me.consumed.length,parameters:Di,positionalParamSegments:null!=(Mi=Me.posParams)?Mi:{}}}function nn(oe,Yt,Ft,ye,Me="corrected"){if(Ft.length>0&&function(oe,Yt,Ft){return Ft.some(ye=>Le(oe,Yt,ye)&&Qe(ye)!==Pt)}(oe,Ft,ye)){const Di=new qe(Yt,function(oe,Yt,Ft,ye){const Me={};Me[Pt]=ye,ye._sourceSegment=oe,ye._segmentIndexShift=Yt.length;for(const Xe of Ft)if(""===Xe.path&&Qe(Xe)!==Pt){const Di=new qe([],{});Di._sourceSegment=oe,Di._segmentIndexShift=Yt.length,Me[Qe(Xe)]=Di}return Me}(oe,Yt,ye,new qe(Ft,oe.children)));return Di._sourceSegment=oe,Di._segmentIndexShift=Yt.length,{segmentGroup:Di,slicedSegments:[]}}if(0===Ft.length&&function(oe,Yt,Ft){return Ft.some(ye=>Le(oe,Yt,ye))}(oe,Ft,ye)){const Di=new qe(oe.segments,function(oe,Yt,Ft,ye,Me,Xe){const Di={};for(const Mi of ye)if(Le(oe,Ft,Mi)&&!Me[Qe(Mi)]){const In=new qe([],{});In._sourceSegment=oe,In._segmentIndexShift="legacy"===Xe?oe.segments.length:Yt.length,Di[Qe(Mi)]=In}return Er(Er({},Me),Di)}(oe,Yt,Ft,ye,oe.children,Me));return Di._sourceSegment=oe,Di._segmentIndexShift=Yt.length,{segmentGroup:Di,slicedSegments:Ft}}const Xe=new qe(oe.segments,oe.children);return Xe._sourceSegment=oe,Xe._segmentIndexShift=Yt.length,{segmentGroup:Xe,slicedSegments:Ft}}function Le(oe,Yt,Ft){return(!(oe.hasChildren()||Yt.length>0)||"full"!==Ft.pathMatch)&&""===Ft.path}function me(oe,Yt,Ft,ye){return!!(Qe(oe)===ye||ye!==Pt&&Le(Yt,Ft,oe))&&("**"===oe.path||an(Yt,oe,Ft).matched)}function Ve(oe,Yt,Ft){return 0===Yt.length&&!oe.children[Ft]}class vi{constructor(Yt){this.segmentGroup=Yt||null}}class yi{constructor(Yt){this.urlTree=Yt}}function An(oe){return new J.y(Yt=>Yt.error(new vi(oe)))}function On(oe){return new J.y(Yt=>Yt.error(new yi(oe)))}function Cr(oe){return new J.y(Yt=>Yt.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${oe}'`)))}class wn{constructor(Yt,Ft,ye,Me,Xe){this.configLoader=Ft,this.urlSerializer=ye,this.urlTree=Me,this.config=Xe,this.allowRedirects=!0,this.ngModule=Yt.get(f.h0i)}apply(){const Yt=nn(this.urlTree.root,[],[],this.config).segmentGroup,Ft=new qe(Yt.segments,Yt.children);return this.expandSegmentGroup(this.ngModule,this.config,Ft,Pt).pipe((0,Et.U)(Xe=>this.createUrlTree(vr(Xe),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,g.K)(Xe=>{if(Xe instanceof yi)return this.allowRedirects=!1,this.match(Xe.urlTree);throw Xe instanceof vi?this.noMatchError(Xe):Xe}))}match(Yt){return this.expandSegmentGroup(this.ngModule,this.config,Yt.root,Pt).pipe((0,Et.U)(Me=>this.createUrlTree(vr(Me),Yt.queryParams,Yt.fragment))).pipe((0,g.K)(Me=>{throw Me instanceof vi?this.noMatchError(Me):Me}))}noMatchError(Yt){return new Error(`Cannot match any routes. URL Segment: '${Yt.segmentGroup}'`)}createUrlTree(Yt,Ft,ye){const Me=Yt.segments.length>0?new qe([],{[Pt]:Yt}):Yt;return new De(Me,Ft,ye)}expandSegmentGroup(Yt,Ft,ye,Me){return 0===ye.segments.length&&ye.hasChildren()?this.expandChildren(Yt,Ft,ye).pipe((0,Et.U)(Xe=>new qe([],Xe))):this.expandSegment(Yt,ye,Ft,ye.segments,Me,!0)}expandChildren(Yt,Ft,ye){const Me=[];for(const Xe of Object.keys(ye.children))"primary"===Xe?Me.unshift(Xe):Me.push(Xe);return(0,Z.D)(Me).pipe((0,p.b)(Xe=>{const Di=ye.children[Xe],Mi=hi(Ft,Xe);return this.expandSegmentGroup(Yt,Mi,Di,Xe).pipe((0,Et.U)(In=>({segment:In,outlet:Xe})))}),it((Xe,Di)=>(Xe[Di.outlet]=Di.segment,Xe),{}),function(oe,Yt){const Ft=arguments.length>=2;return ye=>ye.pipe(oe?(0,ot.h)((Me,Xe)=>oe(Me,Xe,ye)):Ot.y,lt(1),Ft?(0,xt.d)(Yt):(0,wt.T)(()=>new B.K))}())}expandSegment(Yt,Ft,ye,Me,Xe,Di){return(0,Z.D)(ye).pipe((0,p.b)(Mi=>this.expandSegmentAgainstRoute(Yt,Ft,ye,Mi,Me,Xe,Di).pipe((0,g.K)(Nr=>{if(Nr instanceof vi)return(0,H.of)(null);throw Nr}))),(0,w.P)(Mi=>!!Mi),(0,g.K)((Mi,In)=>{if(Mi instanceof B.K||"EmptyError"===Mi.name){if(Ve(Ft,Me,Xe))return(0,H.of)(new qe([],{}));throw new vi(Ft)}throw Mi}))}expandSegmentAgainstRoute(Yt,Ft,ye,Me,Xe,Di,Mi){return me(Me,Ft,Xe,Di)?void 0===Me.redirectTo?this.matchSegmentAgainstRoute(Yt,Ft,Me,Xe,Di):Mi&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(Yt,Ft,ye,Me,Xe,Di):An(Ft):An(Ft)}expandSegmentAgainstRouteUsingRedirect(Yt,Ft,ye,Me,Xe,Di){return"**"===Me.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(Yt,ye,Me,Di):this.expandRegularSegmentAgainstRouteUsingRedirect(Yt,Ft,ye,Me,Xe,Di)}expandWildCardWithParamsAgainstRouteUsingRedirect(Yt,Ft,ye,Me){const Xe=this.applyRedirectCommands([],ye.redirectTo,{});return ye.redirectTo.startsWith("/")?On(Xe):this.lineralizeSegments(ye,Xe).pipe((0,S.z)(Di=>{const Mi=new qe(Di,{});return this.expandSegment(Yt,Mi,Ft,Di,Me,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(Yt,Ft,ye,Me,Xe,Di){const{matched:Mi,consumedSegments:In,lastChild:Nr,positionalParamSegments:ts}=an(Ft,Me,Xe);if(!Mi)return An(Ft);const Xr=this.applyRedirectCommands(In,Me.redirectTo,ts);return Me.redirectTo.startsWith("/")?On(Xr):this.lineralizeSegments(Me,Xr).pipe((0,S.z)(So=>this.expandSegment(Yt,Ft,ye,So.concat(Xe.slice(Nr)),Di,!1)))}matchSegmentAgainstRoute(Yt,Ft,ye,Me,Xe){if("**"===ye.path)return ye.loadChildren?(ye._loadedConfig?(0,H.of)(ye._loadedConfig):this.configLoader.load(Yt.injector,ye)).pipe((0,Et.U)(So=>(ye._loadedConfig=So,new qe(Me,{})))):(0,H.of)(new qe(Me,{}));const{matched:Di,consumedSegments:Mi,lastChild:In}=an(Ft,ye,Me);if(!Di)return An(Ft);const Nr=Me.slice(In);return this.getChildConfig(Yt,ye,Me).pipe((0,S.z)(Xr=>{const So=Xr.module,Vo=Xr.routes,{segmentGroup:mu,slicedSegments:ph}=nn(Ft,Mi,Nr,Vo),Rl=new qe(mu.segments,mu.children);if(0===ph.length&&Rl.hasChildren())return this.expandChildren(So,Vo,Rl).pipe((0,Et.U)(Rh=>new qe(Mi,Rh)));if(0===Vo.length&&0===ph.length)return(0,H.of)(new qe(Mi,{}));const gu=Qe(ye)===Xe;return this.expandSegment(So,Rl,Vo,ph,gu?Pt:Xe,!0).pipe((0,Et.U)(gh=>new qe(Mi.concat(gh.segments),gh.children)))}))}getChildConfig(Yt,Ft,ye){return Ft.children?(0,H.of)(new Ou(Ft.children,Yt)):Ft.loadChildren?void 0!==Ft._loadedConfig?(0,H.of)(Ft._loadedConfig):this.runCanLoadGuards(Yt.injector,Ft,ye).pipe((0,S.z)(Me=>{return Me?this.configLoader.load(Yt.injector,Ft).pipe((0,Et.U)(Xe=>(Ft._loadedConfig=Xe,Xe))):(oe=Ft,new J.y(Yt=>Yt.error(_e(`Cannot load children because the guard of the route "path: '${oe.path}'" returned false`))));var oe})):(0,H.of)(new Ou([],Yt))}runCanLoadGuards(Yt,Ft,ye){const Me=Ft.canLoad;if(!Me||0===Me.length)return(0,H.of)(!0);const Xe=Me.map(Di=>{const Mi=Yt.get(Di);let In;if((oe=Mi)&&ja(oe.canLoad))In=Mi.canLoad(Ft,ye);else{if(!ja(Mi))throw new Error("Invalid CanLoad guard");In=Mi(Ft,ye)}var oe;return Pi(In)});return(0,H.of)(Xe).pipe(pa(),(0,T.b)(Di=>{if(!or(Di))return;const Mi=_e(`Redirecting to "${this.urlSerializer.serialize(Di)}"`);throw Mi.url=Di,Mi}),(0,Et.U)(Di=>!0===Di))}lineralizeSegments(Yt,Ft){let ye=[],Me=Ft.root;for(;;){if(ye=ye.concat(Me.segments),0===Me.numberOfChildren)return(0,H.of)(ye);if(Me.numberOfChildren>1||!Me.children[Pt])return Cr(Yt.redirectTo);Me=Me.children[Pt]}}applyRedirectCommands(Yt,Ft,ye){return this.applyRedirectCreatreUrlTree(Ft,this.urlSerializer.parse(Ft),Yt,ye)}applyRedirectCreatreUrlTree(Yt,Ft,ye,Me){const Xe=this.createSegmentGroup(Yt,Ft.root,ye,Me);return new De(Xe,this.createQueryParams(Ft.queryParams,this.urlTree.queryParams),Ft.fragment)}createQueryParams(Yt,Ft){const ye={};return ke(Yt,(Me,Xe)=>{if("string"==typeof Me&&Me.startsWith(":")){const Mi=Me.substring(1);ye[Xe]=Ft[Mi]}else ye[Xe]=Me}),ye}createSegmentGroup(Yt,Ft,ye,Me){const Xe=this.createSegments(Yt,Ft.segments,ye,Me);let Di={};return ke(Ft.children,(Mi,In)=>{Di[In]=this.createSegmentGroup(Yt,Mi,ye,Me)}),new qe(Xe,Di)}createSegments(Yt,Ft,ye,Me){return Ft.map(Xe=>Xe.path.startsWith(":")?this.findPosParam(Yt,Xe,Me):this.findOrReturn(Xe,ye))}findPosParam(Yt,Ft,ye){const Me=ye[Ft.path.substring(1)];if(!Me)throw new Error(`Cannot redirect to '${Yt}'. Cannot find '${Ft.path}'.`);return Me}findOrReturn(Yt,Ft){let ye=0;for(const Me of Ft){if(Me.path===Yt.path)return Ft.splice(ye),Me;ye++}return Yt}}function vr(oe){const Yt={};for(const ye of Object.keys(oe.children)){const Xe=vr(oe.children[ye]);(Xe.segments.length>0||Xe.hasChildren())&&(Yt[ye]=Xe)}return function(oe){if(1===oe.numberOfChildren&&oe.children[Pt]){const Yt=oe.children[Pt];return new qe(oe.segments.concat(Yt.segments),Yt.children)}return oe}(new qe(oe.segments,Yt))}class zn{constructor(Yt){this.path=Yt,this.route=this.path[this.path.length-1]}}class Ls{constructor(Yt,Ft){this.component=Yt,this.route=Ft}}function jr(oe,Yt,Ft){const ye=oe._root;return Qa(ye,Yt?Yt._root:null,Ft,[ye.value])}function ka(oe,Yt,Ft){const ye=function(oe){if(!oe)return null;for(let Yt=oe.parent;Yt;Yt=Yt.parent){const Ft=Yt.routeConfig;if(Ft&&Ft._loadedConfig)return Ft._loadedConfig}return null}(Yt);return(ye?ye.module.injector:Ft).get(oe)}function Qa(oe,Yt,Ft,ye,Me={canDeactivateChecks:[],canActivateChecks:[]}){const Xe=hn(Yt);return oe.children.forEach(Di=>{(function(oe,Yt,Ft,ye,Me={canDeactivateChecks:[],canActivateChecks:[]}){const Xe=oe.value,Di=Yt?Yt.value:null,Mi=Ft?Ft.getContext(oe.value.outlet):null;if(Di&&Xe.routeConfig===Di.routeConfig){const In=function(oe,Yt,Ft){if("function"==typeof Ft)return Ft(oe,Yt);switch(Ft){case"pathParamsChange":return!Qt(oe.url,Yt.url);case"pathParamsOrQueryParamsChange":return!Qt(oe.url,Yt.url)||!Ye(oe.queryParams,Yt.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gr(oe,Yt)||!Ye(oe.queryParams,Yt.queryParams);default:return!Gr(oe,Yt)}}(Di,Xe,Xe.routeConfig.runGuardsAndResolvers);In?Me.canActivateChecks.push(new zn(ye)):(Xe.data=Di.data,Xe._resolvedData=Di._resolvedData),Qa(oe,Yt,Xe.component?Mi?Mi.children:null:Ft,ye,Me),In&&Mi&&Mi.outlet&&Mi.outlet.isActivated&&Me.canDeactivateChecks.push(new Ls(Mi.outlet.component,Di))}else Di&&no(Yt,Mi,Me),Me.canActivateChecks.push(new zn(ye)),Qa(oe,null,Xe.component?Mi?Mi.children:null:Ft,ye,Me)})(Di,Xe[Di.value.outlet],Ft,ye.concat([Di.value]),Me),delete Xe[Di.value.outlet]}),ke(Xe,(Di,Mi)=>no(Di,Ft.getContext(Mi),Me)),Me}function no(oe,Yt,Ft){const ye=hn(oe),Me=oe.value;ke(ye,(Xe,Di)=>{no(Xe,Me.component?Yt?Yt.children.getContext(Di):null:Yt,Ft)}),Ft.canDeactivateChecks.push(new Ls(Me.component&&Yt&&Yt.outlet&&Yt.outlet.isActivated?Yt.outlet.component:null,Me))}class Ue{}function li(oe){return new J.y(Yt=>Yt.error(oe))}class Hi{constructor(Yt,Ft,ye,Me,Xe,Di){this.rootComponentType=Yt,this.config=Ft,this.urlTree=ye,this.url=Me,this.paramsInheritanceStrategy=Xe,this.relativeLinkResolution=Di}recognize(){const Yt=nn(this.urlTree.root,[],[],this.config.filter(Di=>void 0===Di.redirectTo),this.relativeLinkResolution).segmentGroup,Ft=this.processSegmentGroup(this.config,Yt,Pt);if(null===Ft)return null;const ye=new Vs([],Object.freeze({}),Object.freeze(Er({},this.urlTree.queryParams)),this.urlTree.fragment,{},Pt,this.rootComponentType,null,this.urlTree.root,-1,{}),Me=new Ar(ye,Ft),Xe=new qs(this.url,Me);return this.inheritParamsAndData(Xe._root),Xe}inheritParamsAndData(Yt){const Ft=Yt.value,ye=Pr(Ft,this.paramsInheritanceStrategy);Ft.params=Object.freeze(ye.params),Ft.data=Object.freeze(ye.data),Yt.children.forEach(Me=>this.inheritParamsAndData(Me))}processSegmentGroup(Yt,Ft,ye){return 0===Ft.segments.length&&Ft.hasChildren()?this.processChildren(Yt,Ft):this.processSegment(Yt,Ft,Ft.segments,ye)}processChildren(Yt,Ft){const ye=[];for(const Xe of Object.keys(Ft.children)){const Di=Ft.children[Xe],Mi=hi(Yt,Xe),In=this.processSegmentGroup(Mi,Di,Xe);if(null===In)return null;ye.push(...In)}const Me=Mr(ye);return Me.sort((Yt,Ft)=>Yt.value.outlet===Pt?-1:Ft.value.outlet===Pt?1:Yt.value.outlet.localeCompare(Ft.value.outlet)),Me}processSegment(Yt,Ft,ye,Me){for(const Xe of Yt){const Di=this.processSegmentAgainstRoute(Xe,Ft,ye,Me);if(null!==Di)return Di}return Ve(Ft,ye,Me)?[]:null}processSegmentAgainstRoute(Yt,Ft,ye,Me){if(Yt.redirectTo||!me(Yt,Ft,ye,Me))return null;let Xe,Di=[],Mi=[];if("**"===Yt.path){const Vo=ye.length>0?ht(ye).parameters:{};Xe=new Vs(ye,Vo,Object.freeze(Er({},this.urlTree.queryParams)),this.urlTree.fragment,eo(Yt),Qe(Yt),Yt.component,Yt,xo(Ft),Yr(Ft)+ye.length,yr(Yt))}else{const Vo=an(Ft,Yt,ye);if(!Vo.matched)return null;Di=Vo.consumedSegments,Mi=ye.slice(Vo.lastChild),Xe=new Vs(Di,Vo.parameters,Object.freeze(Er({},this.urlTree.queryParams)),this.urlTree.fragment,eo(Yt),Qe(Yt),Yt.component,Yt,xo(Ft),Yr(Ft)+Di.length,yr(Yt))}const In=(oe=Yt).children?oe.children:oe.loadChildren?oe._loadedConfig.routes:[],{segmentGroup:Nr,slicedSegments:ts}=nn(Ft,Di,Mi,In.filter(Vo=>void 0===Vo.redirectTo),this.relativeLinkResolution);var oe;if(0===ts.length&&Nr.hasChildren()){const Vo=this.processChildren(In,Nr);return null===Vo?null:[new Ar(Xe,Vo)]}if(0===In.length&&0===ts.length)return[new Ar(Xe,[])];const Xr=Qe(Yt)===Me,So=this.processSegment(In,Nr,ts,Xr?Pt:Me);return null===So?null:[new Ar(Xe,So)]}}function cr(oe){const Yt=oe.value.routeConfig;return Yt&&""===Yt.path&&void 0===Yt.redirectTo}function Mr(oe){const Yt=[],Ft=new Set;for(const ye of oe){if(!cr(ye)){Yt.push(ye);continue}const Me=Yt.find(Xe=>ye.value.routeConfig===Xe.value.routeConfig);void 0!==Me?(Me.children.push(...ye.children),Ft.add(Me)):Yt.push(ye)}for(const ye of Ft){const Me=Mr(ye.children);Yt.push(new Ar(ye.value,Me))}return Yt.filter(ye=>!Ft.has(ye))}function xo(oe){let Yt=oe;for(;Yt._sourceSegment;)Yt=Yt._sourceSegment;return Yt}function Yr(oe){let Yt=oe,Ft=Yt._segmentIndexShift?Yt._segmentIndexShift:0;for(;Yt._sourceSegment;)Yt=Yt._sourceSegment,Ft+=Yt._segmentIndexShift?Yt._segmentIndexShift:0;return Ft-1}function eo(oe){return oe.data||{}}function yr(oe){return oe.resolve||{}}function ws(oe){return(0,A.w)(Yt=>{const Ft=oe(Yt);return Ft?(0,Z.D)(Ft).pipe((0,Et.U)(()=>Yt)):(0,H.of)(Yt)})}class ps extends class{shouldDetach(Yt){return!1}store(Yt,Ft){}shouldAttach(Yt){return!1}retrieve(Yt){return null}shouldReuseRoute(Yt,Ft){return Yt.routeConfig===Ft.routeConfig}}{}const _s=new f.OlP("ROUTES");class bo{constructor(Yt,Ft,ye,Me){this.injector=Yt,this.compiler=Ft,this.onLoadStartListener=ye,this.onLoadEndListener=Me}load(Yt,Ft){if(Ft._loader$)return Ft._loader$;this.onLoadStartListener&&this.onLoadStartListener(Ft);const Me=this.loadModuleFactory(Ft.loadChildren).pipe((0,Et.U)(Xe=>{this.onLoadEndListener&&this.onLoadEndListener(Ft);const Di=Xe.create(Yt);return new Ou(yt(Di.injector.get(_s,void 0,f.XFs.Self|f.XFs.Optional)).map(Be),Di)}),(0,g.K)(Xe=>{throw Ft._loader$=void 0,Xe}));return Ft._loader$=new rt(Me,()=>new q.x).pipe(G()),Ft._loader$}loadModuleFactory(Yt){return Pi(Yt()).pipe((0,S.z)(Ft=>Ft instanceof f.YKP?(0,H.of)(Ft):(0,Z.D)(this.compiler.compileModuleAsync(Ft))))}}class qn{shouldProcessUrl(Yt){return!0}extract(Yt){return Yt}merge(Yt,Ft){return Yt}}function hs(oe){throw oe}function Po(oe,Yt,Ft){return Yt.parse("/")}function ur(oe,Yt){return(0,H.of)(null)}const Ir={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ao={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let kr=(()=>{class oe{constructor(Ft,ye,Me,Xe,Di,Mi,In){this.rootComponentType=Ft,this.urlSerializer=ye,this.rootContexts=Me,this.location=Xe,this.config=In,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new q.x,this.errorHandler=hs,this.malformedUriErrorHandler=Po,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ur,afterPreactivation:ur},this.urlHandlingStrategy=new qn,this.routeReuseStrategy=new ps,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Di.get(f.h0i),this.console=Di.get(f.c2e);const Xr=Di.get(f.R0b);this.isNgZoneEnabled=Xr instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(In),this.currentUrlTree=new De(new qe([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new bo(Di,Mi,So=>this.triggerEvent(new ve(So)),So=>this.triggerEvent(new Gt(So))),this.routerState=Hr(this.currentUrlTree,this.rootComponentType),this.transitions=new F.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var Ft;return null==(Ft=this.location.getState())?void 0:Ft.\u0275routerPageId}setupNavigations(Ft){const ye=this.events;return Ft.pipe((0,ot.h)(Me=>0!==Me.id),(0,Et.U)(Me=>Gu(Er({},Me),{extractedUrl:this.urlHandlingStrategy.extract(Me.rawUrl)})),(0,A.w)(Me=>{let Xe=!1,Di=!1;return(0,H.of)(Me).pipe((0,T.b)(Mi=>{this.currentNavigation={id:Mi.id,initialUrl:Mi.currentRawUrl,extractedUrl:Mi.extractedUrl,trigger:Mi.source,extras:Mi.extras,previousNavigation:this.lastSuccessfulNavigation?Gu(Er({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,A.w)(Mi=>{const In=this.browserUrlTree.toString(),Nr=!this.navigated||Mi.extractedUrl.toString()!==In||In!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Nr)&&this.urlHandlingStrategy.shouldProcessUrl(Mi.rawUrl))return na(Mi.source)&&(this.browserUrlTree=Mi.extractedUrl),(0,H.of)(Mi).pipe((0,A.w)(Xr=>{const So=this.transitions.getValue();return ye.next(new ft(Xr.id,this.serializeUrl(Xr.extractedUrl),Xr.source,Xr.restoredState)),So!==this.transitions.getValue()?Y.E:Promise.resolve(Xr)}),function(oe,Yt,Ft,ye){return(0,A.w)(Me=>function(oe,Yt,Ft,ye,Me){return new wn(oe,Yt,Ft,ye,Me).apply()}(oe,Yt,Ft,Me.extractedUrl,ye).pipe((0,Et.U)(Xe=>Gu(Er({},Me),{urlAfterRedirects:Xe}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,T.b)(Xr=>{this.currentNavigation=Gu(Er({},this.currentNavigation),{finalUrl:Xr.urlAfterRedirects})}),function(oe,Yt,Ft,ye,Me){return(0,S.z)(Xe=>function(oe,Yt,Ft,ye,Me="emptyOnly",Xe="legacy"){try{const Di=new Hi(oe,Yt,Ft,ye,Me,Xe).recognize();return null===Di?li(new Ue):(0,H.of)(Di)}catch(Di){return li(Di)}}(oe,Yt,Xe.urlAfterRedirects,Ft(Xe.urlAfterRedirects),ye,Me).pipe((0,Et.U)(Di=>Gu(Er({},Xe),{targetSnapshot:Di}))))}(this.rootComponentType,this.config,Xr=>this.serializeUrl(Xr),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,T.b)(Xr=>{if("eager"===this.urlUpdateStrategy){if(!Xr.extras.skipLocationChange){const Vo=this.urlHandlingStrategy.merge(Xr.urlAfterRedirects,Xr.rawUrl);this.setBrowserUrl(Vo,Xr)}this.browserUrlTree=Xr.urlAfterRedirects}const So=new St(Xr.id,this.serializeUrl(Xr.extractedUrl),this.serializeUrl(Xr.urlAfterRedirects),Xr.targetSnapshot);ye.next(So)}));if(Nr&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:So,extractedUrl:Vo,source:mu,restoredState:ph,extras:Rl}=Mi,gu=new ft(So,this.serializeUrl(Vo),mu,ph);ye.next(gu);const mh=Hr(Vo,this.rootComponentType).snapshot;return(0,H.of)(Gu(Er({},Mi),{targetSnapshot:mh,urlAfterRedirects:Vo,extras:Gu(Er({},Rl),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Mi.rawUrl,Mi.resolve(null),Y.E}),ws(Mi=>{const{targetSnapshot:In,id:Nr,extractedUrl:ts,rawUrl:Xr,extras:{skipLocationChange:So,replaceUrl:Vo}}=Mi;return this.hooks.beforePreactivation(In,{navigationId:Nr,appliedUrlTree:ts,rawUrlTree:Xr,skipLocationChange:!!So,replaceUrl:!!Vo})}),(0,T.b)(Mi=>{const In=new Xt(Mi.id,this.serializeUrl(Mi.extractedUrl),this.serializeUrl(Mi.urlAfterRedirects),Mi.targetSnapshot);this.triggerEvent(In)}),(0,Et.U)(Mi=>Gu(Er({},Mi),{guards:jr(Mi.targetSnapshot,Mi.currentSnapshot,this.rootContexts)})),function(oe,Yt){return(0,S.z)(Ft=>{const{targetSnapshot:ye,currentSnapshot:Me,guards:{canActivateChecks:Xe,canDeactivateChecks:Di}}=Ft;return 0===Di.length&&0===Xe.length?(0,H.of)(Gu(Er({},Ft),{guardsResult:!0})):function(oe,Yt,Ft,ye){return(0,Z.D)(oe).pipe((0,S.z)(Me=>function(oe,Yt,Ft,ye,Me){const Xe=Yt&&Yt.routeConfig?Yt.routeConfig.canDeactivate:null;if(!Xe||0===Xe.length)return(0,H.of)(!0);const Di=Xe.map(Mi=>{const In=ka(Mi,Yt,Me);let Nr;if(function(oe){return oe&&ja(oe.canDeactivate)}(In))Nr=Pi(In.canDeactivate(oe,Yt,Ft,ye));else{if(!ja(In))throw new Error("Invalid CanDeactivate guard");Nr=Pi(In(oe,Yt,Ft,ye))}return Nr.pipe((0,w.P)())});return(0,H.of)(Di).pipe(pa())}(Me.component,Me.route,Ft,Yt,ye)),(0,w.P)(Me=>!0!==Me,!0))}(Di,ye,Me,oe).pipe((0,S.z)(Mi=>Mi&&function(oe){return"boolean"==typeof oe}(Mi)?function(oe,Yt,Ft,ye){return(0,Z.D)(Yt).pipe((0,p.b)(Me=>(0,X.z)(function(oe,Yt){return null!==oe&&Yt&&Yt(new Nt(oe)),(0,H.of)(!0)}(Me.route.parent,ye),function(oe,Yt){return null!==oe&&Yt&&Yt(new fe(oe)),(0,H.of)(!0)}(Me.route,ye),function(oe,Yt,Ft){const ye=Yt[Yt.length-1],Xe=Yt.slice(0,Yt.length-1).reverse().map(Di=>function(oe){const Yt=oe.routeConfig?oe.routeConfig.canActivateChild:null;return Yt&&0!==Yt.length?{node:oe,guards:Yt}:null}(Di)).filter(Di=>null!==Di).map(Di=>(0,z.P)(()=>{const Mi=Di.guards.map(In=>{const Nr=ka(In,Di.node,Ft);let ts;if(function(oe){return oe&&ja(oe.canActivateChild)}(Nr))ts=Pi(Nr.canActivateChild(ye,oe));else{if(!ja(Nr))throw new Error("Invalid CanActivateChild guard");ts=Pi(Nr(ye,oe))}return ts.pipe((0,w.P)())});return(0,H.of)(Mi).pipe(pa())}));return(0,H.of)(Xe).pipe(pa())}(oe,Me.path,Ft),function(oe,Yt,Ft){const ye=Yt.routeConfig?Yt.routeConfig.canActivate:null;if(!ye||0===ye.length)return(0,H.of)(!0);const Me=ye.map(Xe=>(0,z.P)(()=>{const Di=ka(Xe,Yt,Ft);let Mi;if(function(oe){return oe&&ja(oe.canActivate)}(Di))Mi=Pi(Di.canActivate(Yt,oe));else{if(!ja(Di))throw new Error("Invalid CanActivate guard");Mi=Pi(Di(Yt,oe))}return Mi.pipe((0,w.P)())}));return(0,H.of)(Me).pipe(pa())}(oe,Me.route,Ft))),(0,w.P)(Me=>!0!==Me,!0))}(ye,Xe,oe,Yt):(0,H.of)(Mi)),(0,Et.U)(Mi=>Gu(Er({},Ft),{guardsResult:Mi})))})}(this.ngModule.injector,Mi=>this.triggerEvent(Mi)),(0,T.b)(Mi=>{if(or(Mi.guardsResult)){const Nr=_e(`Redirecting to "${this.serializeUrl(Mi.guardsResult)}"`);throw Nr.url=Mi.guardsResult,Nr}const In=new te(Mi.id,this.serializeUrl(Mi.extractedUrl),this.serializeUrl(Mi.urlAfterRedirects),Mi.targetSnapshot,!!Mi.guardsResult);this.triggerEvent(In)}),(0,ot.h)(Mi=>!!Mi.guardsResult||(this.restoreHistory(Mi),this.cancelNavigationTransition(Mi,""),!1)),ws(Mi=>{if(Mi.guards.canActivateChecks.length)return(0,H.of)(Mi).pipe((0,T.b)(In=>{const Nr=new Vt(In.id,this.serializeUrl(In.extractedUrl),this.serializeUrl(In.urlAfterRedirects),In.targetSnapshot);this.triggerEvent(Nr)}),(0,A.w)(In=>{let Nr=!1;return(0,H.of)(In).pipe(function(oe,Yt){return(0,S.z)(Ft=>{const{targetSnapshot:ye,guards:{canActivateChecks:Me}}=Ft;if(!Me.length)return(0,H.of)(Ft);let Xe=0;return(0,Z.D)(Me).pipe((0,p.b)(Di=>function(oe,Yt,Ft,ye){return function(oe,Yt,Ft,ye){const Me=Object.keys(oe);if(0===Me.length)return(0,H.of)({});const Xe={};return(0,Z.D)(Me).pipe((0,S.z)(Di=>function(oe,Yt,Ft,ye){const Me=ka(oe,Yt,ye);return Pi(Me.resolve?Me.resolve(Yt,Ft):Me(Yt,Ft))}(oe[Di],Yt,Ft,ye).pipe((0,T.b)(Mi=>{Xe[Di]=Mi}))),lt(1),(0,S.z)(()=>Object.keys(Xe).length===Me.length?(0,H.of)(Xe):Y.E))}(oe._resolve,oe,Yt,ye).pipe((0,Et.U)(Xe=>(oe._resolvedData=Xe,oe.data=Er(Er({},oe.data),Pr(oe,Ft).resolve),null)))}(Di.route,ye,oe,Yt)),(0,T.b)(()=>Xe++),lt(1),(0,S.z)(Di=>Xe===Me.length?(0,H.of)(Ft):Y.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,T.b)({next:()=>Nr=!0,complete:()=>{Nr||(this.restoreHistory(In),this.cancelNavigationTransition(In,"At least one route resolver didn't emit any value."))}}))}),(0,T.b)(In=>{const Nr=new Dt(In.id,this.serializeUrl(In.extractedUrl),this.serializeUrl(In.urlAfterRedirects),In.targetSnapshot);this.triggerEvent(Nr)}))}),ws(Mi=>{const{targetSnapshot:In,id:Nr,extractedUrl:ts,rawUrl:Xr,extras:{skipLocationChange:So,replaceUrl:Vo}}=Mi;return this.hooks.afterPreactivation(In,{navigationId:Nr,appliedUrlTree:ts,rawUrlTree:Xr,skipLocationChange:!!So,replaceUrl:!!Vo})}),(0,Et.U)(Mi=>{const In=function(oe,Yt,Ft){const ye=as(oe,Yt._root,Ft?Ft._root:void 0);return new xr(ye,Yt)}(this.routeReuseStrategy,Mi.targetSnapshot,Mi.currentRouterState);return Gu(Er({},Mi),{targetRouterState:In})}),(0,T.b)(Mi=>{this.currentUrlTree=Mi.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Mi.urlAfterRedirects,Mi.rawUrl),this.routerState=Mi.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Mi.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Mi),this.browserUrlTree=Mi.urlAfterRedirects)}),((oe,Yt,Ft)=>(0,Et.U)(ye=>(new Ph(Yt,ye.targetRouterState,ye.currentRouterState,Ft).activate(oe),ye)))(this.rootContexts,this.routeReuseStrategy,Mi=>this.triggerEvent(Mi)),(0,T.b)({next(){Xe=!0},complete(){Xe=!0}}),(0,C.x)(()=>{var Mi;Xe||Di||this.cancelNavigationTransition(Me,`Navigation ID ${Me.id} is not equal to the current navigation id ${this.navigationId}`),(null==(Mi=this.currentNavigation)?void 0:Mi.id)===Me.id&&(this.currentNavigation=null)}),(0,g.K)(Mi=>{if(Di=!0,function(oe){return oe&&oe[Ge]}(Mi)){const In=or(Mi.url);In||(this.navigated=!0,this.restoreHistory(Me,!0));const Nr=new st(Me.id,this.serializeUrl(Me.extractedUrl),Mi.message);ye.next(Nr),In?setTimeout(()=>{const ts=this.urlHandlingStrategy.merge(Mi.url,this.rawUrlTree),Xr={skipLocationChange:Me.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||na(Me.source)};this.scheduleNavigation(ts,"imperative",null,Xr,{resolve:Me.resolve,reject:Me.reject,promise:Me.promise})},0):Me.resolve(!1)}else{this.restoreHistory(Me,!0);const In=new Mt(Me.id,this.serializeUrl(Me.extractedUrl),Mi);ye.next(In);try{Me.resolve(this.errorHandler(Mi))}catch(Nr){Me.reject(Nr)}}return Y.E}))}))}resetRootComponentType(Ft){this.rootComponentType=Ft,this.routerState.root.component=this.rootComponentType}setTransition(Ft){this.transitions.next(Er(Er({},this.transitions.value),Ft))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(Ft=>{const ye="popstate"===Ft.type?"popstate":"hashchange";"popstate"===ye&&setTimeout(()=>{var Mi;const Me={replaceUrl:!0},Xe=(null==(Mi=Ft.state)?void 0:Mi.navigationId)?Ft.state:null;if(Xe){const In=Er({},Xe);delete In.navigationId,delete In.\u0275routerPageId,0!==Object.keys(In).length&&(Me.state=In)}const Di=this.parseUrl(Ft.url);this.scheduleNavigation(Di,ye,Xe,Me)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(Ft){this.events.next(Ft)}resetConfig(Ft){_i(Ft),this.config=Ft.map(Be),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(Ft,ye={}){const{relativeTo:Me,queryParams:Xe,fragment:Di,queryParamsHandling:Mi,preserveFragment:In}=ye,Nr=Me||this.routerState.root,ts=In?this.currentUrlTree.fragment:Di;let Xr=null;switch(Mi){case"merge":Xr=Er(Er({},this.currentUrlTree.queryParams),Xe);break;case"preserve":Xr=this.currentUrlTree.queryParams;break;default:Xr=Xe||null}return null!==Xr&&(Xr=this.removeEmptyProps(Xr)),function(oe,Yt,Ft,ye,Me){if(0===Ft.length)return zs(Yt.root,Yt.root,Yt,ye,Me);const Xe=function(oe){if("string"==typeof oe[0]&&1===oe.length&&"/"===oe[0])return new kh(!0,0,oe);let Yt=0,Ft=!1;const ye=oe.reduce((Me,Xe,Di)=>{if("object"==typeof Xe&&null!=Xe){if(Xe.outlets){const Mi={};return ke(Xe.outlets,(In,Nr)=>{Mi[Nr]="string"==typeof In?In.split("/"):In}),[...Me,{outlets:Mi}]}if(Xe.segmentPath)return[...Me,Xe.segmentPath]}return"string"!=typeof Xe?[...Me,Xe]:0===Di?(Xe.split("/").forEach((Mi,In)=>{0==In&&"."===Mi||(0==In&&""===Mi?Ft=!0:".."===Mi?Yt++:""!=Mi&&Me.push(Mi))}),Me):[...Me,Xe]},[]);return new kh(Ft,Yt,ye)}(Ft);if(Xe.toRoot())return zs(Yt.root,new qe([],{}),Yt,ye,Me);const Di=function(oe,Yt,Ft){if(oe.isAbsolute)return new Xl(Yt.root,!0,0);if(-1===Ft.snapshot._lastPathIndex){const Xe=Ft.snapshot._urlSegment;return new Xl(Xe,Xe===Yt.root,0)}const ye=Qr(oe.commands[0])?0:1;return function(oe,Yt,Ft){let ye=oe,Me=Yt,Xe=Ft;for(;Xe>Me;){if(Xe-=Me,ye=ye.parent,!ye)throw new Error("Invalid number of '../'");Me=ye.segments.length}return new Xl(ye,!1,Me-Xe)}(Ft.snapshot._urlSegment,Ft.snapshot._lastPathIndex+ye,oe.numberOfDoubleDots)}(Xe,Yt,oe),Mi=Di.processChildren?Zl(Di.segmentGroup,Di.index,Xe.commands):ia(Di.segmentGroup,Di.index,Xe.commands);return zs(Di.segmentGroup,Mi,Yt,ye,Me)}(Nr,this.currentUrlTree,Ft,Xr,null!=ts?ts:null)}navigateByUrl(Ft,ye={skipLocationChange:!1}){const Me=or(Ft)?Ft:this.parseUrl(Ft),Xe=this.urlHandlingStrategy.merge(Me,this.rawUrlTree);return this.scheduleNavigation(Xe,"imperative",null,ye)}navigate(Ft,ye={skipLocationChange:!1}){return function(oe){for(let Yt=0;Yt<oe.length;Yt++){const Ft=oe[Yt];if(null==Ft)throw new Error(`The requested path contains ${Ft} segment at index ${Yt}`)}}(Ft),this.navigateByUrl(this.createUrlTree(Ft,ye),ye)}serializeUrl(Ft){return this.urlSerializer.serialize(Ft)}parseUrl(Ft){let ye;try{ye=this.urlSerializer.parse(Ft)}catch(Me){ye=this.malformedUriErrorHandler(Me,this.urlSerializer,Ft)}return ye}isActive(Ft,ye){let Me;if(Me=!0===ye?Er({},Ir):!1===ye?Er({},ao):ye,or(Ft))return wi(this.currentUrlTree,Ft,Me);const Xe=this.parseUrl(Ft);return wi(this.currentUrlTree,Xe,Me)}removeEmptyProps(Ft){return Object.keys(Ft).reduce((ye,Me)=>{const Xe=Ft[Me];return null!=Xe&&(ye[Me]=Xe),ye},{})}processNavigations(){this.navigations.subscribe(Ft=>{this.navigated=!0,this.lastSuccessfulId=Ft.id,this.currentPageId=Ft.targetPageId,this.events.next(new at(Ft.id,this.serializeUrl(Ft.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,Ft.resolve(!0)},Ft=>{this.console.warn(`Unhandled Navigation Error: ${Ft}`)})}scheduleNavigation(Ft,ye,Me,Xe,Di){var gu,mh,gh;if(this.disposed)return Promise.resolve(!1);const Mi=this.transitions.value,In=na(ye)&&Mi&&!na(Mi.source),Nr=Mi.rawUrl.toString()===Ft.toString(),ts=Mi.id===(null==(gu=this.currentNavigation)?void 0:gu.id);if(In&&Nr&&ts)return Promise.resolve(!0);let So,Vo,mu;Di?(So=Di.resolve,Vo=Di.reject,mu=Di.promise):mu=new Promise((Rh,Tc)=>{So=Rh,Vo=Tc});const ph=++this.navigationId;let Rl;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(Me=this.location.getState()),Rl=Me&&Me.\u0275routerPageId?Me.\u0275routerPageId:Xe.replaceUrl||Xe.skipLocationChange?null!=(mh=this.browserPageId)?mh:0:(null!=(gh=this.browserPageId)?gh:0)+1):Rl=0,this.setTransition({id:ph,targetPageId:Rl,source:ye,restoredState:Me,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:Ft,extras:Xe,resolve:So,reject:Vo,promise:mu,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),mu.catch(Rh=>Promise.reject(Rh))}setBrowserUrl(Ft,ye){const Me=this.urlSerializer.serialize(Ft),Xe=Er(Er({},ye.extras.state),this.generateNgRouterState(ye.id,ye.targetPageId));this.location.isCurrentPathEqualTo(Me)||ye.extras.replaceUrl?this.location.replaceState(Me,"",Xe):this.location.go(Me,"",Xe)}restoreHistory(Ft,ye=!1){var Me,Xe;if("computed"===this.canceledNavigationResolution){const Di=this.currentPageId-Ft.targetPageId;"popstate"!==Ft.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(Me=this.currentNavigation)?void 0:Me.finalUrl)||0===Di?this.currentUrlTree===(null==(Xe=this.currentNavigation)?void 0:Xe.finalUrl)&&0===Di&&(this.resetState(Ft),this.browserUrlTree=Ft.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Di)}else"replace"===this.canceledNavigationResolution&&(ye&&this.resetState(Ft),this.resetUrlToCurrentUrlTree())}resetState(Ft){this.routerState=Ft.currentRouterState,this.currentUrlTree=Ft.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,Ft.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(Ft,ye){const Me=new st(Ft.id,this.serializeUrl(Ft.extractedUrl),ye);this.triggerEvent(Me),Ft.resolve(!1)}generateNgRouterState(Ft,ye){return"computed"===this.canceledNavigationResolution?{navigationId:Ft,\u0275routerPageId:ye}:{navigationId:Ft}}}return oe.\u0275fac=function(Ft){f.$Z()},oe.\u0275prov=f.Yz7({token:oe,factory:oe.\u0275fac}),oe})();function na(oe){return"imperative"!==oe}class oa{}class Ua{preload(Yt,Ft){return(0,H.of)(null)}}let Ru=(()=>{class oe{constructor(Ft,ye,Me,Xe){this.router=Ft,this.injector=Me,this.preloadingStrategy=Xe,this.loader=new bo(Me,ye,In=>Ft.triggerEvent(new ve(In)),In=>Ft.triggerEvent(new Gt(In)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,ot.h)(Ft=>Ft instanceof at),(0,p.b)(()=>this.preload())).subscribe(()=>{})}preload(){const Ft=this.injector.get(f.h0i);return this.processRoutes(Ft,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Ft,ye){const Me=[];for(const Xe of ye)if(Xe.loadChildren&&!Xe.canLoad&&Xe._loadedConfig){const Di=Xe._loadedConfig;Me.push(this.processRoutes(Di.module,Di.routes))}else Xe.loadChildren&&!Xe.canLoad?Me.push(this.preloadConfig(Ft,Xe)):Xe.children&&Me.push(this.processRoutes(Ft,Xe.children));return(0,Z.D)(Me).pipe((0,h.J)(),(0,Et.U)(Xe=>{}))}preloadConfig(Ft,ye){return this.preloadingStrategy.preload(ye,()=>(ye._loadedConfig?(0,H.of)(ye._loadedConfig):this.loader.load(Ft.injector,ye)).pipe((0,S.z)(Xe=>(ye._loadedConfig=Xe,this.processRoutes(Xe.module,Xe.routes)))))}}return oe.\u0275fac=function(Ft){return new(Ft||oe)(f.LFG(kr),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(oa))},oe.\u0275prov=f.Yz7({token:oe,factory:oe.\u0275fac}),oe})(),Od=(()=>{class oe{constructor(Ft,ye,Me={}){this.router=Ft,this.viewportScroller=ye,this.options=Me,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Me.scrollPositionRestoration=Me.scrollPositionRestoration||"disabled",Me.anchorScrolling=Me.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(Ft=>{Ft instanceof ft?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Ft.navigationTrigger,this.restoredId=Ft.restoredState?Ft.restoredState.navigationId:0):Ft instanceof at&&(this.lastId=Ft.id,this.scheduleScrollEvent(Ft,this.router.parseUrl(Ft.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(Ft=>{Ft instanceof Ne&&(Ft.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Ft.position):Ft.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Ft.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(Ft,ye){this.router.triggerEvent(new Ne(Ft,"popstate"===this.lastSource?this.store[this.restoredId]:null,ye))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return oe.\u0275fac=function(Ft){f.$Z()},oe.\u0275prov=f.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const Ol=new f.OlP("ROUTER_CONFIGURATION"),Oh=new f.OlP("ROUTER_FORROOT_GUARD"),ff=[ct.Ye,{provide:Ut,useClass:xe},{provide:kr,useFactory:function(oe,Yt,Ft,ye,Me,Xe,Di={},Mi,In){const Nr=new kr(null,oe,Yt,Ft,ye,Me,yt(Xe));return Mi&&(Nr.urlHandlingStrategy=Mi),In&&(Nr.routeReuseStrategy=In),function(oe,Yt){oe.errorHandler&&(Yt.errorHandler=oe.errorHandler),oe.malformedUriErrorHandler&&(Yt.malformedUriErrorHandler=oe.malformedUriErrorHandler),oe.onSameUrlNavigation&&(Yt.onSameUrlNavigation=oe.onSameUrlNavigation),oe.paramsInheritanceStrategy&&(Yt.paramsInheritanceStrategy=oe.paramsInheritanceStrategy),oe.relativeLinkResolution&&(Yt.relativeLinkResolution=oe.relativeLinkResolution),oe.urlUpdateStrategy&&(Yt.urlUpdateStrategy=oe.urlUpdateStrategy),oe.canceledNavigationResolution&&(Yt.canceledNavigationResolution=oe.canceledNavigationResolution)}(Di,Nr),Di.enableTracing&&Nr.events.subscribe(ts=>{var Xr,So;null==(Xr=console.group)||Xr.call(console,`Router Event: ${ts.constructor.name}`),console.log(ts.toString()),console.log(ts),null==(So=console.groupEnd)||So.call(console)}),Nr},deps:[Ut,ml,ct.Ye,f.zs3,f.Sil,_s,Ol,[class{},new f.FiY],[class{},new f.FiY]]},ml,{provide:Vr,useFactory:function(oe){return oe.routerState.root},deps:[kr]},Ru,Ua,class{preload(Yt,Ft){return Ft().pipe((0,g.K)(()=>(0,H.of)(null)))}},{provide:Ol,useValue:{enableTracing:!1}}];function ic(){return new f.PXZ("Router",kr)}let Id=(()=>{class oe{constructor(Ft,ye){}static forRoot(Ft,ye){return{ngModule:oe,providers:[ff,du(Ft),{provide:Oh,useFactory:Pp,deps:[[kr,new f.FiY,new f.tp0]]},{provide:Ol,useValue:ye||{}},{provide:ct.S$,useFactory:Rd,deps:[ct.lw,[new f.tBr(ct.mr),new f.FiY],Ol]},{provide:Od,useFactory:po,deps:[kr,ct.EM,Ol]},{provide:oa,useExisting:ye&&ye.preloadingStrategy?ye.preloadingStrategy:Ua},{provide:f.PXZ,multi:!0,useFactory:ic},[Ih,{provide:f.ip1,multi:!0,useFactory:F0,deps:[Ih]},{provide:dh,useFactory:pu,deps:[Ih]},{provide:f.tb,multi:!0,useExisting:dh}]]}}static forChild(Ft){return{ngModule:oe,providers:[du(Ft)]}}}return oe.\u0275fac=function(Ft){return new(Ft||oe)(f.LFG(Oh,8),f.LFG(kr,8))},oe.\u0275mod=f.oAB({type:oe}),oe.\u0275inj=f.cJS({}),oe})();function po(oe,Yt,Ft){return Ft.scrollOffset&&Yt.setOffset(Ft.scrollOffset),new Od(oe,Yt,Ft)}function Rd(oe,Yt,Ft={}){return Ft.useHash?new ct.Do(oe,Yt):new ct.b0(oe,Yt)}function Pp(oe){return"guarded"}function du(oe){return[{provide:f.deG,multi:!0,useValue:oe},{provide:_s,multi:!0,useValue:oe}]}let Ih=(()=>{class oe{constructor(Ft){this.injector=Ft,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new q.x}appInitializer(){return this.injector.get(ct.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let ye=null;const Me=new Promise(Mi=>ye=Mi),Xe=this.injector.get(kr),Di=this.injector.get(Ol);return"disabled"===Di.initialNavigation?(Xe.setUpLocationChangeListener(),ye(!0)):"enabled"===Di.initialNavigation||"enabledBlocking"===Di.initialNavigation?(Xe.hooks.afterPreactivation=()=>this.initNavigation?(0,H.of)(null):(this.initNavigation=!0,ye(!0),this.resultOfPreactivationDone),Xe.initialNavigation()):ye(!0),Me})}bootstrapListener(Ft){const ye=this.injector.get(Ol),Me=this.injector.get(Ru),Xe=this.injector.get(Od),Di=this.injector.get(kr),Mi=this.injector.get(f.z2F);Ft===Mi.components[0]&&(("enabledNonBlocking"===ye.initialNavigation||void 0===ye.initialNavigation)&&Di.initialNavigation(),Me.setUpPreloading(),Xe.init(),Di.resetRootComponentType(Mi.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return oe.\u0275fac=function(Ft){return new(Ft||oe)(f.LFG(f.zs3))},oe.\u0275prov=f.Yz7({token:oe,factory:oe.\u0275fac}),oe})();function F0(oe){return oe.appInitializer.bind(oe)}function pu(oe){return oe.bootstrapListener.bind(oe)}const dh=new f.OlP("Router Initializer")},8239:(Ee,Q,ut)=>{"use strict";function ct(J,tt,b,W,G,rt,Z){try{var H=J[rt](Z),F=H.value}catch(et){return void b(et)}H.done?tt(F):Promise.resolve(F).then(W,G)}function f(J){return function(){var tt=this,b=arguments;return new Promise(function(W,G){var rt=J.apply(tt,b);function Z(F){ct(rt,W,G,Z,H,"next",F)}function H(F){ct(rt,W,G,Z,H,"throw",F)}Z(void 0)})}}ut.d(Q,{Z:()=>f})},4946:Ee=>{"use strict";Ee.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},5207:Ee=>{"use strict";Ee.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},1308:Ee=>{"use strict";Ee.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},9799:Ee=>{"use strict";Ee.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},8597:Ee=>{"use strict";Ee.exports={i8:"6.5.4"}},2562:Ee=>{"use strict";Ee.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},Ee=>{Ee(Ee.s=2448)}]);